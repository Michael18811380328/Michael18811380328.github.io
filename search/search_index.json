{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u5199\u5728\u524d\u9762 \u00b6 \u8fd9\u91cc\u662f\u603b\u7ed3\u7684 web\u5f00\u53d1 \u76f8\u5173\u5f52\u6863\u5b66\u4e60\u8d44\u6599\uff0c\u540c\u65f6\u4e5f\u662f\u81ea\u5df1\u5e73\u65f6\u5de5\u4f5c\u4e2d\u7684\u603b\u7ed3\u3002 \u6b22\u8fce\u5927\u5bb6\u63d0\u4ea4 PR \u6216\u8005 issue\u3002\u559c\u6b22\u7684\u670b\u53cb\u53ef\u4ee5 star \uff0c\u4f60\u4eec\u7684\u70b9\u8d5e\u662f\u6211\u6301\u7eed\u66f4\u65b0\u7684\u52a8\u529b\uff0c\u54c8\u54c8\uff01 \u7f51\u7ad9\u6539\u7248\u8bd5\u8fd0\u884c\u4e2d\uff08\u6240\u4ee5\u6709\u4e0d\u5c11 todos\uff0c\u9700\u8981\u540e\u9762\u4e0d\u65ad\u5b8c\u5584\uff09 \u5173\u4e8e\u6211 \u00b6 2016\u5e74\u672c\u79d1\u6bd5\u4e1a\uff0c\u73b0\u5728\u662f Seafile Ltd \u7684\u524d\u7aef\u5f00\u53d1\u5de5\u7a0b\u5e08\uff0cemail: 1822852997@qq.com . \u672c\u4eba\u5076\u5c14\u4e5f\u4f1a\u5199\u5199\u535a\u5ba2\uff0c\u5982\u679c\u6709\u559c\u6b22\u73a9\u535a\u5ba2\u7684\u670b\u53cb\u4e5f\u53ef\u4ee5\u4e00\u8d77\u5206\u4eab\u4ea4\u6d41\uff0c\u5206\u4eab\u4e5f\u662f\u4e00\u79cd\u5b66\u4e60\uff01 github CSDN stackoverflow \u5176\u4ed6\u9879\u76ee \u00b6 \u6211\u7684\u5176\u4ed6\u9879\u76ee\u8fd8\u5728 coding \u4e2d\uff0c\u57fa\u672c\u6210\u578b\u540e\u6211\u4f1a\u9010\u6b65\u5f00\u6e90\u3002 \u5c0f\u6e38\u620f\u5f00\u53d1 Javasccript Java Python Typescript VUE Go \u535a\u5ba2\u6784\u5efa \u00b6 \u535a\u5ba2\u5f00\u53d1\u6587\u6863 mkdocs.org \u5e38\u7528\u547d\u4ee4 \u00b6 mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site.","title":"\u5199\u5728\u524d\u9762"},{"location":"#_1","text":"\u8fd9\u91cc\u662f\u603b\u7ed3\u7684 web\u5f00\u53d1 \u76f8\u5173\u5f52\u6863\u5b66\u4e60\u8d44\u6599\uff0c\u540c\u65f6\u4e5f\u662f\u81ea\u5df1\u5e73\u65f6\u5de5\u4f5c\u4e2d\u7684\u603b\u7ed3\u3002 \u6b22\u8fce\u5927\u5bb6\u63d0\u4ea4 PR \u6216\u8005 issue\u3002\u559c\u6b22\u7684\u670b\u53cb\u53ef\u4ee5 star \uff0c\u4f60\u4eec\u7684\u70b9\u8d5e\u662f\u6211\u6301\u7eed\u66f4\u65b0\u7684\u52a8\u529b\uff0c\u54c8\u54c8\uff01 \u7f51\u7ad9\u6539\u7248\u8bd5\u8fd0\u884c\u4e2d\uff08\u6240\u4ee5\u6709\u4e0d\u5c11 todos\uff0c\u9700\u8981\u540e\u9762\u4e0d\u65ad\u5b8c\u5584\uff09","title":"\u5199\u5728\u524d\u9762"},{"location":"#_2","text":"2016\u5e74\u672c\u79d1\u6bd5\u4e1a\uff0c\u73b0\u5728\u662f Seafile Ltd \u7684\u524d\u7aef\u5f00\u53d1\u5de5\u7a0b\u5e08\uff0cemail: 1822852997@qq.com . \u672c\u4eba\u5076\u5c14\u4e5f\u4f1a\u5199\u5199\u535a\u5ba2\uff0c\u5982\u679c\u6709\u559c\u6b22\u73a9\u535a\u5ba2\u7684\u670b\u53cb\u4e5f\u53ef\u4ee5\u4e00\u8d77\u5206\u4eab\u4ea4\u6d41\uff0c\u5206\u4eab\u4e5f\u662f\u4e00\u79cd\u5b66\u4e60\uff01 github CSDN stackoverflow","title":"\u5173\u4e8e\u6211"},{"location":"#_3","text":"\u6211\u7684\u5176\u4ed6\u9879\u76ee\u8fd8\u5728 coding \u4e2d\uff0c\u57fa\u672c\u6210\u578b\u540e\u6211\u4f1a\u9010\u6b65\u5f00\u6e90\u3002 \u5c0f\u6e38\u620f\u5f00\u53d1 Javasccript Java Python Typescript VUE Go","title":"\u5176\u4ed6\u9879\u76ee"},{"location":"#_4","text":"\u535a\u5ba2\u5f00\u53d1\u6587\u6863 mkdocs.org","title":"\u535a\u5ba2\u6784\u5efa"},{"location":"#_5","text":"mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site.","title":"\u5e38\u7528\u547d\u4ee4"},{"location":"SQL/Mac%20pip%20install%20mysql-python%20unsuccessful/","text":"Mac pip install mysql-python \u00b6 Mac pip install mysql-python unsuccessfulI nstalled MySQL and Workbench from website. I have a django project whose requirements.txt: Django==1.11.12 djangorestframework==3.8.2 django-cors-headers==2.2.0 drfdocs==0.0.11 mysql-python==1.2.5 django-rest-auth==0.9.3 django-allauth==0.35.0 nltk==3.2.5 django-extensions==2.0.7 pyparsing==2.2.0 pydot==1.2.4 When I run pip install -r requirements.txt I got an error mysql_config not found . To solve this I ran PATH=$PATH:/usr/local/mysql/bin It now throws _mysql.c:44:10: fatal error: 'my_config.h' file not found #include \"my_config.h\" ^~~~~~~~~~~~~ 1 error generated. error: command 'cc' failed with exit status 1 ---------------------------------------- Command \"\"/Users/nitish/gitProjects/Vision Backlog/vb_env/bin/python\" -u -c \"import setuptools, tokenize;__file__='/private/var/folders/ql/_w2_rlvs2351pdcnzhn04sf40000gn/T/pip-install-M4ue9E/mysql-python/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /private/var/folders/ql/_w2_rlvs2351pdcnzhn04sf40000gn/T/pip-record-7OCzf1/install-record.txt --single-version-externally-managed --compile --install-headers \"/Users/nitish/gitProjects/Vision Backlog/vb_env/include/site/python2.7/mysql-python\"\" failed with error code 1 in /private/var/folders/ql/_w2_rlvs2351pdcnzhn04sf40000gn/T/pip-install-M4ue9E/mysql-python/ Why is this happening? UPDATE: following bellow solution threw: Collecting MySQL-python Using cached https://files.pythonhosted.org/packages/a5/e9/51b544da85a36a68debe7a7091f068d802fc515a3a202652828c73453cad/MySQL-python-1.2.5.zip Complete output from command python setup.py egg_info: Traceback (most recent call last): File \"<string>\", line 1, in <module> File \"/private/var/folders/ql/_w2_rlvs2351pdcnzhn04sf40000gn/T/pip-install-X6b4rU/MySQL-python/setup.py\", line 17, in <module> metadata, options = get_config() File \"setup_posix.py\", line 53, in get_config libraries = [ dequote(i[2:]) for i in libs if i.startswith(compiler_flag(\"l\")) ] File \"setup_posix.py\", line 8, in dequote if s[0] in \"\\\"'\" and s[0] == s[-1]: IndexError: string index out of range \u7b2c\u4e00\u79cd Please, try: CFLAGS=-Qunused-arguments CPPFLAGS=-Qunused-arguments pip install -r requirements.txt If it does not work: First install mysql-connector-c brew install mysql-connector-c pip install MySQL-python If you are using Windows: https://dev.mysql.com/downloads/connector/c/ You can also check what happend when you try install it with pip3. UPDATE: If you have Linux: Please open the /usr/local/bin/mysql_config . And then: #Create options Libs = \"-L $ pkglibdir \" Libs = \" $ libs -l\" replace with: #Create options Libs = \"- L $ pkglibdir\" Libs = \"$ libs -lmysqlclient -lssl -lcrypto\" Save it and reinstall mysql-python . pip uninstall mysql-python pip install mysql-python For Mac: LDFLAGS=-L/usr/local/opt/openssl/lib pip install mysql-python should be helpful. \u7b2c\u4e8c\u79cd 26 Installing of an older version of the MySQL worked for me: brew remove mysql brew install mysql@5.7 brew link --force mysql@5.7 pip install mysql-python See: issue on the MySQLdb1 Github and this sof answer","title":"Mac pip install mysql-python unsuccessful"},{"location":"SQL/Mac%20pip%20install%20mysql-python%20unsuccessful/#mac-pip-install-mysql-python","text":"Mac pip install mysql-python unsuccessfulI nstalled MySQL and Workbench from website. I have a django project whose requirements.txt: Django==1.11.12 djangorestframework==3.8.2 django-cors-headers==2.2.0 drfdocs==0.0.11 mysql-python==1.2.5 django-rest-auth==0.9.3 django-allauth==0.35.0 nltk==3.2.5 django-extensions==2.0.7 pyparsing==2.2.0 pydot==1.2.4 When I run pip install -r requirements.txt I got an error mysql_config not found . To solve this I ran PATH=$PATH:/usr/local/mysql/bin It now throws _mysql.c:44:10: fatal error: 'my_config.h' file not found #include \"my_config.h\" ^~~~~~~~~~~~~ 1 error generated. error: command 'cc' failed with exit status 1 ---------------------------------------- Command \"\"/Users/nitish/gitProjects/Vision Backlog/vb_env/bin/python\" -u -c \"import setuptools, tokenize;__file__='/private/var/folders/ql/_w2_rlvs2351pdcnzhn04sf40000gn/T/pip-install-M4ue9E/mysql-python/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /private/var/folders/ql/_w2_rlvs2351pdcnzhn04sf40000gn/T/pip-record-7OCzf1/install-record.txt --single-version-externally-managed --compile --install-headers \"/Users/nitish/gitProjects/Vision Backlog/vb_env/include/site/python2.7/mysql-python\"\" failed with error code 1 in /private/var/folders/ql/_w2_rlvs2351pdcnzhn04sf40000gn/T/pip-install-M4ue9E/mysql-python/ Why is this happening? UPDATE: following bellow solution threw: Collecting MySQL-python Using cached https://files.pythonhosted.org/packages/a5/e9/51b544da85a36a68debe7a7091f068d802fc515a3a202652828c73453cad/MySQL-python-1.2.5.zip Complete output from command python setup.py egg_info: Traceback (most recent call last): File \"<string>\", line 1, in <module> File \"/private/var/folders/ql/_w2_rlvs2351pdcnzhn04sf40000gn/T/pip-install-X6b4rU/MySQL-python/setup.py\", line 17, in <module> metadata, options = get_config() File \"setup_posix.py\", line 53, in get_config libraries = [ dequote(i[2:]) for i in libs if i.startswith(compiler_flag(\"l\")) ] File \"setup_posix.py\", line 8, in dequote if s[0] in \"\\\"'\" and s[0] == s[-1]: IndexError: string index out of range \u7b2c\u4e00\u79cd Please, try: CFLAGS=-Qunused-arguments CPPFLAGS=-Qunused-arguments pip install -r requirements.txt If it does not work: First install mysql-connector-c brew install mysql-connector-c pip install MySQL-python If you are using Windows: https://dev.mysql.com/downloads/connector/c/ You can also check what happend when you try install it with pip3. UPDATE: If you have Linux: Please open the /usr/local/bin/mysql_config . And then: #Create options Libs = \"-L $ pkglibdir \" Libs = \" $ libs -l\" replace with: #Create options Libs = \"- L $ pkglibdir\" Libs = \"$ libs -lmysqlclient -lssl -lcrypto\" Save it and reinstall mysql-python . pip uninstall mysql-python pip install mysql-python For Mac: LDFLAGS=-L/usr/local/opt/openssl/lib pip install mysql-python should be helpful. \u7b2c\u4e8c\u79cd 26 Installing of an older version of the MySQL worked for me: brew remove mysql brew install mysql@5.7 brew link --force mysql@5.7 pip install mysql-python See: issue on the MySQLdb1 Github and this sof answer","title":"Mac pip install mysql-python"},{"location":"SQL/Mac%E5%AE%89%E8%A3%85MySQLdb%EF%BC%88python-mysql%EF%BC%89%E6%A8%A1%E5%9D%97/","text":"Mac\u5b89\u88c5MySQLdb\uff08python-mysql\uff09\u6a21\u5757 \u00b6 \u524d\u9762 \u00b6 Python\u5199\u7684\u9879\u76ee\u9700\u8981\u8fde\u63a5MySQL\u6570\u636e\u5e93\uff0c\u6240\u4ee5\u672c\u5730\u9700\u8981\u5b89\u88c5MySQLdb\u6a21\u5757\uff0c\u4f46\u662f\u5728\u5b89\u88c5\u7684\u8fc7\u7a0b\u4e2d\u4e5f\u662f\u9047\u5230\u4e86\u4e00\u4e9b\u95ee\u9898\uff0c\u5728\u8fd9\u91cc\u8bb0\u5f55\u4e00\u4e0b\uff0c\u4e0d\u5f97\u4e0d\u8bf4\uff0c\u7b80\u4e66\u7684Markdown\u7f16\u8f91\u5668\u7528\u7740\u592a\u723d\u4e86\uff0c\u7528\u4e86\u5f88\u4e45\uff0c\u8fd8\u662f\u559c\u6b22\u8fd9\u79cd\u7b80\u6d01\u7b80\u5355\u7684\u4e1c\u897f\uff0c\u8ba9\u4f60\u66f4\u5173\u6ce8\u5185\u5bb9\uff0c\u800c\u4e0d\u662f\u5176\u5b83\u3002 \u64cd\u4f5c\u7cfb\u7edf\uff1aMacOS 10.12.5 Python\u7248\u672c\uff1a2.7.10 pip\uff1a 9.0.1 \u5f00\u59cb\u5427 \u00b6 \u4e00\u822c\u7684\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u4e86\u8fde\u63a5MySQL\u7684\u4ee3\u7801\uff0c\u6216\u8005\u4f9d\u8d56\u4e8eMySQLdb\u7c7b\u5e93\u7684\u7c7b\u5e93\uff0c\u5c31\u4f1a\u770b\u5230\u8fd9\u4e2a\uff1a ImportError: No module named MySQLdb \uff0c\u63d0\u793a\u627e\u4e0d\u5230\u6a21\u5757\u3002 \u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5c31\u9700\u8981\u5b89\u88c5\u5bf9\u5e94\u7684 MySQL for Python \u4e86\uff0c\u4e5f\u5c31\u662f MySQL-python \uff0c\u5728\u7ec8\u7aef\u6267\u884c pip install MySQL-python \uff0c\u989d~\u524d\u63d0\u662f\u4f60\u5df2\u7ecf\u5b89\u88c5pip\u4e86\u554a\u3002 \u9047\u5230\u9519\u8bef \u00b6 \u5f53\u4f60\u6309\u4e0b\u56de\u8f66\u952e\u7684\u90a3\u4e00\u5239\u90a3\uff0c\u5c4f\u5e55\u4e0a\uff0c\u5c31\u51fa\u73b0\u4e86\u9519\u8bef\uff1a EnvironmentError: mysql_config not found \uff0c\u55ef\uff0c\u8fd9\u662f\u548b\u56de\u4e8b\uff0c\u7f51\u4e0a\u67e5\u67e5\u53bb\u3002\u3002\u3002 \u7c97\u7565\u770b\u4e86\u4e00\u4e0b\uff0c\u5927\u6982\u610f\u601d\u5c31\u662f\uff0c\u4f60\u8fd8\u9700\u8981\u5b89\u88c5\u4e00\u4e2aMySQL\uff0cWhat\uff1f\u6211\u5c31\u662f\u60f3\u8fde\u63a5\u4e00\u4e0b\u6570\u636e\u5e93\uff0c\u4e0d\u81f3\u4e8e\u8fd8\u8981\u4e0b\u4e00\u4e2a\u6570\u636e\u5e93\u5427\u3002\u4ed4\u7ec6\u770b\u4e86\u770b\u53c8\uff0c\u539f\u6765\u662f\u9700\u8981\u5b89\u88c5\u4e00\u4e2amysql\u5f00\u53d1\u5305\uff08\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u672c\u5730\u5b89\u88c5\u4e00\u4e2aMySQL\uff09\uff0c\u597d\u5427\uff0c\u6ca1\u529e\u6cd5\uff0c\u90a3\u518d\u6765\u3002 \u5728\u5b98\u7f51\u770b\u4e86\u4e0b\uff0c\u5e94\u8be5\u5c31\u662f\u8fd9\u4e2a\u8d27 \u624b\u52a8\u4e0b\u8f7d\u4e86dmg\u7248\u672c\u7684\uff0c\u6839\u636e\u63d0\u793a\u5b89\u88c5\u5b8c\u6bd5\uff0c\u7ec8\u7aef\u8fd0\u884c pip install MySQL-python \u53d1\u4e0b\u8fd8\u662f\u539f\u6765\u7684\u9519\u8bef\uff0c\u53c8\u53bb\u67e5\u4e86\u67e5\u8d44\u6599\uff0c\u5e94\u8be5\u662f\u5b89\u88c5\u7684mysql\u5e93\u6ca1\u6709\u52a0\u5165\u73af\u5883\u53d8\u91cf\uff0c\u73b0\u5728\u5c31\u662f\u8981\u627e\u5230\u6211\u521a\u624d\u5b89\u88c5\u7684mysql\u5230\u54ea\u4e2a\u76ee\u5f55\u4e86\u3002\u7ec8\u7aef\u7a97\u53e3\u6267\u884c find / -name mysql_config \uff0c\u7ed3\u679c\u4e2d\u6709\u4e00\u4e2a\uff1a/usr/local/mysql-connector-c-6.1.10-macos10.12-x86_64/bin/mysql_config \uff0c\u5e94\u8be5\u5c31\u662f\u5b83\u4e86\uff0c\u901a\u8fc7\uff1a export PATH=$PATH:/usr/local/mysql-connector-c-6.1.10-macos10.12-x86_64/bin/ \u52a0\u5165\u73af\u5883\u53d8\u91cf\u3002 \u518d\u6b21\u9519\u8bef \u00b6 \u518d\u6b21\u6267\u884c pip install MySQL-python \uff0c\u770b\u5230\u8f93\u51fa\u7684\u9519\u8bef\uff0c\u6211\u7b80\u76f4\u5d29\u6e83\u4e86\u3002 Collecting MySQL - python Using cached MySQL - python - 1 . 2 . 5 . zip Complete output from command python setup . py egg_info : Traceback ( most recent call last ): File \"<string>\" , line 1 , in < module > File \"/private/var/folders/d1/1lnf846x6p119488dvhnqj740000gn/T/pip-build-b16vZo/MySQL-python/setup.py\" , line 17 , in < module > metadata , options = get_config () File \"setup_posix.py\" , line 53 , in get_config libraries = [ dequote ( i [ 2 : ] ) for i in libs if i . startswith ( compiler_flag ( \"l\" )) ] File \"setup_posix.py\" , line 8 , in dequote if s [ 0 ] in \" \\\" '\" and s [ 0 ] == s [- 1 ] : IndexError : string index out of range ---------------------------------------- \u6362\u4e00\u79cd\u65b9\u5f0f \u00b6 \u8fd8\u80fd\u4e0d\u80fd\u6109\u5feb\u7684\u73a9\u800d\u4e86~ Google\u4e86\u4e00\u4e0b\uff0c\u6ca1\u6709\u89e3\u51b3\uff0c\u6211\u60f3\u6211\u8981\u6362\u4e00\u79cd\u65b9\u5f0f\u4e86\u3002 \u628a\u521a\u624d\u5b89\u88c5\u7684mysql\u5f00\u53d1\u5305\u5220\u6389\u3002 \u901a\u8fc7brew\u91cd\u65b0\u5b89\u88c5\u8bd5\u8bd5\u3002 # install brew ruby -e \" $( curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install ) \" \u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u53bbbrew\u5b98\u7f51\u770b\u770b\uff0c\u5c45\u7136\u6709\u4e2d\u6587\uff0c\u539a\u9053\uff1a https://brew.sh/index_zh-cn.html \u6000\u7591\u4eba\u751f/\u80dc\u5229\u5728\u671b \u00b6 \u8fd9\u4e00\u6b21\u76f4\u63a5 brew install mysql \uff0c\u7b49\u5f85\u5b89\u88c5\u5b8c\u6bd5\uff0c\u518d\u518d\u518d\u6267\u884c pip install MySQL-python \uff0c\u55ef~\u679c\u7136\u8fd8\u662f\u9519\u8bef\uff0c\u8fd9\u5c31\u662f\u4eba\u751f\u554a\u3002 3 warnings generated. cc -bundle -undefined dynamic_lookup -arch x86_64 -arch i386 -Wl,-F. build/temp.macosx-10.12-intel-2.7/_mysql.o -L/usr/local/Cellar/mysql/5.7.18_1/lib -lmysqlclient -lssl -lcrypto -o build/lib.macosx-10.12-intel-2.7/_mysql.so ld: library not found for -lssl clang: error: linker command failed with exit code 1 ( use -v to see invocation ) error: command 'cc' failed with exit status 1 \u5c31\u662f\u4e0a\u9762\u8fd9\u4e2a\u9519\u8bef\uff0c\u4e8e\u662f\u4e4e\uff0c\u6211\u53c8Google\uff0c\u53d1\u73b0\u4e86\uff1a https://stackoverflow.com/questions/22697440/cc-failed-with-exit-status-1-error-when-install-python-library \u5c31\u662f\u8fd9\u4e2a\u4eba\u89e3\u7b54\u7684\uff0c\u548c\u6211\u9047\u5230\u7684\u95ee\u9898\u4e00\u6837 \u7136\u540e\u6211\u901a\u8fc7\u5927\u795e\u7684\u6307\u793a\uff1a xcode-select --install \uff0c\u4f1a\u5f39\u51faxcode\u7684\u8f6f\u4ef6\u5b89\u88c5\u7a97\u53e3\uff0c\u7b49\u5f85\u51e0\u5206\u949f\uff0c\u5b89\u88c5\u5b8c\u6bd5\uff0c\u518d\u6b21\u6267\u884c\uff1a pip install MySQL-python \u3002 \u547c~\u6210\u529f\u4e86\u4f60\u76f8\u4fe1\u5417\uff1f Collecting MySQL-python Downloading MySQL-python-1.2.5.zip ( 108kB ) 100 % | \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 112kB 127kB/s Installing collected packages: MySQL-python Running setup.py install for MySQL-python ... done Successfully installed MySQL-python-1.2.5","title":"Mac\u5b89\u88c5MySQLdb\uff08python-mysql\uff09\u6a21\u5757"},{"location":"SQL/Mac%E5%AE%89%E8%A3%85MySQLdb%EF%BC%88python-mysql%EF%BC%89%E6%A8%A1%E5%9D%97/#macmysqldbpython-mysql","text":"","title":"Mac\u5b89\u88c5MySQLdb\uff08python-mysql\uff09\u6a21\u5757"},{"location":"SQL/Mac%E5%AE%89%E8%A3%85MySQLdb%EF%BC%88python-mysql%EF%BC%89%E6%A8%A1%E5%9D%97/#_1","text":"Python\u5199\u7684\u9879\u76ee\u9700\u8981\u8fde\u63a5MySQL\u6570\u636e\u5e93\uff0c\u6240\u4ee5\u672c\u5730\u9700\u8981\u5b89\u88c5MySQLdb\u6a21\u5757\uff0c\u4f46\u662f\u5728\u5b89\u88c5\u7684\u8fc7\u7a0b\u4e2d\u4e5f\u662f\u9047\u5230\u4e86\u4e00\u4e9b\u95ee\u9898\uff0c\u5728\u8fd9\u91cc\u8bb0\u5f55\u4e00\u4e0b\uff0c\u4e0d\u5f97\u4e0d\u8bf4\uff0c\u7b80\u4e66\u7684Markdown\u7f16\u8f91\u5668\u7528\u7740\u592a\u723d\u4e86\uff0c\u7528\u4e86\u5f88\u4e45\uff0c\u8fd8\u662f\u559c\u6b22\u8fd9\u79cd\u7b80\u6d01\u7b80\u5355\u7684\u4e1c\u897f\uff0c\u8ba9\u4f60\u66f4\u5173\u6ce8\u5185\u5bb9\uff0c\u800c\u4e0d\u662f\u5176\u5b83\u3002 \u64cd\u4f5c\u7cfb\u7edf\uff1aMacOS 10.12.5 Python\u7248\u672c\uff1a2.7.10 pip\uff1a 9.0.1","title":"\u524d\u9762"},{"location":"SQL/Mac%E5%AE%89%E8%A3%85MySQLdb%EF%BC%88python-mysql%EF%BC%89%E6%A8%A1%E5%9D%97/#_2","text":"\u4e00\u822c\u7684\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u4e86\u8fde\u63a5MySQL\u7684\u4ee3\u7801\uff0c\u6216\u8005\u4f9d\u8d56\u4e8eMySQLdb\u7c7b\u5e93\u7684\u7c7b\u5e93\uff0c\u5c31\u4f1a\u770b\u5230\u8fd9\u4e2a\uff1a ImportError: No module named MySQLdb \uff0c\u63d0\u793a\u627e\u4e0d\u5230\u6a21\u5757\u3002 \u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5c31\u9700\u8981\u5b89\u88c5\u5bf9\u5e94\u7684 MySQL for Python \u4e86\uff0c\u4e5f\u5c31\u662f MySQL-python \uff0c\u5728\u7ec8\u7aef\u6267\u884c pip install MySQL-python \uff0c\u989d~\u524d\u63d0\u662f\u4f60\u5df2\u7ecf\u5b89\u88c5pip\u4e86\u554a\u3002","title":"\u5f00\u59cb\u5427"},{"location":"SQL/Mac%E5%AE%89%E8%A3%85MySQLdb%EF%BC%88python-mysql%EF%BC%89%E6%A8%A1%E5%9D%97/#_3","text":"\u5f53\u4f60\u6309\u4e0b\u56de\u8f66\u952e\u7684\u90a3\u4e00\u5239\u90a3\uff0c\u5c4f\u5e55\u4e0a\uff0c\u5c31\u51fa\u73b0\u4e86\u9519\u8bef\uff1a EnvironmentError: mysql_config not found \uff0c\u55ef\uff0c\u8fd9\u662f\u548b\u56de\u4e8b\uff0c\u7f51\u4e0a\u67e5\u67e5\u53bb\u3002\u3002\u3002 \u7c97\u7565\u770b\u4e86\u4e00\u4e0b\uff0c\u5927\u6982\u610f\u601d\u5c31\u662f\uff0c\u4f60\u8fd8\u9700\u8981\u5b89\u88c5\u4e00\u4e2aMySQL\uff0cWhat\uff1f\u6211\u5c31\u662f\u60f3\u8fde\u63a5\u4e00\u4e0b\u6570\u636e\u5e93\uff0c\u4e0d\u81f3\u4e8e\u8fd8\u8981\u4e0b\u4e00\u4e2a\u6570\u636e\u5e93\u5427\u3002\u4ed4\u7ec6\u770b\u4e86\u770b\u53c8\uff0c\u539f\u6765\u662f\u9700\u8981\u5b89\u88c5\u4e00\u4e2amysql\u5f00\u53d1\u5305\uff08\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u672c\u5730\u5b89\u88c5\u4e00\u4e2aMySQL\uff09\uff0c\u597d\u5427\uff0c\u6ca1\u529e\u6cd5\uff0c\u90a3\u518d\u6765\u3002 \u5728\u5b98\u7f51\u770b\u4e86\u4e0b\uff0c\u5e94\u8be5\u5c31\u662f\u8fd9\u4e2a\u8d27 \u624b\u52a8\u4e0b\u8f7d\u4e86dmg\u7248\u672c\u7684\uff0c\u6839\u636e\u63d0\u793a\u5b89\u88c5\u5b8c\u6bd5\uff0c\u7ec8\u7aef\u8fd0\u884c pip install MySQL-python \u53d1\u4e0b\u8fd8\u662f\u539f\u6765\u7684\u9519\u8bef\uff0c\u53c8\u53bb\u67e5\u4e86\u67e5\u8d44\u6599\uff0c\u5e94\u8be5\u662f\u5b89\u88c5\u7684mysql\u5e93\u6ca1\u6709\u52a0\u5165\u73af\u5883\u53d8\u91cf\uff0c\u73b0\u5728\u5c31\u662f\u8981\u627e\u5230\u6211\u521a\u624d\u5b89\u88c5\u7684mysql\u5230\u54ea\u4e2a\u76ee\u5f55\u4e86\u3002\u7ec8\u7aef\u7a97\u53e3\u6267\u884c find / -name mysql_config \uff0c\u7ed3\u679c\u4e2d\u6709\u4e00\u4e2a\uff1a/usr/local/mysql-connector-c-6.1.10-macos10.12-x86_64/bin/mysql_config \uff0c\u5e94\u8be5\u5c31\u662f\u5b83\u4e86\uff0c\u901a\u8fc7\uff1a export PATH=$PATH:/usr/local/mysql-connector-c-6.1.10-macos10.12-x86_64/bin/ \u52a0\u5165\u73af\u5883\u53d8\u91cf\u3002","title":"\u9047\u5230\u9519\u8bef"},{"location":"SQL/Mac%E5%AE%89%E8%A3%85MySQLdb%EF%BC%88python-mysql%EF%BC%89%E6%A8%A1%E5%9D%97/#_4","text":"\u518d\u6b21\u6267\u884c pip install MySQL-python \uff0c\u770b\u5230\u8f93\u51fa\u7684\u9519\u8bef\uff0c\u6211\u7b80\u76f4\u5d29\u6e83\u4e86\u3002 Collecting MySQL - python Using cached MySQL - python - 1 . 2 . 5 . zip Complete output from command python setup . py egg_info : Traceback ( most recent call last ): File \"<string>\" , line 1 , in < module > File \"/private/var/folders/d1/1lnf846x6p119488dvhnqj740000gn/T/pip-build-b16vZo/MySQL-python/setup.py\" , line 17 , in < module > metadata , options = get_config () File \"setup_posix.py\" , line 53 , in get_config libraries = [ dequote ( i [ 2 : ] ) for i in libs if i . startswith ( compiler_flag ( \"l\" )) ] File \"setup_posix.py\" , line 8 , in dequote if s [ 0 ] in \" \\\" '\" and s [ 0 ] == s [- 1 ] : IndexError : string index out of range ----------------------------------------","title":"\u518d\u6b21\u9519\u8bef"},{"location":"SQL/Mac%E5%AE%89%E8%A3%85MySQLdb%EF%BC%88python-mysql%EF%BC%89%E6%A8%A1%E5%9D%97/#_5","text":"\u8fd8\u80fd\u4e0d\u80fd\u6109\u5feb\u7684\u73a9\u800d\u4e86~ Google\u4e86\u4e00\u4e0b\uff0c\u6ca1\u6709\u89e3\u51b3\uff0c\u6211\u60f3\u6211\u8981\u6362\u4e00\u79cd\u65b9\u5f0f\u4e86\u3002 \u628a\u521a\u624d\u5b89\u88c5\u7684mysql\u5f00\u53d1\u5305\u5220\u6389\u3002 \u901a\u8fc7brew\u91cd\u65b0\u5b89\u88c5\u8bd5\u8bd5\u3002 # install brew ruby -e \" $( curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install ) \" \u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u53bbbrew\u5b98\u7f51\u770b\u770b\uff0c\u5c45\u7136\u6709\u4e2d\u6587\uff0c\u539a\u9053\uff1a https://brew.sh/index_zh-cn.html","title":"\u6362\u4e00\u79cd\u65b9\u5f0f"},{"location":"SQL/Mac%E5%AE%89%E8%A3%85MySQLdb%EF%BC%88python-mysql%EF%BC%89%E6%A8%A1%E5%9D%97/#_6","text":"\u8fd9\u4e00\u6b21\u76f4\u63a5 brew install mysql \uff0c\u7b49\u5f85\u5b89\u88c5\u5b8c\u6bd5\uff0c\u518d\u518d\u518d\u6267\u884c pip install MySQL-python \uff0c\u55ef~\u679c\u7136\u8fd8\u662f\u9519\u8bef\uff0c\u8fd9\u5c31\u662f\u4eba\u751f\u554a\u3002 3 warnings generated. cc -bundle -undefined dynamic_lookup -arch x86_64 -arch i386 -Wl,-F. build/temp.macosx-10.12-intel-2.7/_mysql.o -L/usr/local/Cellar/mysql/5.7.18_1/lib -lmysqlclient -lssl -lcrypto -o build/lib.macosx-10.12-intel-2.7/_mysql.so ld: library not found for -lssl clang: error: linker command failed with exit code 1 ( use -v to see invocation ) error: command 'cc' failed with exit status 1 \u5c31\u662f\u4e0a\u9762\u8fd9\u4e2a\u9519\u8bef\uff0c\u4e8e\u662f\u4e4e\uff0c\u6211\u53c8Google\uff0c\u53d1\u73b0\u4e86\uff1a https://stackoverflow.com/questions/22697440/cc-failed-with-exit-status-1-error-when-install-python-library \u5c31\u662f\u8fd9\u4e2a\u4eba\u89e3\u7b54\u7684\uff0c\u548c\u6211\u9047\u5230\u7684\u95ee\u9898\u4e00\u6837 \u7136\u540e\u6211\u901a\u8fc7\u5927\u795e\u7684\u6307\u793a\uff1a xcode-select --install \uff0c\u4f1a\u5f39\u51faxcode\u7684\u8f6f\u4ef6\u5b89\u88c5\u7a97\u53e3\uff0c\u7b49\u5f85\u51e0\u5206\u949f\uff0c\u5b89\u88c5\u5b8c\u6bd5\uff0c\u518d\u6b21\u6267\u884c\uff1a pip install MySQL-python \u3002 \u547c~\u6210\u529f\u4e86\u4f60\u76f8\u4fe1\u5417\uff1f Collecting MySQL-python Downloading MySQL-python-1.2.5.zip ( 108kB ) 100 % | \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 112kB 127kB/s Installing collected packages: MySQL-python Running setup.py install for MySQL-python ... done Successfully installed MySQL-python-1.2.5","title":"\u6000\u7591\u4eba\u751f/\u80dc\u5229\u5728\u671b"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/","text":"Python \u64cd\u4f5c MySQL \u6570\u636e\u5e93 \u00b6 Python \u6807\u51c6\u6570\u636e\u5e93\u63a5\u53e3\u4e3a Python DB-API\uff0cPython DB-API\u4e3a\u5f00\u53d1\u4eba\u5458\u63d0\u4f9b\u4e86\u6570\u636e\u5e93\u5e94\u7528\u7f16\u7a0b\u63a5\u53e3\u3002 \u4e0d\u540c\u7684\u6570\u636e\u5e93\u4f60\u9700\u8981\u4e0b\u8f7d\u4e0d\u540c\u7684DB API\u6a21\u5757\uff0c\u4f8b\u5982\u4f60\u9700\u8981\u8bbf\u95eeOracle\u6570\u636e\u5e93\u548cMysql\u6570\u636e\uff0c\u4f60\u9700\u8981\u4e0b\u8f7dOracle\u548cMySQL\u6570\u636e\u5e93\u6a21\u5757\u3002DB-API \u662f\u4e00\u4e2a\u89c4\u8303. \u5b83\u5b9a\u4e49\u4e86\u4e00\u7cfb\u5217\u5fc5\u987b\u7684\u5bf9\u8c61\u548c\u6570\u636e\u5e93\u5b58\u53d6\u65b9\u5f0f, \u4ee5\u4fbf\u4e3a\u5404\u79cd\u5404\u6837\u7684\u5e95\u5c42\u6570\u636e\u5e93\u7cfb\u7edf\u548c\u591a\u79cd\u591a\u6837\u7684\u6570\u636e\u5e93\u63a5\u53e3\u7a0b\u5e8f\u63d0\u4f9b\u4e00\u81f4\u7684\u8bbf\u95ee\u63a5\u53e3 \u3002Python\u7684DB-API\uff0c\u4e3a\u5927\u591a\u6570\u7684\u6570\u636e\u5e93\u5b9e\u73b0\u4e86\u63a5\u53e3\uff0c\u4f7f\u7528\u5b83\u8fde\u63a5\u5404\u6570\u636e\u5e93\u540e\uff0c\u5c31\u53ef\u4ee5\u7528\u76f8\u540c\u7684\u65b9\u5f0f\u64cd\u4f5c\u5404\u6570\u636e\u5e93\u3002 Python DB-API\u4f7f\u7528\u6d41\u7a0b\uff1a \u5f15\u5165 API \u6a21\u5757\u3002 \u83b7\u53d6\u4e0e\u6570\u636e\u5e93\u7684\u8fde\u63a5\u3002 \u6267\u884cSQL\u8bed\u53e5\u548c\u5b58\u50a8\u8fc7\u7a0b\u3002 \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\u3002 \u4ec0\u4e48\u662fMySQLdb? \u00b6 MySQLdb \u662f\u7528\u4e8ePython\u94fe\u63a5Mysql\u6570\u636e\u5e93\u7684\u63a5\u53e3\uff0c\u5b83\u5b9e\u73b0\u4e86 Python \u6570\u636e\u5e93 API \u89c4\u8303 V2.0\uff0c\u57fa\u4e8e MySQL C API \u4e0a\u5efa\u7acb\u7684\u3002 \u5982\u4f55\u5b89\u88c5MySQLdb? \u00b6 \u4e3a\u4e86\u7528DB-API\u7f16\u5199MySQL\u811a\u672c\uff0c\u5fc5\u987b\u786e\u4fdd\u5df2\u7ecf\u5b89\u88c5\u4e86MySQL\u3002\u590d\u5236\u4ee5\u4e0b\u4ee3\u7801\uff0c\u5e76\u6267\u884c\uff1a #!/usr/bin/python # -*- coding: UTF-8 -*- import MySQLdb \u5982\u679c\u6267\u884c\u540e\u7684\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\u6240\u793a\uff0c\u610f\u5473\u7740\u4f60\u6ca1\u6709\u5b89\u88c5 MySQLdb \u6a21\u5757\uff1a ```python Traceback (most recent call last): File \"test.py\", line 3, in import MySQLdb ImportError: No module named MySQLdb \u5b89\u88c5MySQLdb\uff0c\u8bf7\u8bbf\u95ee http://sourceforge.net/projects/mysql-python \uff0c(Linux\u5e73\u53f0\u53ef\u4ee5\u8bbf\u95ee\uff1ahttps://pypi.python.org/pypi/MySQL-python)\u4ece\u8fd9\u91cc\u53ef\u9009\u62e9\u9002\u5408\u60a8\u7684\u5e73\u53f0\u7684\u5b89\u88c5\u5305\uff0c\u5206\u4e3a\u9884\u7f16\u8bd1\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u548c\u6e90\u4ee3\u7801\u5b89\u88c5\u5305\u3002 \u5982\u679c\u60a8\u9009\u62e9\u4e8c\u8fdb\u5236\u6587\u4ef6\u53d1\u884c\u7248\u672c\u7684\u8bdd\uff0c\u5b89\u88c5\u8fc7\u7a0b\u57fa\u672c\u5b89\u88c5\u63d0\u793a\u5373\u53ef\u5b8c\u6210\u3002\u5982\u679c\u4ece\u6e90\u4ee3\u7801\u8fdb\u884c\u5b89\u88c5\u7684\u8bdd\uff0c\u5219\u9700\u8981\u5207\u6362\u5230MySQLdb\u53d1\u884c\u7248\u672c\u7684\u9876\u7ea7\u76ee\u5f55\uff0c\u5e76\u952e\u5165\u4e0b\u5217\u547d\u4ee4: ```bash $ gunzip MySQL-python-1.2.2.tar.gz $ tar -xvf MySQL-python-1.2.2.tar $ cd MySQL-python-1.2.2 $ python setup.py build $ python setup.py install **\u6ce8\u610f\uff1a**\u8bf7\u786e\u4fdd\u60a8\u6709root\u6743\u9650\u6765\u5b89\u88c5\u4e0a\u8ff0\u6a21\u5757\u3002 \u5b89\u88c5\u62a5\u95191: \u6267\u884c sudo python setup.py build \u51fa\u73b0\u95ee\u9898(SSL\u6743\u9650) AAAtest:MySQL-python-1.2.4b4 seafile$ sudo python setup.py build Downloading http://pypi.python.org/packages/source/d/distribute/distribute-0.6.28.tar.gz urllib2.HTTPError: HTTP Error 403 : SSL is required \u53ef\u4ee5\u53c2\u8003 https://blog.csdn.net/bin642264643/article/details/91972480 \u76f4\u63a5\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee\u8fd9\u4e2a\u94fe\u63a5\u8fdb\u884c\u4e0b\u8f7d\u3002\u4e0b\u8f7d\u7ed3\u675f\uff0c\u5e76\u653e\u5728\u8def\u5f84\u4e0b\uff0c\u7136\u540e\u6267\u884c python setup.py build \u5b89\u88c5\u62a5\u9519\uff1a\u51fa\u73b0\u4e0b\u9762\u7684\u95ee\u9898 running build running build_py copying MySQLdb/release.py -> build/lib.macosx-10.13-intel-2.7/MySQLdb running build_ext building '_mysql' extension cc -fno-strict-aliasing -fno-common -dynamic -arch x86_64 -arch i386 -g -Os -pipe -fno-common -fno-strict-aliasing -fwrapv -DENABLE_DTRACE -DMACOSX -DNDEBUG -Wall -Wstrict-prototypes -Wshorten-64-to-32 -DNDEBUG -g -fwrapv -Os -Wall -Wstrict-prototypes -DENABLE_DTRACE -arch i386 -arch x86_64 -pipe -Dversion_info =( 1 ,2,4, 'beta' ,4 ) -D__version__ = 1 .2.4b4 -I/usr/local/mysql/include -I/System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -c _mysql.c -o build/temp.macosx-10.13-intel-2.7/_mysql.o _mysql.c:44:10: fatal error: 'my_config.h' file not found #include \"my_config.h\" ^~~~~~~~~~~~~ 1 error generated. error: command 'cc' failed with exit status 1 \u89e3\u51b3\u65b9\u6cd51\uff1a https://stackoverflow.com/questions/21638444/error-command-cc-failed-with-exit-status-1-mysqldb-installation-on-mac The problem is unused arguments passed to compiler. Try this before running your build code: export CFLAGS = -Qunused-arguments export CPPFLAGS = -Qunused-arguments \u4f7f\u7528\u4e0a\u9762\u7684\u7f16\u8bd1\u4e0d\u5904\u7406\u554a\u554a\uff01\u770b\u4e00\u4e0b\u6700\u65b0\u7684\u6559\u7a0b\u2018 \u53ef\u80fd\u662fpython2.7.10 \u6216\u80053\u7248\u672c\u7684\u539f\u56e0\uff0c\u56e0\u4e3a\u672c\u5730\u73b0\u5728\u4e24\u4e2a\u7248\u672c\u90fd\u5b89\u88c5 \u53ef\u80fd\u662f\u7248\u672c\u4e0d\u5bf9\u5e94\uff0cMySQL_python-1.2.5-cp27-none-win_amd64.whl \u652f\u6301windows\u7248\u672c\u6216\u8005linux\u7cfb\u7edf\uff0c\u4e0d\u652f\u6301Mac\u7cfb\u7edf\u3002 \u89e3\u51b3\u65b9\u6cd52\uff1a https://stackoverflow.com/questions/50864438/mac-pip-install-mysql-python-unsuccessful Installing of an older version of the MySQL worked for me: brew remove mysql brew install mysql@5.7 brew link --force mysql@5.7 pip install mysql-python \u6570\u636e\u5e93\u8fde\u63a5 \u00b6 \u8fde\u63a5\u6570\u636e\u5e93\u524d\uff0c\u8bf7\u5148\u786e\u8ba4\u4ee5\u4e0b\u4e8b\u9879\uff1a \u60a8\u5df2\u7ecf\u521b\u5efa\u4e86\u6570\u636e\u5e93 TESTDB. \u5728TESTDB\u6570\u636e\u5e93\u4e2d\u60a8\u5df2\u7ecf\u521b\u5efa\u4e86\u8868 EMPLOYEE EMPLOYEE\u8868\u5b57\u6bb5\u4e3a FIRST_NAME, LAST_NAME, AGE, SEX \u548c INCOME\u3002 \u8fde\u63a5\u6570\u636e\u5e93TESTDB\u4f7f\u7528\u7684\u7528\u6237\u540d\u4e3a \"testuser\" \uff0c\u5bc6\u7801\u4e3a \"test123\",\u4f60\u53ef\u4ee5\u53ef\u4ee5\u81ea\u5df1\u8bbe\u5b9a\u6216\u8005\u76f4\u63a5\u4f7f\u7528root\u7528\u6237\u540d\u53ca\u5176\u5bc6\u7801\uff0cMysql\u6570\u636e\u5e93\u7528\u6237\u6388\u6743\u8bf7\u4f7f\u7528Grant\u547d\u4ee4\u3002 \u5728\u4f60\u7684\u673a\u5b50\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4e86 Python MySQLdb \u6a21\u5757\u3002 \u5982\u679c\u60a8\u5bf9sql\u8bed\u53e5\u4e0d\u719f\u6089\uff0c\u53ef\u4ee5\u8bbf\u95ee\u6211\u4eec\u7684 SQL\u57fa\u7840\u6559\u7a0b \u5b9e\u4f8b\uff1a \u00b6 \u4ee5\u4e0b\u5b9e\u4f8b\u94fe\u63a5Mysql\u7684TESTDB\u6570\u636e\u5e93\uff1a #!/usr/bin/python # -*- coding: UTF-8 -*- import MySQLdb # \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5 db = MySQLdb . connect ( \"localhost\" , \"testuser\" , \"test123\" , \"TESTDB\" , charset = 'utf8' ) # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807 cursor = db . cursor () # \u4f7f\u7528execute\u65b9\u6cd5\u6267\u884cSQL\u8bed\u53e5 cursor . execute ( \"SELECT VERSION()\" ) # \u4f7f\u7528 fetchone() \u65b9\u6cd5\u83b7\u53d6\u4e00\u6761\u6570\u636e data = cursor . fetchone () print \"Database version : %s \" % data # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 db . close () \u6267\u884c\u4ee5\u4e0a\u811a\u672c\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\uff1a Database version : 5.0.45 \u521b\u5efa\u6570\u636e\u5e93\u8868 \u00b6 \u5982\u679c\u6570\u636e\u5e93\u8fde\u63a5\u5b58\u5728\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528execute()\u65b9\u6cd5\u6765\u4e3a\u6570\u636e\u5e93\u521b\u5efa\u8868\uff0c\u5982\u4e0b\u6240\u793a\u521b\u5efa\u8868EMPLOYEE\uff1a ```python !/usr/bin/python \u00b6 - - coding: UTF-8 - - \u00b6 import MySQLdb \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5 \u00b6 db = MySQLdb.connect(\"localhost\", \"testuser\", \"test123\", \"TESTDB\", charset='utf8' ) \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807 \u00b6 cursor = db.cursor() \u5982\u679c\u6570\u636e\u8868\u5df2\u7ecf\u5b58\u5728\u4f7f\u7528 execute() \u65b9\u6cd5\u5220\u9664\u8868\u3002 \u00b6 cursor.execute(\"DROP TABLE IF EXISTS EMPLOYEE\") \u521b\u5efa\u6570\u636e\u8868SQL\u8bed\u53e5 \u00b6 sql = \"\"\"CREATE TABLE EMPLOYEE ( FIRST_NAME CHAR(20) NOT NULL, LAST_NAME CHAR(20), AGE INT, SEX CHAR(1), INCOME FLOAT )\"\"\" cursor.execute(sql) \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 \u00b6 db.close() ------ ## \u6570\u636e\u5e93\u63d2\u5165\u64cd\u4f5c \u4ee5\u4e0b\u5b9e\u4f8b\u4f7f\u7528\u6267\u884c SQL INSERT \u8bed\u53e5\u5411\u8868 EMPLOYEE \u63d2\u5165\u8bb0\u5f55\uff1a ```python #!/usr/bin/python # -*- coding: UTF-8 -*- import MySQLdb # \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5 db = MySQLdb.connect(\"localhost\", \"testuser\", \"test123\", \"TESTDB\", charset='utf8' ) # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807 cursor = db.cursor() # SQL \u63d2\u5165\u8bed\u53e5 sql = \"\"\"INSERT INTO EMPLOYEE(FIRST_NAME, LAST_NAME, AGE, SEX, INCOME) VALUES ('Mac', 'Mohan', 20, 'M', 2000)\"\"\" try: # \u6267\u884csql\u8bed\u53e5 cursor.execute(sql) # \u63d0\u4ea4\u5230\u6570\u636e\u5e93\u6267\u884c db.commit() except: # Rollback in case there is any error db.rollback() # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 db.close() \u4ee5\u4e0a\u4f8b\u5b50\u4e5f\u53ef\u4ee5\u5199\u6210\u5982\u4e0b\u5f62\u5f0f\uff1a #!/usr/bin/python # -*- coding: UTF-8 -*- import MySQLdb # \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5 db = MySQLdb . connect ( \"localhost\" , \"testuser\" , \"test123\" , \"TESTDB\" , charset = 'utf8' ) # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807 cursor = db . cursor () # SQL \u63d2\u5165\u8bed\u53e5 sql = \"INSERT INTO EMPLOYEE(FIRST_NAME, \\ LAST_NAME, AGE, SEX, INCOME) \\ VALUES ( %s , %s , %s , %s , %s )\" % \\ ( 'Mac' , 'Mohan' , 20 , 'M' , 2000 ) try : # \u6267\u884csql\u8bed\u53e5 cursor . execute ( sql ) # \u63d0\u4ea4\u5230\u6570\u636e\u5e93\u6267\u884c db . commit () except : # \u53d1\u751f\u9519\u8bef\u65f6\u56de\u6eda db . rollback () # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 db . close () \u5b9e\u4f8b\uff1a \u00b6 \u4ee5\u4e0b\u4ee3\u7801\u4f7f\u7528\u53d8\u91cf\u5411SQL\u8bed\u53e5\u4e2d\u4f20\u9012\u53c2\u6570: .................................. user_id = \"test123\" password = \"password\" con.execute('insert into Login values(%s, %s)' % \\ (user_id, password)) .................................. \u6570\u636e\u5e93\u67e5\u8be2\u64cd\u4f5c \u00b6 Python\u67e5\u8be2Mysql\u4f7f\u7528 fetchone() \u65b9\u6cd5\u83b7\u53d6\u5355\u6761\u6570\u636e, \u4f7f\u7528fetchall() \u65b9\u6cd5\u83b7\u53d6\u591a\u6761\u6570\u636e\u3002 fetchone(): \u8be5\u65b9\u6cd5\u83b7\u53d6\u4e0b\u4e00\u4e2a\u67e5\u8be2\u7ed3\u679c\u96c6\u3002\u7ed3\u679c\u96c6\u662f\u4e00\u4e2a\u5bf9\u8c61 **fetchall():**\u63a5\u6536\u5168\u90e8\u7684\u8fd4\u56de\u7ed3\u679c\u884c. rowcount: \u8fd9\u662f\u4e00\u4e2a\u53ea\u8bfb\u5c5e\u6027\uff0c\u5e76\u8fd4\u56de\u6267\u884cexecute()\u65b9\u6cd5\u540e\u5f71\u54cd\u7684\u884c\u6570\u3002 \u5b9e\u4f8b\uff1a \u00b6 \u67e5\u8be2EMPLOYEE\u8868\u4e2dsalary\uff08\u5de5\u8d44\uff09\u5b57\u6bb5\u5927\u4e8e1000\u7684\u6240\u6709\u6570\u636e\uff1a ```python !/usr/bin/python \u00b6 - - coding: UTF-8 - - \u00b6 import MySQLdb \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5 \u00b6 db = MySQLdb.connect(\"localhost\", \"testuser\", \"test123\", \"TESTDB\", charset='utf8' ) \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807 \u00b6 cursor = db.cursor() SQL \u67e5\u8be2\u8bed\u53e5 \u00b6 sql = \"SELECT * FROM EMPLOYEE \\ WHERE INCOME > %s\" % (1000) try: # \u6267\u884cSQL\u8bed\u53e5 cursor.execute(sql) # \u83b7\u53d6\u6240\u6709\u8bb0\u5f55\u5217\u8868 results = cursor.fetchall() for row in results: fname = row[0] lname = row[1] age = row[2] sex = row[3] income = row[4] # \u6253\u5370\u7ed3\u679c print \"fname=%s,lname=%s,age=%s,sex=%s,income=%s\" % \\ (fname, lname, age, sex, income ) except: print \"Error: unable to fecth data\" \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 \u00b6 db.close() \u4ee5\u4e0a\u811a\u672c\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a fname=Mac, lname=Mohan, age=20, sex=M, income=2000 ------ ## \u6570\u636e\u5e93\u66f4\u65b0\u64cd\u4f5c \u66f4\u65b0\u64cd\u4f5c\u7528\u4e8e\u66f4\u65b0\u6570\u636e\u8868\u7684\u7684\u6570\u636e\uff0c\u4ee5\u4e0b\u5b9e\u4f8b\u5c06 EMPLOYEE \u8868\u4e2d\u7684 SEX \u5b57\u6bb5\u4e3a 'M' \u7684 AGE \u5b57\u6bb5\u9012\u589e 1\uff1a ```python #!/usr/bin/python # -*- coding: UTF-8 -*- import MySQLdb # \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5 db = MySQLdb.connect(\"localhost\", \"testuser\", \"test123\", \"TESTDB\", charset='utf8' ) # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807 cursor = db.cursor() # SQL \u66f4\u65b0\u8bed\u53e5 sql = \"UPDATE EMPLOYEE SET AGE = AGE + 1 WHERE SEX = '%c'\" % ('M') try: # \u6267\u884cSQL\u8bed\u53e5 cursor.execute(sql) # \u63d0\u4ea4\u5230\u6570\u636e\u5e93\u6267\u884c db.commit() except: # \u53d1\u751f\u9519\u8bef\u65f6\u56de\u6eda db.rollback() # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 db.close() \u5220\u9664\u64cd\u4f5c \u00b6 \u5220\u9664\u64cd\u4f5c\u7528\u4e8e\u5220\u9664\u6570\u636e\u8868\u4e2d\u7684\u6570\u636e\uff0c\u4ee5\u4e0b\u5b9e\u4f8b\u6f14\u793a\u4e86\u5220\u9664\u6570\u636e\u8868 EMPLOYEE \u4e2d AGE \u5927\u4e8e 20 \u7684\u6240\u6709\u6570\u636e\uff1a #!/usr/bin/python # -*- coding: UTF-8 -*- import MySQLdb # \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5 db = MySQLdb . connect ( \"localhost\" , \"testuser\" , \"test123\" , \"TESTDB\" , charset = 'utf8' ) # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807 cursor = db . cursor () # SQL \u5220\u9664\u8bed\u53e5 sql = \"DELETE FROM EMPLOYEE WHERE AGE > %s \" % ( 20 ) try : # \u6267\u884cSQL\u8bed\u53e5 cursor . execute ( sql ) # \u63d0\u4ea4\u4fee\u6539 db . commit () except : # \u53d1\u751f\u9519\u8bef\u65f6\u56de\u6eda db . rollback () # \u5173\u95ed\u8fde\u63a5 db.close() \u6267\u884c\u4e8b\u52a1 \u00b6 \u4e8b\u52a1\u673a\u5236\u53ef\u4ee5\u786e\u4fdd\u6570\u636e\u4e00\u81f4\u6027\u3002 \u4e8b\u52a1\u5e94\u8be5\u5177\u67094\u4e2a\u5c5e\u6027\uff1a\u539f\u5b50\u6027\u3001\u4e00\u81f4\u6027\u3001\u9694\u79bb\u6027\u3001\u6301\u4e45\u6027\u3002\u8fd9\u56db\u4e2a\u5c5e\u6027\u901a\u5e38\u79f0\u4e3aACID\u7279\u6027\u3002 \u539f\u5b50\u6027\uff08atomicity\uff09\u3002\u4e00\u4e2a\u4e8b\u52a1\u662f\u4e00\u4e2a\u4e0d\u53ef\u5206\u5272\u7684\u5de5\u4f5c\u5355\u4f4d\uff0c\u4e8b\u52a1\u4e2d\u5305\u62ec\u7684\u8bf8\u64cd\u4f5c\u8981\u4e48\u90fd\u505a\uff0c\u8981\u4e48\u90fd\u4e0d\u505a\u3002 \u4e00\u81f4\u6027\uff08consistency\uff09\u3002\u4e8b\u52a1\u5fc5\u987b\u662f\u4f7f\u6570\u636e\u5e93\u4ece\u4e00\u4e2a\u4e00\u81f4\u6027\u72b6\u6001\u53d8\u5230\u53e6\u4e00\u4e2a\u4e00\u81f4\u6027\u72b6\u6001\u3002\u4e00\u81f4\u6027\u4e0e\u539f\u5b50\u6027\u662f\u5bc6\u5207\u76f8\u5173\u7684\u3002 \u9694\u79bb\u6027\uff08isolation\uff09\u3002\u4e00\u4e2a\u4e8b\u52a1\u7684\u6267\u884c\u4e0d\u80fd\u88ab\u5176\u4ed6\u4e8b\u52a1\u5e72\u6270\u3002\u5373\u4e00\u4e2a\u4e8b\u52a1\u5185\u90e8\u7684\u64cd\u4f5c\u53ca\u4f7f\u7528\u7684\u6570\u636e\u5bf9\u5e76\u53d1\u7684\u5176\u4ed6\u4e8b\u52a1\u662f\u9694\u79bb\u7684\uff0c\u5e76\u53d1\u6267\u884c\u7684\u5404\u4e2a\u4e8b\u52a1\u4e4b\u95f4\u4e0d\u80fd\u4e92\u76f8\u5e72\u6270\u3002 \u6301\u4e45\u6027\uff08durability\uff09\u3002\u6301\u7eed\u6027\u4e5f\u79f0\u6c38\u4e45\u6027\uff08permanence\uff09\uff0c\u6307\u4e00\u4e2a\u4e8b\u52a1\u4e00\u65e6\u63d0\u4ea4\uff0c\u5b83\u5bf9\u6570\u636e\u5e93\u4e2d\u6570\u636e\u7684\u6539\u53d8\u5c31\u5e94\u8be5\u662f\u6c38\u4e45\u6027\u7684\u3002\u63a5\u4e0b\u6765\u7684\u5176\u4ed6\u64cd\u4f5c\u6216\u6545\u969c\u4e0d\u5e94\u8be5\u5bf9\u5176\u6709\u4efb\u4f55\u5f71\u54cd\u3002 Python DB API 2.0 \u7684\u4e8b\u52a1\u63d0\u4f9b\u4e86\u4e24\u4e2a\u65b9\u6cd5 commit \u6216 rollback\u3002 \u5b9e\u4f8b\uff1a \u00b6 # SQL\u5220\u9664\u8bb0\u5f55\u8bed\u53e5 sql = \"DELETE FROM EMPLOYEE WHERE AGE > %s\" % ( 20 ) try : # \u6267\u884c SQL\u8bed\u53e5 cursor . execute ( sql ) # \u5411\u6570\u636e\u5e93\u63d0\u4ea4 db . commit () except : # \u53d1\u751f\u9519\u8bef\u65f6\u56de\u6eda db . rollback () \u5bf9\u4e8e\u652f\u6301\u4e8b\u52a1\u7684\u6570\u636e\u5e93\uff0c \u5728Python\u6570\u636e\u5e93\u7f16\u7a0b\u4e2d\uff0c\u5f53\u6e38\u6807\u5efa\u7acb\u4e4b\u65f6\uff0c\u5c31\u81ea\u52a8\u5f00\u59cb\u4e86\u4e00\u4e2a\u9690\u5f62\u7684\u6570\u636e\u5e93\u4e8b\u52a1\u3002 commit()\u65b9\u6cd5\u6e38\u6807\u7684\u6240\u6709\u66f4\u65b0\u64cd\u4f5c\uff0crollback\uff08\uff09\u65b9\u6cd5\u56de\u6eda\u5f53\u524d\u6e38\u6807\u7684\u6240\u6709\u64cd\u4f5c\u3002\u6bcf\u4e00\u4e2a\u65b9\u6cd5\u90fd\u5f00\u59cb\u4e86\u4e00\u4e2a\u65b0\u7684\u4e8b\u52a1\u3002 \u9519\u8bef\u5904\u7406 \u00b6 DB API\u4e2d\u5b9a\u4e49\u4e86\u4e00\u4e9b\u6570\u636e\u5e93\u64cd\u4f5c\u7684\u9519\u8bef\u53ca\u5f02\u5e38\uff0c\u4e0b\u8868\u5217\u51fa\u4e86\u8fd9\u4e9b\u9519\u8bef\u548c\u5f02\u5e38: \u5f02\u5e38 \u63cf\u8ff0 Warning \u5f53\u6709\u4e25\u91cd\u8b66\u544a\u65f6\u89e6\u53d1\uff0c\u4f8b\u5982\u63d2\u5165\u6570\u636e\u662f\u88ab\u622a\u65ad\u7b49\u7b49\u3002\u5fc5\u987b\u662f StandardError \u7684\u5b50\u7c7b\u3002 Error \u8b66\u544a\u4ee5\u5916\u6240\u6709\u5176\u4ed6\u9519\u8bef\u7c7b\u3002\u5fc5\u987b\u662f StandardError \u7684\u5b50\u7c7b\u3002 InterfaceError \u5f53\u6709\u6570\u636e\u5e93\u63a5\u53e3\u6a21\u5757\u672c\u8eab\u7684\u9519\u8bef\uff08\u800c\u4e0d\u662f\u6570\u636e\u5e93\u7684\u9519\u8bef\uff09\u53d1\u751f\u65f6\u89e6\u53d1\u3002 \u5fc5\u987b\u662fError\u7684\u5b50\u7c7b\u3002 DatabaseError \u548c\u6570\u636e\u5e93\u6709\u5173\u7684\u9519\u8bef\u53d1\u751f\u65f6\u89e6\u53d1\u3002 \u5fc5\u987b\u662fError\u7684\u5b50\u7c7b\u3002 DataError \u5f53\u6709\u6570\u636e\u5904\u7406\u65f6\u7684\u9519\u8bef\u53d1\u751f\u65f6\u89e6\u53d1\uff0c\u4f8b\u5982\uff1a\u9664\u96f6\u9519\u8bef\uff0c\u6570\u636e\u8d85\u8303\u56f4\u7b49\u7b49\u3002 \u5fc5\u987b\u662fDatabaseError\u7684\u5b50\u7c7b\u3002 OperationalError \u6307\u975e\u7528\u6237\u63a7\u5236\u7684\uff0c\u800c\u662f\u64cd\u4f5c\u6570\u636e\u5e93\u65f6\u53d1\u751f\u7684\u9519\u8bef\u3002\u4f8b\u5982\uff1a\u8fde\u63a5\u610f\u5916\u65ad\u5f00\u3001 \u6570\u636e\u5e93\u540d\u672a\u627e\u5230\u3001\u4e8b\u52a1\u5904\u7406\u5931\u8d25\u3001\u5185\u5b58\u5206\u914d\u9519\u8bef\u7b49\u7b49\u64cd\u4f5c\u6570\u636e\u5e93\u662f\u53d1\u751f\u7684\u9519\u8bef\u3002 \u5fc5\u987b\u662fDatabaseError\u7684\u5b50\u7c7b\u3002 IntegrityError \u5b8c\u6574\u6027\u76f8\u5173\u7684\u9519\u8bef\uff0c\u4f8b\u5982\u5916\u952e\u68c0\u67e5\u5931\u8d25\u7b49\u3002\u5fc5\u987b\u662fDatabaseError\u5b50\u7c7b\u3002 InternalError \u6570\u636e\u5e93\u7684\u5185\u90e8\u9519\u8bef\uff0c\u4f8b\u5982\u6e38\u6807\uff08cursor\uff09\u5931\u6548\u4e86\u3001\u4e8b\u52a1\u540c\u6b65\u5931\u8d25\u7b49\u7b49\u3002 \u5fc5\u987b\u662fDatabaseError\u5b50\u7c7b\u3002 ProgrammingError \u7a0b\u5e8f\u9519\u8bef\uff0c\u4f8b\u5982\u6570\u636e\u8868\uff08table\uff09\u6ca1\u627e\u5230\u6216\u5df2\u5b58\u5728\u3001SQL\u8bed\u53e5\u8bed\u6cd5\u9519\u8bef\u3001 \u53c2\u6570\u6570\u91cf\u9519\u8bef\u7b49\u7b49\u3002\u5fc5\u987b\u662fDatabaseError\u7684\u5b50\u7c7b\u3002 NotSupportedError \u4e0d\u652f\u6301\u9519\u8bef\uff0c\u6307\u4f7f\u7528\u4e86\u6570\u636e\u5e93\u4e0d\u652f\u6301\u7684\u51fd\u6570\u6216API\u7b49\u3002\u4f8b\u5982\u5728\u8fde\u63a5\u5bf9\u8c61\u4e0a \u4f7f\u7528.rollback()\u51fd\u6570\uff0c\u7136\u800c\u6570\u636e\u5e93\u5e76\u4e0d\u652f\u6301\u4e8b\u52a1\u6216\u8005\u4e8b\u52a1\u5df2\u5173\u95ed\u3002 \u5fc5\u987b\u662fDatabaseError\u7684\u5b50\u7c7b\u3002 \u8bf4\u660e \u00b6 \u5173\u4e8eMysql\u7684\u8fde\u63a5\uff0c\u7ecf\u8fc7\u6478\u7d22\uff0c\u5efa\u8bae\u6b63\u6587\u4fee\u6539\u4e00\u4e0b\uff0c\u4f7f\u7528mysql\u5b98\u65b9\u63d0\u4f9b\u7684\u8fde\u63a5\u5668\uff0c\u6211\u76ee\u524d\u5b89\u88c5\u7684mysql\u662f8.0.12\u7248\u672c\uff0c\u6570\u636e\u5e93\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u5b89\u88c5\u201cmysql-connector-python-8.0.12-py2.7-windows-x86-64bit\u201d\uff0c\u5f53\u7136\u4e86\uff0c\u8981\u6839\u636e\u81ea\u5df1\u7684\u64cd\u4f5c\u7cfb\u7edf\u548cpython\u7248\u672c\u4ee5\u53ca\u4f4d\u6570\u8fdb\u884c\u9009\u62e9\uff0c\u6211\u662fwin10\u768464\u4f4d\uff0cpython2.7\u768464\u4f4d\uff0c\u6545\u9009\u62e9\u7684\u4e0a\u8ff0\u63d2\u4ef6\uff0c\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u76f4\u63a5\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\u8fdb\u884c\u6d4b\u8bd5\uff1a # -*- coding:utf-8 -*- import mysql.connector # \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5\uff08\u8bf7\u6839\u636e\u81ea\u5df1\u7684\u7528\u6237\u540d\u3001\u5bc6\u7801\u53ca\u6570\u636e\u5e93\u540d\u79f0\u8fdb\u884c\u4fee\u6539\uff09 cnn = mysql . connector . connect ( user = 'root' , passwd = 'root' , database = 'testdb' ) # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807 cursor = cnn . cursor () # \u4f7f\u7528execute\u65b9\u6cd5\u6267\u884cSQL\u8bed\u53e5 cursor . execute ( \"SELECT VERSION()\" ) # \u4f7f\u7528 fetchone() \u65b9\u6cd5\u83b7\u53d6\u4e00\u6761\u6570\u636e data = cursor . fetchone () print \"Database version : %s \" % data # \u6267\u884csql\u8bed\u53e5 cnn . close () \u663e\u793a\u7684\u7ed3\u679c\u5e94\u8be5\u5982\u4e0b \uff1a Database version : 8.0 . 12 \u663e\u793a\u7684\u7ed3\u679c\u5e94\u8be5\u5982\u4e0b\uff1a Database version : 8.0.12 \u76f8\u5173\u8d44\u6e90\u4e0b\u8f7d\u94fe\u63a5\u5982\u4e0b\uff1a Python2.7\uff08\u4e2a\u4eba\u89c9\u5f97\u8fd9\u4e2a\u7248\u672c\u8bed\u53e5\u517c\u5bb9\u6027\u9ad8\uff0c\u9002\u5408\u5165\u95e8\uff09\uff1a https://blog.python.org/2018/05/python-2715-released.html Mysql8.0.12\uff08\u8bf7\u6839\u636e\u81ea\u5df1\u9700\u8981\u9009\u62e9\u7248\u672c\uff09\uff1a https://dev.mysql.com/downloads/installer/ Mysql\u5b98\u65b9\u6570\u636e\u5e93\u8fde\u63a5\u5668\uff08\u8bf7\u6839\u636e\u81ea\u5df1\u9700\u8981\u9009\u62e9\uff09\uff1a https://dev.mysql.com/downloads/connector/python/ \u5907\u6ce8\uff1a\u6709\u4e9b\u9875\u9762\u6253\u5f00\u4f1a\u5f88\u56f0\u96be\uff0c\u539f\u56e0\u4e0d\u89e3\u91ca\uff0c\u5982\u679c\u5b9e\u5728\u6253\u4e0d\u5f00\uff0c\u90a3\u5c31\u81ea\u5df1\u641c\u4e00\u4e0b\u5427\u3002 fun_zb fun_zb fun***@qq.com1\u5e74\u524d (2018-08-25","title":"Python\u64cd\u4f5c MySQL\u6570\u636e\u5e93"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#python-mysql","text":"Python \u6807\u51c6\u6570\u636e\u5e93\u63a5\u53e3\u4e3a Python DB-API\uff0cPython DB-API\u4e3a\u5f00\u53d1\u4eba\u5458\u63d0\u4f9b\u4e86\u6570\u636e\u5e93\u5e94\u7528\u7f16\u7a0b\u63a5\u53e3\u3002 \u4e0d\u540c\u7684\u6570\u636e\u5e93\u4f60\u9700\u8981\u4e0b\u8f7d\u4e0d\u540c\u7684DB API\u6a21\u5757\uff0c\u4f8b\u5982\u4f60\u9700\u8981\u8bbf\u95eeOracle\u6570\u636e\u5e93\u548cMysql\u6570\u636e\uff0c\u4f60\u9700\u8981\u4e0b\u8f7dOracle\u548cMySQL\u6570\u636e\u5e93\u6a21\u5757\u3002DB-API \u662f\u4e00\u4e2a\u89c4\u8303. \u5b83\u5b9a\u4e49\u4e86\u4e00\u7cfb\u5217\u5fc5\u987b\u7684\u5bf9\u8c61\u548c\u6570\u636e\u5e93\u5b58\u53d6\u65b9\u5f0f, \u4ee5\u4fbf\u4e3a\u5404\u79cd\u5404\u6837\u7684\u5e95\u5c42\u6570\u636e\u5e93\u7cfb\u7edf\u548c\u591a\u79cd\u591a\u6837\u7684\u6570\u636e\u5e93\u63a5\u53e3\u7a0b\u5e8f\u63d0\u4f9b\u4e00\u81f4\u7684\u8bbf\u95ee\u63a5\u53e3 \u3002Python\u7684DB-API\uff0c\u4e3a\u5927\u591a\u6570\u7684\u6570\u636e\u5e93\u5b9e\u73b0\u4e86\u63a5\u53e3\uff0c\u4f7f\u7528\u5b83\u8fde\u63a5\u5404\u6570\u636e\u5e93\u540e\uff0c\u5c31\u53ef\u4ee5\u7528\u76f8\u540c\u7684\u65b9\u5f0f\u64cd\u4f5c\u5404\u6570\u636e\u5e93\u3002 Python DB-API\u4f7f\u7528\u6d41\u7a0b\uff1a \u5f15\u5165 API \u6a21\u5757\u3002 \u83b7\u53d6\u4e0e\u6570\u636e\u5e93\u7684\u8fde\u63a5\u3002 \u6267\u884cSQL\u8bed\u53e5\u548c\u5b58\u50a8\u8fc7\u7a0b\u3002 \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\u3002","title":"Python \u64cd\u4f5c MySQL \u6570\u636e\u5e93"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#mysqldb","text":"MySQLdb \u662f\u7528\u4e8ePython\u94fe\u63a5Mysql\u6570\u636e\u5e93\u7684\u63a5\u53e3\uff0c\u5b83\u5b9e\u73b0\u4e86 Python \u6570\u636e\u5e93 API \u89c4\u8303 V2.0\uff0c\u57fa\u4e8e MySQL C API \u4e0a\u5efa\u7acb\u7684\u3002","title":"\u4ec0\u4e48\u662fMySQLdb?"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#mysqldb_1","text":"\u4e3a\u4e86\u7528DB-API\u7f16\u5199MySQL\u811a\u672c\uff0c\u5fc5\u987b\u786e\u4fdd\u5df2\u7ecf\u5b89\u88c5\u4e86MySQL\u3002\u590d\u5236\u4ee5\u4e0b\u4ee3\u7801\uff0c\u5e76\u6267\u884c\uff1a #!/usr/bin/python # -*- coding: UTF-8 -*- import MySQLdb \u5982\u679c\u6267\u884c\u540e\u7684\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\u6240\u793a\uff0c\u610f\u5473\u7740\u4f60\u6ca1\u6709\u5b89\u88c5 MySQLdb \u6a21\u5757\uff1a ```python Traceback (most recent call last): File \"test.py\", line 3, in import MySQLdb ImportError: No module named MySQLdb \u5b89\u88c5MySQLdb\uff0c\u8bf7\u8bbf\u95ee http://sourceforge.net/projects/mysql-python \uff0c(Linux\u5e73\u53f0\u53ef\u4ee5\u8bbf\u95ee\uff1ahttps://pypi.python.org/pypi/MySQL-python)\u4ece\u8fd9\u91cc\u53ef\u9009\u62e9\u9002\u5408\u60a8\u7684\u5e73\u53f0\u7684\u5b89\u88c5\u5305\uff0c\u5206\u4e3a\u9884\u7f16\u8bd1\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u548c\u6e90\u4ee3\u7801\u5b89\u88c5\u5305\u3002 \u5982\u679c\u60a8\u9009\u62e9\u4e8c\u8fdb\u5236\u6587\u4ef6\u53d1\u884c\u7248\u672c\u7684\u8bdd\uff0c\u5b89\u88c5\u8fc7\u7a0b\u57fa\u672c\u5b89\u88c5\u63d0\u793a\u5373\u53ef\u5b8c\u6210\u3002\u5982\u679c\u4ece\u6e90\u4ee3\u7801\u8fdb\u884c\u5b89\u88c5\u7684\u8bdd\uff0c\u5219\u9700\u8981\u5207\u6362\u5230MySQLdb\u53d1\u884c\u7248\u672c\u7684\u9876\u7ea7\u76ee\u5f55\uff0c\u5e76\u952e\u5165\u4e0b\u5217\u547d\u4ee4: ```bash $ gunzip MySQL-python-1.2.2.tar.gz $ tar -xvf MySQL-python-1.2.2.tar $ cd MySQL-python-1.2.2 $ python setup.py build $ python setup.py install **\u6ce8\u610f\uff1a**\u8bf7\u786e\u4fdd\u60a8\u6709root\u6743\u9650\u6765\u5b89\u88c5\u4e0a\u8ff0\u6a21\u5757\u3002 \u5b89\u88c5\u62a5\u95191: \u6267\u884c sudo python setup.py build \u51fa\u73b0\u95ee\u9898(SSL\u6743\u9650) AAAtest:MySQL-python-1.2.4b4 seafile$ sudo python setup.py build Downloading http://pypi.python.org/packages/source/d/distribute/distribute-0.6.28.tar.gz urllib2.HTTPError: HTTP Error 403 : SSL is required \u53ef\u4ee5\u53c2\u8003 https://blog.csdn.net/bin642264643/article/details/91972480 \u76f4\u63a5\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee\u8fd9\u4e2a\u94fe\u63a5\u8fdb\u884c\u4e0b\u8f7d\u3002\u4e0b\u8f7d\u7ed3\u675f\uff0c\u5e76\u653e\u5728\u8def\u5f84\u4e0b\uff0c\u7136\u540e\u6267\u884c python setup.py build \u5b89\u88c5\u62a5\u9519\uff1a\u51fa\u73b0\u4e0b\u9762\u7684\u95ee\u9898 running build running build_py copying MySQLdb/release.py -> build/lib.macosx-10.13-intel-2.7/MySQLdb running build_ext building '_mysql' extension cc -fno-strict-aliasing -fno-common -dynamic -arch x86_64 -arch i386 -g -Os -pipe -fno-common -fno-strict-aliasing -fwrapv -DENABLE_DTRACE -DMACOSX -DNDEBUG -Wall -Wstrict-prototypes -Wshorten-64-to-32 -DNDEBUG -g -fwrapv -Os -Wall -Wstrict-prototypes -DENABLE_DTRACE -arch i386 -arch x86_64 -pipe -Dversion_info =( 1 ,2,4, 'beta' ,4 ) -D__version__ = 1 .2.4b4 -I/usr/local/mysql/include -I/System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -c _mysql.c -o build/temp.macosx-10.13-intel-2.7/_mysql.o _mysql.c:44:10: fatal error: 'my_config.h' file not found #include \"my_config.h\" ^~~~~~~~~~~~~ 1 error generated. error: command 'cc' failed with exit status 1 \u89e3\u51b3\u65b9\u6cd51\uff1a https://stackoverflow.com/questions/21638444/error-command-cc-failed-with-exit-status-1-mysqldb-installation-on-mac The problem is unused arguments passed to compiler. Try this before running your build code: export CFLAGS = -Qunused-arguments export CPPFLAGS = -Qunused-arguments \u4f7f\u7528\u4e0a\u9762\u7684\u7f16\u8bd1\u4e0d\u5904\u7406\u554a\u554a\uff01\u770b\u4e00\u4e0b\u6700\u65b0\u7684\u6559\u7a0b\u2018 \u53ef\u80fd\u662fpython2.7.10 \u6216\u80053\u7248\u672c\u7684\u539f\u56e0\uff0c\u56e0\u4e3a\u672c\u5730\u73b0\u5728\u4e24\u4e2a\u7248\u672c\u90fd\u5b89\u88c5 \u53ef\u80fd\u662f\u7248\u672c\u4e0d\u5bf9\u5e94\uff0cMySQL_python-1.2.5-cp27-none-win_amd64.whl \u652f\u6301windows\u7248\u672c\u6216\u8005linux\u7cfb\u7edf\uff0c\u4e0d\u652f\u6301Mac\u7cfb\u7edf\u3002 \u89e3\u51b3\u65b9\u6cd52\uff1a https://stackoverflow.com/questions/50864438/mac-pip-install-mysql-python-unsuccessful Installing of an older version of the MySQL worked for me: brew remove mysql brew install mysql@5.7 brew link --force mysql@5.7 pip install mysql-python","title":"\u5982\u4f55\u5b89\u88c5MySQLdb?"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_1","text":"\u8fde\u63a5\u6570\u636e\u5e93\u524d\uff0c\u8bf7\u5148\u786e\u8ba4\u4ee5\u4e0b\u4e8b\u9879\uff1a \u60a8\u5df2\u7ecf\u521b\u5efa\u4e86\u6570\u636e\u5e93 TESTDB. \u5728TESTDB\u6570\u636e\u5e93\u4e2d\u60a8\u5df2\u7ecf\u521b\u5efa\u4e86\u8868 EMPLOYEE EMPLOYEE\u8868\u5b57\u6bb5\u4e3a FIRST_NAME, LAST_NAME, AGE, SEX \u548c INCOME\u3002 \u8fde\u63a5\u6570\u636e\u5e93TESTDB\u4f7f\u7528\u7684\u7528\u6237\u540d\u4e3a \"testuser\" \uff0c\u5bc6\u7801\u4e3a \"test123\",\u4f60\u53ef\u4ee5\u53ef\u4ee5\u81ea\u5df1\u8bbe\u5b9a\u6216\u8005\u76f4\u63a5\u4f7f\u7528root\u7528\u6237\u540d\u53ca\u5176\u5bc6\u7801\uff0cMysql\u6570\u636e\u5e93\u7528\u6237\u6388\u6743\u8bf7\u4f7f\u7528Grant\u547d\u4ee4\u3002 \u5728\u4f60\u7684\u673a\u5b50\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4e86 Python MySQLdb \u6a21\u5757\u3002 \u5982\u679c\u60a8\u5bf9sql\u8bed\u53e5\u4e0d\u719f\u6089\uff0c\u53ef\u4ee5\u8bbf\u95ee\u6211\u4eec\u7684 SQL\u57fa\u7840\u6559\u7a0b","title":"\u6570\u636e\u5e93\u8fde\u63a5"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_2","text":"\u4ee5\u4e0b\u5b9e\u4f8b\u94fe\u63a5Mysql\u7684TESTDB\u6570\u636e\u5e93\uff1a #!/usr/bin/python # -*- coding: UTF-8 -*- import MySQLdb # \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5 db = MySQLdb . connect ( \"localhost\" , \"testuser\" , \"test123\" , \"TESTDB\" , charset = 'utf8' ) # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807 cursor = db . cursor () # \u4f7f\u7528execute\u65b9\u6cd5\u6267\u884cSQL\u8bed\u53e5 cursor . execute ( \"SELECT VERSION()\" ) # \u4f7f\u7528 fetchone() \u65b9\u6cd5\u83b7\u53d6\u4e00\u6761\u6570\u636e data = cursor . fetchone () print \"Database version : %s \" % data # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 db . close () \u6267\u884c\u4ee5\u4e0a\u811a\u672c\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\uff1a Database version : 5.0.45","title":"\u5b9e\u4f8b\uff1a"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_3","text":"\u5982\u679c\u6570\u636e\u5e93\u8fde\u63a5\u5b58\u5728\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528execute()\u65b9\u6cd5\u6765\u4e3a\u6570\u636e\u5e93\u521b\u5efa\u8868\uff0c\u5982\u4e0b\u6240\u793a\u521b\u5efa\u8868EMPLOYEE\uff1a ```python","title":"\u521b\u5efa\u6570\u636e\u5e93\u8868"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#usrbinpython","text":"","title":"!/usr/bin/python"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#-coding-utf-8-","text":"import MySQLdb","title":"-- coding: UTF-8 --"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_4","text":"db = MySQLdb.connect(\"localhost\", \"testuser\", \"test123\", \"TESTDB\", charset='utf8' )","title":"\u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#cursor","text":"cursor = db.cursor()","title":"\u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#execute","text":"cursor.execute(\"DROP TABLE IF EXISTS EMPLOYEE\")","title":"\u5982\u679c\u6570\u636e\u8868\u5df2\u7ecf\u5b58\u5728\u4f7f\u7528 execute() \u65b9\u6cd5\u5220\u9664\u8868\u3002"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#sql","text":"sql = \"\"\"CREATE TABLE EMPLOYEE ( FIRST_NAME CHAR(20) NOT NULL, LAST_NAME CHAR(20), AGE INT, SEX CHAR(1), INCOME FLOAT )\"\"\" cursor.execute(sql)","title":"\u521b\u5efa\u6570\u636e\u8868SQL\u8bed\u53e5"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_5","text":"db.close() ------ ## \u6570\u636e\u5e93\u63d2\u5165\u64cd\u4f5c \u4ee5\u4e0b\u5b9e\u4f8b\u4f7f\u7528\u6267\u884c SQL INSERT \u8bed\u53e5\u5411\u8868 EMPLOYEE \u63d2\u5165\u8bb0\u5f55\uff1a ```python #!/usr/bin/python # -*- coding: UTF-8 -*- import MySQLdb # \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5 db = MySQLdb.connect(\"localhost\", \"testuser\", \"test123\", \"TESTDB\", charset='utf8' ) # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807 cursor = db.cursor() # SQL \u63d2\u5165\u8bed\u53e5 sql = \"\"\"INSERT INTO EMPLOYEE(FIRST_NAME, LAST_NAME, AGE, SEX, INCOME) VALUES ('Mac', 'Mohan', 20, 'M', 2000)\"\"\" try: # \u6267\u884csql\u8bed\u53e5 cursor.execute(sql) # \u63d0\u4ea4\u5230\u6570\u636e\u5e93\u6267\u884c db.commit() except: # Rollback in case there is any error db.rollback() # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 db.close() \u4ee5\u4e0a\u4f8b\u5b50\u4e5f\u53ef\u4ee5\u5199\u6210\u5982\u4e0b\u5f62\u5f0f\uff1a #!/usr/bin/python # -*- coding: UTF-8 -*- import MySQLdb # \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5 db = MySQLdb . connect ( \"localhost\" , \"testuser\" , \"test123\" , \"TESTDB\" , charset = 'utf8' ) # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807 cursor = db . cursor () # SQL \u63d2\u5165\u8bed\u53e5 sql = \"INSERT INTO EMPLOYEE(FIRST_NAME, \\ LAST_NAME, AGE, SEX, INCOME) \\ VALUES ( %s , %s , %s , %s , %s )\" % \\ ( 'Mac' , 'Mohan' , 20 , 'M' , 2000 ) try : # \u6267\u884csql\u8bed\u53e5 cursor . execute ( sql ) # \u63d0\u4ea4\u5230\u6570\u636e\u5e93\u6267\u884c db . commit () except : # \u53d1\u751f\u9519\u8bef\u65f6\u56de\u6eda db . rollback () # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 db . close ()","title":"\u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_6","text":"\u4ee5\u4e0b\u4ee3\u7801\u4f7f\u7528\u53d8\u91cf\u5411SQL\u8bed\u53e5\u4e2d\u4f20\u9012\u53c2\u6570: .................................. user_id = \"test123\" password = \"password\" con.execute('insert into Login values(%s, %s)' % \\ (user_id, password)) ..................................","title":"\u5b9e\u4f8b\uff1a"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_7","text":"Python\u67e5\u8be2Mysql\u4f7f\u7528 fetchone() \u65b9\u6cd5\u83b7\u53d6\u5355\u6761\u6570\u636e, \u4f7f\u7528fetchall() \u65b9\u6cd5\u83b7\u53d6\u591a\u6761\u6570\u636e\u3002 fetchone(): \u8be5\u65b9\u6cd5\u83b7\u53d6\u4e0b\u4e00\u4e2a\u67e5\u8be2\u7ed3\u679c\u96c6\u3002\u7ed3\u679c\u96c6\u662f\u4e00\u4e2a\u5bf9\u8c61 **fetchall():**\u63a5\u6536\u5168\u90e8\u7684\u8fd4\u56de\u7ed3\u679c\u884c. rowcount: \u8fd9\u662f\u4e00\u4e2a\u53ea\u8bfb\u5c5e\u6027\uff0c\u5e76\u8fd4\u56de\u6267\u884cexecute()\u65b9\u6cd5\u540e\u5f71\u54cd\u7684\u884c\u6570\u3002","title":"\u6570\u636e\u5e93\u67e5\u8be2\u64cd\u4f5c"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_8","text":"\u67e5\u8be2EMPLOYEE\u8868\u4e2dsalary\uff08\u5de5\u8d44\uff09\u5b57\u6bb5\u5927\u4e8e1000\u7684\u6240\u6709\u6570\u636e\uff1a ```python","title":"\u5b9e\u4f8b\uff1a"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#usrbinpython_1","text":"","title":"!/usr/bin/python"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#-coding-utf-8-_1","text":"import MySQLdb","title":"-- coding: UTF-8 --"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_9","text":"db = MySQLdb.connect(\"localhost\", \"testuser\", \"test123\", \"TESTDB\", charset='utf8' )","title":"\u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#cursor_1","text":"cursor = db.cursor()","title":"\u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#sql_1","text":"sql = \"SELECT * FROM EMPLOYEE \\ WHERE INCOME > %s\" % (1000) try: # \u6267\u884cSQL\u8bed\u53e5 cursor.execute(sql) # \u83b7\u53d6\u6240\u6709\u8bb0\u5f55\u5217\u8868 results = cursor.fetchall() for row in results: fname = row[0] lname = row[1] age = row[2] sex = row[3] income = row[4] # \u6253\u5370\u7ed3\u679c print \"fname=%s,lname=%s,age=%s,sex=%s,income=%s\" % \\ (fname, lname, age, sex, income ) except: print \"Error: unable to fecth data\"","title":"SQL \u67e5\u8be2\u8bed\u53e5"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_10","text":"db.close() \u4ee5\u4e0a\u811a\u672c\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a fname=Mac, lname=Mohan, age=20, sex=M, income=2000 ------ ## \u6570\u636e\u5e93\u66f4\u65b0\u64cd\u4f5c \u66f4\u65b0\u64cd\u4f5c\u7528\u4e8e\u66f4\u65b0\u6570\u636e\u8868\u7684\u7684\u6570\u636e\uff0c\u4ee5\u4e0b\u5b9e\u4f8b\u5c06 EMPLOYEE \u8868\u4e2d\u7684 SEX \u5b57\u6bb5\u4e3a 'M' \u7684 AGE \u5b57\u6bb5\u9012\u589e 1\uff1a ```python #!/usr/bin/python # -*- coding: UTF-8 -*- import MySQLdb # \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5 db = MySQLdb.connect(\"localhost\", \"testuser\", \"test123\", \"TESTDB\", charset='utf8' ) # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807 cursor = db.cursor() # SQL \u66f4\u65b0\u8bed\u53e5 sql = \"UPDATE EMPLOYEE SET AGE = AGE + 1 WHERE SEX = '%c'\" % ('M') try: # \u6267\u884cSQL\u8bed\u53e5 cursor.execute(sql) # \u63d0\u4ea4\u5230\u6570\u636e\u5e93\u6267\u884c db.commit() except: # \u53d1\u751f\u9519\u8bef\u65f6\u56de\u6eda db.rollback() # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 db.close()","title":"\u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_11","text":"\u5220\u9664\u64cd\u4f5c\u7528\u4e8e\u5220\u9664\u6570\u636e\u8868\u4e2d\u7684\u6570\u636e\uff0c\u4ee5\u4e0b\u5b9e\u4f8b\u6f14\u793a\u4e86\u5220\u9664\u6570\u636e\u8868 EMPLOYEE \u4e2d AGE \u5927\u4e8e 20 \u7684\u6240\u6709\u6570\u636e\uff1a #!/usr/bin/python # -*- coding: UTF-8 -*- import MySQLdb # \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5 db = MySQLdb . connect ( \"localhost\" , \"testuser\" , \"test123\" , \"TESTDB\" , charset = 'utf8' ) # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807 cursor = db . cursor () # SQL \u5220\u9664\u8bed\u53e5 sql = \"DELETE FROM EMPLOYEE WHERE AGE > %s \" % ( 20 ) try : # \u6267\u884cSQL\u8bed\u53e5 cursor . execute ( sql ) # \u63d0\u4ea4\u4fee\u6539 db . commit () except : # \u53d1\u751f\u9519\u8bef\u65f6\u56de\u6eda db . rollback () # \u5173\u95ed\u8fde\u63a5 db.close()","title":"\u5220\u9664\u64cd\u4f5c"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_12","text":"\u4e8b\u52a1\u673a\u5236\u53ef\u4ee5\u786e\u4fdd\u6570\u636e\u4e00\u81f4\u6027\u3002 \u4e8b\u52a1\u5e94\u8be5\u5177\u67094\u4e2a\u5c5e\u6027\uff1a\u539f\u5b50\u6027\u3001\u4e00\u81f4\u6027\u3001\u9694\u79bb\u6027\u3001\u6301\u4e45\u6027\u3002\u8fd9\u56db\u4e2a\u5c5e\u6027\u901a\u5e38\u79f0\u4e3aACID\u7279\u6027\u3002 \u539f\u5b50\u6027\uff08atomicity\uff09\u3002\u4e00\u4e2a\u4e8b\u52a1\u662f\u4e00\u4e2a\u4e0d\u53ef\u5206\u5272\u7684\u5de5\u4f5c\u5355\u4f4d\uff0c\u4e8b\u52a1\u4e2d\u5305\u62ec\u7684\u8bf8\u64cd\u4f5c\u8981\u4e48\u90fd\u505a\uff0c\u8981\u4e48\u90fd\u4e0d\u505a\u3002 \u4e00\u81f4\u6027\uff08consistency\uff09\u3002\u4e8b\u52a1\u5fc5\u987b\u662f\u4f7f\u6570\u636e\u5e93\u4ece\u4e00\u4e2a\u4e00\u81f4\u6027\u72b6\u6001\u53d8\u5230\u53e6\u4e00\u4e2a\u4e00\u81f4\u6027\u72b6\u6001\u3002\u4e00\u81f4\u6027\u4e0e\u539f\u5b50\u6027\u662f\u5bc6\u5207\u76f8\u5173\u7684\u3002 \u9694\u79bb\u6027\uff08isolation\uff09\u3002\u4e00\u4e2a\u4e8b\u52a1\u7684\u6267\u884c\u4e0d\u80fd\u88ab\u5176\u4ed6\u4e8b\u52a1\u5e72\u6270\u3002\u5373\u4e00\u4e2a\u4e8b\u52a1\u5185\u90e8\u7684\u64cd\u4f5c\u53ca\u4f7f\u7528\u7684\u6570\u636e\u5bf9\u5e76\u53d1\u7684\u5176\u4ed6\u4e8b\u52a1\u662f\u9694\u79bb\u7684\uff0c\u5e76\u53d1\u6267\u884c\u7684\u5404\u4e2a\u4e8b\u52a1\u4e4b\u95f4\u4e0d\u80fd\u4e92\u76f8\u5e72\u6270\u3002 \u6301\u4e45\u6027\uff08durability\uff09\u3002\u6301\u7eed\u6027\u4e5f\u79f0\u6c38\u4e45\u6027\uff08permanence\uff09\uff0c\u6307\u4e00\u4e2a\u4e8b\u52a1\u4e00\u65e6\u63d0\u4ea4\uff0c\u5b83\u5bf9\u6570\u636e\u5e93\u4e2d\u6570\u636e\u7684\u6539\u53d8\u5c31\u5e94\u8be5\u662f\u6c38\u4e45\u6027\u7684\u3002\u63a5\u4e0b\u6765\u7684\u5176\u4ed6\u64cd\u4f5c\u6216\u6545\u969c\u4e0d\u5e94\u8be5\u5bf9\u5176\u6709\u4efb\u4f55\u5f71\u54cd\u3002 Python DB API 2.0 \u7684\u4e8b\u52a1\u63d0\u4f9b\u4e86\u4e24\u4e2a\u65b9\u6cd5 commit \u6216 rollback\u3002","title":"\u6267\u884c\u4e8b\u52a1"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_13","text":"# SQL\u5220\u9664\u8bb0\u5f55\u8bed\u53e5 sql = \"DELETE FROM EMPLOYEE WHERE AGE > %s\" % ( 20 ) try : # \u6267\u884c SQL\u8bed\u53e5 cursor . execute ( sql ) # \u5411\u6570\u636e\u5e93\u63d0\u4ea4 db . commit () except : # \u53d1\u751f\u9519\u8bef\u65f6\u56de\u6eda db . rollback () \u5bf9\u4e8e\u652f\u6301\u4e8b\u52a1\u7684\u6570\u636e\u5e93\uff0c \u5728Python\u6570\u636e\u5e93\u7f16\u7a0b\u4e2d\uff0c\u5f53\u6e38\u6807\u5efa\u7acb\u4e4b\u65f6\uff0c\u5c31\u81ea\u52a8\u5f00\u59cb\u4e86\u4e00\u4e2a\u9690\u5f62\u7684\u6570\u636e\u5e93\u4e8b\u52a1\u3002 commit()\u65b9\u6cd5\u6e38\u6807\u7684\u6240\u6709\u66f4\u65b0\u64cd\u4f5c\uff0crollback\uff08\uff09\u65b9\u6cd5\u56de\u6eda\u5f53\u524d\u6e38\u6807\u7684\u6240\u6709\u64cd\u4f5c\u3002\u6bcf\u4e00\u4e2a\u65b9\u6cd5\u90fd\u5f00\u59cb\u4e86\u4e00\u4e2a\u65b0\u7684\u4e8b\u52a1\u3002","title":"\u5b9e\u4f8b\uff1a"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_14","text":"DB API\u4e2d\u5b9a\u4e49\u4e86\u4e00\u4e9b\u6570\u636e\u5e93\u64cd\u4f5c\u7684\u9519\u8bef\u53ca\u5f02\u5e38\uff0c\u4e0b\u8868\u5217\u51fa\u4e86\u8fd9\u4e9b\u9519\u8bef\u548c\u5f02\u5e38: \u5f02\u5e38 \u63cf\u8ff0 Warning \u5f53\u6709\u4e25\u91cd\u8b66\u544a\u65f6\u89e6\u53d1\uff0c\u4f8b\u5982\u63d2\u5165\u6570\u636e\u662f\u88ab\u622a\u65ad\u7b49\u7b49\u3002\u5fc5\u987b\u662f StandardError \u7684\u5b50\u7c7b\u3002 Error \u8b66\u544a\u4ee5\u5916\u6240\u6709\u5176\u4ed6\u9519\u8bef\u7c7b\u3002\u5fc5\u987b\u662f StandardError \u7684\u5b50\u7c7b\u3002 InterfaceError \u5f53\u6709\u6570\u636e\u5e93\u63a5\u53e3\u6a21\u5757\u672c\u8eab\u7684\u9519\u8bef\uff08\u800c\u4e0d\u662f\u6570\u636e\u5e93\u7684\u9519\u8bef\uff09\u53d1\u751f\u65f6\u89e6\u53d1\u3002 \u5fc5\u987b\u662fError\u7684\u5b50\u7c7b\u3002 DatabaseError \u548c\u6570\u636e\u5e93\u6709\u5173\u7684\u9519\u8bef\u53d1\u751f\u65f6\u89e6\u53d1\u3002 \u5fc5\u987b\u662fError\u7684\u5b50\u7c7b\u3002 DataError \u5f53\u6709\u6570\u636e\u5904\u7406\u65f6\u7684\u9519\u8bef\u53d1\u751f\u65f6\u89e6\u53d1\uff0c\u4f8b\u5982\uff1a\u9664\u96f6\u9519\u8bef\uff0c\u6570\u636e\u8d85\u8303\u56f4\u7b49\u7b49\u3002 \u5fc5\u987b\u662fDatabaseError\u7684\u5b50\u7c7b\u3002 OperationalError \u6307\u975e\u7528\u6237\u63a7\u5236\u7684\uff0c\u800c\u662f\u64cd\u4f5c\u6570\u636e\u5e93\u65f6\u53d1\u751f\u7684\u9519\u8bef\u3002\u4f8b\u5982\uff1a\u8fde\u63a5\u610f\u5916\u65ad\u5f00\u3001 \u6570\u636e\u5e93\u540d\u672a\u627e\u5230\u3001\u4e8b\u52a1\u5904\u7406\u5931\u8d25\u3001\u5185\u5b58\u5206\u914d\u9519\u8bef\u7b49\u7b49\u64cd\u4f5c\u6570\u636e\u5e93\u662f\u53d1\u751f\u7684\u9519\u8bef\u3002 \u5fc5\u987b\u662fDatabaseError\u7684\u5b50\u7c7b\u3002 IntegrityError \u5b8c\u6574\u6027\u76f8\u5173\u7684\u9519\u8bef\uff0c\u4f8b\u5982\u5916\u952e\u68c0\u67e5\u5931\u8d25\u7b49\u3002\u5fc5\u987b\u662fDatabaseError\u5b50\u7c7b\u3002 InternalError \u6570\u636e\u5e93\u7684\u5185\u90e8\u9519\u8bef\uff0c\u4f8b\u5982\u6e38\u6807\uff08cursor\uff09\u5931\u6548\u4e86\u3001\u4e8b\u52a1\u540c\u6b65\u5931\u8d25\u7b49\u7b49\u3002 \u5fc5\u987b\u662fDatabaseError\u5b50\u7c7b\u3002 ProgrammingError \u7a0b\u5e8f\u9519\u8bef\uff0c\u4f8b\u5982\u6570\u636e\u8868\uff08table\uff09\u6ca1\u627e\u5230\u6216\u5df2\u5b58\u5728\u3001SQL\u8bed\u53e5\u8bed\u6cd5\u9519\u8bef\u3001 \u53c2\u6570\u6570\u91cf\u9519\u8bef\u7b49\u7b49\u3002\u5fc5\u987b\u662fDatabaseError\u7684\u5b50\u7c7b\u3002 NotSupportedError \u4e0d\u652f\u6301\u9519\u8bef\uff0c\u6307\u4f7f\u7528\u4e86\u6570\u636e\u5e93\u4e0d\u652f\u6301\u7684\u51fd\u6570\u6216API\u7b49\u3002\u4f8b\u5982\u5728\u8fde\u63a5\u5bf9\u8c61\u4e0a \u4f7f\u7528.rollback()\u51fd\u6570\uff0c\u7136\u800c\u6570\u636e\u5e93\u5e76\u4e0d\u652f\u6301\u4e8b\u52a1\u6216\u8005\u4e8b\u52a1\u5df2\u5173\u95ed\u3002 \u5fc5\u987b\u662fDatabaseError\u7684\u5b50\u7c7b\u3002","title":"\u9519\u8bef\u5904\u7406"},{"location":"SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_15","text":"\u5173\u4e8eMysql\u7684\u8fde\u63a5\uff0c\u7ecf\u8fc7\u6478\u7d22\uff0c\u5efa\u8bae\u6b63\u6587\u4fee\u6539\u4e00\u4e0b\uff0c\u4f7f\u7528mysql\u5b98\u65b9\u63d0\u4f9b\u7684\u8fde\u63a5\u5668\uff0c\u6211\u76ee\u524d\u5b89\u88c5\u7684mysql\u662f8.0.12\u7248\u672c\uff0c\u6570\u636e\u5e93\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u5b89\u88c5\u201cmysql-connector-python-8.0.12-py2.7-windows-x86-64bit\u201d\uff0c\u5f53\u7136\u4e86\uff0c\u8981\u6839\u636e\u81ea\u5df1\u7684\u64cd\u4f5c\u7cfb\u7edf\u548cpython\u7248\u672c\u4ee5\u53ca\u4f4d\u6570\u8fdb\u884c\u9009\u62e9\uff0c\u6211\u662fwin10\u768464\u4f4d\uff0cpython2.7\u768464\u4f4d\uff0c\u6545\u9009\u62e9\u7684\u4e0a\u8ff0\u63d2\u4ef6\uff0c\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u76f4\u63a5\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\u8fdb\u884c\u6d4b\u8bd5\uff1a # -*- coding:utf-8 -*- import mysql.connector # \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5\uff08\u8bf7\u6839\u636e\u81ea\u5df1\u7684\u7528\u6237\u540d\u3001\u5bc6\u7801\u53ca\u6570\u636e\u5e93\u540d\u79f0\u8fdb\u884c\u4fee\u6539\uff09 cnn = mysql . connector . connect ( user = 'root' , passwd = 'root' , database = 'testdb' ) # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807 cursor = cnn . cursor () # \u4f7f\u7528execute\u65b9\u6cd5\u6267\u884cSQL\u8bed\u53e5 cursor . execute ( \"SELECT VERSION()\" ) # \u4f7f\u7528 fetchone() \u65b9\u6cd5\u83b7\u53d6\u4e00\u6761\u6570\u636e data = cursor . fetchone () print \"Database version : %s \" % data # \u6267\u884csql\u8bed\u53e5 cnn . close () \u663e\u793a\u7684\u7ed3\u679c\u5e94\u8be5\u5982\u4e0b \uff1a Database version : 8.0 . 12 \u663e\u793a\u7684\u7ed3\u679c\u5e94\u8be5\u5982\u4e0b\uff1a Database version : 8.0.12 \u76f8\u5173\u8d44\u6e90\u4e0b\u8f7d\u94fe\u63a5\u5982\u4e0b\uff1a Python2.7\uff08\u4e2a\u4eba\u89c9\u5f97\u8fd9\u4e2a\u7248\u672c\u8bed\u53e5\u517c\u5bb9\u6027\u9ad8\uff0c\u9002\u5408\u5165\u95e8\uff09\uff1a https://blog.python.org/2018/05/python-2715-released.html Mysql8.0.12\uff08\u8bf7\u6839\u636e\u81ea\u5df1\u9700\u8981\u9009\u62e9\u7248\u672c\uff09\uff1a https://dev.mysql.com/downloads/installer/ Mysql\u5b98\u65b9\u6570\u636e\u5e93\u8fde\u63a5\u5668\uff08\u8bf7\u6839\u636e\u81ea\u5df1\u9700\u8981\u9009\u62e9\uff09\uff1a https://dev.mysql.com/downloads/connector/python/ \u5907\u6ce8\uff1a\u6709\u4e9b\u9875\u9762\u6253\u5f00\u4f1a\u5f88\u56f0\u96be\uff0c\u539f\u56e0\u4e0d\u89e3\u91ca\uff0c\u5982\u679c\u5b9e\u5728\u6253\u4e0d\u5f00\uff0c\u90a3\u5c31\u81ea\u5df1\u641c\u4e00\u4e0b\u5427\u3002 fun_zb fun_zb fun***@qq.com1\u5e74\u524d (2018-08-25","title":"\u8bf4\u660e"},{"location":"SQL/SQLite-API-Python/","text":"SQLite - Python \u00b6 \u5b89\u88c5 \u00b6 SQLite3 \u53ef\u4f7f\u7528 sqlite3 \u6a21\u5757\u4e0e Python \u8fdb\u884c\u96c6\u6210\u3002sqlite3 \u6a21\u5757\u662f\u7531 Gerhard Haring \u7f16\u5199\u7684\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4e0e PEP 249 \u63cf\u8ff0\u7684 DB-API 2.0 \u89c4\u8303\u517c\u5bb9\u7684 SQL \u63a5\u53e3\u3002\u60a8\u4e0d\u9700\u8981\u5355\u72ec\u5b89\u88c5\u8be5\u6a21\u5757\uff0c\u56e0\u4e3a Python 2.5.x \u4ee5\u4e0a\u7248\u672c\u9ed8\u8ba4\u81ea\u5e26\u4e86\u8be5\u6a21\u5757\u3002 \u4e3a\u4e86\u4f7f\u7528 sqlite3 \u6a21\u5757\uff0c\u60a8\u9996\u5148\u5fc5\u987b\u521b\u5efa\u4e00\u4e2a\u8868\u793a\u6570\u636e\u5e93\u7684\u8fde\u63a5\u5bf9\u8c61\uff0c\u7136\u540e\u60a8\u53ef\u4ee5\u6709\u9009\u62e9\u5730\u521b\u5efa\u5149\u6807\u5bf9\u8c61\uff0c\u8fd9\u5c06\u5e2e\u52a9\u60a8\u6267\u884c\u6240\u6709\u7684 SQL \u8bed\u53e5\u3002 Python sqlite3 \u6a21\u5757 API \u00b6 \u4ee5\u4e0b\u662f\u91cd\u8981\u7684 sqlite3 \u6a21\u5757\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u6ee1\u8db3\u60a8\u5728 Python \u7a0b\u5e8f\u4e2d\u4f7f\u7528 SQLite \u6570\u636e\u5e93\u7684\u9700\u6c42\u3002\u5982\u679c\u60a8\u9700\u8981\u4e86\u89e3\u66f4\u591a\u7ec6\u8282\uff0c\u8bf7\u67e5\u770b Python sqlite3 \u6a21\u5757\u7684\u5b98\u65b9\u6587\u6863\u3002 \u5e8f\u53f7 API & \u63cf\u8ff0 1 sqlite3.connect(database [,timeout ,other optional arguments]) \u8be5 API \u6253\u5f00\u4e00\u4e2a\u5230 SQLite \u6570\u636e\u5e93\u6587\u4ef6 database \u7684\u94fe\u63a5\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 \":memory:\" \u6765\u5728 RAM \u4e2d\u6253\u5f00\u4e00\u4e2a\u5230 database \u7684\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u800c\u4e0d\u662f\u5728\u78c1\u76d8\u4e0a\u6253\u5f00\u3002\u5982\u679c\u6570\u636e\u5e93\u6210\u529f\u6253\u5f00\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u8fde\u63a5\u5bf9\u8c61\u3002\u5f53\u4e00\u4e2a\u6570\u636e\u5e93\u88ab\u591a\u4e2a\u8fde\u63a5\u8bbf\u95ee\uff0c\u4e14\u5176\u4e2d\u4e00\u4e2a\u4fee\u6539\u4e86\u6570\u636e\u5e93\uff0c\u6b64\u65f6 SQLite \u6570\u636e\u5e93\u88ab\u9501\u5b9a\uff0c\u76f4\u5230\u4e8b\u52a1\u63d0\u4ea4\u3002timeout \u53c2\u6570\u8868\u793a\u8fde\u63a5\u7b49\u5f85\u9501\u5b9a\u7684\u6301\u7eed\u65f6\u95f4\uff0c\u76f4\u5230\u53d1\u751f\u5f02\u5e38\u65ad\u5f00\u8fde\u63a5\u3002timeout \u53c2\u6570\u9ed8\u8ba4\u662f 5.0\uff085 \u79d2\uff09\u3002\u5982\u679c\u7ed9\u5b9a\u7684\u6570\u636e\u5e93\u540d\u79f0 filename \u4e0d\u5b58\u5728\uff0c\u5219\u8be5\u8c03\u7528\u5c06\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5e93\u3002\u5982\u679c\u60a8\u4e0d\u60f3\u5728\u5f53\u524d\u76ee\u5f55\u4e2d\u521b\u5efa\u6570\u636e\u5e93\uff0c\u90a3\u4e48\u60a8\u53ef\u4ee5\u6307\u5b9a\u5e26\u6709\u8def\u5f84\u7684\u6587\u4ef6\u540d\uff0c\u8fd9\u6837\u60a8\u5c31\u80fd\u5728\u4efb\u610f\u5730\u65b9\u521b\u5efa\u6570\u636e\u5e93\u3002 2 connection.cursor([cursorClass]) \u8be5\u4f8b\u7a0b\u521b\u5efa\u4e00\u4e2a cursor \uff0c\u5c06\u5728 Python \u6570\u636e\u5e93\u7f16\u7a0b\u4e2d\u7528\u5230\u3002\u8be5\u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5355\u4e00\u7684\u53ef\u9009\u7684\u53c2\u6570 cursorClass\u3002\u5982\u679c\u63d0\u4f9b\u4e86\u8be5\u53c2\u6570\uff0c\u5219\u5b83\u5fc5\u987b\u662f\u4e00\u4e2a\u6269\u5c55\u81ea sqlite3.Cursor \u7684\u81ea\u5b9a\u4e49\u7684 cursor \u7c7b\u3002 3 cursor.execute(sql [, optional parameters]) \u8be5\u4f8b\u7a0b\u6267\u884c\u4e00\u4e2a SQL \u8bed\u53e5\u3002\u8be5 SQL \u8bed\u53e5\u53ef\u4ee5\u88ab\u53c2\u6570\u5316\uff08\u5373\u4f7f\u7528\u5360\u4f4d\u7b26\u4ee3\u66ff SQL \u6587\u672c\uff09\u3002sqlite3 \u6a21\u5757\u652f\u6301\u4e24\u79cd\u7c7b\u578b\u7684\u5360\u4f4d\u7b26\uff1a\u95ee\u53f7\u548c\u547d\u540d\u5360\u4f4d\u7b26\uff08\u547d\u540d\u6837\u5f0f\uff09\u3002\u4f8b\u5982\uff1acursor.execute(\"insert into people values (?, ?)\", (who, age)) 4 connection.execute(sql [, optional parameters]) \u8be5\u4f8b\u7a0b\u662f\u4e0a\u9762\u6267\u884c\u7684\u7531\u5149\u6807\uff08cursor\uff09\u5bf9\u8c61\u63d0\u4f9b\u7684\u65b9\u6cd5\u7684\u5feb\u6377\u65b9\u5f0f\uff0c\u5b83\u901a\u8fc7\u8c03\u7528\u5149\u6807\uff08cursor\uff09\u65b9\u6cd5\u521b\u5efa\u4e86\u4e00\u4e2a\u4e2d\u95f4\u7684\u5149\u6807\u5bf9\u8c61\uff0c\u7136\u540e\u901a\u8fc7\u7ed9\u5b9a\u7684\u53c2\u6570\u8c03\u7528\u5149\u6807\u7684 execute \u65b9\u6cd5\u3002 5 cursor.executemany(sql, seq_of_parameters) \u8be5\u4f8b\u7a0b\u5bf9 seq_of_parameters \u4e2d\u7684\u6240\u6709\u53c2\u6570\u6216\u6620\u5c04\u6267\u884c\u4e00\u4e2a SQL \u547d\u4ee4\u3002 6 connection.executemany(sql[, parameters]) \u8be5\u4f8b\u7a0b\u662f\u4e00\u4e2a\u7531\u8c03\u7528\u5149\u6807\uff08cursor\uff09\u65b9\u6cd5\u521b\u5efa\u7684\u4e2d\u95f4\u7684\u5149\u6807\u5bf9\u8c61\u7684\u5feb\u6377\u65b9\u5f0f\uff0c\u7136\u540e\u901a\u8fc7\u7ed9\u5b9a\u7684\u53c2\u6570\u8c03\u7528\u5149\u6807\u7684 executemany \u65b9\u6cd5\u3002 7 cursor.executescript(sql_script) \u8be5\u4f8b\u7a0b\u4e00\u65e6\u63a5\u6536\u5230\u811a\u672c\uff0c\u4f1a\u6267\u884c\u591a\u4e2a SQL \u8bed\u53e5\u3002\u5b83\u9996\u5148\u6267\u884c COMMIT \u8bed\u53e5\uff0c\u7136\u540e\u6267\u884c\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u7684 SQL \u811a\u672c\u3002\u6240\u6709\u7684 SQL \u8bed\u53e5\u5e94\u8be5\u7528\u5206\u53f7\uff08;\uff09\u5206\u9694\u3002 8 connection.executescript(sql_script) \u8be5\u4f8b\u7a0b\u662f\u4e00\u4e2a\u7531\u8c03\u7528\u5149\u6807\uff08cursor\uff09\u65b9\u6cd5\u521b\u5efa\u7684\u4e2d\u95f4\u7684\u5149\u6807\u5bf9\u8c61\u7684\u5feb\u6377\u65b9\u5f0f\uff0c\u7136\u540e\u901a\u8fc7\u7ed9\u5b9a\u7684\u53c2\u6570\u8c03\u7528\u5149\u6807\u7684 executescript \u65b9\u6cd5\u3002 9 connection.total_changes() \u8be5\u4f8b\u7a0b\u8fd4\u56de\u81ea\u6570\u636e\u5e93\u8fde\u63a5\u6253\u5f00\u4ee5\u6765\u88ab\u4fee\u6539\u3001\u63d2\u5165\u6216\u5220\u9664\u7684\u6570\u636e\u5e93\u603b\u884c\u6570\u3002 10 connection.commit() \u8be5\u65b9\u6cd5\u63d0\u4ea4\u5f53\u524d\u7684\u4e8b\u52a1\u3002\u5982\u679c\u60a8\u672a\u8c03\u7528\u8be5\u65b9\u6cd5\uff0c\u90a3\u4e48\u81ea\u60a8\u4e0a\u4e00\u6b21\u8c03\u7528 commit() \u4ee5\u6765\u6240\u505a\u7684\u4efb\u4f55\u52a8\u4f5c\u5bf9\u5176\u4ed6\u6570\u636e\u5e93\u8fde\u63a5\u6765\u8bf4\u662f\u4e0d\u53ef\u89c1\u7684\u3002 11 connection.rollback() \u8be5\u65b9\u6cd5\u56de\u6eda\u81ea\u4e0a\u4e00\u6b21\u8c03\u7528 commit() \u4ee5\u6765\u5bf9\u6570\u636e\u5e93\u6240\u505a\u7684\u66f4\u6539\u3002 12 connection.close() \u8be5\u65b9\u6cd5\u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e0d\u4f1a\u81ea\u52a8\u8c03\u7528 commit()\u3002\u5982\u679c\u60a8\u4e4b\u524d\u672a\u8c03\u7528 commit() \u65b9\u6cd5\uff0c\u5c31\u76f4\u63a5\u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u60a8\u6240\u505a\u7684\u6240\u6709\u66f4\u6539\u5c06\u5168\u90e8\u4e22\u5931\uff01 13 cursor.fetchone() \u8be5\u65b9\u6cd5\u83b7\u53d6\u67e5\u8be2\u7ed3\u679c\u96c6\u4e2d\u7684\u4e0b\u4e00\u884c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5355\u4e00\u7684\u5e8f\u5217\uff0c\u5f53\u6ca1\u6709\u66f4\u591a\u53ef\u7528\u7684\u6570\u636e\u65f6\uff0c\u5219\u8fd4\u56de None\u3002 14 cursor.fetchmany([size=cursor.arraysize]) \u8be5\u65b9\u6cd5\u83b7\u53d6\u67e5\u8be2\u7ed3\u679c\u96c6\u4e2d\u7684\u4e0b\u4e00\u884c\u7ec4\uff0c\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\u3002\u5f53\u6ca1\u6709\u66f4\u591a\u7684\u53ef\u7528\u7684\u884c\u65f6\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u7a7a\u7684\u5217\u8868\u3002\u8be5\u65b9\u6cd5\u5c1d\u8bd5\u83b7\u53d6\u7531 size \u53c2\u6570\u6307\u5b9a\u7684\u5c3d\u53ef\u80fd\u591a\u7684\u884c\u3002 15 cursor.fetchall() \u8be5\u4f8b\u7a0b\u83b7\u53d6\u67e5\u8be2\u7ed3\u679c\u96c6\u4e2d\u6240\u6709\uff08\u5269\u4f59\uff09\u7684\u884c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\u3002\u5f53\u6ca1\u6709\u53ef\u7528\u7684\u884c\u65f6\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u7a7a\u7684\u5217\u8868\u3002 \u8fde\u63a5\u6570\u636e\u5e93 \u00b6 \u4e0b\u9762\u7684 Python \u4ee3\u7801\u663e\u793a\u4e86\u5982\u4f55\u8fde\u63a5\u5230\u4e00\u4e2a\u73b0\u6709\u7684\u6570\u636e\u5e93\u3002\u5982\u679c\u6570\u636e\u5e93\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48\u5b83\u5c31\u4f1a\u88ab\u521b\u5efa\uff0c\u6700\u540e\u5c06\u8fd4\u56de\u4e00\u4e2a\u6570\u636e\u5e93\u5bf9\u8c61\u3002 #!/usr/bin/python import sqlite3 conn = sqlite3 . connect ( 'test.db' ) print \"Opened database successfully\" ; # import sqlite3 conn = sqlite3 . connect ( 'michael.db' ) print \"open database successfully\" \u5728\u8fd9\u91cc\uff0c\u60a8\u4e5f\u53ef\u4ee5\u628a\u6570\u636e\u5e93\u540d\u79f0\u590d\u5236\u4e3a\u7279\u5b9a\u7684\u540d\u79f0 :memory: \uff0c\u8fd9\u6837\u5c31\u4f1a\u5728 RAM \u4e2d\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5e93\u3002\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u6765\u8fd0\u884c\u4e0a\u9762\u7684\u7a0b\u5e8f\uff0c\u5728\u5f53\u524d\u76ee\u5f55\u4e2d\u521b\u5efa\u6211\u4eec\u7684\u6570\u636e\u5e93 test.db \u3002\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u6539\u53d8\u8def\u5f84\u3002\u4fdd\u5b58\u4e0a\u9762\u4ee3\u7801\u5230 sqlite.py \u6587\u4ef6\u4e2d\uff0c\u5e76\u6309\u5982\u4e0b\u6240\u793a\u6267\u884c\u3002\u5982\u679c\u6570\u636e\u5e93\u6210\u529f\u521b\u5efa\uff0c\u90a3\u4e48\u4f1a\u663e\u793a\u4e0b\u9762\u6240\u793a\u7684\u6d88\u606f\uff1a $chmod +x sqlite.py $./sqlite.py Open database successfully \u521b\u5efa\u8868 \u00b6 \u4e0b\u9762\u7684 Python \u4ee3\u7801\u6bb5\u5c06\u7528\u4e8e\u5728\u5148\u524d\u521b\u5efa\u7684\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u4e00\u4e2a\u8868\uff1a #!/usr/bin/python import sqlite3 conn = sqlite3 . connect ( 'test.db' ) print \"Opened database successfully\" ; c = conn . cursor () c . execute ( '''CREATE TABLE COMPANY (ID INT PRIMARY KEY NOT NULL, NAME TEXT NOT NULL, AGE INT NOT NULL, ADDRESS CHAR(50), SALARY REAL);''' ) print \"Table created successfully\" ; conn . commit () conn . close () import sqlite3 conn = sqlite3 . connect ( 'michael.db' ) print \"OPEN database successfully\" c = conn . cursor () c . execute ( '''CREATE TABLE ACCOUNT (ID INT PRIMARY KEY NOT NULL, NAME TEXT NOT NULL, AGE INT NOT NULL, ADDRESS CHAR(50), SALARY REAL);''' ) print \"create table successfully\" conn . commit () conn . close () \u4e0a\u8ff0\u7a0b\u5e8f\u6267\u884c\u65f6\uff0c\u5b83\u4f1a\u5728 test.db \u4e2d\u521b\u5efa COMPANY \u8868\uff0c\u5e76\u663e\u793a\u4e0b\u9762\u6240\u793a\u7684\u6d88\u606f\uff1a Opened database successfully Table created successfully INSERT \u64cd\u4f5c \u00b6 \u4e0b\u9762\u7684 Python \u7a0b\u5e8f\u663e\u793a\u4e86\u5982\u4f55\u5728\u4e0a\u9762\u521b\u5efa\u7684 COMPANY \u8868\u4e2d\u521b\u5efa\u8bb0\u5f55\uff1a ```python !/usr/bin/python \u00b6 import sqlite3 conn = sqlite3.connect('test.db') c = conn.cursor() print \"Opened database successfully\" c.execute(\"INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY) \\ VALUES (1, 'Paul', 32, 'California', 20000.00 )\") c.execute(\"INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY) \\ VALUES (2, 'Allen', 25, 'Texas', 15000.00 )\") c.execute(\"INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY) \\ VALUES (3, 'Teddy', 23, 'Norway', 20000.00 )\") c.execute(\"INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY) \\ VALUES (4, 'Mark', 25, 'Rich-Mond ', 65000.00 )\") conn.commit() print \"Records created successfully\"; conn.close() import sqlite3 conn = sqlite3.connect('michael.db') c = conn.cursor() print 'Open successfully' c.execute(\"INSERT INTO ACCOUNT (ID,NAME,AGE,ADDRESS,SALARY) VALUES(1, 'Mike', 32, NULL, 10000)\") conn.commit() conn.close() \u4e0a\u8ff0\u7a0b\u5e8f\u6267\u884c\u65f6\uff0c\u5b83\u4f1a\u5728 COMPANY \u8868\u4e2d\u521b\u5efa\u7ed9\u5b9a\u8bb0\u5f55\uff0c\u5e76\u4f1a\u663e\u793a\u4ee5\u4e0b\u4e24\u884c\uff1a Opened database successfully Records created successfully ## SELECT \u64cd\u4f5c \u4e0b\u9762\u7684 Python \u7a0b\u5e8f\u663e\u793a\u4e86\u5982\u4f55\u4ece\u524d\u9762\u521b\u5efa\u7684 COMPANY \u8868\u4e2d\u83b7\u53d6\u5e76\u663e\u793a\u8bb0\u5f55\uff1a ```python #!/usr/bin/python import sqlite3 conn = sqlite3.connect('test.db') c = conn.cursor() cursor = c.execute(\"SELECT id, name, address, salary from COMPANY\") for row in cursor: print \"ID = \", row[0] print \"NAME = \", row[1] print \"ADDRESS = \", row[2] print \"SALARY = \", row[3], \"\\n\" conn.close() import sqlite3 conn = sqlite3.connect('test.db') c = conn.cursor() cursor = c.execute(\"SELECT id, name, address, salary from ACCOUNT\") for row in cursor: print row[0] print row[1] print row[2] print row[3] conn.close() \u4e0a\u8ff0\u7a0b\u5e8f\u6267\u884c\u65f6\uff0c\u5b83\u4f1a\u4ea7\u751f\u4ee5\u4e0b\u7ed3\u679c\uff1a Opened database successfully ID = 1 NAME = Paul ADDRESS = California SALARY = 20000 .0 ID = 2 NAME = Allen ADDRESS = Texas SALARY = 15000 .0 ID = 3 NAME = Teddy ADDRESS = Norway SALARY = 20000 .0 ID = 4 NAME = Mark ADDRESS = Rich-Mond SALARY = 65000 .0 Operation done successfully UPDATE \u64cd\u4f5c \u00b6 \u4e0b\u9762\u7684 Python \u4ee3\u7801\u663e\u793a\u4e86\u5982\u4f55\u4f7f\u7528 UPDATE \u8bed\u53e5\u6765\u66f4\u65b0\u4efb\u4f55\u8bb0\u5f55\uff0c\u7136\u540e\u4ece COMPANY \u8868\u4e2d\u83b7\u53d6\u5e76\u663e\u793a\u66f4\u65b0\u7684\u8bb0\u5f55\uff1a #!/usr/bin/python import sqlite3 conn = sqlite3 . connect ( 'test.db' ) c = conn . cursor () c . execute ( \"UPDATE COMPANY set SALARY = 25000.00 where ID=1\" ) conn . commit () cursor = conn . execute ( \"SELECT id, name, address, salary from COMPANY\" ) for row in cursor : print \"ID = \" , row [ 0 ] print \"NAME = \" , row [ 1 ] print \"ADDRESS = \" , row [ 2 ] print \"SALARY = \" , row [ 3 ], \" \\n \" conn . close () \u4e0a\u8ff0\u7a0b\u5e8f\u6267\u884c\u65f6\uff0c\u5b83\u4f1a\u4ea7\u751f\u4ee5\u4e0b\u7ed3\u679c\uff1a Opened database successfully Total number of rows updated : 1 ID = 1 NAME = Paul ADDRESS = California SALARY = 25000.0 ID = 2 NAME = Allen ADDRESS = Texas SALARY = 15000.0 ID = 3 NAME = Teddy ADDRESS = Norway SALARY = 20000.0 ID = 4 NAME = Mark ADDRESS = Rich-Mond SALARY = 65000.0 Operation done successfully DELETE \u64cd\u4f5c \u00b6 \u4e0b\u9762\u7684 Python \u4ee3\u7801\u663e\u793a\u4e86\u5982\u4f55\u4f7f\u7528 DELETE \u8bed\u53e5\u5220\u9664\u4efb\u4f55\u8bb0\u5f55\uff0c\u7136\u540e\u4ece COMPANY \u8868\u4e2d\u83b7\u53d6\u5e76\u663e\u793a\u5269\u4f59\u7684\u8bb0\u5f55\uff1a #!/usr/bin/python import sqlite3 conn = sqlite3 . connect ( 'test.db' ) c = conn . cursor () c . execute ( \"DELETE from COMPANY where ID=2;\" ) conn . commit () print \"Total number of rows deleted :\" , conn . total_changes cursor = conn . execute ( \"SELECT id, name, address, salary from COMPANY\" ) for row in cursor : print \"ID = \" , row [ 0 ] print \"NAME = \" , row [ 1 ] print \"ADDRESS = \" , row [ 2 ] print \"SALARY = \" , row [ 3 ], \" \\n \" conn . close () \u4e0a\u8ff0\u7a0b\u5e8f\u6267\u884c\u65f6\uff0c\u5b83\u4f1a\u4ea7\u751f\u4ee5\u4e0b\u7ed3\u679c\uff1a Opened database successfully Total number of rows deleted : 1 ID = 1 NAME = Paul ADDRESS = California SALARY = 20000.0 ID = 3 NAME = Teddy ADDRESS = Norway SALARY = 20000.0 ID = 4 NAME = Mark ADDRESS = Rich-Mond SALARY = 65000.0 Operation done successfully","title":"SQLite-API-Python"},{"location":"SQL/SQLite-API-Python/#sqlite-python","text":"","title":"SQLite - Python"},{"location":"SQL/SQLite-API-Python/#_1","text":"SQLite3 \u53ef\u4f7f\u7528 sqlite3 \u6a21\u5757\u4e0e Python \u8fdb\u884c\u96c6\u6210\u3002sqlite3 \u6a21\u5757\u662f\u7531 Gerhard Haring \u7f16\u5199\u7684\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4e0e PEP 249 \u63cf\u8ff0\u7684 DB-API 2.0 \u89c4\u8303\u517c\u5bb9\u7684 SQL \u63a5\u53e3\u3002\u60a8\u4e0d\u9700\u8981\u5355\u72ec\u5b89\u88c5\u8be5\u6a21\u5757\uff0c\u56e0\u4e3a Python 2.5.x \u4ee5\u4e0a\u7248\u672c\u9ed8\u8ba4\u81ea\u5e26\u4e86\u8be5\u6a21\u5757\u3002 \u4e3a\u4e86\u4f7f\u7528 sqlite3 \u6a21\u5757\uff0c\u60a8\u9996\u5148\u5fc5\u987b\u521b\u5efa\u4e00\u4e2a\u8868\u793a\u6570\u636e\u5e93\u7684\u8fde\u63a5\u5bf9\u8c61\uff0c\u7136\u540e\u60a8\u53ef\u4ee5\u6709\u9009\u62e9\u5730\u521b\u5efa\u5149\u6807\u5bf9\u8c61\uff0c\u8fd9\u5c06\u5e2e\u52a9\u60a8\u6267\u884c\u6240\u6709\u7684 SQL \u8bed\u53e5\u3002","title":"\u5b89\u88c5"},{"location":"SQL/SQLite-API-Python/#python-sqlite3-api","text":"\u4ee5\u4e0b\u662f\u91cd\u8981\u7684 sqlite3 \u6a21\u5757\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u6ee1\u8db3\u60a8\u5728 Python \u7a0b\u5e8f\u4e2d\u4f7f\u7528 SQLite \u6570\u636e\u5e93\u7684\u9700\u6c42\u3002\u5982\u679c\u60a8\u9700\u8981\u4e86\u89e3\u66f4\u591a\u7ec6\u8282\uff0c\u8bf7\u67e5\u770b Python sqlite3 \u6a21\u5757\u7684\u5b98\u65b9\u6587\u6863\u3002 \u5e8f\u53f7 API & \u63cf\u8ff0 1 sqlite3.connect(database [,timeout ,other optional arguments]) \u8be5 API \u6253\u5f00\u4e00\u4e2a\u5230 SQLite \u6570\u636e\u5e93\u6587\u4ef6 database \u7684\u94fe\u63a5\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 \":memory:\" \u6765\u5728 RAM \u4e2d\u6253\u5f00\u4e00\u4e2a\u5230 database \u7684\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u800c\u4e0d\u662f\u5728\u78c1\u76d8\u4e0a\u6253\u5f00\u3002\u5982\u679c\u6570\u636e\u5e93\u6210\u529f\u6253\u5f00\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u8fde\u63a5\u5bf9\u8c61\u3002\u5f53\u4e00\u4e2a\u6570\u636e\u5e93\u88ab\u591a\u4e2a\u8fde\u63a5\u8bbf\u95ee\uff0c\u4e14\u5176\u4e2d\u4e00\u4e2a\u4fee\u6539\u4e86\u6570\u636e\u5e93\uff0c\u6b64\u65f6 SQLite \u6570\u636e\u5e93\u88ab\u9501\u5b9a\uff0c\u76f4\u5230\u4e8b\u52a1\u63d0\u4ea4\u3002timeout \u53c2\u6570\u8868\u793a\u8fde\u63a5\u7b49\u5f85\u9501\u5b9a\u7684\u6301\u7eed\u65f6\u95f4\uff0c\u76f4\u5230\u53d1\u751f\u5f02\u5e38\u65ad\u5f00\u8fde\u63a5\u3002timeout \u53c2\u6570\u9ed8\u8ba4\u662f 5.0\uff085 \u79d2\uff09\u3002\u5982\u679c\u7ed9\u5b9a\u7684\u6570\u636e\u5e93\u540d\u79f0 filename \u4e0d\u5b58\u5728\uff0c\u5219\u8be5\u8c03\u7528\u5c06\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5e93\u3002\u5982\u679c\u60a8\u4e0d\u60f3\u5728\u5f53\u524d\u76ee\u5f55\u4e2d\u521b\u5efa\u6570\u636e\u5e93\uff0c\u90a3\u4e48\u60a8\u53ef\u4ee5\u6307\u5b9a\u5e26\u6709\u8def\u5f84\u7684\u6587\u4ef6\u540d\uff0c\u8fd9\u6837\u60a8\u5c31\u80fd\u5728\u4efb\u610f\u5730\u65b9\u521b\u5efa\u6570\u636e\u5e93\u3002 2 connection.cursor([cursorClass]) \u8be5\u4f8b\u7a0b\u521b\u5efa\u4e00\u4e2a cursor \uff0c\u5c06\u5728 Python \u6570\u636e\u5e93\u7f16\u7a0b\u4e2d\u7528\u5230\u3002\u8be5\u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5355\u4e00\u7684\u53ef\u9009\u7684\u53c2\u6570 cursorClass\u3002\u5982\u679c\u63d0\u4f9b\u4e86\u8be5\u53c2\u6570\uff0c\u5219\u5b83\u5fc5\u987b\u662f\u4e00\u4e2a\u6269\u5c55\u81ea sqlite3.Cursor \u7684\u81ea\u5b9a\u4e49\u7684 cursor \u7c7b\u3002 3 cursor.execute(sql [, optional parameters]) \u8be5\u4f8b\u7a0b\u6267\u884c\u4e00\u4e2a SQL \u8bed\u53e5\u3002\u8be5 SQL \u8bed\u53e5\u53ef\u4ee5\u88ab\u53c2\u6570\u5316\uff08\u5373\u4f7f\u7528\u5360\u4f4d\u7b26\u4ee3\u66ff SQL \u6587\u672c\uff09\u3002sqlite3 \u6a21\u5757\u652f\u6301\u4e24\u79cd\u7c7b\u578b\u7684\u5360\u4f4d\u7b26\uff1a\u95ee\u53f7\u548c\u547d\u540d\u5360\u4f4d\u7b26\uff08\u547d\u540d\u6837\u5f0f\uff09\u3002\u4f8b\u5982\uff1acursor.execute(\"insert into people values (?, ?)\", (who, age)) 4 connection.execute(sql [, optional parameters]) \u8be5\u4f8b\u7a0b\u662f\u4e0a\u9762\u6267\u884c\u7684\u7531\u5149\u6807\uff08cursor\uff09\u5bf9\u8c61\u63d0\u4f9b\u7684\u65b9\u6cd5\u7684\u5feb\u6377\u65b9\u5f0f\uff0c\u5b83\u901a\u8fc7\u8c03\u7528\u5149\u6807\uff08cursor\uff09\u65b9\u6cd5\u521b\u5efa\u4e86\u4e00\u4e2a\u4e2d\u95f4\u7684\u5149\u6807\u5bf9\u8c61\uff0c\u7136\u540e\u901a\u8fc7\u7ed9\u5b9a\u7684\u53c2\u6570\u8c03\u7528\u5149\u6807\u7684 execute \u65b9\u6cd5\u3002 5 cursor.executemany(sql, seq_of_parameters) \u8be5\u4f8b\u7a0b\u5bf9 seq_of_parameters \u4e2d\u7684\u6240\u6709\u53c2\u6570\u6216\u6620\u5c04\u6267\u884c\u4e00\u4e2a SQL \u547d\u4ee4\u3002 6 connection.executemany(sql[, parameters]) \u8be5\u4f8b\u7a0b\u662f\u4e00\u4e2a\u7531\u8c03\u7528\u5149\u6807\uff08cursor\uff09\u65b9\u6cd5\u521b\u5efa\u7684\u4e2d\u95f4\u7684\u5149\u6807\u5bf9\u8c61\u7684\u5feb\u6377\u65b9\u5f0f\uff0c\u7136\u540e\u901a\u8fc7\u7ed9\u5b9a\u7684\u53c2\u6570\u8c03\u7528\u5149\u6807\u7684 executemany \u65b9\u6cd5\u3002 7 cursor.executescript(sql_script) \u8be5\u4f8b\u7a0b\u4e00\u65e6\u63a5\u6536\u5230\u811a\u672c\uff0c\u4f1a\u6267\u884c\u591a\u4e2a SQL \u8bed\u53e5\u3002\u5b83\u9996\u5148\u6267\u884c COMMIT \u8bed\u53e5\uff0c\u7136\u540e\u6267\u884c\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u7684 SQL \u811a\u672c\u3002\u6240\u6709\u7684 SQL \u8bed\u53e5\u5e94\u8be5\u7528\u5206\u53f7\uff08;\uff09\u5206\u9694\u3002 8 connection.executescript(sql_script) \u8be5\u4f8b\u7a0b\u662f\u4e00\u4e2a\u7531\u8c03\u7528\u5149\u6807\uff08cursor\uff09\u65b9\u6cd5\u521b\u5efa\u7684\u4e2d\u95f4\u7684\u5149\u6807\u5bf9\u8c61\u7684\u5feb\u6377\u65b9\u5f0f\uff0c\u7136\u540e\u901a\u8fc7\u7ed9\u5b9a\u7684\u53c2\u6570\u8c03\u7528\u5149\u6807\u7684 executescript \u65b9\u6cd5\u3002 9 connection.total_changes() \u8be5\u4f8b\u7a0b\u8fd4\u56de\u81ea\u6570\u636e\u5e93\u8fde\u63a5\u6253\u5f00\u4ee5\u6765\u88ab\u4fee\u6539\u3001\u63d2\u5165\u6216\u5220\u9664\u7684\u6570\u636e\u5e93\u603b\u884c\u6570\u3002 10 connection.commit() \u8be5\u65b9\u6cd5\u63d0\u4ea4\u5f53\u524d\u7684\u4e8b\u52a1\u3002\u5982\u679c\u60a8\u672a\u8c03\u7528\u8be5\u65b9\u6cd5\uff0c\u90a3\u4e48\u81ea\u60a8\u4e0a\u4e00\u6b21\u8c03\u7528 commit() \u4ee5\u6765\u6240\u505a\u7684\u4efb\u4f55\u52a8\u4f5c\u5bf9\u5176\u4ed6\u6570\u636e\u5e93\u8fde\u63a5\u6765\u8bf4\u662f\u4e0d\u53ef\u89c1\u7684\u3002 11 connection.rollback() \u8be5\u65b9\u6cd5\u56de\u6eda\u81ea\u4e0a\u4e00\u6b21\u8c03\u7528 commit() \u4ee5\u6765\u5bf9\u6570\u636e\u5e93\u6240\u505a\u7684\u66f4\u6539\u3002 12 connection.close() \u8be5\u65b9\u6cd5\u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e0d\u4f1a\u81ea\u52a8\u8c03\u7528 commit()\u3002\u5982\u679c\u60a8\u4e4b\u524d\u672a\u8c03\u7528 commit() \u65b9\u6cd5\uff0c\u5c31\u76f4\u63a5\u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u60a8\u6240\u505a\u7684\u6240\u6709\u66f4\u6539\u5c06\u5168\u90e8\u4e22\u5931\uff01 13 cursor.fetchone() \u8be5\u65b9\u6cd5\u83b7\u53d6\u67e5\u8be2\u7ed3\u679c\u96c6\u4e2d\u7684\u4e0b\u4e00\u884c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5355\u4e00\u7684\u5e8f\u5217\uff0c\u5f53\u6ca1\u6709\u66f4\u591a\u53ef\u7528\u7684\u6570\u636e\u65f6\uff0c\u5219\u8fd4\u56de None\u3002 14 cursor.fetchmany([size=cursor.arraysize]) \u8be5\u65b9\u6cd5\u83b7\u53d6\u67e5\u8be2\u7ed3\u679c\u96c6\u4e2d\u7684\u4e0b\u4e00\u884c\u7ec4\uff0c\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\u3002\u5f53\u6ca1\u6709\u66f4\u591a\u7684\u53ef\u7528\u7684\u884c\u65f6\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u7a7a\u7684\u5217\u8868\u3002\u8be5\u65b9\u6cd5\u5c1d\u8bd5\u83b7\u53d6\u7531 size \u53c2\u6570\u6307\u5b9a\u7684\u5c3d\u53ef\u80fd\u591a\u7684\u884c\u3002 15 cursor.fetchall() \u8be5\u4f8b\u7a0b\u83b7\u53d6\u67e5\u8be2\u7ed3\u679c\u96c6\u4e2d\u6240\u6709\uff08\u5269\u4f59\uff09\u7684\u884c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\u3002\u5f53\u6ca1\u6709\u53ef\u7528\u7684\u884c\u65f6\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u7a7a\u7684\u5217\u8868\u3002","title":"Python sqlite3 \u6a21\u5757 API"},{"location":"SQL/SQLite-API-Python/#_2","text":"\u4e0b\u9762\u7684 Python \u4ee3\u7801\u663e\u793a\u4e86\u5982\u4f55\u8fde\u63a5\u5230\u4e00\u4e2a\u73b0\u6709\u7684\u6570\u636e\u5e93\u3002\u5982\u679c\u6570\u636e\u5e93\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48\u5b83\u5c31\u4f1a\u88ab\u521b\u5efa\uff0c\u6700\u540e\u5c06\u8fd4\u56de\u4e00\u4e2a\u6570\u636e\u5e93\u5bf9\u8c61\u3002 #!/usr/bin/python import sqlite3 conn = sqlite3 . connect ( 'test.db' ) print \"Opened database successfully\" ; # import sqlite3 conn = sqlite3 . connect ( 'michael.db' ) print \"open database successfully\" \u5728\u8fd9\u91cc\uff0c\u60a8\u4e5f\u53ef\u4ee5\u628a\u6570\u636e\u5e93\u540d\u79f0\u590d\u5236\u4e3a\u7279\u5b9a\u7684\u540d\u79f0 :memory: \uff0c\u8fd9\u6837\u5c31\u4f1a\u5728 RAM \u4e2d\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5e93\u3002\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u6765\u8fd0\u884c\u4e0a\u9762\u7684\u7a0b\u5e8f\uff0c\u5728\u5f53\u524d\u76ee\u5f55\u4e2d\u521b\u5efa\u6211\u4eec\u7684\u6570\u636e\u5e93 test.db \u3002\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u6539\u53d8\u8def\u5f84\u3002\u4fdd\u5b58\u4e0a\u9762\u4ee3\u7801\u5230 sqlite.py \u6587\u4ef6\u4e2d\uff0c\u5e76\u6309\u5982\u4e0b\u6240\u793a\u6267\u884c\u3002\u5982\u679c\u6570\u636e\u5e93\u6210\u529f\u521b\u5efa\uff0c\u90a3\u4e48\u4f1a\u663e\u793a\u4e0b\u9762\u6240\u793a\u7684\u6d88\u606f\uff1a $chmod +x sqlite.py $./sqlite.py Open database successfully","title":"\u8fde\u63a5\u6570\u636e\u5e93"},{"location":"SQL/SQLite-API-Python/#_3","text":"\u4e0b\u9762\u7684 Python \u4ee3\u7801\u6bb5\u5c06\u7528\u4e8e\u5728\u5148\u524d\u521b\u5efa\u7684\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u4e00\u4e2a\u8868\uff1a #!/usr/bin/python import sqlite3 conn = sqlite3 . connect ( 'test.db' ) print \"Opened database successfully\" ; c = conn . cursor () c . execute ( '''CREATE TABLE COMPANY (ID INT PRIMARY KEY NOT NULL, NAME TEXT NOT NULL, AGE INT NOT NULL, ADDRESS CHAR(50), SALARY REAL);''' ) print \"Table created successfully\" ; conn . commit () conn . close () import sqlite3 conn = sqlite3 . connect ( 'michael.db' ) print \"OPEN database successfully\" c = conn . cursor () c . execute ( '''CREATE TABLE ACCOUNT (ID INT PRIMARY KEY NOT NULL, NAME TEXT NOT NULL, AGE INT NOT NULL, ADDRESS CHAR(50), SALARY REAL);''' ) print \"create table successfully\" conn . commit () conn . close () \u4e0a\u8ff0\u7a0b\u5e8f\u6267\u884c\u65f6\uff0c\u5b83\u4f1a\u5728 test.db \u4e2d\u521b\u5efa COMPANY \u8868\uff0c\u5e76\u663e\u793a\u4e0b\u9762\u6240\u793a\u7684\u6d88\u606f\uff1a Opened database successfully Table created successfully","title":"\u521b\u5efa\u8868"},{"location":"SQL/SQLite-API-Python/#insert","text":"\u4e0b\u9762\u7684 Python \u7a0b\u5e8f\u663e\u793a\u4e86\u5982\u4f55\u5728\u4e0a\u9762\u521b\u5efa\u7684 COMPANY \u8868\u4e2d\u521b\u5efa\u8bb0\u5f55\uff1a ```python","title":"INSERT \u64cd\u4f5c"},{"location":"SQL/SQLite-API-Python/#usrbinpython","text":"import sqlite3 conn = sqlite3.connect('test.db') c = conn.cursor() print \"Opened database successfully\" c.execute(\"INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY) \\ VALUES (1, 'Paul', 32, 'California', 20000.00 )\") c.execute(\"INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY) \\ VALUES (2, 'Allen', 25, 'Texas', 15000.00 )\") c.execute(\"INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY) \\ VALUES (3, 'Teddy', 23, 'Norway', 20000.00 )\") c.execute(\"INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY) \\ VALUES (4, 'Mark', 25, 'Rich-Mond ', 65000.00 )\") conn.commit() print \"Records created successfully\"; conn.close() import sqlite3 conn = sqlite3.connect('michael.db') c = conn.cursor() print 'Open successfully' c.execute(\"INSERT INTO ACCOUNT (ID,NAME,AGE,ADDRESS,SALARY) VALUES(1, 'Mike', 32, NULL, 10000)\") conn.commit() conn.close() \u4e0a\u8ff0\u7a0b\u5e8f\u6267\u884c\u65f6\uff0c\u5b83\u4f1a\u5728 COMPANY \u8868\u4e2d\u521b\u5efa\u7ed9\u5b9a\u8bb0\u5f55\uff0c\u5e76\u4f1a\u663e\u793a\u4ee5\u4e0b\u4e24\u884c\uff1a Opened database successfully Records created successfully ## SELECT \u64cd\u4f5c \u4e0b\u9762\u7684 Python \u7a0b\u5e8f\u663e\u793a\u4e86\u5982\u4f55\u4ece\u524d\u9762\u521b\u5efa\u7684 COMPANY \u8868\u4e2d\u83b7\u53d6\u5e76\u663e\u793a\u8bb0\u5f55\uff1a ```python #!/usr/bin/python import sqlite3 conn = sqlite3.connect('test.db') c = conn.cursor() cursor = c.execute(\"SELECT id, name, address, salary from COMPANY\") for row in cursor: print \"ID = \", row[0] print \"NAME = \", row[1] print \"ADDRESS = \", row[2] print \"SALARY = \", row[3], \"\\n\" conn.close() import sqlite3 conn = sqlite3.connect('test.db') c = conn.cursor() cursor = c.execute(\"SELECT id, name, address, salary from ACCOUNT\") for row in cursor: print row[0] print row[1] print row[2] print row[3] conn.close() \u4e0a\u8ff0\u7a0b\u5e8f\u6267\u884c\u65f6\uff0c\u5b83\u4f1a\u4ea7\u751f\u4ee5\u4e0b\u7ed3\u679c\uff1a Opened database successfully ID = 1 NAME = Paul ADDRESS = California SALARY = 20000 .0 ID = 2 NAME = Allen ADDRESS = Texas SALARY = 15000 .0 ID = 3 NAME = Teddy ADDRESS = Norway SALARY = 20000 .0 ID = 4 NAME = Mark ADDRESS = Rich-Mond SALARY = 65000 .0 Operation done successfully","title":"!/usr/bin/python"},{"location":"SQL/SQLite-API-Python/#update","text":"\u4e0b\u9762\u7684 Python \u4ee3\u7801\u663e\u793a\u4e86\u5982\u4f55\u4f7f\u7528 UPDATE \u8bed\u53e5\u6765\u66f4\u65b0\u4efb\u4f55\u8bb0\u5f55\uff0c\u7136\u540e\u4ece COMPANY \u8868\u4e2d\u83b7\u53d6\u5e76\u663e\u793a\u66f4\u65b0\u7684\u8bb0\u5f55\uff1a #!/usr/bin/python import sqlite3 conn = sqlite3 . connect ( 'test.db' ) c = conn . cursor () c . execute ( \"UPDATE COMPANY set SALARY = 25000.00 where ID=1\" ) conn . commit () cursor = conn . execute ( \"SELECT id, name, address, salary from COMPANY\" ) for row in cursor : print \"ID = \" , row [ 0 ] print \"NAME = \" , row [ 1 ] print \"ADDRESS = \" , row [ 2 ] print \"SALARY = \" , row [ 3 ], \" \\n \" conn . close () \u4e0a\u8ff0\u7a0b\u5e8f\u6267\u884c\u65f6\uff0c\u5b83\u4f1a\u4ea7\u751f\u4ee5\u4e0b\u7ed3\u679c\uff1a Opened database successfully Total number of rows updated : 1 ID = 1 NAME = Paul ADDRESS = California SALARY = 25000.0 ID = 2 NAME = Allen ADDRESS = Texas SALARY = 15000.0 ID = 3 NAME = Teddy ADDRESS = Norway SALARY = 20000.0 ID = 4 NAME = Mark ADDRESS = Rich-Mond SALARY = 65000.0 Operation done successfully","title":"UPDATE \u64cd\u4f5c"},{"location":"SQL/SQLite-API-Python/#delete","text":"\u4e0b\u9762\u7684 Python \u4ee3\u7801\u663e\u793a\u4e86\u5982\u4f55\u4f7f\u7528 DELETE \u8bed\u53e5\u5220\u9664\u4efb\u4f55\u8bb0\u5f55\uff0c\u7136\u540e\u4ece COMPANY \u8868\u4e2d\u83b7\u53d6\u5e76\u663e\u793a\u5269\u4f59\u7684\u8bb0\u5f55\uff1a #!/usr/bin/python import sqlite3 conn = sqlite3 . connect ( 'test.db' ) c = conn . cursor () c . execute ( \"DELETE from COMPANY where ID=2;\" ) conn . commit () print \"Total number of rows deleted :\" , conn . total_changes cursor = conn . execute ( \"SELECT id, name, address, salary from COMPANY\" ) for row in cursor : print \"ID = \" , row [ 0 ] print \"NAME = \" , row [ 1 ] print \"ADDRESS = \" , row [ 2 ] print \"SALARY = \" , row [ 3 ], \" \\n \" conn . close () \u4e0a\u8ff0\u7a0b\u5e8f\u6267\u884c\u65f6\uff0c\u5b83\u4f1a\u4ea7\u751f\u4ee5\u4e0b\u7ed3\u679c\uff1a Opened database successfully Total number of rows deleted : 1 ID = 1 NAME = Paul ADDRESS = California SALARY = 20000.0 ID = 3 NAME = Teddy ADDRESS = Norway SALARY = 20000.0 ID = 4 NAME = Mark ADDRESS = Rich-Mond SALARY = 65000.0 Operation done successfully","title":"DELETE \u64cd\u4f5c"},{"location":"SQL/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E5%BF%B5/","text":"\u6570\u636e\u5e93\u6982\u5ff5\u5165\u95e8 \u00b6 \u6570\u636e\u5e93 \u00b6 \u4ece\u73b0\u5b9e\u95ee\u9898\u4e2d\u62bd\u8c61\u603b\u7ed3\u51fa\u7684\u6570\u636e\u5e93\u3002 1\u3001\u73b0\u5b9e\u95ee\u9898\u4e2d\u7684\u6570\u636e\u5173\u7cfb 2\u3001\u73b0\u5b9e\u95ee\u9898\u4e2d\u7684\u6570\u636e\u5173\u7cfb\u8f6c\u5316\u6210\u6570\u636e\u5e93\uff08\u91cd\u70b9\uff09 3\u3001\u6570\u636e\u5e93\uff1a\u6309\u7167\u6570\u636e\u7ed3\u6784\u6765\u7ec4\u7ec7\uff0c\u5b58\u50a8\u548c\u7ba1\u7406\u6570\u636e\u7684\u4ed3\u5e93\uff1b\u5b58\u50a8\u5728\u672c\u5730\u6216\u8005\u7f51\u7edc\u7684\u7ed3\u6784\u5316\u7684\u8868\u683c\u3002 4\u3001\u6570\u636e\u5e93\u8f6c\u5316\uff08\u589e\u5220\u6539\u67e5\uff09\u589e\u52a0create\u3001\u5220\u9664delete\u3001\u6539\u53d8update\u3001\u67e5\u627eretrieve search 5\u3001\u6570\u636e\u5e93\u6570\u636e\u89e3\u51b3\u73b0\u5b9e\u95ee\u9898 \u7ed3\u6784\u5316\u6570\u636e\u5e93\u5206\u4e3a\u4e09\u90e8\u5206\uff08\u7c7b\u4f3c\u4e8eexcel\u8868\u683c\uff09\uff1a\u8868\u540d\u3001\u5b57\u6bb5\uff08\u8868\u5934\uff09\u3001\u7d22\u5f15\uff08\u53d8\u91cf\uff09\uff1b\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e00\u4e2a\u5355\u72ec\u7684\u6570\u636e\u8868\u662f\u4e00\u4e2a\u4e8c\u7ef4\u8868\u683c\u3002 \u73b0\u5b9e\u95ee\u9898\u5bf9\u5e94\u5173\u7cfb\u5206\u4e3a\u4e09\u79cd\u60c5\u51b5\uff1a 1\u3001\u4e00\u5bf9\u4e00\uff1a\u67d0\u7528\u6237\u5bf9\u5e94\u67d0\u4e00\u4e2a\u8d2d\u7269\u8f66\uff1b 2\u3001\u4e00\u5bf9\u591a\uff1a\uff08\u67d0\u5546\u54c1\u5177\u6709\u591a\u79cd\u5c5e\u6027\uff1a\u4ef7\u683c\u3001\u5e93\u5b58\uff09\u4e00\u4e2a\u5de5\u5382\u5177\u6709\u591a\u4e2a\u5458\u5de5\uff1b \u5de5\u5382\u8868 \u7f16\u53f7-\u4e3b\u952e \u5de5\u5382\u540d 1 \u767e\u5ea6 2 \u65b0\u6d6a \u804c\u5de5\u8868 \u59d3\u540d \u5f15\u7528-\u5916\u952e \u674e\u654f 1 \u5f20\u534e 1 3\u3001\u591a\u5bf9\u591a\uff1a\u4e0d\u540c\u5e97\u94fa\u5177\u6709\u4e0d\u540c\u7684\u5546\u54c1\uff1b \u804c\u5de5\u8868 \u4e3b\u952e \u59d3\u540d 1 \u5f20\u4e09 2 \u674e\u56db 3 \u738b\u4e94 \u4ea7\u54c1\u8868 \u4e3b\u952e \u578b\u53f7 1 \u534e\u4e3a6 2 \u534e\u4e3a8 \u751f\u4ea7\u8bb0\u5f55\u8868 \u4e3b\u952e\uff08\u751f\u4ea7\u8bb0\u5f55\u8868\uff09 \u5916\u952e1\uff08=>\u804c\u5de5\u8868\uff09 \u5916\u952e3\uff08=>\u4ea7\u54c1\u8868\uff09 \u751f\u4ea7\u65e5\u671f 1 1 1 1.1 2 2 1 1.2 3 3 2 1.3 \u5f20\u4e09\u548c\u674e\u56db\u751f\u4ea7\u4e86\u534e\u4e3a6\uff1b\u738b\u4e94\u751f\u4ea7\u4e86\u534e\u4e3a8\uff1b\u751f\u4ea7\u65e5\u671f\u662f\u8fd9\u4e2a\u8868\u7684\u5c5e\u6027\uff1b \u4ece\u5b9e\u9645\u590d\u6742\u95ee\u9898=>\u5b9e\u9645\u7b80\u5355\u95ee\u9898=>\u6d41\u7a0b\u56fe=>\u6570\u636e\u5e93\uff08\u5b57\u6bb5\uff09 \u4e0a\u9762\u7684\u6570\u636e\u5e93\u5c31\u662f\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff08\u4e09\u79cd\u5bf9\u5e94\u7c7b\u578b\uff09 \u8bbe\u8ba1\u539f\u578b-\u6570\u636e\u5e93\u5efa\u6a21-\u7f16\u5199\u540e\u53f0\u7a0b\u5e8f \u5728\u6570\u636e\u5e93\u4e2d\uff0c\u4e0d\u540c\u7684\u5bf9\u8c61\u5b58\u5728\u5173\u7cfb\uff1a\u4e00\u5bf9\u4e00\u548c\u4e00\u5bf9\u591a\u7684\u60c5\u51b5\uff0c\u76f4\u63a5\u4f7f\u7528\u4e00\u4e2a\u8868\u53ef\u4ee5\u8868\u793a\uff08\u4e00\u5bf9\u591a\u589e\u52a0\u4e3b\u952e\uff09\uff1b\u591a\u5bf9\u591a\u7684\u60c5\u51b5\uff0c\u9700\u8981\u901a\u8fc7\u4e2d\u95f4\u5173\u7cfb\u8868\u8fdb\u884c\u94fe\u63a5\uff1a\u4e00\u4e2a\u4e3b\u952e\u5bf9\u5e94\u4e0d\u540c\u7684\u5916\u952e\uff1b\u9ed8\u8ba4\u4e24\u4e2a\u5b58\u5728\u591a\u5bf9\u591a\u7684\u5c5e\u6027\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e2d\u95f4\u53d8\u91cf\uff0c\u8f6c\u5316\u6210\u82e5\u5e72\u4e2a\u4e00\u5bf9\u4e00\u7684\u5bf9\u5e94\u5173\u7cfb\uff1b \u6570\u636e\u5e93\u7684\u67e5\u8be2\u65b9\u6cd5\uff1a\u8f6c\u5316\u6210\u6570\u636e\u5e93\u7684\u6392\u5e8f\uff1b\u5bf9\u4e8e\u67d0\u4e2a\u6570\u636e\u7c7b\u578b\uff0c\u53ef\u4ee5\u8fdb\u884c\u6392\u5e8f\uff1b\u6392\u5e8f\u8fc7\u7a0b\u4e2d\u5c31\u662f\u53ef\u4ee5\u8fdb\u884c\u67e5\u8be2\uff1b\u6392\u5e8f\u7684\u591a\u79cd\u65b9\u6cd5\uff1b \u6848\u4f8b \u00b6 \u4e00\u4e2a\u7b80\u5355\u8d2d\u7269\u7f51\u7ad9\u7684\u6570\u636e\u5e93\u8bbe\u8ba1 1\u3001\u754c\u9762\u8bbe\u8ba1\uff1a \u4e70\u5bb6\u754c\u9762\uff1a\u7528\u6237\u6ce8\u518c\uff08\u5f39\u7a97\uff09\u3001\u7528\u6237\u767b\u5f55\uff08\u5f39\u7a97\uff09\u3001\u5546\u54c1\u5c55\u793a\u754c\u9762\uff08\u4e3b\u9875\uff09\u3001\u8d2d\u7269\u8f66\u754c\u9762\uff08\u4e3b\u9875\uff09\u3001\u8d2d\u4e70\u754c\u9762\uff08\u6b21\u7ea7\u4e3b\u9875\uff09\u3001\u8ba2\u5355\u754c\u9762\uff08\u6b21\u7ea7\u4e3b\u9875\uff09\u3001\u652f\u4ed8\u754c\u9762\uff08\u7b2c\u4e09\u65b9\u8df3\u8f6c\uff09\u3002 \u5356\u5bb6\u754c\u9762\uff1a\u5356\u5bb6\u6ce8\u518c\u3001\u5356\u5bb6\u767b\u5f55\u3001\u5546\u54c1\u4e0a\u67b6\u754c\u9762\u3001\u5546\u54c1\u5e93\u5b58\u72b6\u6001\u3001\u5546\u5e97\u5e03\u7f6e\u3001\u7edf\u8ba1\u754c\u9762\u3002 2\u3001\u6570\u636e\u5206\u6790 \u4e70\u5bb6\u7aef\uff1a\u4e70\u5bb6\uff08\u59d3\u540d\u7535\u8bdd\uff09\u5546\u54c1\uff08\u4ef7\u683c\u540d\u79f0\uff09\u8d2d\u7269\u8f66\u3001\u8ba2\u5355\u7b49\u8868 \u5356\u5bb6\u7aef\uff1a\u5356\u5bb6\u4fe1\u606f\u3001\u5546\u54c1\u4e0a\u67b6\u4fe1\u606f\uff1b \u6700\u590d\u6742\u7684\u8868\uff08\u8d2d\u7269\u8f66\u8868\u548c\u5546\u54c1\u8868\u7684\u5173\u7cfb\uff09 1.\u4e70\u5bb6\u8868 \u4e3b\u952e \u59d3\u540d \u5bc6\u7801 \u5730\u5740 \u7535\u8bdd 1 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 2.\u5356\u5bb6\u8868 \u4e3b\u952e \u59d3\u540d \u5bc6\u7801 \u5730\u5740 \u7535\u8bdd 1 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 3.\u5546\u54c1\u8868 \u4e3b\u952e \u5546\u54c1\u540d\u79f0 \u4ef7\u683c \u5e93\u5b58 \u5356\u5bb6\u4e3b\u952e\uff082\uff09 1 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 4.\u8ba2\u5355\u8868 \u4e3b\u952e \u5546\u54c1\u4e3b\u952e\uff083\uff09 \u5355\u4ef7 \u6570\u91cf \u4e70\u5bb6\u4e3b\u952e\uff081\uff09 1 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 5.\u8d2d\u7269\u8f66\u8868 \u4e3b\u952e \u4e70\u5bb6\u4e3b\u952e\uff081\uff09 \u5546\u54c1\u4e3b\u952e\uff083\uff09 \u6570\u91cf \u603b\u4ef7 1 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 \u603b\u7ed3\uff1a\u6570\u636e\u53ef\u662f\u5b58\u50a8\u7ed3\u6784\u5316\u8868\u683c\u6570\u636e\u7684\u4ed3\u5e93\uff0c\u7531\u7f16\u7a0b\u8bed\u8a00\u8fdb\u884cCURD\u64cd\u4f5c\uff0c\u4ece\u800c\u5b9e\u73b0\u8bb0\u5f55\u7684\u76ee\u7684\uff0c\u5b8c\u6210\u6570\u636e\u63d0\u53d6\u548c\u5206\u6790\u7684\u4efb\u52a1\u3002","title":"\u6570\u636e\u5e93\u6982\u5ff5"},{"location":"SQL/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E5%BF%B5/#_1","text":"","title":"\u6570\u636e\u5e93\u6982\u5ff5\u5165\u95e8"},{"location":"SQL/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E5%BF%B5/#_2","text":"\u4ece\u73b0\u5b9e\u95ee\u9898\u4e2d\u62bd\u8c61\u603b\u7ed3\u51fa\u7684\u6570\u636e\u5e93\u3002 1\u3001\u73b0\u5b9e\u95ee\u9898\u4e2d\u7684\u6570\u636e\u5173\u7cfb 2\u3001\u73b0\u5b9e\u95ee\u9898\u4e2d\u7684\u6570\u636e\u5173\u7cfb\u8f6c\u5316\u6210\u6570\u636e\u5e93\uff08\u91cd\u70b9\uff09 3\u3001\u6570\u636e\u5e93\uff1a\u6309\u7167\u6570\u636e\u7ed3\u6784\u6765\u7ec4\u7ec7\uff0c\u5b58\u50a8\u548c\u7ba1\u7406\u6570\u636e\u7684\u4ed3\u5e93\uff1b\u5b58\u50a8\u5728\u672c\u5730\u6216\u8005\u7f51\u7edc\u7684\u7ed3\u6784\u5316\u7684\u8868\u683c\u3002 4\u3001\u6570\u636e\u5e93\u8f6c\u5316\uff08\u589e\u5220\u6539\u67e5\uff09\u589e\u52a0create\u3001\u5220\u9664delete\u3001\u6539\u53d8update\u3001\u67e5\u627eretrieve search 5\u3001\u6570\u636e\u5e93\u6570\u636e\u89e3\u51b3\u73b0\u5b9e\u95ee\u9898 \u7ed3\u6784\u5316\u6570\u636e\u5e93\u5206\u4e3a\u4e09\u90e8\u5206\uff08\u7c7b\u4f3c\u4e8eexcel\u8868\u683c\uff09\uff1a\u8868\u540d\u3001\u5b57\u6bb5\uff08\u8868\u5934\uff09\u3001\u7d22\u5f15\uff08\u53d8\u91cf\uff09\uff1b\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e00\u4e2a\u5355\u72ec\u7684\u6570\u636e\u8868\u662f\u4e00\u4e2a\u4e8c\u7ef4\u8868\u683c\u3002 \u73b0\u5b9e\u95ee\u9898\u5bf9\u5e94\u5173\u7cfb\u5206\u4e3a\u4e09\u79cd\u60c5\u51b5\uff1a 1\u3001\u4e00\u5bf9\u4e00\uff1a\u67d0\u7528\u6237\u5bf9\u5e94\u67d0\u4e00\u4e2a\u8d2d\u7269\u8f66\uff1b 2\u3001\u4e00\u5bf9\u591a\uff1a\uff08\u67d0\u5546\u54c1\u5177\u6709\u591a\u79cd\u5c5e\u6027\uff1a\u4ef7\u683c\u3001\u5e93\u5b58\uff09\u4e00\u4e2a\u5de5\u5382\u5177\u6709\u591a\u4e2a\u5458\u5de5\uff1b \u5de5\u5382\u8868 \u7f16\u53f7-\u4e3b\u952e \u5de5\u5382\u540d 1 \u767e\u5ea6 2 \u65b0\u6d6a \u804c\u5de5\u8868 \u59d3\u540d \u5f15\u7528-\u5916\u952e \u674e\u654f 1 \u5f20\u534e 1 3\u3001\u591a\u5bf9\u591a\uff1a\u4e0d\u540c\u5e97\u94fa\u5177\u6709\u4e0d\u540c\u7684\u5546\u54c1\uff1b \u804c\u5de5\u8868 \u4e3b\u952e \u59d3\u540d 1 \u5f20\u4e09 2 \u674e\u56db 3 \u738b\u4e94 \u4ea7\u54c1\u8868 \u4e3b\u952e \u578b\u53f7 1 \u534e\u4e3a6 2 \u534e\u4e3a8 \u751f\u4ea7\u8bb0\u5f55\u8868 \u4e3b\u952e\uff08\u751f\u4ea7\u8bb0\u5f55\u8868\uff09 \u5916\u952e1\uff08=>\u804c\u5de5\u8868\uff09 \u5916\u952e3\uff08=>\u4ea7\u54c1\u8868\uff09 \u751f\u4ea7\u65e5\u671f 1 1 1 1.1 2 2 1 1.2 3 3 2 1.3 \u5f20\u4e09\u548c\u674e\u56db\u751f\u4ea7\u4e86\u534e\u4e3a6\uff1b\u738b\u4e94\u751f\u4ea7\u4e86\u534e\u4e3a8\uff1b\u751f\u4ea7\u65e5\u671f\u662f\u8fd9\u4e2a\u8868\u7684\u5c5e\u6027\uff1b \u4ece\u5b9e\u9645\u590d\u6742\u95ee\u9898=>\u5b9e\u9645\u7b80\u5355\u95ee\u9898=>\u6d41\u7a0b\u56fe=>\u6570\u636e\u5e93\uff08\u5b57\u6bb5\uff09 \u4e0a\u9762\u7684\u6570\u636e\u5e93\u5c31\u662f\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff08\u4e09\u79cd\u5bf9\u5e94\u7c7b\u578b\uff09 \u8bbe\u8ba1\u539f\u578b-\u6570\u636e\u5e93\u5efa\u6a21-\u7f16\u5199\u540e\u53f0\u7a0b\u5e8f \u5728\u6570\u636e\u5e93\u4e2d\uff0c\u4e0d\u540c\u7684\u5bf9\u8c61\u5b58\u5728\u5173\u7cfb\uff1a\u4e00\u5bf9\u4e00\u548c\u4e00\u5bf9\u591a\u7684\u60c5\u51b5\uff0c\u76f4\u63a5\u4f7f\u7528\u4e00\u4e2a\u8868\u53ef\u4ee5\u8868\u793a\uff08\u4e00\u5bf9\u591a\u589e\u52a0\u4e3b\u952e\uff09\uff1b\u591a\u5bf9\u591a\u7684\u60c5\u51b5\uff0c\u9700\u8981\u901a\u8fc7\u4e2d\u95f4\u5173\u7cfb\u8868\u8fdb\u884c\u94fe\u63a5\uff1a\u4e00\u4e2a\u4e3b\u952e\u5bf9\u5e94\u4e0d\u540c\u7684\u5916\u952e\uff1b\u9ed8\u8ba4\u4e24\u4e2a\u5b58\u5728\u591a\u5bf9\u591a\u7684\u5c5e\u6027\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e2d\u95f4\u53d8\u91cf\uff0c\u8f6c\u5316\u6210\u82e5\u5e72\u4e2a\u4e00\u5bf9\u4e00\u7684\u5bf9\u5e94\u5173\u7cfb\uff1b \u6570\u636e\u5e93\u7684\u67e5\u8be2\u65b9\u6cd5\uff1a\u8f6c\u5316\u6210\u6570\u636e\u5e93\u7684\u6392\u5e8f\uff1b\u5bf9\u4e8e\u67d0\u4e2a\u6570\u636e\u7c7b\u578b\uff0c\u53ef\u4ee5\u8fdb\u884c\u6392\u5e8f\uff1b\u6392\u5e8f\u8fc7\u7a0b\u4e2d\u5c31\u662f\u53ef\u4ee5\u8fdb\u884c\u67e5\u8be2\uff1b\u6392\u5e8f\u7684\u591a\u79cd\u65b9\u6cd5\uff1b","title":"\u6570\u636e\u5e93"},{"location":"SQL/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E5%BF%B5/#_3","text":"\u4e00\u4e2a\u7b80\u5355\u8d2d\u7269\u7f51\u7ad9\u7684\u6570\u636e\u5e93\u8bbe\u8ba1 1\u3001\u754c\u9762\u8bbe\u8ba1\uff1a \u4e70\u5bb6\u754c\u9762\uff1a\u7528\u6237\u6ce8\u518c\uff08\u5f39\u7a97\uff09\u3001\u7528\u6237\u767b\u5f55\uff08\u5f39\u7a97\uff09\u3001\u5546\u54c1\u5c55\u793a\u754c\u9762\uff08\u4e3b\u9875\uff09\u3001\u8d2d\u7269\u8f66\u754c\u9762\uff08\u4e3b\u9875\uff09\u3001\u8d2d\u4e70\u754c\u9762\uff08\u6b21\u7ea7\u4e3b\u9875\uff09\u3001\u8ba2\u5355\u754c\u9762\uff08\u6b21\u7ea7\u4e3b\u9875\uff09\u3001\u652f\u4ed8\u754c\u9762\uff08\u7b2c\u4e09\u65b9\u8df3\u8f6c\uff09\u3002 \u5356\u5bb6\u754c\u9762\uff1a\u5356\u5bb6\u6ce8\u518c\u3001\u5356\u5bb6\u767b\u5f55\u3001\u5546\u54c1\u4e0a\u67b6\u754c\u9762\u3001\u5546\u54c1\u5e93\u5b58\u72b6\u6001\u3001\u5546\u5e97\u5e03\u7f6e\u3001\u7edf\u8ba1\u754c\u9762\u3002 2\u3001\u6570\u636e\u5206\u6790 \u4e70\u5bb6\u7aef\uff1a\u4e70\u5bb6\uff08\u59d3\u540d\u7535\u8bdd\uff09\u5546\u54c1\uff08\u4ef7\u683c\u540d\u79f0\uff09\u8d2d\u7269\u8f66\u3001\u8ba2\u5355\u7b49\u8868 \u5356\u5bb6\u7aef\uff1a\u5356\u5bb6\u4fe1\u606f\u3001\u5546\u54c1\u4e0a\u67b6\u4fe1\u606f\uff1b \u6700\u590d\u6742\u7684\u8868\uff08\u8d2d\u7269\u8f66\u8868\u548c\u5546\u54c1\u8868\u7684\u5173\u7cfb\uff09 1.\u4e70\u5bb6\u8868 \u4e3b\u952e \u59d3\u540d \u5bc6\u7801 \u5730\u5740 \u7535\u8bdd 1 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 2.\u5356\u5bb6\u8868 \u4e3b\u952e \u59d3\u540d \u5bc6\u7801 \u5730\u5740 \u7535\u8bdd 1 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 3.\u5546\u54c1\u8868 \u4e3b\u952e \u5546\u54c1\u540d\u79f0 \u4ef7\u683c \u5e93\u5b58 \u5356\u5bb6\u4e3b\u952e\uff082\uff09 1 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 4.\u8ba2\u5355\u8868 \u4e3b\u952e \u5546\u54c1\u4e3b\u952e\uff083\uff09 \u5355\u4ef7 \u6570\u91cf \u4e70\u5bb6\u4e3b\u952e\uff081\uff09 1 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 5.\u8d2d\u7269\u8f66\u8868 \u4e3b\u952e \u4e70\u5bb6\u4e3b\u952e\uff081\uff09 \u5546\u54c1\u4e3b\u952e\uff083\uff09 \u6570\u91cf \u603b\u4ef7 1 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 \u603b\u7ed3\uff1a\u6570\u636e\u53ef\u662f\u5b58\u50a8\u7ed3\u6784\u5316\u8868\u683c\u6570\u636e\u7684\u4ed3\u5e93\uff0c\u7531\u7f16\u7a0b\u8bed\u8a00\u8fdb\u884cCURD\u64cd\u4f5c\uff0c\u4ece\u800c\u5b9e\u73b0\u8bb0\u5f55\u7684\u76ee\u7684\uff0c\u5b8c\u6210\u6570\u636e\u63d0\u53d6\u548c\u5206\u6790\u7684\u4efb\u52a1\u3002","title":"\u6848\u4f8b"},{"location":"SQL/%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/","text":"\u5982\u4f55\u81ea\u5b66MySQL\u6570\u636e\u5e93 \u00b6 MySQL\u77e5\u8bc6\u4f53\u7cfb \u00b6 \u57fa\u7840\uff1a sql\u8bed\u53e5 \u8868\u7ed3\u6784\u8bbe\u8ba1 \u8c03\u4f18\uff1a \u7d22\u5f15\u3001\u6162\u67e5\u8be2\u4f18\u5316 \u914d\u7f6e\u53c2\u6570\u8c03\u4f18 \u6838\u5fc3\u539f\u7406\uff1a InnoDb\u5b58\u50a8\u5f15\u64ce \uff08\u5305\u62ec\u9694\u79bb\u7ea7\u522b\u3001\u4e8b\u52a1\u3001\u9501\u3001\u7f13\u5b58\u6c60\u3001\u56de\u6eda\u65e5\u5fd7\u7b49\u7b49\uff09 Mysqld (\u5305\u62ec\u8fde\u63a5\u7ba1\u7406\u3001\u8fdb\u7a0b\u7ba1\u7406\u3001\u67e5\u8be2\u7f13\u5b58\u3001\u67e5\u8be2\u4f18\u5316\u3001\u65e5\u5fd7\u7b49\u7b49) \u67b6\u6784\u4e0e\u8fd0\u7ef4\uff1a \u7528\u6237\u4e0e\u6743\u9650\u3001\u5b89\u5168 \u5907\u4efd\u4e0e\u6062\u590d \u65e5\u5fd7 \u5206\u5e03\u5f0f\u4e0e\u9ad8\u53ef\u7528 MySQL\u96f6\u57fa\u7840\u56fe\u89e3 \u00b6 \u9996\u5148\uff0c\u5b66\u4e60\u57fa\u672c\u7684SQL\u8bed\u6cd5\u3002\u4f60\u5c31\u53ef\u4ee5\u7f16\u5199SQL\u8bed\u53e5\u4e86\u3002\u63a8\u8350\uff1aW3Schools\u7684 SQL \u6559\u7a0b \u3002 \u5176\u6b21\uff0c\u5b66\u4e60\u6570\u636e\u5e93\u7684\u4e3b\u8981\u529f\u80fd\u548c\u4f7f\u7528\u65b9\u6cd5\uff0c\u6bd4\u5982\u7528\u6237\u76f8\u5173\u6216\u8005\u6743\u9650\u76f8\u5173\u7b49\u7b49\u3002 \u6211\u63a8\u8350\u4e24\u672c\u4e66\uff1a \u4e00\u3001\u300aMySQL\u5fc5\u77e5\u5fc5\u4f1a\u300b \u8fd9\u672c\u4e66\u8bb2\u7684\u975e\u5e38\u5168\uff0c\u4ece\u57fa\u672c\u6982\u5ff5\uff0c\u5230\u67e5\u8be2\u5230\u63d2\u5165\u65b0\u5efa\u8868\uff0c\u7528\u6237\u7684\u7ba1\u7406\uff0c\u90fd\u6709\u5177\u4f53\u7684\u4f8b\u5b50\uff0c\u975e\u5e38\u9002\u5408\u6ca1\u6709\u4efb\u4f55\u57fa\u7840\u7684\u540c\u5b66\u6765\u5b66\u4e60Mysql\uff0c\u603b\u4e4b\u8fd9\u672c\u4e66\u5b66\u4e60\u7684\u65b9\u6cd5\u5c31\u662f\uff1a1\u3001\u5341\u5206\u949f\u4e86\u89e3\u4e0b\u6570\u636e\u5e93\u7684\u57fa\u672c\u6982\u5ff5 2\u3001\u627e\u5230\u7ec3\u624b\u7684\u6570\u636e\u5e93 3\u3001\u5bf9\u7167\u7740\u4e0a\u9762\u7684\u5185\u5bb9\u53bb\u6572\u3002\u672c\u4e66\u91cc\u4e5f\u6709\u5927\u91cf\u7684\u5185\u5bb9\u662f\u8bb2sql\u7684\uff0c\u53ef\u4ee5\u7ed3\u5408w3c\u7684sql\u6559\u7a0b\u4e00\u8d77\uff0c\u6709\u53d6\u820d\u5730\u770b\u3002 \u4e8c\u3001\u300a\u6570\u636e\u5e93\u7cfb\u7edf\u6982\u5ff5\u300b\u8fd9\u672c\u4e66\u662fdba\u5fc5\u770b\u7684\u3002 \u770b\u5b8c\u8fd9\u4e9b\u5e76\u4e14\u5b9e\u8df5+\u601d\u8003\u4e4b\u540e\uff0c\u53ef\u4ee5\u7b97\u5165\u95e8\u4e86\u3002 MySQL\u6df1\u5165\u5b66\u4e60 \u00b6 \u6211\u63a8\u8350\u51e0\u672c\u4e66\uff08\u5f88\u591a\u5927\u795e\u90fd\u8fd9\u4e48\u63a8\u8350\uff09\uff0c\u300a\u9ad8\u6027\u80fdMySQL(\u7b2c3\u7248)\u300b\u3001 \u300aMySQL\u6280\u672f\u5185\u5e55(\u7b2c4\u7248)\u300b\uff0c\u300aMySQL\u6280\u672f\u5185\u5e55 InnoDB\u5b58\u50a8\u5f15\u64ce\u300b\uff0c\u300a\u6df1\u5165\u7406\u89e3MySQL\u300b\u8fd8\u6709Mysql\u7684\u5b98\u7f51\u3002\u8bfb\u5b8c\u8fd9\u4e9b\u4e1c\u897f\uff0c\u518d\u52a0\u4e9b\u4e30\u5bcc\u7684\u7ecf\u9a8c\uff0c\u7406\u8bba\u4e0a\u6765\u8bb2\u5c31\u5177\u5907DBA\u7684\u6c34\u5e73\u4e86\u3002 \u5341\u5206\u63a8\u8350\u9605\u8bfb Planet MySQL \u4e0a\u6c47\u603b\u7684\u535a\u5ba2\uff0c\u7279\u522b\u662f Percona's MySQL & InnoDB performance and scalability blog . \u6211\u95ee\u4f60\uff0c\u9762\u5bf9\u4e00\u4e2a\u5e76\u53d1\u91cf\u6bd4\u8f83\u9ad8\u7684\u573a\u666f\uff0c\u5982\u4f55\u914d\u7f6emysql\u7684\u8fde\u63a5\u6570\uff1f \u4f60\u53ef\u80fd\u4f1a\u56de\u7b54\uff1a\u201c\u54e6\uff0c\u5c31\u662f\u8c03\u9ad8max_connection\u7684\u6570\u503c\u5427\u3002\u201d \u90a3\uff0c\u4f60\u6709\u6ca1\u6709\u601d\u8003\u8fc7\u8c03\u5230\u591a\u5c11\u662f\u6700\u5408\u9002\u7684\u5462\uff1f\u4e3a\u4ec0\u4e48\u8fd9\u6837\u8bbe\u7f6e\u5c31\u6700\u5408\u9002\u5462\uff1f \u4e5f\u8bb8\u4f60\u4f1a\u56de\u7b54\uff1a\u201c\u6069\u6211\u77e5\u9053\uff0c\u53ef\u4ee5\u770b\u7cfb\u7edf\u4e4b\u524d\u7684max_ used _connection\u7684\u6570\u503c\uff0c\u7136\u540e\u6765\u8bbe\u7f6e\u3002\u4e5f\u53ef\u4ee5\u8c03\u9ad8back_log\u7684\u503c\u3002\u201d \u90a3\u4f60\u6709\u6ca1\u6709\u601d\u8003\u8fc7\uff0cmax_connection\u8fde\u63a5\u6570\u592a\u9ad8\u4f1a\u6709\u4ec0\u4e48\u4e0d\u597d\u7684\u5f71\u54cd\u5462\uff1fback_log\u8bbe\u7f6e\u7684\u592a\u9ad8\u6709\u4ec0\u4e48\u4e0d\u597d\u7684\u5730\u65b9\u5462\uff1fmax_connect\u7684\u4e0a\u9650\u5176\u5b9e\u662f\u53d6\u51b3\u4e8emysql\u80fd\u83b7\u5f97\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u6570\u91cf\uff0c\u4e5f\u5c31\u662f\u8bf4\u4f60\u5c31\u7b97\u8bbe\u7f6e\u621010000\uff0c\u6700\u540e\u4e5f\u662f\u6ca1\u7528\u7684\uff0c\u7cfb\u7edf\u4f1a\u6839\u636e\u673a\u5668\u7684\u60c5\u51b5\u81ea\u52a8\u8c03\u4f4e\u3002 \u4e5f\u8bb8\u4f60\u4f1a\u56de\u7b54\uff1a\u201c\u6069\u6211\u77e5\u9053\uff0c\u8bbe\u7f6e\u592a\u9ad8\uff0c\u4f1a\u6709\u7cfb\u7edf\u5f00\u9500...\u201d \u90a3\u4f60\u6709\u6ca1\u6709\u601d\u8003\u8fc7\uff0c\u8fd9\u4e9b\u5f00\u9500\u5177\u4f53\u662f\u4ec0\u4e48\u5462\uff1f\u662f\u4ec0\u4e48\u5de5\u4f5c\u5bfc\u81f4\u4e86\u9700\u8981\u8fd9\u4e9b\u5185\u5b58\u5f00\u9500\uff1f \u4e5f\u8bb8\u4f60\u8fd8\u4f1a\u56de\u7b54\uff0c\u5728\u8fde\u63a5\u521b\u5efa\u7684\u65f6\u5019\uff0c\u4f1a\u7acb\u523b\u4e3a\u5b83\u5206\u914d\u8fde\u63a5\u7f13\u51b2\u533a\u4ee5\u53ca\u67e5\u8be2\u7f13\u51b2\u533a\uff0c\u8fd9\u4e9b\u90fd\u4f1a\u5403\u5185\u5b58\u3002 \u90a3\u4f60\u6709\u6ca1\u6709\u601d\u8003\u8fc7\uff0c\u5360\u636e\u7684\u8d44\u6e90\u5177\u4f53\u662f\u591a\u5c11\u5462\uff1f\u53d6\u51b3\u4e8e\u54ea\u4e9b\u56e0\u7d20\u5462\uff1f \u5982\u4f55\u81ea\u5b66mysql? \u4f60\u5fc5\u987b\u4e0d\u65ad\u601d\u8003\uff0c\u624d\u80fd\u5728\u5de5\u4f5c\u4e2d\u9762\u5bf9\u5177\u4f53\u573a\u666f\u7684\u65f6\u5019\uff0c\u975e\u5e38\u6de1\u5b9a\u5730\u63a8\u65ad\uff1a\u201c\u54e6\uff0c\u4e00\u5b9a\u662f\u8fd9\u91cc\u51fa\u4e86\u95ee\u9898\u3002\u5e94\u8be5\u600e\u4e48\u600e\u4e48\u505a\u3002\u201d \u9762\u5bf9\u95ee\u9898\uff0c\u62ff\u51fa\u6253\u7834\u7802\u9505\u95ee\u5230\u5e95\u7684\u7cbe\u795e\uff0c\u5148\u601d\u8003\u4e00\u756a\uff0c\u7ed9\u51fa\u81ea\u5df1\u7684\u5047\u8bbe\uff0c\u4e0d\u8981\u7740\u6025\u5730\u53bb\u627e\u5ea6\u5a18\uff0c\u8c37\u6b4c\u3002\u601d\u8003\u8fc7\u540e\uff0c\u5e26\u7740\u4f60\u7684\u63a8\u65ad\u6216\u8005\u7b54\u6848\uff0c\u5927\u80c6\u5730\u53bb\u641c\u7d22\u5427\uff01\u53bb\u770b\u770b\u522b\u4eba\u7684\u89c1\u89e3\uff0c\u53bb\u770b\u770b\u5b98\u65b9\u7684\u63cf\u8ff0\uff01 \u8fd9\u624d\u662f\u4e00\u4e2a\u5de5\u7a0b\u5e08\u5e94\u6709\u7684\u6001\u5ea6\u3002 \u6700\u540e\u6211\u60f3\u7ed9\u51fa\u4e00\u4e9b\u6709\u4ef7\u503c\u7684\u5b66\u4e60\u8d44\u6599\u3002\u53ef\u4ee5\u7701\u53bb\u4e00\u4e9b\u65f6\u95f4\u3002 \u5b66\u4e60\u8d44\u6599 \u00b6 \u7535\u5b50\u4e66 \u00b6 \u6211\u8ba4\u4e3a\u591a\u770b\u4e66\u8fd8\u662f\u6709\u597d\u5904\u7684\u3002\u6709\u4e9b\u4e66\u503c\u5f97\u53cd\u590d\u770b\u8bb8\u591a\u904d\uff0c\u6709\u65f6\u5019\u53ea\u770b\u4e00\u904d\u65e0\u6cd5\u6df1\u523b\u7406\u89e3\u5438\u6536\uff0c\u601d\u8003\u4e5f\u4e0d\u591f\u5145\u5206\u3002 \u7535\u5b50\u4e66\u4e0b\u8f7d\u4f20\u9001\u95e8 \u300amysql\u5fc5\u77e5\u5fc5\u4f1a\u300b \u300a\u9ad8\u6027\u80fdmysql\u7b2c\u4e09\u7248\u300b \u300a\u6570\u636e\u5e93\u7cfb\u7edf\u6982\u5ff5\u300b \u300a\u6df1\u5165\u7406\u89e3MySQL\u300b \u300aMySQL\u6027\u80fd\u8c03\u4f18\u4e0e\u67b6\u6784\u8bbe\u8ba1--\u5168\u518c\u300b\u300aSQL Antipatterns\u300b \u300aMySQL\u6280\u672f\u5185\u5e55 InnoDB\u5b58\u50a8\u5f15\u64ce\u300b \u5b66\u4e60\u7f51\u7ad9 \u00b6 MySQL Tutorial - Learn MySQL Fast, Easy and Fun. \u53ef\u4ee5\u5feb\u901f\uff0c\u7b80\u5355\u548c\u6709\u8da3\u7684\u5b66\u4e60MySQL\u3002\u4ee5\u7b80\u5355\u6613\u61c2\u7684\u65b9\u5f0f\u4e3a\u60a8\u63d0\u4f9b\u5b8c\u6574\u7684MySQL\u6559\u7a0b\u3002\u6bcf\u4e2a\u6559\u7a0b\u90fd\u6709SQL\u811a\u672c\u548c\u53ef\u7528\u5c4f\u5e55\u622a\u56fe\u7684\u5b9e\u9645\u793a\u4f8b\u3002 mysql\u5b66\u4e60\u8d44\u6599 | mysql\u6df1\u5165\u5b66\u4e60\u7b14\u8bb0 \u6df1\u5ea6\u7b14\u8bb0 \u6709\u5f88\u591amysql\u7684\u8d44\u6599\u53ef\u4ee5\u770b\uff0c\u8fd8\u53ef\u4ee5\u770b\u7f51\u53cb\u505a\u7684\u5b66\u4e60\u7b14\u8bb0\u3002 W3Schools SQL \u6559\u7a0b \u53ef\u4ee5\u5b66\u4e60\u57fa\u7840\u7684sql\u8bed\u53e5 \u5b98\u65b9\u624b\u518c \u00b6 \u65e0\u8bba\u82f1\u6587\u597d\u4e0d\u597d\uff0c\u770b\u82f1\u6587\u624b\u518c\u7684\u80fd\u529b\u662f\u4e00\u5b9a\u8981\u6709\uff0c\u4e5f\u4e00\u5b9a\u8981\u57f9\u517b\u7684\u3002 mysql\u5b98\u65b9\u624b\u518c\uff1a14 The InnoDB Storage Engine \u5927\u725b\u535a\u5ba2 \u00b6 \u9886\u57df\u4e13\u5bb6\u7684\u535a\u5ba2\u662f\u5341\u5206\u5177\u6709\u5b66\u4e60\u4ef7\u503c\u7684\uff0c\u4e0b\u9762\u5217\u4e3e\u51e0\u4e2a\u6bd4\u8f83\u597d\u7684\uff1a \u4f55\u767b\u6210\u7684\u6280\u672f\u535a\u5ba2 \u4f55\u767b\u6210\u7684\u6280\u672f\u535a\u5ba2 \u6dd8\u5b9d\u4e01\u5947 \u8ffd\u98ce\u5200\u00b7\u4e01\u5947 - ITeye\u6280\u672f\u7f51\u7ad9 \u5468\u632f\u5174@\u6dd8\u5b9d \u82b1\u540d\uff1a\u82cf\u666e \u4e00\u4e2a\u6545\u4e8b@MySQL DBA \u963f\u91cc\u4e91\u6570\u636e\u5e93\u9ad8\u7ea7\u4e13\u5bb6\u5f6d\u7acb\u52cb\u4e3a MariaDB Foundation \u6b63\u5f0f\u6210\u5458\uff0c\u8d1f\u8d23\u5168\u7403Replication\u6a21\u5757\u76f8\u5173\u8865\u4e01\u7684Review\u3002\u5f6d\u7acb\u52cb\u4e5f\u6210\u4e3a\u9996\u4f4d\u88abMariaDB\u57fa\u91d1\u4f1a\u5f15\u5165\u7684\u4e2d\u56fd\u7a0b\u5e8f\u5458\u3002 P.Linux Laboratory Planet MySQL \u8f6c\u884c\u81ea\u5b66MySQL\u6570\u636e\u5e93 \u00b6 \u672c\u4eba\u662f\u4e2a\u6d3b\u751f\u751f\u7684\u4f8b\u5b50\uff0c\u5927\u5b66\u5b66\u7684\u4eea\u5668\u4eea\u8868\u4e13\u4e1a\uff0c\u6bd5\u4e1a\u524d\u7b2c\u4e00\u4efd\u5b9e\u4e60\u5de5\u4f5c\u662f\u7535\u8def\u677f\u6d4b\u8bd5\u30020\u57fa\u7840\u81ea\u5b66mysql\u548clinux\uff0c\u73b0\u4efb\u56fd\u5185\u67d0\u516c\u6709\u4e91mysql &&mongodb dba\u3002 \u5bf9\u4e8e\u975e\u8ba1\u7b97\u673a\u51fa\u8eab\u7684\u6211\uff0c\u5927\u5b66\u53ea\u4f1ahello word\u548c\u8dd1\u9a6c\u706f\uff0c\u671f\u95f4\u8fc7\u7a0b\u786e\u5b9e\u975e\u5e38\u66f2\u6298\uff0c\u5206\u4eab\u4e0b\u6211\u7684\u81ea\u5b66\u8fc7\u7a0b\uff1a 1\u3001 \u81ea\u5df1\u5728windows\u548clinux\u4e0a\u5b89\u88c5\u4e86mysql\uff0c\u81ea\u5b66linux\u7684\u57fa\u7840\u77e5\u8bc6\uff0c\u5b66\u4e60mysql\u7684\u6700\u57fa\u7840\u7684\u77e5\u8bc6\uff0c\u5373**\u600e\u4e48\u5199sql\uff0c\u5b58\u50a8\u8fc7\u7a0b\uff0c\u8868\u7684\u8bbe\u8ba1**\u7b49\uff0c\u4ece0\u5230\u719f\u6089\u5927\u6982\u82b1\u4e863\u4e2a\u6708 \uff0c\u63a8\u8350**\u300amysql\u5165\u95e8\u5f88\u7b80\u5355\u300b**\u3002 2\u3001\u7cfb\u7edf\u5730\u8f83\u4e3a\u6df1\u5165\u5730\u5b66\u4e60**mysql\u7684sql\u4f18\u5316\uff0c\u5907\u4efd\u548c\u6062\u590d\uff0c\u53c2\u6570\u4f18\u5316\uff0c\u67b6\u6784\u4f18\u5316\uff0c\u786c\u4ef6\u5c42\u9762\u7684\u4f18\u5316\uff0c\u9ad8\u53ef\u7528\u65b9\u6848\uff0c\u590d\u5236\u6280\u672f**\u7b49\u7b49\uff0c\u8fd9\u6bb5\u65f6\u95f4\u4f60\u4e0d\u4e00\u5b9a\u80fd\u5b9e\u9645\u63a5\u89e6\u5230\u8fd9\u4e9b\uff0c\u5c31\u50cf\u6211\u5f53\u521d\u90a3\u6837\uff0c\u80af\u5b9a\u6ca1\u4ec0\u4e48\u516c\u53f8\u62db\u4e00\u4e2a\u5c0f\u767d\u3002 \u6211\u9009\u62e9\u81ea\u5df1\u770b\u4e66\uff0c\u63a8\u8350**\u300a\u9ad8\u6027\u80fdmysql\u300b**\uff0c\u91cc\u9762\u6240\u6709\u7684\u7ae0\u8282\u90fd\u9700\u8981\u770b\u4e00\u904d\uff0c\u4ee5\u73b0\u5728\u7684\u6c34\u5e73\u80af\u5b9a\u770b\u4e0d\u61c2\uff0c\u4f46\u9700\u8981\u77e5\u9053\u5927\u6982\u600e\u4e48\u56de\u4e8b\uff0c\u4e3a\u540e\u7eed\u7684\u627emysql\u521d\u7ea7dba\u7684\u5de5\u4f5c\u6253\u4e00\u4e2a\u94fa\u57ab\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5927\u6982\u4e5f\u9700\u89813\u4e2a\u6708\u3002 3\u3001 \u7eb8\u4e0a\u5f97\u6765\u7ec8\u89c9\u6d45\uff0c\u5b8c\u6210\u4ee5\u4e0a\u4e24\u6b65\uff0c\u6211\u5f00\u59cb\u51c6\u5907**\u627e\u4e00\u4efdmysql\u76f8\u5173\u7684\u5de5\u4f5c**\uff0c\u800c\u4e0d\u662f\u5929\u5929\u7528\u7740excel\u8868\u683c\u505a\u7740select * from table_sb\u8fd9\u6837\u7684\u5de5\u4f5c\u3002 \u5f53\u7136\u6211\u8fd9\u4e48\u7325\u7410\u7684\u4eba\u80af\u5b9a\u4e0d\u4f1a\u88f8\u8f9e\uff0c\u8be5\u753b\u7684\u7535\u8def\u677f\u4e5f\u4e00\u6837\u753b\uff0c\u4e1a\u4f59\u65f6\u95f4\u5f00\u59cb\u6295\u521d\u7ea7mysql dba\u7684\u5de5\u4f5c\uff0c\u5e76\u4e14\u4e0d\u95f4\u65ad\u5730\u5b66\u4e60\uff0c\u7f51\u4e0a\u5404\u79cd\u627emysql\u9762\u8bd5\u7684\u76f8\u5173\u9898\u76ee\uff08\u5b9e\u9645\u4e0a\u6211\u5f53\u65f6\u5b8c\u5168\u6ca1\u6709\u4efb\u4f55\u5b9e\u6218\u7ecf\u9a8c\uff09\uff0c\u9646\u7eed\u6536\u5230\u4e00\u4e9b\u9762\u8bd5\uff0c\u51ed\u501f\u4e4b\u524d\u81ea\u5b66\u7684mysql\u77e5\u8bc6\uff0c\u5f00\u59cb\u80e1\u4e71\u5439\u725b\u903c\uff0c\u5148\u6df7\u8fdb\u53bb\u518d\u8bf4\u3002 \u4f60\u4e0d\u505amysql\u5b9e\u9645\u76f8\u5173\u7684\u5de5\u4f5c\uff0c\u6c38\u8fdc\u4e5f\u4e0d\u77e5\u9053\u81ea\u5df1\u4e4b\u524d\u8ba4\u77e5\u7684db\u77e5\u8bc6\u6709\u591a\u5e7c\u7a1a\u3002 \u53cb\u60c5\u63d0\u793a\u4e00\u70b9\uff0c\u4e00\u822c\u516c\u53f8\u90fd\u6ca1\u6709\u4e13\u804cdba\u7684\uff0c\u6240\u4ee5\u9762\u8bd5\u7684\u65f6\u5019\u4e00\u5b9a\u8981\u81ea\u4fe1\uff0c\u5176\u5b9e\u4f60\u5b66\u4e86\u8fd9\u4e48\u591a\uff0c\u867d\u7136\u6beb\u65e0\u5b9e\u6218\u7ecf\u9a8c\uff0c\u7406\u8bba\u77e5\u8bc6\u5f88\u5927\u6982\u7387\u6bd4\u9762\u8bd5\u4f60\u7684\u4eba\u725b\u903c\uff0c\u6240\u4ee5\u5404\u79cd\u5439\uff0c\u6211\u5c31\u8fd9\u6837\u771f\u6b63\u8fdb\u5165\u521d\u7ea7dba\u7684\u5708\u5b50\uff08\u7531\u4e8e\u8fd9\u65f6\u5bf9linux\u8fd8\u5904\u4e8ecd ls\u7684\u6c34\u5e73\uff0c\u6240\u4ee5\u4e4b\u524d\u4e5f\u6839\u672c\u6ca1\u505a\u8fc7\u8fd0\u7ef4\uff09\uff0c\u8fd9\u4e2a\u8fb9\u5de5\u4f5c\u8fb9\u627e\u5de5\u4f5c\u7684\u8fc7\u7a0b\u53c8\u6301\u7eed\u4e862\u4e2a\u6708\u3002 4\u3001\u771f\u6b63\u8fdb\u5165\u4e92\u8054\u7f51\uff0c\u63a5\u89e6\u751f\u4ea7\u73af\u5883\u540e\uff0c\u8fd9\u662f\u6211\u8fdb\u6b65\u6700\u5927\u7684\u65f6\u5019\u3002 \u7b2c\u4e00\u6b65\u9700\u8981**\u5c06\u4e4b\u524d\u6240\u5b66\u771f\u6b63\u5730\u5e94\u7528\u8d77\u6765**\uff0c\u5e76\u4e14\u5e94\u7528\u7684\u8fc7\u7a0b\u4e2d\uff0c\u518d\u56de\u5934\u770b\u4e4b\u524d\u7684\u4e66\u7c4d\uff0c\u8fd9\u65f6\u5019\u9700\u8981\u771f\u6b63\u53bb\u7406\u89e3\uff0c\u800c\u4e0d\u662f\u4f3c\u662f\u800c\u975e\uff0c\u4e00\u77e5\u534a\u89e3\u3002 \u8fd9\u65f6\u518d\u63a8\u8350**\u300a\u9ad8\u6027\u80fdmysql \u7b2c\u4e09\u7248\u300b \uff0c\u5168\u672c\u518d\u770b\u4e00\u904d\uff0c\u8fd9\u65f6\u9700\u8981\u5168\u90e8\u770b\u61c2\uff0c\u53e6\u5916\u8fd8\u6709 \u300amysql\u6280\u672f\u5185\u5e55\uff1ainnodb\u5b58\u50a8\u5f15\u64ce\u300b \u7b49\u7b49\u3002 \u603b\u4e4b\u8fd9\u6bb5\u65f6\u95f4\u5c31\u9700\u8981**\u5f00\u59cb\u5173\u6ce8mysql\u4e00\u4e9b\u7ec6\u8282**\u4e86\uff0c\u6bd4\u5982**db\u6545\u969c\u5904\u7406\uff0c\u9ad8\u53ef\u7528\uff0c\u8d1f\u8f7d\u5747\u8861**\u7b49\u7b49\u7684\u5177\u4f53\u5b9e\u73b0\u4e86\u3002 \u53e6\u5916\uff0c**linux\u7684\u77e5\u8bc6\u540c\u6b65\u4e5f\u8981\u6df1\u5165\u53bb\u5b66\u4e60 \uff0c\u81f3\u5c11\u4f1a\u5199shell\u811a\u672c\uff0c\u5e38\u89c1\u7684linux\u77e5\u8bc6\u7b49\uff0c\u6211\u5728\u8fd9\u82b1\u4e861\u5e74\u591a\uff1b 5\u3001 dba\u7684\u5de5\u4f5c\u4e00\u822c\u662f\u975e\u5e38\u8f7b\u95f2\u7684\uff0c\u6bd5\u7adf\u4e0d\u662f\u5927\u516c\u53f8\uff0c\u6280\u672f\u80fd\u529b\u6709\u9650\uff0c\u8be5\u5b66\u7684\u4e5f\u5b66\u5f97\u5dee\u4e0d\u591a\u4e86\uff0c\u63a5\u89e6\u4e0d\u5230**\u6d77\u91cf\u6570\u636e\uff0c\u9ad8\u5e76\u53d1**\u7b49\u6bd4\u8f83\u953b\u70bc\u4eba\u7684\u573a\u5408\uff0c\u4e8e\u662f\u6211\u53c8\u51c6\u5907\u8df3\u4e86\u3002 \u4e8e\u662f\u6765\u4e86\u516c\u6709\u4e91\uff0c\u73b0\u5728\u6bcf\u5929\u8fd0\u7ef4\u4e07\u591a\u4e2adb\u5b9e\u4f8b\uff0c\u5e73\u5747\u6bcf\u5929\u5904\u74065+\u4e2a\u7d27\u6025db\u6545\u969c\uff0c\u51e0\u4e4emysql\u4f1a\u9047\u5230\u7684\u95ee\u9898\uff0c\u611f\u89c9\u90fd\u9047\u5230\u4e86\uff0c\u80fd\u611f\u89c9\u5230\u6280\u672f\u5b9e\u529b\u548c\u7ecf\u9a8c\u4e5f\u5728\u6bcf\u5929\u90fd\u5728\u79ef\u7d2f\uff0c\u5728\u8fdb\u6b65\u3002 \u4f46\u662f\u611f\u89c9\u8fd8\u662f\u6b20\u7f3a\u4e86\u5f88\u591a\uff0c**\u4e0b\u4e00\u6b65\u5c31\u770b\u4f60\u9009\u62e9**\u4e86\uff0c\u662f\u518d\u53bb\u7814\u7a76\u6e90\u4ee3\u7801\uff0c\u5e95\u5c42\u539f\u7406\u7684\u4e1c\u897f\u591a\u70b9\uff0c\u8fd8\u662f\u6570\u636e\u5e93\u8fd0\u7ef4\u548c\u5e94\u7528\u591a\u4e00\u70b9\uff0c\u5c31\u6bd4\u5982\u4e1a\u754c\u59dc\u627f\u5c27\uff0c\u4f55\u767b\u6210\u4e0e\u53f6\u91d1\u8363\u7684\u533a\u522b\u3002 \u7531\u4e8e\u6211\u7684\u5386\u53f2\u539f\u56e0\uff0c\u5bf9c++\u7b49\u51e0\u4e4e\u4e0d\u61c2\uff0c\u5e73\u65f6\u4e5f\u7528\u4e0d\u5230\uff0c\u6240\u4ee5\u770b\u4ee3\u7801\u7b49\u4e8b\u5b9e\u9645\u592a\u7d2f\uff0c\u4e8e\u662f\u6211\u518d\u53bb\u5b66mongodb\uff0c\u63a5\u4e86\u516c\u53f8mongodb\u8fd0\u7ef4\u7684\u6d3b\uff0c\u7b97\u662f\u5728\u5e7f\u5ea6\u4e0a\u7684\u4e00\u4e2a\u6269\u5c55\uff0c\u4e07\u4e00\u54ea\u5929mysql\u4e0d\u884c\u4e86\u5462 6\u3001 \u603b\u4e4b\uff0c\u5bf9\u4e8edb\u5c0f\u767d\u6765\u8bf4\uff0c\u6700\u91cd\u8981\u7684\u4e00\u70b9\u5c31\u662f\uff0c \u5b66\u4e60\u7684\u8fc7\u7a0b\u4e0d\u80fd\u65ad \u3002","title":"\u6df1\u5165MySQL\u6570\u636e\u5e93"},{"location":"SQL/%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#mysql","text":"","title":"\u5982\u4f55\u81ea\u5b66MySQL\u6570\u636e\u5e93"},{"location":"SQL/%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#mysql_1","text":"\u57fa\u7840\uff1a sql\u8bed\u53e5 \u8868\u7ed3\u6784\u8bbe\u8ba1 \u8c03\u4f18\uff1a \u7d22\u5f15\u3001\u6162\u67e5\u8be2\u4f18\u5316 \u914d\u7f6e\u53c2\u6570\u8c03\u4f18 \u6838\u5fc3\u539f\u7406\uff1a InnoDb\u5b58\u50a8\u5f15\u64ce \uff08\u5305\u62ec\u9694\u79bb\u7ea7\u522b\u3001\u4e8b\u52a1\u3001\u9501\u3001\u7f13\u5b58\u6c60\u3001\u56de\u6eda\u65e5\u5fd7\u7b49\u7b49\uff09 Mysqld (\u5305\u62ec\u8fde\u63a5\u7ba1\u7406\u3001\u8fdb\u7a0b\u7ba1\u7406\u3001\u67e5\u8be2\u7f13\u5b58\u3001\u67e5\u8be2\u4f18\u5316\u3001\u65e5\u5fd7\u7b49\u7b49) \u67b6\u6784\u4e0e\u8fd0\u7ef4\uff1a \u7528\u6237\u4e0e\u6743\u9650\u3001\u5b89\u5168 \u5907\u4efd\u4e0e\u6062\u590d \u65e5\u5fd7 \u5206\u5e03\u5f0f\u4e0e\u9ad8\u53ef\u7528","title":"MySQL\u77e5\u8bc6\u4f53\u7cfb"},{"location":"SQL/%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#mysql_2","text":"\u9996\u5148\uff0c\u5b66\u4e60\u57fa\u672c\u7684SQL\u8bed\u6cd5\u3002\u4f60\u5c31\u53ef\u4ee5\u7f16\u5199SQL\u8bed\u53e5\u4e86\u3002\u63a8\u8350\uff1aW3Schools\u7684 SQL \u6559\u7a0b \u3002 \u5176\u6b21\uff0c\u5b66\u4e60\u6570\u636e\u5e93\u7684\u4e3b\u8981\u529f\u80fd\u548c\u4f7f\u7528\u65b9\u6cd5\uff0c\u6bd4\u5982\u7528\u6237\u76f8\u5173\u6216\u8005\u6743\u9650\u76f8\u5173\u7b49\u7b49\u3002 \u6211\u63a8\u8350\u4e24\u672c\u4e66\uff1a \u4e00\u3001\u300aMySQL\u5fc5\u77e5\u5fc5\u4f1a\u300b \u8fd9\u672c\u4e66\u8bb2\u7684\u975e\u5e38\u5168\uff0c\u4ece\u57fa\u672c\u6982\u5ff5\uff0c\u5230\u67e5\u8be2\u5230\u63d2\u5165\u65b0\u5efa\u8868\uff0c\u7528\u6237\u7684\u7ba1\u7406\uff0c\u90fd\u6709\u5177\u4f53\u7684\u4f8b\u5b50\uff0c\u975e\u5e38\u9002\u5408\u6ca1\u6709\u4efb\u4f55\u57fa\u7840\u7684\u540c\u5b66\u6765\u5b66\u4e60Mysql\uff0c\u603b\u4e4b\u8fd9\u672c\u4e66\u5b66\u4e60\u7684\u65b9\u6cd5\u5c31\u662f\uff1a1\u3001\u5341\u5206\u949f\u4e86\u89e3\u4e0b\u6570\u636e\u5e93\u7684\u57fa\u672c\u6982\u5ff5 2\u3001\u627e\u5230\u7ec3\u624b\u7684\u6570\u636e\u5e93 3\u3001\u5bf9\u7167\u7740\u4e0a\u9762\u7684\u5185\u5bb9\u53bb\u6572\u3002\u672c\u4e66\u91cc\u4e5f\u6709\u5927\u91cf\u7684\u5185\u5bb9\u662f\u8bb2sql\u7684\uff0c\u53ef\u4ee5\u7ed3\u5408w3c\u7684sql\u6559\u7a0b\u4e00\u8d77\uff0c\u6709\u53d6\u820d\u5730\u770b\u3002 \u4e8c\u3001\u300a\u6570\u636e\u5e93\u7cfb\u7edf\u6982\u5ff5\u300b\u8fd9\u672c\u4e66\u662fdba\u5fc5\u770b\u7684\u3002 \u770b\u5b8c\u8fd9\u4e9b\u5e76\u4e14\u5b9e\u8df5+\u601d\u8003\u4e4b\u540e\uff0c\u53ef\u4ee5\u7b97\u5165\u95e8\u4e86\u3002","title":"MySQL\u96f6\u57fa\u7840\u56fe\u89e3"},{"location":"SQL/%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#mysql_3","text":"\u6211\u63a8\u8350\u51e0\u672c\u4e66\uff08\u5f88\u591a\u5927\u795e\u90fd\u8fd9\u4e48\u63a8\u8350\uff09\uff0c\u300a\u9ad8\u6027\u80fdMySQL(\u7b2c3\u7248)\u300b\u3001 \u300aMySQL\u6280\u672f\u5185\u5e55(\u7b2c4\u7248)\u300b\uff0c\u300aMySQL\u6280\u672f\u5185\u5e55 InnoDB\u5b58\u50a8\u5f15\u64ce\u300b\uff0c\u300a\u6df1\u5165\u7406\u89e3MySQL\u300b\u8fd8\u6709Mysql\u7684\u5b98\u7f51\u3002\u8bfb\u5b8c\u8fd9\u4e9b\u4e1c\u897f\uff0c\u518d\u52a0\u4e9b\u4e30\u5bcc\u7684\u7ecf\u9a8c\uff0c\u7406\u8bba\u4e0a\u6765\u8bb2\u5c31\u5177\u5907DBA\u7684\u6c34\u5e73\u4e86\u3002 \u5341\u5206\u63a8\u8350\u9605\u8bfb Planet MySQL \u4e0a\u6c47\u603b\u7684\u535a\u5ba2\uff0c\u7279\u522b\u662f Percona's MySQL & InnoDB performance and scalability blog . \u6211\u95ee\u4f60\uff0c\u9762\u5bf9\u4e00\u4e2a\u5e76\u53d1\u91cf\u6bd4\u8f83\u9ad8\u7684\u573a\u666f\uff0c\u5982\u4f55\u914d\u7f6emysql\u7684\u8fde\u63a5\u6570\uff1f \u4f60\u53ef\u80fd\u4f1a\u56de\u7b54\uff1a\u201c\u54e6\uff0c\u5c31\u662f\u8c03\u9ad8max_connection\u7684\u6570\u503c\u5427\u3002\u201d \u90a3\uff0c\u4f60\u6709\u6ca1\u6709\u601d\u8003\u8fc7\u8c03\u5230\u591a\u5c11\u662f\u6700\u5408\u9002\u7684\u5462\uff1f\u4e3a\u4ec0\u4e48\u8fd9\u6837\u8bbe\u7f6e\u5c31\u6700\u5408\u9002\u5462\uff1f \u4e5f\u8bb8\u4f60\u4f1a\u56de\u7b54\uff1a\u201c\u6069\u6211\u77e5\u9053\uff0c\u53ef\u4ee5\u770b\u7cfb\u7edf\u4e4b\u524d\u7684max_ used _connection\u7684\u6570\u503c\uff0c\u7136\u540e\u6765\u8bbe\u7f6e\u3002\u4e5f\u53ef\u4ee5\u8c03\u9ad8back_log\u7684\u503c\u3002\u201d \u90a3\u4f60\u6709\u6ca1\u6709\u601d\u8003\u8fc7\uff0cmax_connection\u8fde\u63a5\u6570\u592a\u9ad8\u4f1a\u6709\u4ec0\u4e48\u4e0d\u597d\u7684\u5f71\u54cd\u5462\uff1fback_log\u8bbe\u7f6e\u7684\u592a\u9ad8\u6709\u4ec0\u4e48\u4e0d\u597d\u7684\u5730\u65b9\u5462\uff1fmax_connect\u7684\u4e0a\u9650\u5176\u5b9e\u662f\u53d6\u51b3\u4e8emysql\u80fd\u83b7\u5f97\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u6570\u91cf\uff0c\u4e5f\u5c31\u662f\u8bf4\u4f60\u5c31\u7b97\u8bbe\u7f6e\u621010000\uff0c\u6700\u540e\u4e5f\u662f\u6ca1\u7528\u7684\uff0c\u7cfb\u7edf\u4f1a\u6839\u636e\u673a\u5668\u7684\u60c5\u51b5\u81ea\u52a8\u8c03\u4f4e\u3002 \u4e5f\u8bb8\u4f60\u4f1a\u56de\u7b54\uff1a\u201c\u6069\u6211\u77e5\u9053\uff0c\u8bbe\u7f6e\u592a\u9ad8\uff0c\u4f1a\u6709\u7cfb\u7edf\u5f00\u9500...\u201d \u90a3\u4f60\u6709\u6ca1\u6709\u601d\u8003\u8fc7\uff0c\u8fd9\u4e9b\u5f00\u9500\u5177\u4f53\u662f\u4ec0\u4e48\u5462\uff1f\u662f\u4ec0\u4e48\u5de5\u4f5c\u5bfc\u81f4\u4e86\u9700\u8981\u8fd9\u4e9b\u5185\u5b58\u5f00\u9500\uff1f \u4e5f\u8bb8\u4f60\u8fd8\u4f1a\u56de\u7b54\uff0c\u5728\u8fde\u63a5\u521b\u5efa\u7684\u65f6\u5019\uff0c\u4f1a\u7acb\u523b\u4e3a\u5b83\u5206\u914d\u8fde\u63a5\u7f13\u51b2\u533a\u4ee5\u53ca\u67e5\u8be2\u7f13\u51b2\u533a\uff0c\u8fd9\u4e9b\u90fd\u4f1a\u5403\u5185\u5b58\u3002 \u90a3\u4f60\u6709\u6ca1\u6709\u601d\u8003\u8fc7\uff0c\u5360\u636e\u7684\u8d44\u6e90\u5177\u4f53\u662f\u591a\u5c11\u5462\uff1f\u53d6\u51b3\u4e8e\u54ea\u4e9b\u56e0\u7d20\u5462\uff1f \u5982\u4f55\u81ea\u5b66mysql? \u4f60\u5fc5\u987b\u4e0d\u65ad\u601d\u8003\uff0c\u624d\u80fd\u5728\u5de5\u4f5c\u4e2d\u9762\u5bf9\u5177\u4f53\u573a\u666f\u7684\u65f6\u5019\uff0c\u975e\u5e38\u6de1\u5b9a\u5730\u63a8\u65ad\uff1a\u201c\u54e6\uff0c\u4e00\u5b9a\u662f\u8fd9\u91cc\u51fa\u4e86\u95ee\u9898\u3002\u5e94\u8be5\u600e\u4e48\u600e\u4e48\u505a\u3002\u201d \u9762\u5bf9\u95ee\u9898\uff0c\u62ff\u51fa\u6253\u7834\u7802\u9505\u95ee\u5230\u5e95\u7684\u7cbe\u795e\uff0c\u5148\u601d\u8003\u4e00\u756a\uff0c\u7ed9\u51fa\u81ea\u5df1\u7684\u5047\u8bbe\uff0c\u4e0d\u8981\u7740\u6025\u5730\u53bb\u627e\u5ea6\u5a18\uff0c\u8c37\u6b4c\u3002\u601d\u8003\u8fc7\u540e\uff0c\u5e26\u7740\u4f60\u7684\u63a8\u65ad\u6216\u8005\u7b54\u6848\uff0c\u5927\u80c6\u5730\u53bb\u641c\u7d22\u5427\uff01\u53bb\u770b\u770b\u522b\u4eba\u7684\u89c1\u89e3\uff0c\u53bb\u770b\u770b\u5b98\u65b9\u7684\u63cf\u8ff0\uff01 \u8fd9\u624d\u662f\u4e00\u4e2a\u5de5\u7a0b\u5e08\u5e94\u6709\u7684\u6001\u5ea6\u3002 \u6700\u540e\u6211\u60f3\u7ed9\u51fa\u4e00\u4e9b\u6709\u4ef7\u503c\u7684\u5b66\u4e60\u8d44\u6599\u3002\u53ef\u4ee5\u7701\u53bb\u4e00\u4e9b\u65f6\u95f4\u3002","title":"MySQL\u6df1\u5165\u5b66\u4e60"},{"location":"SQL/%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_1","text":"","title":"\u5b66\u4e60\u8d44\u6599"},{"location":"SQL/%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_2","text":"\u6211\u8ba4\u4e3a\u591a\u770b\u4e66\u8fd8\u662f\u6709\u597d\u5904\u7684\u3002\u6709\u4e9b\u4e66\u503c\u5f97\u53cd\u590d\u770b\u8bb8\u591a\u904d\uff0c\u6709\u65f6\u5019\u53ea\u770b\u4e00\u904d\u65e0\u6cd5\u6df1\u523b\u7406\u89e3\u5438\u6536\uff0c\u601d\u8003\u4e5f\u4e0d\u591f\u5145\u5206\u3002 \u7535\u5b50\u4e66\u4e0b\u8f7d\u4f20\u9001\u95e8 \u300amysql\u5fc5\u77e5\u5fc5\u4f1a\u300b \u300a\u9ad8\u6027\u80fdmysql\u7b2c\u4e09\u7248\u300b \u300a\u6570\u636e\u5e93\u7cfb\u7edf\u6982\u5ff5\u300b \u300a\u6df1\u5165\u7406\u89e3MySQL\u300b \u300aMySQL\u6027\u80fd\u8c03\u4f18\u4e0e\u67b6\u6784\u8bbe\u8ba1--\u5168\u518c\u300b\u300aSQL Antipatterns\u300b \u300aMySQL\u6280\u672f\u5185\u5e55 InnoDB\u5b58\u50a8\u5f15\u64ce\u300b","title":"\u7535\u5b50\u4e66"},{"location":"SQL/%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_3","text":"MySQL Tutorial - Learn MySQL Fast, Easy and Fun. \u53ef\u4ee5\u5feb\u901f\uff0c\u7b80\u5355\u548c\u6709\u8da3\u7684\u5b66\u4e60MySQL\u3002\u4ee5\u7b80\u5355\u6613\u61c2\u7684\u65b9\u5f0f\u4e3a\u60a8\u63d0\u4f9b\u5b8c\u6574\u7684MySQL\u6559\u7a0b\u3002\u6bcf\u4e2a\u6559\u7a0b\u90fd\u6709SQL\u811a\u672c\u548c\u53ef\u7528\u5c4f\u5e55\u622a\u56fe\u7684\u5b9e\u9645\u793a\u4f8b\u3002 mysql\u5b66\u4e60\u8d44\u6599 | mysql\u6df1\u5165\u5b66\u4e60\u7b14\u8bb0 \u6df1\u5ea6\u7b14\u8bb0 \u6709\u5f88\u591amysql\u7684\u8d44\u6599\u53ef\u4ee5\u770b\uff0c\u8fd8\u53ef\u4ee5\u770b\u7f51\u53cb\u505a\u7684\u5b66\u4e60\u7b14\u8bb0\u3002 W3Schools SQL \u6559\u7a0b \u53ef\u4ee5\u5b66\u4e60\u57fa\u7840\u7684sql\u8bed\u53e5","title":"\u5b66\u4e60\u7f51\u7ad9"},{"location":"SQL/%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_4","text":"\u65e0\u8bba\u82f1\u6587\u597d\u4e0d\u597d\uff0c\u770b\u82f1\u6587\u624b\u518c\u7684\u80fd\u529b\u662f\u4e00\u5b9a\u8981\u6709\uff0c\u4e5f\u4e00\u5b9a\u8981\u57f9\u517b\u7684\u3002 mysql\u5b98\u65b9\u624b\u518c\uff1a14 The InnoDB Storage Engine","title":"\u5b98\u65b9\u624b\u518c"},{"location":"SQL/%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_5","text":"\u9886\u57df\u4e13\u5bb6\u7684\u535a\u5ba2\u662f\u5341\u5206\u5177\u6709\u5b66\u4e60\u4ef7\u503c\u7684\uff0c\u4e0b\u9762\u5217\u4e3e\u51e0\u4e2a\u6bd4\u8f83\u597d\u7684\uff1a \u4f55\u767b\u6210\u7684\u6280\u672f\u535a\u5ba2 \u4f55\u767b\u6210\u7684\u6280\u672f\u535a\u5ba2 \u6dd8\u5b9d\u4e01\u5947 \u8ffd\u98ce\u5200\u00b7\u4e01\u5947 - ITeye\u6280\u672f\u7f51\u7ad9 \u5468\u632f\u5174@\u6dd8\u5b9d \u82b1\u540d\uff1a\u82cf\u666e \u4e00\u4e2a\u6545\u4e8b@MySQL DBA \u963f\u91cc\u4e91\u6570\u636e\u5e93\u9ad8\u7ea7\u4e13\u5bb6\u5f6d\u7acb\u52cb\u4e3a MariaDB Foundation \u6b63\u5f0f\u6210\u5458\uff0c\u8d1f\u8d23\u5168\u7403Replication\u6a21\u5757\u76f8\u5173\u8865\u4e01\u7684Review\u3002\u5f6d\u7acb\u52cb\u4e5f\u6210\u4e3a\u9996\u4f4d\u88abMariaDB\u57fa\u91d1\u4f1a\u5f15\u5165\u7684\u4e2d\u56fd\u7a0b\u5e8f\u5458\u3002 P.Linux Laboratory Planet MySQL","title":"\u5927\u725b\u535a\u5ba2"},{"location":"SQL/%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#mysql_4","text":"\u672c\u4eba\u662f\u4e2a\u6d3b\u751f\u751f\u7684\u4f8b\u5b50\uff0c\u5927\u5b66\u5b66\u7684\u4eea\u5668\u4eea\u8868\u4e13\u4e1a\uff0c\u6bd5\u4e1a\u524d\u7b2c\u4e00\u4efd\u5b9e\u4e60\u5de5\u4f5c\u662f\u7535\u8def\u677f\u6d4b\u8bd5\u30020\u57fa\u7840\u81ea\u5b66mysql\u548clinux\uff0c\u73b0\u4efb\u56fd\u5185\u67d0\u516c\u6709\u4e91mysql &&mongodb dba\u3002 \u5bf9\u4e8e\u975e\u8ba1\u7b97\u673a\u51fa\u8eab\u7684\u6211\uff0c\u5927\u5b66\u53ea\u4f1ahello word\u548c\u8dd1\u9a6c\u706f\uff0c\u671f\u95f4\u8fc7\u7a0b\u786e\u5b9e\u975e\u5e38\u66f2\u6298\uff0c\u5206\u4eab\u4e0b\u6211\u7684\u81ea\u5b66\u8fc7\u7a0b\uff1a 1\u3001 \u81ea\u5df1\u5728windows\u548clinux\u4e0a\u5b89\u88c5\u4e86mysql\uff0c\u81ea\u5b66linux\u7684\u57fa\u7840\u77e5\u8bc6\uff0c\u5b66\u4e60mysql\u7684\u6700\u57fa\u7840\u7684\u77e5\u8bc6\uff0c\u5373**\u600e\u4e48\u5199sql\uff0c\u5b58\u50a8\u8fc7\u7a0b\uff0c\u8868\u7684\u8bbe\u8ba1**\u7b49\uff0c\u4ece0\u5230\u719f\u6089\u5927\u6982\u82b1\u4e863\u4e2a\u6708 \uff0c\u63a8\u8350**\u300amysql\u5165\u95e8\u5f88\u7b80\u5355\u300b**\u3002 2\u3001\u7cfb\u7edf\u5730\u8f83\u4e3a\u6df1\u5165\u5730\u5b66\u4e60**mysql\u7684sql\u4f18\u5316\uff0c\u5907\u4efd\u548c\u6062\u590d\uff0c\u53c2\u6570\u4f18\u5316\uff0c\u67b6\u6784\u4f18\u5316\uff0c\u786c\u4ef6\u5c42\u9762\u7684\u4f18\u5316\uff0c\u9ad8\u53ef\u7528\u65b9\u6848\uff0c\u590d\u5236\u6280\u672f**\u7b49\u7b49\uff0c\u8fd9\u6bb5\u65f6\u95f4\u4f60\u4e0d\u4e00\u5b9a\u80fd\u5b9e\u9645\u63a5\u89e6\u5230\u8fd9\u4e9b\uff0c\u5c31\u50cf\u6211\u5f53\u521d\u90a3\u6837\uff0c\u80af\u5b9a\u6ca1\u4ec0\u4e48\u516c\u53f8\u62db\u4e00\u4e2a\u5c0f\u767d\u3002 \u6211\u9009\u62e9\u81ea\u5df1\u770b\u4e66\uff0c\u63a8\u8350**\u300a\u9ad8\u6027\u80fdmysql\u300b**\uff0c\u91cc\u9762\u6240\u6709\u7684\u7ae0\u8282\u90fd\u9700\u8981\u770b\u4e00\u904d\uff0c\u4ee5\u73b0\u5728\u7684\u6c34\u5e73\u80af\u5b9a\u770b\u4e0d\u61c2\uff0c\u4f46\u9700\u8981\u77e5\u9053\u5927\u6982\u600e\u4e48\u56de\u4e8b\uff0c\u4e3a\u540e\u7eed\u7684\u627emysql\u521d\u7ea7dba\u7684\u5de5\u4f5c\u6253\u4e00\u4e2a\u94fa\u57ab\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5927\u6982\u4e5f\u9700\u89813\u4e2a\u6708\u3002 3\u3001 \u7eb8\u4e0a\u5f97\u6765\u7ec8\u89c9\u6d45\uff0c\u5b8c\u6210\u4ee5\u4e0a\u4e24\u6b65\uff0c\u6211\u5f00\u59cb\u51c6\u5907**\u627e\u4e00\u4efdmysql\u76f8\u5173\u7684\u5de5\u4f5c**\uff0c\u800c\u4e0d\u662f\u5929\u5929\u7528\u7740excel\u8868\u683c\u505a\u7740select * from table_sb\u8fd9\u6837\u7684\u5de5\u4f5c\u3002 \u5f53\u7136\u6211\u8fd9\u4e48\u7325\u7410\u7684\u4eba\u80af\u5b9a\u4e0d\u4f1a\u88f8\u8f9e\uff0c\u8be5\u753b\u7684\u7535\u8def\u677f\u4e5f\u4e00\u6837\u753b\uff0c\u4e1a\u4f59\u65f6\u95f4\u5f00\u59cb\u6295\u521d\u7ea7mysql dba\u7684\u5de5\u4f5c\uff0c\u5e76\u4e14\u4e0d\u95f4\u65ad\u5730\u5b66\u4e60\uff0c\u7f51\u4e0a\u5404\u79cd\u627emysql\u9762\u8bd5\u7684\u76f8\u5173\u9898\u76ee\uff08\u5b9e\u9645\u4e0a\u6211\u5f53\u65f6\u5b8c\u5168\u6ca1\u6709\u4efb\u4f55\u5b9e\u6218\u7ecf\u9a8c\uff09\uff0c\u9646\u7eed\u6536\u5230\u4e00\u4e9b\u9762\u8bd5\uff0c\u51ed\u501f\u4e4b\u524d\u81ea\u5b66\u7684mysql\u77e5\u8bc6\uff0c\u5f00\u59cb\u80e1\u4e71\u5439\u725b\u903c\uff0c\u5148\u6df7\u8fdb\u53bb\u518d\u8bf4\u3002 \u4f60\u4e0d\u505amysql\u5b9e\u9645\u76f8\u5173\u7684\u5de5\u4f5c\uff0c\u6c38\u8fdc\u4e5f\u4e0d\u77e5\u9053\u81ea\u5df1\u4e4b\u524d\u8ba4\u77e5\u7684db\u77e5\u8bc6\u6709\u591a\u5e7c\u7a1a\u3002 \u53cb\u60c5\u63d0\u793a\u4e00\u70b9\uff0c\u4e00\u822c\u516c\u53f8\u90fd\u6ca1\u6709\u4e13\u804cdba\u7684\uff0c\u6240\u4ee5\u9762\u8bd5\u7684\u65f6\u5019\u4e00\u5b9a\u8981\u81ea\u4fe1\uff0c\u5176\u5b9e\u4f60\u5b66\u4e86\u8fd9\u4e48\u591a\uff0c\u867d\u7136\u6beb\u65e0\u5b9e\u6218\u7ecf\u9a8c\uff0c\u7406\u8bba\u77e5\u8bc6\u5f88\u5927\u6982\u7387\u6bd4\u9762\u8bd5\u4f60\u7684\u4eba\u725b\u903c\uff0c\u6240\u4ee5\u5404\u79cd\u5439\uff0c\u6211\u5c31\u8fd9\u6837\u771f\u6b63\u8fdb\u5165\u521d\u7ea7dba\u7684\u5708\u5b50\uff08\u7531\u4e8e\u8fd9\u65f6\u5bf9linux\u8fd8\u5904\u4e8ecd ls\u7684\u6c34\u5e73\uff0c\u6240\u4ee5\u4e4b\u524d\u4e5f\u6839\u672c\u6ca1\u505a\u8fc7\u8fd0\u7ef4\uff09\uff0c\u8fd9\u4e2a\u8fb9\u5de5\u4f5c\u8fb9\u627e\u5de5\u4f5c\u7684\u8fc7\u7a0b\u53c8\u6301\u7eed\u4e862\u4e2a\u6708\u3002 4\u3001\u771f\u6b63\u8fdb\u5165\u4e92\u8054\u7f51\uff0c\u63a5\u89e6\u751f\u4ea7\u73af\u5883\u540e\uff0c\u8fd9\u662f\u6211\u8fdb\u6b65\u6700\u5927\u7684\u65f6\u5019\u3002 \u7b2c\u4e00\u6b65\u9700\u8981**\u5c06\u4e4b\u524d\u6240\u5b66\u771f\u6b63\u5730\u5e94\u7528\u8d77\u6765**\uff0c\u5e76\u4e14\u5e94\u7528\u7684\u8fc7\u7a0b\u4e2d\uff0c\u518d\u56de\u5934\u770b\u4e4b\u524d\u7684\u4e66\u7c4d\uff0c\u8fd9\u65f6\u5019\u9700\u8981\u771f\u6b63\u53bb\u7406\u89e3\uff0c\u800c\u4e0d\u662f\u4f3c\u662f\u800c\u975e\uff0c\u4e00\u77e5\u534a\u89e3\u3002 \u8fd9\u65f6\u518d\u63a8\u8350**\u300a\u9ad8\u6027\u80fdmysql \u7b2c\u4e09\u7248\u300b \uff0c\u5168\u672c\u518d\u770b\u4e00\u904d\uff0c\u8fd9\u65f6\u9700\u8981\u5168\u90e8\u770b\u61c2\uff0c\u53e6\u5916\u8fd8\u6709 \u300amysql\u6280\u672f\u5185\u5e55\uff1ainnodb\u5b58\u50a8\u5f15\u64ce\u300b \u7b49\u7b49\u3002 \u603b\u4e4b\u8fd9\u6bb5\u65f6\u95f4\u5c31\u9700\u8981**\u5f00\u59cb\u5173\u6ce8mysql\u4e00\u4e9b\u7ec6\u8282**\u4e86\uff0c\u6bd4\u5982**db\u6545\u969c\u5904\u7406\uff0c\u9ad8\u53ef\u7528\uff0c\u8d1f\u8f7d\u5747\u8861**\u7b49\u7b49\u7684\u5177\u4f53\u5b9e\u73b0\u4e86\u3002 \u53e6\u5916\uff0c**linux\u7684\u77e5\u8bc6\u540c\u6b65\u4e5f\u8981\u6df1\u5165\u53bb\u5b66\u4e60 \uff0c\u81f3\u5c11\u4f1a\u5199shell\u811a\u672c\uff0c\u5e38\u89c1\u7684linux\u77e5\u8bc6\u7b49\uff0c\u6211\u5728\u8fd9\u82b1\u4e861\u5e74\u591a\uff1b 5\u3001 dba\u7684\u5de5\u4f5c\u4e00\u822c\u662f\u975e\u5e38\u8f7b\u95f2\u7684\uff0c\u6bd5\u7adf\u4e0d\u662f\u5927\u516c\u53f8\uff0c\u6280\u672f\u80fd\u529b\u6709\u9650\uff0c\u8be5\u5b66\u7684\u4e5f\u5b66\u5f97\u5dee\u4e0d\u591a\u4e86\uff0c\u63a5\u89e6\u4e0d\u5230**\u6d77\u91cf\u6570\u636e\uff0c\u9ad8\u5e76\u53d1**\u7b49\u6bd4\u8f83\u953b\u70bc\u4eba\u7684\u573a\u5408\uff0c\u4e8e\u662f\u6211\u53c8\u51c6\u5907\u8df3\u4e86\u3002 \u4e8e\u662f\u6765\u4e86\u516c\u6709\u4e91\uff0c\u73b0\u5728\u6bcf\u5929\u8fd0\u7ef4\u4e07\u591a\u4e2adb\u5b9e\u4f8b\uff0c\u5e73\u5747\u6bcf\u5929\u5904\u74065+\u4e2a\u7d27\u6025db\u6545\u969c\uff0c\u51e0\u4e4emysql\u4f1a\u9047\u5230\u7684\u95ee\u9898\uff0c\u611f\u89c9\u90fd\u9047\u5230\u4e86\uff0c\u80fd\u611f\u89c9\u5230\u6280\u672f\u5b9e\u529b\u548c\u7ecf\u9a8c\u4e5f\u5728\u6bcf\u5929\u90fd\u5728\u79ef\u7d2f\uff0c\u5728\u8fdb\u6b65\u3002 \u4f46\u662f\u611f\u89c9\u8fd8\u662f\u6b20\u7f3a\u4e86\u5f88\u591a\uff0c**\u4e0b\u4e00\u6b65\u5c31\u770b\u4f60\u9009\u62e9**\u4e86\uff0c\u662f\u518d\u53bb\u7814\u7a76\u6e90\u4ee3\u7801\uff0c\u5e95\u5c42\u539f\u7406\u7684\u4e1c\u897f\u591a\u70b9\uff0c\u8fd8\u662f\u6570\u636e\u5e93\u8fd0\u7ef4\u548c\u5e94\u7528\u591a\u4e00\u70b9\uff0c\u5c31\u6bd4\u5982\u4e1a\u754c\u59dc\u627f\u5c27\uff0c\u4f55\u767b\u6210\u4e0e\u53f6\u91d1\u8363\u7684\u533a\u522b\u3002 \u7531\u4e8e\u6211\u7684\u5386\u53f2\u539f\u56e0\uff0c\u5bf9c++\u7b49\u51e0\u4e4e\u4e0d\u61c2\uff0c\u5e73\u65f6\u4e5f\u7528\u4e0d\u5230\uff0c\u6240\u4ee5\u770b\u4ee3\u7801\u7b49\u4e8b\u5b9e\u9645\u592a\u7d2f\uff0c\u4e8e\u662f\u6211\u518d\u53bb\u5b66mongodb\uff0c\u63a5\u4e86\u516c\u53f8mongodb\u8fd0\u7ef4\u7684\u6d3b\uff0c\u7b97\u662f\u5728\u5e7f\u5ea6\u4e0a\u7684\u4e00\u4e2a\u6269\u5c55\uff0c\u4e07\u4e00\u54ea\u5929mysql\u4e0d\u884c\u4e86\u5462 6\u3001 \u603b\u4e4b\uff0c\u5bf9\u4e8edb\u5c0f\u767d\u6765\u8bf4\uff0c\u6700\u91cd\u8981\u7684\u4e00\u70b9\u5c31\u662f\uff0c \u5b66\u4e60\u7684\u8fc7\u7a0b\u4e0d\u80fd\u65ad \u3002","title":"\u8f6c\u884c\u81ea\u5b66MySQL\u6570\u636e\u5e93"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/","text":"MySQL \u6570\u636e\u5e93\u5165\u95e8\u5b66\u4e60 \u00b6 \u963f\u91cc\u4e91\u5927\u5b66 \u94fe\u63a5\u5730\u5740\uff1a https://edu.aliyun.com/course/153/lesson/list mysql \u6570\u636e\u5e93\u7684\u7b80\u5355\u4ecb\u7ecd\uff0c\u5b89\u88c5\u914d\u7f6eMYSQL\uff0c\u57fa\u672c\u7684SQL\u547d\u4ee4\u3002 01 \u7b80\u4ecb \u00b6 SQL\uff1a\u4e00\u79cd\u7f16\u7a0b\u8bed\u8a00\uff0cstrcutured query language \u7ed3\u6784\u5316\u7684\u67e5\u8be2\u8bed\u8a00\uff0c\u4e3b\u8981\u7528\u4e8e\u6570\u636e\u5e93\u4e2d\u7684\u589e\u5220\u6539\u67e5 select * from tb MySQL \u5173\u7cfb\u578b\u6570\u636e\u5e93\uff0c\u662f\u6570\u636e\u5e93\u7684\u4e00\u79cd\uff08\u5176\u4ed6\u7684Oracle\uff09\u3002MYSQL\u662f\u5f00\u6e90\u6570\u636e\u5e93\u3002 02 \u5b89\u88c5 \u00b6 \u5b98\u7f51\uff1adev.mysql.com/downloads/mysql windows \u5b89\u88c5 \u00b6 \u5728\u5b98\u7f51\u4e0b\u8f7d\u5b89\u88c5\u5305\u540e\uff0c\u9009\u62e9\u9ed8\u8ba4\u7684developer\u5b89\u88c5\u65b9\u5f0f\u8fdb\u884c\u5b89\u88c5\uff1b \u5b89\u88c5\u8fc7\u7a0b\u4e2d\u5982\u679c\u68c0\u6d4b\u5230office\u4e2d\u7f3a\u5c11\u63d2\u4ef6\uff0c\u53ef\u4ee5\u4e0d\u7528\u5904\u7406\uff0c\u56e0\u4e3a\u4e3b\u8981\u5728CLI\u6a21\u5f0f\u4e0b\u4f7f\u7528MYSQL \u5b89\u88c5\u4e2d\u9700\u8981\u8bbe\u7f6eroot\u7528\u6237\u7684\u5bc6\u7801\uff0c\u5176\u4ed6\u7c7b\u578b\u7684\u7528\u6237\uff08\u4e0d\u6dfb\u52a0\u5176\u4ed6\u7528\u6237\uff09 \u6309\u7167\u5b89\u88c5\u5305\u7684\u6d41\u7a0b\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u5728\u4efb\u52a1\u7ba1\u7406\u5668\u4e0b\u9762\u770b\u5230\u670d\u52a1\u6b63\u5728\u8fd0\u884c\uff0c\u9700\u8981\u5728cmd\u4e0b\u9762\u786e\u8ba4\u5b89\u88c5. mysql -u root -p # -u \u8868\u793a\u7528\u6237 -p \u8868\u793a\u9700\u8981\u5bc6\u7801 linux \u5b89\u88c5 \u00b6 sudo yum install mysql mysql-server sudo apt-get install mysql mysql-server ( ubuntu ) mysqladmin -u root -p password 'root' # \u8bbe\u7f6e\u65b0\u5bc6\u7801\u662froot Mac \u5b89\u88c5 \u00b6 \u5b89\u88c5\u5305\u7684\u683c\u5f0f\u662f dmg \u5b89\u88c5\u5b8c\u6bd5\u540e\u9700\u8981\u8bbe\u7f6eroot\u5bc6\u7801 /usr/local/mysql/bin/mysqladmin -u root -p password root # \u5b89\u88c5\u6d4b\u8bd5\u6210\u529f\uff0c\u5bc6\u7801\u548c\u5f00\u673a\u5bc6\u7801\u4e00\u81f4 /usr/local/mysql/bin/mysql -u root -p # \u6253\u5f00mysql\u7684\u5bc6\u7801\u662f root \u5f00\u542f\u6216\u8005\u5173\u95ed\u670d\u52a1\u6709\u4e24\u79cd\u65b9\u6cd5 CLI sudo /Library/StartupItems/MySQLCOM/MYSQLCOM start | stop | restart GUI \u7cfb\u7edf\u914d\u7f6e - MYSQL - stop |start \u6ce8\u610f \uff1a\u5b89\u88c5\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u9009\u62e9\u5f3a\u5bc6\u7801\u6216\u8005\u662f\u5f31\u5bc6\u7801\u3002\u73b0\u5728\u672c\u5730\u6d4b\u8bd5\u4f7f\u7528\u5f31\u5bc6\u7801\u3002\u5bc6\u7801\u6700\u5c11\u662f8\u4f4d\uff0c\u8fd9\u91cc\u8bbe\u7f6e12345678 \u4f5c\u4e3aroot\u7684\u5bc6\u7801\u3002 \u73b0\u5728\u5bc6\u7801\u662f root \u6ce8\u610f2 \uff1a \u5982\u679cmysql\u5df2\u7ecf\u8fd0\u884c\uff0c\u4f46\u662f\u8f93\u5165 mysql \u663e\u793a\u547d\u4ee4\u4e0d\u5b58\u5728\uff1a\u9047\u4e0a-bash: mysql: command not found\u7684\u60c5\u51b5\u522b\u7740\u6025 \u8fd9\u4e2a\u662f\u56e0\u4e3a/usr/local/bin\u76ee\u5f55\u4e0b\u7f3a\u5931mysql\u5bfc\u81f4\uff0c\u53ea\u9700\u8981\u4e00\u4e0b\u65b9\u6cd5\u5efa\u7acb\u8f6f\u94fe\u63a5\uff0c\u5373\u53ef\u4ee5\u89e3\u51b3\uff1a \u628amysql\u5b89\u88c5\u76ee\u5f55\uff0c\u6bd4\u5982MYSQLPATH/bin/mysql\uff0c\u6620\u5c04\u5230/usr/local/bin\u76ee\u5f55\u4e0b\uff1a # cd /usr/local/bin # ln -fs /MYSQLPATH/bin/mysql mysql \u8fd8\u6709\u5176\u5b83\u5e38\u7528\u547d\u4ee4mysqladmin\u3001mysqldump\u7b49\u4e0d\u53ef\u7528\u65f6\u5019\u90fd\u53ef\u6309\u7528\u6b64\u65b9\u6cd5\u89e3\u51b3\u3002 \u6ce8\uff1a\u5176\u4e2dMYSQLPATH\u662fmysql\u7684\u5b9e\u9645\u5b89\u88c5\u8def\u5f84\uff08MAC \u9ed8\u8ba4\u8def\u5f84 /usr/local/mysql/bin/mysql\uff09 \u539f\u6587\u94fe\u63a5\uff1a https://www.cnblogs.com/yang1314/p/9288767.html 03 \u914d\u7f6e \u00b6 MYSQL \u7684\u914d\u7f6e\u6587\u4ef6\u662f\u4e00\u4e2a\u6587\u672c\u6587\u4ef6 my.cof Mac \u7684\u6587\u4ef6\u8def\u5f84\u662f /usr/local/mysql/my.cof \u9ed8\u8ba4\u7684\u914d\u7f6e\u6587\u4ef6\u662f\u7a7a\u7684 \u53ef\u4ee5\u914d\u7f6e\u5b57\u7b26\u96c6\uff0c\u7f13\u5b58\u5927\u5c0f\u7b49 [client] default-character-set=utf8 # \u6dfb\u52a0\u5b57\u7b26\u96c6\uff0c\u907f\u514d\u4e71\u7801 [mysqld] character-set-server=utf8 default-storage-engine=INNODB # \u9ed8\u8ba4\u5b58\u50a8\u5f15\u64ce INNODB \u4fee\u6539\u914d\u7f6e\u540e\uff0c\u9700\u8981\u91cd\u542f mysql (\u6216\u8005\u5728\u8bbe\u7f6e\u4e2d\u91cd\u542f) sudo /Library/StartupItems/MySQLCOM/MYSQLCOM restart \u81ea\u5df1\u914d\u7f6e\u7684\u95ee\u9898\uff1a\u4f7f\u7528vim\u7f16\u8f91\u5668\u4fdd\u5b58\u7684\u65f6\u5019\uff0c\u4e0d\u80fd\u4fdd\u5b58\u914d\u7f6e\uff1b\u4f7f\u7528sudo\u4e5f\u4e0d\u884c \"/usr/local/mysql-8.0.18-macos10.14-x86_64/my.cof\" E212: Can't open file for writing Warning: Changing a readonly file 04 \u6570\u636e\u5e93\u64cd\u4f5c \u00b6 show databases ; create database gc ; drop database gc ; \u4e0d\u540c\u6570\u636e\u5e93\u7684\u6570\u636e\u662f\u4e0d\u4f1a\u5e72\u6270\u7684\u3002\u6570\u636e\u5e93\u662f\u6570\u636e\u5e93\u8f6f\u4ef6\u4e2d\u57fa\u672c\u7684\u5355\u4f4d 05 \u6570\u636e\u7c7b\u578b \u00b6 database \u5305\u62ec tables \u8868\u4e2d\u6bcf\u4e00\u884c\u5c31\u662f\u4e00\u6761\u6570\u636e\uff1b\u5217\u5c31\u662f\u4e0d\u540c\u7684\u5b57\u6bb5\uff0c\u4e0d\u540c\u7684\u5b57\u6bb5\u5bf9\u5e94\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\u548c\u6570\u636e\u7ed3\u6784\uff08\u4f8b\u5982ID\u662f\u81ea\u589e\u957f\u7684\u6574\u5f62\uff0cName\u662f\u957f\u5b57\u7b26\u4e32\uff09\uff0c\u662f\u5426\u6709\u9ed8\u8ba4\u503c\u7b49\u3002\u4e0b\u9762\u662f\u5e38\u89c1\u7684\u6570\u636e\u7c7b\u578b\u3002\u6839\u636e\u5b9e\u9645\u4e1a\u52a1\u903b\u8f91\u4f7f\u7528\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\u3002 \u6587\u672c\u7c7b \u00b6 VARCHAR(size) \u957f\u5ea6\u5c0f\u4e8e255\u7684\u53ef\u53d8\u957f\u5ea6\u5b57\u7b26\u4e32\uff1avarchar \u957f\u5ea6\u5c0f\u4e8e65535\u5b57\u7b26\uff08\u901a\u5e38\u6587\u672c\u8db3\u591f\u4f7f\u7528\uff09\uff0c\u957f\u5ea6\u53ef\u4ee5\u6539\u53d8\uff08mqsql 5.0.3 \u4e4b\u524d\u8868\u793a65535\u5b57\u8282\uff09\uff0c\u67e5\u8be2\u901f\u5ea6\u4e2d\u7b49 TEXT \u957f\u5ea6\u4e2d\u7b49\u7684\u5b57\u7b26\u4e32\uff0ctext \u5b57\u7b26\u4e32\u957f\u5ea6\u4e0d\u53d7\u9650\u5236\uff0c\u67e5\u8be2\u901f\u5ea6\u6700\u6162\uff0c\u901a\u5e38\u4f18\u5148\u4f7f\u7528varchar LONGTEXT \u957f\u5ea6\u5f88\u957f\u7684\u5b57\u7b26\u4e32 CHAR\uff1achar \u8868\u793a\u4f20\u7edf\u7684\u5b57\u7b26\u4e32\uff0c\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u5c0f\u4e8e255\u5b57\u7b26\uff0c\u957f\u5ea6\u56fa\u5b9a\uff0c\u9002\u7528\u4e8e\u8f83\u77ed\u56fa\u5b9a\u957f\u5ea6\u7684\u6570\u636e\uff08\u8eab\u4efd\u8bc1\u53f7\u548c\u7535\u8bdd\u53f7\uff09\uff0c\u67e5\u8be2\u8868\u901f\u5ea6\u6700\u5feb Foreign key \u5916\u952e primary key \u4e3b\u952e \u5728mysql\u4e2d\uff0c\u5982\u679c\u628a\u8868\u7684\u4e3b\u952e\u8bbe\u4e3aauto_increment\u7c7b\u578b\uff0c\u6570\u636e\u5e93\u5c31\u4f1a\u81ea\u52a8\u4e3a\u4e3b\u952e\u8d4b\u503c\u3002 \u65e5\u671f\u7c7b \u00b6 DATETIME \u5e74\u6708\u65e5\u65f6\u5206\u79d2 \u6570\u503c\u7c7b \u00b6 TINYINT -128~127 \u6216\u8005\u5b58\u50a8\u5e03\u5c14\u503c INT \u5c0f\u6570\u5b57 BIGINT \u5927\u6570\u5b57\uff08ID\uff0c\u81ea\u589e\u957f\uff09 DOUBLE \u6d6e\u70b9\u578b\uff08\u4e0d\u4f7f\u7528FLOAT\uff09 06 \u6570\u636e\u8868\u64cd\u4f5c\uff08table\uff09 \u00b6 CREATE TABLE account ( id bigint ( 20 ), createTime datetime , ip varchar ( 255 ), mobile varchar ( 255 ), name varchar ( 255 ), brief text , comments text , location varchar ( 255 ), qq varchar ( 255 ), gender int ( 11 ), city varchar ( 255 ), province varchar ( 255 ) ); drop table account ; describe account ; # \u67e5\u770b\u5f53\u524d\u7684\u8868\u7684\u5185\u90e8\u7ed3\u6784 create database Michael ; use Michael ; show tables ; CREATE TABLE gc (...); describe gc ; drop table gc ; \u8868\u91cd\u547d\u540d alter table \u8868\u540d rename \u65b0\u8868\u540d 07 \u5217\u64cd\u4f5c \u00b6 \u589e\u52a0\u5220\u9664\u8868\u7684\u5217 alter table \u8868\u540d add \u65b0\u5217\u540d \u5217\u6570\u636e\u7c7b\u578b not null default 1 ; # \u540e\u9762\u7684 not null default 1 \u662f\u53ef\u9009\u53c2\u6570 alter table \u8868\u540d drop \u5df2\u6709\u5217\u540d ; \u4fee\u6539\u5217\u540d\u6216\u8005\u6570\u636e\u7c7b\u578b: \u53ef\u4ee5\u5355\u72ec\u4fee\u6539\u5217\u540d\u540e\u8005\u6570\u636e\u7c7b\u578b\uff0c\u53ef\u4ee5\u4e00\u8d77\u4fee\u6539\u5217\u540d\u548c\u6570\u636e\u7c7b\u578b alter table \u8868\u540d change \u65e7\u5217\u540d \u65b0\u5217\u540d \u65b0\u7684\u6570\u636e\u7c7b\u578b 08 \u8868\u6570\u636e\u64cd\u4f5c \u00b6 insert \u63d2\u5165 \u00b6 \u589e\u52a0\uff08\u63d2\u5165\uff09\u8868\u6570\u636e insert into \u8868\u540d values ( key1 , key2 , key3 ...) insert into tableName ( column1 , column2 ) values ( key1 , key2 ) select \u67e5\u8be2 \u00b6 \u67e5\u8be2\u8868\u6570\u636e select * from \u8868\u540d select \u5217\u540d1 , \u5217\u540d2 from \u8868\u540d where \u7b5b\u9009 \u00b6 select * from tableName where title = 't' ; # \u67e5\u8be2\u6761\u4ef6\u53ef\u4ee5\u662f\u5927\u4e8e\u5c0f\u4e8e\u7b49\u4e8e\u4e0d\u7b49\u4e8e\uff0c\u6216\u8005between\u8303\u56f4 # \u53ef\u4ee5\u901a\u8fc7 and or \u8fdb\u884c\u591a\u5143\u9009\u62e9\uff0c\u62ec\u53f7\u589e\u52a0\u4f18\u5148\u7ea7 # \u6ce8\u610f\uff1a\u5224\u65ad\u76f8\u7b49\u662f = \u4e0d\u662f\u4e24\u4e2a\u7b49\u53f7 select * from gc where name = 'Michael' and ( id = 20 or id = 22 ); \u5224\u65ad null \u662f\u7279\u6b8a\u7684\uff0c\u9700\u8981\u901a\u8fc7 is is not \u5224\u65ad\uff0c\u4e0d\u80fd\u901a\u8fc7 = != \u5224\u65ad select * from gc where email is null and name is not null ; distinct \u53bb\u91cd \u00b6 \u5982\u679c\u7b5b\u9009\u8fc7\u7a0b\u4e2d\u6709\u91cd\u590d\u7684\u6570\u636e\uff0c\u90a3\u4e48\u53ef\u4ee5\u52a0\u4e0a\u5173\u952e\u5b57 distinct \u53bb\u9664\u91cd\u590d\u7684\u884c\u3002\u4e0b\u9762\u7684\u67e5\u8be2\u7ed3\u679c\u4e2d\uff0c\u5982\u679cname\u548cage\u76f8\u540c\u7684\u6570\u636e\u6709\u591a\u884c\uff0c\u90a3\u4e48\u7ed3\u679c\u4e2d\u53ea\u663e\u793a\u4e00\u884c select distinct name , age from gc ; order by \u6392\u5e8f \u00b6 \u5347\u5e8f\u6216\u8005\u964d\u5e8f # \u67e5\u8be2\u7ed3\u679c\u6392\u5e8f(\u5347\u5e8f\u6216\u8005\u964d\u5e8f) order by columnName desc/asc select * from gc order by id asc ; # \u5c06\u67e5\u8be2\u7684\u7ed3\u679c\u6309\u7167ID\u5347\u5e8f\u7684\u60c5\u51b5\u8fdb\u884c\u6392\u5e8f select * from gc order by age asc , name desc ; limit \u9650\u5236 \u00b6 \u4f7f\u7528 limit \u622a\u53d6\u67e5\u8be2\u7ed3\u679c\uff08\u7c7b\u4f3c\u4e8esplice\u51fd\u6570\uff09limit \u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5f00\u59cb\u7684\u4f4d\u7f6e\uff08\u9ed8\u8ba4\u662f0\uff0c\u53ef\u4ee5\u4e0d\u9009\uff09\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u622a\u53d6\u7684\u6570\u91cf\u3002 select * from gc [ where name is not null ] [ order by id asc ] limit 5 ; select * from gc [ where name is not null ] [ order by id asc ] limit 3 , 5 ; # \u4e2d\u62ec\u53f7\u5185\u90e8\u662f\u53ef\u9009\u53c2\u6570\uff08order\u5fc5\u987b\u5728where\u540e\u9762\uff09 # \u7b2c\u4e00\u53e5\uff1a\u5728\u83b7\u53d6\u7684\u7ed3\u679c\u4e2d\uff0c\u622a\u53d6\u524d\u4e94\u6761\u8bb0\u5f55\uff08index = 0 \u5230 index = 4\uff09 # \u7b2c\u4e8c\u53e5\uff1alimit \u4eceindex=3 \u5f00\u59cb\u622a\u53d6\uff0c\u622a\u53d65\u6761\u8bb0\u5f55 \u7ec4\u5408\u4f7f\u7528 insert select \u00b6 \u53ef\u4ee5\u5728\u4e00\u4e2a\u8868\u4e2d\u67e5\u8be2\u6570\u636e\uff0cselect * from table\uff0c \u7136\u540e\u628a\u67e5\u8be2\u7684\u7ed3\u679c\u63d2\u5165\u5230\u53e6\u4e00\u4e2a\u8868\u4e2d\uff08\u6570\u636e\u8fc1\u79fb\u4f1a\u7528\u5230\uff09 insert into account values ( 10 ); insert into account select name , age from oldAccount ; update \u66f4\u65b0 \u00b6 update tableName set columnName = newValue where XXX \u5982\u679c\u4f7f\u7528where\u6dfb\u52a0\uff0c\u90a3\u4e48\u4fee\u6539\u6ee1\u8db3\u6761\u4ef6\u7684\u90e8\u5206\uff1b\u5426\u5219\u4fee\u6539\u6574\u5217\u7684\u6570\u636e\uff1b update account set name = 'Tom' , email = '123@qq.com' where id = 1 ; where \u9ad8\u7ea7\u7528\u6cd5 \u00b6 in \u5b57\u7b26\u4e32\u8303\u56f4\uff08\u79bb\u6563\u503c\uff09 select * from account where id in ( value1 , value2 ...); select * from account where id in ( select id from oldAccount where id < 10 ); \u4ece\u4e00\u4e2a\u96c6\u5408\u4e2d\u9009\u62e9\u53e6\u4e00\u4e2a\u96c6\u5408\uff08\u9009\u62e9\u7684\u53ef\u4ee5\u4f7f\u5b57\u7b26\u4e32\u8303\u56f4\uff0c\u662f\u6570\u503c\u8303\u56f4\u7684\u6269\u5927\uff09 between \u6570\u503c\u8303\u56f4\uff08\u8fde\u7eed\uff09 select * from account where id between 5 and 10 ; # \u8fd9\u91cc\u7684\u9009\u62e9\u662f[5, 10] select * from account where id not between 5 and 10 ; # Like \u5b57\u7b26\u4e32\u7684\u6a21\u7cca\u5339\u914d select * from account where name like '%ab%' ;","title":"\u963f\u91cc\u4e91MySQL\u5165\u95e8"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#mysql","text":"\u963f\u91cc\u4e91\u5927\u5b66 \u94fe\u63a5\u5730\u5740\uff1a https://edu.aliyun.com/course/153/lesson/list mysql \u6570\u636e\u5e93\u7684\u7b80\u5355\u4ecb\u7ecd\uff0c\u5b89\u88c5\u914d\u7f6eMYSQL\uff0c\u57fa\u672c\u7684SQL\u547d\u4ee4\u3002","title":"MySQL \u6570\u636e\u5e93\u5165\u95e8\u5b66\u4e60"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#01","text":"SQL\uff1a\u4e00\u79cd\u7f16\u7a0b\u8bed\u8a00\uff0cstrcutured query language \u7ed3\u6784\u5316\u7684\u67e5\u8be2\u8bed\u8a00\uff0c\u4e3b\u8981\u7528\u4e8e\u6570\u636e\u5e93\u4e2d\u7684\u589e\u5220\u6539\u67e5 select * from tb MySQL \u5173\u7cfb\u578b\u6570\u636e\u5e93\uff0c\u662f\u6570\u636e\u5e93\u7684\u4e00\u79cd\uff08\u5176\u4ed6\u7684Oracle\uff09\u3002MYSQL\u662f\u5f00\u6e90\u6570\u636e\u5e93\u3002","title":"01 \u7b80\u4ecb"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#02","text":"\u5b98\u7f51\uff1adev.mysql.com/downloads/mysql","title":"02 \u5b89\u88c5"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#windows","text":"\u5728\u5b98\u7f51\u4e0b\u8f7d\u5b89\u88c5\u5305\u540e\uff0c\u9009\u62e9\u9ed8\u8ba4\u7684developer\u5b89\u88c5\u65b9\u5f0f\u8fdb\u884c\u5b89\u88c5\uff1b \u5b89\u88c5\u8fc7\u7a0b\u4e2d\u5982\u679c\u68c0\u6d4b\u5230office\u4e2d\u7f3a\u5c11\u63d2\u4ef6\uff0c\u53ef\u4ee5\u4e0d\u7528\u5904\u7406\uff0c\u56e0\u4e3a\u4e3b\u8981\u5728CLI\u6a21\u5f0f\u4e0b\u4f7f\u7528MYSQL \u5b89\u88c5\u4e2d\u9700\u8981\u8bbe\u7f6eroot\u7528\u6237\u7684\u5bc6\u7801\uff0c\u5176\u4ed6\u7c7b\u578b\u7684\u7528\u6237\uff08\u4e0d\u6dfb\u52a0\u5176\u4ed6\u7528\u6237\uff09 \u6309\u7167\u5b89\u88c5\u5305\u7684\u6d41\u7a0b\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u5728\u4efb\u52a1\u7ba1\u7406\u5668\u4e0b\u9762\u770b\u5230\u670d\u52a1\u6b63\u5728\u8fd0\u884c\uff0c\u9700\u8981\u5728cmd\u4e0b\u9762\u786e\u8ba4\u5b89\u88c5. mysql -u root -p # -u \u8868\u793a\u7528\u6237 -p \u8868\u793a\u9700\u8981\u5bc6\u7801","title":"windows \u5b89\u88c5"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#linux","text":"sudo yum install mysql mysql-server sudo apt-get install mysql mysql-server ( ubuntu ) mysqladmin -u root -p password 'root' # \u8bbe\u7f6e\u65b0\u5bc6\u7801\u662froot","title":"linux \u5b89\u88c5"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#mac","text":"\u5b89\u88c5\u5305\u7684\u683c\u5f0f\u662f dmg \u5b89\u88c5\u5b8c\u6bd5\u540e\u9700\u8981\u8bbe\u7f6eroot\u5bc6\u7801 /usr/local/mysql/bin/mysqladmin -u root -p password root # \u5b89\u88c5\u6d4b\u8bd5\u6210\u529f\uff0c\u5bc6\u7801\u548c\u5f00\u673a\u5bc6\u7801\u4e00\u81f4 /usr/local/mysql/bin/mysql -u root -p # \u6253\u5f00mysql\u7684\u5bc6\u7801\u662f root \u5f00\u542f\u6216\u8005\u5173\u95ed\u670d\u52a1\u6709\u4e24\u79cd\u65b9\u6cd5 CLI sudo /Library/StartupItems/MySQLCOM/MYSQLCOM start | stop | restart GUI \u7cfb\u7edf\u914d\u7f6e - MYSQL - stop |start \u6ce8\u610f \uff1a\u5b89\u88c5\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u9009\u62e9\u5f3a\u5bc6\u7801\u6216\u8005\u662f\u5f31\u5bc6\u7801\u3002\u73b0\u5728\u672c\u5730\u6d4b\u8bd5\u4f7f\u7528\u5f31\u5bc6\u7801\u3002\u5bc6\u7801\u6700\u5c11\u662f8\u4f4d\uff0c\u8fd9\u91cc\u8bbe\u7f6e12345678 \u4f5c\u4e3aroot\u7684\u5bc6\u7801\u3002 \u73b0\u5728\u5bc6\u7801\u662f root \u6ce8\u610f2 \uff1a \u5982\u679cmysql\u5df2\u7ecf\u8fd0\u884c\uff0c\u4f46\u662f\u8f93\u5165 mysql \u663e\u793a\u547d\u4ee4\u4e0d\u5b58\u5728\uff1a\u9047\u4e0a-bash: mysql: command not found\u7684\u60c5\u51b5\u522b\u7740\u6025 \u8fd9\u4e2a\u662f\u56e0\u4e3a/usr/local/bin\u76ee\u5f55\u4e0b\u7f3a\u5931mysql\u5bfc\u81f4\uff0c\u53ea\u9700\u8981\u4e00\u4e0b\u65b9\u6cd5\u5efa\u7acb\u8f6f\u94fe\u63a5\uff0c\u5373\u53ef\u4ee5\u89e3\u51b3\uff1a \u628amysql\u5b89\u88c5\u76ee\u5f55\uff0c\u6bd4\u5982MYSQLPATH/bin/mysql\uff0c\u6620\u5c04\u5230/usr/local/bin\u76ee\u5f55\u4e0b\uff1a # cd /usr/local/bin # ln -fs /MYSQLPATH/bin/mysql mysql \u8fd8\u6709\u5176\u5b83\u5e38\u7528\u547d\u4ee4mysqladmin\u3001mysqldump\u7b49\u4e0d\u53ef\u7528\u65f6\u5019\u90fd\u53ef\u6309\u7528\u6b64\u65b9\u6cd5\u89e3\u51b3\u3002 \u6ce8\uff1a\u5176\u4e2dMYSQLPATH\u662fmysql\u7684\u5b9e\u9645\u5b89\u88c5\u8def\u5f84\uff08MAC \u9ed8\u8ba4\u8def\u5f84 /usr/local/mysql/bin/mysql\uff09 \u539f\u6587\u94fe\u63a5\uff1a https://www.cnblogs.com/yang1314/p/9288767.html","title":"Mac \u5b89\u88c5"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#03","text":"MYSQL \u7684\u914d\u7f6e\u6587\u4ef6\u662f\u4e00\u4e2a\u6587\u672c\u6587\u4ef6 my.cof Mac \u7684\u6587\u4ef6\u8def\u5f84\u662f /usr/local/mysql/my.cof \u9ed8\u8ba4\u7684\u914d\u7f6e\u6587\u4ef6\u662f\u7a7a\u7684 \u53ef\u4ee5\u914d\u7f6e\u5b57\u7b26\u96c6\uff0c\u7f13\u5b58\u5927\u5c0f\u7b49 [client] default-character-set=utf8 # \u6dfb\u52a0\u5b57\u7b26\u96c6\uff0c\u907f\u514d\u4e71\u7801 [mysqld] character-set-server=utf8 default-storage-engine=INNODB # \u9ed8\u8ba4\u5b58\u50a8\u5f15\u64ce INNODB \u4fee\u6539\u914d\u7f6e\u540e\uff0c\u9700\u8981\u91cd\u542f mysql (\u6216\u8005\u5728\u8bbe\u7f6e\u4e2d\u91cd\u542f) sudo /Library/StartupItems/MySQLCOM/MYSQLCOM restart \u81ea\u5df1\u914d\u7f6e\u7684\u95ee\u9898\uff1a\u4f7f\u7528vim\u7f16\u8f91\u5668\u4fdd\u5b58\u7684\u65f6\u5019\uff0c\u4e0d\u80fd\u4fdd\u5b58\u914d\u7f6e\uff1b\u4f7f\u7528sudo\u4e5f\u4e0d\u884c \"/usr/local/mysql-8.0.18-macos10.14-x86_64/my.cof\" E212: Can't open file for writing Warning: Changing a readonly file","title":"03 \u914d\u7f6e"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#04","text":"show databases ; create database gc ; drop database gc ; \u4e0d\u540c\u6570\u636e\u5e93\u7684\u6570\u636e\u662f\u4e0d\u4f1a\u5e72\u6270\u7684\u3002\u6570\u636e\u5e93\u662f\u6570\u636e\u5e93\u8f6f\u4ef6\u4e2d\u57fa\u672c\u7684\u5355\u4f4d","title":"04 \u6570\u636e\u5e93\u64cd\u4f5c"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#05","text":"database \u5305\u62ec tables \u8868\u4e2d\u6bcf\u4e00\u884c\u5c31\u662f\u4e00\u6761\u6570\u636e\uff1b\u5217\u5c31\u662f\u4e0d\u540c\u7684\u5b57\u6bb5\uff0c\u4e0d\u540c\u7684\u5b57\u6bb5\u5bf9\u5e94\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\u548c\u6570\u636e\u7ed3\u6784\uff08\u4f8b\u5982ID\u662f\u81ea\u589e\u957f\u7684\u6574\u5f62\uff0cName\u662f\u957f\u5b57\u7b26\u4e32\uff09\uff0c\u662f\u5426\u6709\u9ed8\u8ba4\u503c\u7b49\u3002\u4e0b\u9762\u662f\u5e38\u89c1\u7684\u6570\u636e\u7c7b\u578b\u3002\u6839\u636e\u5b9e\u9645\u4e1a\u52a1\u903b\u8f91\u4f7f\u7528\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\u3002","title":"05 \u6570\u636e\u7c7b\u578b"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#_1","text":"VARCHAR(size) \u957f\u5ea6\u5c0f\u4e8e255\u7684\u53ef\u53d8\u957f\u5ea6\u5b57\u7b26\u4e32\uff1avarchar \u957f\u5ea6\u5c0f\u4e8e65535\u5b57\u7b26\uff08\u901a\u5e38\u6587\u672c\u8db3\u591f\u4f7f\u7528\uff09\uff0c\u957f\u5ea6\u53ef\u4ee5\u6539\u53d8\uff08mqsql 5.0.3 \u4e4b\u524d\u8868\u793a65535\u5b57\u8282\uff09\uff0c\u67e5\u8be2\u901f\u5ea6\u4e2d\u7b49 TEXT \u957f\u5ea6\u4e2d\u7b49\u7684\u5b57\u7b26\u4e32\uff0ctext \u5b57\u7b26\u4e32\u957f\u5ea6\u4e0d\u53d7\u9650\u5236\uff0c\u67e5\u8be2\u901f\u5ea6\u6700\u6162\uff0c\u901a\u5e38\u4f18\u5148\u4f7f\u7528varchar LONGTEXT \u957f\u5ea6\u5f88\u957f\u7684\u5b57\u7b26\u4e32 CHAR\uff1achar \u8868\u793a\u4f20\u7edf\u7684\u5b57\u7b26\u4e32\uff0c\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u5c0f\u4e8e255\u5b57\u7b26\uff0c\u957f\u5ea6\u56fa\u5b9a\uff0c\u9002\u7528\u4e8e\u8f83\u77ed\u56fa\u5b9a\u957f\u5ea6\u7684\u6570\u636e\uff08\u8eab\u4efd\u8bc1\u53f7\u548c\u7535\u8bdd\u53f7\uff09\uff0c\u67e5\u8be2\u8868\u901f\u5ea6\u6700\u5feb Foreign key \u5916\u952e primary key \u4e3b\u952e \u5728mysql\u4e2d\uff0c\u5982\u679c\u628a\u8868\u7684\u4e3b\u952e\u8bbe\u4e3aauto_increment\u7c7b\u578b\uff0c\u6570\u636e\u5e93\u5c31\u4f1a\u81ea\u52a8\u4e3a\u4e3b\u952e\u8d4b\u503c\u3002","title":"\u6587\u672c\u7c7b"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#_2","text":"DATETIME \u5e74\u6708\u65e5\u65f6\u5206\u79d2","title":"\u65e5\u671f\u7c7b"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#_3","text":"TINYINT -128~127 \u6216\u8005\u5b58\u50a8\u5e03\u5c14\u503c INT \u5c0f\u6570\u5b57 BIGINT \u5927\u6570\u5b57\uff08ID\uff0c\u81ea\u589e\u957f\uff09 DOUBLE \u6d6e\u70b9\u578b\uff08\u4e0d\u4f7f\u7528FLOAT\uff09","title":"\u6570\u503c\u7c7b"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#06-table","text":"CREATE TABLE account ( id bigint ( 20 ), createTime datetime , ip varchar ( 255 ), mobile varchar ( 255 ), name varchar ( 255 ), brief text , comments text , location varchar ( 255 ), qq varchar ( 255 ), gender int ( 11 ), city varchar ( 255 ), province varchar ( 255 ) ); drop table account ; describe account ; # \u67e5\u770b\u5f53\u524d\u7684\u8868\u7684\u5185\u90e8\u7ed3\u6784 create database Michael ; use Michael ; show tables ; CREATE TABLE gc (...); describe gc ; drop table gc ; \u8868\u91cd\u547d\u540d alter table \u8868\u540d rename \u65b0\u8868\u540d","title":"06 \u6570\u636e\u8868\u64cd\u4f5c\uff08table\uff09"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#07","text":"\u589e\u52a0\u5220\u9664\u8868\u7684\u5217 alter table \u8868\u540d add \u65b0\u5217\u540d \u5217\u6570\u636e\u7c7b\u578b not null default 1 ; # \u540e\u9762\u7684 not null default 1 \u662f\u53ef\u9009\u53c2\u6570 alter table \u8868\u540d drop \u5df2\u6709\u5217\u540d ; \u4fee\u6539\u5217\u540d\u6216\u8005\u6570\u636e\u7c7b\u578b: \u53ef\u4ee5\u5355\u72ec\u4fee\u6539\u5217\u540d\u540e\u8005\u6570\u636e\u7c7b\u578b\uff0c\u53ef\u4ee5\u4e00\u8d77\u4fee\u6539\u5217\u540d\u548c\u6570\u636e\u7c7b\u578b alter table \u8868\u540d change \u65e7\u5217\u540d \u65b0\u5217\u540d \u65b0\u7684\u6570\u636e\u7c7b\u578b","title":"07 \u5217\u64cd\u4f5c"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#08","text":"","title":"08 \u8868\u6570\u636e\u64cd\u4f5c"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#insert","text":"\u589e\u52a0\uff08\u63d2\u5165\uff09\u8868\u6570\u636e insert into \u8868\u540d values ( key1 , key2 , key3 ...) insert into tableName ( column1 , column2 ) values ( key1 , key2 )","title":"insert \u63d2\u5165"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#select","text":"\u67e5\u8be2\u8868\u6570\u636e select * from \u8868\u540d select \u5217\u540d1 , \u5217\u540d2 from \u8868\u540d","title":"select \u67e5\u8be2"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#where","text":"select * from tableName where title = 't' ; # \u67e5\u8be2\u6761\u4ef6\u53ef\u4ee5\u662f\u5927\u4e8e\u5c0f\u4e8e\u7b49\u4e8e\u4e0d\u7b49\u4e8e\uff0c\u6216\u8005between\u8303\u56f4 # \u53ef\u4ee5\u901a\u8fc7 and or \u8fdb\u884c\u591a\u5143\u9009\u62e9\uff0c\u62ec\u53f7\u589e\u52a0\u4f18\u5148\u7ea7 # \u6ce8\u610f\uff1a\u5224\u65ad\u76f8\u7b49\u662f = \u4e0d\u662f\u4e24\u4e2a\u7b49\u53f7 select * from gc where name = 'Michael' and ( id = 20 or id = 22 ); \u5224\u65ad null \u662f\u7279\u6b8a\u7684\uff0c\u9700\u8981\u901a\u8fc7 is is not \u5224\u65ad\uff0c\u4e0d\u80fd\u901a\u8fc7 = != \u5224\u65ad select * from gc where email is null and name is not null ;","title":"where \u7b5b\u9009"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#distinct","text":"\u5982\u679c\u7b5b\u9009\u8fc7\u7a0b\u4e2d\u6709\u91cd\u590d\u7684\u6570\u636e\uff0c\u90a3\u4e48\u53ef\u4ee5\u52a0\u4e0a\u5173\u952e\u5b57 distinct \u53bb\u9664\u91cd\u590d\u7684\u884c\u3002\u4e0b\u9762\u7684\u67e5\u8be2\u7ed3\u679c\u4e2d\uff0c\u5982\u679cname\u548cage\u76f8\u540c\u7684\u6570\u636e\u6709\u591a\u884c\uff0c\u90a3\u4e48\u7ed3\u679c\u4e2d\u53ea\u663e\u793a\u4e00\u884c select distinct name , age from gc ;","title":"distinct \u53bb\u91cd"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#order-by","text":"\u5347\u5e8f\u6216\u8005\u964d\u5e8f # \u67e5\u8be2\u7ed3\u679c\u6392\u5e8f(\u5347\u5e8f\u6216\u8005\u964d\u5e8f) order by columnName desc/asc select * from gc order by id asc ; # \u5c06\u67e5\u8be2\u7684\u7ed3\u679c\u6309\u7167ID\u5347\u5e8f\u7684\u60c5\u51b5\u8fdb\u884c\u6392\u5e8f select * from gc order by age asc , name desc ;","title":"order by \u6392\u5e8f"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#limit","text":"\u4f7f\u7528 limit \u622a\u53d6\u67e5\u8be2\u7ed3\u679c\uff08\u7c7b\u4f3c\u4e8esplice\u51fd\u6570\uff09limit \u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5f00\u59cb\u7684\u4f4d\u7f6e\uff08\u9ed8\u8ba4\u662f0\uff0c\u53ef\u4ee5\u4e0d\u9009\uff09\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u622a\u53d6\u7684\u6570\u91cf\u3002 select * from gc [ where name is not null ] [ order by id asc ] limit 5 ; select * from gc [ where name is not null ] [ order by id asc ] limit 3 , 5 ; # \u4e2d\u62ec\u53f7\u5185\u90e8\u662f\u53ef\u9009\u53c2\u6570\uff08order\u5fc5\u987b\u5728where\u540e\u9762\uff09 # \u7b2c\u4e00\u53e5\uff1a\u5728\u83b7\u53d6\u7684\u7ed3\u679c\u4e2d\uff0c\u622a\u53d6\u524d\u4e94\u6761\u8bb0\u5f55\uff08index = 0 \u5230 index = 4\uff09 # \u7b2c\u4e8c\u53e5\uff1alimit \u4eceindex=3 \u5f00\u59cb\u622a\u53d6\uff0c\u622a\u53d65\u6761\u8bb0\u5f55","title":"limit \u9650\u5236"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#insert-select","text":"\u53ef\u4ee5\u5728\u4e00\u4e2a\u8868\u4e2d\u67e5\u8be2\u6570\u636e\uff0cselect * from table\uff0c \u7136\u540e\u628a\u67e5\u8be2\u7684\u7ed3\u679c\u63d2\u5165\u5230\u53e6\u4e00\u4e2a\u8868\u4e2d\uff08\u6570\u636e\u8fc1\u79fb\u4f1a\u7528\u5230\uff09 insert into account values ( 10 ); insert into account select name , age from oldAccount ;","title":"\u7ec4\u5408\u4f7f\u7528 insert select"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#update","text":"update tableName set columnName = newValue where XXX \u5982\u679c\u4f7f\u7528where\u6dfb\u52a0\uff0c\u90a3\u4e48\u4fee\u6539\u6ee1\u8db3\u6761\u4ef6\u7684\u90e8\u5206\uff1b\u5426\u5219\u4fee\u6539\u6574\u5217\u7684\u6570\u636e\uff1b update account set name = 'Tom' , email = '123@qq.com' where id = 1 ;","title":"update \u66f4\u65b0"},{"location":"SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#where_1","text":"in \u5b57\u7b26\u4e32\u8303\u56f4\uff08\u79bb\u6563\u503c\uff09 select * from account where id in ( value1 , value2 ...); select * from account where id in ( select id from oldAccount where id < 10 ); \u4ece\u4e00\u4e2a\u96c6\u5408\u4e2d\u9009\u62e9\u53e6\u4e00\u4e2a\u96c6\u5408\uff08\u9009\u62e9\u7684\u53ef\u4ee5\u4f7f\u5b57\u7b26\u4e32\u8303\u56f4\uff0c\u662f\u6570\u503c\u8303\u56f4\u7684\u6269\u5927\uff09 between \u6570\u503c\u8303\u56f4\uff08\u8fde\u7eed\uff09 select * from account where id between 5 and 10 ; # \u8fd9\u91cc\u7684\u9009\u62e9\u662f[5, 10] select * from account where id not between 5 and 10 ; # Like \u5b57\u7b26\u4e32\u7684\u6a21\u7cca\u5339\u914d select * from account where name like '%ab%' ;","title":"where \u9ad8\u7ea7\u7528\u6cd5"},{"location":"about/","text":"\u5199\u5728\u524d\u9762 \u00b6 \u8fd9\u91cc\u662f\u603b\u7ed3\u7684 web\u5f00\u53d1 \u76f8\u5173\u5f52\u6863\u5b66\u4e60\u8d44\u6599\uff0c\u540c\u65f6\u4e5f\u662f\u81ea\u5df1\u5e73\u65f6\u5de5\u4f5c\u4e2d\u7684\u603b\u7ed3\u3002 \u6b22\u8fce\u5927\u5bb6\u63d0\u4ea4 PR \u6216\u8005 issue\u3002\u559c\u6b22\u7684\u670b\u53cb\u53ef\u4ee5 star \uff0c\u4f60\u4eec\u7684\u70b9\u8d5e\u662f\u6211\u6301\u7eed\u66f4\u65b0\u7684\u52a8\u529b\uff0c\u54c8\u54c8\uff01 \u7f51\u7ad9\u6539\u7248\u8bd5\u8fd0\u884c\u4e2d\uff08\u6240\u4ee5\u6709\u4e0d\u5c11 todos\uff0c\u9700\u8981\u540e\u9762\u4e0d\u65ad\u5b8c\u5584\uff09 \u4ee3\u7801\u7ed3\u6784 \u00b6 algorithm \u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5 backup \u57fa\u7840\u8d44\u6599[\u5907\u4efd] books \u4e66\u7c4d\u548c\u5728\u7ebf\u8bfe\u7a0b\u7b14\u8bb0 learn \u524d\u7aef\u77e5\u8bc6\u5b66\u4e60 lib \u5e38\u7528\u7b2c\u4e09\u653e\u5e93\u4ecb\u7ecd react \u6846\u67b6\u4ecb\u7ecd \u5173\u4e8e\u6211 \u00b6 2016\u5e74\u672c\u79d1\u6bd5\u4e1a\uff0c\u73b0\u5728\u662f Seafile Ltd \u7684\u524d\u7aef\u5f00\u53d1\u5de5\u7a0b\u5e08\uff0cemail: 1822852997@qq.com . \u672c\u4eba\u5076\u5c14\u4e5f\u4f1a\u5199\u5199\u535a\u5ba2\uff0c\u5982\u679c\u6709\u559c\u6b22\u73a9\u535a\u5ba2\u7684\u670b\u53cb\u4e5f\u53ef\u4ee5\u4e00\u8d77\u5206\u4eab\u4ea4\u6d41\uff0c\u5206\u4eab\u4e5f\u662f\u4e00\u79cd\u5b66\u4e60\uff01 github CSDN stackoverflow \u5176\u4ed6\u9879\u76ee \u00b6 \u6211\u7684\u5176\u4ed6\u9879\u76ee\u8fd8\u5728 coding \u4e2d\uff0c\u57fa\u672c\u6210\u578b\u540e\u6211\u4f1a\u9010\u6b65\u5f00\u6e90\u3002 \u5c0f\u6e38\u620f\u5f00\u53d1 JS\u77e5\u8bc6\u70b9 Leetcode webpack\u524d\u7aef\u5de5\u7a0b\u5316 Java Python \u9762\u8bd5 Typescript VUE Go \u535a\u5ba2 \u00b6 For full documentation visit mkdocs.org . Commands \u00b6 mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs help - Print this help message. Project layout \u00b6 mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"\u5173\u4e8e\u6211"},{"location":"about/#_1","text":"\u8fd9\u91cc\u662f\u603b\u7ed3\u7684 web\u5f00\u53d1 \u76f8\u5173\u5f52\u6863\u5b66\u4e60\u8d44\u6599\uff0c\u540c\u65f6\u4e5f\u662f\u81ea\u5df1\u5e73\u65f6\u5de5\u4f5c\u4e2d\u7684\u603b\u7ed3\u3002 \u6b22\u8fce\u5927\u5bb6\u63d0\u4ea4 PR \u6216\u8005 issue\u3002\u559c\u6b22\u7684\u670b\u53cb\u53ef\u4ee5 star \uff0c\u4f60\u4eec\u7684\u70b9\u8d5e\u662f\u6211\u6301\u7eed\u66f4\u65b0\u7684\u52a8\u529b\uff0c\u54c8\u54c8\uff01 \u7f51\u7ad9\u6539\u7248\u8bd5\u8fd0\u884c\u4e2d\uff08\u6240\u4ee5\u6709\u4e0d\u5c11 todos\uff0c\u9700\u8981\u540e\u9762\u4e0d\u65ad\u5b8c\u5584\uff09","title":"\u5199\u5728\u524d\u9762"},{"location":"about/#_2","text":"algorithm \u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5 backup \u57fa\u7840\u8d44\u6599[\u5907\u4efd] books \u4e66\u7c4d\u548c\u5728\u7ebf\u8bfe\u7a0b\u7b14\u8bb0 learn \u524d\u7aef\u77e5\u8bc6\u5b66\u4e60 lib \u5e38\u7528\u7b2c\u4e09\u653e\u5e93\u4ecb\u7ecd react \u6846\u67b6\u4ecb\u7ecd","title":"\u4ee3\u7801\u7ed3\u6784"},{"location":"about/#_3","text":"2016\u5e74\u672c\u79d1\u6bd5\u4e1a\uff0c\u73b0\u5728\u662f Seafile Ltd \u7684\u524d\u7aef\u5f00\u53d1\u5de5\u7a0b\u5e08\uff0cemail: 1822852997@qq.com . \u672c\u4eba\u5076\u5c14\u4e5f\u4f1a\u5199\u5199\u535a\u5ba2\uff0c\u5982\u679c\u6709\u559c\u6b22\u73a9\u535a\u5ba2\u7684\u670b\u53cb\u4e5f\u53ef\u4ee5\u4e00\u8d77\u5206\u4eab\u4ea4\u6d41\uff0c\u5206\u4eab\u4e5f\u662f\u4e00\u79cd\u5b66\u4e60\uff01 github CSDN stackoverflow","title":"\u5173\u4e8e\u6211"},{"location":"about/#_4","text":"\u6211\u7684\u5176\u4ed6\u9879\u76ee\u8fd8\u5728 coding \u4e2d\uff0c\u57fa\u672c\u6210\u578b\u540e\u6211\u4f1a\u9010\u6b65\u5f00\u6e90\u3002 \u5c0f\u6e38\u620f\u5f00\u53d1 JS\u77e5\u8bc6\u70b9 Leetcode webpack\u524d\u7aef\u5de5\u7a0b\u5316 Java Python \u9762\u8bd5 Typescript VUE Go","title":"\u5176\u4ed6\u9879\u76ee"},{"location":"about/#_5","text":"For full documentation visit mkdocs.org .","title":"\u535a\u5ba2"},{"location":"about/#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs help - Print this help message.","title":"Commands"},{"location":"about/#project-layout","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Project layout"},{"location":"algre/00-%E7%BB%83%E4%B9%A0%E4%B9%8B%E5%89%8D%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84/","text":"\u7ec3\u4e60\u4e4b\u524d\uff0c\u4f60\u9700\u8981\u4e86\u89e3\u7684 \u00b6 \u8d44\u6599\u94fe\u63a5\uff1a http://47.98.159.95/leetcode-js/ \u6587\u6863\u8fd8\u5728\u66f4\u65b0\u4e2d\uff1b\u4f18\u5148\u770b\u4e66\uff1b\u8fd9\u4e2a\u4f5c\u8005\u6c34\u5e73\u4e00\u822c \u9002\u7528\u4eba\u7fa4 \u00b6 \u5982\u679c\u4f60\u6b63\u5728\u4e3a\u9762\u8bd5\u505a\u51c6\u5907\uff0c\u5374\u5bf9\u4e8e\u5e9e\u6742\u7684\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u77e5\u8bc6\uff0c\u4e0d\u77e5\u9053\u4f55\u4ece\u4e0b\u624b\uff1b \u5982\u679c\u4f60\u4ee5\u524d\u66fe\u7ecf\u5b66\u8fc7\u4e00\u4e9b\u57fa\u7840\u7684\u6570\u636e\u7ed3\u6784\u6216\u8005\u7b97\u6cd5\u7684\u57fa\u7840\u77e5\u8bc6\uff0c\u5374\u6839\u672c\u6ca1\u6709\u7406\u89e3\u6e05\u695a\uff0c\u66f4\u4e0d\u80fd\u72ec\u7acb\u5b8c\u6210\u7b97\u6cd5\u7684\u8bbe\u8ba1, \u60f3\u91cd\u65b0\u5de9\u56fa\u8fd9\u65b9\u9762\u7684\u77e5\u8bc6\uff1b \u5982\u679c\u5df2\u7ecf\u6709\u4e86\u4e00\u5c0f\u6bb5\u5de5\u4f5c\u7ecf\u9a8c\uff0c\u4f46\u5374\u8001\u662f\u5728\u6574\u5929\u7528\u8f6e\u5b50\u3001\u8c03API\u5f53\u4e2d\u5ea6\u8fc7\uff0c\u60f3\u770b\u4e00\u770b\u5e95\u5c42\u7684\u6e90\u7801\u5374\u5e38\u5e38\u56e0\u7f16\u7a0b\u7684\u5185\u529b\u4e0d\u8db3\u800c\u653e\u5f03\uff1b \u5982\u679c\u4f60\u542c\u8bf4\u8fc7LeetCode\u8fd9\u4e2a\u7f51\u7ad9\uff0c\u60f3\u8981\u4e00\u5237\u5230\u5e95\uff0c\u8fc8\u5411\u7b97\u6cd5\u5dc5\u5cf0\uff0c\u5374\u56e0\u4e3a\u6d69\u701a\u7684\u9898\u91cf\u548c\u7f3a\u4e4f\u7cfb\u7edf\u8bad\u7ec3\u611f\u5230\u65e0\u529b\uff0c\u4e09\u5929\u6253\u9c7c\u4e24\u5929\u6652\u7f51\uff0c\u8fdb\u800c\u611f\u5230\u7126\u8651\uff0c\u751a\u81f3\u653e\u5f03...... \u5982\u679c\u4e0a\u9762\u4efb\u4f55\u4e00\u6761\u7b26\u5408\u4f60\u7684\u73b0\u72b6\uff0c\u90a3\u4e48\u606d\u559c\u4f60\uff0c\u4f60\u6765\u5bf9\u4e86\u5730\u65b9\u3002\u4f5c\u4e3a\u4e00\u4e2a\u5708\u5185\u5c0f\u6709\u540d\u6c14\u7684\u524d\u7aef\u535a\u4e3b\uff0c\u6211\u60f3\u501f\u7740\u6211\u7684\u5f71\u54cd\u529b\uff0c\u5206\u4eab\u51fa\u6211\u7cfb\u7edf\u68b3\u7406\u548c\u7ec3\u4e60\u7684\u8fc7\u7a0b\uff0c\u5e0c\u671b\u80fd\u591f\u5e2e\u52a9\u5230\u66f4\u591a\u8ddf\u6211\u4e00\u6837\u9047\u5230\u7c7b\u4f3c\u56f0\u96be\u7684\u4eba\uff0c\u8ba9\u4f60\u5c11\u4e00\u4e9b\u4e0d\u5fc5\u8981\u7684\u6298\u817e\u3002 \u5168\u7a0b\u4f7f\u7528\u7684\u8bed\u8a00\u662f JavaScript\uff0c\u56e0\u6b64\u6807\u9898\u4e0a\u8bf4\u7684\u662f\u524d\u7aefxxx, \u4f46\u5b9e\u9645\u4e0a\u4f60\u4e5f\u77e5\u9053\uff0c\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u8fd9\u4e1c\u897f\u4e3b\u8981\u662f\u8003\u9a8c\u4e00\u4e2a\u4eba\u7684\u601d\u7ef4\uff0c\u81f3\u4e8e\u8bed\u8a00\uff0c\u5176\u4e2d\u5e76\u6ca1\u6709\u7528\u5230\u4efb\u4f55 JS \u7684\u9ad8\u6df1\u8bed\u6cd5\u7279\u6027\uff0c\u53ea\u8981\u6709\u6240\u7f16\u7a0b\u7ecf\u9a8c\uff0c\u80fd\u7406\u89e3\u4ee3\u7801\u662f\u5b8c\u5168\u6ca1\u6709\u95ee\u9898\u7684\uff0c\u8fd9\u4e00\u70b9\u5927\u5bb6\u653e\u5fc3\u3002 \u7b97\u6cd5\u6ca1\u6709\u7528\uff1f \u00b6 \u6211\u60f3\u5404\u4f4d\u5f53\u4e2d\u80af\u5b9a\u6709\u51c6\u5907\u9762\u8bd5\u7684\u540c\u5b66\uff0c\u90a3\u4e48\u4f60\u80af\u5b9a\u542c\u8bf4\u8fc7\u9762\u8bd5\u9020\u706b\u7bad\uff0c\u5de5\u4f5c\u62e7\u87ba\u4e1d, \u4e0d\u5c11\u4eba\u4e5f\u62ff\u8fd9\u53e5\u8bdd\u62ff\u6765\u8bdf\u75c5\u5f53\u524d\u4e00\u4e9b\u4e92\u8054\u7f51\u5927\u5382\u7684\u7b97\u6cd5\u9762\u8bd5\uff0c\u56e0\u6b64\u5c31\u6709\u8fd9\u6837\u7684\u8a00\u8bba: \u9664\u4e86\u5e94\u4ed8\u9762\u8bd5\uff0c\u5b66\u7b97\u6cd5\u5176\u5b9e\u6ca1\u5565\u7528\u3002 \u8fd9\u53e5\u8bdd\u6211\u5e76\u4e0d\u5b8c\u5168\u53cd\u5bf9\uff0c\u56e0\u4e3a\u73b0\u5728\u968f\u7740\u6280\u672f\u751f\u6001\u7684\u53d1\u5c55\uff0c\u5404\u4f4d\u8d70\u5728\u9886\u57df\u524d\u6cbf\u7684\u5927\u725b\u4eec\u5df2\u7ecf\u7ed9\u5927\u5bb6\u5907\u8db3\u4e86\u8f6e\u5b50\uff0c\u9047\u5230\u4e00\u822c\u7684\u4e1a\u52a1\u95ee\u9898\u76f4\u63a5\u628a\u4eba\u5bb6\u7684\u65b9\u6848\u62ff\u5230\u7528\u5c31\u53ef\u4ee5\u4e86\uff0c\u53e6\u5916\u6211\u4e5f\u770b\u5230\u8fc7\u4e00\u53e5\u8bdd\uff0c\u521a\u5f00\u59cb\u89c9\u5f97\u626f\u6de1\uff0c\u540e\u6765\u60f3\u60f3\u89c9\u5f97\u6709\u90a3\u4e48\u4e00\u4e1d\u9053\u7406: \u51e1\u662f\u9700\u8981\u8de8\u8fc7\u4e00\u5b9a\u667a\u5546\u95e8\u69db\u624d\u80fd\u638c\u63e1\u7684\u6280\u672f\uff0c\u90fd\u4e0d\u4f1a\u8f7b\u6613\u7684\u6d41\u884c\u3002 \u6362\u53e5\u8bdd\u8bf4\uff1a\u6280\u672f\u53d8\u5f97\u66f4\u7b80\u5355\uff0c\u522b\u4eba\u66f4\u613f\u610f\u7528\uff0c\u66f4\u5bb9\u6613\u6d41\u884c\u3002 \u8fd9\u4e5f\u662f\u5f53\u524d\u5404\u79cd\u6280\u672f\u6846\u67b6\u7684\u771f\u5b9e\u5199\u7167: \u8db3\u591f\u597d\u7528\uff0c\u8db3\u591f\u7b80\u5355\uff0c\u7b80\u5355\u5230\u4f60\u4e0d\u9700\u8981\u77e5\u9053\u5e95\u5c42\u590d\u6742\u7684\u7ec6\u8282\u3002 \u90a3\u4e48\u95ee\u9898\u6765\u4e86\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u96c6\u667a\u6167\u548c\u624d\u534e\u4e8e\u4e00\u8eab\u7684\u7a0b\u5e8f\u5458\uff0c\u81ea\u5df1\u7684\u4ef7\u503c\u5728\u54ea\u91cc\uff1f \u6211\u89c9\u5f97\u4ef7\u503c\u7684\u5927\u5c0f\u53d6\u51b3\u4e8e\u4f60\u80fd\u591f\u89e3\u51b3\u7684\u95ee\u9898\uff0c\u5982\u679c\u8bf4\u7167\u7740\u8bbe\u8ba1\u7a3f\u753b\u51fa\u4e00\u4e2a\u7b80\u5355\u7684 Button\uff0c\u4f60\u80fd\u5b8c\u6210\uff0c\u522b\u7684\u524d\u7aef\u4e5f\u80fd\u5b8c\u6210\uff0c\u751a\u81f3\u540e\u540e\u7aef\u7684\u540c\u5b66\u90fd\u80fd\u628a\u6548\u679c\u5dee\u4e0d\u591a\u505a\u51fa\u6765\uff0c\u90a3\u8fd9\u4e2a\u65f6\u5019\u5c31\u8c08\u4f55\u4e2a\u4eba\u4ef7\u503c\uff1f\u53ea\u4e0d\u8fc7\u5728\u4e00\u4e2a\u968f\u65f6\u53ef\u66ff\u4ee3\u7684\u5c97\u4f4d\u4e0a\u5b8c\u6210\u4e86\u5927\u591a\u6570\u4eba\u80fd\u8f7b\u6613\u505a\u5230\u7684\u4e8b\u60c5\uff0c\u5f20\u4e09\u6765\u5b8c\u6210\uff0c\u6216\u8005\u674e\u56db\u6765\u5b8c\u6210\uff0c\u5176\u5b9e\u6ca1\u4ec0\u4e48\u533a\u522b\u3002 \u4f46\u662f\u73b0\u5728\u5982\u679c\u9762\u5bf9\u7684\u662f\u4e00\u4e2a\u590d\u6742\u7684\u5de5\u7a0b\u95ee\u9898\uff0c\u9700\u8981\u4f60\u6765\u5f00\u53d1\u4e00\u4e2a\u8f85\u52a9\u4e1a\u52a1\u7684\u811a\u624b\u67b6\u5de5\u5177\uff0c\u6539\u9020\u6846\u67b6\u6e90\u7801\u6765\u63d0\u9ad8\u9879\u76ee\u7684\u6269\u5c55\u6027\uff0c\u6216\u8005\u9762\u5bf9\u4e25\u91cd\u7684\u6027\u80fd\u95ee\u9898\u80fd\u9a6c\u4e0a\u5206\u6790\u51fa\u539f\u56e0\uff0c\u7136\u540e\u7ed9\u51fa\u89e3\u51b3\u7684\u601d\u8def\u5e76\u5728\u4e0d\u540c\u56e0\u7d20\u4e2d\u5e73\u8861\uff0c\u8fd9\u4e9b\u90fd\u4e0d\u662f\u4e00\u4e2a\u4e1a\u4f59\u7684\u73a9\u5bb6\u80fd\u591f\u5728\u77ed\u65f6\u95f4\u5185\u80dc\u4efb\u7684\uff0c\u8fd9\u5c31\u662f\u4f53\u73b0\u81ea\u5df1\u4ef7\u503c\u7684\u5730\u65b9\u3002 \u56de\u5230\u7b97\u6cd5\u672c\u8eab\uff0c\u5b83\u4ee3\u8868\u7684\u662f\u4f60\u89e3\u51b3\u66f4\u52a0\u590d\u6742\u95ee\u9898\u80fd\u529b\u7684\u4e00\u90e8\u5206\u3002 \u53ef\u80fd\u5e72\u8bb2\u4e0d\u5bb9\u6613\u7406\u89e3\uff0c\u6211\u4eec\u4ee5 Vue \u8fd9\u4e2a\u6846\u67b6\u4e3a\u4f8b\uff0c\u5982\u679c\u4f60\u4ee5\u524d\u6ca1\u6709\u63a5\u89e6\u8fc7\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u548c\u9012\u5f52\u7684\u6982\u5ff5\uff0c\u6ca1\u6709\u770b\u8fc7\u76f8\u5e94\u7684\u4ee3\u7801\uff0c\u90a3\u4e48\u865a\u62df DOM \u6574\u4e2apatch\u7684\u6e90\u7801\u4f60\u662f\u57fa\u672c\u4e0d\u53ef\u80fd\u770b\u61c2\u7684\uff1b\u5982\u679c\u4f60\u6ca1\u6709\u7cfb\u7edf\u638c\u63e1\u8fc7\u6808\u5148\u8fdb\u540e\u51fa\u8fd9\u79cd\u7279\u70b9\u7684\u5e94\u7528\uff0c\u4f60\u4e5f\u662f\u5f88\u96be\u7406\u89e3 Vue \u6a21\u677f\u7f16\u8bd1\u9636\u6bb5\u4e3a\u4ec0\u4e48\u8981\u7528\u6808\u6765\u68c0\u67e5\u6807\u7b7e\u662f\u5426\u6b63\u5e38\u95ed\u5408\uff1b\u540c\u6837\u7684\uff0c\u5982\u679c\u4f60\u6ca1\u6709\u56de\u6eaf\u8fd9\u79cd\u7b97\u6cd5\u7684\u4ee3\u7801\u7ecf\u9a8c\uff0c\u4f60\u4e5f\u662f\u5f88\u96be\u7406\u89e3 Vue \u6a21\u677f\u7f16\u8bd1\u7684\u4f18\u5316\u9636\u6bb5\uff0c\u5230\u5e95\u662f\u600e\u6837\u5728\u4ece\u7236\u5230\u5b50\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u7684\u8fc7\u7a0b\u4e2d\u68c0\u67e5\u5230\u975e\u9759\u6001\u7684\u5b50\u8282\u70b9\u540e\u7ed9\u7236\u8282\u70b9\u6253\u4e0a\u6807\u8bb0\uff1b\u5e76\u4e14\uff0c\u5982\u679c\u4f60\u4ee5\u524d\u4e0d\u77e5\u9053 LRU \u7f13\u5b58\u6dd8\u6c70\u7b97\u6cd5\u7a76\u7adf\u662f\u4e2a\u4ec0\u4e48\u4e1c\u897f\uff0c\u4f60\u770b\u5230keep-alive\u7ec4\u4ef6\u7684\u5b9e\u73b0\u8fd9\u91cc\u4f1a\u975e\u5e38\u7eb3\u95f7: if ( cache [ key ]) { vnode . componentInstance = cache [ key ]. componentInstance // make current key freshest remove ( keys , key ) keys . push ( key ) } \u7f13\u5b58\u547d\u4e2d\u4e86\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u8981\u7ef4\u62a4\u4e00\u4e2a keys \u6570\u7ec4\uff0c\u800c\u4e14\u628a\u8fd9\u4e2a key \u4ece\u6570\u7ec4\u4e2d\u5220\u4e86\uff0c\u53c8\u8981\u653e\u5230\u672b\u5c3e\uff0c\u5565\u64cd\u4f5c\u5462\uff1f \u5982\u679c\u4e4b\u524d\u6709\u76f8\u5e94\u7b97\u6cd5\u57fa\u7840\uff0c\u4f60\u53cd\u800c\u4f1a\u89c9\u5f97\u8fd9\u4e2a\u7406\u6240\u5f53\u7136\u7684\u4e8b\u60c5\u3002 \u770b\u5230\u4e86\u5427\uff1f\u4f60\u89c9\u5f97\u5c24\u5927\u80fd\u5199\u51fa\u4f18\u79c0\u7684\u201c\u660e\u661f\u201d\u9879\u76ee\uff0c\u4f1a\u6ca1\u6709\u4e00\u70b9\u624e\u5b9e\u7684\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u529f\u5e95\uff1f \u5f53\u7136\u4e0d\u4ec5\u4ec5\u662f\u524d\u7aef\u9886\u57df\uff0c\u6211\u60f3\u670d\u52a1\u7aef\u4e5f\u662f\u5dee\u4e0d\u591a\u7684\u60c5\u51b5\uff0c\u8fd9\u91cc\u5c31\u4e0d\u591a\u4e3e\u4f8b\u4e86\u3002 \u6240\u4ee5\u5404\u4f4d\uff0c\u6211\u8ba4\u4e3a\u57fa\u672c\u7684\u7b97\u6cd5\u80fd\u529b\u5bf9\u4e8e\u4e00\u4e2a\u60f3\u8981\u89e3\u51b3\u590d\u6742\u95ee\u9898\u7684\u5de5\u7a0b\u5e08\u800c\u8a00\uff0c\u4e0d\u662f\u4e00\u4e2a\u52a0\u5206\u9879\uff0c\u800c\u4e14\u662f\u5fc5\u5907\u9879\u3002\u7b97\u6cd5\u6709\u5927\u7528\u3002 \u5982\u4f55\u7cfb\u7edf\u7ec3\u4e60\uff1f \u00b6 \u63a5\u4e0b\u6765\u6211\u6765\u5206\u4eab\u4e00\u4e0b\u7ec3\u4e60\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u7684\u4e00\u4e9b\u5fc3\u5f97\uff0c\u6216\u8005\u65b9\u6cd5\uff0c\u5206\u4e24\u4e2a\u5173\u952e\u5b57\u6765\u8bf4: \u7cfb\u7edf\u548c\u7ec3\u4e60\u3002 \u4e13\u9898\u7a81\u7834 \u00b6 \u5982\u4f55\u505a\u5230\u7cfb\u7edf\u7684\u8bad\u7ec3\uff1f \u6211\u60f3\u6309\u7167LeetCode\u4e0a\u7684\u987a\u5e8f\u4e00\u9898\u4e00\u9898\u5237\u80af\u5b9a\u4e0d\u662f\u7cfb\u7edf\uff0c\u5927\u90e8\u5206\u60c5\u51b5\u662f\u76f8\u90bb\u7684\u51e0\u4e2a\u9898\u6beb\u65e0\u8054\u7cfb\uff0c\u8fd9\u4e00\u9898\u505a\u4e86\u4e2a\u94fe\u8868\u76f8\u5173\u7684\uff0c\u4e0b\u4e00\u9898\u53c8\u662f\u4e00\u4e2a\u54c8\u5e0c\u8868\uff0c\u518d\u4e0b\u4e00\u9898\u53c8\u4e86\u4e00\u4e2a\u4e8c\u5206\u641c\u7d22\u6811\uff0c\u601d\u7ef4\u4e0d\u65ad\u7684\u8df3\u8f6c\uff0c\u4e00\u65b9\u9762\u53ef\u80fd\u4f60\u7684\u57fa\u7840\u5f88\u8584\u5f31\uff0c\u5404\u4e2a\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u7406\u89e3\u7684\u5e76\u4e0d\u6df1\u523b\uff0c\u53cd\u590d\u8df3\u5230\u4f60\u4e0d\u719f\u6089\u7684\u5730\u65b9\uff0c\u4f1a\u632b\u8d25\u4f60\u7684\u4fe1\u5fc3\uff0c\u589e\u52a0\u7126\u8651\uff0c\u751a\u81f3\u76f4\u63a5\u529d\u9000\uff0c\u53e6\u4e00\u65b9\u9762\uff0c\u53ef\u80fd\u518d\u9047\u5230\u96be\u4e00\u70b9\u7684\u94fe\u8868\u9898\uff0c\u4f60\u53c8\u4e0d\u4f1a\u4e86\uff0c\u53ef\u80fd\u4f60\u4f1a\u7eb3\u95f7: \u4e0d\u662f\u521a\u521a\u624d\u5199\u51fa\u6765\u4e86\u4e00\u4e2a\u94fe\u8868\u9898\u5417\uff1f\u600e\u4e48\u73b0\u5728\u53c8\u4e0d\u4f1a\u4e86\uff1f\u5bb9\u6613\u8ba9\u4f60\u4ea7\u751f\u81ea\u6211\u6000\u7591\uff0c\u4e5f\u4f1a\u5f71\u54cd\u4f60\u8bad\u7ec3\u7684\u81ea\u9a71\u529b\u3002 \u56e0\u6b64\u6211\u89c9\u5f97\u5206\u4e13\u9898\u5404\u4e2a\u8bad\u7ec3\u7a81\u7834\u662f\u4e00\u4e2a\u76f8\u5bf9\u5408\u7406\u7684\u6218\u7565\u3002\u5728\u505a\u5230\u4e13\u548c\u7cbe\u7684\u540c\u65f6\uff0c\u4e5f\u4f1a\u8ba9\u4f60\u638c\u63e1\u7684\u66f4\u5feb\uff0c\u4ece\u800c\u66f4\u5bb9\u6613\u89e3\u51fa\u7c7b\u4f3c\u7684\u9898\uff0c\u589e\u5f3a\u81ea\u4fe1\u5fc3\u3002 \u53e6\u5916\u8981\u4ecb\u7ecd\u7684\u5c31\u662f\u672c\u7cfb\u5217\u7684\u4e13\u9898\u7cfb\u7edf\u4e86\uff0c\u4e00\u5171\u4f1a\u5206\u4e3a\u8fd9\u4e9b\u6a21\u5757: \u4e13\u9898\u76ee\u5f55 \u94fe\u8868\u7bc7\u3001\u6808\u548c\u961f\u5217\u7bc7\u3001\u54c8\u5e0c\u8868\u7bc7\u3001\u4e8c\u53c9\u6811\u7bc7\u3001\u5b57\u5178\u6811\u3001\u5e76\u67e5\u96c6\u3001\u5e38\u89c1\u6392\u5e8f\u548c\u67e5\u627e\u7b97\u6cd5\u3001\u56de\u6eaf\u7b97\u6cd5\u3001\u52a8\u6001\u89c4\u5212\u3001\u8d2a\u5fc3\u7b97\u6cd5\u3001LRU\u548cLFU\u3001\u5b57\u7b26\u4e32\u548c\u6b63\u5219\u7bc7 \u4e00\u5171\u5341\u4e8c\u4e2a\u6a21\u5757\uff0c\u76f8\u4fe1\u4f60\u4f1a\u6709\u4e0d\u9519\u7684\u6536\u83b7\u3002 \u523b\u610f\u7ec3\u4e60 \u00b6 \u300a\u5f02\u7c7b:\u4e0d\u4e00\u6837\u7684\u6210\u529f\u542f\u793a\u5f55\u300b\u8fd9\u672c\u4e66\u91cc\u9762\u8c08\u5230\u4e00\u4e07\u5c0f\u65f6\u523b\u610f\u7ec3\u4e60\u6210\u4e3a\u9ad8\u624b\u7684\u7406\u8bba\uff0c\u540e\u9762\u4e5f\u5f88\u591a\u4eba\u8c08\u5230\u8fd9\u4e2a\u7406\u8bba\uff0c\u6211\u51e0\u5e74\u524d\u5c31\u542c\u8bf4\u8fc7\uff0c\u4f46\u771f\u6b63\u4f53\u4f1a\u5230\u5b83\u7684\u5b9e\u9645\u610f\u4e49\u5374\u662f\u6700\u8fd1\u5728\u8bad\u7ec3\u7b97\u6cd5\u7684\u8fc7\u7a0b\u4e2d\uff0c\u800c\u4e14\u662f\u8d70\u4e86\u5f88\u591a\u5f2f\u8def\u4e4b\u540e\u3002\u53ef\u89c1\u7406\u8bba\u5230\u5b9e\u9645\u7684\u8fc7\u7a0b\u662f\u591a\u4e48\u8270\u96be\u3002 \u6211\u6240\u7406\u89e3\u7684\u523b\u610f\u7ec3\u4e60\uff0c\u8fd0\u7528\u5230\u7b97\u6cd5\u7684\u8bad\u7ec3\u4e0a\u9762\u6765\uff0c\u5c31\u662f\u4e24\u70b9: \u7ecf\u5e38\u6027\u5730\u505a\u4f60\u4e0d\u4f1a\u505a\u7684\u9898 \u591a\u79cd\u89e3\u6cd5\u65b9\u5f0f\u8f6e\u6d41\u8bd5\uff0c\u6700\u5927\u5316\u5730\u6316\u6398\u4e00\u9053\u9898\u7684\u4ef7\u503c \u523b\u610f\u7ec3\u4e60\u6709\u4e00\u4e2a\u91cd\u8981\u7684\u89c2\u70b9\u662f\u8d70\u51fa\u8212\u9002\u5708\u3002\u5bf9\u4e8e\u7b97\u6cd5\u7ec3\u4e60\u4e5f\u662f\u4e00\u6837\uff0c\u4e3a\u4ec0\u4e48\u5f88\u591a\u4eba\u89c9\u5f97\u5237\u7b97\u6cd5\u6ca1\u7528\uff0c\u90a3\u662f\u56e0\u4e3a\u4ed6\u4eec\u603b\u662f\u5728\u505a\u81ea\u5df1\u719f\u6089\u7684\u9898\u578b\uff0c\u7528\u81ea\u5df1\u719f\u6089\u7684\u65b9\u6cd5\uff0c\u8e72\u5728\u81ea\u5df1\u7684\u8212\u9002\u5708\uff0c\u8fd9\u6837\u505a\u7684\u518d\u591a\u4e5f\u610f\u4e49\u4e0d\u5927\uff0c\u4f46\u662f\u5982\u679c\u603b\u662f\u5728\u505a\u81ea\u5df1\u4e0d\u719f\u7ec3\u7684\u9898\u578b\uff0c\u7528\u4e0d\u4e00\u6837\u7684\u65b9\u6cd5\uff0c\u5bf9\u4e8e\u81ea\u5df1\u601d\u7ef4\u7684\u6210\u957f\u662f\u76f8\u5f53\u6709\u5e2e\u52a9\u7684\uff0c\u6240\u4ee5\u6211\u89c9\u5f97\u628a\u63e1\u7ecf\u5e38\u6027\u5730\u505a\u4e0d\u4f1a\u7684\u9898\uff0c\u8fd9\u6837\u505a\u7684\u8d8a\u591a\u8d8a\u597d\uff0c\u5f53\u7136\u4e86\uff0c\u65f6\u95f4\u6709\u9650\uff0c\u6211\u4eec\u9700\u8981\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u6765\u53d6\u820d\u3002 \u4e4b\u6240\u4ee5\u6211\u4f1a\u628a\u8fd9\u4e2a\u7cfb\u5217\u53eb\u505a\u7ec3\u4e60\uff0c\u800c\u4e0d\u662f\u5237\u9898\uff0c\u5c31\u662f\u56e0\u4e3a\u7ec3\u4e60\u7684\u672c\u8d28\u662f\u7ec3,\u800c\u4e0d\u662f\u7b80\u5355\u7684AC\u5c31\u53ef\u4ee5\u3002 \u53ef\u80fd\u6709\u7ecf\u9a8c\u7684\u540c\u5b66\uff0c\u7528\u9012\u5f52\u7684\u65b9\u5f0f\u5f88\u5bb9\u6613\u5c31\u89e3\u51fa\u6765\u4e86\u3002\u4f46\u662f\uff0c\u4f60\u6709\u60f3\u8fc7\u5982\u4f55\u7528\u975e\u9012\u5f52\u7684\u65b9\u5f0f\u5417\uff1f\u5982\u679c\u80fd\u7528\u975e\u9012\u5f52\u6765\u662f\u5b9e\u73b0\u4e00\u904d\uff0c\u76f8\u4fe1\u7ed9\u81ea\u5df1\u5e26\u6765\u7684\u5e2e\u52a9\u548c\u63d0\u5347\u4f1a\u6bd4\u9012\u5f52\u89e3\u5927\u5f97\u591a\u3002 \u53e6\u5916\u8bf4\u4e00\u53e5\uff0c\u672c\u7cfb\u5217\u4e2d\u6240\u6709\u7684\u4ee3\u7801\u90fd\u662f\u539f\u521b\u7684\uff0c\u800c\u4e14\u4e0d\u4ec5\u4ec5\u7ed9\u51fa\u9012\u5f52\u4ee3\u7801\uff0c\u5728\u7edd\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u4f1a\u7ed9\u51fa\u5bf9\u5e94\u7684\u975e\u9012\u5f52\u89e3\u6cd5\uff0c\u6df1\u5165\u5730\u6316\u6398\u4e00\u9053\u9898\u7684\u6700\u5927\u4ef7\u503c\uff0c\u8fbe\u5230\u7ec3\u4e60\u800c\u4e0d\u662f\u5237\u9898\u7684\u6548\u679c\u3002 \u6700\u540e\u7684\u6700\u540e\uff0c\u6211\u8981\u5f3a\u8c03\u7684\u662f: \u5bf9\u4e8e\u8fd9\u79cd\u4fee\u70bc\u5185\u529f\u7684\u7ec3\u4e60\uff0c\u4efb\u4f55\u89c6\u9891\u6216\u8005\u4e13\u680f\u90fd\u4ec5\u4ec5\u53ea\u662f\u8f85\u52a9\u4f5c\u7528\uff0c\u6700\u91cd\u8981\u7684\u662f\u8fd8\u662f\u81ea\u5df1\u7684\u575a\u6301\u548c\u72ec\u7acb\u601d\u8003\uff0c\u5982\u679c\u4f60\u901a\u8fc7\u6211\u8fd9\u4e2a\u7cfb\u5217\u80fd\u591f\u8ba9\u81ea\u5df1\u7684\u7b97\u6cd5\u80fd\u529b\u66f4\u4e0a\u4e00\u5c42\u697c\uff0c\u6216\u8005\u8bf4\u80fd\u591f\u6709\u6240\u6536\u83b7\uff0c\u4f60\u5e94\u8be5\u611f\u8c22\u7684\u662f\u4f60\u81ea\u5df1\u3002","title":"\u7ec3\u4e60\u4e4b\u524d\uff0c\u4f60\u9700\u8981\u4e86\u89e3\u7684"},{"location":"algre/00-%E7%BB%83%E4%B9%A0%E4%B9%8B%E5%89%8D%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84/#_1","text":"\u8d44\u6599\u94fe\u63a5\uff1a http://47.98.159.95/leetcode-js/ \u6587\u6863\u8fd8\u5728\u66f4\u65b0\u4e2d\uff1b\u4f18\u5148\u770b\u4e66\uff1b\u8fd9\u4e2a\u4f5c\u8005\u6c34\u5e73\u4e00\u822c","title":"\u7ec3\u4e60\u4e4b\u524d\uff0c\u4f60\u9700\u8981\u4e86\u89e3\u7684"},{"location":"algre/00-%E7%BB%83%E4%B9%A0%E4%B9%8B%E5%89%8D%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84/#_2","text":"\u5982\u679c\u4f60\u6b63\u5728\u4e3a\u9762\u8bd5\u505a\u51c6\u5907\uff0c\u5374\u5bf9\u4e8e\u5e9e\u6742\u7684\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u77e5\u8bc6\uff0c\u4e0d\u77e5\u9053\u4f55\u4ece\u4e0b\u624b\uff1b \u5982\u679c\u4f60\u4ee5\u524d\u66fe\u7ecf\u5b66\u8fc7\u4e00\u4e9b\u57fa\u7840\u7684\u6570\u636e\u7ed3\u6784\u6216\u8005\u7b97\u6cd5\u7684\u57fa\u7840\u77e5\u8bc6\uff0c\u5374\u6839\u672c\u6ca1\u6709\u7406\u89e3\u6e05\u695a\uff0c\u66f4\u4e0d\u80fd\u72ec\u7acb\u5b8c\u6210\u7b97\u6cd5\u7684\u8bbe\u8ba1, \u60f3\u91cd\u65b0\u5de9\u56fa\u8fd9\u65b9\u9762\u7684\u77e5\u8bc6\uff1b \u5982\u679c\u5df2\u7ecf\u6709\u4e86\u4e00\u5c0f\u6bb5\u5de5\u4f5c\u7ecf\u9a8c\uff0c\u4f46\u5374\u8001\u662f\u5728\u6574\u5929\u7528\u8f6e\u5b50\u3001\u8c03API\u5f53\u4e2d\u5ea6\u8fc7\uff0c\u60f3\u770b\u4e00\u770b\u5e95\u5c42\u7684\u6e90\u7801\u5374\u5e38\u5e38\u56e0\u7f16\u7a0b\u7684\u5185\u529b\u4e0d\u8db3\u800c\u653e\u5f03\uff1b \u5982\u679c\u4f60\u542c\u8bf4\u8fc7LeetCode\u8fd9\u4e2a\u7f51\u7ad9\uff0c\u60f3\u8981\u4e00\u5237\u5230\u5e95\uff0c\u8fc8\u5411\u7b97\u6cd5\u5dc5\u5cf0\uff0c\u5374\u56e0\u4e3a\u6d69\u701a\u7684\u9898\u91cf\u548c\u7f3a\u4e4f\u7cfb\u7edf\u8bad\u7ec3\u611f\u5230\u65e0\u529b\uff0c\u4e09\u5929\u6253\u9c7c\u4e24\u5929\u6652\u7f51\uff0c\u8fdb\u800c\u611f\u5230\u7126\u8651\uff0c\u751a\u81f3\u653e\u5f03...... \u5982\u679c\u4e0a\u9762\u4efb\u4f55\u4e00\u6761\u7b26\u5408\u4f60\u7684\u73b0\u72b6\uff0c\u90a3\u4e48\u606d\u559c\u4f60\uff0c\u4f60\u6765\u5bf9\u4e86\u5730\u65b9\u3002\u4f5c\u4e3a\u4e00\u4e2a\u5708\u5185\u5c0f\u6709\u540d\u6c14\u7684\u524d\u7aef\u535a\u4e3b\uff0c\u6211\u60f3\u501f\u7740\u6211\u7684\u5f71\u54cd\u529b\uff0c\u5206\u4eab\u51fa\u6211\u7cfb\u7edf\u68b3\u7406\u548c\u7ec3\u4e60\u7684\u8fc7\u7a0b\uff0c\u5e0c\u671b\u80fd\u591f\u5e2e\u52a9\u5230\u66f4\u591a\u8ddf\u6211\u4e00\u6837\u9047\u5230\u7c7b\u4f3c\u56f0\u96be\u7684\u4eba\uff0c\u8ba9\u4f60\u5c11\u4e00\u4e9b\u4e0d\u5fc5\u8981\u7684\u6298\u817e\u3002 \u5168\u7a0b\u4f7f\u7528\u7684\u8bed\u8a00\u662f JavaScript\uff0c\u56e0\u6b64\u6807\u9898\u4e0a\u8bf4\u7684\u662f\u524d\u7aefxxx, \u4f46\u5b9e\u9645\u4e0a\u4f60\u4e5f\u77e5\u9053\uff0c\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u8fd9\u4e1c\u897f\u4e3b\u8981\u662f\u8003\u9a8c\u4e00\u4e2a\u4eba\u7684\u601d\u7ef4\uff0c\u81f3\u4e8e\u8bed\u8a00\uff0c\u5176\u4e2d\u5e76\u6ca1\u6709\u7528\u5230\u4efb\u4f55 JS \u7684\u9ad8\u6df1\u8bed\u6cd5\u7279\u6027\uff0c\u53ea\u8981\u6709\u6240\u7f16\u7a0b\u7ecf\u9a8c\uff0c\u80fd\u7406\u89e3\u4ee3\u7801\u662f\u5b8c\u5168\u6ca1\u6709\u95ee\u9898\u7684\uff0c\u8fd9\u4e00\u70b9\u5927\u5bb6\u653e\u5fc3\u3002","title":"\u9002\u7528\u4eba\u7fa4"},{"location":"algre/00-%E7%BB%83%E4%B9%A0%E4%B9%8B%E5%89%8D%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84/#_3","text":"\u6211\u60f3\u5404\u4f4d\u5f53\u4e2d\u80af\u5b9a\u6709\u51c6\u5907\u9762\u8bd5\u7684\u540c\u5b66\uff0c\u90a3\u4e48\u4f60\u80af\u5b9a\u542c\u8bf4\u8fc7\u9762\u8bd5\u9020\u706b\u7bad\uff0c\u5de5\u4f5c\u62e7\u87ba\u4e1d, \u4e0d\u5c11\u4eba\u4e5f\u62ff\u8fd9\u53e5\u8bdd\u62ff\u6765\u8bdf\u75c5\u5f53\u524d\u4e00\u4e9b\u4e92\u8054\u7f51\u5927\u5382\u7684\u7b97\u6cd5\u9762\u8bd5\uff0c\u56e0\u6b64\u5c31\u6709\u8fd9\u6837\u7684\u8a00\u8bba: \u9664\u4e86\u5e94\u4ed8\u9762\u8bd5\uff0c\u5b66\u7b97\u6cd5\u5176\u5b9e\u6ca1\u5565\u7528\u3002 \u8fd9\u53e5\u8bdd\u6211\u5e76\u4e0d\u5b8c\u5168\u53cd\u5bf9\uff0c\u56e0\u4e3a\u73b0\u5728\u968f\u7740\u6280\u672f\u751f\u6001\u7684\u53d1\u5c55\uff0c\u5404\u4f4d\u8d70\u5728\u9886\u57df\u524d\u6cbf\u7684\u5927\u725b\u4eec\u5df2\u7ecf\u7ed9\u5927\u5bb6\u5907\u8db3\u4e86\u8f6e\u5b50\uff0c\u9047\u5230\u4e00\u822c\u7684\u4e1a\u52a1\u95ee\u9898\u76f4\u63a5\u628a\u4eba\u5bb6\u7684\u65b9\u6848\u62ff\u5230\u7528\u5c31\u53ef\u4ee5\u4e86\uff0c\u53e6\u5916\u6211\u4e5f\u770b\u5230\u8fc7\u4e00\u53e5\u8bdd\uff0c\u521a\u5f00\u59cb\u89c9\u5f97\u626f\u6de1\uff0c\u540e\u6765\u60f3\u60f3\u89c9\u5f97\u6709\u90a3\u4e48\u4e00\u4e1d\u9053\u7406: \u51e1\u662f\u9700\u8981\u8de8\u8fc7\u4e00\u5b9a\u667a\u5546\u95e8\u69db\u624d\u80fd\u638c\u63e1\u7684\u6280\u672f\uff0c\u90fd\u4e0d\u4f1a\u8f7b\u6613\u7684\u6d41\u884c\u3002 \u6362\u53e5\u8bdd\u8bf4\uff1a\u6280\u672f\u53d8\u5f97\u66f4\u7b80\u5355\uff0c\u522b\u4eba\u66f4\u613f\u610f\u7528\uff0c\u66f4\u5bb9\u6613\u6d41\u884c\u3002 \u8fd9\u4e5f\u662f\u5f53\u524d\u5404\u79cd\u6280\u672f\u6846\u67b6\u7684\u771f\u5b9e\u5199\u7167: \u8db3\u591f\u597d\u7528\uff0c\u8db3\u591f\u7b80\u5355\uff0c\u7b80\u5355\u5230\u4f60\u4e0d\u9700\u8981\u77e5\u9053\u5e95\u5c42\u590d\u6742\u7684\u7ec6\u8282\u3002 \u90a3\u4e48\u95ee\u9898\u6765\u4e86\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u96c6\u667a\u6167\u548c\u624d\u534e\u4e8e\u4e00\u8eab\u7684\u7a0b\u5e8f\u5458\uff0c\u81ea\u5df1\u7684\u4ef7\u503c\u5728\u54ea\u91cc\uff1f \u6211\u89c9\u5f97\u4ef7\u503c\u7684\u5927\u5c0f\u53d6\u51b3\u4e8e\u4f60\u80fd\u591f\u89e3\u51b3\u7684\u95ee\u9898\uff0c\u5982\u679c\u8bf4\u7167\u7740\u8bbe\u8ba1\u7a3f\u753b\u51fa\u4e00\u4e2a\u7b80\u5355\u7684 Button\uff0c\u4f60\u80fd\u5b8c\u6210\uff0c\u522b\u7684\u524d\u7aef\u4e5f\u80fd\u5b8c\u6210\uff0c\u751a\u81f3\u540e\u540e\u7aef\u7684\u540c\u5b66\u90fd\u80fd\u628a\u6548\u679c\u5dee\u4e0d\u591a\u505a\u51fa\u6765\uff0c\u90a3\u8fd9\u4e2a\u65f6\u5019\u5c31\u8c08\u4f55\u4e2a\u4eba\u4ef7\u503c\uff1f\u53ea\u4e0d\u8fc7\u5728\u4e00\u4e2a\u968f\u65f6\u53ef\u66ff\u4ee3\u7684\u5c97\u4f4d\u4e0a\u5b8c\u6210\u4e86\u5927\u591a\u6570\u4eba\u80fd\u8f7b\u6613\u505a\u5230\u7684\u4e8b\u60c5\uff0c\u5f20\u4e09\u6765\u5b8c\u6210\uff0c\u6216\u8005\u674e\u56db\u6765\u5b8c\u6210\uff0c\u5176\u5b9e\u6ca1\u4ec0\u4e48\u533a\u522b\u3002 \u4f46\u662f\u73b0\u5728\u5982\u679c\u9762\u5bf9\u7684\u662f\u4e00\u4e2a\u590d\u6742\u7684\u5de5\u7a0b\u95ee\u9898\uff0c\u9700\u8981\u4f60\u6765\u5f00\u53d1\u4e00\u4e2a\u8f85\u52a9\u4e1a\u52a1\u7684\u811a\u624b\u67b6\u5de5\u5177\uff0c\u6539\u9020\u6846\u67b6\u6e90\u7801\u6765\u63d0\u9ad8\u9879\u76ee\u7684\u6269\u5c55\u6027\uff0c\u6216\u8005\u9762\u5bf9\u4e25\u91cd\u7684\u6027\u80fd\u95ee\u9898\u80fd\u9a6c\u4e0a\u5206\u6790\u51fa\u539f\u56e0\uff0c\u7136\u540e\u7ed9\u51fa\u89e3\u51b3\u7684\u601d\u8def\u5e76\u5728\u4e0d\u540c\u56e0\u7d20\u4e2d\u5e73\u8861\uff0c\u8fd9\u4e9b\u90fd\u4e0d\u662f\u4e00\u4e2a\u4e1a\u4f59\u7684\u73a9\u5bb6\u80fd\u591f\u5728\u77ed\u65f6\u95f4\u5185\u80dc\u4efb\u7684\uff0c\u8fd9\u5c31\u662f\u4f53\u73b0\u81ea\u5df1\u4ef7\u503c\u7684\u5730\u65b9\u3002 \u56de\u5230\u7b97\u6cd5\u672c\u8eab\uff0c\u5b83\u4ee3\u8868\u7684\u662f\u4f60\u89e3\u51b3\u66f4\u52a0\u590d\u6742\u95ee\u9898\u80fd\u529b\u7684\u4e00\u90e8\u5206\u3002 \u53ef\u80fd\u5e72\u8bb2\u4e0d\u5bb9\u6613\u7406\u89e3\uff0c\u6211\u4eec\u4ee5 Vue \u8fd9\u4e2a\u6846\u67b6\u4e3a\u4f8b\uff0c\u5982\u679c\u4f60\u4ee5\u524d\u6ca1\u6709\u63a5\u89e6\u8fc7\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u548c\u9012\u5f52\u7684\u6982\u5ff5\uff0c\u6ca1\u6709\u770b\u8fc7\u76f8\u5e94\u7684\u4ee3\u7801\uff0c\u90a3\u4e48\u865a\u62df DOM \u6574\u4e2apatch\u7684\u6e90\u7801\u4f60\u662f\u57fa\u672c\u4e0d\u53ef\u80fd\u770b\u61c2\u7684\uff1b\u5982\u679c\u4f60\u6ca1\u6709\u7cfb\u7edf\u638c\u63e1\u8fc7\u6808\u5148\u8fdb\u540e\u51fa\u8fd9\u79cd\u7279\u70b9\u7684\u5e94\u7528\uff0c\u4f60\u4e5f\u662f\u5f88\u96be\u7406\u89e3 Vue \u6a21\u677f\u7f16\u8bd1\u9636\u6bb5\u4e3a\u4ec0\u4e48\u8981\u7528\u6808\u6765\u68c0\u67e5\u6807\u7b7e\u662f\u5426\u6b63\u5e38\u95ed\u5408\uff1b\u540c\u6837\u7684\uff0c\u5982\u679c\u4f60\u6ca1\u6709\u56de\u6eaf\u8fd9\u79cd\u7b97\u6cd5\u7684\u4ee3\u7801\u7ecf\u9a8c\uff0c\u4f60\u4e5f\u662f\u5f88\u96be\u7406\u89e3 Vue \u6a21\u677f\u7f16\u8bd1\u7684\u4f18\u5316\u9636\u6bb5\uff0c\u5230\u5e95\u662f\u600e\u6837\u5728\u4ece\u7236\u5230\u5b50\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u7684\u8fc7\u7a0b\u4e2d\u68c0\u67e5\u5230\u975e\u9759\u6001\u7684\u5b50\u8282\u70b9\u540e\u7ed9\u7236\u8282\u70b9\u6253\u4e0a\u6807\u8bb0\uff1b\u5e76\u4e14\uff0c\u5982\u679c\u4f60\u4ee5\u524d\u4e0d\u77e5\u9053 LRU \u7f13\u5b58\u6dd8\u6c70\u7b97\u6cd5\u7a76\u7adf\u662f\u4e2a\u4ec0\u4e48\u4e1c\u897f\uff0c\u4f60\u770b\u5230keep-alive\u7ec4\u4ef6\u7684\u5b9e\u73b0\u8fd9\u91cc\u4f1a\u975e\u5e38\u7eb3\u95f7: if ( cache [ key ]) { vnode . componentInstance = cache [ key ]. componentInstance // make current key freshest remove ( keys , key ) keys . push ( key ) } \u7f13\u5b58\u547d\u4e2d\u4e86\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u8981\u7ef4\u62a4\u4e00\u4e2a keys \u6570\u7ec4\uff0c\u800c\u4e14\u628a\u8fd9\u4e2a key \u4ece\u6570\u7ec4\u4e2d\u5220\u4e86\uff0c\u53c8\u8981\u653e\u5230\u672b\u5c3e\uff0c\u5565\u64cd\u4f5c\u5462\uff1f \u5982\u679c\u4e4b\u524d\u6709\u76f8\u5e94\u7b97\u6cd5\u57fa\u7840\uff0c\u4f60\u53cd\u800c\u4f1a\u89c9\u5f97\u8fd9\u4e2a\u7406\u6240\u5f53\u7136\u7684\u4e8b\u60c5\u3002 \u770b\u5230\u4e86\u5427\uff1f\u4f60\u89c9\u5f97\u5c24\u5927\u80fd\u5199\u51fa\u4f18\u79c0\u7684\u201c\u660e\u661f\u201d\u9879\u76ee\uff0c\u4f1a\u6ca1\u6709\u4e00\u70b9\u624e\u5b9e\u7684\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u529f\u5e95\uff1f \u5f53\u7136\u4e0d\u4ec5\u4ec5\u662f\u524d\u7aef\u9886\u57df\uff0c\u6211\u60f3\u670d\u52a1\u7aef\u4e5f\u662f\u5dee\u4e0d\u591a\u7684\u60c5\u51b5\uff0c\u8fd9\u91cc\u5c31\u4e0d\u591a\u4e3e\u4f8b\u4e86\u3002 \u6240\u4ee5\u5404\u4f4d\uff0c\u6211\u8ba4\u4e3a\u57fa\u672c\u7684\u7b97\u6cd5\u80fd\u529b\u5bf9\u4e8e\u4e00\u4e2a\u60f3\u8981\u89e3\u51b3\u590d\u6742\u95ee\u9898\u7684\u5de5\u7a0b\u5e08\u800c\u8a00\uff0c\u4e0d\u662f\u4e00\u4e2a\u52a0\u5206\u9879\uff0c\u800c\u4e14\u662f\u5fc5\u5907\u9879\u3002\u7b97\u6cd5\u6709\u5927\u7528\u3002","title":"\u7b97\u6cd5\u6ca1\u6709\u7528\uff1f"},{"location":"algre/00-%E7%BB%83%E4%B9%A0%E4%B9%8B%E5%89%8D%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84/#_4","text":"\u63a5\u4e0b\u6765\u6211\u6765\u5206\u4eab\u4e00\u4e0b\u7ec3\u4e60\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u7684\u4e00\u4e9b\u5fc3\u5f97\uff0c\u6216\u8005\u65b9\u6cd5\uff0c\u5206\u4e24\u4e2a\u5173\u952e\u5b57\u6765\u8bf4: \u7cfb\u7edf\u548c\u7ec3\u4e60\u3002","title":"\u5982\u4f55\u7cfb\u7edf\u7ec3\u4e60\uff1f"},{"location":"algre/00-%E7%BB%83%E4%B9%A0%E4%B9%8B%E5%89%8D%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84/#_5","text":"\u5982\u4f55\u505a\u5230\u7cfb\u7edf\u7684\u8bad\u7ec3\uff1f \u6211\u60f3\u6309\u7167LeetCode\u4e0a\u7684\u987a\u5e8f\u4e00\u9898\u4e00\u9898\u5237\u80af\u5b9a\u4e0d\u662f\u7cfb\u7edf\uff0c\u5927\u90e8\u5206\u60c5\u51b5\u662f\u76f8\u90bb\u7684\u51e0\u4e2a\u9898\u6beb\u65e0\u8054\u7cfb\uff0c\u8fd9\u4e00\u9898\u505a\u4e86\u4e2a\u94fe\u8868\u76f8\u5173\u7684\uff0c\u4e0b\u4e00\u9898\u53c8\u662f\u4e00\u4e2a\u54c8\u5e0c\u8868\uff0c\u518d\u4e0b\u4e00\u9898\u53c8\u4e86\u4e00\u4e2a\u4e8c\u5206\u641c\u7d22\u6811\uff0c\u601d\u7ef4\u4e0d\u65ad\u7684\u8df3\u8f6c\uff0c\u4e00\u65b9\u9762\u53ef\u80fd\u4f60\u7684\u57fa\u7840\u5f88\u8584\u5f31\uff0c\u5404\u4e2a\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u7406\u89e3\u7684\u5e76\u4e0d\u6df1\u523b\uff0c\u53cd\u590d\u8df3\u5230\u4f60\u4e0d\u719f\u6089\u7684\u5730\u65b9\uff0c\u4f1a\u632b\u8d25\u4f60\u7684\u4fe1\u5fc3\uff0c\u589e\u52a0\u7126\u8651\uff0c\u751a\u81f3\u76f4\u63a5\u529d\u9000\uff0c\u53e6\u4e00\u65b9\u9762\uff0c\u53ef\u80fd\u518d\u9047\u5230\u96be\u4e00\u70b9\u7684\u94fe\u8868\u9898\uff0c\u4f60\u53c8\u4e0d\u4f1a\u4e86\uff0c\u53ef\u80fd\u4f60\u4f1a\u7eb3\u95f7: \u4e0d\u662f\u521a\u521a\u624d\u5199\u51fa\u6765\u4e86\u4e00\u4e2a\u94fe\u8868\u9898\u5417\uff1f\u600e\u4e48\u73b0\u5728\u53c8\u4e0d\u4f1a\u4e86\uff1f\u5bb9\u6613\u8ba9\u4f60\u4ea7\u751f\u81ea\u6211\u6000\u7591\uff0c\u4e5f\u4f1a\u5f71\u54cd\u4f60\u8bad\u7ec3\u7684\u81ea\u9a71\u529b\u3002 \u56e0\u6b64\u6211\u89c9\u5f97\u5206\u4e13\u9898\u5404\u4e2a\u8bad\u7ec3\u7a81\u7834\u662f\u4e00\u4e2a\u76f8\u5bf9\u5408\u7406\u7684\u6218\u7565\u3002\u5728\u505a\u5230\u4e13\u548c\u7cbe\u7684\u540c\u65f6\uff0c\u4e5f\u4f1a\u8ba9\u4f60\u638c\u63e1\u7684\u66f4\u5feb\uff0c\u4ece\u800c\u66f4\u5bb9\u6613\u89e3\u51fa\u7c7b\u4f3c\u7684\u9898\uff0c\u589e\u5f3a\u81ea\u4fe1\u5fc3\u3002 \u53e6\u5916\u8981\u4ecb\u7ecd\u7684\u5c31\u662f\u672c\u7cfb\u5217\u7684\u4e13\u9898\u7cfb\u7edf\u4e86\uff0c\u4e00\u5171\u4f1a\u5206\u4e3a\u8fd9\u4e9b\u6a21\u5757: \u4e13\u9898\u76ee\u5f55 \u94fe\u8868\u7bc7\u3001\u6808\u548c\u961f\u5217\u7bc7\u3001\u54c8\u5e0c\u8868\u7bc7\u3001\u4e8c\u53c9\u6811\u7bc7\u3001\u5b57\u5178\u6811\u3001\u5e76\u67e5\u96c6\u3001\u5e38\u89c1\u6392\u5e8f\u548c\u67e5\u627e\u7b97\u6cd5\u3001\u56de\u6eaf\u7b97\u6cd5\u3001\u52a8\u6001\u89c4\u5212\u3001\u8d2a\u5fc3\u7b97\u6cd5\u3001LRU\u548cLFU\u3001\u5b57\u7b26\u4e32\u548c\u6b63\u5219\u7bc7 \u4e00\u5171\u5341\u4e8c\u4e2a\u6a21\u5757\uff0c\u76f8\u4fe1\u4f60\u4f1a\u6709\u4e0d\u9519\u7684\u6536\u83b7\u3002","title":"\u4e13\u9898\u7a81\u7834"},{"location":"algre/00-%E7%BB%83%E4%B9%A0%E4%B9%8B%E5%89%8D%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84/#_6","text":"\u300a\u5f02\u7c7b:\u4e0d\u4e00\u6837\u7684\u6210\u529f\u542f\u793a\u5f55\u300b\u8fd9\u672c\u4e66\u91cc\u9762\u8c08\u5230\u4e00\u4e07\u5c0f\u65f6\u523b\u610f\u7ec3\u4e60\u6210\u4e3a\u9ad8\u624b\u7684\u7406\u8bba\uff0c\u540e\u9762\u4e5f\u5f88\u591a\u4eba\u8c08\u5230\u8fd9\u4e2a\u7406\u8bba\uff0c\u6211\u51e0\u5e74\u524d\u5c31\u542c\u8bf4\u8fc7\uff0c\u4f46\u771f\u6b63\u4f53\u4f1a\u5230\u5b83\u7684\u5b9e\u9645\u610f\u4e49\u5374\u662f\u6700\u8fd1\u5728\u8bad\u7ec3\u7b97\u6cd5\u7684\u8fc7\u7a0b\u4e2d\uff0c\u800c\u4e14\u662f\u8d70\u4e86\u5f88\u591a\u5f2f\u8def\u4e4b\u540e\u3002\u53ef\u89c1\u7406\u8bba\u5230\u5b9e\u9645\u7684\u8fc7\u7a0b\u662f\u591a\u4e48\u8270\u96be\u3002 \u6211\u6240\u7406\u89e3\u7684\u523b\u610f\u7ec3\u4e60\uff0c\u8fd0\u7528\u5230\u7b97\u6cd5\u7684\u8bad\u7ec3\u4e0a\u9762\u6765\uff0c\u5c31\u662f\u4e24\u70b9: \u7ecf\u5e38\u6027\u5730\u505a\u4f60\u4e0d\u4f1a\u505a\u7684\u9898 \u591a\u79cd\u89e3\u6cd5\u65b9\u5f0f\u8f6e\u6d41\u8bd5\uff0c\u6700\u5927\u5316\u5730\u6316\u6398\u4e00\u9053\u9898\u7684\u4ef7\u503c \u523b\u610f\u7ec3\u4e60\u6709\u4e00\u4e2a\u91cd\u8981\u7684\u89c2\u70b9\u662f\u8d70\u51fa\u8212\u9002\u5708\u3002\u5bf9\u4e8e\u7b97\u6cd5\u7ec3\u4e60\u4e5f\u662f\u4e00\u6837\uff0c\u4e3a\u4ec0\u4e48\u5f88\u591a\u4eba\u89c9\u5f97\u5237\u7b97\u6cd5\u6ca1\u7528\uff0c\u90a3\u662f\u56e0\u4e3a\u4ed6\u4eec\u603b\u662f\u5728\u505a\u81ea\u5df1\u719f\u6089\u7684\u9898\u578b\uff0c\u7528\u81ea\u5df1\u719f\u6089\u7684\u65b9\u6cd5\uff0c\u8e72\u5728\u81ea\u5df1\u7684\u8212\u9002\u5708\uff0c\u8fd9\u6837\u505a\u7684\u518d\u591a\u4e5f\u610f\u4e49\u4e0d\u5927\uff0c\u4f46\u662f\u5982\u679c\u603b\u662f\u5728\u505a\u81ea\u5df1\u4e0d\u719f\u7ec3\u7684\u9898\u578b\uff0c\u7528\u4e0d\u4e00\u6837\u7684\u65b9\u6cd5\uff0c\u5bf9\u4e8e\u81ea\u5df1\u601d\u7ef4\u7684\u6210\u957f\u662f\u76f8\u5f53\u6709\u5e2e\u52a9\u7684\uff0c\u6240\u4ee5\u6211\u89c9\u5f97\u628a\u63e1\u7ecf\u5e38\u6027\u5730\u505a\u4e0d\u4f1a\u7684\u9898\uff0c\u8fd9\u6837\u505a\u7684\u8d8a\u591a\u8d8a\u597d\uff0c\u5f53\u7136\u4e86\uff0c\u65f6\u95f4\u6709\u9650\uff0c\u6211\u4eec\u9700\u8981\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u6765\u53d6\u820d\u3002 \u4e4b\u6240\u4ee5\u6211\u4f1a\u628a\u8fd9\u4e2a\u7cfb\u5217\u53eb\u505a\u7ec3\u4e60\uff0c\u800c\u4e0d\u662f\u5237\u9898\uff0c\u5c31\u662f\u56e0\u4e3a\u7ec3\u4e60\u7684\u672c\u8d28\u662f\u7ec3,\u800c\u4e0d\u662f\u7b80\u5355\u7684AC\u5c31\u53ef\u4ee5\u3002 \u53ef\u80fd\u6709\u7ecf\u9a8c\u7684\u540c\u5b66\uff0c\u7528\u9012\u5f52\u7684\u65b9\u5f0f\u5f88\u5bb9\u6613\u5c31\u89e3\u51fa\u6765\u4e86\u3002\u4f46\u662f\uff0c\u4f60\u6709\u60f3\u8fc7\u5982\u4f55\u7528\u975e\u9012\u5f52\u7684\u65b9\u5f0f\u5417\uff1f\u5982\u679c\u80fd\u7528\u975e\u9012\u5f52\u6765\u662f\u5b9e\u73b0\u4e00\u904d\uff0c\u76f8\u4fe1\u7ed9\u81ea\u5df1\u5e26\u6765\u7684\u5e2e\u52a9\u548c\u63d0\u5347\u4f1a\u6bd4\u9012\u5f52\u89e3\u5927\u5f97\u591a\u3002 \u53e6\u5916\u8bf4\u4e00\u53e5\uff0c\u672c\u7cfb\u5217\u4e2d\u6240\u6709\u7684\u4ee3\u7801\u90fd\u662f\u539f\u521b\u7684\uff0c\u800c\u4e14\u4e0d\u4ec5\u4ec5\u7ed9\u51fa\u9012\u5f52\u4ee3\u7801\uff0c\u5728\u7edd\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u4f1a\u7ed9\u51fa\u5bf9\u5e94\u7684\u975e\u9012\u5f52\u89e3\u6cd5\uff0c\u6df1\u5165\u5730\u6316\u6398\u4e00\u9053\u9898\u7684\u6700\u5927\u4ef7\u503c\uff0c\u8fbe\u5230\u7ec3\u4e60\u800c\u4e0d\u662f\u5237\u9898\u7684\u6548\u679c\u3002 \u6700\u540e\u7684\u6700\u540e\uff0c\u6211\u8981\u5f3a\u8c03\u7684\u662f: \u5bf9\u4e8e\u8fd9\u79cd\u4fee\u70bc\u5185\u529f\u7684\u7ec3\u4e60\uff0c\u4efb\u4f55\u89c6\u9891\u6216\u8005\u4e13\u680f\u90fd\u4ec5\u4ec5\u53ea\u662f\u8f85\u52a9\u4f5c\u7528\uff0c\u6700\u91cd\u8981\u7684\u662f\u8fd8\u662f\u81ea\u5df1\u7684\u575a\u6301\u548c\u72ec\u7acb\u601d\u8003\uff0c\u5982\u679c\u4f60\u901a\u8fc7\u6211\u8fd9\u4e2a\u7cfb\u5217\u80fd\u591f\u8ba9\u81ea\u5df1\u7684\u7b97\u6cd5\u80fd\u529b\u66f4\u4e0a\u4e00\u5c42\u697c\uff0c\u6216\u8005\u8bf4\u80fd\u591f\u6709\u6240\u6536\u83b7\uff0c\u4f60\u5e94\u8be5\u611f\u8c22\u7684\u662f\u4f60\u81ea\u5df1\u3002","title":"\u523b\u610f\u7ec3\u4e60"},{"location":"algre/01-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/","text":"\u53cd\u8f6c\u94fe\u8868 \u00b6 \u53cd\u8f6c\u94fe\u8868\u8fd9\u91cc\u4e00\u5171\u6709\u4e09\u4e2a\u9898\u76ee\u4f9b\u5927\u5bb6\u8bad\u7ec3\u3002\u5206\u522b\u662f\u539f\u5730\u5355\u94fe\u8868\u7684\u53cd\u8f6c\u3001\u4e24\u4e2a\u4e00\u7ec4\u53cd\u8f6c\u94fe\u8868\u548cK\u4e2a\u4e00\u7ec4\u53cd\u8f6c\u94fe\u8868\uff0c\u96be\u5ea6\u7531\u9636\u68af\u5f0f\u4e0a\u5347\u3002 \u800c\u5728\u9762\u8bd5\u5f53\u4e2d\u51e1\u662f\u9047\u5230\u94fe\u8868\uff0c\u53cd\u8f6c\u7c7b\u7684\u9898\u76ee\u51fa\u73b0\u7684\u9891\u7387\u4e5f\u662f\u6570\u4e00\u6570\u4e8c\u7684\uff0c\u56e0\u6b64\u628a\u5b83\u5f53\u505a\u94fe\u8868\u5f00\u7bc7\u7684\u8bad\u7ec3\u7c7b\u578b\u3002 No.1 \u7b80\u5355\u7684\u53cd\u8f6c\u94fe\u8868 \u00b6 \u53cd\u8f6c\u4e00\u4e2a\u5355\u94fe\u8868\u3002 \u793a\u4f8b: \u8f93\u5165: 1->2->3->4->5->NULL \u8f93\u51fa: 5->4->3->2->1->NULL \u6765\u6e90: LeetCode \u7b2c 206 \u9898 \u5faa\u73af\u89e3\u51b3\u65b9\u6848 \u00b6 \u8fd9\u9053\u9898\u662f\u94fe\u8868\u4e2d\u7684\u7ecf\u5178\u9898\u76ee\uff0c\u5145\u5206\u4f53\u73b0\u94fe\u8868\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\u64cd\u4f5c\u601d\u8def\u7b80\u5355, \u4f46\u662f\u5b9e\u73b0\u4e0a\u5e76\u6ca1\u6709\u90a3\u4e48\u7b80\u5355\u7684\u7279\u70b9\u3002 \u90a3\u5728\u5b9e\u73b0\u4e0a\u5e94\u8be5\u6ce8\u610f\u4e00\u4e9b\u4ec0\u4e48\u95ee\u9898\u5462\uff1f \u4fdd\u5b58\u540e\u7eed\u8282\u70b9\u3002\u4f5c\u4e3a\u65b0\u624b\u6765\u8bf4\uff0c\u5f88\u5bb9\u6613\u5c06\u5f53\u524d\u8282\u70b9\u7684 next\u6307\u9488\u76f4\u63a5\u6307\u5411\u524d\u4e00\u4e2a\u8282\u70b9\uff0c\u4f46\u5176\u5b9e\u5f53\u524d\u8282\u70b9\u4e0b\u4e00\u4e2a\u8282\u70b9\u7684\u6307\u9488\u4e5f\u5c31\u4e22\u5931\u4e86\u3002\u56e0\u6b64\uff0c\u9700\u8981\u5728\u904d\u5386\u7684\u8fc7\u7a0b\u5f53\u4e2d\uff0c\u5148\u5c06\u4e0b\u4e00\u4e2a\u8282\u70b9\u4fdd\u5b58\uff0c\u7136\u540e\u518d\u64cd\u4f5cnext\u6307\u5411\u3002 \u94fe\u8868\u7ed3\u6784\u58f0\u5b9a\u4e49\u5982\u4e0b: function ListNode ( val ) { this . val = val ; this . next = null ; } \u5b9e\u73b0\u5982\u4e0b: let reverseList = ( head ) => { if ( ! head ) { return null ; } let pre = null , cur = head ; while ( cur ) { // \u5173\u952e: \u4fdd\u5b58\u4e0b\u4e00\u4e2a\u8282\u70b9\u7684\u503c let next = cur . next ; cur . next = pre ; pre = cur ; cur = next ; } return pre ; }; \u7531\u4e8e\u903b\u8f91\u6bd4\u8f83\u7b80\u5355\uff0c\u4ee3\u7801\u76f4\u63a5\u4e00\u6c14\u5475\u6210\u3002\u4e0d\u8fc7\u4ec5\u4ec5\u5199\u5b8c\u8fd8\u4e0d\u591f\uff0c\u5bf9\u4e8e\u94fe\u8868\u95ee\u9898\uff0c\u8fb9\u754c\u68c0\u67e5\u7684\u4e60\u60ef\u80fd\u5e2e\u52a9\u6211\u4eec\u8fdb\u4e00\u6b65\u4fdd\u8bc1\u4ee3\u7801\u7684\u8d28\u91cf\u3002\u5177\u4f53\u6765\u8bf4: \u5f53 head \u8282\u70b9\u4e3a\u7a7a\u65f6\uff0c\u6211\u4eec\u5df2\u7ecf\u5904\u7406\uff0c\u901a\u8fc7\u2705 \u5f53\u94fe\u8868\u53ea\u5305\u542b\u4e00\u4e2a\u8282\u70b9\u65f6, \u6b64\u65f6\u6211\u4eec\u5e0c\u671b\u76f4\u63a5\u8fd4\u56de\u8fd9\u4e2a\u8282\u70b9\uff0c\u5bf9\u4e0a\u8ff0\u4ee3\u7801\u800c\u8a00\uff0c\u8fdb\u5165\u5faa\u73af\u540e pre \u88ab\u8d4b\u503c\u4e3acur\uff0c\u4e5f\u5c31\u662fhead\uff0c\u6ca1\u6bdb\u75c5\uff0c\u901a\u8fc7\u2705 \u8fd0\u884c\u5728 LeetCode, \u6210\u529f AC \u270c \u4f46\u4f5c\u4e3a\u7cfb\u7edf\u6027\u7684\u8bad\u7ec3\u800c\u8a00\uff0c\u5355\u5355\u8ba9\u7a0b\u5e8f\u901a\u8fc7\u672a\u514d\u592a\u8349\u7387\u4e86\uff0c\u6211\u4eec\u540e\u7eed\u4f1a\u5c3d\u53ef\u80fd\u5730\u7528\u4e0d\u540c\u7684\u65b9\u5f0f\u53bb\u89e3\u51b3\u76f8\u540c\u7684\u95ee\u9898\uff0c\u8fbe\u5230\u878d\u4f1a\u8d2f\u901a\u7684\u6548\u679c\uff0c\u4e5f\u662f\u5bf9\u81ea\u5df1\u601d\u8def\u7684\u5f00\u62d3\uff0c\u6709\u65f6\u5019\u6216\u8bb8\u80fd\u8fbe\u5230\u66f4\u4f18\u89e3\u3002 \u9012\u5f52\u89e3\u51b3\u65b9\u6848 \u00b6 \u7531\u4e8e\u4e4b\u524d\u7684\u601d\u8def\u5df2\u7ecf\u4ecb\u7ecd\u5f97\u975e\u5e38\u6e05\u695a\u4e86\uff0c\u56e0\u6b64\u5728\u8fd9\u6211\u4eec\u8d34\u4e0a\u4ee3\u7801\uff0c\u5927\u5bb6\u597d\u597d\u4f53\u4f1a\uff1a let reverseList = (head) =>{ let reverse = (pre, cur) => { if(!cur) return pre; // \u4fdd\u5b58 next \u8282\u70b9 let next = cur.next; cur.next = pre; reverse(cur, next); } return reverse(null, head); } No.2 \u533a\u95f4\u53cd\u8f6c \u00b6 \u53cd\u8f6c\u4ece\u4f4d\u7f6e m \u5230 n \u7684\u94fe\u8868\u3002\u8bf7\u4f7f\u7528\u4e00\u8d9f\u626b\u63cf\u5b8c\u6210\u53cd\u8f6c\u3002 \u8bf4\u660e: 1 \u2264 m \u2264 n \u2264 \u94fe\u8868\u957f\u5ea6\u3002 \u793a\u4f8b: \u8f93\u5165: 1->2->3->4->5->NULL, m = 2, n = 4 \u8f93\u51fa: 1->4->3->2->5->NULL \u6765\u6e90: LeetCode \u7b2c 92 \u9898 \u601d\u8def \u00b6 \u8fd9\u4e00\u9898\u76f8\u6bd4\u4e0a\u4e00\u4e2a\u6574\u4e2a\u94fe\u8868\u53cd\u8f6c\u7684\u9898\uff0c\u5176\u5b9e\u662f\u6362\u6c64\u4e0d\u6362\u836f\u3002\u6211\u4eec\u4f9d\u7136\u6709\u4e24\u79cd\u7c7b\u578b\u7684\u89e3\u6cd5\uff1a\u5faa\u73af\u89e3\u6cd5\u548c\u9012\u5f52\u89e3\u6cd5\u3002 \u9700\u8981\u6ce8\u610f\u7684\u95ee\u9898\u5c31\u662f\u524d\u540e\u8282\u70b9\u7684\u4fdd\u5b58(\u6216\u8005\u8bb0\u5f55)\uff0c\u4ec0\u4e48\u610f\u601d\u5462\uff1f\u770b\u8fd9\u5f20\u56fe\u4f60\u5c31\u660e\u767d\u4e86\u3002 \u5173\u4e8e\u524d\u8282\u70b9\u548c\u540e\u8282\u70b9\u7684\u5b9a\u4e49\uff0c\u5927\u5bb6\u5728\u56fe\u4e0a\u5e94\u8be5\u80fd\u770b\u7684\u6bd4\u8f83\u6e05\u695a\u4e86\uff0c\u540e\u9762\u4f1a\u7ecf\u5e38\u7528\u5230\u3002 \u53cd\u8f6c\u64cd\u4f5c\u4e0a\u4e00\u9898\u5df2\u7ecf\u62c6\u89e3\u8fc7\uff0c\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\u53cd\u8f6c\u540e\u7684\u5de5\u4f5c\uff0c\u90a3\u4e48\u5bf9\u4e8e\u6574\u4e2a\u533a\u95f4\u53cd\u8f6c\u540e\u7684\u5de5\u4f5c\uff0c\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u79fb\u82b1\u63a5\u6728\u7684\u8fc7\u7a0b\uff0c\u9996\u5148\u5c06\u524d\u8282\u70b9\u7684 next \u6307\u5411\u533a\u95f4\u7ec8\u70b9\uff0c\u7136\u540e\u5c06\u533a\u95f4\u8d77\u70b9\u7684 next \u6307\u5411\u540e\u8282\u70b9\u3002\u56e0\u6b64\u8fd9\u4e00\u9898\u4e2d\u6709\u56db\u4e2a\u9700\u8981\u91cd\u89c6\u7684\u8282\u70b9: \u524d\u8282\u70b9\u3001\u540e\u8282\u70b9\u3001\u533a\u95f4\u8d77\u70b9\u548c\u533a\u95f4\u7ec8\u70b9\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u5f00\u59cb\u5b9e\u9645\u7684\u7f16\u7801\u64cd\u4f5c\u3002 \u5faa\u73af\u89e3\u6cd5 \u00b6 /** * @param {ListNode} head * @param {number} m * @param {number} n * @return {ListNode} */ var reverseBetween = function(head, m, n) { let count = n - m; let p = dummyHead = new ListNode(); let pre, cur, front, tail; p.next = head; for(let i = 0; i < m - 1; i ++) { p = p.next; } // \u4fdd\u5b58\u524d\u8282\u70b9 front = p; // \u540c\u65f6\u4fdd\u5b58\u533a\u95f4\u9996\u8282\u70b9 pre = tail = p.next; cur = pre.next; // \u533a\u95f4\u53cd\u8f6c for(let i = 0; i < count; i++) { let next = cur.next; cur.next = pre; pre = cur; cur = next; } // \u524d\u8282\u70b9\u7684 next \u6307\u5411\u533a\u95f4\u672b\u5c3e front.next = pre; // \u533a\u95f4\u9996\u8282\u70b9\u7684 next \u6307\u5411\u540e\u8282\u70b9(\u5faa\u73af\u5b8c\u540e\u7684cur\u5c31\u662f\u533a\u95f4\u540e\u9762\u7b2c\u4e00\u4e2a\u8282\u70b9\uff0c\u5373\u540e\u8282\u70b9) tail.next = cur; return dummyHead.next; }; \u9012\u5f52\u89e3\u6cd5 \u00b6 \u5bf9\u4e8e\u9012\u5f52\u89e3\u6cd5\uff0c\u552f\u4e00\u7684\u4e0d\u540c\u5c31\u5728\u4e8e\u5bf9\u4e8e\u533a\u95f4\u7684\u5904\u7406\uff0c\u91c7\u7528\u9012\u5f52\u7a0b\u5e8f\u8fdb\u884c\u5904\u7406\uff0c\u5927\u5bb6\u4e5f\u53ef\u4ee5\u8d81\u7740\u590d\u4e60\u4e00\u4e0b\u9012\u5f52\u53cd\u8f6c\u7684\u5b9e\u73b0\u3002 var reverseBetween = function(head, m, n) { // \u9012\u5f52\u53cd\u8f6c\u51fd\u6570 let reverse = (pre, cur) => { if(!cur) return pre; // \u4fdd\u5b58 next \u8282\u70b9 let next = cur.next; cur.next = pre; return reverse(cur, next); } let p = dummyHead = new ListNode(); dummyHead.next = head; let start, end; //\u533a\u95f4\u9996\u5c3e\u8282\u70b9 let front, tail; //\u524d\u8282\u70b9\u548c\u540e\u8282\u70b9 for(let i = 0; i < m - 1; i++) { p = p.next; } front = p; //\u4fdd\u5b58\u524d\u8282\u70b9 start = front.next; for(let i = m - 1; i < n; i++) { p = p.next; } end = p; tail = end.next; //\u4fdd\u5b58\u540e\u8282\u70b9 end.next = null; // \u5f00\u59cb\u7a7f\u9488\u5f15\u7ebf\u5566\uff0c\u524d\u8282\u70b9\u6307\u5411\u533a\u95f4\u9996\uff0c\u533a\u95f4\u9996\u6307\u5411\u540e\u8282\u70b9 front.next = reverse(null, start); start.next = tail; return dummyHead.next; } No.3 \u4e24\u4e2a\u4e00\u7ec4\u7ffb\u8f6c\u94fe\u8868 \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u94fe\u8868\uff0c\u4e24\u4e24\u4ea4\u6362\u5176\u4e2d\u76f8\u90bb\u7684\u8282\u70b9\uff0c\u5e76\u8fd4\u56de\u4ea4\u6362\u540e\u7684\u94fe\u8868\u3002 \u4f60\u4e0d\u80fd\u53ea\u662f\u5355\u7eaf\u7684\u6539\u53d8\u8282\u70b9\u5185\u90e8\u7684\u503c\uff0c\u800c\u662f\u9700\u8981\u5b9e\u9645\u7684\u8fdb\u884c\u8282\u70b9\u4ea4\u6362\u3002 \u6765\u6e90: LeetCode \u7b2c 24 \u9898 \u793a\u4f8b: \u7ed9\u5b9a 1->2->3->4, \u4f60\u5e94\u8be5\u8fd4\u56de 2->1->4->3. \u601d\u8def \u00b6 \u5982\u56fe\u6240\u793a\uff0c\u6211\u4eec\u9996\u5148\u5efa\u7acb\u4e00\u4e2a\u865a\u62df\u5934\u8282\u70b9(dummyHead)\uff0c\u8f85\u52a9\u6211\u4eec\u5206\u6790\u3002 \u9996\u5148\u8ba9 p \u5904\u5728 dummyHead \u7684\u4f4d\u7f6e\uff0c\u8bb0\u5f55\u4e0b p.next \u548c p.next.next \u7684\u8282\u70b9\uff0c\u4e5f\u5c31\u662f node1 \u548c node2\u3002 \u968f\u540e\u8ba9 node1.next = node2.next, \u6548\u679c: \u7136\u540e\u8ba9 node2.next = node1, \u6548\u679c: \u6700\u540e\uff0cdummyHead.next = node2\uff0c\u672c\u6b21\u7ffb\u8f6c\u5b8c\u6210\u3002\u540c\u65f6 p \u6307\u9488\u6307\u5411node1, \u6548\u679c\u5982\u4e0b\uff1a \u4f9d\u6b64\u5faa\u73af\uff0c\u5982\u679c p.next \u6216\u8005 p.next.next \u4e3a\u7a7a\uff0c\u4e5f\u5c31\u662f\u627e\u4e0d\u5230\u65b0\u7684\u4e00\u7ec4\u8282\u70b9\u4e86\uff0c\u5faa\u73af\u7ed3\u675f\u3002 \u5faa\u73af\u89e3\u51b3 \u00b6 \u601d\u8def\u6e05\u695a\u4e86\uff0c\u5176\u5b9e\u5b9e\u73b0\u8fd8\u662f\u6bd4\u8f83\u5bb9\u6613\u7684\uff0c\u4ee3\u7801\u5982\u4e0b: var swapPairs = function(head) { if(head == null || head.next == null) return head; let dummyHead = p = new ListNode(); let node1, node2; dummyHead.next = head; while((node1 = p.next) && (node2 = p.next.next)) { node1.next = node2.next; node2.next = node1; p.next = node2; p = node1; } return dummyHead.next; }; \u9012\u5f52\u65b9\u5f0f \u00b6 var swapPairs = function(head) { if(head == null || head.next == null) return head; let node1 = head, node2 = head.next; node1.next = swapPairs(node2.next); node2.next = node1; return node2; }; \u5229\u7528\u9012\u5f52\u65b9\u5f0f\u4e4b\u540e\uff0c\u662f\u4e0d\u662f\u611f\u89c9\u4ee3\u7801\u7279\u522b\u7b80\u6d01\uff1f\ud83d\ude03\ud83d\ude03\ud83d\ude03 \u5e0c\u671b\u4f60\u80fd\u597d\u597d\u4f53\u4f1a\u4e00\u4e0b\u9012\u5f52\u8c03\u7528\u7684\u8fc7\u7a0b\uff0c\u76f8\u4fe1\u7406\u89e3\u4e4b\u540e\u5bf9\u81ea\u5df1\u662f\u4e00\u4e2a\u5f88\u5927\u7684\u63d0\u5347\u3002 No.4 K\u4e2a\u4e00\u7ec4\u7ffb\u8f6c\u94fe\u8868 \u00b6 \u7ed9\u4f60\u4e00\u4e2a\u94fe\u8868\uff0c\u6bcf k \u4e2a\u8282\u70b9\u4e00\u7ec4\u8fdb\u884c\u7ffb\u8f6c\uff0c\u8bf7\u4f60\u8fd4\u56de\u7ffb\u8f6c\u540e\u7684\u94fe\u8868\u3002 k \u662f\u4e00\u4e2a\u6b63\u6574\u6570\uff0c\u5b83\u7684\u503c\u5c0f\u4e8e\u6216\u7b49\u4e8e\u94fe\u8868\u7684\u957f\u5ea6\u3002 \u5982\u679c\u8282\u70b9\u603b\u6570\u4e0d\u662f k \u7684\u6574\u6570\u500d\uff0c\u90a3\u4e48\u8bf7\u5c06\u6700\u540e\u5269\u4f59\u7684\u8282\u70b9\u4fdd\u6301\u539f\u6709\u987a\u5e8f\u3002 \u793a\u4f8b : \u7ed9\u5b9a\u8fd9\u4e2a\u94fe\u8868\uff1a1->2->3->4->5 \u5f53 k = 2 \u65f6\uff0c\u5e94\u5f53\u8fd4\u56de: 2->1->4->3->5 \u5f53 k = 3 \u65f6\uff0c\u5e94\u5f53\u8fd4\u56de: 3->2->1->4->5 \u8bf4\u660e : \u4f60\u7684\u7b97\u6cd5\u53ea\u80fd\u4f7f\u7528\u5e38\u6570\u7684\u989d\u5916\u7a7a\u95f4\u3002 \u4f60\u4e0d\u80fd\u53ea\u662f\u5355\u7eaf\u7684\u6539\u53d8\u8282\u70b9\u5185\u90e8\u7684\u503c\uff0c\u800c\u662f\u9700\u8981\u5b9e\u9645\u7684\u8fdb\u884c\u8282\u70b9\u4ea4\u6362\u3002 \u6765\u6e90: LeetCode \u7b2c 25 \u9898 \u601d\u8def \u00b6 \u601d\u8def\u7c7b\u4f3cNo.3\u4e2d\u7684\u4e24\u4e2a\u4e00\u7ec4\u7ffb\u8f6c\u3002\u552f\u4e00\u7684\u4e0d\u540c\u5728\u4e8e\u4e24\u4e2a\u4e00\u7ec4\u7684\u60c5\u51b5\u4e0b\u6bcf\u4e00\u7ec4\u53ea\u9700\u8981\u53cd\u8f6c\u4e24\u4e2a\u8282\u70b9\uff0c\u800c\u5728 K \u4e2a\u4e00\u7ec4\u7684\u60c5\u51b5\u4e0b\u5bf9\u5e94\u7684\u64cd\u4f5c\u662f\u5c06 K \u4e2a\u5143\u7d20\u7684\u94fe\u8868\u8fdb\u884c\u53cd\u8f6c\u3002 \u9012\u5f52\u89e3\u6cd5 \u00b6 \u8fd9\u4e00\u9898\u6211\u89c9\u5f97\u9012\u5f52\u7684\u89e3\u6cd5\u66f4\u5bb9\u6613\u7406\u89e3\uff0c\u56e0\u6b64\uff0c\u5148\u8d34\u4e0a\u9012\u5f52\u65b9\u6cd5\u7684\u4ee3\u7801\u3002 \u63d0\u9192 \u4ee5\u4e0b\u4ee3\u7801\u7684\u6ce8\u91ca\u4e2d\u9996\u8282\u70b9\u3001\u5c3e\u7ed3\u70b9\u7b49\u6982\u5ff5\u90fd\u662f\u9488\u5bf9\u53cd\u8f6c\u524d\u7684\u94fe\u8868\u800c\u8a00\u7684\u3002 /** * @param {ListNode} head * @param {number} k * @return {ListNode} */ var reverseKGroup = function(head, k) { let pre = null, cur = head; let p = head; // \u4e0b\u9762\u7684\u5faa\u73af\u7528\u6765\u68c0\u67e5\u540e\u9762\u7684\u5143\u7d20\u662f\u5426\u80fd\u7ec4\u6210\u4e00\u7ec4 for(let i = 0; i < k; i++) { if(p == null) return head; p = p.next; } for(let i = 0; i < k; i++){ let next = cur.next; cur.next = pre; pre = cur; cur = next; } // pre\u4e3a\u672c\u7ec4\u6700\u540e\u4e00\u4e2a\u8282\u70b9\uff0ccur\u4e3a\u4e0b\u4e00\u7ec4\u7684\u8d77\u70b9 head.next = reverseKGroup(cur, k); return pre; }; \u5faa\u73af\u89e3\u6cd5 \u00b6 \u91cd\u70b9\u90fd\u653e\u5728\u6ce8\u91ca\u91cc\u9762\u4e86\u3002 var reverseKGroup = function(head, k) { let count = 0; // \u770b\u662f\u5426\u80fd\u6784\u6210\u4e00\u7ec4\uff0c\u540c\u65f6\u7edf\u8ba1\u94fe\u8868\u5143\u7d20\u4e2a\u6570 for(let p = head; p != null; p = p.next) { if(p == null && i < k) return head; count++; } let loopCount = Math.floor(count / k); let p = dummyHead = new ListNode(); dummyHead.next = head; // \u5206\u6210\u4e86 loopCount \u7ec4\uff0c\u5bf9\u6bcf\u4e00\u4e2a\u7ec4\u8fdb\u884c\u53cd\u8f6c for(let i = 0; i < loopCount; i++) { let pre = null, cur = p.next; for(let j = 0; j < k; j++) { let next = cur.next; cur.next = pre; pre = cur; cur = next; } // \u5f53\u524d pre \u4e3a\u8be5\u7ec4\u7684\u5c3e\u7ed3\u70b9\uff0ccur \u4e3a\u4e0b\u4e00\u7ec4\u9996\u8282\u70b9 let start = p.next;// start \u662f\u8be5\u7ec4\u9996\u8282\u70b9 // \u5f00\u59cb\u7a7f\u9488\u5f15\u7ebf\uff01\u601d\u8def\u548c2\u4e2a\u4e00\u7ec4\u7684\u60c5\u51b5\u4e00\u6a21\u4e00\u6837 p.next = pre; start.next = cur; p = start; } return dummyHead.next; };","title":"01-\u53cd\u8f6c\u94fe\u8868.md"},{"location":"algre/01-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/#_1","text":"\u53cd\u8f6c\u94fe\u8868\u8fd9\u91cc\u4e00\u5171\u6709\u4e09\u4e2a\u9898\u76ee\u4f9b\u5927\u5bb6\u8bad\u7ec3\u3002\u5206\u522b\u662f\u539f\u5730\u5355\u94fe\u8868\u7684\u53cd\u8f6c\u3001\u4e24\u4e2a\u4e00\u7ec4\u53cd\u8f6c\u94fe\u8868\u548cK\u4e2a\u4e00\u7ec4\u53cd\u8f6c\u94fe\u8868\uff0c\u96be\u5ea6\u7531\u9636\u68af\u5f0f\u4e0a\u5347\u3002 \u800c\u5728\u9762\u8bd5\u5f53\u4e2d\u51e1\u662f\u9047\u5230\u94fe\u8868\uff0c\u53cd\u8f6c\u7c7b\u7684\u9898\u76ee\u51fa\u73b0\u7684\u9891\u7387\u4e5f\u662f\u6570\u4e00\u6570\u4e8c\u7684\uff0c\u56e0\u6b64\u628a\u5b83\u5f53\u505a\u94fe\u8868\u5f00\u7bc7\u7684\u8bad\u7ec3\u7c7b\u578b\u3002","title":"\u53cd\u8f6c\u94fe\u8868"},{"location":"algre/01-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/#no1","text":"\u53cd\u8f6c\u4e00\u4e2a\u5355\u94fe\u8868\u3002 \u793a\u4f8b: \u8f93\u5165: 1->2->3->4->5->NULL \u8f93\u51fa: 5->4->3->2->1->NULL \u6765\u6e90: LeetCode \u7b2c 206 \u9898","title":"No.1 \u7b80\u5355\u7684\u53cd\u8f6c\u94fe\u8868"},{"location":"algre/01-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/#_2","text":"\u8fd9\u9053\u9898\u662f\u94fe\u8868\u4e2d\u7684\u7ecf\u5178\u9898\u76ee\uff0c\u5145\u5206\u4f53\u73b0\u94fe\u8868\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\u64cd\u4f5c\u601d\u8def\u7b80\u5355, \u4f46\u662f\u5b9e\u73b0\u4e0a\u5e76\u6ca1\u6709\u90a3\u4e48\u7b80\u5355\u7684\u7279\u70b9\u3002 \u90a3\u5728\u5b9e\u73b0\u4e0a\u5e94\u8be5\u6ce8\u610f\u4e00\u4e9b\u4ec0\u4e48\u95ee\u9898\u5462\uff1f \u4fdd\u5b58\u540e\u7eed\u8282\u70b9\u3002\u4f5c\u4e3a\u65b0\u624b\u6765\u8bf4\uff0c\u5f88\u5bb9\u6613\u5c06\u5f53\u524d\u8282\u70b9\u7684 next\u6307\u9488\u76f4\u63a5\u6307\u5411\u524d\u4e00\u4e2a\u8282\u70b9\uff0c\u4f46\u5176\u5b9e\u5f53\u524d\u8282\u70b9\u4e0b\u4e00\u4e2a\u8282\u70b9\u7684\u6307\u9488\u4e5f\u5c31\u4e22\u5931\u4e86\u3002\u56e0\u6b64\uff0c\u9700\u8981\u5728\u904d\u5386\u7684\u8fc7\u7a0b\u5f53\u4e2d\uff0c\u5148\u5c06\u4e0b\u4e00\u4e2a\u8282\u70b9\u4fdd\u5b58\uff0c\u7136\u540e\u518d\u64cd\u4f5cnext\u6307\u5411\u3002 \u94fe\u8868\u7ed3\u6784\u58f0\u5b9a\u4e49\u5982\u4e0b: function ListNode ( val ) { this . val = val ; this . next = null ; } \u5b9e\u73b0\u5982\u4e0b: let reverseList = ( head ) => { if ( ! head ) { return null ; } let pre = null , cur = head ; while ( cur ) { // \u5173\u952e: \u4fdd\u5b58\u4e0b\u4e00\u4e2a\u8282\u70b9\u7684\u503c let next = cur . next ; cur . next = pre ; pre = cur ; cur = next ; } return pre ; }; \u7531\u4e8e\u903b\u8f91\u6bd4\u8f83\u7b80\u5355\uff0c\u4ee3\u7801\u76f4\u63a5\u4e00\u6c14\u5475\u6210\u3002\u4e0d\u8fc7\u4ec5\u4ec5\u5199\u5b8c\u8fd8\u4e0d\u591f\uff0c\u5bf9\u4e8e\u94fe\u8868\u95ee\u9898\uff0c\u8fb9\u754c\u68c0\u67e5\u7684\u4e60\u60ef\u80fd\u5e2e\u52a9\u6211\u4eec\u8fdb\u4e00\u6b65\u4fdd\u8bc1\u4ee3\u7801\u7684\u8d28\u91cf\u3002\u5177\u4f53\u6765\u8bf4: \u5f53 head \u8282\u70b9\u4e3a\u7a7a\u65f6\uff0c\u6211\u4eec\u5df2\u7ecf\u5904\u7406\uff0c\u901a\u8fc7\u2705 \u5f53\u94fe\u8868\u53ea\u5305\u542b\u4e00\u4e2a\u8282\u70b9\u65f6, \u6b64\u65f6\u6211\u4eec\u5e0c\u671b\u76f4\u63a5\u8fd4\u56de\u8fd9\u4e2a\u8282\u70b9\uff0c\u5bf9\u4e0a\u8ff0\u4ee3\u7801\u800c\u8a00\uff0c\u8fdb\u5165\u5faa\u73af\u540e pre \u88ab\u8d4b\u503c\u4e3acur\uff0c\u4e5f\u5c31\u662fhead\uff0c\u6ca1\u6bdb\u75c5\uff0c\u901a\u8fc7\u2705 \u8fd0\u884c\u5728 LeetCode, \u6210\u529f AC \u270c \u4f46\u4f5c\u4e3a\u7cfb\u7edf\u6027\u7684\u8bad\u7ec3\u800c\u8a00\uff0c\u5355\u5355\u8ba9\u7a0b\u5e8f\u901a\u8fc7\u672a\u514d\u592a\u8349\u7387\u4e86\uff0c\u6211\u4eec\u540e\u7eed\u4f1a\u5c3d\u53ef\u80fd\u5730\u7528\u4e0d\u540c\u7684\u65b9\u5f0f\u53bb\u89e3\u51b3\u76f8\u540c\u7684\u95ee\u9898\uff0c\u8fbe\u5230\u878d\u4f1a\u8d2f\u901a\u7684\u6548\u679c\uff0c\u4e5f\u662f\u5bf9\u81ea\u5df1\u601d\u8def\u7684\u5f00\u62d3\uff0c\u6709\u65f6\u5019\u6216\u8bb8\u80fd\u8fbe\u5230\u66f4\u4f18\u89e3\u3002","title":"\u5faa\u73af\u89e3\u51b3\u65b9\u6848"},{"location":"algre/01-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/#_3","text":"\u7531\u4e8e\u4e4b\u524d\u7684\u601d\u8def\u5df2\u7ecf\u4ecb\u7ecd\u5f97\u975e\u5e38\u6e05\u695a\u4e86\uff0c\u56e0\u6b64\u5728\u8fd9\u6211\u4eec\u8d34\u4e0a\u4ee3\u7801\uff0c\u5927\u5bb6\u597d\u597d\u4f53\u4f1a\uff1a let reverseList = (head) =>{ let reverse = (pre, cur) => { if(!cur) return pre; // \u4fdd\u5b58 next \u8282\u70b9 let next = cur.next; cur.next = pre; reverse(cur, next); } return reverse(null, head); }","title":"\u9012\u5f52\u89e3\u51b3\u65b9\u6848"},{"location":"algre/01-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/#no2","text":"\u53cd\u8f6c\u4ece\u4f4d\u7f6e m \u5230 n \u7684\u94fe\u8868\u3002\u8bf7\u4f7f\u7528\u4e00\u8d9f\u626b\u63cf\u5b8c\u6210\u53cd\u8f6c\u3002 \u8bf4\u660e: 1 \u2264 m \u2264 n \u2264 \u94fe\u8868\u957f\u5ea6\u3002 \u793a\u4f8b: \u8f93\u5165: 1->2->3->4->5->NULL, m = 2, n = 4 \u8f93\u51fa: 1->4->3->2->5->NULL \u6765\u6e90: LeetCode \u7b2c 92 \u9898","title":"No.2 \u533a\u95f4\u53cd\u8f6c"},{"location":"algre/01-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/#_4","text":"\u8fd9\u4e00\u9898\u76f8\u6bd4\u4e0a\u4e00\u4e2a\u6574\u4e2a\u94fe\u8868\u53cd\u8f6c\u7684\u9898\uff0c\u5176\u5b9e\u662f\u6362\u6c64\u4e0d\u6362\u836f\u3002\u6211\u4eec\u4f9d\u7136\u6709\u4e24\u79cd\u7c7b\u578b\u7684\u89e3\u6cd5\uff1a\u5faa\u73af\u89e3\u6cd5\u548c\u9012\u5f52\u89e3\u6cd5\u3002 \u9700\u8981\u6ce8\u610f\u7684\u95ee\u9898\u5c31\u662f\u524d\u540e\u8282\u70b9\u7684\u4fdd\u5b58(\u6216\u8005\u8bb0\u5f55)\uff0c\u4ec0\u4e48\u610f\u601d\u5462\uff1f\u770b\u8fd9\u5f20\u56fe\u4f60\u5c31\u660e\u767d\u4e86\u3002 \u5173\u4e8e\u524d\u8282\u70b9\u548c\u540e\u8282\u70b9\u7684\u5b9a\u4e49\uff0c\u5927\u5bb6\u5728\u56fe\u4e0a\u5e94\u8be5\u80fd\u770b\u7684\u6bd4\u8f83\u6e05\u695a\u4e86\uff0c\u540e\u9762\u4f1a\u7ecf\u5e38\u7528\u5230\u3002 \u53cd\u8f6c\u64cd\u4f5c\u4e0a\u4e00\u9898\u5df2\u7ecf\u62c6\u89e3\u8fc7\uff0c\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\u53cd\u8f6c\u540e\u7684\u5de5\u4f5c\uff0c\u90a3\u4e48\u5bf9\u4e8e\u6574\u4e2a\u533a\u95f4\u53cd\u8f6c\u540e\u7684\u5de5\u4f5c\uff0c\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u79fb\u82b1\u63a5\u6728\u7684\u8fc7\u7a0b\uff0c\u9996\u5148\u5c06\u524d\u8282\u70b9\u7684 next \u6307\u5411\u533a\u95f4\u7ec8\u70b9\uff0c\u7136\u540e\u5c06\u533a\u95f4\u8d77\u70b9\u7684 next \u6307\u5411\u540e\u8282\u70b9\u3002\u56e0\u6b64\u8fd9\u4e00\u9898\u4e2d\u6709\u56db\u4e2a\u9700\u8981\u91cd\u89c6\u7684\u8282\u70b9: \u524d\u8282\u70b9\u3001\u540e\u8282\u70b9\u3001\u533a\u95f4\u8d77\u70b9\u548c\u533a\u95f4\u7ec8\u70b9\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u5f00\u59cb\u5b9e\u9645\u7684\u7f16\u7801\u64cd\u4f5c\u3002","title":"\u601d\u8def"},{"location":"algre/01-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/#_5","text":"/** * @param {ListNode} head * @param {number} m * @param {number} n * @return {ListNode} */ var reverseBetween = function(head, m, n) { let count = n - m; let p = dummyHead = new ListNode(); let pre, cur, front, tail; p.next = head; for(let i = 0; i < m - 1; i ++) { p = p.next; } // \u4fdd\u5b58\u524d\u8282\u70b9 front = p; // \u540c\u65f6\u4fdd\u5b58\u533a\u95f4\u9996\u8282\u70b9 pre = tail = p.next; cur = pre.next; // \u533a\u95f4\u53cd\u8f6c for(let i = 0; i < count; i++) { let next = cur.next; cur.next = pre; pre = cur; cur = next; } // \u524d\u8282\u70b9\u7684 next \u6307\u5411\u533a\u95f4\u672b\u5c3e front.next = pre; // \u533a\u95f4\u9996\u8282\u70b9\u7684 next \u6307\u5411\u540e\u8282\u70b9(\u5faa\u73af\u5b8c\u540e\u7684cur\u5c31\u662f\u533a\u95f4\u540e\u9762\u7b2c\u4e00\u4e2a\u8282\u70b9\uff0c\u5373\u540e\u8282\u70b9) tail.next = cur; return dummyHead.next; };","title":"\u5faa\u73af\u89e3\u6cd5"},{"location":"algre/01-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/#_6","text":"\u5bf9\u4e8e\u9012\u5f52\u89e3\u6cd5\uff0c\u552f\u4e00\u7684\u4e0d\u540c\u5c31\u5728\u4e8e\u5bf9\u4e8e\u533a\u95f4\u7684\u5904\u7406\uff0c\u91c7\u7528\u9012\u5f52\u7a0b\u5e8f\u8fdb\u884c\u5904\u7406\uff0c\u5927\u5bb6\u4e5f\u53ef\u4ee5\u8d81\u7740\u590d\u4e60\u4e00\u4e0b\u9012\u5f52\u53cd\u8f6c\u7684\u5b9e\u73b0\u3002 var reverseBetween = function(head, m, n) { // \u9012\u5f52\u53cd\u8f6c\u51fd\u6570 let reverse = (pre, cur) => { if(!cur) return pre; // \u4fdd\u5b58 next \u8282\u70b9 let next = cur.next; cur.next = pre; return reverse(cur, next); } let p = dummyHead = new ListNode(); dummyHead.next = head; let start, end; //\u533a\u95f4\u9996\u5c3e\u8282\u70b9 let front, tail; //\u524d\u8282\u70b9\u548c\u540e\u8282\u70b9 for(let i = 0; i < m - 1; i++) { p = p.next; } front = p; //\u4fdd\u5b58\u524d\u8282\u70b9 start = front.next; for(let i = m - 1; i < n; i++) { p = p.next; } end = p; tail = end.next; //\u4fdd\u5b58\u540e\u8282\u70b9 end.next = null; // \u5f00\u59cb\u7a7f\u9488\u5f15\u7ebf\u5566\uff0c\u524d\u8282\u70b9\u6307\u5411\u533a\u95f4\u9996\uff0c\u533a\u95f4\u9996\u6307\u5411\u540e\u8282\u70b9 front.next = reverse(null, start); start.next = tail; return dummyHead.next; }","title":"\u9012\u5f52\u89e3\u6cd5"},{"location":"algre/01-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/#no3","text":"\u7ed9\u5b9a\u4e00\u4e2a\u94fe\u8868\uff0c\u4e24\u4e24\u4ea4\u6362\u5176\u4e2d\u76f8\u90bb\u7684\u8282\u70b9\uff0c\u5e76\u8fd4\u56de\u4ea4\u6362\u540e\u7684\u94fe\u8868\u3002 \u4f60\u4e0d\u80fd\u53ea\u662f\u5355\u7eaf\u7684\u6539\u53d8\u8282\u70b9\u5185\u90e8\u7684\u503c\uff0c\u800c\u662f\u9700\u8981\u5b9e\u9645\u7684\u8fdb\u884c\u8282\u70b9\u4ea4\u6362\u3002 \u6765\u6e90: LeetCode \u7b2c 24 \u9898 \u793a\u4f8b: \u7ed9\u5b9a 1->2->3->4, \u4f60\u5e94\u8be5\u8fd4\u56de 2->1->4->3.","title":"No.3 \u4e24\u4e2a\u4e00\u7ec4\u7ffb\u8f6c\u94fe\u8868"},{"location":"algre/01-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/#_7","text":"\u5982\u56fe\u6240\u793a\uff0c\u6211\u4eec\u9996\u5148\u5efa\u7acb\u4e00\u4e2a\u865a\u62df\u5934\u8282\u70b9(dummyHead)\uff0c\u8f85\u52a9\u6211\u4eec\u5206\u6790\u3002 \u9996\u5148\u8ba9 p \u5904\u5728 dummyHead \u7684\u4f4d\u7f6e\uff0c\u8bb0\u5f55\u4e0b p.next \u548c p.next.next \u7684\u8282\u70b9\uff0c\u4e5f\u5c31\u662f node1 \u548c node2\u3002 \u968f\u540e\u8ba9 node1.next = node2.next, \u6548\u679c: \u7136\u540e\u8ba9 node2.next = node1, \u6548\u679c: \u6700\u540e\uff0cdummyHead.next = node2\uff0c\u672c\u6b21\u7ffb\u8f6c\u5b8c\u6210\u3002\u540c\u65f6 p \u6307\u9488\u6307\u5411node1, \u6548\u679c\u5982\u4e0b\uff1a \u4f9d\u6b64\u5faa\u73af\uff0c\u5982\u679c p.next \u6216\u8005 p.next.next \u4e3a\u7a7a\uff0c\u4e5f\u5c31\u662f\u627e\u4e0d\u5230\u65b0\u7684\u4e00\u7ec4\u8282\u70b9\u4e86\uff0c\u5faa\u73af\u7ed3\u675f\u3002","title":"\u601d\u8def"},{"location":"algre/01-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/#_8","text":"\u601d\u8def\u6e05\u695a\u4e86\uff0c\u5176\u5b9e\u5b9e\u73b0\u8fd8\u662f\u6bd4\u8f83\u5bb9\u6613\u7684\uff0c\u4ee3\u7801\u5982\u4e0b: var swapPairs = function(head) { if(head == null || head.next == null) return head; let dummyHead = p = new ListNode(); let node1, node2; dummyHead.next = head; while((node1 = p.next) && (node2 = p.next.next)) { node1.next = node2.next; node2.next = node1; p.next = node2; p = node1; } return dummyHead.next; };","title":"\u5faa\u73af\u89e3\u51b3"},{"location":"algre/01-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/#_9","text":"var swapPairs = function(head) { if(head == null || head.next == null) return head; let node1 = head, node2 = head.next; node1.next = swapPairs(node2.next); node2.next = node1; return node2; }; \u5229\u7528\u9012\u5f52\u65b9\u5f0f\u4e4b\u540e\uff0c\u662f\u4e0d\u662f\u611f\u89c9\u4ee3\u7801\u7279\u522b\u7b80\u6d01\uff1f\ud83d\ude03\ud83d\ude03\ud83d\ude03 \u5e0c\u671b\u4f60\u80fd\u597d\u597d\u4f53\u4f1a\u4e00\u4e0b\u9012\u5f52\u8c03\u7528\u7684\u8fc7\u7a0b\uff0c\u76f8\u4fe1\u7406\u89e3\u4e4b\u540e\u5bf9\u81ea\u5df1\u662f\u4e00\u4e2a\u5f88\u5927\u7684\u63d0\u5347\u3002","title":"\u9012\u5f52\u65b9\u5f0f"},{"location":"algre/01-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/#no4-k","text":"\u7ed9\u4f60\u4e00\u4e2a\u94fe\u8868\uff0c\u6bcf k \u4e2a\u8282\u70b9\u4e00\u7ec4\u8fdb\u884c\u7ffb\u8f6c\uff0c\u8bf7\u4f60\u8fd4\u56de\u7ffb\u8f6c\u540e\u7684\u94fe\u8868\u3002 k \u662f\u4e00\u4e2a\u6b63\u6574\u6570\uff0c\u5b83\u7684\u503c\u5c0f\u4e8e\u6216\u7b49\u4e8e\u94fe\u8868\u7684\u957f\u5ea6\u3002 \u5982\u679c\u8282\u70b9\u603b\u6570\u4e0d\u662f k \u7684\u6574\u6570\u500d\uff0c\u90a3\u4e48\u8bf7\u5c06\u6700\u540e\u5269\u4f59\u7684\u8282\u70b9\u4fdd\u6301\u539f\u6709\u987a\u5e8f\u3002 \u793a\u4f8b : \u7ed9\u5b9a\u8fd9\u4e2a\u94fe\u8868\uff1a1->2->3->4->5 \u5f53 k = 2 \u65f6\uff0c\u5e94\u5f53\u8fd4\u56de: 2->1->4->3->5 \u5f53 k = 3 \u65f6\uff0c\u5e94\u5f53\u8fd4\u56de: 3->2->1->4->5 \u8bf4\u660e : \u4f60\u7684\u7b97\u6cd5\u53ea\u80fd\u4f7f\u7528\u5e38\u6570\u7684\u989d\u5916\u7a7a\u95f4\u3002 \u4f60\u4e0d\u80fd\u53ea\u662f\u5355\u7eaf\u7684\u6539\u53d8\u8282\u70b9\u5185\u90e8\u7684\u503c\uff0c\u800c\u662f\u9700\u8981\u5b9e\u9645\u7684\u8fdb\u884c\u8282\u70b9\u4ea4\u6362\u3002 \u6765\u6e90: LeetCode \u7b2c 25 \u9898","title":"No.4 K\u4e2a\u4e00\u7ec4\u7ffb\u8f6c\u94fe\u8868"},{"location":"algre/01-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/#_10","text":"\u601d\u8def\u7c7b\u4f3cNo.3\u4e2d\u7684\u4e24\u4e2a\u4e00\u7ec4\u7ffb\u8f6c\u3002\u552f\u4e00\u7684\u4e0d\u540c\u5728\u4e8e\u4e24\u4e2a\u4e00\u7ec4\u7684\u60c5\u51b5\u4e0b\u6bcf\u4e00\u7ec4\u53ea\u9700\u8981\u53cd\u8f6c\u4e24\u4e2a\u8282\u70b9\uff0c\u800c\u5728 K \u4e2a\u4e00\u7ec4\u7684\u60c5\u51b5\u4e0b\u5bf9\u5e94\u7684\u64cd\u4f5c\u662f\u5c06 K \u4e2a\u5143\u7d20\u7684\u94fe\u8868\u8fdb\u884c\u53cd\u8f6c\u3002","title":"\u601d\u8def"},{"location":"algre/01-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/#_11","text":"\u8fd9\u4e00\u9898\u6211\u89c9\u5f97\u9012\u5f52\u7684\u89e3\u6cd5\u66f4\u5bb9\u6613\u7406\u89e3\uff0c\u56e0\u6b64\uff0c\u5148\u8d34\u4e0a\u9012\u5f52\u65b9\u6cd5\u7684\u4ee3\u7801\u3002 \u63d0\u9192 \u4ee5\u4e0b\u4ee3\u7801\u7684\u6ce8\u91ca\u4e2d\u9996\u8282\u70b9\u3001\u5c3e\u7ed3\u70b9\u7b49\u6982\u5ff5\u90fd\u662f\u9488\u5bf9\u53cd\u8f6c\u524d\u7684\u94fe\u8868\u800c\u8a00\u7684\u3002 /** * @param {ListNode} head * @param {number} k * @return {ListNode} */ var reverseKGroup = function(head, k) { let pre = null, cur = head; let p = head; // \u4e0b\u9762\u7684\u5faa\u73af\u7528\u6765\u68c0\u67e5\u540e\u9762\u7684\u5143\u7d20\u662f\u5426\u80fd\u7ec4\u6210\u4e00\u7ec4 for(let i = 0; i < k; i++) { if(p == null) return head; p = p.next; } for(let i = 0; i < k; i++){ let next = cur.next; cur.next = pre; pre = cur; cur = next; } // pre\u4e3a\u672c\u7ec4\u6700\u540e\u4e00\u4e2a\u8282\u70b9\uff0ccur\u4e3a\u4e0b\u4e00\u7ec4\u7684\u8d77\u70b9 head.next = reverseKGroup(cur, k); return pre; };","title":"\u9012\u5f52\u89e3\u6cd5"},{"location":"algre/01-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/#_12","text":"\u91cd\u70b9\u90fd\u653e\u5728\u6ce8\u91ca\u91cc\u9762\u4e86\u3002 var reverseKGroup = function(head, k) { let count = 0; // \u770b\u662f\u5426\u80fd\u6784\u6210\u4e00\u7ec4\uff0c\u540c\u65f6\u7edf\u8ba1\u94fe\u8868\u5143\u7d20\u4e2a\u6570 for(let p = head; p != null; p = p.next) { if(p == null && i < k) return head; count++; } let loopCount = Math.floor(count / k); let p = dummyHead = new ListNode(); dummyHead.next = head; // \u5206\u6210\u4e86 loopCount \u7ec4\uff0c\u5bf9\u6bcf\u4e00\u4e2a\u7ec4\u8fdb\u884c\u53cd\u8f6c for(let i = 0; i < loopCount; i++) { let pre = null, cur = p.next; for(let j = 0; j < k; j++) { let next = cur.next; cur.next = pre; pre = cur; cur = next; } // \u5f53\u524d pre \u4e3a\u8be5\u7ec4\u7684\u5c3e\u7ed3\u70b9\uff0ccur \u4e3a\u4e0b\u4e00\u7ec4\u9996\u8282\u70b9 let start = p.next;// start \u662f\u8be5\u7ec4\u9996\u8282\u70b9 // \u5f00\u59cb\u7a7f\u9488\u5f15\u7ebf\uff01\u601d\u8def\u548c2\u4e2a\u4e00\u7ec4\u7684\u60c5\u51b5\u4e00\u6a21\u4e00\u6837 p.next = pre; start.next = cur; p = start; } return dummyHead.next; };","title":"\u5faa\u73af\u89e3\u6cd5"},{"location":"algre/02-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8/","text":"\u73af\u5f62\u94fe\u8868 \u00b6 No.1 \u5982\u4f55\u68c0\u6d4b\u94fe\u8868\u5f62\u6210\u73af\uff1f \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u94fe\u8868\uff0c\u5224\u65ad\u94fe\u8868\u4e2d\u662f\u5426\u5f62\u6210\u73af\u3002 \u601d\u8def \u00b6 \u601d\u8def\u4e00: \u5faa\u73af\u4e00\u904d\uff0c\u7528 Set \u6570\u636e\u7ed3\u6784\u4fdd\u5b58\u8282\u70b9\uff0c\u5229\u7528\u8282\u70b9\u7684\u5185\u5b58\u5730\u5740\u6765\u8fdb\u884c\u5224\u91cd\uff0c\u5982\u679c\u540c\u6837\u7684\u8282\u70b9\u8d70\u8fc7\u4e24\u6b21\uff0c\u5219\u8868\u660e\u5df2\u7ecf\u5f62\u6210\u4e86\u73af\u3002 \u601d\u8def\u4e8c: \u5229\u7528\u5feb\u6162\u6307\u9488\uff0c\u5feb\u6307\u9488\u4e00\u6b21\u8d70\u4e24\u6b65\uff0c\u6162\u6307\u9488\u4e00\u6b21\u8d70\u4e00\u6b65\uff0c\u5982\u679c\u4e24\u8005\u76f8\u9047\uff0c\u5219\u8868\u660e\u5df2\u7ecf\u5f62\u6210\u4e86\u73af\u3002 \u53ef\u80fd\u4f60\u4f1a\u7eb3\u95f7\uff0c\u4e3a\u4ec0\u4e48\u601d\u8def\u4e8c\u7528\u4e24\u4e2a\u6307\u9488\u5728\u73af\u4e2d\u4e00\u5b9a\u4f1a\u76f8\u9047\u5462\uff1f \u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u5982\u679c\u6709\u73af\uff0c\u4e24\u8005\u4e00\u5b9a\u540c\u65f6\u8d70\u5230\u73af\u4e2d\uff0c\u90a3\u4e48\u5728\u73af\u4e2d\uff0c\u9009\u6162\u6307\u9488\u4e3a\u53c2\u8003\u7cfb\uff0c\u5feb\u6307\u9488\u6bcf\u6b21\u76f8\u5bf9\u53c2\u8003\u7cfb\u5411\u524d\u8d70\u4e00\u6b65\uff0c\u7ec8\u7a76\u4f1a\u7ed5\u56de\u539f\u70b9\uff0c\u4e5f\u5c31\u662f\u56de\u5230\u6162\u6307\u9488\u7684\u4f4d\u7f6e\uff0c\u4ece\u800c\u8ba9\u4e24\u8005\u76f8\u9047\u3002\u5982\u679c\u6ca1\u6709\u73af\uff0c\u5219\u4e24\u8005\u7684\u76f8\u5bf9\u8ddd\u79bb\u8d8a\u6765\u8d8a\u8fdc\uff0c\u6c38\u8fdc\u4e0d\u4f1a\u76f8\u9047\u3002 \u63a5\u4e0b\u6765\u6211\u4eec\u6765\u7f16\u7a0b\u5b9e\u73b0\u3002 \u65b9\u6cd5\u4e00: Set \u5224\u91cd \u00b6 /** * @param {ListNode} head * @return {boolean} */ var hasCycle = (head) => { let set = new Set(); let p = head; while(p) { // \u540c\u4e00\u4e2a\u8282\u70b9\u518d\u6b21\u78b0\u5230\uff0c\u8868\u793a\u6709\u73af if(set.has(p)) return true; set.add(p); p = p.next; } return false; } \u65b9\u6cd5\u4e8c: \u5feb\u6162\u6307\u9488 \u00b6 var hasCycle = function(head) { let dummyHead = new ListNode(); dummyHead.next = head; let fast = slow = dummyHead; // \u96f6\u4e2a\u7ed3\u70b9\u6216\u8005\u4e00\u4e2a\u7ed3\u70b9\uff0c\u80af\u5b9a\u65e0\u73af if(fast.next == null || fast.next.next == null) return false; while(fast && fast.next) { fast = fast.next.next; slow = slow.next; // \u4e24\u8005\u76f8\u9047\u4e86 if(fast == slow) { return true; } } return false; }; No.2 \u5982\u4f55\u627e\u5230\u73af\u7684\u8d77\u70b9 \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u94fe\u8868\uff0c\u8fd4\u56de\u94fe\u8868\u5f00\u59cb\u5165\u73af\u7684\u7b2c\u4e00\u4e2a\u8282\u70b9\u3002 \u5982\u679c\u94fe\u8868\u65e0\u73af\uff0c\u5219\u8fd4\u56de null\u3002 \u8bf4\u660e\uff1a\u4e0d\u5141\u8bb8\u4fee\u6539\u7ed9\u5b9a\u7684\u94fe\u8868\u3002 \u601d\u8def\u5206\u6790 \u00b6 \u521a\u521a\u5df2\u7ecf\u5224\u65ad\u4e86\u5982\u4f55\u5224\u65ad\u51fa\u73b0\u73af\uff0c\u90a3\u5982\u4f55\u627e\u5230\u73af\u7684\u8282\u70b9\u5462\uff1f\u6211\u4eec\u6765\u5206\u6790\u4e00\u6ce2\u3002 \u770b\u4e0a\u53bb\u6bd4\u8f83\u7e41\u7410\uff0c\u6211\u4eec\u628a\u5b83\u505a\u8fdb\u4e00\u6b65\u7684\u62bd\u8c61: \u8bbe\u5feb\u6162\u6307\u9488\u8d70\u4e86x\u79d2\uff0c\u6162\u6307\u9488\u4e00\u79d2\u8d70\u4e00\u6b21\u3002 \u5bf9\u5feb\u6307\u9488\uff0c\u6709: 2x - L = m * S + Y -----\u2460 \u5bf9\u6162\u6307\u9488\uff0c\u6709: x - L = n * S + Y -----\u2461 \u5176\u4e2d\uff0cm\u3001n \u5747\u4e3a\u81ea\u7136\u6570\u3002 \u2460 * 2 - \u2461 \u5f97: L = (m - n) * S - Y-----\u2462 \u597d\uff0c\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u7b49\u5f0f\u3002\u6211\u4eec\u73b0\u5728\u5047\u8bbe\u6709\u4e00\u4e2a\u65b0\u7684\u6307\u9488\u5728 L \u6bb5\u7684\u6700\u5de6\u7aef\uff0c\u6162\u6307\u9488\u73b0\u5728\u8fd8\u5728\u76f8\u9047\u5904\u3002 \u8ba9\u65b0\u6307\u9488\u548c\u6162\u6307\u9488\u90fd\u6bcf\u6b21\u8d70\u4e00\u6b65\uff0c\u90a3\u4e48\uff0c\u5f53\u65b0\u6307\u9488\u8d70\u4e86 L \u6b65\u4e4b\u540e\u5230\u8fbe\u73af\u8d77\u70b9\uff0c\u800c\u4e0e\u6b64\u540c\u65f6\uff0c\u6211\u4eec\u770b\u770b\u6162\u6307\u9488\u60c5\u51b5\u5982\u4f55\u3002 \u7531\u2462\u5f0f\uff0c\u6162\u6307\u9488\u8d70\u4e86(m - n) * S - Y\u4e2a\u5355\u4f4d\uff0c\u4ee5\u73af\u8d77\u70b9\u4e3a\u53c2\u7167\u7269\uff0c\u76f8\u9047\u65f6\u7684\u4f4d\u7f6e\u4e3a Y\uff0c\u800c\u73b0\u5728\u7531Y + (m - n) * S - Y\u5373(m - n) * S\uff0c\u5f97\u77e5\u6162\u6307\u9488\u5b9e\u9645\u4e0a\u53c2\u7167\u73af\u8d77\u70b9\uff0c\u8d70\u4e86\u6574\u6574(m - n)\u5708\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6162\u6307\u9488\u6b64\u65f6\u4e5f\u5230\u8fbe\u4e86\u73af\u8d77\u70b9\u3002 \u7ed3\u8bba \u73b0\u5728\u7684\u89e3\u6cd5\u5c31\u5f88\u6e05\u6670\u4e86\uff0c\u5f53\u5feb\u6162\u6307\u9488\u76f8\u9047\u4e4b\u540e\uff0c\u8ba9\u65b0\u6307\u9488\u4ece\u5934\u51fa\u53d1\uff0c\u548c\u6162\u6307\u9488\u540c\u65f6\u524d\u8fdb\uff0c\u4e14\u6bcf\u6b21\u524d\u8fdb\u4e00\u6b65\uff0c\u4e24\u8005\u76f8\u9047\u7684\u5730\u65b9\uff0c\u5c31\u662f\u73af\u8d77\u70b9\u3002 \u7f16\u7a0b\u5b9e\u73b0 \u00b6 \u61c2\u5f97\u539f\u7406\u4e4b\u540e\uff0c\u5b9e\u73b0\u8d77\u6765\u5c31\u5bb9\u6613\u5f88\u591a\u4e86\u3002 /** * @param {ListNode} head * @return {ListNode} */ var detectCycle = function(head) { let dummyHead = new ListNode(); dummyHead.next = head; let fast = slow = dummyHead; // \u96f6\u4e2a\u7ed3\u70b9\u6216\u8005\u4e00\u4e2a\u7ed3\u70b9\uff0c\u80af\u5b9a\u65e0\u73af if(fast.next == null || fast.next.next == null) return null; while(fast && fast.next) { fast = fast.next.next; slow = slow.next; // \u4e24\u8005\u76f8\u9047\u4e86 if(fast == slow) { let p = dummyHead; while(p != slow) { p = p.next; slow = slow.next; } return p; } } return null; };","title":"02-\u73af\u5f62\u94fe\u8868.md"},{"location":"algre/02-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8/#_1","text":"","title":"\u73af\u5f62\u94fe\u8868"},{"location":"algre/02-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8/#no1","text":"\u7ed9\u5b9a\u4e00\u4e2a\u94fe\u8868\uff0c\u5224\u65ad\u94fe\u8868\u4e2d\u662f\u5426\u5f62\u6210\u73af\u3002","title":"No.1 \u5982\u4f55\u68c0\u6d4b\u94fe\u8868\u5f62\u6210\u73af\uff1f"},{"location":"algre/02-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8/#_2","text":"\u601d\u8def\u4e00: \u5faa\u73af\u4e00\u904d\uff0c\u7528 Set \u6570\u636e\u7ed3\u6784\u4fdd\u5b58\u8282\u70b9\uff0c\u5229\u7528\u8282\u70b9\u7684\u5185\u5b58\u5730\u5740\u6765\u8fdb\u884c\u5224\u91cd\uff0c\u5982\u679c\u540c\u6837\u7684\u8282\u70b9\u8d70\u8fc7\u4e24\u6b21\uff0c\u5219\u8868\u660e\u5df2\u7ecf\u5f62\u6210\u4e86\u73af\u3002 \u601d\u8def\u4e8c: \u5229\u7528\u5feb\u6162\u6307\u9488\uff0c\u5feb\u6307\u9488\u4e00\u6b21\u8d70\u4e24\u6b65\uff0c\u6162\u6307\u9488\u4e00\u6b21\u8d70\u4e00\u6b65\uff0c\u5982\u679c\u4e24\u8005\u76f8\u9047\uff0c\u5219\u8868\u660e\u5df2\u7ecf\u5f62\u6210\u4e86\u73af\u3002 \u53ef\u80fd\u4f60\u4f1a\u7eb3\u95f7\uff0c\u4e3a\u4ec0\u4e48\u601d\u8def\u4e8c\u7528\u4e24\u4e2a\u6307\u9488\u5728\u73af\u4e2d\u4e00\u5b9a\u4f1a\u76f8\u9047\u5462\uff1f \u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u5982\u679c\u6709\u73af\uff0c\u4e24\u8005\u4e00\u5b9a\u540c\u65f6\u8d70\u5230\u73af\u4e2d\uff0c\u90a3\u4e48\u5728\u73af\u4e2d\uff0c\u9009\u6162\u6307\u9488\u4e3a\u53c2\u8003\u7cfb\uff0c\u5feb\u6307\u9488\u6bcf\u6b21\u76f8\u5bf9\u53c2\u8003\u7cfb\u5411\u524d\u8d70\u4e00\u6b65\uff0c\u7ec8\u7a76\u4f1a\u7ed5\u56de\u539f\u70b9\uff0c\u4e5f\u5c31\u662f\u56de\u5230\u6162\u6307\u9488\u7684\u4f4d\u7f6e\uff0c\u4ece\u800c\u8ba9\u4e24\u8005\u76f8\u9047\u3002\u5982\u679c\u6ca1\u6709\u73af\uff0c\u5219\u4e24\u8005\u7684\u76f8\u5bf9\u8ddd\u79bb\u8d8a\u6765\u8d8a\u8fdc\uff0c\u6c38\u8fdc\u4e0d\u4f1a\u76f8\u9047\u3002 \u63a5\u4e0b\u6765\u6211\u4eec\u6765\u7f16\u7a0b\u5b9e\u73b0\u3002","title":"\u601d\u8def"},{"location":"algre/02-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8/#set","text":"/** * @param {ListNode} head * @return {boolean} */ var hasCycle = (head) => { let set = new Set(); let p = head; while(p) { // \u540c\u4e00\u4e2a\u8282\u70b9\u518d\u6b21\u78b0\u5230\uff0c\u8868\u793a\u6709\u73af if(set.has(p)) return true; set.add(p); p = p.next; } return false; }","title":"\u65b9\u6cd5\u4e00: Set \u5224\u91cd"},{"location":"algre/02-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8/#_3","text":"var hasCycle = function(head) { let dummyHead = new ListNode(); dummyHead.next = head; let fast = slow = dummyHead; // \u96f6\u4e2a\u7ed3\u70b9\u6216\u8005\u4e00\u4e2a\u7ed3\u70b9\uff0c\u80af\u5b9a\u65e0\u73af if(fast.next == null || fast.next.next == null) return false; while(fast && fast.next) { fast = fast.next.next; slow = slow.next; // \u4e24\u8005\u76f8\u9047\u4e86 if(fast == slow) { return true; } } return false; };","title":"\u65b9\u6cd5\u4e8c: \u5feb\u6162\u6307\u9488"},{"location":"algre/02-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8/#no2","text":"\u7ed9\u5b9a\u4e00\u4e2a\u94fe\u8868\uff0c\u8fd4\u56de\u94fe\u8868\u5f00\u59cb\u5165\u73af\u7684\u7b2c\u4e00\u4e2a\u8282\u70b9\u3002 \u5982\u679c\u94fe\u8868\u65e0\u73af\uff0c\u5219\u8fd4\u56de null\u3002 \u8bf4\u660e\uff1a\u4e0d\u5141\u8bb8\u4fee\u6539\u7ed9\u5b9a\u7684\u94fe\u8868\u3002","title":"No.2 \u5982\u4f55\u627e\u5230\u73af\u7684\u8d77\u70b9"},{"location":"algre/02-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8/#_4","text":"\u521a\u521a\u5df2\u7ecf\u5224\u65ad\u4e86\u5982\u4f55\u5224\u65ad\u51fa\u73b0\u73af\uff0c\u90a3\u5982\u4f55\u627e\u5230\u73af\u7684\u8282\u70b9\u5462\uff1f\u6211\u4eec\u6765\u5206\u6790\u4e00\u6ce2\u3002 \u770b\u4e0a\u53bb\u6bd4\u8f83\u7e41\u7410\uff0c\u6211\u4eec\u628a\u5b83\u505a\u8fdb\u4e00\u6b65\u7684\u62bd\u8c61: \u8bbe\u5feb\u6162\u6307\u9488\u8d70\u4e86x\u79d2\uff0c\u6162\u6307\u9488\u4e00\u79d2\u8d70\u4e00\u6b21\u3002 \u5bf9\u5feb\u6307\u9488\uff0c\u6709: 2x - L = m * S + Y -----\u2460 \u5bf9\u6162\u6307\u9488\uff0c\u6709: x - L = n * S + Y -----\u2461 \u5176\u4e2d\uff0cm\u3001n \u5747\u4e3a\u81ea\u7136\u6570\u3002 \u2460 * 2 - \u2461 \u5f97: L = (m - n) * S - Y-----\u2462 \u597d\uff0c\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u7b49\u5f0f\u3002\u6211\u4eec\u73b0\u5728\u5047\u8bbe\u6709\u4e00\u4e2a\u65b0\u7684\u6307\u9488\u5728 L \u6bb5\u7684\u6700\u5de6\u7aef\uff0c\u6162\u6307\u9488\u73b0\u5728\u8fd8\u5728\u76f8\u9047\u5904\u3002 \u8ba9\u65b0\u6307\u9488\u548c\u6162\u6307\u9488\u90fd\u6bcf\u6b21\u8d70\u4e00\u6b65\uff0c\u90a3\u4e48\uff0c\u5f53\u65b0\u6307\u9488\u8d70\u4e86 L \u6b65\u4e4b\u540e\u5230\u8fbe\u73af\u8d77\u70b9\uff0c\u800c\u4e0e\u6b64\u540c\u65f6\uff0c\u6211\u4eec\u770b\u770b\u6162\u6307\u9488\u60c5\u51b5\u5982\u4f55\u3002 \u7531\u2462\u5f0f\uff0c\u6162\u6307\u9488\u8d70\u4e86(m - n) * S - Y\u4e2a\u5355\u4f4d\uff0c\u4ee5\u73af\u8d77\u70b9\u4e3a\u53c2\u7167\u7269\uff0c\u76f8\u9047\u65f6\u7684\u4f4d\u7f6e\u4e3a Y\uff0c\u800c\u73b0\u5728\u7531Y + (m - n) * S - Y\u5373(m - n) * S\uff0c\u5f97\u77e5\u6162\u6307\u9488\u5b9e\u9645\u4e0a\u53c2\u7167\u73af\u8d77\u70b9\uff0c\u8d70\u4e86\u6574\u6574(m - n)\u5708\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6162\u6307\u9488\u6b64\u65f6\u4e5f\u5230\u8fbe\u4e86\u73af\u8d77\u70b9\u3002 \u7ed3\u8bba \u73b0\u5728\u7684\u89e3\u6cd5\u5c31\u5f88\u6e05\u6670\u4e86\uff0c\u5f53\u5feb\u6162\u6307\u9488\u76f8\u9047\u4e4b\u540e\uff0c\u8ba9\u65b0\u6307\u9488\u4ece\u5934\u51fa\u53d1\uff0c\u548c\u6162\u6307\u9488\u540c\u65f6\u524d\u8fdb\uff0c\u4e14\u6bcf\u6b21\u524d\u8fdb\u4e00\u6b65\uff0c\u4e24\u8005\u76f8\u9047\u7684\u5730\u65b9\uff0c\u5c31\u662f\u73af\u8d77\u70b9\u3002","title":"\u601d\u8def\u5206\u6790"},{"location":"algre/02-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8/#_5","text":"\u61c2\u5f97\u539f\u7406\u4e4b\u540e\uff0c\u5b9e\u73b0\u8d77\u6765\u5c31\u5bb9\u6613\u5f88\u591a\u4e86\u3002 /** * @param {ListNode} head * @return {ListNode} */ var detectCycle = function(head) { let dummyHead = new ListNode(); dummyHead.next = head; let fast = slow = dummyHead; // \u96f6\u4e2a\u7ed3\u70b9\u6216\u8005\u4e00\u4e2a\u7ed3\u70b9\uff0c\u80af\u5b9a\u65e0\u73af if(fast.next == null || fast.next.next == null) return null; while(fast && fast.next) { fast = fast.next.next; slow = slow.next; // \u4e24\u8005\u76f8\u9047\u4e86 if(fast == slow) { let p = dummyHead; while(p != slow) { p = p.next; slow = slow.next; } return p; } } return null; };","title":"\u7f16\u7a0b\u5b9e\u73b0"},{"location":"algre/03-%E9%93%BE%E8%A1%A8%E5%90%88%E5%B9%B6/","text":"\u94fe\u8868\u5408\u5e76 \u00b6 No.1 \u5408\u5e76\u4e24\u4e2a\u6709\u5e8f\u94fe\u8868 \u00b6 \u5c06\u4e24\u4e2a\u6709\u5e8f\u94fe\u8868\u5408\u5e76\u4e3a\u4e00\u4e2a\u65b0\u7684\u6709\u5e8f\u94fe\u8868\u5e76\u8fd4\u56de\u3002\u65b0\u94fe\u8868\u662f\u901a\u8fc7\u62fc\u63a5\u7ed9\u5b9a\u7684\u4e24\u4e2a\u94fe\u8868\u7684\u6240\u6709\u8282\u70b9\u7ec4\u6210\u7684\u3002 \u793a\u4f8b: \u8f93\u5165\uff1a1->2->4, 1->3->4 \u8f93\u51fa\uff1a1->1->2->3->4->4 \u6765\u6e90: LeetCode\u7b2c21\u9898 \u9012\u5f52\u89e3\u6cd5 \u00b6 \u9012\u5f52\u89e3\u6cd5\u66f4\u5bb9\u6613\u7406\u89e3\uff0c\u6211\u4eec\u5148\u7528\u9012\u5f52\u6765\u505a\u4e00\u4e0b: /** * @param {ListNode} l1 * @param {ListNode} l2 * @return {ListNode} */ var mergeTwoLists = function ( l1 , l2 ) { const merge = ( l1 , l2 ) => { if ( l1 == null ) return l2 ; if ( l2 == null ) return l1 ; if ( l1 . val > l2 . val ) { l2 . next = merge ( l1 , l2 . next ); return l2 ; } else { l1 . next = merge ( l1 . next , l2 ); return l1 ; } } return merge ( l1 , l2 ); }; \u5faa\u73af\u89e3\u6cd5 \u00b6 var mergeTwoLists = function ( l1 , l2 ) { if ( l1 == null ) return l2 ; if ( l2 == null ) return l1 ; let p = dummyHead = new ListNode (); let p1 = l1 , p2 = l2 ; while ( p1 && p2 ) { if ( p1 . val > p2 . val ) { p . next = p2 ; p = p . next ; p2 = p2 . next ; } else { p . next = p1 ; p = p . next ; p1 = p1 . next ; } } // \u5faa\u73af\u5b8c\u6210\u540e\u52a1\u5fc5\u68c0\u67e5\u5269\u4e0b\u7684\u90e8\u5206 if ( p1 ) p . next = p1 ; else p . next = p2 ; return dummyHead . next ; }; No.2 \u5408\u5e76 K \u4e2a\u6709\u5e8f\u94fe\u8868 \u00b6 \u5408\u5e76 k \u4e2a\u6392\u5e8f\u94fe\u8868\uff0c\u8fd4\u56de\u5408\u5e76\u540e\u7684\u6392\u5e8f\u94fe\u8868\u3002\u8bf7\u5206\u6790\u548c\u63cf\u8ff0\u7b97\u6cd5\u7684\u590d\u6742\u5ea6\u3002 \u793a\u4f8b: \u8f93\u5165: [ 1->4->5, 1->3->4, 2->6 ] \u8f93\u51fa: 1->1->2->3->4->4->5->6 \u6765\u6e90: LeetCode\u7b2c23\u9898 \u81ea\u4e0a\u800c\u4e0b(\u9012\u5f52)\u5b9e\u73b0 \u00b6 /** * @param {ListNode[]} lists * @return {ListNode} */ var mergeKLists = function ( lists ) { // \u4e0a\u9762\u5df2\u7ecf\u5b9e\u73b0 var mergeTwoLists = function ( l1 , l2 ) { /*\u4e0a\u9762\u5df2\u7ecf\u5b9e\u73b0*/ }; const _mergeLists = ( lists , start , end ) => { if ( end - start < 0 ) return null ; if ( end - start == 0 ) return lists [ end ]; let mid = Math . floor ( start + ( end - start ) / 2 ); return mergeTwoList ( _mergeLists ( lists , start , mid ), _mergeLists ( lists , mid + 1 , end )); } return _mergeLists ( lists , 0 , lists . length - 1 ); }; \u81ea\u4e0b\u800c\u4e0a\u5b9e\u73b0 \u00b6 \u5728\u8fd9\u91cc\u9700\u8981\u63d0\u9192\u5927\u5bb6\u7684\u662f\uff0c\u5728\u81ea\u4e0b\u800c\u4e0a\u7684\u5b9e\u73b0\u65b9\u5f0f\u4e2d\uff0c\u6211\u4e3a\u6bcf\u4e00\u4e2a\u94fe\u8868\u7ed1\u5b9a\u4e86\u4e00\u4e2a\u865a\u62df\u5934\u6307\u9488(dummyHead)\uff0c\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u505a\uff1f \u8fd9\u662f\u4e3a\u4e86\u65b9\u4fbf\u94fe\u8868\u7684\u5408\u5e76\uff0c\u6bd4\u5982 l1 \u548c l2 \u5408\u5e76\u4e4b\u540e\uff0c\u5408\u5e76\u540e\u94fe\u8868\u7684\u5934\u6307\u9488\u5c31\u76f4\u63a5\u662f l1 \u7684 dummyHead.next \u503c\uff0c\u7b49\u4e8e\u8bf4\u4e24\u4e2a\u94fe\u8868\u90fd\u5408\u5e76\u5230\u4e86 l1 \u5f53\u4e2d\uff0c\u65b9\u4fbf\u4e86\u540e\u7eed\u7684\u5408\u5e76\u64cd\u4f5c\u3002 var mergeKLists = function ( lists ) { var mergeTwoLists = function ( l1 , l2 ) { /*\u4e0a\u9762\u5df2\u7ecf\u5b9e\u73b0*/ }; // \u8fb9\u754c\u60c5\u51b5 if ( ! lists || ! lists . length ) return null ; // \u865a\u62df\u5934\u6307\u9488\u96c6\u5408 let dummyHeads = []; // \u521d\u59cb\u5316\u865a\u62df\u5934\u6307\u9488 for ( let i = 0 ; i < lists . length ; i ++ ) { let node = new ListNode (); node . next = lists [ i ]; dummyHeads [ i ] = node ; } // \u81ea\u5e95\u5411\u4e0a\u8fdb\u884cmerge for ( let size = 1 ; size < lists . length ; size += size ){ for ( let i = 0 ; i + size < lists . length ; i += 2 * size ) { dummyHeads [ i ]. next = mergeTwoLists ( dummyHeads [ i ]. next , dummyHeads [ i + size ]. next ); } } return dummyHeads [ 0 ]. next ; }; \u591a\u4e2a\u94fe\u8868\u7684\u5408\u5e76\u5230\u8fd9\u91cc\u5c31\u5b9e\u73b0\u5b8c\u6210\u4e86\uff0c\u5728\u8fd9\u91cc\u987a\u4fbf\u544a\u8bc9\u4f60\u8fd9\u79cd\u5f52\u5e76\u7684\u65b9\u5f0f\u540c\u65f6\u4e5f\u662f\u5bf9\u94fe\u8868\u8fdb\u884c\u5f52\u5e76\u6392\u5e8f\u7684\u6838\u5fc3\u4ee3\u7801\u3002\u5e0c\u671b\u4f60\u80fd\u597d\u597d\u4f53\u4f1a\u81ea\u4e0a\u800c\u4e0b\u548c\u81ea\u4e0b\u800c\u4e0a\u4e24\u79cd\u4e0d\u540c\u7684\u5b9e\u73b0\u7ec6\u8282\uff0c\u76f8\u4fe1\u5bf9\u4f60\u7684\u7f16\u7a0b\u5185\u529f\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u63d0\u5347\u3002","title":"03-\u94fe\u8868\u5408\u5e76.md"},{"location":"algre/03-%E9%93%BE%E8%A1%A8%E5%90%88%E5%B9%B6/#_1","text":"","title":"\u94fe\u8868\u5408\u5e76"},{"location":"algre/03-%E9%93%BE%E8%A1%A8%E5%90%88%E5%B9%B6/#no1","text":"\u5c06\u4e24\u4e2a\u6709\u5e8f\u94fe\u8868\u5408\u5e76\u4e3a\u4e00\u4e2a\u65b0\u7684\u6709\u5e8f\u94fe\u8868\u5e76\u8fd4\u56de\u3002\u65b0\u94fe\u8868\u662f\u901a\u8fc7\u62fc\u63a5\u7ed9\u5b9a\u7684\u4e24\u4e2a\u94fe\u8868\u7684\u6240\u6709\u8282\u70b9\u7ec4\u6210\u7684\u3002 \u793a\u4f8b: \u8f93\u5165\uff1a1->2->4, 1->3->4 \u8f93\u51fa\uff1a1->1->2->3->4->4 \u6765\u6e90: LeetCode\u7b2c21\u9898","title":"No.1 \u5408\u5e76\u4e24\u4e2a\u6709\u5e8f\u94fe\u8868"},{"location":"algre/03-%E9%93%BE%E8%A1%A8%E5%90%88%E5%B9%B6/#_2","text":"\u9012\u5f52\u89e3\u6cd5\u66f4\u5bb9\u6613\u7406\u89e3\uff0c\u6211\u4eec\u5148\u7528\u9012\u5f52\u6765\u505a\u4e00\u4e0b: /** * @param {ListNode} l1 * @param {ListNode} l2 * @return {ListNode} */ var mergeTwoLists = function ( l1 , l2 ) { const merge = ( l1 , l2 ) => { if ( l1 == null ) return l2 ; if ( l2 == null ) return l1 ; if ( l1 . val > l2 . val ) { l2 . next = merge ( l1 , l2 . next ); return l2 ; } else { l1 . next = merge ( l1 . next , l2 ); return l1 ; } } return merge ( l1 , l2 ); };","title":"\u9012\u5f52\u89e3\u6cd5"},{"location":"algre/03-%E9%93%BE%E8%A1%A8%E5%90%88%E5%B9%B6/#_3","text":"var mergeTwoLists = function ( l1 , l2 ) { if ( l1 == null ) return l2 ; if ( l2 == null ) return l1 ; let p = dummyHead = new ListNode (); let p1 = l1 , p2 = l2 ; while ( p1 && p2 ) { if ( p1 . val > p2 . val ) { p . next = p2 ; p = p . next ; p2 = p2 . next ; } else { p . next = p1 ; p = p . next ; p1 = p1 . next ; } } // \u5faa\u73af\u5b8c\u6210\u540e\u52a1\u5fc5\u68c0\u67e5\u5269\u4e0b\u7684\u90e8\u5206 if ( p1 ) p . next = p1 ; else p . next = p2 ; return dummyHead . next ; };","title":"\u5faa\u73af\u89e3\u6cd5"},{"location":"algre/03-%E9%93%BE%E8%A1%A8%E5%90%88%E5%B9%B6/#no2-k","text":"\u5408\u5e76 k \u4e2a\u6392\u5e8f\u94fe\u8868\uff0c\u8fd4\u56de\u5408\u5e76\u540e\u7684\u6392\u5e8f\u94fe\u8868\u3002\u8bf7\u5206\u6790\u548c\u63cf\u8ff0\u7b97\u6cd5\u7684\u590d\u6742\u5ea6\u3002 \u793a\u4f8b: \u8f93\u5165: [ 1->4->5, 1->3->4, 2->6 ] \u8f93\u51fa: 1->1->2->3->4->4->5->6 \u6765\u6e90: LeetCode\u7b2c23\u9898","title":"No.2 \u5408\u5e76 K \u4e2a\u6709\u5e8f\u94fe\u8868"},{"location":"algre/03-%E9%93%BE%E8%A1%A8%E5%90%88%E5%B9%B6/#_4","text":"/** * @param {ListNode[]} lists * @return {ListNode} */ var mergeKLists = function ( lists ) { // \u4e0a\u9762\u5df2\u7ecf\u5b9e\u73b0 var mergeTwoLists = function ( l1 , l2 ) { /*\u4e0a\u9762\u5df2\u7ecf\u5b9e\u73b0*/ }; const _mergeLists = ( lists , start , end ) => { if ( end - start < 0 ) return null ; if ( end - start == 0 ) return lists [ end ]; let mid = Math . floor ( start + ( end - start ) / 2 ); return mergeTwoList ( _mergeLists ( lists , start , mid ), _mergeLists ( lists , mid + 1 , end )); } return _mergeLists ( lists , 0 , lists . length - 1 ); };","title":"\u81ea\u4e0a\u800c\u4e0b(\u9012\u5f52)\u5b9e\u73b0"},{"location":"algre/03-%E9%93%BE%E8%A1%A8%E5%90%88%E5%B9%B6/#_5","text":"\u5728\u8fd9\u91cc\u9700\u8981\u63d0\u9192\u5927\u5bb6\u7684\u662f\uff0c\u5728\u81ea\u4e0b\u800c\u4e0a\u7684\u5b9e\u73b0\u65b9\u5f0f\u4e2d\uff0c\u6211\u4e3a\u6bcf\u4e00\u4e2a\u94fe\u8868\u7ed1\u5b9a\u4e86\u4e00\u4e2a\u865a\u62df\u5934\u6307\u9488(dummyHead)\uff0c\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u505a\uff1f \u8fd9\u662f\u4e3a\u4e86\u65b9\u4fbf\u94fe\u8868\u7684\u5408\u5e76\uff0c\u6bd4\u5982 l1 \u548c l2 \u5408\u5e76\u4e4b\u540e\uff0c\u5408\u5e76\u540e\u94fe\u8868\u7684\u5934\u6307\u9488\u5c31\u76f4\u63a5\u662f l1 \u7684 dummyHead.next \u503c\uff0c\u7b49\u4e8e\u8bf4\u4e24\u4e2a\u94fe\u8868\u90fd\u5408\u5e76\u5230\u4e86 l1 \u5f53\u4e2d\uff0c\u65b9\u4fbf\u4e86\u540e\u7eed\u7684\u5408\u5e76\u64cd\u4f5c\u3002 var mergeKLists = function ( lists ) { var mergeTwoLists = function ( l1 , l2 ) { /*\u4e0a\u9762\u5df2\u7ecf\u5b9e\u73b0*/ }; // \u8fb9\u754c\u60c5\u51b5 if ( ! lists || ! lists . length ) return null ; // \u865a\u62df\u5934\u6307\u9488\u96c6\u5408 let dummyHeads = []; // \u521d\u59cb\u5316\u865a\u62df\u5934\u6307\u9488 for ( let i = 0 ; i < lists . length ; i ++ ) { let node = new ListNode (); node . next = lists [ i ]; dummyHeads [ i ] = node ; } // \u81ea\u5e95\u5411\u4e0a\u8fdb\u884cmerge for ( let size = 1 ; size < lists . length ; size += size ){ for ( let i = 0 ; i + size < lists . length ; i += 2 * size ) { dummyHeads [ i ]. next = mergeTwoLists ( dummyHeads [ i ]. next , dummyHeads [ i + size ]. next ); } } return dummyHeads [ 0 ]. next ; }; \u591a\u4e2a\u94fe\u8868\u7684\u5408\u5e76\u5230\u8fd9\u91cc\u5c31\u5b9e\u73b0\u5b8c\u6210\u4e86\uff0c\u5728\u8fd9\u91cc\u987a\u4fbf\u544a\u8bc9\u4f60\u8fd9\u79cd\u5f52\u5e76\u7684\u65b9\u5f0f\u540c\u65f6\u4e5f\u662f\u5bf9\u94fe\u8868\u8fdb\u884c\u5f52\u5e76\u6392\u5e8f\u7684\u6838\u5fc3\u4ee3\u7801\u3002\u5e0c\u671b\u4f60\u80fd\u597d\u597d\u4f53\u4f1a\u81ea\u4e0a\u800c\u4e0b\u548c\u81ea\u4e0b\u800c\u4e0a\u4e24\u79cd\u4e0d\u540c\u7684\u5b9e\u73b0\u7ec6\u8282\uff0c\u76f8\u4fe1\u5bf9\u4f60\u7684\u7f16\u7a0b\u5185\u529f\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u63d0\u5347\u3002","title":"\u81ea\u4e0b\u800c\u4e0a\u5b9e\u73b0"},{"location":"algre/04-%E6%B1%82%E9%93%BE%E8%A1%A8%E4%B8%AD%E9%97%B4%E8%8A%82%E7%82%B9/","text":"\u6c42\u94fe\u8868\u4e2d\u95f4\u8282\u70b9 \u00b6 \u5224\u65ad\u56de\u6587\u94fe\u8868 \u00b6 \u8bf7\u5224\u65ad\u4e00\u4e2a\u5355\u94fe\u8868\u662f\u5426\u4e3a\u56de\u6587\u94fe\u8868\u3002 \u793a\u4f8b1: \u8f93\u5165: 1->2 \u8f93\u51fa: false \u793a\u4f8b2: \u8f93\u5165: 1->2->2->1 \u8f93\u51fa: true \u4f60\u80fd\u5426\u7528 O(n) \u65f6\u95f4\u590d\u6742\u5ea6\u548c O(1) \u7a7a\u95f4\u590d\u6742\u5ea6\u89e3\u51b3\u6b64\u9898\uff1f \u6765\u6e90: LeetCode\u7b2c234\u9898 \u601d\u8def\u5206\u6790 \u00b6 \u8fd9\u4e00\u9898\u5982\u679c\u4e0d\u8003\u8651\u6027\u80fd\u7684\u9650\u5236\uff0c\u5176\u5b9e\u662f\u975e\u5e38\u7b80\u5355\u7684\u3002\u4f46\u8003\u8651\u5230 O(n) \u65f6\u95f4\u590d\u6742\u5ea6\u548c O(1) \u7a7a\u95f4\u590d\u6742\u5ea6\uff0c\u6050\u6015\u5c31\u503c\u5f97\u505c\u4e0b\u6765\u597d\u597d\u60f3\u60f3\u4e86\u3002 \u9898\u76ee\u7684\u8981\u6c42\u662f\u5355\u94fe\u8868\uff0c\u6ca1\u6709\u529e\u6cd5\u8bbf\u95ee\u524d\u9762\u7684\u8282\u70b9\uff0c\u90a3\u6211\u4eec\u53ea\u5f97\u53e6\u8f9f\u8e4a\u5f84: \u627e\u5230\u94fe\u8868\u4e2d\u70b9\uff0c\u7136\u540e\u5c06\u540e\u534a\u90e8\u5206\u53cd\u8f6c\uff0c\u5c31\u53ef\u4ee5\u4f9d\u6b21\u6bd4\u8f83\u5f97\u51fa\u7ed3\u8bba\u4e86\u3002\u4e0b\u9762\u6211\u4eec\u6765\u5b9e\u73b0\u4e00\u6ce2\u3002 \u4ee3\u7801\u5b9e\u73b0 \u00b6 \u5176\u5b9e\u5173\u952e\u90e8\u5206\u7684\u4ee3\u7801\u5c31\u662f\u627e\u4e2d\u70b9\u4e86\u3002\u5148\u4eae\u5251: let dummyHead = slow = fast = new ListNode(); dummyHead.next = head; // \u6ce8\u610f\u6ce8\u610f\uff0c\u6765\u627e\u4e2d\u70b9\u4e86 while(fast && fast.next) { slow = slow.next; fast = fast.next.next; } \u4f60\u53ef\u80fd\u4f1a\u7eb3\u95f7\u4e86\uff0c\u4e3a\u4ec0\u4e48\u8fb9\u754c\u8981\u8bbe\u6210\u8fd9\u6837\uff1f \u6211\u4eec\u4e0d\u59a8\u6765\u5206\u6790\u4e00\u4e0b\uff0c\u5206\u94fe\u8868\u8282\u70b9\u4e2a\u6570\u4e3a\u5947\u6570\u548c\u5076\u6570\u7684\u65f6\u5019\u5206\u522b\u8ba8\u8bba\u3002 \u5f53\u94fe\u8868\u8282\u70b9\u4e2a\u6570\u4e3a\u5947\u6570 \u8bd5\u7740\u6a21\u62df\u4e00\u4e0b\uff0c fast \u4e3a\u7a7a\u7684\u65f6\u5019\uff0c\u505c\u6b62\u5faa\u73af, \u72b6\u6001\u5982\u4e0b: \u5f53\u94fe\u8868\u8282\u70b9\u4e2a\u6570\u4e3a\u5076\u6570 \u6a21\u62df\u8d70\u4e00\u904d\uff0c\u5f53 fast.next \u4e3a\u7a7a\u7684\u65f6\u5019\uff0c\u505c\u6b62\u5faa\u73af\uff0c\u72b6\u6001\u5982\u4e0b: \u5bf9\u4e8e fast \u4e3a\u7a7a\u548cfast.next\u4e3a\u7a7a\u4e24\u4e2a\u6761\u4ef6\uff0c\u5728\u5947\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u603b\u662f fast\u4e3a\u7a7a\u5148\u51fa\u73b0\uff0c\u5076\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u603b\u662ffast.next\u5148\u51fa\u73b0. \u4e5f\u5c31\u662f\u8bf4: \u4e00\u65e6fast\u4e3a\u7a7a, \u94fe\u8868\u8282\u70b9\u4e2a\u6570\u4e00\u5b9a\u4e3a\u5947\u6570\uff0c\u5426\u5219\u4e3a\u5076\u6570\u3002\u56e0\u6b64\u4e24\u79cd\u60c5\u51b5\u53ef\u4ee5\u5408\u5e76\u6765\u8ba8\u8bba\uff0c\u5f53 fast \u4e3a\u7a7a\u6216\u8005 fast.next \u4e3a\u7a7a\uff0c\u5faa\u73af\u5c31\u53ef\u4ee5\u7ec8\u6b62\u4e86\u3002 \u5b8c\u6574\u5b9e\u73b0\u5982\u4e0b: /** * @param {ListNode} head * @return {boolean} */ var isPalindrome = function ( head ) { let reverse = ( pre , cur ) => { if ( ! cur ) return pre ; let next = cur . next ; cur . next = pre ; return reverse ( cur , next ); } let dummyHead = slow = fast = new ListNode (); dummyHead . next = head ; // \u6ce8\u610f\u6ce8\u610f\uff0c\u6765\u627e\u4e2d\u70b9\u4e86, \u9ec4\u91d1\u6a21\u677f while ( fast && fast . next ) { slow = slow . next ; fast = fast . next . next ; } let next = slow . next ; slow . next = null ; let newStart = reverse ( null , next ); for ( let p = head , newP = newStart ; newP != null ; p = p . next , newP = newP . next ) { if ( p . val != newP . val ) return false ; } return true ; }; \u6808\u548c\u961f\u5217\u7bc7 \u6709\u6548\u62ec\u53f7 \u7ed9\u5b9a\u4e00\u4e2a\u53ea\u5305\u62ec '('\uff0c')'\uff0c'{'\uff0c'}'\uff0c'['\uff0c']' \u7684\u5b57\u7b26\u4e32\uff0c\u5224\u65ad\u5b57\u7b26\u4e32\u662f\u5426\u6709\u6548\u3002 \u6709\u6548\u5b57\u7b26\u4e32\u9700\u6ee1\u8db3\uff1a \u5de6\u62ec\u53f7\u5fc5\u987b\u7528\u76f8\u540c\u7c7b\u578b\u7684\u53f3\u62ec\u53f7\u95ed\u5408\u3002 \u5de6\u62ec\u53f7\u5fc5\u987b\u4ee5\u6b63\u786e\u7684\u987a\u5e8f\u95ed\u5408\u3002 \u6ce8\u610f\u7a7a\u5b57\u7b26\u4e32\u53ef\u88ab\u8ba4\u4e3a\u662f\u6709\u6548\u5b57\u7b26\u4e32\u3002 \u793a\u4f8b: \u8f93\u5165: \"()\" \u8f93\u51fa: true \u6765\u6e90: LeetCode\u7b2c20\u9898 \u4ee3\u7801\u5b9e\u73b0 \u00b6 /** * @param {string} s * @return {boolean} */ var isValid = function(s) { let stack = []; for(let i = 0; i < s.length; i++) { let ch = s.charAt(i); if(ch == '(' || ch == '[' || ch == '{') stack.push(ch); if(!stack.length) return false; if(ch == ')' && stack.pop() !== '(') return false; if(ch == ']' && stack.pop() !== '[' ) return false; if(ch == '}' && stack.pop() !== '{') return false; } return stack.length === 0; }; \u591a\u7ef4\u6570\u7ec4 flatten \u00b6 \u5c06\u591a\u7ef4\u6570\u7ec4\u8f6c\u5316\u4e3a\u4e00\u7ef4\u6570\u7ec4\u3002 \u793a\u4f8b: [1, [2, [3, [4, 5]]], 6] -> [1, 2, 3, 4, 5, 6] \u4ee3\u7801\u5b9e\u73b0 \u00b6 /** * @constructor * @param {NestedInteger[]} nestedList * @return {Integer[]} */ let flatten = (nestedList) => { let result = []; let fn = function (target, ary) { for (let i = 0; i < ary.length; i++) { let item = ary[i]; if (Array.isArray(ary[i])) { fn(target, item); } else { target.push(item); } } } fn(result, nestedList) return result; \u540c\u65f6\u53ef\u91c7\u7528 reduce \u7684\u65b9\u5f0f, \u4e00\u884c\u5c31\u53ef\u4ee5\u89e3\u51b3\uff0c\u975e\u5e38\u7b80\u6d01\u3002 let flatten = (nestedList) => nestedList.reduce((pre, cur) => pre.concat(Array.isArray(cur) ? flatten(cur): cur), [])","title":"04-\u6c42\u94fe\u8868\u4e2d\u95f4\u8282\u70b9.md"},{"location":"algre/04-%E6%B1%82%E9%93%BE%E8%A1%A8%E4%B8%AD%E9%97%B4%E8%8A%82%E7%82%B9/#_1","text":"","title":"\u6c42\u94fe\u8868\u4e2d\u95f4\u8282\u70b9"},{"location":"algre/04-%E6%B1%82%E9%93%BE%E8%A1%A8%E4%B8%AD%E9%97%B4%E8%8A%82%E7%82%B9/#_2","text":"\u8bf7\u5224\u65ad\u4e00\u4e2a\u5355\u94fe\u8868\u662f\u5426\u4e3a\u56de\u6587\u94fe\u8868\u3002 \u793a\u4f8b1: \u8f93\u5165: 1->2 \u8f93\u51fa: false \u793a\u4f8b2: \u8f93\u5165: 1->2->2->1 \u8f93\u51fa: true \u4f60\u80fd\u5426\u7528 O(n) \u65f6\u95f4\u590d\u6742\u5ea6\u548c O(1) \u7a7a\u95f4\u590d\u6742\u5ea6\u89e3\u51b3\u6b64\u9898\uff1f \u6765\u6e90: LeetCode\u7b2c234\u9898","title":"\u5224\u65ad\u56de\u6587\u94fe\u8868"},{"location":"algre/04-%E6%B1%82%E9%93%BE%E8%A1%A8%E4%B8%AD%E9%97%B4%E8%8A%82%E7%82%B9/#_3","text":"\u8fd9\u4e00\u9898\u5982\u679c\u4e0d\u8003\u8651\u6027\u80fd\u7684\u9650\u5236\uff0c\u5176\u5b9e\u662f\u975e\u5e38\u7b80\u5355\u7684\u3002\u4f46\u8003\u8651\u5230 O(n) \u65f6\u95f4\u590d\u6742\u5ea6\u548c O(1) \u7a7a\u95f4\u590d\u6742\u5ea6\uff0c\u6050\u6015\u5c31\u503c\u5f97\u505c\u4e0b\u6765\u597d\u597d\u60f3\u60f3\u4e86\u3002 \u9898\u76ee\u7684\u8981\u6c42\u662f\u5355\u94fe\u8868\uff0c\u6ca1\u6709\u529e\u6cd5\u8bbf\u95ee\u524d\u9762\u7684\u8282\u70b9\uff0c\u90a3\u6211\u4eec\u53ea\u5f97\u53e6\u8f9f\u8e4a\u5f84: \u627e\u5230\u94fe\u8868\u4e2d\u70b9\uff0c\u7136\u540e\u5c06\u540e\u534a\u90e8\u5206\u53cd\u8f6c\uff0c\u5c31\u53ef\u4ee5\u4f9d\u6b21\u6bd4\u8f83\u5f97\u51fa\u7ed3\u8bba\u4e86\u3002\u4e0b\u9762\u6211\u4eec\u6765\u5b9e\u73b0\u4e00\u6ce2\u3002","title":"\u601d\u8def\u5206\u6790"},{"location":"algre/04-%E6%B1%82%E9%93%BE%E8%A1%A8%E4%B8%AD%E9%97%B4%E8%8A%82%E7%82%B9/#_4","text":"\u5176\u5b9e\u5173\u952e\u90e8\u5206\u7684\u4ee3\u7801\u5c31\u662f\u627e\u4e2d\u70b9\u4e86\u3002\u5148\u4eae\u5251: let dummyHead = slow = fast = new ListNode(); dummyHead.next = head; // \u6ce8\u610f\u6ce8\u610f\uff0c\u6765\u627e\u4e2d\u70b9\u4e86 while(fast && fast.next) { slow = slow.next; fast = fast.next.next; } \u4f60\u53ef\u80fd\u4f1a\u7eb3\u95f7\u4e86\uff0c\u4e3a\u4ec0\u4e48\u8fb9\u754c\u8981\u8bbe\u6210\u8fd9\u6837\uff1f \u6211\u4eec\u4e0d\u59a8\u6765\u5206\u6790\u4e00\u4e0b\uff0c\u5206\u94fe\u8868\u8282\u70b9\u4e2a\u6570\u4e3a\u5947\u6570\u548c\u5076\u6570\u7684\u65f6\u5019\u5206\u522b\u8ba8\u8bba\u3002 \u5f53\u94fe\u8868\u8282\u70b9\u4e2a\u6570\u4e3a\u5947\u6570 \u8bd5\u7740\u6a21\u62df\u4e00\u4e0b\uff0c fast \u4e3a\u7a7a\u7684\u65f6\u5019\uff0c\u505c\u6b62\u5faa\u73af, \u72b6\u6001\u5982\u4e0b: \u5f53\u94fe\u8868\u8282\u70b9\u4e2a\u6570\u4e3a\u5076\u6570 \u6a21\u62df\u8d70\u4e00\u904d\uff0c\u5f53 fast.next \u4e3a\u7a7a\u7684\u65f6\u5019\uff0c\u505c\u6b62\u5faa\u73af\uff0c\u72b6\u6001\u5982\u4e0b: \u5bf9\u4e8e fast \u4e3a\u7a7a\u548cfast.next\u4e3a\u7a7a\u4e24\u4e2a\u6761\u4ef6\uff0c\u5728\u5947\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u603b\u662f fast\u4e3a\u7a7a\u5148\u51fa\u73b0\uff0c\u5076\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u603b\u662ffast.next\u5148\u51fa\u73b0. \u4e5f\u5c31\u662f\u8bf4: \u4e00\u65e6fast\u4e3a\u7a7a, \u94fe\u8868\u8282\u70b9\u4e2a\u6570\u4e00\u5b9a\u4e3a\u5947\u6570\uff0c\u5426\u5219\u4e3a\u5076\u6570\u3002\u56e0\u6b64\u4e24\u79cd\u60c5\u51b5\u53ef\u4ee5\u5408\u5e76\u6765\u8ba8\u8bba\uff0c\u5f53 fast \u4e3a\u7a7a\u6216\u8005 fast.next \u4e3a\u7a7a\uff0c\u5faa\u73af\u5c31\u53ef\u4ee5\u7ec8\u6b62\u4e86\u3002 \u5b8c\u6574\u5b9e\u73b0\u5982\u4e0b: /** * @param {ListNode} head * @return {boolean} */ var isPalindrome = function ( head ) { let reverse = ( pre , cur ) => { if ( ! cur ) return pre ; let next = cur . next ; cur . next = pre ; return reverse ( cur , next ); } let dummyHead = slow = fast = new ListNode (); dummyHead . next = head ; // \u6ce8\u610f\u6ce8\u610f\uff0c\u6765\u627e\u4e2d\u70b9\u4e86, \u9ec4\u91d1\u6a21\u677f while ( fast && fast . next ) { slow = slow . next ; fast = fast . next . next ; } let next = slow . next ; slow . next = null ; let newStart = reverse ( null , next ); for ( let p = head , newP = newStart ; newP != null ; p = p . next , newP = newP . next ) { if ( p . val != newP . val ) return false ; } return true ; }; \u6808\u548c\u961f\u5217\u7bc7 \u6709\u6548\u62ec\u53f7 \u7ed9\u5b9a\u4e00\u4e2a\u53ea\u5305\u62ec '('\uff0c')'\uff0c'{'\uff0c'}'\uff0c'['\uff0c']' \u7684\u5b57\u7b26\u4e32\uff0c\u5224\u65ad\u5b57\u7b26\u4e32\u662f\u5426\u6709\u6548\u3002 \u6709\u6548\u5b57\u7b26\u4e32\u9700\u6ee1\u8db3\uff1a \u5de6\u62ec\u53f7\u5fc5\u987b\u7528\u76f8\u540c\u7c7b\u578b\u7684\u53f3\u62ec\u53f7\u95ed\u5408\u3002 \u5de6\u62ec\u53f7\u5fc5\u987b\u4ee5\u6b63\u786e\u7684\u987a\u5e8f\u95ed\u5408\u3002 \u6ce8\u610f\u7a7a\u5b57\u7b26\u4e32\u53ef\u88ab\u8ba4\u4e3a\u662f\u6709\u6548\u5b57\u7b26\u4e32\u3002 \u793a\u4f8b: \u8f93\u5165: \"()\" \u8f93\u51fa: true \u6765\u6e90: LeetCode\u7b2c20\u9898","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"algre/04-%E6%B1%82%E9%93%BE%E8%A1%A8%E4%B8%AD%E9%97%B4%E8%8A%82%E7%82%B9/#_5","text":"/** * @param {string} s * @return {boolean} */ var isValid = function(s) { let stack = []; for(let i = 0; i < s.length; i++) { let ch = s.charAt(i); if(ch == '(' || ch == '[' || ch == '{') stack.push(ch); if(!stack.length) return false; if(ch == ')' && stack.pop() !== '(') return false; if(ch == ']' && stack.pop() !== '[' ) return false; if(ch == '}' && stack.pop() !== '{') return false; } return stack.length === 0; };","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"algre/04-%E6%B1%82%E9%93%BE%E8%A1%A8%E4%B8%AD%E9%97%B4%E8%8A%82%E7%82%B9/#flatten","text":"\u5c06\u591a\u7ef4\u6570\u7ec4\u8f6c\u5316\u4e3a\u4e00\u7ef4\u6570\u7ec4\u3002 \u793a\u4f8b: [1, [2, [3, [4, 5]]], 6] -> [1, 2, 3, 4, 5, 6]","title":"\u591a\u7ef4\u6570\u7ec4 flatten"},{"location":"algre/04-%E6%B1%82%E9%93%BE%E8%A1%A8%E4%B8%AD%E9%97%B4%E8%8A%82%E7%82%B9/#_6","text":"/** * @constructor * @param {NestedInteger[]} nestedList * @return {Integer[]} */ let flatten = (nestedList) => { let result = []; let fn = function (target, ary) { for (let i = 0; i < ary.length; i++) { let item = ary[i]; if (Array.isArray(ary[i])) { fn(target, item); } else { target.push(item); } } } fn(result, nestedList) return result; \u540c\u65f6\u53ef\u91c7\u7528 reduce \u7684\u65b9\u5f0f, \u4e00\u884c\u5c31\u53ef\u4ee5\u89e3\u51b3\uff0c\u975e\u5e38\u7b80\u6d01\u3002 let flatten = (nestedList) => nestedList.reduce((pre, cur) => pre.concat(Array.isArray(cur) ? flatten(cur): cur), [])","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"algre/05-%E4%BA%8C%E5%8F%89%E6%A0%91%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86/","text":"\u4e8c\u53c9\u6811\u5c42\u5e8f\u904d\u5386 \u00b6 \u4e8c\u53c9\u6811\u7684\u5c42\u5e8f\u904d\u5386\u672c\u662f\u4e0b\u4e00\u7ae0\u7684\u5185\u5bb9\uff0c\u4f46\u662f\u5176\u4e2d\u961f\u5217\u7684\u6027\u8d28\u53c8\u4f53\u73b0\u5f97\u592a\u660e\u663e\uff0c\u56e0\u6b64\u5c31\u4ee5\u8fd9\u6837\u4e00\u7c7b\u95ee\u9898\u6765\u8ba9\u5927\u5bb6\u7ec3\u4e60\u961f\u5217\u7684\u76f8\u5173\u64cd\u4f5c\u3002\u8fd9\u91cc\u4f1a\u4e0d\u4ec5\u4ec5\u6d89\u53ca\u5230\u666e\u901a\u7684\u5c42\u5e8f\u904d\u5386, \u800c\u4e14\u6d89\u53ca\u5230\u53d8\u5f62\u95ee\u9898\uff0c\u8ba9\u5927\u5bb6\u5f7b\u5e95\u638c\u63e1\u3002 \u666e\u901a\u7684\u5c42\u6b21\u904d\u5386 \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u8fd4\u56de\u5176\u6309\u5c42\u6b21\u904d\u5386\u7684\u8282\u70b9\u503c\u3002 \uff08\u5373\u9010\u5c42\u5730\uff0c\u4ece\u5de6\u5230\u53f3\u8bbf\u95ee\u6240\u6709\u8282\u70b9\uff09\u3002 \u793a\u4f8b: 3 / \\ 9 20 / \\ 15 7 \u7ed3\u679c\u5e94\u8f93\u51fa: [ [3], [9,20], [15,7] ] \u6765\u6e90: LeetCode\u7b2c102\u9898 \u5b9e\u73b0 \u00b6 /** * @param {TreeNode} root * @return {number[][]} */ var levelOrder = function ( root ) { if ( ! root ) return []; let queue = []; let res = []; let level = 0 ; queue . push ( root ); let temp ; while ( queue . length ) { res . push ([]); let size = queue . length ; // \u6ce8\u610f\u4e00\u4e0b: size -- \u5728\u5c42\u6b21\u904d\u5386\u4e2d\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u6280\u5de7 while ( size -- ) { // \u51fa\u961f let front = queue . shift (); res [ level ]. push ( front . val ); // \u5165\u961f if ( front . left ) queue . push ( front . left ); if ( front . right ) queue . push ( front . right ); } level ++ ; } return res ; }; \u4e8c\u53c9\u6811\u7684\u952f\u9f7f\u5f62\u5c42\u6b21\u904d\u5386 \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u8fd4\u56de\u5176\u8282\u70b9\u503c\u7684\u952f\u9f7f\u5f62\u5c42\u6b21\u904d\u5386\u3002\uff08\u5373\u5148\u4ece\u5de6\u5f80\u53f3\uff0c\u518d\u4ece\u53f3\u5f80\u5de6\u8fdb\u884c\u4e0b\u4e00\u5c42\u904d\u5386\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u5c42\u4e0e\u5c42\u4e4b\u95f4\u4ea4\u66ff\u8fdb\u884c\uff09\u3002 \u4f8b\u5982\uff1a \u7ed9\u5b9a\u4e8c\u53c9\u6811 [3,9,20,null,null,15,7], \u8f93\u51fa\u5e94\u5982\u4e0b: 3 / \\ 9 20 / \\ 15 7 \u8fd4\u56de\u952f\u9f7f\u5f62\u5c42\u6b21\u904d\u5386\u5982\u4e0b\uff1a [ [3], [20,9], [15,7] ] \u6765\u6e90: LeetCode\u7b2c103\u9898 \u601d\u8def \u00b6 \u8fd9\u4e00\u9898\u601d\u8def\u7a0d\u5fae\u4e0d\u540c\uff0c\u4f46\u5982\u679c\u628a\u63e1\u4f4f\u5c42\u6b21\u904d\u5386\u7684\u601d\u8def\uff0c\u5c31\u4f1a\u975e\u5e38\u7b80\u5355\u3002 \u4ee3\u7801\u5b9e\u73b0 \u00b6 var zigzagLevelOrder = function ( root ) { if ( ! root ) return []; let queue = []; let res = []; let level = 0 ; queue . push ( root ); let temp ; while ( queue . length ) { res . push ([]); let size = queue . length ; while ( size -- ) { // \u51fa\u961f let front = queue . shift (); res [ level ]. push ( front . val ); if ( front . left ) queue . push ( front . left ); if ( front . right ) queue . push ( front . right ); } // \u4ec5\u4ec5\u589e\u52a0\u4e0b\u9762\u4e00\u884c\u4ee3\u7801\u5373\u53ef if ( level % 2 ) res [ level ]. reverse (); level ++ ; } return res ; }; \u4e8c\u53c9\u6811\u7684\u53f3\u89c6\u56fe \u00b6 \u7ed9\u5b9a\u4e00\u68f5\u4e8c\u53c9\u6811\uff0c\u60f3\u8c61\u81ea\u5df1\u7ad9\u5728\u5b83\u7684\u53f3\u4fa7\uff0c\u6309\u7167\u4ece\u9876\u90e8\u5230\u5e95\u90e8\u7684\u987a\u5e8f\uff0c\u8fd4\u56de\u4ece\u53f3\u4fa7\u6240\u80fd\u770b\u5230\u7684\u8282\u70b9\u503c\u3002 \u793a\u4f8b: \u8f93\u5165: [1,2,3,null,5,null,4] \u8f93\u51fa: [1, 3, 4] \u89e3\u91ca: 1 <--- / \\ 2 3 <--- \\ \\ 5 4 <--- \u6765\u6e90: LeetCode\u7b2c199\u9898 \u601d\u8def \u00b6 \u53f3\u89c6\u56fe\uff1f\u5982\u679c\u4f60\u4ee5 DFS \u5373\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u7684\u601d\u8def\u6765\u60f3\uff0c\u4f60\u4f1a\u611f\u89c9\u5f02\u5e38\u7684\u75db\u82e6\u3002\u6ca1\u9519\uff0c\u5f53\u521d\u6211\u5c31\u662f\u8fd9\u6837\u88ab\u5751\u7684:\uff09 \u4f46\u5982\u679c\u7528\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22\u7684\u601d\u60f3\uff0c\u5373\u7528\u5c42\u5e8f\u904d\u5386\u7684\u65b9\u5f0f\uff0c\u6c42\u89e3\u8fd9\u9053\u9898\u76ee\u4e5f\u53d8\u5f97\u8f7b\u800c\u6613\u4e3e\u3002 \u4ee3\u7801\u5b9e\u73b0 \u00b6 /** * @param {TreeNode} root * @return {number[]} */ var rightSideView = function ( root ) { if ( ! root ) return []; let queue = []; let res = []; queue . push ( root ); while ( queue . length ) { res . push ( queue [ 0 ]. val ); let size = queue . length ; while ( size -- ) { // \u4e00\u4e2asize\u7684\u5faa\u73af\u5c31\u662f\u4e00\u5c42\u7684\u904d\u5386\uff0c\u5728\u8fd9\u4e00\u5c42\u53ea\u62ff\u6700\u53f3\u8fb9\u7684\u7ed3\u70b9 let front = queue . shift (); if ( front . right ) queue . push ( front . right ); if ( front . left ) queue . push ( front . left ); } } return res ; };","title":"05-\u4e8c\u53c9\u6811\u5c42\u5e8f\u904d\u5386.md"},{"location":"algre/05-%E4%BA%8C%E5%8F%89%E6%A0%91%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86/#_1","text":"\u4e8c\u53c9\u6811\u7684\u5c42\u5e8f\u904d\u5386\u672c\u662f\u4e0b\u4e00\u7ae0\u7684\u5185\u5bb9\uff0c\u4f46\u662f\u5176\u4e2d\u961f\u5217\u7684\u6027\u8d28\u53c8\u4f53\u73b0\u5f97\u592a\u660e\u663e\uff0c\u56e0\u6b64\u5c31\u4ee5\u8fd9\u6837\u4e00\u7c7b\u95ee\u9898\u6765\u8ba9\u5927\u5bb6\u7ec3\u4e60\u961f\u5217\u7684\u76f8\u5173\u64cd\u4f5c\u3002\u8fd9\u91cc\u4f1a\u4e0d\u4ec5\u4ec5\u6d89\u53ca\u5230\u666e\u901a\u7684\u5c42\u5e8f\u904d\u5386, \u800c\u4e14\u6d89\u53ca\u5230\u53d8\u5f62\u95ee\u9898\uff0c\u8ba9\u5927\u5bb6\u5f7b\u5e95\u638c\u63e1\u3002","title":"\u4e8c\u53c9\u6811\u5c42\u5e8f\u904d\u5386"},{"location":"algre/05-%E4%BA%8C%E5%8F%89%E6%A0%91%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86/#_2","text":"\u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u8fd4\u56de\u5176\u6309\u5c42\u6b21\u904d\u5386\u7684\u8282\u70b9\u503c\u3002 \uff08\u5373\u9010\u5c42\u5730\uff0c\u4ece\u5de6\u5230\u53f3\u8bbf\u95ee\u6240\u6709\u8282\u70b9\uff09\u3002 \u793a\u4f8b: 3 / \\ 9 20 / \\ 15 7 \u7ed3\u679c\u5e94\u8f93\u51fa: [ [3], [9,20], [15,7] ] \u6765\u6e90: LeetCode\u7b2c102\u9898","title":"\u666e\u901a\u7684\u5c42\u6b21\u904d\u5386"},{"location":"algre/05-%E4%BA%8C%E5%8F%89%E6%A0%91%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86/#_3","text":"/** * @param {TreeNode} root * @return {number[][]} */ var levelOrder = function ( root ) { if ( ! root ) return []; let queue = []; let res = []; let level = 0 ; queue . push ( root ); let temp ; while ( queue . length ) { res . push ([]); let size = queue . length ; // \u6ce8\u610f\u4e00\u4e0b: size -- \u5728\u5c42\u6b21\u904d\u5386\u4e2d\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u6280\u5de7 while ( size -- ) { // \u51fa\u961f let front = queue . shift (); res [ level ]. push ( front . val ); // \u5165\u961f if ( front . left ) queue . push ( front . left ); if ( front . right ) queue . push ( front . right ); } level ++ ; } return res ; };","title":"\u5b9e\u73b0"},{"location":"algre/05-%E4%BA%8C%E5%8F%89%E6%A0%91%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86/#_4","text":"\u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u8fd4\u56de\u5176\u8282\u70b9\u503c\u7684\u952f\u9f7f\u5f62\u5c42\u6b21\u904d\u5386\u3002\uff08\u5373\u5148\u4ece\u5de6\u5f80\u53f3\uff0c\u518d\u4ece\u53f3\u5f80\u5de6\u8fdb\u884c\u4e0b\u4e00\u5c42\u904d\u5386\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u5c42\u4e0e\u5c42\u4e4b\u95f4\u4ea4\u66ff\u8fdb\u884c\uff09\u3002 \u4f8b\u5982\uff1a \u7ed9\u5b9a\u4e8c\u53c9\u6811 [3,9,20,null,null,15,7], \u8f93\u51fa\u5e94\u5982\u4e0b: 3 / \\ 9 20 / \\ 15 7 \u8fd4\u56de\u952f\u9f7f\u5f62\u5c42\u6b21\u904d\u5386\u5982\u4e0b\uff1a [ [3], [20,9], [15,7] ] \u6765\u6e90: LeetCode\u7b2c103\u9898","title":"\u4e8c\u53c9\u6811\u7684\u952f\u9f7f\u5f62\u5c42\u6b21\u904d\u5386"},{"location":"algre/05-%E4%BA%8C%E5%8F%89%E6%A0%91%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86/#_5","text":"\u8fd9\u4e00\u9898\u601d\u8def\u7a0d\u5fae\u4e0d\u540c\uff0c\u4f46\u5982\u679c\u628a\u63e1\u4f4f\u5c42\u6b21\u904d\u5386\u7684\u601d\u8def\uff0c\u5c31\u4f1a\u975e\u5e38\u7b80\u5355\u3002","title":"\u601d\u8def"},{"location":"algre/05-%E4%BA%8C%E5%8F%89%E6%A0%91%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86/#_6","text":"var zigzagLevelOrder = function ( root ) { if ( ! root ) return []; let queue = []; let res = []; let level = 0 ; queue . push ( root ); let temp ; while ( queue . length ) { res . push ([]); let size = queue . length ; while ( size -- ) { // \u51fa\u961f let front = queue . shift (); res [ level ]. push ( front . val ); if ( front . left ) queue . push ( front . left ); if ( front . right ) queue . push ( front . right ); } // \u4ec5\u4ec5\u589e\u52a0\u4e0b\u9762\u4e00\u884c\u4ee3\u7801\u5373\u53ef if ( level % 2 ) res [ level ]. reverse (); level ++ ; } return res ; };","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"algre/05-%E4%BA%8C%E5%8F%89%E6%A0%91%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86/#_7","text":"\u7ed9\u5b9a\u4e00\u68f5\u4e8c\u53c9\u6811\uff0c\u60f3\u8c61\u81ea\u5df1\u7ad9\u5728\u5b83\u7684\u53f3\u4fa7\uff0c\u6309\u7167\u4ece\u9876\u90e8\u5230\u5e95\u90e8\u7684\u987a\u5e8f\uff0c\u8fd4\u56de\u4ece\u53f3\u4fa7\u6240\u80fd\u770b\u5230\u7684\u8282\u70b9\u503c\u3002 \u793a\u4f8b: \u8f93\u5165: [1,2,3,null,5,null,4] \u8f93\u51fa: [1, 3, 4] \u89e3\u91ca: 1 <--- / \\ 2 3 <--- \\ \\ 5 4 <--- \u6765\u6e90: LeetCode\u7b2c199\u9898","title":"\u4e8c\u53c9\u6811\u7684\u53f3\u89c6\u56fe"},{"location":"algre/05-%E4%BA%8C%E5%8F%89%E6%A0%91%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86/#_8","text":"\u53f3\u89c6\u56fe\uff1f\u5982\u679c\u4f60\u4ee5 DFS \u5373\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u7684\u601d\u8def\u6765\u60f3\uff0c\u4f60\u4f1a\u611f\u89c9\u5f02\u5e38\u7684\u75db\u82e6\u3002\u6ca1\u9519\uff0c\u5f53\u521d\u6211\u5c31\u662f\u8fd9\u6837\u88ab\u5751\u7684:\uff09 \u4f46\u5982\u679c\u7528\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22\u7684\u601d\u60f3\uff0c\u5373\u7528\u5c42\u5e8f\u904d\u5386\u7684\u65b9\u5f0f\uff0c\u6c42\u89e3\u8fd9\u9053\u9898\u76ee\u4e5f\u53d8\u5f97\u8f7b\u800c\u6613\u4e3e\u3002","title":"\u601d\u8def"},{"location":"algre/05-%E4%BA%8C%E5%8F%89%E6%A0%91%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86/#_9","text":"/** * @param {TreeNode} root * @return {number[]} */ var rightSideView = function ( root ) { if ( ! root ) return []; let queue = []; let res = []; queue . push ( root ); while ( queue . length ) { res . push ( queue [ 0 ]. val ); let size = queue . length ; while ( size -- ) { // \u4e00\u4e2asize\u7684\u5faa\u73af\u5c31\u662f\u4e00\u5c42\u7684\u904d\u5386\uff0c\u5728\u8fd9\u4e00\u5c42\u53ea\u62ff\u6700\u53f3\u8fb9\u7684\u7ed3\u70b9 let front = queue . shift (); if ( front . right ) queue . push ( front . right ); if ( front . left ) queue . push ( front . left ); } } return res ; };","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"algre/06-%E6%97%A0%E6%9D%83%E5%9B%BE%20BFS%20%E9%81%8D%E5%8E%86/","text":"\u65e0\u6743\u56fe BFS \u904d\u5386 \u00b6 \u5b8c\u5168\u5e73\u65b9\u6570 \u00b6 \u7ed9\u5b9a\u6b63\u6574\u6570 n\uff0c\u627e\u5230\u82e5\u5e72\u4e2a\u5b8c\u5168\u5e73\u65b9\u6570\uff08\u6bd4\u5982 1, 4, 9, 16, ...\uff09\u4f7f\u5f97\u5b83\u4eec\u7684\u548c\u7b49\u4e8e n\u3002\u4f60\u9700\u8981\u8ba9\u7ec4\u6210\u548c\u7684\u5b8c\u5168\u5e73\u65b9\u6570\u7684\u4e2a\u6570\u6700\u5c11\u3002 \u793a\u4f8b: \u8f93\u5165: n = 12 \u8f93\u51fa: 3 \u89e3\u91ca: 12 = 4 + 4 + 4. \u6765\u6e90: LeetCode\u7b2c279\u9898 \u601d\u8def \u00b6 \u8fd9\u4e00\u9898\u5176\u5b9e\u6700\u5bb9\u6613\u60f3\u5230\u7684\u601d\u8def\u662f\u52a8\u6001\u89c4\u5212\uff0c\u6211\u4eec\u653e\u5230\u540e\u9762\u4e13\u95e8\u6765\u62c6\u89e3\u3002\u5b9e\u9645\u4e0a\u7528\u961f\u5217\u8fdb\u884c\u56fe\u7684\u5efa\u6a21\uff0c\u4e5f\u662f\u53ef\u4ee5\u987a\u5229\u5730\u7528\u5e7f\u5ea6\u4f18\u5148\u904d\u5386\u7684\u65b9\u5f0f\u89e3\u51b3\u7684\u3002 \u770b\u5230\u8fd9\u4e2a\u56fe\uff0c\u4f60\u53ef\u80fd\u4f1a\u6709\u70b9\u61f5\uff0c\u6211\u7a0d\u5fae\u89e3\u91ca\u4e00\u4e0b\u4f60\u5c31\u660e\u767d\u4e86\u3002 \u5728\u8fd9\u4e2a\u65e0\u6743\u56fe\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u70b9\u6307\u5411\u7684\u90fd\u662f\u5b83\u53ef\u80fd\u7ecf\u8fc7\u7684\u4e0a\u4e00\u4e2a\u8282\u70b9\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5bf9 5 \u800c\u8a00\uff0c\u53ef\u80fd\u662f 4 \u52a0\u4e0a\u4e861\u7684\u5e73\u65b9\u8f6c\u6362\u800c\u6765\uff0c\u4e5f\u53ef\u80fd\u662f1 \u52a0\u4e0a\u4e862\u7684\u5e73\u65b9\u8f6c\u6362\u800c\u6765\uff0c\u56e0\u6b64\u8ddf1\u548c2\u90fd\u6709\u8054\u7cfb\uff0c\u4f9d\u6b21\u7c7b\u63a8\u3002 \u90a3\u4e48\u6211\u4eec\u73b0\u5728\u8981\u505a\u4e86\u5c31\u662f\u5bfb\u627e\u5230\u4ece n \u8f6c\u6362\u5230 0 \u6700\u77ed\u7684\u8fde\u7ebf\u6570\u3002 \u4e3e\u4e2a\u4f8b\u5b50\uff0c n = 8 \u65f6\uff0c\u6211\u4eec\u9700\u8981\u627e\u5230\u5b83\u7684\u90bb\u5c45\u8282\u70b94\u548c7\uff0c\u6b64\u65f6\u5230\u8fbe 4 \u548c\u5230\u8fbe 7 \u7684\u6b65\u6570\u90fd\u4e3a 1, \u7136\u540e\u5206\u522b\u4ece 4 \u548c 7 \u51fa\u53d1\uff0c4 \u627e\u5230\u90bb\u5c45\u8282\u70b93\u548c0\uff0c\u8fbe\u5230 3 \u548c 0 \u7684\u6b65\u6570\u90fd\u4e3a 2\uff0c\u8003\u8651\u5230\u6b64\u65f6\u5df2\u7ecf\u5230\u8fbe 0\uff0c\u904d\u5386\u7ec8\u6b62\uff0c\u8fd4\u56de\u5230\u8fbe 0 \u7684\u6b65\u6570 2 \u5373\u53ef\u3002 Talk is cheap, show me your code. \u6211\u4eec\u63a5\u4e0b\u6765\u6765\u4e00\u6b65\u6b65\u5b9e\u73b0\u8fd9\u4e2a\u5bfb\u627e\u7684\u8fc7\u7a0b\u3002 \u5b9e\u73b0 \u00b6 \u63a5\u4e0b\u6765\u6211\u4eec\u6765\u5b9e\u73b0\u7b2c\u4e00\u7248\u7684\u4ee3\u7801\u3002 /** * @param {number} n * @return {number} */ var numSquares = function(n) { let queue = []; queue.push([n, 0]); while(queue.length) { let [num, step] = queue.shift(); for(let i = 1; ; i ++) { let nextNum = num - i * i; if(nextNum < 0) break; // \u8fd8\u5dee\u6700\u540e\u4e00\u6b65\u5c31\u5230\u4e86\uff0c\u76f4\u63a5\u8fd4\u56de step + 1 if(nextNum == 0) return step + 1; queue.push([nextNum, step + 1]); } } // \u6700\u540e\u662f\u4e0d\u9700\u8981\u8fd4\u56de\u53e6\u5916\u7684\u503c\u7684\uff0c\u56e0\u4e3a 1 \u4e5f\u662f\u5b8c\u5168\u5e73\u65b9\u6570\uff0c\u6240\u6709\u7684\u6570\u90fd\u80fd\u7528 1 \u6765\u7ec4\u5408 }; \u8fd9\u4e2a\u89e3\u6cd5\u4ece\u529f\u80fd\u4e0a\u6765\u8bb2\u662f\u6ca1\u6709\u95ee\u9898\u7684\uff0c\u4f46\u662f\u5176\u4e2d\u9690\u85cf\u4e86\u5de8\u5927\u7684\u6027\u80fd\u95ee\u9898\uff0c\u4f60\u53ef\u4ee5\u53bbLeetCode\u53bb\u6d4b\u8bd5\u4e00\u4e0b\uff0c\u57fa\u672c\u662f\u8d85\u65f6\u3002 \u90a3\u4e3a\u4ec0\u4e48\u4f1a\u51fa\u73b0\u8fd9\u6837\u7684\u95ee\u9898\uff1f \u51fa\u5c31\u51fa\u5728\u8fd9\u6837\u4e00\u884c\u4ee3\u7801: queue.push([nextNum, step + 1]); 1 \u53ea\u8981\u662f\u5927\u4e8e 0 \u7684\u6570\uff0c\u7edf\u7edf\u585e\u8fdb\u961f\u5217\u3002\u8981\u77e5\u9053 2 - 1 = 1\uff0c 5 - 4 = 1\uff0c 9 - 8 = 1 ......\u8fd9\u6837\u4f1a\u91cd\u590d\u975e\u5e38\u591a\u7684 1, \u4f9d\u6b21\u7c7b\u63a8\uff0c\u4e5f\u4f1a\u91cd\u590d\u975e\u5e38\u591a\u76842,3\u7b49\u7b49\u7b49\u7b49\u3002 \u8fd9\u6837\u5927\u91cf\u7684\u91cd\u590d\u6570\u5b57\u4e0d\u4ec5\u4ec5\u6d88\u8017\u4e86\u66f4\u591a\u7684\u5faa\u73af\u6b21\u6570\uff0c\u540c\u65f6\u4e5f\u9020\u6210\u66f4\u52a0\u5de8\u5927\u7684\u5185\u5b58\u7a7a\u95f4\u538b\u529b\u3002 \u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u5df2\u7ecf\u63a8\u5165\u961f\u5217\u7684\u6570\u5b57\u8fdb\u884c\u6807\u8bb0\uff0c\u907f\u514d\u91cd\u590d\u63a8\u5165\u3002\u6539\u5584\u4ee3\u7801\u5982\u4e0b: var numSquares = function ( n ) { let map = new Map (); let queue = []; queue . push ([ n , 0 ]); map . set ( n , true ); while ( queue . length ) { let [ num , step ] = queue . shift (); for ( let i = 1 ; ; i ++ ) { let nextNum = num - i * i ; if ( nextNum < 0 ) break ; if ( nextNum == 0 ) return step + 1 ; // nextNum \u672a\u88ab\u8bbf\u95ee\u8fc7 if ( ! map . get ( nextNum )){ queue . push ([ nextNum , step + 1 ]); // \u6807\u8bb0\u5df2\u7ecf\u8bbf\u95ee\u8fc7 map . set ( nextNum , true ); } } } }; \u5355\u8bcd\u63a5\u9f99 \u00b6 \u7ed9\u5b9a\u4e24\u4e2a\u5355\u8bcd\uff08beginWord \u548c endWord\uff09\u548c\u4e00\u4e2a\u5b57\u5178\uff0c\u627e\u5230\u4ece beginWord \u5230 endWord \u7684\u6700\u77ed\u8f6c\u6362\u5e8f\u5217\u7684\u957f\u5ea6\u3002\u8f6c\u6362\u9700\u9075\u5faa\u5982\u4e0b\u89c4\u5219\uff1a \u6bcf\u6b21\u8f6c\u6362\u53ea\u80fd\u6539\u53d8\u4e00\u4e2a\u5b57\u6bcd\u3002 \u8f6c\u6362\u8fc7\u7a0b\u4e2d\u7684\u4e2d\u95f4\u5355\u8bcd\u5fc5\u987b\u662f\u5b57\u5178\u4e2d\u7684\u5355\u8bcd\u3002 \u8bf4\u660e: \u5982\u679c\u4e0d\u5b58\u5728\u8fd9\u6837\u7684\u8f6c\u6362\u5e8f\u5217\uff0c\u8fd4\u56de 0\u3002 \u6240\u6709\u5355\u8bcd\u5177\u6709\u76f8\u540c\u7684\u957f\u5ea6\u3002 \u6240\u6709\u5355\u8bcd\u53ea\u7531\u5c0f\u5199\u5b57\u6bcd\u7ec4\u6210\u3002 \u5b57\u5178\u4e2d\u4e0d\u5b58\u5728\u91cd\u590d\u7684\u5355\u8bcd\u3002 \u4f60\u53ef\u4ee5\u5047\u8bbe beginWord \u548c endWord \u662f\u975e\u7a7a\u7684\uff0c\u4e14\u4e8c\u8005\u4e0d\u76f8\u540c\u3002 \u793a\u4f8b: \u8f93\u5165: beginWord = \"hit\", endWord = \"cog\", wordList = [\"hot\",\"dot\",\"dog\",\"lot\",\"log\",\"cog\"] \u8f93\u51fa: 5 \u89e3\u91ca: \u4e00\u4e2a\u6700\u77ed\u8f6c\u6362\u5e8f\u5217\u662f \"hit\" -> \"hot\" -> \"dot\" -> \"dog\" -> \"cog\", \u8fd4\u56de\u5b83\u7684\u957f\u5ea6 5\u3002 \u6765\u6e90: LeetCode\u7b2c127\u9898 \u601d\u8def \u00b6 \u8fd9\u4e00\u9898\u662f\u4e00\u4e2a\u66f4\u52a0\u5178\u578b\u7684\u7528\u56fe\u5efa\u6a21\u7684\u95ee\u9898\u3002\u5982\u679c\u6bcf\u4e00\u4e2a\u5355\u8bcd\u90fd\u662f\u4e00\u4e2a\u8282\u70b9\uff0c\u90a3\u4e48\u53ea\u8981\u548c\u8fd9\u4e2a\u5355\u8bcd\u4ec5\u6709\u4e00\u4e2a\u5b57\u6bcd\u4e0d\u540c\uff0c\u90a3\u4e48\u5c31\u662f\u5b83\u7684\u76f8\u90bb\u8282\u70b9\u3002 \u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 BFS \u7684\u65b9\u5f0f\u6765\u8fdb\u884c\u904d\u5386\u3002\u5b9e\u73b0\u5982\u4e0b: \u4ee3\u7801\u5b9e\u73b0 \u00b6 /** * @param {string} beginWord * @param {string} endWord * @param {string[]} wordList * @return {number} */ var ladderLength = function ( beginWord , endWord , wordList ) { // \u4e24\u4e2a\u5355\u8bcd\u5728\u56fe\u4e2d\u662f\u5426\u76f8\u90bb const isSimilar = ( a , b ) => { let diff = 0 for ( let i = 0 ; i < a . length ; i ++ ) { if ( a . charAt ( i ) !== b . charAt ( i )) diff ++ ; if ( diff > 1 ) return false ; } return true ; } let queue = [ beginWord ]; let index = wordList . indexOf ( beginWord ); if ( index !== - 1 ) wordList . splice ( index , 1 ); let res = 2 ; while ( queue . length ) { let size = queue . length ; while ( size -- ) { let front = queue . shift (); for ( let i = 0 ; i < wordList . length ; i ++ ) { if ( ! isSimilar ( front , wordList [ i ])) continue ; // \u627e\u5230\u4e86 if ( wordList [ i ] === endWord ) { return res ; } else { queue . push ( wordList [ i ]); } // wordList[i]\u5df2\u7ecf\u6210\u529f\u63a8\u5165\uff0c\u73b0\u5728\u4e0d\u9700\u8981\u4e86\uff0c\u5220\u9664\u5373\u53ef // \u8fd9\u4e00\u6b65\u6027\u80fd\u4f18\u5316\uff0c\u76f8\u5f53\u5173\u952e\uff0c\u4e0d\u7136100%\u8d85\u65f6 wordList . splice ( i , 1 ); i -- ; } } // \u6b65\u6570 +1 res += 1 ; } return 0 ; };","title":"06-\u65e0\u6743\u56fe BFS \u904d\u5386.md"},{"location":"algre/06-%E6%97%A0%E6%9D%83%E5%9B%BE%20BFS%20%E9%81%8D%E5%8E%86/#bfs","text":"","title":"\u65e0\u6743\u56fe BFS \u904d\u5386"},{"location":"algre/06-%E6%97%A0%E6%9D%83%E5%9B%BE%20BFS%20%E9%81%8D%E5%8E%86/#_1","text":"\u7ed9\u5b9a\u6b63\u6574\u6570 n\uff0c\u627e\u5230\u82e5\u5e72\u4e2a\u5b8c\u5168\u5e73\u65b9\u6570\uff08\u6bd4\u5982 1, 4, 9, 16, ...\uff09\u4f7f\u5f97\u5b83\u4eec\u7684\u548c\u7b49\u4e8e n\u3002\u4f60\u9700\u8981\u8ba9\u7ec4\u6210\u548c\u7684\u5b8c\u5168\u5e73\u65b9\u6570\u7684\u4e2a\u6570\u6700\u5c11\u3002 \u793a\u4f8b: \u8f93\u5165: n = 12 \u8f93\u51fa: 3 \u89e3\u91ca: 12 = 4 + 4 + 4. \u6765\u6e90: LeetCode\u7b2c279\u9898","title":"\u5b8c\u5168\u5e73\u65b9\u6570"},{"location":"algre/06-%E6%97%A0%E6%9D%83%E5%9B%BE%20BFS%20%E9%81%8D%E5%8E%86/#_2","text":"\u8fd9\u4e00\u9898\u5176\u5b9e\u6700\u5bb9\u6613\u60f3\u5230\u7684\u601d\u8def\u662f\u52a8\u6001\u89c4\u5212\uff0c\u6211\u4eec\u653e\u5230\u540e\u9762\u4e13\u95e8\u6765\u62c6\u89e3\u3002\u5b9e\u9645\u4e0a\u7528\u961f\u5217\u8fdb\u884c\u56fe\u7684\u5efa\u6a21\uff0c\u4e5f\u662f\u53ef\u4ee5\u987a\u5229\u5730\u7528\u5e7f\u5ea6\u4f18\u5148\u904d\u5386\u7684\u65b9\u5f0f\u89e3\u51b3\u7684\u3002 \u770b\u5230\u8fd9\u4e2a\u56fe\uff0c\u4f60\u53ef\u80fd\u4f1a\u6709\u70b9\u61f5\uff0c\u6211\u7a0d\u5fae\u89e3\u91ca\u4e00\u4e0b\u4f60\u5c31\u660e\u767d\u4e86\u3002 \u5728\u8fd9\u4e2a\u65e0\u6743\u56fe\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u70b9\u6307\u5411\u7684\u90fd\u662f\u5b83\u53ef\u80fd\u7ecf\u8fc7\u7684\u4e0a\u4e00\u4e2a\u8282\u70b9\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5bf9 5 \u800c\u8a00\uff0c\u53ef\u80fd\u662f 4 \u52a0\u4e0a\u4e861\u7684\u5e73\u65b9\u8f6c\u6362\u800c\u6765\uff0c\u4e5f\u53ef\u80fd\u662f1 \u52a0\u4e0a\u4e862\u7684\u5e73\u65b9\u8f6c\u6362\u800c\u6765\uff0c\u56e0\u6b64\u8ddf1\u548c2\u90fd\u6709\u8054\u7cfb\uff0c\u4f9d\u6b21\u7c7b\u63a8\u3002 \u90a3\u4e48\u6211\u4eec\u73b0\u5728\u8981\u505a\u4e86\u5c31\u662f\u5bfb\u627e\u5230\u4ece n \u8f6c\u6362\u5230 0 \u6700\u77ed\u7684\u8fde\u7ebf\u6570\u3002 \u4e3e\u4e2a\u4f8b\u5b50\uff0c n = 8 \u65f6\uff0c\u6211\u4eec\u9700\u8981\u627e\u5230\u5b83\u7684\u90bb\u5c45\u8282\u70b94\u548c7\uff0c\u6b64\u65f6\u5230\u8fbe 4 \u548c\u5230\u8fbe 7 \u7684\u6b65\u6570\u90fd\u4e3a 1, \u7136\u540e\u5206\u522b\u4ece 4 \u548c 7 \u51fa\u53d1\uff0c4 \u627e\u5230\u90bb\u5c45\u8282\u70b93\u548c0\uff0c\u8fbe\u5230 3 \u548c 0 \u7684\u6b65\u6570\u90fd\u4e3a 2\uff0c\u8003\u8651\u5230\u6b64\u65f6\u5df2\u7ecf\u5230\u8fbe 0\uff0c\u904d\u5386\u7ec8\u6b62\uff0c\u8fd4\u56de\u5230\u8fbe 0 \u7684\u6b65\u6570 2 \u5373\u53ef\u3002 Talk is cheap, show me your code. \u6211\u4eec\u63a5\u4e0b\u6765\u6765\u4e00\u6b65\u6b65\u5b9e\u73b0\u8fd9\u4e2a\u5bfb\u627e\u7684\u8fc7\u7a0b\u3002","title":"\u601d\u8def"},{"location":"algre/06-%E6%97%A0%E6%9D%83%E5%9B%BE%20BFS%20%E9%81%8D%E5%8E%86/#_3","text":"\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u5b9e\u73b0\u7b2c\u4e00\u7248\u7684\u4ee3\u7801\u3002 /** * @param {number} n * @return {number} */ var numSquares = function(n) { let queue = []; queue.push([n, 0]); while(queue.length) { let [num, step] = queue.shift(); for(let i = 1; ; i ++) { let nextNum = num - i * i; if(nextNum < 0) break; // \u8fd8\u5dee\u6700\u540e\u4e00\u6b65\u5c31\u5230\u4e86\uff0c\u76f4\u63a5\u8fd4\u56de step + 1 if(nextNum == 0) return step + 1; queue.push([nextNum, step + 1]); } } // \u6700\u540e\u662f\u4e0d\u9700\u8981\u8fd4\u56de\u53e6\u5916\u7684\u503c\u7684\uff0c\u56e0\u4e3a 1 \u4e5f\u662f\u5b8c\u5168\u5e73\u65b9\u6570\uff0c\u6240\u6709\u7684\u6570\u90fd\u80fd\u7528 1 \u6765\u7ec4\u5408 }; \u8fd9\u4e2a\u89e3\u6cd5\u4ece\u529f\u80fd\u4e0a\u6765\u8bb2\u662f\u6ca1\u6709\u95ee\u9898\u7684\uff0c\u4f46\u662f\u5176\u4e2d\u9690\u85cf\u4e86\u5de8\u5927\u7684\u6027\u80fd\u95ee\u9898\uff0c\u4f60\u53ef\u4ee5\u53bbLeetCode\u53bb\u6d4b\u8bd5\u4e00\u4e0b\uff0c\u57fa\u672c\u662f\u8d85\u65f6\u3002 \u90a3\u4e3a\u4ec0\u4e48\u4f1a\u51fa\u73b0\u8fd9\u6837\u7684\u95ee\u9898\uff1f \u51fa\u5c31\u51fa\u5728\u8fd9\u6837\u4e00\u884c\u4ee3\u7801: queue.push([nextNum, step + 1]); 1 \u53ea\u8981\u662f\u5927\u4e8e 0 \u7684\u6570\uff0c\u7edf\u7edf\u585e\u8fdb\u961f\u5217\u3002\u8981\u77e5\u9053 2 - 1 = 1\uff0c 5 - 4 = 1\uff0c 9 - 8 = 1 ......\u8fd9\u6837\u4f1a\u91cd\u590d\u975e\u5e38\u591a\u7684 1, \u4f9d\u6b21\u7c7b\u63a8\uff0c\u4e5f\u4f1a\u91cd\u590d\u975e\u5e38\u591a\u76842,3\u7b49\u7b49\u7b49\u7b49\u3002 \u8fd9\u6837\u5927\u91cf\u7684\u91cd\u590d\u6570\u5b57\u4e0d\u4ec5\u4ec5\u6d88\u8017\u4e86\u66f4\u591a\u7684\u5faa\u73af\u6b21\u6570\uff0c\u540c\u65f6\u4e5f\u9020\u6210\u66f4\u52a0\u5de8\u5927\u7684\u5185\u5b58\u7a7a\u95f4\u538b\u529b\u3002 \u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u5df2\u7ecf\u63a8\u5165\u961f\u5217\u7684\u6570\u5b57\u8fdb\u884c\u6807\u8bb0\uff0c\u907f\u514d\u91cd\u590d\u63a8\u5165\u3002\u6539\u5584\u4ee3\u7801\u5982\u4e0b: var numSquares = function ( n ) { let map = new Map (); let queue = []; queue . push ([ n , 0 ]); map . set ( n , true ); while ( queue . length ) { let [ num , step ] = queue . shift (); for ( let i = 1 ; ; i ++ ) { let nextNum = num - i * i ; if ( nextNum < 0 ) break ; if ( nextNum == 0 ) return step + 1 ; // nextNum \u672a\u88ab\u8bbf\u95ee\u8fc7 if ( ! map . get ( nextNum )){ queue . push ([ nextNum , step + 1 ]); // \u6807\u8bb0\u5df2\u7ecf\u8bbf\u95ee\u8fc7 map . set ( nextNum , true ); } } } };","title":"\u5b9e\u73b0"},{"location":"algre/06-%E6%97%A0%E6%9D%83%E5%9B%BE%20BFS%20%E9%81%8D%E5%8E%86/#_4","text":"\u7ed9\u5b9a\u4e24\u4e2a\u5355\u8bcd\uff08beginWord \u548c endWord\uff09\u548c\u4e00\u4e2a\u5b57\u5178\uff0c\u627e\u5230\u4ece beginWord \u5230 endWord \u7684\u6700\u77ed\u8f6c\u6362\u5e8f\u5217\u7684\u957f\u5ea6\u3002\u8f6c\u6362\u9700\u9075\u5faa\u5982\u4e0b\u89c4\u5219\uff1a \u6bcf\u6b21\u8f6c\u6362\u53ea\u80fd\u6539\u53d8\u4e00\u4e2a\u5b57\u6bcd\u3002 \u8f6c\u6362\u8fc7\u7a0b\u4e2d\u7684\u4e2d\u95f4\u5355\u8bcd\u5fc5\u987b\u662f\u5b57\u5178\u4e2d\u7684\u5355\u8bcd\u3002 \u8bf4\u660e: \u5982\u679c\u4e0d\u5b58\u5728\u8fd9\u6837\u7684\u8f6c\u6362\u5e8f\u5217\uff0c\u8fd4\u56de 0\u3002 \u6240\u6709\u5355\u8bcd\u5177\u6709\u76f8\u540c\u7684\u957f\u5ea6\u3002 \u6240\u6709\u5355\u8bcd\u53ea\u7531\u5c0f\u5199\u5b57\u6bcd\u7ec4\u6210\u3002 \u5b57\u5178\u4e2d\u4e0d\u5b58\u5728\u91cd\u590d\u7684\u5355\u8bcd\u3002 \u4f60\u53ef\u4ee5\u5047\u8bbe beginWord \u548c endWord \u662f\u975e\u7a7a\u7684\uff0c\u4e14\u4e8c\u8005\u4e0d\u76f8\u540c\u3002 \u793a\u4f8b: \u8f93\u5165: beginWord = \"hit\", endWord = \"cog\", wordList = [\"hot\",\"dot\",\"dog\",\"lot\",\"log\",\"cog\"] \u8f93\u51fa: 5 \u89e3\u91ca: \u4e00\u4e2a\u6700\u77ed\u8f6c\u6362\u5e8f\u5217\u662f \"hit\" -> \"hot\" -> \"dot\" -> \"dog\" -> \"cog\", \u8fd4\u56de\u5b83\u7684\u957f\u5ea6 5\u3002 \u6765\u6e90: LeetCode\u7b2c127\u9898","title":"\u5355\u8bcd\u63a5\u9f99"},{"location":"algre/06-%E6%97%A0%E6%9D%83%E5%9B%BE%20BFS%20%E9%81%8D%E5%8E%86/#_5","text":"\u8fd9\u4e00\u9898\u662f\u4e00\u4e2a\u66f4\u52a0\u5178\u578b\u7684\u7528\u56fe\u5efa\u6a21\u7684\u95ee\u9898\u3002\u5982\u679c\u6bcf\u4e00\u4e2a\u5355\u8bcd\u90fd\u662f\u4e00\u4e2a\u8282\u70b9\uff0c\u90a3\u4e48\u53ea\u8981\u548c\u8fd9\u4e2a\u5355\u8bcd\u4ec5\u6709\u4e00\u4e2a\u5b57\u6bcd\u4e0d\u540c\uff0c\u90a3\u4e48\u5c31\u662f\u5b83\u7684\u76f8\u90bb\u8282\u70b9\u3002 \u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 BFS \u7684\u65b9\u5f0f\u6765\u8fdb\u884c\u904d\u5386\u3002\u5b9e\u73b0\u5982\u4e0b:","title":"\u601d\u8def"},{"location":"algre/06-%E6%97%A0%E6%9D%83%E5%9B%BE%20BFS%20%E9%81%8D%E5%8E%86/#_6","text":"/** * @param {string} beginWord * @param {string} endWord * @param {string[]} wordList * @return {number} */ var ladderLength = function ( beginWord , endWord , wordList ) { // \u4e24\u4e2a\u5355\u8bcd\u5728\u56fe\u4e2d\u662f\u5426\u76f8\u90bb const isSimilar = ( a , b ) => { let diff = 0 for ( let i = 0 ; i < a . length ; i ++ ) { if ( a . charAt ( i ) !== b . charAt ( i )) diff ++ ; if ( diff > 1 ) return false ; } return true ; } let queue = [ beginWord ]; let index = wordList . indexOf ( beginWord ); if ( index !== - 1 ) wordList . splice ( index , 1 ); let res = 2 ; while ( queue . length ) { let size = queue . length ; while ( size -- ) { let front = queue . shift (); for ( let i = 0 ; i < wordList . length ; i ++ ) { if ( ! isSimilar ( front , wordList [ i ])) continue ; // \u627e\u5230\u4e86 if ( wordList [ i ] === endWord ) { return res ; } else { queue . push ( wordList [ i ]); } // wordList[i]\u5df2\u7ecf\u6210\u529f\u63a8\u5165\uff0c\u73b0\u5728\u4e0d\u9700\u8981\u4e86\uff0c\u5220\u9664\u5373\u53ef // \u8fd9\u4e00\u6b65\u6027\u80fd\u4f18\u5316\uff0c\u76f8\u5f53\u5173\u952e\uff0c\u4e0d\u7136100%\u8d85\u65f6 wordList . splice ( i , 1 ); i -- ; } } // \u6b65\u6570 +1 res += 1 ; } return 0 ; };","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"algre/07-%E5%AE%9E%E7%8E%B0%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/","text":"\u5b9e\u73b0\u4f18\u5148\u961f\u5217 \u00b6 \u6240\u8c13\u4f18\u5148\u961f\u5217\uff0c\u5c31\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u961f\u5217, \u5176\u5e95\u5c42\u4f7f\u7528\u5806\u7684\u7ed3\u6784\uff0c\u4f7f\u5f97\u6bcf\u6b21\u6dfb\u52a0\u6216\u8005\u5220\u9664\uff0c\u8ba9\u961f\u9996\u5143\u7d20\u59cb\u7ec8\u662f\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u3002\u5173\u4e8e\u4f18\u5148\u7ea7\u901a\u8fc7\u4ec0\u4e48\u5b57\u6bb5\u3001\u6309\u7167\u4ec0\u4e48\u6837\u7684\u6bd4\u8f83\u65b9\u5f0f\u6765\u8bbe\u5b9a\uff0c\u53ef\u4ee5\u7531\u6211\u4eec\u81ea\u5df1\u6765\u51b3\u5b9a\u3002 \u8981\u5b9e\u73b0\u4f18\u5148\u961f\u5217\uff0c\u9996\u5148\u6765\u5b9e\u73b0\u4e00\u4e2a\u5806\u7684\u7ed3\u6784\u3002 \u5173\u4e8e\u5806\u7684\u8bf4\u660e \u00b6 \u53ef\u80fd\u4f60\u4ee5\u524d\u6ca1\u6709\u63a5\u89e6\u8fc7\u5806\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u4f46\u662f\u5176\u5b9e\u662f\u5f88\u7b80\u5355\u7684\u4e00\u79cd\u7ed3\u6784\uff0c\u5176\u672c\u8d28\u5c31\u662f\u4e00\u68f5\u4e8c\u53c9\u6811\u3002\u4f46\u662f\u8fd9\u68f5\u4e8c\u53c9\u6811\u6bd4\u8f83\u7279\u6b8a\uff0c\u9664\u4e86\u7528\u6570\u7ec4\u6765\u4f9d\u6b21\u5b58\u50a8\u5404\u4e2a\u8282\u70b9(\u8282\u70b9\u5bf9\u5e94\u7684\u6570\u7ec4\u4e0b\u6807\u548c\u5c42\u5e8f\u904d\u5386\u7684\u5e8f\u53f7\u4e00\u81f4)\u4e4b\u5916\uff0c\u5b83\u9700\u8981\u4fdd\u8bc1\u4efb\u4f55\u4e00\u4e2a\u7236\u8282\u70b9\u7684\u4f18\u5148\u7ea7\u5927\u4e8e\u5b50\u8282\u70b9\uff0c\u8fd9\u4e5f\u662f\u5b83\u6700\u5173\u952e\u7684\u6027\u8d28\uff0c\u56e0\u4e3a\u4fdd\u8bc1\u4e86\u6839\u5143\u7d20\u4e00\u5b9a\u662f\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u3002 \u4e3e\u4e00\u4e2a\u4f8b\u5b50: \u73b0\u5728\u8fd9\u4e2a\u5806\u7684\u6570\u7ec4\u5c31\u662f: [10, 7, 2, 5, 1] \u56e0\u6b64\u4e5f\u4f1a\u4ea7\u751f\u4e24\u4e2a\u975e\u5e38\u5173\u952e\u7684\u64cd\u4f5c\u2014\u2014siftUp \u548c siftDown\u3002 \u5bf9\u4e8esiftUp\u64cd\u4f5c\uff0c\u6211\u4eec\u8bd5\u60f3\u4e00\u4e0b\u73b0\u5728\u6709\u4e00\u4e2a\u6b63\u5e38\u7684\u5806\uff0c\u6ee1\u8db3\u4efb\u4f55\u7236\u5143\u7d20\u4f18\u5148\u7ea7\u5927\u4e8e\u5b50\u5143\u7d20\uff0c\u8fd9\u65f6\u5019\u5411\u8fd9\u4e2a\u5806\u7684\u6570\u7ec4\u672b\u5c3e\u53c8\u6dfb\u52a0\u4e86\u4e00\u4e2a\u5143\u7d20\uff0c\u90a3\u73b0\u5728\u53ef\u80fd\u5c31\u4e0d\u7b26\u5408\u5806\u7684\u7ed3\u6784\u7279\u70b9\u4e86\u3002\u90a3\u4e48\u73b0\u5728\u6211\u5c06\u65b0\u589e\u7684\u8282\u70b9\u548c\u5176\u7236\u8282\u70b9\u8fdb\u884c\u6bd4\u8f83\uff0c\u5982\u679c\u7236\u8282\u70b9\u4f18\u5148\u7ea7\u5c0f\u4e8e\u5b83\uff0c\u5219\u4e24\u8005\u4ea4\u6362\uff0c\u4e0d\u65ad\u5411\u4e0a\u6bd4\u8f83\u76f4\u5230\u6839\u8282\u70b9\u4e3a\u6b62\uff0c\u8fd9\u6837\u5c31\u4fdd\u8bc1\u4e86\u5806\u7684\u6b63\u786e\u7ed3\u6784\u3002\u800c\u8fd9\u6837\u7684\u64cd\u4f5c\u5c31\u662fsiftUp\u3002 siftDown\u662f\u4e0e\u5176\u76f8\u53cd\u65b9\u5411\u7684\u64cd\u4f5c\uff0c\u4ece\u4e0a\u5230\u4e0b\u6bd4\u8f83\uff0c\u539f\u7406\u76f8\u540c\uff0c\u4e5f\u662f\u4e3a\u4e86\u4fdd\u8bc1\u5806\u7684\u6b63\u786e\u7ed3\u6784\u3002 \u5b9e\u73b0\u4e00\u4e2a\u6700\u5927\u5806 \u00b6 \u6700\u5927\u5806\uff0c\u5373\u5806\u9876\u5143\u7d20\u4e3a\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u5143\u7d20\u3002 // \u4ee5\u6700\u5927\u5806\u4e3a\u4f8b\u6765\u5b9e\u73b0\u4e00\u6ce2 /** * @param {number[]} nums * @param {number} k * @return {number[]} */ class MaxHeap { constructor ( arr = [], compare = null ) { this . data = arr ; this . size = arr . length ; this . compare = compare ; } getSize () { return this . size ; } isEmpty () { return this . size === 0 ; } // \u589e\u52a0\u5143\u7d20 add ( value ) { this . data . push ( value ); this . size ++ ; // \u589e\u52a0\u7684\u65f6\u5019\u628a\u6dfb\u52a0\u7684\u5143\u7d20\u8fdb\u884c siftUp this . _siftUp ( this . getSize () - 1 ); } // \u627e\u5230\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u5143\u7d20 findMax () { if ( this . getSize () === 0 ) return ; return this . data [ 0 ]; } // \u8ba9\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u5143\u7d20(\u5373\u961f\u9996\u5143\u7d20)\u51fa\u961f extractMax () { // 1.\u4fdd\u5b58\u961f\u9996\u5143\u7d20 let ret = this . findMax (); // 2.\u8ba9\u961f\u9996\u548c\u961f\u5c3e\u5143\u7d20\u4ea4\u6362\u4f4d\u7f6e this . _swap ( 0 , this . getSize () - 1 ); // 3. \u628a\u961f\u5c3e\u8e22\u51fa\u53bb\uff0csize-- this . data . pop (); this . size -- ; // 4. \u65b0\u7684\u961f\u9996 siftDown this . _siftDown ( 0 ); return ret ; } toString () { console . log ( this . data ); } _swap ( i , j ) { [ this . data [ i ], this . data [ j ]] = [ this . data [ j ], this . data [ i ]]; } _parent ( index ) { return Math . floor (( index - 1 ) / 2 ); } _leftChild ( index ) { return 2 * index + 1 ; } _rightChild ( index ) { return 2 * index + 2 ; } _siftUp ( k ) { // \u4e0a\u6d6e\u64cd\u4f5c\uff0c\u53ea\u8981\u5b50\u5143\u7d20\u4f18\u5148\u7ea7\u6bd4\u7236\u8282\u70b9\u5927\uff0c\u7236\u5b50\u4ea4\u6362\u4f4d\u7f6e\uff0c\u4e00\u76f4\u5411\u4e0a\u76f4\u5230\u6839\u8282\u70b9 while ( k > 0 && this . compare ( this . data [ k ], this . data [ this . _parent ( k )])) { this . _swap ( k , this . _parent ( k )); k = this . _parent ( k ); } } _siftDown ( k ) { // \u5b58\u5728\u5de6\u5b69\u5b50\u7684\u65f6\u5019 while ( this . _leftChild ( k ) < this . size ) { let j = this . _leftChild ( k ); // \u5b58\u5728\u53f3\u5b69\u5b50\u800c\u4e14\u53f3\u5b69\u5b50\u6bd4\u5de6\u5b69\u5b50\u5927 if ( this . _rightChild ( k ) < this . size && this . compare ( this . data [ this . _rightChild ( k )], this . data [ j ])) { j ++ ; } if ( this . compare ( this . data [ k ], this . data [ j ])) return ; // \u7236\u8282\u70b9\u6bd4\u5b50\u8282\u70b9\u5c0f\uff0c\u4ea4\u6362\u4f4d\u7f6e this . _swap ( k , j ); // \u7ee7\u7eed\u4e0b\u6c89 k = j ; } } } \u5b9e\u73b0\u4f18\u5148\u961f\u5217 \u00b6 \u6709\u4e86\u6700\u5927\u5806\u4f5c\u94fa\u57ab\uff0c\u5b9e\u73b0\u4f18\u5148\u961f\u5217\u5c31\u6613\u5982\u53cd\u638c\uff0c\u5e9f\u8bdd\u4e0d\u591a\u8bf4\uff0c\u76f4\u63a5\u653e\u4e0a\u4ee3\u7801\u3002 class PriorityQueue { // max \u4e3a\u4f18\u5148\u961f\u5217\u7684\u5bb9\u91cf constructor ( max , compare ) { this . max = max ; this . compare = compare ; this . maxHeap = new MaxHeap ([], compare ); } getSize () { return this . maxHeap . getSize (); } isEmpty () { return this . maxHeap . isEmpty (); } getFront () { return this . maxHeap . findMax (); } enqueue ( e ) { // \u6bd4\u5f53\u524d\u6700\u9ad8\u7684\u4f18\u5148\u7ea7\u7684\u8fd8\u8981\u9ad8\uff0c\u76f4\u63a5\u4e0d\u5904\u7406 if ( this . getSize () === this . max ) { if ( this . compare ( e , this . getFront ())) return ; this . dequeue (); } return this . maxHeap . add ( e ); } dequeue () { if ( this . getSize () === 0 ) return null ; return this . maxHeap . extractMax (); } } \u600e\u4e48\u6837\uff0c\u662f\u4e0d\u662f\u975e\u5e38\u7b80\u5355\uff1f\u4f20\u8bf4\u4e2d\u7684\u4f18\u5148\u961f\u5217\u4e5f\u4e0d\u8fc7\u5982\u6b64\u3002 \u4e14\u6162\uff0c\u53ef\u80fd\u4f1a\u6709\u4eba\u95ee: \u4f60\u600e\u4e48\u4fdd\u8bc1\u8fd9\u4e2a\u4f18\u5148\u961f\u5217\u662f\u6b63\u786e\u7684\u5462? \u6211\u4eec\u4e0d\u59a8\u6765\u505a\u4e00\u4e0b\u6d4b\u8bd5: let pq = new PriorityQueue(3); pq.enqueue(1); pq.enqueue(333); console.log(pq.dequeue()); console.log(pq.dequeue()); pq.enqueue(3); pq.enqueue(6); pq.enqueue(62); console.log(pq.dequeue()); console.log(pq.dequeue()); console.log(pq.dequeue()); \u7ed3\u679c\u5982\u4e0b: 333 1 62 6 3 \u53ef\u89c1\uff0c\u8fd9\u4e2a\u4f18\u5148\u961f\u5217\u7684\u529f\u80fd\u521d\u6b65\u6ee1\u8db3\u4e86\u6211\u4eec\u7684\u9884\u671f\u3002\u540e\u9762\uff0c\u6211\u4eec\u5c06\u901a\u8fc7\u5b9e\u9645\u7684\u4f8b\u5b50\u6765\u8fd0\u7528\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\u6765\u89e3\u51b3\u95ee\u9898\u3002 \u2190 \u65e0\u6743\u56fe BFS \u904d\u5386 \u4f18\u5148\u961f\u5217\u5e94\u7528 \u524d K \u4e2a\u9ad8\u9891\u5143\u7d20 \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u975e\u7a7a\u7684\u6574\u6570\u6570\u7ec4\uff0c\u8fd4\u56de\u5176\u4e2d\u51fa\u73b0\u9891\u7387\u524d k \u9ad8\u7684\u5143\u7d20\u3002 \u793a\u4f8b: \u8f93\u5165: nums = [1,1,1,2,2,3], k = 2 \u8f93\u51fa: [1,2] \u8bf4\u660e: \u4f60\u53ef\u4ee5\u5047\u8bbe\u7ed9\u5b9a\u7684 k \u603b\u662f\u5408\u7406\u7684\uff0c\u4e14 1 \u2264 k \u2264 \u6570\u7ec4\u4e2d\u4e0d\u76f8\u540c\u7684\u5143\u7d20\u7684\u4e2a\u6570\u3002 \u4f60\u7684\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5fc5\u987b\u4f18\u4e8e O(n log n) , n \u662f\u6570\u7ec4\u7684\u5927\u5c0f\u3002 \u6765\u6e90: LeetCode\u7b2c347\u9898 \u601d\u8def \u00b6 \u9996\u5148\u8981\u505a\u7684\u80af\u5b9a\u662f\u7edf\u8ba1\u9891\u7387\uff0c\u90a3\u4e4b\u540e\u5982\u4f55\u6765\u9009\u53d6\u9891\u7387\u524d K \u4e2a\u5143\u7d20\u540c\u65f6\u53c8\u4fdd\u8bc1\u65f6\u95f4\u590d\u6742\u5ea6\u5c0f\u4e8e O(n log n)\u5462\uff1f \u5f53\u7136\uff0c\u8fd9\u662f\u4e00\u9053\u5178\u578b\u7684\u8003\u5bdf\u4f18\u5148\u961f\u5217\u7684\u9898\uff0c\u5229\u7528\u5bb9\u91cf\u4e3a K \u7684\u4f18\u5148\u961f\u5217\u6bcf\u6b21\u8e22\u51fa\u4e0d\u7b26\u5408\u6761\u4ef6\u7684\u503c\uff0c\u90a3\u4e48\u6700\u540e\u5269\u4e0b\u7684\u5373\u4e3a\u6240\u6c42\u3002\u6574\u4e2a\u65f6\u95f4\u590d\u6742\u5ea6\u6210\u4e3a O\uff08n log K\uff09\uff0c\u660e\u663e\u662f\u5c0f\u4e8e O(n log n) \u7684\u3002 \u65e2\u7136\u662f\u4f18\u5148\u961f\u5217\uff0c\u5c31\u6d89\u53ca\u5230\u5982\u4f55\u6765\u5b9a\u4e49\u4f18\u5148\u7ea7\u7684\u95ee\u9898\u3002 \u5018\u82e5\u6211\u4eec\u4ee5\u9ad8\u9891\u7387\u4e3a\u9ad8\u4f18\u5148\u7ea7\uff0c\u90a3\u4e48\u961f\u9996\u59cb\u7ec8\u662f\u9ad8\u9891\u7387\u7684\u5143\u7d20\uff0c\u56e0\u6b64\u6bcf\u6b21\u51fa\u961f\u662f\u8e22\u51fa\u51fa\u73b0\u9891\u7387\u6700\u9ad8\u7684\u5143\u7d20\uff0c\u5047\u8bbe\u4f18\u5148\u961f\u5217\u5bb9\u91cf\u4e3a K\uff0c\u90a3\u7167\u8fd9\u4e48\u505a\uff0c\u5269\u4e0b\u7684\u662f\u9891\u7387\u6700\u4f4e\u7684 K \u4e2a\u5143\u7d20\uff0c\u663e\u7136\u4e0d\u7b26\u5408\u9898\u610f\u3002 \u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u7684\u662f\u6bcf\u6b21\u51fa\u961f\u65f6\u8e22\u51fa\u9891\u7387\u6700\u4f4e\u7684\u5143\u7d20\uff0c\u8fd9\u6837\u6700\u540e\u5269\u4e0b\u6765\u7684\u5c31\u662f\u9891\u7387\u6700\u9ad8 K \u4e2a\u5143\u7d20\u3002 \u662f\u4e0d\u662f\u6211\u4eec\u4e3a\u4e86\u8e22\u51fa\u9891\u7387\u6700\u4f4e\u7684\u5143\u7d20\uff0c\u8fd8\u8981\u91cd\u65b0\u5199\u4e00\u4e2a\u5c0f\u9876\u5806\u7684\u5b9e\u73b0\u5462\uff1f \u5b8c\u5168\u4e0d\u9700\u8981\uff01\u5c31\u50cf\u6211\u521a\u624d\u6240\u8bf4\u7684\uff0c\u5408\u7406\u5730\u5b9a\u4e49\u8fd9\u4e2a\u4f18\u5148\u7ea7\u7684\u6bd4\u8f83\u903b\u8f91\u5373\u53ef\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u5177\u4f53\u5b9e\u73b0\u4e00\u4e0b\u3002 \u4ee3\u7801\u5b9e\u73b0 \u00b6 var topKFrequent = function(nums, k) { let map = {}; let pq = new PriorityQueue(k, (a, b) => map[a] - map[b] < 0); for(let i = 0; i < nums.length; i++) { if(!map[nums[i]]) map[nums[i]] = 1; else map[nums[i]] = map[[nums[i]]] + 1; } let arr = Array.from(new Set(nums)); for(let i = 0; i < arr.length; i++) { pq.enqueue(arr[i]); } return pq.maxHeap.data; }; \u5408\u5e76 K \u4e2a\u6392\u5e8f\u94fe\u8868 \u00b6 \u5408\u5e76 k \u4e2a\u6392\u5e8f\u94fe\u8868\uff0c\u8fd4\u56de\u5408\u5e76\u540e\u7684\u6392\u5e8f\u94fe\u8868\u3002\u8bf7\u5206\u6790\u548c\u63cf\u8ff0\u7b97\u6cd5\u7684\u590d\u6742\u5ea6\u3002 \u793a\u4f8b: \u8f93\u5165: [ 1->4->5, 1->3->4, 2->6 ] \u8f93\u51fa: 1->1->2->3->4->4->5->6 \u8fd9\u4e00\u9898\u6211\u4eec\u4e4b\u524d\u5728\u94fe\u8868\u7bc7\u5b9e\u73b0\u8fc7\uff0c\u6b8a\u4e0d\u77e5\uff0c\u5b83\u4e5f\u53ef\u4ee5\u5229\u7528\u4f18\u5148\u961f\u5217\u5b8c\u7f8e\u89e3\u51b3\u3002 \u6765\u6e90: LeetCode\u7b2c23\u9898 /** * @param {ListNode[]} lists * @return {ListNode} */ var mergeKLists = function(lists) { let dummyHead = p = new ListNode(); // \u5b9a\u4e49\u4f18\u5148\u7ea7\u7684\u51fd\u6570\uff0c\u91cd\u8981\uff01 let pq = new PriorityQueue(lists.length, (a, b) => a.val <= b.val); // \u5c06\u5934\u7ed3\u70b9\u63a8\u5165\u4f18\u5148\u961f\u5217 for(let i = 0; i < lists.length; i++) if(lists[i]) pq.enqueue(lists[i]); // \u53d6\u51fa\u503c\u6700\u5c0f\u7684\u8282\u70b9\uff0c\u5982\u679c next \u4e0d\u4e3a\u7a7a\uff0c\u7ee7\u7eed\u63a8\u5165\u961f\u5217 while(pq.getSize()) { let min = pq.dequeue(); p.next = min; p = p.next; if(min.next) pq.enqueue(min.next); } return dummyHead.next; };","title":"07-\u5b9e\u73b0\u4f18\u5148\u961f\u5217.md"},{"location":"algre/07-%E5%AE%9E%E7%8E%B0%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/#_1","text":"\u6240\u8c13\u4f18\u5148\u961f\u5217\uff0c\u5c31\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u961f\u5217, \u5176\u5e95\u5c42\u4f7f\u7528\u5806\u7684\u7ed3\u6784\uff0c\u4f7f\u5f97\u6bcf\u6b21\u6dfb\u52a0\u6216\u8005\u5220\u9664\uff0c\u8ba9\u961f\u9996\u5143\u7d20\u59cb\u7ec8\u662f\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u3002\u5173\u4e8e\u4f18\u5148\u7ea7\u901a\u8fc7\u4ec0\u4e48\u5b57\u6bb5\u3001\u6309\u7167\u4ec0\u4e48\u6837\u7684\u6bd4\u8f83\u65b9\u5f0f\u6765\u8bbe\u5b9a\uff0c\u53ef\u4ee5\u7531\u6211\u4eec\u81ea\u5df1\u6765\u51b3\u5b9a\u3002 \u8981\u5b9e\u73b0\u4f18\u5148\u961f\u5217\uff0c\u9996\u5148\u6765\u5b9e\u73b0\u4e00\u4e2a\u5806\u7684\u7ed3\u6784\u3002","title":"\u5b9e\u73b0\u4f18\u5148\u961f\u5217"},{"location":"algre/07-%E5%AE%9E%E7%8E%B0%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/#_2","text":"\u53ef\u80fd\u4f60\u4ee5\u524d\u6ca1\u6709\u63a5\u89e6\u8fc7\u5806\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u4f46\u662f\u5176\u5b9e\u662f\u5f88\u7b80\u5355\u7684\u4e00\u79cd\u7ed3\u6784\uff0c\u5176\u672c\u8d28\u5c31\u662f\u4e00\u68f5\u4e8c\u53c9\u6811\u3002\u4f46\u662f\u8fd9\u68f5\u4e8c\u53c9\u6811\u6bd4\u8f83\u7279\u6b8a\uff0c\u9664\u4e86\u7528\u6570\u7ec4\u6765\u4f9d\u6b21\u5b58\u50a8\u5404\u4e2a\u8282\u70b9(\u8282\u70b9\u5bf9\u5e94\u7684\u6570\u7ec4\u4e0b\u6807\u548c\u5c42\u5e8f\u904d\u5386\u7684\u5e8f\u53f7\u4e00\u81f4)\u4e4b\u5916\uff0c\u5b83\u9700\u8981\u4fdd\u8bc1\u4efb\u4f55\u4e00\u4e2a\u7236\u8282\u70b9\u7684\u4f18\u5148\u7ea7\u5927\u4e8e\u5b50\u8282\u70b9\uff0c\u8fd9\u4e5f\u662f\u5b83\u6700\u5173\u952e\u7684\u6027\u8d28\uff0c\u56e0\u4e3a\u4fdd\u8bc1\u4e86\u6839\u5143\u7d20\u4e00\u5b9a\u662f\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u3002 \u4e3e\u4e00\u4e2a\u4f8b\u5b50: \u73b0\u5728\u8fd9\u4e2a\u5806\u7684\u6570\u7ec4\u5c31\u662f: [10, 7, 2, 5, 1] \u56e0\u6b64\u4e5f\u4f1a\u4ea7\u751f\u4e24\u4e2a\u975e\u5e38\u5173\u952e\u7684\u64cd\u4f5c\u2014\u2014siftUp \u548c siftDown\u3002 \u5bf9\u4e8esiftUp\u64cd\u4f5c\uff0c\u6211\u4eec\u8bd5\u60f3\u4e00\u4e0b\u73b0\u5728\u6709\u4e00\u4e2a\u6b63\u5e38\u7684\u5806\uff0c\u6ee1\u8db3\u4efb\u4f55\u7236\u5143\u7d20\u4f18\u5148\u7ea7\u5927\u4e8e\u5b50\u5143\u7d20\uff0c\u8fd9\u65f6\u5019\u5411\u8fd9\u4e2a\u5806\u7684\u6570\u7ec4\u672b\u5c3e\u53c8\u6dfb\u52a0\u4e86\u4e00\u4e2a\u5143\u7d20\uff0c\u90a3\u73b0\u5728\u53ef\u80fd\u5c31\u4e0d\u7b26\u5408\u5806\u7684\u7ed3\u6784\u7279\u70b9\u4e86\u3002\u90a3\u4e48\u73b0\u5728\u6211\u5c06\u65b0\u589e\u7684\u8282\u70b9\u548c\u5176\u7236\u8282\u70b9\u8fdb\u884c\u6bd4\u8f83\uff0c\u5982\u679c\u7236\u8282\u70b9\u4f18\u5148\u7ea7\u5c0f\u4e8e\u5b83\uff0c\u5219\u4e24\u8005\u4ea4\u6362\uff0c\u4e0d\u65ad\u5411\u4e0a\u6bd4\u8f83\u76f4\u5230\u6839\u8282\u70b9\u4e3a\u6b62\uff0c\u8fd9\u6837\u5c31\u4fdd\u8bc1\u4e86\u5806\u7684\u6b63\u786e\u7ed3\u6784\u3002\u800c\u8fd9\u6837\u7684\u64cd\u4f5c\u5c31\u662fsiftUp\u3002 siftDown\u662f\u4e0e\u5176\u76f8\u53cd\u65b9\u5411\u7684\u64cd\u4f5c\uff0c\u4ece\u4e0a\u5230\u4e0b\u6bd4\u8f83\uff0c\u539f\u7406\u76f8\u540c\uff0c\u4e5f\u662f\u4e3a\u4e86\u4fdd\u8bc1\u5806\u7684\u6b63\u786e\u7ed3\u6784\u3002","title":"\u5173\u4e8e\u5806\u7684\u8bf4\u660e"},{"location":"algre/07-%E5%AE%9E%E7%8E%B0%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/#_3","text":"\u6700\u5927\u5806\uff0c\u5373\u5806\u9876\u5143\u7d20\u4e3a\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u5143\u7d20\u3002 // \u4ee5\u6700\u5927\u5806\u4e3a\u4f8b\u6765\u5b9e\u73b0\u4e00\u6ce2 /** * @param {number[]} nums * @param {number} k * @return {number[]} */ class MaxHeap { constructor ( arr = [], compare = null ) { this . data = arr ; this . size = arr . length ; this . compare = compare ; } getSize () { return this . size ; } isEmpty () { return this . size === 0 ; } // \u589e\u52a0\u5143\u7d20 add ( value ) { this . data . push ( value ); this . size ++ ; // \u589e\u52a0\u7684\u65f6\u5019\u628a\u6dfb\u52a0\u7684\u5143\u7d20\u8fdb\u884c siftUp this . _siftUp ( this . getSize () - 1 ); } // \u627e\u5230\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u5143\u7d20 findMax () { if ( this . getSize () === 0 ) return ; return this . data [ 0 ]; } // \u8ba9\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u5143\u7d20(\u5373\u961f\u9996\u5143\u7d20)\u51fa\u961f extractMax () { // 1.\u4fdd\u5b58\u961f\u9996\u5143\u7d20 let ret = this . findMax (); // 2.\u8ba9\u961f\u9996\u548c\u961f\u5c3e\u5143\u7d20\u4ea4\u6362\u4f4d\u7f6e this . _swap ( 0 , this . getSize () - 1 ); // 3. \u628a\u961f\u5c3e\u8e22\u51fa\u53bb\uff0csize-- this . data . pop (); this . size -- ; // 4. \u65b0\u7684\u961f\u9996 siftDown this . _siftDown ( 0 ); return ret ; } toString () { console . log ( this . data ); } _swap ( i , j ) { [ this . data [ i ], this . data [ j ]] = [ this . data [ j ], this . data [ i ]]; } _parent ( index ) { return Math . floor (( index - 1 ) / 2 ); } _leftChild ( index ) { return 2 * index + 1 ; } _rightChild ( index ) { return 2 * index + 2 ; } _siftUp ( k ) { // \u4e0a\u6d6e\u64cd\u4f5c\uff0c\u53ea\u8981\u5b50\u5143\u7d20\u4f18\u5148\u7ea7\u6bd4\u7236\u8282\u70b9\u5927\uff0c\u7236\u5b50\u4ea4\u6362\u4f4d\u7f6e\uff0c\u4e00\u76f4\u5411\u4e0a\u76f4\u5230\u6839\u8282\u70b9 while ( k > 0 && this . compare ( this . data [ k ], this . data [ this . _parent ( k )])) { this . _swap ( k , this . _parent ( k )); k = this . _parent ( k ); } } _siftDown ( k ) { // \u5b58\u5728\u5de6\u5b69\u5b50\u7684\u65f6\u5019 while ( this . _leftChild ( k ) < this . size ) { let j = this . _leftChild ( k ); // \u5b58\u5728\u53f3\u5b69\u5b50\u800c\u4e14\u53f3\u5b69\u5b50\u6bd4\u5de6\u5b69\u5b50\u5927 if ( this . _rightChild ( k ) < this . size && this . compare ( this . data [ this . _rightChild ( k )], this . data [ j ])) { j ++ ; } if ( this . compare ( this . data [ k ], this . data [ j ])) return ; // \u7236\u8282\u70b9\u6bd4\u5b50\u8282\u70b9\u5c0f\uff0c\u4ea4\u6362\u4f4d\u7f6e this . _swap ( k , j ); // \u7ee7\u7eed\u4e0b\u6c89 k = j ; } } }","title":"\u5b9e\u73b0\u4e00\u4e2a\u6700\u5927\u5806"},{"location":"algre/07-%E5%AE%9E%E7%8E%B0%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/#_4","text":"\u6709\u4e86\u6700\u5927\u5806\u4f5c\u94fa\u57ab\uff0c\u5b9e\u73b0\u4f18\u5148\u961f\u5217\u5c31\u6613\u5982\u53cd\u638c\uff0c\u5e9f\u8bdd\u4e0d\u591a\u8bf4\uff0c\u76f4\u63a5\u653e\u4e0a\u4ee3\u7801\u3002 class PriorityQueue { // max \u4e3a\u4f18\u5148\u961f\u5217\u7684\u5bb9\u91cf constructor ( max , compare ) { this . max = max ; this . compare = compare ; this . maxHeap = new MaxHeap ([], compare ); } getSize () { return this . maxHeap . getSize (); } isEmpty () { return this . maxHeap . isEmpty (); } getFront () { return this . maxHeap . findMax (); } enqueue ( e ) { // \u6bd4\u5f53\u524d\u6700\u9ad8\u7684\u4f18\u5148\u7ea7\u7684\u8fd8\u8981\u9ad8\uff0c\u76f4\u63a5\u4e0d\u5904\u7406 if ( this . getSize () === this . max ) { if ( this . compare ( e , this . getFront ())) return ; this . dequeue (); } return this . maxHeap . add ( e ); } dequeue () { if ( this . getSize () === 0 ) return null ; return this . maxHeap . extractMax (); } } \u600e\u4e48\u6837\uff0c\u662f\u4e0d\u662f\u975e\u5e38\u7b80\u5355\uff1f\u4f20\u8bf4\u4e2d\u7684\u4f18\u5148\u961f\u5217\u4e5f\u4e0d\u8fc7\u5982\u6b64\u3002 \u4e14\u6162\uff0c\u53ef\u80fd\u4f1a\u6709\u4eba\u95ee: \u4f60\u600e\u4e48\u4fdd\u8bc1\u8fd9\u4e2a\u4f18\u5148\u961f\u5217\u662f\u6b63\u786e\u7684\u5462? \u6211\u4eec\u4e0d\u59a8\u6765\u505a\u4e00\u4e0b\u6d4b\u8bd5: let pq = new PriorityQueue(3); pq.enqueue(1); pq.enqueue(333); console.log(pq.dequeue()); console.log(pq.dequeue()); pq.enqueue(3); pq.enqueue(6); pq.enqueue(62); console.log(pq.dequeue()); console.log(pq.dequeue()); console.log(pq.dequeue()); \u7ed3\u679c\u5982\u4e0b: 333 1 62 6 3 \u53ef\u89c1\uff0c\u8fd9\u4e2a\u4f18\u5148\u961f\u5217\u7684\u529f\u80fd\u521d\u6b65\u6ee1\u8db3\u4e86\u6211\u4eec\u7684\u9884\u671f\u3002\u540e\u9762\uff0c\u6211\u4eec\u5c06\u901a\u8fc7\u5b9e\u9645\u7684\u4f8b\u5b50\u6765\u8fd0\u7528\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\u6765\u89e3\u51b3\u95ee\u9898\u3002 \u2190 \u65e0\u6743\u56fe BFS \u904d\u5386 \u4f18\u5148\u961f\u5217\u5e94\u7528","title":"\u5b9e\u73b0\u4f18\u5148\u961f\u5217"},{"location":"algre/07-%E5%AE%9E%E7%8E%B0%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/#k","text":"\u7ed9\u5b9a\u4e00\u4e2a\u975e\u7a7a\u7684\u6574\u6570\u6570\u7ec4\uff0c\u8fd4\u56de\u5176\u4e2d\u51fa\u73b0\u9891\u7387\u524d k \u9ad8\u7684\u5143\u7d20\u3002 \u793a\u4f8b: \u8f93\u5165: nums = [1,1,1,2,2,3], k = 2 \u8f93\u51fa: [1,2] \u8bf4\u660e: \u4f60\u53ef\u4ee5\u5047\u8bbe\u7ed9\u5b9a\u7684 k \u603b\u662f\u5408\u7406\u7684\uff0c\u4e14 1 \u2264 k \u2264 \u6570\u7ec4\u4e2d\u4e0d\u76f8\u540c\u7684\u5143\u7d20\u7684\u4e2a\u6570\u3002 \u4f60\u7684\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5fc5\u987b\u4f18\u4e8e O(n log n) , n \u662f\u6570\u7ec4\u7684\u5927\u5c0f\u3002 \u6765\u6e90: LeetCode\u7b2c347\u9898","title":"\u524d K \u4e2a\u9ad8\u9891\u5143\u7d20"},{"location":"algre/07-%E5%AE%9E%E7%8E%B0%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/#_5","text":"\u9996\u5148\u8981\u505a\u7684\u80af\u5b9a\u662f\u7edf\u8ba1\u9891\u7387\uff0c\u90a3\u4e4b\u540e\u5982\u4f55\u6765\u9009\u53d6\u9891\u7387\u524d K \u4e2a\u5143\u7d20\u540c\u65f6\u53c8\u4fdd\u8bc1\u65f6\u95f4\u590d\u6742\u5ea6\u5c0f\u4e8e O(n log n)\u5462\uff1f \u5f53\u7136\uff0c\u8fd9\u662f\u4e00\u9053\u5178\u578b\u7684\u8003\u5bdf\u4f18\u5148\u961f\u5217\u7684\u9898\uff0c\u5229\u7528\u5bb9\u91cf\u4e3a K \u7684\u4f18\u5148\u961f\u5217\u6bcf\u6b21\u8e22\u51fa\u4e0d\u7b26\u5408\u6761\u4ef6\u7684\u503c\uff0c\u90a3\u4e48\u6700\u540e\u5269\u4e0b\u7684\u5373\u4e3a\u6240\u6c42\u3002\u6574\u4e2a\u65f6\u95f4\u590d\u6742\u5ea6\u6210\u4e3a O\uff08n log K\uff09\uff0c\u660e\u663e\u662f\u5c0f\u4e8e O(n log n) \u7684\u3002 \u65e2\u7136\u662f\u4f18\u5148\u961f\u5217\uff0c\u5c31\u6d89\u53ca\u5230\u5982\u4f55\u6765\u5b9a\u4e49\u4f18\u5148\u7ea7\u7684\u95ee\u9898\u3002 \u5018\u82e5\u6211\u4eec\u4ee5\u9ad8\u9891\u7387\u4e3a\u9ad8\u4f18\u5148\u7ea7\uff0c\u90a3\u4e48\u961f\u9996\u59cb\u7ec8\u662f\u9ad8\u9891\u7387\u7684\u5143\u7d20\uff0c\u56e0\u6b64\u6bcf\u6b21\u51fa\u961f\u662f\u8e22\u51fa\u51fa\u73b0\u9891\u7387\u6700\u9ad8\u7684\u5143\u7d20\uff0c\u5047\u8bbe\u4f18\u5148\u961f\u5217\u5bb9\u91cf\u4e3a K\uff0c\u90a3\u7167\u8fd9\u4e48\u505a\uff0c\u5269\u4e0b\u7684\u662f\u9891\u7387\u6700\u4f4e\u7684 K \u4e2a\u5143\u7d20\uff0c\u663e\u7136\u4e0d\u7b26\u5408\u9898\u610f\u3002 \u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u7684\u662f\u6bcf\u6b21\u51fa\u961f\u65f6\u8e22\u51fa\u9891\u7387\u6700\u4f4e\u7684\u5143\u7d20\uff0c\u8fd9\u6837\u6700\u540e\u5269\u4e0b\u6765\u7684\u5c31\u662f\u9891\u7387\u6700\u9ad8 K \u4e2a\u5143\u7d20\u3002 \u662f\u4e0d\u662f\u6211\u4eec\u4e3a\u4e86\u8e22\u51fa\u9891\u7387\u6700\u4f4e\u7684\u5143\u7d20\uff0c\u8fd8\u8981\u91cd\u65b0\u5199\u4e00\u4e2a\u5c0f\u9876\u5806\u7684\u5b9e\u73b0\u5462\uff1f \u5b8c\u5168\u4e0d\u9700\u8981\uff01\u5c31\u50cf\u6211\u521a\u624d\u6240\u8bf4\u7684\uff0c\u5408\u7406\u5730\u5b9a\u4e49\u8fd9\u4e2a\u4f18\u5148\u7ea7\u7684\u6bd4\u8f83\u903b\u8f91\u5373\u53ef\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u5177\u4f53\u5b9e\u73b0\u4e00\u4e0b\u3002","title":"\u601d\u8def"},{"location":"algre/07-%E5%AE%9E%E7%8E%B0%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/#_6","text":"var topKFrequent = function(nums, k) { let map = {}; let pq = new PriorityQueue(k, (a, b) => map[a] - map[b] < 0); for(let i = 0; i < nums.length; i++) { if(!map[nums[i]]) map[nums[i]] = 1; else map[nums[i]] = map[[nums[i]]] + 1; } let arr = Array.from(new Set(nums)); for(let i = 0; i < arr.length; i++) { pq.enqueue(arr[i]); } return pq.maxHeap.data; };","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"algre/07-%E5%AE%9E%E7%8E%B0%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/#k_1","text":"\u5408\u5e76 k \u4e2a\u6392\u5e8f\u94fe\u8868\uff0c\u8fd4\u56de\u5408\u5e76\u540e\u7684\u6392\u5e8f\u94fe\u8868\u3002\u8bf7\u5206\u6790\u548c\u63cf\u8ff0\u7b97\u6cd5\u7684\u590d\u6742\u5ea6\u3002 \u793a\u4f8b: \u8f93\u5165: [ 1->4->5, 1->3->4, 2->6 ] \u8f93\u51fa: 1->1->2->3->4->4->5->6 \u8fd9\u4e00\u9898\u6211\u4eec\u4e4b\u524d\u5728\u94fe\u8868\u7bc7\u5b9e\u73b0\u8fc7\uff0c\u6b8a\u4e0d\u77e5\uff0c\u5b83\u4e5f\u53ef\u4ee5\u5229\u7528\u4f18\u5148\u961f\u5217\u5b8c\u7f8e\u89e3\u51b3\u3002 \u6765\u6e90: LeetCode\u7b2c23\u9898 /** * @param {ListNode[]} lists * @return {ListNode} */ var mergeKLists = function(lists) { let dummyHead = p = new ListNode(); // \u5b9a\u4e49\u4f18\u5148\u7ea7\u7684\u51fd\u6570\uff0c\u91cd\u8981\uff01 let pq = new PriorityQueue(lists.length, (a, b) => a.val <= b.val); // \u5c06\u5934\u7ed3\u70b9\u63a8\u5165\u4f18\u5148\u961f\u5217 for(let i = 0; i < lists.length; i++) if(lists[i]) pq.enqueue(lists[i]); // \u53d6\u51fa\u503c\u6700\u5c0f\u7684\u8282\u70b9\uff0c\u5982\u679c next \u4e0d\u4e3a\u7a7a\uff0c\u7ee7\u7eed\u63a8\u5165\u961f\u5217 while(pq.getSize()) { let min = pq.dequeue(); p.next = min; p = p.next; if(min.next) pq.enqueue(min.next); } return dummyHead.next; };","title":"\u5408\u5e76 K \u4e2a\u6392\u5e8f\u94fe\u8868"},{"location":"algre/08-%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97%E5%8F%8A%E5%BA%94%E7%94%A8/","text":"\u53cc\u7aef\u961f\u5217\u53ca\u5e94\u7528 \u00b6 \u4ec0\u4e48\u662f\u53cc\u7aef\u961f\u5217\uff1f \u00b6 \u53cc\u7aef\u961f\u5217\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u961f\u5217\uff0c\u9996\u5c3e\u90fd\u53ef\u4ee5\u6dfb\u52a0\u6216\u8005\u5220\u9664\u5143\u7d20\uff0c\u662f\u4e00\u79cd\u52a0\u5f3a\u7248\u7684\u961f\u5217\u3002 JS \u4e2d\u7684\u6570\u7ec4\u5c31\u662f\u4e00\u79cd\u5178\u578b\u7684\u53cc\u7aef\u961f\u5217\u3002push\u3001pop \u65b9\u6cd5\u5206\u522b\u4ece\u5c3e\u90e8\u6dfb\u52a0\u548c\u5220\u9664\u5143\u7d20\uff0cunshift\u3001shift \u65b9\u6cd5\u5206\u522b\u4ece\u9996\u90e8\u6dfb\u52a0\u548c\u5220\u9664\u5143\u7d20\u3002 \u6ed1\u52a8\u7a97\u53e3\u6700\u5927\u503c \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u6570\u7ec4 nums\uff0c\u6709\u4e00\u4e2a\u5927\u5c0f\u4e3a k \u7684\u6ed1\u52a8\u7a97\u53e3\u4ece\u6570\u7ec4\u7684\u6700\u5de6\u4fa7\u79fb\u52a8\u5230\u6570\u7ec4\u7684\u6700\u53f3\u4fa7\u3002\u4f60\u53ea\u53ef\u4ee5\u770b\u5230\u5728\u6ed1\u52a8\u7a97\u53e3\u5185\u7684 k \u4e2a\u6570\u5b57\u3002\u6ed1\u52a8\u7a97\u53e3\u6bcf\u6b21\u53ea\u5411\u53f3\u79fb\u52a8\u4e00\u4f4d\u3002 \u8fd4\u56de\u6ed1\u52a8\u7a97\u53e3\u4e2d\u7684\u6700\u5927\u503c\u3002 \u793a\u4f8b: \u8f93\u5165: nums = [1,3,-1,-3,5,3,6,7], \u548c k = 3 \u8f93\u51fa: [3,3,5,5,6,7] \u89e3\u91ca: \u6ed1\u52a8\u7a97\u53e3\u7684\u4f4d\u7f6e \u6700\u5927\u503c --------------- ----- [1 3 -1] -3 5 3 6 7 3 1 [3 -1 -3] 5 3 6 7 3 1 3 [-1 -3 5] 3 6 7 5 1 3 -1 [-3 5 3] 6 7 5 1 3 -1 -3 [5 3 6] 7 6 1 3 -1 -3 5 [3 6 7] 7 \u8981\u6c42: \u65f6\u95f4\u590d\u6742\u5ea6\u5e94\u4e3a\u7ebf\u6027\u3002 \u6765\u6e90: LeetCode\u7b2c239\u9898 \u601d\u8def \u00b6 \u8fd9\u662f\u5178\u578b\u5730\u4f7f\u7528\u53cc\u7aef\u961f\u5217\u6c42\u89e3\u7684\u95ee\u9898\u3002 \u5efa\u7acb\u4e00\u4e2a\u53cc\u7aef\u961f\u5217 window\uff0c\u6bcf\u6b21 push \u8fdb\u6765\u4e00\u4e2a\u65b0\u7684\u503c\uff0c\u5c31\u5c06 window \u4e2d\u76ee\u524d\u524d\u9762\u6240\u6709\u6bd4\u5b83\u5c0f\u7684\u503c\u90fd\u5220\u9664\u3002\u5229\u7528\u53cc\u7aef\u961f\u5217\u7684\u7279\u6027\uff0c\u53ef\u4ee5\u4ece\u540e\u5f80\u524d\u904d\u5386\uff0c\u9047\u5230\u5c0f\u7684\u5c31\u5220\u9664\u4e4b\uff0c\u5426\u5219\u505c\u6b62\u3002 \u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u961f\u9996\u59cb\u7ec8\u662f\u6700\u5927\u503c\uff0c\u56e0\u6b64\u5bfb\u627e\u6700\u5927\u503c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u53ef\u4ee5\u964d\u5230 O(1)\u3002\u7531\u4e8e window \u4e2d\u4f1a\u6709\u8d8a\u6765\u8d8a\u591a\u7684\u503c\u88ab\u6dd8\u6c70\uff0c\u56e0\u6b64\u6574\u4f53\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\u7ebf\u6027\u7684\u3002 \u4ee3\u7801\u5b9e\u73b0 \u00b6 \u4ee3\u7801\u975e\u5e38\u7684\u7b80\u6d01\uff0c\u4f46\u662f\u5982\u679c\u8981\u5199\u51fa bug free \u7684\u4ee3\u7801\u8fd8\u662f\u6709\u76f8\u5f53\u7684\u96be\u5ea6\u7684\uff0c\u5e0c\u671b\u4f60\u80fd\u81ea\u5df1\u72ec\u7acb\u5b9e\u73b0\u4e00\u904d\u3002 var maxSlidingWindow = function(nums, k) { // \u5f02\u5e38\u5904\u7406 if(nums.length === 0 || !k) return []; let window = [], res = []; for(let i = 0; i < nums.length; i++) { // \u5148\u628a\u6ed1\u52a8\u7a97\u53e3\u4e4b\u5916\u7684\u8e22\u51fa if(window[0] !== undefined && window[0] <= i - k) window.shift(); // \u4fdd\u8bc1\u961f\u9996\u662f\u6700\u5927\u7684 while(nums[window[window.length - 1]] <= nums[i]) window.pop(); window.push(i); if(i >= k - 1) res.push(nums[window[0]]) } return res; };","title":"08-\u53cc\u7aef\u961f\u5217\u53ca\u5e94\u7528.md"},{"location":"algre/08-%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97%E5%8F%8A%E5%BA%94%E7%94%A8/#_1","text":"","title":"\u53cc\u7aef\u961f\u5217\u53ca\u5e94\u7528"},{"location":"algre/08-%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97%E5%8F%8A%E5%BA%94%E7%94%A8/#_2","text":"\u53cc\u7aef\u961f\u5217\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u961f\u5217\uff0c\u9996\u5c3e\u90fd\u53ef\u4ee5\u6dfb\u52a0\u6216\u8005\u5220\u9664\u5143\u7d20\uff0c\u662f\u4e00\u79cd\u52a0\u5f3a\u7248\u7684\u961f\u5217\u3002 JS \u4e2d\u7684\u6570\u7ec4\u5c31\u662f\u4e00\u79cd\u5178\u578b\u7684\u53cc\u7aef\u961f\u5217\u3002push\u3001pop \u65b9\u6cd5\u5206\u522b\u4ece\u5c3e\u90e8\u6dfb\u52a0\u548c\u5220\u9664\u5143\u7d20\uff0cunshift\u3001shift \u65b9\u6cd5\u5206\u522b\u4ece\u9996\u90e8\u6dfb\u52a0\u548c\u5220\u9664\u5143\u7d20\u3002","title":"\u4ec0\u4e48\u662f\u53cc\u7aef\u961f\u5217\uff1f"},{"location":"algre/08-%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97%E5%8F%8A%E5%BA%94%E7%94%A8/#_3","text":"\u7ed9\u5b9a\u4e00\u4e2a\u6570\u7ec4 nums\uff0c\u6709\u4e00\u4e2a\u5927\u5c0f\u4e3a k \u7684\u6ed1\u52a8\u7a97\u53e3\u4ece\u6570\u7ec4\u7684\u6700\u5de6\u4fa7\u79fb\u52a8\u5230\u6570\u7ec4\u7684\u6700\u53f3\u4fa7\u3002\u4f60\u53ea\u53ef\u4ee5\u770b\u5230\u5728\u6ed1\u52a8\u7a97\u53e3\u5185\u7684 k \u4e2a\u6570\u5b57\u3002\u6ed1\u52a8\u7a97\u53e3\u6bcf\u6b21\u53ea\u5411\u53f3\u79fb\u52a8\u4e00\u4f4d\u3002 \u8fd4\u56de\u6ed1\u52a8\u7a97\u53e3\u4e2d\u7684\u6700\u5927\u503c\u3002 \u793a\u4f8b: \u8f93\u5165: nums = [1,3,-1,-3,5,3,6,7], \u548c k = 3 \u8f93\u51fa: [3,3,5,5,6,7] \u89e3\u91ca: \u6ed1\u52a8\u7a97\u53e3\u7684\u4f4d\u7f6e \u6700\u5927\u503c --------------- ----- [1 3 -1] -3 5 3 6 7 3 1 [3 -1 -3] 5 3 6 7 3 1 3 [-1 -3 5] 3 6 7 5 1 3 -1 [-3 5 3] 6 7 5 1 3 -1 -3 [5 3 6] 7 6 1 3 -1 -3 5 [3 6 7] 7 \u8981\u6c42: \u65f6\u95f4\u590d\u6742\u5ea6\u5e94\u4e3a\u7ebf\u6027\u3002 \u6765\u6e90: LeetCode\u7b2c239\u9898","title":"\u6ed1\u52a8\u7a97\u53e3\u6700\u5927\u503c"},{"location":"algre/08-%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97%E5%8F%8A%E5%BA%94%E7%94%A8/#_4","text":"\u8fd9\u662f\u5178\u578b\u5730\u4f7f\u7528\u53cc\u7aef\u961f\u5217\u6c42\u89e3\u7684\u95ee\u9898\u3002 \u5efa\u7acb\u4e00\u4e2a\u53cc\u7aef\u961f\u5217 window\uff0c\u6bcf\u6b21 push \u8fdb\u6765\u4e00\u4e2a\u65b0\u7684\u503c\uff0c\u5c31\u5c06 window \u4e2d\u76ee\u524d\u524d\u9762\u6240\u6709\u6bd4\u5b83\u5c0f\u7684\u503c\u90fd\u5220\u9664\u3002\u5229\u7528\u53cc\u7aef\u961f\u5217\u7684\u7279\u6027\uff0c\u53ef\u4ee5\u4ece\u540e\u5f80\u524d\u904d\u5386\uff0c\u9047\u5230\u5c0f\u7684\u5c31\u5220\u9664\u4e4b\uff0c\u5426\u5219\u505c\u6b62\u3002 \u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u961f\u9996\u59cb\u7ec8\u662f\u6700\u5927\u503c\uff0c\u56e0\u6b64\u5bfb\u627e\u6700\u5927\u503c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u53ef\u4ee5\u964d\u5230 O(1)\u3002\u7531\u4e8e window \u4e2d\u4f1a\u6709\u8d8a\u6765\u8d8a\u591a\u7684\u503c\u88ab\u6dd8\u6c70\uff0c\u56e0\u6b64\u6574\u4f53\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\u7ebf\u6027\u7684\u3002","title":"\u601d\u8def"},{"location":"algre/08-%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97%E5%8F%8A%E5%BA%94%E7%94%A8/#_5","text":"\u4ee3\u7801\u975e\u5e38\u7684\u7b80\u6d01\uff0c\u4f46\u662f\u5982\u679c\u8981\u5199\u51fa bug free \u7684\u4ee3\u7801\u8fd8\u662f\u6709\u76f8\u5f53\u7684\u96be\u5ea6\u7684\uff0c\u5e0c\u671b\u4f60\u80fd\u81ea\u5df1\u72ec\u7acb\u5b9e\u73b0\u4e00\u904d\u3002 var maxSlidingWindow = function(nums, k) { // \u5f02\u5e38\u5904\u7406 if(nums.length === 0 || !k) return []; let window = [], res = []; for(let i = 0; i < nums.length; i++) { // \u5148\u628a\u6ed1\u52a8\u7a97\u53e3\u4e4b\u5916\u7684\u8e22\u51fa if(window[0] !== undefined && window[0] <= i - k) window.shift(); // \u4fdd\u8bc1\u961f\u9996\u662f\u6700\u5927\u7684 while(nums[window[window.length - 1]] <= nums[i]) window.pop(); window.push(i); if(i >= k - 1) res.push(nums[window[0]]) } return res; };","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"algre/09-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%9A%84%E7%9B%B8%E4%BA%92%E5%AE%9E%E7%8E%B0/","text":"\u6808\u548c\u961f\u5217\u7684\u76f8\u4e92\u5b9e\u73b0 \u00b6 \u6808\u5b9e\u73b0\u961f\u5217 \u00b6 \u4f7f\u7528\u6808\u5b9e\u73b0\u961f\u5217\u7684\u4e0b\u5217\u64cd\u4f5c\uff1a push(x) -- \u5c06\u4e00\u4e2a\u5143\u7d20\u653e\u5165\u961f\u5217\u7684\u5c3e\u90e8\u3002 pop() -- \u4ece\u961f\u5217\u9996\u90e8\u79fb\u9664\u5143\u7d20\u3002 peek() -- \u8fd4\u56de\u961f\u5217\u9996\u90e8\u7684\u5143\u7d20\u3002 empty() -- \u8fd4\u56de\u961f\u5217\u662f\u5426\u4e3a\u7a7a\u3002 \u793a\u4f8b: let queue = new MyQueue(); queue.push(1); queue.push(2); queue.peek(); // \u8fd4\u56de 1 queue.pop(); // \u8fd4\u56de 1 queue.empty(); // \u8fd4\u56de false \u6765\u6e90: LeetCode\u7b2c232\u9898 \u601d\u8def \u00b6 \u65e2\u7136\u6808\u662f\u5148\u8fdb\u540e\u51fa, \u8981\u60f3\u5f97\u5230\u5148\u8fdb\u5148\u51fa\u7684\u6548\u679c\uff0c\u6211\u4eec\u4e0d\u59a8\u7528\u4e24\u4e2a\u6808\u3002 \u5f53\u8fdb\u884cpush\u64cd\u4f5c\u65f6\uff0cpush \u5230 stack1\uff0c\u800c\u8fdb\u884cpop\u548cpeek\u7684\u64cd\u4f5c\u65f6\uff0c\u6211\u4eec\u901a\u8fc7stack2\u3002 \u5f53\u7136\u8fd9\u5176\u4e2d\u6709\u4e00\u4e2a\u7279\u6b8a\u60c5\u51b5\uff0c\u5c31\u662fstack2\u662f\u7a7a\uff0c\u5982\u4f55\u6765\u8fdb\u884cpop\u548cpeek? \u5f88\u7b80\u5355\uff0c\u628astack1\u4e2d\u7684\u5143\u7d20\u4f9d\u6b21 pop \u5e76\u63a8\u5165stack2\u4e2d\uff0c\u7136\u540e\u6b63\u5e38\u5730\u64cd\u4f5c stack2\u5373\u53ef\uff0c\u5982\u4e0b\u56fe\u6240\u793a: \u8fd9\u5c31\u5c31\u80fd\u4fdd\u8bc1\u5148\u5165\u5148\u51fa\u7684\u6548\u679c\u4e86\u3002 \u4ee3\u7801\u5b9e\u73b0 \u00b6 var MyQueue = function() { this.stack1 = []; this.stack2 = []; }; MyQueue.prototype.push = function(x) { this.stack1.push(x); }; // \u5c06 stack1 \u7684\u5143\u7d20\u8f6c\u79fb\u5230 stack2 MyQueue.prototype.transform = function() { while(this.stack1.length) { this.stack2.push(this.stack1.pop()); } } MyQueue.prototype.pop = function() { if(!this.stack2.length) this.transform(); return this.stack2.pop(); }; MyQueue.prototype.peek = function() { if(!this.stack2.length) this.transform(); return this.stack2[this.stack2.length - 1]; }; MyQueue.prototype.empty = function() { return !this.stack1.length && !this.stack2.length; }; \u961f\u5217\u5b9e\u73b0\u6808 \u00b6 \u548c\u4e0a\u4e00\u9898\u7684\u6548\u679c\u521a\u597d\u76f8\u53cd\uff0c\u7528\u961f\u5217\u5148\u8fdb\u5148\u51fa\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u5148\u8fdb\u540e\u51fa\u7684\u6548\u679c\u3002 \u601d\u8def \u00b6 \u4ee5\u4e0a\u9762\u7684\u961f\u5217\u4e3a\u4f8b\uff0cpush \u64cd\u4f5c\u597d\u8bf4\uff0c\u76f4\u63a5\u4ece\u5728\u961f\u5217\u672b\u5c3e\u63a8\u5165\u3002\u4f46 pop \u548c peek \u5462\uff1f \u56de\u5230\u6211\u4eec\u7684\u76ee\u6807\uff0c\u6211\u4eec\u7684\u76ee\u6807\u662f\u62ff\u5230\u961f\u5c3e\u7684\u503c\uff0c\u4e5f\u5c31\u662f3\u3002\u8fd9\u5c31\u597d\u529e\u4e86\uff0c\u6211\u4eec\u8ba9\u524d\u9762\u7684\u5143\u7d20\u7edf\u7edf\u51fa\u961f\uff0c\u53ea\u7559\u961f\u5c3e\u5143\u7d20\u5373\u53ef\uff0c\u5269\u4e0b\u7684\u5143\u7d20\u8ba9\u53e6\u5916\u4e00\u4e2a\u961f\u5217\u4fdd\u5b58\u3002 \u6765\u6e90: LeetCode\u7b2c225\u9898 \u4ee3\u7801\u5b9e\u73b0 \u00b6 \u5b9e\u73b0\u8fc7\u7a0b\u4e2d\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u4e00\u70b9\u662f\uff0cqueue1 \u59cb\u7ec8\u4fdd\u5b58\u524d\u9762\u7684\u5143\u7d20\uff0cqueue2 \u59cb\u7ec8\u4fdd\u5b58\u961f\u5c3e\u5143\u7d20\uff08\u5373\u6808\u9876\u5143\u7d20 \uff09\u3002 \u4f46\u662f\u5f53 push \u7684\u65f6\u5019\u6709\u4e00\u4e2a\u9677\u9631\uff0c\u5c31\u662f\u5f53queue2\u5df2\u7ecf\u6709\u5143\u7d20\u7684\u65f6\u5019\uff0c\u4e0d\u80fd\u5c06\u65b0\u503c push \u5230 queue1\uff0c\u56e0\u4e3a\u6b64\u65f6\u7684\u6808\u9876\u5143\u7d20\u5e94\u8be5\u66f4\u65b0\u3002\u6b64\u65f6\u5bf9\u4e8e\u65b0\u7684\u503c\u6765\u8bf4\uff0c\u5e94\u5148 push \u5230 queue2\uff0c \u7136\u540e\u5c06\u65e7\u7684\u6808\u9876\u4ecequeue2\u51fa\u961f\uff0c\u63a8\u5165 queue1\uff0c\u8fd9\u6837\u5c31\u5b9e\u73b0\u4e86\u66f4\u65b0\u6808\u9876\u7684\u64cd\u4f5c\u3002 var MyStack = function() { this.queue1 = []; this.queue2 = []; }; MyStack.prototype.push = function(x) { if(!this.queue2.length) this.queue1.push(x); else { // queue2 \u5df2\u7ecf\u6709\u503c this.queue2.push(x); // \u65e7\u7684\u6808\u9876\u79fb\u5230 queue1 \u4e2d this.queue1.push(this.queue2.shift()); } }; MyStack.prototype.transform = function() { while(this.queue1.length !== 1) { this.queue2.push(this.queue1.shift()) } // queue2 \u4fdd\u5b58\u4e86\u524d\u9762\u7684\u5143\u7d20 // \u8ba9 queue1 \u548c queue2 \u4ea4\u6362 // \u73b0\u5728queue1 \u5305\u542b\u524d\u9762\u7684\u5143\u7d20\uff0cqueue2 \u91cc\u9762\u5c31\u53ea\u5305\u542b\u961f\u5c3e\u7684\u5143\u7d20 let tmp = this.queue1; this.queue1 = this.queue2; this.queue2 = tmp; } MyStack.prototype.pop = function() { if(!this.queue2.length) this.transform(); return this.queue2.shift(); }; MyStack.prototype.top = function() { if(!this.queue2.length) this.transform(); return this.queue2[0]; }; MyStack.prototype.empty = function() { return !this.queue1.length && !this.queue2.length; };","title":"09-\u6808\u548c\u961f\u5217\u7684\u76f8\u4e92\u5b9e\u73b0.md"},{"location":"algre/09-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%9A%84%E7%9B%B8%E4%BA%92%E5%AE%9E%E7%8E%B0/#_1","text":"","title":"\u6808\u548c\u961f\u5217\u7684\u76f8\u4e92\u5b9e\u73b0"},{"location":"algre/09-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%9A%84%E7%9B%B8%E4%BA%92%E5%AE%9E%E7%8E%B0/#_2","text":"\u4f7f\u7528\u6808\u5b9e\u73b0\u961f\u5217\u7684\u4e0b\u5217\u64cd\u4f5c\uff1a push(x) -- \u5c06\u4e00\u4e2a\u5143\u7d20\u653e\u5165\u961f\u5217\u7684\u5c3e\u90e8\u3002 pop() -- \u4ece\u961f\u5217\u9996\u90e8\u79fb\u9664\u5143\u7d20\u3002 peek() -- \u8fd4\u56de\u961f\u5217\u9996\u90e8\u7684\u5143\u7d20\u3002 empty() -- \u8fd4\u56de\u961f\u5217\u662f\u5426\u4e3a\u7a7a\u3002 \u793a\u4f8b: let queue = new MyQueue(); queue.push(1); queue.push(2); queue.peek(); // \u8fd4\u56de 1 queue.pop(); // \u8fd4\u56de 1 queue.empty(); // \u8fd4\u56de false \u6765\u6e90: LeetCode\u7b2c232\u9898","title":"\u6808\u5b9e\u73b0\u961f\u5217"},{"location":"algre/09-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%9A%84%E7%9B%B8%E4%BA%92%E5%AE%9E%E7%8E%B0/#_3","text":"\u65e2\u7136\u6808\u662f\u5148\u8fdb\u540e\u51fa, \u8981\u60f3\u5f97\u5230\u5148\u8fdb\u5148\u51fa\u7684\u6548\u679c\uff0c\u6211\u4eec\u4e0d\u59a8\u7528\u4e24\u4e2a\u6808\u3002 \u5f53\u8fdb\u884cpush\u64cd\u4f5c\u65f6\uff0cpush \u5230 stack1\uff0c\u800c\u8fdb\u884cpop\u548cpeek\u7684\u64cd\u4f5c\u65f6\uff0c\u6211\u4eec\u901a\u8fc7stack2\u3002 \u5f53\u7136\u8fd9\u5176\u4e2d\u6709\u4e00\u4e2a\u7279\u6b8a\u60c5\u51b5\uff0c\u5c31\u662fstack2\u662f\u7a7a\uff0c\u5982\u4f55\u6765\u8fdb\u884cpop\u548cpeek? \u5f88\u7b80\u5355\uff0c\u628astack1\u4e2d\u7684\u5143\u7d20\u4f9d\u6b21 pop \u5e76\u63a8\u5165stack2\u4e2d\uff0c\u7136\u540e\u6b63\u5e38\u5730\u64cd\u4f5c stack2\u5373\u53ef\uff0c\u5982\u4e0b\u56fe\u6240\u793a: \u8fd9\u5c31\u5c31\u80fd\u4fdd\u8bc1\u5148\u5165\u5148\u51fa\u7684\u6548\u679c\u4e86\u3002","title":"\u601d\u8def"},{"location":"algre/09-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%9A%84%E7%9B%B8%E4%BA%92%E5%AE%9E%E7%8E%B0/#_4","text":"var MyQueue = function() { this.stack1 = []; this.stack2 = []; }; MyQueue.prototype.push = function(x) { this.stack1.push(x); }; // \u5c06 stack1 \u7684\u5143\u7d20\u8f6c\u79fb\u5230 stack2 MyQueue.prototype.transform = function() { while(this.stack1.length) { this.stack2.push(this.stack1.pop()); } } MyQueue.prototype.pop = function() { if(!this.stack2.length) this.transform(); return this.stack2.pop(); }; MyQueue.prototype.peek = function() { if(!this.stack2.length) this.transform(); return this.stack2[this.stack2.length - 1]; }; MyQueue.prototype.empty = function() { return !this.stack1.length && !this.stack2.length; };","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"algre/09-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%9A%84%E7%9B%B8%E4%BA%92%E5%AE%9E%E7%8E%B0/#_5","text":"\u548c\u4e0a\u4e00\u9898\u7684\u6548\u679c\u521a\u597d\u76f8\u53cd\uff0c\u7528\u961f\u5217\u5148\u8fdb\u5148\u51fa\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u5148\u8fdb\u540e\u51fa\u7684\u6548\u679c\u3002","title":"\u961f\u5217\u5b9e\u73b0\u6808"},{"location":"algre/09-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%9A%84%E7%9B%B8%E4%BA%92%E5%AE%9E%E7%8E%B0/#_6","text":"\u4ee5\u4e0a\u9762\u7684\u961f\u5217\u4e3a\u4f8b\uff0cpush \u64cd\u4f5c\u597d\u8bf4\uff0c\u76f4\u63a5\u4ece\u5728\u961f\u5217\u672b\u5c3e\u63a8\u5165\u3002\u4f46 pop \u548c peek \u5462\uff1f \u56de\u5230\u6211\u4eec\u7684\u76ee\u6807\uff0c\u6211\u4eec\u7684\u76ee\u6807\u662f\u62ff\u5230\u961f\u5c3e\u7684\u503c\uff0c\u4e5f\u5c31\u662f3\u3002\u8fd9\u5c31\u597d\u529e\u4e86\uff0c\u6211\u4eec\u8ba9\u524d\u9762\u7684\u5143\u7d20\u7edf\u7edf\u51fa\u961f\uff0c\u53ea\u7559\u961f\u5c3e\u5143\u7d20\u5373\u53ef\uff0c\u5269\u4e0b\u7684\u5143\u7d20\u8ba9\u53e6\u5916\u4e00\u4e2a\u961f\u5217\u4fdd\u5b58\u3002 \u6765\u6e90: LeetCode\u7b2c225\u9898","title":"\u601d\u8def"},{"location":"algre/09-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%9A%84%E7%9B%B8%E4%BA%92%E5%AE%9E%E7%8E%B0/#_7","text":"\u5b9e\u73b0\u8fc7\u7a0b\u4e2d\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u4e00\u70b9\u662f\uff0cqueue1 \u59cb\u7ec8\u4fdd\u5b58\u524d\u9762\u7684\u5143\u7d20\uff0cqueue2 \u59cb\u7ec8\u4fdd\u5b58\u961f\u5c3e\u5143\u7d20\uff08\u5373\u6808\u9876\u5143\u7d20 \uff09\u3002 \u4f46\u662f\u5f53 push \u7684\u65f6\u5019\u6709\u4e00\u4e2a\u9677\u9631\uff0c\u5c31\u662f\u5f53queue2\u5df2\u7ecf\u6709\u5143\u7d20\u7684\u65f6\u5019\uff0c\u4e0d\u80fd\u5c06\u65b0\u503c push \u5230 queue1\uff0c\u56e0\u4e3a\u6b64\u65f6\u7684\u6808\u9876\u5143\u7d20\u5e94\u8be5\u66f4\u65b0\u3002\u6b64\u65f6\u5bf9\u4e8e\u65b0\u7684\u503c\u6765\u8bf4\uff0c\u5e94\u5148 push \u5230 queue2\uff0c \u7136\u540e\u5c06\u65e7\u7684\u6808\u9876\u4ecequeue2\u51fa\u961f\uff0c\u63a8\u5165 queue1\uff0c\u8fd9\u6837\u5c31\u5b9e\u73b0\u4e86\u66f4\u65b0\u6808\u9876\u7684\u64cd\u4f5c\u3002 var MyStack = function() { this.queue1 = []; this.queue2 = []; }; MyStack.prototype.push = function(x) { if(!this.queue2.length) this.queue1.push(x); else { // queue2 \u5df2\u7ecf\u6709\u503c this.queue2.push(x); // \u65e7\u7684\u6808\u9876\u79fb\u5230 queue1 \u4e2d this.queue1.push(this.queue2.shift()); } }; MyStack.prototype.transform = function() { while(this.queue1.length !== 1) { this.queue2.push(this.queue1.shift()) } // queue2 \u4fdd\u5b58\u4e86\u524d\u9762\u7684\u5143\u7d20 // \u8ba9 queue1 \u548c queue2 \u4ea4\u6362 // \u73b0\u5728queue1 \u5305\u542b\u524d\u9762\u7684\u5143\u7d20\uff0cqueue2 \u91cc\u9762\u5c31\u53ea\u5305\u542b\u961f\u5c3e\u7684\u5143\u7d20 let tmp = this.queue1; this.queue1 = this.queue2; this.queue2 = tmp; } MyStack.prototype.pop = function() { if(!this.queue2.length) this.transform(); return this.queue2.shift(); }; MyStack.prototype.top = function() { if(!this.queue2.length) this.transform(); return this.queue2[0]; }; MyStack.prototype.empty = function() { return !this.queue1.length && !this.queue2.length; };","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"algre/10-n%20%E6%95%B0%E4%B9%8B%E5%92%8C/","text":"n \u6570\u4e4b\u548c \u00b6 \u4e24\u6570\u4e4b\u548c \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570\u6570\u7ec4 nums \u548c\u4e00\u4e2a\u76ee\u6807\u503c target\uff0c\u8bf7\u4f60\u5728\u8be5\u6570\u7ec4\u4e2d\u627e\u51fa\u548c\u4e3a\u76ee\u6807\u503c\u7684\u90a3 \u4e24\u4e2a \u6574\u6570\uff0c\u5e76\u8fd4\u56de\u4ed6\u4eec\u7684\u6570\u7ec4\u4e0b\u6807\u3002 \u4f60\u53ef\u4ee5\u5047\u8bbe\u6bcf\u79cd\u8f93\u5165\u53ea\u4f1a\u5bf9\u5e94\u4e00\u4e2a\u7b54\u6848\u3002\u4f46\u662f\uff0c\u4f60\u4e0d\u80fd\u91cd\u590d\u5229\u7528\u8fd9\u4e2a\u6570\u7ec4\u4e2d\u540c\u6837\u7684\u5143\u7d20\u3002 \u793a\u4f8b: \u7ed9\u5b9a nums = [2, 7, 11, 15], target = 9 \u56e0\u4e3a nums[0] + nums[1] = 2 + 7 = 9 \u6240\u4ee5\u8fd4\u56de [0, 1] \u6765\u6e90: LeetCode\u7b2c1\u9898 \u4ee3\u7801\u5b9e\u73b0 \u00b6 \u5176\u5b9e\u662f\u975e\u5e38\u7b80\u5355\u7684\u4e00\u9053\u9898\u76ee\u3002\u5982\u679c\u6ca1\u6709\u63a5\u89e6\u8fc7\u54c8\u5e0c\u8868\u7684\u8bdd\uff0c\u9996\u5148\u60f3\u5230\u7684\u662f\u53cc\u5c42\u5faa\u73af\u66b4\u529b\u89e3\u51b3\uff0c\u4e0d\u8fc7\u65e0\u7591\u6548\u7387\u662f\u975e\u5e38\u4f4e\u7684\uff0c\u5229\u7528\u54c8\u5e0c\u8868\u6211\u4eec\u53ef\u4ee5\u5c06\u65f6\u95f4\u590d\u6742\u5ea6\u964d\u5230 O(n)\u3002 /** * @param {number[]} nums * @param {number} target * @return {number[]} */ var twoSum = function(nums, target) { let map = {}; for(let i = 0; i < nums.length; i++) { if(map[nums[i]] !== undefined) return [i, map[nums[i]]]; else map[target - nums[i]] = i; } }; \u4e09\u6570\u4e4b\u548c \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u5305\u542b n \u4e2a\u6574\u6570\u7684\u6570\u7ec4 nums\uff0c\u5224\u65ad nums \u4e2d\u662f\u5426\u5b58\u5728\u4e09\u4e2a\u5143\u7d20 a\uff0cb\uff0cc \uff0c\u4f7f\u5f97 a + b + c = 0 \uff1f\u627e\u51fa\u6240\u6709\u6ee1\u8db3\u6761\u4ef6\u4e14\u4e0d\u91cd\u590d\u7684\u4e09\u5143\u7ec4\u3002 \u6ce8\u610f\uff1a\u7b54\u6848\u4e2d\u4e0d\u53ef\u4ee5\u5305\u542b\u91cd\u590d\u7684\u4e09\u5143\u7ec4\u3002 \u793a\u4f8b: \u7ed9\u5b9a\u6570\u7ec4 nums = [-1, 0, 1, 2, -1, -4]\uff0c \u6ee1\u8db3\u8981\u6c42\u7684\u4e09\u5143\u7ec4\u96c6\u5408\u4e3a\uff1a [ [-1, 0, 1], [-1, -1, 2] ] \u6765\u6e90: LeetCode\u7b2c15\u9898 \u601d\u8def\u5206\u6790 \u00b6 \u548b\u4e00\u770b\uff0c\u8fd9\u4e00\u9898\u4e5f\u53ef\u4ee5\u7528\u4e09\u91cd\u5faa\u73af\u6765\u66b4\u529b\u89e3\u51b3\uff0c\u5f53\u7136\u8fd9\u4e5f\u662f\u53ef\u4ee5\u5b9e\u73b0\u7684\uff0c\u4e0d\u8fc7\u663e\u7136\u53ef\u4ee5\u7528\u5176\u4ed6\u7684\u65b9\u5f0f\u4f18\u5316\u3002 \u65b9\u5f0f\u4e00: \u54c8\u5e0c\u8868\uff1a\u6211\u4eec\u5148\u770b\u770b\u54c8\u5e0c\u8868\u600e\u4e48\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u9996\u5148\u904d\u5386\u6570\u7ec4\uff0c\u62ff\u5230\u6570\u7ec4\u7684\u4e00\u9879 nums[i]\uff0c \u5269\u4e0b\u7684\u95ee\u9898\u5c31\u662f\u627e\u5230\u548c\u4e3a 0 - nums[i] \u7684\u4e24\u4e2a\u6570\u5566\uff0c\u5bf9\u4e8e\u6570\u7ec4\u4e2d\u540e\u9762\u7684\u5143\u7d20\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e24\u6570\u4e4b\u548c\u5efa\u7acb\u54c8\u5e0c\u8868\u7684\u65b9\u5f0f\u6765\u5b8c\u6210\u3002 \u65b9\u5f0f\u4e8c: \u53cc\u6307\u9488: \u8fd8\u6709\u4e00\u79cd\u65b9\u5f0f\u662f\u5148\u6392\u597d\u5e8f\uff0c\u7136\u540e\u5728\u5bfb\u627e\u548c\u4e3a 0 - nums[i] \u7684\u4e24\u4e2a\u6570\u7684\u65f6\u5019\uff0c\u901a\u8fc7\u53cc\u6307\u9488\u6765\u5b8c\u6210\uff0c\u4e00\u4e2a\u6307\u9488\u6307\u5411 nums[i + 1], \u53e6\u4e00\u4e2a\u6307\u9488\u6307\u5411 nums \u4e2d\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff0c\u8ba1\u7b97\u51fa\u4e24\u4e2a\u6307\u9488\u6240\u6307\u5143\u7d20\u7684\u548c\uff0c\u5982\u679c\u548c\u5c0f\u4e8e 0 - nums[i]\uff0c\u5219\u79fb\u52a8\u628a\u8f83\u5c0f\u5143\u7d20\u7684\u6307\u9488\u5411\u540e\u79fb\uff0c\u53cd\u4e4b\u628a\u8f83\u5927\u5143\u7d20\u7684\u6307\u9488\u5411\u524d\u79fb\uff0c\u4ee5\u8fbe\u5230\u903c\u8fd1\u7ed3\u679c\u7684\u6548\u679c\u3002 \u63a5\u4e0b\u6765\u6211\u4eec\u6765\u4e00\u4e00\u5b9e\u73b0: \u4ee3\u7801\u5b9e\u73b0 \u00b6 \u54c8\u5e0c\u8868\u7684\u65b9\u5f0f: /** * @param {number[]} nums * @return {number[][]} */ var threeSum = function(nums) { let res = []; let set = new Set(); for(let i = 0; i < nums.length - 2; i++) { if(i >= 1 && nums[i] === nums[i - 1]) continue; // map \u7684 key \u8868\u793a: \u5176\u4ed6\u4e24\u4e2a\u6570\u90fd\u51c6\u5907\u597d\u4e86\u54c8\uff0c\u5c31\u5dee\u8fd9\u4e00\u4e2akey\u4e86\u3002 let map = {}; for(let j = i + 1; j < nums.length; j++) { if(map[nums[j]]) { let arr = [nums[i], nums[j], 0 - nums[i] - nums[j]] arr.sort(); // Set \u6ca1\u6cd5\u5bf9\u5f15\u7528\u7c7b\u578b\u53bb\u91cd\uff0c\u56e0\u6b64\u91c7\u7528\u8fd9\u6837\u7684\u65b9\u5f0f\u5904\u7406\u53bb\u91cd\u95ee\u9898 set.add(arr.toString()) } else { // \u4e24\u4e2a\u6570\u90fd\u51c6\u5907\u597d\u4e86\uff0c\u770b\u7b2c\u4e09\u4e2a\u6570\u5728\u4e0d\u5728\uff0c\u628a key \u8bbe\u6210\u7b2c\u4e09\u4e2a\u6570\u9e2d map[0 - nums[i] - nums[j]] = 1; } } } set.forEach(item => { // \u8fd8\u539f\u6570\u7ec4 res.push(item.split(',')); }); return res; }; \u5f88\u53ef\u60dc\u7684\u662f\uff0c\u8fd9\u6bb5\u7a0b\u5e8f\u4e00\u76f4\u6ca1\u6709\u901a\u8fc7 LeetCode \u7684\u65f6\u95f4\u6d4b\u8bd5\uff0c\u603b\u662f\u5361\u5728\u6700\u540e\u4e09\u4e2a\u7528\u4f8b\uff0c\u4e0d\u8fc7\u4e5f\u7b97\u662f\u7528\u54c8\u5e0c\u8868\u6b63\u786e\u5730\u5b9e\u73b0\u4e86\u529f\u80fd\uff0c\u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u81ea\u5df1\u7ee7\u7eed\u5c1d\u8bd5\u4e00\u4e0b\u3002 \u63a5\u4e0b\u6765\u662f\u5b98\u65b9\u975e\u5e38\u63a8\u5d07\u7684\u4e00\u79cd\u65b9\u6cd5: \u53cc\u6307\u9488\u3002\u6211\u8bd5\u7740\u5b9e\u73b0\u4e86\u4e00\u6ce2\uff0c\u6210\u529f\u901a\u8fc7\u4e86\u6d4b\u8bd5\uff0c\u5e76\u4e14\u8d85\u8fc7 JavaScript \u4e2d 99% \u7684\u7528\u6237\u3002\u8ba9\u6211\u4eec\u6765\u77a7\u77a7\u8fd9\u79cd\u65b9\u6cd5\u5230\u5e95\u6709\u591a\u4e48\u795e\u5947: /** * @param {number[]} nums * @return {number[][]} */ var threeSum = function(nums) { // \u9996\u5148\u8981\u6392\u5e8f nums.sort((a, b) => a - b); let map = {}, res = []; // \u4f18\u53161: \u6570\u7ec4\u5168\u6b63\u6216\u5168\u8d1f\uff0c\u76f4\u63a5\u8fd4\u56de[] if(nums[0] > 0 || nums[nums.length - 1] < 0) return []; for(let i = 0; i < nums.length - 2; i++) { if(i >= 1 && nums[i] === nums[i - 1]) continue; // \u4f18\u53162: \u9047\u5230\u6b63\u6570\uff0c\u540e\u9762\u4e0d\u7528\u770b\u4e86\uff0c\u4e0d\u4f1a\u6709\u7b49\u4e8e0\u7684\u60c5\u51b5\u4e86 if(nums[i] > 0) break; let target = 0 - nums[i]; let start = i + 1, end = nums.length - 1; // \u5f00\u59cb\u53cc\u6307\u9488\u5904\u7406 while(start < end) { let cur = nums[start] + nums[end]; if(cur < target) start++; else if(cur > target) end--; else { res.push([nums[i], nums[start], nums[end]]); // \u53bb\u91cd\uff0c\u975e\u5e38\u91cd\u8981 while(start < end && nums[start + 1] === nums[start]) start ++; while(start < end && nums[end - 1] === nums[end]) end--; start ++; end --; } } } return res; }; \u56db\u6570\u4e4b\u548c \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u5305\u542b n \u4e2a\u6574\u6570\u7684\u6570\u7ec4 nums \u548c\u4e00\u4e2a\u76ee\u6807\u503c target\uff0c\u5224\u65ad nums \u4e2d\u662f\u5426\u5b58\u5728\u56db\u4e2a\u5143\u7d20 a\uff0cb\uff0cc \u548c d \uff0c\u4f7f\u5f97 a + b + c + d \u7684\u503c\u4e0e target \u76f8\u7b49\uff1f\u627e\u51fa\u6240\u6709\u6ee1\u8db3\u6761\u4ef6\u4e14\u4e0d\u91cd\u590d\u7684\u56db\u5143\u7ec4\u3002 \u6ce8\u610f\uff1a\u7b54\u6848\u4e2d\u4e0d\u53ef\u4ee5\u5305\u542b\u91cd\u590d\u7684\u56db\u5143\u7ec4\u3002 \u793a\u4f8b\uff1a \u7ed9\u5b9a\u6570\u7ec4 nums = [1, 0, -1, 0, -2, 2]\uff0c\u548c target = 0\u3002 \u6ee1\u8db3\u8981\u6c42\u7684\u56db\u5143\u7ec4\u96c6\u5408\u4e3a\uff1a [ [-1, 0, 0, 1], [-2, -1, 1, 2], [-2, 0, 0, 2] ] \u6765\u6e90: LeetCode\u7b2c18\u9898 \u4ee3\u7801\u5b9e\u73b0 \u00b6 \u6709\u4e86\u4e09\u6570\u4e4b\u548c\u95ee\u9898\u4f5c\u94fa\u57ab\uff0c\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7b80\u76f4\u662f\u5c0f\u83dc\u4e00\u789f\u4e86\u3002 /** * @param {number[]} nums * @param {number} target * @return {number[][]} */ var fourSum = function(nums, k) { // \u9996\u5148\u8981\u6392\u5e8f nums.sort((a, b) => a - b); let res = []; for(let i = 0; i < nums.length - 3; i++) { if(i > 0 && nums[i] === nums[i - 1]) continue; for(let index = i + 1; index < nums.length - 2; index++) { if(index > i + 1 && nums[index] === nums[index - 1]) continue; let target = k - nums[i] - nums[index]; let start = index + 1, end = nums.length - 1; // \u5f00\u59cb\u53cc\u6307\u9488\u5904\u7406 while(start < end) { let cur = nums[start] + nums[end]; if(cur < target) start++; else if(cur > target) end--; else { res.push([nums[i],nums[index],nums[start], nums[end]]); // \u53bb\u91cd\uff0c\u975e\u5e38\u91cd\u8981 while(start < end && nums[start + 1] === nums[start]) start ++; while(start < end && nums[end - 1] === nums[end]) end--; start ++; end --; } } } } return res; };","title":"10-n \u6570\u4e4b\u548c.md"},{"location":"algre/10-n%20%E6%95%B0%E4%B9%8B%E5%92%8C/#n","text":"","title":"n \u6570\u4e4b\u548c"},{"location":"algre/10-n%20%E6%95%B0%E4%B9%8B%E5%92%8C/#_1","text":"\u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570\u6570\u7ec4 nums \u548c\u4e00\u4e2a\u76ee\u6807\u503c target\uff0c\u8bf7\u4f60\u5728\u8be5\u6570\u7ec4\u4e2d\u627e\u51fa\u548c\u4e3a\u76ee\u6807\u503c\u7684\u90a3 \u4e24\u4e2a \u6574\u6570\uff0c\u5e76\u8fd4\u56de\u4ed6\u4eec\u7684\u6570\u7ec4\u4e0b\u6807\u3002 \u4f60\u53ef\u4ee5\u5047\u8bbe\u6bcf\u79cd\u8f93\u5165\u53ea\u4f1a\u5bf9\u5e94\u4e00\u4e2a\u7b54\u6848\u3002\u4f46\u662f\uff0c\u4f60\u4e0d\u80fd\u91cd\u590d\u5229\u7528\u8fd9\u4e2a\u6570\u7ec4\u4e2d\u540c\u6837\u7684\u5143\u7d20\u3002 \u793a\u4f8b: \u7ed9\u5b9a nums = [2, 7, 11, 15], target = 9 \u56e0\u4e3a nums[0] + nums[1] = 2 + 7 = 9 \u6240\u4ee5\u8fd4\u56de [0, 1] \u6765\u6e90: LeetCode\u7b2c1\u9898","title":"\u4e24\u6570\u4e4b\u548c"},{"location":"algre/10-n%20%E6%95%B0%E4%B9%8B%E5%92%8C/#_2","text":"\u5176\u5b9e\u662f\u975e\u5e38\u7b80\u5355\u7684\u4e00\u9053\u9898\u76ee\u3002\u5982\u679c\u6ca1\u6709\u63a5\u89e6\u8fc7\u54c8\u5e0c\u8868\u7684\u8bdd\uff0c\u9996\u5148\u60f3\u5230\u7684\u662f\u53cc\u5c42\u5faa\u73af\u66b4\u529b\u89e3\u51b3\uff0c\u4e0d\u8fc7\u65e0\u7591\u6548\u7387\u662f\u975e\u5e38\u4f4e\u7684\uff0c\u5229\u7528\u54c8\u5e0c\u8868\u6211\u4eec\u53ef\u4ee5\u5c06\u65f6\u95f4\u590d\u6742\u5ea6\u964d\u5230 O(n)\u3002 /** * @param {number[]} nums * @param {number} target * @return {number[]} */ var twoSum = function(nums, target) { let map = {}; for(let i = 0; i < nums.length; i++) { if(map[nums[i]] !== undefined) return [i, map[nums[i]]]; else map[target - nums[i]] = i; } };","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"algre/10-n%20%E6%95%B0%E4%B9%8B%E5%92%8C/#_3","text":"\u7ed9\u5b9a\u4e00\u4e2a\u5305\u542b n \u4e2a\u6574\u6570\u7684\u6570\u7ec4 nums\uff0c\u5224\u65ad nums \u4e2d\u662f\u5426\u5b58\u5728\u4e09\u4e2a\u5143\u7d20 a\uff0cb\uff0cc \uff0c\u4f7f\u5f97 a + b + c = 0 \uff1f\u627e\u51fa\u6240\u6709\u6ee1\u8db3\u6761\u4ef6\u4e14\u4e0d\u91cd\u590d\u7684\u4e09\u5143\u7ec4\u3002 \u6ce8\u610f\uff1a\u7b54\u6848\u4e2d\u4e0d\u53ef\u4ee5\u5305\u542b\u91cd\u590d\u7684\u4e09\u5143\u7ec4\u3002 \u793a\u4f8b: \u7ed9\u5b9a\u6570\u7ec4 nums = [-1, 0, 1, 2, -1, -4]\uff0c \u6ee1\u8db3\u8981\u6c42\u7684\u4e09\u5143\u7ec4\u96c6\u5408\u4e3a\uff1a [ [-1, 0, 1], [-1, -1, 2] ] \u6765\u6e90: LeetCode\u7b2c15\u9898","title":"\u4e09\u6570\u4e4b\u548c"},{"location":"algre/10-n%20%E6%95%B0%E4%B9%8B%E5%92%8C/#_4","text":"\u548b\u4e00\u770b\uff0c\u8fd9\u4e00\u9898\u4e5f\u53ef\u4ee5\u7528\u4e09\u91cd\u5faa\u73af\u6765\u66b4\u529b\u89e3\u51b3\uff0c\u5f53\u7136\u8fd9\u4e5f\u662f\u53ef\u4ee5\u5b9e\u73b0\u7684\uff0c\u4e0d\u8fc7\u663e\u7136\u53ef\u4ee5\u7528\u5176\u4ed6\u7684\u65b9\u5f0f\u4f18\u5316\u3002 \u65b9\u5f0f\u4e00: \u54c8\u5e0c\u8868\uff1a\u6211\u4eec\u5148\u770b\u770b\u54c8\u5e0c\u8868\u600e\u4e48\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u9996\u5148\u904d\u5386\u6570\u7ec4\uff0c\u62ff\u5230\u6570\u7ec4\u7684\u4e00\u9879 nums[i]\uff0c \u5269\u4e0b\u7684\u95ee\u9898\u5c31\u662f\u627e\u5230\u548c\u4e3a 0 - nums[i] \u7684\u4e24\u4e2a\u6570\u5566\uff0c\u5bf9\u4e8e\u6570\u7ec4\u4e2d\u540e\u9762\u7684\u5143\u7d20\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e24\u6570\u4e4b\u548c\u5efa\u7acb\u54c8\u5e0c\u8868\u7684\u65b9\u5f0f\u6765\u5b8c\u6210\u3002 \u65b9\u5f0f\u4e8c: \u53cc\u6307\u9488: \u8fd8\u6709\u4e00\u79cd\u65b9\u5f0f\u662f\u5148\u6392\u597d\u5e8f\uff0c\u7136\u540e\u5728\u5bfb\u627e\u548c\u4e3a 0 - nums[i] \u7684\u4e24\u4e2a\u6570\u7684\u65f6\u5019\uff0c\u901a\u8fc7\u53cc\u6307\u9488\u6765\u5b8c\u6210\uff0c\u4e00\u4e2a\u6307\u9488\u6307\u5411 nums[i + 1], \u53e6\u4e00\u4e2a\u6307\u9488\u6307\u5411 nums \u4e2d\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff0c\u8ba1\u7b97\u51fa\u4e24\u4e2a\u6307\u9488\u6240\u6307\u5143\u7d20\u7684\u548c\uff0c\u5982\u679c\u548c\u5c0f\u4e8e 0 - nums[i]\uff0c\u5219\u79fb\u52a8\u628a\u8f83\u5c0f\u5143\u7d20\u7684\u6307\u9488\u5411\u540e\u79fb\uff0c\u53cd\u4e4b\u628a\u8f83\u5927\u5143\u7d20\u7684\u6307\u9488\u5411\u524d\u79fb\uff0c\u4ee5\u8fbe\u5230\u903c\u8fd1\u7ed3\u679c\u7684\u6548\u679c\u3002 \u63a5\u4e0b\u6765\u6211\u4eec\u6765\u4e00\u4e00\u5b9e\u73b0:","title":"\u601d\u8def\u5206\u6790"},{"location":"algre/10-n%20%E6%95%B0%E4%B9%8B%E5%92%8C/#_5","text":"\u54c8\u5e0c\u8868\u7684\u65b9\u5f0f: /** * @param {number[]} nums * @return {number[][]} */ var threeSum = function(nums) { let res = []; let set = new Set(); for(let i = 0; i < nums.length - 2; i++) { if(i >= 1 && nums[i] === nums[i - 1]) continue; // map \u7684 key \u8868\u793a: \u5176\u4ed6\u4e24\u4e2a\u6570\u90fd\u51c6\u5907\u597d\u4e86\u54c8\uff0c\u5c31\u5dee\u8fd9\u4e00\u4e2akey\u4e86\u3002 let map = {}; for(let j = i + 1; j < nums.length; j++) { if(map[nums[j]]) { let arr = [nums[i], nums[j], 0 - nums[i] - nums[j]] arr.sort(); // Set \u6ca1\u6cd5\u5bf9\u5f15\u7528\u7c7b\u578b\u53bb\u91cd\uff0c\u56e0\u6b64\u91c7\u7528\u8fd9\u6837\u7684\u65b9\u5f0f\u5904\u7406\u53bb\u91cd\u95ee\u9898 set.add(arr.toString()) } else { // \u4e24\u4e2a\u6570\u90fd\u51c6\u5907\u597d\u4e86\uff0c\u770b\u7b2c\u4e09\u4e2a\u6570\u5728\u4e0d\u5728\uff0c\u628a key \u8bbe\u6210\u7b2c\u4e09\u4e2a\u6570\u9e2d map[0 - nums[i] - nums[j]] = 1; } } } set.forEach(item => { // \u8fd8\u539f\u6570\u7ec4 res.push(item.split(',')); }); return res; }; \u5f88\u53ef\u60dc\u7684\u662f\uff0c\u8fd9\u6bb5\u7a0b\u5e8f\u4e00\u76f4\u6ca1\u6709\u901a\u8fc7 LeetCode \u7684\u65f6\u95f4\u6d4b\u8bd5\uff0c\u603b\u662f\u5361\u5728\u6700\u540e\u4e09\u4e2a\u7528\u4f8b\uff0c\u4e0d\u8fc7\u4e5f\u7b97\u662f\u7528\u54c8\u5e0c\u8868\u6b63\u786e\u5730\u5b9e\u73b0\u4e86\u529f\u80fd\uff0c\u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u81ea\u5df1\u7ee7\u7eed\u5c1d\u8bd5\u4e00\u4e0b\u3002 \u63a5\u4e0b\u6765\u662f\u5b98\u65b9\u975e\u5e38\u63a8\u5d07\u7684\u4e00\u79cd\u65b9\u6cd5: \u53cc\u6307\u9488\u3002\u6211\u8bd5\u7740\u5b9e\u73b0\u4e86\u4e00\u6ce2\uff0c\u6210\u529f\u901a\u8fc7\u4e86\u6d4b\u8bd5\uff0c\u5e76\u4e14\u8d85\u8fc7 JavaScript \u4e2d 99% \u7684\u7528\u6237\u3002\u8ba9\u6211\u4eec\u6765\u77a7\u77a7\u8fd9\u79cd\u65b9\u6cd5\u5230\u5e95\u6709\u591a\u4e48\u795e\u5947: /** * @param {number[]} nums * @return {number[][]} */ var threeSum = function(nums) { // \u9996\u5148\u8981\u6392\u5e8f nums.sort((a, b) => a - b); let map = {}, res = []; // \u4f18\u53161: \u6570\u7ec4\u5168\u6b63\u6216\u5168\u8d1f\uff0c\u76f4\u63a5\u8fd4\u56de[] if(nums[0] > 0 || nums[nums.length - 1] < 0) return []; for(let i = 0; i < nums.length - 2; i++) { if(i >= 1 && nums[i] === nums[i - 1]) continue; // \u4f18\u53162: \u9047\u5230\u6b63\u6570\uff0c\u540e\u9762\u4e0d\u7528\u770b\u4e86\uff0c\u4e0d\u4f1a\u6709\u7b49\u4e8e0\u7684\u60c5\u51b5\u4e86 if(nums[i] > 0) break; let target = 0 - nums[i]; let start = i + 1, end = nums.length - 1; // \u5f00\u59cb\u53cc\u6307\u9488\u5904\u7406 while(start < end) { let cur = nums[start] + nums[end]; if(cur < target) start++; else if(cur > target) end--; else { res.push([nums[i], nums[start], nums[end]]); // \u53bb\u91cd\uff0c\u975e\u5e38\u91cd\u8981 while(start < end && nums[start + 1] === nums[start]) start ++; while(start < end && nums[end - 1] === nums[end]) end--; start ++; end --; } } } return res; };","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"algre/10-n%20%E6%95%B0%E4%B9%8B%E5%92%8C/#_6","text":"\u7ed9\u5b9a\u4e00\u4e2a\u5305\u542b n \u4e2a\u6574\u6570\u7684\u6570\u7ec4 nums \u548c\u4e00\u4e2a\u76ee\u6807\u503c target\uff0c\u5224\u65ad nums \u4e2d\u662f\u5426\u5b58\u5728\u56db\u4e2a\u5143\u7d20 a\uff0cb\uff0cc \u548c d \uff0c\u4f7f\u5f97 a + b + c + d \u7684\u503c\u4e0e target \u76f8\u7b49\uff1f\u627e\u51fa\u6240\u6709\u6ee1\u8db3\u6761\u4ef6\u4e14\u4e0d\u91cd\u590d\u7684\u56db\u5143\u7ec4\u3002 \u6ce8\u610f\uff1a\u7b54\u6848\u4e2d\u4e0d\u53ef\u4ee5\u5305\u542b\u91cd\u590d\u7684\u56db\u5143\u7ec4\u3002 \u793a\u4f8b\uff1a \u7ed9\u5b9a\u6570\u7ec4 nums = [1, 0, -1, 0, -2, 2]\uff0c\u548c target = 0\u3002 \u6ee1\u8db3\u8981\u6c42\u7684\u56db\u5143\u7ec4\u96c6\u5408\u4e3a\uff1a [ [-1, 0, 0, 1], [-2, -1, 1, 2], [-2, 0, 0, 2] ] \u6765\u6e90: LeetCode\u7b2c18\u9898","title":"\u56db\u6570\u4e4b\u548c"},{"location":"algre/10-n%20%E6%95%B0%E4%B9%8B%E5%92%8C/#_7","text":"\u6709\u4e86\u4e09\u6570\u4e4b\u548c\u95ee\u9898\u4f5c\u94fa\u57ab\uff0c\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7b80\u76f4\u662f\u5c0f\u83dc\u4e00\u789f\u4e86\u3002 /** * @param {number[]} nums * @param {number} target * @return {number[][]} */ var fourSum = function(nums, k) { // \u9996\u5148\u8981\u6392\u5e8f nums.sort((a, b) => a - b); let res = []; for(let i = 0; i < nums.length - 3; i++) { if(i > 0 && nums[i] === nums[i - 1]) continue; for(let index = i + 1; index < nums.length - 2; index++) { if(index > i + 1 && nums[index] === nums[index - 1]) continue; let target = k - nums[i] - nums[index]; let start = index + 1, end = nums.length - 1; // \u5f00\u59cb\u53cc\u6307\u9488\u5904\u7406 while(start < end) { let cur = nums[start] + nums[end]; if(cur < target) start++; else if(cur > target) end--; else { res.push([nums[i],nums[index],nums[start], nums[end]]); // \u53bb\u91cd\uff0c\u975e\u5e38\u91cd\u8981 while(start < end && nums[start + 1] === nums[start]) start ++; while(start < end && nums[end - 1] === nums[end]) end--; start ++; end --; } } } } return res; };","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/","text":"\u524d\u7aef\u7b97\u6cd5\u7cfb\u7edf\u7ec3\u4e60\u6307\u5357 \u00b6 https://github.com/sanyuan0704/leetcode-js \u4e8c\u53c9\u6811\u7684\u904d\u5386 \u00b6 # \u524d\u5e8f\u904d\u5386 \u00b6 \u793a\u4f8b: \u793a\u4f8b: \u8f93\u5165: [1,null,2,3] 1 \\ 2 / 3 \u8f93\u51fa: [1,2,3] \u6765\u6e90: LeetCode\u7b2c144\u9898 # \u9012\u5f52\u65b9\u5f0f \u00b6 /** * @param {TreeNode} root * @return {number[]} */ var preorderTraversal = function ( root ) { let arr = []; let traverse = ( root ) => { if ( root == null ) return ; arr . push ( root . val ); traverse ( root . left ); traverse ( root . right ); } traverse ( root ); return arr ; }; # \u975e\u9012\u5f52\u65b9\u5f0f \u00b6 var preorderTraversal = function ( root ) { if ( root == null ) return []; let stack = [], res = []; stack . push ( root ); while ( stack . length ) { let node = stack . pop (); res . push ( node . val ); // \u5de6\u5b69\u5b50\u540e\u8fdb\u5148\u51fa\uff0c\u8fdb\u884c\u5148\u5de6\u540e\u53f3\u7684\u6df1\u5ea6\u4f18\u5148\u904d\u5386 if ( node . right ) stack . push ( node . right ); if ( node . left ) stack . push ( node . left ); } return res ; }; # \u4e2d\u5e8f\u904d\u5386 \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u8fd4\u56de\u5b83\u7684\u4e2d\u5e8f \u904d\u5386\u3002 \u793a\u4f8b: \u8f93\u5165: [1,null,2,3] 1 \\ 2 / 3 \u8f93\u51fa: [1,3,2] \u6765\u6e90: LeetCode\u7b2c94\u9898 # \u9012\u5f52\u65b9\u5f0f: \u00b6 /** * @param {TreeNode} root * @return {number[]} */ var inorderTraversal = function ( root ) { let arr = []; let traverse = ( root ) => { if ( root == null ) return ; traverse ( root . left ); arr . push ( root . val ); traverse ( root . right ); } traverse ( root ); return arr ; }; # \u975e\u9012\u5f52\u65b9\u5f0f \u00b6 var inorderTraversal = function ( root ) { if ( root == null ) return []; let stack = [], res = []; let p = root ; while ( stack . length || p ) { while ( p ) { stack . push ( p ); p = p . left ; } let node = stack . pop (); res . push ( node . val ); p = node . right ; } return res ; }; # \u540e\u5e8f\u904d\u5386 \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u8fd4\u56de\u5b83\u7684 \u540e\u5e8f \u904d\u5386\u3002 \u793a\u4f8b: \u8f93\u5165: [1,null,2,3] 1 \\ 2 / 3 \u8f93\u51fa: [3,2,1] \u6765\u6e90: LeetCode\u7b2c145\u9898 # \u9012\u5f52\u65b9\u5f0f \u00b6 /** * @param {TreeNode} root * @return {number[]} */ var postorderTraversal = function ( root ) { let arr = []; let traverse = ( root ) => { if ( root == null ) return ; traverse ( root . left ); traverse ( root . right ); arr . push ( root . val ); } traverse ( root ); return arr }; # \u975e\u9012\u5f52\u65b9\u5f0f \u00b6 var postorderTraversal = function ( root ) { if ( root == null ) return []; let stack = [], res = []; let visited = new Set (); let p = root ; while ( stack . length || p ) { while ( p ) { stack . push ( p ); p = p . left ; } let node = stack [ stack . length - 1 ]; // \u5982\u679c\u53f3\u5b69\u5b50\u5b58\u5728\uff0c\u800c\u4e14\u53f3\u5b69\u5b50\u672a\u88ab\u8bbf\u95ee if ( node . right && ! visited . has ( node . right )) { p = node . right ; visited . add ( node . right ); } else { res . push ( node . val ); stack . pop (); } } return res ; }; \u6700\u5927/\u6700\u5c0f\u6df1\u5ea6 \u00b6 # \u6700\u5927\u6df1\u5ea6 \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u627e\u51fa\u5176\u6700\u5927\u6df1\u5ea6\u3002 \u4e8c\u53c9\u6811\u7684\u6df1\u5ea6\u4e3a\u6839\u8282\u70b9\u5230\u6700\u8fdc\u53f6\u5b50\u8282\u70b9\u7684\u6700\u957f\u8def\u5f84\u4e0a\u7684\u8282\u70b9\u6570\u3002 \u8bf4\u660e: \u53f6\u5b50\u8282\u70b9\u662f\u6307\u6ca1\u6709\u5b50\u8282\u70b9\u7684\u8282\u70b9\u3002 \u793a\u4f8b\uff1a \u7ed9\u5b9a\u4e8c\u53c9\u6811 [3,9,20,null,null,15,7]\uff1a 3 / \\ 9 20 / \\ 15 7 \u8fd4\u56de\u5b83\u7684\u6700\u5927\u6df1\u5ea6 3 \u3002 \u6765\u6e90: LeetCode\u7b2c104\u9898 # \u9012\u5f52\u5b9e\u73b0 \u00b6 \u5b9e\u73b0\u975e\u5e38\u7b80\u5355\uff0c\u76f4\u63a5\u8d34\u51fa\u4ee3\u7801: /** * @param {TreeNode} root * @return {number} */ var maxDepth = function ( root ) { // \u9012\u5f52\u7ec8\u6b62\u6761\u4ef6 if ( root == null ) return 0 ; return Math . max ( maxDepth ( root . left ) + 1 , maxDepth ( root . right ) + 1 ); }; # \u975e\u9012\u5f52\u5b9e\u73b0 \u00b6 \u91c7\u7528\u5c42\u5e8f\u904d\u5386\u7684\u65b9\u5f0f\uff0c\u975e\u5e38\u597d\u7406\u89e3\u3002 var maxDepth = function ( root ) { if ( root == null ) return 0 ; let queue = [ root ]; let level = 0 ; while ( queue . length ) { let size = queue . length ; while ( size -- ) { let front = queue . shift (); if ( front . left ) queue . push ( front . left ); if ( front . right ) queue . push ( front . right ); } // level ++ \u540e\u7684\u503c\u4ee3\u8868\u7740\u73b0\u5728\u5df2\u7ecf\u5904\u7406\u5b8c\u4e86\u51e0\u5c42\u8282\u70b9 level ++ ; } return level ; }; # \u6700\u5c0f\u6df1\u5ea6 \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u627e\u51fa\u5176\u6700\u5c0f\u6df1\u5ea6\u3002 \u6700\u5c0f\u6df1\u5ea6\u662f\u4ece\u6839\u8282\u70b9\u5230\u6700\u8fd1\u53f6\u5b50\u8282\u70b9\u7684\u6700\u77ed\u8def\u5f84\u4e0a\u7684\u8282\u70b9\u6570\u91cf\u3002 \u8bf4\u660e: \u53f6\u5b50\u8282\u70b9\u662f\u6307\u6ca1\u6709\u5b50\u8282\u70b9\u7684\u8282\u70b9\u3002 \u793a\u4f8b: \u7ed9\u5b9a\u4e8c\u53c9\u6811 [3,9,20,null,null,15,7]: 3 / \\ 9 20 / \\ 15 7 \u8fd4\u56de\u5b83\u7684\u6700\u5c0f\u6df1\u5ea6 2. \u6765\u6e90: LeetCode\u7b2c111\u9898 # \u9012\u5f52\u5b9e\u73b0 \u00b6 \u5728\u5b9e\u73b0\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u6309\u7167\u6700\u5927\u6df1\u5ea6\u7684\u65b9\u5f0f\u6765\u505a\u4f1a\u51fa\u73b0\u4e00\u4e2a\u9677\u9631\uff0c\u5373: /** * @param {TreeNode} root * @return {number} */ var minDepth = function ( root ) { // \u9012\u5f52\u7ec8\u6b62\u6761\u4ef6 if ( root == null ) return 0 ; return Math . min ( minDepth ( root . left ) + 1 , minDepth ( root . right ) + 1 ); }; \u5f53 root \u8282\u70b9\u6709\u4e00\u4e2a\u5b69\u5b50\u4e3a\u7a7a\u7684\u65f6\u5019\uff0c\u6b64\u65f6\u8fd4\u56de\u7684\u662f 1\uff0c \u4f46\u8fd9\u662f\u4e0d\u5bf9\u7684\uff0c\u6700\u5c0f\u9ad8\u5ea6\u6307\u7684\u662f**\u6839\u8282\u70b9\u5230\u6700\u8fd1\u53f6\u5b50\u8282\u70b9**\u7684\u6700\u5c0f\u8def\u5f84\uff0c\u800c\u4e0d\u662f\u5230\u4e00\u4e2a\u7a7a\u8282\u70b9\u7684\u8def\u5f84\u3002 \u56e0\u6b64\u6211\u4eec\u9700\u8981\u505a\u5982\u4e0b\u7684\u8c03\u6574: var minDepth = function ( root ) { if ( root == null ) return 0 ; // \u5de6\u53f3\u5b69\u5b50\u90fd\u4e0d\u4e3a\u7a7a\u624d\u80fd\u50cf\u521a\u624d\u90a3\u6837\u8c03\u7528 if ( root . left && root . right ) return Math . min ( minDepth ( root . left ), minDepth ( root . right )) + 1 ; // \u53f3\u5b69\u5b50\u4e3a\u7a7a\u4e86\uff0c\u76f4\u63a5\u5ffd\u7565\u4e4b else if ( root . left ) return minDepth ( root . left ) + 1 ; // \u5de6\u5b69\u5b50\u4e3a\u7a7a\uff0c\u5ffd\u7565 else if ( root . right ) return minDepth ( root . right ) + 1 ; // \u4e24\u4e2a\u5b69\u5b50\u90fd\u4e3a\u7a7a\uff0c\u8bf4\u660e\u5230\u8fbe\u4e86\u53f6\u5b50\u8282\u70b9\uff0c\u8fd4\u56de 1 else return 1 ; }; \u8fd9\u6837\u7a0b\u5e8f\u4fbf\u80fd\u6b63\u5e38\u5de5\u4f5c\u4e86\u3002 # \u975e\u9012\u5f52\u5b9e\u73b0 \u00b6 \u7c7b\u4f3c\u4e8e \u6700\u5927\u9ad8\u5ea6 \u95ee\u9898\uff0c\u91c7\u7528\u4e86\u5c42\u5e8f\u904d\u5386\u7684\u65b9\u5f0f\uff0c\u5f88\u5bb9\u6613\u7406\u89e3\u3002 var minDepth = function ( root ) { if ( root == null ) return 0 ; let queue = [ root ]; let level = 0 ; while ( queue . length ) { let size = queue . length ; while ( size -- ) { let front = queue . shift (); // \u627e\u5230\u53f6\u5b50\u8282\u70b9 if ( ! front . left && ! front . right ) return level + 1 ; if ( front . left ) queue . push ( front . left ); if ( front . right ) queue . push ( front . right ); } // level ++ \u540e\u7684\u503c\u4ee3\u8868\u7740\u73b0\u5728\u5df2\u7ecf\u5904\u7406\u5b8c\u4e86\u51e0\u5c42\u8282\u70b9 level ++ ; } return level ; }; LCA \u95ee\u9898 \u00b6 LCA (Lowest Common Ancestor)\u5373\u6700\u8fd1\u516c\u5171\u7956\u5148\u95ee\u9898\u3002 \u767e\u5ea6\u767e\u79d1\u4e2d\u6700\u8fd1\u516c\u5171\u7956\u5148\u7684\u5b9a\u4e49\u4e3a\uff1a\u201c\u5bf9\u4e8e\u6709\u6839\u6811 T \u7684\u4e24\u4e2a\u7ed3\u70b9 p\u3001q\uff0c\u6700\u8fd1\u516c\u5171\u7956\u5148\u8868\u793a\u4e3a\u4e00\u4e2a\u7ed3\u70b9 x\uff0c\u6ee1\u8db3 x \u662f p\u3001q \u7684\u7956\u5148\u4e14 x \u7684\u6df1\u5ea6\u5c3d\u53ef\u80fd\u5927\uff08\u4e00\u4e2a\u8282\u70b9\u4e5f\u53ef\u4ee5\u662f\u5b83\u81ea\u5df1\u7684\u7956\u5148\uff09\u3002\u201d # \u4e8c\u53c9\u6811\u7684\u6700\u8fd1\u516c\u5171\u7956\u5148 \u00b6 \u5bf9\u4e8e\u4e00\u4e2a\u666e\u901a\u7684\u4e8c\u53c9\u6811: root = [3,5,1,6,2,0,8,null,null,7,4] \u8f93\u5165: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1 \u8f93\u51fa: 3 \u89e3\u91ca: \u8282\u70b9 5 \u548c\u8282\u70b9 1 \u7684\u6700\u8fd1\u516c\u5171\u7956\u5148\u662f\u8282\u70b9 3\u3002 \u6765\u6e90: LeetCode\u7b2c236\u9898 # \u601d\u8def\u5206\u6790 \u00b6 \u601d\u8def\u4e00: \u9996\u5148\u904d\u5386\u4e00\u904d\u4e8c\u53c9\u6811\uff0c\u8bb0\u5f55\u4e0b\u6bcf\u4e2a\u8282\u70b9\u7684\u7236\u8282\u70b9\u3002\u7136\u540e\u5bf9\u4e8e\u9898\u76ee\u7ed9\u7684 p \u8282\u70b9\uff0c\u6839\u636e\u8fd9\u4e2a\u8bb0\u5f55\u8868\u4e0d\u65ad\u7684\u627e p \u7684\u4e0a\u5c42\u8282\u70b9\uff0c\u76f4\u5230\u6839\uff0c\u8bb0\u5f55\u4e0b p \u7684**\u4e0a\u5c42\u8282\u70b9\u96c6\u5408**\u3002\u7136\u540e\u5bf9\u4e8e q \u8282\u70b9\uff0c\u6839\u636e\u8bb0\u5f55\u4e0d\u65ad\u5411\u4e0a\u627e\u5b83\u7684\u4e0a\u5c42\u8282\u70b9\uff0c\u5728\u5bfb\u627e\u7684\u8fc7\u7a0b\u4e2d\u4e00\u65e6\u53d1\u73b0**\u8fd9\u4e2a\u4e0a\u5c42\u8282\u70b9\u5df2\u7ecf\u5305\u542b\u5728\u521a\u521a\u7684\u96c6\u5408**\u4e2d\uff0c\u8bf4\u660e\u53d1\u73b0\u4e86\u6700\u8fd1\u516c\u5171\u7956\u5148\uff0c\u76f4\u63a5\u8fd4\u56de\u3002 \u601d\u8def\u4e8c: \u6df1\u5ea6\u4f18\u5148\u904d\u5386\u4e8c\u53c9\u6811\uff0c\u5982\u679c\u5f53\u524d\u8282\u70b9\u4e3a p \u6216\u8005 q\uff0c\u76f4\u63a5\u8fd4\u56de\u8fd9\u4e2a\u8282\u70b9\uff0c\u5426\u5219\u67e5\u770b\u5de6\u53f3\u5b69\u5b50\uff0c\u5de6\u5b69\u5b50\u4e2d\u4e0d\u5305\u542b p \u6216\u8005 q \u5219\u53bb\u627e\u53f3\u5b69\u5b50\uff0c\u53f3\u5b69\u5b50\u4e0d\u5305\u542b p \u6216\u8005 q \u5c31\u53bb\u627e\u5de6\u5b69\u5b50\uff0c\u5269\u4e0b\u7684\u60c5\u51b5\u5c31\u662f**\u5de6\u53f3\u5b69\u5b50\u4e2d\u90fd\u5b58\u5728 p \u6216\u8005 q**, \u90a3\u4e48\u6b64\u65f6\u76f4\u63a5\u8fd4\u56de\u8fd9\u4e2a\u8282\u70b9\u3002 # \u7956\u5148\u8282\u70b9\u96c6\u5408\u6cd5 \u00b6 /** * @param {TreeNode} root * @param {TreeNode} p * @param {TreeNode} q * @return {TreeNode} */ var lowestCommonAncestor = function ( root , p , q ) { if ( root == null || root == p || root == q ) return root ; let set = new Set (); let map = new WeakMap (); let queue = []; queue . push ( root ); // \u5c42\u5e8f\u904d\u5386 while ( queue . length ) { let size = queue . length ; while ( size -- ) { let front = queue . shift (); if ( front . left ) { queue . push ( front . left ); // \u8bb0\u5f55\u7236\u4eb2\u8282\u70b9 map . set ( front . left , front ); } if ( front . right ) { queue . push ( front . right ); // \u8bb0\u5f55\u7236\u4eb2\u8282\u70b9 map . set ( front . right , front ); } } } // \u6784\u9020 p \u7684\u4e0a\u5c42\u8282\u70b9\u96c6\u5408 while ( p ) { set . add ( p ); p = map . get ( p ); } while ( q ) { // \u4e00\u65e6\u53d1\u73b0\u516c\u5171\u8282\u70b9\u91cd\u5408\uff0c\u76f4\u63a5\u8fd4\u56de if ( set . has ( q )) return q ; q = map . get ( q ); } }; \u53ef\u4ee5\u770b\u5230\u6574\u68f5\u4e8c\u53c9\u6811\u904d\u5386\u4e86\u4e00\u904d\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u5927\u81f4\u662f O(n)\uff0c\u4f46\u662f\u7531\u4e8e\u54c8\u5e0c\u8868\u7684\u5b58\u5728\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6\u6bd4\u8f83\u9ad8\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u7528\u53e6\u4e00\u79cd\u904d\u5386\u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u5927\u5927\u51cf\u5c11\u7a7a\u95f4\u7684\u5f00\u9500\u3002 # \u6df1\u5ea6\u4f18\u5148\u904d\u5386\u6cd5 \u00b6 \u4ee3\u7801\u975e\u5e38\u7b80\u6d01\u3001\u7f8e\u89c2\uff0c\u4e0d\u8fc7\u66f4\u91cd\u8981\u7684\u662f\u4f53\u4f1a\u5176\u4e2d\u9012\u5f52\u8c03\u7528\u7684\u8fc7\u7a0b\uff0c\u4ee3\u7801\u662f\u81ea\u9876\u5411\u4e0b\u6267\u884c\u7684\uff0c\u6211\u5efa\u8bae\u5927\u5bb6\u7528**\u81ea\u5e95\u5411\u4e0a**\u7684\u65b9\u5f0f\u6765\u7406\u89e3\u5b83\uff0c\u5373\u4ece\u6700\u5de6\u4e0b\u7684\u8282\u70b9\u5f00\u59cb\u5206\u6790\uff0c\u76f8\u4fe1\u4f60\u4f1a\u5f88\u597d\u7684\u7406\u89e3\u6574\u4e2a\u8fc7\u7a0b\u3002 var lowestCommonAncestor = function ( root , p , q ) { if ( root == null || root == p || root == q ) return root ; let left = lowestCommonAncestor ( root . left , p , q ); let right = lowestCommonAncestor ( root . right , p , q ); if ( left == null ) return right ; else if ( right == null ) return left ; return root ; }; # \u4e8c\u53c9\u641c\u7d22\u6811\u7684\u6700\u8fd1\u516c\u5171\u7956\u5148 \u00b6 \u7ed9\u5b9a\u5982\u4e0b\u4e8c\u53c9\u641c\u7d22\u6811: root = [6,2,8,0,4,7,9,null,null,3,5] \u8f93\u5165: root = [6,2,8,0,4,7,9,null,null,3,5], p = 2, q = 8 \u8f93\u51fa: 6 \u89e3\u91ca: \u8282\u70b9 2 \u548c\u8282\u70b9 8 \u7684\u6700\u8fd1\u516c\u5171\u7956\u5148\u662f 6\u3002 \u6765\u6e90: LeetCode\u7b2c235\u9898 # \u5b9e\u73b0 \u00b6 \u4e8c\u53c9\u641c\u7d22\u6811\u4f5c\u4e3a\u4e00\u79cd\u7279\u6b8a\u7684\u4e8c\u53c9\u6811\uff0c\u5f53\u7136\u662f\u53ef\u4ee5\u7528\u4e0a\u8ff0\u7684\u4e24\u79cd\u65b9\u5f0f\u6765\u5b9e\u73b0\u7684\u3002 \u4e0d\u8fc7\u501f\u52a9\u4e8c\u53c9\u641c\u7d22\u6811\u6709\u5e8f\u7684\u7279\u6027\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5199\u51fa\u53e6\u5916\u4e00\u4e2a\u7248\u672c\u7684\u6df1\u5ea6\u4f18\u5316\u904d\u5386\u3002 /** * @param {TreeNode} root * @param {TreeNode} p * @param {TreeNode} q * @return {TreeNode} */ var lowestCommonAncestor = function ( root , p , q ) { if ( root == null || root == p || root == q ) return root ; // root.val \u6bd4 p \u548c q \u90fd\u5927\uff0c\u627e\u5de6\u5b69\u5b50 if ( root . val > p . val && root . val > q . val ) return lowestCommonAncestor ( root . left , p , q ); // root.val \u6bd4 p \u548c q \u90fd\u5c0f\uff0c\u627e\u53f3\u5b69\u5b50 if ( root . val < p . val && root . val < q . val ) return lowestCommonAncestor ( root . right , p , q ); else return root ; }; \u540c\u65f6\u4e5f\u53ef\u4ee5\u91c7\u7528\u975e\u9012\u5f52\u7684\u65b9\u5f0f: var lowestCommonAncestor = function ( root , p , q ) { let node = root ; while ( node ) { if ( p . val > node . val && q . val > node . val ) node = node . right ; else if ( p . val < node . val && q . val < node . val ) node = node . left ; else return node ; } }; \u662f\u4e0d\u662f\u88ab\u4e8c\u53c9\u6811\u7cbe\u7b80\u800c\u4f18\u96c5\u7684\u4ee3\u7801\u60ca\u8273\u5230\u4e86\u5462\uff1f\u5e0c\u671b\u4f60\u80fd\u597d\u597d\u4f53\u4f1a\u5176\u4e2d\u904d\u5386\u7684\u8fc7\u7a0b\uff0c\u7136\u540e\u52a1\u5fc5\u81ea\u5df1\u72ec\u7acb\u5b9e\u73b0\u4e00\u904d\uff0c\u4fdd\u8bc1\u5bf9\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\u8db3\u591f\u719f\u6089\uff0c\u589e\u5f3a\u81ea\u5df1\u7684\u7f16\u7a0b\u5185\u529b\u3002 \u5bf9\u79f0\u4e8c\u53c9\u6811 \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u68c0\u67e5\u5b83\u662f\u5426\u662f\u955c\u50cf\u5bf9\u79f0\u7684\u3002 \u4f8b\u5982\uff0c\u4e8c\u53c9\u6811 [1,2,2,3,4,4,3] \u662f\u5bf9\u79f0\u7684\u3002 1 / \\ 2 2 / \\ / \\ 3 4 4 3 \u4f46\u662f\u4e0b\u9762\u8fd9\u4e2a [1,2,2,null,3,null,3] \u5219\u4e0d\u662f\u955c\u50cf\u5bf9\u79f0\u7684: 1 / \\ 2 2 \\ \\ 3 3 \u6765\u6e90: LeetCode\u7b2c101\u9898 # \u9012\u5f52\u5b9e\u73b0 \u00b6 \u9012\u5f52\u65b9\u5f0f\u7684\u4ee3\u7801\u662f\u975e\u5e38\u5e72\u7ec3\u548c\u4f18\u96c5\u7684\uff0c\u5e0c\u671b\u4f60\u5148\u81ea\u5df1\u5b9e\u73b0\u4e00\u904d\uff0c\u7136\u540e\u5bf9\u6bd4\u6539\u8fdb\u3002 /** * @param {TreeNode} root * @return {boolean} */ var isSymmetric = function ( root ) { let help = ( node1 , node2 ) => { // \u90fd\u4e3a\u7a7a if ( ! node1 && ! node2 ) return true ; // \u4e00\u4e2a\u4e3a\u7a7a\u4e00\u4e2a\u4e0d\u4e3a\u7a7a\uff0c\u6216\u8005\u4e24\u4e2a\u8282\u70b9\u503c\u4e0d\u76f8\u7b49 if ( ! node1 || ! node2 || node1 . val !== node2 . val ) return false ; return help ( node1 . left , node2 . right ) && help ( node1 . right , node2 . left ); } if ( root == null ) return true ; return help ( root . left , root . right ); }; # \u975e\u9012\u5f52\u5b9e\u73b0 \u00b6 \u7528\u4e00\u4e2a\u961f\u5217\u4fdd\u5b58\u8bbf\u95ee\u8fc7\u7684\u8282\u70b9\uff0c\u6bcf\u6b21\u53d6\u51fa\u4e24\u4e2a\u8282\u70b9\uff0c\u8fdb\u884c\u6bd4\u8f83\u3002 var isSymmetric = function ( root ) { if ( root == null ) return true ; let queue = [ root . left , root . right ]; let node1 , node2 ; while ( queue . length ) { node1 = queue . shift (); node2 = queue . shift (); // \u4e24\u8282\u70b9\u5747\u4e3a\u7a7a if ( ! node1 && ! node2 ) continue ; // \u4e00\u4e2a\u4e3a\u7a7a\u4e00\u4e2a\u4e0d\u4e3a\u7a7a\uff0c\u6216\u8005\u4e24\u4e2a\u8282\u70b9\u503c\u4e0d\u76f8\u7b49 if ( ! node1 || ! node2 || node1 . val !== node2 . val ) return false ; queue . push ( node1 . left ); queue . push ( node2 . right ); queue . push ( node1 . right ); queue . push ( node2 . left ); } return true ; }; \u4e8c\u53c9\u6811\u4e2d\u7684\u8def\u5f84\u95ee\u9898 \u00b6 # No.1 \u4e8c\u53c9\u6811\u7684\u76f4\u5f84 \u00b6 \u7ed9\u5b9a\u4e00\u68f5\u4e8c\u53c9\u6811\uff0c\u4f60\u9700\u8981\u8ba1\u7b97\u5b83\u7684\u76f4\u5f84\u957f\u5ea6\u3002\u4e00\u68f5\u4e8c\u53c9\u6811\u7684\u76f4\u5f84\u957f\u5ea6\u662f\u4efb\u610f\u4e24\u4e2a\u7ed3\u70b9\u8def\u5f84\u957f\u5ea6\u4e2d\u7684\u6700\u5927\u503c\u3002\u8fd9\u6761\u8def\u5f84\u53ef\u80fd\u7a7f\u8fc7\u6839\u7ed3\u70b9\u3002 \u793a\u4f8b : \u7ed9\u5b9a\u4e8c\u53c9\u6811 1 / \\ 2 3 / \\ 4 5 \u8fd4\u56de 3, \u5b83\u7684\u957f\u5ea6\u662f\u8def\u5f84 [4,2,1,3] \u6216\u8005 [5,2,1,3]\u3002 \u6ce8\u610f\uff1a\u4e24\u7ed3\u70b9\u4e4b\u95f4\u7684\u8def\u5f84\u957f\u5ea6\u662f\u4ee5\u5b83\u4eec\u4e4b\u95f4\u8fb9\u7684\u6570\u76ee\u8868\u793a\u3002 \u6765\u6e90: LeetCode\u7b2c543\u9898 # \u601d\u8def \u00b6 \u6240\u8c13\u7684 \u6c42\u76f4\u5f84 , \u672c\u8d28\u4e0a\u662f\u6c42\u6811\u4e2d\u8282\u70b9\u5de6\u53f3\u5b50\u6811 \u9ad8\u5ea6\u548c\u7684\u6700\u5927\u503c \u3002 \u6ce8\u610f\uff0c\u8fd9\u91cc\u6211\u8bf4\u7684\u662f \u6811\u4e2d\u8282\u70b9 , \u5e76\u975e\u6839\u8282\u70b9\u3002\u56e0\u4e3a\u4f1a\u6709\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5: 1 / 2 / \\ 4 5 / \\ 8 6 \\ 7 \u90a3\u8fd9\u4e2a\u65f6\u5019\uff0c\u76f4\u5f84\u6700\u5927\u7684\u8def\u5f84\u662f: 8 -> 4 -> 2-> 5 -> 6 -> 7\u3002\u4ea4\u754c\u7684\u5143\u7d20\u5e76\u4e0d\u662f\u6839\u8282\u70b9\u3002\u8fd9\u662f\u8fd9\u4e2a\u95ee\u9898\u7279\u522b\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\uff0c\u4e0d\u7136\u65e0\u89e3\u3002 # \u521d\u6b65\u6c42\u89e3 \u00b6 \u76ee\u6807\u5df2\u7ecf\u786e\u5b9a\u4e86\uff0c\u6c42\u6811\u4e2d\u8282\u70b9\u5de6\u53f3\u5b50\u6811 \u9ad8\u5ea6\u548c\u7684\u6700\u5927\u503c \u3002\u5f00\u5e72\uff01 /** * @param {TreeNode} root * @return {number} */ var diameterOfBinaryTree = function ( root ) { // \u6c42\u6700\u5927\u6df1\u5ea6 let maxDepth = ( node ) => { if ( node == null ) return 0 ; return Math . max ( maxDepth ( node . left ) + 1 , maxDepth ( node . right ) + 1 ); } let help = ( node ) => { if ( node == null ) return 0 ; let rootSum = maxDepth ( node . left ) + maxDepth ( node . right ); let childSum = Math . max ( help ( node . left ), help ( node . right )); return Math . max ( rootSum , childSum ); } if ( root == null ) return 0 ; return help ( root ); }; \u8fd9\u6837\u4e00\u6bb5\u4ee3\u7801\u653e\u5230 LeetCode \u662f\u53ef\u4ee5\u901a\u8fc7\uff0c\u4f46\u65f6\u95f4\u4e0a\u5374\u4e0d\u8ba9\u4eba\u5f88\u6ee1\u610f\uff0c\u4e3a\u4ec0\u4e48\u5462\uff1f \u56e0\u4e3a\u5728\u53cd\u590d\u8c03\u7528 maxDepth \u7684\u8fc7\u7a0b\uff0c\u5bf9\u6811\u4e2d\u7684\u4e00\u4e9b\u8282\u70b9\u589e\u52a0\u4e86\u5f88\u591a\u4e0d\u5fc5\u8981\u7684\u8bbf\u95ee\u3002\u6bd4\u5982\uff1a 1 / 2 / \\ 4 5 / \\ 8 6 \\ 7 \u6211\u4eec\u770b\u4ec0\u4e48\u65f6\u5019\u8bbf\u95ee\u8282\u70b9 8\uff0cmaxDepth(\u8282\u70b9 2)\u7684\u65f6\u5019\u8bbf\u95ee\uff0c maxDepth(\u8282\u70b9 4)\u7684\u65f6\u5019\u53c8\u4f1a\u8bbf\u95ee\uff0c\u5982\u679c\u8282\u70b9\u5c42\u7ea7\u66f4\u9ad8\uff0c\u91cd\u590d\u8bbf\u95ee\u7684\u6b21\u6570\u66f4\u52a0\u9891\u7e41\uff0c\u5269\u4e0b\u7684\u8282\u70b96\u3001\u8282\u70b9 7 \u90fd\u662f\u540c\u7406\u3002\u6bcf\u4e00\u4e2a\u8282\u70b9\u8bbf\u95ee\u7684\u6b21\u6570\u5927\u6982\u662f O(logK)(\u8bbe\u5f53\u524d\u8282\u70b9\u5728\u7b2c K \u5c42)\u3002\u90a3\u80fd\u4e0d\u80fd\u628a\u8fd9\u4e2a\u9891\u7387\u964d\u5230 O(1) \u5462\uff1f \u7b54\u6848\u662f\u80af\u5b9a\u7684\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u4f18\u5316\u8fd9\u4e2a\u7b97\u6cd5\u3002 # \u4f18\u5316\u89e3\u6cd5 \u00b6 var diameterOfBinaryTree = function ( root ) { let help = ( node ) => { if ( node == null ) return 0 ; let left = node . left ? help ( node . left ) + 1 : 0 ; let right = node . right ? help ( node . right ) + 1 : 0 ; let cur = left + right ; if ( cur > max ) max = cur ; // \u8fd9\u4e2a\u8fd4\u56de\u7684\u64cd\u4f5c\u76f8\u5f53\u5173\u952e return Math . max ( left , right ); } let max = 0 ; if ( root == null ) return 0 ; help ( root ); return max ; }; \u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u8bbe\u7f6e\u4e86\u4e00\u4e2a max \u5168\u5c40\u53d8\u91cf\uff0c\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u8fd9\u68f5\u6811\uff0c\u6bcf\u904d\u5386\u5b8c\u4e00\u4e2a\u8282\u70b9\u5c31\u66f4\u65b0 max \uff0c\u5e76\u901a\u8fc7\u8fd4\u56de\u503c\u7684\u65b9\u5f0f \u81ea\u5e95\u5411\u4e0a \u628a\u5f53\u524d\u8282\u70b9\u5de6\u53f3\u5b50\u6811\u7684\u6700\u5927\u9ad8\u5ea6\u4f20\u7ed9\u7236\u51fd\u6570\u4f7f\u7528\uff0c\u4f7f\u5f97\u6bcf\u4e2a\u8282\u70b9\u53ea\u9700\u8bbf\u95ee\u4e00\u6b21\u5373\u53ef\u3002 \u73b0\u5728\u63d0\u4ea4\u6211\u4eec\u4f18\u5316\u540e\u7684\u4ee3\u7801\uff0c\u65f6\u95f4\u6d88\u8017\u660e\u663e\u964d\u4f4e\u3002 # No.2 \u4e8c\u53c9\u6811\u7684\u6240\u6709\u8def\u5f84 \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u8fd4\u56de\u6240\u6709\u4ece\u6839\u8282\u70b9\u5230\u53f6\u5b50\u8282\u70b9\u7684\u8def\u5f84\u3002 \u8bf4\u660e: \u53f6\u5b50\u8282\u70b9\u662f\u6307\u6ca1\u6709\u5b50\u8282\u70b9\u7684\u8282\u70b9\u3002 \u793a\u4f8b: \u8f93\u5165: 1 / \\ 2 3 \\ 5 \u8f93\u51fa: [\"1->2->5\", \"1->3\"] \u89e3\u91ca: \u6240\u6709\u6839\u8282\u70b9\u5230\u53f6\u5b50\u8282\u70b9\u7684\u8def\u5f84\u4e3a: 1->2->5, 1->3 \u6765\u6e90: LeetCode\u7b2c257\u9898 # \u9012\u5f52\u89e3\u6cd5 \u00b6 \u5229\u7528 DFS(\u6df1\u5ea6\u4f18\u5148\u904d\u5386) \u7684\u65b9\u5f0f\u8fdb\u884c\u904d\u5386\u3002 /** * @param {TreeNode} root * @return {string[]} */ var binaryTreePaths = function ( root ) { let path = []; let res = []; let dfs = ( node ) => { if ( node == null ) return ; path . push ( node ); dfs ( node . left ); dfs ( node . right ); if ( ! node . left && ! node . right ) res . push ( path . map ( item => item . val ). join ( '->' )); // \u6ce8\u610f\u6bcf\u8bbf\u95ee\u5b8c\u4e00\u4e2a\u8282\u70b9\u8bb0\u5f97\u628a\u5b83\u4ecepath\u4e2d\u5220\u9664\uff0c\u8fbe\u5230\u56de\u6eaf\u6548\u679c path . pop (); } dfs ( root ); return res ; }; # \u975e\u9012\u5f52\u89e3\u6cd5 \u00b6 \u63a5\u4e0b\u6765\u6211\u4eec\u901a\u8fc7 \u975e\u9012\u5f52\u7684\u540e\u5e8f\u904d\u5386 \u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u4e00\u4e0b, \u987a\u4fbf\u590d\u4e60\u4e00\u4e0b\u540e\u5e8f\u904d\u5386\u7684\u5b9e\u73b0\u3002 \u63d0\u793a \u540e\u5e8f\u904d\u5386\u5176\u5b9e\u4e5f\u662f DFS \u7684\u4e00\u79cd\u5177\u4f53\u5b9e\u73b0\u65b9\u5f0f\u3002 var binaryTreePaths = function ( root ) { if ( root == null ) return []; let stack = []; let p = root ; let set = new Set (); res = []; while ( stack . length || p ) { while ( p ) { stack . push ( p ); p = p . left ; } let node = stack [ stack . length - 1 ]; // \u53f6\u5b50\u8282\u70b9 if ( ! node . right && ! node . left ) { res . push ( stack . map ( item => item . val ). join ( '->' )); } // \u53f3\u5b69\u5b50\u5b58\u5728\uff0c\u4e14\u53f3\u5b69\u5b50\u672a\u88ab\u8bbf\u95ee if ( node . right && ! set . has ( node . right )) { p = node . right ; set . add ( node . right ); } else { stack . pop (); } } return res ; }; # No.3 \u4e8c\u53c9\u6811\u7684\u6700\u5927\u8def\u5f84\u548c \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u975e\u7a7a\u4e8c\u53c9\u6811\uff0c\u8fd4\u56de\u5176\u6700\u5927\u8def\u5f84\u548c\u3002 \u672c\u9898\u4e2d\uff0c\u8def\u5f84\u88ab\u5b9a\u4e49\u4e3a\u4e00\u6761\u4ece\u6811\u4e2d\u4efb\u610f\u8282\u70b9\u51fa\u53d1\uff0c\u8fbe\u5230\u4efb\u610f\u8282\u70b9\u7684\u5e8f\u5217\u3002\u8be5\u8def\u5f84\u81f3\u5c11\u5305\u542b\u4e00\u4e2a\u8282\u70b9\uff0c\u4e14\u4e0d\u4e00\u5b9a\u7ecf\u8fc7\u6839\u8282\u70b9\u3002 \u793a\u4f8b : \u8f93\u5165: [-10,9,20,null,null,15,7] -10 / \\ 9 20 / \\ 15 7 \u8f93\u51fa: 42 \u6765\u6e90: LeetCode\u7b2c124\u9898 # \u9012\u5f52\u89e3 \u00b6 /** * @param {TreeNode} root * @return {number} */ var maxPathSum = function ( root ) { let help = ( node ) => { if ( node == null ) return 0 ; let left = Math . max ( help ( node . left ), 0 ); let right = Math . max ( help ( node . right ), 0 ); let cur = left + node . val + right ; // \u5982\u679c\u53d1\u73b0\u67d0\u4e00\u4e2a\u8282\u70b9\u4e0a\u7684\u8def\u5f84\u503c\u6bd4max\u8fd8\u5927\uff0c\u5219\u66f4\u65b0max if ( cur > max ) max = cur ; // left \u548c right \u6c38\u8fdc\u662f\"\u4e00\u6839\u7b4b\"\uff0c\u4e2d\u95f4\u4e0d\u4f1a\u6709\u8f6c\u6298 return Math . max ( left , right ) + node . val ; } let max = Number . MIN_SAFE_INTEGER ; help ( root ); return max ; }; \u4e8c\u53c9\u641c\u7d22\u6811 \u00b6 # No.1 \u9a8c\u8bc1\u4e8c\u53c9\u641c\u7d22\u6811 \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u5224\u65ad\u5176\u662f\u5426\u662f\u4e00\u4e2a\u6709\u6548\u7684\u4e8c\u53c9\u641c\u7d22\u6811\u3002 \u5047\u8bbe\u4e00\u4e2a\u4e8c\u53c9\u641c\u7d22\u6811\u5177\u6709\u5982\u4e0b\u7279\u5f81\uff1a \u8282\u70b9\u7684\u5de6\u5b50\u6811\u53ea\u5305\u542b\u5c0f\u4e8e\u5f53\u524d\u8282\u70b9\u7684\u6570\u3002 \u8282\u70b9\u7684\u53f3\u5b50\u6811\u53ea\u5305\u542b\u5927\u4e8e\u5f53\u524d\u8282\u70b9\u7684\u6570\u3002 \u6240\u6709\u5de6\u5b50\u6811\u548c\u53f3\u5b50\u6811\u81ea\u8eab\u5fc5\u987b\u4e5f\u662f\u4e8c\u53c9\u641c\u7d22\u6811\u3002 \u793a\u4f8b 1 : \u8f93\u5165: 2 / \\ 1 3 \u8f93\u51fa: true \u6765\u6e90: LeetCode\u7b2c98\u9898 # \u65b9\u6cd5\u4e00: \u4e2d\u5e8f\u904d\u5386 \u00b6 \u901a\u8fc7\u4e2d\u5e8f\u904d\u5386\uff0c\u4fdd\u5b58\u524d\u4e00\u4e2a\u8282\u70b9\u7684\u503c\uff0c\u626b\u63cf\u5230\u5f53\u524d\u8282\u70b9\u65f6\uff0c\u548c\u524d\u4e00\u4e2a\u8282\u70b9\u7684\u503c\u6bd4\u8f83\uff0c\u5982\u679c\u5927\u4e8e\u524d\u4e00\u4e2a\u8282\u70b9\uff0c\u5219\u6ee1\u8db3\u6761\u4ef6\uff0c\u5426\u5219\u4e0d\u662f\u4e8c\u53c9\u641c\u7d22\u6811\u3002 /** * @param {TreeNode} root * @return {boolean} */ var isValidBST = function ( root ) { let prev = null ; const help = ( node ) => { if ( node == null ) return true ; if ( ! help ( node . left )) return false ; if ( prev !== null && prev >= node . val ) return false ; // \u4fdd\u5b58\u5f53\u524d\u8282\u70b9\uff0c\u4e3a\u4e0b\u4e00\u4e2a\u8282\u70b9\u7684\u904d\u5386\u505a\u51c6\u5907 prev = node . val ; return help ( node . right ); } return help ( root ); }; # \u65b9\u6cd5\u4e8c: \u9650\u5b9a\u4e0a\u4e0b\u754c\u8fdb\u884cDFS \u00b6 \u4e8c\u53c9\u641c\u7d22\u6811\u6bcf\u4e00\u4e2a\u8282\u70b9\u7684\u503c\uff0c\u90fd\u6709\u4e00\u4e2a**\u4e0a\u754c\u548c\u4e0b\u754c**\uff0c\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u8bbf\u95ee\u5de6\u5b69\u5b50\uff0c\u5219\u901a\u8fc7\u5f53\u524d\u8282\u70b9\u7684\u503c\u6765**\u66f4\u65b0\u5de6\u5b69\u5b50\u8282\u70b9\u7684\u4e0a\u754c**\uff0c\u540c\u65f6\u8bbf\u95ee\u53f3\u5b69\u5b50\uff0c\u5219**\u66f4\u65b0\u53f3\u5b69\u5b50\u7684\u4e0b\u754c**\uff0c\u53ea\u8981\u51fa\u73b0\u8282\u70b9\u503c\u8d8a\u754c\u7684\u60c5\u51b5\uff0c\u5219\u4e0d\u6ee1\u8db3\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u6761\u4ef6\u3002 parent / \\ left right \u5047\u8bbe\u8fd9\u662f\u4e00\u68f5\u5de8\u5927\u7684\u4e8c\u53c9\u6811\u7684\u4e00\u4e2a\u90e8\u5206(parent\u3001left\u3001right\u90fd\u662f\u5b9e\u5b9e\u5728\u5728\u7684\u8282\u70b9)\uff0c\u90a3\u4e48\u5168\u90e8\u7684\u8282\u70b9\u6392\u5b8c\u5e8f\u4e00\u5b9a\u662f\u8fd9\u6837: ...left, parent, right... \u53ef\u4ee5\u770b\u5230\u5de6\u5b69\u5b50\u7684 \u6700\u4e25\u683c\u7684\u4e0a\u754c \u662f\u8be5\u8282\u70b9, \u540c\u65f6, \u53f3\u5b69\u5b50\u7684 \u6700\u4e25\u683c\u7684\u4e0b\u754c \u4e5f\u662f\u8be5\u8282\u70b9\u3002\u6211\u4eec\u6309\u7167\u8fd9\u6837\u7684\u89c4\u5219\u6765\u8fdb\u884c\u66f4\u65b0\u4e0a\u4e0b\u754c\u3002 \u9012\u5f52\u5b9e\u73b0: var isValidBST = function ( root ) { const help = ( node , max , min ) => { if ( node == null ) return true ; if ( node . val >= max || node . val <= min ) return false ; // \u5de6\u5b69\u5b50\u66f4\u65b0\u4e0a\u754c\uff0c\u53f3\u5b69\u5b50\u66f4\u65b0\u4e0b\u754c\uff0c\u76f8\u5f53\u4e8e\u8fb9\u754c\u8981\u6c42\u8d8a\u6765\u8d8a\u82db\u523b return help ( node . left , node . val , min ) && help ( node . right , max , node . val ); } return help ( root , Number . MAX_SAFE_INTEGER , Number . MIN_SAFE_INTEGER ); }; \u975e\u9012\u5f52\u5b9e\u73b0: var isValidBST = function ( root ) { if ( root == null ) return true ; let stack = [ root ]; let min = Number . MIN_SAFE_INTEGER ; let max = Number . MAX_SAFE_INTEGER ; root . max = max ; root . min = min ; while ( stack . length ) { let node = stack . pop (); if ( node . val <= node . min || node . val >= node . max ) return false ; if ( node . left ) { stack . push ( node . left ); // \u66f4\u65b0\u4e0a\u4e0b\u754c node . left . max = node . val ; node . left . min = node . min ; } if ( node . right ) { stack . push ( node . right ); // \u66f4\u65b0\u4e0a\u4e0b\u754c node . right . max = node . max ; node . right . min = node . val ; } } return true ; }; # No.2 \u5c06\u6709\u5e8f\u6570\u7ec4\u8f6c\u6362\u4e3a\u4e8c\u53c9\u641c\u7d22\u6811 \u00b6 \u5c06\u4e00\u4e2a\u6309\u7167\u5347\u5e8f\u6392\u5217\u7684\u6709\u5e8f\u6570\u7ec4\uff0c\u8f6c\u6362\u4e3a\u4e00\u68f5\u9ad8\u5ea6\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811\u3002 \u672c\u9898\u4e2d\uff0c\u4e00\u4e2a\u9ad8\u5ea6\u5e73\u8861\u4e8c\u53c9\u6811\u662f\u6307\u4e00\u4e2a\u4e8c\u53c9\u6811\u6bcf\u4e2a\u8282\u70b9 \u7684\u5de6\u53f3\u4e24\u4e2a\u5b50\u6811\u7684\u9ad8\u5ea6\u5dee\u7684\u7edd\u5bf9\u503c\u4e0d\u8d85\u8fc7 1\u3002 \u793a\u4f8b: \u7ed9\u5b9a\u6709\u5e8f\u6570\u7ec4: [-10,-3,0,5,9], \u4e00\u4e2a\u53ef\u80fd\u7684\u7b54\u6848\u662f\uff1a[0,-3,9,-10,null,5]\uff0c\u5b83\u53ef\u4ee5\u8868\u793a\u4e0b\u9762\u8fd9\u4e2a\u9ad8\u5ea6\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811\uff1a 0 / \\ -3 9 / / -10 5 \u6765\u6e90: LeetCode\u7b2c108\u9898 # \u9012\u5f52\u5b9e\u73b0 \u00b6 /** * @param {number[]} nums * @return {TreeNode} */ var sortedArrayToBST = function ( nums ) { let help = ( start , end ) => { if ( start > end ) return null ; if ( start === end ) return new TreeNode ( nums [ start ]); let mid = Math . floor (( start + end ) / 2 ); // \u627e\u51fa\u4e2d\u70b9\u5efa\u7acb\u8282\u70b9 let node = new TreeNode ( nums [ mid ]); node . left = help ( start , mid - 1 ); node . right = help ( mid + 1 , end ); return node ; } return help ( 0 , nums . length - 1 ); }; \u9012\u5f52\u7a0b\u5e8f\u6bd4\u8f83\u597d\u7406\u89e3\uff0c\u4e0d\u65ad\u5730\u8c03\u7528 help \u5b8c\u6210\u6574\u68f5\u6811\u6811\u7684\u6784\u5efa\u3002\u90a3\u5982\u4f55\u7528\u975e\u9012\u5f52\u6765\u89e3\u51b3\u5462\uff1f\u6211\u89c9\u5f97\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u503c\u5f97\u5927\u5bb6\u601d\u8003\u7684\u95ee\u9898\u3002\u5e0c\u671b\u4f60\u80fd\u52a8\u624b\u8bd5\u4e00\u8bd5\uff0c\u5982\u679c\u5b9e\u5728\u60f3\u4e0d\u51fa\u6765\uff0c\u53ef\u4ee5\u53c2\u8003\u4e0b\u9762\u6211\u5199\u7684\u975e\u9012\u5f52\u7248\u672c\u3002 \u5176\u5b9e\u601d\u8def\u8ddf\u9012\u5f52\u7684\u7248\u672c\u662f\u4e00\u6837\u7684\uff0c\u53ea\u4e0d\u8fc7\u5b9e\u73b0\u8d77\u6765\u662f\u7528\u6808\u6765\u5b9e\u73b0 DFS \u7684\u6548\u679c\u3002 /** * @param {number[]} nums * @return {TreeNode} */ var sortedArrayToBST = function ( nums ) { if ( nums . length === 0 ) return null ; let mid = Math . floor ( nums . length / 2 ); let root = new TreeNode ( nums [ mid ]); // \u8bf4\u660e: 1. index \u6307\u7684\u662f\u5f53\u524d\u5143\u7d20\u5728\u6570\u7ec4\u4e2d\u7684\u7d22\u5f15 // 2. \u6bcf\u4e00\u4e2a\u8282\u70b9\u7684\u503c\u90fd\u662f\u533a\u95f4\u4e2d\u70b9\uff0c\u90a3\u4e48 start \u5c5e\u6027\u5c31\u662f\u8fd9\u4e2a\u533a\u95f4\u7684\u8d77\u70b9\uff0cend \u4e3a\u5176\u7ec8\u70b9 root . index = mid ; root . start = 0 ; root . end = nums . length - 1 ; let stack = [ root ]; while ( stack . length ) { let node = stack . pop (); // node \u51fa\u6765\u4e86\uff0c\u5b83\u672c\u8eab\u5305\u542b\u4e86\u4e00\u4e2a\u533a\u95f4\uff0c[start, ..., index, ... end] // \u4e0b\u9762\u5224\u65ad[node.start, node.index - 1]\u4e4b\u95f4\u662f\u5426\u8fd8\u6709\u5f00\u53d1\u7684\u4f59\u5730 if ( node . index - 1 >= node . start ) { let leftMid = Math . floor (( node . start + node . index ) / 2 ); let leftNode = new TreeNode ( nums [ leftMid ]); node . left = leftNode ; // \u521d\u59cb\u5316\u65b0\u8282\u70b9\u7684\u533a\u95f4\u8d77\u70b9\u3001\u7ec8\u70b9\u548c\u7d22\u5f15 leftNode . start = node . start ; leftNode . end = node . index - 1 ; leftNode . index = leftMid ; stack . push ( leftNode ); } // \u4e2d\u95f4\u5939\u7740node.index, \u5df2\u7ecf\u6709\u5143\u7d20\u4e86\uff0c\u8fd9\u4e2a\u4f4d\u7f6e\u4e0d\u80fd\u518d\u5f00\u53d1 // \u4e0b\u9762\u5224\u65ad[node.index + 1, node.end]\u4e4b\u95f4\u662f\u5426\u8fd8\u6709\u5f00\u53d1\u7684\u4f59\u5730 if ( node . end >= node . index + 1 ) { let rightMid = Math . floor (( node . index + 1 + node . end ) / 2 ); let rightNode = new TreeNode ( nums [ rightMid ]); node . right = rightNode ; // \u521d\u59cb\u5316\u65b0\u8282\u70b9\u7684\u533a\u95f4\u8d77\u70b9\u3001\u7ec8\u70b9\u548c\u7d22\u5f15 rightNode . start = node . index + 1 ; rightNode . end = node . end ; rightNode . index = rightMid ; stack . push ( rightNode ); } } return root ; }; # No.3 \u4e8c\u53c9\u6811\u5c55\u5f00\u4e3a\u94fe\u8868 \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9(\u641c\u7d22)\u6811\uff0c\u539f\u5730\u5c06\u5b83\u5c55\u5f00\u4e3a\u94fe\u8868\u3002 \u4f8b\u5982\uff0c\u7ed9\u5b9a\u4e8c\u53c9\u6811 1 / \\ 2 5 / \\ \\ 3 4 6 \u5c06\u5176\u5c55\u5f00\u4e3a\uff1a 1 \\ 2 \\ 3 \\ 4 \\ 5 \\ 6 \u6765\u6e90: LeetCode\u7b2c114\u9898 # \u9012\u5f52\u65b9\u5f0f \u00b6 \u91c7\u7528\u540e\u5e8f\u904d\u5386\uff0c\u904d\u5386\u5b8c\u5de6\u53f3\u5b69\u5b50\u6211\u4eec\u8981\u505a\u4e9b\u4ec0\u4e48\u5462\uff1f\u7528\u4e0b\u9762\u7684\u56fe\u6765\u6f14\u793a\u4e00\u4e0b( \u70b9\u51fb\u53ef\u653e\u5927 )\uff1a /** * @param {TreeNode} root * @return {void} Do not return anything, modify root in-place instead. */ var flatten = function ( root ) { if ( root == null ) return ; flatten ( root . left ); flatten ( root . right ); if ( root . left ) { let p = root . left ; while ( p . right ) { p = p . right ; } p . right = root . right ; root . right = root . left ; root . left = null ; } }; # \u975e\u9012\u5f52\u65b9\u5f0f \u00b6 \u91c7\u7528\u975e\u9012\u5f52\u7684\u540e\u5e8f\u904d\u5386\u65b9\u5f0f\uff0c\u601d\u8def\u8ddf\u4e4b\u524d\u7684\u5b8c\u5168\u4e00\u6837\u3002 var flatten = function ( root ) { if ( root == null ) return ; let stack = []; let visited = new Set (); let p = root ; // \u5f00\u59cb\u540e\u5e8f\u904d\u5386 while ( stack . length || p ) { while ( p ) { stack . push ( p ); p = p . left ; } let node = stack [ stack . length - 1 ]; // \u5982\u679c\u53f3\u5b69\u5b50\u5b58\u5728\uff0c\u800c\u4e14\u53f3\u5b69\u5b50\u672a\u88ab\u8bbf\u95ee if ( node . right && ! visited . has ( node . right )) { p = node . right ; visited . add ( node . right ); } else { // \u4ee5\u4e0b\u4e3a\u601d\u8def\u56fe\u4e2d\u5173\u952e\u903b\u8f91 if ( node . left ) { let p = node . left ; while ( p . right ) { p = p . right ; } p . right = node . right ; node . right = node . left ; node . left = null ; } stack . pop (); } } }; # No.4 \u4e0d\u540c\u7684\u4e8c\u53c9\u641c\u7d22\u6811II \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570 n\uff0c\u751f\u6210\u6240\u6709\u7531 1 ... n \u4e3a\u8282\u70b9\u6240\u7ec4\u6210\u7684\u4e8c\u53c9\u641c\u7d22\u6811\u3002 \u793a\u4f8b: \u8f93\u5165: 3 \u8f93\u51fa: [ [1,null,3,2], [3,2,null,1], [3,1,null,null,2], [2,1,3], [1,null,2,null,3] ] \u89e3\u91ca: \u4ee5\u4e0a\u7684\u8f93\u51fa\u5bf9\u5e94\u4ee5\u4e0b 5 \u79cd\u4e0d\u540c\u7ed3\u6784\u7684\u4e8c\u53c9\u641c\u7d22\u6811\uff1a 1 3 3 2 1 \\ / / / \\ \\ 3 2 1 1 3 2 / / \\ \\ 2 1 2 3 \u6765\u6e90: LeetCode\u7b2c95\u9898 # \u9012\u5f52\u89e3\u6cd5 \u00b6 \u9012\u5f52\u521b\u5efa\u5b50\u6811 /** * @param {number} n * @return {TreeNode[]} */ var generateTrees = function ( n ) { let help = ( start , end ) => { if ( start > end ) return [ null ]; if ( start === end ) return [ new TreeNode ( start )]; let res = []; for ( let i = start ; i <= end ; i ++ ) { // \u5de6\u5b69\u5b50\u96c6 let leftNodes = help ( start , i - 1 ); // \u53f3\u5b69\u5b50\u96c6 let rightNodes = help ( i + 1 , end ); for ( let j = 0 ; j < leftNodes . length ; j ++ ) { for ( let k = 0 ; k < rightNodes . length ; k ++ ) { let root = new TreeNode ( i ); root . left = leftNodes [ j ]; root . right = rightNodes [ k ]; res . push ( root ); } } } return res ; } if ( n == 0 ) return []; return help ( 1 , n ); }; # \u975e\u9012\u5f52\u89e3\u6cd5 \u00b6 var generateTrees = function ( n ) { let clone = ( node , offset ) => { if ( node == null ) return null ; let newnode = new TreeNode ( node . val + offset ); newnode . left = clone ( node . left , offset ); newnode . right = clone ( node . right , offset ); return newnode ; } if ( n == 0 ) return []; let dp = []; dp [ 0 ] = [ null ]; // i \u662f\u5b50\u95ee\u9898\u4e2d\u7684\u8282\u70b9\u4e2a\u6570\uff0c\u5b50\u95ee\u9898: [1], [1,2], [1,2,3]...\u9010\u6b65\u9012\u589e\uff0c\u76f4\u5230[1,2,3...,n] for ( let i = 1 ; i <= n ; i ++ ) { dp [ i ] = []; for ( let j = 1 ; j <= i ; j ++ ) { // \u5de6\u5b50\u6811\u96c6 for ( let leftNode of dp [ j - 1 ]) { // \u53f3\u5b50\u6811\u96c6 for ( let rightNode of dp [ i - j ]) { let node = new TreeNode ( j ); // \u5de6\u5b50\u6811\u7ed3\u6784\u5171\u4eab node . left = leftNode ; // \u53f3\u5b50\u6811\u65e0\u6cd5\u5171\u4eab\uff0c\u4f46\u53ef\u4ee5\u501f\u7528\u8282\u70b9\u4e2a\u6570\u76f8\u540c\u7684\u6811\uff0c\u6bcf\u4e2a\u8282\u70b9\u589e\u52a0\u4e00\u4e2a\u504f\u79fb\u91cf node . right = clone ( rightNode , j ); dp [ i ]. push ( node ); } } } } return dp [ n ]; }; \u6df1\u5ea6/\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22 \u00b6","title":"11-\u4e8c\u53c9\u6811.md"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_1","text":"https://github.com/sanyuan0704/leetcode-js","title":"\u524d\u7aef\u7b97\u6cd5\u7cfb\u7edf\u7ec3\u4e60\u6307\u5357"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_2","text":"","title":"\u4e8c\u53c9\u6811\u7684\u904d\u5386"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_3","text":"\u793a\u4f8b: \u793a\u4f8b: \u8f93\u5165: [1,null,2,3] 1 \\ 2 / 3 \u8f93\u51fa: [1,2,3] \u6765\u6e90: LeetCode\u7b2c144\u9898","title":"#\u524d\u5e8f\u904d\u5386"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_4","text":"/** * @param {TreeNode} root * @return {number[]} */ var preorderTraversal = function ( root ) { let arr = []; let traverse = ( root ) => { if ( root == null ) return ; arr . push ( root . val ); traverse ( root . left ); traverse ( root . right ); } traverse ( root ); return arr ; };","title":"#\u9012\u5f52\u65b9\u5f0f"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_5","text":"var preorderTraversal = function ( root ) { if ( root == null ) return []; let stack = [], res = []; stack . push ( root ); while ( stack . length ) { let node = stack . pop (); res . push ( node . val ); // \u5de6\u5b69\u5b50\u540e\u8fdb\u5148\u51fa\uff0c\u8fdb\u884c\u5148\u5de6\u540e\u53f3\u7684\u6df1\u5ea6\u4f18\u5148\u904d\u5386 if ( node . right ) stack . push ( node . right ); if ( node . left ) stack . push ( node . left ); } return res ; };","title":"#\u975e\u9012\u5f52\u65b9\u5f0f"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_6","text":"\u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u8fd4\u56de\u5b83\u7684\u4e2d\u5e8f \u904d\u5386\u3002 \u793a\u4f8b: \u8f93\u5165: [1,null,2,3] 1 \\ 2 / 3 \u8f93\u51fa: [1,3,2] \u6765\u6e90: LeetCode\u7b2c94\u9898","title":"#\u4e2d\u5e8f\u904d\u5386"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_7","text":"/** * @param {TreeNode} root * @return {number[]} */ var inorderTraversal = function ( root ) { let arr = []; let traverse = ( root ) => { if ( root == null ) return ; traverse ( root . left ); arr . push ( root . val ); traverse ( root . right ); } traverse ( root ); return arr ; };","title":"#\u9012\u5f52\u65b9\u5f0f:"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_8","text":"var inorderTraversal = function ( root ) { if ( root == null ) return []; let stack = [], res = []; let p = root ; while ( stack . length || p ) { while ( p ) { stack . push ( p ); p = p . left ; } let node = stack . pop (); res . push ( node . val ); p = node . right ; } return res ; };","title":"#\u975e\u9012\u5f52\u65b9\u5f0f"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_9","text":"\u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u8fd4\u56de\u5b83\u7684 \u540e\u5e8f \u904d\u5386\u3002 \u793a\u4f8b: \u8f93\u5165: [1,null,2,3] 1 \\ 2 / 3 \u8f93\u51fa: [3,2,1] \u6765\u6e90: LeetCode\u7b2c145\u9898","title":"#\u540e\u5e8f\u904d\u5386"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_10","text":"/** * @param {TreeNode} root * @return {number[]} */ var postorderTraversal = function ( root ) { let arr = []; let traverse = ( root ) => { if ( root == null ) return ; traverse ( root . left ); traverse ( root . right ); arr . push ( root . val ); } traverse ( root ); return arr };","title":"#\u9012\u5f52\u65b9\u5f0f"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_11","text":"var postorderTraversal = function ( root ) { if ( root == null ) return []; let stack = [], res = []; let visited = new Set (); let p = root ; while ( stack . length || p ) { while ( p ) { stack . push ( p ); p = p . left ; } let node = stack [ stack . length - 1 ]; // \u5982\u679c\u53f3\u5b69\u5b50\u5b58\u5728\uff0c\u800c\u4e14\u53f3\u5b69\u5b50\u672a\u88ab\u8bbf\u95ee if ( node . right && ! visited . has ( node . right )) { p = node . right ; visited . add ( node . right ); } else { res . push ( node . val ); stack . pop (); } } return res ; };","title":"#\u975e\u9012\u5f52\u65b9\u5f0f"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_12","text":"","title":"\u6700\u5927/\u6700\u5c0f\u6df1\u5ea6"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_13","text":"\u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u627e\u51fa\u5176\u6700\u5927\u6df1\u5ea6\u3002 \u4e8c\u53c9\u6811\u7684\u6df1\u5ea6\u4e3a\u6839\u8282\u70b9\u5230\u6700\u8fdc\u53f6\u5b50\u8282\u70b9\u7684\u6700\u957f\u8def\u5f84\u4e0a\u7684\u8282\u70b9\u6570\u3002 \u8bf4\u660e: \u53f6\u5b50\u8282\u70b9\u662f\u6307\u6ca1\u6709\u5b50\u8282\u70b9\u7684\u8282\u70b9\u3002 \u793a\u4f8b\uff1a \u7ed9\u5b9a\u4e8c\u53c9\u6811 [3,9,20,null,null,15,7]\uff1a 3 / \\ 9 20 / \\ 15 7 \u8fd4\u56de\u5b83\u7684\u6700\u5927\u6df1\u5ea6 3 \u3002 \u6765\u6e90: LeetCode\u7b2c104\u9898","title":"#\u6700\u5927\u6df1\u5ea6"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_14","text":"\u5b9e\u73b0\u975e\u5e38\u7b80\u5355\uff0c\u76f4\u63a5\u8d34\u51fa\u4ee3\u7801: /** * @param {TreeNode} root * @return {number} */ var maxDepth = function ( root ) { // \u9012\u5f52\u7ec8\u6b62\u6761\u4ef6 if ( root == null ) return 0 ; return Math . max ( maxDepth ( root . left ) + 1 , maxDepth ( root . right ) + 1 ); };","title":"#\u9012\u5f52\u5b9e\u73b0"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_15","text":"\u91c7\u7528\u5c42\u5e8f\u904d\u5386\u7684\u65b9\u5f0f\uff0c\u975e\u5e38\u597d\u7406\u89e3\u3002 var maxDepth = function ( root ) { if ( root == null ) return 0 ; let queue = [ root ]; let level = 0 ; while ( queue . length ) { let size = queue . length ; while ( size -- ) { let front = queue . shift (); if ( front . left ) queue . push ( front . left ); if ( front . right ) queue . push ( front . right ); } // level ++ \u540e\u7684\u503c\u4ee3\u8868\u7740\u73b0\u5728\u5df2\u7ecf\u5904\u7406\u5b8c\u4e86\u51e0\u5c42\u8282\u70b9 level ++ ; } return level ; };","title":"#\u975e\u9012\u5f52\u5b9e\u73b0"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_16","text":"\u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u627e\u51fa\u5176\u6700\u5c0f\u6df1\u5ea6\u3002 \u6700\u5c0f\u6df1\u5ea6\u662f\u4ece\u6839\u8282\u70b9\u5230\u6700\u8fd1\u53f6\u5b50\u8282\u70b9\u7684\u6700\u77ed\u8def\u5f84\u4e0a\u7684\u8282\u70b9\u6570\u91cf\u3002 \u8bf4\u660e: \u53f6\u5b50\u8282\u70b9\u662f\u6307\u6ca1\u6709\u5b50\u8282\u70b9\u7684\u8282\u70b9\u3002 \u793a\u4f8b: \u7ed9\u5b9a\u4e8c\u53c9\u6811 [3,9,20,null,null,15,7]: 3 / \\ 9 20 / \\ 15 7 \u8fd4\u56de\u5b83\u7684\u6700\u5c0f\u6df1\u5ea6 2. \u6765\u6e90: LeetCode\u7b2c111\u9898","title":"#\u6700\u5c0f\u6df1\u5ea6"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_17","text":"\u5728\u5b9e\u73b0\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u6309\u7167\u6700\u5927\u6df1\u5ea6\u7684\u65b9\u5f0f\u6765\u505a\u4f1a\u51fa\u73b0\u4e00\u4e2a\u9677\u9631\uff0c\u5373: /** * @param {TreeNode} root * @return {number} */ var minDepth = function ( root ) { // \u9012\u5f52\u7ec8\u6b62\u6761\u4ef6 if ( root == null ) return 0 ; return Math . min ( minDepth ( root . left ) + 1 , minDepth ( root . right ) + 1 ); }; \u5f53 root \u8282\u70b9\u6709\u4e00\u4e2a\u5b69\u5b50\u4e3a\u7a7a\u7684\u65f6\u5019\uff0c\u6b64\u65f6\u8fd4\u56de\u7684\u662f 1\uff0c \u4f46\u8fd9\u662f\u4e0d\u5bf9\u7684\uff0c\u6700\u5c0f\u9ad8\u5ea6\u6307\u7684\u662f**\u6839\u8282\u70b9\u5230\u6700\u8fd1\u53f6\u5b50\u8282\u70b9**\u7684\u6700\u5c0f\u8def\u5f84\uff0c\u800c\u4e0d\u662f\u5230\u4e00\u4e2a\u7a7a\u8282\u70b9\u7684\u8def\u5f84\u3002 \u56e0\u6b64\u6211\u4eec\u9700\u8981\u505a\u5982\u4e0b\u7684\u8c03\u6574: var minDepth = function ( root ) { if ( root == null ) return 0 ; // \u5de6\u53f3\u5b69\u5b50\u90fd\u4e0d\u4e3a\u7a7a\u624d\u80fd\u50cf\u521a\u624d\u90a3\u6837\u8c03\u7528 if ( root . left && root . right ) return Math . min ( minDepth ( root . left ), minDepth ( root . right )) + 1 ; // \u53f3\u5b69\u5b50\u4e3a\u7a7a\u4e86\uff0c\u76f4\u63a5\u5ffd\u7565\u4e4b else if ( root . left ) return minDepth ( root . left ) + 1 ; // \u5de6\u5b69\u5b50\u4e3a\u7a7a\uff0c\u5ffd\u7565 else if ( root . right ) return minDepth ( root . right ) + 1 ; // \u4e24\u4e2a\u5b69\u5b50\u90fd\u4e3a\u7a7a\uff0c\u8bf4\u660e\u5230\u8fbe\u4e86\u53f6\u5b50\u8282\u70b9\uff0c\u8fd4\u56de 1 else return 1 ; }; \u8fd9\u6837\u7a0b\u5e8f\u4fbf\u80fd\u6b63\u5e38\u5de5\u4f5c\u4e86\u3002","title":"#\u9012\u5f52\u5b9e\u73b0"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_18","text":"\u7c7b\u4f3c\u4e8e \u6700\u5927\u9ad8\u5ea6 \u95ee\u9898\uff0c\u91c7\u7528\u4e86\u5c42\u5e8f\u904d\u5386\u7684\u65b9\u5f0f\uff0c\u5f88\u5bb9\u6613\u7406\u89e3\u3002 var minDepth = function ( root ) { if ( root == null ) return 0 ; let queue = [ root ]; let level = 0 ; while ( queue . length ) { let size = queue . length ; while ( size -- ) { let front = queue . shift (); // \u627e\u5230\u53f6\u5b50\u8282\u70b9 if ( ! front . left && ! front . right ) return level + 1 ; if ( front . left ) queue . push ( front . left ); if ( front . right ) queue . push ( front . right ); } // level ++ \u540e\u7684\u503c\u4ee3\u8868\u7740\u73b0\u5728\u5df2\u7ecf\u5904\u7406\u5b8c\u4e86\u51e0\u5c42\u8282\u70b9 level ++ ; } return level ; };","title":"#\u975e\u9012\u5f52\u5b9e\u73b0"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#lca","text":"LCA (Lowest Common Ancestor)\u5373\u6700\u8fd1\u516c\u5171\u7956\u5148\u95ee\u9898\u3002 \u767e\u5ea6\u767e\u79d1\u4e2d\u6700\u8fd1\u516c\u5171\u7956\u5148\u7684\u5b9a\u4e49\u4e3a\uff1a\u201c\u5bf9\u4e8e\u6709\u6839\u6811 T \u7684\u4e24\u4e2a\u7ed3\u70b9 p\u3001q\uff0c\u6700\u8fd1\u516c\u5171\u7956\u5148\u8868\u793a\u4e3a\u4e00\u4e2a\u7ed3\u70b9 x\uff0c\u6ee1\u8db3 x \u662f p\u3001q \u7684\u7956\u5148\u4e14 x \u7684\u6df1\u5ea6\u5c3d\u53ef\u80fd\u5927\uff08\u4e00\u4e2a\u8282\u70b9\u4e5f\u53ef\u4ee5\u662f\u5b83\u81ea\u5df1\u7684\u7956\u5148\uff09\u3002\u201d","title":"LCA \u95ee\u9898"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_19","text":"\u5bf9\u4e8e\u4e00\u4e2a\u666e\u901a\u7684\u4e8c\u53c9\u6811: root = [3,5,1,6,2,0,8,null,null,7,4] \u8f93\u5165: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1 \u8f93\u51fa: 3 \u89e3\u91ca: \u8282\u70b9 5 \u548c\u8282\u70b9 1 \u7684\u6700\u8fd1\u516c\u5171\u7956\u5148\u662f\u8282\u70b9 3\u3002 \u6765\u6e90: LeetCode\u7b2c236\u9898","title":"#\u4e8c\u53c9\u6811\u7684\u6700\u8fd1\u516c\u5171\u7956\u5148"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_20","text":"\u601d\u8def\u4e00: \u9996\u5148\u904d\u5386\u4e00\u904d\u4e8c\u53c9\u6811\uff0c\u8bb0\u5f55\u4e0b\u6bcf\u4e2a\u8282\u70b9\u7684\u7236\u8282\u70b9\u3002\u7136\u540e\u5bf9\u4e8e\u9898\u76ee\u7ed9\u7684 p \u8282\u70b9\uff0c\u6839\u636e\u8fd9\u4e2a\u8bb0\u5f55\u8868\u4e0d\u65ad\u7684\u627e p \u7684\u4e0a\u5c42\u8282\u70b9\uff0c\u76f4\u5230\u6839\uff0c\u8bb0\u5f55\u4e0b p \u7684**\u4e0a\u5c42\u8282\u70b9\u96c6\u5408**\u3002\u7136\u540e\u5bf9\u4e8e q \u8282\u70b9\uff0c\u6839\u636e\u8bb0\u5f55\u4e0d\u65ad\u5411\u4e0a\u627e\u5b83\u7684\u4e0a\u5c42\u8282\u70b9\uff0c\u5728\u5bfb\u627e\u7684\u8fc7\u7a0b\u4e2d\u4e00\u65e6\u53d1\u73b0**\u8fd9\u4e2a\u4e0a\u5c42\u8282\u70b9\u5df2\u7ecf\u5305\u542b\u5728\u521a\u521a\u7684\u96c6\u5408**\u4e2d\uff0c\u8bf4\u660e\u53d1\u73b0\u4e86\u6700\u8fd1\u516c\u5171\u7956\u5148\uff0c\u76f4\u63a5\u8fd4\u56de\u3002 \u601d\u8def\u4e8c: \u6df1\u5ea6\u4f18\u5148\u904d\u5386\u4e8c\u53c9\u6811\uff0c\u5982\u679c\u5f53\u524d\u8282\u70b9\u4e3a p \u6216\u8005 q\uff0c\u76f4\u63a5\u8fd4\u56de\u8fd9\u4e2a\u8282\u70b9\uff0c\u5426\u5219\u67e5\u770b\u5de6\u53f3\u5b69\u5b50\uff0c\u5de6\u5b69\u5b50\u4e2d\u4e0d\u5305\u542b p \u6216\u8005 q \u5219\u53bb\u627e\u53f3\u5b69\u5b50\uff0c\u53f3\u5b69\u5b50\u4e0d\u5305\u542b p \u6216\u8005 q \u5c31\u53bb\u627e\u5de6\u5b69\u5b50\uff0c\u5269\u4e0b\u7684\u60c5\u51b5\u5c31\u662f**\u5de6\u53f3\u5b69\u5b50\u4e2d\u90fd\u5b58\u5728 p \u6216\u8005 q**, \u90a3\u4e48\u6b64\u65f6\u76f4\u63a5\u8fd4\u56de\u8fd9\u4e2a\u8282\u70b9\u3002","title":"#\u601d\u8def\u5206\u6790"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_21","text":"/** * @param {TreeNode} root * @param {TreeNode} p * @param {TreeNode} q * @return {TreeNode} */ var lowestCommonAncestor = function ( root , p , q ) { if ( root == null || root == p || root == q ) return root ; let set = new Set (); let map = new WeakMap (); let queue = []; queue . push ( root ); // \u5c42\u5e8f\u904d\u5386 while ( queue . length ) { let size = queue . length ; while ( size -- ) { let front = queue . shift (); if ( front . left ) { queue . push ( front . left ); // \u8bb0\u5f55\u7236\u4eb2\u8282\u70b9 map . set ( front . left , front ); } if ( front . right ) { queue . push ( front . right ); // \u8bb0\u5f55\u7236\u4eb2\u8282\u70b9 map . set ( front . right , front ); } } } // \u6784\u9020 p \u7684\u4e0a\u5c42\u8282\u70b9\u96c6\u5408 while ( p ) { set . add ( p ); p = map . get ( p ); } while ( q ) { // \u4e00\u65e6\u53d1\u73b0\u516c\u5171\u8282\u70b9\u91cd\u5408\uff0c\u76f4\u63a5\u8fd4\u56de if ( set . has ( q )) return q ; q = map . get ( q ); } }; \u53ef\u4ee5\u770b\u5230\u6574\u68f5\u4e8c\u53c9\u6811\u904d\u5386\u4e86\u4e00\u904d\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u5927\u81f4\u662f O(n)\uff0c\u4f46\u662f\u7531\u4e8e\u54c8\u5e0c\u8868\u7684\u5b58\u5728\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6\u6bd4\u8f83\u9ad8\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u7528\u53e6\u4e00\u79cd\u904d\u5386\u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u5927\u5927\u51cf\u5c11\u7a7a\u95f4\u7684\u5f00\u9500\u3002","title":"#\u7956\u5148\u8282\u70b9\u96c6\u5408\u6cd5"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_22","text":"\u4ee3\u7801\u975e\u5e38\u7b80\u6d01\u3001\u7f8e\u89c2\uff0c\u4e0d\u8fc7\u66f4\u91cd\u8981\u7684\u662f\u4f53\u4f1a\u5176\u4e2d\u9012\u5f52\u8c03\u7528\u7684\u8fc7\u7a0b\uff0c\u4ee3\u7801\u662f\u81ea\u9876\u5411\u4e0b\u6267\u884c\u7684\uff0c\u6211\u5efa\u8bae\u5927\u5bb6\u7528**\u81ea\u5e95\u5411\u4e0a**\u7684\u65b9\u5f0f\u6765\u7406\u89e3\u5b83\uff0c\u5373\u4ece\u6700\u5de6\u4e0b\u7684\u8282\u70b9\u5f00\u59cb\u5206\u6790\uff0c\u76f8\u4fe1\u4f60\u4f1a\u5f88\u597d\u7684\u7406\u89e3\u6574\u4e2a\u8fc7\u7a0b\u3002 var lowestCommonAncestor = function ( root , p , q ) { if ( root == null || root == p || root == q ) return root ; let left = lowestCommonAncestor ( root . left , p , q ); let right = lowestCommonAncestor ( root . right , p , q ); if ( left == null ) return right ; else if ( right == null ) return left ; return root ; };","title":"#\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u6cd5"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_23","text":"\u7ed9\u5b9a\u5982\u4e0b\u4e8c\u53c9\u641c\u7d22\u6811: root = [6,2,8,0,4,7,9,null,null,3,5] \u8f93\u5165: root = [6,2,8,0,4,7,9,null,null,3,5], p = 2, q = 8 \u8f93\u51fa: 6 \u89e3\u91ca: \u8282\u70b9 2 \u548c\u8282\u70b9 8 \u7684\u6700\u8fd1\u516c\u5171\u7956\u5148\u662f 6\u3002 \u6765\u6e90: LeetCode\u7b2c235\u9898","title":"#\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u6700\u8fd1\u516c\u5171\u7956\u5148"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_24","text":"\u4e8c\u53c9\u641c\u7d22\u6811\u4f5c\u4e3a\u4e00\u79cd\u7279\u6b8a\u7684\u4e8c\u53c9\u6811\uff0c\u5f53\u7136\u662f\u53ef\u4ee5\u7528\u4e0a\u8ff0\u7684\u4e24\u79cd\u65b9\u5f0f\u6765\u5b9e\u73b0\u7684\u3002 \u4e0d\u8fc7\u501f\u52a9\u4e8c\u53c9\u641c\u7d22\u6811\u6709\u5e8f\u7684\u7279\u6027\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5199\u51fa\u53e6\u5916\u4e00\u4e2a\u7248\u672c\u7684\u6df1\u5ea6\u4f18\u5316\u904d\u5386\u3002 /** * @param {TreeNode} root * @param {TreeNode} p * @param {TreeNode} q * @return {TreeNode} */ var lowestCommonAncestor = function ( root , p , q ) { if ( root == null || root == p || root == q ) return root ; // root.val \u6bd4 p \u548c q \u90fd\u5927\uff0c\u627e\u5de6\u5b69\u5b50 if ( root . val > p . val && root . val > q . val ) return lowestCommonAncestor ( root . left , p , q ); // root.val \u6bd4 p \u548c q \u90fd\u5c0f\uff0c\u627e\u53f3\u5b69\u5b50 if ( root . val < p . val && root . val < q . val ) return lowestCommonAncestor ( root . right , p , q ); else return root ; }; \u540c\u65f6\u4e5f\u53ef\u4ee5\u91c7\u7528\u975e\u9012\u5f52\u7684\u65b9\u5f0f: var lowestCommonAncestor = function ( root , p , q ) { let node = root ; while ( node ) { if ( p . val > node . val && q . val > node . val ) node = node . right ; else if ( p . val < node . val && q . val < node . val ) node = node . left ; else return node ; } }; \u662f\u4e0d\u662f\u88ab\u4e8c\u53c9\u6811\u7cbe\u7b80\u800c\u4f18\u96c5\u7684\u4ee3\u7801\u60ca\u8273\u5230\u4e86\u5462\uff1f\u5e0c\u671b\u4f60\u80fd\u597d\u597d\u4f53\u4f1a\u5176\u4e2d\u904d\u5386\u7684\u8fc7\u7a0b\uff0c\u7136\u540e\u52a1\u5fc5\u81ea\u5df1\u72ec\u7acb\u5b9e\u73b0\u4e00\u904d\uff0c\u4fdd\u8bc1\u5bf9\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\u8db3\u591f\u719f\u6089\uff0c\u589e\u5f3a\u81ea\u5df1\u7684\u7f16\u7a0b\u5185\u529b\u3002","title":"#\u5b9e\u73b0"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_25","text":"\u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u68c0\u67e5\u5b83\u662f\u5426\u662f\u955c\u50cf\u5bf9\u79f0\u7684\u3002 \u4f8b\u5982\uff0c\u4e8c\u53c9\u6811 [1,2,2,3,4,4,3] \u662f\u5bf9\u79f0\u7684\u3002 1 / \\ 2 2 / \\ / \\ 3 4 4 3 \u4f46\u662f\u4e0b\u9762\u8fd9\u4e2a [1,2,2,null,3,null,3] \u5219\u4e0d\u662f\u955c\u50cf\u5bf9\u79f0\u7684: 1 / \\ 2 2 \\ \\ 3 3 \u6765\u6e90: LeetCode\u7b2c101\u9898","title":"\u5bf9\u79f0\u4e8c\u53c9\u6811"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_26","text":"\u9012\u5f52\u65b9\u5f0f\u7684\u4ee3\u7801\u662f\u975e\u5e38\u5e72\u7ec3\u548c\u4f18\u96c5\u7684\uff0c\u5e0c\u671b\u4f60\u5148\u81ea\u5df1\u5b9e\u73b0\u4e00\u904d\uff0c\u7136\u540e\u5bf9\u6bd4\u6539\u8fdb\u3002 /** * @param {TreeNode} root * @return {boolean} */ var isSymmetric = function ( root ) { let help = ( node1 , node2 ) => { // \u90fd\u4e3a\u7a7a if ( ! node1 && ! node2 ) return true ; // \u4e00\u4e2a\u4e3a\u7a7a\u4e00\u4e2a\u4e0d\u4e3a\u7a7a\uff0c\u6216\u8005\u4e24\u4e2a\u8282\u70b9\u503c\u4e0d\u76f8\u7b49 if ( ! node1 || ! node2 || node1 . val !== node2 . val ) return false ; return help ( node1 . left , node2 . right ) && help ( node1 . right , node2 . left ); } if ( root == null ) return true ; return help ( root . left , root . right ); };","title":"#\u9012\u5f52\u5b9e\u73b0"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_27","text":"\u7528\u4e00\u4e2a\u961f\u5217\u4fdd\u5b58\u8bbf\u95ee\u8fc7\u7684\u8282\u70b9\uff0c\u6bcf\u6b21\u53d6\u51fa\u4e24\u4e2a\u8282\u70b9\uff0c\u8fdb\u884c\u6bd4\u8f83\u3002 var isSymmetric = function ( root ) { if ( root == null ) return true ; let queue = [ root . left , root . right ]; let node1 , node2 ; while ( queue . length ) { node1 = queue . shift (); node2 = queue . shift (); // \u4e24\u8282\u70b9\u5747\u4e3a\u7a7a if ( ! node1 && ! node2 ) continue ; // \u4e00\u4e2a\u4e3a\u7a7a\u4e00\u4e2a\u4e0d\u4e3a\u7a7a\uff0c\u6216\u8005\u4e24\u4e2a\u8282\u70b9\u503c\u4e0d\u76f8\u7b49 if ( ! node1 || ! node2 || node1 . val !== node2 . val ) return false ; queue . push ( node1 . left ); queue . push ( node2 . right ); queue . push ( node1 . right ); queue . push ( node2 . left ); } return true ; };","title":"#\u975e\u9012\u5f52\u5b9e\u73b0"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_28","text":"","title":"\u4e8c\u53c9\u6811\u4e2d\u7684\u8def\u5f84\u95ee\u9898"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#no1","text":"\u7ed9\u5b9a\u4e00\u68f5\u4e8c\u53c9\u6811\uff0c\u4f60\u9700\u8981\u8ba1\u7b97\u5b83\u7684\u76f4\u5f84\u957f\u5ea6\u3002\u4e00\u68f5\u4e8c\u53c9\u6811\u7684\u76f4\u5f84\u957f\u5ea6\u662f\u4efb\u610f\u4e24\u4e2a\u7ed3\u70b9\u8def\u5f84\u957f\u5ea6\u4e2d\u7684\u6700\u5927\u503c\u3002\u8fd9\u6761\u8def\u5f84\u53ef\u80fd\u7a7f\u8fc7\u6839\u7ed3\u70b9\u3002 \u793a\u4f8b : \u7ed9\u5b9a\u4e8c\u53c9\u6811 1 / \\ 2 3 / \\ 4 5 \u8fd4\u56de 3, \u5b83\u7684\u957f\u5ea6\u662f\u8def\u5f84 [4,2,1,3] \u6216\u8005 [5,2,1,3]\u3002 \u6ce8\u610f\uff1a\u4e24\u7ed3\u70b9\u4e4b\u95f4\u7684\u8def\u5f84\u957f\u5ea6\u662f\u4ee5\u5b83\u4eec\u4e4b\u95f4\u8fb9\u7684\u6570\u76ee\u8868\u793a\u3002 \u6765\u6e90: LeetCode\u7b2c543\u9898","title":"#No.1 \u4e8c\u53c9\u6811\u7684\u76f4\u5f84"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_29","text":"\u6240\u8c13\u7684 \u6c42\u76f4\u5f84 , \u672c\u8d28\u4e0a\u662f\u6c42\u6811\u4e2d\u8282\u70b9\u5de6\u53f3\u5b50\u6811 \u9ad8\u5ea6\u548c\u7684\u6700\u5927\u503c \u3002 \u6ce8\u610f\uff0c\u8fd9\u91cc\u6211\u8bf4\u7684\u662f \u6811\u4e2d\u8282\u70b9 , \u5e76\u975e\u6839\u8282\u70b9\u3002\u56e0\u4e3a\u4f1a\u6709\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5: 1 / 2 / \\ 4 5 / \\ 8 6 \\ 7 \u90a3\u8fd9\u4e2a\u65f6\u5019\uff0c\u76f4\u5f84\u6700\u5927\u7684\u8def\u5f84\u662f: 8 -> 4 -> 2-> 5 -> 6 -> 7\u3002\u4ea4\u754c\u7684\u5143\u7d20\u5e76\u4e0d\u662f\u6839\u8282\u70b9\u3002\u8fd9\u662f\u8fd9\u4e2a\u95ee\u9898\u7279\u522b\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\uff0c\u4e0d\u7136\u65e0\u89e3\u3002","title":"#\u601d\u8def"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_30","text":"\u76ee\u6807\u5df2\u7ecf\u786e\u5b9a\u4e86\uff0c\u6c42\u6811\u4e2d\u8282\u70b9\u5de6\u53f3\u5b50\u6811 \u9ad8\u5ea6\u548c\u7684\u6700\u5927\u503c \u3002\u5f00\u5e72\uff01 /** * @param {TreeNode} root * @return {number} */ var diameterOfBinaryTree = function ( root ) { // \u6c42\u6700\u5927\u6df1\u5ea6 let maxDepth = ( node ) => { if ( node == null ) return 0 ; return Math . max ( maxDepth ( node . left ) + 1 , maxDepth ( node . right ) + 1 ); } let help = ( node ) => { if ( node == null ) return 0 ; let rootSum = maxDepth ( node . left ) + maxDepth ( node . right ); let childSum = Math . max ( help ( node . left ), help ( node . right )); return Math . max ( rootSum , childSum ); } if ( root == null ) return 0 ; return help ( root ); }; \u8fd9\u6837\u4e00\u6bb5\u4ee3\u7801\u653e\u5230 LeetCode \u662f\u53ef\u4ee5\u901a\u8fc7\uff0c\u4f46\u65f6\u95f4\u4e0a\u5374\u4e0d\u8ba9\u4eba\u5f88\u6ee1\u610f\uff0c\u4e3a\u4ec0\u4e48\u5462\uff1f \u56e0\u4e3a\u5728\u53cd\u590d\u8c03\u7528 maxDepth \u7684\u8fc7\u7a0b\uff0c\u5bf9\u6811\u4e2d\u7684\u4e00\u4e9b\u8282\u70b9\u589e\u52a0\u4e86\u5f88\u591a\u4e0d\u5fc5\u8981\u7684\u8bbf\u95ee\u3002\u6bd4\u5982\uff1a 1 / 2 / \\ 4 5 / \\ 8 6 \\ 7 \u6211\u4eec\u770b\u4ec0\u4e48\u65f6\u5019\u8bbf\u95ee\u8282\u70b9 8\uff0cmaxDepth(\u8282\u70b9 2)\u7684\u65f6\u5019\u8bbf\u95ee\uff0c maxDepth(\u8282\u70b9 4)\u7684\u65f6\u5019\u53c8\u4f1a\u8bbf\u95ee\uff0c\u5982\u679c\u8282\u70b9\u5c42\u7ea7\u66f4\u9ad8\uff0c\u91cd\u590d\u8bbf\u95ee\u7684\u6b21\u6570\u66f4\u52a0\u9891\u7e41\uff0c\u5269\u4e0b\u7684\u8282\u70b96\u3001\u8282\u70b9 7 \u90fd\u662f\u540c\u7406\u3002\u6bcf\u4e00\u4e2a\u8282\u70b9\u8bbf\u95ee\u7684\u6b21\u6570\u5927\u6982\u662f O(logK)(\u8bbe\u5f53\u524d\u8282\u70b9\u5728\u7b2c K \u5c42)\u3002\u90a3\u80fd\u4e0d\u80fd\u628a\u8fd9\u4e2a\u9891\u7387\u964d\u5230 O(1) \u5462\uff1f \u7b54\u6848\u662f\u80af\u5b9a\u7684\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u4f18\u5316\u8fd9\u4e2a\u7b97\u6cd5\u3002","title":"#\u521d\u6b65\u6c42\u89e3"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_31","text":"var diameterOfBinaryTree = function ( root ) { let help = ( node ) => { if ( node == null ) return 0 ; let left = node . left ? help ( node . left ) + 1 : 0 ; let right = node . right ? help ( node . right ) + 1 : 0 ; let cur = left + right ; if ( cur > max ) max = cur ; // \u8fd9\u4e2a\u8fd4\u56de\u7684\u64cd\u4f5c\u76f8\u5f53\u5173\u952e return Math . max ( left , right ); } let max = 0 ; if ( root == null ) return 0 ; help ( root ); return max ; }; \u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u8bbe\u7f6e\u4e86\u4e00\u4e2a max \u5168\u5c40\u53d8\u91cf\uff0c\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u8fd9\u68f5\u6811\uff0c\u6bcf\u904d\u5386\u5b8c\u4e00\u4e2a\u8282\u70b9\u5c31\u66f4\u65b0 max \uff0c\u5e76\u901a\u8fc7\u8fd4\u56de\u503c\u7684\u65b9\u5f0f \u81ea\u5e95\u5411\u4e0a \u628a\u5f53\u524d\u8282\u70b9\u5de6\u53f3\u5b50\u6811\u7684\u6700\u5927\u9ad8\u5ea6\u4f20\u7ed9\u7236\u51fd\u6570\u4f7f\u7528\uff0c\u4f7f\u5f97\u6bcf\u4e2a\u8282\u70b9\u53ea\u9700\u8bbf\u95ee\u4e00\u6b21\u5373\u53ef\u3002 \u73b0\u5728\u63d0\u4ea4\u6211\u4eec\u4f18\u5316\u540e\u7684\u4ee3\u7801\uff0c\u65f6\u95f4\u6d88\u8017\u660e\u663e\u964d\u4f4e\u3002","title":"#\u4f18\u5316\u89e3\u6cd5"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#no2","text":"\u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u8fd4\u56de\u6240\u6709\u4ece\u6839\u8282\u70b9\u5230\u53f6\u5b50\u8282\u70b9\u7684\u8def\u5f84\u3002 \u8bf4\u660e: \u53f6\u5b50\u8282\u70b9\u662f\u6307\u6ca1\u6709\u5b50\u8282\u70b9\u7684\u8282\u70b9\u3002 \u793a\u4f8b: \u8f93\u5165: 1 / \\ 2 3 \\ 5 \u8f93\u51fa: [\"1->2->5\", \"1->3\"] \u89e3\u91ca: \u6240\u6709\u6839\u8282\u70b9\u5230\u53f6\u5b50\u8282\u70b9\u7684\u8def\u5f84\u4e3a: 1->2->5, 1->3 \u6765\u6e90: LeetCode\u7b2c257\u9898","title":"#No.2 \u4e8c\u53c9\u6811\u7684\u6240\u6709\u8def\u5f84"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_32","text":"\u5229\u7528 DFS(\u6df1\u5ea6\u4f18\u5148\u904d\u5386) \u7684\u65b9\u5f0f\u8fdb\u884c\u904d\u5386\u3002 /** * @param {TreeNode} root * @return {string[]} */ var binaryTreePaths = function ( root ) { let path = []; let res = []; let dfs = ( node ) => { if ( node == null ) return ; path . push ( node ); dfs ( node . left ); dfs ( node . right ); if ( ! node . left && ! node . right ) res . push ( path . map ( item => item . val ). join ( '->' )); // \u6ce8\u610f\u6bcf\u8bbf\u95ee\u5b8c\u4e00\u4e2a\u8282\u70b9\u8bb0\u5f97\u628a\u5b83\u4ecepath\u4e2d\u5220\u9664\uff0c\u8fbe\u5230\u56de\u6eaf\u6548\u679c path . pop (); } dfs ( root ); return res ; };","title":"#\u9012\u5f52\u89e3\u6cd5"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_33","text":"\u63a5\u4e0b\u6765\u6211\u4eec\u901a\u8fc7 \u975e\u9012\u5f52\u7684\u540e\u5e8f\u904d\u5386 \u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u4e00\u4e0b, \u987a\u4fbf\u590d\u4e60\u4e00\u4e0b\u540e\u5e8f\u904d\u5386\u7684\u5b9e\u73b0\u3002 \u63d0\u793a \u540e\u5e8f\u904d\u5386\u5176\u5b9e\u4e5f\u662f DFS \u7684\u4e00\u79cd\u5177\u4f53\u5b9e\u73b0\u65b9\u5f0f\u3002 var binaryTreePaths = function ( root ) { if ( root == null ) return []; let stack = []; let p = root ; let set = new Set (); res = []; while ( stack . length || p ) { while ( p ) { stack . push ( p ); p = p . left ; } let node = stack [ stack . length - 1 ]; // \u53f6\u5b50\u8282\u70b9 if ( ! node . right && ! node . left ) { res . push ( stack . map ( item => item . val ). join ( '->' )); } // \u53f3\u5b69\u5b50\u5b58\u5728\uff0c\u4e14\u53f3\u5b69\u5b50\u672a\u88ab\u8bbf\u95ee if ( node . right && ! set . has ( node . right )) { p = node . right ; set . add ( node . right ); } else { stack . pop (); } } return res ; };","title":"#\u975e\u9012\u5f52\u89e3\u6cd5"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#no3","text":"\u7ed9\u5b9a\u4e00\u4e2a\u975e\u7a7a\u4e8c\u53c9\u6811\uff0c\u8fd4\u56de\u5176\u6700\u5927\u8def\u5f84\u548c\u3002 \u672c\u9898\u4e2d\uff0c\u8def\u5f84\u88ab\u5b9a\u4e49\u4e3a\u4e00\u6761\u4ece\u6811\u4e2d\u4efb\u610f\u8282\u70b9\u51fa\u53d1\uff0c\u8fbe\u5230\u4efb\u610f\u8282\u70b9\u7684\u5e8f\u5217\u3002\u8be5\u8def\u5f84\u81f3\u5c11\u5305\u542b\u4e00\u4e2a\u8282\u70b9\uff0c\u4e14\u4e0d\u4e00\u5b9a\u7ecf\u8fc7\u6839\u8282\u70b9\u3002 \u793a\u4f8b : \u8f93\u5165: [-10,9,20,null,null,15,7] -10 / \\ 9 20 / \\ 15 7 \u8f93\u51fa: 42 \u6765\u6e90: LeetCode\u7b2c124\u9898","title":"#No.3 \u4e8c\u53c9\u6811\u7684\u6700\u5927\u8def\u5f84\u548c"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_34","text":"/** * @param {TreeNode} root * @return {number} */ var maxPathSum = function ( root ) { let help = ( node ) => { if ( node == null ) return 0 ; let left = Math . max ( help ( node . left ), 0 ); let right = Math . max ( help ( node . right ), 0 ); let cur = left + node . val + right ; // \u5982\u679c\u53d1\u73b0\u67d0\u4e00\u4e2a\u8282\u70b9\u4e0a\u7684\u8def\u5f84\u503c\u6bd4max\u8fd8\u5927\uff0c\u5219\u66f4\u65b0max if ( cur > max ) max = cur ; // left \u548c right \u6c38\u8fdc\u662f\"\u4e00\u6839\u7b4b\"\uff0c\u4e2d\u95f4\u4e0d\u4f1a\u6709\u8f6c\u6298 return Math . max ( left , right ) + node . val ; } let max = Number . MIN_SAFE_INTEGER ; help ( root ); return max ; };","title":"#\u9012\u5f52\u89e3"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_35","text":"","title":"\u4e8c\u53c9\u641c\u7d22\u6811"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#no1_1","text":"\u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u5224\u65ad\u5176\u662f\u5426\u662f\u4e00\u4e2a\u6709\u6548\u7684\u4e8c\u53c9\u641c\u7d22\u6811\u3002 \u5047\u8bbe\u4e00\u4e2a\u4e8c\u53c9\u641c\u7d22\u6811\u5177\u6709\u5982\u4e0b\u7279\u5f81\uff1a \u8282\u70b9\u7684\u5de6\u5b50\u6811\u53ea\u5305\u542b\u5c0f\u4e8e\u5f53\u524d\u8282\u70b9\u7684\u6570\u3002 \u8282\u70b9\u7684\u53f3\u5b50\u6811\u53ea\u5305\u542b\u5927\u4e8e\u5f53\u524d\u8282\u70b9\u7684\u6570\u3002 \u6240\u6709\u5de6\u5b50\u6811\u548c\u53f3\u5b50\u6811\u81ea\u8eab\u5fc5\u987b\u4e5f\u662f\u4e8c\u53c9\u641c\u7d22\u6811\u3002 \u793a\u4f8b 1 : \u8f93\u5165: 2 / \\ 1 3 \u8f93\u51fa: true \u6765\u6e90: LeetCode\u7b2c98\u9898","title":"#No.1 \u9a8c\u8bc1\u4e8c\u53c9\u641c\u7d22\u6811"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_36","text":"\u901a\u8fc7\u4e2d\u5e8f\u904d\u5386\uff0c\u4fdd\u5b58\u524d\u4e00\u4e2a\u8282\u70b9\u7684\u503c\uff0c\u626b\u63cf\u5230\u5f53\u524d\u8282\u70b9\u65f6\uff0c\u548c\u524d\u4e00\u4e2a\u8282\u70b9\u7684\u503c\u6bd4\u8f83\uff0c\u5982\u679c\u5927\u4e8e\u524d\u4e00\u4e2a\u8282\u70b9\uff0c\u5219\u6ee1\u8db3\u6761\u4ef6\uff0c\u5426\u5219\u4e0d\u662f\u4e8c\u53c9\u641c\u7d22\u6811\u3002 /** * @param {TreeNode} root * @return {boolean} */ var isValidBST = function ( root ) { let prev = null ; const help = ( node ) => { if ( node == null ) return true ; if ( ! help ( node . left )) return false ; if ( prev !== null && prev >= node . val ) return false ; // \u4fdd\u5b58\u5f53\u524d\u8282\u70b9\uff0c\u4e3a\u4e0b\u4e00\u4e2a\u8282\u70b9\u7684\u904d\u5386\u505a\u51c6\u5907 prev = node . val ; return help ( node . right ); } return help ( root ); };","title":"#\u65b9\u6cd5\u4e00: \u4e2d\u5e8f\u904d\u5386"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#dfs","text":"\u4e8c\u53c9\u641c\u7d22\u6811\u6bcf\u4e00\u4e2a\u8282\u70b9\u7684\u503c\uff0c\u90fd\u6709\u4e00\u4e2a**\u4e0a\u754c\u548c\u4e0b\u754c**\uff0c\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u8bbf\u95ee\u5de6\u5b69\u5b50\uff0c\u5219\u901a\u8fc7\u5f53\u524d\u8282\u70b9\u7684\u503c\u6765**\u66f4\u65b0\u5de6\u5b69\u5b50\u8282\u70b9\u7684\u4e0a\u754c**\uff0c\u540c\u65f6\u8bbf\u95ee\u53f3\u5b69\u5b50\uff0c\u5219**\u66f4\u65b0\u53f3\u5b69\u5b50\u7684\u4e0b\u754c**\uff0c\u53ea\u8981\u51fa\u73b0\u8282\u70b9\u503c\u8d8a\u754c\u7684\u60c5\u51b5\uff0c\u5219\u4e0d\u6ee1\u8db3\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u6761\u4ef6\u3002 parent / \\ left right \u5047\u8bbe\u8fd9\u662f\u4e00\u68f5\u5de8\u5927\u7684\u4e8c\u53c9\u6811\u7684\u4e00\u4e2a\u90e8\u5206(parent\u3001left\u3001right\u90fd\u662f\u5b9e\u5b9e\u5728\u5728\u7684\u8282\u70b9)\uff0c\u90a3\u4e48\u5168\u90e8\u7684\u8282\u70b9\u6392\u5b8c\u5e8f\u4e00\u5b9a\u662f\u8fd9\u6837: ...left, parent, right... \u53ef\u4ee5\u770b\u5230\u5de6\u5b69\u5b50\u7684 \u6700\u4e25\u683c\u7684\u4e0a\u754c \u662f\u8be5\u8282\u70b9, \u540c\u65f6, \u53f3\u5b69\u5b50\u7684 \u6700\u4e25\u683c\u7684\u4e0b\u754c \u4e5f\u662f\u8be5\u8282\u70b9\u3002\u6211\u4eec\u6309\u7167\u8fd9\u6837\u7684\u89c4\u5219\u6765\u8fdb\u884c\u66f4\u65b0\u4e0a\u4e0b\u754c\u3002 \u9012\u5f52\u5b9e\u73b0: var isValidBST = function ( root ) { const help = ( node , max , min ) => { if ( node == null ) return true ; if ( node . val >= max || node . val <= min ) return false ; // \u5de6\u5b69\u5b50\u66f4\u65b0\u4e0a\u754c\uff0c\u53f3\u5b69\u5b50\u66f4\u65b0\u4e0b\u754c\uff0c\u76f8\u5f53\u4e8e\u8fb9\u754c\u8981\u6c42\u8d8a\u6765\u8d8a\u82db\u523b return help ( node . left , node . val , min ) && help ( node . right , max , node . val ); } return help ( root , Number . MAX_SAFE_INTEGER , Number . MIN_SAFE_INTEGER ); }; \u975e\u9012\u5f52\u5b9e\u73b0: var isValidBST = function ( root ) { if ( root == null ) return true ; let stack = [ root ]; let min = Number . MIN_SAFE_INTEGER ; let max = Number . MAX_SAFE_INTEGER ; root . max = max ; root . min = min ; while ( stack . length ) { let node = stack . pop (); if ( node . val <= node . min || node . val >= node . max ) return false ; if ( node . left ) { stack . push ( node . left ); // \u66f4\u65b0\u4e0a\u4e0b\u754c node . left . max = node . val ; node . left . min = node . min ; } if ( node . right ) { stack . push ( node . right ); // \u66f4\u65b0\u4e0a\u4e0b\u754c node . right . max = node . max ; node . right . min = node . val ; } } return true ; };","title":"#\u65b9\u6cd5\u4e8c: \u9650\u5b9a\u4e0a\u4e0b\u754c\u8fdb\u884cDFS"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#no2_1","text":"\u5c06\u4e00\u4e2a\u6309\u7167\u5347\u5e8f\u6392\u5217\u7684\u6709\u5e8f\u6570\u7ec4\uff0c\u8f6c\u6362\u4e3a\u4e00\u68f5\u9ad8\u5ea6\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811\u3002 \u672c\u9898\u4e2d\uff0c\u4e00\u4e2a\u9ad8\u5ea6\u5e73\u8861\u4e8c\u53c9\u6811\u662f\u6307\u4e00\u4e2a\u4e8c\u53c9\u6811\u6bcf\u4e2a\u8282\u70b9 \u7684\u5de6\u53f3\u4e24\u4e2a\u5b50\u6811\u7684\u9ad8\u5ea6\u5dee\u7684\u7edd\u5bf9\u503c\u4e0d\u8d85\u8fc7 1\u3002 \u793a\u4f8b: \u7ed9\u5b9a\u6709\u5e8f\u6570\u7ec4: [-10,-3,0,5,9], \u4e00\u4e2a\u53ef\u80fd\u7684\u7b54\u6848\u662f\uff1a[0,-3,9,-10,null,5]\uff0c\u5b83\u53ef\u4ee5\u8868\u793a\u4e0b\u9762\u8fd9\u4e2a\u9ad8\u5ea6\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811\uff1a 0 / \\ -3 9 / / -10 5 \u6765\u6e90: LeetCode\u7b2c108\u9898","title":"#No.2 \u5c06\u6709\u5e8f\u6570\u7ec4\u8f6c\u6362\u4e3a\u4e8c\u53c9\u641c\u7d22\u6811"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_37","text":"/** * @param {number[]} nums * @return {TreeNode} */ var sortedArrayToBST = function ( nums ) { let help = ( start , end ) => { if ( start > end ) return null ; if ( start === end ) return new TreeNode ( nums [ start ]); let mid = Math . floor (( start + end ) / 2 ); // \u627e\u51fa\u4e2d\u70b9\u5efa\u7acb\u8282\u70b9 let node = new TreeNode ( nums [ mid ]); node . left = help ( start , mid - 1 ); node . right = help ( mid + 1 , end ); return node ; } return help ( 0 , nums . length - 1 ); }; \u9012\u5f52\u7a0b\u5e8f\u6bd4\u8f83\u597d\u7406\u89e3\uff0c\u4e0d\u65ad\u5730\u8c03\u7528 help \u5b8c\u6210\u6574\u68f5\u6811\u6811\u7684\u6784\u5efa\u3002\u90a3\u5982\u4f55\u7528\u975e\u9012\u5f52\u6765\u89e3\u51b3\u5462\uff1f\u6211\u89c9\u5f97\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u503c\u5f97\u5927\u5bb6\u601d\u8003\u7684\u95ee\u9898\u3002\u5e0c\u671b\u4f60\u80fd\u52a8\u624b\u8bd5\u4e00\u8bd5\uff0c\u5982\u679c\u5b9e\u5728\u60f3\u4e0d\u51fa\u6765\uff0c\u53ef\u4ee5\u53c2\u8003\u4e0b\u9762\u6211\u5199\u7684\u975e\u9012\u5f52\u7248\u672c\u3002 \u5176\u5b9e\u601d\u8def\u8ddf\u9012\u5f52\u7684\u7248\u672c\u662f\u4e00\u6837\u7684\uff0c\u53ea\u4e0d\u8fc7\u5b9e\u73b0\u8d77\u6765\u662f\u7528\u6808\u6765\u5b9e\u73b0 DFS \u7684\u6548\u679c\u3002 /** * @param {number[]} nums * @return {TreeNode} */ var sortedArrayToBST = function ( nums ) { if ( nums . length === 0 ) return null ; let mid = Math . floor ( nums . length / 2 ); let root = new TreeNode ( nums [ mid ]); // \u8bf4\u660e: 1. index \u6307\u7684\u662f\u5f53\u524d\u5143\u7d20\u5728\u6570\u7ec4\u4e2d\u7684\u7d22\u5f15 // 2. \u6bcf\u4e00\u4e2a\u8282\u70b9\u7684\u503c\u90fd\u662f\u533a\u95f4\u4e2d\u70b9\uff0c\u90a3\u4e48 start \u5c5e\u6027\u5c31\u662f\u8fd9\u4e2a\u533a\u95f4\u7684\u8d77\u70b9\uff0cend \u4e3a\u5176\u7ec8\u70b9 root . index = mid ; root . start = 0 ; root . end = nums . length - 1 ; let stack = [ root ]; while ( stack . length ) { let node = stack . pop (); // node \u51fa\u6765\u4e86\uff0c\u5b83\u672c\u8eab\u5305\u542b\u4e86\u4e00\u4e2a\u533a\u95f4\uff0c[start, ..., index, ... end] // \u4e0b\u9762\u5224\u65ad[node.start, node.index - 1]\u4e4b\u95f4\u662f\u5426\u8fd8\u6709\u5f00\u53d1\u7684\u4f59\u5730 if ( node . index - 1 >= node . start ) { let leftMid = Math . floor (( node . start + node . index ) / 2 ); let leftNode = new TreeNode ( nums [ leftMid ]); node . left = leftNode ; // \u521d\u59cb\u5316\u65b0\u8282\u70b9\u7684\u533a\u95f4\u8d77\u70b9\u3001\u7ec8\u70b9\u548c\u7d22\u5f15 leftNode . start = node . start ; leftNode . end = node . index - 1 ; leftNode . index = leftMid ; stack . push ( leftNode ); } // \u4e2d\u95f4\u5939\u7740node.index, \u5df2\u7ecf\u6709\u5143\u7d20\u4e86\uff0c\u8fd9\u4e2a\u4f4d\u7f6e\u4e0d\u80fd\u518d\u5f00\u53d1 // \u4e0b\u9762\u5224\u65ad[node.index + 1, node.end]\u4e4b\u95f4\u662f\u5426\u8fd8\u6709\u5f00\u53d1\u7684\u4f59\u5730 if ( node . end >= node . index + 1 ) { let rightMid = Math . floor (( node . index + 1 + node . end ) / 2 ); let rightNode = new TreeNode ( nums [ rightMid ]); node . right = rightNode ; // \u521d\u59cb\u5316\u65b0\u8282\u70b9\u7684\u533a\u95f4\u8d77\u70b9\u3001\u7ec8\u70b9\u548c\u7d22\u5f15 rightNode . start = node . index + 1 ; rightNode . end = node . end ; rightNode . index = rightMid ; stack . push ( rightNode ); } } return root ; };","title":"#\u9012\u5f52\u5b9e\u73b0"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#no3_1","text":"\u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9(\u641c\u7d22)\u6811\uff0c\u539f\u5730\u5c06\u5b83\u5c55\u5f00\u4e3a\u94fe\u8868\u3002 \u4f8b\u5982\uff0c\u7ed9\u5b9a\u4e8c\u53c9\u6811 1 / \\ 2 5 / \\ \\ 3 4 6 \u5c06\u5176\u5c55\u5f00\u4e3a\uff1a 1 \\ 2 \\ 3 \\ 4 \\ 5 \\ 6 \u6765\u6e90: LeetCode\u7b2c114\u9898","title":"#No.3 \u4e8c\u53c9\u6811\u5c55\u5f00\u4e3a\u94fe\u8868"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_38","text":"\u91c7\u7528\u540e\u5e8f\u904d\u5386\uff0c\u904d\u5386\u5b8c\u5de6\u53f3\u5b69\u5b50\u6211\u4eec\u8981\u505a\u4e9b\u4ec0\u4e48\u5462\uff1f\u7528\u4e0b\u9762\u7684\u56fe\u6765\u6f14\u793a\u4e00\u4e0b( \u70b9\u51fb\u53ef\u653e\u5927 )\uff1a /** * @param {TreeNode} root * @return {void} Do not return anything, modify root in-place instead. */ var flatten = function ( root ) { if ( root == null ) return ; flatten ( root . left ); flatten ( root . right ); if ( root . left ) { let p = root . left ; while ( p . right ) { p = p . right ; } p . right = root . right ; root . right = root . left ; root . left = null ; } };","title":"#\u9012\u5f52\u65b9\u5f0f"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_39","text":"\u91c7\u7528\u975e\u9012\u5f52\u7684\u540e\u5e8f\u904d\u5386\u65b9\u5f0f\uff0c\u601d\u8def\u8ddf\u4e4b\u524d\u7684\u5b8c\u5168\u4e00\u6837\u3002 var flatten = function ( root ) { if ( root == null ) return ; let stack = []; let visited = new Set (); let p = root ; // \u5f00\u59cb\u540e\u5e8f\u904d\u5386 while ( stack . length || p ) { while ( p ) { stack . push ( p ); p = p . left ; } let node = stack [ stack . length - 1 ]; // \u5982\u679c\u53f3\u5b69\u5b50\u5b58\u5728\uff0c\u800c\u4e14\u53f3\u5b69\u5b50\u672a\u88ab\u8bbf\u95ee if ( node . right && ! visited . has ( node . right )) { p = node . right ; visited . add ( node . right ); } else { // \u4ee5\u4e0b\u4e3a\u601d\u8def\u56fe\u4e2d\u5173\u952e\u903b\u8f91 if ( node . left ) { let p = node . left ; while ( p . right ) { p = p . right ; } p . right = node . right ; node . right = node . left ; node . left = null ; } stack . pop (); } } };","title":"#\u975e\u9012\u5f52\u65b9\u5f0f"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#no4-ii","text":"\u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570 n\uff0c\u751f\u6210\u6240\u6709\u7531 1 ... n \u4e3a\u8282\u70b9\u6240\u7ec4\u6210\u7684\u4e8c\u53c9\u641c\u7d22\u6811\u3002 \u793a\u4f8b: \u8f93\u5165: 3 \u8f93\u51fa: [ [1,null,3,2], [3,2,null,1], [3,1,null,null,2], [2,1,3], [1,null,2,null,3] ] \u89e3\u91ca: \u4ee5\u4e0a\u7684\u8f93\u51fa\u5bf9\u5e94\u4ee5\u4e0b 5 \u79cd\u4e0d\u540c\u7ed3\u6784\u7684\u4e8c\u53c9\u641c\u7d22\u6811\uff1a 1 3 3 2 1 \\ / / / \\ \\ 3 2 1 1 3 2 / / \\ \\ 2 1 2 3 \u6765\u6e90: LeetCode\u7b2c95\u9898","title":"#No.4 \u4e0d\u540c\u7684\u4e8c\u53c9\u641c\u7d22\u6811II"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_40","text":"\u9012\u5f52\u521b\u5efa\u5b50\u6811 /** * @param {number} n * @return {TreeNode[]} */ var generateTrees = function ( n ) { let help = ( start , end ) => { if ( start > end ) return [ null ]; if ( start === end ) return [ new TreeNode ( start )]; let res = []; for ( let i = start ; i <= end ; i ++ ) { // \u5de6\u5b69\u5b50\u96c6 let leftNodes = help ( start , i - 1 ); // \u53f3\u5b69\u5b50\u96c6 let rightNodes = help ( i + 1 , end ); for ( let j = 0 ; j < leftNodes . length ; j ++ ) { for ( let k = 0 ; k < rightNodes . length ; k ++ ) { let root = new TreeNode ( i ); root . left = leftNodes [ j ]; root . right = rightNodes [ k ]; res . push ( root ); } } } return res ; } if ( n == 0 ) return []; return help ( 1 , n ); };","title":"#\u9012\u5f52\u89e3\u6cd5"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_41","text":"var generateTrees = function ( n ) { let clone = ( node , offset ) => { if ( node == null ) return null ; let newnode = new TreeNode ( node . val + offset ); newnode . left = clone ( node . left , offset ); newnode . right = clone ( node . right , offset ); return newnode ; } if ( n == 0 ) return []; let dp = []; dp [ 0 ] = [ null ]; // i \u662f\u5b50\u95ee\u9898\u4e2d\u7684\u8282\u70b9\u4e2a\u6570\uff0c\u5b50\u95ee\u9898: [1], [1,2], [1,2,3]...\u9010\u6b65\u9012\u589e\uff0c\u76f4\u5230[1,2,3...,n] for ( let i = 1 ; i <= n ; i ++ ) { dp [ i ] = []; for ( let j = 1 ; j <= i ; j ++ ) { // \u5de6\u5b50\u6811\u96c6 for ( let leftNode of dp [ j - 1 ]) { // \u53f3\u5b50\u6811\u96c6 for ( let rightNode of dp [ i - j ]) { let node = new TreeNode ( j ); // \u5de6\u5b50\u6811\u7ed3\u6784\u5171\u4eab node . left = leftNode ; // \u53f3\u5b50\u6811\u65e0\u6cd5\u5171\u4eab\uff0c\u4f46\u53ef\u4ee5\u501f\u7528\u8282\u70b9\u4e2a\u6570\u76f8\u540c\u7684\u6811\uff0c\u6bcf\u4e2a\u8282\u70b9\u589e\u52a0\u4e00\u4e2a\u504f\u79fb\u91cf node . right = clone ( rightNode , j ); dp [ i ]. push ( node ); } } } } return dp [ n ]; };","title":"#\u975e\u9012\u5f52\u89e3\u6cd5"},{"location":"algre/11-%E4%BA%8C%E5%8F%89%E6%A0%91/#_42","text":"","title":"\u6df1\u5ea6/\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22"},{"location":"algre/K-means/","text":"K-means \u805a\u7c7b\u7b97\u6cd5 \u00b6 \u5728\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u7684\u5e2e\u52a9\u4e0b\u6211\u4eec\u80fd\u591f\u5904\u7406\u4f53\u91cf\u5de8\u5927\u7684\u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u5411\u6570\u636e\u8be2\u95ee\u4e00\u7cfb\u5217\u7684\u95ee\u9898\uff0c\u5e0c\u671b\u673a\u5668\u5b66\u4e60\u80fd\u7ed9\u51fa\u7b54\u6848\u3002\u6bd4\u5982\uff1a\u67d0\u4e2a\u6570\u636e\u70b9\u548c\u54ea\u4e9b\u76f8\u4f3c\uff1f\u901a\u8fc7\u5bf9\u8fd9\u4e9b\u6570\u636e\u7684\u5206\u6790\u80fd\u5426\u603b\u7ed3\u51fa\u67d0\u79cd\u6a21\u5f0f\uff1f\u7ed9\u51fa\u5386\u53f2\u8d8b\u52bf\u6570\u636e\u7684\u524d\u63d0\u4e0b\uff0c\u80fd\u5426\u5224\u65ad\u672a\u6765\u8d70\u52bf? \u8bf8\u5982\u6b64\u7c7b\u7684\u95ee\u9898\u90fd\u9002\u7528\u4e8e\u5728\u673a\u5668\u5b66\u4e60\u9886\u57df\u5bfb\u627e\u7b54\u6848\u3002 \u95ee\u9898\u6765\u6e90 \u00b6 \u4eca\u5929\u7684\u8bae\u9898\u662f\u600e\u4e48\u628a\u6570\u636e\u5206\u7c7b\u3002\u6bd4\u5982\uff0c\u4f60\u6b63\u5728\u4e3a\u4e00\u5bb6\u533b\u7597\u5f71\u50cf\u8bbe\u5907\u516c\u53f8\u5de5\u4f5c\uff0c\u5047\u5982\u4f60\u5df2\u7ecf\u627e\u5230\u4e86\u8bc6\u522b\u80bf\u7624\u7ec6\u80de\u7684\u65b9\u6cd5\uff0c\u4f46\u662f\u5982\u679c\u80fd\u6709\u4e00\u79cd\u65b9\u6cd5\u53ef\u4ee5\u627e\u51fa\u80bf\u7624\u7ec6\u80de\u7fa4\u7684\u4e2d\u5fc3\u4f4d\u7f6e\u5c31\u66f4\u597d\u4e86\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u4f7f\u7528\u673a\u5668\u4eba\u7cbe\u51c6\u5730\u8fbe\u5230\u76ee\u7684\u5730\u5e76\u6e05\u9664\u5b83\u4eec\u3002\u6211\u4eec\u9700\u8981\u627e\u51fa\u4e00\u79cd\u805a\u7c7b\u7b97\u6cd5\uff0c\u8fd9\u5c31\u662f\u4eca\u5929\u8981\u7279\u522b\u8ba8\u8bba\u7684 k-means\u3002 \u805a\u7c7b\u7b97\u6cd5 \u00b6 \u805a\u7c7b\u7b97\u6cd5\u901a\u5e38\u6765\u8bb2\u5c31\u662f\u8981\u6309\u7167\u76f8\u4f3c\u6027\u7ed9\u6570\u636e\u5206\u7c7b\u3002\u5982\u679c\u4f60\u662f\u4e00\u4e2a\u7535\u5546\u7ecf\u8425\u8005\uff0c\u5c31\u53ef\u4ee5\u7528\u805a\u7c7b\u7b97\u6cd5\u8bc6\u522b\u51fa\u5404\u79cd\u8d2d\u7269\u8005\u7684\u7c7b\u578b\u3002\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u6709\u4e00\u79cd\u987e\u5ba2\u5728\u6d4f\u89c8\u4e09\u4e94\u4e2a\u4ea7\u54c1\u9875\u9762\u4e4b\u540e\u5c31\u4f1a\u4e0b\u5355\u8d2d\u4e70\uff0c\u53e6\u5916\u4e00\u7ec4\u7528\u6237\u53ef\u80fd\u9700\u8981\u6d4f\u89c8\u591a\u8fbe15\u4e2a\u9875\u9762\u8fd8\u8981\u770b\u5f88\u591a\u8bc4\u8bba\u624d\u51b3\u5b9a\u8d2d\u4e70\uff0c\u800c\u4e14\u4f1a\u662f\u4e00\u5355\u9ad8\u4ef7\u503c\u7684\u8d2d\u4e70\u884c\u4e3a\uff0c\u53e6\u5916\u4f60\u53ef\u80fd\u8fd8\u4f1a\u6ce8\u610f\u5230\u6709\u4e00\u7ec4\u51b2\u52a8\u6d88\u8d39\u578b\u7684\u7528\u6237\uff0c\u4ed6\u4eec\u4e0d\u7528\u6d4f\u89c8\u592a\u6df1\u5165\u5c31\u4f1a\u53d1\u751f\u591a\u6b21\u5c0f\u989d\u8d2d\u4e70\u884c\u4e3a\u3002\u4e00\u65e6\u5b8c\u6210\u4e86\u5bf9\u8fd9\u4e9b\u7ebf\u4e0a\u6d88\u8d39\u8005\u7684\u4eba\u53e3\u8c03\u67e5\uff0c\u4f60\u5c31\u80fd\u66f4\u597d\u5730\u4f18\u5316\u7ad9\u70b9\u63d0\u9ad8\u9500\u552e\u989d\u3002\u56e0\u4e3a\u77e5\u9053\u4e86\u81ea\u5df1\u7684\u5ba2\u6237\u4e2d\u5b58\u5728\u51b2\u52a8\u578b\u6d88\u8d39\u8005\uff0c\u4f60\u5c31\u53ef\u4ee5\u9488\u5bf9\u6027\u5730\u6dfb\u52a0\u4e00\u4e9b\u529f\u80fd\u523a\u6fc0\u8fd9\u90e8\u5206\u6d88\u8d39\u8005\u3002 k-means \u00b6 \u548c\u8fd1\u90bb\u7b97\u6cd5\uff08k-nearest-neighbor\uff09\u4e00\u6837\uff0ck-means \u4e2d\u7684 k \u4e5f\u662f\u4e00\u4e2a\u6570\u91cf\u503c\uff0c\u662f\u7b97\u6cd5\u4e2d\u7684\u91cd\u8981\u53c2\u6570\u3002\u9700\u8981\u7279\u522b\u6307\u51fa\u7684\u662f\uff0c\u8fd9\u91cc\u7684 \u201ck\u201d \u5c31\u662f\u6211\u4eec\u8981\u5728\u6570\u636e\u4e2d\u627e\u51fa\u6765\u7684\u7c07\uff08\u5206\u7ec4\uff09\u7684\u6570\u91cf\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u5f88\u96be\u5728\u95ee\u9898\u89e3\u51b3\u524d\u77e5\u6653\u8fd9\u4e2a\u6570\u91cf\u503c\uff0c\u6240\u4ee5 k-means \u7b97\u6cd5\u901a\u5e38\u9700\u8981\u5728**\u53e6\u5916\u4e00\u4e2a\u7b97\u6cd5\u7684\u5e2e\u52a9\u4e0b\u627e\u5230\u6700\u6070\u5f53\u7684 k \u503c**\u3002 \u95ee\u9898\u662f k-means \u7b97\u6cd5\u4f1a\u628a\u6570\u636e\u5206\u5272\u6210 k \u4e2a\u72ec\u7279\u7684\u7c07\uff0c \u4f46\u662f\u7b97\u6cd5\u4e0d\u4f1a\u544a\u8bc9\u4f60 k \u503c\u662f\u5426\u6b63\u786e\u3002\u6bd4\u5982\uff0c\u4f60\u7684\u6570\u636e\u5728\u7406\u60f3\u60c5\u51b5\u4e0b\u5e94\u8be5\u88ab\u5206\u62105\u4e2a\u7c07\uff0c\u4f46\u662f\u5982\u679c\u4eba\u4e3a\u5730\u628a k \u8bbe\u5b9a\u4e3a3\uff0c\u90a3\u4e48\u4f60\u5c31\u4f1a\u5f97\u52303\u4e2a\u7c07\uff0c\u5f53\u7136\u8fd9\u4e9b\u7c07\u7684\u89c4\u6a21\u80af\u5b9a\u5927\u4e86\u4e00\u4e9b\uff0c\u76f8\u5bf9\u4e8e\u7406\u60f3\u72b6\u6001\u4e0b\u76845\u4e2a\u7c07\uff0c\u7cbe\u786e\u5ea6\u4e5f\u4e0b\u964d\u4e86\u3002 \u8fd9\u4e2a\u7b97\u6cd5\u6709\u4f18\u70b9\u4e5f\u6709\u77ed\u677f\uff0c\u4e3a\u4e86\u4f7f\u7528 k-means \u7b97\u6cd5\u4f60\u9700\u8981\u9884\u5148\u77e5\u9053k\u7684\u503c\uff0c\u6216\u8005\u7528\u53e6\u5916\u7684\u7b97\u6cd5\u5e2e\u4f60\u731c\u6d4b\u8fd9\u4e2a\u503c\u3002 k-means \u53ea\u662f\u5e2e\u4f60\u628a\u6570\u636e\u5206\u5230\u4e0d\u540c\u7684\u7c7b\u522b\u91cc\uff0c\u4f60\u8fd8\u9700\u8981\u505a\u4e9b\u989d\u5916\u7684\u5de5\u4f5c\u627e\u5230\u7c07\u7684\u5408\u9002\u6570\u76ee\u3002 \u5728\u4eca\u5929\u4f8b\u5b50\u4e2d\u6211\u4eec\u5148\u8bbe\u5b9a\u7c07\u7684\u6570\u76ee\u4e3a3\uff0c\u4e0b\u4e00\u7bc7\u6587\u7ae0\u5c06\u4f1a\u8ba8\u8bba\u81ea\u52a8\u731c\u6d4b k \u503c\u7684\u7b97\u6cd5\uff0c\u6700\u5e38\u7528\u5230\u7684\u5c31\u662f**\u8bef\u5dee\u5206\u6790\u6cd5**\u7ed3\u5408**\u53cd\u590d\u8c03\u7528 k-means \u7b97\u6cd5\u4ee5\u4f18\u5316\u7ed3\u679c**\uff0c\u4f7f\u8bef\u5dee\u6700\u5c0f\u5316\u3002 \u8fc7\u7a0b \u00b6 \u867d\u7136 k-means \u7b97\u6cd5\u7b80\u5355\uff0c\u4f46\u662f\u5982\u679c\u7528\u5728\u591a\u7ef4\u6570\u636e\u96c6\u4e0a\u4f1a\u8868\u73b0\u51fa\u5b83\u5f3a\u5927\u7684\u751f\u547d\u529b\u3002\u4eca\u5929\u6211\u4eec\u4f1a\u5904\u7406\u4e00\u7ec42\u7ef4\u6570\u636e\uff0c\u4e0b\u6b21\u6211\u4eec\u518d\u628a\u5b83\u505a\u7684\u590d\u6742\u4e9b\u3002 \u7b97\u6cd5\u8fc7\u7a0b\u5982\u4e0b\uff1a \u4ee5\u6563\u70b9\u56fe\u7684\u65b9\u5f0f\uff0c\u53ef\u89c6\u5316\u6570\u636e\u3002 \u521b\u5efa k \u4e2a\u65b0\u7684\u6570\u636e\u70b9\uff0c\u968f\u673a\u5206\u5e03\u5728\u56fe\u4e0a\uff0c\u628a\u8fd9\u4e9b\u6570\u636e\u70b9\u4f5c\u4e3a\u7c07\u7684\u201c\u91cd\u5fc3\u201d\uff0c\u4e5f\u79f0\u201c\u7c07\u91cd\u5fc3\u5907\u9009\u8005\u201d\u3002 \u91cd\u590d\u4e0b\u9762\u7684\u8fc7\u7a0b\uff1a \u628a\u8ddd\u79bb\u91cd\u5fc3\u6700\u8fd1\u7684\u90a3\u4e9b\u6570\u636e\u70b9\u5206\u914d\u7ed9\u5b83 \u79fb\u52a8\u91cd\u5fc3\u7684\u4f4d\u7f6e\u5230\u6240\u6709\u5c5e\u4e8e\u5b83\u7684\u6570\u636e\u70b9\u7684\u5e73\u5747\u4f4d\u7f6e\u4e0a \u5982\u679c\u91cd\u5fc3\u7684\u4f4d\u7f6e\u5728\u6700\u540e\u4e00\u6b65\u4e2d\u79fb\u52a8\u4e86\uff0c\u7ee7\u7eed\u91cd\u590d\u4e0a\u8bc9\u8fc7\u7a0b\uff0c\u5426\u5219\u9000\u51fa\u3002 \u8fd9\u662f\u4e00\u4e2a\u8fed\u4ee3\u8fc7\u7a0b\u3002\u53ef\u80fd\u4f1a\u8fed\u4ee3\u4e24\u4e09\u6b21\u751a\u81f3\u6570\u5341\u6b21\uff0c\u4f46\u662f\u6700\u7ec8\u4f60\u7684\u7c07\u91cd\u5fc3\u4f1a\u9760\u8fd1\u76ee\u7684\u5730\u5e76\u505c\u6b62\u79fb\u52a8\uff0c\u6700\u540e\u4f1a\u5f97\u5230\u4f60\u60f3\u8981\u7684\u7c07\u96c6\u5408\u3002 \u5c40\u9650\u6027 \u00b6 \u8be5\u7b97\u6cd5\u548c\u5f88\u591a\u6211\u4eec\u5728\u8fd9\u4e2a\u7cfb\u5217\u4e2d\u5c06\u8981\u8bb2\u5230\u7b97\u6cd5\u7684\u4e00\u6837\uff0c\u5bb9\u6613\u9677\u5165**\u5c40\u90e8\u6700\u4f18\u89e3**\u3002\u5982\u679c\u4f60\u591a\u8fd0\u884c\u4e0b\u9762\u7684\u4f8b\u5b50\u51e0\u6b21\uff0c\u5c31\u4f1a\u53d1\u73b0\u6bcf\u6b21\u5f97\u5230\u7684\u7ed3\u679c\u90fd\u4f1a\u6709\u5dee\u522b\uff0c\u8fd9\u610f\u5473\u7740\u4e00\u4e9b\u7ed3\u679c\u9677\u5165\u4e86\u4e0d\u540c\u7684\u5c40\u90e8\u6700\u4f18\u89e3\u3002 \u7b97\u6cd5\u4ece\u4e00\u4e9b\u968f\u673a\u7684\uff0c\u672c\u8eab\u5c31\u5bb9\u6613\u53d7\u5c40\u90e8\u6700\u4f18\u5f71\u54cd\u7684\u79cd\u5b50\u5f00\u59cb\uff0c\u56e0\u4e3a\u6c38\u8fdc\u4e0d\u77e5\u9053\u7b97\u6cd5\u5177\u4f53\u7684\u5f00\u59cb\u4f4d\u7f6e\u548c\u7ed3\u679c\u7684\u8d70\u5411\uff0c\u79cd\u5b50\u7684\u72b6\u6001\u4f1a\u5bfc\u81f4\u5c40\u90e8\u6700\u4f18\u8fd8\u662f\u5168\u5c40\u6700\u4f18\uff1f\u8fd9\u4e9b\u90fd\u65e0\u4ece\u77e5\u6653\u3002\u5c31\u50cf\u9057\u4f20\u7b97\u6cd5\u4e00\u6837\uff0c\u80fd\u8df3\u51fa\u5c40\u90e8\u6700\u4f18\u89e3\u7684\u4e00\u4e2a\u65b9\u6cd5\u5c31\u662f\u4f7f\u201c\u89e3\u201d\u53d1\u751f\u4e00\u70b9\u513f\u7a81\u53d8\u3002\u5728\u6b64 k-means \u4f8b\u5b50\u4e2d, \u6211\u4eec\u4f1a\u5728\u7b97\u6cd5\u4e2d\u52a0\u5165\u4e00\u6761\u89c4\u5219\uff0c \u5c31\u662f\u5f53\u53d1\u73b0\u91cd\u5fc3\u6570\u636e\u70b9\u7ecf\u8fc7\u4e00\u8f6e\u8fed\u4ee3\u540e\u6ca1\u6709\u53d1\u751f\u79fb\u52a8\uff0c\u90a3\u4e48\u5c31\u5728\u4e00\u4e2a\u5728\u968f\u673a\u65b9\u5411\u4e0a\u63a8\u4e00\u628a \u3002\u7ed3\u679c\u5c31\u662f\u5b83\u53ef\u80fd\u53c8\u56de\u5230\u4e86\u539f\u6765\u7684\u4f4d\u7f6e\uff0c\u4e5f\u53ef\u80fd\u627e\u5230\u4e86\u4e00\u4e2a\u65b0\u7684\u89e3\u3002\u8fd9\u4e2a\u63a8\u52a8\u4e0d\u8981\u5927\u5230\u8ba9\u8ba1\u7b97\u4ece\u56de\u8d77\u70b9\uff0c\u4f46\u662f\u4e5f\u8981\u8db3\u591f\u628a\u5b83\u8e22\u51fa\u67d0\u4e2a\u5c40\u90e8\u6700\u4f18\u533a\u57df\u3002\u53e6\u5916\u4e00\u4e2a\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7684\u6280\u5de7\u88ab\u79f0\u4e4b\u4e3a\u201c\u673a\u5668\u59d4\u5458\u4f1a\u201d\uff0c\u5982\u679c\u4f60\u7684\u7b97\u6cd5\u80fd\u7ed3\u675f\u7684\u5f88\u5feb\u6216\u8005\u80fd\u4f7f\u7528\u5e76\u884c\u8ba1\u7b97\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6280\u5de7\u5f88\u7ba1\u7528\u3002\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u6211\u4eec\u8fd0\u884c k-means \u7b97\u6cd53\u6b21\uff0c5\u6b21\uff0c51\u6b21\u621610000\u6b21\uff0c\u9009\u62e9\u90a3\u4e9b\u6700\u7ecf\u5e38\u5f97\u5230\u7684\u89e3\u3002\u201c\u673a\u5668\u59d4\u5458\u4f1a\u201d \u662f\u6307\u4e00\u4e9b\u4eba\u9009\u62e9\u5728\u4e0d\u540c\u786c\u4ef6\u4e0a\u8fd0\u884c\u5e76\u884c\u7b97\u6cd5\uff0c\u4e00\u4e2a\u5b57\u9762\u4e0a\u7684\u673a\u5668\u59d4\u5458\u4f1a\u80fd\u7ed9\u8fd9\u4e9b\u201c\u89e3\u201d\u6295\u7968\u3002 \u4ee3\u7801 \u00b6 \u6211\u4eec\u5f00\u59cb\u4ee3\u7801\u90e8\u5206\uff0c\u548c\u81f3\u4eca\u4e3a\u6b62\u7684\u5176\u4ed6\u4f8b\u5b50\u4e0d\u540c\uff0c\u6211\u4f1a\u653e\u5f03\u9762\u5411\u5bf9\u8c61\u7684\u65b9\u6cd5\u800c\u91c7\u7528\u76f4\u63a5\u4e86\u5f53\u7684\u7b56\u7565\u3002\u89e3\u51b3\u95ee\u9898\u7684\u65b9\u6cd5\u6709\u5f88\u591a\uff0c\u6211\u559c\u6b22OOP\uff0c\u4f46\u662f\u91cd\u70b9\u662f\u4e0d\u8981\u592a\u4f9d\u8d56\u4e8e\u4e60\u60ef\uff0c\u8fd8\u6709\u5c31\u662f\u6211\u4eec\u5728\u4f8b\u5b50\u4e2d\u4f7f\u7528\u7684\u6570\u636e\u53ea\u662f\u4e8c\u7ef4\u7684\uff0c\u6211\u613f\u610f\u628a\u8fd9\u4e2a\u7b97\u6cd5\u5199\u6210\u53ef\u4ee5\u5904\u7406\u4efb\u4f55\u7ef4\u5ea6\u7684\u6570\u636e\u3002\u73b0\u5728\u6765\u770b\u770b\u6211\u4eec\u8981\u4f7f\u7528\u5230\u7684\u6570\u636e\uff0c\u975e\u5e38\u7b80\u5355\u7684\u6570\u7ec4\uff0c\u6bcf\u4e2a\u6570\u636e\u4e2d\u7684\u4e24\u4e2a\u503c\u5206\u522b\u8868\u793ax\uff0cy\u3002 var data = [ [ 1 , 2 ], [ 2 , 1 ], [ 2 , 4 ], [ 1 , 3 ], [ 2 , 2 ], [ 3 , 1 ], [ 1 , 1 ], [ 7 , 3 ], [ 8 , 2 ], [ 6 , 4 ], [ 7 , 4 ], [ 8 , 1 ], [ 9 , 2 ], [ 10 , 8 ], [ 9 , 10 ], [ 7 , 8 ], [ 7 , 9 ], [ 8 , 11 ], [ 9 , 9 ], ]; \u63a5\u4e0b\u6765\u6211\u4eec\u5b9a\u4e49\u4e24\u4e2a\u65b9\u6cd5\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u70b9\u7684\u5217\u8868\uff0c\u6211\u60f3\u77e5\u9053\u5176\u4e2d\u5728x\u548cy\u4e24\u4e2a\u65b9\u5411\u4e0a\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\uff0c\u8fd8\u6709\u5728\u4e24\u4e2a\u65b9\u5411\u4e0a\u7684\u8de8\u5ea6\uff08\u5faa\u73af\u6570\u7ec4\uff0c\u8ba1\u7b97\u6570\u7ec4\u5185\u90e8 X \u548c Y\u7684\u6700\u503c\uff0c\u7136\u540e\u6c42\u8303\u56f4\uff09\u3002\u6bd4\u5982\u5728X\u65b9\u5411\u4e0a\u662f\u4ece1\u523011\uff0c\u5728Y\u65b9\u5411\u4e0a\u662f\u4ece3\u52307\uff0c\u4e86\u89e3\u8fd9\u4e9b\u6709\u5229\u4e8e\u6211\u4eec\u968f\u673a\u4ea7\u751f\u7c07\u91cd\u5fc3\u65f6\u53c2\u8003\u3002 \u6211\u4eec\u5e94\u8be5\u5728\u5934\u8111\u4e2d\u59cb\u7ec8\u4fdd\u6301\u4e00\u4e2a\u7406\u5ff5\uff0c \u5c31\u662f\u8981\u8ba9\u51fd\u6570\u5728\u5904\u7406\u4e0d\u540c\u7ef4\u5ea6\u7684\u6570\u636e\u65f6\u5177\u6709\u901a\u7528\u6027 \uff1a // \u7ed9\u5b9a\u4e00\u4e2an\u7ef4\u6570\u7ec4extremes\uff0c\u83b7\u53d6\u8fd9\u4e2a\u6570\u7ec4\u5728\u4e0d\u540c\u7ef4\u5ea6\u7684\u8303\u56f4\u6570\u7ec4 ranges \u4f8b\u5982\u4e0a\u9762\u7684\u6570\u7ec4 [1, 11]; function getDataRanges ( extremes ) { var ranges = []; for ( var dimension in extremes ) { ranges [ dimension ] = extremes [ dimension ]. max - extremes [ dimension ]. min ; } return ranges ; } // \u628a\u6bcf\u4e00\u4e2a\u7ef4\u5ea6\u7684\u53c2\u6570\u63d0\u53d6\u6210\u4e3a\u516c\u5171\u6570\u636e\uff0c\u83b7\u53d6\u516c\u5171\u6570\u7ec4\u7684\u6700\u503c\uff0c\u518d\u4f7f\u7528\u4e0a\u9762\u7684\u51fd\u6570\u83b7\u53d6\u4e0d\u540c\u7ef4\u5ea6\u7684\u8303\u56f4\u3002\u5728\u8fd9\u4e2a\u8303\u56f4\u4e2d\u8fdb\u884c\u5dee\u503c\uff0c\u9ed8\u8ba4k\uff0c\u8ba1\u7b97\u9ed8\u8ba4\u4e2d\u5fc3\u7684\u5e73\u5747\u503c\u3002 function getDataExtremes ( points ) { var extremes = []; for ( var i in data ) { var point = data [ i ]; for ( var dimension in point ) { // \u8bbe\u7f6e\u9ed8\u8ba4\u7684\u6700\u503c if ( ! extremes [ dimension ] ) { extremes [ dimension ] = { min : 1000 , max : 0 }; } // \u5982\u679c\u4e00\u4e2a\u503c\u5c0f\u4e8e\u6700\u503c\uff0c\u8fdb\u884c\u53d6\u4ee3 if ( point [ dimension ] < extremes [ dimension ]. min ) { extremes [ dimension ]. min = point [ dimension ]; } if ( point [ dimension ] > extremes [ dimension ]. max ) { extremes [ dimension ]. max = point [ dimension ]; } } } // \u6700\u7ec8\u8fd4\u56de\u8fd9\u4e2a\u6570\u7ec4\u7684\u6700\u503c\u96c6\u5408 return extremes ; } getDataExtremes() \u51fd\u6570\u7528\u6765\u904d\u5386\u6bcf\u4e00\u4e2a\u6570\u636e\u70b9\u5e76\u5728\u6240\u6709\u7ef4\u5ea6\u4e0a\u627e\u51fa\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c(\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u91cc\u6709\u4e2a\u4e00\u4e2a\u786c\u7f16\u7801\u7684\u6570\u503c\u201c1000\u201d\uff0c\u4f60\u9700\u8981\u6839\u636e\u5177\u4f53\u60c5\u51b5\u505a\u6539\u53d8\uff09\u3002 getDataRanges() \u51fd\u6570\u7528\u6765\u8f85\u52a9\u8fd4\u56de\u6bcf\u4e2a\u7ef4\u5ea6\u7684\u8303\u56f4\uff08\u6700\u5927\u503c\u51cf\u53bb\u6700\u5c0f\u503c\uff09\u3002 \u4e0b\u4e00\u6b65\u6211\u4eec\u5b9a\u4e49 k \u4e2a\u7c07\u5e76\u521d\u59cb\u5176\u968f\u673a\u7684\u91cd\u5fc3\u4f4d\u7f6e function initMeans ( k ) { if ( ! k ) { k = 3 ; } while ( k -- ) { var mean = []; for ( var dimension in dataExtremes ) { mean [ dimension ] = dataExtremes [ dimension ]. min + ( Math . random () * dataRange [ dimension ]); } means . push ( mean ); } return means ; }; \u7528\u8be5\u65b9\u6cd5\u6211\u4eec\u53ef\u4ee5\u5728\u6570\u636e\u96c6\u8303\u56f4\u4e4b\u5185\u968f\u673a\u5730\u751f\u6210\u51e0\u4e2a\u65b0\u7684\u6570\u636e\u70b9\uff0c\u4e00\u65e6\u6211\u4eec\u62e5\u6709\u4e86\u8fd9\u4e9b\u50cf\u79cd\u5b50\u4e00\u6837\u7684\u91cd\u5fc3\uff0c\u5c31\u53ef\u4ee5\u8fdb\u5165k-means\u5faa\u73af\u8fc7\u7a0b\u4e86\u3002\u5982\u524d\u6240\u8ff0\uff0c \u8be5\u5faa\u73af\u8fc7\u7a0b\u5305\u62ec\u9996\u6b21\u4e3a\u91cd\u5fc3\u5206\u914d\u6570\u636e\u96c6\u91cc\u79bb\u8be5\u91cd\u5fc3\u6700\u8fd1\u7684\u90a3\u4e9b\u70b9\u7ed9\u5b83\uff0c\u7136\u540e\u79fb\u52a8\u91cd\u5fc3\u4f4d\u7f6e\u5230\u8fbe\u8fd9\u4e9b\u70b9\u7684\u5e73\u5747\u91cd\u5fc3\u4f4d\u7f6e\uff0c\u91cd\u590d\u6b64\u8fc7\u7a0b\u76f4\u81f3\u91cd\u5fc3\u505c\u6b62\u79fb\u52a8\u3002 function makeAssignments () { for ( var i in data ) { var point = data [ i ]; var distances = []; for ( var j in means ) { var mean = means [ j ]; var sum = 0 ; for ( var dimension in point ) { var difference = point [ dimension ] - mean [ dimension ]; difference *= difference ; sum += difference ; } distances [ j ] = Math . sqrt ( sum ); } assignments [ i ] = distances . indexOf ( Math . min . apply ( null , distances ) ); } } \u4e0a\u9762\u7684\u51fd\u6570\u4f1a\u88ab\u6211\u4eec\u7684\u904d\u5386\u51fd\u6570\u8c03\u7528\u4ee5\u8ba1\u7b97\u6bcf\u4e2a\u70b9\u4e4b\u95f4\u7684\u6b27\u51e0\u91cc\u5fb7\u8ddd\u79bb\u548c\u7c07\u7684\u91cd\u5fc3\u4f4d\u7f6e\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8be5\u7b97\u6cd5\u4f1a\u904d\u5386\u6bcf\u4e00\u4e2a\u70b9\u5230\u7c07\u91cd\u5fc3\u7684\u8ddd\u79bb\uff0c\u8fd9\u662f\u4e00\u4e2a\u8ba1\u7b97\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(k*n) \u7684\u7b97\u6cd5\uff0c\u590d\u6742\u5ea6\u4e0d\u662f\u5f88\u6050\u6016\uff0c\u4f46\u662f\u5982\u679c\u6570\u636e\u96c6\u6bd4\u8f83\u5e9e\u5927\u6216\u8005\u7c07\u7684\u6570\u76ee\u8f83\u591a\uff0c\u53ef\u80fd\u8ba1\u7b97\u5c31\u6bd4\u8f83\u5bc6\u96c6\u4e86\u3002\u4e0d\u8fc7\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u9014\u5f84\u6765\u4f18\u5316\uff0c\u6211\u4eec\u4f1a\u5728\u540e\u7eed\u6587\u7ae0\u4e2d\u8c08\u5230\u3002\u6709\u4e00\u4e2a\u6211\u4eec\u73b0\u5728\u5c31\u53ef\u4ee5\u7740\u624b\u5904\u7406\u7684\u662fMath.sqrt()\u7684\u6548\u7387\u95ee\u9898\uff0c\u5176\u5b9e\u8fd9\u4e2a\u8c03\u7528\u4e0d\u5fc5\u51fa\u73b0\u5728\u5bf9\u6bcf\u4e2a\u70b9\u7684\u8fed\u4ee3\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\uff0c\u4e00\u65e6\u786e\u5b9a\u4e86\u5206\u914d\u5217\u8868\uff0c\u672c\u4f8b\u4e2d\u8fd9\u4e2a\u5217\u8868\u5c31\u662f\u4e00\u7cfb\u5217\u70b9\u7684\u7d22\u5f15\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u7528\u6240\u6709\u70b9\u4f4d\u7f6e\u7684\u5e73\u5747\u503c\u6765\u66f4\u65b0\u7c07\u91cd\u5fc3\u7684\u4f4d\u7f6e\u4e86\u3002 \u8bd1\u8005\u6ce8\uff1a \u6b27\u51e0\u91cc\u5fb7\u8ddd\u79bb\u662f\u6307\u5728\u6b27\u5f0f\u7a7a\u95f4\u4e2d\u4e24\u70b9\u95f4\u7684\u8ddd\u79bb\uff0c\u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b\uff0c\u5047\u8bbep\uff0cq\u4e24\u70b9\u4e3a\u6b27\u5f0f\u7a7a\u95f4\u4e2d\u7684\u4e24\u4e2a\u70b9\uff0c\u5176\u5404\u81ea\u7684\u7a7a\u95f4\u5750\u6807\u4e3a\uff1a p(p1,p2,p3,... pn) q(q1,q2,q3,... qn) \u5219\u4e24\u70b9\u95f4\u7684\u8ddd\u79bb\u53ef\u8868\u793a\u4e3a\uff1a function moveMeans () { makeAssignments (); var sums = Array ( means . length ); var counts = Array ( means . length ); var moved = false ; for ( var j in means ) { counts [ j ] = 0 ; sums [ j ] = Array ( means [ j ]. length ); for ( var dimension in means [ j ]) { sums [ j ][ dimension ] = 0 ; } } for ( var point_index in assignments ){ var mean_index = assignments [ point_index ]; var point = data [ point_index ]; var mean = means [ mean_index ]; counts [ mean_index ] ++ ; for ( var dimension in mean ){ sums [ mean_index ][ dimension ] += point [ dimension ]; } } for ( var mean_index in sums ){ // console.log(counts[mean_index]); if ( 0 === counts [ mean_index ] ) { sums [ mean_index ] = means [ mean_index ]; // console.log(\"Mean with no points\"); // console.log(sums[mean_index]); for ( var dimension in dataExtremes ){ sums [ mean_index ][ dimension ] = dataExtremes [ dimension ]. min + ( Math . random () * dataRange [ dimension ] ); } continue ; } for ( var dimension in sums [ mean_index ]) { sums [ mean_index ][ dimension ] /= counts [ mean_index ]; } } if ( means . toString () !== sums . toString ()) { moved = true ; } means = sums ; return moved ; } moveMeans() \u65b9\u6cd5\u5728\u5f00\u59cb\u5904\u8c03\u7528 makeAssignments() \u3002\u4e00\u65e6\u5206\u914d\u5de5\u4f5c\u7ed3\u675f\uff0c\u6211\u4eec\u9700\u8981\u521d\u59cb\u5316\u4e24\u4e2a\u6570\u7ec4\uff1a\"sums\" \u548c \"counts\"\u3002\u65e2\u7136\u6211\u4eec\u8981\u8ba1\u7b97\u7b97\u6570\u5e73\u5747\u503c\uff0c\u6211\u4eec\u5c31\u9700\u8981\u77e5\u9053\u6240\u6709\u70b9\u5728\u6bcf\u4e2a\u7ef4\u5ea6\u4e0a\u7684\u603b\u548c\u8fd8\u6709\u70b9\u7684\u6570\u91cf\u3002 \u6211\u4eec\u542f\u7528\u4e09\u4e2a\u904d\u5386\u8fc7\u7a0b\uff1a \u4e00\uff1a\u904d\u5386\u6bcf\u4e2a\u7c07\u91cd\u5fc3\uff0c\u521d\u59cb\u5316\u6570\u7ec4sums\u5728\u6bcf\u4e2a\u7ef4\u5ea6\u4e0a\u7684\u503c\u4e3a0\uff0c\u4ee5\u53ca\u6570\u7ec4\u6570\u91cfcounts\u4e5f\u4e3a0\u3002\u6240\u4ee5sums\u6570\u7ec4\u662f\u4e00\u4e2a\u591a\u7ef4\u6570\u7ec4\uff0c\u539f\u56e0\u5c31\u5728\u4e8e\u6211\u4eec\u5904\u7406\u7684\u662f\u6bcf\u4e2a\u7c07\u4e2d\u7684\u6bcf\u4e2a\u70b9\u5728\u6bcf\u4e2a\u7ef4\u5ea6\u4e0a\u7684\u6570\u636e\u3002 \u4e8c\uff1a\u904d\u5386\u6bcf\u4e2a\u88ab\u5206\u914d\u7684\u6570\u636e\u70b9\u8ba1\u7b97\u51fa\u6bcf\u4e2a\u7c07\u91cd\u5fc3\u62e5\u6709\u7684\u6570\u636e\u70b9\u7684\u6570\u91cf\uff0c\u5e76\u4e14\u904d\u5386\u6570\u636e\u70b9\u7684\u6240\u6709\u7ef4\u5ea6\u586b\u5145 sums \u6570\u7ec4\u3002\u5230\u6b64\uff0c\u6211\u4eec\u62e5\u6709\u4e86\u4e3a\u7c07\u91cd\u5fc3\u8ba1\u7b97\u65b0\u4f4d\u7f6e\u7684\u6240\u6709\u6570\u636e\u3002\u904d\u5386\u7ed3\u679c\uff0c\u4e3a\u6bcf\u4e2a\u7c07\u91cd\u5fc3\u8ba1\u7b97\u65b0\u7684\u5e73\u5747\u4f4d\u7f6e\uff0c\u5e76\u628a\u91cd\u5fc3\u79fb\u52a8\u5230\u8be5\u4f4d\u7f6e\u3002 \u4e09\uff1a\u68c0\u6d4b\u7c07\u91cd\u5fc3\u662f\u5426\u8fd8\u6709\u6570\u636e\u88ab\u5206\u914d\u7ed9\u5b83\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u6211\u4eec\u5c31\u7ed9\u5b83\u4e00\u4e2a\u968f\u673a\u7684\u65b0\u4f4d\u7f6e\uff0c\u5c31\u662f\u6211\u4eec\u4e4b\u524d\u8bf4\u7684\u8e22\u5b83\u4e00\u811a\u3002 \u6700\u540e\uff0c\u5de1\u89c6\u6240\u6709\u7684\u7c07\u91cd\u5fc3\u662f\u5426\u8fd8\u6709\u79fb\u52a8\u60c5\u51b5\uff0c\u5e76\u8fd4\u56de\u771f\u6216\u5047\u3002\u4f7f\u7528\u5982\u4e0b setup \u51fd\u6570\u5f00\u59cb\u6267\u884c\u7b97\u6cd5\uff1a function setup () { canvas = document . getElementById ( 'canvas' ); ctx = canvas . getContext ( '2d' ); dataExtremes = getDataExtremes ( data ); dataRange = getDataRanges ( dataExtremes ); means = initMeans ( 3 ); makeAssignments (); draw (); setTimeout ( run , drawDelay ); } function run () { var moved = moveMeans (); draw (); if ( moved ) { setTimeout ( run , drawDelay ); } } \u6211\u4eec\u9700\u8981\u7684\u8bbe\u5b9a\u90fd\u5728 setup()\u4e2d\u521d\u59cb\u5316\u5b8c\u6210\uff0c\u4e4b\u540e run() \u51fd\u6570\u68c0\u6d4b\u7b97\u6cd5\u662f\u5426\u505c\u6b62\u4e86\uff0c\u5e76\u6839\u636e\u65f6\u949f\u7684\u95f4\u9694\u8bbe\u5b9a\u5faa\u73af\u6267\u884c\uff0c\u6211\u4eec\u4e5f\u5c31\u80fd\u5b9e\u65f6\u770b\u5230\u7b97\u6cd5\u7684\u8fd0\u884c\u60c5\u51b5\u4e86\u3002 k-medians \u00b6 \u4f7f\u7528\u52a0\u6743\u5e73\u5747\uff0c\u7ed3\u679c\u53ef\u80fd\u53d7\u5230\u6781\u503c\u5f71\u54cd\uff0c\u4f7f\u7528\u4e2d\u503c\u8fdb\u884c\u805a\u7c7b\u6548\u679c\u66f4\u597d\u3002 k-means\u7b97\u6cd5\u5b58\u5728\u4e00\u4e2a\u95ee\u9898\uff0c\u5176\u5b9e\u5e76\u4e0d\u662f\u7b97\u6cd5\u672c\u8eab\u7684\u95ee\u9898\uff0c\u800c\u662f\u7b97\u6570\u5e73\u5747\u503c\u81ea\u8eab\u5b58\u5728\u7684\u7f3a\u9677\uff0c\u5c31\u662f\u5f53\u6570\u636e\u4e2d\u51fa\u73b0\u4e86\u67d0\u4e9b\u6570\u636e\u98de\u5730\uff08\u504f\u79bb\u6574\u4f53\u6570\u636e\u5f88\u8fdc\uff09\uff0c\u4f1a\u7ed9\u7b97\u6570\u5e73\u5747\u503c\u5e26\u6765\u4e0d\u5229\u5f71\u54cd\u3002\u6bd4\u5982\uff0c\u4f60\u6240\u5728\u7684\u516c\u53f8\u6709\u4e94\u4e2a\u4eba\u6bcf\u5e74\u7684\u85aa\u6c34\u662f5\u4e07\u5143\uff0c\u4f46\u662f\u6709\u53e6\u5916\u4e00\u4e2a\u4eba\u6bcf\u5e74\u7684\u85aa\u6c34\u9ad8\u8fbe100\u4e07\uff0c\u90a3\u4e48\u85aa\u6c34\u4e2d\u95f4\u503c\u4f1a\u662f5\u4e07\uff08\u80fd\u4ee3\u8868\u516c\u53f8\u7684\u85aa\u6c34\u60c5\u51b5\uff09\uff0c\u800c\u5e73\u5747\u503c\u8fbe\u5230\u4e8620\u4e07\uff08\u5b8c\u5168\u4e0d\u80fd\u4ee3\u8868\u516c\u53f8\u85aa\u8d44\u60c5\u51b5\uff09\uff01 \u8fd9\u79cd\u95ee\u9898\u5f53\u7136\u4e5f\u4f1a\u5728k-means\u7b97\u6cd5\u4e2d\u53d1\u751f\u3002\u5982\u679c\u4f60\u62ff\u5230\u7684\u6570\u636e\u4e2d\u6709\u98de\u5730\u60c5\u51b5\uff0c\u4f60\u4f1a\u53d1\u73b0k-means\u7b97\u6cd5\u5f97\u5230\u7684\u7ed3\u679c\u5f88\u7cdf\u7cd5\uff0c\u4e00\u4e2a\u89e3\u51b3\u529e\u6cd5\u5c31\u662f\u4f7f\u7528 k-medians \u4ee3\u66ff k-means, \u4e8c\u8005\u7b97\u6cd5\u76f8\u4f3c\uff0c\u53ea\u662f\u7528\u4e2d\u503c\u4ee3\u66ff\u5e73\u5747\u503c\uff0c\u8fd9\u6837\u53ef\u4ee5\u6ee4\u6389\u6570\u636e\u98de\u5730\u7684\u5f71\u54cd\u3002\u53e6\u5916\uff0c\u6211\u8ba4\u4e3a\u5728\u8ba1\u7b97\u6548\u7387\u4e0a\u4e5f\u4f1a\u6bd4\u5e73\u5747\u503c\u6cd5\u66f4\u9ad8\u6548\u3002 \u7ed3\u679c \u00b6 k-meeans \u7b97\u6cd5\u5bf9\u4e8e\u6211\u4eec\u5b9a\u4e49\u7684\u6574\u6d01\u5e72\u51c0\u7684\u6570\u636e\u6765\u8bf4\u8fd0\u884c\u7684\u975e\u5e38\u5b8c\u7f8e\u3002\u5f88\u663e\u7136\uff0c\u5982\u679c\u6570\u636e\u810f\u4e71\uff0c\u4e5f\u4f1a\u50cf\u5176\u5b83\u7b97\u6cd5\u4e00\u6837\u9047\u5230\u56f0\u96be\u3002\u5982\u679c\u4e0d\u538c\u5176\u70e6\u5730\u591a\u8fd0\u884c\u51e0\u6b21\u6211\u7684\u4ee3\u7801\uff0c\u4f60\u4e5f\u4f1a\u9047\u5230\u9677\u4e8e\u5c40\u90e8\u6700\u4f18\u89e3\u7684\u95ee\u9898\u3002\u8fd9\u5c31\u9700\u8981\u901a\u8fc7\u201c\u673a\u5668\u59d4\u5458\u4f1a\u201d\u7684\u6280\u5de7\u6765\u89e3\u51b3\u4e86\uff1a\u901a\u8fc7\u4e00\u6b21\u6b21\u7684\u8fd0\u884c\uff0c \u90a3\u4e9b\u7ecf\u5e38\u5f97\u51fa\u7684\u7ed3\u679c\u5c31\u662f\u6211\u4eec\u8981\u7684\u7b54\u6848 \u3002","title":"K-means \u805a\u7c7b\u7b97\u6cd5"},{"location":"algre/K-means/#k-means","text":"\u5728\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u7684\u5e2e\u52a9\u4e0b\u6211\u4eec\u80fd\u591f\u5904\u7406\u4f53\u91cf\u5de8\u5927\u7684\u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u5411\u6570\u636e\u8be2\u95ee\u4e00\u7cfb\u5217\u7684\u95ee\u9898\uff0c\u5e0c\u671b\u673a\u5668\u5b66\u4e60\u80fd\u7ed9\u51fa\u7b54\u6848\u3002\u6bd4\u5982\uff1a\u67d0\u4e2a\u6570\u636e\u70b9\u548c\u54ea\u4e9b\u76f8\u4f3c\uff1f\u901a\u8fc7\u5bf9\u8fd9\u4e9b\u6570\u636e\u7684\u5206\u6790\u80fd\u5426\u603b\u7ed3\u51fa\u67d0\u79cd\u6a21\u5f0f\uff1f\u7ed9\u51fa\u5386\u53f2\u8d8b\u52bf\u6570\u636e\u7684\u524d\u63d0\u4e0b\uff0c\u80fd\u5426\u5224\u65ad\u672a\u6765\u8d70\u52bf? \u8bf8\u5982\u6b64\u7c7b\u7684\u95ee\u9898\u90fd\u9002\u7528\u4e8e\u5728\u673a\u5668\u5b66\u4e60\u9886\u57df\u5bfb\u627e\u7b54\u6848\u3002","title":"K-means \u805a\u7c7b\u7b97\u6cd5"},{"location":"algre/K-means/#_1","text":"\u4eca\u5929\u7684\u8bae\u9898\u662f\u600e\u4e48\u628a\u6570\u636e\u5206\u7c7b\u3002\u6bd4\u5982\uff0c\u4f60\u6b63\u5728\u4e3a\u4e00\u5bb6\u533b\u7597\u5f71\u50cf\u8bbe\u5907\u516c\u53f8\u5de5\u4f5c\uff0c\u5047\u5982\u4f60\u5df2\u7ecf\u627e\u5230\u4e86\u8bc6\u522b\u80bf\u7624\u7ec6\u80de\u7684\u65b9\u6cd5\uff0c\u4f46\u662f\u5982\u679c\u80fd\u6709\u4e00\u79cd\u65b9\u6cd5\u53ef\u4ee5\u627e\u51fa\u80bf\u7624\u7ec6\u80de\u7fa4\u7684\u4e2d\u5fc3\u4f4d\u7f6e\u5c31\u66f4\u597d\u4e86\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u4f7f\u7528\u673a\u5668\u4eba\u7cbe\u51c6\u5730\u8fbe\u5230\u76ee\u7684\u5730\u5e76\u6e05\u9664\u5b83\u4eec\u3002\u6211\u4eec\u9700\u8981\u627e\u51fa\u4e00\u79cd\u805a\u7c7b\u7b97\u6cd5\uff0c\u8fd9\u5c31\u662f\u4eca\u5929\u8981\u7279\u522b\u8ba8\u8bba\u7684 k-means\u3002","title":"\u95ee\u9898\u6765\u6e90"},{"location":"algre/K-means/#_2","text":"\u805a\u7c7b\u7b97\u6cd5\u901a\u5e38\u6765\u8bb2\u5c31\u662f\u8981\u6309\u7167\u76f8\u4f3c\u6027\u7ed9\u6570\u636e\u5206\u7c7b\u3002\u5982\u679c\u4f60\u662f\u4e00\u4e2a\u7535\u5546\u7ecf\u8425\u8005\uff0c\u5c31\u53ef\u4ee5\u7528\u805a\u7c7b\u7b97\u6cd5\u8bc6\u522b\u51fa\u5404\u79cd\u8d2d\u7269\u8005\u7684\u7c7b\u578b\u3002\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u6709\u4e00\u79cd\u987e\u5ba2\u5728\u6d4f\u89c8\u4e09\u4e94\u4e2a\u4ea7\u54c1\u9875\u9762\u4e4b\u540e\u5c31\u4f1a\u4e0b\u5355\u8d2d\u4e70\uff0c\u53e6\u5916\u4e00\u7ec4\u7528\u6237\u53ef\u80fd\u9700\u8981\u6d4f\u89c8\u591a\u8fbe15\u4e2a\u9875\u9762\u8fd8\u8981\u770b\u5f88\u591a\u8bc4\u8bba\u624d\u51b3\u5b9a\u8d2d\u4e70\uff0c\u800c\u4e14\u4f1a\u662f\u4e00\u5355\u9ad8\u4ef7\u503c\u7684\u8d2d\u4e70\u884c\u4e3a\uff0c\u53e6\u5916\u4f60\u53ef\u80fd\u8fd8\u4f1a\u6ce8\u610f\u5230\u6709\u4e00\u7ec4\u51b2\u52a8\u6d88\u8d39\u578b\u7684\u7528\u6237\uff0c\u4ed6\u4eec\u4e0d\u7528\u6d4f\u89c8\u592a\u6df1\u5165\u5c31\u4f1a\u53d1\u751f\u591a\u6b21\u5c0f\u989d\u8d2d\u4e70\u884c\u4e3a\u3002\u4e00\u65e6\u5b8c\u6210\u4e86\u5bf9\u8fd9\u4e9b\u7ebf\u4e0a\u6d88\u8d39\u8005\u7684\u4eba\u53e3\u8c03\u67e5\uff0c\u4f60\u5c31\u80fd\u66f4\u597d\u5730\u4f18\u5316\u7ad9\u70b9\u63d0\u9ad8\u9500\u552e\u989d\u3002\u56e0\u4e3a\u77e5\u9053\u4e86\u81ea\u5df1\u7684\u5ba2\u6237\u4e2d\u5b58\u5728\u51b2\u52a8\u578b\u6d88\u8d39\u8005\uff0c\u4f60\u5c31\u53ef\u4ee5\u9488\u5bf9\u6027\u5730\u6dfb\u52a0\u4e00\u4e9b\u529f\u80fd\u523a\u6fc0\u8fd9\u90e8\u5206\u6d88\u8d39\u8005\u3002","title":"\u805a\u7c7b\u7b97\u6cd5"},{"location":"algre/K-means/#k-means_1","text":"\u548c\u8fd1\u90bb\u7b97\u6cd5\uff08k-nearest-neighbor\uff09\u4e00\u6837\uff0ck-means \u4e2d\u7684 k \u4e5f\u662f\u4e00\u4e2a\u6570\u91cf\u503c\uff0c\u662f\u7b97\u6cd5\u4e2d\u7684\u91cd\u8981\u53c2\u6570\u3002\u9700\u8981\u7279\u522b\u6307\u51fa\u7684\u662f\uff0c\u8fd9\u91cc\u7684 \u201ck\u201d \u5c31\u662f\u6211\u4eec\u8981\u5728\u6570\u636e\u4e2d\u627e\u51fa\u6765\u7684\u7c07\uff08\u5206\u7ec4\uff09\u7684\u6570\u91cf\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u5f88\u96be\u5728\u95ee\u9898\u89e3\u51b3\u524d\u77e5\u6653\u8fd9\u4e2a\u6570\u91cf\u503c\uff0c\u6240\u4ee5 k-means \u7b97\u6cd5\u901a\u5e38\u9700\u8981\u5728**\u53e6\u5916\u4e00\u4e2a\u7b97\u6cd5\u7684\u5e2e\u52a9\u4e0b\u627e\u5230\u6700\u6070\u5f53\u7684 k \u503c**\u3002 \u95ee\u9898\u662f k-means \u7b97\u6cd5\u4f1a\u628a\u6570\u636e\u5206\u5272\u6210 k \u4e2a\u72ec\u7279\u7684\u7c07\uff0c \u4f46\u662f\u7b97\u6cd5\u4e0d\u4f1a\u544a\u8bc9\u4f60 k \u503c\u662f\u5426\u6b63\u786e\u3002\u6bd4\u5982\uff0c\u4f60\u7684\u6570\u636e\u5728\u7406\u60f3\u60c5\u51b5\u4e0b\u5e94\u8be5\u88ab\u5206\u62105\u4e2a\u7c07\uff0c\u4f46\u662f\u5982\u679c\u4eba\u4e3a\u5730\u628a k \u8bbe\u5b9a\u4e3a3\uff0c\u90a3\u4e48\u4f60\u5c31\u4f1a\u5f97\u52303\u4e2a\u7c07\uff0c\u5f53\u7136\u8fd9\u4e9b\u7c07\u7684\u89c4\u6a21\u80af\u5b9a\u5927\u4e86\u4e00\u4e9b\uff0c\u76f8\u5bf9\u4e8e\u7406\u60f3\u72b6\u6001\u4e0b\u76845\u4e2a\u7c07\uff0c\u7cbe\u786e\u5ea6\u4e5f\u4e0b\u964d\u4e86\u3002 \u8fd9\u4e2a\u7b97\u6cd5\u6709\u4f18\u70b9\u4e5f\u6709\u77ed\u677f\uff0c\u4e3a\u4e86\u4f7f\u7528 k-means \u7b97\u6cd5\u4f60\u9700\u8981\u9884\u5148\u77e5\u9053k\u7684\u503c\uff0c\u6216\u8005\u7528\u53e6\u5916\u7684\u7b97\u6cd5\u5e2e\u4f60\u731c\u6d4b\u8fd9\u4e2a\u503c\u3002 k-means \u53ea\u662f\u5e2e\u4f60\u628a\u6570\u636e\u5206\u5230\u4e0d\u540c\u7684\u7c7b\u522b\u91cc\uff0c\u4f60\u8fd8\u9700\u8981\u505a\u4e9b\u989d\u5916\u7684\u5de5\u4f5c\u627e\u5230\u7c07\u7684\u5408\u9002\u6570\u76ee\u3002 \u5728\u4eca\u5929\u4f8b\u5b50\u4e2d\u6211\u4eec\u5148\u8bbe\u5b9a\u7c07\u7684\u6570\u76ee\u4e3a3\uff0c\u4e0b\u4e00\u7bc7\u6587\u7ae0\u5c06\u4f1a\u8ba8\u8bba\u81ea\u52a8\u731c\u6d4b k \u503c\u7684\u7b97\u6cd5\uff0c\u6700\u5e38\u7528\u5230\u7684\u5c31\u662f**\u8bef\u5dee\u5206\u6790\u6cd5**\u7ed3\u5408**\u53cd\u590d\u8c03\u7528 k-means \u7b97\u6cd5\u4ee5\u4f18\u5316\u7ed3\u679c**\uff0c\u4f7f\u8bef\u5dee\u6700\u5c0f\u5316\u3002","title":"k-means"},{"location":"algre/K-means/#_3","text":"\u867d\u7136 k-means \u7b97\u6cd5\u7b80\u5355\uff0c\u4f46\u662f\u5982\u679c\u7528\u5728\u591a\u7ef4\u6570\u636e\u96c6\u4e0a\u4f1a\u8868\u73b0\u51fa\u5b83\u5f3a\u5927\u7684\u751f\u547d\u529b\u3002\u4eca\u5929\u6211\u4eec\u4f1a\u5904\u7406\u4e00\u7ec42\u7ef4\u6570\u636e\uff0c\u4e0b\u6b21\u6211\u4eec\u518d\u628a\u5b83\u505a\u7684\u590d\u6742\u4e9b\u3002 \u7b97\u6cd5\u8fc7\u7a0b\u5982\u4e0b\uff1a \u4ee5\u6563\u70b9\u56fe\u7684\u65b9\u5f0f\uff0c\u53ef\u89c6\u5316\u6570\u636e\u3002 \u521b\u5efa k \u4e2a\u65b0\u7684\u6570\u636e\u70b9\uff0c\u968f\u673a\u5206\u5e03\u5728\u56fe\u4e0a\uff0c\u628a\u8fd9\u4e9b\u6570\u636e\u70b9\u4f5c\u4e3a\u7c07\u7684\u201c\u91cd\u5fc3\u201d\uff0c\u4e5f\u79f0\u201c\u7c07\u91cd\u5fc3\u5907\u9009\u8005\u201d\u3002 \u91cd\u590d\u4e0b\u9762\u7684\u8fc7\u7a0b\uff1a \u628a\u8ddd\u79bb\u91cd\u5fc3\u6700\u8fd1\u7684\u90a3\u4e9b\u6570\u636e\u70b9\u5206\u914d\u7ed9\u5b83 \u79fb\u52a8\u91cd\u5fc3\u7684\u4f4d\u7f6e\u5230\u6240\u6709\u5c5e\u4e8e\u5b83\u7684\u6570\u636e\u70b9\u7684\u5e73\u5747\u4f4d\u7f6e\u4e0a \u5982\u679c\u91cd\u5fc3\u7684\u4f4d\u7f6e\u5728\u6700\u540e\u4e00\u6b65\u4e2d\u79fb\u52a8\u4e86\uff0c\u7ee7\u7eed\u91cd\u590d\u4e0a\u8bc9\u8fc7\u7a0b\uff0c\u5426\u5219\u9000\u51fa\u3002 \u8fd9\u662f\u4e00\u4e2a\u8fed\u4ee3\u8fc7\u7a0b\u3002\u53ef\u80fd\u4f1a\u8fed\u4ee3\u4e24\u4e09\u6b21\u751a\u81f3\u6570\u5341\u6b21\uff0c\u4f46\u662f\u6700\u7ec8\u4f60\u7684\u7c07\u91cd\u5fc3\u4f1a\u9760\u8fd1\u76ee\u7684\u5730\u5e76\u505c\u6b62\u79fb\u52a8\uff0c\u6700\u540e\u4f1a\u5f97\u5230\u4f60\u60f3\u8981\u7684\u7c07\u96c6\u5408\u3002","title":"\u8fc7\u7a0b"},{"location":"algre/K-means/#_4","text":"\u8be5\u7b97\u6cd5\u548c\u5f88\u591a\u6211\u4eec\u5728\u8fd9\u4e2a\u7cfb\u5217\u4e2d\u5c06\u8981\u8bb2\u5230\u7b97\u6cd5\u7684\u4e00\u6837\uff0c\u5bb9\u6613\u9677\u5165**\u5c40\u90e8\u6700\u4f18\u89e3**\u3002\u5982\u679c\u4f60\u591a\u8fd0\u884c\u4e0b\u9762\u7684\u4f8b\u5b50\u51e0\u6b21\uff0c\u5c31\u4f1a\u53d1\u73b0\u6bcf\u6b21\u5f97\u5230\u7684\u7ed3\u679c\u90fd\u4f1a\u6709\u5dee\u522b\uff0c\u8fd9\u610f\u5473\u7740\u4e00\u4e9b\u7ed3\u679c\u9677\u5165\u4e86\u4e0d\u540c\u7684\u5c40\u90e8\u6700\u4f18\u89e3\u3002 \u7b97\u6cd5\u4ece\u4e00\u4e9b\u968f\u673a\u7684\uff0c\u672c\u8eab\u5c31\u5bb9\u6613\u53d7\u5c40\u90e8\u6700\u4f18\u5f71\u54cd\u7684\u79cd\u5b50\u5f00\u59cb\uff0c\u56e0\u4e3a\u6c38\u8fdc\u4e0d\u77e5\u9053\u7b97\u6cd5\u5177\u4f53\u7684\u5f00\u59cb\u4f4d\u7f6e\u548c\u7ed3\u679c\u7684\u8d70\u5411\uff0c\u79cd\u5b50\u7684\u72b6\u6001\u4f1a\u5bfc\u81f4\u5c40\u90e8\u6700\u4f18\u8fd8\u662f\u5168\u5c40\u6700\u4f18\uff1f\u8fd9\u4e9b\u90fd\u65e0\u4ece\u77e5\u6653\u3002\u5c31\u50cf\u9057\u4f20\u7b97\u6cd5\u4e00\u6837\uff0c\u80fd\u8df3\u51fa\u5c40\u90e8\u6700\u4f18\u89e3\u7684\u4e00\u4e2a\u65b9\u6cd5\u5c31\u662f\u4f7f\u201c\u89e3\u201d\u53d1\u751f\u4e00\u70b9\u513f\u7a81\u53d8\u3002\u5728\u6b64 k-means \u4f8b\u5b50\u4e2d, \u6211\u4eec\u4f1a\u5728\u7b97\u6cd5\u4e2d\u52a0\u5165\u4e00\u6761\u89c4\u5219\uff0c \u5c31\u662f\u5f53\u53d1\u73b0\u91cd\u5fc3\u6570\u636e\u70b9\u7ecf\u8fc7\u4e00\u8f6e\u8fed\u4ee3\u540e\u6ca1\u6709\u53d1\u751f\u79fb\u52a8\uff0c\u90a3\u4e48\u5c31\u5728\u4e00\u4e2a\u5728\u968f\u673a\u65b9\u5411\u4e0a\u63a8\u4e00\u628a \u3002\u7ed3\u679c\u5c31\u662f\u5b83\u53ef\u80fd\u53c8\u56de\u5230\u4e86\u539f\u6765\u7684\u4f4d\u7f6e\uff0c\u4e5f\u53ef\u80fd\u627e\u5230\u4e86\u4e00\u4e2a\u65b0\u7684\u89e3\u3002\u8fd9\u4e2a\u63a8\u52a8\u4e0d\u8981\u5927\u5230\u8ba9\u8ba1\u7b97\u4ece\u56de\u8d77\u70b9\uff0c\u4f46\u662f\u4e5f\u8981\u8db3\u591f\u628a\u5b83\u8e22\u51fa\u67d0\u4e2a\u5c40\u90e8\u6700\u4f18\u533a\u57df\u3002\u53e6\u5916\u4e00\u4e2a\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7684\u6280\u5de7\u88ab\u79f0\u4e4b\u4e3a\u201c\u673a\u5668\u59d4\u5458\u4f1a\u201d\uff0c\u5982\u679c\u4f60\u7684\u7b97\u6cd5\u80fd\u7ed3\u675f\u7684\u5f88\u5feb\u6216\u8005\u80fd\u4f7f\u7528\u5e76\u884c\u8ba1\u7b97\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6280\u5de7\u5f88\u7ba1\u7528\u3002\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u6211\u4eec\u8fd0\u884c k-means \u7b97\u6cd53\u6b21\uff0c5\u6b21\uff0c51\u6b21\u621610000\u6b21\uff0c\u9009\u62e9\u90a3\u4e9b\u6700\u7ecf\u5e38\u5f97\u5230\u7684\u89e3\u3002\u201c\u673a\u5668\u59d4\u5458\u4f1a\u201d \u662f\u6307\u4e00\u4e9b\u4eba\u9009\u62e9\u5728\u4e0d\u540c\u786c\u4ef6\u4e0a\u8fd0\u884c\u5e76\u884c\u7b97\u6cd5\uff0c\u4e00\u4e2a\u5b57\u9762\u4e0a\u7684\u673a\u5668\u59d4\u5458\u4f1a\u80fd\u7ed9\u8fd9\u4e9b\u201c\u89e3\u201d\u6295\u7968\u3002","title":"\u5c40\u9650\u6027"},{"location":"algre/K-means/#_5","text":"\u6211\u4eec\u5f00\u59cb\u4ee3\u7801\u90e8\u5206\uff0c\u548c\u81f3\u4eca\u4e3a\u6b62\u7684\u5176\u4ed6\u4f8b\u5b50\u4e0d\u540c\uff0c\u6211\u4f1a\u653e\u5f03\u9762\u5411\u5bf9\u8c61\u7684\u65b9\u6cd5\u800c\u91c7\u7528\u76f4\u63a5\u4e86\u5f53\u7684\u7b56\u7565\u3002\u89e3\u51b3\u95ee\u9898\u7684\u65b9\u6cd5\u6709\u5f88\u591a\uff0c\u6211\u559c\u6b22OOP\uff0c\u4f46\u662f\u91cd\u70b9\u662f\u4e0d\u8981\u592a\u4f9d\u8d56\u4e8e\u4e60\u60ef\uff0c\u8fd8\u6709\u5c31\u662f\u6211\u4eec\u5728\u4f8b\u5b50\u4e2d\u4f7f\u7528\u7684\u6570\u636e\u53ea\u662f\u4e8c\u7ef4\u7684\uff0c\u6211\u613f\u610f\u628a\u8fd9\u4e2a\u7b97\u6cd5\u5199\u6210\u53ef\u4ee5\u5904\u7406\u4efb\u4f55\u7ef4\u5ea6\u7684\u6570\u636e\u3002\u73b0\u5728\u6765\u770b\u770b\u6211\u4eec\u8981\u4f7f\u7528\u5230\u7684\u6570\u636e\uff0c\u975e\u5e38\u7b80\u5355\u7684\u6570\u7ec4\uff0c\u6bcf\u4e2a\u6570\u636e\u4e2d\u7684\u4e24\u4e2a\u503c\u5206\u522b\u8868\u793ax\uff0cy\u3002 var data = [ [ 1 , 2 ], [ 2 , 1 ], [ 2 , 4 ], [ 1 , 3 ], [ 2 , 2 ], [ 3 , 1 ], [ 1 , 1 ], [ 7 , 3 ], [ 8 , 2 ], [ 6 , 4 ], [ 7 , 4 ], [ 8 , 1 ], [ 9 , 2 ], [ 10 , 8 ], [ 9 , 10 ], [ 7 , 8 ], [ 7 , 9 ], [ 8 , 11 ], [ 9 , 9 ], ]; \u63a5\u4e0b\u6765\u6211\u4eec\u5b9a\u4e49\u4e24\u4e2a\u65b9\u6cd5\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u70b9\u7684\u5217\u8868\uff0c\u6211\u60f3\u77e5\u9053\u5176\u4e2d\u5728x\u548cy\u4e24\u4e2a\u65b9\u5411\u4e0a\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\uff0c\u8fd8\u6709\u5728\u4e24\u4e2a\u65b9\u5411\u4e0a\u7684\u8de8\u5ea6\uff08\u5faa\u73af\u6570\u7ec4\uff0c\u8ba1\u7b97\u6570\u7ec4\u5185\u90e8 X \u548c Y\u7684\u6700\u503c\uff0c\u7136\u540e\u6c42\u8303\u56f4\uff09\u3002\u6bd4\u5982\u5728X\u65b9\u5411\u4e0a\u662f\u4ece1\u523011\uff0c\u5728Y\u65b9\u5411\u4e0a\u662f\u4ece3\u52307\uff0c\u4e86\u89e3\u8fd9\u4e9b\u6709\u5229\u4e8e\u6211\u4eec\u968f\u673a\u4ea7\u751f\u7c07\u91cd\u5fc3\u65f6\u53c2\u8003\u3002 \u6211\u4eec\u5e94\u8be5\u5728\u5934\u8111\u4e2d\u59cb\u7ec8\u4fdd\u6301\u4e00\u4e2a\u7406\u5ff5\uff0c \u5c31\u662f\u8981\u8ba9\u51fd\u6570\u5728\u5904\u7406\u4e0d\u540c\u7ef4\u5ea6\u7684\u6570\u636e\u65f6\u5177\u6709\u901a\u7528\u6027 \uff1a // \u7ed9\u5b9a\u4e00\u4e2an\u7ef4\u6570\u7ec4extremes\uff0c\u83b7\u53d6\u8fd9\u4e2a\u6570\u7ec4\u5728\u4e0d\u540c\u7ef4\u5ea6\u7684\u8303\u56f4\u6570\u7ec4 ranges \u4f8b\u5982\u4e0a\u9762\u7684\u6570\u7ec4 [1, 11]; function getDataRanges ( extremes ) { var ranges = []; for ( var dimension in extremes ) { ranges [ dimension ] = extremes [ dimension ]. max - extremes [ dimension ]. min ; } return ranges ; } // \u628a\u6bcf\u4e00\u4e2a\u7ef4\u5ea6\u7684\u53c2\u6570\u63d0\u53d6\u6210\u4e3a\u516c\u5171\u6570\u636e\uff0c\u83b7\u53d6\u516c\u5171\u6570\u7ec4\u7684\u6700\u503c\uff0c\u518d\u4f7f\u7528\u4e0a\u9762\u7684\u51fd\u6570\u83b7\u53d6\u4e0d\u540c\u7ef4\u5ea6\u7684\u8303\u56f4\u3002\u5728\u8fd9\u4e2a\u8303\u56f4\u4e2d\u8fdb\u884c\u5dee\u503c\uff0c\u9ed8\u8ba4k\uff0c\u8ba1\u7b97\u9ed8\u8ba4\u4e2d\u5fc3\u7684\u5e73\u5747\u503c\u3002 function getDataExtremes ( points ) { var extremes = []; for ( var i in data ) { var point = data [ i ]; for ( var dimension in point ) { // \u8bbe\u7f6e\u9ed8\u8ba4\u7684\u6700\u503c if ( ! extremes [ dimension ] ) { extremes [ dimension ] = { min : 1000 , max : 0 }; } // \u5982\u679c\u4e00\u4e2a\u503c\u5c0f\u4e8e\u6700\u503c\uff0c\u8fdb\u884c\u53d6\u4ee3 if ( point [ dimension ] < extremes [ dimension ]. min ) { extremes [ dimension ]. min = point [ dimension ]; } if ( point [ dimension ] > extremes [ dimension ]. max ) { extremes [ dimension ]. max = point [ dimension ]; } } } // \u6700\u7ec8\u8fd4\u56de\u8fd9\u4e2a\u6570\u7ec4\u7684\u6700\u503c\u96c6\u5408 return extremes ; } getDataExtremes() \u51fd\u6570\u7528\u6765\u904d\u5386\u6bcf\u4e00\u4e2a\u6570\u636e\u70b9\u5e76\u5728\u6240\u6709\u7ef4\u5ea6\u4e0a\u627e\u51fa\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c(\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u91cc\u6709\u4e2a\u4e00\u4e2a\u786c\u7f16\u7801\u7684\u6570\u503c\u201c1000\u201d\uff0c\u4f60\u9700\u8981\u6839\u636e\u5177\u4f53\u60c5\u51b5\u505a\u6539\u53d8\uff09\u3002 getDataRanges() \u51fd\u6570\u7528\u6765\u8f85\u52a9\u8fd4\u56de\u6bcf\u4e2a\u7ef4\u5ea6\u7684\u8303\u56f4\uff08\u6700\u5927\u503c\u51cf\u53bb\u6700\u5c0f\u503c\uff09\u3002 \u4e0b\u4e00\u6b65\u6211\u4eec\u5b9a\u4e49 k \u4e2a\u7c07\u5e76\u521d\u59cb\u5176\u968f\u673a\u7684\u91cd\u5fc3\u4f4d\u7f6e function initMeans ( k ) { if ( ! k ) { k = 3 ; } while ( k -- ) { var mean = []; for ( var dimension in dataExtremes ) { mean [ dimension ] = dataExtremes [ dimension ]. min + ( Math . random () * dataRange [ dimension ]); } means . push ( mean ); } return means ; }; \u7528\u8be5\u65b9\u6cd5\u6211\u4eec\u53ef\u4ee5\u5728\u6570\u636e\u96c6\u8303\u56f4\u4e4b\u5185\u968f\u673a\u5730\u751f\u6210\u51e0\u4e2a\u65b0\u7684\u6570\u636e\u70b9\uff0c\u4e00\u65e6\u6211\u4eec\u62e5\u6709\u4e86\u8fd9\u4e9b\u50cf\u79cd\u5b50\u4e00\u6837\u7684\u91cd\u5fc3\uff0c\u5c31\u53ef\u4ee5\u8fdb\u5165k-means\u5faa\u73af\u8fc7\u7a0b\u4e86\u3002\u5982\u524d\u6240\u8ff0\uff0c \u8be5\u5faa\u73af\u8fc7\u7a0b\u5305\u62ec\u9996\u6b21\u4e3a\u91cd\u5fc3\u5206\u914d\u6570\u636e\u96c6\u91cc\u79bb\u8be5\u91cd\u5fc3\u6700\u8fd1\u7684\u90a3\u4e9b\u70b9\u7ed9\u5b83\uff0c\u7136\u540e\u79fb\u52a8\u91cd\u5fc3\u4f4d\u7f6e\u5230\u8fbe\u8fd9\u4e9b\u70b9\u7684\u5e73\u5747\u91cd\u5fc3\u4f4d\u7f6e\uff0c\u91cd\u590d\u6b64\u8fc7\u7a0b\u76f4\u81f3\u91cd\u5fc3\u505c\u6b62\u79fb\u52a8\u3002 function makeAssignments () { for ( var i in data ) { var point = data [ i ]; var distances = []; for ( var j in means ) { var mean = means [ j ]; var sum = 0 ; for ( var dimension in point ) { var difference = point [ dimension ] - mean [ dimension ]; difference *= difference ; sum += difference ; } distances [ j ] = Math . sqrt ( sum ); } assignments [ i ] = distances . indexOf ( Math . min . apply ( null , distances ) ); } } \u4e0a\u9762\u7684\u51fd\u6570\u4f1a\u88ab\u6211\u4eec\u7684\u904d\u5386\u51fd\u6570\u8c03\u7528\u4ee5\u8ba1\u7b97\u6bcf\u4e2a\u70b9\u4e4b\u95f4\u7684\u6b27\u51e0\u91cc\u5fb7\u8ddd\u79bb\u548c\u7c07\u7684\u91cd\u5fc3\u4f4d\u7f6e\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8be5\u7b97\u6cd5\u4f1a\u904d\u5386\u6bcf\u4e00\u4e2a\u70b9\u5230\u7c07\u91cd\u5fc3\u7684\u8ddd\u79bb\uff0c\u8fd9\u662f\u4e00\u4e2a\u8ba1\u7b97\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(k*n) \u7684\u7b97\u6cd5\uff0c\u590d\u6742\u5ea6\u4e0d\u662f\u5f88\u6050\u6016\uff0c\u4f46\u662f\u5982\u679c\u6570\u636e\u96c6\u6bd4\u8f83\u5e9e\u5927\u6216\u8005\u7c07\u7684\u6570\u76ee\u8f83\u591a\uff0c\u53ef\u80fd\u8ba1\u7b97\u5c31\u6bd4\u8f83\u5bc6\u96c6\u4e86\u3002\u4e0d\u8fc7\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u9014\u5f84\u6765\u4f18\u5316\uff0c\u6211\u4eec\u4f1a\u5728\u540e\u7eed\u6587\u7ae0\u4e2d\u8c08\u5230\u3002\u6709\u4e00\u4e2a\u6211\u4eec\u73b0\u5728\u5c31\u53ef\u4ee5\u7740\u624b\u5904\u7406\u7684\u662fMath.sqrt()\u7684\u6548\u7387\u95ee\u9898\uff0c\u5176\u5b9e\u8fd9\u4e2a\u8c03\u7528\u4e0d\u5fc5\u51fa\u73b0\u5728\u5bf9\u6bcf\u4e2a\u70b9\u7684\u8fed\u4ee3\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\uff0c\u4e00\u65e6\u786e\u5b9a\u4e86\u5206\u914d\u5217\u8868\uff0c\u672c\u4f8b\u4e2d\u8fd9\u4e2a\u5217\u8868\u5c31\u662f\u4e00\u7cfb\u5217\u70b9\u7684\u7d22\u5f15\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u7528\u6240\u6709\u70b9\u4f4d\u7f6e\u7684\u5e73\u5747\u503c\u6765\u66f4\u65b0\u7c07\u91cd\u5fc3\u7684\u4f4d\u7f6e\u4e86\u3002 \u8bd1\u8005\u6ce8\uff1a \u6b27\u51e0\u91cc\u5fb7\u8ddd\u79bb\u662f\u6307\u5728\u6b27\u5f0f\u7a7a\u95f4\u4e2d\u4e24\u70b9\u95f4\u7684\u8ddd\u79bb\uff0c\u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b\uff0c\u5047\u8bbep\uff0cq\u4e24\u70b9\u4e3a\u6b27\u5f0f\u7a7a\u95f4\u4e2d\u7684\u4e24\u4e2a\u70b9\uff0c\u5176\u5404\u81ea\u7684\u7a7a\u95f4\u5750\u6807\u4e3a\uff1a p(p1,p2,p3,... pn) q(q1,q2,q3,... qn) \u5219\u4e24\u70b9\u95f4\u7684\u8ddd\u79bb\u53ef\u8868\u793a\u4e3a\uff1a function moveMeans () { makeAssignments (); var sums = Array ( means . length ); var counts = Array ( means . length ); var moved = false ; for ( var j in means ) { counts [ j ] = 0 ; sums [ j ] = Array ( means [ j ]. length ); for ( var dimension in means [ j ]) { sums [ j ][ dimension ] = 0 ; } } for ( var point_index in assignments ){ var mean_index = assignments [ point_index ]; var point = data [ point_index ]; var mean = means [ mean_index ]; counts [ mean_index ] ++ ; for ( var dimension in mean ){ sums [ mean_index ][ dimension ] += point [ dimension ]; } } for ( var mean_index in sums ){ // console.log(counts[mean_index]); if ( 0 === counts [ mean_index ] ) { sums [ mean_index ] = means [ mean_index ]; // console.log(\"Mean with no points\"); // console.log(sums[mean_index]); for ( var dimension in dataExtremes ){ sums [ mean_index ][ dimension ] = dataExtremes [ dimension ]. min + ( Math . random () * dataRange [ dimension ] ); } continue ; } for ( var dimension in sums [ mean_index ]) { sums [ mean_index ][ dimension ] /= counts [ mean_index ]; } } if ( means . toString () !== sums . toString ()) { moved = true ; } means = sums ; return moved ; } moveMeans() \u65b9\u6cd5\u5728\u5f00\u59cb\u5904\u8c03\u7528 makeAssignments() \u3002\u4e00\u65e6\u5206\u914d\u5de5\u4f5c\u7ed3\u675f\uff0c\u6211\u4eec\u9700\u8981\u521d\u59cb\u5316\u4e24\u4e2a\u6570\u7ec4\uff1a\"sums\" \u548c \"counts\"\u3002\u65e2\u7136\u6211\u4eec\u8981\u8ba1\u7b97\u7b97\u6570\u5e73\u5747\u503c\uff0c\u6211\u4eec\u5c31\u9700\u8981\u77e5\u9053\u6240\u6709\u70b9\u5728\u6bcf\u4e2a\u7ef4\u5ea6\u4e0a\u7684\u603b\u548c\u8fd8\u6709\u70b9\u7684\u6570\u91cf\u3002 \u6211\u4eec\u542f\u7528\u4e09\u4e2a\u904d\u5386\u8fc7\u7a0b\uff1a \u4e00\uff1a\u904d\u5386\u6bcf\u4e2a\u7c07\u91cd\u5fc3\uff0c\u521d\u59cb\u5316\u6570\u7ec4sums\u5728\u6bcf\u4e2a\u7ef4\u5ea6\u4e0a\u7684\u503c\u4e3a0\uff0c\u4ee5\u53ca\u6570\u7ec4\u6570\u91cfcounts\u4e5f\u4e3a0\u3002\u6240\u4ee5sums\u6570\u7ec4\u662f\u4e00\u4e2a\u591a\u7ef4\u6570\u7ec4\uff0c\u539f\u56e0\u5c31\u5728\u4e8e\u6211\u4eec\u5904\u7406\u7684\u662f\u6bcf\u4e2a\u7c07\u4e2d\u7684\u6bcf\u4e2a\u70b9\u5728\u6bcf\u4e2a\u7ef4\u5ea6\u4e0a\u7684\u6570\u636e\u3002 \u4e8c\uff1a\u904d\u5386\u6bcf\u4e2a\u88ab\u5206\u914d\u7684\u6570\u636e\u70b9\u8ba1\u7b97\u51fa\u6bcf\u4e2a\u7c07\u91cd\u5fc3\u62e5\u6709\u7684\u6570\u636e\u70b9\u7684\u6570\u91cf\uff0c\u5e76\u4e14\u904d\u5386\u6570\u636e\u70b9\u7684\u6240\u6709\u7ef4\u5ea6\u586b\u5145 sums \u6570\u7ec4\u3002\u5230\u6b64\uff0c\u6211\u4eec\u62e5\u6709\u4e86\u4e3a\u7c07\u91cd\u5fc3\u8ba1\u7b97\u65b0\u4f4d\u7f6e\u7684\u6240\u6709\u6570\u636e\u3002\u904d\u5386\u7ed3\u679c\uff0c\u4e3a\u6bcf\u4e2a\u7c07\u91cd\u5fc3\u8ba1\u7b97\u65b0\u7684\u5e73\u5747\u4f4d\u7f6e\uff0c\u5e76\u628a\u91cd\u5fc3\u79fb\u52a8\u5230\u8be5\u4f4d\u7f6e\u3002 \u4e09\uff1a\u68c0\u6d4b\u7c07\u91cd\u5fc3\u662f\u5426\u8fd8\u6709\u6570\u636e\u88ab\u5206\u914d\u7ed9\u5b83\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u6211\u4eec\u5c31\u7ed9\u5b83\u4e00\u4e2a\u968f\u673a\u7684\u65b0\u4f4d\u7f6e\uff0c\u5c31\u662f\u6211\u4eec\u4e4b\u524d\u8bf4\u7684\u8e22\u5b83\u4e00\u811a\u3002 \u6700\u540e\uff0c\u5de1\u89c6\u6240\u6709\u7684\u7c07\u91cd\u5fc3\u662f\u5426\u8fd8\u6709\u79fb\u52a8\u60c5\u51b5\uff0c\u5e76\u8fd4\u56de\u771f\u6216\u5047\u3002\u4f7f\u7528\u5982\u4e0b setup \u51fd\u6570\u5f00\u59cb\u6267\u884c\u7b97\u6cd5\uff1a function setup () { canvas = document . getElementById ( 'canvas' ); ctx = canvas . getContext ( '2d' ); dataExtremes = getDataExtremes ( data ); dataRange = getDataRanges ( dataExtremes ); means = initMeans ( 3 ); makeAssignments (); draw (); setTimeout ( run , drawDelay ); } function run () { var moved = moveMeans (); draw (); if ( moved ) { setTimeout ( run , drawDelay ); } } \u6211\u4eec\u9700\u8981\u7684\u8bbe\u5b9a\u90fd\u5728 setup()\u4e2d\u521d\u59cb\u5316\u5b8c\u6210\uff0c\u4e4b\u540e run() \u51fd\u6570\u68c0\u6d4b\u7b97\u6cd5\u662f\u5426\u505c\u6b62\u4e86\uff0c\u5e76\u6839\u636e\u65f6\u949f\u7684\u95f4\u9694\u8bbe\u5b9a\u5faa\u73af\u6267\u884c\uff0c\u6211\u4eec\u4e5f\u5c31\u80fd\u5b9e\u65f6\u770b\u5230\u7b97\u6cd5\u7684\u8fd0\u884c\u60c5\u51b5\u4e86\u3002","title":"\u4ee3\u7801"},{"location":"algre/K-means/#k-medians","text":"\u4f7f\u7528\u52a0\u6743\u5e73\u5747\uff0c\u7ed3\u679c\u53ef\u80fd\u53d7\u5230\u6781\u503c\u5f71\u54cd\uff0c\u4f7f\u7528\u4e2d\u503c\u8fdb\u884c\u805a\u7c7b\u6548\u679c\u66f4\u597d\u3002 k-means\u7b97\u6cd5\u5b58\u5728\u4e00\u4e2a\u95ee\u9898\uff0c\u5176\u5b9e\u5e76\u4e0d\u662f\u7b97\u6cd5\u672c\u8eab\u7684\u95ee\u9898\uff0c\u800c\u662f\u7b97\u6570\u5e73\u5747\u503c\u81ea\u8eab\u5b58\u5728\u7684\u7f3a\u9677\uff0c\u5c31\u662f\u5f53\u6570\u636e\u4e2d\u51fa\u73b0\u4e86\u67d0\u4e9b\u6570\u636e\u98de\u5730\uff08\u504f\u79bb\u6574\u4f53\u6570\u636e\u5f88\u8fdc\uff09\uff0c\u4f1a\u7ed9\u7b97\u6570\u5e73\u5747\u503c\u5e26\u6765\u4e0d\u5229\u5f71\u54cd\u3002\u6bd4\u5982\uff0c\u4f60\u6240\u5728\u7684\u516c\u53f8\u6709\u4e94\u4e2a\u4eba\u6bcf\u5e74\u7684\u85aa\u6c34\u662f5\u4e07\u5143\uff0c\u4f46\u662f\u6709\u53e6\u5916\u4e00\u4e2a\u4eba\u6bcf\u5e74\u7684\u85aa\u6c34\u9ad8\u8fbe100\u4e07\uff0c\u90a3\u4e48\u85aa\u6c34\u4e2d\u95f4\u503c\u4f1a\u662f5\u4e07\uff08\u80fd\u4ee3\u8868\u516c\u53f8\u7684\u85aa\u6c34\u60c5\u51b5\uff09\uff0c\u800c\u5e73\u5747\u503c\u8fbe\u5230\u4e8620\u4e07\uff08\u5b8c\u5168\u4e0d\u80fd\u4ee3\u8868\u516c\u53f8\u85aa\u8d44\u60c5\u51b5\uff09\uff01 \u8fd9\u79cd\u95ee\u9898\u5f53\u7136\u4e5f\u4f1a\u5728k-means\u7b97\u6cd5\u4e2d\u53d1\u751f\u3002\u5982\u679c\u4f60\u62ff\u5230\u7684\u6570\u636e\u4e2d\u6709\u98de\u5730\u60c5\u51b5\uff0c\u4f60\u4f1a\u53d1\u73b0k-means\u7b97\u6cd5\u5f97\u5230\u7684\u7ed3\u679c\u5f88\u7cdf\u7cd5\uff0c\u4e00\u4e2a\u89e3\u51b3\u529e\u6cd5\u5c31\u662f\u4f7f\u7528 k-medians \u4ee3\u66ff k-means, \u4e8c\u8005\u7b97\u6cd5\u76f8\u4f3c\uff0c\u53ea\u662f\u7528\u4e2d\u503c\u4ee3\u66ff\u5e73\u5747\u503c\uff0c\u8fd9\u6837\u53ef\u4ee5\u6ee4\u6389\u6570\u636e\u98de\u5730\u7684\u5f71\u54cd\u3002\u53e6\u5916\uff0c\u6211\u8ba4\u4e3a\u5728\u8ba1\u7b97\u6548\u7387\u4e0a\u4e5f\u4f1a\u6bd4\u5e73\u5747\u503c\u6cd5\u66f4\u9ad8\u6548\u3002","title":"k-medians"},{"location":"algre/K-means/#_6","text":"k-meeans \u7b97\u6cd5\u5bf9\u4e8e\u6211\u4eec\u5b9a\u4e49\u7684\u6574\u6d01\u5e72\u51c0\u7684\u6570\u636e\u6765\u8bf4\u8fd0\u884c\u7684\u975e\u5e38\u5b8c\u7f8e\u3002\u5f88\u663e\u7136\uff0c\u5982\u679c\u6570\u636e\u810f\u4e71\uff0c\u4e5f\u4f1a\u50cf\u5176\u5b83\u7b97\u6cd5\u4e00\u6837\u9047\u5230\u56f0\u96be\u3002\u5982\u679c\u4e0d\u538c\u5176\u70e6\u5730\u591a\u8fd0\u884c\u51e0\u6b21\u6211\u7684\u4ee3\u7801\uff0c\u4f60\u4e5f\u4f1a\u9047\u5230\u9677\u4e8e\u5c40\u90e8\u6700\u4f18\u89e3\u7684\u95ee\u9898\u3002\u8fd9\u5c31\u9700\u8981\u901a\u8fc7\u201c\u673a\u5668\u59d4\u5458\u4f1a\u201d\u7684\u6280\u5de7\u6765\u89e3\u51b3\u4e86\uff1a\u901a\u8fc7\u4e00\u6b21\u6b21\u7684\u8fd0\u884c\uff0c \u90a3\u4e9b\u7ecf\u5e38\u5f97\u51fa\u7684\u7ed3\u679c\u5c31\u662f\u6211\u4eec\u8981\u7684\u7b54\u6848 \u3002","title":"\u7ed3\u679c"},{"location":"algre/K-means%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95/","text":"K-means \u805a\u7c7b\u7b97\u6cd5 \u00b6 \u5728\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u7684\u5e2e\u52a9\u4e0b\u6211\u4eec\u80fd\u591f\u5904\u7406\u4f53\u91cf\u5de8\u5927\u7684\u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u5411\u6570\u636e\u8be2\u95ee\u4e00\u7cfb\u5217\u7684\u95ee\u9898\uff0c\u5e0c\u671b\u673a\u5668\u5b66\u4e60\u80fd\u7ed9\u51fa\u7b54\u6848\u3002\u6bd4\u5982\uff1a\u67d0\u4e2a\u6570\u636e\u70b9\u548c\u54ea\u4e9b\u76f8\u4f3c\uff1f\u901a\u8fc7\u5bf9\u8fd9\u4e9b\u6570\u636e\u7684\u5206\u6790\u80fd\u5426\u603b\u7ed3\u51fa\u67d0\u79cd\u6a21\u5f0f\uff1f\u7ed9\u51fa\u5386\u53f2\u8d8b\u52bf\u6570\u636e\u7684\u524d\u63d0\u4e0b\uff0c\u80fd\u5426\u5224\u65ad\u672a\u6765\u8d70\u52bf? \u8bf8\u5982\u6b64\u7c7b\u7684\u95ee\u9898\u90fd\u9002\u7528\u4e8e\u5728\u673a\u5668\u5b66\u4e60\u9886\u57df\u5bfb\u627e\u7b54\u6848\u3002 \u95ee\u9898\u6765\u6e90 \u00b6 \u4eca\u5929\u7684\u8bae\u9898\u662f\u600e\u4e48\u628a\u6570\u636e\u5206\u7c7b\u3002\u6bd4\u5982\uff0c\u4f60\u6b63\u5728\u4e3a\u4e00\u5bb6\u533b\u7597\u5f71\u50cf\u8bbe\u5907\u516c\u53f8\u5de5\u4f5c\uff0c\u5047\u5982\u4f60\u5df2\u7ecf\u627e\u5230\u4e86\u8bc6\u522b\u80bf\u7624\u7ec6\u80de\u7684\u65b9\u6cd5\uff0c\u4f46\u662f\u5982\u679c\u80fd\u6709\u4e00\u79cd\u65b9\u6cd5\u53ef\u4ee5\u627e\u51fa\u80bf\u7624\u7ec6\u80de\u7fa4\u7684\u4e2d\u5fc3\u4f4d\u7f6e\u5c31\u66f4\u597d\u4e86\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u4f7f\u7528\u673a\u5668\u4eba\u7cbe\u51c6\u5730\u8fbe\u5230\u76ee\u7684\u5730\u5e76\u6e05\u9664\u5b83\u4eec\u3002\u6211\u4eec\u9700\u8981\u627e\u51fa\u4e00\u79cd\u805a\u7c7b\u7b97\u6cd5\uff0c\u8fd9\u5c31\u662f\u4eca\u5929\u8981\u7279\u522b\u8ba8\u8bba\u7684 k-means\u3002 \u805a\u7c7b\u7b97\u6cd5 \u00b6 \u805a\u7c7b\u7b97\u6cd5\u901a\u5e38\u6765\u8bb2\u5c31\u662f\u8981\u6309\u7167\u76f8\u4f3c\u6027\u7ed9\u6570\u636e\u5206\u7c7b\u3002\u5982\u679c\u4f60\u662f\u4e00\u4e2a\u7535\u5546\u7ecf\u8425\u8005\uff0c\u5c31\u53ef\u4ee5\u7528\u805a\u7c7b\u7b97\u6cd5\u8bc6\u522b\u51fa\u5404\u79cd\u8d2d\u7269\u8005\u7684\u7c7b\u578b\u3002\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u6709\u4e00\u79cd\u987e\u5ba2\u5728\u6d4f\u89c8\u4e09\u4e94\u4e2a\u4ea7\u54c1\u9875\u9762\u4e4b\u540e\u5c31\u4f1a\u4e0b\u5355\u8d2d\u4e70\uff0c\u53e6\u5916\u4e00\u7ec4\u7528\u6237\u53ef\u80fd\u9700\u8981\u6d4f\u89c8\u591a\u8fbe15\u4e2a\u9875\u9762\u8fd8\u8981\u770b\u5f88\u591a\u8bc4\u8bba\u624d\u51b3\u5b9a\u8d2d\u4e70\uff0c\u800c\u4e14\u4f1a\u662f\u4e00\u5355\u9ad8\u4ef7\u503c\u7684\u8d2d\u4e70\u884c\u4e3a\uff0c\u53e6\u5916\u4f60\u53ef\u80fd\u8fd8\u4f1a\u6ce8\u610f\u5230\u6709\u4e00\u7ec4\u51b2\u52a8\u6d88\u8d39\u578b\u7684\u7528\u6237\uff0c\u4ed6\u4eec\u4e0d\u7528\u6d4f\u89c8\u592a\u6df1\u5165\u5c31\u4f1a\u53d1\u751f\u591a\u6b21\u5c0f\u989d\u8d2d\u4e70\u884c\u4e3a\u3002\u4e00\u65e6\u5b8c\u6210\u4e86\u5bf9\u8fd9\u4e9b\u7ebf\u4e0a\u6d88\u8d39\u8005\u7684\u4eba\u53e3\u8c03\u67e5\uff0c\u4f60\u5c31\u80fd\u66f4\u597d\u5730\u4f18\u5316\u7ad9\u70b9\u63d0\u9ad8\u9500\u552e\u989d\u3002\u56e0\u4e3a\u77e5\u9053\u4e86\u81ea\u5df1\u7684\u5ba2\u6237\u4e2d\u5b58\u5728\u51b2\u52a8\u578b\u6d88\u8d39\u8005\uff0c\u4f60\u5c31\u53ef\u4ee5\u9488\u5bf9\u6027\u5730\u6dfb\u52a0\u4e00\u4e9b\u529f\u80fd\u523a\u6fc0\u8fd9\u90e8\u5206\u6d88\u8d39\u8005\u3002 k-means \u00b6 \u548c\u8fd1\u90bb\u7b97\u6cd5\uff08k-nearest-neighbor\uff09\u4e00\u6837\uff0ck-means \u4e2d\u7684 k \u4e5f\u662f\u4e00\u4e2a\u6570\u91cf\u503c\uff0c\u662f\u7b97\u6cd5\u4e2d\u7684\u91cd\u8981\u53c2\u6570\u3002\u9700\u8981\u7279\u522b\u6307\u51fa\u7684\u662f\uff0c\u8fd9\u91cc\u7684 \u201ck\u201d \u5c31\u662f\u6211\u4eec\u8981\u5728\u6570\u636e\u4e2d\u627e\u51fa\u6765\u7684\u7c07\uff08\u5206\u7ec4\uff09\u7684\u6570\u91cf\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u5f88\u96be\u5728\u95ee\u9898\u89e3\u51b3\u524d\u77e5\u6653\u8fd9\u4e2a\u6570\u91cf\u503c\uff0c\u6240\u4ee5 k-means \u7b97\u6cd5\u901a\u5e38\u9700\u8981\u5728**\u53e6\u5916\u4e00\u4e2a\u7b97\u6cd5\u7684\u5e2e\u52a9\u4e0b\u627e\u5230\u6700\u6070\u5f53\u7684 k \u503c**\u3002 \u95ee\u9898\u662f k-means \u7b97\u6cd5\u4f1a\u628a\u6570\u636e\u5206\u5272\u6210 k \u4e2a\u72ec\u7279\u7684\u7c07\uff0c \u4f46\u662f\u7b97\u6cd5\u4e0d\u4f1a\u544a\u8bc9\u4f60 k \u503c\u662f\u5426\u6b63\u786e\u3002\u6bd4\u5982\uff0c\u4f60\u7684\u6570\u636e\u5728\u7406\u60f3\u60c5\u51b5\u4e0b\u5e94\u8be5\u88ab\u5206\u62105\u4e2a\u7c07\uff0c\u4f46\u662f\u5982\u679c\u4eba\u4e3a\u5730\u628a k \u8bbe\u5b9a\u4e3a3\uff0c\u90a3\u4e48\u4f60\u5c31\u4f1a\u5f97\u52303\u4e2a\u7c07\uff0c\u5f53\u7136\u8fd9\u4e9b\u7c07\u7684\u89c4\u6a21\u80af\u5b9a\u5927\u4e86\u4e00\u4e9b\uff0c\u76f8\u5bf9\u4e8e\u7406\u60f3\u72b6\u6001\u4e0b\u76845\u4e2a\u7c07\uff0c\u7cbe\u786e\u5ea6\u4e5f\u4e0b\u964d\u4e86\u3002 \u8fd9\u4e2a\u7b97\u6cd5\u6709\u4f18\u70b9\u4e5f\u6709\u77ed\u677f\uff0c\u4e3a\u4e86\u4f7f\u7528 k-means \u7b97\u6cd5\u4f60\u9700\u8981\u9884\u5148\u77e5\u9053k\u7684\u503c\uff0c\u6216\u8005\u7528\u53e6\u5916\u7684\u7b97\u6cd5\u5e2e\u4f60\u731c\u6d4b\u8fd9\u4e2a\u503c\u3002 k-means \u53ea\u662f\u5e2e\u4f60\u628a\u6570\u636e\u5206\u5230\u4e0d\u540c\u7684\u7c7b\u522b\u91cc\uff0c\u4f60\u8fd8\u9700\u8981\u505a\u4e9b\u989d\u5916\u7684\u5de5\u4f5c\u627e\u5230\u7c07\u7684\u5408\u9002\u6570\u76ee\u3002 \u5728\u4eca\u5929\u4f8b\u5b50\u4e2d\u6211\u4eec\u5148\u8bbe\u5b9a\u7c07\u7684\u6570\u76ee\u4e3a3\uff0c\u4e0b\u4e00\u7bc7\u6587\u7ae0\u5c06\u4f1a\u8ba8\u8bba\u81ea\u52a8\u731c\u6d4b k \u503c\u7684\u7b97\u6cd5\uff0c\u6700\u5e38\u7528\u5230\u7684\u5c31\u662f**\u8bef\u5dee\u5206\u6790\u6cd5**\u7ed3\u5408**\u53cd\u590d\u8c03\u7528 k-means \u7b97\u6cd5\u4ee5\u4f18\u5316\u7ed3\u679c**\uff0c\u4f7f\u8bef\u5dee\u6700\u5c0f\u5316\u3002 \u8fc7\u7a0b \u00b6 \u867d\u7136 k-means \u7b97\u6cd5\u7b80\u5355\uff0c\u4f46\u662f\u5982\u679c\u7528\u5728\u591a\u7ef4\u6570\u636e\u96c6\u4e0a\u4f1a\u8868\u73b0\u51fa\u5b83\u5f3a\u5927\u7684\u751f\u547d\u529b\u3002\u4eca\u5929\u6211\u4eec\u4f1a\u5904\u7406\u4e00\u7ec42\u7ef4\u6570\u636e\uff0c\u4e0b\u6b21\u6211\u4eec\u518d\u628a\u5b83\u505a\u7684\u590d\u6742\u4e9b\u3002 \u7b97\u6cd5\u8fc7\u7a0b\u5982\u4e0b\uff1a \u4ee5\u6563\u70b9\u56fe\u7684\u65b9\u5f0f\uff0c\u53ef\u89c6\u5316\u6570\u636e\u3002 \u521b\u5efa k \u4e2a\u65b0\u7684\u6570\u636e\u70b9\uff0c\u968f\u673a\u5206\u5e03\u5728\u56fe\u4e0a\uff0c\u628a\u8fd9\u4e9b\u6570\u636e\u70b9\u4f5c\u4e3a\u7c07\u7684\u201c\u91cd\u5fc3\u201d\uff0c\u4e5f\u79f0\u201c\u7c07\u91cd\u5fc3\u5907\u9009\u8005\u201d\u3002 \u91cd\u590d\u4e0b\u9762\u7684\u8fc7\u7a0b\uff1a \u628a\u8ddd\u79bb\u91cd\u5fc3\u6700\u8fd1\u7684\u90a3\u4e9b\u6570\u636e\u70b9\u5206\u914d\u7ed9\u5b83 \u79fb\u52a8\u91cd\u5fc3\u7684\u4f4d\u7f6e\u5230\u6240\u6709\u5c5e\u4e8e\u5b83\u7684\u6570\u636e\u70b9\u7684\u5e73\u5747\u4f4d\u7f6e\u4e0a \u5982\u679c\u91cd\u5fc3\u7684\u4f4d\u7f6e\u5728\u6700\u540e\u4e00\u6b65\u4e2d\u79fb\u52a8\u4e86\uff0c\u7ee7\u7eed\u91cd\u590d\u4e0a\u8bc9\u8fc7\u7a0b\uff0c\u5426\u5219\u9000\u51fa\u3002 \u8fd9\u662f\u4e00\u4e2a\u8fed\u4ee3\u8fc7\u7a0b\u3002\u53ef\u80fd\u4f1a\u8fed\u4ee3\u4e24\u4e09\u6b21\u751a\u81f3\u6570\u5341\u6b21\uff0c\u4f46\u662f\u6700\u7ec8\u4f60\u7684\u7c07\u91cd\u5fc3\u4f1a\u9760\u8fd1\u76ee\u7684\u5730\u5e76\u505c\u6b62\u79fb\u52a8\uff0c\u6700\u540e\u4f1a\u5f97\u5230\u4f60\u60f3\u8981\u7684\u7c07\u96c6\u5408\u3002 \u5c40\u9650\u6027 \u00b6 \u8be5\u7b97\u6cd5\u548c\u5f88\u591a\u6211\u4eec\u5728\u8fd9\u4e2a\u7cfb\u5217\u4e2d\u5c06\u8981\u8bb2\u5230\u7b97\u6cd5\u7684\u4e00\u6837\uff0c\u5bb9\u6613\u9677\u5165**\u5c40\u90e8\u6700\u4f18\u89e3**\u3002\u5982\u679c\u4f60\u591a\u8fd0\u884c\u4e0b\u9762\u7684\u4f8b\u5b50\u51e0\u6b21\uff0c\u5c31\u4f1a\u53d1\u73b0\u6bcf\u6b21\u5f97\u5230\u7684\u7ed3\u679c\u90fd\u4f1a\u6709\u5dee\u522b\uff0c\u8fd9\u610f\u5473\u7740\u4e00\u4e9b\u7ed3\u679c\u9677\u5165\u4e86\u4e0d\u540c\u7684\u5c40\u90e8\u6700\u4f18\u89e3\u3002 \u7b97\u6cd5\u4ece\u4e00\u4e9b\u968f\u673a\u7684\uff0c\u672c\u8eab\u5c31\u5bb9\u6613\u53d7\u5c40\u90e8\u6700\u4f18\u5f71\u54cd\u7684\u79cd\u5b50\u5f00\u59cb\uff0c\u56e0\u4e3a\u6c38\u8fdc\u4e0d\u77e5\u9053\u7b97\u6cd5\u5177\u4f53\u7684\u5f00\u59cb\u4f4d\u7f6e\u548c\u7ed3\u679c\u7684\u8d70\u5411\uff0c\u79cd\u5b50\u7684\u72b6\u6001\u4f1a\u5bfc\u81f4\u5c40\u90e8\u6700\u4f18\u8fd8\u662f\u5168\u5c40\u6700\u4f18\uff1f\u8fd9\u4e9b\u90fd\u65e0\u4ece\u77e5\u6653\u3002\u5c31\u50cf\u9057\u4f20\u7b97\u6cd5\u4e00\u6837\uff0c\u80fd\u8df3\u51fa\u5c40\u90e8\u6700\u4f18\u89e3\u7684\u4e00\u4e2a\u65b9\u6cd5\u5c31\u662f\u4f7f\u201c\u89e3\u201d\u53d1\u751f\u4e00\u70b9\u513f\u7a81\u53d8\u3002\u5728\u6b64 k-means \u4f8b\u5b50\u4e2d, \u6211\u4eec\u4f1a\u5728\u7b97\u6cd5\u4e2d\u52a0\u5165\u4e00\u6761\u89c4\u5219\uff0c \u5c31\u662f\u5f53\u53d1\u73b0\u91cd\u5fc3\u6570\u636e\u70b9\u7ecf\u8fc7\u4e00\u8f6e\u8fed\u4ee3\u540e\u6ca1\u6709\u53d1\u751f\u79fb\u52a8\uff0c\u90a3\u4e48\u5c31\u5728\u4e00\u4e2a\u5728\u968f\u673a\u65b9\u5411\u4e0a\u63a8\u4e00\u628a \u3002\u7ed3\u679c\u5c31\u662f\u5b83\u53ef\u80fd\u53c8\u56de\u5230\u4e86\u539f\u6765\u7684\u4f4d\u7f6e\uff0c\u4e5f\u53ef\u80fd\u627e\u5230\u4e86\u4e00\u4e2a\u65b0\u7684\u89e3\u3002\u8fd9\u4e2a\u63a8\u52a8\u4e0d\u8981\u5927\u5230\u8ba9\u8ba1\u7b97\u4ece\u56de\u8d77\u70b9\uff0c\u4f46\u662f\u4e5f\u8981\u8db3\u591f\u628a\u5b83\u8e22\u51fa\u67d0\u4e2a\u5c40\u90e8\u6700\u4f18\u533a\u57df\u3002\u53e6\u5916\u4e00\u4e2a\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7684\u6280\u5de7\u88ab\u79f0\u4e4b\u4e3a\u201c\u673a\u5668\u59d4\u5458\u4f1a\u201d\uff0c\u5982\u679c\u4f60\u7684\u7b97\u6cd5\u80fd\u7ed3\u675f\u7684\u5f88\u5feb\u6216\u8005\u80fd\u4f7f\u7528\u5e76\u884c\u8ba1\u7b97\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6280\u5de7\u5f88\u7ba1\u7528\u3002\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u6211\u4eec\u8fd0\u884c k-means \u7b97\u6cd53\u6b21\uff0c5\u6b21\uff0c51\u6b21\u621610000\u6b21\uff0c\u9009\u62e9\u90a3\u4e9b\u6700\u7ecf\u5e38\u5f97\u5230\u7684\u89e3\u3002\u201c\u673a\u5668\u59d4\u5458\u4f1a\u201d \u662f\u6307\u4e00\u4e9b\u4eba\u9009\u62e9\u5728\u4e0d\u540c\u786c\u4ef6\u4e0a\u8fd0\u884c\u5e76\u884c\u7b97\u6cd5\uff0c\u4e00\u4e2a\u5b57\u9762\u4e0a\u7684\u673a\u5668\u59d4\u5458\u4f1a\u80fd\u7ed9\u8fd9\u4e9b\u201c\u89e3\u201d\u6295\u7968\u3002 \u4ee3\u7801 \u00b6 \u6211\u4eec\u5f00\u59cb\u4ee3\u7801\u90e8\u5206\uff0c\u548c\u81f3\u4eca\u4e3a\u6b62\u7684\u5176\u4ed6\u4f8b\u5b50\u4e0d\u540c\uff0c\u6211\u4f1a\u653e\u5f03\u9762\u5411\u5bf9\u8c61\u7684\u65b9\u6cd5\u800c\u91c7\u7528\u76f4\u63a5\u4e86\u5f53\u7684\u7b56\u7565\u3002\u89e3\u51b3\u95ee\u9898\u7684\u65b9\u6cd5\u6709\u5f88\u591a\uff0c\u6211\u559c\u6b22OOP\uff0c\u4f46\u662f\u91cd\u70b9\u662f\u4e0d\u8981\u592a\u4f9d\u8d56\u4e8e\u4e60\u60ef\uff0c\u8fd8\u6709\u5c31\u662f\u6211\u4eec\u5728\u4f8b\u5b50\u4e2d\u4f7f\u7528\u7684\u6570\u636e\u53ea\u662f\u4e8c\u7ef4\u7684\uff0c\u6211\u613f\u610f\u628a\u8fd9\u4e2a\u7b97\u6cd5\u5199\u6210\u53ef\u4ee5\u5904\u7406\u4efb\u4f55\u7ef4\u5ea6\u7684\u6570\u636e\u3002\u73b0\u5728\u6765\u770b\u770b\u6211\u4eec\u8981\u4f7f\u7528\u5230\u7684\u6570\u636e\uff0c\u975e\u5e38\u7b80\u5355\u7684\u6570\u7ec4\uff0c\u6bcf\u4e2a\u6570\u636e\u4e2d\u7684\u4e24\u4e2a\u503c\u5206\u522b\u8868\u793ax\uff0cy\u3002 var data = [ [ 1 , 2 ], [ 2 , 1 ], [ 2 , 4 ], [ 1 , 3 ], [ 2 , 2 ], [ 3 , 1 ], [ 1 , 1 ], [ 7 , 3 ], [ 8 , 2 ], [ 6 , 4 ], [ 7 , 4 ], [ 8 , 1 ], [ 9 , 2 ], [ 10 , 8 ], [ 9 , 10 ], [ 7 , 8 ], [ 7 , 9 ], [ 8 , 11 ], [ 9 , 9 ], ]; \u63a5\u4e0b\u6765\u6211\u4eec\u5b9a\u4e49\u4e24\u4e2a\u65b9\u6cd5\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u70b9\u7684\u5217\u8868\uff0c\u6211\u60f3\u77e5\u9053\u5176\u4e2d\u5728x\u548cy\u4e24\u4e2a\u65b9\u5411\u4e0a\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\uff0c\u8fd8\u6709\u5728\u4e24\u4e2a\u65b9\u5411\u4e0a\u7684\u8de8\u5ea6\uff08\u5faa\u73af\u6570\u7ec4\uff0c\u8ba1\u7b97\u6570\u7ec4\u5185\u90e8 X \u548c Y\u7684\u6700\u503c\uff0c\u7136\u540e\u6c42\u8303\u56f4\uff09\u3002\u6bd4\u5982\u5728X\u65b9\u5411\u4e0a\u662f\u4ece1\u523011\uff0c\u5728Y\u65b9\u5411\u4e0a\u662f\u4ece3\u52307\uff0c\u4e86\u89e3\u8fd9\u4e9b\u6709\u5229\u4e8e\u6211\u4eec\u968f\u673a\u4ea7\u751f\u7c07\u91cd\u5fc3\u65f6\u53c2\u8003\u3002 \u6211\u4eec\u5e94\u8be5\u5728\u5934\u8111\u4e2d\u59cb\u7ec8\u4fdd\u6301\u4e00\u4e2a\u7406\u5ff5\uff0c \u5c31\u662f\u8981\u8ba9\u51fd\u6570\u5728\u5904\u7406\u4e0d\u540c\u7ef4\u5ea6\u7684\u6570\u636e\u65f6\u5177\u6709\u901a\u7528\u6027 \uff1a // \u7ed9\u5b9a\u4e00\u4e2an\u7ef4\u6570\u7ec4extremes\uff0c\u83b7\u53d6\u8fd9\u4e2a\u6570\u7ec4\u5728\u4e0d\u540c\u7ef4\u5ea6\u7684\u8303\u56f4\u6570\u7ec4 ranges \u4f8b\u5982\u4e0a\u9762\u7684\u6570\u7ec4 [1, 11]; function getDataRanges ( extremes ) { var ranges = []; for ( var dimension in extremes ) { ranges [ dimension ] = extremes [ dimension ]. max - extremes [ dimension ]. min ; } return ranges ; } // \u628a\u6bcf\u4e00\u4e2a\u7ef4\u5ea6\u7684\u53c2\u6570\u63d0\u53d6\u6210\u4e3a\u516c\u5171\u6570\u636e\uff0c\u83b7\u53d6\u516c\u5171\u6570\u7ec4\u7684\u6700\u503c\uff0c\u518d\u4f7f\u7528\u4e0a\u9762\u7684\u51fd\u6570\u83b7\u53d6\u4e0d\u540c\u7ef4\u5ea6\u7684\u8303\u56f4\u3002\u5728\u8fd9\u4e2a\u8303\u56f4\u4e2d\u8fdb\u884c\u5dee\u503c\uff0c\u9ed8\u8ba4k\uff0c\u8ba1\u7b97\u9ed8\u8ba4\u4e2d\u5fc3\u7684\u5e73\u5747\u503c\u3002 function getDataExtremes ( points ) { var extremes = []; for ( var i in data ) { var point = data [ i ]; for ( var dimension in point ) { // \u8bbe\u7f6e\u9ed8\u8ba4\u7684\u6700\u503c if ( ! extremes [ dimension ] ) { extremes [ dimension ] = { min : 1000 , max : 0 }; } // \u5982\u679c\u4e00\u4e2a\u503c\u5c0f\u4e8e\u6700\u503c\uff0c\u8fdb\u884c\u53d6\u4ee3 if ( point [ dimension ] < extremes [ dimension ]. min ) { extremes [ dimension ]. min = point [ dimension ]; } if ( point [ dimension ] > extremes [ dimension ]. max ) { extremes [ dimension ]. max = point [ dimension ]; } } } // \u6700\u7ec8\u8fd4\u56de\u8fd9\u4e2a\u6570\u7ec4\u7684\u6700\u503c\u96c6\u5408 return extremes ; } getDataExtremes() \u51fd\u6570\u7528\u6765\u904d\u5386\u6bcf\u4e00\u4e2a\u6570\u636e\u70b9\u5e76\u5728\u6240\u6709\u7ef4\u5ea6\u4e0a\u627e\u51fa\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c(\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u91cc\u6709\u4e2a\u4e00\u4e2a\u786c\u7f16\u7801\u7684\u6570\u503c\u201c1000\u201d\uff0c\u4f60\u9700\u8981\u6839\u636e\u5177\u4f53\u60c5\u51b5\u505a\u6539\u53d8\uff09\u3002 getDataRanges() \u51fd\u6570\u7528\u6765\u8f85\u52a9\u8fd4\u56de\u6bcf\u4e2a\u7ef4\u5ea6\u7684\u8303\u56f4\uff08\u6700\u5927\u503c\u51cf\u53bb\u6700\u5c0f\u503c\uff09\u3002 \u4e0b\u4e00\u6b65\u6211\u4eec\u5b9a\u4e49 k \u4e2a\u7c07\u5e76\u521d\u59cb\u5176\u968f\u673a\u7684\u91cd\u5fc3\u4f4d\u7f6e function initMeans ( k ) { if ( ! k ) { k = 3 ; } while ( k -- ) { var mean = []; for ( var dimension in dataExtremes ) { mean [ dimension ] = dataExtremes [ dimension ]. min + ( Math . random () * dataRange [ dimension ]); } means . push ( mean ); } return means ; }; \u7528\u8be5\u65b9\u6cd5\u6211\u4eec\u53ef\u4ee5\u5728\u6570\u636e\u96c6\u8303\u56f4\u4e4b\u5185\u968f\u673a\u5730\u751f\u6210\u51e0\u4e2a\u65b0\u7684\u6570\u636e\u70b9\uff0c\u4e00\u65e6\u6211\u4eec\u62e5\u6709\u4e86\u8fd9\u4e9b\u50cf\u79cd\u5b50\u4e00\u6837\u7684\u91cd\u5fc3\uff0c\u5c31\u53ef\u4ee5\u8fdb\u5165k-means\u5faa\u73af\u8fc7\u7a0b\u4e86\u3002\u5982\u524d\u6240\u8ff0\uff0c \u8be5\u5faa\u73af\u8fc7\u7a0b\u5305\u62ec\u9996\u6b21\u4e3a\u91cd\u5fc3\u5206\u914d\u6570\u636e\u96c6\u91cc\u79bb\u8be5\u91cd\u5fc3\u6700\u8fd1\u7684\u90a3\u4e9b\u70b9\u7ed9\u5b83\uff0c\u7136\u540e\u79fb\u52a8\u91cd\u5fc3\u4f4d\u7f6e\u5230\u8fbe\u8fd9\u4e9b\u70b9\u7684\u5e73\u5747\u91cd\u5fc3\u4f4d\u7f6e\uff0c\u91cd\u590d\u6b64\u8fc7\u7a0b\u76f4\u81f3\u91cd\u5fc3\u505c\u6b62\u79fb\u52a8\u3002 function makeAssignments () { for ( var i in data ) { var point = data [ i ]; var distances = []; for ( var j in means ) { var mean = means [ j ]; var sum = 0 ; for ( var dimension in point ) { var difference = point [ dimension ] - mean [ dimension ]; difference *= difference ; sum += difference ; } distances [ j ] = Math . sqrt ( sum ); } assignments [ i ] = distances . indexOf ( Math . min . apply ( null , distances ) ); } } \u4e0a\u9762\u7684\u51fd\u6570\u4f1a\u88ab\u6211\u4eec\u7684\u904d\u5386\u51fd\u6570\u8c03\u7528\u4ee5\u8ba1\u7b97\u6bcf\u4e2a\u70b9\u4e4b\u95f4\u7684\u6b27\u51e0\u91cc\u5fb7\u8ddd\u79bb\u548c\u7c07\u7684\u91cd\u5fc3\u4f4d\u7f6e\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8be5\u7b97\u6cd5\u4f1a\u904d\u5386\u6bcf\u4e00\u4e2a\u70b9\u5230\u7c07\u91cd\u5fc3\u7684\u8ddd\u79bb\uff0c\u8fd9\u662f\u4e00\u4e2a\u8ba1\u7b97\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(k*n) \u7684\u7b97\u6cd5\uff0c\u590d\u6742\u5ea6\u4e0d\u662f\u5f88\u6050\u6016\uff0c\u4f46\u662f\u5982\u679c\u6570\u636e\u96c6\u6bd4\u8f83\u5e9e\u5927\u6216\u8005\u7c07\u7684\u6570\u76ee\u8f83\u591a\uff0c\u53ef\u80fd\u8ba1\u7b97\u5c31\u6bd4\u8f83\u5bc6\u96c6\u4e86\u3002\u4e0d\u8fc7\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u9014\u5f84\u6765\u4f18\u5316\uff0c\u6211\u4eec\u4f1a\u5728\u540e\u7eed\u6587\u7ae0\u4e2d\u8c08\u5230\u3002\u6709\u4e00\u4e2a\u6211\u4eec\u73b0\u5728\u5c31\u53ef\u4ee5\u7740\u624b\u5904\u7406\u7684\u662fMath.sqrt()\u7684\u6548\u7387\u95ee\u9898\uff0c\u5176\u5b9e\u8fd9\u4e2a\u8c03\u7528\u4e0d\u5fc5\u51fa\u73b0\u5728\u5bf9\u6bcf\u4e2a\u70b9\u7684\u8fed\u4ee3\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\uff0c\u4e00\u65e6\u786e\u5b9a\u4e86\u5206\u914d\u5217\u8868\uff0c\u672c\u4f8b\u4e2d\u8fd9\u4e2a\u5217\u8868\u5c31\u662f\u4e00\u7cfb\u5217\u70b9\u7684\u7d22\u5f15\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u7528\u6240\u6709\u70b9\u4f4d\u7f6e\u7684\u5e73\u5747\u503c\u6765\u66f4\u65b0\u7c07\u91cd\u5fc3\u7684\u4f4d\u7f6e\u4e86\u3002 \u8bd1\u8005\u6ce8\uff1a \u6b27\u51e0\u91cc\u5fb7\u8ddd\u79bb\u662f\u6307\u5728\u6b27\u5f0f\u7a7a\u95f4\u4e2d\u4e24\u70b9\u95f4\u7684\u8ddd\u79bb\uff0c\u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b\uff0c\u5047\u8bbep\uff0cq\u4e24\u70b9\u4e3a\u6b27\u5f0f\u7a7a\u95f4\u4e2d\u7684\u4e24\u4e2a\u70b9\uff0c\u5176\u5404\u81ea\u7684\u7a7a\u95f4\u5750\u6807\u4e3a\uff1a p(p1,p2,p3,... pn) q(q1,q2,q3,... qn) \u5219\u4e24\u70b9\u95f4\u7684\u8ddd\u79bb\u53ef\u8868\u793a\u4e3a\uff1a function moveMeans () { makeAssignments (); var sums = Array ( means . length ); var counts = Array ( means . length ); var moved = false ; for ( var j in means ) { counts [ j ] = 0 ; sums [ j ] = Array ( means [ j ]. length ); for ( var dimension in means [ j ]) { sums [ j ][ dimension ] = 0 ; } } for ( var point_index in assignments ){ var mean_index = assignments [ point_index ]; var point = data [ point_index ]; var mean = means [ mean_index ]; counts [ mean_index ] ++ ; for ( var dimension in mean ){ sums [ mean_index ][ dimension ] += point [ dimension ]; } } for ( var mean_index in sums ){ // console.log(counts[mean_index]); if ( 0 === counts [ mean_index ] ) { sums [ mean_index ] = means [ mean_index ]; // console.log(\"Mean with no points\"); // console.log(sums[mean_index]); for ( var dimension in dataExtremes ){ sums [ mean_index ][ dimension ] = dataExtremes [ dimension ]. min + ( Math . random () * dataRange [ dimension ] ); } continue ; } for ( var dimension in sums [ mean_index ]) { sums [ mean_index ][ dimension ] /= counts [ mean_index ]; } } if ( means . toString () !== sums . toString ()) { moved = true ; } means = sums ; return moved ; } moveMeans() \u65b9\u6cd5\u5728\u5f00\u59cb\u5904\u8c03\u7528 makeAssignments() \u3002\u4e00\u65e6\u5206\u914d\u5de5\u4f5c\u7ed3\u675f\uff0c\u6211\u4eec\u9700\u8981\u521d\u59cb\u5316\u4e24\u4e2a\u6570\u7ec4\uff1a\"sums\" \u548c \"counts\"\u3002\u65e2\u7136\u6211\u4eec\u8981\u8ba1\u7b97\u7b97\u6570\u5e73\u5747\u503c\uff0c\u6211\u4eec\u5c31\u9700\u8981\u77e5\u9053\u6240\u6709\u70b9\u5728\u6bcf\u4e2a\u7ef4\u5ea6\u4e0a\u7684\u603b\u548c\u8fd8\u6709\u70b9\u7684\u6570\u91cf\u3002 \u6211\u4eec\u542f\u7528\u4e09\u4e2a\u904d\u5386\u8fc7\u7a0b\uff1a \u4e00\uff1a\u904d\u5386\u6bcf\u4e2a\u7c07\u91cd\u5fc3\uff0c\u521d\u59cb\u5316\u6570\u7ec4sums\u5728\u6bcf\u4e2a\u7ef4\u5ea6\u4e0a\u7684\u503c\u4e3a0\uff0c\u4ee5\u53ca\u6570\u7ec4\u6570\u91cfcounts\u4e5f\u4e3a0\u3002\u6240\u4ee5sums\u6570\u7ec4\u662f\u4e00\u4e2a\u591a\u7ef4\u6570\u7ec4\uff0c\u539f\u56e0\u5c31\u5728\u4e8e\u6211\u4eec\u5904\u7406\u7684\u662f\u6bcf\u4e2a\u7c07\u4e2d\u7684\u6bcf\u4e2a\u70b9\u5728\u6bcf\u4e2a\u7ef4\u5ea6\u4e0a\u7684\u6570\u636e\u3002 \u4e8c\uff1a\u904d\u5386\u6bcf\u4e2a\u88ab\u5206\u914d\u7684\u6570\u636e\u70b9\u8ba1\u7b97\u51fa\u6bcf\u4e2a\u7c07\u91cd\u5fc3\u62e5\u6709\u7684\u6570\u636e\u70b9\u7684\u6570\u91cf\uff0c\u5e76\u4e14\u904d\u5386\u6570\u636e\u70b9\u7684\u6240\u6709\u7ef4\u5ea6\u586b\u5145 sums \u6570\u7ec4\u3002\u5230\u6b64\uff0c\u6211\u4eec\u62e5\u6709\u4e86\u4e3a\u7c07\u91cd\u5fc3\u8ba1\u7b97\u65b0\u4f4d\u7f6e\u7684\u6240\u6709\u6570\u636e\u3002\u904d\u5386\u7ed3\u679c\uff0c\u4e3a\u6bcf\u4e2a\u7c07\u91cd\u5fc3\u8ba1\u7b97\u65b0\u7684\u5e73\u5747\u4f4d\u7f6e\uff0c\u5e76\u628a\u91cd\u5fc3\u79fb\u52a8\u5230\u8be5\u4f4d\u7f6e\u3002 \u4e09\uff1a\u68c0\u6d4b\u7c07\u91cd\u5fc3\u662f\u5426\u8fd8\u6709\u6570\u636e\u88ab\u5206\u914d\u7ed9\u5b83\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u6211\u4eec\u5c31\u7ed9\u5b83\u4e00\u4e2a\u968f\u673a\u7684\u65b0\u4f4d\u7f6e\uff0c\u5c31\u662f\u6211\u4eec\u4e4b\u524d\u8bf4\u7684\u8e22\u5b83\u4e00\u811a\u3002 \u6700\u540e\uff0c\u5de1\u89c6\u6240\u6709\u7684\u7c07\u91cd\u5fc3\u662f\u5426\u8fd8\u6709\u79fb\u52a8\u60c5\u51b5\uff0c\u5e76\u8fd4\u56de\u771f\u6216\u5047\u3002\u4f7f\u7528\u5982\u4e0b setup \u51fd\u6570\u5f00\u59cb\u6267\u884c\u7b97\u6cd5\uff1a function setup () { canvas = document . getElementById ( 'canvas' ); ctx = canvas . getContext ( '2d' ); dataExtremes = getDataExtremes ( data ); dataRange = getDataRanges ( dataExtremes ); means = initMeans ( 3 ); makeAssignments (); draw (); setTimeout ( run , drawDelay ); } function run () { var moved = moveMeans (); draw (); if ( moved ) { setTimeout ( run , drawDelay ); } } \u6211\u4eec\u9700\u8981\u7684\u8bbe\u5b9a\u90fd\u5728 setup()\u4e2d\u521d\u59cb\u5316\u5b8c\u6210\uff0c\u4e4b\u540e run() \u51fd\u6570\u68c0\u6d4b\u7b97\u6cd5\u662f\u5426\u505c\u6b62\u4e86\uff0c\u5e76\u6839\u636e\u65f6\u949f\u7684\u95f4\u9694\u8bbe\u5b9a\u5faa\u73af\u6267\u884c\uff0c\u6211\u4eec\u4e5f\u5c31\u80fd\u5b9e\u65f6\u770b\u5230\u7b97\u6cd5\u7684\u8fd0\u884c\u60c5\u51b5\u4e86\u3002 k-medians \u00b6 \u4f7f\u7528\u52a0\u6743\u5e73\u5747\uff0c\u7ed3\u679c\u53ef\u80fd\u53d7\u5230\u6781\u503c\u5f71\u54cd\uff0c\u4f7f\u7528\u4e2d\u503c\u8fdb\u884c\u805a\u7c7b\u6548\u679c\u66f4\u597d\u3002 k-means\u7b97\u6cd5\u5b58\u5728\u4e00\u4e2a\u95ee\u9898\uff0c\u5176\u5b9e\u5e76\u4e0d\u662f\u7b97\u6cd5\u672c\u8eab\u7684\u95ee\u9898\uff0c\u800c\u662f\u7b97\u6570\u5e73\u5747\u503c\u81ea\u8eab\u5b58\u5728\u7684\u7f3a\u9677\uff0c\u5c31\u662f\u5f53\u6570\u636e\u4e2d\u51fa\u73b0\u4e86\u67d0\u4e9b\u6570\u636e\u98de\u5730\uff08\u504f\u79bb\u6574\u4f53\u6570\u636e\u5f88\u8fdc\uff09\uff0c\u4f1a\u7ed9\u7b97\u6570\u5e73\u5747\u503c\u5e26\u6765\u4e0d\u5229\u5f71\u54cd\u3002\u6bd4\u5982\uff0c\u4f60\u6240\u5728\u7684\u516c\u53f8\u6709\u4e94\u4e2a\u4eba\u6bcf\u5e74\u7684\u85aa\u6c34\u662f5\u4e07\u5143\uff0c\u4f46\u662f\u6709\u53e6\u5916\u4e00\u4e2a\u4eba\u6bcf\u5e74\u7684\u85aa\u6c34\u9ad8\u8fbe100\u4e07\uff0c\u90a3\u4e48\u85aa\u6c34\u4e2d\u95f4\u503c\u4f1a\u662f5\u4e07\uff08\u80fd\u4ee3\u8868\u516c\u53f8\u7684\u85aa\u6c34\u60c5\u51b5\uff09\uff0c\u800c\u5e73\u5747\u503c\u8fbe\u5230\u4e8620\u4e07\uff08\u5b8c\u5168\u4e0d\u80fd\u4ee3\u8868\u516c\u53f8\u85aa\u8d44\u60c5\u51b5\uff09\uff01 \u8fd9\u79cd\u95ee\u9898\u5f53\u7136\u4e5f\u4f1a\u5728k-means\u7b97\u6cd5\u4e2d\u53d1\u751f\u3002\u5982\u679c\u4f60\u62ff\u5230\u7684\u6570\u636e\u4e2d\u6709\u98de\u5730\u60c5\u51b5\uff0c\u4f60\u4f1a\u53d1\u73b0k-means\u7b97\u6cd5\u5f97\u5230\u7684\u7ed3\u679c\u5f88\u7cdf\u7cd5\uff0c\u4e00\u4e2a\u89e3\u51b3\u529e\u6cd5\u5c31\u662f\u4f7f\u7528 k-medians \u4ee3\u66ff k-means, \u4e8c\u8005\u7b97\u6cd5\u76f8\u4f3c\uff0c\u53ea\u662f\u7528\u4e2d\u503c\u4ee3\u66ff\u5e73\u5747\u503c\uff0c\u8fd9\u6837\u53ef\u4ee5\u6ee4\u6389\u6570\u636e\u98de\u5730\u7684\u5f71\u54cd\u3002\u53e6\u5916\uff0c\u6211\u8ba4\u4e3a\u5728\u8ba1\u7b97\u6548\u7387\u4e0a\u4e5f\u4f1a\u6bd4\u5e73\u5747\u503c\u6cd5\u66f4\u9ad8\u6548\u3002 \u7ed3\u679c \u00b6 k-meeans \u7b97\u6cd5\u5bf9\u4e8e\u6211\u4eec\u5b9a\u4e49\u7684\u6574\u6d01\u5e72\u51c0\u7684\u6570\u636e\u6765\u8bf4\u8fd0\u884c\u7684\u975e\u5e38\u5b8c\u7f8e\u3002\u5f88\u663e\u7136\uff0c\u5982\u679c\u6570\u636e\u810f\u4e71\uff0c\u4e5f\u4f1a\u50cf\u5176\u5b83\u7b97\u6cd5\u4e00\u6837\u9047\u5230\u56f0\u96be\u3002\u5982\u679c\u4e0d\u538c\u5176\u70e6\u5730\u591a\u8fd0\u884c\u51e0\u6b21\u6211\u7684\u4ee3\u7801\uff0c\u4f60\u4e5f\u4f1a\u9047\u5230\u9677\u4e8e\u5c40\u90e8\u6700\u4f18\u89e3\u7684\u95ee\u9898\u3002\u8fd9\u5c31\u9700\u8981\u901a\u8fc7\u201c\u673a\u5668\u59d4\u5458\u4f1a\u201d\u7684\u6280\u5de7\u6765\u89e3\u51b3\u4e86\uff1a\u901a\u8fc7\u4e00\u6b21\u6b21\u7684\u8fd0\u884c\uff0c \u90a3\u4e9b\u7ecf\u5e38\u5f97\u51fa\u7684\u7ed3\u679c\u5c31\u662f\u6211\u4eec\u8981\u7684\u7b54\u6848 \u3002","title":"K-means \u805a\u7c7b\u7b97\u6cd5"},{"location":"algre/K-means%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95/#k-means","text":"\u5728\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u7684\u5e2e\u52a9\u4e0b\u6211\u4eec\u80fd\u591f\u5904\u7406\u4f53\u91cf\u5de8\u5927\u7684\u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u5411\u6570\u636e\u8be2\u95ee\u4e00\u7cfb\u5217\u7684\u95ee\u9898\uff0c\u5e0c\u671b\u673a\u5668\u5b66\u4e60\u80fd\u7ed9\u51fa\u7b54\u6848\u3002\u6bd4\u5982\uff1a\u67d0\u4e2a\u6570\u636e\u70b9\u548c\u54ea\u4e9b\u76f8\u4f3c\uff1f\u901a\u8fc7\u5bf9\u8fd9\u4e9b\u6570\u636e\u7684\u5206\u6790\u80fd\u5426\u603b\u7ed3\u51fa\u67d0\u79cd\u6a21\u5f0f\uff1f\u7ed9\u51fa\u5386\u53f2\u8d8b\u52bf\u6570\u636e\u7684\u524d\u63d0\u4e0b\uff0c\u80fd\u5426\u5224\u65ad\u672a\u6765\u8d70\u52bf? \u8bf8\u5982\u6b64\u7c7b\u7684\u95ee\u9898\u90fd\u9002\u7528\u4e8e\u5728\u673a\u5668\u5b66\u4e60\u9886\u57df\u5bfb\u627e\u7b54\u6848\u3002","title":"K-means \u805a\u7c7b\u7b97\u6cd5"},{"location":"algre/K-means%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95/#_1","text":"\u4eca\u5929\u7684\u8bae\u9898\u662f\u600e\u4e48\u628a\u6570\u636e\u5206\u7c7b\u3002\u6bd4\u5982\uff0c\u4f60\u6b63\u5728\u4e3a\u4e00\u5bb6\u533b\u7597\u5f71\u50cf\u8bbe\u5907\u516c\u53f8\u5de5\u4f5c\uff0c\u5047\u5982\u4f60\u5df2\u7ecf\u627e\u5230\u4e86\u8bc6\u522b\u80bf\u7624\u7ec6\u80de\u7684\u65b9\u6cd5\uff0c\u4f46\u662f\u5982\u679c\u80fd\u6709\u4e00\u79cd\u65b9\u6cd5\u53ef\u4ee5\u627e\u51fa\u80bf\u7624\u7ec6\u80de\u7fa4\u7684\u4e2d\u5fc3\u4f4d\u7f6e\u5c31\u66f4\u597d\u4e86\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u4f7f\u7528\u673a\u5668\u4eba\u7cbe\u51c6\u5730\u8fbe\u5230\u76ee\u7684\u5730\u5e76\u6e05\u9664\u5b83\u4eec\u3002\u6211\u4eec\u9700\u8981\u627e\u51fa\u4e00\u79cd\u805a\u7c7b\u7b97\u6cd5\uff0c\u8fd9\u5c31\u662f\u4eca\u5929\u8981\u7279\u522b\u8ba8\u8bba\u7684 k-means\u3002","title":"\u95ee\u9898\u6765\u6e90"},{"location":"algre/K-means%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95/#_2","text":"\u805a\u7c7b\u7b97\u6cd5\u901a\u5e38\u6765\u8bb2\u5c31\u662f\u8981\u6309\u7167\u76f8\u4f3c\u6027\u7ed9\u6570\u636e\u5206\u7c7b\u3002\u5982\u679c\u4f60\u662f\u4e00\u4e2a\u7535\u5546\u7ecf\u8425\u8005\uff0c\u5c31\u53ef\u4ee5\u7528\u805a\u7c7b\u7b97\u6cd5\u8bc6\u522b\u51fa\u5404\u79cd\u8d2d\u7269\u8005\u7684\u7c7b\u578b\u3002\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u6709\u4e00\u79cd\u987e\u5ba2\u5728\u6d4f\u89c8\u4e09\u4e94\u4e2a\u4ea7\u54c1\u9875\u9762\u4e4b\u540e\u5c31\u4f1a\u4e0b\u5355\u8d2d\u4e70\uff0c\u53e6\u5916\u4e00\u7ec4\u7528\u6237\u53ef\u80fd\u9700\u8981\u6d4f\u89c8\u591a\u8fbe15\u4e2a\u9875\u9762\u8fd8\u8981\u770b\u5f88\u591a\u8bc4\u8bba\u624d\u51b3\u5b9a\u8d2d\u4e70\uff0c\u800c\u4e14\u4f1a\u662f\u4e00\u5355\u9ad8\u4ef7\u503c\u7684\u8d2d\u4e70\u884c\u4e3a\uff0c\u53e6\u5916\u4f60\u53ef\u80fd\u8fd8\u4f1a\u6ce8\u610f\u5230\u6709\u4e00\u7ec4\u51b2\u52a8\u6d88\u8d39\u578b\u7684\u7528\u6237\uff0c\u4ed6\u4eec\u4e0d\u7528\u6d4f\u89c8\u592a\u6df1\u5165\u5c31\u4f1a\u53d1\u751f\u591a\u6b21\u5c0f\u989d\u8d2d\u4e70\u884c\u4e3a\u3002\u4e00\u65e6\u5b8c\u6210\u4e86\u5bf9\u8fd9\u4e9b\u7ebf\u4e0a\u6d88\u8d39\u8005\u7684\u4eba\u53e3\u8c03\u67e5\uff0c\u4f60\u5c31\u80fd\u66f4\u597d\u5730\u4f18\u5316\u7ad9\u70b9\u63d0\u9ad8\u9500\u552e\u989d\u3002\u56e0\u4e3a\u77e5\u9053\u4e86\u81ea\u5df1\u7684\u5ba2\u6237\u4e2d\u5b58\u5728\u51b2\u52a8\u578b\u6d88\u8d39\u8005\uff0c\u4f60\u5c31\u53ef\u4ee5\u9488\u5bf9\u6027\u5730\u6dfb\u52a0\u4e00\u4e9b\u529f\u80fd\u523a\u6fc0\u8fd9\u90e8\u5206\u6d88\u8d39\u8005\u3002","title":"\u805a\u7c7b\u7b97\u6cd5"},{"location":"algre/K-means%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95/#k-means_1","text":"\u548c\u8fd1\u90bb\u7b97\u6cd5\uff08k-nearest-neighbor\uff09\u4e00\u6837\uff0ck-means \u4e2d\u7684 k \u4e5f\u662f\u4e00\u4e2a\u6570\u91cf\u503c\uff0c\u662f\u7b97\u6cd5\u4e2d\u7684\u91cd\u8981\u53c2\u6570\u3002\u9700\u8981\u7279\u522b\u6307\u51fa\u7684\u662f\uff0c\u8fd9\u91cc\u7684 \u201ck\u201d \u5c31\u662f\u6211\u4eec\u8981\u5728\u6570\u636e\u4e2d\u627e\u51fa\u6765\u7684\u7c07\uff08\u5206\u7ec4\uff09\u7684\u6570\u91cf\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u5f88\u96be\u5728\u95ee\u9898\u89e3\u51b3\u524d\u77e5\u6653\u8fd9\u4e2a\u6570\u91cf\u503c\uff0c\u6240\u4ee5 k-means \u7b97\u6cd5\u901a\u5e38\u9700\u8981\u5728**\u53e6\u5916\u4e00\u4e2a\u7b97\u6cd5\u7684\u5e2e\u52a9\u4e0b\u627e\u5230\u6700\u6070\u5f53\u7684 k \u503c**\u3002 \u95ee\u9898\u662f k-means \u7b97\u6cd5\u4f1a\u628a\u6570\u636e\u5206\u5272\u6210 k \u4e2a\u72ec\u7279\u7684\u7c07\uff0c \u4f46\u662f\u7b97\u6cd5\u4e0d\u4f1a\u544a\u8bc9\u4f60 k \u503c\u662f\u5426\u6b63\u786e\u3002\u6bd4\u5982\uff0c\u4f60\u7684\u6570\u636e\u5728\u7406\u60f3\u60c5\u51b5\u4e0b\u5e94\u8be5\u88ab\u5206\u62105\u4e2a\u7c07\uff0c\u4f46\u662f\u5982\u679c\u4eba\u4e3a\u5730\u628a k \u8bbe\u5b9a\u4e3a3\uff0c\u90a3\u4e48\u4f60\u5c31\u4f1a\u5f97\u52303\u4e2a\u7c07\uff0c\u5f53\u7136\u8fd9\u4e9b\u7c07\u7684\u89c4\u6a21\u80af\u5b9a\u5927\u4e86\u4e00\u4e9b\uff0c\u76f8\u5bf9\u4e8e\u7406\u60f3\u72b6\u6001\u4e0b\u76845\u4e2a\u7c07\uff0c\u7cbe\u786e\u5ea6\u4e5f\u4e0b\u964d\u4e86\u3002 \u8fd9\u4e2a\u7b97\u6cd5\u6709\u4f18\u70b9\u4e5f\u6709\u77ed\u677f\uff0c\u4e3a\u4e86\u4f7f\u7528 k-means \u7b97\u6cd5\u4f60\u9700\u8981\u9884\u5148\u77e5\u9053k\u7684\u503c\uff0c\u6216\u8005\u7528\u53e6\u5916\u7684\u7b97\u6cd5\u5e2e\u4f60\u731c\u6d4b\u8fd9\u4e2a\u503c\u3002 k-means \u53ea\u662f\u5e2e\u4f60\u628a\u6570\u636e\u5206\u5230\u4e0d\u540c\u7684\u7c7b\u522b\u91cc\uff0c\u4f60\u8fd8\u9700\u8981\u505a\u4e9b\u989d\u5916\u7684\u5de5\u4f5c\u627e\u5230\u7c07\u7684\u5408\u9002\u6570\u76ee\u3002 \u5728\u4eca\u5929\u4f8b\u5b50\u4e2d\u6211\u4eec\u5148\u8bbe\u5b9a\u7c07\u7684\u6570\u76ee\u4e3a3\uff0c\u4e0b\u4e00\u7bc7\u6587\u7ae0\u5c06\u4f1a\u8ba8\u8bba\u81ea\u52a8\u731c\u6d4b k \u503c\u7684\u7b97\u6cd5\uff0c\u6700\u5e38\u7528\u5230\u7684\u5c31\u662f**\u8bef\u5dee\u5206\u6790\u6cd5**\u7ed3\u5408**\u53cd\u590d\u8c03\u7528 k-means \u7b97\u6cd5\u4ee5\u4f18\u5316\u7ed3\u679c**\uff0c\u4f7f\u8bef\u5dee\u6700\u5c0f\u5316\u3002","title":"k-means"},{"location":"algre/K-means%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95/#_3","text":"\u867d\u7136 k-means \u7b97\u6cd5\u7b80\u5355\uff0c\u4f46\u662f\u5982\u679c\u7528\u5728\u591a\u7ef4\u6570\u636e\u96c6\u4e0a\u4f1a\u8868\u73b0\u51fa\u5b83\u5f3a\u5927\u7684\u751f\u547d\u529b\u3002\u4eca\u5929\u6211\u4eec\u4f1a\u5904\u7406\u4e00\u7ec42\u7ef4\u6570\u636e\uff0c\u4e0b\u6b21\u6211\u4eec\u518d\u628a\u5b83\u505a\u7684\u590d\u6742\u4e9b\u3002 \u7b97\u6cd5\u8fc7\u7a0b\u5982\u4e0b\uff1a \u4ee5\u6563\u70b9\u56fe\u7684\u65b9\u5f0f\uff0c\u53ef\u89c6\u5316\u6570\u636e\u3002 \u521b\u5efa k \u4e2a\u65b0\u7684\u6570\u636e\u70b9\uff0c\u968f\u673a\u5206\u5e03\u5728\u56fe\u4e0a\uff0c\u628a\u8fd9\u4e9b\u6570\u636e\u70b9\u4f5c\u4e3a\u7c07\u7684\u201c\u91cd\u5fc3\u201d\uff0c\u4e5f\u79f0\u201c\u7c07\u91cd\u5fc3\u5907\u9009\u8005\u201d\u3002 \u91cd\u590d\u4e0b\u9762\u7684\u8fc7\u7a0b\uff1a \u628a\u8ddd\u79bb\u91cd\u5fc3\u6700\u8fd1\u7684\u90a3\u4e9b\u6570\u636e\u70b9\u5206\u914d\u7ed9\u5b83 \u79fb\u52a8\u91cd\u5fc3\u7684\u4f4d\u7f6e\u5230\u6240\u6709\u5c5e\u4e8e\u5b83\u7684\u6570\u636e\u70b9\u7684\u5e73\u5747\u4f4d\u7f6e\u4e0a \u5982\u679c\u91cd\u5fc3\u7684\u4f4d\u7f6e\u5728\u6700\u540e\u4e00\u6b65\u4e2d\u79fb\u52a8\u4e86\uff0c\u7ee7\u7eed\u91cd\u590d\u4e0a\u8bc9\u8fc7\u7a0b\uff0c\u5426\u5219\u9000\u51fa\u3002 \u8fd9\u662f\u4e00\u4e2a\u8fed\u4ee3\u8fc7\u7a0b\u3002\u53ef\u80fd\u4f1a\u8fed\u4ee3\u4e24\u4e09\u6b21\u751a\u81f3\u6570\u5341\u6b21\uff0c\u4f46\u662f\u6700\u7ec8\u4f60\u7684\u7c07\u91cd\u5fc3\u4f1a\u9760\u8fd1\u76ee\u7684\u5730\u5e76\u505c\u6b62\u79fb\u52a8\uff0c\u6700\u540e\u4f1a\u5f97\u5230\u4f60\u60f3\u8981\u7684\u7c07\u96c6\u5408\u3002","title":"\u8fc7\u7a0b"},{"location":"algre/K-means%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95/#_4","text":"\u8be5\u7b97\u6cd5\u548c\u5f88\u591a\u6211\u4eec\u5728\u8fd9\u4e2a\u7cfb\u5217\u4e2d\u5c06\u8981\u8bb2\u5230\u7b97\u6cd5\u7684\u4e00\u6837\uff0c\u5bb9\u6613\u9677\u5165**\u5c40\u90e8\u6700\u4f18\u89e3**\u3002\u5982\u679c\u4f60\u591a\u8fd0\u884c\u4e0b\u9762\u7684\u4f8b\u5b50\u51e0\u6b21\uff0c\u5c31\u4f1a\u53d1\u73b0\u6bcf\u6b21\u5f97\u5230\u7684\u7ed3\u679c\u90fd\u4f1a\u6709\u5dee\u522b\uff0c\u8fd9\u610f\u5473\u7740\u4e00\u4e9b\u7ed3\u679c\u9677\u5165\u4e86\u4e0d\u540c\u7684\u5c40\u90e8\u6700\u4f18\u89e3\u3002 \u7b97\u6cd5\u4ece\u4e00\u4e9b\u968f\u673a\u7684\uff0c\u672c\u8eab\u5c31\u5bb9\u6613\u53d7\u5c40\u90e8\u6700\u4f18\u5f71\u54cd\u7684\u79cd\u5b50\u5f00\u59cb\uff0c\u56e0\u4e3a\u6c38\u8fdc\u4e0d\u77e5\u9053\u7b97\u6cd5\u5177\u4f53\u7684\u5f00\u59cb\u4f4d\u7f6e\u548c\u7ed3\u679c\u7684\u8d70\u5411\uff0c\u79cd\u5b50\u7684\u72b6\u6001\u4f1a\u5bfc\u81f4\u5c40\u90e8\u6700\u4f18\u8fd8\u662f\u5168\u5c40\u6700\u4f18\uff1f\u8fd9\u4e9b\u90fd\u65e0\u4ece\u77e5\u6653\u3002\u5c31\u50cf\u9057\u4f20\u7b97\u6cd5\u4e00\u6837\uff0c\u80fd\u8df3\u51fa\u5c40\u90e8\u6700\u4f18\u89e3\u7684\u4e00\u4e2a\u65b9\u6cd5\u5c31\u662f\u4f7f\u201c\u89e3\u201d\u53d1\u751f\u4e00\u70b9\u513f\u7a81\u53d8\u3002\u5728\u6b64 k-means \u4f8b\u5b50\u4e2d, \u6211\u4eec\u4f1a\u5728\u7b97\u6cd5\u4e2d\u52a0\u5165\u4e00\u6761\u89c4\u5219\uff0c \u5c31\u662f\u5f53\u53d1\u73b0\u91cd\u5fc3\u6570\u636e\u70b9\u7ecf\u8fc7\u4e00\u8f6e\u8fed\u4ee3\u540e\u6ca1\u6709\u53d1\u751f\u79fb\u52a8\uff0c\u90a3\u4e48\u5c31\u5728\u4e00\u4e2a\u5728\u968f\u673a\u65b9\u5411\u4e0a\u63a8\u4e00\u628a \u3002\u7ed3\u679c\u5c31\u662f\u5b83\u53ef\u80fd\u53c8\u56de\u5230\u4e86\u539f\u6765\u7684\u4f4d\u7f6e\uff0c\u4e5f\u53ef\u80fd\u627e\u5230\u4e86\u4e00\u4e2a\u65b0\u7684\u89e3\u3002\u8fd9\u4e2a\u63a8\u52a8\u4e0d\u8981\u5927\u5230\u8ba9\u8ba1\u7b97\u4ece\u56de\u8d77\u70b9\uff0c\u4f46\u662f\u4e5f\u8981\u8db3\u591f\u628a\u5b83\u8e22\u51fa\u67d0\u4e2a\u5c40\u90e8\u6700\u4f18\u533a\u57df\u3002\u53e6\u5916\u4e00\u4e2a\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7684\u6280\u5de7\u88ab\u79f0\u4e4b\u4e3a\u201c\u673a\u5668\u59d4\u5458\u4f1a\u201d\uff0c\u5982\u679c\u4f60\u7684\u7b97\u6cd5\u80fd\u7ed3\u675f\u7684\u5f88\u5feb\u6216\u8005\u80fd\u4f7f\u7528\u5e76\u884c\u8ba1\u7b97\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6280\u5de7\u5f88\u7ba1\u7528\u3002\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u6211\u4eec\u8fd0\u884c k-means \u7b97\u6cd53\u6b21\uff0c5\u6b21\uff0c51\u6b21\u621610000\u6b21\uff0c\u9009\u62e9\u90a3\u4e9b\u6700\u7ecf\u5e38\u5f97\u5230\u7684\u89e3\u3002\u201c\u673a\u5668\u59d4\u5458\u4f1a\u201d \u662f\u6307\u4e00\u4e9b\u4eba\u9009\u62e9\u5728\u4e0d\u540c\u786c\u4ef6\u4e0a\u8fd0\u884c\u5e76\u884c\u7b97\u6cd5\uff0c\u4e00\u4e2a\u5b57\u9762\u4e0a\u7684\u673a\u5668\u59d4\u5458\u4f1a\u80fd\u7ed9\u8fd9\u4e9b\u201c\u89e3\u201d\u6295\u7968\u3002","title":"\u5c40\u9650\u6027"},{"location":"algre/K-means%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95/#_5","text":"\u6211\u4eec\u5f00\u59cb\u4ee3\u7801\u90e8\u5206\uff0c\u548c\u81f3\u4eca\u4e3a\u6b62\u7684\u5176\u4ed6\u4f8b\u5b50\u4e0d\u540c\uff0c\u6211\u4f1a\u653e\u5f03\u9762\u5411\u5bf9\u8c61\u7684\u65b9\u6cd5\u800c\u91c7\u7528\u76f4\u63a5\u4e86\u5f53\u7684\u7b56\u7565\u3002\u89e3\u51b3\u95ee\u9898\u7684\u65b9\u6cd5\u6709\u5f88\u591a\uff0c\u6211\u559c\u6b22OOP\uff0c\u4f46\u662f\u91cd\u70b9\u662f\u4e0d\u8981\u592a\u4f9d\u8d56\u4e8e\u4e60\u60ef\uff0c\u8fd8\u6709\u5c31\u662f\u6211\u4eec\u5728\u4f8b\u5b50\u4e2d\u4f7f\u7528\u7684\u6570\u636e\u53ea\u662f\u4e8c\u7ef4\u7684\uff0c\u6211\u613f\u610f\u628a\u8fd9\u4e2a\u7b97\u6cd5\u5199\u6210\u53ef\u4ee5\u5904\u7406\u4efb\u4f55\u7ef4\u5ea6\u7684\u6570\u636e\u3002\u73b0\u5728\u6765\u770b\u770b\u6211\u4eec\u8981\u4f7f\u7528\u5230\u7684\u6570\u636e\uff0c\u975e\u5e38\u7b80\u5355\u7684\u6570\u7ec4\uff0c\u6bcf\u4e2a\u6570\u636e\u4e2d\u7684\u4e24\u4e2a\u503c\u5206\u522b\u8868\u793ax\uff0cy\u3002 var data = [ [ 1 , 2 ], [ 2 , 1 ], [ 2 , 4 ], [ 1 , 3 ], [ 2 , 2 ], [ 3 , 1 ], [ 1 , 1 ], [ 7 , 3 ], [ 8 , 2 ], [ 6 , 4 ], [ 7 , 4 ], [ 8 , 1 ], [ 9 , 2 ], [ 10 , 8 ], [ 9 , 10 ], [ 7 , 8 ], [ 7 , 9 ], [ 8 , 11 ], [ 9 , 9 ], ]; \u63a5\u4e0b\u6765\u6211\u4eec\u5b9a\u4e49\u4e24\u4e2a\u65b9\u6cd5\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u70b9\u7684\u5217\u8868\uff0c\u6211\u60f3\u77e5\u9053\u5176\u4e2d\u5728x\u548cy\u4e24\u4e2a\u65b9\u5411\u4e0a\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\uff0c\u8fd8\u6709\u5728\u4e24\u4e2a\u65b9\u5411\u4e0a\u7684\u8de8\u5ea6\uff08\u5faa\u73af\u6570\u7ec4\uff0c\u8ba1\u7b97\u6570\u7ec4\u5185\u90e8 X \u548c Y\u7684\u6700\u503c\uff0c\u7136\u540e\u6c42\u8303\u56f4\uff09\u3002\u6bd4\u5982\u5728X\u65b9\u5411\u4e0a\u662f\u4ece1\u523011\uff0c\u5728Y\u65b9\u5411\u4e0a\u662f\u4ece3\u52307\uff0c\u4e86\u89e3\u8fd9\u4e9b\u6709\u5229\u4e8e\u6211\u4eec\u968f\u673a\u4ea7\u751f\u7c07\u91cd\u5fc3\u65f6\u53c2\u8003\u3002 \u6211\u4eec\u5e94\u8be5\u5728\u5934\u8111\u4e2d\u59cb\u7ec8\u4fdd\u6301\u4e00\u4e2a\u7406\u5ff5\uff0c \u5c31\u662f\u8981\u8ba9\u51fd\u6570\u5728\u5904\u7406\u4e0d\u540c\u7ef4\u5ea6\u7684\u6570\u636e\u65f6\u5177\u6709\u901a\u7528\u6027 \uff1a // \u7ed9\u5b9a\u4e00\u4e2an\u7ef4\u6570\u7ec4extremes\uff0c\u83b7\u53d6\u8fd9\u4e2a\u6570\u7ec4\u5728\u4e0d\u540c\u7ef4\u5ea6\u7684\u8303\u56f4\u6570\u7ec4 ranges \u4f8b\u5982\u4e0a\u9762\u7684\u6570\u7ec4 [1, 11]; function getDataRanges ( extremes ) { var ranges = []; for ( var dimension in extremes ) { ranges [ dimension ] = extremes [ dimension ]. max - extremes [ dimension ]. min ; } return ranges ; } // \u628a\u6bcf\u4e00\u4e2a\u7ef4\u5ea6\u7684\u53c2\u6570\u63d0\u53d6\u6210\u4e3a\u516c\u5171\u6570\u636e\uff0c\u83b7\u53d6\u516c\u5171\u6570\u7ec4\u7684\u6700\u503c\uff0c\u518d\u4f7f\u7528\u4e0a\u9762\u7684\u51fd\u6570\u83b7\u53d6\u4e0d\u540c\u7ef4\u5ea6\u7684\u8303\u56f4\u3002\u5728\u8fd9\u4e2a\u8303\u56f4\u4e2d\u8fdb\u884c\u5dee\u503c\uff0c\u9ed8\u8ba4k\uff0c\u8ba1\u7b97\u9ed8\u8ba4\u4e2d\u5fc3\u7684\u5e73\u5747\u503c\u3002 function getDataExtremes ( points ) { var extremes = []; for ( var i in data ) { var point = data [ i ]; for ( var dimension in point ) { // \u8bbe\u7f6e\u9ed8\u8ba4\u7684\u6700\u503c if ( ! extremes [ dimension ] ) { extremes [ dimension ] = { min : 1000 , max : 0 }; } // \u5982\u679c\u4e00\u4e2a\u503c\u5c0f\u4e8e\u6700\u503c\uff0c\u8fdb\u884c\u53d6\u4ee3 if ( point [ dimension ] < extremes [ dimension ]. min ) { extremes [ dimension ]. min = point [ dimension ]; } if ( point [ dimension ] > extremes [ dimension ]. max ) { extremes [ dimension ]. max = point [ dimension ]; } } } // \u6700\u7ec8\u8fd4\u56de\u8fd9\u4e2a\u6570\u7ec4\u7684\u6700\u503c\u96c6\u5408 return extremes ; } getDataExtremes() \u51fd\u6570\u7528\u6765\u904d\u5386\u6bcf\u4e00\u4e2a\u6570\u636e\u70b9\u5e76\u5728\u6240\u6709\u7ef4\u5ea6\u4e0a\u627e\u51fa\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c(\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u91cc\u6709\u4e2a\u4e00\u4e2a\u786c\u7f16\u7801\u7684\u6570\u503c\u201c1000\u201d\uff0c\u4f60\u9700\u8981\u6839\u636e\u5177\u4f53\u60c5\u51b5\u505a\u6539\u53d8\uff09\u3002 getDataRanges() \u51fd\u6570\u7528\u6765\u8f85\u52a9\u8fd4\u56de\u6bcf\u4e2a\u7ef4\u5ea6\u7684\u8303\u56f4\uff08\u6700\u5927\u503c\u51cf\u53bb\u6700\u5c0f\u503c\uff09\u3002 \u4e0b\u4e00\u6b65\u6211\u4eec\u5b9a\u4e49 k \u4e2a\u7c07\u5e76\u521d\u59cb\u5176\u968f\u673a\u7684\u91cd\u5fc3\u4f4d\u7f6e function initMeans ( k ) { if ( ! k ) { k = 3 ; } while ( k -- ) { var mean = []; for ( var dimension in dataExtremes ) { mean [ dimension ] = dataExtremes [ dimension ]. min + ( Math . random () * dataRange [ dimension ]); } means . push ( mean ); } return means ; }; \u7528\u8be5\u65b9\u6cd5\u6211\u4eec\u53ef\u4ee5\u5728\u6570\u636e\u96c6\u8303\u56f4\u4e4b\u5185\u968f\u673a\u5730\u751f\u6210\u51e0\u4e2a\u65b0\u7684\u6570\u636e\u70b9\uff0c\u4e00\u65e6\u6211\u4eec\u62e5\u6709\u4e86\u8fd9\u4e9b\u50cf\u79cd\u5b50\u4e00\u6837\u7684\u91cd\u5fc3\uff0c\u5c31\u53ef\u4ee5\u8fdb\u5165k-means\u5faa\u73af\u8fc7\u7a0b\u4e86\u3002\u5982\u524d\u6240\u8ff0\uff0c \u8be5\u5faa\u73af\u8fc7\u7a0b\u5305\u62ec\u9996\u6b21\u4e3a\u91cd\u5fc3\u5206\u914d\u6570\u636e\u96c6\u91cc\u79bb\u8be5\u91cd\u5fc3\u6700\u8fd1\u7684\u90a3\u4e9b\u70b9\u7ed9\u5b83\uff0c\u7136\u540e\u79fb\u52a8\u91cd\u5fc3\u4f4d\u7f6e\u5230\u8fbe\u8fd9\u4e9b\u70b9\u7684\u5e73\u5747\u91cd\u5fc3\u4f4d\u7f6e\uff0c\u91cd\u590d\u6b64\u8fc7\u7a0b\u76f4\u81f3\u91cd\u5fc3\u505c\u6b62\u79fb\u52a8\u3002 function makeAssignments () { for ( var i in data ) { var point = data [ i ]; var distances = []; for ( var j in means ) { var mean = means [ j ]; var sum = 0 ; for ( var dimension in point ) { var difference = point [ dimension ] - mean [ dimension ]; difference *= difference ; sum += difference ; } distances [ j ] = Math . sqrt ( sum ); } assignments [ i ] = distances . indexOf ( Math . min . apply ( null , distances ) ); } } \u4e0a\u9762\u7684\u51fd\u6570\u4f1a\u88ab\u6211\u4eec\u7684\u904d\u5386\u51fd\u6570\u8c03\u7528\u4ee5\u8ba1\u7b97\u6bcf\u4e2a\u70b9\u4e4b\u95f4\u7684\u6b27\u51e0\u91cc\u5fb7\u8ddd\u79bb\u548c\u7c07\u7684\u91cd\u5fc3\u4f4d\u7f6e\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8be5\u7b97\u6cd5\u4f1a\u904d\u5386\u6bcf\u4e00\u4e2a\u70b9\u5230\u7c07\u91cd\u5fc3\u7684\u8ddd\u79bb\uff0c\u8fd9\u662f\u4e00\u4e2a\u8ba1\u7b97\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(k*n) \u7684\u7b97\u6cd5\uff0c\u590d\u6742\u5ea6\u4e0d\u662f\u5f88\u6050\u6016\uff0c\u4f46\u662f\u5982\u679c\u6570\u636e\u96c6\u6bd4\u8f83\u5e9e\u5927\u6216\u8005\u7c07\u7684\u6570\u76ee\u8f83\u591a\uff0c\u53ef\u80fd\u8ba1\u7b97\u5c31\u6bd4\u8f83\u5bc6\u96c6\u4e86\u3002\u4e0d\u8fc7\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u9014\u5f84\u6765\u4f18\u5316\uff0c\u6211\u4eec\u4f1a\u5728\u540e\u7eed\u6587\u7ae0\u4e2d\u8c08\u5230\u3002\u6709\u4e00\u4e2a\u6211\u4eec\u73b0\u5728\u5c31\u53ef\u4ee5\u7740\u624b\u5904\u7406\u7684\u662fMath.sqrt()\u7684\u6548\u7387\u95ee\u9898\uff0c\u5176\u5b9e\u8fd9\u4e2a\u8c03\u7528\u4e0d\u5fc5\u51fa\u73b0\u5728\u5bf9\u6bcf\u4e2a\u70b9\u7684\u8fed\u4ee3\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\uff0c\u4e00\u65e6\u786e\u5b9a\u4e86\u5206\u914d\u5217\u8868\uff0c\u672c\u4f8b\u4e2d\u8fd9\u4e2a\u5217\u8868\u5c31\u662f\u4e00\u7cfb\u5217\u70b9\u7684\u7d22\u5f15\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u7528\u6240\u6709\u70b9\u4f4d\u7f6e\u7684\u5e73\u5747\u503c\u6765\u66f4\u65b0\u7c07\u91cd\u5fc3\u7684\u4f4d\u7f6e\u4e86\u3002 \u8bd1\u8005\u6ce8\uff1a \u6b27\u51e0\u91cc\u5fb7\u8ddd\u79bb\u662f\u6307\u5728\u6b27\u5f0f\u7a7a\u95f4\u4e2d\u4e24\u70b9\u95f4\u7684\u8ddd\u79bb\uff0c\u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b\uff0c\u5047\u8bbep\uff0cq\u4e24\u70b9\u4e3a\u6b27\u5f0f\u7a7a\u95f4\u4e2d\u7684\u4e24\u4e2a\u70b9\uff0c\u5176\u5404\u81ea\u7684\u7a7a\u95f4\u5750\u6807\u4e3a\uff1a p(p1,p2,p3,... pn) q(q1,q2,q3,... qn) \u5219\u4e24\u70b9\u95f4\u7684\u8ddd\u79bb\u53ef\u8868\u793a\u4e3a\uff1a function moveMeans () { makeAssignments (); var sums = Array ( means . length ); var counts = Array ( means . length ); var moved = false ; for ( var j in means ) { counts [ j ] = 0 ; sums [ j ] = Array ( means [ j ]. length ); for ( var dimension in means [ j ]) { sums [ j ][ dimension ] = 0 ; } } for ( var point_index in assignments ){ var mean_index = assignments [ point_index ]; var point = data [ point_index ]; var mean = means [ mean_index ]; counts [ mean_index ] ++ ; for ( var dimension in mean ){ sums [ mean_index ][ dimension ] += point [ dimension ]; } } for ( var mean_index in sums ){ // console.log(counts[mean_index]); if ( 0 === counts [ mean_index ] ) { sums [ mean_index ] = means [ mean_index ]; // console.log(\"Mean with no points\"); // console.log(sums[mean_index]); for ( var dimension in dataExtremes ){ sums [ mean_index ][ dimension ] = dataExtremes [ dimension ]. min + ( Math . random () * dataRange [ dimension ] ); } continue ; } for ( var dimension in sums [ mean_index ]) { sums [ mean_index ][ dimension ] /= counts [ mean_index ]; } } if ( means . toString () !== sums . toString ()) { moved = true ; } means = sums ; return moved ; } moveMeans() \u65b9\u6cd5\u5728\u5f00\u59cb\u5904\u8c03\u7528 makeAssignments() \u3002\u4e00\u65e6\u5206\u914d\u5de5\u4f5c\u7ed3\u675f\uff0c\u6211\u4eec\u9700\u8981\u521d\u59cb\u5316\u4e24\u4e2a\u6570\u7ec4\uff1a\"sums\" \u548c \"counts\"\u3002\u65e2\u7136\u6211\u4eec\u8981\u8ba1\u7b97\u7b97\u6570\u5e73\u5747\u503c\uff0c\u6211\u4eec\u5c31\u9700\u8981\u77e5\u9053\u6240\u6709\u70b9\u5728\u6bcf\u4e2a\u7ef4\u5ea6\u4e0a\u7684\u603b\u548c\u8fd8\u6709\u70b9\u7684\u6570\u91cf\u3002 \u6211\u4eec\u542f\u7528\u4e09\u4e2a\u904d\u5386\u8fc7\u7a0b\uff1a \u4e00\uff1a\u904d\u5386\u6bcf\u4e2a\u7c07\u91cd\u5fc3\uff0c\u521d\u59cb\u5316\u6570\u7ec4sums\u5728\u6bcf\u4e2a\u7ef4\u5ea6\u4e0a\u7684\u503c\u4e3a0\uff0c\u4ee5\u53ca\u6570\u7ec4\u6570\u91cfcounts\u4e5f\u4e3a0\u3002\u6240\u4ee5sums\u6570\u7ec4\u662f\u4e00\u4e2a\u591a\u7ef4\u6570\u7ec4\uff0c\u539f\u56e0\u5c31\u5728\u4e8e\u6211\u4eec\u5904\u7406\u7684\u662f\u6bcf\u4e2a\u7c07\u4e2d\u7684\u6bcf\u4e2a\u70b9\u5728\u6bcf\u4e2a\u7ef4\u5ea6\u4e0a\u7684\u6570\u636e\u3002 \u4e8c\uff1a\u904d\u5386\u6bcf\u4e2a\u88ab\u5206\u914d\u7684\u6570\u636e\u70b9\u8ba1\u7b97\u51fa\u6bcf\u4e2a\u7c07\u91cd\u5fc3\u62e5\u6709\u7684\u6570\u636e\u70b9\u7684\u6570\u91cf\uff0c\u5e76\u4e14\u904d\u5386\u6570\u636e\u70b9\u7684\u6240\u6709\u7ef4\u5ea6\u586b\u5145 sums \u6570\u7ec4\u3002\u5230\u6b64\uff0c\u6211\u4eec\u62e5\u6709\u4e86\u4e3a\u7c07\u91cd\u5fc3\u8ba1\u7b97\u65b0\u4f4d\u7f6e\u7684\u6240\u6709\u6570\u636e\u3002\u904d\u5386\u7ed3\u679c\uff0c\u4e3a\u6bcf\u4e2a\u7c07\u91cd\u5fc3\u8ba1\u7b97\u65b0\u7684\u5e73\u5747\u4f4d\u7f6e\uff0c\u5e76\u628a\u91cd\u5fc3\u79fb\u52a8\u5230\u8be5\u4f4d\u7f6e\u3002 \u4e09\uff1a\u68c0\u6d4b\u7c07\u91cd\u5fc3\u662f\u5426\u8fd8\u6709\u6570\u636e\u88ab\u5206\u914d\u7ed9\u5b83\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u6211\u4eec\u5c31\u7ed9\u5b83\u4e00\u4e2a\u968f\u673a\u7684\u65b0\u4f4d\u7f6e\uff0c\u5c31\u662f\u6211\u4eec\u4e4b\u524d\u8bf4\u7684\u8e22\u5b83\u4e00\u811a\u3002 \u6700\u540e\uff0c\u5de1\u89c6\u6240\u6709\u7684\u7c07\u91cd\u5fc3\u662f\u5426\u8fd8\u6709\u79fb\u52a8\u60c5\u51b5\uff0c\u5e76\u8fd4\u56de\u771f\u6216\u5047\u3002\u4f7f\u7528\u5982\u4e0b setup \u51fd\u6570\u5f00\u59cb\u6267\u884c\u7b97\u6cd5\uff1a function setup () { canvas = document . getElementById ( 'canvas' ); ctx = canvas . getContext ( '2d' ); dataExtremes = getDataExtremes ( data ); dataRange = getDataRanges ( dataExtremes ); means = initMeans ( 3 ); makeAssignments (); draw (); setTimeout ( run , drawDelay ); } function run () { var moved = moveMeans (); draw (); if ( moved ) { setTimeout ( run , drawDelay ); } } \u6211\u4eec\u9700\u8981\u7684\u8bbe\u5b9a\u90fd\u5728 setup()\u4e2d\u521d\u59cb\u5316\u5b8c\u6210\uff0c\u4e4b\u540e run() \u51fd\u6570\u68c0\u6d4b\u7b97\u6cd5\u662f\u5426\u505c\u6b62\u4e86\uff0c\u5e76\u6839\u636e\u65f6\u949f\u7684\u95f4\u9694\u8bbe\u5b9a\u5faa\u73af\u6267\u884c\uff0c\u6211\u4eec\u4e5f\u5c31\u80fd\u5b9e\u65f6\u770b\u5230\u7b97\u6cd5\u7684\u8fd0\u884c\u60c5\u51b5\u4e86\u3002","title":"\u4ee3\u7801"},{"location":"algre/K-means%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95/#k-medians","text":"\u4f7f\u7528\u52a0\u6743\u5e73\u5747\uff0c\u7ed3\u679c\u53ef\u80fd\u53d7\u5230\u6781\u503c\u5f71\u54cd\uff0c\u4f7f\u7528\u4e2d\u503c\u8fdb\u884c\u805a\u7c7b\u6548\u679c\u66f4\u597d\u3002 k-means\u7b97\u6cd5\u5b58\u5728\u4e00\u4e2a\u95ee\u9898\uff0c\u5176\u5b9e\u5e76\u4e0d\u662f\u7b97\u6cd5\u672c\u8eab\u7684\u95ee\u9898\uff0c\u800c\u662f\u7b97\u6570\u5e73\u5747\u503c\u81ea\u8eab\u5b58\u5728\u7684\u7f3a\u9677\uff0c\u5c31\u662f\u5f53\u6570\u636e\u4e2d\u51fa\u73b0\u4e86\u67d0\u4e9b\u6570\u636e\u98de\u5730\uff08\u504f\u79bb\u6574\u4f53\u6570\u636e\u5f88\u8fdc\uff09\uff0c\u4f1a\u7ed9\u7b97\u6570\u5e73\u5747\u503c\u5e26\u6765\u4e0d\u5229\u5f71\u54cd\u3002\u6bd4\u5982\uff0c\u4f60\u6240\u5728\u7684\u516c\u53f8\u6709\u4e94\u4e2a\u4eba\u6bcf\u5e74\u7684\u85aa\u6c34\u662f5\u4e07\u5143\uff0c\u4f46\u662f\u6709\u53e6\u5916\u4e00\u4e2a\u4eba\u6bcf\u5e74\u7684\u85aa\u6c34\u9ad8\u8fbe100\u4e07\uff0c\u90a3\u4e48\u85aa\u6c34\u4e2d\u95f4\u503c\u4f1a\u662f5\u4e07\uff08\u80fd\u4ee3\u8868\u516c\u53f8\u7684\u85aa\u6c34\u60c5\u51b5\uff09\uff0c\u800c\u5e73\u5747\u503c\u8fbe\u5230\u4e8620\u4e07\uff08\u5b8c\u5168\u4e0d\u80fd\u4ee3\u8868\u516c\u53f8\u85aa\u8d44\u60c5\u51b5\uff09\uff01 \u8fd9\u79cd\u95ee\u9898\u5f53\u7136\u4e5f\u4f1a\u5728k-means\u7b97\u6cd5\u4e2d\u53d1\u751f\u3002\u5982\u679c\u4f60\u62ff\u5230\u7684\u6570\u636e\u4e2d\u6709\u98de\u5730\u60c5\u51b5\uff0c\u4f60\u4f1a\u53d1\u73b0k-means\u7b97\u6cd5\u5f97\u5230\u7684\u7ed3\u679c\u5f88\u7cdf\u7cd5\uff0c\u4e00\u4e2a\u89e3\u51b3\u529e\u6cd5\u5c31\u662f\u4f7f\u7528 k-medians \u4ee3\u66ff k-means, \u4e8c\u8005\u7b97\u6cd5\u76f8\u4f3c\uff0c\u53ea\u662f\u7528\u4e2d\u503c\u4ee3\u66ff\u5e73\u5747\u503c\uff0c\u8fd9\u6837\u53ef\u4ee5\u6ee4\u6389\u6570\u636e\u98de\u5730\u7684\u5f71\u54cd\u3002\u53e6\u5916\uff0c\u6211\u8ba4\u4e3a\u5728\u8ba1\u7b97\u6548\u7387\u4e0a\u4e5f\u4f1a\u6bd4\u5e73\u5747\u503c\u6cd5\u66f4\u9ad8\u6548\u3002","title":"k-medians"},{"location":"algre/K-means%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95/#_6","text":"k-meeans \u7b97\u6cd5\u5bf9\u4e8e\u6211\u4eec\u5b9a\u4e49\u7684\u6574\u6d01\u5e72\u51c0\u7684\u6570\u636e\u6765\u8bf4\u8fd0\u884c\u7684\u975e\u5e38\u5b8c\u7f8e\u3002\u5f88\u663e\u7136\uff0c\u5982\u679c\u6570\u636e\u810f\u4e71\uff0c\u4e5f\u4f1a\u50cf\u5176\u5b83\u7b97\u6cd5\u4e00\u6837\u9047\u5230\u56f0\u96be\u3002\u5982\u679c\u4e0d\u538c\u5176\u70e6\u5730\u591a\u8fd0\u884c\u51e0\u6b21\u6211\u7684\u4ee3\u7801\uff0c\u4f60\u4e5f\u4f1a\u9047\u5230\u9677\u4e8e\u5c40\u90e8\u6700\u4f18\u89e3\u7684\u95ee\u9898\u3002\u8fd9\u5c31\u9700\u8981\u901a\u8fc7\u201c\u673a\u5668\u59d4\u5458\u4f1a\u201d\u7684\u6280\u5de7\u6765\u89e3\u51b3\u4e86\uff1a\u901a\u8fc7\u4e00\u6b21\u6b21\u7684\u8fd0\u884c\uff0c \u90a3\u4e9b\u7ecf\u5e38\u5f97\u51fa\u7684\u7ed3\u679c\u5c31\u662f\u6211\u4eec\u8981\u7684\u7b54\u6848 \u3002","title":"\u7ed3\u679c"},{"location":"algre/LeetCode%E5%88%B7%E9%A2%98%E6%96%B9%E6%B3%95/","text":"\u5237\u9898\u65b9\u6cd5 \u00b6 \u4f5c\u4e3a LeetCode \u7684\u94c1\u7c89\u5e76\u53d7\u76ca\u7684\u5237\u9898\u4eba\uff0c\u6211\u8ba4\u4e3a\u638c\u63e1\u4e00\u5957\u9ad8\u6548\u7684\u5237\u9898\u65b9\u6cd5\u5c24\u5176\u6709\u6548\uff0c\u5426\u5219\u5f88\u96be\u8986\u76d6\u65e5\u76ca\u589e\u591a\u7684\u9898\u5e93\uff0c\u5e76\u4e14\u5927\u591a\u6570\u65f6\u5019\u5237\u5b8c\u4e0d\u4e45\u5c31\u4f1a\u5fd8\u6389\u3002\u6240\u4ee5\u6211\u628a\u5f53\u5e74\u5237\u9898\u7684\u7ecf\u9a8c\u5206\u4eab\u7ed9\u4f60\uff0c\u5e0c\u671b\u6211\u7684\u65b9\u6cd5\u4e5f\u5bf9\u4f60\u6709\u7528\uff0c\u5e0c\u671b\u6211\u4eec\u80fd\u505a\u540c\u4e8b\u3002 \u6211\u65b9\u6cd5\u7684\u6838\u5fc3\u5b9e\u9645\u4e0a\u548c\u80cc\u82f1\u8bed\u5355\u8bcd\u7c7b\u4f3c\uff0c\u603b\u7ed3\u9898\u578b\uff0c\u627e\u5230\u9ad8\u9891\u9898\u5e76\u4e14\u4e0d\u65ad\u91cd\u590d\u3002\u5177\u4f53\u6765\u8bb2\u5c31\u662f \u6309 tag \u5206\u7c7b\u2014\u2014\u827e\u5bbe\u6d69\u65af\u8bb0\u5fc6\u66f2\u7ebf\uff0c\u4e0d\u65ad\u91cd\u590d\u5237\u8fc7\u7684\u9898\u2014\u2014\u4e0d\u65ad\u603b\u7ed3\u638c\u63e1\u60c5\u51b5 \u4e3a\u4ec0\u4e48\u8fd9\u4e48\u6765\u64cd\u4f5c\u662f\u56e0\u4e3a\u7ecf\u8fc7\u5f88\u591a\u9762\u8bd5\u540e\uff0c\u53d1\u73b0\u5927\u591a\u6570\u9898\u578b\u8fd8\u662f\u6bd4\u8f83\u57fa\u672c\u548c\u91cd\u8981\u7684\uff0c\u5206\u5e03\u5728 medium \u548c advanced medium \u4e4b\u95f4\u3002\u800c\u8fd9\u4e9b\u9898\u76ee\u53c8\u53ef\u4ee5\u6f14\u53d8\u51fa\u6765\u5f88\u591a\u4e0d\u540c\u7684\u9898\uff0c\u4f46\u4e07\u53d8\u4e0d\u79bb\u5176\u5b97\uff0c\u6293\u4f4f\u672c\u8d28\u5e76\u4e14\u719f\u7ec3\u638c\u63e1\u5373\u53ef\u3002 1 \u6309 tag \u5206\u7c7b \u00b6 \u7b2c\u4e00\u4ef6\u4e8b\u5c31\u662f\u6309\u7167 tag \u628a\u9898\u76ee\u5206\u6210\u4e0d\u540c\u7684 list\uff0c\u4e00\u822c\u6bcf\u4e2a\u516c\u53f8\u4e3a\u4e00\u4e2a list\u3002\u4e00\u5b9a\u8981\u6839\u636e\u81ea\u5df1\u7684\u5237\u9898\u638c\u63e1\u60c5\u51b5\u6765\u5b9a\u5236 list\uff0c\u8fd9\u4e5f\u662f\u6211\u8fd9\u4e2a\u65b9\u6cd5\u4fdd\u8bc1\u5bf9\u4f60\u6709\u7528\u7684\u7cbe\u9ad3\u3002\u968f\u4fbf\u4ece\u5176\u4ed6\u5730\u65b9\u7684\u8236\u6765\u54c1\u57fa\u672c\u6ca1\u7528\uff0c\u56e0\u4e3a\u53ea\u6709\u81ea\u5df1\u624d\u6700\u4e86\u89e3\u81ea\u5df1\u7684\u590d\u4e60\u60c5\u51b5\u3002\u5982\u679c\u4f60\u57fa\u7840\u6bd4\u8f83\u5dee\uff0c\u4e4b\u524d\u6ca1\u600e\u4e48\u5237\u8fc7\u9898\u6216\u8005\u662f\u8f6c\u4e13\u4e1a\uff0c\u6211\u63a8\u8350\u7684\u505a\u6cd5\u662f\u989d\u5916\u5206\u4e00\u4e2a basic list\uff0c\u610f\u601d\u662f\u6240\u6709\u57fa\u7840\u7684\u6570\u636e\u7ed3\u6784/\u7b97\u6cd5\u90fd\u8986\u76d6\u4e00\u904d\uff0c\u8fd9\u4e9b\u9898\u662f\u4e00\u5b9a\u8981\u4f1a\u7684\uff0c\u57fa\u7840\u4e2d\u7684\u57fa\u7840\u3002\u6211\u628a\u6211\u8ba4\u4e3a\u57fa\u7840\u7684 list \u9700\u8981 cover \u7684\u5185\u5bb9\u5206\u4eab\u5728\u8fd9\u91cc\uff08\u540e\u9762\u662f\u9898\u53f7\uff09\uff1a \u6df1\u5ea6\u4f18\u5148\u904d\u5386\u3001\u56de\u6eaf\u7b97\u6cd5\u3001\u52a8\u6001\u89c4\u5212\u3001\u5e7f\u5ea6\u4f18\u5148\u904d\u5386\u3001\u5206\u6cbb\u7b97\u6cd5\u3001\u8d2a\u5fc3\u7b97\u6cd5\u3001\u6ed1\u52a8\u7a97\u53e3\u3001\u56fe\u3001\u6811\u3001\u4e8c\u5206\u641c\u7d22\u3002\u8fd9\u4e2a\u57fa\u7840\u7684 list \u57fa\u672c\u4e0a\u4e00\u5b9a\u8981\u6db5\u76d6\u8fd9\u4e9b\u57fa\u7840\u77e5\u8bc6\u70b9\uff08\u9762\u8bd5\u5fc5\u8003\uff09\u3002 \u5206\u7c7b\u5237\u9898\uff0c\u786e\u4fdd\u57fa\u7840\u7684\u77e5\u8bc6\u70b9\u4e0d\u9057\u6f0f DFS + memo 322 Backtracking 22 DP ( DP <--> DFS + memo ) 55 BFS 286 Partition \uff08 Divide and Conquer \uff09 86 Greedy 421 Sliding Window 15 Graph 207 743 Tree Binary Search 2 \u827e\u5bbe\u6d69\u65af\u8bb0\u5fc6\u66f2\u7ebf\uff0c\u4e0d\u65ad\u91cd\u590d\u5237\u8fc7\u7684\u9898 \u00b6 \u7b2c\u4e8c\u6b65\u5c31\u662f\u8457\u540d\u7684\u827e\u5bbe\u6d69\u65af\u8bb0\u5fc6\u66f2\u7ebf\u7684\u8fd0\u7528\u4e86\u3002\u8003\u8fc7\u6258\u798f/\u96c5\u601d\u7684\u7ec6\u5fc3\u7684\u540c\u5b66\u53ef\u80fd\u53d1\u73b0\u4e86\uff0c\u8fd9\u4e2a\u5b9e\u9645\u4e0a\u548c\u8bb0\u5fc6\u82f1\u8bed\u5355\u8bcd\u6709\u5f02\u66f2\u540c\u5de5\u4e4b\u5904 -- \u5148\u505a list\uff0c\u7b2c\u4e8c\u6b65\u6211\u4eec\u8981\u5e72\u561b\uff1f\u6309 list \u4e0d\u65ad\u590d\u4e60\uff0c\u6bcf\u5929\u5faa\u73af\u5440\uff01\u8fd9\u91cc\u6211\u7528\u6211\u7684 Basic List \u6765\u4e3e\u4e2a\u4f8b\u5b50\uff1a \u8bf7\u6ce8\u610f\u89c2\u5bdf\u6211\u7684 Legend \u4e00\u822c\u8868\u683c\u7684\u7b2c\u4e00\u680f\u662f\u7559\u7ed9 Legend \u7684\uff0c\u6bcf\u6b21\u5237\u5b8c\u6211\u4f1a\u8bb0\u5f55\u5f53\u524d\u7684\u72b6\u6001\uff0c\u65b9\u4fbf\u65e5\u540e\u5de9\u56fa\u3002 \u5982\u679c\u662f\u4e00\u6b21\u8fc7\u7684\uff1a\u5c31\u662f\u76f4\u63a5 y\uff1b \u5982\u679c\u4e2d\u9014\u6709\u505c\u987f\uff0c\u800c\u4e14\u601d\u8def\u4e5f\u4e0d\u6e05\u6670\u7684\uff0c\u5199 \uff1f\uff1b \u5982\u679c\u600e\u4e48\u60f3\u4e5f\u505a\u4e0d\u51fa\u6765\uff0c\u770b\u4e86\u7b54\u6848\u7684\u6216\u505a\u4e4b\u524d\u770b\u8fc7\u7b54\u6848\uff0c\u5c31\u662f \u203b\u3002 \u7136\u540e\u6839\u636e\u8fd9\u4e9b\u8bb0\u5f55\u7684\u60c5\u51b5\uff0c\u7b2c\u4e8c\u5929\u6765\u5b89\u6392\u4e0d\u540c\u7684\u4f18\u5148\u7ea7\u548c\u7cbe\u529b\u91cd\u65b0\u5237\u8fd9\u4e9b\u9898\uff0c\u5927\u5bb6\u53ef\u4ee5\u770b\u5230 168 \u6211\u6253\u4e86\u4e09\u4e2a \u203b\uff0c\u8bf4\u660e 3 \u6b21\u90fd\u4e0d\u4f1a\uff0c\u65e5\u540e\u8fd8\u9700\u8981\u7ee7\u7eed\u5de9\u56fa\u6b64\u7c7b\u9898\u578b\u3002\u5bf9\u4e8e\u90a3\u4e9b y \u7684\u9898\u76ee\u76f4\u63a5\u8fc7\uff0c\u57fa\u672c\u4e0a\u534a\u5e74\u518d\u6765 review \u4e00\u6b21\u3002 \u6bcf\u4e00\u4e2a\u9898\u76ee\u505a\u6807\u8bb0\uff08\u7c7b\u4f3c\u9762\u8bd5\u9898\uff09Y N \uff1f\u4e09\u79cd\u3002\u7136\u540e\u786e\u4fdd\u81ea\u5df1\u7684\u7b54\u6848\u662f\u6b63\u786e\u7684\u7b54\u6848\u3002\u5982\u679c\u7b54\u6848\u4e0d\u6b63\u786e\uff0c\u8bb0\u4f4f\u9519\u8bef\u7684\u7b54\u6848\uff0c\u5b8c\u5168\u6ca1\u6709\u6548\u679c\u3002\u7b2c\u4e8c\u5929\u505a\u7684\u4e8b\u60c5\u4e0d\u662f\u7ee7\u7eed\u5237\u65b0\u7684\u9898\u76ee\uff0c\u800c\u662f\u590d\u4e60\u65e7\u7684\u77e5\u8bc6\u70b9\u3002 3 \u4e0d\u65ad\u603b\u7ed3\u638c\u63e1\u60c5\u51b5 \u00b6 \u6700\u540e\u4e00\u6b65\u4e5f\u662f\u6700\u91cd\u8981\u7684\u4e00\u6b65\uff1a\u603b\u7ed3\u3002\u6211\u4eec\u9700\u8981\u968f\u65f6\u8bb0\u5f55\u4e0b\u5f53\u524d\u5237\u9898\u7684\u72b6\u6001\uff0c\u7136\u540e\u6bcf\u5929\u5728\u5237\u9898\u65f6\u505a\u5230\u6709\u7684\u653e\u77e2\uff1a\u4e0d\u6d6a\u8d39\u6bcf\u4e00\u9053\u65b0\u9898\uff0c\u4e0d\u91cd\u590d\u4efb\u4f55\u4e00\u9053\u5df2\u638c\u63e1\u7684\u65e7\u9898\u3002 \u603b\u7ed3\u9700\u8981\u6ce8\u610f\u7684\u5173\u952e\u70b9\uff1a \u603b\u7ed3 tag -- \u8fd9\u9898\u6211\u6709\u54ea\u4e9b\u65b9\u6cd5\uff0c\u54ea\u4e2a\u662f\u6700\u4f18\u89e3 \u603b\u7ed3\u7b14\u8bb0 -- \u6709\u5fc5\u8981\u7684\u8bdd\u9700\u8981\u8bb0\u4e0b\u6765\u54ea\u91cc\u6709\u8fd9\u9898\u7684\u7b14\u8bb0 \u603b\u7ed3\u76f8\u4f3c\u9898\u578b \u603b\u7ed3\u5173\u952e\u89e3\u9898\u6b65\u9aa4 \u603b\u7ed3 tag \u5927\u81f4\u610f\u601d\u662f\u8bf4\uff1a\u8fd9\u9898\u5927\u6982\u6709\u54ea\u4e9b\u65b9\u6cd5\u53ef\u4ee5\u641e\u5b9a\uff0c\u4ee5\u53ca\u81ea\u5df1\u6700\u559c\u6b22\u7684\u65b9\u6cd5\u3002\u4e00\u822c\u63a8\u8350\u4e24\u79cd\u65b9\u6cd5\u5373\u53ef\uff1a\u57fa\u672c\u7684 brute force\uff08\u66b4\u529b\u7b97\u6cd5\uff09 + advanced algorithm / data structure\u3002\u6ce8\u610f\u8fd9\u4e24\u4e2a\u90fd\u662f\u5fc5\u8981\u7684\uff0c\u6211\u6709\u7ecf\u5386\u8fc7\u80cc\u4e0b\u6765\u9ad8\u7ea7\u89e3\u6cd5\uff0c\u7ed3\u679c\u57fa\u672c\u89e3\u6cd5\u4e0d\u719f\u7ec3\u6700\u540e\u88ab\u6302\u6389\u7684\u9762\u8bd5\u3002\u5927\u5bb6\u53ef\u80fd\u8981\u95ee\uff1a\u770b\u8ba8\u8bba\u533a\u90a3\u4e9b ACM \u5927\u795e\u4eec\u7684\u5947\u6280\u6deb\u5de7\u592a NB \u4e86\uff0c\u6211\u662f\u4e0d\u662f\u8981\u5168\u80cc\u4e0b\u6765\uff1f\u6211\u7684\u5efa\u8bae\u662f\u5927\u53ef\u4e0d\u5fc5\uff0c\u8bb0\u4f4f\u4e00\u4e2a\u81ea\u5df1\u6700\u987a\u624b\u7684\u5373\u53ef\u3002\u800c\u4e14\u6ce8\u610f\uff1abrute force \u4e00\u5b9a\u8981\u719f\u7ec3\uff0c\u5728\u8fd9\u4e2a\u57fa\u7840\u4e4b\u4e0a\u624d\u80fd\u5f00\u59cb\u7814\u7a76\u9ad8\u7ea7\u4e00\u4e9b\u7684\u89e3\u6cd5\u3002 \u603b\u7ed3\u7b14\u8bb0\uff0c\u5f88\u591a\u7684\u9898\u505a\u4e86\u597d\u591a\u904d\u4e5f\u4e0d\u592a\u4f1a\uff0c\u4f8b\u5982\u6211\u4e0a\u9762\u7684 31\uff0c\u611f\u89c9\u8981\u5237\u6b7b\u4eba\u4e86\u8fd8\u662f\u4e0d\u4f1a\u3002\u90a3\u6ca1\u6709\u529e\u6cd5\uff0c\u6211\u53ea\u80fd\u628a\u8fd9\u4e2a\u89e3\u6cd5\u5355\u72ec\u62ff\u51fa\u6765\uff0c\u5199\u5230\u7eb8\u8d28\u7684\u7b14\u8bb0\u672c\u4e0a\uff0c\u6709\u7a7a\u5c31\u770b\u4e00\u904d\uff0c\u63a8\u4e00\u904d\uff0c\u6572\u4e00\u904d\u3002 \u603b\u7ed3\u7c7b\u4f3c\u9898\u578b\uff0c\u8fd9\u4e2a\u4e5f\u5f88\u6709\u7528\uff0c\u56e0\u4e3a\u5f80\u5f80\u7c7b\u4f3c\u9898\u578b\u90fd\u6709\u4e00\u81f4\u7684\u89e3\u6cd5\uff0c\u53ea\u662f\u8d8a\u5f80\u96be\uff0c\u8d8a\u662f\u5728\u57fa\u7840\u89e3\u6cd5\u4e0a\u7cc5\u5408\u4e86\u5176\u4ed6\u7684\u7b97\u6cd5\u6280\u5de7\u3002\u6709\u65f6\u5019 LeetCode \u4e0a\u7ed9\u7684\u7c7b\u4f3c\u9898\u578b\u4e0d\u51c6\uff0c\u6211\u4e00\u822c\u662f\u53c2\u8003\u4e4b\u540e\u518d\u770b\u770b\u5927\u5bb6\u7684\u5efa\u8bae\uff0c\u7136\u540e\u628a\u6240\u6709\u7684\u5148\u603b\u7ed3\u51fa\u6765\uff0c\u5e76\u4e14\u628a\u76f8\u4f3c\u7684\u9898\u94fe\u63a5\u8d77\u6765\u3002\u6bcf\u6b21\u7ec3\u4e60\u4e00\u8d77\u7ec3\uff0c\u627e\u51fa\u6bcf\u79cd\u9898\u578b\u7684\u57fa\u672c\u5dee\u5f02\u3002\u4f8b\u5982\u7ecf\u5178\u7684\u4e70\u80a1\u7968\u56db\u8fde\u95ee\u9898\uff0c\u5efa\u8bae\u5927\u5bb6\u8bd5\u8bd5\u770b\u3002 \u603b\u7ed3\u5173\u952e\u89e3\u9898\u6b65\u9aa4\u3002\u8fd9\u4e00\u70b9\u5f88\u6709\u610f\u601d\uff0c\u4e3b\u8981\u662f\u8bf4\u5728\u9047\u5230\u96be\u9898\u65f6\uff0c\u770b\u5b8c\u5927\u795e\u7684\u89e3\u6cd5\u4e4b\u540e\u81ea\u5df1\u603b\u7ed3\u51fa\u51e0\u70b9\u5173\u952e\u6b65\u9aa4\uff0c\u8fd9\u6837\u4e0b\u6b21\u8981\u662f\u518d\u5361\u58f3\u4e86\u5c31\u53ef\u4ee5\u76f4\u63a5\u770b\u8fd9\u4e2a\uff0c\u60f3\u60f3\u4e4b\u524d\u81ea\u5df1\u662f\u600e\u4e48\u89e3\u7684\u601d\u8def\uff0c\u800c\u4e0d\u662f\u518d\u53bb\u770b\u5176\u4ed6\u8ba8\u8bba\u3002\u8fd9\u6837\u5faa\u73af\u5f80\u590d\u4e2a 2-3 \u6b21\u5c31\u80fd\u719f\u7ec3\u8bb0\u4e0b\u6765\u3002\u4f8b\u5982 42 \u90a3\u9898\uff0c\u6211\u5c31\u5199\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u5c0f\u63d0\u793a\uff0c\u786e\u4fdd\u4e0b\u6b21\u518d\u5361\u58f3\u53ef\u4ee5\u770b\u8fd9\u4e2a tips \u800c\u4e0d\u662f\u7ffb\u770b\u7b54\u6848\uff0c\u4ece\u5934\u518d\u6765\u63a8\u4e00\u8fb9\u3002\u4ece\u800c\u63d0\u9ad8\u5237\u9898\u6548\u7387\u3002 \u6309\u7167\u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u65ad\u7ec3\u4e60\uff0c\u6211\u4fdd\u8bc1\u4f60\u6700\u5dee\u53ef\u4ee5\u5237\u8fdb flag\uff0c\u56e0\u4e3a\u4e0d\u7ba1\u662f\u4ece\u4ee5\u524d\u522b\u4eba\u9762\u8bd5\u6211\u7684\u7ecf\u5386\u8fd8\u662f\u73b0\u5728\u6211\u9762\u8bd5\u522b\u4eba\u7684\u7ecf\u5386\u6765\u770b\uff0c \u5927\u5bb6\u6700\u770b\u91cd\u7684\u5176\u5b9e\u8fd8\u662f\u57fa\u7840\u7b97\u6cd5\u77e5\u8bc6\u662f\u5426\u7262\u56fa\uff0c\u5373 medium \u548c advanced medium \u80fd\u5426\u591f\u5bf9\u7b54\u5165\u6d41 \u3002 \u81f3\u4e8e\u90a3\u4e9b\u8111\u7ecf\u6025\u8f6c\u5f2f\u5f0f\u7684 easy \u548c\u6709\u5f88\u591a\u9ad8\u7ea7\u6280\u5de7\u7684 hard\uff0c\u5b9e\u9645\u4e0a\u6211\u4e2a\u4eba\u611f\u89c9\u4e0d\u662f\u4e3b\u8981\u7684\u8003\u5bdf\u8303\u56f4\u3002\u9664\u975e\u662f ACM \u53c2\u8d5b\u8005\uff0c\u5bf9\u4e8e\u4e00\u822c\u7684 candidate \u7f16\u7a0b\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4efd\u5de5\u4f5c\uff0c\u65e2\u7136\u662f\u8fd9\u6837\uff0c\u90a3\u5c31\u627e\u5230\u5408\u9002\u7684\u65b9\u6cd5\u6765\u5e94\u5bf9\u3002\u628a\u66f4\u591a\u7684\u65f6\u95f4\u82b1\u5728\u66f4\u5b9d\u8d35\u7684\u4e8b\u60c5\u4e0a\uff0c\u4f8b\u5982\u4f60\u559c\u6b22\u7684\u4eba\u548c\u7269\u4e0a\u3002 \u901a\u8fc7\u5237\u9898\uff0c\u62ff\u4e86\u5f88\u591a\u516c\u53f8\uff08IBM, Google, Amazon, Microsoft, Zenefits, Splunk\uff09\u7684\u9762\u8bd5\u4ee5\u53caoffer\u3002\u8fd9428\u9898\u4e0d\u662f\u7b80\u5355\u7684\u5237\u4e00\u904d\u5c31\u8fc7\u53bb\u7684\uff0c\u800c\u662f\u53cd\u590d\u7ec3\u4e60\uff0c\u76f4\u5230\u4ee3\u7801\u6700\u4f18\uff0c\u89e3\u6cd5\u6700\u4f18\uff08\u6709\u65f6\u5019\u751a\u81f3\u89c9\u5f97\u81ea\u5df1\u7684\u4ee3\u7801\u7cbe\u7b80\u5230\u4e00\u4e2a\u7b26\u53f7\u90fd\u65e0\u6cd5\u51cf\u5c11\u7684\u5730\u6b65\uff09\u3002\u6240\u4ee5\u6709\u65f6\u5019\u9762\u8bd5\u5b98\u95ee\u95ee\u9898\uff0c\u95ee\u9898\u8fd8\u6ca1\u8bf4\u5b8c\uff0c\u6211\u5c31\u77e5\u9053\u5e94\u8be5\u5982\u4f55\u8868\u8ff0\u81ea\u5df1\u7684\u5fc3\u8def\u5386\u7a0b\uff0c\u7136\u540e\u6162\u6162\u5730\u7ed9\u51fa\u6700\u4f18\u89e3\u3002 \u800c\u8fd9\u4e00\u5207\u7684\u5173\u952e\u5c31\u5728\u4e8e\uff1a\u505a\u7b14\u8bb0\uff01\u7b14\u8bb0\u5c31\u8bb0\u5f55\u5728\u6e90\u4ee3\u7801\u4e2d \u4e0b\u9762\u662f\u6211\u7684\u7b14\u8bb0\u622a\u56fe\uff1a \u5bf9\u4e8e\u9047\u5230\u7684\u6bcf\u4e2a\u9898\u76ee\uff0c\u4e8b\u540e\u6211\u90fd\u505a\u4e0a\u6807\u8bb0\uff1a\u666e\u901a\u9898\u76ee\uff0c\u96be\u9898\u3001\u597d\u9898\u3002\u6b64\u5916\uff0c\u6bcf\u4e2a\u9898\u76ee\u90fd\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\u505a\u597d\u8be6\u7ec6\u7684\u7b14\u8bb0\uff1a \\1. \u539f\u9898\u76ee \\2. \u81ea\u5df1\u7684\u7b2c\u4e00\u904d\u89e3\u6cd5 \\3. \u7f51\u4e0a\u597d\u7684\u89e3\u6cd5 \\4. \u81ea\u5df1\u53ef\u4ee5\u6539\u8fdb\u7684\u5730\u65b9 \\5. \u8fdb\u4e00\u6b65\u7cbe\u7b80\u4f18\u5316\u81ea\u5df1\u7684\u4ee3\u7801\u76f4\u81f3\u4ee3\u7801\u7b80\u65e0\u53ef\u7b80 \uff08 \u8fd9\u662f\u975e\u5e38\u5173\u952e\u7684\u4e00\u6b65\uff0c\u5230\u8fbe\u8fd9\u4e00\u6b65\uff0c\u624d\u4f1a\u53d1\u73b0\u83b7\u5f97\u80fd\u529b\u7684\u63d0\u5347\u8fdc\u8fdc\u8981\u8d85\u8fc7\u7b80\u5355\u5730\u628a\u9898\u76ee\u89e3\u51fa\u6765 \uff09\u4e0d\u4e00\u5b9a\u662f\u4ee3\u7801\u91cf\u6700\u5c11\uff0c\u800c\u662f\u4ee3\u7801\u6700\u597d\uff08\u7b97\u6cd5\uff0c\u53ef\u8bfb\u6027\u7b49\uff09 \\6. \u83b7\u5f97\u7684\u601d\u8003\uff08\u6216\u8005\u5b66\u4e60\u5230\u7684\u5730\u65b9\uff0c\u53ef\u4ee5\u662f\u7b97\u6cd5\u3001\u6570\u636e\u7ed3\u6784\u6216\u8005Java\u7684\u7279\u6027\u2014\u4f8b\u5982Stream\u7b49\u7b49\uff09 \u6bcf\u4e00\u4e2a\u9898\u76ee\u90fd\u7ecf\u8fc7\u81f3\u5c11\u4e00\u904d\u8fd9\u6837\u7684\u8fed\u4ee3\u3002\u8fd9\u6837\u51e0\u904d\u4e0b\u6765\uff0c\u6211\u5bf9\u4e8e\u6bcf\u4e2a\u9898\u76ee\u90fd\u6709\u4e86\u66f4\u52a0\u6df1\u523b\u7684\u7406\u89e3\uff0c\u5927\u90e8\u5206\u7684\u9898\u76ee\u6211\u90fd\u6709\u81ea\u4fe1\u80fd\u591f\u5199\u51fa\u6700\u4f18\u89e3\u751a\u81f3\u4ee3\u7801\u90fd\u662f\u6700\u4f18\u5316\u7684\uff08\u81f3\u5c11\u6bd4\u8bba\u575b\u56de\u590d\u91cc\u9762\u7684\u6700\u9ad8\u7968\u7b54\u6848\u8fd8\u8981\u7cbe\u7b80\uff09\u3002 \u603b\u4e4b\uff0c \u4e0d\u65ad\u5730\u5b66\u4e60\u522b\u4eba\u7684\u4ee3\u7801\uff0c\u6539\u8fdb\u81ea\u5df1\u7684\u4ee3\u7801\uff0c\u4e0d\u65ad\u5730\u9524\u70bc\u81ea\u5df1\u7684\u4ee3\u7801\uff0c\u76f4\u81f3\u7b97\u6cd5\u6700\u4f18\u5316\uff0c\u4ee3\u7801\u6700\u7b80\u6d01 \uff01\u6f5c\u79fb\u9ed8\u5316\u4e2d\uff0c\u4e0d\u4ec5\u5bf9\u9898\u76ee\u89e3\u6cd5\u6709\u4e86\u66f4\u6df1\u523b\u7684\u7406\u89e3\uff08\u4ec0\u4e48\u662f\u6700\u4f18\u89e3\uff09\uff0c\u800c\u4e14\u4e5f\u77e5\u9053\u5982\u4f55\u7528\u6700\u7b80\u6d01\u7684\u4ee3\u7801\u5b9e\u73b0\u8fd9\u4e2a\u6700\u4f18\u89e3\u3002 \u6211\u672c\u4eba\u4e0d\u662f\u7b97\u6cd5\u9ad8\u624b\uff0c\u7b97\u662f\u52e4\u80fd\u8865\u62d9\u7c7b\u578b\u3002\u8fd9\u6837\u957f\u671f\u575a\u6301\u4e0b\u6765\uff0c\u6162\u6162\u5730\u611f\u89c9\u81ea\u5df1\u7f16\u7a0b\u80fd\u529b\u63d0\u5347\u4e86\u5f88\u591a\u3002\u4e0d\u4ec5\u9762\u8bd5\u7684\u65f6\u5019\u5f97\u5fc3\u5e94\u624b\uff0c\u800c\u4e14\u5728\u5de5\u4f5c\u4e2d\u63d0\u4ea4code review\u7684\u65f6\u5019\uff0c\u5f80\u5f80\u6709\u81ea\u4fe1\u8bf4\u81ea\u5df1\u7684\u4ee3\u7801\u662f\u7b80\u5355\uff0c\u5e72\u51c0\u4e0e\u4f18\u96c5\u7684\u3002","title":"LeetCode\u5237\u9898\u65b9\u6cd5.md"},{"location":"algre/LeetCode%E5%88%B7%E9%A2%98%E6%96%B9%E6%B3%95/#_1","text":"\u4f5c\u4e3a LeetCode \u7684\u94c1\u7c89\u5e76\u53d7\u76ca\u7684\u5237\u9898\u4eba\uff0c\u6211\u8ba4\u4e3a\u638c\u63e1\u4e00\u5957\u9ad8\u6548\u7684\u5237\u9898\u65b9\u6cd5\u5c24\u5176\u6709\u6548\uff0c\u5426\u5219\u5f88\u96be\u8986\u76d6\u65e5\u76ca\u589e\u591a\u7684\u9898\u5e93\uff0c\u5e76\u4e14\u5927\u591a\u6570\u65f6\u5019\u5237\u5b8c\u4e0d\u4e45\u5c31\u4f1a\u5fd8\u6389\u3002\u6240\u4ee5\u6211\u628a\u5f53\u5e74\u5237\u9898\u7684\u7ecf\u9a8c\u5206\u4eab\u7ed9\u4f60\uff0c\u5e0c\u671b\u6211\u7684\u65b9\u6cd5\u4e5f\u5bf9\u4f60\u6709\u7528\uff0c\u5e0c\u671b\u6211\u4eec\u80fd\u505a\u540c\u4e8b\u3002 \u6211\u65b9\u6cd5\u7684\u6838\u5fc3\u5b9e\u9645\u4e0a\u548c\u80cc\u82f1\u8bed\u5355\u8bcd\u7c7b\u4f3c\uff0c\u603b\u7ed3\u9898\u578b\uff0c\u627e\u5230\u9ad8\u9891\u9898\u5e76\u4e14\u4e0d\u65ad\u91cd\u590d\u3002\u5177\u4f53\u6765\u8bb2\u5c31\u662f \u6309 tag \u5206\u7c7b\u2014\u2014\u827e\u5bbe\u6d69\u65af\u8bb0\u5fc6\u66f2\u7ebf\uff0c\u4e0d\u65ad\u91cd\u590d\u5237\u8fc7\u7684\u9898\u2014\u2014\u4e0d\u65ad\u603b\u7ed3\u638c\u63e1\u60c5\u51b5 \u4e3a\u4ec0\u4e48\u8fd9\u4e48\u6765\u64cd\u4f5c\u662f\u56e0\u4e3a\u7ecf\u8fc7\u5f88\u591a\u9762\u8bd5\u540e\uff0c\u53d1\u73b0\u5927\u591a\u6570\u9898\u578b\u8fd8\u662f\u6bd4\u8f83\u57fa\u672c\u548c\u91cd\u8981\u7684\uff0c\u5206\u5e03\u5728 medium \u548c advanced medium \u4e4b\u95f4\u3002\u800c\u8fd9\u4e9b\u9898\u76ee\u53c8\u53ef\u4ee5\u6f14\u53d8\u51fa\u6765\u5f88\u591a\u4e0d\u540c\u7684\u9898\uff0c\u4f46\u4e07\u53d8\u4e0d\u79bb\u5176\u5b97\uff0c\u6293\u4f4f\u672c\u8d28\u5e76\u4e14\u719f\u7ec3\u638c\u63e1\u5373\u53ef\u3002","title":"\u5237\u9898\u65b9\u6cd5"},{"location":"algre/LeetCode%E5%88%B7%E9%A2%98%E6%96%B9%E6%B3%95/#1-tag","text":"\u7b2c\u4e00\u4ef6\u4e8b\u5c31\u662f\u6309\u7167 tag \u628a\u9898\u76ee\u5206\u6210\u4e0d\u540c\u7684 list\uff0c\u4e00\u822c\u6bcf\u4e2a\u516c\u53f8\u4e3a\u4e00\u4e2a list\u3002\u4e00\u5b9a\u8981\u6839\u636e\u81ea\u5df1\u7684\u5237\u9898\u638c\u63e1\u60c5\u51b5\u6765\u5b9a\u5236 list\uff0c\u8fd9\u4e5f\u662f\u6211\u8fd9\u4e2a\u65b9\u6cd5\u4fdd\u8bc1\u5bf9\u4f60\u6709\u7528\u7684\u7cbe\u9ad3\u3002\u968f\u4fbf\u4ece\u5176\u4ed6\u5730\u65b9\u7684\u8236\u6765\u54c1\u57fa\u672c\u6ca1\u7528\uff0c\u56e0\u4e3a\u53ea\u6709\u81ea\u5df1\u624d\u6700\u4e86\u89e3\u81ea\u5df1\u7684\u590d\u4e60\u60c5\u51b5\u3002\u5982\u679c\u4f60\u57fa\u7840\u6bd4\u8f83\u5dee\uff0c\u4e4b\u524d\u6ca1\u600e\u4e48\u5237\u8fc7\u9898\u6216\u8005\u662f\u8f6c\u4e13\u4e1a\uff0c\u6211\u63a8\u8350\u7684\u505a\u6cd5\u662f\u989d\u5916\u5206\u4e00\u4e2a basic list\uff0c\u610f\u601d\u662f\u6240\u6709\u57fa\u7840\u7684\u6570\u636e\u7ed3\u6784/\u7b97\u6cd5\u90fd\u8986\u76d6\u4e00\u904d\uff0c\u8fd9\u4e9b\u9898\u662f\u4e00\u5b9a\u8981\u4f1a\u7684\uff0c\u57fa\u7840\u4e2d\u7684\u57fa\u7840\u3002\u6211\u628a\u6211\u8ba4\u4e3a\u57fa\u7840\u7684 list \u9700\u8981 cover \u7684\u5185\u5bb9\u5206\u4eab\u5728\u8fd9\u91cc\uff08\u540e\u9762\u662f\u9898\u53f7\uff09\uff1a \u6df1\u5ea6\u4f18\u5148\u904d\u5386\u3001\u56de\u6eaf\u7b97\u6cd5\u3001\u52a8\u6001\u89c4\u5212\u3001\u5e7f\u5ea6\u4f18\u5148\u904d\u5386\u3001\u5206\u6cbb\u7b97\u6cd5\u3001\u8d2a\u5fc3\u7b97\u6cd5\u3001\u6ed1\u52a8\u7a97\u53e3\u3001\u56fe\u3001\u6811\u3001\u4e8c\u5206\u641c\u7d22\u3002\u8fd9\u4e2a\u57fa\u7840\u7684 list \u57fa\u672c\u4e0a\u4e00\u5b9a\u8981\u6db5\u76d6\u8fd9\u4e9b\u57fa\u7840\u77e5\u8bc6\u70b9\uff08\u9762\u8bd5\u5fc5\u8003\uff09\u3002 \u5206\u7c7b\u5237\u9898\uff0c\u786e\u4fdd\u57fa\u7840\u7684\u77e5\u8bc6\u70b9\u4e0d\u9057\u6f0f DFS + memo 322 Backtracking 22 DP ( DP <--> DFS + memo ) 55 BFS 286 Partition \uff08 Divide and Conquer \uff09 86 Greedy 421 Sliding Window 15 Graph 207 743 Tree Binary Search","title":"1 \u6309 tag \u5206\u7c7b"},{"location":"algre/LeetCode%E5%88%B7%E9%A2%98%E6%96%B9%E6%B3%95/#2","text":"\u7b2c\u4e8c\u6b65\u5c31\u662f\u8457\u540d\u7684\u827e\u5bbe\u6d69\u65af\u8bb0\u5fc6\u66f2\u7ebf\u7684\u8fd0\u7528\u4e86\u3002\u8003\u8fc7\u6258\u798f/\u96c5\u601d\u7684\u7ec6\u5fc3\u7684\u540c\u5b66\u53ef\u80fd\u53d1\u73b0\u4e86\uff0c\u8fd9\u4e2a\u5b9e\u9645\u4e0a\u548c\u8bb0\u5fc6\u82f1\u8bed\u5355\u8bcd\u6709\u5f02\u66f2\u540c\u5de5\u4e4b\u5904 -- \u5148\u505a list\uff0c\u7b2c\u4e8c\u6b65\u6211\u4eec\u8981\u5e72\u561b\uff1f\u6309 list \u4e0d\u65ad\u590d\u4e60\uff0c\u6bcf\u5929\u5faa\u73af\u5440\uff01\u8fd9\u91cc\u6211\u7528\u6211\u7684 Basic List \u6765\u4e3e\u4e2a\u4f8b\u5b50\uff1a \u8bf7\u6ce8\u610f\u89c2\u5bdf\u6211\u7684 Legend \u4e00\u822c\u8868\u683c\u7684\u7b2c\u4e00\u680f\u662f\u7559\u7ed9 Legend \u7684\uff0c\u6bcf\u6b21\u5237\u5b8c\u6211\u4f1a\u8bb0\u5f55\u5f53\u524d\u7684\u72b6\u6001\uff0c\u65b9\u4fbf\u65e5\u540e\u5de9\u56fa\u3002 \u5982\u679c\u662f\u4e00\u6b21\u8fc7\u7684\uff1a\u5c31\u662f\u76f4\u63a5 y\uff1b \u5982\u679c\u4e2d\u9014\u6709\u505c\u987f\uff0c\u800c\u4e14\u601d\u8def\u4e5f\u4e0d\u6e05\u6670\u7684\uff0c\u5199 \uff1f\uff1b \u5982\u679c\u600e\u4e48\u60f3\u4e5f\u505a\u4e0d\u51fa\u6765\uff0c\u770b\u4e86\u7b54\u6848\u7684\u6216\u505a\u4e4b\u524d\u770b\u8fc7\u7b54\u6848\uff0c\u5c31\u662f \u203b\u3002 \u7136\u540e\u6839\u636e\u8fd9\u4e9b\u8bb0\u5f55\u7684\u60c5\u51b5\uff0c\u7b2c\u4e8c\u5929\u6765\u5b89\u6392\u4e0d\u540c\u7684\u4f18\u5148\u7ea7\u548c\u7cbe\u529b\u91cd\u65b0\u5237\u8fd9\u4e9b\u9898\uff0c\u5927\u5bb6\u53ef\u4ee5\u770b\u5230 168 \u6211\u6253\u4e86\u4e09\u4e2a \u203b\uff0c\u8bf4\u660e 3 \u6b21\u90fd\u4e0d\u4f1a\uff0c\u65e5\u540e\u8fd8\u9700\u8981\u7ee7\u7eed\u5de9\u56fa\u6b64\u7c7b\u9898\u578b\u3002\u5bf9\u4e8e\u90a3\u4e9b y \u7684\u9898\u76ee\u76f4\u63a5\u8fc7\uff0c\u57fa\u672c\u4e0a\u534a\u5e74\u518d\u6765 review \u4e00\u6b21\u3002 \u6bcf\u4e00\u4e2a\u9898\u76ee\u505a\u6807\u8bb0\uff08\u7c7b\u4f3c\u9762\u8bd5\u9898\uff09Y N \uff1f\u4e09\u79cd\u3002\u7136\u540e\u786e\u4fdd\u81ea\u5df1\u7684\u7b54\u6848\u662f\u6b63\u786e\u7684\u7b54\u6848\u3002\u5982\u679c\u7b54\u6848\u4e0d\u6b63\u786e\uff0c\u8bb0\u4f4f\u9519\u8bef\u7684\u7b54\u6848\uff0c\u5b8c\u5168\u6ca1\u6709\u6548\u679c\u3002\u7b2c\u4e8c\u5929\u505a\u7684\u4e8b\u60c5\u4e0d\u662f\u7ee7\u7eed\u5237\u65b0\u7684\u9898\u76ee\uff0c\u800c\u662f\u590d\u4e60\u65e7\u7684\u77e5\u8bc6\u70b9\u3002","title":"2 \u827e\u5bbe\u6d69\u65af\u8bb0\u5fc6\u66f2\u7ebf\uff0c\u4e0d\u65ad\u91cd\u590d\u5237\u8fc7\u7684\u9898"},{"location":"algre/LeetCode%E5%88%B7%E9%A2%98%E6%96%B9%E6%B3%95/#3","text":"\u6700\u540e\u4e00\u6b65\u4e5f\u662f\u6700\u91cd\u8981\u7684\u4e00\u6b65\uff1a\u603b\u7ed3\u3002\u6211\u4eec\u9700\u8981\u968f\u65f6\u8bb0\u5f55\u4e0b\u5f53\u524d\u5237\u9898\u7684\u72b6\u6001\uff0c\u7136\u540e\u6bcf\u5929\u5728\u5237\u9898\u65f6\u505a\u5230\u6709\u7684\u653e\u77e2\uff1a\u4e0d\u6d6a\u8d39\u6bcf\u4e00\u9053\u65b0\u9898\uff0c\u4e0d\u91cd\u590d\u4efb\u4f55\u4e00\u9053\u5df2\u638c\u63e1\u7684\u65e7\u9898\u3002 \u603b\u7ed3\u9700\u8981\u6ce8\u610f\u7684\u5173\u952e\u70b9\uff1a \u603b\u7ed3 tag -- \u8fd9\u9898\u6211\u6709\u54ea\u4e9b\u65b9\u6cd5\uff0c\u54ea\u4e2a\u662f\u6700\u4f18\u89e3 \u603b\u7ed3\u7b14\u8bb0 -- \u6709\u5fc5\u8981\u7684\u8bdd\u9700\u8981\u8bb0\u4e0b\u6765\u54ea\u91cc\u6709\u8fd9\u9898\u7684\u7b14\u8bb0 \u603b\u7ed3\u76f8\u4f3c\u9898\u578b \u603b\u7ed3\u5173\u952e\u89e3\u9898\u6b65\u9aa4 \u603b\u7ed3 tag \u5927\u81f4\u610f\u601d\u662f\u8bf4\uff1a\u8fd9\u9898\u5927\u6982\u6709\u54ea\u4e9b\u65b9\u6cd5\u53ef\u4ee5\u641e\u5b9a\uff0c\u4ee5\u53ca\u81ea\u5df1\u6700\u559c\u6b22\u7684\u65b9\u6cd5\u3002\u4e00\u822c\u63a8\u8350\u4e24\u79cd\u65b9\u6cd5\u5373\u53ef\uff1a\u57fa\u672c\u7684 brute force\uff08\u66b4\u529b\u7b97\u6cd5\uff09 + advanced algorithm / data structure\u3002\u6ce8\u610f\u8fd9\u4e24\u4e2a\u90fd\u662f\u5fc5\u8981\u7684\uff0c\u6211\u6709\u7ecf\u5386\u8fc7\u80cc\u4e0b\u6765\u9ad8\u7ea7\u89e3\u6cd5\uff0c\u7ed3\u679c\u57fa\u672c\u89e3\u6cd5\u4e0d\u719f\u7ec3\u6700\u540e\u88ab\u6302\u6389\u7684\u9762\u8bd5\u3002\u5927\u5bb6\u53ef\u80fd\u8981\u95ee\uff1a\u770b\u8ba8\u8bba\u533a\u90a3\u4e9b ACM \u5927\u795e\u4eec\u7684\u5947\u6280\u6deb\u5de7\u592a NB \u4e86\uff0c\u6211\u662f\u4e0d\u662f\u8981\u5168\u80cc\u4e0b\u6765\uff1f\u6211\u7684\u5efa\u8bae\u662f\u5927\u53ef\u4e0d\u5fc5\uff0c\u8bb0\u4f4f\u4e00\u4e2a\u81ea\u5df1\u6700\u987a\u624b\u7684\u5373\u53ef\u3002\u800c\u4e14\u6ce8\u610f\uff1abrute force \u4e00\u5b9a\u8981\u719f\u7ec3\uff0c\u5728\u8fd9\u4e2a\u57fa\u7840\u4e4b\u4e0a\u624d\u80fd\u5f00\u59cb\u7814\u7a76\u9ad8\u7ea7\u4e00\u4e9b\u7684\u89e3\u6cd5\u3002 \u603b\u7ed3\u7b14\u8bb0\uff0c\u5f88\u591a\u7684\u9898\u505a\u4e86\u597d\u591a\u904d\u4e5f\u4e0d\u592a\u4f1a\uff0c\u4f8b\u5982\u6211\u4e0a\u9762\u7684 31\uff0c\u611f\u89c9\u8981\u5237\u6b7b\u4eba\u4e86\u8fd8\u662f\u4e0d\u4f1a\u3002\u90a3\u6ca1\u6709\u529e\u6cd5\uff0c\u6211\u53ea\u80fd\u628a\u8fd9\u4e2a\u89e3\u6cd5\u5355\u72ec\u62ff\u51fa\u6765\uff0c\u5199\u5230\u7eb8\u8d28\u7684\u7b14\u8bb0\u672c\u4e0a\uff0c\u6709\u7a7a\u5c31\u770b\u4e00\u904d\uff0c\u63a8\u4e00\u904d\uff0c\u6572\u4e00\u904d\u3002 \u603b\u7ed3\u7c7b\u4f3c\u9898\u578b\uff0c\u8fd9\u4e2a\u4e5f\u5f88\u6709\u7528\uff0c\u56e0\u4e3a\u5f80\u5f80\u7c7b\u4f3c\u9898\u578b\u90fd\u6709\u4e00\u81f4\u7684\u89e3\u6cd5\uff0c\u53ea\u662f\u8d8a\u5f80\u96be\uff0c\u8d8a\u662f\u5728\u57fa\u7840\u89e3\u6cd5\u4e0a\u7cc5\u5408\u4e86\u5176\u4ed6\u7684\u7b97\u6cd5\u6280\u5de7\u3002\u6709\u65f6\u5019 LeetCode \u4e0a\u7ed9\u7684\u7c7b\u4f3c\u9898\u578b\u4e0d\u51c6\uff0c\u6211\u4e00\u822c\u662f\u53c2\u8003\u4e4b\u540e\u518d\u770b\u770b\u5927\u5bb6\u7684\u5efa\u8bae\uff0c\u7136\u540e\u628a\u6240\u6709\u7684\u5148\u603b\u7ed3\u51fa\u6765\uff0c\u5e76\u4e14\u628a\u76f8\u4f3c\u7684\u9898\u94fe\u63a5\u8d77\u6765\u3002\u6bcf\u6b21\u7ec3\u4e60\u4e00\u8d77\u7ec3\uff0c\u627e\u51fa\u6bcf\u79cd\u9898\u578b\u7684\u57fa\u672c\u5dee\u5f02\u3002\u4f8b\u5982\u7ecf\u5178\u7684\u4e70\u80a1\u7968\u56db\u8fde\u95ee\u9898\uff0c\u5efa\u8bae\u5927\u5bb6\u8bd5\u8bd5\u770b\u3002 \u603b\u7ed3\u5173\u952e\u89e3\u9898\u6b65\u9aa4\u3002\u8fd9\u4e00\u70b9\u5f88\u6709\u610f\u601d\uff0c\u4e3b\u8981\u662f\u8bf4\u5728\u9047\u5230\u96be\u9898\u65f6\uff0c\u770b\u5b8c\u5927\u795e\u7684\u89e3\u6cd5\u4e4b\u540e\u81ea\u5df1\u603b\u7ed3\u51fa\u51e0\u70b9\u5173\u952e\u6b65\u9aa4\uff0c\u8fd9\u6837\u4e0b\u6b21\u8981\u662f\u518d\u5361\u58f3\u4e86\u5c31\u53ef\u4ee5\u76f4\u63a5\u770b\u8fd9\u4e2a\uff0c\u60f3\u60f3\u4e4b\u524d\u81ea\u5df1\u662f\u600e\u4e48\u89e3\u7684\u601d\u8def\uff0c\u800c\u4e0d\u662f\u518d\u53bb\u770b\u5176\u4ed6\u8ba8\u8bba\u3002\u8fd9\u6837\u5faa\u73af\u5f80\u590d\u4e2a 2-3 \u6b21\u5c31\u80fd\u719f\u7ec3\u8bb0\u4e0b\u6765\u3002\u4f8b\u5982 42 \u90a3\u9898\uff0c\u6211\u5c31\u5199\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u5c0f\u63d0\u793a\uff0c\u786e\u4fdd\u4e0b\u6b21\u518d\u5361\u58f3\u53ef\u4ee5\u770b\u8fd9\u4e2a tips \u800c\u4e0d\u662f\u7ffb\u770b\u7b54\u6848\uff0c\u4ece\u5934\u518d\u6765\u63a8\u4e00\u8fb9\u3002\u4ece\u800c\u63d0\u9ad8\u5237\u9898\u6548\u7387\u3002 \u6309\u7167\u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u65ad\u7ec3\u4e60\uff0c\u6211\u4fdd\u8bc1\u4f60\u6700\u5dee\u53ef\u4ee5\u5237\u8fdb flag\uff0c\u56e0\u4e3a\u4e0d\u7ba1\u662f\u4ece\u4ee5\u524d\u522b\u4eba\u9762\u8bd5\u6211\u7684\u7ecf\u5386\u8fd8\u662f\u73b0\u5728\u6211\u9762\u8bd5\u522b\u4eba\u7684\u7ecf\u5386\u6765\u770b\uff0c \u5927\u5bb6\u6700\u770b\u91cd\u7684\u5176\u5b9e\u8fd8\u662f\u57fa\u7840\u7b97\u6cd5\u77e5\u8bc6\u662f\u5426\u7262\u56fa\uff0c\u5373 medium \u548c advanced medium \u80fd\u5426\u591f\u5bf9\u7b54\u5165\u6d41 \u3002 \u81f3\u4e8e\u90a3\u4e9b\u8111\u7ecf\u6025\u8f6c\u5f2f\u5f0f\u7684 easy \u548c\u6709\u5f88\u591a\u9ad8\u7ea7\u6280\u5de7\u7684 hard\uff0c\u5b9e\u9645\u4e0a\u6211\u4e2a\u4eba\u611f\u89c9\u4e0d\u662f\u4e3b\u8981\u7684\u8003\u5bdf\u8303\u56f4\u3002\u9664\u975e\u662f ACM \u53c2\u8d5b\u8005\uff0c\u5bf9\u4e8e\u4e00\u822c\u7684 candidate \u7f16\u7a0b\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4efd\u5de5\u4f5c\uff0c\u65e2\u7136\u662f\u8fd9\u6837\uff0c\u90a3\u5c31\u627e\u5230\u5408\u9002\u7684\u65b9\u6cd5\u6765\u5e94\u5bf9\u3002\u628a\u66f4\u591a\u7684\u65f6\u95f4\u82b1\u5728\u66f4\u5b9d\u8d35\u7684\u4e8b\u60c5\u4e0a\uff0c\u4f8b\u5982\u4f60\u559c\u6b22\u7684\u4eba\u548c\u7269\u4e0a\u3002 \u901a\u8fc7\u5237\u9898\uff0c\u62ff\u4e86\u5f88\u591a\u516c\u53f8\uff08IBM, Google, Amazon, Microsoft, Zenefits, Splunk\uff09\u7684\u9762\u8bd5\u4ee5\u53caoffer\u3002\u8fd9428\u9898\u4e0d\u662f\u7b80\u5355\u7684\u5237\u4e00\u904d\u5c31\u8fc7\u53bb\u7684\uff0c\u800c\u662f\u53cd\u590d\u7ec3\u4e60\uff0c\u76f4\u5230\u4ee3\u7801\u6700\u4f18\uff0c\u89e3\u6cd5\u6700\u4f18\uff08\u6709\u65f6\u5019\u751a\u81f3\u89c9\u5f97\u81ea\u5df1\u7684\u4ee3\u7801\u7cbe\u7b80\u5230\u4e00\u4e2a\u7b26\u53f7\u90fd\u65e0\u6cd5\u51cf\u5c11\u7684\u5730\u6b65\uff09\u3002\u6240\u4ee5\u6709\u65f6\u5019\u9762\u8bd5\u5b98\u95ee\u95ee\u9898\uff0c\u95ee\u9898\u8fd8\u6ca1\u8bf4\u5b8c\uff0c\u6211\u5c31\u77e5\u9053\u5e94\u8be5\u5982\u4f55\u8868\u8ff0\u81ea\u5df1\u7684\u5fc3\u8def\u5386\u7a0b\uff0c\u7136\u540e\u6162\u6162\u5730\u7ed9\u51fa\u6700\u4f18\u89e3\u3002 \u800c\u8fd9\u4e00\u5207\u7684\u5173\u952e\u5c31\u5728\u4e8e\uff1a\u505a\u7b14\u8bb0\uff01\u7b14\u8bb0\u5c31\u8bb0\u5f55\u5728\u6e90\u4ee3\u7801\u4e2d \u4e0b\u9762\u662f\u6211\u7684\u7b14\u8bb0\u622a\u56fe\uff1a \u5bf9\u4e8e\u9047\u5230\u7684\u6bcf\u4e2a\u9898\u76ee\uff0c\u4e8b\u540e\u6211\u90fd\u505a\u4e0a\u6807\u8bb0\uff1a\u666e\u901a\u9898\u76ee\uff0c\u96be\u9898\u3001\u597d\u9898\u3002\u6b64\u5916\uff0c\u6bcf\u4e2a\u9898\u76ee\u90fd\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\u505a\u597d\u8be6\u7ec6\u7684\u7b14\u8bb0\uff1a \\1. \u539f\u9898\u76ee \\2. \u81ea\u5df1\u7684\u7b2c\u4e00\u904d\u89e3\u6cd5 \\3. \u7f51\u4e0a\u597d\u7684\u89e3\u6cd5 \\4. \u81ea\u5df1\u53ef\u4ee5\u6539\u8fdb\u7684\u5730\u65b9 \\5. \u8fdb\u4e00\u6b65\u7cbe\u7b80\u4f18\u5316\u81ea\u5df1\u7684\u4ee3\u7801\u76f4\u81f3\u4ee3\u7801\u7b80\u65e0\u53ef\u7b80 \uff08 \u8fd9\u662f\u975e\u5e38\u5173\u952e\u7684\u4e00\u6b65\uff0c\u5230\u8fbe\u8fd9\u4e00\u6b65\uff0c\u624d\u4f1a\u53d1\u73b0\u83b7\u5f97\u80fd\u529b\u7684\u63d0\u5347\u8fdc\u8fdc\u8981\u8d85\u8fc7\u7b80\u5355\u5730\u628a\u9898\u76ee\u89e3\u51fa\u6765 \uff09\u4e0d\u4e00\u5b9a\u662f\u4ee3\u7801\u91cf\u6700\u5c11\uff0c\u800c\u662f\u4ee3\u7801\u6700\u597d\uff08\u7b97\u6cd5\uff0c\u53ef\u8bfb\u6027\u7b49\uff09 \\6. \u83b7\u5f97\u7684\u601d\u8003\uff08\u6216\u8005\u5b66\u4e60\u5230\u7684\u5730\u65b9\uff0c\u53ef\u4ee5\u662f\u7b97\u6cd5\u3001\u6570\u636e\u7ed3\u6784\u6216\u8005Java\u7684\u7279\u6027\u2014\u4f8b\u5982Stream\u7b49\u7b49\uff09 \u6bcf\u4e00\u4e2a\u9898\u76ee\u90fd\u7ecf\u8fc7\u81f3\u5c11\u4e00\u904d\u8fd9\u6837\u7684\u8fed\u4ee3\u3002\u8fd9\u6837\u51e0\u904d\u4e0b\u6765\uff0c\u6211\u5bf9\u4e8e\u6bcf\u4e2a\u9898\u76ee\u90fd\u6709\u4e86\u66f4\u52a0\u6df1\u523b\u7684\u7406\u89e3\uff0c\u5927\u90e8\u5206\u7684\u9898\u76ee\u6211\u90fd\u6709\u81ea\u4fe1\u80fd\u591f\u5199\u51fa\u6700\u4f18\u89e3\u751a\u81f3\u4ee3\u7801\u90fd\u662f\u6700\u4f18\u5316\u7684\uff08\u81f3\u5c11\u6bd4\u8bba\u575b\u56de\u590d\u91cc\u9762\u7684\u6700\u9ad8\u7968\u7b54\u6848\u8fd8\u8981\u7cbe\u7b80\uff09\u3002 \u603b\u4e4b\uff0c \u4e0d\u65ad\u5730\u5b66\u4e60\u522b\u4eba\u7684\u4ee3\u7801\uff0c\u6539\u8fdb\u81ea\u5df1\u7684\u4ee3\u7801\uff0c\u4e0d\u65ad\u5730\u9524\u70bc\u81ea\u5df1\u7684\u4ee3\u7801\uff0c\u76f4\u81f3\u7b97\u6cd5\u6700\u4f18\u5316\uff0c\u4ee3\u7801\u6700\u7b80\u6d01 \uff01\u6f5c\u79fb\u9ed8\u5316\u4e2d\uff0c\u4e0d\u4ec5\u5bf9\u9898\u76ee\u89e3\u6cd5\u6709\u4e86\u66f4\u6df1\u523b\u7684\u7406\u89e3\uff08\u4ec0\u4e48\u662f\u6700\u4f18\u89e3\uff09\uff0c\u800c\u4e14\u4e5f\u77e5\u9053\u5982\u4f55\u7528\u6700\u7b80\u6d01\u7684\u4ee3\u7801\u5b9e\u73b0\u8fd9\u4e2a\u6700\u4f18\u89e3\u3002 \u6211\u672c\u4eba\u4e0d\u662f\u7b97\u6cd5\u9ad8\u624b\uff0c\u7b97\u662f\u52e4\u80fd\u8865\u62d9\u7c7b\u578b\u3002\u8fd9\u6837\u957f\u671f\u575a\u6301\u4e0b\u6765\uff0c\u6162\u6162\u5730\u611f\u89c9\u81ea\u5df1\u7f16\u7a0b\u80fd\u529b\u63d0\u5347\u4e86\u5f88\u591a\u3002\u4e0d\u4ec5\u9762\u8bd5\u7684\u65f6\u5019\u5f97\u5fc3\u5e94\u624b\uff0c\u800c\u4e14\u5728\u5de5\u4f5c\u4e2d\u63d0\u4ea4code review\u7684\u65f6\u5019\uff0c\u5f80\u5f80\u6709\u81ea\u4fe1\u8bf4\u81ea\u5df1\u7684\u4ee3\u7801\u662f\u7b80\u5355\uff0c\u5e72\u51c0\u4e0e\u4f18\u96c5\u7684\u3002","title":"3 \u4e0d\u65ad\u603b\u7ed3\u638c\u63e1\u60c5\u51b5"},{"location":"algre/diverce/","text":"\u5206\u6cbb\u7b97\u6cd5 \u00b6 \u5206\u6cbb\u7b97\u6cd5\u7684\u57fa\u672c\u601d\u60f3\u662f\u5c06\u4e00\u4e2a\u89c4\u6a21\u4e3aN\u7684\u95ee\u9898\u5206\u89e3\u4e3aK\u4e2a\u89c4\u6a21\u8f83\u5c0f\u7684\u5b50\u95ee\u9898\uff0c\u8fd9\u4e9b\u5b50\u95ee\u9898\u76f8\u4e92\u72ec\u7acb\u4e14\u4e0e\u539f\u95ee\u9898\u6027\u8d28\u76f8\u540c\u3002\u6c42\u51fa\u5b50\u95ee\u9898\u7684\u89e3\uff0c\u5c31\u53ef\u5f97\u5230\u539f\u95ee\u9898\u7684\u89e3\u3002\u5373\u4e00\u79cd\u5206\u76ee\u6807\u5b8c\u6210\u7a0b\u5e8f\u7b97\u6cd5\uff0c\u7b80\u5355\u95ee\u9898\u53ef\u7528\u4e8c\u5206\u6cd5\u5b8c\u6210\u3002 \u5f53\u6211\u4eec\u6c42\u89e3\u67d0\u4e9b\u95ee\u9898\u65f6\uff0c\u7531\u4e8e\u8fd9\u4e9b\u95ee\u9898\u8981\u5904\u7406\u7684\u6570\u636e\u76f8\u5f53\u591a\uff0c\u6216\u6c42\u89e3\u8fc7\u7a0b\u76f8\u5f53\u590d\u6742\uff0c\u4f7f\u5f97\u76f4\u63a5\u6c42\u89e3\u6cd5\u5728\u65f6\u95f4\u4e0a\u76f8\u5f53\u957f\uff0c\u6216\u8005\u6839\u672c\u65e0\u6cd5\u76f4\u63a5\u6c42\u51fa\u3002\u5bf9\u4e8e\u8fd9\u7c7b\u95ee\u9898\uff0c\u6211\u4eec\u5f80\u5f80\u5148\u628a\u5b83\u5206\u89e3\u6210\u51e0\u4e2a\u5b50\u95ee\u9898\uff0c\u627e\u5230\u6c42\u51fa\u8fd9\u51e0\u4e2a\u5b50\u95ee\u9898\u7684\u89e3\u6cd5\u540e\uff0c\u518d\u627e\u5230\u5408\u9002\u7684\u65b9\u6cd5\uff0c\u628a\u5b83\u4eec\u7ec4\u5408\u6210\u6c42\u6574\u4e2a\u95ee\u9898\u7684\u89e3\u6cd5\u3002\u5982\u679c\u8fd9\u4e9b\u5b50\u95ee\u9898\u8fd8\u8f83\u5927\uff0c\u96be\u4ee5\u89e3\u51b3\uff0c\u53ef\u4ee5\u518d\u628a\u5b83\u4eec\u5206\u6210\u51e0\u4e2a\u66f4\u5c0f\u7684\u5b50\u95ee\u9898\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u76f4\u81f3\u53ef\u4ee5\u76f4\u63a5\u6c42\u51fa\u89e3\u4e3a\u6b62\u3002 \u5229\u7528\u5206\u6cbb\u7b56\u7565\u6c42\u89e3\u65f6\uff0c\u6240\u9700\u65f6\u95f4\u53d6\u51b3\u4e8e\u5206\u89e3\u540e\u5b50\u95ee\u9898\u7684\u4e2a\u6570\u3001\u5b50\u95ee\u9898\u7684\u89c4\u6a21\u5927\u5c0f\u7b49\u56e0\u7d20\uff0c\u800c\u4e8c\u5206\u6cd5\uff0c\u7531\u4e8e\u5176\u5212\u5206\u7684\u7b80\u5355\u548c\u5747\u5300\u7684\u7279\u70b9\uff0c\u662f\u7ecf\u5e38\u91c7\u7528\u7684\u4e00\u79cd\u6709\u6548\u7684\u65b9\u6cd5\uff0c\u4f8b\u5982\u4e8c\u5206\u6cd5\u68c0\u7d22\u3002 \u89e3\u9898\u7684\u4e00\u822c\u6b65\u9aa4\uff1a \uff081\uff09\u5206\u89e3\uff0c\u5c06\u8981\u89e3\u51b3\u7684\u95ee\u9898\u5212\u5206\u6210\u82e5\u5e72\u89c4\u6a21\u8f83\u5c0f\u7684\u540c\u7c7b\u95ee\u9898\uff1b \uff082\uff09\u6c42\u89e3\uff0c\u5f53\u5b50\u95ee\u9898\u5212\u5206\u5f97\u8db3\u591f\u5c0f\u65f6\uff0c\u7528\u8f83\u7b80\u5355\u7684\u65b9\u6cd5\u89e3\u51b3\uff1b \uff083\uff09\u5408\u5e76\uff0c\u6309\u539f\u95ee\u9898\u7684\u8981\u6c42\uff0c\u5c06\u5b50\u95ee\u9898\u7684\u89e3\u9010\u5c42\u5408\u5e76\u6784\u6210\u539f\u95ee\u9898\u7684\u89e3\u3002 \u5e94\u7528\u573a\u666f \u00b6 \u8fd0\u7528\u5206\u6cbb\u7b56\u7565\u89e3\u51b3\u7684\u95ee\u9898\u4e00\u822c\u6765\u8bf4\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a 1\u3001\u539f\u95ee\u9898\u53ef\u4ee5\u5206\u89e3\u4e3a\u591a\u4e2a\u5b50\u95ee\u9898 \u8fd9\u4e9b\u5b50\u95ee\u9898\u4e0e\u539f\u95ee\u9898\u76f8\u6bd4\uff0c\u53ea\u662f\u95ee\u9898\u7684\u89c4\u6a21\u6709\u6240\u964d\u4f4e\uff0c\u5176\u7ed3\u6784\u548c\u6c42\u89e3\u65b9\u6cd5\u4e0e\u539f\u95ee\u9898\u76f8\u540c\u6216\u76f8\u4f3c\u3002 2\u3001\u539f\u95ee\u9898\u5728\u5206\u89e3\u8fc7\u7a0b\u4e2d\uff0c\u9012\u5f52\u5730\u6c42\u89e3\u5b50\u95ee\u9898 \u7531\u4e8e\u9012\u5f52\u90fd\u5fc5\u987b\u6709\u4e00\u4e2a\u7ec8\u6b62\u6761\u4ef6\uff0c\u56e0\u6b64\uff0c\u5f53\u5206\u89e3\u540e\u7684\u5b50\u95ee\u9898\u89c4\u6a21\u8db3\u591f\u5c0f\u65f6\uff0c\u5e94\u80fd\u591f\u76f4\u63a5\u6c42\u89e3\u3002 3\u3001\u5728\u6c42\u89e3\u5e76\u5f97\u5230\u5404\u4e2a\u5b50\u95ee\u9898\u7684\u89e3\u540e \u5e94\u80fd\u591f\u91c7\u7528\u67d0\u79cd\u65b9\u5f0f\u3001\u65b9\u6cd5\u5408\u5e76\u6216\u6784\u9020\u51fa\u539f\u95ee\u9898\u7684\u89e3\u3002 \u4e0d\u96be\u53d1\u73b0\uff0c\u7531\u4e8e\u5b50\u95ee\u9898\u4e0e\u539f\u95ee\u9898\u5728\u7ed3\u6784\u548c\u89e3\u6cd5\u4e0a\u7684\u76f8\u4f3c\u6027\uff0c\u7528\u5206\u6cbb\u65b9\u6cd5\u89e3\u51b3\u7684\u95ee\u9898\uff0c\u5927\u90fd\u91c7\u7528\u4e86\u9012\u5f52\u7684\u5f62\u5f0f\u3002\u5728\u5404\u79cd\u6392\u5e8f\u65b9\u6cd5\u4e2d\uff0c\u5982\u5f52\u5e76\u6392\u5e8f\u3001\u5806\u6392\u5e8f\u3001\u5feb\u901f\u6392\u5e8f\u7b49\uff0c\u90fd\u5b58\u5728\u6709\u5206\u6cbb\u7684\u601d\u60f3\u3002 pow(x, n) \u00b6 // \u8ba1\u7b97\u9636\u4e58\uff08\u628a\u9636\u4e58\u8f6c\u6362\u6210\u666e\u901a\u4e58\u6cd5\uff0c\u5206\u6cbb\u7b97\u6cd5\uff0c\u9012\u5f52\u5b9e\u73b0\uff09 var myPow = function ( x , n ) { if ( n == 0 ) return 1 ; // \u8d1f\u6570\u7684\u9636\u4e58 if ( n < 0 ) { return 1 / myPow ( x , - n ); } // \u67d0\u4e2a\u6570\u7684\u5947\u6570\u6b21\u65b9 else if ( n % 2 ) { return x * myPow ( x , n - 1 ); } // \u67d0\u4e2a\u6570\u7684\u5076\u6570\u6b21\u65b9 else { return myPow ( x * x , n / 2 ); } }; // \u7b2c\u4e8c\u79cd\u5b9e\u73b0\u601d\u8def var myPow = function ( x , n ) { if ( n < 0 ) { n = - n ; x = 1 / x ; } if ( x == 1 ) return 1 ; let res = 1 ; // \u4e0b\u9762\u662f\u4f4d\u8fd0\u7b97\uff0c\u901f\u5ea6\u5feb\uff0c\u65e5\u5e38\u4e0d\u4f1a\u8fd9\u6837\u4f7f\u7528 for ( let i = n ; i != 0 ; i = i >>> 1 ){ if ( i & 1 ) res *= x ; x *= x ; } return res ; };","title":"\u5206\u6cbb\u7b97\u6cd5"},{"location":"algre/diverce/#_1","text":"\u5206\u6cbb\u7b97\u6cd5\u7684\u57fa\u672c\u601d\u60f3\u662f\u5c06\u4e00\u4e2a\u89c4\u6a21\u4e3aN\u7684\u95ee\u9898\u5206\u89e3\u4e3aK\u4e2a\u89c4\u6a21\u8f83\u5c0f\u7684\u5b50\u95ee\u9898\uff0c\u8fd9\u4e9b\u5b50\u95ee\u9898\u76f8\u4e92\u72ec\u7acb\u4e14\u4e0e\u539f\u95ee\u9898\u6027\u8d28\u76f8\u540c\u3002\u6c42\u51fa\u5b50\u95ee\u9898\u7684\u89e3\uff0c\u5c31\u53ef\u5f97\u5230\u539f\u95ee\u9898\u7684\u89e3\u3002\u5373\u4e00\u79cd\u5206\u76ee\u6807\u5b8c\u6210\u7a0b\u5e8f\u7b97\u6cd5\uff0c\u7b80\u5355\u95ee\u9898\u53ef\u7528\u4e8c\u5206\u6cd5\u5b8c\u6210\u3002 \u5f53\u6211\u4eec\u6c42\u89e3\u67d0\u4e9b\u95ee\u9898\u65f6\uff0c\u7531\u4e8e\u8fd9\u4e9b\u95ee\u9898\u8981\u5904\u7406\u7684\u6570\u636e\u76f8\u5f53\u591a\uff0c\u6216\u6c42\u89e3\u8fc7\u7a0b\u76f8\u5f53\u590d\u6742\uff0c\u4f7f\u5f97\u76f4\u63a5\u6c42\u89e3\u6cd5\u5728\u65f6\u95f4\u4e0a\u76f8\u5f53\u957f\uff0c\u6216\u8005\u6839\u672c\u65e0\u6cd5\u76f4\u63a5\u6c42\u51fa\u3002\u5bf9\u4e8e\u8fd9\u7c7b\u95ee\u9898\uff0c\u6211\u4eec\u5f80\u5f80\u5148\u628a\u5b83\u5206\u89e3\u6210\u51e0\u4e2a\u5b50\u95ee\u9898\uff0c\u627e\u5230\u6c42\u51fa\u8fd9\u51e0\u4e2a\u5b50\u95ee\u9898\u7684\u89e3\u6cd5\u540e\uff0c\u518d\u627e\u5230\u5408\u9002\u7684\u65b9\u6cd5\uff0c\u628a\u5b83\u4eec\u7ec4\u5408\u6210\u6c42\u6574\u4e2a\u95ee\u9898\u7684\u89e3\u6cd5\u3002\u5982\u679c\u8fd9\u4e9b\u5b50\u95ee\u9898\u8fd8\u8f83\u5927\uff0c\u96be\u4ee5\u89e3\u51b3\uff0c\u53ef\u4ee5\u518d\u628a\u5b83\u4eec\u5206\u6210\u51e0\u4e2a\u66f4\u5c0f\u7684\u5b50\u95ee\u9898\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u76f4\u81f3\u53ef\u4ee5\u76f4\u63a5\u6c42\u51fa\u89e3\u4e3a\u6b62\u3002 \u5229\u7528\u5206\u6cbb\u7b56\u7565\u6c42\u89e3\u65f6\uff0c\u6240\u9700\u65f6\u95f4\u53d6\u51b3\u4e8e\u5206\u89e3\u540e\u5b50\u95ee\u9898\u7684\u4e2a\u6570\u3001\u5b50\u95ee\u9898\u7684\u89c4\u6a21\u5927\u5c0f\u7b49\u56e0\u7d20\uff0c\u800c\u4e8c\u5206\u6cd5\uff0c\u7531\u4e8e\u5176\u5212\u5206\u7684\u7b80\u5355\u548c\u5747\u5300\u7684\u7279\u70b9\uff0c\u662f\u7ecf\u5e38\u91c7\u7528\u7684\u4e00\u79cd\u6709\u6548\u7684\u65b9\u6cd5\uff0c\u4f8b\u5982\u4e8c\u5206\u6cd5\u68c0\u7d22\u3002 \u89e3\u9898\u7684\u4e00\u822c\u6b65\u9aa4\uff1a \uff081\uff09\u5206\u89e3\uff0c\u5c06\u8981\u89e3\u51b3\u7684\u95ee\u9898\u5212\u5206\u6210\u82e5\u5e72\u89c4\u6a21\u8f83\u5c0f\u7684\u540c\u7c7b\u95ee\u9898\uff1b \uff082\uff09\u6c42\u89e3\uff0c\u5f53\u5b50\u95ee\u9898\u5212\u5206\u5f97\u8db3\u591f\u5c0f\u65f6\uff0c\u7528\u8f83\u7b80\u5355\u7684\u65b9\u6cd5\u89e3\u51b3\uff1b \uff083\uff09\u5408\u5e76\uff0c\u6309\u539f\u95ee\u9898\u7684\u8981\u6c42\uff0c\u5c06\u5b50\u95ee\u9898\u7684\u89e3\u9010\u5c42\u5408\u5e76\u6784\u6210\u539f\u95ee\u9898\u7684\u89e3\u3002","title":"\u5206\u6cbb\u7b97\u6cd5"},{"location":"algre/diverce/#_2","text":"\u8fd0\u7528\u5206\u6cbb\u7b56\u7565\u89e3\u51b3\u7684\u95ee\u9898\u4e00\u822c\u6765\u8bf4\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a 1\u3001\u539f\u95ee\u9898\u53ef\u4ee5\u5206\u89e3\u4e3a\u591a\u4e2a\u5b50\u95ee\u9898 \u8fd9\u4e9b\u5b50\u95ee\u9898\u4e0e\u539f\u95ee\u9898\u76f8\u6bd4\uff0c\u53ea\u662f\u95ee\u9898\u7684\u89c4\u6a21\u6709\u6240\u964d\u4f4e\uff0c\u5176\u7ed3\u6784\u548c\u6c42\u89e3\u65b9\u6cd5\u4e0e\u539f\u95ee\u9898\u76f8\u540c\u6216\u76f8\u4f3c\u3002 2\u3001\u539f\u95ee\u9898\u5728\u5206\u89e3\u8fc7\u7a0b\u4e2d\uff0c\u9012\u5f52\u5730\u6c42\u89e3\u5b50\u95ee\u9898 \u7531\u4e8e\u9012\u5f52\u90fd\u5fc5\u987b\u6709\u4e00\u4e2a\u7ec8\u6b62\u6761\u4ef6\uff0c\u56e0\u6b64\uff0c\u5f53\u5206\u89e3\u540e\u7684\u5b50\u95ee\u9898\u89c4\u6a21\u8db3\u591f\u5c0f\u65f6\uff0c\u5e94\u80fd\u591f\u76f4\u63a5\u6c42\u89e3\u3002 3\u3001\u5728\u6c42\u89e3\u5e76\u5f97\u5230\u5404\u4e2a\u5b50\u95ee\u9898\u7684\u89e3\u540e \u5e94\u80fd\u591f\u91c7\u7528\u67d0\u79cd\u65b9\u5f0f\u3001\u65b9\u6cd5\u5408\u5e76\u6216\u6784\u9020\u51fa\u539f\u95ee\u9898\u7684\u89e3\u3002 \u4e0d\u96be\u53d1\u73b0\uff0c\u7531\u4e8e\u5b50\u95ee\u9898\u4e0e\u539f\u95ee\u9898\u5728\u7ed3\u6784\u548c\u89e3\u6cd5\u4e0a\u7684\u76f8\u4f3c\u6027\uff0c\u7528\u5206\u6cbb\u65b9\u6cd5\u89e3\u51b3\u7684\u95ee\u9898\uff0c\u5927\u90fd\u91c7\u7528\u4e86\u9012\u5f52\u7684\u5f62\u5f0f\u3002\u5728\u5404\u79cd\u6392\u5e8f\u65b9\u6cd5\u4e2d\uff0c\u5982\u5f52\u5e76\u6392\u5e8f\u3001\u5806\u6392\u5e8f\u3001\u5feb\u901f\u6392\u5e8f\u7b49\uff0c\u90fd\u5b58\u5728\u6709\u5206\u6cbb\u7684\u601d\u60f3\u3002","title":"\u5e94\u7528\u573a\u666f"},{"location":"algre/diverce/#powx-n","text":"// \u8ba1\u7b97\u9636\u4e58\uff08\u628a\u9636\u4e58\u8f6c\u6362\u6210\u666e\u901a\u4e58\u6cd5\uff0c\u5206\u6cbb\u7b97\u6cd5\uff0c\u9012\u5f52\u5b9e\u73b0\uff09 var myPow = function ( x , n ) { if ( n == 0 ) return 1 ; // \u8d1f\u6570\u7684\u9636\u4e58 if ( n < 0 ) { return 1 / myPow ( x , - n ); } // \u67d0\u4e2a\u6570\u7684\u5947\u6570\u6b21\u65b9 else if ( n % 2 ) { return x * myPow ( x , n - 1 ); } // \u67d0\u4e2a\u6570\u7684\u5076\u6570\u6b21\u65b9 else { return myPow ( x * x , n / 2 ); } }; // \u7b2c\u4e8c\u79cd\u5b9e\u73b0\u601d\u8def var myPow = function ( x , n ) { if ( n < 0 ) { n = - n ; x = 1 / x ; } if ( x == 1 ) return 1 ; let res = 1 ; // \u4e0b\u9762\u662f\u4f4d\u8fd0\u7b97\uff0c\u901f\u5ea6\u5feb\uff0c\u65e5\u5e38\u4e0d\u4f1a\u8fd9\u6837\u4f7f\u7528 for ( let i = n ; i != 0 ; i = i >>> 1 ){ if ( i & 1 ) res *= x ; x *= x ; } return res ; };","title":"pow(x, n)"},{"location":"algre/double-pointer/","text":"\u53cc\u6307\u9488\u95ee\u9898 \u00b6 \u4ec0\u4e48\u662f\u53cc\u6307\u9488 \u00b6 \u53cc\u6307\u9488 \uff0c\u6307\u7684\u662f\u5728\u904d\u5386\u5bf9\u8c61\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u662f\u666e\u901a\u7684\u4f7f\u7528\u5355\u4e2a\u6307\u9488\u8fdb\u884c\u8bbf\u95ee\uff0c\u800c\u662f\u4f7f\u7528\u4e24\u4e2a\u76f8\u540c\u65b9\u5411\uff08 \u5feb\u6162\u6307\u9488 \uff09\u6216\u8005\u76f8\u53cd\u65b9\u5411\uff08 \u5bf9\u649e\u6307\u9488 \uff09\u7684\u6307\u9488\u8fdb\u884c\u626b\u63cf\uff0c\u4ece\u800c\u8fbe\u5230\u76f8\u5e94\u7684\u76ee\u7684\u3002 \u5206\u7c7b\uff1a\u5bf9\u649e\u6307\u9488\u3001\u5feb\u6162\u6307\u9488 \u6362\u8a00\u4e4b\uff0c\u53cc\u6307\u9488\u6cd5\u5145\u5206\u4f7f\u7528\u4e86\u6570\u7ec4\u6709\u5e8f\u8fd9\u4e00\u7279\u5f81\uff0c\u4ece\u800c\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u80fd\u591f\u7b80\u5316\u4e00\u4e9b\u8fd0\u7b97\u3002 \u5728 LeetCode \u9898\u5e93\u4e2d\uff0c\u5173\u4e8e**\u53cc\u6307\u9488**\u7684\u95ee\u9898\u8fd8\u662f\u633a\u591a\u7684\u3002 \u53cc\u6307\u9488 JS\u4f8b\u5b50 \u00b6 \u5bf9\u649e\u6307\u9488 \u00b6 \u5bf9\u649e\u6307\u9488**\u662f\u6307\u5728\u6709\u5e8f\u6570\u7ec4\u4e2d\uff0c\u5c06\u6307\u5411\u6700\u5de6\u4fa7\u7684\u7d22\u5f15\u5b9a\u4e49\u4e3a \u5de6\u6307\u9488(left) \uff0c\u6700\u53f3\u4fa7\u7684\u5b9a\u4e49\u4e3a \u53f3\u6307\u9488(right) \uff0c\u7136\u540e\u4ece\u4e24\u5934\u5411\u4e2d\u95f4\u8fdb\u884c\u6570\u7ec4\u904d\u5386\u3002\u5bf9\u649e\u6570\u7ec4\u9002\u7528\u4e8e**\u6709\u5e8f\u6570\u7ec4 \uff0c\u4e5f\u5c31\u662f\u8bf4\u5f53\u4f60\u9047\u5230\u9898\u76ee\u7ed9\u5b9a\u6709\u5e8f\u6570\u7ec4\u65f6\uff0c\u5e94\u8be5\u7b2c\u4e00\u65f6\u95f4\u60f3\u5230\u7528\u5bf9\u649e\u6307\u9488\u89e3\u9898\u3002 \u4f2a\u4ee3\u7801\u5927\u81f4\u5982\u4e0b\uff1a function fn ( list ) { var left = 0 ; var right = list . length - 1 ; //\u904d\u5386\u6570\u7ec4 while ( left <= right ) { left ++ ; // \u4e00\u4e9b\u6761\u4ef6\u5224\u65ad \u548c\u5904\u7406 ... ... right -- ; } } \u4e3e\u4e2aLeetCode\u4e0a\u7684\u4f8b\u5b50\uff1a \u4ee5**LeetCode 881 \u6551\u751f\u8247 **\u95ee\u9898\u4e3a\u4f8b \u7531\u4e8e\u672c\u9898\u53ea\u8981\u6c42\u8ba1\u7b97\u51fa \u6700\u5c0f\u8239\u6570 \uff0c\u6240\u4ee5\u539f\u6570\u7ec4\u662f\u5426\u88ab\u6539\u53d8\uff0c\u548c\u5143\u7d20\u7d22\u5f15\u4f4d\u7f6e\u90fd\u4e0d\u8003\u8651\u5728\u5185\uff0c\u6240\u4ee5\u53ef\u4ee5\u5148\u5bf9\u4e8e\u7ed9\u5b9a\u6570\u7ec4\u8fdb\u884c\u6392\u5e8f\uff0c\u518d\u4ece\u6570\u7ec4\u4e24\u4fa7\u5411\u4e2d\u95f4\u904d\u5386\u3002\u6240\u4ee5\u89e3\u9898\u601d\u8def\u5982\u4e0b\uff1a \u5bf9\u7ed9\u5b9a\u6570\u7ec4\u8fdb\u884c\u5347\u5e8f\u6392\u5e8f \u521d\u59cb\u5316\u5de6\u53f3\u6307\u9488 \u6bcf\u6b21\u90fd\u7528\u4e00\u4e2a\u201d\u6700\u91cd\u7684\u201c\u548c\u4e00\u4e2a\u201d\u6700\u8f7b\u7684\u201c\u8fdb\u884c\u914d\u5bf9\uff0c\u5982\u679c\u4e8c\u4eba\u91cd\u91cf\u5c0f\u4e8e Limit \uff0c\u5219\u6b64\u65f6\u7684\u201d\u6700\u8f7b\u7684\u201c\u4e0a\u8239\uff0c\u5373\uff08 left++ \uff09\u3002\u4e0d\u7ba1\u201d\u6700\u8f7b\u7684\u201c\u662f\u5426\u4e0a\u8239\uff0c\u201d\u6700\u91cd\u7684\u201c\u90fd\u8981\u4e0a\u8239\uff0c\u5373\uff08 right-- \uff09\u5e76\u4e14\u6240\u9700\u8239\u6570\u91cf\u52a0\u4e00\uff0c\u5373\uff08 num++ \uff09 \u4ee3\u7801\u5982\u4e0b\uff1a var numRescueBoats = function ( people , limit ) { people . sort (( a , b ) => ( a - b )); var num = 0 let left = 0 let right = people . length - 1 while ( left <= right ) { if (( people [ left ] + people [ right ]) <= limit ) { left ++ } right -- num ++ } return num }; \u5feb\u6162\u6307\u9488 \u00b6 **\u5feb\u6162\u6307\u9488**\u4e5f\u662f\u53cc\u6307\u9488\uff0c\u4f46\u662f\u4e24\u4e2a\u6307\u9488\u4ece\u540c\u4e00\u4fa7\u5f00\u59cb\u904d\u5386\u6570\u7ec4\uff0c\u5c06\u8fd9\u4e24\u4e2a\u6307\u9488\u5206\u522b\u5b9a\u4e49\u4e3a \u5feb\u6307\u9488\uff08fast\uff09 \u548c \u6162\u6307\u9488\uff08slow\uff09 \uff0c\u4e24\u4e2a\u6307\u9488\u4ee5\u4e0d\u540c\u7684\u7b56\u7565\u79fb\u52a8\uff0c\u76f4\u5230\u4e24\u4e2a\u6307\u9488\u7684\u503c\u76f8\u7b49\uff08\u6216\u5176\u4ed6\u7279\u6b8a\u6761\u4ef6\uff09\u4e3a\u6b62\uff0c\u5982fast\u6bcf\u6b21\u589e\u957f\u4e24\u4e2a\uff0cslow\u6bcf\u6b21\u589e\u957f\u4e00\u4e2a\u3002 \u4ee5 LeetCode 141.\u73af\u5f62\u94fe\u8868 \u4e3a\u4f8b,\uff0c\u5224\u65ad\u7ed9\u5b9a\u94fe\u8868\u4e2d\u662f\u5426\u5b58\u5728\u73af\uff0c\u53ef\u4ee5\u5b9a\u4e49\u5feb\u6162\u4e24\u4e2a\u6307\u9488\uff0c\u5feb\u6307\u9488\u6bcf\u6b21\u589e\u957f\u4e00\u4e2a\uff0c\u800c\u6162\u6307\u9488\u6bcf\u6b21\u589e\u957f\u4e24\u4e2a\uff0c\u6700\u540e\u4e24\u4e2a\u6307\u9488\u6307\u5411\u8282\u70b9\u7684\u503c\u76f8\u7b49\uff0c\u5219\u8bf4\u660e\u6709\u73af\u3002\u5c31\u597d\u50cf\u4e00\u4e2a\u73af\u5f62\u8dd1\u9053\u4e0a\u6709\u4e00\u5feb\u4e00\u6162\u4e24\u4e2a\u8fd0\u52a8\u5458\u8d5b\u8dd1\uff0c\u5982\u679c\u65f6\u95f4\u8db3\u591f\u957f\uff0c\u8dd1\u5730\u5feb\u7684\u8fd0\u52a8\u5458\u4e00\u5b9a\u4f1a\u8d76\u4e0a\u6162\u7684\u8fd0\u52a8\u5458\u3002 \u89e3\u9898\u4ee3\u7801\u5982\u4e0b\uff1a /** * Definition for singly-linked list. * function ListNode(val) { * this.val = val; * this.next = null; * } */ /** * @param {ListNode} head * @return {boolean} */ var hasCycle = function ( head ) { if ( head === null || head . next === null ) { return false ; } let slow = head ; let fast = head . next ; while ( slow !== fast ) { if ( fast === null || fast . next === null ) { return false } slow = slow . next fast = fast . next . next } return true }; \u518d\u6bd4\u5982 LeetCode 26 \u5220\u9664\u6392\u5e8f\u6570\u7ec4\u4e2d\u7684\u91cd\u590d\u9879 \uff0c\u8fd9\u91cc\u8fd8\u662f\u5b9a\u4e49\u5feb\u6162\u4e24\u4e2a\u6307\u9488\u3002\u5feb\u6307\u9488\u6bcf\u6b21\u589e\u957f\u4e00\u4e2a\uff0c\u6162\u6307\u9488\u53ea\u6709\u5f53\u5feb\u6162\u6307\u9488\u4e0a\u7684\u503c\u4e0d\u540c\u65f6\uff0c\u624d\u589e\u957f\u4e00\u4e2a\uff08\u7531\u4e8e\u662f\u6709\u5e8f\u6570\u7ec4\uff0c\u5feb\u6162\u6307\u9488\u503c\u4e0d\u7b49\u8bf4\u660e\u627e\u5230\u4e86\u65b0\u503c\uff09\u3002 \u771f\u5b9e\u4ee3\u7801\uff1a var removeDuplicates = function ( nums ) { if ( nums . length === 0 ) { return 0 ; } let slow = 0 ; for ( let fast = 0 ; fast < nums . length ; fast ++ ) { if ( nums [ fast ] !== nums [ slow ]) { slow ++ ; nums [ slow ] = nums [ fast ]; } } // Michael\uff1a\u8fd9\u91cc\u7684\u7b97\u6cd5\u4e0d\u5b8c\u5584\uff0c\u73b0\u5728\u53ea\u83b7\u53d6\u4e86\u8fd4\u56de\u7684\u4e0d\u91cd\u590d\u5143\u7d20\u7684\u4e2a\u6570\uff0c\u90a3\u4e48\u539f\u6765\u7684\u6570\u7ec4\u540e\u9762\u7684\u5143\u7d20\u5e94\u8be5\u5220\u9664[1,1,1,1,2,3] \u53d8\u6210 [1,2,3,1,2,3] \u540e\u9762\u7684\u9700\u8981\u76f4\u63a5\u53bb\u6389\uff0c\u8fd9\u6837\u624d\u80fd\u6ee1\u8db3\u8981\u6c42\u3002\u8fd9\u4e2a\u601d\u8def\u6bd4\u5faa\u73af\u4e00\u6b21spliec\u66f4\u597d return slow + 1 ; }; \u603b\u7ed3 \u00b6 \u5f53\u9047\u5230\u6709\u5e8f\u6570\u7ec4\u65f6\uff0c\u5e94\u8be5\u4f18\u5148\u60f3\u5230 \u53cc\u6307\u9488 \u6765\u89e3\u51b3\u95ee\u9898\uff0c\u56e0\u4e24\u4e2a\u6307\u9488\u7684\u540c\u65f6\u904d\u5386\uff0c\u4f1a\u51cf\u5c11\u7a7a\u95f4\u590d\u6742\u5ea6\u548c\u65f6\u95f4\u590d\u6742\u5ea6\u3002 Go\u4f8b\u5b50 \u00b6 \u53cc\u6307\u9488\u4e3b\u8981\u7528\u4e8e\u904d\u5386\u6570\u7ec4\uff0c\u4e24\u4e2a\u6307\u9488\u6307\u5411\u4e0d\u540c\u7684\u5143\u7d20\uff0c\u4ece\u800c\u534f\u540c\u5b8c\u6210\u4efb\u52a1\u3002\u53cc\u6307\u9488\u53ef\u4ee5\u4ece\u4e0d\u540c\u7684\u65b9\u5411\u5411\u4e2d\u95f4\u903c\u8fd1\u4e5f\u53ef\u4ee5\u671d\u7740\u540c\u4e00\u4e2a\u65b9\u5411\u904d\u5386\u3002 \u5728LeedCode\u4e2d\u6709\u5f88\u591a\u9898\u76ee\u53ef\u4ee5\u901a\u8fc7\u53cc\u6307\u9488\u7684\u601d\u60f3\u6765\u89e3\u7b54\u3002\u5176\u4e2d\u5305\u62ec\uff1a 1\u3001\u6709\u5e8f\u6570\u7ec4\u7684 Two Sum \u00b6 Leetcode \uff1a167. Two Sum II - Input array is sorted (Easy) Input: numbers={2, 7, 11, 15}, target=9 Output: index1=1, index2=2 \u9898\u76ee\u63cf\u8ff0\uff1a\u5728\u6709\u5e8f\u6570\u7ec4\u4e2d\u627e\u51fa\u4e24\u4e2a\u6570\uff0c\u4f7f\u5b83\u4eec\u7684\u548c\u4e3a target\u3002 \u4f7f\u7528\u53cc\u6307\u9488\uff0c\u4e00\u4e2a\u6307\u9488\u6307\u5411\u503c\u8f83\u5c0f\u7684\u5143\u7d20\uff0c\u4e00\u4e2a\u6307\u9488\u6307\u5411\u503c\u8f83\u5927\u7684\u5143\u7d20\u3002 \u6307\u5411\u8f83\u5c0f\u5143\u7d20\u7684\u6307\u9488\u4ece\u5934\u5411\u5c3e\u904d\u5386\uff0c\u6307\u5411\u8f83\u5927\u5143\u7d20\u7684\u6307\u9488\u4ece\u5c3e\u5411\u5934\u904d\u5386\u3002 \u5982\u679c\u4e24\u4e2a\u6307\u9488\u6307\u5411\u5143\u7d20\u7684\u548c sum == target\uff0c\u90a3\u4e48\u5f97\u5230\u8981\u6c42\u7684\u7ed3\u679c\uff1b \u5982\u679c sum > target\uff0c\u79fb\u52a8\u8f83\u5927\u7684\u5143\u7d20\uff0c\u4f7f sum \u53d8\u5c0f\u4e00\u4e9b\uff1b \u5982\u679c sum < target\uff0c\u79fb\u52a8\u8f83\u5c0f\u7684\u5143\u7d20\uff0c\u4f7f sum \u53d8\u5927\u4e00\u4e9b\u3002 func twoSum ( numbers [] int , target int ) [] int { for i , j := 0 , len ( numbers ) - 1 ; i < j ;{ if numbers [ i ] + numbers [ j ] == target { return [] int { i + 1 , j + 1 } } if numbers [ i ] + numbers [ j ] < target { i ++ continue } if numbers [ i ] + numbers [ j ] > target { j -- continue } } return [] int {} } 2\u3001\u4e24\u6570\u5e73\u65b9\u548c \u00b6 633. Sum of Square Numbers (Easy) Input: 5 Output: True Explanation: 1 * 1 + 2 * 2 = 5 \u9898\u76ee\u63cf\u8ff0\uff1a\u5224\u65ad\u4e00\u4e2a\u6570\u662f\u5426\u4e3a\u4e24\u4e2a\u6570\u7684\u5e73\u65b9\u548c\u3002 /*\u8bbe\u7f6e\u4e24\u4e2a\u6307\u9488\uff0c\u4e00\u4e2a\u4ece\u524d\uff080\uff09\u5f00\u59cb\u904d\u5386\uff0c\u4e00\u4e2a\u4ece\u540e\uff08sqrt(n)\uff09\u5f00\u59cb\u904d\u5386\uff0c\u76f4\u5230\u627e\u5230\u5408\u9002\u7684\u89e3 */ func judgeSquareSum ( c int ) bool { for i , j := 0 , int ( math . Sqrt ( float64 ( c ))); i <= j ;{ if i * i + j * j == c { return true } if i * i + j * j < c { i ++ continue } if i * i + j * j > c { j -- continue } } return false } 3\u3001\u53cd\u8f6c\u5b57\u7b26\u4e32\u4e2d\u7684\u5143\u97f3\u5b57\u7b26 \u00b6 345. Reverse Vowels of a String (Easy) Given s = \"leetcode\" , return \"leotcede\" . /*\u4f7f\u7528\u53cc\u6307\u9488\u6307\u5411\u5f85\u53cd\u8f6c\u7684\u4e24\u4e2a\u5143\u97f3\u5b57\u7b26\uff0c\u4e00\u4e2a\u6307\u9488\u4ece\u5934\u5411\u5c3e\u904d\u5386\uff0c\u4e00\u4e2a\u6307\u9488\u4ece\u5c3e\u5230\u5934\u904d\u5386\uff0c\u53d1\u73b0\u4e24\u4e2a\u5143\u97f3\u540e\u4ea4\u6362*/ func reverseVowels ( s string ) string { bs := [] byte ( s ) for i , j := 0 , len ( bs ) - 1 ; i < j ;{ if ! isVowel ( bs [ i ]){ i ++ continue } if ! isVowel ( bs [ j ]){ j -- continue } temp := bs [ i ] bs [ i ]= bs [ j ] bs [ j ]= temp i ++ j -- } return string ( bs ) } func isVowel ( b byte ) bool { return b == 'a' || b == 'e' || b == 'i' || b == 'o' || b == 'u' || b == 'A' || b == 'E' || b == 'I' || b == 'O' || b == 'U' } 4\u3001\u56de\u6587\u5b57\u7b26\u4e32 \u00b6 680. Valid Palindrome II (Easy) Input : \"abca\" Output : True Explanation : You could delete the character 'c' . \u9898\u76ee\u63cf\u8ff0\uff1a\u53ef\u4ee5\u5220\u9664\u4e00\u4e2a\u5b57\u7b26\uff0c\u5224\u65ad\u662f\u5426\u80fd\u6784\u6210\u56de\u6587\u5b57\u7b26\u4e32\u3002 /*\u4e24\u4e2a\u6307\u9488\uff0c\u4e00\u4e2a\u4ece\u524d\u4e00\u4e2a\u5f80\u540e\uff0c\u4e00\u81f4\u7ee7\u7eed\u5f80\u524d\uff0c\u4e0d\u4e00\u81f4\u5219\u5206\u522b\u770b\u8fc7\u6ee4\u54ea\u4e00\u8fb9\u53ef\u4ee5\u7ee7\u7eed*/ func validPalindrome ( s string ) bool { bs := [] byte ( s ) for i , j := 0 , len ( bs ) - 1 ; i < j ;{ if bs [ i ] != bs [ j ] { //\u53d1\u73b0\u4e0d\u4e00\u81f4\uff0c\u5206\u522b\u770b\u53bb\u6389\u5de6\u8fb9\u8fd8\u662f\u53bb\u6389\u53f3\u8fb9\u4efb\u610f\u4e00\u4e2a\u53ef\u4ee5\u5c31\u901a\u8fc7 return ispalindrome ( bs , i + 1 , j ) || ispalindrome ( bs , i , j - 1 ) } i ++ j -- } return true } func ispalindrome ( bs [] byte , left , right int ) bool { for ; left < right ;{ if bs [ left ] != bs [ right ]{ return false } left ++ right -- } return true } 5\u3001\u5f52\u5e76\u4e24\u4e2a\u6709\u5e8f\u6570\u7ec4 \u00b6 88. Merge Sorted Array (Easy) Input: nums1 = [1,2,3,0,0,0], m = 3 nums2 = [2,5,6], n = 3 Output: [1,2,2,3,5,6] \u9898\u76ee\u63cf\u8ff0\uff1a\u628a\u5f52\u5e76\u7ed3\u679c\u5b58\u5230\u7b2c\u4e00\u4e2a\u6570\u7ec4\u4e0a\u3002 /*\u4ece\u5c3e\u5f00\u59cb\u904d\u5386,\u9010\u4e2a\u6bd4\u8f83\u6dfb\u52a0\u5230nums1\u4e0a*/ func merge ( nums1 [] int , m int , nums2 [] int , n int ) { index := m + n - 1 for index1 , index2 := m - 1 , n - 1 ; index1 >= 0 || index2 >= 0 ; index -- { if index1 < 0 { nums1 [ index ] = nums2 [ index2 ] index2 -- } else if index2 < 0 { nums1 [ index ] = nums1 [ index1 ] index1 -- } else if nums1 [ index1 ] <= nums2 [ index2 ] { nums1 [ index ] = nums2 [ index2 ] index2 -- } else if nums1 [ index1 ] > nums2 [ index2 ]{ nums1 [ index ] = nums1 [ index1 ] index1 -- } } } 6\u3001\u5224\u65ad\u94fe\u8868\u662f\u5426\u5b58\u5728\u73af \u00b6 141. Linked List Cycle (Easy) /** * Definition for singly-linked list. * struct ListNode { * int val; * ListNode *next; * ListNode(int x) : val(x), next(NULL) {} * }; */ /*\u4f7f\u7528\u53cc\u6307\u9488\uff0c\u4e00\u4e2a\u6307\u9488\u6bcf\u6b21\u79fb\u52a8\u4e00\u4e2a\u8282\u70b9\uff0c\u4e00\u4e2a\u6307\u9488\u6bcf\u6b21\u79fb\u52a8\u4e24\u4e2a\u8282\u70b9\uff0c\u5982\u679c\u5b58\u5728\u73af\uff0c\u90a3\u4e48\u8fd9\u4e24\u4e2a\u6307\u9488\u4e00\u5b9a\u4f1a\u76f8\u9047\u3002*/ class Solution { public : bool hasCycle ( ListNode * head ) { if ( head == NULL || head -> next == NULL ){ return false ; } ListNode * l1 = head ; ListNode * l2 = head -> next ; while ( l2 != NULL && l2 -> next != NULL ){ if ( l1 == l2 ){ return true ; } else { l1 = l1 -> next ; l2 = l2 -> next -> next ; } } return false ; } }; 7\u3001\u6700\u957f\u5b50\u5e8f\u5217 \u00b6 524. Longest Word in Dictionary through Deleting (Medium) Input: s = \"abpcplea\" , d = [ \"ale\" , \"apple\" , \"monkey\" , \"plea\" ] Output: \"apple\" \u9898\u76ee\u63cf\u8ff0\uff1a\u5220\u9664 s \u4e2d\u7684\u4e00\u4e9b\u5b57\u7b26\uff0c\u4f7f\u5f97\u5b83\u6784\u6210\u5b57\u7b26\u4e32\u5217\u8868 d \u4e2d\u7684\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u627e\u51fa\u80fd\u6784\u6210\u7684\u6700\u957f\u5b57\u7b26\u4e32\u3002\u5982\u679c\u6709\u591a\u4e2a\u76f8\u540c\u957f\u5ea6\u7684\u7ed3\u679c\uff0c\u8fd4\u56de\u5b57\u5178\u5e8f\u7684\u6700\u5927\u5b57\u7b26\u4e32\u3002 /*\u4e24\u4e2a\u6307\u9488\u4ece\u5934\u5f00\u59cb\u67e5\u770b\u662f\u5426\u80fd\u543b\u5408\uff0c\u5982\u679c\u67e5\u5230d\u4e2d\u5b57\u4e32\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u4e5f\u543b\u5408\u4ee3\u8868\u80fd\u591f\u5b8c\u5168match\uff0c\u518d\u5904\u7406\u540c\u957f\u5ea6\u7684\u95ee\u9898*/ func findLongestWord ( s string , d [] string ) string { result := \"\" for _ , v := range d { if len ( result ) > len ( v ) || len ( result ) == len ( v ) && result <= v { continue } if isValid ( s , v ) { result = v } } return result } func isValid ( s string , v string ) bool { //\u770b\u662f\u4e0d\u662f\u80fdmatch\u4e0a bs := [] byte ( s ) bv := [] byte ( v ) i , j := 0 , 0 for i < len ( bs ) && j < len ( bv ){ if bs [ i ] == bv [ j ]{ j ++ } i ++ } if j == len ( bv ) { //\u6700\u540e\u4e00\u4e2a\u4e5f\u7b26\u5408\u3002 return true } return false } C++\u4f8b\u5b50 \u00b6 \u6b64\u7c7b\u95ee\u9898\u4e00\u822c\u6d89\u53ca\u51e0\u79cd\u60c5\u5f62\uff1a in place \u7684\u66f4\u65b0\u6570\u7ec4\uff0c\u9700\u8981\u4e00\u4e2aindex\u8bb0\u5f55\u66f4\u65b0\u4e4b\u540e\u7684\u6570\u7ec4\uff0c\u53e6\u4e00\u4e2aindex\u8dd1\u904d\u539f\u6765\u7684\u6570\u7ec4\uff1b \u8fd8\u6709\u5c31\u662f\u627e\u5230\u6570\u7ec4\u91cc\u9762\u7684N\u4e2a\u6570\u4f7f\u5f97\u8fd9\u51e0\u4e2a\u6570\u6ee1\u8db3\u4e00\u5b9a\u7684\u6761\u4ef6\uff08\u5982\u51e0\u4e2a\u6570\u4e4b\u548c\u5fc5\u987b\u4e3a\u67d0\u4e00\u4e2a\u7279\u5b9a\u7684\u6570\uff09\uff1b\u8fd8\u6709\u5c31\u662f\u4e00\u7c7b\u7279\u6b8a\u7684\u95ee\u9898\u96e8\u6c34\u50a8\u5b58\u95ee\u9898\u3002 \u8fd9\u91cc\u6709\u51e0\u4e2a\u5173\u952e\u95ee\u9898\u9700\u8981\u7406\u89e3: \u9996\u5148\u6570\u7ec4\u662f\u5426\u6392\u5e8f\uff0c\u6839\u636e\u4fe1\u606f\u8bba\u7684\u770b\u6cd5\u6216\u8005\u80fd\u91cf\u5b88\u6052\u7684\u539f\u7406\uff0c\u6570\u7ec4\u662f\u5426\u6392\u5e8f\u4e0e\u5892\u6709\u5173\uff0c\u5892\u7684\u672c\u8d28\u5c31\u662f\u63cf\u8ff0\u4e8b\u7269\u6709\u5e8f\u7a0b\u5ea6\u7684\u5ea6\u91cf\uff0c\u6362\u53e5\u8bdd\u8bf4\u4e8b\u7269\u8d8a\u6709\u5e8f\u5892\u7684\u503c\u8d8a\u4f4e\uff0c\u5e76\u4e14\u672c\u8d28\u662f\u5892\u4f1a\u81ea\u7136\u7684\u4f1a\u589e\u5927\u5728\u65e0\u5916\u529b\u5e72\u6270\u7684\u72b6\u51b5\u4e0b\uff0c\u4e5f\u5c31\u662f\u4e8b\u7269\u603b\u662f\u5411\u7740\u65e0\u5e8f\u53d1\u5c55\u7684\u3002\u800c\u600e\u6837\u8ba9\u4e8b\u7269\u53d8\u7684\u6709\u5e8f\u5462\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u5916\u529b\u80fd\u91cf\u7684\u8f93\u5165\u6765\u4f7f\u5f97\u5892\u53d8\u5c0f\u6216\u8005\u53d8\u7684\u6709\u5e8f\u3002\u90a3\u4e48\u5728\u6570\u7ec4\u662f\u5426\u6709\u5e8f\u7684\u95ee\u9898\u4e0a\uff0c\u6211\u4eec\u5e0c\u671b\u5b83\u662f\u6709\u5e8f\u7684\uff0c\u5982\u679c\u4e0d\u662f\u90a3\u4e48\u5c31\u9700\u8981\u82b1\u8d39\u201c\u80fd\u91cf\u201d\u8ba9\u4ed6\u7684\u5892\u53d8\u5c0f\uff0c\u8fd9\u6837\u590d\u6742\u5ea6O(nlogn)\u5c31\u4e0a\u53bb\u4e86\uff0c\u8fd9\u91cc\u590d\u6742\u5ea6\u53ef\u4ee5\u770b\u4f5c\u4e3a\u5916\u4f5c\u7528\u529b\u7684\u4f53\u73b0\u3002 \u5176\u6b21\u53cc\u6307\u9488\u95ee\u9898\u7684\u672c\u8d28\u5176\u5b9e\u662f\u7531\u4e8e\u6709\u4e24\u4e2a\u6216\u8005\u591a\u4e2a\u5143\u7d20\u6709\u76f8\u4e92\u4f5c\u7528\u6216\u8005\u76f8\u5173\u8054\uff0c\u56e0\u6b64\u5728\u6539\u53d8\u5176\u4e2d\u4e00\u4e2a\u5143\u7d20\u7684\u540c\u65f6\u5176\u4ed6\u51e0\u4e2a\u5143\u7d20\u4e5f\u9700\u8981\u8ddf\u7740\u6539\u53d8\uff0c\u56e0\u6b64\u53cc\u6307\u9488\u95ee\u9898\u4e00\u822c\u662f\u5728\u6ee1\u8db3\u51e0\u4e2a\u5143\u7d20\u5173\u7cfb\u4e0d\u53d8\u7684\u60c5\u51b5\u4e4b\u4e0b\uff0c\u6539\u53d8\u4e00\u4e2a\u5143\u7d20\u7684\u540c\u65f6\uff0c\u5bfb\u627e\u5176\u4ed6\u51e0\u4e2a\u5143\u7d20\u6ee1\u8db3\u73b0\u6709\u7684\u5173\u7cfb\u60c5\u51b5\u3002 \u5b9e\u65f6\u66f4\u65b0\u6570\u7ec4 \u00b6 \u4f8b\u9898\uff1a Remove Element \u5206\u6790\uff1a \u8fd9\u9053\u9898\u6709\u51e0\u4e2a\u5173\u952e\u5b57\u9700\u8981\u6ce8\u610f: in place , the order of elements can be changed .\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u7528two pointers\uff0c\u4e00\u4e2a\u8bb0\u5f55remove\u8fc7\u540e\u7684\u6570\u7ec4\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u4f4d\u7f6e\uff0c\u4e00\u4e2a\u7528\u6765\u904d\u5386\u6574\u4e2a\u6570\u7ec4\uff0c\u5224\u65ad\u6761\u4ef6\u5c31\u662f\u6bd4\u8f83\u8be5\u5143\u7d20\u548ctarget\u7684\u503c\uff0c\u5982\u679c\u4e0d\u76f8\u7b49\u5c31\u628a\u5b83copy\u7ed9\u53e6\u4e00\u4e2apointer.\u56e0\u4e3a\u9898\u76ee\u53ea\u9700\u8981\u6c42\u6700\u540e\u7684\u6570\u7ec4\u957f\u5ea6\uff0c\u6240\u4ee5\u8fd4\u56de\u6700\u540e\u8bb0\u5f55\u4f4d\u7f6e\u5c31\u53ef\u4ee5\u4e86\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n)\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int removeElement ( int A [], int n , int elem ) { if ( A == nullptr || n == 0 ) return 0 ; int index = 0 ; for ( int i = 0 ; i < n ; ++ i ){ if ( A [ i ] != elem ){ A [ index ++ ] = A [ i ]; } } return index ; } }; \u63a5\u4e0b\u6765\u6211\u4eec\u770b\u4e00\u770b\u8fd9\u9053\u9898\u7684\u4e00\u4e2a\u53d8\u5f62\uff1a \u4f8b\u9898\uff1a Remove Duplicates from Sorted Array \u5206\u6790\uff1a\u8fd9\u9053\u9898\u51e0\u4e4e\u548c\u4e0a\u4e00\u9898\u4e00\u6837\uff0c\u8fd9\u91cc\u6ce8\u610f\u6570\u7ec4\u662f\u6392\u5e8f\u7684\uff0c \u5173\u952e\u8bcd\uff1a in place with constant memory . \u6709\u4e00\u4e2a\u5730\u65b9\u503c\u5f97\u6ce8\u610f\u7b2c\u4e8c\u4e2apointer\u7684\u8d77\u59cb\u70b9\u5e94\u8be5\u4ece\u7b2c\u4e8c\u4e2a\u5143\u7d20\u5f00\u59cb\uff0c\u56e0\u4e3a\u5b9e\u9645\u4e0a\u7b2c\u4e8c\u4e2a\u6307\u9488\u662f\u7528\u6765\u6bd4\u8f83\u548c\u524d\u4e00\u4e2a\u5143\u7d20\u7684\u503c\uff0c\u5982\u679c\u76f8\u7b49\u5c31skip. \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int removeDuplicates ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; int index = 0 ; for ( int i = 1 ; i < n ; ++ i ){ if ( A [ index ] != A [ i ]){ A [ ++ index ] = A [ i ]; } } return index + 1 ; } }; \u4e0b\u9762\u589e\u52a0\u4e86\u4e00\u70b9\u96be\u5ea6\uff0c\u5982\u679c\u540c\u4e00\u4e2a\u5143\u7d20\u5141\u8bb8\u51fa\u73b0\u4e24\u6b21\u3002 \u4f8b\u9898\uff1a \uff3bRemove Duplicates from Sorted Array II]( https://oj.leetcode.com/problems/remove-duplicates-from-sorted-array-ii/ ) \u5206\u6790\uff1a \u9996\u5148\u60f3\u5230\u7684\u662fhashtable\u50a8\u5b58\u6bcf\u4e2a\u5143\u7d20\u7684\u4e2a\u6570\uff0c\u4ed4\u7ec6\u89c2\u5bdf\u9898\u76ee\u53ef\u4ee5\u53d1\u73b0\u5176\u5b9e\u4e0d\u9700\u8981hashtable\uff0c\u56e0\u4e3a\u6570\u7ec4\u662f\u6392\u5e8f\u7684\uff0c\u91cd\u590d\u7684\u5143\u7d20\u5e94\u8be5\u4f1a\u8fde\u5728\u4e00\u8d77\uff0c\u8fd9\u6837\u904d\u5386\u7684\u65f6\u5019\u591a\u52a0\u4e00\u4e2a\u5224\u65ad\u5c31\u53ef\u4ee5\u89e3\u51b3\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n),\u7a7a\u95f4\u590d\u6742\u5ea6O(1). \u5148\u770b\u4e00\u4e2a\u89e3\u6cd5\u5efa\u7acb\u5728\u4e0a\u4e00\u9898\u7684\u57fa\u7840\u4e0a\uff0c\u5176\u4e2d\u5224\u65ad\u4e86\u524d\u540e\u5143\u7d20\u662f\u5426\u76f8\u7b49\uff0c\u8fd9\u6837\u4fdd\u8bc1\u6700\u591a\u53ea\u6709\u4e24\u4e2a\u76f8\u540c\u7684\u5143\u7d20\uff1a class Solution { public : int removeDuplicates ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; int index = 0 ; for ( int i = 1 ; i < n ; ++ i ){ if ( A [ index ] == A [ i ] && ( index == 0 || A [ index -1 ] != A [ index ])) A [ ++ index ] = A [ i ]; if ( A [ index ] != A [ i ]) A [ ++ index ] = A [ i ]; } return index + 1 ; } }; \u5176\u5b9e\u53ef\u4ee5\u7a0d\u52a0\u6539\u53d8\uff0c\u4f7f\u5f97\u89e3\u6cd5\u66f4\u6709\u53ef\u6269\u5c55\u6027\uff0c\u5904\u7406N\u4e2a\u91cd\u590d\u7684\u5143\u7d20\u7684\u60c5\u5f62\uff1a class Solution { public : int removeDuplicates ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; if ( n <= 2 ) return n ; int index = 2 ; for ( int i = 2 ; i < n ; ++ i ){ if ( A [ i ] != A [ index - 2 ]) A [ index ++ ] = A [ i ]; } return index ; } }; \u8fd9\u91cc\u76f4\u63a5\u4ece\u7b2c\u4e09\u4e2a\u5143\u7d20\u5f00\u59cb\u6bd4\u8f83\uff0c\u5982\u679c\u662f\u5141\u8bb8N\u4e2a\u91cd\u590d\u5143\u7d20\uff0c2\u53ef\u4ee5\u6539\u4e3aN,\u4ee3\u7801\u6bd4\u4e0a\u4e2a\u89e3\u6cd5\u7b80\u6d01\u4e5f\u66f4\u5177\u6709\u53ef\u62d3\u5c55\u6027\u3002 \u524d\u9762\u51e0\u9053\u9898\u90fd\u662f\u5220\u9664\u5143\u7d20\uff0c\u8fd8\u6709\u4e00\u7c7b\u95ee\u9898\u5c31\u662f\u6392\u5e8f\u95ee\u9898\u6709\u65f6\u5019\u4e5f\u53ef\u4ee5\u7528Two Pointers\u7684\u89e3\u6cd5. \u4f8b\u9898: [Sort Colors] ( https://oj.leetcode.com/problems/sort-colors/ ) \u5206\u6790\uff1a\u8fd9\u91cc\u6709\u4e09\u4e2a\u6307\u9488\uff0c\u4f46\u662f\u5b9e\u9645\u662f\u4e24\u4e2a\u5728\u64cd\u4f5c\uff0c\u4e00\u4e2a\u5b58red\u7684index\uff0c\u4e00\u4e2a\u5b58blue\u7684index, \u7136\u540e\u4e24\u8fb9\u5f80\u4e2d\u95f4\u8d70\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : void sortColors ( int A [], int n ) { int j = 0 , k = n -1 ; int i = 0 ; while ( i < k + 1 ){ if ( A [ i ] == 0 ){ int t = A [ j ]; A [ j ] = A [ i ]; A [ i ] = t ; j ++ ; i ++ ; } else if ( A [ i ] == 2 ){ int t = A [ k ]; A [ k ] = A [ i ]; A [ i ] = t ; k -- ; } else { i ++ ; } } } }; \u6b64\u5916\u8fd9\u9053\u9898\u8fd8\u6709\u4e2a\u975e\u5e38\u5de7\u5999\u7684\u89e3\u6cd5\uff0c\u5229\u7528\u5230\u4e86partition\u4e2d\u7684\u539f\u7406\uff1a class Solution { public : void sortColors ( int A [], int n ) { int j = 0 ; int k = 0 ; int i = 0 ; for ( int m = 0 ; m < n ; ++ m ){ if ( A [ m ] == 2 ){ A [ k ++ ] = 2 ; } else if ( A [ m ] == 1 ){ A [ k ++ ] = 2 ; A [ j ++ ] = 1 ; } else if ( A [ m ] == 0 ){ A [ k ++ ] = 2 ; A [ j ++ ] = 1 ; A [ i ++ ] = 0 ; } } } }; \u96e8\u6c34\u95ee\u9898 \u00b6 \u6b64\u7c7b\u95ee\u9898\u8868\u9762\u4e0a\u770b\u8ddf\u53cc\u6307\u9488\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\uff0c\u4f46\u662f\u7ecf\u8fc7\u4ed4\u7ec6\u5206\u6790\uff0c\u4f1a\u53d1\u73b0\u6709\u5f88\u591a\u5171\u540c\u4e4b\u5904\u3002 \u4f8b\u9898\uff1a Container with Most water \u5206\u6790\uff1a\u8fd9\u9053\u9898\u53ef\u4ee5\u5148\u627e\u51e0\u4e2a\u6570\u6a21\u62df\u4e00\u4e0b\uff0c\u4f1a\u53d1\u73b0\u5982\u679c\u60f3\u8ba9\u5bb9\u5668\u50a8\u5b58\u7684\u6c34\u591a\uff0c\u9700\u8981\u5de6\u53f3\u4e24\u4e2a\u6570\u8ddd\u79bb\u8d8a\u8fdc\u8d8a\u597d\uff0c\u5e76\u4e14\u4e24\u4e2a\u6570\u4e2d\u8f83\u5c0f\u7684\u6570\u503c\u8d8a\u5927\u8d8a\u597d\u3002\u9996\u5148\u8003\u8651\u66b4\u529b\u89e3\u6cd5\uff0c\u56fa\u5b9a\u4e00\u8fb9\uff0c\u7136\u540e\u627e\u53e6\u4e00\u8fb9\u8d8a\u5927\u8d8a\u597d\uff0c\u5bf9\u6bcf\u4e00\u4e2a\u6570\u90fd\u67e5\u627e\u4e00\u4e0b\uff0c\u5c31\u9700\u8981O(n^2).\u4ed4\u7ec6\u7814\u7a76\u53d1\u73b0\uff0c\u8fd9\u9053\u9898\u662f\u53ef\u4ee5\u7528\u53cc\u6307\u9488\u7684\uff0c\u56e0\u4e3a\u6700\u540e\u7684\u7ed3\u679c\u88ab\u51b3\u5b9a\u4e8e\u5de6\u53f3\u4e24\u4e2a\u6570\uff0c\u90a3\u4e48\u600e\u4e48\u8fdb\u884c\u904d\u5386\u5462\uff0c\u5982\u679c\u56fa\u5b9a\u4e00\u8fb9\uff0c\u6c38\u8fdc\u5e0c\u671b\u627e\u6bd4\u8fd9\u4e00\u8fb9\u5927\u7684\u6570\uff0c\u56e0\u6b64\u5982\u679c\u6bd4\u8fd9\u4e00\u8fb9\u5c0f\u53ef\u4ee5skip\u6389\u3002\u4e8e\u662fleft \u548cright\u4e24\u8fb9\u5de6\u53f3\u5939\u903c\uff0c\u9047\u5230\u8f83\u5c0f\u7684\u6570\u5c31skip\u6389\u76f4\u5230\u91cd\u5408\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int maxArea ( vector < int > & height ) { if ( height . size () == 0 ) return 0 ; int i = 0 ; int j = height . size () -1 ; int maxA = INT_MIN ; while ( i < j ){ int area = min ( height [ j ], height [ i ]) * ( j - i ); maxA = max ( maxA , area ); if ( height [ i ] < height [ j ]){ i ++ ; } else { j -- ; } } return maxA ; } }; \u518d\u6765\u770b\u4e00\u4e2a\u7c7b\u4f3c\u7684\u9898\u76ee\uff0c\u8fd9\u91cccontainer\u4e0d\u6b62\u4e00\u4e2a\u4e86\u3002 \u9898\u76ee\uff1a Trapping Rain Water \u5206\u6790\uff1a\u8fd9\u91cc\u4e5f\u662f\u7c7b\u4f3c\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u67f1\u5b50\u9700\u8981\u5206\u522b\u5bfb\u627e\u5b83\u7684\u5de6\u8fb9\u548c\u53f3\u8fb9\u6700\u9ad8\u7684\u67f1\u5b50\uff0c\u8fd9\u6837\u8be5\u67f1\u5b50\u80fd\u5bb9\u7eb3\u7684\u9762\u79ef\u5c31\u662fmin(max_left, max_right) - height.\u56e0\u6b64\u89e3\u6cd5\u81ea\u7136\u53d8\u6210\u4e86\u4ece\u5de6\u5f80\u53f3\u904d\u5386\uff0c\u627e\u5230\u6bcf\u4e2a\u67f1\u5b50\u5de6\u8fb9\u6700\u5927\u503c\uff0c\u7136\u540e\u4ece\u53f3\u5411\u5de6\u904d\u5386\u627e\u5230\u6bcf\u4e2a\u67f1\u5b50\u53f3\u8fb9\u6700\u5927\u503c\u3002\u6700\u540e\u4e00\u6b21\u904d\u5386\u8ba1\u7b97\u6bcf\u4e2a\u67f1\u5b50\u53ef\u4ee5\u5bb9\u7eb3\u7684\u9762\u79ef\u3002 \u590d\u6742\u5ea6\uff1a\u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(n). class Solution { public : int trap ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; vector < int > right_height ( n ); vector < int > left_height ( n ); int height = 0 , total = 0 ; for ( int i = 0 ; i < n ; ++ i ){ if ( A [ i ] > height ) height = A [ i ]; right_height [ i ] = height ; } height = 0 ; for ( int i = n -1 ; i >= 0 ; -- i ){ if ( A [ i ] > height ) height = A [ i ]; left_height [ i ] = height ; } for ( int i = 0 ; i < n ; ++ i ){ total += min ( right_height [ i ], left_height [ i ]) - A [ i ]; } return total ; } }; \u8fd9\u9053\u9898\u8fd8\u6709\u4e00\u4e2a\u5206\u800c\u6cbb\u4e4b\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5148\u904d\u5386\u4e00\u8fb9\u6570\u7ec4\u627e\u5230\u6700\u5927\u503c\uff0c\u7136\u540e\u5728\u6700\u9ad8\u67f1\u5b50\u7684\u5de6\u8fb9\u548c\u53f3\u8fb9\u5206\u522b\u904d\u5386\u5c31\u53ef\u4ee5\u8ba1\u7b97\u51fa\u6700\u540e\u7684\u7ed3\u679c\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int trap ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; int result = 0 ; int max = -1 , index = 0 ; for ( int i = 0 ; i < n ; ++ i ){ if ( A [ i ] > max ){ max = A [ i ]; index = i ; } } int left = -1 ; for ( int i = 0 ; i < index ; ++ i ){ if ( A [ i ] > left ) left = A [ i ]; else result += left - A [ i ]; } int right = -1 ; for ( int i = n -1 ; i > index ; -- i ){ if ( A [ i ] > right ) right = A [ i ]; else result += right - A [ i ]; } return result ; } }; \u6c42\u548c\u95ee\u9898 \u00b6 \u4e0b\u9762\u6211\u4eec\u5f00\u59cb\u5206\u6790\u4e00\u4e0b\u4e00\u7cfb\u5217\u5173\u4e8e\u5143\u7d20\u6c42\u548c\u7684\u95ee\u9898\uff0c\u8fd9\u4e00\u7cfb\u5217\u95ee\u9898\u7279\u5f81\u5982\u4e0b\uff0c\u5728\u4e00\u7ec4\u4efb\u610f\u6392\u5e8f\u6570\u7ec4\u4e2d\uff0c\u5bfb\u627eN\u4e2a\u6570\u4f7f\u5f97\u5b83\u4eec\u7684\uff08\u79ef\u548c\u5dee\u9664\uff09\u6ee1\u8db3\u67d0\u4e00\u4e2a\u6761\u4ef6\uff0c\u8fd9\u91cc\u53ef\u4ee5\u662f\u5b83\u4eec\u7ecf\u8fc7\u4e00\u7cfb\u5217\u8fd0\u7b97\u6ee1\u8db3\u67d0\u4e00\u4e2a\u503c\uff0c\u6216\u8005\u6c42\u4ed6\u4eec\u7684\u6700\u5927\u503c\u7b49\u7b49\u3002\u5904\u7406\u6b64\u7c7b\u95ee\u9898\u7684\u65f6\u5019\uff0c\u9996\u5148\u770b\u6570\u7ec4\u662f\u5426\u662f\u6709\u5e8f\u7684\uff0c\u6839\u636e\u4e4b\u524d\u7684\u7406\u8bba\u5982\u679c\u6570\u7ec4\u662f\u65e0\u5e8f\u7684\uff0c\u90a3\u4e48\u9700\u8981\u989d\u5916\u7684\u529b\u4f7f\u5176\u6709\u5e8f\uff0c\u4e00\u822c\u662f\u6392\u5e8f\u6216\u8005hashtable\u6765\u8bb0\u5f55\u6bcf\u4e2a\u5143\u7d20\uff0c\u590d\u6742\u5ea6\u4f1a\u4e0a\u5347\u3002\u7136\u540e\u5728\u6570\u7ec4\u6709\u5e8f\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u5de6\u53f3\u5939\u903c\uff0c\u627e\u5230\u6ee1\u8db3\u6761\u4ef6\u7684\u5143\u7d20\u3002 \u4f8b\u9898\uff1b Two Sum \u5206\u6790\uff1a \u4e00\u4e2a\u7ecf\u5178\u7684\u6c42\u548c\u95ee\u9898\uff0c\u9996\u5148\u770b\u6570\u7ec4\u662f\u5426\u6709\u5e8f\uff0c \u5f88\u9057\u61be\uff0c\u6ca1\u6709\uff01\u56e0\u6b64\u9700\u8981\u6392\u5e8f\uff0c\u4f46\u662f\u6ce8\u610f\u8fd9\u6837\u590d\u6742\u5ea6\u5c31\u53d8\u6210O(nlgn)\u4e86\uff0c\u6709\u6ca1\u6709\u66f4\u597d\u7684\u65b9\u6cd5\uff0chashtable!\u53ef\u4ee5\u4fdd\u6301\u590d\u6742\u5ea6\u5728O(n)\u53c8\u53ef\u4ee5\u8d77\u5230\u6392\u5e8f\u7684\u6548\u679c\u3002\u8fd9\u91cc\u6ce8\u610f\u5728\u5faa\u73af\u91cc\u9762\u7684\u5224\u65ad\u6761\u4ef6\uff0c\u9996\u5148\u770btarget - number[i]\u662f\u5426\u5728hashtable\u91cc\u9762\u5b58\u5728\uff0c\u5982\u679c\u5b58\u5728\u5c31\u8f93\u51fa\u7ed3\u679c\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u8bb0\u5f55\u5f53\u524d\u7684\u6570\u8fdb\u5165hashtable\u91cc\u9762\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n),\u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : vector < int > twoSum ( vector < int > & numbers , int target ) { vector < int > answer ( 2 , 0 ); unordered_map < int , int > record ; for ( int i = 0 ; i < numbers . size (); ++ i ){ int x = numbers [ i ]; if ( record . find ( target - x ) != record . end ()){ answer [ 1 ] = i + 1 ; answer [ 0 ] = record [ target - numbers [ i ]]; break ; } record [ numbers [ i ]] = i + 1 ; } return answer ; } }; \u4f8b\u9898\uff1a 3Sum Closest \u5206\u6790\uff1a\u8fd8\u662f\u9996\u5148\u770b\u662f\u5426\u6570\u7ec4\u662f\u6709\u5e8f\u7684\uff0c\u5982\u679c\u4e0d\u662f\u6709\u5e8f\u7684\u5c31\u5f97\u6392\u5e8f\uff0c\u8fd9\u9053\u9898\u6d89\u53ca\u5230\u4e09\u4e2a\u5143\u7d20\uff08\u4e09\u4f53\u95ee\u9898\uff09\uff0c\u539f\u5219\u4e0a\u4e09\u4f53\u95ee\u9898\u5305\u542b\u4e86\u4e00\u5207\u4e09\u4e2a\u5143\u7d20\u53ca\u4ee5\u4e0a\u7684\u95ee\u9898\uff0c\u5982\u679c\u8bf4\u4e24\u4f53\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u6280\u5de7\uff08\u5982hashtable)\u89e3\u51b3\u7684\u8bdd\uff0c\u4e09\u4f53\u95ee\u9898\u5c31\u662f\u590d\u6742\u5ea6\u63d0\u9ad8\u4e86\u4e00\u4e2a\u53f0\u9636\uff0c\u4e00\u4e9b\u666e\u9002\u4e8e\u4e24\u4f53\u7684\u6280\u5de7\u5728\u4e09\u4f53\u95ee\u9898\u8fd9\u91cc\u884c\u4e0d\u901a\u4e86\u3002\u56e0\u6b64\u5728\u8fd9\u91cc\u9996\u5148\u8981\u5bf9\u6570\u7ec4\u6392\u5e8f\uff0c \u6b64\u9898\u6d89\u53ca\u5230\u4e09\u4e2a\u5143\u7d20\uff0c\u9996\u5148\u5934\u5c3e\u5404\u653e\u4e00\u4e2a\u5143\u7d20\uff0c\u7136\u540e\u4e2d\u95f4\u4ece\u7b2c\u4e8c\u4e2a\u5143\u7d20\uff0c\u5de6\u53f3\u5939\u903c\uff0c\u6211\u4eec\u7528\u4e00\u4e2agap\u6765\u8ba1\u7b97target\u548c\u73b0\u5728\u6240\u6709\u503c\u7684\u548c\u4e4b\u5dee\uff0c\u7531\u4e8e\u5df2\u7ecf\u6392\u597d\u5e8f\uff0c\u53ea\u8981\u6bd4\u8f83target\u548c\u73b0\u5728sum\u7684\u503c\uff0c\u5982\u679ctarget\u503c\u8f83\u5c0f\uff0c\u90a3\u4e48\u8bf4\u660emid\u7684\u503c\u8fc7\u5c0f\u56e0\u6b64\u5f80\u4e2d\u95f4\u9760\u62e2\uff0c\u53cd\u4e4bright\u7684\u503c\u8fc7\u5927\u56e0\u6b64\u5411\u4e2d\u95f4\u9760\u62e2\u3002\u5c31\u8fd9\u6837\u505a\u4e24\u91cd\u904d\u5386\u53ef\u4ee5\u8ba1\u7b97\u5230\u6700\u63a5\u8fd1target\u7684\u503c\uff0c\u56e0\u4e3a\u8fd9\u9053\u9898\u53ea\u8981\u627e\u6700\u63a5\u8fd1\u7684\u6570\u56e0\u6b64\u6ca1\u67093Sum\u90a3\u4e48\u9650\u5236\u6761\u4ef6\u591a\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n^2),\u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int threeSumClosest ( vector < int > & num , int target ) { int sum = 0 ; sort ( num . begin (), num . end ()); int min_gap = INT_MAX ; for ( auto start = num . begin (); start != prev ( num . end (), 2 ); ++ start ){ auto mid = next ( start ); auto last = prev ( num . end (), 1 ); while ( mid < last ){ int sumup = * start + * mid + * last ; int gap = abs ( target - sumup ); if ( gap < min_gap ){ min_gap = gap ; sum = sumup ; } if ( sumup < target ){ mid ++ ; } else { last -- ; } } } return sum ; } }; \u4f8b\u9898\uff1a 3Sum \u5206\u6790\uff1a\u8fd9\u9053\u9898\u662f\u6807\u51c6\u7684\u6c42\u548c\u95ee\u9898\uff0c\u65b9\u6cd5\u4e0e\u524d\u9762\u7c7b\u4f3c\uff0c\u4f46\u662f\u8981\u6ce8\u610f\u91cd\u590d\u6570\u7684\u51fa\u73b0\u4e5f\u5c31\u662fwhile(b < c)\u91cc\u9762\u4e0d\u65ad\u5939\u903c\u5982\u679c\u51fa\u73b0\u8fd1\u90bb\u7684\u5143\u7d20\u76f8\u540c\u7684\u60c5\u51b5\uff0c\u9700\u8981\u4e00\u4e2awhile\u8bed\u53e5\u6765\u79fb\u52a8,\u8fd9\u6837\u5f97\u5230\u7684\u6700\u540e\u6570\u7ec4\u4e00\u5b9a\u6ca1\u6709\u91cd\u590d\u6570\u3002\u8fd8\u6709\u5c31\u662fa\u7684\u91cd\u590d\u60c5\u51b5\u4e5f\u9700\u8981\u8003\u8651\u3002 \u590d\u6742\u5ea6\uff1a\u65f6\u95f4\u590d\u6742\u5ea6O(n^2), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). Solution { public: vector < vector < int > > threeSum ( vector < int > & num ) { vector < vector < int > > result ; if ( num . size () < 3 ) return result ; sort ( num . begin (), num . end ()); const int target = 0 ; for ( auto a = 0 ; a < num . size () - 2 ; ++ a ){ if ( a > 0 && num [ a ] == num [ a - 1 ]) continue ; auto b = a + 1 ; auto c = num . size () - 1 ; while ( b < c ){ if ( num [ a ] + num [ b ] + num [ c ] < target ){ do { b ++ ;} while ( b < c && num [ b ] == num [ b - 1 ]); } else if ( num [ a ] + num [ b ] + num [ c ] > target ){ do { c -- ;} while ( b < c && num [ c ] == num [ c + 1 ]); } else { result . push_back ({ num [ a ], num [ b ], num [ c ]}); do { b ++ ;} while ( b < c && num [ b ] == num [ b - 1 ]); do { c -- ;} while ( b < c && num [ c ] == num [ c + 1 ]); } } } return result ; } }; \u4f8b\u9898\uff1a 4Sum \u5206\u6790\uff1a\u5982\u679c\u4f7f\u7528\u4e0a\u9762\u7c7b\u4f3c\u7684\u65b9\u6cd5\u590d\u6742\u5ea6\u8fbe\u5230\u4e86O(N^3),\u6709\u6ca1\u6709\u66f4\u7701\u65f6\u95f4\u7684\u65b9\u6cd5\u5462\uff1f\u60f3\u5230\u4e00\u5171\u662f\u56db\u4e2a\u6570\u4e4b\u548c\uff0c\u81ea\u7136\u60f3\u5230\u53ef\u4e0d\u53ef\u4ee5\u4e24\u4e24\u914d\u5bf9\uff0c\u8fd9\u6837\u628a\u95ee\u9898\u53ef\u4ee5\u7b80\u5316\u4e3a2Sum. \u8fd9\u91cc\u6211\u4eec\u4f7f\u7528 multimap \u6765\u50a8\u5b58\u4e24\u4e2a\u6570\u7684\u548c\uff0c\u9996\u5148\u8981\u5f04\u6e05\u695akey\u662f\u4ec0\u4e48\uff0c\u56e0\u4e3a\u4e0d\u540c\u7684\u4e24\u4e2a\u6570\u53ef\u80fd\u6709\u76f8\u540c\u7684\u548c\uff0c\u56e0\u6b64key\u4e3a\u4e24\u4e2a\u6570\u7684\u548c\uff0cvalue\u5219\u662fa pair of indexes\u8bb0\u5f55\u4e24\u4e2a\u6570\u5728\u6570\u7ec4\u7684\u4f4d\u7f6e\u3002\u8fd9\u6837\u904d\u5386multimap\u7684\u540c\u65f6\uff0c\u627e\u5230\u53e6\u4e00\u7ec4\u6570\u4f7f\u5f97\u4e24\u7ec4\u6570\u4e4b\u540e\u4e3atarget. \u590d\u6742\u5ea6\uff1a\u65f6\u95f4\u590d\u6742\u5ea6O(N^2), \u7a7a\u95f4\u590d\u6742\u5ea6O(N^2). class Solution { public : vector < vector < int > > fourSum ( vector < int > & num , int target ) { vector < vector < int >> result ; if ( num . size () < 4 ) return result ; sort ( num . begin (), num . end ()); unordered_multimap < int , pair < int , int >> cache ; for ( int i = 0 ; i + 1 < num . size (); ++ i ) for ( int j = i + 1 ; j < num . size (); ++ j ) cache . insert ( make_pair ( num [ i ] + num [ j ], make_pair ( i , j ))); for ( auto i = cache . begin (); i != cache . end (); ++ i ) { int x = target - i -> first ; auto range = cache . equal_range ( x ); for ( auto j = range . first ; j != range . second ; ++ j ) { auto a = i -> second . first ; auto b = i -> second . second ; auto c = j -> second . first ; auto d = j -> second . second ; if ( a != c && a != d && b != c && b != d ) { vector < int > vec = { num [ a ], num [ b ], num [ c ], num [ d ] }; sort ( vec . begin (), vec . end ()); result . push_back ( vec ); } } } sort ( result . begin (), result . end ()); result . erase ( unique ( result . begin (), result . end ()), result . end ()); return result ; } };","title":"\u53cc\u6307\u9488"},{"location":"algre/double-pointer/#_1","text":"","title":"\u53cc\u6307\u9488\u95ee\u9898"},{"location":"algre/double-pointer/#_2","text":"\u53cc\u6307\u9488 \uff0c\u6307\u7684\u662f\u5728\u904d\u5386\u5bf9\u8c61\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u662f\u666e\u901a\u7684\u4f7f\u7528\u5355\u4e2a\u6307\u9488\u8fdb\u884c\u8bbf\u95ee\uff0c\u800c\u662f\u4f7f\u7528\u4e24\u4e2a\u76f8\u540c\u65b9\u5411\uff08 \u5feb\u6162\u6307\u9488 \uff09\u6216\u8005\u76f8\u53cd\u65b9\u5411\uff08 \u5bf9\u649e\u6307\u9488 \uff09\u7684\u6307\u9488\u8fdb\u884c\u626b\u63cf\uff0c\u4ece\u800c\u8fbe\u5230\u76f8\u5e94\u7684\u76ee\u7684\u3002 \u5206\u7c7b\uff1a\u5bf9\u649e\u6307\u9488\u3001\u5feb\u6162\u6307\u9488 \u6362\u8a00\u4e4b\uff0c\u53cc\u6307\u9488\u6cd5\u5145\u5206\u4f7f\u7528\u4e86\u6570\u7ec4\u6709\u5e8f\u8fd9\u4e00\u7279\u5f81\uff0c\u4ece\u800c\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u80fd\u591f\u7b80\u5316\u4e00\u4e9b\u8fd0\u7b97\u3002 \u5728 LeetCode \u9898\u5e93\u4e2d\uff0c\u5173\u4e8e**\u53cc\u6307\u9488**\u7684\u95ee\u9898\u8fd8\u662f\u633a\u591a\u7684\u3002 \u53cc\u6307\u9488","title":"\u4ec0\u4e48\u662f\u53cc\u6307\u9488"},{"location":"algre/double-pointer/#js","text":"","title":"JS\u4f8b\u5b50"},{"location":"algre/double-pointer/#_3","text":"\u5bf9\u649e\u6307\u9488**\u662f\u6307\u5728\u6709\u5e8f\u6570\u7ec4\u4e2d\uff0c\u5c06\u6307\u5411\u6700\u5de6\u4fa7\u7684\u7d22\u5f15\u5b9a\u4e49\u4e3a \u5de6\u6307\u9488(left) \uff0c\u6700\u53f3\u4fa7\u7684\u5b9a\u4e49\u4e3a \u53f3\u6307\u9488(right) \uff0c\u7136\u540e\u4ece\u4e24\u5934\u5411\u4e2d\u95f4\u8fdb\u884c\u6570\u7ec4\u904d\u5386\u3002\u5bf9\u649e\u6570\u7ec4\u9002\u7528\u4e8e**\u6709\u5e8f\u6570\u7ec4 \uff0c\u4e5f\u5c31\u662f\u8bf4\u5f53\u4f60\u9047\u5230\u9898\u76ee\u7ed9\u5b9a\u6709\u5e8f\u6570\u7ec4\u65f6\uff0c\u5e94\u8be5\u7b2c\u4e00\u65f6\u95f4\u60f3\u5230\u7528\u5bf9\u649e\u6307\u9488\u89e3\u9898\u3002 \u4f2a\u4ee3\u7801\u5927\u81f4\u5982\u4e0b\uff1a function fn ( list ) { var left = 0 ; var right = list . length - 1 ; //\u904d\u5386\u6570\u7ec4 while ( left <= right ) { left ++ ; // \u4e00\u4e9b\u6761\u4ef6\u5224\u65ad \u548c\u5904\u7406 ... ... right -- ; } } \u4e3e\u4e2aLeetCode\u4e0a\u7684\u4f8b\u5b50\uff1a \u4ee5**LeetCode 881 \u6551\u751f\u8247 **\u95ee\u9898\u4e3a\u4f8b \u7531\u4e8e\u672c\u9898\u53ea\u8981\u6c42\u8ba1\u7b97\u51fa \u6700\u5c0f\u8239\u6570 \uff0c\u6240\u4ee5\u539f\u6570\u7ec4\u662f\u5426\u88ab\u6539\u53d8\uff0c\u548c\u5143\u7d20\u7d22\u5f15\u4f4d\u7f6e\u90fd\u4e0d\u8003\u8651\u5728\u5185\uff0c\u6240\u4ee5\u53ef\u4ee5\u5148\u5bf9\u4e8e\u7ed9\u5b9a\u6570\u7ec4\u8fdb\u884c\u6392\u5e8f\uff0c\u518d\u4ece\u6570\u7ec4\u4e24\u4fa7\u5411\u4e2d\u95f4\u904d\u5386\u3002\u6240\u4ee5\u89e3\u9898\u601d\u8def\u5982\u4e0b\uff1a \u5bf9\u7ed9\u5b9a\u6570\u7ec4\u8fdb\u884c\u5347\u5e8f\u6392\u5e8f \u521d\u59cb\u5316\u5de6\u53f3\u6307\u9488 \u6bcf\u6b21\u90fd\u7528\u4e00\u4e2a\u201d\u6700\u91cd\u7684\u201c\u548c\u4e00\u4e2a\u201d\u6700\u8f7b\u7684\u201c\u8fdb\u884c\u914d\u5bf9\uff0c\u5982\u679c\u4e8c\u4eba\u91cd\u91cf\u5c0f\u4e8e Limit \uff0c\u5219\u6b64\u65f6\u7684\u201d\u6700\u8f7b\u7684\u201c\u4e0a\u8239\uff0c\u5373\uff08 left++ \uff09\u3002\u4e0d\u7ba1\u201d\u6700\u8f7b\u7684\u201c\u662f\u5426\u4e0a\u8239\uff0c\u201d\u6700\u91cd\u7684\u201c\u90fd\u8981\u4e0a\u8239\uff0c\u5373\uff08 right-- \uff09\u5e76\u4e14\u6240\u9700\u8239\u6570\u91cf\u52a0\u4e00\uff0c\u5373\uff08 num++ \uff09 \u4ee3\u7801\u5982\u4e0b\uff1a var numRescueBoats = function ( people , limit ) { people . sort (( a , b ) => ( a - b )); var num = 0 let left = 0 let right = people . length - 1 while ( left <= right ) { if (( people [ left ] + people [ right ]) <= limit ) { left ++ } right -- num ++ } return num };","title":"\u5bf9\u649e\u6307\u9488"},{"location":"algre/double-pointer/#_4","text":"**\u5feb\u6162\u6307\u9488**\u4e5f\u662f\u53cc\u6307\u9488\uff0c\u4f46\u662f\u4e24\u4e2a\u6307\u9488\u4ece\u540c\u4e00\u4fa7\u5f00\u59cb\u904d\u5386\u6570\u7ec4\uff0c\u5c06\u8fd9\u4e24\u4e2a\u6307\u9488\u5206\u522b\u5b9a\u4e49\u4e3a \u5feb\u6307\u9488\uff08fast\uff09 \u548c \u6162\u6307\u9488\uff08slow\uff09 \uff0c\u4e24\u4e2a\u6307\u9488\u4ee5\u4e0d\u540c\u7684\u7b56\u7565\u79fb\u52a8\uff0c\u76f4\u5230\u4e24\u4e2a\u6307\u9488\u7684\u503c\u76f8\u7b49\uff08\u6216\u5176\u4ed6\u7279\u6b8a\u6761\u4ef6\uff09\u4e3a\u6b62\uff0c\u5982fast\u6bcf\u6b21\u589e\u957f\u4e24\u4e2a\uff0cslow\u6bcf\u6b21\u589e\u957f\u4e00\u4e2a\u3002 \u4ee5 LeetCode 141.\u73af\u5f62\u94fe\u8868 \u4e3a\u4f8b,\uff0c\u5224\u65ad\u7ed9\u5b9a\u94fe\u8868\u4e2d\u662f\u5426\u5b58\u5728\u73af\uff0c\u53ef\u4ee5\u5b9a\u4e49\u5feb\u6162\u4e24\u4e2a\u6307\u9488\uff0c\u5feb\u6307\u9488\u6bcf\u6b21\u589e\u957f\u4e00\u4e2a\uff0c\u800c\u6162\u6307\u9488\u6bcf\u6b21\u589e\u957f\u4e24\u4e2a\uff0c\u6700\u540e\u4e24\u4e2a\u6307\u9488\u6307\u5411\u8282\u70b9\u7684\u503c\u76f8\u7b49\uff0c\u5219\u8bf4\u660e\u6709\u73af\u3002\u5c31\u597d\u50cf\u4e00\u4e2a\u73af\u5f62\u8dd1\u9053\u4e0a\u6709\u4e00\u5feb\u4e00\u6162\u4e24\u4e2a\u8fd0\u52a8\u5458\u8d5b\u8dd1\uff0c\u5982\u679c\u65f6\u95f4\u8db3\u591f\u957f\uff0c\u8dd1\u5730\u5feb\u7684\u8fd0\u52a8\u5458\u4e00\u5b9a\u4f1a\u8d76\u4e0a\u6162\u7684\u8fd0\u52a8\u5458\u3002 \u89e3\u9898\u4ee3\u7801\u5982\u4e0b\uff1a /** * Definition for singly-linked list. * function ListNode(val) { * this.val = val; * this.next = null; * } */ /** * @param {ListNode} head * @return {boolean} */ var hasCycle = function ( head ) { if ( head === null || head . next === null ) { return false ; } let slow = head ; let fast = head . next ; while ( slow !== fast ) { if ( fast === null || fast . next === null ) { return false } slow = slow . next fast = fast . next . next } return true }; \u518d\u6bd4\u5982 LeetCode 26 \u5220\u9664\u6392\u5e8f\u6570\u7ec4\u4e2d\u7684\u91cd\u590d\u9879 \uff0c\u8fd9\u91cc\u8fd8\u662f\u5b9a\u4e49\u5feb\u6162\u4e24\u4e2a\u6307\u9488\u3002\u5feb\u6307\u9488\u6bcf\u6b21\u589e\u957f\u4e00\u4e2a\uff0c\u6162\u6307\u9488\u53ea\u6709\u5f53\u5feb\u6162\u6307\u9488\u4e0a\u7684\u503c\u4e0d\u540c\u65f6\uff0c\u624d\u589e\u957f\u4e00\u4e2a\uff08\u7531\u4e8e\u662f\u6709\u5e8f\u6570\u7ec4\uff0c\u5feb\u6162\u6307\u9488\u503c\u4e0d\u7b49\u8bf4\u660e\u627e\u5230\u4e86\u65b0\u503c\uff09\u3002 \u771f\u5b9e\u4ee3\u7801\uff1a var removeDuplicates = function ( nums ) { if ( nums . length === 0 ) { return 0 ; } let slow = 0 ; for ( let fast = 0 ; fast < nums . length ; fast ++ ) { if ( nums [ fast ] !== nums [ slow ]) { slow ++ ; nums [ slow ] = nums [ fast ]; } } // Michael\uff1a\u8fd9\u91cc\u7684\u7b97\u6cd5\u4e0d\u5b8c\u5584\uff0c\u73b0\u5728\u53ea\u83b7\u53d6\u4e86\u8fd4\u56de\u7684\u4e0d\u91cd\u590d\u5143\u7d20\u7684\u4e2a\u6570\uff0c\u90a3\u4e48\u539f\u6765\u7684\u6570\u7ec4\u540e\u9762\u7684\u5143\u7d20\u5e94\u8be5\u5220\u9664[1,1,1,1,2,3] \u53d8\u6210 [1,2,3,1,2,3] \u540e\u9762\u7684\u9700\u8981\u76f4\u63a5\u53bb\u6389\uff0c\u8fd9\u6837\u624d\u80fd\u6ee1\u8db3\u8981\u6c42\u3002\u8fd9\u4e2a\u601d\u8def\u6bd4\u5faa\u73af\u4e00\u6b21spliec\u66f4\u597d return slow + 1 ; };","title":"\u5feb\u6162\u6307\u9488"},{"location":"algre/double-pointer/#_5","text":"\u5f53\u9047\u5230\u6709\u5e8f\u6570\u7ec4\u65f6\uff0c\u5e94\u8be5\u4f18\u5148\u60f3\u5230 \u53cc\u6307\u9488 \u6765\u89e3\u51b3\u95ee\u9898\uff0c\u56e0\u4e24\u4e2a\u6307\u9488\u7684\u540c\u65f6\u904d\u5386\uff0c\u4f1a\u51cf\u5c11\u7a7a\u95f4\u590d\u6742\u5ea6\u548c\u65f6\u95f4\u590d\u6742\u5ea6\u3002","title":"\u603b\u7ed3"},{"location":"algre/double-pointer/#go","text":"\u53cc\u6307\u9488\u4e3b\u8981\u7528\u4e8e\u904d\u5386\u6570\u7ec4\uff0c\u4e24\u4e2a\u6307\u9488\u6307\u5411\u4e0d\u540c\u7684\u5143\u7d20\uff0c\u4ece\u800c\u534f\u540c\u5b8c\u6210\u4efb\u52a1\u3002\u53cc\u6307\u9488\u53ef\u4ee5\u4ece\u4e0d\u540c\u7684\u65b9\u5411\u5411\u4e2d\u95f4\u903c\u8fd1\u4e5f\u53ef\u4ee5\u671d\u7740\u540c\u4e00\u4e2a\u65b9\u5411\u904d\u5386\u3002 \u5728LeedCode\u4e2d\u6709\u5f88\u591a\u9898\u76ee\u53ef\u4ee5\u901a\u8fc7\u53cc\u6307\u9488\u7684\u601d\u60f3\u6765\u89e3\u7b54\u3002\u5176\u4e2d\u5305\u62ec\uff1a","title":"Go\u4f8b\u5b50"},{"location":"algre/double-pointer/#1-two-sum","text":"Leetcode \uff1a167. Two Sum II - Input array is sorted (Easy) Input: numbers={2, 7, 11, 15}, target=9 Output: index1=1, index2=2 \u9898\u76ee\u63cf\u8ff0\uff1a\u5728\u6709\u5e8f\u6570\u7ec4\u4e2d\u627e\u51fa\u4e24\u4e2a\u6570\uff0c\u4f7f\u5b83\u4eec\u7684\u548c\u4e3a target\u3002 \u4f7f\u7528\u53cc\u6307\u9488\uff0c\u4e00\u4e2a\u6307\u9488\u6307\u5411\u503c\u8f83\u5c0f\u7684\u5143\u7d20\uff0c\u4e00\u4e2a\u6307\u9488\u6307\u5411\u503c\u8f83\u5927\u7684\u5143\u7d20\u3002 \u6307\u5411\u8f83\u5c0f\u5143\u7d20\u7684\u6307\u9488\u4ece\u5934\u5411\u5c3e\u904d\u5386\uff0c\u6307\u5411\u8f83\u5927\u5143\u7d20\u7684\u6307\u9488\u4ece\u5c3e\u5411\u5934\u904d\u5386\u3002 \u5982\u679c\u4e24\u4e2a\u6307\u9488\u6307\u5411\u5143\u7d20\u7684\u548c sum == target\uff0c\u90a3\u4e48\u5f97\u5230\u8981\u6c42\u7684\u7ed3\u679c\uff1b \u5982\u679c sum > target\uff0c\u79fb\u52a8\u8f83\u5927\u7684\u5143\u7d20\uff0c\u4f7f sum \u53d8\u5c0f\u4e00\u4e9b\uff1b \u5982\u679c sum < target\uff0c\u79fb\u52a8\u8f83\u5c0f\u7684\u5143\u7d20\uff0c\u4f7f sum \u53d8\u5927\u4e00\u4e9b\u3002 func twoSum ( numbers [] int , target int ) [] int { for i , j := 0 , len ( numbers ) - 1 ; i < j ;{ if numbers [ i ] + numbers [ j ] == target { return [] int { i + 1 , j + 1 } } if numbers [ i ] + numbers [ j ] < target { i ++ continue } if numbers [ i ] + numbers [ j ] > target { j -- continue } } return [] int {} }","title":"1\u3001\u6709\u5e8f\u6570\u7ec4\u7684 Two Sum"},{"location":"algre/double-pointer/#2","text":"633. Sum of Square Numbers (Easy) Input: 5 Output: True Explanation: 1 * 1 + 2 * 2 = 5 \u9898\u76ee\u63cf\u8ff0\uff1a\u5224\u65ad\u4e00\u4e2a\u6570\u662f\u5426\u4e3a\u4e24\u4e2a\u6570\u7684\u5e73\u65b9\u548c\u3002 /*\u8bbe\u7f6e\u4e24\u4e2a\u6307\u9488\uff0c\u4e00\u4e2a\u4ece\u524d\uff080\uff09\u5f00\u59cb\u904d\u5386\uff0c\u4e00\u4e2a\u4ece\u540e\uff08sqrt(n)\uff09\u5f00\u59cb\u904d\u5386\uff0c\u76f4\u5230\u627e\u5230\u5408\u9002\u7684\u89e3 */ func judgeSquareSum ( c int ) bool { for i , j := 0 , int ( math . Sqrt ( float64 ( c ))); i <= j ;{ if i * i + j * j == c { return true } if i * i + j * j < c { i ++ continue } if i * i + j * j > c { j -- continue } } return false }","title":"2\u3001\u4e24\u6570\u5e73\u65b9\u548c"},{"location":"algre/double-pointer/#3","text":"345. Reverse Vowels of a String (Easy) Given s = \"leetcode\" , return \"leotcede\" . /*\u4f7f\u7528\u53cc\u6307\u9488\u6307\u5411\u5f85\u53cd\u8f6c\u7684\u4e24\u4e2a\u5143\u97f3\u5b57\u7b26\uff0c\u4e00\u4e2a\u6307\u9488\u4ece\u5934\u5411\u5c3e\u904d\u5386\uff0c\u4e00\u4e2a\u6307\u9488\u4ece\u5c3e\u5230\u5934\u904d\u5386\uff0c\u53d1\u73b0\u4e24\u4e2a\u5143\u97f3\u540e\u4ea4\u6362*/ func reverseVowels ( s string ) string { bs := [] byte ( s ) for i , j := 0 , len ( bs ) - 1 ; i < j ;{ if ! isVowel ( bs [ i ]){ i ++ continue } if ! isVowel ( bs [ j ]){ j -- continue } temp := bs [ i ] bs [ i ]= bs [ j ] bs [ j ]= temp i ++ j -- } return string ( bs ) } func isVowel ( b byte ) bool { return b == 'a' || b == 'e' || b == 'i' || b == 'o' || b == 'u' || b == 'A' || b == 'E' || b == 'I' || b == 'O' || b == 'U' }","title":"3\u3001\u53cd\u8f6c\u5b57\u7b26\u4e32\u4e2d\u7684\u5143\u97f3\u5b57\u7b26"},{"location":"algre/double-pointer/#4","text":"680. Valid Palindrome II (Easy) Input : \"abca\" Output : True Explanation : You could delete the character 'c' . \u9898\u76ee\u63cf\u8ff0\uff1a\u53ef\u4ee5\u5220\u9664\u4e00\u4e2a\u5b57\u7b26\uff0c\u5224\u65ad\u662f\u5426\u80fd\u6784\u6210\u56de\u6587\u5b57\u7b26\u4e32\u3002 /*\u4e24\u4e2a\u6307\u9488\uff0c\u4e00\u4e2a\u4ece\u524d\u4e00\u4e2a\u5f80\u540e\uff0c\u4e00\u81f4\u7ee7\u7eed\u5f80\u524d\uff0c\u4e0d\u4e00\u81f4\u5219\u5206\u522b\u770b\u8fc7\u6ee4\u54ea\u4e00\u8fb9\u53ef\u4ee5\u7ee7\u7eed*/ func validPalindrome ( s string ) bool { bs := [] byte ( s ) for i , j := 0 , len ( bs ) - 1 ; i < j ;{ if bs [ i ] != bs [ j ] { //\u53d1\u73b0\u4e0d\u4e00\u81f4\uff0c\u5206\u522b\u770b\u53bb\u6389\u5de6\u8fb9\u8fd8\u662f\u53bb\u6389\u53f3\u8fb9\u4efb\u610f\u4e00\u4e2a\u53ef\u4ee5\u5c31\u901a\u8fc7 return ispalindrome ( bs , i + 1 , j ) || ispalindrome ( bs , i , j - 1 ) } i ++ j -- } return true } func ispalindrome ( bs [] byte , left , right int ) bool { for ; left < right ;{ if bs [ left ] != bs [ right ]{ return false } left ++ right -- } return true }","title":"4\u3001\u56de\u6587\u5b57\u7b26\u4e32"},{"location":"algre/double-pointer/#5","text":"88. Merge Sorted Array (Easy) Input: nums1 = [1,2,3,0,0,0], m = 3 nums2 = [2,5,6], n = 3 Output: [1,2,2,3,5,6] \u9898\u76ee\u63cf\u8ff0\uff1a\u628a\u5f52\u5e76\u7ed3\u679c\u5b58\u5230\u7b2c\u4e00\u4e2a\u6570\u7ec4\u4e0a\u3002 /*\u4ece\u5c3e\u5f00\u59cb\u904d\u5386,\u9010\u4e2a\u6bd4\u8f83\u6dfb\u52a0\u5230nums1\u4e0a*/ func merge ( nums1 [] int , m int , nums2 [] int , n int ) { index := m + n - 1 for index1 , index2 := m - 1 , n - 1 ; index1 >= 0 || index2 >= 0 ; index -- { if index1 < 0 { nums1 [ index ] = nums2 [ index2 ] index2 -- } else if index2 < 0 { nums1 [ index ] = nums1 [ index1 ] index1 -- } else if nums1 [ index1 ] <= nums2 [ index2 ] { nums1 [ index ] = nums2 [ index2 ] index2 -- } else if nums1 [ index1 ] > nums2 [ index2 ]{ nums1 [ index ] = nums1 [ index1 ] index1 -- } } }","title":"5\u3001\u5f52\u5e76\u4e24\u4e2a\u6709\u5e8f\u6570\u7ec4"},{"location":"algre/double-pointer/#6","text":"141. Linked List Cycle (Easy) /** * Definition for singly-linked list. * struct ListNode { * int val; * ListNode *next; * ListNode(int x) : val(x), next(NULL) {} * }; */ /*\u4f7f\u7528\u53cc\u6307\u9488\uff0c\u4e00\u4e2a\u6307\u9488\u6bcf\u6b21\u79fb\u52a8\u4e00\u4e2a\u8282\u70b9\uff0c\u4e00\u4e2a\u6307\u9488\u6bcf\u6b21\u79fb\u52a8\u4e24\u4e2a\u8282\u70b9\uff0c\u5982\u679c\u5b58\u5728\u73af\uff0c\u90a3\u4e48\u8fd9\u4e24\u4e2a\u6307\u9488\u4e00\u5b9a\u4f1a\u76f8\u9047\u3002*/ class Solution { public : bool hasCycle ( ListNode * head ) { if ( head == NULL || head -> next == NULL ){ return false ; } ListNode * l1 = head ; ListNode * l2 = head -> next ; while ( l2 != NULL && l2 -> next != NULL ){ if ( l1 == l2 ){ return true ; } else { l1 = l1 -> next ; l2 = l2 -> next -> next ; } } return false ; } };","title":"6\u3001\u5224\u65ad\u94fe\u8868\u662f\u5426\u5b58\u5728\u73af"},{"location":"algre/double-pointer/#7","text":"524. Longest Word in Dictionary through Deleting (Medium) Input: s = \"abpcplea\" , d = [ \"ale\" , \"apple\" , \"monkey\" , \"plea\" ] Output: \"apple\" \u9898\u76ee\u63cf\u8ff0\uff1a\u5220\u9664 s \u4e2d\u7684\u4e00\u4e9b\u5b57\u7b26\uff0c\u4f7f\u5f97\u5b83\u6784\u6210\u5b57\u7b26\u4e32\u5217\u8868 d \u4e2d\u7684\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u627e\u51fa\u80fd\u6784\u6210\u7684\u6700\u957f\u5b57\u7b26\u4e32\u3002\u5982\u679c\u6709\u591a\u4e2a\u76f8\u540c\u957f\u5ea6\u7684\u7ed3\u679c\uff0c\u8fd4\u56de\u5b57\u5178\u5e8f\u7684\u6700\u5927\u5b57\u7b26\u4e32\u3002 /*\u4e24\u4e2a\u6307\u9488\u4ece\u5934\u5f00\u59cb\u67e5\u770b\u662f\u5426\u80fd\u543b\u5408\uff0c\u5982\u679c\u67e5\u5230d\u4e2d\u5b57\u4e32\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u4e5f\u543b\u5408\u4ee3\u8868\u80fd\u591f\u5b8c\u5168match\uff0c\u518d\u5904\u7406\u540c\u957f\u5ea6\u7684\u95ee\u9898*/ func findLongestWord ( s string , d [] string ) string { result := \"\" for _ , v := range d { if len ( result ) > len ( v ) || len ( result ) == len ( v ) && result <= v { continue } if isValid ( s , v ) { result = v } } return result } func isValid ( s string , v string ) bool { //\u770b\u662f\u4e0d\u662f\u80fdmatch\u4e0a bs := [] byte ( s ) bv := [] byte ( v ) i , j := 0 , 0 for i < len ( bs ) && j < len ( bv ){ if bs [ i ] == bv [ j ]{ j ++ } i ++ } if j == len ( bv ) { //\u6700\u540e\u4e00\u4e2a\u4e5f\u7b26\u5408\u3002 return true } return false }","title":"7\u3001\u6700\u957f\u5b50\u5e8f\u5217"},{"location":"algre/double-pointer/#c","text":"\u6b64\u7c7b\u95ee\u9898\u4e00\u822c\u6d89\u53ca\u51e0\u79cd\u60c5\u5f62\uff1a in place \u7684\u66f4\u65b0\u6570\u7ec4\uff0c\u9700\u8981\u4e00\u4e2aindex\u8bb0\u5f55\u66f4\u65b0\u4e4b\u540e\u7684\u6570\u7ec4\uff0c\u53e6\u4e00\u4e2aindex\u8dd1\u904d\u539f\u6765\u7684\u6570\u7ec4\uff1b \u8fd8\u6709\u5c31\u662f\u627e\u5230\u6570\u7ec4\u91cc\u9762\u7684N\u4e2a\u6570\u4f7f\u5f97\u8fd9\u51e0\u4e2a\u6570\u6ee1\u8db3\u4e00\u5b9a\u7684\u6761\u4ef6\uff08\u5982\u51e0\u4e2a\u6570\u4e4b\u548c\u5fc5\u987b\u4e3a\u67d0\u4e00\u4e2a\u7279\u5b9a\u7684\u6570\uff09\uff1b\u8fd8\u6709\u5c31\u662f\u4e00\u7c7b\u7279\u6b8a\u7684\u95ee\u9898\u96e8\u6c34\u50a8\u5b58\u95ee\u9898\u3002 \u8fd9\u91cc\u6709\u51e0\u4e2a\u5173\u952e\u95ee\u9898\u9700\u8981\u7406\u89e3: \u9996\u5148\u6570\u7ec4\u662f\u5426\u6392\u5e8f\uff0c\u6839\u636e\u4fe1\u606f\u8bba\u7684\u770b\u6cd5\u6216\u8005\u80fd\u91cf\u5b88\u6052\u7684\u539f\u7406\uff0c\u6570\u7ec4\u662f\u5426\u6392\u5e8f\u4e0e\u5892\u6709\u5173\uff0c\u5892\u7684\u672c\u8d28\u5c31\u662f\u63cf\u8ff0\u4e8b\u7269\u6709\u5e8f\u7a0b\u5ea6\u7684\u5ea6\u91cf\uff0c\u6362\u53e5\u8bdd\u8bf4\u4e8b\u7269\u8d8a\u6709\u5e8f\u5892\u7684\u503c\u8d8a\u4f4e\uff0c\u5e76\u4e14\u672c\u8d28\u662f\u5892\u4f1a\u81ea\u7136\u7684\u4f1a\u589e\u5927\u5728\u65e0\u5916\u529b\u5e72\u6270\u7684\u72b6\u51b5\u4e0b\uff0c\u4e5f\u5c31\u662f\u4e8b\u7269\u603b\u662f\u5411\u7740\u65e0\u5e8f\u53d1\u5c55\u7684\u3002\u800c\u600e\u6837\u8ba9\u4e8b\u7269\u53d8\u7684\u6709\u5e8f\u5462\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u5916\u529b\u80fd\u91cf\u7684\u8f93\u5165\u6765\u4f7f\u5f97\u5892\u53d8\u5c0f\u6216\u8005\u53d8\u7684\u6709\u5e8f\u3002\u90a3\u4e48\u5728\u6570\u7ec4\u662f\u5426\u6709\u5e8f\u7684\u95ee\u9898\u4e0a\uff0c\u6211\u4eec\u5e0c\u671b\u5b83\u662f\u6709\u5e8f\u7684\uff0c\u5982\u679c\u4e0d\u662f\u90a3\u4e48\u5c31\u9700\u8981\u82b1\u8d39\u201c\u80fd\u91cf\u201d\u8ba9\u4ed6\u7684\u5892\u53d8\u5c0f\uff0c\u8fd9\u6837\u590d\u6742\u5ea6O(nlogn)\u5c31\u4e0a\u53bb\u4e86\uff0c\u8fd9\u91cc\u590d\u6742\u5ea6\u53ef\u4ee5\u770b\u4f5c\u4e3a\u5916\u4f5c\u7528\u529b\u7684\u4f53\u73b0\u3002 \u5176\u6b21\u53cc\u6307\u9488\u95ee\u9898\u7684\u672c\u8d28\u5176\u5b9e\u662f\u7531\u4e8e\u6709\u4e24\u4e2a\u6216\u8005\u591a\u4e2a\u5143\u7d20\u6709\u76f8\u4e92\u4f5c\u7528\u6216\u8005\u76f8\u5173\u8054\uff0c\u56e0\u6b64\u5728\u6539\u53d8\u5176\u4e2d\u4e00\u4e2a\u5143\u7d20\u7684\u540c\u65f6\u5176\u4ed6\u51e0\u4e2a\u5143\u7d20\u4e5f\u9700\u8981\u8ddf\u7740\u6539\u53d8\uff0c\u56e0\u6b64\u53cc\u6307\u9488\u95ee\u9898\u4e00\u822c\u662f\u5728\u6ee1\u8db3\u51e0\u4e2a\u5143\u7d20\u5173\u7cfb\u4e0d\u53d8\u7684\u60c5\u51b5\u4e4b\u4e0b\uff0c\u6539\u53d8\u4e00\u4e2a\u5143\u7d20\u7684\u540c\u65f6\uff0c\u5bfb\u627e\u5176\u4ed6\u51e0\u4e2a\u5143\u7d20\u6ee1\u8db3\u73b0\u6709\u7684\u5173\u7cfb\u60c5\u51b5\u3002","title":"C++\u4f8b\u5b50"},{"location":"algre/double-pointer/#_6","text":"\u4f8b\u9898\uff1a Remove Element \u5206\u6790\uff1a \u8fd9\u9053\u9898\u6709\u51e0\u4e2a\u5173\u952e\u5b57\u9700\u8981\u6ce8\u610f: in place , the order of elements can be changed .\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u7528two pointers\uff0c\u4e00\u4e2a\u8bb0\u5f55remove\u8fc7\u540e\u7684\u6570\u7ec4\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u4f4d\u7f6e\uff0c\u4e00\u4e2a\u7528\u6765\u904d\u5386\u6574\u4e2a\u6570\u7ec4\uff0c\u5224\u65ad\u6761\u4ef6\u5c31\u662f\u6bd4\u8f83\u8be5\u5143\u7d20\u548ctarget\u7684\u503c\uff0c\u5982\u679c\u4e0d\u76f8\u7b49\u5c31\u628a\u5b83copy\u7ed9\u53e6\u4e00\u4e2apointer.\u56e0\u4e3a\u9898\u76ee\u53ea\u9700\u8981\u6c42\u6700\u540e\u7684\u6570\u7ec4\u957f\u5ea6\uff0c\u6240\u4ee5\u8fd4\u56de\u6700\u540e\u8bb0\u5f55\u4f4d\u7f6e\u5c31\u53ef\u4ee5\u4e86\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n)\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int removeElement ( int A [], int n , int elem ) { if ( A == nullptr || n == 0 ) return 0 ; int index = 0 ; for ( int i = 0 ; i < n ; ++ i ){ if ( A [ i ] != elem ){ A [ index ++ ] = A [ i ]; } } return index ; } }; \u63a5\u4e0b\u6765\u6211\u4eec\u770b\u4e00\u770b\u8fd9\u9053\u9898\u7684\u4e00\u4e2a\u53d8\u5f62\uff1a \u4f8b\u9898\uff1a Remove Duplicates from Sorted Array \u5206\u6790\uff1a\u8fd9\u9053\u9898\u51e0\u4e4e\u548c\u4e0a\u4e00\u9898\u4e00\u6837\uff0c\u8fd9\u91cc\u6ce8\u610f\u6570\u7ec4\u662f\u6392\u5e8f\u7684\uff0c \u5173\u952e\u8bcd\uff1a in place with constant memory . \u6709\u4e00\u4e2a\u5730\u65b9\u503c\u5f97\u6ce8\u610f\u7b2c\u4e8c\u4e2apointer\u7684\u8d77\u59cb\u70b9\u5e94\u8be5\u4ece\u7b2c\u4e8c\u4e2a\u5143\u7d20\u5f00\u59cb\uff0c\u56e0\u4e3a\u5b9e\u9645\u4e0a\u7b2c\u4e8c\u4e2a\u6307\u9488\u662f\u7528\u6765\u6bd4\u8f83\u548c\u524d\u4e00\u4e2a\u5143\u7d20\u7684\u503c\uff0c\u5982\u679c\u76f8\u7b49\u5c31skip. \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int removeDuplicates ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; int index = 0 ; for ( int i = 1 ; i < n ; ++ i ){ if ( A [ index ] != A [ i ]){ A [ ++ index ] = A [ i ]; } } return index + 1 ; } }; \u4e0b\u9762\u589e\u52a0\u4e86\u4e00\u70b9\u96be\u5ea6\uff0c\u5982\u679c\u540c\u4e00\u4e2a\u5143\u7d20\u5141\u8bb8\u51fa\u73b0\u4e24\u6b21\u3002 \u4f8b\u9898\uff1a \uff3bRemove Duplicates from Sorted Array II]( https://oj.leetcode.com/problems/remove-duplicates-from-sorted-array-ii/ ) \u5206\u6790\uff1a \u9996\u5148\u60f3\u5230\u7684\u662fhashtable\u50a8\u5b58\u6bcf\u4e2a\u5143\u7d20\u7684\u4e2a\u6570\uff0c\u4ed4\u7ec6\u89c2\u5bdf\u9898\u76ee\u53ef\u4ee5\u53d1\u73b0\u5176\u5b9e\u4e0d\u9700\u8981hashtable\uff0c\u56e0\u4e3a\u6570\u7ec4\u662f\u6392\u5e8f\u7684\uff0c\u91cd\u590d\u7684\u5143\u7d20\u5e94\u8be5\u4f1a\u8fde\u5728\u4e00\u8d77\uff0c\u8fd9\u6837\u904d\u5386\u7684\u65f6\u5019\u591a\u52a0\u4e00\u4e2a\u5224\u65ad\u5c31\u53ef\u4ee5\u89e3\u51b3\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n),\u7a7a\u95f4\u590d\u6742\u5ea6O(1). \u5148\u770b\u4e00\u4e2a\u89e3\u6cd5\u5efa\u7acb\u5728\u4e0a\u4e00\u9898\u7684\u57fa\u7840\u4e0a\uff0c\u5176\u4e2d\u5224\u65ad\u4e86\u524d\u540e\u5143\u7d20\u662f\u5426\u76f8\u7b49\uff0c\u8fd9\u6837\u4fdd\u8bc1\u6700\u591a\u53ea\u6709\u4e24\u4e2a\u76f8\u540c\u7684\u5143\u7d20\uff1a class Solution { public : int removeDuplicates ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; int index = 0 ; for ( int i = 1 ; i < n ; ++ i ){ if ( A [ index ] == A [ i ] && ( index == 0 || A [ index -1 ] != A [ index ])) A [ ++ index ] = A [ i ]; if ( A [ index ] != A [ i ]) A [ ++ index ] = A [ i ]; } return index + 1 ; } }; \u5176\u5b9e\u53ef\u4ee5\u7a0d\u52a0\u6539\u53d8\uff0c\u4f7f\u5f97\u89e3\u6cd5\u66f4\u6709\u53ef\u6269\u5c55\u6027\uff0c\u5904\u7406N\u4e2a\u91cd\u590d\u7684\u5143\u7d20\u7684\u60c5\u5f62\uff1a class Solution { public : int removeDuplicates ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; if ( n <= 2 ) return n ; int index = 2 ; for ( int i = 2 ; i < n ; ++ i ){ if ( A [ i ] != A [ index - 2 ]) A [ index ++ ] = A [ i ]; } return index ; } }; \u8fd9\u91cc\u76f4\u63a5\u4ece\u7b2c\u4e09\u4e2a\u5143\u7d20\u5f00\u59cb\u6bd4\u8f83\uff0c\u5982\u679c\u662f\u5141\u8bb8N\u4e2a\u91cd\u590d\u5143\u7d20\uff0c2\u53ef\u4ee5\u6539\u4e3aN,\u4ee3\u7801\u6bd4\u4e0a\u4e2a\u89e3\u6cd5\u7b80\u6d01\u4e5f\u66f4\u5177\u6709\u53ef\u62d3\u5c55\u6027\u3002 \u524d\u9762\u51e0\u9053\u9898\u90fd\u662f\u5220\u9664\u5143\u7d20\uff0c\u8fd8\u6709\u4e00\u7c7b\u95ee\u9898\u5c31\u662f\u6392\u5e8f\u95ee\u9898\u6709\u65f6\u5019\u4e5f\u53ef\u4ee5\u7528Two Pointers\u7684\u89e3\u6cd5. \u4f8b\u9898: [Sort Colors] ( https://oj.leetcode.com/problems/sort-colors/ ) \u5206\u6790\uff1a\u8fd9\u91cc\u6709\u4e09\u4e2a\u6307\u9488\uff0c\u4f46\u662f\u5b9e\u9645\u662f\u4e24\u4e2a\u5728\u64cd\u4f5c\uff0c\u4e00\u4e2a\u5b58red\u7684index\uff0c\u4e00\u4e2a\u5b58blue\u7684index, \u7136\u540e\u4e24\u8fb9\u5f80\u4e2d\u95f4\u8d70\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : void sortColors ( int A [], int n ) { int j = 0 , k = n -1 ; int i = 0 ; while ( i < k + 1 ){ if ( A [ i ] == 0 ){ int t = A [ j ]; A [ j ] = A [ i ]; A [ i ] = t ; j ++ ; i ++ ; } else if ( A [ i ] == 2 ){ int t = A [ k ]; A [ k ] = A [ i ]; A [ i ] = t ; k -- ; } else { i ++ ; } } } }; \u6b64\u5916\u8fd9\u9053\u9898\u8fd8\u6709\u4e2a\u975e\u5e38\u5de7\u5999\u7684\u89e3\u6cd5\uff0c\u5229\u7528\u5230\u4e86partition\u4e2d\u7684\u539f\u7406\uff1a class Solution { public : void sortColors ( int A [], int n ) { int j = 0 ; int k = 0 ; int i = 0 ; for ( int m = 0 ; m < n ; ++ m ){ if ( A [ m ] == 2 ){ A [ k ++ ] = 2 ; } else if ( A [ m ] == 1 ){ A [ k ++ ] = 2 ; A [ j ++ ] = 1 ; } else if ( A [ m ] == 0 ){ A [ k ++ ] = 2 ; A [ j ++ ] = 1 ; A [ i ++ ] = 0 ; } } } };","title":"\u5b9e\u65f6\u66f4\u65b0\u6570\u7ec4"},{"location":"algre/double-pointer/#_7","text":"\u6b64\u7c7b\u95ee\u9898\u8868\u9762\u4e0a\u770b\u8ddf\u53cc\u6307\u9488\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\uff0c\u4f46\u662f\u7ecf\u8fc7\u4ed4\u7ec6\u5206\u6790\uff0c\u4f1a\u53d1\u73b0\u6709\u5f88\u591a\u5171\u540c\u4e4b\u5904\u3002 \u4f8b\u9898\uff1a Container with Most water \u5206\u6790\uff1a\u8fd9\u9053\u9898\u53ef\u4ee5\u5148\u627e\u51e0\u4e2a\u6570\u6a21\u62df\u4e00\u4e0b\uff0c\u4f1a\u53d1\u73b0\u5982\u679c\u60f3\u8ba9\u5bb9\u5668\u50a8\u5b58\u7684\u6c34\u591a\uff0c\u9700\u8981\u5de6\u53f3\u4e24\u4e2a\u6570\u8ddd\u79bb\u8d8a\u8fdc\u8d8a\u597d\uff0c\u5e76\u4e14\u4e24\u4e2a\u6570\u4e2d\u8f83\u5c0f\u7684\u6570\u503c\u8d8a\u5927\u8d8a\u597d\u3002\u9996\u5148\u8003\u8651\u66b4\u529b\u89e3\u6cd5\uff0c\u56fa\u5b9a\u4e00\u8fb9\uff0c\u7136\u540e\u627e\u53e6\u4e00\u8fb9\u8d8a\u5927\u8d8a\u597d\uff0c\u5bf9\u6bcf\u4e00\u4e2a\u6570\u90fd\u67e5\u627e\u4e00\u4e0b\uff0c\u5c31\u9700\u8981O(n^2).\u4ed4\u7ec6\u7814\u7a76\u53d1\u73b0\uff0c\u8fd9\u9053\u9898\u662f\u53ef\u4ee5\u7528\u53cc\u6307\u9488\u7684\uff0c\u56e0\u4e3a\u6700\u540e\u7684\u7ed3\u679c\u88ab\u51b3\u5b9a\u4e8e\u5de6\u53f3\u4e24\u4e2a\u6570\uff0c\u90a3\u4e48\u600e\u4e48\u8fdb\u884c\u904d\u5386\u5462\uff0c\u5982\u679c\u56fa\u5b9a\u4e00\u8fb9\uff0c\u6c38\u8fdc\u5e0c\u671b\u627e\u6bd4\u8fd9\u4e00\u8fb9\u5927\u7684\u6570\uff0c\u56e0\u6b64\u5982\u679c\u6bd4\u8fd9\u4e00\u8fb9\u5c0f\u53ef\u4ee5skip\u6389\u3002\u4e8e\u662fleft \u548cright\u4e24\u8fb9\u5de6\u53f3\u5939\u903c\uff0c\u9047\u5230\u8f83\u5c0f\u7684\u6570\u5c31skip\u6389\u76f4\u5230\u91cd\u5408\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int maxArea ( vector < int > & height ) { if ( height . size () == 0 ) return 0 ; int i = 0 ; int j = height . size () -1 ; int maxA = INT_MIN ; while ( i < j ){ int area = min ( height [ j ], height [ i ]) * ( j - i ); maxA = max ( maxA , area ); if ( height [ i ] < height [ j ]){ i ++ ; } else { j -- ; } } return maxA ; } }; \u518d\u6765\u770b\u4e00\u4e2a\u7c7b\u4f3c\u7684\u9898\u76ee\uff0c\u8fd9\u91cccontainer\u4e0d\u6b62\u4e00\u4e2a\u4e86\u3002 \u9898\u76ee\uff1a Trapping Rain Water \u5206\u6790\uff1a\u8fd9\u91cc\u4e5f\u662f\u7c7b\u4f3c\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u67f1\u5b50\u9700\u8981\u5206\u522b\u5bfb\u627e\u5b83\u7684\u5de6\u8fb9\u548c\u53f3\u8fb9\u6700\u9ad8\u7684\u67f1\u5b50\uff0c\u8fd9\u6837\u8be5\u67f1\u5b50\u80fd\u5bb9\u7eb3\u7684\u9762\u79ef\u5c31\u662fmin(max_left, max_right) - height.\u56e0\u6b64\u89e3\u6cd5\u81ea\u7136\u53d8\u6210\u4e86\u4ece\u5de6\u5f80\u53f3\u904d\u5386\uff0c\u627e\u5230\u6bcf\u4e2a\u67f1\u5b50\u5de6\u8fb9\u6700\u5927\u503c\uff0c\u7136\u540e\u4ece\u53f3\u5411\u5de6\u904d\u5386\u627e\u5230\u6bcf\u4e2a\u67f1\u5b50\u53f3\u8fb9\u6700\u5927\u503c\u3002\u6700\u540e\u4e00\u6b21\u904d\u5386\u8ba1\u7b97\u6bcf\u4e2a\u67f1\u5b50\u53ef\u4ee5\u5bb9\u7eb3\u7684\u9762\u79ef\u3002 \u590d\u6742\u5ea6\uff1a\u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(n). class Solution { public : int trap ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; vector < int > right_height ( n ); vector < int > left_height ( n ); int height = 0 , total = 0 ; for ( int i = 0 ; i < n ; ++ i ){ if ( A [ i ] > height ) height = A [ i ]; right_height [ i ] = height ; } height = 0 ; for ( int i = n -1 ; i >= 0 ; -- i ){ if ( A [ i ] > height ) height = A [ i ]; left_height [ i ] = height ; } for ( int i = 0 ; i < n ; ++ i ){ total += min ( right_height [ i ], left_height [ i ]) - A [ i ]; } return total ; } }; \u8fd9\u9053\u9898\u8fd8\u6709\u4e00\u4e2a\u5206\u800c\u6cbb\u4e4b\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5148\u904d\u5386\u4e00\u8fb9\u6570\u7ec4\u627e\u5230\u6700\u5927\u503c\uff0c\u7136\u540e\u5728\u6700\u9ad8\u67f1\u5b50\u7684\u5de6\u8fb9\u548c\u53f3\u8fb9\u5206\u522b\u904d\u5386\u5c31\u53ef\u4ee5\u8ba1\u7b97\u51fa\u6700\u540e\u7684\u7ed3\u679c\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int trap ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; int result = 0 ; int max = -1 , index = 0 ; for ( int i = 0 ; i < n ; ++ i ){ if ( A [ i ] > max ){ max = A [ i ]; index = i ; } } int left = -1 ; for ( int i = 0 ; i < index ; ++ i ){ if ( A [ i ] > left ) left = A [ i ]; else result += left - A [ i ]; } int right = -1 ; for ( int i = n -1 ; i > index ; -- i ){ if ( A [ i ] > right ) right = A [ i ]; else result += right - A [ i ]; } return result ; } };","title":"\u96e8\u6c34\u95ee\u9898"},{"location":"algre/double-pointer/#_8","text":"\u4e0b\u9762\u6211\u4eec\u5f00\u59cb\u5206\u6790\u4e00\u4e0b\u4e00\u7cfb\u5217\u5173\u4e8e\u5143\u7d20\u6c42\u548c\u7684\u95ee\u9898\uff0c\u8fd9\u4e00\u7cfb\u5217\u95ee\u9898\u7279\u5f81\u5982\u4e0b\uff0c\u5728\u4e00\u7ec4\u4efb\u610f\u6392\u5e8f\u6570\u7ec4\u4e2d\uff0c\u5bfb\u627eN\u4e2a\u6570\u4f7f\u5f97\u5b83\u4eec\u7684\uff08\u79ef\u548c\u5dee\u9664\uff09\u6ee1\u8db3\u67d0\u4e00\u4e2a\u6761\u4ef6\uff0c\u8fd9\u91cc\u53ef\u4ee5\u662f\u5b83\u4eec\u7ecf\u8fc7\u4e00\u7cfb\u5217\u8fd0\u7b97\u6ee1\u8db3\u67d0\u4e00\u4e2a\u503c\uff0c\u6216\u8005\u6c42\u4ed6\u4eec\u7684\u6700\u5927\u503c\u7b49\u7b49\u3002\u5904\u7406\u6b64\u7c7b\u95ee\u9898\u7684\u65f6\u5019\uff0c\u9996\u5148\u770b\u6570\u7ec4\u662f\u5426\u662f\u6709\u5e8f\u7684\uff0c\u6839\u636e\u4e4b\u524d\u7684\u7406\u8bba\u5982\u679c\u6570\u7ec4\u662f\u65e0\u5e8f\u7684\uff0c\u90a3\u4e48\u9700\u8981\u989d\u5916\u7684\u529b\u4f7f\u5176\u6709\u5e8f\uff0c\u4e00\u822c\u662f\u6392\u5e8f\u6216\u8005hashtable\u6765\u8bb0\u5f55\u6bcf\u4e2a\u5143\u7d20\uff0c\u590d\u6742\u5ea6\u4f1a\u4e0a\u5347\u3002\u7136\u540e\u5728\u6570\u7ec4\u6709\u5e8f\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u5de6\u53f3\u5939\u903c\uff0c\u627e\u5230\u6ee1\u8db3\u6761\u4ef6\u7684\u5143\u7d20\u3002 \u4f8b\u9898\uff1b Two Sum \u5206\u6790\uff1a \u4e00\u4e2a\u7ecf\u5178\u7684\u6c42\u548c\u95ee\u9898\uff0c\u9996\u5148\u770b\u6570\u7ec4\u662f\u5426\u6709\u5e8f\uff0c \u5f88\u9057\u61be\uff0c\u6ca1\u6709\uff01\u56e0\u6b64\u9700\u8981\u6392\u5e8f\uff0c\u4f46\u662f\u6ce8\u610f\u8fd9\u6837\u590d\u6742\u5ea6\u5c31\u53d8\u6210O(nlgn)\u4e86\uff0c\u6709\u6ca1\u6709\u66f4\u597d\u7684\u65b9\u6cd5\uff0chashtable!\u53ef\u4ee5\u4fdd\u6301\u590d\u6742\u5ea6\u5728O(n)\u53c8\u53ef\u4ee5\u8d77\u5230\u6392\u5e8f\u7684\u6548\u679c\u3002\u8fd9\u91cc\u6ce8\u610f\u5728\u5faa\u73af\u91cc\u9762\u7684\u5224\u65ad\u6761\u4ef6\uff0c\u9996\u5148\u770btarget - number[i]\u662f\u5426\u5728hashtable\u91cc\u9762\u5b58\u5728\uff0c\u5982\u679c\u5b58\u5728\u5c31\u8f93\u51fa\u7ed3\u679c\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u8bb0\u5f55\u5f53\u524d\u7684\u6570\u8fdb\u5165hashtable\u91cc\u9762\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n),\u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : vector < int > twoSum ( vector < int > & numbers , int target ) { vector < int > answer ( 2 , 0 ); unordered_map < int , int > record ; for ( int i = 0 ; i < numbers . size (); ++ i ){ int x = numbers [ i ]; if ( record . find ( target - x ) != record . end ()){ answer [ 1 ] = i + 1 ; answer [ 0 ] = record [ target - numbers [ i ]]; break ; } record [ numbers [ i ]] = i + 1 ; } return answer ; } }; \u4f8b\u9898\uff1a 3Sum Closest \u5206\u6790\uff1a\u8fd8\u662f\u9996\u5148\u770b\u662f\u5426\u6570\u7ec4\u662f\u6709\u5e8f\u7684\uff0c\u5982\u679c\u4e0d\u662f\u6709\u5e8f\u7684\u5c31\u5f97\u6392\u5e8f\uff0c\u8fd9\u9053\u9898\u6d89\u53ca\u5230\u4e09\u4e2a\u5143\u7d20\uff08\u4e09\u4f53\u95ee\u9898\uff09\uff0c\u539f\u5219\u4e0a\u4e09\u4f53\u95ee\u9898\u5305\u542b\u4e86\u4e00\u5207\u4e09\u4e2a\u5143\u7d20\u53ca\u4ee5\u4e0a\u7684\u95ee\u9898\uff0c\u5982\u679c\u8bf4\u4e24\u4f53\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u6280\u5de7\uff08\u5982hashtable)\u89e3\u51b3\u7684\u8bdd\uff0c\u4e09\u4f53\u95ee\u9898\u5c31\u662f\u590d\u6742\u5ea6\u63d0\u9ad8\u4e86\u4e00\u4e2a\u53f0\u9636\uff0c\u4e00\u4e9b\u666e\u9002\u4e8e\u4e24\u4f53\u7684\u6280\u5de7\u5728\u4e09\u4f53\u95ee\u9898\u8fd9\u91cc\u884c\u4e0d\u901a\u4e86\u3002\u56e0\u6b64\u5728\u8fd9\u91cc\u9996\u5148\u8981\u5bf9\u6570\u7ec4\u6392\u5e8f\uff0c \u6b64\u9898\u6d89\u53ca\u5230\u4e09\u4e2a\u5143\u7d20\uff0c\u9996\u5148\u5934\u5c3e\u5404\u653e\u4e00\u4e2a\u5143\u7d20\uff0c\u7136\u540e\u4e2d\u95f4\u4ece\u7b2c\u4e8c\u4e2a\u5143\u7d20\uff0c\u5de6\u53f3\u5939\u903c\uff0c\u6211\u4eec\u7528\u4e00\u4e2agap\u6765\u8ba1\u7b97target\u548c\u73b0\u5728\u6240\u6709\u503c\u7684\u548c\u4e4b\u5dee\uff0c\u7531\u4e8e\u5df2\u7ecf\u6392\u597d\u5e8f\uff0c\u53ea\u8981\u6bd4\u8f83target\u548c\u73b0\u5728sum\u7684\u503c\uff0c\u5982\u679ctarget\u503c\u8f83\u5c0f\uff0c\u90a3\u4e48\u8bf4\u660emid\u7684\u503c\u8fc7\u5c0f\u56e0\u6b64\u5f80\u4e2d\u95f4\u9760\u62e2\uff0c\u53cd\u4e4bright\u7684\u503c\u8fc7\u5927\u56e0\u6b64\u5411\u4e2d\u95f4\u9760\u62e2\u3002\u5c31\u8fd9\u6837\u505a\u4e24\u91cd\u904d\u5386\u53ef\u4ee5\u8ba1\u7b97\u5230\u6700\u63a5\u8fd1target\u7684\u503c\uff0c\u56e0\u4e3a\u8fd9\u9053\u9898\u53ea\u8981\u627e\u6700\u63a5\u8fd1\u7684\u6570\u56e0\u6b64\u6ca1\u67093Sum\u90a3\u4e48\u9650\u5236\u6761\u4ef6\u591a\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n^2),\u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int threeSumClosest ( vector < int > & num , int target ) { int sum = 0 ; sort ( num . begin (), num . end ()); int min_gap = INT_MAX ; for ( auto start = num . begin (); start != prev ( num . end (), 2 ); ++ start ){ auto mid = next ( start ); auto last = prev ( num . end (), 1 ); while ( mid < last ){ int sumup = * start + * mid + * last ; int gap = abs ( target - sumup ); if ( gap < min_gap ){ min_gap = gap ; sum = sumup ; } if ( sumup < target ){ mid ++ ; } else { last -- ; } } } return sum ; } }; \u4f8b\u9898\uff1a 3Sum \u5206\u6790\uff1a\u8fd9\u9053\u9898\u662f\u6807\u51c6\u7684\u6c42\u548c\u95ee\u9898\uff0c\u65b9\u6cd5\u4e0e\u524d\u9762\u7c7b\u4f3c\uff0c\u4f46\u662f\u8981\u6ce8\u610f\u91cd\u590d\u6570\u7684\u51fa\u73b0\u4e5f\u5c31\u662fwhile(b < c)\u91cc\u9762\u4e0d\u65ad\u5939\u903c\u5982\u679c\u51fa\u73b0\u8fd1\u90bb\u7684\u5143\u7d20\u76f8\u540c\u7684\u60c5\u51b5\uff0c\u9700\u8981\u4e00\u4e2awhile\u8bed\u53e5\u6765\u79fb\u52a8,\u8fd9\u6837\u5f97\u5230\u7684\u6700\u540e\u6570\u7ec4\u4e00\u5b9a\u6ca1\u6709\u91cd\u590d\u6570\u3002\u8fd8\u6709\u5c31\u662fa\u7684\u91cd\u590d\u60c5\u51b5\u4e5f\u9700\u8981\u8003\u8651\u3002 \u590d\u6742\u5ea6\uff1a\u65f6\u95f4\u590d\u6742\u5ea6O(n^2), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). Solution { public: vector < vector < int > > threeSum ( vector < int > & num ) { vector < vector < int > > result ; if ( num . size () < 3 ) return result ; sort ( num . begin (), num . end ()); const int target = 0 ; for ( auto a = 0 ; a < num . size () - 2 ; ++ a ){ if ( a > 0 && num [ a ] == num [ a - 1 ]) continue ; auto b = a + 1 ; auto c = num . size () - 1 ; while ( b < c ){ if ( num [ a ] + num [ b ] + num [ c ] < target ){ do { b ++ ;} while ( b < c && num [ b ] == num [ b - 1 ]); } else if ( num [ a ] + num [ b ] + num [ c ] > target ){ do { c -- ;} while ( b < c && num [ c ] == num [ c + 1 ]); } else { result . push_back ({ num [ a ], num [ b ], num [ c ]}); do { b ++ ;} while ( b < c && num [ b ] == num [ b - 1 ]); do { c -- ;} while ( b < c && num [ c ] == num [ c + 1 ]); } } } return result ; } }; \u4f8b\u9898\uff1a 4Sum \u5206\u6790\uff1a\u5982\u679c\u4f7f\u7528\u4e0a\u9762\u7c7b\u4f3c\u7684\u65b9\u6cd5\u590d\u6742\u5ea6\u8fbe\u5230\u4e86O(N^3),\u6709\u6ca1\u6709\u66f4\u7701\u65f6\u95f4\u7684\u65b9\u6cd5\u5462\uff1f\u60f3\u5230\u4e00\u5171\u662f\u56db\u4e2a\u6570\u4e4b\u548c\uff0c\u81ea\u7136\u60f3\u5230\u53ef\u4e0d\u53ef\u4ee5\u4e24\u4e24\u914d\u5bf9\uff0c\u8fd9\u6837\u628a\u95ee\u9898\u53ef\u4ee5\u7b80\u5316\u4e3a2Sum. \u8fd9\u91cc\u6211\u4eec\u4f7f\u7528 multimap \u6765\u50a8\u5b58\u4e24\u4e2a\u6570\u7684\u548c\uff0c\u9996\u5148\u8981\u5f04\u6e05\u695akey\u662f\u4ec0\u4e48\uff0c\u56e0\u4e3a\u4e0d\u540c\u7684\u4e24\u4e2a\u6570\u53ef\u80fd\u6709\u76f8\u540c\u7684\u548c\uff0c\u56e0\u6b64key\u4e3a\u4e24\u4e2a\u6570\u7684\u548c\uff0cvalue\u5219\u662fa pair of indexes\u8bb0\u5f55\u4e24\u4e2a\u6570\u5728\u6570\u7ec4\u7684\u4f4d\u7f6e\u3002\u8fd9\u6837\u904d\u5386multimap\u7684\u540c\u65f6\uff0c\u627e\u5230\u53e6\u4e00\u7ec4\u6570\u4f7f\u5f97\u4e24\u7ec4\u6570\u4e4b\u540e\u4e3atarget. \u590d\u6742\u5ea6\uff1a\u65f6\u95f4\u590d\u6742\u5ea6O(N^2), \u7a7a\u95f4\u590d\u6742\u5ea6O(N^2). class Solution { public : vector < vector < int > > fourSum ( vector < int > & num , int target ) { vector < vector < int >> result ; if ( num . size () < 4 ) return result ; sort ( num . begin (), num . end ()); unordered_multimap < int , pair < int , int >> cache ; for ( int i = 0 ; i + 1 < num . size (); ++ i ) for ( int j = i + 1 ; j < num . size (); ++ j ) cache . insert ( make_pair ( num [ i ] + num [ j ], make_pair ( i , j ))); for ( auto i = cache . begin (); i != cache . end (); ++ i ) { int x = target - i -> first ; auto range = cache . equal_range ( x ); for ( auto j = range . first ; j != range . second ; ++ j ) { auto a = i -> second . first ; auto b = i -> second . second ; auto c = j -> second . first ; auto d = j -> second . second ; if ( a != c && a != d && b != c && b != d ) { vector < int > vec = { num [ a ], num [ b ], num [ c ], num [ d ] }; sort ( vec . begin (), vec . end ()); result . push_back ( vec ); } } } sort ( result . begin (), result . end ()); result . erase ( unique ( result . begin (), result . end ()), result . end ()); return result ; } };","title":"\u6c42\u548c\u95ee\u9898"},{"location":"algre/in-place/","text":"\u539f\u5730\u7b97\u6cd5 \u00b6 In computer science, an in-place algorithm is an algorithm which transforms input using no auxiliary data structure. However a small amount of extra storage space is allowed for auxiliary variables. The input is usually overwritten by the output as the algorithm executes. In-place algorithm updates input sequence only through replacement or swapping of elements. An algorithm which is not in-place is sometimes called not-in-place or out-of-place. \u50cf wiki \u91cc\u9762\u8bf4\u7684\uff0c\u539f\u5730\u7b97\u6cd5\u662f\u57fa\u672c\u4e0a\u4e0d\u9700\u8981\u989d\u5916\u8f85\u52a9\u7684\u6570\u636e\u7ed3\u6784,\u7136\u800c,\u5141\u8bb8\u5c11\u91cf\u989d\u5916\u7684\u8f85\u52a9\u53d8\u91cf\u6765\u8f6c\u6362\u6570\u636e\u7684\u7b97\u6cd5\u3002\u5728\u8ba1\u7b97\u590d\u6742\u6027\u7406\u8bba\u4e2d\uff0c\u539f\u5730\u7b97\u6cd5\u5305\u542b\u4f7f\u7528O(1)\u7a7a\u95f4\u590d\u6742\u5ea6\u7684\u6240\u6709\u7b97\u6cd5\uff0cDSPACE(1)\u7c7b\u578b\u3002 function reverse - in - place ( a [ 0. . n ]) for i from 0 to floor ( n / 2 ) swap ( a [ i ], a [ n - i ]) \u6570\u7ec4\u7ffb\u8f6c \u00b6 \u6bd4\u5982\u6211\u4eec\u5728 JS \u4e2d\uff0c\u5b9e\u73b0\u7ffb\u8f6c\u6570\u7ec4\uff0c\uff08array.prototype.reverse\uff09 \u9664\u5916\u3002[1,2,3] => [3,2,1] function reverseArray ( arr ) { var len = array . length ; var middle = Math . floor ( len / 2 ); for ( var i = 0 ; i < middle ; i += 1 ) { var temp = array [ i ]; array [ i ] = array [ n - 1 - i ]; array [ n - 1 - i ] = temp ; } } \u8fd9\u6837\u6211\u4eec\u5c31\u4e0d\u7528\u501f\u52a9\u53e6\u5916\u4e00\u4e2a\u4e00\u4e2a\u6570\u7ec4\u5012\u5e8f\u5faa\u73af\u4e86\u3002 \u5220\u9664\u6392\u5e8f\u540e\u6570\u7ec4\u7684\u91cd\u590d\u5143\u7d20 \u00b6 \u6bd4\u5982\u6211\u4eec\u7ed9\u51fa\u4e00\u7ec4\u6392\u597d\u540e\u7684\u6570\u7ec4\uff0c\u7136\u540e\u5220\u9664\u6389\u5176\u4e2d\u91cd\u590d\u7684\u5143\u7d20 [1,2,3,3,3,4,5,5,5,6,7] to [1,2,3,4,5,6,7] var removeDuplicates = function ( nums ) { var i = 0 ; // \u8fd9\u91cc\u6709\u95ee\u9898\uff0c\u9700\u8981\u770b for-of \u7684\u5faa\u73af // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...of for ( let n of nums ) { if ( i == 0 || n > nums [ i - 1 ]) { nums [ i ++ ] = n ; } } return i ; }; \u5224\u65ad\u56de\u6587 \u00b6 \u6700\u8fd1 20200202 \u6bd4\u8f83\u706b\uff0c\u8fd9\u662f\u6bd4\u8f83\u5e38\u89c1\u7684 \u56de\u6587 \u6570\u5b57\u3002\u7c7b\u4f3c\u5355\u8bcd\u6bd4\u5982 bob \u6216\u8005\u53e5\u5b50 Was it a car or a cat I saw? \u3002 'aba' = > true 'accad' = > false '20200202' = > true \u6211\u4eec\u5982\u4f55\u5224\u65ad\u4e00\u4e2a\u5b57\u7b26\u4e32\u662f\u56de\u6587\u7684\u65f6\u5019\u53ef\u4ee5\u7528\u5230\u3002 function isPalindromeStr ( str ) { var middle = Math . floor ( str . length / 2 ); for ( var i = 0 ; i < middle ; i ++ ) if ( str [ i ] !== str [ str . length - i - 1 ]) { return false ; } return true ; } \u5bf9\u5e94\u4e0b\u9762\u4e09\u4e2a\u9898\u76ee In-place algorithm Palindrome Longest Palindromic Substring \u5176\u4ed6\u7684\u4f8b\u5b50\uff0c\u6392\u5e8f\u7b97\u6cd5\u4f1a\u539f\u5730\u91cd\u65b0\u6392\u653e\u9635\u5217\u5185\u5bb9\u6210\u4e3a\u6392\u5e8f\u8fc7\u7684\u987a\u5e8f\uff0c\u5305\u542b\uff1a \u5192\u6ce1\u6392\u5e8f \u9009\u62e9\u6392\u5e8f \u63d2\u5165\u6392\u5e8f \u5806\u6392\u5e8f \u5e0c\u5c14\u6392\u5e8f \u5feb\u901f\u6392\u5e8f\u901a\u5e38\u88ab\u63cf\u8ff0\u4e3a\u4e00\u4e2a\u539f\u5730\u7b97\u6cd5\uff0c\u4f46\u662f\u4e8b\u5b9e\u4e0a\u5e76\u4e0d\u662f\u3002\u5927\u90e8\u4efd\u7684\u5b9e\u4f5c\u9700\u8981O(log n)\u7684\u7a7a\u95f4\u6765\u652f\u6301\u5b83\u7684 \u5206\u6cbb\u6cd5 \uff08divide-and-conquer\uff09\u9012\u56de\u3002\u5927\u90e8\u4efd\u9009\u62e9\u7b97\u6cd5\u4e5f\u662f\u539f\u5730\uff0c\u867d\u7136\u5728\u627e\u5230\u6700\u540e\u7ed3\u679c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6709\u67d0\u4e9b\u76f8\u5f53\u5730\u91cd\u65b0\u6392\u5217\u8f93\u5165\u9635\u5217\uff0c\u4f46\u5374\u662f\u56fa\u5b9a\u5927\u5c0f\u7684\u7ed3\u679c\u3002 \u5728\u8ba1\u7b97\u4e0a\u7684\u590d\u6742\u5ea6 \u00b6 \u5728 \u8ba1\u7b97\u590d\u6742\u6027\u7406\u8bba \u4e2d\uff0c\u539f\u5730\u7b97\u6cd5\u5305\u542b\u4f7f\u7528O(1) \u7a7a\u95f4\u590d\u6742\u5ea6 \u7684\u6240\u6709\u7b97\u6cd5\uff0cDSPACE(1)\u7c7b\u578b\u3002\u8fd9\u4e2a\u7c7b\u578b\u662f\u975e\u5e38\u6709\u9650\u7684\uff1b\u5b83\u4e0e\u6b63\u89c4\u8bed\u8a001\u76f8\u7b49\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5b83\u751a\u81f3\u4e0d\u5305\u542b\u4e0a\u9762\u6240\u5217\u7684\u4efb\u4f55\u8303\u4f8b\u3002 \u56e0\u4e3a\u8fd9\u4e2a\u539f\u56e0\uff0c\u6211\u4eec\u4e5f\u8003\u8651\u5728 L \u7684\u7b97\u6cd5\uff0c\u8fd9\u7c7b\u578b\u7684\u95ee\u9898\u9700\u8981O(log n)\u989d\u5916\u7684\u7a7a\u95f4\uff0c\u6765\u6210\u4e3a\u539f\u5730\u3002\u867d\u7136\u8fd9\u4e2a\u4f3c\u4e4e\u4e0e\u6211\u4eec\u5148\u524d\u7684\u5b9a\u4e49\u77db\u76fe\uff0c\u4f46\u662f\u6211\u4eec\u5fc5\u987b\u8ba4\u4e3a\u5728\u62bd\u8c61\u7684\u4e16\u754c\uff0c\u8f93\u5165\u7684\u8d44\u6599\u53ef\u4ee5\u662f\u4efb\u610f\u5de8\u5927\u7684\u3002\u5728\u4e00\u90e8\u771f\u5b9e\u7684\u7535\u8111\uff0c\u6307\u6807\uff08pointer\uff09\u4ec5\u9700\u8981\u4e00\u4e2a\u5c0f\u7684\u56fa\u5b9a\u6570\u91cf\u7a7a\u95f4\uff0c\u56e0\u4e3a\u5b9e\u4f53\u5185\u5b58\u7684\u6570\u91cf\u662f\u56fa\u5b9a\u7684\uff0c\u4f46\u662f\u4e00\u822c\u4e0a\u4e00\u4e2a\u5927\u5c0f\u4e3an\u7684\u6570\u5217\u9700\u8981O(log n)\u4f4d\u5143\u6765\u4f5c\u4e3a\u5b83\u7684\u7d22\u5f15\uff08index\uff09\u3002 \u7ed3\u679c\u662f\u5426\u610f\u6307\u5feb\u901f\u6392\u5e8f\u662f\u539f\u5730\u7684\uff1f\u5176\u5b9e\u4e00\u70b9\u4e5f\u4e0d \u2014 \u6280\u672f\u4e0a\u6765\u8bf4\uff0c\u5b83\u9700\u8981O(log2 n)\u7a7a\u95f4\uff0c\u56e0\u4e3a\u5b83\u7684O(log n) \u5806\u6808\u6846\u67b6\uff08stack frames\uff09\u6bcf\u4e00\u4e2a\u90fd\u542b\u6709\u4e00\u4e2a\u56fa\u5b9a\u6570\u91cf\u7684\u6307\u6807\uff08\u6bcf\u4e00\u4e2a\u5927\u5c0f\u4e3aO(log n)\uff09\u3002 \u8fa8\u522b\u62e5\u6709 L \u7684\u539f\u5730\u7b97\u6cd5\u62e5\u6709\u67d0\u4e9b\u6709\u8da3\u7684\u542b\u610f\uff1b\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5b83\u610f\u6307\u5b58\u5728\u4e00\u4e2a\uff08\u76f8\u5f53\u5730\u590d\u6742\uff09\u539f\u5730\u7b97\u6cd5\uff0c\u51b3\u5b9a\u5728\u4e00\u4e2a \u65e0\u5411\u56fe \uff08undirected graph\uff09\u4e2d\u7684\u4efb\u4e24\u4e2a\u8282\u70b9\uff08nodes\uff09\u4e4b\u95f4\u662f\u5426\u5b58\u5728\u4e00\u6761\u8def\u5f84\uff08path\uff09\uff0c\u8fd9\u662f\u4e00\u4e2a\u9700\u8981O(n)\u4e2a\u989d\u5916\u7684\u7a7a\u95f4\uff0c\u4f7f\u7528\u5178\u578b\u7684\u7b97\u6cd5\u50cf\u662f\u6df1\u5ea6\u4f18\u5148\u641c\u5bfb(depth-first search)\uff08\u6bcf\u4e2a\u8282\u70b9\u6709\u4e2a\u8d70\u8bbf\u7684\u4f4d\u5143\uff09\u7684\u95ee\u9898\u3002\u6709\u4e9b\u95ee\u9898\u50cf\u662f\u51b3\u5b9a\u4e00\u4e2a\u56fe\u5f62\u662f\u5426\u4e3a \u4e8c\u5206\u56fe \uff08bipartite graph\uff09\u6216\u6d4b\u8bd5\u4e24\u4e2a\u56fe\u5f62\u4f7f\u5426\u6709\u76f8\u540c\u6570\u91cf\u7684\u8fde\u7ed3\u5143\u4ef6\uff08 connected component \uff09\uff0c\u63a5\u7740\u9488\u5bf9\u8fd9\u4e9b\u95ee\u9898\u4ea7\u51fa\u539f\u5730\u7b97\u6cd5\u3002\u53c2\u8003SL\u6709\u66f4\u591a\u7684\u8d44\u8baf\u3002 \u968f\u610f\u7684\u89d2\u8272 \u00b6 \u5728\u5f88\u591a\u60c5\u51b5\uff0c\u501f\u7531\u4f7f\u7528 \u968f\u673a\u5316\u7b97\u6cd5 \uff08randomized algorithms\uff09\uff0c\u4e00\u4e2a\u7b97\u6cd5\u7684\u7a7a\u95f4\u9700\u6c42\u53ef\u4ee5\u88ab\u6781\u5ea6\u5730\u88c1\u51cf\u6389\u3002\u4e3e\u4e2a\u8303\u4f8b\uff0c\u6211\u4eec\u5e0c\u671b\u77e5\u9053\u4e00\u4e2a\u6709 n \u4e2a\u9876\u70b9\uff08vertices\uff09\u7684\u56fe\u5f62\u4e2d\u7684\u4e24\u4e2a\u9876\u70b9\u662f\u5426\u4f4d\u4e8e\u56fe\u4e2d\u540c\u4e00\u4e2a\u8fde\u63a5\u5143\u4ef6\uff08connected component\uff09\u3002\u6ca1\u6709\u5df2\u77e5\u7b80\u5355\u3001\u51b3\u5b9a\u6027\u7684\uff08deterministic\uff09\u3001\u539f\u5730\u7b97\u6cd5\u6765\u51b3\u5b9a\u8fd9\u4ef6\u4e8b\uff0c\u4f46\u662f\u5982\u679c\u6211\u4eec\u7b80\u5355\u5730\u7531\u4e00\u4e2a\u9876\u70b9\u5f00\u59cb\uff0c\u4e14\u6267\u884c\u5927\u7ea620n3\u6b65\u7684\u968f\u673a\u8d70\u8def\uff08random walk\uff09\uff0c\u90a3\u6211\u4eec\u4f1a\u5076\u9047\u5230\u5176\u4ed6\u9876\u70b9\u6765\u63d0\u4f9b\u5b83\u4e0d\u662f\u5728\u540c\u4e00\u4e2a\u5143\u4ef6\uff08component\uff09\u4e2d\u7684\u673a\u4f1a\u662f\u975e\u5e38\u5730\u9ad8\u3002\u7c7b\u4f3c\u5730\uff0c\u5bf9\u4e8e\u8d28\u6570\u6d4b\u8bd5\uff08primality test\uff09\u6709\u7b80\u5355\u7684\u968f\u673a\u5316\u539f\u5730\u7b97\u6cd5\u50cf\u662f\u7c73\u52d2-\u62c9\u5bbe\u68c0\u9a8c\uff0c\u4e5f\u6709\u7b80\u5355\u539f\u5730 \u968f\u673a\u5316 \u6574\u6570\u5206\u89e3 \u7b97\u6cd5\u50cf\u662fPollard's rho \u7b97\u6cd5\u3002\u53c2\u8003RL\u548cBPL\u6709\u5bf9\u8fd9\u4e2a\u73b0\u8c61\u66f4\u591a\u7684\u8ba8\u8bba\u3002 \u5728\u51fd\u6570\u7684\u7a0b\u5f0f\u8bbe\u8ba1 \u00b6 \u51fd\u6570 \u7a0b\u5f0f\u8bbe\u8ba1 \uff08functional programming\uff09\u8bed\u8a00\u7ecf\u5e38\u4e0d\u9f13\u52b1\u6216\u4e0d\u652f\u63f4\u4f1a\u8986\u76d6\u8d44\u6599\u7684\u539f\u5730\u7b97\u6cd5\uff0c\u56e0\u4e3a\u8fd9\u662f\u526f\u4f5c\u7528\u7684\u4e00\u79cd\u578b\u6001\uff1b\u53cd\u4e4b\uff0c\u4ed6\u4eec\u53ea\u5141\u8bb8\u5efa\u7acb\u65b0\u7684\u8d44\u6599\u3002\u7136\u800c\uff0c\u597d\u7684\u51fd\u6570\u8bed\u8a00 \u7f16\u8bd1\u5668 \uff08compiler\uff09\u5728\u5f53\u4e00\u4e2a\u4e0e\u4ee5\u5b58\u5728\u4e4b\u975e\u5e38\u76f8\u4f3c\u7684\u7269\u4ef6\u88ab\u5efa\u7acb\u65f6\uff0c\u90fd\u7ecf\u5e38\u4f1a\u8fa8\u8bc6\u51fa\u6765\uff0c\u7136\u540e\u65e7\u7684\u5c31\u4f1a\u88ab\u4e22\u5f03\u6389\uff0c\u800c\u4e14\u4f1a\u6700\u628a\u8fd9\u6700\u4f73\u5316\u4e3a\u4e00\u4e2a\u7b80\u5355\u7684\" \u5f15\u64ce\u76d6 \u4e4b\u4e0b\"\u8f6c\u6362\u3002 \u57fa\u672c\u4e0a\uff0c\u6709\u53ef\u80fd\u5c0f\u5fc3\u5730\u5efa\u6784\u539f\u5730\u7b97\u6cd5\u800c\u90e8\u4f1a\u66f4\u52a8\u8d44\u6599\uff08\u9664\u975e\u8d44\u6599\u5df2\u4e0d\u4f1a\u518d\u88ab\u4f7f\u7528\uff09\uff0c\u4f46\u662f\u5728\u5b9e\u9645\u4e0a\u8fd9\u5374\u5f88\u5c11\u89c1\u5230\u3002\u53c2\u8003\u7eaf\u51fd\u6570\u6570\u636e\u7ed3\u6784\uff08purely functional data structure\uff09\u3002","title":"\u539f\u5730\u7b97\u6cd5"},{"location":"algre/in-place/#_1","text":"In computer science, an in-place algorithm is an algorithm which transforms input using no auxiliary data structure. However a small amount of extra storage space is allowed for auxiliary variables. The input is usually overwritten by the output as the algorithm executes. In-place algorithm updates input sequence only through replacement or swapping of elements. An algorithm which is not in-place is sometimes called not-in-place or out-of-place. \u50cf wiki \u91cc\u9762\u8bf4\u7684\uff0c\u539f\u5730\u7b97\u6cd5\u662f\u57fa\u672c\u4e0a\u4e0d\u9700\u8981\u989d\u5916\u8f85\u52a9\u7684\u6570\u636e\u7ed3\u6784,\u7136\u800c,\u5141\u8bb8\u5c11\u91cf\u989d\u5916\u7684\u8f85\u52a9\u53d8\u91cf\u6765\u8f6c\u6362\u6570\u636e\u7684\u7b97\u6cd5\u3002\u5728\u8ba1\u7b97\u590d\u6742\u6027\u7406\u8bba\u4e2d\uff0c\u539f\u5730\u7b97\u6cd5\u5305\u542b\u4f7f\u7528O(1)\u7a7a\u95f4\u590d\u6742\u5ea6\u7684\u6240\u6709\u7b97\u6cd5\uff0cDSPACE(1)\u7c7b\u578b\u3002 function reverse - in - place ( a [ 0. . n ]) for i from 0 to floor ( n / 2 ) swap ( a [ i ], a [ n - i ])","title":"\u539f\u5730\u7b97\u6cd5"},{"location":"algre/in-place/#_2","text":"\u6bd4\u5982\u6211\u4eec\u5728 JS \u4e2d\uff0c\u5b9e\u73b0\u7ffb\u8f6c\u6570\u7ec4\uff0c\uff08array.prototype.reverse\uff09 \u9664\u5916\u3002[1,2,3] => [3,2,1] function reverseArray ( arr ) { var len = array . length ; var middle = Math . floor ( len / 2 ); for ( var i = 0 ; i < middle ; i += 1 ) { var temp = array [ i ]; array [ i ] = array [ n - 1 - i ]; array [ n - 1 - i ] = temp ; } } \u8fd9\u6837\u6211\u4eec\u5c31\u4e0d\u7528\u501f\u52a9\u53e6\u5916\u4e00\u4e2a\u4e00\u4e2a\u6570\u7ec4\u5012\u5e8f\u5faa\u73af\u4e86\u3002","title":"\u6570\u7ec4\u7ffb\u8f6c"},{"location":"algre/in-place/#_3","text":"\u6bd4\u5982\u6211\u4eec\u7ed9\u51fa\u4e00\u7ec4\u6392\u597d\u540e\u7684\u6570\u7ec4\uff0c\u7136\u540e\u5220\u9664\u6389\u5176\u4e2d\u91cd\u590d\u7684\u5143\u7d20 [1,2,3,3,3,4,5,5,5,6,7] to [1,2,3,4,5,6,7] var removeDuplicates = function ( nums ) { var i = 0 ; // \u8fd9\u91cc\u6709\u95ee\u9898\uff0c\u9700\u8981\u770b for-of \u7684\u5faa\u73af // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...of for ( let n of nums ) { if ( i == 0 || n > nums [ i - 1 ]) { nums [ i ++ ] = n ; } } return i ; };","title":"\u5220\u9664\u6392\u5e8f\u540e\u6570\u7ec4\u7684\u91cd\u590d\u5143\u7d20"},{"location":"algre/in-place/#_4","text":"\u6700\u8fd1 20200202 \u6bd4\u8f83\u706b\uff0c\u8fd9\u662f\u6bd4\u8f83\u5e38\u89c1\u7684 \u56de\u6587 \u6570\u5b57\u3002\u7c7b\u4f3c\u5355\u8bcd\u6bd4\u5982 bob \u6216\u8005\u53e5\u5b50 Was it a car or a cat I saw? \u3002 'aba' = > true 'accad' = > false '20200202' = > true \u6211\u4eec\u5982\u4f55\u5224\u65ad\u4e00\u4e2a\u5b57\u7b26\u4e32\u662f\u56de\u6587\u7684\u65f6\u5019\u53ef\u4ee5\u7528\u5230\u3002 function isPalindromeStr ( str ) { var middle = Math . floor ( str . length / 2 ); for ( var i = 0 ; i < middle ; i ++ ) if ( str [ i ] !== str [ str . length - i - 1 ]) { return false ; } return true ; } \u5bf9\u5e94\u4e0b\u9762\u4e09\u4e2a\u9898\u76ee In-place algorithm Palindrome Longest Palindromic Substring \u5176\u4ed6\u7684\u4f8b\u5b50\uff0c\u6392\u5e8f\u7b97\u6cd5\u4f1a\u539f\u5730\u91cd\u65b0\u6392\u653e\u9635\u5217\u5185\u5bb9\u6210\u4e3a\u6392\u5e8f\u8fc7\u7684\u987a\u5e8f\uff0c\u5305\u542b\uff1a \u5192\u6ce1\u6392\u5e8f \u9009\u62e9\u6392\u5e8f \u63d2\u5165\u6392\u5e8f \u5806\u6392\u5e8f \u5e0c\u5c14\u6392\u5e8f \u5feb\u901f\u6392\u5e8f\u901a\u5e38\u88ab\u63cf\u8ff0\u4e3a\u4e00\u4e2a\u539f\u5730\u7b97\u6cd5\uff0c\u4f46\u662f\u4e8b\u5b9e\u4e0a\u5e76\u4e0d\u662f\u3002\u5927\u90e8\u4efd\u7684\u5b9e\u4f5c\u9700\u8981O(log n)\u7684\u7a7a\u95f4\u6765\u652f\u6301\u5b83\u7684 \u5206\u6cbb\u6cd5 \uff08divide-and-conquer\uff09\u9012\u56de\u3002\u5927\u90e8\u4efd\u9009\u62e9\u7b97\u6cd5\u4e5f\u662f\u539f\u5730\uff0c\u867d\u7136\u5728\u627e\u5230\u6700\u540e\u7ed3\u679c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6709\u67d0\u4e9b\u76f8\u5f53\u5730\u91cd\u65b0\u6392\u5217\u8f93\u5165\u9635\u5217\uff0c\u4f46\u5374\u662f\u56fa\u5b9a\u5927\u5c0f\u7684\u7ed3\u679c\u3002","title":"\u5224\u65ad\u56de\u6587"},{"location":"algre/in-place/#_5","text":"\u5728 \u8ba1\u7b97\u590d\u6742\u6027\u7406\u8bba \u4e2d\uff0c\u539f\u5730\u7b97\u6cd5\u5305\u542b\u4f7f\u7528O(1) \u7a7a\u95f4\u590d\u6742\u5ea6 \u7684\u6240\u6709\u7b97\u6cd5\uff0cDSPACE(1)\u7c7b\u578b\u3002\u8fd9\u4e2a\u7c7b\u578b\u662f\u975e\u5e38\u6709\u9650\u7684\uff1b\u5b83\u4e0e\u6b63\u89c4\u8bed\u8a001\u76f8\u7b49\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5b83\u751a\u81f3\u4e0d\u5305\u542b\u4e0a\u9762\u6240\u5217\u7684\u4efb\u4f55\u8303\u4f8b\u3002 \u56e0\u4e3a\u8fd9\u4e2a\u539f\u56e0\uff0c\u6211\u4eec\u4e5f\u8003\u8651\u5728 L \u7684\u7b97\u6cd5\uff0c\u8fd9\u7c7b\u578b\u7684\u95ee\u9898\u9700\u8981O(log n)\u989d\u5916\u7684\u7a7a\u95f4\uff0c\u6765\u6210\u4e3a\u539f\u5730\u3002\u867d\u7136\u8fd9\u4e2a\u4f3c\u4e4e\u4e0e\u6211\u4eec\u5148\u524d\u7684\u5b9a\u4e49\u77db\u76fe\uff0c\u4f46\u662f\u6211\u4eec\u5fc5\u987b\u8ba4\u4e3a\u5728\u62bd\u8c61\u7684\u4e16\u754c\uff0c\u8f93\u5165\u7684\u8d44\u6599\u53ef\u4ee5\u662f\u4efb\u610f\u5de8\u5927\u7684\u3002\u5728\u4e00\u90e8\u771f\u5b9e\u7684\u7535\u8111\uff0c\u6307\u6807\uff08pointer\uff09\u4ec5\u9700\u8981\u4e00\u4e2a\u5c0f\u7684\u56fa\u5b9a\u6570\u91cf\u7a7a\u95f4\uff0c\u56e0\u4e3a\u5b9e\u4f53\u5185\u5b58\u7684\u6570\u91cf\u662f\u56fa\u5b9a\u7684\uff0c\u4f46\u662f\u4e00\u822c\u4e0a\u4e00\u4e2a\u5927\u5c0f\u4e3an\u7684\u6570\u5217\u9700\u8981O(log n)\u4f4d\u5143\u6765\u4f5c\u4e3a\u5b83\u7684\u7d22\u5f15\uff08index\uff09\u3002 \u7ed3\u679c\u662f\u5426\u610f\u6307\u5feb\u901f\u6392\u5e8f\u662f\u539f\u5730\u7684\uff1f\u5176\u5b9e\u4e00\u70b9\u4e5f\u4e0d \u2014 \u6280\u672f\u4e0a\u6765\u8bf4\uff0c\u5b83\u9700\u8981O(log2 n)\u7a7a\u95f4\uff0c\u56e0\u4e3a\u5b83\u7684O(log n) \u5806\u6808\u6846\u67b6\uff08stack frames\uff09\u6bcf\u4e00\u4e2a\u90fd\u542b\u6709\u4e00\u4e2a\u56fa\u5b9a\u6570\u91cf\u7684\u6307\u6807\uff08\u6bcf\u4e00\u4e2a\u5927\u5c0f\u4e3aO(log n)\uff09\u3002 \u8fa8\u522b\u62e5\u6709 L \u7684\u539f\u5730\u7b97\u6cd5\u62e5\u6709\u67d0\u4e9b\u6709\u8da3\u7684\u542b\u610f\uff1b\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5b83\u610f\u6307\u5b58\u5728\u4e00\u4e2a\uff08\u76f8\u5f53\u5730\u590d\u6742\uff09\u539f\u5730\u7b97\u6cd5\uff0c\u51b3\u5b9a\u5728\u4e00\u4e2a \u65e0\u5411\u56fe \uff08undirected graph\uff09\u4e2d\u7684\u4efb\u4e24\u4e2a\u8282\u70b9\uff08nodes\uff09\u4e4b\u95f4\u662f\u5426\u5b58\u5728\u4e00\u6761\u8def\u5f84\uff08path\uff09\uff0c\u8fd9\u662f\u4e00\u4e2a\u9700\u8981O(n)\u4e2a\u989d\u5916\u7684\u7a7a\u95f4\uff0c\u4f7f\u7528\u5178\u578b\u7684\u7b97\u6cd5\u50cf\u662f\u6df1\u5ea6\u4f18\u5148\u641c\u5bfb(depth-first search)\uff08\u6bcf\u4e2a\u8282\u70b9\u6709\u4e2a\u8d70\u8bbf\u7684\u4f4d\u5143\uff09\u7684\u95ee\u9898\u3002\u6709\u4e9b\u95ee\u9898\u50cf\u662f\u51b3\u5b9a\u4e00\u4e2a\u56fe\u5f62\u662f\u5426\u4e3a \u4e8c\u5206\u56fe \uff08bipartite graph\uff09\u6216\u6d4b\u8bd5\u4e24\u4e2a\u56fe\u5f62\u4f7f\u5426\u6709\u76f8\u540c\u6570\u91cf\u7684\u8fde\u7ed3\u5143\u4ef6\uff08 connected component \uff09\uff0c\u63a5\u7740\u9488\u5bf9\u8fd9\u4e9b\u95ee\u9898\u4ea7\u51fa\u539f\u5730\u7b97\u6cd5\u3002\u53c2\u8003SL\u6709\u66f4\u591a\u7684\u8d44\u8baf\u3002","title":"\u5728\u8ba1\u7b97\u4e0a\u7684\u590d\u6742\u5ea6"},{"location":"algre/in-place/#_6","text":"\u5728\u5f88\u591a\u60c5\u51b5\uff0c\u501f\u7531\u4f7f\u7528 \u968f\u673a\u5316\u7b97\u6cd5 \uff08randomized algorithms\uff09\uff0c\u4e00\u4e2a\u7b97\u6cd5\u7684\u7a7a\u95f4\u9700\u6c42\u53ef\u4ee5\u88ab\u6781\u5ea6\u5730\u88c1\u51cf\u6389\u3002\u4e3e\u4e2a\u8303\u4f8b\uff0c\u6211\u4eec\u5e0c\u671b\u77e5\u9053\u4e00\u4e2a\u6709 n \u4e2a\u9876\u70b9\uff08vertices\uff09\u7684\u56fe\u5f62\u4e2d\u7684\u4e24\u4e2a\u9876\u70b9\u662f\u5426\u4f4d\u4e8e\u56fe\u4e2d\u540c\u4e00\u4e2a\u8fde\u63a5\u5143\u4ef6\uff08connected component\uff09\u3002\u6ca1\u6709\u5df2\u77e5\u7b80\u5355\u3001\u51b3\u5b9a\u6027\u7684\uff08deterministic\uff09\u3001\u539f\u5730\u7b97\u6cd5\u6765\u51b3\u5b9a\u8fd9\u4ef6\u4e8b\uff0c\u4f46\u662f\u5982\u679c\u6211\u4eec\u7b80\u5355\u5730\u7531\u4e00\u4e2a\u9876\u70b9\u5f00\u59cb\uff0c\u4e14\u6267\u884c\u5927\u7ea620n3\u6b65\u7684\u968f\u673a\u8d70\u8def\uff08random walk\uff09\uff0c\u90a3\u6211\u4eec\u4f1a\u5076\u9047\u5230\u5176\u4ed6\u9876\u70b9\u6765\u63d0\u4f9b\u5b83\u4e0d\u662f\u5728\u540c\u4e00\u4e2a\u5143\u4ef6\uff08component\uff09\u4e2d\u7684\u673a\u4f1a\u662f\u975e\u5e38\u5730\u9ad8\u3002\u7c7b\u4f3c\u5730\uff0c\u5bf9\u4e8e\u8d28\u6570\u6d4b\u8bd5\uff08primality test\uff09\u6709\u7b80\u5355\u7684\u968f\u673a\u5316\u539f\u5730\u7b97\u6cd5\u50cf\u662f\u7c73\u52d2-\u62c9\u5bbe\u68c0\u9a8c\uff0c\u4e5f\u6709\u7b80\u5355\u539f\u5730 \u968f\u673a\u5316 \u6574\u6570\u5206\u89e3 \u7b97\u6cd5\u50cf\u662fPollard's rho \u7b97\u6cd5\u3002\u53c2\u8003RL\u548cBPL\u6709\u5bf9\u8fd9\u4e2a\u73b0\u8c61\u66f4\u591a\u7684\u8ba8\u8bba\u3002","title":"\u968f\u610f\u7684\u89d2\u8272"},{"location":"algre/in-place/#_7","text":"\u51fd\u6570 \u7a0b\u5f0f\u8bbe\u8ba1 \uff08functional programming\uff09\u8bed\u8a00\u7ecf\u5e38\u4e0d\u9f13\u52b1\u6216\u4e0d\u652f\u63f4\u4f1a\u8986\u76d6\u8d44\u6599\u7684\u539f\u5730\u7b97\u6cd5\uff0c\u56e0\u4e3a\u8fd9\u662f\u526f\u4f5c\u7528\u7684\u4e00\u79cd\u578b\u6001\uff1b\u53cd\u4e4b\uff0c\u4ed6\u4eec\u53ea\u5141\u8bb8\u5efa\u7acb\u65b0\u7684\u8d44\u6599\u3002\u7136\u800c\uff0c\u597d\u7684\u51fd\u6570\u8bed\u8a00 \u7f16\u8bd1\u5668 \uff08compiler\uff09\u5728\u5f53\u4e00\u4e2a\u4e0e\u4ee5\u5b58\u5728\u4e4b\u975e\u5e38\u76f8\u4f3c\u7684\u7269\u4ef6\u88ab\u5efa\u7acb\u65f6\uff0c\u90fd\u7ecf\u5e38\u4f1a\u8fa8\u8bc6\u51fa\u6765\uff0c\u7136\u540e\u65e7\u7684\u5c31\u4f1a\u88ab\u4e22\u5f03\u6389\uff0c\u800c\u4e14\u4f1a\u6700\u628a\u8fd9\u6700\u4f73\u5316\u4e3a\u4e00\u4e2a\u7b80\u5355\u7684\" \u5f15\u64ce\u76d6 \u4e4b\u4e0b\"\u8f6c\u6362\u3002 \u57fa\u672c\u4e0a\uff0c\u6709\u53ef\u80fd\u5c0f\u5fc3\u5730\u5efa\u6784\u539f\u5730\u7b97\u6cd5\u800c\u90e8\u4f1a\u66f4\u52a8\u8d44\u6599\uff08\u9664\u975e\u8d44\u6599\u5df2\u4e0d\u4f1a\u518d\u88ab\u4f7f\u7528\uff09\uff0c\u4f46\u662f\u5728\u5b9e\u9645\u4e0a\u8fd9\u5374\u5f88\u5c11\u89c1\u5230\u3002\u53c2\u8003\u7eaf\u51fd\u6570\u6570\u636e\u7ed3\u6784\uff08purely functional data structure\uff09\u3002","title":"\u5728\u51fd\u6570\u7684\u7a0b\u5f0f\u8bbe\u8ba1"},{"location":"algre/part-two/","text":"\u4e8c\u5206\u641c\u7d22 \u00b6 \u641c\u7d22\u8fc7\u7a0b\u4ece\u6570\u7ec4\u7684\u4e2d\u95f4\u5143\u7d20\u5f00\u59cb\uff0c\u5982\u679c\u4e2d\u95f4\u5143\u7d20\u6b63\u597d\u662f\u8981\u67e5\u627e\u7684\u5143\u7d20\uff0c\u5219\u641c\u7d22\u8fc7\u7a0b\u7ed3\u675f\uff1b\u5982\u679c\u67d0\u4e00\u7279\u5b9a\u5143\u7d20\u5927\u4e8e\u6216\u8005\u5c0f\u4e8e\u4e2d\u95f4\u5143\u7d20\uff0c\u5219\u5728\u6570\u7ec4\u5927\u4e8e\u6216\u5c0f\u4e8e\u4e2d\u95f4\u5143\u7d20\u7684\u90a3\u4e00\u534a\u4e2d\u67e5\u627e\uff0c\u800c\u4e14\u8ddf\u5f00\u59cb\u4e00\u6837\u4ece\u4e2d\u95f4\u5143\u7d20\u5f00\u59cb\u6bd4\u8f83\u3002\u5982\u679c\u5728\u67d0\u4e00\u6b65\u9aa4\u6570\u7ec4\u4e3a\u7a7a\uff0c\u5219\u4ee3\u8868\u627e\u4e0d\u5230\u3002\u8fd9\u79cd\u641c\u7d22\u7b97\u6cd5\u6bcf\u4e00\u6b21\u6bd4\u8f83\u90fd\u4f7f\u641c\u7d22\u8303\u56f4\u7f29\u5c0f\u4e00\u534a\u3002 \u65f6\u95f4\u590d\u6742\u5ea6\uff1a\u6298\u534a\u641c\u7d22\u6bcf\u6b21\u628a\u641c\u7d22\u533a\u57df\u51cf\u5c11\u4e00\u534a\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \u7a7a\u95f4\u590d\u6742\u5ea6\uff1a\u867d\u4ee5\u9012\u5f52\u5f62\u5f0f\u5b9a\u4e49\uff0c\u4f46\u662f \u5c3e\u9012\u5f52 \uff0c\u53ef\u6539\u5199\u4e3a\u5faa\u73af\u3002 \u4e8c\u5206\u67e5\u627e\u6709\u4e24\u79cd\u5b9e\u73b0\uff1awhile \u5faa\u73af\u548c\u9012\u5f52\u51fd\u6570\u8c03\u7528\uff08\u4e0d\u540c\u8bed\u8a00\u5b9e\u73b0\uff09 \u5f53while\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u8fd4\u56de\uff1b\u5982\u679c\u4e0d\u6ee1\u8db3\u6761\u4ef6\uff0c\u6539\u53d8\u5f00\u59cb\u548c\u7ed3\u675f\u503c\uff0c\u7ee7\u7eed\u5faa\u73af \u9012\u5f52\uff1a\u5f53\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u8fd4\u56deindex\uff1b\u4e0d\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u66f4\u6539\u8f93\u5165\u53c2\u6570\u9012\u5f52\u8c03\u7528 \u6ce8\u610f\u4e8b\u9879\uff1a\u6bcf\u6b21\u5faa\u73af\u8fb9\u754c\u4e0d\u80fd\u9057\u6f0f\uff1b\u9700\u8981\u5904\u7406\u641c\u7d22\u7ed3\u679c\u4e0d\u5b58\u5728\u65f6\u7684\u60c5\u51b5\uff08\u4e0d\u4f1a\u51fa\u73b0\u6b7b\u5faa\u73af\uff09 C \u9012\u5f52 \u00b6 int binary_search ( const int arr [], int start , int end , int khey ) { if ( start > end ) return -1 ; int mid = start + ( end - start ) / 2 ; if ( arr [ mid ] > khey ) return binary_search ( arr , start , mid - 1 , khey ); else if ( arr [ mid ] < khey ) return binary_search ( arr , mid + 1 , end , khey ); else return mid ; } javascript \u9012\u5f52 \u00b6 Array . prototype . binary_search = function ( low , high , khey ) { if ( low > high ) { return - 1 ; } var mid = parseInt (( high + low ) / 2 ); if ( this [ mid ] > khey ) { return this . binary_search ( low , mid - 1 , khey ); } else if ( this [ mid ] < khey ) { return this . binary_search ( mid + 1 , high , khey ); } return mid ; } Python3 \u7248\u672c \u9012\u5f52 \u00b6 def binary_search ( arr , start , end , hkey ): if start > end : return - 1 mid = start + ( end - start ) / 2 if arr [ mid ] > hkey : return binary_search ( arr , start , mid - 1 , hkey ) if arr [ mid ] < hkey : return binary_search ( arr , mid + 1 , end , hkey ) return mid Python3 \u7248\u672c while \u5faa\u73af \u00b6 def binary_search ( arr , start , end , hkey ): while start <= end : mid = start + ( end - start ) if arr [ mid ] < hkey : start = mid + 1 elif arr [ mid ] > hkey : end = mid - 1 else : return mid \u5b9e\u9645\u6848\u4f8b \u00b6 \u4e8c\u5206\u6cd5\u641c\u7d22\u6709\u5e8f\u6570\u7ec4 \u00b6 function binSearch ( oldArr , data ) { // \u5982\u679c\u4f20\u5165\u65e0\u5e8f\u6570\u7ec4\uff0c\u9996\u5148\u6392\u5e8f let arr = qSort ( oldArr ); // \u8bbe\u7f6e\u521d\u59cb\u4e0a\u4e0b\u8fb9\u754c let upperBound = arr . length - 1 , lowerBound = 0 ; // \u5f00\u59cb\u5faa\u73af\uff08\u4e8c\u5206\uff09 while ( lowerBound <= upperBound ) { var mid = Math . floor (( upperBound + lowerBound ) / 2 ); if ( arr [ mid ] < data ) { lowerBound = mid + 1 ; } else if ( arr [ mid ] > data ) { upperBound = mid - 1 ; } else { return mid ; } } // \u6ca1\u6709\u627e\u5230\uff0c\u8fd4\u56de -1 return - 1 ; } var test = [ 1 , 2 , 3 , 4 , 5 , 6 ]; console . log ( binSearch ( test , 2 )); //\u4f4d\u7f6e\"1\" \u4e8c\u5206\u6cd5\u5b9e\u73b0\u5feb\u901f\u6392\u5e8f \u00b6 function qSort ( list ) { if ( list . length == 0 ) { return []; } //\u521b\u5efa\u4e24\u4e2a\u6570\u7ec4\uff0c\u4e00\u4e2a\u7528\u6765\u5b58\u653e\u6bd4\u57fa\u51c6\u5c0f\u7684\u5143\u7d20\uff0c\u53e6\u4e00\u4e2a\u5b58\u653e\u6bd4\u57fa\u51c6\u503c\u5927\u7684\u5143\u7d20 var left = []; var right = []; //\u57fa\u51c6\u503c\u53d6\u81ea\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20 var pivot = list [ 0 ]; //\u904d\u5386\u6570\u7ec4\uff0c\u6839\u636e\u5b83\u4eec\u4e0e\u57fa\u51c6\u503c\u7684\u5173\u7cfb\u653e\u5230\u5408\u9002\u7684\u6570\u7ec4\u4e2d for ( var i = 1 ; i < list . length ; i ++ ) { if ( list [ i ] < pivot ) { left . push ( list [ i ]); } else { right . push ( list [ i ]); } } //\u7136\u540e\u5bf9\u4e8e\u8f83\u5c0f\u7684\u6570\u7ec4\u548c\u8f83\u5927\u7684\u6570\u7ec4\u5206\u522b\u9012\u5f52\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570 return qSort ( left ). concat ( pivot , qSort ( right )); } var test = [ 4 , 3 , 5 , 1 , 2 ]; console . log ( qSort ( test )); //[1,2,3,4,5] \u63d2\u5165\u6392\u5e8f\uff0c\u9009\u62e9\u6392\u5e8f\uff0c\u5feb\u901f\u6392\u5e8f\uff0c\u5e0c\u5c14\u6392\u5e8f\u53c2\u8003\u4e0b\u9762\u94fe\u63a5 https://blog.csdn.net/charlene0824/article/details/51387165","title":"\u4e8c\u5206\u7b97\u6cd5"},{"location":"algre/part-two/#_1","text":"\u641c\u7d22\u8fc7\u7a0b\u4ece\u6570\u7ec4\u7684\u4e2d\u95f4\u5143\u7d20\u5f00\u59cb\uff0c\u5982\u679c\u4e2d\u95f4\u5143\u7d20\u6b63\u597d\u662f\u8981\u67e5\u627e\u7684\u5143\u7d20\uff0c\u5219\u641c\u7d22\u8fc7\u7a0b\u7ed3\u675f\uff1b\u5982\u679c\u67d0\u4e00\u7279\u5b9a\u5143\u7d20\u5927\u4e8e\u6216\u8005\u5c0f\u4e8e\u4e2d\u95f4\u5143\u7d20\uff0c\u5219\u5728\u6570\u7ec4\u5927\u4e8e\u6216\u5c0f\u4e8e\u4e2d\u95f4\u5143\u7d20\u7684\u90a3\u4e00\u534a\u4e2d\u67e5\u627e\uff0c\u800c\u4e14\u8ddf\u5f00\u59cb\u4e00\u6837\u4ece\u4e2d\u95f4\u5143\u7d20\u5f00\u59cb\u6bd4\u8f83\u3002\u5982\u679c\u5728\u67d0\u4e00\u6b65\u9aa4\u6570\u7ec4\u4e3a\u7a7a\uff0c\u5219\u4ee3\u8868\u627e\u4e0d\u5230\u3002\u8fd9\u79cd\u641c\u7d22\u7b97\u6cd5\u6bcf\u4e00\u6b21\u6bd4\u8f83\u90fd\u4f7f\u641c\u7d22\u8303\u56f4\u7f29\u5c0f\u4e00\u534a\u3002 \u65f6\u95f4\u590d\u6742\u5ea6\uff1a\u6298\u534a\u641c\u7d22\u6bcf\u6b21\u628a\u641c\u7d22\u533a\u57df\u51cf\u5c11\u4e00\u534a\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \u7a7a\u95f4\u590d\u6742\u5ea6\uff1a\u867d\u4ee5\u9012\u5f52\u5f62\u5f0f\u5b9a\u4e49\uff0c\u4f46\u662f \u5c3e\u9012\u5f52 \uff0c\u53ef\u6539\u5199\u4e3a\u5faa\u73af\u3002 \u4e8c\u5206\u67e5\u627e\u6709\u4e24\u79cd\u5b9e\u73b0\uff1awhile \u5faa\u73af\u548c\u9012\u5f52\u51fd\u6570\u8c03\u7528\uff08\u4e0d\u540c\u8bed\u8a00\u5b9e\u73b0\uff09 \u5f53while\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u8fd4\u56de\uff1b\u5982\u679c\u4e0d\u6ee1\u8db3\u6761\u4ef6\uff0c\u6539\u53d8\u5f00\u59cb\u548c\u7ed3\u675f\u503c\uff0c\u7ee7\u7eed\u5faa\u73af \u9012\u5f52\uff1a\u5f53\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u8fd4\u56deindex\uff1b\u4e0d\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u66f4\u6539\u8f93\u5165\u53c2\u6570\u9012\u5f52\u8c03\u7528 \u6ce8\u610f\u4e8b\u9879\uff1a\u6bcf\u6b21\u5faa\u73af\u8fb9\u754c\u4e0d\u80fd\u9057\u6f0f\uff1b\u9700\u8981\u5904\u7406\u641c\u7d22\u7ed3\u679c\u4e0d\u5b58\u5728\u65f6\u7684\u60c5\u51b5\uff08\u4e0d\u4f1a\u51fa\u73b0\u6b7b\u5faa\u73af\uff09","title":"\u4e8c\u5206\u641c\u7d22"},{"location":"algre/part-two/#c","text":"int binary_search ( const int arr [], int start , int end , int khey ) { if ( start > end ) return -1 ; int mid = start + ( end - start ) / 2 ; if ( arr [ mid ] > khey ) return binary_search ( arr , start , mid - 1 , khey ); else if ( arr [ mid ] < khey ) return binary_search ( arr , mid + 1 , end , khey ); else return mid ; }","title":"C \u9012\u5f52"},{"location":"algre/part-two/#javascript","text":"Array . prototype . binary_search = function ( low , high , khey ) { if ( low > high ) { return - 1 ; } var mid = parseInt (( high + low ) / 2 ); if ( this [ mid ] > khey ) { return this . binary_search ( low , mid - 1 , khey ); } else if ( this [ mid ] < khey ) { return this . binary_search ( mid + 1 , high , khey ); } return mid ; }","title":"javascript \u9012\u5f52"},{"location":"algre/part-two/#python3","text":"def binary_search ( arr , start , end , hkey ): if start > end : return - 1 mid = start + ( end - start ) / 2 if arr [ mid ] > hkey : return binary_search ( arr , start , mid - 1 , hkey ) if arr [ mid ] < hkey : return binary_search ( arr , mid + 1 , end , hkey ) return mid","title":"Python3 \u7248\u672c \u9012\u5f52"},{"location":"algre/part-two/#python3-while","text":"def binary_search ( arr , start , end , hkey ): while start <= end : mid = start + ( end - start ) if arr [ mid ] < hkey : start = mid + 1 elif arr [ mid ] > hkey : end = mid - 1 else : return mid","title":"Python3 \u7248\u672c while \u5faa\u73af"},{"location":"algre/part-two/#_2","text":"","title":"\u5b9e\u9645\u6848\u4f8b"},{"location":"algre/part-two/#_3","text":"function binSearch ( oldArr , data ) { // \u5982\u679c\u4f20\u5165\u65e0\u5e8f\u6570\u7ec4\uff0c\u9996\u5148\u6392\u5e8f let arr = qSort ( oldArr ); // \u8bbe\u7f6e\u521d\u59cb\u4e0a\u4e0b\u8fb9\u754c let upperBound = arr . length - 1 , lowerBound = 0 ; // \u5f00\u59cb\u5faa\u73af\uff08\u4e8c\u5206\uff09 while ( lowerBound <= upperBound ) { var mid = Math . floor (( upperBound + lowerBound ) / 2 ); if ( arr [ mid ] < data ) { lowerBound = mid + 1 ; } else if ( arr [ mid ] > data ) { upperBound = mid - 1 ; } else { return mid ; } } // \u6ca1\u6709\u627e\u5230\uff0c\u8fd4\u56de -1 return - 1 ; } var test = [ 1 , 2 , 3 , 4 , 5 , 6 ]; console . log ( binSearch ( test , 2 )); //\u4f4d\u7f6e\"1\"","title":"\u4e8c\u5206\u6cd5\u641c\u7d22\u6709\u5e8f\u6570\u7ec4"},{"location":"algre/part-two/#_4","text":"function qSort ( list ) { if ( list . length == 0 ) { return []; } //\u521b\u5efa\u4e24\u4e2a\u6570\u7ec4\uff0c\u4e00\u4e2a\u7528\u6765\u5b58\u653e\u6bd4\u57fa\u51c6\u5c0f\u7684\u5143\u7d20\uff0c\u53e6\u4e00\u4e2a\u5b58\u653e\u6bd4\u57fa\u51c6\u503c\u5927\u7684\u5143\u7d20 var left = []; var right = []; //\u57fa\u51c6\u503c\u53d6\u81ea\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20 var pivot = list [ 0 ]; //\u904d\u5386\u6570\u7ec4\uff0c\u6839\u636e\u5b83\u4eec\u4e0e\u57fa\u51c6\u503c\u7684\u5173\u7cfb\u653e\u5230\u5408\u9002\u7684\u6570\u7ec4\u4e2d for ( var i = 1 ; i < list . length ; i ++ ) { if ( list [ i ] < pivot ) { left . push ( list [ i ]); } else { right . push ( list [ i ]); } } //\u7136\u540e\u5bf9\u4e8e\u8f83\u5c0f\u7684\u6570\u7ec4\u548c\u8f83\u5927\u7684\u6570\u7ec4\u5206\u522b\u9012\u5f52\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570 return qSort ( left ). concat ( pivot , qSort ( right )); } var test = [ 4 , 3 , 5 , 1 , 2 ]; console . log ( qSort ( test )); //[1,2,3,4,5] \u63d2\u5165\u6392\u5e8f\uff0c\u9009\u62e9\u6392\u5e8f\uff0c\u5feb\u901f\u6392\u5e8f\uff0c\u5e0c\u5c14\u6392\u5e8f\u53c2\u8003\u4e0b\u9762\u94fe\u63a5 https://blog.csdn.net/charlene0824/article/details/51387165","title":"\u4e8c\u5206\u6cd5\u5b9e\u73b0\u5feb\u901f\u6392\u5e8f"},{"location":"algre/%E4%BA%8C%E5%88%86%E6%B3%95/","text":"\u4e8c\u5206\u641c\u7d22 \u00b6 \u641c\u7d22\u8fc7\u7a0b\u4ece\u6570\u7ec4\u7684\u4e2d\u95f4\u5143\u7d20\u5f00\u59cb\uff0c\u5982\u679c\u4e2d\u95f4\u5143\u7d20\u6b63\u597d\u662f\u8981\u67e5\u627e\u7684\u5143\u7d20\uff0c\u5219\u641c\u7d22\u8fc7\u7a0b\u7ed3\u675f\uff1b\u5982\u679c\u67d0\u4e00\u7279\u5b9a\u5143\u7d20\u5927\u4e8e\u6216\u8005\u5c0f\u4e8e\u4e2d\u95f4\u5143\u7d20\uff0c\u5219\u5728\u6570\u7ec4\u5927\u4e8e\u6216\u5c0f\u4e8e\u4e2d\u95f4\u5143\u7d20\u7684\u90a3\u4e00\u534a\u4e2d\u67e5\u627e\uff0c\u800c\u4e14\u8ddf\u5f00\u59cb\u4e00\u6837\u4ece\u4e2d\u95f4\u5143\u7d20\u5f00\u59cb\u6bd4\u8f83\u3002\u5982\u679c\u5728\u67d0\u4e00\u6b65\u9aa4\u6570\u7ec4\u4e3a\u7a7a\uff0c\u5219\u4ee3\u8868\u627e\u4e0d\u5230\u3002\u8fd9\u79cd\u641c\u7d22\u7b97\u6cd5\u6bcf\u4e00\u6b21\u6bd4\u8f83\u90fd\u4f7f\u641c\u7d22\u8303\u56f4\u7f29\u5c0f\u4e00\u534a\u3002 \u65f6\u95f4\u590d\u6742\u5ea6\uff1a\u6298\u534a\u641c\u7d22\u6bcf\u6b21\u628a\u641c\u7d22\u533a\u57df\u51cf\u5c11\u4e00\u534a\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \u7a7a\u95f4\u590d\u6742\u5ea6\uff1a\u867d\u4ee5\u9012\u5f52\u5f62\u5f0f\u5b9a\u4e49\uff0c\u4f46\u662f \u5c3e\u9012\u5f52 \uff0c\u53ef\u6539\u5199\u4e3a\u5faa\u73af\u3002 \u4e8c\u5206\u67e5\u627e\u6709\u4e24\u79cd\u5b9e\u73b0\uff1awhile \u5faa\u73af\u548c\u9012\u5f52\u51fd\u6570\u8c03\u7528\uff08\u4e0d\u540c\u8bed\u8a00\u5b9e\u73b0\uff09 \u5f53while\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u8fd4\u56de\uff1b\u5982\u679c\u4e0d\u6ee1\u8db3\u6761\u4ef6\uff0c\u6539\u53d8\u5f00\u59cb\u548c\u7ed3\u675f\u503c\uff0c\u7ee7\u7eed\u5faa\u73af \u9012\u5f52\uff1a\u5f53\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u8fd4\u56deindex\uff1b\u4e0d\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u66f4\u6539\u8f93\u5165\u53c2\u6570\u9012\u5f52\u8c03\u7528 \u6ce8\u610f\u4e8b\u9879\uff1a\u6bcf\u6b21\u5faa\u73af\u8fb9\u754c\u4e0d\u80fd\u9057\u6f0f\uff1b\u9700\u8981\u5904\u7406\u641c\u7d22\u7ed3\u679c\u4e0d\u5b58\u5728\u65f6\u7684\u60c5\u51b5\uff08\u4e0d\u4f1a\u51fa\u73b0\u6b7b\u5faa\u73af\uff09 C \u9012\u5f52 \u00b6 int binary_search ( const int arr [], int start , int end , int khey ) { if ( start > end ) return -1 ; int mid = start + ( end - start ) / 2 ; if ( arr [ mid ] > khey ) return binary_search ( arr , start , mid - 1 , khey ); else if ( arr [ mid ] < khey ) return binary_search ( arr , mid + 1 , end , khey ); else return mid ; } javascript \u9012\u5f52 \u00b6 Array . prototype . binary_search = function ( low , high , khey ) { if ( low > high ) { return - 1 ; } var mid = parseInt (( high + low ) / 2 ); if ( this [ mid ] > khey ) { return this . binary_search ( low , mid - 1 , khey ); } else if ( this [ mid ] < khey ) { return this . binary_search ( mid + 1 , high , khey ); } return mid ; } Python3 \u7248\u672c \u9012\u5f52 \u00b6 def binary_search ( arr , start , end , hkey ): if start > end : return - 1 mid = start + ( end - start ) / 2 if arr [ mid ] > hkey : return binary_search ( arr , start , mid - 1 , hkey ) if arr [ mid ] < hkey : return binary_search ( arr , mid + 1 , end , hkey ) return mid Python3 \u7248\u672c while \u5faa\u73af \u00b6 def binary_search ( arr , start , end , hkey ): while start <= end : mid = start + ( end - start ) if arr [ mid ] < hkey : start = mid + 1 elif arr [ mid ] > hkey : end = mid - 1 else : return mid \u5b9e\u9645\u6848\u4f8b \u00b6 \u4e8c\u5206\u6cd5\u641c\u7d22\u6709\u5e8f\u6570\u7ec4 \u00b6 function binSearch ( oldArr , data ) { // \u5982\u679c\u4f20\u5165\u65e0\u5e8f\u6570\u7ec4\uff0c\u9996\u5148\u6392\u5e8f let arr = qSort ( oldArr ); // \u8bbe\u7f6e\u521d\u59cb\u4e0a\u4e0b\u8fb9\u754c let upperBound = arr . length - 1 , lowerBound = 0 ; // \u5f00\u59cb\u5faa\u73af\uff08\u4e8c\u5206\uff09 while ( lowerBound <= upperBound ) { var mid = Math . floor (( upperBound + lowerBound ) / 2 ); if ( arr [ mid ] < data ) { lowerBound = mid + 1 ; } else if ( arr [ mid ] > data ) { upperBound = mid - 1 ; } else { return mid ; } } // \u6ca1\u6709\u627e\u5230\uff0c\u8fd4\u56de -1 return - 1 ; } var test = [ 1 , 2 , 3 , 4 , 5 , 6 ]; console . log ( binSearch ( test , 2 )); //\u4f4d\u7f6e\"1\" \u4e8c\u5206\u6cd5\u5b9e\u73b0\u5feb\u901f\u6392\u5e8f \u00b6 function qSort ( list ) { if ( list . length == 0 ) { return []; } //\u521b\u5efa\u4e24\u4e2a\u6570\u7ec4\uff0c\u4e00\u4e2a\u7528\u6765\u5b58\u653e\u6bd4\u57fa\u51c6\u5c0f\u7684\u5143\u7d20\uff0c\u53e6\u4e00\u4e2a\u5b58\u653e\u6bd4\u57fa\u51c6\u503c\u5927\u7684\u5143\u7d20 var left = []; var right = []; //\u57fa\u51c6\u503c\u53d6\u81ea\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20 var pivot = list [ 0 ]; //\u904d\u5386\u6570\u7ec4\uff0c\u6839\u636e\u5b83\u4eec\u4e0e\u57fa\u51c6\u503c\u7684\u5173\u7cfb\u653e\u5230\u5408\u9002\u7684\u6570\u7ec4\u4e2d for ( var i = 1 ; i < list . length ; i ++ ) { if ( list [ i ] < pivot ) { left . push ( list [ i ]); } else { right . push ( list [ i ]); } } //\u7136\u540e\u5bf9\u4e8e\u8f83\u5c0f\u7684\u6570\u7ec4\u548c\u8f83\u5927\u7684\u6570\u7ec4\u5206\u522b\u9012\u5f52\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570 return qSort ( left ). concat ( pivot , qSort ( right )); } var test = [ 4 , 3 , 5 , 1 , 2 ]; console . log ( qSort ( test )); //[1,2,3,4,5] \u63d2\u5165\u6392\u5e8f\uff0c\u9009\u62e9\u6392\u5e8f\uff0c\u5feb\u901f\u6392\u5e8f\uff0c\u5e0c\u5c14\u6392\u5e8f\u53c2\u8003\u4e0b\u9762\u94fe\u63a5 https://blog.csdn.net/charlene0824/article/details/51387165","title":"\u4e8c\u5206\u6cd5"},{"location":"algre/%E4%BA%8C%E5%88%86%E6%B3%95/#_1","text":"\u641c\u7d22\u8fc7\u7a0b\u4ece\u6570\u7ec4\u7684\u4e2d\u95f4\u5143\u7d20\u5f00\u59cb\uff0c\u5982\u679c\u4e2d\u95f4\u5143\u7d20\u6b63\u597d\u662f\u8981\u67e5\u627e\u7684\u5143\u7d20\uff0c\u5219\u641c\u7d22\u8fc7\u7a0b\u7ed3\u675f\uff1b\u5982\u679c\u67d0\u4e00\u7279\u5b9a\u5143\u7d20\u5927\u4e8e\u6216\u8005\u5c0f\u4e8e\u4e2d\u95f4\u5143\u7d20\uff0c\u5219\u5728\u6570\u7ec4\u5927\u4e8e\u6216\u5c0f\u4e8e\u4e2d\u95f4\u5143\u7d20\u7684\u90a3\u4e00\u534a\u4e2d\u67e5\u627e\uff0c\u800c\u4e14\u8ddf\u5f00\u59cb\u4e00\u6837\u4ece\u4e2d\u95f4\u5143\u7d20\u5f00\u59cb\u6bd4\u8f83\u3002\u5982\u679c\u5728\u67d0\u4e00\u6b65\u9aa4\u6570\u7ec4\u4e3a\u7a7a\uff0c\u5219\u4ee3\u8868\u627e\u4e0d\u5230\u3002\u8fd9\u79cd\u641c\u7d22\u7b97\u6cd5\u6bcf\u4e00\u6b21\u6bd4\u8f83\u90fd\u4f7f\u641c\u7d22\u8303\u56f4\u7f29\u5c0f\u4e00\u534a\u3002 \u65f6\u95f4\u590d\u6742\u5ea6\uff1a\u6298\u534a\u641c\u7d22\u6bcf\u6b21\u628a\u641c\u7d22\u533a\u57df\u51cf\u5c11\u4e00\u534a\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \u7a7a\u95f4\u590d\u6742\u5ea6\uff1a\u867d\u4ee5\u9012\u5f52\u5f62\u5f0f\u5b9a\u4e49\uff0c\u4f46\u662f \u5c3e\u9012\u5f52 \uff0c\u53ef\u6539\u5199\u4e3a\u5faa\u73af\u3002 \u4e8c\u5206\u67e5\u627e\u6709\u4e24\u79cd\u5b9e\u73b0\uff1awhile \u5faa\u73af\u548c\u9012\u5f52\u51fd\u6570\u8c03\u7528\uff08\u4e0d\u540c\u8bed\u8a00\u5b9e\u73b0\uff09 \u5f53while\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u8fd4\u56de\uff1b\u5982\u679c\u4e0d\u6ee1\u8db3\u6761\u4ef6\uff0c\u6539\u53d8\u5f00\u59cb\u548c\u7ed3\u675f\u503c\uff0c\u7ee7\u7eed\u5faa\u73af \u9012\u5f52\uff1a\u5f53\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u8fd4\u56deindex\uff1b\u4e0d\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u66f4\u6539\u8f93\u5165\u53c2\u6570\u9012\u5f52\u8c03\u7528 \u6ce8\u610f\u4e8b\u9879\uff1a\u6bcf\u6b21\u5faa\u73af\u8fb9\u754c\u4e0d\u80fd\u9057\u6f0f\uff1b\u9700\u8981\u5904\u7406\u641c\u7d22\u7ed3\u679c\u4e0d\u5b58\u5728\u65f6\u7684\u60c5\u51b5\uff08\u4e0d\u4f1a\u51fa\u73b0\u6b7b\u5faa\u73af\uff09","title":"\u4e8c\u5206\u641c\u7d22"},{"location":"algre/%E4%BA%8C%E5%88%86%E6%B3%95/#c","text":"int binary_search ( const int arr [], int start , int end , int khey ) { if ( start > end ) return -1 ; int mid = start + ( end - start ) / 2 ; if ( arr [ mid ] > khey ) return binary_search ( arr , start , mid - 1 , khey ); else if ( arr [ mid ] < khey ) return binary_search ( arr , mid + 1 , end , khey ); else return mid ; }","title":"C \u9012\u5f52"},{"location":"algre/%E4%BA%8C%E5%88%86%E6%B3%95/#javascript","text":"Array . prototype . binary_search = function ( low , high , khey ) { if ( low > high ) { return - 1 ; } var mid = parseInt (( high + low ) / 2 ); if ( this [ mid ] > khey ) { return this . binary_search ( low , mid - 1 , khey ); } else if ( this [ mid ] < khey ) { return this . binary_search ( mid + 1 , high , khey ); } return mid ; }","title":"javascript \u9012\u5f52"},{"location":"algre/%E4%BA%8C%E5%88%86%E6%B3%95/#python3","text":"def binary_search ( arr , start , end , hkey ): if start > end : return - 1 mid = start + ( end - start ) / 2 if arr [ mid ] > hkey : return binary_search ( arr , start , mid - 1 , hkey ) if arr [ mid ] < hkey : return binary_search ( arr , mid + 1 , end , hkey ) return mid","title":"Python3 \u7248\u672c \u9012\u5f52"},{"location":"algre/%E4%BA%8C%E5%88%86%E6%B3%95/#python3-while","text":"def binary_search ( arr , start , end , hkey ): while start <= end : mid = start + ( end - start ) if arr [ mid ] < hkey : start = mid + 1 elif arr [ mid ] > hkey : end = mid - 1 else : return mid","title":"Python3 \u7248\u672c while \u5faa\u73af"},{"location":"algre/%E4%BA%8C%E5%88%86%E6%B3%95/#_2","text":"","title":"\u5b9e\u9645\u6848\u4f8b"},{"location":"algre/%E4%BA%8C%E5%88%86%E6%B3%95/#_3","text":"function binSearch ( oldArr , data ) { // \u5982\u679c\u4f20\u5165\u65e0\u5e8f\u6570\u7ec4\uff0c\u9996\u5148\u6392\u5e8f let arr = qSort ( oldArr ); // \u8bbe\u7f6e\u521d\u59cb\u4e0a\u4e0b\u8fb9\u754c let upperBound = arr . length - 1 , lowerBound = 0 ; // \u5f00\u59cb\u5faa\u73af\uff08\u4e8c\u5206\uff09 while ( lowerBound <= upperBound ) { var mid = Math . floor (( upperBound + lowerBound ) / 2 ); if ( arr [ mid ] < data ) { lowerBound = mid + 1 ; } else if ( arr [ mid ] > data ) { upperBound = mid - 1 ; } else { return mid ; } } // \u6ca1\u6709\u627e\u5230\uff0c\u8fd4\u56de -1 return - 1 ; } var test = [ 1 , 2 , 3 , 4 , 5 , 6 ]; console . log ( binSearch ( test , 2 )); //\u4f4d\u7f6e\"1\"","title":"\u4e8c\u5206\u6cd5\u641c\u7d22\u6709\u5e8f\u6570\u7ec4"},{"location":"algre/%E4%BA%8C%E5%88%86%E6%B3%95/#_4","text":"function qSort ( list ) { if ( list . length == 0 ) { return []; } //\u521b\u5efa\u4e24\u4e2a\u6570\u7ec4\uff0c\u4e00\u4e2a\u7528\u6765\u5b58\u653e\u6bd4\u57fa\u51c6\u5c0f\u7684\u5143\u7d20\uff0c\u53e6\u4e00\u4e2a\u5b58\u653e\u6bd4\u57fa\u51c6\u503c\u5927\u7684\u5143\u7d20 var left = []; var right = []; //\u57fa\u51c6\u503c\u53d6\u81ea\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20 var pivot = list [ 0 ]; //\u904d\u5386\u6570\u7ec4\uff0c\u6839\u636e\u5b83\u4eec\u4e0e\u57fa\u51c6\u503c\u7684\u5173\u7cfb\u653e\u5230\u5408\u9002\u7684\u6570\u7ec4\u4e2d for ( var i = 1 ; i < list . length ; i ++ ) { if ( list [ i ] < pivot ) { left . push ( list [ i ]); } else { right . push ( list [ i ]); } } //\u7136\u540e\u5bf9\u4e8e\u8f83\u5c0f\u7684\u6570\u7ec4\u548c\u8f83\u5927\u7684\u6570\u7ec4\u5206\u522b\u9012\u5f52\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570 return qSort ( left ). concat ( pivot , qSort ( right )); } var test = [ 4 , 3 , 5 , 1 , 2 ]; console . log ( qSort ( test )); //[1,2,3,4,5] \u63d2\u5165\u6392\u5e8f\uff0c\u9009\u62e9\u6392\u5e8f\uff0c\u5feb\u901f\u6392\u5e8f\uff0c\u5e0c\u5c14\u6392\u5e8f\u53c2\u8003\u4e0b\u9762\u94fe\u63a5 https://blog.csdn.net/charlene0824/article/details/51387165","title":"\u4e8c\u5206\u6cd5\u5b9e\u73b0\u5feb\u901f\u6392\u5e8f"},{"location":"algre/%E5%88%86%E6%B2%BB%E7%AE%97%E6%B3%95/","text":"\u5206\u6cbb\u7b97\u6cd5 \u00b6 \u5206\u6cbb\u7b97\u6cd5\u7684\u57fa\u672c\u601d\u60f3\u662f\u5c06\u4e00\u4e2a\u89c4\u6a21\u4e3aN\u7684\u95ee\u9898\u5206\u89e3\u4e3aK\u4e2a\u89c4\u6a21\u8f83\u5c0f\u7684\u5b50\u95ee\u9898\uff0c\u8fd9\u4e9b\u5b50\u95ee\u9898\u76f8\u4e92\u72ec\u7acb\u4e14\u4e0e\u539f\u95ee\u9898\u6027\u8d28\u76f8\u540c\u3002\u6c42\u51fa\u5b50\u95ee\u9898\u7684\u89e3\uff0c\u5c31\u53ef\u5f97\u5230\u539f\u95ee\u9898\u7684\u89e3\u3002\u5373\u4e00\u79cd\u5206\u76ee\u6807\u5b8c\u6210\u7a0b\u5e8f\u7b97\u6cd5\uff0c\u7b80\u5355\u95ee\u9898\u53ef\u7528\u4e8c\u5206\u6cd5\u5b8c\u6210\u3002 \u5f53\u6211\u4eec\u6c42\u89e3\u67d0\u4e9b\u95ee\u9898\u65f6\uff0c\u7531\u4e8e\u8fd9\u4e9b\u95ee\u9898\u8981\u5904\u7406\u7684\u6570\u636e\u76f8\u5f53\u591a\uff0c\u6216\u6c42\u89e3\u8fc7\u7a0b\u76f8\u5f53\u590d\u6742\uff0c\u4f7f\u5f97\u76f4\u63a5\u6c42\u89e3\u6cd5\u5728\u65f6\u95f4\u4e0a\u76f8\u5f53\u957f\uff0c\u6216\u8005\u6839\u672c\u65e0\u6cd5\u76f4\u63a5\u6c42\u51fa\u3002\u5bf9\u4e8e\u8fd9\u7c7b\u95ee\u9898\uff0c\u6211\u4eec\u5f80\u5f80\u5148\u628a\u5b83\u5206\u89e3\u6210\u51e0\u4e2a\u5b50\u95ee\u9898\uff0c\u627e\u5230\u6c42\u51fa\u8fd9\u51e0\u4e2a\u5b50\u95ee\u9898\u7684\u89e3\u6cd5\u540e\uff0c\u518d\u627e\u5230\u5408\u9002\u7684\u65b9\u6cd5\uff0c\u628a\u5b83\u4eec\u7ec4\u5408\u6210\u6c42\u6574\u4e2a\u95ee\u9898\u7684\u89e3\u6cd5\u3002\u5982\u679c\u8fd9\u4e9b\u5b50\u95ee\u9898\u8fd8\u8f83\u5927\uff0c\u96be\u4ee5\u89e3\u51b3\uff0c\u53ef\u4ee5\u518d\u628a\u5b83\u4eec\u5206\u6210\u51e0\u4e2a\u66f4\u5c0f\u7684\u5b50\u95ee\u9898\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u76f4\u81f3\u53ef\u4ee5\u76f4\u63a5\u6c42\u51fa\u89e3\u4e3a\u6b62\u3002 \u5229\u7528\u5206\u6cbb\u7b56\u7565\u6c42\u89e3\u65f6\uff0c\u6240\u9700\u65f6\u95f4\u53d6\u51b3\u4e8e\u5206\u89e3\u540e\u5b50\u95ee\u9898\u7684\u4e2a\u6570\u3001\u5b50\u95ee\u9898\u7684\u89c4\u6a21\u5927\u5c0f\u7b49\u56e0\u7d20\uff0c\u800c\u4e8c\u5206\u6cd5\uff0c\u7531\u4e8e\u5176\u5212\u5206\u7684\u7b80\u5355\u548c\u5747\u5300\u7684\u7279\u70b9\uff0c\u662f\u7ecf\u5e38\u91c7\u7528\u7684\u4e00\u79cd\u6709\u6548\u7684\u65b9\u6cd5\uff0c\u4f8b\u5982\u4e8c\u5206\u6cd5\u68c0\u7d22\u3002 \u89e3\u9898\u7684\u4e00\u822c\u6b65\u9aa4\uff1a \uff081\uff09\u5206\u89e3\uff0c\u5c06\u8981\u89e3\u51b3\u7684\u95ee\u9898\u5212\u5206\u6210\u82e5\u5e72\u89c4\u6a21\u8f83\u5c0f\u7684\u540c\u7c7b\u95ee\u9898\uff1b \uff082\uff09\u6c42\u89e3\uff0c\u5f53\u5b50\u95ee\u9898\u5212\u5206\u5f97\u8db3\u591f\u5c0f\u65f6\uff0c\u7528\u8f83\u7b80\u5355\u7684\u65b9\u6cd5\u89e3\u51b3\uff1b \uff083\uff09\u5408\u5e76\uff0c\u6309\u539f\u95ee\u9898\u7684\u8981\u6c42\uff0c\u5c06\u5b50\u95ee\u9898\u7684\u89e3\u9010\u5c42\u5408\u5e76\u6784\u6210\u539f\u95ee\u9898\u7684\u89e3\u3002 \u5e94\u7528\u573a\u666f \u00b6 \u8fd0\u7528\u5206\u6cbb\u7b56\u7565\u89e3\u51b3\u7684\u95ee\u9898\u4e00\u822c\u6765\u8bf4\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a 1\u3001\u539f\u95ee\u9898\u53ef\u4ee5\u5206\u89e3\u4e3a\u591a\u4e2a\u5b50\u95ee\u9898 \u8fd9\u4e9b\u5b50\u95ee\u9898\u4e0e\u539f\u95ee\u9898\u76f8\u6bd4\uff0c\u53ea\u662f\u95ee\u9898\u7684\u89c4\u6a21\u6709\u6240\u964d\u4f4e\uff0c\u5176\u7ed3\u6784\u548c\u6c42\u89e3\u65b9\u6cd5\u4e0e\u539f\u95ee\u9898\u76f8\u540c\u6216\u76f8\u4f3c\u3002 2\u3001\u539f\u95ee\u9898\u5728\u5206\u89e3\u8fc7\u7a0b\u4e2d\uff0c\u9012\u5f52\u5730\u6c42\u89e3\u5b50\u95ee\u9898 \u7531\u4e8e\u9012\u5f52\u90fd\u5fc5\u987b\u6709\u4e00\u4e2a\u7ec8\u6b62\u6761\u4ef6\uff0c\u56e0\u6b64\uff0c\u5f53\u5206\u89e3\u540e\u7684\u5b50\u95ee\u9898\u89c4\u6a21\u8db3\u591f\u5c0f\u65f6\uff0c\u5e94\u80fd\u591f\u76f4\u63a5\u6c42\u89e3\u3002 3\u3001\u5728\u6c42\u89e3\u5e76\u5f97\u5230\u5404\u4e2a\u5b50\u95ee\u9898\u7684\u89e3\u540e \u5e94\u80fd\u591f\u91c7\u7528\u67d0\u79cd\u65b9\u5f0f\u3001\u65b9\u6cd5\u5408\u5e76\u6216\u6784\u9020\u51fa\u539f\u95ee\u9898\u7684\u89e3\u3002 \u4e0d\u96be\u53d1\u73b0\uff0c\u7531\u4e8e\u5b50\u95ee\u9898\u4e0e\u539f\u95ee\u9898\u5728\u7ed3\u6784\u548c\u89e3\u6cd5\u4e0a\u7684\u76f8\u4f3c\u6027\uff0c\u7528\u5206\u6cbb\u65b9\u6cd5\u89e3\u51b3\u7684\u95ee\u9898\uff0c\u5927\u90fd\u91c7\u7528\u4e86\u9012\u5f52\u7684\u5f62\u5f0f\u3002\u5728\u5404\u79cd\u6392\u5e8f\u65b9\u6cd5\u4e2d\uff0c\u5982\u5f52\u5e76\u6392\u5e8f\u3001\u5806\u6392\u5e8f\u3001\u5feb\u901f\u6392\u5e8f\u7b49\uff0c\u90fd\u5b58\u5728\u6709\u5206\u6cbb\u7684\u601d\u60f3\u3002 pow(x, n) \u00b6 // \u8ba1\u7b97\u9636\u4e58\uff08\u628a\u9636\u4e58\u8f6c\u6362\u6210\u666e\u901a\u4e58\u6cd5\uff0c\u5206\u6cbb\u7b97\u6cd5\uff0c\u9012\u5f52\u5b9e\u73b0\uff09 var myPow = function ( x , n ) { if ( n == 0 ) return 1 ; // \u8d1f\u6570\u7684\u9636\u4e58 if ( n < 0 ) { return 1 / myPow ( x , - n ); } // \u67d0\u4e2a\u6570\u7684\u5947\u6570\u6b21\u65b9 else if ( n % 2 ) { return x * myPow ( x , n - 1 ); } // \u67d0\u4e2a\u6570\u7684\u5076\u6570\u6b21\u65b9 else { return myPow ( x * x , n / 2 ); } }; // \u7b2c\u4e8c\u79cd\u5b9e\u73b0\u601d\u8def var myPow = function ( x , n ) { if ( n < 0 ) { n = - n ; x = 1 / x ; } if ( x == 1 ) return 1 ; let res = 1 ; // \u4e0b\u9762\u662f\u4f4d\u8fd0\u7b97\uff0c\u901f\u5ea6\u5feb\uff0c\u65e5\u5e38\u4e0d\u4f1a\u8fd9\u6837\u4f7f\u7528 for ( let i = n ; i != 0 ; i = i >>> 1 ){ if ( i & 1 ) res *= x ; x *= x ; } return res ; };","title":"**\u5206\u6cbb\u7b97\u6cd5**"},{"location":"algre/%E5%88%86%E6%B2%BB%E7%AE%97%E6%B3%95/#_1","text":"\u5206\u6cbb\u7b97\u6cd5\u7684\u57fa\u672c\u601d\u60f3\u662f\u5c06\u4e00\u4e2a\u89c4\u6a21\u4e3aN\u7684\u95ee\u9898\u5206\u89e3\u4e3aK\u4e2a\u89c4\u6a21\u8f83\u5c0f\u7684\u5b50\u95ee\u9898\uff0c\u8fd9\u4e9b\u5b50\u95ee\u9898\u76f8\u4e92\u72ec\u7acb\u4e14\u4e0e\u539f\u95ee\u9898\u6027\u8d28\u76f8\u540c\u3002\u6c42\u51fa\u5b50\u95ee\u9898\u7684\u89e3\uff0c\u5c31\u53ef\u5f97\u5230\u539f\u95ee\u9898\u7684\u89e3\u3002\u5373\u4e00\u79cd\u5206\u76ee\u6807\u5b8c\u6210\u7a0b\u5e8f\u7b97\u6cd5\uff0c\u7b80\u5355\u95ee\u9898\u53ef\u7528\u4e8c\u5206\u6cd5\u5b8c\u6210\u3002 \u5f53\u6211\u4eec\u6c42\u89e3\u67d0\u4e9b\u95ee\u9898\u65f6\uff0c\u7531\u4e8e\u8fd9\u4e9b\u95ee\u9898\u8981\u5904\u7406\u7684\u6570\u636e\u76f8\u5f53\u591a\uff0c\u6216\u6c42\u89e3\u8fc7\u7a0b\u76f8\u5f53\u590d\u6742\uff0c\u4f7f\u5f97\u76f4\u63a5\u6c42\u89e3\u6cd5\u5728\u65f6\u95f4\u4e0a\u76f8\u5f53\u957f\uff0c\u6216\u8005\u6839\u672c\u65e0\u6cd5\u76f4\u63a5\u6c42\u51fa\u3002\u5bf9\u4e8e\u8fd9\u7c7b\u95ee\u9898\uff0c\u6211\u4eec\u5f80\u5f80\u5148\u628a\u5b83\u5206\u89e3\u6210\u51e0\u4e2a\u5b50\u95ee\u9898\uff0c\u627e\u5230\u6c42\u51fa\u8fd9\u51e0\u4e2a\u5b50\u95ee\u9898\u7684\u89e3\u6cd5\u540e\uff0c\u518d\u627e\u5230\u5408\u9002\u7684\u65b9\u6cd5\uff0c\u628a\u5b83\u4eec\u7ec4\u5408\u6210\u6c42\u6574\u4e2a\u95ee\u9898\u7684\u89e3\u6cd5\u3002\u5982\u679c\u8fd9\u4e9b\u5b50\u95ee\u9898\u8fd8\u8f83\u5927\uff0c\u96be\u4ee5\u89e3\u51b3\uff0c\u53ef\u4ee5\u518d\u628a\u5b83\u4eec\u5206\u6210\u51e0\u4e2a\u66f4\u5c0f\u7684\u5b50\u95ee\u9898\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u76f4\u81f3\u53ef\u4ee5\u76f4\u63a5\u6c42\u51fa\u89e3\u4e3a\u6b62\u3002 \u5229\u7528\u5206\u6cbb\u7b56\u7565\u6c42\u89e3\u65f6\uff0c\u6240\u9700\u65f6\u95f4\u53d6\u51b3\u4e8e\u5206\u89e3\u540e\u5b50\u95ee\u9898\u7684\u4e2a\u6570\u3001\u5b50\u95ee\u9898\u7684\u89c4\u6a21\u5927\u5c0f\u7b49\u56e0\u7d20\uff0c\u800c\u4e8c\u5206\u6cd5\uff0c\u7531\u4e8e\u5176\u5212\u5206\u7684\u7b80\u5355\u548c\u5747\u5300\u7684\u7279\u70b9\uff0c\u662f\u7ecf\u5e38\u91c7\u7528\u7684\u4e00\u79cd\u6709\u6548\u7684\u65b9\u6cd5\uff0c\u4f8b\u5982\u4e8c\u5206\u6cd5\u68c0\u7d22\u3002 \u89e3\u9898\u7684\u4e00\u822c\u6b65\u9aa4\uff1a \uff081\uff09\u5206\u89e3\uff0c\u5c06\u8981\u89e3\u51b3\u7684\u95ee\u9898\u5212\u5206\u6210\u82e5\u5e72\u89c4\u6a21\u8f83\u5c0f\u7684\u540c\u7c7b\u95ee\u9898\uff1b \uff082\uff09\u6c42\u89e3\uff0c\u5f53\u5b50\u95ee\u9898\u5212\u5206\u5f97\u8db3\u591f\u5c0f\u65f6\uff0c\u7528\u8f83\u7b80\u5355\u7684\u65b9\u6cd5\u89e3\u51b3\uff1b \uff083\uff09\u5408\u5e76\uff0c\u6309\u539f\u95ee\u9898\u7684\u8981\u6c42\uff0c\u5c06\u5b50\u95ee\u9898\u7684\u89e3\u9010\u5c42\u5408\u5e76\u6784\u6210\u539f\u95ee\u9898\u7684\u89e3\u3002","title":"\u5206\u6cbb\u7b97\u6cd5"},{"location":"algre/%E5%88%86%E6%B2%BB%E7%AE%97%E6%B3%95/#_2","text":"\u8fd0\u7528\u5206\u6cbb\u7b56\u7565\u89e3\u51b3\u7684\u95ee\u9898\u4e00\u822c\u6765\u8bf4\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a 1\u3001\u539f\u95ee\u9898\u53ef\u4ee5\u5206\u89e3\u4e3a\u591a\u4e2a\u5b50\u95ee\u9898 \u8fd9\u4e9b\u5b50\u95ee\u9898\u4e0e\u539f\u95ee\u9898\u76f8\u6bd4\uff0c\u53ea\u662f\u95ee\u9898\u7684\u89c4\u6a21\u6709\u6240\u964d\u4f4e\uff0c\u5176\u7ed3\u6784\u548c\u6c42\u89e3\u65b9\u6cd5\u4e0e\u539f\u95ee\u9898\u76f8\u540c\u6216\u76f8\u4f3c\u3002 2\u3001\u539f\u95ee\u9898\u5728\u5206\u89e3\u8fc7\u7a0b\u4e2d\uff0c\u9012\u5f52\u5730\u6c42\u89e3\u5b50\u95ee\u9898 \u7531\u4e8e\u9012\u5f52\u90fd\u5fc5\u987b\u6709\u4e00\u4e2a\u7ec8\u6b62\u6761\u4ef6\uff0c\u56e0\u6b64\uff0c\u5f53\u5206\u89e3\u540e\u7684\u5b50\u95ee\u9898\u89c4\u6a21\u8db3\u591f\u5c0f\u65f6\uff0c\u5e94\u80fd\u591f\u76f4\u63a5\u6c42\u89e3\u3002 3\u3001\u5728\u6c42\u89e3\u5e76\u5f97\u5230\u5404\u4e2a\u5b50\u95ee\u9898\u7684\u89e3\u540e \u5e94\u80fd\u591f\u91c7\u7528\u67d0\u79cd\u65b9\u5f0f\u3001\u65b9\u6cd5\u5408\u5e76\u6216\u6784\u9020\u51fa\u539f\u95ee\u9898\u7684\u89e3\u3002 \u4e0d\u96be\u53d1\u73b0\uff0c\u7531\u4e8e\u5b50\u95ee\u9898\u4e0e\u539f\u95ee\u9898\u5728\u7ed3\u6784\u548c\u89e3\u6cd5\u4e0a\u7684\u76f8\u4f3c\u6027\uff0c\u7528\u5206\u6cbb\u65b9\u6cd5\u89e3\u51b3\u7684\u95ee\u9898\uff0c\u5927\u90fd\u91c7\u7528\u4e86\u9012\u5f52\u7684\u5f62\u5f0f\u3002\u5728\u5404\u79cd\u6392\u5e8f\u65b9\u6cd5\u4e2d\uff0c\u5982\u5f52\u5e76\u6392\u5e8f\u3001\u5806\u6392\u5e8f\u3001\u5feb\u901f\u6392\u5e8f\u7b49\uff0c\u90fd\u5b58\u5728\u6709\u5206\u6cbb\u7684\u601d\u60f3\u3002","title":"\u5e94\u7528\u573a\u666f"},{"location":"algre/%E5%88%86%E6%B2%BB%E7%AE%97%E6%B3%95/#powx-n","text":"// \u8ba1\u7b97\u9636\u4e58\uff08\u628a\u9636\u4e58\u8f6c\u6362\u6210\u666e\u901a\u4e58\u6cd5\uff0c\u5206\u6cbb\u7b97\u6cd5\uff0c\u9012\u5f52\u5b9e\u73b0\uff09 var myPow = function ( x , n ) { if ( n == 0 ) return 1 ; // \u8d1f\u6570\u7684\u9636\u4e58 if ( n < 0 ) { return 1 / myPow ( x , - n ); } // \u67d0\u4e2a\u6570\u7684\u5947\u6570\u6b21\u65b9 else if ( n % 2 ) { return x * myPow ( x , n - 1 ); } // \u67d0\u4e2a\u6570\u7684\u5076\u6570\u6b21\u65b9 else { return myPow ( x * x , n / 2 ); } }; // \u7b2c\u4e8c\u79cd\u5b9e\u73b0\u601d\u8def var myPow = function ( x , n ) { if ( n < 0 ) { n = - n ; x = 1 / x ; } if ( x == 1 ) return 1 ; let res = 1 ; // \u4e0b\u9762\u662f\u4f4d\u8fd0\u7b97\uff0c\u901f\u5ea6\u5feb\uff0c\u65e5\u5e38\u4e0d\u4f1a\u8fd9\u6837\u4f7f\u7528 for ( let i = n ; i != 0 ; i = i >>> 1 ){ if ( i & 1 ) res *= x ; x *= x ; } return res ; };","title":"pow(x, n)"},{"location":"algre/%E5%88%B7%E9%A2%98%E7%AA%8D%E9%97%A8/","text":"\u6ce8\u610f\u9898\u76ee\u4e2d\u7684\u6761\u4ef6 \u00b6 \u6709\u4e00\u4e9b\u9898\u76ee\u4e2d\u7684\u6761\u4ef6\u672c\u8d28\u662f\u6697\u793a\uff1a \u8bbe\u8ba1\u4e00\u4e2aO(NlogN)\u7684\u7b97\u6cd5 \u516b\u6210\u79bb\u4e0d\u5f00\u5206\u6cbb\u6cd5 O(NlogN)\u662f\u5426\u662f\u4e00\u6b21\u6392\u5e8f\u7684\u4e8b\u4ef6\u590d\u6742\u5ea6 \u65e0\u9700\u8003\u8651\u989d\u5916\u7684\u7a7a\u95f4 \u90a3\u4e48\u5373\u53ef\u4ee5\u5f00\u8f9f\u7a7a\u95f4\u6765\u8fbe\u5230\u7a7a\u95f4\u6362\u65f6\u95f4\u7684\u6548\u679c \u6570\u636e\u89c4\u6a21\u5927\u6982\u662f10000 \u8bbe\u8ba1\u4e00\u4e2aO(n^2)\u7684\u7b97\u6cd5\u4e5f\u53ef\u4ee5\u7b97\u4f5c\u6b63\u89e3 \u5f53\u6ca1\u6709\u601d\u8def\u7684\u65f6\u5019 \u00b6 \u4f7f\u7528\u51e0\u4e2a\u7b80\u5355\u7684\u6d4b\u8bd5\u7528\u4f8b\uff0c\u8bd5\u9a8c\u4e00\u4e0b \u4e0d\u8981\u5ffd\u89c6\u66b4\u529b\u89e3\u6cd5\u3002\u66b4\u529b\u89e3\u6cd5\u901a\u5e38\u662f\u601d\u8003\u7684\u8d77\u70b9 \u60f3\u4e00\u904d\u5e38\u89c1\u7684\u7b97\u6cd5\u601d\u8def \u904d\u5386\u5e38\u89c1\u7684\u6570\u636e\u7ed3\u6784 \u7a7a\u95f4\u6362\u65f6\u95f4\uff08\u4f8b\u5982hash\u8868\uff09 \u6570\u636e\u9884\u5904\u7406\uff08\u6392\u5e8f\uff09 \u5728\u74f6\u9888\u5904\u627e\u7b54\u6848\uff1a O(NlogN) + O(N^2) \u5b9e\u9645\u7f16\u5199\u4ee3\u7801\u65f6\u7684\u95ee\u9898 \u00b6 \u5bf9\u6781\u7aef\u6761\u4ef6\u7684\u5224\u65ad \u6570\u7ec4\u4e3a\u7a7a\u3001\u5b57\u7b26\u4e32\u957f\u5ea6\u4e3a0\u3001\u6570\u91cf\u4e3a0\u3001\u6307\u9488null \u53d8\u91cf\u540d\u7684\u8bed\u4e49\u5316 \u6a21\u5757\u5316\u3001\u590d\u7528\u6027 \u600e\u6837\u5199\u51fa\u4e00\u4e2a\u6b63\u786e\u7684\u7b97\u6cd5 \u00b6 \u660e\u786e\u53d8\u91cf\u7684\u542b\u4e49 \u6bcf\u4e00\u4e2a\u53d8\u91cf\u90fd\u6709\u56fa\u5b9a\u7684\u5b9a\u4e49 \u8003\u8651\u8fb9\u754c \u5bf9\u4e8e\u6570\u7ec4\u7684\u8bbf\u95ee\u53d8\u91cf\u4e00\u5b9a\u8981\u8003\u8651\u8fb9\u754c \u5faa\u73af\u4e0d\u53d8\u91cf \u7ef4\u62a4\u5faa\u73af\u4e2d\u53d8\u91cf\u7684\u542b\u4e49\uff0c\u4ed4\u7ec6\u6bd4\u5bf9\u8fb9\u754c \u6700\u597d\u5148\u5199\u51fa\u601d\u8def \u5148\u7406\u6e05\u601d\u8def\u518d\u7f16\u7801\uff0c\u4e0d\u8981\u6025\u7740\u5199\u51e0\u53e5\u4f60\u6240\u8ba4\u4e3a\u201c\u5bf9\u201d\u7684\u4ee3\u7801 \u5c0f\u6570\u636e\u91cf\u8c03\u8bd5 \u7a7a\u96c6\u3001\u65e0\u6b63\u786e\u7b54\u6848\u96c6\uff1b\u6709\u6b63\u786e\u7b54\u6848\u67e5\u770b\u6bcf\u8f6e\u7684\u6539\u53d8 \u5927\u6570\u636e\u91cf\u6d4b\u8bd5 \u65f6\u95f4\u590d\u6742\u5ea6 \u00b6 O \u5373\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u5728\u8ba1\u7b97\u65f6\u9700\u8981\u6ce8\u610f\u4e24\u70b9 \u53d6\u65f6\u95f4\u590d\u6742\u5ea6\u66f4\u9ad8\u7684\u4f5c\u4e3a\u7ed3\u679c O(nlogn+ n ) = O(nlogn) \u867d\u7136\u4f1a\u5ffd\u7565\u5e38\u6570\u7cfb\u6570\uff0c\u4f46\u8981\u8bb0\u5f97\u6709\u8fd9\u4e2a\u4e1c\u897f \u4e0d\u76f8\u5173\u7684\u6570\u636e\u4e0d\u53ef\u4ee5\u5408\u5e76 \u4f8b\u5982\u7b97\u6cd5\u4e2d\u65e2\u6d89\u53ca\u5230\u6570\u7ec4\u957f\u5ea6\uff0c\u53c8\u6307\u51fa\u4e86\u5b57\u7b26\u4e32\u957f\u5ea6\uff0c\u90a3\u4e48\u8fd9\u4e2a\u4e24\u4e2a\u6570\u636e\u91cf\u4e0d\u80fd\u76f4\u63a5\u7528\u4e00\u4e2an\u5c31\u8868\u793a\u5b8c\u4e86\uff0c\u5f97n+s \u7b97\u6cd5\u7684\u4e8b\u4ef6\u590d\u6742\u5ea6\u4e0e\u7528\u4f8b\u76f8\u5173 \u00b6 \u5feb\u901f\u6392\u5e8f \u5e73\u5747\uff1a O(nlogn) \u6700\u5dee\uff1a O(n^2) \u6700\u597d\uff1a O(nlogn) \u7a7a\u95f4\u590d\u6742\u5ea6 \u00b6 \u7a7a\u95f4\u590d\u6742\u5ea6\u5373\u591a\u5f00\u7684\u4e00\u4e2a\u8f85\u52a9\u6570\u7ec4\uff0c\u4f46\u8981\u6ce8\u610f\uff0c\u9012\u5f52\u8c03\u7528\u662f\u6709\u7a7a\u95f4\u4ee3\u4ef7\u7684\u3002 \u5982\u679c\u9012\u5f52\u5c42\u6570\u7b49\u4e8en, \u5e76\u4e14\u6bcf\u5c42\u4f7f\u7528\u4e86\u4e00\u4e2a\u53d8\u91cf\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7a7a\u95f4\u590d\u6742\u5ea6\u90fd\u662fn,\u800c\u4e0d\u662f1 \u5bf9\u6570\u5668\u7684\u6982\u5ff5\u548c\u4f7f\u7528 \u00b6 \u6709\u4e00\u4e2a\u4f60\u60f3\u8981\u6d4b\u7684\u65b9\u6cd5a \u5b9e\u73b0\u4e00\u4e2a\u7edd\u5bf9\u6b63\u786e\u4f46\u662f\u590d\u6742\u5ea6\u4e0d\u597d\u7684\u65b9\u6cd5b \u5b9e\u73b0\u4e00\u4e2a\u968f\u673a\u6837\u672c\u4ea7\u751f\u5668 \u5b9e\u73b0\u6bd4\u5bf9\u7684\u65b9\u6cd5 \u628a\u65b9\u6cd5a\u548c\u65b9\u6cd5b\u6bd4\u5bf9\u5f88\u591a\u6b21\u6765\u9a8c\u8bc1\u65b9\u6cd5a\u662f\u5426\u6b63\u786e \u5982\u679c\u6709\u4e00\u4e2a\u6837\u672c\u4f7f\u5f97\u6bd4\u5bf9\u51fa\u9519\uff0c\u6253\u5370\u6837\u672c\u5206\u6790\u662f\u54ea\u4e2a\u65b9\u6cd5\u51fa\u9519 \u5f53\u6837\u672c\u6570\u91cf\u5f88\u591a\u65f6\u6bd4\u5bf9\u6d4b\u8bd5\u4f9d\u7136\u6b63\u786e\uff0c\u53ef\u4ee5\u786e\u5b9a\u65b9\u6cd5a\u5df2\u7ecf\u6b63\u786e\u3002 \u5c40\u90e8\u4e0e\u5b8f\u89c2 \u00b6 \u5f53\u9898\u76ee\u5728\u5c40\u90e8\u7684\u53d8\u5316\u5f88\u7ed5\u7684\u65f6\u5019\uff0c\u8003\u8651\u5b8f\u89c2\u601d\u8def\uff08\u4e4b\u5b57\u5f62\u6253\u5370\u77e9\u9635\uff09 \u5f53\u6211\u4eec\u5728\u9762\u8bd5\u65f6\u78b0\u5230\u7b97\u6cd5\u95ee\u9898\uff0c\u6211\u4eec\u5e94\u8be5\u56de\u7b54\u4ec0\u4e48\uff1f \u00b6 \u628a\u9762\u8bd5\u5b98\u5f53\u4f5c\u4e00\u4e2a\u670b\u53cb\uff0c\u5171\u540c\u5728\u5f00\u53d1\u4e2d\u78b0\u5230\u4e86\u8fd9\u6837\u4e00\u4e2a\u95ee\u9898\uff0c\u4e00\u8d77\u63a2\u8ba8\uff0c\u4e00\u8d77\u601d\u8003\u3002 \u5c55\u793a\u51fa\u4f60\u7684\u903b\u8f91\uff0c\u601d\u8003\u7684\u8fc7\u7a0b\uff0c\u4f18\u5316\u7684\u65b9\u6cd5\uff0c\u4ee5\u53ca\u6240\u5904\u7406\u7684\u95ee\u9898\u662f\u5426\u5728\u5b9e\u9645\u4e2d\u6709\u7528\u3002\u601d\u7ef4\u6700\u91cd\u8981\uff01 \u5c31\u7b97\u505a\u4e0d\u51fa\u6765\uff0c\u4e5f\u8981\u5c55\u793a\u51fa\u5f80\u90a3\u4e2a\u65b9\u5411\u4e0a\u52aa\u529b\u53ef\u80fd\u5f97\u5230\u6b63\u786e\u7684\u89e3\u3002 \u89e3\u51b3\u95ee\u9898\u7684\u601d\u8def\uff1a\u9762\u5bf9\u4e00\u4e2a\u95ee\u9898\u65f6\uff0c\u4e0d\u8981\u7b80\u5355\u7684\uff0c\u6781\u7aef\u7684\u7528\u5bf9\u6216\u8005\u9519\u8fd9\u6837\u7684\u6001\u5ea6\u6765\u770b\u5f85\u8fd9\u4e2a\u95ee\u9898\uff0c\u800c\u8981\u80fd\u591f\u601d\u8003\u7684\u66f4\u52a0\u5168\u9762\u4e00\u4e9b","title":"\u5237\u9898\u7a8d\u95e8.md"},{"location":"algre/%E5%88%B7%E9%A2%98%E7%AA%8D%E9%97%A8/#_1","text":"\u6709\u4e00\u4e9b\u9898\u76ee\u4e2d\u7684\u6761\u4ef6\u672c\u8d28\u662f\u6697\u793a\uff1a \u8bbe\u8ba1\u4e00\u4e2aO(NlogN)\u7684\u7b97\u6cd5 \u516b\u6210\u79bb\u4e0d\u5f00\u5206\u6cbb\u6cd5 O(NlogN)\u662f\u5426\u662f\u4e00\u6b21\u6392\u5e8f\u7684\u4e8b\u4ef6\u590d\u6742\u5ea6 \u65e0\u9700\u8003\u8651\u989d\u5916\u7684\u7a7a\u95f4 \u90a3\u4e48\u5373\u53ef\u4ee5\u5f00\u8f9f\u7a7a\u95f4\u6765\u8fbe\u5230\u7a7a\u95f4\u6362\u65f6\u95f4\u7684\u6548\u679c \u6570\u636e\u89c4\u6a21\u5927\u6982\u662f10000 \u8bbe\u8ba1\u4e00\u4e2aO(n^2)\u7684\u7b97\u6cd5\u4e5f\u53ef\u4ee5\u7b97\u4f5c\u6b63\u89e3","title":"\u6ce8\u610f\u9898\u76ee\u4e2d\u7684\u6761\u4ef6"},{"location":"algre/%E5%88%B7%E9%A2%98%E7%AA%8D%E9%97%A8/#_2","text":"\u4f7f\u7528\u51e0\u4e2a\u7b80\u5355\u7684\u6d4b\u8bd5\u7528\u4f8b\uff0c\u8bd5\u9a8c\u4e00\u4e0b \u4e0d\u8981\u5ffd\u89c6\u66b4\u529b\u89e3\u6cd5\u3002\u66b4\u529b\u89e3\u6cd5\u901a\u5e38\u662f\u601d\u8003\u7684\u8d77\u70b9 \u60f3\u4e00\u904d\u5e38\u89c1\u7684\u7b97\u6cd5\u601d\u8def \u904d\u5386\u5e38\u89c1\u7684\u6570\u636e\u7ed3\u6784 \u7a7a\u95f4\u6362\u65f6\u95f4\uff08\u4f8b\u5982hash\u8868\uff09 \u6570\u636e\u9884\u5904\u7406\uff08\u6392\u5e8f\uff09 \u5728\u74f6\u9888\u5904\u627e\u7b54\u6848\uff1a O(NlogN) + O(N^2)","title":"\u5f53\u6ca1\u6709\u601d\u8def\u7684\u65f6\u5019"},{"location":"algre/%E5%88%B7%E9%A2%98%E7%AA%8D%E9%97%A8/#_3","text":"\u5bf9\u6781\u7aef\u6761\u4ef6\u7684\u5224\u65ad \u6570\u7ec4\u4e3a\u7a7a\u3001\u5b57\u7b26\u4e32\u957f\u5ea6\u4e3a0\u3001\u6570\u91cf\u4e3a0\u3001\u6307\u9488null \u53d8\u91cf\u540d\u7684\u8bed\u4e49\u5316 \u6a21\u5757\u5316\u3001\u590d\u7528\u6027","title":"\u5b9e\u9645\u7f16\u5199\u4ee3\u7801\u65f6\u7684\u95ee\u9898"},{"location":"algre/%E5%88%B7%E9%A2%98%E7%AA%8D%E9%97%A8/#_4","text":"\u660e\u786e\u53d8\u91cf\u7684\u542b\u4e49 \u6bcf\u4e00\u4e2a\u53d8\u91cf\u90fd\u6709\u56fa\u5b9a\u7684\u5b9a\u4e49 \u8003\u8651\u8fb9\u754c \u5bf9\u4e8e\u6570\u7ec4\u7684\u8bbf\u95ee\u53d8\u91cf\u4e00\u5b9a\u8981\u8003\u8651\u8fb9\u754c \u5faa\u73af\u4e0d\u53d8\u91cf \u7ef4\u62a4\u5faa\u73af\u4e2d\u53d8\u91cf\u7684\u542b\u4e49\uff0c\u4ed4\u7ec6\u6bd4\u5bf9\u8fb9\u754c \u6700\u597d\u5148\u5199\u51fa\u601d\u8def \u5148\u7406\u6e05\u601d\u8def\u518d\u7f16\u7801\uff0c\u4e0d\u8981\u6025\u7740\u5199\u51e0\u53e5\u4f60\u6240\u8ba4\u4e3a\u201c\u5bf9\u201d\u7684\u4ee3\u7801 \u5c0f\u6570\u636e\u91cf\u8c03\u8bd5 \u7a7a\u96c6\u3001\u65e0\u6b63\u786e\u7b54\u6848\u96c6\uff1b\u6709\u6b63\u786e\u7b54\u6848\u67e5\u770b\u6bcf\u8f6e\u7684\u6539\u53d8 \u5927\u6570\u636e\u91cf\u6d4b\u8bd5","title":"\u600e\u6837\u5199\u51fa\u4e00\u4e2a\u6b63\u786e\u7684\u7b97\u6cd5"},{"location":"algre/%E5%88%B7%E9%A2%98%E7%AA%8D%E9%97%A8/#_5","text":"O \u5373\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u5728\u8ba1\u7b97\u65f6\u9700\u8981\u6ce8\u610f\u4e24\u70b9 \u53d6\u65f6\u95f4\u590d\u6742\u5ea6\u66f4\u9ad8\u7684\u4f5c\u4e3a\u7ed3\u679c O(nlogn+ n ) = O(nlogn) \u867d\u7136\u4f1a\u5ffd\u7565\u5e38\u6570\u7cfb\u6570\uff0c\u4f46\u8981\u8bb0\u5f97\u6709\u8fd9\u4e2a\u4e1c\u897f \u4e0d\u76f8\u5173\u7684\u6570\u636e\u4e0d\u53ef\u4ee5\u5408\u5e76 \u4f8b\u5982\u7b97\u6cd5\u4e2d\u65e2\u6d89\u53ca\u5230\u6570\u7ec4\u957f\u5ea6\uff0c\u53c8\u6307\u51fa\u4e86\u5b57\u7b26\u4e32\u957f\u5ea6\uff0c\u90a3\u4e48\u8fd9\u4e2a\u4e24\u4e2a\u6570\u636e\u91cf\u4e0d\u80fd\u76f4\u63a5\u7528\u4e00\u4e2an\u5c31\u8868\u793a\u5b8c\u4e86\uff0c\u5f97n+s","title":"\u65f6\u95f4\u590d\u6742\u5ea6"},{"location":"algre/%E5%88%B7%E9%A2%98%E7%AA%8D%E9%97%A8/#_6","text":"\u5feb\u901f\u6392\u5e8f \u5e73\u5747\uff1a O(nlogn) \u6700\u5dee\uff1a O(n^2) \u6700\u597d\uff1a O(nlogn)","title":"\u7b97\u6cd5\u7684\u4e8b\u4ef6\u590d\u6742\u5ea6\u4e0e\u7528\u4f8b\u76f8\u5173"},{"location":"algre/%E5%88%B7%E9%A2%98%E7%AA%8D%E9%97%A8/#_7","text":"\u7a7a\u95f4\u590d\u6742\u5ea6\u5373\u591a\u5f00\u7684\u4e00\u4e2a\u8f85\u52a9\u6570\u7ec4\uff0c\u4f46\u8981\u6ce8\u610f\uff0c\u9012\u5f52\u8c03\u7528\u662f\u6709\u7a7a\u95f4\u4ee3\u4ef7\u7684\u3002 \u5982\u679c\u9012\u5f52\u5c42\u6570\u7b49\u4e8en, \u5e76\u4e14\u6bcf\u5c42\u4f7f\u7528\u4e86\u4e00\u4e2a\u53d8\u91cf\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7a7a\u95f4\u590d\u6742\u5ea6\u90fd\u662fn,\u800c\u4e0d\u662f1","title":"\u7a7a\u95f4\u590d\u6742\u5ea6"},{"location":"algre/%E5%88%B7%E9%A2%98%E7%AA%8D%E9%97%A8/#_8","text":"\u6709\u4e00\u4e2a\u4f60\u60f3\u8981\u6d4b\u7684\u65b9\u6cd5a \u5b9e\u73b0\u4e00\u4e2a\u7edd\u5bf9\u6b63\u786e\u4f46\u662f\u590d\u6742\u5ea6\u4e0d\u597d\u7684\u65b9\u6cd5b \u5b9e\u73b0\u4e00\u4e2a\u968f\u673a\u6837\u672c\u4ea7\u751f\u5668 \u5b9e\u73b0\u6bd4\u5bf9\u7684\u65b9\u6cd5 \u628a\u65b9\u6cd5a\u548c\u65b9\u6cd5b\u6bd4\u5bf9\u5f88\u591a\u6b21\u6765\u9a8c\u8bc1\u65b9\u6cd5a\u662f\u5426\u6b63\u786e \u5982\u679c\u6709\u4e00\u4e2a\u6837\u672c\u4f7f\u5f97\u6bd4\u5bf9\u51fa\u9519\uff0c\u6253\u5370\u6837\u672c\u5206\u6790\u662f\u54ea\u4e2a\u65b9\u6cd5\u51fa\u9519 \u5f53\u6837\u672c\u6570\u91cf\u5f88\u591a\u65f6\u6bd4\u5bf9\u6d4b\u8bd5\u4f9d\u7136\u6b63\u786e\uff0c\u53ef\u4ee5\u786e\u5b9a\u65b9\u6cd5a\u5df2\u7ecf\u6b63\u786e\u3002","title":"\u5bf9\u6570\u5668\u7684\u6982\u5ff5\u548c\u4f7f\u7528"},{"location":"algre/%E5%88%B7%E9%A2%98%E7%AA%8D%E9%97%A8/#_9","text":"\u5f53\u9898\u76ee\u5728\u5c40\u90e8\u7684\u53d8\u5316\u5f88\u7ed5\u7684\u65f6\u5019\uff0c\u8003\u8651\u5b8f\u89c2\u601d\u8def\uff08\u4e4b\u5b57\u5f62\u6253\u5370\u77e9\u9635\uff09","title":"\u5c40\u90e8\u4e0e\u5b8f\u89c2"},{"location":"algre/%E5%88%B7%E9%A2%98%E7%AA%8D%E9%97%A8/#_10","text":"\u628a\u9762\u8bd5\u5b98\u5f53\u4f5c\u4e00\u4e2a\u670b\u53cb\uff0c\u5171\u540c\u5728\u5f00\u53d1\u4e2d\u78b0\u5230\u4e86\u8fd9\u6837\u4e00\u4e2a\u95ee\u9898\uff0c\u4e00\u8d77\u63a2\u8ba8\uff0c\u4e00\u8d77\u601d\u8003\u3002 \u5c55\u793a\u51fa\u4f60\u7684\u903b\u8f91\uff0c\u601d\u8003\u7684\u8fc7\u7a0b\uff0c\u4f18\u5316\u7684\u65b9\u6cd5\uff0c\u4ee5\u53ca\u6240\u5904\u7406\u7684\u95ee\u9898\u662f\u5426\u5728\u5b9e\u9645\u4e2d\u6709\u7528\u3002\u601d\u7ef4\u6700\u91cd\u8981\uff01 \u5c31\u7b97\u505a\u4e0d\u51fa\u6765\uff0c\u4e5f\u8981\u5c55\u793a\u51fa\u5f80\u90a3\u4e2a\u65b9\u5411\u4e0a\u52aa\u529b\u53ef\u80fd\u5f97\u5230\u6b63\u786e\u7684\u89e3\u3002 \u89e3\u51b3\u95ee\u9898\u7684\u601d\u8def\uff1a\u9762\u5bf9\u4e00\u4e2a\u95ee\u9898\u65f6\uff0c\u4e0d\u8981\u7b80\u5355\u7684\uff0c\u6781\u7aef\u7684\u7528\u5bf9\u6216\u8005\u9519\u8fd9\u6837\u7684\u6001\u5ea6\u6765\u770b\u5f85\u8fd9\u4e2a\u95ee\u9898\uff0c\u800c\u8981\u80fd\u591f\u601d\u8003\u7684\u66f4\u52a0\u5168\u9762\u4e00\u4e9b","title":"\u5f53\u6211\u4eec\u5728\u9762\u8bd5\u65f6\u78b0\u5230\u7b97\u6cd5\u95ee\u9898\uff0c\u6211\u4eec\u5e94\u8be5\u56de\u7b54\u4ec0\u4e48\uff1f"},{"location":"algre/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95/","text":"\u539f\u5730\u7b97\u6cd5 \u00b6 In computer science, an in-place algorithm is an algorithm which transforms input using no auxiliary data structure. However a small amount of extra storage space is allowed for auxiliary variables. The input is usually overwritten by the output as the algorithm executes. In-place algorithm updates input sequence only through replacement or swapping of elements. An algorithm which is not in-place is sometimes called not-in-place or out-of-place. \u50cf wiki \u91cc\u9762\u8bf4\u7684\uff0c\u539f\u5730\u7b97\u6cd5\u662f\u57fa\u672c\u4e0a\u4e0d\u9700\u8981\u989d\u5916\u8f85\u52a9\u7684\u6570\u636e\u7ed3\u6784,\u7136\u800c,\u5141\u8bb8\u5c11\u91cf\u989d\u5916\u7684\u8f85\u52a9\u53d8\u91cf\u6765\u8f6c\u6362\u6570\u636e\u7684\u7b97\u6cd5\u3002\u5728\u8ba1\u7b97\u590d\u6742\u6027\u7406\u8bba\u4e2d\uff0c\u539f\u5730\u7b97\u6cd5\u5305\u542b\u4f7f\u7528O(1)\u7a7a\u95f4\u590d\u6742\u5ea6\u7684\u6240\u6709\u7b97\u6cd5\uff0cDSPACE(1)\u7c7b\u578b\u3002 function reverse - in - place ( a [ 0. . n ]) for i from 0 to floor ( n / 2 ) swap ( a [ i ], a [ n - i ]) \u6570\u7ec4\u7ffb\u8f6c \u00b6 \u6bd4\u5982\u6211\u4eec\u5728 JS \u4e2d\uff0c\u5b9e\u73b0\u7ffb\u8f6c\u6570\u7ec4\uff0c\uff08array.prototype.reverse\uff09 \u9664\u5916\u3002[1,2,3] => [3,2,1] function reverseArray ( arr ) { var len = array . length ; var middle = Math . floor ( len / 2 ); for ( var i = 0 ; i < middle ; i += 1 ) { var temp = array [ i ]; array [ i ] = array [ n - 1 - i ]; array [ n - 1 - i ] = temp ; } } \u8fd9\u6837\u6211\u4eec\u5c31\u4e0d\u7528\u501f\u52a9\u53e6\u5916\u4e00\u4e2a\u4e00\u4e2a\u6570\u7ec4\u5012\u5e8f\u5faa\u73af\u4e86\u3002 \u5220\u9664\u6392\u5e8f\u540e\u6570\u7ec4\u7684\u91cd\u590d\u5143\u7d20 \u00b6 \u6bd4\u5982\u6211\u4eec\u7ed9\u51fa\u4e00\u7ec4\u6392\u597d\u540e\u7684\u6570\u7ec4\uff0c\u7136\u540e\u5220\u9664\u6389\u5176\u4e2d\u91cd\u590d\u7684\u5143\u7d20 [1,2,3,3,3,4,5,5,5,6,7] to [1,2,3,4,5,6,7] var removeDuplicates = function ( nums ) { var i = 0 ; // \u8fd9\u91cc\u6709\u95ee\u9898\uff0c\u9700\u8981\u770b for-of \u7684\u5faa\u73af // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...of for ( let n of nums ) { if ( i == 0 || n > nums [ i - 1 ]) { nums [ i ++ ] = n ; } } return i ; }; \u5224\u65ad\u56de\u6587 \u00b6 \u6700\u8fd1 20200202 \u6bd4\u8f83\u706b\uff0c\u8fd9\u662f\u6bd4\u8f83\u5e38\u89c1\u7684 \u56de\u6587 \u6570\u5b57\u3002\u7c7b\u4f3c\u5355\u8bcd\u6bd4\u5982 bob \u6216\u8005\u53e5\u5b50 Was it a car or a cat I saw? \u3002 'aba' = > true 'accad' = > false '20200202' = > true \u6211\u4eec\u5982\u4f55\u5224\u65ad\u4e00\u4e2a\u5b57\u7b26\u4e32\u662f\u56de\u6587\u7684\u65f6\u5019\u53ef\u4ee5\u7528\u5230\u3002 function isPalindromeStr ( str ) { var middle = Math . floor ( str . length / 2 ); for ( var i = 0 ; i < middle ; i ++ ) if ( str [ i ] !== str [ str . length - i - 1 ]) { return false ; } return true ; } \u5bf9\u5e94\u4e0b\u9762\u4e09\u4e2a\u9898\u76ee In-place algorithm Palindrome Longest Palindromic Substring \u5176\u4ed6\u7684\u4f8b\u5b50\uff0c\u6392\u5e8f\u7b97\u6cd5\u4f1a\u539f\u5730\u91cd\u65b0\u6392\u653e\u9635\u5217\u5185\u5bb9\u6210\u4e3a\u6392\u5e8f\u8fc7\u7684\u987a\u5e8f\uff0c\u5305\u542b\uff1a \u5192\u6ce1\u6392\u5e8f \u9009\u62e9\u6392\u5e8f \u63d2\u5165\u6392\u5e8f \u5806\u6392\u5e8f \u5e0c\u5c14\u6392\u5e8f \u5feb\u901f\u6392\u5e8f\u901a\u5e38\u88ab\u63cf\u8ff0\u4e3a\u4e00\u4e2a\u539f\u5730\u7b97\u6cd5\uff0c\u4f46\u662f\u4e8b\u5b9e\u4e0a\u5e76\u4e0d\u662f\u3002\u5927\u90e8\u4efd\u7684\u5b9e\u4f5c\u9700\u8981O(log n)\u7684\u7a7a\u95f4\u6765\u652f\u6301\u5b83\u7684 \u5206\u6cbb\u6cd5 \uff08divide-and-conquer\uff09\u9012\u56de\u3002\u5927\u90e8\u4efd\u9009\u62e9\u7b97\u6cd5\u4e5f\u662f\u539f\u5730\uff0c\u867d\u7136\u5728\u627e\u5230\u6700\u540e\u7ed3\u679c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6709\u67d0\u4e9b\u76f8\u5f53\u5730\u91cd\u65b0\u6392\u5217\u8f93\u5165\u9635\u5217\uff0c\u4f46\u5374\u662f\u56fa\u5b9a\u5927\u5c0f\u7684\u7ed3\u679c\u3002 \u5728\u8ba1\u7b97\u4e0a\u7684\u590d\u6742\u5ea6 \u00b6 \u5728 \u8ba1\u7b97\u590d\u6742\u6027\u7406\u8bba \u4e2d\uff0c\u539f\u5730\u7b97\u6cd5\u5305\u542b\u4f7f\u7528O(1) \u7a7a\u95f4\u590d\u6742\u5ea6 \u7684\u6240\u6709\u7b97\u6cd5\uff0cDSPACE(1)\u7c7b\u578b\u3002\u8fd9\u4e2a\u7c7b\u578b\u662f\u975e\u5e38\u6709\u9650\u7684\uff1b\u5b83\u4e0e\u6b63\u89c4\u8bed\u8a001\u76f8\u7b49\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5b83\u751a\u81f3\u4e0d\u5305\u542b\u4e0a\u9762\u6240\u5217\u7684\u4efb\u4f55\u8303\u4f8b\u3002 \u56e0\u4e3a\u8fd9\u4e2a\u539f\u56e0\uff0c\u6211\u4eec\u4e5f\u8003\u8651\u5728 L \u7684\u7b97\u6cd5\uff0c\u8fd9\u7c7b\u578b\u7684\u95ee\u9898\u9700\u8981O(log n)\u989d\u5916\u7684\u7a7a\u95f4\uff0c\u6765\u6210\u4e3a\u539f\u5730\u3002\u867d\u7136\u8fd9\u4e2a\u4f3c\u4e4e\u4e0e\u6211\u4eec\u5148\u524d\u7684\u5b9a\u4e49\u77db\u76fe\uff0c\u4f46\u662f\u6211\u4eec\u5fc5\u987b\u8ba4\u4e3a\u5728\u62bd\u8c61\u7684\u4e16\u754c\uff0c\u8f93\u5165\u7684\u8d44\u6599\u53ef\u4ee5\u662f\u4efb\u610f\u5de8\u5927\u7684\u3002\u5728\u4e00\u90e8\u771f\u5b9e\u7684\u7535\u8111\uff0c\u6307\u6807\uff08pointer\uff09\u4ec5\u9700\u8981\u4e00\u4e2a\u5c0f\u7684\u56fa\u5b9a\u6570\u91cf\u7a7a\u95f4\uff0c\u56e0\u4e3a\u5b9e\u4f53\u5185\u5b58\u7684\u6570\u91cf\u662f\u56fa\u5b9a\u7684\uff0c\u4f46\u662f\u4e00\u822c\u4e0a\u4e00\u4e2a\u5927\u5c0f\u4e3an\u7684\u6570\u5217\u9700\u8981O(log n)\u4f4d\u5143\u6765\u4f5c\u4e3a\u5b83\u7684\u7d22\u5f15\uff08index\uff09\u3002 \u7ed3\u679c\u662f\u5426\u610f\u6307\u5feb\u901f\u6392\u5e8f\u662f\u539f\u5730\u7684\uff1f\u5176\u5b9e\u4e00\u70b9\u4e5f\u4e0d \u2014 \u6280\u672f\u4e0a\u6765\u8bf4\uff0c\u5b83\u9700\u8981O(log2 n)\u7a7a\u95f4\uff0c\u56e0\u4e3a\u5b83\u7684O(log n) \u5806\u6808\u6846\u67b6\uff08stack frames\uff09\u6bcf\u4e00\u4e2a\u90fd\u542b\u6709\u4e00\u4e2a\u56fa\u5b9a\u6570\u91cf\u7684\u6307\u6807\uff08\u6bcf\u4e00\u4e2a\u5927\u5c0f\u4e3aO(log n)\uff09\u3002 \u8fa8\u522b\u62e5\u6709 L \u7684\u539f\u5730\u7b97\u6cd5\u62e5\u6709\u67d0\u4e9b\u6709\u8da3\u7684\u542b\u610f\uff1b\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5b83\u610f\u6307\u5b58\u5728\u4e00\u4e2a\uff08\u76f8\u5f53\u5730\u590d\u6742\uff09\u539f\u5730\u7b97\u6cd5\uff0c\u51b3\u5b9a\u5728\u4e00\u4e2a \u65e0\u5411\u56fe \uff08undirected graph\uff09\u4e2d\u7684\u4efb\u4e24\u4e2a\u8282\u70b9\uff08nodes\uff09\u4e4b\u95f4\u662f\u5426\u5b58\u5728\u4e00\u6761\u8def\u5f84\uff08path\uff09\uff0c\u8fd9\u662f\u4e00\u4e2a\u9700\u8981O(n)\u4e2a\u989d\u5916\u7684\u7a7a\u95f4\uff0c\u4f7f\u7528\u5178\u578b\u7684\u7b97\u6cd5\u50cf\u662f\u6df1\u5ea6\u4f18\u5148\u641c\u5bfb(depth-first search)\uff08\u6bcf\u4e2a\u8282\u70b9\u6709\u4e2a\u8d70\u8bbf\u7684\u4f4d\u5143\uff09\u7684\u95ee\u9898\u3002\u6709\u4e9b\u95ee\u9898\u50cf\u662f\u51b3\u5b9a\u4e00\u4e2a\u56fe\u5f62\u662f\u5426\u4e3a \u4e8c\u5206\u56fe \uff08bipartite graph\uff09\u6216\u6d4b\u8bd5\u4e24\u4e2a\u56fe\u5f62\u4f7f\u5426\u6709\u76f8\u540c\u6570\u91cf\u7684\u8fde\u7ed3\u5143\u4ef6\uff08 connected component \uff09\uff0c\u63a5\u7740\u9488\u5bf9\u8fd9\u4e9b\u95ee\u9898\u4ea7\u51fa\u539f\u5730\u7b97\u6cd5\u3002\u53c2\u8003SL\u6709\u66f4\u591a\u7684\u8d44\u8baf\u3002 \u968f\u610f\u7684\u89d2\u8272 \u00b6 \u5728\u5f88\u591a\u60c5\u51b5\uff0c\u501f\u7531\u4f7f\u7528 \u968f\u673a\u5316\u7b97\u6cd5 \uff08randomized algorithms\uff09\uff0c\u4e00\u4e2a\u7b97\u6cd5\u7684\u7a7a\u95f4\u9700\u6c42\u53ef\u4ee5\u88ab\u6781\u5ea6\u5730\u88c1\u51cf\u6389\u3002\u4e3e\u4e2a\u8303\u4f8b\uff0c\u6211\u4eec\u5e0c\u671b\u77e5\u9053\u4e00\u4e2a\u6709 n \u4e2a\u9876\u70b9\uff08vertices\uff09\u7684\u56fe\u5f62\u4e2d\u7684\u4e24\u4e2a\u9876\u70b9\u662f\u5426\u4f4d\u4e8e\u56fe\u4e2d\u540c\u4e00\u4e2a\u8fde\u63a5\u5143\u4ef6\uff08connected component\uff09\u3002\u6ca1\u6709\u5df2\u77e5\u7b80\u5355\u3001\u51b3\u5b9a\u6027\u7684\uff08deterministic\uff09\u3001\u539f\u5730\u7b97\u6cd5\u6765\u51b3\u5b9a\u8fd9\u4ef6\u4e8b\uff0c\u4f46\u662f\u5982\u679c\u6211\u4eec\u7b80\u5355\u5730\u7531\u4e00\u4e2a\u9876\u70b9\u5f00\u59cb\uff0c\u4e14\u6267\u884c\u5927\u7ea620n3\u6b65\u7684\u968f\u673a\u8d70\u8def\uff08random walk\uff09\uff0c\u90a3\u6211\u4eec\u4f1a\u5076\u9047\u5230\u5176\u4ed6\u9876\u70b9\u6765\u63d0\u4f9b\u5b83\u4e0d\u662f\u5728\u540c\u4e00\u4e2a\u5143\u4ef6\uff08component\uff09\u4e2d\u7684\u673a\u4f1a\u662f\u975e\u5e38\u5730\u9ad8\u3002\u7c7b\u4f3c\u5730\uff0c\u5bf9\u4e8e\u8d28\u6570\u6d4b\u8bd5\uff08primality test\uff09\u6709\u7b80\u5355\u7684\u968f\u673a\u5316\u539f\u5730\u7b97\u6cd5\u50cf\u662f\u7c73\u52d2-\u62c9\u5bbe\u68c0\u9a8c\uff0c\u4e5f\u6709\u7b80\u5355\u539f\u5730 \u968f\u673a\u5316 \u6574\u6570\u5206\u89e3 \u7b97\u6cd5\u50cf\u662fPollard's rho \u7b97\u6cd5\u3002\u53c2\u8003RL\u548cBPL\u6709\u5bf9\u8fd9\u4e2a\u73b0\u8c61\u66f4\u591a\u7684\u8ba8\u8bba\u3002 \u5728\u51fd\u6570\u7684\u7a0b\u5f0f\u8bbe\u8ba1 \u00b6 \u51fd\u6570 \u7a0b\u5f0f\u8bbe\u8ba1 \uff08functional programming\uff09\u8bed\u8a00\u7ecf\u5e38\u4e0d\u9f13\u52b1\u6216\u4e0d\u652f\u63f4\u4f1a\u8986\u76d6\u8d44\u6599\u7684\u539f\u5730\u7b97\u6cd5\uff0c\u56e0\u4e3a\u8fd9\u662f\u526f\u4f5c\u7528\u7684\u4e00\u79cd\u578b\u6001\uff1b\u53cd\u4e4b\uff0c\u4ed6\u4eec\u53ea\u5141\u8bb8\u5efa\u7acb\u65b0\u7684\u8d44\u6599\u3002\u7136\u800c\uff0c\u597d\u7684\u51fd\u6570\u8bed\u8a00 \u7f16\u8bd1\u5668 \uff08compiler\uff09\u5728\u5f53\u4e00\u4e2a\u4e0e\u4ee5\u5b58\u5728\u4e4b\u975e\u5e38\u76f8\u4f3c\u7684\u7269\u4ef6\u88ab\u5efa\u7acb\u65f6\uff0c\u90fd\u7ecf\u5e38\u4f1a\u8fa8\u8bc6\u51fa\u6765\uff0c\u7136\u540e\u65e7\u7684\u5c31\u4f1a\u88ab\u4e22\u5f03\u6389\uff0c\u800c\u4e14\u4f1a\u6700\u628a\u8fd9\u6700\u4f73\u5316\u4e3a\u4e00\u4e2a\u7b80\u5355\u7684\" \u5f15\u64ce\u76d6 \u4e4b\u4e0b\"\u8f6c\u6362\u3002 \u57fa\u672c\u4e0a\uff0c\u6709\u53ef\u80fd\u5c0f\u5fc3\u5730\u5efa\u6784\u539f\u5730\u7b97\u6cd5\u800c\u90e8\u4f1a\u66f4\u52a8\u8d44\u6599\uff08\u9664\u975e\u8d44\u6599\u5df2\u4e0d\u4f1a\u518d\u88ab\u4f7f\u7528\uff09\uff0c\u4f46\u662f\u5728\u5b9e\u9645\u4e0a\u8fd9\u5374\u5f88\u5c11\u89c1\u5230\u3002\u53c2\u8003\u7eaf\u51fd\u6570\u6570\u636e\u7ed3\u6784\uff08purely functional data structure\uff09\u3002","title":"\u539f\u5730\u7b97\u6cd5"},{"location":"algre/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95/#_1","text":"In computer science, an in-place algorithm is an algorithm which transforms input using no auxiliary data structure. However a small amount of extra storage space is allowed for auxiliary variables. The input is usually overwritten by the output as the algorithm executes. In-place algorithm updates input sequence only through replacement or swapping of elements. An algorithm which is not in-place is sometimes called not-in-place or out-of-place. \u50cf wiki \u91cc\u9762\u8bf4\u7684\uff0c\u539f\u5730\u7b97\u6cd5\u662f\u57fa\u672c\u4e0a\u4e0d\u9700\u8981\u989d\u5916\u8f85\u52a9\u7684\u6570\u636e\u7ed3\u6784,\u7136\u800c,\u5141\u8bb8\u5c11\u91cf\u989d\u5916\u7684\u8f85\u52a9\u53d8\u91cf\u6765\u8f6c\u6362\u6570\u636e\u7684\u7b97\u6cd5\u3002\u5728\u8ba1\u7b97\u590d\u6742\u6027\u7406\u8bba\u4e2d\uff0c\u539f\u5730\u7b97\u6cd5\u5305\u542b\u4f7f\u7528O(1)\u7a7a\u95f4\u590d\u6742\u5ea6\u7684\u6240\u6709\u7b97\u6cd5\uff0cDSPACE(1)\u7c7b\u578b\u3002 function reverse - in - place ( a [ 0. . n ]) for i from 0 to floor ( n / 2 ) swap ( a [ i ], a [ n - i ])","title":"\u539f\u5730\u7b97\u6cd5"},{"location":"algre/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95/#_2","text":"\u6bd4\u5982\u6211\u4eec\u5728 JS \u4e2d\uff0c\u5b9e\u73b0\u7ffb\u8f6c\u6570\u7ec4\uff0c\uff08array.prototype.reverse\uff09 \u9664\u5916\u3002[1,2,3] => [3,2,1] function reverseArray ( arr ) { var len = array . length ; var middle = Math . floor ( len / 2 ); for ( var i = 0 ; i < middle ; i += 1 ) { var temp = array [ i ]; array [ i ] = array [ n - 1 - i ]; array [ n - 1 - i ] = temp ; } } \u8fd9\u6837\u6211\u4eec\u5c31\u4e0d\u7528\u501f\u52a9\u53e6\u5916\u4e00\u4e2a\u4e00\u4e2a\u6570\u7ec4\u5012\u5e8f\u5faa\u73af\u4e86\u3002","title":"\u6570\u7ec4\u7ffb\u8f6c"},{"location":"algre/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95/#_3","text":"\u6bd4\u5982\u6211\u4eec\u7ed9\u51fa\u4e00\u7ec4\u6392\u597d\u540e\u7684\u6570\u7ec4\uff0c\u7136\u540e\u5220\u9664\u6389\u5176\u4e2d\u91cd\u590d\u7684\u5143\u7d20 [1,2,3,3,3,4,5,5,5,6,7] to [1,2,3,4,5,6,7] var removeDuplicates = function ( nums ) { var i = 0 ; // \u8fd9\u91cc\u6709\u95ee\u9898\uff0c\u9700\u8981\u770b for-of \u7684\u5faa\u73af // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...of for ( let n of nums ) { if ( i == 0 || n > nums [ i - 1 ]) { nums [ i ++ ] = n ; } } return i ; };","title":"\u5220\u9664\u6392\u5e8f\u540e\u6570\u7ec4\u7684\u91cd\u590d\u5143\u7d20"},{"location":"algre/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95/#_4","text":"\u6700\u8fd1 20200202 \u6bd4\u8f83\u706b\uff0c\u8fd9\u662f\u6bd4\u8f83\u5e38\u89c1\u7684 \u56de\u6587 \u6570\u5b57\u3002\u7c7b\u4f3c\u5355\u8bcd\u6bd4\u5982 bob \u6216\u8005\u53e5\u5b50 Was it a car or a cat I saw? \u3002 'aba' = > true 'accad' = > false '20200202' = > true \u6211\u4eec\u5982\u4f55\u5224\u65ad\u4e00\u4e2a\u5b57\u7b26\u4e32\u662f\u56de\u6587\u7684\u65f6\u5019\u53ef\u4ee5\u7528\u5230\u3002 function isPalindromeStr ( str ) { var middle = Math . floor ( str . length / 2 ); for ( var i = 0 ; i < middle ; i ++ ) if ( str [ i ] !== str [ str . length - i - 1 ]) { return false ; } return true ; } \u5bf9\u5e94\u4e0b\u9762\u4e09\u4e2a\u9898\u76ee In-place algorithm Palindrome Longest Palindromic Substring \u5176\u4ed6\u7684\u4f8b\u5b50\uff0c\u6392\u5e8f\u7b97\u6cd5\u4f1a\u539f\u5730\u91cd\u65b0\u6392\u653e\u9635\u5217\u5185\u5bb9\u6210\u4e3a\u6392\u5e8f\u8fc7\u7684\u987a\u5e8f\uff0c\u5305\u542b\uff1a \u5192\u6ce1\u6392\u5e8f \u9009\u62e9\u6392\u5e8f \u63d2\u5165\u6392\u5e8f \u5806\u6392\u5e8f \u5e0c\u5c14\u6392\u5e8f \u5feb\u901f\u6392\u5e8f\u901a\u5e38\u88ab\u63cf\u8ff0\u4e3a\u4e00\u4e2a\u539f\u5730\u7b97\u6cd5\uff0c\u4f46\u662f\u4e8b\u5b9e\u4e0a\u5e76\u4e0d\u662f\u3002\u5927\u90e8\u4efd\u7684\u5b9e\u4f5c\u9700\u8981O(log n)\u7684\u7a7a\u95f4\u6765\u652f\u6301\u5b83\u7684 \u5206\u6cbb\u6cd5 \uff08divide-and-conquer\uff09\u9012\u56de\u3002\u5927\u90e8\u4efd\u9009\u62e9\u7b97\u6cd5\u4e5f\u662f\u539f\u5730\uff0c\u867d\u7136\u5728\u627e\u5230\u6700\u540e\u7ed3\u679c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6709\u67d0\u4e9b\u76f8\u5f53\u5730\u91cd\u65b0\u6392\u5217\u8f93\u5165\u9635\u5217\uff0c\u4f46\u5374\u662f\u56fa\u5b9a\u5927\u5c0f\u7684\u7ed3\u679c\u3002","title":"\u5224\u65ad\u56de\u6587"},{"location":"algre/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95/#_5","text":"\u5728 \u8ba1\u7b97\u590d\u6742\u6027\u7406\u8bba \u4e2d\uff0c\u539f\u5730\u7b97\u6cd5\u5305\u542b\u4f7f\u7528O(1) \u7a7a\u95f4\u590d\u6742\u5ea6 \u7684\u6240\u6709\u7b97\u6cd5\uff0cDSPACE(1)\u7c7b\u578b\u3002\u8fd9\u4e2a\u7c7b\u578b\u662f\u975e\u5e38\u6709\u9650\u7684\uff1b\u5b83\u4e0e\u6b63\u89c4\u8bed\u8a001\u76f8\u7b49\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5b83\u751a\u81f3\u4e0d\u5305\u542b\u4e0a\u9762\u6240\u5217\u7684\u4efb\u4f55\u8303\u4f8b\u3002 \u56e0\u4e3a\u8fd9\u4e2a\u539f\u56e0\uff0c\u6211\u4eec\u4e5f\u8003\u8651\u5728 L \u7684\u7b97\u6cd5\uff0c\u8fd9\u7c7b\u578b\u7684\u95ee\u9898\u9700\u8981O(log n)\u989d\u5916\u7684\u7a7a\u95f4\uff0c\u6765\u6210\u4e3a\u539f\u5730\u3002\u867d\u7136\u8fd9\u4e2a\u4f3c\u4e4e\u4e0e\u6211\u4eec\u5148\u524d\u7684\u5b9a\u4e49\u77db\u76fe\uff0c\u4f46\u662f\u6211\u4eec\u5fc5\u987b\u8ba4\u4e3a\u5728\u62bd\u8c61\u7684\u4e16\u754c\uff0c\u8f93\u5165\u7684\u8d44\u6599\u53ef\u4ee5\u662f\u4efb\u610f\u5de8\u5927\u7684\u3002\u5728\u4e00\u90e8\u771f\u5b9e\u7684\u7535\u8111\uff0c\u6307\u6807\uff08pointer\uff09\u4ec5\u9700\u8981\u4e00\u4e2a\u5c0f\u7684\u56fa\u5b9a\u6570\u91cf\u7a7a\u95f4\uff0c\u56e0\u4e3a\u5b9e\u4f53\u5185\u5b58\u7684\u6570\u91cf\u662f\u56fa\u5b9a\u7684\uff0c\u4f46\u662f\u4e00\u822c\u4e0a\u4e00\u4e2a\u5927\u5c0f\u4e3an\u7684\u6570\u5217\u9700\u8981O(log n)\u4f4d\u5143\u6765\u4f5c\u4e3a\u5b83\u7684\u7d22\u5f15\uff08index\uff09\u3002 \u7ed3\u679c\u662f\u5426\u610f\u6307\u5feb\u901f\u6392\u5e8f\u662f\u539f\u5730\u7684\uff1f\u5176\u5b9e\u4e00\u70b9\u4e5f\u4e0d \u2014 \u6280\u672f\u4e0a\u6765\u8bf4\uff0c\u5b83\u9700\u8981O(log2 n)\u7a7a\u95f4\uff0c\u56e0\u4e3a\u5b83\u7684O(log n) \u5806\u6808\u6846\u67b6\uff08stack frames\uff09\u6bcf\u4e00\u4e2a\u90fd\u542b\u6709\u4e00\u4e2a\u56fa\u5b9a\u6570\u91cf\u7684\u6307\u6807\uff08\u6bcf\u4e00\u4e2a\u5927\u5c0f\u4e3aO(log n)\uff09\u3002 \u8fa8\u522b\u62e5\u6709 L \u7684\u539f\u5730\u7b97\u6cd5\u62e5\u6709\u67d0\u4e9b\u6709\u8da3\u7684\u542b\u610f\uff1b\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5b83\u610f\u6307\u5b58\u5728\u4e00\u4e2a\uff08\u76f8\u5f53\u5730\u590d\u6742\uff09\u539f\u5730\u7b97\u6cd5\uff0c\u51b3\u5b9a\u5728\u4e00\u4e2a \u65e0\u5411\u56fe \uff08undirected graph\uff09\u4e2d\u7684\u4efb\u4e24\u4e2a\u8282\u70b9\uff08nodes\uff09\u4e4b\u95f4\u662f\u5426\u5b58\u5728\u4e00\u6761\u8def\u5f84\uff08path\uff09\uff0c\u8fd9\u662f\u4e00\u4e2a\u9700\u8981O(n)\u4e2a\u989d\u5916\u7684\u7a7a\u95f4\uff0c\u4f7f\u7528\u5178\u578b\u7684\u7b97\u6cd5\u50cf\u662f\u6df1\u5ea6\u4f18\u5148\u641c\u5bfb(depth-first search)\uff08\u6bcf\u4e2a\u8282\u70b9\u6709\u4e2a\u8d70\u8bbf\u7684\u4f4d\u5143\uff09\u7684\u95ee\u9898\u3002\u6709\u4e9b\u95ee\u9898\u50cf\u662f\u51b3\u5b9a\u4e00\u4e2a\u56fe\u5f62\u662f\u5426\u4e3a \u4e8c\u5206\u56fe \uff08bipartite graph\uff09\u6216\u6d4b\u8bd5\u4e24\u4e2a\u56fe\u5f62\u4f7f\u5426\u6709\u76f8\u540c\u6570\u91cf\u7684\u8fde\u7ed3\u5143\u4ef6\uff08 connected component \uff09\uff0c\u63a5\u7740\u9488\u5bf9\u8fd9\u4e9b\u95ee\u9898\u4ea7\u51fa\u539f\u5730\u7b97\u6cd5\u3002\u53c2\u8003SL\u6709\u66f4\u591a\u7684\u8d44\u8baf\u3002","title":"\u5728\u8ba1\u7b97\u4e0a\u7684\u590d\u6742\u5ea6"},{"location":"algre/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95/#_6","text":"\u5728\u5f88\u591a\u60c5\u51b5\uff0c\u501f\u7531\u4f7f\u7528 \u968f\u673a\u5316\u7b97\u6cd5 \uff08randomized algorithms\uff09\uff0c\u4e00\u4e2a\u7b97\u6cd5\u7684\u7a7a\u95f4\u9700\u6c42\u53ef\u4ee5\u88ab\u6781\u5ea6\u5730\u88c1\u51cf\u6389\u3002\u4e3e\u4e2a\u8303\u4f8b\uff0c\u6211\u4eec\u5e0c\u671b\u77e5\u9053\u4e00\u4e2a\u6709 n \u4e2a\u9876\u70b9\uff08vertices\uff09\u7684\u56fe\u5f62\u4e2d\u7684\u4e24\u4e2a\u9876\u70b9\u662f\u5426\u4f4d\u4e8e\u56fe\u4e2d\u540c\u4e00\u4e2a\u8fde\u63a5\u5143\u4ef6\uff08connected component\uff09\u3002\u6ca1\u6709\u5df2\u77e5\u7b80\u5355\u3001\u51b3\u5b9a\u6027\u7684\uff08deterministic\uff09\u3001\u539f\u5730\u7b97\u6cd5\u6765\u51b3\u5b9a\u8fd9\u4ef6\u4e8b\uff0c\u4f46\u662f\u5982\u679c\u6211\u4eec\u7b80\u5355\u5730\u7531\u4e00\u4e2a\u9876\u70b9\u5f00\u59cb\uff0c\u4e14\u6267\u884c\u5927\u7ea620n3\u6b65\u7684\u968f\u673a\u8d70\u8def\uff08random walk\uff09\uff0c\u90a3\u6211\u4eec\u4f1a\u5076\u9047\u5230\u5176\u4ed6\u9876\u70b9\u6765\u63d0\u4f9b\u5b83\u4e0d\u662f\u5728\u540c\u4e00\u4e2a\u5143\u4ef6\uff08component\uff09\u4e2d\u7684\u673a\u4f1a\u662f\u975e\u5e38\u5730\u9ad8\u3002\u7c7b\u4f3c\u5730\uff0c\u5bf9\u4e8e\u8d28\u6570\u6d4b\u8bd5\uff08primality test\uff09\u6709\u7b80\u5355\u7684\u968f\u673a\u5316\u539f\u5730\u7b97\u6cd5\u50cf\u662f\u7c73\u52d2-\u62c9\u5bbe\u68c0\u9a8c\uff0c\u4e5f\u6709\u7b80\u5355\u539f\u5730 \u968f\u673a\u5316 \u6574\u6570\u5206\u89e3 \u7b97\u6cd5\u50cf\u662fPollard's rho \u7b97\u6cd5\u3002\u53c2\u8003RL\u548cBPL\u6709\u5bf9\u8fd9\u4e2a\u73b0\u8c61\u66f4\u591a\u7684\u8ba8\u8bba\u3002","title":"\u968f\u610f\u7684\u89d2\u8272"},{"location":"algre/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95/#_7","text":"\u51fd\u6570 \u7a0b\u5f0f\u8bbe\u8ba1 \uff08functional programming\uff09\u8bed\u8a00\u7ecf\u5e38\u4e0d\u9f13\u52b1\u6216\u4e0d\u652f\u63f4\u4f1a\u8986\u76d6\u8d44\u6599\u7684\u539f\u5730\u7b97\u6cd5\uff0c\u56e0\u4e3a\u8fd9\u662f\u526f\u4f5c\u7528\u7684\u4e00\u79cd\u578b\u6001\uff1b\u53cd\u4e4b\uff0c\u4ed6\u4eec\u53ea\u5141\u8bb8\u5efa\u7acb\u65b0\u7684\u8d44\u6599\u3002\u7136\u800c\uff0c\u597d\u7684\u51fd\u6570\u8bed\u8a00 \u7f16\u8bd1\u5668 \uff08compiler\uff09\u5728\u5f53\u4e00\u4e2a\u4e0e\u4ee5\u5b58\u5728\u4e4b\u975e\u5e38\u76f8\u4f3c\u7684\u7269\u4ef6\u88ab\u5efa\u7acb\u65f6\uff0c\u90fd\u7ecf\u5e38\u4f1a\u8fa8\u8bc6\u51fa\u6765\uff0c\u7136\u540e\u65e7\u7684\u5c31\u4f1a\u88ab\u4e22\u5f03\u6389\uff0c\u800c\u4e14\u4f1a\u6700\u628a\u8fd9\u6700\u4f73\u5316\u4e3a\u4e00\u4e2a\u7b80\u5355\u7684\" \u5f15\u64ce\u76d6 \u4e4b\u4e0b\"\u8f6c\u6362\u3002 \u57fa\u672c\u4e0a\uff0c\u6709\u53ef\u80fd\u5c0f\u5fc3\u5730\u5efa\u6784\u539f\u5730\u7b97\u6cd5\u800c\u90e8\u4f1a\u66f4\u52a8\u8d44\u6599\uff08\u9664\u975e\u8d44\u6599\u5df2\u4e0d\u4f1a\u518d\u88ab\u4f7f\u7528\uff09\uff0c\u4f46\u662f\u5728\u5b9e\u9645\u4e0a\u8fd9\u5374\u5f88\u5c11\u89c1\u5230\u3002\u53c2\u8003\u7eaf\u51fd\u6570\u6570\u636e\u7ed3\u6784\uff08purely functional data structure\uff09\u3002","title":"\u5728\u51fd\u6570\u7684\u7a0b\u5f0f\u8bbe\u8ba1"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/","text":"\u53cc\u6307\u9488\u95ee\u9898 \u00b6 \u4ec0\u4e48\u662f\u53cc\u6307\u9488 \u00b6 \u53cc\u6307\u9488 \uff0c\u6307\u7684\u662f\u5728\u904d\u5386\u5bf9\u8c61\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u662f\u666e\u901a\u7684\u4f7f\u7528\u5355\u4e2a\u6307\u9488\u8fdb\u884c\u8bbf\u95ee\uff0c\u800c\u662f\u4f7f\u7528\u4e24\u4e2a\u76f8\u540c\u65b9\u5411\uff08 \u5feb\u6162\u6307\u9488 \uff09\u6216\u8005\u76f8\u53cd\u65b9\u5411\uff08 \u5bf9\u649e\u6307\u9488 \uff09\u7684\u6307\u9488\u8fdb\u884c\u626b\u63cf\uff0c\u4ece\u800c\u8fbe\u5230\u76f8\u5e94\u7684\u76ee\u7684\u3002 \u5206\u7c7b\uff1a\u5bf9\u649e\u6307\u9488\u3001\u5feb\u6162\u6307\u9488 \u6362\u8a00\u4e4b\uff0c\u53cc\u6307\u9488\u6cd5\u5145\u5206\u4f7f\u7528\u4e86\u6570\u7ec4\u6709\u5e8f\u8fd9\u4e00\u7279\u5f81\uff0c\u4ece\u800c\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u80fd\u591f\u7b80\u5316\u4e00\u4e9b\u8fd0\u7b97\u3002 \u5728 LeetCode \u9898\u5e93\u4e2d\uff0c\u5173\u4e8e**\u53cc\u6307\u9488**\u7684\u95ee\u9898\u8fd8\u662f\u633a\u591a\u7684\u3002 \u53cc\u6307\u9488 JS\u4f8b\u5b50 \u00b6 \u5bf9\u649e\u6307\u9488 \u00b6 \u5bf9\u649e\u6307\u9488**\u662f\u6307\u5728\u6709\u5e8f\u6570\u7ec4\u4e2d\uff0c\u5c06\u6307\u5411\u6700\u5de6\u4fa7\u7684\u7d22\u5f15\u5b9a\u4e49\u4e3a \u5de6\u6307\u9488(left) \uff0c\u6700\u53f3\u4fa7\u7684\u5b9a\u4e49\u4e3a \u53f3\u6307\u9488(right) \uff0c\u7136\u540e\u4ece\u4e24\u5934\u5411\u4e2d\u95f4\u8fdb\u884c\u6570\u7ec4\u904d\u5386\u3002\u5bf9\u649e\u6570\u7ec4\u9002\u7528\u4e8e**\u6709\u5e8f\u6570\u7ec4 \uff0c\u4e5f\u5c31\u662f\u8bf4\u5f53\u4f60\u9047\u5230\u9898\u76ee\u7ed9\u5b9a\u6709\u5e8f\u6570\u7ec4\u65f6\uff0c\u5e94\u8be5\u7b2c\u4e00\u65f6\u95f4\u60f3\u5230\u7528\u5bf9\u649e\u6307\u9488\u89e3\u9898\u3002 \u4f2a\u4ee3\u7801\u5927\u81f4\u5982\u4e0b\uff1a function fn ( list ) { var left = 0 ; var right = list . length - 1 ; //\u904d\u5386\u6570\u7ec4 while ( left <= right ) { left ++ ; // \u4e00\u4e9b\u6761\u4ef6\u5224\u65ad \u548c\u5904\u7406 ... ... right -- ; } } \u4e3e\u4e2aLeetCode\u4e0a\u7684\u4f8b\u5b50\uff1a \u4ee5**LeetCode 881 \u6551\u751f\u8247 **\u95ee\u9898\u4e3a\u4f8b \u7531\u4e8e\u672c\u9898\u53ea\u8981\u6c42\u8ba1\u7b97\u51fa \u6700\u5c0f\u8239\u6570 \uff0c\u6240\u4ee5\u539f\u6570\u7ec4\u662f\u5426\u88ab\u6539\u53d8\uff0c\u548c\u5143\u7d20\u7d22\u5f15\u4f4d\u7f6e\u90fd\u4e0d\u8003\u8651\u5728\u5185\uff0c\u6240\u4ee5\u53ef\u4ee5\u5148\u5bf9\u4e8e\u7ed9\u5b9a\u6570\u7ec4\u8fdb\u884c\u6392\u5e8f\uff0c\u518d\u4ece\u6570\u7ec4\u4e24\u4fa7\u5411\u4e2d\u95f4\u904d\u5386\u3002\u6240\u4ee5\u89e3\u9898\u601d\u8def\u5982\u4e0b\uff1a \u5bf9\u7ed9\u5b9a\u6570\u7ec4\u8fdb\u884c\u5347\u5e8f\u6392\u5e8f \u521d\u59cb\u5316\u5de6\u53f3\u6307\u9488 \u6bcf\u6b21\u90fd\u7528\u4e00\u4e2a\u201d\u6700\u91cd\u7684\u201c\u548c\u4e00\u4e2a\u201d\u6700\u8f7b\u7684\u201c\u8fdb\u884c\u914d\u5bf9\uff0c\u5982\u679c\u4e8c\u4eba\u91cd\u91cf\u5c0f\u4e8e Limit \uff0c\u5219\u6b64\u65f6\u7684\u201d\u6700\u8f7b\u7684\u201c\u4e0a\u8239\uff0c\u5373\uff08 left++ \uff09\u3002\u4e0d\u7ba1\u201d\u6700\u8f7b\u7684\u201c\u662f\u5426\u4e0a\u8239\uff0c\u201d\u6700\u91cd\u7684\u201c\u90fd\u8981\u4e0a\u8239\uff0c\u5373\uff08 right-- \uff09\u5e76\u4e14\u6240\u9700\u8239\u6570\u91cf\u52a0\u4e00\uff0c\u5373\uff08 num++ \uff09 \u4ee3\u7801\u5982\u4e0b\uff1a var numRescueBoats = function ( people , limit ) { people . sort (( a , b ) => ( a - b )); var num = 0 let left = 0 let right = people . length - 1 while ( left <= right ) { if (( people [ left ] + people [ right ]) <= limit ) { left ++ } right -- num ++ } return num }; \u5feb\u6162\u6307\u9488 \u00b6 **\u5feb\u6162\u6307\u9488**\u4e5f\u662f\u53cc\u6307\u9488\uff0c\u4f46\u662f\u4e24\u4e2a\u6307\u9488\u4ece\u540c\u4e00\u4fa7\u5f00\u59cb\u904d\u5386\u6570\u7ec4\uff0c\u5c06\u8fd9\u4e24\u4e2a\u6307\u9488\u5206\u522b\u5b9a\u4e49\u4e3a \u5feb\u6307\u9488\uff08fast\uff09 \u548c \u6162\u6307\u9488\uff08slow\uff09 \uff0c\u4e24\u4e2a\u6307\u9488\u4ee5\u4e0d\u540c\u7684\u7b56\u7565\u79fb\u52a8\uff0c\u76f4\u5230\u4e24\u4e2a\u6307\u9488\u7684\u503c\u76f8\u7b49\uff08\u6216\u5176\u4ed6\u7279\u6b8a\u6761\u4ef6\uff09\u4e3a\u6b62\uff0c\u5982fast\u6bcf\u6b21\u589e\u957f\u4e24\u4e2a\uff0cslow\u6bcf\u6b21\u589e\u957f\u4e00\u4e2a\u3002 \u4ee5 LeetCode 141.\u73af\u5f62\u94fe\u8868 \u4e3a\u4f8b,\uff0c\u5224\u65ad\u7ed9\u5b9a\u94fe\u8868\u4e2d\u662f\u5426\u5b58\u5728\u73af\uff0c\u53ef\u4ee5\u5b9a\u4e49\u5feb\u6162\u4e24\u4e2a\u6307\u9488\uff0c\u5feb\u6307\u9488\u6bcf\u6b21\u589e\u957f\u4e00\u4e2a\uff0c\u800c\u6162\u6307\u9488\u6bcf\u6b21\u589e\u957f\u4e24\u4e2a\uff0c\u6700\u540e\u4e24\u4e2a\u6307\u9488\u6307\u5411\u8282\u70b9\u7684\u503c\u76f8\u7b49\uff0c\u5219\u8bf4\u660e\u6709\u73af\u3002\u5c31\u597d\u50cf\u4e00\u4e2a\u73af\u5f62\u8dd1\u9053\u4e0a\u6709\u4e00\u5feb\u4e00\u6162\u4e24\u4e2a\u8fd0\u52a8\u5458\u8d5b\u8dd1\uff0c\u5982\u679c\u65f6\u95f4\u8db3\u591f\u957f\uff0c\u8dd1\u5730\u5feb\u7684\u8fd0\u52a8\u5458\u4e00\u5b9a\u4f1a\u8d76\u4e0a\u6162\u7684\u8fd0\u52a8\u5458\u3002 \u89e3\u9898\u4ee3\u7801\u5982\u4e0b\uff1a /** * Definition for singly-linked list. * function ListNode(val) { * this.val = val; * this.next = null; * } */ /** * @param {ListNode} head * @return {boolean} */ var hasCycle = function ( head ) { if ( head === null || head . next === null ) { return false ; } let slow = head ; let fast = head . next ; while ( slow !== fast ) { if ( fast === null || fast . next === null ) { return false } slow = slow . next fast = fast . next . next } return true }; \u518d\u6bd4\u5982 LeetCode 26 \u5220\u9664\u6392\u5e8f\u6570\u7ec4\u4e2d\u7684\u91cd\u590d\u9879 \uff0c\u8fd9\u91cc\u8fd8\u662f\u5b9a\u4e49\u5feb\u6162\u4e24\u4e2a\u6307\u9488\u3002\u5feb\u6307\u9488\u6bcf\u6b21\u589e\u957f\u4e00\u4e2a\uff0c\u6162\u6307\u9488\u53ea\u6709\u5f53\u5feb\u6162\u6307\u9488\u4e0a\u7684\u503c\u4e0d\u540c\u65f6\uff0c\u624d\u589e\u957f\u4e00\u4e2a\uff08\u7531\u4e8e\u662f\u6709\u5e8f\u6570\u7ec4\uff0c\u5feb\u6162\u6307\u9488\u503c\u4e0d\u7b49\u8bf4\u660e\u627e\u5230\u4e86\u65b0\u503c\uff09\u3002 \u771f\u5b9e\u4ee3\u7801\uff1a var removeDuplicates = function ( nums ) { if ( nums . length === 0 ) { return 0 ; } let slow = 0 ; for ( let fast = 0 ; fast < nums . length ; fast ++ ) { if ( nums [ fast ] !== nums [ slow ]) { slow ++ ; nums [ slow ] = nums [ fast ]; } } // Michael\uff1a\u8fd9\u91cc\u7684\u7b97\u6cd5\u4e0d\u5b8c\u5584\uff0c\u73b0\u5728\u53ea\u83b7\u53d6\u4e86\u8fd4\u56de\u7684\u4e0d\u91cd\u590d\u5143\u7d20\u7684\u4e2a\u6570\uff0c\u90a3\u4e48\u539f\u6765\u7684\u6570\u7ec4\u540e\u9762\u7684\u5143\u7d20\u5e94\u8be5\u5220\u9664[1,1,1,1,2,3] \u53d8\u6210 [1,2,3,1,2,3] \u540e\u9762\u7684\u9700\u8981\u76f4\u63a5\u53bb\u6389\uff0c\u8fd9\u6837\u624d\u80fd\u6ee1\u8db3\u8981\u6c42\u3002\u8fd9\u4e2a\u601d\u8def\u6bd4\u5faa\u73af\u4e00\u6b21spliec\u66f4\u597d return slow + 1 ; }; \u603b\u7ed3 \u00b6 \u5f53\u9047\u5230\u6709\u5e8f\u6570\u7ec4\u65f6\uff0c\u5e94\u8be5\u4f18\u5148\u60f3\u5230 \u53cc\u6307\u9488 \u6765\u89e3\u51b3\u95ee\u9898\uff0c\u56e0\u4e24\u4e2a\u6307\u9488\u7684\u540c\u65f6\u904d\u5386\uff0c\u4f1a\u51cf\u5c11\u7a7a\u95f4\u590d\u6742\u5ea6\u548c\u65f6\u95f4\u590d\u6742\u5ea6\u3002 Go\u4f8b\u5b50 \u00b6 \u53cc\u6307\u9488\u4e3b\u8981\u7528\u4e8e\u904d\u5386\u6570\u7ec4\uff0c\u4e24\u4e2a\u6307\u9488\u6307\u5411\u4e0d\u540c\u7684\u5143\u7d20\uff0c\u4ece\u800c\u534f\u540c\u5b8c\u6210\u4efb\u52a1\u3002\u53cc\u6307\u9488\u53ef\u4ee5\u4ece\u4e0d\u540c\u7684\u65b9\u5411\u5411\u4e2d\u95f4\u903c\u8fd1\u4e5f\u53ef\u4ee5\u671d\u7740\u540c\u4e00\u4e2a\u65b9\u5411\u904d\u5386\u3002 \u5728LeedCode\u4e2d\u6709\u5f88\u591a\u9898\u76ee\u53ef\u4ee5\u901a\u8fc7\u53cc\u6307\u9488\u7684\u601d\u60f3\u6765\u89e3\u7b54\u3002\u5176\u4e2d\u5305\u62ec\uff1a 1\u3001\u6709\u5e8f\u6570\u7ec4\u7684 Two Sum \u00b6 Leetcode \uff1a167. Two Sum II - Input array is sorted (Easy) Input: numbers={2, 7, 11, 15}, target=9 Output: index1=1, index2=2 \u9898\u76ee\u63cf\u8ff0\uff1a\u5728\u6709\u5e8f\u6570\u7ec4\u4e2d\u627e\u51fa\u4e24\u4e2a\u6570\uff0c\u4f7f\u5b83\u4eec\u7684\u548c\u4e3a target\u3002 \u4f7f\u7528\u53cc\u6307\u9488\uff0c\u4e00\u4e2a\u6307\u9488\u6307\u5411\u503c\u8f83\u5c0f\u7684\u5143\u7d20\uff0c\u4e00\u4e2a\u6307\u9488\u6307\u5411\u503c\u8f83\u5927\u7684\u5143\u7d20\u3002 \u6307\u5411\u8f83\u5c0f\u5143\u7d20\u7684\u6307\u9488\u4ece\u5934\u5411\u5c3e\u904d\u5386\uff0c\u6307\u5411\u8f83\u5927\u5143\u7d20\u7684\u6307\u9488\u4ece\u5c3e\u5411\u5934\u904d\u5386\u3002 \u5982\u679c\u4e24\u4e2a\u6307\u9488\u6307\u5411\u5143\u7d20\u7684\u548c sum == target\uff0c\u90a3\u4e48\u5f97\u5230\u8981\u6c42\u7684\u7ed3\u679c\uff1b \u5982\u679c sum > target\uff0c\u79fb\u52a8\u8f83\u5927\u7684\u5143\u7d20\uff0c\u4f7f sum \u53d8\u5c0f\u4e00\u4e9b\uff1b \u5982\u679c sum < target\uff0c\u79fb\u52a8\u8f83\u5c0f\u7684\u5143\u7d20\uff0c\u4f7f sum \u53d8\u5927\u4e00\u4e9b\u3002 func twoSum ( numbers [] int , target int ) [] int { for i , j := 0 , len ( numbers ) - 1 ; i < j ;{ if numbers [ i ] + numbers [ j ] == target { return [] int { i + 1 , j + 1 } } if numbers [ i ] + numbers [ j ] < target { i ++ continue } if numbers [ i ] + numbers [ j ] > target { j -- continue } } return [] int {} } 2\u3001\u4e24\u6570\u5e73\u65b9\u548c \u00b6 633. Sum of Square Numbers (Easy) Input: 5 Output: True Explanation: 1 * 1 + 2 * 2 = 5 \u9898\u76ee\u63cf\u8ff0\uff1a\u5224\u65ad\u4e00\u4e2a\u6570\u662f\u5426\u4e3a\u4e24\u4e2a\u6570\u7684\u5e73\u65b9\u548c\u3002 /*\u8bbe\u7f6e\u4e24\u4e2a\u6307\u9488\uff0c\u4e00\u4e2a\u4ece\u524d\uff080\uff09\u5f00\u59cb\u904d\u5386\uff0c\u4e00\u4e2a\u4ece\u540e\uff08sqrt(n)\uff09\u5f00\u59cb\u904d\u5386\uff0c\u76f4\u5230\u627e\u5230\u5408\u9002\u7684\u89e3 */ func judgeSquareSum ( c int ) bool { for i , j := 0 , int ( math . Sqrt ( float64 ( c ))); i <= j ;{ if i * i + j * j == c { return true } if i * i + j * j < c { i ++ continue } if i * i + j * j > c { j -- continue } } return false } 3\u3001\u53cd\u8f6c\u5b57\u7b26\u4e32\u4e2d\u7684\u5143\u97f3\u5b57\u7b26 \u00b6 345. Reverse Vowels of a String (Easy) Given s = \"leetcode\" , return \"leotcede\" . /*\u4f7f\u7528\u53cc\u6307\u9488\u6307\u5411\u5f85\u53cd\u8f6c\u7684\u4e24\u4e2a\u5143\u97f3\u5b57\u7b26\uff0c\u4e00\u4e2a\u6307\u9488\u4ece\u5934\u5411\u5c3e\u904d\u5386\uff0c\u4e00\u4e2a\u6307\u9488\u4ece\u5c3e\u5230\u5934\u904d\u5386\uff0c\u53d1\u73b0\u4e24\u4e2a\u5143\u97f3\u540e\u4ea4\u6362*/ func reverseVowels ( s string ) string { bs := [] byte ( s ) for i , j := 0 , len ( bs ) - 1 ; i < j ;{ if ! isVowel ( bs [ i ]){ i ++ continue } if ! isVowel ( bs [ j ]){ j -- continue } temp := bs [ i ] bs [ i ]= bs [ j ] bs [ j ]= temp i ++ j -- } return string ( bs ) } func isVowel ( b byte ) bool { return b == 'a' || b == 'e' || b == 'i' || b == 'o' || b == 'u' || b == 'A' || b == 'E' || b == 'I' || b == 'O' || b == 'U' } 4\u3001\u56de\u6587\u5b57\u7b26\u4e32 \u00b6 680. Valid Palindrome II (Easy) Input : \"abca\" Output : True Explanation : You could delete the character 'c' . \u9898\u76ee\u63cf\u8ff0\uff1a\u53ef\u4ee5\u5220\u9664\u4e00\u4e2a\u5b57\u7b26\uff0c\u5224\u65ad\u662f\u5426\u80fd\u6784\u6210\u56de\u6587\u5b57\u7b26\u4e32\u3002 /*\u4e24\u4e2a\u6307\u9488\uff0c\u4e00\u4e2a\u4ece\u524d\u4e00\u4e2a\u5f80\u540e\uff0c\u4e00\u81f4\u7ee7\u7eed\u5f80\u524d\uff0c\u4e0d\u4e00\u81f4\u5219\u5206\u522b\u770b\u8fc7\u6ee4\u54ea\u4e00\u8fb9\u53ef\u4ee5\u7ee7\u7eed*/ func validPalindrome ( s string ) bool { bs := [] byte ( s ) for i , j := 0 , len ( bs ) - 1 ; i < j ;{ if bs [ i ] != bs [ j ] { //\u53d1\u73b0\u4e0d\u4e00\u81f4\uff0c\u5206\u522b\u770b\u53bb\u6389\u5de6\u8fb9\u8fd8\u662f\u53bb\u6389\u53f3\u8fb9\u4efb\u610f\u4e00\u4e2a\u53ef\u4ee5\u5c31\u901a\u8fc7 return ispalindrome ( bs , i + 1 , j ) || ispalindrome ( bs , i , j - 1 ) } i ++ j -- } return true } func ispalindrome ( bs [] byte , left , right int ) bool { for ; left < right ;{ if bs [ left ] != bs [ right ]{ return false } left ++ right -- } return true } 5\u3001\u5f52\u5e76\u4e24\u4e2a\u6709\u5e8f\u6570\u7ec4 \u00b6 88. Merge Sorted Array (Easy) Input: nums1 = [1,2,3,0,0,0], m = 3 nums2 = [2,5,6], n = 3 Output: [1,2,2,3,5,6] \u9898\u76ee\u63cf\u8ff0\uff1a\u628a\u5f52\u5e76\u7ed3\u679c\u5b58\u5230\u7b2c\u4e00\u4e2a\u6570\u7ec4\u4e0a\u3002 /*\u4ece\u5c3e\u5f00\u59cb\u904d\u5386,\u9010\u4e2a\u6bd4\u8f83\u6dfb\u52a0\u5230nums1\u4e0a*/ func merge ( nums1 [] int , m int , nums2 [] int , n int ) { index := m + n - 1 for index1 , index2 := m - 1 , n - 1 ; index1 >= 0 || index2 >= 0 ; index -- { if index1 < 0 { nums1 [ index ] = nums2 [ index2 ] index2 -- } else if index2 < 0 { nums1 [ index ] = nums1 [ index1 ] index1 -- } else if nums1 [ index1 ] <= nums2 [ index2 ] { nums1 [ index ] = nums2 [ index2 ] index2 -- } else if nums1 [ index1 ] > nums2 [ index2 ]{ nums1 [ index ] = nums1 [ index1 ] index1 -- } } } 6\u3001\u5224\u65ad\u94fe\u8868\u662f\u5426\u5b58\u5728\u73af \u00b6 141. Linked List Cycle (Easy) /** * Definition for singly-linked list. * struct ListNode { * int val; * ListNode *next; * ListNode(int x) : val(x), next(NULL) {} * }; */ /*\u4f7f\u7528\u53cc\u6307\u9488\uff0c\u4e00\u4e2a\u6307\u9488\u6bcf\u6b21\u79fb\u52a8\u4e00\u4e2a\u8282\u70b9\uff0c\u4e00\u4e2a\u6307\u9488\u6bcf\u6b21\u79fb\u52a8\u4e24\u4e2a\u8282\u70b9\uff0c\u5982\u679c\u5b58\u5728\u73af\uff0c\u90a3\u4e48\u8fd9\u4e24\u4e2a\u6307\u9488\u4e00\u5b9a\u4f1a\u76f8\u9047\u3002*/ class Solution { public : bool hasCycle ( ListNode * head ) { if ( head == NULL || head -> next == NULL ){ return false ; } ListNode * l1 = head ; ListNode * l2 = head -> next ; while ( l2 != NULL && l2 -> next != NULL ){ if ( l1 == l2 ){ return true ; } else { l1 = l1 -> next ; l2 = l2 -> next -> next ; } } return false ; } }; 7\u3001\u6700\u957f\u5b50\u5e8f\u5217 \u00b6 524. Longest Word in Dictionary through Deleting (Medium) Input: s = \"abpcplea\" , d = [ \"ale\" , \"apple\" , \"monkey\" , \"plea\" ] Output: \"apple\" \u9898\u76ee\u63cf\u8ff0\uff1a\u5220\u9664 s \u4e2d\u7684\u4e00\u4e9b\u5b57\u7b26\uff0c\u4f7f\u5f97\u5b83\u6784\u6210\u5b57\u7b26\u4e32\u5217\u8868 d \u4e2d\u7684\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u627e\u51fa\u80fd\u6784\u6210\u7684\u6700\u957f\u5b57\u7b26\u4e32\u3002\u5982\u679c\u6709\u591a\u4e2a\u76f8\u540c\u957f\u5ea6\u7684\u7ed3\u679c\uff0c\u8fd4\u56de\u5b57\u5178\u5e8f\u7684\u6700\u5927\u5b57\u7b26\u4e32\u3002 /*\u4e24\u4e2a\u6307\u9488\u4ece\u5934\u5f00\u59cb\u67e5\u770b\u662f\u5426\u80fd\u543b\u5408\uff0c\u5982\u679c\u67e5\u5230d\u4e2d\u5b57\u4e32\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u4e5f\u543b\u5408\u4ee3\u8868\u80fd\u591f\u5b8c\u5168match\uff0c\u518d\u5904\u7406\u540c\u957f\u5ea6\u7684\u95ee\u9898*/ func findLongestWord ( s string , d [] string ) string { result := \"\" for _ , v := range d { if len ( result ) > len ( v ) || len ( result ) == len ( v ) && result <= v { continue } if isValid ( s , v ) { result = v } } return result } func isValid ( s string , v string ) bool { //\u770b\u662f\u4e0d\u662f\u80fdmatch\u4e0a bs := [] byte ( s ) bv := [] byte ( v ) i , j := 0 , 0 for i < len ( bs ) && j < len ( bv ){ if bs [ i ] == bv [ j ]{ j ++ } i ++ } if j == len ( bv ) { //\u6700\u540e\u4e00\u4e2a\u4e5f\u7b26\u5408\u3002 return true } return false } C++\u4f8b\u5b50 \u00b6 \u6b64\u7c7b\u95ee\u9898\u4e00\u822c\u6d89\u53ca\u51e0\u79cd\u60c5\u5f62\uff1a in place \u7684\u66f4\u65b0\u6570\u7ec4\uff0c\u9700\u8981\u4e00\u4e2aindex\u8bb0\u5f55\u66f4\u65b0\u4e4b\u540e\u7684\u6570\u7ec4\uff0c\u53e6\u4e00\u4e2aindex\u8dd1\u904d\u539f\u6765\u7684\u6570\u7ec4\uff1b \u8fd8\u6709\u5c31\u662f\u627e\u5230\u6570\u7ec4\u91cc\u9762\u7684N\u4e2a\u6570\u4f7f\u5f97\u8fd9\u51e0\u4e2a\u6570\u6ee1\u8db3\u4e00\u5b9a\u7684\u6761\u4ef6\uff08\u5982\u51e0\u4e2a\u6570\u4e4b\u548c\u5fc5\u987b\u4e3a\u67d0\u4e00\u4e2a\u7279\u5b9a\u7684\u6570\uff09\uff1b\u8fd8\u6709\u5c31\u662f\u4e00\u7c7b\u7279\u6b8a\u7684\u95ee\u9898\u96e8\u6c34\u50a8\u5b58\u95ee\u9898\u3002 \u8fd9\u91cc\u6709\u51e0\u4e2a\u5173\u952e\u95ee\u9898\u9700\u8981\u7406\u89e3: \u9996\u5148\u6570\u7ec4\u662f\u5426\u6392\u5e8f\uff0c\u6839\u636e\u4fe1\u606f\u8bba\u7684\u770b\u6cd5\u6216\u8005\u80fd\u91cf\u5b88\u6052\u7684\u539f\u7406\uff0c\u6570\u7ec4\u662f\u5426\u6392\u5e8f\u4e0e\u5892\u6709\u5173\uff0c\u5892\u7684\u672c\u8d28\u5c31\u662f\u63cf\u8ff0\u4e8b\u7269\u6709\u5e8f\u7a0b\u5ea6\u7684\u5ea6\u91cf\uff0c\u6362\u53e5\u8bdd\u8bf4\u4e8b\u7269\u8d8a\u6709\u5e8f\u5892\u7684\u503c\u8d8a\u4f4e\uff0c\u5e76\u4e14\u672c\u8d28\u662f\u5892\u4f1a\u81ea\u7136\u7684\u4f1a\u589e\u5927\u5728\u65e0\u5916\u529b\u5e72\u6270\u7684\u72b6\u51b5\u4e0b\uff0c\u4e5f\u5c31\u662f\u4e8b\u7269\u603b\u662f\u5411\u7740\u65e0\u5e8f\u53d1\u5c55\u7684\u3002\u800c\u600e\u6837\u8ba9\u4e8b\u7269\u53d8\u7684\u6709\u5e8f\u5462\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u5916\u529b\u80fd\u91cf\u7684\u8f93\u5165\u6765\u4f7f\u5f97\u5892\u53d8\u5c0f\u6216\u8005\u53d8\u7684\u6709\u5e8f\u3002\u90a3\u4e48\u5728\u6570\u7ec4\u662f\u5426\u6709\u5e8f\u7684\u95ee\u9898\u4e0a\uff0c\u6211\u4eec\u5e0c\u671b\u5b83\u662f\u6709\u5e8f\u7684\uff0c\u5982\u679c\u4e0d\u662f\u90a3\u4e48\u5c31\u9700\u8981\u82b1\u8d39\u201c\u80fd\u91cf\u201d\u8ba9\u4ed6\u7684\u5892\u53d8\u5c0f\uff0c\u8fd9\u6837\u590d\u6742\u5ea6O(nlogn)\u5c31\u4e0a\u53bb\u4e86\uff0c\u8fd9\u91cc\u590d\u6742\u5ea6\u53ef\u4ee5\u770b\u4f5c\u4e3a\u5916\u4f5c\u7528\u529b\u7684\u4f53\u73b0\u3002 \u5176\u6b21\u53cc\u6307\u9488\u95ee\u9898\u7684\u672c\u8d28\u5176\u5b9e\u662f\u7531\u4e8e\u6709\u4e24\u4e2a\u6216\u8005\u591a\u4e2a\u5143\u7d20\u6709\u76f8\u4e92\u4f5c\u7528\u6216\u8005\u76f8\u5173\u8054\uff0c\u56e0\u6b64\u5728\u6539\u53d8\u5176\u4e2d\u4e00\u4e2a\u5143\u7d20\u7684\u540c\u65f6\u5176\u4ed6\u51e0\u4e2a\u5143\u7d20\u4e5f\u9700\u8981\u8ddf\u7740\u6539\u53d8\uff0c\u56e0\u6b64\u53cc\u6307\u9488\u95ee\u9898\u4e00\u822c\u662f\u5728\u6ee1\u8db3\u51e0\u4e2a\u5143\u7d20\u5173\u7cfb\u4e0d\u53d8\u7684\u60c5\u51b5\u4e4b\u4e0b\uff0c\u6539\u53d8\u4e00\u4e2a\u5143\u7d20\u7684\u540c\u65f6\uff0c\u5bfb\u627e\u5176\u4ed6\u51e0\u4e2a\u5143\u7d20\u6ee1\u8db3\u73b0\u6709\u7684\u5173\u7cfb\u60c5\u51b5\u3002 \u5b9e\u65f6\u66f4\u65b0\u6570\u7ec4 \u00b6 \u4f8b\u9898\uff1a Remove Element \u5206\u6790\uff1a \u8fd9\u9053\u9898\u6709\u51e0\u4e2a\u5173\u952e\u5b57\u9700\u8981\u6ce8\u610f: in place , the order of elements can be changed .\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u7528two pointers\uff0c\u4e00\u4e2a\u8bb0\u5f55remove\u8fc7\u540e\u7684\u6570\u7ec4\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u4f4d\u7f6e\uff0c\u4e00\u4e2a\u7528\u6765\u904d\u5386\u6574\u4e2a\u6570\u7ec4\uff0c\u5224\u65ad\u6761\u4ef6\u5c31\u662f\u6bd4\u8f83\u8be5\u5143\u7d20\u548ctarget\u7684\u503c\uff0c\u5982\u679c\u4e0d\u76f8\u7b49\u5c31\u628a\u5b83copy\u7ed9\u53e6\u4e00\u4e2apointer.\u56e0\u4e3a\u9898\u76ee\u53ea\u9700\u8981\u6c42\u6700\u540e\u7684\u6570\u7ec4\u957f\u5ea6\uff0c\u6240\u4ee5\u8fd4\u56de\u6700\u540e\u8bb0\u5f55\u4f4d\u7f6e\u5c31\u53ef\u4ee5\u4e86\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n)\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int removeElement ( int A [], int n , int elem ) { if ( A == nullptr || n == 0 ) return 0 ; int index = 0 ; for ( int i = 0 ; i < n ; ++ i ){ if ( A [ i ] != elem ){ A [ index ++ ] = A [ i ]; } } return index ; } }; \u63a5\u4e0b\u6765\u6211\u4eec\u770b\u4e00\u770b\u8fd9\u9053\u9898\u7684\u4e00\u4e2a\u53d8\u5f62\uff1a \u4f8b\u9898\uff1a Remove Duplicates from Sorted Array \u5206\u6790\uff1a\u8fd9\u9053\u9898\u51e0\u4e4e\u548c\u4e0a\u4e00\u9898\u4e00\u6837\uff0c\u8fd9\u91cc\u6ce8\u610f\u6570\u7ec4\u662f\u6392\u5e8f\u7684\uff0c \u5173\u952e\u8bcd\uff1a in place with constant memory . \u6709\u4e00\u4e2a\u5730\u65b9\u503c\u5f97\u6ce8\u610f\u7b2c\u4e8c\u4e2apointer\u7684\u8d77\u59cb\u70b9\u5e94\u8be5\u4ece\u7b2c\u4e8c\u4e2a\u5143\u7d20\u5f00\u59cb\uff0c\u56e0\u4e3a\u5b9e\u9645\u4e0a\u7b2c\u4e8c\u4e2a\u6307\u9488\u662f\u7528\u6765\u6bd4\u8f83\u548c\u524d\u4e00\u4e2a\u5143\u7d20\u7684\u503c\uff0c\u5982\u679c\u76f8\u7b49\u5c31skip. \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int removeDuplicates ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; int index = 0 ; for ( int i = 1 ; i < n ; ++ i ){ if ( A [ index ] != A [ i ]){ A [ ++ index ] = A [ i ]; } } return index + 1 ; } }; \u4e0b\u9762\u589e\u52a0\u4e86\u4e00\u70b9\u96be\u5ea6\uff0c\u5982\u679c\u540c\u4e00\u4e2a\u5143\u7d20\u5141\u8bb8\u51fa\u73b0\u4e24\u6b21\u3002 \u4f8b\u9898\uff1a \uff3bRemove Duplicates from Sorted Array II]( https://oj.leetcode.com/problems/remove-duplicates-from-sorted-array-ii/ ) \u5206\u6790\uff1a \u9996\u5148\u60f3\u5230\u7684\u662fhashtable\u50a8\u5b58\u6bcf\u4e2a\u5143\u7d20\u7684\u4e2a\u6570\uff0c\u4ed4\u7ec6\u89c2\u5bdf\u9898\u76ee\u53ef\u4ee5\u53d1\u73b0\u5176\u5b9e\u4e0d\u9700\u8981hashtable\uff0c\u56e0\u4e3a\u6570\u7ec4\u662f\u6392\u5e8f\u7684\uff0c\u91cd\u590d\u7684\u5143\u7d20\u5e94\u8be5\u4f1a\u8fde\u5728\u4e00\u8d77\uff0c\u8fd9\u6837\u904d\u5386\u7684\u65f6\u5019\u591a\u52a0\u4e00\u4e2a\u5224\u65ad\u5c31\u53ef\u4ee5\u89e3\u51b3\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n),\u7a7a\u95f4\u590d\u6742\u5ea6O(1). \u5148\u770b\u4e00\u4e2a\u89e3\u6cd5\u5efa\u7acb\u5728\u4e0a\u4e00\u9898\u7684\u57fa\u7840\u4e0a\uff0c\u5176\u4e2d\u5224\u65ad\u4e86\u524d\u540e\u5143\u7d20\u662f\u5426\u76f8\u7b49\uff0c\u8fd9\u6837\u4fdd\u8bc1\u6700\u591a\u53ea\u6709\u4e24\u4e2a\u76f8\u540c\u7684\u5143\u7d20\uff1a class Solution { public : int removeDuplicates ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; int index = 0 ; for ( int i = 1 ; i < n ; ++ i ){ if ( A [ index ] == A [ i ] && ( index == 0 || A [ index -1 ] != A [ index ])) A [ ++ index ] = A [ i ]; if ( A [ index ] != A [ i ]) A [ ++ index ] = A [ i ]; } return index + 1 ; } }; \u5176\u5b9e\u53ef\u4ee5\u7a0d\u52a0\u6539\u53d8\uff0c\u4f7f\u5f97\u89e3\u6cd5\u66f4\u6709\u53ef\u6269\u5c55\u6027\uff0c\u5904\u7406N\u4e2a\u91cd\u590d\u7684\u5143\u7d20\u7684\u60c5\u5f62\uff1a class Solution { public : int removeDuplicates ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; if ( n <= 2 ) return n ; int index = 2 ; for ( int i = 2 ; i < n ; ++ i ){ if ( A [ i ] != A [ index - 2 ]) A [ index ++ ] = A [ i ]; } return index ; } }; \u8fd9\u91cc\u76f4\u63a5\u4ece\u7b2c\u4e09\u4e2a\u5143\u7d20\u5f00\u59cb\u6bd4\u8f83\uff0c\u5982\u679c\u662f\u5141\u8bb8N\u4e2a\u91cd\u590d\u5143\u7d20\uff0c2\u53ef\u4ee5\u6539\u4e3aN,\u4ee3\u7801\u6bd4\u4e0a\u4e2a\u89e3\u6cd5\u7b80\u6d01\u4e5f\u66f4\u5177\u6709\u53ef\u62d3\u5c55\u6027\u3002 \u524d\u9762\u51e0\u9053\u9898\u90fd\u662f\u5220\u9664\u5143\u7d20\uff0c\u8fd8\u6709\u4e00\u7c7b\u95ee\u9898\u5c31\u662f\u6392\u5e8f\u95ee\u9898\u6709\u65f6\u5019\u4e5f\u53ef\u4ee5\u7528Two Pointers\u7684\u89e3\u6cd5. \u4f8b\u9898: [Sort Colors] ( https://oj.leetcode.com/problems/sort-colors/ ) \u5206\u6790\uff1a\u8fd9\u91cc\u6709\u4e09\u4e2a\u6307\u9488\uff0c\u4f46\u662f\u5b9e\u9645\u662f\u4e24\u4e2a\u5728\u64cd\u4f5c\uff0c\u4e00\u4e2a\u5b58red\u7684index\uff0c\u4e00\u4e2a\u5b58blue\u7684index, \u7136\u540e\u4e24\u8fb9\u5f80\u4e2d\u95f4\u8d70\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : void sortColors ( int A [], int n ) { int j = 0 , k = n -1 ; int i = 0 ; while ( i < k + 1 ){ if ( A [ i ] == 0 ){ int t = A [ j ]; A [ j ] = A [ i ]; A [ i ] = t ; j ++ ; i ++ ; } else if ( A [ i ] == 2 ){ int t = A [ k ]; A [ k ] = A [ i ]; A [ i ] = t ; k -- ; } else { i ++ ; } } } }; \u6b64\u5916\u8fd9\u9053\u9898\u8fd8\u6709\u4e2a\u975e\u5e38\u5de7\u5999\u7684\u89e3\u6cd5\uff0c\u5229\u7528\u5230\u4e86partition\u4e2d\u7684\u539f\u7406\uff1a class Solution { public : void sortColors ( int A [], int n ) { int j = 0 ; int k = 0 ; int i = 0 ; for ( int m = 0 ; m < n ; ++ m ){ if ( A [ m ] == 2 ){ A [ k ++ ] = 2 ; } else if ( A [ m ] == 1 ){ A [ k ++ ] = 2 ; A [ j ++ ] = 1 ; } else if ( A [ m ] == 0 ){ A [ k ++ ] = 2 ; A [ j ++ ] = 1 ; A [ i ++ ] = 0 ; } } } }; \u96e8\u6c34\u95ee\u9898 \u00b6 \u6b64\u7c7b\u95ee\u9898\u8868\u9762\u4e0a\u770b\u8ddf\u53cc\u6307\u9488\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\uff0c\u4f46\u662f\u7ecf\u8fc7\u4ed4\u7ec6\u5206\u6790\uff0c\u4f1a\u53d1\u73b0\u6709\u5f88\u591a\u5171\u540c\u4e4b\u5904\u3002 \u4f8b\u9898\uff1a Container with Most water \u5206\u6790\uff1a\u8fd9\u9053\u9898\u53ef\u4ee5\u5148\u627e\u51e0\u4e2a\u6570\u6a21\u62df\u4e00\u4e0b\uff0c\u4f1a\u53d1\u73b0\u5982\u679c\u60f3\u8ba9\u5bb9\u5668\u50a8\u5b58\u7684\u6c34\u591a\uff0c\u9700\u8981\u5de6\u53f3\u4e24\u4e2a\u6570\u8ddd\u79bb\u8d8a\u8fdc\u8d8a\u597d\uff0c\u5e76\u4e14\u4e24\u4e2a\u6570\u4e2d\u8f83\u5c0f\u7684\u6570\u503c\u8d8a\u5927\u8d8a\u597d\u3002\u9996\u5148\u8003\u8651\u66b4\u529b\u89e3\u6cd5\uff0c\u56fa\u5b9a\u4e00\u8fb9\uff0c\u7136\u540e\u627e\u53e6\u4e00\u8fb9\u8d8a\u5927\u8d8a\u597d\uff0c\u5bf9\u6bcf\u4e00\u4e2a\u6570\u90fd\u67e5\u627e\u4e00\u4e0b\uff0c\u5c31\u9700\u8981O(n^2).\u4ed4\u7ec6\u7814\u7a76\u53d1\u73b0\uff0c\u8fd9\u9053\u9898\u662f\u53ef\u4ee5\u7528\u53cc\u6307\u9488\u7684\uff0c\u56e0\u4e3a\u6700\u540e\u7684\u7ed3\u679c\u88ab\u51b3\u5b9a\u4e8e\u5de6\u53f3\u4e24\u4e2a\u6570\uff0c\u90a3\u4e48\u600e\u4e48\u8fdb\u884c\u904d\u5386\u5462\uff0c\u5982\u679c\u56fa\u5b9a\u4e00\u8fb9\uff0c\u6c38\u8fdc\u5e0c\u671b\u627e\u6bd4\u8fd9\u4e00\u8fb9\u5927\u7684\u6570\uff0c\u56e0\u6b64\u5982\u679c\u6bd4\u8fd9\u4e00\u8fb9\u5c0f\u53ef\u4ee5skip\u6389\u3002\u4e8e\u662fleft \u548cright\u4e24\u8fb9\u5de6\u53f3\u5939\u903c\uff0c\u9047\u5230\u8f83\u5c0f\u7684\u6570\u5c31skip\u6389\u76f4\u5230\u91cd\u5408\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int maxArea ( vector < int > & height ) { if ( height . size () == 0 ) return 0 ; int i = 0 ; int j = height . size () -1 ; int maxA = INT_MIN ; while ( i < j ){ int area = min ( height [ j ], height [ i ]) * ( j - i ); maxA = max ( maxA , area ); if ( height [ i ] < height [ j ]){ i ++ ; } else { j -- ; } } return maxA ; } }; \u518d\u6765\u770b\u4e00\u4e2a\u7c7b\u4f3c\u7684\u9898\u76ee\uff0c\u8fd9\u91cccontainer\u4e0d\u6b62\u4e00\u4e2a\u4e86\u3002 \u9898\u76ee\uff1a Trapping Rain Water \u5206\u6790\uff1a\u8fd9\u91cc\u4e5f\u662f\u7c7b\u4f3c\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u67f1\u5b50\u9700\u8981\u5206\u522b\u5bfb\u627e\u5b83\u7684\u5de6\u8fb9\u548c\u53f3\u8fb9\u6700\u9ad8\u7684\u67f1\u5b50\uff0c\u8fd9\u6837\u8be5\u67f1\u5b50\u80fd\u5bb9\u7eb3\u7684\u9762\u79ef\u5c31\u662fmin(max_left, max_right) - height.\u56e0\u6b64\u89e3\u6cd5\u81ea\u7136\u53d8\u6210\u4e86\u4ece\u5de6\u5f80\u53f3\u904d\u5386\uff0c\u627e\u5230\u6bcf\u4e2a\u67f1\u5b50\u5de6\u8fb9\u6700\u5927\u503c\uff0c\u7136\u540e\u4ece\u53f3\u5411\u5de6\u904d\u5386\u627e\u5230\u6bcf\u4e2a\u67f1\u5b50\u53f3\u8fb9\u6700\u5927\u503c\u3002\u6700\u540e\u4e00\u6b21\u904d\u5386\u8ba1\u7b97\u6bcf\u4e2a\u67f1\u5b50\u53ef\u4ee5\u5bb9\u7eb3\u7684\u9762\u79ef\u3002 \u590d\u6742\u5ea6\uff1a\u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(n). class Solution { public : int trap ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; vector < int > right_height ( n ); vector < int > left_height ( n ); int height = 0 , total = 0 ; for ( int i = 0 ; i < n ; ++ i ){ if ( A [ i ] > height ) height = A [ i ]; right_height [ i ] = height ; } height = 0 ; for ( int i = n -1 ; i >= 0 ; -- i ){ if ( A [ i ] > height ) height = A [ i ]; left_height [ i ] = height ; } for ( int i = 0 ; i < n ; ++ i ){ total += min ( right_height [ i ], left_height [ i ]) - A [ i ]; } return total ; } }; \u8fd9\u9053\u9898\u8fd8\u6709\u4e00\u4e2a\u5206\u800c\u6cbb\u4e4b\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5148\u904d\u5386\u4e00\u8fb9\u6570\u7ec4\u627e\u5230\u6700\u5927\u503c\uff0c\u7136\u540e\u5728\u6700\u9ad8\u67f1\u5b50\u7684\u5de6\u8fb9\u548c\u53f3\u8fb9\u5206\u522b\u904d\u5386\u5c31\u53ef\u4ee5\u8ba1\u7b97\u51fa\u6700\u540e\u7684\u7ed3\u679c\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int trap ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; int result = 0 ; int max = -1 , index = 0 ; for ( int i = 0 ; i < n ; ++ i ){ if ( A [ i ] > max ){ max = A [ i ]; index = i ; } } int left = -1 ; for ( int i = 0 ; i < index ; ++ i ){ if ( A [ i ] > left ) left = A [ i ]; else result += left - A [ i ]; } int right = -1 ; for ( int i = n -1 ; i > index ; -- i ){ if ( A [ i ] > right ) right = A [ i ]; else result += right - A [ i ]; } return result ; } }; \u6c42\u548c\u95ee\u9898 \u00b6 \u4e0b\u9762\u6211\u4eec\u5f00\u59cb\u5206\u6790\u4e00\u4e0b\u4e00\u7cfb\u5217\u5173\u4e8e\u5143\u7d20\u6c42\u548c\u7684\u95ee\u9898\uff0c\u8fd9\u4e00\u7cfb\u5217\u95ee\u9898\u7279\u5f81\u5982\u4e0b\uff0c\u5728\u4e00\u7ec4\u4efb\u610f\u6392\u5e8f\u6570\u7ec4\u4e2d\uff0c\u5bfb\u627eN\u4e2a\u6570\u4f7f\u5f97\u5b83\u4eec\u7684\uff08\u79ef\u548c\u5dee\u9664\uff09\u6ee1\u8db3\u67d0\u4e00\u4e2a\u6761\u4ef6\uff0c\u8fd9\u91cc\u53ef\u4ee5\u662f\u5b83\u4eec\u7ecf\u8fc7\u4e00\u7cfb\u5217\u8fd0\u7b97\u6ee1\u8db3\u67d0\u4e00\u4e2a\u503c\uff0c\u6216\u8005\u6c42\u4ed6\u4eec\u7684\u6700\u5927\u503c\u7b49\u7b49\u3002\u5904\u7406\u6b64\u7c7b\u95ee\u9898\u7684\u65f6\u5019\uff0c\u9996\u5148\u770b\u6570\u7ec4\u662f\u5426\u662f\u6709\u5e8f\u7684\uff0c\u6839\u636e\u4e4b\u524d\u7684\u7406\u8bba\u5982\u679c\u6570\u7ec4\u662f\u65e0\u5e8f\u7684\uff0c\u90a3\u4e48\u9700\u8981\u989d\u5916\u7684\u529b\u4f7f\u5176\u6709\u5e8f\uff0c\u4e00\u822c\u662f\u6392\u5e8f\u6216\u8005hashtable\u6765\u8bb0\u5f55\u6bcf\u4e2a\u5143\u7d20\uff0c\u590d\u6742\u5ea6\u4f1a\u4e0a\u5347\u3002\u7136\u540e\u5728\u6570\u7ec4\u6709\u5e8f\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u5de6\u53f3\u5939\u903c\uff0c\u627e\u5230\u6ee1\u8db3\u6761\u4ef6\u7684\u5143\u7d20\u3002 \u4f8b\u9898\uff1b Two Sum \u5206\u6790\uff1a \u4e00\u4e2a\u7ecf\u5178\u7684\u6c42\u548c\u95ee\u9898\uff0c\u9996\u5148\u770b\u6570\u7ec4\u662f\u5426\u6709\u5e8f\uff0c \u5f88\u9057\u61be\uff0c\u6ca1\u6709\uff01\u56e0\u6b64\u9700\u8981\u6392\u5e8f\uff0c\u4f46\u662f\u6ce8\u610f\u8fd9\u6837\u590d\u6742\u5ea6\u5c31\u53d8\u6210O(nlgn)\u4e86\uff0c\u6709\u6ca1\u6709\u66f4\u597d\u7684\u65b9\u6cd5\uff0chashtable!\u53ef\u4ee5\u4fdd\u6301\u590d\u6742\u5ea6\u5728O(n)\u53c8\u53ef\u4ee5\u8d77\u5230\u6392\u5e8f\u7684\u6548\u679c\u3002\u8fd9\u91cc\u6ce8\u610f\u5728\u5faa\u73af\u91cc\u9762\u7684\u5224\u65ad\u6761\u4ef6\uff0c\u9996\u5148\u770btarget - number[i]\u662f\u5426\u5728hashtable\u91cc\u9762\u5b58\u5728\uff0c\u5982\u679c\u5b58\u5728\u5c31\u8f93\u51fa\u7ed3\u679c\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u8bb0\u5f55\u5f53\u524d\u7684\u6570\u8fdb\u5165hashtable\u91cc\u9762\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n),\u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : vector < int > twoSum ( vector < int > & numbers , int target ) { vector < int > answer ( 2 , 0 ); unordered_map < int , int > record ; for ( int i = 0 ; i < numbers . size (); ++ i ){ int x = numbers [ i ]; if ( record . find ( target - x ) != record . end ()){ answer [ 1 ] = i + 1 ; answer [ 0 ] = record [ target - numbers [ i ]]; break ; } record [ numbers [ i ]] = i + 1 ; } return answer ; } }; \u4f8b\u9898\uff1a 3Sum Closest \u5206\u6790\uff1a\u8fd8\u662f\u9996\u5148\u770b\u662f\u5426\u6570\u7ec4\u662f\u6709\u5e8f\u7684\uff0c\u5982\u679c\u4e0d\u662f\u6709\u5e8f\u7684\u5c31\u5f97\u6392\u5e8f\uff0c\u8fd9\u9053\u9898\u6d89\u53ca\u5230\u4e09\u4e2a\u5143\u7d20\uff08\u4e09\u4f53\u95ee\u9898\uff09\uff0c\u539f\u5219\u4e0a\u4e09\u4f53\u95ee\u9898\u5305\u542b\u4e86\u4e00\u5207\u4e09\u4e2a\u5143\u7d20\u53ca\u4ee5\u4e0a\u7684\u95ee\u9898\uff0c\u5982\u679c\u8bf4\u4e24\u4f53\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u6280\u5de7\uff08\u5982hashtable)\u89e3\u51b3\u7684\u8bdd\uff0c\u4e09\u4f53\u95ee\u9898\u5c31\u662f\u590d\u6742\u5ea6\u63d0\u9ad8\u4e86\u4e00\u4e2a\u53f0\u9636\uff0c\u4e00\u4e9b\u666e\u9002\u4e8e\u4e24\u4f53\u7684\u6280\u5de7\u5728\u4e09\u4f53\u95ee\u9898\u8fd9\u91cc\u884c\u4e0d\u901a\u4e86\u3002\u56e0\u6b64\u5728\u8fd9\u91cc\u9996\u5148\u8981\u5bf9\u6570\u7ec4\u6392\u5e8f\uff0c \u6b64\u9898\u6d89\u53ca\u5230\u4e09\u4e2a\u5143\u7d20\uff0c\u9996\u5148\u5934\u5c3e\u5404\u653e\u4e00\u4e2a\u5143\u7d20\uff0c\u7136\u540e\u4e2d\u95f4\u4ece\u7b2c\u4e8c\u4e2a\u5143\u7d20\uff0c\u5de6\u53f3\u5939\u903c\uff0c\u6211\u4eec\u7528\u4e00\u4e2agap\u6765\u8ba1\u7b97target\u548c\u73b0\u5728\u6240\u6709\u503c\u7684\u548c\u4e4b\u5dee\uff0c\u7531\u4e8e\u5df2\u7ecf\u6392\u597d\u5e8f\uff0c\u53ea\u8981\u6bd4\u8f83target\u548c\u73b0\u5728sum\u7684\u503c\uff0c\u5982\u679ctarget\u503c\u8f83\u5c0f\uff0c\u90a3\u4e48\u8bf4\u660emid\u7684\u503c\u8fc7\u5c0f\u56e0\u6b64\u5f80\u4e2d\u95f4\u9760\u62e2\uff0c\u53cd\u4e4bright\u7684\u503c\u8fc7\u5927\u56e0\u6b64\u5411\u4e2d\u95f4\u9760\u62e2\u3002\u5c31\u8fd9\u6837\u505a\u4e24\u91cd\u904d\u5386\u53ef\u4ee5\u8ba1\u7b97\u5230\u6700\u63a5\u8fd1target\u7684\u503c\uff0c\u56e0\u4e3a\u8fd9\u9053\u9898\u53ea\u8981\u627e\u6700\u63a5\u8fd1\u7684\u6570\u56e0\u6b64\u6ca1\u67093Sum\u90a3\u4e48\u9650\u5236\u6761\u4ef6\u591a\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n^2),\u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int threeSumClosest ( vector < int > & num , int target ) { int sum = 0 ; sort ( num . begin (), num . end ()); int min_gap = INT_MAX ; for ( auto start = num . begin (); start != prev ( num . end (), 2 ); ++ start ){ auto mid = next ( start ); auto last = prev ( num . end (), 1 ); while ( mid < last ){ int sumup = * start + * mid + * last ; int gap = abs ( target - sumup ); if ( gap < min_gap ){ min_gap = gap ; sum = sumup ; } if ( sumup < target ){ mid ++ ; } else { last -- ; } } } return sum ; } }; \u4f8b\u9898\uff1a 3Sum \u5206\u6790\uff1a\u8fd9\u9053\u9898\u662f\u6807\u51c6\u7684\u6c42\u548c\u95ee\u9898\uff0c\u65b9\u6cd5\u4e0e\u524d\u9762\u7c7b\u4f3c\uff0c\u4f46\u662f\u8981\u6ce8\u610f\u91cd\u590d\u6570\u7684\u51fa\u73b0\u4e5f\u5c31\u662fwhile(b < c)\u91cc\u9762\u4e0d\u65ad\u5939\u903c\u5982\u679c\u51fa\u73b0\u8fd1\u90bb\u7684\u5143\u7d20\u76f8\u540c\u7684\u60c5\u51b5\uff0c\u9700\u8981\u4e00\u4e2awhile\u8bed\u53e5\u6765\u79fb\u52a8,\u8fd9\u6837\u5f97\u5230\u7684\u6700\u540e\u6570\u7ec4\u4e00\u5b9a\u6ca1\u6709\u91cd\u590d\u6570\u3002\u8fd8\u6709\u5c31\u662fa\u7684\u91cd\u590d\u60c5\u51b5\u4e5f\u9700\u8981\u8003\u8651\u3002 \u590d\u6742\u5ea6\uff1a\u65f6\u95f4\u590d\u6742\u5ea6O(n^2), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). Solution { public: vector < vector < int > > threeSum ( vector < int > & num ) { vector < vector < int > > result ; if ( num . size () < 3 ) return result ; sort ( num . begin (), num . end ()); const int target = 0 ; for ( auto a = 0 ; a < num . size () - 2 ; ++ a ){ if ( a > 0 && num [ a ] == num [ a - 1 ]) continue ; auto b = a + 1 ; auto c = num . size () - 1 ; while ( b < c ){ if ( num [ a ] + num [ b ] + num [ c ] < target ){ do { b ++ ;} while ( b < c && num [ b ] == num [ b - 1 ]); } else if ( num [ a ] + num [ b ] + num [ c ] > target ){ do { c -- ;} while ( b < c && num [ c ] == num [ c + 1 ]); } else { result . push_back ({ num [ a ], num [ b ], num [ c ]}); do { b ++ ;} while ( b < c && num [ b ] == num [ b - 1 ]); do { c -- ;} while ( b < c && num [ c ] == num [ c + 1 ]); } } } return result ; } }; \u4f8b\u9898\uff1a 4Sum \u5206\u6790\uff1a\u5982\u679c\u4f7f\u7528\u4e0a\u9762\u7c7b\u4f3c\u7684\u65b9\u6cd5\u590d\u6742\u5ea6\u8fbe\u5230\u4e86O(N^3),\u6709\u6ca1\u6709\u66f4\u7701\u65f6\u95f4\u7684\u65b9\u6cd5\u5462\uff1f\u60f3\u5230\u4e00\u5171\u662f\u56db\u4e2a\u6570\u4e4b\u548c\uff0c\u81ea\u7136\u60f3\u5230\u53ef\u4e0d\u53ef\u4ee5\u4e24\u4e24\u914d\u5bf9\uff0c\u8fd9\u6837\u628a\u95ee\u9898\u53ef\u4ee5\u7b80\u5316\u4e3a2Sum. \u8fd9\u91cc\u6211\u4eec\u4f7f\u7528 multimap \u6765\u50a8\u5b58\u4e24\u4e2a\u6570\u7684\u548c\uff0c\u9996\u5148\u8981\u5f04\u6e05\u695akey\u662f\u4ec0\u4e48\uff0c\u56e0\u4e3a\u4e0d\u540c\u7684\u4e24\u4e2a\u6570\u53ef\u80fd\u6709\u76f8\u540c\u7684\u548c\uff0c\u56e0\u6b64key\u4e3a\u4e24\u4e2a\u6570\u7684\u548c\uff0cvalue\u5219\u662fa pair of indexes\u8bb0\u5f55\u4e24\u4e2a\u6570\u5728\u6570\u7ec4\u7684\u4f4d\u7f6e\u3002\u8fd9\u6837\u904d\u5386multimap\u7684\u540c\u65f6\uff0c\u627e\u5230\u53e6\u4e00\u7ec4\u6570\u4f7f\u5f97\u4e24\u7ec4\u6570\u4e4b\u540e\u4e3atarget. \u590d\u6742\u5ea6\uff1a\u65f6\u95f4\u590d\u6742\u5ea6O(N^2), \u7a7a\u95f4\u590d\u6742\u5ea6O(N^2). class Solution { public : vector < vector < int > > fourSum ( vector < int > & num , int target ) { vector < vector < int >> result ; if ( num . size () < 4 ) return result ; sort ( num . begin (), num . end ()); unordered_multimap < int , pair < int , int >> cache ; for ( int i = 0 ; i + 1 < num . size (); ++ i ) for ( int j = i + 1 ; j < num . size (); ++ j ) cache . insert ( make_pair ( num [ i ] + num [ j ], make_pair ( i , j ))); for ( auto i = cache . begin (); i != cache . end (); ++ i ) { int x = target - i -> first ; auto range = cache . equal_range ( x ); for ( auto j = range . first ; j != range . second ; ++ j ) { auto a = i -> second . first ; auto b = i -> second . second ; auto c = j -> second . first ; auto d = j -> second . second ; if ( a != c && a != d && b != c && b != d ) { vector < int > vec = { num [ a ], num [ b ], num [ c ], num [ d ] }; sort ( vec . begin (), vec . end ()); result . push_back ( vec ); } } } sort ( result . begin (), result . end ()); result . erase ( unique ( result . begin (), result . end ()), result . end ()); return result ; } };","title":"\u53cc\u6307\u9488\u95ee\u9898"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/#_1","text":"","title":"\u53cc\u6307\u9488\u95ee\u9898"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/#_2","text":"\u53cc\u6307\u9488 \uff0c\u6307\u7684\u662f\u5728\u904d\u5386\u5bf9\u8c61\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u662f\u666e\u901a\u7684\u4f7f\u7528\u5355\u4e2a\u6307\u9488\u8fdb\u884c\u8bbf\u95ee\uff0c\u800c\u662f\u4f7f\u7528\u4e24\u4e2a\u76f8\u540c\u65b9\u5411\uff08 \u5feb\u6162\u6307\u9488 \uff09\u6216\u8005\u76f8\u53cd\u65b9\u5411\uff08 \u5bf9\u649e\u6307\u9488 \uff09\u7684\u6307\u9488\u8fdb\u884c\u626b\u63cf\uff0c\u4ece\u800c\u8fbe\u5230\u76f8\u5e94\u7684\u76ee\u7684\u3002 \u5206\u7c7b\uff1a\u5bf9\u649e\u6307\u9488\u3001\u5feb\u6162\u6307\u9488 \u6362\u8a00\u4e4b\uff0c\u53cc\u6307\u9488\u6cd5\u5145\u5206\u4f7f\u7528\u4e86\u6570\u7ec4\u6709\u5e8f\u8fd9\u4e00\u7279\u5f81\uff0c\u4ece\u800c\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u80fd\u591f\u7b80\u5316\u4e00\u4e9b\u8fd0\u7b97\u3002 \u5728 LeetCode \u9898\u5e93\u4e2d\uff0c\u5173\u4e8e**\u53cc\u6307\u9488**\u7684\u95ee\u9898\u8fd8\u662f\u633a\u591a\u7684\u3002 \u53cc\u6307\u9488","title":"\u4ec0\u4e48\u662f\u53cc\u6307\u9488"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/#js","text":"","title":"JS\u4f8b\u5b50"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/#_3","text":"\u5bf9\u649e\u6307\u9488**\u662f\u6307\u5728\u6709\u5e8f\u6570\u7ec4\u4e2d\uff0c\u5c06\u6307\u5411\u6700\u5de6\u4fa7\u7684\u7d22\u5f15\u5b9a\u4e49\u4e3a \u5de6\u6307\u9488(left) \uff0c\u6700\u53f3\u4fa7\u7684\u5b9a\u4e49\u4e3a \u53f3\u6307\u9488(right) \uff0c\u7136\u540e\u4ece\u4e24\u5934\u5411\u4e2d\u95f4\u8fdb\u884c\u6570\u7ec4\u904d\u5386\u3002\u5bf9\u649e\u6570\u7ec4\u9002\u7528\u4e8e**\u6709\u5e8f\u6570\u7ec4 \uff0c\u4e5f\u5c31\u662f\u8bf4\u5f53\u4f60\u9047\u5230\u9898\u76ee\u7ed9\u5b9a\u6709\u5e8f\u6570\u7ec4\u65f6\uff0c\u5e94\u8be5\u7b2c\u4e00\u65f6\u95f4\u60f3\u5230\u7528\u5bf9\u649e\u6307\u9488\u89e3\u9898\u3002 \u4f2a\u4ee3\u7801\u5927\u81f4\u5982\u4e0b\uff1a function fn ( list ) { var left = 0 ; var right = list . length - 1 ; //\u904d\u5386\u6570\u7ec4 while ( left <= right ) { left ++ ; // \u4e00\u4e9b\u6761\u4ef6\u5224\u65ad \u548c\u5904\u7406 ... ... right -- ; } } \u4e3e\u4e2aLeetCode\u4e0a\u7684\u4f8b\u5b50\uff1a \u4ee5**LeetCode 881 \u6551\u751f\u8247 **\u95ee\u9898\u4e3a\u4f8b \u7531\u4e8e\u672c\u9898\u53ea\u8981\u6c42\u8ba1\u7b97\u51fa \u6700\u5c0f\u8239\u6570 \uff0c\u6240\u4ee5\u539f\u6570\u7ec4\u662f\u5426\u88ab\u6539\u53d8\uff0c\u548c\u5143\u7d20\u7d22\u5f15\u4f4d\u7f6e\u90fd\u4e0d\u8003\u8651\u5728\u5185\uff0c\u6240\u4ee5\u53ef\u4ee5\u5148\u5bf9\u4e8e\u7ed9\u5b9a\u6570\u7ec4\u8fdb\u884c\u6392\u5e8f\uff0c\u518d\u4ece\u6570\u7ec4\u4e24\u4fa7\u5411\u4e2d\u95f4\u904d\u5386\u3002\u6240\u4ee5\u89e3\u9898\u601d\u8def\u5982\u4e0b\uff1a \u5bf9\u7ed9\u5b9a\u6570\u7ec4\u8fdb\u884c\u5347\u5e8f\u6392\u5e8f \u521d\u59cb\u5316\u5de6\u53f3\u6307\u9488 \u6bcf\u6b21\u90fd\u7528\u4e00\u4e2a\u201d\u6700\u91cd\u7684\u201c\u548c\u4e00\u4e2a\u201d\u6700\u8f7b\u7684\u201c\u8fdb\u884c\u914d\u5bf9\uff0c\u5982\u679c\u4e8c\u4eba\u91cd\u91cf\u5c0f\u4e8e Limit \uff0c\u5219\u6b64\u65f6\u7684\u201d\u6700\u8f7b\u7684\u201c\u4e0a\u8239\uff0c\u5373\uff08 left++ \uff09\u3002\u4e0d\u7ba1\u201d\u6700\u8f7b\u7684\u201c\u662f\u5426\u4e0a\u8239\uff0c\u201d\u6700\u91cd\u7684\u201c\u90fd\u8981\u4e0a\u8239\uff0c\u5373\uff08 right-- \uff09\u5e76\u4e14\u6240\u9700\u8239\u6570\u91cf\u52a0\u4e00\uff0c\u5373\uff08 num++ \uff09 \u4ee3\u7801\u5982\u4e0b\uff1a var numRescueBoats = function ( people , limit ) { people . sort (( a , b ) => ( a - b )); var num = 0 let left = 0 let right = people . length - 1 while ( left <= right ) { if (( people [ left ] + people [ right ]) <= limit ) { left ++ } right -- num ++ } return num };","title":"\u5bf9\u649e\u6307\u9488"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/#_4","text":"**\u5feb\u6162\u6307\u9488**\u4e5f\u662f\u53cc\u6307\u9488\uff0c\u4f46\u662f\u4e24\u4e2a\u6307\u9488\u4ece\u540c\u4e00\u4fa7\u5f00\u59cb\u904d\u5386\u6570\u7ec4\uff0c\u5c06\u8fd9\u4e24\u4e2a\u6307\u9488\u5206\u522b\u5b9a\u4e49\u4e3a \u5feb\u6307\u9488\uff08fast\uff09 \u548c \u6162\u6307\u9488\uff08slow\uff09 \uff0c\u4e24\u4e2a\u6307\u9488\u4ee5\u4e0d\u540c\u7684\u7b56\u7565\u79fb\u52a8\uff0c\u76f4\u5230\u4e24\u4e2a\u6307\u9488\u7684\u503c\u76f8\u7b49\uff08\u6216\u5176\u4ed6\u7279\u6b8a\u6761\u4ef6\uff09\u4e3a\u6b62\uff0c\u5982fast\u6bcf\u6b21\u589e\u957f\u4e24\u4e2a\uff0cslow\u6bcf\u6b21\u589e\u957f\u4e00\u4e2a\u3002 \u4ee5 LeetCode 141.\u73af\u5f62\u94fe\u8868 \u4e3a\u4f8b,\uff0c\u5224\u65ad\u7ed9\u5b9a\u94fe\u8868\u4e2d\u662f\u5426\u5b58\u5728\u73af\uff0c\u53ef\u4ee5\u5b9a\u4e49\u5feb\u6162\u4e24\u4e2a\u6307\u9488\uff0c\u5feb\u6307\u9488\u6bcf\u6b21\u589e\u957f\u4e00\u4e2a\uff0c\u800c\u6162\u6307\u9488\u6bcf\u6b21\u589e\u957f\u4e24\u4e2a\uff0c\u6700\u540e\u4e24\u4e2a\u6307\u9488\u6307\u5411\u8282\u70b9\u7684\u503c\u76f8\u7b49\uff0c\u5219\u8bf4\u660e\u6709\u73af\u3002\u5c31\u597d\u50cf\u4e00\u4e2a\u73af\u5f62\u8dd1\u9053\u4e0a\u6709\u4e00\u5feb\u4e00\u6162\u4e24\u4e2a\u8fd0\u52a8\u5458\u8d5b\u8dd1\uff0c\u5982\u679c\u65f6\u95f4\u8db3\u591f\u957f\uff0c\u8dd1\u5730\u5feb\u7684\u8fd0\u52a8\u5458\u4e00\u5b9a\u4f1a\u8d76\u4e0a\u6162\u7684\u8fd0\u52a8\u5458\u3002 \u89e3\u9898\u4ee3\u7801\u5982\u4e0b\uff1a /** * Definition for singly-linked list. * function ListNode(val) { * this.val = val; * this.next = null; * } */ /** * @param {ListNode} head * @return {boolean} */ var hasCycle = function ( head ) { if ( head === null || head . next === null ) { return false ; } let slow = head ; let fast = head . next ; while ( slow !== fast ) { if ( fast === null || fast . next === null ) { return false } slow = slow . next fast = fast . next . next } return true }; \u518d\u6bd4\u5982 LeetCode 26 \u5220\u9664\u6392\u5e8f\u6570\u7ec4\u4e2d\u7684\u91cd\u590d\u9879 \uff0c\u8fd9\u91cc\u8fd8\u662f\u5b9a\u4e49\u5feb\u6162\u4e24\u4e2a\u6307\u9488\u3002\u5feb\u6307\u9488\u6bcf\u6b21\u589e\u957f\u4e00\u4e2a\uff0c\u6162\u6307\u9488\u53ea\u6709\u5f53\u5feb\u6162\u6307\u9488\u4e0a\u7684\u503c\u4e0d\u540c\u65f6\uff0c\u624d\u589e\u957f\u4e00\u4e2a\uff08\u7531\u4e8e\u662f\u6709\u5e8f\u6570\u7ec4\uff0c\u5feb\u6162\u6307\u9488\u503c\u4e0d\u7b49\u8bf4\u660e\u627e\u5230\u4e86\u65b0\u503c\uff09\u3002 \u771f\u5b9e\u4ee3\u7801\uff1a var removeDuplicates = function ( nums ) { if ( nums . length === 0 ) { return 0 ; } let slow = 0 ; for ( let fast = 0 ; fast < nums . length ; fast ++ ) { if ( nums [ fast ] !== nums [ slow ]) { slow ++ ; nums [ slow ] = nums [ fast ]; } } // Michael\uff1a\u8fd9\u91cc\u7684\u7b97\u6cd5\u4e0d\u5b8c\u5584\uff0c\u73b0\u5728\u53ea\u83b7\u53d6\u4e86\u8fd4\u56de\u7684\u4e0d\u91cd\u590d\u5143\u7d20\u7684\u4e2a\u6570\uff0c\u90a3\u4e48\u539f\u6765\u7684\u6570\u7ec4\u540e\u9762\u7684\u5143\u7d20\u5e94\u8be5\u5220\u9664[1,1,1,1,2,3] \u53d8\u6210 [1,2,3,1,2,3] \u540e\u9762\u7684\u9700\u8981\u76f4\u63a5\u53bb\u6389\uff0c\u8fd9\u6837\u624d\u80fd\u6ee1\u8db3\u8981\u6c42\u3002\u8fd9\u4e2a\u601d\u8def\u6bd4\u5faa\u73af\u4e00\u6b21spliec\u66f4\u597d return slow + 1 ; };","title":"\u5feb\u6162\u6307\u9488"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/#_5","text":"\u5f53\u9047\u5230\u6709\u5e8f\u6570\u7ec4\u65f6\uff0c\u5e94\u8be5\u4f18\u5148\u60f3\u5230 \u53cc\u6307\u9488 \u6765\u89e3\u51b3\u95ee\u9898\uff0c\u56e0\u4e24\u4e2a\u6307\u9488\u7684\u540c\u65f6\u904d\u5386\uff0c\u4f1a\u51cf\u5c11\u7a7a\u95f4\u590d\u6742\u5ea6\u548c\u65f6\u95f4\u590d\u6742\u5ea6\u3002","title":"\u603b\u7ed3"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/#go","text":"\u53cc\u6307\u9488\u4e3b\u8981\u7528\u4e8e\u904d\u5386\u6570\u7ec4\uff0c\u4e24\u4e2a\u6307\u9488\u6307\u5411\u4e0d\u540c\u7684\u5143\u7d20\uff0c\u4ece\u800c\u534f\u540c\u5b8c\u6210\u4efb\u52a1\u3002\u53cc\u6307\u9488\u53ef\u4ee5\u4ece\u4e0d\u540c\u7684\u65b9\u5411\u5411\u4e2d\u95f4\u903c\u8fd1\u4e5f\u53ef\u4ee5\u671d\u7740\u540c\u4e00\u4e2a\u65b9\u5411\u904d\u5386\u3002 \u5728LeedCode\u4e2d\u6709\u5f88\u591a\u9898\u76ee\u53ef\u4ee5\u901a\u8fc7\u53cc\u6307\u9488\u7684\u601d\u60f3\u6765\u89e3\u7b54\u3002\u5176\u4e2d\u5305\u62ec\uff1a","title":"Go\u4f8b\u5b50"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/#1-two-sum","text":"Leetcode \uff1a167. Two Sum II - Input array is sorted (Easy) Input: numbers={2, 7, 11, 15}, target=9 Output: index1=1, index2=2 \u9898\u76ee\u63cf\u8ff0\uff1a\u5728\u6709\u5e8f\u6570\u7ec4\u4e2d\u627e\u51fa\u4e24\u4e2a\u6570\uff0c\u4f7f\u5b83\u4eec\u7684\u548c\u4e3a target\u3002 \u4f7f\u7528\u53cc\u6307\u9488\uff0c\u4e00\u4e2a\u6307\u9488\u6307\u5411\u503c\u8f83\u5c0f\u7684\u5143\u7d20\uff0c\u4e00\u4e2a\u6307\u9488\u6307\u5411\u503c\u8f83\u5927\u7684\u5143\u7d20\u3002 \u6307\u5411\u8f83\u5c0f\u5143\u7d20\u7684\u6307\u9488\u4ece\u5934\u5411\u5c3e\u904d\u5386\uff0c\u6307\u5411\u8f83\u5927\u5143\u7d20\u7684\u6307\u9488\u4ece\u5c3e\u5411\u5934\u904d\u5386\u3002 \u5982\u679c\u4e24\u4e2a\u6307\u9488\u6307\u5411\u5143\u7d20\u7684\u548c sum == target\uff0c\u90a3\u4e48\u5f97\u5230\u8981\u6c42\u7684\u7ed3\u679c\uff1b \u5982\u679c sum > target\uff0c\u79fb\u52a8\u8f83\u5927\u7684\u5143\u7d20\uff0c\u4f7f sum \u53d8\u5c0f\u4e00\u4e9b\uff1b \u5982\u679c sum < target\uff0c\u79fb\u52a8\u8f83\u5c0f\u7684\u5143\u7d20\uff0c\u4f7f sum \u53d8\u5927\u4e00\u4e9b\u3002 func twoSum ( numbers [] int , target int ) [] int { for i , j := 0 , len ( numbers ) - 1 ; i < j ;{ if numbers [ i ] + numbers [ j ] == target { return [] int { i + 1 , j + 1 } } if numbers [ i ] + numbers [ j ] < target { i ++ continue } if numbers [ i ] + numbers [ j ] > target { j -- continue } } return [] int {} }","title":"1\u3001\u6709\u5e8f\u6570\u7ec4\u7684 Two Sum"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/#2","text":"633. Sum of Square Numbers (Easy) Input: 5 Output: True Explanation: 1 * 1 + 2 * 2 = 5 \u9898\u76ee\u63cf\u8ff0\uff1a\u5224\u65ad\u4e00\u4e2a\u6570\u662f\u5426\u4e3a\u4e24\u4e2a\u6570\u7684\u5e73\u65b9\u548c\u3002 /*\u8bbe\u7f6e\u4e24\u4e2a\u6307\u9488\uff0c\u4e00\u4e2a\u4ece\u524d\uff080\uff09\u5f00\u59cb\u904d\u5386\uff0c\u4e00\u4e2a\u4ece\u540e\uff08sqrt(n)\uff09\u5f00\u59cb\u904d\u5386\uff0c\u76f4\u5230\u627e\u5230\u5408\u9002\u7684\u89e3 */ func judgeSquareSum ( c int ) bool { for i , j := 0 , int ( math . Sqrt ( float64 ( c ))); i <= j ;{ if i * i + j * j == c { return true } if i * i + j * j < c { i ++ continue } if i * i + j * j > c { j -- continue } } return false }","title":"2\u3001\u4e24\u6570\u5e73\u65b9\u548c"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/#3","text":"345. Reverse Vowels of a String (Easy) Given s = \"leetcode\" , return \"leotcede\" . /*\u4f7f\u7528\u53cc\u6307\u9488\u6307\u5411\u5f85\u53cd\u8f6c\u7684\u4e24\u4e2a\u5143\u97f3\u5b57\u7b26\uff0c\u4e00\u4e2a\u6307\u9488\u4ece\u5934\u5411\u5c3e\u904d\u5386\uff0c\u4e00\u4e2a\u6307\u9488\u4ece\u5c3e\u5230\u5934\u904d\u5386\uff0c\u53d1\u73b0\u4e24\u4e2a\u5143\u97f3\u540e\u4ea4\u6362*/ func reverseVowels ( s string ) string { bs := [] byte ( s ) for i , j := 0 , len ( bs ) - 1 ; i < j ;{ if ! isVowel ( bs [ i ]){ i ++ continue } if ! isVowel ( bs [ j ]){ j -- continue } temp := bs [ i ] bs [ i ]= bs [ j ] bs [ j ]= temp i ++ j -- } return string ( bs ) } func isVowel ( b byte ) bool { return b == 'a' || b == 'e' || b == 'i' || b == 'o' || b == 'u' || b == 'A' || b == 'E' || b == 'I' || b == 'O' || b == 'U' }","title":"3\u3001\u53cd\u8f6c\u5b57\u7b26\u4e32\u4e2d\u7684\u5143\u97f3\u5b57\u7b26"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/#4","text":"680. Valid Palindrome II (Easy) Input : \"abca\" Output : True Explanation : You could delete the character 'c' . \u9898\u76ee\u63cf\u8ff0\uff1a\u53ef\u4ee5\u5220\u9664\u4e00\u4e2a\u5b57\u7b26\uff0c\u5224\u65ad\u662f\u5426\u80fd\u6784\u6210\u56de\u6587\u5b57\u7b26\u4e32\u3002 /*\u4e24\u4e2a\u6307\u9488\uff0c\u4e00\u4e2a\u4ece\u524d\u4e00\u4e2a\u5f80\u540e\uff0c\u4e00\u81f4\u7ee7\u7eed\u5f80\u524d\uff0c\u4e0d\u4e00\u81f4\u5219\u5206\u522b\u770b\u8fc7\u6ee4\u54ea\u4e00\u8fb9\u53ef\u4ee5\u7ee7\u7eed*/ func validPalindrome ( s string ) bool { bs := [] byte ( s ) for i , j := 0 , len ( bs ) - 1 ; i < j ;{ if bs [ i ] != bs [ j ] { //\u53d1\u73b0\u4e0d\u4e00\u81f4\uff0c\u5206\u522b\u770b\u53bb\u6389\u5de6\u8fb9\u8fd8\u662f\u53bb\u6389\u53f3\u8fb9\u4efb\u610f\u4e00\u4e2a\u53ef\u4ee5\u5c31\u901a\u8fc7 return ispalindrome ( bs , i + 1 , j ) || ispalindrome ( bs , i , j - 1 ) } i ++ j -- } return true } func ispalindrome ( bs [] byte , left , right int ) bool { for ; left < right ;{ if bs [ left ] != bs [ right ]{ return false } left ++ right -- } return true }","title":"4\u3001\u56de\u6587\u5b57\u7b26\u4e32"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/#5","text":"88. Merge Sorted Array (Easy) Input: nums1 = [1,2,3,0,0,0], m = 3 nums2 = [2,5,6], n = 3 Output: [1,2,2,3,5,6] \u9898\u76ee\u63cf\u8ff0\uff1a\u628a\u5f52\u5e76\u7ed3\u679c\u5b58\u5230\u7b2c\u4e00\u4e2a\u6570\u7ec4\u4e0a\u3002 /*\u4ece\u5c3e\u5f00\u59cb\u904d\u5386,\u9010\u4e2a\u6bd4\u8f83\u6dfb\u52a0\u5230nums1\u4e0a*/ func merge ( nums1 [] int , m int , nums2 [] int , n int ) { index := m + n - 1 for index1 , index2 := m - 1 , n - 1 ; index1 >= 0 || index2 >= 0 ; index -- { if index1 < 0 { nums1 [ index ] = nums2 [ index2 ] index2 -- } else if index2 < 0 { nums1 [ index ] = nums1 [ index1 ] index1 -- } else if nums1 [ index1 ] <= nums2 [ index2 ] { nums1 [ index ] = nums2 [ index2 ] index2 -- } else if nums1 [ index1 ] > nums2 [ index2 ]{ nums1 [ index ] = nums1 [ index1 ] index1 -- } } }","title":"5\u3001\u5f52\u5e76\u4e24\u4e2a\u6709\u5e8f\u6570\u7ec4"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/#6","text":"141. Linked List Cycle (Easy) /** * Definition for singly-linked list. * struct ListNode { * int val; * ListNode *next; * ListNode(int x) : val(x), next(NULL) {} * }; */ /*\u4f7f\u7528\u53cc\u6307\u9488\uff0c\u4e00\u4e2a\u6307\u9488\u6bcf\u6b21\u79fb\u52a8\u4e00\u4e2a\u8282\u70b9\uff0c\u4e00\u4e2a\u6307\u9488\u6bcf\u6b21\u79fb\u52a8\u4e24\u4e2a\u8282\u70b9\uff0c\u5982\u679c\u5b58\u5728\u73af\uff0c\u90a3\u4e48\u8fd9\u4e24\u4e2a\u6307\u9488\u4e00\u5b9a\u4f1a\u76f8\u9047\u3002*/ class Solution { public : bool hasCycle ( ListNode * head ) { if ( head == NULL || head -> next == NULL ){ return false ; } ListNode * l1 = head ; ListNode * l2 = head -> next ; while ( l2 != NULL && l2 -> next != NULL ){ if ( l1 == l2 ){ return true ; } else { l1 = l1 -> next ; l2 = l2 -> next -> next ; } } return false ; } };","title":"6\u3001\u5224\u65ad\u94fe\u8868\u662f\u5426\u5b58\u5728\u73af"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/#7","text":"524. Longest Word in Dictionary through Deleting (Medium) Input: s = \"abpcplea\" , d = [ \"ale\" , \"apple\" , \"monkey\" , \"plea\" ] Output: \"apple\" \u9898\u76ee\u63cf\u8ff0\uff1a\u5220\u9664 s \u4e2d\u7684\u4e00\u4e9b\u5b57\u7b26\uff0c\u4f7f\u5f97\u5b83\u6784\u6210\u5b57\u7b26\u4e32\u5217\u8868 d \u4e2d\u7684\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u627e\u51fa\u80fd\u6784\u6210\u7684\u6700\u957f\u5b57\u7b26\u4e32\u3002\u5982\u679c\u6709\u591a\u4e2a\u76f8\u540c\u957f\u5ea6\u7684\u7ed3\u679c\uff0c\u8fd4\u56de\u5b57\u5178\u5e8f\u7684\u6700\u5927\u5b57\u7b26\u4e32\u3002 /*\u4e24\u4e2a\u6307\u9488\u4ece\u5934\u5f00\u59cb\u67e5\u770b\u662f\u5426\u80fd\u543b\u5408\uff0c\u5982\u679c\u67e5\u5230d\u4e2d\u5b57\u4e32\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u4e5f\u543b\u5408\u4ee3\u8868\u80fd\u591f\u5b8c\u5168match\uff0c\u518d\u5904\u7406\u540c\u957f\u5ea6\u7684\u95ee\u9898*/ func findLongestWord ( s string , d [] string ) string { result := \"\" for _ , v := range d { if len ( result ) > len ( v ) || len ( result ) == len ( v ) && result <= v { continue } if isValid ( s , v ) { result = v } } return result } func isValid ( s string , v string ) bool { //\u770b\u662f\u4e0d\u662f\u80fdmatch\u4e0a bs := [] byte ( s ) bv := [] byte ( v ) i , j := 0 , 0 for i < len ( bs ) && j < len ( bv ){ if bs [ i ] == bv [ j ]{ j ++ } i ++ } if j == len ( bv ) { //\u6700\u540e\u4e00\u4e2a\u4e5f\u7b26\u5408\u3002 return true } return false }","title":"7\u3001\u6700\u957f\u5b50\u5e8f\u5217"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/#c","text":"\u6b64\u7c7b\u95ee\u9898\u4e00\u822c\u6d89\u53ca\u51e0\u79cd\u60c5\u5f62\uff1a in place \u7684\u66f4\u65b0\u6570\u7ec4\uff0c\u9700\u8981\u4e00\u4e2aindex\u8bb0\u5f55\u66f4\u65b0\u4e4b\u540e\u7684\u6570\u7ec4\uff0c\u53e6\u4e00\u4e2aindex\u8dd1\u904d\u539f\u6765\u7684\u6570\u7ec4\uff1b \u8fd8\u6709\u5c31\u662f\u627e\u5230\u6570\u7ec4\u91cc\u9762\u7684N\u4e2a\u6570\u4f7f\u5f97\u8fd9\u51e0\u4e2a\u6570\u6ee1\u8db3\u4e00\u5b9a\u7684\u6761\u4ef6\uff08\u5982\u51e0\u4e2a\u6570\u4e4b\u548c\u5fc5\u987b\u4e3a\u67d0\u4e00\u4e2a\u7279\u5b9a\u7684\u6570\uff09\uff1b\u8fd8\u6709\u5c31\u662f\u4e00\u7c7b\u7279\u6b8a\u7684\u95ee\u9898\u96e8\u6c34\u50a8\u5b58\u95ee\u9898\u3002 \u8fd9\u91cc\u6709\u51e0\u4e2a\u5173\u952e\u95ee\u9898\u9700\u8981\u7406\u89e3: \u9996\u5148\u6570\u7ec4\u662f\u5426\u6392\u5e8f\uff0c\u6839\u636e\u4fe1\u606f\u8bba\u7684\u770b\u6cd5\u6216\u8005\u80fd\u91cf\u5b88\u6052\u7684\u539f\u7406\uff0c\u6570\u7ec4\u662f\u5426\u6392\u5e8f\u4e0e\u5892\u6709\u5173\uff0c\u5892\u7684\u672c\u8d28\u5c31\u662f\u63cf\u8ff0\u4e8b\u7269\u6709\u5e8f\u7a0b\u5ea6\u7684\u5ea6\u91cf\uff0c\u6362\u53e5\u8bdd\u8bf4\u4e8b\u7269\u8d8a\u6709\u5e8f\u5892\u7684\u503c\u8d8a\u4f4e\uff0c\u5e76\u4e14\u672c\u8d28\u662f\u5892\u4f1a\u81ea\u7136\u7684\u4f1a\u589e\u5927\u5728\u65e0\u5916\u529b\u5e72\u6270\u7684\u72b6\u51b5\u4e0b\uff0c\u4e5f\u5c31\u662f\u4e8b\u7269\u603b\u662f\u5411\u7740\u65e0\u5e8f\u53d1\u5c55\u7684\u3002\u800c\u600e\u6837\u8ba9\u4e8b\u7269\u53d8\u7684\u6709\u5e8f\u5462\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u5916\u529b\u80fd\u91cf\u7684\u8f93\u5165\u6765\u4f7f\u5f97\u5892\u53d8\u5c0f\u6216\u8005\u53d8\u7684\u6709\u5e8f\u3002\u90a3\u4e48\u5728\u6570\u7ec4\u662f\u5426\u6709\u5e8f\u7684\u95ee\u9898\u4e0a\uff0c\u6211\u4eec\u5e0c\u671b\u5b83\u662f\u6709\u5e8f\u7684\uff0c\u5982\u679c\u4e0d\u662f\u90a3\u4e48\u5c31\u9700\u8981\u82b1\u8d39\u201c\u80fd\u91cf\u201d\u8ba9\u4ed6\u7684\u5892\u53d8\u5c0f\uff0c\u8fd9\u6837\u590d\u6742\u5ea6O(nlogn)\u5c31\u4e0a\u53bb\u4e86\uff0c\u8fd9\u91cc\u590d\u6742\u5ea6\u53ef\u4ee5\u770b\u4f5c\u4e3a\u5916\u4f5c\u7528\u529b\u7684\u4f53\u73b0\u3002 \u5176\u6b21\u53cc\u6307\u9488\u95ee\u9898\u7684\u672c\u8d28\u5176\u5b9e\u662f\u7531\u4e8e\u6709\u4e24\u4e2a\u6216\u8005\u591a\u4e2a\u5143\u7d20\u6709\u76f8\u4e92\u4f5c\u7528\u6216\u8005\u76f8\u5173\u8054\uff0c\u56e0\u6b64\u5728\u6539\u53d8\u5176\u4e2d\u4e00\u4e2a\u5143\u7d20\u7684\u540c\u65f6\u5176\u4ed6\u51e0\u4e2a\u5143\u7d20\u4e5f\u9700\u8981\u8ddf\u7740\u6539\u53d8\uff0c\u56e0\u6b64\u53cc\u6307\u9488\u95ee\u9898\u4e00\u822c\u662f\u5728\u6ee1\u8db3\u51e0\u4e2a\u5143\u7d20\u5173\u7cfb\u4e0d\u53d8\u7684\u60c5\u51b5\u4e4b\u4e0b\uff0c\u6539\u53d8\u4e00\u4e2a\u5143\u7d20\u7684\u540c\u65f6\uff0c\u5bfb\u627e\u5176\u4ed6\u51e0\u4e2a\u5143\u7d20\u6ee1\u8db3\u73b0\u6709\u7684\u5173\u7cfb\u60c5\u51b5\u3002","title":"C++\u4f8b\u5b50"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/#_6","text":"\u4f8b\u9898\uff1a Remove Element \u5206\u6790\uff1a \u8fd9\u9053\u9898\u6709\u51e0\u4e2a\u5173\u952e\u5b57\u9700\u8981\u6ce8\u610f: in place , the order of elements can be changed .\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u7528two pointers\uff0c\u4e00\u4e2a\u8bb0\u5f55remove\u8fc7\u540e\u7684\u6570\u7ec4\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u4f4d\u7f6e\uff0c\u4e00\u4e2a\u7528\u6765\u904d\u5386\u6574\u4e2a\u6570\u7ec4\uff0c\u5224\u65ad\u6761\u4ef6\u5c31\u662f\u6bd4\u8f83\u8be5\u5143\u7d20\u548ctarget\u7684\u503c\uff0c\u5982\u679c\u4e0d\u76f8\u7b49\u5c31\u628a\u5b83copy\u7ed9\u53e6\u4e00\u4e2apointer.\u56e0\u4e3a\u9898\u76ee\u53ea\u9700\u8981\u6c42\u6700\u540e\u7684\u6570\u7ec4\u957f\u5ea6\uff0c\u6240\u4ee5\u8fd4\u56de\u6700\u540e\u8bb0\u5f55\u4f4d\u7f6e\u5c31\u53ef\u4ee5\u4e86\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n)\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int removeElement ( int A [], int n , int elem ) { if ( A == nullptr || n == 0 ) return 0 ; int index = 0 ; for ( int i = 0 ; i < n ; ++ i ){ if ( A [ i ] != elem ){ A [ index ++ ] = A [ i ]; } } return index ; } }; \u63a5\u4e0b\u6765\u6211\u4eec\u770b\u4e00\u770b\u8fd9\u9053\u9898\u7684\u4e00\u4e2a\u53d8\u5f62\uff1a \u4f8b\u9898\uff1a Remove Duplicates from Sorted Array \u5206\u6790\uff1a\u8fd9\u9053\u9898\u51e0\u4e4e\u548c\u4e0a\u4e00\u9898\u4e00\u6837\uff0c\u8fd9\u91cc\u6ce8\u610f\u6570\u7ec4\u662f\u6392\u5e8f\u7684\uff0c \u5173\u952e\u8bcd\uff1a in place with constant memory . \u6709\u4e00\u4e2a\u5730\u65b9\u503c\u5f97\u6ce8\u610f\u7b2c\u4e8c\u4e2apointer\u7684\u8d77\u59cb\u70b9\u5e94\u8be5\u4ece\u7b2c\u4e8c\u4e2a\u5143\u7d20\u5f00\u59cb\uff0c\u56e0\u4e3a\u5b9e\u9645\u4e0a\u7b2c\u4e8c\u4e2a\u6307\u9488\u662f\u7528\u6765\u6bd4\u8f83\u548c\u524d\u4e00\u4e2a\u5143\u7d20\u7684\u503c\uff0c\u5982\u679c\u76f8\u7b49\u5c31skip. \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int removeDuplicates ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; int index = 0 ; for ( int i = 1 ; i < n ; ++ i ){ if ( A [ index ] != A [ i ]){ A [ ++ index ] = A [ i ]; } } return index + 1 ; } }; \u4e0b\u9762\u589e\u52a0\u4e86\u4e00\u70b9\u96be\u5ea6\uff0c\u5982\u679c\u540c\u4e00\u4e2a\u5143\u7d20\u5141\u8bb8\u51fa\u73b0\u4e24\u6b21\u3002 \u4f8b\u9898\uff1a \uff3bRemove Duplicates from Sorted Array II]( https://oj.leetcode.com/problems/remove-duplicates-from-sorted-array-ii/ ) \u5206\u6790\uff1a \u9996\u5148\u60f3\u5230\u7684\u662fhashtable\u50a8\u5b58\u6bcf\u4e2a\u5143\u7d20\u7684\u4e2a\u6570\uff0c\u4ed4\u7ec6\u89c2\u5bdf\u9898\u76ee\u53ef\u4ee5\u53d1\u73b0\u5176\u5b9e\u4e0d\u9700\u8981hashtable\uff0c\u56e0\u4e3a\u6570\u7ec4\u662f\u6392\u5e8f\u7684\uff0c\u91cd\u590d\u7684\u5143\u7d20\u5e94\u8be5\u4f1a\u8fde\u5728\u4e00\u8d77\uff0c\u8fd9\u6837\u904d\u5386\u7684\u65f6\u5019\u591a\u52a0\u4e00\u4e2a\u5224\u65ad\u5c31\u53ef\u4ee5\u89e3\u51b3\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n),\u7a7a\u95f4\u590d\u6742\u5ea6O(1). \u5148\u770b\u4e00\u4e2a\u89e3\u6cd5\u5efa\u7acb\u5728\u4e0a\u4e00\u9898\u7684\u57fa\u7840\u4e0a\uff0c\u5176\u4e2d\u5224\u65ad\u4e86\u524d\u540e\u5143\u7d20\u662f\u5426\u76f8\u7b49\uff0c\u8fd9\u6837\u4fdd\u8bc1\u6700\u591a\u53ea\u6709\u4e24\u4e2a\u76f8\u540c\u7684\u5143\u7d20\uff1a class Solution { public : int removeDuplicates ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; int index = 0 ; for ( int i = 1 ; i < n ; ++ i ){ if ( A [ index ] == A [ i ] && ( index == 0 || A [ index -1 ] != A [ index ])) A [ ++ index ] = A [ i ]; if ( A [ index ] != A [ i ]) A [ ++ index ] = A [ i ]; } return index + 1 ; } }; \u5176\u5b9e\u53ef\u4ee5\u7a0d\u52a0\u6539\u53d8\uff0c\u4f7f\u5f97\u89e3\u6cd5\u66f4\u6709\u53ef\u6269\u5c55\u6027\uff0c\u5904\u7406N\u4e2a\u91cd\u590d\u7684\u5143\u7d20\u7684\u60c5\u5f62\uff1a class Solution { public : int removeDuplicates ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; if ( n <= 2 ) return n ; int index = 2 ; for ( int i = 2 ; i < n ; ++ i ){ if ( A [ i ] != A [ index - 2 ]) A [ index ++ ] = A [ i ]; } return index ; } }; \u8fd9\u91cc\u76f4\u63a5\u4ece\u7b2c\u4e09\u4e2a\u5143\u7d20\u5f00\u59cb\u6bd4\u8f83\uff0c\u5982\u679c\u662f\u5141\u8bb8N\u4e2a\u91cd\u590d\u5143\u7d20\uff0c2\u53ef\u4ee5\u6539\u4e3aN,\u4ee3\u7801\u6bd4\u4e0a\u4e2a\u89e3\u6cd5\u7b80\u6d01\u4e5f\u66f4\u5177\u6709\u53ef\u62d3\u5c55\u6027\u3002 \u524d\u9762\u51e0\u9053\u9898\u90fd\u662f\u5220\u9664\u5143\u7d20\uff0c\u8fd8\u6709\u4e00\u7c7b\u95ee\u9898\u5c31\u662f\u6392\u5e8f\u95ee\u9898\u6709\u65f6\u5019\u4e5f\u53ef\u4ee5\u7528Two Pointers\u7684\u89e3\u6cd5. \u4f8b\u9898: [Sort Colors] ( https://oj.leetcode.com/problems/sort-colors/ ) \u5206\u6790\uff1a\u8fd9\u91cc\u6709\u4e09\u4e2a\u6307\u9488\uff0c\u4f46\u662f\u5b9e\u9645\u662f\u4e24\u4e2a\u5728\u64cd\u4f5c\uff0c\u4e00\u4e2a\u5b58red\u7684index\uff0c\u4e00\u4e2a\u5b58blue\u7684index, \u7136\u540e\u4e24\u8fb9\u5f80\u4e2d\u95f4\u8d70\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : void sortColors ( int A [], int n ) { int j = 0 , k = n -1 ; int i = 0 ; while ( i < k + 1 ){ if ( A [ i ] == 0 ){ int t = A [ j ]; A [ j ] = A [ i ]; A [ i ] = t ; j ++ ; i ++ ; } else if ( A [ i ] == 2 ){ int t = A [ k ]; A [ k ] = A [ i ]; A [ i ] = t ; k -- ; } else { i ++ ; } } } }; \u6b64\u5916\u8fd9\u9053\u9898\u8fd8\u6709\u4e2a\u975e\u5e38\u5de7\u5999\u7684\u89e3\u6cd5\uff0c\u5229\u7528\u5230\u4e86partition\u4e2d\u7684\u539f\u7406\uff1a class Solution { public : void sortColors ( int A [], int n ) { int j = 0 ; int k = 0 ; int i = 0 ; for ( int m = 0 ; m < n ; ++ m ){ if ( A [ m ] == 2 ){ A [ k ++ ] = 2 ; } else if ( A [ m ] == 1 ){ A [ k ++ ] = 2 ; A [ j ++ ] = 1 ; } else if ( A [ m ] == 0 ){ A [ k ++ ] = 2 ; A [ j ++ ] = 1 ; A [ i ++ ] = 0 ; } } } };","title":"\u5b9e\u65f6\u66f4\u65b0\u6570\u7ec4"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/#_7","text":"\u6b64\u7c7b\u95ee\u9898\u8868\u9762\u4e0a\u770b\u8ddf\u53cc\u6307\u9488\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\uff0c\u4f46\u662f\u7ecf\u8fc7\u4ed4\u7ec6\u5206\u6790\uff0c\u4f1a\u53d1\u73b0\u6709\u5f88\u591a\u5171\u540c\u4e4b\u5904\u3002 \u4f8b\u9898\uff1a Container with Most water \u5206\u6790\uff1a\u8fd9\u9053\u9898\u53ef\u4ee5\u5148\u627e\u51e0\u4e2a\u6570\u6a21\u62df\u4e00\u4e0b\uff0c\u4f1a\u53d1\u73b0\u5982\u679c\u60f3\u8ba9\u5bb9\u5668\u50a8\u5b58\u7684\u6c34\u591a\uff0c\u9700\u8981\u5de6\u53f3\u4e24\u4e2a\u6570\u8ddd\u79bb\u8d8a\u8fdc\u8d8a\u597d\uff0c\u5e76\u4e14\u4e24\u4e2a\u6570\u4e2d\u8f83\u5c0f\u7684\u6570\u503c\u8d8a\u5927\u8d8a\u597d\u3002\u9996\u5148\u8003\u8651\u66b4\u529b\u89e3\u6cd5\uff0c\u56fa\u5b9a\u4e00\u8fb9\uff0c\u7136\u540e\u627e\u53e6\u4e00\u8fb9\u8d8a\u5927\u8d8a\u597d\uff0c\u5bf9\u6bcf\u4e00\u4e2a\u6570\u90fd\u67e5\u627e\u4e00\u4e0b\uff0c\u5c31\u9700\u8981O(n^2).\u4ed4\u7ec6\u7814\u7a76\u53d1\u73b0\uff0c\u8fd9\u9053\u9898\u662f\u53ef\u4ee5\u7528\u53cc\u6307\u9488\u7684\uff0c\u56e0\u4e3a\u6700\u540e\u7684\u7ed3\u679c\u88ab\u51b3\u5b9a\u4e8e\u5de6\u53f3\u4e24\u4e2a\u6570\uff0c\u90a3\u4e48\u600e\u4e48\u8fdb\u884c\u904d\u5386\u5462\uff0c\u5982\u679c\u56fa\u5b9a\u4e00\u8fb9\uff0c\u6c38\u8fdc\u5e0c\u671b\u627e\u6bd4\u8fd9\u4e00\u8fb9\u5927\u7684\u6570\uff0c\u56e0\u6b64\u5982\u679c\u6bd4\u8fd9\u4e00\u8fb9\u5c0f\u53ef\u4ee5skip\u6389\u3002\u4e8e\u662fleft \u548cright\u4e24\u8fb9\u5de6\u53f3\u5939\u903c\uff0c\u9047\u5230\u8f83\u5c0f\u7684\u6570\u5c31skip\u6389\u76f4\u5230\u91cd\u5408\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int maxArea ( vector < int > & height ) { if ( height . size () == 0 ) return 0 ; int i = 0 ; int j = height . size () -1 ; int maxA = INT_MIN ; while ( i < j ){ int area = min ( height [ j ], height [ i ]) * ( j - i ); maxA = max ( maxA , area ); if ( height [ i ] < height [ j ]){ i ++ ; } else { j -- ; } } return maxA ; } }; \u518d\u6765\u770b\u4e00\u4e2a\u7c7b\u4f3c\u7684\u9898\u76ee\uff0c\u8fd9\u91cccontainer\u4e0d\u6b62\u4e00\u4e2a\u4e86\u3002 \u9898\u76ee\uff1a Trapping Rain Water \u5206\u6790\uff1a\u8fd9\u91cc\u4e5f\u662f\u7c7b\u4f3c\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u67f1\u5b50\u9700\u8981\u5206\u522b\u5bfb\u627e\u5b83\u7684\u5de6\u8fb9\u548c\u53f3\u8fb9\u6700\u9ad8\u7684\u67f1\u5b50\uff0c\u8fd9\u6837\u8be5\u67f1\u5b50\u80fd\u5bb9\u7eb3\u7684\u9762\u79ef\u5c31\u662fmin(max_left, max_right) - height.\u56e0\u6b64\u89e3\u6cd5\u81ea\u7136\u53d8\u6210\u4e86\u4ece\u5de6\u5f80\u53f3\u904d\u5386\uff0c\u627e\u5230\u6bcf\u4e2a\u67f1\u5b50\u5de6\u8fb9\u6700\u5927\u503c\uff0c\u7136\u540e\u4ece\u53f3\u5411\u5de6\u904d\u5386\u627e\u5230\u6bcf\u4e2a\u67f1\u5b50\u53f3\u8fb9\u6700\u5927\u503c\u3002\u6700\u540e\u4e00\u6b21\u904d\u5386\u8ba1\u7b97\u6bcf\u4e2a\u67f1\u5b50\u53ef\u4ee5\u5bb9\u7eb3\u7684\u9762\u79ef\u3002 \u590d\u6742\u5ea6\uff1a\u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(n). class Solution { public : int trap ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; vector < int > right_height ( n ); vector < int > left_height ( n ); int height = 0 , total = 0 ; for ( int i = 0 ; i < n ; ++ i ){ if ( A [ i ] > height ) height = A [ i ]; right_height [ i ] = height ; } height = 0 ; for ( int i = n -1 ; i >= 0 ; -- i ){ if ( A [ i ] > height ) height = A [ i ]; left_height [ i ] = height ; } for ( int i = 0 ; i < n ; ++ i ){ total += min ( right_height [ i ], left_height [ i ]) - A [ i ]; } return total ; } }; \u8fd9\u9053\u9898\u8fd8\u6709\u4e00\u4e2a\u5206\u800c\u6cbb\u4e4b\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5148\u904d\u5386\u4e00\u8fb9\u6570\u7ec4\u627e\u5230\u6700\u5927\u503c\uff0c\u7136\u540e\u5728\u6700\u9ad8\u67f1\u5b50\u7684\u5de6\u8fb9\u548c\u53f3\u8fb9\u5206\u522b\u904d\u5386\u5c31\u53ef\u4ee5\u8ba1\u7b97\u51fa\u6700\u540e\u7684\u7ed3\u679c\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int trap ( int A [], int n ) { if ( A == nullptr || n == 0 ) return 0 ; int result = 0 ; int max = -1 , index = 0 ; for ( int i = 0 ; i < n ; ++ i ){ if ( A [ i ] > max ){ max = A [ i ]; index = i ; } } int left = -1 ; for ( int i = 0 ; i < index ; ++ i ){ if ( A [ i ] > left ) left = A [ i ]; else result += left - A [ i ]; } int right = -1 ; for ( int i = n -1 ; i > index ; -- i ){ if ( A [ i ] > right ) right = A [ i ]; else result += right - A [ i ]; } return result ; } };","title":"\u96e8\u6c34\u95ee\u9898"},{"location":"algre/%E5%8F%8C%E6%8C%87%E9%92%88/#_8","text":"\u4e0b\u9762\u6211\u4eec\u5f00\u59cb\u5206\u6790\u4e00\u4e0b\u4e00\u7cfb\u5217\u5173\u4e8e\u5143\u7d20\u6c42\u548c\u7684\u95ee\u9898\uff0c\u8fd9\u4e00\u7cfb\u5217\u95ee\u9898\u7279\u5f81\u5982\u4e0b\uff0c\u5728\u4e00\u7ec4\u4efb\u610f\u6392\u5e8f\u6570\u7ec4\u4e2d\uff0c\u5bfb\u627eN\u4e2a\u6570\u4f7f\u5f97\u5b83\u4eec\u7684\uff08\u79ef\u548c\u5dee\u9664\uff09\u6ee1\u8db3\u67d0\u4e00\u4e2a\u6761\u4ef6\uff0c\u8fd9\u91cc\u53ef\u4ee5\u662f\u5b83\u4eec\u7ecf\u8fc7\u4e00\u7cfb\u5217\u8fd0\u7b97\u6ee1\u8db3\u67d0\u4e00\u4e2a\u503c\uff0c\u6216\u8005\u6c42\u4ed6\u4eec\u7684\u6700\u5927\u503c\u7b49\u7b49\u3002\u5904\u7406\u6b64\u7c7b\u95ee\u9898\u7684\u65f6\u5019\uff0c\u9996\u5148\u770b\u6570\u7ec4\u662f\u5426\u662f\u6709\u5e8f\u7684\uff0c\u6839\u636e\u4e4b\u524d\u7684\u7406\u8bba\u5982\u679c\u6570\u7ec4\u662f\u65e0\u5e8f\u7684\uff0c\u90a3\u4e48\u9700\u8981\u989d\u5916\u7684\u529b\u4f7f\u5176\u6709\u5e8f\uff0c\u4e00\u822c\u662f\u6392\u5e8f\u6216\u8005hashtable\u6765\u8bb0\u5f55\u6bcf\u4e2a\u5143\u7d20\uff0c\u590d\u6742\u5ea6\u4f1a\u4e0a\u5347\u3002\u7136\u540e\u5728\u6570\u7ec4\u6709\u5e8f\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u5de6\u53f3\u5939\u903c\uff0c\u627e\u5230\u6ee1\u8db3\u6761\u4ef6\u7684\u5143\u7d20\u3002 \u4f8b\u9898\uff1b Two Sum \u5206\u6790\uff1a \u4e00\u4e2a\u7ecf\u5178\u7684\u6c42\u548c\u95ee\u9898\uff0c\u9996\u5148\u770b\u6570\u7ec4\u662f\u5426\u6709\u5e8f\uff0c \u5f88\u9057\u61be\uff0c\u6ca1\u6709\uff01\u56e0\u6b64\u9700\u8981\u6392\u5e8f\uff0c\u4f46\u662f\u6ce8\u610f\u8fd9\u6837\u590d\u6742\u5ea6\u5c31\u53d8\u6210O(nlgn)\u4e86\uff0c\u6709\u6ca1\u6709\u66f4\u597d\u7684\u65b9\u6cd5\uff0chashtable!\u53ef\u4ee5\u4fdd\u6301\u590d\u6742\u5ea6\u5728O(n)\u53c8\u53ef\u4ee5\u8d77\u5230\u6392\u5e8f\u7684\u6548\u679c\u3002\u8fd9\u91cc\u6ce8\u610f\u5728\u5faa\u73af\u91cc\u9762\u7684\u5224\u65ad\u6761\u4ef6\uff0c\u9996\u5148\u770btarget - number[i]\u662f\u5426\u5728hashtable\u91cc\u9762\u5b58\u5728\uff0c\u5982\u679c\u5b58\u5728\u5c31\u8f93\u51fa\u7ed3\u679c\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u8bb0\u5f55\u5f53\u524d\u7684\u6570\u8fdb\u5165hashtable\u91cc\u9762\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n),\u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : vector < int > twoSum ( vector < int > & numbers , int target ) { vector < int > answer ( 2 , 0 ); unordered_map < int , int > record ; for ( int i = 0 ; i < numbers . size (); ++ i ){ int x = numbers [ i ]; if ( record . find ( target - x ) != record . end ()){ answer [ 1 ] = i + 1 ; answer [ 0 ] = record [ target - numbers [ i ]]; break ; } record [ numbers [ i ]] = i + 1 ; } return answer ; } }; \u4f8b\u9898\uff1a 3Sum Closest \u5206\u6790\uff1a\u8fd8\u662f\u9996\u5148\u770b\u662f\u5426\u6570\u7ec4\u662f\u6709\u5e8f\u7684\uff0c\u5982\u679c\u4e0d\u662f\u6709\u5e8f\u7684\u5c31\u5f97\u6392\u5e8f\uff0c\u8fd9\u9053\u9898\u6d89\u53ca\u5230\u4e09\u4e2a\u5143\u7d20\uff08\u4e09\u4f53\u95ee\u9898\uff09\uff0c\u539f\u5219\u4e0a\u4e09\u4f53\u95ee\u9898\u5305\u542b\u4e86\u4e00\u5207\u4e09\u4e2a\u5143\u7d20\u53ca\u4ee5\u4e0a\u7684\u95ee\u9898\uff0c\u5982\u679c\u8bf4\u4e24\u4f53\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u6280\u5de7\uff08\u5982hashtable)\u89e3\u51b3\u7684\u8bdd\uff0c\u4e09\u4f53\u95ee\u9898\u5c31\u662f\u590d\u6742\u5ea6\u63d0\u9ad8\u4e86\u4e00\u4e2a\u53f0\u9636\uff0c\u4e00\u4e9b\u666e\u9002\u4e8e\u4e24\u4f53\u7684\u6280\u5de7\u5728\u4e09\u4f53\u95ee\u9898\u8fd9\u91cc\u884c\u4e0d\u901a\u4e86\u3002\u56e0\u6b64\u5728\u8fd9\u91cc\u9996\u5148\u8981\u5bf9\u6570\u7ec4\u6392\u5e8f\uff0c \u6b64\u9898\u6d89\u53ca\u5230\u4e09\u4e2a\u5143\u7d20\uff0c\u9996\u5148\u5934\u5c3e\u5404\u653e\u4e00\u4e2a\u5143\u7d20\uff0c\u7136\u540e\u4e2d\u95f4\u4ece\u7b2c\u4e8c\u4e2a\u5143\u7d20\uff0c\u5de6\u53f3\u5939\u903c\uff0c\u6211\u4eec\u7528\u4e00\u4e2agap\u6765\u8ba1\u7b97target\u548c\u73b0\u5728\u6240\u6709\u503c\u7684\u548c\u4e4b\u5dee\uff0c\u7531\u4e8e\u5df2\u7ecf\u6392\u597d\u5e8f\uff0c\u53ea\u8981\u6bd4\u8f83target\u548c\u73b0\u5728sum\u7684\u503c\uff0c\u5982\u679ctarget\u503c\u8f83\u5c0f\uff0c\u90a3\u4e48\u8bf4\u660emid\u7684\u503c\u8fc7\u5c0f\u56e0\u6b64\u5f80\u4e2d\u95f4\u9760\u62e2\uff0c\u53cd\u4e4bright\u7684\u503c\u8fc7\u5927\u56e0\u6b64\u5411\u4e2d\u95f4\u9760\u62e2\u3002\u5c31\u8fd9\u6837\u505a\u4e24\u91cd\u904d\u5386\u53ef\u4ee5\u8ba1\u7b97\u5230\u6700\u63a5\u8fd1target\u7684\u503c\uff0c\u56e0\u4e3a\u8fd9\u9053\u9898\u53ea\u8981\u627e\u6700\u63a5\u8fd1\u7684\u6570\u56e0\u6b64\u6ca1\u67093Sum\u90a3\u4e48\u9650\u5236\u6761\u4ef6\u591a\u3002 \u590d\u6742\u5ea6\uff1a \u65f6\u95f4\u590d\u6742\u5ea6O(n^2),\u7a7a\u95f4\u590d\u6742\u5ea6O(1). class Solution { public : int threeSumClosest ( vector < int > & num , int target ) { int sum = 0 ; sort ( num . begin (), num . end ()); int min_gap = INT_MAX ; for ( auto start = num . begin (); start != prev ( num . end (), 2 ); ++ start ){ auto mid = next ( start ); auto last = prev ( num . end (), 1 ); while ( mid < last ){ int sumup = * start + * mid + * last ; int gap = abs ( target - sumup ); if ( gap < min_gap ){ min_gap = gap ; sum = sumup ; } if ( sumup < target ){ mid ++ ; } else { last -- ; } } } return sum ; } }; \u4f8b\u9898\uff1a 3Sum \u5206\u6790\uff1a\u8fd9\u9053\u9898\u662f\u6807\u51c6\u7684\u6c42\u548c\u95ee\u9898\uff0c\u65b9\u6cd5\u4e0e\u524d\u9762\u7c7b\u4f3c\uff0c\u4f46\u662f\u8981\u6ce8\u610f\u91cd\u590d\u6570\u7684\u51fa\u73b0\u4e5f\u5c31\u662fwhile(b < c)\u91cc\u9762\u4e0d\u65ad\u5939\u903c\u5982\u679c\u51fa\u73b0\u8fd1\u90bb\u7684\u5143\u7d20\u76f8\u540c\u7684\u60c5\u51b5\uff0c\u9700\u8981\u4e00\u4e2awhile\u8bed\u53e5\u6765\u79fb\u52a8,\u8fd9\u6837\u5f97\u5230\u7684\u6700\u540e\u6570\u7ec4\u4e00\u5b9a\u6ca1\u6709\u91cd\u590d\u6570\u3002\u8fd8\u6709\u5c31\u662fa\u7684\u91cd\u590d\u60c5\u51b5\u4e5f\u9700\u8981\u8003\u8651\u3002 \u590d\u6742\u5ea6\uff1a\u65f6\u95f4\u590d\u6742\u5ea6O(n^2), \u7a7a\u95f4\u590d\u6742\u5ea6O(1). Solution { public: vector < vector < int > > threeSum ( vector < int > & num ) { vector < vector < int > > result ; if ( num . size () < 3 ) return result ; sort ( num . begin (), num . end ()); const int target = 0 ; for ( auto a = 0 ; a < num . size () - 2 ; ++ a ){ if ( a > 0 && num [ a ] == num [ a - 1 ]) continue ; auto b = a + 1 ; auto c = num . size () - 1 ; while ( b < c ){ if ( num [ a ] + num [ b ] + num [ c ] < target ){ do { b ++ ;} while ( b < c && num [ b ] == num [ b - 1 ]); } else if ( num [ a ] + num [ b ] + num [ c ] > target ){ do { c -- ;} while ( b < c && num [ c ] == num [ c + 1 ]); } else { result . push_back ({ num [ a ], num [ b ], num [ c ]}); do { b ++ ;} while ( b < c && num [ b ] == num [ b - 1 ]); do { c -- ;} while ( b < c && num [ c ] == num [ c + 1 ]); } } } return result ; } }; \u4f8b\u9898\uff1a 4Sum \u5206\u6790\uff1a\u5982\u679c\u4f7f\u7528\u4e0a\u9762\u7c7b\u4f3c\u7684\u65b9\u6cd5\u590d\u6742\u5ea6\u8fbe\u5230\u4e86O(N^3),\u6709\u6ca1\u6709\u66f4\u7701\u65f6\u95f4\u7684\u65b9\u6cd5\u5462\uff1f\u60f3\u5230\u4e00\u5171\u662f\u56db\u4e2a\u6570\u4e4b\u548c\uff0c\u81ea\u7136\u60f3\u5230\u53ef\u4e0d\u53ef\u4ee5\u4e24\u4e24\u914d\u5bf9\uff0c\u8fd9\u6837\u628a\u95ee\u9898\u53ef\u4ee5\u7b80\u5316\u4e3a2Sum. \u8fd9\u91cc\u6211\u4eec\u4f7f\u7528 multimap \u6765\u50a8\u5b58\u4e24\u4e2a\u6570\u7684\u548c\uff0c\u9996\u5148\u8981\u5f04\u6e05\u695akey\u662f\u4ec0\u4e48\uff0c\u56e0\u4e3a\u4e0d\u540c\u7684\u4e24\u4e2a\u6570\u53ef\u80fd\u6709\u76f8\u540c\u7684\u548c\uff0c\u56e0\u6b64key\u4e3a\u4e24\u4e2a\u6570\u7684\u548c\uff0cvalue\u5219\u662fa pair of indexes\u8bb0\u5f55\u4e24\u4e2a\u6570\u5728\u6570\u7ec4\u7684\u4f4d\u7f6e\u3002\u8fd9\u6837\u904d\u5386multimap\u7684\u540c\u65f6\uff0c\u627e\u5230\u53e6\u4e00\u7ec4\u6570\u4f7f\u5f97\u4e24\u7ec4\u6570\u4e4b\u540e\u4e3atarget. \u590d\u6742\u5ea6\uff1a\u65f6\u95f4\u590d\u6742\u5ea6O(N^2), \u7a7a\u95f4\u590d\u6742\u5ea6O(N^2). class Solution { public : vector < vector < int > > fourSum ( vector < int > & num , int target ) { vector < vector < int >> result ; if ( num . size () < 4 ) return result ; sort ( num . begin (), num . end ()); unordered_multimap < int , pair < int , int >> cache ; for ( int i = 0 ; i + 1 < num . size (); ++ i ) for ( int j = i + 1 ; j < num . size (); ++ j ) cache . insert ( make_pair ( num [ i ] + num [ j ], make_pair ( i , j ))); for ( auto i = cache . begin (); i != cache . end (); ++ i ) { int x = target - i -> first ; auto range = cache . equal_range ( x ); for ( auto j = range . first ; j != range . second ; ++ j ) { auto a = i -> second . first ; auto b = i -> second . second ; auto c = j -> second . first ; auto d = j -> second . second ; if ( a != c && a != d && b != c && b != d ) { vector < int > vec = { num [ a ], num [ b ], num [ c ], num [ d ] }; sort ( vec . begin (), vec . end ()); result . push_back ( vec ); } } } sort ( result . begin (), result . end ()); result . erase ( unique ( result . begin (), result . end ()), result . end ()); return result ; } };","title":"\u6c42\u548c\u95ee\u9898"},{"location":"algre/%E5%9B%BE%E7%AE%97%E6%B3%95/","text":"graph \u56fe\u7b97\u6cd5 \u00b6 https://zh.wikipedia.org/wiki/%E5%9B%BE_(%E6%95%B0%E5%AD%A6)#.E5.9B.BE.E7.9A.84.E5.AD.98.E5.82.A8.E8.A1.A8.E7.A4.BA \u56fe\u5728\u524d\u7aef\u4f7f\u7528\u4e0d\u591a\uff08\u4e3b\u8981\u95ee\u9898\u662f\u6865\u95ee\u9898\uff0c\u5730\u56fe\u95ee\u9898\u7b49\uff09\u3002\u56fe\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2a\u590d\u6742\u7684\u6811\u7ed3\u6784\u3002\u4e0d\u540c\u7684\u53f6\u8282\u70b9\u4e92\u76f8\u6709\u8054\u7cfb\u3002 \u904d\u5386\u56fe\uff1a\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u548c\u5e7f\u5ea6\u4f18\u5148\u904d\u5386 **\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u6cd5**\u662f\u6811\u7684\u5148\u6839\u904d\u5386\u7684\u63a8\u5e7f\uff0c\u5b83\u7684\u57fa\u672c\u601d\u60f3\u662f\uff1a\u4ece\u56feG\u7684\u67d0\u4e2a \u9876\u70b9 v0\u51fa\u53d1\uff0c\u8bbf\u95eev0\uff0c\u7136\u540e\u9009\u62e9\u4e00\u4e2a\u4e0ev0\u76f8\u90bb\u4e14\u6ca1\u88ab\u8bbf\u95ee\u8fc7\u7684\u9876\u70b9vi\u8bbf\u95ee\uff0c\u518d\u4ecevi\u51fa\u53d1\u9009\u62e9\u4e00\u4e2a\u4e0evi\u76f8\u90bb\u4e14\u672a\u88ab\u8bbf\u95ee\u7684\u9876\u70b9vj\u8fdb\u884c\u8bbf\u95ee\uff0c\u4f9d\u6b21\u7ee7\u7eed\u3002\u5982\u679c\u5f53\u524d\u88ab\u8bbf\u95ee\u8fc7\u7684\u9876\u70b9\u7684\u6240\u6709\u90bb\u63a5\u9876\u70b9\u90fd\u5df2\u88ab\u8bbf\u95ee\uff0c\u5219\u9000\u56de\u5230\u5df2\u88ab\u8bbf\u95ee\u7684\u9876\u70b9\u5e8f\u5217\u4e2d\u6700\u540e\u4e00\u4e2a\u62e5\u6709\u672a\u88ab\u8bbf\u95ee\u7684\u76f8\u90bb\u9876\u70b9\u7684\u9876\u70b9w\uff0c\u4ecew\u51fa\u53d1\u6309\u540c\u6837\u7684\u65b9\u6cd5\u5411\u524d\u904d\u5386\uff0c\u76f4\u5230\u56fe\u4e2d\u6240\u6709\u9876\u70b9\u90fd\u88ab\u8bbf\u95ee\u3002 \u56fe\u7684**\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22**\u662f\u6811\u7684\u6309\u5c42\u6b21\u904d\u5386\u7684\u63a8\u5e7f\uff0c\u5b83\u7684\u57fa\u672c\u601d\u60f3\u662f\uff1a\u9996\u5148\u8bbf\u95ee\u521d\u59cb\u70b9vi\uff0c\u5e76\u5c06\u5176\u6807\u8bb0\u4e3a\u5df2\u8bbf\u95ee\u8fc7\uff0c\u63a5\u7740\u8bbf\u95eevi\u7684\u6240\u6709\u672a\u88ab\u8bbf\u95ee\u8fc7\u7684\u90bb\u63a5\u70b9vi1,vi2,\u2026, vi t\uff0c\u5e76\u5747\u6807\u8bb0\u5df2\u8bbf\u95ee\u8fc7\uff0c\u7136\u540e\u518d\u6309\u7167vi1,vi2,\u2026, vi t\u7684\u6b21\u5e8f\uff0c\u8bbf\u95ee\u6bcf\u4e00\u4e2a\u9876\u70b9\u7684\u6240\u6709\u672a\u88ab\u8bbf\u95ee\u8fc7\u7684\u90bb\u63a5\u70b9\uff0c\u5e76\u5747\u6807\u8bb0\u4e3a\u5df2\u8bbf\u95ee\u8fc7\uff0c\u4f9d\u6b21\u7c7b\u63a8\uff0c\u76f4\u5230\u56fe\u4e2d\u6240\u6709\u548c\u521d\u59cb\u70b9vi\u6709\u8def\u5f84\u76f8\u901a\u7684\u9876\u70b9\u90fd\u88ab\u8bbf\u95ee\u8fc7\u4e3a\u6b62\u3002 // \u56fe\u7684\u7ec4\u6210\u5355\u4f4d\uff08\u9876\u70b9\uff09\u5c5e\u6027\u662f\uff1a\u6807\u7b7e\uff0c\u662f\u5426\u8bbf\u95ee\u8fc7 class Vertex () { constructor ( label , isVisited ) { this . label = label ; this . isVisited = isVisited ; } } // \u521d\u59cb\u5316\u56fe\uff08\u9876\u70b9\u6570\uff09 class Graph ( v ) { constructor () { this . vertices = v ; this . edges = 0 ; this . adj = []; this . marked = []; // \u4f7f\u7528\u4e09\u4e2a\u5c5e\u6027\u5b58\u653e\u56fe\u5404\u4e2a\u9876\u70b9\u7684\u5173\u7cfb for ( let i = 0 ; i < v ; ++ i ) { this . adj [ i ] = []; this . adj [ i ]. push ( '' ); this . marked [ i ] = false ; } } // \u589e\u52a0\u8fb9\uff08\u4e24\u4e2a\u9876\u70b9\u589e\u52a0\u8fb9\uff09\uff0c\u90a3\u4e48\u8bbe\u7f6e\u4e24\u4e2a adj \u76f8\u90bb\u6570\u7ec4\u589e\u52a0\uff0c\u540c\u65f6\u589e\u52a0\u8fb9\u7684\u6570\u91cf // \u4e25\u683c\uff1a\u5e94\u8be5\u5148\u5224\u65ad\u4e24\u4e2a\u70b9\u662f\u5426\u6709\u8fb9\uff0c\u907f\u514d\u91cd\u590d\u8fb9\u51fa\u73b0 addEdge ( v , w ) { this . adj [ v ]. push ( w ); this . adj [ w ]. push ( v ); this . edges ++ ; } // \u663e\u793a\u56fe\uff08\u904d\u5386\u56fe\u9876\u70b9\uff09 showGrap () { for ( let i = 0 ; i < this . vertices ; i ++ ) { console . log ( i + '->' ); for ( let j = 0 ; j < this . vertices ; ++ j ) { if ( this . adj [ i ][ j ] != undefined ) { console . log ( this . adj [ i ][ j ] + ' ' ); } } } } // \u904d\u5386\u56fe\u8282\u70b9\uff08\u6df1\u5ea6\u4f18\u5148\u904d\u5386\uff0c\u4ece\u67d0\u4e2a\u8282\u70b9\u5f00\u59cb\uff09 // \u8bbe\u7f6e\u5f53\u524d\u7684\u8282\u70b9\u5df2\u6807\u8bb0\uff0c\u7136\u540e\u904d\u5386\u6807\u8bb0\u76f8\u90bb\u7684\u8282\u70b9\uff0c\u9012\u5f52\u5904\u7406 dfs ( v ) { this . marked [ v ] = true ; if ( this . adj [ v ] != undefined ) { for ( let j in this . adj [ v ]) { if ( ! this . marked [ j ]) { this . dfs ( w ); } } } } // \u904d\u5386\u56fe\u8282\u70b9\uff08\u5e7f\u5ea6\u4f18\u5148\u904d\u5386\uff09 bfs ( s ) { let q = []; this . marked [ s ] = true ; q . push ( s ); while ( q . length > 0 ) { let v = q . shift (); if ( this . adj [ v ] != undefined ) { // } for ( let j in this . adj [ v ]) { if ( ! this . marked [ j ]) { this . marked [ j ] = true ; q . push ( j ); } } } } }","title":"\u56fe\u7b97\u6cd5.md"},{"location":"algre/%E5%9B%BE%E7%AE%97%E6%B3%95/#graph","text":"https://zh.wikipedia.org/wiki/%E5%9B%BE_(%E6%95%B0%E5%AD%A6)#.E5.9B.BE.E7.9A.84.E5.AD.98.E5.82.A8.E8.A1.A8.E7.A4.BA \u56fe\u5728\u524d\u7aef\u4f7f\u7528\u4e0d\u591a\uff08\u4e3b\u8981\u95ee\u9898\u662f\u6865\u95ee\u9898\uff0c\u5730\u56fe\u95ee\u9898\u7b49\uff09\u3002\u56fe\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2a\u590d\u6742\u7684\u6811\u7ed3\u6784\u3002\u4e0d\u540c\u7684\u53f6\u8282\u70b9\u4e92\u76f8\u6709\u8054\u7cfb\u3002 \u904d\u5386\u56fe\uff1a\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u548c\u5e7f\u5ea6\u4f18\u5148\u904d\u5386 **\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u6cd5**\u662f\u6811\u7684\u5148\u6839\u904d\u5386\u7684\u63a8\u5e7f\uff0c\u5b83\u7684\u57fa\u672c\u601d\u60f3\u662f\uff1a\u4ece\u56feG\u7684\u67d0\u4e2a \u9876\u70b9 v0\u51fa\u53d1\uff0c\u8bbf\u95eev0\uff0c\u7136\u540e\u9009\u62e9\u4e00\u4e2a\u4e0ev0\u76f8\u90bb\u4e14\u6ca1\u88ab\u8bbf\u95ee\u8fc7\u7684\u9876\u70b9vi\u8bbf\u95ee\uff0c\u518d\u4ecevi\u51fa\u53d1\u9009\u62e9\u4e00\u4e2a\u4e0evi\u76f8\u90bb\u4e14\u672a\u88ab\u8bbf\u95ee\u7684\u9876\u70b9vj\u8fdb\u884c\u8bbf\u95ee\uff0c\u4f9d\u6b21\u7ee7\u7eed\u3002\u5982\u679c\u5f53\u524d\u88ab\u8bbf\u95ee\u8fc7\u7684\u9876\u70b9\u7684\u6240\u6709\u90bb\u63a5\u9876\u70b9\u90fd\u5df2\u88ab\u8bbf\u95ee\uff0c\u5219\u9000\u56de\u5230\u5df2\u88ab\u8bbf\u95ee\u7684\u9876\u70b9\u5e8f\u5217\u4e2d\u6700\u540e\u4e00\u4e2a\u62e5\u6709\u672a\u88ab\u8bbf\u95ee\u7684\u76f8\u90bb\u9876\u70b9\u7684\u9876\u70b9w\uff0c\u4ecew\u51fa\u53d1\u6309\u540c\u6837\u7684\u65b9\u6cd5\u5411\u524d\u904d\u5386\uff0c\u76f4\u5230\u56fe\u4e2d\u6240\u6709\u9876\u70b9\u90fd\u88ab\u8bbf\u95ee\u3002 \u56fe\u7684**\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22**\u662f\u6811\u7684\u6309\u5c42\u6b21\u904d\u5386\u7684\u63a8\u5e7f\uff0c\u5b83\u7684\u57fa\u672c\u601d\u60f3\u662f\uff1a\u9996\u5148\u8bbf\u95ee\u521d\u59cb\u70b9vi\uff0c\u5e76\u5c06\u5176\u6807\u8bb0\u4e3a\u5df2\u8bbf\u95ee\u8fc7\uff0c\u63a5\u7740\u8bbf\u95eevi\u7684\u6240\u6709\u672a\u88ab\u8bbf\u95ee\u8fc7\u7684\u90bb\u63a5\u70b9vi1,vi2,\u2026, vi t\uff0c\u5e76\u5747\u6807\u8bb0\u5df2\u8bbf\u95ee\u8fc7\uff0c\u7136\u540e\u518d\u6309\u7167vi1,vi2,\u2026, vi t\u7684\u6b21\u5e8f\uff0c\u8bbf\u95ee\u6bcf\u4e00\u4e2a\u9876\u70b9\u7684\u6240\u6709\u672a\u88ab\u8bbf\u95ee\u8fc7\u7684\u90bb\u63a5\u70b9\uff0c\u5e76\u5747\u6807\u8bb0\u4e3a\u5df2\u8bbf\u95ee\u8fc7\uff0c\u4f9d\u6b21\u7c7b\u63a8\uff0c\u76f4\u5230\u56fe\u4e2d\u6240\u6709\u548c\u521d\u59cb\u70b9vi\u6709\u8def\u5f84\u76f8\u901a\u7684\u9876\u70b9\u90fd\u88ab\u8bbf\u95ee\u8fc7\u4e3a\u6b62\u3002 // \u56fe\u7684\u7ec4\u6210\u5355\u4f4d\uff08\u9876\u70b9\uff09\u5c5e\u6027\u662f\uff1a\u6807\u7b7e\uff0c\u662f\u5426\u8bbf\u95ee\u8fc7 class Vertex () { constructor ( label , isVisited ) { this . label = label ; this . isVisited = isVisited ; } } // \u521d\u59cb\u5316\u56fe\uff08\u9876\u70b9\u6570\uff09 class Graph ( v ) { constructor () { this . vertices = v ; this . edges = 0 ; this . adj = []; this . marked = []; // \u4f7f\u7528\u4e09\u4e2a\u5c5e\u6027\u5b58\u653e\u56fe\u5404\u4e2a\u9876\u70b9\u7684\u5173\u7cfb for ( let i = 0 ; i < v ; ++ i ) { this . adj [ i ] = []; this . adj [ i ]. push ( '' ); this . marked [ i ] = false ; } } // \u589e\u52a0\u8fb9\uff08\u4e24\u4e2a\u9876\u70b9\u589e\u52a0\u8fb9\uff09\uff0c\u90a3\u4e48\u8bbe\u7f6e\u4e24\u4e2a adj \u76f8\u90bb\u6570\u7ec4\u589e\u52a0\uff0c\u540c\u65f6\u589e\u52a0\u8fb9\u7684\u6570\u91cf // \u4e25\u683c\uff1a\u5e94\u8be5\u5148\u5224\u65ad\u4e24\u4e2a\u70b9\u662f\u5426\u6709\u8fb9\uff0c\u907f\u514d\u91cd\u590d\u8fb9\u51fa\u73b0 addEdge ( v , w ) { this . adj [ v ]. push ( w ); this . adj [ w ]. push ( v ); this . edges ++ ; } // \u663e\u793a\u56fe\uff08\u904d\u5386\u56fe\u9876\u70b9\uff09 showGrap () { for ( let i = 0 ; i < this . vertices ; i ++ ) { console . log ( i + '->' ); for ( let j = 0 ; j < this . vertices ; ++ j ) { if ( this . adj [ i ][ j ] != undefined ) { console . log ( this . adj [ i ][ j ] + ' ' ); } } } } // \u904d\u5386\u56fe\u8282\u70b9\uff08\u6df1\u5ea6\u4f18\u5148\u904d\u5386\uff0c\u4ece\u67d0\u4e2a\u8282\u70b9\u5f00\u59cb\uff09 // \u8bbe\u7f6e\u5f53\u524d\u7684\u8282\u70b9\u5df2\u6807\u8bb0\uff0c\u7136\u540e\u904d\u5386\u6807\u8bb0\u76f8\u90bb\u7684\u8282\u70b9\uff0c\u9012\u5f52\u5904\u7406 dfs ( v ) { this . marked [ v ] = true ; if ( this . adj [ v ] != undefined ) { for ( let j in this . adj [ v ]) { if ( ! this . marked [ j ]) { this . dfs ( w ); } } } } // \u904d\u5386\u56fe\u8282\u70b9\uff08\u5e7f\u5ea6\u4f18\u5148\u904d\u5386\uff09 bfs ( s ) { let q = []; this . marked [ s ] = true ; q . push ( s ); while ( q . length > 0 ) { let v = q . shift (); if ( this . adj [ v ] != undefined ) { // } for ( let j in this . adj [ v ]) { if ( ! this . marked [ j ]) { this . marked [ j ] = true ; q . push ( j ); } } } } }","title":"graph \u56fe\u7b97\u6cd5"},{"location":"algre/%E5%AD%97%E5%85%B8%E6%A0%91/","text":"\u5b57\u5178\u6811 \u00b6 \u53c8\u79f0\u5355\u8bcd\u67e5\u627e\u6811\uff0cTrie\u6811\uff0c\u662f\u4e00\u79cd\u6811\u5f62\u7ed3\u6784\uff0c\u662f\u4e00\u79cd\u54c8\u5e0c\u6811\u7684\u53d8\u79cd\u3002\u5178\u578b\u5e94\u7528\u662f\u7528\u4e8e\u7edf\u8ba1\uff0c\u6392\u5e8f\u548c\u4fdd\u5b58\u5927\u91cf\u7684\u5b57\u7b26\u4e32\uff08\u4f46\u4e0d\u4ec5\u9650\u4e8e\u5b57\u7b26\u4e32\uff09\uff0c\u6240\u4ee5\u7ecf\u5e38\u88ab\u641c\u7d22\u5f15\u64ce\u7cfb\u7edf\u7528\u4e8e\u6587\u672c\u8bcd\u9891\u7edf\u8ba1\u3002\u5b83\u7684\u4f18\u70b9\u662f\uff1a\u5229\u7528\u5b57\u7b26\u4e32\u7684\u516c\u5171\u524d\u7f00\u6765\u51cf\u5c11\u67e5\u8be2\u65f6\u95f4\uff0c\u6700\u5927\u9650\u5ea6\u5730\u51cf\u5c11\u65e0\u8c13\u7684\u5b57\u7b26\u4e32\u6bd4\u8f83\uff0c\u67e5\u8be2\u6548\u7387\u6bd4\u54c8\u5e0c\u6811\u9ad8\u3002 3\u4e2a\u57fa\u672c\u6027\u8d28\uff1a\u6839\u8282\u70b9\u4e0d\u5305\u542b\u5b57\u7b26\uff0c\u9664\u6839\u8282\u70b9\u5916\u6bcf\u4e00\u4e2a\u8282\u70b9\u90fd\u53ea\u5305\u542b\u4e00\u4e2a\u5b57\u7b26\uff1b \u4ece\u6839\u8282\u70b9\u5230\u67d0\u4e00\u8282\u70b9\uff0c\u8def\u5f84\u4e0a\u7ecf\u8fc7\u7684\u5b57\u7b26\u8fde\u63a5\u8d77\u6765\uff0c\u4e3a\u8be5\u8282\u70b9\u5bf9\u5e94\u7684\u5b57\u7b26\u4e32\uff1b \u6bcf\u4e2a\u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9\u5305\u542b\u7684\u5b57\u7b26\u90fd\u4e0d\u76f8\u540c\u3002 \u57fa\u672c\u64cd\u4f5c\uff1a\u67e5\u627e\u3001\u63d2\u5165 \u641c\u7d22\u5b57\u5178\u9879\u76ee\u7684\u65b9\u6cd5\u4e3a\uff1a (1) \u4ece\u6839\u7ed3\u70b9\u5f00\u59cb\u4e00\u6b21\u641c\u7d22\uff1b (2) \u53d6\u5f97\u8981\u67e5\u627e\u5173\u952e\u8bcd\u7684\u7b2c\u4e00\u4e2a\u5b57\u6bcd\uff0c\u5e76\u6839\u636e\u8be5\u5b57\u6bcd\u9009\u62e9\u5bf9\u5e94\u7684\u5b50\u6811\u5e76\u8f6c\u5230\u8be5\u5b50\u6811\u7ee7\u7eed\u8fdb\u884c\u68c0\u7d22\uff1b (3) \u5728\u76f8\u5e94\u7684\u5b50\u6811\u4e0a\uff0c\u53d6\u5f97\u8981\u67e5\u627e\u5173\u952e\u8bcd\u7684\u7b2c\u4e8c\u4e2a\u5b57\u6bcd,\u5e76\u8fdb\u4e00\u6b65\u9009\u62e9\u5bf9\u5e94\u7684\u5b50\u6811\u8fdb\u884c\u68c0\u7d22\u3002 (4) \u8fed\u4ee3\u8fc7\u7a0b\u2026\u2026 (5) \u5728\u67d0\u4e2a\u7ed3\u70b9\u5904\uff0c\u5173\u952e\u8bcd\u7684\u6240\u6709\u5b57\u6bcd\u5df2\u88ab\u53d6\u51fa\uff0c\u5219\u8bfb\u53d6\u9644\u5728\u8be5\u7ed3\u70b9\u4e0a\u7684\u4fe1\u606f\uff0c\u5373\u5b8c\u6210\u67e5\u627e\u3002 \u5176\u4ed6\u64cd\u4f5c\u7c7b\u4f3c\u5904\u7406 \u4e3b\u8981\u5e94\u7528 \u00b6 \u4e32\u7684\u5feb\u901f\u68c0\u7d22 \u00b6 \u7ed9\u51faN\u4e2a\u5355\u8bcd\u7ec4\u6210\u7684\u719f\u8bcd\u8868\uff0c\u4ee5\u53ca\u4e00\u7bc7\u5168\u7528\u5c0f\u5199\u82f1\u6587\u4e66\u5199\u7684\u6587\u7ae0\uff0c\u8bf7\u4f60\u6309\u6700\u65e9\u51fa\u73b0\u7684\u987a\u5e8f\u5199\u51fa\u6240\u6709\u4e0d\u5728\u719f\u8bcd\u8868\u4e2d\u7684\u751f\u8bcd\u3002 \u5728\u8fd9\u9053\u9898\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 \u6570\u7ec4 \u679a\u4e3e\uff0c\u7528\u54c8\u5e0c\uff0c\u7528\u5b57\u5178\u6811\uff0c\u5148\u628a\u719f\u8bcd\u5efa\u4e00\u68f5\u6811\uff0c\u7136\u540e\u8bfb\u5165\u6587\u7ae0\u8fdb\u884c\u6bd4\u8f83\uff0c\u8fd9\u79cd\u65b9\u6cd5\u6548\u7387\u662f\u6bd4\u8f83\u9ad8\u7684\u3002 \u201c\u4e32\u201d\u6392\u5e8f \u00b6 \u7ed9\u5b9aN\u4e2a\u4e92\u4e0d\u76f8\u540c\u7684\u4ec5\u7531\u4e00\u4e2a\u5355\u8bcd\u6784\u6210\u7684\u82f1\u6587\u540d\uff0c\u8ba9\u4f60\u5c06\u4ed6\u4eec\u6309 \u5b57\u5178\u5e8f \u4ece\u5c0f\u5230\u5927\u8f93\u51fa \u7528\u5b57\u5178\u6811\u8fdb\u884c\u6392\u5e8f\uff0c\u91c7\u7528 \u6570\u7ec4 \u7684\u65b9\u5f0f\u521b\u5efa\u5b57\u5178\u6811\uff0c\u8fd9\u68f5\u6811\u7684\u6bcf\u4e2a\u7ed3\u70b9\u7684\u6240\u6709\u513f\u5b50\u5f88\u663e\u7136\u5730\u6309\u7167\u5176\u5b57\u6bcd\u5927\u5c0f\u6392\u5e8f\u3002\u5bf9\u8fd9\u68f5\u6811\u8fdb\u884c\u5148\u5e8f\u904d\u5386\u5373\u53ef\u3002 \u6700\u957f\u516c\u5171\u524d\u7f00 \u00b6 \u5bf9\u6240\u6709\u4e32\u5efa\u7acb\u5b57\u5178\u6811\uff0c\u5bf9\u4e8e\u4e24\u4e2a\u4e32\u7684\u6700\u957f\u516c\u5171\u524d\u7f00\u7684\u957f\u5ea6\u5373\u4ed6\u4eec\u6240\u5728\u7684\u7ed3\u70b9\u7684\u516c\u5171\u7956\u5148\u4e2a\u6570\uff0c\u4e8e\u662f\uff0c\u95ee\u9898\u5c31\u8f6c\u5316\u4e3a\u5f53\u65f6\u516c\u5171\u7956\u5148\u95ee\u9898\u3002 JS\u5b9e\u73b0\u548c\u6848\u4f8b \u00b6 // \u5b57\u5178\u6811\u8282\u70b9\u7c7b class Treenode { constructor ( key , leaf ) { this . key = key ; this . leaf = leaf ; this . count = 0 ; if ( ! leaf ) { this . children = []; } } } // \u5b57\u5178\u6811\u7c7b\uff08\u6709\u95ee\u9898\uff09 class Tree { constructor () { let root = new Treenode ( null , false ); this . root = root ; } // \u5199\u5165\u4e00\u4e2a\u5355\u8bcd run = ( strs ) => { let root = this . root ; for ( let i = 0 ; i < strs . length ; i ++ ) { this . insertNode ( root , strs [ i ]); } } // \u521b\u5efa\u5b57\u5178\u6811\u5b50\u8282\u70b9 insertNode = ( node , str ) => { if ( ! node . leaf ) { let child = node . children . find (( child ) => { return child . key === str [ 0 ]; }); if ( child ) { child . count ++ ; // \u8fd9\u4e00\u53e5\u662f\u9012\u5f52\u7684\u5173\u952e this . insertNode ( child , str . substring ( 1 )); } else { let child = str . length === 1 ? new Treenode ( str [ 0 ], true ) : new Treenode ( str [ 0 ], false ); node . children . push ( child ); this . insertNode ( child , str . substring ); } } } // \u641c\u7d22\u4e00\u4e2a\u5355\u8bcd search = ( strs ) => { if ( ! strs ) return null ; return this . searchText ( this . root , strs ); } // \u641c\u7d22\u5355\u8bcd searchText = ( node , text ) => { if ( node . leaf ) { return node . key === text [ 0 ] ? node : false ; } else { let child = node . children . find ( function ( child ) { return child . key === text [ 0 ]; }); if ( ! child ) { return false ; } else if ( child . leaf ) { return child ; } else { return text . length === 1 ? false : this . searchText ( child , substring ( 1 )); } } } // \u83b7\u53d6\u5b57\u5178\u6811\u6839\u8282\u70b9 getRoot () { return this . root ; } } var strs = [ 'hello' , 'hi' , 'hello' , 'hellen' , 'red' , 'read' ]; var tree = new Tree (); tree . run ( strs ); tree . search ( 'hel' ); //false \u6848\u4f8b2 class TrieNode { constructor ( value ) { this . value = value ; //string this . num = 1 ; this . deep = 0 ; this . son = []; this . isEnd = false ; } findNode ( value ) { for ( let i = 0 ; i < this . son . length ; i ++ ) { const node = this . son [ i ]; if ( node . value == value ) { return node ; } } return null ; } } class Trie { constructor () { this . root = new TrieNode ( null ); this . size = 1 ; } insert ( str ) { let node = this . root ; for ( let c of str ) { let snode = node . findNode ( c ); if ( snode == null ) { snode = new TrieNode ( c ); snode . deep = node . deep + 1 ; node . son . push ( snode ); } else { snode . num ++ ; } node = snode ; } if ( ! node . isEnd ) { this . size ++ ; node . isEnd = true ; } } has ( str ) { let node = this . root ; for ( let c of str ) { const snode = node . findNode ( c ); if ( snode ) { node = snode ; } else { return false ; } } return node . isEnd ; } } //demo const nt = new Trie () nt . insert ( 'name' ); nt . insert ( 'word' ); nt . insert ( 'happy' ); nt . insert ( 'trie' ); // console.log(nt.root['d']) console . log ( nt . has ( 'has' )) console . log ( nt . has ( 'trie' )) console . log ( nt . has ( 'word' )) \u53c2\u8003\u94fe\u63a5 \u00b6 https://baike.baidu.com/item/%E5%AD%97%E5%85%B8%E6%A0%91/9825209 https://www.cnblogs.com/panyujun/p/11098589.html https://www.cnblogs.com/caoke/p/10828895.html","title":"\u5b57\u5178\u6811.md"},{"location":"algre/%E5%AD%97%E5%85%B8%E6%A0%91/#_1","text":"\u53c8\u79f0\u5355\u8bcd\u67e5\u627e\u6811\uff0cTrie\u6811\uff0c\u662f\u4e00\u79cd\u6811\u5f62\u7ed3\u6784\uff0c\u662f\u4e00\u79cd\u54c8\u5e0c\u6811\u7684\u53d8\u79cd\u3002\u5178\u578b\u5e94\u7528\u662f\u7528\u4e8e\u7edf\u8ba1\uff0c\u6392\u5e8f\u548c\u4fdd\u5b58\u5927\u91cf\u7684\u5b57\u7b26\u4e32\uff08\u4f46\u4e0d\u4ec5\u9650\u4e8e\u5b57\u7b26\u4e32\uff09\uff0c\u6240\u4ee5\u7ecf\u5e38\u88ab\u641c\u7d22\u5f15\u64ce\u7cfb\u7edf\u7528\u4e8e\u6587\u672c\u8bcd\u9891\u7edf\u8ba1\u3002\u5b83\u7684\u4f18\u70b9\u662f\uff1a\u5229\u7528\u5b57\u7b26\u4e32\u7684\u516c\u5171\u524d\u7f00\u6765\u51cf\u5c11\u67e5\u8be2\u65f6\u95f4\uff0c\u6700\u5927\u9650\u5ea6\u5730\u51cf\u5c11\u65e0\u8c13\u7684\u5b57\u7b26\u4e32\u6bd4\u8f83\uff0c\u67e5\u8be2\u6548\u7387\u6bd4\u54c8\u5e0c\u6811\u9ad8\u3002 3\u4e2a\u57fa\u672c\u6027\u8d28\uff1a\u6839\u8282\u70b9\u4e0d\u5305\u542b\u5b57\u7b26\uff0c\u9664\u6839\u8282\u70b9\u5916\u6bcf\u4e00\u4e2a\u8282\u70b9\u90fd\u53ea\u5305\u542b\u4e00\u4e2a\u5b57\u7b26\uff1b \u4ece\u6839\u8282\u70b9\u5230\u67d0\u4e00\u8282\u70b9\uff0c\u8def\u5f84\u4e0a\u7ecf\u8fc7\u7684\u5b57\u7b26\u8fde\u63a5\u8d77\u6765\uff0c\u4e3a\u8be5\u8282\u70b9\u5bf9\u5e94\u7684\u5b57\u7b26\u4e32\uff1b \u6bcf\u4e2a\u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9\u5305\u542b\u7684\u5b57\u7b26\u90fd\u4e0d\u76f8\u540c\u3002 \u57fa\u672c\u64cd\u4f5c\uff1a\u67e5\u627e\u3001\u63d2\u5165 \u641c\u7d22\u5b57\u5178\u9879\u76ee\u7684\u65b9\u6cd5\u4e3a\uff1a (1) \u4ece\u6839\u7ed3\u70b9\u5f00\u59cb\u4e00\u6b21\u641c\u7d22\uff1b (2) \u53d6\u5f97\u8981\u67e5\u627e\u5173\u952e\u8bcd\u7684\u7b2c\u4e00\u4e2a\u5b57\u6bcd\uff0c\u5e76\u6839\u636e\u8be5\u5b57\u6bcd\u9009\u62e9\u5bf9\u5e94\u7684\u5b50\u6811\u5e76\u8f6c\u5230\u8be5\u5b50\u6811\u7ee7\u7eed\u8fdb\u884c\u68c0\u7d22\uff1b (3) \u5728\u76f8\u5e94\u7684\u5b50\u6811\u4e0a\uff0c\u53d6\u5f97\u8981\u67e5\u627e\u5173\u952e\u8bcd\u7684\u7b2c\u4e8c\u4e2a\u5b57\u6bcd,\u5e76\u8fdb\u4e00\u6b65\u9009\u62e9\u5bf9\u5e94\u7684\u5b50\u6811\u8fdb\u884c\u68c0\u7d22\u3002 (4) \u8fed\u4ee3\u8fc7\u7a0b\u2026\u2026 (5) \u5728\u67d0\u4e2a\u7ed3\u70b9\u5904\uff0c\u5173\u952e\u8bcd\u7684\u6240\u6709\u5b57\u6bcd\u5df2\u88ab\u53d6\u51fa\uff0c\u5219\u8bfb\u53d6\u9644\u5728\u8be5\u7ed3\u70b9\u4e0a\u7684\u4fe1\u606f\uff0c\u5373\u5b8c\u6210\u67e5\u627e\u3002 \u5176\u4ed6\u64cd\u4f5c\u7c7b\u4f3c\u5904\u7406","title":"\u5b57\u5178\u6811"},{"location":"algre/%E5%AD%97%E5%85%B8%E6%A0%91/#_2","text":"","title":"\u4e3b\u8981\u5e94\u7528"},{"location":"algre/%E5%AD%97%E5%85%B8%E6%A0%91/#_3","text":"\u7ed9\u51faN\u4e2a\u5355\u8bcd\u7ec4\u6210\u7684\u719f\u8bcd\u8868\uff0c\u4ee5\u53ca\u4e00\u7bc7\u5168\u7528\u5c0f\u5199\u82f1\u6587\u4e66\u5199\u7684\u6587\u7ae0\uff0c\u8bf7\u4f60\u6309\u6700\u65e9\u51fa\u73b0\u7684\u987a\u5e8f\u5199\u51fa\u6240\u6709\u4e0d\u5728\u719f\u8bcd\u8868\u4e2d\u7684\u751f\u8bcd\u3002 \u5728\u8fd9\u9053\u9898\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 \u6570\u7ec4 \u679a\u4e3e\uff0c\u7528\u54c8\u5e0c\uff0c\u7528\u5b57\u5178\u6811\uff0c\u5148\u628a\u719f\u8bcd\u5efa\u4e00\u68f5\u6811\uff0c\u7136\u540e\u8bfb\u5165\u6587\u7ae0\u8fdb\u884c\u6bd4\u8f83\uff0c\u8fd9\u79cd\u65b9\u6cd5\u6548\u7387\u662f\u6bd4\u8f83\u9ad8\u7684\u3002","title":"\u4e32\u7684\u5feb\u901f\u68c0\u7d22"},{"location":"algre/%E5%AD%97%E5%85%B8%E6%A0%91/#_4","text":"\u7ed9\u5b9aN\u4e2a\u4e92\u4e0d\u76f8\u540c\u7684\u4ec5\u7531\u4e00\u4e2a\u5355\u8bcd\u6784\u6210\u7684\u82f1\u6587\u540d\uff0c\u8ba9\u4f60\u5c06\u4ed6\u4eec\u6309 \u5b57\u5178\u5e8f \u4ece\u5c0f\u5230\u5927\u8f93\u51fa \u7528\u5b57\u5178\u6811\u8fdb\u884c\u6392\u5e8f\uff0c\u91c7\u7528 \u6570\u7ec4 \u7684\u65b9\u5f0f\u521b\u5efa\u5b57\u5178\u6811\uff0c\u8fd9\u68f5\u6811\u7684\u6bcf\u4e2a\u7ed3\u70b9\u7684\u6240\u6709\u513f\u5b50\u5f88\u663e\u7136\u5730\u6309\u7167\u5176\u5b57\u6bcd\u5927\u5c0f\u6392\u5e8f\u3002\u5bf9\u8fd9\u68f5\u6811\u8fdb\u884c\u5148\u5e8f\u904d\u5386\u5373\u53ef\u3002","title":"\u201c\u4e32\u201d\u6392\u5e8f"},{"location":"algre/%E5%AD%97%E5%85%B8%E6%A0%91/#_5","text":"\u5bf9\u6240\u6709\u4e32\u5efa\u7acb\u5b57\u5178\u6811\uff0c\u5bf9\u4e8e\u4e24\u4e2a\u4e32\u7684\u6700\u957f\u516c\u5171\u524d\u7f00\u7684\u957f\u5ea6\u5373\u4ed6\u4eec\u6240\u5728\u7684\u7ed3\u70b9\u7684\u516c\u5171\u7956\u5148\u4e2a\u6570\uff0c\u4e8e\u662f\uff0c\u95ee\u9898\u5c31\u8f6c\u5316\u4e3a\u5f53\u65f6\u516c\u5171\u7956\u5148\u95ee\u9898\u3002","title":"\u6700\u957f\u516c\u5171\u524d\u7f00"},{"location":"algre/%E5%AD%97%E5%85%B8%E6%A0%91/#js","text":"// \u5b57\u5178\u6811\u8282\u70b9\u7c7b class Treenode { constructor ( key , leaf ) { this . key = key ; this . leaf = leaf ; this . count = 0 ; if ( ! leaf ) { this . children = []; } } } // \u5b57\u5178\u6811\u7c7b\uff08\u6709\u95ee\u9898\uff09 class Tree { constructor () { let root = new Treenode ( null , false ); this . root = root ; } // \u5199\u5165\u4e00\u4e2a\u5355\u8bcd run = ( strs ) => { let root = this . root ; for ( let i = 0 ; i < strs . length ; i ++ ) { this . insertNode ( root , strs [ i ]); } } // \u521b\u5efa\u5b57\u5178\u6811\u5b50\u8282\u70b9 insertNode = ( node , str ) => { if ( ! node . leaf ) { let child = node . children . find (( child ) => { return child . key === str [ 0 ]; }); if ( child ) { child . count ++ ; // \u8fd9\u4e00\u53e5\u662f\u9012\u5f52\u7684\u5173\u952e this . insertNode ( child , str . substring ( 1 )); } else { let child = str . length === 1 ? new Treenode ( str [ 0 ], true ) : new Treenode ( str [ 0 ], false ); node . children . push ( child ); this . insertNode ( child , str . substring ); } } } // \u641c\u7d22\u4e00\u4e2a\u5355\u8bcd search = ( strs ) => { if ( ! strs ) return null ; return this . searchText ( this . root , strs ); } // \u641c\u7d22\u5355\u8bcd searchText = ( node , text ) => { if ( node . leaf ) { return node . key === text [ 0 ] ? node : false ; } else { let child = node . children . find ( function ( child ) { return child . key === text [ 0 ]; }); if ( ! child ) { return false ; } else if ( child . leaf ) { return child ; } else { return text . length === 1 ? false : this . searchText ( child , substring ( 1 )); } } } // \u83b7\u53d6\u5b57\u5178\u6811\u6839\u8282\u70b9 getRoot () { return this . root ; } } var strs = [ 'hello' , 'hi' , 'hello' , 'hellen' , 'red' , 'read' ]; var tree = new Tree (); tree . run ( strs ); tree . search ( 'hel' ); //false \u6848\u4f8b2 class TrieNode { constructor ( value ) { this . value = value ; //string this . num = 1 ; this . deep = 0 ; this . son = []; this . isEnd = false ; } findNode ( value ) { for ( let i = 0 ; i < this . son . length ; i ++ ) { const node = this . son [ i ]; if ( node . value == value ) { return node ; } } return null ; } } class Trie { constructor () { this . root = new TrieNode ( null ); this . size = 1 ; } insert ( str ) { let node = this . root ; for ( let c of str ) { let snode = node . findNode ( c ); if ( snode == null ) { snode = new TrieNode ( c ); snode . deep = node . deep + 1 ; node . son . push ( snode ); } else { snode . num ++ ; } node = snode ; } if ( ! node . isEnd ) { this . size ++ ; node . isEnd = true ; } } has ( str ) { let node = this . root ; for ( let c of str ) { const snode = node . findNode ( c ); if ( snode ) { node = snode ; } else { return false ; } } return node . isEnd ; } } //demo const nt = new Trie () nt . insert ( 'name' ); nt . insert ( 'word' ); nt . insert ( 'happy' ); nt . insert ( 'trie' ); // console.log(nt.root['d']) console . log ( nt . has ( 'has' )) console . log ( nt . has ( 'trie' )) console . log ( nt . has ( 'word' ))","title":"JS\u5b9e\u73b0\u548c\u6848\u4f8b"},{"location":"algre/%E5%AD%97%E5%85%B8%E6%A0%91/#_6","text":"https://baike.baidu.com/item/%E5%AD%97%E5%85%B8%E6%A0%91/9825209 https://www.cnblogs.com/panyujun/p/11098589.html https://www.cnblogs.com/caoke/p/10828895.html","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"algre/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AE%97%E6%B3%95/","text":"JS \u5b57\u7b26\u4e32\u5e38\u89c1\u64cd\u4f5c \u00b6 String \u5bf9\u8c61 API \u00b6 \u4f7f\u7528 String \u539f\u751f API \u64cd\u4f5c\uff1a\u5b57\u7b26\u4e32\u589e\u52a0\uff08\u62fc\u63a5 + \uff09\u3001\u66f4\u6539\uff08slice, substring\uff09\u3001\u67e5\u8be2\uff08indexOf, lastIndexOf, includes\uff09\u7b49\u5e38\u89c1\u64cd\u4f5c\u3002 \u548c\u5176\u4ed6\u6570\u636e\u7c7b\u578b\u7684\u8f6c\u6362\u7b49\uff08number\uff0carray\uff0cdict\uff09\uff1b str . length // \u5c5e\u6027: \u83b7\u53d6\u5b57\u7b26\u4e32\u7684\u957f\u5ea6 charAt ( 0 ) \u8fd4\u56de0\u4f4d\u7f6e\u7684\u5b57\u7b26 \uff08 \u4e0d\u6539\u53d8\u539f\u59cb\u5b57\u7b26\u4e32 \uff09 charCodeAt ( 0 ) \u8fd4\u56de0\u4f4d\u7f6e\u7684\u5b57\u7b26\u7684 Unicode \uff0c \u4f7f\u7528 \uff1a \u6309\u7167\u5b57\u7b26\u987a\u5e8f\u6392\u5e8f fromCodeAt ( 65 ) \u8fd4\u56de65Unicode\u5bf9\u5e94\u7684\u5b57\u7b26 toLowerCase () toUpperCase () \u8f6c\u6362\u6210\u5927\u5199\u6216\u8005\u5c0f\u5199 // \u641c\u7d22 indexOf lastIndexOf \u5982\u679c\u4e00\u4e2a\u5b57\u7b26\u7684\u5f00\u59cb\u641c\u7d22\u7b49\u4e8e\u7ed3\u675f\u641c\u7d22index \uff0c \u90a3\u4e48\u53ea\u6709\u8fd9\u4e00\u4e2a\u5b57\u7b26 includes \u5224\u65ad\u662f\u5426\u5b58\u5728 // \u62fc\u63a5 concat ( str1 , str2 , str3 ) \u8fde\u63a5\u591a\u4e2a\u5b57\u7b26\u4e32\u5e76\u8fd4\u56de slice ( start , end ) substring ( start , end ) \u622a\u53d6\u5f00\u59cb\u5230\u7ed3\u5c3e\u7684\u5b57\u7b26\u4e32 [ start , end ) substr ( start , numbers ) \u4ecestart\u5f00\u59cb\u622a\u53d6 \uff0c \u622a\u53d6\u957f\u5ea6\u662f numbers \uff0c \u5982\u679c\u957f\u5ea6\u8d85\u8fc7\u7ed3\u5c3e\u6216\u8005\u4e0d\u4f20\u53c2 \uff0c \u90a3\u4e48\u5c31\u5230\u7ed3\u5c3e // \u6570\u636e\u7c7b\u578b\u8f6c\u6362 split ( '' ) \u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u6570\u7ec4 // \u9996\u5c3e\u64cd\u4f5c trim () trimStart () trimEnd () padStart ( 2 , '0' ) \u7528\u4e8e\u65f6\u95f4\u6216\u8005\u8fdb\u5236\u8f6c\u6362 padEnd ( 10 , '.00' ) \u7528\u4e8e\u5c0f\u6570\u70b9\u8f6c\u6362 repeat ( 20 ) \u91cd\u590d\u5b57\u7b26\u4e32\u5e76\u8fd4\u56de startsWith ( 'hello' ) \u5224\u65ad\u5b57\u7b26\u4e32\u662f\u5426\u4ee5\u67d0\u4e2a\u5b50\u5b57\u7b26\u4e32\u5f00\u5934 \uff08 str . indexOf ( subStr ) === 0 \uff09 endsWith ( '00' ) // \u6b63\u5219\u64cd\u4f5c replace ( /test/ . ig , 'Hello' ); search('Mike') \u53ef\u4ee5\u67e5\u627e\u5b57\u7b26\u4e32\uff0c\u6216\u8005\u67e5\u627e\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u8f93\u51fa\u5bf9\u5e94\u7684\u7d22\u5f15 let s = 'Mike Toni Tom' ; let index = s . search ( /Tom/ig ); // 10 match(/test/ig) \u5168\u5c40\u67e5\u627etest(\u4e0d\u533a\u5206\u5927\u5c0f\u5199)\u5e76\u5c06\u67e5\u627e\u7ed3\u679c\u6570\u7ec4\u8fd4\u56de let s = 'asdfghjklasdfghjklasdfghjkASDFGH' ; let arr = s . match ( /asd/ig ); // [\"asd\", \"asd\", \"asd\", \"ASD\"] * \u7279\u6b8a\uff1a\u4f4d\u8fd0\u7b97\u5904\u7406\u8fdb\u5236\u8f6c\u6362\uff08\u4e0d\u5e38\u7528\uff09 function bin2dec ( bin ) { // \u4f20\u5165\u4e8c\u8fdb\u5236\uff0c\u5148\u8f6c\u6362\u6210\u5341\u8fdb\u5236\u6570\u5b57\uff0c\u7136\u540e\u8f6c\u6362\u6210\u5b57\u7b26\u4e32\u8f93\u51fa return parseInt ( bin , 2 ). toString ( 10 ); } function dec2bin ( dec ) { // \u4f20\u5165\u5341\u8fdb\u5236\uff0c\u5148\u4f7f\u7528\u4f4d\u8fd0\u7b97\u8f6c\u6362\uff0c\u7136\u540e\u8f6c\u6362\u6210\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32\u8f93\u51fa // >>> \u8868\u793a\u628adec\u8f6c\u6362\u6210\u4e8c\u8fdb\u5236\uff0c\u7136\u540e\u524d\u8fb9\u52a00\uff0c\u7136\u540e\u5411\u53f3\u79fb\u52a80\u4f4d return ( dec >>> 0 ). toString ( 2 ); } \u4e0b\u9762\u662f\u5b9e\u9645\u9898\u76ee\uff08\u83b7\u53d6\u5b57\u7b26\u4e32\u5b50\u5e8f\u5217\uff0c\u7edf\u8ba1\u51fa\u73b0\u7684\u6b21\u6570\uff1b\u53cd\u8f6c\u5b57\u7b26\u4e32\uff09 \u968f\u673a\u5b57\u7b26\u4e32 \u00b6 \u53ef\u4ee5\u83b7\u53d6\u6307\u5b9a\u957f\u5ea6\u7684\u968f\u673a\u5b57\u7b26\u4e32\uff08\u751f\u6210\u9ed8\u8ba4\u5bc6\u7801\uff09 /** * Get random string **/ function randomString ( n ) { let str = 'abcdefghijklmnopqrstuvwxyz9876543210' ; // \u8fd9\u91cc\u53ef\u4ee5\u589e\u52a0\u5bc6\u7801\u5f3a\u5ea6 let tmp = '' ; let l = str . length ; for ( let i = 0 ; i < n ; i ++ ) { tmp += str . charAt ( Math . floor ( Math . random () * l )); } return tmp ; } \u6700\u957f\u516c\u5171\u524d\u7f00 \u00b6 \u83b7\u53d6\u4e00\u4e2a\u5b57\u7b26\u4e32\u6570\u7ec4\u4e2d\uff0c\u6700\u957f\u7684\u516c\u5171\u524d\u7f00 https://leetcode.com/problems/longest-common-prefix/description/ \u7b2c\u4e00\u79cd\u89e3\u6cd5 var longestCommonPrefix = function ( strs ) { if ( strs . length === 0 ) return '' ; if ( strs . length === 1 ) { return strs [ 0 ]; } let commonPrefix = '' ; for ( let i = 0 , len = strs [ 0 ]. length ; i < len ; i ++ ) { let str = strs [ 0 ]. charAt ( i ); for ( let j = 0 ; j < strs . length ; j ++ ) { if ( str !== strs [ j ]. charAt ( i )) { return commonPrefix ; } } commonPrefix += str ; } return commonPrefix ; }; \u7b2c\u4e8c\u79cd\u89e3\u6cd5 /** * Write a function to find the longest common prefix string amongst an array of strings. * input [] => '' ['abc', 'abe', 'abe'] => 'ab' */ const findLongestCommonPrefix = function ( strs ) { // \u6570\u7ec4\u957f\u5ea6\u662f0\uff0c\u90a3\u4e48\u76f4\u63a5\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32 if ( strs . length === 0 ) { return '' } // todo\uff1a\u6570\u7ec4\u957f\u5ea6\u662f1\uff0c\u76f4\u63a5\u8fd4\u56de\u7b2c\u4e00\u9879 // \u8f85\u52a9\u51fd\u6570\uff1a\u5224\u65ad\u6570\u7ec4\u7684\u516c\u5171\u524d\u7f00\u662f\u5426\u662fstr var fn = function ( str ) { for ( let i = 0 ; i < strs . length ; i ++ ) { // \u6216\u8005\u4f7f\u7528 strs[i].startsWith(str) if ( strs [ i ]. indexOf ( str ) !== 0 ) { return false } } return true } const prefixMap = {} let key = '' let j = 0 // \u6ca1\u6709\u5fc5\u8981\u6839\u636e\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u6392\u5e8f while ( key !== strs [ 0 ]) { // \u4f9d\u6b21\u628a\u5f53\u524d\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u7684\u5b50\u5e8f\u5217\u83b7\u53d6\u5230\uff0c\u5faa\u73af\u5224\u65ad\u662f\u5426\u662f\u516c\u5171\u524d\u7f00 const q = ( key + strs [ 0 ][ j ++ ]) if ( ! fn ( q )) { break } key = q } // \u8fd4\u56de\u516c\u5171\u524d\u7f00 return key ; } console . log ( findLongestCommonPrefix ([ \"a\" , \"b\" ])) \u65e0\u91cd\u590d\u5b57\u7b26\u7684\u6700\u957f\u5b50\u4e32 \u00b6 https://leetcode.com/problems/longest-substring-without-repeating-characters/description/ \u7b2c\u4e00\u79cd\u89e3\u7b54\uff08\u6027\u80fd\u4e0d\u597d\uff09 /** * @param {string} s * @return {number} */ // \u521d\u6b65\u601d\u8def\uff1a\u53cc\u6307\u9488\uff08\u5feb\u6162\u6307\u9488\u5b9e\u73b0\uff09 // \u4e24\u4e2a\u6307\u9488\u79fb\u52a8\uff0c\u7136\u540e\u4e0d\u65ad\u5224\u65ad\u5b50\u5e8f\u5217\u5185\u90e8\u662f\u5426\u91cd\u590d\uff0c\u7136\u540e\u7d2f\u8ba1\u8ba1\u7b97\u5f53\u524d\u6700\u957f\u7684\u8ddd\u79bb\u3002 var lengthOfLongestSubstring = function ( s ) { // true \u6ca1\u6709\u91cd\u590d\u5b57\u7b26\u4e32 var checkStr = ( str ) => { const len = str . length ; for ( let i = 0 ; i < len ; i ++ ) { let current = str [ i ]; if ( str . lastIndexOf ( current ) !== str . indexOf ( current )) { return false ; } } return true ; } const len = s . length ; // \u5904\u7406\u7279\u6b8a\u60c5\u51b5\uff08\u5982\u679c\u957f\u5ea6\u662f0\u6216\u8005\u662f1\uff0c\u90a3\u4e48\u76f4\u63a5\u8fd4\u56de\u957f\u5ea6\uff09 if ( len <= 1 ) { return len ; } // \u8bbe\u7f6e\u521d\u59cb\u503c let start = 0 ; let end = 1 ; let num = 1 ; // \u5faa\u73af while ( end <= len - 1 ) { let sub = s . slice ( start , end + 1 ); let result = checkStr ( sub ); // \u5982\u679c\u4e0d\u91cd\u590d if ( result ) { end ++ ; num = num > sub . length ? num : sub . length ; } // \u5982\u679c\u91cd\u590d\uff0c\u91cd\u65b0\u5f00\u59cb else { if ( end === len - 1 ) { return num ; } else { start = start + 1 ; end = end + 1 ; } } console . log ( sub , result , start , end , num ); } return num ; }; // 1\u3001\u5faa\u73af\u83b7\u53d6\u5b50\u4e32 \u2014\u2014\u53cc\u6307\u9488 // 2\u3001\u5982\u4f55\u5224\u65ad\u4e00\u4e2a\u5b50\u4e32\u662f\u5426\u6709\u91cd\u590d\u5b57\u7b26\uff1f\u2014\u2014\u8fd9\u4e2a\u76f4\u63a5IndexOf\u884c\u4e0d\u884c // \u5982\u679c\u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u597d\uff0c\u90a3\u4e48\u4f7f\u7528\u5bf9\u8c61\u5224\u65ad\u662f\u5426\u91cd\u590d \u7b2c\u4e8c\u79cd\u89e3\u7b54 todo\uff1a\u5206\u6790\u8fd9\u4e24\u79cd\u65b9\u6cd5\u7684\u590d\u6742\u5ea6\uff0c\u7136\u540eleetcode\u91cd\u65b0\u63d0\u4ea4 const lengthOfLongestSubstring = function ( str ) { let i = 0 ; let maxSubstring = str [ i ]; let currentMaxString = str [ i ]; let position = 0 ; // \u5faa\u73af\u5f53\u524d\u5b57\u7b26\u4e32\uff0c\u8bbe\u7f6e\u6307\u9488\u8bb0\u5f55\u65e0\u91cd\u590d\u5b50\u4e32\u7684\u4f4d\u7f6e // \u5982\u679c\u65b0\u7684\u5b50\u4e32\u957f\u5ea6\u5927\u4e8e\u5df2\u6709\u5b50\u4e32\uff0c\u90a3\u4e48\u5c31\u4f7f\u7528\u65b0\u7684\u5b50\u4e32 for ( let j = 1 ; j < str . length ; j ++ ){ if ( currentMaxString . indexOf ( str [ j ]) >= 0 ) { i = currentMaxString . indexOf ( str [ j ]) + 1 + position ; if ( currentMaxString . length > maxSubstring . length ) { maxSubstring = currentMaxString ; } if ( i === j ) { currentMaxString = str [ j ]; } else { currentMaxString = str . substring ( i , j ); str = str . substr ( i ); } continue ; } currentMaxString += str [ j ]; maxSubstring = currentMaxString ; } return maxSubstring ; }; lengthOfLongestSubstring ( \"dvdf\" ) \u83b7\u53d6\u5b57\u7b26\u4e32\u4e2d\u51fa\u73b0\u6b21\u6570\u6700\u591a\u7684\u5b57\u7b26 \u00b6 /** * find the maximum duplicate char in an string **/ function findMaxDuplicateChar ( str ) { if ( str . length == 1 ) { return str ; } let charObj = {}; for ( let i = 0 ; i < str . length ; i ++ ) { if ( ! charObj [ str . charAt ( i )]) { charObj [ str . charAt ( i )] = 1 ; } else { charObj [ str . charAt ( i )] += 1 ; } } let maxChar = '' , maxValue = 1 ; for ( var k in charObj ) { if ( charObj [ k ] >= maxValue ) { maxChar = k ; maxValue = charObj [ k ]; } } return maxChar ; }","title":"\u5b57\u7b26\u4e32\u7b97\u6cd5.md"},{"location":"algre/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AE%97%E6%B3%95/#js","text":"","title":"JS \u5b57\u7b26\u4e32\u5e38\u89c1\u64cd\u4f5c"},{"location":"algre/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AE%97%E6%B3%95/#string-api","text":"\u4f7f\u7528 String \u539f\u751f API \u64cd\u4f5c\uff1a\u5b57\u7b26\u4e32\u589e\u52a0\uff08\u62fc\u63a5 + \uff09\u3001\u66f4\u6539\uff08slice, substring\uff09\u3001\u67e5\u8be2\uff08indexOf, lastIndexOf, includes\uff09\u7b49\u5e38\u89c1\u64cd\u4f5c\u3002 \u548c\u5176\u4ed6\u6570\u636e\u7c7b\u578b\u7684\u8f6c\u6362\u7b49\uff08number\uff0carray\uff0cdict\uff09\uff1b str . length // \u5c5e\u6027: \u83b7\u53d6\u5b57\u7b26\u4e32\u7684\u957f\u5ea6 charAt ( 0 ) \u8fd4\u56de0\u4f4d\u7f6e\u7684\u5b57\u7b26 \uff08 \u4e0d\u6539\u53d8\u539f\u59cb\u5b57\u7b26\u4e32 \uff09 charCodeAt ( 0 ) \u8fd4\u56de0\u4f4d\u7f6e\u7684\u5b57\u7b26\u7684 Unicode \uff0c \u4f7f\u7528 \uff1a \u6309\u7167\u5b57\u7b26\u987a\u5e8f\u6392\u5e8f fromCodeAt ( 65 ) \u8fd4\u56de65Unicode\u5bf9\u5e94\u7684\u5b57\u7b26 toLowerCase () toUpperCase () \u8f6c\u6362\u6210\u5927\u5199\u6216\u8005\u5c0f\u5199 // \u641c\u7d22 indexOf lastIndexOf \u5982\u679c\u4e00\u4e2a\u5b57\u7b26\u7684\u5f00\u59cb\u641c\u7d22\u7b49\u4e8e\u7ed3\u675f\u641c\u7d22index \uff0c \u90a3\u4e48\u53ea\u6709\u8fd9\u4e00\u4e2a\u5b57\u7b26 includes \u5224\u65ad\u662f\u5426\u5b58\u5728 // \u62fc\u63a5 concat ( str1 , str2 , str3 ) \u8fde\u63a5\u591a\u4e2a\u5b57\u7b26\u4e32\u5e76\u8fd4\u56de slice ( start , end ) substring ( start , end ) \u622a\u53d6\u5f00\u59cb\u5230\u7ed3\u5c3e\u7684\u5b57\u7b26\u4e32 [ start , end ) substr ( start , numbers ) \u4ecestart\u5f00\u59cb\u622a\u53d6 \uff0c \u622a\u53d6\u957f\u5ea6\u662f numbers \uff0c \u5982\u679c\u957f\u5ea6\u8d85\u8fc7\u7ed3\u5c3e\u6216\u8005\u4e0d\u4f20\u53c2 \uff0c \u90a3\u4e48\u5c31\u5230\u7ed3\u5c3e // \u6570\u636e\u7c7b\u578b\u8f6c\u6362 split ( '' ) \u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u6570\u7ec4 // \u9996\u5c3e\u64cd\u4f5c trim () trimStart () trimEnd () padStart ( 2 , '0' ) \u7528\u4e8e\u65f6\u95f4\u6216\u8005\u8fdb\u5236\u8f6c\u6362 padEnd ( 10 , '.00' ) \u7528\u4e8e\u5c0f\u6570\u70b9\u8f6c\u6362 repeat ( 20 ) \u91cd\u590d\u5b57\u7b26\u4e32\u5e76\u8fd4\u56de startsWith ( 'hello' ) \u5224\u65ad\u5b57\u7b26\u4e32\u662f\u5426\u4ee5\u67d0\u4e2a\u5b50\u5b57\u7b26\u4e32\u5f00\u5934 \uff08 str . indexOf ( subStr ) === 0 \uff09 endsWith ( '00' ) // \u6b63\u5219\u64cd\u4f5c replace ( /test/ . ig , 'Hello' ); search('Mike') \u53ef\u4ee5\u67e5\u627e\u5b57\u7b26\u4e32\uff0c\u6216\u8005\u67e5\u627e\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u8f93\u51fa\u5bf9\u5e94\u7684\u7d22\u5f15 let s = 'Mike Toni Tom' ; let index = s . search ( /Tom/ig ); // 10 match(/test/ig) \u5168\u5c40\u67e5\u627etest(\u4e0d\u533a\u5206\u5927\u5c0f\u5199)\u5e76\u5c06\u67e5\u627e\u7ed3\u679c\u6570\u7ec4\u8fd4\u56de let s = 'asdfghjklasdfghjklasdfghjkASDFGH' ; let arr = s . match ( /asd/ig ); // [\"asd\", \"asd\", \"asd\", \"ASD\"] * \u7279\u6b8a\uff1a\u4f4d\u8fd0\u7b97\u5904\u7406\u8fdb\u5236\u8f6c\u6362\uff08\u4e0d\u5e38\u7528\uff09 function bin2dec ( bin ) { // \u4f20\u5165\u4e8c\u8fdb\u5236\uff0c\u5148\u8f6c\u6362\u6210\u5341\u8fdb\u5236\u6570\u5b57\uff0c\u7136\u540e\u8f6c\u6362\u6210\u5b57\u7b26\u4e32\u8f93\u51fa return parseInt ( bin , 2 ). toString ( 10 ); } function dec2bin ( dec ) { // \u4f20\u5165\u5341\u8fdb\u5236\uff0c\u5148\u4f7f\u7528\u4f4d\u8fd0\u7b97\u8f6c\u6362\uff0c\u7136\u540e\u8f6c\u6362\u6210\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32\u8f93\u51fa // >>> \u8868\u793a\u628adec\u8f6c\u6362\u6210\u4e8c\u8fdb\u5236\uff0c\u7136\u540e\u524d\u8fb9\u52a00\uff0c\u7136\u540e\u5411\u53f3\u79fb\u52a80\u4f4d return ( dec >>> 0 ). toString ( 2 ); } \u4e0b\u9762\u662f\u5b9e\u9645\u9898\u76ee\uff08\u83b7\u53d6\u5b57\u7b26\u4e32\u5b50\u5e8f\u5217\uff0c\u7edf\u8ba1\u51fa\u73b0\u7684\u6b21\u6570\uff1b\u53cd\u8f6c\u5b57\u7b26\u4e32\uff09","title":"String \u5bf9\u8c61 API"},{"location":"algre/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AE%97%E6%B3%95/#_1","text":"\u53ef\u4ee5\u83b7\u53d6\u6307\u5b9a\u957f\u5ea6\u7684\u968f\u673a\u5b57\u7b26\u4e32\uff08\u751f\u6210\u9ed8\u8ba4\u5bc6\u7801\uff09 /** * Get random string **/ function randomString ( n ) { let str = 'abcdefghijklmnopqrstuvwxyz9876543210' ; // \u8fd9\u91cc\u53ef\u4ee5\u589e\u52a0\u5bc6\u7801\u5f3a\u5ea6 let tmp = '' ; let l = str . length ; for ( let i = 0 ; i < n ; i ++ ) { tmp += str . charAt ( Math . floor ( Math . random () * l )); } return tmp ; }","title":"\u968f\u673a\u5b57\u7b26\u4e32"},{"location":"algre/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AE%97%E6%B3%95/#_2","text":"\u83b7\u53d6\u4e00\u4e2a\u5b57\u7b26\u4e32\u6570\u7ec4\u4e2d\uff0c\u6700\u957f\u7684\u516c\u5171\u524d\u7f00 https://leetcode.com/problems/longest-common-prefix/description/ \u7b2c\u4e00\u79cd\u89e3\u6cd5 var longestCommonPrefix = function ( strs ) { if ( strs . length === 0 ) return '' ; if ( strs . length === 1 ) { return strs [ 0 ]; } let commonPrefix = '' ; for ( let i = 0 , len = strs [ 0 ]. length ; i < len ; i ++ ) { let str = strs [ 0 ]. charAt ( i ); for ( let j = 0 ; j < strs . length ; j ++ ) { if ( str !== strs [ j ]. charAt ( i )) { return commonPrefix ; } } commonPrefix += str ; } return commonPrefix ; }; \u7b2c\u4e8c\u79cd\u89e3\u6cd5 /** * Write a function to find the longest common prefix string amongst an array of strings. * input [] => '' ['abc', 'abe', 'abe'] => 'ab' */ const findLongestCommonPrefix = function ( strs ) { // \u6570\u7ec4\u957f\u5ea6\u662f0\uff0c\u90a3\u4e48\u76f4\u63a5\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32 if ( strs . length === 0 ) { return '' } // todo\uff1a\u6570\u7ec4\u957f\u5ea6\u662f1\uff0c\u76f4\u63a5\u8fd4\u56de\u7b2c\u4e00\u9879 // \u8f85\u52a9\u51fd\u6570\uff1a\u5224\u65ad\u6570\u7ec4\u7684\u516c\u5171\u524d\u7f00\u662f\u5426\u662fstr var fn = function ( str ) { for ( let i = 0 ; i < strs . length ; i ++ ) { // \u6216\u8005\u4f7f\u7528 strs[i].startsWith(str) if ( strs [ i ]. indexOf ( str ) !== 0 ) { return false } } return true } const prefixMap = {} let key = '' let j = 0 // \u6ca1\u6709\u5fc5\u8981\u6839\u636e\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u6392\u5e8f while ( key !== strs [ 0 ]) { // \u4f9d\u6b21\u628a\u5f53\u524d\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u7684\u5b50\u5e8f\u5217\u83b7\u53d6\u5230\uff0c\u5faa\u73af\u5224\u65ad\u662f\u5426\u662f\u516c\u5171\u524d\u7f00 const q = ( key + strs [ 0 ][ j ++ ]) if ( ! fn ( q )) { break } key = q } // \u8fd4\u56de\u516c\u5171\u524d\u7f00 return key ; } console . log ( findLongestCommonPrefix ([ \"a\" , \"b\" ]))","title":"\u6700\u957f\u516c\u5171\u524d\u7f00"},{"location":"algre/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AE%97%E6%B3%95/#_3","text":"https://leetcode.com/problems/longest-substring-without-repeating-characters/description/ \u7b2c\u4e00\u79cd\u89e3\u7b54\uff08\u6027\u80fd\u4e0d\u597d\uff09 /** * @param {string} s * @return {number} */ // \u521d\u6b65\u601d\u8def\uff1a\u53cc\u6307\u9488\uff08\u5feb\u6162\u6307\u9488\u5b9e\u73b0\uff09 // \u4e24\u4e2a\u6307\u9488\u79fb\u52a8\uff0c\u7136\u540e\u4e0d\u65ad\u5224\u65ad\u5b50\u5e8f\u5217\u5185\u90e8\u662f\u5426\u91cd\u590d\uff0c\u7136\u540e\u7d2f\u8ba1\u8ba1\u7b97\u5f53\u524d\u6700\u957f\u7684\u8ddd\u79bb\u3002 var lengthOfLongestSubstring = function ( s ) { // true \u6ca1\u6709\u91cd\u590d\u5b57\u7b26\u4e32 var checkStr = ( str ) => { const len = str . length ; for ( let i = 0 ; i < len ; i ++ ) { let current = str [ i ]; if ( str . lastIndexOf ( current ) !== str . indexOf ( current )) { return false ; } } return true ; } const len = s . length ; // \u5904\u7406\u7279\u6b8a\u60c5\u51b5\uff08\u5982\u679c\u957f\u5ea6\u662f0\u6216\u8005\u662f1\uff0c\u90a3\u4e48\u76f4\u63a5\u8fd4\u56de\u957f\u5ea6\uff09 if ( len <= 1 ) { return len ; } // \u8bbe\u7f6e\u521d\u59cb\u503c let start = 0 ; let end = 1 ; let num = 1 ; // \u5faa\u73af while ( end <= len - 1 ) { let sub = s . slice ( start , end + 1 ); let result = checkStr ( sub ); // \u5982\u679c\u4e0d\u91cd\u590d if ( result ) { end ++ ; num = num > sub . length ? num : sub . length ; } // \u5982\u679c\u91cd\u590d\uff0c\u91cd\u65b0\u5f00\u59cb else { if ( end === len - 1 ) { return num ; } else { start = start + 1 ; end = end + 1 ; } } console . log ( sub , result , start , end , num ); } return num ; }; // 1\u3001\u5faa\u73af\u83b7\u53d6\u5b50\u4e32 \u2014\u2014\u53cc\u6307\u9488 // 2\u3001\u5982\u4f55\u5224\u65ad\u4e00\u4e2a\u5b50\u4e32\u662f\u5426\u6709\u91cd\u590d\u5b57\u7b26\uff1f\u2014\u2014\u8fd9\u4e2a\u76f4\u63a5IndexOf\u884c\u4e0d\u884c // \u5982\u679c\u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u597d\uff0c\u90a3\u4e48\u4f7f\u7528\u5bf9\u8c61\u5224\u65ad\u662f\u5426\u91cd\u590d \u7b2c\u4e8c\u79cd\u89e3\u7b54 todo\uff1a\u5206\u6790\u8fd9\u4e24\u79cd\u65b9\u6cd5\u7684\u590d\u6742\u5ea6\uff0c\u7136\u540eleetcode\u91cd\u65b0\u63d0\u4ea4 const lengthOfLongestSubstring = function ( str ) { let i = 0 ; let maxSubstring = str [ i ]; let currentMaxString = str [ i ]; let position = 0 ; // \u5faa\u73af\u5f53\u524d\u5b57\u7b26\u4e32\uff0c\u8bbe\u7f6e\u6307\u9488\u8bb0\u5f55\u65e0\u91cd\u590d\u5b50\u4e32\u7684\u4f4d\u7f6e // \u5982\u679c\u65b0\u7684\u5b50\u4e32\u957f\u5ea6\u5927\u4e8e\u5df2\u6709\u5b50\u4e32\uff0c\u90a3\u4e48\u5c31\u4f7f\u7528\u65b0\u7684\u5b50\u4e32 for ( let j = 1 ; j < str . length ; j ++ ){ if ( currentMaxString . indexOf ( str [ j ]) >= 0 ) { i = currentMaxString . indexOf ( str [ j ]) + 1 + position ; if ( currentMaxString . length > maxSubstring . length ) { maxSubstring = currentMaxString ; } if ( i === j ) { currentMaxString = str [ j ]; } else { currentMaxString = str . substring ( i , j ); str = str . substr ( i ); } continue ; } currentMaxString += str [ j ]; maxSubstring = currentMaxString ; } return maxSubstring ; }; lengthOfLongestSubstring ( \"dvdf\" )","title":"\u65e0\u91cd\u590d\u5b57\u7b26\u7684\u6700\u957f\u5b50\u4e32"},{"location":"algre/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AE%97%E6%B3%95/#_4","text":"/** * find the maximum duplicate char in an string **/ function findMaxDuplicateChar ( str ) { if ( str . length == 1 ) { return str ; } let charObj = {}; for ( let i = 0 ; i < str . length ; i ++ ) { if ( ! charObj [ str . charAt ( i )]) { charObj [ str . charAt ( i )] = 1 ; } else { charObj [ str . charAt ( i )] += 1 ; } } let maxChar = '' , maxValue = 1 ; for ( var k in charObj ) { if ( charObj [ k ] >= maxValue ) { maxChar = k ; maxValue = charObj [ k ]; } } return maxChar ; }","title":"\u83b7\u53d6\u5b57\u7b26\u4e32\u4e2d\u51fa\u73b0\u6b21\u6570\u6700\u591a\u7684\u5b57\u7b26"},{"location":"algre/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%E6%80%9D%E6%83%B3/","text":"\u5e38\u89c1\u7b97\u6cd5\u601d\u60f3 \u00b6 \u7b97\u6cd5\uff1a\u679a\u4e3e\u3001\u9012\u63a8\u3001\u9012\u5f52\u3001\u5206\u6cbb\u3001\u8d2a\u5fc3\u3001\u8bd5\u63a2\u6cd5\u3001\u52a8\u6001\u8fed\u4ee3\u548c\u6a21\u62df\u7b49\u7b97\u6cd5\u601d\u60f3\u3002 \u4e00\u3001\u679a\u4e3e\u7b97\u6cd5\u601d\u60f3\uff08\u66b4\u529b\u7b97\u6cd5\uff09 \u00b6 \u5c06\u95ee\u9898\u7684\u6240\u6709\u53ef\u80fd\u7b54\u6848\u4e00\u4e00\u5217\u4e3e\uff0c\u6839\u636e\u5224\u65ad\u6761\u4ef6\u5224\u65ad\u6b64\u7b54\u6848\u662f\u5426\u5408\u9002\uff0c\u4e00\u822c\u7528\u5faa\u73af\u5b9e\u73b0\u3002 \u7ecf\u5178\u8fd0\u7528\uff1a\u767e\u94b1\u4e70\u767e\u9e21\uff08\u516c\u9e215\u5143\u4e00\u53ea\uff0c\u6bcd\u9e213\u5143\u4e00\u53ea\uff0c\u5c0f\u9e21\u4e00\u5143\u4e09\u53ea\uff0c100\u5143\u4e70100\u53ea\u9e21\uff0c\u6709\u51e0\u79cd\u60c5\u51b5\uff09\u8f6c\u6362\u6210 5x + 3Y + (100 - x - y) / 3 = 100\uff0c\u6c42\u4e8c\u5143\u4e00\u6b21\u65b9\u7a0b\u7684\u6b63\u6574\u6570\u89e3\u3002 \u6700\u5bb9\u6613\u60f3\u5230\uff0c\u5fc5\u987b\u638c\u63e1\uff1b\u9002\u5408\u603b\u6570\u8f83\u5c11\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e09\u5c42\u5faa\u73af\uff0c\u6027\u80fd\u6700\u5dee\u3002 \u4e8c\u3001\u9012\u63a8\u7b97\u6cd5\u601d\u60f3 \u00b6 \u987a\u63a8\u6cd5\uff1a\u4ece\u5df2\u77e5\u6761\u4ef6\u51fa\u53d1\uff0c\u9010\u6b65\u63a8\u7b97\u51fa\u8981\u89e3\u51b3\u95ee\u9898\u7684\u65b9\u6cd5\u3002 \u9006\u63a8\u6cd5\uff1a\u4ece\u5df2\u77e5\u7ed3\u679c\u51fa\u53d1\uff0c\u7528\u8fed\u4ee3\u8868\u8fbe\u5f0f\u9010\u6b65\u63a8\u7b97\u51fa\u95ee\u9898\u5f00\u59cb\u7684\u6761\u4ef6\uff0c\u5373\u987a\u63a8\u6cd5\u7684\u9006\u8fc7\u7a0b\u3002 \u7ecf\u5178\u8fd0\u7528\uff1a\u6590\u6ce2\u90a3\u5951\u6570\u5217\uff08\u987a\u63a8\u6cd5\uff09\u3001\u94f6\u884c\u5b58\u6b3e\uff08\u9006\u63a8\u6cd5\uff09 \u4e09\u3001\u9012\u5f52\u7b97\u6cd5\u601d\u60f3 \u00b6 \u9012\u5f52\u8fc7\u7a0b\u4e00\u822c\u901a\u8fc7\u51fd\u6570\u6216\u5b50\u8fc7\u7a0b\u5b9e\u73b0\uff1b \u9012\u5f52\u7b97\u6cd5\u5728\u51fd\u6570\u6216\u5b50\u8fc7\u7a0b\u7684\u5185\u90e8\uff0c\u76f4\u63a5\u6216\u95f4\u63a5\u8c03\u7528\u81ea\u5df1\u7684\u7b97\u6cd5 \u9012\u5f52\u7b97\u6cd5\u5b9e\u9645\u4e0a\u662f\u628a\u95ee\u9898\u8f6c\u5316\u4e3a\u89c4\u6a21\u7f29\u5c0f\u4e86\u7684\u540c\u7c7b\u95ee\u9898\u7684\u5b50\u95ee\u9898\uff0c\u7136\u540e\u518d\u9012\u5f52\u8c03\u7528\u51fd\u6570\u6216\u8fc7\u7a0b\u6765\u8868\u793a\u95ee\u9898\u7684\u89e3 \u6ce8\u610f\uff1a\u5fc5\u987b\u6709\u4e00\u4e2a\u660e\u786e\u7684\u9012\u5f52\u7ed3\u675f\u6761\u4ef6\uff1b\u5982\u679c\u9012\u5f52\u6b21\u6570\u8fc7\u591a\uff0c\u5bb9\u6613\u9020\u6210\u6808\u6ea2\u51fa\u3002 \u7ecf\u5178\u8fd0\u7528\uff1a\u6c49\u8bfa\u5854\u95ee\u9898\u3001\u9636\u4e58\u95ee\u9898 \u56db\u3001\u5206\u6cbb\u7b97\u6cd5\u601d\u60f3 \u00b6 \u5c06\u4e00\u4e2a\u89c4\u6a21\u4e3a N \u7684\u95ee\u9898\u5206\u89e3\u4e3a K \u4e2a\u89c4\u6a21\u8f83\u5c0f\u7684\u5b50\u95ee\u9898\uff0c\u8fd9\u4e9b\u5b50\u95ee\u9898\u76f8\u4e92\u72ec\u7acb\u4e14\u4e0e\u539f\u95ee\u9898\u6027\u8d28\u76f8\u540c\u3002\u53ea\u8981\u6c42\u51fa\u5b50\u95ee\u9898\u7684\u89e3\uff0c\u5c31\u53ef\u5f97\u5230\u539f\u95ee\u9898\u7684\u89e3\u3002 \u4e00\u822c\u6b65\u9aa4\uff1a \u5206\u89e3\uff0c\u5c06\u8981\u89e3\u51b3\u7684\u95ee\u9898\u5212\u5206\u6210\u82e5\u5e72\u4e2a\u89c4\u6a21\u8f83\u5c0f\u7684\u540c\u7c7b\u95ee\u9898 \u6c42\u89e3\uff0c\u5f53\u5b50\u95ee\u9898\u5212\u5206\u5f97\u8db3\u591f\u5c0f\u65f6\uff0c\u7528\u8f83\u7b80\u5355\u7684\u65b9\u6cd5\u89e3\u51b3 \u5408\u5e76\uff0c\u6309\u539f\u95ee\u9898\u7684\u8981\u6c42\uff0c\u5c06\u5b50\u95ee\u9898\u7684\u89e3\u9010\u5c42\u5408\u5e76\u6784\u6210\u539f\u95ee\u9898\u7684\u89e3 \u7ecf\u5178\u8fd0\u7528\uff1a\u5927\u6570\u76f8\u4e58\u95ee\u9898\u3001\u6bd4\u8d5b\u65e5\u7a0b\u5b89\u6392\uff0c\u5f52\u5e76\u6392\u5e8f\uff1b\u6700\u5927\u5b50\u6bb5\u548c\u95ee\u9898 \u4e94\u3001\u8d2a\u5fc3\u7b97\u6cd5\u601d\u60f3 \u00b6 \u4ece\u95ee\u9898\u7684\u67d0\u4e00\u4e2a\u521d\u59cb\u89e3\u51fa\u53d1\uff0c\u9010\u6b65\u903c\u8fd1\u7ed9\u5b9a\u7684\u76ee\u6807\uff0c\u4ee5\u4fbf\u5c3d\u5feb\u6c42\u51fa\u66f4\u597d\u7684\u89e3\u3002 \u5c40\u9650\uff1a \u4e0d\u80fd\u4fdd\u8bc1\u6700\u540e\u7684\u89e3\u662f\u6700\u4f18\u7684\uff1b \u4e0d\u80fd\u6c42\u6700\u5927\u6700\u5c0f\u89e3\u95ee\u9898\uff1b \u53ea\u80fd\u6c42\u6ee1\u8db3\u67d0\u4e9b\u7ea6\u675f\u6761\u4ef6\u7684\u53ef\u884c\u89e3\u8303\u56f4\u3002 \u57fa\u672c\u8fc7\u7a0b\uff1a \u4ece\u95ee\u9898\u7684\u67d0\u4e00\u521d\u59cb\u89e3\u51fa\u53d1 while \u80fd\u5411\u7ed9\u5b9a\u603b\u76ee\u6807\u524d\u8fdb\u4e00\u6b65 \u6c42\u51fa\u53ef\u884c\u89e3\u7684\u4e00\u4e2a\u89e3\u5143\u7d20 \u7531\u6240\u6709\u89e3\u5143\u7d20\u7ec4\u5408\u6210\u95ee\u9898\u7684\u4e00\u4e2a\u53ef\u884c\u89e3 \u7ecf\u5178\u8fd0\u7528\uff1a\u88c5\u7bb1\u95ee\u9898\u3001\u627e\u96f6\u65b9\u6848\uff0c\u6d3b\u52a8\u9009\u62e9\u95ee\u9898\u3001\u80cc\u5305\u95ee\u9898\u3001\u591a\u673a\u8c03\u5ea6\u95ee\u9898 \u516d\u3001\u56de\u6eaf\u7b97\u6cd5 \u00b6 \u5728\u8bd5\u63a2\u7b97\u6cd5\u4e2d\uff0c\u653e\u5f03\u5f53\u524d\u5019\u9009\u89e3\uff0c\u5e76\u7ee7\u7eed\u5bfb\u627e\u4e0b\u4e00\u4e2a\u5019\u9009\u89e3\u7684\u8fc7\u7a0b\u79f0\u4e3a\u56de\u6eaf\u3002\u6269\u5927\u5f53\u524d\u5019\u9009\u89e3\u7684\u89c4\u6a21\uff0c\u4ee5\u7ee7\u7eed\u8bd5\u63a2\u7684\u8fc7\u7a0b\u79f0\u4e3a\u5411\u524d\u8bd5\u63a2\u3002 \uff08\u4e3a\u6c42\u5f97\u95ee\u9898\u7684\u6b63\u786e\u89e3\uff0c\u4f1a\u5148\u59d4\u5a49\u5730\u8bd5\u63a2\u67d0\u4e00\u79cd\u53ef\u80fd\u60c5\u51b5\u3002\u5728\u8fdb\u884c\u8bd5\u63a2\u8fc7\u7a0b\u4e2d\uff0c\u4e00\u65e6\u53d1\u73b0\u539f\u6765\u9009\u62e9\u7684\u5047\u8bbe\u60c5\u51b5\u662f\u4e0d\u6b63\u786e\u7684\uff0c\u9a6c\u4e0a\u4f1a\u81ea\u89c9\u5730\u9000\u56de\u4e00\u6b65\u91cd\u65b0\u9009\u62e9\uff0c\u7136\u540e\u7ee7\u7eed\u5411\u524d\u8bd5\u63a2\u3002\u53cd\u590d\u8fdb\u884c\uff0c\u76f4\u5230\u5f97\u5230\u89e3\u6216\u8bc1\u660e\u65e0\u89e3\u65f6\u624d\u6b7b\u5fc3\uff09 \u57fa\u672c\u6b65\u9aa4\uff1a \u9488\u5bf9\u6240\u7ed9\u95ee\u9898\uff0c\u5b9a\u4e49\u95ee\u9898\u7684\u89e3\u7a7a\u95f4 \u786e\u5b9a\u6613\u4e8e\u641c\u7d22\u7684\u89e3\u7a7a\u95f4\u7ed3\u6784 \u4ee5\u6df1\u5ea6\u4f18\u5148\u65b9\u5f0f\u641c\u7d22\u89e3\u7a7a\u95f4\uff0c\u5e76\u5728\u641c\u7d22\u8fc7\u7a0b\u4e2d\u7528\u526a\u679d\u51fd\u6570\u907f\u514d\u65e0\u6548\u641c\u7d22 \u7ecf\u5178\u8fd0\u7528\uff1a\u516b\u7687\u540e\u95ee\u9898\u300129 \u9009 7 \u5f69\u7968\u7ec4\u5408\uff0c0-1 \u80cc\u5305\u3001N \u7687\u540e\u95ee\u9898\u3001\u6392\u5217\u7ec4\u5408\u95ee\u9898 // \u6df1\u5ea6\u4f18\u5148\uff08\u67d0\u4e2a\u8282\u70b9\u904d\u5386\u5230\u6700\u7ec8\u60c5\u51b5\uff09 for ( let i = 0 ; i < n ; i ++ ) { tmp . push ( i ); fn ( tmp ); tmp . pop (); } // \u5e7f\u5ea6\u4f18\u5148(\u4e00\u5c42\u4e00\u5c42\u904d\u5386) while ( isValid ( tmp [ 0 ])) { let first = tmp . shift (); let result = fn ( first ); tmp . push (... result ); } \u4e03\u3001\u8fed\u4ee3\u7b97\u6cd5\uff08\u8f97\u8f6c\u6cd5\uff09 \u00b6 \u662f\u4e00\u79cd\u4e0d\u65ad\u7528\u53d8\u91cf\u7684\u65e7\u503c\u9012\u63a8\u65b0\u503c\u7684\u8fc7\u7a0b\uff0c\u89e3\u51b3\u95ee\u9898\u65f6\u603b\u662f\u91cd\u590d\u5229\u7528\u4e00\u79cd\u65b9\u6cd5\u3002 \u786e\u5b9a\u8fed\u4ee3\u53d8\u91cf\uff1a\u76f4\u63a5\u6216\u95f4\u63a5\u5730\u4e0d\u65ad\u7531\u65e7\u503c\u9012\u63a8\u51fa\u65b0\u503c\u7684\u53d8\u91cf \u5efa\u7acb\u8fed\u4ee3\u5173\u7cfb\u5f0f\uff1a\u65b0\u503c\u4e0e\u65e7\u503c\u7684\u516c\u5f0f\u6216\u5173\u7cfb\u3002\uff08\u89e3\u51b3\u8fed\u4ee3\u95ee\u9898\u7684\u5173\u7cfb\uff09 \u5bf9\u8fed\u4ee3\u8fc7\u7a0b\u8fdb\u884c\u63a7\u5236\uff1a\u786e\u5b9a\u8fed\u4ee3\u8fc7\u7a0b\u4ec0\u4e48\u65f6\u5019\u7ed3\u675f \u6240\u9700\u7684\u8fed\u4ee3\u6b21\u6570\u662f\u4e2a\u786e\u5b9a\u503c\uff0c\u53ef\u4ee5\u8ba1\u7b97\u51fa\u6765\uff1a\u53ef\u4ee5\u6784\u5efa\u4e00\u4e2a\u56fa\u5b9a\u6b21\u6570\u7684\u5faa\u73af\u6765\u5b9e\u73b0\u5bf9\u8fed\u4ee3\u8fc7\u7a0b\u7684\u63a7\u5236\uff1b \u6240\u9700\u7684\u8fed\u4ee3\u6b21\u6570\u65e0\u6cd5\u786e\u5b9a\uff1a\u9700\u8981\u8fdb\u4e00\u6b65\u5206\u6790\u51fa\u7528\u6765\u7ed3\u675f\u8fed\u4ee3\u8fc7\u7a0b\u7684\u6761\u4ef6\u3002 \u7ecf\u5178\u8fd0\u7528\uff1a\u6c42\u5e73\u65b9\u6839\u95ee\u9898 \u516b\u3001\u6a21\u62df\u7b97\u6cd5\u601d\u60f3 \u00b6 \u5bf9\u771f\u5b9e\u4e8b\u7269\u6216\u8005\u8fc7\u7a0b\u7684\u865a\u62df\u3002 \u7ecf\u5178\u8fd0\u7528\uff1a\u731c\u6570\u5b57\u6e38\u620f\u3001\u63b7\u9ab0\u5b50\u95ee\u9898 \u4e5d\u3001\u52a8\u6001\u89c4\u5212\u6cd5 \u00b6 \u5173\u952e\u8bcd\uff1a\u9012\u5f52\uff08\u9012\u5f52\u5f0f\uff09\u3001\u8868\u8bb0\u5f55\uff08\u5df2\u89e3\u51b3\u7684\u5b50\u95ee\u9898\u7684\u7b54\u6848\uff09\u3001\u6839\u636e\u5b50\u95ee\u9898\u6c42\u89e3\u539f\u95ee\u9898\u7684\u89e3\uff08\u5b50\u95ee\u9898\u4e0d\u72ec\u7acb\uff09\u3001\u6700\u4f18\u89e3\uff08\u53ef\u9009\u9879\uff09 \u6b65\u9aa4\uff1a \u627e\u51fa\u6700\u4f18\u89e3\u7684\u6027\u8d28\uff0c\u523b\u753b\u5176\u7ed3\u6784\u7279\u5f81\uff1b \u9012\u5f52\u5730\u5b9a\u4e49\u6700\u4f18\u89e3\uff1b \u4ee5\u81ea\u5e95\u5411\u4e0a\u7684\u65b9\u5f0f\u8ba1\u7b97\u51fa\u6700\u4f18\u503c\uff1b \u6839\u636e\u8ba1\u7b97\u6700\u4f18\u503c\u65f6\u5f97\u5230\u7684\u4fe1\u606f\uff0c\u6784\u9020\u4e00\u4e2a\u6700\u4f18\u89e3 \u53ea\u9700\u6c42\u51fa\u6700\u4f18\u503c\uff0c\u6b65\u9aa4 4 \u53ef\u4ee5\u7701\u7565\uff1b\u82e5\u9700\u6c42\u51fa\u95ee\u9898\u7684\u4e00\u4e2a\u6700\u4f18\u89e3\uff0c\u5219\u5fc5\u987b\u6267\u884c\u6b65\u9aa4 4\u3002 \u9002\u7528\u73af\u5883\uff1a \u6700\u4f18\u5b50\u7ed3\u6784\u3002\u4e00\u4e2a\u95ee\u9898\u7684\u6700\u4f18\u89e3\u5305\u542b\u4e86\u5176\u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3\u3002 \u91cd\u53e0\u5b50\u95ee\u9898\u3002\u539f\u95ee\u9898\u7684\u9012\u5f52\u7b97\u6cd5\u53ef\u4ee5\u53cd\u590d\u5730\u89e3\u540c\u6837\u7684\u5b50\u95ee\u9898\uff0c\u800c\u4e0d\u662f\u603b\u662f\u4ea7\u751f\u65b0\u7684\u5b50\u95ee\u9898 \u793a\u4f8b\uff1a0-1 \u80cc\u5305\u95ee\u9898\uff1b\u77e9\u9635\u94fe\u4e58\u95ee\u9898\uff1b\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217\uff08LCS\uff09\uff1b \u5341\u3001\u5206\u652f\u754c\u9650\u6cd5 \u00b6 \u5173\u952e\u5b57\uff1a\u89e3\u7a7a\u95f4\uff08\u5e7f\u5ea6\u4f18\u5148\u3001\u6700\u5c0f\u8017\u8d39\u4f18\u5148\uff09\u3001\u754c\u9650\u51fd\u6570\uff08\u961f\u5217\u5f0f\u3001\u4f18\u5148\u961f\u5217\u5f0f\uff09 \u6b65\u9aa4\uff1a \u9488\u5bf9\u6240\u7ed9\u95ee\u9898\uff0c\u5b9a\u4e49\u95ee\u9898\u7684\u89e3\u7a7a\u95f4\u3002\u95ee\u9898\u7684\u89e3\u7a7a\u95f4\u5e94\u81f3\u5c11\u5305\u542b\u95ee\u9898\u7684\u4e00\u4e2a\uff08\u6700\u4f18\uff09\u89e3 \u786e\u5b9a\u6613\u4e8e\u641c\u7d22\u7684\u89e3\u7a7a\u95f4\u7ed3\u6784\u3002\u901a\u5e38\u5c06\u89e3\u7a7a\u95f4\u8868\u793a\u4e3a\u6811\u3001\u56fe\uff1b\u89e3\u7a7a\u95f4\u6811\u7684\u7b2c i \u5c42\u5230\u7b2c i+1 \u5c42\u8fb9\u4e0a\u7684\u6807\u53f7\u7ed9\u51fa\u4e86\u53d8\u91cf\u7684\u503c\uff1b\u4ece\u6811\u6839\u5230\u53f6\u5b50\u7684\u4efb\u4e00\u8def\u5f84\u8868\u793a\u89e3\u7a7a\u95f4\u7684\u4e00\u4e2a\u5143\u7d20\u3002 \u4ee5\u5e7f\u5ea6\u4f18\u5148\u6216\u6700\u5c0f\u8017\u8d39\u4f18\u5148\u7684\u65b9\u5f0f\u641c\u7d22\u6574\u4e2a\u89e3\u7a7a\u95f4\u3002\u6bcf\u4e2a\u6d3b\u8282\u70b9\u53ea\u6709\u4e00\u6b21\u673a\u4f1a\u6210\u4e3a\u6269\u5c55\u8282\u70b9\uff0c\u6d3b\u8282\u70b9\u4e00\u65e6\u6210\u4e3a\u6269\u5c55\u8282\u70b9\uff0c\u5176\u4f59\u513f\u5b50\u8282\u70b9\u88ab\u52a0\u5165\u6d3b\u8282\u70b9\u8868\u4e2d\u3002\uff08\u4ee5\u6b64\u65b9\u5f0f\u9012\u5f52\u641c\u7d22\uff09 \u754c\u9650\u51fd\u6570\uff1a\u5206\u652f\u754c\u9650\u6cd5\u7684\u6838\u5fc3\u3002\u5c3d\u53ef\u80fd\u591a\u3001\u5c3d\u53ef\u80fd\u65e9\u5730\u201c\u6740\u6389\u201d\u4e0d\u53ef\u80fd\u4ea7\u751f\u6700\u4f18\u89e3\u7684\u6d3b\u8282\u70b9\u3002\u597d\u7684\u754c\u9650\u51fd\u6570\u53ef\u4ee5\u5927\u5927\u51cf\u5c11\u95ee\u9898\u7684\u641c\u7d22\u7a7a\u95f4\uff0c\u5927\u5927\u63d0\u9ad8\u7b97\u6cd5\u7684\u6548\u7387\u3002 \u961f\u5217\u5f0f\uff08FIFO\uff09\u5206\u652f\u754c\u9650\u6cd5\u3002\u5148\u8fdb\u5148\u51fa \u4f18\u5148\u961f\u5217\u5f0f\u5206\u652f\u754c\u9650\u6cd5\u3002\u7ec4\u7ec7\u4e00\u4e2a\u4f18\u5148\u961f\u5217\uff0c\u6309\u4f18\u5148\u7ea7\u9009\u53d6\u3002\u901a\u5e38\u7528\u6700\u5927\u5806\u6765\u5b9e\u73b0\u6700\u5927\u4f18\u5148\u961f\u5217\uff0c\u6700\u5c0f\u5806\u6765\u5b9e\u73b0\u6700\u5c0f\u4f18\u5148\u961f\u5217\u3002 \u5341\u4e00\u3001\u6982\u7387\u7b97\u6cd5 \u00b6 \u5173\u952e\u8bcd\uff1a\u968f\u673a\u6027\u9009\u62e9\u3001\u5c0f\u6982\u7387\u9519\u8bef\uff08\u8fd0\u884c\u65f6\u95f4\u5927\u5e45\u51cf\u5c11\uff09\u3001\u4e0d\u540c\u89e3\uff08\u5bf9\u540c\u4e00\u95ee\u9898\u6c42\u89e3\u4e24\u6b21\uff0c\u53ef\u80fd\u5f97\u5230\u5b8c\u5168\u4e0d\u540c\u7684\u89e3\uff0c\u4e14\u6240\u9700\u65f6\u95f4\u3001\u7ed3\u679c\u53ef\u80fd\u4f1a\u6709\u76f8\u5f53\u5927\u7684\u5dee\u522b\uff09 \u57fa\u672c\u7279\u5f81\uff1a \u8f93\u5165\u5305\u62ec\u4e24\u90e8\u5206\u3002\u4e00\uff0c\u539f\u95ee\u9898\u7684\u8f93\u5165\uff1b\u4e8c\uff0c\u4f9b\u7b97\u6cd5\u8fdb\u884c\u968f\u673a\u9009\u62e9\u7684\u968f\u673a\u6570\u5e8f\u5217 \u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5305\u62ec\u4e00\u5904\u6216\u591a\u5904\u968f\u673a\u9009\u62e9\uff0c\u6839\u636e\u968f\u673a\u503c\u6765\u51b3\u5b9a\u7b97\u6cd5\u7684\u8fd0\u884c \u7ed3\u679c\u4e0d\u80fd\u4fdd\u8bc1\u4e00\u5b9a\u662f\u6b63\u786e\u7684\uff0c\u4f46\u53ef\u4ee5\u9650\u5236\u51fa\u9519\u7387\u3002 \u4e0d\u540c\u7684\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5bf9\u4e8e\u76f8\u540c\u7684\u8f93\u5165\u5b9e\u4f8b\u53ef\u4ee5\u6709\u4e0d\u540c\u7684\u7ed3\u679c\uff0c\u6267\u884c\u65f6\u95f4\u4e5f\u53ef\u80fd\u4e0d\u540c\u3002 \u5206\u7c7b\uff1a \u6570\u503c\u6982\u7387\u7b97\u6cd5\u3002\u5e38\u7528\u4e8e\u6570\u503c\u95ee\u9898\u7684\u6c42\u89e3\u3002\u8fd1\u4f3c\u89e3\uff0c\u8fd1\u4f3c\u89e3\u7684\u7cbe\u5ea6\u968f\u8ba1\u7b97\u65f6\u95f4\u7684\u589e\u52a0\u4e0d\u65ad\u63d0\u9ad8\u3002 \u8499\u7279\u5361\u7f57\uff08Monte Carlo\uff09\u7b97\u6cd5\u3002\u7cbe\u786e\u89e3\uff0c\u89e3\u672a\u5fc5\u662f\u6b63\u786e\u7684\uff0c\u6b63\u786e\u7684\u6982\u7387\u4f9d\u8d56\u4e8e\u7b97\u6cd5\u6240\u7528\u7684\u65f6\u95f4\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u65e0\u6cd5\u6709\u6548\u5730\u5224\u5b9a\u6240\u5f97\u5230\u7684\u89e3\u662f\u5426\u80af\u5b9a\u6b63\u786e\u3002 \u62c9\u65af\u7ef4\u52a0\u65af\uff08LasVegas\uff09\u7b97\u6cd5\u3002\u4e00\u65e6\u627e\u5230\u89e3\uff0c\u4e00\u5b9a\u662f\u6b63\u786e\u89e3\u3002\u627e\u5230\u7684\u6982\u7387\u968f\u8ba1\u7b97\u65f6\u95f4\u7684\u589e\u52a0\u800c\u63d0\u9ad8\u3002\u5bf9\u5b9e\u4f8b\u6c42\u89e3\u8db3\u591f\u591a\u6b21\uff0c\u4f7f\u6c42\u89e3\u5931\u6548\u7684\u6982\u7387\u4efb\u610f\u5c0f\u3002 \u820d\u4f0d\u5fb7\uff08Sherwood\uff09\u7b97\u6cd5\u3002\u603b\u80fd\u6c42\u5f97\u95ee\u9898\u7684\u4e00\u4e2a\u89e3\uff0c\u4e14\u6240\u6c42\u5f97\u7684\u89e3\u603b\u662f\u6b63\u786e\u7684\u3002\u8bbe\u6cd5\u6d88\u9664\u6700\u574f\u60c5\u5f62\u4e0e\u7279\u5b9a\u5b9e\u4f8b\u4e4b\u95f4\u7684\u5173\u8054\u6027\u3002\u591a\u7528\u4e8e\u6700\u5feb\u60c5\u51b5\u4e0b\u7684\u8ba1\u7b97\u590d\u6742\u5ea6\u4e0e\u5176\u5728\u5e73\u5747\u60c5\u51b5\u4e0b\u7684\u8ba1\u7b97\u590d\u6742\u5ea6\u5dee\u522b\u8f83\u5927\u3002 \u5341\u4e8c\u3001\u8fd1\u4f3c\u7b97\u6cd5 \u00b6 \u5173\u952e\u8bcd\uff1a\u8fd1\u4f3c\u89e3\u3001\u89e3\u7684\u5bb9\u9519\u754c\u9650\uff08\u8fd1\u4f3c\u6700\u4f18\u89e3\u4e0e\u6700\u4f18\u89e3\u4e4b\u95f4\u76f8\u5dee\u7684\u7a0b\u5ea6\uff09\u3001\u4e0d\u5b58\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u7b97\u6cd5 \u57fa\u672c\u601d\u60f3\uff1a\u653e\u5f03\u6c42\u6700\u4f18\u89e3\uff0c\u7528\u8fd1\u4f3c\u6700\u4f18\u89e3\u66ff\u4ee3\u6700\u4f18\u89e3\u3002\u4f7f\u7b97\u6cd5\u7b80\u5316\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u964d\u4f4e \u8861\u91cf\u6027\u80fd\u7684\u6807\u51c6\uff1a \u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u5fc5\u987b\u662f\u591a\u9879\u5f0f\u9636\u7684 \u89e3\u7684\u8fd1\u4f3c\u7a0b\u5ea6\u3002\u4e0e\u8fd1\u4f3c\u7b97\u6cd5\u672c\u8eab\u3001\u95ee\u9898\u89c4\u6a21\u3001\u4e0d\u540c\u7684\u8f93\u5165\u5b9e\u4f8b\u6709\u5173\u3002 \u793a\u4f8b\uff1aNP \u95ee\u9898\u3001\u5b9a\u70b9\u8986\u76d6\u95ee\u9898\u3001TSP\u3001\u5b50\u96c6\u548c\u6570\u95ee\u9898\u3001 \u4ee5\u4e0a\u7b97\u6cd5\u601d\u60f3\u5206\u7684\u7ec6\uff0c\u6709\u4e9b\u7b97\u6cd5\u601d\u60f3\u5176\u5b9e\u53ef\u4ee5\u5408\u5e76\u4e00\u7c7b\u3002","title":"\u5e38\u89c1\u7b97\u6cd5\u601d\u60f3.md"},{"location":"algre/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%E6%80%9D%E6%83%B3/#_1","text":"\u7b97\u6cd5\uff1a\u679a\u4e3e\u3001\u9012\u63a8\u3001\u9012\u5f52\u3001\u5206\u6cbb\u3001\u8d2a\u5fc3\u3001\u8bd5\u63a2\u6cd5\u3001\u52a8\u6001\u8fed\u4ee3\u548c\u6a21\u62df\u7b49\u7b97\u6cd5\u601d\u60f3\u3002","title":"\u5e38\u89c1\u7b97\u6cd5\u601d\u60f3"},{"location":"algre/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%E6%80%9D%E6%83%B3/#_2","text":"\u5c06\u95ee\u9898\u7684\u6240\u6709\u53ef\u80fd\u7b54\u6848\u4e00\u4e00\u5217\u4e3e\uff0c\u6839\u636e\u5224\u65ad\u6761\u4ef6\u5224\u65ad\u6b64\u7b54\u6848\u662f\u5426\u5408\u9002\uff0c\u4e00\u822c\u7528\u5faa\u73af\u5b9e\u73b0\u3002 \u7ecf\u5178\u8fd0\u7528\uff1a\u767e\u94b1\u4e70\u767e\u9e21\uff08\u516c\u9e215\u5143\u4e00\u53ea\uff0c\u6bcd\u9e213\u5143\u4e00\u53ea\uff0c\u5c0f\u9e21\u4e00\u5143\u4e09\u53ea\uff0c100\u5143\u4e70100\u53ea\u9e21\uff0c\u6709\u51e0\u79cd\u60c5\u51b5\uff09\u8f6c\u6362\u6210 5x + 3Y + (100 - x - y) / 3 = 100\uff0c\u6c42\u4e8c\u5143\u4e00\u6b21\u65b9\u7a0b\u7684\u6b63\u6574\u6570\u89e3\u3002 \u6700\u5bb9\u6613\u60f3\u5230\uff0c\u5fc5\u987b\u638c\u63e1\uff1b\u9002\u5408\u603b\u6570\u8f83\u5c11\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e09\u5c42\u5faa\u73af\uff0c\u6027\u80fd\u6700\u5dee\u3002","title":"\u4e00\u3001\u679a\u4e3e\u7b97\u6cd5\u601d\u60f3\uff08\u66b4\u529b\u7b97\u6cd5\uff09"},{"location":"algre/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%E6%80%9D%E6%83%B3/#_3","text":"\u987a\u63a8\u6cd5\uff1a\u4ece\u5df2\u77e5\u6761\u4ef6\u51fa\u53d1\uff0c\u9010\u6b65\u63a8\u7b97\u51fa\u8981\u89e3\u51b3\u95ee\u9898\u7684\u65b9\u6cd5\u3002 \u9006\u63a8\u6cd5\uff1a\u4ece\u5df2\u77e5\u7ed3\u679c\u51fa\u53d1\uff0c\u7528\u8fed\u4ee3\u8868\u8fbe\u5f0f\u9010\u6b65\u63a8\u7b97\u51fa\u95ee\u9898\u5f00\u59cb\u7684\u6761\u4ef6\uff0c\u5373\u987a\u63a8\u6cd5\u7684\u9006\u8fc7\u7a0b\u3002 \u7ecf\u5178\u8fd0\u7528\uff1a\u6590\u6ce2\u90a3\u5951\u6570\u5217\uff08\u987a\u63a8\u6cd5\uff09\u3001\u94f6\u884c\u5b58\u6b3e\uff08\u9006\u63a8\u6cd5\uff09","title":"\u4e8c\u3001\u9012\u63a8\u7b97\u6cd5\u601d\u60f3"},{"location":"algre/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%E6%80%9D%E6%83%B3/#_4","text":"\u9012\u5f52\u8fc7\u7a0b\u4e00\u822c\u901a\u8fc7\u51fd\u6570\u6216\u5b50\u8fc7\u7a0b\u5b9e\u73b0\uff1b \u9012\u5f52\u7b97\u6cd5\u5728\u51fd\u6570\u6216\u5b50\u8fc7\u7a0b\u7684\u5185\u90e8\uff0c\u76f4\u63a5\u6216\u95f4\u63a5\u8c03\u7528\u81ea\u5df1\u7684\u7b97\u6cd5 \u9012\u5f52\u7b97\u6cd5\u5b9e\u9645\u4e0a\u662f\u628a\u95ee\u9898\u8f6c\u5316\u4e3a\u89c4\u6a21\u7f29\u5c0f\u4e86\u7684\u540c\u7c7b\u95ee\u9898\u7684\u5b50\u95ee\u9898\uff0c\u7136\u540e\u518d\u9012\u5f52\u8c03\u7528\u51fd\u6570\u6216\u8fc7\u7a0b\u6765\u8868\u793a\u95ee\u9898\u7684\u89e3 \u6ce8\u610f\uff1a\u5fc5\u987b\u6709\u4e00\u4e2a\u660e\u786e\u7684\u9012\u5f52\u7ed3\u675f\u6761\u4ef6\uff1b\u5982\u679c\u9012\u5f52\u6b21\u6570\u8fc7\u591a\uff0c\u5bb9\u6613\u9020\u6210\u6808\u6ea2\u51fa\u3002 \u7ecf\u5178\u8fd0\u7528\uff1a\u6c49\u8bfa\u5854\u95ee\u9898\u3001\u9636\u4e58\u95ee\u9898","title":"\u4e09\u3001\u9012\u5f52\u7b97\u6cd5\u601d\u60f3"},{"location":"algre/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%E6%80%9D%E6%83%B3/#_5","text":"\u5c06\u4e00\u4e2a\u89c4\u6a21\u4e3a N \u7684\u95ee\u9898\u5206\u89e3\u4e3a K \u4e2a\u89c4\u6a21\u8f83\u5c0f\u7684\u5b50\u95ee\u9898\uff0c\u8fd9\u4e9b\u5b50\u95ee\u9898\u76f8\u4e92\u72ec\u7acb\u4e14\u4e0e\u539f\u95ee\u9898\u6027\u8d28\u76f8\u540c\u3002\u53ea\u8981\u6c42\u51fa\u5b50\u95ee\u9898\u7684\u89e3\uff0c\u5c31\u53ef\u5f97\u5230\u539f\u95ee\u9898\u7684\u89e3\u3002 \u4e00\u822c\u6b65\u9aa4\uff1a \u5206\u89e3\uff0c\u5c06\u8981\u89e3\u51b3\u7684\u95ee\u9898\u5212\u5206\u6210\u82e5\u5e72\u4e2a\u89c4\u6a21\u8f83\u5c0f\u7684\u540c\u7c7b\u95ee\u9898 \u6c42\u89e3\uff0c\u5f53\u5b50\u95ee\u9898\u5212\u5206\u5f97\u8db3\u591f\u5c0f\u65f6\uff0c\u7528\u8f83\u7b80\u5355\u7684\u65b9\u6cd5\u89e3\u51b3 \u5408\u5e76\uff0c\u6309\u539f\u95ee\u9898\u7684\u8981\u6c42\uff0c\u5c06\u5b50\u95ee\u9898\u7684\u89e3\u9010\u5c42\u5408\u5e76\u6784\u6210\u539f\u95ee\u9898\u7684\u89e3 \u7ecf\u5178\u8fd0\u7528\uff1a\u5927\u6570\u76f8\u4e58\u95ee\u9898\u3001\u6bd4\u8d5b\u65e5\u7a0b\u5b89\u6392\uff0c\u5f52\u5e76\u6392\u5e8f\uff1b\u6700\u5927\u5b50\u6bb5\u548c\u95ee\u9898","title":"\u56db\u3001\u5206\u6cbb\u7b97\u6cd5\u601d\u60f3"},{"location":"algre/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%E6%80%9D%E6%83%B3/#_6","text":"\u4ece\u95ee\u9898\u7684\u67d0\u4e00\u4e2a\u521d\u59cb\u89e3\u51fa\u53d1\uff0c\u9010\u6b65\u903c\u8fd1\u7ed9\u5b9a\u7684\u76ee\u6807\uff0c\u4ee5\u4fbf\u5c3d\u5feb\u6c42\u51fa\u66f4\u597d\u7684\u89e3\u3002 \u5c40\u9650\uff1a \u4e0d\u80fd\u4fdd\u8bc1\u6700\u540e\u7684\u89e3\u662f\u6700\u4f18\u7684\uff1b \u4e0d\u80fd\u6c42\u6700\u5927\u6700\u5c0f\u89e3\u95ee\u9898\uff1b \u53ea\u80fd\u6c42\u6ee1\u8db3\u67d0\u4e9b\u7ea6\u675f\u6761\u4ef6\u7684\u53ef\u884c\u89e3\u8303\u56f4\u3002 \u57fa\u672c\u8fc7\u7a0b\uff1a \u4ece\u95ee\u9898\u7684\u67d0\u4e00\u521d\u59cb\u89e3\u51fa\u53d1 while \u80fd\u5411\u7ed9\u5b9a\u603b\u76ee\u6807\u524d\u8fdb\u4e00\u6b65 \u6c42\u51fa\u53ef\u884c\u89e3\u7684\u4e00\u4e2a\u89e3\u5143\u7d20 \u7531\u6240\u6709\u89e3\u5143\u7d20\u7ec4\u5408\u6210\u95ee\u9898\u7684\u4e00\u4e2a\u53ef\u884c\u89e3 \u7ecf\u5178\u8fd0\u7528\uff1a\u88c5\u7bb1\u95ee\u9898\u3001\u627e\u96f6\u65b9\u6848\uff0c\u6d3b\u52a8\u9009\u62e9\u95ee\u9898\u3001\u80cc\u5305\u95ee\u9898\u3001\u591a\u673a\u8c03\u5ea6\u95ee\u9898","title":"\u4e94\u3001\u8d2a\u5fc3\u7b97\u6cd5\u601d\u60f3"},{"location":"algre/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%E6%80%9D%E6%83%B3/#_7","text":"\u5728\u8bd5\u63a2\u7b97\u6cd5\u4e2d\uff0c\u653e\u5f03\u5f53\u524d\u5019\u9009\u89e3\uff0c\u5e76\u7ee7\u7eed\u5bfb\u627e\u4e0b\u4e00\u4e2a\u5019\u9009\u89e3\u7684\u8fc7\u7a0b\u79f0\u4e3a\u56de\u6eaf\u3002\u6269\u5927\u5f53\u524d\u5019\u9009\u89e3\u7684\u89c4\u6a21\uff0c\u4ee5\u7ee7\u7eed\u8bd5\u63a2\u7684\u8fc7\u7a0b\u79f0\u4e3a\u5411\u524d\u8bd5\u63a2\u3002 \uff08\u4e3a\u6c42\u5f97\u95ee\u9898\u7684\u6b63\u786e\u89e3\uff0c\u4f1a\u5148\u59d4\u5a49\u5730\u8bd5\u63a2\u67d0\u4e00\u79cd\u53ef\u80fd\u60c5\u51b5\u3002\u5728\u8fdb\u884c\u8bd5\u63a2\u8fc7\u7a0b\u4e2d\uff0c\u4e00\u65e6\u53d1\u73b0\u539f\u6765\u9009\u62e9\u7684\u5047\u8bbe\u60c5\u51b5\u662f\u4e0d\u6b63\u786e\u7684\uff0c\u9a6c\u4e0a\u4f1a\u81ea\u89c9\u5730\u9000\u56de\u4e00\u6b65\u91cd\u65b0\u9009\u62e9\uff0c\u7136\u540e\u7ee7\u7eed\u5411\u524d\u8bd5\u63a2\u3002\u53cd\u590d\u8fdb\u884c\uff0c\u76f4\u5230\u5f97\u5230\u89e3\u6216\u8bc1\u660e\u65e0\u89e3\u65f6\u624d\u6b7b\u5fc3\uff09 \u57fa\u672c\u6b65\u9aa4\uff1a \u9488\u5bf9\u6240\u7ed9\u95ee\u9898\uff0c\u5b9a\u4e49\u95ee\u9898\u7684\u89e3\u7a7a\u95f4 \u786e\u5b9a\u6613\u4e8e\u641c\u7d22\u7684\u89e3\u7a7a\u95f4\u7ed3\u6784 \u4ee5\u6df1\u5ea6\u4f18\u5148\u65b9\u5f0f\u641c\u7d22\u89e3\u7a7a\u95f4\uff0c\u5e76\u5728\u641c\u7d22\u8fc7\u7a0b\u4e2d\u7528\u526a\u679d\u51fd\u6570\u907f\u514d\u65e0\u6548\u641c\u7d22 \u7ecf\u5178\u8fd0\u7528\uff1a\u516b\u7687\u540e\u95ee\u9898\u300129 \u9009 7 \u5f69\u7968\u7ec4\u5408\uff0c0-1 \u80cc\u5305\u3001N \u7687\u540e\u95ee\u9898\u3001\u6392\u5217\u7ec4\u5408\u95ee\u9898 // \u6df1\u5ea6\u4f18\u5148\uff08\u67d0\u4e2a\u8282\u70b9\u904d\u5386\u5230\u6700\u7ec8\u60c5\u51b5\uff09 for ( let i = 0 ; i < n ; i ++ ) { tmp . push ( i ); fn ( tmp ); tmp . pop (); } // \u5e7f\u5ea6\u4f18\u5148(\u4e00\u5c42\u4e00\u5c42\u904d\u5386) while ( isValid ( tmp [ 0 ])) { let first = tmp . shift (); let result = fn ( first ); tmp . push (... result ); }","title":"\u516d\u3001\u56de\u6eaf\u7b97\u6cd5"},{"location":"algre/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%E6%80%9D%E6%83%B3/#_8","text":"\u662f\u4e00\u79cd\u4e0d\u65ad\u7528\u53d8\u91cf\u7684\u65e7\u503c\u9012\u63a8\u65b0\u503c\u7684\u8fc7\u7a0b\uff0c\u89e3\u51b3\u95ee\u9898\u65f6\u603b\u662f\u91cd\u590d\u5229\u7528\u4e00\u79cd\u65b9\u6cd5\u3002 \u786e\u5b9a\u8fed\u4ee3\u53d8\u91cf\uff1a\u76f4\u63a5\u6216\u95f4\u63a5\u5730\u4e0d\u65ad\u7531\u65e7\u503c\u9012\u63a8\u51fa\u65b0\u503c\u7684\u53d8\u91cf \u5efa\u7acb\u8fed\u4ee3\u5173\u7cfb\u5f0f\uff1a\u65b0\u503c\u4e0e\u65e7\u503c\u7684\u516c\u5f0f\u6216\u5173\u7cfb\u3002\uff08\u89e3\u51b3\u8fed\u4ee3\u95ee\u9898\u7684\u5173\u7cfb\uff09 \u5bf9\u8fed\u4ee3\u8fc7\u7a0b\u8fdb\u884c\u63a7\u5236\uff1a\u786e\u5b9a\u8fed\u4ee3\u8fc7\u7a0b\u4ec0\u4e48\u65f6\u5019\u7ed3\u675f \u6240\u9700\u7684\u8fed\u4ee3\u6b21\u6570\u662f\u4e2a\u786e\u5b9a\u503c\uff0c\u53ef\u4ee5\u8ba1\u7b97\u51fa\u6765\uff1a\u53ef\u4ee5\u6784\u5efa\u4e00\u4e2a\u56fa\u5b9a\u6b21\u6570\u7684\u5faa\u73af\u6765\u5b9e\u73b0\u5bf9\u8fed\u4ee3\u8fc7\u7a0b\u7684\u63a7\u5236\uff1b \u6240\u9700\u7684\u8fed\u4ee3\u6b21\u6570\u65e0\u6cd5\u786e\u5b9a\uff1a\u9700\u8981\u8fdb\u4e00\u6b65\u5206\u6790\u51fa\u7528\u6765\u7ed3\u675f\u8fed\u4ee3\u8fc7\u7a0b\u7684\u6761\u4ef6\u3002 \u7ecf\u5178\u8fd0\u7528\uff1a\u6c42\u5e73\u65b9\u6839\u95ee\u9898","title":"\u4e03\u3001\u8fed\u4ee3\u7b97\u6cd5\uff08\u8f97\u8f6c\u6cd5\uff09"},{"location":"algre/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%E6%80%9D%E6%83%B3/#_9","text":"\u5bf9\u771f\u5b9e\u4e8b\u7269\u6216\u8005\u8fc7\u7a0b\u7684\u865a\u62df\u3002 \u7ecf\u5178\u8fd0\u7528\uff1a\u731c\u6570\u5b57\u6e38\u620f\u3001\u63b7\u9ab0\u5b50\u95ee\u9898","title":"\u516b\u3001\u6a21\u62df\u7b97\u6cd5\u601d\u60f3"},{"location":"algre/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%E6%80%9D%E6%83%B3/#_10","text":"\u5173\u952e\u8bcd\uff1a\u9012\u5f52\uff08\u9012\u5f52\u5f0f\uff09\u3001\u8868\u8bb0\u5f55\uff08\u5df2\u89e3\u51b3\u7684\u5b50\u95ee\u9898\u7684\u7b54\u6848\uff09\u3001\u6839\u636e\u5b50\u95ee\u9898\u6c42\u89e3\u539f\u95ee\u9898\u7684\u89e3\uff08\u5b50\u95ee\u9898\u4e0d\u72ec\u7acb\uff09\u3001\u6700\u4f18\u89e3\uff08\u53ef\u9009\u9879\uff09 \u6b65\u9aa4\uff1a \u627e\u51fa\u6700\u4f18\u89e3\u7684\u6027\u8d28\uff0c\u523b\u753b\u5176\u7ed3\u6784\u7279\u5f81\uff1b \u9012\u5f52\u5730\u5b9a\u4e49\u6700\u4f18\u89e3\uff1b \u4ee5\u81ea\u5e95\u5411\u4e0a\u7684\u65b9\u5f0f\u8ba1\u7b97\u51fa\u6700\u4f18\u503c\uff1b \u6839\u636e\u8ba1\u7b97\u6700\u4f18\u503c\u65f6\u5f97\u5230\u7684\u4fe1\u606f\uff0c\u6784\u9020\u4e00\u4e2a\u6700\u4f18\u89e3 \u53ea\u9700\u6c42\u51fa\u6700\u4f18\u503c\uff0c\u6b65\u9aa4 4 \u53ef\u4ee5\u7701\u7565\uff1b\u82e5\u9700\u6c42\u51fa\u95ee\u9898\u7684\u4e00\u4e2a\u6700\u4f18\u89e3\uff0c\u5219\u5fc5\u987b\u6267\u884c\u6b65\u9aa4 4\u3002 \u9002\u7528\u73af\u5883\uff1a \u6700\u4f18\u5b50\u7ed3\u6784\u3002\u4e00\u4e2a\u95ee\u9898\u7684\u6700\u4f18\u89e3\u5305\u542b\u4e86\u5176\u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3\u3002 \u91cd\u53e0\u5b50\u95ee\u9898\u3002\u539f\u95ee\u9898\u7684\u9012\u5f52\u7b97\u6cd5\u53ef\u4ee5\u53cd\u590d\u5730\u89e3\u540c\u6837\u7684\u5b50\u95ee\u9898\uff0c\u800c\u4e0d\u662f\u603b\u662f\u4ea7\u751f\u65b0\u7684\u5b50\u95ee\u9898 \u793a\u4f8b\uff1a0-1 \u80cc\u5305\u95ee\u9898\uff1b\u77e9\u9635\u94fe\u4e58\u95ee\u9898\uff1b\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217\uff08LCS\uff09\uff1b","title":"\u4e5d\u3001\u52a8\u6001\u89c4\u5212\u6cd5"},{"location":"algre/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%E6%80%9D%E6%83%B3/#_11","text":"\u5173\u952e\u5b57\uff1a\u89e3\u7a7a\u95f4\uff08\u5e7f\u5ea6\u4f18\u5148\u3001\u6700\u5c0f\u8017\u8d39\u4f18\u5148\uff09\u3001\u754c\u9650\u51fd\u6570\uff08\u961f\u5217\u5f0f\u3001\u4f18\u5148\u961f\u5217\u5f0f\uff09 \u6b65\u9aa4\uff1a \u9488\u5bf9\u6240\u7ed9\u95ee\u9898\uff0c\u5b9a\u4e49\u95ee\u9898\u7684\u89e3\u7a7a\u95f4\u3002\u95ee\u9898\u7684\u89e3\u7a7a\u95f4\u5e94\u81f3\u5c11\u5305\u542b\u95ee\u9898\u7684\u4e00\u4e2a\uff08\u6700\u4f18\uff09\u89e3 \u786e\u5b9a\u6613\u4e8e\u641c\u7d22\u7684\u89e3\u7a7a\u95f4\u7ed3\u6784\u3002\u901a\u5e38\u5c06\u89e3\u7a7a\u95f4\u8868\u793a\u4e3a\u6811\u3001\u56fe\uff1b\u89e3\u7a7a\u95f4\u6811\u7684\u7b2c i \u5c42\u5230\u7b2c i+1 \u5c42\u8fb9\u4e0a\u7684\u6807\u53f7\u7ed9\u51fa\u4e86\u53d8\u91cf\u7684\u503c\uff1b\u4ece\u6811\u6839\u5230\u53f6\u5b50\u7684\u4efb\u4e00\u8def\u5f84\u8868\u793a\u89e3\u7a7a\u95f4\u7684\u4e00\u4e2a\u5143\u7d20\u3002 \u4ee5\u5e7f\u5ea6\u4f18\u5148\u6216\u6700\u5c0f\u8017\u8d39\u4f18\u5148\u7684\u65b9\u5f0f\u641c\u7d22\u6574\u4e2a\u89e3\u7a7a\u95f4\u3002\u6bcf\u4e2a\u6d3b\u8282\u70b9\u53ea\u6709\u4e00\u6b21\u673a\u4f1a\u6210\u4e3a\u6269\u5c55\u8282\u70b9\uff0c\u6d3b\u8282\u70b9\u4e00\u65e6\u6210\u4e3a\u6269\u5c55\u8282\u70b9\uff0c\u5176\u4f59\u513f\u5b50\u8282\u70b9\u88ab\u52a0\u5165\u6d3b\u8282\u70b9\u8868\u4e2d\u3002\uff08\u4ee5\u6b64\u65b9\u5f0f\u9012\u5f52\u641c\u7d22\uff09 \u754c\u9650\u51fd\u6570\uff1a\u5206\u652f\u754c\u9650\u6cd5\u7684\u6838\u5fc3\u3002\u5c3d\u53ef\u80fd\u591a\u3001\u5c3d\u53ef\u80fd\u65e9\u5730\u201c\u6740\u6389\u201d\u4e0d\u53ef\u80fd\u4ea7\u751f\u6700\u4f18\u89e3\u7684\u6d3b\u8282\u70b9\u3002\u597d\u7684\u754c\u9650\u51fd\u6570\u53ef\u4ee5\u5927\u5927\u51cf\u5c11\u95ee\u9898\u7684\u641c\u7d22\u7a7a\u95f4\uff0c\u5927\u5927\u63d0\u9ad8\u7b97\u6cd5\u7684\u6548\u7387\u3002 \u961f\u5217\u5f0f\uff08FIFO\uff09\u5206\u652f\u754c\u9650\u6cd5\u3002\u5148\u8fdb\u5148\u51fa \u4f18\u5148\u961f\u5217\u5f0f\u5206\u652f\u754c\u9650\u6cd5\u3002\u7ec4\u7ec7\u4e00\u4e2a\u4f18\u5148\u961f\u5217\uff0c\u6309\u4f18\u5148\u7ea7\u9009\u53d6\u3002\u901a\u5e38\u7528\u6700\u5927\u5806\u6765\u5b9e\u73b0\u6700\u5927\u4f18\u5148\u961f\u5217\uff0c\u6700\u5c0f\u5806\u6765\u5b9e\u73b0\u6700\u5c0f\u4f18\u5148\u961f\u5217\u3002","title":"\u5341\u3001\u5206\u652f\u754c\u9650\u6cd5"},{"location":"algre/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%E6%80%9D%E6%83%B3/#_12","text":"\u5173\u952e\u8bcd\uff1a\u968f\u673a\u6027\u9009\u62e9\u3001\u5c0f\u6982\u7387\u9519\u8bef\uff08\u8fd0\u884c\u65f6\u95f4\u5927\u5e45\u51cf\u5c11\uff09\u3001\u4e0d\u540c\u89e3\uff08\u5bf9\u540c\u4e00\u95ee\u9898\u6c42\u89e3\u4e24\u6b21\uff0c\u53ef\u80fd\u5f97\u5230\u5b8c\u5168\u4e0d\u540c\u7684\u89e3\uff0c\u4e14\u6240\u9700\u65f6\u95f4\u3001\u7ed3\u679c\u53ef\u80fd\u4f1a\u6709\u76f8\u5f53\u5927\u7684\u5dee\u522b\uff09 \u57fa\u672c\u7279\u5f81\uff1a \u8f93\u5165\u5305\u62ec\u4e24\u90e8\u5206\u3002\u4e00\uff0c\u539f\u95ee\u9898\u7684\u8f93\u5165\uff1b\u4e8c\uff0c\u4f9b\u7b97\u6cd5\u8fdb\u884c\u968f\u673a\u9009\u62e9\u7684\u968f\u673a\u6570\u5e8f\u5217 \u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5305\u62ec\u4e00\u5904\u6216\u591a\u5904\u968f\u673a\u9009\u62e9\uff0c\u6839\u636e\u968f\u673a\u503c\u6765\u51b3\u5b9a\u7b97\u6cd5\u7684\u8fd0\u884c \u7ed3\u679c\u4e0d\u80fd\u4fdd\u8bc1\u4e00\u5b9a\u662f\u6b63\u786e\u7684\uff0c\u4f46\u53ef\u4ee5\u9650\u5236\u51fa\u9519\u7387\u3002 \u4e0d\u540c\u7684\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5bf9\u4e8e\u76f8\u540c\u7684\u8f93\u5165\u5b9e\u4f8b\u53ef\u4ee5\u6709\u4e0d\u540c\u7684\u7ed3\u679c\uff0c\u6267\u884c\u65f6\u95f4\u4e5f\u53ef\u80fd\u4e0d\u540c\u3002 \u5206\u7c7b\uff1a \u6570\u503c\u6982\u7387\u7b97\u6cd5\u3002\u5e38\u7528\u4e8e\u6570\u503c\u95ee\u9898\u7684\u6c42\u89e3\u3002\u8fd1\u4f3c\u89e3\uff0c\u8fd1\u4f3c\u89e3\u7684\u7cbe\u5ea6\u968f\u8ba1\u7b97\u65f6\u95f4\u7684\u589e\u52a0\u4e0d\u65ad\u63d0\u9ad8\u3002 \u8499\u7279\u5361\u7f57\uff08Monte Carlo\uff09\u7b97\u6cd5\u3002\u7cbe\u786e\u89e3\uff0c\u89e3\u672a\u5fc5\u662f\u6b63\u786e\u7684\uff0c\u6b63\u786e\u7684\u6982\u7387\u4f9d\u8d56\u4e8e\u7b97\u6cd5\u6240\u7528\u7684\u65f6\u95f4\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u65e0\u6cd5\u6709\u6548\u5730\u5224\u5b9a\u6240\u5f97\u5230\u7684\u89e3\u662f\u5426\u80af\u5b9a\u6b63\u786e\u3002 \u62c9\u65af\u7ef4\u52a0\u65af\uff08LasVegas\uff09\u7b97\u6cd5\u3002\u4e00\u65e6\u627e\u5230\u89e3\uff0c\u4e00\u5b9a\u662f\u6b63\u786e\u89e3\u3002\u627e\u5230\u7684\u6982\u7387\u968f\u8ba1\u7b97\u65f6\u95f4\u7684\u589e\u52a0\u800c\u63d0\u9ad8\u3002\u5bf9\u5b9e\u4f8b\u6c42\u89e3\u8db3\u591f\u591a\u6b21\uff0c\u4f7f\u6c42\u89e3\u5931\u6548\u7684\u6982\u7387\u4efb\u610f\u5c0f\u3002 \u820d\u4f0d\u5fb7\uff08Sherwood\uff09\u7b97\u6cd5\u3002\u603b\u80fd\u6c42\u5f97\u95ee\u9898\u7684\u4e00\u4e2a\u89e3\uff0c\u4e14\u6240\u6c42\u5f97\u7684\u89e3\u603b\u662f\u6b63\u786e\u7684\u3002\u8bbe\u6cd5\u6d88\u9664\u6700\u574f\u60c5\u5f62\u4e0e\u7279\u5b9a\u5b9e\u4f8b\u4e4b\u95f4\u7684\u5173\u8054\u6027\u3002\u591a\u7528\u4e8e\u6700\u5feb\u60c5\u51b5\u4e0b\u7684\u8ba1\u7b97\u590d\u6742\u5ea6\u4e0e\u5176\u5728\u5e73\u5747\u60c5\u51b5\u4e0b\u7684\u8ba1\u7b97\u590d\u6742\u5ea6\u5dee\u522b\u8f83\u5927\u3002","title":"\u5341\u4e00\u3001\u6982\u7387\u7b97\u6cd5"},{"location":"algre/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%E6%80%9D%E6%83%B3/#_13","text":"\u5173\u952e\u8bcd\uff1a\u8fd1\u4f3c\u89e3\u3001\u89e3\u7684\u5bb9\u9519\u754c\u9650\uff08\u8fd1\u4f3c\u6700\u4f18\u89e3\u4e0e\u6700\u4f18\u89e3\u4e4b\u95f4\u76f8\u5dee\u7684\u7a0b\u5ea6\uff09\u3001\u4e0d\u5b58\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u7b97\u6cd5 \u57fa\u672c\u601d\u60f3\uff1a\u653e\u5f03\u6c42\u6700\u4f18\u89e3\uff0c\u7528\u8fd1\u4f3c\u6700\u4f18\u89e3\u66ff\u4ee3\u6700\u4f18\u89e3\u3002\u4f7f\u7b97\u6cd5\u7b80\u5316\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u964d\u4f4e \u8861\u91cf\u6027\u80fd\u7684\u6807\u51c6\uff1a \u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u5fc5\u987b\u662f\u591a\u9879\u5f0f\u9636\u7684 \u89e3\u7684\u8fd1\u4f3c\u7a0b\u5ea6\u3002\u4e0e\u8fd1\u4f3c\u7b97\u6cd5\u672c\u8eab\u3001\u95ee\u9898\u89c4\u6a21\u3001\u4e0d\u540c\u7684\u8f93\u5165\u5b9e\u4f8b\u6709\u5173\u3002 \u793a\u4f8b\uff1aNP \u95ee\u9898\u3001\u5b9a\u70b9\u8986\u76d6\u95ee\u9898\u3001TSP\u3001\u5b50\u96c6\u548c\u6570\u95ee\u9898\u3001 \u4ee5\u4e0a\u7b97\u6cd5\u601d\u60f3\u5206\u7684\u7ec6\uff0c\u6709\u4e9b\u7b97\u6cd5\u601d\u60f3\u5176\u5b9e\u53ef\u4ee5\u5408\u5e76\u4e00\u7c7b\u3002","title":"\u5341\u4e8c\u3001\u8fd1\u4f3c\u7b97\u6cd5"},{"location":"algre/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/","text":"\u6392\u5e8f\u7b97\u6cd5 \u00b6 BubbleSort O(N*N) \u00b6 function bubbleSort ( arr ) { for ( let i = 0 , l = arr . length ; i < l - 1 ; i ++ ) { for ( let j = i + 1 ; j < l ; j ++ ) { if ( arr [ i ] > arr [ j ]) { let tem = arr [ i ]; arr [ i ] = arr [ j ]; arr [ j ] = tem ; } } } return arr ; } insert sort O(n*n) \u00b6 function insertSort ( arr ) { for ( let i = 1 , l = arr . length ; i < l ; i ++ ) { let j = i ; let tem = arr [ i ]; while ( j > 0 && tem < arr [ j - 1 ]) { arr [ j ] = arr [ j - 1 ]; j -- ; } arr [ j ] = tem ; } return arr ; } Selection Sort \u00b6 function selectionSort ( arr ) { for ( let i = 0 ; i < arr . length - 1 ; i ++ ) { let min = arr [ i ]; for ( let j = i + 1 ; j < arr . length ; j ++ ) { if ( min > arr [ j ]) { let tem = min ; min = arr [ j ]; arr [ j ] = tem ; } } arr [ i ] = min ; } return arr ; } heap sort O(nlogn) \u00b6 https://zh.wikipedia.org/wiki/%E5%A0%86%E6%8E%92%E5%BA%8F function heapSort ( arr ) { // set the parent target and children target let maxHelpify = function ( arr , start , end ) { let dad = start ; let son = 2 * dad + 1 ; while ( son <= end ) { if ( son + 1 <= end && arr [ son ] < arr [ son + 1 ]) { son ++ ; } if ( arr [ dad ] > arr [ son ]) { return ; } else { let tem = arr [ son ]; arr [ son ] = arr [ dad ]; arr [ dad ] = tem ; dad = son ; son = dad * 2 + 1 ; } } } let len = arr . length ; for ( let i = Math . floor ( len / 2 - 1 ); i >= 0 ; i -- ){ maxHelpify ( arr , i , len - 1 ); } for ( let i = len - 1 ; i > 0 ; i -- ) { let tem = arr [ i ]; arr [ i ] = arr [ 0 ]; arr [ 0 ] = tem ; maxHelpify ( arr , 0 , i - 1 ); } return arr ; } shell sort O(Nlog2N) \u5e0c\u5c14\u6392\u5e8f \u00b6 function shellSort ( arr ) { let l = arr . length ; let gap = l >> 1 ; while ( gap > 0 ) { for ( let i = gap ; i < l ; i ++ ) { let tem = arr [ i ]; let j = i - gap ; for (; j >= 0 && tem < arr [ j ]; j -= gap ){ arr [ j + gap ] = arr [ j ]; } arr [ j + gap ] = tem ; } gap = gap >> 1 ; } return arr ; } Quick Sort O(NLogN) \u00b6 function quickSort ( arr ) { if ( arr . length <= 1 ) { return arr ; } let leftArr = []; let rightArr = []; let q = arr [ 0 ]; for ( let i = 1 , l = arr . length ; i < l ; i ++ ) { if ( arr [ i ] > q ) { rightArr . push ( arr [ i ]); } else { leftArr . push ( arr [ i ]); } } return []. concat ( quickSort ( leftArr ),[ q ], quickSort ( rightArr )); } function quickSort ( arr ) { //\u5982\u679c\u6570\u7ec4<=1,\u5219\u76f4\u63a5\u8fd4\u56de if ( arr . length <= 1 ) { return arr ; } var pivotIndex = Math . floor ( arr . length / 2 ); //\u627e\u57fa\u51c6\uff0c\u5e76\u628a\u57fa\u51c6\u4ece\u539f\u6570\u7ec4\u5220\u9664(\u6216\u8005\u76f4\u63a5\u9009\u62e9\u7b2c\u4e00\u4e2a\u9879) var pivot = arr . splice ( pivotIndex , 1 )[ 0 ]; //\u5b9a\u4e49\u5de6\u53f3\u6570\u7ec4 var left = []; var right = []; //\u6bd4\u57fa\u51c6\u5c0f\u7684\u653e\u5728left\uff0c\u6bd4\u57fa\u51c6\u5927\u7684\u653e\u5728right for ( var i = 0 ; i < arr . length ; i ++ ) { if ( arr [ i ] <= pivot ) { left . push ( arr [ i ]); } else { right . push ( arr [ i ]); } } //\u9012\u5f52 return quickSort ( left ). concat ([ pivot ], quickSort ( right )); }","title":"\u6392\u5e8f\u7b97\u6cd5.md"},{"location":"algre/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#_1","text":"","title":"\u6392\u5e8f\u7b97\u6cd5"},{"location":"algre/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#bubblesort-onn","text":"function bubbleSort ( arr ) { for ( let i = 0 , l = arr . length ; i < l - 1 ; i ++ ) { for ( let j = i + 1 ; j < l ; j ++ ) { if ( arr [ i ] > arr [ j ]) { let tem = arr [ i ]; arr [ i ] = arr [ j ]; arr [ j ] = tem ; } } } return arr ; }","title":"BubbleSort O(N*N)"},{"location":"algre/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#insert-sort-onn","text":"function insertSort ( arr ) { for ( let i = 1 , l = arr . length ; i < l ; i ++ ) { let j = i ; let tem = arr [ i ]; while ( j > 0 && tem < arr [ j - 1 ]) { arr [ j ] = arr [ j - 1 ]; j -- ; } arr [ j ] = tem ; } return arr ; }","title":"insert sort O(n*n)"},{"location":"algre/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#selection-sort","text":"function selectionSort ( arr ) { for ( let i = 0 ; i < arr . length - 1 ; i ++ ) { let min = arr [ i ]; for ( let j = i + 1 ; j < arr . length ; j ++ ) { if ( min > arr [ j ]) { let tem = min ; min = arr [ j ]; arr [ j ] = tem ; } } arr [ i ] = min ; } return arr ; }","title":"Selection Sort"},{"location":"algre/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#heap-sort-onlogn","text":"https://zh.wikipedia.org/wiki/%E5%A0%86%E6%8E%92%E5%BA%8F function heapSort ( arr ) { // set the parent target and children target let maxHelpify = function ( arr , start , end ) { let dad = start ; let son = 2 * dad + 1 ; while ( son <= end ) { if ( son + 1 <= end && arr [ son ] < arr [ son + 1 ]) { son ++ ; } if ( arr [ dad ] > arr [ son ]) { return ; } else { let tem = arr [ son ]; arr [ son ] = arr [ dad ]; arr [ dad ] = tem ; dad = son ; son = dad * 2 + 1 ; } } } let len = arr . length ; for ( let i = Math . floor ( len / 2 - 1 ); i >= 0 ; i -- ){ maxHelpify ( arr , i , len - 1 ); } for ( let i = len - 1 ; i > 0 ; i -- ) { let tem = arr [ i ]; arr [ i ] = arr [ 0 ]; arr [ 0 ] = tem ; maxHelpify ( arr , 0 , i - 1 ); } return arr ; }","title":"heap sort  O(nlogn)"},{"location":"algre/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#shell-sort-onlog2n","text":"function shellSort ( arr ) { let l = arr . length ; let gap = l >> 1 ; while ( gap > 0 ) { for ( let i = gap ; i < l ; i ++ ) { let tem = arr [ i ]; let j = i - gap ; for (; j >= 0 && tem < arr [ j ]; j -= gap ){ arr [ j + gap ] = arr [ j ]; } arr [ j + gap ] = tem ; } gap = gap >> 1 ; } return arr ; }","title":"shell sort O(Nlog2N) \u5e0c\u5c14\u6392\u5e8f"},{"location":"algre/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#quick-sort-onlogn","text":"function quickSort ( arr ) { if ( arr . length <= 1 ) { return arr ; } let leftArr = []; let rightArr = []; let q = arr [ 0 ]; for ( let i = 1 , l = arr . length ; i < l ; i ++ ) { if ( arr [ i ] > q ) { rightArr . push ( arr [ i ]); } else { leftArr . push ( arr [ i ]); } } return []. concat ( quickSort ( leftArr ),[ q ], quickSort ( rightArr )); } function quickSort ( arr ) { //\u5982\u679c\u6570\u7ec4<=1,\u5219\u76f4\u63a5\u8fd4\u56de if ( arr . length <= 1 ) { return arr ; } var pivotIndex = Math . floor ( arr . length / 2 ); //\u627e\u57fa\u51c6\uff0c\u5e76\u628a\u57fa\u51c6\u4ece\u539f\u6570\u7ec4\u5220\u9664(\u6216\u8005\u76f4\u63a5\u9009\u62e9\u7b2c\u4e00\u4e2a\u9879) var pivot = arr . splice ( pivotIndex , 1 )[ 0 ]; //\u5b9a\u4e49\u5de6\u53f3\u6570\u7ec4 var left = []; var right = []; //\u6bd4\u57fa\u51c6\u5c0f\u7684\u653e\u5728left\uff0c\u6bd4\u57fa\u51c6\u5927\u7684\u653e\u5728right for ( var i = 0 ; i < arr . length ; i ++ ) { if ( arr [ i ] <= pivot ) { left . push ( arr [ i ]); } else { right . push ( arr [ i ]); } } //\u9012\u5f52 return quickSort ( left ). concat ([ pivot ], quickSort ( right )); }","title":"Quick Sort  O(NLogN)"},{"location":"algre/%E6%95%B0%E7%BB%84%E7%AE%97%E6%B3%95/","text":"\u6570\u7ec4 \u00b6 \u6211\u4eec\u5047\u8bbe\u7eaf\u6570\u5b57\u6570\u7ec4\uff1a\u4f20\u5165\u7684\u662f\u4e00\u7ef4\u6570\u7ec4\uff0c\u6570\u7ec4\u7684\u6bcf\u4e00\u9879\u662f\u6570\u503c\uff0c\u4e0d\u9700\u8981\u8fdb\u884c\u6570\u636e\u7c7b\u578b\u9a8c\u8bc1\u7b49\u64cd\u4f5c\u3002 \u5982\u679c\u6570\u7ec4\u5df2\u7ecf\u6392\u5e8f\uff0c\u90a3\u4e48\u9996\u5148\u60f3\u5230\u4f7f\u7528\u4e8c\u5206\u6cd5\u89e3\u51b3\uff1b\u6216\u8005\u4f7f\u7528\u53cc\u6307\u9488\u89e3\u51b3\u3002 \u5982\u679c\u6570\u7ec4\u6ca1\u6709\u6392\u5e8f\uff0c\u90a3\u4e48\u60f3\u5230\u4f7f\u7528Hash\u8bb0\u5f55\u51fa\u73b0\u7684\u6b21\u6570\uff1b\u6216\u8005\u5148\u6392\u5e8f\u3002 1\u3001\u6570\u7ec4\u53bb\u91cd \u00b6 \u53ef\u4ee5\u4f7f\u7528Hash\u53bb\u91cd\uff0c\u8fd4\u56de\u53bb\u91cd\u540e\u7684\u6570\u7ec4 function unique ( arr ) { let hashTable = {}; let res = []; for ( let i = 0 ; i < arr . length ; i ++ ) { let item = arr [ i ] if ( ! hashTable [ item ) { data . push ( item ); hashTable [ item ] = true ; } } return res ; } \u53ef\u4ee5\u4f7f\u7528 ES6 \u7684 Set \u53bb\u91cd\uff0c\u7136\u540e\u8f6c\u6362\u6210\u6570\u7ec4\u8fd4\u56de function unique ( arr ) { return Array . from ( new Set ( arr )); // \u7b80\u5316\u5199\u6cd5 return [...new Set(arr)]; } 2\u3001\u6570\u7ec4\u6700\u503c \u00b6 \u53ef\u4ee5\u4f7f\u7528\u5faa\u73af\u627e\u6700\u5927\u503c function findMax ( arr ) { if ( arr . length === 1 ) { return arr [ 0 ]; } let max = arr [ 0 ]; for ( let i = 1 ; i < arr . length ; i ++ ) { if ( max < arr [ i ]) { max = arr [ i ]; } } return max ; } \u53ef\u4ee5\u4f7f\u7528Math\u5bf9\u8c61API\u6c42\u6700\u5927\u503c function findMax ( arr ) { return Math . max (... arr ); } 3\u3001\u5176\u4ed6\u51e0\u79cd\u6570\u7ec4\u53bb\u91cd\uff08\u4e86\u89e3\uff09 \u00b6 // \u65b9\u6cd5\u4e00\uff1a // \u53cc\u5c42\u5faa\u73af\uff0c \u5916\u5c42\u5faa\u73af\u5143\u7d20\uff0c \u5185\u5c42\u5faa\u73af\u65f6\u6bd4\u8f83\u503c // \u5982\u679c\u6709\u76f8\u540c\u7684\u503c\u5219\u8df3\u8fc7\uff0c \u4e0d\u76f8\u540c\u5219push\u8fdb\u6570\u7ec4 Array . prototype . distinct = function () { var arr = this , result = [], i , j ; var len = arr . length ; for ( i = 0 ; i < len ; i ++ ) { for ( j = i + 1 ; j < len ; j ++ ) { if ( arr [ i ] === arr [ j ]) { j = ++ i ; } } result . push ( arr [ i ]); } return result ; } var arra = [ 1 , 2 , 3 , 4 , 4 , 1 , 1 , 2 , 1 , 1 , 1 ]; arra . distinct (); //\u8fd4\u56de[3,4,2,1] // \u65b9\u6cd5\u4e8c\uff1a \u5229\u7528splice\u76f4\u63a5\u5728\u539f\u6570\u7ec4\u8fdb\u884c\u64cd\u4f5c // \u53cc\u5c42\u5faa\u73af\uff0c \u5916\u5c42\u5faa\u73af\u5143\u7d20\uff0c \u5185\u5c42\u5faa\u73af\u65f6\u6bd4\u8f83\u503c\uff0c\u503c\u76f8\u540c\u65f6\uff0c \u5219\u5220\u53bb\u8fd9\u4e2a\u503c // \u6ce8\u610f\u70b9: \u5220\u9664\u5143\u7d20\u4e4b\u540e\uff0c \u9700\u8981\u5c06\u6570\u7ec4\u7684\u957f\u5ea6\u4e5f\u51cf1. Array . prototype . distinct = function () { var arr = this i , j ; var len = arr . length ; for ( i = 0 ; i < len ; i ++ ) { for ( j = i + 1 ; j < len ; j ++ ) { if ( arr [ i ] == arr [ j ]) { arr . splice ( j , 1 ); len -- ; j -- ; } } } return arr ; }; var a = [ 1 , 2 , 3 , 4 , 5 , 6 , 5 , 3 , 2 , 4 , 56 , 4 , 1 , 2 , 1 , 1 , 1 , 1 , 1 , 1 , ]; var b = a . distinct (); console . log ( b . toString ()); //1,2,3,4,5,6,56 // \u4f18\u70b9\uff1a \u7b80\u5355\u6613\u61c2 // \u7f3a\u70b9\uff1a \u5360\u7528\u5185\u5b58\u9ad8\uff0c \u901f\u5ea6\u6162 // \u65b9\u6cd5\u4e09\uff1a \u5229\u7528\u5bf9\u8c61\u7684\u5c5e\u6027\u4e0d\u80fd\u76f8\u540c\u7684\u7279\u70b9\u8fdb\u884c\u53bb\u91cd Array . prototype . distinct = function () { var arr = this , result = [], i , j ; var len = arr . length ; for ( i = 0 ; i < arr . length ; i ++ ) { if ( ! obj [ arr [ i ]]) { //\u5982\u679c\u80fd\u67e5\u627e\u5230\uff0c\u8bc1\u660e\u6570\u7ec4\u5143\u7d20\u91cd\u590d\u4e86 obj [ arr [ i ]] = 1 ; result . push ( arr [ i ]); } } return result ; }; var a = [ 1 , 2 , 3 , 4 , 5 , 6 , 5 , 3 , 2 , 4 , 56 , 4 , 1 , 2 , 1 , 1 , 1 , 1 , 1 , 1 , ]; var b = a . distinct (); console . log ( b . toString ()); //1,2,3,4,5,6,56 // \u65b9\u6cd5\u56db\uff1a \u6570\u7ec4\u9012\u5f52\u53bb\u91cd // \u8fd0\u7528\u9012\u5f52\u7684\u601d\u60f3\uff0c \u5148\u6392\u5e8f\uff0c \u7136\u540e\u4ece\u6700\u540e\u5f00\u59cb\u6bd4\u8f83\uff0c \u9047\u5230\u76f8\u540c\uff0c \u5219\u5220\u9664 Array . prototype . distinct = function () { var arr = this ; var len = arr . length ; arr . sort ( function ( a , b ) { //\u5bf9\u6570\u7ec4\u8fdb\u884c\u6392\u5e8f\u624d\u80fd\u65b9\u4fbf\u6bd4\u8f83 return a - b ; }); function loop ( index ) { if ( index >= 1 ) { if ( arr [ index ] === arr [ index - 1 ]) { arr . splice ( index , 1 ); } loop ( index - 1 ); //\u9012\u5f52loop\u51fd\u6570\u8fdb\u884c\u53bb\u91cd } } loop ( len - 1 ); return arr ; }; var a = [ 1 , 2 , 3 , 4 , 5 , 6 , 5 , 3 , 2 , 4 , 56 , 4 , 1 , 2 , 1 , 1 , 1 , 1 , 1 , 1 , 56 , 45 , 56 ]; var b = a . distinct (); console . log ( b . toString ()); //1,2,3,4,5,6,45,56 // \u65b9\u6cd5\u4e94\uff1a \u5229\u7528indexOf\u4ee5\u53caforEach Array . prototype . distinct = function () { var arr = this , result = [], len = arr . length ; arr . forEach ( function ( v , i , arr ) { //\u8fd9\u91cc\u5229\u7528map\uff0cfilter\u65b9\u6cd5\u4e5f\u53ef\u4ee5\u5b9e\u73b0 var bool = arr . indexOf ( v , i + 1 ); //\u4ece\u4f20\u5165\u53c2\u6570\u7684\u4e0b\u4e00\u4e2a\u7d22\u5f15\u503c\u5f00\u59cb\u5bfb\u627e\u662f\u5426\u5b58\u5728\u91cd\u590d if ( bool === - 1 ) { result . push ( v ); } }) return result ; }; var a = [ 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 2 , 2 , 2 , 2 , 2 , 2 , 3 , 3 , 3 , 3 , 3 , 3 , 3 , 2 , 3 , 3 , 2 , 2 , 1 , 23 , 1 , 23 , 2 , 3 , 2 , 3 , 2 , 3 ]; var b = a . distinct (); // console.log(b.toString()); //1,23,2,3 // \u65b9\u6cd5\u516d\uff1a \u5229\u7528ES6\u7684set // Set\u6570\u636e\u7ed3\u6784\uff0c \u5b83\u7c7b\u4f3c\u4e8e\u6570\u7ec4\uff0c \u5176\u6210\u5458\u7684\u503c\u90fd\u662f\u552f\u4e00\u7684\u3002 // \u5229\u7528Array.from\u5c06Set\u7ed3\u6784\u8f6c\u6362\u6210\u6570\u7ec4 function dedupe ( array ) { return Array . from ( new Set ( array )); } // dedupe([1, 1, 2, 3]) //[1,2,3] // \u62d3\u5c55\u8fd0\u7b97\u7b26(...) \u5185\u90e8\u4f7f\u7528for...of\u5faa\u73af let arr = [ 1 , 2 , 3 , 3 ]; let resultarr = [... new Set ( arr )]; console . log ( resultarr ); //[1,2,3] // \u4e0b\u9762\u7ed9\u5927\u5bb6\u8865\u5145\u4ecb\u7ecd\u5408\u5e76\u6570\u7ec4\u5e76\u53bb\u91cd\u7684\u65b9\u6cd5 // \u4e00\u3001 concat() \u65b9\u6cd5 // \u601d\u8def\uff1a concat() \u65b9\u6cd5\u5c06\u4f20\u5165\u7684\u6570\u7ec4\u6216\u975e\u6570\u7ec4\u503c\u4e0e\u539f\u6570\u7ec4\u5408\u5e76, \u7ec4\u6210\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\u5e76\u8fd4\u56de\u3002 \u8be5\u65b9\u6cd5\u4f1a\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\u3002 function concatArr ( arr1 , arr2 ) { var arr = arr1 . concat ( arr2 ); arr = unique1 ( arr ); //\u518d\u5f15\u7528\u4e0a\u9762\u7684\u4efb\u610f\u4e00\u4e2a\u53bb\u91cd\u65b9\u6cd5 return arr ; } // \u4e8c\u3001 Array.prototype.push.apply() // \u601d\u8def\uff1a \u8be5\u65b9\u6cd5\u4f18\u70b9\u662f\u4e0d\u4f1a\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\u3002 var a = [ 1 , 2 , 3 ]; var b = [ 4 , 5 , 6 ]; Array . prototype . push . apply ( a , b ); //a=[1,2,3,4,5,6] //\u7b49\u6548\u4e8e:a.push.apply(a, b); //\u4e5f\u7b49\u6548\u4e8e[].push.apply(a, b); function concatArray ( arr1 , arr2 ) { Array . prototype . push . apply ( arr1 , arr2 ); arr1 = unique1 ( arr1 ); return arr1 ; } 4\u3001\u4f7f\u7528 set \u8fdb\u884c\u6570\u7ec4\u53bb\u91cd \u00b6 let array = [ 1 , 2 , 3 , 4 , 5 , 5 , 5 ]; array = [... new Set ( array )]; 5\u3001\u83b7\u53d6\u6570\u7ec4\u4e2d\u91cd\u590d\u5143\u7d20 \u00b6 function getRepeatItem ( arr ) { let result = []; for ( let i = 0 ; i < arr . length ; i ++ ) { if ( arr . indexOf ( arr [ i ]) !== arr . lastIndexOf ( arr [ i ]) && result . indexOf ( arr [ i ]) === - 1 ) { result . push ( arr [ i ]); } } return result ; } // getRepeatItem([1,2,3,4,3,2]); 6\u3001\u83b7\u53d6\u6570\u7ec4\u4e2d\u7684\u4ea4\u96c6 \u00b6 // method1 0.023ms function getIntersection ( arr1 , arr2 ) { let arr3 = arr1 . join ( arr2 ); return getRepeatItem ( arr3 ); } // \u5982\u679c\u6bcf\u4e00\u4e2a\u6570\u7ec4\u5177\u6709\u91cd\u590d\u503c\uff0c\u9996\u5148\u6570\u7ec4\u53bb\u91cd\uff1b // \u76f4\u63a5\u5c06\u4e24\u4e2a\u6570\u7ec4\u5408\u5e76\u6210\u4e00\u4e2a\u6570\u7ec4\uff0c\u7136\u540e\u6c42\u5408\u5e76\u540e\u6570\u7ec4\u4e2d\u7684\u91cd\u590d\u5143\u7d20\uff0c\u5c31\u662f\u6570\u7ec4\u7684\u4ea4\u96c6\u3002 // \u6216\u8005\u904d\u5386\u5176\u4e2d\u4e00\u4e2a\u6570\u7ec4\uff0c\u7136\u540e\u5728\u7b2c\u4e8c\u4e2a\u6570\u7ec4\u4e2dindexOf\uff0c\u5982\u679c\u4e0d\u662f-1\u90a3\u4e48\u5c31\u8fd4\u56de\u65b0\u7684\u6570\u7ec4\u3002 getIntersection ([ 1 , 2 , 3 , 4 ], [ 1 , 2 , 5 , 6 ]); // method2 0.0622ms function getIntersection ( arr1 , arr2 ) { let result = []; for ( let i = 0 ; i < arr1 . length ; i ++ ) { if ( arr2 . indexOf ( arr1 [ i ]) && result . indexOf ( arr1 [ i ] === - 1 )) { result . push ( arr1 [ i ]); } } return result ; } \u5176\u4ed6\u96c6\u5408\u7684\u64cd\u4f5c\u53ef\u4ee5\u6269\u5c55 \u6c42\u6570\u7ec4\u7684\u5e76\u96c6\u3001\u5dee\u96c6\u3001\u8865\u96c6\u7b49\u7b49","title":"\u6570\u7ec4\u7b97\u6cd5.md"},{"location":"algre/%E6%95%B0%E7%BB%84%E7%AE%97%E6%B3%95/#_1","text":"\u6211\u4eec\u5047\u8bbe\u7eaf\u6570\u5b57\u6570\u7ec4\uff1a\u4f20\u5165\u7684\u662f\u4e00\u7ef4\u6570\u7ec4\uff0c\u6570\u7ec4\u7684\u6bcf\u4e00\u9879\u662f\u6570\u503c\uff0c\u4e0d\u9700\u8981\u8fdb\u884c\u6570\u636e\u7c7b\u578b\u9a8c\u8bc1\u7b49\u64cd\u4f5c\u3002 \u5982\u679c\u6570\u7ec4\u5df2\u7ecf\u6392\u5e8f\uff0c\u90a3\u4e48\u9996\u5148\u60f3\u5230\u4f7f\u7528\u4e8c\u5206\u6cd5\u89e3\u51b3\uff1b\u6216\u8005\u4f7f\u7528\u53cc\u6307\u9488\u89e3\u51b3\u3002 \u5982\u679c\u6570\u7ec4\u6ca1\u6709\u6392\u5e8f\uff0c\u90a3\u4e48\u60f3\u5230\u4f7f\u7528Hash\u8bb0\u5f55\u51fa\u73b0\u7684\u6b21\u6570\uff1b\u6216\u8005\u5148\u6392\u5e8f\u3002","title":"\u6570\u7ec4"},{"location":"algre/%E6%95%B0%E7%BB%84%E7%AE%97%E6%B3%95/#1","text":"\u53ef\u4ee5\u4f7f\u7528Hash\u53bb\u91cd\uff0c\u8fd4\u56de\u53bb\u91cd\u540e\u7684\u6570\u7ec4 function unique ( arr ) { let hashTable = {}; let res = []; for ( let i = 0 ; i < arr . length ; i ++ ) { let item = arr [ i ] if ( ! hashTable [ item ) { data . push ( item ); hashTable [ item ] = true ; } } return res ; } \u53ef\u4ee5\u4f7f\u7528 ES6 \u7684 Set \u53bb\u91cd\uff0c\u7136\u540e\u8f6c\u6362\u6210\u6570\u7ec4\u8fd4\u56de function unique ( arr ) { return Array . from ( new Set ( arr )); // \u7b80\u5316\u5199\u6cd5 return [...new Set(arr)]; }","title":"1\u3001\u6570\u7ec4\u53bb\u91cd"},{"location":"algre/%E6%95%B0%E7%BB%84%E7%AE%97%E6%B3%95/#2","text":"\u53ef\u4ee5\u4f7f\u7528\u5faa\u73af\u627e\u6700\u5927\u503c function findMax ( arr ) { if ( arr . length === 1 ) { return arr [ 0 ]; } let max = arr [ 0 ]; for ( let i = 1 ; i < arr . length ; i ++ ) { if ( max < arr [ i ]) { max = arr [ i ]; } } return max ; } \u53ef\u4ee5\u4f7f\u7528Math\u5bf9\u8c61API\u6c42\u6700\u5927\u503c function findMax ( arr ) { return Math . max (... arr ); }","title":"2\u3001\u6570\u7ec4\u6700\u503c"},{"location":"algre/%E6%95%B0%E7%BB%84%E7%AE%97%E6%B3%95/#3","text":"// \u65b9\u6cd5\u4e00\uff1a // \u53cc\u5c42\u5faa\u73af\uff0c \u5916\u5c42\u5faa\u73af\u5143\u7d20\uff0c \u5185\u5c42\u5faa\u73af\u65f6\u6bd4\u8f83\u503c // \u5982\u679c\u6709\u76f8\u540c\u7684\u503c\u5219\u8df3\u8fc7\uff0c \u4e0d\u76f8\u540c\u5219push\u8fdb\u6570\u7ec4 Array . prototype . distinct = function () { var arr = this , result = [], i , j ; var len = arr . length ; for ( i = 0 ; i < len ; i ++ ) { for ( j = i + 1 ; j < len ; j ++ ) { if ( arr [ i ] === arr [ j ]) { j = ++ i ; } } result . push ( arr [ i ]); } return result ; } var arra = [ 1 , 2 , 3 , 4 , 4 , 1 , 1 , 2 , 1 , 1 , 1 ]; arra . distinct (); //\u8fd4\u56de[3,4,2,1] // \u65b9\u6cd5\u4e8c\uff1a \u5229\u7528splice\u76f4\u63a5\u5728\u539f\u6570\u7ec4\u8fdb\u884c\u64cd\u4f5c // \u53cc\u5c42\u5faa\u73af\uff0c \u5916\u5c42\u5faa\u73af\u5143\u7d20\uff0c \u5185\u5c42\u5faa\u73af\u65f6\u6bd4\u8f83\u503c\uff0c\u503c\u76f8\u540c\u65f6\uff0c \u5219\u5220\u53bb\u8fd9\u4e2a\u503c // \u6ce8\u610f\u70b9: \u5220\u9664\u5143\u7d20\u4e4b\u540e\uff0c \u9700\u8981\u5c06\u6570\u7ec4\u7684\u957f\u5ea6\u4e5f\u51cf1. Array . prototype . distinct = function () { var arr = this i , j ; var len = arr . length ; for ( i = 0 ; i < len ; i ++ ) { for ( j = i + 1 ; j < len ; j ++ ) { if ( arr [ i ] == arr [ j ]) { arr . splice ( j , 1 ); len -- ; j -- ; } } } return arr ; }; var a = [ 1 , 2 , 3 , 4 , 5 , 6 , 5 , 3 , 2 , 4 , 56 , 4 , 1 , 2 , 1 , 1 , 1 , 1 , 1 , 1 , ]; var b = a . distinct (); console . log ( b . toString ()); //1,2,3,4,5,6,56 // \u4f18\u70b9\uff1a \u7b80\u5355\u6613\u61c2 // \u7f3a\u70b9\uff1a \u5360\u7528\u5185\u5b58\u9ad8\uff0c \u901f\u5ea6\u6162 // \u65b9\u6cd5\u4e09\uff1a \u5229\u7528\u5bf9\u8c61\u7684\u5c5e\u6027\u4e0d\u80fd\u76f8\u540c\u7684\u7279\u70b9\u8fdb\u884c\u53bb\u91cd Array . prototype . distinct = function () { var arr = this , result = [], i , j ; var len = arr . length ; for ( i = 0 ; i < arr . length ; i ++ ) { if ( ! obj [ arr [ i ]]) { //\u5982\u679c\u80fd\u67e5\u627e\u5230\uff0c\u8bc1\u660e\u6570\u7ec4\u5143\u7d20\u91cd\u590d\u4e86 obj [ arr [ i ]] = 1 ; result . push ( arr [ i ]); } } return result ; }; var a = [ 1 , 2 , 3 , 4 , 5 , 6 , 5 , 3 , 2 , 4 , 56 , 4 , 1 , 2 , 1 , 1 , 1 , 1 , 1 , 1 , ]; var b = a . distinct (); console . log ( b . toString ()); //1,2,3,4,5,6,56 // \u65b9\u6cd5\u56db\uff1a \u6570\u7ec4\u9012\u5f52\u53bb\u91cd // \u8fd0\u7528\u9012\u5f52\u7684\u601d\u60f3\uff0c \u5148\u6392\u5e8f\uff0c \u7136\u540e\u4ece\u6700\u540e\u5f00\u59cb\u6bd4\u8f83\uff0c \u9047\u5230\u76f8\u540c\uff0c \u5219\u5220\u9664 Array . prototype . distinct = function () { var arr = this ; var len = arr . length ; arr . sort ( function ( a , b ) { //\u5bf9\u6570\u7ec4\u8fdb\u884c\u6392\u5e8f\u624d\u80fd\u65b9\u4fbf\u6bd4\u8f83 return a - b ; }); function loop ( index ) { if ( index >= 1 ) { if ( arr [ index ] === arr [ index - 1 ]) { arr . splice ( index , 1 ); } loop ( index - 1 ); //\u9012\u5f52loop\u51fd\u6570\u8fdb\u884c\u53bb\u91cd } } loop ( len - 1 ); return arr ; }; var a = [ 1 , 2 , 3 , 4 , 5 , 6 , 5 , 3 , 2 , 4 , 56 , 4 , 1 , 2 , 1 , 1 , 1 , 1 , 1 , 1 , 56 , 45 , 56 ]; var b = a . distinct (); console . log ( b . toString ()); //1,2,3,4,5,6,45,56 // \u65b9\u6cd5\u4e94\uff1a \u5229\u7528indexOf\u4ee5\u53caforEach Array . prototype . distinct = function () { var arr = this , result = [], len = arr . length ; arr . forEach ( function ( v , i , arr ) { //\u8fd9\u91cc\u5229\u7528map\uff0cfilter\u65b9\u6cd5\u4e5f\u53ef\u4ee5\u5b9e\u73b0 var bool = arr . indexOf ( v , i + 1 ); //\u4ece\u4f20\u5165\u53c2\u6570\u7684\u4e0b\u4e00\u4e2a\u7d22\u5f15\u503c\u5f00\u59cb\u5bfb\u627e\u662f\u5426\u5b58\u5728\u91cd\u590d if ( bool === - 1 ) { result . push ( v ); } }) return result ; }; var a = [ 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 2 , 2 , 2 , 2 , 2 , 2 , 3 , 3 , 3 , 3 , 3 , 3 , 3 , 2 , 3 , 3 , 2 , 2 , 1 , 23 , 1 , 23 , 2 , 3 , 2 , 3 , 2 , 3 ]; var b = a . distinct (); // console.log(b.toString()); //1,23,2,3 // \u65b9\u6cd5\u516d\uff1a \u5229\u7528ES6\u7684set // Set\u6570\u636e\u7ed3\u6784\uff0c \u5b83\u7c7b\u4f3c\u4e8e\u6570\u7ec4\uff0c \u5176\u6210\u5458\u7684\u503c\u90fd\u662f\u552f\u4e00\u7684\u3002 // \u5229\u7528Array.from\u5c06Set\u7ed3\u6784\u8f6c\u6362\u6210\u6570\u7ec4 function dedupe ( array ) { return Array . from ( new Set ( array )); } // dedupe([1, 1, 2, 3]) //[1,2,3] // \u62d3\u5c55\u8fd0\u7b97\u7b26(...) \u5185\u90e8\u4f7f\u7528for...of\u5faa\u73af let arr = [ 1 , 2 , 3 , 3 ]; let resultarr = [... new Set ( arr )]; console . log ( resultarr ); //[1,2,3] // \u4e0b\u9762\u7ed9\u5927\u5bb6\u8865\u5145\u4ecb\u7ecd\u5408\u5e76\u6570\u7ec4\u5e76\u53bb\u91cd\u7684\u65b9\u6cd5 // \u4e00\u3001 concat() \u65b9\u6cd5 // \u601d\u8def\uff1a concat() \u65b9\u6cd5\u5c06\u4f20\u5165\u7684\u6570\u7ec4\u6216\u975e\u6570\u7ec4\u503c\u4e0e\u539f\u6570\u7ec4\u5408\u5e76, \u7ec4\u6210\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\u5e76\u8fd4\u56de\u3002 \u8be5\u65b9\u6cd5\u4f1a\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\u3002 function concatArr ( arr1 , arr2 ) { var arr = arr1 . concat ( arr2 ); arr = unique1 ( arr ); //\u518d\u5f15\u7528\u4e0a\u9762\u7684\u4efb\u610f\u4e00\u4e2a\u53bb\u91cd\u65b9\u6cd5 return arr ; } // \u4e8c\u3001 Array.prototype.push.apply() // \u601d\u8def\uff1a \u8be5\u65b9\u6cd5\u4f18\u70b9\u662f\u4e0d\u4f1a\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\u3002 var a = [ 1 , 2 , 3 ]; var b = [ 4 , 5 , 6 ]; Array . prototype . push . apply ( a , b ); //a=[1,2,3,4,5,6] //\u7b49\u6548\u4e8e:a.push.apply(a, b); //\u4e5f\u7b49\u6548\u4e8e[].push.apply(a, b); function concatArray ( arr1 , arr2 ) { Array . prototype . push . apply ( arr1 , arr2 ); arr1 = unique1 ( arr1 ); return arr1 ; }","title":"3\u3001\u5176\u4ed6\u51e0\u79cd\u6570\u7ec4\u53bb\u91cd\uff08\u4e86\u89e3\uff09"},{"location":"algre/%E6%95%B0%E7%BB%84%E7%AE%97%E6%B3%95/#4-set","text":"let array = [ 1 , 2 , 3 , 4 , 5 , 5 , 5 ]; array = [... new Set ( array )];","title":"4\u3001\u4f7f\u7528 set \u8fdb\u884c\u6570\u7ec4\u53bb\u91cd"},{"location":"algre/%E6%95%B0%E7%BB%84%E7%AE%97%E6%B3%95/#5","text":"function getRepeatItem ( arr ) { let result = []; for ( let i = 0 ; i < arr . length ; i ++ ) { if ( arr . indexOf ( arr [ i ]) !== arr . lastIndexOf ( arr [ i ]) && result . indexOf ( arr [ i ]) === - 1 ) { result . push ( arr [ i ]); } } return result ; } // getRepeatItem([1,2,3,4,3,2]);","title":"5\u3001\u83b7\u53d6\u6570\u7ec4\u4e2d\u91cd\u590d\u5143\u7d20"},{"location":"algre/%E6%95%B0%E7%BB%84%E7%AE%97%E6%B3%95/#6","text":"// method1 0.023ms function getIntersection ( arr1 , arr2 ) { let arr3 = arr1 . join ( arr2 ); return getRepeatItem ( arr3 ); } // \u5982\u679c\u6bcf\u4e00\u4e2a\u6570\u7ec4\u5177\u6709\u91cd\u590d\u503c\uff0c\u9996\u5148\u6570\u7ec4\u53bb\u91cd\uff1b // \u76f4\u63a5\u5c06\u4e24\u4e2a\u6570\u7ec4\u5408\u5e76\u6210\u4e00\u4e2a\u6570\u7ec4\uff0c\u7136\u540e\u6c42\u5408\u5e76\u540e\u6570\u7ec4\u4e2d\u7684\u91cd\u590d\u5143\u7d20\uff0c\u5c31\u662f\u6570\u7ec4\u7684\u4ea4\u96c6\u3002 // \u6216\u8005\u904d\u5386\u5176\u4e2d\u4e00\u4e2a\u6570\u7ec4\uff0c\u7136\u540e\u5728\u7b2c\u4e8c\u4e2a\u6570\u7ec4\u4e2dindexOf\uff0c\u5982\u679c\u4e0d\u662f-1\u90a3\u4e48\u5c31\u8fd4\u56de\u65b0\u7684\u6570\u7ec4\u3002 getIntersection ([ 1 , 2 , 3 , 4 ], [ 1 , 2 , 5 , 6 ]); // method2 0.0622ms function getIntersection ( arr1 , arr2 ) { let result = []; for ( let i = 0 ; i < arr1 . length ; i ++ ) { if ( arr2 . indexOf ( arr1 [ i ]) && result . indexOf ( arr1 [ i ] === - 1 )) { result . push ( arr1 [ i ]); } } return result ; } \u5176\u4ed6\u96c6\u5408\u7684\u64cd\u4f5c\u53ef\u4ee5\u6269\u5c55 \u6c42\u6570\u7ec4\u7684\u5e76\u96c6\u3001\u5dee\u96c6\u3001\u8865\u96c6\u7b49\u7b49","title":"6\u3001\u83b7\u53d6\u6570\u7ec4\u4e2d\u7684\u4ea4\u96c6"},{"location":"algre/%E6%A0%88%E9%98%9F%E5%88%97%E7%AE%97%E6%B3%95/","text":"\u961f\u5217 \u00b6 FIFO: First in, First out(\u5148\u8fdb\u5148\u51fa) /** * Queue FIFO **/ class Queue { constructor () { this . dataSource = []; } enqueue ( el ) { this . dataSource . push ( el ); } dequeue ( el ) { this . dataSource . shift ( el ); } front () { return this . dataSource [ 0 ]; } back () { return this . dataSource [ this . dataSource . length - 1 ]; } clear () { this . dataSource = []; } } \u6808 \u00b6 /* stack LIFO */ // LIFO: Last in, First out(\u540e\u8fdb\u5148\u51fa) class Stack { constructor () { this . dataSource = []; this . top = 0 ; } push ( el ) { this . dataSource [ this . top ++ ] = el ; } pop () { return this . dataSource [ -- this . top ] } peek () { return this . dataSource [ this . top - 1 ] } clear () { this . dataSource = []; } }","title":"\u6808\u961f\u5217\u7b97\u6cd5.md"},{"location":"algre/%E6%A0%88%E9%98%9F%E5%88%97%E7%AE%97%E6%B3%95/#_1","text":"FIFO: First in, First out(\u5148\u8fdb\u5148\u51fa) /** * Queue FIFO **/ class Queue { constructor () { this . dataSource = []; } enqueue ( el ) { this . dataSource . push ( el ); } dequeue ( el ) { this . dataSource . shift ( el ); } front () { return this . dataSource [ 0 ]; } back () { return this . dataSource [ this . dataSource . length - 1 ]; } clear () { this . dataSource = []; } }","title":"\u961f\u5217"},{"location":"algre/%E6%A0%88%E9%98%9F%E5%88%97%E7%AE%97%E6%B3%95/#_2","text":"/* stack LIFO */ // LIFO: Last in, First out(\u540e\u8fdb\u5148\u51fa) class Stack { constructor () { this . dataSource = []; this . top = 0 ; } push ( el ) { this . dataSource [ this . top ++ ] = el ; } pop () { return this . dataSource [ -- this . top ] } peek () { return this . dataSource [ this . top - 1 ] } clear () { this . dataSource = []; } }","title":"\u6808"},{"location":"algre/%E6%A0%91%E7%AE%97%E6%B3%95/","text":"\u57fa\u672c\u7684\u4e8c\u53c9\u6811\u4e0d\u4ecb\u7ecd\u4e86\u3002 \u6df1\u5ea6\u4f18\u5148\u904d\u5386\u3001\u5e7f\u5ea6\u4f18\u5148\u904d\u5386\u5355\u72ec\u62ff\u51fa\u6765\u3002 DOM\u6811\u67e5\u8be2\u7c7b\u540d \u00b6 function queryClassName ( node , name ) { // \u8f85\u52a9\u51fd\u6570\uff1a\u904d\u5386\u8282\u70b9\u548c\u5168\u90e8\u5b50\u8282\u70b9 let walkTheDOM = function ( node , func ) { func ( node ); node = node . firstChild ; while ( node ) { walkTheDOM ( node , func ); node = node . nextSibling ; } } let starts = '(^|[ \\n\\r\\t\\f])' , ends = '([ \\n\\r\\t\\f]|$)' ; let regex = new RegExp ( starts + name + ends ); let results = []; // \u5904\u7406\u51fd\u6570\uff1a\u628a\u6ee1\u8db3\u7c7b\u540d\u6761\u4ef6\u7684\u8282\u70b9\u653e\u5230\u7ed3\u679c\u6570\u7ec4 let callback = function ( currentNode ) { if ( regex . test ( currentNode . className )) { results . push ( currentNode ); } } // \u9012\u5f52\u904d\u5386Node\u8282\u70b9 walkTheDOM ( node , callback ); return results ; } \u4e8c\u53c9\u641c\u7d22\u6811 \u00b6 Binary Search Tree(BST or Ordered Binary Tree) \u63d2\u5165\u548c\u5220\u9664\u76f8\u5bf9\u590d\u6742\uff0c\u67e5\u627e\u904d\u5386\u6bd4\u8f83\u7b80\u5355 class Node { constructor ( data , left , right ) { this . data = data ; this . left = left ; this . right = right ; } show () { return this . data ; } } class BinarySearchTree { constructor () { this . root = null ; } // \u63d2\u5165\u503c insert ( data ) { // \u521b\u5efa\u4e00\u4e2a\u8282\u70b9 let n = new Node ( data , null , null ); // \u5982\u679c\u6ca1\u6709\u6839\u8282\u70b9\uff0c\u90a3\u4e48\u76f4\u63a5\u4f5c\u4e3a\u6839\u8282\u70b9 if ( ! this . root ) { return this . root = n ; } let currentNode = this . root ; let parent = null ; // \u5faa\u73af\uff0c\u76f4\u5230\u627e\u5230\u4e00\u4e2a\u8282\u70b9\u662f\u7a7a\uff0c\u7136\u540e\u628a\u8fd9\u4e2a\u8282\u70b9\u653e\u5728\u8fd9\u91cc\uff08\u91cd\u590d\u8282\u70b9\uff1f\uff09 while ( 1 ) { parent = currentNode ; if ( data < currentNode . data ) { currentNode = currentNode . left ; if ( currentNode === null ) { parent . left = n ; break ; } } else { currentNode = currentNode . right ; if ( currentNode === null ) { parent . right = n ; break ; } } } } // \u5220\u9664\u503c\uff08\u5916\u90e8\u8c03\u7528\uff09 remove ( data ) { this . root = this . removeNode ( this . root , data ) } // \u5220\u9664\u8282\u70b9\uff08\u5185\u90e8\u8c03\u7528\uff09 removeNode ( node , data ) { // \u5982\u679c\u8282\u70b9\u662f\u7a7a\uff0c\u76f4\u63a5\u8fd4\u56de if ( node == null ) { return null ; } // \u5982\u679c\u5f53\u524d\u8282\u70b9\u7684\u503c\u662f\u5220\u9664\u7684\u503c if ( data == node . data ) { // no children node // \u5220\u9664\u8fd9\u4e2a\u8282\u70b9\uff0c\u5e76\u628a\u5de6\u5b50\u8282\u70b9\u6216\u8005\u53f3\u5b50\u8282\u70b9\u6539\u6210\u5f53\u524d\u8282\u70b9\uff08\u6307\u9488\u6307\u5411\u5de6\u5b50\u6811\u6216\u8005\u53f3\u5b50\u6811\uff09 if ( node . left == null && node . right == null ) { return null ; } if ( node . left == null ) { return node . right ; } if ( node . right == null ) { return node . left ; } // \u8f85\u52a9\u51fd\u6570 \u627e\u5230\u5b50\u6811\u4e2d\u6700\u5c0f\u503c\u7684\u8282\u70b9 let getSmallest = function ( node ) { if ( node . left === null && node . right == null ) { return node ; } if ( node . left != null ) { return node . left ; } if ( node . right !== null ) { return getSmallest ( node . right ); } }; // \u5982\u679c\u5f53\u524d\u7684\u8282\u70b9\u7684\u503c\u662f\u76ee\u6807\u503c\uff0c\u90a3\u4e48\u627e\u5230\u53f3\u5b50\u6811\u4e2d\u6700\u5c0f\u7684\u8282\u70b9 let temNode = getSmallest ( node . right ); // \u628a\u5f53\u524d\u7684\u8282\u70b9\u7684\u503c\u6539\u6210\u53f3\u5b50\u6811\u6700\u5c0f\u7684\u503c node . data = temNode . data ; // \u5220\u9664\u53f3\u5b50\u6811\u4e2d\u6700\u5c0f\u8282\u70b9 node . right = this . removeNode ( temNode . right , temNode . data ); return node ; } // \u5982\u679c\u5f53\u524d\u8282\u70b9\u7684\u503c\u5927\u4e8e\u6216\u8005\u5c0f\u4e8e\u76ee\u6807\u503c\uff0c\u9012\u5f52\u627e\u5b50\u8282\u70b9\u7684\u503c else if ( data < node . data ) { node . left = this . removeNode ( node . left , data ); return node ; } else { node . right = this . removeNode ( node . right , data ); return node ; } } // \u67e5\u627e\uff1a\u5982\u679c\u5f53\u524d\u8282\u70b9\u503c\u5c0f\u4e8e\u76ee\u6807\u503c\uff0c\u90a3\u4e48\u5c31\u627e\u5de6\u5b50\u6811\uff1b\u5426\u5219\u5c31\u627e\u53f3\u5b50\u6811 find ( data ) { var current = this . root ; while ( current != null ) { if ( data == current . data ) { break ; } if ( data < current . data ) { current = current . left ; } else { current = current . right } } return current . data ; } // \u83b7\u53d6\u6700\u5927\u503c\uff08\u53f3\u4fa7\u5b50\u8282\u70b9\uff09 findMax () { var current = this . root ; while ( current . right != null ) { current = current . right ; } return current . data ; } // \u83b7\u53d6\u6700\u5c0f\u503c\uff08\u5de6\u4fa7\u5b50\u8282\u70b9\uff09 findMin () { var current = this . root ; while ( current . left != null ) { current = current . left ; } return current . data ; } // \u4e2d\u5e8f\u904d\u5386 inOrder ( node ) { if ( ! this . inOrderArr ) { this . inOrderArr = []; } if ( node !== null ) { this . inOrder ( node . left ); this . inOrderArr . push ( node . data ); this . inOrder ( node . right ); } } // \u524d\u5e8f\u904d\u5386 preOrder ( node ) { if ( ! this . preOrderArr ) { this . preOrderArr = []; } if ( node !== null ) { this . preOrderArr . push ( node . data ); this . preOrder ( node . left ); this . preOrder ( node . right ); } } // \u540e\u7eed\u904d\u5386 postOrder ( node ) { if ( ! this . postOrderArr ) { this . postOrderArr = []; } if ( node !== null ) { this . postOrder ( node . left ); this . postOrder ( node . right ); this . postOrderArr . push ( node . data ); } } }","title":"\u6811\u7b97\u6cd5.md"},{"location":"algre/%E6%A0%91%E7%AE%97%E6%B3%95/#dom","text":"function queryClassName ( node , name ) { // \u8f85\u52a9\u51fd\u6570\uff1a\u904d\u5386\u8282\u70b9\u548c\u5168\u90e8\u5b50\u8282\u70b9 let walkTheDOM = function ( node , func ) { func ( node ); node = node . firstChild ; while ( node ) { walkTheDOM ( node , func ); node = node . nextSibling ; } } let starts = '(^|[ \\n\\r\\t\\f])' , ends = '([ \\n\\r\\t\\f]|$)' ; let regex = new RegExp ( starts + name + ends ); let results = []; // \u5904\u7406\u51fd\u6570\uff1a\u628a\u6ee1\u8db3\u7c7b\u540d\u6761\u4ef6\u7684\u8282\u70b9\u653e\u5230\u7ed3\u679c\u6570\u7ec4 let callback = function ( currentNode ) { if ( regex . test ( currentNode . className )) { results . push ( currentNode ); } } // \u9012\u5f52\u904d\u5386Node\u8282\u70b9 walkTheDOM ( node , callback ); return results ; }","title":"DOM\u6811\u67e5\u8be2\u7c7b\u540d"},{"location":"algre/%E6%A0%91%E7%AE%97%E6%B3%95/#_1","text":"Binary Search Tree(BST or Ordered Binary Tree) \u63d2\u5165\u548c\u5220\u9664\u76f8\u5bf9\u590d\u6742\uff0c\u67e5\u627e\u904d\u5386\u6bd4\u8f83\u7b80\u5355 class Node { constructor ( data , left , right ) { this . data = data ; this . left = left ; this . right = right ; } show () { return this . data ; } } class BinarySearchTree { constructor () { this . root = null ; } // \u63d2\u5165\u503c insert ( data ) { // \u521b\u5efa\u4e00\u4e2a\u8282\u70b9 let n = new Node ( data , null , null ); // \u5982\u679c\u6ca1\u6709\u6839\u8282\u70b9\uff0c\u90a3\u4e48\u76f4\u63a5\u4f5c\u4e3a\u6839\u8282\u70b9 if ( ! this . root ) { return this . root = n ; } let currentNode = this . root ; let parent = null ; // \u5faa\u73af\uff0c\u76f4\u5230\u627e\u5230\u4e00\u4e2a\u8282\u70b9\u662f\u7a7a\uff0c\u7136\u540e\u628a\u8fd9\u4e2a\u8282\u70b9\u653e\u5728\u8fd9\u91cc\uff08\u91cd\u590d\u8282\u70b9\uff1f\uff09 while ( 1 ) { parent = currentNode ; if ( data < currentNode . data ) { currentNode = currentNode . left ; if ( currentNode === null ) { parent . left = n ; break ; } } else { currentNode = currentNode . right ; if ( currentNode === null ) { parent . right = n ; break ; } } } } // \u5220\u9664\u503c\uff08\u5916\u90e8\u8c03\u7528\uff09 remove ( data ) { this . root = this . removeNode ( this . root , data ) } // \u5220\u9664\u8282\u70b9\uff08\u5185\u90e8\u8c03\u7528\uff09 removeNode ( node , data ) { // \u5982\u679c\u8282\u70b9\u662f\u7a7a\uff0c\u76f4\u63a5\u8fd4\u56de if ( node == null ) { return null ; } // \u5982\u679c\u5f53\u524d\u8282\u70b9\u7684\u503c\u662f\u5220\u9664\u7684\u503c if ( data == node . data ) { // no children node // \u5220\u9664\u8fd9\u4e2a\u8282\u70b9\uff0c\u5e76\u628a\u5de6\u5b50\u8282\u70b9\u6216\u8005\u53f3\u5b50\u8282\u70b9\u6539\u6210\u5f53\u524d\u8282\u70b9\uff08\u6307\u9488\u6307\u5411\u5de6\u5b50\u6811\u6216\u8005\u53f3\u5b50\u6811\uff09 if ( node . left == null && node . right == null ) { return null ; } if ( node . left == null ) { return node . right ; } if ( node . right == null ) { return node . left ; } // \u8f85\u52a9\u51fd\u6570 \u627e\u5230\u5b50\u6811\u4e2d\u6700\u5c0f\u503c\u7684\u8282\u70b9 let getSmallest = function ( node ) { if ( node . left === null && node . right == null ) { return node ; } if ( node . left != null ) { return node . left ; } if ( node . right !== null ) { return getSmallest ( node . right ); } }; // \u5982\u679c\u5f53\u524d\u7684\u8282\u70b9\u7684\u503c\u662f\u76ee\u6807\u503c\uff0c\u90a3\u4e48\u627e\u5230\u53f3\u5b50\u6811\u4e2d\u6700\u5c0f\u7684\u8282\u70b9 let temNode = getSmallest ( node . right ); // \u628a\u5f53\u524d\u7684\u8282\u70b9\u7684\u503c\u6539\u6210\u53f3\u5b50\u6811\u6700\u5c0f\u7684\u503c node . data = temNode . data ; // \u5220\u9664\u53f3\u5b50\u6811\u4e2d\u6700\u5c0f\u8282\u70b9 node . right = this . removeNode ( temNode . right , temNode . data ); return node ; } // \u5982\u679c\u5f53\u524d\u8282\u70b9\u7684\u503c\u5927\u4e8e\u6216\u8005\u5c0f\u4e8e\u76ee\u6807\u503c\uff0c\u9012\u5f52\u627e\u5b50\u8282\u70b9\u7684\u503c else if ( data < node . data ) { node . left = this . removeNode ( node . left , data ); return node ; } else { node . right = this . removeNode ( node . right , data ); return node ; } } // \u67e5\u627e\uff1a\u5982\u679c\u5f53\u524d\u8282\u70b9\u503c\u5c0f\u4e8e\u76ee\u6807\u503c\uff0c\u90a3\u4e48\u5c31\u627e\u5de6\u5b50\u6811\uff1b\u5426\u5219\u5c31\u627e\u53f3\u5b50\u6811 find ( data ) { var current = this . root ; while ( current != null ) { if ( data == current . data ) { break ; } if ( data < current . data ) { current = current . left ; } else { current = current . right } } return current . data ; } // \u83b7\u53d6\u6700\u5927\u503c\uff08\u53f3\u4fa7\u5b50\u8282\u70b9\uff09 findMax () { var current = this . root ; while ( current . right != null ) { current = current . right ; } return current . data ; } // \u83b7\u53d6\u6700\u5c0f\u503c\uff08\u5de6\u4fa7\u5b50\u8282\u70b9\uff09 findMin () { var current = this . root ; while ( current . left != null ) { current = current . left ; } return current . data ; } // \u4e2d\u5e8f\u904d\u5386 inOrder ( node ) { if ( ! this . inOrderArr ) { this . inOrderArr = []; } if ( node !== null ) { this . inOrder ( node . left ); this . inOrderArr . push ( node . data ); this . inOrder ( node . right ); } } // \u524d\u5e8f\u904d\u5386 preOrder ( node ) { if ( ! this . preOrderArr ) { this . preOrderArr = []; } if ( node !== null ) { this . preOrderArr . push ( node . data ); this . preOrder ( node . left ); this . preOrder ( node . right ); } } // \u540e\u7eed\u904d\u5386 postOrder ( node ) { if ( ! this . postOrderArr ) { this . postOrderArr = []; } if ( node !== null ) { this . postOrder ( node . left ); this . postOrder ( node . right ); this . postOrderArr . push ( node . data ); } } }","title":"\u4e8c\u53c9\u641c\u7d22\u6811"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/","text":"\u8d2a\u5fc3\u7b97\u6cd5 \u00b6 \u8d2a\u5fc3\u7b97\u6cd5\uff08\u53c8\u79f0\u8d2a\u5a6a\u7b97\u6cd5\uff09\u662f\u6307\uff0c\u6c42\u89e3\u65f6\uff0c\u603b\u662f\u505a\u51fa\u5728\u5f53\u524d\u770b\u6765\u662f\u6700\u597d\u7684\u9009\u62e9\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u4ece\u6574\u4f53\u6700\u4f18\u4e0a\u52a0\u4ee5\u8003\u8651\uff0c\u7b97\u6cd5\u5f97\u5230\u7684\u662f\u5728\u67d0\u79cd\u610f\u4e49\u4e0a\u7684\u5c40\u90e8\u6700\u4f18\u89e3\u3002 \u8d2a\u5fc3\u7b97\u6cd5\u4e0d\u662f\u5bf9\u6240\u6709\u95ee\u9898\u90fd\u80fd\u5f97\u5230\u6574\u4f53\u6700\u4f18\u89e3\uff0c\u5173\u952e\u662f\u8d2a\u5fc3\u7b56\u7565\u7684\u9009\u62e9\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u4ece\u6574\u4f53\u6700\u4f18\u4e0a\u52a0\u4ee5\u8003\u8651\uff0c\u505a\u51fa\u7684\u53ea\u662f\u5728\u67d0\u79cd\u610f\u4e49\u4e0a\u7684\u5c40\u90e8\u6700\u4f18\u89e3\u3002 \u7b97\u6cd5\u601d\u8def \u00b6 \u8d2a\u5fc3\u7b97\u6cd5\u4e00\u822c\u6309\u5982\u4e0b\u6b65\u9aa4\u8fdb\u884c\uff1a \u2460\u5efa\u7acb\u6570\u5b66\u6a21\u578b\u6765\u63cf\u8ff0\u95ee\u9898\u3002 \u2461\u628a\u6c42\u89e3\u7684\u95ee\u9898\u5206\u6210\u82e5\u5e72\u4e2a\u5b50\u95ee\u9898\u3002 \u2462\u5bf9\u6bcf\u4e2a\u5b50\u95ee\u9898\u6c42\u89e3\uff0c\u5f97\u5230\u5b50\u95ee\u9898\u7684\u5c40\u90e8\u6700\u4f18\u89e3\u3002 \u2463\u628a\u5b50\u95ee\u9898\u7684\u89e3\u5c40\u90e8\u6700\u4f18\u89e3\u5408\u6210\u539f\u6765\u89e3\u95ee\u9898\u7684\u4e00\u4e2a\u89e3\u3002 \u8d2a\u5fc3\u7b97\u6cd5\u662f\u4e00\u79cd\u5bf9\u67d0\u4e9b\u6c42\u6700\u4f18\u89e3\u95ee\u9898\u7684\u66f4\u7b80\u5355\u3001\u66f4\u8fc5\u901f\u7684\u8bbe\u8ba1\u6280\u672f\u3002\u8d2a\u5fc3\u7b97\u6cd5\u7684\u7279\u70b9\u662f\u4e00\u6b65\u4e00\u6b65\u5730\u8fdb\u884c\uff0c\u5e38\u4ee5\u5f53\u524d\u60c5\u51b5\u4e3a\u57fa\u7840\u6839\u636e\u67d0\u4e2a\u4f18\u5316\u6d4b\u5ea6\u4f5c\u6700\u4f18\u9009\u62e9\uff0c\u800c\u4e0d\u8003\u8651\u5404\u79cd\u53ef\u80fd\u7684\u6574\u4f53\u60c5\u51b5\uff0c\u7701\u53bb\u4e86\u4e3a\u627e\u6700\u4f18\u89e3\u8981\u7a77\u5c3d\u6240\u6709\u53ef\u80fd\u800c\u5fc5\u987b\u8017\u8d39\u7684\u5927\u91cf\u65f6\u95f4\u3002\u8d2a\u5fc3\u7b97\u6cd5\u91c7\u7528\u81ea\u9876\u5411\u4e0b\uff0c\u4ee5\u8fed\u4ee3\u7684\u65b9\u6cd5\u505a\u51fa\u76f8\u7ee7\u7684\u8d2a\u5fc3\u9009\u62e9\uff0c\u6bcf\u505a\u4e00\u6b21\u8d2a\u5fc3\u9009\u62e9\uff0c\u5c31\u5c06\u6240\u6c42\u95ee\u9898\u7b80\u5316\u4e3a\u4e00\u4e2a\u89c4\u6a21\u66f4\u5c0f\u7684\u5b50\u95ee\u9898\uff0c\u901a\u8fc7\u6bcf\u4e00\u6b65\u8d2a\u5fc3\u9009\u62e9\uff0c\u53ef\u5f97\u5230\u95ee\u9898\u7684\u4e00\u4e2a\u6700\u4f18\u89e3\u3002\u867d\u7136\u6bcf\u4e00\u6b65\u4e0a\u90fd\u8981\u4fdd\u8bc1\u80fd\u83b7\u5f97\u5c40\u90e8\u6700\u4f18\u89e3\uff0c\u4f46\u7531\u6b64\u4ea7\u751f\u7684\u5168\u5c40\u89e3\u6709\u65f6\u4e0d\u4e00\u5b9a\u662f\u6700\u4f18\u7684\uff0c\u6240\u4ee5\u8d2a\u5fc3\u7b97\u6cd5\u4e0d\u8981\u56de\u6eaf\u3002 \u7b97\u6cd5\u7279\u6027 \u00b6 \u8d2a\u5fc3\u7b97\u6cd5\u53ef\u89e3\u51b3\u7684\u95ee\u9898\u901a\u5e38\u5927\u90e8\u5206\u90fd\u6709\u5982\u4e0b\u7684\u7279\u6027\uff1a 1\u3001\u6709\u4e00\u4e2a\u4ee5\u6700\u4f18\u65b9\u5f0f\u6765\u89e3\u51b3\u7684\u95ee\u9898\u3002\u4e3a\u4e86\u6784\u9020\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u6709\u4e00\u4e2a\u5019\u9009\u7684\u5bf9\u8c61\u7684\u96c6\u5408\uff1a\u6bd4\u5982\u4e0d\u540c\u9762\u503c\u7684\u786c\u5e01\u3002 2\u3001\u968f\u7740\u7b97\u6cd5\u7684\u8fdb\u884c\uff0c\u5c06\u79ef\u7d2f\u8d77\u5176\u4ed6\u4e24\u4e2a\u96c6\u5408\uff1a\u4e00\u4e2a\u5305\u542b\u5df2\u7ecf\u88ab\u8003\u8651\u8fc7\u5e76\u88ab\u9009\u51fa\u7684\u5019\u9009\u5bf9\u8c61\uff0c\u53e6\u4e00\u4e2a\u5305\u542b\u5df2\u7ecf\u88ab\u8003\u8651\u8fc7\u4f46\u88ab\u4e22\u5f03\u7684\u5019\u9009\u5bf9\u8c61\u3002 3\u3001\u6709\u4e00\u4e2a\u51fd\u6570\u6765\u68c0\u67e5\u4e00\u4e2a\u5019\u9009\u5bf9\u8c61\u7684\u96c6\u5408\u662f\u5426\u63d0\u4f9b\u4e86\u95ee\u9898\u7684\u89e3\u7b54\u3002\u8be5\u51fd\u6570\u4e0d\u8003\u8651\u6b64\u65f6\u7684\u89e3\u51b3\u65b9\u6cd5\u662f\u5426\u6700\u4f18\u3002 4\u3001\u8fd8\u6709\u4e00\u4e2a\u51fd\u6570\u68c0\u67e5\u662f\u5426\u4e00\u4e2a\u5019\u9009\u5bf9\u8c61\u7684\u96c6\u5408\u662f\u53ef\u884c\u7684\uff0c\u5373\u662f\u5426\u53ef\u80fd\u5f80\u8be5\u96c6\u5408\u4e0a\u6dfb\u52a0\u66f4\u591a\u7684\u5019\u9009\u5bf9\u8c61\u4ee5\u83b7\u5f97\u4e00\u4e2a\u89e3\u3002\u548c\u4e0a\u4e00\u4e2a\u51fd\u6570\u4e00\u6837\uff0c\u6b64\u65f6\u4e0d\u8003\u8651\u89e3\u51b3\u65b9\u6cd5\u7684\u6700\u4f18\u6027\u3002 5\u3001\u9009\u62e9\u51fd\u6570\u53ef\u4ee5\u6307\u51fa\u54ea\u4e00\u4e2a\u5269\u4f59\u7684\u5019\u9009\u5bf9\u8c61\u6700\u6709\u5e0c\u671b\u6784\u6210\u95ee\u9898\u7684\u89e3\u3002 6\u3001\u6700\u540e\uff0c\u76ee\u6807\u51fd\u6570\u7ed9\u51fa\u89e3\u7684\u503c\u3002 \u4f7f\u7528\u6761\u4ef6 \u00b6 \u8d2a\u5fc3\u7b97\u6cd5\u6ca1\u6709\u56fa\u5b9a\u7684\u7b97\u6cd5\u6846\u67b6\uff0c\u7b97\u6cd5\u8bbe\u8ba1\u7684\u5173\u952e\u662f\u8d2a\u5fc3\u7b56\u7565\u7684\u9009\u62e9\u3002**\u8d2a\u5fc3\u7b56\u7565\u9002\u7528\u7684\u524d\u63d0\u662f\uff1a\u5c40\u90e8\u6700\u4f18\u7b56\u7565\u80fd\u5bfc\u81f4\u4ea7\u751f\u5168\u5c40\u6700\u4f18\u89e3\u3002**\u5b9e\u9645\u4e0a\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u9002\u7528\u7684\u60c5\u51b5\u5f88\u5c11\u3002\u5229\u7528\u8d2a\u5fc3\u6cd5\u6c42\u89e3\u7684\u95ee\u9898\u5e94\u5177\u5907\u5982\u4e0b2\u4e2a\u7279\u5f81\u3002 1\u3001\u8d2a\u5fc3\u9009\u62e9\u6027\u8d28 \u4e00\u4e2a\u95ee\u9898\u7684\u6574\u4f53\u6700\u4f18\u89e3\u53ef\u901a\u8fc7\u4e00\u7cfb\u5217\u5c40\u90e8\u7684\u6700\u4f18\u89e3\u7684\u9009\u62e9\u8fbe\u5230\uff0c\u5e76\u4e14\u6bcf\u6b21\u7684\u9009\u62e9\u53ef\u4ee5\u4f9d\u8d56\u4ee5\u524d\u4f5c\u51fa\u7684\u9009\u62e9\uff0c\u4f46\u4e0d\u4f9d\u8d56\u4e8e\u540e\u9762\u8981\u4f5c\u51fa\u7684\u9009\u62e9\u3002\u8fd9\u5c31\u662f\u8d2a\u5fc3\u9009\u62e9\u6027\u8d28\u3002\u5bf9\u4e8e\u4e00\u4e2a\u5177\u4f53\u95ee\u9898\uff0c\u8981\u786e\u5b9a\u5b83\u662f\u5426\u5177\u6709\u8d2a\u5fc3\u9009\u62e9\u6027\u8d28\uff0c\u5fc5\u987b\u8bc1\u660e\u6bcf\u4e00\u6b65\u6240\u4f5c\u7684\u8d2a\u5fc3\u9009\u62e9\u6700\u7ec8\u5bfc\u81f4\u95ee\u9898\u7684\u6574\u4f53\u6700\u4f18\u89e3\u3002 2\u3001\u6700\u4f18\u5b50\u7ed3\u6784\u6027\u8d28 \u5f53\u4e00\u4e2a\u95ee\u9898\u7684\u6700\u4f18\u89e3\u5305\u542b\u5176\u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3\u65f6\uff0c\u79f0\u6b64\u95ee\u9898\u5177\u6709\u6700\u4f18\u5b50\u7ed3\u6784\u6027\u8d28\u3002\u95ee\u9898\u7684\u6700\u4f18\u5b50\u7ed3\u6784\u6027\u8d28\u662f\u8be5\u95ee\u9898\u53ef\u7528\u8d2a\u5fc3\u6cd5\u6c42\u89e3\u7684\u5173\u952e\u6240\u5728\u3002\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u81f3\u4e8e\u4ec0\u4e48\u95ee\u9898\u5177\u6709\u4ec0\u4e48\u6837\u7684\u8d2a\u5fc3\u9009\u62e9\u6027\u8d28\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u9700\u8981\u5177\u4f53\u95ee\u9898\u5177\u4f53\u5206\u6790\u3002 \u89e3\u9898\u7b56\u7565 \u00b6 \u8d2a\u5fc3\u7b97\u6cd5\u4e0d\u4ece\u6574\u4f53\u6700\u4f18\u4e0a\u52a0\u4ee5\u8003\u8651\uff0c\u6240\u505a\u51fa\u7684\u4ec5\u662f\u5728\u67d0\u79cd\u610f\u4e49\u4e0a\u7684\u5c40\u90e8\u6700\u4f18\u9009\u62e9\u3002\u4f7f\u7528\u8d2a\u5fc3\u7b56\u7565\u8981\u6ce8\u610f\u5c40\u90e8\u6700\u4f18\u4e0e\u5168\u5c40\u6700\u4f18\u7684\u5173\u7cfb\uff0c\u9009\u62e9\u5f53\u524d\u7684\u5c40\u90e8\u6700\u4f18\u5e76\u4e0d\u4e00\u5b9a\u80fd\u63a8\u5bfc\u51fa\u95ee\u9898\u7684\u5168\u5c40\u6700\u4f18\u3002\u8d2a\u5fc3\u7b56\u7565\u89e3\u9898\u9700\u8981\u89e3\u51b3\u4ee5\u4e0b\u4e24\u4e2a\u95ee\u9898\uff1a 1\u3001\u8be5\u95ee\u9898\u662f\u5426\u9002\u5408\u4f7f\u7528\u8d2a\u5fc3\u7b56\u7565\u6c42\u89e3\uff0c\u4e5f\u5c31\u662f\u8be5\u95ee\u9898\u662f\u5426\u5177\u6709\u8d2a\u5fc3\u9009\u62e9\u6027\u8d28\uff1b 2\u3001\u5236\u5b9a\u8d2a\u5fc3\u7b56\u7565\uff0c\u4ee5\u8fbe\u5230\u95ee\u9898\u7684\u6700\u4f18\u89e3\u6216\u8f83\u4f18\u89e3\u3002 \u8981\u786e\u5b9a\u4e00\u4e2a\u95ee\u9898\u662f\u5426\u9002\u5408\u7528\u8d2a\u5fc3\u7b97\u6cd5\u6c42\u89e3\uff0c\u5fc5\u987b\u8bc1\u660e\u6bcf\u4e00\u6b65\u6240\u4f5c\u7684\u8d2a\u5fc3\u9009\u62e9\u6700\u7ec8\u5bfc\u81f4\u95ee\u9898\u7684\u6574\u4f53\u6700\u4f18\u89e3\u3002\u8bc1\u660e\u7684\u5927\u81f4\u8fc7\u7a0b\u4e3a\uff1a\u9996\u5148\u8003\u5bdf\u95ee\u9898\u7684\u4e00\u4e2a\u6574\u4f53\u6700\u4f18\u89e3\uff0c\u5e76\u8bc1\u660e\u53ef\u4fee\u6539\u8fd9\u4e2a\u6700\u4f18\u89e3\uff0c\u4f7f\u5176\u4ee5\u8d2a\u5fc3\u9009\u62e9\u5f00\u59cb\uff0c\u505a\u4e86\u8d2a\u5fc3\u9009\u62e9\u540e\uff0c\u539f\u95ee\u9898\u7b80\u5316\u4e3a\u89c4\u6a21\u66f4\u5c0f\u7684\u7c7b\u4f3c\u5b50\u95ee\u9898\u3002\u7136\u540e\u7528\u6570\u5b66\u5f52\u7eb3\u6cd5\u8bc1\u660e\u901a\u8fc7\u6bcf\u4e00\u6b65\u505a\u8d2a\u5fc3\u9009\u62e9\uff0c\u6700\u7ec8\u53ef\u5f97\u5230\u95ee\u9898\u7684\u6574\u4f53\u6700\u4f18\u89e3\u3002 \u5b58\u5728\u95ee\u9898 \u00b6 \u8d2a\u5fc3\u7b97\u6cd5\u4e5f\u5b58\u5728\u5982\u4e0b\u95ee\u9898\uff1a 1\u3001\u4e0d\u80fd\u4fdd\u8bc1\u89e3\u662f\u6700\u4f73\u7684\u3002\u56e0\u4e3a\u8d2a\u5fc3\u7b97\u6cd5\u603b\u662f\u4ece\u5c40\u90e8\u51fa\u53d1\uff0c\u5e76\u6ca1\u4ece\u6574\u4f53\u8003\u8651\uff1b 2\u3001\u8d2a\u5fc3\u7b97\u6cd5\u4e00\u822c\u7528\u6765\u89e3\u51b3\u6c42\u6700\u5927\u6216\u6700\u5c0f\u89e3\uff1b 3\u3001\u8d2a\u5fc3\u7b97\u6cd5\u53ea\u80fd\u786e\u5b9a\u67d0\u4e9b\u95ee\u9898\u7684\u53ef\u884c\u6027\u8303\u56f4\u3002 \u8d2a\u5fc3\u7b97\u6cd5\u4e0e\u52a8\u6001\u89c4\u5212\u7684\u533a\u522b \u8d2a\u5fc3\u7b97\u6cd5\u7684\u6bcf\u4e00\u6b21\u64cd\u4f5c\u90fd\u5bf9\u7ed3\u679c\u4ea7\u751f\u76f4\u63a5\u5f71\u54cd\uff0c\u800c\u52a8\u6001\u89c4\u5212\u5219\u4e0d\u662f\u3002\u8d2a\u5fc3\u7b97\u6cd5\u5bf9\u6bcf\u4e2a\u5b50\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\u90fd\u505a\u51fa\u9009\u62e9\uff0c\u4e0d\u80fd\u56de\u9000\uff1b\u52a8\u6001\u89c4\u5212\u5219\u4f1a\u6839\u636e\u4ee5\u524d\u7684\u9009\u62e9\u7ed3\u679c\u5bf9\u5f53\u524d\u8fdb\u884c\u9009\u62e9\uff0c\u6709\u56de\u9000\u529f\u80fd\u3002\u80fd\u7528\u8d2a\u5fc3\u89e3\u51b3\u7684\u95ee\u9898\uff0c\u4e5f\u53ef\u4ee5\u7528\u52a8\u6001\u89c4\u5212\u89e3\u51b3. \u6700\u4f18\u89e3\u95ee\u9898\u5927\u90e8\u5206\u90fd\u53ef\u4ee5\u62c6\u5206\u6210\u4e00\u4e2a\u4e2a\u7684\u5b50\u95ee\u9898\uff0c\u628a\u89e3\u7a7a\u95f4\u7684\u904d\u5386\u89c6\u4f5c\u5bf9\u5b50\u95ee\u9898\u6811\u7684\u904d\u5386\uff0c\u5219\u4ee5\u67d0\u79cd\u5f62\u5f0f\u5bf9\u6811\u6574\u4e2a\u7684\u904d\u5386\u4e00\u904d\u5c31\u53ef\u4ee5\u6c42\u51fa\u6700\u4f18\u89e3\uff0c\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u8fd9\u662f\u4e0d\u53ef\u884c\u7684\u3002\u8d2a\u5fc3\u7b97\u6cd5\u548c\u52a8\u6001\u89c4\u5212\u672c\u8d28\u4e0a\u662f\u5bf9\u5b50\u95ee\u9898\u6811\u7684\u4e00\u79cd\u4fee\u526a\uff0c\u4e24\u79cd\u7b97\u6cd5\u8981\u6c42\u95ee\u9898\u90fd\u5177\u6709\u7684\u4e00\u4e2a\u6027\u8d28\u5c31\u662f\u5b50\u95ee\u9898\u6700\u4f18\u6027(\u7ec4\u6210\u6700\u4f18\u89e3\u7684\u6bcf\u4e00\u4e2a\u5b50\u95ee\u9898\u7684\u89e3\uff0c\u5bf9\u4e8e\u8fd9\u4e2a\u5b50\u95ee\u9898\u672c\u8eab\u80af\u5b9a\u4e5f\u662f\u6700\u4f18\u7684)\u3002\u52a8\u6001\u89c4\u5212\u65b9\u6cd5\u4ee3\u8868\u4e86\u8fd9\u4e00\u7c7b\u95ee\u9898\u7684\u4e00\u822c\u89e3\u6cd5\uff0c\u6211\u4eec\u81ea\u5e95\u5411\u4e0a\u6784\u9020\u5b50\u95ee\u9898\u7684\u89e3\uff0c\u5bf9\u6bcf\u4e00\u4e2a\u5b50\u6811\u7684\u6839\uff0c\u6c42\u51fa\u4e0b\u9762\u6bcf\u4e00\u4e2a\u53f6\u5b50\u7684\u503c\uff0c\u5e76\u4e14\u4ee5\u5176\u4e2d\u7684\u6700\u4f18\u503c\u4f5c\u4e3a\u81ea\u8eab\u7684\u503c\uff0c\u5176\u5b83\u7684\u503c\u820d\u5f03\u3002\u800c\u8d2a\u5fc3\u7b97\u6cd5\u662f\u52a8\u6001\u89c4\u5212\u65b9\u6cd5\u7684\u4e00\u4e2a\u7279\u4f8b\uff0c\u53ef\u4ee5\u8bc1\u660e\u6bcf\u4e00\u4e2a\u5b50\u6811\u7684\u6839\u7684\u503c\u4e0d\u53d6\u51b3\u4e8e\u4e0b\u9762\u53f6\u5b50\u7684\u503c\uff0c\u800c\u53ea\u53d6\u51b3\u4e8e\u5f53\u524d\u95ee\u9898\u7684\u72b6\u51b5\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u4e0d\u9700\u8981\u77e5\u9053\u4e00\u4e2a\u8282\u70b9\u6240\u6709\u5b50\u6811\u7684\u60c5\u51b5\uff0c\u5c31\u53ef\u4ee5\u6c42\u51fa\u8fd9\u4e2a\u8282\u70b9\u7684\u503c\u3002\u7531\u4e8e\u8d2a\u5fc3\u7b97\u6cd5\u7684\u8fd9\u4e2a\u7279\u6027\uff0c\u5b83\u5bf9\u89e3\u7a7a\u95f4\u6811\u7684\u904d\u5386\u4e0d\u9700\u8981\u81ea\u5e95\u5411\u4e0a\uff0c\u800c\u53ea\u9700\u8981\u81ea\u6839\u5f00\u59cb\uff0c\u9009\u62e9\u6700\u4f18\u7684\u8def\uff0c\u4e00\u76f4\u8d70\u5230\u5e95\u5c31\u53ef\u4ee5\u4e86\u3002 \u5e94\u7528\u5b9e\u4f8b \u00b6 1.\u80cc\u5305\u95ee\u9898 \u00b6 \u6709\u4e00\u4e2a\u80cc\u5305\uff0c\u5bb9\u91cf\u662fM=150\uff0c\u67097\u4e2a\u7269\u54c1\uff0c\u7269\u54c1\u53ef\u4ee5\u5206\u5272\u6210\u4efb\u610f\u5927\u5c0f\u3002\u8981\u6c42\u5c3d\u53ef\u80fd\u8ba9\u88c5\u5165\u80cc\u5305\u4e2d\u7684\u7269\u54c1\u603b\u4ef7\u503c\u6700\u5927\uff0c\u4f46\u4e0d\u80fd\u8d85\u8fc7\u603b\u5bb9\u91cf\u3002 \u7269\u54c1\uff1aA B C D E F G \u91cd\u91cf\uff1a35 30 60 50 40 10 25 \u4ef7\u503c\uff1a10 40 30 50 35 40 30 \u5206\u6790\uff1a \u76ee\u6807\u51fd\u6570\uff1a \u2211pi\u6700\u5927 \u7ea6\u675f\u6761\u4ef6\u662f\u88c5\u5165\u7684\u7269\u54c1\u603b\u8d28\u91cf\u4e0d\u8d85\u8fc7\u80cc\u5305\u5bb9\u91cf\uff1a\u2211wi<=M( M=150) \uff081\uff09\u6839\u636e\u8d2a\u5fc3\u7684\u7b56\u7565\uff0c\u6bcf\u6b21\u6311\u9009\u4ef7\u503c\u6700\u5927\u7684\u7269\u54c1\u88c5\u5165\u80cc\u5305\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u662f\u5426\u6700\u4f18\uff1f \uff082\uff09\u6bcf\u6b21\u6311\u9009\u6240\u5360\u91cd\u91cf\u6700\u5c0f\u7684\u7269\u54c1\u88c5\u5165\u662f\u5426\u80fd\u5f97\u5230\u6700\u4f18\u89e3\uff1f \uff083\uff09\u6bcf\u6b21\u9009\u53d6\u5355\u4f4d\u91cd\u91cf\u4ef7\u503c\u6700\u5927\u7684\u7269\u54c1\uff0c\u6210\u4e3a\u89e3\u672c\u9898\u7684\u7b56\u7565 \u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u5e76\u4e0d\u662f\u5b8c\u5168\u4e0d\u53ef\u4ee5\u4f7f\u7528\uff0c\u8d2a\u5fc3\u7b56\u7565\u4e00\u65e6\u7ecf\u8fc7\u8bc1\u660e\u6210\u7acb\u540e\uff0c\u5b83\u5c31\u662f\u4e00\u79cd\u9ad8\u6548\u7684\u7b97\u6cd5\u3002\u6bd4\u5982\uff0c \u6c42\u6700\u5c0f\u751f\u6210\u6811\u7684Prim\u7b97\u6cd5\u548cKruskal\u7b97\u6cd5\u90fd\u662f\u6f02\u4eae\u7684\u8d2a\u5fc3\u7b97\u6cd5 \u3002 \u8d2a\u5fc3\u7b97\u6cd5\u8fd8\u662f\u5f88\u5e38\u89c1\u7684\u7b97\u6cd5\u4e4b\u4e00\uff0c\u8fd9\u662f\u7531\u4e8e\u5b83\u7b80\u5355\u6613\u884c\uff0c\u6784\u9020\u8d2a\u5fc3\u7b56\u7565\u4e0d\u662f\u5f88\u56f0\u96be\u3002 \u53ef\u60dc\u7684\u662f\uff0c\u5b83\u9700\u8981\u8bc1\u660e\u540e\u624d\u80fd\u771f\u6b63\u8fd0\u7528\u5230\u9898\u76ee\u7684\u7b97\u6cd5\u4e2d\u3002 \u4e00\u822c\u6765\u8bf4\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u7684\u8bc1\u660e\u56f4\u7ed5\u7740\uff1a\u6574\u4e2a\u95ee\u9898\u7684\u6700\u4f18\u89e3\u4e00\u5b9a\u7531\u5728\u8d2a\u5fc3\u7b56\u7565\u4e2d\u5b58\u5728\u7684\u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3\u5f97\u6765\u7684\u3002 \u6839\u636e\u7b56\u7565\uff0c\u4e09\u79cd\u7269\u54c1\u5355\u4f4d\u91cd\u91cf\u4ef7\u503c\u4e00\u6837\uff0c\u7a0b\u5e8f\u65e0\u6cd5\u4f9d\u636e\u73b0\u6709\u7b56\u7565\u4f5c\u51fa\u5224\u65ad\uff0c\u5982\u679c\u9009\u62e9A\uff0c\u5219\u7b54\u6848\u9519\u8bef\u3002\u4f46\u662f\u679c\u5728\u6761\u4ef6\u4e2d\u52a0\u4e00\u53e5\u5f53\u9047\u89c1\u5355\u4f4d\u4ef7\u503c\u76f8\u540c\u7684\u65f6\u5019,\u4f18\u5148\u88c5\u91cd\u91cf\u5c0f\u7684,\u8fd9\u6837\u7684\u95ee\u9898\u5c31\u53ef\u4ee5\u89e3\u51b3\u3002 \u6240\u4ee5\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u53ef\u4ee5\u4e0e\u968f\u673a\u5316\u7b97\u6cd5\u4e00\u8d77\u4f7f\u7528\uff0c\u5177\u4f53\u7684\u4f8b\u5b50\u5c31\u4e0d\u518d\u591a\u4e3e\u4e86\u3002\uff08\u56e0\u4e3a\u8fd9\u4e00\u7c7b\u7b97\u6cd5\u666e\u53ca\u6027\u4e0d\u9ad8\uff0c\u800c\u4e14\u6280\u672f\u542b\u91cf\u662f\u975e\u5e38\u9ad8\u7684\uff0c\u9700\u8981\u901a\u8fc7\u4e00\u4e9b\u53cd\u4f8b\u786e\u5b9a\u968f\u673a\u7684\u5bf9\u8c61\u662f\u4ec0\u4e48\uff0c\u968f\u673a\u7a0b\u5ea6\u5982\u4f55\uff0c\u4f46\u4e5f\u662f\u4e0d\u80fd\u4fdd\u8bc1\u5b8c\u5168\u6b63\u786e\uff0c\u53ea\u80fd\u662f\u6781\u5927\u7684\u51e0\u7387\u6b63\u786e\uff09\u3002 \u8d2a\u5fc3\u7b97\u6cd5\uff1a\u5bfb\u627e\u6700\u4f18\u89e3\u7684\u8fc7\u7a0b\uff0c\u76ee\u7684\u662f\u5f97\u5230\u5f53\u524d\u6700\u4f18\u89e3 \u90e8\u5206\u80cc\u5305\u95ee\u9898\uff1a\u56fa\u5b9a\u5bb9\u79ef\u7684\u80cc\u5305\u80fd\u653e\u5165\u7269\u54c1\u7684\u603b\u6700\u5927\u4ef7\u503c \u7269\u54c1 A B C D \u4ef7\u683c 50 220 60 60 \u5c3a\u5bf8 5 20 10 12 \u6bd4\u7387 10 11 6 5 \u6309\u6bd4\u4f8b\u964d\u5e8f\u5c3d\u53ef\u80fd\u591a\u653e\u5165\u7269\u54c1 function greedy ( values , weights , capacity ){ var returnValue = 0 var remainCapacity = capacity var sortArray = [] values . map (( cur , index ) =>{ sortArray . push ({ 'value' : values [ index ], 'weight' : weights [ index ], 'ratio' : values [ index ] / weights [ index ] }) }) sortArray . sort ( function ( a , b ){ return b . ratio > a . ratio }) sortArray . map (( cur , index ) => { var num = parseInt ( remainCapacity / cur . weight ) remainCapacity -= num * cur . weight returnValue += num * cur . value }) return returnValue } var items = [ 'A' , 'B' , 'C' , 'D' ] var values = [ 50 , 220 , 60 , 60 ] var weights = [ 5 , 20 , 10 , 12 ] var capacity = 32 //\u80cc\u5305\u5bb9\u79ef greedy ( values , weights , capacity ) // 320 2.\u627e\u96f6\u94b1\u95ee\u9898 \u00b6 \u4f8b\u5982\uff0c\u5e73\u65f6\u8d2d\u7269\u627e\u96f6\u94b1\u65f6\uff0c\u4e3a\u4f7f\u627e\u56de\u7684\u96f6\u94b1\u7684\u786c\u5e01\u6570\u6700\u5c11\uff0c\u4e0d\u8981\u6c42\u627e\u96f6\u94b1\u7684\u6240\u6709\u65b9\u6848\uff0c\u800c\u662f\u4ece\u6700\u5927\u9762\u503c\u7684\u5e01\u79cd\u5f00\u59cb\uff0c\u6309\u9012\u51cf\u7684\u987a\u5e8f\u8003\u8651\u5404\u9762\u989d\uff0c\u5148\u5c3d\u91cf\u7528\u5927\u9762\u503c\u7684\u9762\u989d\uff0c\u5f53\u4e0d\u8db3\u5927\u9762\u503c\u65f6\u624d\u53bb\u8003\u8651\u4e0b\u4e00\u4e2a\u8f83\u5c0f\u9762\u503c\u3002 \u6848\u4f8b\uff1a\u5047\u8bbe1\u5143\u30012\u5143\u30015\u5143\u300110\u5143\u300120\u5143\u300150\u5143\u3001100\u5143\u7684\u7eb8\u5e01\u5206\u522b\u6709c0, c1, c2, c3, c4, c5, c6\u5f20\u3002\u73b0\u5728\u8981\u7528\u8fd9\u4e9b\u94b1\u6765\u627e\u7ed9\u987e\u5ba2K\u5143\uff0c\u600e\u4e48\u7528\u6570\u76ee\u6700\u5c11\u7684\u94b1\u6765\u627e\u96f6\uff1f \u8d2a\u5fc3\u51c6\u5219:\u5728\u4e0d\u8d85\u8fc7\u8981\u627e\u7684\u96f6\u94b1\u603b\u6570\u7684\u6761\u4ef6\u4e0b\uff0c\u6bcf\u4e00\u6b21\u90fd\u9009\u62e9\u9762\u503c\u5c3d\u53ef\u80fd\u5927\u7684\u7eb8\u5e01\uff0c\u76f4\u5230\u51d1\u6210\u7684\u96f6\u94b1\u603b\u6570\u7b49\u4e8e\u8981\u627e\u7684\u96f6\u94b1\u603b\u6570\u3002\u4e0b\u9762\u662f C++ \u7684\u7b97\u6cd5 #include <iostream> using namespace std ; int min ( int a , int b ) { return a < b ? a : b ; } int main () { //\u4eba\u6c11\u5e01\u9762\u503c\u96c6\u5408 int values [] = { 1 , 2 , 5 , 10 , 20 , 50 , 100 }; //\u5404\u79cd\u9762\u503c\u5bf9\u5e94\u6570\u91cf\u96c6\u5408 int counts [] = { 3 , 1 , 2 , 1 , 1 , 3 , 5 }; //\u6c42442\u5143\u4eba\u6c11\u5e01\u9700\u5404\u79cd\u9762\u503c\u591a\u5c11\u5f20 //\u7528\u6765\u8bb0\u5f55\u9700\u8981\u7684\u5404\u79cd\u9762\u503c\u5f20\u6570 int money = 442 ; int len = sizeof ( values ) / sizeof ( values [ 0 ]); int * result = new int [ len ]; for ( int i = len - 1 ; i >= 0 ; i -- ) { int num = 0 ; //\u5f53\u524d\u9762\u503c\u7eb8\u5e01\u7684\u6570\u91cf num = min ( money / values [ i ], counts [ i ]); //\u5f53\u524d\u7eb8\u5e01\u53ef\u4ee5\u627e\u7684\u6700\u5927\u6570\u91cf money = money - num * values [ i ]; result [ i ] = num ; } //\u8f93\u51fa\u6700\u540e\u7ed3\u679c for ( int i = 0 ; i < len ; i ++ ) { if ( result [ i ]) cout << \"\u9700\u8981\u9762\u989d\u4e3a\" << values [ i ] << \"\u7684\u4eba\u540d\u5e01\" << result [ i ] << \"\u5f20 \\n \" ; } cout << endl ; system ( \"pause\" ); return 0 ; } \u7a0b\u5e8f\u7ed3\u679c: \u9700\u8981\u9762\u989d\u4e3a2\u7684\u4eba\u540d\u5e011\u5f20 \u9700\u8981\u9762\u989d\u4e3a5\u7684\u4eba\u540d\u5e012\u5f20 \u9700\u8981\u9762\u989d\u4e3a10\u7684\u4eba\u540d\u5e011\u5f20 \u9700\u8981\u9762\u989d\u4e3a20\u7684\u4eba\u540d\u5e011\u5f20 \u9700\u8981\u9762\u989d\u4e3a100\u7684\u4eba\u540d\u5e014\u5f20 \u53ef\u4ee5\u5f97\u51fa\uff0c\u6c42\u51fa\u7684\u7ed3\u679c\u4e3a\u6700\u4f18\u89e3\uff0c\u4f46\u662f\uff0c\u5f53\u7eb8\u5e01\u9762\u503c\u548c\u6570\u91cf\u4e3a\u67d0\u4e9b\u7279\u6b8a\u60c5\u51b5\u4e0b\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u5c31\u65e0\u6cd5\u7ed9\u51fa\u6700\u4f18\u89e3\u3002\u4f46\u662f\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u5f80\u5f80\u80fd\u7ed9\u51fa\u8fd1\u4f3c\u89e3\uff0c\u5bf9\u4e8e\u6211\u4eec\u6765\u8bf4\u4e5f\u662f\u6709\u4ef7\u503c\u7684\u3002 \u6bd4\u5982\u5bf9\u4e8e\u7eb8\u5e01\u67091\u30015\u30017\u9762\u503c\u7684\u82e5\u5e72\uff0c\u8981\u51d1\u51fa10\u5143 \u8d2a\u5fc3\u89e3[3,0,1] \u6700\u4f18\u89e3[0,2,0] 1.\u6d3b\u52a8\u9009\u62e9\u95ee\u9898 \u00b6 \u8fd9\u662f\u300a\u7b97\u6cd5\u5bfc\u8bba\u300b\u4e0a\u7684\u4f8b\u5b50\uff0c\u4e5f\u662f\u4e00\u4e2a\u975e\u5e38\u7ecf\u5178\u7684\u95ee\u9898\u3002\u6709n\u4e2a\u9700\u8981\u5728\u540c\u4e00\u5929\u4f7f\u7528\u540c\u4e00\u4e2a\u6559\u5ba4\u7684\u6d3b\u52a8a1,a2,\u2026,an\uff0c\u6559\u5ba4\u540c\u4e00\u65f6\u523b\u53ea\u80fd\u7531\u4e00\u4e2a\u6d3b\u52a8\u4f7f\u7528\u3002\u6bcf\u4e2a\u6d3b\u52a8ai\u90fd\u6709\u4e00\u4e2a\u5f00\u59cb\u65f6\u95f4si\u548c\u7ed3\u675f\u65f6\u95f4fi \u3002\u4e00\u65e6\u88ab\u9009\u62e9\u540e\uff0c\u6d3b\u52a8ai\u5c31\u5360\u636e\u534a\u5f00\u65f6\u95f4\u533a\u95f4[si,fi)\u3002\u5982\u679c[si,fi]\u548c[sj,fj]\u4e92\u4e0d\u91cd\u53e0\uff0cai\u548caj\u4e24\u4e2a\u6d3b\u52a8\u5c31\u53ef\u4ee5\u88ab\u5b89\u6392\u5728\u8fd9\u4e00\u5929\u3002\u8be5\u95ee\u9898\u5c31\u662f\u8981\u5b89\u6392\u8fd9\u4e9b\u6d3b\u52a8\u4f7f\u5f97\u5c3d\u91cf\u591a\u7684\u6d3b\u52a8\u80fd\u4e0d\u51b2\u7a81\u7684\u4e3e\u884c\u3002\u4f8b\u5982\u4e0b\u56fe\u6240\u793a\u7684\u6d3b\u52a8\u96c6\u5408S\uff0c\u5176\u4e2d\u5404\u9879\u6d3b\u52a8\u6309\u7167\u7ed3\u675f\u65f6\u95f4\u5355\u8c03\u9012\u589e\u6392\u5e8f\u3002 \u8003\u8651\u4f7f\u7528\u8d2a\u5fc3\u7b97\u6cd5\u7684\u89e3\u6cd5\u3002\u4e3a\u4e86\u65b9\u4fbf\uff0c\u6211\u4eec\u7528\u4e0d\u540c\u989c\u8272\u7684\u7ebf\u6761\u4ee3\u8868\u6bcf\u4e2a\u6d3b\u52a8\uff0c\u7ebf\u6761\u7684\u957f\u5ea6\u5c31\u662f\u6d3b\u52a8\u6240\u5360\u636e\u7684\u65f6\u95f4\u6bb5\uff0c\u84dd\u8272\u7684\u7ebf\u6761\u8868\u793a\u6211\u4eec\u5df2\u7ecf\u9009\u62e9\u7684\u6d3b\u52a8\uff1b\u7ea2\u8272\u7684\u7ebf\u6761\u8868\u793a\u6211\u4eec\u6ca1\u6709\u9009\u62e9\u7684\u6d3b\u52a8\u3002 \u53ef\u4ee5\u7528\u6570\u5b66\u5f52\u7eb3\u6cd5\u8bc1\u660e\uff0c\u6211\u4eec\u7684\u8d2a\u5fc3\u7b56\u7565\u5e94\u8be5\u662f\u6bcf\u6b21\u9009\u53d6\u7ed3\u675f\u65f6\u95f4\u6700\u65e9\u7684\u6d3b\u52a8\u3002\u76f4\u89c2\u4e0a\u4e5f\u5f88\u597d\u7406\u89e3\uff0c\u6309\u8fd9\u79cd\u65b9\u6cd5\u9009\u62e9\u76f8\u5bb9\u6d3b\u52a8\u4e3a\u672a\u5b89\u6392\u6d3b\u52a8\u7559\u4e0b\u5c3d\u53ef\u80fd\u591a\u7684\u65f6\u95f4\u3002\u8fd9\u4e5f\u662f\u628a\u5404\u9879\u6d3b\u52a8\u6309\u7167\u7ed3\u675f\u65f6\u95f4\u5355\u8c03\u9012\u589e\u6392\u5e8f\u7684\u539f\u56e0\u3002 #include <cstdio> #include <iostream> #include <algorithm> using namespace std ; int N ; struct Act { int start ; int end ; } act [ 100010 ]; bool cmp ( Act a , Act b ) { return a . end < b . end ; } int greedy_activity_selector () { int num = 1 , i = 1 ; for ( int j = 2 ; j <= N ; j ++ ) { if ( act [ j ]. start >= act [ i ]. end ) { i = j ; num ++ ; } } return num ; } int main () { int t ; scanf ( \"%d\" , & t ); while ( t -- ) { scanf ( \"%d\" , & N ); for ( int i = 1 ; i <= N ; i ++ ) { scanf ( \"%lld %lld\" , & act [ i ]. start , & act [ i ]. end ); } act [ 0 ]. start = -1 ; act [ 0 ]. end = -1 ; sort ( act + 1 , act + N + 1 , cmp ); int res = greedy_activity_selector (); cout << res << endl ; } } 2.\u94b1\u5e01\u627e\u96f6\u95ee\u9898 \u00b6 \u8fd9\u4e2a\u95ee\u9898\u5728\u6211\u4eec\u7684\u65e5\u5e38\u751f\u6d3b\u4e2d\u5c31\u66f4\u52a0\u666e\u904d\u4e86\u3002\u5047\u8bbe1\u5143\u30012\u5143\u30015\u5143\u300110\u5143\u300120\u5143\u300150\u5143\u3001100\u5143\u7684\u7eb8\u5e01\u5206\u522b\u6709c0, c1, c2, c3, c4, c5, c6\u5f20\u3002\u73b0\u5728\u8981\u7528\u8fd9\u4e9b\u94b1\u6765\u652f\u4ed8K\u5143\uff0c\u81f3\u5c11\u8981\u7528\u591a\u5c11\u5f20\u7eb8\u5e01\uff1f\u7528\u8d2a\u5fc3\u7b97\u6cd5\u7684\u601d\u60f3\uff0c\u5f88\u663e\u7136\uff0c\u6bcf\u4e00\u6b65\u5c3d\u53ef\u80fd\u7528\u9762\u503c\u5927\u7684\u7eb8\u5e01\u5373\u53ef\u3002\u5728\u65e5\u5e38\u751f\u6d3b\u4e2d\u6211\u4eec\u81ea\u7136\u800c\u7136\u4e5f\u662f\u8fd9\u4e48\u505a\u7684\u3002\u5728\u7a0b\u5e8f\u4e2d\u5df2\u7ecf\u4e8b\u5148\u5c06Value\u6309\u7167\u4ece\u5c0f\u5230\u5927\u7684\u987a\u5e8f\u6392\u597d\u3002 #include <iostream> #include <algorithm> using namespace std ; const int N = 7 ; int Count [ N ] = { 3 , 0 , 2 , 1 , 0 , 3 , 5 }; int Value [ N ] = { 1 , 2 , 5 , 10 , 20 , 50 , 100 }; int solve ( int money ){ int num = 0 ; for ( int i = N -1 ; i >= 0 ; i -- ) { int c = min ( money / Value [ i ], Count [ i ]); money = money - c * Value [ i ]; num += c ; } if ( money > 0 ) num = -1 ; return num ; } int main (){ int money ; cin >> money ; int res = solve ( money ); if ( res != -1 ) cout << res << endl ; else cout << \"NO\" << endl ; } 3.\u518d\u8bba\u80cc\u5305\u95ee\u9898 \u00b6 \u5728\u4ece\u96f6\u5f00\u59cb\u5b66\u52a8\u6001\u89c4\u5212\u4e2d\u6211\u4eec\u5df2\u7ecf\u8c08\u8fc7\u4e09\u79cd\u6700\u57fa\u672c\u7684\u80cc\u5305\u95ee\u9898\uff1a\u96f6\u4e00\u80cc\u5305\uff0c\u90e8\u5206\u80cc\u5305\uff0c\u5b8c\u5168\u80cc\u5305\u3002\u5f88\u5bb9\u6613\u8bc1\u660e\uff0c\u80cc\u5305\u95ee\u9898\u4e0d\u80fd\u4f7f\u7528\u8d2a\u5fc3\u7b97\u6cd5\u3002\u7136\u800c\u6211\u4eec\u8003\u8651\u8fd9\u6837\u4e00\u79cd\u80cc\u5305\u95ee\u9898\uff1a\u5728\u9009\u62e9\u7269\u54c1i\u88c5\u5165\u80cc\u5305\u65f6\uff0c\u53ef\u4ee5\u9009\u62e9\u7269\u54c1\u7684\u4e00\u90e8\u5206\uff0c\u800c\u4e0d\u4e00\u5b9a\u8981\u5168\u90e8\u88c5\u5165\u80cc\u5305\u3002\u8fd9\u65f6\u4fbf\u53ef\u4ee5\u4f7f\u7528\u8d2a\u5fc3\u7b97\u6cd5\u6c42\u89e3\u4e86\u3002\u8ba1\u7b97\u6bcf\u79cd\u7269\u54c1\u7684\u5355\u4f4d\u91cd\u91cf\u4ef7\u503c\u4f5c\u4e3a\u8d2a\u5fc3\u9009\u62e9\u7684\u4f9d\u636e\u6307\u6807\uff0c\u9009\u62e9\u5355\u4f4d\u91cd\u91cf\u4ef7\u503c\u6700\u9ad8\u7684\u7269\u54c1\uff0c\u5c06\u5c3d\u53ef\u80fd\u591a\u7684\u8be5\u7269\u54c1\u88c5\u5165\u80cc\u5305\uff0c\u4f9d\u6b64\u7b56\u7565\u4e00\u76f4\u5730\u8fdb\u884c\u4e0b\u53bb\uff0c\u76f4\u5230\u80cc\u5305\u88c5\u6ee1\u4e3a\u6b62\u3002\u5728\u96f6\u4e00\u80cc\u5305\u95ee\u9898\u4e2d\u8d2a\u5fc3\u9009\u62e9\u4e4b\u6240\u4ee5\u4e0d\u80fd\u5f97\u5230\u6700\u4f18\u89e3\u539f\u56e0\u662f\u8d2a\u5fc3\u9009\u62e9\u65e0\u6cd5\u4fdd\u8bc1\u6700\u7ec8\u80fd\u5c06\u80cc\u5305\u88c5\u6ee1\uff0c\u90e8\u5206\u95f2\u7f6e\u7684\u80cc\u5305\u7a7a\u95f4\u4f7f\u6bcf\u516c\u65a4\u80cc\u5305\u7a7a\u95f4\u7684\u4ef7\u503c\u964d\u4f4e\u4e86\u3002\u5728\u7a0b\u5e8f\u4e2d\u5df2\u7ecf\u4e8b\u5148\u5c06\u5355\u4f4d\u91cd\u91cf\u4ef7\u503c\u6309\u7167\u4ece\u5927\u5230\u5c0f\u7684\u987a\u5e8f\u6392\u597d\u3002 #include <iostream> using namespace std ; const int N = 4 ; void knapsack ( float M , float v [], float w [], float x []); int main () { float M = 50 ; //\u80cc\u5305\u6240\u80fd\u5bb9\u7eb3\u7684\u91cd\u91cf float w [] = { 0 , 10 , 30 , 20 , 5 }; //\u6bcf\u79cd\u7269\u54c1\u7684\u91cd\u91cf float v [] = { 0 , 200 , 400 , 100 , 10 }; //\u6bcf\u79cd\u7269\u54c1\u7684\u4ef7\u503c float x [ N + 1 ] = { 0 }; //\u8bb0\u5f55\u7ed3\u679c\u7684\u6570\u7ec4 knapsack ( M , v , w , x ); cout << \"\u9009\u62e9\u88c5\u4e0b\u7684\u7269\u54c1\u6bd4\u4f8b\uff1a\" << endl ; for ( int i = 1 ; i <= N ; i ++ ) cout << \"[\" << i << \"]:\" << x [ i ] << endl ; } void knapsack ( float M , float v [], float w [], float x []) { int i ; //\u7269\u54c1\u6574\u4ef6\u88ab\u88c5\u4e0b for ( i = 1 ; i <= N ; i ++ ) { if ( w [ i ] > M ) break ; x [ i ] = 1 ; M -= w [ i ]; } //\u7269\u54c1\u90e8\u5206\u88ab\u88c5\u4e0b if ( i <= N ) x [ i ] = M / w [ i ]; } 4.\u591a\u673a\u8c03\u5ea6\u95ee\u9898 \u00b6 n\u4e2a\u4f5c\u4e1a\u7ec4\u6210\u7684\u4f5c\u4e1a\u96c6\uff0c\u53ef\u7531m\u53f0\u76f8\u540c\u673a\u5668\u52a0\u5de5\u5904\u7406\u3002\u8981\u6c42\u7ed9\u51fa\u4e00\u79cd\u4f5c\u4e1a\u8c03\u5ea6\u65b9\u6848\uff0c\u4f7f\u6240\u7ed9\u7684n\u4e2a\u4f5c\u4e1a\u5728\u5c3d\u53ef\u80fd\u77ed\u7684\u65f6\u95f4\u5185\u7531m\u53f0\u673a\u5668\u52a0\u5de5\u5904\u7406\u5b8c\u6210\u3002\u4f5c\u4e1a\u4e0d\u80fd\u62c6\u5206\u6210\u66f4\u5c0f\u7684\u5b50\u4f5c\u4e1a\uff1b\u6bcf\u4e2a\u4f5c\u4e1a\u5747\u53ef\u5728\u4efb\u4f55\u4e00\u53f0\u673a\u5668\u4e0a\u52a0\u5de5\u5904\u7406\u3002\u8fd9\u4e2a\u95ee\u9898\u662fNP\u5b8c\u5168\u95ee\u9898\uff0c\u8fd8\u6ca1\u6709\u6709\u6548\u7684\u89e3\u6cd5(\u6c42\u6700\u4f18\u89e3)\uff0c\u4f46\u662f\u53ef\u4ee5\u7528\u8d2a\u5fc3\u9009\u62e9\u7b56\u7565\u8bbe\u8ba1\u51fa\u8f83\u597d\u7684\u8fd1\u4f3c\u7b97\u6cd5(\u6c42\u6b21\u4f18\u89e3)\u3002\u5f53n<=m\u65f6\uff0c\u53ea\u8981\u5c06\u4f5c\u4e1a\u65f6\u95f4\u533a\u95f4\u5206\u914d\u7ed9\u4f5c\u4e1a\u5373\u53ef\uff1b\u5f53n>m\u65f6\uff0c\u9996\u5148\u5c06n\u4e2a\u4f5c\u4e1a\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\uff0c\u7136\u540e\u4f9d\u6b64\u987a\u5e8f\u5c06\u4f5c\u4e1a\u5206\u914d\u7ed9\u7a7a\u95f2\u7684\u5904\u7406\u673a\u3002\u4e5f\u5c31\u662f\u8bf4\u4ece\u5269\u4e0b\u7684\u4f5c\u4e1a\u4e2d\uff0c\u9009\u62e9\u9700\u8981\u5904\u7406\u65f6\u95f4\u6700\u957f\u7684\uff0c\u7136\u540e\u4f9d\u6b21\u9009\u62e9\u5904\u7406\u65f6\u95f4\u6b21\u957f\u7684\uff0c\u76f4\u5230\u6240\u6709\u7684\u4f5c\u4e1a\u5168\u90e8\u5904\u7406\u5b8c\u6bd5\uff0c\u6216\u8005\u673a\u5668\u4e0d\u80fd\u518d\u5904\u7406\u5176\u4ed6\u4f5c\u4e1a\u4e3a\u6b62\u3002\u5982\u679c\u6211\u4eec\u6bcf\u6b21\u662f\u5c06\u9700\u8981\u5904\u7406\u65f6\u95f4\u6700\u77ed\u7684\u4f5c\u4e1a\u5206\u914d\u7ed9\u7a7a\u95f2\u7684\u673a\u5668\uff0c\u90a3\u4e48\u53ef\u80fd\u5c31\u4f1a\u51fa\u73b0\u5176\u5b83\u6240\u6709\u4f5c\u4e1a\u90fd\u5904\u7406\u5b8c\u4e86\u53ea\u5269\u6240\u9700\u65f6\u95f4\u6700\u957f\u7684\u4f5c\u4e1a\u5728\u5904\u7406\u7684\u60c5\u51b5\uff0c\u8fd9\u6837\u52bf\u5fc5\u6548\u7387\u8f83\u4f4e\u3002\u5728\u4e0b\u9762\u7684\u4ee3\u7801\u4e2d\u6ca1\u6709\u8ba8\u8bban\u548cm\u7684\u5927\u5c0f\u5173\u7cfb\uff0c\u628a\u8fd9\u4e24\u79cd\u60c5\u51b5\u5408\u4e8c\u4e3a\u4e00\u4e86\u3002 #include <iostream> #include <algorithm> using namespace std ; int speed [ 10010 ]; int mintime [ 110 ]; bool cmp ( const int & x , const int & y ) { return x > y ; } int main () { int n , m ; memset ( speed , 0 , sizeof ( speed )); memset ( mintime , 0 , sizeof ( mintime )); cin >> n >> m ; for ( int i = 0 ; i < n ; ++ i ) cin >> speed [ i ]; sort ( speed , speed + n , cmp ); for ( int i = 0 ; i < n ; ++ i ) { * min_element ( mintime , mintime + m ) += speed [ i ]; } cout <<* max_element ( mintime , mintime + m ) << endl ; } 5.\u5c0f\u8239\u8fc7\u6cb3\u95ee\u9898 \u00b6 POJ1700\u662f\u4e00\u9053\u7ecf\u5178\u7684\u8d2a\u5fc3\u7b97\u6cd5\u4f8b\u9898\u3002\u9898\u76ee\u5927\u610f\u662f\u53ea\u6709\u4e00\u8258\u8239\uff0c\u80fd\u4e582\u4eba\uff0c\u8239\u7684\u8fd0\u884c\u901f\u5ea6\u4e3a2\u4eba\u4e2d\u8f83\u6162\u4e00\u4eba\u7684\u901f\u5ea6\uff0c\u8fc7\u53bb\u540e\u8fd8\u9700\u4e00\u4e2a\u4eba\u628a\u8239\u5212\u56de\u6765\uff0c\u95ee\u628an\u4e2a\u4eba\u8fd0\u5230\u5bf9\u5cb8\uff0c\u6700\u5c11\u9700\u8981\u591a\u4e45\u3002\u5148\u5c06\u6240\u6709\u4eba\u8fc7\u6cb3\u6240\u9700\u7684\u65f6\u95f4\u6309\u7167\u5347\u5e8f\u6392\u5e8f\uff0c\u6211\u4eec\u8003\u8651\u628a\u5355\u72ec\u8fc7\u6cb3\u6240\u9700\u8981\u65f6\u95f4\u6700\u591a\u7684\u4e24\u4e2a\u65c5\u884c\u8005\u9001\u5230\u5bf9\u5cb8\u53bb\uff0c\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a 1.\u6700\u5feb\u7684\u548c\u6b21\u5feb\u7684\u8fc7\u6cb3\uff0c\u7136\u540e\u6700\u5feb\u7684\u5c06\u8239\u5212\u56de\u6765\uff1b\u6b21\u6162\u7684\u548c\u6700\u6162\u7684\u8fc7\u6cb3\uff0c\u7136\u540e\u6b21\u5feb\u7684\u5c06\u8239\u5212\u56de\u6765\uff0c\u6240\u9700\u65f6\u95f4\u4e3a\uff1at[0]+2*t[1]+t[n-1]\uff1b 2.\u6700\u5feb\u7684\u548c\u6700\u6162\u7684\u8fc7\u6cb3\uff0c\u7136\u540e\u6700\u5feb\u7684\u5c06\u8239\u5212\u56de\u6765\uff0c\u6700\u5feb\u7684\u548c\u6b21\u6162\u7684\u8fc7\u6cb3\uff0c\u7136\u540e\u6700\u5feb\u7684\u5c06\u8239\u5212\u56de\u6765\uff0c\u6240\u9700\u65f6\u95f4\u4e3a\uff1a2*t[0]+t[n-2]+t[n-1]\u3002 \u7b97\u4e00\u4e0b\u5c31\u77e5\u9053\uff0c\u9664\u6b64\u4e4b\u5916\u7684\u5176\u5b83\u60c5\u51b5\u7528\u7684\u65f6\u95f4\u4e00\u5b9a\u66f4\u591a\u3002\u6bcf\u6b21\u90fd\u8fd0\u9001\u8017\u65f6\u6700\u957f\u7684\u4e24\u4eba\u800c\u4e0d\u5f71\u54cd\u5176\u5b83\u4eba\uff0c\u95ee\u9898\u5177\u6709\u8d2a\u5fc3\u5b50\u7ed3\u6784\u7684\u6027\u8d28\u3002 AC\u4ee3\u7801\uff1a #include <iostream> #include <algorithm> using namespace std ; int main () { int a [ 1000 ], t , n , sum ; scanf ( \"%d\" , & t ); while ( t -- ) { scanf ( \"%d\" , & n ); sum = 0 ; for ( int i = 0 ; i < n ; i ++ ) scanf ( \"%d\" , & a [ i ]); while ( n > 3 ) { sum = min ( sum + a [ 1 ] + a [ 0 ] + a [ n -1 ] + a [ 1 ], sum + a [ n -1 ] + a [ 0 ] + a [ n -2 ] + a [ 0 ]); n -= 2 ; } if ( n == 3 ) sum += a [ 0 ] + a [ 1 ] + a [ 2 ]; else if ( n == 2 ) sum += a [ 1 ]; else sum += a [ 0 ]; printf ( \"%d \\n \" , sum ); } } 6.\u533a\u95f4\u8986\u76d6\u95ee\u9898 \u00b6 POJ1328\u662f\u4e00\u9053\u7ecf\u5178\u7684\u8d2a\u5fc3\u7b97\u6cd5\u4f8b\u9898\u3002\u9898\u76ee\u5927\u610f\u662f\u5047\u8bbe\u6d77\u5cb8\u7ebf\u662f\u4e00\u6761\u65e0\u9650\u5ef6\u4f38\u7684\u76f4\u7ebf\u3002\u9646\u5730\u5728\u6d77\u5cb8\u7ebf\u7684\u4e00\u4fa7\uff0c\u800c\u6d77\u6d0b\u5728\u53e6\u4e00\u4fa7\u3002\u6bcf\u4e00\u4e2a\u5c0f\u7684\u5c9b\u5c7f\u662f\u6d77\u6d0b\u4e0a\u7684\u4e00\u4e2a\u70b9\u3002\u96f7\u8fbe\u5750\u843d\u4e8e\u6d77\u5cb8\u7ebf\u4e0a\uff0c\u53ea\u80fd\u8986\u76d6d\u8ddd\u79bb\uff0c\u6240\u4ee5\u5982\u679c\u5c0f\u5c9b\u80fd\u591f\u88ab\u8986\u76d6\u5230\u7684\u8bdd\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u8ddd\u79bb\u6700\u591a\u4e3ad\u3002\u9898\u76ee\u8981\u6c42\u8ba1\u7b97\u51fa\u80fd\u591f\u8986\u76d6\u7ed9\u51fa\u7684\u6240\u6709\u5c9b\u5c7f\u7684\u6700\u5c11\u96f7\u8fbe\u6570\u76ee\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u5c0f\u5c9b\uff0c\u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97\u51fa\u4e00\u4e2a\u96f7\u8fbe\u6240\u5728\u4f4d\u7f6e\u7684\u533a\u95f4\u3002 \u95ee\u9898\u8f6c\u5316\u4e3a\u5982\u4f55\u7528\u5c3d\u53ef\u80fd\u5c11\u7684\u70b9\u8986\u76d6\u8fd9\u4e9b\u533a\u95f4\u3002\u5148\u5c06\u6240\u6709\u533a\u95f4\u6309\u7167\u5de6\u7aef\u70b9\u5927\u5c0f\u6392\u5e8f\uff0c\u521d\u59cb\u65f6\u9700\u8981\u4e00\u4e2a\u70b9\u3002\u5982\u679c\u4e24\u4e2a\u533a\u95f4\u76f8\u4ea4\u800c\u4e0d\u91cd\u5408\uff0c\u6211\u4eec\u4ec0\u4e48\u90fd\u4e0d\u9700\u8981\u505a\uff1b\u5982\u679c\u4e00\u4e2a\u533a\u95f4\u5b8c\u5168\u5305\u542b\u4e8e\u53e6\u5916\u4e00\u4e2a\u533a\u95f4\uff0c\u6211\u4eec\u9700\u8981\u66f4\u65b0\u533a\u95f4\u7684\u53f3\u7aef\u70b9\uff1b\u5982\u679c\u4e24\u4e2a\u533a\u95f4\u4e0d\u76f8\u4ea4\uff0c\u6211\u4eec\u9700\u8981\u589e\u52a0\u70b9\u5e76\u66f4\u65b0\u53f3\u7aef\u70b9\u3002 AC\u4ee3\u7801\uff1a #include <cmath> #include <iostream> #include <algorithm> using namespace std ; struct Point { double x ; double y ; } point [ 1000 ]; int cmp ( const void * a , const void * b ) { return ( * ( Point * ) a ). x > ( * ( Point * ) b ). x ? 1 : -1 ; } int main () { int n , d ; int num = 1 ; while ( cin >> n >> d ) { int counting = 1 ; if ( n == 0 && d == 0 ) break ; for ( int i = 0 ; i < n ; i ++ ) { int x , y ; cin >> x >> y ; if ( y > d ) { counting = -1 ; } double t = sqrt ( d * d - y * y ); //\u8f6c\u5316\u4e3a\u6700\u5c11\u533a\u95f4\u7684\u95ee\u9898 point [ i ]. x = x - t ; //\u533a\u95f4\u5de6\u7aef\u70b9 point [ i ]. y = x + t ; //\u533a\u95f4\u53f3\u7aef\u70b9 } if ( counting != -1 ) { qsort ( point , n , sizeof ( point [ 0 ]), cmp ); //\u6309\u533a\u95f4\u5de6\u7aef\u70b9\u6392\u5e8f double s = point [ 0 ]. y ; //\u533a\u95f4\u53f3\u7aef\u70b9 for ( int i = 1 ; i < n ; i ++ ) { if ( point [ i ]. x > s ) //\u5982\u679c\u4e24\u4e2a\u533a\u95f4\u6ca1\u6709\u91cd\u5408,\u589e\u52a0\u96f7\u8fbe\u6570\u76ee\u5e76\u66f4\u65b0\u53f3\u7aef\u70b9 { counting ++ ; s = point [ i ]. y ; } else if ( point [ i ]. y < s ) //\u5982\u679c\u7b2c\u4e8c\u4e2a\u533a\u95f4\u88ab\u5b8c\u5168\u5305\u542b\u4e8e\u7b2c\u4e00\u4e2a\u533a\u95f4,\u66f4\u65b0\u53f3\u7aef\u70b9 { s = point [ i ]. y ; } } } cout << \"Case \" << num << ':' << ' ' << counting << endl ; num ++ ; } } 7.\u9500\u552e\u6bd4\u8d5b \u00b6 \u5728\u5b66\u6821OJ\u4e0a\u505a\u7684\u4e00\u9053\u6bd4\u8f83\u597d\u7684\u9898\uff0c\u8fd9\u91cc\u7801\u4e00\u4e0b\u3002\u5047\u8bbe\u6709\u5076\u6570\u5929\uff0c\u8981\u6c42\u6bcf\u5929\u5fc5\u987b\u4e70\u4e00\u4ef6\u7269\u54c1\u6216\u8005\u5356\u4e00\u4ef6\u7269\u54c1\uff0c\u53ea\u80fd\u9009\u62e9\u4e00\u79cd\u64cd\u4f5c\u5e76\u4e14\u4e0d\u80fd\u4e0d\u9009\uff0c\u5f00\u59cb\u624b\u4e0a\u6ca1\u6709\u8fd9\u79cd\u7269\u54c1\u3002\u73b0\u5728\u7ed9\u4f60\u6bcf\u5929\u7684\u7269\u54c1\u4ef7\u683c\u8868\uff0c\u8981\u6c42\u8ba1\u7b97\u6700\u5927\u6536\u76ca\u3002\u9996\u5148\u8981\u660e\u767d\uff0c\u7b2c\u4e00\u5929\u5fc5\u987b\u4e70\uff0c\u6700\u540e\u4e00\u5929\u5fc5\u987b\u5356\uff0c\u5e76\u4e14\u6700\u540e\u624b\u4e0a\u6ca1\u6709\u7269\u54c1\u3002\u90a3\u4e48\u9664\u4e86\u7b2c\u4e00\u5929\u548c\u6700\u540e\u4e00\u5929\u4e4b\u5916\u6211\u4eec\u6bcf\u6b21\u53d6\u4e24\u5929\uff0c\u5c0f\u7684\u4e70\u5927\u7684\u5356\uff0c\u5e76\u4e14\u628a\u5356\u7684\u4ef7\u683c\u653e\u8fdb\u4e00\u4e2a\u6700\u5c0f\u5806\u3002\u5982\u679c\u4e70\u7684\u4ef7\u683c\u6bd4\u5806\u9876\u8fd8\u5927\uff0c\u5c31\u4ea4\u6362\u3002\u8fd9\u6837\u6211\u4eec\u4fdd\u8bc1\u4e86\u5356\u7684\u4ef7\u683c\u603b\u662f\u5927\u4e8e\u4e70\u7684\u4ef7\u683c\uff0c\u4e00\u5b9a\u80fd\u53d6\u5f97\u6700\u5927\u6536\u76ca\u3002 #include <queue> #include <vector> #include <cstdio> #include <cstdlib> #include <cstring> #include <iostream> #include <algorithm> using namespace std ; long long int price [ 100010 ], t , n , res ; int main () { ios :: sync_with_stdio ( false ); cin >> t ; while ( t -- ) { cin >> n ; priority_queue < long long int , vector < long long int > , greater < long long int > > q ; res = 0 ; for ( int i = 1 ; i <= n ; i ++ ) { cin >> price [ i ]; } res -= price [ 1 ]; res += price [ n ]; for ( int i = 2 ; i <= n -1 ; i = i + 2 ) { long long int buy = min ( price [ i ], price [ i + 1 ]); long long int sell = max ( price [ i ], price [ i + 1 ]); if ( ! q . empty ()) { if ( buy > q . top ()) { res = res -2 * q . top () + buy + sell ; q . pop (); q . push ( buy ); q . push ( sell ); } else { res = res - buy + sell ; q . push ( sell ); } } else { res = res - buy + sell ; q . push ( sell ); } } cout << res << endl ; } } \u4e0b\u9762\u6211\u4eec\u7ed3\u5408\u6570\u636e\u7ed3\u6784\u4e2d\u7684\u77e5\u8bc6\u8bb2\u89e3\u51e0\u4e2a\u4f8b\u5b50\u3002 8.Huffman\u7f16\u7801 \u00b6 \u8fd9\u540c\u6837\u662f\u300a\u7b97\u6cd5\u5bfc\u8bba\u300b\u4e0a\u7684\u4f8b\u5b50\u3002Huffman\u7f16\u7801\u662f\u5e7f\u6cdb\u7528\u4e8e\u6570\u636e\u6587\u4ef6\u538b\u7f29\u7684\u5341\u5206\u6709\u6548\u7684\u7f16\u7801\u65b9\u6cd5\u3002\u6211\u4eec\u53ef\u4ee5\u6709\u591a\u79cd\u65b9\u5f0f\u8868\u793a\u6587\u4ef6\u4e2d\u7684\u4fe1\u606f\uff0c\u5982\u679c\u752801\u4e32\u8868\u793a\u5b57\u7b26\uff0c\u91c7\u7528\u5b9a\u957f\u7f16\u7801\u8868\u793a\uff0c\u5219\u9700\u89813\u4f4d\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\uff0c\u6574\u4e2a\u6587\u4ef6\u7f16\u7801\u9700\u8981300000\u4f4d\uff1b\u91c7\u7528\u53d8\u957f\u7f16\u7801\u8868\u793a\uff0c\u7ed9\u9891\u7387\u9ad8\u7684\u5b57\u7b26\u8f83\u77ed\u7684\u7f16\u7801\uff0c\u9891\u7387\u4f4e\u7684\u5b57\u7b26\u8f83\u957f\u7684\u7f16\u7801\uff0c\u8fbe\u5230\u6574\u4f53\u7f16\u7801\u51cf\u5c11\u7684\u76ee\u7684\uff0c\u5219\u6574\u4e2a\u6587\u4ef6\u7f16\u7801\u9700\u8981(45\u00d71+13\u00d73+12\u00d73+16\u00d73+9\u00d74+5\u00d74)\u00d71000=224000\u4f4d\uff0c\u7531\u6b64\u53ef\u89c1\uff0c\u53d8\u957f\u7801\u6bd4\u5b9a\u957f\u7801\u65b9\u6848\u597d\uff0c\u603b\u7801\u957f\u51cf\u5c0f\u7ea625%\u3002 \u5bf9\u6bcf\u4e00\u4e2a\u5b57\u7b26\u89c4\u5b9a\u4e00\u4e2a01\u4e32\u4f5c\u4e3a\u5176\u4ee3\u7801\uff0c\u5e76\u8981\u6c42\u4efb\u4e00\u5b57\u7b26\u7684\u4ee3\u7801\u90fd\u4e0d\u662f\u5176\u4ed6\u5b57\u7b26\u4ee3\u7801\u7684\u524d\u7f00\uff0c\u8fd9\u79cd\u7f16\u7801\u79f0\u4e3a\u524d\u7f00\u7801\u3002\u53ef\u80fd\u65e0\u524d\u7f00\u7801\u662f\u4e00\u4e2a\u66f4\u597d\u7684\u540d\u5b57\uff0c\u4f46\u662f\u524d\u7f00\u7801\u662f\u4e00\u81f4\u8ba4\u53ef\u7684\u6807\u51c6\u672f\u8bed\u3002\u7f16\u7801\u7684\u524d\u7f00\u6027\u8d28\u53ef\u4ee5\u4f7f\u8bd1\u7801\u975e\u5e38\u7b80\u5355\uff1a\u4f8b\u5982001011101\u53ef\u4ee5\u552f\u4e00\u7684\u5206\u89e3\u4e3a0,0,101,1101\uff0c\u56e0\u800c\u5176\u8bd1\u7801\u4e3aaabe\u3002\u8bd1\u7801\u8fc7\u7a0b\u9700\u8981\u65b9\u4fbf\u7684\u53d6\u51fa\u7f16\u7801\u7684\u524d\u7f00\uff0c\u4e3a\u6b64\u53ef\u4ee5\u7528\u4e8c\u53c9\u6811\u4f5c\u4e3a\u524d\u7f00\u7801\u7684\u6570\u636e\u7ed3\u6784\uff1a\u6811\u53f6\u8868\u793a\u7ed9\u5b9a\u5b57\u7b26\uff1b\u4ece\u6811\u6839\u5230\u6811\u53f6\u7684\u8def\u5f84\u5f53\u4f5c\u8be5\u5b57\u7b26\u7684\u524d\u7f00\u7801\uff1b\u4ee3\u7801\u4e2d\u6bcf\u4e00\u4f4d\u76840\u62161\u5206\u522b\u4f5c\u4e3a\u6307\u793a\u67d0\u8282\u70b9\u5230\u5de6\u513f\u5b50\u6216\u53f3\u513f\u5b50\u7684\u8def\u6807\u3002 \u4ece\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff0c\u6700\u4f18\u524d\u7f00\u7f16\u7801\u7801\u7684\u4e8c\u53c9\u6811\u603b\u662f\u4e00\u68f5\u5b8c\u5168\u4e8c\u53c9\u6811\uff0c\u800c\u5b9a\u957f\u7f16\u7801\u7684\u4e8c\u53c9\u6811\u4e0d\u662f\u4e00\u68f5\u5b8c\u5168\u4e8c\u53c9\u6811\u3002 \u7ed9\u5b9a\u7f16\u7801\u5b57\u7b26\u96c6C\u53ca\u9891\u7387\u5206\u5e03f\uff0cC\u7684\u4e00\u4e2a\u524d\u7f00\u7801\u7f16\u7801\u65b9\u6848\u5bf9\u5e94\u4e8e\u4e00\u68f5\u4e8c\u53c9\u6811T\u3002\u5b57\u7b26c\u5728\u6811T\u4e2d\u7684\u6df1\u5ea6\u8bb0\u4e3adT\u00a9\uff0cdT\u00a9\u4e5f\u662f\u5b57\u7b26c\u7684\u524d\u7f00\u7801\u957f\u3002\u5219\u5e73\u5747\u7801\u957f\u5b9a\u4e49\u4e3a\uff1a \u4f7f\u5e73\u5747\u7801\u957f\u8fbe\u5230\u6700\u5c0f\u7684\u524d\u7f00\u7801\u7f16\u7801\u65b9\u6848\u79f0\u4e3aC\u7684\u6700\u4f18\u524d\u7f00\u7801\u3002 Huffman\u7f16\u7801\u7684\u6784\u9020\u65b9\u6cd5\uff1a\u5148\u5408\u5e76\u6700\u5c0f\u9891\u7387\u76842\u4e2a\u5b57\u7b26\u5bf9\u5e94\u7684\u5b50\u6811\uff0c\u8ba1\u7b97\u5408\u5e76\u540e\u7684\u5b50\u6811\u7684\u9891\u7387\uff1b\u91cd\u65b0\u6392\u5e8f\u5404\u4e2a\u5b50\u6811\uff1b\u5bf9\u4e0a\u8ff0\u6392\u5e8f\u540e\u7684\u5b50\u6811\u5e8f\u5217\u8fdb\u884c\u5408\u5e76\uff1b\u91cd\u590d\u4e0a\u8ff0\u8fc7\u7a0b\uff0c\u5c06\u5168\u90e8\u7ed3\u70b9\u5408\u5e76\u62101\u68f5\u5b8c\u6574\u7684\u4e8c\u53c9\u6811\uff1b\u5bf9\u4e8c\u53c9\u6811\u4e2d\u7684\u8fb9\u8d4b\u4e880\u30011\uff0c\u5f97\u5230\u5404\u5b57\u7b26\u7684\u53d8\u957f\u7f16\u7801\u3002 POJ3253\u4e00\u9053\u5c31\u662f\u5229\u7528\u8fd9\u4e00\u601d\u60f3\u7684\u5178\u578b\u4f8b\u9898\u3002\u9898\u76ee\u5927\u610f\u662f\u6709\u628a\u4e00\u5757\u65e0\u9650\u957f\u7684\u6728\u677f\u952f\u6210\u51e0\u5757\u7ed9\u5b9a\u957f\u5ea6\u7684\u5c0f\u6728\u677f\uff0c\u6bcf\u6b21\u952f\u90fd\u9700\u8981\u4e00\u5b9a\u8d39\u7528\uff0c\u8d39\u7528\u5c31\u662f\u5f53\u524d\u952f\u7684\u6728\u677f\u7684\u957f\u5ea6\u3002\u7ed9\u5b9a\u5404\u4e2a\u8981\u6c42\u7684\u5c0f\u6728\u677f\u7684\u957f\u5ea6\u4ee5\u53ca\u5c0f\u6728\u677f\u7684\u4e2a\u6570\uff0c\u6c42\u6700\u5c0f\u7684\u8d39\u7528\u3002\u4ee5\u8981\u6c423\u5757\u957f\u5ea6\u5206\u522b\u4e3a5,8,5\u7684\u6728\u677f\u4e3a\u4f8b\uff1a\u5148\u4ece\u65e0\u9650\u957f\u7684\u6728\u677f\u4e0a\u952f\u4e0b\u957f\u5ea6\u4e3a21\u7684\u6728\u677f\uff0c\u82b1\u8d3921\uff1b\u518d\u4ece\u957f\u5ea6\u4e3a21\u7684\u6728\u677f\u4e0a\u952f\u4e0b\u957f\u5ea6\u4e3a5\u7684\u6728\u677f\uff0c\u82b1\u8d395\uff1b\u518d\u4ece\u957f\u5ea6\u4e3a16\u7684\u6728\u677f\u4e0a\u952f\u4e0b\u957f\u5ea6\u4e3a8\u7684\u6728\u677f\uff0c\u82b1\u8d398\uff1b\u603b\u82b1\u8d39=21+5+8=34\u3002\u5229\u7528Huffman\u601d\u60f3\uff0c\u8981\u4f7f\u603b\u8d39\u7528\u6700\u5c0f\uff0c\u90a3\u4e48\u6bcf\u6b21\u53ea\u9009\u53d6\u6700\u5c0f\u957f\u5ea6\u7684\u4e24\u5757\u6728\u677f\u76f8\u52a0\uff0c\u518d\u628a\u8fd9\u4e9b\u548c\u7d2f\u52a0\u5230\u603b\u8d39\u7528\u4e2d\u5373\u53ef\u3002\u4e3a\u4e86\u63d0\u9ad8\u6548\u7387\uff0c\u4f7f\u7528\u4f18\u5148\u961f\u5217\u4f18\u5316\uff0c\u5e76\u4e14\u8fd8\u8981\u6ce8\u610f\u4f7f\u7528long long int\u4fdd\u5b58\u7ed3\u679c\u3002 AC\u4ee3\u7801\uff1a #include <queue> #include <cstdio> #include <iostream> using namespace std ; int main () { long long int sum ; int i , n , t , a , b ; while ( ~ scanf ( \"%d\" , & n )) { priority_queue < int , vector < int > , greater < int > > q ; for ( i = 0 ; i < n ; i ++ ) { scanf ( \"%d\" , & t ); q . push ( t ); } sum = 0 ; if ( q . size () == 1 ) { a = q . top (); sum += a ; q . pop (); } while ( q . size () > 1 ) { a = q . top (); q . pop (); b = q . top (); q . pop (); t = a + b ; sum += t ; q . push ( t ); } printf ( \"%lld \\n \" , sum ); } } 9.Dijkstra\u7b97\u6cd5 \u00b6 Dijkstra\u7b97\u6cd5\u662f\u7531E.W.Dijkstra\u4e8e1959\u5e74\u63d0\u51fa\uff0c\u662f\u76ee\u524d\u516c\u8ba4\u7684\u6700\u597d\u7684\u6c42\u89e3\u6700\u77ed\u8def\u5f84\u7684\u65b9\u6cd5\uff0c\u4f7f\u7528\u7684\u6761\u4ef6\u662f\u56fe\u4e2d\u4e0d\u80fd\u5b58\u5728\u8d1f\u8fb9\u3002\u7b97\u6cd5\u89e3\u51b3\u7684\u662f\u5355\u4e2a\u6e90\u70b9\u5230\u5176\u4ed6\u9876\u70b9\u7684\u6700\u77ed\u8def\u5f84\u95ee\u9898\uff0c\u5176\u4e3b\u8981\u7279\u70b9\u662f\u6bcf\u6b21\u8fed\u4ee3\u65f6\u9009\u62e9\u7684\u4e0b\u4e00\u4e2a\u9876\u70b9\u662f\u6807\u8bb0\u70b9\u4e4b\u5916\u8ddd\u79bb\u6e90\u70b9\u6700\u8fd1\u7684\u9876\u70b9\uff0c\u7b80\u5355\u7684\u8bf4\u5c31\u662fbfs+\u8d2a\u5fc3\u7b97\u6cd5\u7684\u601d\u60f3\u3002 #include <iostream> #include <algorithm> #define INF 1000 #define MAX_V 100 using namespace std ; int main () { int V , E ; int i , j , m , n ; int cost [ MAX_V ][ MAX_V ]; int d [ MAX_V ]; bool used [ MAX_V ]; cin >> V >> E ; fill ( d , d + V + 1 , INF ); fill ( used , used + V , false ); for ( i = 0 ; i < V ; i ++ ) { for ( j = 0 ; j < V ; j ++ ) { if ( i == j ) cost [ i ][ j ] = 0 ; else cost [ i ][ j ] = INF ; } } for ( m = 0 ; m < E ; m ++ ) { cin >> i >> j >> cost [ i ][ j ]; cost [ j ][ i ] = cost [ i ][ j ]; } cin >> n ; d [ n ] = 0 ; //\u6e90\u70b9 while ( true ) { int v = V ; for ( m = 0 ; m < V ; m ++ ) { if (( ! used [ m ]) && ( d [ m ] < d [ v ])) v = m ; } if ( v == V ) break ; used [ v ] = true ; for ( m = 0 ; m < V ; m ++ ) { d [ m ] = min ( d [ m ], d [ v ] + cost [ v ][ m ]); } } for ( i = 0 ; i < V ; i ++ ) { cout << \"the shortest distance between \" << n << \" and \" << i << \" is \" << d [ i ] << endl ; } } 10.\u6700\u5c0f\u751f\u6210\u6811\u7b97\u6cd5 \u00b6 \u8bbe\u4e00\u4e2a\u7f51\u7edc\u8868\u793a\u4e3a\u65e0\u5411\u8fde\u901a\u5e26\u6743\u56feG =(V, E) , E\u4e2d\u6bcf\u6761\u8fb9(v,w)\u7684\u6743\u4e3ac[v][w]\u3002\u5982\u679cG\u7684\u5b50\u56feG\u2019\u662f\u4e00\u68f5\u5305\u542bG\u7684\u6240\u6709\u9876\u70b9\u7684\u6811\uff0c\u5219\u79f0G\u2019\u4e3aG\u7684\u751f\u6210\u6811\u3002\u751f\u6210\u6811\u7684\u4ee3\u4ef7\u662f\u6307\u751f\u6210\u6811\u4e0a\u5404\u8fb9\u6743\u7684\u603b\u548c\uff0c\u5728G\u7684\u6240\u6709\u751f\u6210\u6811\u4e2d\uff0c\u8017\u8d39\u6700\u5c0f\u7684\u751f\u6210\u6811\u79f0\u4e3aG\u7684\u6700\u5c0f\u751f\u6210\u6811\u3002\u4f8b\u5982\u5728\u8bbe\u8ba1\u901a\u4fe1\u7f51\u7edc\u65f6\uff0c\u7528\u56fe\u7684\u9876\u70b9\u8868\u793a\u57ce\u5e02\uff0c\u7528\u8fb9(v,w)\u7684\u6743c[v][w]\u8868\u793a\u5efa\u7acb\u57ce\u5e02v\u548c\u57ce\u5e02w\u4e4b\u95f4\u7684\u901a\u4fe1\u7ebf\u8def\u6240\u9700\u7684\u8d39\u7528\uff0c\u6700\u5c0f\u751f\u6210\u6811\u7ed9\u51fa\u5efa\u7acb\u901a\u4fe1\u7f51\u7edc\u7684\u6700\u7ecf\u6d4e\u65b9\u6848\u3002 \u6784\u9020\u6700\u5c0f\u751f\u6210\u6811\u7684Kruskal\u7b97\u6cd5\u548cPrim\u7b97\u6cd5\u90fd\u5229\u7528\u4e86MST(\u6700\u5c0f\u751f\u6210\u6811)\u6027\u8d28\uff1a\u8bbe\u9876\u70b9\u96c6U\u662fV\u7684\u771f\u5b50\u96c6(\u53ef\u4ee5\u4efb\u610f\u9009\u53d6)\uff0c\u5982\u679c(u,v)\u2208E\u4e3a\u6a2a\u8de8\u70b9\u96c6U\u548cV\u2014U\u7684\u8fb9\uff0c\u5373u\u2208U\uff0cv\u2208V- U\uff0c\u5e76\u4e14\u5728\u6240\u6709\u8fd9\u6837\u7684\u8fb9\u4e2d\uff0c(u,v)\u7684\u6743c[u][v]\u6700\u5c0f\uff0c\u5219\u4e00\u5b9a\u5b58\u5728G\u7684\u4e00\u68f5\u6700\u5c0f\u751f\u6210\u6811\uff0c\u5b83\u4ee5(u,v)\u4e3a\u5176\u4e2d\u4e00\u6761\u8fb9\u3002 \u4f7f\u7528\u53cd\u8bc1\u6cd5\u53ef\u4ee5\u5f88\u7b80\u5355\u7684\u8bc1\u660e\u6b64\u6027\u8d28\u3002\u5047\u8bbe\u5bf9G\u7684\u4efb\u610f\u4e00\u4e2a\u6700\u5c0f\u751f\u6210\u6811T\uff0c\u9488\u5bf9\u70b9\u96c6U\u548cV\u2014U\uff0c(u,v)\u2208E\u4e3a\u6a2a\u8de8\u8fd92\u4e2a\u70b9\u96c6\u7684\u6700\u5c0f\u6743\u8fb9\uff0cT\u4e0d\u5305\u542b\u8be5\u6700\u5c0f\u6743\u8fb9 \uff0c\u4f46T\u5305\u62ec\u8282\u70b9u\u548cv\u3002\u5c06 \u6dfb\u52a0\u5230\u6811T\u4e2d\uff0c\u6811T\u5c06\u53d8\u4e3a\u542b\u56de\u8def\u7684\u5b50\u56fe\uff0c\u5e76\u4e14\u8be5\u56de\u8def\u4e0a\u6709\u4e00\u6761\u4e0d\u540c\u4e8e \u7684\u8fb9 ,u\u2019\u2208U,v\u2019\u2208V-U\u3002\u5c06 \u5220\u53bb\uff0c\u5f97\u5230\u53e6\u4e00\u4e2a\u6811T\u2019\uff0c\u5373\u6811T\u2019\u662f\u901a\u8fc7\u5c06T\u4e2d\u7684\u8fb9 \u66ff\u6362\u4e3a \u5f97\u5230\u7684\u3002\u7531\u4e8e\u8fd92\u6761\u8fb9\u7684\u8017\u8d39\u6ee1\u8db3c[u][v]\u2264c[u\u2019][v\u2019]\uff0c\u6545\u5373T\u2019\u8017\u8d39\u2264T\u7684\u8017\u8d39\uff0c\u8fd9\u4e0eT\u662f\u4efb\u610f\u6700\u5c0f\u751f\u6210\u6811\u7684\u5047\u8bbe\u76f8\u77db\u76fe\uff0c\u4ece\u800c\u5f97\u8bc1\u3002 Prim\u7b97\u6cd5\u6bcf\u4e00\u6b65\u90fd\u9009\u62e9\u8fde\u63a5U\u548cV-U\u7684\u6743\u503c\u6700\u5c0f\u7684\u8fb9\u52a0\u5165\u751f\u6210\u6811\u3002 #include <iostream> #include <algorithm> #define MAX_V 100 #define INF 1000 using namespace std ; int main () { int V , E ; int i , j , m , n ; int cost [ MAX_V ][ MAX_V ]; int mincost [ MAX_V ]; bool used [ MAX_V ]; cin >> V >> E ; fill ( mincost , mincost + V + 1 , INF ); fill ( used , used + V , false ); for ( i = 0 ; i < V ; i ++ ) { for ( j = 0 ; j < V ; j ++ ) { if ( i == j ) cost [ i ][ j ] = 0 ; else cost [ i ][ j ] = INF ; } } for ( m = 0 ; m < E ; m ++ ) { cin >> i >> j >> cost [ i ][ j ]; cost [ j ][ i ] = cost [ i ][ j ]; } mincost [ 0 ] = 0 ; int res = 0 ; while ( true ) { int v = V ; for ( m = 0 ; m < V ; m ++ ) { if (( ! used [ m ]) && ( mincost [ m ] < mincost [ v ])) v = m ; } if ( v == V ) break ; used [ v ] = true ; res += mincost [ v ]; for ( m = 0 ; m < V ; m ++ ) { mincost [ m ] = min ( mincost [ m ], cost [ v ][ m ]); } } cout << res << endl ; } Kruskal\u7b97\u6cd5\u6bcf\u4e00\u6b65\u76f4\u63a5\u5c06\u6743\u503c\u6700\u5c0f\u7684\u4e0d\u6210\u73af\u7684\u8fb9\u52a0\u5165\u751f\u6210\u6811\uff0c\u6211\u4eec\u501f\u52a9\u5e76\u67e5\u96c6\u8fd9\u4e00\u6570\u636e\u7ed3\u6784\u53ef\u4ee5\u5b8c\u7f8e\u5b9e\u73b0\u5b83\u3002 #include <iostream> #include <algorithm> #define MAX_E 100 using namespace std ; struct edge { int u , v , cost ; }; int pre [ MAX_E ]; edge es [ MAX_E ]; int find ( int x ); void initvalue ( int x ); bool same ( int x , int y ); void unite ( int x , int y ); bool comp ( const edge & e1 , const edge & e2 ); int main () { int V , E ; int i , j , m , n ; cin >> V >> E ; initvalue ( V ); for ( i = 0 ; i < E ; i ++ ) cin >> es [ i ]. u >> es [ i ]. v >> es [ i ]. cost ; sort ( es , es + E , comp ); int res = 0 ; for ( i = 0 ; i < E ; i ++ ) { edge e = es [ i ]; if ( ! same ( e . u , e . v )) { unite ( e . u , e . v ); res += e . cost ; } } cout << res << endl ; } bool comp ( const edge & e1 , const edge & e2 ) { return e1 . cost < e2 . cost ; } void initvalue ( int x ) { for ( int i = 0 ; i < x ; i ++ ) pre [ i ] = i ; } int find ( int x ) { int r = x ; while ( pre [ r ] != r ) r = pre [ r ]; int i = x , j ; while ( pre [ i ] != r ) { j = pre [ i ]; pre [ i ] = r ; i = j ; } return r ; } bool same ( int x , int y ) { if ( find ( x ) == find ( y )) return true ; else return false ; } void unite ( int x , int y ) { int fx = find ( x ); int fy = find ( y ); if ( fx != fy ) pre [ fx ] = fy ; }","title":"\u8d2a\u5fc3\u7b97\u6cd5.md"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#_1","text":"\u8d2a\u5fc3\u7b97\u6cd5\uff08\u53c8\u79f0\u8d2a\u5a6a\u7b97\u6cd5\uff09\u662f\u6307\uff0c\u6c42\u89e3\u65f6\uff0c\u603b\u662f\u505a\u51fa\u5728\u5f53\u524d\u770b\u6765\u662f\u6700\u597d\u7684\u9009\u62e9\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u4ece\u6574\u4f53\u6700\u4f18\u4e0a\u52a0\u4ee5\u8003\u8651\uff0c\u7b97\u6cd5\u5f97\u5230\u7684\u662f\u5728\u67d0\u79cd\u610f\u4e49\u4e0a\u7684\u5c40\u90e8\u6700\u4f18\u89e3\u3002 \u8d2a\u5fc3\u7b97\u6cd5\u4e0d\u662f\u5bf9\u6240\u6709\u95ee\u9898\u90fd\u80fd\u5f97\u5230\u6574\u4f53\u6700\u4f18\u89e3\uff0c\u5173\u952e\u662f\u8d2a\u5fc3\u7b56\u7565\u7684\u9009\u62e9\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u4ece\u6574\u4f53\u6700\u4f18\u4e0a\u52a0\u4ee5\u8003\u8651\uff0c\u505a\u51fa\u7684\u53ea\u662f\u5728\u67d0\u79cd\u610f\u4e49\u4e0a\u7684\u5c40\u90e8\u6700\u4f18\u89e3\u3002","title":"\u8d2a\u5fc3\u7b97\u6cd5"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#_2","text":"\u8d2a\u5fc3\u7b97\u6cd5\u4e00\u822c\u6309\u5982\u4e0b\u6b65\u9aa4\u8fdb\u884c\uff1a \u2460\u5efa\u7acb\u6570\u5b66\u6a21\u578b\u6765\u63cf\u8ff0\u95ee\u9898\u3002 \u2461\u628a\u6c42\u89e3\u7684\u95ee\u9898\u5206\u6210\u82e5\u5e72\u4e2a\u5b50\u95ee\u9898\u3002 \u2462\u5bf9\u6bcf\u4e2a\u5b50\u95ee\u9898\u6c42\u89e3\uff0c\u5f97\u5230\u5b50\u95ee\u9898\u7684\u5c40\u90e8\u6700\u4f18\u89e3\u3002 \u2463\u628a\u5b50\u95ee\u9898\u7684\u89e3\u5c40\u90e8\u6700\u4f18\u89e3\u5408\u6210\u539f\u6765\u89e3\u95ee\u9898\u7684\u4e00\u4e2a\u89e3\u3002 \u8d2a\u5fc3\u7b97\u6cd5\u662f\u4e00\u79cd\u5bf9\u67d0\u4e9b\u6c42\u6700\u4f18\u89e3\u95ee\u9898\u7684\u66f4\u7b80\u5355\u3001\u66f4\u8fc5\u901f\u7684\u8bbe\u8ba1\u6280\u672f\u3002\u8d2a\u5fc3\u7b97\u6cd5\u7684\u7279\u70b9\u662f\u4e00\u6b65\u4e00\u6b65\u5730\u8fdb\u884c\uff0c\u5e38\u4ee5\u5f53\u524d\u60c5\u51b5\u4e3a\u57fa\u7840\u6839\u636e\u67d0\u4e2a\u4f18\u5316\u6d4b\u5ea6\u4f5c\u6700\u4f18\u9009\u62e9\uff0c\u800c\u4e0d\u8003\u8651\u5404\u79cd\u53ef\u80fd\u7684\u6574\u4f53\u60c5\u51b5\uff0c\u7701\u53bb\u4e86\u4e3a\u627e\u6700\u4f18\u89e3\u8981\u7a77\u5c3d\u6240\u6709\u53ef\u80fd\u800c\u5fc5\u987b\u8017\u8d39\u7684\u5927\u91cf\u65f6\u95f4\u3002\u8d2a\u5fc3\u7b97\u6cd5\u91c7\u7528\u81ea\u9876\u5411\u4e0b\uff0c\u4ee5\u8fed\u4ee3\u7684\u65b9\u6cd5\u505a\u51fa\u76f8\u7ee7\u7684\u8d2a\u5fc3\u9009\u62e9\uff0c\u6bcf\u505a\u4e00\u6b21\u8d2a\u5fc3\u9009\u62e9\uff0c\u5c31\u5c06\u6240\u6c42\u95ee\u9898\u7b80\u5316\u4e3a\u4e00\u4e2a\u89c4\u6a21\u66f4\u5c0f\u7684\u5b50\u95ee\u9898\uff0c\u901a\u8fc7\u6bcf\u4e00\u6b65\u8d2a\u5fc3\u9009\u62e9\uff0c\u53ef\u5f97\u5230\u95ee\u9898\u7684\u4e00\u4e2a\u6700\u4f18\u89e3\u3002\u867d\u7136\u6bcf\u4e00\u6b65\u4e0a\u90fd\u8981\u4fdd\u8bc1\u80fd\u83b7\u5f97\u5c40\u90e8\u6700\u4f18\u89e3\uff0c\u4f46\u7531\u6b64\u4ea7\u751f\u7684\u5168\u5c40\u89e3\u6709\u65f6\u4e0d\u4e00\u5b9a\u662f\u6700\u4f18\u7684\uff0c\u6240\u4ee5\u8d2a\u5fc3\u7b97\u6cd5\u4e0d\u8981\u56de\u6eaf\u3002","title":"\u7b97\u6cd5\u601d\u8def"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#_3","text":"\u8d2a\u5fc3\u7b97\u6cd5\u53ef\u89e3\u51b3\u7684\u95ee\u9898\u901a\u5e38\u5927\u90e8\u5206\u90fd\u6709\u5982\u4e0b\u7684\u7279\u6027\uff1a 1\u3001\u6709\u4e00\u4e2a\u4ee5\u6700\u4f18\u65b9\u5f0f\u6765\u89e3\u51b3\u7684\u95ee\u9898\u3002\u4e3a\u4e86\u6784\u9020\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u6709\u4e00\u4e2a\u5019\u9009\u7684\u5bf9\u8c61\u7684\u96c6\u5408\uff1a\u6bd4\u5982\u4e0d\u540c\u9762\u503c\u7684\u786c\u5e01\u3002 2\u3001\u968f\u7740\u7b97\u6cd5\u7684\u8fdb\u884c\uff0c\u5c06\u79ef\u7d2f\u8d77\u5176\u4ed6\u4e24\u4e2a\u96c6\u5408\uff1a\u4e00\u4e2a\u5305\u542b\u5df2\u7ecf\u88ab\u8003\u8651\u8fc7\u5e76\u88ab\u9009\u51fa\u7684\u5019\u9009\u5bf9\u8c61\uff0c\u53e6\u4e00\u4e2a\u5305\u542b\u5df2\u7ecf\u88ab\u8003\u8651\u8fc7\u4f46\u88ab\u4e22\u5f03\u7684\u5019\u9009\u5bf9\u8c61\u3002 3\u3001\u6709\u4e00\u4e2a\u51fd\u6570\u6765\u68c0\u67e5\u4e00\u4e2a\u5019\u9009\u5bf9\u8c61\u7684\u96c6\u5408\u662f\u5426\u63d0\u4f9b\u4e86\u95ee\u9898\u7684\u89e3\u7b54\u3002\u8be5\u51fd\u6570\u4e0d\u8003\u8651\u6b64\u65f6\u7684\u89e3\u51b3\u65b9\u6cd5\u662f\u5426\u6700\u4f18\u3002 4\u3001\u8fd8\u6709\u4e00\u4e2a\u51fd\u6570\u68c0\u67e5\u662f\u5426\u4e00\u4e2a\u5019\u9009\u5bf9\u8c61\u7684\u96c6\u5408\u662f\u53ef\u884c\u7684\uff0c\u5373\u662f\u5426\u53ef\u80fd\u5f80\u8be5\u96c6\u5408\u4e0a\u6dfb\u52a0\u66f4\u591a\u7684\u5019\u9009\u5bf9\u8c61\u4ee5\u83b7\u5f97\u4e00\u4e2a\u89e3\u3002\u548c\u4e0a\u4e00\u4e2a\u51fd\u6570\u4e00\u6837\uff0c\u6b64\u65f6\u4e0d\u8003\u8651\u89e3\u51b3\u65b9\u6cd5\u7684\u6700\u4f18\u6027\u3002 5\u3001\u9009\u62e9\u51fd\u6570\u53ef\u4ee5\u6307\u51fa\u54ea\u4e00\u4e2a\u5269\u4f59\u7684\u5019\u9009\u5bf9\u8c61\u6700\u6709\u5e0c\u671b\u6784\u6210\u95ee\u9898\u7684\u89e3\u3002 6\u3001\u6700\u540e\uff0c\u76ee\u6807\u51fd\u6570\u7ed9\u51fa\u89e3\u7684\u503c\u3002","title":"\u7b97\u6cd5\u7279\u6027"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#_4","text":"\u8d2a\u5fc3\u7b97\u6cd5\u6ca1\u6709\u56fa\u5b9a\u7684\u7b97\u6cd5\u6846\u67b6\uff0c\u7b97\u6cd5\u8bbe\u8ba1\u7684\u5173\u952e\u662f\u8d2a\u5fc3\u7b56\u7565\u7684\u9009\u62e9\u3002**\u8d2a\u5fc3\u7b56\u7565\u9002\u7528\u7684\u524d\u63d0\u662f\uff1a\u5c40\u90e8\u6700\u4f18\u7b56\u7565\u80fd\u5bfc\u81f4\u4ea7\u751f\u5168\u5c40\u6700\u4f18\u89e3\u3002**\u5b9e\u9645\u4e0a\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u9002\u7528\u7684\u60c5\u51b5\u5f88\u5c11\u3002\u5229\u7528\u8d2a\u5fc3\u6cd5\u6c42\u89e3\u7684\u95ee\u9898\u5e94\u5177\u5907\u5982\u4e0b2\u4e2a\u7279\u5f81\u3002 1\u3001\u8d2a\u5fc3\u9009\u62e9\u6027\u8d28 \u4e00\u4e2a\u95ee\u9898\u7684\u6574\u4f53\u6700\u4f18\u89e3\u53ef\u901a\u8fc7\u4e00\u7cfb\u5217\u5c40\u90e8\u7684\u6700\u4f18\u89e3\u7684\u9009\u62e9\u8fbe\u5230\uff0c\u5e76\u4e14\u6bcf\u6b21\u7684\u9009\u62e9\u53ef\u4ee5\u4f9d\u8d56\u4ee5\u524d\u4f5c\u51fa\u7684\u9009\u62e9\uff0c\u4f46\u4e0d\u4f9d\u8d56\u4e8e\u540e\u9762\u8981\u4f5c\u51fa\u7684\u9009\u62e9\u3002\u8fd9\u5c31\u662f\u8d2a\u5fc3\u9009\u62e9\u6027\u8d28\u3002\u5bf9\u4e8e\u4e00\u4e2a\u5177\u4f53\u95ee\u9898\uff0c\u8981\u786e\u5b9a\u5b83\u662f\u5426\u5177\u6709\u8d2a\u5fc3\u9009\u62e9\u6027\u8d28\uff0c\u5fc5\u987b\u8bc1\u660e\u6bcf\u4e00\u6b65\u6240\u4f5c\u7684\u8d2a\u5fc3\u9009\u62e9\u6700\u7ec8\u5bfc\u81f4\u95ee\u9898\u7684\u6574\u4f53\u6700\u4f18\u89e3\u3002 2\u3001\u6700\u4f18\u5b50\u7ed3\u6784\u6027\u8d28 \u5f53\u4e00\u4e2a\u95ee\u9898\u7684\u6700\u4f18\u89e3\u5305\u542b\u5176\u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3\u65f6\uff0c\u79f0\u6b64\u95ee\u9898\u5177\u6709\u6700\u4f18\u5b50\u7ed3\u6784\u6027\u8d28\u3002\u95ee\u9898\u7684\u6700\u4f18\u5b50\u7ed3\u6784\u6027\u8d28\u662f\u8be5\u95ee\u9898\u53ef\u7528\u8d2a\u5fc3\u6cd5\u6c42\u89e3\u7684\u5173\u952e\u6240\u5728\u3002\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u81f3\u4e8e\u4ec0\u4e48\u95ee\u9898\u5177\u6709\u4ec0\u4e48\u6837\u7684\u8d2a\u5fc3\u9009\u62e9\u6027\u8d28\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u9700\u8981\u5177\u4f53\u95ee\u9898\u5177\u4f53\u5206\u6790\u3002","title":"\u4f7f\u7528\u6761\u4ef6"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#_5","text":"\u8d2a\u5fc3\u7b97\u6cd5\u4e0d\u4ece\u6574\u4f53\u6700\u4f18\u4e0a\u52a0\u4ee5\u8003\u8651\uff0c\u6240\u505a\u51fa\u7684\u4ec5\u662f\u5728\u67d0\u79cd\u610f\u4e49\u4e0a\u7684\u5c40\u90e8\u6700\u4f18\u9009\u62e9\u3002\u4f7f\u7528\u8d2a\u5fc3\u7b56\u7565\u8981\u6ce8\u610f\u5c40\u90e8\u6700\u4f18\u4e0e\u5168\u5c40\u6700\u4f18\u7684\u5173\u7cfb\uff0c\u9009\u62e9\u5f53\u524d\u7684\u5c40\u90e8\u6700\u4f18\u5e76\u4e0d\u4e00\u5b9a\u80fd\u63a8\u5bfc\u51fa\u95ee\u9898\u7684\u5168\u5c40\u6700\u4f18\u3002\u8d2a\u5fc3\u7b56\u7565\u89e3\u9898\u9700\u8981\u89e3\u51b3\u4ee5\u4e0b\u4e24\u4e2a\u95ee\u9898\uff1a 1\u3001\u8be5\u95ee\u9898\u662f\u5426\u9002\u5408\u4f7f\u7528\u8d2a\u5fc3\u7b56\u7565\u6c42\u89e3\uff0c\u4e5f\u5c31\u662f\u8be5\u95ee\u9898\u662f\u5426\u5177\u6709\u8d2a\u5fc3\u9009\u62e9\u6027\u8d28\uff1b 2\u3001\u5236\u5b9a\u8d2a\u5fc3\u7b56\u7565\uff0c\u4ee5\u8fbe\u5230\u95ee\u9898\u7684\u6700\u4f18\u89e3\u6216\u8f83\u4f18\u89e3\u3002 \u8981\u786e\u5b9a\u4e00\u4e2a\u95ee\u9898\u662f\u5426\u9002\u5408\u7528\u8d2a\u5fc3\u7b97\u6cd5\u6c42\u89e3\uff0c\u5fc5\u987b\u8bc1\u660e\u6bcf\u4e00\u6b65\u6240\u4f5c\u7684\u8d2a\u5fc3\u9009\u62e9\u6700\u7ec8\u5bfc\u81f4\u95ee\u9898\u7684\u6574\u4f53\u6700\u4f18\u89e3\u3002\u8bc1\u660e\u7684\u5927\u81f4\u8fc7\u7a0b\u4e3a\uff1a\u9996\u5148\u8003\u5bdf\u95ee\u9898\u7684\u4e00\u4e2a\u6574\u4f53\u6700\u4f18\u89e3\uff0c\u5e76\u8bc1\u660e\u53ef\u4fee\u6539\u8fd9\u4e2a\u6700\u4f18\u89e3\uff0c\u4f7f\u5176\u4ee5\u8d2a\u5fc3\u9009\u62e9\u5f00\u59cb\uff0c\u505a\u4e86\u8d2a\u5fc3\u9009\u62e9\u540e\uff0c\u539f\u95ee\u9898\u7b80\u5316\u4e3a\u89c4\u6a21\u66f4\u5c0f\u7684\u7c7b\u4f3c\u5b50\u95ee\u9898\u3002\u7136\u540e\u7528\u6570\u5b66\u5f52\u7eb3\u6cd5\u8bc1\u660e\u901a\u8fc7\u6bcf\u4e00\u6b65\u505a\u8d2a\u5fc3\u9009\u62e9\uff0c\u6700\u7ec8\u53ef\u5f97\u5230\u95ee\u9898\u7684\u6574\u4f53\u6700\u4f18\u89e3\u3002","title":"\u89e3\u9898\u7b56\u7565"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#_6","text":"\u8d2a\u5fc3\u7b97\u6cd5\u4e5f\u5b58\u5728\u5982\u4e0b\u95ee\u9898\uff1a 1\u3001\u4e0d\u80fd\u4fdd\u8bc1\u89e3\u662f\u6700\u4f73\u7684\u3002\u56e0\u4e3a\u8d2a\u5fc3\u7b97\u6cd5\u603b\u662f\u4ece\u5c40\u90e8\u51fa\u53d1\uff0c\u5e76\u6ca1\u4ece\u6574\u4f53\u8003\u8651\uff1b 2\u3001\u8d2a\u5fc3\u7b97\u6cd5\u4e00\u822c\u7528\u6765\u89e3\u51b3\u6c42\u6700\u5927\u6216\u6700\u5c0f\u89e3\uff1b 3\u3001\u8d2a\u5fc3\u7b97\u6cd5\u53ea\u80fd\u786e\u5b9a\u67d0\u4e9b\u95ee\u9898\u7684\u53ef\u884c\u6027\u8303\u56f4\u3002 \u8d2a\u5fc3\u7b97\u6cd5\u4e0e\u52a8\u6001\u89c4\u5212\u7684\u533a\u522b \u8d2a\u5fc3\u7b97\u6cd5\u7684\u6bcf\u4e00\u6b21\u64cd\u4f5c\u90fd\u5bf9\u7ed3\u679c\u4ea7\u751f\u76f4\u63a5\u5f71\u54cd\uff0c\u800c\u52a8\u6001\u89c4\u5212\u5219\u4e0d\u662f\u3002\u8d2a\u5fc3\u7b97\u6cd5\u5bf9\u6bcf\u4e2a\u5b50\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\u90fd\u505a\u51fa\u9009\u62e9\uff0c\u4e0d\u80fd\u56de\u9000\uff1b\u52a8\u6001\u89c4\u5212\u5219\u4f1a\u6839\u636e\u4ee5\u524d\u7684\u9009\u62e9\u7ed3\u679c\u5bf9\u5f53\u524d\u8fdb\u884c\u9009\u62e9\uff0c\u6709\u56de\u9000\u529f\u80fd\u3002\u80fd\u7528\u8d2a\u5fc3\u89e3\u51b3\u7684\u95ee\u9898\uff0c\u4e5f\u53ef\u4ee5\u7528\u52a8\u6001\u89c4\u5212\u89e3\u51b3. \u6700\u4f18\u89e3\u95ee\u9898\u5927\u90e8\u5206\u90fd\u53ef\u4ee5\u62c6\u5206\u6210\u4e00\u4e2a\u4e2a\u7684\u5b50\u95ee\u9898\uff0c\u628a\u89e3\u7a7a\u95f4\u7684\u904d\u5386\u89c6\u4f5c\u5bf9\u5b50\u95ee\u9898\u6811\u7684\u904d\u5386\uff0c\u5219\u4ee5\u67d0\u79cd\u5f62\u5f0f\u5bf9\u6811\u6574\u4e2a\u7684\u904d\u5386\u4e00\u904d\u5c31\u53ef\u4ee5\u6c42\u51fa\u6700\u4f18\u89e3\uff0c\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u8fd9\u662f\u4e0d\u53ef\u884c\u7684\u3002\u8d2a\u5fc3\u7b97\u6cd5\u548c\u52a8\u6001\u89c4\u5212\u672c\u8d28\u4e0a\u662f\u5bf9\u5b50\u95ee\u9898\u6811\u7684\u4e00\u79cd\u4fee\u526a\uff0c\u4e24\u79cd\u7b97\u6cd5\u8981\u6c42\u95ee\u9898\u90fd\u5177\u6709\u7684\u4e00\u4e2a\u6027\u8d28\u5c31\u662f\u5b50\u95ee\u9898\u6700\u4f18\u6027(\u7ec4\u6210\u6700\u4f18\u89e3\u7684\u6bcf\u4e00\u4e2a\u5b50\u95ee\u9898\u7684\u89e3\uff0c\u5bf9\u4e8e\u8fd9\u4e2a\u5b50\u95ee\u9898\u672c\u8eab\u80af\u5b9a\u4e5f\u662f\u6700\u4f18\u7684)\u3002\u52a8\u6001\u89c4\u5212\u65b9\u6cd5\u4ee3\u8868\u4e86\u8fd9\u4e00\u7c7b\u95ee\u9898\u7684\u4e00\u822c\u89e3\u6cd5\uff0c\u6211\u4eec\u81ea\u5e95\u5411\u4e0a\u6784\u9020\u5b50\u95ee\u9898\u7684\u89e3\uff0c\u5bf9\u6bcf\u4e00\u4e2a\u5b50\u6811\u7684\u6839\uff0c\u6c42\u51fa\u4e0b\u9762\u6bcf\u4e00\u4e2a\u53f6\u5b50\u7684\u503c\uff0c\u5e76\u4e14\u4ee5\u5176\u4e2d\u7684\u6700\u4f18\u503c\u4f5c\u4e3a\u81ea\u8eab\u7684\u503c\uff0c\u5176\u5b83\u7684\u503c\u820d\u5f03\u3002\u800c\u8d2a\u5fc3\u7b97\u6cd5\u662f\u52a8\u6001\u89c4\u5212\u65b9\u6cd5\u7684\u4e00\u4e2a\u7279\u4f8b\uff0c\u53ef\u4ee5\u8bc1\u660e\u6bcf\u4e00\u4e2a\u5b50\u6811\u7684\u6839\u7684\u503c\u4e0d\u53d6\u51b3\u4e8e\u4e0b\u9762\u53f6\u5b50\u7684\u503c\uff0c\u800c\u53ea\u53d6\u51b3\u4e8e\u5f53\u524d\u95ee\u9898\u7684\u72b6\u51b5\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u4e0d\u9700\u8981\u77e5\u9053\u4e00\u4e2a\u8282\u70b9\u6240\u6709\u5b50\u6811\u7684\u60c5\u51b5\uff0c\u5c31\u53ef\u4ee5\u6c42\u51fa\u8fd9\u4e2a\u8282\u70b9\u7684\u503c\u3002\u7531\u4e8e\u8d2a\u5fc3\u7b97\u6cd5\u7684\u8fd9\u4e2a\u7279\u6027\uff0c\u5b83\u5bf9\u89e3\u7a7a\u95f4\u6811\u7684\u904d\u5386\u4e0d\u9700\u8981\u81ea\u5e95\u5411\u4e0a\uff0c\u800c\u53ea\u9700\u8981\u81ea\u6839\u5f00\u59cb\uff0c\u9009\u62e9\u6700\u4f18\u7684\u8def\uff0c\u4e00\u76f4\u8d70\u5230\u5e95\u5c31\u53ef\u4ee5\u4e86\u3002","title":"\u5b58\u5728\u95ee\u9898"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#_7","text":"","title":"\u5e94\u7528\u5b9e\u4f8b"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#1","text":"\u6709\u4e00\u4e2a\u80cc\u5305\uff0c\u5bb9\u91cf\u662fM=150\uff0c\u67097\u4e2a\u7269\u54c1\uff0c\u7269\u54c1\u53ef\u4ee5\u5206\u5272\u6210\u4efb\u610f\u5927\u5c0f\u3002\u8981\u6c42\u5c3d\u53ef\u80fd\u8ba9\u88c5\u5165\u80cc\u5305\u4e2d\u7684\u7269\u54c1\u603b\u4ef7\u503c\u6700\u5927\uff0c\u4f46\u4e0d\u80fd\u8d85\u8fc7\u603b\u5bb9\u91cf\u3002 \u7269\u54c1\uff1aA B C D E F G \u91cd\u91cf\uff1a35 30 60 50 40 10 25 \u4ef7\u503c\uff1a10 40 30 50 35 40 30 \u5206\u6790\uff1a \u76ee\u6807\u51fd\u6570\uff1a \u2211pi\u6700\u5927 \u7ea6\u675f\u6761\u4ef6\u662f\u88c5\u5165\u7684\u7269\u54c1\u603b\u8d28\u91cf\u4e0d\u8d85\u8fc7\u80cc\u5305\u5bb9\u91cf\uff1a\u2211wi<=M( M=150) \uff081\uff09\u6839\u636e\u8d2a\u5fc3\u7684\u7b56\u7565\uff0c\u6bcf\u6b21\u6311\u9009\u4ef7\u503c\u6700\u5927\u7684\u7269\u54c1\u88c5\u5165\u80cc\u5305\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u662f\u5426\u6700\u4f18\uff1f \uff082\uff09\u6bcf\u6b21\u6311\u9009\u6240\u5360\u91cd\u91cf\u6700\u5c0f\u7684\u7269\u54c1\u88c5\u5165\u662f\u5426\u80fd\u5f97\u5230\u6700\u4f18\u89e3\uff1f \uff083\uff09\u6bcf\u6b21\u9009\u53d6\u5355\u4f4d\u91cd\u91cf\u4ef7\u503c\u6700\u5927\u7684\u7269\u54c1\uff0c\u6210\u4e3a\u89e3\u672c\u9898\u7684\u7b56\u7565 \u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u5e76\u4e0d\u662f\u5b8c\u5168\u4e0d\u53ef\u4ee5\u4f7f\u7528\uff0c\u8d2a\u5fc3\u7b56\u7565\u4e00\u65e6\u7ecf\u8fc7\u8bc1\u660e\u6210\u7acb\u540e\uff0c\u5b83\u5c31\u662f\u4e00\u79cd\u9ad8\u6548\u7684\u7b97\u6cd5\u3002\u6bd4\u5982\uff0c \u6c42\u6700\u5c0f\u751f\u6210\u6811\u7684Prim\u7b97\u6cd5\u548cKruskal\u7b97\u6cd5\u90fd\u662f\u6f02\u4eae\u7684\u8d2a\u5fc3\u7b97\u6cd5 \u3002 \u8d2a\u5fc3\u7b97\u6cd5\u8fd8\u662f\u5f88\u5e38\u89c1\u7684\u7b97\u6cd5\u4e4b\u4e00\uff0c\u8fd9\u662f\u7531\u4e8e\u5b83\u7b80\u5355\u6613\u884c\uff0c\u6784\u9020\u8d2a\u5fc3\u7b56\u7565\u4e0d\u662f\u5f88\u56f0\u96be\u3002 \u53ef\u60dc\u7684\u662f\uff0c\u5b83\u9700\u8981\u8bc1\u660e\u540e\u624d\u80fd\u771f\u6b63\u8fd0\u7528\u5230\u9898\u76ee\u7684\u7b97\u6cd5\u4e2d\u3002 \u4e00\u822c\u6765\u8bf4\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u7684\u8bc1\u660e\u56f4\u7ed5\u7740\uff1a\u6574\u4e2a\u95ee\u9898\u7684\u6700\u4f18\u89e3\u4e00\u5b9a\u7531\u5728\u8d2a\u5fc3\u7b56\u7565\u4e2d\u5b58\u5728\u7684\u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3\u5f97\u6765\u7684\u3002 \u6839\u636e\u7b56\u7565\uff0c\u4e09\u79cd\u7269\u54c1\u5355\u4f4d\u91cd\u91cf\u4ef7\u503c\u4e00\u6837\uff0c\u7a0b\u5e8f\u65e0\u6cd5\u4f9d\u636e\u73b0\u6709\u7b56\u7565\u4f5c\u51fa\u5224\u65ad\uff0c\u5982\u679c\u9009\u62e9A\uff0c\u5219\u7b54\u6848\u9519\u8bef\u3002\u4f46\u662f\u679c\u5728\u6761\u4ef6\u4e2d\u52a0\u4e00\u53e5\u5f53\u9047\u89c1\u5355\u4f4d\u4ef7\u503c\u76f8\u540c\u7684\u65f6\u5019,\u4f18\u5148\u88c5\u91cd\u91cf\u5c0f\u7684,\u8fd9\u6837\u7684\u95ee\u9898\u5c31\u53ef\u4ee5\u89e3\u51b3\u3002 \u6240\u4ee5\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u53ef\u4ee5\u4e0e\u968f\u673a\u5316\u7b97\u6cd5\u4e00\u8d77\u4f7f\u7528\uff0c\u5177\u4f53\u7684\u4f8b\u5b50\u5c31\u4e0d\u518d\u591a\u4e3e\u4e86\u3002\uff08\u56e0\u4e3a\u8fd9\u4e00\u7c7b\u7b97\u6cd5\u666e\u53ca\u6027\u4e0d\u9ad8\uff0c\u800c\u4e14\u6280\u672f\u542b\u91cf\u662f\u975e\u5e38\u9ad8\u7684\uff0c\u9700\u8981\u901a\u8fc7\u4e00\u4e9b\u53cd\u4f8b\u786e\u5b9a\u968f\u673a\u7684\u5bf9\u8c61\u662f\u4ec0\u4e48\uff0c\u968f\u673a\u7a0b\u5ea6\u5982\u4f55\uff0c\u4f46\u4e5f\u662f\u4e0d\u80fd\u4fdd\u8bc1\u5b8c\u5168\u6b63\u786e\uff0c\u53ea\u80fd\u662f\u6781\u5927\u7684\u51e0\u7387\u6b63\u786e\uff09\u3002 \u8d2a\u5fc3\u7b97\u6cd5\uff1a\u5bfb\u627e\u6700\u4f18\u89e3\u7684\u8fc7\u7a0b\uff0c\u76ee\u7684\u662f\u5f97\u5230\u5f53\u524d\u6700\u4f18\u89e3 \u90e8\u5206\u80cc\u5305\u95ee\u9898\uff1a\u56fa\u5b9a\u5bb9\u79ef\u7684\u80cc\u5305\u80fd\u653e\u5165\u7269\u54c1\u7684\u603b\u6700\u5927\u4ef7\u503c \u7269\u54c1 A B C D \u4ef7\u683c 50 220 60 60 \u5c3a\u5bf8 5 20 10 12 \u6bd4\u7387 10 11 6 5 \u6309\u6bd4\u4f8b\u964d\u5e8f\u5c3d\u53ef\u80fd\u591a\u653e\u5165\u7269\u54c1 function greedy ( values , weights , capacity ){ var returnValue = 0 var remainCapacity = capacity var sortArray = [] values . map (( cur , index ) =>{ sortArray . push ({ 'value' : values [ index ], 'weight' : weights [ index ], 'ratio' : values [ index ] / weights [ index ] }) }) sortArray . sort ( function ( a , b ){ return b . ratio > a . ratio }) sortArray . map (( cur , index ) => { var num = parseInt ( remainCapacity / cur . weight ) remainCapacity -= num * cur . weight returnValue += num * cur . value }) return returnValue } var items = [ 'A' , 'B' , 'C' , 'D' ] var values = [ 50 , 220 , 60 , 60 ] var weights = [ 5 , 20 , 10 , 12 ] var capacity = 32 //\u80cc\u5305\u5bb9\u79ef greedy ( values , weights , capacity ) // 320","title":"1.\u80cc\u5305\u95ee\u9898"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#2","text":"\u4f8b\u5982\uff0c\u5e73\u65f6\u8d2d\u7269\u627e\u96f6\u94b1\u65f6\uff0c\u4e3a\u4f7f\u627e\u56de\u7684\u96f6\u94b1\u7684\u786c\u5e01\u6570\u6700\u5c11\uff0c\u4e0d\u8981\u6c42\u627e\u96f6\u94b1\u7684\u6240\u6709\u65b9\u6848\uff0c\u800c\u662f\u4ece\u6700\u5927\u9762\u503c\u7684\u5e01\u79cd\u5f00\u59cb\uff0c\u6309\u9012\u51cf\u7684\u987a\u5e8f\u8003\u8651\u5404\u9762\u989d\uff0c\u5148\u5c3d\u91cf\u7528\u5927\u9762\u503c\u7684\u9762\u989d\uff0c\u5f53\u4e0d\u8db3\u5927\u9762\u503c\u65f6\u624d\u53bb\u8003\u8651\u4e0b\u4e00\u4e2a\u8f83\u5c0f\u9762\u503c\u3002 \u6848\u4f8b\uff1a\u5047\u8bbe1\u5143\u30012\u5143\u30015\u5143\u300110\u5143\u300120\u5143\u300150\u5143\u3001100\u5143\u7684\u7eb8\u5e01\u5206\u522b\u6709c0, c1, c2, c3, c4, c5, c6\u5f20\u3002\u73b0\u5728\u8981\u7528\u8fd9\u4e9b\u94b1\u6765\u627e\u7ed9\u987e\u5ba2K\u5143\uff0c\u600e\u4e48\u7528\u6570\u76ee\u6700\u5c11\u7684\u94b1\u6765\u627e\u96f6\uff1f \u8d2a\u5fc3\u51c6\u5219:\u5728\u4e0d\u8d85\u8fc7\u8981\u627e\u7684\u96f6\u94b1\u603b\u6570\u7684\u6761\u4ef6\u4e0b\uff0c\u6bcf\u4e00\u6b21\u90fd\u9009\u62e9\u9762\u503c\u5c3d\u53ef\u80fd\u5927\u7684\u7eb8\u5e01\uff0c\u76f4\u5230\u51d1\u6210\u7684\u96f6\u94b1\u603b\u6570\u7b49\u4e8e\u8981\u627e\u7684\u96f6\u94b1\u603b\u6570\u3002\u4e0b\u9762\u662f C++ \u7684\u7b97\u6cd5 #include <iostream> using namespace std ; int min ( int a , int b ) { return a < b ? a : b ; } int main () { //\u4eba\u6c11\u5e01\u9762\u503c\u96c6\u5408 int values [] = { 1 , 2 , 5 , 10 , 20 , 50 , 100 }; //\u5404\u79cd\u9762\u503c\u5bf9\u5e94\u6570\u91cf\u96c6\u5408 int counts [] = { 3 , 1 , 2 , 1 , 1 , 3 , 5 }; //\u6c42442\u5143\u4eba\u6c11\u5e01\u9700\u5404\u79cd\u9762\u503c\u591a\u5c11\u5f20 //\u7528\u6765\u8bb0\u5f55\u9700\u8981\u7684\u5404\u79cd\u9762\u503c\u5f20\u6570 int money = 442 ; int len = sizeof ( values ) / sizeof ( values [ 0 ]); int * result = new int [ len ]; for ( int i = len - 1 ; i >= 0 ; i -- ) { int num = 0 ; //\u5f53\u524d\u9762\u503c\u7eb8\u5e01\u7684\u6570\u91cf num = min ( money / values [ i ], counts [ i ]); //\u5f53\u524d\u7eb8\u5e01\u53ef\u4ee5\u627e\u7684\u6700\u5927\u6570\u91cf money = money - num * values [ i ]; result [ i ] = num ; } //\u8f93\u51fa\u6700\u540e\u7ed3\u679c for ( int i = 0 ; i < len ; i ++ ) { if ( result [ i ]) cout << \"\u9700\u8981\u9762\u989d\u4e3a\" << values [ i ] << \"\u7684\u4eba\u540d\u5e01\" << result [ i ] << \"\u5f20 \\n \" ; } cout << endl ; system ( \"pause\" ); return 0 ; } \u7a0b\u5e8f\u7ed3\u679c: \u9700\u8981\u9762\u989d\u4e3a2\u7684\u4eba\u540d\u5e011\u5f20 \u9700\u8981\u9762\u989d\u4e3a5\u7684\u4eba\u540d\u5e012\u5f20 \u9700\u8981\u9762\u989d\u4e3a10\u7684\u4eba\u540d\u5e011\u5f20 \u9700\u8981\u9762\u989d\u4e3a20\u7684\u4eba\u540d\u5e011\u5f20 \u9700\u8981\u9762\u989d\u4e3a100\u7684\u4eba\u540d\u5e014\u5f20 \u53ef\u4ee5\u5f97\u51fa\uff0c\u6c42\u51fa\u7684\u7ed3\u679c\u4e3a\u6700\u4f18\u89e3\uff0c\u4f46\u662f\uff0c\u5f53\u7eb8\u5e01\u9762\u503c\u548c\u6570\u91cf\u4e3a\u67d0\u4e9b\u7279\u6b8a\u60c5\u51b5\u4e0b\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u5c31\u65e0\u6cd5\u7ed9\u51fa\u6700\u4f18\u89e3\u3002\u4f46\u662f\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u5f80\u5f80\u80fd\u7ed9\u51fa\u8fd1\u4f3c\u89e3\uff0c\u5bf9\u4e8e\u6211\u4eec\u6765\u8bf4\u4e5f\u662f\u6709\u4ef7\u503c\u7684\u3002 \u6bd4\u5982\u5bf9\u4e8e\u7eb8\u5e01\u67091\u30015\u30017\u9762\u503c\u7684\u82e5\u5e72\uff0c\u8981\u51d1\u51fa10\u5143 \u8d2a\u5fc3\u89e3[3,0,1] \u6700\u4f18\u89e3[0,2,0]","title":"2.\u627e\u96f6\u94b1\u95ee\u9898"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#1_1","text":"\u8fd9\u662f\u300a\u7b97\u6cd5\u5bfc\u8bba\u300b\u4e0a\u7684\u4f8b\u5b50\uff0c\u4e5f\u662f\u4e00\u4e2a\u975e\u5e38\u7ecf\u5178\u7684\u95ee\u9898\u3002\u6709n\u4e2a\u9700\u8981\u5728\u540c\u4e00\u5929\u4f7f\u7528\u540c\u4e00\u4e2a\u6559\u5ba4\u7684\u6d3b\u52a8a1,a2,\u2026,an\uff0c\u6559\u5ba4\u540c\u4e00\u65f6\u523b\u53ea\u80fd\u7531\u4e00\u4e2a\u6d3b\u52a8\u4f7f\u7528\u3002\u6bcf\u4e2a\u6d3b\u52a8ai\u90fd\u6709\u4e00\u4e2a\u5f00\u59cb\u65f6\u95f4si\u548c\u7ed3\u675f\u65f6\u95f4fi \u3002\u4e00\u65e6\u88ab\u9009\u62e9\u540e\uff0c\u6d3b\u52a8ai\u5c31\u5360\u636e\u534a\u5f00\u65f6\u95f4\u533a\u95f4[si,fi)\u3002\u5982\u679c[si,fi]\u548c[sj,fj]\u4e92\u4e0d\u91cd\u53e0\uff0cai\u548caj\u4e24\u4e2a\u6d3b\u52a8\u5c31\u53ef\u4ee5\u88ab\u5b89\u6392\u5728\u8fd9\u4e00\u5929\u3002\u8be5\u95ee\u9898\u5c31\u662f\u8981\u5b89\u6392\u8fd9\u4e9b\u6d3b\u52a8\u4f7f\u5f97\u5c3d\u91cf\u591a\u7684\u6d3b\u52a8\u80fd\u4e0d\u51b2\u7a81\u7684\u4e3e\u884c\u3002\u4f8b\u5982\u4e0b\u56fe\u6240\u793a\u7684\u6d3b\u52a8\u96c6\u5408S\uff0c\u5176\u4e2d\u5404\u9879\u6d3b\u52a8\u6309\u7167\u7ed3\u675f\u65f6\u95f4\u5355\u8c03\u9012\u589e\u6392\u5e8f\u3002 \u8003\u8651\u4f7f\u7528\u8d2a\u5fc3\u7b97\u6cd5\u7684\u89e3\u6cd5\u3002\u4e3a\u4e86\u65b9\u4fbf\uff0c\u6211\u4eec\u7528\u4e0d\u540c\u989c\u8272\u7684\u7ebf\u6761\u4ee3\u8868\u6bcf\u4e2a\u6d3b\u52a8\uff0c\u7ebf\u6761\u7684\u957f\u5ea6\u5c31\u662f\u6d3b\u52a8\u6240\u5360\u636e\u7684\u65f6\u95f4\u6bb5\uff0c\u84dd\u8272\u7684\u7ebf\u6761\u8868\u793a\u6211\u4eec\u5df2\u7ecf\u9009\u62e9\u7684\u6d3b\u52a8\uff1b\u7ea2\u8272\u7684\u7ebf\u6761\u8868\u793a\u6211\u4eec\u6ca1\u6709\u9009\u62e9\u7684\u6d3b\u52a8\u3002 \u53ef\u4ee5\u7528\u6570\u5b66\u5f52\u7eb3\u6cd5\u8bc1\u660e\uff0c\u6211\u4eec\u7684\u8d2a\u5fc3\u7b56\u7565\u5e94\u8be5\u662f\u6bcf\u6b21\u9009\u53d6\u7ed3\u675f\u65f6\u95f4\u6700\u65e9\u7684\u6d3b\u52a8\u3002\u76f4\u89c2\u4e0a\u4e5f\u5f88\u597d\u7406\u89e3\uff0c\u6309\u8fd9\u79cd\u65b9\u6cd5\u9009\u62e9\u76f8\u5bb9\u6d3b\u52a8\u4e3a\u672a\u5b89\u6392\u6d3b\u52a8\u7559\u4e0b\u5c3d\u53ef\u80fd\u591a\u7684\u65f6\u95f4\u3002\u8fd9\u4e5f\u662f\u628a\u5404\u9879\u6d3b\u52a8\u6309\u7167\u7ed3\u675f\u65f6\u95f4\u5355\u8c03\u9012\u589e\u6392\u5e8f\u7684\u539f\u56e0\u3002 #include <cstdio> #include <iostream> #include <algorithm> using namespace std ; int N ; struct Act { int start ; int end ; } act [ 100010 ]; bool cmp ( Act a , Act b ) { return a . end < b . end ; } int greedy_activity_selector () { int num = 1 , i = 1 ; for ( int j = 2 ; j <= N ; j ++ ) { if ( act [ j ]. start >= act [ i ]. end ) { i = j ; num ++ ; } } return num ; } int main () { int t ; scanf ( \"%d\" , & t ); while ( t -- ) { scanf ( \"%d\" , & N ); for ( int i = 1 ; i <= N ; i ++ ) { scanf ( \"%lld %lld\" , & act [ i ]. start , & act [ i ]. end ); } act [ 0 ]. start = -1 ; act [ 0 ]. end = -1 ; sort ( act + 1 , act + N + 1 , cmp ); int res = greedy_activity_selector (); cout << res << endl ; } }","title":"1.\u6d3b\u52a8\u9009\u62e9\u95ee\u9898"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#2_1","text":"\u8fd9\u4e2a\u95ee\u9898\u5728\u6211\u4eec\u7684\u65e5\u5e38\u751f\u6d3b\u4e2d\u5c31\u66f4\u52a0\u666e\u904d\u4e86\u3002\u5047\u8bbe1\u5143\u30012\u5143\u30015\u5143\u300110\u5143\u300120\u5143\u300150\u5143\u3001100\u5143\u7684\u7eb8\u5e01\u5206\u522b\u6709c0, c1, c2, c3, c4, c5, c6\u5f20\u3002\u73b0\u5728\u8981\u7528\u8fd9\u4e9b\u94b1\u6765\u652f\u4ed8K\u5143\uff0c\u81f3\u5c11\u8981\u7528\u591a\u5c11\u5f20\u7eb8\u5e01\uff1f\u7528\u8d2a\u5fc3\u7b97\u6cd5\u7684\u601d\u60f3\uff0c\u5f88\u663e\u7136\uff0c\u6bcf\u4e00\u6b65\u5c3d\u53ef\u80fd\u7528\u9762\u503c\u5927\u7684\u7eb8\u5e01\u5373\u53ef\u3002\u5728\u65e5\u5e38\u751f\u6d3b\u4e2d\u6211\u4eec\u81ea\u7136\u800c\u7136\u4e5f\u662f\u8fd9\u4e48\u505a\u7684\u3002\u5728\u7a0b\u5e8f\u4e2d\u5df2\u7ecf\u4e8b\u5148\u5c06Value\u6309\u7167\u4ece\u5c0f\u5230\u5927\u7684\u987a\u5e8f\u6392\u597d\u3002 #include <iostream> #include <algorithm> using namespace std ; const int N = 7 ; int Count [ N ] = { 3 , 0 , 2 , 1 , 0 , 3 , 5 }; int Value [ N ] = { 1 , 2 , 5 , 10 , 20 , 50 , 100 }; int solve ( int money ){ int num = 0 ; for ( int i = N -1 ; i >= 0 ; i -- ) { int c = min ( money / Value [ i ], Count [ i ]); money = money - c * Value [ i ]; num += c ; } if ( money > 0 ) num = -1 ; return num ; } int main (){ int money ; cin >> money ; int res = solve ( money ); if ( res != -1 ) cout << res << endl ; else cout << \"NO\" << endl ; }","title":"2.\u94b1\u5e01\u627e\u96f6\u95ee\u9898"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#3","text":"\u5728\u4ece\u96f6\u5f00\u59cb\u5b66\u52a8\u6001\u89c4\u5212\u4e2d\u6211\u4eec\u5df2\u7ecf\u8c08\u8fc7\u4e09\u79cd\u6700\u57fa\u672c\u7684\u80cc\u5305\u95ee\u9898\uff1a\u96f6\u4e00\u80cc\u5305\uff0c\u90e8\u5206\u80cc\u5305\uff0c\u5b8c\u5168\u80cc\u5305\u3002\u5f88\u5bb9\u6613\u8bc1\u660e\uff0c\u80cc\u5305\u95ee\u9898\u4e0d\u80fd\u4f7f\u7528\u8d2a\u5fc3\u7b97\u6cd5\u3002\u7136\u800c\u6211\u4eec\u8003\u8651\u8fd9\u6837\u4e00\u79cd\u80cc\u5305\u95ee\u9898\uff1a\u5728\u9009\u62e9\u7269\u54c1i\u88c5\u5165\u80cc\u5305\u65f6\uff0c\u53ef\u4ee5\u9009\u62e9\u7269\u54c1\u7684\u4e00\u90e8\u5206\uff0c\u800c\u4e0d\u4e00\u5b9a\u8981\u5168\u90e8\u88c5\u5165\u80cc\u5305\u3002\u8fd9\u65f6\u4fbf\u53ef\u4ee5\u4f7f\u7528\u8d2a\u5fc3\u7b97\u6cd5\u6c42\u89e3\u4e86\u3002\u8ba1\u7b97\u6bcf\u79cd\u7269\u54c1\u7684\u5355\u4f4d\u91cd\u91cf\u4ef7\u503c\u4f5c\u4e3a\u8d2a\u5fc3\u9009\u62e9\u7684\u4f9d\u636e\u6307\u6807\uff0c\u9009\u62e9\u5355\u4f4d\u91cd\u91cf\u4ef7\u503c\u6700\u9ad8\u7684\u7269\u54c1\uff0c\u5c06\u5c3d\u53ef\u80fd\u591a\u7684\u8be5\u7269\u54c1\u88c5\u5165\u80cc\u5305\uff0c\u4f9d\u6b64\u7b56\u7565\u4e00\u76f4\u5730\u8fdb\u884c\u4e0b\u53bb\uff0c\u76f4\u5230\u80cc\u5305\u88c5\u6ee1\u4e3a\u6b62\u3002\u5728\u96f6\u4e00\u80cc\u5305\u95ee\u9898\u4e2d\u8d2a\u5fc3\u9009\u62e9\u4e4b\u6240\u4ee5\u4e0d\u80fd\u5f97\u5230\u6700\u4f18\u89e3\u539f\u56e0\u662f\u8d2a\u5fc3\u9009\u62e9\u65e0\u6cd5\u4fdd\u8bc1\u6700\u7ec8\u80fd\u5c06\u80cc\u5305\u88c5\u6ee1\uff0c\u90e8\u5206\u95f2\u7f6e\u7684\u80cc\u5305\u7a7a\u95f4\u4f7f\u6bcf\u516c\u65a4\u80cc\u5305\u7a7a\u95f4\u7684\u4ef7\u503c\u964d\u4f4e\u4e86\u3002\u5728\u7a0b\u5e8f\u4e2d\u5df2\u7ecf\u4e8b\u5148\u5c06\u5355\u4f4d\u91cd\u91cf\u4ef7\u503c\u6309\u7167\u4ece\u5927\u5230\u5c0f\u7684\u987a\u5e8f\u6392\u597d\u3002 #include <iostream> using namespace std ; const int N = 4 ; void knapsack ( float M , float v [], float w [], float x []); int main () { float M = 50 ; //\u80cc\u5305\u6240\u80fd\u5bb9\u7eb3\u7684\u91cd\u91cf float w [] = { 0 , 10 , 30 , 20 , 5 }; //\u6bcf\u79cd\u7269\u54c1\u7684\u91cd\u91cf float v [] = { 0 , 200 , 400 , 100 , 10 }; //\u6bcf\u79cd\u7269\u54c1\u7684\u4ef7\u503c float x [ N + 1 ] = { 0 }; //\u8bb0\u5f55\u7ed3\u679c\u7684\u6570\u7ec4 knapsack ( M , v , w , x ); cout << \"\u9009\u62e9\u88c5\u4e0b\u7684\u7269\u54c1\u6bd4\u4f8b\uff1a\" << endl ; for ( int i = 1 ; i <= N ; i ++ ) cout << \"[\" << i << \"]:\" << x [ i ] << endl ; } void knapsack ( float M , float v [], float w [], float x []) { int i ; //\u7269\u54c1\u6574\u4ef6\u88ab\u88c5\u4e0b for ( i = 1 ; i <= N ; i ++ ) { if ( w [ i ] > M ) break ; x [ i ] = 1 ; M -= w [ i ]; } //\u7269\u54c1\u90e8\u5206\u88ab\u88c5\u4e0b if ( i <= N ) x [ i ] = M / w [ i ]; }","title":"3.\u518d\u8bba\u80cc\u5305\u95ee\u9898"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#4","text":"n\u4e2a\u4f5c\u4e1a\u7ec4\u6210\u7684\u4f5c\u4e1a\u96c6\uff0c\u53ef\u7531m\u53f0\u76f8\u540c\u673a\u5668\u52a0\u5de5\u5904\u7406\u3002\u8981\u6c42\u7ed9\u51fa\u4e00\u79cd\u4f5c\u4e1a\u8c03\u5ea6\u65b9\u6848\uff0c\u4f7f\u6240\u7ed9\u7684n\u4e2a\u4f5c\u4e1a\u5728\u5c3d\u53ef\u80fd\u77ed\u7684\u65f6\u95f4\u5185\u7531m\u53f0\u673a\u5668\u52a0\u5de5\u5904\u7406\u5b8c\u6210\u3002\u4f5c\u4e1a\u4e0d\u80fd\u62c6\u5206\u6210\u66f4\u5c0f\u7684\u5b50\u4f5c\u4e1a\uff1b\u6bcf\u4e2a\u4f5c\u4e1a\u5747\u53ef\u5728\u4efb\u4f55\u4e00\u53f0\u673a\u5668\u4e0a\u52a0\u5de5\u5904\u7406\u3002\u8fd9\u4e2a\u95ee\u9898\u662fNP\u5b8c\u5168\u95ee\u9898\uff0c\u8fd8\u6ca1\u6709\u6709\u6548\u7684\u89e3\u6cd5(\u6c42\u6700\u4f18\u89e3)\uff0c\u4f46\u662f\u53ef\u4ee5\u7528\u8d2a\u5fc3\u9009\u62e9\u7b56\u7565\u8bbe\u8ba1\u51fa\u8f83\u597d\u7684\u8fd1\u4f3c\u7b97\u6cd5(\u6c42\u6b21\u4f18\u89e3)\u3002\u5f53n<=m\u65f6\uff0c\u53ea\u8981\u5c06\u4f5c\u4e1a\u65f6\u95f4\u533a\u95f4\u5206\u914d\u7ed9\u4f5c\u4e1a\u5373\u53ef\uff1b\u5f53n>m\u65f6\uff0c\u9996\u5148\u5c06n\u4e2a\u4f5c\u4e1a\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\uff0c\u7136\u540e\u4f9d\u6b64\u987a\u5e8f\u5c06\u4f5c\u4e1a\u5206\u914d\u7ed9\u7a7a\u95f2\u7684\u5904\u7406\u673a\u3002\u4e5f\u5c31\u662f\u8bf4\u4ece\u5269\u4e0b\u7684\u4f5c\u4e1a\u4e2d\uff0c\u9009\u62e9\u9700\u8981\u5904\u7406\u65f6\u95f4\u6700\u957f\u7684\uff0c\u7136\u540e\u4f9d\u6b21\u9009\u62e9\u5904\u7406\u65f6\u95f4\u6b21\u957f\u7684\uff0c\u76f4\u5230\u6240\u6709\u7684\u4f5c\u4e1a\u5168\u90e8\u5904\u7406\u5b8c\u6bd5\uff0c\u6216\u8005\u673a\u5668\u4e0d\u80fd\u518d\u5904\u7406\u5176\u4ed6\u4f5c\u4e1a\u4e3a\u6b62\u3002\u5982\u679c\u6211\u4eec\u6bcf\u6b21\u662f\u5c06\u9700\u8981\u5904\u7406\u65f6\u95f4\u6700\u77ed\u7684\u4f5c\u4e1a\u5206\u914d\u7ed9\u7a7a\u95f2\u7684\u673a\u5668\uff0c\u90a3\u4e48\u53ef\u80fd\u5c31\u4f1a\u51fa\u73b0\u5176\u5b83\u6240\u6709\u4f5c\u4e1a\u90fd\u5904\u7406\u5b8c\u4e86\u53ea\u5269\u6240\u9700\u65f6\u95f4\u6700\u957f\u7684\u4f5c\u4e1a\u5728\u5904\u7406\u7684\u60c5\u51b5\uff0c\u8fd9\u6837\u52bf\u5fc5\u6548\u7387\u8f83\u4f4e\u3002\u5728\u4e0b\u9762\u7684\u4ee3\u7801\u4e2d\u6ca1\u6709\u8ba8\u8bban\u548cm\u7684\u5927\u5c0f\u5173\u7cfb\uff0c\u628a\u8fd9\u4e24\u79cd\u60c5\u51b5\u5408\u4e8c\u4e3a\u4e00\u4e86\u3002 #include <iostream> #include <algorithm> using namespace std ; int speed [ 10010 ]; int mintime [ 110 ]; bool cmp ( const int & x , const int & y ) { return x > y ; } int main () { int n , m ; memset ( speed , 0 , sizeof ( speed )); memset ( mintime , 0 , sizeof ( mintime )); cin >> n >> m ; for ( int i = 0 ; i < n ; ++ i ) cin >> speed [ i ]; sort ( speed , speed + n , cmp ); for ( int i = 0 ; i < n ; ++ i ) { * min_element ( mintime , mintime + m ) += speed [ i ]; } cout <<* max_element ( mintime , mintime + m ) << endl ; }","title":"4.\u591a\u673a\u8c03\u5ea6\u95ee\u9898"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#5","text":"POJ1700\u662f\u4e00\u9053\u7ecf\u5178\u7684\u8d2a\u5fc3\u7b97\u6cd5\u4f8b\u9898\u3002\u9898\u76ee\u5927\u610f\u662f\u53ea\u6709\u4e00\u8258\u8239\uff0c\u80fd\u4e582\u4eba\uff0c\u8239\u7684\u8fd0\u884c\u901f\u5ea6\u4e3a2\u4eba\u4e2d\u8f83\u6162\u4e00\u4eba\u7684\u901f\u5ea6\uff0c\u8fc7\u53bb\u540e\u8fd8\u9700\u4e00\u4e2a\u4eba\u628a\u8239\u5212\u56de\u6765\uff0c\u95ee\u628an\u4e2a\u4eba\u8fd0\u5230\u5bf9\u5cb8\uff0c\u6700\u5c11\u9700\u8981\u591a\u4e45\u3002\u5148\u5c06\u6240\u6709\u4eba\u8fc7\u6cb3\u6240\u9700\u7684\u65f6\u95f4\u6309\u7167\u5347\u5e8f\u6392\u5e8f\uff0c\u6211\u4eec\u8003\u8651\u628a\u5355\u72ec\u8fc7\u6cb3\u6240\u9700\u8981\u65f6\u95f4\u6700\u591a\u7684\u4e24\u4e2a\u65c5\u884c\u8005\u9001\u5230\u5bf9\u5cb8\u53bb\uff0c\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a 1.\u6700\u5feb\u7684\u548c\u6b21\u5feb\u7684\u8fc7\u6cb3\uff0c\u7136\u540e\u6700\u5feb\u7684\u5c06\u8239\u5212\u56de\u6765\uff1b\u6b21\u6162\u7684\u548c\u6700\u6162\u7684\u8fc7\u6cb3\uff0c\u7136\u540e\u6b21\u5feb\u7684\u5c06\u8239\u5212\u56de\u6765\uff0c\u6240\u9700\u65f6\u95f4\u4e3a\uff1at[0]+2*t[1]+t[n-1]\uff1b 2.\u6700\u5feb\u7684\u548c\u6700\u6162\u7684\u8fc7\u6cb3\uff0c\u7136\u540e\u6700\u5feb\u7684\u5c06\u8239\u5212\u56de\u6765\uff0c\u6700\u5feb\u7684\u548c\u6b21\u6162\u7684\u8fc7\u6cb3\uff0c\u7136\u540e\u6700\u5feb\u7684\u5c06\u8239\u5212\u56de\u6765\uff0c\u6240\u9700\u65f6\u95f4\u4e3a\uff1a2*t[0]+t[n-2]+t[n-1]\u3002 \u7b97\u4e00\u4e0b\u5c31\u77e5\u9053\uff0c\u9664\u6b64\u4e4b\u5916\u7684\u5176\u5b83\u60c5\u51b5\u7528\u7684\u65f6\u95f4\u4e00\u5b9a\u66f4\u591a\u3002\u6bcf\u6b21\u90fd\u8fd0\u9001\u8017\u65f6\u6700\u957f\u7684\u4e24\u4eba\u800c\u4e0d\u5f71\u54cd\u5176\u5b83\u4eba\uff0c\u95ee\u9898\u5177\u6709\u8d2a\u5fc3\u5b50\u7ed3\u6784\u7684\u6027\u8d28\u3002 AC\u4ee3\u7801\uff1a #include <iostream> #include <algorithm> using namespace std ; int main () { int a [ 1000 ], t , n , sum ; scanf ( \"%d\" , & t ); while ( t -- ) { scanf ( \"%d\" , & n ); sum = 0 ; for ( int i = 0 ; i < n ; i ++ ) scanf ( \"%d\" , & a [ i ]); while ( n > 3 ) { sum = min ( sum + a [ 1 ] + a [ 0 ] + a [ n -1 ] + a [ 1 ], sum + a [ n -1 ] + a [ 0 ] + a [ n -2 ] + a [ 0 ]); n -= 2 ; } if ( n == 3 ) sum += a [ 0 ] + a [ 1 ] + a [ 2 ]; else if ( n == 2 ) sum += a [ 1 ]; else sum += a [ 0 ]; printf ( \"%d \\n \" , sum ); } }","title":"5.\u5c0f\u8239\u8fc7\u6cb3\u95ee\u9898"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#6","text":"POJ1328\u662f\u4e00\u9053\u7ecf\u5178\u7684\u8d2a\u5fc3\u7b97\u6cd5\u4f8b\u9898\u3002\u9898\u76ee\u5927\u610f\u662f\u5047\u8bbe\u6d77\u5cb8\u7ebf\u662f\u4e00\u6761\u65e0\u9650\u5ef6\u4f38\u7684\u76f4\u7ebf\u3002\u9646\u5730\u5728\u6d77\u5cb8\u7ebf\u7684\u4e00\u4fa7\uff0c\u800c\u6d77\u6d0b\u5728\u53e6\u4e00\u4fa7\u3002\u6bcf\u4e00\u4e2a\u5c0f\u7684\u5c9b\u5c7f\u662f\u6d77\u6d0b\u4e0a\u7684\u4e00\u4e2a\u70b9\u3002\u96f7\u8fbe\u5750\u843d\u4e8e\u6d77\u5cb8\u7ebf\u4e0a\uff0c\u53ea\u80fd\u8986\u76d6d\u8ddd\u79bb\uff0c\u6240\u4ee5\u5982\u679c\u5c0f\u5c9b\u80fd\u591f\u88ab\u8986\u76d6\u5230\u7684\u8bdd\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u8ddd\u79bb\u6700\u591a\u4e3ad\u3002\u9898\u76ee\u8981\u6c42\u8ba1\u7b97\u51fa\u80fd\u591f\u8986\u76d6\u7ed9\u51fa\u7684\u6240\u6709\u5c9b\u5c7f\u7684\u6700\u5c11\u96f7\u8fbe\u6570\u76ee\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u5c0f\u5c9b\uff0c\u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97\u51fa\u4e00\u4e2a\u96f7\u8fbe\u6240\u5728\u4f4d\u7f6e\u7684\u533a\u95f4\u3002 \u95ee\u9898\u8f6c\u5316\u4e3a\u5982\u4f55\u7528\u5c3d\u53ef\u80fd\u5c11\u7684\u70b9\u8986\u76d6\u8fd9\u4e9b\u533a\u95f4\u3002\u5148\u5c06\u6240\u6709\u533a\u95f4\u6309\u7167\u5de6\u7aef\u70b9\u5927\u5c0f\u6392\u5e8f\uff0c\u521d\u59cb\u65f6\u9700\u8981\u4e00\u4e2a\u70b9\u3002\u5982\u679c\u4e24\u4e2a\u533a\u95f4\u76f8\u4ea4\u800c\u4e0d\u91cd\u5408\uff0c\u6211\u4eec\u4ec0\u4e48\u90fd\u4e0d\u9700\u8981\u505a\uff1b\u5982\u679c\u4e00\u4e2a\u533a\u95f4\u5b8c\u5168\u5305\u542b\u4e8e\u53e6\u5916\u4e00\u4e2a\u533a\u95f4\uff0c\u6211\u4eec\u9700\u8981\u66f4\u65b0\u533a\u95f4\u7684\u53f3\u7aef\u70b9\uff1b\u5982\u679c\u4e24\u4e2a\u533a\u95f4\u4e0d\u76f8\u4ea4\uff0c\u6211\u4eec\u9700\u8981\u589e\u52a0\u70b9\u5e76\u66f4\u65b0\u53f3\u7aef\u70b9\u3002 AC\u4ee3\u7801\uff1a #include <cmath> #include <iostream> #include <algorithm> using namespace std ; struct Point { double x ; double y ; } point [ 1000 ]; int cmp ( const void * a , const void * b ) { return ( * ( Point * ) a ). x > ( * ( Point * ) b ). x ? 1 : -1 ; } int main () { int n , d ; int num = 1 ; while ( cin >> n >> d ) { int counting = 1 ; if ( n == 0 && d == 0 ) break ; for ( int i = 0 ; i < n ; i ++ ) { int x , y ; cin >> x >> y ; if ( y > d ) { counting = -1 ; } double t = sqrt ( d * d - y * y ); //\u8f6c\u5316\u4e3a\u6700\u5c11\u533a\u95f4\u7684\u95ee\u9898 point [ i ]. x = x - t ; //\u533a\u95f4\u5de6\u7aef\u70b9 point [ i ]. y = x + t ; //\u533a\u95f4\u53f3\u7aef\u70b9 } if ( counting != -1 ) { qsort ( point , n , sizeof ( point [ 0 ]), cmp ); //\u6309\u533a\u95f4\u5de6\u7aef\u70b9\u6392\u5e8f double s = point [ 0 ]. y ; //\u533a\u95f4\u53f3\u7aef\u70b9 for ( int i = 1 ; i < n ; i ++ ) { if ( point [ i ]. x > s ) //\u5982\u679c\u4e24\u4e2a\u533a\u95f4\u6ca1\u6709\u91cd\u5408,\u589e\u52a0\u96f7\u8fbe\u6570\u76ee\u5e76\u66f4\u65b0\u53f3\u7aef\u70b9 { counting ++ ; s = point [ i ]. y ; } else if ( point [ i ]. y < s ) //\u5982\u679c\u7b2c\u4e8c\u4e2a\u533a\u95f4\u88ab\u5b8c\u5168\u5305\u542b\u4e8e\u7b2c\u4e00\u4e2a\u533a\u95f4,\u66f4\u65b0\u53f3\u7aef\u70b9 { s = point [ i ]. y ; } } } cout << \"Case \" << num << ':' << ' ' << counting << endl ; num ++ ; } }","title":"6.\u533a\u95f4\u8986\u76d6\u95ee\u9898"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#7","text":"\u5728\u5b66\u6821OJ\u4e0a\u505a\u7684\u4e00\u9053\u6bd4\u8f83\u597d\u7684\u9898\uff0c\u8fd9\u91cc\u7801\u4e00\u4e0b\u3002\u5047\u8bbe\u6709\u5076\u6570\u5929\uff0c\u8981\u6c42\u6bcf\u5929\u5fc5\u987b\u4e70\u4e00\u4ef6\u7269\u54c1\u6216\u8005\u5356\u4e00\u4ef6\u7269\u54c1\uff0c\u53ea\u80fd\u9009\u62e9\u4e00\u79cd\u64cd\u4f5c\u5e76\u4e14\u4e0d\u80fd\u4e0d\u9009\uff0c\u5f00\u59cb\u624b\u4e0a\u6ca1\u6709\u8fd9\u79cd\u7269\u54c1\u3002\u73b0\u5728\u7ed9\u4f60\u6bcf\u5929\u7684\u7269\u54c1\u4ef7\u683c\u8868\uff0c\u8981\u6c42\u8ba1\u7b97\u6700\u5927\u6536\u76ca\u3002\u9996\u5148\u8981\u660e\u767d\uff0c\u7b2c\u4e00\u5929\u5fc5\u987b\u4e70\uff0c\u6700\u540e\u4e00\u5929\u5fc5\u987b\u5356\uff0c\u5e76\u4e14\u6700\u540e\u624b\u4e0a\u6ca1\u6709\u7269\u54c1\u3002\u90a3\u4e48\u9664\u4e86\u7b2c\u4e00\u5929\u548c\u6700\u540e\u4e00\u5929\u4e4b\u5916\u6211\u4eec\u6bcf\u6b21\u53d6\u4e24\u5929\uff0c\u5c0f\u7684\u4e70\u5927\u7684\u5356\uff0c\u5e76\u4e14\u628a\u5356\u7684\u4ef7\u683c\u653e\u8fdb\u4e00\u4e2a\u6700\u5c0f\u5806\u3002\u5982\u679c\u4e70\u7684\u4ef7\u683c\u6bd4\u5806\u9876\u8fd8\u5927\uff0c\u5c31\u4ea4\u6362\u3002\u8fd9\u6837\u6211\u4eec\u4fdd\u8bc1\u4e86\u5356\u7684\u4ef7\u683c\u603b\u662f\u5927\u4e8e\u4e70\u7684\u4ef7\u683c\uff0c\u4e00\u5b9a\u80fd\u53d6\u5f97\u6700\u5927\u6536\u76ca\u3002 #include <queue> #include <vector> #include <cstdio> #include <cstdlib> #include <cstring> #include <iostream> #include <algorithm> using namespace std ; long long int price [ 100010 ], t , n , res ; int main () { ios :: sync_with_stdio ( false ); cin >> t ; while ( t -- ) { cin >> n ; priority_queue < long long int , vector < long long int > , greater < long long int > > q ; res = 0 ; for ( int i = 1 ; i <= n ; i ++ ) { cin >> price [ i ]; } res -= price [ 1 ]; res += price [ n ]; for ( int i = 2 ; i <= n -1 ; i = i + 2 ) { long long int buy = min ( price [ i ], price [ i + 1 ]); long long int sell = max ( price [ i ], price [ i + 1 ]); if ( ! q . empty ()) { if ( buy > q . top ()) { res = res -2 * q . top () + buy + sell ; q . pop (); q . push ( buy ); q . push ( sell ); } else { res = res - buy + sell ; q . push ( sell ); } } else { res = res - buy + sell ; q . push ( sell ); } } cout << res << endl ; } } \u4e0b\u9762\u6211\u4eec\u7ed3\u5408\u6570\u636e\u7ed3\u6784\u4e2d\u7684\u77e5\u8bc6\u8bb2\u89e3\u51e0\u4e2a\u4f8b\u5b50\u3002","title":"7.\u9500\u552e\u6bd4\u8d5b"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#8huffman","text":"\u8fd9\u540c\u6837\u662f\u300a\u7b97\u6cd5\u5bfc\u8bba\u300b\u4e0a\u7684\u4f8b\u5b50\u3002Huffman\u7f16\u7801\u662f\u5e7f\u6cdb\u7528\u4e8e\u6570\u636e\u6587\u4ef6\u538b\u7f29\u7684\u5341\u5206\u6709\u6548\u7684\u7f16\u7801\u65b9\u6cd5\u3002\u6211\u4eec\u53ef\u4ee5\u6709\u591a\u79cd\u65b9\u5f0f\u8868\u793a\u6587\u4ef6\u4e2d\u7684\u4fe1\u606f\uff0c\u5982\u679c\u752801\u4e32\u8868\u793a\u5b57\u7b26\uff0c\u91c7\u7528\u5b9a\u957f\u7f16\u7801\u8868\u793a\uff0c\u5219\u9700\u89813\u4f4d\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\uff0c\u6574\u4e2a\u6587\u4ef6\u7f16\u7801\u9700\u8981300000\u4f4d\uff1b\u91c7\u7528\u53d8\u957f\u7f16\u7801\u8868\u793a\uff0c\u7ed9\u9891\u7387\u9ad8\u7684\u5b57\u7b26\u8f83\u77ed\u7684\u7f16\u7801\uff0c\u9891\u7387\u4f4e\u7684\u5b57\u7b26\u8f83\u957f\u7684\u7f16\u7801\uff0c\u8fbe\u5230\u6574\u4f53\u7f16\u7801\u51cf\u5c11\u7684\u76ee\u7684\uff0c\u5219\u6574\u4e2a\u6587\u4ef6\u7f16\u7801\u9700\u8981(45\u00d71+13\u00d73+12\u00d73+16\u00d73+9\u00d74+5\u00d74)\u00d71000=224000\u4f4d\uff0c\u7531\u6b64\u53ef\u89c1\uff0c\u53d8\u957f\u7801\u6bd4\u5b9a\u957f\u7801\u65b9\u6848\u597d\uff0c\u603b\u7801\u957f\u51cf\u5c0f\u7ea625%\u3002 \u5bf9\u6bcf\u4e00\u4e2a\u5b57\u7b26\u89c4\u5b9a\u4e00\u4e2a01\u4e32\u4f5c\u4e3a\u5176\u4ee3\u7801\uff0c\u5e76\u8981\u6c42\u4efb\u4e00\u5b57\u7b26\u7684\u4ee3\u7801\u90fd\u4e0d\u662f\u5176\u4ed6\u5b57\u7b26\u4ee3\u7801\u7684\u524d\u7f00\uff0c\u8fd9\u79cd\u7f16\u7801\u79f0\u4e3a\u524d\u7f00\u7801\u3002\u53ef\u80fd\u65e0\u524d\u7f00\u7801\u662f\u4e00\u4e2a\u66f4\u597d\u7684\u540d\u5b57\uff0c\u4f46\u662f\u524d\u7f00\u7801\u662f\u4e00\u81f4\u8ba4\u53ef\u7684\u6807\u51c6\u672f\u8bed\u3002\u7f16\u7801\u7684\u524d\u7f00\u6027\u8d28\u53ef\u4ee5\u4f7f\u8bd1\u7801\u975e\u5e38\u7b80\u5355\uff1a\u4f8b\u5982001011101\u53ef\u4ee5\u552f\u4e00\u7684\u5206\u89e3\u4e3a0,0,101,1101\uff0c\u56e0\u800c\u5176\u8bd1\u7801\u4e3aaabe\u3002\u8bd1\u7801\u8fc7\u7a0b\u9700\u8981\u65b9\u4fbf\u7684\u53d6\u51fa\u7f16\u7801\u7684\u524d\u7f00\uff0c\u4e3a\u6b64\u53ef\u4ee5\u7528\u4e8c\u53c9\u6811\u4f5c\u4e3a\u524d\u7f00\u7801\u7684\u6570\u636e\u7ed3\u6784\uff1a\u6811\u53f6\u8868\u793a\u7ed9\u5b9a\u5b57\u7b26\uff1b\u4ece\u6811\u6839\u5230\u6811\u53f6\u7684\u8def\u5f84\u5f53\u4f5c\u8be5\u5b57\u7b26\u7684\u524d\u7f00\u7801\uff1b\u4ee3\u7801\u4e2d\u6bcf\u4e00\u4f4d\u76840\u62161\u5206\u522b\u4f5c\u4e3a\u6307\u793a\u67d0\u8282\u70b9\u5230\u5de6\u513f\u5b50\u6216\u53f3\u513f\u5b50\u7684\u8def\u6807\u3002 \u4ece\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff0c\u6700\u4f18\u524d\u7f00\u7f16\u7801\u7801\u7684\u4e8c\u53c9\u6811\u603b\u662f\u4e00\u68f5\u5b8c\u5168\u4e8c\u53c9\u6811\uff0c\u800c\u5b9a\u957f\u7f16\u7801\u7684\u4e8c\u53c9\u6811\u4e0d\u662f\u4e00\u68f5\u5b8c\u5168\u4e8c\u53c9\u6811\u3002 \u7ed9\u5b9a\u7f16\u7801\u5b57\u7b26\u96c6C\u53ca\u9891\u7387\u5206\u5e03f\uff0cC\u7684\u4e00\u4e2a\u524d\u7f00\u7801\u7f16\u7801\u65b9\u6848\u5bf9\u5e94\u4e8e\u4e00\u68f5\u4e8c\u53c9\u6811T\u3002\u5b57\u7b26c\u5728\u6811T\u4e2d\u7684\u6df1\u5ea6\u8bb0\u4e3adT\u00a9\uff0cdT\u00a9\u4e5f\u662f\u5b57\u7b26c\u7684\u524d\u7f00\u7801\u957f\u3002\u5219\u5e73\u5747\u7801\u957f\u5b9a\u4e49\u4e3a\uff1a \u4f7f\u5e73\u5747\u7801\u957f\u8fbe\u5230\u6700\u5c0f\u7684\u524d\u7f00\u7801\u7f16\u7801\u65b9\u6848\u79f0\u4e3aC\u7684\u6700\u4f18\u524d\u7f00\u7801\u3002 Huffman\u7f16\u7801\u7684\u6784\u9020\u65b9\u6cd5\uff1a\u5148\u5408\u5e76\u6700\u5c0f\u9891\u7387\u76842\u4e2a\u5b57\u7b26\u5bf9\u5e94\u7684\u5b50\u6811\uff0c\u8ba1\u7b97\u5408\u5e76\u540e\u7684\u5b50\u6811\u7684\u9891\u7387\uff1b\u91cd\u65b0\u6392\u5e8f\u5404\u4e2a\u5b50\u6811\uff1b\u5bf9\u4e0a\u8ff0\u6392\u5e8f\u540e\u7684\u5b50\u6811\u5e8f\u5217\u8fdb\u884c\u5408\u5e76\uff1b\u91cd\u590d\u4e0a\u8ff0\u8fc7\u7a0b\uff0c\u5c06\u5168\u90e8\u7ed3\u70b9\u5408\u5e76\u62101\u68f5\u5b8c\u6574\u7684\u4e8c\u53c9\u6811\uff1b\u5bf9\u4e8c\u53c9\u6811\u4e2d\u7684\u8fb9\u8d4b\u4e880\u30011\uff0c\u5f97\u5230\u5404\u5b57\u7b26\u7684\u53d8\u957f\u7f16\u7801\u3002 POJ3253\u4e00\u9053\u5c31\u662f\u5229\u7528\u8fd9\u4e00\u601d\u60f3\u7684\u5178\u578b\u4f8b\u9898\u3002\u9898\u76ee\u5927\u610f\u662f\u6709\u628a\u4e00\u5757\u65e0\u9650\u957f\u7684\u6728\u677f\u952f\u6210\u51e0\u5757\u7ed9\u5b9a\u957f\u5ea6\u7684\u5c0f\u6728\u677f\uff0c\u6bcf\u6b21\u952f\u90fd\u9700\u8981\u4e00\u5b9a\u8d39\u7528\uff0c\u8d39\u7528\u5c31\u662f\u5f53\u524d\u952f\u7684\u6728\u677f\u7684\u957f\u5ea6\u3002\u7ed9\u5b9a\u5404\u4e2a\u8981\u6c42\u7684\u5c0f\u6728\u677f\u7684\u957f\u5ea6\u4ee5\u53ca\u5c0f\u6728\u677f\u7684\u4e2a\u6570\uff0c\u6c42\u6700\u5c0f\u7684\u8d39\u7528\u3002\u4ee5\u8981\u6c423\u5757\u957f\u5ea6\u5206\u522b\u4e3a5,8,5\u7684\u6728\u677f\u4e3a\u4f8b\uff1a\u5148\u4ece\u65e0\u9650\u957f\u7684\u6728\u677f\u4e0a\u952f\u4e0b\u957f\u5ea6\u4e3a21\u7684\u6728\u677f\uff0c\u82b1\u8d3921\uff1b\u518d\u4ece\u957f\u5ea6\u4e3a21\u7684\u6728\u677f\u4e0a\u952f\u4e0b\u957f\u5ea6\u4e3a5\u7684\u6728\u677f\uff0c\u82b1\u8d395\uff1b\u518d\u4ece\u957f\u5ea6\u4e3a16\u7684\u6728\u677f\u4e0a\u952f\u4e0b\u957f\u5ea6\u4e3a8\u7684\u6728\u677f\uff0c\u82b1\u8d398\uff1b\u603b\u82b1\u8d39=21+5+8=34\u3002\u5229\u7528Huffman\u601d\u60f3\uff0c\u8981\u4f7f\u603b\u8d39\u7528\u6700\u5c0f\uff0c\u90a3\u4e48\u6bcf\u6b21\u53ea\u9009\u53d6\u6700\u5c0f\u957f\u5ea6\u7684\u4e24\u5757\u6728\u677f\u76f8\u52a0\uff0c\u518d\u628a\u8fd9\u4e9b\u548c\u7d2f\u52a0\u5230\u603b\u8d39\u7528\u4e2d\u5373\u53ef\u3002\u4e3a\u4e86\u63d0\u9ad8\u6548\u7387\uff0c\u4f7f\u7528\u4f18\u5148\u961f\u5217\u4f18\u5316\uff0c\u5e76\u4e14\u8fd8\u8981\u6ce8\u610f\u4f7f\u7528long long int\u4fdd\u5b58\u7ed3\u679c\u3002 AC\u4ee3\u7801\uff1a #include <queue> #include <cstdio> #include <iostream> using namespace std ; int main () { long long int sum ; int i , n , t , a , b ; while ( ~ scanf ( \"%d\" , & n )) { priority_queue < int , vector < int > , greater < int > > q ; for ( i = 0 ; i < n ; i ++ ) { scanf ( \"%d\" , & t ); q . push ( t ); } sum = 0 ; if ( q . size () == 1 ) { a = q . top (); sum += a ; q . pop (); } while ( q . size () > 1 ) { a = q . top (); q . pop (); b = q . top (); q . pop (); t = a + b ; sum += t ; q . push ( t ); } printf ( \"%lld \\n \" , sum ); } }","title":"8.Huffman\u7f16\u7801"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#9dijkstra","text":"Dijkstra\u7b97\u6cd5\u662f\u7531E.W.Dijkstra\u4e8e1959\u5e74\u63d0\u51fa\uff0c\u662f\u76ee\u524d\u516c\u8ba4\u7684\u6700\u597d\u7684\u6c42\u89e3\u6700\u77ed\u8def\u5f84\u7684\u65b9\u6cd5\uff0c\u4f7f\u7528\u7684\u6761\u4ef6\u662f\u56fe\u4e2d\u4e0d\u80fd\u5b58\u5728\u8d1f\u8fb9\u3002\u7b97\u6cd5\u89e3\u51b3\u7684\u662f\u5355\u4e2a\u6e90\u70b9\u5230\u5176\u4ed6\u9876\u70b9\u7684\u6700\u77ed\u8def\u5f84\u95ee\u9898\uff0c\u5176\u4e3b\u8981\u7279\u70b9\u662f\u6bcf\u6b21\u8fed\u4ee3\u65f6\u9009\u62e9\u7684\u4e0b\u4e00\u4e2a\u9876\u70b9\u662f\u6807\u8bb0\u70b9\u4e4b\u5916\u8ddd\u79bb\u6e90\u70b9\u6700\u8fd1\u7684\u9876\u70b9\uff0c\u7b80\u5355\u7684\u8bf4\u5c31\u662fbfs+\u8d2a\u5fc3\u7b97\u6cd5\u7684\u601d\u60f3\u3002 #include <iostream> #include <algorithm> #define INF 1000 #define MAX_V 100 using namespace std ; int main () { int V , E ; int i , j , m , n ; int cost [ MAX_V ][ MAX_V ]; int d [ MAX_V ]; bool used [ MAX_V ]; cin >> V >> E ; fill ( d , d + V + 1 , INF ); fill ( used , used + V , false ); for ( i = 0 ; i < V ; i ++ ) { for ( j = 0 ; j < V ; j ++ ) { if ( i == j ) cost [ i ][ j ] = 0 ; else cost [ i ][ j ] = INF ; } } for ( m = 0 ; m < E ; m ++ ) { cin >> i >> j >> cost [ i ][ j ]; cost [ j ][ i ] = cost [ i ][ j ]; } cin >> n ; d [ n ] = 0 ; //\u6e90\u70b9 while ( true ) { int v = V ; for ( m = 0 ; m < V ; m ++ ) { if (( ! used [ m ]) && ( d [ m ] < d [ v ])) v = m ; } if ( v == V ) break ; used [ v ] = true ; for ( m = 0 ; m < V ; m ++ ) { d [ m ] = min ( d [ m ], d [ v ] + cost [ v ][ m ]); } } for ( i = 0 ; i < V ; i ++ ) { cout << \"the shortest distance between \" << n << \" and \" << i << \" is \" << d [ i ] << endl ; } }","title":"9.Dijkstra\u7b97\u6cd5"},{"location":"algre/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/#10","text":"\u8bbe\u4e00\u4e2a\u7f51\u7edc\u8868\u793a\u4e3a\u65e0\u5411\u8fde\u901a\u5e26\u6743\u56feG =(V, E) , E\u4e2d\u6bcf\u6761\u8fb9(v,w)\u7684\u6743\u4e3ac[v][w]\u3002\u5982\u679cG\u7684\u5b50\u56feG\u2019\u662f\u4e00\u68f5\u5305\u542bG\u7684\u6240\u6709\u9876\u70b9\u7684\u6811\uff0c\u5219\u79f0G\u2019\u4e3aG\u7684\u751f\u6210\u6811\u3002\u751f\u6210\u6811\u7684\u4ee3\u4ef7\u662f\u6307\u751f\u6210\u6811\u4e0a\u5404\u8fb9\u6743\u7684\u603b\u548c\uff0c\u5728G\u7684\u6240\u6709\u751f\u6210\u6811\u4e2d\uff0c\u8017\u8d39\u6700\u5c0f\u7684\u751f\u6210\u6811\u79f0\u4e3aG\u7684\u6700\u5c0f\u751f\u6210\u6811\u3002\u4f8b\u5982\u5728\u8bbe\u8ba1\u901a\u4fe1\u7f51\u7edc\u65f6\uff0c\u7528\u56fe\u7684\u9876\u70b9\u8868\u793a\u57ce\u5e02\uff0c\u7528\u8fb9(v,w)\u7684\u6743c[v][w]\u8868\u793a\u5efa\u7acb\u57ce\u5e02v\u548c\u57ce\u5e02w\u4e4b\u95f4\u7684\u901a\u4fe1\u7ebf\u8def\u6240\u9700\u7684\u8d39\u7528\uff0c\u6700\u5c0f\u751f\u6210\u6811\u7ed9\u51fa\u5efa\u7acb\u901a\u4fe1\u7f51\u7edc\u7684\u6700\u7ecf\u6d4e\u65b9\u6848\u3002 \u6784\u9020\u6700\u5c0f\u751f\u6210\u6811\u7684Kruskal\u7b97\u6cd5\u548cPrim\u7b97\u6cd5\u90fd\u5229\u7528\u4e86MST(\u6700\u5c0f\u751f\u6210\u6811)\u6027\u8d28\uff1a\u8bbe\u9876\u70b9\u96c6U\u662fV\u7684\u771f\u5b50\u96c6(\u53ef\u4ee5\u4efb\u610f\u9009\u53d6)\uff0c\u5982\u679c(u,v)\u2208E\u4e3a\u6a2a\u8de8\u70b9\u96c6U\u548cV\u2014U\u7684\u8fb9\uff0c\u5373u\u2208U\uff0cv\u2208V- U\uff0c\u5e76\u4e14\u5728\u6240\u6709\u8fd9\u6837\u7684\u8fb9\u4e2d\uff0c(u,v)\u7684\u6743c[u][v]\u6700\u5c0f\uff0c\u5219\u4e00\u5b9a\u5b58\u5728G\u7684\u4e00\u68f5\u6700\u5c0f\u751f\u6210\u6811\uff0c\u5b83\u4ee5(u,v)\u4e3a\u5176\u4e2d\u4e00\u6761\u8fb9\u3002 \u4f7f\u7528\u53cd\u8bc1\u6cd5\u53ef\u4ee5\u5f88\u7b80\u5355\u7684\u8bc1\u660e\u6b64\u6027\u8d28\u3002\u5047\u8bbe\u5bf9G\u7684\u4efb\u610f\u4e00\u4e2a\u6700\u5c0f\u751f\u6210\u6811T\uff0c\u9488\u5bf9\u70b9\u96c6U\u548cV\u2014U\uff0c(u,v)\u2208E\u4e3a\u6a2a\u8de8\u8fd92\u4e2a\u70b9\u96c6\u7684\u6700\u5c0f\u6743\u8fb9\uff0cT\u4e0d\u5305\u542b\u8be5\u6700\u5c0f\u6743\u8fb9 \uff0c\u4f46T\u5305\u62ec\u8282\u70b9u\u548cv\u3002\u5c06 \u6dfb\u52a0\u5230\u6811T\u4e2d\uff0c\u6811T\u5c06\u53d8\u4e3a\u542b\u56de\u8def\u7684\u5b50\u56fe\uff0c\u5e76\u4e14\u8be5\u56de\u8def\u4e0a\u6709\u4e00\u6761\u4e0d\u540c\u4e8e \u7684\u8fb9 ,u\u2019\u2208U,v\u2019\u2208V-U\u3002\u5c06 \u5220\u53bb\uff0c\u5f97\u5230\u53e6\u4e00\u4e2a\u6811T\u2019\uff0c\u5373\u6811T\u2019\u662f\u901a\u8fc7\u5c06T\u4e2d\u7684\u8fb9 \u66ff\u6362\u4e3a \u5f97\u5230\u7684\u3002\u7531\u4e8e\u8fd92\u6761\u8fb9\u7684\u8017\u8d39\u6ee1\u8db3c[u][v]\u2264c[u\u2019][v\u2019]\uff0c\u6545\u5373T\u2019\u8017\u8d39\u2264T\u7684\u8017\u8d39\uff0c\u8fd9\u4e0eT\u662f\u4efb\u610f\u6700\u5c0f\u751f\u6210\u6811\u7684\u5047\u8bbe\u76f8\u77db\u76fe\uff0c\u4ece\u800c\u5f97\u8bc1\u3002 Prim\u7b97\u6cd5\u6bcf\u4e00\u6b65\u90fd\u9009\u62e9\u8fde\u63a5U\u548cV-U\u7684\u6743\u503c\u6700\u5c0f\u7684\u8fb9\u52a0\u5165\u751f\u6210\u6811\u3002 #include <iostream> #include <algorithm> #define MAX_V 100 #define INF 1000 using namespace std ; int main () { int V , E ; int i , j , m , n ; int cost [ MAX_V ][ MAX_V ]; int mincost [ MAX_V ]; bool used [ MAX_V ]; cin >> V >> E ; fill ( mincost , mincost + V + 1 , INF ); fill ( used , used + V , false ); for ( i = 0 ; i < V ; i ++ ) { for ( j = 0 ; j < V ; j ++ ) { if ( i == j ) cost [ i ][ j ] = 0 ; else cost [ i ][ j ] = INF ; } } for ( m = 0 ; m < E ; m ++ ) { cin >> i >> j >> cost [ i ][ j ]; cost [ j ][ i ] = cost [ i ][ j ]; } mincost [ 0 ] = 0 ; int res = 0 ; while ( true ) { int v = V ; for ( m = 0 ; m < V ; m ++ ) { if (( ! used [ m ]) && ( mincost [ m ] < mincost [ v ])) v = m ; } if ( v == V ) break ; used [ v ] = true ; res += mincost [ v ]; for ( m = 0 ; m < V ; m ++ ) { mincost [ m ] = min ( mincost [ m ], cost [ v ][ m ]); } } cout << res << endl ; } Kruskal\u7b97\u6cd5\u6bcf\u4e00\u6b65\u76f4\u63a5\u5c06\u6743\u503c\u6700\u5c0f\u7684\u4e0d\u6210\u73af\u7684\u8fb9\u52a0\u5165\u751f\u6210\u6811\uff0c\u6211\u4eec\u501f\u52a9\u5e76\u67e5\u96c6\u8fd9\u4e00\u6570\u636e\u7ed3\u6784\u53ef\u4ee5\u5b8c\u7f8e\u5b9e\u73b0\u5b83\u3002 #include <iostream> #include <algorithm> #define MAX_E 100 using namespace std ; struct edge { int u , v , cost ; }; int pre [ MAX_E ]; edge es [ MAX_E ]; int find ( int x ); void initvalue ( int x ); bool same ( int x , int y ); void unite ( int x , int y ); bool comp ( const edge & e1 , const edge & e2 ); int main () { int V , E ; int i , j , m , n ; cin >> V >> E ; initvalue ( V ); for ( i = 0 ; i < E ; i ++ ) cin >> es [ i ]. u >> es [ i ]. v >> es [ i ]. cost ; sort ( es , es + E , comp ); int res = 0 ; for ( i = 0 ; i < E ; i ++ ) { edge e = es [ i ]; if ( ! same ( e . u , e . v )) { unite ( e . u , e . v ); res += e . cost ; } } cout << res << endl ; } bool comp ( const edge & e1 , const edge & e2 ) { return e1 . cost < e2 . cost ; } void initvalue ( int x ) { for ( int i = 0 ; i < x ; i ++ ) pre [ i ] = i ; } int find ( int x ) { int r = x ; while ( pre [ r ] != r ) r = pre [ r ]; int i = x , j ; while ( pre [ i ] != r ) { j = pre [ i ]; pre [ i ] = r ; i = j ; } return r ; } bool same ( int x , int y ) { if ( find ( x ) == find ( y )) return true ; else return false ; } void unite ( int x , int y ) { int fx = find ( x ); int fy = find ( y ); if ( fx != fy ) pre [ fx ] = fy ; }","title":"10.\u6700\u5c0f\u751f\u6210\u6811\u7b97\u6cd5"},{"location":"algre/%E9%93%BE%E8%A1%A8%E7%AE%97%E6%B3%95/","text":"\u4e24\u4e2a\u94fe\u8868\u76f8\u52a0 \u00b6 https://leetcode.com/problems/add-two-numbers/description/ /** * Definition for singly-linked list. * function ListNode(val) { * this.val = val; * this.next = null; * } */ function ListNode ( val ) { this . val = val ; this . next = null ; } const addTwoNumbers = function ( l1 , l2 ) { // \u8f85\u52a9\u51fd\u6570\uff1a\u7ed9\u5b9a\u94fe\u8868\u4e24\u4e2a\u8282\u70b9\uff0c\u548c\u524d\u4e00\u6b21\u7684\u548c\uff0c\u7136\u540e\u83b7\u53d6\u8fd9\u4e00\u6b21\u7684\u548c val\uff0c\u4ee5\u53ca\u8d85\u51fa\u90e8\u5206 next const getVal = function ( l1 , l2 , plus = 0 ) { const val1 = l1 && l1 . val ; const val2 = l2 && l2 . val ; const total = val1 + val2 + plus ; return { val : total % 10 , next : parseInt ( total / 10 ), } } let l = null ; let plus = 0 ; // \u4ece\u540e\u5411\u524d\u9012\u5f52\u8ba1\u7b97\u94fe\u8868\u7684\u8282\u70b9 function setNode ( vm , l1 , l2 ) { if ( ! l1 && ! l2 && ! plus ) { return vm ; } const totalObj = getVal ( l1 , l2 , plus ) // \u5f53\u524d\u8282\u70b9\u8ba1\u7b97\u548c\u8d85\u8fc710\uff0c\u5c31\u7d2f\u8ba1\u5230\u4e0b\u4e00\u4f4d\u4e2d if ( totalObj . next ) { plus = totalObj . next ; } else { plus = 0 } // \u5982\u679c\u94fe\u8868\u540e\u9762\u6709\u8282\u70b9\uff0c\u90a3\u4e48\u7ee7\u7eed\u52a0\u5165\u540e\u9762\u7684\u8282\u70b9 if ( ! l ) { l = new ListNode ( totalObj . val ); vm = l ; } else { vm . next = new ListNode ( totalObj . val ); vm = vm . next ; } if ( ( l1 && l1 . next ) || ( l2 && l2 . next ) || plus ) { return setNode ( vm , l1 && l1 . next , l2 && l2 . next ) } } setNode ( l , l1 , l2 ) return l ; };","title":"\u94fe\u8868\u7b97\u6cd5.md"},{"location":"algre/%E9%93%BE%E8%A1%A8%E7%AE%97%E6%B3%95/#_1","text":"https://leetcode.com/problems/add-two-numbers/description/ /** * Definition for singly-linked list. * function ListNode(val) { * this.val = val; * this.next = null; * } */ function ListNode ( val ) { this . val = val ; this . next = null ; } const addTwoNumbers = function ( l1 , l2 ) { // \u8f85\u52a9\u51fd\u6570\uff1a\u7ed9\u5b9a\u94fe\u8868\u4e24\u4e2a\u8282\u70b9\uff0c\u548c\u524d\u4e00\u6b21\u7684\u548c\uff0c\u7136\u540e\u83b7\u53d6\u8fd9\u4e00\u6b21\u7684\u548c val\uff0c\u4ee5\u53ca\u8d85\u51fa\u90e8\u5206 next const getVal = function ( l1 , l2 , plus = 0 ) { const val1 = l1 && l1 . val ; const val2 = l2 && l2 . val ; const total = val1 + val2 + plus ; return { val : total % 10 , next : parseInt ( total / 10 ), } } let l = null ; let plus = 0 ; // \u4ece\u540e\u5411\u524d\u9012\u5f52\u8ba1\u7b97\u94fe\u8868\u7684\u8282\u70b9 function setNode ( vm , l1 , l2 ) { if ( ! l1 && ! l2 && ! plus ) { return vm ; } const totalObj = getVal ( l1 , l2 , plus ) // \u5f53\u524d\u8282\u70b9\u8ba1\u7b97\u548c\u8d85\u8fc710\uff0c\u5c31\u7d2f\u8ba1\u5230\u4e0b\u4e00\u4f4d\u4e2d if ( totalObj . next ) { plus = totalObj . next ; } else { plus = 0 } // \u5982\u679c\u94fe\u8868\u540e\u9762\u6709\u8282\u70b9\uff0c\u90a3\u4e48\u7ee7\u7eed\u52a0\u5165\u540e\u9762\u7684\u8282\u70b9 if ( ! l ) { l = new ListNode ( totalObj . val ); vm = l ; } else { vm . next = new ListNode ( totalObj . val ); vm = vm . next ; } if ( ( l1 && l1 . next ) || ( l2 && l2 . next ) || plus ) { return setNode ( vm , l1 && l1 . next , l2 && l2 . next ) } } setNode ( l , l1 , l2 ) return l ; };","title":"\u4e24\u4e2a\u94fe\u8868\u76f8\u52a0"},{"location":"javascript/ES6%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%94%9F%E6%88%90%E5%99%A8/","text":"\u8fed\u4ee3\u5668(Iterator)\u548c\u751f\u6210\u5668(Generator) \u00b6 \u200b \u7528\u5faa\u73af\u8bed\u53e5\u8fed\u4ee3\u6570\u636e\u65f6\uff0c\u5fc5\u987b\u8981\u521d\u59cb\u5316\u4e00\u4e2a\u53d8\u91cf\u6765\u8bb0\u5f55\u6bcf\u4e00\u6b21\u8fed\u4ee3\u5728\u6570\u636e\u96c6\u5408\u4e2d\u7684\u4f4d\u7f6e\uff0c\u800c\u5728\u8bb8\u591a\u7f16\u7a0b\u8bed\u8a00\u4e2d\uff0c\u5df2\u7ecf\u5f00\u59cb\u901a\u8fc7\u7a0b\u5e8f\u5316\u7684\u65b9\u5f0f\u7528\u8fed\u4ee3\u5668\u5bf9\u8c61\u8fd4\u56de\u8fed\u4ee3\u8fc7\u7a0b\u4e2d\u96c6\u5408\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20 \u8fed\u4ee3\u5668\u7684\u4f7f\u7528\u53ef\u4ee5\u6781\u5927\u5730\u7b80\u5316\u6570\u636e\u64cd\u4f5c\uff0c\u4e8e\u662fES6\u4e5f\u5411JS\u4e2d\u6dfb\u52a0\u4e86\u8fd9\u4e2a\u8fed\u4ee3\u5668\u7279\u6027\u3002\u65b0\u7684\u6570\u7ec4\u65b9\u6cd5\u548c\u65b0\u7684\u96c6\u5408\u7c7b\u578b(\u5982Set\u96c6\u5408\u4e0eMap\u96c6\u5408)\u90fd\u4f9d\u8d56\u8fed\u4ee3\u5668\u7684\u5b9e\u73b0\uff0c\u8fd9\u4e2a\u65b0\u7279\u6027\u5bf9\u4e8e\u9ad8\u6548\u7684\u6570\u636e\u5904\u7406\u800c\u8a00\u662f\u4e0d\u53ef\u6216\u7f3a\u7684\uff0c\u5728\u8bed\u8a00\u7684\u5176\u4ed6\u7279\u6027\u4e2d\u4e5f\u90fd\u6709\u8fed\u4ee3\u5668\u7684\u8eab\u5f71\uff1a\u65b0\u7684for-of\u5faa\u73af\u3001\u5c55\u5f00\u8fd0\u7b97\u7b26(...)\uff0c\u751a\u81f3\u8fde\u5f02\u6b65\u7f16\u7a0b\u90fd\u53ef\u4ee5\u4f7f\u7528\u8fed\u4ee3\u5668 \u672c\u6587\u5c06\u8be6\u7ec6\u4ecb\u7ecdES6\u4e2d\u7684\u8fed\u4ee3\u5668(Iterator)\u548c\u751f\u6210\u5668(Generator) \u5f15\u5165 \u00b6 \u4e0b\u9762\u662f\u4e00\u6bb5\u6807\u51c6\u7684for\u5faa\u73af\u4ee3\u7801\uff0c\u901a\u8fc7\u53d8\u91cfi\u6765\u8ddf\u8e2acolors\u6570\u7ec4\u7684\u7d22\u5f15\uff0c\u5faa\u73af\u6bcf\u6b21\u6267\u884c\u65f6\uff0c\u5982\u679ci\u5c0f\u4e8e\u6570\u7ec4\u957f\u5ea6len\u5219\u52a01\uff0c\u5e76\u6267\u884c\u4e0b\u4e00\u6b21\u5faa\u73af var colors = [ \"red\" , \"green\" , \"blue\" ]; for ( var i = 0 , len = colors . length ; i < len ; i ++ ) { console . log ( colors [ i ]); } \u867d\u7136\u5faa\u73af\u8bed\u53e5\u8bed\u6cd5\u7b80\u5355\uff0c\u4f46\u5982\u679c\u5c06==\u591a\u4e2a\u5faa\u73af\u5d4c\u5957\u5219\u9700\u8981\u8ffd\u8e2a\u591a\u4e2a\u53d8\u91cf==\uff0c\u4ee3\u7801\u590d\u6742\u5ea6\u4f1a\u5927\u5927\u589e\u52a0\uff0c\u4e00\u4e0d\u5c0f\u5fc3\u5c31\u9519\u8bef\u4f7f\u7528\u4e86\u5176\u4ed6for\u5faa\u73af\u7684\u8ddf\u8e2a\u53d8\u91cf\uff0c\u4ece\u800c\u5bfc\u81f4\u7a0b\u5e8f\u51fa\u9519\u3002\u8fed\u4ee3\u5668\u7684\u51fa\u73b0\u65e8\u5728\u6d88\u9664\u8fd9\u79cd\u590d\u6742\u6027\u5e76\u51cf\u5c11\u5faa\u73af\u4e2d\u7684\u9519\u8bef \u8fed\u4ee3\u5668 \u00b6 \u8fed\u4ee3\u5668\u662f\u4e00\u79cd\u7279\u6b8a\u5bf9\u8c61\uff0c\u5b83\u5177\u6709\u4e00\u4e9b\u4e13\u95e8\u4e3a\u8fed\u4ee3\u8fc7\u7a0b\u8bbe\u8ba1\u7684\u4e13\u6709\u63a5\u53e3\uff0c\u6240\u6709\u7684\u8fed\u4ee3\u5668\u5bf9\u8c61\u90fd\u6709\u4e00\u4e2anext()\u65b9\u6cd5\uff0c\u6bcf\u6b21\u8c03\u7528\u90fd\u8fd4\u56de\u4e00\u4e2a\u7ed3\u679c\u5bf9\u8c61\u3002\u7ed3\u679c\u5bf9\u8c61\u6709\u4e24\u4e2a\u5c5e\u6027\uff1a\u4e00\u4e2a\u662fvalue\uff0c\u8868\u793a\u4e0b\u4e00\u4e2a\u5c06\u8981\u8fd4\u56de\u7684\u503c\uff1b\u53e6\u4e00\u4e2a\u662fdone\uff0c\u5b83\u662f\u4e00\u4e2a\u5e03\u5c14\u7c7b\u578b\u7684\u503c\uff0c\u5f53\u6ca1\u6709\u66f4\u591a\u53ef\u8fd4\u56de\u6570\u636e\u65f6\u8fd4\u56detrue\u3002\u8fed\u4ee3\u5668\u8fd8\u4f1a\u4fdd\u5b58\u4e00\u4e2a\u5185\u90e8\u6307\u9488\uff0c\u7528\u6765\u6307\u5411\u5f53\u524d\u96c6\u5408\u4e2d\u503c\u7684\u4f4d\u7f6e\uff0c\u6bcf\u8c03\u7528\u4e00\u6b21next()\u65b9\u6cd5\uff0c\u90fd\u4f1a\u8fd4\u56de\u4e0b\u4e00\u4e2a\u53ef\u7528\u7684\u503c \u5982\u679c\u5728\u6700\u540e\u4e00\u4e2a\u503c\u8fd4\u56de\u540e\u518d\u8c03\u7528next()\u65b9\u6cd5\uff0c\u90a3\u4e48\u8fd4\u56de\u7684\u5bf9\u8c61\u4e2d\u5c5e\u6027done\u7684\u503c\u4e3atrue\uff0c\u5c5e\u6027value\u5219\u5305\u542b\u8fed\u4ee3\u5668\u6700\u7ec8\u8fd4\u56de\u7684\u503c\uff0c\u8fd9\u4e2a\u8fd4\u56de\u503c\u4e0d\u662f\u6570\u636e\u96c6\u7684\u4e00\u90e8\u5206\uff0c\u5b83\u4e0e\u51fd\u6570\u7684\u8fd4\u56de\u503c\u7c7b\u4f3c\uff0c\u662f\u51fd\u6570\u8c03\u7528\u8fc7\u7a0b\u4e2d\u6700\u540e\u4e00\u6b21\u7ed9\u8c03\u7528\u8005\u4f20\u9012\u4fe1\u606f\u7684\u65b9\u6cd5\uff0c\u5982\u679c\u6ca1\u6709\u76f8\u5173\u6570\u636e\u5219\u8fd4\u56deundefined \u4e0b\u9762\u7528ES5\u7684\u8bed\u6cd5\u521b\u5efa\u4e00\u4e2a\u8fed\u4ee3\u5668 function createIterator ( items ) { var i = 0 ; return { next : function () { var done = ( i >= items . length ); var value = ! done ? items [ i ++ ] : undefined ; return { done : done , value : value }; } }; } var iterator = createIterator ([ 1 , 2 , 3 ]); console . log ( iterator . next ()); // \"{ value: 1, done: false }\" console . log ( iterator . next ()); // \"{ value: 2, done: false }\" console . log ( iterator . next ()); // \"{ value: 3, done: false }\" console . log ( iterator . next ()); // \"{ value: undefined, done: true }\" // \u4e4b\u540e\u7684\u6240\u6709\u8c03\u7528 console . log ( iterator . next ()); // \"{ value: undefined, done: true }\" \u5728\u4e0a\u9762\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0ccreateIterator()\u65b9\u6cd5\u8fd4\u56de\u7684\u5bf9\u8c61\u6709\u4e00\u4e2anext()\u65b9\u6cd5\uff0c\u6bcf\u6b21\u8c03\u7528\u65f6\uff0citems\u6570\u7ec4\u7684\u4e0b\u4e00\u4e2a\u503c\u4f1a\u4f5c\u4e3avalue\u8fd4\u56de\u3002\u5f53i\u4e3a3\u65f6\uff0cdone\u53d8\u4e3atrue\uff1b\u6b64\u65f6\u4e09\u5143\u8868\u8fbe\u5f0f\u4f1a\u5c06value\u7684\u503c\u8bbe\u7f6e\u4e3aundefined\u3002\u6700\u540e\u4e24\u6b21\u8c03\u7528\u7684\u7ed3\u679c\u4e0eES6\u8fed\u4ee3\u5668\u7684\u6700\u7ec8\u8fd4\u56de\u673a\u5236\u7c7b\u4f3c\uff0c\u5f53\u6570\u636e\u96c6\u88ab\u7528\u5c3d\u540e\u4f1a\u8fd4\u56de\u6700\u7ec8\u7684\u5185\u5bb9 \u4e0a\u9762\u8fd9\u4e2a\u793a\u4f8b\u5f88\u590d\u6742\uff0c\u800c\u5728ES6\u4e2d\uff0c\u8fed\u4ee3\u5668\u7684\u7f16\u5199\u89c4\u5219\u4e5f\u540c\u6837\u590d\u6742\uff0c\u4f46ES6\u540c\u65f6\u8fd8\u5f15\u5165\u4e86\u4e00\u4e2a\u751f\u6210\u5668\u5bf9\u8c61\uff0c\u5b83\u53ef\u4ee5\u8ba9\u521b\u5efa\u8fed\u4ee3\u5668\u5bf9\u8c61\u7684\u8fc7\u7a0b\u53d8\u5f97\u66f4\u7b80\u5355 \u751f\u6210\u5668 \u00b6 \u751f\u6210\u5668\u662f\u4e00\u79cd\u8fd4\u56de\u8fed\u4ee3\u5668\u7684\u51fd\u6570\uff0c\u901a\u8fc7function\u5173\u952e\u5b57\u540e\u7684\u661f\u53f7(*)\u6765\u8868\u793a\uff0c\u51fd\u6570\u4e2d\u4f1a\u7528\u5230\u65b0\u7684\u5173\u952e\u5b57yield\u3002\u661f\u53f7\u53ef\u4ee5\u7d27\u6328\u7740function\u5173\u952e\u5b57\uff0c\u4e5f\u53ef\u4ee5\u5728\u4e2d\u95f4\u6dfb\u52a0\u4e00\u4e2a\u7a7a\u683c // \u751f\u6210\u5668 function * createIterator () { yield 1 ; yield 2 ; yield 3 ; } // \u751f\u6210\u5668\u80fd\u50cf\u6b63\u89c4\u51fd\u6570\u90a3\u6837\u88ab\u8c03\u7528\uff0c\u4f46\u4f1a\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668 let iterator = createIterator (); console . log ( iterator . next (). value ); // 1 console . log ( iterator . next (). value ); // 2 console . log ( iterator . next (). value ); // 3 \u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0ccreatelterator()\u524d\u7684\u661f\u53f7\u8868\u660e\u5b83\u662f\u4e00\u4e2a\u751f\u6210\u5668\uff1byield\u5173\u952e\u5b57\u4e5f\u662fES6\u7684\u65b0\u7279\u6027\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b83\u6765\u6307\u5b9a\u8c03\u7528\u8fed\u4ee3\u5668\u7684next()\u65b9\u6cd5\u65f6\u7684\u8fd4\u56de\u503c\u53ca\u8fd4\u56de\u987a\u5e8f\u3002\u751f\u6210\u8fed\u4ee3\u5668\u540e\uff0c\u8fde\u7eed3\u6b21\u8c03\u7528\u5b83\u7684next()\u65b9\u6cd5\u8fd4\u56de3\u4e2a\u4e0d\u540c\u7684\u503c\uff0c\u5206\u522b\u662f1\u30012\u548c3\u3002\u751f\u6210\u5668\u7684\u8c03\u7528\u8fc7\u7a0b\u4e0e\u5176\u4ed6\u51fd\u6570\u4e00\u6837\uff0c\u6700\u7ec8\u8fd4\u56de\u7684\u662f\u521b\u5efa\u597d\u7684\u8fed\u4ee3\u5668 \u751f\u6210\u5668\u51fd\u6570\u6700\u6709\u8da3\u7684\u90e8\u5206\u662f\uff0c\u6bcf\u5f53\u6267\u884c\u5b8c\u4e00\u6761yield\u8bed\u53e5\u540e\u51fd\u6570\u5c31\u4f1a\u81ea\u52a8\u505c\u6b62\u6267\u884c\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5728\u4e0a\u9762\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u6267\u884c\u5b8c\u8bed\u53e5yield 1\u4e4b\u540e\uff0c\u51fd\u6570\u4fbf\u4e0d\u518d\u6267\u884c\u5176\u4ed6\u4efb\u4f55\u8bed\u53e5\uff0c\u76f4\u5230\u518d\u6b21\u8c03\u7528\u8fed\u4ee3\u5668\u7684next()\u65b9\u6cd5\u624d\u4f1a\u7ee7\u7eed\u6267\u884cyield 2\u8bed\u53e5\u3002\u751f\u6210\u5668\u51fd\u6570\u7684\u8fd9\u79cd\u4e2d\u6b62\u51fd\u6570\u6267\u884c\u7684\u80fd\u529b\u6709\u5f88\u591a\u6709\u8da3\u7684\u5e94\u7528 \u4f7f\u7528yield\u5173\u952e\u5b57\u53ef\u4ee5\u8fd4\u56de\u4efb\u4f55\u503c\u6216\u8868\u8fbe\u5f0f\uff0c\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7\u751f\u6210\u5668\u51fd\u6570\u6279\u91cf\u5730\u7ed9\u8fed\u4ee3\u5668\u6dfb\u52a0\u5143\u7d20\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u5728\u5faa\u73af\u4e2d\u4f7f\u7528yield\u5173\u952e\u5b57 function * createIterator ( items ) { for ( let i = 0 ; i < items . length ; i ++ ) { yield items [ i ]; } } let iterator = createIterator ([ 1 , 2 , 3 ]); console . log ( iterator . next ()); // \"{ value: 1, done: false }\" console . log ( iterator . next ()); // \"{ value: 2, done: false }\" console . log ( iterator . next ()); // \"{ value: 3, done: false }\" console . log ( iterator . next ()); // \"{ value: undefined, done: true }\" // \u4e4b\u540e\u7684\u6240\u6709\u8c03\u7528 console . log ( iterator . next ()); // \"{ value: undefined, done: true }\" \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u7ed9\u751f\u6210\u5668\u51fd\u6570createlterator()\u4f20\u5165\u4e00\u4e2aitems\u6570\u7ec4\uff0c\u800c\u5728\u51fd\u6570\u5185\u90e8\uff0cfor\u5faa\u73af\u4e0d\u65ad\u4ece\u6570\u7ec4\u4e2d\u751f\u6210\u65b0\u7684\u5143\u7d20\u653e\u5165\u8fed\u4ee3\u5668\u4e2d\uff0c\u6bcf\u9047\u5230\u4e00\u4e2ayield\u8bed\u53e5\u5faa\u73af\u90fd\u4f1a\u505c\u6b62\uff1b\u6bcf\u6b21\u8c03\u7528\u8fed\u4ee3\u5668\u7684next()\u65b9\u6cd5\uff0c\u5faa\u73af\u4f1a\u7ee7\u7eed\u8fd0\u884c\u5e76\u6267\u884c\u4e0b\u4e00\u6761yield\u8bed\u53e5 \u751f\u6210\u5668\u51fd\u6570\u662fES6\u4e2d\u7684\u4e00\u4e2a\u91cd\u8981\u7279\u6027\uff0c\u53ef\u4ee5\u5c06\u5176\u7528\u4e8e\u6240\u6709\u652f\u6301\u51fd\u6570\u4f7f\u7528\u7684\u5730\u65b9 \u3010\u4f7f\u7528\u9650\u5236\u3011 yield\u5173\u952e\u5b57\u53ea\u53ef\u5728\u751f\u6210\u5668\u5185\u90e8\u4f7f\u7528\uff0c\u5728\u5176\u4ed6\u5730\u65b9\u4f7f\u7528\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u629b\u51fa\u9519\u8bef function * createIterator ( items ) { items . forEach ( function ( item ) { // \u8bed\u6cd5\u9519\u8bef yield item + 1 ; }); } \u4ece\u5b57\u9762\u4e0a\u770b\uff0cyield\u5173\u952e\u5b57\u786e\u5b9e\u5728createlterator()\u51fd\u6570\u5185\u90e8\uff0c\u4f46\u662f\u5b83\u4e0ereturn\u5173\u952e\u5b57\u4e00\u6837\uff0c\u4e8c\u8005\u90fd\u4e0d\u80fd\u7a7f\u900f\u51fd\u6570\u8fb9\u754c\u3002\u5d4c\u5957\u51fd\u6570\u4e2d\u7684return\u8bed\u53e5\u4e0d\u80fd\u7528\u4f5c\u5916\u90e8\u51fd\u6570\u7684\u8fd4\u56de\u8bed\u53e5\uff0c\u800c\u6b64\u5904\u5d4c\u5957\u51fd\u6570\u4e2d\u7684yield\u8bed\u53e5\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u629b\u51fa\u8bed\u6cd5\u9519\u8bef \u3010\u751f\u6210\u5668\u51fd\u6570\u8868\u8fbe\u5f0f\u3011 \u4e5f\u53ef\u4ee5\u901a\u8fc7\u51fd\u6570\u8868\u8fbe\u5f0f\u6765\u521b\u5efa\u751f\u6210\u5668\uff0c\u53ea\u9700\u5728function\u5173\u952e\u5b57\u548c\u5c0f\u62ec\u53f7\u4e2d\u95f4\u6dfb\u52a0\u4e00\u4e2a\u661f\u53f7(*)\u5373\u53ef let createIterator = function * ( items ) { for ( let i = 0 ; i < items . length ; i ++ ) { yield items [ i ]; } }; let iterator = createIterator ([ 1 , 2 , 3 ]); console . log ( iterator . next ()); // \"{ value: 1, done: false }\" console . log ( iterator . next ()); // \"{ value: 2, done: false }\" console . log ( iterator . next ()); // \"{ value: 3, done: false }\" console . log ( iterator . next ()); // \"{ value: undefined, done: true }\" // \u4e4b\u540e\u7684\u6240\u6709\u8c03\u7528 console . log ( iterator . next ()); // \"{ value: undefined, done: true }\" \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0ccreatelterator()\u662f\u4e00\u4e2a\u751f\u6210\u5668\u51fd\u6570\u8868\u8fbe\u5f0f\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u51fd\u6570\u58f0\u660e\u3002\u7531\u4e8e\u51fd\u6570\u8868\u8fbe\u5f0f\u662f\u533f\u540d\u7684\uff0c\u56e0\u6b64\u661f\u53f7\u76f4\u63a5\u653e\u5728function\u5173\u952e\u5b57\u548c\u5c0f\u62ec\u53f7\u4e4b\u95f4\u3002\u6b64\u5916\uff0c\u8fd9\u4e2a\u793a\u4f8b\u57fa\u672c\u4e0e\u524d\u4f8b\u76f8\u540c\uff0c\u4f7f\u7528\u7684\u4e5f\u662ffor\u5faa\u73af \u4e0d\u80fd\u7528\u7bad\u5934\u51fd\u6570\u6765\u521b\u5efa\u751f\u6210\u5668 \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 \u3010\u751f\u6210\u5668\u5bf9\u8c61\u7684\u65b9\u6cd5\u3011 \u7531\u4e8e\u751f\u6210\u5668\u672c\u8eab\u5c31\u662f\u51fd\u6570\uff0c\u56e0\u800c\u53ef\u4ee5\u5c06\u5b83\u4eec\u6dfb\u52a0\u5230\u5bf9\u8c61\u4e2d\u3002\u4f8b\u5982\uff0c\u5728ES5\u98ce\u683c\u7684\u5bf9\u8c61\u5b57\u9762\u91cf\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u51fd\u6570\u8868\u8fbe\u5f0f\u6765\u521b\u5efa\u751f\u6210\u5668 var o = { createIterator: function *(items) { for (let i = 0; i < items.length; i++) { yield items[i]; } } }; let iterator = o.createIterator([1, 2, 3]); \u4e5f\u53ef\u4ee5\u7528ES6\u7684\u51fd\u6570\u65b9\u6cd5\u7684\u7b80\u5199\u65b9\u5f0f\u6765\u521b\u5efa\u751f\u6210\u5668\uff0c\u53ea\u9700\u5728\u51fd\u6570\u540d\u524d\u6dfb\u52a0\u4e00\u4e2a\u661f\u53f7(*) var o = { *createIterator(items) { for (let i = 0; i < items.length; i++) { yield items[i]; } } }; let iterator = o.createIterator([1, 2, 3]); \u8fd9\u4e9b\u793a\u4f8b\u4f7f\u7528\u4e86\u4e0d\u540c\u4e8e\u4e4b\u524d\u7684\u8bed\u6cd5\uff0c\u4f46\u5b83\u4eec\u7684\u529f\u80fd\u5b9e\u9645\u4e0a\u662f\u7b49\u4ef7\u7684\u3002\u5728\u7b80\u5199\u7248\u672c\u4e2d\uff0c\u7531\u4e8e\u4e0d\u4f7f\u7528function\u5173\u952e\u5b57\u6765\u5b9a\u4e49createlterator()\u65b9\u6cd5\uff0c\u56e0\u6b64\u5c3d\u7ba1\u53ef\u4ee5\u5728\u661f\u53f7\u548c\u65b9\u6cd5\u540d\u4e4b\u95f4\u7559\u767d\uff0c\u4f46\u8fd8\u662f\u5c06\u661f\u53f7\u7d27\u8d34\u5728\u65b9\u6cd5\u540d\u4e4b\u524d \u3010\u72b6\u6001\u673a\u3011 \u751f\u6210\u5668\u7684\u4e00\u4e2a\u5e38\u7528\u529f\u80fd\u662f\u751f\u6210\u72b6\u6001\u673a let state = function*(){ while(1){ yield 'A'; yield 'B'; yield 'C'; } } let status = state(); console.log(status.next().value);//'A' console.log(status.next().value);//'B' console.log(status.next().value);//'C' console.log(status.next().value);//'A' console.log(status.next().value);//'B' \u53ef\u8fed\u4ee3\u5bf9\u8c61 \u00b6 \u53ef\u8fed\u4ee3\u5bf9\u8c61\u5177\u6709Symbol.iterator\u5c5e\u6027\uff0c\u662f\u4e00\u79cd\u4e0e\u8fed\u4ee3\u5668\u5bc6\u5207\u76f8\u5173\u7684\u5bf9\u8c61\u3002Symbol.iterator\u901a\u8fc7\u6307\u5b9a\u7684\u51fd\u6570\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u4f5c\u7528\u4e8e\u9644\u5c5e\u5bf9\u8c61\u7684\u8fed\u4ee3\u5668\u3002\u5728ES6\u4e2d\uff0c\u6240\u6709\u7684\u96c6\u5408\u5bf9\u8c61(\u6570\u7ec4\u3001Set\u96c6\u5408\u53caMap\u96c6\u5408)\u548c\u5b57\u7b26\u4e32\u90fd\u662f\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u5bf9\u8c61\u4e2d\u90fd\u6709\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668\u3002ES6\u4e2d\u65b0\u52a0\u5165\u7684\u7279\u6027for-of\u5faa\u73af\u9700\u8981\u7528\u5230\u53ef\u8fed\u4ee3\u5bf9\u8c61\u7684\u8fd9\u4e9b\u529f\u80fd [\u6ce8\u610f]\u7531\u4e8e\u751f\u6210\u5668\u9ed8\u8ba4\u4f1a\u4e3aSymbol.iterator\u5c5e\u6027\u8d4b\u503c\uff0c\u56e0\u6b64\u6240\u6709\u901a\u8fc7\u751f\u6210\u5668\u521b\u5efa\u7684\u8fed\u4ee3\u5668\u90fd\u662f\u53ef\u8fed\u4ee3\u5bf9\u8c61 \u4e00\u5f00\u59cb\uff0c\u6211\u4eec\u66fe\u63d0\u5230\u8fc7\u5faa\u73af\u5185\u90e8\u7d22\u5f15\u8ddf\u8e2a\u7684\u76f8\u5173\u95ee\u9898\uff0c\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u9700\u8981\u4e24\u4e2a\u5de5\u5177\uff1a\u4e00\u4e2a\u662f\u8fed\u4ee3\u5668\uff0c\u53e6\u4e00\u4e2a\u662ffor-of\u5faa\u73af\u3002\u5982\u6b64\u4e00\u6765\uff0c\u4fbf\u4e0d\u9700\u8981\u518d\u8ddf\u8e2a\u6574\u4e2a\u96c6\u5408\u7684\u7d22\u5f15\uff0c\u53ea\u9700\u5173\u6ce8\u96c6\u5408\u4e2d\u8981\u5904\u7406\u7684\u5185\u5bb9 for-of\u5faa\u73af\u6bcf\u6267\u884c\u4e00\u6b21\u90fd\u4f1a\u8c03\u7528\u53ef\u8fed\u4ee3\u5bf9\u8c61\u7684next()\u65b9\u6cd5\uff0c\u5e76\u5c06\u8fed\u4ee3\u5668\u8fd4\u56de\u7684\u7ed3\u679c\u5bf9\u8c61\u7684value\u5c5e\u6027\u5b58\u50a8\u5728\u4e00\u4e2a\u53d8\u91cf\u4e2d\uff0c\u5faa\u73af\u5c06\u6301\u7eed\u6267\u884c\u8fd9\u4e00\u8fc7\u7a0b\u76f4\u5230\u8fd4\u56de\u5bf9\u8c61\u7684done\u5c5e\u6027\u7684\u503c\u4e3atrue\u3002\u8fd9\u91cc\u6709\u4e2a\u793a\u4f8b let values = [1, 2, 3]; for (let num of values) { //1 //2 //3 console.log(num); } \u8fd9\u6bb5for-of\u5faa\u73af\u7684\u4ee3\u7801\u901a\u8fc7\u8c03\u7528values\u6570\u7ec4\u7684Symbol.iterator\u65b9\u6cd5\u6765\u83b7\u53d6\u8fed\u4ee3\u5668\uff0c\u8fd9\u4e00\u8fc7\u7a0b\u662f\u5728JS\u5f15\u64ce\u80cc\u540e\u5b8c\u6210\u7684\u3002\u968f\u540e\u8fed\u4ee3\u5668\u7684next()\u65b9\u6cd5\u88ab\u591a\u6b21\u8c03\u7528\uff0c\u4ece\u5176\u8fd4\u56de\u5bf9\u8c61\u7684value\u5c5e\u6027\u8bfb\u53d6\u503c\u5e76\u5b58\u50a8\u5728\u53d8\u91cfnum\u4e2d\uff0c\u4f9d\u6b21\u4e3a1\u30012\u548c3\uff0c\u5f53\u7ed3\u679c\u5bf9\u8c61\u7684done\u5c5e\u6027\u503c\u4e3atrue\u65f6\u5faa\u73af\u9000\u51fa\uff0c\u6240\u4ee5num\u4e0d\u4f1a\u88ab\u8d4b\u503c\u4e3aundefined \u5982\u679c\u53ea\u9700\u8fed\u4ee3\u6570\u7ec4\u6216\u96c6\u5408\u4e2d\u7684\u503c\uff0c\u7528for-of\u5faa\u73af\u4ee3\u66fffor\u5faa\u73af\u662f\u4e2a\u4e0d\u9519\u7684\u9009\u62e9\u3002\u76f8\u6bd4\u4f20\u7edf\u7684for\u5faa\u73af\uff0cfor-of\u5faa\u73af\u7684\u63a7\u5236\u6761\u4ef6\u66f4\u7b80\u5355\uff0c\u4e0d\u9700\u8981\u8ffd\u8e2a\u590d\u6742\u7684\u6761\u4ef6\uff0c\u6240\u4ee5\u66f4\u5c11\u51fa\u9519 [\u6ce8\u610f]\u5982\u679c\u5c06for-of\u8bed\u53e5\u7528\u4e8e\u4e0d\u53ef\u8fed\u4ee3\u5bf9\u8c61\u3001null\u6216undefined\u5c06\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u629b\u51fa\u9519\u8bef \u3010\u8bbf\u95ee\u9ed8\u8ba4\u8fed\u4ee3\u5668\u3011 \u53ef\u4ee5\u901a\u8fc7Symbol.iterator\u6765\u8bbf\u95ee\u5bf9\u8c61\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668 let values = [1, 2, 3]; let iterator = values[Symbol.iterator](); console.log(iterator.next()); // \"{ value: 1, done: false }\" console.log(iterator.next()); // \"{ value: 2, done: false }\" console.log(iterator.next()); // \"{ value: 3, done: false }\" console.log(iterator.next()); // \"{ value: undefined, done: true }\" \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7Symbol.iterator\u83b7\u53d6\u4e86\u6570\u7ec4values\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\uff0c\u5e76\u7528\u5b83\u904d\u5386\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u3002\u5728JS\u5f15\u64ce\u4e2d\u6267\u884cfor-of\u5faa\u73af\u8bed\u53e5\u65f6\u4e5f\u4f1a\u6709\u7c7b\u4f3c\u7684\u5904\u7406\u8fc7\u7a0b \u7531\u4e8e\u5177\u6709Symbol.iterator\u5c5e\u6027\u7684\u5bf9\u8c61\u90fd\u6709\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528\u5b83\u6765\u68c0\u6d4b\u5bf9\u8c61\u662f\u5426\u4e3a\u53ef\u8fed\u4ee3\u5bf9\u8c61 function isIterable(object) { return typeof object[Symbol.iterator] === \"function\"; } console.log(isIterable([1, 2, 3])); // true console.log(isIterable(\"Hello\")); // true console.log(isIterable(new Map())); // true console.log(isIterable(new Set())); // true console.log(isIterable(new WeakMap())); // false console.log(isIterable(new WeakSet())); // false \u8fd9\u91cc\u7684islterable()\u51fd\u6570\u53ef\u4ee5\u68c0\u67e5\u6307\u5b9a\u5bf9\u8c61\u4e2d\u662f\u5426\u5b58\u5728\u9ed8\u8ba4\u7684\u51fd\u6570\u7c7b\u578b\u8fed\u4ee3\u5668\uff0c\u800cfor-of\u5faa\u73af\u5728\u6267\u884c\u524d\u4e5f\u4f1a\u505a\u76f8\u4f3c\u7684\u68c0\u67e5 \u9664\u4e86\u4f7f\u7528\u5185\u5efa\u7684\u53ef\u8fed\u4ee3\u5bf9\u8c61\u7c7b\u578b\u7684Symbol.iterator\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528Symbol.iterator\u6765\u521b\u5efa\u5c5e\u4e8e\u81ea\u5df1\u7684\u8fed\u4ee3\u5668 \u3010\u521b\u5efa\u53ef\u8fed\u4ee3\u5bf9\u8c61\u3011 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5f00\u53d1\u8005\u5b9a\u4e49\u7684\u5bf9\u8c61\u90fd\u662f\u4e0d\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u4f46\u5982\u679c\u7ed9Symbol.iterator\u5c5e\u6027\u6dfb\u52a0\u4e00\u4e2a\u751f\u6210\u5668\uff0c\u5219\u53ef\u4ee5\u5c06\u5176\u53d8\u4e3a\u53ef\u8fed\u4ee3\u5bf9\u8c61 let collection = { items: [], *[Symbol.iterator]() { for (let item of this.items) { yield item; } } }; collection.items.push(1); collection.items.push(2); collection.items.push(3); for (let x of collection) { //1 //2 //3 console.log(x); } \u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u5148\u521b\u5efa\u4e00\u4e2a\u751f\u6210\u5668(\u6ce8\u610f\uff0c\u661f\u53f7\u4ecd\u7136\u5728\u5c5e\u6027\u540d\u524d)\u5e76\u5c06\u5176\u8d4b\u503c\u7ed9\u5bf9\u8c61\u7684Symbol.iterator\u5c5e\u6027\u6765\u521b\u5efa\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668\uff1b\u800c\u5728\u751f\u6210\u5668\u4e2d\uff0c\u901a\u8fc7for-of\u5faa\u73af\u8fed\u4ee3this.items\u5e76\u7528yield\u8fd4\u56de\u6bcf\u4e00\u4e2a\u503c\u3002collection\u5bf9\u8c61\u9ed8\u8ba4\u8fed\u4ee3\u5668\u7684\u8fd4\u56de\u503c\u7531\u8fed\u4ee3\u5668this.items\u81ea\u52a8\u751f\u6210\uff0c\u800c\u975e\u624b\u52a8\u904d\u5386\u6765\u5b9a\u4e49\u8fd4\u56de\u503c \u3010\u5c55\u5f00\u8fd0\u7b97\u7b26\u548c\u975e\u6570\u7ec4\u53ef\u8fed\u4ee3\u5bf9\u8c61\u3011 \u901a\u8fc7\u5c55\u5f00\u8fd0\u7b97\u7b26(...)\u53ef\u4ee5\u628aSet\u96c6\u5408\u8f6c\u6362\u6210\u4e00\u4e2a\u6570\u7ec4 let set = new Set([1, 2, 3, 3, 3, 4, 5]), array = [...set]; console.log(array); // [1,2,3,4,5] \u8fd9\u6bb5\u4ee3\u7801\u4e2d\u7684\u5c55\u5f00\u8fd0\u7b97\u7b26\u628aSet\u96c6\u5408\u7684\u6240\u6709\u503c\u586b\u5145\u5230\u4e86\u4e00\u4e2a\u6570\u7ec4\u5b57\u9762\u91cf\u91cc\uff0c\u5b83\u53ef\u4ee5\u64cd\u4f5c\u6240\u6709\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u5e76\u6839\u636e\u9ed8\u8ba4\u8fed\u4ee3\u5668\u6765\u9009\u53d6\u8981\u5f15\u7528\u7684\u503c\uff0c\u4ece\u8fed\u4ee3\u5668\u8bfb\u53d6\u6240\u6709\u503c\u3002\u7136\u540e\u6309\u7167\u8fd4\u56de\u987a\u5e8f\u5c06\u5b83\u4eec\u4f9d\u6b21\u63d2\u5165\u5230\u6570\u7ec4\u4e2d\u3002Set\u96c6\u5408\u662f\u4e00\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u5c55\u5f00\u8fd0\u7b97\u7b26\u4e5f\u53ef\u4ee5\u7528\u4e8e\u5176\u4ed6\u53ef\u8fed\u4ee3\u5bf9\u8c61 let map = new Map([ [\"name\", \"huochai\"], [\"age\", 25]]), array = [...map]; console.log(array); // [ [\"name\", \"huochai\"], [\"age\", 25]] \u5c55\u5f00\u8fd0\u7b97\u7b26\u628aMap\u96c6\u5408\u8f6c\u6362\u6210\u5305\u542b\u591a\u4e2a\u6570\u7ec4\u7684\u6570\u7ec4\uff0cMap\u96c6\u5408\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\u8fd4\u56de\u7684\u662f\u591a\u7ec4\u952e\u503c\u5bf9\uff0c\u6240\u4ee5\u7ed3\u679c\u6570\u7ec4\u4e0e\u6267\u884cnew Map()\u65f6\u4f20\u5165\u7684\u6570\u7ec4\u770b\u8d77\u6765\u4e00\u6837 \u5728\u6570\u7ec4\u5b57\u9762\u91cf\u4e2d\u53ef\u4ee5\u591a\u6b21\u4f7f\u7528\u5c55\u5f00\u8fd0\u7b97\u7b26\uff0c\u5c06\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4e2d\u7684\u591a\u4e2a\u5143\u7d20\u4f9d\u6b21\u63d2\u5165\u65b0\u6570\u7ec4\u4e2d\uff0c\u66ff\u6362\u539f\u5148\u5c55\u5f00\u8fd0\u7b97\u7b26\u6240\u5728\u7684\u4f4d\u7f6e let smallNumbers = [1, 2, 3], bigNumbers = [100, 101, 102], allNumbers = [0, ...smallNumbers, ...bigNumbers]; console.log(allNumbers.length); // 7 console.log(allNumbers); // [0, 1, 2, 3, 100, 101, 102] \u521b\u5efa\u4e00\u4e2a\u53d8\u91cfallNumbers\uff0c\u7528\u5c55\u5f00\u8fd0\u7b97\u7b26\u5c06smallNumbers\u548cbigNumbers\u91cc\u7684\u503c\u4f9d\u6b21\u6dfb\u52a0\u5230allNumbers\u4e2d\u3002\u9996\u5148\u5b58\u51650\uff0c\u7136\u540e\u5b58\u5165small\u4e2d\u7684\u503c\uff0c\u6700\u540e\u5b58\u5165bigNumbers\u4e2d\u7684\u503c\u3002\u5f53\u7136\uff0c\u539f\u59cb\u6570\u7ec4\u4e2d\u7684\u503c\u53ea\u662f\u88ab\u590d\u5236\u5230allNumbers\u4e2d\uff0c\u5b83\u4eec\u672c\u8eab\u5e76\u672a\u6539\u53d8 \u7531\u4e8e\u5c55\u5f00\u8fd0\u7b97\u7b26\u53ef\u4ee5\u4f5c\u7528\u4e8e\u4efb\u610f\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u56e0\u6b64\u5982\u679c\u60f3\u5c06\u53ef\u8fed\u4ee3\u5bf9\u8c61\u8f6c\u6362\u4e3a\u6570\u7ec4\uff0c\u8fd9\u662f\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u3002\u65e2\u53ef\u4ee5\u5c06\u5b57\u7b26\u4e32\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5b57\u7b26(\u4e0d\u662f\u7f16\u7801\u5355\u5143)\u5b58\u5165\u65b0\u6570\u7ec4\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u5c06\u6d4f\u89c8\u5668\u4e2dNodeList\u5bf9\u8c61\u4e2d\u7684\u6bcf\u4e00\u4e2a\u8282\u70b9\u5b58\u5165\u65b0\u7684\u6570\u7ec4\u4e2d \u5185\u5efa\u8fed\u4ee3\u5668 \u00b6 \u8fed\u4ee3\u5668\u662fES6\u7684\u4e00\u4e2a\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u5728ES6\u4e2d\uff0c\u5df2\u7ecf\u9ed8\u8ba4\u4e3a\u8bb8\u591a\u5185\u5efa\u7c7b\u578b\u63d0\u4f9b\u4e86\u5185\u5efa\u8fed\u4ee3\u5668\uff0c\u53ea\u6709\u5f53\u8fd9\u4e9b\u5185\u5efa\u8fed\u4ee3\u5668\u65e0\u6cd5\u5b9e\u73b0\u76ee\u6807\u65f6\u624d\u9700\u8981\u81ea\u5df1\u521b\u5efa\u3002\u901a\u5e38\u6765\u8bf4\u5f53\u5b9a\u4e49\u81ea\u5df1\u7684\u5bf9\u8c61\u548c\u7c7b\u65f6\u624d\u4f1a\u9047\u5230\u8fd9\u79cd\u60c5\u51b5\uff0c\u5426\u5219\uff0c\u5b8c\u5168\u53ef\u4ee5\u4f9d\u9760\u5185\u5efa\u7684\u8fed\u4ee3\u5668\u5b8c\u6210\u5de5\u4f5c\uff0c\u800c\u6700\u5e38\u4f7f\u7528\u7684\u53ef\u80fd\u662f\u96c6\u5408\u7684\u90a3\u4e9b\u8fed\u4ee3\u5668 \u3010\u96c6\u5408\u5bf9\u8c61\u8fed\u4ee3\u5668\u3011 \u5728ES6\u4e2d\u67093\u79cd\u7c7b\u578b\u7684\u96c6\u5408\u5bf9\u8c61\uff1a\u6570\u7ec4\u3001Map\u96c6\u5408\u4e0eSet\u96c6\u5408 \u4e3a\u4e86\u66f4\u597d\u5730\u8bbf\u95ee\u5bf9\u8c61\u4e2d\u7684\u5185\u5bb9\uff0c\u8fd93\u79cd\u5bf9\u8c61\u90fd\u5185\u5efa\u4e86\u4ee5\u4e0b\u4e09\u79cd\u8fed\u4ee3\u5668 entries() \u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u5176\u503c\u4e3a\u591a\u4e2a\u952e\u503c\u5bf9 values() \u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u5176\u503c\u4e3a\u96c6\u5408\u7684\u503c keys() \u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u5176\u503c\u4e3a\u96c6\u5408\u4e2d\u7684\u6240\u6709\u952e\u540d \u8c03\u7528\u4ee5\u4e0a3\u4e2a\u65b9\u6cd5\u90fd\u53ef\u4ee5\u8bbf\u95ee\u96c6\u5408\u7684\u8fed\u4ee3\u5668 entries()\u8fed\u4ee3\u5668 \u6bcf\u6b21\u8c03\u7528next()\u65b9\u6cd5\u65f6\uff0centries()\u8fed\u4ee3\u5668\u90fd\u4f1a\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6570\u7ec4\u4e2d\u7684\u4e24\u4e2a\u5143\u7d20\u5206\u522b\u8868\u793a\u96c6\u5408\u4e2d\u6bcf\u4e2a\u5143\u7d20\u7684\u952e\u4e0e\u503c\u3002\u5982\u679c\u88ab\u904d\u5386\u7684\u5bf9\u8c61\u662f\u6570\u7ec4\uff0c\u5219\u7b2c\u4e00\u4e2a\u5143\u7d20\u662f\u6570\u5b57\u7c7b\u578b\u7684\u7d22\u5f15\uff1b\u5982\u679c\u662fSet\u96c6\u5408\uff0c\u5219\u7b2c\u4e00\u4e2a\u5143\u7d20\u4e0e\u7b2c\u4e8c\u4e2a\u5143\u7d20\u90fd\u662f\u503c(Set\u96c6\u5408\u4e2d\u7684\u503c\u88ab\u540c\u65f6\u4f5c\u4e3a\u952e\u4e0e\u503c\u4f7f\u7528)\uff1b\u5982\u679c\u662fMap\u96c6\u5408\uff0c\u5219\u7b2c\u4e00\u4e2a\u5143\u7d20\u4e3a\u952e\u540d let colors = [ \"red\", \"green\", \"blue\" ]; let tracking = new Set([1234, 5678, 9012]); let data = new Map(); data.set(\"title\", \"Understanding ES6\"); data.set(\"format\", \"ebook\"); for (let entry of colors.entries()) { console.log(entry); } for (let entry of tracking.entries()) { console.log(entry); } for (let entry of data.entries()) { console.log(entry); } \u8c03\u7528console.log()\u65b9\u6cd5\u540e\u8f93\u51fa\u4ee5\u4e0b\u5185\u5bb9 [0, \"red\"] [1, \"green\"] [2, \"blue\"] [1234, 1234] [5678, 5678] [9012, 9012] [\"title\", \"Understanding ES6\"] [\"format\", \"ebook\"] \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u8c03\u7528\u6bcf\u4e2a\u96c6\u5408\u7684entries()\u65b9\u6cd5\u83b7\u53d6\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u5e76\u4f7f\u7528for-of\u5faa\u73af\u6765\u904d\u5386\u5143\u7d20\uff0c\u4e14\u901a\u8fc7console\u5c06\u6bcf\u4e00\u4e2a\u5bf9\u8c61\u7684\u952e\u503c\u5bf9\u8f93\u51fa\u51fa\u6765 values()\u8fed\u4ee3\u5668 \u8c03\u7528values()\u8fed\u4ee3\u5668\u65f6\u4f1a\u8fd4\u56de\u96c6\u5408\u4e2d\u6240\u5b58\u7684\u6240\u6709\u503c let colors = [ \"red\", \"green\", \"blue\" ]; let tracking = new Set([1234, 5678, 9012]); let data = new Map(); data.set(\"title\", \"Understanding ES6\"); data.set(\"format\", \"ebook\"); for (let value of colors.values()) { console.log(value); } for (let value of tracking.values()) { console.log(value); } for (let value of data.values()) { console.log(value); } \u8c03\u7528console.log()\u65b9\u6cd5\u540e\u8f93\u51fa\u4ee5\u4e0b\u5185\u5bb9 \"red\" \"green\" \"blue\" 1234 5678 9012 \"Understanding ES6\" \"ebook\" \u5982\u4e0a\u6240\u793a\uff0c\u8c03\u7528values()\u8fed\u4ee3\u5668\u540e\uff0c\u8fd4\u56de\u7684\u662f\u6bcf\u4e2a\u96c6\u5408\u4e2d\u5305\u542b\u7684\u771f\u6b63\u6570\u636e\uff0c\u800c\u4e0d\u5305\u542b\u6570\u636e\u5728\u96c6\u5408\u4e2d\u7684\u4f4d\u7f6e\u4fe1\u606f keys()\u8fed\u4ee3\u5668 keys()\u8fed\u4ee3\u5668\u4f1a\u8fd4\u56de\u96c6\u5408\u4e2d\u5b58\u5728\u7684\u6bcf\u4e00\u4e2a\u952e\u3002\u5982\u679c\u904d\u5386\u7684\u662f\u6570\u7ec4\uff0c\u5219\u4f1a\u8fd4\u56de\u6570\u5b57\u7c7b\u578b\u7684\u952e\uff0c\u6570\u7ec4\u672c\u8eab\u7684\u5176\u4ed6\u5c5e\u6027\u4e0d\u4f1a\u88ab\u8fd4\u56de\uff1b\u5982\u679c\u662fSet\u96c6\u5408\uff0c\u7531\u4e8e\u952e\u4e0e\u503c\u662f\u76f8\u540c\u7684\uff0c\u56e0\u6b64keys()\u548cvalues()\u8fd4\u56de\u7684\u4e5f\u662f\u76f8\u540c\u7684\u8fed\u4ee3\u5668\uff1b\u5982\u679c\u662fMap\u96c6\u5408\uff0c\u5219keys()\u8fed\u4ee3\u5668\u4f1a\u8fd4\u56de\u6bcf\u4e2a\u72ec\u7acb\u7684\u952e let colors = [ \"red\", \"green\", \"blue\" ]; let tracking = new Set([1234, 5678, 9012]); let data = new Map(); data.set(\"title\", \"Understanding ES6\"); data.set(\"format\", \"ebook\"); for (let key of colors.keys()) { console.log(key); } for (let key of tracking.keys()) { console.log(key); } for (let key of data.keys()) { console.log(key); } \u8c03\u7528console.log()\u65b9\u6cd5\u540e\u8f93\u51fa\u4ee5\u4e0b\u5185\u5bb9 0 1 2 1234 5678 9012 \"title\" \"format\" keys()\u8fed\u4ee3\u5668\u4f1a\u83b7\u53d6colors\u3001tracking\u548cdata\u8fd93\u4e2a\u96c6\u5408\u4e2d\u7684\u6bcf\u4e00\u4e2a\u952e\uff0c\u800c\u4e14\u5206\u522b\u57283\u4e2afor-of\u5faa\u73af\u5185\u90e8\u5c06\u8fd9\u4e9b\u952e\u540d\u6253\u5370\u51fa\u6765\u3002\u5bf9\u4e8e\u6570\u7ec4\u5bf9\u8c61\u6765\u8bf4\uff0c\u65e0\u8bba\u662f\u5426\u4e3a\u6570\u7ec4\u6dfb\u52a0\u547d\u540d\u5c5e\u6027\uff0c\u6253\u5370\u51fa\u6765\u7684\u90fd\u662f\u6570\u5b57\u7c7b\u578b\u7684\u7d22\u5f15\uff1b\u800cfor-in\u5faa\u73af\u8fed\u4ee3\u7684\u662f\u6570\u7ec4\u5c5e\u6027\u800c\u4e0d\u662f\u6570\u5b57\u7c7b\u578b\u7684\u7d22\u5f15 \u4e0d\u540c\u96c6\u5408\u7c7b\u578b\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668 \u6bcf\u4e2a\u96c6\u5408\u7c7b\u578b\u90fd\u6709\u4e00\u4e2a\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668\uff0c\u5728for-of\u5faa\u73af\u4e2d\uff0c\u5982\u679c\u6ca1\u6709\u663e\u5f0f\u6307\u5b9a\u5219\u4f7f\u7528\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668\u3002\u6570\u7ec4\u548cSet\u96c6\u5408\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\u662fvalues()\u65b9\u6cd5\uff0cMap\u96c6\u5408\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\u662fentries()\u65b9\u6cd5\u3002\u6709\u4e86\u8fd9\u4e9b\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668\uff0c\u53ef\u4ee5\u66f4\u8f7b\u677e\u5730\u5728for-of\u5faa\u73af\u4e2d\u4f7f\u7528\u96c6\u5408\u5bf9\u8c61 let colors = [ \"red\", \"green\", \"blue\" ]; let tracking = new Set([1234, 5678, 9012]); let data = new Map(); data.set(\"title\", \"Understanding ES6\"); data.set(\"format\", \"print\"); // \u4e0e\u4f7f\u7528 colors.values() \u76f8\u540c for (let value of colors) { console.log(value); } // \u4e0e\u4f7f\u7528 tracking.values() \u76f8\u540c for (let num of tracking) { console.log(num); } // \u4e0e\u4f7f\u7528 data.entries() \u76f8\u540c for (let entry of data) { console.log(entry); } \u4e0a\u8ff0\u4ee3\u7801\u672a\u6307\u5b9a\u8fed\u4ee3\u5668\uff0c\u6240\u4ee5\u5c06\u4f7f\u7528\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668\u3002\u6570\u7ec4\u3001Set\u96c6\u5408\u53caMap\u96c6\u5408\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\u4e5f\u4f1a\u53cd\u5e94\u51fa\u8fd9\u4e9b\u5bf9\u8c61\u7684\u521d\u59cb\u5316\u8fc7\u7a0b\uff0c\u6240\u4ee5\u8fd9\u6bb5\u4ee3\u7801\u4f1a\u8f93\u51fa\u4ee5\u4e0b\u5185\u5bb9 \"red\" \"green\" \"blue\" 1234 5678 9012 [\"title\", \"Understanding ES6\"] [\"format\", \"print\"] \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u662f\u6570\u7ec4\u548cSet\u96c6\u5408\uff0c\u4f1a\u9010\u4e00\u8fd4\u56de\u96c6\u5408\u4e2d\u6240\u6709\u7684\u503c\u3002\u5982\u679c\u662fMap\u96c6\u5408\uff0c\u5219\u6309\u7167Map\u6784\u9020\u51fd\u6570\u53c2\u6570\u7684\u683c\u5f0f\u8fd4\u56de\u76f8\u540c\u7684\u6570\u7ec4\u5185\u5bb9\u3002\u800cWeakSet\u96c6\u5408\u4e0eWeakMap\u96c6\u5408\u5c31\u6ca1\u6709\u5185\u5efa\u7684\u8fed\u4ee3\u5668\uff0c\u7531\u4e8e\u8981\u7ba1\u7406\u5f31\u5f15\u7528\uff0c\u56e0\u800c\u65e0\u6cd5\u786e\u5207\u5730\u77e5\u9053\u96c6\u5408\u4e2d\u5b58\u5728\u7684\u503c\uff0c\u4e5f\u5c31\u65e0\u6cd5\u8fed\u4ee3\u8fd9\u4e9b\u96c6\u5408\u4e86 \u3010\u5b57\u7b26\u4e32\u8fed\u4ee3\u5668\u3011 \u81eaES5\u53d1\u5e03\u4ee5\u540e\uff0cJS\u5b57\u7b26\u4e32\u6162\u6162\u53d8\u5f97\u66f4\u50cf\u6570\u7ec4\u4e86\uff0c\u4f8b\u5982\uff0cES5\u6b63\u5f0f\u89c4\u5b9a\u53ef\u4ee5\u901a\u8fc7\u65b9\u62ec\u53f7\u8bbf\u95ee\u5b57\u7b26\u4e32\u4e2d\u7684\u5b57\u7b26(\u4e5f\u5c31\u662f\u8bf4\uff0ctext[0]\u53ef\u4ee5\u83b7\u53d6\u5b57\u7b26\u4e32text\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\uff0c\u5e76\u4ee5\u6b64\u7c7b\u63a8)\u3002\u7531\u4e8e\u65b9\u62ec\u53f7\u64cd\u4f5c\u7684\u662f\u7f16\u7801\u5355\u5143\u800c\u975e\u5b57\u7b26\uff0c\u56e0\u6b64\u65e0\u6cd5\u6b63\u786e\u8bbf\u95ee\u53cc\u5b57\u8282\u5b57\u7b26 var message = \"A \ud842\udfb7 B\" ; for (let i=0; i < message.length; i++) { console.log(message[i]); } \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u8bbf\u95eemessage\u7684length\u5c5e\u6027\u83b7\u53d6\u7d22\u5f15\u503c\uff0c\u5e76\u901a\u8fc7\u65b9\u62ec\u53f7\u8bbf\u95ee\u6765\u8fed\u4ee3\u5e76\u6253\u5370\u4e00\u4e2a\u5355\u5b57\u7b26\u5b57\u7b26\u4e32\uff0c\u4f46\u662f\u8f93\u51fa\u7684\u7ed3\u679c\u5374\u4e0e\u9884\u671f\u4e0d\u7b26 A B \u7531\u4e8e\u53cc\u5b57\u8282\u5b57\u7b26\u88ab\u89c6\u4f5c\u4e24\u4e2a\u72ec\u7acb\u7684\u7f16\u7801\u5355\u5143\uff0c\u4ece\u800c\u6700\u7ec8\u5728A\u4e0eB\u4e4b\u95f4\u6253\u5370\u51fa4\u4e2a\u7a7a\u884c \u6240\u5e78\uff0cES6\u7684\u76ee\u6807\u662f\u5168\u9762\u652f\u6301Unicode\uff0c\u5e76\u4e14\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6539\u53d8\u5b57\u7b26\u4e32\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f7f\u5176\u64cd\u4f5c\u5b57\u7b26\u800c\u4e0d\u662f\u7f16\u7801\u5355\u5143\u3002\u73b0\u5728\uff0c\u4fee\u6539\u524d\u4e00\u4e2a\u793a\u4f8b\u4e2d\u5b57\u7b26\u4e32\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\uff0c\u8ba9for-of\u5faa\u73af\u8f93\u51fa\u6b63\u786e\u7684\u5185\u5bb9 var message = \"A \ud842\udfb7 B\" ; for (let c of message) { console.log(c); } \u8fd9\u6bb5\u4ee3\u7801\u8f93\u51fa\u4ee5\u4e0b\u5185\u5bb9 A \ud842\udfb7 B \u8fd9\u4e2a\u7ed3\u679c\u66f4\u7b26\u5408\u9884\u671f\uff0c\u901a\u8fc7\u5faa\u73af\u8bed\u53e5\u53ef\u4ee5\u76f4\u63a5\u64cd\u4f5c\u5b57\u7b26\u5e76\u6210\u529f\u6253\u5370\u51faUnicode\u5b57\u7b26 \u3010NodeList\u8fed\u4ee3\u5668\u3011 DOM\u6807\u51c6\u4e2d\u6709\u4e00\u4e2aNodeList\u7c7b\u578b\uff0cdocument\u5bf9\u8c61\u4e2d\u7684\u6240\u6709\u5143\u7d20\u90fd\u7528\u8fd9\u4e2a\u7c7b\u578b\u6765\u8868\u793a\u3002\u5bf9\u4e8e\u7f16\u5199Web\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u7684JS\u5f00\u53d1\u8005\u6765\u8bf4\uff0c\u9700\u8981\u82b1\u70b9\u513f\u529f\u592b\u53bb\u7406\u89e3NodeList\u5bf9\u8c61\u548c\u6570\u7ec4\u4e4b\u95f4\u7684\u5dee\u5f02\u3002\u4e8c\u8005\u90fd\u4f7f\u7528length\u5c5e\u6027\u6765\u8868\u793a\u96c6\u5408\u4e2d\u5143\u7d20\u7684\u6570\u91cf\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7\u65b9\u62ec\u53f7\u6765\u8bbf\u95ee\u96c6\u5408\u4e2d\u7684\u72ec\u7acb\u5143\u7d20\u3002\u800c\u5728\u5185\u90e8\u5b9e\u73b0\u4e2d\uff0c\u4e8c\u8005\u7684\u8868\u73b0\u975e\u5e38\u4e0d\u4e00\u81f4\uff0c\u56e0\u800c\u4f1a\u9020\u6210\u5f88\u591a\u56f0\u6270 \u81ea\u4eceES6\u6dfb\u52a0\u4e86\u9ed8\u8ba4\u8fed\u4ee3\u5668\u540e\uff0cDOM\u5b9a\u4e49\u4e2d\u7684NodeList\u7c7b\u578b(\u5b9a\u4e49\u5728HTML\u6807\u51c6\u800c\u4e0d\u662fES6\u6807\u51c6\u4e2d)\u4e5f\u62e5\u6709\u4e86\u9ed8\u8ba4\u8fed\u4ee3\u5668\uff0c\u5176\u884c\u4e3a\u4e0e\u6570\u7ec4\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\u5b8c\u5168\u4e00\u81f4\u3002\u6240\u4ee5\u53ef\u4ee5\u5c06NodeList\u5e94\u7528\u4e8efor-of\u5faa\u73af\u53ca\u5176\u4ed6\u652f\u6301\u5bf9\u8c61\u9ed8\u8ba4\u8fed\u4ee3\u5668\u7684\u5730\u65b9 var divs = document.getElementsByTagName(\"div\"); for (let div of divs) { console.log(div.id); } \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7\u8c03\u7528getElementsByTagName()\u65b9\u6cd5\u83b7\u53d6\u5230document\u5bf9\u8c61\u4e2d\u6240\u6709div\u5143\u7d20\u7684\u5217\u8868\uff0c\u5728for-of\u5faa\u73af\u4e2d\u904d\u5386\u5217\u8868\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u5e76\u8f93\u51fa\u5143\u7d20ID\uff0c\u5b9e\u9645\u4e0a\u662f\u6309\u7167\u5904\u7406\u6570\u7ec4\u7684\u65b9\u5f0f\u6765\u5904\u7406NodeList\u7684 \u9ad8\u7ea7\u8fed\u4ee3\u5668 \u00b6 \u8fed\u4ee3\u5668\u7684\u57fa\u7840\u529f\u80fd\u53ef\u4ee5\u8f85\u52a9\u5b8c\u6210\u5f88\u591a\u4efb\u52a1\uff0c\u901a\u8fc7\u751f\u6210\u5668\u521b\u5efa\u8fed\u4ee3\u5668\u7684\u8fc7\u7a0b\u4e5f\u5f88\u4fbf\u6377\uff0c\u9664\u4e86\u8fd9\u4e9b\u7b80\u5355\u7684\u96c6\u5408\u904d\u5386\u4efb\u52a1\u4e4b\u5916\uff0c\u8fed\u4ee3\u5668\u4e5f\u53ef\u4ee5\u88ab\u7528\u4e8e\u5b8c\u6210\u4e00\u4e9b\u590d\u6742\u7684\u4efb\u52a1 \u3010\u7ed9\u8fed\u4ee3\u5668\u4f20\u9012\u53c2\u6570\u3011 \u8fed\u4ee3\u5668\u65e2\u53ef\u4ee5\u7528\u8fed\u4ee3\u5668\u7684next()\u65b9\u6cd5\u8fd4\u56de\u503c\uff0c\u4e5f\u53ef\u4ee5\u5728\u751f\u6210\u5668\u5185\u90e8\u4f7f\u7528yield\u5173\u952e\u5b57\u6765\u751f\u6210\u503c\u3002\u5982\u679c\u7ed9\u8fed\u4ee3\u5668\u7684next()\u65b9\u6cd5\u4f20\u9012\u53c2\u6570\uff0c\u5219\u8fd9\u4e2a\u53c2\u6570\u7684\u503c\u5c31\u4f1a\u66ff\u4ee3\u751f\u6210\u5668\u5185\u90e8\u4e0a\u6761yield\u8bed\u53e5\u7684\u8fd4\u56de\u503c\u3002\u800c\u5982\u679c\u8981\u5b9e\u73b0\u66f4\u591a\u50cf\u5f02\u6b65\u7f16\u7a0b\u8fd9\u6837\u7684\u9ad8\u7ea7\u529f\u80fd\uff0c\u90a3\u4e48\u8fd9\u79cd\u7ed9\u8fed\u4ee3\u5668\u4f20\u503c\u7684\u80fd\u529b\u5c31\u53d8\u5f97\u81f3\u5173\u91cd\u8981 function *createIterator() { let first = yield 1; let second = yield first + 2; // 4 + 2 yield second + 3; // 5 + 3 } let iterator = createIterator(); console.log(iterator.next()); // \"{ value: 1, done: false }\" console.log(iterator.next(4)); // \"{ value: 6, done: false }\" console.log(iterator.next(5)); // \"{ value: 8, done: false }\" console.log(iterator.next()); // \"{ value: undefined, done: true }\" \u7b2c\u4e00\u6b21\u8c03\u7528next()\u65b9\u6cd5\u65f6\u65e0\u8bba\u4f20\u5165\u4ec0\u4e48\u53c2\u6570\u90fd\u4f1a\u88ab\u4e22\u5f03\u3002\u7531\u4e8e\u4f20\u7ed9next()\u65b9\u6cd5\u7684\u53c2\u6570\u4f1a\u66ff\u4ee3\u4e0a\u4e00\u6b21yield\u7684\u8fd4\u56de\u503c\uff0c\u800c\u5728\u7b2c\u4e00\u6b21\u8c03\u7528next()\u65b9\u6cd5\u524d\u4e0d\u4f1a\u6267\u884c\u4efb\u4f55yield\u8bed\u53e5\uff0c\u56e0\u6b64\u5728\u7b2c\u4e00\u6b21\u8c03\u7528next()\u65b9\u6cd5\u65f6\u4f20\u9012\u53c2\u6570\u662f\u6beb\u65e0\u610f\u4e49\u7684 \u7b2c\u4e8c\u6b21\u8c03\u7528next()\u65b9\u6cd5\u4f20\u5165\u6570\u503c4\u4f5c\u4e3a\u53c2\u6570\uff0c\u5b83\u6700\u540e\u88ab\u8d4b\u503c\u7ed9\u751f\u6210\u5668\u51fd\u6570\u5185\u90e8\u7684\u53d8\u91cffirst\u3002\u5728\u4e00\u4e2a\u542b\u53c2yield\u8bed\u53e5\u4e2d\uff0c\u8868\u8fbe\u5f0f\u53f3\u4fa7\u7b49\u4ef7\u4e8e\u7b2c\u4e00\u6b21\u8c03\u7528next()\u65b9\u6cd5\u540e\u7684\u4e0b\u4e00\u4e2a\u8fd4\u56de\u503c\uff0c\u8868\u8fbe\u5f0f\u5de6\u4fa7\u7b49\u4ef7\u4e8e\u7b2c\u4e8c\u6b21\u8c03\u7528next()\u65b9\u6cd5\u540e\uff0c\u5728\u51fd\u6570\u7ee7\u7eed\u6267\u884c\u524d\u5f97\u5230\u7684\u8fd4\u56de\u503c\u3002\u7b2c\u4e8c\u6b21\u8c03\u7528next()\u65b9\u6cd5\u4f20\u5165\u7684\u503c\u4e3a4\uff0c\u5b83\u4f1a\u88ab\u8d4b\u503c\u7ed9\u53d8\u91cffirst\uff0c\u51fd\u6570\u5219\u7ee7\u7eed\u6267\u884c\u3002\u7b2c\u4e8c\u6761yield\u8bed\u53e5\u5728\u7b2c\u4e00\u6b21yield\u7684\u7ed3\u679c\u4e0a\u52a0\u4e862\uff0c\u6700\u7ec8\u7684\u8fd4\u56de\u503c\u4e3a6 \u7b2c\u4e09\u6b21\u8c03\u7528next()\u65b9\u6cd5\u65f6\uff0c\u4f20\u5165\u6570\u503c5\uff0c\u8fd9\u4e2a\u503c\u88ab\u8d4b\u503c\u7ed9second\uff0c\u6700\u540e\u7528\u4e8e\u7b2c\u4e09\u6761yield\u8bed\u53e5\u5e76\u6700\u7ec8\u8fd4\u56de\u6570\u503c8 \u3010\u5728\u8fed\u4ee3\u5668\u4e2d\u629b\u51fa\u9519\u8bef\u3011\u3000\u3000 \u9664\u4e86\u7ed9\u8fed\u4ee3\u5668\u4f20\u9012\u6570\u636e\u5916\uff0c\u8fd8\u53ef\u4ee5\u7ed9\u5b83\u4f20\u9012\u9519\u8bef\u6761\u4ef6\u3002\u901a\u8fc7throw()\u65b9\u6cd5\uff0c\u5f53\u8fed\u4ee3\u5668\u6062\u590d\u6267\u884c\u65f6\u53ef\u4ee4\u5176\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002\u8fd9\u79cd\u4e3b\u52a8\u629b\u51fa\u9519\u8bef\u7684\u80fd\u529b\u5bf9\u4e8e\u5f02\u6b65\u7f16\u7a0b\u800c\u8a00\u81f3\u5173\u91cd\u8981\uff0c\u4e5f\u80fd\u63d0\u4f9b\u6a21\u62df\u7ed3\u675f\u51fd\u6570\u6267\u884c\u7684\u4e24\u79cd\u65b9\u6cd5(\u8fd4\u56de\u503c\u6216\u629b\u51fa\u9519\u8bef)\uff0c\u4ece\u800c\u589e\u5f3a\u751f\u6210\u5668\u5185\u90e8\u7684\u7f16\u7a0b\u5f39\u6027\u3002\u5c06\u9519\u8bef\u5bf9\u8c61\u4f20\u7ed9throw()\u65b9\u6cd5\u540e\uff0c\u5728\u8fed\u4ee3\u5668\u7ee7\u7eed\u6267\u884c\u65f6\u5176\u4f1a\u88ab\u629b\u51fa function *createIterator() { let first = yield 1; let second = yield first + 2; // yield 4 + 2 \uff0c\u7136\u540e\u629b\u51fa\u9519\u8bef yield second + 3; // \u6c38\u4e0d\u4f1a\u88ab\u6267\u884c } let iterator = createIterator(); console.log(iterator.next()); // \"{ value: 1, done: false }\" console.log(iterator.next(4)); // \"{ value: 6, done: false }\" console.log(iterator.throw(new Error(\"Boom\"))); // \u4ece\u751f\u6210\u5668\u4e2d\u629b\u51fa\u4e86\u9519\u8bef \u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u524d\u4e24\u4e2a\u8868\u8fbe\u5f0f\u6b63\u5e38\u6c42\u503c\uff0c\u800c\u8c03\u7528throw()\u65b9\u6cd5\u540e\uff0c\u5728\u7ee7\u7eed\u6267\u884clet second\u6c42\u503c\u524d\uff0c\u9519\u8bef\u5c31\u4f1a\u88ab\u629b\u51fa\u5e76\u963b\u6b62\u4e86\u4ee3\u7801\u7ee7\u7eed\u6267\u884c\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e0e\u76f4\u63a5\u629b\u51fa\u9519\u8bef\u5f88\u76f8\u4f3c\uff0c\u4e8c\u8005\u552f\u4e00\u7684\u533a\u522b\u662f\u629b\u51fa\u7684\u65f6\u673a\u4e0d\u540c \u53ef\u4ee5\u5728\u751f\u6210\u5668\u5185\u90e8\u901a\u8fc7try-catch\u4ee3\u7801\u5757\u6765\u6355\u83b7\u8fd9\u4e9b\u9519\u8bef function *createIterator() { let first = yield 1; let second; try { second = yield first + 2; // yield 4 + 2 \uff0c\u7136\u540e\u629b\u51fa\u9519\u8bef } catch (ex) { second = 6; // \u5f53\u51fa\u9519\u65f6\uff0c\u7ed9\u53d8\u91cf\u53e6\u5916\u8d4b\u503c } yield second + 3; } let iterator = createIterator(); console.log(iterator.next()); // \"{ value: 1, done: false }\" console.log(iterator.next(4)); // \"{ value: 6, done: false }\" console.log(iterator.throw(new Error(\"Boom\"))); // \"{ value: 9, done: false }\" console.log(iterator.next()); // \"{ value: undefined, done: true }\" \u5728\u6b64\u793a\u4f8b\u4e2d\uff0ctry-catch\u4ee3\u7801\u5757\u5305\u88f9\u7740\u7b2c\u4e8c\u6761yield\u8bed\u53e5\u3002\u5c3d\u7ba1\u8fd9\u6761\u8bed\u53e5\u672c\u8eab\u6ca1\u6709\u9519\u8bef\uff0c\u4f46\u5728\u7ed9\u53d8\u91cfsecond\u8d4b\u503c\u524d\u8fd8\u662f\u4f1a\u4e3b\u52a8\u629b\u51fa\u9519\u8bef\uff0ccatch\u4ee3\u7801\u5757\u6355\u83b7\u9519\u8bef\u540e\u5c06second\u53d8\u91cf\u8d4b\u503c\u4e3a6\uff0c\u4e0b\u4e00\u6761yield\u8bed\u53e5\u7ee7\u7eed\u6267\u884c\u540e\u8fd4\u56de9 \u8fd9\u91cc\u6709\u4e00\u4e2a\u6709\u8da3\u7684\u73b0\u8c61\u8c03\u7528throw()\u65b9\u6cd5\u540e\u4e5f\u4f1a\u50cf\u8c03\u7528next()\u65b9\u6cd5\u4e00\u6837\u8fd4\u56de\u4e00\u4e2a\u7ed3\u679c\u5bf9\u8c61\u3002\u7531\u4e8e\u5728\u751f\u6210\u5668\u5185\u90e8\u6355\u83b7\u4e86\u8fd9\u4e2a\u9519\u8bef\uff0c\u56e0\u800c\u4f1a\u7ee7\u7eed\u6267\u884c\u4e0b\u4e00\u6761yield\u8bed\u53e5\uff0c\u6700\u7ec8\u8fd4\u56de\u6570\u503c9 \u5982\u6b64\u4e00\u6765\uff0cnext()\u548cthrow()\u5c31\u50cf\u662f\u8fed\u4ee3\u5668\u7684\u4e24\u6761\u6307\u4ee4\uff0c\u8c03\u7528next()\u65b9\u6cd5\u547d\u4ee4\u8fed\u4ee3\u5668\u7ee7\u7eed\u6267\u884c(\u53ef\u80fd\u63d0\u4f9b\u4e00\u4e2a\u503c)\uff0c\u8c03\u7528throw()\u65b9\u6cd5\u4e5f\u4f1a\u547d\u4ee4\u8fed\u4ee3\u5668\u7ee7\u7eed\u6267\u884c\uff0c\u4f46\u540c\u65f6\u4e5f\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\uff0c\u5728\u6b64\u4e4b\u540e\u7684\u6267\u884c\u8fc7\u7a0b\u53d6\u51b3\u4e8e\u751f\u6210\u5668\u5185\u90e8\u7684\u4ee3\u7801 \u5728\u8fed\u4ee3\u5668\u5185\u90e8\uff0c\u5982\u679c\u4f7f\u7528\u4e86yield\u8bed\u53e5\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7next()\u65b9\u6cd5\u548cthrow()\u65b9\u6cd5\u63a7\u5236\u6267\u884c\u8fc7\u7a0b\uff0c\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528return\u8bed\u53e5\u8fd4\u56de\u4e00\u4e9b\u4e0e\u666e\u901a\u51fd\u6570\u8fd4\u56de\u8bed\u53e5\u4e0d\u592a\u4e00\u6837\u7684\u5185\u5bb9 \u3010\u751f\u6210\u5668\u8fd4\u56de\u8bed\u53e5\u3011 \u7531\u4e8e\u751f\u6210\u5668\u4e5f\u662f\u51fd\u6570\uff0c\u56e0\u6b64\u53ef\u4ee5\u901a\u8fc7return\u8bed\u53e5\u63d0\u524d\u9000\u51fa\u51fd\u6570\u6267\u884c\uff0c\u5bf9\u4e8e\u6700\u540e\u4e00\u6b21next()\u65b9\u6cd5\u8c03\u7528\uff0c\u53ef\u4ee5\u4e3b\u52a8\u4e3a\u5176\u6307\u5b9a\u4e00\u4e2a\u8fd4\u56de\u503c\u3002\u6b63\u5982\u5728\u5176\u4ed6\u51fd\u6570\u4e2d\u90a3\u6837\uff0c\u53ef\u4ee5\u901a\u8fc7return\u8bed\u53e5\u6307\u5b9a\u4e00\u4e2a\u8fd4\u56de\u503c\u3002\u800c\u5728\u751f\u6210\u5668\u4e2d\uff0creturn\u8868\u793a\u6240\u6709\u64cd\u4f5c\u5df2\u7ecf\u5b8c\u6210\uff0c\u5c5e\u6027done\u88ab\u8bbe\u7f6e\u4e3atrue\uff1b\u5982\u679c\u540c\u65f6\u63d0\u4f9b\u4e86\u76f8\u5e94\u7684\u503c\uff0c\u5219\u5c5e\u6027value\u4f1a\u88ab\u8bbe\u7f6e\u4e3a\u8fd9\u4e2a\u503c function *createIterator() { yield 1; return; yield 2; yield 3; } let iterator = createIterator(); console.log(iterator.next()); // \"{ value: 1, done: false }\" console.log(iterator.next()); // \"{ value: undefined, done: true }\" \u8fd9\u6bb5\u4ee3\u7801\u4e2d\u7684\u751f\u6210\u5668\u5305\u542b\u591a\u6761yield\u8bed\u53e5\u548c\u4e00\u6761return\u8bed\u53e5\uff0c\u5176\u4e2dreturn\u8bed\u53e5\u7d27\u968f\u7b2c\u4e00\u6761yield\u8bed\u53e5\uff0c\u5176\u540e\u7684yield\u8bed\u53e5\u5c06\u4e0d\u4f1a\u88ab\u6267\u884c \u5728return\u8bed\u53e5\u4e2d\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u8fd4\u56de\u503c\uff0c\u8be5\u503c\u5c06\u88ab\u8d4b\u503c\u7ed9\u8fd4\u56de\u5bf9\u8c61\u7684value\u5c5e\u6027 function *createIterator() { yield 1; return 42; } let iterator = createIterator(); console.log(iterator.next()); // \"{ value: 1, done: false }\" console.log(iterator.next()); // \"{ value: 42, done: true }\" console.log(iterator.next()); // \"{ value: undefined, done: true }\" \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u7b2c\u4e8c\u6b21\u8c03\u7528next()\u65b9\u6cd5\u65f6\u8fd4\u56de\u5bf9\u8c61\u7684value\u5c5e\u6027\u503c\u4e3a42\uff0cdone\u5c5e\u6027\u9996\u6b21\u8bbe\u4e3atrue\uff1b\u7b2c\u4e09\u6b21\u8c03\u7528next()\u65b9\u6cd5\u4f9d\u7136\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u53ea\u662fvalue\u5c5e\u6027\u7684\u503c\u4f1a\u53d8\u4e3aundefined\u3002\u56e0\u6b64\uff0c\u901a\u8fc7return\u8bed\u53e5\u6307\u5b9a\u7684\u8fd4\u56de\u503c\uff0c\u53ea\u4f1a\u5728\u8fd4\u56de\u5bf9\u8c61\u4e2d\u51fa\u73b0\u4e00\u6b21\uff0c\u5728\u540e\u7eed\u8c03\u7528\u8fd4\u56de\u7684\u5bf9\u8c61\u4e2d\uff0cvalue\u5c5e\u6027\u4f1a\u88ab\u91cd\u7f6e\u4e3aundefined [\u6ce8\u610f]\u5c55\u5f00\u8fd0\u7b97\u7b26\u4e0efor-of\u5faa\u73af\u8bed\u53e5\u4f1a\u76f4\u63a5\u5ffd\u7565\u901a\u8fc7return\u8bed\u53e5\u6307\u5b9a\u7684\u4efb\u4f55\u8fd4\u56de\u503c\uff0c\u53ea\u8981done\u4e00\u53d8\u4e3atrue\u5c31\u7acb\u5373\u505c\u6b62\u8bfb\u53d6\u5176\u4ed6\u7684\u503c\u3002\u4e0d\u7ba1\u600e\u6837\uff0c\u8fed\u4ee3\u5668\u7684\u8fd4\u56de\u503c\u4f9d\u7136\u662f\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u7684\u7279\u6027 \u3010\u59d4\u6258\u751f\u6210\u5668\u3011 \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u5c06\u4e24\u4e2a\u8fed\u4ee3\u5668\u5408\u4e8c\u4e3a\u4e00\uff0c\u8fd9\u65f6\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u751f\u6210\u5668\uff0c\u518d\u7ed9yield\u8bed\u53e5\u6dfb\u52a0\u4e00\u4e2a\u661f\u53f7\uff0c\u5c31\u53ef\u4ee5\u5c06\u751f\u6210\u6570\u636e\u7684\u8fc7\u7a0b\u59d4\u6258\u7ed9\u5176\u4ed6\u751f\u6210\u5668\u3002\u5f53\u5b9a\u4e49\u8fd9\u4e9b\u751f\u6210\u5668\u65f6\uff0c\u53ea\u9700\u5c06\u661f\u53f7\u653e\u7f6e\u5728\u5173\u952e\u5b57yield\u548c\u751f\u6210\u5668\u7684\u51fd\u6570\u540d\u4e4b\u95f4\u5373\u53ef function *createNumberIterator() { yield 1; yield 2; } function *createColorIterator() { yield \"red\"; yield \"green\"; } function *createCombinedIterator() { yield *createNumberIterator(); yield *createColorIterator(); yield true; } var iterator = createCombinedIterator(); console.log(iterator.next()); // \"{ value: 1, done: false }\" console.log(iterator.next()); // \"{ value: 2, done: false }\" console.log(iterator.next()); // \"{ value: \"red\", done: false }\" console.log(iterator.next()); // \"{ value: \"green\", done: false }\" console.log(iterator.next()); // \"{ value: true, done: false }\" console.log(iterator.next()); // \"{ value: undefined, done: true }\" \u8fd9\u91cc\u7684\u751f\u6210\u5668createCombinedIterator()\u5148\u540e\u59d4\u6258\u4e86\u53e6\u5916\u4e24\u4e2a\u751f\u6210\u5668createNumberlterator()\u548ccreateColorlterator()\u3002\u4ec5\u6839\u636e\u8fed\u4ee3\u5668\u7684\u8fd4\u56de\u503c\u6765\u770b\uff0c\u5b83\u5c31\u50cf\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u8fed\u4ee3\u5668\uff0c\u53ef\u4ee5\u751f\u6210\u6240\u6709\u7684\u503c\u3002\u6bcf\u4e00\u6b21\u8c03\u7528next()\u65b9\u6cd5\u5c31\u4f1a\u59d4\u6258\u76f8\u5e94\u7684\u8fed\u4ee3\u5668\u751f\u6210\u76f8\u5e94\u7684\u503c\uff0c\u76f4\u5230\u6700\u540e\u7531createNumberlterator()\u548ccpeateColorlterator()\u521b\u5efa\u7684\u8fed\u4ee3\u5668\u65e0\u6cd5\u8fd4\u56de\u66f4\u591a\u7684\u503c\uff0c\u6b64\u65f6\u6267\u884c\u6700\u540e\u4e00\u6761yield\u8bed\u53e5\u5e76\u8fd4\u56detrue \u6709\u4e86\u751f\u6210\u5668\u59d4\u6258\u8fd9\u4e2a\u65b0\u529f\u80fd\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u5229\u7528\u751f\u6210\u5668\u7684\u8fd4\u56de\u503c\u6765\u5904\u7406\u590d\u6742\u4efb\u52a1 function *createNumberIterator() { yield 1; yield 2; return 3; } function *createRepeatingIterator(count) { for (let i=0; i < count; i++) { yield \"repeat\"; } } function *createCombinedIterator() { let result = yield *createNumberIterator(); yield *createRepeatingIterator(result); } var iterator = createCombinedIterator(); console.log(iterator.next()); // \"{ value: 1, done: false }\" console.log(iterator.next()); // \"{ value: 2, done: false }\" console.log(iterator.next()); // \"{ value: \"repeat\", done: false }\" console.log(iterator.next()); // \"{ value: \"repeat\", done: false }\" console.log(iterator.next()); // \"{ value: \"repeat\", done: false }\" console.log(iterator.next()); // \"{ value: undefined, done: true }\" \u5728\u751f\u6210\u5668createCombinedlterator()\u4e2d\uff0c\u6267\u884c\u8fc7\u7a0b\u5148\u88ab\u59d4\u6258\u7ed9\u4e86\u751f\u6210\u5668createNumberlterator()\uff0c\u8fd4\u56de\u503c\u4f1a\u88ab\u8d4b\u503c\u7ed9\u53d8\u91cfresult\uff0c\u6267\u884c\u5230return 3\u65f6\u4f1a\u8fd4\u56de\u6570\u503c3\u3002\u8fd9\u4e2a\u503c\u968f\u540e\u88ab\u4f20\u5165createRepeatinglterator()\u4f5c\u4e3a\u5b83\u7684\u53c2\u6570\uff0c\u56e0\u800c\u751f\u6210\u5b57\u7b26\u4e32\"repeat\"\u7684yield\u8bed\u53e5\u4f1a\u88ab\u6267\u884c\u4e09\u6b21 \u65e0\u8bba\u901a\u8fc7\u4f55\u79cd\u65b9\u5f0f\u8c03\u7528\u8fed\u4ee3\u5668next()\u65b9\u6cd5\uff0c\u6570\u503c3\u90fd\u4e0d\u4f1a\u88ab\u8fd4\u56de\uff0c\u5b83\u53ea\u5b58\u5728\u4e8e\u751f\u6210\u5668createCombinedlterator()\u7684\u5185\u90e8\u3002\u4f46\u5982\u679c\u60f3\u8f93\u51fa\u8fd9\u4e2a\u503c\uff0c\u5219\u53ef\u4ee5\u989d\u5916\u6dfb\u52a0\u4e00\u6761yield\u8bed\u53e5 function *createNumberIterator() { yield 1; yield 2; return 3; } function *createRepeatingIterator(count) { for (let i=0; i < count; i++) { yield \"repeat\"; } } function *createCombinedIterator() { let result = yield *createNumberIterator(); yield result; yield *createRepeatingIterator(result); } var iterator = createCombinedIterator(); console.log(iterator.next()); // \"{ value: 1, done: false }\" console.log(iterator.next()); // \"{ value: 2, done: false }\" console.log(iterator.next()); // \"{ value: 3, done: false }\" console.log(iterator.next()); // \"{ value: \"repeat\", done: false }\" console.log(iterator.next()); // \"{ value: \"repeat\", done: false }\" console.log(iterator.next()); // \"{ value: \"repeat\", done: false }\" console.log(iterator.next()); // \"{ value: undefined, done: true }\" \u6b64\u5904\u65b0\u6dfb\u52a0\u7684yield\u8bed\u53e5\u663e\u5f0f\u5730\u8f93\u51fa\u4e86\u751f\u6210\u5668createNumberlterator()\u7684\u8fd4\u56de\u503c\u3002 [\u6ce8\u610f]yield*\u4e5f\u53ef\u76f4\u63a5\u5e94\u7528\u4e8e\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982yield* \"hello\"\uff0c\u6b64\u65f6\u5c06\u4f7f\u7528\u5b57\u7b26\u4e32\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668 \u5f02\u6b65\u4efb\u52a1\u6267\u884c \u00b6 \u751f\u6210\u5668\u4ee4\u4eba\u5174\u594b\u7684\u7279\u6027\u591a\u4e0e\u5f02\u6b65\u7f16\u7a0b\u6709\u5173\uff0cJS\u4e2d\u7684\u5f02\u6b65\u7f16\u7a0b\u6709\u5229\u6709\u5f0a\uff1a\u7b80\u5355\u4efb\u52a1\u7684\u5f02\u6b65\u5316\u975e\u5e38\u5bb9\u6613\uff1b\u800c\u590d\u6742\u4efb\u52a1\u7684\u5f02\u6b65\u5316\u4f1a\u5e26\u6765\u5f88\u591a\u7ba1\u7406\u4ee3\u7801\u7684\u6311\u6218\u3002\u7531\u4e8e\u751f\u6210\u5668\u652f\u6301\u5728\u51fd\u6570\u4e2d\u6682\u505c\u4ee3\u7801\u6267\u884c\uff0c\u56e0\u800c\u53ef\u4ee5\u6df1\u5165\u6316\u6398\u5f02\u6b65\u5904\u7406\u7684\u66f4\u591a\u7528\u6cd5 \u6267\u884c\u5f02\u6b65\u64cd\u4f5c\u7684\u4f20\u7edf\u65b9\u5f0f\u4e00\u822c\u662f\u8c03\u7528\u4e00\u4e2a\u51fd\u6570\u5e76\u6267\u884c\u76f8\u5e94\u56de\u8c03\u51fd\u6570 let fs = require(\"fs\"); fs.readFile(\"config.json\", function(err, contents) { if (err) { throw err; } doSomethingWith(contents); console.log(\"Done\"); }); \u8c03\u7528fs.readFile()\u65b9\u6cd5\u65f6\u8981\u6c42\u4f20\u5165\u8981\u8bfb\u53d6\u7684\u6587\u4ef6\u540d\u548c\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u64cd\u4f5c\u7ed3\u675f\u540e\u4f1a\u8c03\u7528\u8be5\u56de\u8c03\u51fd\u6570\u5e76\u68c0\u67e5\u662f\u5426\u5b58\u5728\u9519\u8bef\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u53ef\u4ee5\u5904\u7406\u8fd4\u56de\u7684\u5185\u5bb9\u3002\u5982\u679c\u8981\u6267\u884c\u7684\u4efb\u52a1\u5f88\u5c11\uff0c\u90a3\u4e48\u8fd9\u6837\u7684\u65b9\u5f0f\u53ef\u4ee5\u5f88\u597d\u5730\u5b8c\u6210\u4efb\u52a1\uff1b\u5982\u82e5\u9700\u8981\u5d4c\u5957\u56de\u8c03\u6216\u5e8f\u5217\u5316\u4e00\u7cfb\u5217\u7684\u5f02\u6b65\u64cd\u4f5c\uff0c\u4e8b\u60c5\u4f1a\u53d8\u5f97\u975e\u5e38\u590d\u6742\u3002\u6b64\u65f6\uff0c\u751f\u6210\u5668\u548cyield\u8bed\u53e5\u5c31\u6d3e\u4e0a\u7528\u573a\u4e86 \u3010\u7b80\u5355\u4efb\u52a1\u6267\u884c\u5668\u3011 \u7531\u4e8e\u6267\u884cyield\u8bed\u53e5\u4f1a\u6682\u505c\u5f53\u524d\u51fd\u6570\u7684\u6267\u884c\u8fc7\u7a0b\u5e76\u7b49\u5f85\u4e0b\u4e00\u6b21\u8c03\u7528next()\u65b9\u6cd5\uff0c\u56e0\u6b64\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u51fd\u6570\uff0c\u5728\u51fd\u6570\u4e2d\u8c03\u7528\u751f\u6210\u5668\u751f\u6210\u76f8\u5e94\u7684\u8fed\u4ee3\u5668\uff0c\u4ece\u800c\u5728\u4e0d\u7528\u56de\u8c03\u51fd\u6570\u7684\u57fa\u7840\u4e0a\u5b9e\u73b0\u5f02\u6b65\u8c03\u7528next()\u65b9\u6cd5 function run(taskDef) { // \u521b\u5efa\u8fed\u4ee3\u5668\uff0c\u8ba9\u5b83\u5728\u522b\u5904\u53ef\u7528 let task = taskDef(); // \u542f\u52a8\u4efb\u52a1 let result = task.next(); // \u9012\u5f52\u4f7f\u7528\u51fd\u6570\u6765\u4fdd\u6301\u5bf9 next() \u7684\u8c03\u7528 function step() { // \u5982\u679c\u8fd8\u6709\u66f4\u591a\u8981\u505a\u7684 if (!result.done) { result = task.next(); step(); } } // \u5f00\u59cb\u5904\u7406\u8fc7\u7a0b step(); } \u51fd\u6570run()\u63a5\u53d7\u4e00\u4e2a\u751f\u6210\u5668\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u5b9a\u4e49\u4e86\u540e\u7eed\u8981\u6267\u884c\u7684\u4efb\u52a1\uff0c\u751f\u6210\u4e00\u4e2a\u8fed\u4ee3\u5668\u5e76\u5c06\u5b83\u50a8\u5b58\u5728\u53d8\u91cftask\u4e2d\u3002\u9996\u6b21\u8c03\u7528\u8fed\u4ee3\u5668\u7684next()\u65b9\u6cd5\u65f6\uff0c\u8fd4\u56de\u7684\u7ed3\u679c\u88ab\u50a8\u5b58\u8d77\u6765\u7a0d\u540e\u7ee7\u7eed\u4f7f\u7528\u3002step()\u51fd\u6570\u4f1a\u68c0\u67e5result.done\u7684\u503c\uff0c\u5982\u679c\u4e3afalse\u5219\u6267\u884c\u8fed\u4ee3\u5668\u7684next()\u65b9\u6cd5\uff0c\u5e76\u518d\u6b21\u6267\u884cstep()\u64cd\u4f5c\u3002\u6bcf\u6b21\u8c03\u7528next()\u65b9\u6cd5\u65f6\uff0c\u8fd4\u56de\u7684\u6700\u65b0\u4fe1\u606f\u603b\u4f1a\u8986\u5199\u53d8\u91cfresult\u3002\u5728\u4ee3\u7801\u7684\u6700\u540e\uff0c\u521d\u59cb\u5316\u6267\u884cstep()\u51fd\u6570\u5e76\u5f00\u59cb\u6574\u4e2a\u7684\u8fed\u4ee3\u8fc7\u7a0b\uff0c\u6bcf\u6b21\u901a\u8fc7\u68c0\u67e5result.done\u6765\u786e\u5b9a\u662f\u5426\u6709\u66f4\u591a\u4efb\u52a1\u9700\u8981\u6267\u884c \u501f\u52a9\u8fd9\u4e2arun()\u51fd\u6570\uff0c\u53ef\u4ee5\u50cf\u8fd9\u6837\u6267\u884c\u4e00\u4e2a\u5305\u542b\u591a\u6761yield\u8bed\u53e5\u7684\u751f\u6210\u5668 run(function*() { console.log(1); yield; console.log(2); yield; console.log(3); }); \u8fd9\u4e2a\u793a\u4f8b\u6700\u7ec8\u4f1a\u5411\u63a7\u5236\u53f0\u8f93\u51fa\u591a\u6b21\u8c03\u7528next()\u65b9\u6cd5\u7684\u7ed3\u679c\uff0c\u5206\u522b\u4e3a\u6570\u503c1\u30012\u548c3\u3002\u5f53\u7136\uff0c\u7b80\u5355\u8f93\u51fa\u8fed\u4ee3\u6b21\u6570\u4e0d\u8db3\u4ee5\u5c55\u793a\u8fed\u4ee3\u5668\u9ad8\u7ea7\u529f\u80fd\u7684\u5b9e\u7528\u4e4b\u5904\uff0c\u4e0b\u4e00\u6b65\u5c06\u5728\u8fed\u4ee3\u5668\u4e0e\u8c03\u7528\u8005\u4e4b\u95f4\u4e92\u76f8\u4f20\u503c \u3010\u5411\u4efb\u52a1\u6267\u884c\u5668\u4f20\u9012\u6570\u636e\u3011 \u7ed9\u4efb\u52a1\u6267\u884c\u5668\u4f20\u9012\u6570\u636e\u7684\u6700\u7b80\u5355\u529e\u6cd5\u662f\uff0c\u5c06\u503c\u901a\u8fc7\u8fed\u4ee3\u5668\u7684next()\u65b9\u6cd5\u4f20\u5165\u4f5c\u4e3ayield\u7684\u751f\u6210\u503c\u4f9b\u4e0b\u6b21\u8c03\u7528\u3002\u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u53ea\u9700\u5c06result.value\u4f20\u5165next()\u65b9\u6cd5\u5373\u53ef function run(taskDef) { // \u521b\u5efa\u8fed\u4ee3\u5668\uff0c\u8ba9\u5b83\u5728\u522b\u5904\u53ef\u7528 let task = taskDef(); // \u542f\u52a8\u4efb\u52a1 let result = task.next(); // \u9012\u5f52\u4f7f\u7528\u51fd\u6570\u6765\u4fdd\u6301\u5bf9 next() \u7684\u8c03\u7528 function step() { // \u5982\u679c\u8fd8\u6709\u66f4\u591a\u8981\u505a\u7684 if (!result.done) { result = task.next(result.value); step(); } } // \u5f00\u59cb\u5904\u7406\u8fc7\u7a0b step(); } \u73b0\u5728result.value\u4f5c\u4e3anext()\u65b9\u6cd5\u7684\u53c2\u6570\u88ab\u4f20\u5165\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5728yield\u8c03\u7528\u4e4b\u95f4\u4f20\u9012\u6570\u636e\u4e86 run(function*() { let value = yield 1; console.log(value); // 1 value = yield value + 3; console.log(value); // 4 }); \u6b64\u793a\u4f8b\u4f1a\u5411\u63a7\u5236\u53f0\u8f93\u51fa\u4e24\u4e2a\u6570\u503c1\u548c4\u3002\u5176\u4e2d\uff0c\u6570\u503c1\u53d6\u81eayield 1\u8bed\u53e5\u4e2d\u56de\u4f20\u7ed9\u53d8\u91cfvalue\u7684\u503c\uff1b\u800c4\u53d6\u81ea\u7ed9\u53d8\u91cfvalue\u52a03\u540e\u56de\u4f20\u7ed9value\u7684\u503c\u3002\u73b0\u5728\u6570\u636e\u5df2\u7ecf\u80fd\u591f\u5728yield\u8c03\u7528\u95f4\u4e92\u76f8\u4f20\u9012\u4e86\uff0c\u53ea\u9700\u4e00\u4e2a\u5c0f\u5c0f\u6539\u53d8\u4fbf\u80fd\u652f\u6301\u5f02\u6b65\u8c03\u7528 \u3010\u5f02\u6b65\u4efb\u52a1\u6267\u884c\u5668\u3011 \u4e4b\u524d\u7684\u793a\u4f8b\u53ea\u662f\u5728\u591a\u4e2ayield\u8c03\u7528\u95f4\u6765\u56de\u4f20\u9012\u9759\u6001\u6570\u636e\uff0c\u800c\u7b49\u5f85\u4e00\u4e2a\u5f02\u6b65\u8fc7\u7a0b\u6709\u4e9b\u4e0d\u540c\u3002\u4efb\u52a1\u6267\u884c\u5668\u9700\u8981\u77e5\u6653\u56de\u8c03\u51fd\u6570\u662f\u4ec0\u4e48\u4ee5\u53ca\u5982\u4f55\u4f7f\u7528\u5b83\u3002\u7531\u4e8eyield\u8868\u8fbe\u5f0f\u4f1a\u5c06\u503c\u8fd4\u56de\u7ed9\u4efb\u52a1\u6267\u884c\u5668\uff0c\u6240\u6709\u7684\u51fd\u6570\u8c03\u7528\u90fd\u4f1a\u8fd4\u56de\u4e00\u4e2a\u503c\uff0c\u56e0\u800c\u5728\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u8fd9\u4e5f\u662f\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u4efb\u52a1\u6267\u884c\u5668\u4f1a\u4e00\u76f4\u7b49\u5f85\u76f4\u5230\u64cd\u4f5c\u5b8c\u6210 \u4e0b\u9762\u5b9a\u4e49\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c function fetchData() { return function(callback) { callback(null, \"Hi!\"); }; } \u672c\u793a\u4f8b\u7684\u539f\u610f\u662f\u8ba9\u4efb\u52a1\u6267\u884c\u5668\u8c03\u7528\u7684\u6240\u6709\u51fd\u6570\u90fd\u8fd4\u56de\u4e00\u4e2a\u53ef\u4ee5\u6267\u884c\u56de\u8c03\u8fc7\u7a0b\u7684\u51fd\u6570\uff0c\u6b64\u5904fetchData()\u51fd\u6570\u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u53ef\u63a5\u53d7\u56de\u8c03\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u7684\u51fd\u6570\uff0c\u5f53\u8c03\u7528\u5b83\u65f6\u4f1a\u4f20\u5165\u4e00\u4e2a\u5b57\u7b26\u4e32\"Hi!\"\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u5e76\u6267\u884c\u3002\u53c2\u6570callback\u9700\u8981\u901a\u8fc7\u4efb\u52a1\u6267\u884c\u5668\u6307\u5b9a\uff0c\u4ee5\u786e\u4fdd\u56de\u8c03\u51fd\u6570\u6267\u884c\u65f6\u53ef\u4ee5\u4e0e\u5e95\u5c42\u8fed\u4ee3\u5668\u6b63\u786e\u4ea4\u4e92\u3002\u5c3d\u7ba1fetchData()\u662f\u540c\u6b65\u51fd\u6570\uff0c\u4f46\u7b80\u5355\u6dfb\u52a0\u4e00\u4e2a\u5ef6\u8fdf\u65b9\u6cd5\u5373\u53ef\u5c06\u5176\u53d8\u4e3a\u5f02\u6b65\u51fd\u6570 function fetchData() { return function(callback) { setTimeout(function() { callback(null, \"Hi!\"); }, 50); }; } \u5728\u8fd9\u4e2a\u7248\u672c\u7684fetchData()\u51fd\u6570\u4e2d\uff0c\u8ba9\u56de\u8c03\u51fd\u6570\u5ef6\u8fdf\u4e8650ms\u518d\u88ab\u8c03\u7528\uff0c\u6240\u4ee5\u8fd9\u79cd\u6a21\u5f0f\u5728\u540c\u6b65\u548c\u5f02\u6b65\u72b6\u6001\u4e0b\u90fd\u8fd0\u884c\u826f\u597d\u3002\u53ea\u9700\u4fdd\u8bc1\u6bcf\u4e2a\u8981\u901a\u8fc7yield\u5173\u952e\u5b57\u8c03\u7528\u7684\u51fd\u6570\u90fd\u6309\u7167\u4e0e\u4e4b\u76f8\u540c\u7684\u6a21\u5f0f\u7f16\u5199 \u7406\u89e3\u4e86\u51fd\u6570\u4e2d\u5f02\u6b65\u8fc7\u7a0b\u7684\u8fd0\u4f5c\u65b9\u5f0f\uff0c\u53ef\u4ee5\u5c06\u4efb\u52a1\u6267\u884c\u5668\u7a0d\u4f5c\u4fee\u6539\u3002\u5f53result.value\u662f\u4e00\u4e2a\u51fd\u6570\u65f6\uff0c\u4efb\u52a1\u6267\u884c\u5668\u4f1a\u5148\u6267\u884c\u8fd9\u4e2a\u51fd\u6570\u518d\u5c06\u7ed3\u679c\u4f20\u5165next()\u65b9\u6cd5 function run(taskDef) { // \u521b\u5efa\u8fed\u4ee3\u5668\uff0c\u8ba9\u5b83\u5728\u522b\u5904\u53ef\u7528 let task = taskDef(); // \u542f\u52a8\u4efb\u52a1 let result = task.next(); // \u9012\u5f52\u4f7f\u7528\u51fd\u6570\u6765\u4fdd\u6301\u5bf9 next() \u7684\u8c03\u7528 function step() { // \u5982\u679c\u8fd8\u6709\u66f4\u591a\u8981\u505a\u7684 if (!result.done) { if (typeof result.value === \"function\") { result.value(function(err, data) { if (err) { result = task.throw(err); return; } result = task.next(data); step(); }); } else { result = task.next(result.value); step(); } } } // \u5f00\u59cb\u5904\u7406\u8fc7\u7a0b step(); } \u901a\u8fc7===\u64cd\u4f5c\u7b26\u68c0\u67fb\u540e\uff0c\u5982\u679cresult.value\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u4f1a\u4f20\u5165\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u8c03\u7528\u5b83\uff0c\u56de\u8c03\u51fd\u6570\u9075\u5faaNode.js\u6709\u5173\u6267\u884c\u9519\u8bef\u7684\u7ea6\u5b9a\uff1a\u6240\u6709\u53ef\u80fd\u7684\u9519\u8bef\u653e\u5728\u7b2c\u4e00\u4e2a\u53c2\u6570(err)\u4e2d\uff0c\u7ed3\u679c\u653e\u5728\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e2d\u3002\u5982\u679c\u4f20\u5165\u4e86err\uff0c\u610f\u5473\u7740\u6267\u884c\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u4e86\u9519\u8bef\uff0c\u8fd9\u65f6\u901a\u8fc7task.throw()\u6b63\u786e\u8f93\u51fa\u9519\u8bef\u5bf9\u8c61\uff1b\u5982\u679c\u6ca1\u6709\u9519\u8bef\u4ea7\u751f\uff0cdata\u88ab\u4f20\u5165task.next()\u4f5c\u4e3a\u7ed3\u679c\u50a8\u5b58\u8d77\u6765\uff0c\u5e76\u7ee7\u7eed\u6267\u884cstep()\u3002\u5982\u679cresult.value\u4e0d\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5219\u76f4\u63a5\u5c06\u5176\u4f20\u5165next()\u65b9\u6cd5 \u73b0\u5728\uff0c\u8fd9\u4e2a\u65b0\u7248\u7684\u4efb\u52a1\u6267\u884c\u5668\u5df2\u7ecf\u53ef\u4ee5\u7528\u4e8e\u6240\u6709\u7684\u5f02\u6b65\u4efb\u52a1\u4e86\u3002\u5728Node.js\u73af\u5883\u4e2d\uff0c\u5982\u679c\u8981\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u4e00\u4e9b\u6570\u636e\uff0c\u9700\u8981\u5728fs.readFile()\u5916\u56f4\u521b\u5efa\u4e00\u4e2a\u5305\u88c5\u5668(wrapper)\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u4e0efetchData()\u7c7b\u4f3c\u7684\u51fd\u6570 let fs = require(\"fs\"); function readFile(filename) { return function(callback) { fs.readFile(filename, callback); }; } readFile()\u63a5\u53d7\u4e00\u4e2a\u6587\u4ef6\u540d\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u53ef\u4ee5\u6267\u884c\u56de\u8c03\u51fd\u6570\u7684\u51fd\u6570\u3002\u56de\u8c03\u51fd\u6570\u88ab\u76f4\u63a5\u4f20\u5165fs.readFile()\u65b9\u6cd5\uff0c\u8bfb\u53d6\u5b8c\u6210\u540e\u4f1a\u6267\u884c\u5b83 run(function*() { let contents = yield readFile(\"config.json\"); doSomethingWith(contents); console.log(\"Done\"); }); \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\u6ca1\u6709\u4efb\u4f55\u56de\u8c03\u53d8\u91cf\uff0c\u5f02\u6b65\u7684readFile()\u64cd\u4f5c\u5374\u6b63\u5e38\u6267\u884c\uff0c\u9664\u4e86yield\u5173\u952e\u5b57\u5916\uff0c\u5176\u4ed6\u4ee3\u7801\u4e0e\u540c\u6b65\u4ee3\u7801\u5b8c\u5168\u4e00\u6837\uff0c\u53ea\u4e0d\u8fc7\u51fd\u6570\u6267\u884c\u7684\u662f\u5f02\u6b65\u64cd\u4f5c\u3002\u6240\u4ee5\u9075\u5faa\u76f8\u540c\u7684\u63a5\u53e3\uff0c\u53ef\u4ee5\u7f16\u5199\u4e00\u4e9b\u8bfb\u8d77\u6765\u50cf\u662f\u540c\u6b65\u4ee3\u7801\u7684\u5f02\u6b65\u903b\u8f91 \u5f53\u7136\uff0c\u8fd9\u4e9b\u793a\u4f8b\u4e2d\u4f7f\u7528\u7684\u6a21\u5f0f\u4e5f\u6709\u7f3a\u70b9\uff0c\u4e5f\u5c31\u662f\u4e0d\u80fd\u767e\u5206\u767e\u786e\u8ba4\u51fd\u6570\u4e2d\u8fd4\u56de\u7684\u5176\u4ed6\u51fd\u6570\u4e00\u5b9a\u662f\u5f02\u6b65\u7684\u3002\u7740\u773c\u5f53\u4e0b\uff0c\u6700\u91cd\u8981\u7684\u662f\u80fd\u7406\u89e3\u4efb\u52a1\u6267\u884c\u8fc7\u7a0b\u80cc\u540e\u7684\u7406\u8bba\u77e5\u8bc6","title":"ES6 \u8fed\u4ee3\u5668\u4e0e\u751f\u6210\u5668"},{"location":"javascript/ES6%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%94%9F%E6%88%90%E5%99%A8/#iteratorgenerator","text":"\u200b \u7528\u5faa\u73af\u8bed\u53e5\u8fed\u4ee3\u6570\u636e\u65f6\uff0c\u5fc5\u987b\u8981\u521d\u59cb\u5316\u4e00\u4e2a\u53d8\u91cf\u6765\u8bb0\u5f55\u6bcf\u4e00\u6b21\u8fed\u4ee3\u5728\u6570\u636e\u96c6\u5408\u4e2d\u7684\u4f4d\u7f6e\uff0c\u800c\u5728\u8bb8\u591a\u7f16\u7a0b\u8bed\u8a00\u4e2d\uff0c\u5df2\u7ecf\u5f00\u59cb\u901a\u8fc7\u7a0b\u5e8f\u5316\u7684\u65b9\u5f0f\u7528\u8fed\u4ee3\u5668\u5bf9\u8c61\u8fd4\u56de\u8fed\u4ee3\u8fc7\u7a0b\u4e2d\u96c6\u5408\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20 \u8fed\u4ee3\u5668\u7684\u4f7f\u7528\u53ef\u4ee5\u6781\u5927\u5730\u7b80\u5316\u6570\u636e\u64cd\u4f5c\uff0c\u4e8e\u662fES6\u4e5f\u5411JS\u4e2d\u6dfb\u52a0\u4e86\u8fd9\u4e2a\u8fed\u4ee3\u5668\u7279\u6027\u3002\u65b0\u7684\u6570\u7ec4\u65b9\u6cd5\u548c\u65b0\u7684\u96c6\u5408\u7c7b\u578b(\u5982Set\u96c6\u5408\u4e0eMap\u96c6\u5408)\u90fd\u4f9d\u8d56\u8fed\u4ee3\u5668\u7684\u5b9e\u73b0\uff0c\u8fd9\u4e2a\u65b0\u7279\u6027\u5bf9\u4e8e\u9ad8\u6548\u7684\u6570\u636e\u5904\u7406\u800c\u8a00\u662f\u4e0d\u53ef\u6216\u7f3a\u7684\uff0c\u5728\u8bed\u8a00\u7684\u5176\u4ed6\u7279\u6027\u4e2d\u4e5f\u90fd\u6709\u8fed\u4ee3\u5668\u7684\u8eab\u5f71\uff1a\u65b0\u7684for-of\u5faa\u73af\u3001\u5c55\u5f00\u8fd0\u7b97\u7b26(...)\uff0c\u751a\u81f3\u8fde\u5f02\u6b65\u7f16\u7a0b\u90fd\u53ef\u4ee5\u4f7f\u7528\u8fed\u4ee3\u5668 \u672c\u6587\u5c06\u8be6\u7ec6\u4ecb\u7ecdES6\u4e2d\u7684\u8fed\u4ee3\u5668(Iterator)\u548c\u751f\u6210\u5668(Generator)","title":"\u8fed\u4ee3\u5668(Iterator)\u548c\u751f\u6210\u5668(Generator)"},{"location":"javascript/ES6%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%94%9F%E6%88%90%E5%99%A8/#_1","text":"\u4e0b\u9762\u662f\u4e00\u6bb5\u6807\u51c6\u7684for\u5faa\u73af\u4ee3\u7801\uff0c\u901a\u8fc7\u53d8\u91cfi\u6765\u8ddf\u8e2acolors\u6570\u7ec4\u7684\u7d22\u5f15\uff0c\u5faa\u73af\u6bcf\u6b21\u6267\u884c\u65f6\uff0c\u5982\u679ci\u5c0f\u4e8e\u6570\u7ec4\u957f\u5ea6len\u5219\u52a01\uff0c\u5e76\u6267\u884c\u4e0b\u4e00\u6b21\u5faa\u73af var colors = [ \"red\" , \"green\" , \"blue\" ]; for ( var i = 0 , len = colors . length ; i < len ; i ++ ) { console . log ( colors [ i ]); } \u867d\u7136\u5faa\u73af\u8bed\u53e5\u8bed\u6cd5\u7b80\u5355\uff0c\u4f46\u5982\u679c\u5c06==\u591a\u4e2a\u5faa\u73af\u5d4c\u5957\u5219\u9700\u8981\u8ffd\u8e2a\u591a\u4e2a\u53d8\u91cf==\uff0c\u4ee3\u7801\u590d\u6742\u5ea6\u4f1a\u5927\u5927\u589e\u52a0\uff0c\u4e00\u4e0d\u5c0f\u5fc3\u5c31\u9519\u8bef\u4f7f\u7528\u4e86\u5176\u4ed6for\u5faa\u73af\u7684\u8ddf\u8e2a\u53d8\u91cf\uff0c\u4ece\u800c\u5bfc\u81f4\u7a0b\u5e8f\u51fa\u9519\u3002\u8fed\u4ee3\u5668\u7684\u51fa\u73b0\u65e8\u5728\u6d88\u9664\u8fd9\u79cd\u590d\u6742\u6027\u5e76\u51cf\u5c11\u5faa\u73af\u4e2d\u7684\u9519\u8bef","title":"\u5f15\u5165"},{"location":"javascript/ES6%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%94%9F%E6%88%90%E5%99%A8/#_2","text":"\u8fed\u4ee3\u5668\u662f\u4e00\u79cd\u7279\u6b8a\u5bf9\u8c61\uff0c\u5b83\u5177\u6709\u4e00\u4e9b\u4e13\u95e8\u4e3a\u8fed\u4ee3\u8fc7\u7a0b\u8bbe\u8ba1\u7684\u4e13\u6709\u63a5\u53e3\uff0c\u6240\u6709\u7684\u8fed\u4ee3\u5668\u5bf9\u8c61\u90fd\u6709\u4e00\u4e2anext()\u65b9\u6cd5\uff0c\u6bcf\u6b21\u8c03\u7528\u90fd\u8fd4\u56de\u4e00\u4e2a\u7ed3\u679c\u5bf9\u8c61\u3002\u7ed3\u679c\u5bf9\u8c61\u6709\u4e24\u4e2a\u5c5e\u6027\uff1a\u4e00\u4e2a\u662fvalue\uff0c\u8868\u793a\u4e0b\u4e00\u4e2a\u5c06\u8981\u8fd4\u56de\u7684\u503c\uff1b\u53e6\u4e00\u4e2a\u662fdone\uff0c\u5b83\u662f\u4e00\u4e2a\u5e03\u5c14\u7c7b\u578b\u7684\u503c\uff0c\u5f53\u6ca1\u6709\u66f4\u591a\u53ef\u8fd4\u56de\u6570\u636e\u65f6\u8fd4\u56detrue\u3002\u8fed\u4ee3\u5668\u8fd8\u4f1a\u4fdd\u5b58\u4e00\u4e2a\u5185\u90e8\u6307\u9488\uff0c\u7528\u6765\u6307\u5411\u5f53\u524d\u96c6\u5408\u4e2d\u503c\u7684\u4f4d\u7f6e\uff0c\u6bcf\u8c03\u7528\u4e00\u6b21next()\u65b9\u6cd5\uff0c\u90fd\u4f1a\u8fd4\u56de\u4e0b\u4e00\u4e2a\u53ef\u7528\u7684\u503c \u5982\u679c\u5728\u6700\u540e\u4e00\u4e2a\u503c\u8fd4\u56de\u540e\u518d\u8c03\u7528next()\u65b9\u6cd5\uff0c\u90a3\u4e48\u8fd4\u56de\u7684\u5bf9\u8c61\u4e2d\u5c5e\u6027done\u7684\u503c\u4e3atrue\uff0c\u5c5e\u6027value\u5219\u5305\u542b\u8fed\u4ee3\u5668\u6700\u7ec8\u8fd4\u56de\u7684\u503c\uff0c\u8fd9\u4e2a\u8fd4\u56de\u503c\u4e0d\u662f\u6570\u636e\u96c6\u7684\u4e00\u90e8\u5206\uff0c\u5b83\u4e0e\u51fd\u6570\u7684\u8fd4\u56de\u503c\u7c7b\u4f3c\uff0c\u662f\u51fd\u6570\u8c03\u7528\u8fc7\u7a0b\u4e2d\u6700\u540e\u4e00\u6b21\u7ed9\u8c03\u7528\u8005\u4f20\u9012\u4fe1\u606f\u7684\u65b9\u6cd5\uff0c\u5982\u679c\u6ca1\u6709\u76f8\u5173\u6570\u636e\u5219\u8fd4\u56deundefined \u4e0b\u9762\u7528ES5\u7684\u8bed\u6cd5\u521b\u5efa\u4e00\u4e2a\u8fed\u4ee3\u5668 function createIterator ( items ) { var i = 0 ; return { next : function () { var done = ( i >= items . length ); var value = ! done ? items [ i ++ ] : undefined ; return { done : done , value : value }; } }; } var iterator = createIterator ([ 1 , 2 , 3 ]); console . log ( iterator . next ()); // \"{ value: 1, done: false }\" console . log ( iterator . next ()); // \"{ value: 2, done: false }\" console . log ( iterator . next ()); // \"{ value: 3, done: false }\" console . log ( iterator . next ()); // \"{ value: undefined, done: true }\" // \u4e4b\u540e\u7684\u6240\u6709\u8c03\u7528 console . log ( iterator . next ()); // \"{ value: undefined, done: true }\" \u5728\u4e0a\u9762\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0ccreateIterator()\u65b9\u6cd5\u8fd4\u56de\u7684\u5bf9\u8c61\u6709\u4e00\u4e2anext()\u65b9\u6cd5\uff0c\u6bcf\u6b21\u8c03\u7528\u65f6\uff0citems\u6570\u7ec4\u7684\u4e0b\u4e00\u4e2a\u503c\u4f1a\u4f5c\u4e3avalue\u8fd4\u56de\u3002\u5f53i\u4e3a3\u65f6\uff0cdone\u53d8\u4e3atrue\uff1b\u6b64\u65f6\u4e09\u5143\u8868\u8fbe\u5f0f\u4f1a\u5c06value\u7684\u503c\u8bbe\u7f6e\u4e3aundefined\u3002\u6700\u540e\u4e24\u6b21\u8c03\u7528\u7684\u7ed3\u679c\u4e0eES6\u8fed\u4ee3\u5668\u7684\u6700\u7ec8\u8fd4\u56de\u673a\u5236\u7c7b\u4f3c\uff0c\u5f53\u6570\u636e\u96c6\u88ab\u7528\u5c3d\u540e\u4f1a\u8fd4\u56de\u6700\u7ec8\u7684\u5185\u5bb9 \u4e0a\u9762\u8fd9\u4e2a\u793a\u4f8b\u5f88\u590d\u6742\uff0c\u800c\u5728ES6\u4e2d\uff0c\u8fed\u4ee3\u5668\u7684\u7f16\u5199\u89c4\u5219\u4e5f\u540c\u6837\u590d\u6742\uff0c\u4f46ES6\u540c\u65f6\u8fd8\u5f15\u5165\u4e86\u4e00\u4e2a\u751f\u6210\u5668\u5bf9\u8c61\uff0c\u5b83\u53ef\u4ee5\u8ba9\u521b\u5efa\u8fed\u4ee3\u5668\u5bf9\u8c61\u7684\u8fc7\u7a0b\u53d8\u5f97\u66f4\u7b80\u5355","title":"\u8fed\u4ee3\u5668"},{"location":"javascript/ES6%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%94%9F%E6%88%90%E5%99%A8/#_3","text":"\u751f\u6210\u5668\u662f\u4e00\u79cd\u8fd4\u56de\u8fed\u4ee3\u5668\u7684\u51fd\u6570\uff0c\u901a\u8fc7function\u5173\u952e\u5b57\u540e\u7684\u661f\u53f7(*)\u6765\u8868\u793a\uff0c\u51fd\u6570\u4e2d\u4f1a\u7528\u5230\u65b0\u7684\u5173\u952e\u5b57yield\u3002\u661f\u53f7\u53ef\u4ee5\u7d27\u6328\u7740function\u5173\u952e\u5b57\uff0c\u4e5f\u53ef\u4ee5\u5728\u4e2d\u95f4\u6dfb\u52a0\u4e00\u4e2a\u7a7a\u683c // \u751f\u6210\u5668 function * createIterator () { yield 1 ; yield 2 ; yield 3 ; } // \u751f\u6210\u5668\u80fd\u50cf\u6b63\u89c4\u51fd\u6570\u90a3\u6837\u88ab\u8c03\u7528\uff0c\u4f46\u4f1a\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668 let iterator = createIterator (); console . log ( iterator . next (). value ); // 1 console . log ( iterator . next (). value ); // 2 console . log ( iterator . next (). value ); // 3 \u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0ccreatelterator()\u524d\u7684\u661f\u53f7\u8868\u660e\u5b83\u662f\u4e00\u4e2a\u751f\u6210\u5668\uff1byield\u5173\u952e\u5b57\u4e5f\u662fES6\u7684\u65b0\u7279\u6027\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b83\u6765\u6307\u5b9a\u8c03\u7528\u8fed\u4ee3\u5668\u7684next()\u65b9\u6cd5\u65f6\u7684\u8fd4\u56de\u503c\u53ca\u8fd4\u56de\u987a\u5e8f\u3002\u751f\u6210\u8fed\u4ee3\u5668\u540e\uff0c\u8fde\u7eed3\u6b21\u8c03\u7528\u5b83\u7684next()\u65b9\u6cd5\u8fd4\u56de3\u4e2a\u4e0d\u540c\u7684\u503c\uff0c\u5206\u522b\u662f1\u30012\u548c3\u3002\u751f\u6210\u5668\u7684\u8c03\u7528\u8fc7\u7a0b\u4e0e\u5176\u4ed6\u51fd\u6570\u4e00\u6837\uff0c\u6700\u7ec8\u8fd4\u56de\u7684\u662f\u521b\u5efa\u597d\u7684\u8fed\u4ee3\u5668 \u751f\u6210\u5668\u51fd\u6570\u6700\u6709\u8da3\u7684\u90e8\u5206\u662f\uff0c\u6bcf\u5f53\u6267\u884c\u5b8c\u4e00\u6761yield\u8bed\u53e5\u540e\u51fd\u6570\u5c31\u4f1a\u81ea\u52a8\u505c\u6b62\u6267\u884c\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5728\u4e0a\u9762\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u6267\u884c\u5b8c\u8bed\u53e5yield 1\u4e4b\u540e\uff0c\u51fd\u6570\u4fbf\u4e0d\u518d\u6267\u884c\u5176\u4ed6\u4efb\u4f55\u8bed\u53e5\uff0c\u76f4\u5230\u518d\u6b21\u8c03\u7528\u8fed\u4ee3\u5668\u7684next()\u65b9\u6cd5\u624d\u4f1a\u7ee7\u7eed\u6267\u884cyield 2\u8bed\u53e5\u3002\u751f\u6210\u5668\u51fd\u6570\u7684\u8fd9\u79cd\u4e2d\u6b62\u51fd\u6570\u6267\u884c\u7684\u80fd\u529b\u6709\u5f88\u591a\u6709\u8da3\u7684\u5e94\u7528 \u4f7f\u7528yield\u5173\u952e\u5b57\u53ef\u4ee5\u8fd4\u56de\u4efb\u4f55\u503c\u6216\u8868\u8fbe\u5f0f\uff0c\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7\u751f\u6210\u5668\u51fd\u6570\u6279\u91cf\u5730\u7ed9\u8fed\u4ee3\u5668\u6dfb\u52a0\u5143\u7d20\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u5728\u5faa\u73af\u4e2d\u4f7f\u7528yield\u5173\u952e\u5b57 function * createIterator ( items ) { for ( let i = 0 ; i < items . length ; i ++ ) { yield items [ i ]; } } let iterator = createIterator ([ 1 , 2 , 3 ]); console . log ( iterator . next ()); // \"{ value: 1, done: false }\" console . log ( iterator . next ()); // \"{ value: 2, done: false }\" console . log ( iterator . next ()); // \"{ value: 3, done: false }\" console . log ( iterator . next ()); // \"{ value: undefined, done: true }\" // \u4e4b\u540e\u7684\u6240\u6709\u8c03\u7528 console . log ( iterator . next ()); // \"{ value: undefined, done: true }\" \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u7ed9\u751f\u6210\u5668\u51fd\u6570createlterator()\u4f20\u5165\u4e00\u4e2aitems\u6570\u7ec4\uff0c\u800c\u5728\u51fd\u6570\u5185\u90e8\uff0cfor\u5faa\u73af\u4e0d\u65ad\u4ece\u6570\u7ec4\u4e2d\u751f\u6210\u65b0\u7684\u5143\u7d20\u653e\u5165\u8fed\u4ee3\u5668\u4e2d\uff0c\u6bcf\u9047\u5230\u4e00\u4e2ayield\u8bed\u53e5\u5faa\u73af\u90fd\u4f1a\u505c\u6b62\uff1b\u6bcf\u6b21\u8c03\u7528\u8fed\u4ee3\u5668\u7684next()\u65b9\u6cd5\uff0c\u5faa\u73af\u4f1a\u7ee7\u7eed\u8fd0\u884c\u5e76\u6267\u884c\u4e0b\u4e00\u6761yield\u8bed\u53e5 \u751f\u6210\u5668\u51fd\u6570\u662fES6\u4e2d\u7684\u4e00\u4e2a\u91cd\u8981\u7279\u6027\uff0c\u53ef\u4ee5\u5c06\u5176\u7528\u4e8e\u6240\u6709\u652f\u6301\u51fd\u6570\u4f7f\u7528\u7684\u5730\u65b9 \u3010\u4f7f\u7528\u9650\u5236\u3011 yield\u5173\u952e\u5b57\u53ea\u53ef\u5728\u751f\u6210\u5668\u5185\u90e8\u4f7f\u7528\uff0c\u5728\u5176\u4ed6\u5730\u65b9\u4f7f\u7528\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u629b\u51fa\u9519\u8bef function * createIterator ( items ) { items . forEach ( function ( item ) { // \u8bed\u6cd5\u9519\u8bef yield item + 1 ; }); } \u4ece\u5b57\u9762\u4e0a\u770b\uff0cyield\u5173\u952e\u5b57\u786e\u5b9e\u5728createlterator()\u51fd\u6570\u5185\u90e8\uff0c\u4f46\u662f\u5b83\u4e0ereturn\u5173\u952e\u5b57\u4e00\u6837\uff0c\u4e8c\u8005\u90fd\u4e0d\u80fd\u7a7f\u900f\u51fd\u6570\u8fb9\u754c\u3002\u5d4c\u5957\u51fd\u6570\u4e2d\u7684return\u8bed\u53e5\u4e0d\u80fd\u7528\u4f5c\u5916\u90e8\u51fd\u6570\u7684\u8fd4\u56de\u8bed\u53e5\uff0c\u800c\u6b64\u5904\u5d4c\u5957\u51fd\u6570\u4e2d\u7684yield\u8bed\u53e5\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u629b\u51fa\u8bed\u6cd5\u9519\u8bef \u3010\u751f\u6210\u5668\u51fd\u6570\u8868\u8fbe\u5f0f\u3011 \u4e5f\u53ef\u4ee5\u901a\u8fc7\u51fd\u6570\u8868\u8fbe\u5f0f\u6765\u521b\u5efa\u751f\u6210\u5668\uff0c\u53ea\u9700\u5728function\u5173\u952e\u5b57\u548c\u5c0f\u62ec\u53f7\u4e2d\u95f4\u6dfb\u52a0\u4e00\u4e2a\u661f\u53f7(*)\u5373\u53ef let createIterator = function * ( items ) { for ( let i = 0 ; i < items . length ; i ++ ) { yield items [ i ]; } }; let iterator = createIterator ([ 1 , 2 , 3 ]); console . log ( iterator . next ()); // \"{ value: 1, done: false }\" console . log ( iterator . next ()); // \"{ value: 2, done: false }\" console . log ( iterator . next ()); // \"{ value: 3, done: false }\" console . log ( iterator . next ()); // \"{ value: undefined, done: true }\" // \u4e4b\u540e\u7684\u6240\u6709\u8c03\u7528 console . log ( iterator . next ()); // \"{ value: undefined, done: true }\" \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0ccreatelterator()\u662f\u4e00\u4e2a\u751f\u6210\u5668\u51fd\u6570\u8868\u8fbe\u5f0f\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u51fd\u6570\u58f0\u660e\u3002\u7531\u4e8e\u51fd\u6570\u8868\u8fbe\u5f0f\u662f\u533f\u540d\u7684\uff0c\u56e0\u6b64\u661f\u53f7\u76f4\u63a5\u653e\u5728function\u5173\u952e\u5b57\u548c\u5c0f\u62ec\u53f7\u4e4b\u95f4\u3002\u6b64\u5916\uff0c\u8fd9\u4e2a\u793a\u4f8b\u57fa\u672c\u4e0e\u524d\u4f8b\u76f8\u540c\uff0c\u4f7f\u7528\u7684\u4e5f\u662ffor\u5faa\u73af \u4e0d\u80fd\u7528\u7bad\u5934\u51fd\u6570\u6765\u521b\u5efa\u751f\u6210\u5668 \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 \u3010\u751f\u6210\u5668\u5bf9\u8c61\u7684\u65b9\u6cd5\u3011 \u7531\u4e8e\u751f\u6210\u5668\u672c\u8eab\u5c31\u662f\u51fd\u6570\uff0c\u56e0\u800c\u53ef\u4ee5\u5c06\u5b83\u4eec\u6dfb\u52a0\u5230\u5bf9\u8c61\u4e2d\u3002\u4f8b\u5982\uff0c\u5728ES5\u98ce\u683c\u7684\u5bf9\u8c61\u5b57\u9762\u91cf\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u51fd\u6570\u8868\u8fbe\u5f0f\u6765\u521b\u5efa\u751f\u6210\u5668 var o = { createIterator: function *(items) { for (let i = 0; i < items.length; i++) { yield items[i]; } } }; let iterator = o.createIterator([1, 2, 3]); \u4e5f\u53ef\u4ee5\u7528ES6\u7684\u51fd\u6570\u65b9\u6cd5\u7684\u7b80\u5199\u65b9\u5f0f\u6765\u521b\u5efa\u751f\u6210\u5668\uff0c\u53ea\u9700\u5728\u51fd\u6570\u540d\u524d\u6dfb\u52a0\u4e00\u4e2a\u661f\u53f7(*) var o = { *createIterator(items) { for (let i = 0; i < items.length; i++) { yield items[i]; } } }; let iterator = o.createIterator([1, 2, 3]); \u8fd9\u4e9b\u793a\u4f8b\u4f7f\u7528\u4e86\u4e0d\u540c\u4e8e\u4e4b\u524d\u7684\u8bed\u6cd5\uff0c\u4f46\u5b83\u4eec\u7684\u529f\u80fd\u5b9e\u9645\u4e0a\u662f\u7b49\u4ef7\u7684\u3002\u5728\u7b80\u5199\u7248\u672c\u4e2d\uff0c\u7531\u4e8e\u4e0d\u4f7f\u7528function\u5173\u952e\u5b57\u6765\u5b9a\u4e49createlterator()\u65b9\u6cd5\uff0c\u56e0\u6b64\u5c3d\u7ba1\u53ef\u4ee5\u5728\u661f\u53f7\u548c\u65b9\u6cd5\u540d\u4e4b\u95f4\u7559\u767d\uff0c\u4f46\u8fd8\u662f\u5c06\u661f\u53f7\u7d27\u8d34\u5728\u65b9\u6cd5\u540d\u4e4b\u524d \u3010\u72b6\u6001\u673a\u3011 \u751f\u6210\u5668\u7684\u4e00\u4e2a\u5e38\u7528\u529f\u80fd\u662f\u751f\u6210\u72b6\u6001\u673a let state = function*(){ while(1){ yield 'A'; yield 'B'; yield 'C'; } } let status = state(); console.log(status.next().value);//'A' console.log(status.next().value);//'B' console.log(status.next().value);//'C' console.log(status.next().value);//'A' console.log(status.next().value);//'B'","title":"\u751f\u6210\u5668"},{"location":"javascript/ES6%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%94%9F%E6%88%90%E5%99%A8/#_4","text":"\u53ef\u8fed\u4ee3\u5bf9\u8c61\u5177\u6709Symbol.iterator\u5c5e\u6027\uff0c\u662f\u4e00\u79cd\u4e0e\u8fed\u4ee3\u5668\u5bc6\u5207\u76f8\u5173\u7684\u5bf9\u8c61\u3002Symbol.iterator\u901a\u8fc7\u6307\u5b9a\u7684\u51fd\u6570\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u4f5c\u7528\u4e8e\u9644\u5c5e\u5bf9\u8c61\u7684\u8fed\u4ee3\u5668\u3002\u5728ES6\u4e2d\uff0c\u6240\u6709\u7684\u96c6\u5408\u5bf9\u8c61(\u6570\u7ec4\u3001Set\u96c6\u5408\u53caMap\u96c6\u5408)\u548c\u5b57\u7b26\u4e32\u90fd\u662f\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u5bf9\u8c61\u4e2d\u90fd\u6709\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668\u3002ES6\u4e2d\u65b0\u52a0\u5165\u7684\u7279\u6027for-of\u5faa\u73af\u9700\u8981\u7528\u5230\u53ef\u8fed\u4ee3\u5bf9\u8c61\u7684\u8fd9\u4e9b\u529f\u80fd [\u6ce8\u610f]\u7531\u4e8e\u751f\u6210\u5668\u9ed8\u8ba4\u4f1a\u4e3aSymbol.iterator\u5c5e\u6027\u8d4b\u503c\uff0c\u56e0\u6b64\u6240\u6709\u901a\u8fc7\u751f\u6210\u5668\u521b\u5efa\u7684\u8fed\u4ee3\u5668\u90fd\u662f\u53ef\u8fed\u4ee3\u5bf9\u8c61 \u4e00\u5f00\u59cb\uff0c\u6211\u4eec\u66fe\u63d0\u5230\u8fc7\u5faa\u73af\u5185\u90e8\u7d22\u5f15\u8ddf\u8e2a\u7684\u76f8\u5173\u95ee\u9898\uff0c\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u9700\u8981\u4e24\u4e2a\u5de5\u5177\uff1a\u4e00\u4e2a\u662f\u8fed\u4ee3\u5668\uff0c\u53e6\u4e00\u4e2a\u662ffor-of\u5faa\u73af\u3002\u5982\u6b64\u4e00\u6765\uff0c\u4fbf\u4e0d\u9700\u8981\u518d\u8ddf\u8e2a\u6574\u4e2a\u96c6\u5408\u7684\u7d22\u5f15\uff0c\u53ea\u9700\u5173\u6ce8\u96c6\u5408\u4e2d\u8981\u5904\u7406\u7684\u5185\u5bb9 for-of\u5faa\u73af\u6bcf\u6267\u884c\u4e00\u6b21\u90fd\u4f1a\u8c03\u7528\u53ef\u8fed\u4ee3\u5bf9\u8c61\u7684next()\u65b9\u6cd5\uff0c\u5e76\u5c06\u8fed\u4ee3\u5668\u8fd4\u56de\u7684\u7ed3\u679c\u5bf9\u8c61\u7684value\u5c5e\u6027\u5b58\u50a8\u5728\u4e00\u4e2a\u53d8\u91cf\u4e2d\uff0c\u5faa\u73af\u5c06\u6301\u7eed\u6267\u884c\u8fd9\u4e00\u8fc7\u7a0b\u76f4\u5230\u8fd4\u56de\u5bf9\u8c61\u7684done\u5c5e\u6027\u7684\u503c\u4e3atrue\u3002\u8fd9\u91cc\u6709\u4e2a\u793a\u4f8b let values = [1, 2, 3]; for (let num of values) { //1 //2 //3 console.log(num); } \u8fd9\u6bb5for-of\u5faa\u73af\u7684\u4ee3\u7801\u901a\u8fc7\u8c03\u7528values\u6570\u7ec4\u7684Symbol.iterator\u65b9\u6cd5\u6765\u83b7\u53d6\u8fed\u4ee3\u5668\uff0c\u8fd9\u4e00\u8fc7\u7a0b\u662f\u5728JS\u5f15\u64ce\u80cc\u540e\u5b8c\u6210\u7684\u3002\u968f\u540e\u8fed\u4ee3\u5668\u7684next()\u65b9\u6cd5\u88ab\u591a\u6b21\u8c03\u7528\uff0c\u4ece\u5176\u8fd4\u56de\u5bf9\u8c61\u7684value\u5c5e\u6027\u8bfb\u53d6\u503c\u5e76\u5b58\u50a8\u5728\u53d8\u91cfnum\u4e2d\uff0c\u4f9d\u6b21\u4e3a1\u30012\u548c3\uff0c\u5f53\u7ed3\u679c\u5bf9\u8c61\u7684done\u5c5e\u6027\u503c\u4e3atrue\u65f6\u5faa\u73af\u9000\u51fa\uff0c\u6240\u4ee5num\u4e0d\u4f1a\u88ab\u8d4b\u503c\u4e3aundefined \u5982\u679c\u53ea\u9700\u8fed\u4ee3\u6570\u7ec4\u6216\u96c6\u5408\u4e2d\u7684\u503c\uff0c\u7528for-of\u5faa\u73af\u4ee3\u66fffor\u5faa\u73af\u662f\u4e2a\u4e0d\u9519\u7684\u9009\u62e9\u3002\u76f8\u6bd4\u4f20\u7edf\u7684for\u5faa\u73af\uff0cfor-of\u5faa\u73af\u7684\u63a7\u5236\u6761\u4ef6\u66f4\u7b80\u5355\uff0c\u4e0d\u9700\u8981\u8ffd\u8e2a\u590d\u6742\u7684\u6761\u4ef6\uff0c\u6240\u4ee5\u66f4\u5c11\u51fa\u9519 [\u6ce8\u610f]\u5982\u679c\u5c06for-of\u8bed\u53e5\u7528\u4e8e\u4e0d\u53ef\u8fed\u4ee3\u5bf9\u8c61\u3001null\u6216undefined\u5c06\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u629b\u51fa\u9519\u8bef \u3010\u8bbf\u95ee\u9ed8\u8ba4\u8fed\u4ee3\u5668\u3011 \u53ef\u4ee5\u901a\u8fc7Symbol.iterator\u6765\u8bbf\u95ee\u5bf9\u8c61\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668 let values = [1, 2, 3]; let iterator = values[Symbol.iterator](); console.log(iterator.next()); // \"{ value: 1, done: false }\" console.log(iterator.next()); // \"{ value: 2, done: false }\" console.log(iterator.next()); // \"{ value: 3, done: false }\" console.log(iterator.next()); // \"{ value: undefined, done: true }\" \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7Symbol.iterator\u83b7\u53d6\u4e86\u6570\u7ec4values\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\uff0c\u5e76\u7528\u5b83\u904d\u5386\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u3002\u5728JS\u5f15\u64ce\u4e2d\u6267\u884cfor-of\u5faa\u73af\u8bed\u53e5\u65f6\u4e5f\u4f1a\u6709\u7c7b\u4f3c\u7684\u5904\u7406\u8fc7\u7a0b \u7531\u4e8e\u5177\u6709Symbol.iterator\u5c5e\u6027\u7684\u5bf9\u8c61\u90fd\u6709\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528\u5b83\u6765\u68c0\u6d4b\u5bf9\u8c61\u662f\u5426\u4e3a\u53ef\u8fed\u4ee3\u5bf9\u8c61 function isIterable(object) { return typeof object[Symbol.iterator] === \"function\"; } console.log(isIterable([1, 2, 3])); // true console.log(isIterable(\"Hello\")); // true console.log(isIterable(new Map())); // true console.log(isIterable(new Set())); // true console.log(isIterable(new WeakMap())); // false console.log(isIterable(new WeakSet())); // false \u8fd9\u91cc\u7684islterable()\u51fd\u6570\u53ef\u4ee5\u68c0\u67e5\u6307\u5b9a\u5bf9\u8c61\u4e2d\u662f\u5426\u5b58\u5728\u9ed8\u8ba4\u7684\u51fd\u6570\u7c7b\u578b\u8fed\u4ee3\u5668\uff0c\u800cfor-of\u5faa\u73af\u5728\u6267\u884c\u524d\u4e5f\u4f1a\u505a\u76f8\u4f3c\u7684\u68c0\u67e5 \u9664\u4e86\u4f7f\u7528\u5185\u5efa\u7684\u53ef\u8fed\u4ee3\u5bf9\u8c61\u7c7b\u578b\u7684Symbol.iterator\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528Symbol.iterator\u6765\u521b\u5efa\u5c5e\u4e8e\u81ea\u5df1\u7684\u8fed\u4ee3\u5668 \u3010\u521b\u5efa\u53ef\u8fed\u4ee3\u5bf9\u8c61\u3011 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5f00\u53d1\u8005\u5b9a\u4e49\u7684\u5bf9\u8c61\u90fd\u662f\u4e0d\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u4f46\u5982\u679c\u7ed9Symbol.iterator\u5c5e\u6027\u6dfb\u52a0\u4e00\u4e2a\u751f\u6210\u5668\uff0c\u5219\u53ef\u4ee5\u5c06\u5176\u53d8\u4e3a\u53ef\u8fed\u4ee3\u5bf9\u8c61 let collection = { items: [], *[Symbol.iterator]() { for (let item of this.items) { yield item; } } }; collection.items.push(1); collection.items.push(2); collection.items.push(3); for (let x of collection) { //1 //2 //3 console.log(x); } \u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u5148\u521b\u5efa\u4e00\u4e2a\u751f\u6210\u5668(\u6ce8\u610f\uff0c\u661f\u53f7\u4ecd\u7136\u5728\u5c5e\u6027\u540d\u524d)\u5e76\u5c06\u5176\u8d4b\u503c\u7ed9\u5bf9\u8c61\u7684Symbol.iterator\u5c5e\u6027\u6765\u521b\u5efa\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668\uff1b\u800c\u5728\u751f\u6210\u5668\u4e2d\uff0c\u901a\u8fc7for-of\u5faa\u73af\u8fed\u4ee3this.items\u5e76\u7528yield\u8fd4\u56de\u6bcf\u4e00\u4e2a\u503c\u3002collection\u5bf9\u8c61\u9ed8\u8ba4\u8fed\u4ee3\u5668\u7684\u8fd4\u56de\u503c\u7531\u8fed\u4ee3\u5668this.items\u81ea\u52a8\u751f\u6210\uff0c\u800c\u975e\u624b\u52a8\u904d\u5386\u6765\u5b9a\u4e49\u8fd4\u56de\u503c \u3010\u5c55\u5f00\u8fd0\u7b97\u7b26\u548c\u975e\u6570\u7ec4\u53ef\u8fed\u4ee3\u5bf9\u8c61\u3011 \u901a\u8fc7\u5c55\u5f00\u8fd0\u7b97\u7b26(...)\u53ef\u4ee5\u628aSet\u96c6\u5408\u8f6c\u6362\u6210\u4e00\u4e2a\u6570\u7ec4 let set = new Set([1, 2, 3, 3, 3, 4, 5]), array = [...set]; console.log(array); // [1,2,3,4,5] \u8fd9\u6bb5\u4ee3\u7801\u4e2d\u7684\u5c55\u5f00\u8fd0\u7b97\u7b26\u628aSet\u96c6\u5408\u7684\u6240\u6709\u503c\u586b\u5145\u5230\u4e86\u4e00\u4e2a\u6570\u7ec4\u5b57\u9762\u91cf\u91cc\uff0c\u5b83\u53ef\u4ee5\u64cd\u4f5c\u6240\u6709\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u5e76\u6839\u636e\u9ed8\u8ba4\u8fed\u4ee3\u5668\u6765\u9009\u53d6\u8981\u5f15\u7528\u7684\u503c\uff0c\u4ece\u8fed\u4ee3\u5668\u8bfb\u53d6\u6240\u6709\u503c\u3002\u7136\u540e\u6309\u7167\u8fd4\u56de\u987a\u5e8f\u5c06\u5b83\u4eec\u4f9d\u6b21\u63d2\u5165\u5230\u6570\u7ec4\u4e2d\u3002Set\u96c6\u5408\u662f\u4e00\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u5c55\u5f00\u8fd0\u7b97\u7b26\u4e5f\u53ef\u4ee5\u7528\u4e8e\u5176\u4ed6\u53ef\u8fed\u4ee3\u5bf9\u8c61 let map = new Map([ [\"name\", \"huochai\"], [\"age\", 25]]), array = [...map]; console.log(array); // [ [\"name\", \"huochai\"], [\"age\", 25]] \u5c55\u5f00\u8fd0\u7b97\u7b26\u628aMap\u96c6\u5408\u8f6c\u6362\u6210\u5305\u542b\u591a\u4e2a\u6570\u7ec4\u7684\u6570\u7ec4\uff0cMap\u96c6\u5408\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\u8fd4\u56de\u7684\u662f\u591a\u7ec4\u952e\u503c\u5bf9\uff0c\u6240\u4ee5\u7ed3\u679c\u6570\u7ec4\u4e0e\u6267\u884cnew Map()\u65f6\u4f20\u5165\u7684\u6570\u7ec4\u770b\u8d77\u6765\u4e00\u6837 \u5728\u6570\u7ec4\u5b57\u9762\u91cf\u4e2d\u53ef\u4ee5\u591a\u6b21\u4f7f\u7528\u5c55\u5f00\u8fd0\u7b97\u7b26\uff0c\u5c06\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4e2d\u7684\u591a\u4e2a\u5143\u7d20\u4f9d\u6b21\u63d2\u5165\u65b0\u6570\u7ec4\u4e2d\uff0c\u66ff\u6362\u539f\u5148\u5c55\u5f00\u8fd0\u7b97\u7b26\u6240\u5728\u7684\u4f4d\u7f6e let smallNumbers = [1, 2, 3], bigNumbers = [100, 101, 102], allNumbers = [0, ...smallNumbers, ...bigNumbers]; console.log(allNumbers.length); // 7 console.log(allNumbers); // [0, 1, 2, 3, 100, 101, 102] \u521b\u5efa\u4e00\u4e2a\u53d8\u91cfallNumbers\uff0c\u7528\u5c55\u5f00\u8fd0\u7b97\u7b26\u5c06smallNumbers\u548cbigNumbers\u91cc\u7684\u503c\u4f9d\u6b21\u6dfb\u52a0\u5230allNumbers\u4e2d\u3002\u9996\u5148\u5b58\u51650\uff0c\u7136\u540e\u5b58\u5165small\u4e2d\u7684\u503c\uff0c\u6700\u540e\u5b58\u5165bigNumbers\u4e2d\u7684\u503c\u3002\u5f53\u7136\uff0c\u539f\u59cb\u6570\u7ec4\u4e2d\u7684\u503c\u53ea\u662f\u88ab\u590d\u5236\u5230allNumbers\u4e2d\uff0c\u5b83\u4eec\u672c\u8eab\u5e76\u672a\u6539\u53d8 \u7531\u4e8e\u5c55\u5f00\u8fd0\u7b97\u7b26\u53ef\u4ee5\u4f5c\u7528\u4e8e\u4efb\u610f\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u56e0\u6b64\u5982\u679c\u60f3\u5c06\u53ef\u8fed\u4ee3\u5bf9\u8c61\u8f6c\u6362\u4e3a\u6570\u7ec4\uff0c\u8fd9\u662f\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u3002\u65e2\u53ef\u4ee5\u5c06\u5b57\u7b26\u4e32\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5b57\u7b26(\u4e0d\u662f\u7f16\u7801\u5355\u5143)\u5b58\u5165\u65b0\u6570\u7ec4\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u5c06\u6d4f\u89c8\u5668\u4e2dNodeList\u5bf9\u8c61\u4e2d\u7684\u6bcf\u4e00\u4e2a\u8282\u70b9\u5b58\u5165\u65b0\u7684\u6570\u7ec4\u4e2d","title":"\u53ef\u8fed\u4ee3\u5bf9\u8c61"},{"location":"javascript/ES6%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%94%9F%E6%88%90%E5%99%A8/#_5","text":"\u8fed\u4ee3\u5668\u662fES6\u7684\u4e00\u4e2a\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u5728ES6\u4e2d\uff0c\u5df2\u7ecf\u9ed8\u8ba4\u4e3a\u8bb8\u591a\u5185\u5efa\u7c7b\u578b\u63d0\u4f9b\u4e86\u5185\u5efa\u8fed\u4ee3\u5668\uff0c\u53ea\u6709\u5f53\u8fd9\u4e9b\u5185\u5efa\u8fed\u4ee3\u5668\u65e0\u6cd5\u5b9e\u73b0\u76ee\u6807\u65f6\u624d\u9700\u8981\u81ea\u5df1\u521b\u5efa\u3002\u901a\u5e38\u6765\u8bf4\u5f53\u5b9a\u4e49\u81ea\u5df1\u7684\u5bf9\u8c61\u548c\u7c7b\u65f6\u624d\u4f1a\u9047\u5230\u8fd9\u79cd\u60c5\u51b5\uff0c\u5426\u5219\uff0c\u5b8c\u5168\u53ef\u4ee5\u4f9d\u9760\u5185\u5efa\u7684\u8fed\u4ee3\u5668\u5b8c\u6210\u5de5\u4f5c\uff0c\u800c\u6700\u5e38\u4f7f\u7528\u7684\u53ef\u80fd\u662f\u96c6\u5408\u7684\u90a3\u4e9b\u8fed\u4ee3\u5668 \u3010\u96c6\u5408\u5bf9\u8c61\u8fed\u4ee3\u5668\u3011 \u5728ES6\u4e2d\u67093\u79cd\u7c7b\u578b\u7684\u96c6\u5408\u5bf9\u8c61\uff1a\u6570\u7ec4\u3001Map\u96c6\u5408\u4e0eSet\u96c6\u5408 \u4e3a\u4e86\u66f4\u597d\u5730\u8bbf\u95ee\u5bf9\u8c61\u4e2d\u7684\u5185\u5bb9\uff0c\u8fd93\u79cd\u5bf9\u8c61\u90fd\u5185\u5efa\u4e86\u4ee5\u4e0b\u4e09\u79cd\u8fed\u4ee3\u5668 entries() \u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u5176\u503c\u4e3a\u591a\u4e2a\u952e\u503c\u5bf9 values() \u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u5176\u503c\u4e3a\u96c6\u5408\u7684\u503c keys() \u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u5176\u503c\u4e3a\u96c6\u5408\u4e2d\u7684\u6240\u6709\u952e\u540d \u8c03\u7528\u4ee5\u4e0a3\u4e2a\u65b9\u6cd5\u90fd\u53ef\u4ee5\u8bbf\u95ee\u96c6\u5408\u7684\u8fed\u4ee3\u5668 entries()\u8fed\u4ee3\u5668 \u6bcf\u6b21\u8c03\u7528next()\u65b9\u6cd5\u65f6\uff0centries()\u8fed\u4ee3\u5668\u90fd\u4f1a\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6570\u7ec4\u4e2d\u7684\u4e24\u4e2a\u5143\u7d20\u5206\u522b\u8868\u793a\u96c6\u5408\u4e2d\u6bcf\u4e2a\u5143\u7d20\u7684\u952e\u4e0e\u503c\u3002\u5982\u679c\u88ab\u904d\u5386\u7684\u5bf9\u8c61\u662f\u6570\u7ec4\uff0c\u5219\u7b2c\u4e00\u4e2a\u5143\u7d20\u662f\u6570\u5b57\u7c7b\u578b\u7684\u7d22\u5f15\uff1b\u5982\u679c\u662fSet\u96c6\u5408\uff0c\u5219\u7b2c\u4e00\u4e2a\u5143\u7d20\u4e0e\u7b2c\u4e8c\u4e2a\u5143\u7d20\u90fd\u662f\u503c(Set\u96c6\u5408\u4e2d\u7684\u503c\u88ab\u540c\u65f6\u4f5c\u4e3a\u952e\u4e0e\u503c\u4f7f\u7528)\uff1b\u5982\u679c\u662fMap\u96c6\u5408\uff0c\u5219\u7b2c\u4e00\u4e2a\u5143\u7d20\u4e3a\u952e\u540d let colors = [ \"red\", \"green\", \"blue\" ]; let tracking = new Set([1234, 5678, 9012]); let data = new Map(); data.set(\"title\", \"Understanding ES6\"); data.set(\"format\", \"ebook\"); for (let entry of colors.entries()) { console.log(entry); } for (let entry of tracking.entries()) { console.log(entry); } for (let entry of data.entries()) { console.log(entry); } \u8c03\u7528console.log()\u65b9\u6cd5\u540e\u8f93\u51fa\u4ee5\u4e0b\u5185\u5bb9 [0, \"red\"] [1, \"green\"] [2, \"blue\"] [1234, 1234] [5678, 5678] [9012, 9012] [\"title\", \"Understanding ES6\"] [\"format\", \"ebook\"] \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u8c03\u7528\u6bcf\u4e2a\u96c6\u5408\u7684entries()\u65b9\u6cd5\u83b7\u53d6\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u5e76\u4f7f\u7528for-of\u5faa\u73af\u6765\u904d\u5386\u5143\u7d20\uff0c\u4e14\u901a\u8fc7console\u5c06\u6bcf\u4e00\u4e2a\u5bf9\u8c61\u7684\u952e\u503c\u5bf9\u8f93\u51fa\u51fa\u6765 values()\u8fed\u4ee3\u5668 \u8c03\u7528values()\u8fed\u4ee3\u5668\u65f6\u4f1a\u8fd4\u56de\u96c6\u5408\u4e2d\u6240\u5b58\u7684\u6240\u6709\u503c let colors = [ \"red\", \"green\", \"blue\" ]; let tracking = new Set([1234, 5678, 9012]); let data = new Map(); data.set(\"title\", \"Understanding ES6\"); data.set(\"format\", \"ebook\"); for (let value of colors.values()) { console.log(value); } for (let value of tracking.values()) { console.log(value); } for (let value of data.values()) { console.log(value); } \u8c03\u7528console.log()\u65b9\u6cd5\u540e\u8f93\u51fa\u4ee5\u4e0b\u5185\u5bb9 \"red\" \"green\" \"blue\" 1234 5678 9012 \"Understanding ES6\" \"ebook\" \u5982\u4e0a\u6240\u793a\uff0c\u8c03\u7528values()\u8fed\u4ee3\u5668\u540e\uff0c\u8fd4\u56de\u7684\u662f\u6bcf\u4e2a\u96c6\u5408\u4e2d\u5305\u542b\u7684\u771f\u6b63\u6570\u636e\uff0c\u800c\u4e0d\u5305\u542b\u6570\u636e\u5728\u96c6\u5408\u4e2d\u7684\u4f4d\u7f6e\u4fe1\u606f keys()\u8fed\u4ee3\u5668 keys()\u8fed\u4ee3\u5668\u4f1a\u8fd4\u56de\u96c6\u5408\u4e2d\u5b58\u5728\u7684\u6bcf\u4e00\u4e2a\u952e\u3002\u5982\u679c\u904d\u5386\u7684\u662f\u6570\u7ec4\uff0c\u5219\u4f1a\u8fd4\u56de\u6570\u5b57\u7c7b\u578b\u7684\u952e\uff0c\u6570\u7ec4\u672c\u8eab\u7684\u5176\u4ed6\u5c5e\u6027\u4e0d\u4f1a\u88ab\u8fd4\u56de\uff1b\u5982\u679c\u662fSet\u96c6\u5408\uff0c\u7531\u4e8e\u952e\u4e0e\u503c\u662f\u76f8\u540c\u7684\uff0c\u56e0\u6b64keys()\u548cvalues()\u8fd4\u56de\u7684\u4e5f\u662f\u76f8\u540c\u7684\u8fed\u4ee3\u5668\uff1b\u5982\u679c\u662fMap\u96c6\u5408\uff0c\u5219keys()\u8fed\u4ee3\u5668\u4f1a\u8fd4\u56de\u6bcf\u4e2a\u72ec\u7acb\u7684\u952e let colors = [ \"red\", \"green\", \"blue\" ]; let tracking = new Set([1234, 5678, 9012]); let data = new Map(); data.set(\"title\", \"Understanding ES6\"); data.set(\"format\", \"ebook\"); for (let key of colors.keys()) { console.log(key); } for (let key of tracking.keys()) { console.log(key); } for (let key of data.keys()) { console.log(key); } \u8c03\u7528console.log()\u65b9\u6cd5\u540e\u8f93\u51fa\u4ee5\u4e0b\u5185\u5bb9 0 1 2 1234 5678 9012 \"title\" \"format\" keys()\u8fed\u4ee3\u5668\u4f1a\u83b7\u53d6colors\u3001tracking\u548cdata\u8fd93\u4e2a\u96c6\u5408\u4e2d\u7684\u6bcf\u4e00\u4e2a\u952e\uff0c\u800c\u4e14\u5206\u522b\u57283\u4e2afor-of\u5faa\u73af\u5185\u90e8\u5c06\u8fd9\u4e9b\u952e\u540d\u6253\u5370\u51fa\u6765\u3002\u5bf9\u4e8e\u6570\u7ec4\u5bf9\u8c61\u6765\u8bf4\uff0c\u65e0\u8bba\u662f\u5426\u4e3a\u6570\u7ec4\u6dfb\u52a0\u547d\u540d\u5c5e\u6027\uff0c\u6253\u5370\u51fa\u6765\u7684\u90fd\u662f\u6570\u5b57\u7c7b\u578b\u7684\u7d22\u5f15\uff1b\u800cfor-in\u5faa\u73af\u8fed\u4ee3\u7684\u662f\u6570\u7ec4\u5c5e\u6027\u800c\u4e0d\u662f\u6570\u5b57\u7c7b\u578b\u7684\u7d22\u5f15 \u4e0d\u540c\u96c6\u5408\u7c7b\u578b\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668 \u6bcf\u4e2a\u96c6\u5408\u7c7b\u578b\u90fd\u6709\u4e00\u4e2a\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668\uff0c\u5728for-of\u5faa\u73af\u4e2d\uff0c\u5982\u679c\u6ca1\u6709\u663e\u5f0f\u6307\u5b9a\u5219\u4f7f\u7528\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668\u3002\u6570\u7ec4\u548cSet\u96c6\u5408\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\u662fvalues()\u65b9\u6cd5\uff0cMap\u96c6\u5408\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\u662fentries()\u65b9\u6cd5\u3002\u6709\u4e86\u8fd9\u4e9b\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668\uff0c\u53ef\u4ee5\u66f4\u8f7b\u677e\u5730\u5728for-of\u5faa\u73af\u4e2d\u4f7f\u7528\u96c6\u5408\u5bf9\u8c61 let colors = [ \"red\", \"green\", \"blue\" ]; let tracking = new Set([1234, 5678, 9012]); let data = new Map(); data.set(\"title\", \"Understanding ES6\"); data.set(\"format\", \"print\"); // \u4e0e\u4f7f\u7528 colors.values() \u76f8\u540c for (let value of colors) { console.log(value); } // \u4e0e\u4f7f\u7528 tracking.values() \u76f8\u540c for (let num of tracking) { console.log(num); } // \u4e0e\u4f7f\u7528 data.entries() \u76f8\u540c for (let entry of data) { console.log(entry); } \u4e0a\u8ff0\u4ee3\u7801\u672a\u6307\u5b9a\u8fed\u4ee3\u5668\uff0c\u6240\u4ee5\u5c06\u4f7f\u7528\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668\u3002\u6570\u7ec4\u3001Set\u96c6\u5408\u53caMap\u96c6\u5408\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\u4e5f\u4f1a\u53cd\u5e94\u51fa\u8fd9\u4e9b\u5bf9\u8c61\u7684\u521d\u59cb\u5316\u8fc7\u7a0b\uff0c\u6240\u4ee5\u8fd9\u6bb5\u4ee3\u7801\u4f1a\u8f93\u51fa\u4ee5\u4e0b\u5185\u5bb9 \"red\" \"green\" \"blue\" 1234 5678 9012 [\"title\", \"Understanding ES6\"] [\"format\", \"print\"] \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u662f\u6570\u7ec4\u548cSet\u96c6\u5408\uff0c\u4f1a\u9010\u4e00\u8fd4\u56de\u96c6\u5408\u4e2d\u6240\u6709\u7684\u503c\u3002\u5982\u679c\u662fMap\u96c6\u5408\uff0c\u5219\u6309\u7167Map\u6784\u9020\u51fd\u6570\u53c2\u6570\u7684\u683c\u5f0f\u8fd4\u56de\u76f8\u540c\u7684\u6570\u7ec4\u5185\u5bb9\u3002\u800cWeakSet\u96c6\u5408\u4e0eWeakMap\u96c6\u5408\u5c31\u6ca1\u6709\u5185\u5efa\u7684\u8fed\u4ee3\u5668\uff0c\u7531\u4e8e\u8981\u7ba1\u7406\u5f31\u5f15\u7528\uff0c\u56e0\u800c\u65e0\u6cd5\u786e\u5207\u5730\u77e5\u9053\u96c6\u5408\u4e2d\u5b58\u5728\u7684\u503c\uff0c\u4e5f\u5c31\u65e0\u6cd5\u8fed\u4ee3\u8fd9\u4e9b\u96c6\u5408\u4e86 \u3010\u5b57\u7b26\u4e32\u8fed\u4ee3\u5668\u3011 \u81eaES5\u53d1\u5e03\u4ee5\u540e\uff0cJS\u5b57\u7b26\u4e32\u6162\u6162\u53d8\u5f97\u66f4\u50cf\u6570\u7ec4\u4e86\uff0c\u4f8b\u5982\uff0cES5\u6b63\u5f0f\u89c4\u5b9a\u53ef\u4ee5\u901a\u8fc7\u65b9\u62ec\u53f7\u8bbf\u95ee\u5b57\u7b26\u4e32\u4e2d\u7684\u5b57\u7b26(\u4e5f\u5c31\u662f\u8bf4\uff0ctext[0]\u53ef\u4ee5\u83b7\u53d6\u5b57\u7b26\u4e32text\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\uff0c\u5e76\u4ee5\u6b64\u7c7b\u63a8)\u3002\u7531\u4e8e\u65b9\u62ec\u53f7\u64cd\u4f5c\u7684\u662f\u7f16\u7801\u5355\u5143\u800c\u975e\u5b57\u7b26\uff0c\u56e0\u6b64\u65e0\u6cd5\u6b63\u786e\u8bbf\u95ee\u53cc\u5b57\u8282\u5b57\u7b26 var message = \"A \ud842\udfb7 B\" ; for (let i=0; i < message.length; i++) { console.log(message[i]); } \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u8bbf\u95eemessage\u7684length\u5c5e\u6027\u83b7\u53d6\u7d22\u5f15\u503c\uff0c\u5e76\u901a\u8fc7\u65b9\u62ec\u53f7\u8bbf\u95ee\u6765\u8fed\u4ee3\u5e76\u6253\u5370\u4e00\u4e2a\u5355\u5b57\u7b26\u5b57\u7b26\u4e32\uff0c\u4f46\u662f\u8f93\u51fa\u7684\u7ed3\u679c\u5374\u4e0e\u9884\u671f\u4e0d\u7b26 A B \u7531\u4e8e\u53cc\u5b57\u8282\u5b57\u7b26\u88ab\u89c6\u4f5c\u4e24\u4e2a\u72ec\u7acb\u7684\u7f16\u7801\u5355\u5143\uff0c\u4ece\u800c\u6700\u7ec8\u5728A\u4e0eB\u4e4b\u95f4\u6253\u5370\u51fa4\u4e2a\u7a7a\u884c \u6240\u5e78\uff0cES6\u7684\u76ee\u6807\u662f\u5168\u9762\u652f\u6301Unicode\uff0c\u5e76\u4e14\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6539\u53d8\u5b57\u7b26\u4e32\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f7f\u5176\u64cd\u4f5c\u5b57\u7b26\u800c\u4e0d\u662f\u7f16\u7801\u5355\u5143\u3002\u73b0\u5728\uff0c\u4fee\u6539\u524d\u4e00\u4e2a\u793a\u4f8b\u4e2d\u5b57\u7b26\u4e32\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\uff0c\u8ba9for-of\u5faa\u73af\u8f93\u51fa\u6b63\u786e\u7684\u5185\u5bb9 var message = \"A \ud842\udfb7 B\" ; for (let c of message) { console.log(c); } \u8fd9\u6bb5\u4ee3\u7801\u8f93\u51fa\u4ee5\u4e0b\u5185\u5bb9 A \ud842\udfb7 B \u8fd9\u4e2a\u7ed3\u679c\u66f4\u7b26\u5408\u9884\u671f\uff0c\u901a\u8fc7\u5faa\u73af\u8bed\u53e5\u53ef\u4ee5\u76f4\u63a5\u64cd\u4f5c\u5b57\u7b26\u5e76\u6210\u529f\u6253\u5370\u51faUnicode\u5b57\u7b26 \u3010NodeList\u8fed\u4ee3\u5668\u3011 DOM\u6807\u51c6\u4e2d\u6709\u4e00\u4e2aNodeList\u7c7b\u578b\uff0cdocument\u5bf9\u8c61\u4e2d\u7684\u6240\u6709\u5143\u7d20\u90fd\u7528\u8fd9\u4e2a\u7c7b\u578b\u6765\u8868\u793a\u3002\u5bf9\u4e8e\u7f16\u5199Web\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u7684JS\u5f00\u53d1\u8005\u6765\u8bf4\uff0c\u9700\u8981\u82b1\u70b9\u513f\u529f\u592b\u53bb\u7406\u89e3NodeList\u5bf9\u8c61\u548c\u6570\u7ec4\u4e4b\u95f4\u7684\u5dee\u5f02\u3002\u4e8c\u8005\u90fd\u4f7f\u7528length\u5c5e\u6027\u6765\u8868\u793a\u96c6\u5408\u4e2d\u5143\u7d20\u7684\u6570\u91cf\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7\u65b9\u62ec\u53f7\u6765\u8bbf\u95ee\u96c6\u5408\u4e2d\u7684\u72ec\u7acb\u5143\u7d20\u3002\u800c\u5728\u5185\u90e8\u5b9e\u73b0\u4e2d\uff0c\u4e8c\u8005\u7684\u8868\u73b0\u975e\u5e38\u4e0d\u4e00\u81f4\uff0c\u56e0\u800c\u4f1a\u9020\u6210\u5f88\u591a\u56f0\u6270 \u81ea\u4eceES6\u6dfb\u52a0\u4e86\u9ed8\u8ba4\u8fed\u4ee3\u5668\u540e\uff0cDOM\u5b9a\u4e49\u4e2d\u7684NodeList\u7c7b\u578b(\u5b9a\u4e49\u5728HTML\u6807\u51c6\u800c\u4e0d\u662fES6\u6807\u51c6\u4e2d)\u4e5f\u62e5\u6709\u4e86\u9ed8\u8ba4\u8fed\u4ee3\u5668\uff0c\u5176\u884c\u4e3a\u4e0e\u6570\u7ec4\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\u5b8c\u5168\u4e00\u81f4\u3002\u6240\u4ee5\u53ef\u4ee5\u5c06NodeList\u5e94\u7528\u4e8efor-of\u5faa\u73af\u53ca\u5176\u4ed6\u652f\u6301\u5bf9\u8c61\u9ed8\u8ba4\u8fed\u4ee3\u5668\u7684\u5730\u65b9 var divs = document.getElementsByTagName(\"div\"); for (let div of divs) { console.log(div.id); } \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7\u8c03\u7528getElementsByTagName()\u65b9\u6cd5\u83b7\u53d6\u5230document\u5bf9\u8c61\u4e2d\u6240\u6709div\u5143\u7d20\u7684\u5217\u8868\uff0c\u5728for-of\u5faa\u73af\u4e2d\u904d\u5386\u5217\u8868\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u5e76\u8f93\u51fa\u5143\u7d20ID\uff0c\u5b9e\u9645\u4e0a\u662f\u6309\u7167\u5904\u7406\u6570\u7ec4\u7684\u65b9\u5f0f\u6765\u5904\u7406NodeList\u7684","title":"\u5185\u5efa\u8fed\u4ee3\u5668"},{"location":"javascript/ES6%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%94%9F%E6%88%90%E5%99%A8/#_6","text":"\u8fed\u4ee3\u5668\u7684\u57fa\u7840\u529f\u80fd\u53ef\u4ee5\u8f85\u52a9\u5b8c\u6210\u5f88\u591a\u4efb\u52a1\uff0c\u901a\u8fc7\u751f\u6210\u5668\u521b\u5efa\u8fed\u4ee3\u5668\u7684\u8fc7\u7a0b\u4e5f\u5f88\u4fbf\u6377\uff0c\u9664\u4e86\u8fd9\u4e9b\u7b80\u5355\u7684\u96c6\u5408\u904d\u5386\u4efb\u52a1\u4e4b\u5916\uff0c\u8fed\u4ee3\u5668\u4e5f\u53ef\u4ee5\u88ab\u7528\u4e8e\u5b8c\u6210\u4e00\u4e9b\u590d\u6742\u7684\u4efb\u52a1 \u3010\u7ed9\u8fed\u4ee3\u5668\u4f20\u9012\u53c2\u6570\u3011 \u8fed\u4ee3\u5668\u65e2\u53ef\u4ee5\u7528\u8fed\u4ee3\u5668\u7684next()\u65b9\u6cd5\u8fd4\u56de\u503c\uff0c\u4e5f\u53ef\u4ee5\u5728\u751f\u6210\u5668\u5185\u90e8\u4f7f\u7528yield\u5173\u952e\u5b57\u6765\u751f\u6210\u503c\u3002\u5982\u679c\u7ed9\u8fed\u4ee3\u5668\u7684next()\u65b9\u6cd5\u4f20\u9012\u53c2\u6570\uff0c\u5219\u8fd9\u4e2a\u53c2\u6570\u7684\u503c\u5c31\u4f1a\u66ff\u4ee3\u751f\u6210\u5668\u5185\u90e8\u4e0a\u6761yield\u8bed\u53e5\u7684\u8fd4\u56de\u503c\u3002\u800c\u5982\u679c\u8981\u5b9e\u73b0\u66f4\u591a\u50cf\u5f02\u6b65\u7f16\u7a0b\u8fd9\u6837\u7684\u9ad8\u7ea7\u529f\u80fd\uff0c\u90a3\u4e48\u8fd9\u79cd\u7ed9\u8fed\u4ee3\u5668\u4f20\u503c\u7684\u80fd\u529b\u5c31\u53d8\u5f97\u81f3\u5173\u91cd\u8981 function *createIterator() { let first = yield 1; let second = yield first + 2; // 4 + 2 yield second + 3; // 5 + 3 } let iterator = createIterator(); console.log(iterator.next()); // \"{ value: 1, done: false }\" console.log(iterator.next(4)); // \"{ value: 6, done: false }\" console.log(iterator.next(5)); // \"{ value: 8, done: false }\" console.log(iterator.next()); // \"{ value: undefined, done: true }\" \u7b2c\u4e00\u6b21\u8c03\u7528next()\u65b9\u6cd5\u65f6\u65e0\u8bba\u4f20\u5165\u4ec0\u4e48\u53c2\u6570\u90fd\u4f1a\u88ab\u4e22\u5f03\u3002\u7531\u4e8e\u4f20\u7ed9next()\u65b9\u6cd5\u7684\u53c2\u6570\u4f1a\u66ff\u4ee3\u4e0a\u4e00\u6b21yield\u7684\u8fd4\u56de\u503c\uff0c\u800c\u5728\u7b2c\u4e00\u6b21\u8c03\u7528next()\u65b9\u6cd5\u524d\u4e0d\u4f1a\u6267\u884c\u4efb\u4f55yield\u8bed\u53e5\uff0c\u56e0\u6b64\u5728\u7b2c\u4e00\u6b21\u8c03\u7528next()\u65b9\u6cd5\u65f6\u4f20\u9012\u53c2\u6570\u662f\u6beb\u65e0\u610f\u4e49\u7684 \u7b2c\u4e8c\u6b21\u8c03\u7528next()\u65b9\u6cd5\u4f20\u5165\u6570\u503c4\u4f5c\u4e3a\u53c2\u6570\uff0c\u5b83\u6700\u540e\u88ab\u8d4b\u503c\u7ed9\u751f\u6210\u5668\u51fd\u6570\u5185\u90e8\u7684\u53d8\u91cffirst\u3002\u5728\u4e00\u4e2a\u542b\u53c2yield\u8bed\u53e5\u4e2d\uff0c\u8868\u8fbe\u5f0f\u53f3\u4fa7\u7b49\u4ef7\u4e8e\u7b2c\u4e00\u6b21\u8c03\u7528next()\u65b9\u6cd5\u540e\u7684\u4e0b\u4e00\u4e2a\u8fd4\u56de\u503c\uff0c\u8868\u8fbe\u5f0f\u5de6\u4fa7\u7b49\u4ef7\u4e8e\u7b2c\u4e8c\u6b21\u8c03\u7528next()\u65b9\u6cd5\u540e\uff0c\u5728\u51fd\u6570\u7ee7\u7eed\u6267\u884c\u524d\u5f97\u5230\u7684\u8fd4\u56de\u503c\u3002\u7b2c\u4e8c\u6b21\u8c03\u7528next()\u65b9\u6cd5\u4f20\u5165\u7684\u503c\u4e3a4\uff0c\u5b83\u4f1a\u88ab\u8d4b\u503c\u7ed9\u53d8\u91cffirst\uff0c\u51fd\u6570\u5219\u7ee7\u7eed\u6267\u884c\u3002\u7b2c\u4e8c\u6761yield\u8bed\u53e5\u5728\u7b2c\u4e00\u6b21yield\u7684\u7ed3\u679c\u4e0a\u52a0\u4e862\uff0c\u6700\u7ec8\u7684\u8fd4\u56de\u503c\u4e3a6 \u7b2c\u4e09\u6b21\u8c03\u7528next()\u65b9\u6cd5\u65f6\uff0c\u4f20\u5165\u6570\u503c5\uff0c\u8fd9\u4e2a\u503c\u88ab\u8d4b\u503c\u7ed9second\uff0c\u6700\u540e\u7528\u4e8e\u7b2c\u4e09\u6761yield\u8bed\u53e5\u5e76\u6700\u7ec8\u8fd4\u56de\u6570\u503c8 \u3010\u5728\u8fed\u4ee3\u5668\u4e2d\u629b\u51fa\u9519\u8bef\u3011\u3000\u3000 \u9664\u4e86\u7ed9\u8fed\u4ee3\u5668\u4f20\u9012\u6570\u636e\u5916\uff0c\u8fd8\u53ef\u4ee5\u7ed9\u5b83\u4f20\u9012\u9519\u8bef\u6761\u4ef6\u3002\u901a\u8fc7throw()\u65b9\u6cd5\uff0c\u5f53\u8fed\u4ee3\u5668\u6062\u590d\u6267\u884c\u65f6\u53ef\u4ee4\u5176\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002\u8fd9\u79cd\u4e3b\u52a8\u629b\u51fa\u9519\u8bef\u7684\u80fd\u529b\u5bf9\u4e8e\u5f02\u6b65\u7f16\u7a0b\u800c\u8a00\u81f3\u5173\u91cd\u8981\uff0c\u4e5f\u80fd\u63d0\u4f9b\u6a21\u62df\u7ed3\u675f\u51fd\u6570\u6267\u884c\u7684\u4e24\u79cd\u65b9\u6cd5(\u8fd4\u56de\u503c\u6216\u629b\u51fa\u9519\u8bef)\uff0c\u4ece\u800c\u589e\u5f3a\u751f\u6210\u5668\u5185\u90e8\u7684\u7f16\u7a0b\u5f39\u6027\u3002\u5c06\u9519\u8bef\u5bf9\u8c61\u4f20\u7ed9throw()\u65b9\u6cd5\u540e\uff0c\u5728\u8fed\u4ee3\u5668\u7ee7\u7eed\u6267\u884c\u65f6\u5176\u4f1a\u88ab\u629b\u51fa function *createIterator() { let first = yield 1; let second = yield first + 2; // yield 4 + 2 \uff0c\u7136\u540e\u629b\u51fa\u9519\u8bef yield second + 3; // \u6c38\u4e0d\u4f1a\u88ab\u6267\u884c } let iterator = createIterator(); console.log(iterator.next()); // \"{ value: 1, done: false }\" console.log(iterator.next(4)); // \"{ value: 6, done: false }\" console.log(iterator.throw(new Error(\"Boom\"))); // \u4ece\u751f\u6210\u5668\u4e2d\u629b\u51fa\u4e86\u9519\u8bef \u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u524d\u4e24\u4e2a\u8868\u8fbe\u5f0f\u6b63\u5e38\u6c42\u503c\uff0c\u800c\u8c03\u7528throw()\u65b9\u6cd5\u540e\uff0c\u5728\u7ee7\u7eed\u6267\u884clet second\u6c42\u503c\u524d\uff0c\u9519\u8bef\u5c31\u4f1a\u88ab\u629b\u51fa\u5e76\u963b\u6b62\u4e86\u4ee3\u7801\u7ee7\u7eed\u6267\u884c\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e0e\u76f4\u63a5\u629b\u51fa\u9519\u8bef\u5f88\u76f8\u4f3c\uff0c\u4e8c\u8005\u552f\u4e00\u7684\u533a\u522b\u662f\u629b\u51fa\u7684\u65f6\u673a\u4e0d\u540c \u53ef\u4ee5\u5728\u751f\u6210\u5668\u5185\u90e8\u901a\u8fc7try-catch\u4ee3\u7801\u5757\u6765\u6355\u83b7\u8fd9\u4e9b\u9519\u8bef function *createIterator() { let first = yield 1; let second; try { second = yield first + 2; // yield 4 + 2 \uff0c\u7136\u540e\u629b\u51fa\u9519\u8bef } catch (ex) { second = 6; // \u5f53\u51fa\u9519\u65f6\uff0c\u7ed9\u53d8\u91cf\u53e6\u5916\u8d4b\u503c } yield second + 3; } let iterator = createIterator(); console.log(iterator.next()); // \"{ value: 1, done: false }\" console.log(iterator.next(4)); // \"{ value: 6, done: false }\" console.log(iterator.throw(new Error(\"Boom\"))); // \"{ value: 9, done: false }\" console.log(iterator.next()); // \"{ value: undefined, done: true }\" \u5728\u6b64\u793a\u4f8b\u4e2d\uff0ctry-catch\u4ee3\u7801\u5757\u5305\u88f9\u7740\u7b2c\u4e8c\u6761yield\u8bed\u53e5\u3002\u5c3d\u7ba1\u8fd9\u6761\u8bed\u53e5\u672c\u8eab\u6ca1\u6709\u9519\u8bef\uff0c\u4f46\u5728\u7ed9\u53d8\u91cfsecond\u8d4b\u503c\u524d\u8fd8\u662f\u4f1a\u4e3b\u52a8\u629b\u51fa\u9519\u8bef\uff0ccatch\u4ee3\u7801\u5757\u6355\u83b7\u9519\u8bef\u540e\u5c06second\u53d8\u91cf\u8d4b\u503c\u4e3a6\uff0c\u4e0b\u4e00\u6761yield\u8bed\u53e5\u7ee7\u7eed\u6267\u884c\u540e\u8fd4\u56de9 \u8fd9\u91cc\u6709\u4e00\u4e2a\u6709\u8da3\u7684\u73b0\u8c61\u8c03\u7528throw()\u65b9\u6cd5\u540e\u4e5f\u4f1a\u50cf\u8c03\u7528next()\u65b9\u6cd5\u4e00\u6837\u8fd4\u56de\u4e00\u4e2a\u7ed3\u679c\u5bf9\u8c61\u3002\u7531\u4e8e\u5728\u751f\u6210\u5668\u5185\u90e8\u6355\u83b7\u4e86\u8fd9\u4e2a\u9519\u8bef\uff0c\u56e0\u800c\u4f1a\u7ee7\u7eed\u6267\u884c\u4e0b\u4e00\u6761yield\u8bed\u53e5\uff0c\u6700\u7ec8\u8fd4\u56de\u6570\u503c9 \u5982\u6b64\u4e00\u6765\uff0cnext()\u548cthrow()\u5c31\u50cf\u662f\u8fed\u4ee3\u5668\u7684\u4e24\u6761\u6307\u4ee4\uff0c\u8c03\u7528next()\u65b9\u6cd5\u547d\u4ee4\u8fed\u4ee3\u5668\u7ee7\u7eed\u6267\u884c(\u53ef\u80fd\u63d0\u4f9b\u4e00\u4e2a\u503c)\uff0c\u8c03\u7528throw()\u65b9\u6cd5\u4e5f\u4f1a\u547d\u4ee4\u8fed\u4ee3\u5668\u7ee7\u7eed\u6267\u884c\uff0c\u4f46\u540c\u65f6\u4e5f\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\uff0c\u5728\u6b64\u4e4b\u540e\u7684\u6267\u884c\u8fc7\u7a0b\u53d6\u51b3\u4e8e\u751f\u6210\u5668\u5185\u90e8\u7684\u4ee3\u7801 \u5728\u8fed\u4ee3\u5668\u5185\u90e8\uff0c\u5982\u679c\u4f7f\u7528\u4e86yield\u8bed\u53e5\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7next()\u65b9\u6cd5\u548cthrow()\u65b9\u6cd5\u63a7\u5236\u6267\u884c\u8fc7\u7a0b\uff0c\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528return\u8bed\u53e5\u8fd4\u56de\u4e00\u4e9b\u4e0e\u666e\u901a\u51fd\u6570\u8fd4\u56de\u8bed\u53e5\u4e0d\u592a\u4e00\u6837\u7684\u5185\u5bb9 \u3010\u751f\u6210\u5668\u8fd4\u56de\u8bed\u53e5\u3011 \u7531\u4e8e\u751f\u6210\u5668\u4e5f\u662f\u51fd\u6570\uff0c\u56e0\u6b64\u53ef\u4ee5\u901a\u8fc7return\u8bed\u53e5\u63d0\u524d\u9000\u51fa\u51fd\u6570\u6267\u884c\uff0c\u5bf9\u4e8e\u6700\u540e\u4e00\u6b21next()\u65b9\u6cd5\u8c03\u7528\uff0c\u53ef\u4ee5\u4e3b\u52a8\u4e3a\u5176\u6307\u5b9a\u4e00\u4e2a\u8fd4\u56de\u503c\u3002\u6b63\u5982\u5728\u5176\u4ed6\u51fd\u6570\u4e2d\u90a3\u6837\uff0c\u53ef\u4ee5\u901a\u8fc7return\u8bed\u53e5\u6307\u5b9a\u4e00\u4e2a\u8fd4\u56de\u503c\u3002\u800c\u5728\u751f\u6210\u5668\u4e2d\uff0creturn\u8868\u793a\u6240\u6709\u64cd\u4f5c\u5df2\u7ecf\u5b8c\u6210\uff0c\u5c5e\u6027done\u88ab\u8bbe\u7f6e\u4e3atrue\uff1b\u5982\u679c\u540c\u65f6\u63d0\u4f9b\u4e86\u76f8\u5e94\u7684\u503c\uff0c\u5219\u5c5e\u6027value\u4f1a\u88ab\u8bbe\u7f6e\u4e3a\u8fd9\u4e2a\u503c function *createIterator() { yield 1; return; yield 2; yield 3; } let iterator = createIterator(); console.log(iterator.next()); // \"{ value: 1, done: false }\" console.log(iterator.next()); // \"{ value: undefined, done: true }\" \u8fd9\u6bb5\u4ee3\u7801\u4e2d\u7684\u751f\u6210\u5668\u5305\u542b\u591a\u6761yield\u8bed\u53e5\u548c\u4e00\u6761return\u8bed\u53e5\uff0c\u5176\u4e2dreturn\u8bed\u53e5\u7d27\u968f\u7b2c\u4e00\u6761yield\u8bed\u53e5\uff0c\u5176\u540e\u7684yield\u8bed\u53e5\u5c06\u4e0d\u4f1a\u88ab\u6267\u884c \u5728return\u8bed\u53e5\u4e2d\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u8fd4\u56de\u503c\uff0c\u8be5\u503c\u5c06\u88ab\u8d4b\u503c\u7ed9\u8fd4\u56de\u5bf9\u8c61\u7684value\u5c5e\u6027 function *createIterator() { yield 1; return 42; } let iterator = createIterator(); console.log(iterator.next()); // \"{ value: 1, done: false }\" console.log(iterator.next()); // \"{ value: 42, done: true }\" console.log(iterator.next()); // \"{ value: undefined, done: true }\" \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u7b2c\u4e8c\u6b21\u8c03\u7528next()\u65b9\u6cd5\u65f6\u8fd4\u56de\u5bf9\u8c61\u7684value\u5c5e\u6027\u503c\u4e3a42\uff0cdone\u5c5e\u6027\u9996\u6b21\u8bbe\u4e3atrue\uff1b\u7b2c\u4e09\u6b21\u8c03\u7528next()\u65b9\u6cd5\u4f9d\u7136\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u53ea\u662fvalue\u5c5e\u6027\u7684\u503c\u4f1a\u53d8\u4e3aundefined\u3002\u56e0\u6b64\uff0c\u901a\u8fc7return\u8bed\u53e5\u6307\u5b9a\u7684\u8fd4\u56de\u503c\uff0c\u53ea\u4f1a\u5728\u8fd4\u56de\u5bf9\u8c61\u4e2d\u51fa\u73b0\u4e00\u6b21\uff0c\u5728\u540e\u7eed\u8c03\u7528\u8fd4\u56de\u7684\u5bf9\u8c61\u4e2d\uff0cvalue\u5c5e\u6027\u4f1a\u88ab\u91cd\u7f6e\u4e3aundefined [\u6ce8\u610f]\u5c55\u5f00\u8fd0\u7b97\u7b26\u4e0efor-of\u5faa\u73af\u8bed\u53e5\u4f1a\u76f4\u63a5\u5ffd\u7565\u901a\u8fc7return\u8bed\u53e5\u6307\u5b9a\u7684\u4efb\u4f55\u8fd4\u56de\u503c\uff0c\u53ea\u8981done\u4e00\u53d8\u4e3atrue\u5c31\u7acb\u5373\u505c\u6b62\u8bfb\u53d6\u5176\u4ed6\u7684\u503c\u3002\u4e0d\u7ba1\u600e\u6837\uff0c\u8fed\u4ee3\u5668\u7684\u8fd4\u56de\u503c\u4f9d\u7136\u662f\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u7684\u7279\u6027 \u3010\u59d4\u6258\u751f\u6210\u5668\u3011 \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u5c06\u4e24\u4e2a\u8fed\u4ee3\u5668\u5408\u4e8c\u4e3a\u4e00\uff0c\u8fd9\u65f6\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u751f\u6210\u5668\uff0c\u518d\u7ed9yield\u8bed\u53e5\u6dfb\u52a0\u4e00\u4e2a\u661f\u53f7\uff0c\u5c31\u53ef\u4ee5\u5c06\u751f\u6210\u6570\u636e\u7684\u8fc7\u7a0b\u59d4\u6258\u7ed9\u5176\u4ed6\u751f\u6210\u5668\u3002\u5f53\u5b9a\u4e49\u8fd9\u4e9b\u751f\u6210\u5668\u65f6\uff0c\u53ea\u9700\u5c06\u661f\u53f7\u653e\u7f6e\u5728\u5173\u952e\u5b57yield\u548c\u751f\u6210\u5668\u7684\u51fd\u6570\u540d\u4e4b\u95f4\u5373\u53ef function *createNumberIterator() { yield 1; yield 2; } function *createColorIterator() { yield \"red\"; yield \"green\"; } function *createCombinedIterator() { yield *createNumberIterator(); yield *createColorIterator(); yield true; } var iterator = createCombinedIterator(); console.log(iterator.next()); // \"{ value: 1, done: false }\" console.log(iterator.next()); // \"{ value: 2, done: false }\" console.log(iterator.next()); // \"{ value: \"red\", done: false }\" console.log(iterator.next()); // \"{ value: \"green\", done: false }\" console.log(iterator.next()); // \"{ value: true, done: false }\" console.log(iterator.next()); // \"{ value: undefined, done: true }\" \u8fd9\u91cc\u7684\u751f\u6210\u5668createCombinedIterator()\u5148\u540e\u59d4\u6258\u4e86\u53e6\u5916\u4e24\u4e2a\u751f\u6210\u5668createNumberlterator()\u548ccreateColorlterator()\u3002\u4ec5\u6839\u636e\u8fed\u4ee3\u5668\u7684\u8fd4\u56de\u503c\u6765\u770b\uff0c\u5b83\u5c31\u50cf\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u8fed\u4ee3\u5668\uff0c\u53ef\u4ee5\u751f\u6210\u6240\u6709\u7684\u503c\u3002\u6bcf\u4e00\u6b21\u8c03\u7528next()\u65b9\u6cd5\u5c31\u4f1a\u59d4\u6258\u76f8\u5e94\u7684\u8fed\u4ee3\u5668\u751f\u6210\u76f8\u5e94\u7684\u503c\uff0c\u76f4\u5230\u6700\u540e\u7531createNumberlterator()\u548ccpeateColorlterator()\u521b\u5efa\u7684\u8fed\u4ee3\u5668\u65e0\u6cd5\u8fd4\u56de\u66f4\u591a\u7684\u503c\uff0c\u6b64\u65f6\u6267\u884c\u6700\u540e\u4e00\u6761yield\u8bed\u53e5\u5e76\u8fd4\u56detrue \u6709\u4e86\u751f\u6210\u5668\u59d4\u6258\u8fd9\u4e2a\u65b0\u529f\u80fd\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u5229\u7528\u751f\u6210\u5668\u7684\u8fd4\u56de\u503c\u6765\u5904\u7406\u590d\u6742\u4efb\u52a1 function *createNumberIterator() { yield 1; yield 2; return 3; } function *createRepeatingIterator(count) { for (let i=0; i < count; i++) { yield \"repeat\"; } } function *createCombinedIterator() { let result = yield *createNumberIterator(); yield *createRepeatingIterator(result); } var iterator = createCombinedIterator(); console.log(iterator.next()); // \"{ value: 1, done: false }\" console.log(iterator.next()); // \"{ value: 2, done: false }\" console.log(iterator.next()); // \"{ value: \"repeat\", done: false }\" console.log(iterator.next()); // \"{ value: \"repeat\", done: false }\" console.log(iterator.next()); // \"{ value: \"repeat\", done: false }\" console.log(iterator.next()); // \"{ value: undefined, done: true }\" \u5728\u751f\u6210\u5668createCombinedlterator()\u4e2d\uff0c\u6267\u884c\u8fc7\u7a0b\u5148\u88ab\u59d4\u6258\u7ed9\u4e86\u751f\u6210\u5668createNumberlterator()\uff0c\u8fd4\u56de\u503c\u4f1a\u88ab\u8d4b\u503c\u7ed9\u53d8\u91cfresult\uff0c\u6267\u884c\u5230return 3\u65f6\u4f1a\u8fd4\u56de\u6570\u503c3\u3002\u8fd9\u4e2a\u503c\u968f\u540e\u88ab\u4f20\u5165createRepeatinglterator()\u4f5c\u4e3a\u5b83\u7684\u53c2\u6570\uff0c\u56e0\u800c\u751f\u6210\u5b57\u7b26\u4e32\"repeat\"\u7684yield\u8bed\u53e5\u4f1a\u88ab\u6267\u884c\u4e09\u6b21 \u65e0\u8bba\u901a\u8fc7\u4f55\u79cd\u65b9\u5f0f\u8c03\u7528\u8fed\u4ee3\u5668next()\u65b9\u6cd5\uff0c\u6570\u503c3\u90fd\u4e0d\u4f1a\u88ab\u8fd4\u56de\uff0c\u5b83\u53ea\u5b58\u5728\u4e8e\u751f\u6210\u5668createCombinedlterator()\u7684\u5185\u90e8\u3002\u4f46\u5982\u679c\u60f3\u8f93\u51fa\u8fd9\u4e2a\u503c\uff0c\u5219\u53ef\u4ee5\u989d\u5916\u6dfb\u52a0\u4e00\u6761yield\u8bed\u53e5 function *createNumberIterator() { yield 1; yield 2; return 3; } function *createRepeatingIterator(count) { for (let i=0; i < count; i++) { yield \"repeat\"; } } function *createCombinedIterator() { let result = yield *createNumberIterator(); yield result; yield *createRepeatingIterator(result); } var iterator = createCombinedIterator(); console.log(iterator.next()); // \"{ value: 1, done: false }\" console.log(iterator.next()); // \"{ value: 2, done: false }\" console.log(iterator.next()); // \"{ value: 3, done: false }\" console.log(iterator.next()); // \"{ value: \"repeat\", done: false }\" console.log(iterator.next()); // \"{ value: \"repeat\", done: false }\" console.log(iterator.next()); // \"{ value: \"repeat\", done: false }\" console.log(iterator.next()); // \"{ value: undefined, done: true }\" \u6b64\u5904\u65b0\u6dfb\u52a0\u7684yield\u8bed\u53e5\u663e\u5f0f\u5730\u8f93\u51fa\u4e86\u751f\u6210\u5668createNumberlterator()\u7684\u8fd4\u56de\u503c\u3002 [\u6ce8\u610f]yield*\u4e5f\u53ef\u76f4\u63a5\u5e94\u7528\u4e8e\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982yield* \"hello\"\uff0c\u6b64\u65f6\u5c06\u4f7f\u7528\u5b57\u7b26\u4e32\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668","title":"\u9ad8\u7ea7\u8fed\u4ee3\u5668"},{"location":"javascript/ES6%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%94%9F%E6%88%90%E5%99%A8/#_7","text":"\u751f\u6210\u5668\u4ee4\u4eba\u5174\u594b\u7684\u7279\u6027\u591a\u4e0e\u5f02\u6b65\u7f16\u7a0b\u6709\u5173\uff0cJS\u4e2d\u7684\u5f02\u6b65\u7f16\u7a0b\u6709\u5229\u6709\u5f0a\uff1a\u7b80\u5355\u4efb\u52a1\u7684\u5f02\u6b65\u5316\u975e\u5e38\u5bb9\u6613\uff1b\u800c\u590d\u6742\u4efb\u52a1\u7684\u5f02\u6b65\u5316\u4f1a\u5e26\u6765\u5f88\u591a\u7ba1\u7406\u4ee3\u7801\u7684\u6311\u6218\u3002\u7531\u4e8e\u751f\u6210\u5668\u652f\u6301\u5728\u51fd\u6570\u4e2d\u6682\u505c\u4ee3\u7801\u6267\u884c\uff0c\u56e0\u800c\u53ef\u4ee5\u6df1\u5165\u6316\u6398\u5f02\u6b65\u5904\u7406\u7684\u66f4\u591a\u7528\u6cd5 \u6267\u884c\u5f02\u6b65\u64cd\u4f5c\u7684\u4f20\u7edf\u65b9\u5f0f\u4e00\u822c\u662f\u8c03\u7528\u4e00\u4e2a\u51fd\u6570\u5e76\u6267\u884c\u76f8\u5e94\u56de\u8c03\u51fd\u6570 let fs = require(\"fs\"); fs.readFile(\"config.json\", function(err, contents) { if (err) { throw err; } doSomethingWith(contents); console.log(\"Done\"); }); \u8c03\u7528fs.readFile()\u65b9\u6cd5\u65f6\u8981\u6c42\u4f20\u5165\u8981\u8bfb\u53d6\u7684\u6587\u4ef6\u540d\u548c\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u64cd\u4f5c\u7ed3\u675f\u540e\u4f1a\u8c03\u7528\u8be5\u56de\u8c03\u51fd\u6570\u5e76\u68c0\u67e5\u662f\u5426\u5b58\u5728\u9519\u8bef\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u53ef\u4ee5\u5904\u7406\u8fd4\u56de\u7684\u5185\u5bb9\u3002\u5982\u679c\u8981\u6267\u884c\u7684\u4efb\u52a1\u5f88\u5c11\uff0c\u90a3\u4e48\u8fd9\u6837\u7684\u65b9\u5f0f\u53ef\u4ee5\u5f88\u597d\u5730\u5b8c\u6210\u4efb\u52a1\uff1b\u5982\u82e5\u9700\u8981\u5d4c\u5957\u56de\u8c03\u6216\u5e8f\u5217\u5316\u4e00\u7cfb\u5217\u7684\u5f02\u6b65\u64cd\u4f5c\uff0c\u4e8b\u60c5\u4f1a\u53d8\u5f97\u975e\u5e38\u590d\u6742\u3002\u6b64\u65f6\uff0c\u751f\u6210\u5668\u548cyield\u8bed\u53e5\u5c31\u6d3e\u4e0a\u7528\u573a\u4e86 \u3010\u7b80\u5355\u4efb\u52a1\u6267\u884c\u5668\u3011 \u7531\u4e8e\u6267\u884cyield\u8bed\u53e5\u4f1a\u6682\u505c\u5f53\u524d\u51fd\u6570\u7684\u6267\u884c\u8fc7\u7a0b\u5e76\u7b49\u5f85\u4e0b\u4e00\u6b21\u8c03\u7528next()\u65b9\u6cd5\uff0c\u56e0\u6b64\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u51fd\u6570\uff0c\u5728\u51fd\u6570\u4e2d\u8c03\u7528\u751f\u6210\u5668\u751f\u6210\u76f8\u5e94\u7684\u8fed\u4ee3\u5668\uff0c\u4ece\u800c\u5728\u4e0d\u7528\u56de\u8c03\u51fd\u6570\u7684\u57fa\u7840\u4e0a\u5b9e\u73b0\u5f02\u6b65\u8c03\u7528next()\u65b9\u6cd5 function run(taskDef) { // \u521b\u5efa\u8fed\u4ee3\u5668\uff0c\u8ba9\u5b83\u5728\u522b\u5904\u53ef\u7528 let task = taskDef(); // \u542f\u52a8\u4efb\u52a1 let result = task.next(); // \u9012\u5f52\u4f7f\u7528\u51fd\u6570\u6765\u4fdd\u6301\u5bf9 next() \u7684\u8c03\u7528 function step() { // \u5982\u679c\u8fd8\u6709\u66f4\u591a\u8981\u505a\u7684 if (!result.done) { result = task.next(); step(); } } // \u5f00\u59cb\u5904\u7406\u8fc7\u7a0b step(); } \u51fd\u6570run()\u63a5\u53d7\u4e00\u4e2a\u751f\u6210\u5668\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u5b9a\u4e49\u4e86\u540e\u7eed\u8981\u6267\u884c\u7684\u4efb\u52a1\uff0c\u751f\u6210\u4e00\u4e2a\u8fed\u4ee3\u5668\u5e76\u5c06\u5b83\u50a8\u5b58\u5728\u53d8\u91cftask\u4e2d\u3002\u9996\u6b21\u8c03\u7528\u8fed\u4ee3\u5668\u7684next()\u65b9\u6cd5\u65f6\uff0c\u8fd4\u56de\u7684\u7ed3\u679c\u88ab\u50a8\u5b58\u8d77\u6765\u7a0d\u540e\u7ee7\u7eed\u4f7f\u7528\u3002step()\u51fd\u6570\u4f1a\u68c0\u67e5result.done\u7684\u503c\uff0c\u5982\u679c\u4e3afalse\u5219\u6267\u884c\u8fed\u4ee3\u5668\u7684next()\u65b9\u6cd5\uff0c\u5e76\u518d\u6b21\u6267\u884cstep()\u64cd\u4f5c\u3002\u6bcf\u6b21\u8c03\u7528next()\u65b9\u6cd5\u65f6\uff0c\u8fd4\u56de\u7684\u6700\u65b0\u4fe1\u606f\u603b\u4f1a\u8986\u5199\u53d8\u91cfresult\u3002\u5728\u4ee3\u7801\u7684\u6700\u540e\uff0c\u521d\u59cb\u5316\u6267\u884cstep()\u51fd\u6570\u5e76\u5f00\u59cb\u6574\u4e2a\u7684\u8fed\u4ee3\u8fc7\u7a0b\uff0c\u6bcf\u6b21\u901a\u8fc7\u68c0\u67e5result.done\u6765\u786e\u5b9a\u662f\u5426\u6709\u66f4\u591a\u4efb\u52a1\u9700\u8981\u6267\u884c \u501f\u52a9\u8fd9\u4e2arun()\u51fd\u6570\uff0c\u53ef\u4ee5\u50cf\u8fd9\u6837\u6267\u884c\u4e00\u4e2a\u5305\u542b\u591a\u6761yield\u8bed\u53e5\u7684\u751f\u6210\u5668 run(function*() { console.log(1); yield; console.log(2); yield; console.log(3); }); \u8fd9\u4e2a\u793a\u4f8b\u6700\u7ec8\u4f1a\u5411\u63a7\u5236\u53f0\u8f93\u51fa\u591a\u6b21\u8c03\u7528next()\u65b9\u6cd5\u7684\u7ed3\u679c\uff0c\u5206\u522b\u4e3a\u6570\u503c1\u30012\u548c3\u3002\u5f53\u7136\uff0c\u7b80\u5355\u8f93\u51fa\u8fed\u4ee3\u6b21\u6570\u4e0d\u8db3\u4ee5\u5c55\u793a\u8fed\u4ee3\u5668\u9ad8\u7ea7\u529f\u80fd\u7684\u5b9e\u7528\u4e4b\u5904\uff0c\u4e0b\u4e00\u6b65\u5c06\u5728\u8fed\u4ee3\u5668\u4e0e\u8c03\u7528\u8005\u4e4b\u95f4\u4e92\u76f8\u4f20\u503c \u3010\u5411\u4efb\u52a1\u6267\u884c\u5668\u4f20\u9012\u6570\u636e\u3011 \u7ed9\u4efb\u52a1\u6267\u884c\u5668\u4f20\u9012\u6570\u636e\u7684\u6700\u7b80\u5355\u529e\u6cd5\u662f\uff0c\u5c06\u503c\u901a\u8fc7\u8fed\u4ee3\u5668\u7684next()\u65b9\u6cd5\u4f20\u5165\u4f5c\u4e3ayield\u7684\u751f\u6210\u503c\u4f9b\u4e0b\u6b21\u8c03\u7528\u3002\u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u53ea\u9700\u5c06result.value\u4f20\u5165next()\u65b9\u6cd5\u5373\u53ef function run(taskDef) { // \u521b\u5efa\u8fed\u4ee3\u5668\uff0c\u8ba9\u5b83\u5728\u522b\u5904\u53ef\u7528 let task = taskDef(); // \u542f\u52a8\u4efb\u52a1 let result = task.next(); // \u9012\u5f52\u4f7f\u7528\u51fd\u6570\u6765\u4fdd\u6301\u5bf9 next() \u7684\u8c03\u7528 function step() { // \u5982\u679c\u8fd8\u6709\u66f4\u591a\u8981\u505a\u7684 if (!result.done) { result = task.next(result.value); step(); } } // \u5f00\u59cb\u5904\u7406\u8fc7\u7a0b step(); } \u73b0\u5728result.value\u4f5c\u4e3anext()\u65b9\u6cd5\u7684\u53c2\u6570\u88ab\u4f20\u5165\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5728yield\u8c03\u7528\u4e4b\u95f4\u4f20\u9012\u6570\u636e\u4e86 run(function*() { let value = yield 1; console.log(value); // 1 value = yield value + 3; console.log(value); // 4 }); \u6b64\u793a\u4f8b\u4f1a\u5411\u63a7\u5236\u53f0\u8f93\u51fa\u4e24\u4e2a\u6570\u503c1\u548c4\u3002\u5176\u4e2d\uff0c\u6570\u503c1\u53d6\u81eayield 1\u8bed\u53e5\u4e2d\u56de\u4f20\u7ed9\u53d8\u91cfvalue\u7684\u503c\uff1b\u800c4\u53d6\u81ea\u7ed9\u53d8\u91cfvalue\u52a03\u540e\u56de\u4f20\u7ed9value\u7684\u503c\u3002\u73b0\u5728\u6570\u636e\u5df2\u7ecf\u80fd\u591f\u5728yield\u8c03\u7528\u95f4\u4e92\u76f8\u4f20\u9012\u4e86\uff0c\u53ea\u9700\u4e00\u4e2a\u5c0f\u5c0f\u6539\u53d8\u4fbf\u80fd\u652f\u6301\u5f02\u6b65\u8c03\u7528 \u3010\u5f02\u6b65\u4efb\u52a1\u6267\u884c\u5668\u3011 \u4e4b\u524d\u7684\u793a\u4f8b\u53ea\u662f\u5728\u591a\u4e2ayield\u8c03\u7528\u95f4\u6765\u56de\u4f20\u9012\u9759\u6001\u6570\u636e\uff0c\u800c\u7b49\u5f85\u4e00\u4e2a\u5f02\u6b65\u8fc7\u7a0b\u6709\u4e9b\u4e0d\u540c\u3002\u4efb\u52a1\u6267\u884c\u5668\u9700\u8981\u77e5\u6653\u56de\u8c03\u51fd\u6570\u662f\u4ec0\u4e48\u4ee5\u53ca\u5982\u4f55\u4f7f\u7528\u5b83\u3002\u7531\u4e8eyield\u8868\u8fbe\u5f0f\u4f1a\u5c06\u503c\u8fd4\u56de\u7ed9\u4efb\u52a1\u6267\u884c\u5668\uff0c\u6240\u6709\u7684\u51fd\u6570\u8c03\u7528\u90fd\u4f1a\u8fd4\u56de\u4e00\u4e2a\u503c\uff0c\u56e0\u800c\u5728\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u8fd9\u4e5f\u662f\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u4efb\u52a1\u6267\u884c\u5668\u4f1a\u4e00\u76f4\u7b49\u5f85\u76f4\u5230\u64cd\u4f5c\u5b8c\u6210 \u4e0b\u9762\u5b9a\u4e49\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c function fetchData() { return function(callback) { callback(null, \"Hi!\"); }; } \u672c\u793a\u4f8b\u7684\u539f\u610f\u662f\u8ba9\u4efb\u52a1\u6267\u884c\u5668\u8c03\u7528\u7684\u6240\u6709\u51fd\u6570\u90fd\u8fd4\u56de\u4e00\u4e2a\u53ef\u4ee5\u6267\u884c\u56de\u8c03\u8fc7\u7a0b\u7684\u51fd\u6570\uff0c\u6b64\u5904fetchData()\u51fd\u6570\u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u53ef\u63a5\u53d7\u56de\u8c03\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u7684\u51fd\u6570\uff0c\u5f53\u8c03\u7528\u5b83\u65f6\u4f1a\u4f20\u5165\u4e00\u4e2a\u5b57\u7b26\u4e32\"Hi!\"\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u5e76\u6267\u884c\u3002\u53c2\u6570callback\u9700\u8981\u901a\u8fc7\u4efb\u52a1\u6267\u884c\u5668\u6307\u5b9a\uff0c\u4ee5\u786e\u4fdd\u56de\u8c03\u51fd\u6570\u6267\u884c\u65f6\u53ef\u4ee5\u4e0e\u5e95\u5c42\u8fed\u4ee3\u5668\u6b63\u786e\u4ea4\u4e92\u3002\u5c3d\u7ba1fetchData()\u662f\u540c\u6b65\u51fd\u6570\uff0c\u4f46\u7b80\u5355\u6dfb\u52a0\u4e00\u4e2a\u5ef6\u8fdf\u65b9\u6cd5\u5373\u53ef\u5c06\u5176\u53d8\u4e3a\u5f02\u6b65\u51fd\u6570 function fetchData() { return function(callback) { setTimeout(function() { callback(null, \"Hi!\"); }, 50); }; } \u5728\u8fd9\u4e2a\u7248\u672c\u7684fetchData()\u51fd\u6570\u4e2d\uff0c\u8ba9\u56de\u8c03\u51fd\u6570\u5ef6\u8fdf\u4e8650ms\u518d\u88ab\u8c03\u7528\uff0c\u6240\u4ee5\u8fd9\u79cd\u6a21\u5f0f\u5728\u540c\u6b65\u548c\u5f02\u6b65\u72b6\u6001\u4e0b\u90fd\u8fd0\u884c\u826f\u597d\u3002\u53ea\u9700\u4fdd\u8bc1\u6bcf\u4e2a\u8981\u901a\u8fc7yield\u5173\u952e\u5b57\u8c03\u7528\u7684\u51fd\u6570\u90fd\u6309\u7167\u4e0e\u4e4b\u76f8\u540c\u7684\u6a21\u5f0f\u7f16\u5199 \u7406\u89e3\u4e86\u51fd\u6570\u4e2d\u5f02\u6b65\u8fc7\u7a0b\u7684\u8fd0\u4f5c\u65b9\u5f0f\uff0c\u53ef\u4ee5\u5c06\u4efb\u52a1\u6267\u884c\u5668\u7a0d\u4f5c\u4fee\u6539\u3002\u5f53result.value\u662f\u4e00\u4e2a\u51fd\u6570\u65f6\uff0c\u4efb\u52a1\u6267\u884c\u5668\u4f1a\u5148\u6267\u884c\u8fd9\u4e2a\u51fd\u6570\u518d\u5c06\u7ed3\u679c\u4f20\u5165next()\u65b9\u6cd5 function run(taskDef) { // \u521b\u5efa\u8fed\u4ee3\u5668\uff0c\u8ba9\u5b83\u5728\u522b\u5904\u53ef\u7528 let task = taskDef(); // \u542f\u52a8\u4efb\u52a1 let result = task.next(); // \u9012\u5f52\u4f7f\u7528\u51fd\u6570\u6765\u4fdd\u6301\u5bf9 next() \u7684\u8c03\u7528 function step() { // \u5982\u679c\u8fd8\u6709\u66f4\u591a\u8981\u505a\u7684 if (!result.done) { if (typeof result.value === \"function\") { result.value(function(err, data) { if (err) { result = task.throw(err); return; } result = task.next(data); step(); }); } else { result = task.next(result.value); step(); } } } // \u5f00\u59cb\u5904\u7406\u8fc7\u7a0b step(); } \u901a\u8fc7===\u64cd\u4f5c\u7b26\u68c0\u67fb\u540e\uff0c\u5982\u679cresult.value\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u4f1a\u4f20\u5165\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u8c03\u7528\u5b83\uff0c\u56de\u8c03\u51fd\u6570\u9075\u5faaNode.js\u6709\u5173\u6267\u884c\u9519\u8bef\u7684\u7ea6\u5b9a\uff1a\u6240\u6709\u53ef\u80fd\u7684\u9519\u8bef\u653e\u5728\u7b2c\u4e00\u4e2a\u53c2\u6570(err)\u4e2d\uff0c\u7ed3\u679c\u653e\u5728\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e2d\u3002\u5982\u679c\u4f20\u5165\u4e86err\uff0c\u610f\u5473\u7740\u6267\u884c\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u4e86\u9519\u8bef\uff0c\u8fd9\u65f6\u901a\u8fc7task.throw()\u6b63\u786e\u8f93\u51fa\u9519\u8bef\u5bf9\u8c61\uff1b\u5982\u679c\u6ca1\u6709\u9519\u8bef\u4ea7\u751f\uff0cdata\u88ab\u4f20\u5165task.next()\u4f5c\u4e3a\u7ed3\u679c\u50a8\u5b58\u8d77\u6765\uff0c\u5e76\u7ee7\u7eed\u6267\u884cstep()\u3002\u5982\u679cresult.value\u4e0d\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5219\u76f4\u63a5\u5c06\u5176\u4f20\u5165next()\u65b9\u6cd5 \u73b0\u5728\uff0c\u8fd9\u4e2a\u65b0\u7248\u7684\u4efb\u52a1\u6267\u884c\u5668\u5df2\u7ecf\u53ef\u4ee5\u7528\u4e8e\u6240\u6709\u7684\u5f02\u6b65\u4efb\u52a1\u4e86\u3002\u5728Node.js\u73af\u5883\u4e2d\uff0c\u5982\u679c\u8981\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u4e00\u4e9b\u6570\u636e\uff0c\u9700\u8981\u5728fs.readFile()\u5916\u56f4\u521b\u5efa\u4e00\u4e2a\u5305\u88c5\u5668(wrapper)\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u4e0efetchData()\u7c7b\u4f3c\u7684\u51fd\u6570 let fs = require(\"fs\"); function readFile(filename) { return function(callback) { fs.readFile(filename, callback); }; } readFile()\u63a5\u53d7\u4e00\u4e2a\u6587\u4ef6\u540d\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u53ef\u4ee5\u6267\u884c\u56de\u8c03\u51fd\u6570\u7684\u51fd\u6570\u3002\u56de\u8c03\u51fd\u6570\u88ab\u76f4\u63a5\u4f20\u5165fs.readFile()\u65b9\u6cd5\uff0c\u8bfb\u53d6\u5b8c\u6210\u540e\u4f1a\u6267\u884c\u5b83 run(function*() { let contents = yield readFile(\"config.json\"); doSomethingWith(contents); console.log(\"Done\"); }); \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\u6ca1\u6709\u4efb\u4f55\u56de\u8c03\u53d8\u91cf\uff0c\u5f02\u6b65\u7684readFile()\u64cd\u4f5c\u5374\u6b63\u5e38\u6267\u884c\uff0c\u9664\u4e86yield\u5173\u952e\u5b57\u5916\uff0c\u5176\u4ed6\u4ee3\u7801\u4e0e\u540c\u6b65\u4ee3\u7801\u5b8c\u5168\u4e00\u6837\uff0c\u53ea\u4e0d\u8fc7\u51fd\u6570\u6267\u884c\u7684\u662f\u5f02\u6b65\u64cd\u4f5c\u3002\u6240\u4ee5\u9075\u5faa\u76f8\u540c\u7684\u63a5\u53e3\uff0c\u53ef\u4ee5\u7f16\u5199\u4e00\u4e9b\u8bfb\u8d77\u6765\u50cf\u662f\u540c\u6b65\u4ee3\u7801\u7684\u5f02\u6b65\u903b\u8f91 \u5f53\u7136\uff0c\u8fd9\u4e9b\u793a\u4f8b\u4e2d\u4f7f\u7528\u7684\u6a21\u5f0f\u4e5f\u6709\u7f3a\u70b9\uff0c\u4e5f\u5c31\u662f\u4e0d\u80fd\u767e\u5206\u767e\u786e\u8ba4\u51fd\u6570\u4e2d\u8fd4\u56de\u7684\u5176\u4ed6\u51fd\u6570\u4e00\u5b9a\u662f\u5f02\u6b65\u7684\u3002\u7740\u773c\u5f53\u4e0b\uff0c\u6700\u91cd\u8981\u7684\u662f\u80fd\u7406\u89e3\u4efb\u52a1\u6267\u884c\u8fc7\u7a0b\u80cc\u540e\u7684\u7406\u8bba\u77e5\u8bc6","title":"\u5f02\u6b65\u4efb\u52a1\u6267\u884c"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/","text":"ES6\u8865\u5145 \u00b6 0.\u6d4f\u89c8\u5668\u4e2d\u7684ES6 \u00b6 \u65b9\u6cd5\u4e00\uff1a\u5f15\u5165\u6587\u4ef6\u76f8\u5173js\u6587\u4ef6 < script src = \"traceur.js\" ></ script > < script src = \"bootstrap.js\" ></ script > < script type = \"module\" > //code \u8fd9\u91cc\u5199\u4f60\u7684jsx\u4ee3\u7801 </ script > \u6ce8\u610f\uff1a\u4e25\u683c\u6a21\u5f0f('use strict')\uff0c\u6ce8\u610f\u683c\u5f0f\u3002 1.let\u548cconst \u00b6 \u4f18\u5148\u4f7f\u7528\u5e38\u91cf(const)\u3002let \u5b9a\u4e49\u53d8\u91cf \uff0c\u6709\u5757\u7ea7\u522b\u4f5c\u7528\u57df\uff08\u53ea\u5728\u672c\u5757\u6709\u7528\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u7684\uff09 \u6ce8\u610f\uff1a\u5728\u540c\u4e00\u4e2a\u5757\u7ea7\u4f5c\u7528\u57df\u4e2d\uff0clet\u4e0d\u80fd\u91cd\u590d\u5b9a\u4e49\u540c\u4e00\u53d8\u91cf\u3002 const a = 'Tab' ; alert ( a ); // 1.\u4e0d\u80fd\u91cd\u590d\u5b9a\u4e49 // 2.\u5e38\u91cf\u4e0d\u80fd\u4fee\u6539 2.\u6a21\u677f\u5f15\u64ce\uff08\u5b57\u7b26\u4e32\u62fc\u63a5\uff09 \u00b6 \u65b0\u7684\u201c\u5b57\u7b26\u4e32\u62fc\u63a5\u201d\u65b9\u6cd5\u6bd4\u8f83\u7b80\u5355\uff0c\u6ca1\u6709\u7e41\u7410\u7684\u52a0\u53f7\u548c\u5f15\u53f7\uff0c\u53ea\u9700\u8981\u5728\u6240\u9700\u8981\u7684\u5b57\u7b26\u4e32\u201c\u8fb9\u754c\u201d\u52a0\u4e0a``\u5373\u53ef\u3002 var str1 = `\u6211\u662f ${ name } \uff0c\u4eca\u5e74 ${ age } \u5c81\uff0c\u6027\u522b ${ sex } \u7684\u4e86\uff0c\u7231\u597d ${ hobby } ` ; //\u6ce8\u610f\u6b64\u5904\u6709\u4e24\u4e2a\u201c `` \u201d var str2 = '\u6211\u662f' + name + '\uff0c\u4eca\u5e74' + age + '\u5c81\uff0c\u6027\u522b' + sex + '\uff0c\u7231\u597d' + hobby + '' ; //\u8fd9\u4e2a\u662f\u539f\u6765\u7684\u5199\u6cd5 3. \u89e3\u6784\u8d4b\u503c \u00b6 \u5c31\u6839\u636e\u201c\u5bf9\u5e94\u201d\u8d4b\u503c\uff0c\u8bf7\u770b\u4ee5\u4e0b\u51e0\u4e2a\u4f8b\u5b50\uff1a 'use strict' ; let a = 12 ; let b = 5 ; let c = 8 ; let [ a , b , c ] = [ 12 , 5 , 8 ]; console . log ( a , b , c ); //12 5 8 json\u683c\u5f0f\u7684\u8d4b\u503c let { a , b , c } = { a : 12 , b : 5 , c : 8 }; let [ a ,[ b , c ], d ] = [ 12 ,[ 1 , 3 ], 8 ]; \u4e0e\u987a\u5e8f\u65e0\u5173\uff0c\u4e0e\u7ed3\u6784\u6709\u5173\uff08\u5de6\u53f3\u7ed3\u6784\u4e00\u81f4\uff09\uff1a let { a , b , c } = { b : 5 , a : 12 , c : 8 }; console . log ( a , b , c ); //12 5 8 \u5e94\u7528\uff0c\u6211\u4eec\u73b0\u5728\u5229\u7528jsonp\u83b7\u53d6\u4e86\u4e00\u7ec4\u6570\u636e let json = { q : \"aaa\" , p : false , s : [ \"aaa\" ] }; let { s , q } = json ; console . log ( s , q ); //s\u4e3a\u6570\u7ec4\u7684\u6570\u636e\uff0cq\u4e3a\u5b57\u7b26\u4e32aaa \u89e3\u6784\u8d4b\u503c\u7684\u9ed8\u8ba4\u503c\u95ee\u9898 let { time = 1000 , id = 0 } = {}; console . log ( time , id ); // 1000 0 4.\u6269\u5c55\u8fd0\u7b97\u7b26 \u00b6 \u6570\u7ec4\u6216\u8005\u5bf9\u8c61\u7684\u6df1\u6d45\u62f7\u8d1d\u95ee\u9898\uff0c\u4eca\u5929\u6211\u4eec\u5c31\u5229\u7528es6\u7684\u4e09\u4e2a\u70b9\u6765\u5904\u7406\u4e0b\u3002\u4e0a\u9762\u7684\u4ee3\u7801\u5c31\u662farr2\u4e0earr\u516c\u7528\u4e00\u6bb5\u5185\u5b58\u5730\u5740\uff0c\u6240\u4ee5\u5bfc\u81f4srr2\u6570\u636e\u6539\u53d8\u7684\u65f6\u5019arr\u4e5f\u5fc5\u7136\u4f1a\u53d8\u7684\u3002\u8fd9\u5c31\u662f\u6d45\u62f7\u8d1d\u3002 var arr = [ 12 , 5 , 8 ]; arr2 = arr ; arr2 . pop (); alert ( arr ); // 12 5 \u90a3\u4e48\u6211\u4eec\u4e0b\u9762\u5c31\u7b80\u5355\u7684\u8bf4\u51e0\u79cd\u6df1\u5ea6\u590d\u5236\u6570\u7ec4\u65b9\u5f0f\u3002 \u65b9\u5f0f\u4e00\uff1a\u5229\u7528for\u5faa\u73af\u628a\u539f\u6570\u7ec4\u7684\u6bcf\u4e00\u9879\u90fd\u904d\u5386\uff0c\u7136\u540e\u6254\u5230\u65b0\u7684\u6570\u7ec4\u4e2d\u3002 var arr = [ 12 , 5 , 8 ]; var arr2 = []; for ( var i = 0 ; i < arr . length ; i ++ ){ arr2 . push ( arr [ i ]); } arr2 . pop (); alert ( arr ); // 12 5 8 \u65b9\u5f0f\u4e8c\uff1a\u5229\u7528Array.from(\u539f\u6570\u7ec4); var arr = [ 12 , 5 , 8 ]; var arr2 = Array . from ( arr ); arr2 . pop (); console . log ( arr2 ); // 12 5 console . log ( arr ); // 12 5 8 \u9644\u52a0\uff1aArray.from\u7528\u6cd5 Array.from(arr, [mapfn], [thisArg]) arr\uff1a\u4f2a\u6570\u7ec4\u6216\u8005\u53ef\u4ee5\u904d\u5386\u7684\u5bf9\u8c61(\u5177\u6709length\u5c5e\u6027)\u3002length\u7edd\u5bf9\u591f\u6570\u7ec4\u4f1a\u8f6c\u5316\u6210\u4ec0\u4e48\u6837\u3002from\u4f1a\u6839\u636elength\u5c5e\u6027\u521b\u5efa\u65b0\u7684\u6570\u7ec4\u3002 mapFn\uff1a\u7c7b\u4f3c\u4e8earray.map\u65b9\u6cd5\uff0c\u5bf9\u6570\u7ec4\u5143\u7d20\u8fdb\u884c\u64cd\u4f5c\u540e\u8fd4\u56de\u6570\u7ec4 thisArg: \u5bf9\u4e8ethis\u5173\u952e\u5b57\u7684\u6307\u5411\u3002 \u7528\u9014 1.\u5c06\u5177\u6709length\u7684\u5bf9\u8c61\u8f6c\u5316\u4e3a\u6570\u7ec4 2.\u6570\u7ec4\u6df1\u590d\u5236 3.\u8ba1\u7b97\u5b57\u7b26\u4e32\u771f\u5b9e\u957f\u5ea6Array.from(string).length 4.\u53ef\u4ee5\u63a7\u5236\u51fd\u6570\u6267\u884c\u7684\u6b21\u6570 Array . from ({ length : 3 }, () => { console . log ( '0' ); }); \u65b9\u5f0f\u4e09\uff1a\u6269\u5c55\u8fd0\u7b97\u7b26 var arr = [ 12 , 5 , 8 ]; var arr2 = [... arr ]; \u6211\u4eec\u77e5\u9053\u51fd\u6570\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u96c6\u5408(arguments)\u5e76\u4e0d\u662f\u4e00\u4e2a\u771f\u6b63\u7684\u6570\u7ec4\u3002\u90a3\u4e48\u6211\u4eec\u600e\u4e48\u624d\u80fd\u5728\u8fd9\u4e2aarguments\u4e2d\u52a0\u4e00\u9879\u5462\uff1f\uff1f function show (... arr ){ arr . push ( 8 ); console . log ( arr ); } show ( 12 , 5 ); //12 5 8 5. Map\u5bf9\u8c61 \u00b6 ES6\u63d0\u4f9b\u4e86\u65b0\u7684\u6570\u636e\u7ed3\u6784Map\uff0cMap\u7ed3\u6784\u63d0\u4f9b\u4e86\u201c\u503c\u2014\u503c\u201d\u7684\u5bf9\u5e94\uff0c\u662f\u4e00\u79cd\u66f4\u5b8c\u5584\u7684Hash\u7ed3\u6784\u5b9e\u73b0\u3002\u5982\u679c\u4f60\u9700\u8981\u201c\u952e\u503c\u5bf9\u201d\u7684\u6570\u636e\u7ed3\u6784\uff0cMap\u6bd4Object\u66f4\u5408\u9002\u3002\u5b83\u7c7b\u4f3c\u4e8e\u5bf9\u8c61\uff0c\u4e5f\u662f\u952e\u503c\u5bf9\u7684\u96c6\u5408\uff0c\u4f46\u662f\u201c\u952e\u201d\u7684\u8303\u56f4\u4e0d\u9650\u4e8e\u5b57\u7b26\u4e32\uff0c\u5404\u79cd\u7c7b\u578b\u7684\u503c\uff08\u5305\u62ec\u5bf9\u8c61\uff09\u90fd\u53ef\u4ee5\u5f53\u4f5c\u952e\u3002{\"b\" => \"banana\"}\u5e76\u4e14\u6bcf\u4e00\u9879\u90fd\u5305\u542b\u4e86key\u548cvalue \u6211\u4eec\u6765\u65b0\u5efa\u4e00\u4e2aMap\u5bf9\u8c61\uff0c\u5e76\u4e3a\u5176\u8d4b\u503c\uff1a let map = new Map (); map . set ( 'a' , 'apple' ); map . set ( 'b' , 'banana' ); console . log ( map ); //Map {\"a\" => \"apple\", \"b\" => \"banana\"} console . log ( map . get ( 'b' )); map . delete ( \"a\" ); console . log ( map . size ); //1 console . log ( map . length ); //undefined \u83b7\u53d6Map\u5bf9\u8c61\u91cc\u9762\u7684\u503c\uff08map.get();) \u5220\u9664Map\u5bf9\u8c61\u91cc\u9762\u7684\u503c\uff08map.delete();\uff09 \u83b7\u53d6Map\u5bf9\u8c61\u7684\u201c\u957f\u5ea6\u201d\uff1a(map.size()); \u8fed\u4ee3\u5668\u5bf9\u8c61\uff1amap.entries() let map = new Map (); map . set ( 'a' , 'apple' ); map . set ( 'b' , 'banana' ); console . log ( map . entries ()); // MapIterator {[\"a\", \"apple\"], [\"b\", \"banana\"]} // MDN\u8bf4\u660e: Map.prototype.entries() \u8fd9\u4e2a\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u8fed\u4ee3\u5668\u5bf9\u8c61\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u5143\u7d20\u5305\u542b\u952e\u503c\u5bf9(\u5728\u8fd9\u4e2amap\u5bf9\u8c61\u4e2d\u6309\u7167\u63d2\u5165\u7684\u987a\u5e8f\u8f93\u51fa) // The entries() method returns a new Iterator(\u8fed\u4ee3\u5668) object that contains the [key, value] pairs for each element in the Map object in insertion order. //\u5173\u4e8e\u8fed\u4ee3\u5668(Iterator)\u548c\u751f\u6210\u5668(generator) \u5728ES6\u4e2d\u65b0\u5f15\u5165\uff0c\u5355\u72ec\u5b66\u4e60\u3002 // \u8fed\u4ee3\u5668\u4e2d\u7684\u5143\u7d20\u4e0d\u80fd\u76f4\u63a5\u8bfb\u53d6\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u4e24\u79cd\u65b9\u6cd5\u8fdb\u884c\u8bfb\u53d6\u3002 // \u65b9\u6cd5\u4e00\uff1a let arr = []; let map = new Map (); for ( let [ key , val ] of map . entries ()) { arr . push ([ key , val ]); } // \u65b9\u6cd5\u4e8c\uff1a var map = new Map (); Array . from ( map ); \u904d\u5386Map\u5bf9\u8c61\uff08for...of... \uff09 let map = new Map (); map . set ( 'a' , 'apple' ); map . set ( 'b' , 'banana' ); for ( let name of map ){ console . log ( name ); //[\"a\", \"apple\"] [\"b\", \"banana\"] } //\u5faa\u73af\u51fa\u6765\u7684\u662f\u4ee5\u6570\u7ec4\u5957\u952e\u503c\u5bf9\u7684\u65b9\u5f0f \u5982\u679c\u6211\u4eec\u53ea\u8981Map\u4e2d\u7684\u201c\u503c\u201d\u600e\u4e48\u529e\uff1f let map = new Map (); map . set ( 'a' , 'apple' ); map . set ( 'b' , 'banana' ); for ( let val of map . values ()){ console . log ( val ); //apple banana } \u5982\u679c\u6211\u4eec\u53ea\u8981Map\u4e2d\u7684\u201c\u952e(key)\u201d\u600e\u4e48\u529e\uff1f let map = new Map (); map . set ( 'a' , 'apple' ); map . set ( 'b' , 'banana' ); for ( let key of map . keys ()){ console . log ( key ); // a b } \u5982\u679c\u6211\u4eec\u53ea\u8981Map\u4e2d\u7684\u201c\u952e --- \u503c\u201d\u600e\u4e48\u529e\uff1f let map = new Map (); map . set ( 'a' , 'apple' ); map . set ( 'b' , 'banana' ); for ( let [ key , value ] of map . entries ()){ console . log ( key , value ); //a apple b banana } 6. for\u5faa\u73af \u00b6 a) for ... in ...\u5faa\u73af //\u5faa\u73af\u6570\u7ec4 let arr = [ 12 , 5 , 8 ]; for ( let i = 0 ; i < arr . length ; i ++ ) { console . log ( i ); //0 1 2 console . log ( arr [ i ]); //12 5 8 } let arr = [ 12 , 5 , 8 ]; for ( let i in arr ) { console . log ( i ); //0 1 2 console . log ( arr [ i ]); //12 5 8 } //\u5faa\u73afjson\u6570\u636e let json = { a : 12 , b : 5 , c : 8 }; for ( let name in json ){ console . log ( name ); //a b c console . log ( json [ name ]); //12 5 8 } b) for ... of ...\u5faa\u73af //\u5faa\u73af\u6570\u7ec4 let arr = [ 12 , 5 , 8 ]; for ( let name of arr ){ console . log ( name ); // 12 5 8 } //\u5faa\u73afjson\u6570\u636e let json = { a : 'apple' , b : 'banana' }; for ( let name of json ){ console . log ( name ); //error } //\u62a5\u9519\uff0c\u56e0\u4e3a\u4e0d\u80fd\u7528for ...of...\u6765\u5faa\u73afjson\u6570\u636e c) \u5220\u9664json\u7684\u67d0\u4e00\u6761\u6570\u636e le t jso n = { a : 12 , b : 5 } ; dele te jso n .a; co ns ole.log(jso n ); // b : 5 7. \u7bad\u5934\u51fd\u6570 \u00b6 ES6\u6807\u51c6\u65b0\u589e\u4e86\u4e00\u79cd\u65b0\u7684\u51fd\u6570\uff1aArrow Function\uff08\u7bad\u5934\u51fd\u6570\uff09\u3002 \u6211\u4eec\u5148\u56de\u987e\u4e0bES5\u51fd\u6570\u5b9a\u4e49\u4e0e\u8c03\u7528\uff1a var show = function (){ alert ( 12 ); }; show (); // 12 const show = ( num1 , num2 ) =>{ alert ( num1 + num2 ); }; show ( 1 , 11 ); // 12 a) \u51fd\u6570\u6709\u8fd4\u56de\u503c //ES5\u51fd\u6570\u5199\u6cd5 var sum = function ( a , b ){ return a + b ; } alert ( sum ( 12 , 5 )); //ES6\u51fd\u6570\u5199\u6cd5 let sum = ( a , b ) => { return a + b ; } alert ( sum ( 12 , 5 )); //\u8fdb\u5316\u4e00\u4e0b --- \u7701\u7565\u82b1\u62ec\u53f7 let sum = ( a , b ) => a + b ; alert ( sum ( 12 , 5 )); b) \u53c2\u6570\u662f1\u4e2a var show = function ( a ){ return 'welcome' } //\u76f8\u5f53\u4e8e \u7701\u7565\u62ec\u53f7 var show = a => 'welcome' c) \u53c2\u6570\u662f0\u4e2a var show = function (){ return 'welcome' } //\u76f8\u5f53\u4e8e \u7701\u7565\u62ec\u53f7 var show = () => 'welcome' \u6ce8\u610f\uff1a\u7bad\u5934\u51fd\u6570\u4e0b \uff0carguments \u4e0d\u80fd\u4f7f\u7528\u4e86 var show = ( a , b ) => console . log ( this . arguments ); // \u62a5\u9519 \u6570\u7ec4\u6392\u5e8f var arr = [ 12 , 55 , 8 ]; //es5\u5199\u6cd5 arr . sort ( function ( n1 , n2 ){ return n1 - n2 ; }); //es6\u5199\u6cd5 arr . sort (( n1 , n2 ) => n1 - n2 ); alert ( arr ); 8. \u9762\u5411\u5bf9\u8c61 \u00b6 a) \u5355\u4f8b\u6a21\u5f0f\uff08\u5355\u4f53\u6a21\u5f0f\uff09 \u00b6 let name = 'Datura' ; let age = 18 ; let person = { name , age , sex : 'Man' , showName : function (){ return this . name }, showAge : function (){ return this . age } }; alert ( person . showAge ()); //18 alert ( person . sex ); //Man b) \u5de5\u5382\u6a21\u5f0f \u00b6 es5\u7684\u9762\u5411\u5bf9\u8c61\u5de5\u5382\u6a21\u5f0f\uff1a \u00b6 \u9996\u5148\u8ba9\u6211\u4eec\u4e00\u8d77\u6765\u56de\u4e00\u4e0bes5\u9762\u5411\u5bf9\u8c61\u7684\u5199\u6cd5\uff1a i) \u9996\u5148\u5b9a\u4e49\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff08\u6b64\u5904\u662f Person\uff09\uff1b ii) \u5b9a\u4e49Person\u7684\u201c\u5c5e\u6027\u201d\uff0c\u7528this.xxx = xxx\uff1b iii) \u628a\u65b9\u6cd5\u6302\u5728\u539f\u578b\u4e0a\uff0cPerson.prototype.xxx = function(){ xxx }\uff1b iiii) \u8c03\u7528 function Person ( name , age ){ this . name = name ; this . age = age ; } Person . prototype . showName = function () { return this . name ; }; Person . prototype . showAge = function () { return this . age ; }; var p1 = new Person ( 'alice' , 18 ); alert ( p1 . showAge ()); //18 es5\u7ee7\u627f\uff1a \u00b6 //\u5b9a\u4e49\u4e00\u4e2aPerson\u6784\u9020\u51fd\u6570 function Person ( name , age ){ this . name = name ; this . age = age ; } Person . prototype . showName = function (){ return this . name ; }; Person . prototype . showAge = function (){ return this . age ; }; //Worker\u6784\u9020\u51fd\u6570 //\u7ee7\u627f\u5c5e\u6027 function Worker ( name , age , job ) { //\u6539\u53d8this\u6307\u5411\uff0c\u7ee7\u627fPerson\u7684\u5c5e\u6027 Person . apply ( this , arguments ); //\u5b9a\u4e49worker\u65b0\u7684\u5c5e\u6027 this . job = job ; } //\u7ee7\u627f\u65b9\u6cd5 Worker . prototype = new Person (); //\u7ed9worker\u6307\u5b9a\u201c\u4eb2\u7239\u201d Worker . prototype . construcotr = Worker ; //\u5b9a\u4e49worker\u65b0\u7684\u65b9\u6cd5 Person . prototype . showJob = function (){ return this . job ; }; //\u8c03\u7528 var p2 = new Worker ( 'Datura' , 20 , 'boss' ); alert ( p2 . showName ()); //Datura alert ( p2 . showJob ()); //boss es6\u7684\u9762\u5411\u5bf9\u8c61\u5de5\u5382\u6a21\u5f0f \u00b6 i) \u9996\u5148\u5b9a\u4e49\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff08\u6b64\u5904\u662f Person\uff09\uff0c\u6ce8\u610f\u7528class\u5173\u952e\u5b57\u800c\u4e0d\u662ffunction\uff1b ii) \u5b9a\u4e49Person\u7684\u201c\u5c5e\u6027\u201d\uff0c\u5199\u5728constructor(){this.xxx = xxx }\uff1b iii) \u5b9a\u4e49\u65b9\u6cd5\uff0cxxx () { xxx }\uff1b iiii) \u8c03\u7528 iiiii) \u6ce8\u610fconstructor\u548c\u65b9\u6cd5\u4e4b\u95f4\u6ca1\u6709\u201c;\u201d\uff0c\u53ef\u4ee5\u7ed9\u5c5e\u6027\u521d\u59cb\u503c\u6216\u9ed8\u8ba4\u503c class Person { constructor ( name , age = 25 ){ //\u53ef\u4ee5\u7ed9\u5c5e\u6027\u521d\u59cb\u503c\u6216\u9ed8\u8ba4\u503c,\u6b63\u5e38es\u7684function\u51fd\u6570\u4e5f\u53ef\u4ee5\u7ed9\u9ed8\u8ba4\u503c this . name = name ; this . age = age ; } showName (){ return this . name ; } showAge (){ return this . age ; } } var p1 = new Person ( 'alice' , 18 ); alert ( p1 . showAge ()); // 18 es6\u7ee7\u627f\uff1a \u00b6 //\u7236\u7c7b\u6784\u9020\u51fd\u6570Person class Person { constructor ( name , age ){ this . name = name ; this . age = age ; } showName (){ return this . name ; } showAge (){ return this . age ; } } //\u5b50\u7c7b\u7ee7\u627f\u7236\u7c7b class Worker extends Person { constructor ( name , age , job = '\u642c\u7816\u7684' ){ //\u7ee7\u627f\u7236\u7c7b\u5c5e\u6027\uff0c\u5e76\u65b0\u52a0\u5c5e\u6027\u7ed9\u9ed8\u8ba4\u503c super ( name , age ); //\u8fd9\u91cc\u5fc5\u987b\u4f20\u53c2\uff0c\u4e5f\u5c31\u662f\u9700\u8981\u628a\u539f\u6765\u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\u4f20\u5165\u3002 //\u5b50\u7c7b\u5fc5\u987b\u5728constructor\u65b9\u6cd5\u4e2d\u8c03\u7528super\u65b9\u6cd5\uff0c\u5426\u5219\u65b0\u5efa\u5b9e\u4f8b\u65f6\u4f1a\u62a5\u9519\u3002 //\u8fd9\u662f\u56e0\u4e3a\u5b50\u7c7b\u6ca1\u6709\u81ea\u5df1\u7684this\u5bf9\u8c61\uff0c\u800c\u662f\u7ee7\u627f\u7236\u7c7b\u7684this\u5bf9\u8c61\uff0c\u7136\u540e\u5bf9\u5176\u8fdb\u884c\u52a0\u5de5\u3002\u5982\u679c\u4e0d\u8c03\u7528super\u65b9\u6cd5\uff0c\u5b50\u7c7b\u5c31\u5f97\u4e0d\u5230this\u5bf9\u8c61\u3002 this . job = job ; } //\u7ed9\u5b50\u7c7b\u5b9a\u4e49\u65b0\u65b9\u6cd5showJob showJob (){ return this . job ; } } //\u8c03\u7528 var w1 = new Worker ( 'rose' , 17 ); alert ( w1 . showJob ()); alert ( w1 . showName ()); 9. \u6a21\u5757\u5316 \u00b6 \u6ce8\u610f\uff1a\u76ee\u524d\u8fd8\u6ca1\u6709\u6d4f\u89c8\u5668\u652f\u6301\u6a21\u5757\u5316 \u7b2c\u4e09\u65b9\uff1aseajs require.js \u6a21\u5757\u5316\u5de5\u5177 \u90a3\u4e48\u6211\u4eec\u6765\u5b66\u4e60\u4e0b,es6\u81ea\u5e26\u7684\u6a21\u5757\u5316 a ). \u5bfc\u51fa \uff0c \u5c06\u53d8\u91cfa \u201c \u66b4\u9732 \u201d \u51fa\u53bb const a = 12 ; export default a ; b ). \u5bfc\u51651 . js\u6587\u4ef6 \u201c \u66b4\u9732 \u201d \u7684\u4e1c\u897f \uff0c \u5e76\u7528modA \u63a5\u6536 import modA from './1.js' ; (. / \u4ee3\u8868\u540c\u7ea7\u76ee\u5f55\u4e0b ) c ). \u540c\u4e00\u4e2a\u6a21\u5757\u5bfc\u51fa\u591a\u4e2a\u503c export default { a : 12 , b : 5 }; d ). \u4e0d\u540c\u6a21\u5757\u95f4\u7684\u5f15\u5165 import modA from './mod1.js' ; import modB from './mod2.js' ; let sum = modA + modB ; export default sum ; \u5b9e\u4f8b\uff1a //mod1.js\u6587\u4ef6\u7684\u5185\u5bb9 const a = 12 ; export default a ; //mod2.js\u6587\u4ef6\u7684\u5185\u5bb9 const b = 5 ; export default c ; //\u4e3b\u5165\u53e3\uff08\u6a21\u5757\uff09\u7684\u5185\u5bb9 < script src = \"traceur.js\" ></ script > < script src = \"bootstrap.js\" ></ script > < script type = \"module\" > import modA from './mod1.js' ; import modB from './mod2.js' ; alert ( modA + modB ); //17 </ script > \u4e00\u4e2a\u5b50\u6a21\u5757\u201c\u66b4\u9732\u201d\u4e00\u4e2ajson\u6570\u636e //mod3.js\u6587\u4ef6\u7684\u5185\u5bb9 export default { a : 12 , b : 5 }; //\u4e3b\u5165\u53e3\uff08\u6a21\u5757\uff09\u7684\u5185\u5bb9 import modA from './mod3.js' ; console . log ( modA . a + modA . b ); // 17 \u5728\u7814\u7a76react\u548cwebpack\u7684\u65f6\u5019\uff0c\u7ecf\u5e38\u770b\u5230\u5728js\u6587\u4ef6\u4e2d\u51fa\u73b0require\uff0c\u8fd8\u6709import\uff0c\u8fd9\u4e24\u4e2a\u90fd\u662f\u4e3a\u4e86JS\u6a21\u5757\u5316\u7f16\u7a0b\u4f7f\u7528\u3002CSS\u7684\u662f**@import** 1.\u9759\u6001\u5316 \u00b6 ES6 \u6a21\u5757\u7684\u8bbe\u8ba1\u601d\u60f3\uff0c\u662f\u5c3d\u91cf\u7684\u9759\u6001\u5316\uff0c\u4f7f\u5f97\u7f16\u8bd1\u65f6\u5c31\u80fd\u786e\u5b9a\u6a21\u5757\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u4ee5\u53ca\u8f93\u5165\u548c\u8f93\u51fa\u7684\u53d8\u91cf\u3002 Require\u662fCommonJS\u7684\u8bed\u6cd5\uff0cCommonJS\u7684\u6a21\u5757\u662f\u5bf9\u8c61\uff0c\u8f93\u5165\u65f6\u5fc5\u987b\u67e5\u627e\u5bf9\u8c61\u5c5e\u6027\u3002 // CommonJS\u6a21\u5757 let { stat , exists , readFile } = require ( 'fs' ); // \u7b49\u540c\u4e8e let _fs = require ( 'fs' ); let stat = _fs . stat ; let exists = _fs . exists ; let readfile = _fs . readfile ; above\uff1a\u6574\u4f53\u52a0\u8f7dfs\u6a21\u5757\uff08\u5373\u52a0\u8f7dfs\u6240\u6709\u65b9\u6cd5\uff09\uff0c\u751f\u6210\u4e00\u4e2a\u5bf9\u8c61\"_fs\"\uff0c\u7136\u540e\u518d\u4ece\u8fd9\u4e2a\u5bf9\u8c61\u4e0a\u8bfb\u53d6\u4e09\u4e2a\u65b9\u6cd5\uff0c\u8fd9\u53eb\u201c\u8fd0\u884c\u65f6\u52a0\u8f7d\u201d\uff0c\u56e0\u4e3a\u53ea\u6709\u8fd0\u884c\u65f6\u624d\u80fd\u5f97\u5230\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u4e0d\u80fd\u5728\u7f16\u8bd1\u65f6\u505a\u5230\u9759\u6001\u5316\u3002 ES6\u6a21\u5757\u4e0d\u662f\u5bf9\u8c61\uff0c\u800c\u662f\u901a\u8fc7export\u547d\u4ee4\u663e\u793a\u6307\u5b9a\u8f93\u51fa\u4ee3\u7801\uff0c\u518d\u901a\u8fc7import\u8f93\u5165\u3002 import { stat , exists , readFile } from 'fs' ; above\uff1a\u4ecefs\u52a0\u8f7d\u201cstat, exists, readFile\u201d \u4e09\u4e2a\u65b9\u6cd5\uff0c\u5176\u4ed6\u65b9\u6cd5\u4e0d\u52a0\u8f7d 2.\u4e25\u683c\u6a21\u5f0f \u00b6 ES6\u6a21\u5757\u9ed8\u8ba4\u4f7f\u7528\u4e25\u683c\u6a21\u5f0f\uff0c\u65e0\u8bba\u662f\u5426\u58f0\u660e\u201cuse strict\u201d ES6 \u6a21\u5757\u4e4b\u4e2d\uff0c\u9876\u5c42\u7684**this**\u6307\u5411 undefined \uff0c\u5373\u4e0d\u5e94\u8be5\u5728\u9876\u5c42\u4ee3\u7801\u4f7f\u7528 this \u3002 Module \u4e3b\u8981\u7531\u4e24\u4e2a\u547d\u4ee4\u7ec4\u6210\uff0cimport\u548cexport\uff0cexport\u7528\u4e8e\u89c4\u5b9a\u6a21\u5757\u7684\u5bf9\u5916\u63a5\u53e3\uff0cimport\u547d\u4ee4\u7528\u4e8e\u8f93\u5165\u5176\u4ed6\u6a21\u5757\u63d0\u4f9b\u7684\u529f\u80fd 3.Export \u00b6 \u6a21\u5757\u662f\u72ec\u7acb\u7684\u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u5185\u90e8\u7684\u6240\u6709\u7684\u53d8\u91cf\u5916\u90e8\u90fd\u65e0\u6cd5\u83b7\u53d6\u3002\u5982\u679c\u5e0c\u671b\u83b7\u53d6\u67d0\u4e2a\u53d8\u91cf\uff0c\u5fc5\u987b\u901a\u8fc7export\u8f93\u51fa\uff0c // profile.js export var firstName = 'Michael' ; export var lastName = 'Jackson' ; export var year = 1958 ; \u6216\u8005\u7528\u66f4\u597d\u7684\u65b9\u5f0f\uff1a\u7528\u5927\u62ec\u53f7\u6307\u5b9a\u8981\u8f93\u51fa\u7684\u4e00\u7ec4\u53d8\u91cf // profile.js var firstName = 'Michael' ; var lastName = 'Jackson' ; var year = 1958 ; export { firstName , lastName , year }; \u9664\u4e86\u8f93\u51fa\u53d8\u91cf\uff0c\u8fd8\u53ef\u4ee5\u8f93\u51fa\u51fd\u6570\u6216\u8005\u7c7b\uff08class\uff09\uff0c export function multiply ( x , y ) { return x * y ; }; \u8fd8\u53ef\u4ee5\u6279\u91cf\u8f93\u51fa\uff0c\u540c\u6837\u662f\u8981\u5305\u542b\u5728\u5927\u62ec\u53f7\u91cc\uff0c\u4e5f\u53ef\u4ee5\u7528as\u91cd\u547d\u540d\uff1a function v1 () { ... } function v2 () { ... } export { v1 as streamV1 , v2 as streamV2 , v2 as streamLatestVersion }; Attention: export \u547d\u4ee4\u89c4\u5b9a\u7684\u662f\u5bf9\u5916\u63a5\u53e3\uff0c\u5fc5\u987b\u4e0e\u6a21\u5757\u5185\u90e8\u53d8\u91cf\u5efa\u7acb\u4e00\u4e00\u5bf9\u5e94\u7684\u5173\u7cfb // \u5199\u6cd5\u4e00 export var m = 1 ; // \u5199\u6cd5\u4e8c var m = 1 ; export { m }; // \u5199\u6cd5\u4e09 var n = 1 ; export { n as m }; // \u62a5\u9519 export 1 ; // \u62a5\u9519 var m = 1 ; export m ; \u62a5\u9519\u7684\u5199\u6cd5\u539f\u56e0\u662f\uff1a\u6ca1\u6709\u63d0\u4f9b\u5bf9\u5916\u7684\u63a5\u53e3\uff0c\u7b2c\u4e00\u79cd\u76f4\u63a5\u8f93\u51fa1\uff0c\u7b2c\u4e8c\u79cd\u867d\u7136\u6709\u53d8\u91cfm\uff0c\u4f46\u8fd8\u662f\u76f4\u63a5\u8f93\u51fa1\uff0c\u5bfc\u81f4\u65e0\u6cd5\u89e3\u6784\u3002 \u540c\u6837\u7684\uff0c function \u548c class \u7684\u8f93\u51fa\uff0c\u4e5f\u5fc5\u987b\u9075\u5b88\u8fd9\u6837\u7684\u5199\u6cd5\u3002 // \u62a5\u9519 function f () {} export f ; // \u6b63\u786e export function f () {}; // \u6b63\u786e function f () {} export { f }; And\uff1aexport\u8bed\u53e5\u8f93\u51fa\u7684\u63a5\u53e3\uff0c\u90fd\u662f\u548c\u5176\u5bf9\u5e94\u7684\u503c\u662f\u52a8\u6001\u7ed1\u5b9a\u7684\u5173\u7cfb\uff0c\u5373\u901a\u8fc7\u8be5\u63a5\u53e3\u53d6\u5230\u7684\u90fd\u662f\u6a21\u5757\u5185\u90e8\u5b9e\u65f6\u7684\u503c\u3002 \u4f4d\u7f6e\uff1aexport\u6a21\u5757\u53ef\u4ee5\u4f4d\u4e8e\u6a21\u5757\u4e2d\u7684\u4efb\u4f55\u4f4d\u7f6e\uff0c\u4f46\u662f\u5fc5\u987b\u662f\u5728\u6a21\u5757\u9876\u5c42\uff0c\u5982\u679c\u5728\u5176\u4ed6\u4f5c\u7528\u57df\u5185\uff0c\u4f1a\u62a5\u9519\u3002 function foo () { export default 'bar' // SyntaxError } foo () 4.Import \u00b6 export\u5b9a\u4e49\u4e86\u6a21\u5757\u7684\u5bf9\u5916\u63a5\u53e3\u540e\uff0c\u5176\u4ed6JS\u6587\u4ef6\u5c31\u53ef\u4ee5\u901a\u8fc7import\u6765\u52a0\u8f7d\u8fd9\u4e2a\u6a21\u5757\uff0c // main.js import { firstName , lastName , year } from './profile' ; function setName ( element ) { element . textContent = firstName + ' ' + lastName ; } import\u547d\u4ee4\u63a5\u53d7\u4e00\u5bf9\u5927\u62ec\u53f7\uff0c\u91cc\u9762\u6307\u5b9a\u8981\u4ece\u5176\u4ed6\u6a21\u5757\u5bfc\u5165\u7684\u53d8\u91cf\u540d\uff0c \u5fc5\u987b\u4e0e\u88ab\u5bfc\u5165\u6a21\u5757\uff08profile.js\uff09\u5bf9\u5916\u63a5\u53e3\u7684\u540d\u79f0\u76f8\u540c \u3002 \u5982\u679c\u60f3\u91cd\u65b0\u7ed9\u5bfc\u5165\u7684\u53d8\u91cf\u4e00\u4e2a\u540d\u5b57\uff0c\u53ef\u4ee5\u7528as\u5173\u952e\u5b57\uff0c import { lastName as surname } from './profile' ; import\u540e\u7684from \u53ef\u4ee5\u6307\u5b9a\u9700\u8981\u5bfc\u5165\u6a21\u5757\u7684\u8def\u5f84\u540d\uff0c\u53ef\u4ee5\u662f\u7edd\u5bf9\u8def\u5f84\uff0c\u4e5f\u53ef\u4ee5\u662f\u76f8\u5bf9\u8def\u5f84\uff0c .js\u8def\u5f84\u53ef\u4ee5\u7701\u7565\uff0c\u5982\u679c\u53ea\u6709\u6a21\u5757\u540d\uff0c\u4e0d\u5e26\u6709\u8def\u5f84\uff0c\u9700\u8981\u6709\u914d\u7f6e\u6587\u4ef6\u6307\u5b9a\u3002 \u6ce8\u610f\uff0c import \u547d\u4ee4\u5177\u6709**\u63d0\u5347\u6548\u679c**\uff0c\u4f1a\u63d0\u5347\u5230\u6574\u4e2a\u6a21\u5757\u7684\u5934\u90e8\uff0c\u9996\u5148\u6267\u884c\u3002\uff08\u662f\u5728\u7f16\u8bd1\u9636\u6bb5\u6267\u884c\u7684\uff09 \u56e0\u4e3aimport\u662f\u9759\u6001\u6267\u884c\u7684\uff0c\u4e0d\u80fd\u4f7f\u7528\u8868\u8fbe\u5f0f\u548c\u53d8\u91cf\uff0c\u5373\u5728\u8fd0\u884c\u65f6\u624d\u80fd\u62ff\u5230\u7ed3\u679c\u7684\u8bed\u6cd5\u7ed3\u6784\uff08e.g. if...else...\uff09 5.module\u7684\u6574\u4f53\u52a0\u8f7d \u00b6 \u9664\u4e86\u6307\u5b9a\u52a0\u8f7d\u67d0\u4e2a\u8f93\u51fa\u503c\uff0c\u8fd8\u53ef\u4ee5\u7528\uff08*\uff09\u6307\u5b9a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6240\u6709\u7684\u53d8\u91cf\u90fd\u4f1a\u52a0\u8f7d\u5728\u8fd9\u4e2a\u5bf9\u8c61\u4e0a\u3002 // circle.js\u3002\u8f93\u51fa\u4e24\u4e2a\u51fd\u6570 export function area ( radius ) { return Math . PI * radius * radius ; } export function circumference ( radius ) { return 2 * Math . PI * radius ; } // main.js \u52a0\u8f7d\u5728\u4e2a\u6a21\u5757 import { area , circumference } from './circle' ; console . log ( '\u5706\u9762\u79ef\uff1a' + area ( 4 )); console . log ( '\u5706\u5468\u957f\uff1a' + circumference ( 14 )); //\u4e0a\u9762\u5199\u6cd5\u662f\u9010\u4e00\u6307\u5b9a\u8981\u52a0\u8f7d\u7684\u65b9\u6cd5\uff0c\u6574\u4f53\u52a0\u8f7d\u7684\u5199\u6cd5\u5982\u4e0b\u3002 import * as circle from './circle' ; console . log ( '\u5706\u9762\u79ef\uff1a' + circle . area ( 4 )); console . log ( '\u5706\u5468\u957f\uff1a' + circle . circumference ( 14 )); \u6ce8\u610f\uff0c\u6a21\u5757\u6574\u4f53\u52a0\u8f7d\u6240\u5728\u7684\u90a3\u4e2a\u5bf9\u8c61\uff08\u4e0a\u4f8b\u662f circle \uff09\uff0c\u5e94\u8be5\u662f\u53ef\u4ee5**\u9759\u6001\u5206\u6790\u7684**\uff0c\u6240\u4ee5\u4e0d\u5141\u8bb8\u8fd0\u884c\u65f6\u6539\u53d8\u3002 import * as circle from './circle' ; // \u4e0b\u9762\u4e24\u884c\u90fd\u662f\u4e0d\u5141\u8bb8\u7684 circle . foo = 'hello' ; circle . area = function () {}; 6.export default \u00b6 \u4e4b\u524d\u7684\u4f8b\u5b50\u4e2d\uff0c\u4f7f\u7528import\u5bfc\u5165\u65f6\uff0c\u90fd\u9700\u8981\u77e5\u9053\u6a21\u5757\u4e2d\u6240\u8981\u52a0\u8f7d\u7684\u53d8\u91cf\u540d\u6216\u51fd\u6570\u540d\uff0c\u7528\u6237\u53ef\u80fd\u4e0d\u60f3\u9605\u8bfb\u6e90\u7801\uff0c\u53ea\u60f3\u76f4\u63a5\u4f7f\u7528\u63a5\u53e3\uff0c\u5c31\u53ef\u4ee5\u7528export default\u547d\u4ee4\uff0c\u4e3a\u6a21\u5757\u6307\u5b9a\u8f93\u51fa // export-default.js export default function () { console . log ( 'foo' ); } \u5176\u4ed6\u6a21\u5757\u52a0\u8f7d\u8be5\u6a21\u5757\u65f6\uff0c import \u547d\u4ee4\u53ef\u4ee5\u4e3a\u8be5\u533f\u540d\u51fd\u6570\u6307\u5b9a\u4efb\u610f\u540d\u5b57\u3002 // import-default.js import customName from './export-default' ; customName (); // 'foo' export default\u4e5f\u53ef\u4ee5\u7528\u4e8e\u975e\u533f\u540d\u51fd\u6570\u524d\u3002 \u4e0b\u9762\u6bd4\u8f83\u4e00\u4e0b\u9ed8\u8ba4\u8f93\u51fa\u548c\u6b63\u5e38\u8f93\u51fa\u3002 // \u7b2c\u4e00\u7ec4 export default function crc32 () { // \u8f93\u51fa // ... } import crc32 from 'crc32' ; // \u8f93\u5165 // \u7b2c\u4e8c\u7ec4 export function crc32 () { // \u8f93\u51fa // ... }; import { crc32 } from 'crc32' ; // \u8f93\u5165 \u53ef\u4ee5\u770b\u51fa\uff0c \u4f7f\u7528export default\u65f6\uff0cimport\u8bed\u53e5\u4e0d\u7528\u4f7f\u7528\u5927\u62ec\u53f7 \u3002 import \u548c export \u547d\u4ee4\u53ea\u80fd\u5728\u6a21\u5757\u7684\u9876\u5c42\uff0c\u4e0d\u80fd\u5728\u4ee3\u7801\u5757\u4e4b\u4e2d\u3002\u5426\u5219\u4f1a\u8bed\u6cd5\u62a5\u9519\u3002 \u8fd9\u6837\u7684\u8bbe\u8ba1\uff0c\u53ef\u4ee5\u63d0\u9ad8\u7f16\u8bd1\u5668\u6548\u7387\uff0c\u4f46\u662f\u6ca1\u6709\u529e\u6cd5\u5b9e\u73b0\u8fd0\u884c\u65f6\u52a0\u8f7d\u3002 \u56e0\u4e3arequire\u662f\u8fd0\u884c\u65f6\u52a0\u8f7d\uff0c\u6240\u4ee5import\u547d\u4ee4\u6ca1\u6709\u529e\u6cd5\u4ee3\u66ffrequire\u7684\u52a8\u6001\u52a0\u8f7d\u529f\u80fd\u3002 \u6240\u4ee5\u5f15\u5165\u4e86**import()\u51fd\u6570**\u3002\u5b8c\u6210\u52a8\u6001\u52a0\u8f7d\u3002 import ( specifier ) specifier\u7528\u6765\u6307\u5b9a\u6240\u8981\u52a0\u8f7d\u7684\u6a21\u5757\u7684\u4f4d\u7f6e\u3002import\u80fd\u63a5\u53d7\u4ec0\u4e48\u53c2\u6570\uff0cimport()\u53ef\u4ee5\u63a5\u53d7\u540c\u6837\u7684\u53c2\u6570\u3002 import()\u8fd4\u56de\u4e00\u4e2aPromise\u5bf9\u8c61\u3002 const main = document . querySelector ( 'main' ); import ( `./section-modules/ ${ someVariable } .js` ). then ( module => { module . loadPageInto ( main ); }). catch ( err => { main . textContent = err . message ; }); 7.import()\u51fd\u6570\u9002\u7528\u573a\u5408 1\uff09\u6309\u9700\u52a0\u8f7d\uff1a button . addEventListener ( 'click' , event => { import ( './dialogBox.js' ). then ( dialogBox => { dialogBox . open (); }). catch ( error => { /* Error handling */ }) }); above\uff1a import\u6a21\u5757\u5728\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u4e2d\uff0c\u53ea\u6709\u7528\u6237\u70b9\u51fb\u4e86\u6309\u94ae\uff0c\u624d\u4f1a\u52a0\u8f7d\u8fd9\u4e2a\u6a21\u5757\uff08\u5f88\u5c11\u8fd9\u6837\u5199\uff09\u3002 2\uff09\u6761\u4ef6\u52a0\u8f7d\uff1a import()\u53ef\u4ee5\u653e\u5728if...else\u8bed\u53e5\u4e2d\uff0c\u5b9e\u73b0\u6761\u4ef6\u52a0\u8f7d\u3002 if ( condition ) { import ( 'moduleA' ). then (...); } else { import ( 'moduleB' ). then (...); }","title":"ES6-\u962e\u4e00\u5cf0.md"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#es6","text":"","title":"ES6\u8865\u5145"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#0es6","text":"\u65b9\u6cd5\u4e00\uff1a\u5f15\u5165\u6587\u4ef6\u76f8\u5173js\u6587\u4ef6 < script src = \"traceur.js\" ></ script > < script src = \"bootstrap.js\" ></ script > < script type = \"module\" > //code \u8fd9\u91cc\u5199\u4f60\u7684jsx\u4ee3\u7801 </ script > \u6ce8\u610f\uff1a\u4e25\u683c\u6a21\u5f0f('use strict')\uff0c\u6ce8\u610f\u683c\u5f0f\u3002","title":"0.\u6d4f\u89c8\u5668\u4e2d\u7684ES6"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#1letconst","text":"\u4f18\u5148\u4f7f\u7528\u5e38\u91cf(const)\u3002let \u5b9a\u4e49\u53d8\u91cf \uff0c\u6709\u5757\u7ea7\u522b\u4f5c\u7528\u57df\uff08\u53ea\u5728\u672c\u5757\u6709\u7528\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u7684\uff09 \u6ce8\u610f\uff1a\u5728\u540c\u4e00\u4e2a\u5757\u7ea7\u4f5c\u7528\u57df\u4e2d\uff0clet\u4e0d\u80fd\u91cd\u590d\u5b9a\u4e49\u540c\u4e00\u53d8\u91cf\u3002 const a = 'Tab' ; alert ( a ); // 1.\u4e0d\u80fd\u91cd\u590d\u5b9a\u4e49 // 2.\u5e38\u91cf\u4e0d\u80fd\u4fee\u6539","title":"1.let\u548cconst"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#2","text":"\u65b0\u7684\u201c\u5b57\u7b26\u4e32\u62fc\u63a5\u201d\u65b9\u6cd5\u6bd4\u8f83\u7b80\u5355\uff0c\u6ca1\u6709\u7e41\u7410\u7684\u52a0\u53f7\u548c\u5f15\u53f7\uff0c\u53ea\u9700\u8981\u5728\u6240\u9700\u8981\u7684\u5b57\u7b26\u4e32\u201c\u8fb9\u754c\u201d\u52a0\u4e0a``\u5373\u53ef\u3002 var str1 = `\u6211\u662f ${ name } \uff0c\u4eca\u5e74 ${ age } \u5c81\uff0c\u6027\u522b ${ sex } \u7684\u4e86\uff0c\u7231\u597d ${ hobby } ` ; //\u6ce8\u610f\u6b64\u5904\u6709\u4e24\u4e2a\u201c `` \u201d var str2 = '\u6211\u662f' + name + '\uff0c\u4eca\u5e74' + age + '\u5c81\uff0c\u6027\u522b' + sex + '\uff0c\u7231\u597d' + hobby + '' ; //\u8fd9\u4e2a\u662f\u539f\u6765\u7684\u5199\u6cd5","title":"2.\u6a21\u677f\u5f15\u64ce\uff08\u5b57\u7b26\u4e32\u62fc\u63a5\uff09"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#3","text":"\u5c31\u6839\u636e\u201c\u5bf9\u5e94\u201d\u8d4b\u503c\uff0c\u8bf7\u770b\u4ee5\u4e0b\u51e0\u4e2a\u4f8b\u5b50\uff1a 'use strict' ; let a = 12 ; let b = 5 ; let c = 8 ; let [ a , b , c ] = [ 12 , 5 , 8 ]; console . log ( a , b , c ); //12 5 8 json\u683c\u5f0f\u7684\u8d4b\u503c let { a , b , c } = { a : 12 , b : 5 , c : 8 }; let [ a ,[ b , c ], d ] = [ 12 ,[ 1 , 3 ], 8 ]; \u4e0e\u987a\u5e8f\u65e0\u5173\uff0c\u4e0e\u7ed3\u6784\u6709\u5173\uff08\u5de6\u53f3\u7ed3\u6784\u4e00\u81f4\uff09\uff1a let { a , b , c } = { b : 5 , a : 12 , c : 8 }; console . log ( a , b , c ); //12 5 8 \u5e94\u7528\uff0c\u6211\u4eec\u73b0\u5728\u5229\u7528jsonp\u83b7\u53d6\u4e86\u4e00\u7ec4\u6570\u636e let json = { q : \"aaa\" , p : false , s : [ \"aaa\" ] }; let { s , q } = json ; console . log ( s , q ); //s\u4e3a\u6570\u7ec4\u7684\u6570\u636e\uff0cq\u4e3a\u5b57\u7b26\u4e32aaa \u89e3\u6784\u8d4b\u503c\u7684\u9ed8\u8ba4\u503c\u95ee\u9898 let { time = 1000 , id = 0 } = {}; console . log ( time , id ); // 1000 0","title":"3. \u89e3\u6784\u8d4b\u503c"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#4","text":"\u6570\u7ec4\u6216\u8005\u5bf9\u8c61\u7684\u6df1\u6d45\u62f7\u8d1d\u95ee\u9898\uff0c\u4eca\u5929\u6211\u4eec\u5c31\u5229\u7528es6\u7684\u4e09\u4e2a\u70b9\u6765\u5904\u7406\u4e0b\u3002\u4e0a\u9762\u7684\u4ee3\u7801\u5c31\u662farr2\u4e0earr\u516c\u7528\u4e00\u6bb5\u5185\u5b58\u5730\u5740\uff0c\u6240\u4ee5\u5bfc\u81f4srr2\u6570\u636e\u6539\u53d8\u7684\u65f6\u5019arr\u4e5f\u5fc5\u7136\u4f1a\u53d8\u7684\u3002\u8fd9\u5c31\u662f\u6d45\u62f7\u8d1d\u3002 var arr = [ 12 , 5 , 8 ]; arr2 = arr ; arr2 . pop (); alert ( arr ); // 12 5 \u90a3\u4e48\u6211\u4eec\u4e0b\u9762\u5c31\u7b80\u5355\u7684\u8bf4\u51e0\u79cd\u6df1\u5ea6\u590d\u5236\u6570\u7ec4\u65b9\u5f0f\u3002 \u65b9\u5f0f\u4e00\uff1a\u5229\u7528for\u5faa\u73af\u628a\u539f\u6570\u7ec4\u7684\u6bcf\u4e00\u9879\u90fd\u904d\u5386\uff0c\u7136\u540e\u6254\u5230\u65b0\u7684\u6570\u7ec4\u4e2d\u3002 var arr = [ 12 , 5 , 8 ]; var arr2 = []; for ( var i = 0 ; i < arr . length ; i ++ ){ arr2 . push ( arr [ i ]); } arr2 . pop (); alert ( arr ); // 12 5 8 \u65b9\u5f0f\u4e8c\uff1a\u5229\u7528Array.from(\u539f\u6570\u7ec4); var arr = [ 12 , 5 , 8 ]; var arr2 = Array . from ( arr ); arr2 . pop (); console . log ( arr2 ); // 12 5 console . log ( arr ); // 12 5 8 \u9644\u52a0\uff1aArray.from\u7528\u6cd5 Array.from(arr, [mapfn], [thisArg]) arr\uff1a\u4f2a\u6570\u7ec4\u6216\u8005\u53ef\u4ee5\u904d\u5386\u7684\u5bf9\u8c61(\u5177\u6709length\u5c5e\u6027)\u3002length\u7edd\u5bf9\u591f\u6570\u7ec4\u4f1a\u8f6c\u5316\u6210\u4ec0\u4e48\u6837\u3002from\u4f1a\u6839\u636elength\u5c5e\u6027\u521b\u5efa\u65b0\u7684\u6570\u7ec4\u3002 mapFn\uff1a\u7c7b\u4f3c\u4e8earray.map\u65b9\u6cd5\uff0c\u5bf9\u6570\u7ec4\u5143\u7d20\u8fdb\u884c\u64cd\u4f5c\u540e\u8fd4\u56de\u6570\u7ec4 thisArg: \u5bf9\u4e8ethis\u5173\u952e\u5b57\u7684\u6307\u5411\u3002 \u7528\u9014 1.\u5c06\u5177\u6709length\u7684\u5bf9\u8c61\u8f6c\u5316\u4e3a\u6570\u7ec4 2.\u6570\u7ec4\u6df1\u590d\u5236 3.\u8ba1\u7b97\u5b57\u7b26\u4e32\u771f\u5b9e\u957f\u5ea6Array.from(string).length 4.\u53ef\u4ee5\u63a7\u5236\u51fd\u6570\u6267\u884c\u7684\u6b21\u6570 Array . from ({ length : 3 }, () => { console . log ( '0' ); }); \u65b9\u5f0f\u4e09\uff1a\u6269\u5c55\u8fd0\u7b97\u7b26 var arr = [ 12 , 5 , 8 ]; var arr2 = [... arr ]; \u6211\u4eec\u77e5\u9053\u51fd\u6570\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u96c6\u5408(arguments)\u5e76\u4e0d\u662f\u4e00\u4e2a\u771f\u6b63\u7684\u6570\u7ec4\u3002\u90a3\u4e48\u6211\u4eec\u600e\u4e48\u624d\u80fd\u5728\u8fd9\u4e2aarguments\u4e2d\u52a0\u4e00\u9879\u5462\uff1f\uff1f function show (... arr ){ arr . push ( 8 ); console . log ( arr ); } show ( 12 , 5 ); //12 5 8","title":"4.\u6269\u5c55\u8fd0\u7b97\u7b26"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#5-map","text":"ES6\u63d0\u4f9b\u4e86\u65b0\u7684\u6570\u636e\u7ed3\u6784Map\uff0cMap\u7ed3\u6784\u63d0\u4f9b\u4e86\u201c\u503c\u2014\u503c\u201d\u7684\u5bf9\u5e94\uff0c\u662f\u4e00\u79cd\u66f4\u5b8c\u5584\u7684Hash\u7ed3\u6784\u5b9e\u73b0\u3002\u5982\u679c\u4f60\u9700\u8981\u201c\u952e\u503c\u5bf9\u201d\u7684\u6570\u636e\u7ed3\u6784\uff0cMap\u6bd4Object\u66f4\u5408\u9002\u3002\u5b83\u7c7b\u4f3c\u4e8e\u5bf9\u8c61\uff0c\u4e5f\u662f\u952e\u503c\u5bf9\u7684\u96c6\u5408\uff0c\u4f46\u662f\u201c\u952e\u201d\u7684\u8303\u56f4\u4e0d\u9650\u4e8e\u5b57\u7b26\u4e32\uff0c\u5404\u79cd\u7c7b\u578b\u7684\u503c\uff08\u5305\u62ec\u5bf9\u8c61\uff09\u90fd\u53ef\u4ee5\u5f53\u4f5c\u952e\u3002{\"b\" => \"banana\"}\u5e76\u4e14\u6bcf\u4e00\u9879\u90fd\u5305\u542b\u4e86key\u548cvalue \u6211\u4eec\u6765\u65b0\u5efa\u4e00\u4e2aMap\u5bf9\u8c61\uff0c\u5e76\u4e3a\u5176\u8d4b\u503c\uff1a let map = new Map (); map . set ( 'a' , 'apple' ); map . set ( 'b' , 'banana' ); console . log ( map ); //Map {\"a\" => \"apple\", \"b\" => \"banana\"} console . log ( map . get ( 'b' )); map . delete ( \"a\" ); console . log ( map . size ); //1 console . log ( map . length ); //undefined \u83b7\u53d6Map\u5bf9\u8c61\u91cc\u9762\u7684\u503c\uff08map.get();) \u5220\u9664Map\u5bf9\u8c61\u91cc\u9762\u7684\u503c\uff08map.delete();\uff09 \u83b7\u53d6Map\u5bf9\u8c61\u7684\u201c\u957f\u5ea6\u201d\uff1a(map.size()); \u8fed\u4ee3\u5668\u5bf9\u8c61\uff1amap.entries() let map = new Map (); map . set ( 'a' , 'apple' ); map . set ( 'b' , 'banana' ); console . log ( map . entries ()); // MapIterator {[\"a\", \"apple\"], [\"b\", \"banana\"]} // MDN\u8bf4\u660e: Map.prototype.entries() \u8fd9\u4e2a\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u8fed\u4ee3\u5668\u5bf9\u8c61\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u5143\u7d20\u5305\u542b\u952e\u503c\u5bf9(\u5728\u8fd9\u4e2amap\u5bf9\u8c61\u4e2d\u6309\u7167\u63d2\u5165\u7684\u987a\u5e8f\u8f93\u51fa) // The entries() method returns a new Iterator(\u8fed\u4ee3\u5668) object that contains the [key, value] pairs for each element in the Map object in insertion order. //\u5173\u4e8e\u8fed\u4ee3\u5668(Iterator)\u548c\u751f\u6210\u5668(generator) \u5728ES6\u4e2d\u65b0\u5f15\u5165\uff0c\u5355\u72ec\u5b66\u4e60\u3002 // \u8fed\u4ee3\u5668\u4e2d\u7684\u5143\u7d20\u4e0d\u80fd\u76f4\u63a5\u8bfb\u53d6\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u4e24\u79cd\u65b9\u6cd5\u8fdb\u884c\u8bfb\u53d6\u3002 // \u65b9\u6cd5\u4e00\uff1a let arr = []; let map = new Map (); for ( let [ key , val ] of map . entries ()) { arr . push ([ key , val ]); } // \u65b9\u6cd5\u4e8c\uff1a var map = new Map (); Array . from ( map ); \u904d\u5386Map\u5bf9\u8c61\uff08for...of... \uff09 let map = new Map (); map . set ( 'a' , 'apple' ); map . set ( 'b' , 'banana' ); for ( let name of map ){ console . log ( name ); //[\"a\", \"apple\"] [\"b\", \"banana\"] } //\u5faa\u73af\u51fa\u6765\u7684\u662f\u4ee5\u6570\u7ec4\u5957\u952e\u503c\u5bf9\u7684\u65b9\u5f0f \u5982\u679c\u6211\u4eec\u53ea\u8981Map\u4e2d\u7684\u201c\u503c\u201d\u600e\u4e48\u529e\uff1f let map = new Map (); map . set ( 'a' , 'apple' ); map . set ( 'b' , 'banana' ); for ( let val of map . values ()){ console . log ( val ); //apple banana } \u5982\u679c\u6211\u4eec\u53ea\u8981Map\u4e2d\u7684\u201c\u952e(key)\u201d\u600e\u4e48\u529e\uff1f let map = new Map (); map . set ( 'a' , 'apple' ); map . set ( 'b' , 'banana' ); for ( let key of map . keys ()){ console . log ( key ); // a b } \u5982\u679c\u6211\u4eec\u53ea\u8981Map\u4e2d\u7684\u201c\u952e --- \u503c\u201d\u600e\u4e48\u529e\uff1f let map = new Map (); map . set ( 'a' , 'apple' ); map . set ( 'b' , 'banana' ); for ( let [ key , value ] of map . entries ()){ console . log ( key , value ); //a apple b banana }","title":"5. Map\u5bf9\u8c61"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#6-for","text":"a) for ... in ...\u5faa\u73af //\u5faa\u73af\u6570\u7ec4 let arr = [ 12 , 5 , 8 ]; for ( let i = 0 ; i < arr . length ; i ++ ) { console . log ( i ); //0 1 2 console . log ( arr [ i ]); //12 5 8 } let arr = [ 12 , 5 , 8 ]; for ( let i in arr ) { console . log ( i ); //0 1 2 console . log ( arr [ i ]); //12 5 8 } //\u5faa\u73afjson\u6570\u636e let json = { a : 12 , b : 5 , c : 8 }; for ( let name in json ){ console . log ( name ); //a b c console . log ( json [ name ]); //12 5 8 } b) for ... of ...\u5faa\u73af //\u5faa\u73af\u6570\u7ec4 let arr = [ 12 , 5 , 8 ]; for ( let name of arr ){ console . log ( name ); // 12 5 8 } //\u5faa\u73afjson\u6570\u636e let json = { a : 'apple' , b : 'banana' }; for ( let name of json ){ console . log ( name ); //error } //\u62a5\u9519\uff0c\u56e0\u4e3a\u4e0d\u80fd\u7528for ...of...\u6765\u5faa\u73afjson\u6570\u636e c) \u5220\u9664json\u7684\u67d0\u4e00\u6761\u6570\u636e le t jso n = { a : 12 , b : 5 } ; dele te jso n .a; co ns ole.log(jso n ); // b : 5","title":"6. for\u5faa\u73af"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#7","text":"ES6\u6807\u51c6\u65b0\u589e\u4e86\u4e00\u79cd\u65b0\u7684\u51fd\u6570\uff1aArrow Function\uff08\u7bad\u5934\u51fd\u6570\uff09\u3002 \u6211\u4eec\u5148\u56de\u987e\u4e0bES5\u51fd\u6570\u5b9a\u4e49\u4e0e\u8c03\u7528\uff1a var show = function (){ alert ( 12 ); }; show (); // 12 const show = ( num1 , num2 ) =>{ alert ( num1 + num2 ); }; show ( 1 , 11 ); // 12 a) \u51fd\u6570\u6709\u8fd4\u56de\u503c //ES5\u51fd\u6570\u5199\u6cd5 var sum = function ( a , b ){ return a + b ; } alert ( sum ( 12 , 5 )); //ES6\u51fd\u6570\u5199\u6cd5 let sum = ( a , b ) => { return a + b ; } alert ( sum ( 12 , 5 )); //\u8fdb\u5316\u4e00\u4e0b --- \u7701\u7565\u82b1\u62ec\u53f7 let sum = ( a , b ) => a + b ; alert ( sum ( 12 , 5 )); b) \u53c2\u6570\u662f1\u4e2a var show = function ( a ){ return 'welcome' } //\u76f8\u5f53\u4e8e \u7701\u7565\u62ec\u53f7 var show = a => 'welcome' c) \u53c2\u6570\u662f0\u4e2a var show = function (){ return 'welcome' } //\u76f8\u5f53\u4e8e \u7701\u7565\u62ec\u53f7 var show = () => 'welcome' \u6ce8\u610f\uff1a\u7bad\u5934\u51fd\u6570\u4e0b \uff0carguments \u4e0d\u80fd\u4f7f\u7528\u4e86 var show = ( a , b ) => console . log ( this . arguments ); // \u62a5\u9519 \u6570\u7ec4\u6392\u5e8f var arr = [ 12 , 55 , 8 ]; //es5\u5199\u6cd5 arr . sort ( function ( n1 , n2 ){ return n1 - n2 ; }); //es6\u5199\u6cd5 arr . sort (( n1 , n2 ) => n1 - n2 ); alert ( arr );","title":"7. \u7bad\u5934\u51fd\u6570"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#8","text":"","title":"8. \u9762\u5411\u5bf9\u8c61"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#a","text":"let name = 'Datura' ; let age = 18 ; let person = { name , age , sex : 'Man' , showName : function (){ return this . name }, showAge : function (){ return this . age } }; alert ( person . showAge ()); //18 alert ( person . sex ); //Man","title":"a) \u5355\u4f8b\u6a21\u5f0f\uff08\u5355\u4f53\u6a21\u5f0f\uff09"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#b","text":"","title":"b) \u5de5\u5382\u6a21\u5f0f"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#es5","text":"\u9996\u5148\u8ba9\u6211\u4eec\u4e00\u8d77\u6765\u56de\u4e00\u4e0bes5\u9762\u5411\u5bf9\u8c61\u7684\u5199\u6cd5\uff1a i) \u9996\u5148\u5b9a\u4e49\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff08\u6b64\u5904\u662f Person\uff09\uff1b ii) \u5b9a\u4e49Person\u7684\u201c\u5c5e\u6027\u201d\uff0c\u7528this.xxx = xxx\uff1b iii) \u628a\u65b9\u6cd5\u6302\u5728\u539f\u578b\u4e0a\uff0cPerson.prototype.xxx = function(){ xxx }\uff1b iiii) \u8c03\u7528 function Person ( name , age ){ this . name = name ; this . age = age ; } Person . prototype . showName = function () { return this . name ; }; Person . prototype . showAge = function () { return this . age ; }; var p1 = new Person ( 'alice' , 18 ); alert ( p1 . showAge ()); //18","title":"es5\u7684\u9762\u5411\u5bf9\u8c61\u5de5\u5382\u6a21\u5f0f\uff1a"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#es5_1","text":"//\u5b9a\u4e49\u4e00\u4e2aPerson\u6784\u9020\u51fd\u6570 function Person ( name , age ){ this . name = name ; this . age = age ; } Person . prototype . showName = function (){ return this . name ; }; Person . prototype . showAge = function (){ return this . age ; }; //Worker\u6784\u9020\u51fd\u6570 //\u7ee7\u627f\u5c5e\u6027 function Worker ( name , age , job ) { //\u6539\u53d8this\u6307\u5411\uff0c\u7ee7\u627fPerson\u7684\u5c5e\u6027 Person . apply ( this , arguments ); //\u5b9a\u4e49worker\u65b0\u7684\u5c5e\u6027 this . job = job ; } //\u7ee7\u627f\u65b9\u6cd5 Worker . prototype = new Person (); //\u7ed9worker\u6307\u5b9a\u201c\u4eb2\u7239\u201d Worker . prototype . construcotr = Worker ; //\u5b9a\u4e49worker\u65b0\u7684\u65b9\u6cd5 Person . prototype . showJob = function (){ return this . job ; }; //\u8c03\u7528 var p2 = new Worker ( 'Datura' , 20 , 'boss' ); alert ( p2 . showName ()); //Datura alert ( p2 . showJob ()); //boss","title":"es5\u7ee7\u627f\uff1a"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#es6_1","text":"i) \u9996\u5148\u5b9a\u4e49\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff08\u6b64\u5904\u662f Person\uff09\uff0c\u6ce8\u610f\u7528class\u5173\u952e\u5b57\u800c\u4e0d\u662ffunction\uff1b ii) \u5b9a\u4e49Person\u7684\u201c\u5c5e\u6027\u201d\uff0c\u5199\u5728constructor(){this.xxx = xxx }\uff1b iii) \u5b9a\u4e49\u65b9\u6cd5\uff0cxxx () { xxx }\uff1b iiii) \u8c03\u7528 iiiii) \u6ce8\u610fconstructor\u548c\u65b9\u6cd5\u4e4b\u95f4\u6ca1\u6709\u201c;\u201d\uff0c\u53ef\u4ee5\u7ed9\u5c5e\u6027\u521d\u59cb\u503c\u6216\u9ed8\u8ba4\u503c class Person { constructor ( name , age = 25 ){ //\u53ef\u4ee5\u7ed9\u5c5e\u6027\u521d\u59cb\u503c\u6216\u9ed8\u8ba4\u503c,\u6b63\u5e38es\u7684function\u51fd\u6570\u4e5f\u53ef\u4ee5\u7ed9\u9ed8\u8ba4\u503c this . name = name ; this . age = age ; } showName (){ return this . name ; } showAge (){ return this . age ; } } var p1 = new Person ( 'alice' , 18 ); alert ( p1 . showAge ()); // 18","title":"es6\u7684\u9762\u5411\u5bf9\u8c61\u5de5\u5382\u6a21\u5f0f"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#es6_2","text":"//\u7236\u7c7b\u6784\u9020\u51fd\u6570Person class Person { constructor ( name , age ){ this . name = name ; this . age = age ; } showName (){ return this . name ; } showAge (){ return this . age ; } } //\u5b50\u7c7b\u7ee7\u627f\u7236\u7c7b class Worker extends Person { constructor ( name , age , job = '\u642c\u7816\u7684' ){ //\u7ee7\u627f\u7236\u7c7b\u5c5e\u6027\uff0c\u5e76\u65b0\u52a0\u5c5e\u6027\u7ed9\u9ed8\u8ba4\u503c super ( name , age ); //\u8fd9\u91cc\u5fc5\u987b\u4f20\u53c2\uff0c\u4e5f\u5c31\u662f\u9700\u8981\u628a\u539f\u6765\u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\u4f20\u5165\u3002 //\u5b50\u7c7b\u5fc5\u987b\u5728constructor\u65b9\u6cd5\u4e2d\u8c03\u7528super\u65b9\u6cd5\uff0c\u5426\u5219\u65b0\u5efa\u5b9e\u4f8b\u65f6\u4f1a\u62a5\u9519\u3002 //\u8fd9\u662f\u56e0\u4e3a\u5b50\u7c7b\u6ca1\u6709\u81ea\u5df1\u7684this\u5bf9\u8c61\uff0c\u800c\u662f\u7ee7\u627f\u7236\u7c7b\u7684this\u5bf9\u8c61\uff0c\u7136\u540e\u5bf9\u5176\u8fdb\u884c\u52a0\u5de5\u3002\u5982\u679c\u4e0d\u8c03\u7528super\u65b9\u6cd5\uff0c\u5b50\u7c7b\u5c31\u5f97\u4e0d\u5230this\u5bf9\u8c61\u3002 this . job = job ; } //\u7ed9\u5b50\u7c7b\u5b9a\u4e49\u65b0\u65b9\u6cd5showJob showJob (){ return this . job ; } } //\u8c03\u7528 var w1 = new Worker ( 'rose' , 17 ); alert ( w1 . showJob ()); alert ( w1 . showName ());","title":"es6\u7ee7\u627f\uff1a"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#9","text":"\u6ce8\u610f\uff1a\u76ee\u524d\u8fd8\u6ca1\u6709\u6d4f\u89c8\u5668\u652f\u6301\u6a21\u5757\u5316 \u7b2c\u4e09\u65b9\uff1aseajs require.js \u6a21\u5757\u5316\u5de5\u5177 \u90a3\u4e48\u6211\u4eec\u6765\u5b66\u4e60\u4e0b,es6\u81ea\u5e26\u7684\u6a21\u5757\u5316 a ). \u5bfc\u51fa \uff0c \u5c06\u53d8\u91cfa \u201c \u66b4\u9732 \u201d \u51fa\u53bb const a = 12 ; export default a ; b ). \u5bfc\u51651 . js\u6587\u4ef6 \u201c \u66b4\u9732 \u201d \u7684\u4e1c\u897f \uff0c \u5e76\u7528modA \u63a5\u6536 import modA from './1.js' ; (. / \u4ee3\u8868\u540c\u7ea7\u76ee\u5f55\u4e0b ) c ). \u540c\u4e00\u4e2a\u6a21\u5757\u5bfc\u51fa\u591a\u4e2a\u503c export default { a : 12 , b : 5 }; d ). \u4e0d\u540c\u6a21\u5757\u95f4\u7684\u5f15\u5165 import modA from './mod1.js' ; import modB from './mod2.js' ; let sum = modA + modB ; export default sum ; \u5b9e\u4f8b\uff1a //mod1.js\u6587\u4ef6\u7684\u5185\u5bb9 const a = 12 ; export default a ; //mod2.js\u6587\u4ef6\u7684\u5185\u5bb9 const b = 5 ; export default c ; //\u4e3b\u5165\u53e3\uff08\u6a21\u5757\uff09\u7684\u5185\u5bb9 < script src = \"traceur.js\" ></ script > < script src = \"bootstrap.js\" ></ script > < script type = \"module\" > import modA from './mod1.js' ; import modB from './mod2.js' ; alert ( modA + modB ); //17 </ script > \u4e00\u4e2a\u5b50\u6a21\u5757\u201c\u66b4\u9732\u201d\u4e00\u4e2ajson\u6570\u636e //mod3.js\u6587\u4ef6\u7684\u5185\u5bb9 export default { a : 12 , b : 5 }; //\u4e3b\u5165\u53e3\uff08\u6a21\u5757\uff09\u7684\u5185\u5bb9 import modA from './mod3.js' ; console . log ( modA . a + modA . b ); // 17 \u5728\u7814\u7a76react\u548cwebpack\u7684\u65f6\u5019\uff0c\u7ecf\u5e38\u770b\u5230\u5728js\u6587\u4ef6\u4e2d\u51fa\u73b0require\uff0c\u8fd8\u6709import\uff0c\u8fd9\u4e24\u4e2a\u90fd\u662f\u4e3a\u4e86JS\u6a21\u5757\u5316\u7f16\u7a0b\u4f7f\u7528\u3002CSS\u7684\u662f**@import**","title":"9. \u6a21\u5757\u5316"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#1","text":"ES6 \u6a21\u5757\u7684\u8bbe\u8ba1\u601d\u60f3\uff0c\u662f\u5c3d\u91cf\u7684\u9759\u6001\u5316\uff0c\u4f7f\u5f97\u7f16\u8bd1\u65f6\u5c31\u80fd\u786e\u5b9a\u6a21\u5757\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u4ee5\u53ca\u8f93\u5165\u548c\u8f93\u51fa\u7684\u53d8\u91cf\u3002 Require\u662fCommonJS\u7684\u8bed\u6cd5\uff0cCommonJS\u7684\u6a21\u5757\u662f\u5bf9\u8c61\uff0c\u8f93\u5165\u65f6\u5fc5\u987b\u67e5\u627e\u5bf9\u8c61\u5c5e\u6027\u3002 // CommonJS\u6a21\u5757 let { stat , exists , readFile } = require ( 'fs' ); // \u7b49\u540c\u4e8e let _fs = require ( 'fs' ); let stat = _fs . stat ; let exists = _fs . exists ; let readfile = _fs . readfile ; above\uff1a\u6574\u4f53\u52a0\u8f7dfs\u6a21\u5757\uff08\u5373\u52a0\u8f7dfs\u6240\u6709\u65b9\u6cd5\uff09\uff0c\u751f\u6210\u4e00\u4e2a\u5bf9\u8c61\"_fs\"\uff0c\u7136\u540e\u518d\u4ece\u8fd9\u4e2a\u5bf9\u8c61\u4e0a\u8bfb\u53d6\u4e09\u4e2a\u65b9\u6cd5\uff0c\u8fd9\u53eb\u201c\u8fd0\u884c\u65f6\u52a0\u8f7d\u201d\uff0c\u56e0\u4e3a\u53ea\u6709\u8fd0\u884c\u65f6\u624d\u80fd\u5f97\u5230\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u4e0d\u80fd\u5728\u7f16\u8bd1\u65f6\u505a\u5230\u9759\u6001\u5316\u3002 ES6\u6a21\u5757\u4e0d\u662f\u5bf9\u8c61\uff0c\u800c\u662f\u901a\u8fc7export\u547d\u4ee4\u663e\u793a\u6307\u5b9a\u8f93\u51fa\u4ee3\u7801\uff0c\u518d\u901a\u8fc7import\u8f93\u5165\u3002 import { stat , exists , readFile } from 'fs' ; above\uff1a\u4ecefs\u52a0\u8f7d\u201cstat, exists, readFile\u201d \u4e09\u4e2a\u65b9\u6cd5\uff0c\u5176\u4ed6\u65b9\u6cd5\u4e0d\u52a0\u8f7d","title":"1.\u9759\u6001\u5316"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#2_1","text":"ES6\u6a21\u5757\u9ed8\u8ba4\u4f7f\u7528\u4e25\u683c\u6a21\u5f0f\uff0c\u65e0\u8bba\u662f\u5426\u58f0\u660e\u201cuse strict\u201d ES6 \u6a21\u5757\u4e4b\u4e2d\uff0c\u9876\u5c42\u7684**this**\u6307\u5411 undefined \uff0c\u5373\u4e0d\u5e94\u8be5\u5728\u9876\u5c42\u4ee3\u7801\u4f7f\u7528 this \u3002 Module \u4e3b\u8981\u7531\u4e24\u4e2a\u547d\u4ee4\u7ec4\u6210\uff0cimport\u548cexport\uff0cexport\u7528\u4e8e\u89c4\u5b9a\u6a21\u5757\u7684\u5bf9\u5916\u63a5\u53e3\uff0cimport\u547d\u4ee4\u7528\u4e8e\u8f93\u5165\u5176\u4ed6\u6a21\u5757\u63d0\u4f9b\u7684\u529f\u80fd","title":"2.\u4e25\u683c\u6a21\u5f0f"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#3export","text":"\u6a21\u5757\u662f\u72ec\u7acb\u7684\u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u5185\u90e8\u7684\u6240\u6709\u7684\u53d8\u91cf\u5916\u90e8\u90fd\u65e0\u6cd5\u83b7\u53d6\u3002\u5982\u679c\u5e0c\u671b\u83b7\u53d6\u67d0\u4e2a\u53d8\u91cf\uff0c\u5fc5\u987b\u901a\u8fc7export\u8f93\u51fa\uff0c // profile.js export var firstName = 'Michael' ; export var lastName = 'Jackson' ; export var year = 1958 ; \u6216\u8005\u7528\u66f4\u597d\u7684\u65b9\u5f0f\uff1a\u7528\u5927\u62ec\u53f7\u6307\u5b9a\u8981\u8f93\u51fa\u7684\u4e00\u7ec4\u53d8\u91cf // profile.js var firstName = 'Michael' ; var lastName = 'Jackson' ; var year = 1958 ; export { firstName , lastName , year }; \u9664\u4e86\u8f93\u51fa\u53d8\u91cf\uff0c\u8fd8\u53ef\u4ee5\u8f93\u51fa\u51fd\u6570\u6216\u8005\u7c7b\uff08class\uff09\uff0c export function multiply ( x , y ) { return x * y ; }; \u8fd8\u53ef\u4ee5\u6279\u91cf\u8f93\u51fa\uff0c\u540c\u6837\u662f\u8981\u5305\u542b\u5728\u5927\u62ec\u53f7\u91cc\uff0c\u4e5f\u53ef\u4ee5\u7528as\u91cd\u547d\u540d\uff1a function v1 () { ... } function v2 () { ... } export { v1 as streamV1 , v2 as streamV2 , v2 as streamLatestVersion }; Attention: export \u547d\u4ee4\u89c4\u5b9a\u7684\u662f\u5bf9\u5916\u63a5\u53e3\uff0c\u5fc5\u987b\u4e0e\u6a21\u5757\u5185\u90e8\u53d8\u91cf\u5efa\u7acb\u4e00\u4e00\u5bf9\u5e94\u7684\u5173\u7cfb // \u5199\u6cd5\u4e00 export var m = 1 ; // \u5199\u6cd5\u4e8c var m = 1 ; export { m }; // \u5199\u6cd5\u4e09 var n = 1 ; export { n as m }; // \u62a5\u9519 export 1 ; // \u62a5\u9519 var m = 1 ; export m ; \u62a5\u9519\u7684\u5199\u6cd5\u539f\u56e0\u662f\uff1a\u6ca1\u6709\u63d0\u4f9b\u5bf9\u5916\u7684\u63a5\u53e3\uff0c\u7b2c\u4e00\u79cd\u76f4\u63a5\u8f93\u51fa1\uff0c\u7b2c\u4e8c\u79cd\u867d\u7136\u6709\u53d8\u91cfm\uff0c\u4f46\u8fd8\u662f\u76f4\u63a5\u8f93\u51fa1\uff0c\u5bfc\u81f4\u65e0\u6cd5\u89e3\u6784\u3002 \u540c\u6837\u7684\uff0c function \u548c class \u7684\u8f93\u51fa\uff0c\u4e5f\u5fc5\u987b\u9075\u5b88\u8fd9\u6837\u7684\u5199\u6cd5\u3002 // \u62a5\u9519 function f () {} export f ; // \u6b63\u786e export function f () {}; // \u6b63\u786e function f () {} export { f }; And\uff1aexport\u8bed\u53e5\u8f93\u51fa\u7684\u63a5\u53e3\uff0c\u90fd\u662f\u548c\u5176\u5bf9\u5e94\u7684\u503c\u662f\u52a8\u6001\u7ed1\u5b9a\u7684\u5173\u7cfb\uff0c\u5373\u901a\u8fc7\u8be5\u63a5\u53e3\u53d6\u5230\u7684\u90fd\u662f\u6a21\u5757\u5185\u90e8\u5b9e\u65f6\u7684\u503c\u3002 \u4f4d\u7f6e\uff1aexport\u6a21\u5757\u53ef\u4ee5\u4f4d\u4e8e\u6a21\u5757\u4e2d\u7684\u4efb\u4f55\u4f4d\u7f6e\uff0c\u4f46\u662f\u5fc5\u987b\u662f\u5728\u6a21\u5757\u9876\u5c42\uff0c\u5982\u679c\u5728\u5176\u4ed6\u4f5c\u7528\u57df\u5185\uff0c\u4f1a\u62a5\u9519\u3002 function foo () { export default 'bar' // SyntaxError } foo ()","title":"3.Export"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#4import","text":"export\u5b9a\u4e49\u4e86\u6a21\u5757\u7684\u5bf9\u5916\u63a5\u53e3\u540e\uff0c\u5176\u4ed6JS\u6587\u4ef6\u5c31\u53ef\u4ee5\u901a\u8fc7import\u6765\u52a0\u8f7d\u8fd9\u4e2a\u6a21\u5757\uff0c // main.js import { firstName , lastName , year } from './profile' ; function setName ( element ) { element . textContent = firstName + ' ' + lastName ; } import\u547d\u4ee4\u63a5\u53d7\u4e00\u5bf9\u5927\u62ec\u53f7\uff0c\u91cc\u9762\u6307\u5b9a\u8981\u4ece\u5176\u4ed6\u6a21\u5757\u5bfc\u5165\u7684\u53d8\u91cf\u540d\uff0c \u5fc5\u987b\u4e0e\u88ab\u5bfc\u5165\u6a21\u5757\uff08profile.js\uff09\u5bf9\u5916\u63a5\u53e3\u7684\u540d\u79f0\u76f8\u540c \u3002 \u5982\u679c\u60f3\u91cd\u65b0\u7ed9\u5bfc\u5165\u7684\u53d8\u91cf\u4e00\u4e2a\u540d\u5b57\uff0c\u53ef\u4ee5\u7528as\u5173\u952e\u5b57\uff0c import { lastName as surname } from './profile' ; import\u540e\u7684from \u53ef\u4ee5\u6307\u5b9a\u9700\u8981\u5bfc\u5165\u6a21\u5757\u7684\u8def\u5f84\u540d\uff0c\u53ef\u4ee5\u662f\u7edd\u5bf9\u8def\u5f84\uff0c\u4e5f\u53ef\u4ee5\u662f\u76f8\u5bf9\u8def\u5f84\uff0c .js\u8def\u5f84\u53ef\u4ee5\u7701\u7565\uff0c\u5982\u679c\u53ea\u6709\u6a21\u5757\u540d\uff0c\u4e0d\u5e26\u6709\u8def\u5f84\uff0c\u9700\u8981\u6709\u914d\u7f6e\u6587\u4ef6\u6307\u5b9a\u3002 \u6ce8\u610f\uff0c import \u547d\u4ee4\u5177\u6709**\u63d0\u5347\u6548\u679c**\uff0c\u4f1a\u63d0\u5347\u5230\u6574\u4e2a\u6a21\u5757\u7684\u5934\u90e8\uff0c\u9996\u5148\u6267\u884c\u3002\uff08\u662f\u5728\u7f16\u8bd1\u9636\u6bb5\u6267\u884c\u7684\uff09 \u56e0\u4e3aimport\u662f\u9759\u6001\u6267\u884c\u7684\uff0c\u4e0d\u80fd\u4f7f\u7528\u8868\u8fbe\u5f0f\u548c\u53d8\u91cf\uff0c\u5373\u5728\u8fd0\u884c\u65f6\u624d\u80fd\u62ff\u5230\u7ed3\u679c\u7684\u8bed\u6cd5\u7ed3\u6784\uff08e.g. if...else...\uff09","title":"4.Import"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#5module","text":"\u9664\u4e86\u6307\u5b9a\u52a0\u8f7d\u67d0\u4e2a\u8f93\u51fa\u503c\uff0c\u8fd8\u53ef\u4ee5\u7528\uff08*\uff09\u6307\u5b9a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6240\u6709\u7684\u53d8\u91cf\u90fd\u4f1a\u52a0\u8f7d\u5728\u8fd9\u4e2a\u5bf9\u8c61\u4e0a\u3002 // circle.js\u3002\u8f93\u51fa\u4e24\u4e2a\u51fd\u6570 export function area ( radius ) { return Math . PI * radius * radius ; } export function circumference ( radius ) { return 2 * Math . PI * radius ; } // main.js \u52a0\u8f7d\u5728\u4e2a\u6a21\u5757 import { area , circumference } from './circle' ; console . log ( '\u5706\u9762\u79ef\uff1a' + area ( 4 )); console . log ( '\u5706\u5468\u957f\uff1a' + circumference ( 14 )); //\u4e0a\u9762\u5199\u6cd5\u662f\u9010\u4e00\u6307\u5b9a\u8981\u52a0\u8f7d\u7684\u65b9\u6cd5\uff0c\u6574\u4f53\u52a0\u8f7d\u7684\u5199\u6cd5\u5982\u4e0b\u3002 import * as circle from './circle' ; console . log ( '\u5706\u9762\u79ef\uff1a' + circle . area ( 4 )); console . log ( '\u5706\u5468\u957f\uff1a' + circle . circumference ( 14 )); \u6ce8\u610f\uff0c\u6a21\u5757\u6574\u4f53\u52a0\u8f7d\u6240\u5728\u7684\u90a3\u4e2a\u5bf9\u8c61\uff08\u4e0a\u4f8b\u662f circle \uff09\uff0c\u5e94\u8be5\u662f\u53ef\u4ee5**\u9759\u6001\u5206\u6790\u7684**\uff0c\u6240\u4ee5\u4e0d\u5141\u8bb8\u8fd0\u884c\u65f6\u6539\u53d8\u3002 import * as circle from './circle' ; // \u4e0b\u9762\u4e24\u884c\u90fd\u662f\u4e0d\u5141\u8bb8\u7684 circle . foo = 'hello' ; circle . area = function () {};","title":"5.module\u7684\u6574\u4f53\u52a0\u8f7d"},{"location":"javascript/ES6-%E9%98%AE%E4%B8%80%E5%B3%B0/#6export-default","text":"\u4e4b\u524d\u7684\u4f8b\u5b50\u4e2d\uff0c\u4f7f\u7528import\u5bfc\u5165\u65f6\uff0c\u90fd\u9700\u8981\u77e5\u9053\u6a21\u5757\u4e2d\u6240\u8981\u52a0\u8f7d\u7684\u53d8\u91cf\u540d\u6216\u51fd\u6570\u540d\uff0c\u7528\u6237\u53ef\u80fd\u4e0d\u60f3\u9605\u8bfb\u6e90\u7801\uff0c\u53ea\u60f3\u76f4\u63a5\u4f7f\u7528\u63a5\u53e3\uff0c\u5c31\u53ef\u4ee5\u7528export default\u547d\u4ee4\uff0c\u4e3a\u6a21\u5757\u6307\u5b9a\u8f93\u51fa // export-default.js export default function () { console . log ( 'foo' ); } \u5176\u4ed6\u6a21\u5757\u52a0\u8f7d\u8be5\u6a21\u5757\u65f6\uff0c import \u547d\u4ee4\u53ef\u4ee5\u4e3a\u8be5\u533f\u540d\u51fd\u6570\u6307\u5b9a\u4efb\u610f\u540d\u5b57\u3002 // import-default.js import customName from './export-default' ; customName (); // 'foo' export default\u4e5f\u53ef\u4ee5\u7528\u4e8e\u975e\u533f\u540d\u51fd\u6570\u524d\u3002 \u4e0b\u9762\u6bd4\u8f83\u4e00\u4e0b\u9ed8\u8ba4\u8f93\u51fa\u548c\u6b63\u5e38\u8f93\u51fa\u3002 // \u7b2c\u4e00\u7ec4 export default function crc32 () { // \u8f93\u51fa // ... } import crc32 from 'crc32' ; // \u8f93\u5165 // \u7b2c\u4e8c\u7ec4 export function crc32 () { // \u8f93\u51fa // ... }; import { crc32 } from 'crc32' ; // \u8f93\u5165 \u53ef\u4ee5\u770b\u51fa\uff0c \u4f7f\u7528export default\u65f6\uff0cimport\u8bed\u53e5\u4e0d\u7528\u4f7f\u7528\u5927\u62ec\u53f7 \u3002 import \u548c export \u547d\u4ee4\u53ea\u80fd\u5728\u6a21\u5757\u7684\u9876\u5c42\uff0c\u4e0d\u80fd\u5728\u4ee3\u7801\u5757\u4e4b\u4e2d\u3002\u5426\u5219\u4f1a\u8bed\u6cd5\u62a5\u9519\u3002 \u8fd9\u6837\u7684\u8bbe\u8ba1\uff0c\u53ef\u4ee5\u63d0\u9ad8\u7f16\u8bd1\u5668\u6548\u7387\uff0c\u4f46\u662f\u6ca1\u6709\u529e\u6cd5\u5b9e\u73b0\u8fd0\u884c\u65f6\u52a0\u8f7d\u3002 \u56e0\u4e3arequire\u662f\u8fd0\u884c\u65f6\u52a0\u8f7d\uff0c\u6240\u4ee5import\u547d\u4ee4\u6ca1\u6709\u529e\u6cd5\u4ee3\u66ffrequire\u7684\u52a8\u6001\u52a0\u8f7d\u529f\u80fd\u3002 \u6240\u4ee5\u5f15\u5165\u4e86**import()\u51fd\u6570**\u3002\u5b8c\u6210\u52a8\u6001\u52a0\u8f7d\u3002 import ( specifier ) specifier\u7528\u6765\u6307\u5b9a\u6240\u8981\u52a0\u8f7d\u7684\u6a21\u5757\u7684\u4f4d\u7f6e\u3002import\u80fd\u63a5\u53d7\u4ec0\u4e48\u53c2\u6570\uff0cimport()\u53ef\u4ee5\u63a5\u53d7\u540c\u6837\u7684\u53c2\u6570\u3002 import()\u8fd4\u56de\u4e00\u4e2aPromise\u5bf9\u8c61\u3002 const main = document . querySelector ( 'main' ); import ( `./section-modules/ ${ someVariable } .js` ). then ( module => { module . loadPageInto ( main ); }). catch ( err => { main . textContent = err . message ; }); 7.import()\u51fd\u6570\u9002\u7528\u573a\u5408 1\uff09\u6309\u9700\u52a0\u8f7d\uff1a button . addEventListener ( 'click' , event => { import ( './dialogBox.js' ). then ( dialogBox => { dialogBox . open (); }). catch ( error => { /* Error handling */ }) }); above\uff1a import\u6a21\u5757\u5728\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u4e2d\uff0c\u53ea\u6709\u7528\u6237\u70b9\u51fb\u4e86\u6309\u94ae\uff0c\u624d\u4f1a\u52a0\u8f7d\u8fd9\u4e2a\u6a21\u5757\uff08\u5f88\u5c11\u8fd9\u6837\u5199\uff09\u3002 2\uff09\u6761\u4ef6\u52a0\u8f7d\uff1a import()\u53ef\u4ee5\u653e\u5728if...else\u8bed\u53e5\u4e2d\uff0c\u5b9e\u73b0\u6761\u4ef6\u52a0\u8f7d\u3002 if ( condition ) { import ( 'moduleA' ). then (...); } else { import ( 'moduleB' ). then (...); }","title":"6.export default"},{"location":"javascript/ES6newFeature/","text":"ECMAScript 6 Features \u4e2d\u6587\u7248 \u00b6 Introduction \u7b80\u4ecb \u00b6 ECMAScript 6, also known as ECMAScript 2015, is the latest version of the ECMAScript standard. ES6 is a significant update to the language, and the first update to the language since ES5 was standardized in 2009. Implementation of these features in major JavaScript engines is underway now .ompat-table/es6/). ECMAScript 6(\u6807\u51c6\u5b98\u65b9\u540d\u79f0\u662f ECMAScript 2015) \u662f ECMAScript \u7684\u6700\u65b0\u4e00\u4ee3\u6807\u51c6\u3002ES6 \u7684\u53d1\u5e03\u5c06\u662f\u8fd9\u95e8\u8bed\u8a00\u81ea2009\u5e74 ES5 \u6b63\u5f0f\u53d1\u5e03\u4ee5\u6765\u7684\u9996\u6b21\u66f4\u65b0\uff0c\u662f\u4e00\u6b21\u5bcc\u6709\u610f\u4e49\u7684\u66f4\u65b0\u3002\u4e3b\u6d41Javascript\u5f15\u64ce\u4e2d\u7684\u8fd9\u4e9b\u65b0\u7279\u6027 \u6b63\u5728 \u5f00\u53d1\u4e2d\u3002 ES6 \u5305\u542b\u4e86\u4ee5\u4e0b\u8fd9\u4e9b\u65b0\u7279\u6027\uff1a Arrows \u7bad\u5934\u51fd\u6570 Classes \u7c7b Enhanced Object Literals \u589e\u5f3a\u7684\u5bf9\u8c61\u5b57\u9762\u91cf Template Strings \u6a21\u677f\u5b57\u7b26\u4e32 Destructuring \u89e3\u6784 Default + Rest + Spread \u9ed8\u8ba4\u53c2\u6570+\u4e0d\u5b9a\u53c2\u6570+\u53c2\u6570\u5c55\u5f00 Let + Const \u64cd\u4f5c\u7b26 Iterators \u8fed\u4ee3\u5668 + For..Of \u5faa\u73af Generators \u751f\u6210\u5668 Unicode \u7edf\u4e00\u7801 Modules \u6a21\u5757 Module Loaders \u6a21\u5757\u52a0\u8f7d\u5668 Map + Set + Weakmap + Weakset \u6570\u636e\u7ed3\u6784 Proxies \u4ee3\u7406 Symbols \u7b26\u53f7 Subclassable Built-ins \u53ef\u5b50\u7c7b\u5316\u5185\u5efa\u5bf9\u8c61 Promises \u5bf9\u8c61 Math + Number + String + Object APIs Binary and Octal Literals \u4e8c\u8fdb\u5236\u548c\u516b\u8fdb\u5236\u5b57\u9762\u91cf Reflect \u53cd\u5c04 API Tail Calls \u5c3e\u8c03\u7528 ECMAScript 6 Features \u7279\u6027 \u00b6 Arrows \u7bad\u5934\u51fd\u6570 \u00b6 Arrows are a function shorthand using the => syntax. They are syntactically similar to the related feature in C#, Java 8 and CoffeeScript. They support both statement block bodies as well as expression bodies which return the value of the expression. Unlike functions, arrows share the same lexical this as their surrounding code. \u7bad\u5934\u51fd\u6570\u662f\u4f7f\u7528 => \u8bed\u6cd5\u7684\u51fd\u6570\u7b80\u5199\u5f62\u5f0f\u3002\u8fd9\u5728\u8bed\u6cd5\u4e0a\u4e0e C#\u3001Java 8 \u548c CoffeeScript \u7684\u76f8\u5173\u7279\u6027\u975e\u5e38\u76f8\u4f3c\u3002\u5b83\u4eec\u540c\u65f6\u652f\u6301\u8868\u8fbe\u5f0f\u8bed\u53e5\u5757\u4f53\u548c\u8fd4\u56de\u8868\u8fbe\u5f0f\u7684\u503c\u7684\u8868\u8fbe\u5f0f\u4f53\u3002 \u4e0e\uff08\u666e\u901a\u7684\uff09\u51fd\u6570\u6240\u4e0d\u540c\u7684\u662f\uff0c\u7bad\u5934\u51fd\u6570\u548c\u5176\u4e0a\u4e0b\u6587\u4e2d\u7684\u4ee3\u7801\u5171\u4eab\u540c\u4e00\u4e2a\u5177\u6709\u8bcd\u6cd5\u4f5c\u7528\u57df\u7684 this \u3002 \u7b80\u5355\u7684\u8bf4\uff0c\u7bad\u5934\u51fd\u6570\u5185\u90e8\u7684 this \u548c\u4e0a\u4e0b\u6587\u4e2d\u7684 this \u662f\u76f8\u540c\u7684\uff0c\u5728React\u4e2d\u53ef\u4ee5\u5f88\u597d\u7684\u4f7f\u7528 class \u4e2d\u7684\u51fd\u6570\u548c\u5c5e\u6027\u3002 // Expression bodies // \u8868\u8fbe\u5f0f\u4f53 var odds = evens . map ( v => v + 1 ); var nums = evens . map (( v , i ) => v + i ); var pairs = evens . map ( v => ({ even : v , odd : v + 1 })); // Statement bodies // \u8bed\u53e5\u4f53 nums . forEach ( v => { if ( v % 5 === 0 ) fives . push ( v ); }); // Lexical this // \u5177\u6709\u8bcd\u6cd5\u4f5c\u7528\u57df\u7684 this var bob = { _name : \"Bob\" , _friends : [ \"Amy\" , \"Bob\" , \"Cinne\" , \"Dylan\" , \"Ellen\" ], printFriends () { this . _friends . forEach ( f => console . log ( this . _name + \" knows \" + f )); } } Classes \u7c7b \u00b6 ES6 classes are a simple sugar over the prototype-based OO pattern. Having a single convenient declarative form makes class patterns easier to use, and encourages interoperability. Classes support prototype-based inheritance, super calls, instance and static methods and constructors. ES6 \u7684\u7c7b\u662f\u5728\u57fa\u4e8e\u539f\u578b\u7684\u9762\u5411\u5bf9\u8c61\u6a21\u5f0f\u4e4b\u4e0a\u7684\u7b80\u5355\u8bed\u6cd5\u7cd6\uff0c\u5b83\u6709\u552f\u4e00\u7684\u3001\u4fbf\u6377\u7684\u58f0\u660e\u5f62\u5f0f\uff0c\u8fd9\u4f7f\u5f97\u7c7b\u6a21\u5f0f\u66f4\u5bb9\u6613\u4f7f\u7528\uff0c\u5e76\u4e14\u9f13\u52b1\u4e86\u4e92\u64cd\u4f5c\u6027\u3002 class\u5b9a\u4e49\u7684\u7c7b\u652f\u6301\u57fa\u4e8e\u539f\u578b\u7684\u7ee7\u627f\u3001 super \u8c03\u7528 \u3001\u5b9e\u4f8b\u548c\u9759\u6001\u65b9\u6cd5\u3001\u6784\u9020\u51fd\u6570\u3002 class SkinnedMesh extends THREE . Mesh { // extends \u57fa\u4e8e\u539f\u578b\u7684\u7ee7\u627f constructor ( geometry , materials ) { super ( geometry , materials ); this . idMatrix = SkinnedMesh . defaultMatrix (); this . bones = []; this . boneMatrices = []; //... } // function update ( camera ) { //... super . update (); } // \u83b7\u53d6\u5c5e\u6027 get boneCount () { return this . bones . length ; } // \u8bbe\u7f6e\u5c5e\u6027 set matrixType ( matrixType ) { this . idMatrix = SkinnedMesh [ matrixType ](); } static defaultMatrix () { return new THREE . Matrix4 (); } } Enhanced Object Literals \u589e\u5f3a\u7684\u5bf9\u8c61\u5b57\u9762\u91cf \u00b6 Object literals are extended to support setting the prototype at construction, shorthand for foo: foo assignments, defining methods, making super calls, and computing property names with expressions. Together, these also bring object literals and class declarations closer together, and let object-based design benefit from some of the same conveniences. \u5bf9\u8c61\u5b57\u9762\u91cf\u88ab\u6269\u5c55\u4ee5\u652f\u6301\u4ee5\u4e0b\u7279\u6027\uff1a\u5728\u6784\u5efa\u7684\u65f6\u5019\u8bbe\u7f6e\u539f\u578b\u3001 foo: foo \u8d4b\u503c\u7684\u7b80\u5199\u5f62\u5f0f\u3001\u5b9a\u4e49\u65b9\u6cd5\u3001\u8fdb\u884c[super \u8c03\u7528]\u3001\u4f7f\u7528\u8868\u8fbe\u5f0f\u8ba1\u7b97\u5c5e\u6027\u540d\u79f0\u7b49\u3002\u8fd9\u6837\u5c31\u4f7f\u5f97\u5bf9\u8c61\u5b57\u9762\u91cf\u548c\u7c7b\u7684\u58f0\u660e\u7684\u8054\u7cfb\u66f4\u52a0\u7d27\u5bc6\uff0c\u4f7f\u5f97\u57fa\u4e8e\u5bf9\u8c61\u7684\u8bbe\u8ba1\u66f4\u52a0\u4fbf\u5229\u3002 ++++++++++++++++++++++++++++++++++++++++ var obj = { // __proto__ __proto__ : theProtoObj , // Shorthand for \u2018handler: handler\u2019 // \u2018handler: handler\u2019 \u7684\u7b80\u5199\u5f62\u5f0f handler , // Methods toString () { // Super calls return \"d \" + super . toString (); }, // Computed (dynamic) property names // \u8ba1\u7b97\u6240\u5f97\u7684\uff08\u52a8\u6001\u7684\uff09\u5c5e\u6027\u540d\u79f0 [ 'prop_' + (() => 42 )() ] : 42 }; Template Strings \u6a21\u677f\u5b57\u7b26\u4e32 \u00b6 Template strings provide syntactic sugar for constructing strings. This is similar to string interpolation features in Perl, Python and more. Optionally, a tag can be added to allow the string construction to be customized, avoiding injection attacks or constructing higher level data structures from string contents. \u6a21\u677f\u5b57\u7b26\u4e32\u63d0\u4f9b\u6784\u9020\u5b57\u7b26\u4e32\u7684\u8bed\u6cd5\u7cd6\uff0c\u8fd9\u4e0ePerl\u3001Python\u7b49\u8bb8\u591a\u8bed\u8a00\u4e2d\u7684\u5b57\u7b26\u4e32\u63d2\u503c\u529f\u80fd\u975e\u5e38\u76f8\u4f3c\uff0c\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0\u6807\u7b7e(tag)\u6765\u81ea\u5b9a\u4e49\u6784\u9020\u5b57\u7b26\u4e32\uff0c\u907f\u514d\u6ce8\u5165\u653b\u51fb\uff0c\u6216\u8005\u57fa\u4e8e\u5b57\u7b26\u4e32\u6784\u5efa\u66f4\u9ad8\u5c42\u6b21\u7684\u6570\u636e\u7ed3\u6784\u3002 // Basic literal string creation // \u57fa\u7840\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7684\u521b\u5efa `In JavaScript ' \\ n' is a line-feed.` // Multiline strings // \u591a\u884c\u5b57\u7b26\u4e32 `In JavaScript this is not legal.` // String interpolation // \u5b57\u7b26\u4e32\u63d2\u503c var name = \"Bob\" , time = \"today\" ; `Hello ${ name } , how are you ${ time } ?` // Construct an HTTP request prefix is used to interpret the replacements and construction // \u6784\u9020\u4e00\u4e2aHTTP\u8bf7\u6c42\u524d\u7f00\u7528\u6765\u89e3\u91ca\u66ff\u6362\u548c\u6784\u9020\uff0c\u5927\u610f\u5c31\u662f\u53ef\u4ee5\u6784\u9020\u4e00\u4e2a\u901a\u7528\u7684HTTP prefix\u5e76\u901a\u8fc7\u8d4b\u503c\u751f\u6210\u6700\u7ec8\u7684HTTP\u8bf7\u6c42 GET `http://foo.org/bar?a= ${ a } &b= ${ b } Content-Type: application/json X-Credentials: ${ credentials } { \"foo\": ${ foo } , \"bar\": ${ bar } }` ( myOnReadyStateChangeHandler ); Destructuring \u89e3\u6784 \u00b6 Destructuring allows binding using pattern matching, with support for matching arrays and objects. Destructuring is fail-soft, similar to standard object lookup foo[\"bar\"] , producing undefined values when not found. \u89e3\u6784\u5141\u8bb8\u5728\uff08\u53d8\u91cf-\u503c\uff09\u7ed1\u5b9a\u65f6\u4f7f\u7528\u6a21\u5f0f\u5339\u914d\uff0c\u652f\u6301\u5339\u914d\u6570\u7ec4\u548c\u5bf9\u8c61\uff0c\u89e3\u6784\u652f\u6301 \u5931\u6548\u5f31\u5316 \uff0c\u4e0e\u6807\u51c6\u7684\u5bf9\u8c61\u67e5\u8be2 foo[\"bar\"] \u76f8\u4f3c\uff0c\u5f53\u67e5\u8be2\u65e0\u7ed3\u679c\u65f6\u751f\u6210 undefined \u503c\u3002 // list matching // \u5217\u8868\u5339\u914d var [ a , , b ] = [ 1 , 2 , 3 ]; // object matching // \u5bf9\u8c61\u5339\u914d var { op : a , lhs : { op : b }, rhs : c } = getASTNode () // object matching shorthand // binds `op`, `lhs` and `rhs` in scope // \u5bf9\u8c61\u5339\u914d\u7b80\u5199\u5f62\u5f0f var { op , lhs , rhs } = getASTNode () // \u4e0a\u9762\u4f5c\u8005\u7ed9\u7684\u793a\u4f8b\u770b\u5f97\u4e91\u91cc\u96fe\u91cc\u7684\uff0c\u8fd9\u91cc\u6211\u518d\u7ed9\u51fa\u4e00\u4e2a function today () { return { d : 2 , m : 3 , y : 2015 }; } var { m : month , y : year } = today (); // month = 3, year = 2015 // Can be used in parameter position // \u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u53c2\u6570\u4f7f\u7528 function g ({ name : x }) { console . log ( x ); } g ({ name : 5 }) // Fail-soft destructuring // \u5931\u6548\u5f31\u5316\u89e3\u6784\uff0c\u7ed3\u679c\u67e5\u8be2\u4e0d\u5230\u65f6\u5b9a\u4e49\u4e3a undefined var [ a ] = []; a === undefined ; // Fail-soft destructuring with defaults // \u5177\u5907\u9ed8\u8ba4\u503c\u7684\u5931\u6548\u5f31\u5316\u89e3\u6784 var [ a = 1 ] = []; a === 1 ; Default + Rest + Spread \u9ed8\u8ba4\u53c2\u6570+\u4e0d\u5b9a\u53c2\u6570+\u53c2\u6570\u5c55\u5f00 \u00b6 Callee-evaluated default parameter values. Turn an array into consecutive arguments in a function call. Bind trailing parameters to an array. Rest replaces the need for arguments and addresses common cases more directly. \u652f\u6301\u7531\u88ab\u8c03\u7528\u51fd\u6570\u8fdb\u884c\u6c42\u503c\u7684\u53c2\u6570\u9ed8\u8ba4\u503c\u3002 \u5728\u51fd\u6570\u8c03\u7528\u65f6\u4f7f\u7528 ... \u8fd0\u7b97\u7b26\uff0c\u53ef\u4ee5\u5c06\u4f5c\u4e3a\u53c2\u6570\u7684\u6570\u7ec4\u62c6\u89e3\u4e3a\u8fde\u7eed\u7684\u591a\u4e2a\u53c2\u6570\u3002 \u5728\u51fd\u6570\u5b9a\u4e49\u65f6\u4f7f\u7528 ... \u8fd0\u7b97\u7b26\uff0c\u5219\u53ef\u4ee5\u5c06\u51fd\u6570\u5c3e\u90e8\u7684\u591a\u4e2a\u53c2\u6570\u7ed1\u5b9a\u5230\u4e00\u4e2a\u6570\u7ec4\u4e2d\u3002 \u4e0d\u5b9a\u53c2\u6570\u53d6\u4ee3\u4e86 arguments \uff0c\u5e76\u53ef\u66f4\u76f4\u63a5\u5730\u5e94\u7528\u4e8e\u901a\u5e38\u7684\u7528\u4f8b\u4e2d\u3002 function f ( x , y = 12 ) { // y is 12 if not passed (or passed as undefined) return x + y ; } f ( 3 ) == 15 function f ( x , ... y ) { // y is an Array return x * y . length ; } f ( 3 , \"hello\" , true ) == 6 function f ( x , y , z ) { return x + y + z ; } // Pass each elem of array as argument f (...[ 1 , 2 , 3 ]) == 6 Let + Const \u64cd\u4f5c\u7b26 \u00b6 Block-scoped binding constructs. let is the new var . const is single-assignment. Static restrictions prevent use before assignment. let \u548c const \u662f\u5177\u6709\u5757\u7ea7\u4f5c\u7528\u57df\u7684\u7ed1\u5b9a\u7528\u6784\u9020\uff0c let \u662f\u65b0\u7684 var \uff0c\u53ea\u5728\u5757\u7ea7\u4f5c\u7528\u57df\u5185\u6709\u6548\uff0c const \u662f \u5355\u8d4b\u503c \uff0c\u58f0\u660e\u7684\u662f\u5757\u7ea7\u4f5c\u7528\u57df\u7684\u5e38\u91cf\u3002\u6b64\u4e24\u79cd\u64cd\u4f5c\u7b26\u5177\u6709\u9759\u6001\u9650\u5236\uff0c\u53ef\u4ee5\u9632\u6b62\u51fa\u73b0\u201c\u5728\u8d4b\u503c\u4e4b\u524d\u4f7f\u7528\u201d\u7684\u9519\u8bef\u3002 function f () { { let x ; { // okay, block scoped name const x = \"sneaky\" ; // error, const x = \"foo\" ; } // error, already declared in block let x = \"inner\" ; } } Iterators + For..Of \u8fed\u4ee3\u5668 + For..of \u5faa\u73af \u00b6 Iterator objects enable custom iteration like CLR IEnumerable or Java Iterable. Generalize for..in to custom iterator-based iteration with for..of . Don\u2019t require realizing an array, enabling lazy design patterns like LINQ. \u8fed\u4ee3\u5668\u5bf9\u8c61\u5141\u8bb8\u50cf CLI IEnumerable \u6216\u8005 Java Iterable \u4e00\u6837\u81ea\u5b9a\u4e49\u8fed\u4ee3\u5668\u3002\u5c06 for..in \u8f6c\u6362\u4e3a\u81ea\u5b9a\u4e49\u7684\u57fa\u4e8e\u8fed\u4ee3\u5668\u7684\u5f62\u5982 for..of \u7684\u8fed\u4ee3\uff0c\u4e0d\u9700\u8981\u5b9e\u73b0\u4e00\u4e2a\u6570\u7ec4\uff0c\u652f\u6301\u50cf LINQ \u4e00\u6837\u7684\u60f0\u6027\u8bbe\u8ba1\u6a21\u5f0f let fibonacci = { [ Symbol . iterator ]() { let pre = 0 , cur = 1 ; return { next () { [ pre , cur ] = [ cur , pre + cur ]; return { done : false , value : cur } } } } } for ( var n of fibonacci ) { // truncate the sequence at 1000 if ( n > 1000 ) break ; console . log ( n ); } Iteration is based on these duck-typed interfaces (using TypeScript type syntax for exposition only): \u8fed\u4ee3\u5668\u57fa\u4e8e\u8fd9\u4e9b \u9e2d\u5b50\u7c7b\u578b\u7684\u63a5\u53e3 (\u6b64\u5904\u4f7f\u7528 TypeScript \u7684\u7c7b\u578b\u8bed\u6cd5\uff0c\u4ec5\u7528\u4e8e\u9610\u8ff0\u95ee\u9898)\uff1a interface IteratorResult { done : boolean ; value : any ; } interface Iterator { next () : IteratorResult ; } interface Iterable { [ Symbol . iterator ]() : Iterator } Generators \u751f\u6210\u5668 \u00b6 Generators simplify iterator-authoring using function* and yield . A function declared as function* returns a Generator instance. Generators are subtypes of iterators which include additional next and throw . These enable values to flow back into the generator, so yield is an expression form which returns a value (or throws). \u751f\u6210\u5668\u901a\u8fc7\u4f7f\u7528 function* \u548c yield \u7b80\u5316\u8fed\u4ee3\u5668\u7684\u7f16\u5199\uff0c \u5f62\u5982function*\u7684\u51fd\u6570\u58f0\u660e\u8fd4\u56de\u4e00\u4e2a\u751f\u6210\u5668\u5b9e\u4f8b\uff0c\u751f\u6210\u5668\u662f\u8fed\u4ee3\u5668\u7684\u5b50\u7c7b\u578b\uff0c\u8fed\u4ee3\u5668\u5305\u62ec\u9644\u52a0\u7684 next \u548c throw \uff0c\u8fd9\u4f7f\u5f97\u503c\u53ef\u4ee5\u56de\u6d41\u5230\u751f\u6210\u5668\u4e2d\uff0c\u6240\u4ee5\uff0c yield \u662f\u4e00\u4e2a\u8fd4\u56de\u6216\u629b\u51fa\u503c\u7684\u8868\u8fbe\u5f0f\u5f62\u5f0f\u3002 Note: Can also be used to enable \u2018await\u2019-like async programming, see also ES7 await proposal. \u6ce8\u610f\uff1a\u4e5f\u53ef\u4ee5\u88ab\u7528\u4f5c\u7c7b\u4f3c\u2018await\u2019\u4e00\u6837\u7684\u5f02\u6b65\u7f16\u7a0b\u4e2d\uff0c\u5177\u4f53\u7ec6\u8282\u67e5\u770b ES7\u7684 await \u63d0\u6848 var fibonacci = { [ Symbol . iterator ] : function * () { var pre = 0 , cur = 1 ; for (;;) { var temp = pre ; pre = cur ; cur += temp ; yield cur ; } } } for ( var n of fibonacci ) { // truncate the sequence at 1000 if ( n > 1000 ) break ; console . log ( n ); } The generator interface is (using TypeScript type syntax for exposition only): \u751f\u6210\u5668\u63a5\u53e3\u5982\u4e0b(\u6b64\u5904\u4f7f\u7528 TypeScript \u7684\u7c7b\u578b\u8bed\u6cd5\uff0c\u4ec5\u7528\u4e8e\u9610\u8ff0\u95ee\u9898)\uff1a interface Generator extends Iterator { next ( value? : any ) : IteratorResult ; throw ( exception : any ); } Unicode \u7edf\u4e00\u7801 \u00b6 Non-breaking additions to support full Unicode, including new Unicode literal form in strings and new RegExp u mode to handle code points, as well as new APIs to process strings at the 21bit code points level. These additions support building global apps in JavaScript. Non-breaking additions to support full Unicode ~~\u8fd9\u53e5\u770b\u4e86\u534a\u5929\u4e0d\u77e5\u9053\u4f5c\u8005\u60f3\u8981\u8868\u8fbe\u4ec0\u4e48\uff0c\u6211\u5c31\u67e5\u4e86\u4e0b\u8d44\u6599\uff0c\u6709\u4e00\u79cd\u53ef\u80fd\u662f\uff1a \u589e\u52a0 \u4e0d\u6362\u884c\u7a7a\u683c \u7684\u7279\u6027\u4ee5\u5168\u9762\u652f\u6301Unicode\uff0c\u8fd8\u6709\u4e00\u79cd\u53ef\u80fd\u662f\uff1a~~\u6e10\u8fdb\u589e\u5f3a\u5730\u3001\u975e\u7834\u574f\u6027\u5730\u5168\u9762\u652f\u6301Unicode\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u65b0\u52a0\u5165\u7684\u7279\u6027\u5e76\u4e0d\u5f71\u54cd\u8001\u7684\u4ee3\u7801\u7684\u4f7f\u7528\u3002\u6211\u4e2a\u4eba\u6bd4\u8f83\u503e\u5411\u4e8e\u7b2c\u4e8c\u79cd\u89e3\u8bfb\u3002 @sumhat \u63d0\u793a\u8bf4\u7b2c\u4e8c\u79cd\u89e3\u8bfb\u662f\u6b63\u786e\u7684 \uff08\u7eed\uff09\u5b57\u7b26\u4e32\u652f\u6301\u65b0\u7684Unicode\u6587\u672c\u5f62\u5f0f\uff0c\u4e5f\u589e\u52a0\u4e86\u65b0\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u4fee\u9970\u7b26 u \u6765\u5904\u7406\u7801\u4f4d\uff0c\u540c\u65f6\uff0c\u65b0\u7684API\u53ef\u4ee5\u5728 21bit\u7801\u4f4d\u7ea7\u522b \u4e0a\u5904\u7406\u5b57\u7b26\u4e32\uff0c\u589e\u52a0\u8fd9\u4e9b\u652f\u6301\u540e\u53ef\u4ee5\u4f7f\u7528 Javascript \u6784\u5efa\u5168\u7403\u5316\u7684\u5e94\u7528\u3002 \u6ce8\uff1a\u5173\u4e8eUnicode\u63a8\u8350\u9605\u8bfb \u590d\u6742\u7684Unicode\uff0c\u7591\u60d1\u7684Python // same as ES5.1 // \u4e0e ES5.1 \u76f8\u540c \"\ud842\udfb7\" . length == 2 // new RegExp behaviour, opt-in \u2018u\u2019 // \u65b0\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u884c\u4e3a\uff0c\u4f7f\u7528\u53ef\u9009\u7684\u2018u\u2019\u4fee\u9970\u7b26 \"\ud842\udfb7\" . match ( /./u )[ 0 ]. length == 2 // new form // ES5.1\u7684\u5199\u6cd5\u662f`\u53cd\u659c\u6760+u+\u7801\u70b9`\uff0c\u65b0\u7684\u5f62\u5f0f\u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0\u4e00\u7ec4\u5927\u62ec\u53f7`{}`\u6765\u8868\u793a\u8d85\u8fc7\u56db\u5b57\u8282\u7684\u7801\u70b9 \"\\u{20BB7}\" == \"\ud842\udfb7\" == \"\\uD842\\uDFB7\" // new String ops // \u65b0\u7684\u5b57\u7b26\u4e32\u5904\u7406\u65b9\u6cd5 \"\ud842\udfb7\" . codePointAt ( 0 ) == 0x20BB7 // for-of iterates code points // foo-of \u4ee5\u7801\u4f4d\u4e3a\u5355\u4f4d\u8fdb\u884c\u8fed\u4ee3 for ( var c of \"\ud842\udfb7\" ) { console . log ( c ); } Modules \u6a21\u5757 \u00b6 Language-level support for modules for component definition. Codifies patterns from popular JavaScript module loaders (AMD, CommonJS). Runtime behaviour defined by a host-defined default loader. Implicitly async model \u2013 no code executes until requested modules are available and processed. ES6 \u5728\u8bed\u8a00\u5c42\u9762\u4e0a\u652f\u6301\u4f7f\u7528\u6a21\u5757\u6765\u8fdb\u884c\u7ec4\u4ef6\u5b9a\u4e49\uff0c\u5c06\u6d41\u884c\u7684JavaScript\u6a21\u5757\u52a0\u8f7d\u5668\uff08AMD\u3001CommonJS\uff09\u4e2d\u7684\u6a21\u5f0f\u56fa\u5316\u5230\u4e86\u8bed\u8a00\u4e2d\u3002\u8fd0\u884c\u65f6\u884c\u4e3a\u7531\u5bbf\u4e3b\u5b9a\u4e49\u7684\u9ed8\u8ba4\u52a0\u8f7d\u5668\u5b9a\u4e49\uff0c\u9690\u5f0f\u5f02\u6b65\u6a21\u578b - \u76f4\u5230\uff08\u5168\u90e8\uff09\u8bf7\u6c42\u7684\u6a21\u5757\u5747\u53ef\u7528\u4e14\u7ecf\u5904\u7406\u540e\uff0c\u624d\u4f1a\u6267\u884c\uff08\u5f53\u524d\u6a21\u5757\u5185\u7684\uff09\u4ee3\u7801\u3002 // lib/math.js export function sum ( x , y ) { return x + y ; } export var pi = 3.141593 ; // app.js import * as math from \"lib/math\" ; alert ( \"2\u03c0 = \" + math . sum ( math . pi , math . pi )); // otherApp.js import { sum , pi } from \"lib/math\" ; alert ( \"2\u03c0 = \" + sum ( pi , pi )); Some additional features include export default and export * : \u989d\u5916\u7684\u65b0\u7279\u6027\uff0c\u5305\u62ec export default \u4ee5\u53ca export * \uff1a // lib/mathplusplus.js export * from \"lib/math\" ; export var e = 2.71828182846 ; export default function ( x ) { return Math . log ( x ); } // app.js import ln , { pi , e } from \"lib/mathplusplus\" ; alert ( \"2\u03c0 = \" + ln ( e ) * pi * 2 ); Module Loaders \u6a21\u5757\u52a0\u8f7d\u5668 \u00b6 Module loaders support: - Dynamic loading - State isolation - Global namespace isolation - Compilation hooks - Nested virtualization \u6a21\u5757\u52a0\u8f7d\u5668\u652f\u6301: - \u52a8\u6001\u52a0\u8f7d - \u72b6\u6001\u9694\u79bb - \u5168\u5c40\u547d\u540d\u7a7a\u95f4\u9694\u79bb - \u7f16\u8bd1\u94a9\u5b50 - \u5d4c\u5957\u865a\u62df\u5316(\u6ce8: \u5728\u6a21\u5757\u5185\u8c03\u7528\u6a21\u5757) The default module loader can be configured, and new loaders can be constructed to evaluate and load code in isolated or constrained contexts. \u9ed8\u8ba4\u7684\u6a21\u5757\u52a0\u8f7d\u5668\u662f\u53ef\u914d\u7f6e\u7684\uff0c\u4e5f\u53ef\u4ee5\u6784\u5efa\u65b0\u7684\u52a0\u8f7d\u5668\uff0c\u5bf9\u5728\u9694\u79bb\u548c\u53d7\u9650\u4e0a\u4e0b\u6587\u4e2d\u7684\u4ee3\u7801\u8fdb\u884c\u6c42\u503c\u548c\u52a0\u8f7d\u3002 // Dynamic loading \u2013 \u2018System\u2019 is default loader // \u52a8\u6001\u52a0\u8f7d - \u2018System\u2019 \u662f\u9ed8\u8ba4\u7684\u52a0\u8f7d\u5668 System . import ( 'lib/math' ). then ( function ( m ) { alert ( \"2\u03c0 = \" + m . sum ( m . pi , m . pi )); }); // Create execution sandboxes \u2013 new Loaders // \u521b\u5efa\u4e00\u4e2a\u6267\u884c\u6c99\u7bb1- \u65b0\u7684\u52a0\u8f7d\u5668 var loader = new Loader ({ global : fixup ( window ) // replace \u2018console.log\u2019 }); loader . eval ( \"console.log('hello world!');\" ); // Directly manipulate module cache // \u76f4\u63a5\u64cd\u4f5c\u6a21\u5757\u7f13\u5b58 System . get ( 'jquery' ); System . set ( 'jquery' , Module ({ $ : $ })); // WARNING: not yet finalized \u8b66\u544a\uff1a\u6b64\u90e8\u5206\u7684\u8bbe\u8ba1\u5c1a\u672a\u6700\u7ec8\u5b9a\u7a3f Map + Set + WeakMap + WeakSet \u6570\u636e\u7ed3\u6784 \u00b6 Efficient data structures for common algorithms. WeakMaps provides leak-free object-key\u2019d side tables. \u7528\u4e8e\u5b9e\u73b0\u5e38\u89c1\u7b97\u6cd5\u7684\u9ad8\u6548\u6570\u636e\u7ed3\u6784\uff0cWeakMaps\u63d0\u4f9b\u4e0d\u4f1a\u6cc4\u9732\u7684\u5bf9\u8c61\u952e(\u5bf9\u8c61\u4f5c\u4e3a\u952e\u540d\uff0c\u800c\u4e14\u952e\u540d\u6307\u5411\u5bf9\u8c61)\u7d22\u5f15\u8868 \u6ce8\uff1a\u6240\u8c13\u7684\u4e0d\u4f1a\u6cc4\u9732\uff0c\u6307\u7684\u662f\u5bf9\u5e94\u7684\u5bf9\u8c61\u53ef\u80fd\u4f1a\u88ab\u81ea\u52a8\u56de\u6536\uff0c\u56de\u6536\u540eWeakMaps\u81ea\u52a8\u79fb\u9664\u5bf9\u5e94\u7684\u952e\u503c\u5bf9\uff0c\u6709\u52a9\u4e8e\u9632\u6b62\u5185\u5b58\u6cc4\u9732 // Sets var s = new Set (); s . add ( \"hello\" ). add ( \"goodbye\" ). add ( \"hello\" ); s . size === 2 ; s . has ( \"hello\" ) === true ; // Maps var m = new Map (); m . set ( \"hello\" , 42 ); m . set ( s , 34 ); m . get ( s ) == 34 ; // Weak Maps var wm = new WeakMap (); wm . set ( s , { extra : 42 }); wm . size === undefined // Weak Sets var ws = new WeakSet (); ws . add ({ data : 42 }); // Because the added object has no other references, it will not be held in the set // \u7531\u4e8e\u6240\u52a0\u5165\u7684\u5bf9\u8c61\u6ca1\u6709\u5176\u4ed6\u5f15\u7528\uff0c\u6545\u5728\u6b64\u96c6\u5408\u5185\u4e0d\u4f1a\u4fdd\u7559\u4e4b\u3002 Proxies \u4ee3\u7406 \u00b6 Proxies enable creation of objects with the full range of behaviors available to host objects. Can be used for interception, object virtualization, logging/profiling, etc. \u4ee3\u7406\u53ef\u4ee5\u521b\u9020\u4e00\u4e2a\u5177\u5907\u5bbf\u4e3b\u5bf9\u8c61\u5168\u90e8\u53ef\u7528\u884c\u4e3a\u7684\u5bf9\u8c61\u3002\u53ef\u7528\u4e8e\u62e6\u622a\u3001\u5bf9\u8c61\u865a\u62df\u5316\u3001\u65e5\u5fd7/\u5206\u6790\u7b49\u3002 // Proxying a normal object // \u4ee3\u7406\u4e00\u4e2a\u666e\u901a\u5bf9\u8c61 var target = {}; var handler = { get : function ( receiver , name ) { return `Hello, ${ name } !` ; } }; var p = new Proxy ( target , handler ); p . world === 'Hello, world!' ; // Proxying a function object // \u4ee3\u7406\u4e00\u4e2a\u51fd\u6570\u5bf9\u8c61 var target = function () { return 'I am the target' ; }; var handler = { apply : function ( receiver , ... args ) { return 'I am the proxy' ; } }; var p = new Proxy ( target , handler ); p () === 'I am the proxy' ; There are traps available for all of the runtime-level meta-operations: \u6240\u6709\u8fd0\u884c\u65f6\u7ea7\u522b\u7684\u5143\u64cd\u4f5c\u90fd\u6709\u5bf9\u5e94\u7684\u9677\u9631\uff08\u4f7f\u5f97\u8fd9\u4e9b\u64cd\u4f5c\u90fd\u53ef\u4ee5\u88ab\u4ee3\u7406\uff09\uff1a var handler = { get : ..., set : ..., has : ..., deleteProperty : ..., apply : ..., construct : ..., getOwnPropertyDescriptor : ..., defineProperty : ..., getPrototypeOf : ..., setPrototypeOf : ..., enumerate : ..., ownKeys : ..., preventExtensions : ..., isExtensible : ... } Symbols \u7b26\u53f7 \u00b6 Symbols enable access control for object state. Symbols allow properties to be keyed by either string (as in ES5) or symbol . Symbols are a new primitive type. Optional description parameter used in debugging - but is not part of identity. Symbols are unique (like gensym), but not private since they are exposed via reflection features like Object.getOwnPropertySymbols . \u7b26\u53f7(Symbol) \u80fd\u591f\u5b9e\u73b0\u9488\u5bf9\u5bf9\u8c61\u72b6\u6001\u7684\u8bbf\u95ee\u63a7\u5236\uff0c\u5141\u8bb8\u4f7f\u7528 string (\u4e0eES5\u76f8\u540c)\u6216 symbol \u4f5c\u4e3a\u952e\u6765\u8bbf\u95ee\u5c5e\u6027\u3002\u7b26\u53f7\u662f\u4e00\u4e2a\u65b0\u7684\u539f\u8bed\u7c7b\u578b\uff0c\u53ef\u9009\u7684 description \u53c2\u6570\u53ef\u4ee5\u7528\u4e8e\u8c03\u8bd5\u2014\u2014\u4f46\u5e76\u4e0d\u662f\u7b26\u53f7\u8eab\u4efd\u7684\u4e00\u90e8\u5206\u3002\u7b26\u53f7\u662f\u72ec\u4e00\u65e0\u4e8c\u7684(\u5982\u540cgensym\uff08\u6240\u4ea7\u751f\u7684\u7b26\u53f7\uff09)\uff0c\u4f46\u4e0d\u662f\u79c1\u6709\u7684\uff0c\u56e0\u4e3a\u5b83\u4eec\u53ef\u4ee5\u901a\u8fc7\u7c7b\u4f3c Object.getOwnPropertySymbols \u7684\u53cd\u5c04\u7279\u6027\u66b4\u9732\u51fa\u6765\u3002 var MyClass = ( function () { // module scoped symbol // \u5177\u6709\u6a21\u5757\u4f5c\u7528\u57df\u7684\u7b26\u53f7 var key = Symbol ( \"key\" ); function MyClass ( privateData ) { this [ key ] = privateData ; } MyClass . prototype = { doStuff : function () { ... this [ key ] ... } }; return MyClass ; })(); var c = new MyClass ( \"hello\" ) c [ \"key\" ] === undefined [Subclassable Built-ins] \u53ef\u5b50\u7c7b\u5316\u7684\u5185\u5efa\u5bf9\u8c61 \u00b6 In ES6, built-ins like Array , Date and DOM Element s can be subclassed. \u5728 ES6 \u4e2d\uff0c\u5185\u5efa\u5bf9\u8c61\uff0c\u5982 Array \u3001 Date \u4ee5\u53caDOM \u5143\u7d20 \u53ef\u4ee5\u88ab\u5b50\u7c7b\u5316\u3002 Object construction for a function named Ctor now uses two-phases (both virtually dispatched): - Call Ctor[@@create] to allocate the object, installing any special behavior - Invoke constructor on new instance to initialize \u9488\u5bf9\u540d\u4e3a Ctor \u7684\u51fd\u6570\uff0c\u5176\u5bf9\u5e94\u7684\u5bf9\u8c61\u7684\u6784\u9020\u73b0\u5728\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5\uff08\u8fd9\u4e24\u4e2a\u9636\u6bb5\u90fd\u4f7f\u7528\u865a\u5206\u6d3e\uff09\uff1a - \u8c03\u7528 Ctor[@@create] \u4e3a\u5bf9\u8c61\u5206\u914d\u7a7a\u95f4\uff0c\u5e76\u63d2\u5165\u7279\u6b8a\u7684\u884c\u4e3a - \u5728\u65b0\u5b9e\u4f8b\u4e0a\u8c03\u7528\u6784\u9020\u51fd\u6570\u6765\u8fdb\u884c\u521d\u59cb\u5316 The known @@create symbol is available via Symbol.create . Built-ins now expose their @@create explicitly. \u5df2\u77e5\u7684 @@create \u7b26\u53f7\u53ef\u4ee5\u901a\u8fc7 Symbol.create \u6765\u4f7f\u7528\uff0c\u5185\u5efa\u5bf9\u8c61\u73b0\u5728\u663e\u5f0f\u66b4\u9732\u5b83\u4eec\u7684 @@create \u3002 // Pseudo-code of Array // Array\u4f2a\u4ee3\u7801 class Array { constructor (... args ) { /* ... */ } static [ Symbol . create ]() { // Install special [[DefineOwnProperty]] // to magically update 'length' } } // User code of Array subclass // Array\u5b50\u7c7b\u7684\u7528\u6237\u4ee3\u7801 class MyArray extends Array { constructor (... args ) { super (... args ); } } // Two-phase 'new': // 1) Call @@create to allocate object // 2) Invoke constructor on new instance // \u4e24\u9636\u6bb5\u7684'new': // 1) \u8c03\u7528@@create\u6765\u4e3a\u5bf9\u8c61\u5206\u914d\u7a7a\u95f4 // 2) \u5728\u65b0\u5b9e\u4f8b\u4e0a\u8c03\u7528\u6784\u9020\u51fd\u6570 var arr = new MyArray (); arr [ 1 ] = 12 ; arr . length == 2 Math + Number + String + Object APIs \u6269\u5c55 \u00b6 Many new library additions, including core Math libraries, Array conversion helpers, String helpers, and Object.assign for copying. \u65b0\u52a0\u5165\u4e86\u8bb8\u591a\u5e93\uff0c\u5305\u62ec\u6838\u5fc3\u6570\u5b66\u5e93\uff0c\u8fdb\u884c\u6570\u7ec4\u8f6c\u6362\u7684\u534f\u52a9\u51fd\u6570\uff0c\u5b57\u7b26\u4e32 helper\uff0c\u4ee5\u53ca\u7528\u6765\u8fdb\u884c\u62f7\u8d1d\u7684Object.assign\u3002 Number . EPSILON Number . isInteger ( Infinity ) // false Number . isNaN ( \"NaN\" ) // false Math . acosh ( 3 ) // 1.762747174039086 Math . hypot ( 3 , 4 ) // 5 Math . imul ( Math . pow ( 2 , 32 ) - 1 , Math . pow ( 2 , 32 ) - 2 ) // 2 \"abcde\" . includes ( \"cd\" ) // true \"abc\" . repeat ( 3 ) // \"abcabcabc\" Array . from ( document . querySelectorAll ( '*' )) // Returns a real Array \u8fd4\u56de\u4e00\u4e2a\u771f\u6b63\u7684Array Array . of ( 1 , 2 , 3 ) // Similar to new Array(...), but without special one-arg behavior \u4e0eArray(...)\u7c7b\u4f3c\uff0c\u4f46\u53ea\u6709\u4e00\u4e2a\u53c2\u6570\u65f6\uff0c\u5e76\u4e0d\u4f1a\u6709\u7279\u6b8a\u884c\u4e3a\u3002 [ 0 , 0 , 0 ]. fill ( 7 , 1 ) // [0,7,7] [ 1 , 2 , 3 ]. find ( x => x == 3 ) // 3 [ 1 , 2 , 3 ]. findIndex ( x => x == 2 ) // 1 [ 1 , 2 , 3 , 4 , 5 ]. copyWithin ( 3 , 0 ) // [1, 2, 3, 1, 2] [ \"a\" , \"b\" , \"c\" ]. entries () // iterator [0, \"a\"], [1,\"b\"], [2,\"c\"] [ \"a\" , \"b\" , \"c\" ]. keys () // iterator 0, 1, 2 [ \"a\" , \"b\" , \"c\" ]. values () // iterator \"a\", \"b\", \"c\" Object . assign ( Point , { origin : new Point ( 0 , 0 ) }) Binary and Octal Literals \u4e8c\u8fdb\u5236\u548c\u516b\u8fdb\u5236\u5b57\u9762\u91cf \u00b6 Two new numeric literal forms are added for binary ( b ) and octal ( o ). \u52a0\u5165\u5bf9\u4e8c\u8fdb\u5236( b )\u548c\u516b\u8fdb\u5236( o )\u5b57\u9762\u91cf\u7684\u652f\u6301\u3002 0b111110111 === 503 // true 0o767 === 503 // true Promises \u5bf9\u8c61 \u00b6 Promises are a library for asynchronous programming. Promises are a first class representation of a value that may be made available in the future. Promises are used in many existing JavaScript libraries. Promise\u662f\u7528\u6765\u8fdb\u884c\u5f02\u6b65\u7f16\u7a0b\u7684\u5e93\u3002Promise\u662f\u5bf9\u4e00\u4e2a\u201c\u5c06\u6765\u53ef\u80fd\u4f1a\u53d8\u5f97\u53ef\u7528\u201d\u7684\u503c\u7684\u7b2c\u4e00\u7c7b\u8868\u793a\uff0cPromise\u88ab\u4f7f\u7528\u5728\u73b0\u6709\u7684\u8bb8\u591aJavaScript\u5e93\u4e2d\u3002 function timeout ( duration = 0 ) { return new Promise (( resolve , reject ) => { setTimeout ( resolve , duration ); }) } var p = timeout ( 1000 ). then (() => { return timeout ( 2000 ); }). then (() => { throw new Error ( \"hmm\" ); }). catch ( err => { return Promise . all ([ timeout ( 100 ), timeout ( 200 )]); }) Reflect API \u53cd\u5c04API \u00b6 Full reflection API exposing the runtime-level meta-operations on objects. This is effectively the inverse of the Proxy API, and allows making calls corresponding to the same meta-operations as the proxy traps. Especially useful for implementing proxies. \u5b8c\u6574\u7684\u53cd\u5c04API\u3002\u6b64API\u5728\u5bf9\u8c61\u4e0a\u66b4\u9732\u4e86\u8fd0\u884c\u65f6\u7ea7\u522b\u7684\u5143\u64cd\u4f5c\uff0c\u4ece\u6548\u679c\u4e0a\u6765\u8bf4\uff0c\u8fd9\u662f\u4e00\u4e2a\u53cd\u4ee3\u7406API\uff0c\u5e76\u5141\u8bb8\u8c03\u7528\u4e0e\u4ee3\u7406\u9677\u9631\u4e2d\u76f8\u540c\u7684\u5143\u64cd\u4f5c\u3002\u5b9e\u73b0\u4ee3\u7406\u975e\u5e38\u6709\u7528\u3002 // No sample yet Tail Calls \u5c3e\u8c03\u7528 \u00b6 Calls in tail-position are guaranteed to not grow the stack unboundedly. Makes recursive algorithms safe in the face of unbounded inputs. \uff08ES6\uff09\u4fdd\u8bc1\u5c3e\u90e8\u8c03\u7528\u65f6\u6808\u4e0d\u4f1a\u65e0\u9650\u589e\u957f\uff0c\u8fd9\u4f7f\u5f97\u9012\u5f52\u7b97\u6cd5\u5728\u9762\u5bf9\u672a\u4f5c\u9650\u5236\u7684\u8f93\u5165\u65f6\uff0c\u80fd\u591f\u5b89\u5168\u5730\u6267\u884c\u3002 function factorial ( n , acc = 1 ) { 'use strict' ; if ( n <= 1 ) return acc ; return factorial ( n - 1 , n * acc ); } // Stack overflow in most implementations today, // but safe on arbitrary inputs in ES6 // \u6808\u6ea2\u51fa\u5b58\u5728\u4e8e\u73b0\u5728\u7edd\u5927\u591a\u6570\u7684\u5b9e\u73b0\u4e2d\uff0c // \u4f46\u662f\u5728 ES6 \u4e2d\uff0c\u9488\u5bf9\u4efb\u610f\u7684\u8f93\u5165\u90fd\u5f88\u5b89\u5168 factorial ( 100000 ) \u7f16\u7a0b\u8bed\u8a00\u8fdb\u5316\u5230\u73b0\u9636\u6bb5\u6c89\u6dc0\u4e86\u8bb8\u591a\u6210\u719f\u65b9\u6848\uff0c\u4f8b\u5982\u63a5\u53e3\uff0cduck-typed\uff0c\u6620\u5c04\u7b49\u7b49\uff0c\u8fd8\u6709\u8bb8\u591a\u4e0d\u660e\u89c9\u5389\u7684\u6982\u5ff5\uff0c\u6bcf\u4e2a\u8bed\u8a00\u90fd\u4e89\u76f8\u652f\u6301\u8fd9\u4e9b\u8bed\u8a00\u8bbe\u8ba1\u7684\u65b0\u65b9\u6848\uff0c\u6240\u4ee5 ES6 \u7684\u4e00\u90e8\u5206\u7279\u6027\u770b\u8d77\u6765\u5f88\u50cf Go","title":"ES6newFeature.md"},{"location":"javascript/ES6newFeature/#ecmascript-6-features","text":"","title":"ECMAScript 6 Features \u4e2d\u6587\u7248"},{"location":"javascript/ES6newFeature/#introduction","text":"ECMAScript 6, also known as ECMAScript 2015, is the latest version of the ECMAScript standard. ES6 is a significant update to the language, and the first update to the language since ES5 was standardized in 2009. Implementation of these features in major JavaScript engines is underway now .ompat-table/es6/). ECMAScript 6(\u6807\u51c6\u5b98\u65b9\u540d\u79f0\u662f ECMAScript 2015) \u662f ECMAScript \u7684\u6700\u65b0\u4e00\u4ee3\u6807\u51c6\u3002ES6 \u7684\u53d1\u5e03\u5c06\u662f\u8fd9\u95e8\u8bed\u8a00\u81ea2009\u5e74 ES5 \u6b63\u5f0f\u53d1\u5e03\u4ee5\u6765\u7684\u9996\u6b21\u66f4\u65b0\uff0c\u662f\u4e00\u6b21\u5bcc\u6709\u610f\u4e49\u7684\u66f4\u65b0\u3002\u4e3b\u6d41Javascript\u5f15\u64ce\u4e2d\u7684\u8fd9\u4e9b\u65b0\u7279\u6027 \u6b63\u5728 \u5f00\u53d1\u4e2d\u3002 ES6 \u5305\u542b\u4e86\u4ee5\u4e0b\u8fd9\u4e9b\u65b0\u7279\u6027\uff1a Arrows \u7bad\u5934\u51fd\u6570 Classes \u7c7b Enhanced Object Literals \u589e\u5f3a\u7684\u5bf9\u8c61\u5b57\u9762\u91cf Template Strings \u6a21\u677f\u5b57\u7b26\u4e32 Destructuring \u89e3\u6784 Default + Rest + Spread \u9ed8\u8ba4\u53c2\u6570+\u4e0d\u5b9a\u53c2\u6570+\u53c2\u6570\u5c55\u5f00 Let + Const \u64cd\u4f5c\u7b26 Iterators \u8fed\u4ee3\u5668 + For..Of \u5faa\u73af Generators \u751f\u6210\u5668 Unicode \u7edf\u4e00\u7801 Modules \u6a21\u5757 Module Loaders \u6a21\u5757\u52a0\u8f7d\u5668 Map + Set + Weakmap + Weakset \u6570\u636e\u7ed3\u6784 Proxies \u4ee3\u7406 Symbols \u7b26\u53f7 Subclassable Built-ins \u53ef\u5b50\u7c7b\u5316\u5185\u5efa\u5bf9\u8c61 Promises \u5bf9\u8c61 Math + Number + String + Object APIs Binary and Octal Literals \u4e8c\u8fdb\u5236\u548c\u516b\u8fdb\u5236\u5b57\u9762\u91cf Reflect \u53cd\u5c04 API Tail Calls \u5c3e\u8c03\u7528","title":"Introduction \u7b80\u4ecb"},{"location":"javascript/ES6newFeature/#ecmascript-6-features_1","text":"","title":"ECMAScript 6 Features \u7279\u6027"},{"location":"javascript/ES6newFeature/#arrows","text":"Arrows are a function shorthand using the => syntax. They are syntactically similar to the related feature in C#, Java 8 and CoffeeScript. They support both statement block bodies as well as expression bodies which return the value of the expression. Unlike functions, arrows share the same lexical this as their surrounding code. \u7bad\u5934\u51fd\u6570\u662f\u4f7f\u7528 => \u8bed\u6cd5\u7684\u51fd\u6570\u7b80\u5199\u5f62\u5f0f\u3002\u8fd9\u5728\u8bed\u6cd5\u4e0a\u4e0e C#\u3001Java 8 \u548c CoffeeScript \u7684\u76f8\u5173\u7279\u6027\u975e\u5e38\u76f8\u4f3c\u3002\u5b83\u4eec\u540c\u65f6\u652f\u6301\u8868\u8fbe\u5f0f\u8bed\u53e5\u5757\u4f53\u548c\u8fd4\u56de\u8868\u8fbe\u5f0f\u7684\u503c\u7684\u8868\u8fbe\u5f0f\u4f53\u3002 \u4e0e\uff08\u666e\u901a\u7684\uff09\u51fd\u6570\u6240\u4e0d\u540c\u7684\u662f\uff0c\u7bad\u5934\u51fd\u6570\u548c\u5176\u4e0a\u4e0b\u6587\u4e2d\u7684\u4ee3\u7801\u5171\u4eab\u540c\u4e00\u4e2a\u5177\u6709\u8bcd\u6cd5\u4f5c\u7528\u57df\u7684 this \u3002 \u7b80\u5355\u7684\u8bf4\uff0c\u7bad\u5934\u51fd\u6570\u5185\u90e8\u7684 this \u548c\u4e0a\u4e0b\u6587\u4e2d\u7684 this \u662f\u76f8\u540c\u7684\uff0c\u5728React\u4e2d\u53ef\u4ee5\u5f88\u597d\u7684\u4f7f\u7528 class \u4e2d\u7684\u51fd\u6570\u548c\u5c5e\u6027\u3002 // Expression bodies // \u8868\u8fbe\u5f0f\u4f53 var odds = evens . map ( v => v + 1 ); var nums = evens . map (( v , i ) => v + i ); var pairs = evens . map ( v => ({ even : v , odd : v + 1 })); // Statement bodies // \u8bed\u53e5\u4f53 nums . forEach ( v => { if ( v % 5 === 0 ) fives . push ( v ); }); // Lexical this // \u5177\u6709\u8bcd\u6cd5\u4f5c\u7528\u57df\u7684 this var bob = { _name : \"Bob\" , _friends : [ \"Amy\" , \"Bob\" , \"Cinne\" , \"Dylan\" , \"Ellen\" ], printFriends () { this . _friends . forEach ( f => console . log ( this . _name + \" knows \" + f )); } }","title":"Arrows \u7bad\u5934\u51fd\u6570"},{"location":"javascript/ES6newFeature/#classes","text":"ES6 classes are a simple sugar over the prototype-based OO pattern. Having a single convenient declarative form makes class patterns easier to use, and encourages interoperability. Classes support prototype-based inheritance, super calls, instance and static methods and constructors. ES6 \u7684\u7c7b\u662f\u5728\u57fa\u4e8e\u539f\u578b\u7684\u9762\u5411\u5bf9\u8c61\u6a21\u5f0f\u4e4b\u4e0a\u7684\u7b80\u5355\u8bed\u6cd5\u7cd6\uff0c\u5b83\u6709\u552f\u4e00\u7684\u3001\u4fbf\u6377\u7684\u58f0\u660e\u5f62\u5f0f\uff0c\u8fd9\u4f7f\u5f97\u7c7b\u6a21\u5f0f\u66f4\u5bb9\u6613\u4f7f\u7528\uff0c\u5e76\u4e14\u9f13\u52b1\u4e86\u4e92\u64cd\u4f5c\u6027\u3002 class\u5b9a\u4e49\u7684\u7c7b\u652f\u6301\u57fa\u4e8e\u539f\u578b\u7684\u7ee7\u627f\u3001 super \u8c03\u7528 \u3001\u5b9e\u4f8b\u548c\u9759\u6001\u65b9\u6cd5\u3001\u6784\u9020\u51fd\u6570\u3002 class SkinnedMesh extends THREE . Mesh { // extends \u57fa\u4e8e\u539f\u578b\u7684\u7ee7\u627f constructor ( geometry , materials ) { super ( geometry , materials ); this . idMatrix = SkinnedMesh . defaultMatrix (); this . bones = []; this . boneMatrices = []; //... } // function update ( camera ) { //... super . update (); } // \u83b7\u53d6\u5c5e\u6027 get boneCount () { return this . bones . length ; } // \u8bbe\u7f6e\u5c5e\u6027 set matrixType ( matrixType ) { this . idMatrix = SkinnedMesh [ matrixType ](); } static defaultMatrix () { return new THREE . Matrix4 (); } }","title":"Classes \u7c7b"},{"location":"javascript/ES6newFeature/#enhanced-object-literals","text":"Object literals are extended to support setting the prototype at construction, shorthand for foo: foo assignments, defining methods, making super calls, and computing property names with expressions. Together, these also bring object literals and class declarations closer together, and let object-based design benefit from some of the same conveniences. \u5bf9\u8c61\u5b57\u9762\u91cf\u88ab\u6269\u5c55\u4ee5\u652f\u6301\u4ee5\u4e0b\u7279\u6027\uff1a\u5728\u6784\u5efa\u7684\u65f6\u5019\u8bbe\u7f6e\u539f\u578b\u3001 foo: foo \u8d4b\u503c\u7684\u7b80\u5199\u5f62\u5f0f\u3001\u5b9a\u4e49\u65b9\u6cd5\u3001\u8fdb\u884c[super \u8c03\u7528]\u3001\u4f7f\u7528\u8868\u8fbe\u5f0f\u8ba1\u7b97\u5c5e\u6027\u540d\u79f0\u7b49\u3002\u8fd9\u6837\u5c31\u4f7f\u5f97\u5bf9\u8c61\u5b57\u9762\u91cf\u548c\u7c7b\u7684\u58f0\u660e\u7684\u8054\u7cfb\u66f4\u52a0\u7d27\u5bc6\uff0c\u4f7f\u5f97\u57fa\u4e8e\u5bf9\u8c61\u7684\u8bbe\u8ba1\u66f4\u52a0\u4fbf\u5229\u3002 ++++++++++++++++++++++++++++++++++++++++ var obj = { // __proto__ __proto__ : theProtoObj , // Shorthand for \u2018handler: handler\u2019 // \u2018handler: handler\u2019 \u7684\u7b80\u5199\u5f62\u5f0f handler , // Methods toString () { // Super calls return \"d \" + super . toString (); }, // Computed (dynamic) property names // \u8ba1\u7b97\u6240\u5f97\u7684\uff08\u52a8\u6001\u7684\uff09\u5c5e\u6027\u540d\u79f0 [ 'prop_' + (() => 42 )() ] : 42 };","title":"Enhanced Object Literals \u589e\u5f3a\u7684\u5bf9\u8c61\u5b57\u9762\u91cf"},{"location":"javascript/ES6newFeature/#template-strings","text":"Template strings provide syntactic sugar for constructing strings. This is similar to string interpolation features in Perl, Python and more. Optionally, a tag can be added to allow the string construction to be customized, avoiding injection attacks or constructing higher level data structures from string contents. \u6a21\u677f\u5b57\u7b26\u4e32\u63d0\u4f9b\u6784\u9020\u5b57\u7b26\u4e32\u7684\u8bed\u6cd5\u7cd6\uff0c\u8fd9\u4e0ePerl\u3001Python\u7b49\u8bb8\u591a\u8bed\u8a00\u4e2d\u7684\u5b57\u7b26\u4e32\u63d2\u503c\u529f\u80fd\u975e\u5e38\u76f8\u4f3c\uff0c\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0\u6807\u7b7e(tag)\u6765\u81ea\u5b9a\u4e49\u6784\u9020\u5b57\u7b26\u4e32\uff0c\u907f\u514d\u6ce8\u5165\u653b\u51fb\uff0c\u6216\u8005\u57fa\u4e8e\u5b57\u7b26\u4e32\u6784\u5efa\u66f4\u9ad8\u5c42\u6b21\u7684\u6570\u636e\u7ed3\u6784\u3002 // Basic literal string creation // \u57fa\u7840\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7684\u521b\u5efa `In JavaScript ' \\ n' is a line-feed.` // Multiline strings // \u591a\u884c\u5b57\u7b26\u4e32 `In JavaScript this is not legal.` // String interpolation // \u5b57\u7b26\u4e32\u63d2\u503c var name = \"Bob\" , time = \"today\" ; `Hello ${ name } , how are you ${ time } ?` // Construct an HTTP request prefix is used to interpret the replacements and construction // \u6784\u9020\u4e00\u4e2aHTTP\u8bf7\u6c42\u524d\u7f00\u7528\u6765\u89e3\u91ca\u66ff\u6362\u548c\u6784\u9020\uff0c\u5927\u610f\u5c31\u662f\u53ef\u4ee5\u6784\u9020\u4e00\u4e2a\u901a\u7528\u7684HTTP prefix\u5e76\u901a\u8fc7\u8d4b\u503c\u751f\u6210\u6700\u7ec8\u7684HTTP\u8bf7\u6c42 GET `http://foo.org/bar?a= ${ a } &b= ${ b } Content-Type: application/json X-Credentials: ${ credentials } { \"foo\": ${ foo } , \"bar\": ${ bar } }` ( myOnReadyStateChangeHandler );","title":"Template Strings \u6a21\u677f\u5b57\u7b26\u4e32"},{"location":"javascript/ES6newFeature/#destructuring","text":"Destructuring allows binding using pattern matching, with support for matching arrays and objects. Destructuring is fail-soft, similar to standard object lookup foo[\"bar\"] , producing undefined values when not found. \u89e3\u6784\u5141\u8bb8\u5728\uff08\u53d8\u91cf-\u503c\uff09\u7ed1\u5b9a\u65f6\u4f7f\u7528\u6a21\u5f0f\u5339\u914d\uff0c\u652f\u6301\u5339\u914d\u6570\u7ec4\u548c\u5bf9\u8c61\uff0c\u89e3\u6784\u652f\u6301 \u5931\u6548\u5f31\u5316 \uff0c\u4e0e\u6807\u51c6\u7684\u5bf9\u8c61\u67e5\u8be2 foo[\"bar\"] \u76f8\u4f3c\uff0c\u5f53\u67e5\u8be2\u65e0\u7ed3\u679c\u65f6\u751f\u6210 undefined \u503c\u3002 // list matching // \u5217\u8868\u5339\u914d var [ a , , b ] = [ 1 , 2 , 3 ]; // object matching // \u5bf9\u8c61\u5339\u914d var { op : a , lhs : { op : b }, rhs : c } = getASTNode () // object matching shorthand // binds `op`, `lhs` and `rhs` in scope // \u5bf9\u8c61\u5339\u914d\u7b80\u5199\u5f62\u5f0f var { op , lhs , rhs } = getASTNode () // \u4e0a\u9762\u4f5c\u8005\u7ed9\u7684\u793a\u4f8b\u770b\u5f97\u4e91\u91cc\u96fe\u91cc\u7684\uff0c\u8fd9\u91cc\u6211\u518d\u7ed9\u51fa\u4e00\u4e2a function today () { return { d : 2 , m : 3 , y : 2015 }; } var { m : month , y : year } = today (); // month = 3, year = 2015 // Can be used in parameter position // \u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u53c2\u6570\u4f7f\u7528 function g ({ name : x }) { console . log ( x ); } g ({ name : 5 }) // Fail-soft destructuring // \u5931\u6548\u5f31\u5316\u89e3\u6784\uff0c\u7ed3\u679c\u67e5\u8be2\u4e0d\u5230\u65f6\u5b9a\u4e49\u4e3a undefined var [ a ] = []; a === undefined ; // Fail-soft destructuring with defaults // \u5177\u5907\u9ed8\u8ba4\u503c\u7684\u5931\u6548\u5f31\u5316\u89e3\u6784 var [ a = 1 ] = []; a === 1 ;","title":"Destructuring \u89e3\u6784"},{"location":"javascript/ES6newFeature/#default-rest-spread","text":"Callee-evaluated default parameter values. Turn an array into consecutive arguments in a function call. Bind trailing parameters to an array. Rest replaces the need for arguments and addresses common cases more directly. \u652f\u6301\u7531\u88ab\u8c03\u7528\u51fd\u6570\u8fdb\u884c\u6c42\u503c\u7684\u53c2\u6570\u9ed8\u8ba4\u503c\u3002 \u5728\u51fd\u6570\u8c03\u7528\u65f6\u4f7f\u7528 ... \u8fd0\u7b97\u7b26\uff0c\u53ef\u4ee5\u5c06\u4f5c\u4e3a\u53c2\u6570\u7684\u6570\u7ec4\u62c6\u89e3\u4e3a\u8fde\u7eed\u7684\u591a\u4e2a\u53c2\u6570\u3002 \u5728\u51fd\u6570\u5b9a\u4e49\u65f6\u4f7f\u7528 ... \u8fd0\u7b97\u7b26\uff0c\u5219\u53ef\u4ee5\u5c06\u51fd\u6570\u5c3e\u90e8\u7684\u591a\u4e2a\u53c2\u6570\u7ed1\u5b9a\u5230\u4e00\u4e2a\u6570\u7ec4\u4e2d\u3002 \u4e0d\u5b9a\u53c2\u6570\u53d6\u4ee3\u4e86 arguments \uff0c\u5e76\u53ef\u66f4\u76f4\u63a5\u5730\u5e94\u7528\u4e8e\u901a\u5e38\u7684\u7528\u4f8b\u4e2d\u3002 function f ( x , y = 12 ) { // y is 12 if not passed (or passed as undefined) return x + y ; } f ( 3 ) == 15 function f ( x , ... y ) { // y is an Array return x * y . length ; } f ( 3 , \"hello\" , true ) == 6 function f ( x , y , z ) { return x + y + z ; } // Pass each elem of array as argument f (...[ 1 , 2 , 3 ]) == 6","title":"Default + Rest + Spread  \u9ed8\u8ba4\u53c2\u6570+\u4e0d\u5b9a\u53c2\u6570+\u53c2\u6570\u5c55\u5f00"},{"location":"javascript/ES6newFeature/#let-const","text":"Block-scoped binding constructs. let is the new var . const is single-assignment. Static restrictions prevent use before assignment. let \u548c const \u662f\u5177\u6709\u5757\u7ea7\u4f5c\u7528\u57df\u7684\u7ed1\u5b9a\u7528\u6784\u9020\uff0c let \u662f\u65b0\u7684 var \uff0c\u53ea\u5728\u5757\u7ea7\u4f5c\u7528\u57df\u5185\u6709\u6548\uff0c const \u662f \u5355\u8d4b\u503c \uff0c\u58f0\u660e\u7684\u662f\u5757\u7ea7\u4f5c\u7528\u57df\u7684\u5e38\u91cf\u3002\u6b64\u4e24\u79cd\u64cd\u4f5c\u7b26\u5177\u6709\u9759\u6001\u9650\u5236\uff0c\u53ef\u4ee5\u9632\u6b62\u51fa\u73b0\u201c\u5728\u8d4b\u503c\u4e4b\u524d\u4f7f\u7528\u201d\u7684\u9519\u8bef\u3002 function f () { { let x ; { // okay, block scoped name const x = \"sneaky\" ; // error, const x = \"foo\" ; } // error, already declared in block let x = \"inner\" ; } }","title":"Let + Const \u64cd\u4f5c\u7b26"},{"location":"javascript/ES6newFeature/#iterators-forof-forof","text":"Iterator objects enable custom iteration like CLR IEnumerable or Java Iterable. Generalize for..in to custom iterator-based iteration with for..of . Don\u2019t require realizing an array, enabling lazy design patterns like LINQ. \u8fed\u4ee3\u5668\u5bf9\u8c61\u5141\u8bb8\u50cf CLI IEnumerable \u6216\u8005 Java Iterable \u4e00\u6837\u81ea\u5b9a\u4e49\u8fed\u4ee3\u5668\u3002\u5c06 for..in \u8f6c\u6362\u4e3a\u81ea\u5b9a\u4e49\u7684\u57fa\u4e8e\u8fed\u4ee3\u5668\u7684\u5f62\u5982 for..of \u7684\u8fed\u4ee3\uff0c\u4e0d\u9700\u8981\u5b9e\u73b0\u4e00\u4e2a\u6570\u7ec4\uff0c\u652f\u6301\u50cf LINQ \u4e00\u6837\u7684\u60f0\u6027\u8bbe\u8ba1\u6a21\u5f0f let fibonacci = { [ Symbol . iterator ]() { let pre = 0 , cur = 1 ; return { next () { [ pre , cur ] = [ cur , pre + cur ]; return { done : false , value : cur } } } } } for ( var n of fibonacci ) { // truncate the sequence at 1000 if ( n > 1000 ) break ; console . log ( n ); } Iteration is based on these duck-typed interfaces (using TypeScript type syntax for exposition only): \u8fed\u4ee3\u5668\u57fa\u4e8e\u8fd9\u4e9b \u9e2d\u5b50\u7c7b\u578b\u7684\u63a5\u53e3 (\u6b64\u5904\u4f7f\u7528 TypeScript \u7684\u7c7b\u578b\u8bed\u6cd5\uff0c\u4ec5\u7528\u4e8e\u9610\u8ff0\u95ee\u9898)\uff1a interface IteratorResult { done : boolean ; value : any ; } interface Iterator { next () : IteratorResult ; } interface Iterable { [ Symbol . iterator ]() : Iterator }","title":"Iterators + For..Of \u8fed\u4ee3\u5668 + For..of \u5faa\u73af"},{"location":"javascript/ES6newFeature/#generators","text":"Generators simplify iterator-authoring using function* and yield . A function declared as function* returns a Generator instance. Generators are subtypes of iterators which include additional next and throw . These enable values to flow back into the generator, so yield is an expression form which returns a value (or throws). \u751f\u6210\u5668\u901a\u8fc7\u4f7f\u7528 function* \u548c yield \u7b80\u5316\u8fed\u4ee3\u5668\u7684\u7f16\u5199\uff0c \u5f62\u5982function*\u7684\u51fd\u6570\u58f0\u660e\u8fd4\u56de\u4e00\u4e2a\u751f\u6210\u5668\u5b9e\u4f8b\uff0c\u751f\u6210\u5668\u662f\u8fed\u4ee3\u5668\u7684\u5b50\u7c7b\u578b\uff0c\u8fed\u4ee3\u5668\u5305\u62ec\u9644\u52a0\u7684 next \u548c throw \uff0c\u8fd9\u4f7f\u5f97\u503c\u53ef\u4ee5\u56de\u6d41\u5230\u751f\u6210\u5668\u4e2d\uff0c\u6240\u4ee5\uff0c yield \u662f\u4e00\u4e2a\u8fd4\u56de\u6216\u629b\u51fa\u503c\u7684\u8868\u8fbe\u5f0f\u5f62\u5f0f\u3002 Note: Can also be used to enable \u2018await\u2019-like async programming, see also ES7 await proposal. \u6ce8\u610f\uff1a\u4e5f\u53ef\u4ee5\u88ab\u7528\u4f5c\u7c7b\u4f3c\u2018await\u2019\u4e00\u6837\u7684\u5f02\u6b65\u7f16\u7a0b\u4e2d\uff0c\u5177\u4f53\u7ec6\u8282\u67e5\u770b ES7\u7684 await \u63d0\u6848 var fibonacci = { [ Symbol . iterator ] : function * () { var pre = 0 , cur = 1 ; for (;;) { var temp = pre ; pre = cur ; cur += temp ; yield cur ; } } } for ( var n of fibonacci ) { // truncate the sequence at 1000 if ( n > 1000 ) break ; console . log ( n ); } The generator interface is (using TypeScript type syntax for exposition only): \u751f\u6210\u5668\u63a5\u53e3\u5982\u4e0b(\u6b64\u5904\u4f7f\u7528 TypeScript \u7684\u7c7b\u578b\u8bed\u6cd5\uff0c\u4ec5\u7528\u4e8e\u9610\u8ff0\u95ee\u9898)\uff1a interface Generator extends Iterator { next ( value? : any ) : IteratorResult ; throw ( exception : any ); }","title":"Generators \u751f\u6210\u5668"},{"location":"javascript/ES6newFeature/#unicode","text":"Non-breaking additions to support full Unicode, including new Unicode literal form in strings and new RegExp u mode to handle code points, as well as new APIs to process strings at the 21bit code points level. These additions support building global apps in JavaScript. Non-breaking additions to support full Unicode ~~\u8fd9\u53e5\u770b\u4e86\u534a\u5929\u4e0d\u77e5\u9053\u4f5c\u8005\u60f3\u8981\u8868\u8fbe\u4ec0\u4e48\uff0c\u6211\u5c31\u67e5\u4e86\u4e0b\u8d44\u6599\uff0c\u6709\u4e00\u79cd\u53ef\u80fd\u662f\uff1a \u589e\u52a0 \u4e0d\u6362\u884c\u7a7a\u683c \u7684\u7279\u6027\u4ee5\u5168\u9762\u652f\u6301Unicode\uff0c\u8fd8\u6709\u4e00\u79cd\u53ef\u80fd\u662f\uff1a~~\u6e10\u8fdb\u589e\u5f3a\u5730\u3001\u975e\u7834\u574f\u6027\u5730\u5168\u9762\u652f\u6301Unicode\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u65b0\u52a0\u5165\u7684\u7279\u6027\u5e76\u4e0d\u5f71\u54cd\u8001\u7684\u4ee3\u7801\u7684\u4f7f\u7528\u3002\u6211\u4e2a\u4eba\u6bd4\u8f83\u503e\u5411\u4e8e\u7b2c\u4e8c\u79cd\u89e3\u8bfb\u3002 @sumhat \u63d0\u793a\u8bf4\u7b2c\u4e8c\u79cd\u89e3\u8bfb\u662f\u6b63\u786e\u7684 \uff08\u7eed\uff09\u5b57\u7b26\u4e32\u652f\u6301\u65b0\u7684Unicode\u6587\u672c\u5f62\u5f0f\uff0c\u4e5f\u589e\u52a0\u4e86\u65b0\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u4fee\u9970\u7b26 u \u6765\u5904\u7406\u7801\u4f4d\uff0c\u540c\u65f6\uff0c\u65b0\u7684API\u53ef\u4ee5\u5728 21bit\u7801\u4f4d\u7ea7\u522b \u4e0a\u5904\u7406\u5b57\u7b26\u4e32\uff0c\u589e\u52a0\u8fd9\u4e9b\u652f\u6301\u540e\u53ef\u4ee5\u4f7f\u7528 Javascript \u6784\u5efa\u5168\u7403\u5316\u7684\u5e94\u7528\u3002 \u6ce8\uff1a\u5173\u4e8eUnicode\u63a8\u8350\u9605\u8bfb \u590d\u6742\u7684Unicode\uff0c\u7591\u60d1\u7684Python // same as ES5.1 // \u4e0e ES5.1 \u76f8\u540c \"\ud842\udfb7\" . length == 2 // new RegExp behaviour, opt-in \u2018u\u2019 // \u65b0\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u884c\u4e3a\uff0c\u4f7f\u7528\u53ef\u9009\u7684\u2018u\u2019\u4fee\u9970\u7b26 \"\ud842\udfb7\" . match ( /./u )[ 0 ]. length == 2 // new form // ES5.1\u7684\u5199\u6cd5\u662f`\u53cd\u659c\u6760+u+\u7801\u70b9`\uff0c\u65b0\u7684\u5f62\u5f0f\u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0\u4e00\u7ec4\u5927\u62ec\u53f7`{}`\u6765\u8868\u793a\u8d85\u8fc7\u56db\u5b57\u8282\u7684\u7801\u70b9 \"\\u{20BB7}\" == \"\ud842\udfb7\" == \"\\uD842\\uDFB7\" // new String ops // \u65b0\u7684\u5b57\u7b26\u4e32\u5904\u7406\u65b9\u6cd5 \"\ud842\udfb7\" . codePointAt ( 0 ) == 0x20BB7 // for-of iterates code points // foo-of \u4ee5\u7801\u4f4d\u4e3a\u5355\u4f4d\u8fdb\u884c\u8fed\u4ee3 for ( var c of \"\ud842\udfb7\" ) { console . log ( c ); }","title":"Unicode \u7edf\u4e00\u7801"},{"location":"javascript/ES6newFeature/#modules","text":"Language-level support for modules for component definition. Codifies patterns from popular JavaScript module loaders (AMD, CommonJS). Runtime behaviour defined by a host-defined default loader. Implicitly async model \u2013 no code executes until requested modules are available and processed. ES6 \u5728\u8bed\u8a00\u5c42\u9762\u4e0a\u652f\u6301\u4f7f\u7528\u6a21\u5757\u6765\u8fdb\u884c\u7ec4\u4ef6\u5b9a\u4e49\uff0c\u5c06\u6d41\u884c\u7684JavaScript\u6a21\u5757\u52a0\u8f7d\u5668\uff08AMD\u3001CommonJS\uff09\u4e2d\u7684\u6a21\u5f0f\u56fa\u5316\u5230\u4e86\u8bed\u8a00\u4e2d\u3002\u8fd0\u884c\u65f6\u884c\u4e3a\u7531\u5bbf\u4e3b\u5b9a\u4e49\u7684\u9ed8\u8ba4\u52a0\u8f7d\u5668\u5b9a\u4e49\uff0c\u9690\u5f0f\u5f02\u6b65\u6a21\u578b - \u76f4\u5230\uff08\u5168\u90e8\uff09\u8bf7\u6c42\u7684\u6a21\u5757\u5747\u53ef\u7528\u4e14\u7ecf\u5904\u7406\u540e\uff0c\u624d\u4f1a\u6267\u884c\uff08\u5f53\u524d\u6a21\u5757\u5185\u7684\uff09\u4ee3\u7801\u3002 // lib/math.js export function sum ( x , y ) { return x + y ; } export var pi = 3.141593 ; // app.js import * as math from \"lib/math\" ; alert ( \"2\u03c0 = \" + math . sum ( math . pi , math . pi )); // otherApp.js import { sum , pi } from \"lib/math\" ; alert ( \"2\u03c0 = \" + sum ( pi , pi )); Some additional features include export default and export * : \u989d\u5916\u7684\u65b0\u7279\u6027\uff0c\u5305\u62ec export default \u4ee5\u53ca export * \uff1a // lib/mathplusplus.js export * from \"lib/math\" ; export var e = 2.71828182846 ; export default function ( x ) { return Math . log ( x ); } // app.js import ln , { pi , e } from \"lib/mathplusplus\" ; alert ( \"2\u03c0 = \" + ln ( e ) * pi * 2 );","title":"Modules \u6a21\u5757"},{"location":"javascript/ES6newFeature/#module-loaders","text":"Module loaders support: - Dynamic loading - State isolation - Global namespace isolation - Compilation hooks - Nested virtualization \u6a21\u5757\u52a0\u8f7d\u5668\u652f\u6301: - \u52a8\u6001\u52a0\u8f7d - \u72b6\u6001\u9694\u79bb - \u5168\u5c40\u547d\u540d\u7a7a\u95f4\u9694\u79bb - \u7f16\u8bd1\u94a9\u5b50 - \u5d4c\u5957\u865a\u62df\u5316(\u6ce8: \u5728\u6a21\u5757\u5185\u8c03\u7528\u6a21\u5757) The default module loader can be configured, and new loaders can be constructed to evaluate and load code in isolated or constrained contexts. \u9ed8\u8ba4\u7684\u6a21\u5757\u52a0\u8f7d\u5668\u662f\u53ef\u914d\u7f6e\u7684\uff0c\u4e5f\u53ef\u4ee5\u6784\u5efa\u65b0\u7684\u52a0\u8f7d\u5668\uff0c\u5bf9\u5728\u9694\u79bb\u548c\u53d7\u9650\u4e0a\u4e0b\u6587\u4e2d\u7684\u4ee3\u7801\u8fdb\u884c\u6c42\u503c\u548c\u52a0\u8f7d\u3002 // Dynamic loading \u2013 \u2018System\u2019 is default loader // \u52a8\u6001\u52a0\u8f7d - \u2018System\u2019 \u662f\u9ed8\u8ba4\u7684\u52a0\u8f7d\u5668 System . import ( 'lib/math' ). then ( function ( m ) { alert ( \"2\u03c0 = \" + m . sum ( m . pi , m . pi )); }); // Create execution sandboxes \u2013 new Loaders // \u521b\u5efa\u4e00\u4e2a\u6267\u884c\u6c99\u7bb1- \u65b0\u7684\u52a0\u8f7d\u5668 var loader = new Loader ({ global : fixup ( window ) // replace \u2018console.log\u2019 }); loader . eval ( \"console.log('hello world!');\" ); // Directly manipulate module cache // \u76f4\u63a5\u64cd\u4f5c\u6a21\u5757\u7f13\u5b58 System . get ( 'jquery' ); System . set ( 'jquery' , Module ({ $ : $ })); // WARNING: not yet finalized \u8b66\u544a\uff1a\u6b64\u90e8\u5206\u7684\u8bbe\u8ba1\u5c1a\u672a\u6700\u7ec8\u5b9a\u7a3f","title":"Module Loaders \u6a21\u5757\u52a0\u8f7d\u5668"},{"location":"javascript/ES6newFeature/#map-set-weakmap-weakset","text":"Efficient data structures for common algorithms. WeakMaps provides leak-free object-key\u2019d side tables. \u7528\u4e8e\u5b9e\u73b0\u5e38\u89c1\u7b97\u6cd5\u7684\u9ad8\u6548\u6570\u636e\u7ed3\u6784\uff0cWeakMaps\u63d0\u4f9b\u4e0d\u4f1a\u6cc4\u9732\u7684\u5bf9\u8c61\u952e(\u5bf9\u8c61\u4f5c\u4e3a\u952e\u540d\uff0c\u800c\u4e14\u952e\u540d\u6307\u5411\u5bf9\u8c61)\u7d22\u5f15\u8868 \u6ce8\uff1a\u6240\u8c13\u7684\u4e0d\u4f1a\u6cc4\u9732\uff0c\u6307\u7684\u662f\u5bf9\u5e94\u7684\u5bf9\u8c61\u53ef\u80fd\u4f1a\u88ab\u81ea\u52a8\u56de\u6536\uff0c\u56de\u6536\u540eWeakMaps\u81ea\u52a8\u79fb\u9664\u5bf9\u5e94\u7684\u952e\u503c\u5bf9\uff0c\u6709\u52a9\u4e8e\u9632\u6b62\u5185\u5b58\u6cc4\u9732 // Sets var s = new Set (); s . add ( \"hello\" ). add ( \"goodbye\" ). add ( \"hello\" ); s . size === 2 ; s . has ( \"hello\" ) === true ; // Maps var m = new Map (); m . set ( \"hello\" , 42 ); m . set ( s , 34 ); m . get ( s ) == 34 ; // Weak Maps var wm = new WeakMap (); wm . set ( s , { extra : 42 }); wm . size === undefined // Weak Sets var ws = new WeakSet (); ws . add ({ data : 42 }); // Because the added object has no other references, it will not be held in the set // \u7531\u4e8e\u6240\u52a0\u5165\u7684\u5bf9\u8c61\u6ca1\u6709\u5176\u4ed6\u5f15\u7528\uff0c\u6545\u5728\u6b64\u96c6\u5408\u5185\u4e0d\u4f1a\u4fdd\u7559\u4e4b\u3002","title":"Map + Set + WeakMap + WeakSet \u6570\u636e\u7ed3\u6784"},{"location":"javascript/ES6newFeature/#proxies","text":"Proxies enable creation of objects with the full range of behaviors available to host objects. Can be used for interception, object virtualization, logging/profiling, etc. \u4ee3\u7406\u53ef\u4ee5\u521b\u9020\u4e00\u4e2a\u5177\u5907\u5bbf\u4e3b\u5bf9\u8c61\u5168\u90e8\u53ef\u7528\u884c\u4e3a\u7684\u5bf9\u8c61\u3002\u53ef\u7528\u4e8e\u62e6\u622a\u3001\u5bf9\u8c61\u865a\u62df\u5316\u3001\u65e5\u5fd7/\u5206\u6790\u7b49\u3002 // Proxying a normal object // \u4ee3\u7406\u4e00\u4e2a\u666e\u901a\u5bf9\u8c61 var target = {}; var handler = { get : function ( receiver , name ) { return `Hello, ${ name } !` ; } }; var p = new Proxy ( target , handler ); p . world === 'Hello, world!' ; // Proxying a function object // \u4ee3\u7406\u4e00\u4e2a\u51fd\u6570\u5bf9\u8c61 var target = function () { return 'I am the target' ; }; var handler = { apply : function ( receiver , ... args ) { return 'I am the proxy' ; } }; var p = new Proxy ( target , handler ); p () === 'I am the proxy' ; There are traps available for all of the runtime-level meta-operations: \u6240\u6709\u8fd0\u884c\u65f6\u7ea7\u522b\u7684\u5143\u64cd\u4f5c\u90fd\u6709\u5bf9\u5e94\u7684\u9677\u9631\uff08\u4f7f\u5f97\u8fd9\u4e9b\u64cd\u4f5c\u90fd\u53ef\u4ee5\u88ab\u4ee3\u7406\uff09\uff1a var handler = { get : ..., set : ..., has : ..., deleteProperty : ..., apply : ..., construct : ..., getOwnPropertyDescriptor : ..., defineProperty : ..., getPrototypeOf : ..., setPrototypeOf : ..., enumerate : ..., ownKeys : ..., preventExtensions : ..., isExtensible : ... }","title":"Proxies \u4ee3\u7406"},{"location":"javascript/ES6newFeature/#symbols","text":"Symbols enable access control for object state. Symbols allow properties to be keyed by either string (as in ES5) or symbol . Symbols are a new primitive type. Optional description parameter used in debugging - but is not part of identity. Symbols are unique (like gensym), but not private since they are exposed via reflection features like Object.getOwnPropertySymbols . \u7b26\u53f7(Symbol) \u80fd\u591f\u5b9e\u73b0\u9488\u5bf9\u5bf9\u8c61\u72b6\u6001\u7684\u8bbf\u95ee\u63a7\u5236\uff0c\u5141\u8bb8\u4f7f\u7528 string (\u4e0eES5\u76f8\u540c)\u6216 symbol \u4f5c\u4e3a\u952e\u6765\u8bbf\u95ee\u5c5e\u6027\u3002\u7b26\u53f7\u662f\u4e00\u4e2a\u65b0\u7684\u539f\u8bed\u7c7b\u578b\uff0c\u53ef\u9009\u7684 description \u53c2\u6570\u53ef\u4ee5\u7528\u4e8e\u8c03\u8bd5\u2014\u2014\u4f46\u5e76\u4e0d\u662f\u7b26\u53f7\u8eab\u4efd\u7684\u4e00\u90e8\u5206\u3002\u7b26\u53f7\u662f\u72ec\u4e00\u65e0\u4e8c\u7684(\u5982\u540cgensym\uff08\u6240\u4ea7\u751f\u7684\u7b26\u53f7\uff09)\uff0c\u4f46\u4e0d\u662f\u79c1\u6709\u7684\uff0c\u56e0\u4e3a\u5b83\u4eec\u53ef\u4ee5\u901a\u8fc7\u7c7b\u4f3c Object.getOwnPropertySymbols \u7684\u53cd\u5c04\u7279\u6027\u66b4\u9732\u51fa\u6765\u3002 var MyClass = ( function () { // module scoped symbol // \u5177\u6709\u6a21\u5757\u4f5c\u7528\u57df\u7684\u7b26\u53f7 var key = Symbol ( \"key\" ); function MyClass ( privateData ) { this [ key ] = privateData ; } MyClass . prototype = { doStuff : function () { ... this [ key ] ... } }; return MyClass ; })(); var c = new MyClass ( \"hello\" ) c [ \"key\" ] === undefined","title":"Symbols \u7b26\u53f7"},{"location":"javascript/ES6newFeature/#subclassable-built-ins","text":"In ES6, built-ins like Array , Date and DOM Element s can be subclassed. \u5728 ES6 \u4e2d\uff0c\u5185\u5efa\u5bf9\u8c61\uff0c\u5982 Array \u3001 Date \u4ee5\u53caDOM \u5143\u7d20 \u53ef\u4ee5\u88ab\u5b50\u7c7b\u5316\u3002 Object construction for a function named Ctor now uses two-phases (both virtually dispatched): - Call Ctor[@@create] to allocate the object, installing any special behavior - Invoke constructor on new instance to initialize \u9488\u5bf9\u540d\u4e3a Ctor \u7684\u51fd\u6570\uff0c\u5176\u5bf9\u5e94\u7684\u5bf9\u8c61\u7684\u6784\u9020\u73b0\u5728\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5\uff08\u8fd9\u4e24\u4e2a\u9636\u6bb5\u90fd\u4f7f\u7528\u865a\u5206\u6d3e\uff09\uff1a - \u8c03\u7528 Ctor[@@create] \u4e3a\u5bf9\u8c61\u5206\u914d\u7a7a\u95f4\uff0c\u5e76\u63d2\u5165\u7279\u6b8a\u7684\u884c\u4e3a - \u5728\u65b0\u5b9e\u4f8b\u4e0a\u8c03\u7528\u6784\u9020\u51fd\u6570\u6765\u8fdb\u884c\u521d\u59cb\u5316 The known @@create symbol is available via Symbol.create . Built-ins now expose their @@create explicitly. \u5df2\u77e5\u7684 @@create \u7b26\u53f7\u53ef\u4ee5\u901a\u8fc7 Symbol.create \u6765\u4f7f\u7528\uff0c\u5185\u5efa\u5bf9\u8c61\u73b0\u5728\u663e\u5f0f\u66b4\u9732\u5b83\u4eec\u7684 @@create \u3002 // Pseudo-code of Array // Array\u4f2a\u4ee3\u7801 class Array { constructor (... args ) { /* ... */ } static [ Symbol . create ]() { // Install special [[DefineOwnProperty]] // to magically update 'length' } } // User code of Array subclass // Array\u5b50\u7c7b\u7684\u7528\u6237\u4ee3\u7801 class MyArray extends Array { constructor (... args ) { super (... args ); } } // Two-phase 'new': // 1) Call @@create to allocate object // 2) Invoke constructor on new instance // \u4e24\u9636\u6bb5\u7684'new': // 1) \u8c03\u7528@@create\u6765\u4e3a\u5bf9\u8c61\u5206\u914d\u7a7a\u95f4 // 2) \u5728\u65b0\u5b9e\u4f8b\u4e0a\u8c03\u7528\u6784\u9020\u51fd\u6570 var arr = new MyArray (); arr [ 1 ] = 12 ; arr . length == 2","title":"[Subclassable Built-ins] \u53ef\u5b50\u7c7b\u5316\u7684\u5185\u5efa\u5bf9\u8c61"},{"location":"javascript/ES6newFeature/#math-number-string-object-apis","text":"Many new library additions, including core Math libraries, Array conversion helpers, String helpers, and Object.assign for copying. \u65b0\u52a0\u5165\u4e86\u8bb8\u591a\u5e93\uff0c\u5305\u62ec\u6838\u5fc3\u6570\u5b66\u5e93\uff0c\u8fdb\u884c\u6570\u7ec4\u8f6c\u6362\u7684\u534f\u52a9\u51fd\u6570\uff0c\u5b57\u7b26\u4e32 helper\uff0c\u4ee5\u53ca\u7528\u6765\u8fdb\u884c\u62f7\u8d1d\u7684Object.assign\u3002 Number . EPSILON Number . isInteger ( Infinity ) // false Number . isNaN ( \"NaN\" ) // false Math . acosh ( 3 ) // 1.762747174039086 Math . hypot ( 3 , 4 ) // 5 Math . imul ( Math . pow ( 2 , 32 ) - 1 , Math . pow ( 2 , 32 ) - 2 ) // 2 \"abcde\" . includes ( \"cd\" ) // true \"abc\" . repeat ( 3 ) // \"abcabcabc\" Array . from ( document . querySelectorAll ( '*' )) // Returns a real Array \u8fd4\u56de\u4e00\u4e2a\u771f\u6b63\u7684Array Array . of ( 1 , 2 , 3 ) // Similar to new Array(...), but without special one-arg behavior \u4e0eArray(...)\u7c7b\u4f3c\uff0c\u4f46\u53ea\u6709\u4e00\u4e2a\u53c2\u6570\u65f6\uff0c\u5e76\u4e0d\u4f1a\u6709\u7279\u6b8a\u884c\u4e3a\u3002 [ 0 , 0 , 0 ]. fill ( 7 , 1 ) // [0,7,7] [ 1 , 2 , 3 ]. find ( x => x == 3 ) // 3 [ 1 , 2 , 3 ]. findIndex ( x => x == 2 ) // 1 [ 1 , 2 , 3 , 4 , 5 ]. copyWithin ( 3 , 0 ) // [1, 2, 3, 1, 2] [ \"a\" , \"b\" , \"c\" ]. entries () // iterator [0, \"a\"], [1,\"b\"], [2,\"c\"] [ \"a\" , \"b\" , \"c\" ]. keys () // iterator 0, 1, 2 [ \"a\" , \"b\" , \"c\" ]. values () // iterator \"a\", \"b\", \"c\" Object . assign ( Point , { origin : new Point ( 0 , 0 ) })","title":"Math + Number + String + Object APIs \u6269\u5c55"},{"location":"javascript/ES6newFeature/#binary-and-octal-literals","text":"Two new numeric literal forms are added for binary ( b ) and octal ( o ). \u52a0\u5165\u5bf9\u4e8c\u8fdb\u5236( b )\u548c\u516b\u8fdb\u5236( o )\u5b57\u9762\u91cf\u7684\u652f\u6301\u3002 0b111110111 === 503 // true 0o767 === 503 // true","title":"Binary and Octal Literals \u4e8c\u8fdb\u5236\u548c\u516b\u8fdb\u5236\u5b57\u9762\u91cf"},{"location":"javascript/ES6newFeature/#promises","text":"Promises are a library for asynchronous programming. Promises are a first class representation of a value that may be made available in the future. Promises are used in many existing JavaScript libraries. Promise\u662f\u7528\u6765\u8fdb\u884c\u5f02\u6b65\u7f16\u7a0b\u7684\u5e93\u3002Promise\u662f\u5bf9\u4e00\u4e2a\u201c\u5c06\u6765\u53ef\u80fd\u4f1a\u53d8\u5f97\u53ef\u7528\u201d\u7684\u503c\u7684\u7b2c\u4e00\u7c7b\u8868\u793a\uff0cPromise\u88ab\u4f7f\u7528\u5728\u73b0\u6709\u7684\u8bb8\u591aJavaScript\u5e93\u4e2d\u3002 function timeout ( duration = 0 ) { return new Promise (( resolve , reject ) => { setTimeout ( resolve , duration ); }) } var p = timeout ( 1000 ). then (() => { return timeout ( 2000 ); }). then (() => { throw new Error ( \"hmm\" ); }). catch ( err => { return Promise . all ([ timeout ( 100 ), timeout ( 200 )]); })","title":"Promises \u5bf9\u8c61"},{"location":"javascript/ES6newFeature/#reflect-api-api","text":"Full reflection API exposing the runtime-level meta-operations on objects. This is effectively the inverse of the Proxy API, and allows making calls corresponding to the same meta-operations as the proxy traps. Especially useful for implementing proxies. \u5b8c\u6574\u7684\u53cd\u5c04API\u3002\u6b64API\u5728\u5bf9\u8c61\u4e0a\u66b4\u9732\u4e86\u8fd0\u884c\u65f6\u7ea7\u522b\u7684\u5143\u64cd\u4f5c\uff0c\u4ece\u6548\u679c\u4e0a\u6765\u8bf4\uff0c\u8fd9\u662f\u4e00\u4e2a\u53cd\u4ee3\u7406API\uff0c\u5e76\u5141\u8bb8\u8c03\u7528\u4e0e\u4ee3\u7406\u9677\u9631\u4e2d\u76f8\u540c\u7684\u5143\u64cd\u4f5c\u3002\u5b9e\u73b0\u4ee3\u7406\u975e\u5e38\u6709\u7528\u3002 // No sample yet","title":"Reflect API \u53cd\u5c04API"},{"location":"javascript/ES6newFeature/#tail-calls","text":"Calls in tail-position are guaranteed to not grow the stack unboundedly. Makes recursive algorithms safe in the face of unbounded inputs. \uff08ES6\uff09\u4fdd\u8bc1\u5c3e\u90e8\u8c03\u7528\u65f6\u6808\u4e0d\u4f1a\u65e0\u9650\u589e\u957f\uff0c\u8fd9\u4f7f\u5f97\u9012\u5f52\u7b97\u6cd5\u5728\u9762\u5bf9\u672a\u4f5c\u9650\u5236\u7684\u8f93\u5165\u65f6\uff0c\u80fd\u591f\u5b89\u5168\u5730\u6267\u884c\u3002 function factorial ( n , acc = 1 ) { 'use strict' ; if ( n <= 1 ) return acc ; return factorial ( n - 1 , n * acc ); } // Stack overflow in most implementations today, // but safe on arbitrary inputs in ES6 // \u6808\u6ea2\u51fa\u5b58\u5728\u4e8e\u73b0\u5728\u7edd\u5927\u591a\u6570\u7684\u5b9e\u73b0\u4e2d\uff0c // \u4f46\u662f\u5728 ES6 \u4e2d\uff0c\u9488\u5bf9\u4efb\u610f\u7684\u8f93\u5165\u90fd\u5f88\u5b89\u5168 factorial ( 100000 ) \u7f16\u7a0b\u8bed\u8a00\u8fdb\u5316\u5230\u73b0\u9636\u6bb5\u6c89\u6dc0\u4e86\u8bb8\u591a\u6210\u719f\u65b9\u6848\uff0c\u4f8b\u5982\u63a5\u53e3\uff0cduck-typed\uff0c\u6620\u5c04\u7b49\u7b49\uff0c\u8fd8\u6709\u8bb8\u591a\u4e0d\u660e\u89c9\u5389\u7684\u6982\u5ff5\uff0c\u6bcf\u4e2a\u8bed\u8a00\u90fd\u4e89\u76f8\u652f\u6301\u8fd9\u4e9b\u8bed\u8a00\u8bbe\u8ba1\u7684\u65b0\u65b9\u6848\uff0c\u6240\u4ee5 ES6 \u7684\u4e00\u90e8\u5206\u7279\u6027\u770b\u8d77\u6765\u5f88\u50cf Go","title":"Tail Calls \u5c3e\u8c03\u7528"},{"location":"javascript/JS%20%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/","text":"JS \u6027\u80fd\u95ee\u9898 \u00b6 1\u3001\u5f53\u6d4f\u89c8\u5668\u9047\u5230 <script> \u6807\u7b7e\u65f6\uff0c\u5f53\u524d HTML \u9875\u9762\u65e0\u4ece\u83b7\u77e5 JavaScript \u662f\u5426\u4f1a\u5411 <p> \u6807\u7b7e\u6dfb\u52a0\u5185\u5bb9\uff0c\u6216\u5f15\u5165\u5176\u4ed6\u5143\u7d20\uff0c\u6216\u751a\u81f3\u79fb\u9664\u8be5\u6807\u7b7e\u3002\u56e0\u6b64\uff0c\u8fd9\u65f6\u6d4f\u89c8\u5668\u4f1a\u505c\u6b62\u5904\u7406\u9875\u9762\uff0c\u5148\u6267\u884c JavaScript\u4ee3\u7801\uff0c\u7136\u540e\u518d\u7ee7\u7eed\u89e3\u6790\u548c\u6e32\u67d3\u9875\u9762\u3002\u540c\u6837\u7684\u60c5\u51b5\u4e5f\u53d1\u751f\u5728\u4f7f\u7528 src \u5c5e\u6027\u52a0\u8f7d JavaScript\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6d4f\u89c8\u5668\u5fc5\u987b\u5148\u82b1\u65f6\u95f4\u4e0b\u8f7d\u5916\u94fe\u6587\u4ef6\u4e2d\u7684\u4ee3\u7801\uff0c\u7136\u540e\u89e3\u6790\u5e76\u6267\u884c\u5b83\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u9875\u9762\u6e32\u67d3\u548c\u7528\u6237\u4ea4\u4e92\u5b8c\u5168\u88ab\u963b\u585e\u4e86\u3002 2\u3001 \u5bf9\u8c61\u5c5e\u6027\u548c\u6570\u7ec4\u5143\u7d20\u7684\u901f\u5ea6\u90fd\u6bd4\u53d8\u91cf\u6162 \u3002 \u4ee3\u7801\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u4e3b\u8981\u7684\u6570\u636e\u8bbf\u95ee\u5177\u6709\u56db\u79cd\u7c7b\u578b\uff1a\u6570\u503c\u3001\u53d8\u91cf < \u5bf9\u8c61\u7684\u5c5e\u6027\u3001\u6570\u7ec4\u5143\u7d20\u3002\u5982\u679c\u591a\u6b21\u5f15\u7528\u4e00\u4e2a\u6570\u7ec4\u5143\u7d20\u6216\u8005\u5bf9\u8c61\u5c5e\u6027\uff0c\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\u6765\u63d0\u9ad8\u6027\u80fd(\u9664FF\u6d4f\u89c8\u5668\uff0c\u4f1a\u81ea\u52a8\u4f18\u5316\u6570\u7ec4)\uff1b\u51cf\u5c11\u4efb\u4f55\u4e0d\u5fc5\u8981\u7684state/\u5c5e\u6027/\u53d8\u91cf\u3002 3\u3001\u907f\u514d\u5168\u5c40\u67e5\u627e \u53ef\u4ee5\u5c06**\u5168\u5c40\u5bf9\u8c61\u7684\u5c5e\u6027(window\u7b49)\u5b58\u653e\u5728\u5c40\u90e8\u53d8\u91cf\u4e2d**\u3002\u8bbf\u95ee\u5c40\u90e8\u53d8\u91cf\u7684\u901f\u5ea6\u6bd4\u5168\u5c40\u53d8\u91cf\u66f4\u5feb\uff1b 4\u3001\u907f\u514dwith\u8bed\u53e5 5\u3001\u811a\u672c\u653e\u5728html\u4ee3\u7801\u540e\u9762\uff1bJS\u6267\u884c\u4ece\u4e0a\u5230\u4e0b\uff1b\u5982\u679c\u4e00\u6bb5JS\u4ee3\u7801\u5f15\u5165\u5916\u90e8\u94fe\u63a5\uff0c\u90a3\u4e48\u4f1a\u5148\u4e0b\u8f7dJS\u6587\u4ef6\u540e\u6267\u884c\uff0c\u671f\u95f4\u5176\u4ed6\u7684\u4ee3\u7801\u963b\u585e\uff1b(\u5176\u4ed6\u7684css\u3001image\u4e0b\u8f7d\u6682\u505c)\u3002\u6240\u4ee5\u4f18\u5148\u628ascript\u90e8\u5206\u653e\u5728\u754c\u9762\u5e95\u90e8\u3002 6\u3001 \u4f18\u5316\u5faa\u73af\u7684\u6027\u80fd \uff1a\u5faa\u73af\u8fc7\u7a0b\u4e2d\uff0c\u6b21\u6570\u4e0d\u786e\u5b9a\uff0c\u9700\u8981\u6d88\u8017\u8f83\u591a\u6027\u80fd\uff1b\u5728\u5faa\u73af\u4f53\u5185\u51cf\u5c11\u53d8\u91cf\u6570\u91cf\u7b49\u3002 for ( let i = 0 ; i < 10 ; i ++ ) { // \u8fd9\u6837\uff0c\u6bcf\u6b21\u5faa\u73af\u4f1a\u521b\u5efa\u53d8\u91cf\u3001\u5224\u65ad\u53d8\u91cf\u3001\u53d8\u91cf\u589e\u52a0 } // \u5982\u679c\u4f7f\u7528 let a = 10 ; do { //\u8fd9\u91cc\u9700\u8981\u521b\u5efa\u4e00\u6b21\u53d8\u91cf } while ( a -- ); 7\u3001\u6700\u5c0f\u5316\u8bbf\u95eenodeList\u5bf9\u8c61 document.getElementByTagName(\"img\"); \u83b7\u53d6 tagName\u3001childrenNode/attributes/ \u7b49\u4f1a\u5f97\u5230 NodeList \u5bf9\u8c61\uff0c\u51cf\u5c11\u8fd9\u6837\u7684\u4f7f\u7528\uff1b 8\u3001\u907f\u514d\u4f7f\u7528\u5faa\u73af\u5f15\u7528\uff1a \u4e00\u4e2aDOM\u5143\u7d20\u5177\u6709\u4e00\u4e2a\u5c5e\u6027(\u65b9\u6cd5)\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u7ee7\u7eed\u64cd\u4f5c\u8fd9\u4e2aDOM\u5143\u7d20\uff0c\u8fd9\u6837\u4f1a\u9020\u6210\u5185\u5b58\u6cc4\u6f0f(\u76f4\u5230\u6d4f\u89c8\u5668\u5173\u95ed\u754c\u9762)\u3002 9\u3001\u5b57\u7b26\u4e32\u8fde\u63a5\uff1a \u5982\u679c\u5b58\u5728\u591a\u4e2a\u5b57\u7b26\u4e32\u94fe\u63a5\uff0c\u4f7f\u7528 += \u4e0d\u5229\u4e8e\u6027\u80fd\uff08string += a; string += b;\uff09\u3002 \u53ef\u4ee5\u4f7f\u7528 string += a + b + c; \u7684\u65b9\u5f0f \u53ef\u4ee5\u4f7f\u7528\u6570\u7ec4\u6682\u65f6\u5b58\u50a8\u5b57\u7b26\u4e32\uff0c\u4f7f\u7528array.join('');\u8fdb\u884c\u94fe\u63a5\u5b57\u7b26\u4e32\uff1b 10\u3001instanceof \u548c typeof \u5bf9\u6bd4 typeof \u5224\u65ad\u4e00\u4e2a\u6570\u636e\u662f\u4ec0\u4e48\u6570\u636e\u7c7b\u578b\uff1b instanceof \u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u5728\u53e6\u4e00\u4e2a\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\uff1b 11\u3001JS \u5b57\u5178 https://www.jianshu.com/p/eece86baec10 onload \u7528\u4e8e\u76d1\u6d4b\u7528\u6237\u7684\u6d4f\u89c8\u5668\u7248\u672c\u548c\u4fe1\u606f\uff1b onload and onundoad \u7528\u4e8e\u5904\u7406 cookies\uff1b addEventListener \u53ef\u4ee5\u5411\u4e00\u4e2a\u5bf9\u8c61\u6dfb\u52a0\u591a\u4e2a\u540c\u7c7b\u578b\u7684\u4e8b\u4ef6\u53e5\u67c4(\u4e24\u4e2aonClick\u4e8b\u4ef6)\uff0c\u4e0d\u4f1a\u8986\u76d6\u5df2\u6709\u7684\u4e8b\u4ef6(\u540c\u4e00\u4e2a\u4e8b\u4ef6\u89e6\u53d1\u591a\u4e2a\u51fd\u6570)\uff1b window . addEventListener ( \"resize\" , function () { document . getElementByID ( \"demo\" ). innerHTML = 'resizing' ; }); addEventListener ( event , function , useCapture ); \u7b2c\u4e09\u4e2a\u53c2\u6570\uff1atrue-false \u9009\u62e9\u4e8b\u4ef6\u5192\u6ce1\u8fd8\u662f\u4e8b\u4ef6\u6355\u83b7(\u9ed8\u8ba4\u662f false \u4e8b\u4ef6\u5192\u6ce1) \u4e8b\u4ef6\u5192\u6ce1\uff1a\u4e00\u4e2a\u4e8b\u4ef6\u53d1\u751f\uff0c\u9996\u5148\u89e6\u53d1\u5185\u90e8\u5143\u7d20\u7684\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\uff08\u5185\u90e8span\uff09\uff1b \u4e8b\u4ef6\u6355\u83b7\uff1a\u4e00\u4e2a\u4e8b\u4ef6\u53d1\u751f\uff0c\u9996\u5148\u89e6\u53d1\u5916\u90e8\u5143\u7d20\u7684\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\uff08\u5916\u90e8div\uff09\uff1b < div > < span ></ span > </ div > \u65e9\u671fie\u6d4f\u89c8\u5668\u5177\u6709\u517c\u5bb9\u6027\u95ee\u9898\uff1b API exec(); exec() \u65b9\u6cd5\u7528\u4e8e\u68c0\u7d22\u5b57\u7b26\u4e32\u4e2d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u3002 \u91cd\u8981\u4e8b\u9879\uff1a\u5982\u679c\u5728\u4e00\u4e2a\u5b57\u7b26\u4e32\u4e2d\u5b8c\u6210\u4e86\u4e00\u6b21\u6a21\u5f0f\u5339\u914d\u4e4b\u540e\u8981\u5f00\u59cb\u68c0\u7d22\u65b0\u7684\u5b57\u7b26\u4e32\uff0c\u5c31\u5fc5\u987b\u624b\u52a8\u5730\u628a lastIndex \u5c5e\u6027\u91cd\u7f6e\u4e3a 0\u3002 \u63d0\u793a\uff1a\u8bf7\u6ce8\u610f\uff0c\u65e0\u8bba RegExpObject \u662f\u5426\u662f\u5168\u5c40\u6a21\u5f0f\uff0cexec() \u90fd\u4f1a\u628a\u5b8c\u6574\u7684\u7ec6\u8282\u6dfb\u52a0\u5230\u5b83\u8fd4\u56de\u7684\u6570\u7ec4\u4e2d\u3002\u8fd9\u5c31\u662f exec() \u4e0e String.match() \u7684\u4e0d\u540c\u4e4b\u5904\uff0c\u540e\u8005\u5728\u5168\u5c40\u6a21\u5f0f\u4e0b\u8fd4\u56de\u7684\u4fe1\u606f\u8981\u5c11\u5f97\u591a\u3002\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u8fd9\u4e48\u8bf4\uff0c\u5728\u5faa\u73af\u4e2d\u53cd\u590d\u5730\u8c03\u7528 exec() \u65b9\u6cd5\u662f\u552f\u4e00\u4e00\u79cd\u83b7\u5f97\u5168\u5c40\u6a21\u5f0f\u7684\u5b8c\u6574\u6a21\u5f0f\u5339\u914d\u4fe1\u606f\u7684\u65b9\u6cd5\u3002 var str = \"Visit W3School\" ; var patt = new RegExp ( \"W3School\" , \"g\" ); var result = patt . exec ( str ); console . log ( result ); console . log ( patt ); \u4f7f\u7528\u6784\u9020\u51fd\u6570\u521b\u5efa\u6570\u7ec4\u65f6\uff0c\u5982\u679c\u4f20\u5165\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u6570\u503c\uff0c\u5c31\u521b\u5efa\u8fd9\u4e2a\u957f\u5ea6\u7684\u6570\u7ec4(\u6570\u7ec4\u662f\u7a7a\u7684)\uff1b\u4f7f\u7528\u5bf9\u8c61\u5b57\u9762\u91cf\u521b\u5efa\u6570\u7ec4\uff0c\u5982\u679c\u4f20\u5165\u4e00\u4e2a\u6570\u503c\uff0c\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5c31\u662f\u8fd9\u4e2a\u6570\u503c\u3002 let array1 = new Array(5); let array2 = [5];","title":"JS \u6027\u80fd\u4f18\u5316.md"},{"location":"javascript/JS%20%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#js","text":"1\u3001\u5f53\u6d4f\u89c8\u5668\u9047\u5230 <script> \u6807\u7b7e\u65f6\uff0c\u5f53\u524d HTML \u9875\u9762\u65e0\u4ece\u83b7\u77e5 JavaScript \u662f\u5426\u4f1a\u5411 <p> \u6807\u7b7e\u6dfb\u52a0\u5185\u5bb9\uff0c\u6216\u5f15\u5165\u5176\u4ed6\u5143\u7d20\uff0c\u6216\u751a\u81f3\u79fb\u9664\u8be5\u6807\u7b7e\u3002\u56e0\u6b64\uff0c\u8fd9\u65f6\u6d4f\u89c8\u5668\u4f1a\u505c\u6b62\u5904\u7406\u9875\u9762\uff0c\u5148\u6267\u884c JavaScript\u4ee3\u7801\uff0c\u7136\u540e\u518d\u7ee7\u7eed\u89e3\u6790\u548c\u6e32\u67d3\u9875\u9762\u3002\u540c\u6837\u7684\u60c5\u51b5\u4e5f\u53d1\u751f\u5728\u4f7f\u7528 src \u5c5e\u6027\u52a0\u8f7d JavaScript\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6d4f\u89c8\u5668\u5fc5\u987b\u5148\u82b1\u65f6\u95f4\u4e0b\u8f7d\u5916\u94fe\u6587\u4ef6\u4e2d\u7684\u4ee3\u7801\uff0c\u7136\u540e\u89e3\u6790\u5e76\u6267\u884c\u5b83\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u9875\u9762\u6e32\u67d3\u548c\u7528\u6237\u4ea4\u4e92\u5b8c\u5168\u88ab\u963b\u585e\u4e86\u3002 2\u3001 \u5bf9\u8c61\u5c5e\u6027\u548c\u6570\u7ec4\u5143\u7d20\u7684\u901f\u5ea6\u90fd\u6bd4\u53d8\u91cf\u6162 \u3002 \u4ee3\u7801\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u4e3b\u8981\u7684\u6570\u636e\u8bbf\u95ee\u5177\u6709\u56db\u79cd\u7c7b\u578b\uff1a\u6570\u503c\u3001\u53d8\u91cf < \u5bf9\u8c61\u7684\u5c5e\u6027\u3001\u6570\u7ec4\u5143\u7d20\u3002\u5982\u679c\u591a\u6b21\u5f15\u7528\u4e00\u4e2a\u6570\u7ec4\u5143\u7d20\u6216\u8005\u5bf9\u8c61\u5c5e\u6027\uff0c\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\u6765\u63d0\u9ad8\u6027\u80fd(\u9664FF\u6d4f\u89c8\u5668\uff0c\u4f1a\u81ea\u52a8\u4f18\u5316\u6570\u7ec4)\uff1b\u51cf\u5c11\u4efb\u4f55\u4e0d\u5fc5\u8981\u7684state/\u5c5e\u6027/\u53d8\u91cf\u3002 3\u3001\u907f\u514d\u5168\u5c40\u67e5\u627e \u53ef\u4ee5\u5c06**\u5168\u5c40\u5bf9\u8c61\u7684\u5c5e\u6027(window\u7b49)\u5b58\u653e\u5728\u5c40\u90e8\u53d8\u91cf\u4e2d**\u3002\u8bbf\u95ee\u5c40\u90e8\u53d8\u91cf\u7684\u901f\u5ea6\u6bd4\u5168\u5c40\u53d8\u91cf\u66f4\u5feb\uff1b 4\u3001\u907f\u514dwith\u8bed\u53e5 5\u3001\u811a\u672c\u653e\u5728html\u4ee3\u7801\u540e\u9762\uff1bJS\u6267\u884c\u4ece\u4e0a\u5230\u4e0b\uff1b\u5982\u679c\u4e00\u6bb5JS\u4ee3\u7801\u5f15\u5165\u5916\u90e8\u94fe\u63a5\uff0c\u90a3\u4e48\u4f1a\u5148\u4e0b\u8f7dJS\u6587\u4ef6\u540e\u6267\u884c\uff0c\u671f\u95f4\u5176\u4ed6\u7684\u4ee3\u7801\u963b\u585e\uff1b(\u5176\u4ed6\u7684css\u3001image\u4e0b\u8f7d\u6682\u505c)\u3002\u6240\u4ee5\u4f18\u5148\u628ascript\u90e8\u5206\u653e\u5728\u754c\u9762\u5e95\u90e8\u3002 6\u3001 \u4f18\u5316\u5faa\u73af\u7684\u6027\u80fd \uff1a\u5faa\u73af\u8fc7\u7a0b\u4e2d\uff0c\u6b21\u6570\u4e0d\u786e\u5b9a\uff0c\u9700\u8981\u6d88\u8017\u8f83\u591a\u6027\u80fd\uff1b\u5728\u5faa\u73af\u4f53\u5185\u51cf\u5c11\u53d8\u91cf\u6570\u91cf\u7b49\u3002 for ( let i = 0 ; i < 10 ; i ++ ) { // \u8fd9\u6837\uff0c\u6bcf\u6b21\u5faa\u73af\u4f1a\u521b\u5efa\u53d8\u91cf\u3001\u5224\u65ad\u53d8\u91cf\u3001\u53d8\u91cf\u589e\u52a0 } // \u5982\u679c\u4f7f\u7528 let a = 10 ; do { //\u8fd9\u91cc\u9700\u8981\u521b\u5efa\u4e00\u6b21\u53d8\u91cf } while ( a -- ); 7\u3001\u6700\u5c0f\u5316\u8bbf\u95eenodeList\u5bf9\u8c61 document.getElementByTagName(\"img\"); \u83b7\u53d6 tagName\u3001childrenNode/attributes/ \u7b49\u4f1a\u5f97\u5230 NodeList \u5bf9\u8c61\uff0c\u51cf\u5c11\u8fd9\u6837\u7684\u4f7f\u7528\uff1b 8\u3001\u907f\u514d\u4f7f\u7528\u5faa\u73af\u5f15\u7528\uff1a \u4e00\u4e2aDOM\u5143\u7d20\u5177\u6709\u4e00\u4e2a\u5c5e\u6027(\u65b9\u6cd5)\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u7ee7\u7eed\u64cd\u4f5c\u8fd9\u4e2aDOM\u5143\u7d20\uff0c\u8fd9\u6837\u4f1a\u9020\u6210\u5185\u5b58\u6cc4\u6f0f(\u76f4\u5230\u6d4f\u89c8\u5668\u5173\u95ed\u754c\u9762)\u3002 9\u3001\u5b57\u7b26\u4e32\u8fde\u63a5\uff1a \u5982\u679c\u5b58\u5728\u591a\u4e2a\u5b57\u7b26\u4e32\u94fe\u63a5\uff0c\u4f7f\u7528 += \u4e0d\u5229\u4e8e\u6027\u80fd\uff08string += a; string += b;\uff09\u3002 \u53ef\u4ee5\u4f7f\u7528 string += a + b + c; \u7684\u65b9\u5f0f \u53ef\u4ee5\u4f7f\u7528\u6570\u7ec4\u6682\u65f6\u5b58\u50a8\u5b57\u7b26\u4e32\uff0c\u4f7f\u7528array.join('');\u8fdb\u884c\u94fe\u63a5\u5b57\u7b26\u4e32\uff1b 10\u3001instanceof \u548c typeof \u5bf9\u6bd4 typeof \u5224\u65ad\u4e00\u4e2a\u6570\u636e\u662f\u4ec0\u4e48\u6570\u636e\u7c7b\u578b\uff1b instanceof \u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u5728\u53e6\u4e00\u4e2a\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\uff1b 11\u3001JS \u5b57\u5178 https://www.jianshu.com/p/eece86baec10 onload \u7528\u4e8e\u76d1\u6d4b\u7528\u6237\u7684\u6d4f\u89c8\u5668\u7248\u672c\u548c\u4fe1\u606f\uff1b onload and onundoad \u7528\u4e8e\u5904\u7406 cookies\uff1b addEventListener \u53ef\u4ee5\u5411\u4e00\u4e2a\u5bf9\u8c61\u6dfb\u52a0\u591a\u4e2a\u540c\u7c7b\u578b\u7684\u4e8b\u4ef6\u53e5\u67c4(\u4e24\u4e2aonClick\u4e8b\u4ef6)\uff0c\u4e0d\u4f1a\u8986\u76d6\u5df2\u6709\u7684\u4e8b\u4ef6(\u540c\u4e00\u4e2a\u4e8b\u4ef6\u89e6\u53d1\u591a\u4e2a\u51fd\u6570)\uff1b window . addEventListener ( \"resize\" , function () { document . getElementByID ( \"demo\" ). innerHTML = 'resizing' ; }); addEventListener ( event , function , useCapture ); \u7b2c\u4e09\u4e2a\u53c2\u6570\uff1atrue-false \u9009\u62e9\u4e8b\u4ef6\u5192\u6ce1\u8fd8\u662f\u4e8b\u4ef6\u6355\u83b7(\u9ed8\u8ba4\u662f false \u4e8b\u4ef6\u5192\u6ce1) \u4e8b\u4ef6\u5192\u6ce1\uff1a\u4e00\u4e2a\u4e8b\u4ef6\u53d1\u751f\uff0c\u9996\u5148\u89e6\u53d1\u5185\u90e8\u5143\u7d20\u7684\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\uff08\u5185\u90e8span\uff09\uff1b \u4e8b\u4ef6\u6355\u83b7\uff1a\u4e00\u4e2a\u4e8b\u4ef6\u53d1\u751f\uff0c\u9996\u5148\u89e6\u53d1\u5916\u90e8\u5143\u7d20\u7684\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\uff08\u5916\u90e8div\uff09\uff1b < div > < span ></ span > </ div > \u65e9\u671fie\u6d4f\u89c8\u5668\u5177\u6709\u517c\u5bb9\u6027\u95ee\u9898\uff1b API exec(); exec() \u65b9\u6cd5\u7528\u4e8e\u68c0\u7d22\u5b57\u7b26\u4e32\u4e2d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u3002 \u91cd\u8981\u4e8b\u9879\uff1a\u5982\u679c\u5728\u4e00\u4e2a\u5b57\u7b26\u4e32\u4e2d\u5b8c\u6210\u4e86\u4e00\u6b21\u6a21\u5f0f\u5339\u914d\u4e4b\u540e\u8981\u5f00\u59cb\u68c0\u7d22\u65b0\u7684\u5b57\u7b26\u4e32\uff0c\u5c31\u5fc5\u987b\u624b\u52a8\u5730\u628a lastIndex \u5c5e\u6027\u91cd\u7f6e\u4e3a 0\u3002 \u63d0\u793a\uff1a\u8bf7\u6ce8\u610f\uff0c\u65e0\u8bba RegExpObject \u662f\u5426\u662f\u5168\u5c40\u6a21\u5f0f\uff0cexec() \u90fd\u4f1a\u628a\u5b8c\u6574\u7684\u7ec6\u8282\u6dfb\u52a0\u5230\u5b83\u8fd4\u56de\u7684\u6570\u7ec4\u4e2d\u3002\u8fd9\u5c31\u662f exec() \u4e0e String.match() \u7684\u4e0d\u540c\u4e4b\u5904\uff0c\u540e\u8005\u5728\u5168\u5c40\u6a21\u5f0f\u4e0b\u8fd4\u56de\u7684\u4fe1\u606f\u8981\u5c11\u5f97\u591a\u3002\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u8fd9\u4e48\u8bf4\uff0c\u5728\u5faa\u73af\u4e2d\u53cd\u590d\u5730\u8c03\u7528 exec() \u65b9\u6cd5\u662f\u552f\u4e00\u4e00\u79cd\u83b7\u5f97\u5168\u5c40\u6a21\u5f0f\u7684\u5b8c\u6574\u6a21\u5f0f\u5339\u914d\u4fe1\u606f\u7684\u65b9\u6cd5\u3002 var str = \"Visit W3School\" ; var patt = new RegExp ( \"W3School\" , \"g\" ); var result = patt . exec ( str ); console . log ( result ); console . log ( patt ); \u4f7f\u7528\u6784\u9020\u51fd\u6570\u521b\u5efa\u6570\u7ec4\u65f6\uff0c\u5982\u679c\u4f20\u5165\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u6570\u503c\uff0c\u5c31\u521b\u5efa\u8fd9\u4e2a\u957f\u5ea6\u7684\u6570\u7ec4(\u6570\u7ec4\u662f\u7a7a\u7684)\uff1b\u4f7f\u7528\u5bf9\u8c61\u5b57\u9762\u91cf\u521b\u5efa\u6570\u7ec4\uff0c\u5982\u679c\u4f20\u5165\u4e00\u4e2a\u6570\u503c\uff0c\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5c31\u662f\u8fd9\u4e2a\u6570\u503c\u3002 let array1 = new Array(5); let array2 = [5];","title":"JS \u6027\u80fd\u95ee\u9898"},{"location":"javascript/es6/","text":"ES6 \u65b0\u7279\u6027\u5bf9\u6bd4 \u5b9a\u4e49\u53d8\u91cf let const \uff1alet \u5c06\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u9650\u5236\u5728\u5757\u7ea7\u4f5c\u7528\u57df\u4e2d\uff08for\u5faa\u73af\uff0cif\u5faa\u73af\u7b49\u5757\u7ea7\u4f5c\u7528\u57df\u7b49\uff09const\u58f0\u660e\u4e00\u4e2a\u5e38\u91cf \u6a21\u677f\u5b57\u7b26\u4e32 es6\u4e2d\u4f7f\u7528\u53cd\u5f15\u53f7\u548c\u6a21\u677f\u5b57\u7b26\u4e32\u5c06\u53d8\u91cf\u653e\u5728\u5b57\u7b26\u4e32\u4e2d\uff0c\u4e0d\u9700\u8981\u5b57\u7b26\u4e32\u62fc\u63a5\u3002 $(\"#nav\").append('this is a '+ obj.name ); $(\"#nav-bar\").append(`there are ${ obj.number } books.`); \u51fd\u6570\u6269\u5c55 \u51fd\u6570\u53c2\u6570\u9ed8\u8ba4\u503c-\u7bad\u5934\u51fd\u6570\uff08this\u7684\u53d8\u5316\uff09 //\u4f20\u7edf\u5199\u6cd5 function() show(a,b){ b = b || 8; return a + b; } console.log(show(5));//13 //ES6 function add(a,b=8){ return a + b; } //\u8fdb\u4e00\u6b65\u7b80\u5316 var show = (a, b=7) => { return a + b; } \u5bf9\u8c61\u6269\u5c55 \u5bf9\u8c61\u7b80\u5199\uff0cObject.keys() \u548cObject.assigns() var a = 10; var obj ={ a:5, func:function(){ console.log(this.a); }, test:function(){ setTimeout(function(){ //console.log(this); //var that = this; //\u5728es5\u4e2d\u4f7f\u7528that = this \u4fdd\u5b58\u5f53\u524d\u6307\u9488 console.log(this); //window \u8fd9\u90e8\u5206\u57281ms\u4e4b\u540e\u6267\u884c\uff0cthis\u6307\u9488\u6307\u5411window\uff0c\u4e0d\u662fobj this.func(); },1); }, test2:function(){ setTimeout(() => { this.func(); },1); //\u4f7f\u7528\u7bad\u5934\u51fd\u6570\u53ef\u4ee5\u5c06\u5c5e\u6027\u7ed1\u5b9a\u5230\u5b9e\u4f8b\u5bf9\u8c61\u4e0a\uff08React\u4e2d\u4f7f\u7528\u7bad\u5934\u51fd\u6570\u7ed1\u5b9athis\uff09 //\u5c0f\u7ed3\uff1a\u5728ES6\u4e2d\uff0c\u5c3d\u91cf\u4f7f\u7528\u7bad\u5934\u51fd\u6570 } } //\u5bf9\u8c61\u7684\u7b80\u5316\u5199\u6cd5 var c = 5; var obj2 = { c, // b:function(){ // console.log(this.c); // } b(){ console.log(this.c); } } console.log(obj2); //5 obj2.b(); //obj console.log(Object.keys(obj)); //\u83b7\u53d6\u5bf9\u8c61\u4e2d\u7684key\u503c Object.assign(obj2,obj); console.log(obj2); //\u5c06obj\u7684\u5c5e\u6027\u65b9\u6cd5\u52a0\u5165obj2\u4e2d\uff0c\u4e0d\u6539\u53d8obj\u3002 Object.defineProperty \u5bf9\u8c61\u7684\u6269\u5c55 Object.defineProperty(data,'b',{ value:5, //b\u7684\u5c5e\u6027\u503c5 writable:false, //\u5c5e\u6027\u53ea\u8bfb configurable:true, // \u5176\u4ed6\u5c5e\u6027\u662f\u5426\u53ef\u53d8\uff08\u603b\u5f00\u5173\uff0cfalse\u5173\uff09 enumberable:true, //\u662f\u5426\u6b63\u5728for-in\u4e2d\u904d\u5386\u51fa\u6765\uff0c\u6216\u8005\u7231Object.keys\u4e2d\u5217\u4e3e\u51fa\u6765 set(newValue){ console.log('setValue'); b = newValue; }, get(){ console.log('getValue'); return b; } }); data.b = 10; console.log(data.b); //5 class\u7c7b \u4f7f\u7528class\u521b\u5efa\u7c7b\uff08\u4ee3\u66ff\u6784\u9020\u51fd\u6570\uff09 constructor\u6784\u9020\u51fd\u6570 es6\u7684\u7ee7\u627f==>\u9759\u6001\u65b9\u6cd5 \u89e3\u6784\u8d4b\u503c \u6570\u7ec4\u3001\u5bf9\u8c61\u3001\u5b57\u7b26\u4e32\u89e3\u6784\uff1a\u5f53\u65b0\u5efa\u7684\u53d8\u91cf\u662f\u5bf9\u8c61\u4e2d\u7684\u5c5e\u6027\uff0c\u5e76\u4e14\u53d8\u91cf\u540d\u548c\u5c5e\u6027\u540d\u4e00\u81f4\uff0c\u4e0d\u9700\u8981\u4f7f\u7528\u70b9\u8bed\u6cd5\u8fdb\u884c\u8c03\u7528\u3002\u76f4\u63a5\u4f7f\u7528\u89e3\u6784\u8d4b\u503c\uff08deconstructing assignment\uff09\u8bed\u6cd5\u53ef\u4ee5\u5b9a\u4e49\u591a\u4e2a\u53d8\u91cf\u3002 //1.\u5bf9\u8c61\u89e3\u6784\u8d4b\u503c var body = request.body; var userName = body.userName; var password = body.password; //ES6 let { userName, password } = request.body; //2.\u6570\u7ec4\u89e3\u6784\u8d4b\u503c let [col1, col2] = $('#column'); 7.Promise //ES5 setTimeout(function(){ console.log('promise'); }); //ES6 let wait = new Promise(function(resolve,reject){ setTimeout(resolve,1000);s }).then(() => { console.log('promise'); }); //\u8fd8\u4e0d\u662f\u5f88\u61c2 let wait100 = () => new Promise((resolve,reject) => { setTimeout(resolve,1000); }); wait100().then(() => { console.log(\"promise\"); return wait100(); }).then(() => { console.log(\"hi Seafile\"); }); class \u7c7b //\u521b\u5efa\u4e00\u4e2a\u7c7b class Seafile { constructor(opt,data){ this.name = 'Seafile'; this.url = 'docs.seafile.com'; this.data = data; this.options = opt; } getName(){ console.log( Class name: ${this.name} ); } } //\u7ee7\u627f class SeafileAPI extends Seafile { constructor(opt,data){ //\u8c03\u7528\u7236\u7ea7\u6784\u9020\u51fd\u6570super()\u65b9\u6cd5 super({private:true},[1,2,3]); this.name = 'SeafileAPI'; this.url += '/API/'; } } 9.Modules //ES5 module.js module.exports ={ port:8080, getPing:function(){ // } } var service = require('module.js'); console.log(service.port); ES6\u4e2d\uff0c\u5bfc\u51fa\u6709\u4e09\u79cd\uff1a\u547d\u540d\u5bfc\u51fa\uff08named exports\uff09\u3001\u9ed8\u8ba4\u5bfc\u51fa(default exports)\u3001\u524d\u4e24\u79cd\u7ed3\u5408\u5bfc\u51fa \u5176\u4ed6\uff1a\u901a\u8fc7babel\u5c06ES6\u8f6c\u5316\u4e3aES5\u4ee3\u7801\uff08React\u4e2d\u5f15\u5165\uff09 //\u547d\u540d\u5bfc\u51fa\uff1a\u4efb\u4f55\u51fd\u6570\u6216\u8005\u53d8\u91cf\uff0c\u52a0\u4e0aexport\u65e2\u53ef\u4ee5\u5bfc\u51fa\uff0c\u53e6\u4e00\u4e2a\u6587\u4ef6\u5f15\u7528 export const sqrt = Math.sqrt; export function square(x){ return x * x; } export function add(a, b){ return a + b; } //\u5f15\u7528\u65b9\u6cd51 import { square, add } from 'lib'; console(square(2)); console.log(add(1,2)); //\u5f15\u7528\u65b9\u6cd52\uff1a import * as lib from 'lib'; import * as lib from './lib';//\u7b2c\u4e00\u79cd\u4e0d\u884c\u8bd5\u8bd5\u7b2c\u4e8c\u79cd add = lib.add; square = lib.square; //\u7f16\u8bd1\u5de5\u5177\uff1ababel\u6216\u8005browserify //\u9ed8\u8ba4\u5bfc\u51fa\u2014\u2014\u6307\u5b9a\u4e00\u4e2a\u53d8\u91cf\u4f5c\u4e3a\u9ed8\u8ba4\u503c\u5bfc\u51fa(\u9ed8\u8ba4\u5c31\u662f\u6587\u4ef6\u540d) /*------hello.js-------*/ export default function(a,b){ return a + b; } import hello from 'hello'; let c = hello(1,2); \u8bf4\u660e\uff1aES6\u4e2d\u652f\u6301\u9759\u6001\u5bfc\u5165\u548c\u5bfc\u51fa\uff0c\u5728\u7f16\u8bd1\u65f6\u5c31\u80fd\u786e\u5b9a\u5bfc\u51fa\u5bfc\u5165\u7684\u6587\u4ef6\u3002\u5982\u679c\u8fd0\u884c\u65f6\u624d\u80fd\u786e\u5b9a\u7684\u5bfc\u5165\u5bfc\u51fa\u662f\u4e0d\u53ef\u4ee5\u7684\uff08\u4f8b\u5982\uff0c\u5728if\u6761\u4ef6\u4e0d\u540c\u65f6\uff0c\u5bfc\u5165\u4e0d\u540c\u7684\u5185\u5bb9\uff0c\u662f\u4e0d\u53ef\u4ee5\u7684\u3002\uff09\uff0c\u8fd9\u6837\u505a\u6709\u52a9\u4e8e\u63d0\u9ad8\u7a0b\u5e8f\u8fd0\u884c\u901f\u5ea6\u3002 10 ES6 in Node.js \u5728nodeJS\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528babel\u6a21\u5757\u6216\u8005\u6784\u5efa\u5de5\u5177\u7f16\u8bd1\u4ee3\u7801 npm install --save-dev babel-core require('babel-core').transform(ES5Code,options);","title":"es6.md"},{"location":"javascript/%E5%B8%B8%E7%94%A8%E5%88%B0%E7%9A%84ES6%E8%AF%AD%E6%B3%95/","text":"\u5e38\u7528\u5230\u7684ES6\u8bed\u6cd5 \u00b6 \u4e00\u3001let\u548cconst \u00b6 \u5bf9\u4e8e\u53d8\u91cf\u6765\u8bf4\uff0c\u5728ES5\u4e2dvar\u5b9a\u4e49\u7684\u53d8\u91cf\u4f1a\u63d0\u5347\u5230\u4f5c\u7528\u57df\u4e2d\u6240\u6709\u7684\u51fd\u6570\u4e0e\u8bed\u53e5\u524d\u9762\uff0c\u800cES6\u4e2dlet\u5b9a\u4e49\u7684\u53d8\u91cf\u5219\u4e0d\u4f1a\uff0clet\u58f0\u660e\u7684\u53d8\u91cf\u4f1a\u5728\u5176\u76f8\u5e94\u7684\u4ee3\u7801\u5757\u4e2d\u5efa\u7acb\u4e00\u4e2a\u6682\u65f6\u6027\u6b7b\u533a\uff0c\u76f4\u81f3\u53d8\u91cf\u88ab\u58f0\u660e\u3002 let\u548cconst\u90fd\u80fd\u591f\u58f0\u660e\u5757\u7ea7\u4f5c\u7528\u57df\uff0c\u7528\u6cd5\u548cvar\u662f\u7c7b\u4f3c\u7684\uff0clet\u7684\u7279\u70b9\u662f\u4e0d\u4f1a\u53d8\u91cf\u63d0\u5347\uff0c\u800c\u662f\u88ab\u9501\u5728\u5f53\u524d\u5757\u4e2d\u3002 \u4e00\u4e2a\u975e\u5e38\u7b80\u5355\u7684\u4f8b\u5b50\uff1a function test () { if ( true ) { console . log ( a ) //TDZ\uff0c\u4fd7\u79f0\u4e34\u65f6\u6b7b\u533a\uff0c\u7528\u6765\u63cf\u8ff0\u53d8\u91cf\u4e0d\u63d0\u5347\u7684\u73b0\u8c61 let a = 1 } } test () // a is not definedfunction test () { if ( true ) { let a = 1 } console . log ( a ) } test () // a is not defined const \u58f0\u660e\u5e38\u91cf\uff0c\u4e00\u65e6\u58f0\u660e\uff0c\u4e0d\u53ef\u66f4\u6539\uff0c\u800c\u4e14\u5e38\u91cf\u5fc5\u987b\u521d\u59cb\u5316\u8d4b\u503c\u3002 const\u867d\u7136\u662f\u5e38\u91cf\uff0c\u4e0d\u5141\u8bb8\u4fee\u6539\u9ed8\u8ba4\u8d4b\u503c\uff0c\u4f46\u5982\u679c\u5b9a\u4e49\u7684\u662f\u5bf9\u8c61Object\uff0c\u90a3\u4e48\u53ef\u4ee5\u4fee\u6539\u5bf9\u8c61\u5185\u90e8\u7684\u5c5e\u6027\u503c\u3002 const type = { a : 1 } type . a = 2 //\u6ca1\u6709\u76f4\u63a5\u4fee\u6539type\u7684\u503c\uff0c\u800c\u662f\u4fee\u6539type.a\u7684\u5c5e\u6027\u503c\uff0c\u8fd9\u662f\u5141\u8bb8\u7684\u3002 console . log ( type ) // {a: 2} const\u548clet\u7684\u5f02\u540c\u70b9 **\u76f8\u540c\u70b9\uff1a**const\u548clet\u90fd\u662f\u5728\u5f53\u524d\u5757\u5185\u6709\u6548\uff0c\u6267\u884c\u5230\u5757\u5916\u4f1a\u88ab\u9500\u6bc1\uff0c\u4e5f\u4e0d\u5b58\u5728\u53d8\u91cf\u63d0\u5347\uff08TDZ\uff09\uff0c\u4e0d\u80fd\u91cd\u590d\u58f0\u660e\u3002 \u4e0d\u540c\u70b9\uff1a**const\u4e0d\u80fd\u518d\u8d4b\u503c\uff0clet\u58f0\u660e\u7684\u53d8\u91cf\u53ef\u4ee5\u91cd\u590d\u8d4b\u503c\u3002 **const**\u5b9e\u9645\u4e0a\u4fdd\u8bc1\u7684\uff0c**\u5e76\u4e0d\u662f\u53d8\u91cf\u7684\u503c\u4e0d\u5f97\u6539\u52a8\uff0c\u800c\u662f\u53d8\u91cf\u6307\u5411\u7684\u90a3\u4e2a\u5185\u5b58\u5730\u5740\u6240\u4fdd\u5b58\u7684\u6570\u636e\u4e0d\u5f97\u6539\u52a8 \u3002\u5bf9\u4e8e\u7b80\u5355\u7c7b\u578b\u7684\u6570\u636e\uff08\u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\uff09\uff0c\u503c\u5c31\u4fdd\u5b58\u5728\u53d8\u91cf\u6307\u5411\u7684\u90a3\u4e2a\u5185\u5b58\u5730\u5740\uff0c\u56e0\u6b64\u7b49\u540c\u4e8e\u5e38\u91cf\u3002\u4f46\u5bf9\u4e8e\u590d\u5408\u7c7b\u578b\u7684\u6570\u636e\uff08\u4e3b\u8981\u662f\u5bf9\u8c61\u548c\u6570\u7ec4\uff09\uff0c\u53d8\u91cf\u6307\u5411\u7684\u5185\u5b58\u5730\u5740\uff0c\u4fdd\u5b58\u7684\u53ea\u662f\u4e00\u4e2a\u6307\u5411\u5b9e\u9645\u6570\u636e\u7684\u6307\u9488\uff0cconst\u53ea\u80fd\u4fdd\u8bc1\u8fd9\u4e2a\u6307\u9488\u662f\u56fa\u5b9a\u7684\uff08\u5373\u603b\u662f\u6307\u5411\u53e6\u4e00\u4e2a\u56fa\u5b9a\u7684\u5730\u5740\uff09\uff0c\u81f3\u4e8e\u5b83\u6307\u5411\u7684\u6570\u636e\u7ed3\u6784\u662f\u4e0d\u662f\u53ef\u53d8\u7684\uff0c\u5c31\u5b8c\u5168\u4e0d\u80fd\u63a7\u5236\u4e86\u3002\u56e0\u6b64\uff0c\u5c06\u4e00\u4e2a\u5bf9\u8c61\u58f0\u660e\u4e3a\u5e38\u91cf\u5fc5\u987b\u975e\u5e38\u5c0f\u5fc3\u3002 \u5757\u7ea7\u4f5c\u7528\u57df\u7684\u4f7f\u7528\u573a\u666f \u9664\u4e86\u4e0a\u9762\u63d0\u5230\u7684\u5e38\u7528\u58f0\u660e\u65b9\u5f0f\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u5728\u5faa\u73af\u4e2d\u4f7f\u7528\uff0c\u6700\u51fa\u540d\u7684\u4e00\u9053\u9762\u8bd5\u9898\uff1a\u5faa\u73af\u4e2d\u5b9a\u65f6\u5668\u95ed\u5305\u7684\u8003\u9898 \u5728for\u5faa\u73af\u4e2d\u4f7f\u7528var\u58f0\u660e\u7684\u5faa\u73af\u53d8\u91cf\uff0c\u4f1a\u8df3\u51fa\u5faa\u73af\u4f53\u6c61\u67d3\u5f53\u524d\u7684\u51fd\u6570\u3002 for ( var i = 0 ; i < 5 ; i ++ ) { setTimeout (() => { console . log ( i ) //5, 5, 5, 5, 5 }, 0 ); } console . log ( i ) //5 i\u8df3\u51fa\u5faa\u73af\u4f53\u6c61\u67d3\u5916\u90e8\u51fd\u6570 //\u5c06var\u6539\u6210let\u4e4b\u540e for ( let i = 0 ; i < 5 ; i ++ ) { setTimeout (() => { console . log ( i ) // 0,1,2,3,4 }, 0 )} console . log ( i ) //i is not defined i\u65e0\u6cd5\u6c61\u67d3\u5916\u90e8\u51fd\u6570 \u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u9009\u62e9\u4f7f\u7528var\u3001let\u8fd8\u662fconst\uff0c\u53d6\u51b3\u4e8e\u6211\u4eec\u7684\u53d8\u91cf\u662f\u4e0d\u662f\u9700\u8981\u66f4\u65b0\uff0c\u901a\u5e38\u6211\u4eec\u5e0c\u671b\u53d8\u91cf\u4fdd\u8bc1\u4e0d\u88ab\u6076\u610f\u4fee\u6539\uff0c\u800c\u4f7f\u7528\u5927\u91cf\u7684const\u3002\u4f7f\u7528const\u58f0\u660e\uff0c\u58f0\u660e\u4e00\u4e2a\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u4e5f\u63a8\u8350\u4f7f\u7528const\uff0c\u5f53\u4f60\u9700\u8981\u4fee\u6539\u58f0\u660e\u7684\u53d8\u91cf\u503c\u65f6\uff0c\u4f7f\u7528let\uff0cvar\u80fd\u7528\u7684\u573a\u666f\u90fd\u53ef\u4ee5\u4f7f\u7528let\u66ff\u4ee3\u3002 symbol ES6 \u4ee5\u524d\uff0c\u6211\u4eec\u77e5\u90535\u79cd\u57fa\u672c\u6570\u636e\u7c7b\u578b\u5206\u522b\u662fUndefined\uff0cNull\uff0cBoolean\uff0cNumber\u4ee5\u53caString\uff0c\u7136\u540e\u52a0\u4e0a\u4e00\u79cd\u5f15\u7528\u7c7b\u578bObject\u6784\u6210\u4e86JavaScript\u4e2d\u6240\u6709\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4f46\u662fES6\u51fa\u6765\u4e4b\u540e\uff0c\u65b0\u589e\u4e86\u4e00\u79cd\u6570\u636e\u7c7b\u578b\uff0c\u540d\u53ebsymbol\uff0c\u50cf\u5b83\u7684\u540d\u5b57\u8868\u9732\u7684\u4e00\u6837\uff0c\u610f\u5473\u7740\u72ec\u4e00\u65e0\u4e8c\uff0c\u610f\u601d\u662f\u6bcf\u4e2a Symbol\u7c7b\u578b\u90fd\u662f\u72ec\u4e00\u65e0\u4e8c\u7684\uff0c\u4e0d\u4e0e\u5176\u5b83 Symbol \u91cd\u590d\u3002 \u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 Symbol() \u65b9\u6cd5\u5c06\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Symbol \u7c7b\u578b\u7684\u503c\uff0c\u8fd9\u4e2a\u503c\u72ec\u4e00\u65e0\u4e8c\uff0c\u4e0d\u4e0e\u4efb\u4f55\u503c\u76f8\u7b49\u3002 var mySymbol = Symbol (); console . log ( typeof mySymbol ) //\"symbol\" \u4e8c\u3001\u5b57\u7b26\u4e32 \u00b6 ES6\u5b57\u7b26\u4e32\u65b0\u589e\u7684\u65b9\u6cd5 **UTF-16\u7801\u4f4d\uff1a**ES6\u5f3a\u5236\u4f7f\u7528UTF-16\u5b57\u7b26\u4e32\u7f16\u7801\u3002\u5173\u4e8eUTF-16\u7684\u89e3\u91ca\u8bf7\u81ea\u884c\u767e\u5ea6\u4e86\u89e3\u3002 **codePointAt()\uff1a**\u8be5\u65b9\u6cd5\u652f\u6301UTF-16\uff0c\u63a5\u53d7\u7f16\u7801\u5355\u5143\u7684\u4f4d\u7f6e\u800c\u975e\u5b57\u7b26\u4e32\u4f4d\u7f6e\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e0e\u5b57\u7b26\u4e32\u4e2d\u7ed9\u5b9a\u4f4d\u7f6e\u5bf9\u5e94\u7684\u7801\u4f4d\uff0c\u5373\u4e00\u4e2a\u6574\u6570\u503c\u3002 String.fromCodePoiont()\uff1a \u4f5c\u7528\u4e0ecodePointAt\u76f8\u53cd\uff0c\u68c0\u7d22\u5b57\u7b26\u4e32\u4e2d\u67d0\u4e2a\u5b57\u7b26\u7684\u7801\u4f4d\uff0c\u4e5f\u53ef\u4ee5\u6839\u636e\u6307\u5b9a\u7684\u7801\u4f4d\u751f\u6210\u4e00\u4e2a\u5b57\u7b26\u3002 **normalize()\uff1a**\u63d0\u4f9bUnicode\u7684\u6807\u51c6\u5f62\u5f0f\uff0c\u63a5\u53d7\u4e00\u4e2a\u53ef\u9009\u7684\u5b57\u7b26\u4e32\u53c2\u6570\uff0c\u6307\u660e\u5e94\u7528\u67d0\u79cdUnicode\u6807\u51c6\u5f62\u5f0f\u3002 \u5728ES6\u4e2d\uff0c\u65b0\u589e\u4e863\u4e2a\u65b0\u65b9\u6cd5\u3002\u6bcf\u4e2a\u65b9\u6cd5\u90fd\u63a5\u65362\u4e2a\u53c2\u6570\uff0c\u9700\u8981\u68c0\u6d4b\u7684\u5b50\u5b57\u7b26\u4e32\uff0c\u4ee5\u53ca\u5f00\u59cb\u5339\u914d\u7684\u7d22\u5f15\u4f4d\u7f6e\u3002 \u6a21\u677f\u5b57\u7b26\u4e32 \u5b57\u7b26\u4e32\u662fJavaScript\u4e2d\u57fa\u672c\u7c7b\u578b\u4e4b\u4e00\uff0c\u5e94\u8be5\u7b97\u662f\u9664\u4e86\u5bf9\u8c61\u4e4b\u5916\u662f\u4f7f\u7528\u6700\u4e3a\u9891\u7e41\u7684\u7c7b\u578b\u5427\uff0c\u5b57\u7b26\u4e32\u4e2d\u5305\u542b\u4e86\u4f8b\u5982substr\uff0creplace\uff0cindexOf, slice\u7b49\u7b49\u8bf8\u591a\u65b9\u6cd5\uff0cES6\u5f15\u5165\u4e86\u6a21\u677f\u5b57\u7b26\u4e32\u7684\u7279\u6027\uff0c\u7528\u53cd\u5f15\u53f7\u6765\u8868\u793a\uff0c\u53ef\u4ee5\u8868\u793a\u591a\u884c\u5b57\u7b26\u4e32\u4ee5\u53ca\u505a\u5230\u6587\u672c\u63d2\u503c\uff08\u5229\u7528\u6a21\u677f\u5360\u4f4d\u7b26\uff09\u3002 // \u4ee5\u524d\u7684\u591a\u884c\u5b57\u7b26\u4e32\u6211\u4eec\u8fd9\u4e48\u5199\uff1a console . log ( \"hello world 1\\n\\hello cala\" ); // \"hello world // hello cala\" **includes(str, index)\uff1a**\u5982\u679c\u5728\u5b57\u7b26\u4e32\u4e2d\u68c0\u6d4b\u5230\u6307\u5b9a\u6587\u672c\u3002 let t = 'abcdefg' if ( t . includes ( 'cde' )) { console . log ( 2 ) } //true **startsWith(str, index)\uff1a**\u5982\u679c\u5728\u5b57\u7b26\u4e32\u8d77\u59cb\u90e8\u5206\u68c0\u6d4b\u5230\u6307\u5b9a\u6587\u672c\u3002 let t = 'abcdefg' if ( t . startsWith ( 'ab' )) { console . log ( 2 ) } **endsWith(str, index)\uff1a**\u5982\u679c\u5728\u5b57\u7b26\u4e32\u7684\u7ed3\u675f\u90e8\u5206\u68c0\u6d4b\u5230\u6307\u5b9a\u6587\u672c\u3002 let t = 'abcdefg' if ( t . endsWith ( 'fg' )) { console . log ( 2 ) } //true \u5982\u679c\u4f60\u53ea\u662f\u9700\u8981\u5339\u914d\u5b57\u7b26\u4e32\u4e2d==\u662f\u5426\u5305\u542b\u67d0\u5b50\u5b57\u7b26\u4e32==\uff0c\u90a3\u4e48\u63a8\u8350\u4f7f\u7528\u65b0\u589e\u7684\u65b9\u6cd5\uff0c\u5982\u679c\u9700\u8981\u627e\u5230\u5339\u914d\u5b57\u7b26\u4e32\u7684\u4f4d\u7f6e\uff0c\u4f7f\u7528indexOf()\u3002 \u4e09\u3001\u51fd\u6570 \u00b6 \u51fd\u6570\u7684\u9ed8\u8ba4\u53c2\u6570 \u5728ES5\u4e2d\uff0c\u6211\u4eec\u7ed9\u51fd\u6570\u4f20\u53c2\u6570\uff0c\u7136\u540e\u5728\u51fd\u6570\u4f53\u5185\u8bbe\u7f6e\u9ed8\u8ba4\u503c\uff0c\u5982\u4e0b\u9762\u8fd9\u79cd\u65b9\u5f0f\u3002 function a ( num , callback ) { num = num || 6 callback = callback || function ( data ) { console . log ( 'ES5: ' , data )} callback ( num * num ) } a () //ES5: 36\uff0c\u4e0d\u4f20\u53c2\u8f93\u51fa\u9ed8\u8ba4\u503c//\u4f60\u8fd8\u53ef\u4ee5\u8fd9\u6837\u4f7f\u7528callbacka(10, function(data) { console.log(data * 10) // 1000\uff0c \u4f20\u53c2\u8f93\u51fa\u65b0\u6570\u503c}) \u5728ES6\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u65b0\u7684\u9ed8\u8ba4\u503c\u5199\u6cd5 function a ( num = 6 , callback = function ( data ) { console . log ( 'ES6: ' , data )}) { callback ( num * num ) } a () //ES6: 36\uff0c \u4e0d\u4f20\u53c2\u8f93\u51fa\u9ed8\u8ba4\u503ca(10, function(data) { console.log(data * 10) // 1000\uff0c\u4f20\u53c2\u8f93\u51fa\u65b0\u6570\u503c}) \u56db\u3001 \u7bad\u5934\u51fd\u6570\uff08=>\uff09 \u00b6 \uff08\u7bad\u5934\u51fd\u6570\u6bd4\u8f83\u91cd\u8981\uff0c\u73b0\u5728\u7b80\u5355\u63d0\u4e00\u4e0b\uff0c\u8fdf\u4e00\u70b9\u6709\u7a7a\u4e13\u95e8\u5199\u4e00\u7bc7\u7bad\u5934\u51fd\u6570\u7684\u6587\u7ae0\u3002\uff09 const arr = [ 5 , 10 ] const s = arr . reduce (( sum , item ) => sum + item ); console . log ( s ) // 15 \u7bad\u5934\u51fd\u6570\u4e2dthis\u7684\u4f7f\u7528\u8ddf\u666e\u901a\u51fd\u6570\u4e5f\u4e0d\u4e00\u6837\uff0c\u5728JavaScript\u7684\u666e\u901a\u51fd\u6570\u4e2d\uff0c\u90fd\u4f1a\u6709\u4e00\u4e2a\u81ea\u5df1\u7684this\u503c\uff0c\u4e3b\u8981\u5206\u4e3a\uff1a \u666e\u901a\u51fd\u6570\uff1a 1\u3001\u51fd\u6570\u4f5c\u4e3a\u5168\u5c40\u51fd\u6570\u88ab\u8c03\u7528\u65f6\uff0cthis\u6307\u5411\u5168\u5c40\u5bf9\u8c61 2\u3001\u51fd\u6570\u4f5c\u4e3a\u5bf9\u8c61\u4e2d\u7684\u65b9\u6cd5\u88ab\u8c03\u7528\u65f6\uff0cthis\u6307\u5411\u8be5\u5bf9\u8c61 3\u3001\u51fd\u6570\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u7684\u65f6\u5019\uff0cthis\u6307\u5411\u6784\u9020\u51fd\u6570new\u51fa\u6765\u7684\u65b0\u5bf9\u8c61 4\u3001\u8fd8\u53ef\u4ee5\u901a\u8fc7call\uff0capply\uff0cbind\u6539\u53d8this\u7684\u6307\u5411 **\u7bad\u5934\u51fd\u6570\uff1a**1\u3001\u7bad\u5934\u51fd\u6570\u6ca1\u6709this\uff0c\u51fd\u6570\u5185\u90e8\u7684this\u6765\u81ea\u4e8e\u7236\u7ea7\u6700\u8fd1\u7684\u975e\u7bad\u5934\u51fd\u6570\uff0c\u5e76\u4e14\u4e0d\u80fd\u6539\u53d8this\u7684\u6307\u5411\u3002 2\u3001\u7bad\u5934\u51fd\u6570\u6ca1\u6709super 3\u3001\u7bad\u5934\u51fd\u6570\u6ca1\u6709arguments 4\u3001\u7bad\u5934\u51fd\u6570\u6ca1\u6709new.target\u7ed1\u5b9a\u3002 5\u3001\u4e0d\u80fd\u4f7f\u7528new 6\u3001\u6ca1\u6709\u539f\u578b 7\u3001\u4e0d\u652f\u6301\u91cd\u590d\u7684\u547d\u540d\u53c2\u6570\u3002 \u7bad\u5934\u51fd\u6570\u7684\u7b80\u5355\u7406\u89e3 1\u3001\u7bad\u5934\u51fd\u6570\u7684\u5de6\u8fb9\u8868\u793a\u8f93\u5165\u7684\u53c2\u6570\uff0c\u53f3\u8fb9\u8868\u793a\u8f93\u51fa\u7684\u7ed3\u679c\u3002 const s = a => a console . log ( s ( 2 )) // 2 2\u3001\u5728\u7bad\u5934\u51fd\u6570\u4e2d\uff0cthis\u5c5e\u4e8e\u8bcd\u6cd5\u4f5c\u7528\u57df\uff0c\u76f4\u63a5\u7531\u4e0a\u4e0b\u6587\u786e\u5b9a\uff0c\u5bf9\u4e8e\u666e\u901a\u51fd\u6570\u4e2d\u6307\u5411\u4e0d\u5b9a\u7684this\uff0c\u7bad\u5934\u51fd\u6570\u4e2d\u5904\u7406this\u65e0\u7591\u66f4\u52a0\u7b80\u5355\uff0c\u5982\u4e0b\uff1a //ES5\u666e\u901a\u51fd\u6570 function Man (){ this . age = 22 ; return function () { this . age + 1 ; } } var cala = new Man (); console . log ( cala ()) //undefined //ES6\u7bad\u5934\u51fd\u6570 function Man (){ this . age = 22 ; return () => this . age + 1 ; } var cala = new Man (); console . log ( cala ()) //23 3\u3001\u7bad\u5934\u51fd\u6570\u4e2d\u6ca1\u6709arguments(\u6211\u4eec\u53ef\u4ee5\u7528rest\u53c2\u6570\u66ff\u4ee3),\u4e5f\u6ca1\u6709\u539f\u578b\uff0c\u4e5f\u4e0d\u80fd\u4f7f\u7528new \u5173\u952e\u5b57\uff0c\u4f8b\u5982\uff1a //\u6ca1\u6709arguments var foo = ( a , b )=>{ return arguments [ 0 ] * arguments [ 1 ]} console . log ( foo ( 3 , 5 )) //arguments is not defined //\u6ca1\u6709\u539f\u578b var Obj = () => {}; console . log ( Obj . prototype ); // undefined //\u4e0d\u80fd\u4f7f\u7528 new \u5173\u952e\u5b57 var Obj = () => { \"hello world\" }; var o = new Obj (); // TypeError: Obj is not a constructor 4\u3001\u7bad\u5934\u51fd\u6570\u7ed9\u6570\u7ec4\u6392\u5e8f const arr = [ 10 , 50 , 30 , 40 , 20 ] const s = arr . sort (( a , b ) => a - b ) console . log ( s ) // [10,20,30,40,50] \u5c3e\u8c03\u7528\u4f18\u5316 \u5c3e\u8c03\u7528\u662f\u6307\u5728\u51fd\u6570 return \u7684\u65f6\u5019\u8c03\u7528\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\uff0c\u7531\u4e8e\u5c3e\u8c03\u7528\u7684\u5b9e\u73b0\u9700\u8981\u5b58\u50a8\u5230\u5185\u5b58\u4e2d\uff0c\u5728\u4e00\u4e2a\u5faa\u73af\u4f53\u4e2d\uff0c\u5982\u679c\u5b58\u5728\u51fd\u6570\u7684\u5c3e\u8c03\u7528\uff0c\u4f60\u7684\u5185\u5b58\u53ef\u80fd\u7206\u6ee1\u6216\u6ea2\u51fa\u3002 ES6\u4e2d\uff0c\u5f15\u64ce\u4f1a\u5e2e\u4f60\u505a\u597d\u5c3e\u8c03\u7528\u7684\u4f18\u5316\u5de5\u4f5c\uff0c\u4f60\u4e0d\u9700\u8981\u81ea\u5df1\u4f18\u5316\uff0c\u4f46\u9700\u8981\u6ee1\u8db3\u4e0b\u97623\u4e2a\u8981\u6c42\uff1a 1\u3001\u51fd\u6570\u4e0d\u662f\u95ed\u5305 2\u3001\u5c3e\u8c03\u7528\u662f\u51fd\u6570\u6700\u540e\u4e00\u6761\u8bed\u53e5 3\u3001\u5c3e\u8c03\u7528\u7ed3\u679c\u4f5c\u4e3a\u51fd\u6570\u8fd4\u56de \u5c3e\u8c03\u7528\u5b9e\u9645\u7528\u9014\u2014\u2014\u9012\u5f52\u51fd\u6570\u4f18\u5316 \u5728ES5\u65f6\u4ee3\uff0c\u6211\u4eec\u4e0d\u63a8\u8350\u4f7f\u7528\u9012\u5f52\uff0c\u56e0\u4e3a\u9012\u5f52\u4f1a\u5f71\u54cd\u6027\u80fd\u3002 \u4f46\u662f\u6709\u4e86\u5c3e\u8c03\u7528\u4f18\u5316\u4e4b\u540e\uff0c\u9012\u5f52\u51fd\u6570\u7684\u6027\u80fd\u6709\u4e86\u63d0\u5347\u3002 //\u65b0\u578b\u5c3e\u4f18\u5316\u5199\u6cd5\"use strict\"; function a ( n , p = 1 ) { if ( n <= 1 ) { return 1 * p } let s = n * p return a ( n - 1 , s ) } //\u6c42 1 x 2 x 3\u7684\u9636\u4e58 let sum = a ( 3 ) console . log ( sum ) // 6 \u4e94\u3001\u5bf9\u8c61\u65b0\u589e\u65b9\u6cd5 \u00b6 Object.assign() Object.assign()\u65b9\u6cd5\u7528\u4e8e\u5c06\u6240\u6709\u53ef\u679a\u4e3e\u5c5e\u6027\u7684\u503c\u4ece\u4e00\u4e2a\u6216\u591a\u4e2a\u6e90\u5bf9\u8c61\u590d\u5236\u5230\u76ee\u6807\u5bf9\u8c61\u3002\u5b83\u5c06\u8fd4\u56de\u76ee\u6807\u5bf9\u8c61\u3002 Object.assign \u65b9\u6cd5\u53ea\u4f1a\u62f7\u8d1d\u6e90\u5bf9\u8c61\u81ea\u8eab\u7684\u5e76\u4e14\u53ef\u679a\u4e3e\u7684\u5c5e\u6027\u5230\u76ee\u6807\u5bf9\u8c61\u3002\u8be5\u65b9\u6cd5\u4f7f\u7528\u6e90\u5bf9\u8c61\u7684[[Get]]\u548c\u76ee\u6807\u5bf9\u8c61\u7684[[Set]]\uff0c\u6240\u4ee5\u5b83\u4f1a\u8c03\u7528\u76f8\u5173 getter \u548c setter\u3002 \u56e0\u6b64\uff0c\u5b83\u5206\u914d\u5c5e\u6027\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u590d\u5236\u6216\u5b9a\u4e49\u65b0\u7684\u5c5e\u6027\u3002\u5982\u679c\u5408\u5e76\u6e90\u5305\u542bgetter\uff0c\u8fd9\u53ef\u80fd\u4f7f\u5176\u4e0d\u9002\u5408\u5c06\u65b0\u5c5e\u6027\u5408\u5e76\u5230\u539f\u578b\u4e2d\u3002\u4e3a\u4e86\u5c06\u5c5e\u6027\u5b9a\u4e49\uff08\u5305\u62ec\u5176\u53ef\u679a\u4e3e\u6027\uff09\u590d\u5236\u5230\u539f\u578b\uff0c\u5e94\u4f7f\u7528Object.getOwnPropertyDescriptor()\u548cObject.defineProperty() \u3002 String\u7c7b\u578b\u548c Symbol \u7c7b\u578b\u7684\u5c5e\u6027\u90fd\u4f1a\u88ab\u62f7\u8d1d\u3002 \u5408\u5e76\u5bf9\u8c61 var o1 = { a : 1 }; var o2 = { b : 2 }; var o3 = { c : 3 }; var obj = Object . assign ( o1 , o2 , o3 ); console . log ( obj ); // { a: 1, b: 2, c: 3 } console . log ( o1 ); // { a: 1, b: 2, c: 3 }, \u6ce8\u610f\u76ee\u6807\u5bf9\u8c61\u81ea\u8eab\u4e5f\u4f1a\u6539\u53d8\u3002 \u5408\u5e76\u5177\u6709\u76f8\u540c\u5c5e\u6027\u7684\u5bf9\u8c61 var o1 = { a : 1 , b : 1 , c : 1 }; var o2 = { b : 2 , c : 2 }; var o3 = { c : 3 }; var obj = Object . assign ({}, o1 , o2 , o3 ); console . log ( obj ); // { a: 1, b: 2, c: 3 } \u516d\u3001Map\u548cSet \u00b6 Map\u548cSet\u90fd\u53eb\u505a\u96c6\u5408\uff0c\u4f46\u662f\u4ed6\u4eec\u4e5f\u6709\u6240\u4e0d\u540c\u3002Set\u5e38\u88ab\u7528\u6765\u68c0\u67e5\u5bf9\u8c61\u4e2d\u662f\u5426\u5b58\u5728\u67d0\u4e2a\u952e\u540d\uff0cMap\u96c6\u5408\u5e38\u88ab\u7528\u6765\u83b7\u53d6\u5df2\u5b58\u7684\u4fe1\u606f\u3002 Set\u662f\u6709\u5e8f\u5217\u8868\uff0c\u542b\u6709\u76f8\u4e92\u72ec\u7acb\u7684\u975e\u91cd\u590d\u503c\u3002 Array\u548cSet\u5bf9\u6bd4 \u90fd\u662f\u4e00\u4e2a\u5b58\u50a8\u591a\u503c\u7684\u5bb9\u5668\uff0c\u4e24\u8005\u53ef\u4ee5\u4e92\u76f8\u8f6c\u6362\uff0c\u4f46\u662f\u5728\u4f7f\u7528\u573a\u666f\u4e0a\u6709\u533a\u522b\u3002\u5982\u4e0b: Array\u7684indexOf\u65b9\u6cd5\u6bd4Set\u7684has\u65b9\u6cd5\u6548\u7387\u4f4e\u4e0b Set\u4e0d\u542b\u6709\u91cd\u590d\u503c\uff08\u53ef\u4ee5\u5229\u7528\u8fd9\u4e2a\u7279\u6027\u5b9e\u73b0\u5bf9\u4e00\u4e2a\u6570\u7ec4\u7684\u53bb\u91cd\uff09 Set\u901a\u8fc7delete\u65b9\u6cd5\u5220\u9664\u67d0\u4e2a\u503c\uff0c\u800cArray\u53ea\u80fd\u901a\u8fc7splice\u3002\u4e24\u8005\u7684\u4f7f\u7528\u65b9\u4fbf\u7a0b\u5ea6\u524d\u8005\u66f4\u4f18 Array\u7684\u5f88\u591a\u65b0\u65b9\u6cd5map\u3001filter\u3001some\u3001every\u7b49\u662fSet\u6ca1\u6709\u7684\uff08\u4f46\u662f\u901a\u8fc7\u4e24\u8005\u53ef\u4ee5\u4e92\u76f8\u8f6c\u6362\u6765\u4f7f\u7528\uff09 Object\u548cMap\u5bf9\u6bd4 Object\u662f\u5b57\u7b26\u4e32-\u503c\uff0cMap\u662f\u503c-\u503c Object\u952e\u4e3astring\u7c7b\u578b,Map\u7684\u952e\u662f\u4efb\u610f\u7c7b\u578b \u624b\u52a8\u8ba1\u7b97Object\u5c3a\u5bf8,Map.size\u53ef\u4ee5\u83b7\u53d6\u5c3a\u5bf8 Map\u7684\u6392\u5e8f\u662f\u63d2\u5165\u987a\u5e8f Object\u6709\u539f\u578b\uff0c\u6240\u4ee5\u6620\u5c04\u4e2d\u6709\u4e00\u4e9b\u7f3a\u7701\u7684\u952e\u3002\u53ef\u4ee5\u7406\u89e3\u4e3aMap=Object.create(null) Set\u64cd\u4f5c\u96c6\u5408 let set = new Set () // Set\u8f6c\u5316\u4e3a\u6570\u7ec4 let arr = Array . from ( set ) let arr = [... set ] // \u5b9e\u4f8b\u5c5e\u6027\uff08\u7ee7\u627f\u81eaSet\uff09 set . constructor === Set set . size // \u64cd\u4f5c\u65b9\u6cd5 set . add ( 1 ) // \u6dfb\u52a0\u4e00\u4e2a\u503c set . delete ( 1 ) //\u5220\u9664\u4e00\u4e2a\u503c set . has ( 1 ) //\u5224\u65ad\u662f\u5426\u6709\u8fd9\u4e2a\u503c\uff08Array\u4e2d\u7684indexOf\uff09 set . clear () //\u6e05\u9664\u6240\u6709\u503c // \u83b7\u53d6\u7528\u4e8e\u904d\u5386\u7684\u6210\u5458\u65b9\u6cd5(Set\u7684\u904d\u5386\u987a\u5e8f\u5c31\u662f\u63d2\u5165\u987a\u5e8f) set . keys () // \u8fd4\u56de\u952e\u540d\u7684\u904d\u5386\u5668 set . values () // \u8fd4\u56de\u952e\u503c\u5f97\u904d\u5386\u5668 set . entries () // \u8fd4\u56de\u952e\u503c\u5bf9\u7684\u904d\u5386\u5668 set . forEach () // \u5faa\u73af\u904d\u5386\u6bcf\u4e2a\u503c(\u548cArray\u7684\u65b9\u6cd5\u4e00\u81f4) for ( let key of set . keys ()){} for ( let val of set . values ()){} for ( let entry of set . entries ()){} // \u4f7f\u7528\u6570\u7ec4\u65b9\u6cd5\u6765\u5904\u7406set\u503c set = new Set ( arr ) set = new Set ([... set ]. map (( x ) => x = x * 2 )) set = new Set ([... set ]. filter (( x ) => x > 2 )) Map\u7684\u65b9\u6cd5\u96c6\u5408 let map = new Map () // \u5b9e\u4f8b\u5c5e\u6027(\u7ee7\u627f\u81eaMap) map . constructor === Map map . size // \u64cd\u4f5c\u65b9\u6cd5 map . set ( 1 , 2 ) map . get ( 1 ) map . delete ( 1 ) map . has ( 1 ) map . clear () // \u904d\u5386\u65b9\u6cd5 map . keys () map . values () map . entries () map . forEach () // Map\u548c\u6570\u7ec4\u7684\u8f6c\u6362 map = new Map ([[ 'key' , 'val' ],[ 2 , 1 ]]) // \u8981\u6c42\u53cc\u6210\u5458\u6570\u7ec4 let arr = [... map ] // \u503c\u5f97\u6ce8\u610f\u7684\u662fMap\u7684\u952e\u662f\u8ddf\u5185\u5b58\u7ed1\u5b9a\u7684 map . set ([ 1 ], 's' ) map . get ([ 1 ]) let arr = [ 1 ] let arr1 = [ 1 ] map . set ( arr , 's' ) map . get ( arr ) map . set ( arr1 , 's' ) map . get ( arr1 ) \u4e03\u3001\u8fed\u4ee3\u5668\uff08Iterator\uff09 \u00b6 1\u3001entries() \u8fd4\u56de\u8fed\u4ee3\u5668\uff1a\u8fd4\u56de\u952e\u503c\u5bf9 //\u6570\u7ec4 const arr = [ 'a' , 'b' , 'c' ]; for ( let v of arr . entries ()) { console . log ( v )} // [0, 'a'] [1, 'b'] [2, 'c'] //Set const arr = new Set ([ 'a' , 'b' , 'c' ]); for ( let v of arr . entries ()) { console . log ( v )} // ['a', 'a'] ['b', 'b'] ['c', 'c'] //Map const arr = new Map (); arr . set ( 'a' , 'a' ); arr . set ( 'b' , 'b' ); for ( let v of arr . entries ()) { console . log ( v )} // ['a', 'a'] ['b', 'b'] 2\u3001values() \u8fd4\u56de\u8fed\u4ee3\u5668\uff1a\u8fd4\u56de\u952e\u503c\u5bf9\u7684value //\u6570\u7ec4 const arr = [ 'a' , 'b' , 'c' ]; for ( let v of arr . values ()) { console . log ( v )} //'a' 'b' 'c' //Set const arr = new Set ([ 'a' , 'b' , 'c' ]); for ( let v of arr . values ()) { console . log ( v )} // 'a' 'b' 'c' //Map const arr = new Map (); arr . set ( 'a' , 'a' ); arr . set ( 'b' , 'b' ); for ( let v of arr . values ()) { console . log ( v )} // 'a' 'b' 3\u3001keys() \u8fd4\u56de\u8fed\u4ee3\u5668\uff1a\u8fd4\u56de\u952e\u503c\u5bf9\u7684key //\u6570\u7ec4 const arr = [ 'a' , 'b' , 'c' ]; for ( let v of arr . keys ()) { console . log ( v )} // 0 1 2 //Set const arr = new Set ([ 'a' , 'b' , 'c' ]); for ( let v of arr . keys ()) { console . log ( v )} // 'a' 'b' 'c' //Map const arr = new Map (); arr . set ( 'a' , 'a' ); arr . set ( 'b' , 'b' ); for ( let v of arr . keys ()) { console . log ( v )} // 'a' 'b' \u867d\u7136\u4e0a\u9762\u5217\u4e3e\u4e863\u79cd\u5185\u5efa\u7684\u8fed\u4ee3\u5668\u65b9\u6cd5\uff0c\u4f46\u662f\u4e0d\u540c\u96c6\u5408\u7684\u7c7b\u578b\u8fd8\u6709\u81ea\u5df1\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668\uff0c\u5728for of\u4e2d\uff0c\u6570\u7ec4\u548cSet\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\u662fvalues()\uff0cMap\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\u662fentries()\u3002 for of\u5faa\u73af\u89e3\u6784 \u5bf9\u8c61\u672c\u8eab\u4e0d\u652f\u6301\u8fed\u4ee3\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u81ea\u5df1\u6dfb\u52a0\u4e00\u4e2a\u751f\u6210\u5668\uff0c\u8fd4\u56de\u4e00\u4e2akey\uff0cvalue\u7684\u8fed\u4ee3\u5668\uff0c\u7136\u540e\u4f7f\u7528for of\u5faa\u73af\u89e3\u6784key\u548cvalue\u3002 const obj = { a : 1 , b : 2 , * [ Symbol . iterator ]() { for ( let i in obj ) { yield [ i , obj [ i ]] } } }; for ( let [ key , value ] of obj ){ console . log ( key , value ) } // 'a' 1, 'b' 2 \u5b57\u7b26\u4e32\u8fed\u4ee3\u5668 const str = 'abc' ; for ( let v of str ) { console . log ( v ) } // 'a' 'b' 'c' \u516b\u3001\u6570\u7ec4\u65b0\u65b9\u6cd5 \u00b6 ES6\u7ed9\u6570\u7ec4\u6dfb\u52a0\u4e86\u51e0\u4e2a\u65b0\u65b9\u6cd5\uff1afind()\u3001findIndex()\u3001fill()\u3001copyWithin() 1\u3001find()\uff1a\u4f20\u5165\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u627e\u5230\u6570\u7ec4\u4e2d\u7b26\u5408\u5f53\u524d\u641c\u7d22\u89c4\u5219\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u8fd4\u56de\u5b83\uff0c\u5e76\u4e14\u7ec8\u6b62\u641c\u7d22\u3002 const arr = [ 1 , \"2\" , 3 , 3 , \"2\" ] console . log ( arr . find ( n => typeof n === \"number\" )); // 1 2\u3001findIndex()\uff1a\u4f20\u5165\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u627e\u5230\u6570\u7ec4\u4e2d\u7b26\u5408\u5f53\u524d\u641c\u7d22\u89c4\u5219\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u8fd4\u56de\u5b83\u7684\u4e0b\u6807\uff0c\u7ec8\u6b62\u641c\u7d22\u3002 const arr = [ 1 , \"2\" , 3 , 3 , \"2\" ] console . log ( arr . findIndex ( n => typeof n === \"number\" )) // 0 3\u3001fill()\uff1a\u7528\u65b0\u5143\u7d20\u66ff\u6362\u6389\u6570\u7ec4\u5185\u7684\u5143\u7d20\uff0c\u53ef\u4ee5\u6307\u5b9a\u66ff\u6362\u4e0b\u6807\u8303\u56f4\u3002 arr . fill ( value , start , end ); 4\u3001copyWithin()\uff1a\u9009\u62e9\u6570\u7ec4\u7684\u67d0\u4e2a\u4e0b\u6807\uff0c\u4ece\u8be5\u4f4d\u7f6e\u5f00\u59cb\u590d\u5236\u6570\u7ec4\u5143\u7d20\uff0c\u9ed8\u8ba4\u4ece0\u5f00\u59cb\u590d\u5236\u3002\u4e5f\u53ef\u4ee5\u6307\u5b9a\u8981\u590d\u5236\u7684\u5143\u7d20\u8303\u56f4\u3002 arr . copyWithin ( target , start , end ) const arr = [ 1 , 2 , 3 , 4 , 5 ] console . log ( arr . copyWithin ( 3 )) // [1,2,3,1,2] \u4ece\u4e0b\u6807\u4e3a3\u7684\u5143\u7d20\u5f00\u59cb\uff0c\u590d\u5236\u6570\u7ec4\uff0c\u6240\u4ee54, 5\u88ab\u66ff\u6362\u62101, 2 const arr1 = [ 1 , 2 , 3 , 4 , 5 ] console . log ( arr1 . copyWithin ( 3 , 1 )) // [1,2,3,2,3] \u4ece\u4e0b\u6807\u4e3a3\u7684\u5143\u7d20\u5f00\u59cb\uff0c\u590d\u5236\u6570\u7ec4\uff0c\u6307\u5b9a\u590d\u5236\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u4e0b\u6807\u4e3a1\uff0c\u6240\u4ee54, 5\u88ab\u66ff\u6362\u62102, 3 const arr2 = [ 1 , 2 , 3 , 4 , 5 ] console . log ( arr2 . copyWithin ( 3 , 1 , 2 )) // [1,2,3,2,5] \u4ece\u4e0b\u6807\u4e3a3\u7684\u5143\u7d20\u5f00\u59cb\uff0c\u590d\u5236\u6570\u7ec4\uff0c\u6307\u5b9a\u590d\u5236\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u4e0b\u6807\u4e3a1\uff0c\u7ed3\u675f\u4f4d\u7f6e\u4e3a2\uff0c\u6240\u4ee54\u88ab\u66ff\u6362\u62102 ES6\u4e2d\u7c7bclass\u3001Promise\u4e0e\u5f02\u6b65\u7f16\u7a0b\u3001\u4ee3\u7406\uff08Proxy\uff09\u548c\u53cd\u5c04\uff08Reflection\uff09API\uff0c\u8fd9\u51e0\u5757\u5185\u5bb9\u6bd4\u8f83\u590d\u6742\uff0c\u4ee5\u540e\u6709\u673a\u4f1a\u518d\u8be6\u7ec6\u5199\u3002","title":"\u5e38\u7528\u5230\u7684ES6\u8bed\u6cd5.md"},{"location":"javascript/%E5%B8%B8%E7%94%A8%E5%88%B0%E7%9A%84ES6%E8%AF%AD%E6%B3%95/#es6","text":"","title":"\u5e38\u7528\u5230\u7684ES6\u8bed\u6cd5"},{"location":"javascript/%E5%B8%B8%E7%94%A8%E5%88%B0%E7%9A%84ES6%E8%AF%AD%E6%B3%95/#letconst","text":"\u5bf9\u4e8e\u53d8\u91cf\u6765\u8bf4\uff0c\u5728ES5\u4e2dvar\u5b9a\u4e49\u7684\u53d8\u91cf\u4f1a\u63d0\u5347\u5230\u4f5c\u7528\u57df\u4e2d\u6240\u6709\u7684\u51fd\u6570\u4e0e\u8bed\u53e5\u524d\u9762\uff0c\u800cES6\u4e2dlet\u5b9a\u4e49\u7684\u53d8\u91cf\u5219\u4e0d\u4f1a\uff0clet\u58f0\u660e\u7684\u53d8\u91cf\u4f1a\u5728\u5176\u76f8\u5e94\u7684\u4ee3\u7801\u5757\u4e2d\u5efa\u7acb\u4e00\u4e2a\u6682\u65f6\u6027\u6b7b\u533a\uff0c\u76f4\u81f3\u53d8\u91cf\u88ab\u58f0\u660e\u3002 let\u548cconst\u90fd\u80fd\u591f\u58f0\u660e\u5757\u7ea7\u4f5c\u7528\u57df\uff0c\u7528\u6cd5\u548cvar\u662f\u7c7b\u4f3c\u7684\uff0clet\u7684\u7279\u70b9\u662f\u4e0d\u4f1a\u53d8\u91cf\u63d0\u5347\uff0c\u800c\u662f\u88ab\u9501\u5728\u5f53\u524d\u5757\u4e2d\u3002 \u4e00\u4e2a\u975e\u5e38\u7b80\u5355\u7684\u4f8b\u5b50\uff1a function test () { if ( true ) { console . log ( a ) //TDZ\uff0c\u4fd7\u79f0\u4e34\u65f6\u6b7b\u533a\uff0c\u7528\u6765\u63cf\u8ff0\u53d8\u91cf\u4e0d\u63d0\u5347\u7684\u73b0\u8c61 let a = 1 } } test () // a is not definedfunction test () { if ( true ) { let a = 1 } console . log ( a ) } test () // a is not defined const \u58f0\u660e\u5e38\u91cf\uff0c\u4e00\u65e6\u58f0\u660e\uff0c\u4e0d\u53ef\u66f4\u6539\uff0c\u800c\u4e14\u5e38\u91cf\u5fc5\u987b\u521d\u59cb\u5316\u8d4b\u503c\u3002 const\u867d\u7136\u662f\u5e38\u91cf\uff0c\u4e0d\u5141\u8bb8\u4fee\u6539\u9ed8\u8ba4\u8d4b\u503c\uff0c\u4f46\u5982\u679c\u5b9a\u4e49\u7684\u662f\u5bf9\u8c61Object\uff0c\u90a3\u4e48\u53ef\u4ee5\u4fee\u6539\u5bf9\u8c61\u5185\u90e8\u7684\u5c5e\u6027\u503c\u3002 const type = { a : 1 } type . a = 2 //\u6ca1\u6709\u76f4\u63a5\u4fee\u6539type\u7684\u503c\uff0c\u800c\u662f\u4fee\u6539type.a\u7684\u5c5e\u6027\u503c\uff0c\u8fd9\u662f\u5141\u8bb8\u7684\u3002 console . log ( type ) // {a: 2} const\u548clet\u7684\u5f02\u540c\u70b9 **\u76f8\u540c\u70b9\uff1a**const\u548clet\u90fd\u662f\u5728\u5f53\u524d\u5757\u5185\u6709\u6548\uff0c\u6267\u884c\u5230\u5757\u5916\u4f1a\u88ab\u9500\u6bc1\uff0c\u4e5f\u4e0d\u5b58\u5728\u53d8\u91cf\u63d0\u5347\uff08TDZ\uff09\uff0c\u4e0d\u80fd\u91cd\u590d\u58f0\u660e\u3002 \u4e0d\u540c\u70b9\uff1a**const\u4e0d\u80fd\u518d\u8d4b\u503c\uff0clet\u58f0\u660e\u7684\u53d8\u91cf\u53ef\u4ee5\u91cd\u590d\u8d4b\u503c\u3002 **const**\u5b9e\u9645\u4e0a\u4fdd\u8bc1\u7684\uff0c**\u5e76\u4e0d\u662f\u53d8\u91cf\u7684\u503c\u4e0d\u5f97\u6539\u52a8\uff0c\u800c\u662f\u53d8\u91cf\u6307\u5411\u7684\u90a3\u4e2a\u5185\u5b58\u5730\u5740\u6240\u4fdd\u5b58\u7684\u6570\u636e\u4e0d\u5f97\u6539\u52a8 \u3002\u5bf9\u4e8e\u7b80\u5355\u7c7b\u578b\u7684\u6570\u636e\uff08\u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\uff09\uff0c\u503c\u5c31\u4fdd\u5b58\u5728\u53d8\u91cf\u6307\u5411\u7684\u90a3\u4e2a\u5185\u5b58\u5730\u5740\uff0c\u56e0\u6b64\u7b49\u540c\u4e8e\u5e38\u91cf\u3002\u4f46\u5bf9\u4e8e\u590d\u5408\u7c7b\u578b\u7684\u6570\u636e\uff08\u4e3b\u8981\u662f\u5bf9\u8c61\u548c\u6570\u7ec4\uff09\uff0c\u53d8\u91cf\u6307\u5411\u7684\u5185\u5b58\u5730\u5740\uff0c\u4fdd\u5b58\u7684\u53ea\u662f\u4e00\u4e2a\u6307\u5411\u5b9e\u9645\u6570\u636e\u7684\u6307\u9488\uff0cconst\u53ea\u80fd\u4fdd\u8bc1\u8fd9\u4e2a\u6307\u9488\u662f\u56fa\u5b9a\u7684\uff08\u5373\u603b\u662f\u6307\u5411\u53e6\u4e00\u4e2a\u56fa\u5b9a\u7684\u5730\u5740\uff09\uff0c\u81f3\u4e8e\u5b83\u6307\u5411\u7684\u6570\u636e\u7ed3\u6784\u662f\u4e0d\u662f\u53ef\u53d8\u7684\uff0c\u5c31\u5b8c\u5168\u4e0d\u80fd\u63a7\u5236\u4e86\u3002\u56e0\u6b64\uff0c\u5c06\u4e00\u4e2a\u5bf9\u8c61\u58f0\u660e\u4e3a\u5e38\u91cf\u5fc5\u987b\u975e\u5e38\u5c0f\u5fc3\u3002 \u5757\u7ea7\u4f5c\u7528\u57df\u7684\u4f7f\u7528\u573a\u666f \u9664\u4e86\u4e0a\u9762\u63d0\u5230\u7684\u5e38\u7528\u58f0\u660e\u65b9\u5f0f\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u5728\u5faa\u73af\u4e2d\u4f7f\u7528\uff0c\u6700\u51fa\u540d\u7684\u4e00\u9053\u9762\u8bd5\u9898\uff1a\u5faa\u73af\u4e2d\u5b9a\u65f6\u5668\u95ed\u5305\u7684\u8003\u9898 \u5728for\u5faa\u73af\u4e2d\u4f7f\u7528var\u58f0\u660e\u7684\u5faa\u73af\u53d8\u91cf\uff0c\u4f1a\u8df3\u51fa\u5faa\u73af\u4f53\u6c61\u67d3\u5f53\u524d\u7684\u51fd\u6570\u3002 for ( var i = 0 ; i < 5 ; i ++ ) { setTimeout (() => { console . log ( i ) //5, 5, 5, 5, 5 }, 0 ); } console . log ( i ) //5 i\u8df3\u51fa\u5faa\u73af\u4f53\u6c61\u67d3\u5916\u90e8\u51fd\u6570 //\u5c06var\u6539\u6210let\u4e4b\u540e for ( let i = 0 ; i < 5 ; i ++ ) { setTimeout (() => { console . log ( i ) // 0,1,2,3,4 }, 0 )} console . log ( i ) //i is not defined i\u65e0\u6cd5\u6c61\u67d3\u5916\u90e8\u51fd\u6570 \u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u9009\u62e9\u4f7f\u7528var\u3001let\u8fd8\u662fconst\uff0c\u53d6\u51b3\u4e8e\u6211\u4eec\u7684\u53d8\u91cf\u662f\u4e0d\u662f\u9700\u8981\u66f4\u65b0\uff0c\u901a\u5e38\u6211\u4eec\u5e0c\u671b\u53d8\u91cf\u4fdd\u8bc1\u4e0d\u88ab\u6076\u610f\u4fee\u6539\uff0c\u800c\u4f7f\u7528\u5927\u91cf\u7684const\u3002\u4f7f\u7528const\u58f0\u660e\uff0c\u58f0\u660e\u4e00\u4e2a\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u4e5f\u63a8\u8350\u4f7f\u7528const\uff0c\u5f53\u4f60\u9700\u8981\u4fee\u6539\u58f0\u660e\u7684\u53d8\u91cf\u503c\u65f6\uff0c\u4f7f\u7528let\uff0cvar\u80fd\u7528\u7684\u573a\u666f\u90fd\u53ef\u4ee5\u4f7f\u7528let\u66ff\u4ee3\u3002 symbol ES6 \u4ee5\u524d\uff0c\u6211\u4eec\u77e5\u90535\u79cd\u57fa\u672c\u6570\u636e\u7c7b\u578b\u5206\u522b\u662fUndefined\uff0cNull\uff0cBoolean\uff0cNumber\u4ee5\u53caString\uff0c\u7136\u540e\u52a0\u4e0a\u4e00\u79cd\u5f15\u7528\u7c7b\u578bObject\u6784\u6210\u4e86JavaScript\u4e2d\u6240\u6709\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4f46\u662fES6\u51fa\u6765\u4e4b\u540e\uff0c\u65b0\u589e\u4e86\u4e00\u79cd\u6570\u636e\u7c7b\u578b\uff0c\u540d\u53ebsymbol\uff0c\u50cf\u5b83\u7684\u540d\u5b57\u8868\u9732\u7684\u4e00\u6837\uff0c\u610f\u5473\u7740\u72ec\u4e00\u65e0\u4e8c\uff0c\u610f\u601d\u662f\u6bcf\u4e2a Symbol\u7c7b\u578b\u90fd\u662f\u72ec\u4e00\u65e0\u4e8c\u7684\uff0c\u4e0d\u4e0e\u5176\u5b83 Symbol \u91cd\u590d\u3002 \u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 Symbol() \u65b9\u6cd5\u5c06\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Symbol \u7c7b\u578b\u7684\u503c\uff0c\u8fd9\u4e2a\u503c\u72ec\u4e00\u65e0\u4e8c\uff0c\u4e0d\u4e0e\u4efb\u4f55\u503c\u76f8\u7b49\u3002 var mySymbol = Symbol (); console . log ( typeof mySymbol ) //\"symbol\"","title":"\u4e00\u3001let\u548cconst"},{"location":"javascript/%E5%B8%B8%E7%94%A8%E5%88%B0%E7%9A%84ES6%E8%AF%AD%E6%B3%95/#_1","text":"ES6\u5b57\u7b26\u4e32\u65b0\u589e\u7684\u65b9\u6cd5 **UTF-16\u7801\u4f4d\uff1a**ES6\u5f3a\u5236\u4f7f\u7528UTF-16\u5b57\u7b26\u4e32\u7f16\u7801\u3002\u5173\u4e8eUTF-16\u7684\u89e3\u91ca\u8bf7\u81ea\u884c\u767e\u5ea6\u4e86\u89e3\u3002 **codePointAt()\uff1a**\u8be5\u65b9\u6cd5\u652f\u6301UTF-16\uff0c\u63a5\u53d7\u7f16\u7801\u5355\u5143\u7684\u4f4d\u7f6e\u800c\u975e\u5b57\u7b26\u4e32\u4f4d\u7f6e\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e0e\u5b57\u7b26\u4e32\u4e2d\u7ed9\u5b9a\u4f4d\u7f6e\u5bf9\u5e94\u7684\u7801\u4f4d\uff0c\u5373\u4e00\u4e2a\u6574\u6570\u503c\u3002 String.fromCodePoiont()\uff1a \u4f5c\u7528\u4e0ecodePointAt\u76f8\u53cd\uff0c\u68c0\u7d22\u5b57\u7b26\u4e32\u4e2d\u67d0\u4e2a\u5b57\u7b26\u7684\u7801\u4f4d\uff0c\u4e5f\u53ef\u4ee5\u6839\u636e\u6307\u5b9a\u7684\u7801\u4f4d\u751f\u6210\u4e00\u4e2a\u5b57\u7b26\u3002 **normalize()\uff1a**\u63d0\u4f9bUnicode\u7684\u6807\u51c6\u5f62\u5f0f\uff0c\u63a5\u53d7\u4e00\u4e2a\u53ef\u9009\u7684\u5b57\u7b26\u4e32\u53c2\u6570\uff0c\u6307\u660e\u5e94\u7528\u67d0\u79cdUnicode\u6807\u51c6\u5f62\u5f0f\u3002 \u5728ES6\u4e2d\uff0c\u65b0\u589e\u4e863\u4e2a\u65b0\u65b9\u6cd5\u3002\u6bcf\u4e2a\u65b9\u6cd5\u90fd\u63a5\u65362\u4e2a\u53c2\u6570\uff0c\u9700\u8981\u68c0\u6d4b\u7684\u5b50\u5b57\u7b26\u4e32\uff0c\u4ee5\u53ca\u5f00\u59cb\u5339\u914d\u7684\u7d22\u5f15\u4f4d\u7f6e\u3002 \u6a21\u677f\u5b57\u7b26\u4e32 \u5b57\u7b26\u4e32\u662fJavaScript\u4e2d\u57fa\u672c\u7c7b\u578b\u4e4b\u4e00\uff0c\u5e94\u8be5\u7b97\u662f\u9664\u4e86\u5bf9\u8c61\u4e4b\u5916\u662f\u4f7f\u7528\u6700\u4e3a\u9891\u7e41\u7684\u7c7b\u578b\u5427\uff0c\u5b57\u7b26\u4e32\u4e2d\u5305\u542b\u4e86\u4f8b\u5982substr\uff0creplace\uff0cindexOf, slice\u7b49\u7b49\u8bf8\u591a\u65b9\u6cd5\uff0cES6\u5f15\u5165\u4e86\u6a21\u677f\u5b57\u7b26\u4e32\u7684\u7279\u6027\uff0c\u7528\u53cd\u5f15\u53f7\u6765\u8868\u793a\uff0c\u53ef\u4ee5\u8868\u793a\u591a\u884c\u5b57\u7b26\u4e32\u4ee5\u53ca\u505a\u5230\u6587\u672c\u63d2\u503c\uff08\u5229\u7528\u6a21\u677f\u5360\u4f4d\u7b26\uff09\u3002 // \u4ee5\u524d\u7684\u591a\u884c\u5b57\u7b26\u4e32\u6211\u4eec\u8fd9\u4e48\u5199\uff1a console . log ( \"hello world 1\\n\\hello cala\" ); // \"hello world // hello cala\" **includes(str, index)\uff1a**\u5982\u679c\u5728\u5b57\u7b26\u4e32\u4e2d\u68c0\u6d4b\u5230\u6307\u5b9a\u6587\u672c\u3002 let t = 'abcdefg' if ( t . includes ( 'cde' )) { console . log ( 2 ) } //true **startsWith(str, index)\uff1a**\u5982\u679c\u5728\u5b57\u7b26\u4e32\u8d77\u59cb\u90e8\u5206\u68c0\u6d4b\u5230\u6307\u5b9a\u6587\u672c\u3002 let t = 'abcdefg' if ( t . startsWith ( 'ab' )) { console . log ( 2 ) } **endsWith(str, index)\uff1a**\u5982\u679c\u5728\u5b57\u7b26\u4e32\u7684\u7ed3\u675f\u90e8\u5206\u68c0\u6d4b\u5230\u6307\u5b9a\u6587\u672c\u3002 let t = 'abcdefg' if ( t . endsWith ( 'fg' )) { console . log ( 2 ) } //true \u5982\u679c\u4f60\u53ea\u662f\u9700\u8981\u5339\u914d\u5b57\u7b26\u4e32\u4e2d==\u662f\u5426\u5305\u542b\u67d0\u5b50\u5b57\u7b26\u4e32==\uff0c\u90a3\u4e48\u63a8\u8350\u4f7f\u7528\u65b0\u589e\u7684\u65b9\u6cd5\uff0c\u5982\u679c\u9700\u8981\u627e\u5230\u5339\u914d\u5b57\u7b26\u4e32\u7684\u4f4d\u7f6e\uff0c\u4f7f\u7528indexOf()\u3002","title":"\u4e8c\u3001\u5b57\u7b26\u4e32"},{"location":"javascript/%E5%B8%B8%E7%94%A8%E5%88%B0%E7%9A%84ES6%E8%AF%AD%E6%B3%95/#_2","text":"\u51fd\u6570\u7684\u9ed8\u8ba4\u53c2\u6570 \u5728ES5\u4e2d\uff0c\u6211\u4eec\u7ed9\u51fd\u6570\u4f20\u53c2\u6570\uff0c\u7136\u540e\u5728\u51fd\u6570\u4f53\u5185\u8bbe\u7f6e\u9ed8\u8ba4\u503c\uff0c\u5982\u4e0b\u9762\u8fd9\u79cd\u65b9\u5f0f\u3002 function a ( num , callback ) { num = num || 6 callback = callback || function ( data ) { console . log ( 'ES5: ' , data )} callback ( num * num ) } a () //ES5: 36\uff0c\u4e0d\u4f20\u53c2\u8f93\u51fa\u9ed8\u8ba4\u503c//\u4f60\u8fd8\u53ef\u4ee5\u8fd9\u6837\u4f7f\u7528callbacka(10, function(data) { console.log(data * 10) // 1000\uff0c \u4f20\u53c2\u8f93\u51fa\u65b0\u6570\u503c}) \u5728ES6\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u65b0\u7684\u9ed8\u8ba4\u503c\u5199\u6cd5 function a ( num = 6 , callback = function ( data ) { console . log ( 'ES6: ' , data )}) { callback ( num * num ) } a () //ES6: 36\uff0c \u4e0d\u4f20\u53c2\u8f93\u51fa\u9ed8\u8ba4\u503ca(10, function(data) { console.log(data * 10) // 1000\uff0c\u4f20\u53c2\u8f93\u51fa\u65b0\u6570\u503c})","title":"\u4e09\u3001\u51fd\u6570"},{"location":"javascript/%E5%B8%B8%E7%94%A8%E5%88%B0%E7%9A%84ES6%E8%AF%AD%E6%B3%95/#_3","text":"\uff08\u7bad\u5934\u51fd\u6570\u6bd4\u8f83\u91cd\u8981\uff0c\u73b0\u5728\u7b80\u5355\u63d0\u4e00\u4e0b\uff0c\u8fdf\u4e00\u70b9\u6709\u7a7a\u4e13\u95e8\u5199\u4e00\u7bc7\u7bad\u5934\u51fd\u6570\u7684\u6587\u7ae0\u3002\uff09 const arr = [ 5 , 10 ] const s = arr . reduce (( sum , item ) => sum + item ); console . log ( s ) // 15 \u7bad\u5934\u51fd\u6570\u4e2dthis\u7684\u4f7f\u7528\u8ddf\u666e\u901a\u51fd\u6570\u4e5f\u4e0d\u4e00\u6837\uff0c\u5728JavaScript\u7684\u666e\u901a\u51fd\u6570\u4e2d\uff0c\u90fd\u4f1a\u6709\u4e00\u4e2a\u81ea\u5df1\u7684this\u503c\uff0c\u4e3b\u8981\u5206\u4e3a\uff1a \u666e\u901a\u51fd\u6570\uff1a 1\u3001\u51fd\u6570\u4f5c\u4e3a\u5168\u5c40\u51fd\u6570\u88ab\u8c03\u7528\u65f6\uff0cthis\u6307\u5411\u5168\u5c40\u5bf9\u8c61 2\u3001\u51fd\u6570\u4f5c\u4e3a\u5bf9\u8c61\u4e2d\u7684\u65b9\u6cd5\u88ab\u8c03\u7528\u65f6\uff0cthis\u6307\u5411\u8be5\u5bf9\u8c61 3\u3001\u51fd\u6570\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u7684\u65f6\u5019\uff0cthis\u6307\u5411\u6784\u9020\u51fd\u6570new\u51fa\u6765\u7684\u65b0\u5bf9\u8c61 4\u3001\u8fd8\u53ef\u4ee5\u901a\u8fc7call\uff0capply\uff0cbind\u6539\u53d8this\u7684\u6307\u5411 **\u7bad\u5934\u51fd\u6570\uff1a**1\u3001\u7bad\u5934\u51fd\u6570\u6ca1\u6709this\uff0c\u51fd\u6570\u5185\u90e8\u7684this\u6765\u81ea\u4e8e\u7236\u7ea7\u6700\u8fd1\u7684\u975e\u7bad\u5934\u51fd\u6570\uff0c\u5e76\u4e14\u4e0d\u80fd\u6539\u53d8this\u7684\u6307\u5411\u3002 2\u3001\u7bad\u5934\u51fd\u6570\u6ca1\u6709super 3\u3001\u7bad\u5934\u51fd\u6570\u6ca1\u6709arguments 4\u3001\u7bad\u5934\u51fd\u6570\u6ca1\u6709new.target\u7ed1\u5b9a\u3002 5\u3001\u4e0d\u80fd\u4f7f\u7528new 6\u3001\u6ca1\u6709\u539f\u578b 7\u3001\u4e0d\u652f\u6301\u91cd\u590d\u7684\u547d\u540d\u53c2\u6570\u3002 \u7bad\u5934\u51fd\u6570\u7684\u7b80\u5355\u7406\u89e3 1\u3001\u7bad\u5934\u51fd\u6570\u7684\u5de6\u8fb9\u8868\u793a\u8f93\u5165\u7684\u53c2\u6570\uff0c\u53f3\u8fb9\u8868\u793a\u8f93\u51fa\u7684\u7ed3\u679c\u3002 const s = a => a console . log ( s ( 2 )) // 2 2\u3001\u5728\u7bad\u5934\u51fd\u6570\u4e2d\uff0cthis\u5c5e\u4e8e\u8bcd\u6cd5\u4f5c\u7528\u57df\uff0c\u76f4\u63a5\u7531\u4e0a\u4e0b\u6587\u786e\u5b9a\uff0c\u5bf9\u4e8e\u666e\u901a\u51fd\u6570\u4e2d\u6307\u5411\u4e0d\u5b9a\u7684this\uff0c\u7bad\u5934\u51fd\u6570\u4e2d\u5904\u7406this\u65e0\u7591\u66f4\u52a0\u7b80\u5355\uff0c\u5982\u4e0b\uff1a //ES5\u666e\u901a\u51fd\u6570 function Man (){ this . age = 22 ; return function () { this . age + 1 ; } } var cala = new Man (); console . log ( cala ()) //undefined //ES6\u7bad\u5934\u51fd\u6570 function Man (){ this . age = 22 ; return () => this . age + 1 ; } var cala = new Man (); console . log ( cala ()) //23 3\u3001\u7bad\u5934\u51fd\u6570\u4e2d\u6ca1\u6709arguments(\u6211\u4eec\u53ef\u4ee5\u7528rest\u53c2\u6570\u66ff\u4ee3),\u4e5f\u6ca1\u6709\u539f\u578b\uff0c\u4e5f\u4e0d\u80fd\u4f7f\u7528new \u5173\u952e\u5b57\uff0c\u4f8b\u5982\uff1a //\u6ca1\u6709arguments var foo = ( a , b )=>{ return arguments [ 0 ] * arguments [ 1 ]} console . log ( foo ( 3 , 5 )) //arguments is not defined //\u6ca1\u6709\u539f\u578b var Obj = () => {}; console . log ( Obj . prototype ); // undefined //\u4e0d\u80fd\u4f7f\u7528 new \u5173\u952e\u5b57 var Obj = () => { \"hello world\" }; var o = new Obj (); // TypeError: Obj is not a constructor 4\u3001\u7bad\u5934\u51fd\u6570\u7ed9\u6570\u7ec4\u6392\u5e8f const arr = [ 10 , 50 , 30 , 40 , 20 ] const s = arr . sort (( a , b ) => a - b ) console . log ( s ) // [10,20,30,40,50] \u5c3e\u8c03\u7528\u4f18\u5316 \u5c3e\u8c03\u7528\u662f\u6307\u5728\u51fd\u6570 return \u7684\u65f6\u5019\u8c03\u7528\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\uff0c\u7531\u4e8e\u5c3e\u8c03\u7528\u7684\u5b9e\u73b0\u9700\u8981\u5b58\u50a8\u5230\u5185\u5b58\u4e2d\uff0c\u5728\u4e00\u4e2a\u5faa\u73af\u4f53\u4e2d\uff0c\u5982\u679c\u5b58\u5728\u51fd\u6570\u7684\u5c3e\u8c03\u7528\uff0c\u4f60\u7684\u5185\u5b58\u53ef\u80fd\u7206\u6ee1\u6216\u6ea2\u51fa\u3002 ES6\u4e2d\uff0c\u5f15\u64ce\u4f1a\u5e2e\u4f60\u505a\u597d\u5c3e\u8c03\u7528\u7684\u4f18\u5316\u5de5\u4f5c\uff0c\u4f60\u4e0d\u9700\u8981\u81ea\u5df1\u4f18\u5316\uff0c\u4f46\u9700\u8981\u6ee1\u8db3\u4e0b\u97623\u4e2a\u8981\u6c42\uff1a 1\u3001\u51fd\u6570\u4e0d\u662f\u95ed\u5305 2\u3001\u5c3e\u8c03\u7528\u662f\u51fd\u6570\u6700\u540e\u4e00\u6761\u8bed\u53e5 3\u3001\u5c3e\u8c03\u7528\u7ed3\u679c\u4f5c\u4e3a\u51fd\u6570\u8fd4\u56de \u5c3e\u8c03\u7528\u5b9e\u9645\u7528\u9014\u2014\u2014\u9012\u5f52\u51fd\u6570\u4f18\u5316 \u5728ES5\u65f6\u4ee3\uff0c\u6211\u4eec\u4e0d\u63a8\u8350\u4f7f\u7528\u9012\u5f52\uff0c\u56e0\u4e3a\u9012\u5f52\u4f1a\u5f71\u54cd\u6027\u80fd\u3002 \u4f46\u662f\u6709\u4e86\u5c3e\u8c03\u7528\u4f18\u5316\u4e4b\u540e\uff0c\u9012\u5f52\u51fd\u6570\u7684\u6027\u80fd\u6709\u4e86\u63d0\u5347\u3002 //\u65b0\u578b\u5c3e\u4f18\u5316\u5199\u6cd5\"use strict\"; function a ( n , p = 1 ) { if ( n <= 1 ) { return 1 * p } let s = n * p return a ( n - 1 , s ) } //\u6c42 1 x 2 x 3\u7684\u9636\u4e58 let sum = a ( 3 ) console . log ( sum ) // 6","title":"\u56db\u3001\u7bad\u5934\u51fd\u6570\uff08=&gt;\uff09"},{"location":"javascript/%E5%B8%B8%E7%94%A8%E5%88%B0%E7%9A%84ES6%E8%AF%AD%E6%B3%95/#_4","text":"Object.assign() Object.assign()\u65b9\u6cd5\u7528\u4e8e\u5c06\u6240\u6709\u53ef\u679a\u4e3e\u5c5e\u6027\u7684\u503c\u4ece\u4e00\u4e2a\u6216\u591a\u4e2a\u6e90\u5bf9\u8c61\u590d\u5236\u5230\u76ee\u6807\u5bf9\u8c61\u3002\u5b83\u5c06\u8fd4\u56de\u76ee\u6807\u5bf9\u8c61\u3002 Object.assign \u65b9\u6cd5\u53ea\u4f1a\u62f7\u8d1d\u6e90\u5bf9\u8c61\u81ea\u8eab\u7684\u5e76\u4e14\u53ef\u679a\u4e3e\u7684\u5c5e\u6027\u5230\u76ee\u6807\u5bf9\u8c61\u3002\u8be5\u65b9\u6cd5\u4f7f\u7528\u6e90\u5bf9\u8c61\u7684[[Get]]\u548c\u76ee\u6807\u5bf9\u8c61\u7684[[Set]]\uff0c\u6240\u4ee5\u5b83\u4f1a\u8c03\u7528\u76f8\u5173 getter \u548c setter\u3002 \u56e0\u6b64\uff0c\u5b83\u5206\u914d\u5c5e\u6027\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u590d\u5236\u6216\u5b9a\u4e49\u65b0\u7684\u5c5e\u6027\u3002\u5982\u679c\u5408\u5e76\u6e90\u5305\u542bgetter\uff0c\u8fd9\u53ef\u80fd\u4f7f\u5176\u4e0d\u9002\u5408\u5c06\u65b0\u5c5e\u6027\u5408\u5e76\u5230\u539f\u578b\u4e2d\u3002\u4e3a\u4e86\u5c06\u5c5e\u6027\u5b9a\u4e49\uff08\u5305\u62ec\u5176\u53ef\u679a\u4e3e\u6027\uff09\u590d\u5236\u5230\u539f\u578b\uff0c\u5e94\u4f7f\u7528Object.getOwnPropertyDescriptor()\u548cObject.defineProperty() \u3002 String\u7c7b\u578b\u548c Symbol \u7c7b\u578b\u7684\u5c5e\u6027\u90fd\u4f1a\u88ab\u62f7\u8d1d\u3002 \u5408\u5e76\u5bf9\u8c61 var o1 = { a : 1 }; var o2 = { b : 2 }; var o3 = { c : 3 }; var obj = Object . assign ( o1 , o2 , o3 ); console . log ( obj ); // { a: 1, b: 2, c: 3 } console . log ( o1 ); // { a: 1, b: 2, c: 3 }, \u6ce8\u610f\u76ee\u6807\u5bf9\u8c61\u81ea\u8eab\u4e5f\u4f1a\u6539\u53d8\u3002 \u5408\u5e76\u5177\u6709\u76f8\u540c\u5c5e\u6027\u7684\u5bf9\u8c61 var o1 = { a : 1 , b : 1 , c : 1 }; var o2 = { b : 2 , c : 2 }; var o3 = { c : 3 }; var obj = Object . assign ({}, o1 , o2 , o3 ); console . log ( obj ); // { a: 1, b: 2, c: 3 }","title":"\u4e94\u3001\u5bf9\u8c61\u65b0\u589e\u65b9\u6cd5"},{"location":"javascript/%E5%B8%B8%E7%94%A8%E5%88%B0%E7%9A%84ES6%E8%AF%AD%E6%B3%95/#mapset","text":"Map\u548cSet\u90fd\u53eb\u505a\u96c6\u5408\uff0c\u4f46\u662f\u4ed6\u4eec\u4e5f\u6709\u6240\u4e0d\u540c\u3002Set\u5e38\u88ab\u7528\u6765\u68c0\u67e5\u5bf9\u8c61\u4e2d\u662f\u5426\u5b58\u5728\u67d0\u4e2a\u952e\u540d\uff0cMap\u96c6\u5408\u5e38\u88ab\u7528\u6765\u83b7\u53d6\u5df2\u5b58\u7684\u4fe1\u606f\u3002 Set\u662f\u6709\u5e8f\u5217\u8868\uff0c\u542b\u6709\u76f8\u4e92\u72ec\u7acb\u7684\u975e\u91cd\u590d\u503c\u3002 Array\u548cSet\u5bf9\u6bd4 \u90fd\u662f\u4e00\u4e2a\u5b58\u50a8\u591a\u503c\u7684\u5bb9\u5668\uff0c\u4e24\u8005\u53ef\u4ee5\u4e92\u76f8\u8f6c\u6362\uff0c\u4f46\u662f\u5728\u4f7f\u7528\u573a\u666f\u4e0a\u6709\u533a\u522b\u3002\u5982\u4e0b: Array\u7684indexOf\u65b9\u6cd5\u6bd4Set\u7684has\u65b9\u6cd5\u6548\u7387\u4f4e\u4e0b Set\u4e0d\u542b\u6709\u91cd\u590d\u503c\uff08\u53ef\u4ee5\u5229\u7528\u8fd9\u4e2a\u7279\u6027\u5b9e\u73b0\u5bf9\u4e00\u4e2a\u6570\u7ec4\u7684\u53bb\u91cd\uff09 Set\u901a\u8fc7delete\u65b9\u6cd5\u5220\u9664\u67d0\u4e2a\u503c\uff0c\u800cArray\u53ea\u80fd\u901a\u8fc7splice\u3002\u4e24\u8005\u7684\u4f7f\u7528\u65b9\u4fbf\u7a0b\u5ea6\u524d\u8005\u66f4\u4f18 Array\u7684\u5f88\u591a\u65b0\u65b9\u6cd5map\u3001filter\u3001some\u3001every\u7b49\u662fSet\u6ca1\u6709\u7684\uff08\u4f46\u662f\u901a\u8fc7\u4e24\u8005\u53ef\u4ee5\u4e92\u76f8\u8f6c\u6362\u6765\u4f7f\u7528\uff09 Object\u548cMap\u5bf9\u6bd4 Object\u662f\u5b57\u7b26\u4e32-\u503c\uff0cMap\u662f\u503c-\u503c Object\u952e\u4e3astring\u7c7b\u578b,Map\u7684\u952e\u662f\u4efb\u610f\u7c7b\u578b \u624b\u52a8\u8ba1\u7b97Object\u5c3a\u5bf8,Map.size\u53ef\u4ee5\u83b7\u53d6\u5c3a\u5bf8 Map\u7684\u6392\u5e8f\u662f\u63d2\u5165\u987a\u5e8f Object\u6709\u539f\u578b\uff0c\u6240\u4ee5\u6620\u5c04\u4e2d\u6709\u4e00\u4e9b\u7f3a\u7701\u7684\u952e\u3002\u53ef\u4ee5\u7406\u89e3\u4e3aMap=Object.create(null) Set\u64cd\u4f5c\u96c6\u5408 let set = new Set () // Set\u8f6c\u5316\u4e3a\u6570\u7ec4 let arr = Array . from ( set ) let arr = [... set ] // \u5b9e\u4f8b\u5c5e\u6027\uff08\u7ee7\u627f\u81eaSet\uff09 set . constructor === Set set . size // \u64cd\u4f5c\u65b9\u6cd5 set . add ( 1 ) // \u6dfb\u52a0\u4e00\u4e2a\u503c set . delete ( 1 ) //\u5220\u9664\u4e00\u4e2a\u503c set . has ( 1 ) //\u5224\u65ad\u662f\u5426\u6709\u8fd9\u4e2a\u503c\uff08Array\u4e2d\u7684indexOf\uff09 set . clear () //\u6e05\u9664\u6240\u6709\u503c // \u83b7\u53d6\u7528\u4e8e\u904d\u5386\u7684\u6210\u5458\u65b9\u6cd5(Set\u7684\u904d\u5386\u987a\u5e8f\u5c31\u662f\u63d2\u5165\u987a\u5e8f) set . keys () // \u8fd4\u56de\u952e\u540d\u7684\u904d\u5386\u5668 set . values () // \u8fd4\u56de\u952e\u503c\u5f97\u904d\u5386\u5668 set . entries () // \u8fd4\u56de\u952e\u503c\u5bf9\u7684\u904d\u5386\u5668 set . forEach () // \u5faa\u73af\u904d\u5386\u6bcf\u4e2a\u503c(\u548cArray\u7684\u65b9\u6cd5\u4e00\u81f4) for ( let key of set . keys ()){} for ( let val of set . values ()){} for ( let entry of set . entries ()){} // \u4f7f\u7528\u6570\u7ec4\u65b9\u6cd5\u6765\u5904\u7406set\u503c set = new Set ( arr ) set = new Set ([... set ]. map (( x ) => x = x * 2 )) set = new Set ([... set ]. filter (( x ) => x > 2 )) Map\u7684\u65b9\u6cd5\u96c6\u5408 let map = new Map () // \u5b9e\u4f8b\u5c5e\u6027(\u7ee7\u627f\u81eaMap) map . constructor === Map map . size // \u64cd\u4f5c\u65b9\u6cd5 map . set ( 1 , 2 ) map . get ( 1 ) map . delete ( 1 ) map . has ( 1 ) map . clear () // \u904d\u5386\u65b9\u6cd5 map . keys () map . values () map . entries () map . forEach () // Map\u548c\u6570\u7ec4\u7684\u8f6c\u6362 map = new Map ([[ 'key' , 'val' ],[ 2 , 1 ]]) // \u8981\u6c42\u53cc\u6210\u5458\u6570\u7ec4 let arr = [... map ] // \u503c\u5f97\u6ce8\u610f\u7684\u662fMap\u7684\u952e\u662f\u8ddf\u5185\u5b58\u7ed1\u5b9a\u7684 map . set ([ 1 ], 's' ) map . get ([ 1 ]) let arr = [ 1 ] let arr1 = [ 1 ] map . set ( arr , 's' ) map . get ( arr ) map . set ( arr1 , 's' ) map . get ( arr1 )","title":"\u516d\u3001Map\u548cSet"},{"location":"javascript/%E5%B8%B8%E7%94%A8%E5%88%B0%E7%9A%84ES6%E8%AF%AD%E6%B3%95/#iterator","text":"1\u3001entries() \u8fd4\u56de\u8fed\u4ee3\u5668\uff1a\u8fd4\u56de\u952e\u503c\u5bf9 //\u6570\u7ec4 const arr = [ 'a' , 'b' , 'c' ]; for ( let v of arr . entries ()) { console . log ( v )} // [0, 'a'] [1, 'b'] [2, 'c'] //Set const arr = new Set ([ 'a' , 'b' , 'c' ]); for ( let v of arr . entries ()) { console . log ( v )} // ['a', 'a'] ['b', 'b'] ['c', 'c'] //Map const arr = new Map (); arr . set ( 'a' , 'a' ); arr . set ( 'b' , 'b' ); for ( let v of arr . entries ()) { console . log ( v )} // ['a', 'a'] ['b', 'b'] 2\u3001values() \u8fd4\u56de\u8fed\u4ee3\u5668\uff1a\u8fd4\u56de\u952e\u503c\u5bf9\u7684value //\u6570\u7ec4 const arr = [ 'a' , 'b' , 'c' ]; for ( let v of arr . values ()) { console . log ( v )} //'a' 'b' 'c' //Set const arr = new Set ([ 'a' , 'b' , 'c' ]); for ( let v of arr . values ()) { console . log ( v )} // 'a' 'b' 'c' //Map const arr = new Map (); arr . set ( 'a' , 'a' ); arr . set ( 'b' , 'b' ); for ( let v of arr . values ()) { console . log ( v )} // 'a' 'b' 3\u3001keys() \u8fd4\u56de\u8fed\u4ee3\u5668\uff1a\u8fd4\u56de\u952e\u503c\u5bf9\u7684key //\u6570\u7ec4 const arr = [ 'a' , 'b' , 'c' ]; for ( let v of arr . keys ()) { console . log ( v )} // 0 1 2 //Set const arr = new Set ([ 'a' , 'b' , 'c' ]); for ( let v of arr . keys ()) { console . log ( v )} // 'a' 'b' 'c' //Map const arr = new Map (); arr . set ( 'a' , 'a' ); arr . set ( 'b' , 'b' ); for ( let v of arr . keys ()) { console . log ( v )} // 'a' 'b' \u867d\u7136\u4e0a\u9762\u5217\u4e3e\u4e863\u79cd\u5185\u5efa\u7684\u8fed\u4ee3\u5668\u65b9\u6cd5\uff0c\u4f46\u662f\u4e0d\u540c\u96c6\u5408\u7684\u7c7b\u578b\u8fd8\u6709\u81ea\u5df1\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668\uff0c\u5728for of\u4e2d\uff0c\u6570\u7ec4\u548cSet\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\u662fvalues()\uff0cMap\u7684\u9ed8\u8ba4\u8fed\u4ee3\u5668\u662fentries()\u3002 for of\u5faa\u73af\u89e3\u6784 \u5bf9\u8c61\u672c\u8eab\u4e0d\u652f\u6301\u8fed\u4ee3\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u81ea\u5df1\u6dfb\u52a0\u4e00\u4e2a\u751f\u6210\u5668\uff0c\u8fd4\u56de\u4e00\u4e2akey\uff0cvalue\u7684\u8fed\u4ee3\u5668\uff0c\u7136\u540e\u4f7f\u7528for of\u5faa\u73af\u89e3\u6784key\u548cvalue\u3002 const obj = { a : 1 , b : 2 , * [ Symbol . iterator ]() { for ( let i in obj ) { yield [ i , obj [ i ]] } } }; for ( let [ key , value ] of obj ){ console . log ( key , value ) } // 'a' 1, 'b' 2 \u5b57\u7b26\u4e32\u8fed\u4ee3\u5668 const str = 'abc' ; for ( let v of str ) { console . log ( v ) } // 'a' 'b' 'c'","title":"\u4e03\u3001\u8fed\u4ee3\u5668\uff08Iterator\uff09"},{"location":"javascript/%E5%B8%B8%E7%94%A8%E5%88%B0%E7%9A%84ES6%E8%AF%AD%E6%B3%95/#_5","text":"ES6\u7ed9\u6570\u7ec4\u6dfb\u52a0\u4e86\u51e0\u4e2a\u65b0\u65b9\u6cd5\uff1afind()\u3001findIndex()\u3001fill()\u3001copyWithin() 1\u3001find()\uff1a\u4f20\u5165\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u627e\u5230\u6570\u7ec4\u4e2d\u7b26\u5408\u5f53\u524d\u641c\u7d22\u89c4\u5219\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u8fd4\u56de\u5b83\uff0c\u5e76\u4e14\u7ec8\u6b62\u641c\u7d22\u3002 const arr = [ 1 , \"2\" , 3 , 3 , \"2\" ] console . log ( arr . find ( n => typeof n === \"number\" )); // 1 2\u3001findIndex()\uff1a\u4f20\u5165\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u627e\u5230\u6570\u7ec4\u4e2d\u7b26\u5408\u5f53\u524d\u641c\u7d22\u89c4\u5219\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u8fd4\u56de\u5b83\u7684\u4e0b\u6807\uff0c\u7ec8\u6b62\u641c\u7d22\u3002 const arr = [ 1 , \"2\" , 3 , 3 , \"2\" ] console . log ( arr . findIndex ( n => typeof n === \"number\" )) // 0 3\u3001fill()\uff1a\u7528\u65b0\u5143\u7d20\u66ff\u6362\u6389\u6570\u7ec4\u5185\u7684\u5143\u7d20\uff0c\u53ef\u4ee5\u6307\u5b9a\u66ff\u6362\u4e0b\u6807\u8303\u56f4\u3002 arr . fill ( value , start , end ); 4\u3001copyWithin()\uff1a\u9009\u62e9\u6570\u7ec4\u7684\u67d0\u4e2a\u4e0b\u6807\uff0c\u4ece\u8be5\u4f4d\u7f6e\u5f00\u59cb\u590d\u5236\u6570\u7ec4\u5143\u7d20\uff0c\u9ed8\u8ba4\u4ece0\u5f00\u59cb\u590d\u5236\u3002\u4e5f\u53ef\u4ee5\u6307\u5b9a\u8981\u590d\u5236\u7684\u5143\u7d20\u8303\u56f4\u3002 arr . copyWithin ( target , start , end ) const arr = [ 1 , 2 , 3 , 4 , 5 ] console . log ( arr . copyWithin ( 3 )) // [1,2,3,1,2] \u4ece\u4e0b\u6807\u4e3a3\u7684\u5143\u7d20\u5f00\u59cb\uff0c\u590d\u5236\u6570\u7ec4\uff0c\u6240\u4ee54, 5\u88ab\u66ff\u6362\u62101, 2 const arr1 = [ 1 , 2 , 3 , 4 , 5 ] console . log ( arr1 . copyWithin ( 3 , 1 )) // [1,2,3,2,3] \u4ece\u4e0b\u6807\u4e3a3\u7684\u5143\u7d20\u5f00\u59cb\uff0c\u590d\u5236\u6570\u7ec4\uff0c\u6307\u5b9a\u590d\u5236\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u4e0b\u6807\u4e3a1\uff0c\u6240\u4ee54, 5\u88ab\u66ff\u6362\u62102, 3 const arr2 = [ 1 , 2 , 3 , 4 , 5 ] console . log ( arr2 . copyWithin ( 3 , 1 , 2 )) // [1,2,3,2,5] \u4ece\u4e0b\u6807\u4e3a3\u7684\u5143\u7d20\u5f00\u59cb\uff0c\u590d\u5236\u6570\u7ec4\uff0c\u6307\u5b9a\u590d\u5236\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u4e0b\u6807\u4e3a1\uff0c\u7ed3\u675f\u4f4d\u7f6e\u4e3a2\uff0c\u6240\u4ee54\u88ab\u66ff\u6362\u62102 ES6\u4e2d\u7c7bclass\u3001Promise\u4e0e\u5f02\u6b65\u7f16\u7a0b\u3001\u4ee3\u7406\uff08Proxy\uff09\u548c\u53cd\u5c04\uff08Reflection\uff09API\uff0c\u8fd9\u51e0\u5757\u5185\u5bb9\u6bd4\u8f83\u590d\u6742\uff0c\u4ee5\u540e\u6709\u673a\u4f1a\u518d\u8be6\u7ec6\u5199\u3002","title":"\u516b\u3001\u6570\u7ec4\u65b0\u65b9\u6cd5"},{"location":"python/ERROR%20No%20matching%20distribution%20found%20for%20Django%3D%3D3.0.2%20%28from%20-r%20requirements.txt%20%28line%204%29%29/","text":"ERROR: No matching distribution found for Django \u62a5\u9519\u89e3\u51b3 \u00b6 \u4eca\u5929\u5b89\u88c5\u4e00\u4e2a python \u4f9d\u8d56\u65f6\uff0c\u6267\u884c pip install -r requirements.txt \u540e\uff0c\u754c\u9762\u51fa\u73b0 ERROR: No matching distribution found for Django === 3.0.2\" \u8fd9\u4e2a\u62a5\u9519\u3002\u6211\u7684\u4f9d\u8d56\u5982\u4e0b\uff1a Django==3.0.2 django-appconf==1.0.3 django-statici18n==1.9.0 django-webpack-loader==0.6.0 djangorestframework==3.11.0 PyMySQL==0.9.3 \u67e5\u627e\u8d44\u6599\u540e\uff0c\u53d1\u73b0\u53ef\u80fd\u662f\u5982\u4e0b\u95ee\u9898 \u95ee\u98981 pip \u7248\u672c\u592a\u8001 \u00b6 \u6267\u884c easy_install *--upgrade pip* easy_install *--upgrade pip* pip --version # pip 20.2.3 from /Library/Python/2.7/site-packages/pip (python 2.7) \u6211\u7684 pip \u5df2\u7ecf\u66f4\u65b0\uff0c\u6267\u884c pip install \u8fd8\u662f\u539f\u6765\u7684\u9519\u8bef \u95ee\u98982 python\u7248\u672c\u4e0d\u5bf9\u5e94 \u00b6 \u6211\u8fd9\u91cc\u9700\u8981\u5b89\u88c5 3.0.2 \u7684 Django\uff0c\u9ed8\u8ba4\u7535\u8111\u7684python\u7248\u672c\u662f 2.7\u3002\u6211\u521b\u5efa\u7684\u865a\u62df\u73af\u5883\u662f 2.7 \u7684\u7248\u672c\uff0c\u6240\u4ee5\u65e0\u6cd5\u5b89\u88c5\u3002 stackoverflow \u4e0a\u7684\u89e3\u91ca\u662f\uff1a You don't need to update pip to find new packages. It looks them up on PyPI. Ubuntu 16.04's python3 package is for version 3.5., which is supported by Django 2.2 . Either upgrade your Python (I recommend using something like pyenv or pythonz to easily decouple your Python version from your operating system) or use Django 2.2. django 3.0.2 \u9700\u8981 python3 \u7684\u73af\u5883\uff0c\u6211\u672c\u5730\u9ed8\u8ba4\u662f python2 \u7684\u865a\u62df\u73af\u5883\uff0c\u6240\u4ee5\u65e0\u6cd5\u5b89\u88c5\u3002 \u89e3\u51b3\u65b9\u6848\u662f\uff1a\u65b0\u5efa\u4e00\u4e2apython3\u7684\u865a\u62df\u73af\u5883\uff08\u5177\u4f53\u53c2\u8003\u53e6\u4e00\u7bc7\u535a\u5ba2\uff09 \u7136\u540e\u53ef\u4ee5\u987a\u5229\u5b89\u88c5\uff1a \u4e0b\u9762\u63d2\u5165\u56fe\u7247\uff1a \u53c2\u8003\u7f51\u5740 \u00b6 https://stackoverflow.com/questions/60027430/no-matching-distribution-found-for-django-3-0-on-ubuntu-16-04 https://blog.csdn.net/w417950004/article/details/74171327","title":"ERROR No matching distribution found for Django==3.0.2 (from -r requirements.txt (line 4)).md"},{"location":"python/ERROR%20No%20matching%20distribution%20found%20for%20Django%3D%3D3.0.2%20%28from%20-r%20requirements.txt%20%28line%204%29%29/#error-no-matching-distribution-found-for-django","text":"\u4eca\u5929\u5b89\u88c5\u4e00\u4e2a python \u4f9d\u8d56\u65f6\uff0c\u6267\u884c pip install -r requirements.txt \u540e\uff0c\u754c\u9762\u51fa\u73b0 ERROR: No matching distribution found for Django === 3.0.2\" \u8fd9\u4e2a\u62a5\u9519\u3002\u6211\u7684\u4f9d\u8d56\u5982\u4e0b\uff1a Django==3.0.2 django-appconf==1.0.3 django-statici18n==1.9.0 django-webpack-loader==0.6.0 djangorestframework==3.11.0 PyMySQL==0.9.3 \u67e5\u627e\u8d44\u6599\u540e\uff0c\u53d1\u73b0\u53ef\u80fd\u662f\u5982\u4e0b\u95ee\u9898","title":"ERROR: No matching distribution found for Django \u62a5\u9519\u89e3\u51b3"},{"location":"python/ERROR%20No%20matching%20distribution%20found%20for%20Django%3D%3D3.0.2%20%28from%20-r%20requirements.txt%20%28line%204%29%29/#1-pip","text":"\u6267\u884c easy_install *--upgrade pip* easy_install *--upgrade pip* pip --version # pip 20.2.3 from /Library/Python/2.7/site-packages/pip (python 2.7) \u6211\u7684 pip \u5df2\u7ecf\u66f4\u65b0\uff0c\u6267\u884c pip install \u8fd8\u662f\u539f\u6765\u7684\u9519\u8bef","title":"\u95ee\u98981 pip \u7248\u672c\u592a\u8001"},{"location":"python/ERROR%20No%20matching%20distribution%20found%20for%20Django%3D%3D3.0.2%20%28from%20-r%20requirements.txt%20%28line%204%29%29/#2-python","text":"\u6211\u8fd9\u91cc\u9700\u8981\u5b89\u88c5 3.0.2 \u7684 Django\uff0c\u9ed8\u8ba4\u7535\u8111\u7684python\u7248\u672c\u662f 2.7\u3002\u6211\u521b\u5efa\u7684\u865a\u62df\u73af\u5883\u662f 2.7 \u7684\u7248\u672c\uff0c\u6240\u4ee5\u65e0\u6cd5\u5b89\u88c5\u3002 stackoverflow \u4e0a\u7684\u89e3\u91ca\u662f\uff1a You don't need to update pip to find new packages. It looks them up on PyPI. Ubuntu 16.04's python3 package is for version 3.5., which is supported by Django 2.2 . Either upgrade your Python (I recommend using something like pyenv or pythonz to easily decouple your Python version from your operating system) or use Django 2.2. django 3.0.2 \u9700\u8981 python3 \u7684\u73af\u5883\uff0c\u6211\u672c\u5730\u9ed8\u8ba4\u662f python2 \u7684\u865a\u62df\u73af\u5883\uff0c\u6240\u4ee5\u65e0\u6cd5\u5b89\u88c5\u3002 \u89e3\u51b3\u65b9\u6848\u662f\uff1a\u65b0\u5efa\u4e00\u4e2apython3\u7684\u865a\u62df\u73af\u5883\uff08\u5177\u4f53\u53c2\u8003\u53e6\u4e00\u7bc7\u535a\u5ba2\uff09 \u7136\u540e\u53ef\u4ee5\u987a\u5229\u5b89\u88c5\uff1a \u4e0b\u9762\u63d2\u5165\u56fe\u7247\uff1a","title":"\u95ee\u98982 python\u7248\u672c\u4e0d\u5bf9\u5e94"},{"location":"python/ERROR%20No%20matching%20distribution%20found%20for%20Django%3D%3D3.0.2%20%28from%20-r%20requirements.txt%20%28line%204%29%29/#_1","text":"https://stackoverflow.com/questions/60027430/no-matching-distribution-found-for-django-3-0-on-ubuntu-16-04 https://blog.csdn.net/w417950004/article/details/74171327","title":"\u53c2\u8003\u7f51\u5740"},{"location":"python/django-basic/","text":"django\u5165\u95e8\u57fa\u7840\u6559\u7a0b \u00b6 https://www.jianshu.com/p/faeee7d5ad3b Django\u662f\u4e00\u4e2a\u5f00\u653e\u6e90\u4ee3\u7801\u7684Web\u5e94\u7528\u6846\u67b6\uff0c\u7531Python\u5199\u6210\u3002\u91c7\u7528\u4e86MVT\u7684\u6846\u67b6\u6a21\u5f0f\uff0c\u5373\u6a21\u578bM\uff0c\u89c6\u56feV\u548c\u6a21\u7248T\u3002\u5b83\u6700\u521d\u662f\u88ab\u5f00\u53d1\u6765\u7528\u4e8e\u7ba1\u7406\u52b3\u4f26\u65af\u51fa\u7248\u96c6\u56e2\u65d7\u4e0b\u7684\u4e00\u4e9b\u4ee5\u65b0\u95fb\u5185\u5bb9\u4e3a\u4e3b\u7684\u7f51\u7ad9\u7684\uff0c\u5373\u662fCMS\uff08\u5185\u5bb9\u7ba1\u7406\u7cfb\u7edf\uff09\u8f6f\u4ef6\u3002\u5e76\u4e8e2005\u5e747\u6708\u5728BSD\u8bb8\u53ef\u8bc1\u4e0b\u53d1\u5e03\u3002\u8fd9\u5957\u6846\u67b6\u662f\u4ee5\u6bd4\u5229\u65f6\u7684\u5409\u666e\u8d5b\u7235\u58eb\u5409\u4ed6\u624bDjango Reinhardt\u6765\u547d\u540d\u7684\u3002 \u8fd9\u4e2a\u6587\u7ae0\u90e8\u5206\u4ee3\u7801\u548c\u5efa\u7ad9\u51b2\u7a81\uff0c\u6240\u4ee5\u5185\u5bb9\u6682\u7f3a","title":"django-basic.md"},{"location":"python/django-basic/#django","text":"https://www.jianshu.com/p/faeee7d5ad3b Django\u662f\u4e00\u4e2a\u5f00\u653e\u6e90\u4ee3\u7801\u7684Web\u5e94\u7528\u6846\u67b6\uff0c\u7531Python\u5199\u6210\u3002\u91c7\u7528\u4e86MVT\u7684\u6846\u67b6\u6a21\u5f0f\uff0c\u5373\u6a21\u578bM\uff0c\u89c6\u56feV\u548c\u6a21\u7248T\u3002\u5b83\u6700\u521d\u662f\u88ab\u5f00\u53d1\u6765\u7528\u4e8e\u7ba1\u7406\u52b3\u4f26\u65af\u51fa\u7248\u96c6\u56e2\u65d7\u4e0b\u7684\u4e00\u4e9b\u4ee5\u65b0\u95fb\u5185\u5bb9\u4e3a\u4e3b\u7684\u7f51\u7ad9\u7684\uff0c\u5373\u662fCMS\uff08\u5185\u5bb9\u7ba1\u7406\u7cfb\u7edf\uff09\u8f6f\u4ef6\u3002\u5e76\u4e8e2005\u5e747\u6708\u5728BSD\u8bb8\u53ef\u8bc1\u4e0b\u53d1\u5e03\u3002\u8fd9\u5957\u6846\u67b6\u662f\u4ee5\u6bd4\u5229\u65f6\u7684\u5409\u666e\u8d5b\u7235\u58eb\u5409\u4ed6\u624bDjango Reinhardt\u6765\u547d\u540d\u7684\u3002 \u8fd9\u4e2a\u6587\u7ae0\u90e8\u5206\u4ee3\u7801\u548c\u5efa\u7ad9\u51b2\u7a81\uff0c\u6240\u4ee5\u5185\u5bb9\u6682\u7f3a","title":"django\u5165\u95e8\u57fa\u7840\u6559\u7a0b"},{"location":"python/django/","text":"Django \u00b6 1 Django \u4ecb\u7ecd \u00b6 \u53c2\u8003\u7f51\u7ad9\uff1a http://www.runoob.com/django/django-install.html \u9700\u8981\u57fa\u672c\u7684Python\u77e5\u8bc6\u3002Django\u662f\u4e00\u4e2apython\u6846\u67b6\u3002Django\u91c7\u7528\u4e86MVC\u7684\u8f6f\u4ef6\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5373\u6a21\u578bM\uff0c\u89c6\u56feV\u548c\u63a7\u5236\u5668C\u3002\u4e0d\u540c\u7684python\u7248\u672c\u5bf9\u5e94\u7684\u4e0d\u540c\u7684Django\uff0c\u76ee\u524d\u7535\u8111\u4e0a\u5b89\u88c5\u7684\u662fpython2.7.10\u7684\u7248\u672c\uff0c\u6240\u4ee5\u5b89\u88c5\u7684Django\u9700\u8981\u5339\u914d\u3002","title":"django.md"},{"location":"python/django/#django","text":"","title":"Django"},{"location":"python/django/#1-django","text":"\u53c2\u8003\u7f51\u7ad9\uff1a http://www.runoob.com/django/django-install.html \u9700\u8981\u57fa\u672c\u7684Python\u77e5\u8bc6\u3002Django\u662f\u4e00\u4e2apython\u6846\u67b6\u3002Django\u91c7\u7528\u4e86MVC\u7684\u8f6f\u4ef6\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5373\u6a21\u578bM\uff0c\u89c6\u56feV\u548c\u63a7\u5236\u5668C\u3002\u4e0d\u540c\u7684python\u7248\u672c\u5bf9\u5e94\u7684\u4e0d\u540c\u7684Django\uff0c\u76ee\u524d\u7535\u8111\u4e0a\u5b89\u88c5\u7684\u662fpython2.7.10\u7684\u7248\u672c\uff0c\u6240\u4ee5\u5b89\u88c5\u7684Django\u9700\u8981\u5339\u914d\u3002","title":"1 Django \u4ecb\u7ecd"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/","text":"Flask \u4ecb\u7ecd \u00b6 \u4ecb\u7ecd \u00b6 Flask \u4f9d\u8d56\u4e24\u4e2a\u5916\u90e8\u5e93\uff1a Werkzeug \u548c Jinja2 \u3002 Werkzeug \u662f\u4e00\u4e2a WSGI\uff08\u5728 Web \u5e94\u7528\u548c\u591a\u79cd\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u6807\u51c6 Python \u63a5\u53e3) \u5de5\u5177\u96c6\u3002Jinja2 \u8d1f\u8d23\u6e32\u67d3\u6a21\u677f\u3002\u4f60\u9996\u5148\u9700\u8981 Python 2.6 \u6216\u66f4\u9ad8\u7684\u7248\u672c\uff0c\u6240\u4ee5\u8bf7\u786e\u8ba4\u6709\u4e00\u4e2a\u6700\u65b0\u7684 Python 2.x \u5b89\u88c5\u3002 \u5728 Python 3 \u4e2d\u4f7f\u7528 Flask \u8bf7\u53c2\u8003\uff1a Python 3 \u652f\u6301 \u3002 \u5b89\u88c5\u65b9\u6cd5\u4e00\uff1avirtualenv(\u865a\u62df\u73af\u5883\u5b89\u88c5) \u00b6 \u4f60\u5f88\u53ef\u80fd\u60f3\u5728\u5f00\u53d1\u4e2d\u7528\u4e0a virtualenv\uff0c\u5982\u679c\u4f60\u6709\u751f\u4ea7\u73af\u5883\u7684 shell \u6743\u9650\uff0c\u4f60\u540c\u6837\u4f1a\u4e50\u4e8e\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u5b83\u3002 virtualenv \u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898\uff1f\u5982\u679c\u4f60\u50cf\u6211\u4e00\u6837\u559c\u6b22 Python\uff0c\u4e0d\u4ec5\u4f1a\u5728\u91c7\u7528 Flask \u7684Web \u5e94\u7528\u4e2d\u7528\u4e0a virtualenv\uff0c\u5728\u522b\u7684\u9879\u76ee\u4e2d\u4f60\u4e5f\u4f1a\u60f3\u7528\u4e0a\u5b83\u3002\u4f60\u62e5\u6709\u7684\u9879\u76ee\u8d8a\u591a\uff0c\u540c\u65f6\u4f7f\u7528\u4e0d\u540c\u7248\u672c\u7684 Python \u5de5\u4f5c\u7684\u53ef\u80fd\u6027\u4e5f\u5c31\u8d8a\u5927\uff0c\u6216\u8005\u8d77\u7801\u9700\u8981\u4e0d\u540c\u7248\u672c\u7684 Python \u5e93\u3002\u60b2\u60e8\u73b0\u5b9e\u662f\uff1a\u5e38\u5e38\u4f1a\u6709\u5e93\u7834\u574f\u5411\u540e\u517c\u5bb9\u6027\uff0c\u7136\u800c\u6b63\u7ecf\u5e94\u7528\u4e0d\u91c7\u7528\u5916\u90e8\u5e93\u7684\u53ef\u80fd\u5fae\u4e4e\u5176\u5fae\u3002\u5f53\u5728\u4f60\u7684\u9879\u76ee\u4e2d\uff0c\u51fa\u73b0\u4e24\u4e2a\u6216\u66f4\u591a\u4f9d\u8d56\u6027\u51b2\u7a81\u65f6\uff0c\u4f60\u4f1a\u600e\u4e48\u505a\uff1f virtualenv \u62ef\u6551\u4e16\u754c\uff01virtualenv \u4e3a\u6bcf\u4e2a\u4e0d\u540c\u9879\u76ee\u63d0\u4f9b\u4e00\u4efd Python \u5b89\u88c5\u3002\u5b83\u5e76\u6ca1\u6709\u771f\u6b63\u5b89\u88c5\u591a\u4e2a Python \u526f\u672c\uff0c\u4f46\u662f\u5b83\u786e\u5b9e\u63d0\u4f9b\u4e86\u4e00\u79cd\u5de7\u5999\u7684\u65b9\u5f0f\u6765\u8ba9\u5404\u9879\u76ee\u73af\u5883\u4fdd\u6301\u72ec\u7acb\u3002\u8ba9\u6211\u4eec\u6765\u770b\u770b virtualenv \u662f\u600e\u4e48\u5de5\u4f5c\u7684\u3002 \u5982\u679c\u4f60\u5728 Mac OS X \u6216 Linux \u4e0b\uff0c\u4e0b\u9762\u4e24\u6761\u547d\u4ee4\u53ef\u80fd\u4f1a\u9002\u7528: $ sudo easy_install virtualenv $ sudo pip install virtualenv \u4e0a\u8ff0\u7684\u547d\u4ee4\u4f1a\u5728\u4f60\u7684\u7cfb\u7edf\u4e2d\u5b89\u88c5 virtualenv\u3002\u5b83\u751a\u81f3\u53ef\u80fd\u4f1a\u5b58\u5728\u4e8e\u5305\u7ba1\u7406\u5668\u4e2d\u3002 virtualenv \u5b89\u88c5\u5b8c\u6bd5\u540e\uff0c\u4f60\u53ef\u4ee5\u7acb\u5373\u6253\u5f00 shell \u7136\u540e\u521b\u5efa\u4f60\u81ea\u5df1\u7684\u73af\u5883\u3002\u6211\u901a\u5e38\u521b\u5efa\u4e00\u4e2a\u9879\u76ee\u6587\u4ef6\u5939\uff0c\u5e76\u5728\u5176\u4e0b\u521b\u5efa\u4e00\u4e2a venv \u6587\u4ef6\u5939 $ mkdir myproject $ cd myproject $ virtualenv venv New python executable in venv/bin/python Installing distribute............done. \u73b0\u5728\uff0c\u65e0\u8bba\u4f55\u65f6\u4f60\u60f3\u5728\u67d0\u4e2a\u9879\u76ee\u4e0a\u5de5\u4f5c\uff0c\u53ea\u9700\u8981\u6fc0\u6d3b\u76f8\u5e94\u7684\u73af\u5883\u3002\u5728 OS X \u548c Linux \u4e0a\uff0c\u6267\u884c\u5982\u4e0b\u64cd\u4f5c: $ . venv/bin/activate \u65e0\u8bba\u901a\u8fc7\u54ea\u79cd\u65b9\u5f0f\uff0c\u4f60\u73b0\u5728\u5e94\u8be5\u5df2\u7ecf\u6fc0\u6d3b\u4e86 virtualenv\uff08\u6ce8\u610f\u4f60\u7684 shell \u63d0\u793a\u7b26\u663e\u793a\u7684\u662f\u5f53\u524d\u6d3b\u52a8\u7684\u73af\u5883\uff09\u3002 \u73b0\u5728\u4f60\u53ea\u9700\u8981\u952e\u5165\u4ee5\u4e0b\u7684\u547d\u4ee4\u6765\u6fc0\u6d3b virtualenv \u4e2d\u7684 Flask: $ pip install Flask \u51e0\u79d2\u949f\u540e\uff0c\u4e00\u5207\u90fd\u641e\u5b9a\u4e86\u3002 \u5b89\u88c5\u65b9\u6cd5\u4e8c\uff1a\u5168\u5c40\u5b89\u88c5 \u00b6 \u8fd9\u6837\u4e5f\u662f\u53ef\u4ee5\u7684\uff0c\u867d\u7136\u6211\u4e0d\u63a8\u8350\u3002\u53ea\u9700\u8981\u4ee5 root \u6743\u9650\u8fd0\u884c pip\u3002\u73b0\u5728\u4ee5\u8fd9\u79cd\u6a21\u5f0f\u5b89\u88c5 flask\u3002 $ sudo pip install Flask \u57fa\u672c\u4f7f\u7528 \u00b6 \u4e00\u4e2a\u6700\u5c0f\u7684 Flask \u5e94\u7528\u770b\u8d77\u6765\u4f1a\u662f\u8fd9\u6837: from flask import Flask app = Flask ( __name__ ) @app . route ( '/' ) def hello_world (): return 'Hello World!' if __name__ == '__main__' : app . run () \u628a\u5b83\u4fdd\u5b58\u4e3a hello.py \uff08\u6216\u662f\u7c7b\u4f3c\u7684\uff09\uff0c\u7136\u540e\u7528 Python \u89e3\u91ca\u5668\u6765\u8fd0\u884c\u3002 \u786e\u4fdd\u4f60\u7684\u5e94\u7528\u6587\u4ef6\u540d\u4e0d\u662f flask.py \uff0c\u56e0\u4e3a\u8fd9\u5c06\u4e0e Flask \u672c\u8eab\u51b2\u7a81\u3002 python hello.py * Running on http://127.0.0.1:5000/ \u73b0\u5728\u8bbf\u95ee http://127.0.0.1:5000/ \uff0c\u4f60\u4f1a\u770b\u89c1 Hello World \u95ee\u5019\u3002\u6b32\u5173\u95ed\u670d\u52a1\u5668\uff0c\u6309 Ctrl+C\u3002 \u90a3\u4e48\uff0c\u8fd9\u6bb5\u4ee3\u7801\u505a\u4e86\u4ec0\u4e48\uff1f \u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86 Flask \u7c7b\u3002\u8fd9\u4e2a\u7c7b\u7684\u5b9e\u4f8b\u5c06\u4f1a\u662f\u6211\u4eec\u7684 WSGI \u5e94\u7528\u7a0b\u5e8f\u3002 \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u8be5\u7c7b\u7684\u5b9e\u4f8b\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5e94\u7528\u6a21\u5757\u6216\u8005\u5305\u7684\u540d\u79f0\u3002 \u5982\u679c\u4f60\u4f7f\u7528\u5355\u4e00\u7684\u6a21\u5757\uff08\u5982\u672c\u4f8b\uff09\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528 name \uff0c\u56e0\u4e3a\u6a21\u5757\u7684\u540d\u79f0\u5c06\u4f1a\u56e0\u5176\u4f5c\u4e3a\u5355\u72ec\u5e94\u7528\u542f\u52a8\u8fd8\u662f\u4f5c\u4e3a\u6a21\u5757\u5bfc\u5165\u800c\u6709\u4e0d\u540c\uff08 \u4e5f\u5373\u662f '__main__' \u6216\u5b9e\u9645\u7684\u5bfc\u5165\u540d\uff09\u3002\u8fd9\u662f\u5fc5\u987b\u7684\uff0c\u8fd9\u6837 Flask \u624d\u77e5\u9053\u5230\u54ea\u53bb\u627e\u6a21\u677f\u3001\u9759\u6001\u6587\u4ef6\u7b49\u7b49\u3002\u8be6\u60c5\u89c1 Flask \u7684\u6587\u6863\u3002 \u7136\u540e\uff0c\u6211\u4eec\u4f7f\u7528 route() \u88c5\u9970\u5668\u544a\u8bc9 Flask \u4ec0\u4e48\u6837\u7684URL \u80fd\u89e6\u53d1\u6211\u4eec\u7684\u51fd\u6570\u3002 \u8fd9\u4e2a\u51fd\u6570\u7684\u540d\u5b57\u4e5f\u5728\u751f\u6210 URL \u65f6\u88ab\u7279\u5b9a\u7684\u51fd\u6570\u91c7\u7528\uff0c\u8fd9\u4e2a\u51fd\u6570\u8fd4\u56de\u6211\u4eec\u60f3\u8981\u663e\u793a\u5728\u7528\u6237\u6d4f\u89c8\u5668\u4e2d\u7684\u4fe1\u606f\u3002 \u6700\u540e\u6211\u4eec\u7528 run() \u51fd\u6570\u6765\u8ba9\u5e94\u7528\u8fd0\u884c\u5728\u672c\u5730\u670d\u52a1\u5668\u4e0a\u3002 \u5176\u4e2d if __name__ =='__main__': \u786e\u4fdd\u670d\u52a1\u5668\u53ea\u4f1a\u5728\u8be5\u811a\u672c\u88ab Python \u89e3\u91ca\u5668\u76f4\u63a5\u6267\u884c\u7684\u65f6\u5019\u624d\u4f1a\u8fd0\u884c\uff0c\u800c\u4e0d\u662f\u4f5c\u4e3a\u6a21\u5757\u5bfc\u5165\u7684\u65f6\u5019\u3002 \u5916\u90e8\u53ef\u8bbf\u95ee\u7684\u670d\u52a1\u5668 \u5982\u679c\u4f60\u8fd0\u884c\u4e86\u8fd9\u4e2a\u670d\u52a1\u5668\uff0c\u4f60\u4f1a\u53d1\u73b0\u5b83\u53ea\u80fd\u4ece\u4f60\u81ea\u5df1\u7684\u8ba1\u7b97\u673a\u4e0a\u8bbf\u95ee\uff0c\u7f51\u7edc\u4e2d\u5176\u5b83\u4efb\u4f55\u7684\u5730\u65b9\u90fd\u4e0d\u80fd\u8bbf\u95ee\u3002\u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u4f60\u7684\u8ba1\u7b97\u673a\u4e0a\u6267\u884c\u4efb\u610f Python \u4ee3\u7801\u3002\u56e0\u6b64\uff0c\u8fd9\u4e2a\u884c\u4e3a\u662f\u9ed8\u8ba4\u7684\u3002 \u5982\u679c\u4f60\u7981\u7528\u4e86 debug \u6216\u4fe1\u4efb\u4f60\u6240\u5728\u7f51\u7edc\u7684\u7528\u6237\uff0c\u4f60\u53ef\u4ee5\u7b80\u5355\u4fee\u6539\u8c03\u7528 run() \u7684\u65b9\u6cd5\u4f7f\u4f60\u7684\u670d\u52a1\u5668\u516c\u5f00\u53ef\u7528\uff0c\u5982\u4e0b: app.run(host='0.0.0.0') \u8fd9\u4f1a\u8ba9\u64cd\u4f5c\u7cfb\u7edf\u76d1\u542c\u6240\u6709\u516c\u7f51 IP\u3002 \u8c03\u8bd5\u6a21\u5f0f \u00b6 \u867d\u7136 run() \u65b9\u6cd5\u9002\u7528\u4e8e\u542f\u52a8\u672c\u5730\u7684\u5f00\u53d1\u670d\u52a1\u5668\uff0c\u4f46\u662f\u4f60\u6bcf\u6b21\u4fee\u6539\u4ee3\u7801\u540e\u90fd\u8981\u624b\u52a8\u91cd\u542f\u5b83\u3002\u8fd9\u6837\u5e76\u4e0d\u591f\u4f18\u96c5\uff0c\u800c\u4e14 Flask \u53ef\u4ee5\u505a\u5230\u66f4\u597d\u3002\u5982\u679c\u4f60\u542f\u7528\u4e86\u8c03\u8bd5\u652f\u6301\uff0c\u670d\u52a1\u5668\u4f1a\u5728\u4ee3\u7801\u4fee\u6539\u540e\u81ea\u52a8\u91cd\u65b0\u8f7d\u5165\uff0c\u5e76\u5728\u53d1\u751f\u9519\u8bef\u65f6\u63d0\u4f9b\u4e00\u4e2a\u76f8\u5f53\u6709\u7528\u7684\u8c03\u8bd5\u5668\u3002 \u6709\u4e24\u79cd\u9014\u5f84\u6765\u542f\u7528\u8c03\u8bd5\u6a21\u5f0f\u3002\u4e00\u79cd\u662f\u76f4\u63a5\u5728\u5e94\u7528\u5bf9\u8c61\u4e0a\u8bbe\u7f6e: app . debug = True app . run () \u53e6\u4e00\u79cd\u662f\u4f5c\u4e3a run \u65b9\u6cd5\u7684\u4e00\u4e2a\u53c2\u6570\u4f20\u5165: app.run(debug=True) \u4e24\u79cd\u65b9\u6cd5\u7684\u6548\u679c\u5b8c\u5168\u76f8\u540c\u3002 \u6ce8\u610f \u5c3d\u7ba1\u4ea4\u4e92\u5f0f\u8c03\u8bd5\u5668\u5728\u5141\u8bb8 fork \u7684\u73af\u5883\u4e2d\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528\uff08\u4e5f\u5373\u5728\u751f\u4ea7\u670d\u52a1\u5668\u4e0a\u6b63\u5e38\u4f7f\u7528\u51e0\u4e4e\u662f\u4e0d\u53ef\u80fd\u7684\uff09\uff0c\u4f46\u5b83\u4f9d\u7136\u5141\u8bb8\u6267\u884c\u4efb\u610f\u4ee3\u7801\u3002\u8fd9\u4f7f\u5b83\u6210\u4e3a\u4e00\u4e2a\u5de8\u5927\u7684\u5b89\u5168\u9690\u60a3\uff0c\u56e0\u6b64\u5b83 \u7edd\u5bf9\u4e0d\u80fd\u7528\u4e8e\u751f\u4ea7\u73af\u5883 \u3002 \u8def\u7531 \u00b6 \u73b0\u4ee3 Web \u5e94\u7528\u7684 URL \u5341\u5206\u4f18\u96c5\uff0c\u6613\u4e8e\u4eba\u4eec\u8fa8\u8bc6\u8bb0\u5fc6\uff0c\u8fd9\u4e00\u70b9\u5bf9\u4e8e\u90a3\u4e9b\u9762\u5411\u4f7f\u7528\u4f4e\u901f\u7f51\u7edc\u8fde\u63a5\u79fb\u52a8\u8bbe\u5907\u8bbf\u95ee\u7684\u5e94\u7528\u7279\u522b\u6709\u7528\u3002\u5982\u679c\u53ef\u4ee5\u4e0d\u8bbf\u95ee\u7d22\u5f15\u9875\uff0c\u800c\u662f\u76f4\u63a5\u8bbf\u95ee\u60f3\u8981\u7684\u90a3\u4e2a\u9875\u9762\uff0c\u4ed6\u4eec\u591a\u534a\u4f1a\u7b11\u9010\u989c\u5f00\u800c\u518d\u5ea6\u5149\u987e\u3002 \u5982\u4e0a\u6240\u89c1\uff0c route() \u88c5\u9970\u5668\u628a\u4e00\u4e2a\u51fd\u6570\u7ed1\u5b9a\u5230\u5bf9\u5e94\u7684 URL \u4e0a\u3002\u4f46\u662f\uff0c\u4e0d\u4ec5\u5982\u6b64\uff01\u4f60\u53ef\u4ee5\u6784\u9020\u542b\u6709\u52a8\u6001\u90e8\u5206\u7684 URL\uff0c\u4e5f\u53ef\u4ee5\u5728\u4e00\u4e2a\u51fd\u6570\u4e0a\u9644\u7740\u591a\u4e2a\u89c4\u5219\u3002 \u8fd9\u91cc\u662f\u4e00\u4e9b\u57fa\u672c\u7684\u4f8b\u5b50: @app . route ( '/' ) def index (): return 'Index Page' @app . route ( '/hello' ) def hello (): return 'Hello World' URL\u4f20\u53c2 \u00b6 \u8981\u7ed9 URL \u6dfb\u52a0\u53d8\u91cf\u90e8\u5206\uff0c\u4f60\u53ef\u4ee5\u628a\u8fd9\u4e9b\u7279\u6b8a\u7684\u5b57\u6bb5\u6807\u8bb0\u4e3a <variable_name> \uff0c \u8fd9\u4e2a\u90e8\u5206\u5c06\u4f1a\u4f5c\u4e3a\u547d\u540d\u53c2\u6570\u4f20\u9012\u5230\u4f60\u7684\u51fd\u6570\u3002\u89c4\u5219\u53ef\u4ee5\u7528 <converter:variable_name> \u6307\u5b9a\u4e00\u4e2a\u53ef\u9009\u7684\u8f6c\u6362\u5668\u3002\u8fd9\u91cc\u6709\u4e00\u4e9b\u4e0d\u9519\u7684\u4f8b\u5b50: @app . route ( '/user/<username>' ) def show_user_profile ( username ): # show the user profile for that user return 'User %s ' % username @app . route ( '/post/<int:post_id>' ) def show_post ( post_id ): # show the post with the given id, the id is an integer return 'Post %d ' % post_id \u8f6c\u6362\u5668\u6709\u4e0b\u9762\u51e0\u79cd\uff1a int \u63a5\u53d7\u6574\u6570 float \u540c int \uff0c\u4f46\u662f\u63a5\u53d7\u6d6e\u70b9\u6570 path \u548c\u9ed8\u8ba4\u7684\u76f8\u4f3c\uff0c\u4f46\u4e5f\u63a5\u53d7\u659c\u7ebf \u552f\u4e00 URL / \u91cd\u5b9a\u5411\u884c\u4e3a \u00b6 Flask \u7684 URL \u89c4\u5219\u57fa\u4e8e Werkzeug \u7684\u8def\u7531\u6a21\u5757\u3002\u8fd9\u4e2a\u6a21\u5757\u80cc\u540e\u7684\u601d\u60f3\u662f\u57fa\u4e8e Apache \u4ee5\u53ca\u66f4\u65e9\u7684 HTTP \u670d\u52a1\u5668\u4e3b\u5f20\u7684\u5148\u4f8b\uff0c\u4fdd\u8bc1\u4f18\u96c5\u4e14\u552f\u4e00\u7684 URL\u3002 \u4ee5\u8fd9\u4e24\u4e2a\u89c4\u5219\u4e3a\u4f8b: @app . route ( '/projects/' ) def projects (): return 'The project page' @app . route ( '/about' ) def about (): return 'The about page' \u867d\u7136\u5b83\u4eec\u770b\u8d77\u6765\u7740\u5b9e\u76f8\u4f3c\uff0c\u4f46\u5b83\u4eec\u7ed3\u5c3e\u659c\u7ebf\u7684\u4f7f\u7528\u5728 URL \u5b9a\u4e49 \u4e2d\u4e0d\u540c\u3002 \u7b2c\u4e00\u79cd\u60c5\u51b5\u4e2d\uff0c\u6307\u5411 projects \u7684\u89c4\u8303 URL \u5c3e\u7aef\u6709\u4e00\u4e2a\u659c\u7ebf\u3002\u8fd9\u79cd\u611f\u89c9\u5f88\u50cf\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u6587\u4ef6\u5939\u3002\u8bbf\u95ee\u4e00\u4e2a\u7ed3\u5c3e\u4e0d\u5e26\u659c\u7ebf\u7684 URL \u4f1a\u88ab Flask \u91cd\u5b9a\u5411\u5230\u5e26\u659c\u7ebf\u7684\u89c4\u8303 URL \u53bb\u3002 \u7136\u800c\uff0c\u7b2c\u4e8c\u79cd\u60c5\u51b5\u7684 URL \u7ed3\u5c3e\u4e0d\u5e26\u659c\u7ebf\uff0c\u7c7b\u4f3c UNIX-like \u7cfb\u7edf\u4e0b\u7684\u6587\u4ef6\u7684\u8def\u5f84\u540d\u3002\u8bbf\u95ee\u7ed3\u5c3e\u5e26\u659c\u7ebf\u7684 URL \u4f1a\u4ea7\u751f\u4e00\u4e2a 404 \u201cNot Found\u201d \u9519\u8bef\u3002 \u8fd9\u4e2a\u884c\u4e3a\u4f7f\u5f97\u5728\u9057\u5fd8\u5c3e\u659c\u7ebf\u65f6\uff0c\u5141\u8bb8\u5173\u8054\u7684 URL \u63a5\u4efb\u5de5\u4f5c\uff0c\u4e0e Apache \u548c\u5176\u5b83\u7684\u670d\u52a1\u5668\u7684\u884c\u4e3a\u5e76\u65e0\u4e8c\u5f02\u3002\u6b64\u5916\uff0c\u4e5f\u4fdd\u8bc1\u4e86 URL \u7684\u552f\u4e00\uff0c\u6709\u52a9\u4e8e\u907f\u514d\u641c\u7d22\u5f15\u64ce\u7d22\u5f15\u540c\u4e00\u4e2a\u9875\u9762\u4e24\u6b21\u3002 \u6784\u9020 URL \u00b6 \u5982\u679c Flask \u80fd\u5339\u914d URL\uff0c\u90a3\u4e48 Flask \u53ef\u4ee5\u751f\u6210\u5b83\u4eec\u5417\uff1f\u5f53\u7136\u53ef\u4ee5\u3002\u4f60\u53ef\u4ee5\u7528 url_for() \u6765\u7ed9\u6307\u5b9a\u7684\u51fd\u6570\u6784\u9020 URL\u3002\u5b83\u63a5\u53d7\u51fd\u6570\u540d\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u4e5f\u63a5\u53d7\u5bf9\u5e94 URL \u89c4\u5219\u7684\u53d8\u91cf\u90e8\u5206\u7684\u547d\u540d\u53c2\u6570\u3002\u672a\u77e5\u53d8\u91cf\u90e8\u5206\u4f1a\u6dfb\u52a0\u5230 URL \u672b\u5c3e\u4f5c\u4e3a\u67e5\u8be2\u53c2\u6570\u3002\u8fd9\u91cc\u6709\u4e00\u4e9b\u4f8b\u5b50: >>> from flask import Flask , url_for >>> app = Flask ( __name__ ) >>> @app . route ( '/' ) ... def index (): pass ... >>> @app . route ( '/login' ) ... def login (): pass ... >>> @app . route ( '/user/<username>' ) ... def profile ( username ): pass ... >>> with app . test_request_context (): ... print url_for ( 'index' ) ... print url_for ( 'login' ) ... print url_for ( 'login' , next = '/' ) ... print url_for ( 'profile' , username = 'John Doe' ) ... / / login / login ? next =/ / user / John % 20 Doe \uff08\u8fd9\u91cc\u4e5f\u7528\u5230\u4e86 test_request_context() \u65b9\u6cd5\uff0c\u4e0b\u9762\u4f1a\u89e3\u91ca\u3002\u5373\u4f7f\u6211\u4eec\u6b63\u5728\u901a\u8fc7 Python \u7684 shell \u8fdb\u884c\u4ea4\u4e92\uff0c\u5b83\u4f9d\u7136\u4f1a\u544a\u8bc9 Flask \u8981\u8868\u73b0\u4e3a\u6b63\u5728\u5904\u7406\u4e00\u4e2a\u8bf7\u6c42\u3002\u8bf7\u770b\u4e0b\u9762\u7684\u89e3\u91ca\u3002 \u73af\u5883\u5c40\u90e8\u53d8\u91cf \uff09 \u4e3a\u4ec0\u4e48\u4f60\u8981\u6784\u5efa URL \u800c\u975e\u5728\u6a21\u677f\u4e2d\u786c\u7f16\u7801\uff1f\u8fd9\u91cc\u6709\u4e09\u4e2a\u7edd\u5999\u7684\u7406\u7531\uff1a \u53cd\u5411\u6784\u5efa\u901a\u5e38\u6bd4\u786c\u7f16\u7801\u7684\u63cf\u8ff0\u6027\u66f4\u597d\u3002\u66f4\u91cd\u8981\u7684\u662f\uff0c\u5b83\u5141\u8bb8\u4f60\u4e00\u6b21\u6027\u4fee\u6539 URL\uff0c \u800c\u4e0d\u662f\u5230\u5904\u8fb9\u627e\u8fb9\u6539\u3002 URL \u6784\u5efa\u4f1a\u8f6c\u4e49\u7279\u6b8a\u5b57\u7b26\u548c Unicode \u6570\u636e\uff0c\u514d\u53bb\u4f60\u5f88\u591a\u9ebb\u70e6\u3002 \u5982\u679c\u4f60\u7684\u5e94\u7528\u4e0d\u4f4d\u4e8e URL \u7684\u6839\u8def\u5f84\uff08\u6bd4\u5982\uff0c\u5728 /myapplication \u4e0b\uff0c\u800c\u4e0d\u662f / \uff09\uff0c url_for() \u4f1a\u59a5\u5584\u5904\u7406\u8fd9\u4e2a\u95ee\u9898\u3002 HTTP \u65b9\u6cd5 \u00b6 HTTP \uff08\u4e0e Web \u5e94\u7528\u4f1a\u8bdd\u7684\u534f\u8bae\uff09\u6709\u8bb8\u591a\u4e0d\u540c\u7684\u8bbf\u95ee URL \u65b9\u6cd5\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8def\u7531\u53ea\u56de\u5e94 GET \u8bf7\u6c42\uff0c\u4f46\u662f\u901a\u8fc7 route() \u88c5\u9970\u5668\u4f20\u9012 methods \u53c2\u6570\u53ef\u4ee5\u6539\u53d8\u8fd9\u4e2a\u884c\u4e3a\u3002\u8fd9\u91cc\u6709\u4e00\u4e9b\u4f8b\u5b50: @app . route ( '/login' , methods = [ 'GET' , 'POST' ]) def login (): if request . method == 'POST' : do_the_login () else : show_the_login_form () \u5982\u679c\u5b58\u5728 GET \uff0c\u90a3\u4e48\u4e5f\u4f1a\u66ff\u4f60\u81ea\u52a8\u5730\u6dfb\u52a0 HEAD\uff0c\u65e0\u9700\u5e72\u9884\u3002\u5b83\u4f1a\u786e\u4fdd\u9075\u7167 HTTP RFC \uff08\u63cf\u8ff0 HTTP \u534f\u8bae\u7684\u6587\u6863\uff09\u5904\u7406 HEAD \u8bf7\u6c42\uff0c\u6240\u4ee5\u4f60\u53ef\u4ee5\u5b8c\u5168\u5ffd\u7565\u8fd9\u90e8\u5206\u7684 HTTP \u89c4\u8303\u3002\u540c\u6837\uff0c\u81ea\u4ece Flask 0.6 \u8d77\uff0c \u4e5f\u5b9e\u73b0\u4e86 OPTIONS \u7684\u81ea\u52a8\u5904\u7406\u3002 \u4f60\u4e0d\u77e5\u9053\u4e00\u4e2a HTTP \u65b9\u6cd5\u662f\u4ec0\u4e48\uff1f\u4e0d\u5fc5\u62c5\u5fc3\uff0c\u8fd9\u91cc\u4f1a\u7b80\u8981\u4ecb\u7ecd HTTP \u65b9\u6cd5\u548c\u5b83\u4eec\u4e3a\u4ec0\u4e48\u91cd\u8981\uff1a HTTP \u65b9\u6cd5\uff08\u4e5f\u7ecf\u5e38\u88ab\u53eb\u505a\u201c\u8c13\u8bcd\u201d\uff09\u544a\u77e5\u670d\u52a1\u5668\uff0c\u5ba2\u6237\u7aef\u60f3\u5bf9\u8bf7\u6c42\u7684\u9875\u9762 \u505a \u4e9b\u4ec0\u4e48\u3002\u4e0b\u9762\u7684\u90fd\u662f\u975e\u5e38\u5e38\u89c1\u7684\u65b9\u6cd5\uff1a GET\uff1a\u6d4f\u89c8\u5668\u544a\u77e5\u670d\u52a1\u5668\uff1a\u53ea \u83b7\u53d6 \u9875\u9762\u4e0a\u7684\u4fe1\u606f\u5e76\u53d1\u7ed9\u6211\u3002\u8fd9\u662f\u6700\u5e38\u7528\u7684\u65b9\u6cd5\u3002 HEAD\uff1a\u6d4f\u89c8\u5668\u544a\u8bc9\u670d\u52a1\u5668\uff1a\u6b32\u83b7\u53d6\u4fe1\u606f\uff0c\u4f46\u662f\u53ea\u5173\u5fc3 \u6d88\u606f\u5934 \u3002\u5e94\u7528\u5e94\u50cf\u5904\u7406 GET \u8bf7\u6c42\u4e00\u6837\u6765\u5904\u7406\u5b83\uff0c\u4f46\u662f\u4e0d\u5206\u53d1\u5b9e\u9645\u5185\u5bb9\u3002\u5728 Flask \u4e2d\u4f60\u5b8c\u5168\u65e0\u9700 \u4eba\u5de5 \u5e72\u9884\uff0c\u5e95\u5c42\u7684 Werkzeug \u5e93\u5df2\u7ecf\u66ff\u4f60\u6253\u70b9\u597d\u4e86\u3002 POST\uff1a\u6d4f\u89c8\u5668\u544a\u8bc9\u670d\u52a1\u5668\uff1a\u60f3\u5728 URL \u4e0a \u53d1\u5e03 \u65b0\u4fe1\u606f\u3002\u5e76\u4e14\uff0c\u670d\u52a1\u5668\u5fc5\u987b\u786e\u4fdd \u6570\u636e\u5df2\u5b58\u50a8\u4e14\u4ec5\u5b58\u50a8\u4e00\u6b21\u3002\u8fd9\u662f HTML \u8868\u5355\u901a\u5e38\u53d1\u9001\u6570\u636e\u5230\u670d\u52a1\u5668\u7684\u65b9\u6cd5\u3002 PUT\uff1a\u7c7b\u4f3c POST \u4f46\u662f\u670d\u52a1\u5668\u53ef\u80fd\u89e6\u53d1\u4e86\u5b58\u50a8\u8fc7\u7a0b\u591a\u6b21\uff0c\u591a\u6b21\u8986\u76d6\u6389\u65e7\u503c\u3002\u4f60\u53ef \u80fd\u4f1a\u95ee\u8fd9\u6709\u4ec0\u4e48\u7528\uff0c\u5f53\u7136\u8fd9\u662f\u6709\u539f\u56e0\u7684\u3002\u8003\u8651\u5230\u4f20\u8f93\u4e2d\u8fde\u63a5\u53ef\u80fd\u4f1a\u4e22\u5931\uff0c\u5728 \u8fd9\u79cd \u60c5\u51b5\u4e0b\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u7cfb\u7edf\u53ef\u80fd\u5b89\u5168\u5730\u7b2c\u4e8c\u6b21\u63a5\u6536\u8bf7\u6c42\uff0c\u800c \u4e0d\u7834\u574f\u5176\u5b83\u4e1c\u897f\u3002\u56e0\u4e3a POST\u5b83\u53ea\u89e6\u53d1\u4e00\u6b21\uff0c\u6240\u4ee5\u7528 POST \u662f\u4e0d\u53ef\u80fd\u7684\u3002 DELETE\uff1a\u5220\u9664\u7ed9\u5b9a\u4f4d\u7f6e\u7684\u4fe1\u606f\u3002 OPTIONS\uff1a\u7ed9\u5ba2\u6237\u7aef\u63d0\u4f9b\u4e00\u4e2a\u654f\u6377\u7684\u9014\u5f84\u6765\u5f04\u6e05\u8fd9\u4e2a URL \u652f\u6301\u54ea\u4e9b HTTP \u65b9\u6cd5\u3002 \u4ece Flask 0.6 \u5f00\u59cb\uff0c\u5b9e\u73b0\u4e86\u81ea\u52a8\u5904\u7406\u3002. \u9759\u6001\u6587\u4ef6 \u00b6 \u52a8\u6001 web \u5e94\u7528\u4e5f\u4f1a\u9700\u8981\u9759\u6001\u6587\u4ef6\uff0c\u901a\u5e38\u662f CSS \u548c JavaScript \u6587\u4ef6\u3002\u7406\u60f3\u72b6\u51b5\u4e0b\uff0c \u4f60\u5df2\u7ecf\u914d\u7f6e\u597d Web \u670d\u52a1\u5668\u6765\u63d0\u4f9b\u9759\u6001\u6587\u4ef6\uff0c\u4f46\u662f\u5728\u5f00\u53d1\u4e2d\uff0cFlask \u4e5f\u53ef\u4ee5\u505a\u5230\u3002 \u53ea\u8981\u5728\u4f60\u7684\u5305\u4e2d\u6216\u662f\u6a21\u5757\u7684\u6240\u5728\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a static \u7684\u6587\u4ef6\u5939\uff0c\u5728\u5e94\u7528\u4e2d\u4f7f\u7528 /static \u5373\u53ef\u8bbf\u95ee\u3002 \u7ed9\u9759\u6001\u6587\u4ef6\u751f\u6210 URL \uff0c\u4f7f\u7528\u7279\u6b8a\u7684 'static' \u7aef\u70b9\u540d: ```python url_for('static', filename='style.css') \u8fd9\u4e2a\u6587\u4ef6\u5e94\u8be5\u5b58\u50a8\u5728\u6587\u4ef6\u7cfb\u7edf\u4e0a\u7684 `static/style.css` \u3002 ## \u6a21\u677f\u6e32\u67d3 \u7528 Python \u751f\u6210 HTML \u5341\u5206\u65e0\u8da3\uff0c\u800c\u4e14\u76f8\u5f53\u7e41\u7410\uff0c\u56e0\u4e3a\u4f60\u5fc5\u987b\u624b\u52a8\u5bf9 HTML \u505a\u8f6c\u4e49\u6765\u4fdd\u8bc1\u5e94\u7528\u7684\u5b89\u5168\u3002\u4e3a\u6b64\uff0cFlask \u914d\u5907\u4e86 [Jinja2](http://jinja.pocoo.org/) \u6a21\u677f\u5f15\u64ce\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528 [`render_template()`](http://docs.jinkan.org/docs/flask/api.html#flask.render_template) \u65b9\u6cd5\u6765\u6e32\u67d3\u6a21\u677f\u3002\u4f60\u9700\u8981\u505a\u7684\u4e00\u5207\u5c31\u662f\u5c06\u6a21\u677f\u540d\u548c\u4f60\u60f3\u4f5c\u4e3a\u5173\u952e\u5b57\u7684\u53c2\u6570\u4f20\u5165\u6a21\u677f\u7684\u53d8\u91cf\u3002\u8fd9\u91cc\u6709\u4e00\u4e2a\u5c55\u793a\u5982\u4f55\u6e32\u67d3\u6a21\u677f\u7684\u7b80\u4f8b: ```python from flask import render_template @app.route('/hello/') @app.route('/hello/<name>') def hello(name=None): return render_template('hello.html', name=name) Flask \u4f1a\u5728 templates \u6587\u4ef6\u5939\u91cc\u5bfb\u627e\u6a21\u677f\u3002\u6240\u4ee5\uff0c\u5982\u679c\u4f60\u7684\u5e94\u7528\u662f\u4e2a\u6a21\u5757\uff0c\u8fd9\u4e2a\u6587\u4ef6\u5939\u5e94\u8be5\u4e0e\u6a21\u5757\u540c\u7ea7\uff1b\u5982\u679c\u5b83\u662f\u4e00\u4e2a\u5305\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6587\u4ef6\u5939\u4f5c\u4e3a\u5305\u7684\u5b50\u76ee\u5f55: \u60c5\u51b5 1 : \u6a21\u5757: /application.py /templates /hello.html \u60c5\u51b5 2 : \u5305: /application /__init__.py /templates /hello.html \u5173\u4e8e\u6a21\u677f\uff0c\u4f60\u53ef\u4ee5\u53d1\u6325 Jinja2 \u6a21\u677f\u7684\u5168\u90e8\u5b9e\u4f8b\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u89c1 Jinja2 \u6a21\u677f\u6587\u6863 \u3002 \u8fd9\u91cc\u6709\u4e00\u4e2a\u6a21\u677f\u5b9e\u4f8b\uff1a <!doctype html> < title > Hello from Flask </ title > {% if name %} < h1 > Hello {{ name }}! </ h1 > {% else %} < h1 > Hello World! </ h1 > {% endif %} \u5728\u6a21\u677f\u91cc\uff0c\u4f60\u4e5f\u53ef\u4ee5\u8bbf\u95ee request \u3001 session \u548c g [ 1] \u5bf9\u8c61\uff0c \u4ee5\u53ca get_flashed_messages() \u51fd\u6570\u3002 \u6a21\u677f\u7ee7\u627f\u8ba9\u6a21\u677f\u7528\u8d77\u6765\u76f8\u5f53\u987a\u624b\u3002\u5982\u6b32\u4e86\u89e3\u7ee7\u627f\u7684\u5de5\u4f5c\u673a\u7406\uff0c\u8bf7\u8df3\u8f6c\u5230 \u6a21\u677f\u7ee7\u627f \u6a21\u5f0f\u7684\u6587\u6863\u3002\u6700\u8d77\u7801\uff0c\u6a21\u677f\u7ee7\u627f\u80fd\u4f7f\u7279\u5b9a\u5143\u7d20 \uff08\u6bd4\u5982\u9875\u7709\u3001\u5bfc\u822a\u680f\u548c\u9875\u811a\uff09\u53ef\u4ee5\u51fa\u73b0\u5728\u6240\u6709\u7684\u9875\u9762\u3002 \u81ea\u52a8\u8f6c\u4e49\u529f\u80fd\u9ed8\u8ba4\u662f\u5f00\u542f\u7684\uff0c\u6240\u4ee5\u5982\u679c name \u5305\u542b HTML \uff0c\u5b83\u5c06\u4f1a\u88ab\u81ea\u52a8\u8f6c\u4e49\u3002\u5982\u679c\u4f60\u80fd\u4fe1\u4efb\u4e00\u4e2a\u53d8\u91cf\uff0c\u5e76\u4e14\u4f60\u77e5\u9053\u5b83\u662f\u5b89\u5168\u7684\uff08\u4f8b\u5982\u4e00\u4e2a\u6a21\u5757\u628a Wiki \u6807\u8bb0\u8f6c\u6362\u4e3a HTML\uff09\uff0c\u4f60\u53ef\u4ee5\u7528 Markup \u7c7b\u6216 |safe \u8fc7\u6ee4\u5668\u5728\u6a21\u677f\u4e2d\u628a\u5b83\u6807\u8bb0\u4e3a\u5b89\u5168\u7684\u3002\u5728 Jinja 2 \u6587\u6863\u4e2d\uff0c\u4f60\u4f1a\u770b\u5230\u66f4\u591a\u7684\u4f8b\u5b50\u3002 \u8fd9\u91cc\u662f\u4e00\u4e2a Markup \u7c7b\u5982\u4f55\u4f7f\u7528\u7684\u7b80\u5355\u4ecb\u7ecd: >>> from flask import Markup >>> Markup ( '<strong>Hello %s !</strong>' ) % '<blink>hacker</blink>' Markup ( u '<strong>Hello &lt;blink&gt;hacker&lt;/blink&gt;!</strong>' ) >>> Markup . escape ( '<blink>hacker</blink>' ) Markup ( u '&lt;blink&gt;hacker&lt;/blink&gt;' ) >>> Markup ( '<em>Marked up</em> &raquo; HTML' ) . striptags () u 'Marked up \\xbb HTML' \u5728 0.5 \u7248\u66f4\u6539: \u81ea\u52a8\u8f6c\u4e49\u4e0d\u518d\u5728\u6240\u6709\u6a21\u677f\u4e2d\u542f\u7528\u3002\u4e0b\u5217\u6269\u5c55\u540d\u7684\u6a21\u677f\u4f1a\u89e6\u53d1\u81ea\u52a8\u8f6c\u4e49\uff1a .html \u3001 .htm \u3001 .xml \u3001 .xhtml \u3002\u4ece\u5b57\u7b26\u4e32\u52a0\u8f7d\u7684\u6a21\u677f\u4f1a\u7981\u7528\u81ea\u52a8\u8f6c\u4e49\u3002 [ 1] \u4e0d\u786e\u5b9a g \u5bf9\u8c61\u662f\u4ec0\u4e48\uff1f\u5b83\u5141\u8bb8\u4f60\u6309\u9700\u5b58\u50a8\u4fe1\u606f\uff0c \u67e5\u770b\uff08 g \uff09\u5bf9\u8c61\u7684\u6587\u6863\u548c \u5728 Flask \u4e2d\u4f7f\u7528 SQLite 3 \u7684\u6587\u6863\u4ee5\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u3002 \u8bbf\u95ee\u8bf7\u6c42\u6570\u636e \u00b6 \u5bf9\u4e8e Web \u5e94\u7528\uff0c\u4e0e\u5ba2\u6237\u7aef\u53d1\u9001\u7ed9\u670d\u52a1\u5668\u7684\u6570\u636e\u4ea4\u4e92\u81f3\u5173\u91cd\u8981\u3002\u5728 Flask \u4e2d\u7531\u5168\u5c40\u7684 request \u5bf9\u8c61\u6765\u63d0\u4f9b\u8fd9\u4e9b\u4fe1\u606f\u3002\u5982\u679c\u4f60\u6709\u4e00\u5b9a\u7684 Python \u7ecf\u9a8c\uff0c\u4f60\u4f1a\u597d\u5947\uff0c\u4e3a\u4ec0\u4e48\u8fd9\u4e2a\u5bf9\u8c61\u662f\u5168\u5c40\u7684\uff0c\u4e3a\u4ec0\u4e48 Flask \u8fd8\u80fd\u4fdd\u8bc1\u7ebf\u7a0b\u5b89\u5168\u3002\u7b54\u6848\u662f\u73af\u5883\u4f5c\u7528\u57df\uff1a \u73af\u5883\u5c40\u90e8\u53d8\u91cf \u00b6 \u5185\u5e55 \u5982\u679c\u4f60\u60f3\u7406\u89e3\u5176\u5de5\u4f5c\u673a\u5236\u53ca\u5982\u4f55\u5229\u7528\u73af\u5883\u5c40\u90e8\u53d8\u91cf\u5b9e\u73b0\u81ea\u52a8\u5316\u6d4b\u8bd5\uff0c\u8bf7\u9605\u8bfb\u6b64\u8282\uff0c\u5426\u5219\u53ef\u8df3\u8fc7\u3002 Flask \u4e2d\u7684\u67d0\u4e9b\u5bf9\u8c61\u662f\u5168\u5c40\u5bf9\u8c61\uff0c\u4f46\u5374\u4e0d\u662f\u901a\u5e38\u7684\u90a3\u79cd\u3002\u8fd9\u4e9b\u5bf9\u8c61\u5b9e\u9645\u4e0a\u662f\u7279\u5b9a\u73af\u5883\u7684\u5c40\u90e8\u5bf9\u8c61\u7684\u4ee3\u7406\u3002\u867d\u7136\u5f88\u62d7\u53e3\uff0c\u4f46\u5b9e\u9645\u4e0a\u5f88\u5bb9\u6613\u7406\u89e3\u3002 \u60f3\u8c61\u4e00\u4e0b\u5904\u7406\u7ebf\u7a0b\u7684\u73af\u5883\u3002\u4e00\u4e2a\u8bf7\u6c42\u4f20\u5165\uff0cWeb \u670d\u52a1\u5668\u51b3\u5b9a\u751f\u6210\u4e00\u4e2a\u65b0\u7ebf\u7a0b\uff08 \u6216\u8005\u522b\u7684\u4ec0\u4e48\u4e1c\u897f\uff0c\u53ea\u8981\u8fd9\u4e2a\u5e95\u5c42\u7684\u5bf9\u8c61\u53ef\u4ee5\u80dc\u4efb\u5e76\u53d1\u7cfb\u7edf\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u7ebf\u7a0b\uff09\u3002 \u5f53 Flask \u5f00\u59cb\u5b83\u5185\u90e8\u7684\u8bf7\u6c42\u5904\u7406\u65f6\uff0c\u5b83\u8ba4\u5b9a\u5f53\u524d\u7ebf\u7a0b\u662f\u6d3b\u52a8\u7684\u73af\u5883\uff0c\u5e76\u7ed1\u5b9a\u5f53\u524d\u7684\u5e94\u7528\u548c WSGI \u73af\u5883\u5230\u90a3\u4e2a\u73af\u5883\u4e0a\uff08\u7ebf\u7a0b\uff09\u3002\u5b83\u7684\u5b9e\u73b0\u5f88\u5de7\u5999\uff0c\u80fd\u4fdd\u8bc1\u4e00\u4e2a\u5e94\u7528\u8c03\u7528\u53e6\u4e00\u4e2a\u5e94\u7528\u65f6\u4e0d\u4f1a\u51fa\u73b0\u95ee\u9898\u3002 \u6240\u4ee5\uff0c\u8fd9\u5bf9\u4f60\u6765\u8bf4\u610f\u5473\u7740\u4ec0\u4e48\uff1f\u9664\u975e\u4f60\u8981\u505a\u7c7b\u4f3c\u5355\u5143\u6d4b\u8bd5\u7684\u4e1c\u897f\uff0c\u5426\u5219\u4f60\u57fa\u672c\u4e0a\u53ef\u4ee5\u5b8c\u5168\u65e0\u89c6\u5b83\u3002\u4f60\u4f1a\u53d1\u73b0\u4f9d\u8d56\u4e8e\u4e00\u6bb5\u8bf7\u6c42\u5bf9\u8c61\u7684\u4ee3\u7801\uff0c\u56e0\u6ca1\u6709\u8bf7\u6c42\u5bf9\u8c61\u65e0\u6cd5\u6b63\u5e38\u8fd0\u884c\u3002\u89e3\u51b3\u65b9\u6848\u662f\uff0c\u81ea\u884c\u521b\u5efa\u4e00\u4e2a\u8bf7\u6c42\u5bf9\u8c61\u5e76\u4e14\u628a\u5b83\u7ed1\u5b9a\u5230\u73af\u5883\u4e2d\u3002\u5355\u5143\u6d4b\u8bd5\u7684\u6700\u7b80\u5355\u7684\u89e3\u51b3\u65b9\u6848\u662f\uff1a\u7528 test_request_context() \u73af\u5883\u7ba1\u7406\u5668\u3002\u7ed3\u5408 with \u58f0\u660e\uff0c\u7ed1\u5b9a\u4e00\u4e2a\u6d4b\u8bd5\u8bf7\u6c42\uff0c\u8fd9\u6837\u4f60\u624d\u80fd\u4e0e\u4e4b\u4ea4\u4e92\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50: from flask import request with app . test_request_context ( '/hello' , method = 'POST' ): # now you can do something with the request until the # end of the with block, such as basic assertions: assert request . path == '/hello' assert request . method == 'POST' \u53e6\u4e00\u79cd\u53ef\u80fd\u662f\uff1a\u4f20\u9012\u6574\u4e2a WSGI \u73af\u5883\u7ed9 request_context() \u65b9\u6cd5: from flask import request with app . request_context ( environ ): assert request . method == 'POST' \u8bf7\u6c42\u5bf9\u8c61 \u00b6 API \u7ae0\u8282\u5bf9\u8bf7\u6c42\u5bf9\u8c61\u4f5c\u4e86\u8be6\u5c3d\u9610\u8ff0\uff08\u53c2\u89c1 request \uff09\uff0c\u56e0\u6b64\u8fd9\u91cc\u4e0d\u4f1a\u8d58\u8ff0\u3002\u6b64\u5904\u5bbd\u6cdb\u4ecb\u7ecd\u4e00\u4e9b\u6700\u5e38\u7528\u7684\u64cd\u4f5c\u3002\u9996\u5148\u4ece flask \u6a21\u5757\u91cc\u5bfc\u5165\u5b83: from flask import request \u5f53\u524d\u8bf7\u6c42\u7684 HTTP \u65b9\u6cd5\u53ef\u901a\u8fc7 method \u5c5e\u6027\u6765\u8bbf\u95ee\u3002\u901a\u8fc7:attr:~flask.request.form \u5c5e\u6027\u6765\u8bbf\u95ee\u8868\u5355\u6570\u636e\uff08 POST \u6216 PUT \u8bf7\u6c42\u63d0\u4ea4\u7684\u6570\u636e\uff09\u3002\u8fd9\u91cc\u6709\u4e00\u4e2a\u7528\u5230\u4e0a\u9762\u63d0\u5230\u7684\u90a3\u4e24\u4e2a\u5c5e\u6027\u7684\u5b8c\u6574\u5b9e\u4f8b: @app . route ( '/login' , methods = [ 'POST' , 'GET' ]) def login (): error = None if request . method == 'POST' : if ( request . form [ 'username' ], request . form [ 'password' ]): return log_the_user_in ( request . form [ 'username' ]) else : error = 'Invalid username/password' # the code below is executed if the request method # was GET or the credentials were invalid return render_template ( 'login.html' , error = error ) \u5f53\u8bbf\u95ee form \u5c5e\u6027\u4e2d\u7684\u4e0d\u5b58\u5728\u7684\u952e\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f\u4f1a\u629b\u51fa\u4e00\u4e2a\u7279\u6b8a\u7684 KeyError \u5f02\u5e38\u3002\u4f60\u53ef\u4ee5\u50cf\u6355\u83b7\u6807\u51c6\u7684 KeyError \u4e00\u6837\u6765\u6355\u83b7\u5b83\u3002 \u5982\u679c\u4f60\u4e0d\u8fd9\u4e48\u505a\uff0c\u5b83\u4f1a\u663e\u793a\u4e00\u4e2a HTTP 400 Bad Request \u9519\u8bef\u9875\u9762\u3002\u6240\u4ee5\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\u4f60\u5e76\u4e0d\u9700\u8981\u5e72\u9884\u8fd9\u4e2a\u884c\u4e3a\u3002 \u4f60\u53ef\u4ee5\u901a\u8fc7 args \u5c5e\u6027\u6765\u8bbf\u95ee URL \u4e2d\u63d0\u4ea4\u7684\u53c2\u6570 \uff08 ?key=value \uff09: searchword = request . args . get ( 'q' , '' ) \u6211\u4eec\u63a8\u8350\u7528 get \u6765\u8bbf\u95ee URL \u53c2\u6570\u6216\u6355\u83b7 KeyError \uff0c\u56e0\u4e3a\u7528\u6237\u53ef\u80fd\u4f1a\u4fee\u6539 URL\uff0c\u5411\u4ed6\u4eec\u5c55\u73b0\u4e00\u4e2a 400 bad request \u9875\u9762\u4f1a\u5f71\u54cd\u7528\u6237\u4f53\u9a8c\u3002 \u6587\u4ef6\u4e0a\u4f20 \u00b6 \u7528 Flask \u5904\u7406\u6587\u4ef6\u4e0a\u4f20\u5f88\u7b80\u5355\u3002\u53ea\u8981\u786e\u4fdd\u4f60\u6ca1\u5fd8\u8bb0\u5728 HTML \u8868\u5355\u4e2d\u8bbe\u7f6e enctype=\"multipart/form-data\" \u5c5e\u6027\uff0c\u4e0d\u7136\u4f60\u7684\u6d4f\u89c8\u5668\u6839\u672c\u4e0d\u4f1a\u53d1\u9001\u6587\u4ef6\u3002 \u5df2\u4e0a\u4f20\u7684\u6587\u4ef6\u5b58\u50a8\u5728\u5185\u5b58\u6216\u662f\u6587\u4ef6\u7cfb\u7edf\u4e2d\u4e00\u4e2a\u4e34\u65f6\u7684\u4f4d\u7f6e\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u8bf7\u6c42\u5bf9\u8c61\u7684 files \u5c5e\u6027\u8bbf\u95ee\u5b83\u4eec\u3002\u6bcf\u4e2a\u4e0a\u4f20\u7684\u6587\u4ef6\u90fd\u4f1a\u5b58\u50a8\u5728\u8fd9\u4e2a\u5b57\u5178\u91cc\u3002\u5b83\u8868\u73b0\u8fd1\u4e4e\u4e3a\u4e00\u4e2a\u6807\u51c6\u7684 Python file \u5bf9\u8c61\uff0c\u4f46\u5b83\u8fd8\u6709\u4e00\u4e2a save() \u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u5141\u8bb8\u4f60\u628a\u6587\u4ef6\u4fdd\u5b58\u5230\u670d\u52a1\u5668\u7684\u6587\u4ef6\u7cfb\u7edf\u4e0a\u3002\u8fd9\u91cc\u662f\u4e00\u4e2a\u7528\u5b83\u4fdd\u5b58\u6587\u4ef6\u7684\u4f8b\u5b50: from flask import request @app . route ( '/upload' , methods = [ 'GET' , 'POST' ]) def upload_file (): if request . method == 'POST' : f = request . files [ 'the_file' ] f . save ( '/var/www/uploads/uploaded_file.txt' ) ... \u5982\u679c\u4f60\u60f3\u77e5\u9053\u4e0a\u4f20\u524d\u6587\u4ef6\u5728\u5ba2\u6237\u7aef\u7684\u6587\u4ef6\u540d\u662f\u4ec0\u4e48\uff0c\u4f60\u53ef\u4ee5\u8bbf\u95ee filename \u5c5e\u6027\u3002\u4f46\u8bf7\u8bb0\u4f4f\uff0c \u6c38\u8fdc\u4e0d\u8981\u4fe1\u4efb\u8fd9\u4e2a\u503c\uff0c\u8fd9\u4e2a\u503c\u662f\u53ef\u4ee5\u4f2a\u9020\u7684\u3002\u5982\u679c\u4f60\u8981\u628a\u6587\u4ef6\u6309\u5ba2\u6237\u7aef\u63d0\u4f9b\u7684\u6587\u4ef6\u540d\u5b58\u50a8\u5728\u670d\u52a1\u5668\u4e0a\uff0c\u90a3\u4e48\u8bf7\u628a\u5b83\u4f20\u9012\u7ed9 Werkzeug \u63d0\u4f9b\u7684 secure_filename() \u51fd\u6570: from flask import request from werkzeug import secure_filename @app . route ( '/upload' , methods = [ 'GET' , 'POST' ]) def upload_file (): if request . method == 'POST' : f = request . files [ 'the_file' ] f . save ( '/var/www/uploads/' + secure_filename ( f . filename )) ... Cookies \u00b6 \u4f60\u53ef\u4ee5\u901a\u8fc7 cookies \u5c5e\u6027\u6765\u8bbf\u95ee Cookies\uff0c\u7528\u54cd\u5e94\u5bf9\u8c61\u7684 set_cookie \u65b9\u6cd5\u6765\u8bbe\u7f6e Cookies\u3002\u8bf7\u6c42\u5bf9\u8c61\u7684 cookies \u5c5e\u6027\u662f\u4e00\u4e2a\u5185\u5bb9\u4e3a\u5ba2\u6237\u7aef\u63d0\u4ea4\u7684\u6240\u6709 Cookies \u7684\u5b57\u5178\u3002\u5982\u679c\u4f60\u60f3\u4f7f\u7528\u4f1a\u8bdd\uff0c\u8bf7\u4e0d\u8981\u76f4\u63a5\u4f7f\u7528 Cookies\uff0c\u8bf7\u53c2\u8003 \u4f1a\u8bdd \u4e00\u8282\u3002\u5728 Flask \u4e2d\uff0c\u5df2\u7ecf\u6ce8\u610f\u5904\u7406\u4e86\u4e00\u4e9b Cookies \u5b89\u5168\u7ec6\u8282\u3002 \u8bfb\u53d6 cookies: from flask import request @app . route ( '/' ) def index (): username = request . cookies . get ( 'username' ) # use cookies.get(key) instead of cookies[key] to not get a # KeyError if the cookie is missing. \u5b58\u50a8 cookies: from flask import make_response @app . route ( '/' ) def index (): resp = make_response ( render_template ( ... )) resp . set_cookie ( 'username' , 'the username' ) return resp \u53ef\u6ce8\u610f\u5230\u7684\u662f\uff0cCookies \u662f\u8bbe\u7f6e\u5728\u54cd\u5e94\u5bf9\u8c61\u4e0a\u7684\u3002\u7531\u4e8e\u901a\u5e38\u89c6\u56fe\u51fd\u6570\u53ea\u662f\u8fd4\u56de\u5b57\u7b26\u4e32\uff0c\u4e4b\u540e Flask \u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u54cd\u5e94\u5bf9\u8c61\u3002\u5982\u679c\u4f60\u8981\u663e\u5f0f\u5730\u8f6c\u6362\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 make_response() \u51fd\u6570\u7136\u540e\u518d\u8fdb\u884c\u4fee\u6539\u3002 \u6709\u65f6\u5019\u4f60\u60f3\u8bbe\u7f6e Cookie\uff0c\u4f46\u54cd\u5e94\u5bf9\u8c61\u4e0d\u80fd\u918b\u5728\u3002\u8fd9\u53ef\u4ee5\u5229\u7528 \u5ef6\u8fdf\u8bf7\u6c42\u56de\u8c03 \u6a21\u5f0f\u5b9e\u73b0\u3002 \u4e3a\u6b64\uff0c\u4e5f\u53ef\u4ee5\u9605\u8bfb \u5173\u4e8e\u54cd\u5e94 \u3002 \u91cd\u5b9a\u5411\u548c\u9519\u8bef \u00b6 \u4f60\u53ef\u4ee5\u7528 redirect() \u51fd\u6570\u628a\u7528\u6237\u91cd\u5b9a\u5411\u5230\u5176\u5b83\u5730\u65b9\u3002\u653e\u5f03\u8bf7\u6c42\u5e76\u8fd4\u56de\u9519\u8bef\u4ee3\u7801\uff0c\u7528 abort() \u51fd\u6570\u3002\u8fd9\u91cc\u662f\u4e00\u4e2a\u5b83\u4eec\u5982\u4f55\u4f7f\u7528\u7684\u4f8b\u5b50: from flask import abort , redirect , url_for @app . route ( '/' ) def index (): return redirect ( url_for ( 'login' )) @app . route ( '/login' ) def login (): abort ( 401 ) this_is_never_executed () \u8fd9\u662f\u4e00\u4e2a\u76f8\u5f53\u65e0\u610f\u4e49\u7684\u4f8b\u5b50\u56e0\u4e3a\u7528\u6237\u4f1a\u4ece\u4e3b\u9875\u91cd\u5b9a\u5411\u5230\u4e00\u4e2a\u4e0d\u80fd\u8bbf\u95ee\u7684\u9875\u9762 \uff08401 \u610f\u5473\u7740\u7981\u6b62\u8bbf\u95ee\uff09\uff0c\u4f46\u662f\u5b83\u5c55\u793a\u4e86\u91cd\u5b9a\u5411\u662f\u5982\u4f55\u5de5\u4f5c\u7684\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u9519\u8bef\u4ee3\u7801\u4f1a\u663e\u793a\u4e00\u4e2a\u9ed1\u767d\u7684\u9519\u8bef\u9875\u9762\u3002\u5982\u679c\u4f60\u8981\u5b9a\u5236\u9519\u8bef\u9875\u9762\uff0c \u53ef\u4ee5\u4f7f\u7528 errorhandler() \u88c5\u9970\u5668: from flask import render_template @app . errorhandler ( 404 ) def page_not_found ( error ): return render_template ( 'page_not_found.html' ), 404 \u6ce8\u610f render_template() \u8c03\u7528\u4e4b\u540e\u7684 404 \u3002\u8fd9\u544a\u8bc9 Flask\uff0c\u8be5\u9875\u7684\u9519\u8bef\u4ee3\u7801\u662f 404 \uff0c\u5373\u6ca1\u6709\u627e\u5230\u3002\u9ed8\u8ba4\u4e3a 200\uff0c\u4e5f\u5c31\u662f\u4e00\u5207\u6b63\u5e38\u3002 \u5173\u4e8e\u54cd\u5e94 \u00b6 \u89c6\u56fe\u51fd\u6570\u7684\u8fd4\u56de\u503c\u4f1a\u88ab\u81ea\u52a8\u8f6c\u6362\u4e3a\u4e00\u4e2a\u54cd\u5e94\u5bf9\u8c61\u3002\u5982\u679c\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c \u5b83\u88ab\u8f6c\u6362\u4e3a\u8be5\u5b57\u7b26\u4e32\u4e3a\u4e3b\u4f53\u7684\u3001\u72b6\u6001\u7801\u4e3a 200 OK``\u7684 \u3001 MIME \u7c7b\u578b\u662f ``text/html \u7684\u54cd\u5e94\u5bf9\u8c61\u3002Flask \u628a\u8fd4\u56de\u503c\u8f6c\u6362\u4e3a\u54cd\u5e94\u5bf9\u8c61\u7684\u903b\u8f91\u662f\u8fd9\u6837\uff1a \u5982\u679c\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5408\u6cd5\u7684\u54cd\u5e94\u5bf9\u8c61\uff0c\u5b83\u4f1a\u4ece\u89c6\u56fe\u76f4\u63a5\u8fd4\u56de\u3002 \u5982\u679c\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u54cd\u5e94\u5bf9\u8c61\u4f1a\u7528\u5b57\u7b26\u4e32\u6570\u636e\u548c\u9ed8\u8ba4\u53c2\u6570\u521b\u5efa\u3002 \u5982\u679c\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5143\u7ec4\uff0c\u4e14\u5143\u7ec4\u4e2d\u7684\u5143\u7d20\u53ef\u4ee5\u63d0\u4f9b\u989d\u5916\u7684\u4fe1\u606f\u3002\u8fd9\u6837\u7684\u5143\u7ec4\u5fc5\u987b\u662f (response, status, headers) \u7684\u5f62\u5f0f\uff0c\u4e14\u81f3\u5c11\u5305\u542b\u4e00\u4e2a\u5143\u7d20\u3002 status \u503c\u4f1a\u8986\u76d6\u72b6\u6001\u4ee3\u7801\uff0c headers \u53ef\u4ee5\u662f\u4e00\u4e2a\u5217\u8868\u6216\u5b57\u5178\uff0c\u4f5c\u4e3a\u989d\u5916\u7684\u6d88\u606f\u6807\u5934\u503c\u3002 \u5982\u679c\u4e0a\u8ff0\u6761\u4ef6\u5747\u4e0d\u6ee1\u8db3\uff0c Flask \u4f1a\u5047\u8bbe\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u5408\u6cd5\u7684 WSGI \u5e94\u7528\u7a0b\u5e8f\uff0c\u5e76\u8f6c\u6362\u4e3a\u4e00\u4e2a\u8bf7\u6c42\u5bf9\u8c61\u3002 \u5982\u679c\u4f60\u60f3\u5728\u89c6\u56fe\u91cc\u64cd\u7eb5\u4e0a\u8ff0\u6b65\u9aa4\u7ed3\u679c\u7684\u54cd\u5e94\u5bf9\u8c61\uff0c\u53ef\u4ee5\u4f7f\u7528 make_response() \u51fd\u6570\u3002 \u8b6c\u5982\u4f60\u6709\u8fd9\u6837\u4e00\u4e2a\u89c6\u56fe: @app . errorhandler ( 404 ) def not_found ( error ): return render_template ( 'error.html' ), 404 \u4f60\u53ea\u9700\u8981\u628a\u8fd4\u56de\u503c\u8868\u8fbe\u5f0f\u4f20\u9012\u7ed9 make_response() \uff0c\u83b7\u53d6\u7ed3\u679c\u5bf9\u8c61\u5e76\u4fee\u6539\uff0c\u7136\u540e\u518d\u8fd4\u56de\u5b83: @app . errorhandler ( 404 ) def not_found ( error ): resp = make_response ( render_template ( 'error.html' ), 404 ) resp . headers [ 'X-Something' ] = 'A value' return resp \u4f1a\u8bdd \u00b6 \u9664\u8bf7\u6c42\u5bf9\u8c61\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u4e2a session \u5bf9\u8c61\u3002\u5b83\u5141\u8bb8\u4f60\u5728\u4e0d\u540c\u8bf7\u6c42\u95f4\u5b58\u50a8\u7279\u5b9a\u7528\u6237\u7684\u4fe1\u606f\u3002\u5b83\u662f\u5728 Cookies \u7684\u57fa\u7840\u4e0a\u5b9e\u73b0\u7684\uff0c\u5e76\u4e14\u5bf9 Cookies \u8fdb\u884c\u5bc6\u94a5\u7b7e\u540d\u3002\u8fd9\u610f\u5473\u7740\u7528\u6237\u53ef\u4ee5\u67e5\u770b\u4f60 Cookie \u7684\u5185\u5bb9\uff0c\u4f46\u5374\u4e0d\u80fd\u4fee\u6539\u5b83\uff0c\u9664\u975e\u7528\u6237\u77e5\u9053\u7b7e\u540d\u7684\u5bc6\u94a5\u3002 \u8981\u4f7f\u7528\u4f1a\u8bdd\uff0c\u4f60\u9700\u8981\u8bbe\u7f6e\u4e00\u4e2a\u5bc6\u94a5\u3002\u8fd9\u91cc\u4ecb\u7ecd\u4f1a\u8bdd\u5982\u4f55\u5de5\u4f5c: from flask import Flask , session , redirect , url_for , escape , request app = Flask ( __name__ ) @app . route ( '/' ) def index (): if 'username' in session : return 'Logged in as %s ' % escape ( session [ 'username' ]) return 'You are not logged in' @app . route ( '/login' , methods = [ 'GET' , 'POST' ]) def login (): if request . method == 'POST' : session [ 'username' ] = request . form [ 'username' ] return redirect ( url_for ( 'index' )) return ''' <form action=\"\" method=\"post\"> <p><input type=text name=username> <p><input type=submit value=Login> </form> ''' @app . route ( '/logout' ) def logout (): # remove the username from the session if it's there session . pop ( 'username' , None ) return redirect ( url_for ( 'index' )) # set the secret key. keep this really secret: app . secret_key = 'A0Zr98j/3yX R~XHH!jmN]LWX/,?RT' \u8fd9\u91cc\u63d0\u5230\u7684 escape() \u53ef\u4ee5\u5728\u4f60\u6a21\u677f\u5f15\u64ce\u5916\u505a\u8f6c\u4e49\uff08\u5982\u540c\u672c\u4f8b\uff09\u3002 \u5982\u4f55\u751f\u6210\u5f3a\u58ee\u7684\u5bc6\u94a5 \u968f\u673a\u7684\u95ee\u9898\u5728\u4e8e\u5f88\u96be\u5224\u65ad\u4ec0\u4e48\u662f\u771f\u968f\u673a\u3002\u4e00\u4e2a\u5bc6\u94a5\u5e94\u8be5\u8db3\u591f\u968f\u673a\u3002\u4f60\u7684\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u57fa\u4e8e\u4e00\u4e2a\u5bc6\u94a5\u968f\u673a\u751f\u6210\u5668\u6765\u751f\u6210\u6f02\u4eae\u7684\u968f\u673a\u503c\uff0c\u8fd9\u4e2a\u503c\u53ef\u4ee5\u7528\u6765\u505a\u5bc6\u94a5: >>> import os >>> os . urandom ( 24 ) ' \\xfd {H \\xe5 < \\x95\\xf9\\xe3\\x96 .5 \\xd1\\x01 O<! \\xd5\\xa2\\xa0\\x9f R\" \\xa1\\xa8 ' \u628a\u8fd9\u4e2a\u503c\u590d\u5236\u7c98\u8d34\u8fdb\u4f60\u7684\u4ee3\u7801\u4e2d\uff0c\u4f60\u5c31\u6709\u4e86\u5bc6\u94a5\u3002 \u4f7f\u7528\u57fa\u4e8e cookie \u7684\u4f1a\u8bdd\u9700\u6ce8\u610f: Flask \u4f1a\u5c06\u4f60\u653e\u8fdb\u4f1a\u8bdd\u5bf9\u8c61\u7684\u503c\u5e8f\u5217\u5316\u81f3 Cookies\u3002\u5982\u679c\u4f60\u53d1\u73b0\u67d0\u4e9b\u503c\u5728\u8bf7\u6c42\u4e4b\u95f4\u5e76\u6ca1\u6709\u6301\u4e45\u5b58\u5728\uff0c\u7136\u800c\u786e\u5b9e\u5df2\u7ecf\u542f\u7528\u4e86 Cookies\uff0c\u4f46\u4e5f\u6ca1\u6709\u5f97\u5230\u660e\u786e\u7684\u9519\u8bef\u4fe1\u606f\u3002\u8fd9\u65f6\uff0c\u8bf7\u68c0\u67e5\u4f60\u7684\u9875\u9762\u54cd\u5e94\u4e2d\u7684 Cookies \u7684\u5927\u5c0f\uff0c\u5e76\u4e0e Web \u6d4f\u89c8\u5668\u6240\u652f\u6301\u7684\u5927\u5c0f\u5bf9\u6bd4\u3002 \u6d88\u606f\u95ea\u73b0 \u00b6 \u53cd\u9988\uff0c\u662f\u826f\u597d\u7684\u5e94\u7528\u548c\u7528\u6237\u754c\u9762\u7684\u91cd\u8981\u6784\u6210\u3002\u5982\u679c\u7528\u6237\u5f97\u4e0d\u5230\u8db3\u591f\u7684\u53cd\u9988\uff0c\u4ed6\u4eec\u5f88\u53ef\u80fd\u5f00\u59cb\u538c\u6076\u8fd9\u4e2a\u5e94\u7528\u3002 Flask \u63d0\u4f9b\u4e86\u6d88\u606f\u95ea\u73b0\u7cfb\u7edf\uff0c\u53ef\u4ee5\u7b80\u5355\u5730\u7ed9\u7528\u6237\u53cd\u9988\u3002 \u6d88\u606f\u95ea\u73b0\u7cfb\u7edf\u901a\u5e38\u4f1a\u5728\u8bf7\u6c42\u7ed3\u675f\u65f6\u8bb0\u5f55\u4fe1\u606f\uff0c\u5e76\u5728\u4e0b\u4e00\u4e2a\uff08\u4e14\u4ec5\u5728\u4e0b\u4e00\u4e2a\uff09\u8bf7\u6c42\u4e2d\u8bbf\u95ee\u8bb0\u5f55\u7684\u4fe1\u606f\u3002\u5c55\u73b0\u8fd9\u4e9b\u6d88\u606f\u901a\u5e38\u7ed3\u5408\u8981\u6a21\u677f\u5e03\u5c40\u3002 \u4f7f\u7528 flash() \u65b9\u6cd5\u53ef\u4ee5\u95ea\u73b0\u4e00\u6761\u6d88\u606f\u3002\u8981\u64cd\u4f5c\u6d88\u606f\u672c\u8eab\uff0c\u8bf7\u4f7f\u7528 get_flashed_messages() \u51fd\u6570\uff0c\u5e76\u4e14\u5728\u6a21\u677f\u4e2d\u4e5f\u53ef\u4ee5\u4f7f\u7528\u3002\u5b8c\u6574\u7684\u4f8b\u5b50\u89c1 \u6d88\u606f\u95ea\u73b0 \u90e8\u5206\u3002 \u65e5\u5fd7\u8bb0\u5f55 \u00b6 0.3 \u65b0\u7248\u529f\u80fd. \u6709\u65f6\u5019\u4f60\u4f1a\u5904\u4e8e\u8fd9\u6837\u4e00\u79cd\u5883\u5730\uff0c\u4f60\u5904\u7406\u7684\u6570\u636e\u672c\u5e94\u8be5\u662f\u6b63\u786e\u7684\uff0c\u4f46\u5b9e\u9645\u4e0a\u4e0d\u662f\u3002 \u6bd4\u5982\uff0c\u4f60\u4f1a\u6709\u4e00\u4e9b\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u7684\u5ba2\u6237\u7aef\u4ee3\u7801\uff0c\u4f46\u8bf7\u6c42\u663e\u7136\u662f\u7578\u5f62\u7684\u3002\u8fd9\u53ef\u80fd\u662f\u7528\u6237\u7be1\u6539\u4e86\u6570\u636e\uff0c\u6216\u662f\u5ba2\u6237\u7aef\u4ee3\u7801\u7684\u7c97\u5236\u6ee5\u9020\u3002\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6b63\u5e38\u5730\u8fd4\u56de 400 Bad Request \u5c31\u53ef\u4ee5\u4e86\uff0c\u4f46\u662f\u6709\u65f6\u5019\u4e0d\u80fd\u8fd9\u4e48\u505a\uff0c\u5e76\u4e14\u8981\u8ba9\u4ee3\u7801\u7ee7\u7eed\u8fd0\u884c\u3002 \u4f60\u53ef\u80fd\u4f9d\u7136\u60f3\u8981\u8bb0\u5f55\u4e0b\uff0c\u662f\u4ec0\u4e48\u4e0d\u5bf9\u52b2\u3002\u8fd9\u65f6\u65e5\u5fd7\u8bb0\u5f55\u5c31\u6d3e\u4e0a\u4e86\u7528\u573a\u3002\u4ece Flask 0.3 \u5f00\u59cb\uff0cFlask \u5c31\u5df2\u7ecf\u9884\u7f6e\u4e86\u65e5\u5fd7\u7cfb\u7edf\u3002 \u8fd9\u91cc\u6709\u4e00\u4e9b\u8c03\u7528\u65e5\u5fd7\u8bb0\u5f55\u7684\u4f8b\u5b50: app . logger . debug ( 'A value for debugging' ) app . logger . warning ( 'A warning occurred ( %d apples)' , 42 ) app . logger . error ( 'An error occurred' ) \u9644\u5e26\u7684 logger \u662f\u4e00\u4e2a\u6807\u51c6\u65e5\u5fd7\u7c7b Logger \uff0c\u6240\u4ee5\u66f4\u591a\u4fe1\u606f\u8bf7\u67e5\u9605 logging \u7684\u6587\u6863 \u3002 \u6574\u5408 WSGI \u4e2d\u95f4\u4ef6 \u00b6 \u5982\u679c\u4f60\u60f3\u7ed9\u4f60\u7684\u5e94\u7528\u6dfb\u52a0 WSGI \u4e2d\u95f4\u4ef6\uff0c\u4f60\u53ef\u4ee5\u5c01\u88c5\u5185\u90e8 WSGI \u5e94\u7528\u3002\u4f8b\u5982\u82e5\u662f\u4f60\u60f3\u7528 Werkzeug \u5305\u4e2d\u7684\u67d0\u4e2a\u4e2d\u95f4\u4ef6\u6765\u5e94\u4ed8 lighttpd \u4e2d\u7684 bugs \uff0c\u53ef\u4ee5\u8fd9\u6837\u505a: from werkzeug.contrib.fixers import LighttpdCGIRootFix app . wsgi_app = LighttpdCGIRootFix ( app . wsgi_app ) \u90e8\u7f72\u5230 Web \u670d\u52a1\u5668 \u00b6 \u51c6\u5907\u597d\u90e8\u7f72\u4f60\u7684 Flask \u5e94\u7528\u4e86\uff1f\u4f60\u53ef\u4ee5\u7acb\u5373\u90e8\u7f72\u5230\u6258\u7ba1\u5e73\u53f0\u6765\u5706\u6ee1\u5b8c\u6210\u5feb\u901f\u5165\u95e8\uff0c\u4ee5\u4e0b\u5382\u5546\u5747\u5411\u5c0f\u9879\u76ee\u63d0\u4f9b\u514d\u8d39\u7684\u65b9\u6848: \u5728 Heroku \u4e0a\u90e8\u7f72 Flask \u5728 dotCloud \u4e0a\u90e8\u7f72 Flask \u9644 Flask \u7684\u5177\u4f53\u8bf4\u660e \u6258\u7ba1 Flask \u5e94\u7528\u7684\u5176\u5b83\u9009\u62e9: \u5728 Webfaction \u4e0a\u90e8\u7f72 Flask \u5728 Google App Engine \u4e0a\u90e8\u7f72 Flask \u7528 Localtunnel \u5171\u4eab\u4f60\u7684\u672c\u5730\u670d\u52a1\u5668 \u5982\u679c\u4f60\u6709\u81ea\u5df1\u7684\u4e3b\u673a\uff0c\u5e76\u4e14\u51c6\u5907\u81ea\u5df1\u6258\u7ba1\uff0c\u53c2\u89c1 \u90e8\u7f72\u9009\u62e9 \u7ae0\u8282\u3002","title":"flask\u5feb\u901f\u5f00\u59cb.md"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#flask","text":"","title":"Flask \u4ecb\u7ecd"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#_1","text":"Flask \u4f9d\u8d56\u4e24\u4e2a\u5916\u90e8\u5e93\uff1a Werkzeug \u548c Jinja2 \u3002 Werkzeug \u662f\u4e00\u4e2a WSGI\uff08\u5728 Web \u5e94\u7528\u548c\u591a\u79cd\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u6807\u51c6 Python \u63a5\u53e3) \u5de5\u5177\u96c6\u3002Jinja2 \u8d1f\u8d23\u6e32\u67d3\u6a21\u677f\u3002\u4f60\u9996\u5148\u9700\u8981 Python 2.6 \u6216\u66f4\u9ad8\u7684\u7248\u672c\uff0c\u6240\u4ee5\u8bf7\u786e\u8ba4\u6709\u4e00\u4e2a\u6700\u65b0\u7684 Python 2.x \u5b89\u88c5\u3002 \u5728 Python 3 \u4e2d\u4f7f\u7528 Flask \u8bf7\u53c2\u8003\uff1a Python 3 \u652f\u6301 \u3002","title":"\u4ecb\u7ecd"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#virtualenv","text":"\u4f60\u5f88\u53ef\u80fd\u60f3\u5728\u5f00\u53d1\u4e2d\u7528\u4e0a virtualenv\uff0c\u5982\u679c\u4f60\u6709\u751f\u4ea7\u73af\u5883\u7684 shell \u6743\u9650\uff0c\u4f60\u540c\u6837\u4f1a\u4e50\u4e8e\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u5b83\u3002 virtualenv \u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898\uff1f\u5982\u679c\u4f60\u50cf\u6211\u4e00\u6837\u559c\u6b22 Python\uff0c\u4e0d\u4ec5\u4f1a\u5728\u91c7\u7528 Flask \u7684Web \u5e94\u7528\u4e2d\u7528\u4e0a virtualenv\uff0c\u5728\u522b\u7684\u9879\u76ee\u4e2d\u4f60\u4e5f\u4f1a\u60f3\u7528\u4e0a\u5b83\u3002\u4f60\u62e5\u6709\u7684\u9879\u76ee\u8d8a\u591a\uff0c\u540c\u65f6\u4f7f\u7528\u4e0d\u540c\u7248\u672c\u7684 Python \u5de5\u4f5c\u7684\u53ef\u80fd\u6027\u4e5f\u5c31\u8d8a\u5927\uff0c\u6216\u8005\u8d77\u7801\u9700\u8981\u4e0d\u540c\u7248\u672c\u7684 Python \u5e93\u3002\u60b2\u60e8\u73b0\u5b9e\u662f\uff1a\u5e38\u5e38\u4f1a\u6709\u5e93\u7834\u574f\u5411\u540e\u517c\u5bb9\u6027\uff0c\u7136\u800c\u6b63\u7ecf\u5e94\u7528\u4e0d\u91c7\u7528\u5916\u90e8\u5e93\u7684\u53ef\u80fd\u5fae\u4e4e\u5176\u5fae\u3002\u5f53\u5728\u4f60\u7684\u9879\u76ee\u4e2d\uff0c\u51fa\u73b0\u4e24\u4e2a\u6216\u66f4\u591a\u4f9d\u8d56\u6027\u51b2\u7a81\u65f6\uff0c\u4f60\u4f1a\u600e\u4e48\u505a\uff1f virtualenv \u62ef\u6551\u4e16\u754c\uff01virtualenv \u4e3a\u6bcf\u4e2a\u4e0d\u540c\u9879\u76ee\u63d0\u4f9b\u4e00\u4efd Python \u5b89\u88c5\u3002\u5b83\u5e76\u6ca1\u6709\u771f\u6b63\u5b89\u88c5\u591a\u4e2a Python \u526f\u672c\uff0c\u4f46\u662f\u5b83\u786e\u5b9e\u63d0\u4f9b\u4e86\u4e00\u79cd\u5de7\u5999\u7684\u65b9\u5f0f\u6765\u8ba9\u5404\u9879\u76ee\u73af\u5883\u4fdd\u6301\u72ec\u7acb\u3002\u8ba9\u6211\u4eec\u6765\u770b\u770b virtualenv \u662f\u600e\u4e48\u5de5\u4f5c\u7684\u3002 \u5982\u679c\u4f60\u5728 Mac OS X \u6216 Linux \u4e0b\uff0c\u4e0b\u9762\u4e24\u6761\u547d\u4ee4\u53ef\u80fd\u4f1a\u9002\u7528: $ sudo easy_install virtualenv $ sudo pip install virtualenv \u4e0a\u8ff0\u7684\u547d\u4ee4\u4f1a\u5728\u4f60\u7684\u7cfb\u7edf\u4e2d\u5b89\u88c5 virtualenv\u3002\u5b83\u751a\u81f3\u53ef\u80fd\u4f1a\u5b58\u5728\u4e8e\u5305\u7ba1\u7406\u5668\u4e2d\u3002 virtualenv \u5b89\u88c5\u5b8c\u6bd5\u540e\uff0c\u4f60\u53ef\u4ee5\u7acb\u5373\u6253\u5f00 shell \u7136\u540e\u521b\u5efa\u4f60\u81ea\u5df1\u7684\u73af\u5883\u3002\u6211\u901a\u5e38\u521b\u5efa\u4e00\u4e2a\u9879\u76ee\u6587\u4ef6\u5939\uff0c\u5e76\u5728\u5176\u4e0b\u521b\u5efa\u4e00\u4e2a venv \u6587\u4ef6\u5939 $ mkdir myproject $ cd myproject $ virtualenv venv New python executable in venv/bin/python Installing distribute............done. \u73b0\u5728\uff0c\u65e0\u8bba\u4f55\u65f6\u4f60\u60f3\u5728\u67d0\u4e2a\u9879\u76ee\u4e0a\u5de5\u4f5c\uff0c\u53ea\u9700\u8981\u6fc0\u6d3b\u76f8\u5e94\u7684\u73af\u5883\u3002\u5728 OS X \u548c Linux \u4e0a\uff0c\u6267\u884c\u5982\u4e0b\u64cd\u4f5c: $ . venv/bin/activate \u65e0\u8bba\u901a\u8fc7\u54ea\u79cd\u65b9\u5f0f\uff0c\u4f60\u73b0\u5728\u5e94\u8be5\u5df2\u7ecf\u6fc0\u6d3b\u4e86 virtualenv\uff08\u6ce8\u610f\u4f60\u7684 shell \u63d0\u793a\u7b26\u663e\u793a\u7684\u662f\u5f53\u524d\u6d3b\u52a8\u7684\u73af\u5883\uff09\u3002 \u73b0\u5728\u4f60\u53ea\u9700\u8981\u952e\u5165\u4ee5\u4e0b\u7684\u547d\u4ee4\u6765\u6fc0\u6d3b virtualenv \u4e2d\u7684 Flask: $ pip install Flask \u51e0\u79d2\u949f\u540e\uff0c\u4e00\u5207\u90fd\u641e\u5b9a\u4e86\u3002","title":"\u5b89\u88c5\u65b9\u6cd5\u4e00\uff1avirtualenv(\u865a\u62df\u73af\u5883\u5b89\u88c5)"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#_2","text":"\u8fd9\u6837\u4e5f\u662f\u53ef\u4ee5\u7684\uff0c\u867d\u7136\u6211\u4e0d\u63a8\u8350\u3002\u53ea\u9700\u8981\u4ee5 root \u6743\u9650\u8fd0\u884c pip\u3002\u73b0\u5728\u4ee5\u8fd9\u79cd\u6a21\u5f0f\u5b89\u88c5 flask\u3002 $ sudo pip install Flask","title":"\u5b89\u88c5\u65b9\u6cd5\u4e8c\uff1a\u5168\u5c40\u5b89\u88c5"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#_3","text":"\u4e00\u4e2a\u6700\u5c0f\u7684 Flask \u5e94\u7528\u770b\u8d77\u6765\u4f1a\u662f\u8fd9\u6837: from flask import Flask app = Flask ( __name__ ) @app . route ( '/' ) def hello_world (): return 'Hello World!' if __name__ == '__main__' : app . run () \u628a\u5b83\u4fdd\u5b58\u4e3a hello.py \uff08\u6216\u662f\u7c7b\u4f3c\u7684\uff09\uff0c\u7136\u540e\u7528 Python \u89e3\u91ca\u5668\u6765\u8fd0\u884c\u3002 \u786e\u4fdd\u4f60\u7684\u5e94\u7528\u6587\u4ef6\u540d\u4e0d\u662f flask.py \uff0c\u56e0\u4e3a\u8fd9\u5c06\u4e0e Flask \u672c\u8eab\u51b2\u7a81\u3002 python hello.py * Running on http://127.0.0.1:5000/ \u73b0\u5728\u8bbf\u95ee http://127.0.0.1:5000/ \uff0c\u4f60\u4f1a\u770b\u89c1 Hello World \u95ee\u5019\u3002\u6b32\u5173\u95ed\u670d\u52a1\u5668\uff0c\u6309 Ctrl+C\u3002 \u90a3\u4e48\uff0c\u8fd9\u6bb5\u4ee3\u7801\u505a\u4e86\u4ec0\u4e48\uff1f \u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86 Flask \u7c7b\u3002\u8fd9\u4e2a\u7c7b\u7684\u5b9e\u4f8b\u5c06\u4f1a\u662f\u6211\u4eec\u7684 WSGI \u5e94\u7528\u7a0b\u5e8f\u3002 \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u8be5\u7c7b\u7684\u5b9e\u4f8b\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5e94\u7528\u6a21\u5757\u6216\u8005\u5305\u7684\u540d\u79f0\u3002 \u5982\u679c\u4f60\u4f7f\u7528\u5355\u4e00\u7684\u6a21\u5757\uff08\u5982\u672c\u4f8b\uff09\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528 name \uff0c\u56e0\u4e3a\u6a21\u5757\u7684\u540d\u79f0\u5c06\u4f1a\u56e0\u5176\u4f5c\u4e3a\u5355\u72ec\u5e94\u7528\u542f\u52a8\u8fd8\u662f\u4f5c\u4e3a\u6a21\u5757\u5bfc\u5165\u800c\u6709\u4e0d\u540c\uff08 \u4e5f\u5373\u662f '__main__' \u6216\u5b9e\u9645\u7684\u5bfc\u5165\u540d\uff09\u3002\u8fd9\u662f\u5fc5\u987b\u7684\uff0c\u8fd9\u6837 Flask \u624d\u77e5\u9053\u5230\u54ea\u53bb\u627e\u6a21\u677f\u3001\u9759\u6001\u6587\u4ef6\u7b49\u7b49\u3002\u8be6\u60c5\u89c1 Flask \u7684\u6587\u6863\u3002 \u7136\u540e\uff0c\u6211\u4eec\u4f7f\u7528 route() \u88c5\u9970\u5668\u544a\u8bc9 Flask \u4ec0\u4e48\u6837\u7684URL \u80fd\u89e6\u53d1\u6211\u4eec\u7684\u51fd\u6570\u3002 \u8fd9\u4e2a\u51fd\u6570\u7684\u540d\u5b57\u4e5f\u5728\u751f\u6210 URL \u65f6\u88ab\u7279\u5b9a\u7684\u51fd\u6570\u91c7\u7528\uff0c\u8fd9\u4e2a\u51fd\u6570\u8fd4\u56de\u6211\u4eec\u60f3\u8981\u663e\u793a\u5728\u7528\u6237\u6d4f\u89c8\u5668\u4e2d\u7684\u4fe1\u606f\u3002 \u6700\u540e\u6211\u4eec\u7528 run() \u51fd\u6570\u6765\u8ba9\u5e94\u7528\u8fd0\u884c\u5728\u672c\u5730\u670d\u52a1\u5668\u4e0a\u3002 \u5176\u4e2d if __name__ =='__main__': \u786e\u4fdd\u670d\u52a1\u5668\u53ea\u4f1a\u5728\u8be5\u811a\u672c\u88ab Python \u89e3\u91ca\u5668\u76f4\u63a5\u6267\u884c\u7684\u65f6\u5019\u624d\u4f1a\u8fd0\u884c\uff0c\u800c\u4e0d\u662f\u4f5c\u4e3a\u6a21\u5757\u5bfc\u5165\u7684\u65f6\u5019\u3002 \u5916\u90e8\u53ef\u8bbf\u95ee\u7684\u670d\u52a1\u5668 \u5982\u679c\u4f60\u8fd0\u884c\u4e86\u8fd9\u4e2a\u670d\u52a1\u5668\uff0c\u4f60\u4f1a\u53d1\u73b0\u5b83\u53ea\u80fd\u4ece\u4f60\u81ea\u5df1\u7684\u8ba1\u7b97\u673a\u4e0a\u8bbf\u95ee\uff0c\u7f51\u7edc\u4e2d\u5176\u5b83\u4efb\u4f55\u7684\u5730\u65b9\u90fd\u4e0d\u80fd\u8bbf\u95ee\u3002\u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u4f60\u7684\u8ba1\u7b97\u673a\u4e0a\u6267\u884c\u4efb\u610f Python \u4ee3\u7801\u3002\u56e0\u6b64\uff0c\u8fd9\u4e2a\u884c\u4e3a\u662f\u9ed8\u8ba4\u7684\u3002 \u5982\u679c\u4f60\u7981\u7528\u4e86 debug \u6216\u4fe1\u4efb\u4f60\u6240\u5728\u7f51\u7edc\u7684\u7528\u6237\uff0c\u4f60\u53ef\u4ee5\u7b80\u5355\u4fee\u6539\u8c03\u7528 run() \u7684\u65b9\u6cd5\u4f7f\u4f60\u7684\u670d\u52a1\u5668\u516c\u5f00\u53ef\u7528\uff0c\u5982\u4e0b: app.run(host='0.0.0.0') \u8fd9\u4f1a\u8ba9\u64cd\u4f5c\u7cfb\u7edf\u76d1\u542c\u6240\u6709\u516c\u7f51 IP\u3002","title":"\u57fa\u672c\u4f7f\u7528"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#_4","text":"\u867d\u7136 run() \u65b9\u6cd5\u9002\u7528\u4e8e\u542f\u52a8\u672c\u5730\u7684\u5f00\u53d1\u670d\u52a1\u5668\uff0c\u4f46\u662f\u4f60\u6bcf\u6b21\u4fee\u6539\u4ee3\u7801\u540e\u90fd\u8981\u624b\u52a8\u91cd\u542f\u5b83\u3002\u8fd9\u6837\u5e76\u4e0d\u591f\u4f18\u96c5\uff0c\u800c\u4e14 Flask \u53ef\u4ee5\u505a\u5230\u66f4\u597d\u3002\u5982\u679c\u4f60\u542f\u7528\u4e86\u8c03\u8bd5\u652f\u6301\uff0c\u670d\u52a1\u5668\u4f1a\u5728\u4ee3\u7801\u4fee\u6539\u540e\u81ea\u52a8\u91cd\u65b0\u8f7d\u5165\uff0c\u5e76\u5728\u53d1\u751f\u9519\u8bef\u65f6\u63d0\u4f9b\u4e00\u4e2a\u76f8\u5f53\u6709\u7528\u7684\u8c03\u8bd5\u5668\u3002 \u6709\u4e24\u79cd\u9014\u5f84\u6765\u542f\u7528\u8c03\u8bd5\u6a21\u5f0f\u3002\u4e00\u79cd\u662f\u76f4\u63a5\u5728\u5e94\u7528\u5bf9\u8c61\u4e0a\u8bbe\u7f6e: app . debug = True app . run () \u53e6\u4e00\u79cd\u662f\u4f5c\u4e3a run \u65b9\u6cd5\u7684\u4e00\u4e2a\u53c2\u6570\u4f20\u5165: app.run(debug=True) \u4e24\u79cd\u65b9\u6cd5\u7684\u6548\u679c\u5b8c\u5168\u76f8\u540c\u3002 \u6ce8\u610f \u5c3d\u7ba1\u4ea4\u4e92\u5f0f\u8c03\u8bd5\u5668\u5728\u5141\u8bb8 fork \u7684\u73af\u5883\u4e2d\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528\uff08\u4e5f\u5373\u5728\u751f\u4ea7\u670d\u52a1\u5668\u4e0a\u6b63\u5e38\u4f7f\u7528\u51e0\u4e4e\u662f\u4e0d\u53ef\u80fd\u7684\uff09\uff0c\u4f46\u5b83\u4f9d\u7136\u5141\u8bb8\u6267\u884c\u4efb\u610f\u4ee3\u7801\u3002\u8fd9\u4f7f\u5b83\u6210\u4e3a\u4e00\u4e2a\u5de8\u5927\u7684\u5b89\u5168\u9690\u60a3\uff0c\u56e0\u6b64\u5b83 \u7edd\u5bf9\u4e0d\u80fd\u7528\u4e8e\u751f\u4ea7\u73af\u5883 \u3002","title":"\u8c03\u8bd5\u6a21\u5f0f"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#_5","text":"\u73b0\u4ee3 Web \u5e94\u7528\u7684 URL \u5341\u5206\u4f18\u96c5\uff0c\u6613\u4e8e\u4eba\u4eec\u8fa8\u8bc6\u8bb0\u5fc6\uff0c\u8fd9\u4e00\u70b9\u5bf9\u4e8e\u90a3\u4e9b\u9762\u5411\u4f7f\u7528\u4f4e\u901f\u7f51\u7edc\u8fde\u63a5\u79fb\u52a8\u8bbe\u5907\u8bbf\u95ee\u7684\u5e94\u7528\u7279\u522b\u6709\u7528\u3002\u5982\u679c\u53ef\u4ee5\u4e0d\u8bbf\u95ee\u7d22\u5f15\u9875\uff0c\u800c\u662f\u76f4\u63a5\u8bbf\u95ee\u60f3\u8981\u7684\u90a3\u4e2a\u9875\u9762\uff0c\u4ed6\u4eec\u591a\u534a\u4f1a\u7b11\u9010\u989c\u5f00\u800c\u518d\u5ea6\u5149\u987e\u3002 \u5982\u4e0a\u6240\u89c1\uff0c route() \u88c5\u9970\u5668\u628a\u4e00\u4e2a\u51fd\u6570\u7ed1\u5b9a\u5230\u5bf9\u5e94\u7684 URL \u4e0a\u3002\u4f46\u662f\uff0c\u4e0d\u4ec5\u5982\u6b64\uff01\u4f60\u53ef\u4ee5\u6784\u9020\u542b\u6709\u52a8\u6001\u90e8\u5206\u7684 URL\uff0c\u4e5f\u53ef\u4ee5\u5728\u4e00\u4e2a\u51fd\u6570\u4e0a\u9644\u7740\u591a\u4e2a\u89c4\u5219\u3002 \u8fd9\u91cc\u662f\u4e00\u4e9b\u57fa\u672c\u7684\u4f8b\u5b50: @app . route ( '/' ) def index (): return 'Index Page' @app . route ( '/hello' ) def hello (): return 'Hello World'","title":"\u8def\u7531"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#url","text":"\u8981\u7ed9 URL \u6dfb\u52a0\u53d8\u91cf\u90e8\u5206\uff0c\u4f60\u53ef\u4ee5\u628a\u8fd9\u4e9b\u7279\u6b8a\u7684\u5b57\u6bb5\u6807\u8bb0\u4e3a <variable_name> \uff0c \u8fd9\u4e2a\u90e8\u5206\u5c06\u4f1a\u4f5c\u4e3a\u547d\u540d\u53c2\u6570\u4f20\u9012\u5230\u4f60\u7684\u51fd\u6570\u3002\u89c4\u5219\u53ef\u4ee5\u7528 <converter:variable_name> \u6307\u5b9a\u4e00\u4e2a\u53ef\u9009\u7684\u8f6c\u6362\u5668\u3002\u8fd9\u91cc\u6709\u4e00\u4e9b\u4e0d\u9519\u7684\u4f8b\u5b50: @app . route ( '/user/<username>' ) def show_user_profile ( username ): # show the user profile for that user return 'User %s ' % username @app . route ( '/post/<int:post_id>' ) def show_post ( post_id ): # show the post with the given id, the id is an integer return 'Post %d ' % post_id \u8f6c\u6362\u5668\u6709\u4e0b\u9762\u51e0\u79cd\uff1a int \u63a5\u53d7\u6574\u6570 float \u540c int \uff0c\u4f46\u662f\u63a5\u53d7\u6d6e\u70b9\u6570 path \u548c\u9ed8\u8ba4\u7684\u76f8\u4f3c\uff0c\u4f46\u4e5f\u63a5\u53d7\u659c\u7ebf","title":"URL\u4f20\u53c2"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#url_1","text":"Flask \u7684 URL \u89c4\u5219\u57fa\u4e8e Werkzeug \u7684\u8def\u7531\u6a21\u5757\u3002\u8fd9\u4e2a\u6a21\u5757\u80cc\u540e\u7684\u601d\u60f3\u662f\u57fa\u4e8e Apache \u4ee5\u53ca\u66f4\u65e9\u7684 HTTP \u670d\u52a1\u5668\u4e3b\u5f20\u7684\u5148\u4f8b\uff0c\u4fdd\u8bc1\u4f18\u96c5\u4e14\u552f\u4e00\u7684 URL\u3002 \u4ee5\u8fd9\u4e24\u4e2a\u89c4\u5219\u4e3a\u4f8b: @app . route ( '/projects/' ) def projects (): return 'The project page' @app . route ( '/about' ) def about (): return 'The about page' \u867d\u7136\u5b83\u4eec\u770b\u8d77\u6765\u7740\u5b9e\u76f8\u4f3c\uff0c\u4f46\u5b83\u4eec\u7ed3\u5c3e\u659c\u7ebf\u7684\u4f7f\u7528\u5728 URL \u5b9a\u4e49 \u4e2d\u4e0d\u540c\u3002 \u7b2c\u4e00\u79cd\u60c5\u51b5\u4e2d\uff0c\u6307\u5411 projects \u7684\u89c4\u8303 URL \u5c3e\u7aef\u6709\u4e00\u4e2a\u659c\u7ebf\u3002\u8fd9\u79cd\u611f\u89c9\u5f88\u50cf\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u6587\u4ef6\u5939\u3002\u8bbf\u95ee\u4e00\u4e2a\u7ed3\u5c3e\u4e0d\u5e26\u659c\u7ebf\u7684 URL \u4f1a\u88ab Flask \u91cd\u5b9a\u5411\u5230\u5e26\u659c\u7ebf\u7684\u89c4\u8303 URL \u53bb\u3002 \u7136\u800c\uff0c\u7b2c\u4e8c\u79cd\u60c5\u51b5\u7684 URL \u7ed3\u5c3e\u4e0d\u5e26\u659c\u7ebf\uff0c\u7c7b\u4f3c UNIX-like \u7cfb\u7edf\u4e0b\u7684\u6587\u4ef6\u7684\u8def\u5f84\u540d\u3002\u8bbf\u95ee\u7ed3\u5c3e\u5e26\u659c\u7ebf\u7684 URL \u4f1a\u4ea7\u751f\u4e00\u4e2a 404 \u201cNot Found\u201d \u9519\u8bef\u3002 \u8fd9\u4e2a\u884c\u4e3a\u4f7f\u5f97\u5728\u9057\u5fd8\u5c3e\u659c\u7ebf\u65f6\uff0c\u5141\u8bb8\u5173\u8054\u7684 URL \u63a5\u4efb\u5de5\u4f5c\uff0c\u4e0e Apache \u548c\u5176\u5b83\u7684\u670d\u52a1\u5668\u7684\u884c\u4e3a\u5e76\u65e0\u4e8c\u5f02\u3002\u6b64\u5916\uff0c\u4e5f\u4fdd\u8bc1\u4e86 URL \u7684\u552f\u4e00\uff0c\u6709\u52a9\u4e8e\u907f\u514d\u641c\u7d22\u5f15\u64ce\u7d22\u5f15\u540c\u4e00\u4e2a\u9875\u9762\u4e24\u6b21\u3002","title":"\u552f\u4e00 URL / \u91cd\u5b9a\u5411\u884c\u4e3a"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#url_2","text":"\u5982\u679c Flask \u80fd\u5339\u914d URL\uff0c\u90a3\u4e48 Flask \u53ef\u4ee5\u751f\u6210\u5b83\u4eec\u5417\uff1f\u5f53\u7136\u53ef\u4ee5\u3002\u4f60\u53ef\u4ee5\u7528 url_for() \u6765\u7ed9\u6307\u5b9a\u7684\u51fd\u6570\u6784\u9020 URL\u3002\u5b83\u63a5\u53d7\u51fd\u6570\u540d\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u4e5f\u63a5\u53d7\u5bf9\u5e94 URL \u89c4\u5219\u7684\u53d8\u91cf\u90e8\u5206\u7684\u547d\u540d\u53c2\u6570\u3002\u672a\u77e5\u53d8\u91cf\u90e8\u5206\u4f1a\u6dfb\u52a0\u5230 URL \u672b\u5c3e\u4f5c\u4e3a\u67e5\u8be2\u53c2\u6570\u3002\u8fd9\u91cc\u6709\u4e00\u4e9b\u4f8b\u5b50: >>> from flask import Flask , url_for >>> app = Flask ( __name__ ) >>> @app . route ( '/' ) ... def index (): pass ... >>> @app . route ( '/login' ) ... def login (): pass ... >>> @app . route ( '/user/<username>' ) ... def profile ( username ): pass ... >>> with app . test_request_context (): ... print url_for ( 'index' ) ... print url_for ( 'login' ) ... print url_for ( 'login' , next = '/' ) ... print url_for ( 'profile' , username = 'John Doe' ) ... / / login / login ? next =/ / user / John % 20 Doe \uff08\u8fd9\u91cc\u4e5f\u7528\u5230\u4e86 test_request_context() \u65b9\u6cd5\uff0c\u4e0b\u9762\u4f1a\u89e3\u91ca\u3002\u5373\u4f7f\u6211\u4eec\u6b63\u5728\u901a\u8fc7 Python \u7684 shell \u8fdb\u884c\u4ea4\u4e92\uff0c\u5b83\u4f9d\u7136\u4f1a\u544a\u8bc9 Flask \u8981\u8868\u73b0\u4e3a\u6b63\u5728\u5904\u7406\u4e00\u4e2a\u8bf7\u6c42\u3002\u8bf7\u770b\u4e0b\u9762\u7684\u89e3\u91ca\u3002 \u73af\u5883\u5c40\u90e8\u53d8\u91cf \uff09 \u4e3a\u4ec0\u4e48\u4f60\u8981\u6784\u5efa URL \u800c\u975e\u5728\u6a21\u677f\u4e2d\u786c\u7f16\u7801\uff1f\u8fd9\u91cc\u6709\u4e09\u4e2a\u7edd\u5999\u7684\u7406\u7531\uff1a \u53cd\u5411\u6784\u5efa\u901a\u5e38\u6bd4\u786c\u7f16\u7801\u7684\u63cf\u8ff0\u6027\u66f4\u597d\u3002\u66f4\u91cd\u8981\u7684\u662f\uff0c\u5b83\u5141\u8bb8\u4f60\u4e00\u6b21\u6027\u4fee\u6539 URL\uff0c \u800c\u4e0d\u662f\u5230\u5904\u8fb9\u627e\u8fb9\u6539\u3002 URL \u6784\u5efa\u4f1a\u8f6c\u4e49\u7279\u6b8a\u5b57\u7b26\u548c Unicode \u6570\u636e\uff0c\u514d\u53bb\u4f60\u5f88\u591a\u9ebb\u70e6\u3002 \u5982\u679c\u4f60\u7684\u5e94\u7528\u4e0d\u4f4d\u4e8e URL \u7684\u6839\u8def\u5f84\uff08\u6bd4\u5982\uff0c\u5728 /myapplication \u4e0b\uff0c\u800c\u4e0d\u662f / \uff09\uff0c url_for() \u4f1a\u59a5\u5584\u5904\u7406\u8fd9\u4e2a\u95ee\u9898\u3002","title":"\u6784\u9020 URL"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#http","text":"HTTP \uff08\u4e0e Web \u5e94\u7528\u4f1a\u8bdd\u7684\u534f\u8bae\uff09\u6709\u8bb8\u591a\u4e0d\u540c\u7684\u8bbf\u95ee URL \u65b9\u6cd5\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8def\u7531\u53ea\u56de\u5e94 GET \u8bf7\u6c42\uff0c\u4f46\u662f\u901a\u8fc7 route() \u88c5\u9970\u5668\u4f20\u9012 methods \u53c2\u6570\u53ef\u4ee5\u6539\u53d8\u8fd9\u4e2a\u884c\u4e3a\u3002\u8fd9\u91cc\u6709\u4e00\u4e9b\u4f8b\u5b50: @app . route ( '/login' , methods = [ 'GET' , 'POST' ]) def login (): if request . method == 'POST' : do_the_login () else : show_the_login_form () \u5982\u679c\u5b58\u5728 GET \uff0c\u90a3\u4e48\u4e5f\u4f1a\u66ff\u4f60\u81ea\u52a8\u5730\u6dfb\u52a0 HEAD\uff0c\u65e0\u9700\u5e72\u9884\u3002\u5b83\u4f1a\u786e\u4fdd\u9075\u7167 HTTP RFC \uff08\u63cf\u8ff0 HTTP \u534f\u8bae\u7684\u6587\u6863\uff09\u5904\u7406 HEAD \u8bf7\u6c42\uff0c\u6240\u4ee5\u4f60\u53ef\u4ee5\u5b8c\u5168\u5ffd\u7565\u8fd9\u90e8\u5206\u7684 HTTP \u89c4\u8303\u3002\u540c\u6837\uff0c\u81ea\u4ece Flask 0.6 \u8d77\uff0c \u4e5f\u5b9e\u73b0\u4e86 OPTIONS \u7684\u81ea\u52a8\u5904\u7406\u3002 \u4f60\u4e0d\u77e5\u9053\u4e00\u4e2a HTTP \u65b9\u6cd5\u662f\u4ec0\u4e48\uff1f\u4e0d\u5fc5\u62c5\u5fc3\uff0c\u8fd9\u91cc\u4f1a\u7b80\u8981\u4ecb\u7ecd HTTP \u65b9\u6cd5\u548c\u5b83\u4eec\u4e3a\u4ec0\u4e48\u91cd\u8981\uff1a HTTP \u65b9\u6cd5\uff08\u4e5f\u7ecf\u5e38\u88ab\u53eb\u505a\u201c\u8c13\u8bcd\u201d\uff09\u544a\u77e5\u670d\u52a1\u5668\uff0c\u5ba2\u6237\u7aef\u60f3\u5bf9\u8bf7\u6c42\u7684\u9875\u9762 \u505a \u4e9b\u4ec0\u4e48\u3002\u4e0b\u9762\u7684\u90fd\u662f\u975e\u5e38\u5e38\u89c1\u7684\u65b9\u6cd5\uff1a GET\uff1a\u6d4f\u89c8\u5668\u544a\u77e5\u670d\u52a1\u5668\uff1a\u53ea \u83b7\u53d6 \u9875\u9762\u4e0a\u7684\u4fe1\u606f\u5e76\u53d1\u7ed9\u6211\u3002\u8fd9\u662f\u6700\u5e38\u7528\u7684\u65b9\u6cd5\u3002 HEAD\uff1a\u6d4f\u89c8\u5668\u544a\u8bc9\u670d\u52a1\u5668\uff1a\u6b32\u83b7\u53d6\u4fe1\u606f\uff0c\u4f46\u662f\u53ea\u5173\u5fc3 \u6d88\u606f\u5934 \u3002\u5e94\u7528\u5e94\u50cf\u5904\u7406 GET \u8bf7\u6c42\u4e00\u6837\u6765\u5904\u7406\u5b83\uff0c\u4f46\u662f\u4e0d\u5206\u53d1\u5b9e\u9645\u5185\u5bb9\u3002\u5728 Flask \u4e2d\u4f60\u5b8c\u5168\u65e0\u9700 \u4eba\u5de5 \u5e72\u9884\uff0c\u5e95\u5c42\u7684 Werkzeug \u5e93\u5df2\u7ecf\u66ff\u4f60\u6253\u70b9\u597d\u4e86\u3002 POST\uff1a\u6d4f\u89c8\u5668\u544a\u8bc9\u670d\u52a1\u5668\uff1a\u60f3\u5728 URL \u4e0a \u53d1\u5e03 \u65b0\u4fe1\u606f\u3002\u5e76\u4e14\uff0c\u670d\u52a1\u5668\u5fc5\u987b\u786e\u4fdd \u6570\u636e\u5df2\u5b58\u50a8\u4e14\u4ec5\u5b58\u50a8\u4e00\u6b21\u3002\u8fd9\u662f HTML \u8868\u5355\u901a\u5e38\u53d1\u9001\u6570\u636e\u5230\u670d\u52a1\u5668\u7684\u65b9\u6cd5\u3002 PUT\uff1a\u7c7b\u4f3c POST \u4f46\u662f\u670d\u52a1\u5668\u53ef\u80fd\u89e6\u53d1\u4e86\u5b58\u50a8\u8fc7\u7a0b\u591a\u6b21\uff0c\u591a\u6b21\u8986\u76d6\u6389\u65e7\u503c\u3002\u4f60\u53ef \u80fd\u4f1a\u95ee\u8fd9\u6709\u4ec0\u4e48\u7528\uff0c\u5f53\u7136\u8fd9\u662f\u6709\u539f\u56e0\u7684\u3002\u8003\u8651\u5230\u4f20\u8f93\u4e2d\u8fde\u63a5\u53ef\u80fd\u4f1a\u4e22\u5931\uff0c\u5728 \u8fd9\u79cd \u60c5\u51b5\u4e0b\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u7cfb\u7edf\u53ef\u80fd\u5b89\u5168\u5730\u7b2c\u4e8c\u6b21\u63a5\u6536\u8bf7\u6c42\uff0c\u800c \u4e0d\u7834\u574f\u5176\u5b83\u4e1c\u897f\u3002\u56e0\u4e3a POST\u5b83\u53ea\u89e6\u53d1\u4e00\u6b21\uff0c\u6240\u4ee5\u7528 POST \u662f\u4e0d\u53ef\u80fd\u7684\u3002 DELETE\uff1a\u5220\u9664\u7ed9\u5b9a\u4f4d\u7f6e\u7684\u4fe1\u606f\u3002 OPTIONS\uff1a\u7ed9\u5ba2\u6237\u7aef\u63d0\u4f9b\u4e00\u4e2a\u654f\u6377\u7684\u9014\u5f84\u6765\u5f04\u6e05\u8fd9\u4e2a URL \u652f\u6301\u54ea\u4e9b HTTP \u65b9\u6cd5\u3002 \u4ece Flask 0.6 \u5f00\u59cb\uff0c\u5b9e\u73b0\u4e86\u81ea\u52a8\u5904\u7406\u3002.","title":"HTTP \u65b9\u6cd5"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#_6","text":"\u52a8\u6001 web \u5e94\u7528\u4e5f\u4f1a\u9700\u8981\u9759\u6001\u6587\u4ef6\uff0c\u901a\u5e38\u662f CSS \u548c JavaScript \u6587\u4ef6\u3002\u7406\u60f3\u72b6\u51b5\u4e0b\uff0c \u4f60\u5df2\u7ecf\u914d\u7f6e\u597d Web \u670d\u52a1\u5668\u6765\u63d0\u4f9b\u9759\u6001\u6587\u4ef6\uff0c\u4f46\u662f\u5728\u5f00\u53d1\u4e2d\uff0cFlask \u4e5f\u53ef\u4ee5\u505a\u5230\u3002 \u53ea\u8981\u5728\u4f60\u7684\u5305\u4e2d\u6216\u662f\u6a21\u5757\u7684\u6240\u5728\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a static \u7684\u6587\u4ef6\u5939\uff0c\u5728\u5e94\u7528\u4e2d\u4f7f\u7528 /static \u5373\u53ef\u8bbf\u95ee\u3002 \u7ed9\u9759\u6001\u6587\u4ef6\u751f\u6210 URL \uff0c\u4f7f\u7528\u7279\u6b8a\u7684 'static' \u7aef\u70b9\u540d: ```python url_for('static', filename='style.css') \u8fd9\u4e2a\u6587\u4ef6\u5e94\u8be5\u5b58\u50a8\u5728\u6587\u4ef6\u7cfb\u7edf\u4e0a\u7684 `static/style.css` \u3002 ## \u6a21\u677f\u6e32\u67d3 \u7528 Python \u751f\u6210 HTML \u5341\u5206\u65e0\u8da3\uff0c\u800c\u4e14\u76f8\u5f53\u7e41\u7410\uff0c\u56e0\u4e3a\u4f60\u5fc5\u987b\u624b\u52a8\u5bf9 HTML \u505a\u8f6c\u4e49\u6765\u4fdd\u8bc1\u5e94\u7528\u7684\u5b89\u5168\u3002\u4e3a\u6b64\uff0cFlask \u914d\u5907\u4e86 [Jinja2](http://jinja.pocoo.org/) \u6a21\u677f\u5f15\u64ce\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528 [`render_template()`](http://docs.jinkan.org/docs/flask/api.html#flask.render_template) \u65b9\u6cd5\u6765\u6e32\u67d3\u6a21\u677f\u3002\u4f60\u9700\u8981\u505a\u7684\u4e00\u5207\u5c31\u662f\u5c06\u6a21\u677f\u540d\u548c\u4f60\u60f3\u4f5c\u4e3a\u5173\u952e\u5b57\u7684\u53c2\u6570\u4f20\u5165\u6a21\u677f\u7684\u53d8\u91cf\u3002\u8fd9\u91cc\u6709\u4e00\u4e2a\u5c55\u793a\u5982\u4f55\u6e32\u67d3\u6a21\u677f\u7684\u7b80\u4f8b: ```python from flask import render_template @app.route('/hello/') @app.route('/hello/<name>') def hello(name=None): return render_template('hello.html', name=name) Flask \u4f1a\u5728 templates \u6587\u4ef6\u5939\u91cc\u5bfb\u627e\u6a21\u677f\u3002\u6240\u4ee5\uff0c\u5982\u679c\u4f60\u7684\u5e94\u7528\u662f\u4e2a\u6a21\u5757\uff0c\u8fd9\u4e2a\u6587\u4ef6\u5939\u5e94\u8be5\u4e0e\u6a21\u5757\u540c\u7ea7\uff1b\u5982\u679c\u5b83\u662f\u4e00\u4e2a\u5305\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6587\u4ef6\u5939\u4f5c\u4e3a\u5305\u7684\u5b50\u76ee\u5f55: \u60c5\u51b5 1 : \u6a21\u5757: /application.py /templates /hello.html \u60c5\u51b5 2 : \u5305: /application /__init__.py /templates /hello.html \u5173\u4e8e\u6a21\u677f\uff0c\u4f60\u53ef\u4ee5\u53d1\u6325 Jinja2 \u6a21\u677f\u7684\u5168\u90e8\u5b9e\u4f8b\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u89c1 Jinja2 \u6a21\u677f\u6587\u6863 \u3002 \u8fd9\u91cc\u6709\u4e00\u4e2a\u6a21\u677f\u5b9e\u4f8b\uff1a <!doctype html> < title > Hello from Flask </ title > {% if name %} < h1 > Hello {{ name }}! </ h1 > {% else %} < h1 > Hello World! </ h1 > {% endif %} \u5728\u6a21\u677f\u91cc\uff0c\u4f60\u4e5f\u53ef\u4ee5\u8bbf\u95ee request \u3001 session \u548c g [ 1] \u5bf9\u8c61\uff0c \u4ee5\u53ca get_flashed_messages() \u51fd\u6570\u3002 \u6a21\u677f\u7ee7\u627f\u8ba9\u6a21\u677f\u7528\u8d77\u6765\u76f8\u5f53\u987a\u624b\u3002\u5982\u6b32\u4e86\u89e3\u7ee7\u627f\u7684\u5de5\u4f5c\u673a\u7406\uff0c\u8bf7\u8df3\u8f6c\u5230 \u6a21\u677f\u7ee7\u627f \u6a21\u5f0f\u7684\u6587\u6863\u3002\u6700\u8d77\u7801\uff0c\u6a21\u677f\u7ee7\u627f\u80fd\u4f7f\u7279\u5b9a\u5143\u7d20 \uff08\u6bd4\u5982\u9875\u7709\u3001\u5bfc\u822a\u680f\u548c\u9875\u811a\uff09\u53ef\u4ee5\u51fa\u73b0\u5728\u6240\u6709\u7684\u9875\u9762\u3002 \u81ea\u52a8\u8f6c\u4e49\u529f\u80fd\u9ed8\u8ba4\u662f\u5f00\u542f\u7684\uff0c\u6240\u4ee5\u5982\u679c name \u5305\u542b HTML \uff0c\u5b83\u5c06\u4f1a\u88ab\u81ea\u52a8\u8f6c\u4e49\u3002\u5982\u679c\u4f60\u80fd\u4fe1\u4efb\u4e00\u4e2a\u53d8\u91cf\uff0c\u5e76\u4e14\u4f60\u77e5\u9053\u5b83\u662f\u5b89\u5168\u7684\uff08\u4f8b\u5982\u4e00\u4e2a\u6a21\u5757\u628a Wiki \u6807\u8bb0\u8f6c\u6362\u4e3a HTML\uff09\uff0c\u4f60\u53ef\u4ee5\u7528 Markup \u7c7b\u6216 |safe \u8fc7\u6ee4\u5668\u5728\u6a21\u677f\u4e2d\u628a\u5b83\u6807\u8bb0\u4e3a\u5b89\u5168\u7684\u3002\u5728 Jinja 2 \u6587\u6863\u4e2d\uff0c\u4f60\u4f1a\u770b\u5230\u66f4\u591a\u7684\u4f8b\u5b50\u3002 \u8fd9\u91cc\u662f\u4e00\u4e2a Markup \u7c7b\u5982\u4f55\u4f7f\u7528\u7684\u7b80\u5355\u4ecb\u7ecd: >>> from flask import Markup >>> Markup ( '<strong>Hello %s !</strong>' ) % '<blink>hacker</blink>' Markup ( u '<strong>Hello &lt;blink&gt;hacker&lt;/blink&gt;!</strong>' ) >>> Markup . escape ( '<blink>hacker</blink>' ) Markup ( u '&lt;blink&gt;hacker&lt;/blink&gt;' ) >>> Markup ( '<em>Marked up</em> &raquo; HTML' ) . striptags () u 'Marked up \\xbb HTML' \u5728 0.5 \u7248\u66f4\u6539: \u81ea\u52a8\u8f6c\u4e49\u4e0d\u518d\u5728\u6240\u6709\u6a21\u677f\u4e2d\u542f\u7528\u3002\u4e0b\u5217\u6269\u5c55\u540d\u7684\u6a21\u677f\u4f1a\u89e6\u53d1\u81ea\u52a8\u8f6c\u4e49\uff1a .html \u3001 .htm \u3001 .xml \u3001 .xhtml \u3002\u4ece\u5b57\u7b26\u4e32\u52a0\u8f7d\u7684\u6a21\u677f\u4f1a\u7981\u7528\u81ea\u52a8\u8f6c\u4e49\u3002 [ 1] \u4e0d\u786e\u5b9a g \u5bf9\u8c61\u662f\u4ec0\u4e48\uff1f\u5b83\u5141\u8bb8\u4f60\u6309\u9700\u5b58\u50a8\u4fe1\u606f\uff0c \u67e5\u770b\uff08 g \uff09\u5bf9\u8c61\u7684\u6587\u6863\u548c \u5728 Flask \u4e2d\u4f7f\u7528 SQLite 3 \u7684\u6587\u6863\u4ee5\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u3002","title":"\u9759\u6001\u6587\u4ef6"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#_7","text":"\u5bf9\u4e8e Web \u5e94\u7528\uff0c\u4e0e\u5ba2\u6237\u7aef\u53d1\u9001\u7ed9\u670d\u52a1\u5668\u7684\u6570\u636e\u4ea4\u4e92\u81f3\u5173\u91cd\u8981\u3002\u5728 Flask \u4e2d\u7531\u5168\u5c40\u7684 request \u5bf9\u8c61\u6765\u63d0\u4f9b\u8fd9\u4e9b\u4fe1\u606f\u3002\u5982\u679c\u4f60\u6709\u4e00\u5b9a\u7684 Python \u7ecf\u9a8c\uff0c\u4f60\u4f1a\u597d\u5947\uff0c\u4e3a\u4ec0\u4e48\u8fd9\u4e2a\u5bf9\u8c61\u662f\u5168\u5c40\u7684\uff0c\u4e3a\u4ec0\u4e48 Flask \u8fd8\u80fd\u4fdd\u8bc1\u7ebf\u7a0b\u5b89\u5168\u3002\u7b54\u6848\u662f\u73af\u5883\u4f5c\u7528\u57df\uff1a","title":"\u8bbf\u95ee\u8bf7\u6c42\u6570\u636e"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#_8","text":"\u5185\u5e55 \u5982\u679c\u4f60\u60f3\u7406\u89e3\u5176\u5de5\u4f5c\u673a\u5236\u53ca\u5982\u4f55\u5229\u7528\u73af\u5883\u5c40\u90e8\u53d8\u91cf\u5b9e\u73b0\u81ea\u52a8\u5316\u6d4b\u8bd5\uff0c\u8bf7\u9605\u8bfb\u6b64\u8282\uff0c\u5426\u5219\u53ef\u8df3\u8fc7\u3002 Flask \u4e2d\u7684\u67d0\u4e9b\u5bf9\u8c61\u662f\u5168\u5c40\u5bf9\u8c61\uff0c\u4f46\u5374\u4e0d\u662f\u901a\u5e38\u7684\u90a3\u79cd\u3002\u8fd9\u4e9b\u5bf9\u8c61\u5b9e\u9645\u4e0a\u662f\u7279\u5b9a\u73af\u5883\u7684\u5c40\u90e8\u5bf9\u8c61\u7684\u4ee3\u7406\u3002\u867d\u7136\u5f88\u62d7\u53e3\uff0c\u4f46\u5b9e\u9645\u4e0a\u5f88\u5bb9\u6613\u7406\u89e3\u3002 \u60f3\u8c61\u4e00\u4e0b\u5904\u7406\u7ebf\u7a0b\u7684\u73af\u5883\u3002\u4e00\u4e2a\u8bf7\u6c42\u4f20\u5165\uff0cWeb \u670d\u52a1\u5668\u51b3\u5b9a\u751f\u6210\u4e00\u4e2a\u65b0\u7ebf\u7a0b\uff08 \u6216\u8005\u522b\u7684\u4ec0\u4e48\u4e1c\u897f\uff0c\u53ea\u8981\u8fd9\u4e2a\u5e95\u5c42\u7684\u5bf9\u8c61\u53ef\u4ee5\u80dc\u4efb\u5e76\u53d1\u7cfb\u7edf\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u7ebf\u7a0b\uff09\u3002 \u5f53 Flask \u5f00\u59cb\u5b83\u5185\u90e8\u7684\u8bf7\u6c42\u5904\u7406\u65f6\uff0c\u5b83\u8ba4\u5b9a\u5f53\u524d\u7ebf\u7a0b\u662f\u6d3b\u52a8\u7684\u73af\u5883\uff0c\u5e76\u7ed1\u5b9a\u5f53\u524d\u7684\u5e94\u7528\u548c WSGI \u73af\u5883\u5230\u90a3\u4e2a\u73af\u5883\u4e0a\uff08\u7ebf\u7a0b\uff09\u3002\u5b83\u7684\u5b9e\u73b0\u5f88\u5de7\u5999\uff0c\u80fd\u4fdd\u8bc1\u4e00\u4e2a\u5e94\u7528\u8c03\u7528\u53e6\u4e00\u4e2a\u5e94\u7528\u65f6\u4e0d\u4f1a\u51fa\u73b0\u95ee\u9898\u3002 \u6240\u4ee5\uff0c\u8fd9\u5bf9\u4f60\u6765\u8bf4\u610f\u5473\u7740\u4ec0\u4e48\uff1f\u9664\u975e\u4f60\u8981\u505a\u7c7b\u4f3c\u5355\u5143\u6d4b\u8bd5\u7684\u4e1c\u897f\uff0c\u5426\u5219\u4f60\u57fa\u672c\u4e0a\u53ef\u4ee5\u5b8c\u5168\u65e0\u89c6\u5b83\u3002\u4f60\u4f1a\u53d1\u73b0\u4f9d\u8d56\u4e8e\u4e00\u6bb5\u8bf7\u6c42\u5bf9\u8c61\u7684\u4ee3\u7801\uff0c\u56e0\u6ca1\u6709\u8bf7\u6c42\u5bf9\u8c61\u65e0\u6cd5\u6b63\u5e38\u8fd0\u884c\u3002\u89e3\u51b3\u65b9\u6848\u662f\uff0c\u81ea\u884c\u521b\u5efa\u4e00\u4e2a\u8bf7\u6c42\u5bf9\u8c61\u5e76\u4e14\u628a\u5b83\u7ed1\u5b9a\u5230\u73af\u5883\u4e2d\u3002\u5355\u5143\u6d4b\u8bd5\u7684\u6700\u7b80\u5355\u7684\u89e3\u51b3\u65b9\u6848\u662f\uff1a\u7528 test_request_context() \u73af\u5883\u7ba1\u7406\u5668\u3002\u7ed3\u5408 with \u58f0\u660e\uff0c\u7ed1\u5b9a\u4e00\u4e2a\u6d4b\u8bd5\u8bf7\u6c42\uff0c\u8fd9\u6837\u4f60\u624d\u80fd\u4e0e\u4e4b\u4ea4\u4e92\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50: from flask import request with app . test_request_context ( '/hello' , method = 'POST' ): # now you can do something with the request until the # end of the with block, such as basic assertions: assert request . path == '/hello' assert request . method == 'POST' \u53e6\u4e00\u79cd\u53ef\u80fd\u662f\uff1a\u4f20\u9012\u6574\u4e2a WSGI \u73af\u5883\u7ed9 request_context() \u65b9\u6cd5: from flask import request with app . request_context ( environ ): assert request . method == 'POST'","title":"\u73af\u5883\u5c40\u90e8\u53d8\u91cf"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#_9","text":"API \u7ae0\u8282\u5bf9\u8bf7\u6c42\u5bf9\u8c61\u4f5c\u4e86\u8be6\u5c3d\u9610\u8ff0\uff08\u53c2\u89c1 request \uff09\uff0c\u56e0\u6b64\u8fd9\u91cc\u4e0d\u4f1a\u8d58\u8ff0\u3002\u6b64\u5904\u5bbd\u6cdb\u4ecb\u7ecd\u4e00\u4e9b\u6700\u5e38\u7528\u7684\u64cd\u4f5c\u3002\u9996\u5148\u4ece flask \u6a21\u5757\u91cc\u5bfc\u5165\u5b83: from flask import request \u5f53\u524d\u8bf7\u6c42\u7684 HTTP \u65b9\u6cd5\u53ef\u901a\u8fc7 method \u5c5e\u6027\u6765\u8bbf\u95ee\u3002\u901a\u8fc7:attr:~flask.request.form \u5c5e\u6027\u6765\u8bbf\u95ee\u8868\u5355\u6570\u636e\uff08 POST \u6216 PUT \u8bf7\u6c42\u63d0\u4ea4\u7684\u6570\u636e\uff09\u3002\u8fd9\u91cc\u6709\u4e00\u4e2a\u7528\u5230\u4e0a\u9762\u63d0\u5230\u7684\u90a3\u4e24\u4e2a\u5c5e\u6027\u7684\u5b8c\u6574\u5b9e\u4f8b: @app . route ( '/login' , methods = [ 'POST' , 'GET' ]) def login (): error = None if request . method == 'POST' : if ( request . form [ 'username' ], request . form [ 'password' ]): return log_the_user_in ( request . form [ 'username' ]) else : error = 'Invalid username/password' # the code below is executed if the request method # was GET or the credentials were invalid return render_template ( 'login.html' , error = error ) \u5f53\u8bbf\u95ee form \u5c5e\u6027\u4e2d\u7684\u4e0d\u5b58\u5728\u7684\u952e\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f\u4f1a\u629b\u51fa\u4e00\u4e2a\u7279\u6b8a\u7684 KeyError \u5f02\u5e38\u3002\u4f60\u53ef\u4ee5\u50cf\u6355\u83b7\u6807\u51c6\u7684 KeyError \u4e00\u6837\u6765\u6355\u83b7\u5b83\u3002 \u5982\u679c\u4f60\u4e0d\u8fd9\u4e48\u505a\uff0c\u5b83\u4f1a\u663e\u793a\u4e00\u4e2a HTTP 400 Bad Request \u9519\u8bef\u9875\u9762\u3002\u6240\u4ee5\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\u4f60\u5e76\u4e0d\u9700\u8981\u5e72\u9884\u8fd9\u4e2a\u884c\u4e3a\u3002 \u4f60\u53ef\u4ee5\u901a\u8fc7 args \u5c5e\u6027\u6765\u8bbf\u95ee URL \u4e2d\u63d0\u4ea4\u7684\u53c2\u6570 \uff08 ?key=value \uff09: searchword = request . args . get ( 'q' , '' ) \u6211\u4eec\u63a8\u8350\u7528 get \u6765\u8bbf\u95ee URL \u53c2\u6570\u6216\u6355\u83b7 KeyError \uff0c\u56e0\u4e3a\u7528\u6237\u53ef\u80fd\u4f1a\u4fee\u6539 URL\uff0c\u5411\u4ed6\u4eec\u5c55\u73b0\u4e00\u4e2a 400 bad request \u9875\u9762\u4f1a\u5f71\u54cd\u7528\u6237\u4f53\u9a8c\u3002","title":"\u8bf7\u6c42\u5bf9\u8c61"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#_10","text":"\u7528 Flask \u5904\u7406\u6587\u4ef6\u4e0a\u4f20\u5f88\u7b80\u5355\u3002\u53ea\u8981\u786e\u4fdd\u4f60\u6ca1\u5fd8\u8bb0\u5728 HTML \u8868\u5355\u4e2d\u8bbe\u7f6e enctype=\"multipart/form-data\" \u5c5e\u6027\uff0c\u4e0d\u7136\u4f60\u7684\u6d4f\u89c8\u5668\u6839\u672c\u4e0d\u4f1a\u53d1\u9001\u6587\u4ef6\u3002 \u5df2\u4e0a\u4f20\u7684\u6587\u4ef6\u5b58\u50a8\u5728\u5185\u5b58\u6216\u662f\u6587\u4ef6\u7cfb\u7edf\u4e2d\u4e00\u4e2a\u4e34\u65f6\u7684\u4f4d\u7f6e\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u8bf7\u6c42\u5bf9\u8c61\u7684 files \u5c5e\u6027\u8bbf\u95ee\u5b83\u4eec\u3002\u6bcf\u4e2a\u4e0a\u4f20\u7684\u6587\u4ef6\u90fd\u4f1a\u5b58\u50a8\u5728\u8fd9\u4e2a\u5b57\u5178\u91cc\u3002\u5b83\u8868\u73b0\u8fd1\u4e4e\u4e3a\u4e00\u4e2a\u6807\u51c6\u7684 Python file \u5bf9\u8c61\uff0c\u4f46\u5b83\u8fd8\u6709\u4e00\u4e2a save() \u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u5141\u8bb8\u4f60\u628a\u6587\u4ef6\u4fdd\u5b58\u5230\u670d\u52a1\u5668\u7684\u6587\u4ef6\u7cfb\u7edf\u4e0a\u3002\u8fd9\u91cc\u662f\u4e00\u4e2a\u7528\u5b83\u4fdd\u5b58\u6587\u4ef6\u7684\u4f8b\u5b50: from flask import request @app . route ( '/upload' , methods = [ 'GET' , 'POST' ]) def upload_file (): if request . method == 'POST' : f = request . files [ 'the_file' ] f . save ( '/var/www/uploads/uploaded_file.txt' ) ... \u5982\u679c\u4f60\u60f3\u77e5\u9053\u4e0a\u4f20\u524d\u6587\u4ef6\u5728\u5ba2\u6237\u7aef\u7684\u6587\u4ef6\u540d\u662f\u4ec0\u4e48\uff0c\u4f60\u53ef\u4ee5\u8bbf\u95ee filename \u5c5e\u6027\u3002\u4f46\u8bf7\u8bb0\u4f4f\uff0c \u6c38\u8fdc\u4e0d\u8981\u4fe1\u4efb\u8fd9\u4e2a\u503c\uff0c\u8fd9\u4e2a\u503c\u662f\u53ef\u4ee5\u4f2a\u9020\u7684\u3002\u5982\u679c\u4f60\u8981\u628a\u6587\u4ef6\u6309\u5ba2\u6237\u7aef\u63d0\u4f9b\u7684\u6587\u4ef6\u540d\u5b58\u50a8\u5728\u670d\u52a1\u5668\u4e0a\uff0c\u90a3\u4e48\u8bf7\u628a\u5b83\u4f20\u9012\u7ed9 Werkzeug \u63d0\u4f9b\u7684 secure_filename() \u51fd\u6570: from flask import request from werkzeug import secure_filename @app . route ( '/upload' , methods = [ 'GET' , 'POST' ]) def upload_file (): if request . method == 'POST' : f = request . files [ 'the_file' ] f . save ( '/var/www/uploads/' + secure_filename ( f . filename )) ...","title":"\u6587\u4ef6\u4e0a\u4f20"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#cookies","text":"\u4f60\u53ef\u4ee5\u901a\u8fc7 cookies \u5c5e\u6027\u6765\u8bbf\u95ee Cookies\uff0c\u7528\u54cd\u5e94\u5bf9\u8c61\u7684 set_cookie \u65b9\u6cd5\u6765\u8bbe\u7f6e Cookies\u3002\u8bf7\u6c42\u5bf9\u8c61\u7684 cookies \u5c5e\u6027\u662f\u4e00\u4e2a\u5185\u5bb9\u4e3a\u5ba2\u6237\u7aef\u63d0\u4ea4\u7684\u6240\u6709 Cookies \u7684\u5b57\u5178\u3002\u5982\u679c\u4f60\u60f3\u4f7f\u7528\u4f1a\u8bdd\uff0c\u8bf7\u4e0d\u8981\u76f4\u63a5\u4f7f\u7528 Cookies\uff0c\u8bf7\u53c2\u8003 \u4f1a\u8bdd \u4e00\u8282\u3002\u5728 Flask \u4e2d\uff0c\u5df2\u7ecf\u6ce8\u610f\u5904\u7406\u4e86\u4e00\u4e9b Cookies \u5b89\u5168\u7ec6\u8282\u3002 \u8bfb\u53d6 cookies: from flask import request @app . route ( '/' ) def index (): username = request . cookies . get ( 'username' ) # use cookies.get(key) instead of cookies[key] to not get a # KeyError if the cookie is missing. \u5b58\u50a8 cookies: from flask import make_response @app . route ( '/' ) def index (): resp = make_response ( render_template ( ... )) resp . set_cookie ( 'username' , 'the username' ) return resp \u53ef\u6ce8\u610f\u5230\u7684\u662f\uff0cCookies \u662f\u8bbe\u7f6e\u5728\u54cd\u5e94\u5bf9\u8c61\u4e0a\u7684\u3002\u7531\u4e8e\u901a\u5e38\u89c6\u56fe\u51fd\u6570\u53ea\u662f\u8fd4\u56de\u5b57\u7b26\u4e32\uff0c\u4e4b\u540e Flask \u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u54cd\u5e94\u5bf9\u8c61\u3002\u5982\u679c\u4f60\u8981\u663e\u5f0f\u5730\u8f6c\u6362\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 make_response() \u51fd\u6570\u7136\u540e\u518d\u8fdb\u884c\u4fee\u6539\u3002 \u6709\u65f6\u5019\u4f60\u60f3\u8bbe\u7f6e Cookie\uff0c\u4f46\u54cd\u5e94\u5bf9\u8c61\u4e0d\u80fd\u918b\u5728\u3002\u8fd9\u53ef\u4ee5\u5229\u7528 \u5ef6\u8fdf\u8bf7\u6c42\u56de\u8c03 \u6a21\u5f0f\u5b9e\u73b0\u3002 \u4e3a\u6b64\uff0c\u4e5f\u53ef\u4ee5\u9605\u8bfb \u5173\u4e8e\u54cd\u5e94 \u3002","title":"Cookies"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#_11","text":"\u4f60\u53ef\u4ee5\u7528 redirect() \u51fd\u6570\u628a\u7528\u6237\u91cd\u5b9a\u5411\u5230\u5176\u5b83\u5730\u65b9\u3002\u653e\u5f03\u8bf7\u6c42\u5e76\u8fd4\u56de\u9519\u8bef\u4ee3\u7801\uff0c\u7528 abort() \u51fd\u6570\u3002\u8fd9\u91cc\u662f\u4e00\u4e2a\u5b83\u4eec\u5982\u4f55\u4f7f\u7528\u7684\u4f8b\u5b50: from flask import abort , redirect , url_for @app . route ( '/' ) def index (): return redirect ( url_for ( 'login' )) @app . route ( '/login' ) def login (): abort ( 401 ) this_is_never_executed () \u8fd9\u662f\u4e00\u4e2a\u76f8\u5f53\u65e0\u610f\u4e49\u7684\u4f8b\u5b50\u56e0\u4e3a\u7528\u6237\u4f1a\u4ece\u4e3b\u9875\u91cd\u5b9a\u5411\u5230\u4e00\u4e2a\u4e0d\u80fd\u8bbf\u95ee\u7684\u9875\u9762 \uff08401 \u610f\u5473\u7740\u7981\u6b62\u8bbf\u95ee\uff09\uff0c\u4f46\u662f\u5b83\u5c55\u793a\u4e86\u91cd\u5b9a\u5411\u662f\u5982\u4f55\u5de5\u4f5c\u7684\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u9519\u8bef\u4ee3\u7801\u4f1a\u663e\u793a\u4e00\u4e2a\u9ed1\u767d\u7684\u9519\u8bef\u9875\u9762\u3002\u5982\u679c\u4f60\u8981\u5b9a\u5236\u9519\u8bef\u9875\u9762\uff0c \u53ef\u4ee5\u4f7f\u7528 errorhandler() \u88c5\u9970\u5668: from flask import render_template @app . errorhandler ( 404 ) def page_not_found ( error ): return render_template ( 'page_not_found.html' ), 404 \u6ce8\u610f render_template() \u8c03\u7528\u4e4b\u540e\u7684 404 \u3002\u8fd9\u544a\u8bc9 Flask\uff0c\u8be5\u9875\u7684\u9519\u8bef\u4ee3\u7801\u662f 404 \uff0c\u5373\u6ca1\u6709\u627e\u5230\u3002\u9ed8\u8ba4\u4e3a 200\uff0c\u4e5f\u5c31\u662f\u4e00\u5207\u6b63\u5e38\u3002","title":"\u91cd\u5b9a\u5411\u548c\u9519\u8bef"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#_12","text":"\u89c6\u56fe\u51fd\u6570\u7684\u8fd4\u56de\u503c\u4f1a\u88ab\u81ea\u52a8\u8f6c\u6362\u4e3a\u4e00\u4e2a\u54cd\u5e94\u5bf9\u8c61\u3002\u5982\u679c\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c \u5b83\u88ab\u8f6c\u6362\u4e3a\u8be5\u5b57\u7b26\u4e32\u4e3a\u4e3b\u4f53\u7684\u3001\u72b6\u6001\u7801\u4e3a 200 OK``\u7684 \u3001 MIME \u7c7b\u578b\u662f ``text/html \u7684\u54cd\u5e94\u5bf9\u8c61\u3002Flask \u628a\u8fd4\u56de\u503c\u8f6c\u6362\u4e3a\u54cd\u5e94\u5bf9\u8c61\u7684\u903b\u8f91\u662f\u8fd9\u6837\uff1a \u5982\u679c\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5408\u6cd5\u7684\u54cd\u5e94\u5bf9\u8c61\uff0c\u5b83\u4f1a\u4ece\u89c6\u56fe\u76f4\u63a5\u8fd4\u56de\u3002 \u5982\u679c\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u54cd\u5e94\u5bf9\u8c61\u4f1a\u7528\u5b57\u7b26\u4e32\u6570\u636e\u548c\u9ed8\u8ba4\u53c2\u6570\u521b\u5efa\u3002 \u5982\u679c\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5143\u7ec4\uff0c\u4e14\u5143\u7ec4\u4e2d\u7684\u5143\u7d20\u53ef\u4ee5\u63d0\u4f9b\u989d\u5916\u7684\u4fe1\u606f\u3002\u8fd9\u6837\u7684\u5143\u7ec4\u5fc5\u987b\u662f (response, status, headers) \u7684\u5f62\u5f0f\uff0c\u4e14\u81f3\u5c11\u5305\u542b\u4e00\u4e2a\u5143\u7d20\u3002 status \u503c\u4f1a\u8986\u76d6\u72b6\u6001\u4ee3\u7801\uff0c headers \u53ef\u4ee5\u662f\u4e00\u4e2a\u5217\u8868\u6216\u5b57\u5178\uff0c\u4f5c\u4e3a\u989d\u5916\u7684\u6d88\u606f\u6807\u5934\u503c\u3002 \u5982\u679c\u4e0a\u8ff0\u6761\u4ef6\u5747\u4e0d\u6ee1\u8db3\uff0c Flask \u4f1a\u5047\u8bbe\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u5408\u6cd5\u7684 WSGI \u5e94\u7528\u7a0b\u5e8f\uff0c\u5e76\u8f6c\u6362\u4e3a\u4e00\u4e2a\u8bf7\u6c42\u5bf9\u8c61\u3002 \u5982\u679c\u4f60\u60f3\u5728\u89c6\u56fe\u91cc\u64cd\u7eb5\u4e0a\u8ff0\u6b65\u9aa4\u7ed3\u679c\u7684\u54cd\u5e94\u5bf9\u8c61\uff0c\u53ef\u4ee5\u4f7f\u7528 make_response() \u51fd\u6570\u3002 \u8b6c\u5982\u4f60\u6709\u8fd9\u6837\u4e00\u4e2a\u89c6\u56fe: @app . errorhandler ( 404 ) def not_found ( error ): return render_template ( 'error.html' ), 404 \u4f60\u53ea\u9700\u8981\u628a\u8fd4\u56de\u503c\u8868\u8fbe\u5f0f\u4f20\u9012\u7ed9 make_response() \uff0c\u83b7\u53d6\u7ed3\u679c\u5bf9\u8c61\u5e76\u4fee\u6539\uff0c\u7136\u540e\u518d\u8fd4\u56de\u5b83: @app . errorhandler ( 404 ) def not_found ( error ): resp = make_response ( render_template ( 'error.html' ), 404 ) resp . headers [ 'X-Something' ] = 'A value' return resp","title":"\u5173\u4e8e\u54cd\u5e94"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#_13","text":"\u9664\u8bf7\u6c42\u5bf9\u8c61\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u4e2a session \u5bf9\u8c61\u3002\u5b83\u5141\u8bb8\u4f60\u5728\u4e0d\u540c\u8bf7\u6c42\u95f4\u5b58\u50a8\u7279\u5b9a\u7528\u6237\u7684\u4fe1\u606f\u3002\u5b83\u662f\u5728 Cookies \u7684\u57fa\u7840\u4e0a\u5b9e\u73b0\u7684\uff0c\u5e76\u4e14\u5bf9 Cookies \u8fdb\u884c\u5bc6\u94a5\u7b7e\u540d\u3002\u8fd9\u610f\u5473\u7740\u7528\u6237\u53ef\u4ee5\u67e5\u770b\u4f60 Cookie \u7684\u5185\u5bb9\uff0c\u4f46\u5374\u4e0d\u80fd\u4fee\u6539\u5b83\uff0c\u9664\u975e\u7528\u6237\u77e5\u9053\u7b7e\u540d\u7684\u5bc6\u94a5\u3002 \u8981\u4f7f\u7528\u4f1a\u8bdd\uff0c\u4f60\u9700\u8981\u8bbe\u7f6e\u4e00\u4e2a\u5bc6\u94a5\u3002\u8fd9\u91cc\u4ecb\u7ecd\u4f1a\u8bdd\u5982\u4f55\u5de5\u4f5c: from flask import Flask , session , redirect , url_for , escape , request app = Flask ( __name__ ) @app . route ( '/' ) def index (): if 'username' in session : return 'Logged in as %s ' % escape ( session [ 'username' ]) return 'You are not logged in' @app . route ( '/login' , methods = [ 'GET' , 'POST' ]) def login (): if request . method == 'POST' : session [ 'username' ] = request . form [ 'username' ] return redirect ( url_for ( 'index' )) return ''' <form action=\"\" method=\"post\"> <p><input type=text name=username> <p><input type=submit value=Login> </form> ''' @app . route ( '/logout' ) def logout (): # remove the username from the session if it's there session . pop ( 'username' , None ) return redirect ( url_for ( 'index' )) # set the secret key. keep this really secret: app . secret_key = 'A0Zr98j/3yX R~XHH!jmN]LWX/,?RT' \u8fd9\u91cc\u63d0\u5230\u7684 escape() \u53ef\u4ee5\u5728\u4f60\u6a21\u677f\u5f15\u64ce\u5916\u505a\u8f6c\u4e49\uff08\u5982\u540c\u672c\u4f8b\uff09\u3002 \u5982\u4f55\u751f\u6210\u5f3a\u58ee\u7684\u5bc6\u94a5 \u968f\u673a\u7684\u95ee\u9898\u5728\u4e8e\u5f88\u96be\u5224\u65ad\u4ec0\u4e48\u662f\u771f\u968f\u673a\u3002\u4e00\u4e2a\u5bc6\u94a5\u5e94\u8be5\u8db3\u591f\u968f\u673a\u3002\u4f60\u7684\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u57fa\u4e8e\u4e00\u4e2a\u5bc6\u94a5\u968f\u673a\u751f\u6210\u5668\u6765\u751f\u6210\u6f02\u4eae\u7684\u968f\u673a\u503c\uff0c\u8fd9\u4e2a\u503c\u53ef\u4ee5\u7528\u6765\u505a\u5bc6\u94a5: >>> import os >>> os . urandom ( 24 ) ' \\xfd {H \\xe5 < \\x95\\xf9\\xe3\\x96 .5 \\xd1\\x01 O<! \\xd5\\xa2\\xa0\\x9f R\" \\xa1\\xa8 ' \u628a\u8fd9\u4e2a\u503c\u590d\u5236\u7c98\u8d34\u8fdb\u4f60\u7684\u4ee3\u7801\u4e2d\uff0c\u4f60\u5c31\u6709\u4e86\u5bc6\u94a5\u3002 \u4f7f\u7528\u57fa\u4e8e cookie \u7684\u4f1a\u8bdd\u9700\u6ce8\u610f: Flask \u4f1a\u5c06\u4f60\u653e\u8fdb\u4f1a\u8bdd\u5bf9\u8c61\u7684\u503c\u5e8f\u5217\u5316\u81f3 Cookies\u3002\u5982\u679c\u4f60\u53d1\u73b0\u67d0\u4e9b\u503c\u5728\u8bf7\u6c42\u4e4b\u95f4\u5e76\u6ca1\u6709\u6301\u4e45\u5b58\u5728\uff0c\u7136\u800c\u786e\u5b9e\u5df2\u7ecf\u542f\u7528\u4e86 Cookies\uff0c\u4f46\u4e5f\u6ca1\u6709\u5f97\u5230\u660e\u786e\u7684\u9519\u8bef\u4fe1\u606f\u3002\u8fd9\u65f6\uff0c\u8bf7\u68c0\u67e5\u4f60\u7684\u9875\u9762\u54cd\u5e94\u4e2d\u7684 Cookies \u7684\u5927\u5c0f\uff0c\u5e76\u4e0e Web \u6d4f\u89c8\u5668\u6240\u652f\u6301\u7684\u5927\u5c0f\u5bf9\u6bd4\u3002","title":"\u4f1a\u8bdd"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#_14","text":"\u53cd\u9988\uff0c\u662f\u826f\u597d\u7684\u5e94\u7528\u548c\u7528\u6237\u754c\u9762\u7684\u91cd\u8981\u6784\u6210\u3002\u5982\u679c\u7528\u6237\u5f97\u4e0d\u5230\u8db3\u591f\u7684\u53cd\u9988\uff0c\u4ed6\u4eec\u5f88\u53ef\u80fd\u5f00\u59cb\u538c\u6076\u8fd9\u4e2a\u5e94\u7528\u3002 Flask \u63d0\u4f9b\u4e86\u6d88\u606f\u95ea\u73b0\u7cfb\u7edf\uff0c\u53ef\u4ee5\u7b80\u5355\u5730\u7ed9\u7528\u6237\u53cd\u9988\u3002 \u6d88\u606f\u95ea\u73b0\u7cfb\u7edf\u901a\u5e38\u4f1a\u5728\u8bf7\u6c42\u7ed3\u675f\u65f6\u8bb0\u5f55\u4fe1\u606f\uff0c\u5e76\u5728\u4e0b\u4e00\u4e2a\uff08\u4e14\u4ec5\u5728\u4e0b\u4e00\u4e2a\uff09\u8bf7\u6c42\u4e2d\u8bbf\u95ee\u8bb0\u5f55\u7684\u4fe1\u606f\u3002\u5c55\u73b0\u8fd9\u4e9b\u6d88\u606f\u901a\u5e38\u7ed3\u5408\u8981\u6a21\u677f\u5e03\u5c40\u3002 \u4f7f\u7528 flash() \u65b9\u6cd5\u53ef\u4ee5\u95ea\u73b0\u4e00\u6761\u6d88\u606f\u3002\u8981\u64cd\u4f5c\u6d88\u606f\u672c\u8eab\uff0c\u8bf7\u4f7f\u7528 get_flashed_messages() \u51fd\u6570\uff0c\u5e76\u4e14\u5728\u6a21\u677f\u4e2d\u4e5f\u53ef\u4ee5\u4f7f\u7528\u3002\u5b8c\u6574\u7684\u4f8b\u5b50\u89c1 \u6d88\u606f\u95ea\u73b0 \u90e8\u5206\u3002","title":"\u6d88\u606f\u95ea\u73b0"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#_15","text":"0.3 \u65b0\u7248\u529f\u80fd. \u6709\u65f6\u5019\u4f60\u4f1a\u5904\u4e8e\u8fd9\u6837\u4e00\u79cd\u5883\u5730\uff0c\u4f60\u5904\u7406\u7684\u6570\u636e\u672c\u5e94\u8be5\u662f\u6b63\u786e\u7684\uff0c\u4f46\u5b9e\u9645\u4e0a\u4e0d\u662f\u3002 \u6bd4\u5982\uff0c\u4f60\u4f1a\u6709\u4e00\u4e9b\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u7684\u5ba2\u6237\u7aef\u4ee3\u7801\uff0c\u4f46\u8bf7\u6c42\u663e\u7136\u662f\u7578\u5f62\u7684\u3002\u8fd9\u53ef\u80fd\u662f\u7528\u6237\u7be1\u6539\u4e86\u6570\u636e\uff0c\u6216\u662f\u5ba2\u6237\u7aef\u4ee3\u7801\u7684\u7c97\u5236\u6ee5\u9020\u3002\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6b63\u5e38\u5730\u8fd4\u56de 400 Bad Request \u5c31\u53ef\u4ee5\u4e86\uff0c\u4f46\u662f\u6709\u65f6\u5019\u4e0d\u80fd\u8fd9\u4e48\u505a\uff0c\u5e76\u4e14\u8981\u8ba9\u4ee3\u7801\u7ee7\u7eed\u8fd0\u884c\u3002 \u4f60\u53ef\u80fd\u4f9d\u7136\u60f3\u8981\u8bb0\u5f55\u4e0b\uff0c\u662f\u4ec0\u4e48\u4e0d\u5bf9\u52b2\u3002\u8fd9\u65f6\u65e5\u5fd7\u8bb0\u5f55\u5c31\u6d3e\u4e0a\u4e86\u7528\u573a\u3002\u4ece Flask 0.3 \u5f00\u59cb\uff0cFlask \u5c31\u5df2\u7ecf\u9884\u7f6e\u4e86\u65e5\u5fd7\u7cfb\u7edf\u3002 \u8fd9\u91cc\u6709\u4e00\u4e9b\u8c03\u7528\u65e5\u5fd7\u8bb0\u5f55\u7684\u4f8b\u5b50: app . logger . debug ( 'A value for debugging' ) app . logger . warning ( 'A warning occurred ( %d apples)' , 42 ) app . logger . error ( 'An error occurred' ) \u9644\u5e26\u7684 logger \u662f\u4e00\u4e2a\u6807\u51c6\u65e5\u5fd7\u7c7b Logger \uff0c\u6240\u4ee5\u66f4\u591a\u4fe1\u606f\u8bf7\u67e5\u9605 logging \u7684\u6587\u6863 \u3002","title":"\u65e5\u5fd7\u8bb0\u5f55"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#wsgi","text":"\u5982\u679c\u4f60\u60f3\u7ed9\u4f60\u7684\u5e94\u7528\u6dfb\u52a0 WSGI \u4e2d\u95f4\u4ef6\uff0c\u4f60\u53ef\u4ee5\u5c01\u88c5\u5185\u90e8 WSGI \u5e94\u7528\u3002\u4f8b\u5982\u82e5\u662f\u4f60\u60f3\u7528 Werkzeug \u5305\u4e2d\u7684\u67d0\u4e2a\u4e2d\u95f4\u4ef6\u6765\u5e94\u4ed8 lighttpd \u4e2d\u7684 bugs \uff0c\u53ef\u4ee5\u8fd9\u6837\u505a: from werkzeug.contrib.fixers import LighttpdCGIRootFix app . wsgi_app = LighttpdCGIRootFix ( app . wsgi_app )","title":"\u6574\u5408 WSGI \u4e2d\u95f4\u4ef6"},{"location":"python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#web","text":"\u51c6\u5907\u597d\u90e8\u7f72\u4f60\u7684 Flask \u5e94\u7528\u4e86\uff1f\u4f60\u53ef\u4ee5\u7acb\u5373\u90e8\u7f72\u5230\u6258\u7ba1\u5e73\u53f0\u6765\u5706\u6ee1\u5b8c\u6210\u5feb\u901f\u5165\u95e8\uff0c\u4ee5\u4e0b\u5382\u5546\u5747\u5411\u5c0f\u9879\u76ee\u63d0\u4f9b\u514d\u8d39\u7684\u65b9\u6848: \u5728 Heroku \u4e0a\u90e8\u7f72 Flask \u5728 dotCloud \u4e0a\u90e8\u7f72 Flask \u9644 Flask \u7684\u5177\u4f53\u8bf4\u660e \u6258\u7ba1 Flask \u5e94\u7528\u7684\u5176\u5b83\u9009\u62e9: \u5728 Webfaction \u4e0a\u90e8\u7f72 Flask \u5728 Google App Engine \u4e0a\u90e8\u7f72 Flask \u7528 Localtunnel \u5171\u4eab\u4f60\u7684\u672c\u5730\u670d\u52a1\u5668 \u5982\u679c\u4f60\u6709\u81ea\u5df1\u7684\u4e3b\u673a\uff0c\u5e76\u4e14\u51c6\u5907\u81ea\u5df1\u6258\u7ba1\uff0c\u53c2\u89c1 \u90e8\u7f72\u9009\u62e9 \u7ae0\u8282\u3002","title":"\u90e8\u7f72\u5230 Web \u670d\u52a1\u5668"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/","text":"Flask \u8bfe\u7a0b\u5927\u7eb2 \u00b6 \u77e5\u4e4e\u9879\u76ee\u9700\u6c42\uff1a\u53ef\u4ee5\u7528\u6237\u6ce8\u518c\u3001\u7528\u6237\u767b\u5f55\u3001\u641c\u7d22\u65e5\u5fd7\u3001\u53d1\u5e03\u65e5\u5fd7\uff08\u589e\u5220\u6539\u67e5\uff09\u3001\u589e\u52a0\u8bc4\u8bba \u7b2c0\u7ae0 \u5b89\u88c5\u73af\u5883 \u00b6 \u5b89\u88c5 python \u00b6 py2.7(mac\u81ea\u5e26python2.7\uff09\u76f4\u63a5\u5728\u63a7\u5236\u53f0\u8f93\u5165 python\uff1bWindows \u9700\u8981\u914d\u7f6e\u73af\u5883\u53d8\u91cf\uff08python pip easy-install \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff09\u8fd9\u91cc\u9700\u8981\u8bbe\u7f6e python \u7684\u73af\u5883\u53d8\u91cf\u548c pip \u7684\u73af\u5883\u53d8\u91cf \u6253\u5f00\u8ba1\u7b97\u673a-\u5c5e\u6027-\u9ad8\u7ea7\u5c5e\u6027-\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf-\u589e\u52a0\u73af\u5883\u53d8\u91cf \u540d\u79f0\u662f PATH \u5c5e\u6027\u662f\u6587\u4ef6\u8def\u5f84 C:/Python27;C:/Python27/Scripts \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u540e\uff0c\u5728cmd\u4e2d\u53ef\u4ee5\u770b\u5230python\u548cpip\u7684\u7248\u672c\u53f7 \u5b89\u88c5\u865a\u62df\u73af\u5883 virtualenv \u00b6 \u6240\u4ee5\u9700\u8981python\u865a\u62df\u73af\u5883\u3002\u4e0d\u540c\u7684\u865a\u62df\u73af\u5883\u4e2d\u5b89\u88c5\u4e0d\u540c\u7684falsk\u7684\u7248\u672c\u548c\u5e93\uff0c\u4e24\u4e2a\u7248\u672c\u4f1a\u5171\u5b58\u3002\u865a\u62df\u73af\u5883\u4f1a\u907f\u514d\u7248\u672c\u51b2\u7a81\u3002 \u5b89\u88c5\u865a\u62df\u73af\u5883 sudo pip install virtualenv mkdir Test cd test virtualenv flask-env Windows\u6fc0\u6d3b\u865a\u62df\u73af\u5883 cd falsk-dev/scripts activate deactivate # \u9000\u51fa Mac \u6fc0\u6d3b\u865a\u62df\u73af\u5883 source ~/Virtualenv/flask-env/bin/activate # source path/bin/activate deactivate # \u9000\u51fa \u5b89\u88c5flask \u00b6 falsk \u7248\u672c\u517c\u5bb9\u95ee\u9898\uff1a\u6559\u7a0b\u662f0.12.2 \u73b0\u5728\u5b89\u88c5\u7684\u662f 1.1.1 \u7248\u672c\uff1b\u53ef\u80fd\u90e8\u5206\u4ee3\u7801\u4e0d\u517c\u5bb9 source ~/Virtualenv/flask-env/bin/activate pip install flask python import flask print flask.__version__ # 1.1.1 \u73b0\u5728\u865a\u62df\u73af\u5883\u548cflask\u5df2\u7ecf\u914d\u7f6e\u5b8c\u6bd5\uff08windows\u73af\u5883\u4e0b\uff09 \u7b2c\u4e00\u7ae0 URLs \u548c\u89c6\u56fe \u00b6 \u7b2c\u4e00\u8bfe hello flask \u00b6 \u7b2c\u4e00\u6b21\u521b\u5efa\u9879\u76ee\u7684\u65f6\u5019\uff0c\u9700\u8981\u6dfb\u52a0\u865a\u62df\u73af\u5883\uff08\u5728pycharm\uff09\u9009\u62e9\u865a\u62df\u73af\u5883\u4e2d\u7684python\u6267\u884c\u6587\u4ef6 flask \u4ee3\u7801\u57fa\u672c\u7ed3\u6784\u89e3\u91ca #coding=utf-8 # python 2\u9700\u8981\u8bbe\u7f6e\u8bed\u8a00utf-8 # \u4eceFlask\u6846\u67b6\u4e2d\u5bfc\u5165\u8fd9\u4e2a\u7c7b from flask import Flask # \u521d\u59cb\u5316\u5bf9\u8c61\uff0c\u9700\u8981\u4f20\u53c2 app = Flask ( __name__ ) # \u88c5\u9970\u5668 @\u5f00\u5934\uff0c\u4f4d\u4e8e\u51fd\u6570\u7684\u4e0a\u9762 # \u662fURL\u89c6\u56fe\u51fd\u6570\u7684\u6620\u5c04 # 127.0.0.1:5000 \u4f1a\u6620\u5c04\u5230\u4e0b\u9762\u7684\u51fd\u6570 @app . route ( '/' ) def hello_world (): return 'Hello Michael An!' @app . route ( '/index' ) def index_page (): return 'Hello Index Page' # \u5165\u53e3\u7a0b\u5e8f\uff1a\u542f\u52a8\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u63a5\u53d7\u7528\u6237\u7684\u8bf7\u6c42\uff08eventlistener\uff09 if __name__ == '__main__' : app . run () \u7b2c\u4e8c\u8bfe debug \u00b6 app.run(debug=True) \u53ef\u4ee5\u6253\u5f00\u8c03\u8bd5\u6a21\u5f0f \u53ef\u4ee5\u9879\u76ee\u70ed\u52a0\u8f7d\uff08\u4fee\u6539python\u6587\u4ef6\u624d\u884c\uff0cJS\u6587\u4ef6\u4fee\u6539\u540e\u4e0d\u4f1a\u70ed\u52a0\u8f7d\uff09\uff1b\u53ef\u4ee5\u51fa\u73b0\u95ee\u9898\u540e\u5728\u9875\u9762\u4e2d\u770b\u5230\u62a5\u9519\u8be6\u60c5 \u5916\u90e8\u914d\u7f6e\u6587\u4ef6 \u00b6 \u65b0\u5efa\u914d\u7f6e\u6587\u4ef6 config.py\uff0c\u52a0\u5165\u5927\u5199\u7684\u53c2\u6570 DEBUG = True # SECRET_KEY \u5728\u4e3b\u6587\u4ef6\u4e2d\u5f15\u5165\u914d\u7f6e\u6587\u4ef6\uff0c\u4f7f\u7528\u914d\u7f6e main.py import config app . config . from_object ( config ) \u7b2c3\u8bfe URL \u4f20\u53c2 \u00b6 \u53ef\u4ee5\u5728URL\u4e2d\u4f20\u53c2 @app . route ( '/page/<number>' ) def change_page ( number ): return 'change page to %s ' % number \u53c2\u6570\u9700\u8981\u653e\u5728\u5c16\u62ec\u53f7\u4e2d\uff0c\u89c6\u56fe\u51fd\u6570\u4e2d\u53c2\u6570\u548c\u539f\u59cb\u53c2\u6570\u76f8\u540c\u3002 \u7b2c4\u8bfe URL\u53cd\u8f6c \u00b6 \u53ef\u4ee5\u5728\u4e00\u4e2a\u89c6\u56fe\u51fd\u6570\u4e2d\uff0c\u4f20\u5165\u5176\u4ed6\u89c6\u56fe\u51fd\u6570\uff0c\u8fd4\u56de\u5bf9\u5e94\u7684URL \u4f7f\u7528 url_for \u5185\u7f6e\u51fd\u6570 \u7528\u9014\uff1a\u9875\u9762\u91cd\u5b9a\u5411\uff1bHTML\u4e2dA\u94fe\u63a5 from flask import Flask , url_for import config app = Flask ( __name__ ) app . config . from_object ( config ) @app . route ( '/' ) def hello_world (): print url_for ( 'handle_index' ) print url_for ( 'change_page' , number = 20 ) return 'Hello World!' @app . route ( '/index' ) def handle_index (): return 'index page' @app . route ( '/page/<number>' ) def change_page ( number ): return 'this is %s ' % number if __name__ == '__main__' : app . run () \u6ce8\u610f\uff1a\u8fd0\u884cflask\u540e\uff0c\u9700\u8981\u70b9\u51fb\u5de6\u4e0b\u89d2\u7684\u5173\u95ed\u6309\u94ae\uff0c\u624d\u80fd\u5173\u95ed\u5f53\u524d\u7684\u672c\u5730\u670d\u52a1\u5668\u3002\u5426\u5219\u5173\u95ed\u8f6f\u4ef6\u540e\uff0c\u672c\u5730\u670d\u52a1\u5668\u8fd8\u5728\u8fd0\u884c\uff0c\u53ef\u80fd\u5f71\u54cd\u5176\u4ed6\u7684\u672c\u5730\u670d\u52a1\u5668\u3002 \u7b2c5\u8bfe \u9875\u9762\u91cd\u5b9a\u5411\u548c\u8df3\u8f6c \u00b6 \u5b9e\u9645\u4f7f\u7528:\u7528\u6237\u672a\u767b\u5f55\u65f6\uff0c\u8df3\u8f6c\uff08\u91cd\u5b9a\u5411\uff09\u5230\u767b\u5f55\u754c\u9762 #coding=utf-8 from flask import Flask , redirect , url_for app = Flask ( __name__ ) @app . route ( '/' ) def hello_world (): return redirect ( url_for ( 'login' )) # return redirect('/login/') # return 'Hello World!' # \u5982\u679c\u662f\u56fa\u5b9a\u7684URL\uff0c\u90a3\u4e48\u89c6\u56fe\u51fd\u6570\u4e2d\u7684\u8def\u5f84\u66f4\u6539\u540e\uff0c\u91cd\u5b9a\u5411\u4f1a\u9519\u8bef # \u4f7f\u7528url_for\u52a8\u6001\u83b7\u53d6\u89c6\u56fe\u51fd\u6570\u7684\u8df3\u8f6c\u4f4d\u7f6e @app . route ( '/login/' ) def login (): return 'This is login page, please login' # we can use cookie to check user login state in the future @app . route ( '/question/<id>' ) def question ( id ): if id == '1' : return 'Your question is 1, This is question page' else : return redirect ( url_for ( 'login' )) if __name__ == '__main__' : app . run ( debug = True ) \u7b2c\u4e8c\u7ae0 Jinja2\u6a21\u677f \u00b6 \u7b2c\u4e00\u8bfe \u6a21\u677f\u6e32\u67d3\u548c\u4f20\u53c2 \u00b6 \u6a21\u677f\u653e\u5728 templates \u8def\u5f84\u4e0b \u5bfc\u5165\u6a21\u677f\uff1arender_template \u51fd\u6570\uff1b\u6ce8\u610f\uff1a\u4e0d\u9700\u8981\u5199templates\u6587\u4ef6\u5939\u7684\u8def\u5f84\uff0c\u76f4\u63a5\u5199\u5165\u53e3\u6587\u4ef6 \u6a21\u677f\u4f20\u53c2\uff1arender_template \u51fd\u6570\u4e2d\u7b2c\u4e8c\u4e2a\u53c2\u6570\u8fdb\u884c\u4f20\u53c2\uff1b\u5728\u6a21\u677f\u4e2d\u4f7f\u7528\u53d8\u91cf\u9700\u8981 {{ \u53c2\u6570 }} \u7b2c\u4e8c\u8bfe \u6a21\u677f\u4e2d\u8bbf\u95ee\u5c5e\u6027\u548c\u5b57\u5178 \u00b6 \u8bbf\u95ee\u6a21\u578b\u4e2d\u7684\u5c5e\u6027\u6216\u8005\u5b57\u5178\u3002\u4f7f\u7528\u70b9\u8bed\u6cd5\u6216\u8005\u4e2d\u62ec\u53f7\u53ef\u4ee5\u83b7\u53d6\u503c \u7b2c\u4e09\u8bfe \u6761\u4ef6\u8bed\u53e5 \u00b6 {% if user %} <p>{{ user.name }}</p> <p>\u6ce8\u9500</p> {% else %} <p>\u767b\u5f55</p> <p>\u6ce8\u518c</p> {% endif %} and or not \u903b\u8f91\u64cd\u4f5c \u7b2c\u56db\u8bfe \u5faa\u73af\u8bed\u53e5 \u00b6 \u904d\u5386\u5b57\u5178 \u00b6 python \u4e2d\u904d\u5386\u5b57\u5178\u548c JS \u4e0d\u540c user = { 'name' : 'Mike' , 'age' : 18 } for k , v in user . items (): print k print v Jinja2 \u6a21\u677f\u4e2d\u7684\u4f7f\u7528 \u5176\u4ed6\u7684\u904d\u5386\u548cpython\u4e00\u6837\uff0c \u4f7f\u7528 items() keys() values() iteritems() itrtkeys() itervalues() \u8fed\u4ee3\u5668\u904d\u5386 <dl> <% for key, value, in my_dict.iteritems() %> <dt>{{ key|e }}</dt> <dd>{{ value|e }}</dd> <% endfor %> </dl> \u904d\u5386\u5217\u8868 \u00b6 \u6ca1\u6709\u503c\u7684\u60c5\u51b5 <ul> {% for user in users %} <li>{{ user.name }}</li> {% else %} <li>no users found</li> {% endfor %} </ul> \u5c0f\u6848\u4f8b\uff1a\u56db\u5927\u540d\u8457\u7684\u6e32\u67d3","title":"flask \u7f51\u6613\u4e91\u8bfe\u5802.md"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#flask","text":"\u77e5\u4e4e\u9879\u76ee\u9700\u6c42\uff1a\u53ef\u4ee5\u7528\u6237\u6ce8\u518c\u3001\u7528\u6237\u767b\u5f55\u3001\u641c\u7d22\u65e5\u5fd7\u3001\u53d1\u5e03\u65e5\u5fd7\uff08\u589e\u5220\u6539\u67e5\uff09\u3001\u589e\u52a0\u8bc4\u8bba","title":"Flask \u8bfe\u7a0b\u5927\u7eb2"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#0","text":"","title":"\u7b2c0\u7ae0 \u5b89\u88c5\u73af\u5883"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#python","text":"py2.7(mac\u81ea\u5e26python2.7\uff09\u76f4\u63a5\u5728\u63a7\u5236\u53f0\u8f93\u5165 python\uff1bWindows \u9700\u8981\u914d\u7f6e\u73af\u5883\u53d8\u91cf\uff08python pip easy-install \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff09\u8fd9\u91cc\u9700\u8981\u8bbe\u7f6e python \u7684\u73af\u5883\u53d8\u91cf\u548c pip \u7684\u73af\u5883\u53d8\u91cf \u6253\u5f00\u8ba1\u7b97\u673a-\u5c5e\u6027-\u9ad8\u7ea7\u5c5e\u6027-\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf-\u589e\u52a0\u73af\u5883\u53d8\u91cf \u540d\u79f0\u662f PATH \u5c5e\u6027\u662f\u6587\u4ef6\u8def\u5f84 C:/Python27;C:/Python27/Scripts \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u540e\uff0c\u5728cmd\u4e2d\u53ef\u4ee5\u770b\u5230python\u548cpip\u7684\u7248\u672c\u53f7","title":"\u5b89\u88c5 python"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#virtualenv","text":"\u6240\u4ee5\u9700\u8981python\u865a\u62df\u73af\u5883\u3002\u4e0d\u540c\u7684\u865a\u62df\u73af\u5883\u4e2d\u5b89\u88c5\u4e0d\u540c\u7684falsk\u7684\u7248\u672c\u548c\u5e93\uff0c\u4e24\u4e2a\u7248\u672c\u4f1a\u5171\u5b58\u3002\u865a\u62df\u73af\u5883\u4f1a\u907f\u514d\u7248\u672c\u51b2\u7a81\u3002 \u5b89\u88c5\u865a\u62df\u73af\u5883 sudo pip install virtualenv mkdir Test cd test virtualenv flask-env Windows\u6fc0\u6d3b\u865a\u62df\u73af\u5883 cd falsk-dev/scripts activate deactivate # \u9000\u51fa Mac \u6fc0\u6d3b\u865a\u62df\u73af\u5883 source ~/Virtualenv/flask-env/bin/activate # source path/bin/activate deactivate # \u9000\u51fa","title":"\u5b89\u88c5\u865a\u62df\u73af\u5883 virtualenv"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#flask_1","text":"falsk \u7248\u672c\u517c\u5bb9\u95ee\u9898\uff1a\u6559\u7a0b\u662f0.12.2 \u73b0\u5728\u5b89\u88c5\u7684\u662f 1.1.1 \u7248\u672c\uff1b\u53ef\u80fd\u90e8\u5206\u4ee3\u7801\u4e0d\u517c\u5bb9 source ~/Virtualenv/flask-env/bin/activate pip install flask python import flask print flask.__version__ # 1.1.1 \u73b0\u5728\u865a\u62df\u73af\u5883\u548cflask\u5df2\u7ecf\u914d\u7f6e\u5b8c\u6bd5\uff08windows\u73af\u5883\u4e0b\uff09","title":"\u5b89\u88c5flask"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#urls","text":"","title":"\u7b2c\u4e00\u7ae0 URLs \u548c\u89c6\u56fe"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#hello-flask","text":"\u7b2c\u4e00\u6b21\u521b\u5efa\u9879\u76ee\u7684\u65f6\u5019\uff0c\u9700\u8981\u6dfb\u52a0\u865a\u62df\u73af\u5883\uff08\u5728pycharm\uff09\u9009\u62e9\u865a\u62df\u73af\u5883\u4e2d\u7684python\u6267\u884c\u6587\u4ef6 flask \u4ee3\u7801\u57fa\u672c\u7ed3\u6784\u89e3\u91ca #coding=utf-8 # python 2\u9700\u8981\u8bbe\u7f6e\u8bed\u8a00utf-8 # \u4eceFlask\u6846\u67b6\u4e2d\u5bfc\u5165\u8fd9\u4e2a\u7c7b from flask import Flask # \u521d\u59cb\u5316\u5bf9\u8c61\uff0c\u9700\u8981\u4f20\u53c2 app = Flask ( __name__ ) # \u88c5\u9970\u5668 @\u5f00\u5934\uff0c\u4f4d\u4e8e\u51fd\u6570\u7684\u4e0a\u9762 # \u662fURL\u89c6\u56fe\u51fd\u6570\u7684\u6620\u5c04 # 127.0.0.1:5000 \u4f1a\u6620\u5c04\u5230\u4e0b\u9762\u7684\u51fd\u6570 @app . route ( '/' ) def hello_world (): return 'Hello Michael An!' @app . route ( '/index' ) def index_page (): return 'Hello Index Page' # \u5165\u53e3\u7a0b\u5e8f\uff1a\u542f\u52a8\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u63a5\u53d7\u7528\u6237\u7684\u8bf7\u6c42\uff08eventlistener\uff09 if __name__ == '__main__' : app . run ()","title":"\u7b2c\u4e00\u8bfe hello flask"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#debug","text":"app.run(debug=True) \u53ef\u4ee5\u6253\u5f00\u8c03\u8bd5\u6a21\u5f0f \u53ef\u4ee5\u9879\u76ee\u70ed\u52a0\u8f7d\uff08\u4fee\u6539python\u6587\u4ef6\u624d\u884c\uff0cJS\u6587\u4ef6\u4fee\u6539\u540e\u4e0d\u4f1a\u70ed\u52a0\u8f7d\uff09\uff1b\u53ef\u4ee5\u51fa\u73b0\u95ee\u9898\u540e\u5728\u9875\u9762\u4e2d\u770b\u5230\u62a5\u9519\u8be6\u60c5","title":"\u7b2c\u4e8c\u8bfe debug"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#_1","text":"\u65b0\u5efa\u914d\u7f6e\u6587\u4ef6 config.py\uff0c\u52a0\u5165\u5927\u5199\u7684\u53c2\u6570 DEBUG = True # SECRET_KEY \u5728\u4e3b\u6587\u4ef6\u4e2d\u5f15\u5165\u914d\u7f6e\u6587\u4ef6\uff0c\u4f7f\u7528\u914d\u7f6e main.py import config app . config . from_object ( config )","title":"\u5916\u90e8\u914d\u7f6e\u6587\u4ef6"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#3-url","text":"\u53ef\u4ee5\u5728URL\u4e2d\u4f20\u53c2 @app . route ( '/page/<number>' ) def change_page ( number ): return 'change page to %s ' % number \u53c2\u6570\u9700\u8981\u653e\u5728\u5c16\u62ec\u53f7\u4e2d\uff0c\u89c6\u56fe\u51fd\u6570\u4e2d\u53c2\u6570\u548c\u539f\u59cb\u53c2\u6570\u76f8\u540c\u3002","title":"\u7b2c3\u8bfe URL \u4f20\u53c2"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#4-url","text":"\u53ef\u4ee5\u5728\u4e00\u4e2a\u89c6\u56fe\u51fd\u6570\u4e2d\uff0c\u4f20\u5165\u5176\u4ed6\u89c6\u56fe\u51fd\u6570\uff0c\u8fd4\u56de\u5bf9\u5e94\u7684URL \u4f7f\u7528 url_for \u5185\u7f6e\u51fd\u6570 \u7528\u9014\uff1a\u9875\u9762\u91cd\u5b9a\u5411\uff1bHTML\u4e2dA\u94fe\u63a5 from flask import Flask , url_for import config app = Flask ( __name__ ) app . config . from_object ( config ) @app . route ( '/' ) def hello_world (): print url_for ( 'handle_index' ) print url_for ( 'change_page' , number = 20 ) return 'Hello World!' @app . route ( '/index' ) def handle_index (): return 'index page' @app . route ( '/page/<number>' ) def change_page ( number ): return 'this is %s ' % number if __name__ == '__main__' : app . run () \u6ce8\u610f\uff1a\u8fd0\u884cflask\u540e\uff0c\u9700\u8981\u70b9\u51fb\u5de6\u4e0b\u89d2\u7684\u5173\u95ed\u6309\u94ae\uff0c\u624d\u80fd\u5173\u95ed\u5f53\u524d\u7684\u672c\u5730\u670d\u52a1\u5668\u3002\u5426\u5219\u5173\u95ed\u8f6f\u4ef6\u540e\uff0c\u672c\u5730\u670d\u52a1\u5668\u8fd8\u5728\u8fd0\u884c\uff0c\u53ef\u80fd\u5f71\u54cd\u5176\u4ed6\u7684\u672c\u5730\u670d\u52a1\u5668\u3002","title":"\u7b2c4\u8bfe URL\u53cd\u8f6c"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#5","text":"\u5b9e\u9645\u4f7f\u7528:\u7528\u6237\u672a\u767b\u5f55\u65f6\uff0c\u8df3\u8f6c\uff08\u91cd\u5b9a\u5411\uff09\u5230\u767b\u5f55\u754c\u9762 #coding=utf-8 from flask import Flask , redirect , url_for app = Flask ( __name__ ) @app . route ( '/' ) def hello_world (): return redirect ( url_for ( 'login' )) # return redirect('/login/') # return 'Hello World!' # \u5982\u679c\u662f\u56fa\u5b9a\u7684URL\uff0c\u90a3\u4e48\u89c6\u56fe\u51fd\u6570\u4e2d\u7684\u8def\u5f84\u66f4\u6539\u540e\uff0c\u91cd\u5b9a\u5411\u4f1a\u9519\u8bef # \u4f7f\u7528url_for\u52a8\u6001\u83b7\u53d6\u89c6\u56fe\u51fd\u6570\u7684\u8df3\u8f6c\u4f4d\u7f6e @app . route ( '/login/' ) def login (): return 'This is login page, please login' # we can use cookie to check user login state in the future @app . route ( '/question/<id>' ) def question ( id ): if id == '1' : return 'Your question is 1, This is question page' else : return redirect ( url_for ( 'login' )) if __name__ == '__main__' : app . run ( debug = True )","title":"\u7b2c5\u8bfe \u9875\u9762\u91cd\u5b9a\u5411\u548c\u8df3\u8f6c"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#jinja2","text":"","title":"\u7b2c\u4e8c\u7ae0 Jinja2\u6a21\u677f"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#_2","text":"\u6a21\u677f\u653e\u5728 templates \u8def\u5f84\u4e0b \u5bfc\u5165\u6a21\u677f\uff1arender_template \u51fd\u6570\uff1b\u6ce8\u610f\uff1a\u4e0d\u9700\u8981\u5199templates\u6587\u4ef6\u5939\u7684\u8def\u5f84\uff0c\u76f4\u63a5\u5199\u5165\u53e3\u6587\u4ef6 \u6a21\u677f\u4f20\u53c2\uff1arender_template \u51fd\u6570\u4e2d\u7b2c\u4e8c\u4e2a\u53c2\u6570\u8fdb\u884c\u4f20\u53c2\uff1b\u5728\u6a21\u677f\u4e2d\u4f7f\u7528\u53d8\u91cf\u9700\u8981 {{ \u53c2\u6570 }}","title":"\u7b2c\u4e00\u8bfe \u6a21\u677f\u6e32\u67d3\u548c\u4f20\u53c2"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#_3","text":"\u8bbf\u95ee\u6a21\u578b\u4e2d\u7684\u5c5e\u6027\u6216\u8005\u5b57\u5178\u3002\u4f7f\u7528\u70b9\u8bed\u6cd5\u6216\u8005\u4e2d\u62ec\u53f7\u53ef\u4ee5\u83b7\u53d6\u503c","title":"\u7b2c\u4e8c\u8bfe \u6a21\u677f\u4e2d\u8bbf\u95ee\u5c5e\u6027\u548c\u5b57\u5178"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#_4","text":"{% if user %} <p>{{ user.name }}</p> <p>\u6ce8\u9500</p> {% else %} <p>\u767b\u5f55</p> <p>\u6ce8\u518c</p> {% endif %} and or not \u903b\u8f91\u64cd\u4f5c","title":"\u7b2c\u4e09\u8bfe \u6761\u4ef6\u8bed\u53e5"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#_5","text":"","title":"\u7b2c\u56db\u8bfe \u5faa\u73af\u8bed\u53e5"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#_6","text":"python \u4e2d\u904d\u5386\u5b57\u5178\u548c JS \u4e0d\u540c user = { 'name' : 'Mike' , 'age' : 18 } for k , v in user . items (): print k print v Jinja2 \u6a21\u677f\u4e2d\u7684\u4f7f\u7528 \u5176\u4ed6\u7684\u904d\u5386\u548cpython\u4e00\u6837\uff0c \u4f7f\u7528 items() keys() values() iteritems() itrtkeys() itervalues() \u8fed\u4ee3\u5668\u904d\u5386 <dl> <% for key, value, in my_dict.iteritems() %> <dt>{{ key|e }}</dt> <dd>{{ value|e }}</dd> <% endfor %> </dl>","title":"\u904d\u5386\u5b57\u5178"},{"location":"python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/#_7","text":"\u6ca1\u6709\u503c\u7684\u60c5\u51b5 <ul> {% for user in users %} <li>{{ user.name }}</li> {% else %} <li>no users found</li> {% endfor %} </ul> \u5c0f\u6848\u4f8b\uff1a\u56db\u5927\u540d\u8457\u7684\u6e32\u67d3","title":"\u904d\u5386\u5217\u8868"},{"location":"python/%E3%80%90%E8%A7%A3%E5%86%B3%E3%80%91ValueError%20Length%20mismatch%20Expected%20axis%20has%200%20elements%2C%20new%20values%20have%202%20elements/","text":"\u3010\u89e3\u51b3\u3011ValueError: Length mismatch: Expected axis has 0 elements, new values have 2 elements \u00b6 \u9519\u8bef\u5982\u4e0b\uff1a ValueError: Length mismatch: Expected axis has 0 elements, new values have 2 elements \u4ee3\u7801\uff1a import pandas as pd out_pred_rows = [] sub = pd.DataFrame(out_pred_rows) sub.columns = ['ImageId', 'EncodedPixels'] # \u5982\u679cout_pred_rows\u4e3a\u7a7a\uff0c\u5219\u8fd9\u53e5\u8bdd\u4f1a\u62a5\u9519 sub = sub[sub.EncodedPixels.notnull()] 1 2 3 4 5 6 7 \u89e3\u51b3\u65b9\u6848\uff1a \u4fdd\u8bc1out_pred_rows\u4e0d\u4e3a\u7a7a \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 \u7248\u6743\u58f0\u660e\uff1a\u672c\u6587\u4e3aCSDN\u535a\u4e3b\u300c\u61c2\u61c2\u61c2\u61c2\u61c2\u61c2\u61c2\u300d\u7684\u539f\u521b\u6587\u7ae0\uff0c\u9075\u5faaCC 4.0 BY-SA\u7248\u6743\u534f\u8bae\uff0c\u8f6c\u8f7d\u8bf7\u9644\u4e0a\u539f\u6587\u51fa\u5904\u94fe\u63a5\u53ca\u672c\u58f0\u660e\u3002 \u539f\u6587\u94fe\u63a5\uff1a https://blog.csdn.net/wangdongwei0/article/details/83863533","title":"ValueError Length mismatch Expected axis has 0 elements, new values have 2 elements.md"},{"location":"python/%E3%80%90%E8%A7%A3%E5%86%B3%E3%80%91ValueError%20Length%20mismatch%20Expected%20axis%20has%200%20elements%2C%20new%20values%20have%202%20elements/#valueerror-length-mismatch-expected-axis-has-0-elements-new-values-have-2-elements","text":"\u9519\u8bef\u5982\u4e0b\uff1a ValueError: Length mismatch: Expected axis has 0 elements, new values have 2 elements \u4ee3\u7801\uff1a import pandas as pd out_pred_rows = [] sub = pd.DataFrame(out_pred_rows) sub.columns = ['ImageId', 'EncodedPixels'] # \u5982\u679cout_pred_rows\u4e3a\u7a7a\uff0c\u5219\u8fd9\u53e5\u8bdd\u4f1a\u62a5\u9519 sub = sub[sub.EncodedPixels.notnull()] 1 2 3 4 5 6 7 \u89e3\u51b3\u65b9\u6848\uff1a \u4fdd\u8bc1out_pred_rows\u4e0d\u4e3a\u7a7a \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 \u7248\u6743\u58f0\u660e\uff1a\u672c\u6587\u4e3aCSDN\u535a\u4e3b\u300c\u61c2\u61c2\u61c2\u61c2\u61c2\u61c2\u61c2\u300d\u7684\u539f\u521b\u6587\u7ae0\uff0c\u9075\u5faaCC 4.0 BY-SA\u7248\u6743\u534f\u8bae\uff0c\u8f6c\u8f7d\u8bf7\u9644\u4e0a\u539f\u6587\u51fa\u5904\u94fe\u63a5\u53ca\u672c\u58f0\u660e\u3002 \u539f\u6587\u94fe\u63a5\uff1a https://blog.csdn.net/wangdongwei0/article/details/83863533","title":"\u3010\u89e3\u51b3\u3011ValueError: Length mismatch: Expected axis has 0 elements, new values have 2 elements"},{"location":"python/%E5%AE%89%E8%A3%85pandas%E6%97%B6%E5%87%BA%E7%8E%B0%E7%8E%AF%E5%A2%83%E9%94%99%E8%AF%AF/","text":"\u5b89\u88c5pandas\u65f6\u51fa\u73b0\u73af\u5883\u9519\u8bef \u00b6 \u5728\u5b89\u88c5pandas\u65f6\u51fa\u73b0Could not install packages due to an EnvironmentError Consider using the --user option or check the permissions \u6b64\u65f6\u5728install\u540e\u9762\u52a0--user\u5373\u53ef pip install --user pandas \u5206\u7c7b: python\u6570\u636e\u5206\u6790","title":"\u5b89\u88c5pandas\u65f6\u51fa\u73b0\u73af\u5883\u9519\u8bef.md"},{"location":"python/%E5%AE%89%E8%A3%85pandas%E6%97%B6%E5%87%BA%E7%8E%B0%E7%8E%AF%E5%A2%83%E9%94%99%E8%AF%AF/#pandas","text":"\u5728\u5b89\u88c5pandas\u65f6\u51fa\u73b0Could not install packages due to an EnvironmentError Consider using the --user option or check the permissions \u6b64\u65f6\u5728install\u540e\u9762\u52a0--user\u5373\u53ef pip install --user pandas \u5206\u7c7b: python\u6570\u636e\u5206\u6790","title":"\u5b89\u88c5pandas\u65f6\u51fa\u73b0\u73af\u5883\u9519\u8bef"},{"location":"python/%E6%90%AD%E5%BB%BApython3%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/","text":"Mac \u642d\u5efa python3 \u5f00\u53d1\u73af\u5883 \u00b6 \u95ee\u9898\u63cf\u8ff0 \u00b6 \u6211\u672c\u5730\u9700\u8981\u8fd0\u884c\u4e00\u4e2a Django3 \u7684\u9879\u76ee\uff0cDjango3 \u9700\u8981 python3 \u7684\u5f00\u53d1\u73af\u5883\uff0c\u6211\u7684 MAC \u4e0a\u9ed8\u8ba4\u5b89\u88c5 python 2.7.10 \u7248\u672c\uff0c\u6240\u4ee5\u9700\u8981\u65b0\u5efa\u4e00\u4e2a python3 \u7684\u5f00\u53d1\u73af\u5883\u3002 \u56e0\u4e3a\u5176\u4ed6\u9879\u76ee\u4f1a\u4f7f\u7528 python2 \u7684\u5f00\u53d1\u73af\u5883\u3002\u4e3a\u4e86\u907f\u514d\u9879\u76ee\u4e92\u76f8\u5e72\u6270\uff0c\u6211\u4f7f\u7528 virtualenv \u642d\u5efa python3 \u5f00\u53d1\u73af\u5883\u3002 \u5b89\u88c5python3 \u00b6 \u5982\u679c\u7535\u8111\u4e0a\u6ca1\u6709 python3 \u7684\u8f6f\u4ef6\uff0c\u9700\u8981\u4e0b\u8f7d\u5b89\u88c5\uff1b\u5982\u679c\u5df2\u7ecf\u6709python3\uff0c\u90a3\u4e48\u76f4\u63a5\u8df3\u5230\u4e0b\u4e00\u7ae0\uff1a \u5b89\u88c5\u811a\u672c\u5982\u4e0b\uff1a wget https://www.python.org/ftp/python/3.4.3/Python-3.4.3.tgz tar zxvf Python-3.4.3.tgz cd Python-3.4.3 ./configure --enable-shared --prefix = /usr/local make && make altinstall \u5b89\u88c5\u5176\u5b83\u7248\u672c\u7684python\u53ef\u4ece\u5b98\u7f51\u4e0b\u8f7d\uff1a https://www.python.org/ \u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u5728\u7ec8\u7aef\u8f93\u5165 python3 \u9a8c\u8bc1\u5b89\u88c5\u662f\u5426\u6210\u529f\uff0c\u56fe\u7247\u5982\u4e0b\uff08\u6211\u672c\u5730\u5b89\u88c5\u76843.7.0\u7248\u672c\uff09 \u642d\u5efapython3\u5f00\u53d1\u73af\u5883 \u00b6 1\u3001\u5b89\u88c5virtualenv\uff0c\u53ef\u4ee5\u901a\u8fc7pip\u8fdb\u884c\u5b89\u88c5\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a pip install virtualenv 2\u3001\u521b\u5efa\u865a\u62df\u73af\u5883\uff1a \u6ce8\u610f\uff1a\u8fd9\u91cc python3.7 \u5bf9\u5e94\u4f60\u5b89\u88c5\u7684\u7248\u672c\uff083.4\u6216\u80053.7\uff09 virtualenv -p /usr/local/bin/python3.7 \u4f60\u7684\u865a\u62df\u73af\u5883\u7684\u540d\u79f0\uff08\u4f8b\u5982\uff0cpy37-michael-blog-env\uff09 \u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\u540e\uff0c\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u521b\u5efa\u865a\u62df\u73af\u5883\u6587\u4ef6\u5939\uff08py37-michael-blog-env\uff09\u3002 3\u3001\u6fc0\u6d3b\u865a\u62df\u73af\u5883\uff1a source py37-michael-blog-env/bin/activate \u8fdb\u884c\u76f8\u5173\u5f00\u53d1\uff08pip install -r requirements\uff09\u7b49\u7b49 \u52a0\u5165\u56fe\u7247 4\u3001\u9000\u51fa\u865a\u62df\u73af\u5883 deactivate \u3000\u3000\u3000\u3000\u3000\u3000 \u518d\u6b21\u8fdb\u5165\u9879\u76ee\u65f6\uff0c\u53ea\u9700\u8981\u6267\u884c3-4\u6b65\u9aa4\u5373\u53ef\uff08\u6fc0\u6d3b-\u5f00\u53d1-\u9000\u51fa\u865a\u62df\u73af\u5883\uff09","title":"\u642d\u5efapython3\u5f00\u53d1\u73af\u5883.md"},{"location":"python/%E6%90%AD%E5%BB%BApython3%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#mac-python3","text":"","title":"Mac \u642d\u5efa python3 \u5f00\u53d1\u73af\u5883"},{"location":"python/%E6%90%AD%E5%BB%BApython3%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#_1","text":"\u6211\u672c\u5730\u9700\u8981\u8fd0\u884c\u4e00\u4e2a Django3 \u7684\u9879\u76ee\uff0cDjango3 \u9700\u8981 python3 \u7684\u5f00\u53d1\u73af\u5883\uff0c\u6211\u7684 MAC \u4e0a\u9ed8\u8ba4\u5b89\u88c5 python 2.7.10 \u7248\u672c\uff0c\u6240\u4ee5\u9700\u8981\u65b0\u5efa\u4e00\u4e2a python3 \u7684\u5f00\u53d1\u73af\u5883\u3002 \u56e0\u4e3a\u5176\u4ed6\u9879\u76ee\u4f1a\u4f7f\u7528 python2 \u7684\u5f00\u53d1\u73af\u5883\u3002\u4e3a\u4e86\u907f\u514d\u9879\u76ee\u4e92\u76f8\u5e72\u6270\uff0c\u6211\u4f7f\u7528 virtualenv \u642d\u5efa python3 \u5f00\u53d1\u73af\u5883\u3002","title":"\u95ee\u9898\u63cf\u8ff0"},{"location":"python/%E6%90%AD%E5%BB%BApython3%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#python3","text":"\u5982\u679c\u7535\u8111\u4e0a\u6ca1\u6709 python3 \u7684\u8f6f\u4ef6\uff0c\u9700\u8981\u4e0b\u8f7d\u5b89\u88c5\uff1b\u5982\u679c\u5df2\u7ecf\u6709python3\uff0c\u90a3\u4e48\u76f4\u63a5\u8df3\u5230\u4e0b\u4e00\u7ae0\uff1a \u5b89\u88c5\u811a\u672c\u5982\u4e0b\uff1a wget https://www.python.org/ftp/python/3.4.3/Python-3.4.3.tgz tar zxvf Python-3.4.3.tgz cd Python-3.4.3 ./configure --enable-shared --prefix = /usr/local make && make altinstall \u5b89\u88c5\u5176\u5b83\u7248\u672c\u7684python\u53ef\u4ece\u5b98\u7f51\u4e0b\u8f7d\uff1a https://www.python.org/ \u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u5728\u7ec8\u7aef\u8f93\u5165 python3 \u9a8c\u8bc1\u5b89\u88c5\u662f\u5426\u6210\u529f\uff0c\u56fe\u7247\u5982\u4e0b\uff08\u6211\u672c\u5730\u5b89\u88c5\u76843.7.0\u7248\u672c\uff09","title":"\u5b89\u88c5python3"},{"location":"python/%E6%90%AD%E5%BB%BApython3%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#python3_1","text":"1\u3001\u5b89\u88c5virtualenv\uff0c\u53ef\u4ee5\u901a\u8fc7pip\u8fdb\u884c\u5b89\u88c5\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a pip install virtualenv 2\u3001\u521b\u5efa\u865a\u62df\u73af\u5883\uff1a \u6ce8\u610f\uff1a\u8fd9\u91cc python3.7 \u5bf9\u5e94\u4f60\u5b89\u88c5\u7684\u7248\u672c\uff083.4\u6216\u80053.7\uff09 virtualenv -p /usr/local/bin/python3.7 \u4f60\u7684\u865a\u62df\u73af\u5883\u7684\u540d\u79f0\uff08\u4f8b\u5982\uff0cpy37-michael-blog-env\uff09 \u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\u540e\uff0c\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u521b\u5efa\u865a\u62df\u73af\u5883\u6587\u4ef6\u5939\uff08py37-michael-blog-env\uff09\u3002 3\u3001\u6fc0\u6d3b\u865a\u62df\u73af\u5883\uff1a source py37-michael-blog-env/bin/activate \u8fdb\u884c\u76f8\u5173\u5f00\u53d1\uff08pip install -r requirements\uff09\u7b49\u7b49 \u52a0\u5165\u56fe\u7247 4\u3001\u9000\u51fa\u865a\u62df\u73af\u5883 deactivate \u3000\u3000\u3000\u3000\u3000\u3000 \u518d\u6b21\u8fdb\u5165\u9879\u76ee\u65f6\uff0c\u53ea\u9700\u8981\u6267\u884c3-4\u6b65\u9aa4\u5373\u53ef\uff08\u6fc0\u6d3b-\u5f00\u53d1-\u9000\u51fa\u865a\u62df\u73af\u5883\uff09","title":"\u642d\u5efapython3\u5f00\u53d1\u73af\u5883"},{"location":"react/React%20FAQ/","text":"\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u7684\u6027\u80fd \u00b6 \u5982\u679c\u5728render\u9636\u6bb5\u6267\u884c\u7ed1\u5b9a\uff0c\u4e0d\u7ba1\u4f7f\u7528 bind(this) \u8fd8\u662f\u7bad\u5934\u51fd\u6570\uff0c\u90fd\u4e0d\u5229\u4e8e\u6027\u80fd\uff08\u4f1a\u5728\u6e32\u67d3\u65f6\u521b\u5efa\u4e00\u4e2a\u65b0\u51fd\u6570\uff09 \u73b0\u5728\u5f88\u591a\u4ee3\u7801\u5728render\u9636\u6bb5\u8bbe\u7f6e\u7bad\u5934\u51fd\u6570\u5904\u7406\uff0c\u8fd9\u6837\u4e0d\u5229\u4e8e\u6027\u80fd\uff0c\u5e94\u5f53\u907f\u514d\u8fd9\u79cd\u5199\u6cd5\u3002 <button onClick={this.handleClick.bind(this)}></button> <button onClick={() => this.handleClick()}></button> \u6ce8\u610f\uff1a\u5728\u7ed1\u5b9a\u4e8b\u4ef6\u65f6\uff0c\u5982\u679c\u4f7f\u7528\u7bad\u5934\u51fd\u6570\uff0c\u540e\u9762\u9700\u8981\u52a0\u4e0a\u62ec\u53f7\uff1b\u5426\u5219\u4e0d\u80fd\u52a0\u4e0a\u62ec\u53f7\uff0c\u4f1a\u76f4\u63a5\u8c03\u7528\u51fd\u6570\u3002 <button onClick={this.handleClick()}></button> // \u8fd9\u6837\u5728\u6e32\u67d3\u8fc7\u7a0b\u51fd\u6570\u76f4\u63a5\u6267\u884c \u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u7684\u4f20\u53c2 \u00b6 \u7ed9\u4e8b\u4ef6\u5904\u7406\u7684\u56de\u8c03\u51fd\u6570\u4f20\u9012\u53c2\u6570\u7684\u4e24\u79cd\u65b9\u6cd5\uff08\u901a\u5e38\u9700\u8981\u4f20\u9012\u6570\u7ec4\u4e2d\u7684\u67d0\u9879\u53c2\u6570\uff09 \u65b9\u6cd5\u4e00\uff1a\u901a\u8fc7\u7bad\u5934\u51fd\u6570\u4f20\u9012\u53c2\u6570 {this.state.array.map((item, index) => { return ( <Fragment> <button key={index} onClick={this.handleClick.bind(this, item)}></button> <span key={index} onClick={(e) => this.handleClick(e, item)}></span> </Fragment> ); })} // \u4e24\u4e2a\u65b9\u6cd5\u90fd\u53ef\u4ee5\u3002\u5982\u679c\u4f7f\u7528\u7b2c\u4e00\u79cd\uff0c\u51fd\u6570\u7684\u5b9e\u53c2\u662fitem\uff0c\u800c\u4e0d\u662f this and item\u3002 \u65b9\u6cd5\u4e8c\uff1a\u901a\u8fc7data\u5c5e\u6027\u4f20\u9012\u53c2\u6570\uff1b\u8fd9\u79cd\u60c5\u51b5\u5bf9\u4e8e PureComponent \u53ef\u80fd\u4ea7\u751f\u6027\u80fd\u95ee\u9898 <span data-test={item} onClick={this.handleClick}></span> handleClick = (event) => { console.log(event.targte.data-test.item); } \u907f\u514d\u51fd\u6570\u591a\u6b21\u8c03\u7528 \u00b6 \u4f8b\u5982\u60f3\u8981\u9632\u6b62 onClick \u6216\u8005 onScroll \u8fd9\u6837\u7684\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u7684\u56de\u8c03\u88ab\u89e6\u53d1\u7684\u592a\u5feb\uff0c\u90a3\u4e48\u53ef\u4ee5\u9650\u5236\u6267\u884c\u56de\u8c03\u7684\u901f\u5ea6\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u51e0\u79cd\u65b9\u5f0f\u505a\u5230\u8fd9\u70b9\uff1a throttling : \u57fa\u4e8e\u65f6\u95f4\u7684\u9891\u7387\u6765\u8fdb\u884c\u66f4\u6539 (\u4f8b\u5982 _.throttle ) debouncing : \u4e00\u6bb5\u65f6\u95f4\u7684\u4e0d\u6d3b\u52a8\u4e4b\u540e\u8fdb\u884c\u66f4\u6539 (\u4f8b\u5982 _.debounce ) requestAnimationFrame :\u57fa\u4e8e requestAnimationFrame \u6765\u8fdb\u884c\u66f4\u6539 (\u4f8b\u5982 raf-schd ) \u53ef\u4ee5\u770b\u8fd9\u4e2a\u6bd4\u8f83 throttle \u548c debounce \u7684 \u53ef\u89c6\u5316\u9875\u9762 \u8282\u6d41\u51fd\u6570\u548c\u9632\u6296\u51fd\u6570 \u00b6 lodash\u5e93 \u8282\u6d41\u662f\u963b\u6b62\u51fd\u6570\u5728\u7ed9\u5b9a\u65f6\u95f4\u5185\u88ab\u591a\u6b21\u8c03\u7528\u3002\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4f1a\u963b\u6b62\u201cclick\u201d\u4e8b\u4ef6\u6bcf\u79d2\u949f\u7684\u591a\u6b21\u8c03\u7528\u3002 import throttle from 'lodash.throttle'; class LoadMoreButton extends React.Component { constructor(props) { super(props); this.handleClick = this.handleClick.bind(this); this.handleClickThrottled = throttle(this.handleClick, 1000); } componentWillUnmount() { this.handleClickThrottled.cancel(); } render() { return <button onClick={this.handleClickThrottled}>Load More</button>; } handleClick() { this.props.loadMore(); } } \u9632\u6296\u786e\u4fdd\u51fd\u6570\u4e0a\u6b21\u6267\u884c\u540e\u7684\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u4e0d\u4f1a\u518d\u6b21\u6267\u884c\u3002\u5f53\u5fc5\u987b\u8fdb\u884c\u4e00\u4e9b\u6602\u8d35\u7684\u8ba1\u7b97\u6765\u54cd\u5e94\u5feb\u901f\u6d3e\u53d1\u7684\u4e8b\u4ef6\u65f6\uff08\u6bd4\u5982\u9f20\u6807\u6eda\u52a8\u6216\u952e\u76d8\u4e8b\u4ef6\u65f6\uff09\uff0c\u9632\u6296\u662f\u975e\u5e38\u6709\u7528\u7684\u3002\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4ee5250ms\u7684\u5ef6\u8fdf\u6765\u6539\u53d8\u6587\u672c\u8f93\u5165\u3002 import debounce from 'lodash.debounce'; class Searchbox extends React.Component { constructor(props) { super(props); this.handleChange = this.handleChange.bind(this); this.emitChangeDebounced = debounce(this.emitChange, 250); } componentWillUnmount() { this.emitChangeDebounced.cancel(); } render() { return ( <input type=\"text\" onChange={this.handleChange} placeholder=\"Search...\" defaultValue={this.props.value} /> ); } handleChange(e) { // React pools events, so we read the value before debounce. // Alternately we could call `event.persist()` and pass the entire event. // For more info see reactjs.org/docs/events.html#event-pooling this.emitChangeDebounced(e.target.value); } emitChange(value) { this.props.onChange(value); } } \u6837\u5f0f \u901a\u5e38\u60c5\u51b5\u4e0b\u4f7f\u7528css\u5916\u90e8\u6587\u4ef6\u94fe\u63a5\u5f62\u5f0f\u589e\u52a0\u6837\u5f0f\u3002\u52a8\u753b\uff1a\u67e5\u770b React Transition Group \u548c React Motion \u3002","title":"React FAQ.md"},{"location":"react/React%20FAQ/#_1","text":"\u5982\u679c\u5728render\u9636\u6bb5\u6267\u884c\u7ed1\u5b9a\uff0c\u4e0d\u7ba1\u4f7f\u7528 bind(this) \u8fd8\u662f\u7bad\u5934\u51fd\u6570\uff0c\u90fd\u4e0d\u5229\u4e8e\u6027\u80fd\uff08\u4f1a\u5728\u6e32\u67d3\u65f6\u521b\u5efa\u4e00\u4e2a\u65b0\u51fd\u6570\uff09 \u73b0\u5728\u5f88\u591a\u4ee3\u7801\u5728render\u9636\u6bb5\u8bbe\u7f6e\u7bad\u5934\u51fd\u6570\u5904\u7406\uff0c\u8fd9\u6837\u4e0d\u5229\u4e8e\u6027\u80fd\uff0c\u5e94\u5f53\u907f\u514d\u8fd9\u79cd\u5199\u6cd5\u3002 <button onClick={this.handleClick.bind(this)}></button> <button onClick={() => this.handleClick()}></button> \u6ce8\u610f\uff1a\u5728\u7ed1\u5b9a\u4e8b\u4ef6\u65f6\uff0c\u5982\u679c\u4f7f\u7528\u7bad\u5934\u51fd\u6570\uff0c\u540e\u9762\u9700\u8981\u52a0\u4e0a\u62ec\u53f7\uff1b\u5426\u5219\u4e0d\u80fd\u52a0\u4e0a\u62ec\u53f7\uff0c\u4f1a\u76f4\u63a5\u8c03\u7528\u51fd\u6570\u3002 <button onClick={this.handleClick()}></button> // \u8fd9\u6837\u5728\u6e32\u67d3\u8fc7\u7a0b\u51fd\u6570\u76f4\u63a5\u6267\u884c","title":"\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u7684\u6027\u80fd"},{"location":"react/React%20FAQ/#_2","text":"\u7ed9\u4e8b\u4ef6\u5904\u7406\u7684\u56de\u8c03\u51fd\u6570\u4f20\u9012\u53c2\u6570\u7684\u4e24\u79cd\u65b9\u6cd5\uff08\u901a\u5e38\u9700\u8981\u4f20\u9012\u6570\u7ec4\u4e2d\u7684\u67d0\u9879\u53c2\u6570\uff09 \u65b9\u6cd5\u4e00\uff1a\u901a\u8fc7\u7bad\u5934\u51fd\u6570\u4f20\u9012\u53c2\u6570 {this.state.array.map((item, index) => { return ( <Fragment> <button key={index} onClick={this.handleClick.bind(this, item)}></button> <span key={index} onClick={(e) => this.handleClick(e, item)}></span> </Fragment> ); })} // \u4e24\u4e2a\u65b9\u6cd5\u90fd\u53ef\u4ee5\u3002\u5982\u679c\u4f7f\u7528\u7b2c\u4e00\u79cd\uff0c\u51fd\u6570\u7684\u5b9e\u53c2\u662fitem\uff0c\u800c\u4e0d\u662f this and item\u3002 \u65b9\u6cd5\u4e8c\uff1a\u901a\u8fc7data\u5c5e\u6027\u4f20\u9012\u53c2\u6570\uff1b\u8fd9\u79cd\u60c5\u51b5\u5bf9\u4e8e PureComponent \u53ef\u80fd\u4ea7\u751f\u6027\u80fd\u95ee\u9898 <span data-test={item} onClick={this.handleClick}></span> handleClick = (event) => { console.log(event.targte.data-test.item); }","title":"\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u7684\u4f20\u53c2"},{"location":"react/React%20FAQ/#_3","text":"\u4f8b\u5982\u60f3\u8981\u9632\u6b62 onClick \u6216\u8005 onScroll \u8fd9\u6837\u7684\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u7684\u56de\u8c03\u88ab\u89e6\u53d1\u7684\u592a\u5feb\uff0c\u90a3\u4e48\u53ef\u4ee5\u9650\u5236\u6267\u884c\u56de\u8c03\u7684\u901f\u5ea6\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u51e0\u79cd\u65b9\u5f0f\u505a\u5230\u8fd9\u70b9\uff1a throttling : \u57fa\u4e8e\u65f6\u95f4\u7684\u9891\u7387\u6765\u8fdb\u884c\u66f4\u6539 (\u4f8b\u5982 _.throttle ) debouncing : \u4e00\u6bb5\u65f6\u95f4\u7684\u4e0d\u6d3b\u52a8\u4e4b\u540e\u8fdb\u884c\u66f4\u6539 (\u4f8b\u5982 _.debounce ) requestAnimationFrame :\u57fa\u4e8e requestAnimationFrame \u6765\u8fdb\u884c\u66f4\u6539 (\u4f8b\u5982 raf-schd ) \u53ef\u4ee5\u770b\u8fd9\u4e2a\u6bd4\u8f83 throttle \u548c debounce \u7684 \u53ef\u89c6\u5316\u9875\u9762","title":"\u907f\u514d\u51fd\u6570\u591a\u6b21\u8c03\u7528"},{"location":"react/React%20FAQ/#_4","text":"lodash\u5e93 \u8282\u6d41\u662f\u963b\u6b62\u51fd\u6570\u5728\u7ed9\u5b9a\u65f6\u95f4\u5185\u88ab\u591a\u6b21\u8c03\u7528\u3002\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4f1a\u963b\u6b62\u201cclick\u201d\u4e8b\u4ef6\u6bcf\u79d2\u949f\u7684\u591a\u6b21\u8c03\u7528\u3002 import throttle from 'lodash.throttle'; class LoadMoreButton extends React.Component { constructor(props) { super(props); this.handleClick = this.handleClick.bind(this); this.handleClickThrottled = throttle(this.handleClick, 1000); } componentWillUnmount() { this.handleClickThrottled.cancel(); } render() { return <button onClick={this.handleClickThrottled}>Load More</button>; } handleClick() { this.props.loadMore(); } } \u9632\u6296\u786e\u4fdd\u51fd\u6570\u4e0a\u6b21\u6267\u884c\u540e\u7684\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u4e0d\u4f1a\u518d\u6b21\u6267\u884c\u3002\u5f53\u5fc5\u987b\u8fdb\u884c\u4e00\u4e9b\u6602\u8d35\u7684\u8ba1\u7b97\u6765\u54cd\u5e94\u5feb\u901f\u6d3e\u53d1\u7684\u4e8b\u4ef6\u65f6\uff08\u6bd4\u5982\u9f20\u6807\u6eda\u52a8\u6216\u952e\u76d8\u4e8b\u4ef6\u65f6\uff09\uff0c\u9632\u6296\u662f\u975e\u5e38\u6709\u7528\u7684\u3002\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4ee5250ms\u7684\u5ef6\u8fdf\u6765\u6539\u53d8\u6587\u672c\u8f93\u5165\u3002 import debounce from 'lodash.debounce'; class Searchbox extends React.Component { constructor(props) { super(props); this.handleChange = this.handleChange.bind(this); this.emitChangeDebounced = debounce(this.emitChange, 250); } componentWillUnmount() { this.emitChangeDebounced.cancel(); } render() { return ( <input type=\"text\" onChange={this.handleChange} placeholder=\"Search...\" defaultValue={this.props.value} /> ); } handleChange(e) { // React pools events, so we read the value before debounce. // Alternately we could call `event.persist()` and pass the entire event. // For more info see reactjs.org/docs/events.html#event-pooling this.emitChangeDebounced(e.target.value); } emitChange(value) { this.props.onChange(value); } } \u6837\u5f0f \u901a\u5e38\u60c5\u51b5\u4e0b\u4f7f\u7528css\u5916\u90e8\u6587\u4ef6\u94fe\u63a5\u5f62\u5f0f\u589e\u52a0\u6837\u5f0f\u3002\u52a8\u753b\uff1a\u67e5\u770b React Transition Group \u548c React Motion \u3002","title":"\u8282\u6d41\u51fd\u6570\u548c\u9632\u6296\u51fd\u6570"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","text":"React PureComponent \u4f7f\u7528\u6307\u5357 \u00b6 \u4e3a\u4ec0\u4e48\u4f7f\u7528\uff1f \u00b6 React15.3\u4e2d\u65b0\u52a0\u4e86\u4e00\u4e2a PureComponent \u7c7b\uff0c\u987e\u540d\u601d\u4e49\uff0c pure \u662f\u7eaf\u7684\u610f\u601d\uff0c PureComponent \u4e5f\u5c31\u662f\u7eaf\u7ec4\u4ef6\uff0c\u53d6\u4ee3\u5176\u524d\u8eab PureRenderMixin , PureComponent \u662f\u4f18\u5316 React \u5e94\u7528\u7a0b\u5e8f\u6700\u91cd\u8981\u7684\u65b9\u6cd5\u4e4b\u4e00\uff0c\u6613\u4e8e\u5b9e\u65bd\uff0c\u53ea\u8981\u628a\u7ee7\u627f\u7c7b\u4ece Component \u6362\u6210 PureComponent \u5373\u53ef\uff0c\u53ef\u4ee5\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684 render \u64cd\u4f5c\u7684\u6b21\u6570\uff0c\u4ece\u800c\u63d0\u9ad8\u6027\u80fd\uff0c\u800c\u4e14\u53ef\u4ee5\u5c11\u5199 shouldComponentUpdate \u51fd\u6570\uff0c\u8282\u7701\u4e86\u70b9\u4ee3\u7801\u3002 \u539f\u7406 \u00b6 \u5f53\u7ec4\u4ef6\u66f4\u65b0\u65f6\uff0c\u5982\u679c\u7ec4\u4ef6\u7684 props \u548c state \u90fd\u6ca1\u53d1\u751f\u6539\u53d8\uff0c render \u65b9\u6cd5\u5c31\u4e0d\u4f1a\u89e6\u53d1\uff0c\u7701\u53bb Virtual DOM \u7684\u751f\u6210\u548c\u6bd4\u5bf9\u8fc7\u7a0b\uff0c\u8fbe\u5230\u63d0\u5347\u6027\u80fd\u7684\u76ee\u7684\u3002\u5177\u4f53\u5c31\u662f React \u81ea\u52a8\u5e2e\u6211\u4eec\u505a\u4e86\u4e00\u5c42\u6d45\u6bd4\u8f83\uff1a if ( this . _compositeType === CompositeTypes . PureClass ) { shouldUpdate = ! shallowEqual ( prevProps , nextProps ) || ! shallowEqual ( inst . state , nextState ); } \u800c shallowEqual \u53c8\u505a\u4e86\u4ec0\u4e48\u5462\uff1f\u4f1a\u6bd4\u8f83 Object.keys(state | props) \u7684\u957f\u5ea6\u662f\u5426\u4e00\u81f4\uff0c\u6bcf\u4e00\u4e2a key \u662f\u5426\u4e24\u8005\u90fd\u6709\uff0c\u5e76\u4e14\u662f\u5426\u662f\u4e00\u4e2a\u5f15\u7528\uff0c\u4e5f\u5c31\u662f\u53ea\u6bd4\u8f83\u4e86\u7b2c\u4e00\u5c42\u7684\u503c\uff0c\u786e\u5b9e\u5f88\u6d45\uff0c\u6240\u4ee5\u6df1\u5c42\u7684\u5d4c\u5957\u6570\u636e\u662f\u5bf9\u6bd4\u4e0d\u51fa\u6765\u7684\u3002 \u4f7f\u7528\u6307\u5357 \u00b6 \u6613\u53d8\u6570\u636e\u4e0d\u80fd\u4f7f\u7528\u4e00\u4e2a\u5f15\u7528 \u00b6 \u6848\u4f8b\uff1a class App extends PureComponent { state = { items: [1, 2, 3] } handleClick = () => { const { items } = this.state; items.pop(); this.setState({ items }); } render() { return (<div> <ul> {this.state.items.map(i => <li key={i}>{i}</li>)} </ul> <button onClick={this.handleClick}>delete</button> </div>) } } \u4f1a\u53d1\u73b0\uff0c\u65e0\u8bba\u600e\u4e48\u70b9 delete \u6309\u94ae\uff0c li \u90fd\u4e0d\u4f1a\u53d8\u5c11\uff0c\u56e0\u4e3a items \u7528\u7684\u662f\u4e00\u4e2a\u5f15\u7528\uff0c shallowEqual \u7684\u7ed3\u679c\u4e3a true \u3002\u6539\u6b63\uff1a handleClick = () => { const { items } = this.state; items.pop(); this.setState({ items: [].concat(items) }); } \u8fd9\u6837\u6bcf\u6b21\u6539\u53d8\u90fd\u4f1a\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\uff0c\u4e5f\u5c31\u53ef\u4ee5 render \u4e86\u3002\u8fd9\u91cc\u6709\u4e00\u4e2a\u77db\u76fe\u7684\u5730\u65b9\uff0c\u5982\u679c\u6ca1\u6709 items.pop(); \u64cd\u4f5c\uff0c\u6bcf\u6b21 items \u6570\u636e\u5e76\u6ca1\u6709\u53d8\uff0c\u4f46\u8fd8\u662f render \u4e86\uff0c\u8fd9\u4e0d\u5c31\u5f88\u64cd\u86cb\u4e48\uff1f\u5475\u5475\uff0c\u6570\u636e\u90fd\u4e0d\u53d8\uff0c\u4f60 setState \u5e72\u561b\uff1f \u4e0d\u53d8\u6570\u636e\u4f7f\u7528\u4e00\u4e2a\u5f15\u7528 \u00b6 \u5b50\u7ec4\u4ef6\u6570\u636e \u00b6 \u4e0a\u9762\u6613\u53d8\u6570\u636e\u4e0d\u80fd\u4f7f\u7528\u4e00\u4e2a\u5f15\u7528\u7684\u6848\u4f8b\u4e2d\u6709\u4e00\u4e2a\u70b9\u51fb\u5220\u9664\u64cd\u4f5c\uff0c\u5982\u679c\u6211\u4eec\u5220\u9664\u7684\u4ee3\u7801\u8fd9\u4e48\u5199\uff1a handleClick = () => { const { items } = this.state; items.splice(items.length - 1, 1); this.setState({ items }); } items \u7684\u5f15\u7528\u4e5f\u662f\u6539\u53d8\u7684\uff0c\u4f46\u5982\u679c items \u91cc\u9762\u662f\u5f15\u7528\u7c7b\u578b\u6570\u636e\uff1a items: [{a: 1}, {a: 2}, {a: 3}] \u8fd9\u4e2a\u65f6\u5019 state.items[0] === nextState.items[0] // false \u5b50\u7ec4\u4ef6\u91cc\u8fd8\u662f re-render \u4e86\u3002\u8fd9\u6837\u5c31\u9700\u8981\u6211\u4eec\u4fdd\u8bc1\u4e0d\u53d8\u7684\u5b50\u7ec4\u4ef6\u6570\u636e\u7684\u5f15\u7528\u4e0d\u80fd\u6539\u53d8\u3002\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u4f7f\u7528 immutable-js \u51fd\u6570\u5e93\u3002 \u51fd\u6570\u5c5e\u6027 \u00b6 \u6211\u4eec\u5728\u7ed9\u7ec4\u4ef6\u4f20\u4e00\u4e2a\u51fd\u6570\u7684\u65f6\u5019\uff0c\u6709\u65f6\u5019\u603b\u559c\u6b22: // 1 <MyInput onChange={e => this.props.update(e.target.value)} /> // 2 update(e) { this.props.update(e.target.value) } render() { return <MyInput onChange={this.update.bind(this)} /> } \u7531\u4e8e\u6bcf\u6b21 render \u64cd\u4f5c MyInput \u7ec4\u4ef6\u7684 onChange \u5c5e\u6027\u90fd\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\uff0c\u7531\u4e8e\u5f15\u7528\u4e0d\u4e00\u6837\uff0c\u6240\u4ee5\u7236\u7ec4\u4ef6\u7684 render \u4e5f\u4f1a\u5bfc\u81f4 MyInput \u7ec4\u4ef6\u7684 render \uff0c\u5373\u4f7f\u6ca1\u6709\u4efb\u4f55\u6539\u52a8\uff0c\u6240\u4ee5\u9700\u8981\u5c3d\u91cf\u907f\u514d\u8fd9\u6837\u7684\u5199\u6cd5\uff0c\u6700\u597d\u8fd9\u6837\u5199\uff1a // 1,2 update = (e) => { this.props.update(e.target.value) } render() { return <MyInput onChange={this.update} /> } \u7a7a\u5bf9\u8c61\u3001\u7a7a\u6570\u7ec4\u6216\u56fa\u5b9a\u5bf9\u8c61 \u00b6 \u6709\u65f6\u5019\u540e\u53f0\u8fd4\u56de\u7684\u6570\u636e\u4e2d\uff0c\u6570\u7ec4\u957f\u5ea6\u4e3a0\u6216\u8005\u5bf9\u8c61\u6ca1\u6709\u5c5e\u6027\u4f1a\u76f4\u63a5\u7ed9\u4e00\u4e2a null \uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u9700\u8981\u505a\u4e00\u4e9b\u5bb9\u9519\uff1a class App extends PureComponent { state = { items: [{ name: 'test1' }, null, { name: 'test3' }] } store = (id, value) => { const { items } = this.state; items[id] = assign({}, items[id], { name: value }); this.setState({ items: [].concat(items) }); } render() { return (<div> <ul> {this.state.items.map((i, k) => <Item style={{ color: 'red' }} store={this.store} key={k} id={k} data={i || {}} />) } </ul> </div>) } } \u5f53\u67d0\u4e00\u4e2a\u5b50\u7ec4\u4ef6\u8c03\u7528 store \u51fd\u6570\u6539\u53d8\u4e86\u81ea\u5df1\u7684\u90a3\u6761\u5c5e\u6027\uff0c\u89e6\u53d1 render \u64cd\u4f5c\uff0c\u5982\u679c\u6570\u636e\u662f null \u7684\u8bdd data \u5c5e\u6027\u6bcf\u6b21\u90fd\u662f\u4e00\u4e2a {} \uff0c {} ==== {} \u662f false \u7684\uff0c\u8fd9\u6837\u65e0\u7aef\u7684\u8ba9\u8fd9\u51e0\u4e2a\u5b50\u7ec4\u4ef6\u91cd\u65b0 render \u4e86\u3002 { color: 'red' } \u4e5f\u662f\u4e00\u6837\u3002 \u6700\u597d\u8bbe\u7f6e\u4e00\u4e2a defaultValue \u4e3a {} ,\u5982\u4e0b\uff1a static defaultValue = {} const style = { color: 'red' }; <Item style={style} store={this.store} key={k} id={k} data={i || defaultValue} /> \u590d\u6742\u72b6\u6001\u4e0e\u7b80\u5355\u72b6\u6001\u4e0d\u8981\u5171\u7528\u4e00\u4e2a\u7ec4\u4ef6 \u00b6 \u8fd9\u70b9\u53ef\u80fd\u548c PureComponent \u6ca1\u591a\u5c11\u5173\u7cfb\uff0c\u4f46\u505a\u7684\u4e0d\u597d\u53ef\u80fd\u4f1a\u6d6a\u8d39\u5f88\u591a\u6027\u80fd\uff0c\u6bd4\u5982\u4e00\u4e2a\u9875\u9762\u4e0a\u9762\u4e00\u90e8\u5206\u662f\u4e00\u4e2a\u590d\u6742\u7684\u5217\u8868\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u8f93\u5165\u6846\uff0c\u62bd\u8c61\u4ee3\u7801\uff1a change = (e) => { this.setState({ value: e.target.value }); } render() { return (<div> <ul> {this.state.items.map((i, k) => <li key={k}> {...}</li>)} </ul> <input value={this.state.value} onChange={this.change} /> </div>) } \u8868\u5355\u548c\u5217\u8868\u5176\u5b9e\u662f\u6ca1\u6709\u4ec0\u4e48\u5173\u8054\u7684\uff0c\u8868\u5355\u7684\u503c\u4e5f\u53ef\u80fd\u7ecf\u5e38\u53d8\u52a8\uff0c\u4f46\u5b83\u7684\u4f1a\u7ed9\u5217\u8868\u4e5f\u5e26\u6765\u5fc5\u7136\u7684 diff \u64cd\u4f5c\uff0c\u8fd9\u662f\u6ca1\u5fc5\u8981\u7684\uff0c\u6700\u597d\u662f\u7ed9\u5217\u8868\u62bd\u51fa\u6210\u4e00\u4e2a\u5355\u72ec\u7684 PureComponent \u7ec4\u4ef6\uff0c\u8fd9\u6837 state.items \u4e0d\u53d8\u7684\u8bdd\uff0c\u5217\u8868\u5c31\u4e0d\u4f1a\u91cd\u65b0 render \u4e86\u3002 \u4e0e shouldComponentUpdate \u5171\u5b58 \u00b6 \u5982\u679c PureComponent \u91cc\u6709 shouldComponentUpdate \u51fd\u6570\u7684\u8bdd\uff0c\u76f4\u63a5\u4f7f\u7528 shouldComponentUpdate \u7684\u7ed3\u679c\u4f5c\u4e3a\u662f\u5426\u66f4\u65b0\u7684\u4f9d\u636e\uff0c\u6ca1\u6709 shouldComponentUpdate \u51fd\u6570\u7684\u8bdd\uff0c\u624d\u4f1a\u53bb\u5224\u65ad\u662f\u4e0d\u662f PureComponent \uff0c\u662f\u7684\u8bdd\u518d\u53bb\u505a shallowEqual \u6d45\u6bd4\u8f83\u3002 // \u8fd9\u4e2a\u53d8\u91cf\u7528\u6765\u63a7\u5236\u7ec4\u4ef6\u662f\u5426\u9700\u8981\u66f4\u65b0 var shouldUpdate = true; // inst \u662f\u7ec4\u4ef6\u5b9e\u4f8b if (inst.shouldComponentUpdate) { shouldUpdate = inst.shouldComponentUpdate(nextProps, nextState, nextContext); } else { if (this._compositeType === CompositeType.PureClass) { shouldUpdate = !shallowEqual(prevProps, nextProps) || !shallowEqual(inst.state, nextState); } } \u8001\u7248\u672c\u517c\u5bb9\u5199\u6cd5 \u00b6 import React { PureComponent, Component } from 'react'; class Foo extends (PureComponent || Component) { //... } \u8fd9\u6837\u5728\u8001\u7248\u672c\u7684 React \u91cc\u4e5f\u4e0d\u4f1a\u6302\u6389\u3002 \u603b\u7ed3 \u00b6 PureComponent \u771f\u6b63\u8d77\u4f5c\u7528\u7684\uff0c\u53ea\u662f\u5728\u4e00\u4e9b\u7eaf\u5c55\u793a\u7ec4\u4ef6\u4e0a\uff0c\u590d\u6742\u7ec4\u4ef6\u7528\u4e86\u4e5f\u6ca1\u5173\u7cfb\uff0c\u53cd\u6b63 shallowEqual \u90a3\u4e00\u5173\u5c31\u8fc7\u4e0d\u4e86\uff0c\u4e0d\u8fc7\u8bb0\u5f97 props \u548c state \u4e0d\u80fd\u4f7f\u7528\u540c\u4e00\u4e2a\u5f15\u7528\u54e6\u3002","title":"React PureComponent \u4f7f\u7528\u6307\u5357.md"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#react-purecomponent","text":"","title":"React PureComponent \u4f7f\u7528\u6307\u5357"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_1","text":"React15.3\u4e2d\u65b0\u52a0\u4e86\u4e00\u4e2a PureComponent \u7c7b\uff0c\u987e\u540d\u601d\u4e49\uff0c pure \u662f\u7eaf\u7684\u610f\u601d\uff0c PureComponent \u4e5f\u5c31\u662f\u7eaf\u7ec4\u4ef6\uff0c\u53d6\u4ee3\u5176\u524d\u8eab PureRenderMixin , PureComponent \u662f\u4f18\u5316 React \u5e94\u7528\u7a0b\u5e8f\u6700\u91cd\u8981\u7684\u65b9\u6cd5\u4e4b\u4e00\uff0c\u6613\u4e8e\u5b9e\u65bd\uff0c\u53ea\u8981\u628a\u7ee7\u627f\u7c7b\u4ece Component \u6362\u6210 PureComponent \u5373\u53ef\uff0c\u53ef\u4ee5\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684 render \u64cd\u4f5c\u7684\u6b21\u6570\uff0c\u4ece\u800c\u63d0\u9ad8\u6027\u80fd\uff0c\u800c\u4e14\u53ef\u4ee5\u5c11\u5199 shouldComponentUpdate \u51fd\u6570\uff0c\u8282\u7701\u4e86\u70b9\u4ee3\u7801\u3002","title":"\u4e3a\u4ec0\u4e48\u4f7f\u7528\uff1f"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_2","text":"\u5f53\u7ec4\u4ef6\u66f4\u65b0\u65f6\uff0c\u5982\u679c\u7ec4\u4ef6\u7684 props \u548c state \u90fd\u6ca1\u53d1\u751f\u6539\u53d8\uff0c render \u65b9\u6cd5\u5c31\u4e0d\u4f1a\u89e6\u53d1\uff0c\u7701\u53bb Virtual DOM \u7684\u751f\u6210\u548c\u6bd4\u5bf9\u8fc7\u7a0b\uff0c\u8fbe\u5230\u63d0\u5347\u6027\u80fd\u7684\u76ee\u7684\u3002\u5177\u4f53\u5c31\u662f React \u81ea\u52a8\u5e2e\u6211\u4eec\u505a\u4e86\u4e00\u5c42\u6d45\u6bd4\u8f83\uff1a if ( this . _compositeType === CompositeTypes . PureClass ) { shouldUpdate = ! shallowEqual ( prevProps , nextProps ) || ! shallowEqual ( inst . state , nextState ); } \u800c shallowEqual \u53c8\u505a\u4e86\u4ec0\u4e48\u5462\uff1f\u4f1a\u6bd4\u8f83 Object.keys(state | props) \u7684\u957f\u5ea6\u662f\u5426\u4e00\u81f4\uff0c\u6bcf\u4e00\u4e2a key \u662f\u5426\u4e24\u8005\u90fd\u6709\uff0c\u5e76\u4e14\u662f\u5426\u662f\u4e00\u4e2a\u5f15\u7528\uff0c\u4e5f\u5c31\u662f\u53ea\u6bd4\u8f83\u4e86\u7b2c\u4e00\u5c42\u7684\u503c\uff0c\u786e\u5b9e\u5f88\u6d45\uff0c\u6240\u4ee5\u6df1\u5c42\u7684\u5d4c\u5957\u6570\u636e\u662f\u5bf9\u6bd4\u4e0d\u51fa\u6765\u7684\u3002","title":"\u539f\u7406"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_3","text":"","title":"\u4f7f\u7528\u6307\u5357"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_4","text":"\u6848\u4f8b\uff1a class App extends PureComponent { state = { items: [1, 2, 3] } handleClick = () => { const { items } = this.state; items.pop(); this.setState({ items }); } render() { return (<div> <ul> {this.state.items.map(i => <li key={i}>{i}</li>)} </ul> <button onClick={this.handleClick}>delete</button> </div>) } } \u4f1a\u53d1\u73b0\uff0c\u65e0\u8bba\u600e\u4e48\u70b9 delete \u6309\u94ae\uff0c li \u90fd\u4e0d\u4f1a\u53d8\u5c11\uff0c\u56e0\u4e3a items \u7528\u7684\u662f\u4e00\u4e2a\u5f15\u7528\uff0c shallowEqual \u7684\u7ed3\u679c\u4e3a true \u3002\u6539\u6b63\uff1a handleClick = () => { const { items } = this.state; items.pop(); this.setState({ items: [].concat(items) }); } \u8fd9\u6837\u6bcf\u6b21\u6539\u53d8\u90fd\u4f1a\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\uff0c\u4e5f\u5c31\u53ef\u4ee5 render \u4e86\u3002\u8fd9\u91cc\u6709\u4e00\u4e2a\u77db\u76fe\u7684\u5730\u65b9\uff0c\u5982\u679c\u6ca1\u6709 items.pop(); \u64cd\u4f5c\uff0c\u6bcf\u6b21 items \u6570\u636e\u5e76\u6ca1\u6709\u53d8\uff0c\u4f46\u8fd8\u662f render \u4e86\uff0c\u8fd9\u4e0d\u5c31\u5f88\u64cd\u86cb\u4e48\uff1f\u5475\u5475\uff0c\u6570\u636e\u90fd\u4e0d\u53d8\uff0c\u4f60 setState \u5e72\u561b\uff1f","title":"\u6613\u53d8\u6570\u636e\u4e0d\u80fd\u4f7f\u7528\u4e00\u4e2a\u5f15\u7528"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_5","text":"","title":"\u4e0d\u53d8\u6570\u636e\u4f7f\u7528\u4e00\u4e2a\u5f15\u7528"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_6","text":"\u4e0a\u9762\u6613\u53d8\u6570\u636e\u4e0d\u80fd\u4f7f\u7528\u4e00\u4e2a\u5f15\u7528\u7684\u6848\u4f8b\u4e2d\u6709\u4e00\u4e2a\u70b9\u51fb\u5220\u9664\u64cd\u4f5c\uff0c\u5982\u679c\u6211\u4eec\u5220\u9664\u7684\u4ee3\u7801\u8fd9\u4e48\u5199\uff1a handleClick = () => { const { items } = this.state; items.splice(items.length - 1, 1); this.setState({ items }); } items \u7684\u5f15\u7528\u4e5f\u662f\u6539\u53d8\u7684\uff0c\u4f46\u5982\u679c items \u91cc\u9762\u662f\u5f15\u7528\u7c7b\u578b\u6570\u636e\uff1a items: [{a: 1}, {a: 2}, {a: 3}] \u8fd9\u4e2a\u65f6\u5019 state.items[0] === nextState.items[0] // false \u5b50\u7ec4\u4ef6\u91cc\u8fd8\u662f re-render \u4e86\u3002\u8fd9\u6837\u5c31\u9700\u8981\u6211\u4eec\u4fdd\u8bc1\u4e0d\u53d8\u7684\u5b50\u7ec4\u4ef6\u6570\u636e\u7684\u5f15\u7528\u4e0d\u80fd\u6539\u53d8\u3002\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u4f7f\u7528 immutable-js \u51fd\u6570\u5e93\u3002","title":"\u5b50\u7ec4\u4ef6\u6570\u636e"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_7","text":"\u6211\u4eec\u5728\u7ed9\u7ec4\u4ef6\u4f20\u4e00\u4e2a\u51fd\u6570\u7684\u65f6\u5019\uff0c\u6709\u65f6\u5019\u603b\u559c\u6b22: // 1 <MyInput onChange={e => this.props.update(e.target.value)} /> // 2 update(e) { this.props.update(e.target.value) } render() { return <MyInput onChange={this.update.bind(this)} /> } \u7531\u4e8e\u6bcf\u6b21 render \u64cd\u4f5c MyInput \u7ec4\u4ef6\u7684 onChange \u5c5e\u6027\u90fd\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\uff0c\u7531\u4e8e\u5f15\u7528\u4e0d\u4e00\u6837\uff0c\u6240\u4ee5\u7236\u7ec4\u4ef6\u7684 render \u4e5f\u4f1a\u5bfc\u81f4 MyInput \u7ec4\u4ef6\u7684 render \uff0c\u5373\u4f7f\u6ca1\u6709\u4efb\u4f55\u6539\u52a8\uff0c\u6240\u4ee5\u9700\u8981\u5c3d\u91cf\u907f\u514d\u8fd9\u6837\u7684\u5199\u6cd5\uff0c\u6700\u597d\u8fd9\u6837\u5199\uff1a // 1,2 update = (e) => { this.props.update(e.target.value) } render() { return <MyInput onChange={this.update} /> }","title":"\u51fd\u6570\u5c5e\u6027"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_8","text":"\u6709\u65f6\u5019\u540e\u53f0\u8fd4\u56de\u7684\u6570\u636e\u4e2d\uff0c\u6570\u7ec4\u957f\u5ea6\u4e3a0\u6216\u8005\u5bf9\u8c61\u6ca1\u6709\u5c5e\u6027\u4f1a\u76f4\u63a5\u7ed9\u4e00\u4e2a null \uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u9700\u8981\u505a\u4e00\u4e9b\u5bb9\u9519\uff1a class App extends PureComponent { state = { items: [{ name: 'test1' }, null, { name: 'test3' }] } store = (id, value) => { const { items } = this.state; items[id] = assign({}, items[id], { name: value }); this.setState({ items: [].concat(items) }); } render() { return (<div> <ul> {this.state.items.map((i, k) => <Item style={{ color: 'red' }} store={this.store} key={k} id={k} data={i || {}} />) } </ul> </div>) } } \u5f53\u67d0\u4e00\u4e2a\u5b50\u7ec4\u4ef6\u8c03\u7528 store \u51fd\u6570\u6539\u53d8\u4e86\u81ea\u5df1\u7684\u90a3\u6761\u5c5e\u6027\uff0c\u89e6\u53d1 render \u64cd\u4f5c\uff0c\u5982\u679c\u6570\u636e\u662f null \u7684\u8bdd data \u5c5e\u6027\u6bcf\u6b21\u90fd\u662f\u4e00\u4e2a {} \uff0c {} ==== {} \u662f false \u7684\uff0c\u8fd9\u6837\u65e0\u7aef\u7684\u8ba9\u8fd9\u51e0\u4e2a\u5b50\u7ec4\u4ef6\u91cd\u65b0 render \u4e86\u3002 { color: 'red' } \u4e5f\u662f\u4e00\u6837\u3002 \u6700\u597d\u8bbe\u7f6e\u4e00\u4e2a defaultValue \u4e3a {} ,\u5982\u4e0b\uff1a static defaultValue = {} const style = { color: 'red' }; <Item style={style} store={this.store} key={k} id={k} data={i || defaultValue} />","title":"\u7a7a\u5bf9\u8c61\u3001\u7a7a\u6570\u7ec4\u6216\u56fa\u5b9a\u5bf9\u8c61"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_9","text":"\u8fd9\u70b9\u53ef\u80fd\u548c PureComponent \u6ca1\u591a\u5c11\u5173\u7cfb\uff0c\u4f46\u505a\u7684\u4e0d\u597d\u53ef\u80fd\u4f1a\u6d6a\u8d39\u5f88\u591a\u6027\u80fd\uff0c\u6bd4\u5982\u4e00\u4e2a\u9875\u9762\u4e0a\u9762\u4e00\u90e8\u5206\u662f\u4e00\u4e2a\u590d\u6742\u7684\u5217\u8868\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u8f93\u5165\u6846\uff0c\u62bd\u8c61\u4ee3\u7801\uff1a change = (e) => { this.setState({ value: e.target.value }); } render() { return (<div> <ul> {this.state.items.map((i, k) => <li key={k}> {...}</li>)} </ul> <input value={this.state.value} onChange={this.change} /> </div>) } \u8868\u5355\u548c\u5217\u8868\u5176\u5b9e\u662f\u6ca1\u6709\u4ec0\u4e48\u5173\u8054\u7684\uff0c\u8868\u5355\u7684\u503c\u4e5f\u53ef\u80fd\u7ecf\u5e38\u53d8\u52a8\uff0c\u4f46\u5b83\u7684\u4f1a\u7ed9\u5217\u8868\u4e5f\u5e26\u6765\u5fc5\u7136\u7684 diff \u64cd\u4f5c\uff0c\u8fd9\u662f\u6ca1\u5fc5\u8981\u7684\uff0c\u6700\u597d\u662f\u7ed9\u5217\u8868\u62bd\u51fa\u6210\u4e00\u4e2a\u5355\u72ec\u7684 PureComponent \u7ec4\u4ef6\uff0c\u8fd9\u6837 state.items \u4e0d\u53d8\u7684\u8bdd\uff0c\u5217\u8868\u5c31\u4e0d\u4f1a\u91cd\u65b0 render \u4e86\u3002","title":"\u590d\u6742\u72b6\u6001\u4e0e\u7b80\u5355\u72b6\u6001\u4e0d\u8981\u5171\u7528\u4e00\u4e2a\u7ec4\u4ef6"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#shouldcomponentupdate","text":"\u5982\u679c PureComponent \u91cc\u6709 shouldComponentUpdate \u51fd\u6570\u7684\u8bdd\uff0c\u76f4\u63a5\u4f7f\u7528 shouldComponentUpdate \u7684\u7ed3\u679c\u4f5c\u4e3a\u662f\u5426\u66f4\u65b0\u7684\u4f9d\u636e\uff0c\u6ca1\u6709 shouldComponentUpdate \u51fd\u6570\u7684\u8bdd\uff0c\u624d\u4f1a\u53bb\u5224\u65ad\u662f\u4e0d\u662f PureComponent \uff0c\u662f\u7684\u8bdd\u518d\u53bb\u505a shallowEqual \u6d45\u6bd4\u8f83\u3002 // \u8fd9\u4e2a\u53d8\u91cf\u7528\u6765\u63a7\u5236\u7ec4\u4ef6\u662f\u5426\u9700\u8981\u66f4\u65b0 var shouldUpdate = true; // inst \u662f\u7ec4\u4ef6\u5b9e\u4f8b if (inst.shouldComponentUpdate) { shouldUpdate = inst.shouldComponentUpdate(nextProps, nextState, nextContext); } else { if (this._compositeType === CompositeType.PureClass) { shouldUpdate = !shallowEqual(prevProps, nextProps) || !shallowEqual(inst.state, nextState); } }","title":"\u4e0e shouldComponentUpdate \u5171\u5b58"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_10","text":"import React { PureComponent, Component } from 'react'; class Foo extends (PureComponent || Component) { //... } \u8fd9\u6837\u5728\u8001\u7248\u672c\u7684 React \u91cc\u4e5f\u4e0d\u4f1a\u6302\u6389\u3002","title":"\u8001\u7248\u672c\u517c\u5bb9\u5199\u6cd5"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_11","text":"PureComponent \u771f\u6b63\u8d77\u4f5c\u7528\u7684\uff0c\u53ea\u662f\u5728\u4e00\u4e9b\u7eaf\u5c55\u793a\u7ec4\u4ef6\u4e0a\uff0c\u590d\u6742\u7ec4\u4ef6\u7528\u4e86\u4e5f\u6ca1\u5173\u7cfb\uff0c\u53cd\u6b63 shallowEqual \u90a3\u4e00\u5173\u5c31\u8fc7\u4e0d\u4e86\uff0c\u4e0d\u8fc7\u8bb0\u5f97 props \u548c state \u4e0d\u80fd\u4f7f\u7528\u540c\u4e00\u4e2a\u5f15\u7528\u54e6\u3002","title":"\u603b\u7ed3"},{"location":"react/React%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/","text":"React \u4e2d\u7684\u4e8b\u4ef6\u5904\u7406 \u00b6 \u57fa\u672c\u4f7f\u7528 \u00b6 React \u6846\u67b6\u81ea\u8eab\u5b9e\u73b0\u4e86\u4e00\u5957\u4e8b\u4ef6\u5904\u7406\u673a\u5236\uff0c\u5b83\u7684\u57fa\u672c\u7528\u6cd5\u548c DOM \u4e8b\u4ef6\u5f88\u76f8\u4f3c\u3002\u4f8b\u5982\uff0c\u7ed9\u67d0\u4e2a react \u5143\u7d20\u7ed1\u5b9a\u70b9\u51fb\u4e8b\u4ef6\uff1a import React from 'react'; import ReactDOM from 'react-dom'; class App extends React.Component { constructor(props) { super(props); } onClick = () => { // } render() { return (<button onClick={this.onClick}></button>); } } \u4e8b\u4ef6\u7c7b\u578b\u91c7\u7528\u5c0f\u9a7c\u5cf0\u547d\u540d\u6cd5\uff0c\u56e0\u6b64\u662f onClick \uff0c\u800c\u4e0d\u662f onclick \uff0c\u5176\u4ed6\u4e8b\u4ef6\u7c7b\u578b\u76f8\u540c\u3002 \u76f4\u63a5\u5c06\u51fd\u6570\u7684\u58f0\u660e(this.onClick)\u5f53\u6210\u4e8b\u4ef6\u53e5\u67c4\u4f20\u9012 \u6211\u4eec\u5c06\u5b83\u7684\u8fd9\u5957\u4e8b\u4ef6\u5904\u7406\u673a\u5236\u79f0\u4e4b\u4e3a SyntheticEvent \uff0c\u5373**\u5408\u6210\u4e8b\u4ef6** \u5408\u6210\u4e8b\u4ef6\uff08Synthetic Event\uff09 \u00b6 \u4e8b\u4ef6\u5192\u6ce1 \u00b6 React \u4e2d\uff0c\u9ed8\u8ba4\u7684\u4e8b\u4ef6\u4f20\u64ad\u65b9\u5f0f\u4e3a**\u5192\u6ce1**\uff1a import React, { Component } from \"react\" import ReactDOM from \"react-dom\" class App extends Component { render() { return ( <div onClick={() => {console.log(\"ancestor\");}}> <div onClick={() => {console.log(\"parent\");}}> <div onClick={() => {console.log(\"child\");}}></div> </div> </div> ); } } ReactDOM.render(<App />, document.querySelector(\"#root\")); \u5728\u8be5\u793a\u4f8b\u4e2d\uff0c 3 \u4e2a div \u5d4c\u5957\u663e\u793a\uff0c\u5e76\u4e14\u6bcf\u4e2a\u5143\u7d20\u4e0a\u5747\u7ed1\u5b9a onClick \u4e8b\u4ef6\uff1a \u5f53\u7528\u6237\u70b9\u51fb div \u5143\u7d20\u65f6\uff0c\u53ef\u4ee5\u770b\u5230\uff0c\u63a7\u5236\u53f0\u5148\u540e\u8f93\u51fa\u4e86 child -> parent -> ancestor \uff0c \u8fd9\u662f\u56e0\u4e3a\u5728React\u7684\u4e8b\u4ef6\u5904\u7406\u7cfb\u7edf\u4e2d\uff0c\u9ed8\u8ba4\u7684\u4e8b\u4ef6\u6d41\u5c31\u662f\u5192\u6ce1 \uff0c\u5982\u679c\u8bf4\u6211\u4eec\u5e0c\u671b\u4ee5\u6355\u83b7\u7684\u65b9\u5f0f\u6765\u89e6\u53d1\u4e8b\u4ef6\u7684\u8bdd\uff0c\u53ef\u4ee5\u4f7f\u7528 onClickCapture \u6765\u7ed1\u5b9a\u4e8b\u4ef6\uff0c\u4e5f\u5c31\u662f\u5728\u4e8b\u4ef6\u7c7b\u578b\u540e\u9762\u52a0\u4e00\u4e2a\u540e\u7f00 Capture \uff1a import React, { Component } from \"react\" import ReactDOM from \"react-dom\" class App extends Component { render() { return ( <div onClickCapture={() => {console.log(\"ancestor\");}}> <div onClickCapture={() => {console.log(\"parent\");}}> <div onClickCapture={() => {console.log(\"child\");}}></div> </div> </div> ); } } ReactDOM.render(<App />, document.querySelector(\"#root\")); \u8fd9\u65f6\uff0c\u8fd8\u662f\u70b9\u51fb div \uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u4e8b\u4ef6\u6d41\u662f\u4ece ancestor -> parent -> child \u4f20\u64ad\u4e86\u3002 \u4e8b\u4ef6\u59d4\u6258 \u00b6 \u5728\u5408\u6210\u4e8b\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u6240\u6709\u7684\u4e8b\u4ef6\u90fd\u662f\u7ed1\u5b9a\u5728 document \u5143\u7d20\u4e0a\uff0c\u5373\uff0c\u867d\u7136\u6211\u4eec\u5728\u67d0\u4e2a react \u5143\u7d20\u4e0a\u7ed1\u5b9a\u4e86\u4e8b\u4ef6\uff0c\u4f46\u662f\uff0c\u6700\u540e\u4e8b\u4ef6\u90fd\u59d4\u6258\u7ed9 document \u7edf\u4e00\u89e6\u53d1\u3002 \u5728\u5408\u6210\u4e8b\u4ef6\u4e2d\u53ea\u80fd\u963b\u6b62\u5408\u6210\u4e8b\u4ef6\u4e2d\u7684\u4e8b\u4ef6\u4f20\u64ad \u00b6 \u6211\u4eec\u5728\u7ea2\u8272\u533a\u57df\u7684 div \u91cc\uff0c\u4e5f\u5c31\u662f\u6700\u91cc\u5c42\u7684\u90a3\u4e2a\u5143\u7d20\u4e0a\uff0c\u4f7f\u7528 e.stopPropagation() \u65b9\u6cd5\u6765\u963b\u6b62\u4e8b\u4ef6\u6d41\u7684\u4f20\u64ad\uff1a <div onClick={() => {console.log(\"ancestor\")}}> <div onClick={() => {console.log(\"parent\");}}> <div onClick={e => { console.log(\"child\"); e.stopPropagation();}}></div> </div> </div> \u70b9\u51fb\u7ea2\u8272\u533a\u57df\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u63a7\u5236\u53f0\u4e0a\u53ea\u8f93\u51fa\u4e86 child \uff0c\u8bf4\u660e\u8fd9\u65f6\u5df2\u7ecf\u6210\u529f\u963b\u6b62\u4e86\u5192\u6ce1\u3002\u6267\u884c\u6d41\u7a0b\u5982\u4e0b\uff1a \u4ece\u56fe\u4e2d\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c react \u963b\u6b62\u7684\u4e8b\u4ef6\u6d41\uff0c\u5e76\u6ca1\u6709\u963b\u6b62\u771f\u6b63 DOM \u5143\u7d20\u7684\u4e8b\u4ef6\u89e6\u53d1\uff0c\u5f53\u7ea2\u8272 div \u5143\u7d20\u88ab\u70b9\u51fb\u65f6\uff0c\u771f\u6b63\u7684\u5143\u7d20\u8fd8\u662f\u6309\u7167\u5192\u6ce1\u7684\u65b9\u5f0f\uff0c\u5c42\u5c42\u5c06\u4e8b\u4ef6\u4ea4\u7ed9\u4e0a\u7ea7\u5143\u7d20\u8fdb\u884c\u5904\u7406\uff0c\u6700\u540e\u4e8b\u4ef6\u4f20\u64ad\u5230 docuement \uff0c\u89e6\u53d1\u5408\u6210\u4e8b\u4ef6\uff0c\u5728\u5408\u6210\u4e8b\u4ef6\u4e2d\uff0c child \u89e6\u53d1\u65f6\uff0c e.stopPropagation(); \u88ab\u8c03\u7528\uff0c\u5408\u6210\u4e8b\u4ef6\u4e2d\u7684\u4e8b\u4ef6\u88ab\u7ec8\u6b62\u3002\u56e0\u6b64\uff0c==\u5408\u6210\u4e8b\u4ef6\u4e2d\u7684 stopPropagation \u65e0\u6cd5\u963b\u6b62\u4e8b\u4ef6\u5728\u771f\u6b63\u5143\u7d20\u4e0a\u7684\u4f20\u9012\uff0c\u5b83\u53ea\u963b\u6b62\u5408\u6210\u4e8b\u4ef6\u4e2d\u7684\u4e8b\u4ef6\u6d41\u3002==\u76f8\u53cd\uff0c\u5982\u679c\u6211\u4eec\u5728\u7ea2\u8272\u7684 div \u4e0a\uff0c\u7ed1\u5b9a\u4e00\u4e2a\u771f\u6b63\u7684\u4e8b\u4ef6\uff0c\u90a3\u4e48\uff0c\u5408\u6210\u4e8b\u4ef6\u5219\u4f1a\u88ab\u7ec8\u6b62\u3002 \u4e8b\u4ef6\u5bf9\u8c61 \u00b6 \u5728 SyntheticEvent \u4e2d\uff0c\u6211\u4eec\u4f9d\u7136\u53ef\u4ee5\u83b7\u53d6\u5230\u4e8b\u4ef6\u53d1\u751f\u65f6\u7684 event \u5bf9\u8c61\uff1a import React, { Component } from \"react\" import ReactDOM from \"react-dom\" class App extends Component { state = { x: 0, y: 0 } render() { return ( <div> <div style={styles[\"DEBUG_DISPLAY\"]} onClick={e => { console.log(e) }} > x: {this.state.x}\uff0cy: {this.state.y} </div> </div> ); } } ReactDOM.render(<App />, document.querySelector(\"#root\")); \u4ee5\u4e0a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u7ed9 div \u5143\u7d20\u7ed1\u5b9a\u4e86\u4e00\u4e2a click \u4e8b\u4ef6\uff0c\u5728\u7528\u6237\u70b9\u51fb\u65f6\uff0c\u5728\u63a7\u5236\u53f0\u8f93\u51fa event \u5bf9\u8c61\uff1a \u63a5\u4e0b\u6765\u5c06\u7528\u6237\u70b9\u51fb\u65f6\u7684\u5750\u6807\u5728 div \u5143\u7d20\u4e2d\u663e\u793a\u51fa\u6765\uff0c\u53ef\u4ee5\u901a\u8fc7 clientX \u548c clientY \u6765\u8bbf\u95ee\uff1a <div style={styles[\"DEBUG_DISPLAY\"]} onClick={e => { this.setState({ x: e.clientX, y: e.clientY }); }} > x: {this.state.x}\uff0cy: {this.state.y} </div> \u5408\u6210\u4e8b\u4ef6\u4e2d\u7684 event \u5bf9\u8c61\uff0c\u5e76\u4e0d\u662f\u539f\u751f\u7684 event \uff0c\u53ea\u662f\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5b83\u83b7\u53d6\u5230\u539f\u751f event \u5bf9\u8c61\u4e0a\u7684\u67d0\u4e9b\u5c5e\u6027\uff0c\u6bd4\u5982\u4ee5\u4e0a\u793a\u4f8b\u4e2d\u7684 clientX \u548c clientY \u3002\u800c\u4e14\uff0c\u5bf9\u4e8e\u8fd9\u4e2a event \u5bf9\u8c61\uff0c\u5728\u6574\u4e2a\u5408\u6210\u4e8b\u4ef6\u4e2d\uff0c\u53ea\u6709\u4e00\u4e2a\uff0c\u88ab\u5168\u5c40\u5171\u4eab\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u8fd9\u6b21\u4e8b\u4ef6\u8c03\u7528\u5b8c\u6210\u4e4b\u540e\uff0c\u8fd9\u4e2a event \u5bf9\u8c61\u4f1a\u88ab\u6e05\u7a7a\uff0c\u7b49\u5f85\u4e0b\u4e00\u6b21\u7684\u4e8b\u4ef6\u89e6\u53d1\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u65e0\u6cd5\u5728\u5f02\u6b65\u7684\u64cd\u4f5c\u4e2d\u83b7\u53d6\u5230 event \uff1a <div style={styles[\"DEBUG_DISPLAY\"]} onClick={e => { setTimeout(() => { this.setState({ x: e.clientX, y: e.clientY }); }, 1000); }} > x: {this.state.x}\uff0cy: {this.state.y} </div> \u5f53\u7528\u6237\u70b9\u51fb div \uff0c 1 \u79d2\u4e4b\u540e\u83b7\u53d6\u70b9\u51fb\u65f6\u7684\u5750\u6807\uff0c\u8fd9\u65f6\uff0c\u53ef\u4ee5\u770b\u5230\u63a7\u5236\u53f0\u629b\u51fa\u9519\u8bef\uff1a \u5728\u5f02\u6b65\u64cd\u4f5c\u4e2d\u60f3\u8981\u83b7\u53d6 event \u5bf9\u8c61\u4e2d\u7684\u6570\u636e\uff0c\u5728\u4e8b\u4ef6\u53d1\u751f\u65f6\u5c31\u9700\u8981\u5c06\u6570\u636e\u901a\u8fc7\u53d8\u91cf\u4fdd\u5b58\u4e0b\u6765\uff1a <div style={styles[\"DEBUG_DISPLAY\"]} onClick={e => { const { clientX, clientY } = e; setTimeout(() => { this.setState({ x: clientX, y: clientY }); }, 1000); }} > x: {this.state.x}\uff0cy: {this.state.y} </div> \u6df7\u5408\u4f7f\u7528 \u00b6 react \u9f13\u52b1\u6211\u4eec\u4f7f\u7528\u5408\u6210\u4e8b\u4ef6\uff0c\u4f46\u662f\uff0c\u5728\u67d0\u4e9b\u9700\u6c42\u4e2d\uff0c\u8fd8\u662f\u9700\u8981\u901a\u8fc7\u539f\u751f\u4e8b\u4ef6\u6765\u8fdb\u884c\u5904\u7406\uff0c\u8fd9\u65f6\uff0c\u5c31\u6d89\u53ca\u5230\u5408\u6210\u4e8b\u4ef6\u548c\u539f\u751f\u4e8b\u4ef6\u7684\u6df7\u5408\u4f7f\u7528\uff0c\u4f8b\u5982\u4ee5\u4e0b\u793a\u4f8b\uff1a import React, { Component } from \"react\" import ReactDOM from \"react-dom\" class App extends Component { state = { isShow: \"none\" } render() { return ( <div> <button onClick={() => { this.setState({ isShow: \"block\" }); }} >\u70b9\u51fb\u663e\u793a</button> <div style={{ display: this.state.isShow, width: \"100px\", height: \"100px\", backgroundColor: \"red\" }}></div> </div> ); } } ReactDOM.render(<App />, document.querySelector(\"#root\")); \u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u63d0\u4f9b\u4e00\u4e2a\u6309\u94ae\u548c\u4e00\u4e2a div \u5143\u7d20\uff0c\u5f53\u7528\u6237\u70b9\u51fb\u6309\u94ae\u65f6\uff0c\u663e\u793a div \uff0c\u5f53\u70b9\u51fb\u9875\u9762\u5176\u4ed6\u533a\u57df\u65f6\uff0c\u5219\u9690\u85cf\u3002\u4ee5\u4e0a\u4ee3\u7801\u5df2\u7ecf\u5b9e\u73b0\u70b9\u51fb\u6309\u94ae\u663e\u793a div \u7684\u529f\u80fd\uff1a \u8981\u5b9e\u73b0 \u70b9\u51fb\u5176\u4ed6\u533a\u57df\u9690\u85cf div \u5143\u7d20 \u7684\u529f\u80fd\uff0c\u9700\u8981\u5c06\u4e8b\u4ef6\u7ed1\u5b9a\u5728 document \u5143\u7d20\u4e0a\uff0c\u63a5\u4e0b\u6765\uff0c\u5728 compnentDidMount \u751f\u547d\u5468\u671f\u51fd\u6570\u4e2d\uff0c\u6765\u7ed1\u5b9a\u8be5\u4e8b\u4ef6\uff1a class App extends Component { state = { ... } componentDidMount() { document.addEventListener(\"click\", e => { this.setState({ isShow: \"none\" }); }) } render() { ... } } \u5f53\u70b9\u51fb\u6309\u94ae\u65f6\uff0c isShow: \"block\" \uff0c\u5f53\u70b9\u51fb\u5176\u4ed6\u533a\u57df\u65f6\uff0c isShow: \"none\" \u3002\u8fd9\u65f6\u6211\u4eec\u53d1\u73b0\uff0c\u70b9\u51fb\u6309\u94ae\u65f6\uff0c div \u663e\u793a\u4e0d\u51fa\u6765\u4e86\u3002 \u8fd9\u4e2a\u73b0\u8c61\u7684\u539f\u56e0\u662f\uff0c\u5b9e\u9645\u4e0a\uff0c\u5728 document \u5143\u7d20\u8eab\u4e0a\uff0c\u73b0\u5728\u5df2\u7ecf\u5b58\u5728 2 \u4e2a click \u4e8b\u4ef6\uff0c\u4e00\u4e2a\u662f\u5408\u6210\u4e8b\u4ef6\u7ed1\u5b9a\u7684 click \uff0c\u53e6\u5916\u4e00\u4e2a\u662f\u6211\u4eec\u81ea\u5df1\u6dfb\u52a0\u7684\u76d1\u542c\u5668\u3002\u5f53\u7528\u6237\u70b9\u51fb\u6309\u94ae\u65f6\uff0c synthetic \u4e2d\u7684 click \u9996\u5148\u88ab\u89e6\u53d1\uff0c\u8fd9\u65f6\uff0c isShow \u72b6\u6001\u88ab\u8bbe\u7f6e\u6210 block \uff0c\u9875\u9762\u5143\u7d20\u88ab\u663e\u793a\u51fa\u6765\uff0c\u7d27\u8ddf\u7740\uff0c native \u4e2d\u7684 click \u4e8b\u4ef6\u88ab\u89e6\u53d1\uff0c\u53c8\u628a isShow \u7684\u72b6\u6001\u6539\u4e3a none \uff0c div \u5143\u7d20\u53c8\u88ab\u9690\u85cf\u4e86\u8d77\u6765\u3002 \u5904\u7406\u65b9\u6cd5\uff1a import React, { Component } from \"react\" import ReactDOM from \"react-dom\" class App extends Component { state = { isShow: \"none\" } button = React.createRef(); componentDidMount() { document.addEventListener(\"click\", e => { // \u5f53 native \u4e8b\u4ef6\u88ab\u89e6\u53d1\u65f6\uff0c\u6211\u4eec\u5224\u65ad\u4e00\u4e0b\u5f53\u524d\u76ee\u6807\u5143\u7d20\u662f\u5426\u4e3a button\uff0c // \u5982\u679c\u4e0d\u662f\u70b9\u51fb\u7684\u6309\u94ae\uff0c\u5219\u5c31\u610f\u5473\u7740\u5c06\u5143\u7d20\u9690\u85cf if (e.target !== this.button.current) { this.setState({ isShow: \"none\" }); } }) } render() { return ( <div> <button ref={this.button} onClick={() => { this.setState({ isShow: \"block\" }); }} >\u70b9\u51fb\u663e\u793a</button> <div style={{ display: this.state.isShow, width: \"100px\", height: \"100px\", backgroundColor: \"red\" }}></div> </div> ); } } ReactDOM.render(<App />, document.querySelector(\"#root\"));","title":"React \u4e2d\u7684\u4e8b\u4ef6\u5904\u7406.md"},{"location":"react/React%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/#react","text":"","title":"React \u4e2d\u7684\u4e8b\u4ef6\u5904\u7406"},{"location":"react/React%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/#_1","text":"React \u6846\u67b6\u81ea\u8eab\u5b9e\u73b0\u4e86\u4e00\u5957\u4e8b\u4ef6\u5904\u7406\u673a\u5236\uff0c\u5b83\u7684\u57fa\u672c\u7528\u6cd5\u548c DOM \u4e8b\u4ef6\u5f88\u76f8\u4f3c\u3002\u4f8b\u5982\uff0c\u7ed9\u67d0\u4e2a react \u5143\u7d20\u7ed1\u5b9a\u70b9\u51fb\u4e8b\u4ef6\uff1a import React from 'react'; import ReactDOM from 'react-dom'; class App extends React.Component { constructor(props) { super(props); } onClick = () => { // } render() { return (<button onClick={this.onClick}></button>); } } \u4e8b\u4ef6\u7c7b\u578b\u91c7\u7528\u5c0f\u9a7c\u5cf0\u547d\u540d\u6cd5\uff0c\u56e0\u6b64\u662f onClick \uff0c\u800c\u4e0d\u662f onclick \uff0c\u5176\u4ed6\u4e8b\u4ef6\u7c7b\u578b\u76f8\u540c\u3002 \u76f4\u63a5\u5c06\u51fd\u6570\u7684\u58f0\u660e(this.onClick)\u5f53\u6210\u4e8b\u4ef6\u53e5\u67c4\u4f20\u9012 \u6211\u4eec\u5c06\u5b83\u7684\u8fd9\u5957\u4e8b\u4ef6\u5904\u7406\u673a\u5236\u79f0\u4e4b\u4e3a SyntheticEvent \uff0c\u5373**\u5408\u6210\u4e8b\u4ef6**","title":"\u57fa\u672c\u4f7f\u7528"},{"location":"react/React%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/#synthetic-event","text":"","title":"\u5408\u6210\u4e8b\u4ef6\uff08Synthetic Event\uff09"},{"location":"react/React%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/#_2","text":"React \u4e2d\uff0c\u9ed8\u8ba4\u7684\u4e8b\u4ef6\u4f20\u64ad\u65b9\u5f0f\u4e3a**\u5192\u6ce1**\uff1a import React, { Component } from \"react\" import ReactDOM from \"react-dom\" class App extends Component { render() { return ( <div onClick={() => {console.log(\"ancestor\");}}> <div onClick={() => {console.log(\"parent\");}}> <div onClick={() => {console.log(\"child\");}}></div> </div> </div> ); } } ReactDOM.render(<App />, document.querySelector(\"#root\")); \u5728\u8be5\u793a\u4f8b\u4e2d\uff0c 3 \u4e2a div \u5d4c\u5957\u663e\u793a\uff0c\u5e76\u4e14\u6bcf\u4e2a\u5143\u7d20\u4e0a\u5747\u7ed1\u5b9a onClick \u4e8b\u4ef6\uff1a \u5f53\u7528\u6237\u70b9\u51fb div \u5143\u7d20\u65f6\uff0c\u53ef\u4ee5\u770b\u5230\uff0c\u63a7\u5236\u53f0\u5148\u540e\u8f93\u51fa\u4e86 child -> parent -> ancestor \uff0c \u8fd9\u662f\u56e0\u4e3a\u5728React\u7684\u4e8b\u4ef6\u5904\u7406\u7cfb\u7edf\u4e2d\uff0c\u9ed8\u8ba4\u7684\u4e8b\u4ef6\u6d41\u5c31\u662f\u5192\u6ce1 \uff0c\u5982\u679c\u8bf4\u6211\u4eec\u5e0c\u671b\u4ee5\u6355\u83b7\u7684\u65b9\u5f0f\u6765\u89e6\u53d1\u4e8b\u4ef6\u7684\u8bdd\uff0c\u53ef\u4ee5\u4f7f\u7528 onClickCapture \u6765\u7ed1\u5b9a\u4e8b\u4ef6\uff0c\u4e5f\u5c31\u662f\u5728\u4e8b\u4ef6\u7c7b\u578b\u540e\u9762\u52a0\u4e00\u4e2a\u540e\u7f00 Capture \uff1a import React, { Component } from \"react\" import ReactDOM from \"react-dom\" class App extends Component { render() { return ( <div onClickCapture={() => {console.log(\"ancestor\");}}> <div onClickCapture={() => {console.log(\"parent\");}}> <div onClickCapture={() => {console.log(\"child\");}}></div> </div> </div> ); } } ReactDOM.render(<App />, document.querySelector(\"#root\")); \u8fd9\u65f6\uff0c\u8fd8\u662f\u70b9\u51fb div \uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u4e8b\u4ef6\u6d41\u662f\u4ece ancestor -> parent -> child \u4f20\u64ad\u4e86\u3002","title":"\u4e8b\u4ef6\u5192\u6ce1"},{"location":"react/React%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/#_3","text":"\u5728\u5408\u6210\u4e8b\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u6240\u6709\u7684\u4e8b\u4ef6\u90fd\u662f\u7ed1\u5b9a\u5728 document \u5143\u7d20\u4e0a\uff0c\u5373\uff0c\u867d\u7136\u6211\u4eec\u5728\u67d0\u4e2a react \u5143\u7d20\u4e0a\u7ed1\u5b9a\u4e86\u4e8b\u4ef6\uff0c\u4f46\u662f\uff0c\u6700\u540e\u4e8b\u4ef6\u90fd\u59d4\u6258\u7ed9 document \u7edf\u4e00\u89e6\u53d1\u3002","title":"\u4e8b\u4ef6\u59d4\u6258"},{"location":"react/React%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/#_4","text":"\u6211\u4eec\u5728\u7ea2\u8272\u533a\u57df\u7684 div \u91cc\uff0c\u4e5f\u5c31\u662f\u6700\u91cc\u5c42\u7684\u90a3\u4e2a\u5143\u7d20\u4e0a\uff0c\u4f7f\u7528 e.stopPropagation() \u65b9\u6cd5\u6765\u963b\u6b62\u4e8b\u4ef6\u6d41\u7684\u4f20\u64ad\uff1a <div onClick={() => {console.log(\"ancestor\")}}> <div onClick={() => {console.log(\"parent\");}}> <div onClick={e => { console.log(\"child\"); e.stopPropagation();}}></div> </div> </div> \u70b9\u51fb\u7ea2\u8272\u533a\u57df\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u63a7\u5236\u53f0\u4e0a\u53ea\u8f93\u51fa\u4e86 child \uff0c\u8bf4\u660e\u8fd9\u65f6\u5df2\u7ecf\u6210\u529f\u963b\u6b62\u4e86\u5192\u6ce1\u3002\u6267\u884c\u6d41\u7a0b\u5982\u4e0b\uff1a \u4ece\u56fe\u4e2d\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c react \u963b\u6b62\u7684\u4e8b\u4ef6\u6d41\uff0c\u5e76\u6ca1\u6709\u963b\u6b62\u771f\u6b63 DOM \u5143\u7d20\u7684\u4e8b\u4ef6\u89e6\u53d1\uff0c\u5f53\u7ea2\u8272 div \u5143\u7d20\u88ab\u70b9\u51fb\u65f6\uff0c\u771f\u6b63\u7684\u5143\u7d20\u8fd8\u662f\u6309\u7167\u5192\u6ce1\u7684\u65b9\u5f0f\uff0c\u5c42\u5c42\u5c06\u4e8b\u4ef6\u4ea4\u7ed9\u4e0a\u7ea7\u5143\u7d20\u8fdb\u884c\u5904\u7406\uff0c\u6700\u540e\u4e8b\u4ef6\u4f20\u64ad\u5230 docuement \uff0c\u89e6\u53d1\u5408\u6210\u4e8b\u4ef6\uff0c\u5728\u5408\u6210\u4e8b\u4ef6\u4e2d\uff0c child \u89e6\u53d1\u65f6\uff0c e.stopPropagation(); \u88ab\u8c03\u7528\uff0c\u5408\u6210\u4e8b\u4ef6\u4e2d\u7684\u4e8b\u4ef6\u88ab\u7ec8\u6b62\u3002\u56e0\u6b64\uff0c==\u5408\u6210\u4e8b\u4ef6\u4e2d\u7684 stopPropagation \u65e0\u6cd5\u963b\u6b62\u4e8b\u4ef6\u5728\u771f\u6b63\u5143\u7d20\u4e0a\u7684\u4f20\u9012\uff0c\u5b83\u53ea\u963b\u6b62\u5408\u6210\u4e8b\u4ef6\u4e2d\u7684\u4e8b\u4ef6\u6d41\u3002==\u76f8\u53cd\uff0c\u5982\u679c\u6211\u4eec\u5728\u7ea2\u8272\u7684 div \u4e0a\uff0c\u7ed1\u5b9a\u4e00\u4e2a\u771f\u6b63\u7684\u4e8b\u4ef6\uff0c\u90a3\u4e48\uff0c\u5408\u6210\u4e8b\u4ef6\u5219\u4f1a\u88ab\u7ec8\u6b62\u3002","title":"\u5728\u5408\u6210\u4e8b\u4ef6\u4e2d\u53ea\u80fd\u963b\u6b62\u5408\u6210\u4e8b\u4ef6\u4e2d\u7684\u4e8b\u4ef6\u4f20\u64ad"},{"location":"react/React%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/#_5","text":"\u5728 SyntheticEvent \u4e2d\uff0c\u6211\u4eec\u4f9d\u7136\u53ef\u4ee5\u83b7\u53d6\u5230\u4e8b\u4ef6\u53d1\u751f\u65f6\u7684 event \u5bf9\u8c61\uff1a import React, { Component } from \"react\" import ReactDOM from \"react-dom\" class App extends Component { state = { x: 0, y: 0 } render() { return ( <div> <div style={styles[\"DEBUG_DISPLAY\"]} onClick={e => { console.log(e) }} > x: {this.state.x}\uff0cy: {this.state.y} </div> </div> ); } } ReactDOM.render(<App />, document.querySelector(\"#root\")); \u4ee5\u4e0a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u7ed9 div \u5143\u7d20\u7ed1\u5b9a\u4e86\u4e00\u4e2a click \u4e8b\u4ef6\uff0c\u5728\u7528\u6237\u70b9\u51fb\u65f6\uff0c\u5728\u63a7\u5236\u53f0\u8f93\u51fa event \u5bf9\u8c61\uff1a \u63a5\u4e0b\u6765\u5c06\u7528\u6237\u70b9\u51fb\u65f6\u7684\u5750\u6807\u5728 div \u5143\u7d20\u4e2d\u663e\u793a\u51fa\u6765\uff0c\u53ef\u4ee5\u901a\u8fc7 clientX \u548c clientY \u6765\u8bbf\u95ee\uff1a <div style={styles[\"DEBUG_DISPLAY\"]} onClick={e => { this.setState({ x: e.clientX, y: e.clientY }); }} > x: {this.state.x}\uff0cy: {this.state.y} </div> \u5408\u6210\u4e8b\u4ef6\u4e2d\u7684 event \u5bf9\u8c61\uff0c\u5e76\u4e0d\u662f\u539f\u751f\u7684 event \uff0c\u53ea\u662f\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5b83\u83b7\u53d6\u5230\u539f\u751f event \u5bf9\u8c61\u4e0a\u7684\u67d0\u4e9b\u5c5e\u6027\uff0c\u6bd4\u5982\u4ee5\u4e0a\u793a\u4f8b\u4e2d\u7684 clientX \u548c clientY \u3002\u800c\u4e14\uff0c\u5bf9\u4e8e\u8fd9\u4e2a event \u5bf9\u8c61\uff0c\u5728\u6574\u4e2a\u5408\u6210\u4e8b\u4ef6\u4e2d\uff0c\u53ea\u6709\u4e00\u4e2a\uff0c\u88ab\u5168\u5c40\u5171\u4eab\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u8fd9\u6b21\u4e8b\u4ef6\u8c03\u7528\u5b8c\u6210\u4e4b\u540e\uff0c\u8fd9\u4e2a event \u5bf9\u8c61\u4f1a\u88ab\u6e05\u7a7a\uff0c\u7b49\u5f85\u4e0b\u4e00\u6b21\u7684\u4e8b\u4ef6\u89e6\u53d1\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u65e0\u6cd5\u5728\u5f02\u6b65\u7684\u64cd\u4f5c\u4e2d\u83b7\u53d6\u5230 event \uff1a <div style={styles[\"DEBUG_DISPLAY\"]} onClick={e => { setTimeout(() => { this.setState({ x: e.clientX, y: e.clientY }); }, 1000); }} > x: {this.state.x}\uff0cy: {this.state.y} </div> \u5f53\u7528\u6237\u70b9\u51fb div \uff0c 1 \u79d2\u4e4b\u540e\u83b7\u53d6\u70b9\u51fb\u65f6\u7684\u5750\u6807\uff0c\u8fd9\u65f6\uff0c\u53ef\u4ee5\u770b\u5230\u63a7\u5236\u53f0\u629b\u51fa\u9519\u8bef\uff1a \u5728\u5f02\u6b65\u64cd\u4f5c\u4e2d\u60f3\u8981\u83b7\u53d6 event \u5bf9\u8c61\u4e2d\u7684\u6570\u636e\uff0c\u5728\u4e8b\u4ef6\u53d1\u751f\u65f6\u5c31\u9700\u8981\u5c06\u6570\u636e\u901a\u8fc7\u53d8\u91cf\u4fdd\u5b58\u4e0b\u6765\uff1a <div style={styles[\"DEBUG_DISPLAY\"]} onClick={e => { const { clientX, clientY } = e; setTimeout(() => { this.setState({ x: clientX, y: clientY }); }, 1000); }} > x: {this.state.x}\uff0cy: {this.state.y} </div>","title":"\u4e8b\u4ef6\u5bf9\u8c61"},{"location":"react/React%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/#_6","text":"react \u9f13\u52b1\u6211\u4eec\u4f7f\u7528\u5408\u6210\u4e8b\u4ef6\uff0c\u4f46\u662f\uff0c\u5728\u67d0\u4e9b\u9700\u6c42\u4e2d\uff0c\u8fd8\u662f\u9700\u8981\u901a\u8fc7\u539f\u751f\u4e8b\u4ef6\u6765\u8fdb\u884c\u5904\u7406\uff0c\u8fd9\u65f6\uff0c\u5c31\u6d89\u53ca\u5230\u5408\u6210\u4e8b\u4ef6\u548c\u539f\u751f\u4e8b\u4ef6\u7684\u6df7\u5408\u4f7f\u7528\uff0c\u4f8b\u5982\u4ee5\u4e0b\u793a\u4f8b\uff1a import React, { Component } from \"react\" import ReactDOM from \"react-dom\" class App extends Component { state = { isShow: \"none\" } render() { return ( <div> <button onClick={() => { this.setState({ isShow: \"block\" }); }} >\u70b9\u51fb\u663e\u793a</button> <div style={{ display: this.state.isShow, width: \"100px\", height: \"100px\", backgroundColor: \"red\" }}></div> </div> ); } } ReactDOM.render(<App />, document.querySelector(\"#root\")); \u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u63d0\u4f9b\u4e00\u4e2a\u6309\u94ae\u548c\u4e00\u4e2a div \u5143\u7d20\uff0c\u5f53\u7528\u6237\u70b9\u51fb\u6309\u94ae\u65f6\uff0c\u663e\u793a div \uff0c\u5f53\u70b9\u51fb\u9875\u9762\u5176\u4ed6\u533a\u57df\u65f6\uff0c\u5219\u9690\u85cf\u3002\u4ee5\u4e0a\u4ee3\u7801\u5df2\u7ecf\u5b9e\u73b0\u70b9\u51fb\u6309\u94ae\u663e\u793a div \u7684\u529f\u80fd\uff1a \u8981\u5b9e\u73b0 \u70b9\u51fb\u5176\u4ed6\u533a\u57df\u9690\u85cf div \u5143\u7d20 \u7684\u529f\u80fd\uff0c\u9700\u8981\u5c06\u4e8b\u4ef6\u7ed1\u5b9a\u5728 document \u5143\u7d20\u4e0a\uff0c\u63a5\u4e0b\u6765\uff0c\u5728 compnentDidMount \u751f\u547d\u5468\u671f\u51fd\u6570\u4e2d\uff0c\u6765\u7ed1\u5b9a\u8be5\u4e8b\u4ef6\uff1a class App extends Component { state = { ... } componentDidMount() { document.addEventListener(\"click\", e => { this.setState({ isShow: \"none\" }); }) } render() { ... } } \u5f53\u70b9\u51fb\u6309\u94ae\u65f6\uff0c isShow: \"block\" \uff0c\u5f53\u70b9\u51fb\u5176\u4ed6\u533a\u57df\u65f6\uff0c isShow: \"none\" \u3002\u8fd9\u65f6\u6211\u4eec\u53d1\u73b0\uff0c\u70b9\u51fb\u6309\u94ae\u65f6\uff0c div \u663e\u793a\u4e0d\u51fa\u6765\u4e86\u3002 \u8fd9\u4e2a\u73b0\u8c61\u7684\u539f\u56e0\u662f\uff0c\u5b9e\u9645\u4e0a\uff0c\u5728 document \u5143\u7d20\u8eab\u4e0a\uff0c\u73b0\u5728\u5df2\u7ecf\u5b58\u5728 2 \u4e2a click \u4e8b\u4ef6\uff0c\u4e00\u4e2a\u662f\u5408\u6210\u4e8b\u4ef6\u7ed1\u5b9a\u7684 click \uff0c\u53e6\u5916\u4e00\u4e2a\u662f\u6211\u4eec\u81ea\u5df1\u6dfb\u52a0\u7684\u76d1\u542c\u5668\u3002\u5f53\u7528\u6237\u70b9\u51fb\u6309\u94ae\u65f6\uff0c synthetic \u4e2d\u7684 click \u9996\u5148\u88ab\u89e6\u53d1\uff0c\u8fd9\u65f6\uff0c isShow \u72b6\u6001\u88ab\u8bbe\u7f6e\u6210 block \uff0c\u9875\u9762\u5143\u7d20\u88ab\u663e\u793a\u51fa\u6765\uff0c\u7d27\u8ddf\u7740\uff0c native \u4e2d\u7684 click \u4e8b\u4ef6\u88ab\u89e6\u53d1\uff0c\u53c8\u628a isShow \u7684\u72b6\u6001\u6539\u4e3a none \uff0c div \u5143\u7d20\u53c8\u88ab\u9690\u85cf\u4e86\u8d77\u6765\u3002 \u5904\u7406\u65b9\u6cd5\uff1a import React, { Component } from \"react\" import ReactDOM from \"react-dom\" class App extends Component { state = { isShow: \"none\" } button = React.createRef(); componentDidMount() { document.addEventListener(\"click\", e => { // \u5f53 native \u4e8b\u4ef6\u88ab\u89e6\u53d1\u65f6\uff0c\u6211\u4eec\u5224\u65ad\u4e00\u4e0b\u5f53\u524d\u76ee\u6807\u5143\u7d20\u662f\u5426\u4e3a button\uff0c // \u5982\u679c\u4e0d\u662f\u70b9\u51fb\u7684\u6309\u94ae\uff0c\u5219\u5c31\u610f\u5473\u7740\u5c06\u5143\u7d20\u9690\u85cf if (e.target !== this.button.current) { this.setState({ isShow: \"none\" }); } }) } render() { return ( <div> <button ref={this.button} onClick={() => { this.setState({ isShow: \"block\" }); }} >\u70b9\u51fb\u663e\u793a</button> <div style={{ display: this.state.isShow, width: \"100px\", height: \"100px\", backgroundColor: \"red\" }}></div> </div> ); } } ReactDOM.render(<App />, document.querySelector(\"#root\"));","title":"\u6df7\u5408\u4f7f\u7528"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/","text":"React \u5404\u79cdbug \u00b6 BUG1 \u00b6 Module Error (from ./node_modules/af-webpack/node_modules/eslint-loader/index.js): Line 43:5: Expected an assignment or function call and instead saw an expression no-unused-expressions Search for the keywords to learn more about each error. \u6211\u8fd9\u8fb9\u67e5\u51fa\u6765\u7684\u9519\u8bef\u4ee3\u7801\u662f\uff1a cardGrid.push(fieldGridStr),cardGrid.push(valueGridStr2); \u4e2d\u95f4\u95f4\u9694\u662f\u4e2a\u9017\u53f7\uff0c\u6539\u6210\u5206\u53f7\u5c31\u53ef\u4ee5\u3002 cardGrid.push(fieldGridStr); cardGrid.push(valueGridStr2); BUG2 \u00b6 Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports. \u8fd9\u4e2a\u9519\u8bef\u4ece\u7f51\u4e0a\u641c\u7d22\u8bf4\u662f\u56e0\u4e3a\u4f60\u5bfc\u51fa\u7684\u7c7b\u6216\u8005\u51fd\u6570\u5728\u5bfc\u5165\u7684\u65f6\u5019\u65b9\u5f0f\u4e0d\u6b63\u786e\u9020\u6210\u7684\uff0c\u800c\u6211\u4eca\u5929\u9020\u6210\u8fd9\u4e2a\u9519\u8bef\u7684\u539f\u56e0\u662f\uff1a static propTypes = { noDataImgShow : PropTypes . boolean . isRequired } \u6211\u5199\u7684 PropTypes.boolean \u57fa\u672c\u7c7b\u578b\u5f15\u7528\u9519\u8bef\u4e86\uff0c\u9020\u6210\u7684\u3002\u8bb0\u5f97 PropTypes \u7684\u57fa\u672c\u7c7b\u578b\u6709\uff1a optionalArray: PropTypes.array, optionalBool: PropTypes.bool, optionalFunc: PropTypes.func, optionalNumber: PropTypes.number, optionalObject: PropTypes.object, optionalString: PropTypes.string, optionalSymbol: PropTypes.symbol, \u4e0d\u8981\u5199\u9519\u4e86\u3002 prop-types BUG3 \u00b6 Creating an optimized production build... Failed to compile. Module parse failed: C:\\Users\\\u7389\u4e3d\\AppData\\Roaming\\npm\\node_modules\\roadhog\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\\u7389\u4e3d\\Desktop\\company_work\\vitark-web-ui\\src\\common\\router.js Unexpected token (70:15) \u89e3\u51b3\u529e\u6cd5\uff1a npm install @babel/core @babel/preset-env BUG4 \u00b6 Build failed: The 'decorators' plugin requires a 'decoratorsBeforeExport' option, whose value must be a boolean. If you are migrating from Babylon/Babel 6 or want to use the old decorators proposal, you should use the 'decorators-legacy' plugin instead of 'decorators'. https://github.com/ant-design/ant-design-pro/issues/2043 \u5b89\u88c5\u5236\u5b9a\u7248\u672c\u7684 roadhog npm install --save 2.5.0-beta.1 BUG5 \u00b6 Module build failed: ReferenceError: Unknown plugin \"transform-runtime\" specified in \"base\" at 2, attempted to resolve relative to \"C:\\\\Users\\\\\u7389\u4e3d\\\\Desktop\\\\company_work\\\\vitark-web-ui\\\\src\" \u5b89\u88c5\u4f9d\u8d56\uff1a npm install --save babel-plugin-transform-runtime BUG6 \u00b6 Module build failed: ReferenceError: Unknown plugin \"transform-class-properties\" specified in \"base\" at 4, attempted to resolve relative to \"C:\\\\Users\\\\\u7389\u4e3d\\\\Desktop\\\\company_work\\\\vitark-web-ui\\\\src\" \u9700\u8981\u5b89\u88c5\u4f9d\u8d56\uff1a npm install babel-plugin-transform-class-properties babel-plugin-transform-decorators-legacy babel-plugin-transform-export-extensions babel-plugin-transform-object-rest-spread babel-preset-env --save-dev BUG7 \u00b6 Module not found:Error:Can't resolve '@babel/runtime/helpers/esm/extends' \u8fd9\u4e2a\u9519\u8bef\u5751\u7684\u5730\u65b9\u5728\u54ea\u91cc\u5462\uff1f\u662f\u5b83\u7684\u8fd9\u4e2a\u65b9\u6cd5\u53ea\u6709\u8fc7\u53bb\u7684 npm \u5305\u91cc\u53ef\u4ee5\u627e\u5230\uff0c\u5982\u679c\u4f60\u7528 npm install @babel/runtime --save yarn add @babel/runtime \u6765\u5b89\u88c5\uff0c\u5b89\u88c5\u7684\u662f\u6700\u65b0\u7684\u5305\uff0c\u7136\u540e\u65b0\u7684\u5305\u91cc\u9762\u5e76\u6ca1\u6709\u8fd9\u4e2a\u5b83\u8981\u627e\u7684\u65b9\u6cd5\uff0c\u6240\u4ee5\u4ecd\u7136\u4f1a\u62a5\u9519\uff0c\u8fd9\u4e2a\u65f6\u5019\u4f60\u5c31\u4f1a\u60f3\uff0c\u6211\u5df2\u7ecf\u5b89\u88c5\u4e86\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u627e\u4e0d\u5230\u3002 \u601d\u8def\u6765\u4e86\uff1a \u5982\u679c\u4f60\u5b89\u88c5\u4e86\u5305\u4e86\uff0c\u7136\u540e\u8fd8\u662f\u8bf4\u627e\u4e0d\u5230\u5305\u91cc\u7684\u65b9\u6cd5\u7684\u8bdd\uff0c\u5c31\u8bf4\u660e\u4f60\u9700\u8981\u964d\u7ea7\uff0c\u5b89\u88c5\u5b83\u4e4b\u524d\u7684\u5305 npm i @babel/runtime@7.0.0-beta.55 --save \u6211\u89c9\u7684\u8fd9\u6761\u601d\u8def\u53ef\u4ee5\u5e94\u5bf9\u6240\u6709\u627e\u4e0d\u5230\u5305\u5185\u90e8\u65b9\u6cd5\u7684\u95ee\u9898\u3002 BUG8 \u00b6 Failed to minify the bundle. Error: 0.0f3f4c41.async.js from UglifyJs \u901a\u5e38 webpack \u5728\u6784\u5efa\u65f6\uff0c\u662f\u4e0d\u4f1a\u8ba9 node_modules \u4e0b\u7684\u6587\u4ef6\u8d70 babel tranpile \u7684\uff0c\u4e00\u662f\u4f1a\u6162\u5f88\u591a\uff0c\u4e8c\u662f babel@6 \u65f6\u7f16\u8bd1\u7f16\u8bd1\u8fc7\u7684\u4ee3\u7801\u4f1a\u4e0d\u5b89\u5168\uff08\u636e\u8bf4 babel@7 \u4e0b\u6ca1\u95ee\u9898\u4e86\uff09\uff0c\u6240\u4ee5\u4e1a\u754c\u6709\u4e2a\u6f5c\u5728\u7684\u7ea6\u5b9a\uff0c npm \u5305\u53d1\u5e03\u524d\u9700\u8981\u5148\u7528 babel \u8f6c\u51fa\u4e00\u4efd es5 \u7684\u4ee3\u7801 \u3002 \u4f46\u662f\u6709\u4e9b npm \u5305\u4e0d\u9075\u5b88\u8fd9\u4e2a\u7ea6\u5b9a\uff0c\u6ca1\u6709\u8f6c\u6210 es5 \u5c31\u53d1\u4e0a\u53bb\uff0c\u6bd4\u5982 query-string@6 \u3002\u7136\u540e\u538b\u7f29\u5de5\u5177 uglify \u53c8\u53ea\u652f\u6301 es5 \u7684\u8bed\u6cd5\uff0c\u9047\u5230 const \u3001 let \u3001 ()=> \u7c7b\u4f3c\u7684\u8bed\u6cd5\uff0c\u5c31\u629b\u9519\u4e86\u3002 \u539f\u6587\u770b\u8fd9\u91cc\u7684 async.js from UglifyJs BUG \u00b6 super expression must either bu null or a function not undefined \u9519\u8bef\u4ee3\u7801\uff1a import React from 'react-native'; \u5f15\u7528\u4e86\u9519\u8bef\u7684\u5f15\u7528\uff1a \u6b63\u786e\u7684\u5199\u6cd5\u662f import React, { Component } from 'react'; BUG android \u7aef \u00b6 React-native Android: Error calling AppRegistry.runApplication \u89e3\u51b3\u529e\u6cd5\uff1a adb reverse tcp:8081 tcp:8081 \u7136\u540e\u91cd\u65b0reload stackoverflow \u8fd9\u4e2a\u95ee\u9898\u7684\u5730\u5740\uff01 BUG \u00b6 The development server returned response error code:500 \u8fd9\u4e2a\u662f\u5f15\u5165\u7684\u672c\u5730\u6587\u4ef6\u627e\u4e0d\u5230\uff0c\u5728\u4e0b\u9762\u7684\u9519\u8bef\u91cc\u5c31\u53ef\u4ee5\u770b\u5230 BUG \u00b6 Unable to open a realm at path ',management'.Please use a path where your app has read-write permissions BUG \u00b6 Module AppRegistry is not a registered callable module (calling runApplicati \u7531\u4e8e\u662f\u53d1\u751f\u5728IOS\u7aef\uff0c\u7f51\u4e0a\u627e\u5230\u7684\u65b9\u6cd5\u901a\u901a\u90fd\u662fandroid\u7684\uff0c\u5207\u6362\u4e86project\u5c31\u597d\u4e86\uff0c\u5728xcode\u91cc!!! BUG \u00b6 Migration is required due to the following errors \u8fd9\u4e2a\u53d1\u751f\u7684\u60c5\u51b5\u662fandroid\u4e0a\u9762\u7684app\u662f\u5f88\u4e45\u4e4b\u524d\u7684\u4ee3\u7801\uff0c\u597d\u4e45\u6ca1\u6709\u66f4\u65b0\u4e86\uff0c\u7136\u540e\u70b9\u51fbreload\u5c31\u4f1a\u7206\u51fa\u8fd9\u4e2a\u9519\u8bef\uff0c\u89e3\u51b3\u529e\u6cd5\u5c31\u662f\u5220\u6389\u91cd\u65b0\u5b89\u88c5\uff0c\u5c31\u53ef\u4ee5\u4e86\uff01\uff01 BUG \u00b6 This error can also happen due to a require() error during initialization or failure to call AppRegistry.registerComponent. 2017-09-19 16:01:20.557 [fatal][tid:com.facebook.react.ExceptionsManagerQueue] Unhandled JS Exception: Application ReactP has not been registered. Hint: This error often happens when you're running the packager (local dev server) from a wrong folder. For example you have multiple apps and the packager is still running for the app you were working on before. If this is the case, simply kill the old packager instance (e.g. close the packager terminal window) and start the packager in the correct app folder (e.g. cd into app folder and run 'npm start'). This error can also happen due to a require() error during initialization or failure to call AppRegistry.registerComponent. \u8fd9\u4e2a\u9519\u8bef\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u7b2c\u4e00\u79cd: Application ReactP has not been registered. \u5c31\u662f\u5728\u4f60\u5176\u5b9e\u6ce8\u518cApp\u7684\u5730\u65b9\uff0c\u4f60\u5199\u9519\u4e86\uff0c\u6bd4\u5982\uff1a AppRegistry.registerComponent('AppleReactNative', () => App) \u81f3 AppRegistry.registerComponent('applereactnative', () => App) \u7b2c\u4e8c\u79cd\u60c5\u51b5\u5c31\u662f\u5b83\u7684\u6700\u540e\u4e00\u53e5\u8bdd\u3002 This error can also happen due to a require() error during initialization or failure to call AppRegistry.registerComponent. \u6bd4\u5982\uff1a export const ColorConfig = { minorColor:ColorConfig.minorColor, //\u63d0\u793a\u6027\u6587\u5b57\uff0c\u6b63\u6587 } \u4f60\u5f15\u7528\u4e86\u4e00\u4e2a\u9519\u8bef\u7684\u5f15\u7528\uff0c\u81ea\u5df1\u5f15\u81ea\u5df1 \u53c8\u6216\u8005\u662f\uff1a export const SizeConfig = { circleTextSize:38, remindTitleSize:20, //\u63d0\u793a\u6587\u5b57 \u5927\u53f7 navigationSize:18, //\u9876\u90e8\u5bfc\u822a\u680f\uff0c\u680f\u76ee\u540d\u79f0 contentSize:17, //\u4e3b\u8981\u6587\u5b57/\u6807\u9898 contentColor nameFontSize:16, minorSize:14, //\u6b21\u8981\u6587\u5b57/\u6b63\u6587 assistColor smallerSize:12, //\u6587\u5b57\u63d0\u793a assistSize:11, //\u8f85\u52a9\u6587\u5b57/\u65e5\u671f/\u65f6\u95f4/\u5e95\u90e8\u5bfc\u822a assistColor buttonSize:16 //\u6309\u94ae\u6587\u5b57 } export const ColorConfig = { white:'#ffffff', //\u6309\u94ae\u6587\u5b57 assistColor:'#c1c1c1', //\u5931\u6548\uff0c\u8f85\u52a9\u6587\u5b57 minorColor:ColorConfig.minorColor, //\u63d0\u793a\u6027\u6587\u5b57\uff0c\u6b63\u6587 contentColor:'#5e5e5e', //\u6807\u9898\uff0c\u91cd\u8981\u6587\u5b57 remindColor:'#ee5765', //\u91cd\u8981\u63d0\u9192\u6587\u5b57 connectColor:'#3eabf5', //\u94fe\u63a5\u6587\u5b57 \u6309\u94ae\u80cc\u666f\u989c\u8272 buttonBackgroundColor:'#3eabf5', //\u6309\u94ae\u80cc\u666f\u989c\u8272 backgroundColor:'#f1f1f1', //\u80cc\u666f\u989c\u8272 lineColor:'#e8e8e8', //\u7ebf\u7684\u989c\u8272 headerTextColor:'#5c5c5c', //CTGroupInfo } global.SizeConfig = SizeConfig; global.ColorConfig = ColorConfig; \u5199\u4e86\u4e00\u4e2a\u5168\u5c40\u7684\u53d8\u91cf\uff0c\u7136\u540e\u51c6\u5907\u5728\u5176\u4ed6\u7684\u5730\u65b9\u4f7f\u7528\uff0c headerImage:{ height:60, width:60, borderRadius:30, backgroundColor:ColorConfig.lineColor, }, \u76f4\u63a5\u5c31\u4f1a\u62a5\u4e0a\u9762\u7684\u9519\u8bef\uff0c\u539f\u56e0\u662f\u6587\u4ef6\u6ca1\u6709\u5f15\u5165\uff0c\u4f60\u9700\u8981\u5728\u5176\u4ed6\u7684\u5730\u65b9\u5f15\u5165\u4e00\u4e0b\u5c31\u53ef\u4ee5\u4e86 import {SizeConfig} from './SizeAndColorConfig'; //\u5f15\u5165\u662f\u4e3a\u4e86\u7f16\u8bd1\u5165\u7cfb\u7edf\uff0c\u4e0d\u8981\u5220\u9664\u8fd9\u884c \u53c2\u8003\u6587\u7ae0\uff1a Failure to call AppRegistry.registerComponent BUG \u00b6 doctor_third.bundle.js:55 Uncaught TypeError: Cannot read property 'call' of undefined at __webpack_require__ (doctor_third.bundle.js:55) at Object.<anonymous> (zrk_doctor_doctor_root.bundle.js:22679) at __webpack_require__ (doctor_third.bundle.js:55) at webpackJsonpCallback (doctor_third.bundle.js:26) at zrk_doctor_doctor_root.bundle.js:1 __webpack_require__ @ doctor_third.bundle.js:55 (anonymous) @ zrk_doctor_doctor_root.bundle.js:22679 __webpack_require__ @ doctor_third.bundle.js:55 webpackJsonpCallback @ doctor_third.bundle.js:26 (anonymous) @ zrk_doctor_doctor_root.bundle.js:1 \u9020\u6210\u7684\u539f\u56e0\u548c\u4e0a\u9762\u7684\u9519\u8bef\u5b8c\u5168\u6ca1\u6709\u5173\u7cfb\uff0c\u662f\u56e0\u4e3a /public/index.html \u4e0b\u9762 js \u6587\u4ef6\u7684\u5f15\u7528\u4e0d\u5bf9\u3002 <script type=\"text/javascript\"> document.write(\"<script language='javascript' src='\"+getStaticFileHost()+\"/static/js/jquery-2.1.4.min.js'><\\/script>\"); document.write(\"<script language='javascript' src='\"+getStaticFileHost()+\"/static/js/mobiscroll.custom-3.0.0-beta2.min.js'><\\/script>\"); document.write(\"<script language='javascript' src='\"+getStaticFileHost()+\"/static/js/jweixin-1.2.0.js'><\\/script>\"); document.write(\"<script language='javascript' src='\"+getStaticFileHost()+\"/static/js/react/zrk_doctor_commons.bundle.js'><\\/script>\"); document.write(\"<script language='javascript' src='\"+getStaticFileHost()+\"/static/js/react/zrk_doctor_doctor_root.bundle.js'><\\/script>\"); </script> \u4e0b\u6b21\u518d\u78b0\u5230\u8fd9\u4e2a\u95ee\u9898\uff0c\u76f4\u63a5\u8fc7\u6765\u68c0\u67e5\u4e00\u4e0b\u3002 BUG \u00b6 doctor.js?26ed:60 Uncaught ReferenceError: regeneratorRuntime is not defined at doctor.js?26ed:60 at Object.<anonymous> (zrk_doctor_doctor_root.bundle.js:9522) at Object.exports.__esModule (zrk_doctor_doctor_root.bundle.js:9652) at __webpack_require__ (bootstrap 7befce6a489d409de85e:693) at fn (bootstrap 7befce6a489d409de85e:114) at Object.defineProperty.value (DoctorContainer.js:4) at __webpack_require__ (bootstrap 7befce6a489d409de85e:693) at fn (bootstrap 7befce6a489d409de85e:114) at Object.<anonymous> (root.js:19) at __webpack_require__ (bootstrap 7befce6a489d409de85e:693) \u51fa\u9519\u7684\u5730\u65b9\u5728 docotr.js \u6587\u4ef6\u4e0b //\u4f53\u683c\u6570\u636e export async function get_growth(patient_id) { return request(config.user_api_ip, '/patient/growth/list', {patient_id}, \"GET\", true); } export async function post_growth(patient_plan_id, period_id, timestamp, height, weight, hc) { return request(config.user_api_ip, '/patient/growth?patient_id='+global.patient_id, {patient_plan_id, period_id, timestamp, height, weight, hc}, \"POST\"); } export async function get_birth(patient_id) { return request(config.user_api_ip, '/patient/birth', {patient_id}, \"GET\", true); } \u628a async \u53bb\u6389\u5c31\u53ef\u4ee5\u4e86\uff01 BUG \u00b6 Uncaught (in promise) Error: Objects are not valid as a React child (found: object with keys {status}). If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons. at invariant (invariant.js:44) at traverseAllChildrenImpl (traverseAllChildren.js:144) at traverseAllChildren (traverseAllChildren.js:172) at Object.instantiateChildren (ReactChildReconciler.js:70) at ReactDOMComponent._reconcilerInstantiateChildren (ReactMultiChild.js:187) at ReactDOMComponent.mountChildren (ReactMultiChild.js:226) at ReactDOMComponent._createInitialChildren (ReactDOMComponent.js:697) at ReactDOMComponent.mountComponent (ReactDOMComponent.js:516) at Object.mountComponent (ReactReconciler.js:46) at ReactDOMComponent.mountChildren (ReactMultiChild.js:238) \u89e3\u51b3\u529e\u6cd5\uff1a https://stackoverflow.com/questions/34919111/how-to-debug-this-error-uncaught-in-promise-error-objects-are-not-valid-as-a BUG \u00b6 \u5982\u679c\u4e00\u4e2a\u5305\u5b89\u88c5\u4e86\u5f88\u591a\u6b21\u8fd8\u662f\u4f1a\u51fa\u73b0\u4e0d\u80fd\u52a0\u8f7d\u7684resolve\u7684bug\uff0c\u6709\u53ef\u80fd\u4f1a\u662f\u9700\u8981\u5b89\u88c5\u5236\u5b9a\u7248\u672c\u7684\u5305 \u4e0b\u9762\u662fnpm \u7684\u5e38\u7528\u547d\u4ee4 npm install <name>\u5b89\u88c5nodejs\u7684\u4f9d\u8d56\u5305 \u4f8b\u5982npm install express \u5c31\u4f1a\u9ed8\u8ba4\u5b89\u88c5express\u7684\u6700\u65b0\u7248\u672c\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5728\u540e\u9762\u52a0\u7248\u672c\u53f7\u7684\u65b9\u5f0f\u5b89\u88c5\u6307\u5b9a\u7248\u672c\uff0c\u5982npm install express@3.0.6 npm install <name> -g \u5c06\u5305\u5b89\u88c5\u5230\u5168\u5c40\u73af\u5883\u4e2d \u4f46\u662f\u4ee3\u7801\u4e2d\uff0c\u76f4\u63a5\u901a\u8fc7require()\u7684\u65b9\u5f0f\u662f\u6ca1\u6709\u529e\u6cd5\u8c03\u7528\u5168\u5c40\u5b89\u88c5\u7684\u5305\u7684\u3002\u5168\u5c40\u7684\u5b89\u88c5\u662f\u4f9b\u547d\u4ee4\u884c\u4f7f\u7528\u7684\uff0c\u5c31\u597d\u50cf\u5168\u5c40\u5b89\u88c5\u4e86vmarket\u540e\uff0c\u5c31\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u76f4\u63a5\u8fd0\u884cvm\u547d\u4ee4 npm install <name> --save \u5b89\u88c5\u7684\u540c\u65f6\uff0c\u5c06\u4fe1\u606f\u5199\u5165package.json\u4e2d \u9879\u76ee\u8def\u5f84\u4e2d\u5982\u679c\u6709package.json\u6587\u4ef6\u65f6\uff0c\u76f4\u63a5\u4f7f\u7528npm install\u65b9\u6cd5\u5c31\u53ef\u4ee5\u6839\u636edependencies\u914d\u7f6e\u5b89\u88c5\u6240\u6709\u7684\u4f9d\u8d56\u5305 \u8fd9\u6837\u4ee3\u7801\u63d0\u4ea4\u5230github\u65f6\uff0c\u5c31\u4e0d\u7528\u63d0\u4ea4node_modules\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e86\u3002 npm init \u4f1a\u5f15\u5bfc\u4f60\u521b\u5efa\u4e00\u4e2apackage.json\u6587\u4ef6\uff0c\u5305\u62ec\u540d\u79f0\u3001\u7248\u672c\u3001\u4f5c\u8005\u8fd9\u4e9b\u4fe1\u606f\u7b49 npm remove <name>\u79fb\u9664 npm update <name>\u66f4\u65b0 npm ls \u5217\u51fa\u5f53\u524d\u5b89\u88c5\u7684\u4e86\u6240\u6709\u5305 npm root \u67e5\u770b\u5f53\u524d\u5305\u7684\u5b89\u88c5\u8def\u5f84 npm root -g \u67e5\u770b\u5168\u5c40\u7684\u5305\u7684\u5b89\u88c5\u8def\u5f84 npm help \u5e2e\u52a9\uff0c\u5982\u679c\u8981\u5355\u72ec\u67e5\u770binstall\u547d\u4ee4\u7684\u5e2e\u52a9\uff0c\u53ef\u4ee5\u4f7f\u7528\u7684npm help install BUG \u00b6 Babel 6 regeneratorRuntime is not defined \u89e3\u51b3\u529e\u6cd5\uff1a \u9996\u5148babel\u57fa\u7840\u5305(\u4e0d\u5b89\u88c5\u989d\u5916\u4e1c\u897f)\u5e76\u4e0d\u662f\u652f\u6301\u5b8c\u6574\u7684es6\u8bed\u8a00\uff0c\u52a0\u4e0a\u6d4f\u89c8\u5668\u4e5f\u4e0d\u662f\u652f\u6301\u6240\u6709\u7684es6\u8bed\u8a00\uff0c\u5982\u679c\u4f60\u5199\u7684es6\u8bed\u8a00\u521a\u597d\u649e\u4e0a\u8fd9\u6837\u7684\u60c5\u51b5\u4e86. \u90a3\u4e48\u5c31\u9700\u8981babel\u7684\u62d3\u5c55\u5305(Polyfill),\u7f51\u5740\u94fe\u63a5\u63cf\u8ff0 \u8fd9\u662f\u4e00\u4e2a\u8865\u5b8cbabel\u652f\u6301es6\u7684\u62d3\u5c55\u5305\uff0c\u914d\u7f6e\u6b65\u9aa4\u4e3a3\u4e2a 1.\u6253\u5f00\u547d\u4ee4\u884c\u952e\u5165 npm install --save-dev babel-polyfill \u5b89\u88c5polyfill 2.\u5728webpack.config.js\u4e2d\u6700\u4e0a\u9762\u5199\u4e0avar babelpolyfill = require(\"babel-polyfill\"); 3.\u5728\u81ea\u5df1\u7684\u9879\u76eejs\u6587\u4ef6\u4e2d\u6700\u5f00\u5934\u5199\u4e0aimport \"babel-polyfill\"; \u4e0a\u9762\u662f\u7f51\u4e0a\u7684\u89e3\u51b3\u7248\u672c\u3002 \u94fe\u63a5: ES6 \u5199\u6cd5\u62a5\u9519regeneratorRuntime is not defined \u6269\u5c55: StackOverFlow Babel 6 regeneratorRuntime is not defined \u6211\u8fd9\u8fb9\u7684\u89e3\u51b3\u529e\u6cd5 recordPatientBitrth: [\"regenerator-runtime/runtime\", path.join(PATHS.entry, 'RecordPatientBirth.js')], \u5728\u5165\u53e3\u7684\u5730\u65b9\u6dfb\u52a0regenerator-runtime/runtime\u4ee5\u7533\u660e\uff01 BUG \u00b6 Cannot read property 'split' of undefine \u8fd9\u4e2a\u95ee\u9898\u4f60\u5e94\u8be5\u8c03\u7528\u8c03\u7528\u7684split\u662f\u5426\u4e3a\u7a7a\uff0c\u7a7a\u7684\u8bdd\u5c31\u4f1a\u62a5\u9519\uff0c\u5c31\u50cf\u4e0b\u9762\u7684\u4f8b\u5b50\uff0citem.body\u4e3a\u7a7a\u5c31\u4f1a\u62a5\u8fd9\u4e2a\u9519\uff0c\u6069\uff0c\u4f4e\u7ea7\u9519\u8bef\u3002 let arr = item.body.splic(','); BUG \u00b6 rror: Couldn't find preset \"env\" relative to directory \"/Users/name/plugin/7ada6103-7315-4c24-93f3-4a3a6a0fa7ee\" at /Users/name/project/node_modules/babel-core/lib/transformation/file/options/option-manager.js:293:19 at Array.map (native) at OptionManager.resolvePresets (/Users/name/project/node_modules/babel-core/lib/transformation/file/options/option-manager.js:275:20) at OptionManager.mergePresets (/Users/name/project/node_modules/babel-core/lib/transformation/file/options/option-manager.js:264:10) at OptionManager.mergeOptions (/Users/name/project/node_modules/babel-core/lib/transformation/file/options/option-manager.js:249:14) at OptionManager.init (/Users/name/project/node_modules/babel-core/lib/transformation/file/options/option-manager.js:368:12) at File.initOptions (/Users/name/project/node_modules/babel-core/lib/transformation/file/index.js:216:65) at new File (/Users/name/project/node_modules/babel-core/lib/transformation/file/index.js:139:24) at Pipeline.transform (/Users/name/project/node_modules/babel-core/lib/transformation/pipeline.js:46:16) at BabelCompiler.compileSync (/Users/name/project/node_modules/electron-compilers/lib/js/babel.js:76:26) \u89e3\u51b3\u65b9\u6848 \uff1astackOverFlow BUG \u00b6 VM20008:7 Warning: setState(...): Cannot update during an existing state transition (such as within render or another component's constructor). Render methods should be a pure function of props and state; constructor side-effects are an anti-pattern, but can be moved to componentWillMount . \u8fd9\u4e2a\u9519\u8bef\u7684\u51fa\u73b0\u5f80\u5f80\u90fd\u662f\u76f4\u63a5\u6d4f\u89c8\u5668\u76f4\u63a5\u5361\u7206\u4e86\uff0c\u51fa\u73b0\u95ee\u9898\u7684\u539f\u56e0\u5176\u5b9e\u975e\u5e38\u7b80\u5355\u3002 \u4f60\u5728render\u65b9\u6cd5\u91cc\u9762\u8fdb\u884c\u4e86state\u7684\u64cd\u4f5c\uff0c\u9020\u6210\u7684\u7ed3\u679c\u5c31\u662f\u4e00\u76f4\u5728\u4e0d\u65ad\u7684render\uff0c\u503c\u5f97\u5361\u7206\uff01 \u8fd8\u6709\u4e00\u4e2a\u9519\u8bef\u4e5f\u662f\u63cf\u8ff0\u8fd9\u4e2a\u7684\u3002 ReactDebugTool.js:173 Uncaught (in promise) RangeError: Maximum call stack size exceeded at resumeCurrentLifeCycleTimer (ReactDebugTool.js:173) at ReactReconcileTransaction.onEndFlush (ReactDebugTool.js:280) at ReactReconcileTransaction.closeAll (Transaction.js:206) at ReactReconcileTransaction.perform (Transaction.js:153) at ReactUpdatesFlushTransaction.perform (Transaction.js:140) at ReactUpdatesFlushTransaction.perform (ReactUpdates.js:89) at flushBatchedUpdates (ReactUpdates.js:172) at ReactUpdatesFlushTransaction.close (ReactUpdates.js:47) at ReactUpdatesFlushTransaction.closeAll (Transaction.js:206) at ReactUpdatesFlushTransaction.perform (Transaction.js:153) \u4e0b\u9762\u662f\u9519\u8bef\u4ee3\u7801\uff1a <Modal visible={this.state.visible} onClose={this.onClickCloseImage()} transparent className = 'doctor_show_layout' <div className=\"doctor_show_layout\"> <img src={default_avatar}/> </div> </Modal> \u6bd4\u5982\u4f60\u5728\u4e00\u4e2aModal\u91cc\u76f4\u63a5\u8c03\u7528\u65b9\u6cd5 onClose={this.onClickCloseImage()} ,\u7136\u540e\u5728\u8fd9\u4e2a\u65b9\u6cd5\u91cc\u8fd8\u4fee\u6539\u4e86 state : onClickCloseImage(){ this.setState({ visible: false }); } \u63a5\u7740\u5c31\u662f\u7206\u70b8\u4e86\u3002\u89e3\u51b3\u7684\u529e\u6cd5\u5f88\u7b80\u5355\u3002 onClose={this.onClickCloseImage.bind(this)} \u6539\u8c03\u7528\u4e3a\u7ed1\u5b9a\uff0c\u6216\u8005\u5982\u679c\u4f60\u5728\u6784\u9020\u51fd\u6570 constructor \u91cc\u8fdb\u884c\u4e86\u7ed1\u5b9a this.onClickCloseImage = this.onClickCloseImage.bind(this) \u90a3\u4e0b\u9762\u8c03\u7528\u7684\u5730\u65b9\u5c31\u6539\u6210\u4f20\u51fd\u6570\u540d. <Modal visible={this.state.visible} onClose={this.onClickCloseImage} transparent className = 'doctor_show_layout'> <div className=\"doctor_show_layout\"> <img src={default_avatar}/> </div> </Modal> BUG \u00b6 Warning: Each child in an array or iterator should have a unique \"key\" prop. warning.js:33 Warning: Each child in an array or iterator should have a unique \"key\" prop. Check the render method of `OrderTypeContainer`. See https://fb.me/react-warning-keys for more information. in ul (created by OrderTypeContainer) in OrderTypeContainer (created by RouterContext) in RouterContext (created by Router) in Router \u8fd9\u4e2a BUG \u6216\u8005\u8bf4\u662f\u8b66\u544a\u7684\u4fe1\u606f\u53ef\u4ee5\u76f4\u63a5\u5728\u5b83\u7ed9\u51fa\u7684\u8fde\u63a5\u5730\u5740\u91cc\u627e\u5230\u95ee\u9898\u7684\u7b54\u6848\uff0c\u8fd9\u91cc\u6211\u4e5f\u5217\u4e3e\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u6211\u4eec\u8981\u7ed9\u904d\u5386\u7684\u5143\u7d20\u6dfb\u52a0\u4e00\u4e2a key \u7684\u952e\u3002\u662f\u56e0\u4e3a\uff1a **\u952e\u53ef\u5e2e\u52a9React\u8bc6\u522b\u54ea\u4e9b\u9879\u76ee\u5df2\u66f4\u6539\uff0c\u6dfb\u52a0\u6216\u5220\u9664\uff0c**\u6240\u4ee5\u9700\u8981\u3002 \u89e3\u51b3\u529e\u6cd5\uff1a\u4f60\u53ef\u4ee5\u7528\u4f60\u6570\u636e\u7684 id \u6765\u8bbe\u7f6e const todoItems = todos.map((todo) => <li key={todo.id}> {todo.text} </li> ); \u5982\u679c\u6ca1\u6709\u7684\u8bdd\uff0c\u4f60\u4e5f\u53ef\u4ee5\u8bbe\u7f6e map \u7684\u3002 const todoItems = todos.map((todo, index) => // Only do this if items have no stable IDs <li key={index}> {todo.text} </li> ); \u4f46\u662f\u5982\u679c\u4f60\u6709\u64cd\u4f5c\u9879\u76ee\u987a\u5e8f\u7684\u9700\u6c42\uff0c\u5c31\u4e0d\u63a8\u8350\u8fd9\u79cd\u505a\u6cd5\u4e86\u3002\u8fd9\u53ef\u80fd\u4f1a\u5bf9\u6027\u80fd\u4ea7\u751f\u8d1f\u9762\u5f71\u54cd\uff0c\u5e76\u53ef\u80fd\u5bfc\u81f4\u7ec4\u4ef6\u72b6\u6001\u95ee\u9898\u3002 \u5982\u679c\u9700\u8981\u901a\u8fc7\u952e\u6765\u63d0\u53d6\u7ec4\u4ef6\u7684\u8bdd\u3002 \u00b6 \u4e0d\u63a8\u8350\u7684 function ListItem(props) { const value = props.value; return ( // Wrong! There is no need to specify the key here: <li key={value.toString()}> {value} </li> ); } function NumberList(props) { const numbers = props.numbers; const listItems = numbers.map((number) => // Wrong! The key should have been specified here: <ListItem value={number} /> ); return ( <ul> {listItems} </ul> ); } \u63a8\u8350\u7684\u5199\u6cd5\uff1a function ListItem(props) { // Correct! There is no need to specify the key here: return <li>{props.value}</li>; } function NumberList(props) { const numbers = props.numbers; const listItems = numbers.map((number) => // Correct! Key should be specified inside the array. <ListItem key={number.toString()} value={number} /> ); return ( <ul> {listItems} </ul> ); } \u8fd9\u4e2akey\u503c\u5fc5\u987b\u5728 list \u4e2d\uff0c\u5fc5\u987b\u662f\u552f\u4e00\u7684\u3002\u540c\u65f6\u8981\u8bb0\u4f4f\uff0c\u5982\u679c\u4f60\u672c\u6765\u5c31\u60f3\u8981\u8fd9\u4e2a\u503c\uff0c\u90a3\u4e48\u4f60\u5fc5\u987b\u7528\u53e6\u5916\u7684\u4e00\u4e2a\u660e\u786e\u7684\u503c\u6765\u4f20\u9012\uff0c\u800c\u4e0d\u80fd\u83b7\u53d6\u8fd9\u4e2a key . \u4f7f\u7528SCSS\u9020\u6210\u6837\u5f0f\u51b2\u7a81\u7684\u95ee\u9898 \u00b6 \u975e\u5e38\u62b1\u6b49\uff0c\u6211\u5e76\u6ca1\u6709\u627e\u5230\u4e00\u4e2a\u597d\u7684\u529e\u6cd5\uff0c\u6211\u7684\u505a\u6cd5\u662f\u6bcf\u4e00\u4e2aSCSS\u6587\u4ef6\u90fd\u4f7f\u7528\u5b83\u72ec\u6709\u7684\u5f00\u5934\u6765\u505a\u6807\u8bb0\u3002 @import \"../../../../static/css/commons/base_layout\"; .header_container { @extend .base_column; background-color: $buttonColor; } //-----------------------header------------------ .header_container_v1 { @extend .base_column; background-color: $buttonColor; } ... \u6bd4\u5982\u8fd9\u4e2a header.scss \u7684\u6587\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 header \u6765\u5f00\u5934\uff0c\u539f\u5219\u5c31\u662f\u4f60\u7684\u8fd9\u4e2a\u547d\u540d\u540d\u79f0\u662f\u72ec\u4e00\u65e0\u4e8c\u7684\u5c31\u53ef\u4ee5\uff0c\u5927\u5bb6\u6709\u597d\u7684\u529e\u6cd5\u8bb0\u5f97\u5206\u4eab\u7ed9\u6211\uff0c\u8c22\u8c22\uff01 [access] This app has crashed because it attempted to access privacy-sensitive data without a usage description. The app's Info.plist must contain an NSCameraUsageDescription key with a string value explaining to the user how the app uses this data. Message from debugger: Terminated due to signal 9 \u89e3\u51b3\u529e\u6cd5\uff1a\u641c\u7d22 NSCameraUsageDescription ,\u7136\u540e\u914d\u7f6e\u4e00\u4e0b\uff1a \u4f8b\u5982\uff1a xcode8 iOS10\u4e0a\u5173\u4e8eNSPhotoLibraryUsageDescription NSCameraUsageDescription \u7b49\u95ee\u9898 OK... Requiring unknown module \"1360\".If you are sure the module is there, try restarting Metro Bundler. You may also want to run yarn , or npm install (depending on your environment). \u8fd9\u4e2a\u9519\u8bef\u7279\u522b\u90aa\u95e8\uff0c\u662f\u56e0\u4e3a\u6211\u4eec\u590d\u5236\u7684\u56fe\u7247\u51fa\u7684\u95ee\u9898\u8fd8\u662f\u600e\u4e48\u7684\uff0c\u5982\u679c\u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u7981\u6b62\u5bfc\u5165\u90a3\u4e2a\u56fe\u7247\u6765\u6392\u9664\uff0c\u7136\u540e\u91cd\u65b0\u8bd5\u51e0\u6b21 TypeError \u00b6 undefined is not a function (evaluating '_iterator typeof Symbol === 'function' ? Symbol.iterator : '@@iterator' ') \u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\u662f\u56e0\u4e3a react native \u4e0d\u652f\u6301\u904d\u5386\u7684\u95ee\u9898\uff0c\u4f8b\u5982\u4e0b\u9762\u7684\u4ee3\u7801\uff1a for (let [index, data] of current_month_data.entries()) { for (let value of data) { if ( value.day === this.props.day && value.month === this.props.month ) { return index; } } } \u4f60\u9700\u8981\u628a\u5b83\u6539\u6210\u4f20\u7edf\u7684 for \u5faa\u73af\u5c31\u597d\u4e86\uff1a for(let i = 0;i<current_month_data.length;i++){ let value = current_month_data[i]; if(value.day === this.props.day && value.month === this.props.month){ return i; } } \u9519\u8bef \u00b6 ReactNative: Exception in native call com.facebook.react.uimanager.IllegalViewOperationException: Unexpected view type nested under text node: class com.facebook.react.uimanager.LayoutShadowNode \u5b8c\u6574\u9519\u8bef\u662f\u8fd9\u6837\u7684\uff1a 07-03 22:47:55.157 31157-3931/com.zrk_user_client E/unknown:ReactNative: Exception in native call com.facebook.react.uimanager.IllegalViewOperationException: Unexpected view type nested under text node: class com.facebook.react.uimanager.LayoutShadowNode at com.facebook.react.views.text.ReactBaseTextShadowNode.buildSpannedFromShadowNode(ReactBaseTextShadowNode.java:107) at com.facebook.react.views.text.ReactBaseTextShadowNode.spannedFromShadowNode(ReactBaseTextShadowNode.java:182) at com.facebook.react.views.text.ReactTextShadowNode.onBeforeLayout(ReactTextShadowNode.java:176) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:933) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.updateViewHierarchy(UIImplementation.java:689) at com.facebook.react.uimanager.UIImplementation.dispatchViewUpdates(UIImplementation.java:654) at com.facebook.react.uimanager.UIManagerModule.updateRootLayoutSpecs(UIManagerModule.java:754) at com.facebook.react.ReactRootView$1.runGuarded(ReactRootView.java:396) at com.facebook.react.bridge.GuardedRunnable.run(GuardedRunnable.java:21) at android.os.Handler.handleCallback(Handler.java:751) at android.os.Handler.dispatchMessage(Handler.java:95) at com.facebook.react.bridge.queue.MessageQueueThreadHandler.dispatchMessage(MessageQueueThreadHandler.java:29) at android.os.Looper.loop(Looper.java:154) at com.facebook.react.bridge.queue.MessageQueueThreadImpl$3.run(MessageQueueThreadImpl.java:192) at java.lang.Thread.run(Thread.java:761) \u8fd9\u4e2abug\u771f\u7684\u5f88\u61f5\u903c\uff0c\u5b9a\u4f4d\u4e0d\u5230\u5728\u54ea\u91cc\uff0c\u6240\u4ee5\u8fd9\u91cc\u63d0\u4f9b\u4e00\u4e2a\u601d\u8def\uff0c\u90a3\u5c31\u662f\u6ce8\u91ca\u4ee3\u7801\uff0c\u6ce8\u91ca\u4f60 render \u91cc\u7684\u4ee3\u7801\uff0c\u54ea\u884c\u9519\u8bef\u627e\u54ea\u91cc\u3002\u800c\u9020\u6210\u4e0a\u9762\u9519\u8bef\u7684\u539f\u56e0\u662f\u56e0\u4e3a\uff1a //\u661f\u671f\u6807\u9898 _renderWeekHeader() { return ( <Text ref=\"header\" style={styles.calendar_header_row}> { //..... } </Text> ); } \u6211\u628aView\u8fd9\u91cc\u66ff\u6362\u6210\u4e86Text\u3002 07-04 00:28:15.008 31157-6351/com.zrk_user_client E/unknown:ReactNative: Exception in native call java.lang.RuntimeException: Cannot add a child that doesn't have a YogaNode to a parent without a measure function! (Trying to add a 'RCTRawText \u8fd9\u4e2a\u9519\u8bef\u9ad8\u7ea7\u4e86\uff0c\u4f60\u731c\u662f\u5565\u4e0d\uff1f \u56e0\u4e3a\u4f60\u5728\u5e03\u5c40\u91cc\u6dfb\u52a0\u4e86\u6ce8\u91ca\u4ee3\u7801 <View> //TODO \u7f3a\u4e00\u4e2aModal </View> Error: Command failed: yarn add react-native --exact \u521d\u59cb\u5316\u9519\u8bef \u00b6 \u89e3\u51b3\u65b9\u6848\uff1a npm config set registry https://registry.npm.taobao.org npm config set disturl https://npm.taobao.org/dist \u5982\u679c\u4e0d\u884c\uff0c\u6211\u4eec\u53ef\u4ee5\u5728init\u7684\u65f6\u5019\u5236\u5b9a\u7248\u672c\u53f7\uff0c\u5c31\u50cf\u8fd9\u6837\uff1a react-native init demo --verbose --version 0.38.0 Realm\u6570\u636e\u5e93IOS\u7aef\u4e0b\u8f7d\u4e0d\u4e0b\u6765\uff0cxcode\u4e00\u76f4\u5728build \u89e3\u51b3\u65b9\u6848\uff0c\u624b\u52a8\u4e0b\u8f7d\uff0c\u7136\u540e\u590d\u5236\u8fdb\u53bb\u3002 'config.h' file not found \u00b6 QQ20180718-180605.png \u89e3\u51b3\u529e\u6cd5\uff1a cd node_modules/react-native/third-party/glog-0.3.4 ../../scripts/ios-configure-glog.sh \u8dd1\u4e0a\u9762\u7684\u547d\u4ee4\u3002 Error \u00b6 JSON value ' ' of type NSNull cannot be converted to NSString google\u641c\u7d22\u51fa\u6765\u7684\u7b54\u6848 \u8bdd\u8bf4\u73b0\u5728\u767e\u5ea6\u771f\u662f\u8d8a\u6765\u8d8a\u5815\u843d\u4e86\uff0c\u7b80\u76f4\u4e0d\u80fd\u5fcd\u554a\u3002 \u51fa\u8fd9\u4e2a\u95ee\u9898\u662f\u6211\u4eec\u4e0d\u80fd\u628a\u503c null \u8f6c\u4e3a string ,\u6240\u4ee5\u62a5\u9519\u4e86\uff0c\u5904\u7406\u4e5f\u975e\u5e38\u7b80\u5355\uff0c\u53ea\u9700\u8981\u5224\u65ad\u662f\u5426\u4e3a\u7a7a\uff0c\u5c31\u53ef\u4ee5\u641e\u5b9a\uff0c\u6211\u4eec \u7ecf\u5e38\u53d1\u751f\u8fd9\u4e2a\u9519\u8bef\u7684\u5730\u65b9\u5c31\u662f: <Image style={styles.image_style} source={{uri:avatar}}></Image> \u5982\u679c\u8fd9\u4e2a\u503c\u662f null ,\u90a3\u4e48\u5c31\u4f1a\u62a5\u8fd9\u4e2a\u9519\u8bef\u3002 \u8fd9\u91cc\u4e5f\u5206\u4eab\u7ed9\u5927\u5bb6\u4e00\u4e2a\u6211\u4eec\u7528\u7684\u5de5\u5177\uff0c\u53ef\u4ee5\u7528\u6765\u5224\u65ad\u662f\u5426\u4e3a\u7a7a\uff1a /** * \u5224\u65ad\u662f\u5426\u4e3a\u7a7a */ export default class StringUtils { isEmpty(str) { let flag = false; if (!str || str && this.isNull(str) || !this.removeAllSpaces(str)) { flag = true; } return flag; } //\u5224\u65ad\u662f\u5426\u6709\u7a7a isNull(str) { if (str === \"\") return true; let regu = \"^[ ]+$\"; let re = new RegExp(regu); return re.test(str); } //\u83b7\u53d6\u4e2d\u6587\u72b6\u6001\u4e0b\u83b7\u53d6\u540e\u4e24\u4f4d\u5426\u5219\u524d\u4e24\u4f4d getNameSubstr(str) { if (str) { if (!this.isChinese(str)) { if (str.length >= 2) { return str.substr(str.length - 2, 2) } else { return str.substr(str.length - 1, 1) } } else { if (str.length >= 2) { return str.substr(0, 2) } else { return str.substr(0, 1) } } } else { return ''; } } //\u5224\u65ad\u662f\u5426\u4e2d\u6587\u548c\u82f1\u6587 isChinese(str) { if (/.*[\\u4e00-\\u9fa5]+.*$/.test(str)) { return false; } return true; } /*** * \u53bb\u9664\u6240\u6709\u7a7a\u683c * @param str * @returns {string} */ removeAllSpaces(str) { try { return str.replace(/\\s+/g, \"\") } catch (e) { return '' } } /*** * \u53bb\u9664\u4e24\u5934\u7a7a\u683c * @param str * @returns {string} */ removeBothSpaces(str) { try { return str.replace(/^\\s+|\\s+$/g, \"\") } catch (e) { return '' } } } global.StringUtils = new StringUtils();","title":"React \u5404\u79cdbug \u4f1a\u5b9e\u65f6\u66f4\u65b0.md"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#react-bug","text":"","title":"React \u5404\u79cdbug"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug1","text":"Module Error (from ./node_modules/af-webpack/node_modules/eslint-loader/index.js): Line 43:5: Expected an assignment or function call and instead saw an expression no-unused-expressions Search for the keywords to learn more about each error. \u6211\u8fd9\u8fb9\u67e5\u51fa\u6765\u7684\u9519\u8bef\u4ee3\u7801\u662f\uff1a cardGrid.push(fieldGridStr),cardGrid.push(valueGridStr2); \u4e2d\u95f4\u95f4\u9694\u662f\u4e2a\u9017\u53f7\uff0c\u6539\u6210\u5206\u53f7\u5c31\u53ef\u4ee5\u3002 cardGrid.push(fieldGridStr); cardGrid.push(valueGridStr2);","title":"BUG1"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug2","text":"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports. \u8fd9\u4e2a\u9519\u8bef\u4ece\u7f51\u4e0a\u641c\u7d22\u8bf4\u662f\u56e0\u4e3a\u4f60\u5bfc\u51fa\u7684\u7c7b\u6216\u8005\u51fd\u6570\u5728\u5bfc\u5165\u7684\u65f6\u5019\u65b9\u5f0f\u4e0d\u6b63\u786e\u9020\u6210\u7684\uff0c\u800c\u6211\u4eca\u5929\u9020\u6210\u8fd9\u4e2a\u9519\u8bef\u7684\u539f\u56e0\u662f\uff1a static propTypes = { noDataImgShow : PropTypes . boolean . isRequired } \u6211\u5199\u7684 PropTypes.boolean \u57fa\u672c\u7c7b\u578b\u5f15\u7528\u9519\u8bef\u4e86\uff0c\u9020\u6210\u7684\u3002\u8bb0\u5f97 PropTypes \u7684\u57fa\u672c\u7c7b\u578b\u6709\uff1a optionalArray: PropTypes.array, optionalBool: PropTypes.bool, optionalFunc: PropTypes.func, optionalNumber: PropTypes.number, optionalObject: PropTypes.object, optionalString: PropTypes.string, optionalSymbol: PropTypes.symbol, \u4e0d\u8981\u5199\u9519\u4e86\u3002 prop-types","title":"BUG2"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug3","text":"Creating an optimized production build... Failed to compile. Module parse failed: C:\\Users\\\u7389\u4e3d\\AppData\\Roaming\\npm\\node_modules\\roadhog\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\\u7389\u4e3d\\Desktop\\company_work\\vitark-web-ui\\src\\common\\router.js Unexpected token (70:15) \u89e3\u51b3\u529e\u6cd5\uff1a npm install @babel/core @babel/preset-env","title":"BUG3"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug4","text":"Build failed: The 'decorators' plugin requires a 'decoratorsBeforeExport' option, whose value must be a boolean. If you are migrating from Babylon/Babel 6 or want to use the old decorators proposal, you should use the 'decorators-legacy' plugin instead of 'decorators'. https://github.com/ant-design/ant-design-pro/issues/2043 \u5b89\u88c5\u5236\u5b9a\u7248\u672c\u7684 roadhog npm install --save 2.5.0-beta.1","title":"BUG4"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug5","text":"Module build failed: ReferenceError: Unknown plugin \"transform-runtime\" specified in \"base\" at 2, attempted to resolve relative to \"C:\\\\Users\\\\\u7389\u4e3d\\\\Desktop\\\\company_work\\\\vitark-web-ui\\\\src\" \u5b89\u88c5\u4f9d\u8d56\uff1a npm install --save babel-plugin-transform-runtime","title":"BUG5"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug6","text":"Module build failed: ReferenceError: Unknown plugin \"transform-class-properties\" specified in \"base\" at 4, attempted to resolve relative to \"C:\\\\Users\\\\\u7389\u4e3d\\\\Desktop\\\\company_work\\\\vitark-web-ui\\\\src\" \u9700\u8981\u5b89\u88c5\u4f9d\u8d56\uff1a npm install babel-plugin-transform-class-properties babel-plugin-transform-decorators-legacy babel-plugin-transform-export-extensions babel-plugin-transform-object-rest-spread babel-preset-env --save-dev","title":"BUG6"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug7","text":"Module not found:Error:Can't resolve '@babel/runtime/helpers/esm/extends' \u8fd9\u4e2a\u9519\u8bef\u5751\u7684\u5730\u65b9\u5728\u54ea\u91cc\u5462\uff1f\u662f\u5b83\u7684\u8fd9\u4e2a\u65b9\u6cd5\u53ea\u6709\u8fc7\u53bb\u7684 npm \u5305\u91cc\u53ef\u4ee5\u627e\u5230\uff0c\u5982\u679c\u4f60\u7528 npm install @babel/runtime --save yarn add @babel/runtime \u6765\u5b89\u88c5\uff0c\u5b89\u88c5\u7684\u662f\u6700\u65b0\u7684\u5305\uff0c\u7136\u540e\u65b0\u7684\u5305\u91cc\u9762\u5e76\u6ca1\u6709\u8fd9\u4e2a\u5b83\u8981\u627e\u7684\u65b9\u6cd5\uff0c\u6240\u4ee5\u4ecd\u7136\u4f1a\u62a5\u9519\uff0c\u8fd9\u4e2a\u65f6\u5019\u4f60\u5c31\u4f1a\u60f3\uff0c\u6211\u5df2\u7ecf\u5b89\u88c5\u4e86\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u627e\u4e0d\u5230\u3002 \u601d\u8def\u6765\u4e86\uff1a \u5982\u679c\u4f60\u5b89\u88c5\u4e86\u5305\u4e86\uff0c\u7136\u540e\u8fd8\u662f\u8bf4\u627e\u4e0d\u5230\u5305\u91cc\u7684\u65b9\u6cd5\u7684\u8bdd\uff0c\u5c31\u8bf4\u660e\u4f60\u9700\u8981\u964d\u7ea7\uff0c\u5b89\u88c5\u5b83\u4e4b\u524d\u7684\u5305 npm i @babel/runtime@7.0.0-beta.55 --save \u6211\u89c9\u7684\u8fd9\u6761\u601d\u8def\u53ef\u4ee5\u5e94\u5bf9\u6240\u6709\u627e\u4e0d\u5230\u5305\u5185\u90e8\u65b9\u6cd5\u7684\u95ee\u9898\u3002","title":"BUG7"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug8","text":"Failed to minify the bundle. Error: 0.0f3f4c41.async.js from UglifyJs \u901a\u5e38 webpack \u5728\u6784\u5efa\u65f6\uff0c\u662f\u4e0d\u4f1a\u8ba9 node_modules \u4e0b\u7684\u6587\u4ef6\u8d70 babel tranpile \u7684\uff0c\u4e00\u662f\u4f1a\u6162\u5f88\u591a\uff0c\u4e8c\u662f babel@6 \u65f6\u7f16\u8bd1\u7f16\u8bd1\u8fc7\u7684\u4ee3\u7801\u4f1a\u4e0d\u5b89\u5168\uff08\u636e\u8bf4 babel@7 \u4e0b\u6ca1\u95ee\u9898\u4e86\uff09\uff0c\u6240\u4ee5\u4e1a\u754c\u6709\u4e2a\u6f5c\u5728\u7684\u7ea6\u5b9a\uff0c npm \u5305\u53d1\u5e03\u524d\u9700\u8981\u5148\u7528 babel \u8f6c\u51fa\u4e00\u4efd es5 \u7684\u4ee3\u7801 \u3002 \u4f46\u662f\u6709\u4e9b npm \u5305\u4e0d\u9075\u5b88\u8fd9\u4e2a\u7ea6\u5b9a\uff0c\u6ca1\u6709\u8f6c\u6210 es5 \u5c31\u53d1\u4e0a\u53bb\uff0c\u6bd4\u5982 query-string@6 \u3002\u7136\u540e\u538b\u7f29\u5de5\u5177 uglify \u53c8\u53ea\u652f\u6301 es5 \u7684\u8bed\u6cd5\uff0c\u9047\u5230 const \u3001 let \u3001 ()=> \u7c7b\u4f3c\u7684\u8bed\u6cd5\uff0c\u5c31\u629b\u9519\u4e86\u3002 \u539f\u6587\u770b\u8fd9\u91cc\u7684 async.js from UglifyJs","title":"BUG8"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug","text":"super expression must either bu null or a function not undefined \u9519\u8bef\u4ee3\u7801\uff1a import React from 'react-native'; \u5f15\u7528\u4e86\u9519\u8bef\u7684\u5f15\u7528\uff1a \u6b63\u786e\u7684\u5199\u6cd5\u662f import React, { Component } from 'react';","title":"BUG"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug-android","text":"React-native Android: Error calling AppRegistry.runApplication \u89e3\u51b3\u529e\u6cd5\uff1a adb reverse tcp:8081 tcp:8081 \u7136\u540e\u91cd\u65b0reload stackoverflow \u8fd9\u4e2a\u95ee\u9898\u7684\u5730\u5740\uff01","title":"BUG android \u7aef"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_1","text":"The development server returned response error code:500 \u8fd9\u4e2a\u662f\u5f15\u5165\u7684\u672c\u5730\u6587\u4ef6\u627e\u4e0d\u5230\uff0c\u5728\u4e0b\u9762\u7684\u9519\u8bef\u91cc\u5c31\u53ef\u4ee5\u770b\u5230","title":"BUG"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_2","text":"Unable to open a realm at path ',management'.Please use a path where your app has read-write permissions","title":"BUG"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_3","text":"Module AppRegistry is not a registered callable module (calling runApplicati \u7531\u4e8e\u662f\u53d1\u751f\u5728IOS\u7aef\uff0c\u7f51\u4e0a\u627e\u5230\u7684\u65b9\u6cd5\u901a\u901a\u90fd\u662fandroid\u7684\uff0c\u5207\u6362\u4e86project\u5c31\u597d\u4e86\uff0c\u5728xcode\u91cc!!!","title":"BUG"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_4","text":"Migration is required due to the following errors \u8fd9\u4e2a\u53d1\u751f\u7684\u60c5\u51b5\u662fandroid\u4e0a\u9762\u7684app\u662f\u5f88\u4e45\u4e4b\u524d\u7684\u4ee3\u7801\uff0c\u597d\u4e45\u6ca1\u6709\u66f4\u65b0\u4e86\uff0c\u7136\u540e\u70b9\u51fbreload\u5c31\u4f1a\u7206\u51fa\u8fd9\u4e2a\u9519\u8bef\uff0c\u89e3\u51b3\u529e\u6cd5\u5c31\u662f\u5220\u6389\u91cd\u65b0\u5b89\u88c5\uff0c\u5c31\u53ef\u4ee5\u4e86\uff01\uff01","title":"BUG"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_5","text":"This error can also happen due to a require() error during initialization or failure to call AppRegistry.registerComponent. 2017-09-19 16:01:20.557 [fatal][tid:com.facebook.react.ExceptionsManagerQueue] Unhandled JS Exception: Application ReactP has not been registered. Hint: This error often happens when you're running the packager (local dev server) from a wrong folder. For example you have multiple apps and the packager is still running for the app you were working on before. If this is the case, simply kill the old packager instance (e.g. close the packager terminal window) and start the packager in the correct app folder (e.g. cd into app folder and run 'npm start'). This error can also happen due to a require() error during initialization or failure to call AppRegistry.registerComponent. \u8fd9\u4e2a\u9519\u8bef\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u7b2c\u4e00\u79cd: Application ReactP has not been registered. \u5c31\u662f\u5728\u4f60\u5176\u5b9e\u6ce8\u518cApp\u7684\u5730\u65b9\uff0c\u4f60\u5199\u9519\u4e86\uff0c\u6bd4\u5982\uff1a AppRegistry.registerComponent('AppleReactNative', () => App) \u81f3 AppRegistry.registerComponent('applereactnative', () => App) \u7b2c\u4e8c\u79cd\u60c5\u51b5\u5c31\u662f\u5b83\u7684\u6700\u540e\u4e00\u53e5\u8bdd\u3002 This error can also happen due to a require() error during initialization or failure to call AppRegistry.registerComponent. \u6bd4\u5982\uff1a export const ColorConfig = { minorColor:ColorConfig.minorColor, //\u63d0\u793a\u6027\u6587\u5b57\uff0c\u6b63\u6587 } \u4f60\u5f15\u7528\u4e86\u4e00\u4e2a\u9519\u8bef\u7684\u5f15\u7528\uff0c\u81ea\u5df1\u5f15\u81ea\u5df1 \u53c8\u6216\u8005\u662f\uff1a export const SizeConfig = { circleTextSize:38, remindTitleSize:20, //\u63d0\u793a\u6587\u5b57 \u5927\u53f7 navigationSize:18, //\u9876\u90e8\u5bfc\u822a\u680f\uff0c\u680f\u76ee\u540d\u79f0 contentSize:17, //\u4e3b\u8981\u6587\u5b57/\u6807\u9898 contentColor nameFontSize:16, minorSize:14, //\u6b21\u8981\u6587\u5b57/\u6b63\u6587 assistColor smallerSize:12, //\u6587\u5b57\u63d0\u793a assistSize:11, //\u8f85\u52a9\u6587\u5b57/\u65e5\u671f/\u65f6\u95f4/\u5e95\u90e8\u5bfc\u822a assistColor buttonSize:16 //\u6309\u94ae\u6587\u5b57 } export const ColorConfig = { white:'#ffffff', //\u6309\u94ae\u6587\u5b57 assistColor:'#c1c1c1', //\u5931\u6548\uff0c\u8f85\u52a9\u6587\u5b57 minorColor:ColorConfig.minorColor, //\u63d0\u793a\u6027\u6587\u5b57\uff0c\u6b63\u6587 contentColor:'#5e5e5e', //\u6807\u9898\uff0c\u91cd\u8981\u6587\u5b57 remindColor:'#ee5765', //\u91cd\u8981\u63d0\u9192\u6587\u5b57 connectColor:'#3eabf5', //\u94fe\u63a5\u6587\u5b57 \u6309\u94ae\u80cc\u666f\u989c\u8272 buttonBackgroundColor:'#3eabf5', //\u6309\u94ae\u80cc\u666f\u989c\u8272 backgroundColor:'#f1f1f1', //\u80cc\u666f\u989c\u8272 lineColor:'#e8e8e8', //\u7ebf\u7684\u989c\u8272 headerTextColor:'#5c5c5c', //CTGroupInfo } global.SizeConfig = SizeConfig; global.ColorConfig = ColorConfig; \u5199\u4e86\u4e00\u4e2a\u5168\u5c40\u7684\u53d8\u91cf\uff0c\u7136\u540e\u51c6\u5907\u5728\u5176\u4ed6\u7684\u5730\u65b9\u4f7f\u7528\uff0c headerImage:{ height:60, width:60, borderRadius:30, backgroundColor:ColorConfig.lineColor, }, \u76f4\u63a5\u5c31\u4f1a\u62a5\u4e0a\u9762\u7684\u9519\u8bef\uff0c\u539f\u56e0\u662f\u6587\u4ef6\u6ca1\u6709\u5f15\u5165\uff0c\u4f60\u9700\u8981\u5728\u5176\u4ed6\u7684\u5730\u65b9\u5f15\u5165\u4e00\u4e0b\u5c31\u53ef\u4ee5\u4e86 import {SizeConfig} from './SizeAndColorConfig'; //\u5f15\u5165\u662f\u4e3a\u4e86\u7f16\u8bd1\u5165\u7cfb\u7edf\uff0c\u4e0d\u8981\u5220\u9664\u8fd9\u884c \u53c2\u8003\u6587\u7ae0\uff1a Failure to call AppRegistry.registerComponent","title":"BUG"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_6","text":"doctor_third.bundle.js:55 Uncaught TypeError: Cannot read property 'call' of undefined at __webpack_require__ (doctor_third.bundle.js:55) at Object.<anonymous> (zrk_doctor_doctor_root.bundle.js:22679) at __webpack_require__ (doctor_third.bundle.js:55) at webpackJsonpCallback (doctor_third.bundle.js:26) at zrk_doctor_doctor_root.bundle.js:1 __webpack_require__ @ doctor_third.bundle.js:55 (anonymous) @ zrk_doctor_doctor_root.bundle.js:22679 __webpack_require__ @ doctor_third.bundle.js:55 webpackJsonpCallback @ doctor_third.bundle.js:26 (anonymous) @ zrk_doctor_doctor_root.bundle.js:1 \u9020\u6210\u7684\u539f\u56e0\u548c\u4e0a\u9762\u7684\u9519\u8bef\u5b8c\u5168\u6ca1\u6709\u5173\u7cfb\uff0c\u662f\u56e0\u4e3a /public/index.html \u4e0b\u9762 js \u6587\u4ef6\u7684\u5f15\u7528\u4e0d\u5bf9\u3002 <script type=\"text/javascript\"> document.write(\"<script language='javascript' src='\"+getStaticFileHost()+\"/static/js/jquery-2.1.4.min.js'><\\/script>\"); document.write(\"<script language='javascript' src='\"+getStaticFileHost()+\"/static/js/mobiscroll.custom-3.0.0-beta2.min.js'><\\/script>\"); document.write(\"<script language='javascript' src='\"+getStaticFileHost()+\"/static/js/jweixin-1.2.0.js'><\\/script>\"); document.write(\"<script language='javascript' src='\"+getStaticFileHost()+\"/static/js/react/zrk_doctor_commons.bundle.js'><\\/script>\"); document.write(\"<script language='javascript' src='\"+getStaticFileHost()+\"/static/js/react/zrk_doctor_doctor_root.bundle.js'><\\/script>\"); </script> \u4e0b\u6b21\u518d\u78b0\u5230\u8fd9\u4e2a\u95ee\u9898\uff0c\u76f4\u63a5\u8fc7\u6765\u68c0\u67e5\u4e00\u4e0b\u3002","title":"BUG"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_7","text":"doctor.js?26ed:60 Uncaught ReferenceError: regeneratorRuntime is not defined at doctor.js?26ed:60 at Object.<anonymous> (zrk_doctor_doctor_root.bundle.js:9522) at Object.exports.__esModule (zrk_doctor_doctor_root.bundle.js:9652) at __webpack_require__ (bootstrap 7befce6a489d409de85e:693) at fn (bootstrap 7befce6a489d409de85e:114) at Object.defineProperty.value (DoctorContainer.js:4) at __webpack_require__ (bootstrap 7befce6a489d409de85e:693) at fn (bootstrap 7befce6a489d409de85e:114) at Object.<anonymous> (root.js:19) at __webpack_require__ (bootstrap 7befce6a489d409de85e:693) \u51fa\u9519\u7684\u5730\u65b9\u5728 docotr.js \u6587\u4ef6\u4e0b //\u4f53\u683c\u6570\u636e export async function get_growth(patient_id) { return request(config.user_api_ip, '/patient/growth/list', {patient_id}, \"GET\", true); } export async function post_growth(patient_plan_id, period_id, timestamp, height, weight, hc) { return request(config.user_api_ip, '/patient/growth?patient_id='+global.patient_id, {patient_plan_id, period_id, timestamp, height, weight, hc}, \"POST\"); } export async function get_birth(patient_id) { return request(config.user_api_ip, '/patient/birth', {patient_id}, \"GET\", true); } \u628a async \u53bb\u6389\u5c31\u53ef\u4ee5\u4e86\uff01","title":"BUG"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_8","text":"Uncaught (in promise) Error: Objects are not valid as a React child (found: object with keys {status}). If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons. at invariant (invariant.js:44) at traverseAllChildrenImpl (traverseAllChildren.js:144) at traverseAllChildren (traverseAllChildren.js:172) at Object.instantiateChildren (ReactChildReconciler.js:70) at ReactDOMComponent._reconcilerInstantiateChildren (ReactMultiChild.js:187) at ReactDOMComponent.mountChildren (ReactMultiChild.js:226) at ReactDOMComponent._createInitialChildren (ReactDOMComponent.js:697) at ReactDOMComponent.mountComponent (ReactDOMComponent.js:516) at Object.mountComponent (ReactReconciler.js:46) at ReactDOMComponent.mountChildren (ReactMultiChild.js:238) \u89e3\u51b3\u529e\u6cd5\uff1a https://stackoverflow.com/questions/34919111/how-to-debug-this-error-uncaught-in-promise-error-objects-are-not-valid-as-a","title":"BUG"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_9","text":"\u5982\u679c\u4e00\u4e2a\u5305\u5b89\u88c5\u4e86\u5f88\u591a\u6b21\u8fd8\u662f\u4f1a\u51fa\u73b0\u4e0d\u80fd\u52a0\u8f7d\u7684resolve\u7684bug\uff0c\u6709\u53ef\u80fd\u4f1a\u662f\u9700\u8981\u5b89\u88c5\u5236\u5b9a\u7248\u672c\u7684\u5305 \u4e0b\u9762\u662fnpm \u7684\u5e38\u7528\u547d\u4ee4 npm install <name>\u5b89\u88c5nodejs\u7684\u4f9d\u8d56\u5305 \u4f8b\u5982npm install express \u5c31\u4f1a\u9ed8\u8ba4\u5b89\u88c5express\u7684\u6700\u65b0\u7248\u672c\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5728\u540e\u9762\u52a0\u7248\u672c\u53f7\u7684\u65b9\u5f0f\u5b89\u88c5\u6307\u5b9a\u7248\u672c\uff0c\u5982npm install express@3.0.6 npm install <name> -g \u5c06\u5305\u5b89\u88c5\u5230\u5168\u5c40\u73af\u5883\u4e2d \u4f46\u662f\u4ee3\u7801\u4e2d\uff0c\u76f4\u63a5\u901a\u8fc7require()\u7684\u65b9\u5f0f\u662f\u6ca1\u6709\u529e\u6cd5\u8c03\u7528\u5168\u5c40\u5b89\u88c5\u7684\u5305\u7684\u3002\u5168\u5c40\u7684\u5b89\u88c5\u662f\u4f9b\u547d\u4ee4\u884c\u4f7f\u7528\u7684\uff0c\u5c31\u597d\u50cf\u5168\u5c40\u5b89\u88c5\u4e86vmarket\u540e\uff0c\u5c31\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u76f4\u63a5\u8fd0\u884cvm\u547d\u4ee4 npm install <name> --save \u5b89\u88c5\u7684\u540c\u65f6\uff0c\u5c06\u4fe1\u606f\u5199\u5165package.json\u4e2d \u9879\u76ee\u8def\u5f84\u4e2d\u5982\u679c\u6709package.json\u6587\u4ef6\u65f6\uff0c\u76f4\u63a5\u4f7f\u7528npm install\u65b9\u6cd5\u5c31\u53ef\u4ee5\u6839\u636edependencies\u914d\u7f6e\u5b89\u88c5\u6240\u6709\u7684\u4f9d\u8d56\u5305 \u8fd9\u6837\u4ee3\u7801\u63d0\u4ea4\u5230github\u65f6\uff0c\u5c31\u4e0d\u7528\u63d0\u4ea4node_modules\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e86\u3002 npm init \u4f1a\u5f15\u5bfc\u4f60\u521b\u5efa\u4e00\u4e2apackage.json\u6587\u4ef6\uff0c\u5305\u62ec\u540d\u79f0\u3001\u7248\u672c\u3001\u4f5c\u8005\u8fd9\u4e9b\u4fe1\u606f\u7b49 npm remove <name>\u79fb\u9664 npm update <name>\u66f4\u65b0 npm ls \u5217\u51fa\u5f53\u524d\u5b89\u88c5\u7684\u4e86\u6240\u6709\u5305 npm root \u67e5\u770b\u5f53\u524d\u5305\u7684\u5b89\u88c5\u8def\u5f84 npm root -g \u67e5\u770b\u5168\u5c40\u7684\u5305\u7684\u5b89\u88c5\u8def\u5f84 npm help \u5e2e\u52a9\uff0c\u5982\u679c\u8981\u5355\u72ec\u67e5\u770binstall\u547d\u4ee4\u7684\u5e2e\u52a9\uff0c\u53ef\u4ee5\u4f7f\u7528\u7684npm help install","title":"BUG"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_10","text":"Babel 6 regeneratorRuntime is not defined \u89e3\u51b3\u529e\u6cd5\uff1a \u9996\u5148babel\u57fa\u7840\u5305(\u4e0d\u5b89\u88c5\u989d\u5916\u4e1c\u897f)\u5e76\u4e0d\u662f\u652f\u6301\u5b8c\u6574\u7684es6\u8bed\u8a00\uff0c\u52a0\u4e0a\u6d4f\u89c8\u5668\u4e5f\u4e0d\u662f\u652f\u6301\u6240\u6709\u7684es6\u8bed\u8a00\uff0c\u5982\u679c\u4f60\u5199\u7684es6\u8bed\u8a00\u521a\u597d\u649e\u4e0a\u8fd9\u6837\u7684\u60c5\u51b5\u4e86. \u90a3\u4e48\u5c31\u9700\u8981babel\u7684\u62d3\u5c55\u5305(Polyfill),\u7f51\u5740\u94fe\u63a5\u63cf\u8ff0 \u8fd9\u662f\u4e00\u4e2a\u8865\u5b8cbabel\u652f\u6301es6\u7684\u62d3\u5c55\u5305\uff0c\u914d\u7f6e\u6b65\u9aa4\u4e3a3\u4e2a 1.\u6253\u5f00\u547d\u4ee4\u884c\u952e\u5165 npm install --save-dev babel-polyfill \u5b89\u88c5polyfill 2.\u5728webpack.config.js\u4e2d\u6700\u4e0a\u9762\u5199\u4e0avar babelpolyfill = require(\"babel-polyfill\"); 3.\u5728\u81ea\u5df1\u7684\u9879\u76eejs\u6587\u4ef6\u4e2d\u6700\u5f00\u5934\u5199\u4e0aimport \"babel-polyfill\"; \u4e0a\u9762\u662f\u7f51\u4e0a\u7684\u89e3\u51b3\u7248\u672c\u3002 \u94fe\u63a5: ES6 \u5199\u6cd5\u62a5\u9519regeneratorRuntime is not defined \u6269\u5c55: StackOverFlow Babel 6 regeneratorRuntime is not defined \u6211\u8fd9\u8fb9\u7684\u89e3\u51b3\u529e\u6cd5 recordPatientBitrth: [\"regenerator-runtime/runtime\", path.join(PATHS.entry, 'RecordPatientBirth.js')], \u5728\u5165\u53e3\u7684\u5730\u65b9\u6dfb\u52a0regenerator-runtime/runtime\u4ee5\u7533\u660e\uff01","title":"BUG"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_11","text":"Cannot read property 'split' of undefine \u8fd9\u4e2a\u95ee\u9898\u4f60\u5e94\u8be5\u8c03\u7528\u8c03\u7528\u7684split\u662f\u5426\u4e3a\u7a7a\uff0c\u7a7a\u7684\u8bdd\u5c31\u4f1a\u62a5\u9519\uff0c\u5c31\u50cf\u4e0b\u9762\u7684\u4f8b\u5b50\uff0citem.body\u4e3a\u7a7a\u5c31\u4f1a\u62a5\u8fd9\u4e2a\u9519\uff0c\u6069\uff0c\u4f4e\u7ea7\u9519\u8bef\u3002 let arr = item.body.splic(',');","title":"BUG"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_12","text":"rror: Couldn't find preset \"env\" relative to directory \"/Users/name/plugin/7ada6103-7315-4c24-93f3-4a3a6a0fa7ee\" at /Users/name/project/node_modules/babel-core/lib/transformation/file/options/option-manager.js:293:19 at Array.map (native) at OptionManager.resolvePresets (/Users/name/project/node_modules/babel-core/lib/transformation/file/options/option-manager.js:275:20) at OptionManager.mergePresets (/Users/name/project/node_modules/babel-core/lib/transformation/file/options/option-manager.js:264:10) at OptionManager.mergeOptions (/Users/name/project/node_modules/babel-core/lib/transformation/file/options/option-manager.js:249:14) at OptionManager.init (/Users/name/project/node_modules/babel-core/lib/transformation/file/options/option-manager.js:368:12) at File.initOptions (/Users/name/project/node_modules/babel-core/lib/transformation/file/index.js:216:65) at new File (/Users/name/project/node_modules/babel-core/lib/transformation/file/index.js:139:24) at Pipeline.transform (/Users/name/project/node_modules/babel-core/lib/transformation/pipeline.js:46:16) at BabelCompiler.compileSync (/Users/name/project/node_modules/electron-compilers/lib/js/babel.js:76:26) \u89e3\u51b3\u65b9\u6848 \uff1astackOverFlow","title":"BUG"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_13","text":"VM20008:7 Warning: setState(...): Cannot update during an existing state transition (such as within render or another component's constructor). Render methods should be a pure function of props and state; constructor side-effects are an anti-pattern, but can be moved to componentWillMount . \u8fd9\u4e2a\u9519\u8bef\u7684\u51fa\u73b0\u5f80\u5f80\u90fd\u662f\u76f4\u63a5\u6d4f\u89c8\u5668\u76f4\u63a5\u5361\u7206\u4e86\uff0c\u51fa\u73b0\u95ee\u9898\u7684\u539f\u56e0\u5176\u5b9e\u975e\u5e38\u7b80\u5355\u3002 \u4f60\u5728render\u65b9\u6cd5\u91cc\u9762\u8fdb\u884c\u4e86state\u7684\u64cd\u4f5c\uff0c\u9020\u6210\u7684\u7ed3\u679c\u5c31\u662f\u4e00\u76f4\u5728\u4e0d\u65ad\u7684render\uff0c\u503c\u5f97\u5361\u7206\uff01 \u8fd8\u6709\u4e00\u4e2a\u9519\u8bef\u4e5f\u662f\u63cf\u8ff0\u8fd9\u4e2a\u7684\u3002 ReactDebugTool.js:173 Uncaught (in promise) RangeError: Maximum call stack size exceeded at resumeCurrentLifeCycleTimer (ReactDebugTool.js:173) at ReactReconcileTransaction.onEndFlush (ReactDebugTool.js:280) at ReactReconcileTransaction.closeAll (Transaction.js:206) at ReactReconcileTransaction.perform (Transaction.js:153) at ReactUpdatesFlushTransaction.perform (Transaction.js:140) at ReactUpdatesFlushTransaction.perform (ReactUpdates.js:89) at flushBatchedUpdates (ReactUpdates.js:172) at ReactUpdatesFlushTransaction.close (ReactUpdates.js:47) at ReactUpdatesFlushTransaction.closeAll (Transaction.js:206) at ReactUpdatesFlushTransaction.perform (Transaction.js:153) \u4e0b\u9762\u662f\u9519\u8bef\u4ee3\u7801\uff1a <Modal visible={this.state.visible} onClose={this.onClickCloseImage()} transparent className = 'doctor_show_layout' <div className=\"doctor_show_layout\"> <img src={default_avatar}/> </div> </Modal> \u6bd4\u5982\u4f60\u5728\u4e00\u4e2aModal\u91cc\u76f4\u63a5\u8c03\u7528\u65b9\u6cd5 onClose={this.onClickCloseImage()} ,\u7136\u540e\u5728\u8fd9\u4e2a\u65b9\u6cd5\u91cc\u8fd8\u4fee\u6539\u4e86 state : onClickCloseImage(){ this.setState({ visible: false }); } \u63a5\u7740\u5c31\u662f\u7206\u70b8\u4e86\u3002\u89e3\u51b3\u7684\u529e\u6cd5\u5f88\u7b80\u5355\u3002 onClose={this.onClickCloseImage.bind(this)} \u6539\u8c03\u7528\u4e3a\u7ed1\u5b9a\uff0c\u6216\u8005\u5982\u679c\u4f60\u5728\u6784\u9020\u51fd\u6570 constructor \u91cc\u8fdb\u884c\u4e86\u7ed1\u5b9a this.onClickCloseImage = this.onClickCloseImage.bind(this) \u90a3\u4e0b\u9762\u8c03\u7528\u7684\u5730\u65b9\u5c31\u6539\u6210\u4f20\u51fd\u6570\u540d. <Modal visible={this.state.visible} onClose={this.onClickCloseImage} transparent className = 'doctor_show_layout'> <div className=\"doctor_show_layout\"> <img src={default_avatar}/> </div> </Modal>","title":"BUG"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_14","text":"Warning: Each child in an array or iterator should have a unique \"key\" prop. warning.js:33 Warning: Each child in an array or iterator should have a unique \"key\" prop. Check the render method of `OrderTypeContainer`. See https://fb.me/react-warning-keys for more information. in ul (created by OrderTypeContainer) in OrderTypeContainer (created by RouterContext) in RouterContext (created by Router) in Router \u8fd9\u4e2a BUG \u6216\u8005\u8bf4\u662f\u8b66\u544a\u7684\u4fe1\u606f\u53ef\u4ee5\u76f4\u63a5\u5728\u5b83\u7ed9\u51fa\u7684\u8fde\u63a5\u5730\u5740\u91cc\u627e\u5230\u95ee\u9898\u7684\u7b54\u6848\uff0c\u8fd9\u91cc\u6211\u4e5f\u5217\u4e3e\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u6211\u4eec\u8981\u7ed9\u904d\u5386\u7684\u5143\u7d20\u6dfb\u52a0\u4e00\u4e2a key \u7684\u952e\u3002\u662f\u56e0\u4e3a\uff1a **\u952e\u53ef\u5e2e\u52a9React\u8bc6\u522b\u54ea\u4e9b\u9879\u76ee\u5df2\u66f4\u6539\uff0c\u6dfb\u52a0\u6216\u5220\u9664\uff0c**\u6240\u4ee5\u9700\u8981\u3002 \u89e3\u51b3\u529e\u6cd5\uff1a\u4f60\u53ef\u4ee5\u7528\u4f60\u6570\u636e\u7684 id \u6765\u8bbe\u7f6e const todoItems = todos.map((todo) => <li key={todo.id}> {todo.text} </li> ); \u5982\u679c\u6ca1\u6709\u7684\u8bdd\uff0c\u4f60\u4e5f\u53ef\u4ee5\u8bbe\u7f6e map \u7684\u3002 const todoItems = todos.map((todo, index) => // Only do this if items have no stable IDs <li key={index}> {todo.text} </li> ); \u4f46\u662f\u5982\u679c\u4f60\u6709\u64cd\u4f5c\u9879\u76ee\u987a\u5e8f\u7684\u9700\u6c42\uff0c\u5c31\u4e0d\u63a8\u8350\u8fd9\u79cd\u505a\u6cd5\u4e86\u3002\u8fd9\u53ef\u80fd\u4f1a\u5bf9\u6027\u80fd\u4ea7\u751f\u8d1f\u9762\u5f71\u54cd\uff0c\u5e76\u53ef\u80fd\u5bfc\u81f4\u7ec4\u4ef6\u72b6\u6001\u95ee\u9898\u3002","title":"BUG"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#_1","text":"\u4e0d\u63a8\u8350\u7684 function ListItem(props) { const value = props.value; return ( // Wrong! There is no need to specify the key here: <li key={value.toString()}> {value} </li> ); } function NumberList(props) { const numbers = props.numbers; const listItems = numbers.map((number) => // Wrong! The key should have been specified here: <ListItem value={number} /> ); return ( <ul> {listItems} </ul> ); } \u63a8\u8350\u7684\u5199\u6cd5\uff1a function ListItem(props) { // Correct! There is no need to specify the key here: return <li>{props.value}</li>; } function NumberList(props) { const numbers = props.numbers; const listItems = numbers.map((number) => // Correct! Key should be specified inside the array. <ListItem key={number.toString()} value={number} /> ); return ( <ul> {listItems} </ul> ); } \u8fd9\u4e2akey\u503c\u5fc5\u987b\u5728 list \u4e2d\uff0c\u5fc5\u987b\u662f\u552f\u4e00\u7684\u3002\u540c\u65f6\u8981\u8bb0\u4f4f\uff0c\u5982\u679c\u4f60\u672c\u6765\u5c31\u60f3\u8981\u8fd9\u4e2a\u503c\uff0c\u90a3\u4e48\u4f60\u5fc5\u987b\u7528\u53e6\u5916\u7684\u4e00\u4e2a\u660e\u786e\u7684\u503c\u6765\u4f20\u9012\uff0c\u800c\u4e0d\u80fd\u83b7\u53d6\u8fd9\u4e2a key .","title":"\u5982\u679c\u9700\u8981\u901a\u8fc7\u952e\u6765\u63d0\u53d6\u7ec4\u4ef6\u7684\u8bdd\u3002"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#scss","text":"\u975e\u5e38\u62b1\u6b49\uff0c\u6211\u5e76\u6ca1\u6709\u627e\u5230\u4e00\u4e2a\u597d\u7684\u529e\u6cd5\uff0c\u6211\u7684\u505a\u6cd5\u662f\u6bcf\u4e00\u4e2aSCSS\u6587\u4ef6\u90fd\u4f7f\u7528\u5b83\u72ec\u6709\u7684\u5f00\u5934\u6765\u505a\u6807\u8bb0\u3002 @import \"../../../../static/css/commons/base_layout\"; .header_container { @extend .base_column; background-color: $buttonColor; } //-----------------------header------------------ .header_container_v1 { @extend .base_column; background-color: $buttonColor; } ... \u6bd4\u5982\u8fd9\u4e2a header.scss \u7684\u6587\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 header \u6765\u5f00\u5934\uff0c\u539f\u5219\u5c31\u662f\u4f60\u7684\u8fd9\u4e2a\u547d\u540d\u540d\u79f0\u662f\u72ec\u4e00\u65e0\u4e8c\u7684\u5c31\u53ef\u4ee5\uff0c\u5927\u5bb6\u6709\u597d\u7684\u529e\u6cd5\u8bb0\u5f97\u5206\u4eab\u7ed9\u6211\uff0c\u8c22\u8c22\uff01 [access] This app has crashed because it attempted to access privacy-sensitive data without a usage description. The app's Info.plist must contain an NSCameraUsageDescription key with a string value explaining to the user how the app uses this data. Message from debugger: Terminated due to signal 9 \u89e3\u51b3\u529e\u6cd5\uff1a\u641c\u7d22 NSCameraUsageDescription ,\u7136\u540e\u914d\u7f6e\u4e00\u4e0b\uff1a \u4f8b\u5982\uff1a xcode8 iOS10\u4e0a\u5173\u4e8eNSPhotoLibraryUsageDescription NSCameraUsageDescription \u7b49\u95ee\u9898 OK... Requiring unknown module \"1360\".If you are sure the module is there, try restarting Metro Bundler. You may also want to run yarn , or npm install (depending on your environment). \u8fd9\u4e2a\u9519\u8bef\u7279\u522b\u90aa\u95e8\uff0c\u662f\u56e0\u4e3a\u6211\u4eec\u590d\u5236\u7684\u56fe\u7247\u51fa\u7684\u95ee\u9898\u8fd8\u662f\u600e\u4e48\u7684\uff0c\u5982\u679c\u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u7981\u6b62\u5bfc\u5165\u90a3\u4e2a\u56fe\u7247\u6765\u6392\u9664\uff0c\u7136\u540e\u91cd\u65b0\u8bd5\u51e0\u6b21","title":"\u4f7f\u7528SCSS\u9020\u6210\u6837\u5f0f\u51b2\u7a81\u7684\u95ee\u9898"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#typeerror","text":"undefined is not a function (evaluating '_iterator typeof Symbol === 'function' ? Symbol.iterator : '@@iterator' ') \u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\u662f\u56e0\u4e3a react native \u4e0d\u652f\u6301\u904d\u5386\u7684\u95ee\u9898\uff0c\u4f8b\u5982\u4e0b\u9762\u7684\u4ee3\u7801\uff1a for (let [index, data] of current_month_data.entries()) { for (let value of data) { if ( value.day === this.props.day && value.month === this.props.month ) { return index; } } } \u4f60\u9700\u8981\u628a\u5b83\u6539\u6210\u4f20\u7edf\u7684 for \u5faa\u73af\u5c31\u597d\u4e86\uff1a for(let i = 0;i<current_month_data.length;i++){ let value = current_month_data[i]; if(value.day === this.props.day && value.month === this.props.month){ return i; } }","title":"TypeError"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#_2","text":"ReactNative: Exception in native call com.facebook.react.uimanager.IllegalViewOperationException: Unexpected view type nested under text node: class com.facebook.react.uimanager.LayoutShadowNode \u5b8c\u6574\u9519\u8bef\u662f\u8fd9\u6837\u7684\uff1a 07-03 22:47:55.157 31157-3931/com.zrk_user_client E/unknown:ReactNative: Exception in native call com.facebook.react.uimanager.IllegalViewOperationException: Unexpected view type nested under text node: class com.facebook.react.uimanager.LayoutShadowNode at com.facebook.react.views.text.ReactBaseTextShadowNode.buildSpannedFromShadowNode(ReactBaseTextShadowNode.java:107) at com.facebook.react.views.text.ReactBaseTextShadowNode.spannedFromShadowNode(ReactBaseTextShadowNode.java:182) at com.facebook.react.views.text.ReactTextShadowNode.onBeforeLayout(ReactTextShadowNode.java:176) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:933) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.notifyOnBeforeLayoutRecursive(UIImplementation.java:931) at com.facebook.react.uimanager.UIImplementation.updateViewHierarchy(UIImplementation.java:689) at com.facebook.react.uimanager.UIImplementation.dispatchViewUpdates(UIImplementation.java:654) at com.facebook.react.uimanager.UIManagerModule.updateRootLayoutSpecs(UIManagerModule.java:754) at com.facebook.react.ReactRootView$1.runGuarded(ReactRootView.java:396) at com.facebook.react.bridge.GuardedRunnable.run(GuardedRunnable.java:21) at android.os.Handler.handleCallback(Handler.java:751) at android.os.Handler.dispatchMessage(Handler.java:95) at com.facebook.react.bridge.queue.MessageQueueThreadHandler.dispatchMessage(MessageQueueThreadHandler.java:29) at android.os.Looper.loop(Looper.java:154) at com.facebook.react.bridge.queue.MessageQueueThreadImpl$3.run(MessageQueueThreadImpl.java:192) at java.lang.Thread.run(Thread.java:761) \u8fd9\u4e2abug\u771f\u7684\u5f88\u61f5\u903c\uff0c\u5b9a\u4f4d\u4e0d\u5230\u5728\u54ea\u91cc\uff0c\u6240\u4ee5\u8fd9\u91cc\u63d0\u4f9b\u4e00\u4e2a\u601d\u8def\uff0c\u90a3\u5c31\u662f\u6ce8\u91ca\u4ee3\u7801\uff0c\u6ce8\u91ca\u4f60 render \u91cc\u7684\u4ee3\u7801\uff0c\u54ea\u884c\u9519\u8bef\u627e\u54ea\u91cc\u3002\u800c\u9020\u6210\u4e0a\u9762\u9519\u8bef\u7684\u539f\u56e0\u662f\u56e0\u4e3a\uff1a //\u661f\u671f\u6807\u9898 _renderWeekHeader() { return ( <Text ref=\"header\" style={styles.calendar_header_row}> { //..... } </Text> ); } \u6211\u628aView\u8fd9\u91cc\u66ff\u6362\u6210\u4e86Text\u3002 07-04 00:28:15.008 31157-6351/com.zrk_user_client E/unknown:ReactNative: Exception in native call java.lang.RuntimeException: Cannot add a child that doesn't have a YogaNode to a parent without a measure function! (Trying to add a 'RCTRawText \u8fd9\u4e2a\u9519\u8bef\u9ad8\u7ea7\u4e86\uff0c\u4f60\u731c\u662f\u5565\u4e0d\uff1f \u56e0\u4e3a\u4f60\u5728\u5e03\u5c40\u91cc\u6dfb\u52a0\u4e86\u6ce8\u91ca\u4ee3\u7801 <View> //TODO \u7f3a\u4e00\u4e2aModal </View>","title":"\u9519\u8bef"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#error-command-failed-yarn-add-react-native-exact","text":"\u89e3\u51b3\u65b9\u6848\uff1a npm config set registry https://registry.npm.taobao.org npm config set disturl https://npm.taobao.org/dist \u5982\u679c\u4e0d\u884c\uff0c\u6211\u4eec\u53ef\u4ee5\u5728init\u7684\u65f6\u5019\u5236\u5b9a\u7248\u672c\u53f7\uff0c\u5c31\u50cf\u8fd9\u6837\uff1a react-native init demo --verbose --version 0.38.0 Realm\u6570\u636e\u5e93IOS\u7aef\u4e0b\u8f7d\u4e0d\u4e0b\u6765\uff0cxcode\u4e00\u76f4\u5728build \u89e3\u51b3\u65b9\u6848\uff0c\u624b\u52a8\u4e0b\u8f7d\uff0c\u7136\u540e\u590d\u5236\u8fdb\u53bb\u3002","title":"Error: Command failed: yarn add react-native --exact \u521d\u59cb\u5316\u9519\u8bef"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#configh-file-not-found","text":"QQ20180718-180605.png \u89e3\u51b3\u529e\u6cd5\uff1a cd node_modules/react-native/third-party/glog-0.3.4 ../../scripts/ios-configure-glog.sh \u8dd1\u4e0a\u9762\u7684\u547d\u4ee4\u3002","title":"'config.h' file not found"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#error","text":"JSON value ' ' of type NSNull cannot be converted to NSString google\u641c\u7d22\u51fa\u6765\u7684\u7b54\u6848 \u8bdd\u8bf4\u73b0\u5728\u767e\u5ea6\u771f\u662f\u8d8a\u6765\u8d8a\u5815\u843d\u4e86\uff0c\u7b80\u76f4\u4e0d\u80fd\u5fcd\u554a\u3002 \u51fa\u8fd9\u4e2a\u95ee\u9898\u662f\u6211\u4eec\u4e0d\u80fd\u628a\u503c null \u8f6c\u4e3a string ,\u6240\u4ee5\u62a5\u9519\u4e86\uff0c\u5904\u7406\u4e5f\u975e\u5e38\u7b80\u5355\uff0c\u53ea\u9700\u8981\u5224\u65ad\u662f\u5426\u4e3a\u7a7a\uff0c\u5c31\u53ef\u4ee5\u641e\u5b9a\uff0c\u6211\u4eec \u7ecf\u5e38\u53d1\u751f\u8fd9\u4e2a\u9519\u8bef\u7684\u5730\u65b9\u5c31\u662f: <Image style={styles.image_style} source={{uri:avatar}}></Image> \u5982\u679c\u8fd9\u4e2a\u503c\u662f null ,\u90a3\u4e48\u5c31\u4f1a\u62a5\u8fd9\u4e2a\u9519\u8bef\u3002 \u8fd9\u91cc\u4e5f\u5206\u4eab\u7ed9\u5927\u5bb6\u4e00\u4e2a\u6211\u4eec\u7528\u7684\u5de5\u5177\uff0c\u53ef\u4ee5\u7528\u6765\u5224\u65ad\u662f\u5426\u4e3a\u7a7a\uff1a /** * \u5224\u65ad\u662f\u5426\u4e3a\u7a7a */ export default class StringUtils { isEmpty(str) { let flag = false; if (!str || str && this.isNull(str) || !this.removeAllSpaces(str)) { flag = true; } return flag; } //\u5224\u65ad\u662f\u5426\u6709\u7a7a isNull(str) { if (str === \"\") return true; let regu = \"^[ ]+$\"; let re = new RegExp(regu); return re.test(str); } //\u83b7\u53d6\u4e2d\u6587\u72b6\u6001\u4e0b\u83b7\u53d6\u540e\u4e24\u4f4d\u5426\u5219\u524d\u4e24\u4f4d getNameSubstr(str) { if (str) { if (!this.isChinese(str)) { if (str.length >= 2) { return str.substr(str.length - 2, 2) } else { return str.substr(str.length - 1, 1) } } else { if (str.length >= 2) { return str.substr(0, 2) } else { return str.substr(0, 1) } } } else { return ''; } } //\u5224\u65ad\u662f\u5426\u4e2d\u6587\u548c\u82f1\u6587 isChinese(str) { if (/.*[\\u4e00-\\u9fa5]+.*$/.test(str)) { return false; } return true; } /*** * \u53bb\u9664\u6240\u6709\u7a7a\u683c * @param str * @returns {string} */ removeAllSpaces(str) { try { return str.replace(/\\s+/g, \"\") } catch (e) { return '' } } /*** * \u53bb\u9664\u4e24\u5934\u7a7a\u683c * @param str * @returns {string} */ removeBothSpaces(str) { try { return str.replace(/^\\s+|\\s+$/g, \"\") } catch (e) { return '' } } } global.StringUtils = new StringUtils();","title":"Error"},{"location":"react/React%20%E5%BC%BA%E5%88%B6%E6%9B%B4%E6%96%B0%E7%BB%84%E4%BB%B6/","text":"\u5f53\u4f60\u9047\u5230\u9700\u8981\u540c\u65f6\u83b7\u53d6\u591a\u4e2a\u5b50\u7ec4\u4ef6\u6570\u636e\uff0c\u6216\u8005\u4e24\u4e2a\u7ec4\u4ef6\u4e4b\u95f4\u9700\u8981\u76f8\u4e92\u901a\u8baf\u7684\u60c5\u51b5\u65f6\uff0c\u628a\u5b50\u7ec4\u4ef6\u7684 state \u6570\u636e\u63d0\u5347\u81f3\u5176\u5171\u540c\u7684\u7236\u7ec4\u4ef6\u5f53\u4e2d\u4fdd\u5b58\u3002\u4e4b\u540e\u7236\u7ec4\u4ef6\u53ef\u4ee5\u901a\u8fc7 props \u5c06\u72b6\u6001\u6570\u636e\u4f20\u9012\u5230\u5b50\u7ec4\u4ef6\u5f53\u4e2d\u3002\u8fd9\u6837\u5e94\u7528\u5f53\u4e2d\u7684\u72b6\u6001\u6570\u636e\u5c31\u80fd\u591f\u66f4\u65b9\u4fbf\u5730\u4ea4\u6d41\u5171\u4eab\u4e86\u3002 \u4e3a\u4ec0\u4e48\u4e0d\u53ef\u53d8\u6027\u5728React\u5f53\u4e2d\u975e\u5e38\u91cd\u8981 \u00b6 \u5728\u4e0a\u4e00\u8282\u5185\u5bb9\u5f53\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u4f7f\u7528 .slice() \u65b9\u6cd5\u5bf9\u5df2\u6709\u7684\u6570\u7ec4\u6570\u636e\u8fdb\u884c\u4e86\u6d45\u62f7\u8d1d\uff0c\u4ee5\u6b64\u6765\u9632\u6b62\u5bf9\u5df2\u6709\u6570\u636e\u7684\u6539\u53d8\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u7a0d\u5fae\u4e86\u89e3\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u8fd9\u6837\u7684\u64cd\u4f5c\u662f\u4e00\u79cd\u975e\u5e38\u91cd\u8981\u7684\u6982\u5ff5\u3002 \u6539\u53d8\u5e94\u7528\u6570\u636e\u7684\u65b9\u5f0f\u4e00\u822c\u5206\u4e3a\u4e24\u79cd\u3002\u7b2c\u4e00\u79cd\u662f\u76f4\u63a5\u4fee\u6539\u5df2\u6709\u7684\u53d8\u91cf\u7684\u503c\u3002\u7b2c\u4e8c\u79cd\u5219\u662f\u5c06\u5df2\u6709\u7684\u53d8\u91cf\u66ff\u6362\u4e3a\u4e00\u4e2a\u65b0\u7684\u53d8\u91cf\u3002 \u5728 React \u5f53\u4e2d\u5224\u5b9a\u4f55\u65f6\u91cd\u65b0\u6e32\u67d3 \u00b6 \u8fd0\u7528\u4e0d\u53ef\u53d8\u6027\u539f\u5219\u7ed9 React \u5e26\u6765\u6700\u5927\u7684\u597d\u5904\u662f\uff0c\u65e2\u7136\u6211\u4eec\u73b0\u5728\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u5224\u65ad\u5bf9\u8c61\u6570\u636e\u662f\u5426\u53d1\u751f\u6539\u53d8\u4e86\uff0c\u90a3\u4e48\u4e5f\u5c31\u5f88\u597d\u51b3\u5b9a\u4f55\u65f6\u6839\u636e\u6570\u636e\u7684\u6539\u53d8\u91cd\u65b0\u6e32\u67d3\u7ec4\u4ef6\u3002\u5c24\u5176\u662f\u5f53\u6211\u4eec\u7f16\u5199\u7684\u90fd\u5c5e\u4e8e \u7eaf\u7ec4\u4ef6 pure components \u7684\u65f6\u5019\uff0c\u8fd9\u79cd\u597d\u5904\u7684\u6548\u679c\u66f4\u4e3a\u660e\u663e\u3002 \u4f60\u7528\u8089\u773c\u53ef\u4ee5\u5f88\u8f7b\u6613\u5730\u5206\u8fa8\uff0cAlexa \u88ab\u79fb\u5230\u4e86\u6700\u540e\uff0c\u591a\u51fa\u6765\u4e00\u4e2a Claudia\u3002\u53ef\u662f React \u53ea\u662f\u7535\u8111\u91cc\u8fd0\u884c\u5730\u7a0b\u5e8f\uff0c\u5b83\u65e0\u4ece\u77e5\u6653\u8fd9\u4e9b\u6539\u53d8\u3002\u6240\u4ee5\u6211\u4eec\u5fc5\u987b\u4e3a\u5217\u8868\u4e2d\u7684\u6bcf\u4e00\u9879\u6dfb\u52a0\u4e00\u4e2a key \u4f5c\u4e3a\u552f\u4e00\u7684\u6807\u8bc6\u7b26\u3002\u6807\u8bc6\u7b26\u5fc5\u987b\u662f\u552f\u4e00\u7684\uff0c\u6bd4\u65b9\u8bf4\u521a\u624d\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u7684 alexa , ben , claudia \u5c31\u53ef\u4ee5\u7528\u6765\u505a\u6807\u8bc6\u7b26\u3002\u66f4\u666e\u904d\u7684\u4e00\u79cd\u60c5\u51b5\uff0c\u5047\u5982\u6211\u4eec\u7684\u6570\u636e\u662f\u4ece\u6570\u636e\u5e93\u83b7\u53d6\u7684\u8bdd\uff0c\u8868\u5355\u6bcf\u4e00\u9879\u7684 ID \u5c31\u5f88\u9002\u5408\u5f53\u4f5c\u5b83\u7684 key \uff1a <li key={user.id}>{user.name}: {user.taskCount} tasks left</li> key \u662f React \u5f53\u4e2d\u4f7f\u7528\u7684\u4e00\u79cd\u7279\u6b8a\u7684\u5c5e\u6027\uff08\u9664\u6b64\u4e4b\u5916\u8fd8\u6709 ref \u5c5e\u6027\uff09\u3002\u5f53\u5143\u7d20\u88ab\u521b\u5efa\u65f6\uff0cReact \u4f1a\u5c06\u5143\u7d20\u7684 key \u503c\u548c\u5bf9\u5e94\u5143\u7d20\u7ed1\u5b9a\u5b58\u50a8\u8d77\u6765\u3002\u5c3d\u7ba1 key \u770b\u8d77\u6765\u50cf\u662f props \u7684\u4e00\u90e8\u5206\uff0c\u53ef\u662f\u4e8b\u5b9e\u4e0a\u6211\u4eec\u65e0\u6cd5\u901a\u8fc7 this.props.key \u83b7\u53d6\u5230 key \u7684\u503c\u3002React \u4f1a\u81ea\u52a8\u7684\u5728\u5224\u65ad\u5143\u7d20\u66f4\u65b0\u65f6\u4f7f\u7528 key \uff0c\u800c\u7ec4\u4ef6\u81ea\u5df1\u662f\u65e0\u6cd5\u83b7\u53d6\u5230 key \u7684\u3002 \u5f53\u4e00\u4e2a\u5217\u8868\u88ab\u91cd\u65b0\u6e32\u67d3\u65f6\uff0cReact \u4f1a\u6839\u636e\u8f83\u65b0\u7684\u5143\u7d20\u5185\u5bb9\u4f9d\u636e\u76f8\u5e94\u7684 key \u503c\u6765\u5339\u914d\u4e4b\u524d\u7684\u5143\u7d20\u5185\u5bb9\u3002\u5f53\u4e00\u4e2a\u65b0\u7684 key \u503c\u6dfb\u52a0\u5230\u5217\u8868\u5f53\u4e2d\u65f6\uff0c\u8868\u793a\u6709\u4e00\u4e2a\u7ec4\u4ef6\u88ab\u521b\u5efa\uff1b\u88ab\u5220\u9664\u65f6\u8868\u793a\u6709\u4e00\u4e2a\u7ec4\u4ef6\u88ab\u9500\u6bc1\u3002Key \u503c\u53ef\u4ee5\u8ba9 React \u660e\u786e\u6807\u8bc6\u6bcf\u4e2a\u7ec4\u4ef6\uff0c\u8fd9\u6837\u5b83\u624d\u80fd\u5728\u6bcf\u6b21\u91cd\u65b0\u6e32\u67d3\u65f6\u4fdd\u6709\u5bf9\u5e94\u7684\u72b6\u6001\u6570\u636e\u3002\u5047\u5982\u4f60\u53bb\u6539\u53d8\u67d0\u4e2a\u7ec4\u4ef6\u7684 key \u503c\u7684\u8bdd\uff0c\u5b83\u4f1a\u5728\u4e0b\u6b21\u6e32\u67d3\u65f6\u88ab\u9500\u6bc1\u5e76\u5f53\u4f5c\u65b0\u7684\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\u8fdb\u6765\u3002 \u5047\u5982\u4f60\u4e0d\u63d0\u4f9b\u4efb\u4f55 key \u503c\uff0cReact \u4f1a\u63d0\u793a\u8b66\u544a\uff0c\u5e76\u4e14\u9ed8\u8ba4\u4f7f\u7528\u6570\u7ec4\u7684\u7d22\u5f15\u4f5c\u4e3a\u9ed8\u8ba4\u7684 key \uff0c\u4f46\u53ea\u8981\u4f60\u60f3\u5728\u5217\u8868\u4e2d\u5bf9\u9879\u76ee\u8fdb\u884c\u91cd\u65b0\u6392\u5217\u3001\u6dfb\u52a0\u6216\u5220\u9664\u7684\u8bdd\uff0c\u8fd9\u90fd\u4e0d\u662f\u4e00\u4e2a\u597d\u9009\u62e9\uff08\u56e0\u4e3a\u5bf9\u5e94\u7684\u952e\u503c\u90fd\u4f1a\u6539\u53d8\uff0c\u4e5f\u5c31\u4f1a\u51fa\u73b0\u6211\u4eec\u4e0a\u9762\u63d0\u5230\u7684\u7ec4\u4ef6key\u503c\u88ab\u6539\u53d8\u5c31\u4f1a\u88ab\u5f53\u4f5c\u65b0\u521b\u5efa\u7684\u7ec4\u4ef6\u5904\u7406\u90a3\u79cd\u60c5\u51b5\uff09\u3002\u624b\u52a8\u6dfb\u52a0\u5217\u8868\u7d22\u5f15\u503c key={i} \u53ef\u4ee5\u6d88\u9664\u8b66\u544a\uff0c\u4f46\u4e5f\u4f1a\u5b58\u5728\u76f8\u540c\u7684\u95ee\u9898\uff0c\u56e0\u6b64\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u90fd\u4e0d\u63a8\u8350\u8fd9\u79cd\u505a\u6cd5\u3002 \u7ec4\u4ef6\u7684 keys \u503c\u5e76\u4e0d\u9700\u8981\u5728\u5168\u5c40\u90fd\u4fdd\u8bc1\u552f\u4e00\uff0c\u53ea\u9700\u8981\u5728\u5f53\u524d\u7684\u8282\u70b9\u91cc\u4fdd\u8bc1\u552f\u4e00\u5373\u53ef\u3002 React \u5f3a\u5236\u66f4\u65b0\u7ec4\u4ef6 \u00b6 \u6709\u65f6\u5019\u9700\u8981\u5bf9\u4e00\u4e2a\u7ec4\u4ef6\u8fdb\u884c\u5f3a\u5236\u66f4\u65b0\uff08\u4e0d\u662f\u7531\u4e8estate\u53d8\u5316\u9020\u6210\u7ec4\u4ef6\u66f4\u65b0\uff09\u3002react\u539f\u5219\u4e0a\u4e0d\u9700\u8981\u5f3a\u5236\u8fdb\u884c\u66f4\u65b0\uff0c\u539f\u7406\u5c31\u662f\u6839\u636estate\u548cprops\u8fdb\u884c\u6570\u636e\u4f20\u9012\uff0c\u6839\u636ediff\u7b97\u6cd5\u8fdb\u884c\u6e32\u67d3\u7ec4\u4ef6\u5f97\u5230\u5c40\u90e8\u66f4\u65b0\u3002 \u90a3\u4e48\u5f3a\u5236\u66f4\u65b0\u5c31\u9700\u8981\u4ecestate\u548cprops\u8fdb\u884c\u5206\u6790\uff1b\u5982\u679c\u903b\u8f91\u95ee\u9898\u5c31\u4ece\u751f\u547d\u5468\u671f\u51fd\u6570\u89d2\u5ea6\u5206\u6790\u3002 class menu extends React.Component { // \u7b2c\u4e00\u6b21\u52a0\u8f7d\u7ec4\u4ef6\u8c03\u7528 componentDidMount = () => { this.getInfo(this.props.xxx); this.hasInfo(); } // \u6bcf\u6b21\u63a5\u6536\u5230\u65b0props\u8c03\u7528 componentWillReceiveProps = (nextProps) => { if (nextProps !== this.props) { this.getInfo(nextProps); this.haveInfo(); } } render() { return ( <div></div> ); } }","title":"React \u5f3a\u5236\u66f4\u65b0\u7ec4\u4ef6.md"},{"location":"react/React%20%E5%BC%BA%E5%88%B6%E6%9B%B4%E6%96%B0%E7%BB%84%E4%BB%B6/#react","text":"\u5728\u4e0a\u4e00\u8282\u5185\u5bb9\u5f53\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u4f7f\u7528 .slice() \u65b9\u6cd5\u5bf9\u5df2\u6709\u7684\u6570\u7ec4\u6570\u636e\u8fdb\u884c\u4e86\u6d45\u62f7\u8d1d\uff0c\u4ee5\u6b64\u6765\u9632\u6b62\u5bf9\u5df2\u6709\u6570\u636e\u7684\u6539\u53d8\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u7a0d\u5fae\u4e86\u89e3\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u8fd9\u6837\u7684\u64cd\u4f5c\u662f\u4e00\u79cd\u975e\u5e38\u91cd\u8981\u7684\u6982\u5ff5\u3002 \u6539\u53d8\u5e94\u7528\u6570\u636e\u7684\u65b9\u5f0f\u4e00\u822c\u5206\u4e3a\u4e24\u79cd\u3002\u7b2c\u4e00\u79cd\u662f\u76f4\u63a5\u4fee\u6539\u5df2\u6709\u7684\u53d8\u91cf\u7684\u503c\u3002\u7b2c\u4e8c\u79cd\u5219\u662f\u5c06\u5df2\u6709\u7684\u53d8\u91cf\u66ff\u6362\u4e3a\u4e00\u4e2a\u65b0\u7684\u53d8\u91cf\u3002","title":"\u4e3a\u4ec0\u4e48\u4e0d\u53ef\u53d8\u6027\u5728React\u5f53\u4e2d\u975e\u5e38\u91cd\u8981"},{"location":"react/React%20%E5%BC%BA%E5%88%B6%E6%9B%B4%E6%96%B0%E7%BB%84%E4%BB%B6/#react_1","text":"\u8fd0\u7528\u4e0d\u53ef\u53d8\u6027\u539f\u5219\u7ed9 React \u5e26\u6765\u6700\u5927\u7684\u597d\u5904\u662f\uff0c\u65e2\u7136\u6211\u4eec\u73b0\u5728\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u5224\u65ad\u5bf9\u8c61\u6570\u636e\u662f\u5426\u53d1\u751f\u6539\u53d8\u4e86\uff0c\u90a3\u4e48\u4e5f\u5c31\u5f88\u597d\u51b3\u5b9a\u4f55\u65f6\u6839\u636e\u6570\u636e\u7684\u6539\u53d8\u91cd\u65b0\u6e32\u67d3\u7ec4\u4ef6\u3002\u5c24\u5176\u662f\u5f53\u6211\u4eec\u7f16\u5199\u7684\u90fd\u5c5e\u4e8e \u7eaf\u7ec4\u4ef6 pure components \u7684\u65f6\u5019\uff0c\u8fd9\u79cd\u597d\u5904\u7684\u6548\u679c\u66f4\u4e3a\u660e\u663e\u3002 \u4f60\u7528\u8089\u773c\u53ef\u4ee5\u5f88\u8f7b\u6613\u5730\u5206\u8fa8\uff0cAlexa \u88ab\u79fb\u5230\u4e86\u6700\u540e\uff0c\u591a\u51fa\u6765\u4e00\u4e2a Claudia\u3002\u53ef\u662f React \u53ea\u662f\u7535\u8111\u91cc\u8fd0\u884c\u5730\u7a0b\u5e8f\uff0c\u5b83\u65e0\u4ece\u77e5\u6653\u8fd9\u4e9b\u6539\u53d8\u3002\u6240\u4ee5\u6211\u4eec\u5fc5\u987b\u4e3a\u5217\u8868\u4e2d\u7684\u6bcf\u4e00\u9879\u6dfb\u52a0\u4e00\u4e2a key \u4f5c\u4e3a\u552f\u4e00\u7684\u6807\u8bc6\u7b26\u3002\u6807\u8bc6\u7b26\u5fc5\u987b\u662f\u552f\u4e00\u7684\uff0c\u6bd4\u65b9\u8bf4\u521a\u624d\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u7684 alexa , ben , claudia \u5c31\u53ef\u4ee5\u7528\u6765\u505a\u6807\u8bc6\u7b26\u3002\u66f4\u666e\u904d\u7684\u4e00\u79cd\u60c5\u51b5\uff0c\u5047\u5982\u6211\u4eec\u7684\u6570\u636e\u662f\u4ece\u6570\u636e\u5e93\u83b7\u53d6\u7684\u8bdd\uff0c\u8868\u5355\u6bcf\u4e00\u9879\u7684 ID \u5c31\u5f88\u9002\u5408\u5f53\u4f5c\u5b83\u7684 key \uff1a <li key={user.id}>{user.name}: {user.taskCount} tasks left</li> key \u662f React \u5f53\u4e2d\u4f7f\u7528\u7684\u4e00\u79cd\u7279\u6b8a\u7684\u5c5e\u6027\uff08\u9664\u6b64\u4e4b\u5916\u8fd8\u6709 ref \u5c5e\u6027\uff09\u3002\u5f53\u5143\u7d20\u88ab\u521b\u5efa\u65f6\uff0cReact \u4f1a\u5c06\u5143\u7d20\u7684 key \u503c\u548c\u5bf9\u5e94\u5143\u7d20\u7ed1\u5b9a\u5b58\u50a8\u8d77\u6765\u3002\u5c3d\u7ba1 key \u770b\u8d77\u6765\u50cf\u662f props \u7684\u4e00\u90e8\u5206\uff0c\u53ef\u662f\u4e8b\u5b9e\u4e0a\u6211\u4eec\u65e0\u6cd5\u901a\u8fc7 this.props.key \u83b7\u53d6\u5230 key \u7684\u503c\u3002React \u4f1a\u81ea\u52a8\u7684\u5728\u5224\u65ad\u5143\u7d20\u66f4\u65b0\u65f6\u4f7f\u7528 key \uff0c\u800c\u7ec4\u4ef6\u81ea\u5df1\u662f\u65e0\u6cd5\u83b7\u53d6\u5230 key \u7684\u3002 \u5f53\u4e00\u4e2a\u5217\u8868\u88ab\u91cd\u65b0\u6e32\u67d3\u65f6\uff0cReact \u4f1a\u6839\u636e\u8f83\u65b0\u7684\u5143\u7d20\u5185\u5bb9\u4f9d\u636e\u76f8\u5e94\u7684 key \u503c\u6765\u5339\u914d\u4e4b\u524d\u7684\u5143\u7d20\u5185\u5bb9\u3002\u5f53\u4e00\u4e2a\u65b0\u7684 key \u503c\u6dfb\u52a0\u5230\u5217\u8868\u5f53\u4e2d\u65f6\uff0c\u8868\u793a\u6709\u4e00\u4e2a\u7ec4\u4ef6\u88ab\u521b\u5efa\uff1b\u88ab\u5220\u9664\u65f6\u8868\u793a\u6709\u4e00\u4e2a\u7ec4\u4ef6\u88ab\u9500\u6bc1\u3002Key \u503c\u53ef\u4ee5\u8ba9 React \u660e\u786e\u6807\u8bc6\u6bcf\u4e2a\u7ec4\u4ef6\uff0c\u8fd9\u6837\u5b83\u624d\u80fd\u5728\u6bcf\u6b21\u91cd\u65b0\u6e32\u67d3\u65f6\u4fdd\u6709\u5bf9\u5e94\u7684\u72b6\u6001\u6570\u636e\u3002\u5047\u5982\u4f60\u53bb\u6539\u53d8\u67d0\u4e2a\u7ec4\u4ef6\u7684 key \u503c\u7684\u8bdd\uff0c\u5b83\u4f1a\u5728\u4e0b\u6b21\u6e32\u67d3\u65f6\u88ab\u9500\u6bc1\u5e76\u5f53\u4f5c\u65b0\u7684\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\u8fdb\u6765\u3002 \u5047\u5982\u4f60\u4e0d\u63d0\u4f9b\u4efb\u4f55 key \u503c\uff0cReact \u4f1a\u63d0\u793a\u8b66\u544a\uff0c\u5e76\u4e14\u9ed8\u8ba4\u4f7f\u7528\u6570\u7ec4\u7684\u7d22\u5f15\u4f5c\u4e3a\u9ed8\u8ba4\u7684 key \uff0c\u4f46\u53ea\u8981\u4f60\u60f3\u5728\u5217\u8868\u4e2d\u5bf9\u9879\u76ee\u8fdb\u884c\u91cd\u65b0\u6392\u5217\u3001\u6dfb\u52a0\u6216\u5220\u9664\u7684\u8bdd\uff0c\u8fd9\u90fd\u4e0d\u662f\u4e00\u4e2a\u597d\u9009\u62e9\uff08\u56e0\u4e3a\u5bf9\u5e94\u7684\u952e\u503c\u90fd\u4f1a\u6539\u53d8\uff0c\u4e5f\u5c31\u4f1a\u51fa\u73b0\u6211\u4eec\u4e0a\u9762\u63d0\u5230\u7684\u7ec4\u4ef6key\u503c\u88ab\u6539\u53d8\u5c31\u4f1a\u88ab\u5f53\u4f5c\u65b0\u521b\u5efa\u7684\u7ec4\u4ef6\u5904\u7406\u90a3\u79cd\u60c5\u51b5\uff09\u3002\u624b\u52a8\u6dfb\u52a0\u5217\u8868\u7d22\u5f15\u503c key={i} \u53ef\u4ee5\u6d88\u9664\u8b66\u544a\uff0c\u4f46\u4e5f\u4f1a\u5b58\u5728\u76f8\u540c\u7684\u95ee\u9898\uff0c\u56e0\u6b64\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u90fd\u4e0d\u63a8\u8350\u8fd9\u79cd\u505a\u6cd5\u3002 \u7ec4\u4ef6\u7684 keys \u503c\u5e76\u4e0d\u9700\u8981\u5728\u5168\u5c40\u90fd\u4fdd\u8bc1\u552f\u4e00\uff0c\u53ea\u9700\u8981\u5728\u5f53\u524d\u7684\u8282\u70b9\u91cc\u4fdd\u8bc1\u552f\u4e00\u5373\u53ef\u3002","title":"\u5728 React \u5f53\u4e2d\u5224\u5b9a\u4f55\u65f6\u91cd\u65b0\u6e32\u67d3"},{"location":"react/React%20%E5%BC%BA%E5%88%B6%E6%9B%B4%E6%96%B0%E7%BB%84%E4%BB%B6/#react_2","text":"\u6709\u65f6\u5019\u9700\u8981\u5bf9\u4e00\u4e2a\u7ec4\u4ef6\u8fdb\u884c\u5f3a\u5236\u66f4\u65b0\uff08\u4e0d\u662f\u7531\u4e8estate\u53d8\u5316\u9020\u6210\u7ec4\u4ef6\u66f4\u65b0\uff09\u3002react\u539f\u5219\u4e0a\u4e0d\u9700\u8981\u5f3a\u5236\u8fdb\u884c\u66f4\u65b0\uff0c\u539f\u7406\u5c31\u662f\u6839\u636estate\u548cprops\u8fdb\u884c\u6570\u636e\u4f20\u9012\uff0c\u6839\u636ediff\u7b97\u6cd5\u8fdb\u884c\u6e32\u67d3\u7ec4\u4ef6\u5f97\u5230\u5c40\u90e8\u66f4\u65b0\u3002 \u90a3\u4e48\u5f3a\u5236\u66f4\u65b0\u5c31\u9700\u8981\u4ecestate\u548cprops\u8fdb\u884c\u5206\u6790\uff1b\u5982\u679c\u903b\u8f91\u95ee\u9898\u5c31\u4ece\u751f\u547d\u5468\u671f\u51fd\u6570\u89d2\u5ea6\u5206\u6790\u3002 class menu extends React.Component { // \u7b2c\u4e00\u6b21\u52a0\u8f7d\u7ec4\u4ef6\u8c03\u7528 componentDidMount = () => { this.getInfo(this.props.xxx); this.hasInfo(); } // \u6bcf\u6b21\u63a5\u6536\u5230\u65b0props\u8c03\u7528 componentWillReceiveProps = (nextProps) => { if (nextProps !== this.props) { this.getInfo(nextProps); this.haveInfo(); } } render() { return ( <div></div> ); } }","title":"React \u5f3a\u5236\u66f4\u65b0\u7ec4\u4ef6"},{"location":"react/React%20%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0%E7%9A%84API/","text":"React \u64cd\u4f5c\u5143\u7d20\u7684API \u00b6 React \u4e2d\uff0cJSX \u6807\u7b7e\u4f1a\u8f6c\u6362\u6210\u539f\u751f\u7684JavaScript\u4ee3\u7801\u3002\u6240\u4ee5\uff0c\u53ef\u4ee5\u4f7f\u7528JSX\u6807\u7b7e\u521b\u5efa\u7ec4\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528React\u63d0\u4f9b\u7684API\u521b\u5efa\u7ec4\u4ef6\u3002 \u4e0b\u9762\u662f\u5e38\u89c1\u7684\u5143\u7d20\u64cd\u4f5c\u548c\u7ec4\u4ef6\u64cd\u4f5c\u7684API 1\u3001\u521b\u5efa\u5143\u7d20 createElement \u00b6 // API \u5177\u6709\u4e09\u4e2a\u53c2\u6570 // \u7b2c\u4e00\u4e2a\u662f\u5143\u7d20\u7684\u7c7b\u578b\uff08\u5fc5\u9009\uff09 // \u7b2c\u4e8c\u4e2a\u662f\u5143\u7d20\u7684\u5c5e\u6027 // \u7b2c\u4e09\u4e2a\u662f\u5143\u7d20\u7684\u5b50\u8282\u70b9 var React = require ( 'react' ); let dom = React . createElement ( type , [ props ], [ children ]); let dom2 = React . createElement ( 'div' , { className : 'wrapper' }, dom , React . createElement ( 'hr' )); // \u5feb\u6377\u521b\u5efa\u5143\u7d20 // React.createElement('div') === React.DOM.div() 2\u3001\u590d\u5236 cloneElement \u00b6 \u53c2\u6570\u548ccreateElement\u4e00\u81f4 let div = React . createElement ( 'div' ); let dom3 = React . cloneElement ( div , { className : 'wrapper' }, dom ); 3\u3001\u9a8c\u8bc1 isValidElement \u00b6 function checkValid () { let div = React . createElement ( 'div' ); React . isValidElement ( div ); // true; let div2 = document . getElementById ( 'wrapper' ); React . isValidElement ( div2 ); // false } 4\u3001\u7ec4\u4ef6\u64cd\u4f5c API\uff08Component class\uff09 \u00b6 \u521b\u5efa\u7ec4\u4ef6\uff1acreateClass() \u521b\u5efa\u5e76\u8fd4\u56de\u4e00\u4e2a\u7ec4\u4ef6\u7c7b\uff0c\u5185\u90e8\u9700\u8981\u5b9e\u73b0render\u65b9\u6cd5 let App = React . createClass ({ displayName : 'App' , render : function () { let hr = React . createElement ( 'hr' ); let h2 = React . createElement ( 'h2' , null , this . props . children ); return ( React . createElement ( 'div' , null , h2 , hr )); } }); \u73b0\u5728\u5c31\u8fd4\u56de\u4e00\u4e2aAPP\u7684\u7c7b\uff08\u7ec4\u4ef6\uff09\u5927\u578b\u7ec4\u4ef6\u9700\u8981\u5355\u72ec\u5199\uff0cclass App extends React.Component\uff0c\u5982\u679c\u662f\u5c0f\u7ec4\u4ef6\uff0c\u6ca1\u6709\u590d\u6742\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2aAPI \u8fd9\u51e0\u4e2a\u4e3b\u8981\u7684\u533a\u522b\uff1a https://www.zhihu.com/question/27602269/answer/40168594 \u57fa\u672c\u4e0a\uff0c\u4f7f\u7528JSX\u53ef\u4ee5\u5b8c\u6210\u4e0a\u9762API\u7684\u5de5\u4f5c","title":"React \u64cd\u4f5c\u5143\u7d20\u7684API.md"},{"location":"react/React%20%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0%E7%9A%84API/#react-api","text":"React \u4e2d\uff0cJSX \u6807\u7b7e\u4f1a\u8f6c\u6362\u6210\u539f\u751f\u7684JavaScript\u4ee3\u7801\u3002\u6240\u4ee5\uff0c\u53ef\u4ee5\u4f7f\u7528JSX\u6807\u7b7e\u521b\u5efa\u7ec4\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528React\u63d0\u4f9b\u7684API\u521b\u5efa\u7ec4\u4ef6\u3002 \u4e0b\u9762\u662f\u5e38\u89c1\u7684\u5143\u7d20\u64cd\u4f5c\u548c\u7ec4\u4ef6\u64cd\u4f5c\u7684API","title":"React \u64cd\u4f5c\u5143\u7d20\u7684API"},{"location":"react/React%20%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0%E7%9A%84API/#1-createelement","text":"// API \u5177\u6709\u4e09\u4e2a\u53c2\u6570 // \u7b2c\u4e00\u4e2a\u662f\u5143\u7d20\u7684\u7c7b\u578b\uff08\u5fc5\u9009\uff09 // \u7b2c\u4e8c\u4e2a\u662f\u5143\u7d20\u7684\u5c5e\u6027 // \u7b2c\u4e09\u4e2a\u662f\u5143\u7d20\u7684\u5b50\u8282\u70b9 var React = require ( 'react' ); let dom = React . createElement ( type , [ props ], [ children ]); let dom2 = React . createElement ( 'div' , { className : 'wrapper' }, dom , React . createElement ( 'hr' )); // \u5feb\u6377\u521b\u5efa\u5143\u7d20 // React.createElement('div') === React.DOM.div()","title":"1\u3001\u521b\u5efa\u5143\u7d20 createElement"},{"location":"react/React%20%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0%E7%9A%84API/#2-cloneelement","text":"\u53c2\u6570\u548ccreateElement\u4e00\u81f4 let div = React . createElement ( 'div' ); let dom3 = React . cloneElement ( div , { className : 'wrapper' }, dom );","title":"2\u3001\u590d\u5236 cloneElement"},{"location":"react/React%20%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0%E7%9A%84API/#3-isvalidelement","text":"function checkValid () { let div = React . createElement ( 'div' ); React . isValidElement ( div ); // true; let div2 = document . getElementById ( 'wrapper' ); React . isValidElement ( div2 ); // false }","title":"3\u3001\u9a8c\u8bc1 isValidElement"},{"location":"react/React%20%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0%E7%9A%84API/#4-apicomponent-class","text":"\u521b\u5efa\u7ec4\u4ef6\uff1acreateClass() \u521b\u5efa\u5e76\u8fd4\u56de\u4e00\u4e2a\u7ec4\u4ef6\u7c7b\uff0c\u5185\u90e8\u9700\u8981\u5b9e\u73b0render\u65b9\u6cd5 let App = React . createClass ({ displayName : 'App' , render : function () { let hr = React . createElement ( 'hr' ); let h2 = React . createElement ( 'h2' , null , this . props . children ); return ( React . createElement ( 'div' , null , h2 , hr )); } }); \u73b0\u5728\u5c31\u8fd4\u56de\u4e00\u4e2aAPP\u7684\u7c7b\uff08\u7ec4\u4ef6\uff09\u5927\u578b\u7ec4\u4ef6\u9700\u8981\u5355\u72ec\u5199\uff0cclass App extends React.Component\uff0c\u5982\u679c\u662f\u5c0f\u7ec4\u4ef6\uff0c\u6ca1\u6709\u590d\u6742\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2aAPI \u8fd9\u51e0\u4e2a\u4e3b\u8981\u7684\u533a\u522b\uff1a https://www.zhihu.com/question/27602269/answer/40168594 \u57fa\u672c\u4e0a\uff0c\u4f7f\u7528JSX\u53ef\u4ee5\u5b8c\u6210\u4e0a\u9762API\u7684\u5de5\u4f5c","title":"4\u3001\u7ec4\u4ef6\u64cd\u4f5c API\uff08Component class\uff09"},{"location":"react/React%20%E7%9A%84%20PureComponent%20%E4%B8%8E%20Component/","text":"React \u7684 PureComponent \u4e0e Component \u00b6 1\u3001\u5b98\u65b9\u6587\u6863\u89e3\u91ca \u00b6 \u5728 React \u4e2d\uff0cComponent \u548c PureComponent \u6709\u4e00\u4e9b\u533a\u522b\uff0c\u5b98\u65b9\u7684\u89e3\u91ca\u5982\u4e0b\uff1a React.Component is the base class for React components when they are defined using ES6 classes : class Greeting extends React.Component { render() { return <h1>Hello, {this.props.name}</h1>; } } See the React.Component API Reference for a list of methods and properties related to the base React.Component class. \u4e2d\u6587\u7684\u610f\u601d\u662f\uff1aReact.Component \u57fa\u4e8e React \u7684\u7ec4\u4ef6\uff0c\u4f7f\u7528 ES6 \u7684\u7c7b\u8bed\u6cd5\uff08class\uff09\u53ef\u4ee5\u70b9\u51fb\u94fe\u63a5\u67e5\u770b\u4e00\u7cfb\u5217\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\u3002 React.PureComponent \u00b6 React.PureComponent is similar to React.Component . The difference between them is that React.Component doesn\u2019t implement shouldComponentUpdate() , but React.PureComponent implements it with a shallow prop and state comparison. If your React component\u2019s render() function renders the same result given the same props and state, you can use React.PureComponent for a performance boost in some cases. Note React.PureComponent \u2019s shouldComponentUpdate() only shallowly compares the objects. If these contain complex data structures, it may produce false-negatives for deeper differences. Only extend PureComponent when you expect to have simple props and state, or use forceUpdate() when you know deep data structures have changed. Or, consider using immutable objects to facilitate fast comparisons of nested data. Furthermore, React.PureComponent \u2019s shouldComponentUpdate() skips prop updates for the whole component subtree. Make sure all the children components are also \u201cpure\u201d. \u4e2d\u6587\u610f\u601d\uff1aReact.PureComponent \u4e0e React.Component \u57fa\u672c\u76f8\u540c\u3002 \u533a\u522b\uff1aComponent \u6ca1\u6709\u76f4\u63a5\u5b9e\u73b0 shouldComponentUpdate \u8fd9\u4e2a\u65b9\u6cd5\uff1b\u4f46\u662f PureComponent\u901a\u8fc7\u6d45\u5c42\u7684Porps \u548c state \u7684\u5bf9\u6bd4\uff0c\u5185\u90e8\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\u3002 \u5982\u679c\u4f60\u7684\u7ec4\u4ef6 render \u51fd\u6570\u6e32\u67d3\u65f6\u5177\u6709\u76f8\u540c\u7684 props \u548c state\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528 PureComponent \u6765\u63d0\u9ad8\u6027\u80fd\u3002 \u6ce8\u610f\uff1aPureComponent\u4ec5\u4ec5\u5b9e\u73b0\u5bf9\u8c61\u7684\u6d45\u5bf9\u6bd4\u3002\u5982\u679c\u5bf9\u8c61\u4e2d\u5305\u542b\u590d\u6742\u7684\u6570\u636e\u7ed3\u6784\uff0c\u4f1a\u4ea7\u751f\u8f83\u5927\u7684\u533a\u522b\u3002\u9664\u975e\u4f60\u7684state \u548c props \u662f\u7b80\u5355\u7684\uff0c\u6216\u8005\u5f53\u4f60\u7684\u6df1\u5c42\u6570\u636e\u7ed3\u6784\u53d8\u5316\u65f6\u4f7f\u7528 forceUpdate\uff0c\u6216\u8005\u4f7f\u7528 immutable \u5bf9\u8c61\u6765\u5feb\u901f\u6bd4\u8f83\u5d4c\u5957\uff08\u590d\u6742\uff09\u7684\u6570\u636e\u3002 \u6b64\u5916\uff1aPureComponent\u4f1a\u8df3\u8fc7\u6574\u4e2a\u7ec4\u4ef6\u5b50\u6811\u7684props\u66f4\u65b0\uff0c\u8981\u786e\u4fdd\u5168\u90e8\u7684\u5b50\u7ec4\u4ef6\u4e5f\u662f pure \u7684\u5f62\u5f0f\u3002 2\u3001\u533a\u522b\u5177\u4f53\u8bf4\u660e \u00b6 2.1 \u6027\u80fd\u4e0d\u540c \u00b6 \u5b83\u4eec\u51e0\u4e4e\u76f8\u540c\uff0cPureComponent \u901a\u8fc7prop\u3001state\u7684\u6d45\u6bd4\u8f83\u6765\u5b9e\u73b0 shouldComponentUpdate\uff0c\u67d0\u4e9b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u7528 PureComponen t\u63d0\u5347\u6027\u80fd. 1.\u6d45\u5bf9\u6bd4(shallowEqual)\uff0c\u5373 react \u4e2d\u7684\u4e00\u4e2a\u51fd\u6570\uff0c\u7136\u540e\u6839\u636e\u4e0b\u9762\u7684\u65b9\u6cd5\u8fdb\u884c\u662f\u4e0d\u662f PureComponent \u7684\u5224\u65ad\uff0c\u5e2e\u6211\u4eec\u505a\u4e86\u672c\u6765\u5e94\u8be5\u6211\u4eec\u5728 shouldComponentUpdate \u4e2d\u505a\u7684\u4e8b\u60c5\u3002 \u5c0f\u7ed3\uff1aComponent \u4e2d\u9700\u8981\u624b\u52a8\u6267\u884c\u7684 ComponentShouldUpdate \u51fd\u6570\uff0c\u5728PureComponent\u4e2d\u5df2\u7ecf\u81ea\u52a8\u5b8c\u6210\u4e86\uff08\u81ea\u52a8\u6d45\u5bf9\u6bd4\uff09\u3002 if ( this . _compositeType === CompositeTypes . PureClass ) { shouldUpdate = ! shallowEqual ( prevProps , nextProps ) || ! shallowEqual ( inst . state , nextState ); } \u800c\u672c\u6765\u6211\u4eec\u505a\u7684\u4e8b\u60c5\u5982\u4e0b\uff0c\u8fd9\u91cc\u5224\u65ad\u4e86 state \u6709\u6ca1\u6709\u53d1\u751f\u53d8\u5316\uff08prop\u540c\u7406\uff09\uff0c\u4ece\u800c\u51b3\u5b9a\u8981\u4e0d\u8981\u91cd\u65b0\u6e32\u67d3\uff0c\u8fd9\u91cc\u7684\u51fd\u6570\u5728\u4e00\u4e2a\u7ee7\u627f\u4e86 Component \u7684\u7ec4\u4ef6\u4e2d\uff0c\u800c\u8fd9\u91cc this.state.person \u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4f60\u4f1a\u53d1\u73b0\uff0c\u5728\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\u6ca1\u6709\u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019\u662f\u4e0d\u4f1a\u91cd\u65b0 render \u7684\uff08\u5373\u4e0b\u9762\u63d0\u5230\u7684\u7b2c\u4e09\u70b9\uff09\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7528 shouldComponentUpdate \u8fdb\u884c\u4f18\u5316\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u5982\u679c\u8fd4\u56de false \uff0c\u8868\u793a\u4e0d\u9700\u8981\u91cd\u65b0\u8fdb\u884c\u6e32\u67d3\uff0c\u8fd4\u56de true \u5219\u91cd\u65b0\u6e32\u67d3\uff0c\u9ed8\u8ba4\u8fd4\u56de true shouldComponentUpdate ( nextProps , nextState ) { return ( nextState . person !== this . state . person ); } 2.\u5982\u4e0b\u663e\u793a\u7684\u662f\u4e00\u4e2a Test \u7ec4\u4ef6\uff0c\u8bbe\u7f6e\u4e86\u4e00\u4e2a state \u662f isShow \uff0c\u901a\u8fc7\u4e00\u4e2a\u6309\u94ae\u70b9\u51fb\u53ef\u4ee5\u6539\u53d8\u5b83\u7684\u503c\uff0c\u7ed3\u679c\u662f\uff1a\u521d\u59cb\u5316\u7684\u65f6\u5019\u8f93\u51fa\u7684\u662f constructor \uff0c render \uff0c\u800c\u7b2c\u4e00\u6b21\u70b9\u51fb\u6309\u94ae\uff0c\u4f1a\u8f93\u51fa\u4e00\u6b21render\uff0c\u5373\u91cd\u65b0\u6e32\u67d3\u4e86\u4e00\u6b21\uff0c\u754c\u9762\u4e5f\u4f1a\u4ece\u663e\u793a false \u53d8\u6210\u663e\u793a true \uff0c\u4f46\u662f\u5f53\u8fd9\u4e2a\u7ec4\u4ef6\u662f\u7ee7\u627f\u81ea PureComponent \u7684\u65f6\u5019\uff0c\u518d\u70b9\u51fb\u7684\u65f6\uff0c\u4e0d\u4f1a\u518d\u8f93\u51fa render \uff0c\u5373\u4e0d\u4f1a\u518d\u91cd\u65b0\u6e32\u67d3\u4e86\uff0c\u800c\u5f53\u8fd9\u4e2a\u7ec4\u4ef6\u662f\u7ee7\u627f\u81ea Component \u65f6\uff0c\u8fd8\u662f\u4f1a\u8f93\u51fa render \uff0c\u8fd8\u662f\u4f1a\u91cd\u65b0\u6e32\u67d3\uff0c\u8fd9\u65f6\u5019\u5c31\u662f PureComponent \u5185\u90e8\u505a\u4e86\u4f18\u5316\u7684\u4f53\u73b0\u3002\u540c\u7406\u4e5f\u9002\u7528\u4e8e string \uff0c number \u7b49\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0c\u56e0\u4e3a\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0c\u503c\u6539\u53d8\u4e86\u5c31\u7b97\u6539\u53d8\u4e86\u3002 \u5c0f\u7ed3\uff1a\u5982\u679c\u4f20\u503c\u90fd\u662f\u7b80\u5355\u5bf9\u8c61\uff0c\u53ef\u4ee5\u653e\u5fc3\u4f7f\u7528\uff1b\u5982\u679c\u4f20\u503c\u6709\u590d\u6742\u5bf9\u8c61\uff0c\u9700\u8981\u614e\u91cd\u4f7f\u7528\u3002 import React, { PureComponent } from 'react'; class Test extends PureComponent{ constructor() { super(); this.state = { isShow: false }; } changeState = () => { this.setState({ isShow: true }); }; render() { return ( <div> <button onClick={this.changeState}>Click it</button> <div>{this.state.isShow.toString()}</div> </div> ); } } 5.\u5f53\u8fd9\u4e2a this.state.arr \u662f\u4e00\u4e2a\u6570\u7ec4\u65f6\uff0c\u4e14\u8fd9\u4e2a\u7ec4\u4ef6\u662f\u7ee7\u627f\u81ea PureComponent \u65f6\uff0c\u521d\u59cb\u5316\u4f9d\u65e7\u662f\u8f93\u51fa constructor \u548c render \uff0c\u4f46\u662f\u5f53\u70b9\u51fb\u6309\u94ae\u65f6\uff0c\u754c\u9762\u4e0a\u6ca1\u6709\u53d8\u5316\uff0c\u4e5f\u6ca1\u6709\u8f93\u51fa render \uff0c\u8bc1\u660e\u6ca1\u6709\u6e32\u67d3\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u4ece\u4e0b\u9762\u7684\u6ce8\u91ca\u4e2d\u770b\u5230\uff0c\u6bcf\u70b9\u51fb\u4e00\u6b21\u6309\u94ae\uff0c\u6211\u4eec\u60f3\u8981\u4fee\u6539\u7684 arr \u7684\u503c\u5df2\u7ecf\u6539\u53d8\uff0c\u800c\u8fd9\u4e2a\u503c\u5c06\u53bb\u4fee\u6539 this.state.arr ,\u4f46\u662f\u56e0\u4e3a\u5728 PureComponent \u4e2d \u6d45\u6bd4\u8f83 \u8fd9\u4e2a\u6570\u7ec4\u7684\u5f15\u7528\u6ca1\u6709\u53d8\u5316\u6240\u4ee5\u6ca1\u6709\u6e32\u67d3\uff0c this.state.arr \u4e5f\u6ca1\u6709\u66f4\u65b0\uff0c\u56e0\u4e3a\u5728 this.setState() \u4ee5\u540e\uff0c\u503c\u662f\u5728 render \u7684\u65f6\u5019\u66f4\u65b0\u7684\u3002 \u5c0f\u7ed3\uff1a\u5982\u679c\u662f\u590d\u6742\u6570\u636e\u7c7b\u578b\uff0c\u8fd9\u91cc\u4f1a\u9020\u6210\u9519\u8bef\u7684\u663e\u793a\uff08setState\u6d45\u590d\u5236\u66f4\u65b0\uff0c\u4f46\u662f\u754c\u9762\u4e0d\u4f1a\u91cd\u65b0\u6e32\u67d3\uff09 6.\u4f46\u662f\u5f53\u8fd9\u4e2a\u7ec4\u4ef6\u662f\u7ee7\u627f\u81ea Component \u7684\u65f6\u5019\uff0c\u521d\u59cb\u5316\u4f9d\u65e7\u662f\u8f93\u51fa constructor \u548c render \uff0c\u4f46\u662f\u5f53\u70b9\u51fb\u6309\u94ae\u65f6\uff0c\u754c\u9762\u4e0a\u51fa\u73b0\u4e86\u53d8\u5316\uff0c\u5373\u6211\u4eec\u6253\u5370\u5904\u7406\u7684 arr \u7684\u503c\u8f93\u51fa\uff0c\u800c\u4e14\u6bcf\u70b9\u51fb\u4e00\u6b21\u6309\u94ae\u90fd\u4f1a\u8f93\u51fa\u4e00\u6b21 render \uff0c\u8bc1\u660e\u5df2\u7ecf\u91cd\u65b0\u6e32\u67d3\uff0c this.state.arr \u7684\u503c\u5df2\u7ecf\u66f4\u65b0\u3002 \u5c0f\u7ed3\uff1a\u5982\u679c\u662f\u590d\u6742\u6570\u636e\u7c7b\u578b\uff0c\u4f7f\u7528Component\u53ef\u4ee5\u6b63\u786e\u663e\u793a import React, { PureComponent } from 'react'; class Test extends PureComponent { constructor() { super(); this.state = { arr:['1'] }; } changeState = () => { let { arr } = this.state; arr.push('2'); console.log(arr); // [\"1\", \"2\"] // [\"1\", \"2\", \"2\"] // [\"1\", \"2\", \"2\", \"2\"] this.setState({ arr }); }; render() { return ( <div> <button onClick={this.changeState}>\u70b9\u51fb</button> <div> {this.state.arr.map((item) => { return item; })} </div> </div> ); } } 7.\u4e0b\u9762\u7684\u4f8b\u5b50\u7528 \u6269\u5c55\u8fd0\u7b97\u7b26 \u4ea7\u751f\u65b0\u6570\u7ec4\uff0c\u4f7f this.state.arr \u7684\u5f15\u7528\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u6240\u4ee5\u521d\u59cb\u5316\u7684\u65f6\u5019\u8f93\u51fa constructor \u548c render \u540e\uff0c\u6bcf\u6b21\u70b9\u51fb\u6309\u94ae\u90fd\u4f1a\u8f93\u51fa render \uff0c\u754c\u9762\u4e5f\u4f1a\u53d8\u5316\uff0c\u4e0d\u7ba1\u8be5\u7ec4\u4ef6\u662f\u7ee7\u627f\u81ea Component \u8fd8\u662f PureComponent \u7684 \u5c0f\u7ed3\uff1a\u5982\u679cstate\u6216\u8005Props\u662f\u6df1\u590d\u5236\uff0c\u90a3\u4e48\u4e24\u79cd\u65b9\u6cd5\u90fd\u53ef\u4ee5\u5b9e\u73b0\u66f4\u65b0 import React, { PureComponent } from 'react'; class Test extends PureComponent{ constructor() { super(); this.state = { arr:['1'] }; } changeState = () => { let { arr } = this.state; this.setState({ arr: [...arr, '2'] }) }; render() { console.log('render'); return ( <div> <button onClick={this.changeState}>\u70b9\u51fb</button> <div> {this.state.arr.map((item) => { return item; })} </div> </div> ); } } 2.2. \u5bf9\u5b50\u7ec4\u4ef6\u7684\u5f71\u54cd \u00b6 PureComponent\u4e0d\u4ec5\u4f1a\u5f71\u54cd\u672c\u8eab\uff0c\u800c\u4e14\u4f1a\u5f71\u54cd\u5b50\u7ec4\u4ef6\uff0c\u6240\u4ee5PureComponent\u6700\u597d\u7528\u5728\u6570\u636e\u5c55\u793a\u7ec4\u4ef6\u4e2d 1.\u6211\u4eec\u8ba9 IndexPage \u7ec4\u4ef6\u91cc\u9762\u5305\u542b\u4e00\u4e2a\u5b50\u7ec4\u4ef6 Example \u6765\u5c55\u793a PureComponent \u662f\u5982\u4f55\u5f71\u54cd\u5b50\u7ec4\u4ef6\u7684 2.\u7236\u7ec4\u4ef6\u7ee7\u627f PureComponent \uff0c\u5b50\u7ec4\u4ef6\u7ee7\u627f Component \u65f6\uff1a\u4e0b\u9762\u7684\u7ed3\u679c\u521d\u59cb\u5316\u65f6\u8f93\u51fa\u4e3a constructor \uff0c IndexPage render \uff0c example render \uff0c\u4f46\u662f\u5f53\u6211\u4eec\u70b9\u51fb\u6309\u94ae\u65f6\uff0c\u754c\u9762\u6ca1\u6709\u53d8\u5316\uff0c\u56e0\u4e3a\u8fd9\u4e2a this.state.person \u5bf9\u8c61\u7684\u5f15\u7528\u6ca1\u6709\u6539\u53d8\uff0c\u53ea\u662f\u6539\u53d8\u4e86\u5b83\u91cc\u9762\u7684\u5c5e\u6027\u503c\u6240\u4ee5\u5c3d\u7ba1\u5b50\u7ec4\u4ef6\u662f\u7ee7\u627f Component \u7684\u4e5f\u6ca1\u6709\u529e\u6cd5\u6e32\u67d3\uff0c\u56e0\u4e3a\u7236\u7ec4\u4ef6\u662f PureComponent \uff0c\u7236\u7ec4\u4ef6\u6839\u672c\u6ca1\u6709\u6e32\u67d3\uff0c\u6240\u4ee5\u5b50\u7ec4\u4ef6\u4e5f\u4e0d\u4f1a\u6e32\u67d3 3.\u7236\u7ec4\u4ef6\u7ee7\u627f PureComponent \uff0c\u5b50\u7ec4\u4ef6\u7ee7\u627f PureComponent \u65f6\uff1a\u56e0\u4e3a\u6e32\u67d3\u5728\u7236\u7ec4\u4ef6\u7684\u65f6\u5019\u5c31\u6ca1\u6709\u8fdb\u884c\uff0c\u76f8\u5f53\u4e8e\u88ab\u62e6\u622a\u4e86\uff0c\u6240\u4ee5\u5b50\u7ec4\u4ef6\u662f PureComponent \u8fd8\u662f Component \u6839\u672c\u4e0d\u4f1a\u5f71\u54cd\u7ed3\u679c\uff0c\u754c\u9762\u4f9d\u65e7\u6ca1\u6709\u53d8\u5316 4.\u7236\u7ec4\u4ef6\u7ee7\u627f Component \uff0c\u5b50\u7ec4\u4ef6\u7ee7\u627f PureComponent \u65f6\uff1a\u7ed3\u679c\u548c\u6211\u4eec\u9884\u671f\u7684\u4e00\u6837\uff0c\u5373\u521d\u59cb\u5316\u662f\u4f1a\u8f93\u51fa constructor \uff0c IndexPage render \uff0c example render \uff0c\u4f46\u662f\u70b9\u51fb\u7684\u65f6\u5019\u53ea\u4f1a\u51fa\u73b0 IndexPage render \uff0c\u56e0\u4e3a\u7236\u7ec4\u4ef6\u662f Component \uff0c\u6240\u4ee5\u7236\u7ec4\u4ef6\u4f1a\u6e32\u67d3\uff0c\u4f46\u662f \u5f53\u7236\u7ec4\u4ef6\u628a\u503c\u4f20\u7ed9\u5b50\u7ec4\u4ef6\u7684\u65f6\u5019\uff0c\u56e0\u4e3a\u5b50\u7ec4\u4ef6\u662f PureComponent \uff0c\u6240\u4ee5\u5b83\u4f1a\u5bf9 prop \u8fdb\u884c\u6d45\u6bd4\u8f83\uff0c\u53d1\u73b0\u8fd9\u4e2a person \u5bf9\u8c61\u7684\u5f15\u7528\u6ca1\u6709\u53d1\u751f\u53d8\u5316\uff0c\u6240\u4ee5\u4e0d\u4f1a\u91cd\u65b0\u6e32\u67d3\uff0c\u800c\u754c\u9762\u663e\u793a\u662f\u7531\u5b50\u7ec4\u4ef6\u663e\u793a\u7684\uff0c\u6240\u4ee5\u754c\u9762\u4e5f\u4e0d\u4f1a\u53d8\u5316 5.\u7236\u7ec4\u4ef6\u7ee7\u627f Component \uff0c\u5b50\u7ec4\u4ef6\u7ee7\u627f Component \u65f6\uff1a\u521d\u59cb\u5316\u662f\u4f1a\u8f93\u51fa constructor \uff0c IndexPage render \uff0c example render \uff0c\u5f53\u6211\u4eec\u7b2c\u4e00\u6b21\u70b9\u51fb\u6309\u94ae\u4ee5\u540e\uff0c\u754c\u9762\u53d1\u751f\u53d8\u5316\uff0c\u540e\u9762\u5c31\u4e0d\u518d\u6539\u53d8\uff0c\u56e0\u4e3a\u6211\u4eec\u4e00\u76f4\u628a\u5b83\u8bbe\u7f6e\u4e3asxt2\uff0c\u4f46\u662f\u6bcf\u70b9\u51fb\u4e00\u6b21\u90fd\u4f1a\u8f93\u51fa IndexPage render \uff0c example render \uff0c\u56e0\u4e3a\u6bcf\u6b21\u4e0d\u7ba1\u7236\u7ec4\u4ef6\u8fd8\u662f\u5b50\u7ec4\u4ef6\u90fd\u4f1a\u6e32\u67d3 6.\u6240\u4ee5\u6b63\u5982\u4e0b\u9762\u7b2c\u56db\u6761\u8bf4\u7684\uff0c\u5982\u679c state \u548c prop \u4e00\u76f4\u53d8\u5316\u7684\u8bdd\uff0c\u8fd8\u662f\u5efa\u8bae\u4f7f\u7528 Component \uff0c\u5e76\u4e14 PureComponent \u7684\u6700\u597d\u4f5c\u4e3a\u5c55\u793a\u7ec4\u4ef6 import React, { PureComponent, Component } from 'react'; import Example from \"../components/Example\"; class Test extends PureComponent{ constructor() { super(); this.state = { person: { name: 'sxt' } }; } changeState = () => { let { person } = this.state; person.name = 'sxt2'; this.setState({ person }); }; render() { const { person } = this.state; return ( <div> <button onClick={this.changeState}>\u70b9\u51fb</button> <Example person={person} /> </div> ); } } import React, { Component } from 'react'; class Example extends Component { render() { const { person } = this.props; return( <div>{person.name}</div> ); } } \u5c0f\u7ed3\uff1a\u5982\u679c state props \u662f\u590d\u6742\uff08\u5f15\u7528\uff09\u7c7b\u578b\uff0c\u5219\u8981\u5f15\u7528\u5185\u5b58\u5730\u5740\u4e0d\u540c\uff0c\u624d\u4f1a\u6b63\u786e\u6e32\u67d3\u7ec4\u4ef6 \u5982\u679cprop\u548cstate\u6bcf\u6b21\u90fd\u4f1a\u53d8\uff0c\u90a3\u4e48PureComponent\u7684\u6548\u7387\u8fd8\u4e0d\u5982Component\uff0c\u56e0\u4e3a\u4f60\u77e5\u9053\u7684\uff0c\u8fdb\u884c\u6d45\u6bd4\u8f83\u4e5f\u662f\u9700\u8981\u65f6\u95f4 \u82e5\u6709shouldComponentUpdate\uff0c\u5219\u6267\u884c\u5b83\uff0c\u82e5\u6ca1\u6709\u8fd9\u4e2a\u65b9\u6cd5\u4f1a\u5224\u65ad\u662f\u4e0d\u662fPureComponent\uff0c\u82e5\u662f\uff0c\u8fdb\u884c\u6d45\u6bd4\u8f83\u7ee7\u627f\u81ea Component \u7684\u7ec4\u4ef6\uff0c\u82e5\u662f shouldComponentUpdate \u8fd4\u56de false \uff0c\u5c31\u4e0d\u4f1a\u6e32\u67d3\u4e86\uff0c\u7ee7\u627f\u81ea PureComponent \u7684\u7ec4\u4ef6\u4e0d\u7528\u6211\u4eec\u624b\u52a8\u53bb\u5224\u65ad prop \u548c state \uff0c\u6240\u4ee5\u5728 PureComponent \u4e2d\u4f7f\u7528 shouldComponentUpdate \u4f1a\u6709\u5982\u4e0b\u8b66\u544a: Test has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used. \u4e5f\u662f\u6bd4\u8f83\u597d\u7406\u89e3\u7684\uff0c\u5c31\u662f\u4e0d\u8981\u5728 PureComponent \u4e2d\u4f7f\u7528 shouldComponentUpdate \uff0c\u56e0\u4e3a\u6839\u672c\u6ca1\u6709\u5fc5\u8981. 3\u3001\u53c2\u8003\u8d44\u6599 \u00b6 \u5b98\u65b9\u6587\u6863 https://reactjs.org/docs/react-api.html https://www.jianshu.com/p/c41bbbc20e65","title":"React \u7684 PureComponent \u4e0e Component.md"},{"location":"react/React%20%E7%9A%84%20PureComponent%20%E4%B8%8E%20Component/#react-purecomponent-component","text":"","title":"React \u7684 PureComponent \u4e0e Component"},{"location":"react/React%20%E7%9A%84%20PureComponent%20%E4%B8%8E%20Component/#1","text":"\u5728 React \u4e2d\uff0cComponent \u548c PureComponent \u6709\u4e00\u4e9b\u533a\u522b\uff0c\u5b98\u65b9\u7684\u89e3\u91ca\u5982\u4e0b\uff1a React.Component is the base class for React components when they are defined using ES6 classes : class Greeting extends React.Component { render() { return <h1>Hello, {this.props.name}</h1>; } } See the React.Component API Reference for a list of methods and properties related to the base React.Component class. \u4e2d\u6587\u7684\u610f\u601d\u662f\uff1aReact.Component \u57fa\u4e8e React \u7684\u7ec4\u4ef6\uff0c\u4f7f\u7528 ES6 \u7684\u7c7b\u8bed\u6cd5\uff08class\uff09\u53ef\u4ee5\u70b9\u51fb\u94fe\u63a5\u67e5\u770b\u4e00\u7cfb\u5217\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\u3002","title":"1\u3001\u5b98\u65b9\u6587\u6863\u89e3\u91ca"},{"location":"react/React%20%E7%9A%84%20PureComponent%20%E4%B8%8E%20Component/#reactpurecomponent","text":"React.PureComponent is similar to React.Component . The difference between them is that React.Component doesn\u2019t implement shouldComponentUpdate() , but React.PureComponent implements it with a shallow prop and state comparison. If your React component\u2019s render() function renders the same result given the same props and state, you can use React.PureComponent for a performance boost in some cases. Note React.PureComponent \u2019s shouldComponentUpdate() only shallowly compares the objects. If these contain complex data structures, it may produce false-negatives for deeper differences. Only extend PureComponent when you expect to have simple props and state, or use forceUpdate() when you know deep data structures have changed. Or, consider using immutable objects to facilitate fast comparisons of nested data. Furthermore, React.PureComponent \u2019s shouldComponentUpdate() skips prop updates for the whole component subtree. Make sure all the children components are also \u201cpure\u201d. \u4e2d\u6587\u610f\u601d\uff1aReact.PureComponent \u4e0e React.Component \u57fa\u672c\u76f8\u540c\u3002 \u533a\u522b\uff1aComponent \u6ca1\u6709\u76f4\u63a5\u5b9e\u73b0 shouldComponentUpdate \u8fd9\u4e2a\u65b9\u6cd5\uff1b\u4f46\u662f PureComponent\u901a\u8fc7\u6d45\u5c42\u7684Porps \u548c state \u7684\u5bf9\u6bd4\uff0c\u5185\u90e8\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\u3002 \u5982\u679c\u4f60\u7684\u7ec4\u4ef6 render \u51fd\u6570\u6e32\u67d3\u65f6\u5177\u6709\u76f8\u540c\u7684 props \u548c state\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528 PureComponent \u6765\u63d0\u9ad8\u6027\u80fd\u3002 \u6ce8\u610f\uff1aPureComponent\u4ec5\u4ec5\u5b9e\u73b0\u5bf9\u8c61\u7684\u6d45\u5bf9\u6bd4\u3002\u5982\u679c\u5bf9\u8c61\u4e2d\u5305\u542b\u590d\u6742\u7684\u6570\u636e\u7ed3\u6784\uff0c\u4f1a\u4ea7\u751f\u8f83\u5927\u7684\u533a\u522b\u3002\u9664\u975e\u4f60\u7684state \u548c props \u662f\u7b80\u5355\u7684\uff0c\u6216\u8005\u5f53\u4f60\u7684\u6df1\u5c42\u6570\u636e\u7ed3\u6784\u53d8\u5316\u65f6\u4f7f\u7528 forceUpdate\uff0c\u6216\u8005\u4f7f\u7528 immutable \u5bf9\u8c61\u6765\u5feb\u901f\u6bd4\u8f83\u5d4c\u5957\uff08\u590d\u6742\uff09\u7684\u6570\u636e\u3002 \u6b64\u5916\uff1aPureComponent\u4f1a\u8df3\u8fc7\u6574\u4e2a\u7ec4\u4ef6\u5b50\u6811\u7684props\u66f4\u65b0\uff0c\u8981\u786e\u4fdd\u5168\u90e8\u7684\u5b50\u7ec4\u4ef6\u4e5f\u662f pure \u7684\u5f62\u5f0f\u3002","title":"React.PureComponent"},{"location":"react/React%20%E7%9A%84%20PureComponent%20%E4%B8%8E%20Component/#2","text":"","title":"2\u3001\u533a\u522b\u5177\u4f53\u8bf4\u660e"},{"location":"react/React%20%E7%9A%84%20PureComponent%20%E4%B8%8E%20Component/#21","text":"\u5b83\u4eec\u51e0\u4e4e\u76f8\u540c\uff0cPureComponent \u901a\u8fc7prop\u3001state\u7684\u6d45\u6bd4\u8f83\u6765\u5b9e\u73b0 shouldComponentUpdate\uff0c\u67d0\u4e9b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u7528 PureComponen t\u63d0\u5347\u6027\u80fd. 1.\u6d45\u5bf9\u6bd4(shallowEqual)\uff0c\u5373 react \u4e2d\u7684\u4e00\u4e2a\u51fd\u6570\uff0c\u7136\u540e\u6839\u636e\u4e0b\u9762\u7684\u65b9\u6cd5\u8fdb\u884c\u662f\u4e0d\u662f PureComponent \u7684\u5224\u65ad\uff0c\u5e2e\u6211\u4eec\u505a\u4e86\u672c\u6765\u5e94\u8be5\u6211\u4eec\u5728 shouldComponentUpdate \u4e2d\u505a\u7684\u4e8b\u60c5\u3002 \u5c0f\u7ed3\uff1aComponent \u4e2d\u9700\u8981\u624b\u52a8\u6267\u884c\u7684 ComponentShouldUpdate \u51fd\u6570\uff0c\u5728PureComponent\u4e2d\u5df2\u7ecf\u81ea\u52a8\u5b8c\u6210\u4e86\uff08\u81ea\u52a8\u6d45\u5bf9\u6bd4\uff09\u3002 if ( this . _compositeType === CompositeTypes . PureClass ) { shouldUpdate = ! shallowEqual ( prevProps , nextProps ) || ! shallowEqual ( inst . state , nextState ); } \u800c\u672c\u6765\u6211\u4eec\u505a\u7684\u4e8b\u60c5\u5982\u4e0b\uff0c\u8fd9\u91cc\u5224\u65ad\u4e86 state \u6709\u6ca1\u6709\u53d1\u751f\u53d8\u5316\uff08prop\u540c\u7406\uff09\uff0c\u4ece\u800c\u51b3\u5b9a\u8981\u4e0d\u8981\u91cd\u65b0\u6e32\u67d3\uff0c\u8fd9\u91cc\u7684\u51fd\u6570\u5728\u4e00\u4e2a\u7ee7\u627f\u4e86 Component \u7684\u7ec4\u4ef6\u4e2d\uff0c\u800c\u8fd9\u91cc this.state.person \u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4f60\u4f1a\u53d1\u73b0\uff0c\u5728\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\u6ca1\u6709\u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019\u662f\u4e0d\u4f1a\u91cd\u65b0 render \u7684\uff08\u5373\u4e0b\u9762\u63d0\u5230\u7684\u7b2c\u4e09\u70b9\uff09\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7528 shouldComponentUpdate \u8fdb\u884c\u4f18\u5316\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u5982\u679c\u8fd4\u56de false \uff0c\u8868\u793a\u4e0d\u9700\u8981\u91cd\u65b0\u8fdb\u884c\u6e32\u67d3\uff0c\u8fd4\u56de true \u5219\u91cd\u65b0\u6e32\u67d3\uff0c\u9ed8\u8ba4\u8fd4\u56de true shouldComponentUpdate ( nextProps , nextState ) { return ( nextState . person !== this . state . person ); } 2.\u5982\u4e0b\u663e\u793a\u7684\u662f\u4e00\u4e2a Test \u7ec4\u4ef6\uff0c\u8bbe\u7f6e\u4e86\u4e00\u4e2a state \u662f isShow \uff0c\u901a\u8fc7\u4e00\u4e2a\u6309\u94ae\u70b9\u51fb\u53ef\u4ee5\u6539\u53d8\u5b83\u7684\u503c\uff0c\u7ed3\u679c\u662f\uff1a\u521d\u59cb\u5316\u7684\u65f6\u5019\u8f93\u51fa\u7684\u662f constructor \uff0c render \uff0c\u800c\u7b2c\u4e00\u6b21\u70b9\u51fb\u6309\u94ae\uff0c\u4f1a\u8f93\u51fa\u4e00\u6b21render\uff0c\u5373\u91cd\u65b0\u6e32\u67d3\u4e86\u4e00\u6b21\uff0c\u754c\u9762\u4e5f\u4f1a\u4ece\u663e\u793a false \u53d8\u6210\u663e\u793a true \uff0c\u4f46\u662f\u5f53\u8fd9\u4e2a\u7ec4\u4ef6\u662f\u7ee7\u627f\u81ea PureComponent \u7684\u65f6\u5019\uff0c\u518d\u70b9\u51fb\u7684\u65f6\uff0c\u4e0d\u4f1a\u518d\u8f93\u51fa render \uff0c\u5373\u4e0d\u4f1a\u518d\u91cd\u65b0\u6e32\u67d3\u4e86\uff0c\u800c\u5f53\u8fd9\u4e2a\u7ec4\u4ef6\u662f\u7ee7\u627f\u81ea Component \u65f6\uff0c\u8fd8\u662f\u4f1a\u8f93\u51fa render \uff0c\u8fd8\u662f\u4f1a\u91cd\u65b0\u6e32\u67d3\uff0c\u8fd9\u65f6\u5019\u5c31\u662f PureComponent \u5185\u90e8\u505a\u4e86\u4f18\u5316\u7684\u4f53\u73b0\u3002\u540c\u7406\u4e5f\u9002\u7528\u4e8e string \uff0c number \u7b49\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0c\u56e0\u4e3a\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0c\u503c\u6539\u53d8\u4e86\u5c31\u7b97\u6539\u53d8\u4e86\u3002 \u5c0f\u7ed3\uff1a\u5982\u679c\u4f20\u503c\u90fd\u662f\u7b80\u5355\u5bf9\u8c61\uff0c\u53ef\u4ee5\u653e\u5fc3\u4f7f\u7528\uff1b\u5982\u679c\u4f20\u503c\u6709\u590d\u6742\u5bf9\u8c61\uff0c\u9700\u8981\u614e\u91cd\u4f7f\u7528\u3002 import React, { PureComponent } from 'react'; class Test extends PureComponent{ constructor() { super(); this.state = { isShow: false }; } changeState = () => { this.setState({ isShow: true }); }; render() { return ( <div> <button onClick={this.changeState}>Click it</button> <div>{this.state.isShow.toString()}</div> </div> ); } } 5.\u5f53\u8fd9\u4e2a this.state.arr \u662f\u4e00\u4e2a\u6570\u7ec4\u65f6\uff0c\u4e14\u8fd9\u4e2a\u7ec4\u4ef6\u662f\u7ee7\u627f\u81ea PureComponent \u65f6\uff0c\u521d\u59cb\u5316\u4f9d\u65e7\u662f\u8f93\u51fa constructor \u548c render \uff0c\u4f46\u662f\u5f53\u70b9\u51fb\u6309\u94ae\u65f6\uff0c\u754c\u9762\u4e0a\u6ca1\u6709\u53d8\u5316\uff0c\u4e5f\u6ca1\u6709\u8f93\u51fa render \uff0c\u8bc1\u660e\u6ca1\u6709\u6e32\u67d3\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u4ece\u4e0b\u9762\u7684\u6ce8\u91ca\u4e2d\u770b\u5230\uff0c\u6bcf\u70b9\u51fb\u4e00\u6b21\u6309\u94ae\uff0c\u6211\u4eec\u60f3\u8981\u4fee\u6539\u7684 arr \u7684\u503c\u5df2\u7ecf\u6539\u53d8\uff0c\u800c\u8fd9\u4e2a\u503c\u5c06\u53bb\u4fee\u6539 this.state.arr ,\u4f46\u662f\u56e0\u4e3a\u5728 PureComponent \u4e2d \u6d45\u6bd4\u8f83 \u8fd9\u4e2a\u6570\u7ec4\u7684\u5f15\u7528\u6ca1\u6709\u53d8\u5316\u6240\u4ee5\u6ca1\u6709\u6e32\u67d3\uff0c this.state.arr \u4e5f\u6ca1\u6709\u66f4\u65b0\uff0c\u56e0\u4e3a\u5728 this.setState() \u4ee5\u540e\uff0c\u503c\u662f\u5728 render \u7684\u65f6\u5019\u66f4\u65b0\u7684\u3002 \u5c0f\u7ed3\uff1a\u5982\u679c\u662f\u590d\u6742\u6570\u636e\u7c7b\u578b\uff0c\u8fd9\u91cc\u4f1a\u9020\u6210\u9519\u8bef\u7684\u663e\u793a\uff08setState\u6d45\u590d\u5236\u66f4\u65b0\uff0c\u4f46\u662f\u754c\u9762\u4e0d\u4f1a\u91cd\u65b0\u6e32\u67d3\uff09 6.\u4f46\u662f\u5f53\u8fd9\u4e2a\u7ec4\u4ef6\u662f\u7ee7\u627f\u81ea Component \u7684\u65f6\u5019\uff0c\u521d\u59cb\u5316\u4f9d\u65e7\u662f\u8f93\u51fa constructor \u548c render \uff0c\u4f46\u662f\u5f53\u70b9\u51fb\u6309\u94ae\u65f6\uff0c\u754c\u9762\u4e0a\u51fa\u73b0\u4e86\u53d8\u5316\uff0c\u5373\u6211\u4eec\u6253\u5370\u5904\u7406\u7684 arr \u7684\u503c\u8f93\u51fa\uff0c\u800c\u4e14\u6bcf\u70b9\u51fb\u4e00\u6b21\u6309\u94ae\u90fd\u4f1a\u8f93\u51fa\u4e00\u6b21 render \uff0c\u8bc1\u660e\u5df2\u7ecf\u91cd\u65b0\u6e32\u67d3\uff0c this.state.arr \u7684\u503c\u5df2\u7ecf\u66f4\u65b0\u3002 \u5c0f\u7ed3\uff1a\u5982\u679c\u662f\u590d\u6742\u6570\u636e\u7c7b\u578b\uff0c\u4f7f\u7528Component\u53ef\u4ee5\u6b63\u786e\u663e\u793a import React, { PureComponent } from 'react'; class Test extends PureComponent { constructor() { super(); this.state = { arr:['1'] }; } changeState = () => { let { arr } = this.state; arr.push('2'); console.log(arr); // [\"1\", \"2\"] // [\"1\", \"2\", \"2\"] // [\"1\", \"2\", \"2\", \"2\"] this.setState({ arr }); }; render() { return ( <div> <button onClick={this.changeState}>\u70b9\u51fb</button> <div> {this.state.arr.map((item) => { return item; })} </div> </div> ); } } 7.\u4e0b\u9762\u7684\u4f8b\u5b50\u7528 \u6269\u5c55\u8fd0\u7b97\u7b26 \u4ea7\u751f\u65b0\u6570\u7ec4\uff0c\u4f7f this.state.arr \u7684\u5f15\u7528\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u6240\u4ee5\u521d\u59cb\u5316\u7684\u65f6\u5019\u8f93\u51fa constructor \u548c render \u540e\uff0c\u6bcf\u6b21\u70b9\u51fb\u6309\u94ae\u90fd\u4f1a\u8f93\u51fa render \uff0c\u754c\u9762\u4e5f\u4f1a\u53d8\u5316\uff0c\u4e0d\u7ba1\u8be5\u7ec4\u4ef6\u662f\u7ee7\u627f\u81ea Component \u8fd8\u662f PureComponent \u7684 \u5c0f\u7ed3\uff1a\u5982\u679cstate\u6216\u8005Props\u662f\u6df1\u590d\u5236\uff0c\u90a3\u4e48\u4e24\u79cd\u65b9\u6cd5\u90fd\u53ef\u4ee5\u5b9e\u73b0\u66f4\u65b0 import React, { PureComponent } from 'react'; class Test extends PureComponent{ constructor() { super(); this.state = { arr:['1'] }; } changeState = () => { let { arr } = this.state; this.setState({ arr: [...arr, '2'] }) }; render() { console.log('render'); return ( <div> <button onClick={this.changeState}>\u70b9\u51fb</button> <div> {this.state.arr.map((item) => { return item; })} </div> </div> ); } }","title":"2.1 \u6027\u80fd\u4e0d\u540c"},{"location":"react/React%20%E7%9A%84%20PureComponent%20%E4%B8%8E%20Component/#22","text":"PureComponent\u4e0d\u4ec5\u4f1a\u5f71\u54cd\u672c\u8eab\uff0c\u800c\u4e14\u4f1a\u5f71\u54cd\u5b50\u7ec4\u4ef6\uff0c\u6240\u4ee5PureComponent\u6700\u597d\u7528\u5728\u6570\u636e\u5c55\u793a\u7ec4\u4ef6\u4e2d 1.\u6211\u4eec\u8ba9 IndexPage \u7ec4\u4ef6\u91cc\u9762\u5305\u542b\u4e00\u4e2a\u5b50\u7ec4\u4ef6 Example \u6765\u5c55\u793a PureComponent \u662f\u5982\u4f55\u5f71\u54cd\u5b50\u7ec4\u4ef6\u7684 2.\u7236\u7ec4\u4ef6\u7ee7\u627f PureComponent \uff0c\u5b50\u7ec4\u4ef6\u7ee7\u627f Component \u65f6\uff1a\u4e0b\u9762\u7684\u7ed3\u679c\u521d\u59cb\u5316\u65f6\u8f93\u51fa\u4e3a constructor \uff0c IndexPage render \uff0c example render \uff0c\u4f46\u662f\u5f53\u6211\u4eec\u70b9\u51fb\u6309\u94ae\u65f6\uff0c\u754c\u9762\u6ca1\u6709\u53d8\u5316\uff0c\u56e0\u4e3a\u8fd9\u4e2a this.state.person \u5bf9\u8c61\u7684\u5f15\u7528\u6ca1\u6709\u6539\u53d8\uff0c\u53ea\u662f\u6539\u53d8\u4e86\u5b83\u91cc\u9762\u7684\u5c5e\u6027\u503c\u6240\u4ee5\u5c3d\u7ba1\u5b50\u7ec4\u4ef6\u662f\u7ee7\u627f Component \u7684\u4e5f\u6ca1\u6709\u529e\u6cd5\u6e32\u67d3\uff0c\u56e0\u4e3a\u7236\u7ec4\u4ef6\u662f PureComponent \uff0c\u7236\u7ec4\u4ef6\u6839\u672c\u6ca1\u6709\u6e32\u67d3\uff0c\u6240\u4ee5\u5b50\u7ec4\u4ef6\u4e5f\u4e0d\u4f1a\u6e32\u67d3 3.\u7236\u7ec4\u4ef6\u7ee7\u627f PureComponent \uff0c\u5b50\u7ec4\u4ef6\u7ee7\u627f PureComponent \u65f6\uff1a\u56e0\u4e3a\u6e32\u67d3\u5728\u7236\u7ec4\u4ef6\u7684\u65f6\u5019\u5c31\u6ca1\u6709\u8fdb\u884c\uff0c\u76f8\u5f53\u4e8e\u88ab\u62e6\u622a\u4e86\uff0c\u6240\u4ee5\u5b50\u7ec4\u4ef6\u662f PureComponent \u8fd8\u662f Component \u6839\u672c\u4e0d\u4f1a\u5f71\u54cd\u7ed3\u679c\uff0c\u754c\u9762\u4f9d\u65e7\u6ca1\u6709\u53d8\u5316 4.\u7236\u7ec4\u4ef6\u7ee7\u627f Component \uff0c\u5b50\u7ec4\u4ef6\u7ee7\u627f PureComponent \u65f6\uff1a\u7ed3\u679c\u548c\u6211\u4eec\u9884\u671f\u7684\u4e00\u6837\uff0c\u5373\u521d\u59cb\u5316\u662f\u4f1a\u8f93\u51fa constructor \uff0c IndexPage render \uff0c example render \uff0c\u4f46\u662f\u70b9\u51fb\u7684\u65f6\u5019\u53ea\u4f1a\u51fa\u73b0 IndexPage render \uff0c\u56e0\u4e3a\u7236\u7ec4\u4ef6\u662f Component \uff0c\u6240\u4ee5\u7236\u7ec4\u4ef6\u4f1a\u6e32\u67d3\uff0c\u4f46\u662f \u5f53\u7236\u7ec4\u4ef6\u628a\u503c\u4f20\u7ed9\u5b50\u7ec4\u4ef6\u7684\u65f6\u5019\uff0c\u56e0\u4e3a\u5b50\u7ec4\u4ef6\u662f PureComponent \uff0c\u6240\u4ee5\u5b83\u4f1a\u5bf9 prop \u8fdb\u884c\u6d45\u6bd4\u8f83\uff0c\u53d1\u73b0\u8fd9\u4e2a person \u5bf9\u8c61\u7684\u5f15\u7528\u6ca1\u6709\u53d1\u751f\u53d8\u5316\uff0c\u6240\u4ee5\u4e0d\u4f1a\u91cd\u65b0\u6e32\u67d3\uff0c\u800c\u754c\u9762\u663e\u793a\u662f\u7531\u5b50\u7ec4\u4ef6\u663e\u793a\u7684\uff0c\u6240\u4ee5\u754c\u9762\u4e5f\u4e0d\u4f1a\u53d8\u5316 5.\u7236\u7ec4\u4ef6\u7ee7\u627f Component \uff0c\u5b50\u7ec4\u4ef6\u7ee7\u627f Component \u65f6\uff1a\u521d\u59cb\u5316\u662f\u4f1a\u8f93\u51fa constructor \uff0c IndexPage render \uff0c example render \uff0c\u5f53\u6211\u4eec\u7b2c\u4e00\u6b21\u70b9\u51fb\u6309\u94ae\u4ee5\u540e\uff0c\u754c\u9762\u53d1\u751f\u53d8\u5316\uff0c\u540e\u9762\u5c31\u4e0d\u518d\u6539\u53d8\uff0c\u56e0\u4e3a\u6211\u4eec\u4e00\u76f4\u628a\u5b83\u8bbe\u7f6e\u4e3asxt2\uff0c\u4f46\u662f\u6bcf\u70b9\u51fb\u4e00\u6b21\u90fd\u4f1a\u8f93\u51fa IndexPage render \uff0c example render \uff0c\u56e0\u4e3a\u6bcf\u6b21\u4e0d\u7ba1\u7236\u7ec4\u4ef6\u8fd8\u662f\u5b50\u7ec4\u4ef6\u90fd\u4f1a\u6e32\u67d3 6.\u6240\u4ee5\u6b63\u5982\u4e0b\u9762\u7b2c\u56db\u6761\u8bf4\u7684\uff0c\u5982\u679c state \u548c prop \u4e00\u76f4\u53d8\u5316\u7684\u8bdd\uff0c\u8fd8\u662f\u5efa\u8bae\u4f7f\u7528 Component \uff0c\u5e76\u4e14 PureComponent \u7684\u6700\u597d\u4f5c\u4e3a\u5c55\u793a\u7ec4\u4ef6 import React, { PureComponent, Component } from 'react'; import Example from \"../components/Example\"; class Test extends PureComponent{ constructor() { super(); this.state = { person: { name: 'sxt' } }; } changeState = () => { let { person } = this.state; person.name = 'sxt2'; this.setState({ person }); }; render() { const { person } = this.state; return ( <div> <button onClick={this.changeState}>\u70b9\u51fb</button> <Example person={person} /> </div> ); } } import React, { Component } from 'react'; class Example extends Component { render() { const { person } = this.props; return( <div>{person.name}</div> ); } } \u5c0f\u7ed3\uff1a\u5982\u679c state props \u662f\u590d\u6742\uff08\u5f15\u7528\uff09\u7c7b\u578b\uff0c\u5219\u8981\u5f15\u7528\u5185\u5b58\u5730\u5740\u4e0d\u540c\uff0c\u624d\u4f1a\u6b63\u786e\u6e32\u67d3\u7ec4\u4ef6 \u5982\u679cprop\u548cstate\u6bcf\u6b21\u90fd\u4f1a\u53d8\uff0c\u90a3\u4e48PureComponent\u7684\u6548\u7387\u8fd8\u4e0d\u5982Component\uff0c\u56e0\u4e3a\u4f60\u77e5\u9053\u7684\uff0c\u8fdb\u884c\u6d45\u6bd4\u8f83\u4e5f\u662f\u9700\u8981\u65f6\u95f4 \u82e5\u6709shouldComponentUpdate\uff0c\u5219\u6267\u884c\u5b83\uff0c\u82e5\u6ca1\u6709\u8fd9\u4e2a\u65b9\u6cd5\u4f1a\u5224\u65ad\u662f\u4e0d\u662fPureComponent\uff0c\u82e5\u662f\uff0c\u8fdb\u884c\u6d45\u6bd4\u8f83\u7ee7\u627f\u81ea Component \u7684\u7ec4\u4ef6\uff0c\u82e5\u662f shouldComponentUpdate \u8fd4\u56de false \uff0c\u5c31\u4e0d\u4f1a\u6e32\u67d3\u4e86\uff0c\u7ee7\u627f\u81ea PureComponent \u7684\u7ec4\u4ef6\u4e0d\u7528\u6211\u4eec\u624b\u52a8\u53bb\u5224\u65ad prop \u548c state \uff0c\u6240\u4ee5\u5728 PureComponent \u4e2d\u4f7f\u7528 shouldComponentUpdate \u4f1a\u6709\u5982\u4e0b\u8b66\u544a: Test has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used. \u4e5f\u662f\u6bd4\u8f83\u597d\u7406\u89e3\u7684\uff0c\u5c31\u662f\u4e0d\u8981\u5728 PureComponent \u4e2d\u4f7f\u7528 shouldComponentUpdate \uff0c\u56e0\u4e3a\u6839\u672c\u6ca1\u6709\u5fc5\u8981.","title":"2.2. \u5bf9\u5b50\u7ec4\u4ef6\u7684\u5f71\u54cd"},{"location":"react/React%20%E7%9A%84%20PureComponent%20%E4%B8%8E%20Component/#3","text":"\u5b98\u65b9\u6587\u6863 https://reactjs.org/docs/react-api.html https://www.jianshu.com/p/c41bbbc20e65","title":"3\u3001\u53c2\u8003\u8d44\u6599"},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/","text":"React\u8fdb\u9636\u4e4b\u9ad8\u9636\u7ec4\u4ef6 \u00b6 \u524d\u8a00 \u00b6 \u6211\u4eec\u90fd\u77e5\u9053\u9ad8\u9636\u51fd\u6570\u662f\u4ec0\u4e48, \u9ad8\u9636\u7ec4\u4ef6\u5dee\u4e0d\u591a\u7684\u7528\u6cd5\uff0c \u4f20\u5165\u7684\u53c2\u6570\u53d8\u6210\u4e86react\u7ec4\u4ef6\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u7ec4\u4ef6 A higher-order component is a function that takes a component and returns a new component. \u5f62\u5982: const EnhancedComponent = higherOrderComponent ( WrappedComponent ); \u9ad8\u9636\u7ec4\u4ef6\u662freact\u5e94\u7528\u4e2d\u5f88\u91cd\u8981\u7684\u4e00\u90e8\u5206\uff0c\u6700\u5927\u7684\u7279\u70b9\u5c31\u662f\u91cd\u7528\u7ec4\u4ef6\u903b\u8f91\u3002\u5b83\u5e76\u4e0d\u662f\u7531React API\u5b9a\u4e49\u51fa\u6765\u7684\u529f\u80fd\uff0c\u800c\u662f\u7531React\u7684\u7ec4\u5408\u7279\u6027\u884d\u751f\u51fa\u6765\u7684\u4e00\u79cd\u8bbe\u8ba1\u6a21\u5f0f\u3002\u5982\u679c\u4f60\u7528\u8fc7redux\uff0c\u90a3\u4f60\u5c31\u4e00\u5b9a\u63a5\u89e6\u8fc7\u9ad8\u9636\u7ec4\u4ef6\uff0c\u56e0\u4e3areact-redux\u4e2d\u7684connect\u5c31\u662f\u4e00\u4e2a\u9ad8\u9636\u7ec4\u4ef6\u3002 \u539f\u6587 https://github.com/sunyongjian/blog/issues/25 \u53e6\u5916\u672c\u6b21demo\u4ee3\u7801\u90fd\u653e\u5728 https://github.com/sunyongjian/hoc-demo \u5148\u6765\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u9ad8\u9636\u7ec4\u4ef6 import React, { Component } from 'react'; import simpleHoc from './simple-hoc'; class Usual extends Component { render() { console.log(this.props, 'props'); return ( <div>Usual</div> ) } } export default simpleHoc(Usual); import React, { Component } from 'react'; const simpleHoc = WrappedComponent => { return class extends Component { render() { return <WrappedComponent {...this.props}/> } } } // \u9ad8\u9636\u7ec4\u4ef6\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u7ec4\u4ef6(WrappedComponent)\uff0c\u5c06\u4f20\u5165\u7684 props \u4f5c\u4e3a\u8fd9\u4e2a\u7ec4\u4ef6\u7684 props export default simpleHoc; \u7ec4\u4ef6Usual\u901a\u8fc7simpleHoc\u7684\u5305\u88c5\uff0c\u6253\u4e86\u4e00\u4e2alog... \u90a3\u4e48\u5f62\u5982simpleHoc\u5c31\u662f\u4e00\u4e2a\u9ad8\u9636\u7ec4\u4ef6\u4e86\uff0c\u901a\u8fc7\u63a5\u6536\u4e00\u4e2a\u7ec4\u4ef6class Usual\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u7ec4\u4ef6class\u3002 \u5176\u5b9e\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u5728\u8fd9\u4e2a\u51fd\u6570\u91cc\uff0c\u6211\u4eec\u53ef\u4ee5\u505a\u5f88\u591a\u64cd\u4f5c\u3002 \u800c\u4e14return\u7684\u7ec4\u4ef6\u540c\u6837\u6709\u81ea\u5df1\u7684\u751f\u547d\u5468\u671f\uff0cfunction\uff0c\u53e6\u5916\uff0c\u6211\u4eec\u770b\u5230\u4e5f\u53ef\u4ee5\u628aprops\u4f20\u7ed9WrappedComponent(\u88ab\u5305\u88c5\u7684\u7ec4\u4ef6)\u3002 \u9ad8\u9636\u7ec4\u4ef6\u7684\u5b9a\u4e49\u6211\u90fd\u662f\u7528\u7bad\u5934\u51fd\u6570\u53bb\u5199\u7684\uff0c\u5982\u6709\u4e0d\u9002\u8bf7\u53c2\u7167 arrow function \u88c5\u9970\u5668\u6a21\u5f0f \u00b6 \u9ad8\u9636\u7ec4\u4ef6\u53ef\u4ee5\u770b\u505a\u662f\u88c5\u9970\u5668\u6a21\u5f0f(Decorator Pattern)\u5728React\u7684\u5b9e\u73b0\u3002\u5373\u5141\u8bb8\u5411\u4e00\u4e2a\u73b0\u6709\u7684\u5bf9\u8c61\u6dfb\u52a0\u65b0\u7684\u529f\u80fd\uff0c\u540c\u65f6\u53c8\u4e0d\u6539\u53d8\u5176\u7ed3\u6784\uff0c\u5c5e\u4e8e\u5305\u88c5\u6a21\u5f0f(Wrapper Pattern)\u7684\u4e00\u79cd\u3002 ES7\u4e2d\u6dfb\u52a0\u4e86\u4e00\u4e2adecorator\u7684\u5c5e\u6027\uff0c\u4f7f\u7528@\u7b26\u8868\u793a\uff0c\u53ef\u4ee5\u66f4\u7cbe\u7b80\u7684\u4e66\u5199\u3002\u90a3\u4e0a\u9762\u7684\u4f8b\u5b50\u5c31\u53ef\u4ee5\u6539\u6210\uff1a import React, { Component } from 'react'; import simpleHoc from './simple-hoc'; @simpleHoc export default class Usual extends Component { render() { return ( <div> Usual </div> ) } } \u662f\u540c\u6837\u7684\u6548\u679c\u3002 \u5f53\u7136\u517c\u5bb9\u6027\u662f\u5b58\u5728\u95ee\u9898\u7684\uff0c\u901a\u5e38\u90fd\u662f\u901a\u8fc7babel\u53bb\u7f16\u8bd1\u7684\u3002 babel\u63d0\u4f9b\u4e86plugin\uff0c\u9ad8\u9636\u7ec4\u4ef6\u7528\u7684\u662f\u7c7b\u88c5\u9970\u5668\uff0c\u6240\u4ee5\u7528 transform-decorators-legacy babel \u4e24\u79cd\u5f62\u5f0f \u00b6 \u5c5e\u6027\u4ee3\u7406 \u00b6 \u5f15\u5165\u91cc\u6211\u4eec\u5199\u7684\u6700\u7b80\u5355\u7684\u5f62\u5f0f\uff0c\u5c31\u662f\u5c5e\u6027\u4ee3\u7406(Props Proxy)\u7684\u5f62\u5f0f\u3002\u901a\u8fc7hoc\u5305\u88c5wrappedComponent\uff0c\u4e5f\u5c31\u662f\u4f8b\u5b50\u4e2d\u7684Usual\uff0c\u672c\u6765\u4f20\u7ed9Usual\u7684props\uff0c\u90fd\u5728hoc\u4e2d\u63a5\u53d7\u5230\u4e86\uff0c\u4e5f\u5c31\u662fprops proxy\u3002 \u7531\u6b64\u6211\u4eec\u53ef\u4ee5\u505a\u4e00\u4e9b\u64cd\u4f5c \u64cd\u4f5cprops \u6700\u76f4\u89c2\u7684\u5c31\u662f\u63a5\u53d7\u5230props\uff0c\u6211\u4eec\u53ef\u4ee5\u505a\u4efb\u4f55\u8bfb\u53d6\uff0c\u7f16\u8f91\uff0c\u5220\u9664\u7684\u5f88\u591a\u81ea\u5b9a\u4e49\u64cd\u4f5c\u3002\u5305\u62echoc\u4e2d\u5b9a\u4e49\u7684\u81ea\u5b9a\u4e49\u4e8b\u4ef6\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7props\u518d\u4f20\u4e0b\u53bb\u3002 import React , { Component } from 'react' ; const propsProxyHoc = WrappedComponent => class extends Component { handleClick () { console . log ( 'click' ); } render () { return ( < WrappedComponent {... this . props } handleClick = { this . handleClick } /> ); } }; export default propsProxyHoc ; \u7136\u540e\u6211\u4eec\u7684Usual\u7ec4\u4ef6render\u7684\u65f6\u5019, console.log(this.props) \u4f1a\u5f97\u5230handleClick. refs\u83b7\u53d6\u7ec4\u4ef6\u5b9e\u4f8b \u5f53\u6211\u4eec\u5305\u88c5Usual\u7684\u65f6\u5019\uff0c\u60f3\u83b7\u53d6\u5230\u5b83\u7684\u5b9e\u4f8b\u600e\u4e48\u529e\uff0c\u53ef\u4ee5\u901a\u8fc7\u5f15\u7528(ref),\u5728Usual\u7ec4\u4ef6\u6302\u8f7d\u7684\u65f6\u5019\uff0c\u4f1a\u6267\u884cref\u7684\u56de\u8c03\u51fd\u6570\uff0c\u5728hoc\u4e2d\u53d6\u5230\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u3002\u901a\u8fc7\u6253\u5370\uff0c\u53ef\u4ee5\u770b\u5230\u5b83\u7684props\uff0c state\uff0c\u90fd\u662f\u53ef\u4ee5\u53d6\u5230\u7684\u3002 import React , { Component } from 'react' ; const refHoc = WrappedComponent => class extends Component { componentDidMount () { console . log ( this . instanceComponent , 'instanceComponent' ); } render () { return ( < WrappedComponent {... this . props } ref = { instanceComponent => this . instanceComponent = instanceComponent } /> ); } }; export default refHoc ; \u62bd\u79bbstate \u8fd9\u91cc\u4e0d\u662f\u901a\u8fc7ref\u83b7\u53d6state\uff0c \u800c\u662f\u901a\u8fc7 { props, \u56de\u8c03\u51fd\u6570 } \u4f20\u9012\u7ed9wrappedComponent\u7ec4\u4ef6\uff0c\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u83b7\u53d6state\u3002\u8fd9\u91cc\u7528\u7684\u6bd4\u8f83\u591a\u7684\u5c31\u662freact\u5904\u7406\u8868\u5355\u7684\u65f6\u5019\u3002\u901a\u5e38react\u5728\u5904\u7406\u8868\u5355\u7684\u65f6\u5019\uff0c\u4e00\u822c\u4f7f\u7528\u7684\u662f\u53d7\u63a7\u7ec4\u4ef6\uff08 \u6587\u6863 \uff09\uff0c\u5373\u628ainput\u90fd\u505a\u6210\u53d7\u63a7\u7684\uff0c\u6539\u53d8value\u7684\u65f6\u5019\uff0c\u7528onChange\u4e8b\u4ef6\u540c\u6b65\u5230state\u4e2d\u3002\u5f53\u7136\u8fd9\u79cd\u64cd\u4f5c\u901a\u8fc7Container\u7ec4\u4ef6\u4e5f\u53ef\u4ee5\u505a\u5230\uff0c\u5177\u4f53\u7684\u533a\u522b\u653e\u5230\u540e\u9762\u53bb\u6bd4\u8f83\u3002\u770b\u4e00\u4e0b\u4ee3\u7801\u5c31\u77e5\u9053\u600e\u4e48\u56de\u4e8b\u4e86\uff1a // \u666e\u901a\u7ec4\u4ef6Login import React, { Component } from 'react'; import formCreate from './form-create'; @formCreate export default class Login extends Component { render() { return ( <div> <div> <label id=\"username\"> \u8d26\u6237 </label> <input name=\"username\" {...this.props.getField('username')}/> </div> <div> <label id=\"password\"> \u5bc6\u7801 </label> <input name=\"password\" {...this.props.getField('password')}/> </div> <div onClick={this.props.handleSubmit}>\u63d0\u4ea4</div> <div>other content</div> </div> ) } } //HOC import React, { Component } from 'react'; const formCreate = WrappedComponent => class extends Component { constructor() { super(); this.state = { fields: {}, } } onChange = key => e => { const { fields } = this.state; fields[key] = e.target.value; this.setState({ fields, }) } handleSubmit = () => { console.log(this.state.fields); } getField = fieldName => { return { onChange: this.onChange(fieldName), } } render() { const props = { ...this.props, handleSubmit: this.handleSubmit, getField: this.getField, } return (<WrappedComponent {...props} />); } }; export default formCreate; \u8fd9\u91cc\u6211\u4eec\u628astate\uff0conChange\u7b49\u65b9\u6cd5\u90fd\u653e\u5230HOC\u91cc\uff0c\u5176\u5b9e\u662f\u9075\u4ece\u7684react\u7ec4\u4ef6\u7684\u4e00\u79cd\u89c4\u8303\uff0c\u5b50\u7ec4\u4ef6\u7b80\u5355\uff0c\u50bb\u74dc\uff0c\u8d1f\u8d23\u5c55\u793a\uff0c\u903b\u8f91\u4e0e\u64cd\u4f5c\u653e\u5230Container\u3002\u6bd4\u5982\u8bf4\u6211\u4eec\u5728HOC\u83b7\u53d6\u5230\u7528\u6237\u540d\u5bc6\u7801\u4e4b\u540e\uff0c\u518d\u53bb\u505a\u5176\u4ed6\u64cd\u4f5c\uff0c\u5c31\u65b9\u4fbf\u591a\u4e86\uff0c\u800cstate\uff0c\u5904\u7406\u51fd\u6570\u653e\u5230Form\u7ec4\u4ef6\u91cc\uff0c\u53ea\u4f1a\u8ba9Form\u66f4\u52a0\u7b28\u91cd\uff0c\u627f\u62c5\u4e86\u672c\u4e0d\u5c5e\u4e8e\u5b83\u7684\u5de5\u4f5c\uff0c\u8fd9\u6837\u6211\u4eec\u53ef\u80fd\u5176\u4ed6\u5730\u65b9\u4e5f\u9700\u8981\u7528\u5230\u8fd9\u4e2a\u7ec4\u4ef6\uff0c\u4f46\u662f\u5904\u7406\u65b9\u5f0f\u7a0d\u5fae\u4e0d\u540c\uff0c\u5c31\u5f88\u9ebb\u70e6\u4e86\u3002 \u53cd\u5411\u7ee7\u627f \u00b6 \u53cd\u5411\u7ee7\u627f(Inheritance Inversion)\uff0c\u7b80\u79f0II\uff0c\u672c\u6765\u6211\u662f\u53eb\u7ee7\u627f\u53cd\u8f6c\u7684...\u56e0\u4e3a\u6709\u4e2a\u6a21\u5f0f\u53eb\u63a7\u5236\u53cd\u8f6c\u561b... \u8ddf\u5c5e\u6027\u4ee3\u7406\u7684\u65b9\u5f0f\u4e0d\u540c\u7684\u662f\uff0cII\u91c7\u7528\u901a\u8fc7 \u53bb\u7ee7\u627fWrappedComponent\uff0c\u672c\u6765\u662f\u4e00\u79cd\u5d4c\u5957\u7684\u5173\u7cfb\uff0c\u7ed3\u679cII\u8fd4\u56de\u7684\u7ec4\u4ef6\u5374\u7ee7\u627f\u4e86WrappedComponent\uff0c\u8fd9\u770b\u8d77\u6765\u662f\u4e00\u79cd\u53cd\u8f6c\u7684\u5173\u7cfb\u3002 \u901a\u8fc7\u7ee7\u627fWrappedComponent\uff0c\u9664\u4e86\u4e00\u4e9b\u9759\u6001\u65b9\u6cd5\uff0c\u5305\u62ec\u751f\u547d\u5468\u671f\uff0cstate\uff0c\u5404\u79cdfunction\uff0c\u6211\u4eec\u90fd\u53ef\u4ee5\u5f97\u5230\u3002\u4e0a\u6817\u5b50\uff1a // usual import React, { Component } from 'react'; import iiHoc from './ii-hoc'; @iiHoc export default class Usual extends Component { constructor() { super(); this.state = { usual: 'usual', } } componentDidMount() { console.log('didMount') } render() { return (<div>Usual</div>) } } //IIHOC import React from 'react'; const iiHoc = WrappedComponent => class extends WrappedComponent { render() { console.log(this.state, 'state'); return super.render(); } } export default iiHoc; iiHoc return\u7684\u7ec4\u4ef6\u901a\u8fc7\u7ee7\u627f\uff0c\u62e5\u6709\u4e86Usual\u7684\u751f\u547d\u5468\u671f\u53ca\u5c5e\u6027\uff0c\u6240\u4ee5didMount\u4f1a\u6253\u5370\uff0cstate\u4e5f\u901a\u8fc7constructor\u6267\u884c\uff0c\u5f97\u5230state.usual\u3002 \u5176\u5b9e\uff0c\u4f60\u8fd8\u53ef\u4ee5\u901a\u8fc7II\uff1a \u6e32\u67d3\u52ab\u6301 \u00b6 \u8fd9\u91ccHOC\u91cc\u5b9a\u4e49\u7684\u7ec4\u4ef6\u7ee7\u627f\u4e86WrappedComponent\u7684render(\u6e32\u67d3)\uff0c\u6211\u4eec\u53ef\u4ee5\u4ee5\u6b64\u8fdb\u884chijack(\u52ab\u6301)\uff0c\u4e5f\u5c31\u662f\u63a7\u5236\u5b83\u7684render\u51fd\u6570\u3002\u6817\u5b50\uff1a //hijack-hoc import React from 'react'; const hijackRenderHoc = config => WrappedComponent => class extends WrappedComponent { render() { const { style = {} } = config; const elementsTree = super.render(); console.log(elementsTree, 'elementsTree'); if (config.type === 'add-style') { return <div style={{...style}}> {elementsTree} </div>; } return elementsTree; } }; export default hijackRenderHoc; //usual @hijackRenderHoc({type: 'add-style', style: { color: 'red'}}) class Usual extends Component { ... } \u6211\u8fd9\u91cc\u901a\u8fc7\u4e8c\u9636\u51fd\u6570\uff0c\u628aconfig\u53c2\u6570\u9884\u5236\u8fdbHOC\uff0c \u7b97\u662f\u4e00\u79cd\u67ef\u7406\u5316\u7684\u601d\u60f3\u3002 \u6817\u5b50\u5f88\u7b80\u5355\uff0c\u8fd9\u4e2ahoc\u5c31\u662f\u6dfb\u52a0\u6837\u5f0f\u7684\u529f\u80fd\u3002\u4f46\u662f\u5b83\u66b4\u9732\u51fa\u6765\u7684\u4fe1\u606f\u5374\u4e0d\u5c11\u3002\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7config\u53c2\u6570\u8fdb\u884c\u903b\u8f91\u5224\u65ad\uff0c\u6709\u6761\u4ef6\u7684\u6e32\u67d3\uff0c\u5f53\u7136\u8fd9\u4e2a\u53c2\u6570\u7684\u4f5c\u7528\u5f88\u591a\uff0creact-redux\u4e2d\u7684connect\u4e0d\u5c31\u662f\u4f20\u5165\u4e86props-key \u561b\u3002\u518d\u5c31\u662f\u6211\u4eec\u8fd8\u53ef\u4ee5\u62ff\u5230WrappedComponent\u7684\u5143\u7d20\u6811\uff0c\u53ef\u4ee5\u8fdb\u884c\u4fee\u6539\u64cd\u4f5c\u3002\u6700\u540e\u5c31\u662f\u6211\u4eec\u901a\u8fc7div\u5305\u88f9\uff0c\u8bbe\u7f6e\u4e86style\u3002\u4f46\u5176\u5b9e\u5177\u4f53\u5982\u4f55\u64cd\u4f5c\u8fd8\u662f\u6839\u636e\u4e1a\u52a1\u903b\u8f91\u53bb\u5904\u7406\u7684... \u6211\u7684\u5e94\u7528\u573a\u666f \u00b6 \u901a\u5e38\u6211\u4f1a\u901a\u8fc7\u9ad8\u9636\u7ec4\u4ef6\u53bb\u4f18\u5316\u4e4b\u524d\u8001\u9879\u76ee\u5199\u7684\u4e0d\u597d\u7684\u5730\u65b9\uff0c\u6bd4\u5982\u4e24\u4e2a\u9875\u9762UI\u51e0\u4e4e\u4e00\u6837\uff0c\u529f\u80fd\u51e0\u4e4e\u76f8\u540c\uff0c\u4ec5\u4ec5\u51e0\u4e2a\u64cd\u4f5c\u4e0d\u592a\u4e00\u6837\uff0c\u5374\u5199\u4e86\u4e24\u4e2a\u8026\u5408\u5f88\u591a\u7684\u9875\u9762\u7ea7\u7ec4\u4ef6\u3002\u5f53\u6211\u53bb\u7ef4\u62a4\u5b83\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u5b83\u7684\u8026\u5408\u6027\u8fc7\u591a\uff0c\u7ecf\u5e38\u4f1a\u6dfb\u52a0\u4e00\u4e2a\u529f\u80fd(\u8fd9\u4e24\u4e2a\u7ec4\u4ef6\u90fd\u8981\u6dfb\u52a0)\uff0c\u6211\u8981\u53bb\u6539\u5b8c\u7b2c\u4e00\u4e2a\u7684\u65f6\u5019\uff0c\u8fd8\u8981\u6539\u7b2c\u4e8c\u4e2a\u3002\u800c\u4e14\u6709\u65f6\u5019\u7531\u4e8e\u6211\u7684\u8bb0\u6027\u4e0d\u597d\uff0c\u4f1a\u5fd8\u6389\u7b2c\u4e8c\u4e2a... \u5c31\u4f1a\u51fa\u73b0bug\u518d\u8fd4\u5de5\u3002\u66f4\u91cd\u8981\u7684\u662f\u7531\u4e8e\u4e2a\u4eba\u6bd4\u8f83\u61d2\uff0c\u4e0d\u60f3\u53bb\u91cd\u6784\u8fd9\u90e8\u5206\u7684\u4ee3\u7801\uff0c\u56e0\u4e3a\u4e1c\u897f\u592a\u591a\u4e86\uff0c\u82b1\u8d39\u592a\u591a\u65f6\u95f4\u3002\u6240\u4ee5\u52a0\u65b0\u529f\u80fd\u7684\u65f6\u5019\uff0c\u6211\u4f1a\u5199\u4e00\u4e2a\u9ad8\u9636\u7ec4\u4ef6\uff0c\u5f80HOC\u91cc\u6dfb\u52a0\u65b9\u6cd5\uff0c\u628a\u90a3\u4e24\u4e2a\u7ec4\u4ef6\u5305\u88c5\u4e00\u4e0b\uff0c\u4e5f\u5c31\u662f\u5c5e\u6027\u4ee3\u7406\u3002\u8fd9\u6837\u65b0\u4ee3\u7801\u5c31\u4e0d\u4f1a\u518d\u51fa\u73b0\u8026\u5408\uff0c\u65e7\u7684\u903b\u8f91\u5e76\u4e0d\u4f1a\u6539\u53d8\uff0c\u8bf4\u4e0d\u5b9a\u54ea\u5929\u5fc3\u60c5\u597d\u5c31\u4f1a\u62bd\u79bb\u4e00\u90e8\u5206\u529f\u80fd\u5230HOC\u91cc\uff0c\u76f4\u5230\u7406\u60f3\u7684\u72b6\u6001\u3002 \u53e6\u4e00\u79cd\u60c5\u51b5\u5c31\u662f\u4e4b\u524d\u5199\u8fc7\u4e00\u4e2a\u7ec4\u4ef6A\uff0c\u505a\u5b8c\u4e0a\u7ebf\uff0c\u4e4b\u540e\u4ea7\u54c1\u52a0\u4e86\u4e00\u4e2a\u65b0\u9700\u6c42\uff0c\u5f88\u5947\u602a\u8981\u505a\u7684\u7ec4\u4ef6B\u8ddfA\u51e0\u4e4e\u4e00\u6a21\u4e00\u6837\uff0c\u4f46\u7a0d\u5fae\u6709\u533a\u522b\u3002\u90a3\u6211\u53ef\u80fd\u5c31\u901a\u8fc7II\u7684\u65b9\u5f0f\u53bb\u7ee7\u627f\u4e4b\u524d\u7684\u7ec4\u4ef6A\uff0c\u6bd4\u5982\u5b83\u5728didMount\u53bbfetch\u8bf7\u6c42\uff0c\u9700\u8981\u7684\u6570\u636e\u662f\u4e00\u6837\u7684\u3002\u4e0d\u540c\u7684\u5730\u65b9\u6211\u5c31\u4f1a\u653e\u5230HOC\u91cc\uff0c\u5b58\u50a8\u65b0\u7684state\u8fd9\u6837\uff0c\u518d\u901a\u8fc7\u52ab\u6301\u6e32\u67d3\uff0c\u628a\u4e0d\u540c\u7684\u5730\u65b9\uff0c\u6dfb\u52a0\u7684\u5730\u65b9\u8fdb\u884c\u5904\u7406\u3002\u4f46\u5176\u5b9e\u8fd9\u7b97Hack\u7684\u4e00\u79cd\u65b9\u5f0f\uff0c\u80fd\u5feb\u901f\u89e3\u51b3\u95ee\u9898\uff0c\u4e5f\u53cd\u6620\u4e86\u7ec4\u4ef6\u8bbe\u8ba1\u89c4\u5212\u4e4b\u521d\u6709\u6240\u4e0d\u8db3(\u539f\u56e0\u6bd4\u8f83\u591a)\u3002 Container\u89e3\u51b3\u4e0d\u4e86\u7684\u65f6\u5019\u751a\u81f3\u4e0d\u592a\u4f18\u96c5\u7684\u65f6\u5019\u3002\u5176\u5b9e\u5927\u90e8\u5206\u65f6\u5019\u5305\u4e00\u5c42Container\u7ec4\u4ef6\u4e5f\u80fd\u505a\u5230\u5dee\u4e0d\u591a\u7684\u6548\u679c\uff0c\u6bd4\u5982\u64cd\u4f5cprops\uff0c\u6e32\u67d3\u52ab\u6301\u3002\u4f46\u5176\u5b9e\u8fd8\u662f\u6709\u5f88\u5927\u533a\u522b\u7684\u3002\u6bd4\u5982\u6211\u4eec\u73b0\u5728\u6709\u4e24\u4e2a\u529f\u80fd\u7684container\uff0c\u6dfb\u52a0\u6837\u5f0f\u548c\u6dfb\u52a0\u5904\u7406\u51fd\u6570\u7684\uff0c\u5bf9Usual\u8fdb\u884c\u5305\u88c5\u3002\u6817\u5b50\uff1a //usual class Usual extends Component { render() { console.log(this.props, 'props'); return <div> Usual </div> } }; export default Usual; //console - Object {handleClick: function} \"props\" import React, { Component } from 'react'; import Usual from './usual'; class StyleContainer extends Component { render() { return (<div style={{ color: '#76d0a3' }}> <div>container</div> <Usual {...this.props} /> </div>); } } export default StyleContainer; import React, { Component } from 'react'; import StyleContainer from './container-add-style'; class FuncContainer extends Component { handleClick() { console.log('click'); } render() { const props = { ...this.props, handleClick: this.handleClick, }; return (<StyleContainer {...props} />); } } export default FuncContainer; \u5916\u5c42Container\u5fc5\u987b\u8981\u5f15\u5165\u5185\u5c42Container\uff0c\u8fdb\u884c\u5305\u88c5\uff0c\u8fd8\u6709props\u7684\u4f20\u9012\uff0c\u540c\u6837\u8981\u6ce8\u610f\u5305\u88c5\u7684\u987a\u5e8f\u3002\u5f53\u7136\u4f60\u53ef\u4ee5\u628a\u6240\u6709\u7684\u5904\u7406\u90fd\u653e\u5230\u4e00\u4e2aContainer\u91cc\u3002\u90a3\u7528HOC\u600e\u4e48\u5904\u7406\u5462\uff0c\u76f8\u4fe1\u5927\u5bb6\u6709\u6e05\u6670\u7684\u7b54\u6848\u4e86\u3002 const addFunc = WrappedComponent => class extends Component { handleClick() { console.log('click'); } render() { const props = { ...this.props, handleClick: this.handleClick, }; return <WrappedComponent {...props} />; } }; const addStyle = WrappedComponent => class extends Component { render() { return (<div style={{ color: '#76d0a3' }}> <WrappedComponent {...this.props} /> </div>); } }; const WrappenComponent = addStyle(addFunc(Usual)); class WrappedUsual extends Component { render() { console.log(this.props, 'props'); return (<div> <WrappedComponent /> </div>); } } \u663e\u7136HOC\u662f\u66f4\u4f18\u96c5\u4e00\u4e9b\u7684\uff0c\u6bcf\u4e2aHOC\u90fd\u5b9a\u4e49\u81ea\u5df1\u72ec\u6709\u7684\u5904\u7406\u903b\u8f91\uff0c\u9700\u8981\u7684\u65f6\u5019\u53ea\u9700\u8981\u53bb\u5305\u88c5\u4f60\u7684\u7ec4\u4ef6\u3002\u76f8\u8f83\u4e8eContainer\u7684\u65b9\u5f0f\uff0cHOC\u8026\u5408\u6027\u66f4\u4f4e\uff0c\u7075\u6d3b\u6027\u66f4\u9ad8\uff0c\u53ef\u4ee5\u81ea\u7531\u7ec4\u5408\uff0c\u66f4\u9002\u5408\u5e94\u4ed8\u590d\u6742\u7684\u4e1a\u52a1\u3002\u5f53\u7136\u5f53\u4f60\u7684\u9700\u6c42\u5f88\u7b80\u5355\u7684\u65f6\u5019\uff0c\u8fd8\u662f\u7528Container\u53bb\u81ea\u7531\u7ec4\u5408\uff0c\u5e94\u7528\u573a\u666f\u9700\u8981\u4f60\u6e05\u695a\u3002 \u6ce8\u610f\u70b9(\u7ea6\u675f) \u00b6 \u5176\u5b9e\u5b98\u7f51\u6709\u5f88\u591a\uff0c\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u3002 \u6700\u91cd\u8981\u7684\u539f\u5219\u5c31\u662f\uff0c\u6ce8\u610f\u9ad8\u9636\u7ec4\u4ef6\u4e0d\u4f1a\u4fee\u6539\u5b50\u7ec4\u4ef6\uff0c\u4e5f\u4e0d\u62f7\u8d1d\u5b50\u7ec4\u4ef6\u7684\u884c\u4e3a\u3002\u9ad8\u9636\u7ec4\u4ef6\u53ea\u662f\u901a\u8fc7\u7ec4\u5408\u7684\u65b9\u5f0f\u5c06\u5b50\u7ec4\u4ef6\u5305\u88c5\u5728\u5bb9\u5668\u7ec4\u4ef6\u4e2d\uff0c\u662f\u4e00\u4e2a\u65e0\u526f\u4f5c\u7528\u7684\u7eaf\u51fd\u6570 \u8981\u7ed9hoc\u6dfb\u52a0class\u540d\uff0c\u4fbf\u4e8edebugger\u3002\u6211\u4e0a\u9762\u7684\u597d\u591a\u6817\u5b50\u7ec4\u4ef6\u90fd\u6ca1\u5199class \u540d\uff0c\u8bf7\u4e0d\u8981\u5b66\u6211\uff0c\u56e0\u4e3a\u6211\u5b9e\u5728\u60f3\u4e0d\u51fa\u53eb\u4ec0\u4e48\u540d\u4e86... \u5f53\u6211\u4eec\u5728chrome\u91cc\u5e94\u7528React-Developer-Tools\u7684\u65f6\u5019\uff0c\u7ec4\u4ef6\u7ed3\u6784\u53ef\u4ee5\u4e00\u76ee\u4e86\u7136\uff0c\u6240\u4ee5DisplayName\u6700\u597d\u8fd8\u662f\u52a0\u4e0a\u3002 \u9759\u6001\u65b9\u6cd5\u8981\u590d\u5236 \u65e0\u8bbaPP\u8fd8\u662fII\u7684\u65b9\u5f0f\uff0cWrappedComponent\u7684\u9759\u6001\u65b9\u6cd5\u90fd\u4e0d\u4f1a\u590d\u5236\uff0c\u5982\u679c\u8981\u7528\u9700\u8981\u6211\u4eec\u5355\u72ec\u590d\u5236\u3002 refs\u4e0d\u4f1a\u4f20\u9012\u3002 \u610f\u601d\u5c31\u662fHOC\u91cc\u6307\u5b9a\u7684ref\uff0c\u5e76\u4e0d\u4f1a\u4f20\u9012\u5230\u5b50\u7ec4\u4ef6\uff0c\u5982\u679c\u4f60\u8981\u4f7f\u7528\u6700\u597d\u5199\u56de\u8c03\u51fd\u6570\u901a\u8fc7props\u4f20\u4e0b\u53bb\u3002 \u4e0d\u8981\u5728render\u65b9\u6cd5\u5185\u90e8\u4f7f\u7528\u9ad8\u9636\u7ec4\u4ef6\u3002\u7b80\u5355\u6765\u8bf4react\u7684\u5dee\u5206\u7b97\u6cd5\u4f1a\u53bb\u6bd4\u8f83 NowElement === OldElement, \u6765\u51b3\u5b9a\u8981\u4e0d\u8981\u66ff\u6362\u8fd9\u4e2aelementTree\u3002\u4e5f\u5c31\u662f\u5982\u679c\u4f60\u6bcf\u6b21\u8fd4\u56de\u7684\u7ed3\u679c\u90fd\u4e0d\u662f\u4e00\u4e2a\u5f15\u7528\uff0creact\u4ee5\u4e3a\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u53bb\u66f4\u66ff\u8fd9\u4e2a\u7ec4\u4ef6\u4f1a\u5bfc\u81f4\u4e4b\u524d\u7ec4\u4ef6\u7684\u72b6\u6001\u4e22\u5931\u3002 // HOC\u4e0d\u8981\u653e\u5230render\u51fd\u6570\u91cc\u9762 class WrappedUsual extends Component { render() { const WrappenComponent = addStyle(addFunc(Usual)); console.log(this.props, 'props'); return (<div> <WrappedComponent /> </div>); } } \u4f7f\u7528compose\u7ec4\u5408HOC\u3002\u51fd\u6570\u5f0f\u7f16\u7a0b\u7684\u5957\u8def... \u4f8b\u5982\u5e94\u7528redux\u4e2d\u7684middleware\u4ee5\u589e\u5f3a\u529f\u80fd\u3002 redux-middleware\u89e3\u6790 const addFuncHOC = ... const addStyleHOC = ...//\u7701\u7565 const compose = (...funcs) => component => { if (funcs.lenght === 0) { return component; } const last = funcs[funcs.length - 1]; return funcs.reduceRight((res, cur) => cur(res), last(component)); }; const WrappedComponent = compose(addFuncHOC, addStyleHOC)(Usual);","title":"React \u9ad8\u9636\u7ec4\u4ef6.md"},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/#react","text":"","title":"React\u8fdb\u9636\u4e4b\u9ad8\u9636\u7ec4\u4ef6"},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/#_1","text":"\u6211\u4eec\u90fd\u77e5\u9053\u9ad8\u9636\u51fd\u6570\u662f\u4ec0\u4e48, \u9ad8\u9636\u7ec4\u4ef6\u5dee\u4e0d\u591a\u7684\u7528\u6cd5\uff0c \u4f20\u5165\u7684\u53c2\u6570\u53d8\u6210\u4e86react\u7ec4\u4ef6\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u7ec4\u4ef6 A higher-order component is a function that takes a component and returns a new component. \u5f62\u5982: const EnhancedComponent = higherOrderComponent ( WrappedComponent ); \u9ad8\u9636\u7ec4\u4ef6\u662freact\u5e94\u7528\u4e2d\u5f88\u91cd\u8981\u7684\u4e00\u90e8\u5206\uff0c\u6700\u5927\u7684\u7279\u70b9\u5c31\u662f\u91cd\u7528\u7ec4\u4ef6\u903b\u8f91\u3002\u5b83\u5e76\u4e0d\u662f\u7531React API\u5b9a\u4e49\u51fa\u6765\u7684\u529f\u80fd\uff0c\u800c\u662f\u7531React\u7684\u7ec4\u5408\u7279\u6027\u884d\u751f\u51fa\u6765\u7684\u4e00\u79cd\u8bbe\u8ba1\u6a21\u5f0f\u3002\u5982\u679c\u4f60\u7528\u8fc7redux\uff0c\u90a3\u4f60\u5c31\u4e00\u5b9a\u63a5\u89e6\u8fc7\u9ad8\u9636\u7ec4\u4ef6\uff0c\u56e0\u4e3areact-redux\u4e2d\u7684connect\u5c31\u662f\u4e00\u4e2a\u9ad8\u9636\u7ec4\u4ef6\u3002 \u539f\u6587 https://github.com/sunyongjian/blog/issues/25 \u53e6\u5916\u672c\u6b21demo\u4ee3\u7801\u90fd\u653e\u5728 https://github.com/sunyongjian/hoc-demo \u5148\u6765\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u9ad8\u9636\u7ec4\u4ef6 import React, { Component } from 'react'; import simpleHoc from './simple-hoc'; class Usual extends Component { render() { console.log(this.props, 'props'); return ( <div>Usual</div> ) } } export default simpleHoc(Usual); import React, { Component } from 'react'; const simpleHoc = WrappedComponent => { return class extends Component { render() { return <WrappedComponent {...this.props}/> } } } // \u9ad8\u9636\u7ec4\u4ef6\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u7ec4\u4ef6(WrappedComponent)\uff0c\u5c06\u4f20\u5165\u7684 props \u4f5c\u4e3a\u8fd9\u4e2a\u7ec4\u4ef6\u7684 props export default simpleHoc; \u7ec4\u4ef6Usual\u901a\u8fc7simpleHoc\u7684\u5305\u88c5\uff0c\u6253\u4e86\u4e00\u4e2alog... \u90a3\u4e48\u5f62\u5982simpleHoc\u5c31\u662f\u4e00\u4e2a\u9ad8\u9636\u7ec4\u4ef6\u4e86\uff0c\u901a\u8fc7\u63a5\u6536\u4e00\u4e2a\u7ec4\u4ef6class Usual\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u7ec4\u4ef6class\u3002 \u5176\u5b9e\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u5728\u8fd9\u4e2a\u51fd\u6570\u91cc\uff0c\u6211\u4eec\u53ef\u4ee5\u505a\u5f88\u591a\u64cd\u4f5c\u3002 \u800c\u4e14return\u7684\u7ec4\u4ef6\u540c\u6837\u6709\u81ea\u5df1\u7684\u751f\u547d\u5468\u671f\uff0cfunction\uff0c\u53e6\u5916\uff0c\u6211\u4eec\u770b\u5230\u4e5f\u53ef\u4ee5\u628aprops\u4f20\u7ed9WrappedComponent(\u88ab\u5305\u88c5\u7684\u7ec4\u4ef6)\u3002 \u9ad8\u9636\u7ec4\u4ef6\u7684\u5b9a\u4e49\u6211\u90fd\u662f\u7528\u7bad\u5934\u51fd\u6570\u53bb\u5199\u7684\uff0c\u5982\u6709\u4e0d\u9002\u8bf7\u53c2\u7167 arrow function","title":"\u524d\u8a00"},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/#_2","text":"\u9ad8\u9636\u7ec4\u4ef6\u53ef\u4ee5\u770b\u505a\u662f\u88c5\u9970\u5668\u6a21\u5f0f(Decorator Pattern)\u5728React\u7684\u5b9e\u73b0\u3002\u5373\u5141\u8bb8\u5411\u4e00\u4e2a\u73b0\u6709\u7684\u5bf9\u8c61\u6dfb\u52a0\u65b0\u7684\u529f\u80fd\uff0c\u540c\u65f6\u53c8\u4e0d\u6539\u53d8\u5176\u7ed3\u6784\uff0c\u5c5e\u4e8e\u5305\u88c5\u6a21\u5f0f(Wrapper Pattern)\u7684\u4e00\u79cd\u3002 ES7\u4e2d\u6dfb\u52a0\u4e86\u4e00\u4e2adecorator\u7684\u5c5e\u6027\uff0c\u4f7f\u7528@\u7b26\u8868\u793a\uff0c\u53ef\u4ee5\u66f4\u7cbe\u7b80\u7684\u4e66\u5199\u3002\u90a3\u4e0a\u9762\u7684\u4f8b\u5b50\u5c31\u53ef\u4ee5\u6539\u6210\uff1a import React, { Component } from 'react'; import simpleHoc from './simple-hoc'; @simpleHoc export default class Usual extends Component { render() { return ( <div> Usual </div> ) } } \u662f\u540c\u6837\u7684\u6548\u679c\u3002 \u5f53\u7136\u517c\u5bb9\u6027\u662f\u5b58\u5728\u95ee\u9898\u7684\uff0c\u901a\u5e38\u90fd\u662f\u901a\u8fc7babel\u53bb\u7f16\u8bd1\u7684\u3002 babel\u63d0\u4f9b\u4e86plugin\uff0c\u9ad8\u9636\u7ec4\u4ef6\u7528\u7684\u662f\u7c7b\u88c5\u9970\u5668\uff0c\u6240\u4ee5\u7528 transform-decorators-legacy babel","title":"\u88c5\u9970\u5668\u6a21\u5f0f"},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/#_3","text":"","title":"\u4e24\u79cd\u5f62\u5f0f"},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/#_4","text":"\u5f15\u5165\u91cc\u6211\u4eec\u5199\u7684\u6700\u7b80\u5355\u7684\u5f62\u5f0f\uff0c\u5c31\u662f\u5c5e\u6027\u4ee3\u7406(Props Proxy)\u7684\u5f62\u5f0f\u3002\u901a\u8fc7hoc\u5305\u88c5wrappedComponent\uff0c\u4e5f\u5c31\u662f\u4f8b\u5b50\u4e2d\u7684Usual\uff0c\u672c\u6765\u4f20\u7ed9Usual\u7684props\uff0c\u90fd\u5728hoc\u4e2d\u63a5\u53d7\u5230\u4e86\uff0c\u4e5f\u5c31\u662fprops proxy\u3002 \u7531\u6b64\u6211\u4eec\u53ef\u4ee5\u505a\u4e00\u4e9b\u64cd\u4f5c \u64cd\u4f5cprops \u6700\u76f4\u89c2\u7684\u5c31\u662f\u63a5\u53d7\u5230props\uff0c\u6211\u4eec\u53ef\u4ee5\u505a\u4efb\u4f55\u8bfb\u53d6\uff0c\u7f16\u8f91\uff0c\u5220\u9664\u7684\u5f88\u591a\u81ea\u5b9a\u4e49\u64cd\u4f5c\u3002\u5305\u62echoc\u4e2d\u5b9a\u4e49\u7684\u81ea\u5b9a\u4e49\u4e8b\u4ef6\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7props\u518d\u4f20\u4e0b\u53bb\u3002 import React , { Component } from 'react' ; const propsProxyHoc = WrappedComponent => class extends Component { handleClick () { console . log ( 'click' ); } render () { return ( < WrappedComponent {... this . props } handleClick = { this . handleClick } /> ); } }; export default propsProxyHoc ; \u7136\u540e\u6211\u4eec\u7684Usual\u7ec4\u4ef6render\u7684\u65f6\u5019, console.log(this.props) \u4f1a\u5f97\u5230handleClick. refs\u83b7\u53d6\u7ec4\u4ef6\u5b9e\u4f8b \u5f53\u6211\u4eec\u5305\u88c5Usual\u7684\u65f6\u5019\uff0c\u60f3\u83b7\u53d6\u5230\u5b83\u7684\u5b9e\u4f8b\u600e\u4e48\u529e\uff0c\u53ef\u4ee5\u901a\u8fc7\u5f15\u7528(ref),\u5728Usual\u7ec4\u4ef6\u6302\u8f7d\u7684\u65f6\u5019\uff0c\u4f1a\u6267\u884cref\u7684\u56de\u8c03\u51fd\u6570\uff0c\u5728hoc\u4e2d\u53d6\u5230\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u3002\u901a\u8fc7\u6253\u5370\uff0c\u53ef\u4ee5\u770b\u5230\u5b83\u7684props\uff0c state\uff0c\u90fd\u662f\u53ef\u4ee5\u53d6\u5230\u7684\u3002 import React , { Component } from 'react' ; const refHoc = WrappedComponent => class extends Component { componentDidMount () { console . log ( this . instanceComponent , 'instanceComponent' ); } render () { return ( < WrappedComponent {... this . props } ref = { instanceComponent => this . instanceComponent = instanceComponent } /> ); } }; export default refHoc ; \u62bd\u79bbstate \u8fd9\u91cc\u4e0d\u662f\u901a\u8fc7ref\u83b7\u53d6state\uff0c \u800c\u662f\u901a\u8fc7 { props, \u56de\u8c03\u51fd\u6570 } \u4f20\u9012\u7ed9wrappedComponent\u7ec4\u4ef6\uff0c\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u83b7\u53d6state\u3002\u8fd9\u91cc\u7528\u7684\u6bd4\u8f83\u591a\u7684\u5c31\u662freact\u5904\u7406\u8868\u5355\u7684\u65f6\u5019\u3002\u901a\u5e38react\u5728\u5904\u7406\u8868\u5355\u7684\u65f6\u5019\uff0c\u4e00\u822c\u4f7f\u7528\u7684\u662f\u53d7\u63a7\u7ec4\u4ef6\uff08 \u6587\u6863 \uff09\uff0c\u5373\u628ainput\u90fd\u505a\u6210\u53d7\u63a7\u7684\uff0c\u6539\u53d8value\u7684\u65f6\u5019\uff0c\u7528onChange\u4e8b\u4ef6\u540c\u6b65\u5230state\u4e2d\u3002\u5f53\u7136\u8fd9\u79cd\u64cd\u4f5c\u901a\u8fc7Container\u7ec4\u4ef6\u4e5f\u53ef\u4ee5\u505a\u5230\uff0c\u5177\u4f53\u7684\u533a\u522b\u653e\u5230\u540e\u9762\u53bb\u6bd4\u8f83\u3002\u770b\u4e00\u4e0b\u4ee3\u7801\u5c31\u77e5\u9053\u600e\u4e48\u56de\u4e8b\u4e86\uff1a // \u666e\u901a\u7ec4\u4ef6Login import React, { Component } from 'react'; import formCreate from './form-create'; @formCreate export default class Login extends Component { render() { return ( <div> <div> <label id=\"username\"> \u8d26\u6237 </label> <input name=\"username\" {...this.props.getField('username')}/> </div> <div> <label id=\"password\"> \u5bc6\u7801 </label> <input name=\"password\" {...this.props.getField('password')}/> </div> <div onClick={this.props.handleSubmit}>\u63d0\u4ea4</div> <div>other content</div> </div> ) } } //HOC import React, { Component } from 'react'; const formCreate = WrappedComponent => class extends Component { constructor() { super(); this.state = { fields: {}, } } onChange = key => e => { const { fields } = this.state; fields[key] = e.target.value; this.setState({ fields, }) } handleSubmit = () => { console.log(this.state.fields); } getField = fieldName => { return { onChange: this.onChange(fieldName), } } render() { const props = { ...this.props, handleSubmit: this.handleSubmit, getField: this.getField, } return (<WrappedComponent {...props} />); } }; export default formCreate; \u8fd9\u91cc\u6211\u4eec\u628astate\uff0conChange\u7b49\u65b9\u6cd5\u90fd\u653e\u5230HOC\u91cc\uff0c\u5176\u5b9e\u662f\u9075\u4ece\u7684react\u7ec4\u4ef6\u7684\u4e00\u79cd\u89c4\u8303\uff0c\u5b50\u7ec4\u4ef6\u7b80\u5355\uff0c\u50bb\u74dc\uff0c\u8d1f\u8d23\u5c55\u793a\uff0c\u903b\u8f91\u4e0e\u64cd\u4f5c\u653e\u5230Container\u3002\u6bd4\u5982\u8bf4\u6211\u4eec\u5728HOC\u83b7\u53d6\u5230\u7528\u6237\u540d\u5bc6\u7801\u4e4b\u540e\uff0c\u518d\u53bb\u505a\u5176\u4ed6\u64cd\u4f5c\uff0c\u5c31\u65b9\u4fbf\u591a\u4e86\uff0c\u800cstate\uff0c\u5904\u7406\u51fd\u6570\u653e\u5230Form\u7ec4\u4ef6\u91cc\uff0c\u53ea\u4f1a\u8ba9Form\u66f4\u52a0\u7b28\u91cd\uff0c\u627f\u62c5\u4e86\u672c\u4e0d\u5c5e\u4e8e\u5b83\u7684\u5de5\u4f5c\uff0c\u8fd9\u6837\u6211\u4eec\u53ef\u80fd\u5176\u4ed6\u5730\u65b9\u4e5f\u9700\u8981\u7528\u5230\u8fd9\u4e2a\u7ec4\u4ef6\uff0c\u4f46\u662f\u5904\u7406\u65b9\u5f0f\u7a0d\u5fae\u4e0d\u540c\uff0c\u5c31\u5f88\u9ebb\u70e6\u4e86\u3002","title":"\u5c5e\u6027\u4ee3\u7406"},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/#_5","text":"\u53cd\u5411\u7ee7\u627f(Inheritance Inversion)\uff0c\u7b80\u79f0II\uff0c\u672c\u6765\u6211\u662f\u53eb\u7ee7\u627f\u53cd\u8f6c\u7684...\u56e0\u4e3a\u6709\u4e2a\u6a21\u5f0f\u53eb\u63a7\u5236\u53cd\u8f6c\u561b... \u8ddf\u5c5e\u6027\u4ee3\u7406\u7684\u65b9\u5f0f\u4e0d\u540c\u7684\u662f\uff0cII\u91c7\u7528\u901a\u8fc7 \u53bb\u7ee7\u627fWrappedComponent\uff0c\u672c\u6765\u662f\u4e00\u79cd\u5d4c\u5957\u7684\u5173\u7cfb\uff0c\u7ed3\u679cII\u8fd4\u56de\u7684\u7ec4\u4ef6\u5374\u7ee7\u627f\u4e86WrappedComponent\uff0c\u8fd9\u770b\u8d77\u6765\u662f\u4e00\u79cd\u53cd\u8f6c\u7684\u5173\u7cfb\u3002 \u901a\u8fc7\u7ee7\u627fWrappedComponent\uff0c\u9664\u4e86\u4e00\u4e9b\u9759\u6001\u65b9\u6cd5\uff0c\u5305\u62ec\u751f\u547d\u5468\u671f\uff0cstate\uff0c\u5404\u79cdfunction\uff0c\u6211\u4eec\u90fd\u53ef\u4ee5\u5f97\u5230\u3002\u4e0a\u6817\u5b50\uff1a // usual import React, { Component } from 'react'; import iiHoc from './ii-hoc'; @iiHoc export default class Usual extends Component { constructor() { super(); this.state = { usual: 'usual', } } componentDidMount() { console.log('didMount') } render() { return (<div>Usual</div>) } } //IIHOC import React from 'react'; const iiHoc = WrappedComponent => class extends WrappedComponent { render() { console.log(this.state, 'state'); return super.render(); } } export default iiHoc; iiHoc return\u7684\u7ec4\u4ef6\u901a\u8fc7\u7ee7\u627f\uff0c\u62e5\u6709\u4e86Usual\u7684\u751f\u547d\u5468\u671f\u53ca\u5c5e\u6027\uff0c\u6240\u4ee5didMount\u4f1a\u6253\u5370\uff0cstate\u4e5f\u901a\u8fc7constructor\u6267\u884c\uff0c\u5f97\u5230state.usual\u3002 \u5176\u5b9e\uff0c\u4f60\u8fd8\u53ef\u4ee5\u901a\u8fc7II\uff1a","title":"\u53cd\u5411\u7ee7\u627f"},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/#_6","text":"\u8fd9\u91ccHOC\u91cc\u5b9a\u4e49\u7684\u7ec4\u4ef6\u7ee7\u627f\u4e86WrappedComponent\u7684render(\u6e32\u67d3)\uff0c\u6211\u4eec\u53ef\u4ee5\u4ee5\u6b64\u8fdb\u884chijack(\u52ab\u6301)\uff0c\u4e5f\u5c31\u662f\u63a7\u5236\u5b83\u7684render\u51fd\u6570\u3002\u6817\u5b50\uff1a //hijack-hoc import React from 'react'; const hijackRenderHoc = config => WrappedComponent => class extends WrappedComponent { render() { const { style = {} } = config; const elementsTree = super.render(); console.log(elementsTree, 'elementsTree'); if (config.type === 'add-style') { return <div style={{...style}}> {elementsTree} </div>; } return elementsTree; } }; export default hijackRenderHoc; //usual @hijackRenderHoc({type: 'add-style', style: { color: 'red'}}) class Usual extends Component { ... } \u6211\u8fd9\u91cc\u901a\u8fc7\u4e8c\u9636\u51fd\u6570\uff0c\u628aconfig\u53c2\u6570\u9884\u5236\u8fdbHOC\uff0c \u7b97\u662f\u4e00\u79cd\u67ef\u7406\u5316\u7684\u601d\u60f3\u3002 \u6817\u5b50\u5f88\u7b80\u5355\uff0c\u8fd9\u4e2ahoc\u5c31\u662f\u6dfb\u52a0\u6837\u5f0f\u7684\u529f\u80fd\u3002\u4f46\u662f\u5b83\u66b4\u9732\u51fa\u6765\u7684\u4fe1\u606f\u5374\u4e0d\u5c11\u3002\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7config\u53c2\u6570\u8fdb\u884c\u903b\u8f91\u5224\u65ad\uff0c\u6709\u6761\u4ef6\u7684\u6e32\u67d3\uff0c\u5f53\u7136\u8fd9\u4e2a\u53c2\u6570\u7684\u4f5c\u7528\u5f88\u591a\uff0creact-redux\u4e2d\u7684connect\u4e0d\u5c31\u662f\u4f20\u5165\u4e86props-key \u561b\u3002\u518d\u5c31\u662f\u6211\u4eec\u8fd8\u53ef\u4ee5\u62ff\u5230WrappedComponent\u7684\u5143\u7d20\u6811\uff0c\u53ef\u4ee5\u8fdb\u884c\u4fee\u6539\u64cd\u4f5c\u3002\u6700\u540e\u5c31\u662f\u6211\u4eec\u901a\u8fc7div\u5305\u88f9\uff0c\u8bbe\u7f6e\u4e86style\u3002\u4f46\u5176\u5b9e\u5177\u4f53\u5982\u4f55\u64cd\u4f5c\u8fd8\u662f\u6839\u636e\u4e1a\u52a1\u903b\u8f91\u53bb\u5904\u7406\u7684...","title":"\u6e32\u67d3\u52ab\u6301"},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/#_7","text":"\u901a\u5e38\u6211\u4f1a\u901a\u8fc7\u9ad8\u9636\u7ec4\u4ef6\u53bb\u4f18\u5316\u4e4b\u524d\u8001\u9879\u76ee\u5199\u7684\u4e0d\u597d\u7684\u5730\u65b9\uff0c\u6bd4\u5982\u4e24\u4e2a\u9875\u9762UI\u51e0\u4e4e\u4e00\u6837\uff0c\u529f\u80fd\u51e0\u4e4e\u76f8\u540c\uff0c\u4ec5\u4ec5\u51e0\u4e2a\u64cd\u4f5c\u4e0d\u592a\u4e00\u6837\uff0c\u5374\u5199\u4e86\u4e24\u4e2a\u8026\u5408\u5f88\u591a\u7684\u9875\u9762\u7ea7\u7ec4\u4ef6\u3002\u5f53\u6211\u53bb\u7ef4\u62a4\u5b83\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u5b83\u7684\u8026\u5408\u6027\u8fc7\u591a\uff0c\u7ecf\u5e38\u4f1a\u6dfb\u52a0\u4e00\u4e2a\u529f\u80fd(\u8fd9\u4e24\u4e2a\u7ec4\u4ef6\u90fd\u8981\u6dfb\u52a0)\uff0c\u6211\u8981\u53bb\u6539\u5b8c\u7b2c\u4e00\u4e2a\u7684\u65f6\u5019\uff0c\u8fd8\u8981\u6539\u7b2c\u4e8c\u4e2a\u3002\u800c\u4e14\u6709\u65f6\u5019\u7531\u4e8e\u6211\u7684\u8bb0\u6027\u4e0d\u597d\uff0c\u4f1a\u5fd8\u6389\u7b2c\u4e8c\u4e2a... \u5c31\u4f1a\u51fa\u73b0bug\u518d\u8fd4\u5de5\u3002\u66f4\u91cd\u8981\u7684\u662f\u7531\u4e8e\u4e2a\u4eba\u6bd4\u8f83\u61d2\uff0c\u4e0d\u60f3\u53bb\u91cd\u6784\u8fd9\u90e8\u5206\u7684\u4ee3\u7801\uff0c\u56e0\u4e3a\u4e1c\u897f\u592a\u591a\u4e86\uff0c\u82b1\u8d39\u592a\u591a\u65f6\u95f4\u3002\u6240\u4ee5\u52a0\u65b0\u529f\u80fd\u7684\u65f6\u5019\uff0c\u6211\u4f1a\u5199\u4e00\u4e2a\u9ad8\u9636\u7ec4\u4ef6\uff0c\u5f80HOC\u91cc\u6dfb\u52a0\u65b9\u6cd5\uff0c\u628a\u90a3\u4e24\u4e2a\u7ec4\u4ef6\u5305\u88c5\u4e00\u4e0b\uff0c\u4e5f\u5c31\u662f\u5c5e\u6027\u4ee3\u7406\u3002\u8fd9\u6837\u65b0\u4ee3\u7801\u5c31\u4e0d\u4f1a\u518d\u51fa\u73b0\u8026\u5408\uff0c\u65e7\u7684\u903b\u8f91\u5e76\u4e0d\u4f1a\u6539\u53d8\uff0c\u8bf4\u4e0d\u5b9a\u54ea\u5929\u5fc3\u60c5\u597d\u5c31\u4f1a\u62bd\u79bb\u4e00\u90e8\u5206\u529f\u80fd\u5230HOC\u91cc\uff0c\u76f4\u5230\u7406\u60f3\u7684\u72b6\u6001\u3002 \u53e6\u4e00\u79cd\u60c5\u51b5\u5c31\u662f\u4e4b\u524d\u5199\u8fc7\u4e00\u4e2a\u7ec4\u4ef6A\uff0c\u505a\u5b8c\u4e0a\u7ebf\uff0c\u4e4b\u540e\u4ea7\u54c1\u52a0\u4e86\u4e00\u4e2a\u65b0\u9700\u6c42\uff0c\u5f88\u5947\u602a\u8981\u505a\u7684\u7ec4\u4ef6B\u8ddfA\u51e0\u4e4e\u4e00\u6a21\u4e00\u6837\uff0c\u4f46\u7a0d\u5fae\u6709\u533a\u522b\u3002\u90a3\u6211\u53ef\u80fd\u5c31\u901a\u8fc7II\u7684\u65b9\u5f0f\u53bb\u7ee7\u627f\u4e4b\u524d\u7684\u7ec4\u4ef6A\uff0c\u6bd4\u5982\u5b83\u5728didMount\u53bbfetch\u8bf7\u6c42\uff0c\u9700\u8981\u7684\u6570\u636e\u662f\u4e00\u6837\u7684\u3002\u4e0d\u540c\u7684\u5730\u65b9\u6211\u5c31\u4f1a\u653e\u5230HOC\u91cc\uff0c\u5b58\u50a8\u65b0\u7684state\u8fd9\u6837\uff0c\u518d\u901a\u8fc7\u52ab\u6301\u6e32\u67d3\uff0c\u628a\u4e0d\u540c\u7684\u5730\u65b9\uff0c\u6dfb\u52a0\u7684\u5730\u65b9\u8fdb\u884c\u5904\u7406\u3002\u4f46\u5176\u5b9e\u8fd9\u7b97Hack\u7684\u4e00\u79cd\u65b9\u5f0f\uff0c\u80fd\u5feb\u901f\u89e3\u51b3\u95ee\u9898\uff0c\u4e5f\u53cd\u6620\u4e86\u7ec4\u4ef6\u8bbe\u8ba1\u89c4\u5212\u4e4b\u521d\u6709\u6240\u4e0d\u8db3(\u539f\u56e0\u6bd4\u8f83\u591a)\u3002 Container\u89e3\u51b3\u4e0d\u4e86\u7684\u65f6\u5019\u751a\u81f3\u4e0d\u592a\u4f18\u96c5\u7684\u65f6\u5019\u3002\u5176\u5b9e\u5927\u90e8\u5206\u65f6\u5019\u5305\u4e00\u5c42Container\u7ec4\u4ef6\u4e5f\u80fd\u505a\u5230\u5dee\u4e0d\u591a\u7684\u6548\u679c\uff0c\u6bd4\u5982\u64cd\u4f5cprops\uff0c\u6e32\u67d3\u52ab\u6301\u3002\u4f46\u5176\u5b9e\u8fd8\u662f\u6709\u5f88\u5927\u533a\u522b\u7684\u3002\u6bd4\u5982\u6211\u4eec\u73b0\u5728\u6709\u4e24\u4e2a\u529f\u80fd\u7684container\uff0c\u6dfb\u52a0\u6837\u5f0f\u548c\u6dfb\u52a0\u5904\u7406\u51fd\u6570\u7684\uff0c\u5bf9Usual\u8fdb\u884c\u5305\u88c5\u3002\u6817\u5b50\uff1a //usual class Usual extends Component { render() { console.log(this.props, 'props'); return <div> Usual </div> } }; export default Usual; //console - Object {handleClick: function} \"props\" import React, { Component } from 'react'; import Usual from './usual'; class StyleContainer extends Component { render() { return (<div style={{ color: '#76d0a3' }}> <div>container</div> <Usual {...this.props} /> </div>); } } export default StyleContainer; import React, { Component } from 'react'; import StyleContainer from './container-add-style'; class FuncContainer extends Component { handleClick() { console.log('click'); } render() { const props = { ...this.props, handleClick: this.handleClick, }; return (<StyleContainer {...props} />); } } export default FuncContainer; \u5916\u5c42Container\u5fc5\u987b\u8981\u5f15\u5165\u5185\u5c42Container\uff0c\u8fdb\u884c\u5305\u88c5\uff0c\u8fd8\u6709props\u7684\u4f20\u9012\uff0c\u540c\u6837\u8981\u6ce8\u610f\u5305\u88c5\u7684\u987a\u5e8f\u3002\u5f53\u7136\u4f60\u53ef\u4ee5\u628a\u6240\u6709\u7684\u5904\u7406\u90fd\u653e\u5230\u4e00\u4e2aContainer\u91cc\u3002\u90a3\u7528HOC\u600e\u4e48\u5904\u7406\u5462\uff0c\u76f8\u4fe1\u5927\u5bb6\u6709\u6e05\u6670\u7684\u7b54\u6848\u4e86\u3002 const addFunc = WrappedComponent => class extends Component { handleClick() { console.log('click'); } render() { const props = { ...this.props, handleClick: this.handleClick, }; return <WrappedComponent {...props} />; } }; const addStyle = WrappedComponent => class extends Component { render() { return (<div style={{ color: '#76d0a3' }}> <WrappedComponent {...this.props} /> </div>); } }; const WrappenComponent = addStyle(addFunc(Usual)); class WrappedUsual extends Component { render() { console.log(this.props, 'props'); return (<div> <WrappedComponent /> </div>); } } \u663e\u7136HOC\u662f\u66f4\u4f18\u96c5\u4e00\u4e9b\u7684\uff0c\u6bcf\u4e2aHOC\u90fd\u5b9a\u4e49\u81ea\u5df1\u72ec\u6709\u7684\u5904\u7406\u903b\u8f91\uff0c\u9700\u8981\u7684\u65f6\u5019\u53ea\u9700\u8981\u53bb\u5305\u88c5\u4f60\u7684\u7ec4\u4ef6\u3002\u76f8\u8f83\u4e8eContainer\u7684\u65b9\u5f0f\uff0cHOC\u8026\u5408\u6027\u66f4\u4f4e\uff0c\u7075\u6d3b\u6027\u66f4\u9ad8\uff0c\u53ef\u4ee5\u81ea\u7531\u7ec4\u5408\uff0c\u66f4\u9002\u5408\u5e94\u4ed8\u590d\u6742\u7684\u4e1a\u52a1\u3002\u5f53\u7136\u5f53\u4f60\u7684\u9700\u6c42\u5f88\u7b80\u5355\u7684\u65f6\u5019\uff0c\u8fd8\u662f\u7528Container\u53bb\u81ea\u7531\u7ec4\u5408\uff0c\u5e94\u7528\u573a\u666f\u9700\u8981\u4f60\u6e05\u695a\u3002","title":"\u6211\u7684\u5e94\u7528\u573a\u666f"},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/#_8","text":"\u5176\u5b9e\u5b98\u7f51\u6709\u5f88\u591a\uff0c\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u3002 \u6700\u91cd\u8981\u7684\u539f\u5219\u5c31\u662f\uff0c\u6ce8\u610f\u9ad8\u9636\u7ec4\u4ef6\u4e0d\u4f1a\u4fee\u6539\u5b50\u7ec4\u4ef6\uff0c\u4e5f\u4e0d\u62f7\u8d1d\u5b50\u7ec4\u4ef6\u7684\u884c\u4e3a\u3002\u9ad8\u9636\u7ec4\u4ef6\u53ea\u662f\u901a\u8fc7\u7ec4\u5408\u7684\u65b9\u5f0f\u5c06\u5b50\u7ec4\u4ef6\u5305\u88c5\u5728\u5bb9\u5668\u7ec4\u4ef6\u4e2d\uff0c\u662f\u4e00\u4e2a\u65e0\u526f\u4f5c\u7528\u7684\u7eaf\u51fd\u6570 \u8981\u7ed9hoc\u6dfb\u52a0class\u540d\uff0c\u4fbf\u4e8edebugger\u3002\u6211\u4e0a\u9762\u7684\u597d\u591a\u6817\u5b50\u7ec4\u4ef6\u90fd\u6ca1\u5199class \u540d\uff0c\u8bf7\u4e0d\u8981\u5b66\u6211\uff0c\u56e0\u4e3a\u6211\u5b9e\u5728\u60f3\u4e0d\u51fa\u53eb\u4ec0\u4e48\u540d\u4e86... \u5f53\u6211\u4eec\u5728chrome\u91cc\u5e94\u7528React-Developer-Tools\u7684\u65f6\u5019\uff0c\u7ec4\u4ef6\u7ed3\u6784\u53ef\u4ee5\u4e00\u76ee\u4e86\u7136\uff0c\u6240\u4ee5DisplayName\u6700\u597d\u8fd8\u662f\u52a0\u4e0a\u3002 \u9759\u6001\u65b9\u6cd5\u8981\u590d\u5236 \u65e0\u8bbaPP\u8fd8\u662fII\u7684\u65b9\u5f0f\uff0cWrappedComponent\u7684\u9759\u6001\u65b9\u6cd5\u90fd\u4e0d\u4f1a\u590d\u5236\uff0c\u5982\u679c\u8981\u7528\u9700\u8981\u6211\u4eec\u5355\u72ec\u590d\u5236\u3002 refs\u4e0d\u4f1a\u4f20\u9012\u3002 \u610f\u601d\u5c31\u662fHOC\u91cc\u6307\u5b9a\u7684ref\uff0c\u5e76\u4e0d\u4f1a\u4f20\u9012\u5230\u5b50\u7ec4\u4ef6\uff0c\u5982\u679c\u4f60\u8981\u4f7f\u7528\u6700\u597d\u5199\u56de\u8c03\u51fd\u6570\u901a\u8fc7props\u4f20\u4e0b\u53bb\u3002 \u4e0d\u8981\u5728render\u65b9\u6cd5\u5185\u90e8\u4f7f\u7528\u9ad8\u9636\u7ec4\u4ef6\u3002\u7b80\u5355\u6765\u8bf4react\u7684\u5dee\u5206\u7b97\u6cd5\u4f1a\u53bb\u6bd4\u8f83 NowElement === OldElement, \u6765\u51b3\u5b9a\u8981\u4e0d\u8981\u66ff\u6362\u8fd9\u4e2aelementTree\u3002\u4e5f\u5c31\u662f\u5982\u679c\u4f60\u6bcf\u6b21\u8fd4\u56de\u7684\u7ed3\u679c\u90fd\u4e0d\u662f\u4e00\u4e2a\u5f15\u7528\uff0creact\u4ee5\u4e3a\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u53bb\u66f4\u66ff\u8fd9\u4e2a\u7ec4\u4ef6\u4f1a\u5bfc\u81f4\u4e4b\u524d\u7ec4\u4ef6\u7684\u72b6\u6001\u4e22\u5931\u3002 // HOC\u4e0d\u8981\u653e\u5230render\u51fd\u6570\u91cc\u9762 class WrappedUsual extends Component { render() { const WrappenComponent = addStyle(addFunc(Usual)); console.log(this.props, 'props'); return (<div> <WrappedComponent /> </div>); } } \u4f7f\u7528compose\u7ec4\u5408HOC\u3002\u51fd\u6570\u5f0f\u7f16\u7a0b\u7684\u5957\u8def... \u4f8b\u5982\u5e94\u7528redux\u4e2d\u7684middleware\u4ee5\u589e\u5f3a\u529f\u80fd\u3002 redux-middleware\u89e3\u6790 const addFuncHOC = ... const addStyleHOC = ...//\u7701\u7565 const compose = (...funcs) => component => { if (funcs.lenght === 0) { return component; } const last = funcs[funcs.length - 1]; return funcs.reduceRight((res, cur) => cur(res), last(component)); }; const WrappedComponent = compose(addFuncHOC, addStyleHOC)(Usual);","title":"\u6ce8\u610f\u70b9(\u7ea6\u675f)"},{"location":"react/React-Design%20Principles/","text":"React Design Principles \u00b6 We wrote this document so that you have a better idea of how we decide what React does and what React doesn\u2019t do, and what our development philosophy is like. While we are excited to see community contributions, we are not likely to choose a path that violates one or more of these principles. \u5199\u8fd9\u7bc7\u6587\u6863\u7684\u76ee\u7779\u662f\u4ecb\u7ecdReact\u505a\u4e86\u4ec0\u4e48\u3002\u6211\u4eec\u5efa\u8bae\u4f7f\u7528React\u65f6\u4e0d\u8981\u8fdd\u80cc\u8fd9\u6837\u7684\u539f\u5219\u3002\u8fd9\u4e2a\u6587\u6863\u5728\u4e8e\u5bf9React\u7684\u7406\u89e3\uff0c\u5e76\u4e0d\u662fReact\u7684\u5e94\u7528\u6216\u8005\u7ec4\u4ef6\u3002 Note: This document assumes a strong understanding of React. It describes the design principles of React itself , not React components or applications. For an introduction to React, check out Thinking in React instead. Composition \u00b6 The key feature of React is composition of components. Components written by different people should work well together. It is important to us that you can add functionality to a component without causing rippling changes throughout the codebase. React\u7684\u6838\u5fc3\u7279\u70b9\u662f\u7531\u7ec4\u4ef6\u7ec4\u6210\u3002\u4e0d\u540c\u4eba\u7f16\u5199\u7684\u7ec4\u4ef6\u5e94\u8be5\u5171\u540c\u5de5\u4f5c\uff08\u6ca1\u6709\u51b2\u7a81\uff09\u3002\u5bf9\u4e8e\u4e00\u4e2a\u7ec4\u4ef6\u51fd\u6570\u5316\u7684\u8bbe\u8ba1\uff0c\u4f60\u4e0d\u9700\u8981\u8003\u8651\u5185\u90e8\u7684\u53d8\u5316\u3002 For example, it should be possible to introduce some local state into a component without changing any of the components using it. Similarly, it should be possible to add some initialization and teardown code to any component when necessary. \u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u4e0d\u9700\u8981\u6539\u53d8\u4efb\u4f55\u4f7f\u7528\u7684\u7ec4\u4ef6\uff0c\u800c\u53ea\u9700\u8981\u4f20\u5165\u4e00\u4e9b\u672c\u5730\u7684state\u53c2\u6570\u3002\uff08React\u7ec4\u4ef6\u5bf9\u5916\u66b4\u9732\u7684\u63a5\u53e3\u9700\u8981\u5b8c\u6574\uff0c\u53ea\u9700\u8981\u7ed9\u51fa\u63a5\u53e3\uff0c\u5176\u4ed6\u4eba\u5373\u53ef\u6b63\u786e\u4f7f\u7528\uff09\u3002\u540c\u7406\uff0c\u5982\u679c\u5fc5\u987b\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u7ed9\u7ec4\u4ef6\u589e\u52a0\u4e00\u4e9b\u521d\u59cb\u5316\u7684\u6570\u636e\u548c\u5378\u8f7d\u7684\u4ee3\u7801\u3002 There is nothing \u201cbad\u201d about using state or lifecycle hooks in components. Like any powerful feature, they should be used in moderation, but we have no intention to remove them. On the contrary, we think they are integral parts of what makes React useful. We might enable more functional patterns in the future, but both local state and lifecycle hooks will be a part of that model. \u5728\u4e00\u4e2a\u7ec4\u4ef6\u4e2d\uff0c\u4f7f\u7528state\u6216\u8005\u751f\u547d\u5468\u671f\u51fd\u6570\u5e76\u4e0d\u662f\u574f\u4e8b\u3002\u5c31\u50cf\u4efb\u4f55\u4e00\u4e2a\u5f3a\u5927\u7684\u7279\u70b9\uff0c\u4ed6\u4eec\u9700\u8981\u9002\u5ea6\u4f7f\u7528\uff0c\u4f46\u662f\u6211\u4eec\u65e0\u610f\u5220\u9664\u8fd9\u90e8\u5206\u3002\u76f8\u53cd\uff0c\u6211\u4eec\u8ba4\u4e3a\uff0c\u8fd9\u90e8\u5206\u4ee3\u7801\u662f\u7684React\u66f4\u6709\u7528\u3002\u5c06\u6765\u6211\u4eec\u4f1a\u4f7f\u7528\u51fd\u6570\u5f0f\u7f16\u7a0b\uff0c\u4f46\u662f\uff0c\u5728\u8fd9\u4e2a\u6a21\u578b\u4e2d\u4ecd\u7136\u4f1a\u4fdd\u7559\u672c\u5730\u7684state\u548c\u751f\u547d\u5468\u671f\u51fd\u6570\u3002 Components are often described as \u201cjust functions\u201d but in our view they need to be more than that to be useful. In React, components describe any composable behavior, and this includes rendering, lifecycle, and state. Some external libraries like Relay augment components with other responsibilities such as describing data dependencies. It is possible that those ideas might make it back into React too in some form. \u7ec4\u4ef6\u7ecf\u5e38\u88ab\u63cf\u8ff0\u4e3a\u201c\u53ea\u662f\u7b80\u5355\u7684\u51fd\u6570\u201d\uff0c\u4f46\u662f\u6211\u4eec\u8ba4\u4e3a\u4ed6\u7684\u7528\u5904\u66f4\u5927\u3002\u5728React\u4e2d\uff0c\u7ec4\u4ef7\u63cf\u8ff0\u4efb\u4f55\u4efb\u4f55\u53ef\u7ec4\u5408\u7684\u884c\u4e3a\uff0c\u8fd9\u5305\u62ecrender\uff0clifestyle\uff0cstate\u3002 Common Abstraction \u00b6 In general we resist adding features that can be implemented in userland. We don\u2019t want to bloat your apps with useless library code. However, there are exceptions to this. For example, if React didn\u2019t provide support for local state or lifecycle hooks, people would create custom abstractions for them. When there are multiple abstractions competing, React can\u2019t enforce or take advantage of the properties of either of them. It has to work with the lowest common denominator. This is why sometimes we add features to React itself. If we notice that many components implement a certain feature in incompatible or inefficient ways, we might prefer to bake it into React. We don\u2019t do it lightly. When we do it, it\u2019s because we are confident that raising the abstraction level benefits the whole ecosystem. State, lifecycle hooks, cross-browser event normalization are good examples of this. \u901a\u5e38\uff0c\u6211\u4eec\u62d2\u7edd\u6dfb\u52a0\u53ef\u4ee5\u5728\u7528\u6237\u73af\u5883\u4e2d\u5b9e\u73b0\u7684\u529f\u80fd\u3002\u6211\u4eec\u4e0d\u60f3\u4f7f\u7528\u65e0\u7528\u7684\u5e93\u4ee3\u7801\u6765\u5938\u5927\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u4f46\u662f\uff0c\u4e5f\u6709\u4f8b\u5916\u3002 \u4f8b\u5982\uff0c\u5982\u679cReact\u4e0d\u63d0\u4f9b\u5bf9\u672c\u5730\u72b6\u6001\u6216\u751f\u547d\u5468\u671f\u6302\u94a9\u7684\u652f\u6301\uff0c\u4eba\u4eec\u5c06\u4e3a\u5176\u521b\u5efa\u81ea\u5b9a\u4e49\u62bd\u8c61\u3002\u5f53\u6709\u591a\u4e2a\u62bd\u8c61\u7ade\u4e89\u65f6\uff0cReact\u65e0\u6cd5\u5f3a\u5236\u6216\u5229\u7528\u5176\u4e2d\u4efb\u4f55\u4e00\u4e2a\u7684\u5c5e\u6027\u3002\u5b83\u5fc5\u987b\u4f7f\u7528\u6700\u4f4e\u516c\u5206\u6bcd\u6765\u5de5\u4f5c\u3002 \u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6709\u65f6\u6211\u4eec\u5411React\u672c\u8eab\u6dfb\u52a0\u529f\u80fd\u7684\u539f\u56e0\u3002\u5982\u679c\u6211\u4eec\u6ce8\u610f\u5230\u8bb8\u591a\u7ec4\u4ef6\u4ee5\u4e0d\u517c\u5bb9\u6216\u4f4e\u6548\u7684\u65b9\u5f0f\u5b9e\u73b0\u4e86\u67d0\u4e2a\u529f\u80fd\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u80fd\u66f4\u559c\u6b22\u5c06\u5176\u70d8\u7119\u5230React\u4e2d\u3002\u6211\u4eec\u4e0d\u80fd\u8f7b\u6613\u505a\u5230\u3002\u5f53\u6211\u4eec\u8fd9\u6837\u505a\u65f6\uff0c\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u6709\u4fe1\u5fc3\u63d0\u9ad8\u62bd\u8c61\u7ea7\u522b\u4f1a\u4f7f\u6574\u4e2a\u751f\u6001\u7cfb\u7edf\u53d7\u76ca\u3002\u72b6\u6001\uff0c\u751f\u547d\u5468\u671f\u6302\u94a9\uff0c\u8de8\u6d4f\u89c8\u5668\u4e8b\u4ef6\u89c4\u8303\u5316\u5c31\u662f\u5f88\u597d\u7684\u4f8b\u5b50\u3002 Escape Hatches \u00b6 React is pragmatic. It is driven by the needs of the products written at Facebook. While it is influenced by some paradigms that are not yet fully mainstream such as functional programming, staying accessible to a wide range of developers with different skills and experience levels is an explicit goal of the project. If we want to deprecate a pattern that we don\u2019t like, it is our responsibility to consider all existing use cases for it and educate the community about the alternatives before we deprecate it. If some pattern that is useful for building apps is hard to express in a declarative way, we will provide an imperative API for it. If we can\u2019t figure out a perfect API for something that we found necessary in many apps, we will provide a temporary subpar working API as long as it is possible to get rid of it later and it leaves the door open for future improvements. React\u662f\u7a0b\u5e8f\u5316\u7684\u3002 \u5b83\u7531\u5728Facebook\u4e0a\u7f16\u5199\u7684\u4ea7\u54c1\u7684\u9700\u6c42\u9a71\u52a8\u3002 \u5c3d\u7ba1\u5b83\u53d7\u5230\u5c1a\u672a\u5b8c\u5168\u6210\u4e3a\u4e3b\u6d41\u7684\u4e00\u4e9b\u8303\u4f8b\uff08\u4f8b\u5982\u51fd\u6570\u5f0f\u7f16\u7a0b\uff09\u7684\u5f71\u54cd\uff0c\u4f46\u4f7f\u5177\u6709\u4e0d\u540c\u6280\u80fd\u548c\u7ecf\u9a8c\u6c34\u5e73\u7684\u4f17\u591a\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u4f7f\u7528\u5b83\u662f\u8be5\u9879\u76ee\u7684\u660e\u786e\u76ee\u6807\u3002 \u5982\u679c\u6211\u4eec\u8981\u5f03\u7528\u6211\u4eec\u4e0d\u559c\u6b22\u7684\u6a21\u5f0f\uff0c\u5219\u6211\u4eec\u6709\u8d23\u4efb\u8003\u8651\u5b83\u7684\u6240\u6709\u73b0\u6709\u7528\u4f8b\uff0c\u5e76\u5728\u5f03\u7528\u4e4b\u524d\u5bf9\u793e\u533a\u8fdb\u884c\u66ff\u4ee3\u6559\u80b2\u3002 \u5982\u679c\u5f88\u96be\u4ee5\u58f0\u660e\u7684\u65b9\u5f0f\u8868\u8fbe\u4e00\u4e9b\u5bf9\u6784\u5efa\u5e94\u7528\u6709\u7528\u7684\u6a21\u5f0f\uff0c\u90a3\u4e48\u6211\u4eec\u5c06\u4e3a\u5176\u63d0\u4f9b\u547d\u4ee4\u6027\u7684API\u3002 \u5982\u679c\u6211\u4eec\u65e0\u6cd5\u4e3a\u8bb8\u591a\u5e94\u7528\u7a0b\u5e8f\u4e2d\u9700\u8981\u7684\u4e1c\u897f\u627e\u5230\u7406\u60f3\u7684API\uff0c\u6211\u4eec\u5c06\u63d0\u4f9b\u4e00\u4e2a\u4e34\u65f6\u7684\uff0c\u4f4e\u4e8e\u6807\u51c6\u7684API\uff0c\u53ea\u8981\u6709\u53ef\u80fd\u7a0d\u540e\u5c06\u5176\u6dd8\u6c70\uff0c\u5e76\u4e3a\u5c06\u6765\u7684\u6539\u8fdb\u6253\u5f00\u65b9\u4fbf\u4e4b\u95e8\u3002 Stability \u00b6 We value API stability. At Facebook, we have more than 20 thousand components using React. Many other companies, including Twitter and Airbnb , are also heavy users of React. This is why we are usually reluctant to change public APIs or behavior. However we think stability in the sense of \u201cnothing changes\u201d is overrated. It quickly turns into stagnation. Instead, we prefer the stability in the sense of \u201cIt is heavily used in production, and when something changes, there is a clear (and preferably automated) migration path.\u201d When we deprecate a pattern, we study its internal usage at Facebook and add deprecation warnings. They let us assess the impact of the change. Sometimes we back out if we see that it is too early, and we need to think more strategically about getting the codebases to the point where they are ready for this change. If we are confident that the change is not too disruptive and the migration strategy is viable for all use cases, we release the deprecation warning to the open source community. We are closely in touch with many users of React outside of Facebook, and we monitor popular open source projects and guide them in fixing those deprecations. Given the sheer size of the Facebook React codebase, successful internal migration is often a good indicator that other companies won\u2019t have problems either. Nevertheless sometimes people point out additional use cases we haven\u2019t thought of, and we add escape hatches for them or rethink our approach. We don\u2019t deprecate anything without a good reason. We recognize that sometimes deprecations warnings cause frustration but we add them because deprecations clean up the road for the improvements and new features that we and many people in the community consider valuable. For example, we added a warning about unknown DOM props in React 15.2.0. Many projects were affected by this. However fixing this warning is important so that we can introduce the support for custom attributes to React. There is a reason like this behind every deprecation that we add. When we add a deprecation warning, we keep it for the rest of the current major version, and change the behavior in the next major version . If there is a lot of repetitive manual work involved, we release a codemod script that automates most of the change. Codemods enable us to move forward without stagnation in a massive codebase, and we encourage you to use them as well. You can find the codemods that we released in the react-codemod repository. \u6211\u4eec\u91cd\u89c6API\u7684\u7a33\u5b9a\u6027\u3002\u5728Facebook\uff0c\u6211\u4eec\u6709\u8d85\u8fc72\u4e07\u4e2a\u4f7f\u7528React\u7684\u7ec4\u4ef6\u3002\u5176\u4ed6\u8bb8\u591a\u516c\u53f8\uff0c\u5305\u62ecTwitter\u548cAirbnb\uff0c\u4e5f\u662fReact\u7684\u91cd\u5ea6\u7528\u6237\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u901a\u5e38\u4e0d\u613f\u66f4\u6539\u516c\u5171API\u6216\u884c\u4e3a\u7684\u539f\u56e0\u3002 \u4f46\u662f\uff0c\u6211\u4eec\u8ba4\u4e3a\u201c\u6ca1\u6709\u4efb\u4f55\u53d8\u5316\u201d\u610f\u4e49\u4e0a\u7684\u7a33\u5b9a\u6027\u88ab\u9ad8\u4f30\u4e86\u3002\u5b83\u5f88\u5feb\u53d8\u6210\u505c\u6ede\u72b6\u6001\u3002\u53d6\u800c\u4ee3\u4e4b\u7684\u662f\uff0c\u6211\u4eec\u66f4\u559c\u6b22\u201c\u5728\u751f\u4ea7\u4e2d\u5927\u91cf\u4f7f\u7528\u5b83\uff0c\u5e76\u4e14\u5f53\u67d0\u4e9b\u4e8b\u60c5\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u4f1a\u6709\u4e00\u6761\u6e05\u6670\u7684\uff08\u6700\u597d\u662f\u81ea\u52a8\u5316\u7684\uff09\u8fc1\u79fb\u8def\u5f84\u3002\u201d \u5f03\u7528\u6a21\u5f0f\u65f6\uff0c\u6211\u4eec\u4f1a\u5728Facebook\u4e0a\u7814\u7a76\u5176\u5185\u90e8\u7528\u6cd5\u5e76\u6dfb\u52a0\u5f03\u7528\u8b66\u544a\u3002\u4ed6\u4eec\u8ba9\u6211\u4eec\u8bc4\u4f30\u4e86\u53d8\u5316\u7684\u5f71\u54cd\u3002\u6709\u65f6\uff0c\u5982\u679c\u6211\u4eec\u53d1\u73b0\u4e3a\u65f6\u8fc7\u65e9\uff0c\u6211\u4eec\u4f1a\u9000\u540e\u4e00\u6b65\uff0c\u6211\u4eec\u9700\u8981\u66f4\u7b56\u7565\u6027\u5730\u8003\u8651\u4f7f\u4ee3\u7801\u5e93\u8fbe\u5230\u53ef\u4ee5\u8fdb\u884c\u6b64\u66f4\u6539\u7684\u7a0b\u5ea6\u3002 \u5982\u679c\u6211\u4eec\u786e\u4fe1\u66f4\u6539\u4e0d\u4f1a\u5e26\u6765\u592a\u5927\u7834\u574f\uff0c\u5e76\u4e14\u8fc1\u79fb\u7b56\u7565\u5bf9\u6240\u6709\u7528\u4f8b\u90fd\u53ef\u884c\uff0c\u90a3\u4e48\u6211\u4eec\u5c06\u5411\u5f00\u6e90\u793e\u533a\u53d1\u5e03\u5f03\u7528\u8b66\u544a\u3002\u6211\u4eec\u4e0eFacebook\u4ee5\u5916\u7684React\u7684\u8bb8\u591a\u7528\u6237\u4fdd\u6301\u7740\u5bc6\u5207\u8054\u7cfb\uff0c\u5e76\u4e14\u6211\u4eec\u76d1\u89c6\u6d41\u884c\u7684\u5f00\u6e90\u9879\u76ee\u5e76\u6307\u5bfc\u4ed6\u4eec\u89e3\u51b3\u8fd9\u4e9b\u8fc7\u65f6\u7684\u95ee\u9898\u3002 \u8003\u8651\u5230Facebook React\u4ee3\u7801\u5e93\u7684\u5e9e\u5927\u89c4\u6a21\uff0c\u6210\u529f\u8fdb\u884c\u5185\u90e8\u8fc1\u79fb\u901a\u5e38\u53ef\u4ee5\u5f88\u597d\u5730\u8868\u660e\u5176\u4ed6\u516c\u53f8\u4e5f\u4e0d\u4f1a\u9047\u5230\u95ee\u9898\u3002\u4e0d\u8fc7\uff0c\u6709\u65f6\u4eba\u4eec\u4f1a\u6307\u51fa\u6211\u4eec\u6ca1\u6709\u60f3\u5230\u7684\u5176\u4ed6\u7528\u4f8b\uff0c\u56e0\u6b64\u6211\u4eec\u4e3a\u5b83\u4eec\u6dfb\u52a0\u4e86\u9003\u751f\u8231\u53e3\uff0c\u6216\u8005\u91cd\u65b0\u8003\u8651\u4e86\u6211\u4eec\u7684\u65b9\u6cd5\u3002 \u6ca1\u6709\u5145\u5206\u7684\u7406\u7531\uff0c\u6211\u4eec\u4e0d\u4f1a\u5f03\u7528\u4efb\u4f55\u4e1c\u897f\u3002\u6211\u4eec\u8ba4\u8bc6\u5230\u6709\u65f6\u5f03\u7528\u8b66\u544a\u4f1a\u9020\u6210\u632b\u8d25\u611f\uff0c\u4f46\u6211\u4eec\u6dfb\u52a0\u5b83\u4eec\u662f\u56e0\u4e3a\u5f03\u7528\u8b66\u544a\u4e3a\u6211\u4eec\u548c\u793e\u533a\u4e2d\u8bb8\u591a\u4eba\u8ba4\u4e3a\u6709\u4ef7\u503c\u7684\u6539\u8fdb\u548c\u65b0\u529f\u80fd\u626b\u6e05\u4e86\u9053\u8def\u3002 \u4f8b\u5982\uff0c\u6211\u4eec\u5728React 15.2.0\u4e2d\u6dfb\u52a0\u4e86\u6709\u5173\u672a\u77e5DOM\u9053\u5177\u7684\u8b66\u544a\u3002\u8bb8\u591a\u9879\u76ee\u53d7\u6b64\u5f71\u54cd\u3002\u4f46\u662f\u4fee\u590d\u6b64\u8b66\u544a\u5f88\u91cd\u8981\uff0c\u8fd9\u6837\u6211\u4eec\u624d\u80fd\u5c06\u5bf9\u81ea\u5b9a\u4e49\u5c5e\u6027\u7684\u652f\u6301\u5f15\u5165\u5230React\u4e2d\u3002\u5728\u6211\u4eec\u6dfb\u52a0\u7684\u6bcf\u4e2a\u4e0d\u8d5e\u6210\u4f7f\u7528\u884c\u4e3a\u80cc\u540e\u90fd\u6709\u8fd9\u6837\u7684\u539f\u56e0\u3002 \u6dfb\u52a0\u5f03\u7528\u8b66\u544a\u65f6\uff0c\u6211\u4eec\u4f1a\u5c06\u5176\u4fdd\u7559\u5728\u5f53\u524d\u4e3b\u8981\u7248\u672c\u7684\u5176\u4f59\u90e8\u5206\u4e2d\uff0c\u5e76\u5728\u4e0b\u4e00\u4e2a\u4e3b\u8981\u7248\u672c\u4e2d\u66f4\u6539\u5176\u884c\u4e3a\u3002\u5982\u679c\u6d89\u53ca\u5927\u91cf\u91cd\u590d\u7684\u624b\u52a8\u5de5\u4f5c\uff0c\u6211\u4eec\u5c06\u53d1\u5e03\u4e00\u4e2a\u4f7f\u5927\u591a\u6570\u66f4\u6539\u81ea\u52a8\u5316\u7684codemod\u811a\u672c\u3002 Codemods\u4f7f\u6211\u4eec\u80fd\u591f\u5728\u5e9e\u5927\u7684\u4ee3\u7801\u5e93\u4e2d\u524d\u8fdb\u800c\u4e0d\u4f1a\u505c\u6ede\u4e0d\u524d\uff0c\u5e76\u4e14\u6211\u4eec\u9f13\u52b1\u60a8\u4e5f\u4f7f\u7528\u5b83\u4eec\u3002 \u60a8\u53ef\u4ee5\u5728react-codemod\u5b58\u50a8\u5e93\u4e2d\u627e\u5230\u6211\u4eec\u53d1\u5e03\u7684codemod\u3002 Interoperability \u00b6 We place high value in interoperability with existing systems and gradual adoption. Facebook has a massive non-React codebase. Its website uses a mix of a server-side component system called XHP, internal UI libraries that came before React, and React itself. It is important to us that any product team can start using React for a small feature rather than rewrite their code to bet on it. This is why React provides escape hatches to work with mutable models, and tries to work well together with other UI libraries. You can wrap an existing imperative UI into a declarative component, and vice versa. This is crucial for gradual adoption. Scheduling \u00b6 Even when your components are described as functions, when you use React you don\u2019t call them directly. Every component returns a description of what needs to be rendered , and that description may include both user-written components like <LikeButton> and platform-specific components like <div> . It is up to React to \u201cunroll\u201d <LikeButton> at some point in the future and actually apply changes to the UI tree according to the render results of the components recursively. This is a subtle distinction but a powerful one. Since you don\u2019t call that component function but let React call it, it means React has the power to delay calling it if necessary. In its current implementation React walks the tree recursively and calls render functions of the whole updated tree during a single tick. However in the future it might start delaying some updates to avoid dropping frames . This is a common theme in React design. Some popular libraries implement the \u201cpush\u201d approach where computations are performed when the new data is available. React, however, sticks to the \u201cpull\u201d approach where computations can be delayed until necessary. React is not a generic data processing library. It is a library for building user interfaces. We think that it is uniquely positioned in an app to know which computations are relevant right now and which are not. If something is offscreen, we can delay any logic related to it. If data is arriving faster than the frame rate, we can coalesce and batch updates. We can prioritize work coming from user interactions (such as an animation caused by a button click) over less important background work (such as rendering new content just loaded from the network) to avoid dropping frames. To be clear, we are not taking advantage of this right now. However the freedom to do something like this is why we prefer to have control over scheduling, and why setState() is asynchronous. Conceptually, we think of it as \u201cscheduling an update\u201d. The control over scheduling would be harder for us to gain if we let the user directly compose views with a \u201cpush\u201d based paradigm common in some variations of Functional Reactive Programming . We want to own the \u201cglue\u201d code. It is a key goal for React that the amount of the user code that executes before yielding back into React is minimal. This ensures that React retains the capability to schedule and split work in chunks according to what it knows about the UI. There is an internal joke in the team that React should have been called \u201cSchedule\u201d because React does not want to be fully \u201creactive\u201d. Developer Experience \u00b6 Providing a good developer experience is important to us. For example, we maintain React DevTools which let you inspect the React component tree in Chrome and Firefox. We have heard that it brings a big productivity boost both to the Facebook engineers and to the community. We also try to go an extra mile to provide helpful developer warnings. For example, React warns you in development if you nest tags in a way that the browser doesn\u2019t understand, or if you make a common typo in the API. Developer warnings and the related checks are the main reason why the development version of React is slower than the production version. The usage patterns that we see internally at Facebook help us understand what the common mistakes are, and how to prevent them early. When we add new features, we try to anticipate the common mistakes and warn about them. We are always looking out for ways to improve the developer experience. We love to hear your suggestions and accept your contributions to make it even better. Debugging \u00b6 When something goes wrong, it is important that you have breadcrumbs to trace the mistake to its source in the codebase. In React, props and state are those breadcrumbs. If you see something wrong on the screen, you can open React DevTools, find the component responsible for rendering, and then see if the props and state are correct. If they are, you know that the problem is in the component\u2019s render() function, or some function that is called by render() . The problem is isolated. If the state is wrong, you know that the problem is caused by one of the setState() calls in this file. This, too, is relatively simple to locate and fix because usually there are only a few setState() calls in a single file. If the props are wrong, you can traverse the tree up in the inspector, looking for the component that first \u201cpoisoned the well\u201d by passing bad props down. This ability to trace any UI to the data that produced it in the form of current props and state is very important to React. It is an explicit design goal that state is not \u201ctrapped\u201d in closures and combinators, and is available to React directly. While the UI is dynamic, we believe that synchronous render() functions of props and state turn debugging from guesswork into a boring but finite procedure. We would like to preserve this constraint in React even though it makes some use cases, like complex animations, harder. Configuration \u00b6 We find global runtime configuration options to be problematic. For example, it is occasionally requested that we implement a function like React.configure(options) or React.register(component) . However this poses multiple problems, and we are not aware of good solutions to them. What if somebody calls such a function from a third-party component library? What if one React app embeds another React app, and their desired configurations are incompatible? How can a third-party component specify that it requires a particular configuration? We think that global configuration doesn\u2019t work well with composition. Since composition is central to React, we don\u2019t provide global configuration in code. We do, however, provide some global configuration on the build level. For example, we provide separate development and production builds. We may also add a profiling build in the future, and we are open to considering other build flags. Beyond the DOM \u00b6 We see the value of React in the way it allows us to write components that have fewer bugs and compose together well. DOM is the original rendering target for React but React Native is just as important both to Facebook and the community. Being renderer-agnostic is an important design constraint of React. It adds some overhead in the internal representations. On the other hand, any improvements to the core translate across platforms. Having a single programming model lets us form engineering teams around products instead of platforms. So far the tradeoff has been worth it for us. Implementation \u00b6 We try to provide elegant APIs where possible. We are much less concerned with the implementation being elegant. The real world is far from perfect, and to a reasonable extent we prefer to put the ugly code into the library if it means the user does not have to write it. When we evaluate new code, we are looking for an implementation that is correct, performant and affords a good developer experience. Elegance is secondary. We prefer boring code to clever code. Code is disposable and often changes. So it is important that it doesn\u2019t introduce new internal abstractions unless absolutely necessary . Verbose code that is easy to move around, change and remove is preferred to elegant code that is prematurely abstracted and hard to change. Optimized for Tooling \u00b6 Some commonly used APIs have verbose names. For example, we use componentDidMount() instead of didMount() or onMount() . This is intentional . The goal is to make the points of interaction with the library highly visible. In a massive codebase like Facebook, being able to search for uses of specific APIs is very important. We value distinct verbose names, and especially for the features that should be used sparingly. For example, dangerouslySetInnerHTML is hard to miss in a code review. Optimizing for search is also important because of our reliance on codemods to make breaking changes. We want it to be easy and safe to apply vast automated changes across the codebase, and unique verbose names help us achieve this. Similarly, distinctive names make it easy to write custom lint rules about using React without worrying about potential false positives. JSX plays a similar role. While it is not required with React, we use it extensively at Facebook both for aesthetic and pragmatic reasons. In our codebase, JSX provides an unambiguous hint to the tools that they are dealing with a React element tree. This makes it possible to add build-time optimizations such as hoisting constant elements , safely lint and codemod internal component usage, and include JSX source location into the warnings. Dogfooding \u00b6 We try our best to address the problems raised by the community. However we are likely to prioritize the issues that people are also experiencing internally at Facebook. Perhaps counter-intuitively, we think this is the main reason why the community can bet on React. Heavy internal usage gives us the confidence that React won\u2019t disappear tomorrow. React was created at Facebook to solve its problems. It brings tangible business value to the company and is used in many of its products. Dogfooding it means that our vision stays sharp and we have a focused direction going forward. This doesn\u2019t mean that we ignore the issues raised by the community. For example, we added support for web components and SVG to React even though we don\u2019t rely on either of them internally. We are actively listening to your pain points and address them to the best of our ability. The community is what makes React special to us, and we are honored to contribute back. After releasing many open source projects at Facebook, we have learned that trying to make everyone happy at the same time produced projects with poor focus that didn\u2019t grow well. Instead, we found that picking a small audience and focusing on making them happy brings a positive net effect. That\u2019s exactly what we did with React, and so far solving the problems encountered by Facebook product teams has translated well to the open source community. The downside of this approach is that sometimes we fail to give enough focus to the things that Facebook teams don\u2019t have to deal with, such as the \u201cgetting started\u201d experience. We are acutely aware of this, and we are thinking of how to improve in a way that would benefit everyone in the community without making the same mistakes we did with open source projects before.","title":"React-Design Principles.md"},{"location":"react/React-Design%20Principles/#react-design-principles","text":"We wrote this document so that you have a better idea of how we decide what React does and what React doesn\u2019t do, and what our development philosophy is like. While we are excited to see community contributions, we are not likely to choose a path that violates one or more of these principles. \u5199\u8fd9\u7bc7\u6587\u6863\u7684\u76ee\u7779\u662f\u4ecb\u7ecdReact\u505a\u4e86\u4ec0\u4e48\u3002\u6211\u4eec\u5efa\u8bae\u4f7f\u7528React\u65f6\u4e0d\u8981\u8fdd\u80cc\u8fd9\u6837\u7684\u539f\u5219\u3002\u8fd9\u4e2a\u6587\u6863\u5728\u4e8e\u5bf9React\u7684\u7406\u89e3\uff0c\u5e76\u4e0d\u662fReact\u7684\u5e94\u7528\u6216\u8005\u7ec4\u4ef6\u3002 Note: This document assumes a strong understanding of React. It describes the design principles of React itself , not React components or applications. For an introduction to React, check out Thinking in React instead.","title":"React Design Principles"},{"location":"react/React-Design%20Principles/#composition","text":"The key feature of React is composition of components. Components written by different people should work well together. It is important to us that you can add functionality to a component without causing rippling changes throughout the codebase. React\u7684\u6838\u5fc3\u7279\u70b9\u662f\u7531\u7ec4\u4ef6\u7ec4\u6210\u3002\u4e0d\u540c\u4eba\u7f16\u5199\u7684\u7ec4\u4ef6\u5e94\u8be5\u5171\u540c\u5de5\u4f5c\uff08\u6ca1\u6709\u51b2\u7a81\uff09\u3002\u5bf9\u4e8e\u4e00\u4e2a\u7ec4\u4ef6\u51fd\u6570\u5316\u7684\u8bbe\u8ba1\uff0c\u4f60\u4e0d\u9700\u8981\u8003\u8651\u5185\u90e8\u7684\u53d8\u5316\u3002 For example, it should be possible to introduce some local state into a component without changing any of the components using it. Similarly, it should be possible to add some initialization and teardown code to any component when necessary. \u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u4e0d\u9700\u8981\u6539\u53d8\u4efb\u4f55\u4f7f\u7528\u7684\u7ec4\u4ef6\uff0c\u800c\u53ea\u9700\u8981\u4f20\u5165\u4e00\u4e9b\u672c\u5730\u7684state\u53c2\u6570\u3002\uff08React\u7ec4\u4ef6\u5bf9\u5916\u66b4\u9732\u7684\u63a5\u53e3\u9700\u8981\u5b8c\u6574\uff0c\u53ea\u9700\u8981\u7ed9\u51fa\u63a5\u53e3\uff0c\u5176\u4ed6\u4eba\u5373\u53ef\u6b63\u786e\u4f7f\u7528\uff09\u3002\u540c\u7406\uff0c\u5982\u679c\u5fc5\u987b\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u7ed9\u7ec4\u4ef6\u589e\u52a0\u4e00\u4e9b\u521d\u59cb\u5316\u7684\u6570\u636e\u548c\u5378\u8f7d\u7684\u4ee3\u7801\u3002 There is nothing \u201cbad\u201d about using state or lifecycle hooks in components. Like any powerful feature, they should be used in moderation, but we have no intention to remove them. On the contrary, we think they are integral parts of what makes React useful. We might enable more functional patterns in the future, but both local state and lifecycle hooks will be a part of that model. \u5728\u4e00\u4e2a\u7ec4\u4ef6\u4e2d\uff0c\u4f7f\u7528state\u6216\u8005\u751f\u547d\u5468\u671f\u51fd\u6570\u5e76\u4e0d\u662f\u574f\u4e8b\u3002\u5c31\u50cf\u4efb\u4f55\u4e00\u4e2a\u5f3a\u5927\u7684\u7279\u70b9\uff0c\u4ed6\u4eec\u9700\u8981\u9002\u5ea6\u4f7f\u7528\uff0c\u4f46\u662f\u6211\u4eec\u65e0\u610f\u5220\u9664\u8fd9\u90e8\u5206\u3002\u76f8\u53cd\uff0c\u6211\u4eec\u8ba4\u4e3a\uff0c\u8fd9\u90e8\u5206\u4ee3\u7801\u662f\u7684React\u66f4\u6709\u7528\u3002\u5c06\u6765\u6211\u4eec\u4f1a\u4f7f\u7528\u51fd\u6570\u5f0f\u7f16\u7a0b\uff0c\u4f46\u662f\uff0c\u5728\u8fd9\u4e2a\u6a21\u578b\u4e2d\u4ecd\u7136\u4f1a\u4fdd\u7559\u672c\u5730\u7684state\u548c\u751f\u547d\u5468\u671f\u51fd\u6570\u3002 Components are often described as \u201cjust functions\u201d but in our view they need to be more than that to be useful. In React, components describe any composable behavior, and this includes rendering, lifecycle, and state. Some external libraries like Relay augment components with other responsibilities such as describing data dependencies. It is possible that those ideas might make it back into React too in some form. \u7ec4\u4ef6\u7ecf\u5e38\u88ab\u63cf\u8ff0\u4e3a\u201c\u53ea\u662f\u7b80\u5355\u7684\u51fd\u6570\u201d\uff0c\u4f46\u662f\u6211\u4eec\u8ba4\u4e3a\u4ed6\u7684\u7528\u5904\u66f4\u5927\u3002\u5728React\u4e2d\uff0c\u7ec4\u4ef7\u63cf\u8ff0\u4efb\u4f55\u4efb\u4f55\u53ef\u7ec4\u5408\u7684\u884c\u4e3a\uff0c\u8fd9\u5305\u62ecrender\uff0clifestyle\uff0cstate\u3002","title":"Composition"},{"location":"react/React-Design%20Principles/#common-abstraction","text":"In general we resist adding features that can be implemented in userland. We don\u2019t want to bloat your apps with useless library code. However, there are exceptions to this. For example, if React didn\u2019t provide support for local state or lifecycle hooks, people would create custom abstractions for them. When there are multiple abstractions competing, React can\u2019t enforce or take advantage of the properties of either of them. It has to work with the lowest common denominator. This is why sometimes we add features to React itself. If we notice that many components implement a certain feature in incompatible or inefficient ways, we might prefer to bake it into React. We don\u2019t do it lightly. When we do it, it\u2019s because we are confident that raising the abstraction level benefits the whole ecosystem. State, lifecycle hooks, cross-browser event normalization are good examples of this. \u901a\u5e38\uff0c\u6211\u4eec\u62d2\u7edd\u6dfb\u52a0\u53ef\u4ee5\u5728\u7528\u6237\u73af\u5883\u4e2d\u5b9e\u73b0\u7684\u529f\u80fd\u3002\u6211\u4eec\u4e0d\u60f3\u4f7f\u7528\u65e0\u7528\u7684\u5e93\u4ee3\u7801\u6765\u5938\u5927\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u4f46\u662f\uff0c\u4e5f\u6709\u4f8b\u5916\u3002 \u4f8b\u5982\uff0c\u5982\u679cReact\u4e0d\u63d0\u4f9b\u5bf9\u672c\u5730\u72b6\u6001\u6216\u751f\u547d\u5468\u671f\u6302\u94a9\u7684\u652f\u6301\uff0c\u4eba\u4eec\u5c06\u4e3a\u5176\u521b\u5efa\u81ea\u5b9a\u4e49\u62bd\u8c61\u3002\u5f53\u6709\u591a\u4e2a\u62bd\u8c61\u7ade\u4e89\u65f6\uff0cReact\u65e0\u6cd5\u5f3a\u5236\u6216\u5229\u7528\u5176\u4e2d\u4efb\u4f55\u4e00\u4e2a\u7684\u5c5e\u6027\u3002\u5b83\u5fc5\u987b\u4f7f\u7528\u6700\u4f4e\u516c\u5206\u6bcd\u6765\u5de5\u4f5c\u3002 \u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6709\u65f6\u6211\u4eec\u5411React\u672c\u8eab\u6dfb\u52a0\u529f\u80fd\u7684\u539f\u56e0\u3002\u5982\u679c\u6211\u4eec\u6ce8\u610f\u5230\u8bb8\u591a\u7ec4\u4ef6\u4ee5\u4e0d\u517c\u5bb9\u6216\u4f4e\u6548\u7684\u65b9\u5f0f\u5b9e\u73b0\u4e86\u67d0\u4e2a\u529f\u80fd\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u80fd\u66f4\u559c\u6b22\u5c06\u5176\u70d8\u7119\u5230React\u4e2d\u3002\u6211\u4eec\u4e0d\u80fd\u8f7b\u6613\u505a\u5230\u3002\u5f53\u6211\u4eec\u8fd9\u6837\u505a\u65f6\uff0c\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u6709\u4fe1\u5fc3\u63d0\u9ad8\u62bd\u8c61\u7ea7\u522b\u4f1a\u4f7f\u6574\u4e2a\u751f\u6001\u7cfb\u7edf\u53d7\u76ca\u3002\u72b6\u6001\uff0c\u751f\u547d\u5468\u671f\u6302\u94a9\uff0c\u8de8\u6d4f\u89c8\u5668\u4e8b\u4ef6\u89c4\u8303\u5316\u5c31\u662f\u5f88\u597d\u7684\u4f8b\u5b50\u3002","title":"Common Abstraction"},{"location":"react/React-Design%20Principles/#escape-hatches","text":"React is pragmatic. It is driven by the needs of the products written at Facebook. While it is influenced by some paradigms that are not yet fully mainstream such as functional programming, staying accessible to a wide range of developers with different skills and experience levels is an explicit goal of the project. If we want to deprecate a pattern that we don\u2019t like, it is our responsibility to consider all existing use cases for it and educate the community about the alternatives before we deprecate it. If some pattern that is useful for building apps is hard to express in a declarative way, we will provide an imperative API for it. If we can\u2019t figure out a perfect API for something that we found necessary in many apps, we will provide a temporary subpar working API as long as it is possible to get rid of it later and it leaves the door open for future improvements. React\u662f\u7a0b\u5e8f\u5316\u7684\u3002 \u5b83\u7531\u5728Facebook\u4e0a\u7f16\u5199\u7684\u4ea7\u54c1\u7684\u9700\u6c42\u9a71\u52a8\u3002 \u5c3d\u7ba1\u5b83\u53d7\u5230\u5c1a\u672a\u5b8c\u5168\u6210\u4e3a\u4e3b\u6d41\u7684\u4e00\u4e9b\u8303\u4f8b\uff08\u4f8b\u5982\u51fd\u6570\u5f0f\u7f16\u7a0b\uff09\u7684\u5f71\u54cd\uff0c\u4f46\u4f7f\u5177\u6709\u4e0d\u540c\u6280\u80fd\u548c\u7ecf\u9a8c\u6c34\u5e73\u7684\u4f17\u591a\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u4f7f\u7528\u5b83\u662f\u8be5\u9879\u76ee\u7684\u660e\u786e\u76ee\u6807\u3002 \u5982\u679c\u6211\u4eec\u8981\u5f03\u7528\u6211\u4eec\u4e0d\u559c\u6b22\u7684\u6a21\u5f0f\uff0c\u5219\u6211\u4eec\u6709\u8d23\u4efb\u8003\u8651\u5b83\u7684\u6240\u6709\u73b0\u6709\u7528\u4f8b\uff0c\u5e76\u5728\u5f03\u7528\u4e4b\u524d\u5bf9\u793e\u533a\u8fdb\u884c\u66ff\u4ee3\u6559\u80b2\u3002 \u5982\u679c\u5f88\u96be\u4ee5\u58f0\u660e\u7684\u65b9\u5f0f\u8868\u8fbe\u4e00\u4e9b\u5bf9\u6784\u5efa\u5e94\u7528\u6709\u7528\u7684\u6a21\u5f0f\uff0c\u90a3\u4e48\u6211\u4eec\u5c06\u4e3a\u5176\u63d0\u4f9b\u547d\u4ee4\u6027\u7684API\u3002 \u5982\u679c\u6211\u4eec\u65e0\u6cd5\u4e3a\u8bb8\u591a\u5e94\u7528\u7a0b\u5e8f\u4e2d\u9700\u8981\u7684\u4e1c\u897f\u627e\u5230\u7406\u60f3\u7684API\uff0c\u6211\u4eec\u5c06\u63d0\u4f9b\u4e00\u4e2a\u4e34\u65f6\u7684\uff0c\u4f4e\u4e8e\u6807\u51c6\u7684API\uff0c\u53ea\u8981\u6709\u53ef\u80fd\u7a0d\u540e\u5c06\u5176\u6dd8\u6c70\uff0c\u5e76\u4e3a\u5c06\u6765\u7684\u6539\u8fdb\u6253\u5f00\u65b9\u4fbf\u4e4b\u95e8\u3002","title":"Escape Hatches"},{"location":"react/React-Design%20Principles/#stability","text":"We value API stability. At Facebook, we have more than 20 thousand components using React. Many other companies, including Twitter and Airbnb , are also heavy users of React. This is why we are usually reluctant to change public APIs or behavior. However we think stability in the sense of \u201cnothing changes\u201d is overrated. It quickly turns into stagnation. Instead, we prefer the stability in the sense of \u201cIt is heavily used in production, and when something changes, there is a clear (and preferably automated) migration path.\u201d When we deprecate a pattern, we study its internal usage at Facebook and add deprecation warnings. They let us assess the impact of the change. Sometimes we back out if we see that it is too early, and we need to think more strategically about getting the codebases to the point where they are ready for this change. If we are confident that the change is not too disruptive and the migration strategy is viable for all use cases, we release the deprecation warning to the open source community. We are closely in touch with many users of React outside of Facebook, and we monitor popular open source projects and guide them in fixing those deprecations. Given the sheer size of the Facebook React codebase, successful internal migration is often a good indicator that other companies won\u2019t have problems either. Nevertheless sometimes people point out additional use cases we haven\u2019t thought of, and we add escape hatches for them or rethink our approach. We don\u2019t deprecate anything without a good reason. We recognize that sometimes deprecations warnings cause frustration but we add them because deprecations clean up the road for the improvements and new features that we and many people in the community consider valuable. For example, we added a warning about unknown DOM props in React 15.2.0. Many projects were affected by this. However fixing this warning is important so that we can introduce the support for custom attributes to React. There is a reason like this behind every deprecation that we add. When we add a deprecation warning, we keep it for the rest of the current major version, and change the behavior in the next major version . If there is a lot of repetitive manual work involved, we release a codemod script that automates most of the change. Codemods enable us to move forward without stagnation in a massive codebase, and we encourage you to use them as well. You can find the codemods that we released in the react-codemod repository. \u6211\u4eec\u91cd\u89c6API\u7684\u7a33\u5b9a\u6027\u3002\u5728Facebook\uff0c\u6211\u4eec\u6709\u8d85\u8fc72\u4e07\u4e2a\u4f7f\u7528React\u7684\u7ec4\u4ef6\u3002\u5176\u4ed6\u8bb8\u591a\u516c\u53f8\uff0c\u5305\u62ecTwitter\u548cAirbnb\uff0c\u4e5f\u662fReact\u7684\u91cd\u5ea6\u7528\u6237\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u901a\u5e38\u4e0d\u613f\u66f4\u6539\u516c\u5171API\u6216\u884c\u4e3a\u7684\u539f\u56e0\u3002 \u4f46\u662f\uff0c\u6211\u4eec\u8ba4\u4e3a\u201c\u6ca1\u6709\u4efb\u4f55\u53d8\u5316\u201d\u610f\u4e49\u4e0a\u7684\u7a33\u5b9a\u6027\u88ab\u9ad8\u4f30\u4e86\u3002\u5b83\u5f88\u5feb\u53d8\u6210\u505c\u6ede\u72b6\u6001\u3002\u53d6\u800c\u4ee3\u4e4b\u7684\u662f\uff0c\u6211\u4eec\u66f4\u559c\u6b22\u201c\u5728\u751f\u4ea7\u4e2d\u5927\u91cf\u4f7f\u7528\u5b83\uff0c\u5e76\u4e14\u5f53\u67d0\u4e9b\u4e8b\u60c5\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u4f1a\u6709\u4e00\u6761\u6e05\u6670\u7684\uff08\u6700\u597d\u662f\u81ea\u52a8\u5316\u7684\uff09\u8fc1\u79fb\u8def\u5f84\u3002\u201d \u5f03\u7528\u6a21\u5f0f\u65f6\uff0c\u6211\u4eec\u4f1a\u5728Facebook\u4e0a\u7814\u7a76\u5176\u5185\u90e8\u7528\u6cd5\u5e76\u6dfb\u52a0\u5f03\u7528\u8b66\u544a\u3002\u4ed6\u4eec\u8ba9\u6211\u4eec\u8bc4\u4f30\u4e86\u53d8\u5316\u7684\u5f71\u54cd\u3002\u6709\u65f6\uff0c\u5982\u679c\u6211\u4eec\u53d1\u73b0\u4e3a\u65f6\u8fc7\u65e9\uff0c\u6211\u4eec\u4f1a\u9000\u540e\u4e00\u6b65\uff0c\u6211\u4eec\u9700\u8981\u66f4\u7b56\u7565\u6027\u5730\u8003\u8651\u4f7f\u4ee3\u7801\u5e93\u8fbe\u5230\u53ef\u4ee5\u8fdb\u884c\u6b64\u66f4\u6539\u7684\u7a0b\u5ea6\u3002 \u5982\u679c\u6211\u4eec\u786e\u4fe1\u66f4\u6539\u4e0d\u4f1a\u5e26\u6765\u592a\u5927\u7834\u574f\uff0c\u5e76\u4e14\u8fc1\u79fb\u7b56\u7565\u5bf9\u6240\u6709\u7528\u4f8b\u90fd\u53ef\u884c\uff0c\u90a3\u4e48\u6211\u4eec\u5c06\u5411\u5f00\u6e90\u793e\u533a\u53d1\u5e03\u5f03\u7528\u8b66\u544a\u3002\u6211\u4eec\u4e0eFacebook\u4ee5\u5916\u7684React\u7684\u8bb8\u591a\u7528\u6237\u4fdd\u6301\u7740\u5bc6\u5207\u8054\u7cfb\uff0c\u5e76\u4e14\u6211\u4eec\u76d1\u89c6\u6d41\u884c\u7684\u5f00\u6e90\u9879\u76ee\u5e76\u6307\u5bfc\u4ed6\u4eec\u89e3\u51b3\u8fd9\u4e9b\u8fc7\u65f6\u7684\u95ee\u9898\u3002 \u8003\u8651\u5230Facebook React\u4ee3\u7801\u5e93\u7684\u5e9e\u5927\u89c4\u6a21\uff0c\u6210\u529f\u8fdb\u884c\u5185\u90e8\u8fc1\u79fb\u901a\u5e38\u53ef\u4ee5\u5f88\u597d\u5730\u8868\u660e\u5176\u4ed6\u516c\u53f8\u4e5f\u4e0d\u4f1a\u9047\u5230\u95ee\u9898\u3002\u4e0d\u8fc7\uff0c\u6709\u65f6\u4eba\u4eec\u4f1a\u6307\u51fa\u6211\u4eec\u6ca1\u6709\u60f3\u5230\u7684\u5176\u4ed6\u7528\u4f8b\uff0c\u56e0\u6b64\u6211\u4eec\u4e3a\u5b83\u4eec\u6dfb\u52a0\u4e86\u9003\u751f\u8231\u53e3\uff0c\u6216\u8005\u91cd\u65b0\u8003\u8651\u4e86\u6211\u4eec\u7684\u65b9\u6cd5\u3002 \u6ca1\u6709\u5145\u5206\u7684\u7406\u7531\uff0c\u6211\u4eec\u4e0d\u4f1a\u5f03\u7528\u4efb\u4f55\u4e1c\u897f\u3002\u6211\u4eec\u8ba4\u8bc6\u5230\u6709\u65f6\u5f03\u7528\u8b66\u544a\u4f1a\u9020\u6210\u632b\u8d25\u611f\uff0c\u4f46\u6211\u4eec\u6dfb\u52a0\u5b83\u4eec\u662f\u56e0\u4e3a\u5f03\u7528\u8b66\u544a\u4e3a\u6211\u4eec\u548c\u793e\u533a\u4e2d\u8bb8\u591a\u4eba\u8ba4\u4e3a\u6709\u4ef7\u503c\u7684\u6539\u8fdb\u548c\u65b0\u529f\u80fd\u626b\u6e05\u4e86\u9053\u8def\u3002 \u4f8b\u5982\uff0c\u6211\u4eec\u5728React 15.2.0\u4e2d\u6dfb\u52a0\u4e86\u6709\u5173\u672a\u77e5DOM\u9053\u5177\u7684\u8b66\u544a\u3002\u8bb8\u591a\u9879\u76ee\u53d7\u6b64\u5f71\u54cd\u3002\u4f46\u662f\u4fee\u590d\u6b64\u8b66\u544a\u5f88\u91cd\u8981\uff0c\u8fd9\u6837\u6211\u4eec\u624d\u80fd\u5c06\u5bf9\u81ea\u5b9a\u4e49\u5c5e\u6027\u7684\u652f\u6301\u5f15\u5165\u5230React\u4e2d\u3002\u5728\u6211\u4eec\u6dfb\u52a0\u7684\u6bcf\u4e2a\u4e0d\u8d5e\u6210\u4f7f\u7528\u884c\u4e3a\u80cc\u540e\u90fd\u6709\u8fd9\u6837\u7684\u539f\u56e0\u3002 \u6dfb\u52a0\u5f03\u7528\u8b66\u544a\u65f6\uff0c\u6211\u4eec\u4f1a\u5c06\u5176\u4fdd\u7559\u5728\u5f53\u524d\u4e3b\u8981\u7248\u672c\u7684\u5176\u4f59\u90e8\u5206\u4e2d\uff0c\u5e76\u5728\u4e0b\u4e00\u4e2a\u4e3b\u8981\u7248\u672c\u4e2d\u66f4\u6539\u5176\u884c\u4e3a\u3002\u5982\u679c\u6d89\u53ca\u5927\u91cf\u91cd\u590d\u7684\u624b\u52a8\u5de5\u4f5c\uff0c\u6211\u4eec\u5c06\u53d1\u5e03\u4e00\u4e2a\u4f7f\u5927\u591a\u6570\u66f4\u6539\u81ea\u52a8\u5316\u7684codemod\u811a\u672c\u3002 Codemods\u4f7f\u6211\u4eec\u80fd\u591f\u5728\u5e9e\u5927\u7684\u4ee3\u7801\u5e93\u4e2d\u524d\u8fdb\u800c\u4e0d\u4f1a\u505c\u6ede\u4e0d\u524d\uff0c\u5e76\u4e14\u6211\u4eec\u9f13\u52b1\u60a8\u4e5f\u4f7f\u7528\u5b83\u4eec\u3002 \u60a8\u53ef\u4ee5\u5728react-codemod\u5b58\u50a8\u5e93\u4e2d\u627e\u5230\u6211\u4eec\u53d1\u5e03\u7684codemod\u3002","title":"Stability"},{"location":"react/React-Design%20Principles/#interoperability","text":"We place high value in interoperability with existing systems and gradual adoption. Facebook has a massive non-React codebase. Its website uses a mix of a server-side component system called XHP, internal UI libraries that came before React, and React itself. It is important to us that any product team can start using React for a small feature rather than rewrite their code to bet on it. This is why React provides escape hatches to work with mutable models, and tries to work well together with other UI libraries. You can wrap an existing imperative UI into a declarative component, and vice versa. This is crucial for gradual adoption.","title":"Interoperability"},{"location":"react/React-Design%20Principles/#scheduling","text":"Even when your components are described as functions, when you use React you don\u2019t call them directly. Every component returns a description of what needs to be rendered , and that description may include both user-written components like <LikeButton> and platform-specific components like <div> . It is up to React to \u201cunroll\u201d <LikeButton> at some point in the future and actually apply changes to the UI tree according to the render results of the components recursively. This is a subtle distinction but a powerful one. Since you don\u2019t call that component function but let React call it, it means React has the power to delay calling it if necessary. In its current implementation React walks the tree recursively and calls render functions of the whole updated tree during a single tick. However in the future it might start delaying some updates to avoid dropping frames . This is a common theme in React design. Some popular libraries implement the \u201cpush\u201d approach where computations are performed when the new data is available. React, however, sticks to the \u201cpull\u201d approach where computations can be delayed until necessary. React is not a generic data processing library. It is a library for building user interfaces. We think that it is uniquely positioned in an app to know which computations are relevant right now and which are not. If something is offscreen, we can delay any logic related to it. If data is arriving faster than the frame rate, we can coalesce and batch updates. We can prioritize work coming from user interactions (such as an animation caused by a button click) over less important background work (such as rendering new content just loaded from the network) to avoid dropping frames. To be clear, we are not taking advantage of this right now. However the freedom to do something like this is why we prefer to have control over scheduling, and why setState() is asynchronous. Conceptually, we think of it as \u201cscheduling an update\u201d. The control over scheduling would be harder for us to gain if we let the user directly compose views with a \u201cpush\u201d based paradigm common in some variations of Functional Reactive Programming . We want to own the \u201cglue\u201d code. It is a key goal for React that the amount of the user code that executes before yielding back into React is minimal. This ensures that React retains the capability to schedule and split work in chunks according to what it knows about the UI. There is an internal joke in the team that React should have been called \u201cSchedule\u201d because React does not want to be fully \u201creactive\u201d.","title":"Scheduling"},{"location":"react/React-Design%20Principles/#developer-experience","text":"Providing a good developer experience is important to us. For example, we maintain React DevTools which let you inspect the React component tree in Chrome and Firefox. We have heard that it brings a big productivity boost both to the Facebook engineers and to the community. We also try to go an extra mile to provide helpful developer warnings. For example, React warns you in development if you nest tags in a way that the browser doesn\u2019t understand, or if you make a common typo in the API. Developer warnings and the related checks are the main reason why the development version of React is slower than the production version. The usage patterns that we see internally at Facebook help us understand what the common mistakes are, and how to prevent them early. When we add new features, we try to anticipate the common mistakes and warn about them. We are always looking out for ways to improve the developer experience. We love to hear your suggestions and accept your contributions to make it even better.","title":"Developer Experience"},{"location":"react/React-Design%20Principles/#debugging","text":"When something goes wrong, it is important that you have breadcrumbs to trace the mistake to its source in the codebase. In React, props and state are those breadcrumbs. If you see something wrong on the screen, you can open React DevTools, find the component responsible for rendering, and then see if the props and state are correct. If they are, you know that the problem is in the component\u2019s render() function, or some function that is called by render() . The problem is isolated. If the state is wrong, you know that the problem is caused by one of the setState() calls in this file. This, too, is relatively simple to locate and fix because usually there are only a few setState() calls in a single file. If the props are wrong, you can traverse the tree up in the inspector, looking for the component that first \u201cpoisoned the well\u201d by passing bad props down. This ability to trace any UI to the data that produced it in the form of current props and state is very important to React. It is an explicit design goal that state is not \u201ctrapped\u201d in closures and combinators, and is available to React directly. While the UI is dynamic, we believe that synchronous render() functions of props and state turn debugging from guesswork into a boring but finite procedure. We would like to preserve this constraint in React even though it makes some use cases, like complex animations, harder.","title":"Debugging"},{"location":"react/React-Design%20Principles/#configuration","text":"We find global runtime configuration options to be problematic. For example, it is occasionally requested that we implement a function like React.configure(options) or React.register(component) . However this poses multiple problems, and we are not aware of good solutions to them. What if somebody calls such a function from a third-party component library? What if one React app embeds another React app, and their desired configurations are incompatible? How can a third-party component specify that it requires a particular configuration? We think that global configuration doesn\u2019t work well with composition. Since composition is central to React, we don\u2019t provide global configuration in code. We do, however, provide some global configuration on the build level. For example, we provide separate development and production builds. We may also add a profiling build in the future, and we are open to considering other build flags.","title":"Configuration"},{"location":"react/React-Design%20Principles/#beyond-the-dom","text":"We see the value of React in the way it allows us to write components that have fewer bugs and compose together well. DOM is the original rendering target for React but React Native is just as important both to Facebook and the community. Being renderer-agnostic is an important design constraint of React. It adds some overhead in the internal representations. On the other hand, any improvements to the core translate across platforms. Having a single programming model lets us form engineering teams around products instead of platforms. So far the tradeoff has been worth it for us.","title":"Beyond the DOM"},{"location":"react/React-Design%20Principles/#implementation","text":"We try to provide elegant APIs where possible. We are much less concerned with the implementation being elegant. The real world is far from perfect, and to a reasonable extent we prefer to put the ugly code into the library if it means the user does not have to write it. When we evaluate new code, we are looking for an implementation that is correct, performant and affords a good developer experience. Elegance is secondary. We prefer boring code to clever code. Code is disposable and often changes. So it is important that it doesn\u2019t introduce new internal abstractions unless absolutely necessary . Verbose code that is easy to move around, change and remove is preferred to elegant code that is prematurely abstracted and hard to change.","title":"Implementation"},{"location":"react/React-Design%20Principles/#optimized-for-tooling","text":"Some commonly used APIs have verbose names. For example, we use componentDidMount() instead of didMount() or onMount() . This is intentional . The goal is to make the points of interaction with the library highly visible. In a massive codebase like Facebook, being able to search for uses of specific APIs is very important. We value distinct verbose names, and especially for the features that should be used sparingly. For example, dangerouslySetInnerHTML is hard to miss in a code review. Optimizing for search is also important because of our reliance on codemods to make breaking changes. We want it to be easy and safe to apply vast automated changes across the codebase, and unique verbose names help us achieve this. Similarly, distinctive names make it easy to write custom lint rules about using React without worrying about potential false positives. JSX plays a similar role. While it is not required with React, we use it extensively at Facebook both for aesthetic and pragmatic reasons. In our codebase, JSX provides an unambiguous hint to the tools that they are dealing with a React element tree. This makes it possible to add build-time optimizations such as hoisting constant elements , safely lint and codemod internal component usage, and include JSX source location into the warnings.","title":"Optimized for Tooling"},{"location":"react/React-Design%20Principles/#dogfooding","text":"We try our best to address the problems raised by the community. However we are likely to prioritize the issues that people are also experiencing internally at Facebook. Perhaps counter-intuitively, we think this is the main reason why the community can bet on React. Heavy internal usage gives us the confidence that React won\u2019t disappear tomorrow. React was created at Facebook to solve its problems. It brings tangible business value to the company and is used in many of its products. Dogfooding it means that our vision stays sharp and we have a focused direction going forward. This doesn\u2019t mean that we ignore the issues raised by the community. For example, we added support for web components and SVG to React even though we don\u2019t rely on either of them internally. We are actively listening to your pain points and address them to the best of our ability. The community is what makes React special to us, and we are honored to contribute back. After releasing many open source projects at Facebook, we have learned that trying to make everyone happy at the same time produced projects with poor focus that didn\u2019t grow well. Instead, we found that picking a small audience and focusing on making them happy brings a positive net effect. That\u2019s exactly what we did with React, and so far solving the problems encountered by Facebook product teams has translated well to the open source community. The downside of this approach is that sometimes we fail to give enough focus to the things that Facebook teams don\u2019t have to deal with, such as the \u201cgetting started\u201d experience. We are acutely aware of this, and we are thinking of how to improve in a way that would benefit everyone in the community without making the same mistakes we did with open source projects before.","title":"Dogfooding"},{"location":"react/React-Hooks/","text":"React-Hooks \u00b6 hook: \u5728class\u5916\u90e8\u4f7f\u7528 state \u7b49\u5c5e\u6027\u3002\u5728 React v16.7.0 \u4f7f\u7528\u3002 useState is a hook. It contains to parameters. The first is a viriate and the second is a control function. useState is like this.setState. \u5f02\u6b65\u8d4b\u503c import { useState } from 'react'; function Example() { // Declare a new state variable, which we will call 'count'. const [count, setCount] = useState(0); // the initial state is 0; // useState is simalar with this.setState return ( <div> <p>{count}</p> <button onClick={() => setCount(count + 1)}>Click</button> </div> ); } \u76ee\u524d\u9879\u76ee\u4e2d\u6ca1\u6709\u4f7f\u7528\u8fd9\u90e8\u5206\u529f\u80fd\uff0c\u6240\u4ee5\u540e\u7eed\u4f7f\u7528\u7684\u65f6\u5019\u518d\u52a0\u5f3a\u3002","title":"React-Hooks.md"},{"location":"react/React-Hooks/#react-hooks","text":"hook: \u5728class\u5916\u90e8\u4f7f\u7528 state \u7b49\u5c5e\u6027\u3002\u5728 React v16.7.0 \u4f7f\u7528\u3002 useState is a hook. It contains to parameters. The first is a viriate and the second is a control function. useState is like this.setState. \u5f02\u6b65\u8d4b\u503c import { useState } from 'react'; function Example() { // Declare a new state variable, which we will call 'count'. const [count, setCount] = useState(0); // the initial state is 0; // useState is simalar with this.setState return ( <div> <p>{count}</p> <button onClick={() => setCount(count + 1)}>Click</button> </div> ); } \u76ee\u524d\u9879\u76ee\u4e2d\u6ca1\u6709\u4f7f\u7528\u8fd9\u90e8\u5206\u529f\u80fd\uff0c\u6240\u4ee5\u540e\u7eed\u4f7f\u7528\u7684\u65f6\u5019\u518d\u52a0\u5f3a\u3002","title":"React-Hooks"},{"location":"react/React-Suspense%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%8E%A2%E8%AE%A8-%E6%B2%A1%E7%9C%8B%E6%98%8E%E7%99%BD/","text":"React\uff1aSuspense\u7684\u5b9e\u73b0\u4e0e\u63a2\u8ba8 \u00b6 Suspense\u7684\u5b9e\u73b0\u5f88\u8be1\u5f02\uff0c\u4e5f\u5907\u53d7\u4e89\u8bae\u3002\u7528Dan\u7684\u539f\u8bdd\u8bb2\uff1a \u4f60\u5c06\u4f1a\u6068\u6b7b\u5b83\uff0c\u7136\u540e\u4f60\u4f1a\u7231\u4e0a\u4ed6\u3002 \u4ecb\u7ecdSuspense \u00b6 \u8fd9\u4e2a\u4e3b\u8981\u89e3\u51b3\u7f51\u7edc\u7684IO\u95ee\u9898 \u5728render\u51fd\u6570\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5199\u5165\u4e00\u4e2a\u5f02\u6b65\u8bf7\u6c42\uff0c\u8bf7\u6c42\u6570\u636e react\u4f1a\u4ece\u6211\u4eec\u7f13\u5b58\u4e2d\u8bfb\u53d6\u8fd9\u4e2a\u7f13\u5b58 \u5982\u679c\u6709\u7f13\u5b58\u4e86\uff0c\u76f4\u63a5\u8fdb\u884c\u6b63\u5e38\u7684render \u5982\u679c\u6ca1\u6709\u7f13\u5b58\uff0c\u90a3\u4e48\u4f1a\u629b\u51fa\u4e00\u4e2a\u5f02\u5e38\uff0c\u8fd9\u4e2a\u5f02\u5e38\u662f\u4e00\u4e2apromise \u5f53\u8fd9\u4e2apromise\u5b8c\u6210\u540e\uff08\u8bf7\u6c42\u6570\u636e\u5b8c\u6210\uff09\uff0creact\u4f1a\u7ee7\u7eed\u56de\u5230\u539f\u6765\u7684render\u4e2d\uff08\u5b9e\u9645\u4e0a\u662f\u91cd\u65b0\u6267\u884c\u4e00\u904drender\uff09\uff0c\u628a\u6570\u636erender\u51fa\u6765 \u5b8c\u5168\u540c\u6b65\u5199\u6cd5\uff0c\u6ca1\u6709\u4efb\u4f55\u5f02\u6b65callback\u4e4b\u7c7b\u7684\u4e1c\u897f \u5982\u679c\u4f60\u8fd8\u6ca1\u6709\u660e\u767d\u8fd9\u662f\u4ec0\u4e48\u610f\u601d\u90a3\u6211\u7b80\u5355\u7684\u8868\u8ff0\u6210\u4e0b\u9762\u8fd9\u53e5\u8bdd\uff1a \u8c03\u7528render\u51fd\u6570->\u53d1\u73b0\u6709\u5f02\u6b65\u8bf7\u6c42->\u60ac\u505c\uff0c\u7b49\u5f85\u5f02\u6b65\u8bf7\u6c42\u7ed3\u679c->\u518d\u6e32\u67d3\u5c55\u793a\u6570\u636e \u770b\u7740\u662f\u975e\u5e38\u795e\u5947\u7684\uff0c**\u7528\u540c\u6b65\u65b9\u6cd5\u5199\u5f02\u6b65\uff0c\u800c\u4e14\u6ca1\u6709yield/async/await\uff0c**\u7b80\u76f4\u80fd\u628a\u4eba\u770b\u50bb\u773c\u4e86\u3002\u8fd9\u4e48\u505a\u7684\u597d\u5904\u81ea\u7136\u5c31\u662f\uff0c\u6211\u4eec\u7684\u601d\u7ef4\u903b\u8f91\u975e\u5e38\u7684\u7b80\u5355\uff0c\u6e05\u695a\uff0c\u6ca1\u6709callback\uff0c\u6ca1\u6709\u5176\u4ed6\u4efb\u4f55\u73a9\u610f\u3002 \u4e00\uff09\u7528\u73b0\u5728\u7684React 16+\u5b9e\u73b0Suspense \u00b6 \u8fd9\u4e2asuspense\u5f88\u795e\u5947\uff0c\u4f46\u662f\u5f53\u4f60\u77e5\u9053\u4e86\u5177\u4f53\u7ec6\u8282\u4e86\u4ee5\u540e\uff0c\u4f60\u5c31\u89c9\u5f97\uff0c\u5662\uff5e\uff5e\uff5e\uff5e\uff5e\uff5e\u539f\u6765\u662f\u8fd9\u6837\uff0c\u90a3\u4e48\u6839\u636e\u4e4b\u524d\u6211\u4eec\u7684\u4ecb\u7ecd\uff0c\u5168\u6587\u7684\u6700\u5173\u952e\u7684\u4e00\u4e2a\u5730\u65b9\u5c31\u662f\uff1a \u5982\u679c\u6ca1\u6709\u7f13\u5b58\uff0c\u90a3\u4e48\u4f1a\u629b\u51fa\u4e00\u4e2a\u5f02\u5e38\uff0c\u8fd9\u4e2a\u5f02\u5e38\u662f\u4e00\u4e2apromise \u6211\u4eec\u77e5\u9053\uff0c\u65e0\u8bba\u662f\u4ec0\u4e48\u5f02\u5e38\uff0cJavaScript\u90fd\u80fd\u6355\u83b7\uff0cReact\u5c31\u662f\u5229\u7528\u4e86\u8fd9\u4e2a\u8bed\u8a00\u7279\u6027\uff0c\u6355\u83b7\u4e86\u6240\u6709\u751f\u547d\u5468\u671f\u51fd\u6570\uff0crender\u51fd\u6570\uff0c\u4ee5\u53ca\u4e8b\u4ef6\u56de\u8c03\u4e2d\u7684\u4efb\u4f55\u9519\u8bef\uff0c\u5c01\u88c5\u8fdb\u4e00\u4e2a\u7279\u6b8a\u7684\u751f\u547d\u5468\u671f\u91cc\uff1a ComponentDidCatch \u90a3\u4e48\u5b9e\u9645\u4e0a\uff0cSuspense\u5c31\u662f\u4f9d\u8d56ComponentDidCatch\u5b9e\u73b0\u7684\u3002 1.1 createFetcher\u5b9e\u73b0 var cached = {}; export const createFetcher = ( promiseTask ) => { let ref = cached ; return () => { const task = promiseTask (); task . then ( res => { ref = res }); if ( ref === cached ) { throw task } return ref } } \u8fd9\u4e2a\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u8fd4\u56de\u4e00\u4e2aPromise\u3002\u8fd9\u91cc\u5e72\u7684\u5f88\u7b80\u5355\uff0c\u5229\u7528\u95ed\u5305\uff0c\u7f13\u5b58\u4e00\u4e2a\u53d8\u91cfref\uff0c\u7136\u540e\u5728\u6700\u540e\u8fd4\u56de\u7684\u51fd\u6570\u4e2d\uff0c\u8fdb\u884cthen\u64cd\u4f5c\uff0c\u5c06\u5f97\u5230\u7684\u7ed3\u679c\u8bbe\u7f6e\u7ed9\u7f13\u5b58ref\u3002 \u770b\u5230\u8fd9\u91cc\u7684\u65f6\u5019\uff0c\u6211\u76f8\u4fe1\u4f60\u8fd8\u662f\u6a21\u7cca\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u90fd\u77e5\u9053\uff0c\u8fd9\u4e2a\u51fd\u6570\u5728\u7b2c\u4e00\u6b21\u8c03\u7528\u7684\u65f6\u5019\uff0c\u5fc5\u5b9a\u629b\u51fa\u4e00\u4e2atask(Promise\uff09\uff0c\u63a5\u4e0b\u6765\u770b\u3002 1.2\u5b9e\u73b0Placeholder export class Placeholder extends React.Component { state = { isLoading: false }; componentDidCatch(error) { if (this._mounted) { if (typeof error.then === 'function') { this.setState({ isLoading: true }); error.then(() => { if (this._mounted) { this.setState({ isLoading: false }) } }); } } } componentDidMount() { this._mounted = true; } componentWillUnmount() { console.log('unm') this._mounted = false; } render() { const { children } = this.props; const { isLoading } = this.state; return isLoading ? '\u52a0\u8f7d\u6570\u636e\u4e2d\uff0c\u8bf7\u7a0d\u540e...' : children; } } \u8fd9\u91cc\u770b\u5230\uff0c\u6211\u4eec\u7684\u5173\u952e\u6027\u51fd\u6570\uff0c**componentDidCatch\uff0c**\u8fd9\u4e2a\u51fd\u6570\u4e3b\u8981\u5e72\u4e86\u4e09\u4ef6\u4e8b\u60c5 \u5f53\u6211\u4eec\u8c03\u7528\u4e00\u4e2a\u5e26\u6709createFetcher\u7684render\u51fd\u6570\u65f6\uff0c\u6355\u83b7\u629b\u51fa\u7684Promise\u5e76\u6e32\u67d3\u300c\u52a0\u8f7d\u4e2d...\u300d\u5b57\u6837 \u6267\u884cPromise.then\u64cd\u4f5c\uff0c\u5207\u6362loading\u6001\uff0c\u6e32\u67d3\u6211\u4eec\u5e26\u6709createFetcher\u7684render\u51fd\u6570 \u53cd\u590d\u6267\u884c1\u30012\u6b65\u9aa4\uff0c\u76f4\u5230createFetcher\u4e2d\u7684promise resolve \u4e0d\u80fd\u4e0d\u8bf4\uff0c**\u975e\u5e38\u5de7\u5999\u7684\u5236\u9020\u4e86\u4e00\u4e2a\u5c0f\u5faa\u73af\uff0c\u68c0\u67e5\u76f4\u5230**promise resolve\u4ee5\u540e\uff0c\u6e32\u67d3\u5b50\u7ec4\u4ef6 1.3\u6d4b\u8bd5\u7528\u4f8b export var fetchSometingApi = () => { return new Promise((resolve, reject) => { setTimeout(() => { resolve(\"\u52a0\u8f7d\u5b8c\u6bd5\uff0c\u8fd9\u662f\u4f60\u8981\u7684\u4e00\u6bb5\u6570\u636e\"); }, 3000); }); } const getData = createFetcher(fetchSometingApi); const FangZheng = ({ name }) => { return <h1>{getData()}!</h1> } class App extends React.Component { render() { return ( <Placeholder> <FangZheng /> </Placeholder> ); } } ReactDOM.render( <App />, document.getElementById('root') ); 1.4\u4f7f\u7528render prop\u5199\u4e00\u4e2aloading //\u53ea\u9700\u8981\u5c06\u521a\u521a\u7684placeholder\u4e2d\u7684render\u6539\u6210 render () { const { children } = this . props ; const { isLoading } = this . state ; return children ( isLoading ) } \u5728\u5916\u90e8\u7684\u65f6\u5019\u8fd9\u4e48\u4f7f\u7528 const getData = createFetcher(fetchSometingApi); const FangZheng = ({ name }) => { return <h1>{getData()}!</h1> } class App extends React.Component { state = { show: false } handleClick = () => { this.setState({ show: true }) } handleClickBack = () => { this.setState({ show: false }) } handleClickClear = () => { location.reload(); } render() { return ( <div> <button onClick={this.handleClick}>\u52a0\u8f7d</button> <button onClick={this.handleClickBack}>\u56de\u9000</button> <button onClick={this.handleClickClear}>\u6e05\u9664\u7f13\u5b58</button> <div> {this.state.show ? <Loading> {isLoading => isLoading ? <Spin /> : <FangZheng />} </Loading> : null } </div> </div> ); } } \u7b2c\u4e00\u6b21\u8bfb\u53d6\u4ee5\u540e\uff0c\u7ed3\u679c\u7f13\u5b58\uff0c\u7b2c\u4e8c\u6b21\u52a0\u8f7d\u76f4\u63a5\u51fa\u73b0 \u4e8c\uff09\u4e00\u4e9b\u601d\u8003 \u00b6 \u8fd9\u4e00\u79cd\u7ec4\u4ef6\u7684\u4e66\u5199\u65b9\u5f0f\uff0c\u53ef\u4ee5\u8bf4\u5b8c\u5168\u7834\u574f\u4e86\u6211\u4eec\u4e4b\u524d\u7684\u56fa\u6709\u601d\u7ef4\uff1a render\u5fc5\u987b\u662f\u7eaf\u51fd\u6570 \u6211\u4eec\u6765\u8bf4\u8bf4\u597d\u5904\uff1a \u975e\u5e38\u5b9e\u7528\uff0c\u8fd9\u4e00\u90e8\u5206\u5570\u5570\u55e6\u55e6\u7684\u903b\u8f91\u5728redux\u4e2d\u641e\u7684\u8bdd\uff0c\u5fc5\u987b\u5f97\u6307\u5b9a\u591a\u4e2a\u72b6\u6001\u7136\u540e\u624d\u80fd\u5b8c\u4e8b **\u5728Jsx\u5c42**\u89e3\u51b3\u8fd9\u79cd\u5e38\u89c1\u7684\u526f\u4f5c\u7528\uff0c\u5728\u540c\u6784\u5e94\u7528\u4e2d\u53d1\u6325\u66f4\u5927\u7684\u6548\u679c\uff0c\u56e0\u4e3a\u4ee3\u7801\u53ef\u4ee5\u66f4\u7edf\u4e00\uff0c\u6211\u4e2a\u4eba\u8ba4\u4e3a\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u4f18\u96c5\u7684\u65b9\u5f0f \u5f02\u6b65\u540c\u6b65\u5316\u3002\u5f02\u6b65\u7684\u540c\u6b65\u5316\u8fd9\u51e0\u5e74\u4e00\u76f4\u90fd\u5728\u505a\uff0c\u800c\u4e14\u8fd9\u4e00\u6b21\u53ef\u4ee5\u8bf4\u89e3\u51b3\u5f97\u66f4\u52a0\u5f7b\u5e95\uff0c\u8fde\u4e4b\u524d\u7684yield async/await\u90fd\u6ca1\u4e86 \u526f\u4f5c\u7528\u7c92\u5ea6\u5c0f\uff0c\u672c\u6765\u4e00\u4e2a\u7ec4\u4ef6\u7684\u300c\u81ea\u66f4\u65b0\u300d\u5c31\u662f\u4ed6\u81ea\u5df1\u7684\u4e8b\u60c5\uff0c\u5f97\u76ca\u4e8e\u8fd9\u6837\u7684\u8bbe\u8ba1\uff0c\u6211\u4eec\u7684\u7ec4\u4ef6\u53ef\u4ee5\u91cd\u65b0\u56de\u5f52\uff0c\u81ea\u5df1\u72b6\u6001\u81ea\u5df1\u7ba1\u7406\u8fd9\u79cd\u597d\u4e8b\u4e2d\u53bb\u3002 \u518d\u6765\u8bf4\u8bf4\u574f\u5904\uff1a Hack\uff0c\u4e0d\u5f97\u4e0d\u8bf4\uff0c\u867d\u7136\u5de7\u5999\uff0c\u4f46\u662f\u7528throw promise\u662f\u4e00\u4e2ahack\uff0c\u5229\u7528\u8bed\u8a00\u7279\u6027\u5236\u9020\u7684\u8fd9\u79cdhack\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u67d0\u4e9b\u95ee\u9898\u96be\u4ee5\u6392\u67e5\u3002\u6211\u60f3\u8fd9\u4e5f\u5c31\u662f\u4e3a\u4ec0\u4e48react team\u628a\u4e00\u4e2a\u300c\u672c\u6765\u53ef\u4ee5\u653e\u5728\u5916\u9762\u5b9e\u73b0\u7684\u529f\u80fd\uff0c\u5199\u8fdb\u4e86react\u300d\uff0c\u4ed6\u4eec\u4e00\u5b9a\u4e5f\u5728\u6478\u7d22\u5230\u5e95\u4f1a\u6709\u4ec0\u4e48\u5947\u602a\u7684bug\u3002 render \u51fd\u6570\u4e0d\u518d\u7eaf\uff1a\u4e00\u4e2a\u7eaf\u51fd\u6570\u7684\u6700\u5927\u597d\u5904\u5c31\u662f\uff0c\u4ed6\u7684\u4e00\u5207\u7ed3\u679c\u6211\u4eec\u90fd\u80fd\u9884\u77e5\uff0c\u5e26\u6709\u526f\u4f5c\u7528\u7684\u51fd\u6570\u4e00\u4e24\u4e2a\u8fd8\u597d\uff0c\u591a\u4e86\u5c31\u53ef\u80fd\u4f1a\u5bfc\u81f4bug\u3002\u51b5\u4e14\uff0crender\u51fd\u6570\u5e76\u4e0d\u662f\u4e00\u4e2a\u666e\u901a\u7684\u51fd\u6570\uff0c\u800c\u662fReact\u7684\u6839\u57fa\uff0c\u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u90fd\u5fc5\u987b\u8981\u6709\u4e00\u4e2arender\uff08\u65e0\u72b6\u6001\u7ec4\u4ef6\u4e5f\u53ebrender\uff09 \u51fd\u6570\u3002 \u4e09\uff09\u6700\u540e\u603b\u7ed3 \u00b6 \u5b9e\u9645\u4e0asuspense\u5df2\u7ecf\u53ef\u4ee5\u5728\u6211\u4eec\u7684\u65e5\u5e38\u751f\u6d3b\u4e2d\u4f7f\u7528\u4e86\uff0c\u4e5f\u5c31\u662f\u50cf\u6211\u4e00\u6837\u53bb\u81ea\u5df1\u5b9e\u73b0\u4e00\u4e2a\u3002\u4ece\u7b2c\u4e00\u76f4\u89c9\u6765\u770b\uff0csuspense\u662f\u4e00\u4e2a\u4f18\u70b9\u8d3c\u591a\uff0c\u7f3a\u70b9\u611f\u89c9\u53c8\u53ef\u4ee5\u5ffd\u7565\u4e0d\u8ba1\u7684\u65b0\u7279\u6027\u3002 \u5f53\u7136\uff0c\u76ee\u524d\u6765\u8bf4\uff0csuspense\u5e76\u6ca1\u6709\u6295\u5165\u5927\u89c4\u6a21\u4f7f\u7528\uff0c\u6709\u4ec0\u4e48\u795e\u5947\u7684bug\u8fd8\u4e0d\u597d\u8bf4\uff0c\u4f46\u662f\u5c31\u51b2throw promise\u8fd9\u4e00\u70b9\uff0c\u6211\u51b3\u5b9a\u4e0b\u5468\u5c31\u518d\u9879\u76ee\u4e2d\u5199\u4e00\u4e2a\u5c0f\u7ec4\u4ef6\u8bd5\u8bd5\u624b.... \u6700\u540e\uff0c\u4eca\u5929\u7684\u5206\u6790\u4ee3\u7801\u6211\u653e\u5728\u4e86\uff1a https://github.com/215566435/think-in-suspense","title":"React-Suspense\u7684\u5b9e\u73b0\u4e0e\u63a2\u8ba8-\u6ca1\u770b\u660e\u767d.md"},{"location":"react/React-Suspense%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%8E%A2%E8%AE%A8-%E6%B2%A1%E7%9C%8B%E6%98%8E%E7%99%BD/#reactsuspense","text":"Suspense\u7684\u5b9e\u73b0\u5f88\u8be1\u5f02\uff0c\u4e5f\u5907\u53d7\u4e89\u8bae\u3002\u7528Dan\u7684\u539f\u8bdd\u8bb2\uff1a \u4f60\u5c06\u4f1a\u6068\u6b7b\u5b83\uff0c\u7136\u540e\u4f60\u4f1a\u7231\u4e0a\u4ed6\u3002","title":"React\uff1aSuspense\u7684\u5b9e\u73b0\u4e0e\u63a2\u8ba8"},{"location":"react/React-Suspense%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%8E%A2%E8%AE%A8-%E6%B2%A1%E7%9C%8B%E6%98%8E%E7%99%BD/#suspense","text":"\u8fd9\u4e2a\u4e3b\u8981\u89e3\u51b3\u7f51\u7edc\u7684IO\u95ee\u9898 \u5728render\u51fd\u6570\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5199\u5165\u4e00\u4e2a\u5f02\u6b65\u8bf7\u6c42\uff0c\u8bf7\u6c42\u6570\u636e react\u4f1a\u4ece\u6211\u4eec\u7f13\u5b58\u4e2d\u8bfb\u53d6\u8fd9\u4e2a\u7f13\u5b58 \u5982\u679c\u6709\u7f13\u5b58\u4e86\uff0c\u76f4\u63a5\u8fdb\u884c\u6b63\u5e38\u7684render \u5982\u679c\u6ca1\u6709\u7f13\u5b58\uff0c\u90a3\u4e48\u4f1a\u629b\u51fa\u4e00\u4e2a\u5f02\u5e38\uff0c\u8fd9\u4e2a\u5f02\u5e38\u662f\u4e00\u4e2apromise \u5f53\u8fd9\u4e2apromise\u5b8c\u6210\u540e\uff08\u8bf7\u6c42\u6570\u636e\u5b8c\u6210\uff09\uff0creact\u4f1a\u7ee7\u7eed\u56de\u5230\u539f\u6765\u7684render\u4e2d\uff08\u5b9e\u9645\u4e0a\u662f\u91cd\u65b0\u6267\u884c\u4e00\u904drender\uff09\uff0c\u628a\u6570\u636erender\u51fa\u6765 \u5b8c\u5168\u540c\u6b65\u5199\u6cd5\uff0c\u6ca1\u6709\u4efb\u4f55\u5f02\u6b65callback\u4e4b\u7c7b\u7684\u4e1c\u897f \u5982\u679c\u4f60\u8fd8\u6ca1\u6709\u660e\u767d\u8fd9\u662f\u4ec0\u4e48\u610f\u601d\u90a3\u6211\u7b80\u5355\u7684\u8868\u8ff0\u6210\u4e0b\u9762\u8fd9\u53e5\u8bdd\uff1a \u8c03\u7528render\u51fd\u6570->\u53d1\u73b0\u6709\u5f02\u6b65\u8bf7\u6c42->\u60ac\u505c\uff0c\u7b49\u5f85\u5f02\u6b65\u8bf7\u6c42\u7ed3\u679c->\u518d\u6e32\u67d3\u5c55\u793a\u6570\u636e \u770b\u7740\u662f\u975e\u5e38\u795e\u5947\u7684\uff0c**\u7528\u540c\u6b65\u65b9\u6cd5\u5199\u5f02\u6b65\uff0c\u800c\u4e14\u6ca1\u6709yield/async/await\uff0c**\u7b80\u76f4\u80fd\u628a\u4eba\u770b\u50bb\u773c\u4e86\u3002\u8fd9\u4e48\u505a\u7684\u597d\u5904\u81ea\u7136\u5c31\u662f\uff0c\u6211\u4eec\u7684\u601d\u7ef4\u903b\u8f91\u975e\u5e38\u7684\u7b80\u5355\uff0c\u6e05\u695a\uff0c\u6ca1\u6709callback\uff0c\u6ca1\u6709\u5176\u4ed6\u4efb\u4f55\u73a9\u610f\u3002","title":"\u4ecb\u7ecdSuspense"},{"location":"react/React-Suspense%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%8E%A2%E8%AE%A8-%E6%B2%A1%E7%9C%8B%E6%98%8E%E7%99%BD/#react-16suspense","text":"\u8fd9\u4e2asuspense\u5f88\u795e\u5947\uff0c\u4f46\u662f\u5f53\u4f60\u77e5\u9053\u4e86\u5177\u4f53\u7ec6\u8282\u4e86\u4ee5\u540e\uff0c\u4f60\u5c31\u89c9\u5f97\uff0c\u5662\uff5e\uff5e\uff5e\uff5e\uff5e\uff5e\u539f\u6765\u662f\u8fd9\u6837\uff0c\u90a3\u4e48\u6839\u636e\u4e4b\u524d\u6211\u4eec\u7684\u4ecb\u7ecd\uff0c\u5168\u6587\u7684\u6700\u5173\u952e\u7684\u4e00\u4e2a\u5730\u65b9\u5c31\u662f\uff1a \u5982\u679c\u6ca1\u6709\u7f13\u5b58\uff0c\u90a3\u4e48\u4f1a\u629b\u51fa\u4e00\u4e2a\u5f02\u5e38\uff0c\u8fd9\u4e2a\u5f02\u5e38\u662f\u4e00\u4e2apromise \u6211\u4eec\u77e5\u9053\uff0c\u65e0\u8bba\u662f\u4ec0\u4e48\u5f02\u5e38\uff0cJavaScript\u90fd\u80fd\u6355\u83b7\uff0cReact\u5c31\u662f\u5229\u7528\u4e86\u8fd9\u4e2a\u8bed\u8a00\u7279\u6027\uff0c\u6355\u83b7\u4e86\u6240\u6709\u751f\u547d\u5468\u671f\u51fd\u6570\uff0crender\u51fd\u6570\uff0c\u4ee5\u53ca\u4e8b\u4ef6\u56de\u8c03\u4e2d\u7684\u4efb\u4f55\u9519\u8bef\uff0c\u5c01\u88c5\u8fdb\u4e00\u4e2a\u7279\u6b8a\u7684\u751f\u547d\u5468\u671f\u91cc\uff1a ComponentDidCatch \u90a3\u4e48\u5b9e\u9645\u4e0a\uff0cSuspense\u5c31\u662f\u4f9d\u8d56ComponentDidCatch\u5b9e\u73b0\u7684\u3002 1.1 createFetcher\u5b9e\u73b0 var cached = {}; export const createFetcher = ( promiseTask ) => { let ref = cached ; return () => { const task = promiseTask (); task . then ( res => { ref = res }); if ( ref === cached ) { throw task } return ref } } \u8fd9\u4e2a\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u8fd4\u56de\u4e00\u4e2aPromise\u3002\u8fd9\u91cc\u5e72\u7684\u5f88\u7b80\u5355\uff0c\u5229\u7528\u95ed\u5305\uff0c\u7f13\u5b58\u4e00\u4e2a\u53d8\u91cfref\uff0c\u7136\u540e\u5728\u6700\u540e\u8fd4\u56de\u7684\u51fd\u6570\u4e2d\uff0c\u8fdb\u884cthen\u64cd\u4f5c\uff0c\u5c06\u5f97\u5230\u7684\u7ed3\u679c\u8bbe\u7f6e\u7ed9\u7f13\u5b58ref\u3002 \u770b\u5230\u8fd9\u91cc\u7684\u65f6\u5019\uff0c\u6211\u76f8\u4fe1\u4f60\u8fd8\u662f\u6a21\u7cca\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u90fd\u77e5\u9053\uff0c\u8fd9\u4e2a\u51fd\u6570\u5728\u7b2c\u4e00\u6b21\u8c03\u7528\u7684\u65f6\u5019\uff0c\u5fc5\u5b9a\u629b\u51fa\u4e00\u4e2atask(Promise\uff09\uff0c\u63a5\u4e0b\u6765\u770b\u3002 1.2\u5b9e\u73b0Placeholder export class Placeholder extends React.Component { state = { isLoading: false }; componentDidCatch(error) { if (this._mounted) { if (typeof error.then === 'function') { this.setState({ isLoading: true }); error.then(() => { if (this._mounted) { this.setState({ isLoading: false }) } }); } } } componentDidMount() { this._mounted = true; } componentWillUnmount() { console.log('unm') this._mounted = false; } render() { const { children } = this.props; const { isLoading } = this.state; return isLoading ? '\u52a0\u8f7d\u6570\u636e\u4e2d\uff0c\u8bf7\u7a0d\u540e...' : children; } } \u8fd9\u91cc\u770b\u5230\uff0c\u6211\u4eec\u7684\u5173\u952e\u6027\u51fd\u6570\uff0c**componentDidCatch\uff0c**\u8fd9\u4e2a\u51fd\u6570\u4e3b\u8981\u5e72\u4e86\u4e09\u4ef6\u4e8b\u60c5 \u5f53\u6211\u4eec\u8c03\u7528\u4e00\u4e2a\u5e26\u6709createFetcher\u7684render\u51fd\u6570\u65f6\uff0c\u6355\u83b7\u629b\u51fa\u7684Promise\u5e76\u6e32\u67d3\u300c\u52a0\u8f7d\u4e2d...\u300d\u5b57\u6837 \u6267\u884cPromise.then\u64cd\u4f5c\uff0c\u5207\u6362loading\u6001\uff0c\u6e32\u67d3\u6211\u4eec\u5e26\u6709createFetcher\u7684render\u51fd\u6570 \u53cd\u590d\u6267\u884c1\u30012\u6b65\u9aa4\uff0c\u76f4\u5230createFetcher\u4e2d\u7684promise resolve \u4e0d\u80fd\u4e0d\u8bf4\uff0c**\u975e\u5e38\u5de7\u5999\u7684\u5236\u9020\u4e86\u4e00\u4e2a\u5c0f\u5faa\u73af\uff0c\u68c0\u67e5\u76f4\u5230**promise resolve\u4ee5\u540e\uff0c\u6e32\u67d3\u5b50\u7ec4\u4ef6 1.3\u6d4b\u8bd5\u7528\u4f8b export var fetchSometingApi = () => { return new Promise((resolve, reject) => { setTimeout(() => { resolve(\"\u52a0\u8f7d\u5b8c\u6bd5\uff0c\u8fd9\u662f\u4f60\u8981\u7684\u4e00\u6bb5\u6570\u636e\"); }, 3000); }); } const getData = createFetcher(fetchSometingApi); const FangZheng = ({ name }) => { return <h1>{getData()}!</h1> } class App extends React.Component { render() { return ( <Placeholder> <FangZheng /> </Placeholder> ); } } ReactDOM.render( <App />, document.getElementById('root') ); 1.4\u4f7f\u7528render prop\u5199\u4e00\u4e2aloading //\u53ea\u9700\u8981\u5c06\u521a\u521a\u7684placeholder\u4e2d\u7684render\u6539\u6210 render () { const { children } = this . props ; const { isLoading } = this . state ; return children ( isLoading ) } \u5728\u5916\u90e8\u7684\u65f6\u5019\u8fd9\u4e48\u4f7f\u7528 const getData = createFetcher(fetchSometingApi); const FangZheng = ({ name }) => { return <h1>{getData()}!</h1> } class App extends React.Component { state = { show: false } handleClick = () => { this.setState({ show: true }) } handleClickBack = () => { this.setState({ show: false }) } handleClickClear = () => { location.reload(); } render() { return ( <div> <button onClick={this.handleClick}>\u52a0\u8f7d</button> <button onClick={this.handleClickBack}>\u56de\u9000</button> <button onClick={this.handleClickClear}>\u6e05\u9664\u7f13\u5b58</button> <div> {this.state.show ? <Loading> {isLoading => isLoading ? <Spin /> : <FangZheng />} </Loading> : null } </div> </div> ); } } \u7b2c\u4e00\u6b21\u8bfb\u53d6\u4ee5\u540e\uff0c\u7ed3\u679c\u7f13\u5b58\uff0c\u7b2c\u4e8c\u6b21\u52a0\u8f7d\u76f4\u63a5\u51fa\u73b0","title":"\u4e00\uff09\u7528\u73b0\u5728\u7684React 16+\u5b9e\u73b0Suspense"},{"location":"react/React-Suspense%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%8E%A2%E8%AE%A8-%E6%B2%A1%E7%9C%8B%E6%98%8E%E7%99%BD/#_1","text":"\u8fd9\u4e00\u79cd\u7ec4\u4ef6\u7684\u4e66\u5199\u65b9\u5f0f\uff0c\u53ef\u4ee5\u8bf4\u5b8c\u5168\u7834\u574f\u4e86\u6211\u4eec\u4e4b\u524d\u7684\u56fa\u6709\u601d\u7ef4\uff1a render\u5fc5\u987b\u662f\u7eaf\u51fd\u6570 \u6211\u4eec\u6765\u8bf4\u8bf4\u597d\u5904\uff1a \u975e\u5e38\u5b9e\u7528\uff0c\u8fd9\u4e00\u90e8\u5206\u5570\u5570\u55e6\u55e6\u7684\u903b\u8f91\u5728redux\u4e2d\u641e\u7684\u8bdd\uff0c\u5fc5\u987b\u5f97\u6307\u5b9a\u591a\u4e2a\u72b6\u6001\u7136\u540e\u624d\u80fd\u5b8c\u4e8b **\u5728Jsx\u5c42**\u89e3\u51b3\u8fd9\u79cd\u5e38\u89c1\u7684\u526f\u4f5c\u7528\uff0c\u5728\u540c\u6784\u5e94\u7528\u4e2d\u53d1\u6325\u66f4\u5927\u7684\u6548\u679c\uff0c\u56e0\u4e3a\u4ee3\u7801\u53ef\u4ee5\u66f4\u7edf\u4e00\uff0c\u6211\u4e2a\u4eba\u8ba4\u4e3a\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u4f18\u96c5\u7684\u65b9\u5f0f \u5f02\u6b65\u540c\u6b65\u5316\u3002\u5f02\u6b65\u7684\u540c\u6b65\u5316\u8fd9\u51e0\u5e74\u4e00\u76f4\u90fd\u5728\u505a\uff0c\u800c\u4e14\u8fd9\u4e00\u6b21\u53ef\u4ee5\u8bf4\u89e3\u51b3\u5f97\u66f4\u52a0\u5f7b\u5e95\uff0c\u8fde\u4e4b\u524d\u7684yield async/await\u90fd\u6ca1\u4e86 \u526f\u4f5c\u7528\u7c92\u5ea6\u5c0f\uff0c\u672c\u6765\u4e00\u4e2a\u7ec4\u4ef6\u7684\u300c\u81ea\u66f4\u65b0\u300d\u5c31\u662f\u4ed6\u81ea\u5df1\u7684\u4e8b\u60c5\uff0c\u5f97\u76ca\u4e8e\u8fd9\u6837\u7684\u8bbe\u8ba1\uff0c\u6211\u4eec\u7684\u7ec4\u4ef6\u53ef\u4ee5\u91cd\u65b0\u56de\u5f52\uff0c\u81ea\u5df1\u72b6\u6001\u81ea\u5df1\u7ba1\u7406\u8fd9\u79cd\u597d\u4e8b\u4e2d\u53bb\u3002 \u518d\u6765\u8bf4\u8bf4\u574f\u5904\uff1a Hack\uff0c\u4e0d\u5f97\u4e0d\u8bf4\uff0c\u867d\u7136\u5de7\u5999\uff0c\u4f46\u662f\u7528throw promise\u662f\u4e00\u4e2ahack\uff0c\u5229\u7528\u8bed\u8a00\u7279\u6027\u5236\u9020\u7684\u8fd9\u79cdhack\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u67d0\u4e9b\u95ee\u9898\u96be\u4ee5\u6392\u67e5\u3002\u6211\u60f3\u8fd9\u4e5f\u5c31\u662f\u4e3a\u4ec0\u4e48react team\u628a\u4e00\u4e2a\u300c\u672c\u6765\u53ef\u4ee5\u653e\u5728\u5916\u9762\u5b9e\u73b0\u7684\u529f\u80fd\uff0c\u5199\u8fdb\u4e86react\u300d\uff0c\u4ed6\u4eec\u4e00\u5b9a\u4e5f\u5728\u6478\u7d22\u5230\u5e95\u4f1a\u6709\u4ec0\u4e48\u5947\u602a\u7684bug\u3002 render \u51fd\u6570\u4e0d\u518d\u7eaf\uff1a\u4e00\u4e2a\u7eaf\u51fd\u6570\u7684\u6700\u5927\u597d\u5904\u5c31\u662f\uff0c\u4ed6\u7684\u4e00\u5207\u7ed3\u679c\u6211\u4eec\u90fd\u80fd\u9884\u77e5\uff0c\u5e26\u6709\u526f\u4f5c\u7528\u7684\u51fd\u6570\u4e00\u4e24\u4e2a\u8fd8\u597d\uff0c\u591a\u4e86\u5c31\u53ef\u80fd\u4f1a\u5bfc\u81f4bug\u3002\u51b5\u4e14\uff0crender\u51fd\u6570\u5e76\u4e0d\u662f\u4e00\u4e2a\u666e\u901a\u7684\u51fd\u6570\uff0c\u800c\u662fReact\u7684\u6839\u57fa\uff0c\u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u90fd\u5fc5\u987b\u8981\u6709\u4e00\u4e2arender\uff08\u65e0\u72b6\u6001\u7ec4\u4ef6\u4e5f\u53ebrender\uff09 \u51fd\u6570\u3002","title":"\u4e8c\uff09\u4e00\u4e9b\u601d\u8003"},{"location":"react/React-Suspense%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%8E%A2%E8%AE%A8-%E6%B2%A1%E7%9C%8B%E6%98%8E%E7%99%BD/#_2","text":"\u5b9e\u9645\u4e0asuspense\u5df2\u7ecf\u53ef\u4ee5\u5728\u6211\u4eec\u7684\u65e5\u5e38\u751f\u6d3b\u4e2d\u4f7f\u7528\u4e86\uff0c\u4e5f\u5c31\u662f\u50cf\u6211\u4e00\u6837\u53bb\u81ea\u5df1\u5b9e\u73b0\u4e00\u4e2a\u3002\u4ece\u7b2c\u4e00\u76f4\u89c9\u6765\u770b\uff0csuspense\u662f\u4e00\u4e2a\u4f18\u70b9\u8d3c\u591a\uff0c\u7f3a\u70b9\u611f\u89c9\u53c8\u53ef\u4ee5\u5ffd\u7565\u4e0d\u8ba1\u7684\u65b0\u7279\u6027\u3002 \u5f53\u7136\uff0c\u76ee\u524d\u6765\u8bf4\uff0csuspense\u5e76\u6ca1\u6709\u6295\u5165\u5927\u89c4\u6a21\u4f7f\u7528\uff0c\u6709\u4ec0\u4e48\u795e\u5947\u7684bug\u8fd8\u4e0d\u597d\u8bf4\uff0c\u4f46\u662f\u5c31\u51b2throw promise\u8fd9\u4e00\u70b9\uff0c\u6211\u51b3\u5b9a\u4e0b\u5468\u5c31\u518d\u9879\u76ee\u4e2d\u5199\u4e00\u4e2a\u5c0f\u7ec4\u4ef6\u8bd5\u8bd5\u624b.... \u6700\u540e\uff0c\u4eca\u5929\u7684\u5206\u6790\u4ee3\u7801\u6211\u653e\u5728\u4e86\uff1a https://github.com/215566435/think-in-suspense","title":"\u4e09\uff09\u6700\u540e\u603b\u7ed3"},{"location":"react/React-advanced-guides/","text":"React \u9ad8\u7ea7\u6307\u5bfc \u00b6 1\u3001\u6df1\u5165JSX\u8bed\u6cd5 \u00b6 jsx\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u8bed\u6cd5\u7cd6\uff0cbabel \u5c06 jsx \u8f6c\u5316\u4e3a JS\uff0cReact.createElement \u7684\u8fc7\u7a0b\uff08\u521b\u5efa\u6807\u7b7e\u548c\u5c5e\u6027\uff09\u3002 \u5982\u679c\u6807\u7b7e\u4e2d\u662f\u5927\u5199\uff0c\u8bf4\u660e\u662f\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u5fc5\u987b\u5728\u4f5c\u7528\u57df\u4e2d\u58f0\u660e\u3002\u7ec4\u4ef6\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\u3002 import React from 'react'; function Hello(props) { return <div>Hello {this.props.name}</div>; } function HelloWorld() { return <Hello name=\"Amirica\"/> } // \u53ea\u8981\u5728\u5b9a\u4e49\u57df\u5185\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff0c\u8fd4\u56de\u503c\u662f\u4e00\u4e2aJSX\u5373\u53ef\u4f5c\u4e3a\u4e00\u4e2a\u5355\u5411\u7684\u7ec4\u4ef6 \u5927\u62ec\u53f7 \u00b6 JSX\u4e2d { } \u5185\u90e8\u7684 JS \u8bed\u53e5\uff1aif \u548c for \u4e0d\u80fd\u5728\u5927\u62ec\u53f7\u5185\u4f7f\u7528\uff08\u53ef\u4ee5\u4f7f\u7528 && \u8fdb\u884c\u5224\u65ad\uff09\u53ef\u4ee5\u5728return\u4e4b\u524d\u64cd\u4f5c if \u548c for\u7b49\u590d\u6742\u53d8\u91cf\u5904\u7406\u8fc7\u7a0b\uff0c\u5c06\u9700\u8981\u663e\u793a\u7684\u53d8\u91cf\u6682\u65f6\u5b58\u50a8\u5728\u53d8\u91cf\u4e2d\uff0c\u8fd9\u6837\u5b9e\u73b0\u6761\u4ef6\u6e32\u67d3\u548c\u5faa\u73af\u3002 \u6269\u5c55\u5c5e\u6027 \u00b6 const props = {name: \"Mike\", age: '16'}; //object return <Hello {...props}>; // \u5c06\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3aprops\u8fdb\u884c\u4f20\u9012\u3002\u4f18\u70b9\uff1a\u5927\u578b\u5e94\u7528\u6570\u636e\u591a\uff0c\u7edf\u914d\u5411\u4e0b\u4f20\u9012\u5c5e\u6027\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7684\u8fdb\u884c\u6811\u7ed3\u6784\u521b\u5efa\u3002\u7f3a\u70b9\uff1a\u5f88\u591a\u4e0d\u76f8\u5173\u7684\u5c5e\u6027\u521b\u5efa\u5230\u8282\u70b9\u5185\u90e8\u3002 jsx \u4e2d\u4f7f\u7528 && \u8fdb\u884c\u6761\u4ef6\u6e32\u67d3\u3002\u9700\u8981\u6ce8\u610f\uff1a\u524d\u9762\u7684\u6761\u4ef6\u5fc5\u987b\u8fd4\u56de false \u7684\u60c5\u51b5\u4e0b\u624d\u4e0d\u4f1a\u6e32\u67d3\u540e\u9762\u7684\u5bf9\u8c61\u3002 {this.props.commentsNumber.length && <span></span>} // \u5f53\u6570\u7ec4\u7684\u957f\u5ea6\u662f0(\u7a7a\u6570\u7ec4)\uff0c\u957f\u5ea6\u662f0\uff0c\u754c\u9762\u4f1a\u6e32\u67d3\u4e00\u4e2a0\uff0c\u800c\u4e0d\u4f1a\u6e32\u67d3\u540e\u9762\u7684span\u3002 \u5982\u679c\u60f3\u8981\u4ee5jsx\u7684\u5f62\u5f0f\u5728\u754c\u9762\u4e0a\u8f93\u51fa true \u6216 false null undefined\uff0c \u90a3\u4e48\u9700\u8981\u8f6c\u5316\u6210\u5b57\u7b26\u4e32\u8fdb\u884c\u8f93\u51fa\u3002\u5426\u5219JSX\u4e2d\u8fdb\u884c\u5224\u65ad\u64cd\u4f5c\u3002 2\u3001PropTypes\u76d1\u6d4b\u6570\u636e\u7c7b\u578b \u00b6 \u6ce8\u610f: React.PropTypes \u81ea React v15.5 \u8d77\u5df2\u5f03\u7528\u3002\u8bf7\u4f7f\u7528 prop-types \u5e93\u4ee3\u66ff\u3002 import PropTypes from 'prop-types'; class Hello extends React.Component { render() { return <div>{this.props.name}</div>; } } Hello.propTypes = { name: PropTypes.string.isRequired }; \u5728\u5f00\u53d1\u6a21\u5f0f\u4e0b\uff0creact\u4f1a\u76d1\u6d4b\u4f20\u503c\u7684\u7c7b\u578b\uff1b // \u4f60\u4e5f\u53ef\u4ee5\u9650\u5236\u4f60\u7684\u5c5e\u6027\u503c\u662f\u67d0\u4e2a\u7279\u5b9a\u503c\u4e4b\u4e00 optionalEnum: PropTypes.oneOf(['News', 'Photos']), // \u9650\u5236\u5b83\u4e3a\u5217\u4e3e\u7c7b\u578b\u4e4b\u4e00\u7684\u5bf9\u8c61 optionalUnion: PropTypes.oneOfType([ PropTypes.string, PropTypes.number, PropTypes.instanceOf(Message) ]), requiredAny: PropTypes.any.isRequired, 3\u3001\u9759\u6001\u7c7b\u578b\u68c0\u67e5 \u00b6 \u4f7f\u7528 flow-bin \u5e93\u68c0\u67e5\u6570\u636e\u7c7b\u578b\uff1a\u8fd9\u4e2a\u6bd4propTypes \u5f3a\u5927(facebook) npm install flow-bin --save-dev flow-bin npm run flow init # \u589e\u52a0 \"flow\": \"flow\" \u5230 package.json \u811a\u672c\u4e2d npm install --save-dev babel-preset-flow # \u7a0d\u540e\u8fd0\u884c npm run flow # \u8be6\u60c5\u67e5\u9605 flow \u7684\u8bf4\u660e\u6587\u6863 typeScript - \u5fae\u8f6f 4\u3001ref \u00b6 \u5728\u8fd9\u4e09\u79cd\u60c5\u51b5\u4e0b\u4f7f\u7528 ref \u3002\u5c3d\u91cf\u51cf\u5c11 ref \u7684\u4f7f\u7528\u3002\u5982\u679c\u5fc5\u987b\u4f7f\u7528\uff0c\u9996\u5148\u8003\u8651\u4f7f\u7528\u72b6\u6001\u63d0\u5347\u7684\u65b9\u5f0f\uff0c\u5c06\u5b50\u7ec4\u4ef6\u7684\u72b6\u6001\u653e\u5230\u7236\u7ec4\u4ef6\u4e2d\uff0c\u4e0d\u540c\u7ec4\u4ef6\u5c31\u53ef\u4ee5\u5171\u4eab\u8fd9\u4e2a\u72b6\u6001\u3002ref \u7684\u66f4\u65b0\u5728 componentDidMount and componentDidUpdate \u9636\u6bb5\u3002 \u5904\u7406\u7126\u70b9\u3001\u6587\u672c\u9009\u62e9\u6216\u5a92\u4f53\u63a7\u5236\u3002 \u89e6\u53d1\u5f3a\u5236\u52a8\u753b\u3002 \u96c6\u6210\u7b2c\u4e09\u65b9 DOM \u5e93 \u76ee\u524d\u4f7f\u7528ref\u7684\u60c5\u51b5\uff1a\u83b7\u53d6\u9009\u4e2d\u6587\u672c\u7684\u4f4d\u7f6e\uff0c\u83b7\u53d6\u6eda\u52a8\u5143\u7d20\u7684\u4f4d\u7f6e\u3002 \u4e0d\u80fd\u5728\u51fd\u6570\u5f0f\u7ec4\u4ef6\u4e0a\u4f7f\u7528 ref <HelloWorld ref={this.helloworld}> // wrong // \u56e0\u4e3a\u51fd\u6570\u5f0f\u7ec4\u4ef6\u6ca1\u6709\u5b9e\u4f8b\uff0c\u65e0\u6cd5\u83b7\u53d6\uff1b\u53ef\u4ee5\u4f7f\u7528\u70b9\u8bed\u6cd5\u83b7\u53d6\u5f53\u524d\u7ec4\u4ef6\u7684ref\u3002 <Editor ref={(editor) => this.editor = editor}> //correct // \u76f4\u63a5\u4f7f\u7528\u4e00\u4e2a\u53d8\u91cf\u63a5\u4e00\u4e0b a = \u7ec4\u4ef6 \u4f7f\u7528\u7ec4\u4ef6\u70b9\u8bed\u6cd5\u83b7\u53d6 editor \u3002 this.editor.value... \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u7236\u7ec4\u4ef6\u4e0d\u4f1a\u76f4\u63a5\u83b7\u53d6\u5b50\u7ec4\u4ef6\u7684\u5c5e\u6027\u3002\u8fd9\u6837\u4f1a\u4fdd\u8bc1\u5b50\u7ec4\u4ef6\u5f88\u597d\u7684\u5c01\u88c5\u6027\u3002 // \u5b50\u7ec4\u4ef6\u6700\u597d\u4e0d\u8981\u76f4\u63a5\u8c03\u7528\u7236\u7ec4\u4ef6\u7684\u51fd\u6570 this.props.getCommentNumber(); // \u53ef\u4ee5\u8bbe\u7f6e\u7ec4\u4ef6\u7684\u56de\u8c03\u51fd\u6570 // father onCommentAdded = (response) => { this.getCommentNumber(); } // son this.props.onCommentAdded(response); // \u5b50\u7ec4\u4ef6\u83b7\u53d6\u8bc4\u8bba\u6570\u91cf\u540e\uff0c\u8c03\u7528\u7ec4\u4ef6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u5177\u4f53\u505a\u4ec0\u4e48\u4e8b\u60c5\u9700\u8981\u7236\u7ec4\u4ef6\u51b3\u5b9a\uff1b \u7236\u7ec4\u4ef6\u83b7\u53d6\u5b50\u7ec4\u4ef6\u7684ref\u7684\u60c5\u51b5\uff1a\u7236\u7ec4\u4ef6\u9700\u8981\u83b7\u53d6\u5b50\u7ec4\u4ef6\uff08\u8bbe\u7f6e\u5b50\u7ec4\u4ef6\uff09\u8282\u70b9\u7684\u4f4d\u7f6e\uff1b \u53ef\u4ee5\u83b7\u53d6\u9009\u4e2d\u7684\u90e8\u5206\uff0c\u83b7\u53d6\u9009\u4e2d\u6587\u672c\u7684\u5750\u6807\uff0c\u8ba1\u7b97\u540e\u8bbe\u7f6e\u5c5e\u6027\uff08buttonTop\uff09\uff0c\u5c06\u8fd9\u4e2a\u53c2\u6570\u76f4\u63a5\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\u4e2d\u7684\u83dc\u5355\uff0c\u4ee5\u884c\u5185\u6837\u5f0f\u8bbe\u7f6e\u5b50\u7ec4\u4ef6\u7684\u4f4d\u7f6e\u3002 \u4e0d\u63a8\u8350\u76f4\u63a5\u83b7\u53d6\u5143\u7d20\u7684\u505a\u6cd5\uff01 5\u3001\u975e\u53d7\u63a7\u7ec4\u4ef6 \u00b6 \u5927\u90e8\u5206\u60c5\u51b5\uff0c\u8868\u5355\u4f7f\u7528\u53d7\u63a7\u7ec4\u4ef6\u5904\u7406\uff08react\u5904\u7406\uff09\uff1b\u5c11\u6570\u60c5\u51b5\u4f7f\u7528\u975e\u53d7\u63a7\u7ec4\u4ef6\uff08DOM\uff09\u5904\u7406\uff1b // \u975e\u53d7\u63a7\u7ec4\u4ef6\uff0c\u4e0d\u5efa\u8bae\u4e0b\u9762\u7684\u5199\u6cd5\uff0c\u9700\u8981\u4f7f\u7528ref < input type = \"text\" ref = {( input ) => this . input = input } > handleClick = () => { console . log ( this . input . value ); } \u5927\u90e8\u5206\u8868\u5355\u53ef\u4ee5\u5199\u6210\u53d7\u63a7\u7ec4\u4ef6\u3002\u6587\u4ef6\u4e0a\u4f20\u8868\u5355\u662f\u975e\u53d7\u63a7\u7ec4\u4ef6\u3002\u4f7f\u7528\u4e0a\u9762\u7684ref\u65b9\u6cd5\uff0c\u5c06\u5df2\u7ecf\u4e0a\u4f20\u7684\u5185\u5bb9\uff08\u6587\u4ef6\u540d\uff09\uff0c\u8bbe\u7f6e\u7ec4\u4ef6\u7684\u5c5e\u6027\u4e2d\u3002 6\u3001\u6027\u80fd\u4f18\u5316 \u00b6 1\u3001\u4f7f\u7528 React \u751f\u4ea7\u7248\u672c\uff0c\u4f7f\u7528 uglify-js \uff0c\u4f7f\u7528\u5176\u4ed6\u63d2\u4ef6\u4f18\u5316\u4ee3\u7801\uff0c\u53bb\u6389\u6ce8\u91ca\uff1b 2\u3001\u907f\u514d\u91cd\u590d\u6e32\u67d3\uff1a\u5f53\u4e00\u4e2a\u7ec4\u4ef6\u7684props\u548cstatus\u53d1\u751f\u53d8\u5316\u540e\uff0cReact\u4f1a\u6bd4\u8f83\u524d\u540e\u7684\u5dee\u5f02\u8fdb\u884c\u6e32\u67d3\u3002\u5982\u679c\u77e5\u9053\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5373\u4f7f\u53d1\u751f\u53d8\u5316\u4e5f\u4e0d\u9700\u8981\u6e32\u67d3\u754c\u9762\uff0c\u53ef\u4ee5\u624b\u52a8\u64cd\u4f5c\u3002shouldComponentUpdate \u9ed8\u8ba4\u662f true\u3002 \u5982\u679c\u4e0d\u8bbe\u7f6e\uff0c\u90a3\u4e48\u4f1a\u901a\u8fc7 diff \u7b97\u6cd5\u6bd4\u8f83\u6574\u4e2a\u8282\u70b9\u6811\u662f\u5426\u53d1\u751f\u53d8\u5316\uff0c\u7a0d\u540e\u5224\u65ad\u8fdb\u884c\u6e32\u67d3\u3002\u5982\u679c\u8bbe\u7f6efalse\uff0c \u76f4\u63a5\u8df3\u8fc7\u6574\u4e2a\u60c5\u51b5\uff08\u4e0d\u8fdb\u884c diff \u6bd4\u8f83\uff09\u3002 shouldComponentUpdate(nextProps, nextState) { return true; } // return false; \u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 React.PureComponent \u800c\u4e0d\u5fc5\u5199\u4f60\u81ea\u5df1\u7684 shouldComponentUpdate \uff0c\u5b83\u53ea\u505a\u4e00\u4e2a\u6d45\u6bd4\u8f83\u3002\u4f46\u662f\u7531\u4e8e\u6d45\u6bd4\u8f83\u4f1a\u5ffd\u7565\u5c5e\u6027\u6216\u72b6\u6001**\u7a81\u53d8**\u7684\u60c5\u51b5\uff0c\u6b64\u65f6\u4f60\u4e0d\u80fd\u4f7f\u7528\u5b83\u3002 \u4f7f\u7528\u4e0d\u53ef\u7a81\u53d8\u7684\u6570\u636e\u7ed3\u6784 [Immutable.js] \u53ef\u4ee5\u89e3\u51b3\u72b6\u6001\u7a81\u53d8\u7684\u60c5\u51b5\u3002\u539f\u59cb\u96c6\u5408\u5728\u65b0\u96c6\u5408\u521b\u5efa\u540e\u4ecd\u7136\u53ef\u4ee5\u4f7f\u7528\u3002\u65b0\u96c6\u5408\u548c\u539f\u59cb\u96c6\u5408\u7ed3\u6784\u5171\u4eab\u3002 7\u3001\u534f\u8c03 reconciliation \u00b6 \u5982\u679c\u5b8c\u5168\u66f4\u65b0\u4e00\u4e2aDOM\u6811\uff0c\u90a3\u4e48\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662fo(n\u00b3)\u3002\u901a\u8fc7\u5bf9\u6bd4\u4e0d\u540c\u7ec4\u4ef6\u548c\u4e0d\u540c\u8282\u70b9\u662f\u5426\u76f8\u540c\u51cf\u5c11\u8ba1\u7b97\u91cf\u3002\u8fd9\u65f6\u7684\u7b97\u6cd5\u590d\u6742\u5ea6\u662fo(n)\u3002\u4e24\u4e2a\u91cd\u8981\u539f\u7406\uff1a\u4e24\u4e2a\u4e0d\u540c\u7c7b\u578b\u7684\u5143\u7d20\u4f1a\u4ea7\u751f\u5b8c\u5168\u4e0d\u540c\u7684\u6811\uff1b\u6839\u636ekey\u7684\u5c5e\u6027\uff0c\u5224\u65ad\u7a33\u5b9a\u7684\u5b50\u8282\u70b9\u3002\u4e0d\u540c\u7c7b\u578b\u7684\u5143\u7d20\u76f4\u63a5\u6e32\u67d3\uff0c\u76f8\u540c\u7c7b\u578b\u7684\u5143\u7d20\u4ec5\u4ec5\u66f4\u65b0\u5c5e\u6027\u3002keys\u662f\u4e00\u4e2a\u7d22\u5f15\uff0c\u5728\u540c\u4e00\u4e2a\u5e8f\u5217\u4e2d\u7684\u6240\u6709\u5b50\u8282\u70b9\u5177\u6709\u4e0d\u540c\u7684keys\u3002\u4f7f\u7528 map \u65b9\u6cd5\u6e32\u67d3\u5b50\u8282\u70b9\u662f\u9700\u8981\u52a0\u5165\u552f\u4e00\u7684\u56fa\u5b9a\u7684key\u503c\u3002 8\u3001context \u00b6 \u907f\u514d\u4e86props\u7684\u9010\u5c42\u4f20\u9012\uff0c\u76f4\u63a5\u8de8\u8d8a\u4e2d\u95f4\u7684\u7ec4\u4ef6\u8fdb\u884c\u6570\u636e\u4f20\u9012\u3002\uff08\u4f8b\u5982\u5168\u5c40\u7684\u6570\u636e\uff0c\u7528\u6237\u7684\u4fe1\u606f\uff0c\u4e3b\u9898\uff0c\u8bed\u8a00\u7b49\uff09\u3002\u7528\u4e8e\u591a\u4e2a\u5c42\u7ea7\u591a\u4e2a\u7ec4\u4ef6\u7684\u60c5\u51b5\u3002\u76ee\u524d\u5b9e\u9645\u5f00\u53d1\u4e2d\u8fd8\u6ca1\u6709\u7528\u5230\u3002 // \u5e38\u89c1 context API const { Provider, Consumer } = React.createContext(defaultValue); // \u521b\u5efa\uff1a\u6e32\u67d3 consumer \u65f6\uff0c\u53ef\u4ee5\u6839\u636e\u7ec4\u4ef6\u6811\u4e0a\u5c42\u4e2d\u6700\u63a5\u8fd1\u7684\u7ec4\u4ef6\u4e2d\u5339\u914d Provider \u8bfb\u53d6\u5f53\u524d\u7684 context \u503c\u3002\u5982\u679c\u4e0a\u5c42\u7ec4\u4ef6\u6811\u4e2d\u6ca1\u6709\u4e00\u4e2a Provider \u90a3\u4e48\u9700\u8981\u7528\u5230 default Value\u3002 <Provider value={} /> <Consumer> {value => /* render sth based on the context value */} </Consumer> \u5bf9\u4e8e\u6bcf\u4e00\u4e2aprovider\u66f4\u65b0\uff0cconsumer\u5c06\u4f1a\u66f4\u65b0(\u4e0d\u53d7\u5230props\u66f4\u65b0\u7684\u5f71\u54cd)\u3002 9\u3001fragments \u00b6 \u4e00\u4e2a\u7a7a\u7684\u5143\u7d20\u3002\u4e00\u4e2a\u7ec4\u4ef6\u7684\u6839\u5143\u7d20\u5fc5\u987b\u662f\u4e00\u4e2a\u5355\u72ec\u7684\u5143\u7d20\u3002 function Glossary(props) { return ( <dl> {props.items.map(item => ( <React.Fragment key={item.id}> <dt>{item.term}</dt> <dt>{item.description}</dt> </React.Fragment> ))} </dl> ); } React \u00b6 \u6ce8\u610f\uff1a\u91cd\u70b9\u662f\u67e5\u6f0f\u8865\u7f3a http://www.runoob.com/react/react-tutorial.html \u5b89\u88c5 \u00b6 1\u3001webpack \u7f16\u8bd1\u6d41\u7a0b\uff08 http://www.runoob.com/react/react-install.html \uff09 // \u4f7f\u7528\u6dd8\u5b9d cnpm \u5b89\u88c5\u901f\u5ea6\u8f83\u5feb npm install -g cnpm --registry = http://registry.npm.taobao.org npm config set registry https://registry.npm.taobao.org cnpm install [ name ] // \u5feb\u901f\u642d\u5efa React \u5f00\u53d1\u73af\u5883 cnpm install -g create-react-app create-reast-app my-app cd my-app/ npm start localhost://3000 \u5f00\u59cb\u754c\u9762 index.html App.js https://blog.csdn.net/u012859720/article/details/70597119/ import React, { Component } from 'react'; import logo from './logo.svg'; import './App.css'; class App extends Component { render() { return ( <div className=\"App\"></div> ); } } export default App; 2\u3001\u5ffd\u7565\u6587\u4ef6\uff1a\u8fd9\u90e8\u5206\u6587\u4ef6\u4e0d\u4f1a\u4e0a\u4f20\u5230github\uff08\u5bf9\u4e8enode-module\u548c\u4e2a\u4eba\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u9700\u8981\u5ffd\u7565\u5904\u7406\uff09\uff1b .gitignore\uff08\u9690\u85cf\u6587\u4ef6\uff09 # See https://help.github.com/ignore-files/ for more about ignoring files. # testing /coverage # production /build #Idea /.idea # misc .DS_Store .env.local .env.development.local .env.test.local .env.production.local npm-debug.log* yarn-debug.log* yarn-error.log* src/config.js # backup files *~ ES6 \u4e0e \u4f20\u7edf\u4ee3\u7801\u2014\u2014ES6 \u9700\u8981\u4f7f\u7528 this.props function Clock(props) { return ( <div> {props.data.toLocaleTimeString()} </div> ); } class Clock extends React.Component { render () { return ( <div>this.props.data.toLocaleTimeString()</div> ); } } JSX \u8bed\u6cd5\u8865\u5145\uff1a \u6ce8\u91ca\u5199\u5728\u82b1\u62ec\u53f7\u4e2d\uff0c{/* test */} \u5728\u6d4b\u8bd5\u7684\u65f6\u5019\u5199jsx\u6ce8\u91ca\u5f88\u65b9\u4fbf React \u7ec4\u4ef6 \u00b6 \u4e3a\u4e86\u63d0\u9ad8\u4ee3\u7801\u7684\u590d\u7528\u6027\uff0c\u6700\u597d\u4f7f\u7528\u590d\u5408\u7ec4\u4ef6\uff1b\u5728\u4e00\u4e2a\u754c\u9762\u4e2d\u4f7f\u7528\u591a\u4e2a\u72ec\u7acb\u7684\u7ec4\u4ef6\uff0c\u8fd9\u6837\u53ef\u4ee5\u6700\u597d\u7684\u505a\u5230\u7ec4\u4ef6\u7684\u590d\u7528\u3002\u7ec4\u4ef6\u7684\u4e3b\u8981\u76ee\u7684\u5c31\u662f\u7ec4\u4ef6\u7684\u590d\u7528\u3002 /* es5 \u51fd\u6570\u5b9a\u4e49\u7ec4\u4ef6 */ function Hello(props) { return (<h1 className={this.props.h1}>Hello</h1>); } /* es6 \u7c7b\u5b9a\u4e49\u7ec4\u4ef6 */ class Welcome extends React.Compoennt { consotructor(props) { super(props); this.state = { input: this.props.time }; } render() { return (<h1>Hello</h1>); } } // \u73b0\u5728\u5e38\u7528ES6\u7684\u65b9\u6cd5\uff0c\u4f7f\u7528ES5\u7684\u65b9\u6cd5\u81ea\u5df1\u4e5f\u8981\u4f1a\u505a\u3002 React \u53d7\u63a7\u7ec4\u4ef6 \u00b6 1.\u53d7\u63a7\u7ec4\u4ef6\uff1a\u5728\u539f\u751f\u7684HTML\u4e2d\uff0cinput\uff08type='text'\uff09 textarea select \u4e09\u4e2a\u5143\u7d20\u7684\u5185\u90e8\u7684\u5c5e\u6027\u53ef\u4ee5\u968f\u7740\u7528\u6237\u7684\u8f93\u5165\u53d8\u5316\u3002 2.react \u4e2d\u4f7f\u7528 state \u63a7\u5236\u5c5e\u6027\u7684\u53d8\u5316\uff0c\u5c06\u539f\u751f\u7684\u53d7\u63a7\u7ec4\u4ef6\u548c react \u4e2d state \u7ed3\u5408\u3002 class Text extends React.Component { constructor(props) { super(props); this.state = { value: '' }; } handleChange = (e) => { let text = e.target.value.trim(); this.setState({ value: text }); } handleSubmit = (e) => { e.preventDefault(); seafile.addComment(this.state.value).then((res) => { console.log(res.data.success); }) } render() { <form> <input type=\"text\" value={this.state.value} onChange={this.handleChange}/> <button onClick={this.hanldeSubmit}>Submit</button> </form> } } \u4f7f\u7528\u53d7\u63a7\u7ec4\u4ef6\u53ef\u4ee5\u8fc7\u6ee4\u7528\u6237\u8f93\u5165\uff0c\u5728handlechange \u51fd\u6570\u4e2d\uff0c\u8bbe\u7f6e\u6b63\u5219\u8868\u8fbe\u5f0f\u6216\u8005\u7b80\u5355\u7684trim\u51fd\u6570\u53ef\u4ee5\u8fc7\u6ee4\u90e8\u5206\u8f93\u5165\u3002 <input type='file' /> \u662f\u975e\u53d7\u63a7\u7ec4\u4ef6\u3002\u5c06\u672c\u5730\u7684n\u4e2a\u6587\u4ef6\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u4e2d\u3002 \u5f53\u754c\u9762\u4e0a\u6709\u591a\u4e2ainput\u65f6\uff0c\u53ef\u4ee5\u53ea\u5199\u4e00\u4e2a\u51fd\u6570\uff0chandleinputChange \u5904\u7406\u6240\u6709\u7684input\u8f93\u5165\u3002\u901a\u8fc7 event.target.type \u6216\u8005 event.target.name \u8fdb\u884c\u9009\u62e9\uff0c\u5224\u65ad\u662f\u54ea\u4e2a\u7ec4\u4ef6\u53d1\u751f\u8f93\u5165\u5e76\u8fdb\u884c\u4e0d\u540c\u7684\u754c\u9762\u64cd\u4f5c\u3002 < input type = \"textarea\" name = \"comment\" onChange = \"handleInputChange\" /> < input type = \"checkoutbox\" name = \"comment-number\" onChange = \"handleInputChange\" /> handleInputChange = (e) => { let value = e.target.type === 'textarea' ? e.target.value : e.target.checked; const name = e.target.name; this.setState({ // }); } \u53d7\u63a7\u7ec4\u4ef6\u4f7f\u7528\u5f88\u591a\u4f1a\u5f62\u6210\u5f88\u591a\u7684\u5904\u7406\u51fd\u6570\uff082n\uff09\u6839\u636e\u573a\u5408\u4f7f\u7528\u53d7\u63a7\u7ec4\u4ef6\u548c\u975e\u53d7\u63a7\u7ec4\u4ef6\u3002 React\u7ec4\u5408&\u7ee7\u627f \u00b6 React\u4e2d\u4f7f\u7528\u7ec4\u4ef6\u8fdb\u884c\u6570\u636e\u4f20\u9012\u3002\u53ef\u4ee5\u8fdb\u884c\u7ec4\u4ef6\u7684\u5d4c\u5957\u7ec4\u5408\uff0c\u5b9e\u73b0\u529f\u80fd\u7684\u590d\u7528\uff08\u51fd\u6570\u3001\u5c5e\u6027\uff09\uff1breact\u4e2d\u4e0d\u63a8\u8350\u4f7f\u7528\u7ee7\u627f\u7684\u65b9\u6cd5\u3002 \u5bf9\u4e8e\u5bf9\u8bdd\u6846\u548c\u4fa7\u65c1\u680f\uff0c\u4f7f\u7528\u524d\u53ef\u80fd\u4e0d\u6e05\u9664\u5185\u90e8\u7684\u529f\u80fd\u548c\u9700\u8981\u7684\u8d44\u6e90\u3002 React \u7406\u5ff5 \u00b6 \u9759\u6001\u754c\u9762\uff1a\u4f7f\u7528props\u8fdb\u884c\u5355\u5411\u6570\u636e\u4f20\u9012\uff0c\u4ece\u9876\u5411\u4e0b\u8fdb\u884c\u6570\u636e\u4f20\u9012\uff0c\u4e0d\u9700\u8981\u4f7f\u7528state\u3002 \u52a8\u6001\u754c\u9762\uff1a\u4f7f\u7528props\u8fdb\u884c\u4ece\u4e0a\u5230\u4e0b\u4f20\u9012\uff08repoID\uff09\uff0cstate\u8fdb\u884c\u7ec4\u4ef6\u5185\u90e8\u7684\u6570\u636e\u4ea7\u751f\u548c\u4f20\u9012\uff08comment\uff09\u3002\u7b80\u5355\u754c\u9762\u4f7f\u7528\u4ece\u4e0a\u5230\u4e0b\u7684\u5f00\u53d1\u8fc7\u7a0b\uff0c\u590d\u6742\u754c\u9762\u4f7f\u7528\u4ece\u4e0b\u5230\u4e0a\u7684\u5f00\u53d1\u6d41\u7a0b\u3002\u5c3d\u91cf\u51cf\u5c11state\u4f7f\u7528\uff1a\u786e\u5b9astate\u7684\u4f7f\u7528\u4f4d\u7f6e\uff0c\u786e\u5b9a\u4f7f\u7528state\u7684\u7ec4\u4ef6\u3002 \u7ec4\u4ef6\u5316\u4f1a\u589e\u52a0\u4ee3\u7801\u590d\u7528\u6027\uff08\u540e\u671f\u5f00\u53d1\u663e\u8457\u589e\u52a0\u4ee3\u7801\u590d\u7528\u6027\uff0c\u521d\u671f\u4ee3\u7801\u6bd4\u8f83\u590d\u6742\uff09 \u5f00\u53d1\u6d41\u7a0b \u00b6 UI \u8bbe\u8ba1\uff1a\u6839\u636eUI\u4e2d\u4e0d\u540c\u56fe\u5c42\uff0c\u786e\u5b9a\u7ec4\u4ef6\u7684\u76f8\u5bf9\u4f4d\u7f6e\uff1b\u6839\u636e\u4ea7\u54c1\u529f\u80fd\uff0c\u6839\u636e\u540e\u7aef\u4f20\u6765\u7684\u6570\u636e\uff08\u9ed8\u8ba4\u662f\u5b57\u5178\u7684JSON\uff09\uff0c\u786e\u5b9a\u7ec4\u4ef6\u7684\u5185\u5bb9\u3002\u57fa\u672c\u4e0a\uff0c\u4e00\u4e2a\u7ec4\u4ef6\u505a\u5230\u5b9e\u73b0\u4e00\u4e2a\u5355\u4e00\u7684\u529f\u80fd\u3002\u5982\u679c\u4e00\u4e2a\u7ec4\u4ef6\u53ef\u4ee5\u5b9e\u73b0\u5f88\u591a\u529f\u80fd\uff08\u540e\u671f\u589e\u52a0\u5f88\u591a\u65b0\u7684\u529f\u80fd\uff0c\u9700\u8981\u62c6\u5206\u6210\u72ec\u7acb\u529f\u80fd\u7684\u5b50\u7ec4\u4ef6\uff09\u3002 \u9759\u6001\u5f00\u53d1\uff1a\u4e0d\u8003\u8651\u7528\u6237\u4ea4\u4e92\u7684\u60c5\u51b5\uff0c\u76f4\u63a5\u9759\u6001\u9875\u9762\u8fdb\u884c\u5f00\u53d1\uff08listComments\uff09\uff0c\u6570\u636e\u81ea\u9876\u5411\u4e0b\u8fdb\u884c\u4f20\u9012\u3002\u5b8c\u6210\u9759\u6001\u5f00\u53d1\u540e\uff0c\u53ef\u4ee5\u8fdb\u884c\u9010\u6b65\u6d4b\u8bd5\uff0c\u786e\u4fdd\u5f53\u524d\u9759\u6001\u529f\u80fd\u7684\u5b9e\u73b0\uff08\u663e\u793a\u5f53\u524d\u8bc4\u8bba\u6570\u91cf\uff0c\u663e\u793a\u5f53\u524d\u5df2\u6709\u8bc4\u8bba\uff0c\u5220\u9664\u8bc4\u8bba\uff09\u3002 \u52a8\u6001\u5f00\u53d1\uff1a\u4e3b\u8981\u9488\u5bf9\u7528\u6237\u8f93\u5165\u6216\u8005\u64cd\u4f5c\u3002\u7528\u6237\u5728\u5e95\u7ec4\u4ef6\u4e2d\u8f93\u5165\uff0c\u4ece\u4e0b\u5c42\u83b7\u53d6\u6570\u636e\u76f4\u63a5\u8bf7\u6c42\uff0c\u6216\u8005\u4f7f\u7528\u7236\u7ec4\u4ef6\u7684\u51fd\u6570\u7edf\u4e00\u8fdb\u884c\u8bf7\u6c42\u3002 React \u72b6\u6001\u63d0\u5347 \u00b6 \u9700\u6c42\uff1areact\u662f\u4e00\u4e2a\u6570\u636e\u5355\u5411\u4f20\u503c\u7684\u6846\u67b6\uff0c\u5982\u679c\u5b50\u7ec4\u4ef6\u4e0d\u80fd\u76f4\u63a5\u7ed9\u7236\u7ec4\u4ef6\u4f20\u503c\u3002 \u5982\u679c\u5185\u90e8\u591a\u4e2a\u5b50\u7ec4\u4ef6\u5171\u540c\u4f7f\u7528\u76f8\u540c\u7684\u6570\u636e\uff0c\u5e76\u4e14\u4e92\u76f8\u5f71\u54cd\u3002\u90a3\u4e48\u53ef\u4ee5\u5c06\u8fd9\u90e8\u5206\u5171\u6709\u7684\u6570\u636e\u5b58\u653e\u5728\u7236\u7ec4\u4ef6\u7684\u5c5e\u6027\u4e2d\uff0c\u5c06handleChange\u4f5c\u4e3aprops\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\u3002\u4e0d\u540c\u5b50\u7ec4\u4ef6\u4f1a\u66f4\u6539\u798f\u94bb\u8fdb\u7684\u67d0\u4e2a\u53c2\u6570\uff0c\u8fd9\u90e8\u5206\u53c2\u6570\u4f1a\u5f71\u54cd\u5176\u4ed6\u5b50\u7ec4\u4ef6\u7684\u884c\u4e3a\u3002\u786e\u4fdd\u7236\u7ec4\u4ef6\u5185\u90e8\u7684\u6570\u636e\u6539\u53d8\u4f1a\u6539\u53d8\u5b50\u7ec4\u4ef6\u7684\u5c5e\u6027\u3002 \u6848\u4f8b\uff1a\u516c\u91cc\u548c\u82f1\u91cc\u8fdb\u884c\u8f6c\u6362\uff0c\u603b\u6570\u662f\u56fa\u5b9a\u7684\uff0c\u4e0d\u540c\u5b50\u7ec4\u4ef6\u9700\u8981\u6839\u636e\u5355\u4f4d\u8fdb\u884c\u8f6c\u6362\uff0c\u5c06\u552f\u4e00\u7684\u6570\u636e\u5b58\u653e\u5728\u7236\u7ec4\u4ef6\u4e2d\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u7ec4\u4ef6\u4f20\u503c\u9020\u6210\u7684bug\u3002 tips\uff1a\u5728Chrome react \u5de5\u5177\u53ef\u4ee5\u67e5\u770b\u4e0d\u540c\u7ec4\u4ef6\u7684\u4f20\u503c\uff0c\u4e0d\u9700\u8981\u6bcf\u6b21console.log\u3002 class Text extends React.Compontent { constrcutor(props) { super(props); this.state({ lan: null, length: 0 }); } handleInputChange = (e) => { if (e.target.name === 'zh') { this.setState({ lan: 'zh', length: e.target.value }) } else if (e.target.name === 'en') { this,setState({ lan: 'en', length: e.target.value }) } } render() { const lan = this.state.lan; const chinese = lan === \"zh\" ? length : length * 0.5; const english = lan === \"en\" ? length : length * 2; return ( <div>{chinese}</div> <div>{english}</div> ); } } \u4e0d\u7ba1\u8f93\u5165\u7684\u662f\u82f1\u8bed\u8fd8\u662f\u6c49\u8bed\u7684\u5355\u4f4d\uff0c\u90a3\u4e48\u957f\u5ea6\u4f1a\u8f6c\u5316\u6210\u4e3a\u82f1\u8bed\u548c\u6c49\u8bed\u8fdb\u884c\u5904\u7406\u663e\u793a\u3002 \u4f20\u9012Refs \u00b6 refs \u5728\u9ad8\u9636\u7ec4\u4ef6\u4e2d\u8fdb\u884c\u4f20\u503c\u3002React \u5982\u679c\u9700\u8981\u83b7\u53d6\u754c\u9762\u4e2d\u7684\u4fe1\u606f\uff08\u4f8b\u5982\u5143\u7d20\u7684\u5b9e\u9645\u5bbd\u5ea6\uff0c\u90a3\u4e48\u9700\u8981\u4f7f\u7528Refs\u8fdb\u884c\u4f20\u503c\uff0c\u8ba9\u5b50\u7ec4\u4ef6\u83b7\u53d6\u7236\u7ec4\u4ef6\u7684\u9ad8\u5ea6\u548c\u6eda\u52a8\u7684\u8ddd\u79bb\uff09 Render Props \u00b6 \u534f\u540c \u00b6 react\u53ef\u4ee5\u5f88\u597d\u7684\u548c\u5176\u4ed6\u5e93\u8fdb\u884c\u517c\u5bb9\uff0c\u4f8b\u5982 jquery \u6216\u8005 backbone\u3002 \u53ef\u8bbf\u95ee\u6027 < Lable htmlFor = \"test\" > Name </ Lable > < input id = \"test\" type = \"text\" name = \"name\" ></ input > \u7126\u70b9\u8fb9\u6846\uff1a\u70b9\u51fb\u8f93\u5165\u533a\u57df\u4f1a\u51fa\u73b0\u8fb9\u6846 \u89e3\u51b3\u65b9\u6848\uff1a\u4f7f\u7528css outline: 0; // react bubble import React from 'react'; import ReactDOM from 'react-dom'; import jquery from 'jquery'; class Tmp extends React.Component { constructor(...args) { super(...args) } } class LosinForm extends React.Component { constructor(...args) { super(...args) } // \u4f7f\u7528\u9ed8\u8ba4\u7684 defauleProps defaultValue defaultChecked \u8bbe\u7f6e\u8868\u5355\u521d\u59cb\u503c\u3002 // \u5f53\u7136\u53ef\u4ee5\u7ed1\u5b9a\u72b6\u6001 state; // this.setState({ value: this.props.name }); render() { return ( <form action=\"http://www.baidu.com\" method=\"get\"> <input type=\"text\" name=\"userName\" defaultValue={this.props.userName}/> <input type='submit' value=\"\u63d0\u4ea4\"/> </form> ); } } $(function() { ReactDOM.render( <LoginForm userName=\"Michael\"/> ); });","title":"React-advanced-guides.md"},{"location":"react/React-advanced-guides/#react","text":"","title":"React \u9ad8\u7ea7\u6307\u5bfc"},{"location":"react/React-advanced-guides/#1jsx","text":"jsx\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u8bed\u6cd5\u7cd6\uff0cbabel \u5c06 jsx \u8f6c\u5316\u4e3a JS\uff0cReact.createElement \u7684\u8fc7\u7a0b\uff08\u521b\u5efa\u6807\u7b7e\u548c\u5c5e\u6027\uff09\u3002 \u5982\u679c\u6807\u7b7e\u4e2d\u662f\u5927\u5199\uff0c\u8bf4\u660e\u662f\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u5fc5\u987b\u5728\u4f5c\u7528\u57df\u4e2d\u58f0\u660e\u3002\u7ec4\u4ef6\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\u3002 import React from 'react'; function Hello(props) { return <div>Hello {this.props.name}</div>; } function HelloWorld() { return <Hello name=\"Amirica\"/> } // \u53ea\u8981\u5728\u5b9a\u4e49\u57df\u5185\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff0c\u8fd4\u56de\u503c\u662f\u4e00\u4e2aJSX\u5373\u53ef\u4f5c\u4e3a\u4e00\u4e2a\u5355\u5411\u7684\u7ec4\u4ef6","title":"1\u3001\u6df1\u5165JSX\u8bed\u6cd5"},{"location":"react/React-advanced-guides/#_1","text":"JSX\u4e2d { } \u5185\u90e8\u7684 JS \u8bed\u53e5\uff1aif \u548c for \u4e0d\u80fd\u5728\u5927\u62ec\u53f7\u5185\u4f7f\u7528\uff08\u53ef\u4ee5\u4f7f\u7528 && \u8fdb\u884c\u5224\u65ad\uff09\u53ef\u4ee5\u5728return\u4e4b\u524d\u64cd\u4f5c if \u548c for\u7b49\u590d\u6742\u53d8\u91cf\u5904\u7406\u8fc7\u7a0b\uff0c\u5c06\u9700\u8981\u663e\u793a\u7684\u53d8\u91cf\u6682\u65f6\u5b58\u50a8\u5728\u53d8\u91cf\u4e2d\uff0c\u8fd9\u6837\u5b9e\u73b0\u6761\u4ef6\u6e32\u67d3\u548c\u5faa\u73af\u3002","title":"\u5927\u62ec\u53f7"},{"location":"react/React-advanced-guides/#_2","text":"const props = {name: \"Mike\", age: '16'}; //object return <Hello {...props}>; // \u5c06\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3aprops\u8fdb\u884c\u4f20\u9012\u3002\u4f18\u70b9\uff1a\u5927\u578b\u5e94\u7528\u6570\u636e\u591a\uff0c\u7edf\u914d\u5411\u4e0b\u4f20\u9012\u5c5e\u6027\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7684\u8fdb\u884c\u6811\u7ed3\u6784\u521b\u5efa\u3002\u7f3a\u70b9\uff1a\u5f88\u591a\u4e0d\u76f8\u5173\u7684\u5c5e\u6027\u521b\u5efa\u5230\u8282\u70b9\u5185\u90e8\u3002 jsx \u4e2d\u4f7f\u7528 && \u8fdb\u884c\u6761\u4ef6\u6e32\u67d3\u3002\u9700\u8981\u6ce8\u610f\uff1a\u524d\u9762\u7684\u6761\u4ef6\u5fc5\u987b\u8fd4\u56de false \u7684\u60c5\u51b5\u4e0b\u624d\u4e0d\u4f1a\u6e32\u67d3\u540e\u9762\u7684\u5bf9\u8c61\u3002 {this.props.commentsNumber.length && <span></span>} // \u5f53\u6570\u7ec4\u7684\u957f\u5ea6\u662f0(\u7a7a\u6570\u7ec4)\uff0c\u957f\u5ea6\u662f0\uff0c\u754c\u9762\u4f1a\u6e32\u67d3\u4e00\u4e2a0\uff0c\u800c\u4e0d\u4f1a\u6e32\u67d3\u540e\u9762\u7684span\u3002 \u5982\u679c\u60f3\u8981\u4ee5jsx\u7684\u5f62\u5f0f\u5728\u754c\u9762\u4e0a\u8f93\u51fa true \u6216 false null undefined\uff0c \u90a3\u4e48\u9700\u8981\u8f6c\u5316\u6210\u5b57\u7b26\u4e32\u8fdb\u884c\u8f93\u51fa\u3002\u5426\u5219JSX\u4e2d\u8fdb\u884c\u5224\u65ad\u64cd\u4f5c\u3002","title":"\u6269\u5c55\u5c5e\u6027"},{"location":"react/React-advanced-guides/#2proptypes","text":"\u6ce8\u610f: React.PropTypes \u81ea React v15.5 \u8d77\u5df2\u5f03\u7528\u3002\u8bf7\u4f7f\u7528 prop-types \u5e93\u4ee3\u66ff\u3002 import PropTypes from 'prop-types'; class Hello extends React.Component { render() { return <div>{this.props.name}</div>; } } Hello.propTypes = { name: PropTypes.string.isRequired }; \u5728\u5f00\u53d1\u6a21\u5f0f\u4e0b\uff0creact\u4f1a\u76d1\u6d4b\u4f20\u503c\u7684\u7c7b\u578b\uff1b // \u4f60\u4e5f\u53ef\u4ee5\u9650\u5236\u4f60\u7684\u5c5e\u6027\u503c\u662f\u67d0\u4e2a\u7279\u5b9a\u503c\u4e4b\u4e00 optionalEnum: PropTypes.oneOf(['News', 'Photos']), // \u9650\u5236\u5b83\u4e3a\u5217\u4e3e\u7c7b\u578b\u4e4b\u4e00\u7684\u5bf9\u8c61 optionalUnion: PropTypes.oneOfType([ PropTypes.string, PropTypes.number, PropTypes.instanceOf(Message) ]), requiredAny: PropTypes.any.isRequired,","title":"2\u3001PropTypes\u76d1\u6d4b\u6570\u636e\u7c7b\u578b"},{"location":"react/React-advanced-guides/#3","text":"\u4f7f\u7528 flow-bin \u5e93\u68c0\u67e5\u6570\u636e\u7c7b\u578b\uff1a\u8fd9\u4e2a\u6bd4propTypes \u5f3a\u5927(facebook) npm install flow-bin --save-dev flow-bin npm run flow init # \u589e\u52a0 \"flow\": \"flow\" \u5230 package.json \u811a\u672c\u4e2d npm install --save-dev babel-preset-flow # \u7a0d\u540e\u8fd0\u884c npm run flow # \u8be6\u60c5\u67e5\u9605 flow \u7684\u8bf4\u660e\u6587\u6863 typeScript - \u5fae\u8f6f","title":"3\u3001\u9759\u6001\u7c7b\u578b\u68c0\u67e5"},{"location":"react/React-advanced-guides/#4ref","text":"\u5728\u8fd9\u4e09\u79cd\u60c5\u51b5\u4e0b\u4f7f\u7528 ref \u3002\u5c3d\u91cf\u51cf\u5c11 ref \u7684\u4f7f\u7528\u3002\u5982\u679c\u5fc5\u987b\u4f7f\u7528\uff0c\u9996\u5148\u8003\u8651\u4f7f\u7528\u72b6\u6001\u63d0\u5347\u7684\u65b9\u5f0f\uff0c\u5c06\u5b50\u7ec4\u4ef6\u7684\u72b6\u6001\u653e\u5230\u7236\u7ec4\u4ef6\u4e2d\uff0c\u4e0d\u540c\u7ec4\u4ef6\u5c31\u53ef\u4ee5\u5171\u4eab\u8fd9\u4e2a\u72b6\u6001\u3002ref \u7684\u66f4\u65b0\u5728 componentDidMount and componentDidUpdate \u9636\u6bb5\u3002 \u5904\u7406\u7126\u70b9\u3001\u6587\u672c\u9009\u62e9\u6216\u5a92\u4f53\u63a7\u5236\u3002 \u89e6\u53d1\u5f3a\u5236\u52a8\u753b\u3002 \u96c6\u6210\u7b2c\u4e09\u65b9 DOM \u5e93 \u76ee\u524d\u4f7f\u7528ref\u7684\u60c5\u51b5\uff1a\u83b7\u53d6\u9009\u4e2d\u6587\u672c\u7684\u4f4d\u7f6e\uff0c\u83b7\u53d6\u6eda\u52a8\u5143\u7d20\u7684\u4f4d\u7f6e\u3002 \u4e0d\u80fd\u5728\u51fd\u6570\u5f0f\u7ec4\u4ef6\u4e0a\u4f7f\u7528 ref <HelloWorld ref={this.helloworld}> // wrong // \u56e0\u4e3a\u51fd\u6570\u5f0f\u7ec4\u4ef6\u6ca1\u6709\u5b9e\u4f8b\uff0c\u65e0\u6cd5\u83b7\u53d6\uff1b\u53ef\u4ee5\u4f7f\u7528\u70b9\u8bed\u6cd5\u83b7\u53d6\u5f53\u524d\u7ec4\u4ef6\u7684ref\u3002 <Editor ref={(editor) => this.editor = editor}> //correct // \u76f4\u63a5\u4f7f\u7528\u4e00\u4e2a\u53d8\u91cf\u63a5\u4e00\u4e0b a = \u7ec4\u4ef6 \u4f7f\u7528\u7ec4\u4ef6\u70b9\u8bed\u6cd5\u83b7\u53d6 editor \u3002 this.editor.value... \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u7236\u7ec4\u4ef6\u4e0d\u4f1a\u76f4\u63a5\u83b7\u53d6\u5b50\u7ec4\u4ef6\u7684\u5c5e\u6027\u3002\u8fd9\u6837\u4f1a\u4fdd\u8bc1\u5b50\u7ec4\u4ef6\u5f88\u597d\u7684\u5c01\u88c5\u6027\u3002 // \u5b50\u7ec4\u4ef6\u6700\u597d\u4e0d\u8981\u76f4\u63a5\u8c03\u7528\u7236\u7ec4\u4ef6\u7684\u51fd\u6570 this.props.getCommentNumber(); // \u53ef\u4ee5\u8bbe\u7f6e\u7ec4\u4ef6\u7684\u56de\u8c03\u51fd\u6570 // father onCommentAdded = (response) => { this.getCommentNumber(); } // son this.props.onCommentAdded(response); // \u5b50\u7ec4\u4ef6\u83b7\u53d6\u8bc4\u8bba\u6570\u91cf\u540e\uff0c\u8c03\u7528\u7ec4\u4ef6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u5177\u4f53\u505a\u4ec0\u4e48\u4e8b\u60c5\u9700\u8981\u7236\u7ec4\u4ef6\u51b3\u5b9a\uff1b \u7236\u7ec4\u4ef6\u83b7\u53d6\u5b50\u7ec4\u4ef6\u7684ref\u7684\u60c5\u51b5\uff1a\u7236\u7ec4\u4ef6\u9700\u8981\u83b7\u53d6\u5b50\u7ec4\u4ef6\uff08\u8bbe\u7f6e\u5b50\u7ec4\u4ef6\uff09\u8282\u70b9\u7684\u4f4d\u7f6e\uff1b \u53ef\u4ee5\u83b7\u53d6\u9009\u4e2d\u7684\u90e8\u5206\uff0c\u83b7\u53d6\u9009\u4e2d\u6587\u672c\u7684\u5750\u6807\uff0c\u8ba1\u7b97\u540e\u8bbe\u7f6e\u5c5e\u6027\uff08buttonTop\uff09\uff0c\u5c06\u8fd9\u4e2a\u53c2\u6570\u76f4\u63a5\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\u4e2d\u7684\u83dc\u5355\uff0c\u4ee5\u884c\u5185\u6837\u5f0f\u8bbe\u7f6e\u5b50\u7ec4\u4ef6\u7684\u4f4d\u7f6e\u3002 \u4e0d\u63a8\u8350\u76f4\u63a5\u83b7\u53d6\u5143\u7d20\u7684\u505a\u6cd5\uff01","title":"4\u3001ref"},{"location":"react/React-advanced-guides/#5","text":"\u5927\u90e8\u5206\u60c5\u51b5\uff0c\u8868\u5355\u4f7f\u7528\u53d7\u63a7\u7ec4\u4ef6\u5904\u7406\uff08react\u5904\u7406\uff09\uff1b\u5c11\u6570\u60c5\u51b5\u4f7f\u7528\u975e\u53d7\u63a7\u7ec4\u4ef6\uff08DOM\uff09\u5904\u7406\uff1b // \u975e\u53d7\u63a7\u7ec4\u4ef6\uff0c\u4e0d\u5efa\u8bae\u4e0b\u9762\u7684\u5199\u6cd5\uff0c\u9700\u8981\u4f7f\u7528ref < input type = \"text\" ref = {( input ) => this . input = input } > handleClick = () => { console . log ( this . input . value ); } \u5927\u90e8\u5206\u8868\u5355\u53ef\u4ee5\u5199\u6210\u53d7\u63a7\u7ec4\u4ef6\u3002\u6587\u4ef6\u4e0a\u4f20\u8868\u5355\u662f\u975e\u53d7\u63a7\u7ec4\u4ef6\u3002\u4f7f\u7528\u4e0a\u9762\u7684ref\u65b9\u6cd5\uff0c\u5c06\u5df2\u7ecf\u4e0a\u4f20\u7684\u5185\u5bb9\uff08\u6587\u4ef6\u540d\uff09\uff0c\u8bbe\u7f6e\u7ec4\u4ef6\u7684\u5c5e\u6027\u4e2d\u3002","title":"5\u3001\u975e\u53d7\u63a7\u7ec4\u4ef6"},{"location":"react/React-advanced-guides/#6","text":"1\u3001\u4f7f\u7528 React \u751f\u4ea7\u7248\u672c\uff0c\u4f7f\u7528 uglify-js \uff0c\u4f7f\u7528\u5176\u4ed6\u63d2\u4ef6\u4f18\u5316\u4ee3\u7801\uff0c\u53bb\u6389\u6ce8\u91ca\uff1b 2\u3001\u907f\u514d\u91cd\u590d\u6e32\u67d3\uff1a\u5f53\u4e00\u4e2a\u7ec4\u4ef6\u7684props\u548cstatus\u53d1\u751f\u53d8\u5316\u540e\uff0cReact\u4f1a\u6bd4\u8f83\u524d\u540e\u7684\u5dee\u5f02\u8fdb\u884c\u6e32\u67d3\u3002\u5982\u679c\u77e5\u9053\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5373\u4f7f\u53d1\u751f\u53d8\u5316\u4e5f\u4e0d\u9700\u8981\u6e32\u67d3\u754c\u9762\uff0c\u53ef\u4ee5\u624b\u52a8\u64cd\u4f5c\u3002shouldComponentUpdate \u9ed8\u8ba4\u662f true\u3002 \u5982\u679c\u4e0d\u8bbe\u7f6e\uff0c\u90a3\u4e48\u4f1a\u901a\u8fc7 diff \u7b97\u6cd5\u6bd4\u8f83\u6574\u4e2a\u8282\u70b9\u6811\u662f\u5426\u53d1\u751f\u53d8\u5316\uff0c\u7a0d\u540e\u5224\u65ad\u8fdb\u884c\u6e32\u67d3\u3002\u5982\u679c\u8bbe\u7f6efalse\uff0c \u76f4\u63a5\u8df3\u8fc7\u6574\u4e2a\u60c5\u51b5\uff08\u4e0d\u8fdb\u884c diff \u6bd4\u8f83\uff09\u3002 shouldComponentUpdate(nextProps, nextState) { return true; } // return false; \u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 React.PureComponent \u800c\u4e0d\u5fc5\u5199\u4f60\u81ea\u5df1\u7684 shouldComponentUpdate \uff0c\u5b83\u53ea\u505a\u4e00\u4e2a\u6d45\u6bd4\u8f83\u3002\u4f46\u662f\u7531\u4e8e\u6d45\u6bd4\u8f83\u4f1a\u5ffd\u7565\u5c5e\u6027\u6216\u72b6\u6001**\u7a81\u53d8**\u7684\u60c5\u51b5\uff0c\u6b64\u65f6\u4f60\u4e0d\u80fd\u4f7f\u7528\u5b83\u3002 \u4f7f\u7528\u4e0d\u53ef\u7a81\u53d8\u7684\u6570\u636e\u7ed3\u6784 [Immutable.js] \u53ef\u4ee5\u89e3\u51b3\u72b6\u6001\u7a81\u53d8\u7684\u60c5\u51b5\u3002\u539f\u59cb\u96c6\u5408\u5728\u65b0\u96c6\u5408\u521b\u5efa\u540e\u4ecd\u7136\u53ef\u4ee5\u4f7f\u7528\u3002\u65b0\u96c6\u5408\u548c\u539f\u59cb\u96c6\u5408\u7ed3\u6784\u5171\u4eab\u3002","title":"6\u3001\u6027\u80fd\u4f18\u5316"},{"location":"react/React-advanced-guides/#7-reconciliation","text":"\u5982\u679c\u5b8c\u5168\u66f4\u65b0\u4e00\u4e2aDOM\u6811\uff0c\u90a3\u4e48\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662fo(n\u00b3)\u3002\u901a\u8fc7\u5bf9\u6bd4\u4e0d\u540c\u7ec4\u4ef6\u548c\u4e0d\u540c\u8282\u70b9\u662f\u5426\u76f8\u540c\u51cf\u5c11\u8ba1\u7b97\u91cf\u3002\u8fd9\u65f6\u7684\u7b97\u6cd5\u590d\u6742\u5ea6\u662fo(n)\u3002\u4e24\u4e2a\u91cd\u8981\u539f\u7406\uff1a\u4e24\u4e2a\u4e0d\u540c\u7c7b\u578b\u7684\u5143\u7d20\u4f1a\u4ea7\u751f\u5b8c\u5168\u4e0d\u540c\u7684\u6811\uff1b\u6839\u636ekey\u7684\u5c5e\u6027\uff0c\u5224\u65ad\u7a33\u5b9a\u7684\u5b50\u8282\u70b9\u3002\u4e0d\u540c\u7c7b\u578b\u7684\u5143\u7d20\u76f4\u63a5\u6e32\u67d3\uff0c\u76f8\u540c\u7c7b\u578b\u7684\u5143\u7d20\u4ec5\u4ec5\u66f4\u65b0\u5c5e\u6027\u3002keys\u662f\u4e00\u4e2a\u7d22\u5f15\uff0c\u5728\u540c\u4e00\u4e2a\u5e8f\u5217\u4e2d\u7684\u6240\u6709\u5b50\u8282\u70b9\u5177\u6709\u4e0d\u540c\u7684keys\u3002\u4f7f\u7528 map \u65b9\u6cd5\u6e32\u67d3\u5b50\u8282\u70b9\u662f\u9700\u8981\u52a0\u5165\u552f\u4e00\u7684\u56fa\u5b9a\u7684key\u503c\u3002","title":"7\u3001\u534f\u8c03 reconciliation"},{"location":"react/React-advanced-guides/#8context","text":"\u907f\u514d\u4e86props\u7684\u9010\u5c42\u4f20\u9012\uff0c\u76f4\u63a5\u8de8\u8d8a\u4e2d\u95f4\u7684\u7ec4\u4ef6\u8fdb\u884c\u6570\u636e\u4f20\u9012\u3002\uff08\u4f8b\u5982\u5168\u5c40\u7684\u6570\u636e\uff0c\u7528\u6237\u7684\u4fe1\u606f\uff0c\u4e3b\u9898\uff0c\u8bed\u8a00\u7b49\uff09\u3002\u7528\u4e8e\u591a\u4e2a\u5c42\u7ea7\u591a\u4e2a\u7ec4\u4ef6\u7684\u60c5\u51b5\u3002\u76ee\u524d\u5b9e\u9645\u5f00\u53d1\u4e2d\u8fd8\u6ca1\u6709\u7528\u5230\u3002 // \u5e38\u89c1 context API const { Provider, Consumer } = React.createContext(defaultValue); // \u521b\u5efa\uff1a\u6e32\u67d3 consumer \u65f6\uff0c\u53ef\u4ee5\u6839\u636e\u7ec4\u4ef6\u6811\u4e0a\u5c42\u4e2d\u6700\u63a5\u8fd1\u7684\u7ec4\u4ef6\u4e2d\u5339\u914d Provider \u8bfb\u53d6\u5f53\u524d\u7684 context \u503c\u3002\u5982\u679c\u4e0a\u5c42\u7ec4\u4ef6\u6811\u4e2d\u6ca1\u6709\u4e00\u4e2a Provider \u90a3\u4e48\u9700\u8981\u7528\u5230 default Value\u3002 <Provider value={} /> <Consumer> {value => /* render sth based on the context value */} </Consumer> \u5bf9\u4e8e\u6bcf\u4e00\u4e2aprovider\u66f4\u65b0\uff0cconsumer\u5c06\u4f1a\u66f4\u65b0(\u4e0d\u53d7\u5230props\u66f4\u65b0\u7684\u5f71\u54cd)\u3002","title":"8\u3001context"},{"location":"react/React-advanced-guides/#9fragments","text":"\u4e00\u4e2a\u7a7a\u7684\u5143\u7d20\u3002\u4e00\u4e2a\u7ec4\u4ef6\u7684\u6839\u5143\u7d20\u5fc5\u987b\u662f\u4e00\u4e2a\u5355\u72ec\u7684\u5143\u7d20\u3002 function Glossary(props) { return ( <dl> {props.items.map(item => ( <React.Fragment key={item.id}> <dt>{item.term}</dt> <dt>{item.description}</dt> </React.Fragment> ))} </dl> ); }","title":"9\u3001fragments"},{"location":"react/React-advanced-guides/#react_1","text":"\u6ce8\u610f\uff1a\u91cd\u70b9\u662f\u67e5\u6f0f\u8865\u7f3a http://www.runoob.com/react/react-tutorial.html","title":"React"},{"location":"react/React-advanced-guides/#_3","text":"1\u3001webpack \u7f16\u8bd1\u6d41\u7a0b\uff08 http://www.runoob.com/react/react-install.html \uff09 // \u4f7f\u7528\u6dd8\u5b9d cnpm \u5b89\u88c5\u901f\u5ea6\u8f83\u5feb npm install -g cnpm --registry = http://registry.npm.taobao.org npm config set registry https://registry.npm.taobao.org cnpm install [ name ] // \u5feb\u901f\u642d\u5efa React \u5f00\u53d1\u73af\u5883 cnpm install -g create-react-app create-reast-app my-app cd my-app/ npm start localhost://3000 \u5f00\u59cb\u754c\u9762 index.html App.js https://blog.csdn.net/u012859720/article/details/70597119/ import React, { Component } from 'react'; import logo from './logo.svg'; import './App.css'; class App extends Component { render() { return ( <div className=\"App\"></div> ); } } export default App; 2\u3001\u5ffd\u7565\u6587\u4ef6\uff1a\u8fd9\u90e8\u5206\u6587\u4ef6\u4e0d\u4f1a\u4e0a\u4f20\u5230github\uff08\u5bf9\u4e8enode-module\u548c\u4e2a\u4eba\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u9700\u8981\u5ffd\u7565\u5904\u7406\uff09\uff1b .gitignore\uff08\u9690\u85cf\u6587\u4ef6\uff09 # See https://help.github.com/ignore-files/ for more about ignoring files. # testing /coverage # production /build #Idea /.idea # misc .DS_Store .env.local .env.development.local .env.test.local .env.production.local npm-debug.log* yarn-debug.log* yarn-error.log* src/config.js # backup files *~ ES6 \u4e0e \u4f20\u7edf\u4ee3\u7801\u2014\u2014ES6 \u9700\u8981\u4f7f\u7528 this.props function Clock(props) { return ( <div> {props.data.toLocaleTimeString()} </div> ); } class Clock extends React.Component { render () { return ( <div>this.props.data.toLocaleTimeString()</div> ); } } JSX \u8bed\u6cd5\u8865\u5145\uff1a \u6ce8\u91ca\u5199\u5728\u82b1\u62ec\u53f7\u4e2d\uff0c{/* test */} \u5728\u6d4b\u8bd5\u7684\u65f6\u5019\u5199jsx\u6ce8\u91ca\u5f88\u65b9\u4fbf","title":"\u5b89\u88c5"},{"location":"react/React-advanced-guides/#react_2","text":"\u4e3a\u4e86\u63d0\u9ad8\u4ee3\u7801\u7684\u590d\u7528\u6027\uff0c\u6700\u597d\u4f7f\u7528\u590d\u5408\u7ec4\u4ef6\uff1b\u5728\u4e00\u4e2a\u754c\u9762\u4e2d\u4f7f\u7528\u591a\u4e2a\u72ec\u7acb\u7684\u7ec4\u4ef6\uff0c\u8fd9\u6837\u53ef\u4ee5\u6700\u597d\u7684\u505a\u5230\u7ec4\u4ef6\u7684\u590d\u7528\u3002\u7ec4\u4ef6\u7684\u4e3b\u8981\u76ee\u7684\u5c31\u662f\u7ec4\u4ef6\u7684\u590d\u7528\u3002 /* es5 \u51fd\u6570\u5b9a\u4e49\u7ec4\u4ef6 */ function Hello(props) { return (<h1 className={this.props.h1}>Hello</h1>); } /* es6 \u7c7b\u5b9a\u4e49\u7ec4\u4ef6 */ class Welcome extends React.Compoennt { consotructor(props) { super(props); this.state = { input: this.props.time }; } render() { return (<h1>Hello</h1>); } } // \u73b0\u5728\u5e38\u7528ES6\u7684\u65b9\u6cd5\uff0c\u4f7f\u7528ES5\u7684\u65b9\u6cd5\u81ea\u5df1\u4e5f\u8981\u4f1a\u505a\u3002","title":"React \u7ec4\u4ef6"},{"location":"react/React-advanced-guides/#react_3","text":"1.\u53d7\u63a7\u7ec4\u4ef6\uff1a\u5728\u539f\u751f\u7684HTML\u4e2d\uff0cinput\uff08type='text'\uff09 textarea select \u4e09\u4e2a\u5143\u7d20\u7684\u5185\u90e8\u7684\u5c5e\u6027\u53ef\u4ee5\u968f\u7740\u7528\u6237\u7684\u8f93\u5165\u53d8\u5316\u3002 2.react \u4e2d\u4f7f\u7528 state \u63a7\u5236\u5c5e\u6027\u7684\u53d8\u5316\uff0c\u5c06\u539f\u751f\u7684\u53d7\u63a7\u7ec4\u4ef6\u548c react \u4e2d state \u7ed3\u5408\u3002 class Text extends React.Component { constructor(props) { super(props); this.state = { value: '' }; } handleChange = (e) => { let text = e.target.value.trim(); this.setState({ value: text }); } handleSubmit = (e) => { e.preventDefault(); seafile.addComment(this.state.value).then((res) => { console.log(res.data.success); }) } render() { <form> <input type=\"text\" value={this.state.value} onChange={this.handleChange}/> <button onClick={this.hanldeSubmit}>Submit</button> </form> } } \u4f7f\u7528\u53d7\u63a7\u7ec4\u4ef6\u53ef\u4ee5\u8fc7\u6ee4\u7528\u6237\u8f93\u5165\uff0c\u5728handlechange \u51fd\u6570\u4e2d\uff0c\u8bbe\u7f6e\u6b63\u5219\u8868\u8fbe\u5f0f\u6216\u8005\u7b80\u5355\u7684trim\u51fd\u6570\u53ef\u4ee5\u8fc7\u6ee4\u90e8\u5206\u8f93\u5165\u3002 <input type='file' /> \u662f\u975e\u53d7\u63a7\u7ec4\u4ef6\u3002\u5c06\u672c\u5730\u7684n\u4e2a\u6587\u4ef6\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u4e2d\u3002 \u5f53\u754c\u9762\u4e0a\u6709\u591a\u4e2ainput\u65f6\uff0c\u53ef\u4ee5\u53ea\u5199\u4e00\u4e2a\u51fd\u6570\uff0chandleinputChange \u5904\u7406\u6240\u6709\u7684input\u8f93\u5165\u3002\u901a\u8fc7 event.target.type \u6216\u8005 event.target.name \u8fdb\u884c\u9009\u62e9\uff0c\u5224\u65ad\u662f\u54ea\u4e2a\u7ec4\u4ef6\u53d1\u751f\u8f93\u5165\u5e76\u8fdb\u884c\u4e0d\u540c\u7684\u754c\u9762\u64cd\u4f5c\u3002 < input type = \"textarea\" name = \"comment\" onChange = \"handleInputChange\" /> < input type = \"checkoutbox\" name = \"comment-number\" onChange = \"handleInputChange\" /> handleInputChange = (e) => { let value = e.target.type === 'textarea' ? e.target.value : e.target.checked; const name = e.target.name; this.setState({ // }); } \u53d7\u63a7\u7ec4\u4ef6\u4f7f\u7528\u5f88\u591a\u4f1a\u5f62\u6210\u5f88\u591a\u7684\u5904\u7406\u51fd\u6570\uff082n\uff09\u6839\u636e\u573a\u5408\u4f7f\u7528\u53d7\u63a7\u7ec4\u4ef6\u548c\u975e\u53d7\u63a7\u7ec4\u4ef6\u3002","title":"React \u53d7\u63a7\u7ec4\u4ef6"},{"location":"react/React-advanced-guides/#react_4","text":"React\u4e2d\u4f7f\u7528\u7ec4\u4ef6\u8fdb\u884c\u6570\u636e\u4f20\u9012\u3002\u53ef\u4ee5\u8fdb\u884c\u7ec4\u4ef6\u7684\u5d4c\u5957\u7ec4\u5408\uff0c\u5b9e\u73b0\u529f\u80fd\u7684\u590d\u7528\uff08\u51fd\u6570\u3001\u5c5e\u6027\uff09\uff1breact\u4e2d\u4e0d\u63a8\u8350\u4f7f\u7528\u7ee7\u627f\u7684\u65b9\u6cd5\u3002 \u5bf9\u4e8e\u5bf9\u8bdd\u6846\u548c\u4fa7\u65c1\u680f\uff0c\u4f7f\u7528\u524d\u53ef\u80fd\u4e0d\u6e05\u9664\u5185\u90e8\u7684\u529f\u80fd\u548c\u9700\u8981\u7684\u8d44\u6e90\u3002","title":"React\u7ec4\u5408&amp;\u7ee7\u627f"},{"location":"react/React-advanced-guides/#react_5","text":"\u9759\u6001\u754c\u9762\uff1a\u4f7f\u7528props\u8fdb\u884c\u5355\u5411\u6570\u636e\u4f20\u9012\uff0c\u4ece\u9876\u5411\u4e0b\u8fdb\u884c\u6570\u636e\u4f20\u9012\uff0c\u4e0d\u9700\u8981\u4f7f\u7528state\u3002 \u52a8\u6001\u754c\u9762\uff1a\u4f7f\u7528props\u8fdb\u884c\u4ece\u4e0a\u5230\u4e0b\u4f20\u9012\uff08repoID\uff09\uff0cstate\u8fdb\u884c\u7ec4\u4ef6\u5185\u90e8\u7684\u6570\u636e\u4ea7\u751f\u548c\u4f20\u9012\uff08comment\uff09\u3002\u7b80\u5355\u754c\u9762\u4f7f\u7528\u4ece\u4e0a\u5230\u4e0b\u7684\u5f00\u53d1\u8fc7\u7a0b\uff0c\u590d\u6742\u754c\u9762\u4f7f\u7528\u4ece\u4e0b\u5230\u4e0a\u7684\u5f00\u53d1\u6d41\u7a0b\u3002\u5c3d\u91cf\u51cf\u5c11state\u4f7f\u7528\uff1a\u786e\u5b9astate\u7684\u4f7f\u7528\u4f4d\u7f6e\uff0c\u786e\u5b9a\u4f7f\u7528state\u7684\u7ec4\u4ef6\u3002 \u7ec4\u4ef6\u5316\u4f1a\u589e\u52a0\u4ee3\u7801\u590d\u7528\u6027\uff08\u540e\u671f\u5f00\u53d1\u663e\u8457\u589e\u52a0\u4ee3\u7801\u590d\u7528\u6027\uff0c\u521d\u671f\u4ee3\u7801\u6bd4\u8f83\u590d\u6742\uff09","title":"React \u7406\u5ff5"},{"location":"react/React-advanced-guides/#_4","text":"UI \u8bbe\u8ba1\uff1a\u6839\u636eUI\u4e2d\u4e0d\u540c\u56fe\u5c42\uff0c\u786e\u5b9a\u7ec4\u4ef6\u7684\u76f8\u5bf9\u4f4d\u7f6e\uff1b\u6839\u636e\u4ea7\u54c1\u529f\u80fd\uff0c\u6839\u636e\u540e\u7aef\u4f20\u6765\u7684\u6570\u636e\uff08\u9ed8\u8ba4\u662f\u5b57\u5178\u7684JSON\uff09\uff0c\u786e\u5b9a\u7ec4\u4ef6\u7684\u5185\u5bb9\u3002\u57fa\u672c\u4e0a\uff0c\u4e00\u4e2a\u7ec4\u4ef6\u505a\u5230\u5b9e\u73b0\u4e00\u4e2a\u5355\u4e00\u7684\u529f\u80fd\u3002\u5982\u679c\u4e00\u4e2a\u7ec4\u4ef6\u53ef\u4ee5\u5b9e\u73b0\u5f88\u591a\u529f\u80fd\uff08\u540e\u671f\u589e\u52a0\u5f88\u591a\u65b0\u7684\u529f\u80fd\uff0c\u9700\u8981\u62c6\u5206\u6210\u72ec\u7acb\u529f\u80fd\u7684\u5b50\u7ec4\u4ef6\uff09\u3002 \u9759\u6001\u5f00\u53d1\uff1a\u4e0d\u8003\u8651\u7528\u6237\u4ea4\u4e92\u7684\u60c5\u51b5\uff0c\u76f4\u63a5\u9759\u6001\u9875\u9762\u8fdb\u884c\u5f00\u53d1\uff08listComments\uff09\uff0c\u6570\u636e\u81ea\u9876\u5411\u4e0b\u8fdb\u884c\u4f20\u9012\u3002\u5b8c\u6210\u9759\u6001\u5f00\u53d1\u540e\uff0c\u53ef\u4ee5\u8fdb\u884c\u9010\u6b65\u6d4b\u8bd5\uff0c\u786e\u4fdd\u5f53\u524d\u9759\u6001\u529f\u80fd\u7684\u5b9e\u73b0\uff08\u663e\u793a\u5f53\u524d\u8bc4\u8bba\u6570\u91cf\uff0c\u663e\u793a\u5f53\u524d\u5df2\u6709\u8bc4\u8bba\uff0c\u5220\u9664\u8bc4\u8bba\uff09\u3002 \u52a8\u6001\u5f00\u53d1\uff1a\u4e3b\u8981\u9488\u5bf9\u7528\u6237\u8f93\u5165\u6216\u8005\u64cd\u4f5c\u3002\u7528\u6237\u5728\u5e95\u7ec4\u4ef6\u4e2d\u8f93\u5165\uff0c\u4ece\u4e0b\u5c42\u83b7\u53d6\u6570\u636e\u76f4\u63a5\u8bf7\u6c42\uff0c\u6216\u8005\u4f7f\u7528\u7236\u7ec4\u4ef6\u7684\u51fd\u6570\u7edf\u4e00\u8fdb\u884c\u8bf7\u6c42\u3002","title":"\u5f00\u53d1\u6d41\u7a0b"},{"location":"react/React-advanced-guides/#react_6","text":"\u9700\u6c42\uff1areact\u662f\u4e00\u4e2a\u6570\u636e\u5355\u5411\u4f20\u503c\u7684\u6846\u67b6\uff0c\u5982\u679c\u5b50\u7ec4\u4ef6\u4e0d\u80fd\u76f4\u63a5\u7ed9\u7236\u7ec4\u4ef6\u4f20\u503c\u3002 \u5982\u679c\u5185\u90e8\u591a\u4e2a\u5b50\u7ec4\u4ef6\u5171\u540c\u4f7f\u7528\u76f8\u540c\u7684\u6570\u636e\uff0c\u5e76\u4e14\u4e92\u76f8\u5f71\u54cd\u3002\u90a3\u4e48\u53ef\u4ee5\u5c06\u8fd9\u90e8\u5206\u5171\u6709\u7684\u6570\u636e\u5b58\u653e\u5728\u7236\u7ec4\u4ef6\u7684\u5c5e\u6027\u4e2d\uff0c\u5c06handleChange\u4f5c\u4e3aprops\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\u3002\u4e0d\u540c\u5b50\u7ec4\u4ef6\u4f1a\u66f4\u6539\u798f\u94bb\u8fdb\u7684\u67d0\u4e2a\u53c2\u6570\uff0c\u8fd9\u90e8\u5206\u53c2\u6570\u4f1a\u5f71\u54cd\u5176\u4ed6\u5b50\u7ec4\u4ef6\u7684\u884c\u4e3a\u3002\u786e\u4fdd\u7236\u7ec4\u4ef6\u5185\u90e8\u7684\u6570\u636e\u6539\u53d8\u4f1a\u6539\u53d8\u5b50\u7ec4\u4ef6\u7684\u5c5e\u6027\u3002 \u6848\u4f8b\uff1a\u516c\u91cc\u548c\u82f1\u91cc\u8fdb\u884c\u8f6c\u6362\uff0c\u603b\u6570\u662f\u56fa\u5b9a\u7684\uff0c\u4e0d\u540c\u5b50\u7ec4\u4ef6\u9700\u8981\u6839\u636e\u5355\u4f4d\u8fdb\u884c\u8f6c\u6362\uff0c\u5c06\u552f\u4e00\u7684\u6570\u636e\u5b58\u653e\u5728\u7236\u7ec4\u4ef6\u4e2d\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u7ec4\u4ef6\u4f20\u503c\u9020\u6210\u7684bug\u3002 tips\uff1a\u5728Chrome react \u5de5\u5177\u53ef\u4ee5\u67e5\u770b\u4e0d\u540c\u7ec4\u4ef6\u7684\u4f20\u503c\uff0c\u4e0d\u9700\u8981\u6bcf\u6b21console.log\u3002 class Text extends React.Compontent { constrcutor(props) { super(props); this.state({ lan: null, length: 0 }); } handleInputChange = (e) => { if (e.target.name === 'zh') { this.setState({ lan: 'zh', length: e.target.value }) } else if (e.target.name === 'en') { this,setState({ lan: 'en', length: e.target.value }) } } render() { const lan = this.state.lan; const chinese = lan === \"zh\" ? length : length * 0.5; const english = lan === \"en\" ? length : length * 2; return ( <div>{chinese}</div> <div>{english}</div> ); } } \u4e0d\u7ba1\u8f93\u5165\u7684\u662f\u82f1\u8bed\u8fd8\u662f\u6c49\u8bed\u7684\u5355\u4f4d\uff0c\u90a3\u4e48\u957f\u5ea6\u4f1a\u8f6c\u5316\u6210\u4e3a\u82f1\u8bed\u548c\u6c49\u8bed\u8fdb\u884c\u5904\u7406\u663e\u793a\u3002","title":"React \u72b6\u6001\u63d0\u5347"},{"location":"react/React-advanced-guides/#refs","text":"refs \u5728\u9ad8\u9636\u7ec4\u4ef6\u4e2d\u8fdb\u884c\u4f20\u503c\u3002React \u5982\u679c\u9700\u8981\u83b7\u53d6\u754c\u9762\u4e2d\u7684\u4fe1\u606f\uff08\u4f8b\u5982\u5143\u7d20\u7684\u5b9e\u9645\u5bbd\u5ea6\uff0c\u90a3\u4e48\u9700\u8981\u4f7f\u7528Refs\u8fdb\u884c\u4f20\u503c\uff0c\u8ba9\u5b50\u7ec4\u4ef6\u83b7\u53d6\u7236\u7ec4\u4ef6\u7684\u9ad8\u5ea6\u548c\u6eda\u52a8\u7684\u8ddd\u79bb\uff09","title":"\u4f20\u9012Refs"},{"location":"react/React-advanced-guides/#render-props","text":"","title":"Render Props"},{"location":"react/React-advanced-guides/#_5","text":"react\u53ef\u4ee5\u5f88\u597d\u7684\u548c\u5176\u4ed6\u5e93\u8fdb\u884c\u517c\u5bb9\uff0c\u4f8b\u5982 jquery \u6216\u8005 backbone\u3002 \u53ef\u8bbf\u95ee\u6027 < Lable htmlFor = \"test\" > Name </ Lable > < input id = \"test\" type = \"text\" name = \"name\" ></ input > \u7126\u70b9\u8fb9\u6846\uff1a\u70b9\u51fb\u8f93\u5165\u533a\u57df\u4f1a\u51fa\u73b0\u8fb9\u6846 \u89e3\u51b3\u65b9\u6848\uff1a\u4f7f\u7528css outline: 0; // react bubble import React from 'react'; import ReactDOM from 'react-dom'; import jquery from 'jquery'; class Tmp extends React.Component { constructor(...args) { super(...args) } } class LosinForm extends React.Component { constructor(...args) { super(...args) } // \u4f7f\u7528\u9ed8\u8ba4\u7684 defauleProps defaultValue defaultChecked \u8bbe\u7f6e\u8868\u5355\u521d\u59cb\u503c\u3002 // \u5f53\u7136\u53ef\u4ee5\u7ed1\u5b9a\u72b6\u6001 state; // this.setState({ value: this.props.name }); render() { return ( <form action=\"http://www.baidu.com\" method=\"get\"> <input type=\"text\" name=\"userName\" defaultValue={this.props.userName}/> <input type='submit' value=\"\u63d0\u4ea4\"/> </form> ); } } $(function() { ReactDOM.render( <LoginForm userName=\"Michael\"/> ); });","title":"\u534f\u540c"},{"location":"react/React-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/","text":"React \u907f\u514d\u91cd\u65b0\u6e32\u67d3 \u6027\u80fd\u4f18\u5316 \u00b6 React\u6846\u67b6\u8fd0\u884c\u7684\u539f\u7406\uff1a\u754c\u9762\u53d7\u5230\u6570\u636e\u9a71\u52a8\uff0cstate \u548c props \u7684\u6539\u52a8\u4f1a\u9020\u6210\u754c\u9762\u7684\u6539\u52a8\u3002\u5176\u4e2d\uff0cstate \u662f\u81ea\u8eab\u7684\u5c5e\u6027\uff0cprops \u662f\u7236\u7ec4\u4ef6\u63d0\u4f9b\u7684\u53c2\u6570\u3002\u5982\u679c\u754c\u9762\u5185\u5bb9\u5f88\u591a\uff0c\u5f88\u5c0f\u7684\u6570\u636e\u53d8\u5316\u4f1a\u9020\u6210\u754c\u9762\u7684\u91cd\u7ed8\uff0c\u90a3\u4e48\u9020\u6210\u6027\u80fd\u7684\u6d6a\u8d39\u3002\u4e0b\u9762\u4ece\u51e0\u4e2a\u65b9\u9762\u603b\u7ed3\u4e00\u4e0b\u5982\u4f55\u907f\u514d\u91cd\u65b0\u6e32\u67d3\u3002 State \u00b6 state\u662f\u4e00\u4e2a\u7ec4\u4ef6\u5185\u90e8\u7684\u5c5e\u6027\u3002\u5982\u679cstate\u53d8\u5316\uff0c\u90a3\u4e48\u7ec4\u4ef6\u5fc5\u7136\u4f1a render\u3002\u5982\u679c\u4e00\u4e2a\u7ec4\u4ef6\u662f\u9759\u6001\u5355\u9879\u7ec4\u4ef6\uff08\u4e0d\u6d89\u53ca\u7528\u6237\u8f93\u5165\u64cd\u4f5c\uff09\uff0c\u907f\u514d state \u4f7f\u7528\u3002\u5982\u679c\u754c\u9762\u4e2d\u9700\u8981\u4f7f\u7528\u53d8\u91cf\u8fdb\u884c\u8ba1\u7b97\uff0c\u53ef\u4ee5\u4f7f\u7528\u5c5e\u6027\uff08this.name\uff09\u6765\u4ee3\u66ffstate\u7b49\u3002\u5982\u679c\u4e0d\u4f7f\u7528 state \u53ef\u4ee5\u8ba1\u7b97\u5f97\u51fa\uff0c\u76f4\u63a5\u8ba1\u7b97\uff0c\u5c3d\u91cf\u51cf\u5c11 state \u7684\u6570\u91cf\u3002\u53ea\u6709\u6d89\u53ca\u7528\u6237\u4ea4\u4e92\u7684\u5730\u65b9\u6216\u8005\u4e0a\u4e0b\u7ec4\u4ef6\u4f20\u503c\u7684\u5730\u65b9\u624d\u4f7f\u7528 state\u3002 \u603b\u4e4b\uff0cstate \u8d8a\u5c11\u8d8a\u597d\u3002 Props \u00b6 props \u662f\u7236\u7ec4\u4ef6\u5411\u5b50\u7ec4\u4ef6\u4f20\u503c\u7684\u65b9\u5f0f\u3002\u5982\u679c\u7236\u7ec4\u4ef6\u4f20\u9012\u7684 props \u53d1\u751f\u53d8\u5316\uff0c\u90a3\u4e48\u5b50\u7ec4\u4ef6\u4f1a\u91cd\u65b0\u6e32\u67d3\u3002\u6240\u4ee5\uff0c\u7236\u7ec4\u4ef6\u4f20\u9012\u7684props\u53ef\u4ee5\u4f18\u5316\uff0c\u5b50\u7ec4\u4ef6\u9700\u8981\u4ec0\u4e48\uff0c\u7236\u7ec4\u4ef6\u518d\u4f20\u9012\u4ec0\u4e48props\u3002 Component \u00b6 \u7ec4\u4ef6\u5316\u662freact\u7684\u91cd\u8981\u601d\u60f3\u3002\u7ec4\u4ef6\u5316\u4e0d\u4ec5\u53ef\u4ee5\u4f7f\u5f97\u4ee3\u7801\u590d\u7528\uff0c\u540c\u65f6\u53ef\u4ee5\u4f18\u5316\u6027\u80fd\u3002\u5c06\u754c\u9762\u4e0a\u7684\u529f\u80fd\u533a\u5206\u6210\u4e0d\u540c\u7684\u7ec4\u4ef6\u3002\u5f53\u67d0\u4e2a\u6570\u636e\u53d1\u751f\u53d8\u5316\uff0c\u53ea\u66f4\u65b0\u4e00\u90e8\u5206\u7ec4\u4ef6\uff0c\u5176\u4ed6\u7ec4\u4ef6\u4e0d\u53d7\u5f71\u54cd\uff0c\u8fd9\u6837\u53ef\u4ee5\u4f18\u5316\u6027\u80fd\u3002 \u5c3d\u91cf\u4f7f\u7528\u65e0\u72b6\u6001\u7ec4\u4ef6\uff08\u6570\u636e\u7531\u5916\u90e8\u63d0\u4f9b\uff0c\u5185\u90e8\u6ca1\u6709\u7528\u6237\u6570\u636e\u4ea4\u4e92\u884c\u4e3a\u7b49\uff09\u3002\u8fd9\u90e8\u5206\u7ec4\u4ef6\u5c31\u662f\u5355\u72ec\u7684\u4e00\u90e8\u5206\uff0c\u4e0d\u53d7\u5230\u5916\u754c\u7684\u6570\u636e\u6539\u53d8\u7684\u5f71\u54cd\u3002 \u751f\u547d\u5468\u671f\u51fd\u6570 \u00b6 \u5728 componentWillUpdate \u548c componentDidUpdate \u9636\u6bb5\uff0c\u754c\u9762\u6570\u636e\u7684\u5904\u7406\u53ef\u80fd\u4f1a\u9020\u6210\u754c\u9762\u518d\u6b21\u6e32\u67d3\u3002\u5982\u679c\u6d89\u53ca\u9012\u5f52\u7b49\u4ee3\u7801\u4f1a\u9020\u6210\u5f88\u5927\u7684\u6027\u80fd\u6d6a\u8d39\u3002 \u5728componentDidMount \u9636\u6bb5\u53ef\u4ee5\u5904\u7406\u5f88\u591a\u6570\u636e\uff08\u754c\u9762\u9996\u6b21\u52a0\u8f7d\u540e\uff0c\u5411\u670d\u52a1\u5668\u53d1\u51fa\u8bf7\u6c42\u7b49\uff09\u3002 \u901a\u8fc7 shouldComponentUpdate \u4e2d\u5224\u65ad\uff0c\u5982\u679c\u7ec4\u4ef6\u4f20\u6765\u7684props\u76f8\u540c\uff0c\u90a3\u4e48\u8fd4\u56de false \u4e0d\u9700\u8981\u8fdb\u884c\u754c\u9762\u91cd\u65b0\u6e32\u67d3\u3002\u524d\u540e\u4e0d\u6539\u53d8state\u503c\u7684setState\uff08\u7406\u8bba\u4e0a\uff09\u548c\u65e0\u6570\u636e\u4ea4\u6362\u7684\u7236\u7ec4\u4ef6\u7684\u91cd\u6e32\u67d3\u90fd\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u7684\u91cd\u6e32\u67d3\uff0c\u4f46\u4f60\u53ef\u4ee5\u5728shouldComponentUpdate\u8fd9\u9053\u4e24\u8005\u5fc5\u7ecf\u7684\u5173\u53e3\u963b\u6b62\u8fd9\u79cd\u6d6a\u8d39\u6027\u80fd\u7684\u884c\u4e3a\u3002 PureComponent \u00b6 React.PureComponent \u7684\u57fa\u7840\u7c7b\u53ef\u4ee5\u5bf9\u6bd4props\u7684\u5dee\u5f02\u3002 immutable.js \u00b6 \u4f7f\u7528immutable.js \u7684\u4e0d\u53ef\u53d8\u6570\u636e \u6216\u8005\u4f7f\u7528 ES6 \u4e2d\u7684 Map \u6216\u8005 Set \u4ee3\u66ff Array \u548c Object\uff08\u8868\u793a\u65e0\u5b9e\u9645\u610f\u4e49\u7684\u5bf9\u8c61\u6216\u8005\u6570\u7ec4\uff09\u3002","title":"React-\u6027\u80fd\u4f18\u5316.md"},{"location":"react/React-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#react","text":"React\u6846\u67b6\u8fd0\u884c\u7684\u539f\u7406\uff1a\u754c\u9762\u53d7\u5230\u6570\u636e\u9a71\u52a8\uff0cstate \u548c props \u7684\u6539\u52a8\u4f1a\u9020\u6210\u754c\u9762\u7684\u6539\u52a8\u3002\u5176\u4e2d\uff0cstate \u662f\u81ea\u8eab\u7684\u5c5e\u6027\uff0cprops \u662f\u7236\u7ec4\u4ef6\u63d0\u4f9b\u7684\u53c2\u6570\u3002\u5982\u679c\u754c\u9762\u5185\u5bb9\u5f88\u591a\uff0c\u5f88\u5c0f\u7684\u6570\u636e\u53d8\u5316\u4f1a\u9020\u6210\u754c\u9762\u7684\u91cd\u7ed8\uff0c\u90a3\u4e48\u9020\u6210\u6027\u80fd\u7684\u6d6a\u8d39\u3002\u4e0b\u9762\u4ece\u51e0\u4e2a\u65b9\u9762\u603b\u7ed3\u4e00\u4e0b\u5982\u4f55\u907f\u514d\u91cd\u65b0\u6e32\u67d3\u3002","title":"React \u907f\u514d\u91cd\u65b0\u6e32\u67d3 \u6027\u80fd\u4f18\u5316"},{"location":"react/React-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#state","text":"state\u662f\u4e00\u4e2a\u7ec4\u4ef6\u5185\u90e8\u7684\u5c5e\u6027\u3002\u5982\u679cstate\u53d8\u5316\uff0c\u90a3\u4e48\u7ec4\u4ef6\u5fc5\u7136\u4f1a render\u3002\u5982\u679c\u4e00\u4e2a\u7ec4\u4ef6\u662f\u9759\u6001\u5355\u9879\u7ec4\u4ef6\uff08\u4e0d\u6d89\u53ca\u7528\u6237\u8f93\u5165\u64cd\u4f5c\uff09\uff0c\u907f\u514d state \u4f7f\u7528\u3002\u5982\u679c\u754c\u9762\u4e2d\u9700\u8981\u4f7f\u7528\u53d8\u91cf\u8fdb\u884c\u8ba1\u7b97\uff0c\u53ef\u4ee5\u4f7f\u7528\u5c5e\u6027\uff08this.name\uff09\u6765\u4ee3\u66ffstate\u7b49\u3002\u5982\u679c\u4e0d\u4f7f\u7528 state \u53ef\u4ee5\u8ba1\u7b97\u5f97\u51fa\uff0c\u76f4\u63a5\u8ba1\u7b97\uff0c\u5c3d\u91cf\u51cf\u5c11 state \u7684\u6570\u91cf\u3002\u53ea\u6709\u6d89\u53ca\u7528\u6237\u4ea4\u4e92\u7684\u5730\u65b9\u6216\u8005\u4e0a\u4e0b\u7ec4\u4ef6\u4f20\u503c\u7684\u5730\u65b9\u624d\u4f7f\u7528 state\u3002 \u603b\u4e4b\uff0cstate \u8d8a\u5c11\u8d8a\u597d\u3002","title":"State"},{"location":"react/React-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#props","text":"props \u662f\u7236\u7ec4\u4ef6\u5411\u5b50\u7ec4\u4ef6\u4f20\u503c\u7684\u65b9\u5f0f\u3002\u5982\u679c\u7236\u7ec4\u4ef6\u4f20\u9012\u7684 props \u53d1\u751f\u53d8\u5316\uff0c\u90a3\u4e48\u5b50\u7ec4\u4ef6\u4f1a\u91cd\u65b0\u6e32\u67d3\u3002\u6240\u4ee5\uff0c\u7236\u7ec4\u4ef6\u4f20\u9012\u7684props\u53ef\u4ee5\u4f18\u5316\uff0c\u5b50\u7ec4\u4ef6\u9700\u8981\u4ec0\u4e48\uff0c\u7236\u7ec4\u4ef6\u518d\u4f20\u9012\u4ec0\u4e48props\u3002","title":"Props"},{"location":"react/React-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#component","text":"\u7ec4\u4ef6\u5316\u662freact\u7684\u91cd\u8981\u601d\u60f3\u3002\u7ec4\u4ef6\u5316\u4e0d\u4ec5\u53ef\u4ee5\u4f7f\u5f97\u4ee3\u7801\u590d\u7528\uff0c\u540c\u65f6\u53ef\u4ee5\u4f18\u5316\u6027\u80fd\u3002\u5c06\u754c\u9762\u4e0a\u7684\u529f\u80fd\u533a\u5206\u6210\u4e0d\u540c\u7684\u7ec4\u4ef6\u3002\u5f53\u67d0\u4e2a\u6570\u636e\u53d1\u751f\u53d8\u5316\uff0c\u53ea\u66f4\u65b0\u4e00\u90e8\u5206\u7ec4\u4ef6\uff0c\u5176\u4ed6\u7ec4\u4ef6\u4e0d\u53d7\u5f71\u54cd\uff0c\u8fd9\u6837\u53ef\u4ee5\u4f18\u5316\u6027\u80fd\u3002 \u5c3d\u91cf\u4f7f\u7528\u65e0\u72b6\u6001\u7ec4\u4ef6\uff08\u6570\u636e\u7531\u5916\u90e8\u63d0\u4f9b\uff0c\u5185\u90e8\u6ca1\u6709\u7528\u6237\u6570\u636e\u4ea4\u4e92\u884c\u4e3a\u7b49\uff09\u3002\u8fd9\u90e8\u5206\u7ec4\u4ef6\u5c31\u662f\u5355\u72ec\u7684\u4e00\u90e8\u5206\uff0c\u4e0d\u53d7\u5230\u5916\u754c\u7684\u6570\u636e\u6539\u53d8\u7684\u5f71\u54cd\u3002","title":"Component"},{"location":"react/React-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#_1","text":"\u5728 componentWillUpdate \u548c componentDidUpdate \u9636\u6bb5\uff0c\u754c\u9762\u6570\u636e\u7684\u5904\u7406\u53ef\u80fd\u4f1a\u9020\u6210\u754c\u9762\u518d\u6b21\u6e32\u67d3\u3002\u5982\u679c\u6d89\u53ca\u9012\u5f52\u7b49\u4ee3\u7801\u4f1a\u9020\u6210\u5f88\u5927\u7684\u6027\u80fd\u6d6a\u8d39\u3002 \u5728componentDidMount \u9636\u6bb5\u53ef\u4ee5\u5904\u7406\u5f88\u591a\u6570\u636e\uff08\u754c\u9762\u9996\u6b21\u52a0\u8f7d\u540e\uff0c\u5411\u670d\u52a1\u5668\u53d1\u51fa\u8bf7\u6c42\u7b49\uff09\u3002 \u901a\u8fc7 shouldComponentUpdate \u4e2d\u5224\u65ad\uff0c\u5982\u679c\u7ec4\u4ef6\u4f20\u6765\u7684props\u76f8\u540c\uff0c\u90a3\u4e48\u8fd4\u56de false \u4e0d\u9700\u8981\u8fdb\u884c\u754c\u9762\u91cd\u65b0\u6e32\u67d3\u3002\u524d\u540e\u4e0d\u6539\u53d8state\u503c\u7684setState\uff08\u7406\u8bba\u4e0a\uff09\u548c\u65e0\u6570\u636e\u4ea4\u6362\u7684\u7236\u7ec4\u4ef6\u7684\u91cd\u6e32\u67d3\u90fd\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u7684\u91cd\u6e32\u67d3\uff0c\u4f46\u4f60\u53ef\u4ee5\u5728shouldComponentUpdate\u8fd9\u9053\u4e24\u8005\u5fc5\u7ecf\u7684\u5173\u53e3\u963b\u6b62\u8fd9\u79cd\u6d6a\u8d39\u6027\u80fd\u7684\u884c\u4e3a\u3002","title":"\u751f\u547d\u5468\u671f\u51fd\u6570"},{"location":"react/React-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#purecomponent","text":"React.PureComponent \u7684\u57fa\u7840\u7c7b\u53ef\u4ee5\u5bf9\u6bd4props\u7684\u5dee\u5f02\u3002","title":"PureComponent"},{"location":"react/React-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#immutablejs","text":"\u4f7f\u7528immutable.js \u7684\u4e0d\u53ef\u53d8\u6570\u636e \u6216\u8005\u4f7f\u7528 ES6 \u4e2d\u7684 Map \u6216\u8005 Set \u4ee3\u66ff Array \u548c Object\uff08\u8868\u793a\u65e0\u5b9e\u9645\u610f\u4e49\u7684\u5bf9\u8c61\u6216\u8005\u6570\u7ec4\uff09\u3002","title":"immutable.js"},{"location":"react/React-%E9%AB%98%E9%98%B6API/","text":"React \u9ad8\u9636 API \u00b6 \u4f7f\u7528\u65b9\u6cd5\uff1a react \u662fReact\u5e93\u7684\u5165\u53e3\u70b9\u3002\u5982\u679c\u4f60\u901a\u8fc7 <script> \u6807\u7b7e\u52a0\u8f7dReact\uff0c\u8fd9\u4e9b\u9ad8\u9636API\u53ef\u7528\u4e8e React \u5168\u5c40\u3002\u5982\u679c\u4f60\u4f7f\u7528ES6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 import React from 'react' \u3002\u5982\u679c\u4f60\u4f7f\u7528ES5\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 var React = require('react') \u3002 \u6982\u89c8 \u00b6 Components \u00b6 React \u7ec4\u4ef6\u53ef\u4ee5\u8ba9\u4f60\u628aUI\u5206\u5272\u4e3a\u72ec\u7acb\u3001\u53ef\u590d\u7528\u7684\u7247\u6bb5\uff0c\u5e76\u5c06\u6bcf\u4e00\u7247\u6bb5\u89c6\u4e3a\u76f8\u4e92\u72ec\u7acb\u7684\u90e8\u5206\u3002 React\u7ec4\u4ef6\u53ef\u4ee5\u901a\u8fc7\u7ee7\u627f React.Component \u6216 React.PureComponent \u6765\u5b9a\u4e49\u3002 React.Component React.PureComponent \u5982\u679c\u4e0d\u7528ES6\u7c7b\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 create-react-class \u6a21\u5757\u3002\u53c2\u9605 Using React without JSX \u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u3002 Creating React Elements \u00b6 \u63a8\u8350 \u4f7f\u7528JSX \u63cf\u8ff0\u4f60\u7684UI\u5916\u89c2\u3002\u6bcf\u4e2aJSX\u5143\u7d20\u4ec5\u662f\u8c03\u7528 React.createElement \u7684\u8bed\u6cd5\u7cd6\u3002\u5982\u679c\u4f7f\u7528\u4e86JSX\uff0c\u4f60\u901a\u5e38\u4e0d\u4f1a\u76f4\u63a5\u8c03\u7528\u4ee5\u4e0b\u65b9\u6cd5\u3002 createElement() createFactory() \u53c2\u9605 Using React without JSX \u4e86\u89e3\u66f4\u591a\u3002 Transforming Elements \u00b6 \bReact \u540c\u65f6\u4e5f\u63d0\u4f9b\u4e86\u5176\u4ed6API\uff1a cloneElement() isValidElement() React.Children Fragments \u00b6 React also provides a component for rendering multiple elements without a wrapper. React.Fragment Other \u00b6 React.forwardRef Reference \u00b6 React.Component \u00b6 \u7528 ES6 \u7c7b \u5b9a\u4e49\u65f6\uff0c React.Component \u662fReact\u7ec4\u4ef6\u7684\u57fa\u7c7b\u3002 class Greeting extends React . Component { render () { return < h1 > Hello , { this . props . name } < /h1>; } } \u6709\u5173 React.Component \u7684\u65b9\u6cd5\u548c\u5c5e\u6027\u5217\u8868\uff0c\u8bf7\u53c2\u9605 React.Component API Reference \u3002 React.PureComponent \u00b6 React.PureComponent \u4e0e React.Component \u51e0\u4e4e\u5b8c\u5168\u76f8\u540c\uff0c\u4f46 React.PureComponent \u901a\u8fc7\bprop\u548cstate\u7684\u6d45\u5bf9\u6bd4\u6765\u5b9e\u73b0 shouldComponentUpdate() \u3002 \u5982\u679cReact\u7ec4\u4ef6\u7684 render() \u51fd\u6570\u5728\u7ed9\u5b9a\u76f8\u540c\u7684props\u548cstate\u4e0b\u6e32\u67d3\u4e3a\u76f8\u540c\u7684\u7ed3\u679c\uff0c\u5728\u67d0\u4e9b\u573a\u666f\u4e0b\u4f60\u53ef\u4ee5\u4f7f\u7528 React.PureComponent \u6765\u63d0\u5347\u6027\u80fd\u3002 Note React.PureComponent \u7684 shouldComponentUpdate() \u53ea\u4f1a\u5bf9\u5bf9\u8c61\u8fdb\u884c\u6d45\u5bf9\u6bd4\u3002\u5982\u679c\u5bf9\u8c61\u5305\u542b\u590d\u6742\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5b83\u53ef\u80fd\u4f1a\u56e0\u6df1\u5c42\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u800c\u4ea7\u751f\u9519\u8bef\u7684\u5426\u5b9a\u5224\u65ad(\u8868\u73b0\u4e3a\u5bf9\u8c61\u6df1\u5c42\u7684\b\u6570\u636e\u5df2\u6539\u53d8\u89c6\u56fe\u5374\u6ca1\u6709\u66f4\u65b0, \u539f\u6587\uff1afalse-negatives)\u3002\u5f53\u4f60\u671f\u671b\u53ea\u62e5\u6709\u7b80\u5355\u7684props\u548cstate\u65f6\uff0c\u624d\u53bb\u7ee7\u627f PureComponent \uff0c\u6216\u8005\u5728\u4f60\u77e5\u9053\u6df1\u5c42\u7684\u6570\u636e\u7ed3\u6784\u5df2\u7ecf\u53d1\u751f\u6539\u53d8\u65f6\u4f7f\u7528 forceUpdate() \u3002\u6216\u8005\uff0c\u8003\u8651\u4f7f\u7528 \u4e0d\u53ef\u53d8\u5bf9\u8c61 \u6765\u4fc3\u8fdb\u5d4c\u5957\u6570\u636e\u7684\u5feb\u901f\u6bd4\u8f83\u3002 \u6b64\u5916, React.PureComponent \u7684 shouldComponentUpate() \u4f1a\u5ffd\u7565\u6574\u4e2a\u7ec4\u4ef6\u7684\u5b50\u7ea7\u3002\u8bf7\u786e\u4fdd\u6240\u6709\u7684\u5b50\u7ea7\u7ec4\u4ef6\b\u4e5f\u662f\u201dPure\u201d\u7684\u3002 createElement() \u00b6 React.createElement( type, [props], [...children] ) \u6839\u636e\u7ed9\u5b9a\u7684\u7c7b\u578b\u521b\u5efa\u5e76\u8fd4\u56de\u65b0\u7684 React element \u3002\u53c2\u6570type\u65e2\u53ef\u4ee5\u662f\u4e00\u4e2ahtml\u6807\u7b7e\u540d\u79f0\u5b57\u7b26\u4e32(\u4f8b\u5982 'div' \u6216 'span' )\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a React component \u7c7b\u578b(\u4e00\u4e2a\u7c7b\u6216\u4e00\u4e2a\u51fd\u6570)\u3002 React.DOM \u63d0\u4f9b\u4e86DOM\u7ec4\u4ef6\u7684 React.createElement() \u7684\u4fbf\u6377\u5305\u88c5\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c React.DOM.a(...) \u662f React.createELement('a', ...) \u7684\u4e00\u4e2a\u4fbf\u6377\u5305\u88c5\u3002\u8fd9\u4e2a\u7528\u6cd5\u88ab\u8ba4\u4e3a\u662f\u8fc7\u65f6\u7684\uff0c\u6211\u4eec\u63a8\u8350\u60a8\u4f7f\u7528JSX\uff0c\u6216\u8005\u76f4\u63a5\u4f7f\u7528 React.createElement() \u3002 \u7528\b JSX \u7f16\u5199\u7684\u4ee3\u7801\u4f1a\u88ab\u8f6c\u6362\u6210\u7528 React.createElement() \u5b9e\u73b0\u3002\u5982\u679c\u4f7f\u7528\u4e86JSX\uff0c\u4f60\b\u901a\u5e38\u4e0d\u4f1a\u76f4\u63a5\u8c03\u7528 React.createElement() \u3002\u53c2\u9605 React Without JSX \u4e86\u89e3\u66f4\u591a\u3002 cloneElement() \u00b6 React.cloneElement( element, [props], [...children] ) \u4ee5 element \u4f5c\u4e3a\u8d77\u70b9\uff0c\u514b\u9686\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684React\u5143\u7d20(React Element)\u3002\u751f\u6210\u7684\u5143\u7d20\u5c06\u4f1a\u62e5\u6709\u539f\u59cb\u5143\u7d20props\b\u4e0e\u65b0props\u7684\u6d45\u5408\u5e76\u3002\u65b0\u7684\u5b50\u7ea7\u4f1a\u66ff\u6362\u73b0\u6709\u7684\u5b50\u7ea7\u3002\u6765\u81ea\u539f\u59cb\u5143\u7d20\u7684 key \u548c ref \u5c06\u4f1a\u4fdd\u7559\u3002 React.cloneElement() \u51e0\u4e4e\u76f8\u5f53\u4e8e\uff1a <element.type {...element.props} {...props}>{children}</element.type> \u7136\u800c\uff0c\u5b83\u4e5f\u4fdd\u7559\u4e86\b ref \u3002\u8fd9\u610f\u5473\u7740\uff0c\u5982\u679c\u4f60\u901a\u8fc7 ref \u83b7\u53d6\u5230\u5b50\u7ea7\u7ec4\u4ef6\u65f6\uff0c\u4e0d\u4f1a\u4e00\u4e0d\u5c0f\u5fc3\u4ece\u7956\u5148\u7ec4\u4ef6\u91cc\b\u7a83\u53d6\b\u4e86\u5b83\u3002\u4f60\u5c06\u83b7\u5f97\u4e0e\u4f60\u65b0\u5143\u7d20\u76f8\u540c\u7684 \b ref \u3002 \u8fd9\u4e2aAPI\u662f\u4e00\u4e2a\u66ff\u6362\u5df2\u5f03\u7528\u7684 React.addons.cloneWithProps() \u7684\u65b9\u6848\u3002 createFactory() \u00b6 React.createFactory(type) \u6839\u636e\u7ed9\u5b9a\u7684\u7c7b\u578b\u8fd4\u56de\u4e00\u4e2a\u521b\u5efaReact\u5143\u7d20\u7684\u51fd\u6570\u3002\u7c7b\u4f3c React.createElement \uff0c\u53c2\u6570type\u65e2\u53ef\u4ee5\u4e00\u4e2ahtml\u6807\u7b7e\b\u540d\u79f0\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a React component \u7c7b\u578b(\u4e00\u4e2a\u7c7b\u6216\u65f6\u4e00\u4e2a\u51fd\u6570)\u3002 \u8fd9\u4e2a\u65b9\u6cd5\u8fc7\u65f6\u4e86\uff0c\u6211\u4eec\u63a8\u8350\u4f60\u4f7f\u7528JSX\u6216\u76f4\u63a5\u4f7f\u7528 React.createElement() \u6765\u66ff\u4ee3\u5b83\u3002 \u5982\u679c\u4f7f\u7528\u4e86JSX\uff0c\u4f60\u901a\u5e38\u4e0d\u4f1a\u76f4\u63a5\u8c03\u7528\b React.createFactory() \u3002\u53c2\u9605 React Without JSX \u4e86\u89e3\u66f4\u591a \u3002 isValidElement() \u00b6 React.isValidElement(object) \u9a8c\u8bc1\u5bf9\u8c61\u662f\u5426\u662f\u4e00\u4e2aReact\u5143\u7d20\u3002\u8fd4\u56de true \u6216 false \u3002 \u904d\u5386\u6570\u7ec4\u7684\u5f88\u91cd\u8981\u7684\u90e8\u5206 React.Children \u00b6 React.Children \u63d0\u4f9b\u4e86\u5904\u7406 this.props.children \u8fd9\u4e2a\u4e0d\u900f\u660e\u6570\u636e\u7ed3\u6784\u7684\u5de5\u5177\u3002 React.Children.map React.Children.map(children, function[(thisArg)]) \u5728\b\u5305\u542b\u5728 children \u91cc\u7684\u6bcf\u4e2a\u5b50\u7ea7\u4e0a\u8c03\u7528\u51fd\u6570\uff0c\u8c03\u7528\u7684\u51fd\u6570\u7684 this \u8bbe\u7f6e\u4e3a thisArg \u3002\u5982\u679c children \u662f\u4e00\u4e2a\u5d4c\u5957\u7684\u5bf9\u8c61\u6216\u6570\u7ec4\uff0c\u5b83\u5c06\u88ab\u904d\u5386\u3002\u5982\u679c children \u662f null \u6216 undefined \uff0c\u8fd4\u56de null \u6216 undefined \u800c\u4e0d\u662f\u4e00\u4e2a\u7a7a\u6570\u7ec4\u3002 React.Children.forEach React.Children.forEach(children, function[(thisArg)]) \u7c7b\u4f3c React.Children.map() \uff0c\u4f46\u662f\u4e0d\u8fd4\u56de\u6570\u7ec4\u3002 React.Children.count React.Children.count(children) \u8fd4\u56de children \u4e2d\u7684\u7ec4\u4ef6\u603b\u6570\uff0c\u76f8\u7b49\u4e8e\u4f20\u7ed9 map \u6216 forEach \u65f6\uff0c\u56de\u8c03\u51fd\u6570\u88ab\u8c03\u7528\u6b21\u6570\u3002 React.Children.only React.Children.only(children) \u8fd4\u56de children \u91cc\u4ec5\u6709\u7684\u5b50\u7ea7\u3002\u5426\u5219\u629b\u51fa\u5f02\u5e38\u3002 React.Children.toArray React.Children.toArray(children) \u8fd4\u56de\u4ee5\u8d4bkey\u7ed9\u6bcf\u4e2a\u5b50\u7ea7 child \u7684\u6241\u5e73\u6570\u7ec4\u5f62\u5f0f\u6765\u7ec4\u6210\u4e0d\u900f\u660e\u7684 children \u6570\u636e\u7ed3\u6784\u3002\u5982\u679c\u4f60\u6253\u7b97\u5728\u4f60\u7684\u6e32\u67d3\u65b9\u6cd5\u91cc\u64cd\u7eb5\u5b50\u7ea7\u96c6\u5408\u8fd9\u5f88\u6709\u7528\uff0c\u7279\u522b\u662f\u4f60\u60f3\u5728 this.props.children \u4f20\u4e0b\u4e4b\u524d\u5bf9\u5b83\u91cd\u65b0\u6392\u5e8f\u6216\u5207\u5272\u3002 Note: \u5f53children\u662f\u6241\u5e73\u5217\u8868\u65f6\uff0c React.Children.toArray() \u6539\u53d8\bkey\u6765\u4fdd\u7559\u5d4c\u5957\u6570\u7ec4\u7684\u8bed\u4e49\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e3a\u4e86\u5728\u5c55\u5f00\u65f6\u4fdd\u7559\u5d4c\u5957\u6570\u7ec4\u7684\u8bed\u4e49\uff0c toArray \u4f1a\u81ea\u52a8\u7684\u7ed9\u6570\u7ec4\u4e2d\u6bcf\u4e2a key \u52a0\u4e86\u4e0a\u524d\u7f00\uff0c\u4ee5\u4fbf\u5c06\u6bcf\u4e2a\u5143\u7d20\u7684key\u88ab\u9650\u5b9a\u5230\u5305\u542b\u5b83\u7684\u8f93\u5165\u6570\u7ec4\u3002 React.forwardRef \u00b6 React.forwardRef accepts a render function that receives props and ref parameters and returns a React node. Ref forwarding is a technique for passing a ref through a component to one of its descendants. This technique can be particularly useful with higher-order components : function enhance ( Component ) { class Enhanced extends React . Component { // ... render () { const { forwardedRef , ... rest } = this . props ; // Assign the custom prop \"forwardedRef\" as a ref return < Component ref = { forwardedRef } {... rest } /> ; } } // Intercept the \"ref\" and pass it as a custom prop, e.g. \"forwardedRef\" function enhanceForwardRef ( props , ref ) { return < Enhanced {... props } forwardedRef = { ref } /> ; } // These next lines are not necessary, // But they do give the component a better display name in DevTools, // e.g. \"ForwardRef(withTheme(MyComponent))\" const name = Component . displayName || Component . name ; enhanceForwardRef . displayName = `enhance( ${ name } )` ; return React . forwardRef ( enhanceForwardRef ); } React.Component \u00b6 \u7ec4\u4ef6\u80fd\u591f\u8ba9\u4f60\u5c06UI\u5206\u5272\u6210\u72ec\u7acb\u7684\u3001\u53ef\u91cd\u7528\u7684\u90e8\u5206\uff0c\u5e76\u5bf9\u6bcf\u4e00\u90e8\u5206\u5355\u72ec\u8003\u91cf\u3002 React \u63d0\u4f9b\u4e86 React.Component \u3002 \u6982\u89c8 \u00b6 React.Component \u662f\u4e00\u4e2a\u62bd\u8c61\u57fa\u7840\u7c7b\uff0c\u56e0\u6b64\u76f4\u63a5\u5f15\u7528 React.Component \u51e0\u4e4e\u6ca1\u610f\u4e49\u3002\u76f8\u53cd\uff0c\u4f60\u901a\u5e38\u4f1a\u7ee7\u627f\u81ea\u5b83\uff0c\u5e76\u81f3\u5c11\u5b9a\u4e49\u4e00\u4e2a render() \u65b9\u6cd5\u3002 \u901a\u5e38\u4f60\u5b9a\u4e49\u4e00\u4e2aReact\u7ec4\u4ef6\u76f8\u5f53\u4e8e\u4e00\u4e2a\u7eaf JavaScript\u7c7b \uff1a class Greeting extends React.Component { render() { return <h1>Hello, {this.props.name}</h1>; } } \u82e5\u4f60\u4ecd\u672a\u4f7f\u7528 ES6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 create-react-class \u6a21\u5757\u3002\u67e5\u770b Using React without ES6 \u4e86\u89e3\u66f4\u591a\u3002 \u7ec4\u4ef6\u751f\u547d\u5468\u671f \u00b6 \u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u90fd\u6709\u51e0\u4e2a\u4f60\u53ef\u4ee5\u91cd\u5199\u4ee5\u8ba9\u4ee3\u7801\u5728\u5904\u7406\u73af\u8282\u7684\u7279\u5b9a\u65f6\u671f\u8fd0\u884c\u7684\u201c\u751f\u547d\u5468\u671f\u65b9\u6cd5\u201d\u3002\u65b9\u6cd5\u4e2d\u5e26\u6709\u524d\u7f00 will \u7684\u5728\u7279\u5b9a\u73af\u8282\u4e4b\u524d\u88ab\u8c03\u7528\uff0c\u800c\u5e26\u6709\u524d\u7f00 did \u7684\u65b9\u6cd5\u5219\u4f1a\u5728\u7279\u5b9a\u73af\u8282\u4e4b\u540e\u88ab\u8c03\u7528\u3002 \u88c5\u914d \u00b6 \u8fd9\u4e9b\u65b9\u6cd5\u4f1a\u5728\u7ec4\u4ef6\u5b9e\u4f8b\u88ab\u521b\u5efa\u548c\u63d2\u5165DOM\u4e2d\u65f6\u88ab\u8c03\u7528\uff1a constructor() static getDerivedStateFromProps() componentWillMount() / UNSAFE_componentWillMount() render() componentDidMount() \u66f4\u65b0 \u00b6 \u5c5e\u6027\u6216\u72b6\u6001\u7684\u6539\u53d8\u4f1a\u89e6\u53d1\u4e00\u6b21\u66f4\u65b0\u3002\u5f53\u4e00\u4e2a\u7ec4\u4ef6\u5728\u88ab\u91cd\u6e32\u65f6\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u5c06\u4f1a\u88ab\u8c03\u7528\uff1a componentWillReceiveProps() / UNSAFE_componentWillReceiveProps() static getDerivedStateFromProps() shouldComponentUpdate() componentWillUpdate() / UNSAFE_componentWillUpdate() render() getSnapshotBeforeUpdate() componentDidUpdate() \u5378\u8f7d \u00b6 \u5f53\u4e00\u4e2a\u7ec4\u4ef6\u88ab\u4eceDOM\u4e2d\u79fb\u9664\u65f6\uff0c\u8be5\u65b9\u6cd5\u88ab\u8c03\u7528\uff1a componentWillUnmount() \u9519\u8bef\u5904\u7406 \u00b6 \u5728\u6e32\u67d3\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef\u65f6\u4f1a\u88ab\u8c03\u7528\uff1a componentDidCatch() \u5176\u4ed6API \u00b6 \u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u8fd8\u63d0\u4f9b\u4e86\u5176\u4ed6\u7684API\uff1a setState() forceUpdate() \u7c7b\u5c5e\u6027 \u00b6 defaultProps displayName \u5b9e\u4f8b\u5c5e\u6027 \u00b6 props state \u53c2\u8003 \u00b6 render() \u00b6 render() render() \u65b9\u6cd5\u662f\u5fc5\u987b\u7684\u3002 \u5f53\u88ab\u8c03\u7528\u65f6\uff0c\u5176\u5e94\u8be5\u68c0\u67e5 this.props \u548c this.state \u5e76\u8fd4\u56de\u4ee5\u4e0b\u7c7b\u578b\u4e2d\u7684\u4e00\u4e2a: React\u5143\u7d20\u3002 \u901a\u5e38\u662f\u7531 JSX \u521b\u5efa\u3002\u8be5\u5143\u7d20\u53ef\u80fd\u662f\u4e00\u4e2a\u539f\u751fDOM\u7ec4\u4ef6\u7684\u8868\u793a\uff0c\u5982 <div /> \uff0c\u6216\u8005\u662f\u4e00\u4e2a\u4f60\u5b9a\u4e49\u7684\u5408\u6210\u7ec4\u4ef6\u3002 \u5b57\u7b26\u4e32\u548c\u6570\u5b57\u3002 \u8fd9\u4e9b\u5c06\u88ab\u6e32\u67d3\u4e3a DOM \u4e2d\u7684 text node\u3002 Portals\u3002 \u7531 ReactDOM.createPortal \u521b\u5efa\u3002 null \u3002 \u4ec0\u4e48\u90fd\u4e0d\u6e32\u67d3\u3002 \u5e03\u5c14\u503c\u3002 \u4ec0\u4e48\u90fd\u4e0d\u6e32\u67d3\u3002\uff08\u901a\u5e38\u5b58\u5728\u4e8e return test && <Child /> \u5199\u6cd5\uff0c\u5176\u4e2d test \u662f\u5e03\u5c14\u503c\u3002\uff09 \u5f53\u8fd4\u56de null \u6216 false \u65f6\uff0c ReactDOM.findDOMNode(this) \u5c06\u8fd4\u56de null \u3002 render() \u51fd\u6570\u5e94\u8be5\u7eaf\u51c0\uff0c\u610f\u5473\u7740\u5176\u4e0d\u5e94\u8be5\u6539\u53d8\u7ec4\u4ef6\u7684\u72b6\u6001 \uff0c\u5176\u6bcf\u6b21\u8c03\u7528\u90fd\u5e94\u8fd4\u56de\u76f8\u540c\u7684\u7ed3\u679c\uff0c\u540c\u65f6\u4e0d\u76f4\u63a5\u548c\u6d4f\u89c8\u5668\u4ea4\u4e92\u3002\u82e5\u9700\u8981\u548c\u6d4f\u89c8\u5668\u4ea4\u4e92\uff0c\u5c06\u4efb\u52a1\u653e\u5728 componentDidMount() \u9636\u6bb5\u6216\u5176\u4ed6\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u3002\u4fdd\u6301 render() \u65b9\u6cd5\u7eaf\u51c0\u4f7f\u5f97\u7ec4\u4ef6\u66f4\u5bb9\u6613\u601d\u8003\u3002 \u6ce8\u610f \u82e5 shouldComponentUpdate() \u8fd4\u56defalse\uff0c render() \u51fd\u6570\u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002 constructor() \u00b6 constructor(props) React\u7ec4\u4ef6\u7684\u6784\u9020\u51fd\u6570\u5c06\u4f1a\u5728\u88c5\u914d\u4e4b\u524d\u88ab\u8c03\u7528\u3002\u5f53\u4e3a\u4e00\u4e2a React.Component \u5b50\u7c7b\u5b9a\u4e49\u6784\u9020\u51fd\u6570\u65f6\uff0c\u4f60\u5e94\u8be5\u5728\u4efb\u4f55\u5176\u4ed6\u7684\u8868\u8fbe\u5f0f\u4e4b\u524d\u8c03\u7528 super(props) \u3002\u5426\u5219\uff0c this.props \u5728\u6784\u9020\u51fd\u6570\u4e2d\u5c06\u662f\u672a\u5b9a\u4e49\uff0c\u5e76\u53ef\u80fd\u5f15\u53d1\u5f02\u5e38\u3002 \u6784\u9020\u51fd\u6570\u662f\u521d\u59cb\u5316\u72b6\u6001\u7684\u5408\u9002\u4f4d\u7f6e \u3002\u82e5\u4f60\u4e0d\u521d\u59cb\u5316\u72b6\u6001\u4e14\u4e0d\u7ed1\u5b9a\u65b9\u6cd5\uff0c\u90a3\u4f60\u4e5f\u4e0d\u9700\u8981\u4e3a\u4f60\u7684React\u7ec4\u4ef6\u5b9a\u4e49\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u3002 \u53ef\u4ee5==\u57fa\u4e8e\u5c5e\u6027\u6765\u521d\u59cb\u5316\u72b6\u6001==\u3002\u8fd9\u6837\u6709\u6548\u5730\u201c\u5206\u79bb\uff08forks\uff09\u201d\u5c5e\u6027\u5e76\u6839\u636e\u521d\u59cb\u5c5e\u6027\u8bbe\u7f6e\u72b6\u6001\u3002\u8fd9\u6709\u4e00\u4e2a\u6709\u6548\u7684 React.Component \u5b50\u7c7b\u6784\u9020\u51fd\u6570\u7684\u4f8b\u5b50\uff1a constructor ( props ) { super ( props ); this . state = { color : props . initialColor }; } \u5f53\u5fc3\u8fd9\u79cd\u6a21\u5f0f\uff0c\u56e0\u4e3a\u72b6\u6001\u5c06\u4e0d\u4f1a\u968f\u7740\u5c5e\u6027\u7684\u66f4\u65b0\u800c\u66f4\u65b0\u3002\u4fdd\u8bc1\u5c5e\u6027\u548c\u72b6\u6001\u540c\u6b65 \uff0c\u4f60\u901a\u5e38\u60f3\u8981 \u72b6\u6001\u63d0\u5347 \u3002 \u82e5\u4f60\u901a\u8fc7\u4f7f\u7528\u5b83\u4eec\u4e3a\u72b6\u6001\u201c\u5206\u79bb\u201d\u5c5e\u6027\uff0c\u4f60\u53ef\u80fd\u4e5f\u60f3\u8981\u5b9e\u73b0 UNSAFE_componentWillReceiveProps(nextProps) \u4ee5\u4fdd\u6301\u6700\u65b0\u7684\u72b6\u6001\u3002\u4f46\u72b6\u6001\u63d0\u5347\u901a\u5e38\u6765\u8bf4\u66f4\u5bb9\u6613\u4ee5\u53ca\u66f4\u5c11\u7684\u5f02\u5e38\u3002 static getDerivedStateFromProps() \u00b6 static getDerivedStateFromProps(nextProps, prevState) \u7ec4\u4ef6\u5b9e\u4f8b\u5316\u540e\u548c\u63a5\u53d7\u65b0\u5c5e\u6027\u65f6\u5c06\u4f1a\u8c03\u7528 getDerivedStateFromProps \u3002\u5b83\u5e94\u8be5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u6765\u66f4\u65b0\u72b6\u6001\uff0c\u6216\u8005\u8fd4\u56denull\u6765\u8868\u660e\u65b0\u5c5e\u6027\u4e0d\u9700\u8981\u66f4\u65b0\u4efb\u4f55\u72b6\u6001\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u7236\u7ec4\u4ef6\u5bfc\u81f4\u4e86\u7ec4\u4ef6\u7684\u91cd\u65b0\u6e32\u67d3\uff0c\u5373\u4f7f\u5c5e\u6027\u6ca1\u6709\u66f4\u65b0\uff0c\u8fd9\u4e00\u65b9\u6cd5\u4e5f\u4f1a\u88ab\u8c03\u7528\u3002\u5982\u679c\u4f60\u53ea\u60f3\u5904\u7406\u53d8\u5316\uff0c\u4f60\u53ef\u80fd\u60f3\u53bb\u6bd4\u8f83\u65b0\u65e7\u503c\u3002 \u8c03\u7528 this.setState() \u901a\u5e38\u4e0d\u4f1a\u89e6\u53d1 getDerivedStateFromProps() \u3002 UNSAFE_componentWillMount() \u00b6 UNSAFE_componentWillMount() UNSAFE_componentWillMount() \u5728\u88c5\u914d\u53d1\u751f\u524d\u88ab\u7acb\u523b\u8c03\u7528\u3002\u5176\u5728 render() \u4e4b\u524d\u88ab\u8c03\u7528\uff0c \u56e0\u6b64\u5728\u8fd9\u65b9\u6cd5\u91cc\u540c\u6b65\u5730\u8bbe\u7f6e\u72b6\u6001\u5c06\u4e0d\u4f1a\u89e6\u53d1\u91cd\u6e32 \u3002 \u907f\u514d\u5728\u8be5\u65b9\u6cd5\u4e2d\u5f15\u5165\u4efb\u4f55\u7684\u526f\u4f5c\u7528\u6216\u8ba2\u9605\u3002\u5bf9\u4e8e\u8fd9\u4e9b\u4f7f\u7528\u573a\u666f\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528 constructor() \u6765\u66ff\u4ee3\u3002 \u8fd9\u662f\u552f\u4e00\u7684\u4f1a\u5728\u670d\u52a1\u7aef\u6e32\u67d3\u8c03\u8d77\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570 \u3002 \u6ce8\u610f \u8fd9\u4e00\u751f\u547d\u5468\u671f\u4e4b\u524d\u53eb\u505a componentWillMount \u3002\u8fd9\u4e00\u540d\u5b57\u572817\u7248\u524d\u90fd\u6709\u6548\u3002\u53ef\u4ee5\u4f7f\u7528 rename-unsafe-lifecycles codemod \u6765\u81ea\u52a8\u66f4\u65b0\u4f60\u7684\u7ec4\u4ef6\u3002 componentDidMount() \u00b6 componentDidMount() componentDidMount() \u5728\u7ec4\u4ef6\u88ab\u88c5\u914d\u540e\u7acb\u5373\u8c03\u7528\u3002\u521d\u59cb\u5316\u4f7f\u5f97DOM\u8282\u70b9\u5e94\u8be5\u8fdb\u884c\u5230\u8fd9\u91cc\u3002 \u82e5\u4f60\u9700\u8981\u4ece\u8fdc\u7aef\u52a0\u8f7d\u6570\u636e\uff0c\u8fd9\u662f\u4e00\u4e2a\u9002\u5408\u5b9e\u73b0\u7f51\u7edc\u8bf7\u6c42\u7684\u5730\u65b9\u3002\u5728\u8be5\u65b9\u6cd5\u91cc\u8bbe\u7f6e\u72b6\u6001\u5c06\u4f1a\u89e6\u53d1\u91cd\u6e32 \u3002 \u8fd9\u4e00\u65b9\u6cd5\u662f\u4e00\u4e2a\u53d1\u8d77\u4efb\u4f55\u7ed1\u5b9a\u7684\u597d\u5730\u65b9\uff08addeventlistener\uff09,\u522b\u5fd8\u4e86\u5728 componentWillUnmount()\u53d6\u6d88 \u3002 \u5728\u8fd9\u4e2a\u65b9\u6cd5\u4e2d\u8c03\u7528 setState() \u5c06\u4f1a\u89e6\u53d1\u4e00\u6b21\u989d\u5916\u7684\u6e32\u67d3\uff0c\u4f46\u662f\u5b83\u5c06\u5728\u6d4f\u89c8\u5668\u5237\u65b0\u5c4f\u5e55\u4e4b\u524d\u53d1\u751f \u3002\u8fd9\u4fdd\u8bc1\u4e86\u5373\u4f7f render() \u5c06\u4f1a\u8c03\u7528\u4e24\u6b21\uff0c \u4f46\u7528\u6237\u4e0d\u4f1a\u770b\u5230\u4e2d\u95f4\u72b6\u6001 \u3002\u8c28\u614e\u4f7f\u7528\u8fd9\u4e00\u6a21\u5f0f\uff0c\u56e0\u4e3a\u5b83\u5e38==\u5bfc\u81f4\u6027\u80fd\u95ee\u9898==\u3002 \u7136\u800c\uff0c\u5b83\u5bf9\u4e8e\u50cf==\u6a21\u6001\u6846(Modal)\u548c\u5de5\u5177\u63d0\u793a\u6846==\u8fd9\u6837\u7684\u4f8b\u5b50\u662f\u5fc5\u987b\u7684\u3002\u8fd9\u65f6\uff0c\u5728\u6e32\u67d3\u4f9d\u8d56==DOM\u8282\u70b9\u7684\u5c3a\u5bf8\u6216\u8005\u4f4d\u7f6e\u7684\u89c6\u56fe==\u524d\uff0c\u4f60\u9700\u8981\u5148\u6d4b\u91cf\u8fd9\u4e9b\u8282\u70b9\u3002(\u83b7\u53d6\u5f53\u524d\u6309\u94ae\u7684\u4f4d\u7f6e \u9700\u8981\u901a\u8fc7ref\u83b7\u53d6\u8282\u70b9\u7684\u5c3a\u5bf8\u6216\u8005\u4f4d\u7f6e\uff0c\u7136\u540e\u8fdb\u4e00\u6b65\u8ba1\u7b97) UNSAFE_componentWillReceiveProps() \u00b6 UNSAFE_componentWillReceiveProps(nextProps) \u6ce8\u610f \u63a8\u8350\u4f60\u4f7f\u7528 getDerivedStateFromProps \u751f\u547d\u5468\u671f\u800c\u4e0d\u662f UNSAFE_componentWillReceiveProps \u3002 \u5173\u4e8e\u6b64\u5efa\u8bae\u5728\u6b64\u4e86\u89e3\u8be6\u60c5\u3002 UNSAFE_componentWillReceiveProps() \u5728\u88c5\u914d\u4e86\u7684\u7ec4\u4ef6\u63a5\u6536\u5230\u65b0\u5c5e\u6027\u524d\u8c03\u7528\u3002\u82e5\u4f60\u9700\u8981\u66f4\u65b0\u72b6\u6001\u54cd\u5e94\u5c5e\u6027\u6539\u53d8\uff08\u4f8b\u5982\uff0c\u91cd\u7f6e\u5b83\uff09\uff0c\u4f60\u53ef\u80fd\u9700\u5bf9\u6bd4 this.props \u548c nextProps \u5e76\u5728\u8be5\u65b9\u6cd5\u4e2d\u4f7f\u7528 this.setState() \u5904\u7406\u72b6\u6001\u6539\u53d8\u3002 \u6ce8\u610f==\u5373\u4f7f\u5c5e\u6027\u672a\u6709\u4efb\u4f55\u6539\u53d8\uff0cReact\u53ef\u80fd\u4e5f\u4f1a\u8c03\u7528\u8be5\u65b9\u6cd5==\uff0c\u56e0\u6b64\u82e5\u4f60\u60f3\u8981\u5904\u7406\u6539\u53d8\uff0c\u8bf7\u786e\u4fdd\u6bd4\u8f83\u5f53\u524d\u548c\u4e4b\u540e\u7684\u503c\u3002\u8fd9\u53ef\u80fd\u4f1a\u53d1\u751f\u5728\u5f53\u7236\u7ec4\u4ef6\u5f15\u8d77\u4f60\u7684\u7ec4\u4ef6\u91cd\u6e32\u3002 \u5728 \u88c5\u914d \u671f\u95f4\uff0cReact\u5e76\u4e0d\u4f1a\u8c03\u7528\u5e26\u6709\u521d\u59cb\u5c5e\u6027\u7684 UNSAFE_componentWillReceiveProps \u65b9\u6cd5\u3002\u5176\u4ec5\u4f1a\u8c03\u7528\u8be5\u65b9\u6cd5\u5982\u679c\u67d0\u4e9b\u7ec4\u4ef6\u7684\u5c5e\u6027\u53ef\u80fd\u66f4\u65b0\u3002\u8c03\u7528 this.setState \u901a\u5e38\u4e0d\u4f1a\u89e6\u53d1 UNSAFE_componentWillReceiveProps \u3002 \u6ce8\u610f \u8fd9\u4e00\u751f\u547d\u5468\u671f\u4e4b\u524d\u53eb\u505a componentWillReceiveProps \u3002\u8fd9\u4e00\u540d\u5b57\u572817\u7248\u524d\u90fd\u6709\u6548\u3002\u53ef\u4ee5\u4f7f\u7528 rename-unsafe-lifecycles codemod \u6765\u81ea\u52a8\u66f4\u65b0\u4f60\u7684\u7ec4\u4ef6\u3002 shouldComponentUpdate() \u00b6 shouldComponentUpdate(nextProps, nextState) \u4f7f\u7528 shouldComponentUpdate() \u4ee5\u8ba9React\u77e5\u9053\u5f53\u524d\u72b6\u6001\u6216\u5c5e\u6027\u7684\u6539\u53d8\u662f\u5426\u4e0d\u5f71\u54cd\u7ec4\u4ef6\u7684\u8f93\u51fa\u3002\u9ed8\u8ba4\u884c\u4e3a\u662f\u5728\u6bcf\u4e00\u6b21\u72b6\u6001\u7684\u6539\u53d8\u91cd\u6e32\uff0c\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u4f60\u5e94\u8be5\u4f9d\u8d56\u4e8e\u9ed8\u8ba4\u884c\u4e3a\u3002 \u5f53\u63a5\u6536\u5230\u65b0\u5c5e\u6027\u6216\u72b6\u6001\u65f6\uff0c shouldComponentUpdate() \u5728\u6e32\u67d3\u524d\u88ab\u8c03\u7528\u3002\u9ed8\u8ba4\u4e3a true \u3002\u8be5\u65b9\u6cd5\u5e76\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u6216\u5f53\u4f7f\u7528 forceUpdate() \u65f6\u88ab\u8c03\u7528\u3002 \u5f53\u4ed6\u4eec\u72b6\u6001\u6539\u53d8\u65f6\uff0c\u8fd4\u56de false \u5e76\u4e0d\u80fd\u963b\u6b62\u5b50\u7ec4\u4ef6\u91cd\u6e32\u3002 \u5f53\u524d\uff0c\u82e5 shouldComponentUpdate() \u8fd4\u56de false \uff0c\u800c\u540e UNSAFE_componentWillUpdate() \uff0c render() \uff0c \u548c componentDidUpdate() \u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002\u6ce8\u610f\uff0c\u5728\u672a\u6765React\u53ef\u80fd\u4f1a\u5c06 shouldComponentUpdate() \u4f5c\u4e3a\u4e00\u4e2a\u7ebf\u7d22\u800c\u4e0d\u662f\u4e00\u4e2a\u4e25\u683c\u6307\u4ee4\uff0c\u8fd4\u56de false \u53ef\u80fd\u4ecd\u7136\u4f7f\u5f97\u7ec4\u4ef6\u91cd\u6e32\u3002 \u5728\u89c2\u5bdf\u540e\uff0c\u82e5\u4f60\u5224\u5b9a\u4e00\u4e2a\u5177\u4f53\u7684\u7ec4\u4ef6\u5f88\u6162\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u8c03\u6574\u5176\u4ece React.PureComponent \u7ee7\u627f\uff0c\u5176\u5b9e\u73b0\u4e86\u5e26\u6709\u6d45\u5c5e\u6027\u548c\u72b6\u6001\u6bd4\u8f83\u7684 shouldComponentUpdate() \u3002\u82e5\u4f60\u786e\u4fe1\u60f3\u8981\u624b\u5199\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u7528 this.props \u548c nextProps \u4ee5\u53ca this.state \u548c nextState \u6bd4\u8f83\uff0c\u5e76\u8fd4\u56de false \u4ee5\u544a\u8bc9React\u66f4\u65b0\u53ef\u4ee5\u88ab\u5ffd\u7565\u3002 UNSAFE_componentWillUpdate() \u00b6 UNSAFE_componentWillUpdate(nextProps, nextState) \u5f53\u63a5\u6536\u5230\u65b0\u5c5e\u6027\u6216\u72b6\u6001\u65f6\uff0c UNSAFE_componentWillUpdate() \u4e3a\u5728\u6e32\u67d3\u524d\u88ab\u7acb\u5373\u8c03\u7528\u3002\u5728\u66f4\u65b0\u53d1\u751f\u524d\uff0c\u4f7f\u7528\u8be5\u65b9\u6cd5\u662f\u4e00\u6b21\u51c6\u5907\u673a\u4f1a\u3002\u8be5\u65b9\u6cd5\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u65f6\u8c03\u7528\u3002 \u6ce8\u610f\u4f60\u4e0d\u80fd\u5728\u8fd9\u8c03\u7528 this.setState() \uff0c\u82e5\u4f60\u9700\u8981\u66f4\u65b0\u72b6\u6001\u54cd\u5e94\u5c5e\u6027\u7684\u8c03\u6574\uff0c\u4f7f\u7528 getDerivedStateFromProps() \u4ee3\u66ff\u3002 \u6ce8\u610f \u8fd9\u4e00\u751f\u547d\u5468\u671f\u4e4b\u524d\u53eb\u505a componentWillUpdate \u3002\u8fd9\u4e00\u540d\u5b57\u572817\u7248\u524d\u90fd\u6709\u6548\u3002\u53ef\u4ee5\u4f7f\u7528 rename-unsafe-lifecycles codemod \u6765\u81ea\u52a8\u66f4\u65b0\u4f60\u7684\u7ec4\u4ef6\u3002 \u6ce8\u610f \u82e5 shouldComponentUpdate() \u8fd4\u56defalse\uff0c UNSAFE_componentWillUpdate() \u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002 getSnapshotBeforeUpdate() \u00b6 getSnapshotBeforeUpdate() \u5728\u6700\u65b0\u7684\u6e32\u67d3\u8f93\u51fa\u63d0\u4ea4\u7ed9DOM\u524d\u5c06\u4f1a\u7acb\u5373\u8c03\u7528\u3002\u5b83\u8ba9\u4f60\u7684\u7ec4\u4ef6\u80fd\u5728\u5f53\u524d\u7684\u503c\u53ef\u80fd\u8981\u6539\u53d8\u524d\u83b7\u5f97\u5b83\u4eec\u3002\u8fd9\u4e00\u751f\u547d\u5468\u671f\u8fd4\u56de\u7684\u4efb\u4f55\u503c\u5c06\u4f1a \u4f5c\u4e3a\u53c2\u6570\u88ab\u4f20\u9012\u7ed9 componentDidUpdate() \u3002 \u4f8b\u5982\uff1a class ScrollingList extends React . Component { listRef = React . createRef (); getSnapshotBeforeUpdate ( prevProps , prevState ) { // Are we adding new items to the list? // Capture the current height of the list so we can adjust scroll later. if ( prevProps . list . length < this . props . list . length ) { return this . listRef . current . scrollHeight ; } return null ; } componentDidUpdate ( prevProps , prevState , snapshot ) { // If we have a snapshot value, we've just added new items. // Adjust scroll so these new items don't push the old ones out of view. if ( snapshot !== null ) { this . listRef . current . scrollTop += this . listRef . current . scrollHeight - snapshot ; } } render () { return ( < div ref = { this . listRef } > { /* ...contents... */ } < /div> ); } } \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u4e3a\u4e86\u652f\u6301\u5f02\u6b65\u6e32\u67d3\uff0c\u5728 getSnapshotBeforeUpdate \u4e2d\u8bfb\u53d6 scrollHeight \u800c\u4e0d\u662f componentWillUpdate \uff0c\u8fd9\u70b9\u5f88\u91cd\u8981\u3002\u7531\u4e8e\u5f02\u6b65\u6e32\u67d3\uff0c\u5728\u201c\u6e32\u67d3\u201d\u65f6\u671f\uff08\u5982 componentWillUpdate \u548c render \uff09\u548c\u201c\u63d0\u4ea4\u201d\u65f6\u671f\uff08\u5982 getSnapshotBeforeUpdate \u548c componentDidUpdate \uff09\u95f4\u53ef\u80fd\u4f1a\u5b58\u5728\u5ef6\u8fdf\u3002\u5982\u679c\u4e00\u4e2a\u7528\u6237\u5728\u8fd9\u671f\u95f4\u505a\u4e86\u50cf\u6539\u53d8\u6d4f\u89c8\u5668\u5c3a\u5bf8\u7684\u4e8b\uff0c\u4ece componentWillUpdate \u4e2d\u8bfb\u51fa\u7684 scrollHeight \u503c\u5c06\u662f\u6ede\u540e\u7684\u3002 componentDidUpdate() \u00b6 componentDidUpdate(prevProps, prevState) componentDidUpdate() \u4f1a\u5728\u66f4\u65b0\u53d1\u751f\u540e\u7acb\u5373\u88ab\u8c03\u7528\u3002\u8be5\u65b9\u6cd5\u5e76\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u65f6\u8c03\u7528\u3002 \u5f53\u7ec4\u4ef6\u88ab\u66f4\u65b0\u65f6\uff0c\u4f7f\u7528\u8be5\u65b9\u6cd5\u662f\u64cd\u4f5cDOM\u7684\u4e00\u6b21\u673a\u4f1a\u3002\u8fd9\u4e5f\u662f\u4e00\u4e2a\u9002\u5408\u53d1\u9001\u8bf7\u6c42\u7684\u5730\u65b9\uff0c\u8981\u662f\u4f60\u5bf9\u6bd4\u4e86\u5f53\u524d\u5c5e\u6027\u548c\u4e4b\u524d\u5c5e\u6027\uff08\u4f8b\u5982\uff0c\u5982\u679c\u5c5e\u6027\u6ca1\u6709\u6539\u53d8\u90a3\u4e48\u8bf7\u6c42\u4e5f\u5c31\u6ca1\u5fc5\u8981\u4e86\uff09\u3002 \u6ce8\u610f \u82e5 shouldComponentUpdate() \u8fd4\u56defalse\uff0c componentDidUpdate() \u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002 componentWillUnmount() \u00b6 componentWillUnmount() componentWillUnmount() \u5728\u7ec4\u4ef6\u88ab\u5378\u8f7d\u548c\u9500\u6bc1\u4e4b\u524d\u7acb\u523b\u8c03\u7528\u3002\u53ef\u4ee5\u5728\u8be5\u65b9\u6cd5\u91cc\u5904\u7406\u4efb\u4f55\u5fc5\u8981\u7684\u6e05\u7406\u5de5\u4f5c\uff0c\u4f8b\u5982\u89e3\u7ed1\u5b9a\u65f6\u5668\uff0c\u53d6\u6d88\u7f51\u7edc\u8bf7\u6c42\uff0c\u6e05\u7406\u4efb\u4f55\u5728 componentDidMount \u73af\u8282\u521b\u5efa\u7684DOM\u5143\u7d20\u3002 componentDidCatch() \u00b6 componentDidCatch(error, info) \u9519\u8bef\u8fb9\u754c\u662fReact\u7ec4\u4ef6\uff0c\u5e76\u4e0d\u662f\u635f\u574f\u7684\u7ec4\u4ef6\u6811\u3002\u9519\u8bef\u8fb9\u754c\u6355\u6349\u53d1\u751f\u5728\u5b50\u7ec4\u4ef6\u6811\u4e2d\u4efb\u610f\u5730\u65b9\u7684JavaScript\u9519\u8bef\uff0c\u6253\u5370\u9519\u8bef\u65e5\u5fd7\uff0c\u5e76\u4e14\u663e\u793a\u56de\u9000\u7684\u7528\u6237\u754c\u9762\u3002\u9519\u8bef\u8fb9\u754c\u6355\u6349\u6e32\u67d3\u671f\u95f4\u3001\u5728\u751f\u547d\u5468\u671f\u65b9\u6cd5\u4e2d\u548c\u5728\u5b83\u4eec\u4e4b\u4e0b\u6574\u68f5\u6811\u7684\u6784\u9020\u51fd\u6570\u4e2d\u7684\u9519\u8bef\u3002 \u5982\u679c\u5b9a\u4e49\u4e86\u8fd9\u4e00\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u4e00\u4e2a\u7c7b\u7ec4\u4ef6\u5c06\u6210\u4e3a\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u3002\u5728\u9519\u8bef\u8fb9\u754c\u4e2d\u8c03\u7528 setState() \u8ba9\u4f60\u6355\u6349\u5f53\u524d\u6811\u4e4b\u4e0b\u672a\u5904\u7406\u7684JavaScript\u9519\u8bef\uff0c\u5e76\u663e\u793a\u56de\u9000\u7684\u7528\u6237\u754c\u9762\u3002\u53ea\u4f7f\u7528\u9519\u8bef\u8fb9\u754c\u6765\u6062\u590d\u5f02\u5e38\uff0c\u800c\u4e0d\u8981\u5c1d\u8bd5\u5c06\u5b83\u4eec\u7528\u4e8e\u63a7\u5236\u6d41\u3002 \u8be6\u60c5\u8bf7\u89c1 React 16\u4e2d\u7684\u9519\u8bef\u5904\u7406 \u3002 \u6ce8\u610f \u9519\u8bef\u8fb9\u754c\u53ea\u6355\u6349\u6811\u4e2d\u53d1\u751f\u5728\u5b83\u4eec**\u4e4b\u4e0b**\u7ec4\u4ef6\u91cc\u7684\u9519\u8bef\u3002\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u5e76\u4e0d\u80fd\u6355\u6349\u5b83\u81ea\u5df1\u5185\u90e8\u7684\u9519\u8bef\u3002 setState() \u00b6 setState(updater, [callback]) setState() \u5c06\u9700\u8981\u5904\u7406\u7684\u53d8\u5316\u585e\u5165\uff08\u8bd1\u8005\u6ce8\uff1asetState\u6e90\u7801\u4e2d\u5c06\u4e00\u4e2a\u9700\u8981\u6539\u53d8\u7684\u53d8\u5316\u5b58\u653e\u5230\u7ec4\u4ef6\u7684state\u5bf9\u8c61\u4e2d\uff0c\u91c7\u7528\u961f\u5217\u5904\u7406\uff09\u7ec4\u4ef6\u7684state\u5bf9\u8c61\u4e2d\uff0c \u5e76\u544a\u8bc9\u8be5\u7ec4\u4ef6\u53ca\u5176\u5b50\u7ec4\u4ef6\u9700\u8981\u7528\u66f4\u65b0\u7684\u72b6\u6001\u6765\u91cd\u65b0\u6e32\u67d3\u3002\u8fd9\u662f\u7528\u4e8e==\u54cd\u5e94\u4e8b\u4ef6\u5904\u7406\u548c\u670d\u52a1\u7aef\u54cd\u5e94\u7684\u66f4\u65b0\u7528\u6237\u754c\u9762\u7684\u4e3b\u8981\u65b9\u5f0f==\u3002 \u5c06 setState() \u8ba4\u4e3a\u662f\u4e00\u6b21*\u8bf7\u6c42*\u800c\u4e0d\u662f\u4e00\u6b21\u7acb\u5373\u6267\u884c\u66f4\u65b0\u7ec4\u4ef6\u7684\u547d\u4ee4\u3002\u4e3a\u4e86\u66f4\u4e3a\u53ef\u89c2\u7684\u6027\u80fd\uff0cReact\u53ef\u80fd\u4f1a\u63a8\u8fdf\u5b83\uff0c\u7a0d\u540e\u4f1a\u4e00\u6b21\u6027\u66f4\u65b0\u8fd9\u4e9b\u7ec4\u4ef6\u3002React\u4e0d\u4f1a\u4fdd\u8bc1\u5728setState\u4e4b\u540e\uff0c\u80fd\u591f\u7acb\u523b\u62ff\u5230\u6539\u53d8\u7684\u7ed3\u679c\u3002 setState() \u4e0d\u662f\u7acb\u523b\u66f4\u65b0\u7ec4\u4ef6\u3002\u5176\u53ef\u80fd\u662f==\u6279\u5904\u7406\u6216\u63a8\u8fdf\u66f4\u65b0==\u3002\u8fd9\u4f7f\u5f97\u5728\u8c03\u7528 setState() \u540e\u7acb\u523b\u8bfb\u53d6 this.state \u7684\u4e00\u4e2a\u6f5c\u5728\u9677\u9631\u3002\u4ee3\u66ff\u5730\uff0c\u4f7f\u7528 componentDidUpdate \u6216\u4e00\u4e2a setState \u56de\u8c03 \uff08 setState(updater, callback) \uff09\uff0c\u5f53\u4e2d\u7684\u6bcf\u4e2a\u65b9\u6cd5\u90fd\u4f1a\u4fdd\u8bc1\u5728\u66f4\u65b0\u88ab\u5e94\u7528\u4e4b\u540e\u89e6\u53d1\u3002\u82e5\u4f60\u9700\u8981\u57fa\u4e8e\u4e4b\u524d\u7684\u72b6\u6001\u6765\u8bbe\u7f6e\u72b6\u6001\uff0c\u9605\u8bfb\u4e0b\u9762\u5173\u4e8e updater \u53c2\u6570\u7684\u4ecb\u7ecd\u3002 \u9664\u975e shouldComponentUpdate() \u8fd4\u56de false \uff0c\u5426\u5219 setState() \u6c38\u8fdc\u90fd\u4f1a\u5bfc\u81f4\u91cd\u6e32 \u3002\u82e5\u4f7f\u7528\u53ef\u53d8\u5bf9\u8c61\u540c\u65f6\u6761\u4ef6\u6e32\u67d3\u903b\u8f91\u65e0\u6cd5\u5728 shouldComponentUpdate() \u4e2d\u5b9e\u73b0\uff0c\u4ec5\u5f53\u65b0\u72b6\u6001\u4e0d\u540c\u4e8e\u4e4b\u524d\u72b6\u6001\u65f6\u8c03\u7528 setState() \uff0c\u5c06\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u91cd\u6e32\u3002 \u7b2c\u4e00\u4e2a\u51fd\u6570\u662f\u5e26\u7b7e\u540d\u7684 updater \u51fd\u6570\uff1a (prevState, props) => stateChange prevState \u662f\u4e4b\u524d\u72b6\u6001\u7684\u5f15\u7528\u3002\u5176\u4e0d\u5e94\u8be5\u88ab\u76f4\u63a5\u6539\u53d8\u3002\u4ee3\u66ff\u5730\uff0c\u6539\u53d8\u5e94\u8be5\u901a\u8fc7\u6784\u5efa\u4e00\u4e2a\u6765\u81ea\u4e8e prevState \u548c props \u8f93\u5165\u7684\u65b0\u5bf9\u8c61\u6765\u8868\u793a\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u6211\u4eec\u60f3\u901a\u8fc7 props.step \u5728\u72b6\u6001\u4e2d\u589e\u52a0\u4e00\u4e2a\u503c\uff1a this.setState((prevState, props) => { return {counter: prevState.counter + props.step}; }); updater\u51fd\u6570\u63a5\u6536\u5230\u7684 prevState \u548c props \u4fdd\u8bc1\u90fd\u662f\u6700\u65b0\u7684\u3002updater\u7684\u8f93\u51fa\u662f\u548c prevState \u7684\u6d45\u5408\u5e76\u3002 setState() \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u53ef\u9009\u5730\u56de\u8c03\u51fd\u6570\uff0c\u5176\u5c06\u4f1a\u5728 setState \u6267\u884c\u5b8c\u6210\u540c\u65f6\u7ec4\u4ef6\u88ab\u91cd\u6e32\u4e4b\u540e\u6267\u884c\u3002\u901a\u5e38\uff0c\u5bf9\u4e8e\u8fd9\u7c7b\u903b\u8f91\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528 componentDidUpdate \u3002 \u4f60\u53ef\u4ee5\u9009\u62e9\u6027\u5730\u4f20\u9012\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a setState() \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u800c\u4e0d\u662f\u4e00\u4e2a\u51fd\u6570\uff1a setState(stateChange, [callback]) \u5176\u4ec5\u662f\u5c06 stateChange \u6d45\u5408\u5e76\u5230\u65b0\u72b6\u6001\u4e2d\u3002\u4f8b\u5982\uff0c\u8c03\u6574\u8d2d\u7269\u8f66\u4e2d\u7269\u54c1\u6570\u91cf\uff1a this.setState({quantity: 2}) \u8fd9\u4e00\u5f62\u5f0f\u7684 setState() \u4e5f\u662f\u5f02\u6b65\u7684\uff0c\u5e76\u5728\u76f8\u540c\u7684\u5468\u671f\u4e2d\u591a\u6b21\u8c03\u7528\u53ef\u80fd\u4f1a\u88ab\u5408\u5e76\u5230\u4e00\u8d77\u3002\u4f8b\u5982\uff0c\u82e5\u4f60\u5728\u76f8\u540c\u7684\u5468\u671f\u4e2d\u5c1d\u8bd5\u591a\u6b21\u589e\u52a0\u4e00\u4ef6\u7269\u54c1\u7684\u6570\u91cf\uff0c\u5176\u7b49\u4ef7\u4e8e\uff1a Object.assign( previousState, {quantity: state.quantity + 1}, {quantity: state.quantity + 1}, ... ) \u4e4b\u540e\u7684\u8c03\u7528\u5728\u540c\u4e00\u5468\u671f\u4e2d\u5c06\u4f1a\u91cd\u5199\u4e4b\u524d\u8c03\u7528\u7684\u503c\uff0c\u56e0\u6b64\u6570\u91cf\u4ec5\u4f1a\u88ab\u52a0\u4e00\u3002\u82e5\u4e4b\u540e\u7684\u72b6\u6001\u4f9d\u8d56\u4e8e\u4e4b\u524d\u7684\u72b6\u6001\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528updater\u51fd\u6570\u5f62\u5f0f\uff1a this.setState((prevState) => { return {counter: prevState.quantity + 1}; }); \u66f4\u591a\u7ec6\u8282\uff0c\u67e5\u770b State & \u751f\u547d\u5468\u671f\u6307\u5357 \u3002 forceUpdate() \u00b6 component.forceUpdate(callback) \u9ed8\u8ba4\u60c5\u51b5\uff0c\u5f53\u4f60\u7684\u7ec4\u4ef6\u6216\u72b6\u6001\u53d1\u751f\u6539\u53d8\uff0c\u4f60\u7684\u7ec4\u4ef6\u5c06\u4f1a\u91cd\u6e32\u3002\u82e5\u4f60\u7684 render() \u65b9\u6cd5\u4f9d\u8d56\u5176\u4ed6\u6570\u636e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 forceUpdate() \u6765\u544a\u8bc9React\u7ec4\u4ef6\u9700\u8981\u91cd\u6e32\u3002 \u8c03\u7528 forceUpdate() \u5c06\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u7684 render() \u65b9\u6cd5\u88ab\u8c03\u7528\uff0c\u5e76\u5ffd\u7565 shouldComponentUpdate() \u3002\u8fd9\u5c06\u4f1a\u89e6\u53d1\u6bcf\u4e00\u4e2a\u5b50\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u6db5\u76d6\uff0c\u6bcf\u4e2a\u5b50\u7ec4\u4ef6\u7684 shouldComponentUpdate() \u65b9\u6cd5\u3002\u82e5\u5f53\u6807\u7b7e\u6539\u53d8\uff0cReact\u4ec5\u4f1a\u66f4\u65b0DOM\u3002 \u901a\u5e38\u4f60\u5e94\u8be5\u5c1d\u8bd5\u907f\u514d\u6240\u6709 forceUpdate() \u7684\u7528\u6cd5\u5e76\u4ec5\u5728 render() \u51fd\u6570\u91cc\u4ece this.props \u548c this.state \u8bfb\u53d6\u6570\u636e\u3002 \u7c7b\u5c5e\u6027 \u00b6 defaultProps \u00b6 defaultProps \u53ef\u4ee5\u88ab\u5b9a\u4e49\u4e3a\u7ec4\u4ef6\u7c7b\u7684\u4e00\u4e2a\u5c5e\u6027\uff0c\u7528\u4ee5\u4e3a\u7c7b\u8bbe\u7f6e\u9ed8\u8ba4\u7684\u5c5e\u6027\u3002\u8fd9\u5bf9\u4e8e\u672a\u5b9a\u4e49\uff08undefined\uff09\u7684\u5c5e\u6027\u6765\u8bf4\u6709\u7528\uff0c\u800c\u5bf9\u4e8e\u8bbe\u4e3a\u7a7a\uff08null\uff09\u7684\u5c5e\u6027\u5e76\u6ca1\u7528\u3002\u4f8b\u5982 defaultProps class CustomButton extends React . Component { // ... } CustomButton . defaultProps = { color : 'blue' }; \u82e5\u672a\u8bbe\u7f6e props.color \uff0c\u5176\u5c06\u88ab\u8bbe\u7f6e\u9ed8\u8ba4\u4e3a 'blue' : render() { return <CustomButton /> ; // props.color will be set to blue } \u82e5 props.color \u8bbe\u4e3anull\uff0c\u5219\u5176\u503c\u5219\u4e3anull\uff1a render() { return <CustomButton color={null} /> ; // props.color will remain null } displayName \u00b6 displayName \u88ab\u7528\u5728\u8c03\u8bd5\u4fe1\u606f\u4e2d\u3002JSX\u4f1a\u81ea\u52a8\u8bbe\u7f6e\u8be5\u503c\uff1b\u67e5\u770b \u6df1\u5165JSX \u3002 \u5b9e\u4f8b\u5c5e\u6027 \u00b6 props \u00b6 this.props \u5305\u542b\u4e86\u7ec4\u4ef6\u8be5\u8c03\u7528\u8005\u5b9a\u4e49\u7684\u5c5e\u6027\u3002\u67e5\u770b \u7ec4\u4ef6 & Props \u5173\u4e8e\u5c5e\u6027\u7684\u4ecb\u7ecd\u3002 \u7279\u522b\u5730\uff0c this.props.children \u662f\u4e00\u4e2a\u7279\u522b\u5c5e\u6027\uff0c\u5176\u901a\u5e38\u7531JSX\u8868\u8fbe\u5f0f\u4e2d\u7684\u5b50\u6807\u7b7e\u5b9a\u4e49\uff0c\u800c\u4e0d\u662f\u6807\u7b7e\u672c\u8eab\u3002 state \u00b6 \u72b6\u6001\u662f\u8be5\u7ec4\u4ef6\u7684\u7279\u5b9a\u6570\u636e\uff0c\u5176\u53ef\u80fd\u6539\u53d8\u591a\u6b21\u3002\u72b6\u6001\u7531\u7528\u6237\u5b9a\u4e49\uff0c\u4e14\u5176\u5e94\u4e3a\u7eafJavaScript\u5bf9\u8c61\u3002 \u82e5\u4f60\u4e0d\u5728 render() \u65b9\u6cd5\u4e2d\u4f7f\u7528\u5b83\uff0c\u5176\u4e0d\u5e94\u8be5\u8be5\u88ab\u653e\u5728\u72b6\u6001\u4e0a\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u76f4\u63a5\u5c06timer IDs\u653e\u5728\u5b9e\u4f8b\u4e0a\u3002 \u67e5\u770b State & \u751f\u547d\u5468\u671f \u4e86\u89e3\u66f4\u591a\u5173\u4e8e\u72b6\u6001\u7684\u4fe1\u606f\u3002 \u6c38\u8fdc\u4e0d\u8981\u76f4\u63a5\u6539\u53d8 this.state \uff0c\u56e0\u4e3a\u8c03\u7528 setState() \u4f1a\u66ff\u6362\u4f60\u4e4b\u524d\u505a\u7684\u6539\u53d8\u3002\u5c06 this.state \u5f53\u6210\u4e0d\u53ef\u53d8\u7684\u3002 ReactDOM \u00b6 \u5982\u679c\u4f60\u7528\u4e00\u4e2a <script> \u6807\u7b7e\u5bfc\u5165React, \u6240\u6709\u7684\u9876\u9636\u7684API\u90fd\u80fd\u5728 ReactDOM \u7684\u5168\u5c40\u8303\u56f4\u5185\u88ab\u8c03\u7528\u3002 \u5982\u679c\u4f60\u7528\u7684\u662f npm\u642d\u914dES6\u6807\u51c6\uff0c\u4f60\u53ef\u4ee5\u7528 import ReactDOM from 'react-dom' \u3002\u5982\u679c\u662fnpm\u548cES5\uff0c\u4f60\u53ef\u4ee5\u7528 var ReactDOM = require('react-dom') \u3002 \u603b\u89c8 \u00b6 react-dom \u8fd9\u4e2a\u8f6f\u4ef6\u5305\u63d0\u4f9b\u4e86\u9488\u5bf9DOM\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728\u4f60\u5e94\u7528\u7684\u9876\u7ea7\u57df\u4e2d\u8c03\u7528\uff0c\u4e5f\u53ef\u4ee5\u5728\u6709\u9700\u8981\u7684\u60c5\u51b5\u4e0b\u7528\u4f5c\u8df3\u51faReact\u6a21\u578b\u7684\u51fa\u53e3\u3002\u4f60\u7684\u5927\u90e8\u5206\u7ec4\u4ef6\u90fd\u4e0d\u5e94\u8be5\u9700\u8981\u4f7f\u7528\u8fd9\u4e2a\u5305\u3002 render() unmountComponentAtNode() findDOMNode() \u6d4f\u89c8\u5668\u517c\u5bb9 \u00b6 React\u517c\u5bb9\u6240\u6709\u5e38\u7528\u7684\u6d4f\u89c8\u5668\uff0c\u5305\u62ecIE9\u53ca\u4ee5\u4e0a\u7684\u7248\u672c\u3002 \u6ce8\u610f \u6211\u4eec\u4e0d\u652f\u6301\u90a3\u4e9b\u4e0d\u517c\u5bb9ES5\u65b9\u6cd5\u7684\u8001\u7248\u6d4f\u89c8\u5668\uff0c\u4f46\u5982\u679c\u4f60\u7684\u5e94\u7528\u5305\u542b\u4e86polyfill\uff0c\u4f8b\u5982 es5-shim \u548c es5-sham \uff0c\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u4f60\u7684\u5e94\u7528\u4ecd\u7136\u53ef\u4ee5\u5728\u8fd9\u4e9b\u6d4f\u89c8\u5668\u4e2d\u6b63\u5e38\u8fd0\u884c\u3002\u5982\u679c\u4f60\u9009\u62e9\u8fd9\u4e48\u5e72\uff0c\u4f60\u5c31\u53ea\u80fd\u5b64\u519b\u594b\u6218\u4e86\u3002 \u5e38\u7528API \u00b6 render() \u00b6 ReactDOM.render( element, container, [callback] ) \u6e32\u67d3\u4e00\u4e2aReact\u5143\u7d20\uff0c\u6dfb\u52a0\u5230\u4f4d\u4e8e\u63d0\u4f9b\u7684 container \u91cc\u7684DOM\u5143\u7d20\u4e2d\uff0c\u5e76\u8fd4\u56de\u8fd9\u4e2a\u7ec4\u4ef6\u7684\u4e00\u4e2a \u5f15\u7528 (\u6216\u8005\u5bf9\u4e8e \u65e0\u72b6\u6001\u7ec4\u4ef6 \u8fd4\u56de null ). \u5982\u679c\u8fd9\u4e2aReact\u5143\u7d20\u4e4b\u524d\u5df2\u7ecf\u88ab\u6e32\u67d3\u5230 container \u91cc\u53bb\u4e86\uff0c\u8fd9\u6bb5\u4ee3\u7801\u5c31\u4f1a\u8fdb\u884c\u4e00\u6b21\u66f4\u65b0\uff0c\u5e76\u4e14\u53ea\u4f1a\u6539\u53d8\u90a3\u4e9b\u53cd\u6620\u5143\u7d20\u6700\u65b0\u72b6\u6001\u6240\u5fc5\u987b\u7684DOM\u5143\u7d20\u3002 \u56de\u8c03\u51fd\u6570\u662f\u53ef\u9009\u7684\u3002\u5982\u679c\u4f60\u63d0\u4f9b\u4e86\uff0c\u7a0b\u5e8f\u4f1a\u5728\u6e32\u67d3\u6216\u66f4\u65b0\u4e4b\u540e\u6267\u884c\u8fd9\u4e2a\u51fd\u6570\u3002 \u6ce8\u610f: ReactDOM.render() \u63a7\u5236\u4f60\u4f20\u8fdb\u6765\u7684\u5bb9\u5668\u8282\u70b9\u91cc\u7684\u7684\u5185\u5bb9\u3002\u7b2c\u4e00\u6b21\u88ab\u8c03\u7528\u65f6\uff0c\u5185\u90e8\u6240\u6709\u5df2\u7ecf\u5b58\u5728\u7684DOM\u5143\u7d20\u90fd\u4f1a\u88ab\u66ff\u6362\u6389\u3002 \u4e4b\u540e\u7684\u8c03\u7528\u4f1a\u4f7f\u7528React\u7684DOM\u6bd4\u8f83\u7b97\u6cd5\u8fdb\u884c\u9ad8\u6548\u7684\u66f4\u65b0\u3002 ReactDOM.render() \u4e0d\u4f1a\u4fee\u6539\u5bb9\u5668\u8282\u70b9\uff08\u53ea\u4fee\u6539\u5bb9\u5668\u7684\u5b50\u9879\uff09\u3002\u4f60\u53ef\u4ee5\u5728\u4e0d\u8986\u76d6\u5df2\u6709\u5b50\u8282\u70b9\u7684\u60c5\u51b5\u4e0b\u6dfb\u52a0\u4e00\u4e2a\u7ec4\u4ef6\u5230\u5df2\u6709\u7684DOM\u8282\u70b9\u4e2d\u53bb\u3002 ReactDOM.render() \u76ee\u524d\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5f15\u7528\uff0c \u6307\u5411 ReactComponent \u7684\u6839\u5b9e\u4f8b\u3002\u4f46\u662f\u8fd9\u4e2a\u8fd4\u56de\u503c\u662f\u5386\u53f2\u9057\u7559\uff0c\u5e94\u8be5\u907f\u514d\u4f7f\u7528\u3002\u56e0\u4e3a\u672a\u6765\u7248\u672c\u7684React\u53ef\u80fd\u4f1a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u8fdb\u884c\u5f02\u6b65\u6e32\u67d3\u3002\u5982\u679c\u4f60\u771f\u7684\u9700\u8981\u4e00\u4e2a\u6307\u5411 ReactComponent \u7684\u6839\u5b9e\u4f8b\u7684\u5f15\u7528\uff0c\u63a8\u8350\u7684\u65b9\u6cd5\u662f\u6dfb\u52a0\u4e00\u4e2a callback ref \u5230\u6839\u5143\u7d20\u4e0a\u3002 unmountComponentAtNode() \u00b6 ReactDOM.unmountComponentAtNode(container) \u4eceDOM\u5143\u7d20\u4e2d\u79fb\u9664\u5df2\u6302\u8f7d\u7684React\u7ec4\u4ef6\uff0c\u6e05\u9664\u5b83\u7684\u4e8b\u4ef6\u5904\u7406\u5668\u548cstate\u3002\u5982\u679c\u5bb9\u5668\u5185\u6ca1\u6709\u6302\u8f7d\u4efb\u4f55\u7ec4\u4ef6\uff0c\u8fd9\u4e2a\u51fd\u6570\u4ec0\u4e48\u90fd\u4e0d\u4f1a\u5e72\u3002 \u6709\u7ec4\u4ef6\u88ab\u5378\u8f7d\u7684\u65f6\u5019\u8fd4\u56de true \uff0c\u6ca1\u6709\u7ec4\u4ef6\u53ef\u4f9b\u5378\u8f7d\u65f6\u8fd4\u56de false \u3002 findDOMNode() \u00b6 ReactDOM.findDOMNode(component) \u5982\u679c\u8fd9\u4e2a\u7ec4\u4ef6\u5df2\u7ecf\u88ab\u6302\u8f7d\u5230DOM\u4e2d\uff0c\u51fd\u6570\u4f1a\u8fd4\u56de\u5bf9\u5e94\u7684\u6d4f\u89c8\u5668\u4e2d\u751f\u6210\u7684DOM\u5143\u7d20 \u3002 \u5f53\u4f60\u9700\u8981\u4eceDOM\u4e2d\u8bfb\u53d6\u503c\u65f6\uff0c\u6bd4\u5982\u8868\u5355\u7684\u503c\uff0c\u6216\u8005\u8ba1\u7b97DOM\u5143\u7d20\u7684\u5c3a\u5bf8\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f1a\u975e\u5e38\u6709\u7528\u3002 \u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e2a\u6307\u5411DOM\u8282\u70b9\u7684\u5f15\u7528\uff0c\u4ece\u800c\u5b8c\u5168\u907f\u514d\u4f7f\u7528findDOMNode \u8fd9\u4e2a\u51fd\u6570. \u5f53 render \u8fd4\u56de null \u6216\u8005 false \u65f6, findDOMNode \u4e5f\u8fd4\u56de null . \u6ce8\u610f: findDOMNode \u662f\u7528\u4e8e\u64cd\u4f5c\u5e95\u5c42DOM\u8282\u70b9\u7684\u5907\u7528\u65b9\u6848\u3002\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u90fd\u4e0d\u63d0\u5021\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6848\uff0c\u56e0\u4e3a\u5b83\u7834\u574f\u4e86\u7ec4\u4ef6\u7684\u62bd\u8c61\u5316\u3002 findDOMNode \u53ea\u5bf9\u6302\u8f7d\u8fc7\u7684\u7ec4\u4ef6\u6709\u6548\uff08\u4e5f\u5c31\u662f\u5df2\u7ecf\u6dfb\u52a0\u5230DOM\u4e2d\u53bb\u7684\u7ec4\u4ef6\uff09\u3002\u5982\u679c\u4f60\u8bd5\u56fe\u5bf9\u4e00\u4e2a\u672a\u6302\u8f7d\u7684\u7ec4\u4ef6\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570 \uff08\u6bd4\u5982\u5728\u4e00\u4e2a\u8fd8\u672a\u521b\u5efa\u7684\u7ec4\u4ef6\u7684 render() \u51fd\u6570\u4e2d\u4e2d\u8c03\u7528 findDOMNode() \uff09\uff0c\u7a0b\u5e8f\u4f1a\u629b\u51fa\u4e00\u4e2a\u5f02\u5e38\u3002 findDOMNode \u4e0d\u80fd\u7528\u4e8e\u51fd\u6570\u5f0f\u7684\u7ec4\u4ef6\u4e2d\u3002 ReactDOMServer \u00b6 \u5982\u679c\u4f60\u901a\u8fc7 <script> \u6807\u7b7e\u52a0\u8f7dReact\uff0c\u8fd9\u4e9b\u9ad8\u9636API\u53ef\u7528\u4e8e ReactDOMServer \u5168\u5c40\u3002\u5982\u679c\u4f60\u4f7f\u7528ES6\uff0c\u4f60\u53ef\u4ee5\u5199\u6210 import ReactDOMServer from 'react-dom/server' \u3002\u5982\u679c\u4f60\u4f7f\u7528ES5\uff0c\u4f60\u53ef\u4ee5\u5199\u6210 var ReactDOMServer = require('react-dom/server') \u3002 \u6982\u89c8 \u00b6 ReactDOMServer \u7c7b\u53ef\u4ee5\u8ba9\u4f60==\u5728\u670d\u52a1\u7aef\u6e32\u67d3\u4f60\u7684\u7ec4\u4ef6==\u3002 PS\uff1acomponentWillMount\u7684\u5185\u5bb9\u5728\u670d\u52a1\u7aef\u6e32\u67d3\u4ee3\u7801\u3002ComponentDidMount\u5728\u6d4f\u89c8\u5668\u6e32\u67d3\u4ee3\u7801\u3002\u5c3d\u91cf\u4f7f\u7528\u540e\u9762\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\u3002 renderToString() renderToStaticMarkup() Reference \u00b6 renderToString() \u00b6 ReactDOMServer.renderToString(element) \u628a\u4e00\u4e2aReact\u5143\u7d20\u6e32\u67d3\u4e3a\u539f\u59cb\u7684HTML\u3002\u8fd9\u4e2a\u65b9\u6cd5\u6700\u597d\u53ea\u5728\u670d\u52a1\u7aef\u4f7f\u7528\u3002React\u5c06\u4f1a\u8fd4\u56de\u4e00\u6bb5HTML\u5b57\u7b26\u4e32\u3002\u4f60\u53ef\u4ee5\u7528\u8fd9\u4e2a\u65b9\u6cd5\u5728\u670d\u52a1\u7aef\u751f\u6210HTML\uff0c\u5e76\u6839\u636e\u521d\u59cb\u8bf7\u6c42\u53d1\u9001\u6807\u8bb0\u6765\u52a0\u5feb\u9875\u9762\u7684\u52a0\u8f7d\u901f\u5ea6\uff0c\u540c\u65f6\u8ba9\u641c\u7d22\u5f15\u64ce\u53ef\u4ee5\u6293\u53d6\u4f60\u7684\u9875\u9762\u6765\u8fbe\u5230\u4f18\u5316SEO\u7684\u76ee\u7684\u3002 \u5982\u679c\u5728\u4e00\u4e2a\u5df2\u7ecf\u6709\u4e86\u670d\u52a1\u7aef\u6e32\u67d3\u6807\u8bb0\u7684\u8282\u70b9\u4e0a\u8c03\u7528 ReactDOM.render() \uff0cReact\u5c06\u4fdd\u7559\u8be5\u8282\u70b9\uff0c\u4ec5\u4f5c\u7ed1\u5b9a\u4e8b\u4ef6\u5904\u7406\uff0c\u8fd9\u4f1a\u8ba9\u4f60\u6709\u4e00\u4e2a\u975e\u5e38\u9ad8\u6548\u7684\u521d\u6b21\u52a0\u8f7d\u4f53\u9a8c\u3002 renderToStaticMarkup() \u00b6 ReactDOMServer.renderToStaticMarkup(element) \u7c7b\u4f3c renderToString \uff0c\u4f46\u662f\u4e0d\u4f1a\u521b\u5efa\u989d\u5916\u7684DOM\u5c5e\u6027\uff0c\u4f8b\u5982 data-reactid \u8fd9\u4e9b\u4ec5\u5728React\u5185\u90e8\u4f7f\u7528\u7684\u5c5e\u6027\u3002\u5982\u679c\u4f60\u5e0c\u671b\u628aReact\u5f53\u4f5c\u4e00\u4e2a\u7b80\u5355\u7684\u9759\u6001\u9875\u9762\u751f\u6210\u5668\u6765\u4f7f\u7528\uff0c\u8fd9\u5f88\u6709\u7528\uff0c\u56e0\u4e3a\u53bb\u6389\u989d\u5916\u7684\u5c5e\u6027\u53ef\u4ee5\u8282\u7701\u5f88\u591a\u5b57\u8282\u3002 DOM Elements \u00b6 React\u5b9e\u73b0\u4e86\u4e00\u5957\u4e0e\u6d4f\u89c8\u5668\u65e0\u5173\u7684DOM\u7cfb\u7edf\uff0c\u517c\u987e\u4e86\u6027\u80fd\u548c\u8de8\u6d4f\u89c8\u5668\u7684\u517c\u5bb9\u6027\u3002\u501f\u6b64\u673a\u4f1a\uff0c\u6211\u4eec\u6e05\u7406\u4e86\u6d4f\u89c8\u5668DOM\u5b9e\u73b0\u4e2d\u4e00\u4e9b\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\u3002 \u5728React\u4e2d\uff0c\u6240\u6709\u7684DOM\u7279\u6027\u548c\u5c5e\u6027\uff08\u5305\u62ec\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\uff09\u90fd\u662f\u5c0f\u9a7c\u5cf0\u547d\u540d\u6cd5\u547d\u540d\u3002\u6bd4\u5982\u8bf4\uff0c\u4e0eHTML\u4e2d\u7684 tabindex \u5c5e\u6027\u5bf9\u5e94\u7684React\u5b9e\u73b0\u547d\u540d\u5219\u662f tabIndex \u3002 aria-* \u548c data-* \u5c5e\u6027\u662f\u4f8b\u5916\u7684\uff0c\u4e00\u5f8b\u4f7f\u7528\u5c0f\u5199\u5b57\u6bcd\u547d\u540d\u3002 React\u548cHTML DOM\u5c5e\u6027\u7684\u533a\u522b \u00b6 \u6709\u8bb8\u591a\u7684\u5c5e\u6027\u5728React\u548cHtml\u4e4b\u95f4\u884c\u4e3a\u662f\u4e0d\u4e00\u6837\u7684 checked\u5c5e\u6027 \u00b6 <input> \u6807\u7b7etype\u5c5e\u6027\u503c\u4e3a checkbox \u6216 radio \u65f6\uff0c\u652f\u6301 checked \u5c5e\u6027\u3002\u8fd9\u5bf9\u4e8e\u6784\u5efa\u53d7\u63a7\u7ec4\u4ef6\u5f88\u6709\u7528\u3002\u4e0e\u4e4b\u76f8\u5bf9 defaultChecked \u8fd9\u662f\u975e\u53d7\u63a7\u7ec4\u4ef6\u7684\u5c5e\u6027\uff0c\u7528\u6765\u8bbe\u5b9a\u5bf9\u5e94\u7ec4\u4ef6\u9996\u6b21\u52a0\u8f7d\u65f6\u662f\u5426\u9009\u4e2d\u72b6\u6001\u3002 \u7c7b\u540d\u5c5e\u6027 \u00b6 \u5728React\u4e2d\uff0c\u4f7f\u7528 className \u5c5e\u6027\u6307\u5b9a\u4e00\u4e2aCSS\u7c7b\u3002\u8fd9\u4e2a\u7279\u6027\u9002\u7528\u4e8e\u6240\u6709\u7684\u5e38\u89c4DOM\u8282\u70b9\u548cSVG\u5143\u7d20\uff0c\u6bd4\u5982 <div> \uff0c <a> \u548c\u5176\u5b83\u7684\u5143\u7d20\u3002 \u5982\u679c\u4f60\u5728React\u4e2d\u4f7f\u7528Web\u7ec4\u4ef6\uff08\u8fd9\u662f\u4e00\u79cd\u4e0d\u5e38\u89c1\u7684\u4f7f\u7528\u65b9\u5f0f\uff09\uff0c\u8bf7\u4f7f\u7528 class \u5c5e\u6027\u3002 dangerouslySetInnerHTML\u51fd\u6570 \u00b6 dangerouslySetInnerHTML \u662fReact\u63d0\u4f9b\u7684\u66ff\u6362\u6d4f\u89c8\u5668DOM\u4e2d\u7684 innerHTML \u63a5\u53e3\u7684\u4e00\u4e2a\u51fd\u6570\u3002\u4e00\u822c\u800c\u8a00\uff0c\u4f7f\u7528JS\u4ee3\u7801\u8bbe\u7f6eHTML\u6587\u6863\u7684\u5185\u5bb9\u662f\u5371\u9669\u7684\uff0c\u56e0\u4e3a\u8fd9\u6837\u5f88\u5bb9\u6613\u628a\u4f60\u7684\u7528\u6237\u4fe1\u606f\u66b4\u9732\u7ed9 \u8de8\u7ad9\u811a\u672c \u653b\u51fb.\u6240\u4ee5\uff0c\u4f60\u867d\u7136\u53ef\u4ee5\u76f4\u63a5\u5728React\u4e2d\u8bbe\u7f6ehtml\u7684\u5185\u5bb9\uff0c\u4f46\u4f60\u8981\u4f7f\u7528 dangerouslySetInnerHTML \u5e76\u5411\u8be5\u51fd\u6570\u4f20\u9012\u4e00\u4e2a\u542b\u6709 __html \u952e\u7684\u5bf9\u8c61\uff0c\u7528\u6765\u63d0\u9192\u4f60\u81ea\u5df1\u8fd9\u6837\u505a\u5f88\u5371\u9669\u3002\u4f8b\u5982\uff1a function createMarkup () { return { __html : 'First &middot; Second' }; } function MyComponent () { return < div dangerouslySetInnerHTML = { createMarkup ()} /> ; } htmlFor \u00b6 \u56e0\u4e3a\u5728javascript\u4e2d for \u662f\u4e00\u4e2a\u4fdd\u7559\u5b57\uff0c\u6240\u4ee5React\u5143\u7d20\u4f7f\u7528 htmlFor \u4ee3\u66ff\u3002 onChange\u51fd\u6570 \u00b6 onChange \u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u7684\u8868\u73b0\u6b63\u5982\u4f60\u6240\u671f\u671b\u7684\uff1a \u65e0\u8bbaform\u8868\u5355\u4f55\u65f6\u53d1\u751f\u53d8\u5316\uff0c\u8fd9\u4e2a\u4e8b\u4ef6\u90fd\u4f1a\u88ab\u89e6\u53d1 \u3002\u6211\u4eec\u7279\u610f\u4e0d\u4f7f\u7528\u6d4f\u89c8\u5668\u5df2\u6709\u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u56e0\u4e3a onChange \u5728\u6d4f\u89c8\u5668\u4e2d\u7684\u8868\u73b0\u548c\u8fd9\u4e2a\u540d\u5b57\u4e0d\u76f8\u79f0\uff0c\u800c\u4e14==React\u771f\u5b9e\u4f9d\u9760\u8fd9\u4e2a\u4e8b\u4ef6\u5b9e\u73b0\u4e86\u5bf9\u7528\u6237\u8f93\u5165\u7684\u5b9e\u65f6\u54cd\u5e94\u5904\u7406==\u3002 selected \u00b6 The selected attribute is supported by <option> components. You can use it to set whether the component is selected. This is useful for building controlled components. <option> \u7ec4\u4ef6\u652f\u6301 selected \u5c5e\u6027\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u8be5\u5c5e\u6027\u8bbe\u5b9a\u7ec4\u4ef6\u662f\u5426\u9009\u4e2d\u7684\u72b6\u6001\u3002\u8fd9\u5bf9\u6784\u5efa\u53d7\u63a7\u7ec4\u4ef6\u5f88\u6709\u7528\u3002 style\u5c5e\u6027 \u00b6 style \u5c5e\u6027\u63a5\u53d7\u4e00\u4e2a\u952e\u4e3a\u5c0f\u9a7c\u5cf0\u547d\u540d\u6cd5\u547d\u540d\u7684javascript\u5bf9\u8c61\u4f5c\u4e3a\u503c\uff0c\u800c\u4e0d\u662f\u50cfcss\u5b57\u7b26\u4e32\u3002\u8fd9\u548cDOM\u4e2dstyle\u5c5e\u6027\u63a5\u53d7javascript\u5bf9\u8c61\u5bf9\u8c61key\u7684\u547d\u540d\u65b9\u5f0f\u4fdd\u6301\u4e00\u81f4\u6027\uff0c\u66f4\u9ad8\u6548\u800c\u4e14\u80fd\u591f\u9632\u6b62\u8de8\u7ad9\u811a\u672c\uff08XSS\uff09\u7684\u5b89\u5168\u6f0f\u6d1e\u3002\u4f8b\u5982\uff1a const divStyle = { color: 'blue', backgroundImage: 'url(' + imgUrl + ')', }; function HelloWorldComponent() { return <div style={divStyle}>Hello World!</div>; } \u8981\u6ce8\u610f\uff0c\u6837\u5f0f\u5c5e\u6027\u4e0d\u4f1a\u81ea\u52a8\u8865\u9f50\u524d\u7f00\u7684\u3002\u4e3a\u4e86\u652f\u6301\u65e7\u7684\u6d4f\u89c8\u5668\uff0c\u4f60\u9700\u8981\u624b\u52a8\u652f\u6301\u76f8\u5173\u7684\u6837\u5f0f\u7279\u6027\uff1a const divStyle = { WebkitTransition: 'all', // note the capital 'W' here msTransition: 'all' // 'ms' is the only lowercase vendor prefix }; function ComponentWithTransition() { return <div style={divStyle}>This should work cross-browser</div>; } \u6837\u5f0fkey\u4f7f\u7528\u5c0f\u9a7c\u5cf0\u547d\u540d\u6cd5\u662f\u4e3a\u4e86\u548cJS\u8bbf\u95eeDOM\u7279\u6027\u5bf9\u5bf9\u8c61\u7684\u5904\u7406\u4fdd\u6301\u4e00\u81f4\u6027\uff08\u4f8b\u5982 node.style.backgroundImage \uff09\u3002\u6d4f\u89c8\u5668\u540e\u7f00 \u9664\u4e86 ms \u4ee5\u5916\uff0c\u90fd\u5e94\u8be5\u4ee5\u5927\u5199\u5b57\u6bcd\u5f00\u5934\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48 WebkitTransition \u6709\u4e00\u4e2a\u5927\u5199\u5b57\u6bcd W \u3002 suppressContentEditableWarning \u00b6 \u4e00\u822c\u6765\u8bf4\uff0c\u5f53\u4e00\u4e2a\u62e5\u6709\u5b50\u8282\u70b9\u7684\u5143\u7d20\u88ab\u6807\u8bb0\u4e3a contentEditable \u65f6\uff0cReact\u4f1a\u53d1\u51fa\u4e00\u4e2a\u8b66\u544a\u4fe1\u606f\uff0c\u56e0\u4e3a\u6b64\u65f6 contentEditable \u662f\u65e0\u6548\u7684\u3002\u8fd9\u4e2a\u5c5e\u6027\u4f1a\u89e6\u53d1\u8fd9\u6837\u7684\u8b66\u544a\u4fe1\u606f\u3002\u4e00\u822c\u4e0d\u8981\u4f7f\u7528\u8fd9\u4e2a\u5c5e\u6027\uff0c\u9664\u975e\u4f60\u8981\u6784\u5efa\u4e00\u4e2a\u7c7b\u4f3c Draft.js \u8fd9\u6837\u9700\u8981\u624b\u52a8\u5904\u7406 contentEditable \u5c5e\u6027\u7684\u5e93\u3002 value \u00b6 <input> \u548c <textarea> \u7ec4\u4ef6\u90fd\u652f\u6301 value \u5c5e\u6027\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u8be5\u5c5e\u6027\u8bbe\u7f6e\u7ec4\u4ef6\u7684\u503c\u3002\u8fd9\u5bf9\u6784\u5efa\u53d7\u63a7\u7ec4\u4ef6\u975e\u5e38\u6709\u7528\u3002 defaultValue \u5c5e\u6027\u5bf9\u5e94\u7684\u662f\u975e\u53d7\u63a7\u7ec4\u4ef6\u7684\u5c5e\u6027\uff0c\u7528\u6765\u8bbe\u7f6e\u7ec4\u4ef6\u7b2c\u4e00\u6b21\u52a0\u8f7d\u65f6\u7684\u503c\u3002 \u6240\u6709\u53d7\u652f\u6301\u7684HTML\u5c5e\u6027 \u00b6 React\u652f\u6301\u4ee5\u4e0b\u6240\u6709\u7684\u5c5e\u6027\uff0c\u540c\u65f6\u4e5f==\u652f\u6301\u6240\u6709\u7684 data-* \u548c aria-* \u5c5e\u6027==\uff1a React\u4e5f\u652f\u6301\u4ee5\u4e0b\u8fd9\u4e9bRDFa\u5c5e\u6027\uff08\u6709\u51e0\u4e2aRDFa\u5c5e\u6027\u548cHTML\u5c5e\u6027\u91cd\u53e0\uff0c\u6240\u4ee5\u4e0d\u5305\u542b\u5728\u4ee5\u4e0b\u5217\u8868\u4e2d\uff09\uff1a about datatype inlist prefix property resource typeof vocab \u800c\u4e14\uff0cReact\u4e5f\u652f\u6301\u4e0b\u5217\u975e\u6807\u51c6\u5c5e\u6027\uff1a autoCapitalize autoCorrect for Mobile Safari. color for <link rel=\"mask-icon\" /> in Safari. itemProp itemScope itemType itemRef itemID for HTML5 microdata . security for older versions of Internet Explorer. unselectable for Internet Explorer. results autoSave for WebKit/Blink input fields of type search . \u5408\u6210\u4e8b\u4ef6 \u00b6 \u6b64\u53c2\u8003\u6307\u5357\u8bb0\u5f55\u4e86\u6784\u6210React\u4e8b\u4ef6\u7cfb\u7edf\u7684\u4e00\u90e8\u5206\u7684 SyntheticEvent \u5c01\u88c5\u5668\u3002 \u60a8\u7684\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u5c06\u4f1a\u63a5\u6536 SyntheticEvent \u7684\u5b9e\u4f8b\uff0c\u4e00\u4e2a\u57fa\u4e8e\u6d4f\u89c8\u5668\u539f\u751f\u4e8b\u4ef6\u7684\u8de8\u6d4f\u89c8\u5668\u5b9e\u73b0\u3002\u5b83\u62e5\u6709\u548c\u6d4f\u89c8\u5668\u539f\u751f\u4e8b\u4ef6\u4e00\u6837\u7684\u63a5\u53e3\uff0c\u5305\u62ec stopPropagation() \u548c preventDefault() \uff0c\u9664\u4e86\u90a3\u4e9b\u6240\u6709\u6d4f\u89c8\u5668\u529f\u80fd\u4e00\u6837\u7684\u4e8b\u4ef6\u3002 \u5982\u679c\u7531\u4e8e\u67d0\u4e9b\u539f\u56e0\uff0c\u4f60\u5f97\u4f7f\u7528\u4e00\u4e9b\u5e95\u5c42\u7684\u6d4f\u89c8\u5668\u4e8b\u4ef6\uff0c\u53ea\u9700\u7528 nativeEvent \u7684\u5c5e\u6027\u5c31\u80fd\u627e\u5230\u3002\u6bcf\u4e2a SyntheicEvent \u5bf9\u8c61\u90fd\u6709\u5982\u4e0b\u5c5e\u6027\uff1a \u6572\u9ed1\u677f\uff1a \u7531\u4e8e\u5728v0.14\u7248\u672c\u4e2d\uff0c\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u8fd4\u56de false \u4e0d\u4f1a\u518d\u963b\u6b62\u4e8b\u4ef6\u4f20\u64ad, \u6240\u4ee5\u5fc5\u987b\u5f97\u624b\u52a8\u89e6\u53d1 e.stopPropagation() \u548c e.preventDefault() \u65b9\u6cd5\u3002 \u4e8b\u4ef6\u6c60 \u00b6 SyntheticEvent \u662f\u5171\u4eab\u7684\u3002\u90a3\u5c31\u610f\u5473\u7740\u5728\u8c03\u7528\u4e8b\u4ef6\u56de\u8c03\u4e4b\u540e\uff0c SyntheticEvent \u5bf9\u8c61\u5c06\u4f1a\u88ab\u91cd\u7528\uff0c\u5e76\u4e14\u6240\u6709\u5c5e\u6027\u4f1a\u88ab\u7f6e\u7a7a\u3002\u8fd9\u662f\u51fa\u4e8e\u6027\u80fd\u56e0\u7d20\u8003\u8651\u7684\u3002 \u56e0\u6b64\uff0c\u60a8\u65e0\u6cd5\u4ee5\u5f02\u6b65\u65b9\u5f0f\u8bbf\u95ee\u4e8b\u4ef6\u3002 function onClick ( event ) { console . log ( event ); // => nullified object. console . log ( event . type ); // => \"click\" const eventType = event . type ; // => \"click\" setTimeout ( function () { console . log ( event . type ); // => null console . log ( eventType ); // => \"click\" }, 0 ); // Won't work. this.state.clickEvent will only contain null values. this . setState ({ clickEvent : event }); // You can still export event properties. this . setState ({ eventType : event . type }); } \u6572\u9ed1\u677f\uff1a \u5982\u679c\u60a8\u60f3\u4ee5\u5f02\u6b65\u7684\u65b9\u5f0f\u8bbf\u95ee\u4e8b\u4ef6\u7684\u5c5e\u6027\u503c\uff0c\u4f60\u5fc5\u987b\u5728\u4e8b\u4ef6\u56de\u8c03\u4e2d\u8c03\u7528 event.persist() \u65b9\u6cd5\uff0c\u8fd9\u6837\u4f1a\u5728\u6c60\u4e2d\u5220\u9664\u5408\u6210\u4e8b\u4ef6\uff0c\u5e76\u4e14\u5728\u7528\u6237\u4ee3\u7801\u4e2d\u4fdd\u7559\u5bf9\u4e8b\u4ef6\u7684\u5f15\u7528\u3002 \u652f\u6301\u7684\u4e8b\u4ef6 \u00b6 React\u6807\u51c6\u5316\u4e86\u4e8b\u4ef6\uff0c\u4f7f\u5176\u5728\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u4e2d\u62e5\u6709\u4e00\u81f4\u7684\u5c5e\u6027\u3002 \u4e0b\u9762\u7684\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u7531\u5192\u6ce1\u9636\u6bb5\u7684\u4e8b\u4ef6\u89e6\u53d1\u3002\u5728\u4e8b\u4ef6\u540d\u540e\u9762\u52a0 Capture \u5c31\u80fd\u5728\u4e8b\u4ef6\u6355\u83b7\u9636\u6bb5\u6ce8\u518c\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 onClickCapture \u4ee3\u66ff onClick \u5728\u4e8b\u4ef6\u6355\u83b7\u9636\u6bb5\u6765\u5904\u7406\u70b9\u51fb\u4e8b\u4ef6\u3002 Clipboard Events \u00b6 \u4e8b\u4ef6\u540d: onCopy onCut onPaste \u5c5e\u6027: DOMDataTransfer clipboardData Composition Events \u00b6 \u4e8b\u4ef6\u540d: onCompositionEnd onCompositionStart onCompositionUpdate \u5c5e\u6027: string data Keyboard Events \u00b6 \u4e8b\u4ef6\u540d: onKeyDown onKeyPress onKeyUp \u5c5e\u6027: boolean altKey number charCode boolean ctrlKey boolean getModifierState(key) string key number keyCode string locale number location boolean metaKey boolean repeat boolean shiftKey number which Focus Events \u00b6 \u4e8b\u4ef6\u540d: onFocus onBlur \u8fd9\u4e9b\u7126\u70b9\u4e8b\u4ef6\u9002\u7528\u4e8eReact DOM\u4e2d\u7684\u6240\u6709\u5143\u7d20\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u8868\u5355\u5143\u7d20\u3002 \u5c5e\u6027: DOMEventTarget relatedTarget Form Events \u00b6 \u4e8b\u4ef6\u540d: onChange onInput onSubmit \u67e5\u9605 \u8868\u5355 \u4e86\u89e3\u5173\u4e8eonChange\u4e8b\u4ef6\u7684\u66f4\u591a\u7ec6\u8282. Mouse Events \u00b6 \u4e8b\u4ef6\u540d: onClick onContextMenu onDoubleClick onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onMouseEnter \u548c onMouseLeave \u4e8b\u4ef6\u7531\u5931\u53bb\u7126\u70b9\u7684\u5143\u7d20\u5230\u6b63\u5728\u8f93\u5165\u7684\u5143\u7d20\u4f20\u64ad\uff0c\u5e76\u4e0d\u662f\u666e\u901a\u7684\u5192\u6ce1\uff0c\u4e5f\u6ca1\u6709\u6355\u83b7\u9636\u6bb5\u3002 \u5c5e\u6027: boolean altKey number button number buttons number clientX number clientY boolean ctrlKey boolean getModifierState(key) boolean metaKey number pageX number pageY DOMEventTarget relatedTarget number screenX number screenY boolean shiftKey Selection Events \u00b6 \u4e8b\u4ef6\u540d: onSelect Touch Events \u00b6 \u4e8b\u4ef6\u540d: onTouchCancel onTouchEnd onTouchMove onTouchStart \u5c5e\u6027: boolean altKey DOMTouchList changedTouches boolean ctrlKey boolean getModifierState(key) boolean metaKey boolean shiftKey DOMTouchList targetTouches DOMTouchList touches UI Events \u00b6 \u4e8b\u4ef6\u540d: onScroll \u5c5e\u6027: number detail DOMAbstractView view Wheel Events \u00b6 \u4e8b\u4ef6\u540d: onWheel \u5c5e\u6027: number deltaMode number deltaX number deltaY number deltaZ Media Events \u00b6 \u4e8b\u4ef6\u540d: onAbort onCanPlay onCanPlayThrough onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting Image Events \u00b6 \u4e8b\u4ef6\u540d: onLoad onError Animation Events \u00b6 \u4e8b\u4ef6\u540d: onAnimationStart onAnimationEnd onAnimationIteration \u5c5e\u6027: string animationName string pseudoElement float elapsedTime Transition Events \u00b6 \u4e8b\u4ef6\u540d: onTransitionEnd \u5c5e\u6027: string propertyName string pseudoElement float elapsedTime Other Events \u00b6 \u4e8b\u4ef6\u540d: onToggle Test Utilities \u00b6 Importing import ReactTestUtils from 'react-dom/test-utils'; // ES6 var ReactTestUtils = require('react-dom/test-utils'); // ES5 with npm Overview \u00b6 ReactTestUtils makes it easy to test React components in the testing framework of your choice. At Facebook we use Jest for painless JavaScript testing. Learn how to get started with Jest through the Jest website\u2019s React Tutorial . Note: Airbnb has released a testing utility called Enzyme, which makes it easy to assert, manipulate, and traverse your React Components\u2019 output. If you\u2019re deciding on a unit testing utility to use together with Jest, or any other test runner, it\u2019s worth checking out: http://airbnb.io/enzyme/ Simulate renderIntoDocument() mockComponent() isElement() isElementOfType() isDOMComponent() isCompositeComponent() isCompositeComponentWithType() findAllInRenderedTree() scryRenderedDOMComponentsWithClass() findRenderedDOMComponentWithClass() scryRenderedDOMComponentsWithTag() findRenderedDOMComponentWithTag() scryRenderedComponentsWithType() findRenderedComponentWithType() Reference \u00b6 Shallow Rendering \u00b6 When writing unit tests for React, shallow rendering can be helpful. Shallow rendering lets you render a component \u201cone level deep\u201d and assert facts about what its render method returns, without worrying about the behavior of child components, which are not instantiated or rendered. This does not require a DOM. Note: The shallow renderer has moved to react-test-renderer/shallow . Learn more about shallow rendering on its reference page. Other Utilities \u00b6 Simulate \u00b6 Simulate.{eventName}( element, [eventData] ) Simulate an event dispatch on a DOM node with optional eventData event data. Simulate has a method for every event that React understands . Clicking an element // <button ref=\"button\">...</button> const node = this.refs.button; ReactTestUtils.Simulate.click(node); Changing the value of an input field and then pressing ENTER. // <input ref=\"input\" /> const node = this.refs.input; node.value = 'giraffe'; ReactTestUtils.Simulate.change(node); ReactTestUtils.Simulate.keyDown(node, {key: \"Enter\", keyCode: 13, which: 13}); Note You will have to provide any event property that you\u2019re using in your component (e.g. keyCode, which, etc\u2026) as React is not creating any of these for you. renderIntoDocument() \u00b6 renderIntoDocument(element) Render a React element into a detached DOM node in the document. This function requires a DOM. Note: You will need to have window , window.document and window.document.createElement globally available before you import React . Otherwise React will think it can\u2019t access the DOM and methods like setState won\u2019t work. mockComponent() \u00b6 mockComponent( componentClass, [mockTagName] ) Pass a mocked component module to this method to augment it with useful methods that allow it to be used as a dummy React component. Instead of rendering as usual, the component will become a simple <div> (or other tag if mockTagName is provided) containing any provided children. Note: mockComponent() is a legacy API. We recommend using shallow rendering or jest.mock() instead. isElement() \u00b6 isElement(element) Returns true if element is any React element. isElementOfType() \u00b6 isElementOfType( element, componentClass ) Returns true if element is a React element whose type is of a React componentClass . isDOMComponent() \u00b6 isDOMComponent(instance) Returns true if instance is a DOM component (such as a <div> or <span> ). isCompositeComponent() \u00b6 isCompositeComponent(instance) Returns true if instance is a user-defined component, such as a class or a function. isCompositeComponentWithType() \u00b6 isCompositeComponentWithType( instance, componentClass ) Returns true if instance is a component whose type is of a React componentClass . findAllInRenderedTree() \u00b6 findAllInRenderedTree( tree, test ) Traverse all components in tree and accumulate all components where test(component) is true . This is not that useful on its own, but it\u2019s used as a primitive for other test utils. scryRenderedDOMComponentsWithClass() \u00b6 scryRenderedDOMComponentsWithClass( tree, className ) Finds all DOM elements of components in the rendered tree that are DOM components with the class name matching className . findRenderedDOMComponentWithClass() \u00b6 findRenderedDOMComponentWithClass( tree, className ) Like scryRenderedDOMComponentsWithClass() but expects there to be one result, and returns that one result, or throws exception if there is any other number of matches besides one. scryRenderedDOMComponentsWithTag() \u00b6 scryRenderedDOMComponentsWithTag( tree, tagName ) Finds all DOM elements of components in the rendered tree that are DOM components with the tag name matching tagName . findRenderedDOMComponentWithTag() \u00b6 findRenderedDOMComponentWithTag( tree, tagName ) Like scryRenderedDOMComponentsWithTag() but expects there to be one result, and returns that one result, or throws exception if there is any other number of matches besides one. scryRenderedComponentsWithType() \u00b6 scryRenderedComponentsWithType( tree, componentClass ) Finds all instances of components with type equal to componentClass . findRenderedComponentWithType() \u00b6 findRenderedComponentWithType( tree, componentClass ) Same as scryRenderedComponentsWithType() but expects there to be one result and returns that one result, or throws exception if there is any other number of matches besides one. \u6d45\u5c42\u6e32\u67d3 \u00b6 Importing import ShallowRenderer from 'react-test-renderer/shallow'; // ES6 var ShallowRenderer = require('react-test-renderer/shallow'); // ES5 with npm \u6982\u8ff0 \u00b6 \u5f53\u4e3a React \u5199\u5355\u5143\u6d4b\u8bd5\u65f6, \u6d45\u6e32\u67d3\u4f1a\u53d8\u5f97\u5341\u5206\u6709\u7528\u3002\u6d45\u6e32\u67d3\u4f7f\u60a8\u6e32\u67d3\u7ec4\u4ef6\u7684\u201c\u7b2c\u4e00\u5c42\u201d\uff0c\u5e76\u4e14\u5bf9\u7ec4\u4ef6\u7684 render \u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u8fdb\u884c\u65ad\u8a00\uff0c\u4e0d\u7528\u62c5\u5fc3\u5b50\u7ec4\u4ef6\u7684\u884c\u4e3a\uff0c\u7ec4\u4ef6\u5e76\u6ca1\u6709\u5b9e\u4f8b\u5316\u6216\u88ab\u6e32\u67d3\u3002\u6d45\u6e32\u67d3\u5e76\u4e0d\u9700\u8981 DOM\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u60a8\u6709\u5982\u4e0b\u7684\u7ec4\u4ef6\uff1a function MyComponent () { return ( < div > < span className = \"heading\" > Title < /span> < Subcomponent foo = \"bar\" /> < /div> ); } \u4f60\u53ef\u4ee5\u65ad\u8a00(assert)\uff1a import ShallowRenderer from 'react-test-renderer/shallow' ; // in your test: const renderer = new ShallowRenderer (); renderer . render ( < MyComponent /> ); const result = renderer . getRenderOutput (); expect ( result . type ). toBe ( 'div' ); expect ( result . props . children ). toEqual ([ < span className = \"heading\" > Title < /span>, < Subcomponent foo = \"bar\" /> ]); \u6d45\u6d4b\u8bd5\uff08Shallow testing\uff09\u5f53\u524d\u8fd8\u6709\u4e00\u4e9b\u5c40\u9650, \u5373\u4e0d\u652f\u6301 refs\u3002 \u6ce8\u610f\uff1a \u6211\u4eec\u8fd8\u5efa\u8bae\u770b\u770b Enzyme Shallow Rendering API \u3002\u5b83\u5728\u76f8\u540c\u7684\u529f\u80fd\u4e0a\u63d0\u4f9b\u4e86\u4e00\u4e2a\u66f4\u68d2\u7684\u9ad8\u7ea7 API\u3002 \u53c2\u8003 \u00b6 shallowRenderer.render() \u00b6 \u4f60\u53ef\u4ee5\u628a shallowRenderer \u60f3\u8c61\u6210\u4e00\u4e2a\u7528\u6765\u6e32\u67d3\u4f60\u6b63\u5728\u6d4b\u8bd5\u7684\u7ec4\u4ef6\u7684\u201c\u5730\u65b9\u201d\uff0c\u5e76\u4e14\u4f60\u53ef\u4ee5\u4ece\u90a3\u91cc\u53d6\u5230\u8be5\u7ec4\u4ef6\u7684\u8f93\u51fa\u3002 shallowRenderer.render() \u548c ReactDOM.render() \u5f88\u50cf\u3002\u4f46\u662f\u5b83\u4e0d\u9700\u8981 DOM \u5e76\u4e14\u53ea\u6e32\u67d3\u4e00\u5c42\u3002\u8fd9\u5c31\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u6d4b\u8bd5\u4e0e\u5b50\u7ec4\u4ef6\u884c\u4e3a\u9694\u79bb\u7684\u7ec4\u4ef6\u3002 shallowRenderer.getRenderOutput() \u00b6 \u5728 shallowRenderer.render() \u88ab\u8c03\u7528\u540e, \u4f60\u53ef\u4ee5\u8c03\u7528 shallowRenderer.getRenderOutput() \u6765\u83b7\u53d6\u6d45\u6e32\u67d3\u7684\u8f93\u51fa. \u7136\u540e\uff0c\u60a8\u5c31\u53ef\u4ee5\u5f00\u59cb\u5f00\u59cb\u5bf9\u8f93\u51fa\u8fdb\u884c\u65ad\u8a00\u4e86\u3002 \u7f16\u8f91\u672c\u9875\u9762 Test Renderer \u00b6 Importing import TestRenderer from 'react-test-renderer'; // ES6 const TestRenderer = require('react-test-renderer'); // ES5 with npm \u6982\u89c8 \u00b6 \u8be5\u5305\u63d0\u4f9b\u4e86\u4e00\u4e2aReact\u7684\u6e32\u67d3\u5668\uff0c\u53ef\u4ee5\u7528\u6765\u5c06 React \u7ec4\u4ef6\u6e32\u67d3\u6210\u7eaf JavaScript \u5bf9\u8c61\uff0c\u4e0d\u9700\u8981\u4f9d\u8d56\u4e8e DOM \u548c\u539f\u751f\u79fb\u52a8\u73af\u5883\u3002 \u672c\u8d28\u4e0a\uff0c\u8be5\u5305\u53ef\u4ee5\u5728\u65e0\u9700\u4f7f\u7528\u6d4f\u89c8\u5668\u6216 jsdom \u7684\u60c5\u51b5\u4e0b\uff0c\u8f7b\u677e\u5730\u6293\u53d6\u7531 React DOM \u6216 React Native\u6e32\u67d3\u51fa\u7684\u5e73\u53f0\u89c6\u56fe\u5c42\u6b21\u7ed3\u6784\uff08\u7c7b\u4f3c\u4e8eDOM\u6811\uff09\u3002 \u793a\u4f8b\uff1a import TestRenderer from 'react-test-renderer'; function Link(props) { return <a href={props.page}>{props.children}</a>; } const testRenderer = TestRenderer.create( <Link page=\"https://www.facebook.com/\">Facebook</Link> ); console.log(testRenderer.toJSON()); // { type: 'a', // props: { href: 'https://www.facebook.com/' }, // children: [ 'Facebook' ] } \u60a8\u53ef\u4ee5\u4f7f\u7528 Jest \u7684\u5feb\u7167\u6d4b\u8bd5\u6765\u81ea\u52a8\u4fdd\u5b58\u4e00\u4e2a\u8be5 JSON \u6811\u6587\u4ef6\u7684\u526f\u672c\uff0c\u5e76\u4e14\u5728\u60a8\u7684\u6d4b\u8bd5\u4e2d\u68c0\u67e5\u5b83\u662f\u5426\u88ab\u66f4\u6539\u3002 \u4e86\u89e3\u66f4\u591a . \u60a8\u540c\u6837\u53ef\u4ee5\u901a\u8fc7\u904d\u5386\u8f93\u51fa\u6765\u67e5\u627e\u7279\u6b8a\u8282\u70b9\uff0c\u5e76\u5bf9\u76f8\u5e94\u7684\u8282\u70b9\u8fdb\u884c\u65ad\u8a00\u3002 import TestRenderer from 'react-test-renderer'; function MyComponent() { return ( <div> <SubComponent foo=\"bar\" /> <p className=\"my\">Hello</p> </div> ) } function SubComponent() { return ( <p className=\"sub\">Sub</p> ); } const testRenderer = TestRenderer.create(<MyComponent />); const testInstance = testRenderer.root; expect(testInstance.findByType(SubComponent).props.foo).toBe('bar'); expect(testInstance.findByProps({className: \"sub\"}).children).toEqual(['Sub']); TestRenderer \u00b6 TestRenderer.create() TestRenderer instance \u00b6 testRenderer.toJSON() testRenderer.toTree() testRenderer.update() testRenderer.unmount() testRenderer.getInstance() testRenderer.root TestInstance \u00b6 testInstance.find() testInstance.findByType() testInstance.findByProps() testInstance.findAll() testInstance.findAllByType() testInstance.findAllByProps() testInstance.instance testInstance.type testInstance.props testInstance.parent testInstance.children \u53c2\u8003 \u00b6 TestRenderer.create() \u00b6 TestRenderer.create(element, options); \u901a\u8fc7\u4f20\u6765\u7684 React \u5143\u7d20\u521b\u5efa\u4e00\u4e2a TestRenderer \u7684\u5b9e\u4f8b\u3002\u5b83\u5e76\u4e0d\u4f7f\u7528\u771f\u5b9e\u7684 DOM\uff0c\u4f46\u662f\u5b83\u4f9d\u7136\u5c06\u7ec4\u4ef6\u6811\u5b8c\u6574\u5730\u6e32\u67d3\u5230\u5185\u5b58\uff0c\u6240\u4ee5\u60a8\u53ef\u4ee5\u5bf9\u5b83\u8fdb\u884c\u65ad\u8a00\u3002\u8fd4\u56de\u7684\u5b9e\u4f8b\u62e5\u6709\u4ee5\u4e0b\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\u3002 testRenderer.toJSON() \u00b6 testRenderer.toJSON() \u8fd4\u56de\u4e00\u4e2a\u8868\u793a\u6e32\u67d3\u540e\u7684 \u6811 \u7684\u5bf9\u8c61\u3002\u8be5\u6811\u4ec5\u5305\u542b\u7279\u5b9a\u5e73\u53f0\u7684\u8282\u70b9\uff0c\u50cf <div> \u6216 <View> \u548c\u4ed6\u4eec\u7684\u5c5e\u6027\uff08props\uff09\uff0c\u4f46\u662f\u5e76\u4e0d\u5305\u542b\u4efb\u4f55\u7528\u6237\u7f16\u5199\u7684\u7ec4\u4ef6\u3002\u8fd9\u5bf9\u4e8e \u5feb\u7167\u6d4b\u8bd5 \u975e\u5e38\u65b9\u4fbf\u3002 testRenderer.toTree() \u00b6 testRenderer.toTree() \u8fd4\u56de\u4e00\u4e2a\u8868\u793a\u6e32\u67d3\u540e\u7684 \u6811 \u7684\u5bf9\u8c61\u3002\u548c toJSON() \u4e0d\u540c\uff0c\u5b83\u8868\u793a\u7684\u5185\u5bb9\u6bd4 toJSON() \u63d0\u4f9b\u7684\u5185\u5bb9\u8981\u66f4\u52a0\u8be6\u7ec6\uff0c\u5e76\u4e14\u5305\u542b\u7528\u6237\u7f16\u5199\u7684\u7ec4\u4ef6\u3002\u9664\u975e\u60a8\u6b63\u5728\u6d4b\u8bd5\u6e32\u67d3\u5668\uff08test rendererer\uff09\u4e4b\u4e0a\u7f16\u5199\u60a8\u81ea\u5df1\u7684\u65ad\u8a00\u5e93\uff0c\u5426\u5219\u60a8\u53ef\u80fd\u5e76\u4e0d\u9700\u8981\u8fd9\u4e2a\u65b9\u6cd5\u3002 testRenderer.update() \u00b6 testRenderer.update(element) \u4f7f\u7528\u65b0\u7684\u6839\u5143\u7d20\u91cd\u65b0\u6e32\u67d3\u5185\u5b58\u4e2d\u7684\u6811\u3002\u5b83\u6a21\u62df\u6839\u5143\u7d20\u7684\u4e00\u6b21React\u66f4\u65b0\u3002\u5982\u679c\u65b0\u7684\u5143\u7d20\u548c\u4e4b\u524d\u7684\u5143\u7d20\u6709\u76f8\u540c\u7684 type \u548c key\uff0c\u8be5\u6811\u5c06\u4f1a\u88ab\u66f4\u65b0\uff1b\u5426\u5219\uff0c\u5b83\u5c06\u91cd\u6302\u8f7d\u4e00\u4e2a\u65b0\u6811\u3002 testRenderer.unmount() \u00b6 testRenderer.unmount() \u5378\u8f7d\u5185\u5b58\u4e2d\u7684\u6811\uff0c\u89e6\u53d1\u76f8\u5e94\u7684\u751f\u547d\u5468\u671f\u4e8b\u4ef6\u3002 testRenderer.getInstance() \u00b6 testRenderer.getInstance() \u5982\u679c\u53ef\u7528\u7684\u8bdd\uff0c\u8fd4\u56de\u4e0e\u6839\u5143\u7d20\u76f8\u5bf9\u5e94\u7684\u5b9e\u4f8b\u3002\u5982\u679c\u6839\u5143\u7d20\u662f\u51fd\u6570\u7ec4\u4ef6\uff08functional component\uff09\uff0c\u8be5\u65b9\u6cd5\u65e0\u6548\uff0c\u56e0\u4e3a\u51fd\u6570\u7ec4\u4ef6\u6ca1\u6709\u5b9e\u4f8b\u3002 testRenderer.root \u00b6 testRenderer.root \u8fd4\u56de\u6839\u5143\u7d20\u201c\u6d4b\u8bd5\u5b9e\u4f8b\uff08test instance\uff09\u201d\u5bf9\u8c61\uff0c\u5bf9\u4e8e\u65ad\u8a00\u6811\u4e2d\u7684\u7279\u6b8a\u8282\u70b9\u5341\u5206\u6709\u7528\u3002\u60a8\u53ef\u4ee5\u5229\u7528\u5b83\u6765\u67e5\u627e\u5176\u4ed6\u66f4\u6df1\u5c42\u7684\u201c\u6d4b\u8bd5\u5b9e\u4f8b\uff08test instance\uff09\u201d\u3002 testInstance.find() \u00b6 testInstance.find(test) \u627e\u5230\u4e00\u4e2a test(testInstance) \u8fd4\u56de true \u7684\u540e\u4ee3 \u6d4b\u8bd5\u5b9e\u4f8b\u3002\u5982\u679c test(testInstance) \u6ca1\u6709\u6b63\u597d\u53ea\u5bf9\u4e00\u4e2a \u6d4b\u8bd5\u5b9e\u4f8b \u8fd4\u56de true\uff0c\u5c06\u4f1a\u62a5\u9519\u3002 testInstance.findByType() \u00b6 testInstance.findByType(type) \u627e\u5230\u4e00\u4e2a\u5339\u914d\u6307\u5b9a \u7c7b\u578b\uff08type\uff09\u7684 \u540e\u4ee3 \u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstances\uff09\uff0c\u5982\u679c\u4e0d\u662f\u6b63\u597d\u53ea\u6709\u4e00\u4e2a\u6d4b\u8bd5\u5b9e\u4f8b\u5339\u914d\u6307\u5b9a\u7684 \u7c7b\u578b\uff08type\uff09\uff0c\u5c06\u4f1a\u62a5\u9519\u3002 testInstance.findByProps() \u00b6 testInstance.findByProps(props) \u627e\u5230\u5339\u914d\u6307\u5b9a \u5c5e\u6027\uff08props\uff09\u7684 \u540e\u4ee3 \u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstances\uff09\uff0c\u5982\u679c\u4e0d\u662f\u6b63\u597d\u53ea\u6709\u4e00\u4e2a\u6d4b\u8bd5\u5b9e\u4f8b\u5339\u914d\u6307\u5b9a\u7684 \u7c7b\u578b\uff08type\uff09\uff0c\u5c06\u4f1a\u62a5\u9519\u3002 testInstance.findAll() \u00b6 testInstance.findAll(test) \u627e\u5230\u6240\u6709 test(testInstance) \u7b49\u4e8e true \u7684\u540e\u4ee3 \u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstances\uff09\u3002 testInstance.findAllByType() \u00b6 testInstance.findAllByType(type) \u627e\u5230\u6240\u6709\u5339\u914d\u6307\u5b9a \u7c7b\u578b\uff08type\uff09\u7684 \u540e\u4ee3 \u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstances\uff09\u3002 testInstance.findAllByProps() \u00b6 testInstance.findAllByProps(props) \u627e\u5230\u6240\u6709\u5339\u914d\u6307\u5b9a \u5c5e\u6027\uff08props\uff09\u7684 \u540e\u4ee3 \u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstances\uff09\u3002 testInstance.instance \u00b6 testInstance.instance \u8be5\u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstances\uff09\u76f8\u5bf9\u5e94\u7684\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u3002\u5b83\u53ea\u80fd\u7528\u4e8e \u7c7b\u7ec4\u4ef6\uff08class components\uff09\uff0c\u56e0\u4e3a\u51fd\u6570\u7ec4\u4ef6\uff08functional components\uff09\u6ca1\u6709\u5b9e\u4f8b\u3002\u5b83\u5339\u914d\u7ed9\u5b9a\u7684\u7ec4\u4ef6\u5185\u90e8\u7684 this \u7684\u503c\u3002 testInstance.type \u00b6 testInstance.type \u8be5\u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstance\uff09\u76f8\u5bf9\u5e94\u7684\u7ec4\u4ef6\u7684\u7c7b\u578b\uff08type\uff09\uff0c\u4f8b\u5982\uff0c\u4e00\u4e2a <Button /> \u7ec4\u4ef6\u6709\u4e00\u4e2a Button \u7c7b\u578b\uff08type\uff09\u3002 testInstance.props \u00b6 testInstance.props \u8be5\u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstance\uff09\u76f8\u5bf9\u5e94\u7684\u7ec4\u4ef6\u7684\u5c5e\u6027\uff08props\uff09\uff0c\u4f8b\u5982\uff0c\u4e00\u4e2a <Button size=\"small\" /> \u7ec4\u4ef6\u7684\u5c5e\u6027\uff08props\uff09\u4e3a {size: 'small'} \u3002 testInstance.parent \u00b6 testInstance.parent \u8be5\u6d4b\u8bd5\u5b9e\u4f8b\u7684\u7236\u6d4b\u8bd5\u5b9e\u4f8b\u3002 testInstance.children \u00b6 testInstance.children \u8be5\u6d4b\u8bd5\u5b9e\u4f8b\u7684\u5b50\u6d4b\u8bd5\u5b9e\u4f8b\u3002 Ideas \u00b6 \u60a8\u53ef\u4ee5\u5c06 createNodeMock \u51fd\u6570\u4f5c\u4e3a\u9009\u9879\uff08option\uff09\u4f20\u9012\u7ed9 TestRenderer.create \uff0c\u53ef\u4ee5\u81ea\u884c\u6a21\u62dfrefs\u3002 createNodeMock \u63a5\u53d7\u5f53\u524d\u5143\u7d20\u4f5c\u4e3a\u53c2\u6570\uff0c\u5e76\u4e14\u8fd4\u56de\u4e00\u4e2a\u6a21\u62df\u7684 ref \u5bf9\u8c61\u3002\u5f53\u60a8\u8981\u6d4b\u8bd5\u4e00\u4e2a\u4f9d\u8d56\u4e8e refs \u7684\u7ec4\u4ef6\u65f6\uff0c\u5b83\u5341\u5206\u6709\u7528\u3002 import TestRenderer from 'react-test-renderer'; class MyComponent extends React.Component { constructor(props) { super(props); this.input = null; } componentDidMount() { this.input.focus(); } render() { return <input type=\"text\" ref={el => this.input = el} /> } } let focused = false; TestRenderer.create( <MyComponent />, { createNodeMock: (element) => { if (element.type === 'input') { // mock a focus function return { focus: () => { focused = true; } }; } return null; } } ); expect(focused).toBe(true); \u7f16\u8f91\u672c\u9875\u9762 JavaScript \u73af\u5883\u8981\u6c42 \u00b6 React 16 \u4f9d\u8d56\u96c6\u5408\u7c7b\u578b Map \u548c Set \u3002\u82e5\u4f60\u8981\u652f\u6301\u8001\u5f0f\u7684\u53ef\u80fd\u672a\u63d0\u4f9b\u539f\u751f\u652f\u6301\u7684\u6d4f\u89c8\u5668\u548c\u8bbe\u5907\uff08\u4f8b\u5982 IE < 11\uff09\uff0c\u8003\u8651\u5728\u4f60\u7684\u5e94\u7528\u5e93\u4e2d\u5305\u542b\u4e00\u4e2a\u5168\u5c40\u7684 polyfill\uff0c\u4f8b\u5982 core-js \u6216 babel-polyfill \u3002 \u4e00\u4e2a\u4f7f\u7528 core-js \u652f\u6301\u8001\u7248\u6d4f\u89c8\u5668\u7684 React 16 polyfill \u73af\u5883\u5927\u81f4\u5982\u4e0b\uff1a import 'core-js/es6/map'; import 'core-js/es6/set'; import React from 'react'; import ReactDOM from 'react-dom'; ReactDOM.render( <h1>Hello, world!</h1>, document.getElementById('root') ); React \u4e5f\u4f9d\u8d56\u4e8e requestAnimationFrame \uff08\u751a\u81f3\u5305\u62ec\u6d4b\u8bd5\u73af\u5883\uff09\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 raf \u5305\u53bb shim requestAnimationFrame \uff1a import 'raf/polyfill'; React \u672f\u8bed\u8868 \u00b6 ES6, ES2015, ES2016\u7b49 \u00b6 \u8fd9\u4e9b\u7f29\u7565\u8bcd\u90fd\u662f\u6307\u6700\u65b0\u7248\u672c\u7684ECMAScript\u8bed\u8a00\u89c4\u8303\u6807\u51c6\uff0c\u800cJavaScript\u8bed\u8a00\u662f\u5b83\u4eec\u7684\u4e00\u4e2a\u5b9e\u73b0\u3002ES6\u7248\u672c\uff08\u4e5f\u88ab\u79f0\u4e3aES2015\uff09\u5305\u62ec\u8bb8\u591a\u65b0\u7279\u6027\uff0c\u5982\uff1a\u7bad\u5934\u51fd\u6570\u3001\u7c7b(class)\u3001\u6a21\u677f\u5b57\u9762\u91cf\u3001 let \u548c const \u53d8\u91cf\u58f0\u660e\u7b49\u3002\u4f60\u53ef\u4ee5\u5728 \u8fd9\u91cc \u4e86\u89e3\u66f4\u591a\u7248\u672c\u65b0\u7279\u6027\u3002 \u7f16\u8bd1\u5668 Compilers \u00b6 JavaScript\u7f16\u8bd1\u5668\u7528\u4e8e\u8f6c\u6362JavaScript\u4ee3\u7801\uff0c\u5e76\u7528\u5176\u5b83\u683c\u5f0f\u8fd4\u56deJavaScript\u4ee3\u7801\u3002\u6700\u5e38\u89c1\u7684\u7528\u4f8b\u662f\u91c7\u7528ES6\u8bed\u6cd5\u7f16\u5199\u4ee3\u7801\u5e76\u5c06\u5176\u8f6c\u6362\u4e3a\u65e7\u7248\u6d4f\u89c8\u5668\u80fd\u591f\u8bc6\u522b\u7684\u8bed\u6cd5\u3002 React\u6700\u5e38\u7528\u7684\u7f16\u8bd1\u5668\u662f Babel \u3002 \u6253\u5305\u5de5\u5177 Bundlers \u00b6 \u5f00\u53d1\u4e2d\u5c06JavaScript\u548cCSS\u4ee3\u7801\u7f16\u5199\u4e3a\u5355\u72ec\u7684\u6a21\u5757\uff08\u901a\u5e38\u4e3a\u6570\u767e\u4e2a\uff09\uff0c\u6253\u5305\u5de5\u5177\u4f1a\u9488\u5bf9\u6d4f\u89c8\u5668\u5c06\u5b83\u4eec\u7ec4\u5408\u5e76\u4f18\u5316\u4e3a\u51e0\u4e2a\u6587\u4ef6\u3002 Webpack \u548c Browserify \u662f\u5728React\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5e38\u7528\u7684\u6253\u5305\u5de5\u5177\u3002 \u5143\u7d20 Elements \u00b6 React\u5143\u7d20\u662fReact\u5e94\u7528\u7a0b\u5e8f\u7684\u6700\u5c0f\u5355\u4f4d\u3002\u521d\u5b66\u8005\u5f88\u53ef\u80fd\u628a\u5143\u7d20\u7684\u5b9a\u4e49\u548c\u5b9a\u4e49\u5185\u6db5\u66f4\u5e7f\u7684\u201c\u7ec4\u4ef6\u201d\u7ed9\u641e\u6df7\u4e86\u3002\u5143\u7d20\u7528\u6765\u63cf\u8ff0\u754c\u9762\u4e0a\u7684\u4efb\u4f55\u4e1c\u897f\u3002 React \u5143\u7d20\u90fd\u662fimmutable\u4e0d\u53ef\u53d8\u7684\u3002 const element = <h1>Hello, world</h1>; \u901a\u5e38\u4e0d\u76f4\u63a5\u4f7f\u7528\u5143\u7d20\uff0c\u800c\u662f\u4ece\u7ec4\u4ef6\u8fd4\u56de\u3002 \u7ec4\u4ef6 Components \u00b6 React\u7ec4\u4ef6\u662f\u5c0f\u7684\uff0c\u53ef\u590d\u7528\u7684\u4ee3\u7801\u7247\u6bb5\uff0c\u5b83\u8fd4\u56de\u4e00\u4e2aReact\u5143\u7d20\u7528\u4e8e\u6e32\u67d3\u9875\u9762\u3002 \u5b9a\u4e49\u4e00\u4e2a\u7ec4\u4ef6\u6700\u7b80\u5355\u7684\u65b9\u5f0f\u662f\u4f7f\u7528JavaScript\u51fd\u6570\uff0c\u5b83\u8fd4\u56de\u4e00\u4e2aReact\u5143\u7d20\uff1a function Welcome(props) { return <h1>Hello, {props.name}</h1>; } \u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 ES6 class \u6765\u5b9a\u4e49\u4e00\u4e2a\u7ec4\u4ef6: class Welcome extends React.Component { render() { return <h1>Hello, {this.props.name}</h1>; } } \u7ec4\u4ef6\u53ef\u4ee5\u6309\u7167\u529f\u80fd\u5206\u89e3\u6210\u4e0d\u540c\u7684\u90e8\u4ef6\uff0c\u5e76\u5728\u5176\u4ed6\u7ec4\u4ef6\u4e2d\u4f7f\u7528\u3002\u7ec4\u4ef6\u53ef\u4ee5\u8fd4\u56de\u5176\u4ed6\u7ec4\u4ef6\uff0c\u6570\u7ec4\uff0c\u5b57\u7b26\u4e32\u6216\u6570\u5b57\u3002\u5f53\u4f60\u7684UI\u4e2d\u6709\u4e00\u90e8\u5206\u91cd\u590d\u4f7f\u7528\u4e86\u597d\u51e0\u6b21\uff08\u6bd4\u5982\uff0cButton\u3001Panel\u3001Avatar\uff09\uff0c\u6216\u8005\u5176\u81ea\u8eab\u5c31\u8db3\u591f\u590d\u6742\uff08\u6bd4\u5982\uff0cApp\u3001FeedStory\u3001Comment\uff09\uff0c\u7c7b\u4f3c\u8fd9\u4e9b\u90fd\u662f\u62bd\u8c61\u6210\u4e00\u4e2a\u53ef\u590d\u7528\u7ec4\u4ef6\u7684\u7edd\u4f73\u9009\u62e9\uff0c\u8fd9\u4e5f\u662f\u4e00\u4e2a\u6bd4\u8f83\u597d\u7684\u505a\u6cd5\u3002 \u7ec4\u4ef6\u540d\u79f0\u5e94\u59cb\u7ec8\u4ee5\u5927\u5199\u5b57\u6bcd\u5f00\u5934 ( <Wrapper/> \u800c\u4e0d\u662f <wrapper/> )\u3002\u53c2\u89c1 \u8fd9\u91cc \u83b7\u53d6\u66f4\u591a\u6709\u5173\u6e32\u67d3\u7ec4\u4ef6\u7684\u4fe1\u606f\u3002 props \u00b6 props \u662fReact\u7ec4\u4ef6\u7684\u8f93\u5165\u5185\u5bb9\u3002 \u5b83\u4eec\u662f\u4ece\u7236\u7ec4\u4ef6\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\u7684\u6570\u636e\u3002 \u8bf7\u8bb0\u4f4f\uff0c props \u662f\u53ea\u8bfb\u7684\u3002 \u4e0d\u5e94\u8be5\u4ee5\u4efb\u4f55\u65b9\u5f0f\u4fee\u6539\u5b83\u4eec\uff1a // \u9519\u8bef! props.number = 42; \u5982\u679c\u4f60\u9700\u8981\u4fee\u6539\u67d0\u4e9b\u503c\u4ee5\u54cd\u5e94\u7528\u6237\u8f93\u5165\u6216\u7f51\u7edc\u54cd\u5e94\uff0c\u8bf7\u4f7f\u7528 state \u3002 props.children \u00b6 props.children \u5728\u6bcf\u4e2a\u7ec4\u4ef6\u4e0a\u90fd\u53ef\u7528\u3002 \u5b83\u4f1a\u5305\u542b\u7ec4\u4ef6\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u6807\u8bb0\u4e4b\u95f4\u7684\u5185\u5bb9\u3002 \u4f8b\u5982\uff1a <Welcome>Hello world!</Welcome> \u5728 Welcome \u7ec4\u4ef6\u4e2d\u7684 props.children \u4e2d\u53ef\u4ee5\u83b7\u53d6\u5b57\u7b26\u4e32 Hello world\uff01 \uff1a function Welcome(props) { return <p>{props.children}</p>; } \u5b9a\u4e49\u6210\u7c7b\u7ec4\u4ef6\u65f6\uff0c\u4f7f\u7528 this.props.children \uff1a class Welcome extends React.Component { render() { return <p>{this.props.children}</p>; } } \u72b6\u6001 \u00b6 \u5f53\u67d0\u4e2a\u7ec4\u4ef6\u4e0e\u5176\u5173\u8054\u7684\u67d0\u4e9b\u6570\u636e\u968f\u65f6\u95f4\u800c\u6539\u53d8\u65f6\uff0c\u7ec4\u4ef6\u4e2d\u9700\u8981\u4f7f\u7528 state \u3002\u4f8b\u5982\uff0c Checkbox \u7ec4\u4ef6\u4e2d\u7684\u72b6\u6001\u9700\u8981\u8f6c\u53d8\u4e3a isChecked \uff0c\u6216\u8005 NewsFeed \u7ec4\u4ef6\u53ef\u80fd\u5e0c\u671b\u8ffd\u8e2a\u5176\u72b6\u6001\u4e2d\u7684 fetchedPosts \u3002 state \u548c props \u4e4b\u95f4\u6700\u91cd\u8981\u7684\u533a\u522b\u662f props \u662f\u4ece\u7236\u7ec4\u4ef6\u4f20\u9012\u7684\uff0c\u800c state \u662f\u7531\u7ec4\u4ef6\u672c\u8eab\u7ba1\u7406\u7684\u3002\u7ec4\u4ef6\u4e0d\u80fd\u6539\u53d8\u5176 props \uff0c\u4f46\u53ef\u4ee5\u6539\u53d8 state \u3002 \u901a\u8fc7\u4f7f\u7528 this.setState() \u3002 \u53ea\u6709\u5b9a\u4e49\u4e3a\u7c7b\u7684\u7ec4\u4ef6\u624d\u53ef\u4ee5\u5177\u6709\u72b6\u6001\u3002 \u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u7279\u5b9a\u7684\u53d8\u5316\u6570\u636e\uff0c\u5e94\u8be5\u53ea\u6709\u4e00\u4e2a\u201c\u62e5\u6709\u201d\u5b83\u7684\u72b6\u6001\u7684\u7ec4\u4ef6\u3002\u4e0d\u8981\u5c1d\u8bd5\u540c\u6b65\u4e24\u4e2a\u4e0d\u540c\u7ec4\u4ef6\u7684\u72b6\u6001\u3002\u72b6\u6001\u5206\u4eab\u901a\u8fc7 \u72b6\u6001\u63d0\u5347 \u81f3\u6700\u8fd1\u7684\u7236\u7ec4\u4ef6\u6765\u5b8c\u6210\uff0c\u5e76\u901a\u8fc7 props \u4f20\u9012\u7ed9\u4ed6\u4eec\u3002 \u751f\u547d\u5468\u671f\u51fd\u6570 \u00b6 \u751f\u547d\u5468\u671f\u51fd\u6570\u662f\u5728\u7ec4\u4ef6\u7684\u4e0d\u540c\u9636\u6bb5\u53ef\u6267\u884c\u81ea\u5b9a\u4e49\u529f\u80fd\u7684\u94a9\u5b50\u3002\u5f53\u7ec4\u4ef6\u88ab\u521b\u5efa\u5e76\u63d2\u5165\u5230DOM\u4e2d\u65f6\uff0c\u53ef\u7528\u51fd\u6570( mounting )\uff0c\u7ec4\u4ef6\u66f4\u65b0\uff0c\u4ee5\u53ca\u4eceDOM\u5378\u8f7d\u6216\u79fb\u9664\u7ec4\u4ef6\u65f6\u53ef\u4ee5\u4f7f\u7528\u5bf9\u5e94\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\u3002 \u53d7\u63a7 & \u975e\u53d7\u63a7\u7ec4\u4ef6 \u00b6 React\u6709\u4e24\u79cd\u4e0d\u540c\u7684\u65b9\u6cd5\u6765\u5904\u7406\u8868\u5355\u8f93\u5165\u3002 \u503c\u7531React\u63a7\u5236\u7684\u8f93\u5165\u8868\u5355\u5143\u7d20\u79f0\u4e3a*\u53d7\u63a7\u7ec4\u4ef6*\u3002\u5f53\u7528\u6237\u5c06\u6570\u636e\u8f93\u5165\u5230\u53d7\u63a7\u7ec4\u4ef6\u4e2d\u65f6\uff0c\u4f1a\u89e6\u53d1\u72b6\u6001\u6539\u53d8\u7684\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff0c\u5e76\u4e14\u4f60\u7684\u4ee3\u7801\u5c06\u51b3\u5b9a\u8f93\u5165\u662f\u5426\u6709\u6548\uff08\u4f7f\u7528\u66f4\u65b0\u7684\u503c\u91cd\u65b0\u6e32\u67d3\uff09\u3002\u5982\u679c\u4f60\u4e0d\u91cd\u65b0\u6e32\u67d3\uff0c\u90a3\u4e48\u8868\u5355\u5143\u7d20\u5c06\u4fdd\u6301\u4e0d\u53d8\u3002 *\u975e\u53d7\u63a7\u5236\u7ec4\u4ef6*\u7684\u8868\u5355\u5143\u7d20\u5728React\u4e4b\u5916\u5de5\u4f5c\u3002\u5f53\u7528\u6237\u5c06\u6570\u636e\u8f93\u5165\u5230\u8868\u5355\u57df\uff08\u8f93\u5165\u6846\uff0c\u4e0b\u62c9\u83dc\u5355\u7b49\uff09\u65f6\uff0c\u4e0d\u9700\u8981React\u505a\u4efb\u4f55\u4e8b\u60c5\uff0c\u66f4\u65b0\u7684\u6570\u636e\u5c31\u4f1a\u88ab\u5448\u73b0\u51fa\u6765\u3002\u8fd9\u4e5f\u610f\u5473\u7740\u4f60\u4e0d\u80fd\u5f3a\u8feb\u8868\u5355\u57df\u90fd\u6709\u4e00\u4e2a\u786e\u5b9a\u7684\u503c\u3002 \u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528\u53d7\u63a7\u7ec4\u4ef6\u3002 \u952e\u503c \u00b6 \u201c\u952e\u503c\u201d\u662f\u521b\u5efa\u5143\u7d20\u6570\u7ec4\u65f6\u9700\u8981\u5305\u542b\u7684\u7279\u6b8a\u5b57\u7b26\u4e32\u5c5e\u6027\u3002\u952e\u503c\u53ef\u4ee5\u5e2e\u52a9React\u8bc6\u522b\u54ea\u4e9b\u5143\u7d20\u88ab\u66f4\u6539\uff0c\u6dfb\u52a0\u6216\u5220\u9664\u3002\u56e0\u6b64\u4f60\u5e94\u5f53\u7ed9\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u8d4b\u4e88\u4e00\u4e2a\u786e\u5b9a\u7684\u6807\u8bc6\u3002 \u786e\u5b9a\u7684\u6807\u8bc6\u952e\u503c\u5bf9\u4e8e\u91cd\u65b0\u6e32\u67d3\u5f88\u91cd\u8981\uff0c\u8fd9\u6837React\u624d\u53ef\u4ee5\u786e\u5b9a\u4f55\u65f6\u6dfb\u52a0\uff0c\u5220\u9664\u6216\u91cd\u65b0\u6392\u5e8f\u5143\u7d20\u3002\u4e0d\u8981\u628a\u7c7b\u4f3c\u7531 Math.random() \u751f\u6210\u7684\u503c\u8d4b\u7ed9\u952e\u503c\u3002\u5728\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u952e\u503c\u5e94\u8be5\u5bf9\u5e94\u4e8e\u6765\u81ea\u6570\u636e\u7684\u552f\u4e00\u4e14\u7a33\u5b9a\u7684\u6807\u8bc6\u7b26\uff0c\u4f8b\u5982 post.id \u3002 Refs \u00b6 React\u652f\u6301\u4e00\u4e2a\u53ef\u4ee5\u9644\u52a0\u5230\u4efb\u4f55\u7ec4\u4ef6\u7684\u7279\u6b8a\u5c5e\u6027 ref \u3002 ref \u5c5e\u6027\u53ef\u4ee5\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u6216\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u3002\u5f53 ref \u5c5e\u6027\u662f\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u65f6\uff0c\u51fd\u6570\u63a5\u6536\u5e95\u5c42DOM\u5143\u7d20\u6216\u7c7b\u5b9e\u4f8b\uff08\u53d6\u51b3\u4e8e\u5143\u7d20\u7684\u7c7b\u578b\uff09\u4f5c\u4e3a\u53c2\u6570\u3002\u8fd9\u4f7f\u4f60\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95eeDOM\u5143\u7d20\u6216\u7ec4\u4ef6\u5b9e\u4f8b\u3002 \u4e0d\u8981\u8fc7\u5ea6\u4f7f\u7528 Refs\u3002\u5982\u679c\u4f60\u53d1\u73b0\u81ea\u5df1\u7ecf\u5e38\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528refs\u6765\u201c\u641e\u4e8b\u60c5\u201d\uff0c\u8bf7\u8003\u8651\u4f7f\u7528 \u72b6\u6001\u63d0\u5347 \u3002 \u4e8b\u4ef6 \u00b6 React\u5143\u7d20\u7684\u4e8b\u4ef6\u5904\u7406\u548cDOM\u5143\u7d20\u7684\u5f88\u76f8\u4f3c\u3002\u4f46\u662f\u6709\u4e00\u70b9\u8bed\u6cd5\u4e0a\u7684\u4e0d\u540c: React\u4e8b\u4ef6\u7ed1\u5b9a\u5c5e\u6027\u7684\u547d\u540d\u91c7\u7528\u9a7c\u5cf0\u5f0f\u5199\u6cd5\uff0c\u800c\u4e0d\u662f\u5c0f\u5199\u3002 \u5982\u679c\u91c7\u7528 JSX \u7684\u8bed\u6cd5\u4f60\u9700\u8981\u4f20\u5165\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32(DOM\u5143\u7d20\u7684\u5199\u6cd5) \u534f\u8c03 \u00b6 \u5f53\u4e00\u4e2a\u7ec4\u4ef6\u7684props\u6216\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6\uff0cReact\u901a\u8fc7\u6bd4\u8f83\u65b0\u8fd4\u56de\u7684\u5143\u7d20\u548c\u5148\u524d\u6e32\u67d3\u7684\u5143\u7d20\u6765\u51b3\u5b9a\u662f\u5426\u9700\u8981\u5b9e\u9645\u7684DOM\u66f4\u65b0\u3002\u5f53\u5b83\u4eec\u4e0d\u76f8\u7b49\u65f6\uff0cReact\u5c06\u66f4\u65b0DOM\u3002 \u8fd9\u4e2a\u8fc7\u7a0b\u88ab\u79f0\u4e3a\u201c\u534f\u8c03\u201d\u3002","title":"React-\u9ad8\u9636API.md"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#react-api","text":"\u4f7f\u7528\u65b9\u6cd5\uff1a react \u662fReact\u5e93\u7684\u5165\u53e3\u70b9\u3002\u5982\u679c\u4f60\u901a\u8fc7 <script> \u6807\u7b7e\u52a0\u8f7dReact\uff0c\u8fd9\u4e9b\u9ad8\u9636API\u53ef\u7528\u4e8e React \u5168\u5c40\u3002\u5982\u679c\u4f60\u4f7f\u7528ES6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 import React from 'react' \u3002\u5982\u679c\u4f60\u4f7f\u7528ES5\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 var React = require('react') \u3002","title":"React \u9ad8\u9636 API"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_1","text":"","title":"\u6982\u89c8"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#components","text":"React \u7ec4\u4ef6\u53ef\u4ee5\u8ba9\u4f60\u628aUI\u5206\u5272\u4e3a\u72ec\u7acb\u3001\u53ef\u590d\u7528\u7684\u7247\u6bb5\uff0c\u5e76\u5c06\u6bcf\u4e00\u7247\u6bb5\u89c6\u4e3a\u76f8\u4e92\u72ec\u7acb\u7684\u90e8\u5206\u3002 React\u7ec4\u4ef6\u53ef\u4ee5\u901a\u8fc7\u7ee7\u627f React.Component \u6216 React.PureComponent \u6765\u5b9a\u4e49\u3002 React.Component React.PureComponent \u5982\u679c\u4e0d\u7528ES6\u7c7b\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 create-react-class \u6a21\u5757\u3002\u53c2\u9605 Using React without JSX \u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u3002","title":"Components"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#creating-react-elements","text":"\u63a8\u8350 \u4f7f\u7528JSX \u63cf\u8ff0\u4f60\u7684UI\u5916\u89c2\u3002\u6bcf\u4e2aJSX\u5143\u7d20\u4ec5\u662f\u8c03\u7528 React.createElement \u7684\u8bed\u6cd5\u7cd6\u3002\u5982\u679c\u4f7f\u7528\u4e86JSX\uff0c\u4f60\u901a\u5e38\u4e0d\u4f1a\u76f4\u63a5\u8c03\u7528\u4ee5\u4e0b\u65b9\u6cd5\u3002 createElement() createFactory() \u53c2\u9605 Using React without JSX \u4e86\u89e3\u66f4\u591a\u3002","title":"Creating React Elements"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#transforming-elements","text":"\bReact \u540c\u65f6\u4e5f\u63d0\u4f9b\u4e86\u5176\u4ed6API\uff1a cloneElement() isValidElement() React.Children","title":"Transforming Elements"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#fragments","text":"React also provides a component for rendering multiple elements without a wrapper. React.Fragment","title":"Fragments"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#other","text":"React.forwardRef","title":"Other"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#reference","text":"","title":"Reference"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#reactcomponent","text":"\u7528 ES6 \u7c7b \u5b9a\u4e49\u65f6\uff0c React.Component \u662fReact\u7ec4\u4ef6\u7684\u57fa\u7c7b\u3002 class Greeting extends React . Component { render () { return < h1 > Hello , { this . props . name } < /h1>; } } \u6709\u5173 React.Component \u7684\u65b9\u6cd5\u548c\u5c5e\u6027\u5217\u8868\uff0c\u8bf7\u53c2\u9605 React.Component API Reference \u3002","title":"React.Component"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#reactpurecomponent","text":"React.PureComponent \u4e0e React.Component \u51e0\u4e4e\u5b8c\u5168\u76f8\u540c\uff0c\u4f46 React.PureComponent \u901a\u8fc7\bprop\u548cstate\u7684\u6d45\u5bf9\u6bd4\u6765\u5b9e\u73b0 shouldComponentUpdate() \u3002 \u5982\u679cReact\u7ec4\u4ef6\u7684 render() \u51fd\u6570\u5728\u7ed9\u5b9a\u76f8\u540c\u7684props\u548cstate\u4e0b\u6e32\u67d3\u4e3a\u76f8\u540c\u7684\u7ed3\u679c\uff0c\u5728\u67d0\u4e9b\u573a\u666f\u4e0b\u4f60\u53ef\u4ee5\u4f7f\u7528 React.PureComponent \u6765\u63d0\u5347\u6027\u80fd\u3002 Note React.PureComponent \u7684 shouldComponentUpdate() \u53ea\u4f1a\u5bf9\u5bf9\u8c61\u8fdb\u884c\u6d45\u5bf9\u6bd4\u3002\u5982\u679c\u5bf9\u8c61\u5305\u542b\u590d\u6742\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5b83\u53ef\u80fd\u4f1a\u56e0\u6df1\u5c42\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u800c\u4ea7\u751f\u9519\u8bef\u7684\u5426\u5b9a\u5224\u65ad(\u8868\u73b0\u4e3a\u5bf9\u8c61\u6df1\u5c42\u7684\b\u6570\u636e\u5df2\u6539\u53d8\u89c6\u56fe\u5374\u6ca1\u6709\u66f4\u65b0, \u539f\u6587\uff1afalse-negatives)\u3002\u5f53\u4f60\u671f\u671b\u53ea\u62e5\u6709\u7b80\u5355\u7684props\u548cstate\u65f6\uff0c\u624d\u53bb\u7ee7\u627f PureComponent \uff0c\u6216\u8005\u5728\u4f60\u77e5\u9053\u6df1\u5c42\u7684\u6570\u636e\u7ed3\u6784\u5df2\u7ecf\u53d1\u751f\u6539\u53d8\u65f6\u4f7f\u7528 forceUpdate() \u3002\u6216\u8005\uff0c\u8003\u8651\u4f7f\u7528 \u4e0d\u53ef\u53d8\u5bf9\u8c61 \u6765\u4fc3\u8fdb\u5d4c\u5957\u6570\u636e\u7684\u5feb\u901f\u6bd4\u8f83\u3002 \u6b64\u5916, React.PureComponent \u7684 shouldComponentUpate() \u4f1a\u5ffd\u7565\u6574\u4e2a\u7ec4\u4ef6\u7684\u5b50\u7ea7\u3002\u8bf7\u786e\u4fdd\u6240\u6709\u7684\u5b50\u7ea7\u7ec4\u4ef6\b\u4e5f\u662f\u201dPure\u201d\u7684\u3002","title":"React.PureComponent"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#createelement","text":"React.createElement( type, [props], [...children] ) \u6839\u636e\u7ed9\u5b9a\u7684\u7c7b\u578b\u521b\u5efa\u5e76\u8fd4\u56de\u65b0\u7684 React element \u3002\u53c2\u6570type\u65e2\u53ef\u4ee5\u662f\u4e00\u4e2ahtml\u6807\u7b7e\u540d\u79f0\u5b57\u7b26\u4e32(\u4f8b\u5982 'div' \u6216 'span' )\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a React component \u7c7b\u578b(\u4e00\u4e2a\u7c7b\u6216\u4e00\u4e2a\u51fd\u6570)\u3002 React.DOM \u63d0\u4f9b\u4e86DOM\u7ec4\u4ef6\u7684 React.createElement() \u7684\u4fbf\u6377\u5305\u88c5\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c React.DOM.a(...) \u662f React.createELement('a', ...) \u7684\u4e00\u4e2a\u4fbf\u6377\u5305\u88c5\u3002\u8fd9\u4e2a\u7528\u6cd5\u88ab\u8ba4\u4e3a\u662f\u8fc7\u65f6\u7684\uff0c\u6211\u4eec\u63a8\u8350\u60a8\u4f7f\u7528JSX\uff0c\u6216\u8005\u76f4\u63a5\u4f7f\u7528 React.createElement() \u3002 \u7528\b JSX \u7f16\u5199\u7684\u4ee3\u7801\u4f1a\u88ab\u8f6c\u6362\u6210\u7528 React.createElement() \u5b9e\u73b0\u3002\u5982\u679c\u4f7f\u7528\u4e86JSX\uff0c\u4f60\b\u901a\u5e38\u4e0d\u4f1a\u76f4\u63a5\u8c03\u7528 React.createElement() \u3002\u53c2\u9605 React Without JSX \u4e86\u89e3\u66f4\u591a\u3002","title":"createElement()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#cloneelement","text":"React.cloneElement( element, [props], [...children] ) \u4ee5 element \u4f5c\u4e3a\u8d77\u70b9\uff0c\u514b\u9686\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684React\u5143\u7d20(React Element)\u3002\u751f\u6210\u7684\u5143\u7d20\u5c06\u4f1a\u62e5\u6709\u539f\u59cb\u5143\u7d20props\b\u4e0e\u65b0props\u7684\u6d45\u5408\u5e76\u3002\u65b0\u7684\u5b50\u7ea7\u4f1a\u66ff\u6362\u73b0\u6709\u7684\u5b50\u7ea7\u3002\u6765\u81ea\u539f\u59cb\u5143\u7d20\u7684 key \u548c ref \u5c06\u4f1a\u4fdd\u7559\u3002 React.cloneElement() \u51e0\u4e4e\u76f8\u5f53\u4e8e\uff1a <element.type {...element.props} {...props}>{children}</element.type> \u7136\u800c\uff0c\u5b83\u4e5f\u4fdd\u7559\u4e86\b ref \u3002\u8fd9\u610f\u5473\u7740\uff0c\u5982\u679c\u4f60\u901a\u8fc7 ref \u83b7\u53d6\u5230\u5b50\u7ea7\u7ec4\u4ef6\u65f6\uff0c\u4e0d\u4f1a\u4e00\u4e0d\u5c0f\u5fc3\u4ece\u7956\u5148\u7ec4\u4ef6\u91cc\b\u7a83\u53d6\b\u4e86\u5b83\u3002\u4f60\u5c06\u83b7\u5f97\u4e0e\u4f60\u65b0\u5143\u7d20\u76f8\u540c\u7684 \b ref \u3002 \u8fd9\u4e2aAPI\u662f\u4e00\u4e2a\u66ff\u6362\u5df2\u5f03\u7528\u7684 React.addons.cloneWithProps() \u7684\u65b9\u6848\u3002","title":"cloneElement()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#createfactory","text":"React.createFactory(type) \u6839\u636e\u7ed9\u5b9a\u7684\u7c7b\u578b\u8fd4\u56de\u4e00\u4e2a\u521b\u5efaReact\u5143\u7d20\u7684\u51fd\u6570\u3002\u7c7b\u4f3c React.createElement \uff0c\u53c2\u6570type\u65e2\u53ef\u4ee5\u4e00\u4e2ahtml\u6807\u7b7e\b\u540d\u79f0\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a React component \u7c7b\u578b(\u4e00\u4e2a\u7c7b\u6216\u65f6\u4e00\u4e2a\u51fd\u6570)\u3002 \u8fd9\u4e2a\u65b9\u6cd5\u8fc7\u65f6\u4e86\uff0c\u6211\u4eec\u63a8\u8350\u4f60\u4f7f\u7528JSX\u6216\u76f4\u63a5\u4f7f\u7528 React.createElement() \u6765\u66ff\u4ee3\u5b83\u3002 \u5982\u679c\u4f7f\u7528\u4e86JSX\uff0c\u4f60\u901a\u5e38\u4e0d\u4f1a\u76f4\u63a5\u8c03\u7528\b React.createFactory() \u3002\u53c2\u9605 React Without JSX \u4e86\u89e3\u66f4\u591a \u3002","title":"createFactory()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#isvalidelement","text":"React.isValidElement(object) \u9a8c\u8bc1\u5bf9\u8c61\u662f\u5426\u662f\u4e00\u4e2aReact\u5143\u7d20\u3002\u8fd4\u56de true \u6216 false \u3002 \u904d\u5386\u6570\u7ec4\u7684\u5f88\u91cd\u8981\u7684\u90e8\u5206","title":"isValidElement()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#reactchildren","text":"React.Children \u63d0\u4f9b\u4e86\u5904\u7406 this.props.children \u8fd9\u4e2a\u4e0d\u900f\u660e\u6570\u636e\u7ed3\u6784\u7684\u5de5\u5177\u3002 React.Children.map React.Children.map(children, function[(thisArg)]) \u5728\b\u5305\u542b\u5728 children \u91cc\u7684\u6bcf\u4e2a\u5b50\u7ea7\u4e0a\u8c03\u7528\u51fd\u6570\uff0c\u8c03\u7528\u7684\u51fd\u6570\u7684 this \u8bbe\u7f6e\u4e3a thisArg \u3002\u5982\u679c children \u662f\u4e00\u4e2a\u5d4c\u5957\u7684\u5bf9\u8c61\u6216\u6570\u7ec4\uff0c\u5b83\u5c06\u88ab\u904d\u5386\u3002\u5982\u679c children \u662f null \u6216 undefined \uff0c\u8fd4\u56de null \u6216 undefined \u800c\u4e0d\u662f\u4e00\u4e2a\u7a7a\u6570\u7ec4\u3002 React.Children.forEach React.Children.forEach(children, function[(thisArg)]) \u7c7b\u4f3c React.Children.map() \uff0c\u4f46\u662f\u4e0d\u8fd4\u56de\u6570\u7ec4\u3002 React.Children.count React.Children.count(children) \u8fd4\u56de children \u4e2d\u7684\u7ec4\u4ef6\u603b\u6570\uff0c\u76f8\u7b49\u4e8e\u4f20\u7ed9 map \u6216 forEach \u65f6\uff0c\u56de\u8c03\u51fd\u6570\u88ab\u8c03\u7528\u6b21\u6570\u3002 React.Children.only React.Children.only(children) \u8fd4\u56de children \u91cc\u4ec5\u6709\u7684\u5b50\u7ea7\u3002\u5426\u5219\u629b\u51fa\u5f02\u5e38\u3002 React.Children.toArray React.Children.toArray(children) \u8fd4\u56de\u4ee5\u8d4bkey\u7ed9\u6bcf\u4e2a\u5b50\u7ea7 child \u7684\u6241\u5e73\u6570\u7ec4\u5f62\u5f0f\u6765\u7ec4\u6210\u4e0d\u900f\u660e\u7684 children \u6570\u636e\u7ed3\u6784\u3002\u5982\u679c\u4f60\u6253\u7b97\u5728\u4f60\u7684\u6e32\u67d3\u65b9\u6cd5\u91cc\u64cd\u7eb5\u5b50\u7ea7\u96c6\u5408\u8fd9\u5f88\u6709\u7528\uff0c\u7279\u522b\u662f\u4f60\u60f3\u5728 this.props.children \u4f20\u4e0b\u4e4b\u524d\u5bf9\u5b83\u91cd\u65b0\u6392\u5e8f\u6216\u5207\u5272\u3002 Note: \u5f53children\u662f\u6241\u5e73\u5217\u8868\u65f6\uff0c React.Children.toArray() \u6539\u53d8\bkey\u6765\u4fdd\u7559\u5d4c\u5957\u6570\u7ec4\u7684\u8bed\u4e49\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e3a\u4e86\u5728\u5c55\u5f00\u65f6\u4fdd\u7559\u5d4c\u5957\u6570\u7ec4\u7684\u8bed\u4e49\uff0c toArray \u4f1a\u81ea\u52a8\u7684\u7ed9\u6570\u7ec4\u4e2d\u6bcf\u4e2a key \u52a0\u4e86\u4e0a\u524d\u7f00\uff0c\u4ee5\u4fbf\u5c06\u6bcf\u4e2a\u5143\u7d20\u7684key\u88ab\u9650\u5b9a\u5230\u5305\u542b\u5b83\u7684\u8f93\u5165\u6570\u7ec4\u3002","title":"React.Children"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#reactforwardref","text":"React.forwardRef accepts a render function that receives props and ref parameters and returns a React node. Ref forwarding is a technique for passing a ref through a component to one of its descendants. This technique can be particularly useful with higher-order components : function enhance ( Component ) { class Enhanced extends React . Component { // ... render () { const { forwardedRef , ... rest } = this . props ; // Assign the custom prop \"forwardedRef\" as a ref return < Component ref = { forwardedRef } {... rest } /> ; } } // Intercept the \"ref\" and pass it as a custom prop, e.g. \"forwardedRef\" function enhanceForwardRef ( props , ref ) { return < Enhanced {... props } forwardedRef = { ref } /> ; } // These next lines are not necessary, // But they do give the component a better display name in DevTools, // e.g. \"ForwardRef(withTheme(MyComponent))\" const name = Component . displayName || Component . name ; enhanceForwardRef . displayName = `enhance( ${ name } )` ; return React . forwardRef ( enhanceForwardRef ); }","title":"React.forwardRef"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#reactcomponent_1","text":"\u7ec4\u4ef6\u80fd\u591f\u8ba9\u4f60\u5c06UI\u5206\u5272\u6210\u72ec\u7acb\u7684\u3001\u53ef\u91cd\u7528\u7684\u90e8\u5206\uff0c\u5e76\u5bf9\u6bcf\u4e00\u90e8\u5206\u5355\u72ec\u8003\u91cf\u3002 React \u63d0\u4f9b\u4e86 React.Component \u3002","title":"React.Component"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_2","text":"React.Component \u662f\u4e00\u4e2a\u62bd\u8c61\u57fa\u7840\u7c7b\uff0c\u56e0\u6b64\u76f4\u63a5\u5f15\u7528 React.Component \u51e0\u4e4e\u6ca1\u610f\u4e49\u3002\u76f8\u53cd\uff0c\u4f60\u901a\u5e38\u4f1a\u7ee7\u627f\u81ea\u5b83\uff0c\u5e76\u81f3\u5c11\u5b9a\u4e49\u4e00\u4e2a render() \u65b9\u6cd5\u3002 \u901a\u5e38\u4f60\u5b9a\u4e49\u4e00\u4e2aReact\u7ec4\u4ef6\u76f8\u5f53\u4e8e\u4e00\u4e2a\u7eaf JavaScript\u7c7b \uff1a class Greeting extends React.Component { render() { return <h1>Hello, {this.props.name}</h1>; } } \u82e5\u4f60\u4ecd\u672a\u4f7f\u7528 ES6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 create-react-class \u6a21\u5757\u3002\u67e5\u770b Using React without ES6 \u4e86\u89e3\u66f4\u591a\u3002","title":"\u6982\u89c8"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_3","text":"\u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u90fd\u6709\u51e0\u4e2a\u4f60\u53ef\u4ee5\u91cd\u5199\u4ee5\u8ba9\u4ee3\u7801\u5728\u5904\u7406\u73af\u8282\u7684\u7279\u5b9a\u65f6\u671f\u8fd0\u884c\u7684\u201c\u751f\u547d\u5468\u671f\u65b9\u6cd5\u201d\u3002\u65b9\u6cd5\u4e2d\u5e26\u6709\u524d\u7f00 will \u7684\u5728\u7279\u5b9a\u73af\u8282\u4e4b\u524d\u88ab\u8c03\u7528\uff0c\u800c\u5e26\u6709\u524d\u7f00 did \u7684\u65b9\u6cd5\u5219\u4f1a\u5728\u7279\u5b9a\u73af\u8282\u4e4b\u540e\u88ab\u8c03\u7528\u3002","title":"\u7ec4\u4ef6\u751f\u547d\u5468\u671f"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_4","text":"\u8fd9\u4e9b\u65b9\u6cd5\u4f1a\u5728\u7ec4\u4ef6\u5b9e\u4f8b\u88ab\u521b\u5efa\u548c\u63d2\u5165DOM\u4e2d\u65f6\u88ab\u8c03\u7528\uff1a constructor() static getDerivedStateFromProps() componentWillMount() / UNSAFE_componentWillMount() render() componentDidMount()","title":"\u88c5\u914d"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_5","text":"\u5c5e\u6027\u6216\u72b6\u6001\u7684\u6539\u53d8\u4f1a\u89e6\u53d1\u4e00\u6b21\u66f4\u65b0\u3002\u5f53\u4e00\u4e2a\u7ec4\u4ef6\u5728\u88ab\u91cd\u6e32\u65f6\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u5c06\u4f1a\u88ab\u8c03\u7528\uff1a componentWillReceiveProps() / UNSAFE_componentWillReceiveProps() static getDerivedStateFromProps() shouldComponentUpdate() componentWillUpdate() / UNSAFE_componentWillUpdate() render() getSnapshotBeforeUpdate() componentDidUpdate()","title":"\u66f4\u65b0"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_6","text":"\u5f53\u4e00\u4e2a\u7ec4\u4ef6\u88ab\u4eceDOM\u4e2d\u79fb\u9664\u65f6\uff0c\u8be5\u65b9\u6cd5\u88ab\u8c03\u7528\uff1a componentWillUnmount()","title":"\u5378\u8f7d"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_7","text":"\u5728\u6e32\u67d3\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef\u65f6\u4f1a\u88ab\u8c03\u7528\uff1a componentDidCatch()","title":"\u9519\u8bef\u5904\u7406"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#api","text":"\u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u8fd8\u63d0\u4f9b\u4e86\u5176\u4ed6\u7684API\uff1a setState() forceUpdate()","title":"\u5176\u4ed6API"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_8","text":"defaultProps displayName","title":"\u7c7b\u5c5e\u6027"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_9","text":"props state","title":"\u5b9e\u4f8b\u5c5e\u6027"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_10","text":"","title":"\u53c2\u8003"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#render","text":"render() render() \u65b9\u6cd5\u662f\u5fc5\u987b\u7684\u3002 \u5f53\u88ab\u8c03\u7528\u65f6\uff0c\u5176\u5e94\u8be5\u68c0\u67e5 this.props \u548c this.state \u5e76\u8fd4\u56de\u4ee5\u4e0b\u7c7b\u578b\u4e2d\u7684\u4e00\u4e2a: React\u5143\u7d20\u3002 \u901a\u5e38\u662f\u7531 JSX \u521b\u5efa\u3002\u8be5\u5143\u7d20\u53ef\u80fd\u662f\u4e00\u4e2a\u539f\u751fDOM\u7ec4\u4ef6\u7684\u8868\u793a\uff0c\u5982 <div /> \uff0c\u6216\u8005\u662f\u4e00\u4e2a\u4f60\u5b9a\u4e49\u7684\u5408\u6210\u7ec4\u4ef6\u3002 \u5b57\u7b26\u4e32\u548c\u6570\u5b57\u3002 \u8fd9\u4e9b\u5c06\u88ab\u6e32\u67d3\u4e3a DOM \u4e2d\u7684 text node\u3002 Portals\u3002 \u7531 ReactDOM.createPortal \u521b\u5efa\u3002 null \u3002 \u4ec0\u4e48\u90fd\u4e0d\u6e32\u67d3\u3002 \u5e03\u5c14\u503c\u3002 \u4ec0\u4e48\u90fd\u4e0d\u6e32\u67d3\u3002\uff08\u901a\u5e38\u5b58\u5728\u4e8e return test && <Child /> \u5199\u6cd5\uff0c\u5176\u4e2d test \u662f\u5e03\u5c14\u503c\u3002\uff09 \u5f53\u8fd4\u56de null \u6216 false \u65f6\uff0c ReactDOM.findDOMNode(this) \u5c06\u8fd4\u56de null \u3002 render() \u51fd\u6570\u5e94\u8be5\u7eaf\u51c0\uff0c\u610f\u5473\u7740\u5176\u4e0d\u5e94\u8be5\u6539\u53d8\u7ec4\u4ef6\u7684\u72b6\u6001 \uff0c\u5176\u6bcf\u6b21\u8c03\u7528\u90fd\u5e94\u8fd4\u56de\u76f8\u540c\u7684\u7ed3\u679c\uff0c\u540c\u65f6\u4e0d\u76f4\u63a5\u548c\u6d4f\u89c8\u5668\u4ea4\u4e92\u3002\u82e5\u9700\u8981\u548c\u6d4f\u89c8\u5668\u4ea4\u4e92\uff0c\u5c06\u4efb\u52a1\u653e\u5728 componentDidMount() \u9636\u6bb5\u6216\u5176\u4ed6\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u3002\u4fdd\u6301 render() \u65b9\u6cd5\u7eaf\u51c0\u4f7f\u5f97\u7ec4\u4ef6\u66f4\u5bb9\u6613\u601d\u8003\u3002 \u6ce8\u610f \u82e5 shouldComponentUpdate() \u8fd4\u56defalse\uff0c render() \u51fd\u6570\u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002","title":"render()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#constructor","text":"constructor(props) React\u7ec4\u4ef6\u7684\u6784\u9020\u51fd\u6570\u5c06\u4f1a\u5728\u88c5\u914d\u4e4b\u524d\u88ab\u8c03\u7528\u3002\u5f53\u4e3a\u4e00\u4e2a React.Component \u5b50\u7c7b\u5b9a\u4e49\u6784\u9020\u51fd\u6570\u65f6\uff0c\u4f60\u5e94\u8be5\u5728\u4efb\u4f55\u5176\u4ed6\u7684\u8868\u8fbe\u5f0f\u4e4b\u524d\u8c03\u7528 super(props) \u3002\u5426\u5219\uff0c this.props \u5728\u6784\u9020\u51fd\u6570\u4e2d\u5c06\u662f\u672a\u5b9a\u4e49\uff0c\u5e76\u53ef\u80fd\u5f15\u53d1\u5f02\u5e38\u3002 \u6784\u9020\u51fd\u6570\u662f\u521d\u59cb\u5316\u72b6\u6001\u7684\u5408\u9002\u4f4d\u7f6e \u3002\u82e5\u4f60\u4e0d\u521d\u59cb\u5316\u72b6\u6001\u4e14\u4e0d\u7ed1\u5b9a\u65b9\u6cd5\uff0c\u90a3\u4f60\u4e5f\u4e0d\u9700\u8981\u4e3a\u4f60\u7684React\u7ec4\u4ef6\u5b9a\u4e49\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u3002 \u53ef\u4ee5==\u57fa\u4e8e\u5c5e\u6027\u6765\u521d\u59cb\u5316\u72b6\u6001==\u3002\u8fd9\u6837\u6709\u6548\u5730\u201c\u5206\u79bb\uff08forks\uff09\u201d\u5c5e\u6027\u5e76\u6839\u636e\u521d\u59cb\u5c5e\u6027\u8bbe\u7f6e\u72b6\u6001\u3002\u8fd9\u6709\u4e00\u4e2a\u6709\u6548\u7684 React.Component \u5b50\u7c7b\u6784\u9020\u51fd\u6570\u7684\u4f8b\u5b50\uff1a constructor ( props ) { super ( props ); this . state = { color : props . initialColor }; } \u5f53\u5fc3\u8fd9\u79cd\u6a21\u5f0f\uff0c\u56e0\u4e3a\u72b6\u6001\u5c06\u4e0d\u4f1a\u968f\u7740\u5c5e\u6027\u7684\u66f4\u65b0\u800c\u66f4\u65b0\u3002\u4fdd\u8bc1\u5c5e\u6027\u548c\u72b6\u6001\u540c\u6b65 \uff0c\u4f60\u901a\u5e38\u60f3\u8981 \u72b6\u6001\u63d0\u5347 \u3002 \u82e5\u4f60\u901a\u8fc7\u4f7f\u7528\u5b83\u4eec\u4e3a\u72b6\u6001\u201c\u5206\u79bb\u201d\u5c5e\u6027\uff0c\u4f60\u53ef\u80fd\u4e5f\u60f3\u8981\u5b9e\u73b0 UNSAFE_componentWillReceiveProps(nextProps) \u4ee5\u4fdd\u6301\u6700\u65b0\u7684\u72b6\u6001\u3002\u4f46\u72b6\u6001\u63d0\u5347\u901a\u5e38\u6765\u8bf4\u66f4\u5bb9\u6613\u4ee5\u53ca\u66f4\u5c11\u7684\u5f02\u5e38\u3002","title":"constructor()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#static-getderivedstatefromprops","text":"static getDerivedStateFromProps(nextProps, prevState) \u7ec4\u4ef6\u5b9e\u4f8b\u5316\u540e\u548c\u63a5\u53d7\u65b0\u5c5e\u6027\u65f6\u5c06\u4f1a\u8c03\u7528 getDerivedStateFromProps \u3002\u5b83\u5e94\u8be5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u6765\u66f4\u65b0\u72b6\u6001\uff0c\u6216\u8005\u8fd4\u56denull\u6765\u8868\u660e\u65b0\u5c5e\u6027\u4e0d\u9700\u8981\u66f4\u65b0\u4efb\u4f55\u72b6\u6001\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u7236\u7ec4\u4ef6\u5bfc\u81f4\u4e86\u7ec4\u4ef6\u7684\u91cd\u65b0\u6e32\u67d3\uff0c\u5373\u4f7f\u5c5e\u6027\u6ca1\u6709\u66f4\u65b0\uff0c\u8fd9\u4e00\u65b9\u6cd5\u4e5f\u4f1a\u88ab\u8c03\u7528\u3002\u5982\u679c\u4f60\u53ea\u60f3\u5904\u7406\u53d8\u5316\uff0c\u4f60\u53ef\u80fd\u60f3\u53bb\u6bd4\u8f83\u65b0\u65e7\u503c\u3002 \u8c03\u7528 this.setState() \u901a\u5e38\u4e0d\u4f1a\u89e6\u53d1 getDerivedStateFromProps() \u3002","title":"static getDerivedStateFromProps()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#unsafe_componentwillmount","text":"UNSAFE_componentWillMount() UNSAFE_componentWillMount() \u5728\u88c5\u914d\u53d1\u751f\u524d\u88ab\u7acb\u523b\u8c03\u7528\u3002\u5176\u5728 render() \u4e4b\u524d\u88ab\u8c03\u7528\uff0c \u56e0\u6b64\u5728\u8fd9\u65b9\u6cd5\u91cc\u540c\u6b65\u5730\u8bbe\u7f6e\u72b6\u6001\u5c06\u4e0d\u4f1a\u89e6\u53d1\u91cd\u6e32 \u3002 \u907f\u514d\u5728\u8be5\u65b9\u6cd5\u4e2d\u5f15\u5165\u4efb\u4f55\u7684\u526f\u4f5c\u7528\u6216\u8ba2\u9605\u3002\u5bf9\u4e8e\u8fd9\u4e9b\u4f7f\u7528\u573a\u666f\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528 constructor() \u6765\u66ff\u4ee3\u3002 \u8fd9\u662f\u552f\u4e00\u7684\u4f1a\u5728\u670d\u52a1\u7aef\u6e32\u67d3\u8c03\u8d77\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570 \u3002 \u6ce8\u610f \u8fd9\u4e00\u751f\u547d\u5468\u671f\u4e4b\u524d\u53eb\u505a componentWillMount \u3002\u8fd9\u4e00\u540d\u5b57\u572817\u7248\u524d\u90fd\u6709\u6548\u3002\u53ef\u4ee5\u4f7f\u7528 rename-unsafe-lifecycles codemod \u6765\u81ea\u52a8\u66f4\u65b0\u4f60\u7684\u7ec4\u4ef6\u3002","title":"UNSAFE_componentWillMount()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#componentdidmount","text":"componentDidMount() componentDidMount() \u5728\u7ec4\u4ef6\u88ab\u88c5\u914d\u540e\u7acb\u5373\u8c03\u7528\u3002\u521d\u59cb\u5316\u4f7f\u5f97DOM\u8282\u70b9\u5e94\u8be5\u8fdb\u884c\u5230\u8fd9\u91cc\u3002 \u82e5\u4f60\u9700\u8981\u4ece\u8fdc\u7aef\u52a0\u8f7d\u6570\u636e\uff0c\u8fd9\u662f\u4e00\u4e2a\u9002\u5408\u5b9e\u73b0\u7f51\u7edc\u8bf7\u6c42\u7684\u5730\u65b9\u3002\u5728\u8be5\u65b9\u6cd5\u91cc\u8bbe\u7f6e\u72b6\u6001\u5c06\u4f1a\u89e6\u53d1\u91cd\u6e32 \u3002 \u8fd9\u4e00\u65b9\u6cd5\u662f\u4e00\u4e2a\u53d1\u8d77\u4efb\u4f55\u7ed1\u5b9a\u7684\u597d\u5730\u65b9\uff08addeventlistener\uff09,\u522b\u5fd8\u4e86\u5728 componentWillUnmount()\u53d6\u6d88 \u3002 \u5728\u8fd9\u4e2a\u65b9\u6cd5\u4e2d\u8c03\u7528 setState() \u5c06\u4f1a\u89e6\u53d1\u4e00\u6b21\u989d\u5916\u7684\u6e32\u67d3\uff0c\u4f46\u662f\u5b83\u5c06\u5728\u6d4f\u89c8\u5668\u5237\u65b0\u5c4f\u5e55\u4e4b\u524d\u53d1\u751f \u3002\u8fd9\u4fdd\u8bc1\u4e86\u5373\u4f7f render() \u5c06\u4f1a\u8c03\u7528\u4e24\u6b21\uff0c \u4f46\u7528\u6237\u4e0d\u4f1a\u770b\u5230\u4e2d\u95f4\u72b6\u6001 \u3002\u8c28\u614e\u4f7f\u7528\u8fd9\u4e00\u6a21\u5f0f\uff0c\u56e0\u4e3a\u5b83\u5e38==\u5bfc\u81f4\u6027\u80fd\u95ee\u9898==\u3002 \u7136\u800c\uff0c\u5b83\u5bf9\u4e8e\u50cf==\u6a21\u6001\u6846(Modal)\u548c\u5de5\u5177\u63d0\u793a\u6846==\u8fd9\u6837\u7684\u4f8b\u5b50\u662f\u5fc5\u987b\u7684\u3002\u8fd9\u65f6\uff0c\u5728\u6e32\u67d3\u4f9d\u8d56==DOM\u8282\u70b9\u7684\u5c3a\u5bf8\u6216\u8005\u4f4d\u7f6e\u7684\u89c6\u56fe==\u524d\uff0c\u4f60\u9700\u8981\u5148\u6d4b\u91cf\u8fd9\u4e9b\u8282\u70b9\u3002(\u83b7\u53d6\u5f53\u524d\u6309\u94ae\u7684\u4f4d\u7f6e \u9700\u8981\u901a\u8fc7ref\u83b7\u53d6\u8282\u70b9\u7684\u5c3a\u5bf8\u6216\u8005\u4f4d\u7f6e\uff0c\u7136\u540e\u8fdb\u4e00\u6b65\u8ba1\u7b97)","title":"componentDidMount()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#unsafe_componentwillreceiveprops","text":"UNSAFE_componentWillReceiveProps(nextProps) \u6ce8\u610f \u63a8\u8350\u4f60\u4f7f\u7528 getDerivedStateFromProps \u751f\u547d\u5468\u671f\u800c\u4e0d\u662f UNSAFE_componentWillReceiveProps \u3002 \u5173\u4e8e\u6b64\u5efa\u8bae\u5728\u6b64\u4e86\u89e3\u8be6\u60c5\u3002 UNSAFE_componentWillReceiveProps() \u5728\u88c5\u914d\u4e86\u7684\u7ec4\u4ef6\u63a5\u6536\u5230\u65b0\u5c5e\u6027\u524d\u8c03\u7528\u3002\u82e5\u4f60\u9700\u8981\u66f4\u65b0\u72b6\u6001\u54cd\u5e94\u5c5e\u6027\u6539\u53d8\uff08\u4f8b\u5982\uff0c\u91cd\u7f6e\u5b83\uff09\uff0c\u4f60\u53ef\u80fd\u9700\u5bf9\u6bd4 this.props \u548c nextProps \u5e76\u5728\u8be5\u65b9\u6cd5\u4e2d\u4f7f\u7528 this.setState() \u5904\u7406\u72b6\u6001\u6539\u53d8\u3002 \u6ce8\u610f==\u5373\u4f7f\u5c5e\u6027\u672a\u6709\u4efb\u4f55\u6539\u53d8\uff0cReact\u53ef\u80fd\u4e5f\u4f1a\u8c03\u7528\u8be5\u65b9\u6cd5==\uff0c\u56e0\u6b64\u82e5\u4f60\u60f3\u8981\u5904\u7406\u6539\u53d8\uff0c\u8bf7\u786e\u4fdd\u6bd4\u8f83\u5f53\u524d\u548c\u4e4b\u540e\u7684\u503c\u3002\u8fd9\u53ef\u80fd\u4f1a\u53d1\u751f\u5728\u5f53\u7236\u7ec4\u4ef6\u5f15\u8d77\u4f60\u7684\u7ec4\u4ef6\u91cd\u6e32\u3002 \u5728 \u88c5\u914d \u671f\u95f4\uff0cReact\u5e76\u4e0d\u4f1a\u8c03\u7528\u5e26\u6709\u521d\u59cb\u5c5e\u6027\u7684 UNSAFE_componentWillReceiveProps \u65b9\u6cd5\u3002\u5176\u4ec5\u4f1a\u8c03\u7528\u8be5\u65b9\u6cd5\u5982\u679c\u67d0\u4e9b\u7ec4\u4ef6\u7684\u5c5e\u6027\u53ef\u80fd\u66f4\u65b0\u3002\u8c03\u7528 this.setState \u901a\u5e38\u4e0d\u4f1a\u89e6\u53d1 UNSAFE_componentWillReceiveProps \u3002 \u6ce8\u610f \u8fd9\u4e00\u751f\u547d\u5468\u671f\u4e4b\u524d\u53eb\u505a componentWillReceiveProps \u3002\u8fd9\u4e00\u540d\u5b57\u572817\u7248\u524d\u90fd\u6709\u6548\u3002\u53ef\u4ee5\u4f7f\u7528 rename-unsafe-lifecycles codemod \u6765\u81ea\u52a8\u66f4\u65b0\u4f60\u7684\u7ec4\u4ef6\u3002","title":"UNSAFE_componentWillReceiveProps()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#shouldcomponentupdate","text":"shouldComponentUpdate(nextProps, nextState) \u4f7f\u7528 shouldComponentUpdate() \u4ee5\u8ba9React\u77e5\u9053\u5f53\u524d\u72b6\u6001\u6216\u5c5e\u6027\u7684\u6539\u53d8\u662f\u5426\u4e0d\u5f71\u54cd\u7ec4\u4ef6\u7684\u8f93\u51fa\u3002\u9ed8\u8ba4\u884c\u4e3a\u662f\u5728\u6bcf\u4e00\u6b21\u72b6\u6001\u7684\u6539\u53d8\u91cd\u6e32\uff0c\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u4f60\u5e94\u8be5\u4f9d\u8d56\u4e8e\u9ed8\u8ba4\u884c\u4e3a\u3002 \u5f53\u63a5\u6536\u5230\u65b0\u5c5e\u6027\u6216\u72b6\u6001\u65f6\uff0c shouldComponentUpdate() \u5728\u6e32\u67d3\u524d\u88ab\u8c03\u7528\u3002\u9ed8\u8ba4\u4e3a true \u3002\u8be5\u65b9\u6cd5\u5e76\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u6216\u5f53\u4f7f\u7528 forceUpdate() \u65f6\u88ab\u8c03\u7528\u3002 \u5f53\u4ed6\u4eec\u72b6\u6001\u6539\u53d8\u65f6\uff0c\u8fd4\u56de false \u5e76\u4e0d\u80fd\u963b\u6b62\u5b50\u7ec4\u4ef6\u91cd\u6e32\u3002 \u5f53\u524d\uff0c\u82e5 shouldComponentUpdate() \u8fd4\u56de false \uff0c\u800c\u540e UNSAFE_componentWillUpdate() \uff0c render() \uff0c \u548c componentDidUpdate() \u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002\u6ce8\u610f\uff0c\u5728\u672a\u6765React\u53ef\u80fd\u4f1a\u5c06 shouldComponentUpdate() \u4f5c\u4e3a\u4e00\u4e2a\u7ebf\u7d22\u800c\u4e0d\u662f\u4e00\u4e2a\u4e25\u683c\u6307\u4ee4\uff0c\u8fd4\u56de false \u53ef\u80fd\u4ecd\u7136\u4f7f\u5f97\u7ec4\u4ef6\u91cd\u6e32\u3002 \u5728\u89c2\u5bdf\u540e\uff0c\u82e5\u4f60\u5224\u5b9a\u4e00\u4e2a\u5177\u4f53\u7684\u7ec4\u4ef6\u5f88\u6162\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u8c03\u6574\u5176\u4ece React.PureComponent \u7ee7\u627f\uff0c\u5176\u5b9e\u73b0\u4e86\u5e26\u6709\u6d45\u5c5e\u6027\u548c\u72b6\u6001\u6bd4\u8f83\u7684 shouldComponentUpdate() \u3002\u82e5\u4f60\u786e\u4fe1\u60f3\u8981\u624b\u5199\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u7528 this.props \u548c nextProps \u4ee5\u53ca this.state \u548c nextState \u6bd4\u8f83\uff0c\u5e76\u8fd4\u56de false \u4ee5\u544a\u8bc9React\u66f4\u65b0\u53ef\u4ee5\u88ab\u5ffd\u7565\u3002","title":"shouldComponentUpdate()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#unsafe_componentwillupdate","text":"UNSAFE_componentWillUpdate(nextProps, nextState) \u5f53\u63a5\u6536\u5230\u65b0\u5c5e\u6027\u6216\u72b6\u6001\u65f6\uff0c UNSAFE_componentWillUpdate() \u4e3a\u5728\u6e32\u67d3\u524d\u88ab\u7acb\u5373\u8c03\u7528\u3002\u5728\u66f4\u65b0\u53d1\u751f\u524d\uff0c\u4f7f\u7528\u8be5\u65b9\u6cd5\u662f\u4e00\u6b21\u51c6\u5907\u673a\u4f1a\u3002\u8be5\u65b9\u6cd5\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u65f6\u8c03\u7528\u3002 \u6ce8\u610f\u4f60\u4e0d\u80fd\u5728\u8fd9\u8c03\u7528 this.setState() \uff0c\u82e5\u4f60\u9700\u8981\u66f4\u65b0\u72b6\u6001\u54cd\u5e94\u5c5e\u6027\u7684\u8c03\u6574\uff0c\u4f7f\u7528 getDerivedStateFromProps() \u4ee3\u66ff\u3002 \u6ce8\u610f \u8fd9\u4e00\u751f\u547d\u5468\u671f\u4e4b\u524d\u53eb\u505a componentWillUpdate \u3002\u8fd9\u4e00\u540d\u5b57\u572817\u7248\u524d\u90fd\u6709\u6548\u3002\u53ef\u4ee5\u4f7f\u7528 rename-unsafe-lifecycles codemod \u6765\u81ea\u52a8\u66f4\u65b0\u4f60\u7684\u7ec4\u4ef6\u3002 \u6ce8\u610f \u82e5 shouldComponentUpdate() \u8fd4\u56defalse\uff0c UNSAFE_componentWillUpdate() \u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002","title":"UNSAFE_componentWillUpdate()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#getsnapshotbeforeupdate","text":"getSnapshotBeforeUpdate() \u5728\u6700\u65b0\u7684\u6e32\u67d3\u8f93\u51fa\u63d0\u4ea4\u7ed9DOM\u524d\u5c06\u4f1a\u7acb\u5373\u8c03\u7528\u3002\u5b83\u8ba9\u4f60\u7684\u7ec4\u4ef6\u80fd\u5728\u5f53\u524d\u7684\u503c\u53ef\u80fd\u8981\u6539\u53d8\u524d\u83b7\u5f97\u5b83\u4eec\u3002\u8fd9\u4e00\u751f\u547d\u5468\u671f\u8fd4\u56de\u7684\u4efb\u4f55\u503c\u5c06\u4f1a \u4f5c\u4e3a\u53c2\u6570\u88ab\u4f20\u9012\u7ed9 componentDidUpdate() \u3002 \u4f8b\u5982\uff1a class ScrollingList extends React . Component { listRef = React . createRef (); getSnapshotBeforeUpdate ( prevProps , prevState ) { // Are we adding new items to the list? // Capture the current height of the list so we can adjust scroll later. if ( prevProps . list . length < this . props . list . length ) { return this . listRef . current . scrollHeight ; } return null ; } componentDidUpdate ( prevProps , prevState , snapshot ) { // If we have a snapshot value, we've just added new items. // Adjust scroll so these new items don't push the old ones out of view. if ( snapshot !== null ) { this . listRef . current . scrollTop += this . listRef . current . scrollHeight - snapshot ; } } render () { return ( < div ref = { this . listRef } > { /* ...contents... */ } < /div> ); } } \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u4e3a\u4e86\u652f\u6301\u5f02\u6b65\u6e32\u67d3\uff0c\u5728 getSnapshotBeforeUpdate \u4e2d\u8bfb\u53d6 scrollHeight \u800c\u4e0d\u662f componentWillUpdate \uff0c\u8fd9\u70b9\u5f88\u91cd\u8981\u3002\u7531\u4e8e\u5f02\u6b65\u6e32\u67d3\uff0c\u5728\u201c\u6e32\u67d3\u201d\u65f6\u671f\uff08\u5982 componentWillUpdate \u548c render \uff09\u548c\u201c\u63d0\u4ea4\u201d\u65f6\u671f\uff08\u5982 getSnapshotBeforeUpdate \u548c componentDidUpdate \uff09\u95f4\u53ef\u80fd\u4f1a\u5b58\u5728\u5ef6\u8fdf\u3002\u5982\u679c\u4e00\u4e2a\u7528\u6237\u5728\u8fd9\u671f\u95f4\u505a\u4e86\u50cf\u6539\u53d8\u6d4f\u89c8\u5668\u5c3a\u5bf8\u7684\u4e8b\uff0c\u4ece componentWillUpdate \u4e2d\u8bfb\u51fa\u7684 scrollHeight \u503c\u5c06\u662f\u6ede\u540e\u7684\u3002","title":"getSnapshotBeforeUpdate()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#componentdidupdate","text":"componentDidUpdate(prevProps, prevState) componentDidUpdate() \u4f1a\u5728\u66f4\u65b0\u53d1\u751f\u540e\u7acb\u5373\u88ab\u8c03\u7528\u3002\u8be5\u65b9\u6cd5\u5e76\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u65f6\u8c03\u7528\u3002 \u5f53\u7ec4\u4ef6\u88ab\u66f4\u65b0\u65f6\uff0c\u4f7f\u7528\u8be5\u65b9\u6cd5\u662f\u64cd\u4f5cDOM\u7684\u4e00\u6b21\u673a\u4f1a\u3002\u8fd9\u4e5f\u662f\u4e00\u4e2a\u9002\u5408\u53d1\u9001\u8bf7\u6c42\u7684\u5730\u65b9\uff0c\u8981\u662f\u4f60\u5bf9\u6bd4\u4e86\u5f53\u524d\u5c5e\u6027\u548c\u4e4b\u524d\u5c5e\u6027\uff08\u4f8b\u5982\uff0c\u5982\u679c\u5c5e\u6027\u6ca1\u6709\u6539\u53d8\u90a3\u4e48\u8bf7\u6c42\u4e5f\u5c31\u6ca1\u5fc5\u8981\u4e86\uff09\u3002 \u6ce8\u610f \u82e5 shouldComponentUpdate() \u8fd4\u56defalse\uff0c componentDidUpdate() \u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002","title":"componentDidUpdate()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#componentwillunmount","text":"componentWillUnmount() componentWillUnmount() \u5728\u7ec4\u4ef6\u88ab\u5378\u8f7d\u548c\u9500\u6bc1\u4e4b\u524d\u7acb\u523b\u8c03\u7528\u3002\u53ef\u4ee5\u5728\u8be5\u65b9\u6cd5\u91cc\u5904\u7406\u4efb\u4f55\u5fc5\u8981\u7684\u6e05\u7406\u5de5\u4f5c\uff0c\u4f8b\u5982\u89e3\u7ed1\u5b9a\u65f6\u5668\uff0c\u53d6\u6d88\u7f51\u7edc\u8bf7\u6c42\uff0c\u6e05\u7406\u4efb\u4f55\u5728 componentDidMount \u73af\u8282\u521b\u5efa\u7684DOM\u5143\u7d20\u3002","title":"componentWillUnmount()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#componentdidcatch","text":"componentDidCatch(error, info) \u9519\u8bef\u8fb9\u754c\u662fReact\u7ec4\u4ef6\uff0c\u5e76\u4e0d\u662f\u635f\u574f\u7684\u7ec4\u4ef6\u6811\u3002\u9519\u8bef\u8fb9\u754c\u6355\u6349\u53d1\u751f\u5728\u5b50\u7ec4\u4ef6\u6811\u4e2d\u4efb\u610f\u5730\u65b9\u7684JavaScript\u9519\u8bef\uff0c\u6253\u5370\u9519\u8bef\u65e5\u5fd7\uff0c\u5e76\u4e14\u663e\u793a\u56de\u9000\u7684\u7528\u6237\u754c\u9762\u3002\u9519\u8bef\u8fb9\u754c\u6355\u6349\u6e32\u67d3\u671f\u95f4\u3001\u5728\u751f\u547d\u5468\u671f\u65b9\u6cd5\u4e2d\u548c\u5728\u5b83\u4eec\u4e4b\u4e0b\u6574\u68f5\u6811\u7684\u6784\u9020\u51fd\u6570\u4e2d\u7684\u9519\u8bef\u3002 \u5982\u679c\u5b9a\u4e49\u4e86\u8fd9\u4e00\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u4e00\u4e2a\u7c7b\u7ec4\u4ef6\u5c06\u6210\u4e3a\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u3002\u5728\u9519\u8bef\u8fb9\u754c\u4e2d\u8c03\u7528 setState() \u8ba9\u4f60\u6355\u6349\u5f53\u524d\u6811\u4e4b\u4e0b\u672a\u5904\u7406\u7684JavaScript\u9519\u8bef\uff0c\u5e76\u663e\u793a\u56de\u9000\u7684\u7528\u6237\u754c\u9762\u3002\u53ea\u4f7f\u7528\u9519\u8bef\u8fb9\u754c\u6765\u6062\u590d\u5f02\u5e38\uff0c\u800c\u4e0d\u8981\u5c1d\u8bd5\u5c06\u5b83\u4eec\u7528\u4e8e\u63a7\u5236\u6d41\u3002 \u8be6\u60c5\u8bf7\u89c1 React 16\u4e2d\u7684\u9519\u8bef\u5904\u7406 \u3002 \u6ce8\u610f \u9519\u8bef\u8fb9\u754c\u53ea\u6355\u6349\u6811\u4e2d\u53d1\u751f\u5728\u5b83\u4eec**\u4e4b\u4e0b**\u7ec4\u4ef6\u91cc\u7684\u9519\u8bef\u3002\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u5e76\u4e0d\u80fd\u6355\u6349\u5b83\u81ea\u5df1\u5185\u90e8\u7684\u9519\u8bef\u3002","title":"componentDidCatch()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#setstate","text":"setState(updater, [callback]) setState() \u5c06\u9700\u8981\u5904\u7406\u7684\u53d8\u5316\u585e\u5165\uff08\u8bd1\u8005\u6ce8\uff1asetState\u6e90\u7801\u4e2d\u5c06\u4e00\u4e2a\u9700\u8981\u6539\u53d8\u7684\u53d8\u5316\u5b58\u653e\u5230\u7ec4\u4ef6\u7684state\u5bf9\u8c61\u4e2d\uff0c\u91c7\u7528\u961f\u5217\u5904\u7406\uff09\u7ec4\u4ef6\u7684state\u5bf9\u8c61\u4e2d\uff0c \u5e76\u544a\u8bc9\u8be5\u7ec4\u4ef6\u53ca\u5176\u5b50\u7ec4\u4ef6\u9700\u8981\u7528\u66f4\u65b0\u7684\u72b6\u6001\u6765\u91cd\u65b0\u6e32\u67d3\u3002\u8fd9\u662f\u7528\u4e8e==\u54cd\u5e94\u4e8b\u4ef6\u5904\u7406\u548c\u670d\u52a1\u7aef\u54cd\u5e94\u7684\u66f4\u65b0\u7528\u6237\u754c\u9762\u7684\u4e3b\u8981\u65b9\u5f0f==\u3002 \u5c06 setState() \u8ba4\u4e3a\u662f\u4e00\u6b21*\u8bf7\u6c42*\u800c\u4e0d\u662f\u4e00\u6b21\u7acb\u5373\u6267\u884c\u66f4\u65b0\u7ec4\u4ef6\u7684\u547d\u4ee4\u3002\u4e3a\u4e86\u66f4\u4e3a\u53ef\u89c2\u7684\u6027\u80fd\uff0cReact\u53ef\u80fd\u4f1a\u63a8\u8fdf\u5b83\uff0c\u7a0d\u540e\u4f1a\u4e00\u6b21\u6027\u66f4\u65b0\u8fd9\u4e9b\u7ec4\u4ef6\u3002React\u4e0d\u4f1a\u4fdd\u8bc1\u5728setState\u4e4b\u540e\uff0c\u80fd\u591f\u7acb\u523b\u62ff\u5230\u6539\u53d8\u7684\u7ed3\u679c\u3002 setState() \u4e0d\u662f\u7acb\u523b\u66f4\u65b0\u7ec4\u4ef6\u3002\u5176\u53ef\u80fd\u662f==\u6279\u5904\u7406\u6216\u63a8\u8fdf\u66f4\u65b0==\u3002\u8fd9\u4f7f\u5f97\u5728\u8c03\u7528 setState() \u540e\u7acb\u523b\u8bfb\u53d6 this.state \u7684\u4e00\u4e2a\u6f5c\u5728\u9677\u9631\u3002\u4ee3\u66ff\u5730\uff0c\u4f7f\u7528 componentDidUpdate \u6216\u4e00\u4e2a setState \u56de\u8c03 \uff08 setState(updater, callback) \uff09\uff0c\u5f53\u4e2d\u7684\u6bcf\u4e2a\u65b9\u6cd5\u90fd\u4f1a\u4fdd\u8bc1\u5728\u66f4\u65b0\u88ab\u5e94\u7528\u4e4b\u540e\u89e6\u53d1\u3002\u82e5\u4f60\u9700\u8981\u57fa\u4e8e\u4e4b\u524d\u7684\u72b6\u6001\u6765\u8bbe\u7f6e\u72b6\u6001\uff0c\u9605\u8bfb\u4e0b\u9762\u5173\u4e8e updater \u53c2\u6570\u7684\u4ecb\u7ecd\u3002 \u9664\u975e shouldComponentUpdate() \u8fd4\u56de false \uff0c\u5426\u5219 setState() \u6c38\u8fdc\u90fd\u4f1a\u5bfc\u81f4\u91cd\u6e32 \u3002\u82e5\u4f7f\u7528\u53ef\u53d8\u5bf9\u8c61\u540c\u65f6\u6761\u4ef6\u6e32\u67d3\u903b\u8f91\u65e0\u6cd5\u5728 shouldComponentUpdate() \u4e2d\u5b9e\u73b0\uff0c\u4ec5\u5f53\u65b0\u72b6\u6001\u4e0d\u540c\u4e8e\u4e4b\u524d\u72b6\u6001\u65f6\u8c03\u7528 setState() \uff0c\u5c06\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u91cd\u6e32\u3002 \u7b2c\u4e00\u4e2a\u51fd\u6570\u662f\u5e26\u7b7e\u540d\u7684 updater \u51fd\u6570\uff1a (prevState, props) => stateChange prevState \u662f\u4e4b\u524d\u72b6\u6001\u7684\u5f15\u7528\u3002\u5176\u4e0d\u5e94\u8be5\u88ab\u76f4\u63a5\u6539\u53d8\u3002\u4ee3\u66ff\u5730\uff0c\u6539\u53d8\u5e94\u8be5\u901a\u8fc7\u6784\u5efa\u4e00\u4e2a\u6765\u81ea\u4e8e prevState \u548c props \u8f93\u5165\u7684\u65b0\u5bf9\u8c61\u6765\u8868\u793a\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u6211\u4eec\u60f3\u901a\u8fc7 props.step \u5728\u72b6\u6001\u4e2d\u589e\u52a0\u4e00\u4e2a\u503c\uff1a this.setState((prevState, props) => { return {counter: prevState.counter + props.step}; }); updater\u51fd\u6570\u63a5\u6536\u5230\u7684 prevState \u548c props \u4fdd\u8bc1\u90fd\u662f\u6700\u65b0\u7684\u3002updater\u7684\u8f93\u51fa\u662f\u548c prevState \u7684\u6d45\u5408\u5e76\u3002 setState() \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u53ef\u9009\u5730\u56de\u8c03\u51fd\u6570\uff0c\u5176\u5c06\u4f1a\u5728 setState \u6267\u884c\u5b8c\u6210\u540c\u65f6\u7ec4\u4ef6\u88ab\u91cd\u6e32\u4e4b\u540e\u6267\u884c\u3002\u901a\u5e38\uff0c\u5bf9\u4e8e\u8fd9\u7c7b\u903b\u8f91\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528 componentDidUpdate \u3002 \u4f60\u53ef\u4ee5\u9009\u62e9\u6027\u5730\u4f20\u9012\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a setState() \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u800c\u4e0d\u662f\u4e00\u4e2a\u51fd\u6570\uff1a setState(stateChange, [callback]) \u5176\u4ec5\u662f\u5c06 stateChange \u6d45\u5408\u5e76\u5230\u65b0\u72b6\u6001\u4e2d\u3002\u4f8b\u5982\uff0c\u8c03\u6574\u8d2d\u7269\u8f66\u4e2d\u7269\u54c1\u6570\u91cf\uff1a this.setState({quantity: 2}) \u8fd9\u4e00\u5f62\u5f0f\u7684 setState() \u4e5f\u662f\u5f02\u6b65\u7684\uff0c\u5e76\u5728\u76f8\u540c\u7684\u5468\u671f\u4e2d\u591a\u6b21\u8c03\u7528\u53ef\u80fd\u4f1a\u88ab\u5408\u5e76\u5230\u4e00\u8d77\u3002\u4f8b\u5982\uff0c\u82e5\u4f60\u5728\u76f8\u540c\u7684\u5468\u671f\u4e2d\u5c1d\u8bd5\u591a\u6b21\u589e\u52a0\u4e00\u4ef6\u7269\u54c1\u7684\u6570\u91cf\uff0c\u5176\u7b49\u4ef7\u4e8e\uff1a Object.assign( previousState, {quantity: state.quantity + 1}, {quantity: state.quantity + 1}, ... ) \u4e4b\u540e\u7684\u8c03\u7528\u5728\u540c\u4e00\u5468\u671f\u4e2d\u5c06\u4f1a\u91cd\u5199\u4e4b\u524d\u8c03\u7528\u7684\u503c\uff0c\u56e0\u6b64\u6570\u91cf\u4ec5\u4f1a\u88ab\u52a0\u4e00\u3002\u82e5\u4e4b\u540e\u7684\u72b6\u6001\u4f9d\u8d56\u4e8e\u4e4b\u524d\u7684\u72b6\u6001\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528updater\u51fd\u6570\u5f62\u5f0f\uff1a this.setState((prevState) => { return {counter: prevState.quantity + 1}; }); \u66f4\u591a\u7ec6\u8282\uff0c\u67e5\u770b State & \u751f\u547d\u5468\u671f\u6307\u5357 \u3002","title":"setState()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#forceupdate","text":"component.forceUpdate(callback) \u9ed8\u8ba4\u60c5\u51b5\uff0c\u5f53\u4f60\u7684\u7ec4\u4ef6\u6216\u72b6\u6001\u53d1\u751f\u6539\u53d8\uff0c\u4f60\u7684\u7ec4\u4ef6\u5c06\u4f1a\u91cd\u6e32\u3002\u82e5\u4f60\u7684 render() \u65b9\u6cd5\u4f9d\u8d56\u5176\u4ed6\u6570\u636e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 forceUpdate() \u6765\u544a\u8bc9React\u7ec4\u4ef6\u9700\u8981\u91cd\u6e32\u3002 \u8c03\u7528 forceUpdate() \u5c06\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u7684 render() \u65b9\u6cd5\u88ab\u8c03\u7528\uff0c\u5e76\u5ffd\u7565 shouldComponentUpdate() \u3002\u8fd9\u5c06\u4f1a\u89e6\u53d1\u6bcf\u4e00\u4e2a\u5b50\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u6db5\u76d6\uff0c\u6bcf\u4e2a\u5b50\u7ec4\u4ef6\u7684 shouldComponentUpdate() \u65b9\u6cd5\u3002\u82e5\u5f53\u6807\u7b7e\u6539\u53d8\uff0cReact\u4ec5\u4f1a\u66f4\u65b0DOM\u3002 \u901a\u5e38\u4f60\u5e94\u8be5\u5c1d\u8bd5\u907f\u514d\u6240\u6709 forceUpdate() \u7684\u7528\u6cd5\u5e76\u4ec5\u5728 render() \u51fd\u6570\u91cc\u4ece this.props \u548c this.state \u8bfb\u53d6\u6570\u636e\u3002","title":"forceUpdate()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_11","text":"","title":"\u7c7b\u5c5e\u6027"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#defaultprops","text":"defaultProps \u53ef\u4ee5\u88ab\u5b9a\u4e49\u4e3a\u7ec4\u4ef6\u7c7b\u7684\u4e00\u4e2a\u5c5e\u6027\uff0c\u7528\u4ee5\u4e3a\u7c7b\u8bbe\u7f6e\u9ed8\u8ba4\u7684\u5c5e\u6027\u3002\u8fd9\u5bf9\u4e8e\u672a\u5b9a\u4e49\uff08undefined\uff09\u7684\u5c5e\u6027\u6765\u8bf4\u6709\u7528\uff0c\u800c\u5bf9\u4e8e\u8bbe\u4e3a\u7a7a\uff08null\uff09\u7684\u5c5e\u6027\u5e76\u6ca1\u7528\u3002\u4f8b\u5982 defaultProps class CustomButton extends React . Component { // ... } CustomButton . defaultProps = { color : 'blue' }; \u82e5\u672a\u8bbe\u7f6e props.color \uff0c\u5176\u5c06\u88ab\u8bbe\u7f6e\u9ed8\u8ba4\u4e3a 'blue' : render() { return <CustomButton /> ; // props.color will be set to blue } \u82e5 props.color \u8bbe\u4e3anull\uff0c\u5219\u5176\u503c\u5219\u4e3anull\uff1a render() { return <CustomButton color={null} /> ; // props.color will remain null }","title":"defaultProps"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#displayname","text":"displayName \u88ab\u7528\u5728\u8c03\u8bd5\u4fe1\u606f\u4e2d\u3002JSX\u4f1a\u81ea\u52a8\u8bbe\u7f6e\u8be5\u503c\uff1b\u67e5\u770b \u6df1\u5165JSX \u3002","title":"displayName"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_12","text":"","title":"\u5b9e\u4f8b\u5c5e\u6027"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#props","text":"this.props \u5305\u542b\u4e86\u7ec4\u4ef6\u8be5\u8c03\u7528\u8005\u5b9a\u4e49\u7684\u5c5e\u6027\u3002\u67e5\u770b \u7ec4\u4ef6 & Props \u5173\u4e8e\u5c5e\u6027\u7684\u4ecb\u7ecd\u3002 \u7279\u522b\u5730\uff0c this.props.children \u662f\u4e00\u4e2a\u7279\u522b\u5c5e\u6027\uff0c\u5176\u901a\u5e38\u7531JSX\u8868\u8fbe\u5f0f\u4e2d\u7684\u5b50\u6807\u7b7e\u5b9a\u4e49\uff0c\u800c\u4e0d\u662f\u6807\u7b7e\u672c\u8eab\u3002","title":"props"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#state","text":"\u72b6\u6001\u662f\u8be5\u7ec4\u4ef6\u7684\u7279\u5b9a\u6570\u636e\uff0c\u5176\u53ef\u80fd\u6539\u53d8\u591a\u6b21\u3002\u72b6\u6001\u7531\u7528\u6237\u5b9a\u4e49\uff0c\u4e14\u5176\u5e94\u4e3a\u7eafJavaScript\u5bf9\u8c61\u3002 \u82e5\u4f60\u4e0d\u5728 render() \u65b9\u6cd5\u4e2d\u4f7f\u7528\u5b83\uff0c\u5176\u4e0d\u5e94\u8be5\u8be5\u88ab\u653e\u5728\u72b6\u6001\u4e0a\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u76f4\u63a5\u5c06timer IDs\u653e\u5728\u5b9e\u4f8b\u4e0a\u3002 \u67e5\u770b State & \u751f\u547d\u5468\u671f \u4e86\u89e3\u66f4\u591a\u5173\u4e8e\u72b6\u6001\u7684\u4fe1\u606f\u3002 \u6c38\u8fdc\u4e0d\u8981\u76f4\u63a5\u6539\u53d8 this.state \uff0c\u56e0\u4e3a\u8c03\u7528 setState() \u4f1a\u66ff\u6362\u4f60\u4e4b\u524d\u505a\u7684\u6539\u53d8\u3002\u5c06 this.state \u5f53\u6210\u4e0d\u53ef\u53d8\u7684\u3002","title":"state"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#reactdom","text":"\u5982\u679c\u4f60\u7528\u4e00\u4e2a <script> \u6807\u7b7e\u5bfc\u5165React, \u6240\u6709\u7684\u9876\u9636\u7684API\u90fd\u80fd\u5728 ReactDOM \u7684\u5168\u5c40\u8303\u56f4\u5185\u88ab\u8c03\u7528\u3002 \u5982\u679c\u4f60\u7528\u7684\u662f npm\u642d\u914dES6\u6807\u51c6\uff0c\u4f60\u53ef\u4ee5\u7528 import ReactDOM from 'react-dom' \u3002\u5982\u679c\u662fnpm\u548cES5\uff0c\u4f60\u53ef\u4ee5\u7528 var ReactDOM = require('react-dom') \u3002","title":"ReactDOM"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_13","text":"react-dom \u8fd9\u4e2a\u8f6f\u4ef6\u5305\u63d0\u4f9b\u4e86\u9488\u5bf9DOM\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728\u4f60\u5e94\u7528\u7684\u9876\u7ea7\u57df\u4e2d\u8c03\u7528\uff0c\u4e5f\u53ef\u4ee5\u5728\u6709\u9700\u8981\u7684\u60c5\u51b5\u4e0b\u7528\u4f5c\u8df3\u51faReact\u6a21\u578b\u7684\u51fa\u53e3\u3002\u4f60\u7684\u5927\u90e8\u5206\u7ec4\u4ef6\u90fd\u4e0d\u5e94\u8be5\u9700\u8981\u4f7f\u7528\u8fd9\u4e2a\u5305\u3002 render() unmountComponentAtNode() findDOMNode()","title":"\u603b\u89c8"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_14","text":"React\u517c\u5bb9\u6240\u6709\u5e38\u7528\u7684\u6d4f\u89c8\u5668\uff0c\u5305\u62ecIE9\u53ca\u4ee5\u4e0a\u7684\u7248\u672c\u3002 \u6ce8\u610f \u6211\u4eec\u4e0d\u652f\u6301\u90a3\u4e9b\u4e0d\u517c\u5bb9ES5\u65b9\u6cd5\u7684\u8001\u7248\u6d4f\u89c8\u5668\uff0c\u4f46\u5982\u679c\u4f60\u7684\u5e94\u7528\u5305\u542b\u4e86polyfill\uff0c\u4f8b\u5982 es5-shim \u548c es5-sham \uff0c\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u4f60\u7684\u5e94\u7528\u4ecd\u7136\u53ef\u4ee5\u5728\u8fd9\u4e9b\u6d4f\u89c8\u5668\u4e2d\u6b63\u5e38\u8fd0\u884c\u3002\u5982\u679c\u4f60\u9009\u62e9\u8fd9\u4e48\u5e72\uff0c\u4f60\u5c31\u53ea\u80fd\u5b64\u519b\u594b\u6218\u4e86\u3002","title":"\u6d4f\u89c8\u5668\u517c\u5bb9"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#api_1","text":"","title":"\u5e38\u7528API"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#render_1","text":"ReactDOM.render( element, container, [callback] ) \u6e32\u67d3\u4e00\u4e2aReact\u5143\u7d20\uff0c\u6dfb\u52a0\u5230\u4f4d\u4e8e\u63d0\u4f9b\u7684 container \u91cc\u7684DOM\u5143\u7d20\u4e2d\uff0c\u5e76\u8fd4\u56de\u8fd9\u4e2a\u7ec4\u4ef6\u7684\u4e00\u4e2a \u5f15\u7528 (\u6216\u8005\u5bf9\u4e8e \u65e0\u72b6\u6001\u7ec4\u4ef6 \u8fd4\u56de null ). \u5982\u679c\u8fd9\u4e2aReact\u5143\u7d20\u4e4b\u524d\u5df2\u7ecf\u88ab\u6e32\u67d3\u5230 container \u91cc\u53bb\u4e86\uff0c\u8fd9\u6bb5\u4ee3\u7801\u5c31\u4f1a\u8fdb\u884c\u4e00\u6b21\u66f4\u65b0\uff0c\u5e76\u4e14\u53ea\u4f1a\u6539\u53d8\u90a3\u4e9b\u53cd\u6620\u5143\u7d20\u6700\u65b0\u72b6\u6001\u6240\u5fc5\u987b\u7684DOM\u5143\u7d20\u3002 \u56de\u8c03\u51fd\u6570\u662f\u53ef\u9009\u7684\u3002\u5982\u679c\u4f60\u63d0\u4f9b\u4e86\uff0c\u7a0b\u5e8f\u4f1a\u5728\u6e32\u67d3\u6216\u66f4\u65b0\u4e4b\u540e\u6267\u884c\u8fd9\u4e2a\u51fd\u6570\u3002 \u6ce8\u610f: ReactDOM.render() \u63a7\u5236\u4f60\u4f20\u8fdb\u6765\u7684\u5bb9\u5668\u8282\u70b9\u91cc\u7684\u7684\u5185\u5bb9\u3002\u7b2c\u4e00\u6b21\u88ab\u8c03\u7528\u65f6\uff0c\u5185\u90e8\u6240\u6709\u5df2\u7ecf\u5b58\u5728\u7684DOM\u5143\u7d20\u90fd\u4f1a\u88ab\u66ff\u6362\u6389\u3002 \u4e4b\u540e\u7684\u8c03\u7528\u4f1a\u4f7f\u7528React\u7684DOM\u6bd4\u8f83\u7b97\u6cd5\u8fdb\u884c\u9ad8\u6548\u7684\u66f4\u65b0\u3002 ReactDOM.render() \u4e0d\u4f1a\u4fee\u6539\u5bb9\u5668\u8282\u70b9\uff08\u53ea\u4fee\u6539\u5bb9\u5668\u7684\u5b50\u9879\uff09\u3002\u4f60\u53ef\u4ee5\u5728\u4e0d\u8986\u76d6\u5df2\u6709\u5b50\u8282\u70b9\u7684\u60c5\u51b5\u4e0b\u6dfb\u52a0\u4e00\u4e2a\u7ec4\u4ef6\u5230\u5df2\u6709\u7684DOM\u8282\u70b9\u4e2d\u53bb\u3002 ReactDOM.render() \u76ee\u524d\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5f15\u7528\uff0c \u6307\u5411 ReactComponent \u7684\u6839\u5b9e\u4f8b\u3002\u4f46\u662f\u8fd9\u4e2a\u8fd4\u56de\u503c\u662f\u5386\u53f2\u9057\u7559\uff0c\u5e94\u8be5\u907f\u514d\u4f7f\u7528\u3002\u56e0\u4e3a\u672a\u6765\u7248\u672c\u7684React\u53ef\u80fd\u4f1a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u8fdb\u884c\u5f02\u6b65\u6e32\u67d3\u3002\u5982\u679c\u4f60\u771f\u7684\u9700\u8981\u4e00\u4e2a\u6307\u5411 ReactComponent \u7684\u6839\u5b9e\u4f8b\u7684\u5f15\u7528\uff0c\u63a8\u8350\u7684\u65b9\u6cd5\u662f\u6dfb\u52a0\u4e00\u4e2a callback ref \u5230\u6839\u5143\u7d20\u4e0a\u3002","title":"render()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#unmountcomponentatnode","text":"ReactDOM.unmountComponentAtNode(container) \u4eceDOM\u5143\u7d20\u4e2d\u79fb\u9664\u5df2\u6302\u8f7d\u7684React\u7ec4\u4ef6\uff0c\u6e05\u9664\u5b83\u7684\u4e8b\u4ef6\u5904\u7406\u5668\u548cstate\u3002\u5982\u679c\u5bb9\u5668\u5185\u6ca1\u6709\u6302\u8f7d\u4efb\u4f55\u7ec4\u4ef6\uff0c\u8fd9\u4e2a\u51fd\u6570\u4ec0\u4e48\u90fd\u4e0d\u4f1a\u5e72\u3002 \u6709\u7ec4\u4ef6\u88ab\u5378\u8f7d\u7684\u65f6\u5019\u8fd4\u56de true \uff0c\u6ca1\u6709\u7ec4\u4ef6\u53ef\u4f9b\u5378\u8f7d\u65f6\u8fd4\u56de false \u3002","title":"unmountComponentAtNode()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#finddomnode","text":"ReactDOM.findDOMNode(component) \u5982\u679c\u8fd9\u4e2a\u7ec4\u4ef6\u5df2\u7ecf\u88ab\u6302\u8f7d\u5230DOM\u4e2d\uff0c\u51fd\u6570\u4f1a\u8fd4\u56de\u5bf9\u5e94\u7684\u6d4f\u89c8\u5668\u4e2d\u751f\u6210\u7684DOM\u5143\u7d20 \u3002 \u5f53\u4f60\u9700\u8981\u4eceDOM\u4e2d\u8bfb\u53d6\u503c\u65f6\uff0c\u6bd4\u5982\u8868\u5355\u7684\u503c\uff0c\u6216\u8005\u8ba1\u7b97DOM\u5143\u7d20\u7684\u5c3a\u5bf8\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f1a\u975e\u5e38\u6709\u7528\u3002 \u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e2a\u6307\u5411DOM\u8282\u70b9\u7684\u5f15\u7528\uff0c\u4ece\u800c\u5b8c\u5168\u907f\u514d\u4f7f\u7528findDOMNode \u8fd9\u4e2a\u51fd\u6570. \u5f53 render \u8fd4\u56de null \u6216\u8005 false \u65f6, findDOMNode \u4e5f\u8fd4\u56de null . \u6ce8\u610f: findDOMNode \u662f\u7528\u4e8e\u64cd\u4f5c\u5e95\u5c42DOM\u8282\u70b9\u7684\u5907\u7528\u65b9\u6848\u3002\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u90fd\u4e0d\u63d0\u5021\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6848\uff0c\u56e0\u4e3a\u5b83\u7834\u574f\u4e86\u7ec4\u4ef6\u7684\u62bd\u8c61\u5316\u3002 findDOMNode \u53ea\u5bf9\u6302\u8f7d\u8fc7\u7684\u7ec4\u4ef6\u6709\u6548\uff08\u4e5f\u5c31\u662f\u5df2\u7ecf\u6dfb\u52a0\u5230DOM\u4e2d\u53bb\u7684\u7ec4\u4ef6\uff09\u3002\u5982\u679c\u4f60\u8bd5\u56fe\u5bf9\u4e00\u4e2a\u672a\u6302\u8f7d\u7684\u7ec4\u4ef6\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570 \uff08\u6bd4\u5982\u5728\u4e00\u4e2a\u8fd8\u672a\u521b\u5efa\u7684\u7ec4\u4ef6\u7684 render() \u51fd\u6570\u4e2d\u4e2d\u8c03\u7528 findDOMNode() \uff09\uff0c\u7a0b\u5e8f\u4f1a\u629b\u51fa\u4e00\u4e2a\u5f02\u5e38\u3002 findDOMNode \u4e0d\u80fd\u7528\u4e8e\u51fd\u6570\u5f0f\u7684\u7ec4\u4ef6\u4e2d\u3002","title":"findDOMNode()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#reactdomserver","text":"\u5982\u679c\u4f60\u901a\u8fc7 <script> \u6807\u7b7e\u52a0\u8f7dReact\uff0c\u8fd9\u4e9b\u9ad8\u9636API\u53ef\u7528\u4e8e ReactDOMServer \u5168\u5c40\u3002\u5982\u679c\u4f60\u4f7f\u7528ES6\uff0c\u4f60\u53ef\u4ee5\u5199\u6210 import ReactDOMServer from 'react-dom/server' \u3002\u5982\u679c\u4f60\u4f7f\u7528ES5\uff0c\u4f60\u53ef\u4ee5\u5199\u6210 var ReactDOMServer = require('react-dom/server') \u3002","title":"ReactDOMServer"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_15","text":"ReactDOMServer \u7c7b\u53ef\u4ee5\u8ba9\u4f60==\u5728\u670d\u52a1\u7aef\u6e32\u67d3\u4f60\u7684\u7ec4\u4ef6==\u3002 PS\uff1acomponentWillMount\u7684\u5185\u5bb9\u5728\u670d\u52a1\u7aef\u6e32\u67d3\u4ee3\u7801\u3002ComponentDidMount\u5728\u6d4f\u89c8\u5668\u6e32\u67d3\u4ee3\u7801\u3002\u5c3d\u91cf\u4f7f\u7528\u540e\u9762\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\u3002 renderToString() renderToStaticMarkup()","title":"\u6982\u89c8"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#reference_1","text":"","title":"Reference"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#rendertostring","text":"ReactDOMServer.renderToString(element) \u628a\u4e00\u4e2aReact\u5143\u7d20\u6e32\u67d3\u4e3a\u539f\u59cb\u7684HTML\u3002\u8fd9\u4e2a\u65b9\u6cd5\u6700\u597d\u53ea\u5728\u670d\u52a1\u7aef\u4f7f\u7528\u3002React\u5c06\u4f1a\u8fd4\u56de\u4e00\u6bb5HTML\u5b57\u7b26\u4e32\u3002\u4f60\u53ef\u4ee5\u7528\u8fd9\u4e2a\u65b9\u6cd5\u5728\u670d\u52a1\u7aef\u751f\u6210HTML\uff0c\u5e76\u6839\u636e\u521d\u59cb\u8bf7\u6c42\u53d1\u9001\u6807\u8bb0\u6765\u52a0\u5feb\u9875\u9762\u7684\u52a0\u8f7d\u901f\u5ea6\uff0c\u540c\u65f6\u8ba9\u641c\u7d22\u5f15\u64ce\u53ef\u4ee5\u6293\u53d6\u4f60\u7684\u9875\u9762\u6765\u8fbe\u5230\u4f18\u5316SEO\u7684\u76ee\u7684\u3002 \u5982\u679c\u5728\u4e00\u4e2a\u5df2\u7ecf\u6709\u4e86\u670d\u52a1\u7aef\u6e32\u67d3\u6807\u8bb0\u7684\u8282\u70b9\u4e0a\u8c03\u7528 ReactDOM.render() \uff0cReact\u5c06\u4fdd\u7559\u8be5\u8282\u70b9\uff0c\u4ec5\u4f5c\u7ed1\u5b9a\u4e8b\u4ef6\u5904\u7406\uff0c\u8fd9\u4f1a\u8ba9\u4f60\u6709\u4e00\u4e2a\u975e\u5e38\u9ad8\u6548\u7684\u521d\u6b21\u52a0\u8f7d\u4f53\u9a8c\u3002","title":"renderToString()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#rendertostaticmarkup","text":"ReactDOMServer.renderToStaticMarkup(element) \u7c7b\u4f3c renderToString \uff0c\u4f46\u662f\u4e0d\u4f1a\u521b\u5efa\u989d\u5916\u7684DOM\u5c5e\u6027\uff0c\u4f8b\u5982 data-reactid \u8fd9\u4e9b\u4ec5\u5728React\u5185\u90e8\u4f7f\u7528\u7684\u5c5e\u6027\u3002\u5982\u679c\u4f60\u5e0c\u671b\u628aReact\u5f53\u4f5c\u4e00\u4e2a\u7b80\u5355\u7684\u9759\u6001\u9875\u9762\u751f\u6210\u5668\u6765\u4f7f\u7528\uff0c\u8fd9\u5f88\u6709\u7528\uff0c\u56e0\u4e3a\u53bb\u6389\u989d\u5916\u7684\u5c5e\u6027\u53ef\u4ee5\u8282\u7701\u5f88\u591a\u5b57\u8282\u3002","title":"renderToStaticMarkup()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#dom-elements","text":"React\u5b9e\u73b0\u4e86\u4e00\u5957\u4e0e\u6d4f\u89c8\u5668\u65e0\u5173\u7684DOM\u7cfb\u7edf\uff0c\u517c\u987e\u4e86\u6027\u80fd\u548c\u8de8\u6d4f\u89c8\u5668\u7684\u517c\u5bb9\u6027\u3002\u501f\u6b64\u673a\u4f1a\uff0c\u6211\u4eec\u6e05\u7406\u4e86\u6d4f\u89c8\u5668DOM\u5b9e\u73b0\u4e2d\u4e00\u4e9b\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\u3002 \u5728React\u4e2d\uff0c\u6240\u6709\u7684DOM\u7279\u6027\u548c\u5c5e\u6027\uff08\u5305\u62ec\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\uff09\u90fd\u662f\u5c0f\u9a7c\u5cf0\u547d\u540d\u6cd5\u547d\u540d\u3002\u6bd4\u5982\u8bf4\uff0c\u4e0eHTML\u4e2d\u7684 tabindex \u5c5e\u6027\u5bf9\u5e94\u7684React\u5b9e\u73b0\u547d\u540d\u5219\u662f tabIndex \u3002 aria-* \u548c data-* \u5c5e\u6027\u662f\u4f8b\u5916\u7684\uff0c\u4e00\u5f8b\u4f7f\u7528\u5c0f\u5199\u5b57\u6bcd\u547d\u540d\u3002","title":"DOM Elements"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#reacthtml-dom","text":"\u6709\u8bb8\u591a\u7684\u5c5e\u6027\u5728React\u548cHtml\u4e4b\u95f4\u884c\u4e3a\u662f\u4e0d\u4e00\u6837\u7684","title":"React\u548cHTML DOM\u5c5e\u6027\u7684\u533a\u522b"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#checked","text":"<input> \u6807\u7b7etype\u5c5e\u6027\u503c\u4e3a checkbox \u6216 radio \u65f6\uff0c\u652f\u6301 checked \u5c5e\u6027\u3002\u8fd9\u5bf9\u4e8e\u6784\u5efa\u53d7\u63a7\u7ec4\u4ef6\u5f88\u6709\u7528\u3002\u4e0e\u4e4b\u76f8\u5bf9 defaultChecked \u8fd9\u662f\u975e\u53d7\u63a7\u7ec4\u4ef6\u7684\u5c5e\u6027\uff0c\u7528\u6765\u8bbe\u5b9a\u5bf9\u5e94\u7ec4\u4ef6\u9996\u6b21\u52a0\u8f7d\u65f6\u662f\u5426\u9009\u4e2d\u72b6\u6001\u3002","title":"checked\u5c5e\u6027"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_16","text":"\u5728React\u4e2d\uff0c\u4f7f\u7528 className \u5c5e\u6027\u6307\u5b9a\u4e00\u4e2aCSS\u7c7b\u3002\u8fd9\u4e2a\u7279\u6027\u9002\u7528\u4e8e\u6240\u6709\u7684\u5e38\u89c4DOM\u8282\u70b9\u548cSVG\u5143\u7d20\uff0c\u6bd4\u5982 <div> \uff0c <a> \u548c\u5176\u5b83\u7684\u5143\u7d20\u3002 \u5982\u679c\u4f60\u5728React\u4e2d\u4f7f\u7528Web\u7ec4\u4ef6\uff08\u8fd9\u662f\u4e00\u79cd\u4e0d\u5e38\u89c1\u7684\u4f7f\u7528\u65b9\u5f0f\uff09\uff0c\u8bf7\u4f7f\u7528 class \u5c5e\u6027\u3002","title":"\u7c7b\u540d\u5c5e\u6027"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#dangerouslysetinnerhtml","text":"dangerouslySetInnerHTML \u662fReact\u63d0\u4f9b\u7684\u66ff\u6362\u6d4f\u89c8\u5668DOM\u4e2d\u7684 innerHTML \u63a5\u53e3\u7684\u4e00\u4e2a\u51fd\u6570\u3002\u4e00\u822c\u800c\u8a00\uff0c\u4f7f\u7528JS\u4ee3\u7801\u8bbe\u7f6eHTML\u6587\u6863\u7684\u5185\u5bb9\u662f\u5371\u9669\u7684\uff0c\u56e0\u4e3a\u8fd9\u6837\u5f88\u5bb9\u6613\u628a\u4f60\u7684\u7528\u6237\u4fe1\u606f\u66b4\u9732\u7ed9 \u8de8\u7ad9\u811a\u672c \u653b\u51fb.\u6240\u4ee5\uff0c\u4f60\u867d\u7136\u53ef\u4ee5\u76f4\u63a5\u5728React\u4e2d\u8bbe\u7f6ehtml\u7684\u5185\u5bb9\uff0c\u4f46\u4f60\u8981\u4f7f\u7528 dangerouslySetInnerHTML \u5e76\u5411\u8be5\u51fd\u6570\u4f20\u9012\u4e00\u4e2a\u542b\u6709 __html \u952e\u7684\u5bf9\u8c61\uff0c\u7528\u6765\u63d0\u9192\u4f60\u81ea\u5df1\u8fd9\u6837\u505a\u5f88\u5371\u9669\u3002\u4f8b\u5982\uff1a function createMarkup () { return { __html : 'First &middot; Second' }; } function MyComponent () { return < div dangerouslySetInnerHTML = { createMarkup ()} /> ; }","title":"dangerouslySetInnerHTML\u51fd\u6570"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#htmlfor","text":"\u56e0\u4e3a\u5728javascript\u4e2d for \u662f\u4e00\u4e2a\u4fdd\u7559\u5b57\uff0c\u6240\u4ee5React\u5143\u7d20\u4f7f\u7528 htmlFor \u4ee3\u66ff\u3002","title":"htmlFor"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#onchange","text":"onChange \u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u7684\u8868\u73b0\u6b63\u5982\u4f60\u6240\u671f\u671b\u7684\uff1a \u65e0\u8bbaform\u8868\u5355\u4f55\u65f6\u53d1\u751f\u53d8\u5316\uff0c\u8fd9\u4e2a\u4e8b\u4ef6\u90fd\u4f1a\u88ab\u89e6\u53d1 \u3002\u6211\u4eec\u7279\u610f\u4e0d\u4f7f\u7528\u6d4f\u89c8\u5668\u5df2\u6709\u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u56e0\u4e3a onChange \u5728\u6d4f\u89c8\u5668\u4e2d\u7684\u8868\u73b0\u548c\u8fd9\u4e2a\u540d\u5b57\u4e0d\u76f8\u79f0\uff0c\u800c\u4e14==React\u771f\u5b9e\u4f9d\u9760\u8fd9\u4e2a\u4e8b\u4ef6\u5b9e\u73b0\u4e86\u5bf9\u7528\u6237\u8f93\u5165\u7684\u5b9e\u65f6\u54cd\u5e94\u5904\u7406==\u3002","title":"onChange\u51fd\u6570"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#selected","text":"The selected attribute is supported by <option> components. You can use it to set whether the component is selected. This is useful for building controlled components. <option> \u7ec4\u4ef6\u652f\u6301 selected \u5c5e\u6027\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u8be5\u5c5e\u6027\u8bbe\u5b9a\u7ec4\u4ef6\u662f\u5426\u9009\u4e2d\u7684\u72b6\u6001\u3002\u8fd9\u5bf9\u6784\u5efa\u53d7\u63a7\u7ec4\u4ef6\u5f88\u6709\u7528\u3002","title":"selected"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#style","text":"style \u5c5e\u6027\u63a5\u53d7\u4e00\u4e2a\u952e\u4e3a\u5c0f\u9a7c\u5cf0\u547d\u540d\u6cd5\u547d\u540d\u7684javascript\u5bf9\u8c61\u4f5c\u4e3a\u503c\uff0c\u800c\u4e0d\u662f\u50cfcss\u5b57\u7b26\u4e32\u3002\u8fd9\u548cDOM\u4e2dstyle\u5c5e\u6027\u63a5\u53d7javascript\u5bf9\u8c61\u5bf9\u8c61key\u7684\u547d\u540d\u65b9\u5f0f\u4fdd\u6301\u4e00\u81f4\u6027\uff0c\u66f4\u9ad8\u6548\u800c\u4e14\u80fd\u591f\u9632\u6b62\u8de8\u7ad9\u811a\u672c\uff08XSS\uff09\u7684\u5b89\u5168\u6f0f\u6d1e\u3002\u4f8b\u5982\uff1a const divStyle = { color: 'blue', backgroundImage: 'url(' + imgUrl + ')', }; function HelloWorldComponent() { return <div style={divStyle}>Hello World!</div>; } \u8981\u6ce8\u610f\uff0c\u6837\u5f0f\u5c5e\u6027\u4e0d\u4f1a\u81ea\u52a8\u8865\u9f50\u524d\u7f00\u7684\u3002\u4e3a\u4e86\u652f\u6301\u65e7\u7684\u6d4f\u89c8\u5668\uff0c\u4f60\u9700\u8981\u624b\u52a8\u652f\u6301\u76f8\u5173\u7684\u6837\u5f0f\u7279\u6027\uff1a const divStyle = { WebkitTransition: 'all', // note the capital 'W' here msTransition: 'all' // 'ms' is the only lowercase vendor prefix }; function ComponentWithTransition() { return <div style={divStyle}>This should work cross-browser</div>; } \u6837\u5f0fkey\u4f7f\u7528\u5c0f\u9a7c\u5cf0\u547d\u540d\u6cd5\u662f\u4e3a\u4e86\u548cJS\u8bbf\u95eeDOM\u7279\u6027\u5bf9\u5bf9\u8c61\u7684\u5904\u7406\u4fdd\u6301\u4e00\u81f4\u6027\uff08\u4f8b\u5982 node.style.backgroundImage \uff09\u3002\u6d4f\u89c8\u5668\u540e\u7f00 \u9664\u4e86 ms \u4ee5\u5916\uff0c\u90fd\u5e94\u8be5\u4ee5\u5927\u5199\u5b57\u6bcd\u5f00\u5934\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48 WebkitTransition \u6709\u4e00\u4e2a\u5927\u5199\u5b57\u6bcd W \u3002","title":"style\u5c5e\u6027"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#suppresscontenteditablewarning","text":"\u4e00\u822c\u6765\u8bf4\uff0c\u5f53\u4e00\u4e2a\u62e5\u6709\u5b50\u8282\u70b9\u7684\u5143\u7d20\u88ab\u6807\u8bb0\u4e3a contentEditable \u65f6\uff0cReact\u4f1a\u53d1\u51fa\u4e00\u4e2a\u8b66\u544a\u4fe1\u606f\uff0c\u56e0\u4e3a\u6b64\u65f6 contentEditable \u662f\u65e0\u6548\u7684\u3002\u8fd9\u4e2a\u5c5e\u6027\u4f1a\u89e6\u53d1\u8fd9\u6837\u7684\u8b66\u544a\u4fe1\u606f\u3002\u4e00\u822c\u4e0d\u8981\u4f7f\u7528\u8fd9\u4e2a\u5c5e\u6027\uff0c\u9664\u975e\u4f60\u8981\u6784\u5efa\u4e00\u4e2a\u7c7b\u4f3c Draft.js \u8fd9\u6837\u9700\u8981\u624b\u52a8\u5904\u7406 contentEditable \u5c5e\u6027\u7684\u5e93\u3002","title":"suppressContentEditableWarning"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#value","text":"<input> \u548c <textarea> \u7ec4\u4ef6\u90fd\u652f\u6301 value \u5c5e\u6027\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u8be5\u5c5e\u6027\u8bbe\u7f6e\u7ec4\u4ef6\u7684\u503c\u3002\u8fd9\u5bf9\u6784\u5efa\u53d7\u63a7\u7ec4\u4ef6\u975e\u5e38\u6709\u7528\u3002 defaultValue \u5c5e\u6027\u5bf9\u5e94\u7684\u662f\u975e\u53d7\u63a7\u7ec4\u4ef6\u7684\u5c5e\u6027\uff0c\u7528\u6765\u8bbe\u7f6e\u7ec4\u4ef6\u7b2c\u4e00\u6b21\u52a0\u8f7d\u65f6\u7684\u503c\u3002","title":"value"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#html","text":"React\u652f\u6301\u4ee5\u4e0b\u6240\u6709\u7684\u5c5e\u6027\uff0c\u540c\u65f6\u4e5f==\u652f\u6301\u6240\u6709\u7684 data-* \u548c aria-* \u5c5e\u6027==\uff1a React\u4e5f\u652f\u6301\u4ee5\u4e0b\u8fd9\u4e9bRDFa\u5c5e\u6027\uff08\u6709\u51e0\u4e2aRDFa\u5c5e\u6027\u548cHTML\u5c5e\u6027\u91cd\u53e0\uff0c\u6240\u4ee5\u4e0d\u5305\u542b\u5728\u4ee5\u4e0b\u5217\u8868\u4e2d\uff09\uff1a about datatype inlist prefix property resource typeof vocab \u800c\u4e14\uff0cReact\u4e5f\u652f\u6301\u4e0b\u5217\u975e\u6807\u51c6\u5c5e\u6027\uff1a autoCapitalize autoCorrect for Mobile Safari. color for <link rel=\"mask-icon\" /> in Safari. itemProp itemScope itemType itemRef itemID for HTML5 microdata . security for older versions of Internet Explorer. unselectable for Internet Explorer. results autoSave for WebKit/Blink input fields of type search .","title":"\u6240\u6709\u53d7\u652f\u6301\u7684HTML\u5c5e\u6027"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_17","text":"\u6b64\u53c2\u8003\u6307\u5357\u8bb0\u5f55\u4e86\u6784\u6210React\u4e8b\u4ef6\u7cfb\u7edf\u7684\u4e00\u90e8\u5206\u7684 SyntheticEvent \u5c01\u88c5\u5668\u3002 \u60a8\u7684\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u5c06\u4f1a\u63a5\u6536 SyntheticEvent \u7684\u5b9e\u4f8b\uff0c\u4e00\u4e2a\u57fa\u4e8e\u6d4f\u89c8\u5668\u539f\u751f\u4e8b\u4ef6\u7684\u8de8\u6d4f\u89c8\u5668\u5b9e\u73b0\u3002\u5b83\u62e5\u6709\u548c\u6d4f\u89c8\u5668\u539f\u751f\u4e8b\u4ef6\u4e00\u6837\u7684\u63a5\u53e3\uff0c\u5305\u62ec stopPropagation() \u548c preventDefault() \uff0c\u9664\u4e86\u90a3\u4e9b\u6240\u6709\u6d4f\u89c8\u5668\u529f\u80fd\u4e00\u6837\u7684\u4e8b\u4ef6\u3002 \u5982\u679c\u7531\u4e8e\u67d0\u4e9b\u539f\u56e0\uff0c\u4f60\u5f97\u4f7f\u7528\u4e00\u4e9b\u5e95\u5c42\u7684\u6d4f\u89c8\u5668\u4e8b\u4ef6\uff0c\u53ea\u9700\u7528 nativeEvent \u7684\u5c5e\u6027\u5c31\u80fd\u627e\u5230\u3002\u6bcf\u4e2a SyntheicEvent \u5bf9\u8c61\u90fd\u6709\u5982\u4e0b\u5c5e\u6027\uff1a \u6572\u9ed1\u677f\uff1a \u7531\u4e8e\u5728v0.14\u7248\u672c\u4e2d\uff0c\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u8fd4\u56de false \u4e0d\u4f1a\u518d\u963b\u6b62\u4e8b\u4ef6\u4f20\u64ad, \u6240\u4ee5\u5fc5\u987b\u5f97\u624b\u52a8\u89e6\u53d1 e.stopPropagation() \u548c e.preventDefault() \u65b9\u6cd5\u3002","title":"\u5408\u6210\u4e8b\u4ef6"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_18","text":"SyntheticEvent \u662f\u5171\u4eab\u7684\u3002\u90a3\u5c31\u610f\u5473\u7740\u5728\u8c03\u7528\u4e8b\u4ef6\u56de\u8c03\u4e4b\u540e\uff0c SyntheticEvent \u5bf9\u8c61\u5c06\u4f1a\u88ab\u91cd\u7528\uff0c\u5e76\u4e14\u6240\u6709\u5c5e\u6027\u4f1a\u88ab\u7f6e\u7a7a\u3002\u8fd9\u662f\u51fa\u4e8e\u6027\u80fd\u56e0\u7d20\u8003\u8651\u7684\u3002 \u56e0\u6b64\uff0c\u60a8\u65e0\u6cd5\u4ee5\u5f02\u6b65\u65b9\u5f0f\u8bbf\u95ee\u4e8b\u4ef6\u3002 function onClick ( event ) { console . log ( event ); // => nullified object. console . log ( event . type ); // => \"click\" const eventType = event . type ; // => \"click\" setTimeout ( function () { console . log ( event . type ); // => null console . log ( eventType ); // => \"click\" }, 0 ); // Won't work. this.state.clickEvent will only contain null values. this . setState ({ clickEvent : event }); // You can still export event properties. this . setState ({ eventType : event . type }); } \u6572\u9ed1\u677f\uff1a \u5982\u679c\u60a8\u60f3\u4ee5\u5f02\u6b65\u7684\u65b9\u5f0f\u8bbf\u95ee\u4e8b\u4ef6\u7684\u5c5e\u6027\u503c\uff0c\u4f60\u5fc5\u987b\u5728\u4e8b\u4ef6\u56de\u8c03\u4e2d\u8c03\u7528 event.persist() \u65b9\u6cd5\uff0c\u8fd9\u6837\u4f1a\u5728\u6c60\u4e2d\u5220\u9664\u5408\u6210\u4e8b\u4ef6\uff0c\u5e76\u4e14\u5728\u7528\u6237\u4ee3\u7801\u4e2d\u4fdd\u7559\u5bf9\u4e8b\u4ef6\u7684\u5f15\u7528\u3002","title":"\u4e8b\u4ef6\u6c60"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_19","text":"React\u6807\u51c6\u5316\u4e86\u4e8b\u4ef6\uff0c\u4f7f\u5176\u5728\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u4e2d\u62e5\u6709\u4e00\u81f4\u7684\u5c5e\u6027\u3002 \u4e0b\u9762\u7684\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u7531\u5192\u6ce1\u9636\u6bb5\u7684\u4e8b\u4ef6\u89e6\u53d1\u3002\u5728\u4e8b\u4ef6\u540d\u540e\u9762\u52a0 Capture \u5c31\u80fd\u5728\u4e8b\u4ef6\u6355\u83b7\u9636\u6bb5\u6ce8\u518c\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 onClickCapture \u4ee3\u66ff onClick \u5728\u4e8b\u4ef6\u6355\u83b7\u9636\u6bb5\u6765\u5904\u7406\u70b9\u51fb\u4e8b\u4ef6\u3002","title":"\u652f\u6301\u7684\u4e8b\u4ef6"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#clipboard-events","text":"\u4e8b\u4ef6\u540d: onCopy onCut onPaste \u5c5e\u6027: DOMDataTransfer clipboardData","title":"Clipboard Events"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#composition-events","text":"\u4e8b\u4ef6\u540d: onCompositionEnd onCompositionStart onCompositionUpdate \u5c5e\u6027: string data","title":"Composition Events"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#keyboard-events","text":"\u4e8b\u4ef6\u540d: onKeyDown onKeyPress onKeyUp \u5c5e\u6027: boolean altKey number charCode boolean ctrlKey boolean getModifierState(key) string key number keyCode string locale number location boolean metaKey boolean repeat boolean shiftKey number which","title":"Keyboard Events"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#focus-events","text":"\u4e8b\u4ef6\u540d: onFocus onBlur \u8fd9\u4e9b\u7126\u70b9\u4e8b\u4ef6\u9002\u7528\u4e8eReact DOM\u4e2d\u7684\u6240\u6709\u5143\u7d20\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u8868\u5355\u5143\u7d20\u3002 \u5c5e\u6027: DOMEventTarget relatedTarget","title":"Focus Events"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#form-events","text":"\u4e8b\u4ef6\u540d: onChange onInput onSubmit \u67e5\u9605 \u8868\u5355 \u4e86\u89e3\u5173\u4e8eonChange\u4e8b\u4ef6\u7684\u66f4\u591a\u7ec6\u8282.","title":"Form Events"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#mouse-events","text":"\u4e8b\u4ef6\u540d: onClick onContextMenu onDoubleClick onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onMouseEnter \u548c onMouseLeave \u4e8b\u4ef6\u7531\u5931\u53bb\u7126\u70b9\u7684\u5143\u7d20\u5230\u6b63\u5728\u8f93\u5165\u7684\u5143\u7d20\u4f20\u64ad\uff0c\u5e76\u4e0d\u662f\u666e\u901a\u7684\u5192\u6ce1\uff0c\u4e5f\u6ca1\u6709\u6355\u83b7\u9636\u6bb5\u3002 \u5c5e\u6027: boolean altKey number button number buttons number clientX number clientY boolean ctrlKey boolean getModifierState(key) boolean metaKey number pageX number pageY DOMEventTarget relatedTarget number screenX number screenY boolean shiftKey","title":"Mouse Events"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#selection-events","text":"\u4e8b\u4ef6\u540d: onSelect","title":"Selection Events"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#touch-events","text":"\u4e8b\u4ef6\u540d: onTouchCancel onTouchEnd onTouchMove onTouchStart \u5c5e\u6027: boolean altKey DOMTouchList changedTouches boolean ctrlKey boolean getModifierState(key) boolean metaKey boolean shiftKey DOMTouchList targetTouches DOMTouchList touches","title":"Touch Events"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#ui-events","text":"\u4e8b\u4ef6\u540d: onScroll \u5c5e\u6027: number detail DOMAbstractView view","title":"UI Events"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#wheel-events","text":"\u4e8b\u4ef6\u540d: onWheel \u5c5e\u6027: number deltaMode number deltaX number deltaY number deltaZ","title":"Wheel Events"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#media-events","text":"\u4e8b\u4ef6\u540d: onAbort onCanPlay onCanPlayThrough onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting","title":"Media Events"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#image-events","text":"\u4e8b\u4ef6\u540d: onLoad onError","title":"Image Events"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#animation-events","text":"\u4e8b\u4ef6\u540d: onAnimationStart onAnimationEnd onAnimationIteration \u5c5e\u6027: string animationName string pseudoElement float elapsedTime","title":"Animation Events"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#transition-events","text":"\u4e8b\u4ef6\u540d: onTransitionEnd \u5c5e\u6027: string propertyName string pseudoElement float elapsedTime","title":"Transition Events"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#other-events","text":"\u4e8b\u4ef6\u540d: onToggle","title":"Other Events"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#test-utilities","text":"Importing import ReactTestUtils from 'react-dom/test-utils'; // ES6 var ReactTestUtils = require('react-dom/test-utils'); // ES5 with npm","title":"Test Utilities"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#overview","text":"ReactTestUtils makes it easy to test React components in the testing framework of your choice. At Facebook we use Jest for painless JavaScript testing. Learn how to get started with Jest through the Jest website\u2019s React Tutorial . Note: Airbnb has released a testing utility called Enzyme, which makes it easy to assert, manipulate, and traverse your React Components\u2019 output. If you\u2019re deciding on a unit testing utility to use together with Jest, or any other test runner, it\u2019s worth checking out: http://airbnb.io/enzyme/ Simulate renderIntoDocument() mockComponent() isElement() isElementOfType() isDOMComponent() isCompositeComponent() isCompositeComponentWithType() findAllInRenderedTree() scryRenderedDOMComponentsWithClass() findRenderedDOMComponentWithClass() scryRenderedDOMComponentsWithTag() findRenderedDOMComponentWithTag() scryRenderedComponentsWithType() findRenderedComponentWithType()","title":"Overview"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#reference_2","text":"","title":"Reference"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#shallow-rendering","text":"When writing unit tests for React, shallow rendering can be helpful. Shallow rendering lets you render a component \u201cone level deep\u201d and assert facts about what its render method returns, without worrying about the behavior of child components, which are not instantiated or rendered. This does not require a DOM. Note: The shallow renderer has moved to react-test-renderer/shallow . Learn more about shallow rendering on its reference page.","title":"Shallow Rendering"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#other-utilities","text":"","title":"Other Utilities"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#simulate","text":"Simulate.{eventName}( element, [eventData] ) Simulate an event dispatch on a DOM node with optional eventData event data. Simulate has a method for every event that React understands . Clicking an element // <button ref=\"button\">...</button> const node = this.refs.button; ReactTestUtils.Simulate.click(node); Changing the value of an input field and then pressing ENTER. // <input ref=\"input\" /> const node = this.refs.input; node.value = 'giraffe'; ReactTestUtils.Simulate.change(node); ReactTestUtils.Simulate.keyDown(node, {key: \"Enter\", keyCode: 13, which: 13}); Note You will have to provide any event property that you\u2019re using in your component (e.g. keyCode, which, etc\u2026) as React is not creating any of these for you.","title":"Simulate"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#renderintodocument","text":"renderIntoDocument(element) Render a React element into a detached DOM node in the document. This function requires a DOM. Note: You will need to have window , window.document and window.document.createElement globally available before you import React . Otherwise React will think it can\u2019t access the DOM and methods like setState won\u2019t work.","title":"renderIntoDocument()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#mockcomponent","text":"mockComponent( componentClass, [mockTagName] ) Pass a mocked component module to this method to augment it with useful methods that allow it to be used as a dummy React component. Instead of rendering as usual, the component will become a simple <div> (or other tag if mockTagName is provided) containing any provided children. Note: mockComponent() is a legacy API. We recommend using shallow rendering or jest.mock() instead.","title":"mockComponent()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#iselement","text":"isElement(element) Returns true if element is any React element.","title":"isElement()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#iselementoftype","text":"isElementOfType( element, componentClass ) Returns true if element is a React element whose type is of a React componentClass .","title":"isElementOfType()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#isdomcomponent","text":"isDOMComponent(instance) Returns true if instance is a DOM component (such as a <div> or <span> ).","title":"isDOMComponent()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#iscompositecomponent","text":"isCompositeComponent(instance) Returns true if instance is a user-defined component, such as a class or a function.","title":"isCompositeComponent()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#iscompositecomponentwithtype","text":"isCompositeComponentWithType( instance, componentClass ) Returns true if instance is a component whose type is of a React componentClass .","title":"isCompositeComponentWithType()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#findallinrenderedtree","text":"findAllInRenderedTree( tree, test ) Traverse all components in tree and accumulate all components where test(component) is true . This is not that useful on its own, but it\u2019s used as a primitive for other test utils.","title":"findAllInRenderedTree()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#scryrendereddomcomponentswithclass","text":"scryRenderedDOMComponentsWithClass( tree, className ) Finds all DOM elements of components in the rendered tree that are DOM components with the class name matching className .","title":"scryRenderedDOMComponentsWithClass()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#findrendereddomcomponentwithclass","text":"findRenderedDOMComponentWithClass( tree, className ) Like scryRenderedDOMComponentsWithClass() but expects there to be one result, and returns that one result, or throws exception if there is any other number of matches besides one.","title":"findRenderedDOMComponentWithClass()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#scryrendereddomcomponentswithtag","text":"scryRenderedDOMComponentsWithTag( tree, tagName ) Finds all DOM elements of components in the rendered tree that are DOM components with the tag name matching tagName .","title":"scryRenderedDOMComponentsWithTag()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#findrendereddomcomponentwithtag","text":"findRenderedDOMComponentWithTag( tree, tagName ) Like scryRenderedDOMComponentsWithTag() but expects there to be one result, and returns that one result, or throws exception if there is any other number of matches besides one.","title":"findRenderedDOMComponentWithTag()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#scryrenderedcomponentswithtype","text":"scryRenderedComponentsWithType( tree, componentClass ) Finds all instances of components with type equal to componentClass .","title":"scryRenderedComponentsWithType()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#findrenderedcomponentwithtype","text":"findRenderedComponentWithType( tree, componentClass ) Same as scryRenderedComponentsWithType() but expects there to be one result and returns that one result, or throws exception if there is any other number of matches besides one.","title":"findRenderedComponentWithType()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_20","text":"Importing import ShallowRenderer from 'react-test-renderer/shallow'; // ES6 var ShallowRenderer = require('react-test-renderer/shallow'); // ES5 with npm","title":"\u6d45\u5c42\u6e32\u67d3"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_21","text":"\u5f53\u4e3a React \u5199\u5355\u5143\u6d4b\u8bd5\u65f6, \u6d45\u6e32\u67d3\u4f1a\u53d8\u5f97\u5341\u5206\u6709\u7528\u3002\u6d45\u6e32\u67d3\u4f7f\u60a8\u6e32\u67d3\u7ec4\u4ef6\u7684\u201c\u7b2c\u4e00\u5c42\u201d\uff0c\u5e76\u4e14\u5bf9\u7ec4\u4ef6\u7684 render \u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u8fdb\u884c\u65ad\u8a00\uff0c\u4e0d\u7528\u62c5\u5fc3\u5b50\u7ec4\u4ef6\u7684\u884c\u4e3a\uff0c\u7ec4\u4ef6\u5e76\u6ca1\u6709\u5b9e\u4f8b\u5316\u6216\u88ab\u6e32\u67d3\u3002\u6d45\u6e32\u67d3\u5e76\u4e0d\u9700\u8981 DOM\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u60a8\u6709\u5982\u4e0b\u7684\u7ec4\u4ef6\uff1a function MyComponent () { return ( < div > < span className = \"heading\" > Title < /span> < Subcomponent foo = \"bar\" /> < /div> ); } \u4f60\u53ef\u4ee5\u65ad\u8a00(assert)\uff1a import ShallowRenderer from 'react-test-renderer/shallow' ; // in your test: const renderer = new ShallowRenderer (); renderer . render ( < MyComponent /> ); const result = renderer . getRenderOutput (); expect ( result . type ). toBe ( 'div' ); expect ( result . props . children ). toEqual ([ < span className = \"heading\" > Title < /span>, < Subcomponent foo = \"bar\" /> ]); \u6d45\u6d4b\u8bd5\uff08Shallow testing\uff09\u5f53\u524d\u8fd8\u6709\u4e00\u4e9b\u5c40\u9650, \u5373\u4e0d\u652f\u6301 refs\u3002 \u6ce8\u610f\uff1a \u6211\u4eec\u8fd8\u5efa\u8bae\u770b\u770b Enzyme Shallow Rendering API \u3002\u5b83\u5728\u76f8\u540c\u7684\u529f\u80fd\u4e0a\u63d0\u4f9b\u4e86\u4e00\u4e2a\u66f4\u68d2\u7684\u9ad8\u7ea7 API\u3002","title":"\u6982\u8ff0"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_22","text":"","title":"\u53c2\u8003"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#shallowrendererrender","text":"\u4f60\u53ef\u4ee5\u628a shallowRenderer \u60f3\u8c61\u6210\u4e00\u4e2a\u7528\u6765\u6e32\u67d3\u4f60\u6b63\u5728\u6d4b\u8bd5\u7684\u7ec4\u4ef6\u7684\u201c\u5730\u65b9\u201d\uff0c\u5e76\u4e14\u4f60\u53ef\u4ee5\u4ece\u90a3\u91cc\u53d6\u5230\u8be5\u7ec4\u4ef6\u7684\u8f93\u51fa\u3002 shallowRenderer.render() \u548c ReactDOM.render() \u5f88\u50cf\u3002\u4f46\u662f\u5b83\u4e0d\u9700\u8981 DOM \u5e76\u4e14\u53ea\u6e32\u67d3\u4e00\u5c42\u3002\u8fd9\u5c31\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u6d4b\u8bd5\u4e0e\u5b50\u7ec4\u4ef6\u884c\u4e3a\u9694\u79bb\u7684\u7ec4\u4ef6\u3002","title":"shallowRenderer.render()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#shallowrenderergetrenderoutput","text":"\u5728 shallowRenderer.render() \u88ab\u8c03\u7528\u540e, \u4f60\u53ef\u4ee5\u8c03\u7528 shallowRenderer.getRenderOutput() \u6765\u83b7\u53d6\u6d45\u6e32\u67d3\u7684\u8f93\u51fa. \u7136\u540e\uff0c\u60a8\u5c31\u53ef\u4ee5\u5f00\u59cb\u5f00\u59cb\u5bf9\u8f93\u51fa\u8fdb\u884c\u65ad\u8a00\u4e86\u3002 \u7f16\u8f91\u672c\u9875\u9762","title":"shallowRenderer.getRenderOutput()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#test-renderer","text":"Importing import TestRenderer from 'react-test-renderer'; // ES6 const TestRenderer = require('react-test-renderer'); // ES5 with npm","title":"Test Renderer"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_23","text":"\u8be5\u5305\u63d0\u4f9b\u4e86\u4e00\u4e2aReact\u7684\u6e32\u67d3\u5668\uff0c\u53ef\u4ee5\u7528\u6765\u5c06 React \u7ec4\u4ef6\u6e32\u67d3\u6210\u7eaf JavaScript \u5bf9\u8c61\uff0c\u4e0d\u9700\u8981\u4f9d\u8d56\u4e8e DOM \u548c\u539f\u751f\u79fb\u52a8\u73af\u5883\u3002 \u672c\u8d28\u4e0a\uff0c\u8be5\u5305\u53ef\u4ee5\u5728\u65e0\u9700\u4f7f\u7528\u6d4f\u89c8\u5668\u6216 jsdom \u7684\u60c5\u51b5\u4e0b\uff0c\u8f7b\u677e\u5730\u6293\u53d6\u7531 React DOM \u6216 React Native\u6e32\u67d3\u51fa\u7684\u5e73\u53f0\u89c6\u56fe\u5c42\u6b21\u7ed3\u6784\uff08\u7c7b\u4f3c\u4e8eDOM\u6811\uff09\u3002 \u793a\u4f8b\uff1a import TestRenderer from 'react-test-renderer'; function Link(props) { return <a href={props.page}>{props.children}</a>; } const testRenderer = TestRenderer.create( <Link page=\"https://www.facebook.com/\">Facebook</Link> ); console.log(testRenderer.toJSON()); // { type: 'a', // props: { href: 'https://www.facebook.com/' }, // children: [ 'Facebook' ] } \u60a8\u53ef\u4ee5\u4f7f\u7528 Jest \u7684\u5feb\u7167\u6d4b\u8bd5\u6765\u81ea\u52a8\u4fdd\u5b58\u4e00\u4e2a\u8be5 JSON \u6811\u6587\u4ef6\u7684\u526f\u672c\uff0c\u5e76\u4e14\u5728\u60a8\u7684\u6d4b\u8bd5\u4e2d\u68c0\u67e5\u5b83\u662f\u5426\u88ab\u66f4\u6539\u3002 \u4e86\u89e3\u66f4\u591a . \u60a8\u540c\u6837\u53ef\u4ee5\u901a\u8fc7\u904d\u5386\u8f93\u51fa\u6765\u67e5\u627e\u7279\u6b8a\u8282\u70b9\uff0c\u5e76\u5bf9\u76f8\u5e94\u7684\u8282\u70b9\u8fdb\u884c\u65ad\u8a00\u3002 import TestRenderer from 'react-test-renderer'; function MyComponent() { return ( <div> <SubComponent foo=\"bar\" /> <p className=\"my\">Hello</p> </div> ) } function SubComponent() { return ( <p className=\"sub\">Sub</p> ); } const testRenderer = TestRenderer.create(<MyComponent />); const testInstance = testRenderer.root; expect(testInstance.findByType(SubComponent).props.foo).toBe('bar'); expect(testInstance.findByProps({className: \"sub\"}).children).toEqual(['Sub']);","title":"\u6982\u89c8"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testrenderer","text":"TestRenderer.create()","title":"TestRenderer"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testrenderer-instance","text":"testRenderer.toJSON() testRenderer.toTree() testRenderer.update() testRenderer.unmount() testRenderer.getInstance() testRenderer.root","title":"TestRenderer instance"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testinstance","text":"testInstance.find() testInstance.findByType() testInstance.findByProps() testInstance.findAll() testInstance.findAllByType() testInstance.findAllByProps() testInstance.instance testInstance.type testInstance.props testInstance.parent testInstance.children","title":"TestInstance"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_24","text":"","title":"\u53c2\u8003"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testrenderercreate","text":"TestRenderer.create(element, options); \u901a\u8fc7\u4f20\u6765\u7684 React \u5143\u7d20\u521b\u5efa\u4e00\u4e2a TestRenderer \u7684\u5b9e\u4f8b\u3002\u5b83\u5e76\u4e0d\u4f7f\u7528\u771f\u5b9e\u7684 DOM\uff0c\u4f46\u662f\u5b83\u4f9d\u7136\u5c06\u7ec4\u4ef6\u6811\u5b8c\u6574\u5730\u6e32\u67d3\u5230\u5185\u5b58\uff0c\u6240\u4ee5\u60a8\u53ef\u4ee5\u5bf9\u5b83\u8fdb\u884c\u65ad\u8a00\u3002\u8fd4\u56de\u7684\u5b9e\u4f8b\u62e5\u6709\u4ee5\u4e0b\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\u3002","title":"TestRenderer.create()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testrenderertojson","text":"testRenderer.toJSON() \u8fd4\u56de\u4e00\u4e2a\u8868\u793a\u6e32\u67d3\u540e\u7684 \u6811 \u7684\u5bf9\u8c61\u3002\u8be5\u6811\u4ec5\u5305\u542b\u7279\u5b9a\u5e73\u53f0\u7684\u8282\u70b9\uff0c\u50cf <div> \u6216 <View> \u548c\u4ed6\u4eec\u7684\u5c5e\u6027\uff08props\uff09\uff0c\u4f46\u662f\u5e76\u4e0d\u5305\u542b\u4efb\u4f55\u7528\u6237\u7f16\u5199\u7684\u7ec4\u4ef6\u3002\u8fd9\u5bf9\u4e8e \u5feb\u7167\u6d4b\u8bd5 \u975e\u5e38\u65b9\u4fbf\u3002","title":"testRenderer.toJSON()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testrenderertotree","text":"testRenderer.toTree() \u8fd4\u56de\u4e00\u4e2a\u8868\u793a\u6e32\u67d3\u540e\u7684 \u6811 \u7684\u5bf9\u8c61\u3002\u548c toJSON() \u4e0d\u540c\uff0c\u5b83\u8868\u793a\u7684\u5185\u5bb9\u6bd4 toJSON() \u63d0\u4f9b\u7684\u5185\u5bb9\u8981\u66f4\u52a0\u8be6\u7ec6\uff0c\u5e76\u4e14\u5305\u542b\u7528\u6237\u7f16\u5199\u7684\u7ec4\u4ef6\u3002\u9664\u975e\u60a8\u6b63\u5728\u6d4b\u8bd5\u6e32\u67d3\u5668\uff08test rendererer\uff09\u4e4b\u4e0a\u7f16\u5199\u60a8\u81ea\u5df1\u7684\u65ad\u8a00\u5e93\uff0c\u5426\u5219\u60a8\u53ef\u80fd\u5e76\u4e0d\u9700\u8981\u8fd9\u4e2a\u65b9\u6cd5\u3002","title":"testRenderer.toTree()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testrendererupdate","text":"testRenderer.update(element) \u4f7f\u7528\u65b0\u7684\u6839\u5143\u7d20\u91cd\u65b0\u6e32\u67d3\u5185\u5b58\u4e2d\u7684\u6811\u3002\u5b83\u6a21\u62df\u6839\u5143\u7d20\u7684\u4e00\u6b21React\u66f4\u65b0\u3002\u5982\u679c\u65b0\u7684\u5143\u7d20\u548c\u4e4b\u524d\u7684\u5143\u7d20\u6709\u76f8\u540c\u7684 type \u548c key\uff0c\u8be5\u6811\u5c06\u4f1a\u88ab\u66f4\u65b0\uff1b\u5426\u5219\uff0c\u5b83\u5c06\u91cd\u6302\u8f7d\u4e00\u4e2a\u65b0\u6811\u3002","title":"testRenderer.update()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testrendererunmount","text":"testRenderer.unmount() \u5378\u8f7d\u5185\u5b58\u4e2d\u7684\u6811\uff0c\u89e6\u53d1\u76f8\u5e94\u7684\u751f\u547d\u5468\u671f\u4e8b\u4ef6\u3002","title":"testRenderer.unmount()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testrenderergetinstance","text":"testRenderer.getInstance() \u5982\u679c\u53ef\u7528\u7684\u8bdd\uff0c\u8fd4\u56de\u4e0e\u6839\u5143\u7d20\u76f8\u5bf9\u5e94\u7684\u5b9e\u4f8b\u3002\u5982\u679c\u6839\u5143\u7d20\u662f\u51fd\u6570\u7ec4\u4ef6\uff08functional component\uff09\uff0c\u8be5\u65b9\u6cd5\u65e0\u6548\uff0c\u56e0\u4e3a\u51fd\u6570\u7ec4\u4ef6\u6ca1\u6709\u5b9e\u4f8b\u3002","title":"testRenderer.getInstance()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testrendererroot","text":"testRenderer.root \u8fd4\u56de\u6839\u5143\u7d20\u201c\u6d4b\u8bd5\u5b9e\u4f8b\uff08test instance\uff09\u201d\u5bf9\u8c61\uff0c\u5bf9\u4e8e\u65ad\u8a00\u6811\u4e2d\u7684\u7279\u6b8a\u8282\u70b9\u5341\u5206\u6709\u7528\u3002\u60a8\u53ef\u4ee5\u5229\u7528\u5b83\u6765\u67e5\u627e\u5176\u4ed6\u66f4\u6df1\u5c42\u7684\u201c\u6d4b\u8bd5\u5b9e\u4f8b\uff08test instance\uff09\u201d\u3002","title":"testRenderer.root"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testinstancefind","text":"testInstance.find(test) \u627e\u5230\u4e00\u4e2a test(testInstance) \u8fd4\u56de true \u7684\u540e\u4ee3 \u6d4b\u8bd5\u5b9e\u4f8b\u3002\u5982\u679c test(testInstance) \u6ca1\u6709\u6b63\u597d\u53ea\u5bf9\u4e00\u4e2a \u6d4b\u8bd5\u5b9e\u4f8b \u8fd4\u56de true\uff0c\u5c06\u4f1a\u62a5\u9519\u3002","title":"testInstance.find()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testinstancefindbytype","text":"testInstance.findByType(type) \u627e\u5230\u4e00\u4e2a\u5339\u914d\u6307\u5b9a \u7c7b\u578b\uff08type\uff09\u7684 \u540e\u4ee3 \u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstances\uff09\uff0c\u5982\u679c\u4e0d\u662f\u6b63\u597d\u53ea\u6709\u4e00\u4e2a\u6d4b\u8bd5\u5b9e\u4f8b\u5339\u914d\u6307\u5b9a\u7684 \u7c7b\u578b\uff08type\uff09\uff0c\u5c06\u4f1a\u62a5\u9519\u3002","title":"testInstance.findByType()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testinstancefindbyprops","text":"testInstance.findByProps(props) \u627e\u5230\u5339\u914d\u6307\u5b9a \u5c5e\u6027\uff08props\uff09\u7684 \u540e\u4ee3 \u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstances\uff09\uff0c\u5982\u679c\u4e0d\u662f\u6b63\u597d\u53ea\u6709\u4e00\u4e2a\u6d4b\u8bd5\u5b9e\u4f8b\u5339\u914d\u6307\u5b9a\u7684 \u7c7b\u578b\uff08type\uff09\uff0c\u5c06\u4f1a\u62a5\u9519\u3002","title":"testInstance.findByProps()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testinstancefindall","text":"testInstance.findAll(test) \u627e\u5230\u6240\u6709 test(testInstance) \u7b49\u4e8e true \u7684\u540e\u4ee3 \u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstances\uff09\u3002","title":"testInstance.findAll()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testinstancefindallbytype","text":"testInstance.findAllByType(type) \u627e\u5230\u6240\u6709\u5339\u914d\u6307\u5b9a \u7c7b\u578b\uff08type\uff09\u7684 \u540e\u4ee3 \u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstances\uff09\u3002","title":"testInstance.findAllByType()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testinstancefindallbyprops","text":"testInstance.findAllByProps(props) \u627e\u5230\u6240\u6709\u5339\u914d\u6307\u5b9a \u5c5e\u6027\uff08props\uff09\u7684 \u540e\u4ee3 \u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstances\uff09\u3002","title":"testInstance.findAllByProps()"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testinstanceinstance","text":"testInstance.instance \u8be5\u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstances\uff09\u76f8\u5bf9\u5e94\u7684\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u3002\u5b83\u53ea\u80fd\u7528\u4e8e \u7c7b\u7ec4\u4ef6\uff08class components\uff09\uff0c\u56e0\u4e3a\u51fd\u6570\u7ec4\u4ef6\uff08functional components\uff09\u6ca1\u6709\u5b9e\u4f8b\u3002\u5b83\u5339\u914d\u7ed9\u5b9a\u7684\u7ec4\u4ef6\u5185\u90e8\u7684 this \u7684\u503c\u3002","title":"testInstance.instance"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testinstancetype","text":"testInstance.type \u8be5\u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstance\uff09\u76f8\u5bf9\u5e94\u7684\u7ec4\u4ef6\u7684\u7c7b\u578b\uff08type\uff09\uff0c\u4f8b\u5982\uff0c\u4e00\u4e2a <Button /> \u7ec4\u4ef6\u6709\u4e00\u4e2a Button \u7c7b\u578b\uff08type\uff09\u3002","title":"testInstance.type"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testinstanceprops","text":"testInstance.props \u8be5\u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstance\uff09\u76f8\u5bf9\u5e94\u7684\u7ec4\u4ef6\u7684\u5c5e\u6027\uff08props\uff09\uff0c\u4f8b\u5982\uff0c\u4e00\u4e2a <Button size=\"small\" /> \u7ec4\u4ef6\u7684\u5c5e\u6027\uff08props\uff09\u4e3a {size: 'small'} \u3002","title":"testInstance.props"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testinstanceparent","text":"testInstance.parent \u8be5\u6d4b\u8bd5\u5b9e\u4f8b\u7684\u7236\u6d4b\u8bd5\u5b9e\u4f8b\u3002","title":"testInstance.parent"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#testinstancechildren","text":"testInstance.children \u8be5\u6d4b\u8bd5\u5b9e\u4f8b\u7684\u5b50\u6d4b\u8bd5\u5b9e\u4f8b\u3002","title":"testInstance.children"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#ideas","text":"\u60a8\u53ef\u4ee5\u5c06 createNodeMock \u51fd\u6570\u4f5c\u4e3a\u9009\u9879\uff08option\uff09\u4f20\u9012\u7ed9 TestRenderer.create \uff0c\u53ef\u4ee5\u81ea\u884c\u6a21\u62dfrefs\u3002 createNodeMock \u63a5\u53d7\u5f53\u524d\u5143\u7d20\u4f5c\u4e3a\u53c2\u6570\uff0c\u5e76\u4e14\u8fd4\u56de\u4e00\u4e2a\u6a21\u62df\u7684 ref \u5bf9\u8c61\u3002\u5f53\u60a8\u8981\u6d4b\u8bd5\u4e00\u4e2a\u4f9d\u8d56\u4e8e refs \u7684\u7ec4\u4ef6\u65f6\uff0c\u5b83\u5341\u5206\u6709\u7528\u3002 import TestRenderer from 'react-test-renderer'; class MyComponent extends React.Component { constructor(props) { super(props); this.input = null; } componentDidMount() { this.input.focus(); } render() { return <input type=\"text\" ref={el => this.input = el} /> } } let focused = false; TestRenderer.create( <MyComponent />, { createNodeMock: (element) => { if (element.type === 'input') { // mock a focus function return { focus: () => { focused = true; } }; } return null; } } ); expect(focused).toBe(true); \u7f16\u8f91\u672c\u9875\u9762","title":"Ideas"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#javascript","text":"React 16 \u4f9d\u8d56\u96c6\u5408\u7c7b\u578b Map \u548c Set \u3002\u82e5\u4f60\u8981\u652f\u6301\u8001\u5f0f\u7684\u53ef\u80fd\u672a\u63d0\u4f9b\u539f\u751f\u652f\u6301\u7684\u6d4f\u89c8\u5668\u548c\u8bbe\u5907\uff08\u4f8b\u5982 IE < 11\uff09\uff0c\u8003\u8651\u5728\u4f60\u7684\u5e94\u7528\u5e93\u4e2d\u5305\u542b\u4e00\u4e2a\u5168\u5c40\u7684 polyfill\uff0c\u4f8b\u5982 core-js \u6216 babel-polyfill \u3002 \u4e00\u4e2a\u4f7f\u7528 core-js \u652f\u6301\u8001\u7248\u6d4f\u89c8\u5668\u7684 React 16 polyfill \u73af\u5883\u5927\u81f4\u5982\u4e0b\uff1a import 'core-js/es6/map'; import 'core-js/es6/set'; import React from 'react'; import ReactDOM from 'react-dom'; ReactDOM.render( <h1>Hello, world!</h1>, document.getElementById('root') ); React \u4e5f\u4f9d\u8d56\u4e8e requestAnimationFrame \uff08\u751a\u81f3\u5305\u62ec\u6d4b\u8bd5\u73af\u5883\uff09\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 raf \u5305\u53bb shim requestAnimationFrame \uff1a import 'raf/polyfill';","title":"JavaScript \u73af\u5883\u8981\u6c42"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#react","text":"","title":"React \u672f\u8bed\u8868"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#es6-es2015-es2016","text":"\u8fd9\u4e9b\u7f29\u7565\u8bcd\u90fd\u662f\u6307\u6700\u65b0\u7248\u672c\u7684ECMAScript\u8bed\u8a00\u89c4\u8303\u6807\u51c6\uff0c\u800cJavaScript\u8bed\u8a00\u662f\u5b83\u4eec\u7684\u4e00\u4e2a\u5b9e\u73b0\u3002ES6\u7248\u672c\uff08\u4e5f\u88ab\u79f0\u4e3aES2015\uff09\u5305\u62ec\u8bb8\u591a\u65b0\u7279\u6027\uff0c\u5982\uff1a\u7bad\u5934\u51fd\u6570\u3001\u7c7b(class)\u3001\u6a21\u677f\u5b57\u9762\u91cf\u3001 let \u548c const \u53d8\u91cf\u58f0\u660e\u7b49\u3002\u4f60\u53ef\u4ee5\u5728 \u8fd9\u91cc \u4e86\u89e3\u66f4\u591a\u7248\u672c\u65b0\u7279\u6027\u3002","title":"ES6, ES2015, ES2016\u7b49"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#compilers","text":"JavaScript\u7f16\u8bd1\u5668\u7528\u4e8e\u8f6c\u6362JavaScript\u4ee3\u7801\uff0c\u5e76\u7528\u5176\u5b83\u683c\u5f0f\u8fd4\u56deJavaScript\u4ee3\u7801\u3002\u6700\u5e38\u89c1\u7684\u7528\u4f8b\u662f\u91c7\u7528ES6\u8bed\u6cd5\u7f16\u5199\u4ee3\u7801\u5e76\u5c06\u5176\u8f6c\u6362\u4e3a\u65e7\u7248\u6d4f\u89c8\u5668\u80fd\u591f\u8bc6\u522b\u7684\u8bed\u6cd5\u3002 React\u6700\u5e38\u7528\u7684\u7f16\u8bd1\u5668\u662f Babel \u3002","title":"\u7f16\u8bd1\u5668 Compilers"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#bundlers","text":"\u5f00\u53d1\u4e2d\u5c06JavaScript\u548cCSS\u4ee3\u7801\u7f16\u5199\u4e3a\u5355\u72ec\u7684\u6a21\u5757\uff08\u901a\u5e38\u4e3a\u6570\u767e\u4e2a\uff09\uff0c\u6253\u5305\u5de5\u5177\u4f1a\u9488\u5bf9\u6d4f\u89c8\u5668\u5c06\u5b83\u4eec\u7ec4\u5408\u5e76\u4f18\u5316\u4e3a\u51e0\u4e2a\u6587\u4ef6\u3002 Webpack \u548c Browserify \u662f\u5728React\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5e38\u7528\u7684\u6253\u5305\u5de5\u5177\u3002","title":"\u6253\u5305\u5de5\u5177 Bundlers"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#elements","text":"React\u5143\u7d20\u662fReact\u5e94\u7528\u7a0b\u5e8f\u7684\u6700\u5c0f\u5355\u4f4d\u3002\u521d\u5b66\u8005\u5f88\u53ef\u80fd\u628a\u5143\u7d20\u7684\u5b9a\u4e49\u548c\u5b9a\u4e49\u5185\u6db5\u66f4\u5e7f\u7684\u201c\u7ec4\u4ef6\u201d\u7ed9\u641e\u6df7\u4e86\u3002\u5143\u7d20\u7528\u6765\u63cf\u8ff0\u754c\u9762\u4e0a\u7684\u4efb\u4f55\u4e1c\u897f\u3002 React \u5143\u7d20\u90fd\u662fimmutable\u4e0d\u53ef\u53d8\u7684\u3002 const element = <h1>Hello, world</h1>; \u901a\u5e38\u4e0d\u76f4\u63a5\u4f7f\u7528\u5143\u7d20\uff0c\u800c\u662f\u4ece\u7ec4\u4ef6\u8fd4\u56de\u3002","title":"\u5143\u7d20 Elements"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#components_1","text":"React\u7ec4\u4ef6\u662f\u5c0f\u7684\uff0c\u53ef\u590d\u7528\u7684\u4ee3\u7801\u7247\u6bb5\uff0c\u5b83\u8fd4\u56de\u4e00\u4e2aReact\u5143\u7d20\u7528\u4e8e\u6e32\u67d3\u9875\u9762\u3002 \u5b9a\u4e49\u4e00\u4e2a\u7ec4\u4ef6\u6700\u7b80\u5355\u7684\u65b9\u5f0f\u662f\u4f7f\u7528JavaScript\u51fd\u6570\uff0c\u5b83\u8fd4\u56de\u4e00\u4e2aReact\u5143\u7d20\uff1a function Welcome(props) { return <h1>Hello, {props.name}</h1>; } \u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 ES6 class \u6765\u5b9a\u4e49\u4e00\u4e2a\u7ec4\u4ef6: class Welcome extends React.Component { render() { return <h1>Hello, {this.props.name}</h1>; } } \u7ec4\u4ef6\u53ef\u4ee5\u6309\u7167\u529f\u80fd\u5206\u89e3\u6210\u4e0d\u540c\u7684\u90e8\u4ef6\uff0c\u5e76\u5728\u5176\u4ed6\u7ec4\u4ef6\u4e2d\u4f7f\u7528\u3002\u7ec4\u4ef6\u53ef\u4ee5\u8fd4\u56de\u5176\u4ed6\u7ec4\u4ef6\uff0c\u6570\u7ec4\uff0c\u5b57\u7b26\u4e32\u6216\u6570\u5b57\u3002\u5f53\u4f60\u7684UI\u4e2d\u6709\u4e00\u90e8\u5206\u91cd\u590d\u4f7f\u7528\u4e86\u597d\u51e0\u6b21\uff08\u6bd4\u5982\uff0cButton\u3001Panel\u3001Avatar\uff09\uff0c\u6216\u8005\u5176\u81ea\u8eab\u5c31\u8db3\u591f\u590d\u6742\uff08\u6bd4\u5982\uff0cApp\u3001FeedStory\u3001Comment\uff09\uff0c\u7c7b\u4f3c\u8fd9\u4e9b\u90fd\u662f\u62bd\u8c61\u6210\u4e00\u4e2a\u53ef\u590d\u7528\u7ec4\u4ef6\u7684\u7edd\u4f73\u9009\u62e9\uff0c\u8fd9\u4e5f\u662f\u4e00\u4e2a\u6bd4\u8f83\u597d\u7684\u505a\u6cd5\u3002 \u7ec4\u4ef6\u540d\u79f0\u5e94\u59cb\u7ec8\u4ee5\u5927\u5199\u5b57\u6bcd\u5f00\u5934 ( <Wrapper/> \u800c\u4e0d\u662f <wrapper/> )\u3002\u53c2\u89c1 \u8fd9\u91cc \u83b7\u53d6\u66f4\u591a\u6709\u5173\u6e32\u67d3\u7ec4\u4ef6\u7684\u4fe1\u606f\u3002","title":"\u7ec4\u4ef6 Components"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#props_1","text":"props \u662fReact\u7ec4\u4ef6\u7684\u8f93\u5165\u5185\u5bb9\u3002 \u5b83\u4eec\u662f\u4ece\u7236\u7ec4\u4ef6\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\u7684\u6570\u636e\u3002 \u8bf7\u8bb0\u4f4f\uff0c props \u662f\u53ea\u8bfb\u7684\u3002 \u4e0d\u5e94\u8be5\u4ee5\u4efb\u4f55\u65b9\u5f0f\u4fee\u6539\u5b83\u4eec\uff1a // \u9519\u8bef! props.number = 42; \u5982\u679c\u4f60\u9700\u8981\u4fee\u6539\u67d0\u4e9b\u503c\u4ee5\u54cd\u5e94\u7528\u6237\u8f93\u5165\u6216\u7f51\u7edc\u54cd\u5e94\uff0c\u8bf7\u4f7f\u7528 state \u3002","title":"props"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#propschildren","text":"props.children \u5728\u6bcf\u4e2a\u7ec4\u4ef6\u4e0a\u90fd\u53ef\u7528\u3002 \u5b83\u4f1a\u5305\u542b\u7ec4\u4ef6\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u6807\u8bb0\u4e4b\u95f4\u7684\u5185\u5bb9\u3002 \u4f8b\u5982\uff1a <Welcome>Hello world!</Welcome> \u5728 Welcome \u7ec4\u4ef6\u4e2d\u7684 props.children \u4e2d\u53ef\u4ee5\u83b7\u53d6\u5b57\u7b26\u4e32 Hello world\uff01 \uff1a function Welcome(props) { return <p>{props.children}</p>; } \u5b9a\u4e49\u6210\u7c7b\u7ec4\u4ef6\u65f6\uff0c\u4f7f\u7528 this.props.children \uff1a class Welcome extends React.Component { render() { return <p>{this.props.children}</p>; } }","title":"props.children"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_25","text":"\u5f53\u67d0\u4e2a\u7ec4\u4ef6\u4e0e\u5176\u5173\u8054\u7684\u67d0\u4e9b\u6570\u636e\u968f\u65f6\u95f4\u800c\u6539\u53d8\u65f6\uff0c\u7ec4\u4ef6\u4e2d\u9700\u8981\u4f7f\u7528 state \u3002\u4f8b\u5982\uff0c Checkbox \u7ec4\u4ef6\u4e2d\u7684\u72b6\u6001\u9700\u8981\u8f6c\u53d8\u4e3a isChecked \uff0c\u6216\u8005 NewsFeed \u7ec4\u4ef6\u53ef\u80fd\u5e0c\u671b\u8ffd\u8e2a\u5176\u72b6\u6001\u4e2d\u7684 fetchedPosts \u3002 state \u548c props \u4e4b\u95f4\u6700\u91cd\u8981\u7684\u533a\u522b\u662f props \u662f\u4ece\u7236\u7ec4\u4ef6\u4f20\u9012\u7684\uff0c\u800c state \u662f\u7531\u7ec4\u4ef6\u672c\u8eab\u7ba1\u7406\u7684\u3002\u7ec4\u4ef6\u4e0d\u80fd\u6539\u53d8\u5176 props \uff0c\u4f46\u53ef\u4ee5\u6539\u53d8 state \u3002 \u901a\u8fc7\u4f7f\u7528 this.setState() \u3002 \u53ea\u6709\u5b9a\u4e49\u4e3a\u7c7b\u7684\u7ec4\u4ef6\u624d\u53ef\u4ee5\u5177\u6709\u72b6\u6001\u3002 \u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u7279\u5b9a\u7684\u53d8\u5316\u6570\u636e\uff0c\u5e94\u8be5\u53ea\u6709\u4e00\u4e2a\u201c\u62e5\u6709\u201d\u5b83\u7684\u72b6\u6001\u7684\u7ec4\u4ef6\u3002\u4e0d\u8981\u5c1d\u8bd5\u540c\u6b65\u4e24\u4e2a\u4e0d\u540c\u7ec4\u4ef6\u7684\u72b6\u6001\u3002\u72b6\u6001\u5206\u4eab\u901a\u8fc7 \u72b6\u6001\u63d0\u5347 \u81f3\u6700\u8fd1\u7684\u7236\u7ec4\u4ef6\u6765\u5b8c\u6210\uff0c\u5e76\u901a\u8fc7 props \u4f20\u9012\u7ed9\u4ed6\u4eec\u3002","title":"\u72b6\u6001"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_26","text":"\u751f\u547d\u5468\u671f\u51fd\u6570\u662f\u5728\u7ec4\u4ef6\u7684\u4e0d\u540c\u9636\u6bb5\u53ef\u6267\u884c\u81ea\u5b9a\u4e49\u529f\u80fd\u7684\u94a9\u5b50\u3002\u5f53\u7ec4\u4ef6\u88ab\u521b\u5efa\u5e76\u63d2\u5165\u5230DOM\u4e2d\u65f6\uff0c\u53ef\u7528\u51fd\u6570( mounting )\uff0c\u7ec4\u4ef6\u66f4\u65b0\uff0c\u4ee5\u53ca\u4eceDOM\u5378\u8f7d\u6216\u79fb\u9664\u7ec4\u4ef6\u65f6\u53ef\u4ee5\u4f7f\u7528\u5bf9\u5e94\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\u3002","title":"\u751f\u547d\u5468\u671f\u51fd\u6570"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_27","text":"React\u6709\u4e24\u79cd\u4e0d\u540c\u7684\u65b9\u6cd5\u6765\u5904\u7406\u8868\u5355\u8f93\u5165\u3002 \u503c\u7531React\u63a7\u5236\u7684\u8f93\u5165\u8868\u5355\u5143\u7d20\u79f0\u4e3a*\u53d7\u63a7\u7ec4\u4ef6*\u3002\u5f53\u7528\u6237\u5c06\u6570\u636e\u8f93\u5165\u5230\u53d7\u63a7\u7ec4\u4ef6\u4e2d\u65f6\uff0c\u4f1a\u89e6\u53d1\u72b6\u6001\u6539\u53d8\u7684\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff0c\u5e76\u4e14\u4f60\u7684\u4ee3\u7801\u5c06\u51b3\u5b9a\u8f93\u5165\u662f\u5426\u6709\u6548\uff08\u4f7f\u7528\u66f4\u65b0\u7684\u503c\u91cd\u65b0\u6e32\u67d3\uff09\u3002\u5982\u679c\u4f60\u4e0d\u91cd\u65b0\u6e32\u67d3\uff0c\u90a3\u4e48\u8868\u5355\u5143\u7d20\u5c06\u4fdd\u6301\u4e0d\u53d8\u3002 *\u975e\u53d7\u63a7\u5236\u7ec4\u4ef6*\u7684\u8868\u5355\u5143\u7d20\u5728React\u4e4b\u5916\u5de5\u4f5c\u3002\u5f53\u7528\u6237\u5c06\u6570\u636e\u8f93\u5165\u5230\u8868\u5355\u57df\uff08\u8f93\u5165\u6846\uff0c\u4e0b\u62c9\u83dc\u5355\u7b49\uff09\u65f6\uff0c\u4e0d\u9700\u8981React\u505a\u4efb\u4f55\u4e8b\u60c5\uff0c\u66f4\u65b0\u7684\u6570\u636e\u5c31\u4f1a\u88ab\u5448\u73b0\u51fa\u6765\u3002\u8fd9\u4e5f\u610f\u5473\u7740\u4f60\u4e0d\u80fd\u5f3a\u8feb\u8868\u5355\u57df\u90fd\u6709\u4e00\u4e2a\u786e\u5b9a\u7684\u503c\u3002 \u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528\u53d7\u63a7\u7ec4\u4ef6\u3002","title":"\u53d7\u63a7 &amp; \u975e\u53d7\u63a7\u7ec4\u4ef6"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_28","text":"\u201c\u952e\u503c\u201d\u662f\u521b\u5efa\u5143\u7d20\u6570\u7ec4\u65f6\u9700\u8981\u5305\u542b\u7684\u7279\u6b8a\u5b57\u7b26\u4e32\u5c5e\u6027\u3002\u952e\u503c\u53ef\u4ee5\u5e2e\u52a9React\u8bc6\u522b\u54ea\u4e9b\u5143\u7d20\u88ab\u66f4\u6539\uff0c\u6dfb\u52a0\u6216\u5220\u9664\u3002\u56e0\u6b64\u4f60\u5e94\u5f53\u7ed9\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u8d4b\u4e88\u4e00\u4e2a\u786e\u5b9a\u7684\u6807\u8bc6\u3002 \u786e\u5b9a\u7684\u6807\u8bc6\u952e\u503c\u5bf9\u4e8e\u91cd\u65b0\u6e32\u67d3\u5f88\u91cd\u8981\uff0c\u8fd9\u6837React\u624d\u53ef\u4ee5\u786e\u5b9a\u4f55\u65f6\u6dfb\u52a0\uff0c\u5220\u9664\u6216\u91cd\u65b0\u6392\u5e8f\u5143\u7d20\u3002\u4e0d\u8981\u628a\u7c7b\u4f3c\u7531 Math.random() \u751f\u6210\u7684\u503c\u8d4b\u7ed9\u952e\u503c\u3002\u5728\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u952e\u503c\u5e94\u8be5\u5bf9\u5e94\u4e8e\u6765\u81ea\u6570\u636e\u7684\u552f\u4e00\u4e14\u7a33\u5b9a\u7684\u6807\u8bc6\u7b26\uff0c\u4f8b\u5982 post.id \u3002","title":"\u952e\u503c"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#refs","text":"React\u652f\u6301\u4e00\u4e2a\u53ef\u4ee5\u9644\u52a0\u5230\u4efb\u4f55\u7ec4\u4ef6\u7684\u7279\u6b8a\u5c5e\u6027 ref \u3002 ref \u5c5e\u6027\u53ef\u4ee5\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u6216\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u3002\u5f53 ref \u5c5e\u6027\u662f\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u65f6\uff0c\u51fd\u6570\u63a5\u6536\u5e95\u5c42DOM\u5143\u7d20\u6216\u7c7b\u5b9e\u4f8b\uff08\u53d6\u51b3\u4e8e\u5143\u7d20\u7684\u7c7b\u578b\uff09\u4f5c\u4e3a\u53c2\u6570\u3002\u8fd9\u4f7f\u4f60\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95eeDOM\u5143\u7d20\u6216\u7ec4\u4ef6\u5b9e\u4f8b\u3002 \u4e0d\u8981\u8fc7\u5ea6\u4f7f\u7528 Refs\u3002\u5982\u679c\u4f60\u53d1\u73b0\u81ea\u5df1\u7ecf\u5e38\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528refs\u6765\u201c\u641e\u4e8b\u60c5\u201d\uff0c\u8bf7\u8003\u8651\u4f7f\u7528 \u72b6\u6001\u63d0\u5347 \u3002","title":"Refs"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_29","text":"React\u5143\u7d20\u7684\u4e8b\u4ef6\u5904\u7406\u548cDOM\u5143\u7d20\u7684\u5f88\u76f8\u4f3c\u3002\u4f46\u662f\u6709\u4e00\u70b9\u8bed\u6cd5\u4e0a\u7684\u4e0d\u540c: React\u4e8b\u4ef6\u7ed1\u5b9a\u5c5e\u6027\u7684\u547d\u540d\u91c7\u7528\u9a7c\u5cf0\u5f0f\u5199\u6cd5\uff0c\u800c\u4e0d\u662f\u5c0f\u5199\u3002 \u5982\u679c\u91c7\u7528 JSX \u7684\u8bed\u6cd5\u4f60\u9700\u8981\u4f20\u5165\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32(DOM\u5143\u7d20\u7684\u5199\u6cd5)","title":"\u4e8b\u4ef6"},{"location":"react/React-%E9%AB%98%E9%98%B6API/#_30","text":"\u5f53\u4e00\u4e2a\u7ec4\u4ef6\u7684props\u6216\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6\uff0cReact\u901a\u8fc7\u6bd4\u8f83\u65b0\u8fd4\u56de\u7684\u5143\u7d20\u548c\u5148\u524d\u6e32\u67d3\u7684\u5143\u7d20\u6765\u51b3\u5b9a\u662f\u5426\u9700\u8981\u5b9e\u9645\u7684DOM\u66f4\u65b0\u3002\u5f53\u5b83\u4eec\u4e0d\u76f8\u7b49\u65f6\uff0cReact\u5c06\u66f4\u65b0DOM\u3002 \u8fd9\u4e2a\u8fc7\u7a0b\u88ab\u79f0\u4e3a\u201c\u534f\u8c03\u201d\u3002","title":"\u534f\u8c03"},{"location":"react/React.Children%E7%9A%84API/","text":"React.Children \u8be6\u89e3 \u00b6 React.Children\u63d0\u4f9b\u4e86\u5904\u7406 this.props.children \u7684 API\uff0cthis.props.children \u652f\u6301\u4efb\u4f55\u6570\u636e\uff08\u7ec4\u4ef6\u3001\u5b57\u7b26\u4e32\u3001\u51fd\u6570\u7b49\u7b49\uff09\u3002React.children\u67095\u4e2a\u65b9\u6cd5\uff1aReact.Children.map()\uff0cReact.Children.forEach()\u3001React.Children.count()\u3001React.Children.only()\u3001React.Children.toArray()\uff0c\u901a\u5e38\u4e0eReact.cloneElement()\u7ed3\u5408\u4f7f\u7528\u6765\u64cd\u4f5cthis.props.children\u3002 React.Children.map() \u00b6 React.Children.map()\u6709\u4e9b\u7c7b\u4f3cArray.prototype.map()\u3002\u5982\u679cchildren\u662f\u6570\u7ec4\uff0c\u5219\u6b64\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5982\u679c\u662fnull \u6216 undefined \u5219\u8fd4\u56denull\u6216undefined\u3002\u7b2c\u4e00\u53c2\u6570\u662fchildren\uff0c\u5373\u793a\u4f8b\u4e2d\u7684Father\u7ec4\u4ef6\u91cc\u7684 'hello world!' \u548c () => <p>2333</p> \u51fd\u6570\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662ffucntion\uff0cfunction\u7684\u53c2\u6570\u7b2c\u4e00\u4e2a\u662f\u904d\u5386\u7684\u6bcf\u4e00\u9879\uff0c\u7b2c\u4e8c\u4e2a\u662f\u5bf9\u5e94\u7684\u7d22\u5f15\u3002 function Father({children}) { return( <div> {React.Children.map(children, (child, index) => { ... })} </div> ) } <Father> hello world! {() => <p>2333</p>} </Father> React.Children.forEach() \u00b6 \u8ddfReact.Children.map()\u4e00\u6837\uff0c\u533a\u522b\u5728\u4e8e\u65e0\u8fd4\u56de\u3002 React.Children.count() \u00b6 React.Children.count()\u7528\u6765\u8ba1\u6570\uff0c\u8fd4\u56dechild\u4e2a\u6570\u3002\u4e0d\u8981\u7528children.length\u6765\u8ba1\u6570\uff0c\u5982\u679cFather\u7ec4\u4ef6\u91cc\u53ea\u6709'hello world!'\u4f1a\u8fd4\u56de12\uff0c\u663e\u7136\u662f\u9519\u8bef\u7684\u7ed3\u679c\u3002 function Father({children}) { return( <div> {React.Children.count(children)} </div> ) } <Father> hello world! {() => <p>2333</p>} </Father> React.Children.only() \u00b6 \u9a8c\u8bc1children\u91cc\u53ea\u6709\u552f\u4e00\u7684\u5b69\u5b50\u5e76\u8fd4\u56de\u4ed6\u3002\u5426\u5219\u8fd9\u4e2a\u65b9\u6cd5\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002 function Father({children}) { return( <div> {React.Children.only(children)} </div> ) } <Father> hello world! </Father> React.Children.toArray() \u00b6 \u5c06children\u8f6c\u6362\u6210Array\uff0c\u5bf9children\u6392\u5e8f\u65f6\u9700\u8981\u4f7f\u7528 function Father({children}) { let children1 = React.Children.toArray(children); return( <div> {children1.sort().join(' ')} </div> ) } <Father> {'ccc'} {'aaa'} {'bbb'} </Father> //\u6e32\u67d3\u7ed3\u679c\uff1a aaa bbb ccc \u5982\u679c\u4e0d\u7528React.Children.toArray()\u65b9\u6cd5\uff0c\u76f4\u63a5\u5199children.sort()\u5c31\u4f1a\u62a5\u9519 Example\uff1a \u4f8b\u5982\u6709\u8fd9\u6837\u7684\u9700\u6c42\uff0c\u5b8c\u6210\u4e00\u4e2a\u64cd\u4f5c\u9700\u89813\u4e2a\u6b65\u9aa4\uff0c\u6bcf\u5b8c\u6210\u4e00\u4e2a\u6b65\u9aa4\uff0c\u5bf9\u5e94\u7684\u6307\u793a\u706f\u5c31\u4f1a\u70b9\u4eae\u3002 index.jsx import * as React from 'react'; import * as ReactDOM from 'react-dom'; import {Steps, Step} from './Steps'; function App() { return ( <div> <Steps currentStep={1}> //\u5b8c\u6210\u76f8\u5e94\u7684\u6b65\u9aa4\uff0c\u6539\u53d8currentStep\u7684\u503c\u3002\u5982\uff0c\u5b8c\u6210\u7b2c\u4e00\u6b65currentStep\u8d4b\u503c\u4e3a1\uff0c\u5b8c\u6210\u7b2c\u4e8c\u90e8\u8d4b\u503c\u4e3a2 <Step /> <Step /> <Step /> </Steps> </div> ); } ReactDOM.render(<App />, document.getElementById('root')); Steps.jsx import * as React from 'react'; import './step.less'; function Steps({currentStep, children}) { return ( <div> {React.Children.map(children, (child, index) => { return React.cloneElement(child, { index: index, currentStep: currentStep }); })} </div> ); } function Step({index, currentStep}: any) { return <div className={`indicator${currentStep >= index + 1 ? ' active' : ''}`} />; } export {Steps, Step}; steps.less . indicator { display : inline-block ; width : 100 px ; height : 20 px ; margin-right : 10 px ; margin-top : 200 px ; background : #f3f3f3 ; &.active { background : orange ; }","title":"React.Children\u7684API.md"},{"location":"react/React.Children%E7%9A%84API/#reactchildren","text":"React.Children\u63d0\u4f9b\u4e86\u5904\u7406 this.props.children \u7684 API\uff0cthis.props.children \u652f\u6301\u4efb\u4f55\u6570\u636e\uff08\u7ec4\u4ef6\u3001\u5b57\u7b26\u4e32\u3001\u51fd\u6570\u7b49\u7b49\uff09\u3002React.children\u67095\u4e2a\u65b9\u6cd5\uff1aReact.Children.map()\uff0cReact.Children.forEach()\u3001React.Children.count()\u3001React.Children.only()\u3001React.Children.toArray()\uff0c\u901a\u5e38\u4e0eReact.cloneElement()\u7ed3\u5408\u4f7f\u7528\u6765\u64cd\u4f5cthis.props.children\u3002","title":"React.Children \u8be6\u89e3"},{"location":"react/React.Children%E7%9A%84API/#reactchildrenmap","text":"React.Children.map()\u6709\u4e9b\u7c7b\u4f3cArray.prototype.map()\u3002\u5982\u679cchildren\u662f\u6570\u7ec4\uff0c\u5219\u6b64\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5982\u679c\u662fnull \u6216 undefined \u5219\u8fd4\u56denull\u6216undefined\u3002\u7b2c\u4e00\u53c2\u6570\u662fchildren\uff0c\u5373\u793a\u4f8b\u4e2d\u7684Father\u7ec4\u4ef6\u91cc\u7684 'hello world!' \u548c () => <p>2333</p> \u51fd\u6570\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662ffucntion\uff0cfunction\u7684\u53c2\u6570\u7b2c\u4e00\u4e2a\u662f\u904d\u5386\u7684\u6bcf\u4e00\u9879\uff0c\u7b2c\u4e8c\u4e2a\u662f\u5bf9\u5e94\u7684\u7d22\u5f15\u3002 function Father({children}) { return( <div> {React.Children.map(children, (child, index) => { ... })} </div> ) } <Father> hello world! {() => <p>2333</p>} </Father>","title":"React.Children.map()"},{"location":"react/React.Children%E7%9A%84API/#reactchildrenforeach","text":"\u8ddfReact.Children.map()\u4e00\u6837\uff0c\u533a\u522b\u5728\u4e8e\u65e0\u8fd4\u56de\u3002","title":"React.Children.forEach()"},{"location":"react/React.Children%E7%9A%84API/#reactchildrencount","text":"React.Children.count()\u7528\u6765\u8ba1\u6570\uff0c\u8fd4\u56dechild\u4e2a\u6570\u3002\u4e0d\u8981\u7528children.length\u6765\u8ba1\u6570\uff0c\u5982\u679cFather\u7ec4\u4ef6\u91cc\u53ea\u6709'hello world!'\u4f1a\u8fd4\u56de12\uff0c\u663e\u7136\u662f\u9519\u8bef\u7684\u7ed3\u679c\u3002 function Father({children}) { return( <div> {React.Children.count(children)} </div> ) } <Father> hello world! {() => <p>2333</p>} </Father>","title":"React.Children.count()"},{"location":"react/React.Children%E7%9A%84API/#reactchildrenonly","text":"\u9a8c\u8bc1children\u91cc\u53ea\u6709\u552f\u4e00\u7684\u5b69\u5b50\u5e76\u8fd4\u56de\u4ed6\u3002\u5426\u5219\u8fd9\u4e2a\u65b9\u6cd5\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002 function Father({children}) { return( <div> {React.Children.only(children)} </div> ) } <Father> hello world! </Father>","title":"React.Children.only()"},{"location":"react/React.Children%E7%9A%84API/#reactchildrentoarray","text":"\u5c06children\u8f6c\u6362\u6210Array\uff0c\u5bf9children\u6392\u5e8f\u65f6\u9700\u8981\u4f7f\u7528 function Father({children}) { let children1 = React.Children.toArray(children); return( <div> {children1.sort().join(' ')} </div> ) } <Father> {'ccc'} {'aaa'} {'bbb'} </Father> //\u6e32\u67d3\u7ed3\u679c\uff1a aaa bbb ccc \u5982\u679c\u4e0d\u7528React.Children.toArray()\u65b9\u6cd5\uff0c\u76f4\u63a5\u5199children.sort()\u5c31\u4f1a\u62a5\u9519 Example\uff1a \u4f8b\u5982\u6709\u8fd9\u6837\u7684\u9700\u6c42\uff0c\u5b8c\u6210\u4e00\u4e2a\u64cd\u4f5c\u9700\u89813\u4e2a\u6b65\u9aa4\uff0c\u6bcf\u5b8c\u6210\u4e00\u4e2a\u6b65\u9aa4\uff0c\u5bf9\u5e94\u7684\u6307\u793a\u706f\u5c31\u4f1a\u70b9\u4eae\u3002 index.jsx import * as React from 'react'; import * as ReactDOM from 'react-dom'; import {Steps, Step} from './Steps'; function App() { return ( <div> <Steps currentStep={1}> //\u5b8c\u6210\u76f8\u5e94\u7684\u6b65\u9aa4\uff0c\u6539\u53d8currentStep\u7684\u503c\u3002\u5982\uff0c\u5b8c\u6210\u7b2c\u4e00\u6b65currentStep\u8d4b\u503c\u4e3a1\uff0c\u5b8c\u6210\u7b2c\u4e8c\u90e8\u8d4b\u503c\u4e3a2 <Step /> <Step /> <Step /> </Steps> </div> ); } ReactDOM.render(<App />, document.getElementById('root')); Steps.jsx import * as React from 'react'; import './step.less'; function Steps({currentStep, children}) { return ( <div> {React.Children.map(children, (child, index) => { return React.cloneElement(child, { index: index, currentStep: currentStep }); })} </div> ); } function Step({index, currentStep}: any) { return <div className={`indicator${currentStep >= index + 1 ? ' active' : ''}`} />; } export {Steps, Step}; steps.less . indicator { display : inline-block ; width : 100 px ; height : 20 px ; margin-right : 10 px ; margin-top : 200 px ; background : #f3f3f3 ; &.active { background : orange ; }","title":"React.Children.toArray()"},{"location":"react/React.Component/","text":"React.Component \u00b6 \u7ec4\u4ef6 \u80fd\u591f\u8ba9\u4f60\u5c06UI\u5206\u5272\u6210\u72ec\u7acb\u7684\u3001\u53ef\u91cd\u7528\u7684\u90e8\u5206\uff0c\u5e76\u5bf9\u6bcf\u4e00\u90e8\u5206\u5355\u72ec\u8003\u91cf\u3002 React \u63d0\u4f9b\u4e86 React.Component \u3002 \u6982\u89c8 \u00b6 React.Component \u662f\u4e00\u4e2a\u62bd\u8c61\u57fa\u7840\u7c7b\uff0c\u56e0\u6b64\u76f4\u63a5\u5f15\u7528 React.Component \u51e0\u4e4e\u6ca1\u610f\u4e49\u3002\u76f8\u53cd\uff0c\u4f60\u901a\u5e38\u4f1a\u7ee7\u627f\u81ea\u5b83\uff0c\u5e76\u81f3\u5c11\u5b9a\u4e49\u4e00\u4e2a render() \u65b9\u6cd5\u3002 \u901a\u5e38\u4f60\u5b9a\u4e49\u4e00\u4e2aReact\u7ec4\u4ef6\u76f8\u5f53\u4e8e\u4e00\u4e2a\u7eaf JavaScript\u7c7b \uff1a class Greeting extends React.Component { render() { return <h1>Hello, {this.props.name}</h1>; } } \u82e5\u4f60\u4ecd\u672a\u4f7f\u7528 ES6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 create-react-class \u6a21\u5757\u3002 \u7ec4\u4ef6\u751f\u547d\u5468\u671f \u00b6 \u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u90fd\u6709\u51e0\u4e2a\u4f60\u53ef\u4ee5\u91cd\u5199\u4ee5\u8ba9\u4ee3\u7801\u5728\u5904\u7406\u73af\u8282\u7684\u7279\u5b9a\u65f6\u671f\u8fd0\u884c\u7684\u201c\u751f\u547d\u5468\u671f\u65b9\u6cd5\u201d\u3002\u65b9\u6cd5\u4e2d\u5e26\u6709\u524d\u7f00 will \u7684\u5728\u7279\u5b9a\u73af\u8282\u4e4b\u524d\u88ab\u8c03\u7528\uff0c\u800c\u5e26\u6709\u524d\u7f00 did \u7684\u65b9\u6cd5\u5219\u4f1a\u5728\u7279\u5b9a\u73af\u8282\u4e4b\u540e\u88ab\u8c03\u7528\u3002 \u88c5\u914d \u00b6 \u8fd9\u4e9b\u65b9\u6cd5\u4f1a\u5728\u7ec4\u4ef6\u5b9e\u4f8b\u88ab\u521b\u5efa\u548c\u63d2\u5165DOM\u4e2d\u65f6\u88ab\u8c03\u7528\uff1a constructor() static getDerivedStateFromProps() componentWillMount() / UNSAFE_componentWillMount() render() componentDidMount() \u66f4\u65b0 \u00b6 \u5c5e\u6027\u6216\u72b6\u6001\u7684\u6539\u53d8\u4f1a\u89e6\u53d1\u4e00\u6b21\u66f4\u65b0\u3002\u5f53\u4e00\u4e2a\u7ec4\u4ef6\u5728\u88ab\u91cd\u6e32\u65f6\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u5c06\u4f1a\u88ab\u8c03\u7528\uff1a componentWillReceiveProps() / UNSAFE_componentWillReceiveProps() static getDerivedStateFromProps() shouldComponentUpdate() componentWillUpdate() / UNSAFE_componentWillUpdate() render() getSnapshotBeforeUpdate() componentDidUpdate() \u5378\u8f7d \u00b6 \u5f53\u4e00\u4e2a\u7ec4\u4ef6\u88ab\u4eceDOM\u4e2d\u79fb\u9664\u65f6\uff0c\u8be5\u65b9\u6cd5\u88ab\u8c03\u7528\uff1a componentWillUnmount() \u9519\u8bef\u5904\u7406 \u00b6 \u5728\u6e32\u67d3\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef\u65f6\u4f1a\u88ab\u8c03\u7528\uff1a componentDidCatch() \u5176\u4ed6API \u00b6 \u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u8fd8\u63d0\u4f9b\u4e86\u5176\u4ed6\u7684API\uff1a setState() forceUpdate() \u7c7b\u5c5e\u6027 \u00b6 defaultProps displayName \u5b9e\u4f8b\u5c5e\u6027 \u00b6 props state \u53c2\u8003 \u00b6 render() \u00b6 render() render() \u65b9\u6cd5\u662f\u5fc5\u987b\u7684\u3002 \u5f53\u88ab\u8c03\u7528\u65f6\uff0c\u5176\u5e94\u8be5\u68c0\u67e5 this.props \u548c this.state \u5e76\u8fd4\u56de\u4ee5\u4e0b\u7c7b\u578b\u4e2d\u7684\u4e00\u4e2a: React\u5143\u7d20\u3002 \u901a\u5e38\u662f\u7531 JSX \u521b\u5efa\u3002\u8be5\u5143\u7d20\u53ef\u80fd\u662f\u4e00\u4e2a\u539f\u751fDOM\u7ec4\u4ef6\u7684\u8868\u793a\uff0c\u5982 <div /> \uff0c\u6216\u8005\u662f\u4e00\u4e2a\u4f60\u5b9a\u4e49\u7684\u5408\u6210\u7ec4\u4ef6\u3002 \u5b57\u7b26\u4e32\u548c\u6570\u5b57\u3002 \u8fd9\u4e9b\u5c06\u88ab\u6e32\u67d3\u4e3a DOM \u4e2d\u7684 text node\u3002 Portals\u3002 \u7531 ReactDOM.createPortal \u521b\u5efa\u3002 null \u3002 \u4ec0\u4e48\u90fd\u4e0d\u6e32\u67d3\u3002 \u5e03\u5c14\u503c\u3002 \u4ec0\u4e48\u90fd\u4e0d\u6e32\u67d3\u3002\uff08\u901a\u5e38\u5b58\u5728\u4e8e return test && <Child /> \u5199\u6cd5\uff0c\u5176\u4e2d test \u662f\u5e03\u5c14\u503c\u3002\uff09 \u5f53\u8fd4\u56de null \u6216 false \u65f6\uff0c ReactDOM.findDOMNode(this) \u5c06\u8fd4\u56de null \u3002 render() \u51fd\u6570\u5e94\u8be5\u7eaf\u51c0\uff0c\u610f\u5473\u7740\u5176\u4e0d\u5e94\u8be5\u6539\u53d8\u7ec4\u4ef6\u7684\u72b6\u6001\uff0c\u5176\u6bcf\u6b21\u8c03\u7528\u90fd\u5e94\u8fd4\u56de\u76f8\u540c\u7684\u7ed3\u679c\uff0c\u540c\u65f6\u4e0d\u76f4\u63a5\u548c\u6d4f\u89c8\u5668\u4ea4\u4e92\u3002\u82e5\u9700\u8981\u548c\u6d4f\u89c8\u5668\u4ea4\u4e92\uff0c\u5c06\u4efb\u52a1\u653e\u5728 componentDidMount() \u9636\u6bb5\u6216\u5176\u4ed6\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u3002\u4fdd\u6301 render() \u65b9\u6cd5\u7eaf\u51c0\u4f7f\u5f97\u7ec4\u4ef6\u66f4\u5bb9\u6613\u601d\u8003\u3002 \u6ce8\u610f \u82e5 shouldComponentUpdate() \u8fd4\u56defalse\uff0c render() \u51fd\u6570\u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002 constructor() \u00b6 constructor(props) React\u7ec4\u4ef6\u7684\u6784\u9020\u51fd\u6570\u5c06\u4f1a\u5728\u88c5\u914d\u4e4b\u524d\u88ab\u8c03\u7528\u3002\u5f53\u4e3a\u4e00\u4e2a React.Component \u5b50\u7c7b\u5b9a\u4e49\u6784\u9020\u51fd\u6570\u65f6\uff0c\u4f60\u5e94\u8be5\u5728\u4efb\u4f55\u5176\u4ed6\u7684\u8868\u8fbe\u5f0f\u4e4b\u524d\u8c03\u7528 super(props) \u3002\u5426\u5219\uff0c this.props \u5728\u6784\u9020\u51fd\u6570\u4e2d\u5c06\u662f\u672a\u5b9a\u4e49\uff0c\u5e76\u53ef\u80fd\u5f15\u53d1\u5f02\u5e38\u3002 \u6784\u9020\u51fd\u6570\u662f\u521d\u59cb\u5316\u72b6\u6001\u7684\u5408\u9002\u4f4d\u7f6e\u3002\u82e5\u4f60\u4e0d\u521d\u59cb\u5316\u72b6\u6001\u4e14\u4e0d\u7ed1\u5b9a\u65b9\u6cd5\uff0c\u90a3\u4f60\u4e5f\u4e0d\u9700\u8981\u4e3a\u4f60\u7684React\u7ec4\u4ef6\u5b9a\u4e49\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u3002 \u53ef\u4ee5\u57fa\u4e8e\u5c5e\u6027\u6765\u521d\u59cb\u5316\u72b6\u6001\u3002\u8fd9\u6837\u6709\u6548\u5730\u201c\u5206\u79bb\uff08forks\uff09\u201d\u5c5e\u6027\u5e76\u6839\u636e\u521d\u59cb\u5c5e\u6027\u8bbe\u7f6e\u72b6\u6001\u3002\u8fd9\u6709\u4e00\u4e2a\u6709\u6548\u7684 React.Component \u5b50\u7c7b\u6784\u9020\u51fd\u6570\u7684\u4f8b\u5b50\uff1a constructor(props) { super(props); this.state = { color: props.initialColor }; } \u5f53\u5fc3\u8fd9\u79cd\u6a21\u5f0f\uff0c\u56e0\u4e3a\u72b6\u6001\u5c06\u4e0d\u4f1a\u968f\u7740\u5c5e\u6027\u7684\u66f4\u65b0\u800c\u66f4\u65b0\u3002\u4fdd\u8bc1\u5c5e\u6027\u548c\u72b6\u6001\u540c\u6b65\uff0c\u4f60\u901a\u5e38\u60f3\u8981 \u72b6\u6001\u63d0\u5347 \u3002 \u82e5\u4f60\u901a\u8fc7\u4f7f\u7528\u5b83\u4eec\u4e3a\u72b6\u6001\u201c\u5206\u79bb\u201d\u5c5e\u6027\uff0c\u4f60\u53ef\u80fd\u4e5f\u60f3\u8981\u5b9e\u73b0 UNSAFE_componentWillReceiveProps(nextProps) \u4ee5\u4fdd\u6301\u6700\u65b0\u7684\u72b6\u6001\u3002\u4f46\u72b6\u6001\u63d0\u5347\u901a\u5e38\u6765\u8bf4\u66f4\u5bb9\u6613\u4ee5\u53ca\u66f4\u5c11\u7684\u5f02\u5e38\u3002 static getDerivedStateFromProps() \u00b6 static getDerivedStateFromProps(nextProps, prevState) \u7ec4\u4ef6\u5b9e\u4f8b\u5316\u540e\u548c\u63a5\u53d7\u65b0\u5c5e\u6027\u65f6\u5c06\u4f1a\u8c03\u7528 getDerivedStateFromProps \u3002\u5b83\u5e94\u8be5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u6765\u66f4\u65b0\u72b6\u6001\uff0c\u6216\u8005\u8fd4\u56denull\u6765\u8868\u660e\u65b0\u5c5e\u6027\u4e0d\u9700\u8981\u66f4\u65b0\u4efb\u4f55\u72b6\u6001\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u7236\u7ec4\u4ef6\u5bfc\u81f4\u4e86\u7ec4\u4ef6\u7684\u91cd\u65b0\u6e32\u67d3\uff0c\u5373\u4f7f\u5c5e\u6027\u6ca1\u6709\u66f4\u65b0\uff0c\u8fd9\u4e00\u65b9\u6cd5\u4e5f\u4f1a\u88ab\u8c03\u7528\u3002\u5982\u679c\u4f60\u53ea\u60f3\u5904\u7406\u53d8\u5316\uff0c\u4f60\u53ef\u80fd\u60f3\u53bb\u6bd4\u8f83\u65b0\u65e7\u503c\u3002 \u8c03\u7528 this.setState() \u901a\u5e38\u4e0d\u4f1a\u89e6\u53d1 getDerivedStateFromProps() \u3002 UNSAFE_componentWillMount() \u00b6 UNSAFE_componentWillMount() UNSAFE_componentWillMount() \u5728\u88c5\u914d\u53d1\u751f\u524d\u88ab\u7acb\u523b\u8c03\u7528\u3002\u5176\u5728 render() \u4e4b\u524d\u88ab\u8c03\u7528\uff0c\u56e0\u6b64\u5728\u8fd9\u65b9\u6cd5\u91cc\u540c\u6b65\u5730\u8bbe\u7f6e\u72b6\u6001\u5c06\u4e0d\u4f1a\u89e6\u53d1\u91cd\u6e32\u3002 \u907f\u514d\u5728\u8be5\u65b9\u6cd5\u4e2d\u5f15\u5165\u4efb\u4f55\u7684\u526f\u4f5c\u7528\u6216\u8ba2\u9605\u3002\u5bf9\u4e8e\u8fd9\u4e9b\u4f7f\u7528\u573a\u666f\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528 constructor() \u6765\u66ff\u4ee3\u3002 \u8fd9\u662f\u552f\u4e00\u7684\u4f1a\u5728\u670d\u52a1\u7aef\u6e32\u67d3\u8c03\u8d77\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570\u3002 \u6ce8\u610f \u8fd9\u4e00\u751f\u547d\u5468\u671f\u4e4b\u524d\u53eb\u505a componentWillMount \u3002\u8fd9\u4e00\u540d\u5b57\u572817\u7248\u524d\u90fd\u6709\u6548\u3002\u53ef\u4ee5\u4f7f\u7528 rename-unsafe-lifecycles codemod \u6765\u81ea\u52a8\u66f4\u65b0\u4f60\u7684\u7ec4\u4ef6\u3002 componentDidMount() \u00b6 componentDidMount() componentDidMount() \u5728\u7ec4\u4ef6\u88ab\u88c5\u914d\u540e\u7acb\u5373\u8c03\u7528\u3002\u521d\u59cb\u5316\u4f7f\u5f97DOM\u8282\u70b9\u5e94\u8be5\u8fdb\u884c\u5230\u8fd9\u91cc\u3002\u82e5\u4f60\u9700\u8981\u4ece\u8fdc\u7aef\u52a0\u8f7d\u6570\u636e\uff0c\u8fd9\u662f\u4e00\u4e2a\u9002\u5408\u5b9e\u73b0\u7f51\u7edc\u8bf7\u6c42\u7684\u5730\u65b9\u3002\u5728\u8be5\u65b9\u6cd5\u91cc\u8bbe\u7f6e\u72b6\u6001\u5c06\u4f1a\u89e6\u53d1\u91cd\u6e32\u3002 \u8fd9\u4e00\u65b9\u6cd5\u662f\u4e00\u4e2a\u53d1\u8d77\u4efb\u4f55\u8ba2\u9605\u7684\u597d\u5730\u65b9\u3002\u5982\u679c\u4f60\u8fd9\u4e48\u505a\u4e86\uff0c\u522b\u5fd8\u4e86\u5728 componentWillUnmount() \u9000\u8ba2\u3002 \u5728\u8fd9\u4e2a\u65b9\u6cd5\u4e2d\u8c03\u7528 setState() \u5c06\u4f1a\u89e6\u53d1\u4e00\u6b21\u989d\u5916\u7684\u6e32\u67d3\uff0c\u4f46\u662f\u5b83\u5c06\u5728\u6d4f\u89c8\u5668\u5237\u65b0\u5c4f\u5e55\u4e4b\u524d\u53d1\u751f\u3002\u8fd9\u4fdd\u8bc1\u4e86\u5373\u4f7f render() \u5c06\u4f1a\u8c03\u7528\u4e24\u6b21\uff0c\u4f46\u7528\u6237\u4e0d\u4f1a\u770b\u5230\u4e2d\u95f4\u72b6\u6001\u3002\u8c28\u614e\u4f7f\u7528\u8fd9\u4e00\u6a21\u5f0f\uff0c\u56e0\u4e3a\u5b83\u5e38\u5bfc\u81f4\u6027\u80fd\u95ee\u9898\u3002\u7136\u800c\uff0c\u5b83\u5bf9\u4e8e\u50cf\u6a21\u6001\u6846\u548c\u5de5\u5177\u63d0\u793a\u6846\u8fd9\u6837\u7684\u4f8b\u5b50\u662f\u5fc5\u987b\u7684\u3002\u8fd9\u65f6\uff0c\u5728\u6e32\u67d3\u4f9d\u8d56DOM\u8282\u70b9\u7684\u5c3a\u5bf8\u6216\u8005\u4f4d\u7f6e\u7684\u89c6\u56fe\u524d\uff0c\u4f60\u9700\u8981\u5148\u6d4b\u91cf\u8fd9\u4e9b\u8282\u70b9\u3002 UNSAFE_componentWillReceiveProps() \u00b6 UNSAFE_componentWillReceiveProps(nextProps) \u6ce8\u610f \u63a8\u8350\u4f60\u4f7f\u7528 getDerivedStateFromProps \u751f\u547d\u5468\u671f\u800c\u4e0d\u662f UNSAFE_componentWillReceiveProps \u3002 UNSAFE_componentWillReceiveProps() \u5728\u88c5\u914d\u4e86\u7684\u7ec4\u4ef6\u63a5\u6536\u5230\u65b0\u5c5e\u6027\u524d\u8c03\u7528\u3002\u82e5\u4f60\u9700\u8981\u66f4\u65b0\u72b6\u6001\u54cd\u5e94\u5c5e\u6027\u6539\u53d8\uff08\u4f8b\u5982\uff0c\u91cd\u7f6e\u5b83\uff09\uff0c\u4f60\u53ef\u80fd\u9700\u5bf9\u6bd4 this.props \u548c nextProps \u5e76\u5728\u8be5\u65b9\u6cd5\u4e2d\u4f7f\u7528 this.setState() \u5904\u7406\u72b6\u6001\u6539\u53d8\u3002 \u6ce8\u610f\u5373\u4f7f\u5c5e\u6027\u672a\u6709\u4efb\u4f55\u6539\u53d8\uff0cReact\u53ef\u80fd\u4e5f\u4f1a\u8c03\u7528\u8be5\u65b9\u6cd5\uff0c\u56e0\u6b64\u82e5\u4f60\u60f3\u8981\u5904\u7406\u6539\u53d8\uff0c\u8bf7\u786e\u4fdd\u6bd4\u8f83\u5f53\u524d\u548c\u4e4b\u540e\u7684\u503c\u3002\u8fd9\u53ef\u80fd\u4f1a\u53d1\u751f\u5728\u5f53\u7236\u7ec4\u4ef6\u5f15\u8d77\u4f60\u7684\u7ec4\u4ef6\u91cd\u6e32\u3002 \u5728 \u88c5\u914d \u671f\u95f4\uff0cReact\u5e76\u4e0d\u4f1a\u8c03\u7528\u5e26\u6709\u521d\u59cb\u5c5e\u6027\u7684 UNSAFE_componentWillReceiveProps \u65b9\u6cd5\u3002\u5176\u4ec5\u4f1a\u8c03\u7528\u8be5\u65b9\u6cd5\u5982\u679c\u67d0\u4e9b\u7ec4\u4ef6\u7684\u5c5e\u6027\u53ef\u80fd\u66f4\u65b0\u3002\u8c03\u7528 this.setState \u901a\u5e38\u4e0d\u4f1a\u89e6\u53d1 UNSAFE_componentWillReceiveProps \u3002 \u6ce8\u610f \u8fd9\u4e00\u751f\u547d\u5468\u671f\u4e4b\u524d\u53eb\u505a componentWillReceiveProps \u3002\u8fd9\u4e00\u540d\u5b57\u572817\u7248\u524d\u90fd\u6709\u6548\u3002\u53ef\u4ee5\u4f7f\u7528 rename-unsafe-lifecycles codemod \u6765\u81ea\u52a8\u66f4\u65b0\u4f60\u7684\u7ec4\u4ef6\u3002 shouldComponentUpdate() \u00b6 shouldComponentUpdate(nextProps, nextState) \u4f7f\u7528 shouldComponentUpdate() \u4ee5\u8ba9React\u77e5\u9053\u5f53\u524d\u72b6\u6001\u6216\u5c5e\u6027\u7684\u6539\u53d8\u662f\u5426\u4e0d\u5f71\u54cd\u7ec4\u4ef6\u7684\u8f93\u51fa\u3002\u9ed8\u8ba4\u884c\u4e3a\u662f\u5728\u6bcf\u4e00\u6b21\u72b6\u6001\u7684\u6539\u53d8\u91cd\u6e32\uff0c\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u4f60\u5e94\u8be5\u4f9d\u8d56\u4e8e\u9ed8\u8ba4\u884c\u4e3a\u3002 \u5f53\u63a5\u6536\u5230\u65b0\u5c5e\u6027\u6216\u72b6\u6001\u65f6\uff0c shouldComponentUpdate() \u5728\u6e32\u67d3\u524d\u88ab\u8c03\u7528\u3002\u9ed8\u8ba4\u4e3a true \u3002\u8be5\u65b9\u6cd5\u5e76\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u6216\u5f53\u4f7f\u7528 forceUpdate() \u65f6\u88ab\u8c03\u7528\u3002 \u5f53\u4ed6\u4eec\u72b6\u6001\u6539\u53d8\u65f6\uff0c\u8fd4\u56de false \u5e76\u4e0d\u80fd\u963b\u6b62\u5b50\u7ec4\u4ef6\u91cd\u6e32\u3002 \u5f53\u524d\uff0c\u82e5 shouldComponentUpdate() \u8fd4\u56de false \uff0c\u800c\u540e UNSAFE_componentWillUpdate() \uff0c render() \uff0c \u548c componentDidUpdate() \u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002\u6ce8\u610f\uff0c\u5728\u672a\u6765React\u53ef\u80fd\u4f1a\u5c06 shouldComponentUpdate() \u4f5c\u4e3a\u4e00\u4e2a\u7ebf\u7d22\u800c\u4e0d\u662f\u4e00\u4e2a\u4e25\u683c\u6307\u4ee4\uff0c\u8fd4\u56de false \u53ef\u80fd\u4ecd\u7136\u4f7f\u5f97\u7ec4\u4ef6\u91cd\u6e32\u3002 \u5728\u89c2\u5bdf\u540e\uff0c\u82e5\u4f60\u5224\u5b9a\u4e00\u4e2a\u5177\u4f53\u7684\u7ec4\u4ef6\u5f88\u6162\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u8c03\u6574\u5176\u4ece React.PureComponent \u7ee7\u627f\uff0c\u5176\u5b9e\u73b0\u4e86\u5e26\u6709\u6d45\u5c5e\u6027\u548c\u72b6\u6001\u6bd4\u8f83\u7684 shouldComponentUpdate() \u3002\u82e5\u4f60\u786e\u4fe1\u60f3\u8981\u624b\u5199\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u7528 this.props \u548c nextProps \u4ee5\u53ca this.state \u548c nextState \u6bd4\u8f83\uff0c\u5e76\u8fd4\u56de false \u4ee5\u544a\u8bc9React\u66f4\u65b0\u53ef\u4ee5\u88ab\u5ffd\u7565\u3002 UNSAFE_componentWillUpdate() \u00b6 UNSAFE_componentWillUpdate(nextProps, nextState) \u5f53\u63a5\u6536\u5230\u65b0\u5c5e\u6027\u6216\u72b6\u6001\u65f6\uff0c UNSAFE_componentWillUpdate() \u4e3a\u5728\u6e32\u67d3\u524d\u88ab\u7acb\u5373\u8c03\u7528\u3002\u5728\u66f4\u65b0\u53d1\u751f\u524d\uff0c\u4f7f\u7528\u8be5\u65b9\u6cd5\u662f\u4e00\u6b21\u51c6\u5907\u673a\u4f1a\u3002\u8be5\u65b9\u6cd5\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u65f6\u8c03\u7528\u3002 \u6ce8\u610f\u4f60\u4e0d\u80fd\u5728\u8fd9\u8c03\u7528 this.setState() \uff0c\u82e5\u4f60\u9700\u8981\u66f4\u65b0\u72b6\u6001\u54cd\u5e94\u5c5e\u6027\u7684\u8c03\u6574\uff0c\u4f7f\u7528 getDerivedStateFromProps() \u4ee3\u66ff\u3002 \u6ce8\u610f \u8fd9\u4e00\u751f\u547d\u5468\u671f\u4e4b\u524d\u53eb\u505a componentWillUpdate \u3002\u8fd9\u4e00\u540d\u5b57\u572817\u7248\u524d\u90fd\u6709\u6548\u3002\u53ef\u4ee5\u4f7f\u7528 rename-unsafe-lifecycles codemod \u6765\u81ea\u52a8\u66f4\u65b0\u4f60\u7684\u7ec4\u4ef6\u3002 \u6ce8\u610f \u82e5 shouldComponentUpdate() \u8fd4\u56defalse\uff0c UNSAFE_componentWillUpdate() \u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002 getSnapshotBeforeUpdate() \u00b6 getSnapshotBeforeUpdate() \u5728\u6700\u65b0\u7684\u6e32\u67d3\u8f93\u51fa\u63d0\u4ea4\u7ed9DOM\u524d\u5c06\u4f1a\u7acb\u5373\u8c03\u7528\u3002\u5b83\u8ba9\u4f60\u7684\u7ec4\u4ef6\u80fd\u5728\u5f53\u524d\u7684\u503c\u53ef\u80fd\u8981\u6539\u53d8\u524d\u83b7\u5f97\u5b83\u4eec\u3002\u8fd9\u4e00\u751f\u547d\u5468\u671f\u8fd4\u56de\u7684\u4efb\u4f55\u503c\u5c06\u4f1a \u4f5c\u4e3a\u53c2\u6570\u88ab\u4f20\u9012\u7ed9 componentDidUpdate() \u3002 \u4f8b\u5982\uff1a class ScrollingList extends React.Component { listRef = React.createRef(); getSnapshotBeforeUpdate(prevProps, prevState) { // Are we adding new items to the list? // Capture the current height of the list so we can adjust scroll later. if (prevProps.list.length < this.props.list.length) { return this.listRef.current.scrollHeight; } return null; } componentDidUpdate(prevProps, prevState, snapshot) { // If we have a snapshot value, we've just added new items. // Adjust scroll so these new items don't push the old ones out of view. if (snapshot !== null) { this.listRef.current.scrollTop += this.listRef.current.scrollHeight - snapshot; } } render() { return ( <div ref={this.listRef}>{/* ...contents... */}</div> ); } } \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u4e3a\u4e86\u652f\u6301\u5f02\u6b65\u6e32\u67d3\uff0c\u5728 getSnapshotBeforeUpdate \u4e2d\u8bfb\u53d6 scrollHeight \u800c\u4e0d\u662f componentWillUpdate \uff0c\u8fd9\u70b9\u5f88\u91cd\u8981\u3002\u7531\u4e8e\u5f02\u6b65\u6e32\u67d3\uff0c\u5728\u201c\u6e32\u67d3\u201d\u65f6\u671f\uff08\u5982 componentWillUpdate \u548c render \uff09\u548c\u201c\u63d0\u4ea4\u201d\u65f6\u671f\uff08\u5982 getSnapshotBeforeUpdate \u548c componentDidUpdate \uff09\u95f4\u53ef\u80fd\u4f1a\u5b58\u5728\u5ef6\u8fdf\u3002\u5982\u679c\u4e00\u4e2a\u7528\u6237\u5728\u8fd9\u671f\u95f4\u505a\u4e86\u50cf\u6539\u53d8\u6d4f\u89c8\u5668\u5c3a\u5bf8\u7684\u4e8b\uff0c\u4ece componentWillUpdate \u4e2d\u8bfb\u51fa\u7684 scrollHeight \u503c\u5c06\u662f\u6ede\u540e\u7684\u3002 componentDidUpdate() \u00b6 componentDidUpdate(prevProps, prevState) componentDidUpdate() \u4f1a\u5728\u66f4\u65b0\u53d1\u751f\u540e\u7acb\u5373\u88ab\u8c03\u7528\u3002\u8be5\u65b9\u6cd5\u5e76\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u65f6\u8c03\u7528\u3002 \u5f53\u7ec4\u4ef6\u88ab\u66f4\u65b0\u65f6\uff0c\u4f7f\u7528\u8be5\u65b9\u6cd5\u662f\u64cd\u4f5cDOM\u7684\u4e00\u6b21\u673a\u4f1a\u3002\u8fd9\u4e5f\u662f\u4e00\u4e2a\u9002\u5408\u53d1\u9001\u8bf7\u6c42\u7684\u5730\u65b9\uff0c\u8981\u662f\u4f60\u5bf9\u6bd4\u4e86\u5f53\u524d\u5c5e\u6027\u548c\u4e4b\u524d\u5c5e\u6027\uff08\u4f8b\u5982\uff0c\u5982\u679c\u5c5e\u6027\u6ca1\u6709\u6539\u53d8\u90a3\u4e48\u8bf7\u6c42\u4e5f\u5c31\u6ca1\u5fc5\u8981\u4e86\uff09\u3002 \u6ce8\u610f \u82e5 shouldComponentUpdate() \u8fd4\u56defalse\uff0c componentDidUpdate() \u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002 componentWillUnmount() \u00b6 componentWillUnmount() componentWillUnmount() \u5728\u7ec4\u4ef6\u88ab\u5378\u8f7d\u548c\u9500\u6bc1\u4e4b\u524d\u7acb\u523b\u8c03\u7528\u3002\u53ef\u4ee5\u5728\u8be5\u65b9\u6cd5\u91cc\u5904\u7406\u4efb\u4f55\u5fc5\u8981\u7684\u6e05\u7406\u5de5\u4f5c\uff0c\u4f8b\u5982\u89e3\u7ed1\u5b9a\u65f6\u5668\uff0c\u53d6\u6d88\u7f51\u7edc\u8bf7\u6c42\uff0c\u6e05\u7406\u4efb\u4f55\u5728 componentDidMount \u73af\u8282\u521b\u5efa\u7684DOM\u5143\u7d20\u3002 componentDidCatch() \u00b6 componentDidCatch(error, info) \u9519\u8bef\u8fb9\u754c\u662fReact\u7ec4\u4ef6\uff0c\u5e76\u4e0d\u662f\u635f\u574f\u7684\u7ec4\u4ef6\u6811\u3002\u9519\u8bef\u8fb9\u754c\u6355\u6349\u53d1\u751f\u5728\u5b50\u7ec4\u4ef6\u6811\u4e2d\u4efb\u610f\u5730\u65b9\u7684JavaScript\u9519\u8bef\uff0c\u6253\u5370\u9519\u8bef\u65e5\u5fd7\uff0c\u5e76\u4e14\u663e\u793a\u56de\u9000\u7684\u7528\u6237\u754c\u9762\u3002\u9519\u8bef\u8fb9\u754c\u6355\u6349\u6e32\u67d3\u671f\u95f4\u3001\u5728\u751f\u547d\u5468\u671f\u65b9\u6cd5\u4e2d\u548c\u5728\u5b83\u4eec\u4e4b\u4e0b\u6574\u68f5\u6811\u7684\u6784\u9020\u51fd\u6570\u4e2d\u7684\u9519\u8bef\u3002 \u5982\u679c\u5b9a\u4e49\u4e86\u8fd9\u4e00\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u4e00\u4e2a\u7c7b\u7ec4\u4ef6\u5c06\u6210\u4e3a\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u3002\u5728\u9519\u8bef\u8fb9\u754c\u4e2d\u8c03\u7528 setState() \u8ba9\u4f60\u6355\u6349\u5f53\u524d\u6811\u4e4b\u4e0b\u672a\u5904\u7406\u7684JavaScript\u9519\u8bef\uff0c\u5e76\u663e\u793a\u56de\u9000\u7684\u7528\u6237\u754c\u9762\u3002\u53ea\u4f7f\u7528\u9519\u8bef\u8fb9\u754c\u6765\u6062\u590d\u5f02\u5e38\uff0c\u800c\u4e0d\u8981\u5c1d\u8bd5\u5c06\u5b83\u4eec\u7528\u4e8e\u63a7\u5236\u6d41\u3002 \u8be6\u60c5\u8bf7\u89c1 React 16\u4e2d\u7684\u9519\u8bef\u5904\u7406 \u3002 \u6ce8\u610f \u9519\u8bef\u8fb9\u754c\u53ea\u6355\u6349\u6811\u4e2d\u53d1\u751f\u5728\u5b83\u4eec**\u4e4b\u4e0b**\u7ec4\u4ef6\u91cc\u7684\u9519\u8bef\u3002\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u5e76\u4e0d\u80fd\u6355\u6349\u5b83\u81ea\u5df1\u5185\u90e8\u7684\u9519\u8bef\u3002 setState() \u00b6 setState(updater, [callback]) setState() \u5c06\u9700\u8981\u5904\u7406\u7684\u53d8\u5316\u585e\u5165\uff08\u8bd1\u8005\u6ce8\uff1asetState\u6e90\u7801\u4e2d\u5c06\u4e00\u4e2a\u9700\u8981\u6539\u53d8\u7684\u53d8\u5316\u5b58\u653e\u5230\u7ec4\u4ef6\u7684state\u5bf9\u8c61\u4e2d\uff0c\u91c7\u7528\u961f\u5217\u5904\u7406\uff09\u7ec4\u4ef6\u7684state\u5bf9\u8c61\u4e2d\uff0c \u5e76\u544a\u8bc9\u8be5\u7ec4\u4ef6\u53ca\u5176\u5b50\u7ec4\u4ef6\u9700\u8981\u7528\u66f4\u65b0\u7684\u72b6\u6001\u6765\u91cd\u65b0\u6e32\u67d3\u3002\u8fd9\u662f\u7528\u4e8e\u54cd\u5e94\u4e8b\u4ef6\u5904\u7406\u548c\u670d\u52a1\u7aef\u54cd\u5e94\u7684\u66f4\u65b0\u7528\u6237\u754c\u9762\u7684\u4e3b\u8981\u65b9\u5f0f\u3002 \u5c06 setState() \u8ba4\u4e3a\u662f\u4e00\u6b21*\u8bf7\u6c42*\u800c\u4e0d\u662f\u4e00\u6b21\u7acb\u5373\u6267\u884c\u66f4\u65b0\u7ec4\u4ef6\u7684\u547d\u4ee4\u3002\u4e3a\u4e86\u66f4\u4e3a\u53ef\u89c2\u7684\u6027\u80fd\uff0cReact\u53ef\u80fd\u4f1a\u63a8\u8fdf\u5b83\uff0c\u7a0d\u540e\u4f1a\u4e00\u6b21\u6027\u66f4\u65b0\u8fd9\u4e9b\u7ec4\u4ef6\u3002React\u4e0d\u4f1a\u4fdd\u8bc1\u5728setState\u4e4b\u540e\uff0c\u80fd\u591f\u7acb\u523b\u62ff\u5230\u6539\u53d8\u7684\u7ed3\u679c\u3002 setState() \u4e0d\u662f\u7acb\u523b\u66f4\u65b0\u7ec4\u4ef6\u3002\u5176\u53ef\u80fd\u662f\u6279\u5904\u7406\u6216\u63a8\u8fdf\u66f4\u65b0\u3002\u8fd9\u4f7f\u5f97\u5728\u8c03\u7528 setState() \u540e\u7acb\u523b\u8bfb\u53d6 this.state \u7684\u4e00\u4e2a\u6f5c\u5728\u9677\u9631\u3002\u4ee3\u66ff\u5730\uff0c\u4f7f\u7528 componentDidUpdate \u6216\u4e00\u4e2a setState \u56de\u8c03\uff08 setState(updater, callback) \uff09\uff0c\u5f53\u4e2d\u7684\u6bcf\u4e2a\u65b9\u6cd5\u90fd\u4f1a\u4fdd\u8bc1\u5728\u66f4\u65b0\u88ab\u5e94\u7528\u4e4b\u540e\u89e6\u53d1\u3002\u82e5\u4f60\u9700\u8981\u57fa\u4e8e\u4e4b\u524d\u7684\u72b6\u6001\u6765\u8bbe\u7f6e\u72b6\u6001\uff0c\u9605\u8bfb\u4e0b\u9762\u5173\u4e8e updater \u53c2\u6570\u7684\u4ecb\u7ecd\u3002 \u9664\u975e shouldComponentUpdate() \u8fd4\u56de false \uff0c\u5426\u5219 setState() \u6c38\u8fdc\u90fd\u4f1a\u5bfc\u81f4\u91cd\u6e32\u3002\u82e5\u4f7f\u7528\u53ef\u53d8\u5bf9\u8c61\u540c\u65f6\u6761\u4ef6\u6e32\u67d3\u903b\u8f91\u65e0\u6cd5\u5728 shouldComponentUpdate() \u4e2d\u5b9e\u73b0\uff0c\u4ec5\u5f53\u65b0\u72b6\u6001\u4e0d\u540c\u4e8e\u4e4b\u524d\u72b6\u6001\u65f6\u8c03\u7528 setState() \uff0c\u5c06\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u91cd\u6e32\u3002 \u7b2c\u4e00\u4e2a\u51fd\u6570\u662f\u5e26\u7b7e\u540d\u7684 updater \u51fd\u6570\uff1a (prevState, props) => stateChange prevState \u662f\u4e4b\u524d\u72b6\u6001\u7684\u5f15\u7528\u3002\u5176\u4e0d\u5e94\u8be5\u88ab\u76f4\u63a5\u6539\u53d8\u3002\u4ee3\u66ff\u5730\uff0c\u6539\u53d8\u5e94\u8be5\u901a\u8fc7\u6784\u5efa\u4e00\u4e2a\u6765\u81ea\u4e8e prevState \u548c props \u8f93\u5165\u7684\u65b0\u5bf9\u8c61\u6765\u8868\u793a\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u6211\u4eec\u60f3\u901a\u8fc7 props.step \u5728\u72b6\u6001\u4e2d\u589e\u52a0\u4e00\u4e2a\u503c\uff1a this.setState((prevState, props) => { return {counter: prevState.counter + props.step}; }); updater\u51fd\u6570\u63a5\u6536\u5230\u7684 prevState \u548c props \u4fdd\u8bc1\u90fd\u662f\u6700\u65b0\u7684\u3002updater\u7684\u8f93\u51fa\u662f\u548c prevState \u7684\u6d45\u5408\u5e76\u3002 setState() \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u53ef\u9009\u5730\u56de\u8c03\u51fd\u6570\uff0c\u5176\u5c06\u4f1a\u5728 setState \u6267\u884c\u5b8c\u6210\u540c\u65f6\u7ec4\u4ef6\u88ab\u91cd\u6e32\u4e4b\u540e\u6267\u884c\u3002\u901a\u5e38\uff0c\u5bf9\u4e8e\u8fd9\u7c7b\u903b\u8f91\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528 componentDidUpdate \u3002 \u4f60\u53ef\u4ee5\u9009\u62e9\u6027\u5730\u4f20\u9012\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a setState() \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u800c\u4e0d\u662f\u4e00\u4e2a\u51fd\u6570\uff1a setState(stateChange, [callback]) \u5176\u4ec5\u662f\u5c06 stateChange \u6d45\u5408\u5e76\u5230\u65b0\u72b6\u6001\u4e2d\u3002\u4f8b\u5982\uff0c\u8c03\u6574\u8d2d\u7269\u8f66\u4e2d\u7269\u54c1\u6570\u91cf\uff1a this.setState({quantity: 2}) \u8fd9\u4e00\u5f62\u5f0f\u7684 setState() \u4e5f\u662f\u5f02\u6b65\u7684\uff0c\u5e76\u5728\u76f8\u540c\u7684\u5468\u671f\u4e2d\u591a\u6b21\u8c03\u7528\u53ef\u80fd\u4f1a\u88ab\u5408\u5e76\u5230\u4e00\u8d77\u3002\u4f8b\u5982\uff0c\u82e5\u4f60\u5728\u76f8\u540c\u7684\u5468\u671f\u4e2d\u5c1d\u8bd5\u591a\u6b21\u589e\u52a0\u4e00\u4ef6\u7269\u54c1\u7684\u6570\u91cf\uff0c\u5176\u7b49\u4ef7\u4e8e\uff1a Object.assign( previousState, {quantity: state.quantity + 1}, {quantity: state.quantity + 1}, ... ) \u4e4b\u540e\u7684\u8c03\u7528\u5728\u540c\u4e00\u5468\u671f\u4e2d\u5c06\u4f1a\u91cd\u5199\u4e4b\u524d\u8c03\u7528\u7684\u503c\uff0c\u56e0\u6b64\u6570\u91cf\u4ec5\u4f1a\u88ab\u52a0\u4e00\u3002\u82e5\u4e4b\u540e\u7684\u72b6\u6001\u4f9d\u8d56\u4e8e\u4e4b\u524d\u7684\u72b6\u6001\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528updater\u51fd\u6570\u5f62\u5f0f\uff1a this.setState((prevState) => { return {counter: prevState.quantity + 1}; }); forceUpdate() \u00b6 component.forceUpdate(callback) \u9ed8\u8ba4\u60c5\u51b5\uff0c\u5f53\u4f60\u7684\u7ec4\u4ef6\u6216\u72b6\u6001\u53d1\u751f\u6539\u53d8\uff0c\u4f60\u7684\u7ec4\u4ef6\u5c06\u4f1a\u91cd\u6e32\u3002\u82e5\u4f60\u7684 render() \u65b9\u6cd5\u4f9d\u8d56\u5176\u4ed6\u6570\u636e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 forceUpdate() \u6765\u544a\u8bc9React\u7ec4\u4ef6\u9700\u8981\u91cd\u6e32\u3002 \u8c03\u7528 forceUpdate() \u5c06\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u7684 render() \u65b9\u6cd5\u88ab\u8c03\u7528\uff0c\u5e76\u5ffd\u7565 shouldComponentUpdate() \u3002\u8fd9\u5c06\u4f1a\u89e6\u53d1\u6bcf\u4e00\u4e2a\u5b50\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u6db5\u76d6\uff0c\u6bcf\u4e2a\u5b50\u7ec4\u4ef6\u7684 shouldComponentUpdate() \u65b9\u6cd5\u3002\u82e5\u5f53\u6807\u7b7e\u6539\u53d8\uff0cReact\u4ec5\u4f1a\u66f4\u65b0DOM\u3002 \u901a\u5e38\u4f60\u5e94\u8be5\u5c1d\u8bd5\u907f\u514d\u6240\u6709 forceUpdate() \u7684\u7528\u6cd5\u5e76\u4ec5\u5728 render() \u51fd\u6570\u91cc\u4ece this.props \u548c this.state \u8bfb\u53d6\u6570\u636e\u3002 \u7c7b\u5c5e\u6027 \u00b6 defaultProps \u00b6 defaultProps \u53ef\u4ee5\u88ab\u5b9a\u4e49\u4e3a\u7ec4\u4ef6\u7c7b\u7684\u4e00\u4e2a\u5c5e\u6027\uff0c\u7528\u4ee5\u4e3a\u7c7b\u8bbe\u7f6e\u9ed8\u8ba4\u7684\u5c5e\u6027\u3002\u8fd9\u5bf9\u4e8e\u672a\u5b9a\u4e49\uff08undefined\uff09\u7684\u5c5e\u6027\u6765\u8bf4\u6709\u7528\uff0c\u800c\u5bf9\u4e8e\u8bbe\u4e3a\u7a7a\uff08null\uff09\u7684\u5c5e\u6027\u5e76\u6ca1\u7528\u3002\u4f8b\u5982\uff1a class CustomButton extends React.Component { // ... } CustomButton.defaultProps = { color: 'blue' }; \u82e5\u672a\u8bbe\u7f6e props.color \uff0c\u5176\u5c06\u88ab\u8bbe\u7f6e\u9ed8\u8ba4\u4e3a 'blue' : render() { return <CustomButton /> ; // props.color will be set to blue } \u82e5 props.color \u8bbe\u4e3anull\uff0c\u5219\u5176\u503c\u5219\u4e3anull\uff1a render() { return <CustomButton color={null} /> ; // props.color will remain null } displayName \u00b6 displayName \u88ab\u7528\u5728\u8c03\u8bd5\u4fe1\u606f\u4e2d\u3002JSX\u4f1a\u81ea\u52a8\u8bbe\u7f6e\u8be5\u503c \u5b9e\u4f8b\u5c5e\u6027 \u00b6 props \u00b6 this.props \u5305\u542b\u4e86\u7ec4\u4ef6\u8be5\u8c03\u7528\u8005\u5b9a\u4e49\u7684\u5c5e\u6027\u3002 \u7279\u522b\u5730\uff0c this.props.children \u662f\u4e00\u4e2a\u7279\u522b\u5c5e\u6027\uff0c\u5176\u901a\u5e38\u7531JSX\u8868\u8fbe\u5f0f\u4e2d\u7684\u5b50\u6807\u7b7e\u5b9a\u4e49\uff0c\u800c\u4e0d\u662f\u6807\u7b7e\u672c\u8eab\u3002 state \u00b6 \u72b6\u6001\u662f\u8be5\u7ec4\u4ef6\u7684\u7279\u5b9a\u6570\u636e\uff0c\u5176\u53ef\u80fd\u6539\u53d8\u591a\u6b21\u3002\u72b6\u6001\u7531\u7528\u6237\u5b9a\u4e49\uff0c\u4e14\u5176\u5e94\u4e3a\u7eafJavaScript\u5bf9\u8c61\u3002 \u82e5\u4f60\u4e0d\u5728 render() \u65b9\u6cd5\u4e2d\u4f7f\u7528\u5b83\uff0c\u5176\u4e0d\u5e94\u8be5\u8be5\u88ab\u653e\u5728\u72b6\u6001\u4e0a\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u76f4\u63a5\u5c06timer IDs\u653e\u5728\u5b9e\u4f8b\u4e0a\u3002 \u6c38\u8fdc\u4e0d\u8981\u76f4\u63a5\u6539\u53d8 this.state \uff0c\u56e0\u4e3a\u8c03\u7528 setState() \u4f1a\u66ff\u6362\u4f60\u4e4b\u524d\u505a\u7684\u6539\u53d8\u3002\u5c06 this.state \u5f53\u6210\u4e0d\u53ef\u53d8\u7684\u3002","title":"React.Component.md"},{"location":"react/React.Component/#reactcomponent","text":"\u7ec4\u4ef6 \u80fd\u591f\u8ba9\u4f60\u5c06UI\u5206\u5272\u6210\u72ec\u7acb\u7684\u3001\u53ef\u91cd\u7528\u7684\u90e8\u5206\uff0c\u5e76\u5bf9\u6bcf\u4e00\u90e8\u5206\u5355\u72ec\u8003\u91cf\u3002 React \u63d0\u4f9b\u4e86 React.Component \u3002","title":"React.Component"},{"location":"react/React.Component/#_1","text":"React.Component \u662f\u4e00\u4e2a\u62bd\u8c61\u57fa\u7840\u7c7b\uff0c\u56e0\u6b64\u76f4\u63a5\u5f15\u7528 React.Component \u51e0\u4e4e\u6ca1\u610f\u4e49\u3002\u76f8\u53cd\uff0c\u4f60\u901a\u5e38\u4f1a\u7ee7\u627f\u81ea\u5b83\uff0c\u5e76\u81f3\u5c11\u5b9a\u4e49\u4e00\u4e2a render() \u65b9\u6cd5\u3002 \u901a\u5e38\u4f60\u5b9a\u4e49\u4e00\u4e2aReact\u7ec4\u4ef6\u76f8\u5f53\u4e8e\u4e00\u4e2a\u7eaf JavaScript\u7c7b \uff1a class Greeting extends React.Component { render() { return <h1>Hello, {this.props.name}</h1>; } } \u82e5\u4f60\u4ecd\u672a\u4f7f\u7528 ES6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 create-react-class \u6a21\u5757\u3002","title":"\u6982\u89c8"},{"location":"react/React.Component/#_2","text":"\u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u90fd\u6709\u51e0\u4e2a\u4f60\u53ef\u4ee5\u91cd\u5199\u4ee5\u8ba9\u4ee3\u7801\u5728\u5904\u7406\u73af\u8282\u7684\u7279\u5b9a\u65f6\u671f\u8fd0\u884c\u7684\u201c\u751f\u547d\u5468\u671f\u65b9\u6cd5\u201d\u3002\u65b9\u6cd5\u4e2d\u5e26\u6709\u524d\u7f00 will \u7684\u5728\u7279\u5b9a\u73af\u8282\u4e4b\u524d\u88ab\u8c03\u7528\uff0c\u800c\u5e26\u6709\u524d\u7f00 did \u7684\u65b9\u6cd5\u5219\u4f1a\u5728\u7279\u5b9a\u73af\u8282\u4e4b\u540e\u88ab\u8c03\u7528\u3002","title":"\u7ec4\u4ef6\u751f\u547d\u5468\u671f"},{"location":"react/React.Component/#_3","text":"\u8fd9\u4e9b\u65b9\u6cd5\u4f1a\u5728\u7ec4\u4ef6\u5b9e\u4f8b\u88ab\u521b\u5efa\u548c\u63d2\u5165DOM\u4e2d\u65f6\u88ab\u8c03\u7528\uff1a constructor() static getDerivedStateFromProps() componentWillMount() / UNSAFE_componentWillMount() render() componentDidMount()","title":"\u88c5\u914d"},{"location":"react/React.Component/#_4","text":"\u5c5e\u6027\u6216\u72b6\u6001\u7684\u6539\u53d8\u4f1a\u89e6\u53d1\u4e00\u6b21\u66f4\u65b0\u3002\u5f53\u4e00\u4e2a\u7ec4\u4ef6\u5728\u88ab\u91cd\u6e32\u65f6\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u5c06\u4f1a\u88ab\u8c03\u7528\uff1a componentWillReceiveProps() / UNSAFE_componentWillReceiveProps() static getDerivedStateFromProps() shouldComponentUpdate() componentWillUpdate() / UNSAFE_componentWillUpdate() render() getSnapshotBeforeUpdate() componentDidUpdate()","title":"\u66f4\u65b0"},{"location":"react/React.Component/#_5","text":"\u5f53\u4e00\u4e2a\u7ec4\u4ef6\u88ab\u4eceDOM\u4e2d\u79fb\u9664\u65f6\uff0c\u8be5\u65b9\u6cd5\u88ab\u8c03\u7528\uff1a componentWillUnmount()","title":"\u5378\u8f7d"},{"location":"react/React.Component/#_6","text":"\u5728\u6e32\u67d3\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef\u65f6\u4f1a\u88ab\u8c03\u7528\uff1a componentDidCatch()","title":"\u9519\u8bef\u5904\u7406"},{"location":"react/React.Component/#api","text":"\u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u8fd8\u63d0\u4f9b\u4e86\u5176\u4ed6\u7684API\uff1a setState() forceUpdate()","title":"\u5176\u4ed6API"},{"location":"react/React.Component/#_7","text":"defaultProps displayName","title":"\u7c7b\u5c5e\u6027"},{"location":"react/React.Component/#_8","text":"props state","title":"\u5b9e\u4f8b\u5c5e\u6027"},{"location":"react/React.Component/#_9","text":"","title":"\u53c2\u8003"},{"location":"react/React.Component/#render","text":"render() render() \u65b9\u6cd5\u662f\u5fc5\u987b\u7684\u3002 \u5f53\u88ab\u8c03\u7528\u65f6\uff0c\u5176\u5e94\u8be5\u68c0\u67e5 this.props \u548c this.state \u5e76\u8fd4\u56de\u4ee5\u4e0b\u7c7b\u578b\u4e2d\u7684\u4e00\u4e2a: React\u5143\u7d20\u3002 \u901a\u5e38\u662f\u7531 JSX \u521b\u5efa\u3002\u8be5\u5143\u7d20\u53ef\u80fd\u662f\u4e00\u4e2a\u539f\u751fDOM\u7ec4\u4ef6\u7684\u8868\u793a\uff0c\u5982 <div /> \uff0c\u6216\u8005\u662f\u4e00\u4e2a\u4f60\u5b9a\u4e49\u7684\u5408\u6210\u7ec4\u4ef6\u3002 \u5b57\u7b26\u4e32\u548c\u6570\u5b57\u3002 \u8fd9\u4e9b\u5c06\u88ab\u6e32\u67d3\u4e3a DOM \u4e2d\u7684 text node\u3002 Portals\u3002 \u7531 ReactDOM.createPortal \u521b\u5efa\u3002 null \u3002 \u4ec0\u4e48\u90fd\u4e0d\u6e32\u67d3\u3002 \u5e03\u5c14\u503c\u3002 \u4ec0\u4e48\u90fd\u4e0d\u6e32\u67d3\u3002\uff08\u901a\u5e38\u5b58\u5728\u4e8e return test && <Child /> \u5199\u6cd5\uff0c\u5176\u4e2d test \u662f\u5e03\u5c14\u503c\u3002\uff09 \u5f53\u8fd4\u56de null \u6216 false \u65f6\uff0c ReactDOM.findDOMNode(this) \u5c06\u8fd4\u56de null \u3002 render() \u51fd\u6570\u5e94\u8be5\u7eaf\u51c0\uff0c\u610f\u5473\u7740\u5176\u4e0d\u5e94\u8be5\u6539\u53d8\u7ec4\u4ef6\u7684\u72b6\u6001\uff0c\u5176\u6bcf\u6b21\u8c03\u7528\u90fd\u5e94\u8fd4\u56de\u76f8\u540c\u7684\u7ed3\u679c\uff0c\u540c\u65f6\u4e0d\u76f4\u63a5\u548c\u6d4f\u89c8\u5668\u4ea4\u4e92\u3002\u82e5\u9700\u8981\u548c\u6d4f\u89c8\u5668\u4ea4\u4e92\uff0c\u5c06\u4efb\u52a1\u653e\u5728 componentDidMount() \u9636\u6bb5\u6216\u5176\u4ed6\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u3002\u4fdd\u6301 render() \u65b9\u6cd5\u7eaf\u51c0\u4f7f\u5f97\u7ec4\u4ef6\u66f4\u5bb9\u6613\u601d\u8003\u3002 \u6ce8\u610f \u82e5 shouldComponentUpdate() \u8fd4\u56defalse\uff0c render() \u51fd\u6570\u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002","title":"render()"},{"location":"react/React.Component/#constructor","text":"constructor(props) React\u7ec4\u4ef6\u7684\u6784\u9020\u51fd\u6570\u5c06\u4f1a\u5728\u88c5\u914d\u4e4b\u524d\u88ab\u8c03\u7528\u3002\u5f53\u4e3a\u4e00\u4e2a React.Component \u5b50\u7c7b\u5b9a\u4e49\u6784\u9020\u51fd\u6570\u65f6\uff0c\u4f60\u5e94\u8be5\u5728\u4efb\u4f55\u5176\u4ed6\u7684\u8868\u8fbe\u5f0f\u4e4b\u524d\u8c03\u7528 super(props) \u3002\u5426\u5219\uff0c this.props \u5728\u6784\u9020\u51fd\u6570\u4e2d\u5c06\u662f\u672a\u5b9a\u4e49\uff0c\u5e76\u53ef\u80fd\u5f15\u53d1\u5f02\u5e38\u3002 \u6784\u9020\u51fd\u6570\u662f\u521d\u59cb\u5316\u72b6\u6001\u7684\u5408\u9002\u4f4d\u7f6e\u3002\u82e5\u4f60\u4e0d\u521d\u59cb\u5316\u72b6\u6001\u4e14\u4e0d\u7ed1\u5b9a\u65b9\u6cd5\uff0c\u90a3\u4f60\u4e5f\u4e0d\u9700\u8981\u4e3a\u4f60\u7684React\u7ec4\u4ef6\u5b9a\u4e49\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u3002 \u53ef\u4ee5\u57fa\u4e8e\u5c5e\u6027\u6765\u521d\u59cb\u5316\u72b6\u6001\u3002\u8fd9\u6837\u6709\u6548\u5730\u201c\u5206\u79bb\uff08forks\uff09\u201d\u5c5e\u6027\u5e76\u6839\u636e\u521d\u59cb\u5c5e\u6027\u8bbe\u7f6e\u72b6\u6001\u3002\u8fd9\u6709\u4e00\u4e2a\u6709\u6548\u7684 React.Component \u5b50\u7c7b\u6784\u9020\u51fd\u6570\u7684\u4f8b\u5b50\uff1a constructor(props) { super(props); this.state = { color: props.initialColor }; } \u5f53\u5fc3\u8fd9\u79cd\u6a21\u5f0f\uff0c\u56e0\u4e3a\u72b6\u6001\u5c06\u4e0d\u4f1a\u968f\u7740\u5c5e\u6027\u7684\u66f4\u65b0\u800c\u66f4\u65b0\u3002\u4fdd\u8bc1\u5c5e\u6027\u548c\u72b6\u6001\u540c\u6b65\uff0c\u4f60\u901a\u5e38\u60f3\u8981 \u72b6\u6001\u63d0\u5347 \u3002 \u82e5\u4f60\u901a\u8fc7\u4f7f\u7528\u5b83\u4eec\u4e3a\u72b6\u6001\u201c\u5206\u79bb\u201d\u5c5e\u6027\uff0c\u4f60\u53ef\u80fd\u4e5f\u60f3\u8981\u5b9e\u73b0 UNSAFE_componentWillReceiveProps(nextProps) \u4ee5\u4fdd\u6301\u6700\u65b0\u7684\u72b6\u6001\u3002\u4f46\u72b6\u6001\u63d0\u5347\u901a\u5e38\u6765\u8bf4\u66f4\u5bb9\u6613\u4ee5\u53ca\u66f4\u5c11\u7684\u5f02\u5e38\u3002","title":"constructor()"},{"location":"react/React.Component/#static-getderivedstatefromprops","text":"static getDerivedStateFromProps(nextProps, prevState) \u7ec4\u4ef6\u5b9e\u4f8b\u5316\u540e\u548c\u63a5\u53d7\u65b0\u5c5e\u6027\u65f6\u5c06\u4f1a\u8c03\u7528 getDerivedStateFromProps \u3002\u5b83\u5e94\u8be5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u6765\u66f4\u65b0\u72b6\u6001\uff0c\u6216\u8005\u8fd4\u56denull\u6765\u8868\u660e\u65b0\u5c5e\u6027\u4e0d\u9700\u8981\u66f4\u65b0\u4efb\u4f55\u72b6\u6001\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u7236\u7ec4\u4ef6\u5bfc\u81f4\u4e86\u7ec4\u4ef6\u7684\u91cd\u65b0\u6e32\u67d3\uff0c\u5373\u4f7f\u5c5e\u6027\u6ca1\u6709\u66f4\u65b0\uff0c\u8fd9\u4e00\u65b9\u6cd5\u4e5f\u4f1a\u88ab\u8c03\u7528\u3002\u5982\u679c\u4f60\u53ea\u60f3\u5904\u7406\u53d8\u5316\uff0c\u4f60\u53ef\u80fd\u60f3\u53bb\u6bd4\u8f83\u65b0\u65e7\u503c\u3002 \u8c03\u7528 this.setState() \u901a\u5e38\u4e0d\u4f1a\u89e6\u53d1 getDerivedStateFromProps() \u3002","title":"static getDerivedStateFromProps()"},{"location":"react/React.Component/#unsafe_componentwillmount","text":"UNSAFE_componentWillMount() UNSAFE_componentWillMount() \u5728\u88c5\u914d\u53d1\u751f\u524d\u88ab\u7acb\u523b\u8c03\u7528\u3002\u5176\u5728 render() \u4e4b\u524d\u88ab\u8c03\u7528\uff0c\u56e0\u6b64\u5728\u8fd9\u65b9\u6cd5\u91cc\u540c\u6b65\u5730\u8bbe\u7f6e\u72b6\u6001\u5c06\u4e0d\u4f1a\u89e6\u53d1\u91cd\u6e32\u3002 \u907f\u514d\u5728\u8be5\u65b9\u6cd5\u4e2d\u5f15\u5165\u4efb\u4f55\u7684\u526f\u4f5c\u7528\u6216\u8ba2\u9605\u3002\u5bf9\u4e8e\u8fd9\u4e9b\u4f7f\u7528\u573a\u666f\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528 constructor() \u6765\u66ff\u4ee3\u3002 \u8fd9\u662f\u552f\u4e00\u7684\u4f1a\u5728\u670d\u52a1\u7aef\u6e32\u67d3\u8c03\u8d77\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570\u3002 \u6ce8\u610f \u8fd9\u4e00\u751f\u547d\u5468\u671f\u4e4b\u524d\u53eb\u505a componentWillMount \u3002\u8fd9\u4e00\u540d\u5b57\u572817\u7248\u524d\u90fd\u6709\u6548\u3002\u53ef\u4ee5\u4f7f\u7528 rename-unsafe-lifecycles codemod \u6765\u81ea\u52a8\u66f4\u65b0\u4f60\u7684\u7ec4\u4ef6\u3002","title":"UNSAFE_componentWillMount()"},{"location":"react/React.Component/#componentdidmount","text":"componentDidMount() componentDidMount() \u5728\u7ec4\u4ef6\u88ab\u88c5\u914d\u540e\u7acb\u5373\u8c03\u7528\u3002\u521d\u59cb\u5316\u4f7f\u5f97DOM\u8282\u70b9\u5e94\u8be5\u8fdb\u884c\u5230\u8fd9\u91cc\u3002\u82e5\u4f60\u9700\u8981\u4ece\u8fdc\u7aef\u52a0\u8f7d\u6570\u636e\uff0c\u8fd9\u662f\u4e00\u4e2a\u9002\u5408\u5b9e\u73b0\u7f51\u7edc\u8bf7\u6c42\u7684\u5730\u65b9\u3002\u5728\u8be5\u65b9\u6cd5\u91cc\u8bbe\u7f6e\u72b6\u6001\u5c06\u4f1a\u89e6\u53d1\u91cd\u6e32\u3002 \u8fd9\u4e00\u65b9\u6cd5\u662f\u4e00\u4e2a\u53d1\u8d77\u4efb\u4f55\u8ba2\u9605\u7684\u597d\u5730\u65b9\u3002\u5982\u679c\u4f60\u8fd9\u4e48\u505a\u4e86\uff0c\u522b\u5fd8\u4e86\u5728 componentWillUnmount() \u9000\u8ba2\u3002 \u5728\u8fd9\u4e2a\u65b9\u6cd5\u4e2d\u8c03\u7528 setState() \u5c06\u4f1a\u89e6\u53d1\u4e00\u6b21\u989d\u5916\u7684\u6e32\u67d3\uff0c\u4f46\u662f\u5b83\u5c06\u5728\u6d4f\u89c8\u5668\u5237\u65b0\u5c4f\u5e55\u4e4b\u524d\u53d1\u751f\u3002\u8fd9\u4fdd\u8bc1\u4e86\u5373\u4f7f render() \u5c06\u4f1a\u8c03\u7528\u4e24\u6b21\uff0c\u4f46\u7528\u6237\u4e0d\u4f1a\u770b\u5230\u4e2d\u95f4\u72b6\u6001\u3002\u8c28\u614e\u4f7f\u7528\u8fd9\u4e00\u6a21\u5f0f\uff0c\u56e0\u4e3a\u5b83\u5e38\u5bfc\u81f4\u6027\u80fd\u95ee\u9898\u3002\u7136\u800c\uff0c\u5b83\u5bf9\u4e8e\u50cf\u6a21\u6001\u6846\u548c\u5de5\u5177\u63d0\u793a\u6846\u8fd9\u6837\u7684\u4f8b\u5b50\u662f\u5fc5\u987b\u7684\u3002\u8fd9\u65f6\uff0c\u5728\u6e32\u67d3\u4f9d\u8d56DOM\u8282\u70b9\u7684\u5c3a\u5bf8\u6216\u8005\u4f4d\u7f6e\u7684\u89c6\u56fe\u524d\uff0c\u4f60\u9700\u8981\u5148\u6d4b\u91cf\u8fd9\u4e9b\u8282\u70b9\u3002","title":"componentDidMount()"},{"location":"react/React.Component/#unsafe_componentwillreceiveprops","text":"UNSAFE_componentWillReceiveProps(nextProps) \u6ce8\u610f \u63a8\u8350\u4f60\u4f7f\u7528 getDerivedStateFromProps \u751f\u547d\u5468\u671f\u800c\u4e0d\u662f UNSAFE_componentWillReceiveProps \u3002 UNSAFE_componentWillReceiveProps() \u5728\u88c5\u914d\u4e86\u7684\u7ec4\u4ef6\u63a5\u6536\u5230\u65b0\u5c5e\u6027\u524d\u8c03\u7528\u3002\u82e5\u4f60\u9700\u8981\u66f4\u65b0\u72b6\u6001\u54cd\u5e94\u5c5e\u6027\u6539\u53d8\uff08\u4f8b\u5982\uff0c\u91cd\u7f6e\u5b83\uff09\uff0c\u4f60\u53ef\u80fd\u9700\u5bf9\u6bd4 this.props \u548c nextProps \u5e76\u5728\u8be5\u65b9\u6cd5\u4e2d\u4f7f\u7528 this.setState() \u5904\u7406\u72b6\u6001\u6539\u53d8\u3002 \u6ce8\u610f\u5373\u4f7f\u5c5e\u6027\u672a\u6709\u4efb\u4f55\u6539\u53d8\uff0cReact\u53ef\u80fd\u4e5f\u4f1a\u8c03\u7528\u8be5\u65b9\u6cd5\uff0c\u56e0\u6b64\u82e5\u4f60\u60f3\u8981\u5904\u7406\u6539\u53d8\uff0c\u8bf7\u786e\u4fdd\u6bd4\u8f83\u5f53\u524d\u548c\u4e4b\u540e\u7684\u503c\u3002\u8fd9\u53ef\u80fd\u4f1a\u53d1\u751f\u5728\u5f53\u7236\u7ec4\u4ef6\u5f15\u8d77\u4f60\u7684\u7ec4\u4ef6\u91cd\u6e32\u3002 \u5728 \u88c5\u914d \u671f\u95f4\uff0cReact\u5e76\u4e0d\u4f1a\u8c03\u7528\u5e26\u6709\u521d\u59cb\u5c5e\u6027\u7684 UNSAFE_componentWillReceiveProps \u65b9\u6cd5\u3002\u5176\u4ec5\u4f1a\u8c03\u7528\u8be5\u65b9\u6cd5\u5982\u679c\u67d0\u4e9b\u7ec4\u4ef6\u7684\u5c5e\u6027\u53ef\u80fd\u66f4\u65b0\u3002\u8c03\u7528 this.setState \u901a\u5e38\u4e0d\u4f1a\u89e6\u53d1 UNSAFE_componentWillReceiveProps \u3002 \u6ce8\u610f \u8fd9\u4e00\u751f\u547d\u5468\u671f\u4e4b\u524d\u53eb\u505a componentWillReceiveProps \u3002\u8fd9\u4e00\u540d\u5b57\u572817\u7248\u524d\u90fd\u6709\u6548\u3002\u53ef\u4ee5\u4f7f\u7528 rename-unsafe-lifecycles codemod \u6765\u81ea\u52a8\u66f4\u65b0\u4f60\u7684\u7ec4\u4ef6\u3002","title":"UNSAFE_componentWillReceiveProps()"},{"location":"react/React.Component/#shouldcomponentupdate","text":"shouldComponentUpdate(nextProps, nextState) \u4f7f\u7528 shouldComponentUpdate() \u4ee5\u8ba9React\u77e5\u9053\u5f53\u524d\u72b6\u6001\u6216\u5c5e\u6027\u7684\u6539\u53d8\u662f\u5426\u4e0d\u5f71\u54cd\u7ec4\u4ef6\u7684\u8f93\u51fa\u3002\u9ed8\u8ba4\u884c\u4e3a\u662f\u5728\u6bcf\u4e00\u6b21\u72b6\u6001\u7684\u6539\u53d8\u91cd\u6e32\uff0c\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u4f60\u5e94\u8be5\u4f9d\u8d56\u4e8e\u9ed8\u8ba4\u884c\u4e3a\u3002 \u5f53\u63a5\u6536\u5230\u65b0\u5c5e\u6027\u6216\u72b6\u6001\u65f6\uff0c shouldComponentUpdate() \u5728\u6e32\u67d3\u524d\u88ab\u8c03\u7528\u3002\u9ed8\u8ba4\u4e3a true \u3002\u8be5\u65b9\u6cd5\u5e76\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u6216\u5f53\u4f7f\u7528 forceUpdate() \u65f6\u88ab\u8c03\u7528\u3002 \u5f53\u4ed6\u4eec\u72b6\u6001\u6539\u53d8\u65f6\uff0c\u8fd4\u56de false \u5e76\u4e0d\u80fd\u963b\u6b62\u5b50\u7ec4\u4ef6\u91cd\u6e32\u3002 \u5f53\u524d\uff0c\u82e5 shouldComponentUpdate() \u8fd4\u56de false \uff0c\u800c\u540e UNSAFE_componentWillUpdate() \uff0c render() \uff0c \u548c componentDidUpdate() \u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002\u6ce8\u610f\uff0c\u5728\u672a\u6765React\u53ef\u80fd\u4f1a\u5c06 shouldComponentUpdate() \u4f5c\u4e3a\u4e00\u4e2a\u7ebf\u7d22\u800c\u4e0d\u662f\u4e00\u4e2a\u4e25\u683c\u6307\u4ee4\uff0c\u8fd4\u56de false \u53ef\u80fd\u4ecd\u7136\u4f7f\u5f97\u7ec4\u4ef6\u91cd\u6e32\u3002 \u5728\u89c2\u5bdf\u540e\uff0c\u82e5\u4f60\u5224\u5b9a\u4e00\u4e2a\u5177\u4f53\u7684\u7ec4\u4ef6\u5f88\u6162\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u8c03\u6574\u5176\u4ece React.PureComponent \u7ee7\u627f\uff0c\u5176\u5b9e\u73b0\u4e86\u5e26\u6709\u6d45\u5c5e\u6027\u548c\u72b6\u6001\u6bd4\u8f83\u7684 shouldComponentUpdate() \u3002\u82e5\u4f60\u786e\u4fe1\u60f3\u8981\u624b\u5199\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u7528 this.props \u548c nextProps \u4ee5\u53ca this.state \u548c nextState \u6bd4\u8f83\uff0c\u5e76\u8fd4\u56de false \u4ee5\u544a\u8bc9React\u66f4\u65b0\u53ef\u4ee5\u88ab\u5ffd\u7565\u3002","title":"shouldComponentUpdate()"},{"location":"react/React.Component/#unsafe_componentwillupdate","text":"UNSAFE_componentWillUpdate(nextProps, nextState) \u5f53\u63a5\u6536\u5230\u65b0\u5c5e\u6027\u6216\u72b6\u6001\u65f6\uff0c UNSAFE_componentWillUpdate() \u4e3a\u5728\u6e32\u67d3\u524d\u88ab\u7acb\u5373\u8c03\u7528\u3002\u5728\u66f4\u65b0\u53d1\u751f\u524d\uff0c\u4f7f\u7528\u8be5\u65b9\u6cd5\u662f\u4e00\u6b21\u51c6\u5907\u673a\u4f1a\u3002\u8be5\u65b9\u6cd5\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u65f6\u8c03\u7528\u3002 \u6ce8\u610f\u4f60\u4e0d\u80fd\u5728\u8fd9\u8c03\u7528 this.setState() \uff0c\u82e5\u4f60\u9700\u8981\u66f4\u65b0\u72b6\u6001\u54cd\u5e94\u5c5e\u6027\u7684\u8c03\u6574\uff0c\u4f7f\u7528 getDerivedStateFromProps() \u4ee3\u66ff\u3002 \u6ce8\u610f \u8fd9\u4e00\u751f\u547d\u5468\u671f\u4e4b\u524d\u53eb\u505a componentWillUpdate \u3002\u8fd9\u4e00\u540d\u5b57\u572817\u7248\u524d\u90fd\u6709\u6548\u3002\u53ef\u4ee5\u4f7f\u7528 rename-unsafe-lifecycles codemod \u6765\u81ea\u52a8\u66f4\u65b0\u4f60\u7684\u7ec4\u4ef6\u3002 \u6ce8\u610f \u82e5 shouldComponentUpdate() \u8fd4\u56defalse\uff0c UNSAFE_componentWillUpdate() \u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002","title":"UNSAFE_componentWillUpdate()"},{"location":"react/React.Component/#getsnapshotbeforeupdate","text":"getSnapshotBeforeUpdate() \u5728\u6700\u65b0\u7684\u6e32\u67d3\u8f93\u51fa\u63d0\u4ea4\u7ed9DOM\u524d\u5c06\u4f1a\u7acb\u5373\u8c03\u7528\u3002\u5b83\u8ba9\u4f60\u7684\u7ec4\u4ef6\u80fd\u5728\u5f53\u524d\u7684\u503c\u53ef\u80fd\u8981\u6539\u53d8\u524d\u83b7\u5f97\u5b83\u4eec\u3002\u8fd9\u4e00\u751f\u547d\u5468\u671f\u8fd4\u56de\u7684\u4efb\u4f55\u503c\u5c06\u4f1a \u4f5c\u4e3a\u53c2\u6570\u88ab\u4f20\u9012\u7ed9 componentDidUpdate() \u3002 \u4f8b\u5982\uff1a class ScrollingList extends React.Component { listRef = React.createRef(); getSnapshotBeforeUpdate(prevProps, prevState) { // Are we adding new items to the list? // Capture the current height of the list so we can adjust scroll later. if (prevProps.list.length < this.props.list.length) { return this.listRef.current.scrollHeight; } return null; } componentDidUpdate(prevProps, prevState, snapshot) { // If we have a snapshot value, we've just added new items. // Adjust scroll so these new items don't push the old ones out of view. if (snapshot !== null) { this.listRef.current.scrollTop += this.listRef.current.scrollHeight - snapshot; } } render() { return ( <div ref={this.listRef}>{/* ...contents... */}</div> ); } } \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u4e3a\u4e86\u652f\u6301\u5f02\u6b65\u6e32\u67d3\uff0c\u5728 getSnapshotBeforeUpdate \u4e2d\u8bfb\u53d6 scrollHeight \u800c\u4e0d\u662f componentWillUpdate \uff0c\u8fd9\u70b9\u5f88\u91cd\u8981\u3002\u7531\u4e8e\u5f02\u6b65\u6e32\u67d3\uff0c\u5728\u201c\u6e32\u67d3\u201d\u65f6\u671f\uff08\u5982 componentWillUpdate \u548c render \uff09\u548c\u201c\u63d0\u4ea4\u201d\u65f6\u671f\uff08\u5982 getSnapshotBeforeUpdate \u548c componentDidUpdate \uff09\u95f4\u53ef\u80fd\u4f1a\u5b58\u5728\u5ef6\u8fdf\u3002\u5982\u679c\u4e00\u4e2a\u7528\u6237\u5728\u8fd9\u671f\u95f4\u505a\u4e86\u50cf\u6539\u53d8\u6d4f\u89c8\u5668\u5c3a\u5bf8\u7684\u4e8b\uff0c\u4ece componentWillUpdate \u4e2d\u8bfb\u51fa\u7684 scrollHeight \u503c\u5c06\u662f\u6ede\u540e\u7684\u3002","title":"getSnapshotBeforeUpdate()"},{"location":"react/React.Component/#componentdidupdate","text":"componentDidUpdate(prevProps, prevState) componentDidUpdate() \u4f1a\u5728\u66f4\u65b0\u53d1\u751f\u540e\u7acb\u5373\u88ab\u8c03\u7528\u3002\u8be5\u65b9\u6cd5\u5e76\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u65f6\u8c03\u7528\u3002 \u5f53\u7ec4\u4ef6\u88ab\u66f4\u65b0\u65f6\uff0c\u4f7f\u7528\u8be5\u65b9\u6cd5\u662f\u64cd\u4f5cDOM\u7684\u4e00\u6b21\u673a\u4f1a\u3002\u8fd9\u4e5f\u662f\u4e00\u4e2a\u9002\u5408\u53d1\u9001\u8bf7\u6c42\u7684\u5730\u65b9\uff0c\u8981\u662f\u4f60\u5bf9\u6bd4\u4e86\u5f53\u524d\u5c5e\u6027\u548c\u4e4b\u524d\u5c5e\u6027\uff08\u4f8b\u5982\uff0c\u5982\u679c\u5c5e\u6027\u6ca1\u6709\u6539\u53d8\u90a3\u4e48\u8bf7\u6c42\u4e5f\u5c31\u6ca1\u5fc5\u8981\u4e86\uff09\u3002 \u6ce8\u610f \u82e5 shouldComponentUpdate() \u8fd4\u56defalse\uff0c componentDidUpdate() \u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002","title":"componentDidUpdate()"},{"location":"react/React.Component/#componentwillunmount","text":"componentWillUnmount() componentWillUnmount() \u5728\u7ec4\u4ef6\u88ab\u5378\u8f7d\u548c\u9500\u6bc1\u4e4b\u524d\u7acb\u523b\u8c03\u7528\u3002\u53ef\u4ee5\u5728\u8be5\u65b9\u6cd5\u91cc\u5904\u7406\u4efb\u4f55\u5fc5\u8981\u7684\u6e05\u7406\u5de5\u4f5c\uff0c\u4f8b\u5982\u89e3\u7ed1\u5b9a\u65f6\u5668\uff0c\u53d6\u6d88\u7f51\u7edc\u8bf7\u6c42\uff0c\u6e05\u7406\u4efb\u4f55\u5728 componentDidMount \u73af\u8282\u521b\u5efa\u7684DOM\u5143\u7d20\u3002","title":"componentWillUnmount()"},{"location":"react/React.Component/#componentdidcatch","text":"componentDidCatch(error, info) \u9519\u8bef\u8fb9\u754c\u662fReact\u7ec4\u4ef6\uff0c\u5e76\u4e0d\u662f\u635f\u574f\u7684\u7ec4\u4ef6\u6811\u3002\u9519\u8bef\u8fb9\u754c\u6355\u6349\u53d1\u751f\u5728\u5b50\u7ec4\u4ef6\u6811\u4e2d\u4efb\u610f\u5730\u65b9\u7684JavaScript\u9519\u8bef\uff0c\u6253\u5370\u9519\u8bef\u65e5\u5fd7\uff0c\u5e76\u4e14\u663e\u793a\u56de\u9000\u7684\u7528\u6237\u754c\u9762\u3002\u9519\u8bef\u8fb9\u754c\u6355\u6349\u6e32\u67d3\u671f\u95f4\u3001\u5728\u751f\u547d\u5468\u671f\u65b9\u6cd5\u4e2d\u548c\u5728\u5b83\u4eec\u4e4b\u4e0b\u6574\u68f5\u6811\u7684\u6784\u9020\u51fd\u6570\u4e2d\u7684\u9519\u8bef\u3002 \u5982\u679c\u5b9a\u4e49\u4e86\u8fd9\u4e00\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u4e00\u4e2a\u7c7b\u7ec4\u4ef6\u5c06\u6210\u4e3a\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u3002\u5728\u9519\u8bef\u8fb9\u754c\u4e2d\u8c03\u7528 setState() \u8ba9\u4f60\u6355\u6349\u5f53\u524d\u6811\u4e4b\u4e0b\u672a\u5904\u7406\u7684JavaScript\u9519\u8bef\uff0c\u5e76\u663e\u793a\u56de\u9000\u7684\u7528\u6237\u754c\u9762\u3002\u53ea\u4f7f\u7528\u9519\u8bef\u8fb9\u754c\u6765\u6062\u590d\u5f02\u5e38\uff0c\u800c\u4e0d\u8981\u5c1d\u8bd5\u5c06\u5b83\u4eec\u7528\u4e8e\u63a7\u5236\u6d41\u3002 \u8be6\u60c5\u8bf7\u89c1 React 16\u4e2d\u7684\u9519\u8bef\u5904\u7406 \u3002 \u6ce8\u610f \u9519\u8bef\u8fb9\u754c\u53ea\u6355\u6349\u6811\u4e2d\u53d1\u751f\u5728\u5b83\u4eec**\u4e4b\u4e0b**\u7ec4\u4ef6\u91cc\u7684\u9519\u8bef\u3002\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u5e76\u4e0d\u80fd\u6355\u6349\u5b83\u81ea\u5df1\u5185\u90e8\u7684\u9519\u8bef\u3002","title":"componentDidCatch()"},{"location":"react/React.Component/#setstate","text":"setState(updater, [callback]) setState() \u5c06\u9700\u8981\u5904\u7406\u7684\u53d8\u5316\u585e\u5165\uff08\u8bd1\u8005\u6ce8\uff1asetState\u6e90\u7801\u4e2d\u5c06\u4e00\u4e2a\u9700\u8981\u6539\u53d8\u7684\u53d8\u5316\u5b58\u653e\u5230\u7ec4\u4ef6\u7684state\u5bf9\u8c61\u4e2d\uff0c\u91c7\u7528\u961f\u5217\u5904\u7406\uff09\u7ec4\u4ef6\u7684state\u5bf9\u8c61\u4e2d\uff0c \u5e76\u544a\u8bc9\u8be5\u7ec4\u4ef6\u53ca\u5176\u5b50\u7ec4\u4ef6\u9700\u8981\u7528\u66f4\u65b0\u7684\u72b6\u6001\u6765\u91cd\u65b0\u6e32\u67d3\u3002\u8fd9\u662f\u7528\u4e8e\u54cd\u5e94\u4e8b\u4ef6\u5904\u7406\u548c\u670d\u52a1\u7aef\u54cd\u5e94\u7684\u66f4\u65b0\u7528\u6237\u754c\u9762\u7684\u4e3b\u8981\u65b9\u5f0f\u3002 \u5c06 setState() \u8ba4\u4e3a\u662f\u4e00\u6b21*\u8bf7\u6c42*\u800c\u4e0d\u662f\u4e00\u6b21\u7acb\u5373\u6267\u884c\u66f4\u65b0\u7ec4\u4ef6\u7684\u547d\u4ee4\u3002\u4e3a\u4e86\u66f4\u4e3a\u53ef\u89c2\u7684\u6027\u80fd\uff0cReact\u53ef\u80fd\u4f1a\u63a8\u8fdf\u5b83\uff0c\u7a0d\u540e\u4f1a\u4e00\u6b21\u6027\u66f4\u65b0\u8fd9\u4e9b\u7ec4\u4ef6\u3002React\u4e0d\u4f1a\u4fdd\u8bc1\u5728setState\u4e4b\u540e\uff0c\u80fd\u591f\u7acb\u523b\u62ff\u5230\u6539\u53d8\u7684\u7ed3\u679c\u3002 setState() \u4e0d\u662f\u7acb\u523b\u66f4\u65b0\u7ec4\u4ef6\u3002\u5176\u53ef\u80fd\u662f\u6279\u5904\u7406\u6216\u63a8\u8fdf\u66f4\u65b0\u3002\u8fd9\u4f7f\u5f97\u5728\u8c03\u7528 setState() \u540e\u7acb\u523b\u8bfb\u53d6 this.state \u7684\u4e00\u4e2a\u6f5c\u5728\u9677\u9631\u3002\u4ee3\u66ff\u5730\uff0c\u4f7f\u7528 componentDidUpdate \u6216\u4e00\u4e2a setState \u56de\u8c03\uff08 setState(updater, callback) \uff09\uff0c\u5f53\u4e2d\u7684\u6bcf\u4e2a\u65b9\u6cd5\u90fd\u4f1a\u4fdd\u8bc1\u5728\u66f4\u65b0\u88ab\u5e94\u7528\u4e4b\u540e\u89e6\u53d1\u3002\u82e5\u4f60\u9700\u8981\u57fa\u4e8e\u4e4b\u524d\u7684\u72b6\u6001\u6765\u8bbe\u7f6e\u72b6\u6001\uff0c\u9605\u8bfb\u4e0b\u9762\u5173\u4e8e updater \u53c2\u6570\u7684\u4ecb\u7ecd\u3002 \u9664\u975e shouldComponentUpdate() \u8fd4\u56de false \uff0c\u5426\u5219 setState() \u6c38\u8fdc\u90fd\u4f1a\u5bfc\u81f4\u91cd\u6e32\u3002\u82e5\u4f7f\u7528\u53ef\u53d8\u5bf9\u8c61\u540c\u65f6\u6761\u4ef6\u6e32\u67d3\u903b\u8f91\u65e0\u6cd5\u5728 shouldComponentUpdate() \u4e2d\u5b9e\u73b0\uff0c\u4ec5\u5f53\u65b0\u72b6\u6001\u4e0d\u540c\u4e8e\u4e4b\u524d\u72b6\u6001\u65f6\u8c03\u7528 setState() \uff0c\u5c06\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u91cd\u6e32\u3002 \u7b2c\u4e00\u4e2a\u51fd\u6570\u662f\u5e26\u7b7e\u540d\u7684 updater \u51fd\u6570\uff1a (prevState, props) => stateChange prevState \u662f\u4e4b\u524d\u72b6\u6001\u7684\u5f15\u7528\u3002\u5176\u4e0d\u5e94\u8be5\u88ab\u76f4\u63a5\u6539\u53d8\u3002\u4ee3\u66ff\u5730\uff0c\u6539\u53d8\u5e94\u8be5\u901a\u8fc7\u6784\u5efa\u4e00\u4e2a\u6765\u81ea\u4e8e prevState \u548c props \u8f93\u5165\u7684\u65b0\u5bf9\u8c61\u6765\u8868\u793a\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u6211\u4eec\u60f3\u901a\u8fc7 props.step \u5728\u72b6\u6001\u4e2d\u589e\u52a0\u4e00\u4e2a\u503c\uff1a this.setState((prevState, props) => { return {counter: prevState.counter + props.step}; }); updater\u51fd\u6570\u63a5\u6536\u5230\u7684 prevState \u548c props \u4fdd\u8bc1\u90fd\u662f\u6700\u65b0\u7684\u3002updater\u7684\u8f93\u51fa\u662f\u548c prevState \u7684\u6d45\u5408\u5e76\u3002 setState() \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u53ef\u9009\u5730\u56de\u8c03\u51fd\u6570\uff0c\u5176\u5c06\u4f1a\u5728 setState \u6267\u884c\u5b8c\u6210\u540c\u65f6\u7ec4\u4ef6\u88ab\u91cd\u6e32\u4e4b\u540e\u6267\u884c\u3002\u901a\u5e38\uff0c\u5bf9\u4e8e\u8fd9\u7c7b\u903b\u8f91\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528 componentDidUpdate \u3002 \u4f60\u53ef\u4ee5\u9009\u62e9\u6027\u5730\u4f20\u9012\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a setState() \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u800c\u4e0d\u662f\u4e00\u4e2a\u51fd\u6570\uff1a setState(stateChange, [callback]) \u5176\u4ec5\u662f\u5c06 stateChange \u6d45\u5408\u5e76\u5230\u65b0\u72b6\u6001\u4e2d\u3002\u4f8b\u5982\uff0c\u8c03\u6574\u8d2d\u7269\u8f66\u4e2d\u7269\u54c1\u6570\u91cf\uff1a this.setState({quantity: 2}) \u8fd9\u4e00\u5f62\u5f0f\u7684 setState() \u4e5f\u662f\u5f02\u6b65\u7684\uff0c\u5e76\u5728\u76f8\u540c\u7684\u5468\u671f\u4e2d\u591a\u6b21\u8c03\u7528\u53ef\u80fd\u4f1a\u88ab\u5408\u5e76\u5230\u4e00\u8d77\u3002\u4f8b\u5982\uff0c\u82e5\u4f60\u5728\u76f8\u540c\u7684\u5468\u671f\u4e2d\u5c1d\u8bd5\u591a\u6b21\u589e\u52a0\u4e00\u4ef6\u7269\u54c1\u7684\u6570\u91cf\uff0c\u5176\u7b49\u4ef7\u4e8e\uff1a Object.assign( previousState, {quantity: state.quantity + 1}, {quantity: state.quantity + 1}, ... ) \u4e4b\u540e\u7684\u8c03\u7528\u5728\u540c\u4e00\u5468\u671f\u4e2d\u5c06\u4f1a\u91cd\u5199\u4e4b\u524d\u8c03\u7528\u7684\u503c\uff0c\u56e0\u6b64\u6570\u91cf\u4ec5\u4f1a\u88ab\u52a0\u4e00\u3002\u82e5\u4e4b\u540e\u7684\u72b6\u6001\u4f9d\u8d56\u4e8e\u4e4b\u524d\u7684\u72b6\u6001\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528updater\u51fd\u6570\u5f62\u5f0f\uff1a this.setState((prevState) => { return {counter: prevState.quantity + 1}; });","title":"setState()"},{"location":"react/React.Component/#forceupdate","text":"component.forceUpdate(callback) \u9ed8\u8ba4\u60c5\u51b5\uff0c\u5f53\u4f60\u7684\u7ec4\u4ef6\u6216\u72b6\u6001\u53d1\u751f\u6539\u53d8\uff0c\u4f60\u7684\u7ec4\u4ef6\u5c06\u4f1a\u91cd\u6e32\u3002\u82e5\u4f60\u7684 render() \u65b9\u6cd5\u4f9d\u8d56\u5176\u4ed6\u6570\u636e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 forceUpdate() \u6765\u544a\u8bc9React\u7ec4\u4ef6\u9700\u8981\u91cd\u6e32\u3002 \u8c03\u7528 forceUpdate() \u5c06\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u7684 render() \u65b9\u6cd5\u88ab\u8c03\u7528\uff0c\u5e76\u5ffd\u7565 shouldComponentUpdate() \u3002\u8fd9\u5c06\u4f1a\u89e6\u53d1\u6bcf\u4e00\u4e2a\u5b50\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u6db5\u76d6\uff0c\u6bcf\u4e2a\u5b50\u7ec4\u4ef6\u7684 shouldComponentUpdate() \u65b9\u6cd5\u3002\u82e5\u5f53\u6807\u7b7e\u6539\u53d8\uff0cReact\u4ec5\u4f1a\u66f4\u65b0DOM\u3002 \u901a\u5e38\u4f60\u5e94\u8be5\u5c1d\u8bd5\u907f\u514d\u6240\u6709 forceUpdate() \u7684\u7528\u6cd5\u5e76\u4ec5\u5728 render() \u51fd\u6570\u91cc\u4ece this.props \u548c this.state \u8bfb\u53d6\u6570\u636e\u3002","title":"forceUpdate()"},{"location":"react/React.Component/#_10","text":"","title":"\u7c7b\u5c5e\u6027"},{"location":"react/React.Component/#defaultprops","text":"defaultProps \u53ef\u4ee5\u88ab\u5b9a\u4e49\u4e3a\u7ec4\u4ef6\u7c7b\u7684\u4e00\u4e2a\u5c5e\u6027\uff0c\u7528\u4ee5\u4e3a\u7c7b\u8bbe\u7f6e\u9ed8\u8ba4\u7684\u5c5e\u6027\u3002\u8fd9\u5bf9\u4e8e\u672a\u5b9a\u4e49\uff08undefined\uff09\u7684\u5c5e\u6027\u6765\u8bf4\u6709\u7528\uff0c\u800c\u5bf9\u4e8e\u8bbe\u4e3a\u7a7a\uff08null\uff09\u7684\u5c5e\u6027\u5e76\u6ca1\u7528\u3002\u4f8b\u5982\uff1a class CustomButton extends React.Component { // ... } CustomButton.defaultProps = { color: 'blue' }; \u82e5\u672a\u8bbe\u7f6e props.color \uff0c\u5176\u5c06\u88ab\u8bbe\u7f6e\u9ed8\u8ba4\u4e3a 'blue' : render() { return <CustomButton /> ; // props.color will be set to blue } \u82e5 props.color \u8bbe\u4e3anull\uff0c\u5219\u5176\u503c\u5219\u4e3anull\uff1a render() { return <CustomButton color={null} /> ; // props.color will remain null }","title":"defaultProps"},{"location":"react/React.Component/#displayname","text":"displayName \u88ab\u7528\u5728\u8c03\u8bd5\u4fe1\u606f\u4e2d\u3002JSX\u4f1a\u81ea\u52a8\u8bbe\u7f6e\u8be5\u503c","title":"displayName"},{"location":"react/React.Component/#_11","text":"","title":"\u5b9e\u4f8b\u5c5e\u6027"},{"location":"react/React.Component/#props","text":"this.props \u5305\u542b\u4e86\u7ec4\u4ef6\u8be5\u8c03\u7528\u8005\u5b9a\u4e49\u7684\u5c5e\u6027\u3002 \u7279\u522b\u5730\uff0c this.props.children \u662f\u4e00\u4e2a\u7279\u522b\u5c5e\u6027\uff0c\u5176\u901a\u5e38\u7531JSX\u8868\u8fbe\u5f0f\u4e2d\u7684\u5b50\u6807\u7b7e\u5b9a\u4e49\uff0c\u800c\u4e0d\u662f\u6807\u7b7e\u672c\u8eab\u3002","title":"props"},{"location":"react/React.Component/#state","text":"\u72b6\u6001\u662f\u8be5\u7ec4\u4ef6\u7684\u7279\u5b9a\u6570\u636e\uff0c\u5176\u53ef\u80fd\u6539\u53d8\u591a\u6b21\u3002\u72b6\u6001\u7531\u7528\u6237\u5b9a\u4e49\uff0c\u4e14\u5176\u5e94\u4e3a\u7eafJavaScript\u5bf9\u8c61\u3002 \u82e5\u4f60\u4e0d\u5728 render() \u65b9\u6cd5\u4e2d\u4f7f\u7528\u5b83\uff0c\u5176\u4e0d\u5e94\u8be5\u8be5\u88ab\u653e\u5728\u72b6\u6001\u4e0a\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u76f4\u63a5\u5c06timer IDs\u653e\u5728\u5b9e\u4f8b\u4e0a\u3002 \u6c38\u8fdc\u4e0d\u8981\u76f4\u63a5\u6539\u53d8 this.state \uff0c\u56e0\u4e3a\u8c03\u7528 setState() \u4f1a\u66ff\u6362\u4f60\u4e4b\u524d\u505a\u7684\u6539\u53d8\u3002\u5c06 this.state \u5f53\u6210\u4e0d\u53ef\u53d8\u7684\u3002","title":"state"},{"location":"react/React.children%E4%BB%8B%E7%BB%8D/","text":"React.children\u7b80\u4ecb \u00b6 React.Children \u662f React \u7684\u5185\u7f6e\u5bf9\u8c61\uff0c\u5177\u6709\u5f88\u591a\u65b9\u6cd5\u3002 this.props.children \u6216\u8005 props.children \u8868\u793a\u67d0\u4e2a\u7ec4\u4ef6\u7684\u5b50\u7ec4\u4ef6\u3002\u6ce8\u610f\u6570\u636e\u7c7b\u578b\uff1a\u5982\u679c\u6ca1\u6709\u5b50\u7ec4\u4ef6\uff0cnull\uff1b\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u5b50\u7ec4\u4ef6\uff0cobject\uff1b\u5982\u679c\u6709\u591a\u4e2a\u5b50\u7ec4\u4ef6\uff0c\u5c31\u662f array\u3002\u6240\u4ee5\u76f4\u63a5\u5904\u7406 this.props.children \u6bd4\u8f83\u9ebb\u70e6\u3002 \u4f7f\u7528 React.Children \u5904\u7406 this.props.children \u53ef\u4ee5\u89e3\u51b3\u6570\u636e\u7c7b\u578b\u7684\u95ee\u9898\u3002\u4e0b\u9762\u662f\u4e3b\u8981\u65b9\u6cd5 map \u00b6 \u7c7b\u4f3c\u4e8e\u6570\u7ec4\u7684 map\uff0c\u53ef\u4ee5\u83b7\u53d6\u6bcf\u4e00\u4e2a\u5b50\u7ec4\u4ef6\u5e76\u5904\u7406 function handleChildren() { React.Children.map(this.props.children, function(child) { return <li>{child}</li> }); } \u8fd9\u6837\u53ef\u4ee5\u6279\u91cf\u5904\u7406\u5b50\u7ec4\u4ef6 let NodeList = React.createClass({ render: function() { return ( <ul>{this.handleChildren()}</ul> ); } }); React.render( <NotesList> <span>hello</span> <span>Michael</span> </NotesList>, document.body); < ul > < li >< span > hello </ span ></ li > < li >< span > Michael </ span ></ li > </ ul > forEach \u00b6 \u4e0d\u8fd4\u56de\u5bf9\u8c61\uff0c\u53ea\u5b9e\u73b0 this.props.children \u6570\u636e\u5904\u7406\uff1b\u901a\u5e38\u4f7f\u7528 map \u65b9\u6cd5\uff1b count \u00b6 React.Children.count(this.props.children) \u8fd4\u56de\u5b50\u7ec4\u4ef6\u7684\u6570\u91cf\uff08012\uff09","title":"React.children\u4ecb\u7ecd.md"},{"location":"react/React.children%E4%BB%8B%E7%BB%8D/#reactchildren","text":"React.Children \u662f React \u7684\u5185\u7f6e\u5bf9\u8c61\uff0c\u5177\u6709\u5f88\u591a\u65b9\u6cd5\u3002 this.props.children \u6216\u8005 props.children \u8868\u793a\u67d0\u4e2a\u7ec4\u4ef6\u7684\u5b50\u7ec4\u4ef6\u3002\u6ce8\u610f\u6570\u636e\u7c7b\u578b\uff1a\u5982\u679c\u6ca1\u6709\u5b50\u7ec4\u4ef6\uff0cnull\uff1b\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u5b50\u7ec4\u4ef6\uff0cobject\uff1b\u5982\u679c\u6709\u591a\u4e2a\u5b50\u7ec4\u4ef6\uff0c\u5c31\u662f array\u3002\u6240\u4ee5\u76f4\u63a5\u5904\u7406 this.props.children \u6bd4\u8f83\u9ebb\u70e6\u3002 \u4f7f\u7528 React.Children \u5904\u7406 this.props.children \u53ef\u4ee5\u89e3\u51b3\u6570\u636e\u7c7b\u578b\u7684\u95ee\u9898\u3002\u4e0b\u9762\u662f\u4e3b\u8981\u65b9\u6cd5","title":"React.children\u7b80\u4ecb"},{"location":"react/React.children%E4%BB%8B%E7%BB%8D/#map","text":"\u7c7b\u4f3c\u4e8e\u6570\u7ec4\u7684 map\uff0c\u53ef\u4ee5\u83b7\u53d6\u6bcf\u4e00\u4e2a\u5b50\u7ec4\u4ef6\u5e76\u5904\u7406 function handleChildren() { React.Children.map(this.props.children, function(child) { return <li>{child}</li> }); } \u8fd9\u6837\u53ef\u4ee5\u6279\u91cf\u5904\u7406\u5b50\u7ec4\u4ef6 let NodeList = React.createClass({ render: function() { return ( <ul>{this.handleChildren()}</ul> ); } }); React.render( <NotesList> <span>hello</span> <span>Michael</span> </NotesList>, document.body); < ul > < li >< span > hello </ span ></ li > < li >< span > Michael </ span ></ li > </ ul >","title":"map"},{"location":"react/React.children%E4%BB%8B%E7%BB%8D/#foreach","text":"\u4e0d\u8fd4\u56de\u5bf9\u8c61\uff0c\u53ea\u5b9e\u73b0 this.props.children \u6570\u636e\u5904\u7406\uff1b\u901a\u5e38\u4f7f\u7528 map \u65b9\u6cd5\uff1b","title":"forEach"},{"location":"react/React.children%E4%BB%8B%E7%BB%8D/#count","text":"React.Children.count(this.props.children) \u8fd4\u56de\u5b50\u7ec4\u4ef6\u7684\u6570\u91cf\uff08012\uff09","title":"count"},{"location":"react/React%E4%B8%AD%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/","text":"React\u4e2d\u6570\u636e\u4f20\u8f93 \u00b6 \u7236\u7ec4\u4ef6\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6 \u00b6 \u6982\u8ff0\uff1aReact\u4e2d\u4e3b\u8981\u4f7f\u7528\u7ec4\u4ef6\u8fdb\u884c\u6570\u636e\u4f20\u8f93\uff0c\u7ec4\u4ef6\u7684\u6570\u636e\u5b58\u50a8\u5728props\u548cstate\u4e2d\uff0c\u8fdb\u884c**\u81ea\u4e0a\u800c\u4e0b**\u5355\u5411\u6570\u636e\u4f20\u9012\u3002 props \u00b6 React\u6838\u5fc3\u601d\u60f3\uff1a\u7ec4\u4ef6\u5316\uff0c\u9875\u9762\u88ab\u5207\u6210\u4e00\u4e2a\u4e2a\u53ef\u4ee5\u590d\u7528\u7684\u72ec\u7acb\u7684\u7ec4\u4ef6\u3002\u6bcf\u4e2a\u7ec4\u4ef6\u662f\u4e00\u4e2a\u5185\u90e8\u5c01\u95ed\u7684\u73af\u5883\uff0c\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u51fd\u6570\uff0cprops\u5c31\u662f\u4f20\u5165\u7684\u53c2\u6570\u3002 1.\u7528\u6cd5 \u5728\u7236\u7ec4\u4ef6\u4e2d\uff0crender \u4e2d\u5c31\u662f\u8c03\u7528\u5b50\u51fd\u6570\u7684\u8fc7\u7a0b\uff0c\u5e76\u628a\u5b9e\u9645\u53c2\u6570\u4f20\u5165\u3002\u5728\u5b50\u7ec4\u4ef6\u4e2d\uff0c\u9700\u8981\u4f7f\u7528props\u4f5c\u4e3a\u5f62\u5f0f\u53c2\u6570\uff0c\u4f20\u9012\u7236\u7ec4\u4ef6\u4f20\u5165\u7684\u53c2\u6570\u3002 //\u7236\u7ec4\u4ef6 import Item from \"./item\"; export default class ItemList extends React.Component{ const itemList = data.map(item => <Item item=item />); render(){ return ( { itemList } ); } } //map \u51fd\u6570\u8fd4\u56de\u6bcf\u4e00\u9879\u90fd\u662f<Item item=\"\u6570\u636e\">\u7684\u6570\u7ec4 // \u5b50\u7ec4\u4ef6 export default class Item extends React.Component{ render{ return ( <li>{this.props.item}</li> ) } } // this.props\u83b7\u53d6\u5230\u7ec4\u4ef6\u7684\u6240\u6709\u6570\u636e(\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5305\u62ec\u8fd9\u4e2a\u7ec4\u4ef6\u7684\u914d\u7f6e)\u6839\u636e\u7236\u7ec4\u4ef6\uff0c\u73b0\u5728\u53ea\u6709item = item \u5c5e\u6027\uff0c\u6240\u6709\u76f4\u63a5\u83b7\u53d6this.props.item\u5373\u53ef\u83b7\u5f97\u5168\u90e8\u6570\u636e\u3002 2.\u53ea\u8bfb\u6027\u4e0d\u53d8\u6027 props\u7528\u4e8e**\u521d\u59cb\u5316\u72b6\u6001\u548c\u6e32\u67d3\u7ec4\u4ef6**\u4e24\u4e2a\u529f\u80fd\u3002\u6240\u4ee5\u5f53\u7ec4\u4ef6\u5b9e\u4f8b\u5316\u4ee5\u540e\uff0cprops\u662f\u4e0d\u80fd\u6539\u53d8\u7684\u3002\u53ea\u6709\u901a\u8fc7\u7236\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\u7684\u65b9\u5f0f\u624d\u80fd\u5c06\u65b0\u7684props\u4f20\u5165\u5b50\u7ec4\u4ef6\u4e2d\u3002\uff08\u5b50\u7ec4\u4ef6\u4e2d\u65e0\u6cd5\u5bf9this.props\u8fdb\u884c\u4fee\u6539\uff09\u3002props\u7c7b\u4f3c\u4e8e\u4ece\u4e0a\u9762\u4f20\u6765\u7684\u5e38\u91cf\u3002 3.\u9ed8\u8ba4\u53c2\u6570\u548c\u6570\u636e\u7c7b\u578b Item . defaultProps = { item : \"React Seafile\" } // \u9ed8\u8ba4\u53c2\u6570 Item . propTypes = { item : PropTypes . string } // \u9ed8\u8ba4\u6570\u636e\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32(\u6216\u8005\u5176\u4ed6\u6570\u636e\u7c7b\u578b) State \u00b6 state: state is similar to props, but it is private and fully controlled by the component. State\u662f\u4e0eprops\u76f8\u540c\u70b9\u90fd\u662f\u6570\u636e\uff08\u53c2\u6570\uff09\uff0c\u4f46\u662fstate\u662f\u5b50\u7ec4\u4ef6\u79c1\u6709\u7684\u53d8\u91cf\uff0c\u800c\u4e14\u7531\u5b50\u7ec4\u4ef6\u5b8c\u5168\u63a7\u5236\u3002 1.\u7528\u6cd5 export default class ItemList extends React . Component { constructor (){ super (); this . state = { itemList : true } } //\u6211\u4eec\u4f1a\u901a\u8fc7\u5f02\u6b65\u64cd\u4f5c\u83b7\u53d6\u6570\u636e\uff0c\u9700\u8981\u5728didMount\u9636\u6bb5\u6267\u884c\u5f02\u6b65\u64cd\u4f5c componentDidMount (){ fetch ( \"url\" ). then (( response ) => response . json ()). then (( data ) => { this . setState ({ itemList : item }); }) } render { return ( { this . state . itemList } ) } } \u91cd\u8981\u63d0\u793a \uff1a \u5f53\u6211\u4eec\u8c03\u7528this . setState\u7684\u65b9\u6cd5\u65f6 \uff0c React\u4f1a\u66f4\u65b0\u7ec4\u4ef6\u7684\u6570\u636e\u72b6\u6001state \uff0c \u5e76\u4e14\u4f1a\u91cd\u65b0\u8c03\u7528render\u65b9\u6cd5 \uff0c \u4f1a\u5bf9\u7ec4\u4ef6\u8fdb\u884c\u91cd\u65b0\u6e32\u67d3 \u3002 constructor\u662f\u552f\u4e00\u521d\u59cb\u5316state\u7684\u5730\u65b9 \uff0c this . state\u6765\u521d\u59cb\u5316state \uff0c this . setState\u4e00\u79cd\u65b9\u6cd5\u4fee\u6539state\u53c2\u6570 \u3002 \u603b\u7ed3 \uff1a state\u7528\u4e8e\u7ec4\u4ef6\u5b58\u50a8\u81ea\u5df1\u7684\u5c5e\u6027\u548c\u72b6\u6001 \uff0c \u4e0d\u80fd\u901a\u8fc7\u7236\u7ec4\u4ef6\u8bbf\u95ee \uff0c \u53ef\u4ee5\u4f20\u7ed9\u5b50\u7ec4\u4ef6 \uff0c \u53ea\u80fd\u901a\u8fc7this . setState\u6765\u4fee\u6539 \u3002 ~~ \u4fee\u6539state\u5c5e\u6027\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3 \u3002 ~~ \u6ca1\u6709state\u53eb\u505a\u65e0\u72b6\u6001\u7ec4\u4ef6 \uff0c \u6709state\u53eb\u505a\u6709\u72b6\u6001\u7ec4\u4ef6 \u3002 \u591a\u7528props \uff0c \u5c11\u7528state \uff0c props\u53ef\u4ee5\u9010\u5c42\u5411\u4e0b\u4f20\u9012 \u3002 React\u4e2d\u7684\u540c\u4e00\u4e2a\u7ec4\u4ef6\u5185\u90e8\u6807\u7b7e\u6761\u4ef6\u6e32\u67d3 \uff1a \u4e0d\u9700\u8981\u8bbe\u7f6e\u67d0\u4e2a\u6807\u7b7e\u7684show - hide\u5c5e\u6027 \uff0c \u76f4\u63a5\u4f7f\u7528JSX\u4e2d\u7684\u4e09\u76ee\u8ba1\u7b97\u8fdb\u884c\u6e32\u67d3 { \u6761\u4ef6 \uff08 \u5c5e\u6027 == true \uff09\uff1f < Form1 />: null } //fetch \u65b0\u7684\u8bf7\u6c42\u65b9\u6cd5(\u517c\u5bb9\u6027)\u2014\u2014\u9644\u52a0 fetch ( url , options ). then ( function ( response ){ //handle http response }, function ( error ){ //handle network error }) options \u53ef\u9009\u53c2\u6570 ( \u662f\u4e00\u4e2a\u5bf9\u8c61 ) \u5305\u62ec\u5bf9\u4e8e\u8bf7\u6c42\u7684\u8bbe\u7f6e { method : \"POST\" , body : JSON . stringity ( data ) } \u5305\u62ec \uff1a \u8bf7\u6c42\u65b9\u6cd5 \uff1a POST - GET \u8bf7\u6c42\u5934\u4fe1\u606f \uff1a header\u5bf9\u8c61 \u8bf7\u6c42\u4f53\u4fe1\u606f \uff1a body \uff1a Blob \u3001 FormData\u7b49 \u76f8\u5e94response\u662f\u4e00\u4e2aPromise\u5bf9\u8c61 Promise\u5bf9\u8c61\u5c5e\u6027 \uff1a status \uff1a \u8bf7\u6c42\u53c2\u6570\u7ed3\u679c200 statustext : \u670d\u52a1\u5668\u8fd4\u56de\u7684\u72b6\u6001\u62a5\u6587 headers : \u8fd4\u56de\u7684\u5934\u90e8\u4fe1\u606f url\u8bf7\u6c42\u7684\u5730\u5740 Promise\u5bf9\u8c61\u65b9\u6cd5 \uff1a text \uff1a \u4ee5string\u5f62\u5f0f\u751f\u6210\u8bf7\u6c42text json () \u751f\u6210JOSN . parse ( responseText ) \u7684\u7ed3\u679c blob () \u751f\u6210\u4e00\u4e2aBlob arrayBuffer () \u751f\u6210\u4e00\u4e2aArrayBuffer formData () \u751f\u6210\u683c\u5f0f\u5316\u7684\u6570\u636e \u53ef\u7528\u4e8e\u5176\u4ed6\u7684\u8bf7\u6c42 \u53c2\u8003\u6587\u4ef6 \uff1a JavaScript\u5229\u7528fetch\u5b9e\u73b0\u5f02\u6b65\u8bf7\u6c42\u7684\u65b9\u6cd5\u6848\u4f8b \u5b50\u7ec4\u4ef6\u4f20\u9012\u7ed9\u7236\u7ec4\u4ef6 \u00b6 \u56de\u8c03\u51fd\u6570 \u00b6 \u5f53\u5b50\u7ec4\u4ef6\u7684\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u53ef\u4ee5\u7528\u6237\u89e6\u53d1\u6216\u8005JS\u89e6\u53d1\u56de\u8c03\u51fd\u6570\uff0c\u628a\u5b50\u7ec4\u4ef6\u7684\u4fe1\u606f\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u8fd4\u56de\u7236\u7ec4\u4ef6\uff0c\u4e4b\u540e\u7236\u7ec4\u4ef6\u5904\u7406\u5e76setState\u3002\u8fd9\u662f\u5e38\u7528\u7684\u65b9\u6cd5\u3002 \u4e8b\u4ef6\u76d1\u542c \u00b6 \u5982\u679c\u5b50\u7ec4\u4ef6\u5f88\u591a\u6216\u8005\u5c42\u7ea7\u5f88\u6df1\uff0c\u90a3\u4e48\u5e95\u5c42\u5b50\u7ec4\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u4f1a\u4f9d\u6b21\u4e0a\u4f20\uff0c\u6216\u8005\u9700\u8981\u5904\u7406\u591a\u4e2a\u4e8b\u4ef6\uff0c\u90a3\u4e48\u56de\u8c03\u51fd\u6570\u4e0d\u9002\u5408\u5904\u7406\u3002\u6240\u4ee5\u4f7f\u7528\u4e8b\u4ef6\u76d1\u542c\uff08eg eventbus\uff09\u4efb\u4f55\u4f4d\u7f6e\u7684\u5b50\u7ec4\u4ef6\u89e6\u53d1\u4e8b\u4ef6\uff0c\u5728\u9876\u7ea7\u7ec4\u4ef6\u6216\u8005\u6307\u5b9a\u7ec4\u4ef6\u76d1\u542c\u4e8b\u4ef6\uff0c\u7edf\u4e00\u5904\u7406\uff0c\u7136\u540e\u7edf\u4e00\u8bbe\u7f6e\u72b6\u6001\uff0c\u8fd9\u6837\u66f4\u597d\u7ba1\u7406\u7ec4\u4ef6\u3002\u5927\u578b\u9879\u76ee\u4e2d\u66f4\u5408\u9002\u3002 Ref \u00b6 \u4e0a\u9762\u4e24\u79cd\u65b9\u5f0f\u9002\u5e94\u4e8e\u5b50\u7ec4\u4ef6\u53d1\u51fa\u4fe1\u53f7\uff0c\u7136\u540e\u7236\u7ec4\u4ef6\u88ab\u52a8\u63a5\u6536\u3002\u5982\u679c\u7236\u7ec4\u4ef6\u5411\u4e3b\u52a8\u83b7\u53d6\u5b50\u7ec4\u4ef6\u7684\u4fe1\u606f\uff0c\u9700\u8981\u901a\u8fc7 ref \u8bbf\u95ee\u5b50\u7ec4\u4ef6\u7684 DOM \u5c5e\u6027\u72b6\u6001\u3002\u5b50\u7ec4\u4ef6\u4e2d\u8bbe\u7f6e ref={(node) => {this.ref = node}} \u628a\u5b50\u7ec4\u4ef6\u901a\u8fc7ref\u4f20\u51fa\u53bb\u3002\u7236\u7ec4\u4ef6\u4e2d\u4f7f\u7528 ref \u5c5e\u6027\u53ef\u4ee5\u83b7\u53d6\u5b50\u7ec4\u4ef6\uff08\u9ad8\u9636\u7ec4\u4ef6\u4e2d\u4e0d\u80fd\u76f4\u63a5\u83b7\u53d6ref\uff0c\u9700\u8981\u8f6c\u6362\uff09\u3002","title":"React\u4e2d\u6570\u636e\u4f20\u8f93.md"},{"location":"react/React%E4%B8%AD%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/#react","text":"","title":"React\u4e2d\u6570\u636e\u4f20\u8f93"},{"location":"react/React%E4%B8%AD%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/#_1","text":"\u6982\u8ff0\uff1aReact\u4e2d\u4e3b\u8981\u4f7f\u7528\u7ec4\u4ef6\u8fdb\u884c\u6570\u636e\u4f20\u8f93\uff0c\u7ec4\u4ef6\u7684\u6570\u636e\u5b58\u50a8\u5728props\u548cstate\u4e2d\uff0c\u8fdb\u884c**\u81ea\u4e0a\u800c\u4e0b**\u5355\u5411\u6570\u636e\u4f20\u9012\u3002","title":"\u7236\u7ec4\u4ef6\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6"},{"location":"react/React%E4%B8%AD%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/#props","text":"React\u6838\u5fc3\u601d\u60f3\uff1a\u7ec4\u4ef6\u5316\uff0c\u9875\u9762\u88ab\u5207\u6210\u4e00\u4e2a\u4e2a\u53ef\u4ee5\u590d\u7528\u7684\u72ec\u7acb\u7684\u7ec4\u4ef6\u3002\u6bcf\u4e2a\u7ec4\u4ef6\u662f\u4e00\u4e2a\u5185\u90e8\u5c01\u95ed\u7684\u73af\u5883\uff0c\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u51fd\u6570\uff0cprops\u5c31\u662f\u4f20\u5165\u7684\u53c2\u6570\u3002 1.\u7528\u6cd5 \u5728\u7236\u7ec4\u4ef6\u4e2d\uff0crender \u4e2d\u5c31\u662f\u8c03\u7528\u5b50\u51fd\u6570\u7684\u8fc7\u7a0b\uff0c\u5e76\u628a\u5b9e\u9645\u53c2\u6570\u4f20\u5165\u3002\u5728\u5b50\u7ec4\u4ef6\u4e2d\uff0c\u9700\u8981\u4f7f\u7528props\u4f5c\u4e3a\u5f62\u5f0f\u53c2\u6570\uff0c\u4f20\u9012\u7236\u7ec4\u4ef6\u4f20\u5165\u7684\u53c2\u6570\u3002 //\u7236\u7ec4\u4ef6 import Item from \"./item\"; export default class ItemList extends React.Component{ const itemList = data.map(item => <Item item=item />); render(){ return ( { itemList } ); } } //map \u51fd\u6570\u8fd4\u56de\u6bcf\u4e00\u9879\u90fd\u662f<Item item=\"\u6570\u636e\">\u7684\u6570\u7ec4 // \u5b50\u7ec4\u4ef6 export default class Item extends React.Component{ render{ return ( <li>{this.props.item}</li> ) } } // this.props\u83b7\u53d6\u5230\u7ec4\u4ef6\u7684\u6240\u6709\u6570\u636e(\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5305\u62ec\u8fd9\u4e2a\u7ec4\u4ef6\u7684\u914d\u7f6e)\u6839\u636e\u7236\u7ec4\u4ef6\uff0c\u73b0\u5728\u53ea\u6709item = item \u5c5e\u6027\uff0c\u6240\u6709\u76f4\u63a5\u83b7\u53d6this.props.item\u5373\u53ef\u83b7\u5f97\u5168\u90e8\u6570\u636e\u3002 2.\u53ea\u8bfb\u6027\u4e0d\u53d8\u6027 props\u7528\u4e8e**\u521d\u59cb\u5316\u72b6\u6001\u548c\u6e32\u67d3\u7ec4\u4ef6**\u4e24\u4e2a\u529f\u80fd\u3002\u6240\u4ee5\u5f53\u7ec4\u4ef6\u5b9e\u4f8b\u5316\u4ee5\u540e\uff0cprops\u662f\u4e0d\u80fd\u6539\u53d8\u7684\u3002\u53ea\u6709\u901a\u8fc7\u7236\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\u7684\u65b9\u5f0f\u624d\u80fd\u5c06\u65b0\u7684props\u4f20\u5165\u5b50\u7ec4\u4ef6\u4e2d\u3002\uff08\u5b50\u7ec4\u4ef6\u4e2d\u65e0\u6cd5\u5bf9this.props\u8fdb\u884c\u4fee\u6539\uff09\u3002props\u7c7b\u4f3c\u4e8e\u4ece\u4e0a\u9762\u4f20\u6765\u7684\u5e38\u91cf\u3002 3.\u9ed8\u8ba4\u53c2\u6570\u548c\u6570\u636e\u7c7b\u578b Item . defaultProps = { item : \"React Seafile\" } // \u9ed8\u8ba4\u53c2\u6570 Item . propTypes = { item : PropTypes . string } // \u9ed8\u8ba4\u6570\u636e\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32(\u6216\u8005\u5176\u4ed6\u6570\u636e\u7c7b\u578b)","title":"props"},{"location":"react/React%E4%B8%AD%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/#state","text":"state: state is similar to props, but it is private and fully controlled by the component. State\u662f\u4e0eprops\u76f8\u540c\u70b9\u90fd\u662f\u6570\u636e\uff08\u53c2\u6570\uff09\uff0c\u4f46\u662fstate\u662f\u5b50\u7ec4\u4ef6\u79c1\u6709\u7684\u53d8\u91cf\uff0c\u800c\u4e14\u7531\u5b50\u7ec4\u4ef6\u5b8c\u5168\u63a7\u5236\u3002 1.\u7528\u6cd5 export default class ItemList extends React . Component { constructor (){ super (); this . state = { itemList : true } } //\u6211\u4eec\u4f1a\u901a\u8fc7\u5f02\u6b65\u64cd\u4f5c\u83b7\u53d6\u6570\u636e\uff0c\u9700\u8981\u5728didMount\u9636\u6bb5\u6267\u884c\u5f02\u6b65\u64cd\u4f5c componentDidMount (){ fetch ( \"url\" ). then (( response ) => response . json ()). then (( data ) => { this . setState ({ itemList : item }); }) } render { return ( { this . state . itemList } ) } } \u91cd\u8981\u63d0\u793a \uff1a \u5f53\u6211\u4eec\u8c03\u7528this . setState\u7684\u65b9\u6cd5\u65f6 \uff0c React\u4f1a\u66f4\u65b0\u7ec4\u4ef6\u7684\u6570\u636e\u72b6\u6001state \uff0c \u5e76\u4e14\u4f1a\u91cd\u65b0\u8c03\u7528render\u65b9\u6cd5 \uff0c \u4f1a\u5bf9\u7ec4\u4ef6\u8fdb\u884c\u91cd\u65b0\u6e32\u67d3 \u3002 constructor\u662f\u552f\u4e00\u521d\u59cb\u5316state\u7684\u5730\u65b9 \uff0c this . state\u6765\u521d\u59cb\u5316state \uff0c this . setState\u4e00\u79cd\u65b9\u6cd5\u4fee\u6539state\u53c2\u6570 \u3002 \u603b\u7ed3 \uff1a state\u7528\u4e8e\u7ec4\u4ef6\u5b58\u50a8\u81ea\u5df1\u7684\u5c5e\u6027\u548c\u72b6\u6001 \uff0c \u4e0d\u80fd\u901a\u8fc7\u7236\u7ec4\u4ef6\u8bbf\u95ee \uff0c \u53ef\u4ee5\u4f20\u7ed9\u5b50\u7ec4\u4ef6 \uff0c \u53ea\u80fd\u901a\u8fc7this . setState\u6765\u4fee\u6539 \u3002 ~~ \u4fee\u6539state\u5c5e\u6027\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3 \u3002 ~~ \u6ca1\u6709state\u53eb\u505a\u65e0\u72b6\u6001\u7ec4\u4ef6 \uff0c \u6709state\u53eb\u505a\u6709\u72b6\u6001\u7ec4\u4ef6 \u3002 \u591a\u7528props \uff0c \u5c11\u7528state \uff0c props\u53ef\u4ee5\u9010\u5c42\u5411\u4e0b\u4f20\u9012 \u3002 React\u4e2d\u7684\u540c\u4e00\u4e2a\u7ec4\u4ef6\u5185\u90e8\u6807\u7b7e\u6761\u4ef6\u6e32\u67d3 \uff1a \u4e0d\u9700\u8981\u8bbe\u7f6e\u67d0\u4e2a\u6807\u7b7e\u7684show - hide\u5c5e\u6027 \uff0c \u76f4\u63a5\u4f7f\u7528JSX\u4e2d\u7684\u4e09\u76ee\u8ba1\u7b97\u8fdb\u884c\u6e32\u67d3 { \u6761\u4ef6 \uff08 \u5c5e\u6027 == true \uff09\uff1f < Form1 />: null } //fetch \u65b0\u7684\u8bf7\u6c42\u65b9\u6cd5(\u517c\u5bb9\u6027)\u2014\u2014\u9644\u52a0 fetch ( url , options ). then ( function ( response ){ //handle http response }, function ( error ){ //handle network error }) options \u53ef\u9009\u53c2\u6570 ( \u662f\u4e00\u4e2a\u5bf9\u8c61 ) \u5305\u62ec\u5bf9\u4e8e\u8bf7\u6c42\u7684\u8bbe\u7f6e { method : \"POST\" , body : JSON . stringity ( data ) } \u5305\u62ec \uff1a \u8bf7\u6c42\u65b9\u6cd5 \uff1a POST - GET \u8bf7\u6c42\u5934\u4fe1\u606f \uff1a header\u5bf9\u8c61 \u8bf7\u6c42\u4f53\u4fe1\u606f \uff1a body \uff1a Blob \u3001 FormData\u7b49 \u76f8\u5e94response\u662f\u4e00\u4e2aPromise\u5bf9\u8c61 Promise\u5bf9\u8c61\u5c5e\u6027 \uff1a status \uff1a \u8bf7\u6c42\u53c2\u6570\u7ed3\u679c200 statustext : \u670d\u52a1\u5668\u8fd4\u56de\u7684\u72b6\u6001\u62a5\u6587 headers : \u8fd4\u56de\u7684\u5934\u90e8\u4fe1\u606f url\u8bf7\u6c42\u7684\u5730\u5740 Promise\u5bf9\u8c61\u65b9\u6cd5 \uff1a text \uff1a \u4ee5string\u5f62\u5f0f\u751f\u6210\u8bf7\u6c42text json () \u751f\u6210JOSN . parse ( responseText ) \u7684\u7ed3\u679c blob () \u751f\u6210\u4e00\u4e2aBlob arrayBuffer () \u751f\u6210\u4e00\u4e2aArrayBuffer formData () \u751f\u6210\u683c\u5f0f\u5316\u7684\u6570\u636e \u53ef\u7528\u4e8e\u5176\u4ed6\u7684\u8bf7\u6c42 \u53c2\u8003\u6587\u4ef6 \uff1a JavaScript\u5229\u7528fetch\u5b9e\u73b0\u5f02\u6b65\u8bf7\u6c42\u7684\u65b9\u6cd5\u6848\u4f8b","title":"State"},{"location":"react/React%E4%B8%AD%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/#_2","text":"","title":"\u5b50\u7ec4\u4ef6\u4f20\u9012\u7ed9\u7236\u7ec4\u4ef6"},{"location":"react/React%E4%B8%AD%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/#_3","text":"\u5f53\u5b50\u7ec4\u4ef6\u7684\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u53ef\u4ee5\u7528\u6237\u89e6\u53d1\u6216\u8005JS\u89e6\u53d1\u56de\u8c03\u51fd\u6570\uff0c\u628a\u5b50\u7ec4\u4ef6\u7684\u4fe1\u606f\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u8fd4\u56de\u7236\u7ec4\u4ef6\uff0c\u4e4b\u540e\u7236\u7ec4\u4ef6\u5904\u7406\u5e76setState\u3002\u8fd9\u662f\u5e38\u7528\u7684\u65b9\u6cd5\u3002","title":"\u56de\u8c03\u51fd\u6570"},{"location":"react/React%E4%B8%AD%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/#_4","text":"\u5982\u679c\u5b50\u7ec4\u4ef6\u5f88\u591a\u6216\u8005\u5c42\u7ea7\u5f88\u6df1\uff0c\u90a3\u4e48\u5e95\u5c42\u5b50\u7ec4\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u4f1a\u4f9d\u6b21\u4e0a\u4f20\uff0c\u6216\u8005\u9700\u8981\u5904\u7406\u591a\u4e2a\u4e8b\u4ef6\uff0c\u90a3\u4e48\u56de\u8c03\u51fd\u6570\u4e0d\u9002\u5408\u5904\u7406\u3002\u6240\u4ee5\u4f7f\u7528\u4e8b\u4ef6\u76d1\u542c\uff08eg eventbus\uff09\u4efb\u4f55\u4f4d\u7f6e\u7684\u5b50\u7ec4\u4ef6\u89e6\u53d1\u4e8b\u4ef6\uff0c\u5728\u9876\u7ea7\u7ec4\u4ef6\u6216\u8005\u6307\u5b9a\u7ec4\u4ef6\u76d1\u542c\u4e8b\u4ef6\uff0c\u7edf\u4e00\u5904\u7406\uff0c\u7136\u540e\u7edf\u4e00\u8bbe\u7f6e\u72b6\u6001\uff0c\u8fd9\u6837\u66f4\u597d\u7ba1\u7406\u7ec4\u4ef6\u3002\u5927\u578b\u9879\u76ee\u4e2d\u66f4\u5408\u9002\u3002","title":"\u4e8b\u4ef6\u76d1\u542c"},{"location":"react/React%E4%B8%AD%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/#ref","text":"\u4e0a\u9762\u4e24\u79cd\u65b9\u5f0f\u9002\u5e94\u4e8e\u5b50\u7ec4\u4ef6\u53d1\u51fa\u4fe1\u53f7\uff0c\u7136\u540e\u7236\u7ec4\u4ef6\u88ab\u52a8\u63a5\u6536\u3002\u5982\u679c\u7236\u7ec4\u4ef6\u5411\u4e3b\u52a8\u83b7\u53d6\u5b50\u7ec4\u4ef6\u7684\u4fe1\u606f\uff0c\u9700\u8981\u901a\u8fc7 ref \u8bbf\u95ee\u5b50\u7ec4\u4ef6\u7684 DOM \u5c5e\u6027\u72b6\u6001\u3002\u5b50\u7ec4\u4ef6\u4e2d\u8bbe\u7f6e ref={(node) => {this.ref = node}} \u628a\u5b50\u7ec4\u4ef6\u901a\u8fc7ref\u4f20\u51fa\u53bb\u3002\u7236\u7ec4\u4ef6\u4e2d\u4f7f\u7528 ref \u5c5e\u6027\u53ef\u4ee5\u83b7\u53d6\u5b50\u7ec4\u4ef6\uff08\u9ad8\u9636\u7ec4\u4ef6\u4e2d\u4e0d\u80fd\u76f4\u63a5\u83b7\u53d6ref\uff0c\u9700\u8981\u8f6c\u6362\uff09\u3002","title":"Ref"},{"location":"react/React%E4%BA%8B%E4%BB%B6/","text":"React.js\u5b66\u4e60\u7b14\u8bb0\u4e4b\u4e8b\u4ef6 \u00b6 \u4e8b\u4ef6\u7cfb\u7edf \u00b6 React \u6807\u51c6\u5316\u4e86\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u56e0\u6b64\u5728\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u4e2d\u90fd\u4f1a\u6709\u76f8\u540c\u7684\u5c5e\u6027\u3002 \u7ec4\u4ef6createClass\u540e\u521b\u5efa\u7684\u662f\u8bb8\u591a\u65b9\u6cd5\u7ec4\u6210\u7684\u5bf9\u8c61\u3002\u7ec4\u4ef6\u4e2d\u4f7f\u7528\u7684\u65b9\u6cd5\u5206\u4e3aReact\u81ea\u6709\u7684\u65b9\u6cd5\u4e0e\u7528\u6237\u5b9a\u4e49\u7684\u65b9\u6cd5\u3002\u5176\u4e2dReact\u81ea\u6709\u65b9\u6cd5\u662f\u7ec4\u4ef6\u751f\u547d\u5468\u671f\u4e2d\u7684\u65b9\u6cd5\uff0c\u5982\uff1a render \u3001 componentWillUpdate \u3001 componentDidMount \u7b49\u3002\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u65b9\u6cd5\u53ef\u4ee5\u8d77\u7b26\u5408JS\u547d\u540d\u89c4\u8303\u7684\u65b9\u6cd5\u5c31\u53ef\u4ee5\uff08\u6700\u597d\u4f7f\u7528\u9a7c\u5cf0\u547d\u540d\uff09\uff0c\u5982\uff1a handleClick \u3001 handleChange \u3001 handleMouseover \u7b49\u3002 \u4e8b\u4ef6\u7ed1\u5b9a\u8bed\u6cd5\uff1aonClick = {this.handleClick} \u7ed1\u5b9a\u4e8b\u4ef6\u5904\u7406\u51fd\u6570 \u00b6 \u9f20\u6807\u7c7b \u00b6 onClick onContextMenu onDoubleClick onMouseDown onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp \u62d6\u62fd\u4e8b\u4ef6\uff1a onDrop onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart \u89e6\u6478 \u00b6 onTouchCancel onTouchEnd onTouchMove onTouchStart \u89e6\u6478\u53ea\u4f1a\u5728\u79fb\u52a8\u8bbe\u5907\u4e0a\u4ea7\u751f \u952e\u76d8 \u00b6 onKeyPress \u662f onKeyDown \u548c onKeyUp \u7684\u7ec4\u5408 onKeyDown onKeyPress onKeyUp \u526a\u5207\u7c7b \u00b6 onCopy onCut onPaste \u5bf9\u5e94\u7684\u662f\u6211\u4eec\u5e38\u5e38\u4f7f\u7528\u7684\u590d\u5236\u3001\u526a\u5207\u548c\u7c98\u8d34 \u8868\u5355\u7c7b \u00b6 (\u4f1a\u4e13\u95e8\u603b\u7ed3\u8868\u5355\u7c7b\u4e8b\u4ef6\uff0c\u5728\u6b64\u4ec5\u4ec5\u7b80\u5355\u5217\u51fa) onChange onInput onSubmit onChange \u53ef\u4ee5\u7528\u5728\u8f93\u5165\u6846\u3001\u5355\u9009\u6846\u3001\u4e0b\u62c9\u5217\u8868\u91cc\uff0c\u6bcf\u5f53\u5185\u5bb9\u53d1\u751f\u53d8\u5316\u65f6\u6211\u4eec\u90fd\u80fd\u83b7\u5f97\u901a\u77e5\u3002 onInput \u4f7f\u7528\u5728\u6587\u5b57\u8f93\u5165\u3002 onSubmit \u662f\u7528\u5728\u6574\u4e2a\u8868\u5355\u7684\u8f93\u5165\u63d0\u4ea4\uff0c\u5e38\u7528\u5728\u7981\u6b62\u8868\u5355\u7684\u9ed8\u8ba4\u64cd\u4f5c\u3002 \u7126\u70b9\u4e8b\u4ef6 \u00b6 onFocus onBlur UI\u5143\u7d20\u7c7b \u00b6 onScroll \u6eda\u52a8\u4e8b\u4ef6\u89e6\u53d1\u7684\u65f6\u5019\u4f1a\u89e6\u53d1onScroll\u4e8b\u4ef6 \u6eda\u52a8 \u00b6 onWheel \u9f20\u6807\u6eda\u8f6e\u89e6\u53d1\u7684\u4e8b\u4ef6\uff0c\u76d1\u542c\u6eda\u52a8\u5e45\u5ea6\uff0c\u6eda\u52a8\u65b9\u4f4d \u7ec4\u6210\u4e8b\u4ef6 \u00b6 onCompositionEnd onCompositionStart onCompositionUpdate \u56fe\u7247\u7c7b \u00b6 onLoad onError \u591a\u5a92\u4f53\u7c7b \u00b6 onAbort onCanPlay onCanPlayThrough onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting \u5b9e\u4f8b\u6f14\u793a \u00b6 var HelloDada = React.createClass({ getInitialState:function(){ return{ name:'' }; }, handleChange:function(e){ this.setState({ name:e.target.value }); }, render:function(){ return <div> <input onChange={this.handleChange} /> </div> } }); ReactDom.render(<HelloDada/>,document.body); \u4e8b\u4ef6\u6c60 \u00b6 \u865a\u62df\u4e8b\u4ef6\u5bf9\u8c61\u5df2\u7ecf\u88ab\u5408\u5e76\u3002\u8fd9\u610f\u5473\u7740\u865a\u62df\u4e8b\u4ef6\u5bf9\u8c61\u5c06\u88ab\u91cd\u65b0\u4f7f\u7528\uff0c\u800c\u8be5\u4e8b\u4ef6\u56de\u8c03\u88ab\u8c03\u7528\u4e4b\u540e\u6240\u6709\u7684\u5c5e\u6027\u5c06\u65e0\u6548\u3002\u8fd9\u662f\u51fa\u4e8e\u6027\u80fd\u7684\u8003\u8651\u3002\u56e0\u6b64\uff0c\u60a8\u4e0d\u80fd\u4ee5\u5f02\u6b65\u7684\u65b9\u5f0f\u8bbf\u95ee\u4e8b\u4ef6\u3002 function onClick(event) { console.log(event); // =>\u65e0\u6548\u7684\u5bf9\u8c61 console.log(event.type); // => \"click\" var eventType = event.type; // => \"click\" setTimeout(function() { console.log(event.type); // => null console.log(eventType); // => \"click\" }, 0); this.setState({clickEvent: event}); // \u4e0d\u8d77\u4f5c\u7528.this.state.clickEvent \u5c06\u53ea\u5305\u542b\u7a7a\u503c. this.setState({eventType: event.type}); // \u60a8\u4f9d\u7136\u53ef\u4ee5\u5bfc\u51fa\u4e8b\u4ef6\u5c5e\u6027 } \u5982\u679c\u60a8\u60f3\u4ee5\u4e00\u4e2a\u5f02\u6b65\u7684\u65b9\u5f0f\u6765\u8bbf\u95ee\u4e8b\u4ef6\u5c5e\u6027\uff0c\u60a8\u5e94\u8be5\u5bf9\u4e8b\u4ef6\u8c03\u7528 event.persist() \u3002\u8fd9\u5c06\u4ece\u4e8b\u4ef6\u6c60\u4e2d\u53d6\u51fa\u5408\u6210\u7684\u4e8b\u4ef6\uff0c\u5e76\u5141\u8bb8\u8be5\u4e8b\u4ef6\u7684\u5f15\u7528\uff0c\u4f7f\u7528\u6237\u7684\u4ee3\u7801\u88ab\u4fdd\u7559\u3002 \u4e8b\u4ef6\u5bf9\u8c61 \u00b6 \u4e8b\u4ef6\u5904\u7406\u5668\u5c06\u4f1a\u4f20\u5165 SyntheticEvent \u7684\u5b9e\u4f8b\uff0c\u4e00\u4e2a\u5bf9\u6d4f\u89c8\u5668\u672c\u5730\u4e8b\u4ef6\u7684\u8de8\u6d4f\u89c8\u5668\u5c01\u88c5\u3002\u5b83\u6709\u548c\u6d4f\u89c8\u5668\u672c\u5730\u4e8b\u4ef6\u76f8\u540c\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u5305\u62ec stopPropagation() \u548c preventDefault() \uff0c\u4f46\u662f\u6ca1\u6709\u6d4f\u89c8\u5668\u517c\u5bb9\u95ee\u9898\u3002 \u5982\u679c\u56e0\u4e3a\u4e00\u4e9b\u56e0\u7d20\uff0c\u9700\u8981\u5e95\u5c42\u7684\u6d4f\u89c8\u5668\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u53ea\u8981\u4f7f\u7528 nativeEvent \u5c5e\u6027\u5c31\u53ef\u4ee5\u83b7\u53d6\u5230\u5b83\u4e86\u3002 \u5bf9\u4e8e v0.14\uff0c\u5728\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u4e2d\u8fd4\u56de false \u5c06\u4e0d\u4f1a\u963b\u6b62\u4e8b\u4ef6\u5192\u6ce1\u3002\u53d6\u800c\u4ee3\u4e4b\u7684\u662f\u5728\u5408\u9002\u7684\u5e94\u7528\u573a\u666f\u4e0b\uff0c\u624b\u52a8\u8c03\u7528 e.stopPropagation() \u6216\u8005 e.preventDefault() \u3002 handleChange:function(e){ console.log(e.target.value); } \u5176\u4e2d e \u662f\u4e8b\u4ef6\u5bf9\u8c61 target \u662f\u4e8b\u4ef6\u5bf9\u8c61\u7684\u5c5e\u6027 (\u4ee5\u4e0b\u5185\u5bb9\u62ec\u53f7\u5185\u4e3a\u7c7b\u578b) \u901a\u7528\u5c5e\u6027 \u00b6 bubbles (boolean) \u8868\u793a\u4e8b\u4ef6\u662f\u5426\u5192\u6ce1 cancelable(boolean) \u8868\u793a\u4e8b\u4ef6\u662f\u5426\u53ef\u4ee5\u53d6\u6d88 currentTarget(DOMEventTarget) \u4e0eTarget\u7c7b\u4f3c\uff0c\u7531\u4e8e\u4e8b\u4ef6\u53ef\u4ee5\u5192\u6ce1\uff0c\u6240\u4ee5\u4e24\u8005\u8868\u793a\u7684\u5185\u5bb9\u662f\u4e0d\u540c\u7684 defaultPrevented(boolean) \u8868\u793a\u4e8b\u4ef6\u662f\u5426\u7981\u6b62\u4e86\u9ed8\u8ba4\u884c\u4e3a eventPhase(number) \u8868\u793a\u4e8b\u4ef6\u6240\u5904\u7684\u9636\u6bb5 isTrusted(boolean) \u8868\u793a\u4e8b\u4ef6\u662f\u5426\u53ef\u4fe1\u3002\u6240\u8c13\u7684\u53ef\u4fe1\u4e8b\u4ef6\u8868\u793a\u7684\u662f\u7528\u6237\u64cd\u4f5c\u7684\u4e8b\u4ef6\uff0c\u4e0d\u53ef\u4fe1\u4e8b\u4ef6\u5c31\u662f\u901a\u8fc7JS\u4ee3\u7801\u6765\u89e6\u53d1\u7684\u4e8b\u4ef6\u3002 nativeEvent(DOMEvent) preventDefault() (void) \u5bf9\u5e94\u7684defaultPrevented\uff0c\u8868\u793a\u7684\u662f\u7981\u6b62\u9ed8\u8ba4\u884c\u4e3a stopPropagaTion() (void) \u5bf9\u5e94\u7684\u662fbubbles\uff0c\u8868\u793a\u7684\u662fsh target(DOMEventTarget) timeStamp(number) \u65f6\u95f4\u6233\uff0c\u4e5f\u5c31\u662f\u4e8b\u4ef6\u89e6\u53d1\u7684\u4e8b\u4ef6 type(string) \u4e8b\u4ef6\u7684\u7c7b\u578b \u4e0d\u540c\u4e8b\u4ef6\u5bf9\u8c61\u7684\u7279\u6709\u5c5e\u6027 \u00b6 \u526a\u5207\u4e8b\u4ef6 \u00b6 clipboardData(DOMDataTransfer)\u8868\u793a\u62ff\u5230\u7684\u6570\u636e \u952e\u76d8\u4e8b\u4ef6 \u00b6 altKey(boolean) \u8868\u793a\u662f\u5426\u6309\u4e0balt\u952e charCode(Number) \u8868\u793a\u7684\u662f\u6309\u952e\u7684\u5b57\u7b26\u7f16\u7801\uff0c\u53ef\u4ee5\u901a\u8fc7\u7f16\u7801\u6765\u5224\u65ad\u6309\u4e0b\u7684\u662f\u4ec0\u4e48\u952e ctrlKey(boolean) \u8868\u793a\u662f\u5426\u6309\u4e0bctrl\u952e getModifierState(key) (function) \u8868\u793a\u662f\u5426\u6309\u4e0b\u8f85\u52a9\u6309\u952e\uff08\u8f85\u52a9\u6309\u952e\u5c31\u662f\u96f7\u58ebctrl\u3001shift\u7b49\u8f85\u52a9\u6309\u952e\uff09\u53ef\u4ee5\u4f20\u5165\u6309\u952e\u7f16\u7801\u6765\u5224\u65ad\u662f\u5426\u6309\u4e0b key(string) \u5b57\u7b26\u4e32\uff0c\u6309\u4e0b\u7684\u952e keyCode(Number) \u8868\u793a\u90a3\u4e9b\u4e0d\u662f\u5b57\u7b26\u7f16\u7801\u7684\u6309\u952e locale(String) \u8868\u793a\u672c\u5730\u5316\u5f97\u4e00\u4e9b\u5b57\u7b26\u4e32 location(number) \u8868\u793a\u4f4d\u7f6e metaKey(boolean) \u8868\u793a\u7684\u662fwin\u7cfb\u7edf\u4e0b\u7684win\u952e\uff0cmac\u7cfb\u7edf\u4e0b\u5bf9\u5e94\u7684command\u952e repeat(boolean) \u8868\u793a\u6309\u952e\u662f\u5426\u91cd\u590d shiftKey(boolean) \u8868\u793a\u662f\u5426\u6309\u4e0bshift which(Number) \u8868\u793a\u7ecf\u8fc7\u901a\u7528\u5316\u5f97charCode\u548ckeyCode \u7126\u70b9\u4e8b\u4ef6 \u00b6 relatedTarget(DOMEventTarget) \u76f8\u5173\u7126\u70b9\u5bf9\u8c61 \u9f20\u6807\u4e8b\u4ef6 \u00b6 altKey(boolean) button(Number) buttons(Number) clientX(Number) \u539f\u70b9\u4e3a\u6d4f\u89c8\u5668\u5de6\u4e0a\u89d2 clinetY(Number) \u539f\u70b9\u4e3a\u6d4f\u89c8\u5668\u5de6\u4e0a\u89d2 ctrlKey(boolean) getModifierState(key) (function) metaKey(boolean) pageX(Number) \u539f\u70b9\u4e3aHTML\u9875\u9762\u7684\u5de6\u4e0a\u89d2 pageY(Number) \u539f\u70b9\u4e3aHTML\u9875\u9762\u7684\u5de6\u4e0a\u89d2 relatedTarget(DOMEventTarget) screenX(Number) \u539f\u70b9\u4e3a\u663e\u793a\u5668\u7684\u5de6\u4e0a\u89d2 screenY(Number) \u539f\u70b9\u4e3a\u663e\u793a\u5668\u7684\u5de6\u4e0a\u89d2 shiftKey(boolean) \u89e6\u6478\u4e8b\u4ef6 \u00b6 \u4e3a\u4e86\u4f7f\u89e6\u6478\u4e8b\u4ef6\u751f\u6548\uff0c\u5728\u6e32\u67d3\u6240\u6709\u7ec4\u4ef6\u4e4b\u524d\u8c03\u7528 React.initializeTouchEvents(true) \u3002 altKey(boolean) ctrlKey(boolean) getModifierState(key) metaKey(boolean) shiftKey(boolean) changedTouches(DOMTouchList) \u5224\u65ad\u624b\u52bf\u64cd\u4f5c targetTouches(DOMTouchList) \u5224\u65ad\u624b\u52bf\u64cd\u4f5c touches(DOMTouchList) \u5224\u65ad\u624b\u52bf\u64cd\u4f5c UI\u5143\u7d20\u4e8b\u4ef6 \u00b6 detail(Number) \u6eda\u52a8\u7684\u8ddd\u79bb view(DOMAbstractView) \u754c\u9762\uff0c\u89c6\u7a97 \u9f20\u6807\u6eda\u52a8 \u00b6 deltaMode(Number) \u53ef\u4ee5\u7406\u89e3\u4e3a\u79fb\u52a8\u7684\u5355\u4f4d deltaX(Number) X\u8f74\u79fb\u52a8\u7684\u76f8\u5bf9\u8ddd\u79bb\u56fa\u5b9a\u503c deltaY(Number) Y\u8f74\u79fb\u52a8\u7684\u76f8\u5bf9\u8ddd\u79bb\u56fa\u5b9a\u503c deltaZ(Number) Z\u8f74\u79fb\u52a8\u7684\u76f8\u5bf9\u8ddd\u79bb\u56fa\u5b9a\u503c \u5b9e\u4f8b \u00b6 \u6eda\u52a8\u4e8b\u4ef6\u5bf9\u8c61 var HelloDada = React.creatClass({ getInitialState:function(){ return { backgroundColor:'#FFFFFF' } }, handleWheel:function(e){ var newColor = (parseInt(this.state.backgroundColor.substr(1),16)+e.deltaY*997).tiString(16); this.setState({ backgroundColor:newColor }) }, render:function(){ return <div onWheel={this.handleWheel} style={this.state}> <p>Dada Shuaige</p> </div> } }); ReactDOM.render(<HelloDada />,document.body) 2.\u952e\u76d8\u4e8b\u4ef6\u5bf9\u8c61 var Dada =React.creatClass{ getInitialState:function(){ return{ password:'' } }, handleKeyPress:function(e){ this.setState({ paddword:this.state.password+e.which }); }, handleChange:function(e){ e.target.value=''; }, render:function(){ return <div> <input onKeyPress={this.handleKeyPress} onChange={this.handleChange} /> <p style={{ 'display':this.state.password.indexOf('495051') >=0?'block':'none' }}>Dada handsomeboy</p> </div> } }; ReactDOM.render(<Dada />,document.body) \u4e8b\u4ef6\u4e0e\u72b6\u6001\u5173\u8054 \u00b6 \u72b6\u6001\u4e0d\u4ec5\u4ec5\u5b9e\u73b0\u4e86\u7ec4\u4ef6\u5185\u90e8\u7ed3\u679c\u7684\u6e05\u6670\u5bf9\u5e94\uff0c\u8fd8\u5b9e\u73b0\u4e86\u7ec4\u4ef6\u4e0e\u7528\u6237\u4e4b\u95f4\u7684\u4ea4\u4e92\uff0c\u4f7f\u7528\u6237\u4e0e\u7ec4\u4ef6\u7684\u884c\u4e3a\u7d27\u7d27\u7ed3\u5408\u8d77\u6765 handleChange:function(e){ this.setState({Dada:e.target.value}); } this.setState\u8bbe\u7f6e\u72b6\u6001 \u5b9e\u4f8b \u00b6 var Dada =React.creatClass({ getInitialState:function(){ return{ x:0, y:0 } }, handleMouseMove:function(e){ this.setState({ x:e.clientX, y:e.clientY }); }, render:function(){ return <div onMouseMove={this.handleMouseMove} style={{width:'200px',height:'200px',backgroundColor:'#999'}}> {this.state.x+'.'+this.state.y} </div> } }); ReactDOM.render(<Dada />,document.body) \u5c0f\u7ed3 \u00b6 \u672c\u8282\u4e3b\u8981\u4ecb\u7ecd\u4e86React\u7684\u4e8b\u4ef6\u7cfb\u7edf\uff0c\u5f88\u8be6\u7ec6\u7684\u5217\u51fa\u4e86\u6bcf\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\u4e0e\u4e8b\u4ef6\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u67e5\u627e\u7684\u53c2\u8003\u3002 react\u5bf9\u4e8e\u6bcf\u4e2ahtml\u5143\u7d20\u90fd\u6dfb\u52a0\u4e86\u5f88\u591a\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\uff0c\u8fd9\u4e9b\u4e8b\u4ef6\u7f51\u4e0a\u4e00\u641c\u5c31\u90fd\u51fa\u6765\u4e86\uff0c\u8fd9\u91cc\u7b80\u5355\u8bf4\u4e0b\u5728react\u4e2d\u5229\u7528js\u8fdb\u884c\u64cd\u4f5c\u7c7b\u4f3c\u4e8ecss\u91cc\u7684hover\u6240\u4f7f\u7528\u7684\u4e8b\u4ef6\u3002 \u6bd4\u5982\u8fd9\u6837\u4e00\u4e2a\u9700\u6c42\uff0c\u6709\u4ee5\u4e0b3\u4e2adiv\uff1a < div class = \"a abc\" > a </ div > < div class = \"b abc\" > b </ div > < div class = \"c abc\" > c </ div > 123 \u7f51\u4e0a\u5f88\u591a\u4f8b\u5b50\u53ea\u662f\u7b80\u5355\u8bf4\u4e86\u4e0b\u4e00\u4e2a\u7ec4\u4ef6\u662f\u5982\u4f55\u64cd\u4f5c\u7c7b\u4f3c\u4e8e:hover\u9009\u62e9\u5668\uff0c\u6ca1\u9519\u5c31\u662f\u4f7f\u7528onMouseEnter\u548conMouseLeave\uff0c\u90a3\u4e48\u73b0\u5728\u6211\u8981\u5b9e\u73b0\u8fd9\u6837\u4e00\u4e2a\u6548\u679c\uff1a \\1. \u9f20\u6807\u4e0d\u5728\u8fd9\u4e09\u4e2adiv\u4e0a\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u4e09\u4e2adiv\u91cc\u7684\u5b57\u4f53\u663e\u793a\u7ea2\u8272 \\2. \u9f20\u6807\u653e\u5728class\u4e3aa\u7684\u7ec4\u4ef6\u4e0a\u7684\u65f6\u5019\uff0c\u5b83\u91cc\u9762\u7684\u5b57\u4f53\u989c\u8272\u4e0d\u53d8\uff0c\u5176\u4ed6\u7684div\u53d8\u6210\u7eff\u8272 \u4e5f\u8bb8\u662f\u6211\u4ee5\u524d\u5199\u524d\u7aef\u7684\u65f6\u5019\u7528\u4e60\u60ef\u4e86JQuery\uff0c\u5904\u5904\u90fd\u662fdom\u64cd\u4f5c\uff0c\u73b0\u5728\u4f7f\u7528react\u7684\u65f6\u5019\uff0c\u4e00\u65f6\u4e4b\u95f4\u8f6c\u4e0d\u8fc7\u6765\u5f2f\uff0c\u5c31\u597d\u50cf\u4ece\u9762\u5411\u8fc7\u7a0b\u7f16\u7a0b\u8fc7\u5ea6\u5230\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u4e00\u6837\uff0c\u6211\u60f3\u4e86\u4e00\u4e0b\uff0c\u60f3\u60f3react\u6539\u53d8\u9875\u9762\u7684\u5185\u5bb9\u662f\u6839\u636e\u72b6\u6001\uff0c\u4e8e\u662f\u6211\u5229\u7528onMouseEnter\u548conMouseLeave\u4e8b\u4ef6\u6765\u52a8\u6001\u6539\u53d8\u72b6\u6001hover\uff0c\u7136\u540e\u6839\u636ehover\u7684\u72b6\u6001\u503c\u53bb\u7ed9\u8fd9\u4e09\u4e2adiv\u5206\u522b\u6dfb\u52a0\u4e00\u4e2aclass\uff0c\u8fd9\u91cc\u7684class\u6837\u5f0f\u5728css\u6587\u672c\u4e2d\u8981\u5199\u5728\u5176\u4ed6class\u7684\u4e0b\u9762\uff0c\u56e0\u4e3acss\u662f\u81ea\u4e0a\u800c\u4e0b\u7684\u3002 \u6211\u7684\u4ee3\u7801\u5982\u4e0b\uff1a reactjs\u4e2d\u7684\u90e8\u5206\u4ee3\u7801 construction(props){ super(props); this.state={ hover: false, } this.onMouseEnter = this.onMouseEnter.bind(this); this.onMouseLeave = this.onMouseLeave.bind(this); } onMouseEnter(){ this.setState({ hover: true, }); } onMouseLeave(){ this.setState({ hover: false, }) } render(){ return <div> <div className={style.a + ' ' + style.abc + ' ' + (this.state.hover?style.aHover:'')}>a</div> <div className={style.b + ' ' + style.abc + ' ' + (this.state.hover?style.bHover:'')}>b</div> <div className={style.c + ' ' + style.abc + ' ' + (this.state.hover?style.b=cHover:'')}>c</div> </div>; } css\u7684\u76f8\u5173\u6837\u5f0f . abc { //\u516c\u5171\u7684\u6837\u5f0f color : red ; } // \u5199\u5728\u5176\u4ed6class\u7684\u6837\u5f0f\u8868\u7684\u4e0b\u9762 . aHover , . bHover , . cHover { color : green ; } . aHover : hover , . bHover : hover , . cHover : hover { color : red ; } \u4e5f\u8bb8\u6709\u7684\u4eba\u4f1a\u60f3\u5230\u7528css\u4e2d\u7684+\u9009\u62e9\u5668\uff0c\u6bd4\u5982\uff1a.abc:hover + .abc{}\uff0c\u662f\u7684\uff0c\u5982\u679c\u53ea\u662f\u50cf\u8fd9\u91cc\u5199\u7684\u9700\u6c42\u7684\u8bdd\u662f\u53ef\u4ee5\u5b9e\u73b0\uff0c\u5982\u679c\u6362\u4e00\u4e0b\uff0c\u6211\u9f20\u6807\u653e\u5728b\u4e0a\uff0cb\u663e\u793a\u7ea2\u8272\uff0c\u5176\u4ed6\u663e\u793a\u7eff\u8272\uff0c\u90a3\u4e48+\u9009\u62e9\u5668\u5c31\u65e0\u529b\u4e86\uff0c\u56e0\u4e3acss\u662f\u81ea\u4e0a\u800c\u4e0b\uff0c\u4e0d\u53ef\u9006\u7684\uff0c\u8bf4\u662f+\u662f\u5144\u5f1f\u7ea7\u9009\u62e9\u5668\uff0c\u6211\u770b\u4e5f\u5c31\u662f\u5f1f\u5f1f\u7ea7\u9009\u62e9\u5668\uff0c\u5b83\u53ea\u80fd\u5b9a\u4f4d\u5230\u4f60\u5f53\u524d\u6807\u7b7e\u540e\u9762\u540c\u7ea7\u7684\u6807\u7b7e\u5143\u7d20\u3002 *\u6ce8\uff1a\u56e0\u4e3a\u662freact\uff0c\u6240\u4ee5\u4e0d\u5efa\u8bae\u4f7f\u7528js\u5bf9dom\u8fdb\u884c\u76f4\u63a5\u64cd\u4f5c\u3001\u5229\u7528css\u7684expression","title":"React\u4e8b\u4ef6.md"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#reactjs","text":"","title":"React.js\u5b66\u4e60\u7b14\u8bb0\u4e4b\u4e8b\u4ef6"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_1","text":"React \u6807\u51c6\u5316\u4e86\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u56e0\u6b64\u5728\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u4e2d\u90fd\u4f1a\u6709\u76f8\u540c\u7684\u5c5e\u6027\u3002 \u7ec4\u4ef6createClass\u540e\u521b\u5efa\u7684\u662f\u8bb8\u591a\u65b9\u6cd5\u7ec4\u6210\u7684\u5bf9\u8c61\u3002\u7ec4\u4ef6\u4e2d\u4f7f\u7528\u7684\u65b9\u6cd5\u5206\u4e3aReact\u81ea\u6709\u7684\u65b9\u6cd5\u4e0e\u7528\u6237\u5b9a\u4e49\u7684\u65b9\u6cd5\u3002\u5176\u4e2dReact\u81ea\u6709\u65b9\u6cd5\u662f\u7ec4\u4ef6\u751f\u547d\u5468\u671f\u4e2d\u7684\u65b9\u6cd5\uff0c\u5982\uff1a render \u3001 componentWillUpdate \u3001 componentDidMount \u7b49\u3002\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u65b9\u6cd5\u53ef\u4ee5\u8d77\u7b26\u5408JS\u547d\u540d\u89c4\u8303\u7684\u65b9\u6cd5\u5c31\u53ef\u4ee5\uff08\u6700\u597d\u4f7f\u7528\u9a7c\u5cf0\u547d\u540d\uff09\uff0c\u5982\uff1a handleClick \u3001 handleChange \u3001 handleMouseover \u7b49\u3002 \u4e8b\u4ef6\u7ed1\u5b9a\u8bed\u6cd5\uff1aonClick = {this.handleClick}","title":"\u4e8b\u4ef6\u7cfb\u7edf"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_2","text":"","title":"\u7ed1\u5b9a\u4e8b\u4ef6\u5904\u7406\u51fd\u6570"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_3","text":"onClick onContextMenu onDoubleClick onMouseDown onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp \u62d6\u62fd\u4e8b\u4ef6\uff1a onDrop onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart","title":"\u9f20\u6807\u7c7b"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_4","text":"onTouchCancel onTouchEnd onTouchMove onTouchStart \u89e6\u6478\u53ea\u4f1a\u5728\u79fb\u52a8\u8bbe\u5907\u4e0a\u4ea7\u751f","title":"\u89e6\u6478"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_5","text":"onKeyPress \u662f onKeyDown \u548c onKeyUp \u7684\u7ec4\u5408 onKeyDown onKeyPress onKeyUp","title":"\u952e\u76d8"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_6","text":"onCopy onCut onPaste \u5bf9\u5e94\u7684\u662f\u6211\u4eec\u5e38\u5e38\u4f7f\u7528\u7684\u590d\u5236\u3001\u526a\u5207\u548c\u7c98\u8d34","title":"\u526a\u5207\u7c7b"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_7","text":"(\u4f1a\u4e13\u95e8\u603b\u7ed3\u8868\u5355\u7c7b\u4e8b\u4ef6\uff0c\u5728\u6b64\u4ec5\u4ec5\u7b80\u5355\u5217\u51fa) onChange onInput onSubmit onChange \u53ef\u4ee5\u7528\u5728\u8f93\u5165\u6846\u3001\u5355\u9009\u6846\u3001\u4e0b\u62c9\u5217\u8868\u91cc\uff0c\u6bcf\u5f53\u5185\u5bb9\u53d1\u751f\u53d8\u5316\u65f6\u6211\u4eec\u90fd\u80fd\u83b7\u5f97\u901a\u77e5\u3002 onInput \u4f7f\u7528\u5728\u6587\u5b57\u8f93\u5165\u3002 onSubmit \u662f\u7528\u5728\u6574\u4e2a\u8868\u5355\u7684\u8f93\u5165\u63d0\u4ea4\uff0c\u5e38\u7528\u5728\u7981\u6b62\u8868\u5355\u7684\u9ed8\u8ba4\u64cd\u4f5c\u3002","title":"\u8868\u5355\u7c7b"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_8","text":"onFocus onBlur","title":"\u7126\u70b9\u4e8b\u4ef6"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#ui","text":"onScroll \u6eda\u52a8\u4e8b\u4ef6\u89e6\u53d1\u7684\u65f6\u5019\u4f1a\u89e6\u53d1onScroll\u4e8b\u4ef6","title":"UI\u5143\u7d20\u7c7b"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_9","text":"onWheel \u9f20\u6807\u6eda\u8f6e\u89e6\u53d1\u7684\u4e8b\u4ef6\uff0c\u76d1\u542c\u6eda\u52a8\u5e45\u5ea6\uff0c\u6eda\u52a8\u65b9\u4f4d","title":"\u6eda\u52a8"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_10","text":"onCompositionEnd onCompositionStart onCompositionUpdate","title":"\u7ec4\u6210\u4e8b\u4ef6"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_11","text":"onLoad onError","title":"\u56fe\u7247\u7c7b"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_12","text":"onAbort onCanPlay onCanPlayThrough onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting","title":"\u591a\u5a92\u4f53\u7c7b"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_13","text":"var HelloDada = React.createClass({ getInitialState:function(){ return{ name:'' }; }, handleChange:function(e){ this.setState({ name:e.target.value }); }, render:function(){ return <div> <input onChange={this.handleChange} /> </div> } }); ReactDom.render(<HelloDada/>,document.body);","title":"\u5b9e\u4f8b\u6f14\u793a"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_14","text":"\u865a\u62df\u4e8b\u4ef6\u5bf9\u8c61\u5df2\u7ecf\u88ab\u5408\u5e76\u3002\u8fd9\u610f\u5473\u7740\u865a\u62df\u4e8b\u4ef6\u5bf9\u8c61\u5c06\u88ab\u91cd\u65b0\u4f7f\u7528\uff0c\u800c\u8be5\u4e8b\u4ef6\u56de\u8c03\u88ab\u8c03\u7528\u4e4b\u540e\u6240\u6709\u7684\u5c5e\u6027\u5c06\u65e0\u6548\u3002\u8fd9\u662f\u51fa\u4e8e\u6027\u80fd\u7684\u8003\u8651\u3002\u56e0\u6b64\uff0c\u60a8\u4e0d\u80fd\u4ee5\u5f02\u6b65\u7684\u65b9\u5f0f\u8bbf\u95ee\u4e8b\u4ef6\u3002 function onClick(event) { console.log(event); // =>\u65e0\u6548\u7684\u5bf9\u8c61 console.log(event.type); // => \"click\" var eventType = event.type; // => \"click\" setTimeout(function() { console.log(event.type); // => null console.log(eventType); // => \"click\" }, 0); this.setState({clickEvent: event}); // \u4e0d\u8d77\u4f5c\u7528.this.state.clickEvent \u5c06\u53ea\u5305\u542b\u7a7a\u503c. this.setState({eventType: event.type}); // \u60a8\u4f9d\u7136\u53ef\u4ee5\u5bfc\u51fa\u4e8b\u4ef6\u5c5e\u6027 } \u5982\u679c\u60a8\u60f3\u4ee5\u4e00\u4e2a\u5f02\u6b65\u7684\u65b9\u5f0f\u6765\u8bbf\u95ee\u4e8b\u4ef6\u5c5e\u6027\uff0c\u60a8\u5e94\u8be5\u5bf9\u4e8b\u4ef6\u8c03\u7528 event.persist() \u3002\u8fd9\u5c06\u4ece\u4e8b\u4ef6\u6c60\u4e2d\u53d6\u51fa\u5408\u6210\u7684\u4e8b\u4ef6\uff0c\u5e76\u5141\u8bb8\u8be5\u4e8b\u4ef6\u7684\u5f15\u7528\uff0c\u4f7f\u7528\u6237\u7684\u4ee3\u7801\u88ab\u4fdd\u7559\u3002","title":"\u4e8b\u4ef6\u6c60"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_15","text":"\u4e8b\u4ef6\u5904\u7406\u5668\u5c06\u4f1a\u4f20\u5165 SyntheticEvent \u7684\u5b9e\u4f8b\uff0c\u4e00\u4e2a\u5bf9\u6d4f\u89c8\u5668\u672c\u5730\u4e8b\u4ef6\u7684\u8de8\u6d4f\u89c8\u5668\u5c01\u88c5\u3002\u5b83\u6709\u548c\u6d4f\u89c8\u5668\u672c\u5730\u4e8b\u4ef6\u76f8\u540c\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u5305\u62ec stopPropagation() \u548c preventDefault() \uff0c\u4f46\u662f\u6ca1\u6709\u6d4f\u89c8\u5668\u517c\u5bb9\u95ee\u9898\u3002 \u5982\u679c\u56e0\u4e3a\u4e00\u4e9b\u56e0\u7d20\uff0c\u9700\u8981\u5e95\u5c42\u7684\u6d4f\u89c8\u5668\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u53ea\u8981\u4f7f\u7528 nativeEvent \u5c5e\u6027\u5c31\u53ef\u4ee5\u83b7\u53d6\u5230\u5b83\u4e86\u3002 \u5bf9\u4e8e v0.14\uff0c\u5728\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u4e2d\u8fd4\u56de false \u5c06\u4e0d\u4f1a\u963b\u6b62\u4e8b\u4ef6\u5192\u6ce1\u3002\u53d6\u800c\u4ee3\u4e4b\u7684\u662f\u5728\u5408\u9002\u7684\u5e94\u7528\u573a\u666f\u4e0b\uff0c\u624b\u52a8\u8c03\u7528 e.stopPropagation() \u6216\u8005 e.preventDefault() \u3002 handleChange:function(e){ console.log(e.target.value); } \u5176\u4e2d e \u662f\u4e8b\u4ef6\u5bf9\u8c61 target \u662f\u4e8b\u4ef6\u5bf9\u8c61\u7684\u5c5e\u6027 (\u4ee5\u4e0b\u5185\u5bb9\u62ec\u53f7\u5185\u4e3a\u7c7b\u578b)","title":"\u4e8b\u4ef6\u5bf9\u8c61"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_16","text":"bubbles (boolean) \u8868\u793a\u4e8b\u4ef6\u662f\u5426\u5192\u6ce1 cancelable(boolean) \u8868\u793a\u4e8b\u4ef6\u662f\u5426\u53ef\u4ee5\u53d6\u6d88 currentTarget(DOMEventTarget) \u4e0eTarget\u7c7b\u4f3c\uff0c\u7531\u4e8e\u4e8b\u4ef6\u53ef\u4ee5\u5192\u6ce1\uff0c\u6240\u4ee5\u4e24\u8005\u8868\u793a\u7684\u5185\u5bb9\u662f\u4e0d\u540c\u7684 defaultPrevented(boolean) \u8868\u793a\u4e8b\u4ef6\u662f\u5426\u7981\u6b62\u4e86\u9ed8\u8ba4\u884c\u4e3a eventPhase(number) \u8868\u793a\u4e8b\u4ef6\u6240\u5904\u7684\u9636\u6bb5 isTrusted(boolean) \u8868\u793a\u4e8b\u4ef6\u662f\u5426\u53ef\u4fe1\u3002\u6240\u8c13\u7684\u53ef\u4fe1\u4e8b\u4ef6\u8868\u793a\u7684\u662f\u7528\u6237\u64cd\u4f5c\u7684\u4e8b\u4ef6\uff0c\u4e0d\u53ef\u4fe1\u4e8b\u4ef6\u5c31\u662f\u901a\u8fc7JS\u4ee3\u7801\u6765\u89e6\u53d1\u7684\u4e8b\u4ef6\u3002 nativeEvent(DOMEvent) preventDefault() (void) \u5bf9\u5e94\u7684defaultPrevented\uff0c\u8868\u793a\u7684\u662f\u7981\u6b62\u9ed8\u8ba4\u884c\u4e3a stopPropagaTion() (void) \u5bf9\u5e94\u7684\u662fbubbles\uff0c\u8868\u793a\u7684\u662fsh target(DOMEventTarget) timeStamp(number) \u65f6\u95f4\u6233\uff0c\u4e5f\u5c31\u662f\u4e8b\u4ef6\u89e6\u53d1\u7684\u4e8b\u4ef6 type(string) \u4e8b\u4ef6\u7684\u7c7b\u578b","title":"\u901a\u7528\u5c5e\u6027"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_17","text":"","title":"\u4e0d\u540c\u4e8b\u4ef6\u5bf9\u8c61\u7684\u7279\u6709\u5c5e\u6027"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_18","text":"clipboardData(DOMDataTransfer)\u8868\u793a\u62ff\u5230\u7684\u6570\u636e","title":"\u526a\u5207\u4e8b\u4ef6"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_19","text":"altKey(boolean) \u8868\u793a\u662f\u5426\u6309\u4e0balt\u952e charCode(Number) \u8868\u793a\u7684\u662f\u6309\u952e\u7684\u5b57\u7b26\u7f16\u7801\uff0c\u53ef\u4ee5\u901a\u8fc7\u7f16\u7801\u6765\u5224\u65ad\u6309\u4e0b\u7684\u662f\u4ec0\u4e48\u952e ctrlKey(boolean) \u8868\u793a\u662f\u5426\u6309\u4e0bctrl\u952e getModifierState(key) (function) \u8868\u793a\u662f\u5426\u6309\u4e0b\u8f85\u52a9\u6309\u952e\uff08\u8f85\u52a9\u6309\u952e\u5c31\u662f\u96f7\u58ebctrl\u3001shift\u7b49\u8f85\u52a9\u6309\u952e\uff09\u53ef\u4ee5\u4f20\u5165\u6309\u952e\u7f16\u7801\u6765\u5224\u65ad\u662f\u5426\u6309\u4e0b key(string) \u5b57\u7b26\u4e32\uff0c\u6309\u4e0b\u7684\u952e keyCode(Number) \u8868\u793a\u90a3\u4e9b\u4e0d\u662f\u5b57\u7b26\u7f16\u7801\u7684\u6309\u952e locale(String) \u8868\u793a\u672c\u5730\u5316\u5f97\u4e00\u4e9b\u5b57\u7b26\u4e32 location(number) \u8868\u793a\u4f4d\u7f6e metaKey(boolean) \u8868\u793a\u7684\u662fwin\u7cfb\u7edf\u4e0b\u7684win\u952e\uff0cmac\u7cfb\u7edf\u4e0b\u5bf9\u5e94\u7684command\u952e repeat(boolean) \u8868\u793a\u6309\u952e\u662f\u5426\u91cd\u590d shiftKey(boolean) \u8868\u793a\u662f\u5426\u6309\u4e0bshift which(Number) \u8868\u793a\u7ecf\u8fc7\u901a\u7528\u5316\u5f97charCode\u548ckeyCode","title":"\u952e\u76d8\u4e8b\u4ef6"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_20","text":"relatedTarget(DOMEventTarget) \u76f8\u5173\u7126\u70b9\u5bf9\u8c61","title":"\u7126\u70b9\u4e8b\u4ef6"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_21","text":"altKey(boolean) button(Number) buttons(Number) clientX(Number) \u539f\u70b9\u4e3a\u6d4f\u89c8\u5668\u5de6\u4e0a\u89d2 clinetY(Number) \u539f\u70b9\u4e3a\u6d4f\u89c8\u5668\u5de6\u4e0a\u89d2 ctrlKey(boolean) getModifierState(key) (function) metaKey(boolean) pageX(Number) \u539f\u70b9\u4e3aHTML\u9875\u9762\u7684\u5de6\u4e0a\u89d2 pageY(Number) \u539f\u70b9\u4e3aHTML\u9875\u9762\u7684\u5de6\u4e0a\u89d2 relatedTarget(DOMEventTarget) screenX(Number) \u539f\u70b9\u4e3a\u663e\u793a\u5668\u7684\u5de6\u4e0a\u89d2 screenY(Number) \u539f\u70b9\u4e3a\u663e\u793a\u5668\u7684\u5de6\u4e0a\u89d2 shiftKey(boolean)","title":"\u9f20\u6807\u4e8b\u4ef6"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_22","text":"\u4e3a\u4e86\u4f7f\u89e6\u6478\u4e8b\u4ef6\u751f\u6548\uff0c\u5728\u6e32\u67d3\u6240\u6709\u7ec4\u4ef6\u4e4b\u524d\u8c03\u7528 React.initializeTouchEvents(true) \u3002 altKey(boolean) ctrlKey(boolean) getModifierState(key) metaKey(boolean) shiftKey(boolean) changedTouches(DOMTouchList) \u5224\u65ad\u624b\u52bf\u64cd\u4f5c targetTouches(DOMTouchList) \u5224\u65ad\u624b\u52bf\u64cd\u4f5c touches(DOMTouchList) \u5224\u65ad\u624b\u52bf\u64cd\u4f5c","title":"\u89e6\u6478\u4e8b\u4ef6"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#ui_1","text":"detail(Number) \u6eda\u52a8\u7684\u8ddd\u79bb view(DOMAbstractView) \u754c\u9762\uff0c\u89c6\u7a97","title":"UI\u5143\u7d20\u4e8b\u4ef6"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_23","text":"deltaMode(Number) \u53ef\u4ee5\u7406\u89e3\u4e3a\u79fb\u52a8\u7684\u5355\u4f4d deltaX(Number) X\u8f74\u79fb\u52a8\u7684\u76f8\u5bf9\u8ddd\u79bb\u56fa\u5b9a\u503c deltaY(Number) Y\u8f74\u79fb\u52a8\u7684\u76f8\u5bf9\u8ddd\u79bb\u56fa\u5b9a\u503c deltaZ(Number) Z\u8f74\u79fb\u52a8\u7684\u76f8\u5bf9\u8ddd\u79bb\u56fa\u5b9a\u503c","title":"\u9f20\u6807\u6eda\u52a8"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_24","text":"\u6eda\u52a8\u4e8b\u4ef6\u5bf9\u8c61 var HelloDada = React.creatClass({ getInitialState:function(){ return { backgroundColor:'#FFFFFF' } }, handleWheel:function(e){ var newColor = (parseInt(this.state.backgroundColor.substr(1),16)+e.deltaY*997).tiString(16); this.setState({ backgroundColor:newColor }) }, render:function(){ return <div onWheel={this.handleWheel} style={this.state}> <p>Dada Shuaige</p> </div> } }); ReactDOM.render(<HelloDada />,document.body) 2.\u952e\u76d8\u4e8b\u4ef6\u5bf9\u8c61 var Dada =React.creatClass{ getInitialState:function(){ return{ password:'' } }, handleKeyPress:function(e){ this.setState({ paddword:this.state.password+e.which }); }, handleChange:function(e){ e.target.value=''; }, render:function(){ return <div> <input onKeyPress={this.handleKeyPress} onChange={this.handleChange} /> <p style={{ 'display':this.state.password.indexOf('495051') >=0?'block':'none' }}>Dada handsomeboy</p> </div> } }; ReactDOM.render(<Dada />,document.body)","title":"\u5b9e\u4f8b"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_25","text":"\u72b6\u6001\u4e0d\u4ec5\u4ec5\u5b9e\u73b0\u4e86\u7ec4\u4ef6\u5185\u90e8\u7ed3\u679c\u7684\u6e05\u6670\u5bf9\u5e94\uff0c\u8fd8\u5b9e\u73b0\u4e86\u7ec4\u4ef6\u4e0e\u7528\u6237\u4e4b\u95f4\u7684\u4ea4\u4e92\uff0c\u4f7f\u7528\u6237\u4e0e\u7ec4\u4ef6\u7684\u884c\u4e3a\u7d27\u7d27\u7ed3\u5408\u8d77\u6765 handleChange:function(e){ this.setState({Dada:e.target.value}); } this.setState\u8bbe\u7f6e\u72b6\u6001","title":"\u4e8b\u4ef6\u4e0e\u72b6\u6001\u5173\u8054"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_26","text":"var Dada =React.creatClass({ getInitialState:function(){ return{ x:0, y:0 } }, handleMouseMove:function(e){ this.setState({ x:e.clientX, y:e.clientY }); }, render:function(){ return <div onMouseMove={this.handleMouseMove} style={{width:'200px',height:'200px',backgroundColor:'#999'}}> {this.state.x+'.'+this.state.y} </div> } }); ReactDOM.render(<Dada />,document.body)","title":"\u5b9e\u4f8b"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_27","text":"\u672c\u8282\u4e3b\u8981\u4ecb\u7ecd\u4e86React\u7684\u4e8b\u4ef6\u7cfb\u7edf\uff0c\u5f88\u8be6\u7ec6\u7684\u5217\u51fa\u4e86\u6bcf\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\u4e0e\u4e8b\u4ef6\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u67e5\u627e\u7684\u53c2\u8003\u3002 react\u5bf9\u4e8e\u6bcf\u4e2ahtml\u5143\u7d20\u90fd\u6dfb\u52a0\u4e86\u5f88\u591a\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\uff0c\u8fd9\u4e9b\u4e8b\u4ef6\u7f51\u4e0a\u4e00\u641c\u5c31\u90fd\u51fa\u6765\u4e86\uff0c\u8fd9\u91cc\u7b80\u5355\u8bf4\u4e0b\u5728react\u4e2d\u5229\u7528js\u8fdb\u884c\u64cd\u4f5c\u7c7b\u4f3c\u4e8ecss\u91cc\u7684hover\u6240\u4f7f\u7528\u7684\u4e8b\u4ef6\u3002 \u6bd4\u5982\u8fd9\u6837\u4e00\u4e2a\u9700\u6c42\uff0c\u6709\u4ee5\u4e0b3\u4e2adiv\uff1a < div class = \"a abc\" > a </ div > < div class = \"b abc\" > b </ div > < div class = \"c abc\" > c </ div > 123 \u7f51\u4e0a\u5f88\u591a\u4f8b\u5b50\u53ea\u662f\u7b80\u5355\u8bf4\u4e86\u4e0b\u4e00\u4e2a\u7ec4\u4ef6\u662f\u5982\u4f55\u64cd\u4f5c\u7c7b\u4f3c\u4e8e:hover\u9009\u62e9\u5668\uff0c\u6ca1\u9519\u5c31\u662f\u4f7f\u7528onMouseEnter\u548conMouseLeave\uff0c\u90a3\u4e48\u73b0\u5728\u6211\u8981\u5b9e\u73b0\u8fd9\u6837\u4e00\u4e2a\u6548\u679c\uff1a \\1. \u9f20\u6807\u4e0d\u5728\u8fd9\u4e09\u4e2adiv\u4e0a\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u4e09\u4e2adiv\u91cc\u7684\u5b57\u4f53\u663e\u793a\u7ea2\u8272 \\2. \u9f20\u6807\u653e\u5728class\u4e3aa\u7684\u7ec4\u4ef6\u4e0a\u7684\u65f6\u5019\uff0c\u5b83\u91cc\u9762\u7684\u5b57\u4f53\u989c\u8272\u4e0d\u53d8\uff0c\u5176\u4ed6\u7684div\u53d8\u6210\u7eff\u8272 \u4e5f\u8bb8\u662f\u6211\u4ee5\u524d\u5199\u524d\u7aef\u7684\u65f6\u5019\u7528\u4e60\u60ef\u4e86JQuery\uff0c\u5904\u5904\u90fd\u662fdom\u64cd\u4f5c\uff0c\u73b0\u5728\u4f7f\u7528react\u7684\u65f6\u5019\uff0c\u4e00\u65f6\u4e4b\u95f4\u8f6c\u4e0d\u8fc7\u6765\u5f2f\uff0c\u5c31\u597d\u50cf\u4ece\u9762\u5411\u8fc7\u7a0b\u7f16\u7a0b\u8fc7\u5ea6\u5230\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u4e00\u6837\uff0c\u6211\u60f3\u4e86\u4e00\u4e0b\uff0c\u60f3\u60f3react\u6539\u53d8\u9875\u9762\u7684\u5185\u5bb9\u662f\u6839\u636e\u72b6\u6001\uff0c\u4e8e\u662f\u6211\u5229\u7528onMouseEnter\u548conMouseLeave\u4e8b\u4ef6\u6765\u52a8\u6001\u6539\u53d8\u72b6\u6001hover\uff0c\u7136\u540e\u6839\u636ehover\u7684\u72b6\u6001\u503c\u53bb\u7ed9\u8fd9\u4e09\u4e2adiv\u5206\u522b\u6dfb\u52a0\u4e00\u4e2aclass\uff0c\u8fd9\u91cc\u7684class\u6837\u5f0f\u5728css\u6587\u672c\u4e2d\u8981\u5199\u5728\u5176\u4ed6class\u7684\u4e0b\u9762\uff0c\u56e0\u4e3acss\u662f\u81ea\u4e0a\u800c\u4e0b\u7684\u3002 \u6211\u7684\u4ee3\u7801\u5982\u4e0b\uff1a reactjs\u4e2d\u7684\u90e8\u5206\u4ee3\u7801 construction(props){ super(props); this.state={ hover: false, } this.onMouseEnter = this.onMouseEnter.bind(this); this.onMouseLeave = this.onMouseLeave.bind(this); } onMouseEnter(){ this.setState({ hover: true, }); } onMouseLeave(){ this.setState({ hover: false, }) } render(){ return <div> <div className={style.a + ' ' + style.abc + ' ' + (this.state.hover?style.aHover:'')}>a</div> <div className={style.b + ' ' + style.abc + ' ' + (this.state.hover?style.bHover:'')}>b</div> <div className={style.c + ' ' + style.abc + ' ' + (this.state.hover?style.b=cHover:'')}>c</div> </div>; } css\u7684\u76f8\u5173\u6837\u5f0f . abc { //\u516c\u5171\u7684\u6837\u5f0f color : red ; } // \u5199\u5728\u5176\u4ed6class\u7684\u6837\u5f0f\u8868\u7684\u4e0b\u9762 . aHover , . bHover , . cHover { color : green ; } . aHover : hover , . bHover : hover , . cHover : hover { color : red ; } \u4e5f\u8bb8\u6709\u7684\u4eba\u4f1a\u60f3\u5230\u7528css\u4e2d\u7684+\u9009\u62e9\u5668\uff0c\u6bd4\u5982\uff1a.abc:hover + .abc{}\uff0c\u662f\u7684\uff0c\u5982\u679c\u53ea\u662f\u50cf\u8fd9\u91cc\u5199\u7684\u9700\u6c42\u7684\u8bdd\u662f\u53ef\u4ee5\u5b9e\u73b0\uff0c\u5982\u679c\u6362\u4e00\u4e0b\uff0c\u6211\u9f20\u6807\u653e\u5728b\u4e0a\uff0cb\u663e\u793a\u7ea2\u8272\uff0c\u5176\u4ed6\u663e\u793a\u7eff\u8272\uff0c\u90a3\u4e48+\u9009\u62e9\u5668\u5c31\u65e0\u529b\u4e86\uff0c\u56e0\u4e3acss\u662f\u81ea\u4e0a\u800c\u4e0b\uff0c\u4e0d\u53ef\u9006\u7684\uff0c\u8bf4\u662f+\u662f\u5144\u5f1f\u7ea7\u9009\u62e9\u5668\uff0c\u6211\u770b\u4e5f\u5c31\u662f\u5f1f\u5f1f\u7ea7\u9009\u62e9\u5668\uff0c\u5b83\u53ea\u80fd\u5b9a\u4f4d\u5230\u4f60\u5f53\u524d\u6807\u7b7e\u540e\u9762\u540c\u7ea7\u7684\u6807\u7b7e\u5143\u7d20\u3002 *\u6ce8\uff1a\u56e0\u4e3a\u662freact\uff0c\u6240\u4ee5\u4e0d\u5efa\u8bae\u4f7f\u7528js\u5bf9dom\u8fdb\u884c\u76f4\u63a5\u64cd\u4f5c\u3001\u5229\u7528css\u7684expression","title":"\u5c0f\u7ed3"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/","text":"React\u7ec4\u4ef6\u521b\u5efa \u00b6 React.createClass \u00b6 \u8fd9\u662f\u65e7\u7248\u672c\u7684api\uff0c\u4f7f\u7528React.createClass\u521b\u5efa\u7ec4\u4ef6\uff0c\u914d\u5957\u7684\u4e00\u4e9bapi\uff0c\u6709getDefaultProps, getinitialstate\u3002\u5b98\u65b9\u5df2\u7ecf\u4e0d\u5efa\u8bae\u4f7f\u7528\u4e86\uff0c\u4f7f\u7528\u4e0b\u9762\u65b0\u7684api\u66ff\u4ee3\u3002 ES6 classes \u00b6 import * as React from 'react'; class Page extends React.Component { render() { return (<div> home </div>) } } \u8fd9\u662f\u4e00\u4e2a\u5b9e\u73b0\u4e86render\u65b9\u6cd5\u7684class\u3002\u4e5f\u662f\u4e00\u4e2a\u57fa\u672c\u7684react\u7ec4\u4ef6\u3002 \u65e0\u72b6\u6001\u51fd\u6570 \u00b6 function Button(props, context) { return ( <button> <em>{props.text}</em> <span>{context.name}</span> </button> ); } \u7eaf\u51fd\u6570,\u4e0d\u5b58\u5728state\uff0c\u53ea\u63a5\u53d7props\u548ccontext\u3002\u7eaf\u51fd\u6570\u6709\u4f18\u70b9\uff0c\u4f18\u70b9\u5c31\u662f\u6613\u4e8e\u6d4b\u8bd5\uff0c\u65e0\u526f\u4f5c\u7528\u3002 React\u6570\u636e\u6d41 \u00b6 State \u548c props \u5df2\u7ecf\u719f\u6089\uff0c\u6240\u4ee5\u4e0d\u4ecb\u7ecd\u4e86\u3002 \u4e8b\u4ef6 \u00b6 react\u91cc\u9762\u7684\u7528\u6237\u4e8b\u4ef6\u90fd\u662f\u5408\u6210\u4e8b\u4ef6\uff0c\u88abReact\u5c01\u88c5\u8fc7\u3002\u5185\u90e8\u4f7f\u7528\u7684\u8fd8\u662f\u4e8b\u4ef6\u7684\u59d4\u6258\u673a\u5236\u3002 \u5e38\u7528\u7684\u4e8b\u4ef6\u6709\u70b9\u51fb\u4e8b\u4ef6onClick\uff0cinput\u7684onChange\u4e8b\u4ef6\u7b49\uff0c\u5b98\u7f51\u90fd\u53ef\u4ee5\u67e5\u5230\u3002 \u5408\u6210\u4e8b\u4ef6\u7684this\u6307\u5411\u95ee\u9898 \u00b6 \u5c31\u50cf\u4e0a\u6587\u4e00\u6837\uff0c\u6211\u4eec\u7ed1\u5b9a\u4e8b\u4ef6\u7684\u65b9\u5f0f\u5f88\u5947\u602a\uff0c\u4f7f\u7528\u4e86bind\u6765\u663e\u793a\u7ed1\u5b9athis\u7684\u6307\u5411\u3002\u56e0\u4e3a\u4f20\u9012\u5230\u7ec4\u4ef6\u5185\u90e8\u7684\u53ea\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u800c\u8131\u79bb\u4e86\u5f53\u524d\u5bf9\u8c61\u7684\u51fd\u6570\u7684this\u6307\u5411\u662f\u4e0d\u80fd\u6307\u5230\u5f53\u524d\u7ec4\u4ef6\u7684\uff0c\u9700\u8981\u663e\u793a\u6307\u5b9a\u3002 \u901a\u8fc7bind \u00b6 <button onClick={this.update.bind(this)}>\u66f4\u65b0</button> \u6784\u9020\u5668\u5185\u90e8\u6307\u5b9a \u00b6 import * as React from 'react'; class Child extends React.Component { constructor(props) { super(props) this.update = this.update.bind(this) } update() { this.props.onChange('\u5c0f\u660e\u540d\u5b57\u6539\u4e86') } render() { return ( <div> {this.props.parentName} <button onClick={this.update}>\u66f4\u65b0</button> </div> ) } } \u7bad\u5934\u51fd\u6570 \u00b6 import * as React from 'react'; class Child extends React.Component { update => e = { this.props.onChange('\u5c0f\u660e\u540d\u5b57\u6539\u4e86') } render() { return (<div> {this.props.parentName} <button onClick={this.update}>\u66f4\u65b0</button> </div>) } } \u88c5\u9970\u5668 \u00b6 import * as React from 'react' class Child extends React.Component { constructor(props) { super(props) } @autoBind update() { this.props.onChange('\u5c0f\u660e\u540d\u5b57\u6539\u4e86') } render() { return (<div> {this.props.parentName} <button onClick={this.update}>\u66f4\u65b0</button> </div> ) } } \u88c5\u9970\u5668\u662fes7\u8bed\u6cd5\uff0c\u5982\u679c\u9700\u8981\u4f7f\u7528\u9700\u8981\u5b89\u88c5\u5bf9\u5e94\u7684babel\uff1apresent\u7248\u672c\u3002\u800ctypescript\u5219\u539f\u751f\u652f\u6301\u3002 autoBind\u539f\u7406\u5927\u6982\u5c31\u662f\u52ab\u6301get\u65b9\u6cd5\uff0cget\u65f6\u6539\u53d8this\u6307\u5411 \u5982\u4f55\u83b7\u5f97evnt\u539f\u751f\u4e8b\u4ef6 \u00b6 \u901a\u8fc7e.nativeEvent\u83b7\u53d6\u539f\u751f\u4e8b\u4ef6\u5bf9\u8c61 import * as React from 'react' class Child extends React.Component { constructor(props) { super(props) this.update = this.update.bind(this) } update(e) { console.log(e.nativeEvent) } render() { return ( <div> <button onClick={this.update}>\u66f4\u65b0</button> </div> ) } } \u89e3\u51b3\u5192\u6ce1\u548c\u53d6\u6d88\u9ed8\u8ba4\u4e8b\u4ef6 \u00b6 e.preventDefault() //\u53d6\u6d88\u9ed8\u8ba4\u884c\u4e3a e.stopPropagation() //\u53d6\u6d88\u5192\u6ce1 \u8fd9\u4e2a\u548c\u6d4f\u89c8\u5668\u539f\u751f\u4e8b\u4ef6\u5904\u7406\u65b9\u6848\u662f\u4e00\u81f4\u7684\u3002\u95ee\u9898\u662f\u6211\u4eec\u53ea\u53ef\u4ee5\u8c03\u5408\u6210\u4e8b\u4ef6\u7684 e \u7684\u65b9\u6cd5\uff0c\u4e0d\u53ef\u4ee5\u901a\u8fc7 e.nativeEvent \u65b9\u6cd5\u505a\u8fd9\u4e9b\u64cd\u4f5c\uff0c\u539f\u56e0\u662f\u4e0a\u6587\u8bb2\u8fc7\u7684\u59d4\u6258\u3002 \u5224\u65ad\u56de\u6587\u5b57\u7b26\u4e32 \ud83d\udc1b \u00b6 \u56de\u6587\uff1a\u56de\u6587\u5b57\u7b26\u4e32\u662f\u6307\u6b63\u7740\u8bfb\u548c\u53cd\u7740\u8bfb\u8be5\u5b57\u7b26\u4e32\u90fd\u662f\u76f8\u540c\u62fc\u5199 function palindrome(str){ // \\W\u5339\u914d\u4efb\u4f55\u975e\u5355\u8bcd\u5b57\u7b26\u3002\u7b49\u4ef7\u4e8e\u201c[^A-Za-z0-9_]\u201d\u3002 var re = /[\\W_]/g; // \u5c06\u5b57\u7b26\u4e32\u53d8\u6210\u5c0f\u5199\u5b57\u7b26,\u5e76\u5e72\u6389\u9664\u5b57\u6bcd\u6570\u5b57\u5916\u7684\u5b57\u7b26 var lowRegStr = str.toLowerCase().replace(re,''); // \u5982\u679c\u5b57\u7b26\u4e32lowRegStr\u7684length\u957f\u5ea6\u4e3a0\u65f6\uff0c\u5b57\u7b26\u4e32\u5373\u662fpalindrome if(lowRegStr.length===0) return true; // \u5982\u679c\u5b57\u7b26\u4e32\u7684\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u4e0d\u76f8\u540c\uff0c\u90a3\u4e48\u5b57\u7b26\u4e32\u5c31\u4e0d\u662fpalindrome if(lowRegStr[0]!=lowRegStr[lowRegStr.length-1]) return false; //\u9012\u5f52 return palindrome(lowRegStr.slice(1,lowRegStr.length-1)); } \u6570\u7ec4\u53bb\u91cd \ud83d\udc1b \u00b6 function unique(arr) { var obj = {} var data = [] for (var i in arr) { if (!obj[arr[i]]) { obj[arr[i]] = true; data.push(arr[i]); } } return data; } ReactDom \u00b6 ref \u00b6 \u7279\u6b8a\u7684props\uff0cref\u7ec4\u4ef6\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u73b0\u5728\u5b98\u65b9\u4e5f\u4e0d\u5efa\u8bae\u76f4\u63a5\u7ed9ref\u8d4b\u503c\uff0c\u9700\u8981\u901a\u8fc7\u51fd\u6570\u6765\u8d4b\u503c\u3002 ReactDOM.render(( <div> <Calendar ref={ref => this.c = ref} any-ss=\"text\"/> </div>), document.getElementById('root')) render \u00b6 \u9876\u5c42api,\u53ea\u6709\u5728\u6839\u7ec4\u4ef6\u65f6\u5019\u624d\u9700\u8981\u4f7f\u7528\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662fComponent,\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662fdom\u8282\u70b9 findDOMNode \u00b6 \u901a\u8fc7\u4f20\u5165component\u5b9e\u4f8b\u83b7\u53d6\u6b64component\u6839dom\u8282\u70b9\uff0c\u5728\u8fd9\u91cc\u53ef\u4ee5\u53bbdom\u8282\u70b9\u8fdb\u884c\u64cd\u4f5c\u4e86\uff0c\u867d\u7136\u6781\u5176\u4e0d\u5efa\u8bae\u8fd9\u4e48\u505a\uff0c\u4f46\u662f\u4f60\u786e\u5b9e\u53ef\u4ee5\u505a\u3002 unmountComponentAtNode \u00b6 \u5378\u8f7d\u6b64\u7ec4\u4ef6\uff0c\u5e76\u9500\u6bc1\u7ec4\u4ef6state\u548c\u4e8b\u4ef6 \u63a5\u6536\u7ec4\u4ef6\u7684\u5f15\u7528\uff0c\u4e5f\u5c31\u662fref\u3002\u4ec5\u4ec5\u662f\u53d6\u6d88\u6302\u8f7d\uff0c\u7ec4\u4ef6\u8fd8\u5728\uff0c\u5982\u679c\u9700\u8981\u5f7b\u5e95\u6e05\u9664\u7684\u8bdd\uff0c\u9700\u8981\u624b\u52a8\u5220\u6389\u6b64dom\u3002 \u7ec4\u4ef6\u4e4b\u95f4\u901a\u8baf \u00b6 \u7236\u5b50\u4e4b\u95f4\u901a\u8baf \u00b6 \u7236\u5b50\u4e4b\u95f4\u901a\u8baf\u53c8\u5206\u4e3a\u7236->\u5b50\uff0c\u5b50->\u7236\u3002 \u56e0\u4e3areact\u5355\u5411\u6570\u636e\u6d41\u5411\u7684\u7f18\u6545\uff0c\u7236->\u5b50\u901a\u4fe1\u7684\u8bdd\u76f4\u63a5\u901a\u8fc7props\u3002\u7236\u7ec4\u4ef6\u6570\u636e\u53d8\u52a8\uff0c\u76f4\u63a5\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\u3002 \u5b50->\u7236\u7ec4\u4ef6\u4e4b\u95f4\u5c31\u8981\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u6765\u901a\u4fe1\u4e86\uff0c\u7236\u7ec4\u4ef6\u4f20\u9012\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u7ed9\u5b50\u7ec4\u4ef6\uff0c\u5b50\u7ec4\u4ef6\u901a\u8fc7\u8c03\u7528\u6b64\u51fd\u6570\u7684\u65b9\u5f0f\u901a\u77e5\u7236\u7ec4\u4ef6\u901a\u4fe1\u3002 \u8de8\u7ea7\u7ec4\u4ef6\u901a\u4fe1 \u00b6 react\u4e3a\u4e86\u5b9e\u73b0\u7956\u5148\u7ec4\u4ef6\u548c\u540e\u8f88\u7ec4\u4ef6\u4e4b\u95f4\u7684\u901a\u4fe1\u95ee\u9898\uff0c\u5f15\u5165\u4e86contextApi\u3002 MessageList\u4e2d\u7684color\u4f1a\u81ea\u52a8\u66f4\u65b0\u5230\u513f\u5b59\u7ec4\u4ef6\u91cc\u9762\u53bb\uff0c\u5b9e\u73b0\u8de8\u7ea7\u901a\u4fe1\u3002\u5982\u679c\u9700\u8981\u53cd\u8fc7\u6765\u901a\u4fe1\uff0c\u5219\u9700\u8981\u501f\u52a9\u5176\u4ed6\u5de5\u5177\uff0c\u6bd4\u5982\u4e8b\u4ef6\u7cfb\u7edf(Pub/Sub)\u3002 \u6ca1\u6709\u5d4c\u5957\u5173\u7cfb\u7ec4\u4ef6\u4e4b\u95f4\u901a\u4fe1 \u00b6 \u7ec4\u4ef6\u4e4b\u95f4\u901a\u4fe1\u6700\u4e3b\u6d41\u7684\u4e24\u79cd\u65b9\u5f0f\u8131\u80ce\u4e8e\u89c2\u5bdf\u8fd9\u6a21\u5f0f\u548c\u4e2d\u4ecb\u8005\u6a21\u5f0f\u8fd9\u4e24\u79cd\u3002 \u8de8\u7ea7\u4e4b\u95f4\u901a\u4fe1\u73b0\u5728\u6700\u4e3b\u6d41\u7684\u65b9\u5f0f\u5c31\u662f\u89c2\u5bdf\u8fd9\u6a21\u5f0f\u7684\u5b9e\u73b0Pub/Sub\uff0creact\u793e\u533a\u4e2d\u7684redux\u4e5f\u662f\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u5b9e\u73b0\u7684\u3002 vue2.X\u7248\u672c\u4e5f\u53bb\u6389\u4e86\u8de8\u7ec4\u4ef6\u901a\u4fe1\u7684\u529f\u80fd\u3002\u90a3\u5982\u4f55\u57282.x\u4e2d\u505a\u8de8\u7ec4\u4ef6\u901a\u4fe1\u5462\uff1f\u5982\u679c\u4e0d\u501f\u52a9\u5916\u529b\u7684\u8bdd\uff0c\u662f\u4e0d\u662f\u53ef\u4ee5\u4f7f\u7528 $ parent \u548c $ childen \u7684\u9012\u5f52\u8c03\u7528\u5b9e\u73b0\u5168\u5c40\u7ec4\u4ef6\u901a\u4fe1\u5462\uff1f\u6bd4\u5982\u6211\u60f3\u5e7f\u64ad\u4e00\u4e2a\u4e8b\u4ef6\uff0c\u6211\u5c31\u67e5\u627e\u5230\u6240\u6709\u7684\u5b50\u7ec4\u4ef6\uff0c\u6328\u4e2a\u89e6\u53d1 $emit(xx) \uff0c\u4e0a\u62a5\u4e00\u4e2a\u4e8b\u4ef6\u4e5f\u662f\u540c\u7406\uff0c\u53ea\u4e0d\u8fc7\u9700\u8981\u67e5\u627e\u6240\u6709\u7684$parent\u3002\u7ed3\u5408\u8d77\u6765\u5c31\u53ef\u4ee5\u5b9e\u73b0\u7ec4\u4ef6\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u79cd\u67e5\u627e\u6548\u7387\u6bd4\u8f83\u4f4e\uff0c\u9700\u8981\u614e\u7528\u548c\u4f18\u5316","title":"React\u6570\u636e\u6d41.md"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#react","text":"","title":"React\u7ec4\u4ef6\u521b\u5efa"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#reactcreateclass","text":"\u8fd9\u662f\u65e7\u7248\u672c\u7684api\uff0c\u4f7f\u7528React.createClass\u521b\u5efa\u7ec4\u4ef6\uff0c\u914d\u5957\u7684\u4e00\u4e9bapi\uff0c\u6709getDefaultProps, getinitialstate\u3002\u5b98\u65b9\u5df2\u7ecf\u4e0d\u5efa\u8bae\u4f7f\u7528\u4e86\uff0c\u4f7f\u7528\u4e0b\u9762\u65b0\u7684api\u66ff\u4ee3\u3002","title":"React.createClass"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#es6-classes","text":"import * as React from 'react'; class Page extends React.Component { render() { return (<div> home </div>) } } \u8fd9\u662f\u4e00\u4e2a\u5b9e\u73b0\u4e86render\u65b9\u6cd5\u7684class\u3002\u4e5f\u662f\u4e00\u4e2a\u57fa\u672c\u7684react\u7ec4\u4ef6\u3002","title":"ES6 classes"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_1","text":"function Button(props, context) { return ( <button> <em>{props.text}</em> <span>{context.name}</span> </button> ); } \u7eaf\u51fd\u6570,\u4e0d\u5b58\u5728state\uff0c\u53ea\u63a5\u53d7props\u548ccontext\u3002\u7eaf\u51fd\u6570\u6709\u4f18\u70b9\uff0c\u4f18\u70b9\u5c31\u662f\u6613\u4e8e\u6d4b\u8bd5\uff0c\u65e0\u526f\u4f5c\u7528\u3002","title":"\u65e0\u72b6\u6001\u51fd\u6570"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#react_1","text":"State \u548c props \u5df2\u7ecf\u719f\u6089\uff0c\u6240\u4ee5\u4e0d\u4ecb\u7ecd\u4e86\u3002","title":"React\u6570\u636e\u6d41"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_2","text":"react\u91cc\u9762\u7684\u7528\u6237\u4e8b\u4ef6\u90fd\u662f\u5408\u6210\u4e8b\u4ef6\uff0c\u88abReact\u5c01\u88c5\u8fc7\u3002\u5185\u90e8\u4f7f\u7528\u7684\u8fd8\u662f\u4e8b\u4ef6\u7684\u59d4\u6258\u673a\u5236\u3002 \u5e38\u7528\u7684\u4e8b\u4ef6\u6709\u70b9\u51fb\u4e8b\u4ef6onClick\uff0cinput\u7684onChange\u4e8b\u4ef6\u7b49\uff0c\u5b98\u7f51\u90fd\u53ef\u4ee5\u67e5\u5230\u3002","title":"\u4e8b\u4ef6"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#this","text":"\u5c31\u50cf\u4e0a\u6587\u4e00\u6837\uff0c\u6211\u4eec\u7ed1\u5b9a\u4e8b\u4ef6\u7684\u65b9\u5f0f\u5f88\u5947\u602a\uff0c\u4f7f\u7528\u4e86bind\u6765\u663e\u793a\u7ed1\u5b9athis\u7684\u6307\u5411\u3002\u56e0\u4e3a\u4f20\u9012\u5230\u7ec4\u4ef6\u5185\u90e8\u7684\u53ea\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u800c\u8131\u79bb\u4e86\u5f53\u524d\u5bf9\u8c61\u7684\u51fd\u6570\u7684this\u6307\u5411\u662f\u4e0d\u80fd\u6307\u5230\u5f53\u524d\u7ec4\u4ef6\u7684\uff0c\u9700\u8981\u663e\u793a\u6307\u5b9a\u3002","title":"\u5408\u6210\u4e8b\u4ef6\u7684this\u6307\u5411\u95ee\u9898"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#bind","text":"<button onClick={this.update.bind(this)}>\u66f4\u65b0</button>","title":"\u901a\u8fc7bind"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_3","text":"import * as React from 'react'; class Child extends React.Component { constructor(props) { super(props) this.update = this.update.bind(this) } update() { this.props.onChange('\u5c0f\u660e\u540d\u5b57\u6539\u4e86') } render() { return ( <div> {this.props.parentName} <button onClick={this.update}>\u66f4\u65b0</button> </div> ) } }","title":"\u6784\u9020\u5668\u5185\u90e8\u6307\u5b9a"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_4","text":"import * as React from 'react'; class Child extends React.Component { update => e = { this.props.onChange('\u5c0f\u660e\u540d\u5b57\u6539\u4e86') } render() { return (<div> {this.props.parentName} <button onClick={this.update}>\u66f4\u65b0</button> </div>) } }","title":"\u7bad\u5934\u51fd\u6570"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_5","text":"import * as React from 'react' class Child extends React.Component { constructor(props) { super(props) } @autoBind update() { this.props.onChange('\u5c0f\u660e\u540d\u5b57\u6539\u4e86') } render() { return (<div> {this.props.parentName} <button onClick={this.update}>\u66f4\u65b0</button> </div> ) } } \u88c5\u9970\u5668\u662fes7\u8bed\u6cd5\uff0c\u5982\u679c\u9700\u8981\u4f7f\u7528\u9700\u8981\u5b89\u88c5\u5bf9\u5e94\u7684babel\uff1apresent\u7248\u672c\u3002\u800ctypescript\u5219\u539f\u751f\u652f\u6301\u3002 autoBind\u539f\u7406\u5927\u6982\u5c31\u662f\u52ab\u6301get\u65b9\u6cd5\uff0cget\u65f6\u6539\u53d8this\u6307\u5411","title":"\u88c5\u9970\u5668"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#evnt","text":"\u901a\u8fc7e.nativeEvent\u83b7\u53d6\u539f\u751f\u4e8b\u4ef6\u5bf9\u8c61 import * as React from 'react' class Child extends React.Component { constructor(props) { super(props) this.update = this.update.bind(this) } update(e) { console.log(e.nativeEvent) } render() { return ( <div> <button onClick={this.update}>\u66f4\u65b0</button> </div> ) } }","title":"\u5982\u4f55\u83b7\u5f97evnt\u539f\u751f\u4e8b\u4ef6"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_6","text":"e.preventDefault() //\u53d6\u6d88\u9ed8\u8ba4\u884c\u4e3a e.stopPropagation() //\u53d6\u6d88\u5192\u6ce1 \u8fd9\u4e2a\u548c\u6d4f\u89c8\u5668\u539f\u751f\u4e8b\u4ef6\u5904\u7406\u65b9\u6848\u662f\u4e00\u81f4\u7684\u3002\u95ee\u9898\u662f\u6211\u4eec\u53ea\u53ef\u4ee5\u8c03\u5408\u6210\u4e8b\u4ef6\u7684 e \u7684\u65b9\u6cd5\uff0c\u4e0d\u53ef\u4ee5\u901a\u8fc7 e.nativeEvent \u65b9\u6cd5\u505a\u8fd9\u4e9b\u64cd\u4f5c\uff0c\u539f\u56e0\u662f\u4e0a\u6587\u8bb2\u8fc7\u7684\u59d4\u6258\u3002","title":"\u89e3\u51b3\u5192\u6ce1\u548c\u53d6\u6d88\u9ed8\u8ba4\u4e8b\u4ef6"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_7","text":"\u56de\u6587\uff1a\u56de\u6587\u5b57\u7b26\u4e32\u662f\u6307\u6b63\u7740\u8bfb\u548c\u53cd\u7740\u8bfb\u8be5\u5b57\u7b26\u4e32\u90fd\u662f\u76f8\u540c\u62fc\u5199 function palindrome(str){ // \\W\u5339\u914d\u4efb\u4f55\u975e\u5355\u8bcd\u5b57\u7b26\u3002\u7b49\u4ef7\u4e8e\u201c[^A-Za-z0-9_]\u201d\u3002 var re = /[\\W_]/g; // \u5c06\u5b57\u7b26\u4e32\u53d8\u6210\u5c0f\u5199\u5b57\u7b26,\u5e76\u5e72\u6389\u9664\u5b57\u6bcd\u6570\u5b57\u5916\u7684\u5b57\u7b26 var lowRegStr = str.toLowerCase().replace(re,''); // \u5982\u679c\u5b57\u7b26\u4e32lowRegStr\u7684length\u957f\u5ea6\u4e3a0\u65f6\uff0c\u5b57\u7b26\u4e32\u5373\u662fpalindrome if(lowRegStr.length===0) return true; // \u5982\u679c\u5b57\u7b26\u4e32\u7684\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u4e0d\u76f8\u540c\uff0c\u90a3\u4e48\u5b57\u7b26\u4e32\u5c31\u4e0d\u662fpalindrome if(lowRegStr[0]!=lowRegStr[lowRegStr.length-1]) return false; //\u9012\u5f52 return palindrome(lowRegStr.slice(1,lowRegStr.length-1)); }","title":"\u5224\u65ad\u56de\u6587\u5b57\u7b26\u4e32 \ud83d\udc1b"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_8","text":"function unique(arr) { var obj = {} var data = [] for (var i in arr) { if (!obj[arr[i]]) { obj[arr[i]] = true; data.push(arr[i]); } } return data; }","title":"\u6570\u7ec4\u53bb\u91cd \ud83d\udc1b"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#reactdom","text":"","title":"ReactDom"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#ref","text":"\u7279\u6b8a\u7684props\uff0cref\u7ec4\u4ef6\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u73b0\u5728\u5b98\u65b9\u4e5f\u4e0d\u5efa\u8bae\u76f4\u63a5\u7ed9ref\u8d4b\u503c\uff0c\u9700\u8981\u901a\u8fc7\u51fd\u6570\u6765\u8d4b\u503c\u3002 ReactDOM.render(( <div> <Calendar ref={ref => this.c = ref} any-ss=\"text\"/> </div>), document.getElementById('root'))","title":"ref"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#render","text":"\u9876\u5c42api,\u53ea\u6709\u5728\u6839\u7ec4\u4ef6\u65f6\u5019\u624d\u9700\u8981\u4f7f\u7528\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662fComponent,\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662fdom\u8282\u70b9","title":"render"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#finddomnode","text":"\u901a\u8fc7\u4f20\u5165component\u5b9e\u4f8b\u83b7\u53d6\u6b64component\u6839dom\u8282\u70b9\uff0c\u5728\u8fd9\u91cc\u53ef\u4ee5\u53bbdom\u8282\u70b9\u8fdb\u884c\u64cd\u4f5c\u4e86\uff0c\u867d\u7136\u6781\u5176\u4e0d\u5efa\u8bae\u8fd9\u4e48\u505a\uff0c\u4f46\u662f\u4f60\u786e\u5b9e\u53ef\u4ee5\u505a\u3002","title":"findDOMNode"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#unmountcomponentatnode","text":"\u5378\u8f7d\u6b64\u7ec4\u4ef6\uff0c\u5e76\u9500\u6bc1\u7ec4\u4ef6state\u548c\u4e8b\u4ef6 \u63a5\u6536\u7ec4\u4ef6\u7684\u5f15\u7528\uff0c\u4e5f\u5c31\u662fref\u3002\u4ec5\u4ec5\u662f\u53d6\u6d88\u6302\u8f7d\uff0c\u7ec4\u4ef6\u8fd8\u5728\uff0c\u5982\u679c\u9700\u8981\u5f7b\u5e95\u6e05\u9664\u7684\u8bdd\uff0c\u9700\u8981\u624b\u52a8\u5220\u6389\u6b64dom\u3002","title":"unmountComponentAtNode"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_9","text":"","title":"\u7ec4\u4ef6\u4e4b\u95f4\u901a\u8baf"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_10","text":"\u7236\u5b50\u4e4b\u95f4\u901a\u8baf\u53c8\u5206\u4e3a\u7236->\u5b50\uff0c\u5b50->\u7236\u3002 \u56e0\u4e3areact\u5355\u5411\u6570\u636e\u6d41\u5411\u7684\u7f18\u6545\uff0c\u7236->\u5b50\u901a\u4fe1\u7684\u8bdd\u76f4\u63a5\u901a\u8fc7props\u3002\u7236\u7ec4\u4ef6\u6570\u636e\u53d8\u52a8\uff0c\u76f4\u63a5\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\u3002 \u5b50->\u7236\u7ec4\u4ef6\u4e4b\u95f4\u5c31\u8981\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u6765\u901a\u4fe1\u4e86\uff0c\u7236\u7ec4\u4ef6\u4f20\u9012\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u7ed9\u5b50\u7ec4\u4ef6\uff0c\u5b50\u7ec4\u4ef6\u901a\u8fc7\u8c03\u7528\u6b64\u51fd\u6570\u7684\u65b9\u5f0f\u901a\u77e5\u7236\u7ec4\u4ef6\u901a\u4fe1\u3002","title":"\u7236\u5b50\u4e4b\u95f4\u901a\u8baf"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_11","text":"react\u4e3a\u4e86\u5b9e\u73b0\u7956\u5148\u7ec4\u4ef6\u548c\u540e\u8f88\u7ec4\u4ef6\u4e4b\u95f4\u7684\u901a\u4fe1\u95ee\u9898\uff0c\u5f15\u5165\u4e86contextApi\u3002 MessageList\u4e2d\u7684color\u4f1a\u81ea\u52a8\u66f4\u65b0\u5230\u513f\u5b59\u7ec4\u4ef6\u91cc\u9762\u53bb\uff0c\u5b9e\u73b0\u8de8\u7ea7\u901a\u4fe1\u3002\u5982\u679c\u9700\u8981\u53cd\u8fc7\u6765\u901a\u4fe1\uff0c\u5219\u9700\u8981\u501f\u52a9\u5176\u4ed6\u5de5\u5177\uff0c\u6bd4\u5982\u4e8b\u4ef6\u7cfb\u7edf(Pub/Sub)\u3002","title":"\u8de8\u7ea7\u7ec4\u4ef6\u901a\u4fe1"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_12","text":"\u7ec4\u4ef6\u4e4b\u95f4\u901a\u4fe1\u6700\u4e3b\u6d41\u7684\u4e24\u79cd\u65b9\u5f0f\u8131\u80ce\u4e8e\u89c2\u5bdf\u8fd9\u6a21\u5f0f\u548c\u4e2d\u4ecb\u8005\u6a21\u5f0f\u8fd9\u4e24\u79cd\u3002 \u8de8\u7ea7\u4e4b\u95f4\u901a\u4fe1\u73b0\u5728\u6700\u4e3b\u6d41\u7684\u65b9\u5f0f\u5c31\u662f\u89c2\u5bdf\u8fd9\u6a21\u5f0f\u7684\u5b9e\u73b0Pub/Sub\uff0creact\u793e\u533a\u4e2d\u7684redux\u4e5f\u662f\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u5b9e\u73b0\u7684\u3002 vue2.X\u7248\u672c\u4e5f\u53bb\u6389\u4e86\u8de8\u7ec4\u4ef6\u901a\u4fe1\u7684\u529f\u80fd\u3002\u90a3\u5982\u4f55\u57282.x\u4e2d\u505a\u8de8\u7ec4\u4ef6\u901a\u4fe1\u5462\uff1f\u5982\u679c\u4e0d\u501f\u52a9\u5916\u529b\u7684\u8bdd\uff0c\u662f\u4e0d\u662f\u53ef\u4ee5\u4f7f\u7528 $ parent \u548c $ childen \u7684\u9012\u5f52\u8c03\u7528\u5b9e\u73b0\u5168\u5c40\u7ec4\u4ef6\u901a\u4fe1\u5462\uff1f\u6bd4\u5982\u6211\u60f3\u5e7f\u64ad\u4e00\u4e2a\u4e8b\u4ef6\uff0c\u6211\u5c31\u67e5\u627e\u5230\u6240\u6709\u7684\u5b50\u7ec4\u4ef6\uff0c\u6328\u4e2a\u89e6\u53d1 $emit(xx) \uff0c\u4e0a\u62a5\u4e00\u4e2a\u4e8b\u4ef6\u4e5f\u662f\u540c\u7406\uff0c\u53ea\u4e0d\u8fc7\u9700\u8981\u67e5\u627e\u6240\u6709\u7684$parent\u3002\u7ed3\u5408\u8d77\u6765\u5c31\u53ef\u4ee5\u5b9e\u73b0\u7ec4\u4ef6\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u79cd\u67e5\u627e\u6548\u7387\u6bd4\u8f83\u4f4e\uff0c\u9700\u8981\u614e\u7528\u548c\u4f18\u5316","title":"\u6ca1\u6709\u5d4c\u5957\u5173\u7cfb\u7ec4\u4ef6\u4e4b\u95f4\u901a\u4fe1"},{"location":"react/React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F--getDerivedStateFromProps/","text":"React\u65b0\u751f\u547d\u5468\u671f--getDerivedStateFromProps \u00b6 \u65b0\u7684\u751f\u547d\u5468\u671f\u8fc7\u7a0b \u00b6 \u5148\u6765\u770b\u770b\u6700\u65b0\u7248\u672creact\u7684\u751f\u547d\u5468\u671f\u56fe\uff1a image.png \u770b\u770b\u5b83\u7684\u53d8\u5316 \u65b0\u589e\uff1agetDerivedStateFromProps\uff0cgetSnapshotBeforeUpdate UNSAFE\uff1aUNSAFE_componentWillMount\uff0cUNSAFE_componentWillUpdate\uff0cUNSAFE_componentWillReceiveProps getDerivedStateFromProps \u00b6 React\u751f\u547d\u5468\u671f\u7684\u547d\u540d\u4e00\u76f4\u90fd\u662f\u975e\u5e38\u8bed\u4e49\u5316\u7684\uff0c\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u7684\u610f\u601d\u5c31\u662f \u4eceprops\u4e2d\u83b7\u53d6state \uff0c\u53ef\u4ee5\u8bf4\u662f\u592a\u7b80\u5355\u6613\u61c2\u4e86\u3002 \u53ef\u4ee5\u8bf4\uff0c\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u7684\u529f\u80fd\u5b9e\u9645\u4e0a\u5c31\u662f\u5c06 \u4f20\u5165\u7684props\u6620\u5c04\u5230state\u4e0a\u9762 \u3002 \u7531\u4e8e16.4\u7684\u4fee\u6539\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f1a\u5728 \u6bcf\u6b21re-rendering\u4e4b\u524d\u88ab\u8c03\u7528 \uff0c\u8fd9\u610f\u5473\u7740\u4ec0\u4e48\u5462\uff1f \u610f\u5473\u7740\u5373\u4f7f\u4f60\u7684props\u6ca1\u6709\u4efb\u4f55\u53d8\u5316\uff0c\u800c\u662f\u7236state\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u5bfc\u81f4\u5b50\u7ec4\u4ef6\u53d1\u751f\u4e86re-render\uff0c\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\u4f9d\u7136\u4f1a\u88ab\u8c03\u7528 \u3002\u770b\u4f3c\u4e00\u4e2a\u975e\u5e38\u5c0f\u7684\u4fee\u6539\uff0c\u5374\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5f88\u591a\u9690\u542b\u7684\u95ee\u9898\u3002 \u4f7f\u7528 \u00b6 \u8fd9\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\u662f\u4e3a\u4e86\u66ff\u4ee3 componentWillReceiveProps \u5b58\u5728\u7684\uff0c\u6240\u4ee5\u5728\u4f60\u9700\u8981\u4f7f\u7528 componentWillReceiveProps \u7684\u65f6\u5019\uff0c\u5c31\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 getDerivedStateFromProps \u6765\u8fdb\u884c\u66ff\u4ee3\u4e86\u3002 \u4e24\u8005\u7684\u53c2\u6570\u662f\u4e0d\u76f8\u540c\u7684\uff0c\u800c getDerivedStateFromProps \u662f\u4e00\u4e2a\u9759\u6001\u51fd\u6570\uff0c\u4e5f\u5c31\u662f\u8fd9\u4e2a\u51fd\u6570\u4e0d\u80fd\u901a\u8fc7this\u8bbf\u95ee\u5230class\u7684\u5c5e\u6027\uff0c\u4e5f\u5e76\u4e0d\u63a8\u8350\u76f4\u63a5\u8bbf\u95ee\u5c5e\u6027\u3002\u800c\u662f\u5e94\u8be5\u901a\u8fc7\u53c2\u6570\u63d0\u4f9b\u7684nextProps\u4ee5\u53caprevState\u6765\u8fdb\u884c\u5224\u65ad\uff0c\u6839\u636e\u65b0\u4f20\u5165\u7684props\u6765\u6620\u5c04\u5230state\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c \u5982\u679cprops\u4f20\u5165\u7684\u5185\u5bb9\u4e0d\u9700\u8981\u5f71\u54cd\u5230\u4f60\u7684state\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u8fd4\u56de\u4e00\u4e2anull \uff0c\u8fd9\u4e2a\u8fd4\u56de\u503c\u662f\u5fc5\u987b\u7684\uff0c\u6240\u4ee5\u5c3d\u91cf\u5c06\u5176\u5199\u5230\u51fd\u6570\u7684\u672b\u5c3e\u3002 static getDerivedStateFromProps ( nextProps , prevState ) { const { type } = nextProps ; // \u5f53\u4f20\u5165\u7684type\u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019\uff0c\u66f4\u65b0state if ( type !== prevState . type ) { return { type , }; } // \u5426\u5219\uff0c\u5bf9\u4e8estate\u4e0d\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c return null ; } Case1 -- \u591a\u6765\u6e90\u7684\u4e0d\u540c\u72b6\u6001 \u00b6 \u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u5217\u8868\uff0c\u8fd9\u4e2a\u5217\u8868\u53d7\u5230\u9875\u9762\u4e3b\u4f53\uff0c\u4e5f\u5c31\u662f\u6839\u7ec4\u4ef6\u7684\u9a71\u52a8\uff0c\u4e5f\u53d7\u5230\u5176\u672c\u8eab\u6570\u636e\u52a0\u8f7d\u7684\u9a71\u52a8\u3002 \u56e0\u4e3a\u8fd9\u4e2a\u9875\u9762\u5728\u5f00\u59cb\u6e32\u67d3\u7684\u65f6\u5019\uff0c\u6240\u6709\u7684\u6570\u636e\u8bf7\u6c42\u53ef\u80fd\u662f\u901a\u8fc7batch\u8fdb\u884c\u7684\uff0c\u6240\u4ee5\u8981\u5728\u6839\u7ec4\u4ef6\u8fdb\u884c\u7edf\u4e00\u5904\u7406\uff0c\u800c\u5176\u5217\u8868\u7684\u5206\u9875\u64cd\u4f5c\uff0c\u5219\u662f\u7531\u5176\u672c\u8eab\u63a7\u5236\u3002 \u8fd9\u4f1a\u51fa\u73b0\u4ec0\u4e48\u95ee\u9898\u5462\uff1f\u8be5\u5217\u8868\u7684\u72b6\u6001\u53d7\u5230\u4e24\u65b9\u9762\u7684\u63a7\u5236\uff0c\u4e5f\u5c31\u662fre-render\u53ef\u80fd\u7531props\u9a71\u52a8\uff0c\u4e5f\u53ef\u80fd\u7531state\u9a71\u52a8\u3002\u8fd9\u5c31\u5bfc\u81f4\u4e86getDerivedStateFromProps\u4f1a\u5728\u4e24\u79cd\u9a71\u52a8\u72b6\u6001\u4e0b\u88ab\u91cd\u65b0\u6e32\u67d3\u3002 \u5f53\u8fd9\u4e2a\u51fd\u6570\u88ab\u591a\u6b21\u8c03\u7528\u7684\u65f6\u5019\uff0c\u5c31\u9700\u8981\u6ce8\u610f\u5230\uff0cstate\u548cprops\u7684\u53d8\u5316\u5c06\u4f1a\u600e\u6837\u5f71\u54cd\u5230\u4f60\u7684\u7ec4\u4ef6\u53d8\u5316\u3002 // \u7ec4\u4ef6\u63a5\u6536\u4e00\u4e2atype\u53c2\u6570 static propTypes = { type : PropTypes . number } // \u7ec4\u4ef6\u8fd8\u5177\u6709\u81ea\u5df1\u7684\u72b6\u6001\u6765\u6e32\u67d3\u5217\u8868 class List extends React . Component { constructor ( props ) { super ( props ); this . state = { list : [], type : 0 , } } } \u5982\u4e0a\u9762\u4ee3\u7801\u7684\u4f8b\u5b50\u6240\u793a\uff0c\u7ec4\u4ef6\u65e2\u53d7\u63a7\uff0c\u53c8\u63a7\u5236\u81ea\u5df1\u3002\u5f53type\u53d1\u751f\u53d8\u5316\uff0c\u4f1a\u89e6\u53d1\u4e00\u6b21 getDerivedStateFromProps \uff0c\u5728\u8fd9\u91cc\u66f4\u65b0\u7ec4\u4ef6\u7684type\u72b6\u6001\uff0c\u7136\u800c\uff0c\u5728\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\u4e4b\u540e\uff0c\u7ec4\u4ef6\u53c8\u4f1a\u66f4\u65b0list\u72b6\u6001\uff0c\u8fd9\u65f6\u4f60\u7684 getDerivedStateFromProps \u51fd\u6570\u5c31\u9700\u8981\u6ce8\u610f\uff0c\u4e0d\u80fd\u591f\u4ec5\u4ec5\u5224\u65adtype\u662f\u5426\u53d8\u5316\u6765\u66f4\u65b0\u72b6\u6001\uff0c\u56e0\u4e3alist\u7684\u53d8\u5316\u4e5f\u4f1a\u66f4\u65b0\u5230\u7ec4\u4ef6\u7684\u72b6\u6001\u3002\u8fd9\u65f6\u5c31\u5fc5\u987b\u8fd4\u56de\u4e00\u4e2anull\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u65e0\u6cd5\u66f4\u65b0\u5e76\u4e14\u62a5\u9519\u3002 Case2 -- \u7ec4\u7ec7\u597d\u4f60\u7684\u7ec4\u4ef6 \u00b6 \u8003\u8651\u4e00\u4e0b\uff0c\u5982\u679c\u4f60\u7684\u7ec4\u4ef6\u5185\u90e8\u65e2\u9700\u8981\u4fee\u6539\u81ea\u5df1\u7684type\uff0c\u53c8\u9700\u8981\u63a5\u6536\u4ece\u5916\u90e8\u4fee\u6539\u7684type\u3002 \u662f\u4e0d\u662f\u975e\u5e38\u6df7\u4e71\uff1fgetDerivedStateFromProps\u4e2d\u4f60\u6839\u672c\u4e0d\u77e5\u9053\u8be5\u505a\u4ec0\u4e48\u3002 static getDerivedStateFromProps(nextProps, prevState) { const {type} = nextProps; // type\u53ef\u80fd\u7531props\u9a71\u52a8\uff0c\u4e5f\u53ef\u80fd\u7531state\u9a71\u52a8\uff0c\u8fd9\u6837\u5224\u65ad\u4f1a\u5bfc\u81f4state\u9a71\u52a8\u7684type\u88ab\u56de\u6eda if (type !== prevState.type) { return { type, }; } // \u5426\u5219\uff0c\u5bf9\u4e8estate\u4e0d\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c return null; } \u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u68d8\u624b\u7684\u95ee\u9898\u5462\uff1f \u597d\u597d\u7ec4\u7ec7\u4f60\u7684\u7ec4\u4ef6\uff0c\u5728\u975e\u5fc5\u987b\u7684\u65f6\u5019\uff0c\u6452\u5f03\u8fd9\u79cd\u5199\u6cd5\u3002type\u8981\u4e48\u7531props\u9a71\u52a8\uff0c\u8981\u4e48\u5b8c\u5168\u7531state\u9a71\u52a8\u3002 \u5982\u679c\u5b9e\u5728\u6ca1\u6709\u529e\u6cd5\u89e3\u8026\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u4e00\u4e2ahack\u6765\u8f85\u52a9\uff1a\u7ed1\u5b9aprops\u5230state\u4e0a\u3002 constructor(props) { super(props); this.state = { type: 0, props, } } static getDerivedStateFromProps(nextProps, prevState) { const {type, props} = nextProps; // \u8fd9\u6bb5\u4ee3\u7801\u53ef\u80fd\u770b\u8d77\u6765\u975e\u5e38\u6df7\u4e71\uff0c\u8fd9\u4e2aprops\u53ef\u4ee5\u88ab\u5f53\u505a\u7f13\u5b58\uff0c\u4ec5\u7528\u4f5c\u5224\u65ad if (type !== props.type) { return { type, props: { type, }, }; } // \u5426\u5219\uff0c\u5bf9\u4e8estate\u4e0d\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c return null; } \u4e0a\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u4fdd\u8bc1\u5728\u8fdb\u884c\u591a\u6570\u636e\u6e90\u9a71\u52a8\u7684\u65f6\u5019\uff0c\u72b6\u6001\u80fd\u591f\u6b63\u786e\u6539\u53d8\u3002\u5f53\u7136\uff0c\u8fd9\u6837\u7684\u4ee3\u7801\u5f88\u591a\u60c5\u51b5\u4e0b\u662f\u4f1a\u5f71\u54cd\u5230\u522b\u4eba\u9605\u8bfb\u4f60\u7684\u4ee3\u7801\u7684\uff0c\u5bf9\u4e8e\u7ef4\u62a4\u9020\u6210\u4e86\u975e\u5e38\u5927\u7684\u56f0\u96be\u3002 \u4ece\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u7684\u66f4\u65b0\u6765\u770b\uff0creact\u66f4\u5e0c\u671b\u5c06\u53d7\u63a7\u7684 props \u548c state \u8fdb\u884c\u5206\u79bb\uff0c\u5c31\u5982\u540c Redux \u4f5c\u8005Dan Abramov\u5728redux\u6587\u6863\u5f53\u4e2d\u5199\u7684\u4e00\u6837 Presentational and Container Components \uff0c\u5c06\u6240\u6709\u7684\u7ec4\u4ef6\u5206\u79bb\u79f0\u4e3a\u5c55\u793a\u578b\u7ec4\u4ef6\u548c\u5bb9\u5668\u578b\u7ec4\u4ef6\uff0c\u4e00\u4e2a\u53ea\u8d1f\u8d23\u63a5\u6536 props \u6765\u6539\u53d8\u81ea\u5df1\u7684\u6837\u5f0f\uff0c\u4e00\u4e2a\u8d1f\u8d23\u4fdd\u6301\u5176\u6574\u4e2a\u6a21\u5757\u7684 state \u3002\u8fd9\u6837\u53ef\u4ee5\u8ba9\u4ee3\u7801\u66f4\u52a0\u6e05\u6670\u3002\u4f46\u662f\u5728\u5b9e\u9645\u7684\u4e1a\u52a1\u903b\u8f91\u4e2d\uff0c\u6211\u4eec\u6709\u65f6\u5f88\u96be\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u800c\u4e14\u8fd9\u6837\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5bb9\u5668\u578b\u7ec4\u4ef6\u53d8\u5f97\u975e\u5e38\u5e9e\u5927\u4ee5\u81f4\u96be\u4ee5\u7ba1\u7406\uff0c\u5982\u4f55\u8fdb\u884c\u53d6\u820d\u8fd8\u662f\u9700\u8981\u6839\u636e\u5b9e\u9645\u573a\u666f\u51b3\u5b9a\u7684\u3002 Case3 -- \u5f02\u6b65 \u00b6 \u4ee5\u524d\uff0c\u6211\u4eec\u53ef\u4ee5\u5728props\u53d1\u751f\u6539\u53d8\u7684\u65f6\u5019\uff0c\u5728componentWillReceiveProps\u4e2d\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\uff0c\u5c06props\u7684\u6539\u53d8\u9a71\u52a8\u5230state\u7684\u6539\u53d8\u3002 componentWillReceiveProps ( nextProps ) { if ( props . type != = nextProps . type ) { // \u5728\u8fd9\u91cc\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\u6216\u8005\u66f4\u65b0\u72b6\u6001 this . setState ({ type : props . type , }); this . _doAsyncOperation (); } } \u8fd9\u6837\u7684\u5199\u6cd5\u5df2\u7ecf\u4f7f\u7528\u4e86\u5f88\u4e45\uff0c\u5e76\u4e14\u5e76\u4e0d\u4f1a\u5b58\u5728\u4ec0\u4e48\u529f\u80fd\u4e0a\u7684\u95ee\u9898\uff0c\u4f46\u662f\u5c06componentWillReceiveProps\u6807\u8bb0\u4e3adeprecated\u7684\u539f\u56e0\u4e5f\u5e76\u4e0d\u662f\u56e0\u4e3a\u529f\u80fd\u95ee\u9898\uff0c\u800c\u662f\u6027\u80fd\u95ee\u9898\u3002 \u5f53\u5916\u90e8\u591a\u4e2a\u5c5e\u6027\u5728\u5f88\u77ed\u7684\u65f6\u95f4\u95f4\u9694\u4e4b\u5185\u591a\u6b21\u53d8\u5316\uff0c\u5c31\u4f1a\u5bfc\u81f4componentWillReceiveProps\u88ab\u591a\u6b21\u8c03\u7528\u3002\u8fd9\u4e2a\u8c03\u7528\u5e76\u4e0d\u4f1a\u88ab\u5408\u5e76\uff0c\u5982\u679c\u8fd9\u6b21\u5185\u5bb9\u90fd\u4f1a\u89e6\u53d1\u5f02\u6b65\u8bf7\u6c42\uff0c\u90a3\u4e48\u53ef\u80fd\u4f1a\u5bfc\u81f4\u591a\u4e2a\u5f02\u6b65\u8bf7\u6c42\u963b\u585e\u3002 getDerivedStateFromProps is invoked right before calling the render method, both on the initial mount and on subsequent updates. It should return an object to update the state, or null to update nothing. \u8fd9\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\u4f1a\u5728\u6bcf\u6b21\u8c03\u7528render\u4e4b\u524d\u88ab\u89e6\u53d1\uff0c\u800c\u8bfb\u8fc7\u4e00\u70b9react\u6e90\u7801\u7684\u7ae5\u978b\u90fd\u4f1a\u4e86\u89e3\uff0c reactsetState\u64cd\u4f5c\u662f\u4f1a\u901a\u8fc7transaction\u8fdb\u884c\u5408\u5e76\u7684\uff0c\u7531\u6b64\u5bfc\u81f4\u7684\u66f4\u65b0\u8fc7\u7a0b\u662fbatch\u7684\uff0c\u800creact\u4e2d\u5927\u90e8\u5206\u7684\u66f4\u65b0\u8fc7\u7a0b\u7684\u89e6\u53d1\u6e90\u90fd\u662fsetState\uff0c\u6240\u4ee5render\u89e6\u53d1\u7684\u9891\u7387\u5e76\u4e0d\u4f1a\u975e\u5e38\u9891\u7e41 (\u611f\u8c22 @leeenx20 \u7684\u63d0\u9192\uff0c\u8fd9\u91cc\u63cf\u8ff0\u8fdb\u884c\u4e86\u4fee\u6539)\u3002 \u5728\u4f7f\u7528getDerivedStateFromProps\u7684\u65f6\u5019\uff0c\u9047\u5230\u4e86\u4e0a\u9762\u8bf4\u7684props\u5728\u5f88\u77ed\u7684\u65f6\u95f4\u5185\u591a\u6b21\u53d8\u5316\uff0c\u4e5f\u53ea\u4f1a\u89e6\u53d1\u4e00\u6b21render\uff0c\u4e5f\u5c31\u662f\u53ea\u89e6\u53d1\u4e00\u6b21getDerivedStateFromProps\u3002\u8fd9\u6837\u7684\u4f18\u70b9\u4e0d\u8a00\u800c\u55bb\u3002 \u90a3\u4e48\u5982\u4f55\u4f7f\u7528getDerivedStateFromProps\u8fdb\u884c\u5f02\u6b65\u7684\u5904\u7406\u5462\uff1f If you need to perform a side effect (for example, data fetching or an animation) in response to a change in props, use componentDidUpdate lifecycle instead. \u5b98\u65b9\u6559\u4f60\u600e\u4e48\u5199\u4ee3\u7801\u7cfb\u5217\uff0c\u4f46\u662f\u5176\u5b9e\u4e5f\u6ca1\u6709\u5176\u4ed6\u53ef\u4ee5\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\u7684\u5730\u65b9\u4e86\u3002\u4e3a\u4e86\u54cd\u5e94props\u7684\u53d8\u5316\uff0c\u5c31\u9700\u8981\u5728componentDidUpdate\u4e2d\u6839\u636e\u65b0\u7684props\u548cstate\u6765\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\uff0c\u6bd4\u5982\u4ece\u670d\u52a1\u7aef\u62c9\u53d6\u6570\u636e\u3002 // \u5728getDerivedStateFromProps\u4e2d\u8fdb\u884cstate\u7684\u6539\u53d8 static getDerivedStateFromProps ( nextProps , prevState ) { if ( nextProps . type !== prevState . type ) { return { type : nextProps . type , }; } return null ; } // \u5728componentDidUpdate\u4e2d\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\uff0c\u9a71\u52a8\u6570\u636e\u7684\u53d8\u5316 componentDidUpdate () { this . _loadAsyncData ({... this . state }); } \u5c0f\u7ed3 \u00b6 \u4ee5\u4e0a\u662f\u672c\u671f\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u65b0\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\u7684\u65f6\u5019\u9047\u5230\u7684\u4e00\u70b9\u5c0f\u95ee\u9898\u548c\u4e00\u4e9b\u76f8\u5173\u601d\u8003\u3002react\u4e3a\u4e86\u9632\u6b62\u90e8\u5206\u5f00\u53d1\u8005\u6ee5\u7528\u751f\u547d\u5468\u671f\uff0c\u53ef\u8c13\u975e\u5e38\u5c3d\u5fc3\u5c3d\u529b\u4e86\u3002\u65e2\u7136\u4f60\u7528\u4e0d\u597d\uff0c\u6211\u5c31\u5e72\u8106\u4e0d\u8ba9\u4f60\u7528\u3002\u4e00\u4e2a\u9759\u6001\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\u53ef\u4ee5\u8ba9\u72b6\u6001\u7684\u4fee\u6539\u66f4\u52a0\u89c4\u8303\u548c\u5408\u7406\u3002 \u81f3\u4e8e\u4e3a\u4ec0\u4e48\u5168\u6587\u6ca1\u6709\u63d0\u5230 getSnapshotBeforeUpdate \uff0c\u56e0\u4e3a\u81ea\u5df1\u5e76\u6ca1\u6709\u7528\u5230#\u8bda\u5b9e\u8138\u3002\u7b80\u5355\u770b\u4e86\u4e00\u4e0b\uff0c\u8fd9\u4e2a\u51fd\u6570\u8fd4\u56de\u4e00\u4e2aupdate\u4e4b\u524d\u7684\u5feb\u7167\uff0c\u5e76\u4e14\u4f20\u5165\u5230 componentDidUpdate \u4e2d\uff0c\u7ec4\u4ef6\u66f4\u65b0\u524d\u540e\u7684\u72b6\u6001\u90fd\u53ef\u4ee5\u5728 componentDidUpdate \u4e2d\u83b7\u53d6\u4e86\u3002\u4e00\u4e9b\u9700\u8981\u5728\u7ec4\u4ef6\u66f4\u65b0\u5b8c\u6210\u4e4b\u540e\u8fdb\u884c\u7684\u64cd\u4f5c\u6240\u9700\u8981\u7684\u6570\u636e\uff0c\u5c31\u53ef\u4ee5\u4e0d\u9700\u8981\u6302\u8f7d\u5230 state \u6216\u8005\u662fcache\u4e0b\u6765\u4e86\u3002\u6bd4\u5982 \u5b98\u65b9\u4f8b\u5b50 \u4e2d\u6240\u4e3e\u4f8b\u7684\u4fdd\u7559\u66f4\u65b0\u4e4b\u524d\u7684\u9875\u9762\u6eda\u52a8\u8ddd\u79bb\uff0c\u4ee5\u4fbf\u5728\u7ec4\u4ef6update\u5b8c\u6210\u4e4b\u540e\u6062\u590d\u5176\u6eda\u52a8\u4f4d\u7f6e\u3002\u4e5f\u662f\u4e00\u4e2a\u975e\u5e38\u65b9\u4fbf\u7684\u5468\u671f\u51fd\u6570\u3002","title":"React\u65b0\u751f\u547d\u5468\u671f--getDerivedStateFromProps.md"},{"location":"react/React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F--getDerivedStateFromProps/#react-getderivedstatefromprops","text":"","title":"React\u65b0\u751f\u547d\u5468\u671f--getDerivedStateFromProps"},{"location":"react/React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F--getDerivedStateFromProps/#_1","text":"\u5148\u6765\u770b\u770b\u6700\u65b0\u7248\u672creact\u7684\u751f\u547d\u5468\u671f\u56fe\uff1a image.png \u770b\u770b\u5b83\u7684\u53d8\u5316 \u65b0\u589e\uff1agetDerivedStateFromProps\uff0cgetSnapshotBeforeUpdate UNSAFE\uff1aUNSAFE_componentWillMount\uff0cUNSAFE_componentWillUpdate\uff0cUNSAFE_componentWillReceiveProps","title":"\u65b0\u7684\u751f\u547d\u5468\u671f\u8fc7\u7a0b"},{"location":"react/React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F--getDerivedStateFromProps/#getderivedstatefromprops","text":"React\u751f\u547d\u5468\u671f\u7684\u547d\u540d\u4e00\u76f4\u90fd\u662f\u975e\u5e38\u8bed\u4e49\u5316\u7684\uff0c\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u7684\u610f\u601d\u5c31\u662f \u4eceprops\u4e2d\u83b7\u53d6state \uff0c\u53ef\u4ee5\u8bf4\u662f\u592a\u7b80\u5355\u6613\u61c2\u4e86\u3002 \u53ef\u4ee5\u8bf4\uff0c\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u7684\u529f\u80fd\u5b9e\u9645\u4e0a\u5c31\u662f\u5c06 \u4f20\u5165\u7684props\u6620\u5c04\u5230state\u4e0a\u9762 \u3002 \u7531\u4e8e16.4\u7684\u4fee\u6539\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f1a\u5728 \u6bcf\u6b21re-rendering\u4e4b\u524d\u88ab\u8c03\u7528 \uff0c\u8fd9\u610f\u5473\u7740\u4ec0\u4e48\u5462\uff1f \u610f\u5473\u7740\u5373\u4f7f\u4f60\u7684props\u6ca1\u6709\u4efb\u4f55\u53d8\u5316\uff0c\u800c\u662f\u7236state\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u5bfc\u81f4\u5b50\u7ec4\u4ef6\u53d1\u751f\u4e86re-render\uff0c\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\u4f9d\u7136\u4f1a\u88ab\u8c03\u7528 \u3002\u770b\u4f3c\u4e00\u4e2a\u975e\u5e38\u5c0f\u7684\u4fee\u6539\uff0c\u5374\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5f88\u591a\u9690\u542b\u7684\u95ee\u9898\u3002","title":"getDerivedStateFromProps"},{"location":"react/React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F--getDerivedStateFromProps/#_2","text":"\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\u662f\u4e3a\u4e86\u66ff\u4ee3 componentWillReceiveProps \u5b58\u5728\u7684\uff0c\u6240\u4ee5\u5728\u4f60\u9700\u8981\u4f7f\u7528 componentWillReceiveProps \u7684\u65f6\u5019\uff0c\u5c31\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 getDerivedStateFromProps \u6765\u8fdb\u884c\u66ff\u4ee3\u4e86\u3002 \u4e24\u8005\u7684\u53c2\u6570\u662f\u4e0d\u76f8\u540c\u7684\uff0c\u800c getDerivedStateFromProps \u662f\u4e00\u4e2a\u9759\u6001\u51fd\u6570\uff0c\u4e5f\u5c31\u662f\u8fd9\u4e2a\u51fd\u6570\u4e0d\u80fd\u901a\u8fc7this\u8bbf\u95ee\u5230class\u7684\u5c5e\u6027\uff0c\u4e5f\u5e76\u4e0d\u63a8\u8350\u76f4\u63a5\u8bbf\u95ee\u5c5e\u6027\u3002\u800c\u662f\u5e94\u8be5\u901a\u8fc7\u53c2\u6570\u63d0\u4f9b\u7684nextProps\u4ee5\u53caprevState\u6765\u8fdb\u884c\u5224\u65ad\uff0c\u6839\u636e\u65b0\u4f20\u5165\u7684props\u6765\u6620\u5c04\u5230state\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c \u5982\u679cprops\u4f20\u5165\u7684\u5185\u5bb9\u4e0d\u9700\u8981\u5f71\u54cd\u5230\u4f60\u7684state\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u8fd4\u56de\u4e00\u4e2anull \uff0c\u8fd9\u4e2a\u8fd4\u56de\u503c\u662f\u5fc5\u987b\u7684\uff0c\u6240\u4ee5\u5c3d\u91cf\u5c06\u5176\u5199\u5230\u51fd\u6570\u7684\u672b\u5c3e\u3002 static getDerivedStateFromProps ( nextProps , prevState ) { const { type } = nextProps ; // \u5f53\u4f20\u5165\u7684type\u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019\uff0c\u66f4\u65b0state if ( type !== prevState . type ) { return { type , }; } // \u5426\u5219\uff0c\u5bf9\u4e8estate\u4e0d\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c return null ; }","title":"\u4f7f\u7528"},{"location":"react/React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F--getDerivedStateFromProps/#case1-","text":"\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u5217\u8868\uff0c\u8fd9\u4e2a\u5217\u8868\u53d7\u5230\u9875\u9762\u4e3b\u4f53\uff0c\u4e5f\u5c31\u662f\u6839\u7ec4\u4ef6\u7684\u9a71\u52a8\uff0c\u4e5f\u53d7\u5230\u5176\u672c\u8eab\u6570\u636e\u52a0\u8f7d\u7684\u9a71\u52a8\u3002 \u56e0\u4e3a\u8fd9\u4e2a\u9875\u9762\u5728\u5f00\u59cb\u6e32\u67d3\u7684\u65f6\u5019\uff0c\u6240\u6709\u7684\u6570\u636e\u8bf7\u6c42\u53ef\u80fd\u662f\u901a\u8fc7batch\u8fdb\u884c\u7684\uff0c\u6240\u4ee5\u8981\u5728\u6839\u7ec4\u4ef6\u8fdb\u884c\u7edf\u4e00\u5904\u7406\uff0c\u800c\u5176\u5217\u8868\u7684\u5206\u9875\u64cd\u4f5c\uff0c\u5219\u662f\u7531\u5176\u672c\u8eab\u63a7\u5236\u3002 \u8fd9\u4f1a\u51fa\u73b0\u4ec0\u4e48\u95ee\u9898\u5462\uff1f\u8be5\u5217\u8868\u7684\u72b6\u6001\u53d7\u5230\u4e24\u65b9\u9762\u7684\u63a7\u5236\uff0c\u4e5f\u5c31\u662fre-render\u53ef\u80fd\u7531props\u9a71\u52a8\uff0c\u4e5f\u53ef\u80fd\u7531state\u9a71\u52a8\u3002\u8fd9\u5c31\u5bfc\u81f4\u4e86getDerivedStateFromProps\u4f1a\u5728\u4e24\u79cd\u9a71\u52a8\u72b6\u6001\u4e0b\u88ab\u91cd\u65b0\u6e32\u67d3\u3002 \u5f53\u8fd9\u4e2a\u51fd\u6570\u88ab\u591a\u6b21\u8c03\u7528\u7684\u65f6\u5019\uff0c\u5c31\u9700\u8981\u6ce8\u610f\u5230\uff0cstate\u548cprops\u7684\u53d8\u5316\u5c06\u4f1a\u600e\u6837\u5f71\u54cd\u5230\u4f60\u7684\u7ec4\u4ef6\u53d8\u5316\u3002 // \u7ec4\u4ef6\u63a5\u6536\u4e00\u4e2atype\u53c2\u6570 static propTypes = { type : PropTypes . number } // \u7ec4\u4ef6\u8fd8\u5177\u6709\u81ea\u5df1\u7684\u72b6\u6001\u6765\u6e32\u67d3\u5217\u8868 class List extends React . Component { constructor ( props ) { super ( props ); this . state = { list : [], type : 0 , } } } \u5982\u4e0a\u9762\u4ee3\u7801\u7684\u4f8b\u5b50\u6240\u793a\uff0c\u7ec4\u4ef6\u65e2\u53d7\u63a7\uff0c\u53c8\u63a7\u5236\u81ea\u5df1\u3002\u5f53type\u53d1\u751f\u53d8\u5316\uff0c\u4f1a\u89e6\u53d1\u4e00\u6b21 getDerivedStateFromProps \uff0c\u5728\u8fd9\u91cc\u66f4\u65b0\u7ec4\u4ef6\u7684type\u72b6\u6001\uff0c\u7136\u800c\uff0c\u5728\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\u4e4b\u540e\uff0c\u7ec4\u4ef6\u53c8\u4f1a\u66f4\u65b0list\u72b6\u6001\uff0c\u8fd9\u65f6\u4f60\u7684 getDerivedStateFromProps \u51fd\u6570\u5c31\u9700\u8981\u6ce8\u610f\uff0c\u4e0d\u80fd\u591f\u4ec5\u4ec5\u5224\u65adtype\u662f\u5426\u53d8\u5316\u6765\u66f4\u65b0\u72b6\u6001\uff0c\u56e0\u4e3alist\u7684\u53d8\u5316\u4e5f\u4f1a\u66f4\u65b0\u5230\u7ec4\u4ef6\u7684\u72b6\u6001\u3002\u8fd9\u65f6\u5c31\u5fc5\u987b\u8fd4\u56de\u4e00\u4e2anull\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u65e0\u6cd5\u66f4\u65b0\u5e76\u4e14\u62a5\u9519\u3002","title":"Case1 -- \u591a\u6765\u6e90\u7684\u4e0d\u540c\u72b6\u6001"},{"location":"react/React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F--getDerivedStateFromProps/#case2-","text":"\u8003\u8651\u4e00\u4e0b\uff0c\u5982\u679c\u4f60\u7684\u7ec4\u4ef6\u5185\u90e8\u65e2\u9700\u8981\u4fee\u6539\u81ea\u5df1\u7684type\uff0c\u53c8\u9700\u8981\u63a5\u6536\u4ece\u5916\u90e8\u4fee\u6539\u7684type\u3002 \u662f\u4e0d\u662f\u975e\u5e38\u6df7\u4e71\uff1fgetDerivedStateFromProps\u4e2d\u4f60\u6839\u672c\u4e0d\u77e5\u9053\u8be5\u505a\u4ec0\u4e48\u3002 static getDerivedStateFromProps(nextProps, prevState) { const {type} = nextProps; // type\u53ef\u80fd\u7531props\u9a71\u52a8\uff0c\u4e5f\u53ef\u80fd\u7531state\u9a71\u52a8\uff0c\u8fd9\u6837\u5224\u65ad\u4f1a\u5bfc\u81f4state\u9a71\u52a8\u7684type\u88ab\u56de\u6eda if (type !== prevState.type) { return { type, }; } // \u5426\u5219\uff0c\u5bf9\u4e8estate\u4e0d\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c return null; } \u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u68d8\u624b\u7684\u95ee\u9898\u5462\uff1f \u597d\u597d\u7ec4\u7ec7\u4f60\u7684\u7ec4\u4ef6\uff0c\u5728\u975e\u5fc5\u987b\u7684\u65f6\u5019\uff0c\u6452\u5f03\u8fd9\u79cd\u5199\u6cd5\u3002type\u8981\u4e48\u7531props\u9a71\u52a8\uff0c\u8981\u4e48\u5b8c\u5168\u7531state\u9a71\u52a8\u3002 \u5982\u679c\u5b9e\u5728\u6ca1\u6709\u529e\u6cd5\u89e3\u8026\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u4e00\u4e2ahack\u6765\u8f85\u52a9\uff1a\u7ed1\u5b9aprops\u5230state\u4e0a\u3002 constructor(props) { super(props); this.state = { type: 0, props, } } static getDerivedStateFromProps(nextProps, prevState) { const {type, props} = nextProps; // \u8fd9\u6bb5\u4ee3\u7801\u53ef\u80fd\u770b\u8d77\u6765\u975e\u5e38\u6df7\u4e71\uff0c\u8fd9\u4e2aprops\u53ef\u4ee5\u88ab\u5f53\u505a\u7f13\u5b58\uff0c\u4ec5\u7528\u4f5c\u5224\u65ad if (type !== props.type) { return { type, props: { type, }, }; } // \u5426\u5219\uff0c\u5bf9\u4e8estate\u4e0d\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c return null; } \u4e0a\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u4fdd\u8bc1\u5728\u8fdb\u884c\u591a\u6570\u636e\u6e90\u9a71\u52a8\u7684\u65f6\u5019\uff0c\u72b6\u6001\u80fd\u591f\u6b63\u786e\u6539\u53d8\u3002\u5f53\u7136\uff0c\u8fd9\u6837\u7684\u4ee3\u7801\u5f88\u591a\u60c5\u51b5\u4e0b\u662f\u4f1a\u5f71\u54cd\u5230\u522b\u4eba\u9605\u8bfb\u4f60\u7684\u4ee3\u7801\u7684\uff0c\u5bf9\u4e8e\u7ef4\u62a4\u9020\u6210\u4e86\u975e\u5e38\u5927\u7684\u56f0\u96be\u3002 \u4ece\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u7684\u66f4\u65b0\u6765\u770b\uff0creact\u66f4\u5e0c\u671b\u5c06\u53d7\u63a7\u7684 props \u548c state \u8fdb\u884c\u5206\u79bb\uff0c\u5c31\u5982\u540c Redux \u4f5c\u8005Dan Abramov\u5728redux\u6587\u6863\u5f53\u4e2d\u5199\u7684\u4e00\u6837 Presentational and Container Components \uff0c\u5c06\u6240\u6709\u7684\u7ec4\u4ef6\u5206\u79bb\u79f0\u4e3a\u5c55\u793a\u578b\u7ec4\u4ef6\u548c\u5bb9\u5668\u578b\u7ec4\u4ef6\uff0c\u4e00\u4e2a\u53ea\u8d1f\u8d23\u63a5\u6536 props \u6765\u6539\u53d8\u81ea\u5df1\u7684\u6837\u5f0f\uff0c\u4e00\u4e2a\u8d1f\u8d23\u4fdd\u6301\u5176\u6574\u4e2a\u6a21\u5757\u7684 state \u3002\u8fd9\u6837\u53ef\u4ee5\u8ba9\u4ee3\u7801\u66f4\u52a0\u6e05\u6670\u3002\u4f46\u662f\u5728\u5b9e\u9645\u7684\u4e1a\u52a1\u903b\u8f91\u4e2d\uff0c\u6211\u4eec\u6709\u65f6\u5f88\u96be\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u800c\u4e14\u8fd9\u6837\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5bb9\u5668\u578b\u7ec4\u4ef6\u53d8\u5f97\u975e\u5e38\u5e9e\u5927\u4ee5\u81f4\u96be\u4ee5\u7ba1\u7406\uff0c\u5982\u4f55\u8fdb\u884c\u53d6\u820d\u8fd8\u662f\u9700\u8981\u6839\u636e\u5b9e\u9645\u573a\u666f\u51b3\u5b9a\u7684\u3002","title":"Case2 -- \u7ec4\u7ec7\u597d\u4f60\u7684\u7ec4\u4ef6"},{"location":"react/React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F--getDerivedStateFromProps/#case3-","text":"\u4ee5\u524d\uff0c\u6211\u4eec\u53ef\u4ee5\u5728props\u53d1\u751f\u6539\u53d8\u7684\u65f6\u5019\uff0c\u5728componentWillReceiveProps\u4e2d\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\uff0c\u5c06props\u7684\u6539\u53d8\u9a71\u52a8\u5230state\u7684\u6539\u53d8\u3002 componentWillReceiveProps ( nextProps ) { if ( props . type != = nextProps . type ) { // \u5728\u8fd9\u91cc\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\u6216\u8005\u66f4\u65b0\u72b6\u6001 this . setState ({ type : props . type , }); this . _doAsyncOperation (); } } \u8fd9\u6837\u7684\u5199\u6cd5\u5df2\u7ecf\u4f7f\u7528\u4e86\u5f88\u4e45\uff0c\u5e76\u4e14\u5e76\u4e0d\u4f1a\u5b58\u5728\u4ec0\u4e48\u529f\u80fd\u4e0a\u7684\u95ee\u9898\uff0c\u4f46\u662f\u5c06componentWillReceiveProps\u6807\u8bb0\u4e3adeprecated\u7684\u539f\u56e0\u4e5f\u5e76\u4e0d\u662f\u56e0\u4e3a\u529f\u80fd\u95ee\u9898\uff0c\u800c\u662f\u6027\u80fd\u95ee\u9898\u3002 \u5f53\u5916\u90e8\u591a\u4e2a\u5c5e\u6027\u5728\u5f88\u77ed\u7684\u65f6\u95f4\u95f4\u9694\u4e4b\u5185\u591a\u6b21\u53d8\u5316\uff0c\u5c31\u4f1a\u5bfc\u81f4componentWillReceiveProps\u88ab\u591a\u6b21\u8c03\u7528\u3002\u8fd9\u4e2a\u8c03\u7528\u5e76\u4e0d\u4f1a\u88ab\u5408\u5e76\uff0c\u5982\u679c\u8fd9\u6b21\u5185\u5bb9\u90fd\u4f1a\u89e6\u53d1\u5f02\u6b65\u8bf7\u6c42\uff0c\u90a3\u4e48\u53ef\u80fd\u4f1a\u5bfc\u81f4\u591a\u4e2a\u5f02\u6b65\u8bf7\u6c42\u963b\u585e\u3002 getDerivedStateFromProps is invoked right before calling the render method, both on the initial mount and on subsequent updates. It should return an object to update the state, or null to update nothing. \u8fd9\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\u4f1a\u5728\u6bcf\u6b21\u8c03\u7528render\u4e4b\u524d\u88ab\u89e6\u53d1\uff0c\u800c\u8bfb\u8fc7\u4e00\u70b9react\u6e90\u7801\u7684\u7ae5\u978b\u90fd\u4f1a\u4e86\u89e3\uff0c reactsetState\u64cd\u4f5c\u662f\u4f1a\u901a\u8fc7transaction\u8fdb\u884c\u5408\u5e76\u7684\uff0c\u7531\u6b64\u5bfc\u81f4\u7684\u66f4\u65b0\u8fc7\u7a0b\u662fbatch\u7684\uff0c\u800creact\u4e2d\u5927\u90e8\u5206\u7684\u66f4\u65b0\u8fc7\u7a0b\u7684\u89e6\u53d1\u6e90\u90fd\u662fsetState\uff0c\u6240\u4ee5render\u89e6\u53d1\u7684\u9891\u7387\u5e76\u4e0d\u4f1a\u975e\u5e38\u9891\u7e41 (\u611f\u8c22 @leeenx20 \u7684\u63d0\u9192\uff0c\u8fd9\u91cc\u63cf\u8ff0\u8fdb\u884c\u4e86\u4fee\u6539)\u3002 \u5728\u4f7f\u7528getDerivedStateFromProps\u7684\u65f6\u5019\uff0c\u9047\u5230\u4e86\u4e0a\u9762\u8bf4\u7684props\u5728\u5f88\u77ed\u7684\u65f6\u95f4\u5185\u591a\u6b21\u53d8\u5316\uff0c\u4e5f\u53ea\u4f1a\u89e6\u53d1\u4e00\u6b21render\uff0c\u4e5f\u5c31\u662f\u53ea\u89e6\u53d1\u4e00\u6b21getDerivedStateFromProps\u3002\u8fd9\u6837\u7684\u4f18\u70b9\u4e0d\u8a00\u800c\u55bb\u3002 \u90a3\u4e48\u5982\u4f55\u4f7f\u7528getDerivedStateFromProps\u8fdb\u884c\u5f02\u6b65\u7684\u5904\u7406\u5462\uff1f If you need to perform a side effect (for example, data fetching or an animation) in response to a change in props, use componentDidUpdate lifecycle instead. \u5b98\u65b9\u6559\u4f60\u600e\u4e48\u5199\u4ee3\u7801\u7cfb\u5217\uff0c\u4f46\u662f\u5176\u5b9e\u4e5f\u6ca1\u6709\u5176\u4ed6\u53ef\u4ee5\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\u7684\u5730\u65b9\u4e86\u3002\u4e3a\u4e86\u54cd\u5e94props\u7684\u53d8\u5316\uff0c\u5c31\u9700\u8981\u5728componentDidUpdate\u4e2d\u6839\u636e\u65b0\u7684props\u548cstate\u6765\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\uff0c\u6bd4\u5982\u4ece\u670d\u52a1\u7aef\u62c9\u53d6\u6570\u636e\u3002 // \u5728getDerivedStateFromProps\u4e2d\u8fdb\u884cstate\u7684\u6539\u53d8 static getDerivedStateFromProps ( nextProps , prevState ) { if ( nextProps . type !== prevState . type ) { return { type : nextProps . type , }; } return null ; } // \u5728componentDidUpdate\u4e2d\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\uff0c\u9a71\u52a8\u6570\u636e\u7684\u53d8\u5316 componentDidUpdate () { this . _loadAsyncData ({... this . state }); }","title":"Case3 -- \u5f02\u6b65"},{"location":"react/React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F--getDerivedStateFromProps/#_3","text":"\u4ee5\u4e0a\u662f\u672c\u671f\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u65b0\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\u7684\u65f6\u5019\u9047\u5230\u7684\u4e00\u70b9\u5c0f\u95ee\u9898\u548c\u4e00\u4e9b\u76f8\u5173\u601d\u8003\u3002react\u4e3a\u4e86\u9632\u6b62\u90e8\u5206\u5f00\u53d1\u8005\u6ee5\u7528\u751f\u547d\u5468\u671f\uff0c\u53ef\u8c13\u975e\u5e38\u5c3d\u5fc3\u5c3d\u529b\u4e86\u3002\u65e2\u7136\u4f60\u7528\u4e0d\u597d\uff0c\u6211\u5c31\u5e72\u8106\u4e0d\u8ba9\u4f60\u7528\u3002\u4e00\u4e2a\u9759\u6001\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\u53ef\u4ee5\u8ba9\u72b6\u6001\u7684\u4fee\u6539\u66f4\u52a0\u89c4\u8303\u548c\u5408\u7406\u3002 \u81f3\u4e8e\u4e3a\u4ec0\u4e48\u5168\u6587\u6ca1\u6709\u63d0\u5230 getSnapshotBeforeUpdate \uff0c\u56e0\u4e3a\u81ea\u5df1\u5e76\u6ca1\u6709\u7528\u5230#\u8bda\u5b9e\u8138\u3002\u7b80\u5355\u770b\u4e86\u4e00\u4e0b\uff0c\u8fd9\u4e2a\u51fd\u6570\u8fd4\u56de\u4e00\u4e2aupdate\u4e4b\u524d\u7684\u5feb\u7167\uff0c\u5e76\u4e14\u4f20\u5165\u5230 componentDidUpdate \u4e2d\uff0c\u7ec4\u4ef6\u66f4\u65b0\u524d\u540e\u7684\u72b6\u6001\u90fd\u53ef\u4ee5\u5728 componentDidUpdate \u4e2d\u83b7\u53d6\u4e86\u3002\u4e00\u4e9b\u9700\u8981\u5728\u7ec4\u4ef6\u66f4\u65b0\u5b8c\u6210\u4e4b\u540e\u8fdb\u884c\u7684\u64cd\u4f5c\u6240\u9700\u8981\u7684\u6570\u636e\uff0c\u5c31\u53ef\u4ee5\u4e0d\u9700\u8981\u6302\u8f7d\u5230 state \u6216\u8005\u662fcache\u4e0b\u6765\u4e86\u3002\u6bd4\u5982 \u5b98\u65b9\u4f8b\u5b50 \u4e2d\u6240\u4e3e\u4f8b\u7684\u4fdd\u7559\u66f4\u65b0\u4e4b\u524d\u7684\u9875\u9762\u6eda\u52a8\u8ddd\u79bb\uff0c\u4ee5\u4fbf\u5728\u7ec4\u4ef6update\u5b8c\u6210\u4e4b\u540e\u6062\u590d\u5176\u6eda\u52a8\u4f4d\u7f6e\u3002\u4e5f\u662f\u4e00\u4e2a\u975e\u5e38\u65b9\u4fbf\u7684\u5468\u671f\u51fd\u6570\u3002","title":"\u5c0f\u7ed3"},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/","text":"\u7ec4\u4ef6\u521b\u5efa\u65f6\u7684\u751f\u547d\u5468\u671f \u00b6 static getDerivedStateFromProps(nextProps, prevState) \u00b6 \u8be5\u5468\u671f\u51fd\u6570\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff0c\u65b0\u7684\u5c5e\u6027\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u5148\u524d\u7684\u72b6\u6001\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002\u5f53\u51fd\u6570\u8fd4\u56de null \u65f6\uff0c\u4ee3\u8868\u65b0\u7684\u5c5e\u6027\u4e0d\u9700\u8981\u66f4\u65b0\u72b6\u6001\uff1b\u5f53\u51fd\u6570\u8fd4\u56de\u4e86\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u4e2d\u7684\u5c5e\u6027\u5219\u4f1a\u88ab\u66f4\u65b0\u5230 State \u4e2d\u3002\u5982\u4e0b\uff1a static getDerivedStateFromProps ( nextProps , prevState ) { if ( prevState . currentId \uff01 == nextProps . itemId ) { return { currentId : nextProps . itemId }; } return null ; } \u4e0a\u56fe\u610f\u601d\u662f\uff0c\u5f53\u65b0\u5c5e\u6027\u4e2d\u7684 itemId \u4e0e\u5f53\u524d State \u7684 currentId \u4e0d\u4e00\u81f4\u65f6\uff0c\u5219\u6267\u884c currentId \u72b6\u6001\u7684\u66f4\u65b0\uff0c\u5426\u5219\u8fd4\u56de null\uff0c\u4e0d\u6267\u884c\u4efb\u4f55\u7684\u66f4\u65b0\u3002 \u7b80\u5355\u6765\u8bf4\uff0c\u5982\u679c\u4f60\u7684\u7ec4\u4ef6\u4e2d\uff0c\u63a5\u6536\u65b0\u7684\u5c5e\u6027\u4e0d\u9700\u8981\u89e6\u53d1\u72b6\u6001\u7684\u66f4\u65b0\uff0c\u53ef\u4ee5\u5ffd\u7565\u8be5\u51fd\u6570\uff0c\u6216\u5728\u8be5\u51fd\u6570\u4e2d\u76f4\u63a5\u8fd4\u56de null\u3002 \u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u8be5\u5468\u671f\u51fd\u6570 getDerivedStateFromProps(){...} \u662f\u4e00\u4e2a\u9759\u6001\u51fd\u6570\uff0c\u65e0\u6cd5\u8bbf\u95ee\u7ec4\u4ef6\u7684\u5b9e\u4f8b this\uff0c\u6240\u4ee5\u5728\u8be5\u51fd\u6570\u4e2d\u6ca1\u529e\u6cd5\u8bbf\u95ee this.props \u548c this.state\u3002 \u7ec4\u4ef6\u66f4\u65b0\u65f6\u7684\u751f\u547d\u5468\u671f \u00b6 static getDerivedStateFromProps \u00b6 \u8be5\u5468\u671f\u51fd\u6570\u5728\u7ec4\u4ef6\u7684\u5c5e\u6027\u548c\u72b6\u6001\u66f4\u65b0\u65f6\u90fd\u4f1a\u88ab\u89e6\u53d1\uff0c\u7528\u6cd5\u7b49\u540c\u7ec4\u4ef6\u521b\u5efa\u65f6\u7684 getDerivedStateFromProps \u51fd\u6570\u3002 shouldComponentUpdate(nextPorps, nextState) \u00b6 \u8be5\u51fd\u6570\u63a5\u6536\u65b0\u7684\u5c5e\u6027\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u65b0\u7684\u72b6\u6001\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002\u5f53\u51fd\u6570\u8fd4\u56de true \u7684\u65f6\u5019\uff0c\u5468\u671f\u51fd\u6570\u4f1a\u7ee7\u7eed\u5f80\u4e0b\u6267\u884c render \u6e32\u67d3\uff1b\u5f53\u51fd\u6570\u8fd4\u56de false\uff0c\u5468\u671f\u51fd\u6570\u5219\u4f1a\u4e2d\u6b62\u4e8e\u6b64\uff0c\u5e76\u505c\u6b62\u4e0b\u9762\u7684\u6e32\u67d3\u3002\u5982\u679c\u4e0d\u8bbe\u7f6e\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f1a\u9ed8\u8ba4\u8fd4\u56de true\u3002 \u5229\u7528\u597d\u8fd9\u4e2a\u5468\u671f\u51fd\u6570\u7684\u7279\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u907f\u514d\u65e0\u7528\u7684\u6e32\u67d3\uff0c\u63d0\u5347\u9875\u9762\u7684\u6027\u80fd\u3002 getSnapshotBeforeUpdate(prevProps, prevState) \u00b6 \u8be5\u5468\u671f\u51fd\u6570\u7684\u65f6\u671f\u5904\u5728 render \u51fd\u6570\u6267\u884c\u4e4b\u540e\u548c\u7ec4\u4ef6 DOM \u6e32\u67d3\u4e4b\u524d\u3002\u5b83\u8ba9\u4f60\u7684\u7ec4\u4ef6\u80fd\u5728\u5f53\u524d\u7684\u503c\u53ef\u80fd\u8981\u6539\u53d8\u524d\u83b7\u5f97\u5b83\u4eec\u3002\u8be5\u51fd\u6570\u8fd4\u56de\u7684\u4efb\u4f55\u503c\u5c06\u4f5c\u4e3a componentDidUpdate \u5468\u671f\u51fd\u6570\u7684\u7b2c\u4e09\u4e2a\u53c2\u6570\u3002 componentDidUpdate(prevProps, prevState, snapshot) \u00b6 componentDidUpdate \u51fd\u6570\u4f1a\u5728\u66f4\u65b0\u53d1\u751f\u540e\u7acb\u5373\u88ab\u8c03\u7528\u3002 \u6211\u4eec\u53ef\u4ee5\u5728\u8be5\u65b9\u6cd5\u4e2d\u4fee\u6539\u7ec4\u4ef6\u7684\u72b6\u6001\u4ee5\u8fdb\u884c DOM \u7684\u66f4\u65b0\u3002\u540c\u65f6\uff0c\u8fd9\u4e5f\u662f\u4e00\u4e2a\u9002\u5408\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42(Ajax)\u7684\u5730\u65b9\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5bf9\u6bd4\u5f53\u524d\u5c5e\u6027\u548c\u65e7\u5c5e\u6027\u6765\u5224\u65ad\u662f\u5426\u9700\u8981\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42\u3002 \u5f02\u5e38\u5904\u7406\u7684\u5468\u671f\u51fd\u6570 \u00b6 componentDidCatch \u00b6 \u9519\u8bef\u8fb9\u754c\u662f\u4e00\u4e2a React \u7ec4\u4ef6\u3002\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6\u6355\u6349\u53d1\u751f\u5728\u5b50\u7ec4\u4ef6\u6811\u4e2d\u4efb\u610f\u5730\u65b9\u7684 JavaScript \u9519\u8bef\uff0c\u6253\u5370\u9519\u8bef\u65e5\u5fd7\uff0c\u5e76\u4e14\u663e\u793a\u56de\u9000\u7684\u7528\u6237\u754c\u9762\u3002\u9519\u8bef\u8fb9\u754c\u53ef\u4ee5\u6355\u6349\u7ec4\u4ef6\u6e32\u67d3\u671f\u95f4\u3001\u751f\u547d\u5468\u671f\u65b9\u6cd5\u4e2d\u548c\u5b50\u7ec4\u4ef6\u6784\u9020\u51fd\u6570\u4e2d\u7684\u9519\u8bef\u3002 \u5982\u679c\u5b9a\u4e49\u4e86\u8fd9\u4e00\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u4e00\u4e2a\u7c7b\u7ec4\u4ef6\u5c06\u6210\u4e3a\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6\u3002\u6211\u4eec\u53ef\u4ee5\u5728\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6\u6355\u83b7\u5230 JavaScript \u9519\u8bef\u7684\u65f6\u5019\uff0c\u663e\u793a\u56de\u9000\u7684\u7528\u6237\u754c\u9762\u3002 \u4ee5\u4e0b\u662f\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6 class ErrorBoundary extends React.Component { constructor(props) { super(props); this.state = { hasError: false }; } componentDidCatch(error, info) { // \u663e\u793a\u9519\u8bef\u53d1\u751f\u7684\u56de\u9000\u89c6\u56fe this.setState({ hasError: true }); // \u4e5f\u53ef\u4ee5\u4e0a\u62a5\u9519\u8bef\u5230\u670d\u52a1\u5668 logErrorToMyService(error, info); } render() { if (this.state.hasError) { // \u5b9a\u5236\u4efb\u610f\u7684\u56de\u9000\u89c6\u56fe return <h1>\u9875\u9762\u88ab\u5916\u661f\u4eba\u5077\u8d70\u4e86</h1>; } return this.props.children; } } \u7136\u540e\u5c06\u5b83\u4f5c\u4e3a\u5e38\u89c4\u7ec4\u4ef6 <ErrorBoundary> <MyWidget /> </ErrorBoundary> \u8be5 componentDidCatch \u65b9\u6cd5\u7684\u5de5\u4f5c\u65b9\u5f0f\u7c7b\u4f3c\u4e8e JavaScript catch {} \u5757\uff0c\u4f46\u5b83\u4e00\u4e2a\u9002\u7528\u4e8e\u7ec4\u4ef6\u7684 catch \u5757\u3002\u5b9e\u9645\u4e0a\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ea\u9700\u8981\u58f0\u660e\u4e00\u6b21\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6\uff0c\u5e76\u5728\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u5b83\u3002 \u8bf7\u6ce8\u610f\uff0c \u9519\u8bef\u8fb9\u754c\u4ec5\u6355\u83b7\u7ec4\u4ef6\u6811\u4e2d\u5904\u4e8e\u5b83\u4eec\u5b50\u5c42\u7ea7\u7ec4\u4ef6\u4e2d\u7684\u9519\u8bef \uff0c\u9519\u8bef\u8fb9\u754c\u672c\u8eab\u7684\u9519\u8bef\u65e0\u6cd5\u6355\u83b7\u3002\u5982\u679c\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6\u81ea\u8eab\u62a5\u9519\uff0c\u5219\u9519\u8bef\u5c06\u4f20\u64ad\u5230\u5176\u4e0a\u65b9\u6700\u63a5\u8fd1\u7684\u9519\u8bef\u8fb9\u754c\u3002","title":"React\u751f\u547d\u5468\u671f\u6d41\u7a0b\u56fe.md"},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/#_1","text":"","title":"\u7ec4\u4ef6\u521b\u5efa\u65f6\u7684\u751f\u547d\u5468\u671f"},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/#static-getderivedstatefrompropsnextprops-prevstate","text":"\u8be5\u5468\u671f\u51fd\u6570\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff0c\u65b0\u7684\u5c5e\u6027\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u5148\u524d\u7684\u72b6\u6001\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002\u5f53\u51fd\u6570\u8fd4\u56de null \u65f6\uff0c\u4ee3\u8868\u65b0\u7684\u5c5e\u6027\u4e0d\u9700\u8981\u66f4\u65b0\u72b6\u6001\uff1b\u5f53\u51fd\u6570\u8fd4\u56de\u4e86\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u4e2d\u7684\u5c5e\u6027\u5219\u4f1a\u88ab\u66f4\u65b0\u5230 State \u4e2d\u3002\u5982\u4e0b\uff1a static getDerivedStateFromProps ( nextProps , prevState ) { if ( prevState . currentId \uff01 == nextProps . itemId ) { return { currentId : nextProps . itemId }; } return null ; } \u4e0a\u56fe\u610f\u601d\u662f\uff0c\u5f53\u65b0\u5c5e\u6027\u4e2d\u7684 itemId \u4e0e\u5f53\u524d State \u7684 currentId \u4e0d\u4e00\u81f4\u65f6\uff0c\u5219\u6267\u884c currentId \u72b6\u6001\u7684\u66f4\u65b0\uff0c\u5426\u5219\u8fd4\u56de null\uff0c\u4e0d\u6267\u884c\u4efb\u4f55\u7684\u66f4\u65b0\u3002 \u7b80\u5355\u6765\u8bf4\uff0c\u5982\u679c\u4f60\u7684\u7ec4\u4ef6\u4e2d\uff0c\u63a5\u6536\u65b0\u7684\u5c5e\u6027\u4e0d\u9700\u8981\u89e6\u53d1\u72b6\u6001\u7684\u66f4\u65b0\uff0c\u53ef\u4ee5\u5ffd\u7565\u8be5\u51fd\u6570\uff0c\u6216\u5728\u8be5\u51fd\u6570\u4e2d\u76f4\u63a5\u8fd4\u56de null\u3002 \u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u8be5\u5468\u671f\u51fd\u6570 getDerivedStateFromProps(){...} \u662f\u4e00\u4e2a\u9759\u6001\u51fd\u6570\uff0c\u65e0\u6cd5\u8bbf\u95ee\u7ec4\u4ef6\u7684\u5b9e\u4f8b this\uff0c\u6240\u4ee5\u5728\u8be5\u51fd\u6570\u4e2d\u6ca1\u529e\u6cd5\u8bbf\u95ee this.props \u548c this.state\u3002","title":"static getDerivedStateFromProps(nextProps, prevState)"},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/#_2","text":"","title":"\u7ec4\u4ef6\u66f4\u65b0\u65f6\u7684\u751f\u547d\u5468\u671f"},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/#static-getderivedstatefromprops","text":"\u8be5\u5468\u671f\u51fd\u6570\u5728\u7ec4\u4ef6\u7684\u5c5e\u6027\u548c\u72b6\u6001\u66f4\u65b0\u65f6\u90fd\u4f1a\u88ab\u89e6\u53d1\uff0c\u7528\u6cd5\u7b49\u540c\u7ec4\u4ef6\u521b\u5efa\u65f6\u7684 getDerivedStateFromProps \u51fd\u6570\u3002","title":"static getDerivedStateFromProps"},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/#shouldcomponentupdatenextporps-nextstate","text":"\u8be5\u51fd\u6570\u63a5\u6536\u65b0\u7684\u5c5e\u6027\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u65b0\u7684\u72b6\u6001\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002\u5f53\u51fd\u6570\u8fd4\u56de true \u7684\u65f6\u5019\uff0c\u5468\u671f\u51fd\u6570\u4f1a\u7ee7\u7eed\u5f80\u4e0b\u6267\u884c render \u6e32\u67d3\uff1b\u5f53\u51fd\u6570\u8fd4\u56de false\uff0c\u5468\u671f\u51fd\u6570\u5219\u4f1a\u4e2d\u6b62\u4e8e\u6b64\uff0c\u5e76\u505c\u6b62\u4e0b\u9762\u7684\u6e32\u67d3\u3002\u5982\u679c\u4e0d\u8bbe\u7f6e\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f1a\u9ed8\u8ba4\u8fd4\u56de true\u3002 \u5229\u7528\u597d\u8fd9\u4e2a\u5468\u671f\u51fd\u6570\u7684\u7279\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u907f\u514d\u65e0\u7528\u7684\u6e32\u67d3\uff0c\u63d0\u5347\u9875\u9762\u7684\u6027\u80fd\u3002","title":"shouldComponentUpdate(nextPorps, nextState)"},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/#getsnapshotbeforeupdateprevprops-prevstate","text":"\u8be5\u5468\u671f\u51fd\u6570\u7684\u65f6\u671f\u5904\u5728 render \u51fd\u6570\u6267\u884c\u4e4b\u540e\u548c\u7ec4\u4ef6 DOM \u6e32\u67d3\u4e4b\u524d\u3002\u5b83\u8ba9\u4f60\u7684\u7ec4\u4ef6\u80fd\u5728\u5f53\u524d\u7684\u503c\u53ef\u80fd\u8981\u6539\u53d8\u524d\u83b7\u5f97\u5b83\u4eec\u3002\u8be5\u51fd\u6570\u8fd4\u56de\u7684\u4efb\u4f55\u503c\u5c06\u4f5c\u4e3a componentDidUpdate \u5468\u671f\u51fd\u6570\u7684\u7b2c\u4e09\u4e2a\u53c2\u6570\u3002","title":"getSnapshotBeforeUpdate(prevProps, prevState)"},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/#componentdidupdateprevprops-prevstate-snapshot","text":"componentDidUpdate \u51fd\u6570\u4f1a\u5728\u66f4\u65b0\u53d1\u751f\u540e\u7acb\u5373\u88ab\u8c03\u7528\u3002 \u6211\u4eec\u53ef\u4ee5\u5728\u8be5\u65b9\u6cd5\u4e2d\u4fee\u6539\u7ec4\u4ef6\u7684\u72b6\u6001\u4ee5\u8fdb\u884c DOM \u7684\u66f4\u65b0\u3002\u540c\u65f6\uff0c\u8fd9\u4e5f\u662f\u4e00\u4e2a\u9002\u5408\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42(Ajax)\u7684\u5730\u65b9\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5bf9\u6bd4\u5f53\u524d\u5c5e\u6027\u548c\u65e7\u5c5e\u6027\u6765\u5224\u65ad\u662f\u5426\u9700\u8981\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42\u3002","title":"componentDidUpdate(prevProps, prevState, snapshot)"},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/#_3","text":"","title":"\u5f02\u5e38\u5904\u7406\u7684\u5468\u671f\u51fd\u6570"},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/#componentdidcatch","text":"\u9519\u8bef\u8fb9\u754c\u662f\u4e00\u4e2a React \u7ec4\u4ef6\u3002\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6\u6355\u6349\u53d1\u751f\u5728\u5b50\u7ec4\u4ef6\u6811\u4e2d\u4efb\u610f\u5730\u65b9\u7684 JavaScript \u9519\u8bef\uff0c\u6253\u5370\u9519\u8bef\u65e5\u5fd7\uff0c\u5e76\u4e14\u663e\u793a\u56de\u9000\u7684\u7528\u6237\u754c\u9762\u3002\u9519\u8bef\u8fb9\u754c\u53ef\u4ee5\u6355\u6349\u7ec4\u4ef6\u6e32\u67d3\u671f\u95f4\u3001\u751f\u547d\u5468\u671f\u65b9\u6cd5\u4e2d\u548c\u5b50\u7ec4\u4ef6\u6784\u9020\u51fd\u6570\u4e2d\u7684\u9519\u8bef\u3002 \u5982\u679c\u5b9a\u4e49\u4e86\u8fd9\u4e00\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u4e00\u4e2a\u7c7b\u7ec4\u4ef6\u5c06\u6210\u4e3a\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6\u3002\u6211\u4eec\u53ef\u4ee5\u5728\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6\u6355\u83b7\u5230 JavaScript \u9519\u8bef\u7684\u65f6\u5019\uff0c\u663e\u793a\u56de\u9000\u7684\u7528\u6237\u754c\u9762\u3002 \u4ee5\u4e0b\u662f\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6 class ErrorBoundary extends React.Component { constructor(props) { super(props); this.state = { hasError: false }; } componentDidCatch(error, info) { // \u663e\u793a\u9519\u8bef\u53d1\u751f\u7684\u56de\u9000\u89c6\u56fe this.setState({ hasError: true }); // \u4e5f\u53ef\u4ee5\u4e0a\u62a5\u9519\u8bef\u5230\u670d\u52a1\u5668 logErrorToMyService(error, info); } render() { if (this.state.hasError) { // \u5b9a\u5236\u4efb\u610f\u7684\u56de\u9000\u89c6\u56fe return <h1>\u9875\u9762\u88ab\u5916\u661f\u4eba\u5077\u8d70\u4e86</h1>; } return this.props.children; } } \u7136\u540e\u5c06\u5b83\u4f5c\u4e3a\u5e38\u89c4\u7ec4\u4ef6 <ErrorBoundary> <MyWidget /> </ErrorBoundary> \u8be5 componentDidCatch \u65b9\u6cd5\u7684\u5de5\u4f5c\u65b9\u5f0f\u7c7b\u4f3c\u4e8e JavaScript catch {} \u5757\uff0c\u4f46\u5b83\u4e00\u4e2a\u9002\u7528\u4e8e\u7ec4\u4ef6\u7684 catch \u5757\u3002\u5b9e\u9645\u4e0a\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ea\u9700\u8981\u58f0\u660e\u4e00\u6b21\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6\uff0c\u5e76\u5728\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u5b83\u3002 \u8bf7\u6ce8\u610f\uff0c \u9519\u8bef\u8fb9\u754c\u4ec5\u6355\u83b7\u7ec4\u4ef6\u6811\u4e2d\u5904\u4e8e\u5b83\u4eec\u5b50\u5c42\u7ea7\u7ec4\u4ef6\u4e2d\u7684\u9519\u8bef \uff0c\u9519\u8bef\u8fb9\u754c\u672c\u8eab\u7684\u9519\u8bef\u65e0\u6cd5\u6355\u83b7\u3002\u5982\u679c\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6\u81ea\u8eab\u62a5\u9519\uff0c\u5219\u9519\u8bef\u5c06\u4f20\u64ad\u5230\u5176\u4e0a\u65b9\u6700\u63a5\u8fd1\u7684\u9519\u8bef\u8fb9\u754c\u3002","title":"componentDidCatch"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/","text":"React \u4e0b\u83b7\u53d6\u5143\u7d20\u7684\u5c3a\u5bf8\u7684\u65b9\u6cd5 \u00b6 \u5728react\u4e2d\u83b7\u53d6\u5143\u7d20\u4e0d\u4f7f\u7528\u539f\u751f\u7684getElementBy\u65b9\u6cd5\uff0c\u600e\u6837\u83b7\u53d6\u5230\u5143\u7d20\u7684\u4f4d\u7f6e\u548c\u5bbd\u5ea6\u9ad8\u5ea6\u5462\uff1f \u5728react\u4e2d\uff0c\u6709\u4e00\u4e2aJSX\u7684\u8bed\u6cd5\u7cd6\uff0c\u53ef\u4ee5\u5c06\u6e32\u67d3\u597d\u7684dom\u8282\u70b9\u8fdb\u884c\u4f20\u9012\uff0c\u5c31\u662fref\u3002 import React , { Component } from 'react' ; class App extends Component { constructor ( props ) { super ( props ); this . saveRef = ( ref ) => { this . refDom = ref }; } handleClick = ( e ) => { consele . log ( this . refDom ); const { clientWidth , clientHeight } = this . refDom ; console . log ( clientWidth , clientHeight ); } render () { return ( < div ref = { this . saveRef } onClick = { this . handleClick } > Loading ... < /div> ); } } export default App ; // \u4f7f\u7528ref={this.saveRef}\u63a5\u6536div\u6e32\u67d3\u7684DOM\uff0c\u4f7f\u7528refDom\u8fdb\u884c\u63a5\u6536\u3002\u5f53\u70b9\u51fb\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u8fd9\u4e2a\u5bf9\u8c61\u3002 ref\u7684\u7528\u6cd5 \u00b6 \u5728react\u5178\u578b\u7684\u6570\u636e\u6d41\u4e2d\uff0c props \u4f20\u9012\u662f\u7236\u5b50\u7ec4\u4ef6\u4ea4\u4e92\u7684\u552f\u4e00\u65b9\u5f0f\uff1b\u901a\u8fc7\u4f20\u9012\u4e00\u4e2a\u65b0\u7684 props \u503c\u6765\u4f7f\u5b50\u7ec4\u4ef6\u91cd\u65b0 re-render ,\u4ece\u800c\u8fbe\u5230\u7236\u5b50\u7ec4\u4ef6\u901a\u4fe1\u3002\u5f53\u7136\uff0c\u5c31\u50cfreact\u5b98\u7f51\u6240\u63cf\u8ff0\u7684\u4e00\u6837\uff0c\u5728react\u5178\u578b\u7684\u6570\u636e\u91cf\u4e4b\u5916\uff0c\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff08\u4f8b\u5982\u548c\u7b2c\u4e09\u65b9\u7684dom\u5e93\u6574\u5408\uff0c\u6216\u8005\u67d0\u4e2adom\u5143\u7d20focus\u7b49\uff09\u4e3a\u4e86\u4fee\u6539\u5b50\u7ec4\u4ef6\u6211\u4eec\u53ef\u80fd\u9700\u8981\u53e6\u4e00\u79cd\u65b9\u5f0f\uff0c\u8fd9\u5c31\u662f ref \u65b9\u5f0f\u3002 ref \u7b80\u4ecb \u00b6 React\u63d0\u4f9b\u7684\u8fd9\u4e2a ref \u5c5e\u6027\uff0c \u8868\u793a\u4e3a\u5bf9\u7ec4\u4ef6\u771f\u6b63\u5b9e\u4f8b\u7684\u5f15\u7528\uff0c\u5176\u5b9e\u5c31\u662fReactDOM.render()\u8fd4\u56de\u7684\u7ec4\u4ef6\u5b9e\u4f8b \uff1b\u9700\u8981\u533a\u5206\u4e00\u4e0b\uff0c ReactDOM.render() \u6e32\u67d3\u7ec4\u4ef6\u65f6\u8fd4\u56de\u7684\u662f\u7ec4\u4ef6\u5b9e\u4f8b\uff1b\u800c\u6e32\u67d3dom\u5143\u7d20\u65f6\uff0c\u8fd4\u56de\u662f\u5177\u4f53\u7684dom\u8282\u70b9\u3002 \u4f8b\u5982\uff0c\u4e0b\u9762\u4ee3\u7801: const domCom = < button type = \"button\" > button < /button>; const refDom = ReactDOM . render ( domCom \uff0c container ); //ConfirmPass\u7684\u7ec4\u4ef6\u5185\u5bb9\u7701\u7565 const refCom = ReactDOM . render ( < ConfirmPass /> , container ); console . log ( refDom ); console . log ( refCom ); \u4e0a\u8ff0\u4ee3\u7801\u8fd4\u56de\u63a7\u5236\u53f0\u7ed3\u679c\u5982\u4e0b\u56fe\u6240\u793a\uff1a\u3002 ref \u53ef\u4ee5\u6302\u5230\u4efb\u4f55\u7ec4\u4ef6\u4e0a\uff0c\u53ef\u4ee5\u6302\u5230\u7ec4\u4ef6\u4e0a\u4e5f\u53ef\u4ee5\u662fdom\u5143\u7d20\u4e0a\uff1b\u4e8c\u8005\u4e0d\u540c\u662f\u4e0e\u4e0a\u56fe\u7b54\u6848\u4e00\u6837\uff1a \u6302\u5230\u7ec4\u4ef6\uff08\u8fd9\u91cc\u7ec4\u4ef6\u6307\u7684\u662f\u6709\u72b6\u6001\u7ec4\u4ef6\uff09\u4e0a\u7684ref\u8868\u793a\u5bf9\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u5f15\u7528\uff0c\u800c\u6302\u8f7d\u5230dom\u5143\u7d20\u4e0a\u65f6\u8868\u793a\u5177\u4f53\u7684dom\u5143\u7d20\u8282\u70b9\u3002 ref\u53ef\u4ee5\u8bbe\u7f6e\u56de\u8c03\u51fd\u6570 \u00b6 ref\u5c5e\u6027\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u8fd9\u4e5f\u662f\u5b98\u65b9\u5f3a\u70c8\u63a8\u8350\u7684\u7528\u6cd5\uff1b\u8fd9\u4e2a\u51fd\u6570\u6267\u884c\u7684\u65f6\u673a\u4e3a\uff1a \u7ec4\u4ef6\u88ab\u6302\u8f7d\u540e \uff0c\u56de\u8c03\u51fd\u6570\u88ab\u7acb\u5373\u6267\u884c\uff0c\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u4e3a\u8be5\u7ec4\u4ef6\u7684\u5177\u4f53\u5b9e\u4f8b\u3002 \u7ec4\u4ef6\u88ab\u5378\u8f7d\u6216\u8005\u539f\u6709\u7684ref\u5c5e\u6027\u672c\u8eab\u53d1\u751f\u53d8\u5316\u65f6 \uff0c\u56de\u8c03\u4e5f\u4f1a\u88ab\u7acb\u5373\u6267\u884c\uff0c\u6b64\u65f6\u56de\u8c03\u51fd\u6570\u53c2\u6570\u4e3a null \uff0c\u4ee5\u786e\u4fdd\u5185\u5b58\u6cc4\u9732\u3002 \u4f8b\u5982\u4e0b\u9762\u4ee3\u7801\uff1a RegisterStepTwo = React . createClass ({ getInitialState (){ return { visible : true }; }, changeVisible (){ this . setState ({ visible : ! this . state . visible }); }, refCb ( instance ){ console . log ( instance ); }, render (){ return ( < div > < button type = \"button\" onClick = { this . changeVisible } > { this . state . visible ? '\u5378\u8f7d' : '\u6302\u8f7d' } ConfirmPass < /button> { this . state . visible ? < ConfirmPass ref = { this . refCb } onChange = { this . handleChange } />: null } < /div> ) } }); \u4e0a\u8ff0\u4ee3\u7801\uff0c\u6e32\u67d3\u5230\u9875\u9762\u65f6\u53ef\u4ee5\u53d1\u73b0console.log\u51fa\u5bf9\u5e94\u7684\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u5207\u6362\u6309\u94ae\u65f6\uff0c ConfirmPass \u4e5f\u5728\u6302\u8f7d\u4e0e\u5378\u8f7d\u4e4b\u95f4\u5207\u6362\uff0c\u6240\u4ee5\u80fd\u770b\u5230\u4e0d\u540c\u7684console.log\u7ed3\u679c\u3002 ref\u53ef\u4ee5\u8bbe\u7f6e\u5b57\u7b26\u4e32 \u00b6 \u6700\u65b0\u7248\u672c\u4e0d\u63a8\u8350\u8fd9\u79cd\u65b9\u6cd5 ref\u8fd8\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u5b57\u7b26\u4e32\u503c\uff0c\u800c\u4e0d\u662f\u56de\u8c03\u51fd\u6570\uff1b\u8fd9\u79cd\u65b9\u5f0f\u57fa\u672c\u4e0d\u63a8\u8350\u4f7f\u7528\uff0c\u6216\u8005\u5728\u672a\u6765\u7684react\u7248\u672c\u4e2d\u4e0d\u4f1a\u518d\u652f\u6301\u8be5\u65b9\u5f0f\uff0c\u4f46\u662f\u53ef\u4ee5\u4e86\u89e3\u4e00\u4e0b\u3002 \u4f8b\u5982\u4e0b\u9762 input \u8bbe\u7f6eref\u7684\u503c\u4e3a\u5b57\u7b26\u4e32\u3002 <input ref=\"input\" /> \u7136\u540e\u5728\u5176\u4ed6\u5730\u65b9\u5982\u4e8b\u4ef6\u56de\u8c03\u4e2d\u901a\u8fc7 this.refs.input \u53ef\u4ee5\u8bbf\u95ee\u5230\u8be5\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u5176\u5b9e\u5c31\u662fdom\u5143\u7d20\u8282\u70b9\u3002 let inputEl = this.refs.input; //\u7136\u540e\u901a\u8fc7inputEl\u6765\u5b8c\u6210\u540e\u7eed\u7684\u903b\u8f91\uff0c\u5982focus\u3001\u83b7\u53d6\u5176\u503c\u7b49\u7b49 \u83b7\u53d6ref\u5f15\u7528\u7ec4\u4ef6\u5bf9\u5e94\u7684dom\u8282\u70b9 \u00b6 \u4e0d\u7ba1ref\u8bbe\u7f6e\u503c\u662f\u56de\u8c03\u51fd\u6570\u8fd8\u662f\u5b57\u7b26\u4e32\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7 ReactDOM.findDOMNode(ref) \u6765\u83b7\u53d6\u7ec4\u4ef6\u6302\u8f7d\u540e\u771f\u6b63\u7684dom\u8282\u70b9\u3002 \u4f46\u662f\u5bf9\u4e8ehtml\u5143\u7d20\u4f7f\u7528ref\u7684\u60c5\u51b5\uff0cref\u672c\u8eab\u5f15\u7528\u7684\u5c31\u662f\u8be5\u5143\u7d20\u7684\u5b9e\u9645dom\u8282\u70b9\uff0c\u65e0\u9700\u4f7f\u7528 ReactDOM.findDOMNode(ref) \u6765\u83b7\u53d6\uff0c\u8be5\u65b9\u6cd5\u5e38\u7528\u4e8eReact\u7ec4\u4ef6\u4e0a\u7684ref\u3002 ref\u5728\u6709\u72b6\u6001\u7ec4\u4ef6\u4e2d\u7684\u4f7f\u7528 \u00b6 \u4e0a\u6587\u8bf4\u5230\u8fc7 ref \u7528\u5230react\u6709\u72b6\u6001\u7ec4\u4ef6\u65f6\uff0cref\u5f15\u7528\u7684\u662f\u7ec4\u4ef6\u7684\u5b9e\u4f8b\uff1b\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7\u5b50\u7ec4\u4ef6\u7684 ref \u53ef\u4ee5\u8bbf\u95ee\u5230\u5b50\u7ec4\u4ef6\u5b9e\u4f8b\u7684 props \u3001 state \u3001 refs \u3001\u5b9e\u4f8b\u65b9\u6cd5(\u975e\u7ee7\u627f\u800c\u6765\u7684\u65b9\u6cd5)\u7b49\u7b49\u3002 \u4f7f\u7528ref\u8bbf\u95ee\u5b50\u7ec4\u4ef6\u60c5\u51b5\u53ef\u80fd\u662f\u4ee5\u4e0bcase\uff1a \u8bbf\u95ee\u5b50\u7ec4\u4ef6\u7684\u67d0\u4e2a\u5177\u4f53\u7684dom\u8282\u70b9\u5b8c\u6210\u67d0\u4e9b\u903b\u8f91\uff0c\u901a\u8fc7 this.refs.childComponentRefName.refs.someDomRefName \u6765\u5b8c\u6210\uff0c\u4f8b\u5982 segmentfault\u4e0a\u63d0\u95ee\u8005\u63d0\u51fa\u7684\u95ee\u9898 \u3002 \u53ef\u4ee5\u8bbf\u95ee\u5b50\u7ec4\u4ef6\u7684\u516c\u5171\u5b9e\u4f8b\u65b9\u6cd5\u5b8c\u6210\u67d0\u5199\u903b\u8f91\u3002\u4f8b\u5982\u5b50\u7ec4\u4ef6\u5b9a\u4e49\u4e86\u4e00\u4e2a reset \u65b9\u6cd5\u7528\u6765\u91cd\u7f6e\u5b50\u7ec4\u4ef6\u8868\u5355\u5143\u7d20\u503c\uff0c\u8fd9\u65f6\u7236\u7ec4\u4ef6\u53ef\u4ee5\u901a\u8fc7 this.refs.childComponentRefName.reset() \u6765\u5b8c\u6210\u5b50\u7ec4\u4ef6\u8868\u5355\u5143\u7d20\u7684\u91cd\u7f6e\u3002 ... \u4e0d\u8fc7\u8bdd\u8bf4\u56de\u6765\uff0creact\u4e0d\u5efa\u8bae\u5728\u7236\u7ec4\u4ef6\u4e2d\u76f4\u63a5\u8bbf\u95ee\u5b50\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u65b9\u6cd5\u6765\u5b8c\u6210\u67d0\u4e9b\u903b\u8f91\uff0c\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u8bf7\u4f7f\u7528\u6807\u51c6\u7684react\u6570\u636e\u6d41\u7684\u65b9\u5f0f\u6765\u4ee3\u66ff\u5219\u66f4\u4e3a\u6e05\u6670\uff1b \u53e6\u5916\uff0c\u4e0a\u8ff0case\u5728\u7ec4\u4ef6\u5173\u7cfb\u5d4c\u5957\u5f88\u6df1\u65f6\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5c31\u663e\u5f97\u6781\u4e3a\u4e11\u964b\u3002 ref\u5728\u65e0\u72b6\u6001\u7ec4\u4ef6\u4e2d\u7684\u4f7f\u7528 \u00b6 \u4e0a\u6587\u8bf4\u5230\u7684react\u7ec4\u4ef6\u90fd\u662f\u6307\u6709\u72b6\u6001\u7684\uff0c\u5bf9\u4e8e\u65e0\u72b6\u6001\u7ec4\u4ef6 stateless component \u800c\u8a00\uff0c\u6b63\u5982\u8fd9\u7bc7\u6587\u7ae0 React\u521b\u5efa\u7ec4\u4ef6\u7684\u4e09\u79cd\u65b9\u5f0f\u53ca\u5176\u533a\u522b \u91cc\u63cf\u8ff0\u7684\u4e00\u6837\uff0c \u65e0\u72b6\u6001\u7ec4\u4ef6\u662f\u4e0d\u4f1a\u88ab\u5b9e\u4f8b\u5316\u7684 \uff0c\u5728\u7236\u7ec4\u4ef6\u4e2d\u901a\u8fc7 ref \u6765\u83b7\u53d6\u65e0\u72b6\u6001\u5b50\u7ec4\u4ef6\u65f6\uff0c\u5176\u503c\u4e3a null \uff0c\u6240\u4ee5\uff1a \u65e0\u6cd5\u901a\u8fc7 ref \u6765\u83b7\u53d6\u65e0\u72b6\u6001\u7ec4\u4ef6\u5b9e\u4f8b\u3002 \u867d\u7136\u65e0\u6cd5\u901a\u8fc7ref\u83b7\u53d6\u65e0\u72b6\u6001\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u4f46\u662f\u53ef\u4ee5\u7ed3\u5408\u590d\u5408\u7ec4\u4ef6\u6765\u5305\u88c5\u65e0\u72b6\u6001\u7ec4\u4ef6\u6765\u5728\u5176\u4e0a\u4f7f\u7528ref\u5f15\u7528\u3002 \u53e6\u5916\uff0c\u5bf9\u4e8e\u65e0\u72b6\u6001\u7ec4\u4ef6\u6211\u4eec\u60f3\u8bbf\u95ee\u7684\u65e0\u975e\u662f\u5176\u4e2d\u5305\u542b\u7684\u7ec4\u4ef6\u6216\u8005dom\u5143\u7d20\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u53d8\u91cf\u6765\u4fdd\u5b58\u6211\u4eec\u60f3\u8981\u7684\u7ec4\u4ef6\u6216\u8005dom\u5143\u7d20\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u5f15\u7528\u3002\u4f8b\u5982\u4e0b\u9762\u4ee3\u7801\uff1a function TestComp ( props ){ let refDom ; return ( < div > < div ref = {( node ) => refDom = node } > ... < /div> < /div>) } \u8fd9\u6837\uff0c\u53ef\u4ee5\u901a\u8fc7\u53d8\u91cf refDom \u6765\u8bbf\u95ee\u5230\u65e0\u72b6\u6001\u7ec4\u4ef6\u4e2d\u7684\u6307\u5b9adom\u5143\u7d20\u4e86\uff0c\u8bbf\u95ee\u5176\u4e2d\u7684\u5176\u4ed6\u7ec4\u4ef6\u5b9e\u4f8b\u7c7b\u4f3c\u3002 ref\u5728HOC\u4e2d\u5b58\u5728\u95ee\u9898 \u00b6 react\u7684 HOC \u662f\u9ad8\u9636\u7ec4\u4ef6\uff0c\u7b80\u5355\u7406\u89e3\u5c31\u662f\u5305\u88c5\u4e86\u4e00\u4e2a\u4f4e\u9636\u7684\u7ec4\u4ef6\uff0c\u6700\u540e\u8fd4\u56de\u4e00\u4e2a\u9ad8\u9636\u7684\u7ec4\u4ef6\uff1b\u9ad8\u9636\u7ec4\u4ef6\u5176\u5b9e\u662f\u5728\u4f4e\u9636\u7ec4\u4ef6\u57fa\u7840\u4e0a\u505a\u4e86\u4e00\u4e9b\u4e8b\u60c5\uff0c\u6bd4\u65b9\u8bf4 antd \u7ec4\u4ef6\u7684 Form create \u7684\u65b9\u6cd5\uff0c\u5b83\u5c31\u662f\u5728\u4e3a\u4f4e\u9636\u7ec4\u4ef6\u5c01\u88c5\u4e86\u4e00\u4e9b\u7279\u6b8a\u7684\u5c5e\u6027\uff0c\u6bd4\u5982 form \u5c5e\u6027\u3002 \u65e2\u7136 HOC \u4f1a\u57fa\u4e8e\u4f4e\u9636\u7ec4\u4ef6\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u9ad8\u9636\u7ec4\u4ef6\uff0c\u82e5\u7528 ref \u5c31\u4e0d\u80fd\u8bbf\u95ee\u5230\u6211\u4eec\u771f\u6b63\u9700\u8981\u7684\u4f4e\u9636\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u6211\u4eec\u8bbf\u95ee\u5230\u7684\u5176\u5b9e\u662f\u9ad8\u9636\u7ec4\u4ef6\u5b9e\u4f8b\u3002\u6240\u4ee5: \u82e5HOC\u4e0d\u505a\u7279\u6b8a\u5904\u7406\uff0cref\u662f\u65e0\u6cd5\u8bbf\u95ee\u5230\u4f4e\u9636\u7ec4\u4ef6\u5b9e\u4f8b\u7684 \u8981\u60f3\u7528 ref \u8bbf\u95ee\u4f4e\u9636\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u5c31\u5fc5\u987b\u5f97HOC\u652f\u6301\uff0c\u5c31\u50cf Redux \u7684connect\u65b9\u6cd5\u63d0\u4f9b\u7684 withRef \u5c5e\u6027\u6765\u8bbf\u95ee\u4f4e\u9636\u7ec4\u4ef6\u4e00\u6837\u3002\u5177\u4f53\u53ef\u4ee5\u53c2\u8003 \u8fd9\u91cc \u3002 \u603b\u7ed3 \u00b6 ref \u63d0\u4f9b\u4e86\u4e00\u79cd\u5bf9\u4e8ereact\u6807\u51c6\u7684\u6570\u636e\u6d41\u4e0d\u592a\u9002\u7528\u7684\u60c5\u51b5\u4e0b\u7ec4\u4ef6\u95f4\u4ea4\u4e92\u7684\u65b9\u5f0f\uff0c\u4f8b\u5982\u7ba1\u7406dom\u5143\u7d20focus\u3001text selection\u4ee5\u53ca\u4e0e\u7b2c\u4e09\u65b9\u7684dom\u5e93\u6574\u5408\u7b49\u7b49\u3002 \u4f46\u662f\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u5e94\u8be5\u4f7f\u7528react\u54cd\u5e94\u6570\u636e\u6d41\u90a3\u79cd\u65b9\u5f0f\uff0c\u4e0d\u8981\u8fc7\u5ea6\u4f7f\u7528ref\u3002 \u53e6\u5916\uff0c\u5728\u4f7f\u7528ref\u65f6\uff0c\u4e0d\u7528\u62c5\u5fc3\u4f1a\u5bfc\u81f4\u5185\u5b58\u6cc4\u9732\u7684\u95ee\u9898\uff0creact\u4f1a\u81ea\u52a8\u5e2e\u4f60\u7ba1\u7406\u597d\uff0c\u5728\u7ec4\u4ef6\u5378\u8f7d\u65f6ref\u503c\u4e5f\u4f1a\u88ab\u9500\u6bc1\u3002 \u6700\u540e\u8865\u5145\u4e00\u70b9\uff1a \u4e0d\u8981\u5728\u7ec4\u4ef6\u7684 render \u65b9\u6cd5\u4e2d\u8bbf\u95ee ref \u5f15\u7528\uff0c render \u65b9\u6cd5\u53ea\u662f\u8fd4\u56de\u4e00\u4e2a\u865a\u62dfdom\uff0c\u8fd9\u65f6\u7ec4\u4ef6\u4e0d\u4e00\u5b9a\u6302\u8f7d\u5230dom\u4e2d\u6216\u8005render\u8fd4\u56de\u7684\u865a\u62dfdom\u4e0d\u4e00\u5b9a\u4f1a\u66f4\u65b0\u5230dom\u4e2d\u3002","title":"React\u83b7\u53d6\u5c3a\u5bf8.md"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#react","text":"\u5728react\u4e2d\u83b7\u53d6\u5143\u7d20\u4e0d\u4f7f\u7528\u539f\u751f\u7684getElementBy\u65b9\u6cd5\uff0c\u600e\u6837\u83b7\u53d6\u5230\u5143\u7d20\u7684\u4f4d\u7f6e\u548c\u5bbd\u5ea6\u9ad8\u5ea6\u5462\uff1f \u5728react\u4e2d\uff0c\u6709\u4e00\u4e2aJSX\u7684\u8bed\u6cd5\u7cd6\uff0c\u53ef\u4ee5\u5c06\u6e32\u67d3\u597d\u7684dom\u8282\u70b9\u8fdb\u884c\u4f20\u9012\uff0c\u5c31\u662fref\u3002 import React , { Component } from 'react' ; class App extends Component { constructor ( props ) { super ( props ); this . saveRef = ( ref ) => { this . refDom = ref }; } handleClick = ( e ) => { consele . log ( this . refDom ); const { clientWidth , clientHeight } = this . refDom ; console . log ( clientWidth , clientHeight ); } render () { return ( < div ref = { this . saveRef } onClick = { this . handleClick } > Loading ... < /div> ); } } export default App ; // \u4f7f\u7528ref={this.saveRef}\u63a5\u6536div\u6e32\u67d3\u7684DOM\uff0c\u4f7f\u7528refDom\u8fdb\u884c\u63a5\u6536\u3002\u5f53\u70b9\u51fb\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u8fd9\u4e2a\u5bf9\u8c61\u3002","title":"React \u4e0b\u83b7\u53d6\u5143\u7d20\u7684\u5c3a\u5bf8\u7684\u65b9\u6cd5"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#ref","text":"\u5728react\u5178\u578b\u7684\u6570\u636e\u6d41\u4e2d\uff0c props \u4f20\u9012\u662f\u7236\u5b50\u7ec4\u4ef6\u4ea4\u4e92\u7684\u552f\u4e00\u65b9\u5f0f\uff1b\u901a\u8fc7\u4f20\u9012\u4e00\u4e2a\u65b0\u7684 props \u503c\u6765\u4f7f\u5b50\u7ec4\u4ef6\u91cd\u65b0 re-render ,\u4ece\u800c\u8fbe\u5230\u7236\u5b50\u7ec4\u4ef6\u901a\u4fe1\u3002\u5f53\u7136\uff0c\u5c31\u50cfreact\u5b98\u7f51\u6240\u63cf\u8ff0\u7684\u4e00\u6837\uff0c\u5728react\u5178\u578b\u7684\u6570\u636e\u91cf\u4e4b\u5916\uff0c\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff08\u4f8b\u5982\u548c\u7b2c\u4e09\u65b9\u7684dom\u5e93\u6574\u5408\uff0c\u6216\u8005\u67d0\u4e2adom\u5143\u7d20focus\u7b49\uff09\u4e3a\u4e86\u4fee\u6539\u5b50\u7ec4\u4ef6\u6211\u4eec\u53ef\u80fd\u9700\u8981\u53e6\u4e00\u79cd\u65b9\u5f0f\uff0c\u8fd9\u5c31\u662f ref \u65b9\u5f0f\u3002","title":"ref\u7684\u7528\u6cd5"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#ref_1","text":"React\u63d0\u4f9b\u7684\u8fd9\u4e2a ref \u5c5e\u6027\uff0c \u8868\u793a\u4e3a\u5bf9\u7ec4\u4ef6\u771f\u6b63\u5b9e\u4f8b\u7684\u5f15\u7528\uff0c\u5176\u5b9e\u5c31\u662fReactDOM.render()\u8fd4\u56de\u7684\u7ec4\u4ef6\u5b9e\u4f8b \uff1b\u9700\u8981\u533a\u5206\u4e00\u4e0b\uff0c ReactDOM.render() \u6e32\u67d3\u7ec4\u4ef6\u65f6\u8fd4\u56de\u7684\u662f\u7ec4\u4ef6\u5b9e\u4f8b\uff1b\u800c\u6e32\u67d3dom\u5143\u7d20\u65f6\uff0c\u8fd4\u56de\u662f\u5177\u4f53\u7684dom\u8282\u70b9\u3002 \u4f8b\u5982\uff0c\u4e0b\u9762\u4ee3\u7801: const domCom = < button type = \"button\" > button < /button>; const refDom = ReactDOM . render ( domCom \uff0c container ); //ConfirmPass\u7684\u7ec4\u4ef6\u5185\u5bb9\u7701\u7565 const refCom = ReactDOM . render ( < ConfirmPass /> , container ); console . log ( refDom ); console . log ( refCom ); \u4e0a\u8ff0\u4ee3\u7801\u8fd4\u56de\u63a7\u5236\u53f0\u7ed3\u679c\u5982\u4e0b\u56fe\u6240\u793a\uff1a\u3002 ref \u53ef\u4ee5\u6302\u5230\u4efb\u4f55\u7ec4\u4ef6\u4e0a\uff0c\u53ef\u4ee5\u6302\u5230\u7ec4\u4ef6\u4e0a\u4e5f\u53ef\u4ee5\u662fdom\u5143\u7d20\u4e0a\uff1b\u4e8c\u8005\u4e0d\u540c\u662f\u4e0e\u4e0a\u56fe\u7b54\u6848\u4e00\u6837\uff1a \u6302\u5230\u7ec4\u4ef6\uff08\u8fd9\u91cc\u7ec4\u4ef6\u6307\u7684\u662f\u6709\u72b6\u6001\u7ec4\u4ef6\uff09\u4e0a\u7684ref\u8868\u793a\u5bf9\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u5f15\u7528\uff0c\u800c\u6302\u8f7d\u5230dom\u5143\u7d20\u4e0a\u65f6\u8868\u793a\u5177\u4f53\u7684dom\u5143\u7d20\u8282\u70b9\u3002","title":"ref \u7b80\u4ecb"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#ref_2","text":"ref\u5c5e\u6027\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u8fd9\u4e5f\u662f\u5b98\u65b9\u5f3a\u70c8\u63a8\u8350\u7684\u7528\u6cd5\uff1b\u8fd9\u4e2a\u51fd\u6570\u6267\u884c\u7684\u65f6\u673a\u4e3a\uff1a \u7ec4\u4ef6\u88ab\u6302\u8f7d\u540e \uff0c\u56de\u8c03\u51fd\u6570\u88ab\u7acb\u5373\u6267\u884c\uff0c\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u4e3a\u8be5\u7ec4\u4ef6\u7684\u5177\u4f53\u5b9e\u4f8b\u3002 \u7ec4\u4ef6\u88ab\u5378\u8f7d\u6216\u8005\u539f\u6709\u7684ref\u5c5e\u6027\u672c\u8eab\u53d1\u751f\u53d8\u5316\u65f6 \uff0c\u56de\u8c03\u4e5f\u4f1a\u88ab\u7acb\u5373\u6267\u884c\uff0c\u6b64\u65f6\u56de\u8c03\u51fd\u6570\u53c2\u6570\u4e3a null \uff0c\u4ee5\u786e\u4fdd\u5185\u5b58\u6cc4\u9732\u3002 \u4f8b\u5982\u4e0b\u9762\u4ee3\u7801\uff1a RegisterStepTwo = React . createClass ({ getInitialState (){ return { visible : true }; }, changeVisible (){ this . setState ({ visible : ! this . state . visible }); }, refCb ( instance ){ console . log ( instance ); }, render (){ return ( < div > < button type = \"button\" onClick = { this . changeVisible } > { this . state . visible ? '\u5378\u8f7d' : '\u6302\u8f7d' } ConfirmPass < /button> { this . state . visible ? < ConfirmPass ref = { this . refCb } onChange = { this . handleChange } />: null } < /div> ) } }); \u4e0a\u8ff0\u4ee3\u7801\uff0c\u6e32\u67d3\u5230\u9875\u9762\u65f6\u53ef\u4ee5\u53d1\u73b0console.log\u51fa\u5bf9\u5e94\u7684\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u5207\u6362\u6309\u94ae\u65f6\uff0c ConfirmPass \u4e5f\u5728\u6302\u8f7d\u4e0e\u5378\u8f7d\u4e4b\u95f4\u5207\u6362\uff0c\u6240\u4ee5\u80fd\u770b\u5230\u4e0d\u540c\u7684console.log\u7ed3\u679c\u3002","title":"ref\u53ef\u4ee5\u8bbe\u7f6e\u56de\u8c03\u51fd\u6570"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#ref_3","text":"\u6700\u65b0\u7248\u672c\u4e0d\u63a8\u8350\u8fd9\u79cd\u65b9\u6cd5 ref\u8fd8\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u5b57\u7b26\u4e32\u503c\uff0c\u800c\u4e0d\u662f\u56de\u8c03\u51fd\u6570\uff1b\u8fd9\u79cd\u65b9\u5f0f\u57fa\u672c\u4e0d\u63a8\u8350\u4f7f\u7528\uff0c\u6216\u8005\u5728\u672a\u6765\u7684react\u7248\u672c\u4e2d\u4e0d\u4f1a\u518d\u652f\u6301\u8be5\u65b9\u5f0f\uff0c\u4f46\u662f\u53ef\u4ee5\u4e86\u89e3\u4e00\u4e0b\u3002 \u4f8b\u5982\u4e0b\u9762 input \u8bbe\u7f6eref\u7684\u503c\u4e3a\u5b57\u7b26\u4e32\u3002 <input ref=\"input\" /> \u7136\u540e\u5728\u5176\u4ed6\u5730\u65b9\u5982\u4e8b\u4ef6\u56de\u8c03\u4e2d\u901a\u8fc7 this.refs.input \u53ef\u4ee5\u8bbf\u95ee\u5230\u8be5\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u5176\u5b9e\u5c31\u662fdom\u5143\u7d20\u8282\u70b9\u3002 let inputEl = this.refs.input; //\u7136\u540e\u901a\u8fc7inputEl\u6765\u5b8c\u6210\u540e\u7eed\u7684\u903b\u8f91\uff0c\u5982focus\u3001\u83b7\u53d6\u5176\u503c\u7b49\u7b49","title":"ref\u53ef\u4ee5\u8bbe\u7f6e\u5b57\u7b26\u4e32"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#refdom","text":"\u4e0d\u7ba1ref\u8bbe\u7f6e\u503c\u662f\u56de\u8c03\u51fd\u6570\u8fd8\u662f\u5b57\u7b26\u4e32\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7 ReactDOM.findDOMNode(ref) \u6765\u83b7\u53d6\u7ec4\u4ef6\u6302\u8f7d\u540e\u771f\u6b63\u7684dom\u8282\u70b9\u3002 \u4f46\u662f\u5bf9\u4e8ehtml\u5143\u7d20\u4f7f\u7528ref\u7684\u60c5\u51b5\uff0cref\u672c\u8eab\u5f15\u7528\u7684\u5c31\u662f\u8be5\u5143\u7d20\u7684\u5b9e\u9645dom\u8282\u70b9\uff0c\u65e0\u9700\u4f7f\u7528 ReactDOM.findDOMNode(ref) \u6765\u83b7\u53d6\uff0c\u8be5\u65b9\u6cd5\u5e38\u7528\u4e8eReact\u7ec4\u4ef6\u4e0a\u7684ref\u3002","title":"\u83b7\u53d6ref\u5f15\u7528\u7ec4\u4ef6\u5bf9\u5e94\u7684dom\u8282\u70b9"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#ref_4","text":"\u4e0a\u6587\u8bf4\u5230\u8fc7 ref \u7528\u5230react\u6709\u72b6\u6001\u7ec4\u4ef6\u65f6\uff0cref\u5f15\u7528\u7684\u662f\u7ec4\u4ef6\u7684\u5b9e\u4f8b\uff1b\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7\u5b50\u7ec4\u4ef6\u7684 ref \u53ef\u4ee5\u8bbf\u95ee\u5230\u5b50\u7ec4\u4ef6\u5b9e\u4f8b\u7684 props \u3001 state \u3001 refs \u3001\u5b9e\u4f8b\u65b9\u6cd5(\u975e\u7ee7\u627f\u800c\u6765\u7684\u65b9\u6cd5)\u7b49\u7b49\u3002 \u4f7f\u7528ref\u8bbf\u95ee\u5b50\u7ec4\u4ef6\u60c5\u51b5\u53ef\u80fd\u662f\u4ee5\u4e0bcase\uff1a \u8bbf\u95ee\u5b50\u7ec4\u4ef6\u7684\u67d0\u4e2a\u5177\u4f53\u7684dom\u8282\u70b9\u5b8c\u6210\u67d0\u4e9b\u903b\u8f91\uff0c\u901a\u8fc7 this.refs.childComponentRefName.refs.someDomRefName \u6765\u5b8c\u6210\uff0c\u4f8b\u5982 segmentfault\u4e0a\u63d0\u95ee\u8005\u63d0\u51fa\u7684\u95ee\u9898 \u3002 \u53ef\u4ee5\u8bbf\u95ee\u5b50\u7ec4\u4ef6\u7684\u516c\u5171\u5b9e\u4f8b\u65b9\u6cd5\u5b8c\u6210\u67d0\u5199\u903b\u8f91\u3002\u4f8b\u5982\u5b50\u7ec4\u4ef6\u5b9a\u4e49\u4e86\u4e00\u4e2a reset \u65b9\u6cd5\u7528\u6765\u91cd\u7f6e\u5b50\u7ec4\u4ef6\u8868\u5355\u5143\u7d20\u503c\uff0c\u8fd9\u65f6\u7236\u7ec4\u4ef6\u53ef\u4ee5\u901a\u8fc7 this.refs.childComponentRefName.reset() \u6765\u5b8c\u6210\u5b50\u7ec4\u4ef6\u8868\u5355\u5143\u7d20\u7684\u91cd\u7f6e\u3002 ... \u4e0d\u8fc7\u8bdd\u8bf4\u56de\u6765\uff0creact\u4e0d\u5efa\u8bae\u5728\u7236\u7ec4\u4ef6\u4e2d\u76f4\u63a5\u8bbf\u95ee\u5b50\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u65b9\u6cd5\u6765\u5b8c\u6210\u67d0\u4e9b\u903b\u8f91\uff0c\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u8bf7\u4f7f\u7528\u6807\u51c6\u7684react\u6570\u636e\u6d41\u7684\u65b9\u5f0f\u6765\u4ee3\u66ff\u5219\u66f4\u4e3a\u6e05\u6670\uff1b \u53e6\u5916\uff0c\u4e0a\u8ff0case\u5728\u7ec4\u4ef6\u5173\u7cfb\u5d4c\u5957\u5f88\u6df1\u65f6\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5c31\u663e\u5f97\u6781\u4e3a\u4e11\u964b\u3002","title":"ref\u5728\u6709\u72b6\u6001\u7ec4\u4ef6\u4e2d\u7684\u4f7f\u7528"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#ref_5","text":"\u4e0a\u6587\u8bf4\u5230\u7684react\u7ec4\u4ef6\u90fd\u662f\u6307\u6709\u72b6\u6001\u7684\uff0c\u5bf9\u4e8e\u65e0\u72b6\u6001\u7ec4\u4ef6 stateless component \u800c\u8a00\uff0c\u6b63\u5982\u8fd9\u7bc7\u6587\u7ae0 React\u521b\u5efa\u7ec4\u4ef6\u7684\u4e09\u79cd\u65b9\u5f0f\u53ca\u5176\u533a\u522b \u91cc\u63cf\u8ff0\u7684\u4e00\u6837\uff0c \u65e0\u72b6\u6001\u7ec4\u4ef6\u662f\u4e0d\u4f1a\u88ab\u5b9e\u4f8b\u5316\u7684 \uff0c\u5728\u7236\u7ec4\u4ef6\u4e2d\u901a\u8fc7 ref \u6765\u83b7\u53d6\u65e0\u72b6\u6001\u5b50\u7ec4\u4ef6\u65f6\uff0c\u5176\u503c\u4e3a null \uff0c\u6240\u4ee5\uff1a \u65e0\u6cd5\u901a\u8fc7 ref \u6765\u83b7\u53d6\u65e0\u72b6\u6001\u7ec4\u4ef6\u5b9e\u4f8b\u3002 \u867d\u7136\u65e0\u6cd5\u901a\u8fc7ref\u83b7\u53d6\u65e0\u72b6\u6001\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u4f46\u662f\u53ef\u4ee5\u7ed3\u5408\u590d\u5408\u7ec4\u4ef6\u6765\u5305\u88c5\u65e0\u72b6\u6001\u7ec4\u4ef6\u6765\u5728\u5176\u4e0a\u4f7f\u7528ref\u5f15\u7528\u3002 \u53e6\u5916\uff0c\u5bf9\u4e8e\u65e0\u72b6\u6001\u7ec4\u4ef6\u6211\u4eec\u60f3\u8bbf\u95ee\u7684\u65e0\u975e\u662f\u5176\u4e2d\u5305\u542b\u7684\u7ec4\u4ef6\u6216\u8005dom\u5143\u7d20\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u53d8\u91cf\u6765\u4fdd\u5b58\u6211\u4eec\u60f3\u8981\u7684\u7ec4\u4ef6\u6216\u8005dom\u5143\u7d20\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u5f15\u7528\u3002\u4f8b\u5982\u4e0b\u9762\u4ee3\u7801\uff1a function TestComp ( props ){ let refDom ; return ( < div > < div ref = {( node ) => refDom = node } > ... < /div> < /div>) } \u8fd9\u6837\uff0c\u53ef\u4ee5\u901a\u8fc7\u53d8\u91cf refDom \u6765\u8bbf\u95ee\u5230\u65e0\u72b6\u6001\u7ec4\u4ef6\u4e2d\u7684\u6307\u5b9adom\u5143\u7d20\u4e86\uff0c\u8bbf\u95ee\u5176\u4e2d\u7684\u5176\u4ed6\u7ec4\u4ef6\u5b9e\u4f8b\u7c7b\u4f3c\u3002","title":"ref\u5728\u65e0\u72b6\u6001\u7ec4\u4ef6\u4e2d\u7684\u4f7f\u7528"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#refhoc","text":"react\u7684 HOC \u662f\u9ad8\u9636\u7ec4\u4ef6\uff0c\u7b80\u5355\u7406\u89e3\u5c31\u662f\u5305\u88c5\u4e86\u4e00\u4e2a\u4f4e\u9636\u7684\u7ec4\u4ef6\uff0c\u6700\u540e\u8fd4\u56de\u4e00\u4e2a\u9ad8\u9636\u7684\u7ec4\u4ef6\uff1b\u9ad8\u9636\u7ec4\u4ef6\u5176\u5b9e\u662f\u5728\u4f4e\u9636\u7ec4\u4ef6\u57fa\u7840\u4e0a\u505a\u4e86\u4e00\u4e9b\u4e8b\u60c5\uff0c\u6bd4\u65b9\u8bf4 antd \u7ec4\u4ef6\u7684 Form create \u7684\u65b9\u6cd5\uff0c\u5b83\u5c31\u662f\u5728\u4e3a\u4f4e\u9636\u7ec4\u4ef6\u5c01\u88c5\u4e86\u4e00\u4e9b\u7279\u6b8a\u7684\u5c5e\u6027\uff0c\u6bd4\u5982 form \u5c5e\u6027\u3002 \u65e2\u7136 HOC \u4f1a\u57fa\u4e8e\u4f4e\u9636\u7ec4\u4ef6\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u9ad8\u9636\u7ec4\u4ef6\uff0c\u82e5\u7528 ref \u5c31\u4e0d\u80fd\u8bbf\u95ee\u5230\u6211\u4eec\u771f\u6b63\u9700\u8981\u7684\u4f4e\u9636\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u6211\u4eec\u8bbf\u95ee\u5230\u7684\u5176\u5b9e\u662f\u9ad8\u9636\u7ec4\u4ef6\u5b9e\u4f8b\u3002\u6240\u4ee5: \u82e5HOC\u4e0d\u505a\u7279\u6b8a\u5904\u7406\uff0cref\u662f\u65e0\u6cd5\u8bbf\u95ee\u5230\u4f4e\u9636\u7ec4\u4ef6\u5b9e\u4f8b\u7684 \u8981\u60f3\u7528 ref \u8bbf\u95ee\u4f4e\u9636\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u5c31\u5fc5\u987b\u5f97HOC\u652f\u6301\uff0c\u5c31\u50cf Redux \u7684connect\u65b9\u6cd5\u63d0\u4f9b\u7684 withRef \u5c5e\u6027\u6765\u8bbf\u95ee\u4f4e\u9636\u7ec4\u4ef6\u4e00\u6837\u3002\u5177\u4f53\u53ef\u4ee5\u53c2\u8003 \u8fd9\u91cc \u3002","title":"ref\u5728HOC\u4e2d\u5b58\u5728\u95ee\u9898"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#_1","text":"ref \u63d0\u4f9b\u4e86\u4e00\u79cd\u5bf9\u4e8ereact\u6807\u51c6\u7684\u6570\u636e\u6d41\u4e0d\u592a\u9002\u7528\u7684\u60c5\u51b5\u4e0b\u7ec4\u4ef6\u95f4\u4ea4\u4e92\u7684\u65b9\u5f0f\uff0c\u4f8b\u5982\u7ba1\u7406dom\u5143\u7d20focus\u3001text selection\u4ee5\u53ca\u4e0e\u7b2c\u4e09\u65b9\u7684dom\u5e93\u6574\u5408\u7b49\u7b49\u3002 \u4f46\u662f\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u5e94\u8be5\u4f7f\u7528react\u54cd\u5e94\u6570\u636e\u6d41\u90a3\u79cd\u65b9\u5f0f\uff0c\u4e0d\u8981\u8fc7\u5ea6\u4f7f\u7528ref\u3002 \u53e6\u5916\uff0c\u5728\u4f7f\u7528ref\u65f6\uff0c\u4e0d\u7528\u62c5\u5fc3\u4f1a\u5bfc\u81f4\u5185\u5b58\u6cc4\u9732\u7684\u95ee\u9898\uff0creact\u4f1a\u81ea\u52a8\u5e2e\u4f60\u7ba1\u7406\u597d\uff0c\u5728\u7ec4\u4ef6\u5378\u8f7d\u65f6ref\u503c\u4e5f\u4f1a\u88ab\u9500\u6bc1\u3002 \u6700\u540e\u8865\u5145\u4e00\u70b9\uff1a \u4e0d\u8981\u5728\u7ec4\u4ef6\u7684 render \u65b9\u6cd5\u4e2d\u8bbf\u95ee ref \u5f15\u7528\uff0c render \u65b9\u6cd5\u53ea\u662f\u8fd4\u56de\u4e00\u4e2a\u865a\u62dfdom\uff0c\u8fd9\u65f6\u7ec4\u4ef6\u4e0d\u4e00\u5b9a\u6302\u8f7d\u5230dom\u4e2d\u6216\u8005render\u8fd4\u56de\u7684\u865a\u62dfdom\u4e0d\u4e00\u5b9a\u4f1a\u66f4\u65b0\u5230dom\u4e2d\u3002","title":"\u603b\u7ed3"},{"location":"react/Refs%20%26%20DOM/","text":"Refs & DOM \u00b6 Refs \u63d0\u4f9b\u4e86\u4e00\u79cd\u65b9\u5f0f\uff0c\u7528\u4e8e\u8bbf\u95ee\u5728 render \u65b9\u6cd5\u4e2d\u521b\u5efa\u7684 DOM \u8282\u70b9\u6216 React \u5143\u7d20\u3002 \u5728\u5178\u578b\u7684 React \u6570\u636e\u6d41\u4e2d, \u5c5e\u6027\uff08props\uff09 \u662f\u7236\u7ec4\u4ef6\u4e0e\u5b50\u7ec4\u4ef6\u4ea4\u4e92\u7684\u552f\u4e00\u65b9\u5f0f\u3002\u8981\u4fee\u6539\u5b50\u7ec4\u4ef6\uff0c\u4f60\u9700\u8981\u4f7f\u7528\u65b0\u7684 props \u91cd\u65b0\u6e32\u67d3\u5b83\u3002\u4f46\u662f\uff0c\u67d0\u4e9b\u60c5\u51b5\u4e0b\u4f60\u9700\u8981\u5728\u5178\u578b\u6570\u636e\u6d41\u5916\u5f3a\u5236\u4fee\u6539\u5b50\u7ec4\u4ef6\u3002\u8981\u4fee\u6539\u7684\u5b50\u7ec4\u4ef6\u53ef\u4ee5\u662f React \u7ec4\u4ef6\u7684\u5b9e\u4f8b\uff0c\u4e5f\u53ef\u4ee5\u662f DOM \u5143\u7d20\u3002\u5bf9\u4e8e\u8fd9\u4e24\u79cd\u60c5\u51b5\uff0cReact \u63d0\u4f9b\u4e86\u89e3\u51b3\u529e\u6cd5\u3002 \u4f55\u65f6\u4f7f\u7528 Refs \u00b6 \u4e0b\u9762\u662f\u51e0\u4e2a\u9002\u5408\u4f7f\u7528 refs \u7684\u60c5\u51b5\uff1a \u5904\u7406\u7126\u70b9\u3001\u6587\u672c\u9009\u62e9\u6216\u5a92\u4f53\u63a7\u5236\u3002 \u89e6\u53d1\u5f3a\u5236\u52a8\u753b\u3002 \u96c6\u6210\u7b2c\u4e09\u65b9 DOM \u5e93 \u5982\u679c\u53ef\u4ee5\u901a\u8fc7\u58f0\u660e\u5f0f\u5b9e\u73b0\uff0c\u5219\u5c3d\u91cf\u907f\u514d\u4f7f\u7528 refs\u3002 \u4f8b\u5982\uff0c\u4e0d\u8981\u5728 Dialog \u7ec4\u4ef6\u4e0a\u76f4\u63a5\u66b4\u9732 open() \u548c close() \u65b9\u6cd5\uff0c\u6700\u597d\u4f20\u9012 isOpen \u5c5e\u6027\u3002 \u4e0d\u8981\u8fc7\u5ea6\u4f7f\u7528 Refs \u00b6 \u4f60\u53ef\u80fd\u9996\u5148\u4f1a\u60f3\u5230\u5728\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528 refs \u6765\u66f4\u65b0\u7ec4\u4ef6\u3002\u5982\u679c\u662f\u8fd9\u79cd\u60c5\u51b5\uff0c\u8bf7\u82b1\u4e00\u70b9\u65f6\u95f4\uff0c\u91cd\u65b0\u601d\u8003\u4e00\u4e0b state \u5c5e\u6027\u5728\u7ec4\u4ef6\u5c42\u4e2d\u4f4d\u7f6e\u3002\u901a\u5e38\u4f60\u4f1a\u60f3\u660e\u767d\uff0c\u63d0\u5347 state \u6240\u5728\u7684\u7ec4\u4ef6\u5c42\u7ea7\u4f1a\u662f\u66f4\u5408\u9002\u7684\u505a\u6cd5\u3002\u6709\u5173\u793a\u4f8b\uff0c\u8bf7\u53c2\u8003 \u72b6\u6001\u63d0\u5347 . Note \u4e0b\u9762\u7684\u4f8b\u5b50\u5df2\u7ecf\u7528 React v16.3 \u5f15\u5165\u7684 React.createRef() API \u66f4\u65b0\u3002\u5982\u679c\u4f60\u6b63\u5728\u4f7f\u7528 React \u66f4\u65e9\u7684\u53d1\u5e03\u7248\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528 \u56de\u8c03\u5f62\u5f0f\u7684 refs \u3002 \u521b\u5efa Refs \u00b6 \u4f7f\u7528 React.createRef() \u521b\u5efa refs\uff0c\u901a\u8fc7 ref \u5c5e\u6027\u6765\u83b7\u5f97 React \u5143\u7d20\u3002\u5f53\u6784\u9020\u7ec4\u4ef6\u65f6\uff0crefs \u901a\u5e38\u88ab\u8d4b\u503c\u7ed9\u5b9e\u4f8b\u7684\u4e00\u4e2a\u5c5e\u6027\uff0c\u8fd9\u6837\u4f60\u53ef\u4ee5\u5728\u7ec4\u4ef6\u4e2d\u4efb\u610f\u4e00\u5904\u4f7f\u7528\u5b83\u4eec. class MyComponent extends React.Component { constructor(props) { super(props); this.myRef = React.createRef(); } render() { return <div ref={this.myRef} />; } } \u8bbf\u95ee Refs \u00b6 \u5f53\u4e00\u4e2a ref \u5c5e\u6027\u88ab\u4f20\u9012\u7ed9\u4e00\u4e2a render \u51fd\u6570\u4e2d\u7684\u5143\u7d20\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 ref \u4e2d\u7684 current \u5c5e\u6027\u5bf9\u8282\u70b9\u7684\u5f15\u7528\u8fdb\u884c\u8bbf\u95ee\u3002 const node = this.myRef.current; ref\u7684\u503c\u53d6\u51b3\u4e8e\u8282\u70b9\u7684\u7c7b\u578b: \u5f53 ref \u5c5e\u6027\u88ab\u7528\u4e8e\u4e00\u4e2a\u666e\u901a\u7684 HTML \u5143\u7d20\u65f6\uff0c React.createRef() \u5c06\u63a5\u6536\u5e95\u5c42 DOM \u5143\u7d20\u4f5c\u4e3a\u5b83\u7684 current \u5c5e\u6027\u4ee5\u521b\u5efa ref \u3002 \u5f53 ref \u5c5e\u6027\u88ab\u7528\u4e8e\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u7ec4\u4ef6\u65f6\uff0c ref \u5bf9\u8c61\u5c06\u63a5\u6536\u8be5\u7ec4\u4ef6\u5df2\u6302\u8f7d\u7684\u5b9e\u4f8b\u4f5c\u4e3a\u5b83\u7684 current \u3002 \u4f60\u4e0d\u80fd\u5728\u51fd\u6570\u5f0f\u7ec4\u4ef6\u4e0a\u4f7f\u7528 ref \u5c5e\u6027 \uff0c\u56e0\u4e3a\u5b83\u4eec\u6ca1\u6709\u5b9e\u4f8b\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u8bf4\u660e\u4e86\u8fd9\u4e9b\u5dee\u5f02\u3002 \u4e3a DOM \u5143\u7d20\u6dfb\u52a0 Ref \u00b6 \u4ee5\u4e0b\u4ee3\u7801\u4f7f\u7528 ref \u5b58\u50a8\u5bf9 DOM \u8282\u70b9\u7684\u5f15\u7528\uff1a class CustomTextInput extends React.Component { constructor(props) { super(props); // \u521b\u5efa ref \u5b58\u50a8 textInput DOM \u5143\u7d20 this.textInput = React.createRef(); this.focusTextInput = this.focusTextInput.bind(this); } focusTextInput() { // \u76f4\u63a5\u4f7f\u7528\u539f\u751f API \u4f7f text \u8f93\u5165\u6846\u83b7\u5f97\u7126\u70b9 // \u6ce8\u610f\uff1a\u901a\u8fc7 \"current\" \u53d6\u5f97 DOM \u8282\u70b9 this.textInput.current.focus(); } render() { // \u544a\u8bc9 React \u6211\u4eec\u60f3\u628a <input> ref \u5173\u8054\u5230\u6784\u9020\u5668\u91cc\u521b\u5efa\u7684 `textInput` \u4e0a return ( <div> <input type=\"text\" ref={this.textInput} /> <input type=\"button\" value=\"Focus the text input\" onClick={this.focusTextInput} /> </div> ); } } React \u4f1a\u5728\u7ec4\u4ef6\u52a0\u8f7d\u65f6\u5c06 DOM \u5143\u7d20\u4f20\u5165 current \u5c5e\u6027\uff0c\u5728\u5378\u8f7d\u65f6\u5219\u4f1a\u6539\u56de null \u3002 ref \u7684\u66f4\u65b0\u4f1a\u53d1\u751f\u5728 componentDidMount \u6216 componentDidUpdate \u751f\u547d\u5468\u671f\u94a9\u5b50\u4e4b\u524d\u3002 \u4e3a\u7c7b\u7ec4\u4ef6\u6dfb\u52a0 Ref \u00b6 \u5982\u679c\u6211\u4eec\u60f3\u8981\u5305\u88c5\u4e0a\u9762\u7684 CustomTextInput \uff0c\u6765\u6a21\u62df\u6302\u8f7d\u4e4b\u540e\u7acb\u5373\u88ab\u70b9\u51fb\u7684\u8bdd\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ref \u6765\u8bbf\u95ee\u81ea\u5b9a\u4e49\u8f93\u5165\uff0c\u5e76\u624b\u52a8\u8c03\u7528\u5b83\u7684 focusTexInput \u65b9\u6cd5\uff1a class AutoFocusTextInput extends React.Component { constructor(props) { super(props); this.textInput = React.createRef(); } componentDidMount() { this.textInput.current.focusTextInput(); } render() { return ( <CustomTextInput ref={this.textInput} /> ); } } \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u79cd\u65b9\u6cd5\u4ec5\u5bf9 class \u58f0\u660e\u7684 CustomTextInput \u6709\u6548\uff1a class CustomTextInput extends React.Component { // ... } Refs \u4e0e\u51fd\u6570\u5f0f\u7ec4\u4ef6 \u00b6 \u4f60\u4e0d\u80fd\u5728\u51fd\u6570\u5f0f\u7ec4\u4ef6\u4e0a\u4f7f\u7528 ref \u5c5e\u6027 \uff0c\u56e0\u4e3a\u5b83\u4eec\u6ca1\u6709\u5b9e\u4f8b\uff1a function MyFunctionalComponent() { return <input />; } class Parent extends React.Component { constructor(props) { super(props); this.textInput = React.createRef(); } render() { // \u8fd9\u5c06 *\u4e0d\u4f1a* \u5de5\u4f5c\uff01 return ( <MyFunctionalComponent ref={this.textInput} /> ); } } \u5982\u679c\u4f60\u60f3\u4f7f\u7528 ref \uff0c\u5c31\u50cf\u4f60\u60f3\u4f7f\u7528\u751f\u547d\u5468\u671f\u65b9\u6cd5\u6216\u8005 state \u4e00\u6837\uff0c\u5e94\u8be5\u5c06\u5176\u8f6c\u6362\u4e3a class \u7ec4\u4ef6\u3002 \u4f46\u662f\uff0c\u4f60\u53ef\u4ee5\u5728\u51fd\u6570\u5f0f\u7ec4\u4ef6\u5185\u90e8\u4f7f\u7528 ref \uff0c\u53ea\u8981\u5b83\u6307\u5411\u4e00\u4e2a DOM \u5143\u7d20\u6216\u8005 class \u7ec4\u4ef6\uff1a function CustomTextInput(props) { // \u8fd9\u91cc\u5fc5\u987b\u58f0\u660e textInput\uff0c\u8fd9\u6837 ref \u56de\u8c03\u624d\u53ef\u4ee5\u5f15\u7528\u5b83 let textInput = null; function handleClick() { textInput.focus(); } return ( <div> <input type=\"text\" ref={(input) => { textInput = input; }} /> <input type=\"button\" value=\"Focus the text input\" onClick={handleClick} /> </div> ); } \u5bf9\u7236\u7ec4\u4ef6\u66b4\u9732 DOM \u8282\u70b9 \u00b6 \u5728\u6781\u5c11\u6570\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u80fd\u5e0c\u671b\u4ece\u7236\u7ec4\u4ef6\u8bbf\u95ee\u5b50\u8282\u70b9\u7684 DOM \u8282\u70b9\u3002\u901a\u5e38\u4e0d\u5efa\u8bae\u8fd9\u6837\u505a\uff0c\u56e0\u4e3a\u5b83\u4f1a\u7834\u574f\u7ec4\u4ef6\u7684\u5c01\u88c5\uff0c\u4f46\u5076\u5c14\u4e5f\u53ef\u7528\u4e8e\u89e6\u53d1\u7126\u70b9\u6216\u6d4b\u91cf\u5b50 DOM \u8282\u70b9\u7684\u5927\u5c0f\u6216\u4f4d\u7f6e\u3002 \u867d\u7136\u4f60\u53ef\u4ee5 \u5411\u5b50\u7ec4\u4ef6\u6dfb\u52a0 ref \uff0c\u4f46\u8fd9\u4e0d\u662f\u4e00\u4e2a\u7406\u60f3\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u56e0\u4e3a\u4f60\u53ea\u80fd\u83b7\u53d6\u7ec4\u4ef6\u5b9e\u4f8b\u800c\u4e0d\u662f DOM \u8282\u70b9\u3002\u5e76\u4e14\uff0c\u5b83\u8fd8\u5728\u51fd\u6570\u5f0f\u7ec4\u4ef6\u4e0a\u65e0\u6548\u3002 \u5982\u679c\u4f60\u4f7f\u7528 React 16.3 \u6216\u66f4\u9ad8, \u8fd9\u79cd\u60c5\u51b5\u4e0b\u6211\u4eec\u63a8\u8350\u4f7f\u7528 ref \u8f6c\u53d1 \u3002 Ref \u8f6c\u53d1\u4f7f\u7ec4\u4ef6\u53ef\u4ee5\u50cf\u66b4\u9732\u81ea\u5df1\u7684 ref \u4e00\u6837\u66b4\u9732\u5b50\u7ec4\u4ef6\u7684 ref \u3002\u5173\u4e8e\u600e\u6837\u5bf9\u7236\u7ec4\u4ef6\u66b4\u9732\u5b50\u7ec4\u4ef6\u7684 DOM \u8282\u70b9\uff0c \u5728 ref \u8f6c\u53d1\u6587\u6863 \u4e2d\u6709\u4e00\u4e2a\u8be6\u7ec6\u7684\u4f8b\u5b50\u3002 \u5982\u679c\u4f60\u4f7f\u7528 React 16.2 \u6216\u66f4\u4f4e\uff0c\u6216\u8005\u4f60\u9700\u8981\u6bd4 ref \u8f6c\u53d1\u66f4\u9ad8\u7684\u7075\u6d3b\u6027\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 \u8fd9\u4e2a\u66ff\u4ee3\u65b9\u6848 \u5c06 ref \u4f5c\u4e3a\u7279\u6b8a\u540d\u5b57\u7684 prop \u76f4\u63a5\u4f20\u9012\u3002 \u53ef\u80fd\u7684\u8bdd\uff0c\u6211\u4eec\u4e0d\u5efa\u8bae\u66b4\u9732 DOM \u8282\u70b9\uff0c\u4f46\u6709\u65f6\u5019\u5b83\u4f1a\u6210\u4e3a\u6551\u547d\u7a3b\u8349\u3002\u6ce8\u610f\u8fd9\u4e9b\u65b9\u6848\u9700\u8981\u4f60\u5728\u5b50\u7ec4\u4ef6\u4e2d\u589e\u52a0\u4e00\u4e9b\u4ee3\u7801\u3002\u5982\u679c\u4f60\u5bf9\u5b50\u7ec4\u4ef6\u7684\u5b9e\u73b0\u6ca1\u6709\u63a7\u5236\u6743\u7684\u8bdd\uff0c\u4f60\u5269\u4e0b\u7684\u9009\u62e9\u662f\u4f7f\u7528 findDOMNode() \uff0c\u4f46\u662f\u4e0d\u63a8\u8350\u3002 \u56de\u8c03 Refs \u00b6 React \u4e5f\u652f\u6301\u53e6\u4e00\u79cd\u8bbe\u7f6e ref \u7684\u65b9\u5f0f\uff0c\u79f0\u4e3a\u201c\u56de\u8c03 ref\u201d\uff0c\u66f4\u52a0\u7ec6\u81f4\u5730\u63a7\u5236\u4f55\u65f6 ref \u88ab\u8bbe\u7f6e\u548c\u89e3\u9664\u3002 \u4e0d\u540c\u4e8e\u4f20\u9012 createRef() \u521b\u5efa\u7684 ref \u5c5e\u6027\uff0c\u4f60\u4f1a\u4f20\u9012\u4e00\u4e2a\u51fd\u6570\u3002\u8fd9\u4e2a\u51fd\u6570\u63a5\u53d7 React \u7ec4\u4ef6\u7684\u5b9e\u4f8b\u6216 HTML DOM \u5143\u7d20\u4f5c\u4e3a\u53c2\u6570\uff0c\u4ee5\u5b58\u50a8\u5b83\u4eec\u5e76\u4f7f\u5b83\u4eec\u80fd\u88ab\u5176\u4ed6\u5730\u65b9\u8bbf\u95ee\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u63cf\u8ff0\u4e86\u4e00\u79cd\u901a\u7528\u7684\u8303\u4f8b\uff1a\u4f7f\u7528 ref \u56de\u8c03\u51fd\u6570\uff0c\u5728\u5b9e\u4f8b\u7684\u5c5e\u6027\u4e2d\u5b58\u50a8\u5bf9 DOM \u8282\u70b9\u7684\u5f15\u7528\u3002 class CustomTextInput extends React.Component { constructor(props) { super(props); this.textInput = null; this.setTextInputRef = element => { this.textInput = element; }; this.focusTextInput = () => { // \u76f4\u63a5\u4f7f\u7528\u539f\u751f API \u4f7f text \u8f93\u5165\u6846\u83b7\u5f97\u7126\u70b9 if (this.textInput) this.textInput.focus(); }; } componentDidMount() { // \u6e32\u67d3\u540e\u6587\u672c\u6846\u81ea\u52a8\u83b7\u5f97\u7126\u70b9 this.focusTextInput(); } render() { // \u4f7f\u7528 `ref` \u7684\u56de\u8c03\u5c06 text \u8f93\u5165\u6846\u7684 DOM \u8282\u70b9\u5b58\u50a8\u5230 React // \u5b9e\u4f8b\u4e0a\uff08\u6bd4\u5982 this.textInput\uff09 return ( <div> <input type=\"text\" ref={this.setTextInputRef} /> <input type=\"button\" value=\"Focus the text input\" onClick={this.focusTextInput} /> </div> ); } } React \u5c06\u5728\u7ec4\u4ef6\u6302\u8f7d\u65f6\u5c06 DOM \u5143\u7d20\u4f20\u5165 ref \u56de\u8c03\u51fd\u6570\u5e76\u8c03\u7528\uff0c\u5f53\u5378\u8f7d\u65f6\u4f20\u5165 null \u5e76\u8c03\u7528\u5b83\u3002 ref \u56de\u8c03\u51fd\u6570\u4f1a\u5728 componentDidMout \u548c componentDidUpdate \u751f\u547d\u5468\u671f\u51fd\u6570\u524d\u88ab\u8c03\u7528 \u4f60\u53ef\u4ee5\u5728\u7ec4\u4ef6\u95f4\u4f20\u9012\u56de\u8c03\u5f62\u5f0f\u7684 refs\uff0c\u5c31\u50cf\u4f60\u53ef\u4ee5\u4f20\u9012\u901a\u8fc7 React.createRef() \u521b\u5efa\u7684\u5bf9\u8c61 refs \u4e00\u6837\u3002 function CustomTextInput(props) { return ( <div> <input ref={props.inputRef} /> </div> ); } class Parent extends React.Component { render() { return ( <CustomTextInput inputRef={el => this.inputElement = el} /> ); } } \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c Parent \u4f20\u9012\u7ed9\u5b83\u7684 ref \u56de\u8c03\u51fd\u6570\u4f5c\u4e3a inputRef \u4f20\u9012\u7ed9 CustomTextInput \uff0c\u7136\u540e CustomTextInput \u901a\u8fc7 ref \u5c5e\u6027\u5c06\u5176\u4f20\u9012\u7ed9 <input> \u3002\u6700\u7ec8\uff0c Parent \u4e2d\u7684 this.inputElement \u5c06\u88ab\u8bbe\u7f6e\u4e3a\u4e0e CustomTextIput \u4e2d\u7684 <input> \u5143\u7d20\u76f8\u5bf9\u5e94\u7684 DOM \u8282\u70b9 \u65e7\u7248 API\uff1aString \u7c7b\u578b\u7684 Refs \u00b6 \u5982\u679c\u4f60\u4e4b\u524d\u4f7f\u7528\u8fc7 React \uff0c\u4f60\u53ef\u80fd\u4e86\u89e3\u8fc7\u4e4b\u524d\u7684API\u4e2d\u7684 string \u7c7b\u578b\u7684 ref \u5c5e\u6027\uff0c\u6bd4\u5982 \u201ctextInput\u201d \uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 this.refs.textInput \u8bbf\u95eeDOM\u8282\u70b9\u3002\u6211\u4eec\u4e0d\u5efa\u8bae\u4f7f\u7528\u5b83\uff0c\u56e0\u4e3a String \u7c7b\u578b\u7684 refs \u5b58\u5728\u95ee\u9898 \u3002\u5b83\u5df2\u8fc7\u65f6\u5e76**\u53ef\u80fd\u4f1a\u5728\u672a\u6765\u7684\u7248\u672c\u88ab\u79fb\u9664**\u3002\u5982\u679c\u4f60\u76ee\u524d\u8fd8\u5728\u4f7f\u7528 this.refs.textInput \u8fd9\u79cd\u65b9\u5f0f\u8bbf\u95ee refs \uff0c\u6211\u4eec\u5efa\u8bae\u7528\u56de\u8c03\u51fd\u6570\u7684\u65b9\u5f0f\u4ee3\u66ff\u3002 \u6ce8\u610f \u00b6 \u5982\u679c ref \u56de\u8c03\u4ee5\u5185\u8054\u51fd\u6570\u7684\u65b9\u5f0f\u5b9a\u4e49\uff0c\u5728\u66f4\u65b0\u671f\u95f4\u5b83\u4f1a\u88ab\u8c03\u7528\u4e24\u6b21\uff0c\u7b2c\u4e00\u6b21\u53c2\u6570\u662f null \uff0c\u4e4b\u540e\u53c2\u6570\u662f DOM \u5143\u7d20\u3002\u8fd9\u662f\u56e0\u4e3a\u5728\u6bcf\u6b21\u6e32\u67d3\u4e2d\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\u5b9e\u4f8b\u3002\u56e0\u6b64\uff0cReact \u9700\u8981\u6e05\u7406\u65e7\u7684 ref \u5e76\u4e14\u8bbe\u7f6e\u65b0\u7684\u3002\u901a\u8fc7\u5c06 ref \u7684\u56de\u8c03\u51fd\u6570\u5b9a\u4e49\u6210\u7c7b\u7684\u7ed1\u5b9a\u51fd\u6570\u7684\u65b9\u5f0f\u53ef\u4ee5\u907f\u514d\u4e0a\u8ff0\u95ee\u9898\uff0c\u4f46\u662f\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u65e0\u5173\u7d27\u8981\u3002","title":"Refs & DOM.md"},{"location":"react/Refs%20%26%20DOM/#refs-dom","text":"Refs \u63d0\u4f9b\u4e86\u4e00\u79cd\u65b9\u5f0f\uff0c\u7528\u4e8e\u8bbf\u95ee\u5728 render \u65b9\u6cd5\u4e2d\u521b\u5efa\u7684 DOM \u8282\u70b9\u6216 React \u5143\u7d20\u3002 \u5728\u5178\u578b\u7684 React \u6570\u636e\u6d41\u4e2d, \u5c5e\u6027\uff08props\uff09 \u662f\u7236\u7ec4\u4ef6\u4e0e\u5b50\u7ec4\u4ef6\u4ea4\u4e92\u7684\u552f\u4e00\u65b9\u5f0f\u3002\u8981\u4fee\u6539\u5b50\u7ec4\u4ef6\uff0c\u4f60\u9700\u8981\u4f7f\u7528\u65b0\u7684 props \u91cd\u65b0\u6e32\u67d3\u5b83\u3002\u4f46\u662f\uff0c\u67d0\u4e9b\u60c5\u51b5\u4e0b\u4f60\u9700\u8981\u5728\u5178\u578b\u6570\u636e\u6d41\u5916\u5f3a\u5236\u4fee\u6539\u5b50\u7ec4\u4ef6\u3002\u8981\u4fee\u6539\u7684\u5b50\u7ec4\u4ef6\u53ef\u4ee5\u662f React \u7ec4\u4ef6\u7684\u5b9e\u4f8b\uff0c\u4e5f\u53ef\u4ee5\u662f DOM \u5143\u7d20\u3002\u5bf9\u4e8e\u8fd9\u4e24\u79cd\u60c5\u51b5\uff0cReact \u63d0\u4f9b\u4e86\u89e3\u51b3\u529e\u6cd5\u3002","title":"Refs &amp; DOM"},{"location":"react/Refs%20%26%20DOM/#refs","text":"\u4e0b\u9762\u662f\u51e0\u4e2a\u9002\u5408\u4f7f\u7528 refs \u7684\u60c5\u51b5\uff1a \u5904\u7406\u7126\u70b9\u3001\u6587\u672c\u9009\u62e9\u6216\u5a92\u4f53\u63a7\u5236\u3002 \u89e6\u53d1\u5f3a\u5236\u52a8\u753b\u3002 \u96c6\u6210\u7b2c\u4e09\u65b9 DOM \u5e93 \u5982\u679c\u53ef\u4ee5\u901a\u8fc7\u58f0\u660e\u5f0f\u5b9e\u73b0\uff0c\u5219\u5c3d\u91cf\u907f\u514d\u4f7f\u7528 refs\u3002 \u4f8b\u5982\uff0c\u4e0d\u8981\u5728 Dialog \u7ec4\u4ef6\u4e0a\u76f4\u63a5\u66b4\u9732 open() \u548c close() \u65b9\u6cd5\uff0c\u6700\u597d\u4f20\u9012 isOpen \u5c5e\u6027\u3002","title":"\u4f55\u65f6\u4f7f\u7528 Refs"},{"location":"react/Refs%20%26%20DOM/#refs_1","text":"\u4f60\u53ef\u80fd\u9996\u5148\u4f1a\u60f3\u5230\u5728\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528 refs \u6765\u66f4\u65b0\u7ec4\u4ef6\u3002\u5982\u679c\u662f\u8fd9\u79cd\u60c5\u51b5\uff0c\u8bf7\u82b1\u4e00\u70b9\u65f6\u95f4\uff0c\u91cd\u65b0\u601d\u8003\u4e00\u4e0b state \u5c5e\u6027\u5728\u7ec4\u4ef6\u5c42\u4e2d\u4f4d\u7f6e\u3002\u901a\u5e38\u4f60\u4f1a\u60f3\u660e\u767d\uff0c\u63d0\u5347 state \u6240\u5728\u7684\u7ec4\u4ef6\u5c42\u7ea7\u4f1a\u662f\u66f4\u5408\u9002\u7684\u505a\u6cd5\u3002\u6709\u5173\u793a\u4f8b\uff0c\u8bf7\u53c2\u8003 \u72b6\u6001\u63d0\u5347 . Note \u4e0b\u9762\u7684\u4f8b\u5b50\u5df2\u7ecf\u7528 React v16.3 \u5f15\u5165\u7684 React.createRef() API \u66f4\u65b0\u3002\u5982\u679c\u4f60\u6b63\u5728\u4f7f\u7528 React \u66f4\u65e9\u7684\u53d1\u5e03\u7248\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528 \u56de\u8c03\u5f62\u5f0f\u7684 refs \u3002","title":"\u4e0d\u8981\u8fc7\u5ea6\u4f7f\u7528 Refs"},{"location":"react/Refs%20%26%20DOM/#refs_2","text":"\u4f7f\u7528 React.createRef() \u521b\u5efa refs\uff0c\u901a\u8fc7 ref \u5c5e\u6027\u6765\u83b7\u5f97 React \u5143\u7d20\u3002\u5f53\u6784\u9020\u7ec4\u4ef6\u65f6\uff0crefs \u901a\u5e38\u88ab\u8d4b\u503c\u7ed9\u5b9e\u4f8b\u7684\u4e00\u4e2a\u5c5e\u6027\uff0c\u8fd9\u6837\u4f60\u53ef\u4ee5\u5728\u7ec4\u4ef6\u4e2d\u4efb\u610f\u4e00\u5904\u4f7f\u7528\u5b83\u4eec. class MyComponent extends React.Component { constructor(props) { super(props); this.myRef = React.createRef(); } render() { return <div ref={this.myRef} />; } }","title":"\u521b\u5efa Refs"},{"location":"react/Refs%20%26%20DOM/#refs_3","text":"\u5f53\u4e00\u4e2a ref \u5c5e\u6027\u88ab\u4f20\u9012\u7ed9\u4e00\u4e2a render \u51fd\u6570\u4e2d\u7684\u5143\u7d20\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 ref \u4e2d\u7684 current \u5c5e\u6027\u5bf9\u8282\u70b9\u7684\u5f15\u7528\u8fdb\u884c\u8bbf\u95ee\u3002 const node = this.myRef.current; ref\u7684\u503c\u53d6\u51b3\u4e8e\u8282\u70b9\u7684\u7c7b\u578b: \u5f53 ref \u5c5e\u6027\u88ab\u7528\u4e8e\u4e00\u4e2a\u666e\u901a\u7684 HTML \u5143\u7d20\u65f6\uff0c React.createRef() \u5c06\u63a5\u6536\u5e95\u5c42 DOM \u5143\u7d20\u4f5c\u4e3a\u5b83\u7684 current \u5c5e\u6027\u4ee5\u521b\u5efa ref \u3002 \u5f53 ref \u5c5e\u6027\u88ab\u7528\u4e8e\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u7ec4\u4ef6\u65f6\uff0c ref \u5bf9\u8c61\u5c06\u63a5\u6536\u8be5\u7ec4\u4ef6\u5df2\u6302\u8f7d\u7684\u5b9e\u4f8b\u4f5c\u4e3a\u5b83\u7684 current \u3002 \u4f60\u4e0d\u80fd\u5728\u51fd\u6570\u5f0f\u7ec4\u4ef6\u4e0a\u4f7f\u7528 ref \u5c5e\u6027 \uff0c\u56e0\u4e3a\u5b83\u4eec\u6ca1\u6709\u5b9e\u4f8b\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u8bf4\u660e\u4e86\u8fd9\u4e9b\u5dee\u5f02\u3002","title":"\u8bbf\u95ee Refs"},{"location":"react/Refs%20%26%20DOM/#dom-ref","text":"\u4ee5\u4e0b\u4ee3\u7801\u4f7f\u7528 ref \u5b58\u50a8\u5bf9 DOM \u8282\u70b9\u7684\u5f15\u7528\uff1a class CustomTextInput extends React.Component { constructor(props) { super(props); // \u521b\u5efa ref \u5b58\u50a8 textInput DOM \u5143\u7d20 this.textInput = React.createRef(); this.focusTextInput = this.focusTextInput.bind(this); } focusTextInput() { // \u76f4\u63a5\u4f7f\u7528\u539f\u751f API \u4f7f text \u8f93\u5165\u6846\u83b7\u5f97\u7126\u70b9 // \u6ce8\u610f\uff1a\u901a\u8fc7 \"current\" \u53d6\u5f97 DOM \u8282\u70b9 this.textInput.current.focus(); } render() { // \u544a\u8bc9 React \u6211\u4eec\u60f3\u628a <input> ref \u5173\u8054\u5230\u6784\u9020\u5668\u91cc\u521b\u5efa\u7684 `textInput` \u4e0a return ( <div> <input type=\"text\" ref={this.textInput} /> <input type=\"button\" value=\"Focus the text input\" onClick={this.focusTextInput} /> </div> ); } } React \u4f1a\u5728\u7ec4\u4ef6\u52a0\u8f7d\u65f6\u5c06 DOM \u5143\u7d20\u4f20\u5165 current \u5c5e\u6027\uff0c\u5728\u5378\u8f7d\u65f6\u5219\u4f1a\u6539\u56de null \u3002 ref \u7684\u66f4\u65b0\u4f1a\u53d1\u751f\u5728 componentDidMount \u6216 componentDidUpdate \u751f\u547d\u5468\u671f\u94a9\u5b50\u4e4b\u524d\u3002","title":"\u4e3a DOM \u5143\u7d20\u6dfb\u52a0 Ref"},{"location":"react/Refs%20%26%20DOM/#ref","text":"\u5982\u679c\u6211\u4eec\u60f3\u8981\u5305\u88c5\u4e0a\u9762\u7684 CustomTextInput \uff0c\u6765\u6a21\u62df\u6302\u8f7d\u4e4b\u540e\u7acb\u5373\u88ab\u70b9\u51fb\u7684\u8bdd\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ref \u6765\u8bbf\u95ee\u81ea\u5b9a\u4e49\u8f93\u5165\uff0c\u5e76\u624b\u52a8\u8c03\u7528\u5b83\u7684 focusTexInput \u65b9\u6cd5\uff1a class AutoFocusTextInput extends React.Component { constructor(props) { super(props); this.textInput = React.createRef(); } componentDidMount() { this.textInput.current.focusTextInput(); } render() { return ( <CustomTextInput ref={this.textInput} /> ); } } \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u79cd\u65b9\u6cd5\u4ec5\u5bf9 class \u58f0\u660e\u7684 CustomTextInput \u6709\u6548\uff1a class CustomTextInput extends React.Component { // ... }","title":"\u4e3a\u7c7b\u7ec4\u4ef6\u6dfb\u52a0 Ref"},{"location":"react/Refs%20%26%20DOM/#refs_4","text":"\u4f60\u4e0d\u80fd\u5728\u51fd\u6570\u5f0f\u7ec4\u4ef6\u4e0a\u4f7f\u7528 ref \u5c5e\u6027 \uff0c\u56e0\u4e3a\u5b83\u4eec\u6ca1\u6709\u5b9e\u4f8b\uff1a function MyFunctionalComponent() { return <input />; } class Parent extends React.Component { constructor(props) { super(props); this.textInput = React.createRef(); } render() { // \u8fd9\u5c06 *\u4e0d\u4f1a* \u5de5\u4f5c\uff01 return ( <MyFunctionalComponent ref={this.textInput} /> ); } } \u5982\u679c\u4f60\u60f3\u4f7f\u7528 ref \uff0c\u5c31\u50cf\u4f60\u60f3\u4f7f\u7528\u751f\u547d\u5468\u671f\u65b9\u6cd5\u6216\u8005 state \u4e00\u6837\uff0c\u5e94\u8be5\u5c06\u5176\u8f6c\u6362\u4e3a class \u7ec4\u4ef6\u3002 \u4f46\u662f\uff0c\u4f60\u53ef\u4ee5\u5728\u51fd\u6570\u5f0f\u7ec4\u4ef6\u5185\u90e8\u4f7f\u7528 ref \uff0c\u53ea\u8981\u5b83\u6307\u5411\u4e00\u4e2a DOM \u5143\u7d20\u6216\u8005 class \u7ec4\u4ef6\uff1a function CustomTextInput(props) { // \u8fd9\u91cc\u5fc5\u987b\u58f0\u660e textInput\uff0c\u8fd9\u6837 ref \u56de\u8c03\u624d\u53ef\u4ee5\u5f15\u7528\u5b83 let textInput = null; function handleClick() { textInput.focus(); } return ( <div> <input type=\"text\" ref={(input) => { textInput = input; }} /> <input type=\"button\" value=\"Focus the text input\" onClick={handleClick} /> </div> ); }","title":"Refs \u4e0e\u51fd\u6570\u5f0f\u7ec4\u4ef6"},{"location":"react/Refs%20%26%20DOM/#dom","text":"\u5728\u6781\u5c11\u6570\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u80fd\u5e0c\u671b\u4ece\u7236\u7ec4\u4ef6\u8bbf\u95ee\u5b50\u8282\u70b9\u7684 DOM \u8282\u70b9\u3002\u901a\u5e38\u4e0d\u5efa\u8bae\u8fd9\u6837\u505a\uff0c\u56e0\u4e3a\u5b83\u4f1a\u7834\u574f\u7ec4\u4ef6\u7684\u5c01\u88c5\uff0c\u4f46\u5076\u5c14\u4e5f\u53ef\u7528\u4e8e\u89e6\u53d1\u7126\u70b9\u6216\u6d4b\u91cf\u5b50 DOM \u8282\u70b9\u7684\u5927\u5c0f\u6216\u4f4d\u7f6e\u3002 \u867d\u7136\u4f60\u53ef\u4ee5 \u5411\u5b50\u7ec4\u4ef6\u6dfb\u52a0 ref \uff0c\u4f46\u8fd9\u4e0d\u662f\u4e00\u4e2a\u7406\u60f3\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u56e0\u4e3a\u4f60\u53ea\u80fd\u83b7\u53d6\u7ec4\u4ef6\u5b9e\u4f8b\u800c\u4e0d\u662f DOM \u8282\u70b9\u3002\u5e76\u4e14\uff0c\u5b83\u8fd8\u5728\u51fd\u6570\u5f0f\u7ec4\u4ef6\u4e0a\u65e0\u6548\u3002 \u5982\u679c\u4f60\u4f7f\u7528 React 16.3 \u6216\u66f4\u9ad8, \u8fd9\u79cd\u60c5\u51b5\u4e0b\u6211\u4eec\u63a8\u8350\u4f7f\u7528 ref \u8f6c\u53d1 \u3002 Ref \u8f6c\u53d1\u4f7f\u7ec4\u4ef6\u53ef\u4ee5\u50cf\u66b4\u9732\u81ea\u5df1\u7684 ref \u4e00\u6837\u66b4\u9732\u5b50\u7ec4\u4ef6\u7684 ref \u3002\u5173\u4e8e\u600e\u6837\u5bf9\u7236\u7ec4\u4ef6\u66b4\u9732\u5b50\u7ec4\u4ef6\u7684 DOM \u8282\u70b9\uff0c \u5728 ref \u8f6c\u53d1\u6587\u6863 \u4e2d\u6709\u4e00\u4e2a\u8be6\u7ec6\u7684\u4f8b\u5b50\u3002 \u5982\u679c\u4f60\u4f7f\u7528 React 16.2 \u6216\u66f4\u4f4e\uff0c\u6216\u8005\u4f60\u9700\u8981\u6bd4 ref \u8f6c\u53d1\u66f4\u9ad8\u7684\u7075\u6d3b\u6027\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 \u8fd9\u4e2a\u66ff\u4ee3\u65b9\u6848 \u5c06 ref \u4f5c\u4e3a\u7279\u6b8a\u540d\u5b57\u7684 prop \u76f4\u63a5\u4f20\u9012\u3002 \u53ef\u80fd\u7684\u8bdd\uff0c\u6211\u4eec\u4e0d\u5efa\u8bae\u66b4\u9732 DOM \u8282\u70b9\uff0c\u4f46\u6709\u65f6\u5019\u5b83\u4f1a\u6210\u4e3a\u6551\u547d\u7a3b\u8349\u3002\u6ce8\u610f\u8fd9\u4e9b\u65b9\u6848\u9700\u8981\u4f60\u5728\u5b50\u7ec4\u4ef6\u4e2d\u589e\u52a0\u4e00\u4e9b\u4ee3\u7801\u3002\u5982\u679c\u4f60\u5bf9\u5b50\u7ec4\u4ef6\u7684\u5b9e\u73b0\u6ca1\u6709\u63a7\u5236\u6743\u7684\u8bdd\uff0c\u4f60\u5269\u4e0b\u7684\u9009\u62e9\u662f\u4f7f\u7528 findDOMNode() \uff0c\u4f46\u662f\u4e0d\u63a8\u8350\u3002","title":"\u5bf9\u7236\u7ec4\u4ef6\u66b4\u9732 DOM \u8282\u70b9"},{"location":"react/Refs%20%26%20DOM/#refs_5","text":"React \u4e5f\u652f\u6301\u53e6\u4e00\u79cd\u8bbe\u7f6e ref \u7684\u65b9\u5f0f\uff0c\u79f0\u4e3a\u201c\u56de\u8c03 ref\u201d\uff0c\u66f4\u52a0\u7ec6\u81f4\u5730\u63a7\u5236\u4f55\u65f6 ref \u88ab\u8bbe\u7f6e\u548c\u89e3\u9664\u3002 \u4e0d\u540c\u4e8e\u4f20\u9012 createRef() \u521b\u5efa\u7684 ref \u5c5e\u6027\uff0c\u4f60\u4f1a\u4f20\u9012\u4e00\u4e2a\u51fd\u6570\u3002\u8fd9\u4e2a\u51fd\u6570\u63a5\u53d7 React \u7ec4\u4ef6\u7684\u5b9e\u4f8b\u6216 HTML DOM \u5143\u7d20\u4f5c\u4e3a\u53c2\u6570\uff0c\u4ee5\u5b58\u50a8\u5b83\u4eec\u5e76\u4f7f\u5b83\u4eec\u80fd\u88ab\u5176\u4ed6\u5730\u65b9\u8bbf\u95ee\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u63cf\u8ff0\u4e86\u4e00\u79cd\u901a\u7528\u7684\u8303\u4f8b\uff1a\u4f7f\u7528 ref \u56de\u8c03\u51fd\u6570\uff0c\u5728\u5b9e\u4f8b\u7684\u5c5e\u6027\u4e2d\u5b58\u50a8\u5bf9 DOM \u8282\u70b9\u7684\u5f15\u7528\u3002 class CustomTextInput extends React.Component { constructor(props) { super(props); this.textInput = null; this.setTextInputRef = element => { this.textInput = element; }; this.focusTextInput = () => { // \u76f4\u63a5\u4f7f\u7528\u539f\u751f API \u4f7f text \u8f93\u5165\u6846\u83b7\u5f97\u7126\u70b9 if (this.textInput) this.textInput.focus(); }; } componentDidMount() { // \u6e32\u67d3\u540e\u6587\u672c\u6846\u81ea\u52a8\u83b7\u5f97\u7126\u70b9 this.focusTextInput(); } render() { // \u4f7f\u7528 `ref` \u7684\u56de\u8c03\u5c06 text \u8f93\u5165\u6846\u7684 DOM \u8282\u70b9\u5b58\u50a8\u5230 React // \u5b9e\u4f8b\u4e0a\uff08\u6bd4\u5982 this.textInput\uff09 return ( <div> <input type=\"text\" ref={this.setTextInputRef} /> <input type=\"button\" value=\"Focus the text input\" onClick={this.focusTextInput} /> </div> ); } } React \u5c06\u5728\u7ec4\u4ef6\u6302\u8f7d\u65f6\u5c06 DOM \u5143\u7d20\u4f20\u5165 ref \u56de\u8c03\u51fd\u6570\u5e76\u8c03\u7528\uff0c\u5f53\u5378\u8f7d\u65f6\u4f20\u5165 null \u5e76\u8c03\u7528\u5b83\u3002 ref \u56de\u8c03\u51fd\u6570\u4f1a\u5728 componentDidMout \u548c componentDidUpdate \u751f\u547d\u5468\u671f\u51fd\u6570\u524d\u88ab\u8c03\u7528 \u4f60\u53ef\u4ee5\u5728\u7ec4\u4ef6\u95f4\u4f20\u9012\u56de\u8c03\u5f62\u5f0f\u7684 refs\uff0c\u5c31\u50cf\u4f60\u53ef\u4ee5\u4f20\u9012\u901a\u8fc7 React.createRef() \u521b\u5efa\u7684\u5bf9\u8c61 refs \u4e00\u6837\u3002 function CustomTextInput(props) { return ( <div> <input ref={props.inputRef} /> </div> ); } class Parent extends React.Component { render() { return ( <CustomTextInput inputRef={el => this.inputElement = el} /> ); } } \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c Parent \u4f20\u9012\u7ed9\u5b83\u7684 ref \u56de\u8c03\u51fd\u6570\u4f5c\u4e3a inputRef \u4f20\u9012\u7ed9 CustomTextInput \uff0c\u7136\u540e CustomTextInput \u901a\u8fc7 ref \u5c5e\u6027\u5c06\u5176\u4f20\u9012\u7ed9 <input> \u3002\u6700\u7ec8\uff0c Parent \u4e2d\u7684 this.inputElement \u5c06\u88ab\u8bbe\u7f6e\u4e3a\u4e0e CustomTextIput \u4e2d\u7684 <input> \u5143\u7d20\u76f8\u5bf9\u5e94\u7684 DOM \u8282\u70b9","title":"\u56de\u8c03 Refs"},{"location":"react/Refs%20%26%20DOM/#apistring-refs","text":"\u5982\u679c\u4f60\u4e4b\u524d\u4f7f\u7528\u8fc7 React \uff0c\u4f60\u53ef\u80fd\u4e86\u89e3\u8fc7\u4e4b\u524d\u7684API\u4e2d\u7684 string \u7c7b\u578b\u7684 ref \u5c5e\u6027\uff0c\u6bd4\u5982 \u201ctextInput\u201d \uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 this.refs.textInput \u8bbf\u95eeDOM\u8282\u70b9\u3002\u6211\u4eec\u4e0d\u5efa\u8bae\u4f7f\u7528\u5b83\uff0c\u56e0\u4e3a String \u7c7b\u578b\u7684 refs \u5b58\u5728\u95ee\u9898 \u3002\u5b83\u5df2\u8fc7\u65f6\u5e76**\u53ef\u80fd\u4f1a\u5728\u672a\u6765\u7684\u7248\u672c\u88ab\u79fb\u9664**\u3002\u5982\u679c\u4f60\u76ee\u524d\u8fd8\u5728\u4f7f\u7528 this.refs.textInput \u8fd9\u79cd\u65b9\u5f0f\u8bbf\u95ee refs \uff0c\u6211\u4eec\u5efa\u8bae\u7528\u56de\u8c03\u51fd\u6570\u7684\u65b9\u5f0f\u4ee3\u66ff\u3002","title":"\u65e7\u7248 API\uff1aString \u7c7b\u578b\u7684 Refs"},{"location":"react/Refs%20%26%20DOM/#_1","text":"\u5982\u679c ref \u56de\u8c03\u4ee5\u5185\u8054\u51fd\u6570\u7684\u65b9\u5f0f\u5b9a\u4e49\uff0c\u5728\u66f4\u65b0\u671f\u95f4\u5b83\u4f1a\u88ab\u8c03\u7528\u4e24\u6b21\uff0c\u7b2c\u4e00\u6b21\u53c2\u6570\u662f null \uff0c\u4e4b\u540e\u53c2\u6570\u662f DOM \u5143\u7d20\u3002\u8fd9\u662f\u56e0\u4e3a\u5728\u6bcf\u6b21\u6e32\u67d3\u4e2d\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\u5b9e\u4f8b\u3002\u56e0\u6b64\uff0cReact \u9700\u8981\u6e05\u7406\u65e7\u7684 ref \u5e76\u4e14\u8bbe\u7f6e\u65b0\u7684\u3002\u901a\u8fc7\u5c06 ref \u7684\u56de\u8c03\u51fd\u6570\u5b9a\u4e49\u6210\u7c7b\u7684\u7ed1\u5b9a\u51fd\u6570\u7684\u65b9\u5f0f\u53ef\u4ee5\u907f\u514d\u4e0a\u8ff0\u95ee\u9898\uff0c\u4f46\u662f\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u65e0\u5173\u7d27\u8981\u3002","title":"\u6ce8\u610f"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/","text":"React16\u65b0\u7684getDerivedStateFromProps\u7684\u4f7f\u7528 \u00b6 \u5728\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c componentWillReceiveProps \u662f\u5728\u6ca1\u6709\u9644\u52a0\u6e32\u67d3\u7684\u60c5\u51b5\u4e0b\u66f4\u65b0\u72b6\u6001\u7684\u552f\u4e00\u65b9\u6cd5\u3002\u5728\u7248\u672c16.3\u4e2d\uff0c\u6211\u4eec\u5f15\u5165\u4e86\u4e00\u4e2a\u5168\u65b0\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\u2014\u2014 getDerivedStateFromProps \u2014\u2014\u7528\u6765\u66ff\u6362 componentWillReceiveProps \uff0c\u5e76\u7528\u66f4\u5b89\u5168\u7684\u65b9\u5f0f\u5904\u7406\u76f8\u540c\u7684\u573a\u666f\u3002\u4e0e\u6b64\u540c\u65f6\uff0c\u6211\u4eec\u610f\u8bc6\u5230\u4eba\u4eec\u5bf9\u5982\u4f55\u4f7f\u7528\u8fd9\u4e24\u79cd\u65b9\u6cd5\u6709\u5f88\u591a\u8bef\u89e3\uff0c\u6211\u4eec\u53d1\u73b0\u4e86\u4e00\u4e9b\u53cd\u6a21\u5f0f\uff0c\u8fd9\u4e9b\u9519\u8bef\u5bfc\u81f4\u4e86\u5fae\u5999\u800c\u4ee4\u4eba\u56f0\u60d1\u7684bug\u3002\u572816.4\u4e2d\uff0c\u6709\u5173 getDerivedStateFromProps \u7684\u4fee\u590d\u4f7f\u5f97\u6d3e\u751f\u72b6\u6001\u66f4\u52a0\u53ef\u9884\u6d4b\uff0c\u56e0\u6b64\u9519\u8bef\u4f7f\u7528\u7684\u7ed3\u679c\u66f4\u5bb9\u6613\u88ab\u6ce8\u610f\u5230\u3002 \u6ce8\u610f \u8fd9\u7bc7\u6587\u7ae0\u4e2d\u63cf\u8ff0\u7684\u6240\u6709\u53cd\u6a21\u5f0f\u90fd\u9002\u7528\u4e8e\u8f83\u8001\u7684 componentWillReceiveProps \u548c\u8f83\u65b0\u7684 getDerivedStateFromProps . \u8fd9\u7bc7\u535a\u5ba2\u6587\u7ae0\u5c06\u4ecb\u7ecd\u4ee5\u4e0b\u4e3b\u9898\uff1a \u4f55\u65f6\u4f7f\u7528\u6d3e\u751f\u72b6\u6001 \u4f7f\u7528\u6d3e\u751f\u7c7b\u9047\u5230\u7684\u5e38\u89c1bug \u53cd\u6a21\u5f0f\uff1a\u65e0\u6761\u4ef6\u5f97\u4f7f\u7528props\u5bf9state\u8d4b\u503c \u53cd\u6a21\u5f0f\uff1a\u5f53props\u6539\u53d8\u65f6\u6e05\u9664state \u9996\u9009\u65b9\u6848 \u4ec0\u4e48\u662fmemoization? \u4f55\u65f6\u4f7f\u7528\u6d3e\u751f\u72b6\u6001 \u00b6 getDerivedStateFromProps \u7684\u5b58\u5728\u53ea\u6709\u4e00\u4e2a\u76ee\u7684\u3002\u5b83\u4f7f\u7ec4\u4ef6\u80fd\u591f\u6839\u636e**changes in props**\u7684\u7ed3\u679c\u66f4\u65b0\u5176\u5185\u90e8\u72b6\u6001\u3002 \u6839\u636e\u4e00\u822c\u89c4\u5219\u2014\u2014 \u8c28\u614e\u4f7f\u7528\u6d3e\u751f\u72b6\u6001 \uff0c\u6211\u4eec\u6ca1\u6709\u63d0\u4f9b\u5f88\u591a\u4f8b\u5b50\u3002\u6211\u4eec\u6240\u770b\u5230\u7684\u6709\u5173\u6d3e\u751f\u72b6\u6001\u7684\u6240\u6709\u95ee\u9898\u6700\u7ec8\u90fd\u53ef\u4ee5\u5f52\u7ed3\u4e3a\uff081\uff09\u65e0\u6761\u4ef6\u5730\u66f4\u65b0\u72b6\u6001\uff0c\u6216\u8005\uff082\uff09\u5f53props\u548cstate\u4e0d\u5339\u914d\u65f6\u66f4\u65b0state\u3002\uff08\u6211\u4eec\u5c06\u5728\u4e0b\u9762\u8be6\u7ec6\u8ba8\u8bba\u8fd9\u4e24\u4e2a\u95ee\u9898\u3002\uff09 \u4f7f\u7528\u6d3e\u751f\u72b6\u6001\u9047\u5230\u7684\u5e38\u89c1bug \u00b6 \u201c\u53d7\u63a7\u201d\u548c\u201c\u4e0d\u53d7\u63a7\u5236\u201d\u7684\u672f\u8bed\u901a\u5e38\u6307\u7684\u662f\u8868\u5355\u8f93\u5165\uff0c\u4f46\u4ed6\u4eec\u8fd8\u53ef\u4ee5\u63cf\u8ff0\u4efb\u4f55\u7ec4\u4ef6\u6570\u636e\u7684\u4f4d\u7f6e\u3002\u4f5c\u4e3aprops\u4f20\u9012\u8fdb\u7ec4\u4ef6\u7684\u6570\u636e\u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f**\u53d7\u63a7\u7684**\uff08\u56e0\u4e3a\u7236\u7ec4\u4ef6\u63a7\u5236\u6570\u636e\uff09\u3002\u53ea\u5b58\u5728\u4e8e\u5185\u90e8\u72b6\u6001\u7684\u6570\u636e\u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f**\u4e0d\u53d7\u63a7\u5236\u7684**\uff08\u56e0\u4e3a\u7236\u7c7b\u4e0d\u80fd\u76f4\u63a5\u66f4\u6539\u5b83\uff09\u3002 \u6d3e\u751f\u72b6\u6001\u6700\u5e38\u89c1\u7684\u9519\u8bef\u662f\u6df7\u5408\u8fd9\u4e24\u4e2a;\u5f53\u4e00\u4e2a\u6d3e\u751f\u72b6\u6001\u503c\u4e5f\u901a\u8fc7 setState \u88ab\u66f4\u65b0\u65f6\uff0c\u6570\u636e\u5c31\u6ca1\u6709\u5355\u4e00\u7684\u771f\u5b9e\u6765\u6e90\u3002 \u5f53\u8fd9\u4e9b\u7ea6\u675f\u88ab\u6539\u53d8\u65f6\uff0c\u5c31\u4f1a\u51fa\u73b0\u95ee\u9898\u3002\u8fd9\u901a\u5e38\u6709\u4e24\u79cd\u5f62\u5f0f\u3002\u8ba9\u6211\u4eec\u6765\u770b\u770b\u8fd9\u4e24\u79cd\u60c5\u51b5\u3002 \u53cd\u6a21\u5f0f\uff1a\u65e0\u6761\u4ef6\u5f97\u4f7f\u7528props\u5bf9state\u8d4b\u503c \u00b6 \u4e00\u4e2a\u5e38\u89c1\u7684\u8bef\u89e3\u662f\uff0c\u5f53props\u201c\u6539\u53d8\u201d\u65f6\uff0c getDerivedStateFromProps \u548c componentWillReceiveProps \u624d\u4f1a\u88ab\u8c03\u7528\u3002\u4e8b\u5b9e\u4e0a\uff0c\u53ea\u8981\u7236\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\uff0c\u8fd9\u4e9b\u751f\u547d\u5468\u671f\u51fd\u6570\u5c31\u4f1a\u88ab\u8c03\u7528\uff0c\u4e0d\u7ba1\u8fd9\u4e9bprops\u662f\u5426\u4e0e\u4ee5\u524d\u201c\u4e0d\u540c\u201d\u3002\u6b63\u56e0\u4e3a\u5982\u6b64\uff0c\u4f7f\u7528\u4efb\u4f55\u4e00\u4e2a\u53bb \u65e0\u6761\u4ef6 \u5730\u8986\u76d6\u8986\u76d6state\u90fd\u662f\u4e0d\u5b89\u5168\u7684\u3002 \u8fd9\u6837\u505a\u4f1a\u5bfc\u81f4\u72b6\u6001\u66f4\u65b0\u4e22\u5931\u3002 \u8ba9\u6211\u4eec\u770b\u4e2a\u4f8b\u5b50\u6765\u8bf4\u660e\u8fd9\u4e2a\u95ee\u9898\u3002\u8fd9\u662f\u4e00\u4e2a EmailInput \u7ec4\u4ef6\uff0c\u8be5\u7ec4\u4ef6\u901a\u8fc7props \u201cemail\u201d \u6765\u6620\u5c04state \u201cemail\u201d\uff1a class EmailInput extends Component { state = { email : this . props . email }; render () { return < input onChange = { this . handleChange } value = { this . state . email } /> ; } handleChange = event => { this . setState ({ email : event . target . value }); }; componentWillReceiveProps ( nextProps ) { // This will erase any local state updates! // Do not do this. this . setState ({ email : nextProps . email }); } } \u8fd9\u4e2a\u7ec4\u4ef6\u53ef\u80fd\u770b\u8d77\u6765\u4e0d\u9519\u3002state\u88ab\u521d\u59cb\u5316\u4e3a\u7531props\u6307\u5b9a\u7684\u503c\uff0c\u5e76\u4e14\u5728\u8f93\u5165 \u65f6\u5b9e\u65f6\u66f4\u65b0state\u3002\u4f46\u662f\uff0c\u5982\u679c\u6211\u4eec\u7684\u7ec4\u4ef6\u7684\u7236\u7c7b\u91cd\u65b0\u6e32\u67d3\uff0c\u6211\u4eec\u5728 \u8f93\u5165\u7684\u4efb\u4f55\u4e1c\u897f\u90fd\u5c06\u4e22\u5931\uff01\uff08 \u53c2\u89c1\u8fd9\u4e2a\u6f14\u793a\u793a\u4f8b\u3002 \uff09\u5373\u4f7f\u6211\u4eec\u5728\u91cd\u7f6e\u4e4b\u524d\u6bd4\u8f83 nextProps.email !== this.state.email \uff0c\u4e5f\u4e00\u6837\u3002 \u5728\u8fd9\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u4e2d\uff0c\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5fc5\u987b\u901a\u8fc7\u6dfb\u52a0 shouldComponentUpdate \uff0c\u5e76\u5224\u65ad\u53ea\u6709prop email\u53d1\u751f\u6539\u53d8\u65f6\u624d\u91cd\u65b0\u6e32\u67d3\u3002\u7136\u800c\u5728\u5b9e\u9645\u60c5\u51b5\u4e2d\uff0c\u7ec4\u4ef6\u901a\u5e38\u63a5\u53d7\u591a\u4e2aprop;\u4efb\u4f55\u4e00\u4e2aprop\u53d1\u751f\u6539\u53d8\u90fd\u4f1a\u5bfc\u81f4\u91cd\u65b0\u8fd0\u884c\u548c\u4e0d\u6b63\u786e\u7684\u91cd\u7f6e\u3002\u800c\u4e14\u5bf9\u4e8eFunction\u548cobject\u7c7b\u578b\u7684prop\uff0c shouldComponentUpdate \u5f88\u96be\u5224\u65ad\u662f\u5426\u53d1\u751f\u4e86\u5b9e\u8d28\u6027\u7684\u53d8\u5316\u3002 \u8fd9\u91cc\u6709\u4e00\u4e2a\u6f14\u793a \uff0c shouldComponentUpdate \u6700\u597d\u4f5c\u4e3a\u6027\u80fd\u4f18\u5316\u4f7f\u7528\uff0c\u800c\u4e0d\u662f\u4e3a\u4e86\u786e\u4fdd\u6d3e\u751f\u72b6\u6001\u7684\u6b63\u786e\u6027\u3002 \u5e0c\u671b\u4f60\u73b0\u5728\u53ef\u4ee5\u6e05\u695a\u5730\u77e5\u9053\u4e3a\u4ec0\u4e48**\u65e0\u6761\u4ef6\u5f97\u4f7f\u7528props\u5bf9state\u8d4b\u503c\u662f\u4e00\u4e2a\u574f\u4e3b\u610f**\u3002\u5728\u56de\u987e\u53ef\u80fd\u7684\u89e3\u51b3\u65b9\u6848\u4e4b\u524d\uff0c\u8ba9\u6211\u4eec\u770b\u770b\u4e00\u4e2a\u4e8e\u6b64\u76f8\u5173\u7684\u53e6\u5916\u4e00\u4e2a\u95ee\u9898\u6a21\u5f0f\uff1a\u5982\u679c\u6211\u4eec\u53ea\u5728\u5c5e\u6027email\u6539\u53d8\u65f6\u66f4\u65b0\u72b6\u6001\u4f1a\u600e\u6837\uff1f \u53cd\u6a21\u5f0f\uff1a\u5f53props\u6539\u53d8\u65f6\u6e05\u9664state \u00b6 \u7ee7\u7eed\u4e0a\u8fb9\u7684\u4f8b\u5b50\uff0c\u6211\u4eec\u5224\u65ad\u53ea\u6709\u5f53 props.email \u53d1\u751f\u6539\u53d8\u65f6\u624d\u53bb\u6267\u884c\u66f4\u65b0\uff0c\u4ee5\u6b64\u6765\u907f\u514d\u72b6\u6001\u88ab\u6e05\u9664\uff1a class EmailInput extends Component { state = { email : this . props . email }; componentWillReceiveProps ( nextProps ) { // Any time props.email changes, update state. if ( nextProps . email !== this . props . email ) { this . setState ({ email : nextProps . email }); } } // ... } \u6ce8\u610f \u5c3d\u7ba1\u4e0a\u9762\u7684\u793a\u4f8b\u663e\u793a\u4e86 componentWillReceiveProps \uff0c\u4f46\u540c\u6837\u7684\u53cd\u6a21\u5f0f\u4e5f\u9002\u7528\u4e8e getDerivedStateFromProps \u6211\u4eec\u521a\u521a\u53d6\u5f97\u4e86\u5f88\u5927\u7684\u8fdb\u6b65\u3002\u73b0\u5728\uff0c\u53ea\u6709\u5f53props\u771f\u6b63\u6539\u53d8\u7684\u65f6\u5019,\u7ec4\u4ef6\u624d\u4f1a\u64e6\u9664\u6211\u4eec\u8f93\u5165\u7684\u5185\u5bb9\u3002 \u73b0\u5728\u51fa\u73b0\u4e86\u4e00\u4e2a\u5fae\u5999\u7684\u95ee\u9898\u3002\u60f3\u8c61\u4e00\u4e2a\u4f7f\u7528\u4e0a\u8ff0\u8f93\u5165\u7ec4\u4ef6\u7684\u5bc6\u7801\u7ba1\u7406\u5668\u5e94\u7528\u7a0b\u5e8f\u3002\u5f53\u4f7f\u7528\u76f8\u540c\u7684\u7535\u5b50\u90ae\u4ef6\u5728\u4e24\u4e2a\u5e10\u6237\u7684\u8be6\u7ec6\u4fe1\u606f\u4e4b\u95f4\u5bfc\u822a\u65f6\uff0c\u8f93\u5165\u5c06\u65e0\u6cd5\u91cd\u7f6e\u3002\u8fd9\u662f\u56e0\u4e3a\u4f20\u9012\u7ed9\u7ec4\u4ef6\u7684\u5c5e\u6027\u503c\u5bf9\u4e8e\u4e24\u4e2a\u5e10\u6237\u90fd\u662f\u76f8\u540c\u7684\uff01\u8fd9\u5bf9\u7528\u6237\u6765\u8bf4\u662f\u4e00\u4e2a\u60ca\u559c\uff0c\u56e0\u4e3a\u4e00\u4e2a\u8d26\u6237\u7684\u672a\u4fdd\u5b58\u7684\u53d8\u66f4\u4f3c\u4e4e\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u7684\u5e10\u6237\uff0c\u8fd9\u4e9b\u5e10\u6237\u78b0\u5de7\u5171\u4eab\u76f8\u540c\u7684\u7535\u5b50\u90ae\u4ef6\u3002 \u8fd9\u79cd\u8bbe\u8ba1\u4ece\u6839\u672c\u4e0a\u6765\u8bf4\u662f\u6709\u7f3a\u9677\u7684\uff0c\u4f46\u8fd9\u5374\u662f\u4e00\u4e2a\u6781\u6613\u72af\u7684\u9519\u8bef\u3002\u5e78\u8fd0\u7684\u662f\uff0c\u6709\u4e24\u79cd\u66ff\u4ee3\u65b9\u6848\u53ef\u4ee5\u66f4\u597d\u5730\u5de5\u4f5c\u3002\u4e24\u79cd\u65b9\u6848\u7684\u5173\u952e\u5728\u4e8e\u2014\u2014\u5bf9\u4e8e\u4efb\u4f55\u6570\u636e\uff0c\u60a8\u90fd\u9700\u8981\u786e\u4fdd\u53ea\u6709\u4e00\u4e2a\u7ec4\u4ef6\u4f5c\u4e3a\u5b9e\u9645\u7684\u6765\u6e90\uff0c\u5e76\u907f\u514d\u5728\u5176\u4ed6\u7ec4\u4ef6\u4e2d\u590d\u5236\u5b83\u3002\u73b0\u5728\u6765\u770b\u4e00\u4e0b\u8fd9\u4e24\u79cd\u65b9\u6848\u3002 \u9996\u9009\u65b9\u6848 \u00b6 \u63a8\u8350: \u5b8c\u5168\u53d7\u63a7\u7ec4\u4ef6 \u00b6 \u907f\u514d\u4e0a\u9762\u63d0\u5230\u7684\u95ee\u9898\u7684\u4e00\u79cd\u65b9\u6cd5\u662f\u5f7b\u5e95\u4ece\u7ec4\u4ef6\u4e2d\u5220\u9664\u72b6\u6001\u3002\u5982\u679c\"\u90ae\u4ef6\u5730\u5740\"\u53ea\u662f\u4f5c\u4e3a\u5c5e\u6027\u5b58\u5728\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u4e0d\u5fc5\u62c5\u5fc3\u4e0e\u72b6\u6001\u7684\u51b2\u7a81\u3002\u6211\u4eec\u751a\u81f3\u53ef\u4ee5\u628a EmailInput \u8f6c\u6362\u6210\u8f7b\u91cf\u7684\u51fd\u6570\u7ec4\u4ef6\uff1a function EmailInput ( props ) { return < input onChange = { props . onChange } value = { props . email } /> ; } 123 \u8fd9\u79cd\u65b9\u6cd5\u7b80\u5316\u4e86\u7ec4\u4ef6\u7684\u5b9e\u73b0\uff0c\u4f46\u662f\u5982\u679c\u6211\u4eec\u4ecd\u7136\u60f3\u8981\u50a8\u5b58\u4e00\u4e2a\u4e2d\u95f4\u503c\uff08draft value\uff09\uff0c\u90a3\u4e48\u7236\u8868\u5355\u7ec4\u4ef6\u73b0\u5728\u5c31\u53ea\u80fd\u624b\u52a8\u5b8c\u6210\u8fd9\u4ef6\u4e8b\u3002 \u63a8\u8350: \u6709\"key\"\u7684\u5b8c\u5168\u975e\u53d7\u63a7\u7ec4\u4ef6 \u00b6 \u53e6\u4e00\u79cd\u65b9\u6848\u662f\uff0c\u8ba9\u7ec4\u4ef6\u5b8c\u5168\u62e5\u6709\u4e2d\u95f4\u7684email\u72b6\u6001\uff08draft email state\uff09\u3002\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u7684\u7ec4\u4ef6\u4ecd\u7136\u63a5\u6536\u4e00\u4e2a\u5c5e\u6027\u7528\u6765\u8bbe\u7f6eemail\u7684\u521d\u59cb\u503c\uff0c\u4f46\u662f\u5374\u65e0\u6cd5\u63a5\u6536\u8fd9\u4e2a\u5c5e\u6027\u4e4b\u540e\u7684\u53d8\u5316\uff1a class EmailInput extends Component { state = { email : this . props . defaultEmail }; handleChange = event => { this . setState ({ email : event . target . value }); }; render () { return < input onChange = { this . handleChange } value = { this . state . email } /> ; } } \u4e3a\u4e86\u5728\u79fb\u52a8\u5230\u53e6\u4e00\u9879\uff08\u5982\u5bc6\u7801\u7ba1\u7406\u5668\u573a\u666f\uff09\u65f6\u53ef\u4ee5\u91cd\u65b0\u8d4b\u503c\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u201ckey\u201d\u8fd9\u4e2aReact\u7684\u7279\u6b8a\u5c5e\u6027\u3002\u5f53\u4e00\u4e2a\u201ckey\u201d\u53d1\u751f\u53d8\u5316\u65f6\uff0cReact\u5c06\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u800c\u4e0d\u662f\u66f4\u65b0\u5f53\u524d\u7684\u4e00\u4e2a\u5b9e\u4f8b\u3002\u201ckey\u201d\u901a\u5e38\u7528\u4e8e\u52a8\u6001\u5217\u8868\uff0c\u4f46\u5728\u8fd9\u91cc\u4e5f\u5f88\u6709\u7528\u3002\u5728\u6211\u4eec\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7528\u6237ID\u5728\u65b0\u7528\u6237\u88ab\u9009\u4e2d\u65f6\u91cd\u65b0\u521b\u5efa\"EmailInput\"\uff1a < EmailInput defaultEmail = { this . props . user . email } key = { this . props . user . id } /> \u6bcf\u5f53ID\u6539\u53d8\u65f6\uff0c EmailInput \u5c06\u88ab\u91cd\u65b0\u521b\u5efa\uff0c\u5b83\u7684\u72b6\u6001\u5c06\u88ab\u91cd\u7f6e\u4e3a\u6700\u65b0\u7684 defaultEmail \u503c( \u793a\u4f8b )\u3002\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\uff0c\u60a8\u4e0d\u9700\u8981\u5411\u6bcf\u4e2a\u8f93\u5165\u9879\u6dfb\u52a0 key \u3002\u628a key \u653e\u5728\u6574\u4e2a\u8868\u5355\u4e0a\u53ef\u80fd\u66f4\u6709\u610f\u4e49\u3002\u6bcf\u6b21\u6539\u53d8\u65f6\uff0c\u8868\u5355\u4e2d\u7684\u6240\u6709\u7ec4\u4ef6\u90fd\u5c06\u7528\u4e00\u4e2a\u65b0\u521d\u59cb\u5316\u7684\u72b6\u6001\u91cd\u65b0\u521b\u5efa\u3002 \u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8fd9\u662f\u5904\u7406\u6709\u91cd\u7f6e\u8981\u6c42\u7684\u72b6\u6001\u7684\u6700\u597d\u65b9\u6cd5\u3002 \u6ce8\u610f \u8fd9\u770b\u8d77\u6765\u4f3c\u4e4e\u4f1a\u53d8\u6162\uff0c\u4e0d\u8fc7\u8fd9\u70b9\u6027\u80fd\u5dee\u5f02\u901a\u5e38\u60c5\u51b5\u662f\u65e0\u5173\u7d27\u8981\u7684\uff08\u539f\u6587\uff1aWhile this may sound slow, the performance difference is usually insignificant\uff09\u3002\u76f8\u53cd\uff0c\u5982\u679c\u7ec4\u4ef6\u5177\u6709\u5728\u66f4\u65b0\u4e0a\u8fd0\u884c\u7684\u91cd\u903b\u8f91\uff0c\u5219\u4f7f\u7528\u201ckey\u201d\u751a\u81f3\u53ef\u4ee5\u66f4\u5feb\uff0c\u56e0\u4e3a\u8be5\u5b50\u6811\u7684diff\u8fd0\u7b97\u88ab\u7701\u7565\u4e86\u3002 \u5907\u9009 1: \u901a\u8fc7ID\u5c5e\u6027\u91cd\u7f6e\u975e\u53d7\u63a7\u7ec4\u4ef6 \u00b6 \u5982\u679c key \u65b9\u6848\u7531\u4e8e\u67d0\u4e9b\u539f\u56e0\u4e0d\u4fbf\u4f7f\u7528\uff08\u6bd4\u5982\u7ec4\u4ef6\u7684\u521d\u59cb\u5316\u975e\u5e38\u6602\u8d35\uff09\uff0c\u4e00\u4e2a\u53ef\u884c\u4f46\u6709\u70b9\u9ebb\u70e6\u7684\u89e3\u51b3\u65b9\u6848\u662f\u5728 getDerivedStateFromProps \u4e2d\u89c2\u5bdf\u201cuserID\u201d\u7684\u53d8\u5316\uff1a class EmailInput extends Component { state = { email : this . props . defaultEmail , prevPropsUserID : this . props . userID }; static getDerivedStateFromProps ( props , state ) { // Any time the current user changes, // Reset any parts of state that are tied to that user. // In this simple example, that's just the email. if ( props . userID !== state . prevPropsUserID ) { return { prevPropsUserID : props . userID , email : props . defaultEmail }; } return null ; } // ... } 123456789101112131415161718192021 \u8fd9\u4e5f\u63d0\u4f9b\u4e86\u53e6\u4e00\u79cd\u7075\u6d3b\u7684\u5904\u7406\u65b9\u6848\uff0c\u6211\u4eec\u53ef\u4ee5\u6709\u9009\u62e9\u7684\uff0c\u53ea\u91cd\u7f6e\u7ec4\u4ef6\u5185\u90e8\u7684\u67d0\u4e9b\u72b6\u6001\u3002( \u793a\u4f8b ) \u6ce8\u610f \u867d\u7136\u4e0a\u8fb9\u7684\u793a\u4f8b\u4f7f\u7528\u7684\u662f getDerivedStateFromProps \uff0c\u5bf9\u4e8e componentWillReceiveProps \u4e5f\u540c\u6837\u6709\u6548 \u5907\u9009 2: \u901a\u8fc7\u5b9e\u4f8b\u65b9\u6cd5\u91cd\u7f6e\u975e\u53d7\u63a7\u7ec4\u4ef6 \u00b6 \u6bd4\u8f83\u4e0d\u5e38\u89c1\u7684\u60c5\u51b5\u662f\uff0c\u60a8\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\u72b6\u6001\uff0c\u5374\u6ca1\u6709\u5408\u9002\u7684ID\u4f5c\u4e3a key \u3002\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\u662f\u5728\u6bcf\u6b21\u60f3\u8981\u91cd\u7f6e\u7684\u65f6\u5019\uff0c\u5c06\u201ckey\u201d\u91cd\u7f6e\u4e3a\u4e00\u4e2a\u968f\u673a\u503c\u6216\u81ea\u52a8\u9012\u589e\u7684\u6570\u5b57\u3002\u53e6\u4e00\u79cd\u53ef\u884c\u7684\u66ff\u4ee3\u65b9\u6cd5\u662f\u516c\u5f00\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u4ee5\u5f3a\u5236\u91cd\u7f6e\u5185\u90e8\u72b6\u6001\uff1a class EmailInput extends Component { state = { email : this . props . defaultEmail }; resetEmailForNewUser ( newEmail ) { this . setState ({ email : newEmail }); } // ... } \u7236\u7ea7\u8868\u5355\u7ec4\u4ef6\u53ef\u4ee5\u901a\u8fc7ref\u8c03\u7528\u8be5\u65b9\u6cd5 \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0cRefs\u53ef\u80fd\u4f1a\u5f88\u6709\u7528\uff0c\u4f46\u4e00\u822c\u6765\u8bf4\uff0c\u6211\u4eec\u5efa\u8bae\u60a8\u8c28\u614e\u5730\u4f7f\u7528\u5b83\u4eec\u3002\u5373\u4f7f\u5728\u793a\u4f8b\u4e2d\uff0c\u8fd9\u79cd\u547d\u4ee4\u5f0f\u65b9\u6cd5\u4e5f\u662f\u4e0d\u7406\u60f3\u7684\uff0c\u56e0\u4e3a\u8981\u53d1\u751f\u4e24\u6b21\u6e32\u67d3\u3002 \u56de\u987e \u00b6 \u56de\u987e\u4e00\u4e0b\uff0c\u5728\u8bbe\u8ba1\u7ec4\u4ef6\u65f6\uff0c\u6700\u91cd\u8981\u7684\u662f\u51b3\u5b9a\u5b83\u7684\u6570\u636e\u662f\u5426\u9700\u8981\u88ab\u63a7\u5236\u3002 \u4e0e\u5176\u5c1d\u8bd5\u5728\u72b6\u6001\u4e2d**\u955c\u50cf\u4e00\u4e2a\u5c5e\u6027\u503c\uff0c\u4e0d\u5982\u8ba9\u7ec4\u4ef6\u88ab\u63a7\u5236**\uff0c\u5e76\u5728\u67d0\u4e9b\u7236\u7ec4\u4ef6\u7684\u72b6\u6001\u4e2d\u5408\u5e76\u4e24\u4e2a\u4e0d\u540c\u7684\u503c\u3002\u4f8b\u5982\uff0c\u4e0e\u5176\u8ba9\u5b50\u7ec4\u4ef6\u65e2\u63a5\u6536\u4e00\u4e2a\u201ccommitted\u201d\u5c5e\u6027\u53c8\u8981\u7ef4\u62a4\u4e00\u4e2a\u201cdraft\u201d\u7684\u72b6\u6001\uff0c\u4e0d\u5982\u8ba9\u7236\u7ea7\u7ec4\u4ef6\u540c\u65f6\u7ba1\u7406\u4e24\u4e2a\u72b6\u6001\u2014\u2014 state.committedValue \u548c state.draftValue \u2014\u2014\u76f4\u63a5\u63a7\u5236\u5b50\u7ec4\u4ef6\u7684\u503c\u3002\u8fd9\u4f7f\u5f97\u6570\u636e\u6d41\u66f4\u52a0\u6e05\u6670\u548c\u53ef\u9884\u6d4b\u3002 \u5bf9\u4e8e**\u975e\u53d7\u63a7**\u7684\u7ec4\u4ef6\uff0c\u5982\u679c\u60a8\u8bd5\u56fe\u5728\u67d0\u7279\u5b9a\u7684\u5c5e\u6027\uff08\u901a\u5e38\u662fID\uff09\u66f4\u6539\u65f6\u91cd\u7f6e\u72b6\u6001\uff0c\u90a3\u4e48\u60a8\u6709\u51e0\u4e2a\u9009\u9879\uff1a \u63a8\u8350\uff1a\u5982\u679c\u8981\u91cd\u7f6e\u5168\u90e8\u5185\u90e8\u72b6\u6001\uff0c\u4f7f\u7528 key \u7279\u6027 \u5907\u9009 1\uff1a\u53ea\u91cd\u7f6e\u67d0\u4e9b\u7279\u5b9a\u7684\u72b6\u6001\u5b57\u6bb5\uff0c\u5173\u6ce8\u7279\u5b9a\u5c5e\u6027\u7684\u66f4\u6539\uff08\u4f8b\u5982 props.userID )\u3002 \u5907\u9009 2\uff1a\u60a8\u8fd8\u53ef\u4ee5\u8003\u8651\u4f7f\u7528refs\u8c03\u7528\u4e00\u4e2a\u547d\u4ee4\u5f0f\u5b9e\u4f8b\u65b9\u6cd5\u3002 \u4ec0\u4e48\u662fmemoization? \u00b6 \u6d3e\u751f\u72b6\u6001\u53ef\u7528\u4e8e\u786e\u4fdd\u6267\u884c render \u65f6\u4f7f\u7528\u7684\u503c\u4ec5\u5728\u8f93\u5165\u53d1\u751f\u53d8\u5316\u65f6\u624d\u4f1a\u91cd\u65b0\u8ba1\u7b97\u3002\u8fd9\u79cd\u6280\u672f\u88ab\u79f0\u4e3a memoization \u3002 \u4f7f\u7528\u6d3e\u751f\u72b6\u6001\u8fdb\u884c\u8bb0\u5fc6\u5e76\u4e0d\u4e00\u5b9a\u662f\u4e0d\u597d\u7684\uff0c\u4f46\u5b83\u901a\u5e38\u4e0d\u662f\u6700\u597d\u7684\u89e3\u51b3\u65b9\u6848\u3002\u7ba1\u7406\u6d3e\u751f\u72b6\u6001\u5b58\u5728\u4e00\u5b9a\u7684\u590d\u6742\u6027\uff0c\u5e76\u4e14\u8fd9\u79cd\u590d\u6742\u6027\u4f1a\u968f\u7740\u9644\u52a0\u5c5e\u6027\u800c\u589e\u52a0\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6211\u4eec\u5411\u7ec4\u4ef6\u72b6\u6001\u6dfb\u52a0\u7b2c\u4e8c\u4e2a\u6d3e\u751f\u5b57\u6bb5\uff0c\u90a3\u4e48\u6211\u4eec\u7684\u5b9e\u73b0\u5c06\u9700\u8981\u5206\u522b\u8ddf\u8e2a\u4e24\u8005\u7684\u66f4\u6539\u3002 \u6211\u4eec\u6765\u770b\u4e00\u4e2a\u4f8b\u5b50\uff0c\u8fd9\u4e2a\u7ec4\u4ef6\u5e26\u6709\u4e00\u4e2aprop\uff08\u4e00\u4e2a\u9879\u76ee\u5217\u8868\uff09\uff0c\u5e76\u5448\u73b0\u4e0e\u7528\u6237\u8f93\u5165\u7684\u641c\u7d22\u67e5\u8be2\u5339\u914d\u7684\u9879\u76ee\u3002 \u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u6d3e\u751f\u72b6\u6001\u6765\u5b58\u50a8\u8fc7\u6ee4\u540e\u7684\u5217\u8868\uff1a class Example extends Component { state = { filterText : \"\" , }; // ******************************************************* // NOTE: this example is NOT the recommended approach. // See the examples below for our recommendations instead. // ******************************************************* static getDerivedStateFromProps ( props , state ) { // Re-run the filter whenever the list array or filter text change. // Note we need to store prevPropsList and prevFilterText to detect changes. if ( props . list !== state . prevPropsList || state . prevFilterText !== state . filterText ) { return { prevPropsList : props . list , prevFilterText : state . filterText , filteredList : props . list . filter ( item => item . text . includes ( state . filterText )) }; } return null ; } handleChange = event => { this . setState ({ filterText : event . target . value }); }; render () { return ( < Fragment > < input onChange = { this . handleChange } value = { this . state . filterText } /> < ul > { this . state . filteredList . map ( item => < li key = { item . id } > { item . text } < /li>)}</ul> < /Fragment> ); } } \u8fd9\u4e2a\u5b9e\u73b0\u907f\u514d\u4e86\u4e0d\u5fc5\u8981\u7684\u91cd\u65b0\u8ba1\u7b97 filteredList \u3002\u4f46\u6211\u4eec\u5374\u505a\u5f88\u591a\u5570\u55e6\u7684\u5de5\u4f5c\uff0c\u56e0\u4e3a\u5b83\u5fc5\u987b\u5206\u522b\u8ddf\u8e2a\u548c\u68c0\u6d4b\u9053\u5177\u548c\u72b6\u6001\u7684\u53d8\u5316\uff0c\u4ee5\u4fbf\u6b63\u786e\u66f4\u65b0\u8fc7\u6ee4\u5217\u8868\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528 PureComponent \u5e76\u5c06\u8fc7\u6ee4\u5668\u64cd\u4f5c\u79fb\u52a8\u5230\u6e32\u67d3\u65b9\u6cd5\u6765\u7b80\u5316\uff1a // PureComponents only rerender if at least one state or prop value changes. // Change is determined by doing a shallow comparison of state and prop keys. class Example extends PureComponent { // State only needs to hold the current filter text value: state = { filterText : \"\" }; handleChange = event => { this . setState ({ filterText : event . target . value }); }; render () { // The render method on this PureComponent is called only if // props.list or state.filterText has changed. const filteredList = this . props . list . filter ( item => item . text . includes ( this . state . filterText ) ) return ( < Fragment > < input onChange = { this . handleChange } value = { this . state . filterText } /> < ul > { filteredList . map ( item => < li key = { item . id } > { item . text } < /li>)}</ul> < /Fragment> ); } } \u4e0a\u9762\u7684\u65b9\u6cd5\u6bd4\u6d3e\u751f\u72b6\u6001\u7248\u672c\u66f4\u6e05\u6d01\u548c\u7b80\u5355\u3002 \u4f46\u662f\u6709\u65f6\uff0c\u8fd9\u6837\u5e76\u4e0d\u597d\u2014\u2014\u5bf9\u4e8e\u5927\u578b\u5217\u8868\uff0c\u8fc7\u6ee4\u53ef\u80fd\u4f1a\u5f88\u6162\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5c5e\u6027\u6539\u53d8\uff0c\u201cPureComponent\u201d\u4e0d\u4f1a\u963b\u6b62\u91cd\u65b0\u6e32\u67d3\u3002 \u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e24\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e2a\u8bb0\u5fc6\u5e2e\u52a9\u5668\uff0c\u4ee5\u907f\u514d\u4e0d\u5fc5\u8981\u5730\u91cd\u65b0\u8fc7\u6ee4\u6211\u4eec\u7684\u5217\u8868\uff1a import memoize from \"memoize-one\" ; class Example extends Component { // State only needs to hold the current filter text value: state = { filterText : \"\" }; // Re-run the filter whenever the list array or filter text changes: filter = memoize ( ( list , filterText ) => list . filter ( item => item . text . includes ( filterText )) ); handleChange = event => { this . setState ({ filterText : event . target . value }); }; render () { // Calculate the latest filtered list. If these arguments haven't changed // since the last render, `memoize-one` will reuse the last return value. const filteredList = this . filter ( this . props . list , this . state . filterText ); return ( < Fragment > < input onChange = { this . handleChange } value = { this . state . filterText } /> < ul > { filteredList . map ( item => < li key = { item . id } > { item . text } < /li>)}</ul> < /Fragment> ); } } \u8fd9\u975e\u5e38\u7b80\u5355\uff0c\u5e76\u4e14\u4e0e\u6d3e\u751f\u72b6\u6001\u7248\u672c\u4e00\u6837\u597d\uff01 \u5728\u4f7f\u7528memoization\u65f6\uff0c\u9700\u8981\u6ce8\u610f\u4e00\u4e9b\u7ea6\u675f\uff1a \u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u60a8\u9700\u8981**\u5c06memoized\u51fd\u6570\u9644\u52a0\u5230\u7ec4\u4ef6\u5b9e\u4f8b**\u3002\u8fd9\u53ef\u4ee5\u9632\u6b62\u7ec4\u4ef6\u7684\u591a\u4e2a\u5b9e\u4f8b\u91cd\u7f6e\u5f7c\u6b64\u7684memoized key\u3002 \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u60a8\u9700\u8981\u4f7f\u7528\u5177\u6709**\u53ef\u63a7\u7f13\u5b58\u5927\u5c0f**\u7684\u8bb0\u5fc6\u8f85\u52a9\u7a0b\u5e8f\uff0c\u4ee5\u9632\u6b62\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u5185\u5b58\u6cc4\u6f0f\u3002 \uff08\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 memoize-one \uff0c\u56e0\u4e3a\u5b83\u53ea\u7f13\u5b58\u6700\u8fd1\u7684\u53c2\u6570\u548c\u7ed3\u679c\u3002\uff09 \u5982\u679c\u7236\u7ec4\u4ef6\u6bcf\u6b21\u6e32\u67d3\u65f6\u90fd\u91cd\u65b0\u521b\u5efa\u4e86\u201cprops.list\u201d\uff0c\u672c\u8282\u4e2d\u663e\u793a\u7684\u4efb\u4f55\u5b9e\u73b0\u90fd\u4e0d\u8d77\u4f5c\u7528\u3002\u4f46\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8fd9\u79cd\u8bbe\u7f6e\u662f\u5408\u9002\u7684\u3002 \u6700\u540e \u00b6 \u5728\u73b0\u5b9e\u4e16\u754c\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u7ec4\u4ef6\u901a\u5e38\u5305\u542b\u53d7\u63a7\u548c\u975e\u53d7\u63a7\u884c\u4e3a\u7684\u6df7\u5408\u3002\u5982\u679c\u6bcf\u4e2a\u503c\u90fd\u6709\u660e\u786e\u7684\u771f\u76f8\u6765\u6e90\uff0c\u5219\u53ef\u4ee5\u907f\u514d\u4e0a\u8ff0\u7684\u53cd\u6a21\u5f0f\u3002 \u503c\u5f97\u91cd\u65b0\u601d\u8003\u7684\u662fgetDerivedStateFromProps\uff08\u548c\u901a\u5e38\u7684\u6d3e\u751f\u72b6\u6001\uff09\u662f\u4e00\u4e2a\u9ad8\u7ea7\u7279\u6027\uff0c\u4e5f\u56e0\u4e3a\u8fd9\u79cd\u590d\u6742\u6027\uff0c\u4f7f\u7528\u65f6\u52a1\u5fc5\u8c28\u614e\u3002","title":"getDerivedStateFromProps\u7684\u4f7f\u7528.md"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#react16getderivedstatefromprops","text":"\u5728\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c componentWillReceiveProps \u662f\u5728\u6ca1\u6709\u9644\u52a0\u6e32\u67d3\u7684\u60c5\u51b5\u4e0b\u66f4\u65b0\u72b6\u6001\u7684\u552f\u4e00\u65b9\u6cd5\u3002\u5728\u7248\u672c16.3\u4e2d\uff0c\u6211\u4eec\u5f15\u5165\u4e86\u4e00\u4e2a\u5168\u65b0\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\u2014\u2014 getDerivedStateFromProps \u2014\u2014\u7528\u6765\u66ff\u6362 componentWillReceiveProps \uff0c\u5e76\u7528\u66f4\u5b89\u5168\u7684\u65b9\u5f0f\u5904\u7406\u76f8\u540c\u7684\u573a\u666f\u3002\u4e0e\u6b64\u540c\u65f6\uff0c\u6211\u4eec\u610f\u8bc6\u5230\u4eba\u4eec\u5bf9\u5982\u4f55\u4f7f\u7528\u8fd9\u4e24\u79cd\u65b9\u6cd5\u6709\u5f88\u591a\u8bef\u89e3\uff0c\u6211\u4eec\u53d1\u73b0\u4e86\u4e00\u4e9b\u53cd\u6a21\u5f0f\uff0c\u8fd9\u4e9b\u9519\u8bef\u5bfc\u81f4\u4e86\u5fae\u5999\u800c\u4ee4\u4eba\u56f0\u60d1\u7684bug\u3002\u572816.4\u4e2d\uff0c\u6709\u5173 getDerivedStateFromProps \u7684\u4fee\u590d\u4f7f\u5f97\u6d3e\u751f\u72b6\u6001\u66f4\u52a0\u53ef\u9884\u6d4b\uff0c\u56e0\u6b64\u9519\u8bef\u4f7f\u7528\u7684\u7ed3\u679c\u66f4\u5bb9\u6613\u88ab\u6ce8\u610f\u5230\u3002 \u6ce8\u610f \u8fd9\u7bc7\u6587\u7ae0\u4e2d\u63cf\u8ff0\u7684\u6240\u6709\u53cd\u6a21\u5f0f\u90fd\u9002\u7528\u4e8e\u8f83\u8001\u7684 componentWillReceiveProps \u548c\u8f83\u65b0\u7684 getDerivedStateFromProps . \u8fd9\u7bc7\u535a\u5ba2\u6587\u7ae0\u5c06\u4ecb\u7ecd\u4ee5\u4e0b\u4e3b\u9898\uff1a \u4f55\u65f6\u4f7f\u7528\u6d3e\u751f\u72b6\u6001 \u4f7f\u7528\u6d3e\u751f\u7c7b\u9047\u5230\u7684\u5e38\u89c1bug \u53cd\u6a21\u5f0f\uff1a\u65e0\u6761\u4ef6\u5f97\u4f7f\u7528props\u5bf9state\u8d4b\u503c \u53cd\u6a21\u5f0f\uff1a\u5f53props\u6539\u53d8\u65f6\u6e05\u9664state \u9996\u9009\u65b9\u6848 \u4ec0\u4e48\u662fmemoization?","title":"React16\u65b0\u7684getDerivedStateFromProps\u7684\u4f7f\u7528"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#_1","text":"getDerivedStateFromProps \u7684\u5b58\u5728\u53ea\u6709\u4e00\u4e2a\u76ee\u7684\u3002\u5b83\u4f7f\u7ec4\u4ef6\u80fd\u591f\u6839\u636e**changes in props**\u7684\u7ed3\u679c\u66f4\u65b0\u5176\u5185\u90e8\u72b6\u6001\u3002 \u6839\u636e\u4e00\u822c\u89c4\u5219\u2014\u2014 \u8c28\u614e\u4f7f\u7528\u6d3e\u751f\u72b6\u6001 \uff0c\u6211\u4eec\u6ca1\u6709\u63d0\u4f9b\u5f88\u591a\u4f8b\u5b50\u3002\u6211\u4eec\u6240\u770b\u5230\u7684\u6709\u5173\u6d3e\u751f\u72b6\u6001\u7684\u6240\u6709\u95ee\u9898\u6700\u7ec8\u90fd\u53ef\u4ee5\u5f52\u7ed3\u4e3a\uff081\uff09\u65e0\u6761\u4ef6\u5730\u66f4\u65b0\u72b6\u6001\uff0c\u6216\u8005\uff082\uff09\u5f53props\u548cstate\u4e0d\u5339\u914d\u65f6\u66f4\u65b0state\u3002\uff08\u6211\u4eec\u5c06\u5728\u4e0b\u9762\u8be6\u7ec6\u8ba8\u8bba\u8fd9\u4e24\u4e2a\u95ee\u9898\u3002\uff09","title":"\u4f55\u65f6\u4f7f\u7528\u6d3e\u751f\u72b6\u6001"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#bug","text":"\u201c\u53d7\u63a7\u201d\u548c\u201c\u4e0d\u53d7\u63a7\u5236\u201d\u7684\u672f\u8bed\u901a\u5e38\u6307\u7684\u662f\u8868\u5355\u8f93\u5165\uff0c\u4f46\u4ed6\u4eec\u8fd8\u53ef\u4ee5\u63cf\u8ff0\u4efb\u4f55\u7ec4\u4ef6\u6570\u636e\u7684\u4f4d\u7f6e\u3002\u4f5c\u4e3aprops\u4f20\u9012\u8fdb\u7ec4\u4ef6\u7684\u6570\u636e\u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f**\u53d7\u63a7\u7684**\uff08\u56e0\u4e3a\u7236\u7ec4\u4ef6\u63a7\u5236\u6570\u636e\uff09\u3002\u53ea\u5b58\u5728\u4e8e\u5185\u90e8\u72b6\u6001\u7684\u6570\u636e\u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f**\u4e0d\u53d7\u63a7\u5236\u7684**\uff08\u56e0\u4e3a\u7236\u7c7b\u4e0d\u80fd\u76f4\u63a5\u66f4\u6539\u5b83\uff09\u3002 \u6d3e\u751f\u72b6\u6001\u6700\u5e38\u89c1\u7684\u9519\u8bef\u662f\u6df7\u5408\u8fd9\u4e24\u4e2a;\u5f53\u4e00\u4e2a\u6d3e\u751f\u72b6\u6001\u503c\u4e5f\u901a\u8fc7 setState \u88ab\u66f4\u65b0\u65f6\uff0c\u6570\u636e\u5c31\u6ca1\u6709\u5355\u4e00\u7684\u771f\u5b9e\u6765\u6e90\u3002 \u5f53\u8fd9\u4e9b\u7ea6\u675f\u88ab\u6539\u53d8\u65f6\uff0c\u5c31\u4f1a\u51fa\u73b0\u95ee\u9898\u3002\u8fd9\u901a\u5e38\u6709\u4e24\u79cd\u5f62\u5f0f\u3002\u8ba9\u6211\u4eec\u6765\u770b\u770b\u8fd9\u4e24\u79cd\u60c5\u51b5\u3002","title":"\u4f7f\u7528\u6d3e\u751f\u72b6\u6001\u9047\u5230\u7684\u5e38\u89c1bug"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#propsstate","text":"\u4e00\u4e2a\u5e38\u89c1\u7684\u8bef\u89e3\u662f\uff0c\u5f53props\u201c\u6539\u53d8\u201d\u65f6\uff0c getDerivedStateFromProps \u548c componentWillReceiveProps \u624d\u4f1a\u88ab\u8c03\u7528\u3002\u4e8b\u5b9e\u4e0a\uff0c\u53ea\u8981\u7236\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\uff0c\u8fd9\u4e9b\u751f\u547d\u5468\u671f\u51fd\u6570\u5c31\u4f1a\u88ab\u8c03\u7528\uff0c\u4e0d\u7ba1\u8fd9\u4e9bprops\u662f\u5426\u4e0e\u4ee5\u524d\u201c\u4e0d\u540c\u201d\u3002\u6b63\u56e0\u4e3a\u5982\u6b64\uff0c\u4f7f\u7528\u4efb\u4f55\u4e00\u4e2a\u53bb \u65e0\u6761\u4ef6 \u5730\u8986\u76d6\u8986\u76d6state\u90fd\u662f\u4e0d\u5b89\u5168\u7684\u3002 \u8fd9\u6837\u505a\u4f1a\u5bfc\u81f4\u72b6\u6001\u66f4\u65b0\u4e22\u5931\u3002 \u8ba9\u6211\u4eec\u770b\u4e2a\u4f8b\u5b50\u6765\u8bf4\u660e\u8fd9\u4e2a\u95ee\u9898\u3002\u8fd9\u662f\u4e00\u4e2a EmailInput \u7ec4\u4ef6\uff0c\u8be5\u7ec4\u4ef6\u901a\u8fc7props \u201cemail\u201d \u6765\u6620\u5c04state \u201cemail\u201d\uff1a class EmailInput extends Component { state = { email : this . props . email }; render () { return < input onChange = { this . handleChange } value = { this . state . email } /> ; } handleChange = event => { this . setState ({ email : event . target . value }); }; componentWillReceiveProps ( nextProps ) { // This will erase any local state updates! // Do not do this. this . setState ({ email : nextProps . email }); } } \u8fd9\u4e2a\u7ec4\u4ef6\u53ef\u80fd\u770b\u8d77\u6765\u4e0d\u9519\u3002state\u88ab\u521d\u59cb\u5316\u4e3a\u7531props\u6307\u5b9a\u7684\u503c\uff0c\u5e76\u4e14\u5728\u8f93\u5165 \u65f6\u5b9e\u65f6\u66f4\u65b0state\u3002\u4f46\u662f\uff0c\u5982\u679c\u6211\u4eec\u7684\u7ec4\u4ef6\u7684\u7236\u7c7b\u91cd\u65b0\u6e32\u67d3\uff0c\u6211\u4eec\u5728 \u8f93\u5165\u7684\u4efb\u4f55\u4e1c\u897f\u90fd\u5c06\u4e22\u5931\uff01\uff08 \u53c2\u89c1\u8fd9\u4e2a\u6f14\u793a\u793a\u4f8b\u3002 \uff09\u5373\u4f7f\u6211\u4eec\u5728\u91cd\u7f6e\u4e4b\u524d\u6bd4\u8f83 nextProps.email !== this.state.email \uff0c\u4e5f\u4e00\u6837\u3002 \u5728\u8fd9\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u4e2d\uff0c\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5fc5\u987b\u901a\u8fc7\u6dfb\u52a0 shouldComponentUpdate \uff0c\u5e76\u5224\u65ad\u53ea\u6709prop email\u53d1\u751f\u6539\u53d8\u65f6\u624d\u91cd\u65b0\u6e32\u67d3\u3002\u7136\u800c\u5728\u5b9e\u9645\u60c5\u51b5\u4e2d\uff0c\u7ec4\u4ef6\u901a\u5e38\u63a5\u53d7\u591a\u4e2aprop;\u4efb\u4f55\u4e00\u4e2aprop\u53d1\u751f\u6539\u53d8\u90fd\u4f1a\u5bfc\u81f4\u91cd\u65b0\u8fd0\u884c\u548c\u4e0d\u6b63\u786e\u7684\u91cd\u7f6e\u3002\u800c\u4e14\u5bf9\u4e8eFunction\u548cobject\u7c7b\u578b\u7684prop\uff0c shouldComponentUpdate \u5f88\u96be\u5224\u65ad\u662f\u5426\u53d1\u751f\u4e86\u5b9e\u8d28\u6027\u7684\u53d8\u5316\u3002 \u8fd9\u91cc\u6709\u4e00\u4e2a\u6f14\u793a \uff0c shouldComponentUpdate \u6700\u597d\u4f5c\u4e3a\u6027\u80fd\u4f18\u5316\u4f7f\u7528\uff0c\u800c\u4e0d\u662f\u4e3a\u4e86\u786e\u4fdd\u6d3e\u751f\u72b6\u6001\u7684\u6b63\u786e\u6027\u3002 \u5e0c\u671b\u4f60\u73b0\u5728\u53ef\u4ee5\u6e05\u695a\u5730\u77e5\u9053\u4e3a\u4ec0\u4e48**\u65e0\u6761\u4ef6\u5f97\u4f7f\u7528props\u5bf9state\u8d4b\u503c\u662f\u4e00\u4e2a\u574f\u4e3b\u610f**\u3002\u5728\u56de\u987e\u53ef\u80fd\u7684\u89e3\u51b3\u65b9\u6848\u4e4b\u524d\uff0c\u8ba9\u6211\u4eec\u770b\u770b\u4e00\u4e2a\u4e8e\u6b64\u76f8\u5173\u7684\u53e6\u5916\u4e00\u4e2a\u95ee\u9898\u6a21\u5f0f\uff1a\u5982\u679c\u6211\u4eec\u53ea\u5728\u5c5e\u6027email\u6539\u53d8\u65f6\u66f4\u65b0\u72b6\u6001\u4f1a\u600e\u6837\uff1f","title":"\u53cd\u6a21\u5f0f\uff1a\u65e0\u6761\u4ef6\u5f97\u4f7f\u7528props\u5bf9state\u8d4b\u503c"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#propsstate_1","text":"\u7ee7\u7eed\u4e0a\u8fb9\u7684\u4f8b\u5b50\uff0c\u6211\u4eec\u5224\u65ad\u53ea\u6709\u5f53 props.email \u53d1\u751f\u6539\u53d8\u65f6\u624d\u53bb\u6267\u884c\u66f4\u65b0\uff0c\u4ee5\u6b64\u6765\u907f\u514d\u72b6\u6001\u88ab\u6e05\u9664\uff1a class EmailInput extends Component { state = { email : this . props . email }; componentWillReceiveProps ( nextProps ) { // Any time props.email changes, update state. if ( nextProps . email !== this . props . email ) { this . setState ({ email : nextProps . email }); } } // ... } \u6ce8\u610f \u5c3d\u7ba1\u4e0a\u9762\u7684\u793a\u4f8b\u663e\u793a\u4e86 componentWillReceiveProps \uff0c\u4f46\u540c\u6837\u7684\u53cd\u6a21\u5f0f\u4e5f\u9002\u7528\u4e8e getDerivedStateFromProps \u6211\u4eec\u521a\u521a\u53d6\u5f97\u4e86\u5f88\u5927\u7684\u8fdb\u6b65\u3002\u73b0\u5728\uff0c\u53ea\u6709\u5f53props\u771f\u6b63\u6539\u53d8\u7684\u65f6\u5019,\u7ec4\u4ef6\u624d\u4f1a\u64e6\u9664\u6211\u4eec\u8f93\u5165\u7684\u5185\u5bb9\u3002 \u73b0\u5728\u51fa\u73b0\u4e86\u4e00\u4e2a\u5fae\u5999\u7684\u95ee\u9898\u3002\u60f3\u8c61\u4e00\u4e2a\u4f7f\u7528\u4e0a\u8ff0\u8f93\u5165\u7ec4\u4ef6\u7684\u5bc6\u7801\u7ba1\u7406\u5668\u5e94\u7528\u7a0b\u5e8f\u3002\u5f53\u4f7f\u7528\u76f8\u540c\u7684\u7535\u5b50\u90ae\u4ef6\u5728\u4e24\u4e2a\u5e10\u6237\u7684\u8be6\u7ec6\u4fe1\u606f\u4e4b\u95f4\u5bfc\u822a\u65f6\uff0c\u8f93\u5165\u5c06\u65e0\u6cd5\u91cd\u7f6e\u3002\u8fd9\u662f\u56e0\u4e3a\u4f20\u9012\u7ed9\u7ec4\u4ef6\u7684\u5c5e\u6027\u503c\u5bf9\u4e8e\u4e24\u4e2a\u5e10\u6237\u90fd\u662f\u76f8\u540c\u7684\uff01\u8fd9\u5bf9\u7528\u6237\u6765\u8bf4\u662f\u4e00\u4e2a\u60ca\u559c\uff0c\u56e0\u4e3a\u4e00\u4e2a\u8d26\u6237\u7684\u672a\u4fdd\u5b58\u7684\u53d8\u66f4\u4f3c\u4e4e\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u7684\u5e10\u6237\uff0c\u8fd9\u4e9b\u5e10\u6237\u78b0\u5de7\u5171\u4eab\u76f8\u540c\u7684\u7535\u5b50\u90ae\u4ef6\u3002 \u8fd9\u79cd\u8bbe\u8ba1\u4ece\u6839\u672c\u4e0a\u6765\u8bf4\u662f\u6709\u7f3a\u9677\u7684\uff0c\u4f46\u8fd9\u5374\u662f\u4e00\u4e2a\u6781\u6613\u72af\u7684\u9519\u8bef\u3002\u5e78\u8fd0\u7684\u662f\uff0c\u6709\u4e24\u79cd\u66ff\u4ee3\u65b9\u6848\u53ef\u4ee5\u66f4\u597d\u5730\u5de5\u4f5c\u3002\u4e24\u79cd\u65b9\u6848\u7684\u5173\u952e\u5728\u4e8e\u2014\u2014\u5bf9\u4e8e\u4efb\u4f55\u6570\u636e\uff0c\u60a8\u90fd\u9700\u8981\u786e\u4fdd\u53ea\u6709\u4e00\u4e2a\u7ec4\u4ef6\u4f5c\u4e3a\u5b9e\u9645\u7684\u6765\u6e90\uff0c\u5e76\u907f\u514d\u5728\u5176\u4ed6\u7ec4\u4ef6\u4e2d\u590d\u5236\u5b83\u3002\u73b0\u5728\u6765\u770b\u4e00\u4e0b\u8fd9\u4e24\u79cd\u65b9\u6848\u3002","title":"\u53cd\u6a21\u5f0f\uff1a\u5f53props\u6539\u53d8\u65f6\u6e05\u9664state"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#_2","text":"","title":"\u9996\u9009\u65b9\u6848"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#_3","text":"\u907f\u514d\u4e0a\u9762\u63d0\u5230\u7684\u95ee\u9898\u7684\u4e00\u79cd\u65b9\u6cd5\u662f\u5f7b\u5e95\u4ece\u7ec4\u4ef6\u4e2d\u5220\u9664\u72b6\u6001\u3002\u5982\u679c\"\u90ae\u4ef6\u5730\u5740\"\u53ea\u662f\u4f5c\u4e3a\u5c5e\u6027\u5b58\u5728\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u4e0d\u5fc5\u62c5\u5fc3\u4e0e\u72b6\u6001\u7684\u51b2\u7a81\u3002\u6211\u4eec\u751a\u81f3\u53ef\u4ee5\u628a EmailInput \u8f6c\u6362\u6210\u8f7b\u91cf\u7684\u51fd\u6570\u7ec4\u4ef6\uff1a function EmailInput ( props ) { return < input onChange = { props . onChange } value = { props . email } /> ; } 123 \u8fd9\u79cd\u65b9\u6cd5\u7b80\u5316\u4e86\u7ec4\u4ef6\u7684\u5b9e\u73b0\uff0c\u4f46\u662f\u5982\u679c\u6211\u4eec\u4ecd\u7136\u60f3\u8981\u50a8\u5b58\u4e00\u4e2a\u4e2d\u95f4\u503c\uff08draft value\uff09\uff0c\u90a3\u4e48\u7236\u8868\u5355\u7ec4\u4ef6\u73b0\u5728\u5c31\u53ea\u80fd\u624b\u52a8\u5b8c\u6210\u8fd9\u4ef6\u4e8b\u3002","title":"\u63a8\u8350: \u5b8c\u5168\u53d7\u63a7\u7ec4\u4ef6"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#key","text":"\u53e6\u4e00\u79cd\u65b9\u6848\u662f\uff0c\u8ba9\u7ec4\u4ef6\u5b8c\u5168\u62e5\u6709\u4e2d\u95f4\u7684email\u72b6\u6001\uff08draft email state\uff09\u3002\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u7684\u7ec4\u4ef6\u4ecd\u7136\u63a5\u6536\u4e00\u4e2a\u5c5e\u6027\u7528\u6765\u8bbe\u7f6eemail\u7684\u521d\u59cb\u503c\uff0c\u4f46\u662f\u5374\u65e0\u6cd5\u63a5\u6536\u8fd9\u4e2a\u5c5e\u6027\u4e4b\u540e\u7684\u53d8\u5316\uff1a class EmailInput extends Component { state = { email : this . props . defaultEmail }; handleChange = event => { this . setState ({ email : event . target . value }); }; render () { return < input onChange = { this . handleChange } value = { this . state . email } /> ; } } \u4e3a\u4e86\u5728\u79fb\u52a8\u5230\u53e6\u4e00\u9879\uff08\u5982\u5bc6\u7801\u7ba1\u7406\u5668\u573a\u666f\uff09\u65f6\u53ef\u4ee5\u91cd\u65b0\u8d4b\u503c\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u201ckey\u201d\u8fd9\u4e2aReact\u7684\u7279\u6b8a\u5c5e\u6027\u3002\u5f53\u4e00\u4e2a\u201ckey\u201d\u53d1\u751f\u53d8\u5316\u65f6\uff0cReact\u5c06\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u800c\u4e0d\u662f\u66f4\u65b0\u5f53\u524d\u7684\u4e00\u4e2a\u5b9e\u4f8b\u3002\u201ckey\u201d\u901a\u5e38\u7528\u4e8e\u52a8\u6001\u5217\u8868\uff0c\u4f46\u5728\u8fd9\u91cc\u4e5f\u5f88\u6709\u7528\u3002\u5728\u6211\u4eec\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7528\u6237ID\u5728\u65b0\u7528\u6237\u88ab\u9009\u4e2d\u65f6\u91cd\u65b0\u521b\u5efa\"EmailInput\"\uff1a < EmailInput defaultEmail = { this . props . user . email } key = { this . props . user . id } /> \u6bcf\u5f53ID\u6539\u53d8\u65f6\uff0c EmailInput \u5c06\u88ab\u91cd\u65b0\u521b\u5efa\uff0c\u5b83\u7684\u72b6\u6001\u5c06\u88ab\u91cd\u7f6e\u4e3a\u6700\u65b0\u7684 defaultEmail \u503c( \u793a\u4f8b )\u3002\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\uff0c\u60a8\u4e0d\u9700\u8981\u5411\u6bcf\u4e2a\u8f93\u5165\u9879\u6dfb\u52a0 key \u3002\u628a key \u653e\u5728\u6574\u4e2a\u8868\u5355\u4e0a\u53ef\u80fd\u66f4\u6709\u610f\u4e49\u3002\u6bcf\u6b21\u6539\u53d8\u65f6\uff0c\u8868\u5355\u4e2d\u7684\u6240\u6709\u7ec4\u4ef6\u90fd\u5c06\u7528\u4e00\u4e2a\u65b0\u521d\u59cb\u5316\u7684\u72b6\u6001\u91cd\u65b0\u521b\u5efa\u3002 \u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8fd9\u662f\u5904\u7406\u6709\u91cd\u7f6e\u8981\u6c42\u7684\u72b6\u6001\u7684\u6700\u597d\u65b9\u6cd5\u3002 \u6ce8\u610f \u8fd9\u770b\u8d77\u6765\u4f3c\u4e4e\u4f1a\u53d8\u6162\uff0c\u4e0d\u8fc7\u8fd9\u70b9\u6027\u80fd\u5dee\u5f02\u901a\u5e38\u60c5\u51b5\u662f\u65e0\u5173\u7d27\u8981\u7684\uff08\u539f\u6587\uff1aWhile this may sound slow, the performance difference is usually insignificant\uff09\u3002\u76f8\u53cd\uff0c\u5982\u679c\u7ec4\u4ef6\u5177\u6709\u5728\u66f4\u65b0\u4e0a\u8fd0\u884c\u7684\u91cd\u903b\u8f91\uff0c\u5219\u4f7f\u7528\u201ckey\u201d\u751a\u81f3\u53ef\u4ee5\u66f4\u5feb\uff0c\u56e0\u4e3a\u8be5\u5b50\u6811\u7684diff\u8fd0\u7b97\u88ab\u7701\u7565\u4e86\u3002","title":"\u63a8\u8350: \u6709\"key\"\u7684\u5b8c\u5168\u975e\u53d7\u63a7\u7ec4\u4ef6"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#1-id","text":"\u5982\u679c key \u65b9\u6848\u7531\u4e8e\u67d0\u4e9b\u539f\u56e0\u4e0d\u4fbf\u4f7f\u7528\uff08\u6bd4\u5982\u7ec4\u4ef6\u7684\u521d\u59cb\u5316\u975e\u5e38\u6602\u8d35\uff09\uff0c\u4e00\u4e2a\u53ef\u884c\u4f46\u6709\u70b9\u9ebb\u70e6\u7684\u89e3\u51b3\u65b9\u6848\u662f\u5728 getDerivedStateFromProps \u4e2d\u89c2\u5bdf\u201cuserID\u201d\u7684\u53d8\u5316\uff1a class EmailInput extends Component { state = { email : this . props . defaultEmail , prevPropsUserID : this . props . userID }; static getDerivedStateFromProps ( props , state ) { // Any time the current user changes, // Reset any parts of state that are tied to that user. // In this simple example, that's just the email. if ( props . userID !== state . prevPropsUserID ) { return { prevPropsUserID : props . userID , email : props . defaultEmail }; } return null ; } // ... } 123456789101112131415161718192021 \u8fd9\u4e5f\u63d0\u4f9b\u4e86\u53e6\u4e00\u79cd\u7075\u6d3b\u7684\u5904\u7406\u65b9\u6848\uff0c\u6211\u4eec\u53ef\u4ee5\u6709\u9009\u62e9\u7684\uff0c\u53ea\u91cd\u7f6e\u7ec4\u4ef6\u5185\u90e8\u7684\u67d0\u4e9b\u72b6\u6001\u3002( \u793a\u4f8b ) \u6ce8\u610f \u867d\u7136\u4e0a\u8fb9\u7684\u793a\u4f8b\u4f7f\u7528\u7684\u662f getDerivedStateFromProps \uff0c\u5bf9\u4e8e componentWillReceiveProps \u4e5f\u540c\u6837\u6709\u6548","title":"\u5907\u9009 1: \u901a\u8fc7ID\u5c5e\u6027\u91cd\u7f6e\u975e\u53d7\u63a7\u7ec4\u4ef6"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#2","text":"\u6bd4\u8f83\u4e0d\u5e38\u89c1\u7684\u60c5\u51b5\u662f\uff0c\u60a8\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\u72b6\u6001\uff0c\u5374\u6ca1\u6709\u5408\u9002\u7684ID\u4f5c\u4e3a key \u3002\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\u662f\u5728\u6bcf\u6b21\u60f3\u8981\u91cd\u7f6e\u7684\u65f6\u5019\uff0c\u5c06\u201ckey\u201d\u91cd\u7f6e\u4e3a\u4e00\u4e2a\u968f\u673a\u503c\u6216\u81ea\u52a8\u9012\u589e\u7684\u6570\u5b57\u3002\u53e6\u4e00\u79cd\u53ef\u884c\u7684\u66ff\u4ee3\u65b9\u6cd5\u662f\u516c\u5f00\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u4ee5\u5f3a\u5236\u91cd\u7f6e\u5185\u90e8\u72b6\u6001\uff1a class EmailInput extends Component { state = { email : this . props . defaultEmail }; resetEmailForNewUser ( newEmail ) { this . setState ({ email : newEmail }); } // ... } \u7236\u7ea7\u8868\u5355\u7ec4\u4ef6\u53ef\u4ee5\u901a\u8fc7ref\u8c03\u7528\u8be5\u65b9\u6cd5 \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0cRefs\u53ef\u80fd\u4f1a\u5f88\u6709\u7528\uff0c\u4f46\u4e00\u822c\u6765\u8bf4\uff0c\u6211\u4eec\u5efa\u8bae\u60a8\u8c28\u614e\u5730\u4f7f\u7528\u5b83\u4eec\u3002\u5373\u4f7f\u5728\u793a\u4f8b\u4e2d\uff0c\u8fd9\u79cd\u547d\u4ee4\u5f0f\u65b9\u6cd5\u4e5f\u662f\u4e0d\u7406\u60f3\u7684\uff0c\u56e0\u4e3a\u8981\u53d1\u751f\u4e24\u6b21\u6e32\u67d3\u3002","title":"\u5907\u9009 2: \u901a\u8fc7\u5b9e\u4f8b\u65b9\u6cd5\u91cd\u7f6e\u975e\u53d7\u63a7\u7ec4\u4ef6"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#_4","text":"\u56de\u987e\u4e00\u4e0b\uff0c\u5728\u8bbe\u8ba1\u7ec4\u4ef6\u65f6\uff0c\u6700\u91cd\u8981\u7684\u662f\u51b3\u5b9a\u5b83\u7684\u6570\u636e\u662f\u5426\u9700\u8981\u88ab\u63a7\u5236\u3002 \u4e0e\u5176\u5c1d\u8bd5\u5728\u72b6\u6001\u4e2d**\u955c\u50cf\u4e00\u4e2a\u5c5e\u6027\u503c\uff0c\u4e0d\u5982\u8ba9\u7ec4\u4ef6\u88ab\u63a7\u5236**\uff0c\u5e76\u5728\u67d0\u4e9b\u7236\u7ec4\u4ef6\u7684\u72b6\u6001\u4e2d\u5408\u5e76\u4e24\u4e2a\u4e0d\u540c\u7684\u503c\u3002\u4f8b\u5982\uff0c\u4e0e\u5176\u8ba9\u5b50\u7ec4\u4ef6\u65e2\u63a5\u6536\u4e00\u4e2a\u201ccommitted\u201d\u5c5e\u6027\u53c8\u8981\u7ef4\u62a4\u4e00\u4e2a\u201cdraft\u201d\u7684\u72b6\u6001\uff0c\u4e0d\u5982\u8ba9\u7236\u7ea7\u7ec4\u4ef6\u540c\u65f6\u7ba1\u7406\u4e24\u4e2a\u72b6\u6001\u2014\u2014 state.committedValue \u548c state.draftValue \u2014\u2014\u76f4\u63a5\u63a7\u5236\u5b50\u7ec4\u4ef6\u7684\u503c\u3002\u8fd9\u4f7f\u5f97\u6570\u636e\u6d41\u66f4\u52a0\u6e05\u6670\u548c\u53ef\u9884\u6d4b\u3002 \u5bf9\u4e8e**\u975e\u53d7\u63a7**\u7684\u7ec4\u4ef6\uff0c\u5982\u679c\u60a8\u8bd5\u56fe\u5728\u67d0\u7279\u5b9a\u7684\u5c5e\u6027\uff08\u901a\u5e38\u662fID\uff09\u66f4\u6539\u65f6\u91cd\u7f6e\u72b6\u6001\uff0c\u90a3\u4e48\u60a8\u6709\u51e0\u4e2a\u9009\u9879\uff1a \u63a8\u8350\uff1a\u5982\u679c\u8981\u91cd\u7f6e\u5168\u90e8\u5185\u90e8\u72b6\u6001\uff0c\u4f7f\u7528 key \u7279\u6027 \u5907\u9009 1\uff1a\u53ea\u91cd\u7f6e\u67d0\u4e9b\u7279\u5b9a\u7684\u72b6\u6001\u5b57\u6bb5\uff0c\u5173\u6ce8\u7279\u5b9a\u5c5e\u6027\u7684\u66f4\u6539\uff08\u4f8b\u5982 props.userID )\u3002 \u5907\u9009 2\uff1a\u60a8\u8fd8\u53ef\u4ee5\u8003\u8651\u4f7f\u7528refs\u8c03\u7528\u4e00\u4e2a\u547d\u4ee4\u5f0f\u5b9e\u4f8b\u65b9\u6cd5\u3002","title":"\u56de\u987e"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#memoization","text":"\u6d3e\u751f\u72b6\u6001\u53ef\u7528\u4e8e\u786e\u4fdd\u6267\u884c render \u65f6\u4f7f\u7528\u7684\u503c\u4ec5\u5728\u8f93\u5165\u53d1\u751f\u53d8\u5316\u65f6\u624d\u4f1a\u91cd\u65b0\u8ba1\u7b97\u3002\u8fd9\u79cd\u6280\u672f\u88ab\u79f0\u4e3a memoization \u3002 \u4f7f\u7528\u6d3e\u751f\u72b6\u6001\u8fdb\u884c\u8bb0\u5fc6\u5e76\u4e0d\u4e00\u5b9a\u662f\u4e0d\u597d\u7684\uff0c\u4f46\u5b83\u901a\u5e38\u4e0d\u662f\u6700\u597d\u7684\u89e3\u51b3\u65b9\u6848\u3002\u7ba1\u7406\u6d3e\u751f\u72b6\u6001\u5b58\u5728\u4e00\u5b9a\u7684\u590d\u6742\u6027\uff0c\u5e76\u4e14\u8fd9\u79cd\u590d\u6742\u6027\u4f1a\u968f\u7740\u9644\u52a0\u5c5e\u6027\u800c\u589e\u52a0\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6211\u4eec\u5411\u7ec4\u4ef6\u72b6\u6001\u6dfb\u52a0\u7b2c\u4e8c\u4e2a\u6d3e\u751f\u5b57\u6bb5\uff0c\u90a3\u4e48\u6211\u4eec\u7684\u5b9e\u73b0\u5c06\u9700\u8981\u5206\u522b\u8ddf\u8e2a\u4e24\u8005\u7684\u66f4\u6539\u3002 \u6211\u4eec\u6765\u770b\u4e00\u4e2a\u4f8b\u5b50\uff0c\u8fd9\u4e2a\u7ec4\u4ef6\u5e26\u6709\u4e00\u4e2aprop\uff08\u4e00\u4e2a\u9879\u76ee\u5217\u8868\uff09\uff0c\u5e76\u5448\u73b0\u4e0e\u7528\u6237\u8f93\u5165\u7684\u641c\u7d22\u67e5\u8be2\u5339\u914d\u7684\u9879\u76ee\u3002 \u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u6d3e\u751f\u72b6\u6001\u6765\u5b58\u50a8\u8fc7\u6ee4\u540e\u7684\u5217\u8868\uff1a class Example extends Component { state = { filterText : \"\" , }; // ******************************************************* // NOTE: this example is NOT the recommended approach. // See the examples below for our recommendations instead. // ******************************************************* static getDerivedStateFromProps ( props , state ) { // Re-run the filter whenever the list array or filter text change. // Note we need to store prevPropsList and prevFilterText to detect changes. if ( props . list !== state . prevPropsList || state . prevFilterText !== state . filterText ) { return { prevPropsList : props . list , prevFilterText : state . filterText , filteredList : props . list . filter ( item => item . text . includes ( state . filterText )) }; } return null ; } handleChange = event => { this . setState ({ filterText : event . target . value }); }; render () { return ( < Fragment > < input onChange = { this . handleChange } value = { this . state . filterText } /> < ul > { this . state . filteredList . map ( item => < li key = { item . id } > { item . text } < /li>)}</ul> < /Fragment> ); } } \u8fd9\u4e2a\u5b9e\u73b0\u907f\u514d\u4e86\u4e0d\u5fc5\u8981\u7684\u91cd\u65b0\u8ba1\u7b97 filteredList \u3002\u4f46\u6211\u4eec\u5374\u505a\u5f88\u591a\u5570\u55e6\u7684\u5de5\u4f5c\uff0c\u56e0\u4e3a\u5b83\u5fc5\u987b\u5206\u522b\u8ddf\u8e2a\u548c\u68c0\u6d4b\u9053\u5177\u548c\u72b6\u6001\u7684\u53d8\u5316\uff0c\u4ee5\u4fbf\u6b63\u786e\u66f4\u65b0\u8fc7\u6ee4\u5217\u8868\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528 PureComponent \u5e76\u5c06\u8fc7\u6ee4\u5668\u64cd\u4f5c\u79fb\u52a8\u5230\u6e32\u67d3\u65b9\u6cd5\u6765\u7b80\u5316\uff1a // PureComponents only rerender if at least one state or prop value changes. // Change is determined by doing a shallow comparison of state and prop keys. class Example extends PureComponent { // State only needs to hold the current filter text value: state = { filterText : \"\" }; handleChange = event => { this . setState ({ filterText : event . target . value }); }; render () { // The render method on this PureComponent is called only if // props.list or state.filterText has changed. const filteredList = this . props . list . filter ( item => item . text . includes ( this . state . filterText ) ) return ( < Fragment > < input onChange = { this . handleChange } value = { this . state . filterText } /> < ul > { filteredList . map ( item => < li key = { item . id } > { item . text } < /li>)}</ul> < /Fragment> ); } } \u4e0a\u9762\u7684\u65b9\u6cd5\u6bd4\u6d3e\u751f\u72b6\u6001\u7248\u672c\u66f4\u6e05\u6d01\u548c\u7b80\u5355\u3002 \u4f46\u662f\u6709\u65f6\uff0c\u8fd9\u6837\u5e76\u4e0d\u597d\u2014\u2014\u5bf9\u4e8e\u5927\u578b\u5217\u8868\uff0c\u8fc7\u6ee4\u53ef\u80fd\u4f1a\u5f88\u6162\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5c5e\u6027\u6539\u53d8\uff0c\u201cPureComponent\u201d\u4e0d\u4f1a\u963b\u6b62\u91cd\u65b0\u6e32\u67d3\u3002 \u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e24\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e2a\u8bb0\u5fc6\u5e2e\u52a9\u5668\uff0c\u4ee5\u907f\u514d\u4e0d\u5fc5\u8981\u5730\u91cd\u65b0\u8fc7\u6ee4\u6211\u4eec\u7684\u5217\u8868\uff1a import memoize from \"memoize-one\" ; class Example extends Component { // State only needs to hold the current filter text value: state = { filterText : \"\" }; // Re-run the filter whenever the list array or filter text changes: filter = memoize ( ( list , filterText ) => list . filter ( item => item . text . includes ( filterText )) ); handleChange = event => { this . setState ({ filterText : event . target . value }); }; render () { // Calculate the latest filtered list. If these arguments haven't changed // since the last render, `memoize-one` will reuse the last return value. const filteredList = this . filter ( this . props . list , this . state . filterText ); return ( < Fragment > < input onChange = { this . handleChange } value = { this . state . filterText } /> < ul > { filteredList . map ( item => < li key = { item . id } > { item . text } < /li>)}</ul> < /Fragment> ); } } \u8fd9\u975e\u5e38\u7b80\u5355\uff0c\u5e76\u4e14\u4e0e\u6d3e\u751f\u72b6\u6001\u7248\u672c\u4e00\u6837\u597d\uff01 \u5728\u4f7f\u7528memoization\u65f6\uff0c\u9700\u8981\u6ce8\u610f\u4e00\u4e9b\u7ea6\u675f\uff1a \u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u60a8\u9700\u8981**\u5c06memoized\u51fd\u6570\u9644\u52a0\u5230\u7ec4\u4ef6\u5b9e\u4f8b**\u3002\u8fd9\u53ef\u4ee5\u9632\u6b62\u7ec4\u4ef6\u7684\u591a\u4e2a\u5b9e\u4f8b\u91cd\u7f6e\u5f7c\u6b64\u7684memoized key\u3002 \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u60a8\u9700\u8981\u4f7f\u7528\u5177\u6709**\u53ef\u63a7\u7f13\u5b58\u5927\u5c0f**\u7684\u8bb0\u5fc6\u8f85\u52a9\u7a0b\u5e8f\uff0c\u4ee5\u9632\u6b62\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u5185\u5b58\u6cc4\u6f0f\u3002 \uff08\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 memoize-one \uff0c\u56e0\u4e3a\u5b83\u53ea\u7f13\u5b58\u6700\u8fd1\u7684\u53c2\u6570\u548c\u7ed3\u679c\u3002\uff09 \u5982\u679c\u7236\u7ec4\u4ef6\u6bcf\u6b21\u6e32\u67d3\u65f6\u90fd\u91cd\u65b0\u521b\u5efa\u4e86\u201cprops.list\u201d\uff0c\u672c\u8282\u4e2d\u663e\u793a\u7684\u4efb\u4f55\u5b9e\u73b0\u90fd\u4e0d\u8d77\u4f5c\u7528\u3002\u4f46\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8fd9\u79cd\u8bbe\u7f6e\u662f\u5408\u9002\u7684\u3002","title":"\u4ec0\u4e48\u662fmemoization?"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#_5","text":"\u5728\u73b0\u5b9e\u4e16\u754c\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u7ec4\u4ef6\u901a\u5e38\u5305\u542b\u53d7\u63a7\u548c\u975e\u53d7\u63a7\u884c\u4e3a\u7684\u6df7\u5408\u3002\u5982\u679c\u6bcf\u4e2a\u503c\u90fd\u6709\u660e\u786e\u7684\u771f\u76f8\u6765\u6e90\uff0c\u5219\u53ef\u4ee5\u907f\u514d\u4e0a\u8ff0\u7684\u53cd\u6a21\u5f0f\u3002 \u503c\u5f97\u91cd\u65b0\u601d\u8003\u7684\u662fgetDerivedStateFromProps\uff08\u548c\u901a\u5e38\u7684\u6d3e\u751f\u72b6\u6001\uff09\u662f\u4e00\u4e2a\u9ad8\u7ea7\u7279\u6027\uff0c\u4e5f\u56e0\u4e3a\u8fd9\u79cd\u590d\u6742\u6027\uff0c\u4f7f\u7528\u65f6\u52a1\u5fc5\u8c28\u614e\u3002","title":"\u6700\u540e"},{"location":"react/react%20%E4%B8%AD%E9%80%9A%E8%BF%87ref%E8%8E%B7%E5%8F%96%E9%AB%98%E9%98%B6%EF%BC%88HOC%EF%BC%89%E5%AD%90%E7%BB%84%E4%BB%B6%E5%AE%9E%E4%BE%8B%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/","text":"react \u4e2d\u901a\u8fc7ref\u83b7\u53d6\u9ad8\u9636\uff08HOC\uff09\u5b50\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u89e3\u51b3\u65b9\u6848 \u00b6 \u4eca\u5929\u5199react\u9879\u76ee\u9047\u5230\u4e00\u4e2a\u7236\u5b50\u7ec4\u4ef6\u901a\u4fe1\u7684\u95ee\u9898\u3002\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u5e38\u89c4\u7684\u95ee\u9898\u4e86\uff0c\u968f\u4fbf\u641c\u4e00\u4e0b\u5c31\u80fd\u5f97\u5230\u89e3\u51b3\u65b9\u6848\u3002\u603b\u4f53\u6765\u8bf4\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b\uff1a \u5b50\u7ec4\u4ef6\u9700\u8981\u83b7\u53d6\u7236\u7ec4\u4ef6\u7684\u4fe1\u606f\uff0c\u8fd9\u901a\u8fc7 props \u5c31\u53ef\u4ee5\u89e3\u51b3\uff1b \u7236\u7ec4\u4ef6\u9700\u8981\u77e5\u9053\u5b50\u7ec4\u4ef6\u7684\u4fe1\u606f\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7 ref \u89e3\u51b3\u3002 \u6211\u4eec\u8fd9\u91cc\u8bb2\u7684\u5c5e\u4e8e\u540e\u8005\uff0c\u4f46\u662f\u53c8\u6709\u4e9b\u7279\u6b8a\uff0c\u7279\u6b8a\u5c31\u5728\u4e8e\u5b50\u7ec4\u4ef6\u662f\u4e2a\u9ad8\u9636\u7ec4\u4ef6\uff0c\u6bd4\u5982\u4f7f\u7528 @connect @withRouter \u5305\u88f9\u8fc7\u7684\u7ec4\u4ef6\uff08\u5176\u5b9e\u5927\u90e8\u5206\u7ec4\u4ef6\u90fd\u4f1a\u88ab\u8fd9\u4e24\u4e2a\u5305\u88f9\uff09\uff0c\u5177\u4f53\u793a\u4f8b\u5982\u4e0b\uff1a @withRouter export default class childComponent extends Component { constructor(props) { super(props); this.state = {}; } render() { return (<div>this is childComponent</div>) } } @withRouter export default class parentComponent extends Component { constructor(props) { super(props); this.state = {}; } render () { return <childComponent ref={(v) => { this.childCp = v; }}/> } } \u4e0a\u9762\u7684childComponent\u88abwithRouter\u5305\u88f9\u8fc7\u4e00\u904d\u540e\uff0c\u8fd9\u65f6\u5019\u4f60\u5728 parentComponent \u4e2d\u901a\u8fc7 ref \u83b7\u53d6\u5230\u7684\u662f\u5e76\u4e0d\u4f1a\u662f childComponent \uff0c\u800c\u662f withRouter \u7ec4\u4ef6\u3002\u8fd9\u5c31\u6bd4\u8f83\u5c34\u5c2c\u4e86\uff0c\u6211\u4eec\u5927\u591a\u6570\u60c5\u51b5\u80af\u5b9a\u662f\u9700\u8981\u83b7\u53d6\u81ea\u5df1\u5199\u7684\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u3002\u6709\u4e00\u70b9\u9700\u8981\u8bb2\u660e\u767d\uff1a\u5c31\u662f\u901a\u8fc7 ref \u83b7\u53d6\u5230\u7684\u4e0d\u662f childComponent \uff0c\u5728\u539f\u7406\u4e0a\u662f\u5bf9\u7684\uff0c\u5982\u679c\u83b7\u53d6\u5230\u662f childComponent \u7ec4\u4ef6\u90a3\u624d\u662f\u6709\u95ee\u9898\u7684\uff0c\u6709\u6096\u4f26\u7406\u77e5\u9053\u54c7\u3002 \u65e2\u7136\u901a\u8fc7\u5b98\u65b9\u63d0\u4f9b\u7684 ref \u65e0\u6cd5\u83b7\u53d6\u5230\u6211\u4eec\u60f3\u8981\u7684 ref \uff0c\u90a3\u6211\u4eec\u5c31\u6765\u4ed4\u7ec6\u60f3\u4e0b ref \u83b7\u53d6\u5230\u7684\u662f\u5565\uff1f\u6211\u4eec\u56de\u5f52\u5230javascript\u8bed\u8a00\u5c42\u9762\u6765\u770b\uff0c\u90a3\u4e0d\u5c31\u662f\u7ec4\u4ef6\u4e2d\u7684this\u4e48\u3002 @ withRouter export default class childComponent extends Component { constructor ( props ) { super ( props ); this . state = {}; // \u6211\u4eec\u9700\u8981\u83b7\u53d6\u5230\u7684\u5c31\u662f\u8fd9\u4e2athis\u800c\u5df2 } render () { return ( < div > this is childComponent < /div>) } } \u77e5\u9053\u6211\u4eec\u9700\u8981\u83b7\u53d6\u5230\u7684\u662f\u5565\u4e86\uff0c\u90a3\u5c31\u597d\u529e\u4e86\uff0c\u6211\u7ed9 childComponent \u4f20\u4e00\u4e2a prop \u4e13\u95e8\u6765get\u8fd9\u4e2athis\u4e0d\u5c31\u597d\u4e86\uff0c\u6bd4\u5982\u4f7f\u7528 getInstance \uff1a @ withRouter export default class childComponent extends Component { constructor ( props ) { super ( props ); this . state = {}; const { getInstance } = props ; if ( typeof getInstance === 'function' ) { getInstance ( this ); // \u5728\u8fd9\u91cc\u628athis\u66b4\u9732\u7ed9`parentComponent` } } render () { return ( < div > this is childComponent < /div>) } } @ withRouter export default class parentComponent extends Component { constructor ( props ) { super ( props ); this . state = {}; } render () { return ( < childComponent ref = {( withRouter ) => { this . childCpWrapper = withRouter ; }} // \u8fd9\u91cc\u83b7\u53d6\u7684\u662f`withRouter`\u7ec4\u4ef6\uff0c\u4e00\u822c\u6ca1\u5565\u7528\uff0c\u8fd9\u91cc\u5199\u51fa\u6765\u53ea\u662f\u4e3a\u4e86\u5bf9\u6bd4 getInstance = {( childCp ) => { this . childCp = childCp ; }} // \u8fd9\u91cc\u901a\u8fc7`getInstance`\u4f20\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u63a5\u6536`childComponent`\u5b9e\u4f8b\u5373\u53ef /> ); } } perfect ! \u95ee\u9898\u89e3\u51b3\u4e86\uff0c\u8fd9\u6837\u6211\u4e0d\u7ba1\u4f60\u600e\u4e48\u7528\u5565\u9ad8\u9636\u7ec4\u4ef6\u3001\u7528\u591a\u5c11\u4e2a\u9ad8\u9636\u7ec4\u4ef6\u5305\u88f9\u6211\u4eec childComponent \uff0c\u6211\u4eec\u90fd\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a getInstance \uff0c\u7a7f\u8d8a\u5343\u5c71\u4e07\u6c34\u76f4\u63a5\u83b7\u53d6 childComponent \u5b9e\u4f8b\u3002 \u5f53\u7136\u5b8c\u7f8e\u4e5f\u662f\u76f8\u5bf9\u7684\uff0c\u6bd4\u5982\u4e0a\u9762\u7684\u65b9\u6848\u4e2d\uff0c\u6211\u4eec\u5f97\u5728\u6bcf\u4e00\u4e2a childComponent \u7684\u6784\u9020\u51fd\u6570\u4e2d\u5199\u90a3\u6bb5\u66b4\u9732 this \u7684\u4ee3\u7801\uff0c\u9ebb\u70e6\u3001\u8d39\u52b2\u3002\u8fd9\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u5199\u4e00\u4e2aHOC\u4e13\u95e8\u6765\u505a\u8fd9\u4ef6\u4e8b\u60c5\uff0c\u6bd4\u5982 withRef : // \u53ea\u505a\u4e00\u4ef6\u4e8b\uff0c\u628a`WrappedComponent`\u56de\u4f20\u4e2a`getInstance`\uff08\u5982\u679c\u6709\u7684\u8bdd\uff09 export default ( WrappedComponent ) => { return class withRef extends Component { static displayName = `withRef( ${ WrappedComponent . displayName || WrappedComponent . name || 'Component' } )` ; render () { // \u8fd9\u91cc\u91cd\u65b0\u5b9a\u4e49\u4e00\u4e2aprops\u7684\u539f\u56e0\u662f: // \u4f60\u76f4\u63a5\u53bb\u4fee\u6539this.props.ref\u5728react\u5f00\u53d1\u6a21\u5f0f\u4e0b\u4f1a\u62a5\u9519\uff0c\u4e0d\u5141\u8bb8\u4f60\u53bb\u4fee\u6539 const props = { ... this . props , }; // \u5728\u8fd9\u91cc\u628agetInstance\u8d4b\u503c\u7ed9ref\uff0c // \u4f20\u7ed9`WrappedComponent`\uff0c\u8fd9\u6837\u5c31getInstance\u80fd\u83b7\u53d6\u5230`WrappedComponent`\u5b9e\u4f8b // \u611f\u8c22\u8bc4\u8bba\u533a\u7684[yangshenghaha]\u540c\u5b66\u7684\u5b8c\u5584 props . ref = ( el )=>{ this . props . getInstance && this . props . getInstance ( el ); this . props . ref && this . props . ref ( el ); } return ( < WrappedComponent {... props } /> ); } }; }; \u7136\u540e\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u4f7f\u7528 withRef @ withRouter @ withRef // \u8fd9\u6837\u4f7f\u7528\u662f\u4e0d\u662f\u65b9\u4fbf\u591a\u4e86\uff0c\u6ce8\u610f\uff1a\u8fd9\u53e5\u5fc5\u987b\u5199\u5728\u6700\u63a5\u8fd1`childComponent`\u7684\u5730\u65b9 export default class childComponent extends Component { constructor ( props ) { super ( props ); this . state = {}; } render () { return ( < div > this is childComponent < /div>) } } @ withRouter export default class parentComponent extends Component { constructor ( props ) { super ( props ); this . state = {}; } render () { return ( < childComponent // \u8fd9\u91cc\u83b7\u53d6\u7684\u662f`withRouter`\u7ec4\u4ef6\uff0c\u4e00\u822c\u6ca1\u5565\u7528\uff0c\u8fd9\u91cc\u5199\u51fa\u6765\u53ea\u662f\u4e3a\u4e86\u5bf9\u6bd4 ref = {( withRouter ) => { this . childCpWrapper = withRouter ; }} // \u8fd9\u91cc\u901a\u8fc7`getInstance`\u4f20\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u63a5\u6536`childComponent`\u5b9e\u4f8b\u5373\u53ef getInstance = {( childCp ) => { this . childCp = childCp ; }} /> ); } } \u901a\u8fc7\u8fd9\u4e2a\u5c0f\u95ee\u9898\uff0c\u5bf9\u9ad8\u9636\u7ec4\u4ef6\u7684\u7406\u89e3\u662f\u4e0d\u662f\u4e5f\u66f4\u6df1\u4e86\u4e9b\uff0c\u95ee\u9898\u624d\u662f\u6700\u597d\u7684\u6559\u6750\u554a\u3002\u6700\u540e\u8bf4\u4e00\u70b9\u5427\uff0c\u901a\u4fe1\u65b9\u5f0f\u6709\u5f88\u591a(\u66b4\u9732\u7ed9\u5168\u5c40\uff0cEventEmmiter, Props, ref...)\uff0c\u4f46\u662f\u6211\u5efa\u8bae\uff1a\u9047\u5230\u901a\u4fe1\u95ee\u9898\u8fd8\u662f\u4f18\u5148\u8003\u8651redux action\u9a71\u52a8\uff0c\u6570\u636e\u4f18\u5148\uff0c\u80fd\u901a\u8fc7\u6570\u636e\u9a71\u52a8\u89e3\u51b3\u7684\u5c3d\u91cf\u7528\u6570\u636e\u9a71\u52a8\uff0c\u6bd5\u7adf\u8fd9\u624d\u662f\u6211\u4eec\u7528react\u7684\u91cd\u8981\u539f\u56e0","title":"react \u4e2d\u901a\u8fc7ref\u83b7\u53d6\u9ad8\u9636\uff08HOC\uff09\u5b50\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u89e3\u51b3\u65b9\u6848.md"},{"location":"react/react%20%E4%B8%AD%E9%80%9A%E8%BF%87ref%E8%8E%B7%E5%8F%96%E9%AB%98%E9%98%B6%EF%BC%88HOC%EF%BC%89%E5%AD%90%E7%BB%84%E4%BB%B6%E5%AE%9E%E4%BE%8B%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#react-refhoc","text":"\u4eca\u5929\u5199react\u9879\u76ee\u9047\u5230\u4e00\u4e2a\u7236\u5b50\u7ec4\u4ef6\u901a\u4fe1\u7684\u95ee\u9898\u3002\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u5e38\u89c4\u7684\u95ee\u9898\u4e86\uff0c\u968f\u4fbf\u641c\u4e00\u4e0b\u5c31\u80fd\u5f97\u5230\u89e3\u51b3\u65b9\u6848\u3002\u603b\u4f53\u6765\u8bf4\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b\uff1a \u5b50\u7ec4\u4ef6\u9700\u8981\u83b7\u53d6\u7236\u7ec4\u4ef6\u7684\u4fe1\u606f\uff0c\u8fd9\u901a\u8fc7 props \u5c31\u53ef\u4ee5\u89e3\u51b3\uff1b \u7236\u7ec4\u4ef6\u9700\u8981\u77e5\u9053\u5b50\u7ec4\u4ef6\u7684\u4fe1\u606f\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7 ref \u89e3\u51b3\u3002 \u6211\u4eec\u8fd9\u91cc\u8bb2\u7684\u5c5e\u4e8e\u540e\u8005\uff0c\u4f46\u662f\u53c8\u6709\u4e9b\u7279\u6b8a\uff0c\u7279\u6b8a\u5c31\u5728\u4e8e\u5b50\u7ec4\u4ef6\u662f\u4e2a\u9ad8\u9636\u7ec4\u4ef6\uff0c\u6bd4\u5982\u4f7f\u7528 @connect @withRouter \u5305\u88f9\u8fc7\u7684\u7ec4\u4ef6\uff08\u5176\u5b9e\u5927\u90e8\u5206\u7ec4\u4ef6\u90fd\u4f1a\u88ab\u8fd9\u4e24\u4e2a\u5305\u88f9\uff09\uff0c\u5177\u4f53\u793a\u4f8b\u5982\u4e0b\uff1a @withRouter export default class childComponent extends Component { constructor(props) { super(props); this.state = {}; } render() { return (<div>this is childComponent</div>) } } @withRouter export default class parentComponent extends Component { constructor(props) { super(props); this.state = {}; } render () { return <childComponent ref={(v) => { this.childCp = v; }}/> } } \u4e0a\u9762\u7684childComponent\u88abwithRouter\u5305\u88f9\u8fc7\u4e00\u904d\u540e\uff0c\u8fd9\u65f6\u5019\u4f60\u5728 parentComponent \u4e2d\u901a\u8fc7 ref \u83b7\u53d6\u5230\u7684\u662f\u5e76\u4e0d\u4f1a\u662f childComponent \uff0c\u800c\u662f withRouter \u7ec4\u4ef6\u3002\u8fd9\u5c31\u6bd4\u8f83\u5c34\u5c2c\u4e86\uff0c\u6211\u4eec\u5927\u591a\u6570\u60c5\u51b5\u80af\u5b9a\u662f\u9700\u8981\u83b7\u53d6\u81ea\u5df1\u5199\u7684\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u3002\u6709\u4e00\u70b9\u9700\u8981\u8bb2\u660e\u767d\uff1a\u5c31\u662f\u901a\u8fc7 ref \u83b7\u53d6\u5230\u7684\u4e0d\u662f childComponent \uff0c\u5728\u539f\u7406\u4e0a\u662f\u5bf9\u7684\uff0c\u5982\u679c\u83b7\u53d6\u5230\u662f childComponent \u7ec4\u4ef6\u90a3\u624d\u662f\u6709\u95ee\u9898\u7684\uff0c\u6709\u6096\u4f26\u7406\u77e5\u9053\u54c7\u3002 \u65e2\u7136\u901a\u8fc7\u5b98\u65b9\u63d0\u4f9b\u7684 ref \u65e0\u6cd5\u83b7\u53d6\u5230\u6211\u4eec\u60f3\u8981\u7684 ref \uff0c\u90a3\u6211\u4eec\u5c31\u6765\u4ed4\u7ec6\u60f3\u4e0b ref \u83b7\u53d6\u5230\u7684\u662f\u5565\uff1f\u6211\u4eec\u56de\u5f52\u5230javascript\u8bed\u8a00\u5c42\u9762\u6765\u770b\uff0c\u90a3\u4e0d\u5c31\u662f\u7ec4\u4ef6\u4e2d\u7684this\u4e48\u3002 @ withRouter export default class childComponent extends Component { constructor ( props ) { super ( props ); this . state = {}; // \u6211\u4eec\u9700\u8981\u83b7\u53d6\u5230\u7684\u5c31\u662f\u8fd9\u4e2athis\u800c\u5df2 } render () { return ( < div > this is childComponent < /div>) } } \u77e5\u9053\u6211\u4eec\u9700\u8981\u83b7\u53d6\u5230\u7684\u662f\u5565\u4e86\uff0c\u90a3\u5c31\u597d\u529e\u4e86\uff0c\u6211\u7ed9 childComponent \u4f20\u4e00\u4e2a prop \u4e13\u95e8\u6765get\u8fd9\u4e2athis\u4e0d\u5c31\u597d\u4e86\uff0c\u6bd4\u5982\u4f7f\u7528 getInstance \uff1a @ withRouter export default class childComponent extends Component { constructor ( props ) { super ( props ); this . state = {}; const { getInstance } = props ; if ( typeof getInstance === 'function' ) { getInstance ( this ); // \u5728\u8fd9\u91cc\u628athis\u66b4\u9732\u7ed9`parentComponent` } } render () { return ( < div > this is childComponent < /div>) } } @ withRouter export default class parentComponent extends Component { constructor ( props ) { super ( props ); this . state = {}; } render () { return ( < childComponent ref = {( withRouter ) => { this . childCpWrapper = withRouter ; }} // \u8fd9\u91cc\u83b7\u53d6\u7684\u662f`withRouter`\u7ec4\u4ef6\uff0c\u4e00\u822c\u6ca1\u5565\u7528\uff0c\u8fd9\u91cc\u5199\u51fa\u6765\u53ea\u662f\u4e3a\u4e86\u5bf9\u6bd4 getInstance = {( childCp ) => { this . childCp = childCp ; }} // \u8fd9\u91cc\u901a\u8fc7`getInstance`\u4f20\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u63a5\u6536`childComponent`\u5b9e\u4f8b\u5373\u53ef /> ); } } perfect ! \u95ee\u9898\u89e3\u51b3\u4e86\uff0c\u8fd9\u6837\u6211\u4e0d\u7ba1\u4f60\u600e\u4e48\u7528\u5565\u9ad8\u9636\u7ec4\u4ef6\u3001\u7528\u591a\u5c11\u4e2a\u9ad8\u9636\u7ec4\u4ef6\u5305\u88f9\u6211\u4eec childComponent \uff0c\u6211\u4eec\u90fd\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a getInstance \uff0c\u7a7f\u8d8a\u5343\u5c71\u4e07\u6c34\u76f4\u63a5\u83b7\u53d6 childComponent \u5b9e\u4f8b\u3002 \u5f53\u7136\u5b8c\u7f8e\u4e5f\u662f\u76f8\u5bf9\u7684\uff0c\u6bd4\u5982\u4e0a\u9762\u7684\u65b9\u6848\u4e2d\uff0c\u6211\u4eec\u5f97\u5728\u6bcf\u4e00\u4e2a childComponent \u7684\u6784\u9020\u51fd\u6570\u4e2d\u5199\u90a3\u6bb5\u66b4\u9732 this \u7684\u4ee3\u7801\uff0c\u9ebb\u70e6\u3001\u8d39\u52b2\u3002\u8fd9\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u5199\u4e00\u4e2aHOC\u4e13\u95e8\u6765\u505a\u8fd9\u4ef6\u4e8b\u60c5\uff0c\u6bd4\u5982 withRef : // \u53ea\u505a\u4e00\u4ef6\u4e8b\uff0c\u628a`WrappedComponent`\u56de\u4f20\u4e2a`getInstance`\uff08\u5982\u679c\u6709\u7684\u8bdd\uff09 export default ( WrappedComponent ) => { return class withRef extends Component { static displayName = `withRef( ${ WrappedComponent . displayName || WrappedComponent . name || 'Component' } )` ; render () { // \u8fd9\u91cc\u91cd\u65b0\u5b9a\u4e49\u4e00\u4e2aprops\u7684\u539f\u56e0\u662f: // \u4f60\u76f4\u63a5\u53bb\u4fee\u6539this.props.ref\u5728react\u5f00\u53d1\u6a21\u5f0f\u4e0b\u4f1a\u62a5\u9519\uff0c\u4e0d\u5141\u8bb8\u4f60\u53bb\u4fee\u6539 const props = { ... this . props , }; // \u5728\u8fd9\u91cc\u628agetInstance\u8d4b\u503c\u7ed9ref\uff0c // \u4f20\u7ed9`WrappedComponent`\uff0c\u8fd9\u6837\u5c31getInstance\u80fd\u83b7\u53d6\u5230`WrappedComponent`\u5b9e\u4f8b // \u611f\u8c22\u8bc4\u8bba\u533a\u7684[yangshenghaha]\u540c\u5b66\u7684\u5b8c\u5584 props . ref = ( el )=>{ this . props . getInstance && this . props . getInstance ( el ); this . props . ref && this . props . ref ( el ); } return ( < WrappedComponent {... props } /> ); } }; }; \u7136\u540e\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u4f7f\u7528 withRef @ withRouter @ withRef // \u8fd9\u6837\u4f7f\u7528\u662f\u4e0d\u662f\u65b9\u4fbf\u591a\u4e86\uff0c\u6ce8\u610f\uff1a\u8fd9\u53e5\u5fc5\u987b\u5199\u5728\u6700\u63a5\u8fd1`childComponent`\u7684\u5730\u65b9 export default class childComponent extends Component { constructor ( props ) { super ( props ); this . state = {}; } render () { return ( < div > this is childComponent < /div>) } } @ withRouter export default class parentComponent extends Component { constructor ( props ) { super ( props ); this . state = {}; } render () { return ( < childComponent // \u8fd9\u91cc\u83b7\u53d6\u7684\u662f`withRouter`\u7ec4\u4ef6\uff0c\u4e00\u822c\u6ca1\u5565\u7528\uff0c\u8fd9\u91cc\u5199\u51fa\u6765\u53ea\u662f\u4e3a\u4e86\u5bf9\u6bd4 ref = {( withRouter ) => { this . childCpWrapper = withRouter ; }} // \u8fd9\u91cc\u901a\u8fc7`getInstance`\u4f20\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u63a5\u6536`childComponent`\u5b9e\u4f8b\u5373\u53ef getInstance = {( childCp ) => { this . childCp = childCp ; }} /> ); } } \u901a\u8fc7\u8fd9\u4e2a\u5c0f\u95ee\u9898\uff0c\u5bf9\u9ad8\u9636\u7ec4\u4ef6\u7684\u7406\u89e3\u662f\u4e0d\u662f\u4e5f\u66f4\u6df1\u4e86\u4e9b\uff0c\u95ee\u9898\u624d\u662f\u6700\u597d\u7684\u6559\u6750\u554a\u3002\u6700\u540e\u8bf4\u4e00\u70b9\u5427\uff0c\u901a\u4fe1\u65b9\u5f0f\u6709\u5f88\u591a(\u66b4\u9732\u7ed9\u5168\u5c40\uff0cEventEmmiter, Props, ref...)\uff0c\u4f46\u662f\u6211\u5efa\u8bae\uff1a\u9047\u5230\u901a\u4fe1\u95ee\u9898\u8fd8\u662f\u4f18\u5148\u8003\u8651redux action\u9a71\u52a8\uff0c\u6570\u636e\u4f18\u5148\uff0c\u80fd\u901a\u8fc7\u6570\u636e\u9a71\u52a8\u89e3\u51b3\u7684\u5c3d\u91cf\u7528\u6570\u636e\u9a71\u52a8\uff0c\u6bd5\u7adf\u8fd9\u624d\u662f\u6211\u4eec\u7528react\u7684\u91cd\u8981\u539f\u56e0","title":"react \u4e2d\u901a\u8fc7ref\u83b7\u53d6\u9ad8\u9636\uff08HOC\uff09\u5b50\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u89e3\u51b3\u65b9\u6848"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/","text":"react \u9879\u76ee\u7ed3\u6784\u53ca\u7f16\u7801\u89c4\u8303 \u00b6 \u9879\u76ee\u7ed3\u6784 \u00b6 project-name ---------------------------------- \u9879\u76ee\u540d\u5b57 build --------------------------------------- \u6253\u5305\u540e\u6587\u4ef6\u5939 config -------------------------------------- webpack\u914d\u7f6e\u6587\u4ef6 node-modules -------------------------------- \u9879\u76ee\u4f9d\u8d56\u7b2c\u4e09\u65b9\u5e93 scripts ------------------------------------- \u6253\u5305\uff0c\u8fd0\u884c\uff0c\u6d4b\u8bd5\u811a\u672c src ----------------------------------------- \u9879\u76ee\u6e90\u7801\u6587\u4ef6\u5939 assets ------------------------------------ \u516c\u5171\u6837\u5f0f\uff0c\u5b57\u4f53\u7b49\u6587\u4ef6\u5939 common ------------------------------------ \u5b9a\u4e49\u7684\u5de5\u5177\u51fd\u6570\u3001\u901a\u7528\u5e38\u91cf\u3001ajax\u8bf7\u6c42\u7b49\u516c\u7528\u7ec4\u4ef6 components -------------------------------- \u516c\u7528\u7ec4\u4ef6\u6587\u4ef6\u5939\uff08\u63d0\u5347\u4e3a\u901a\u7528\u7ec4\u4ef6\uff0c\u4ee5\u6570\u636e\u9a71\u52a8\u4e3a\u4e3b\uff09 css --------------------------------------- \u7ec4\u4ef6\u81ea\u5b9a\u4e49\u6837\u5f0f\u6587\u4ef6\u5939 pages ------------------------------------- \u5b8c\u6210\u754c\u9762\u6587\u4ef6\u5939\uff08\u7ec4\u6210\u9879\u76ee\u4e2d\u6574\u4e2a\u754c\u9762\uff09 module1 --------------------------------- \u6a21\u5757\u4e00 module2 --------------------------------- \u6a21\u5757\u4e8c **.js ------------------------------------- \u9879\u76ee\u5165\u53e3\u6587\u4ef6 test ---------------------------------------- \u6d4b\u8bd5\u6587\u4ef6\u5939 .babelrc ------------------------------------ \u662fbabel\u914d\u7f6e\u6587\u4ef6 package.json -------------------------------- \u9879\u76ee\u4f9d\u8d56\u5e93\u6587\u4ef6 \u200b \u7f16\u7801\u89c4\u8303 \u00b6 Table of Contents \u00b6 Basic Rules Class vs React.createClass vs stateless Mixins Naming Declaration Alignment Quotes Spacing Props Refs Parentheses Tags Methods Ordering isMounted Basic Rules \u00b6 Only include one React component per file. \u4e00\u4e2a\u6587\u4ef6\u5305\u542b\u4e00\u4e2a React Component \u7ec4\u4ef6\u3002 However, multiple Stateless, or Pure, Components are allowed per file. eslint: react/no-multi-comp . \u7279\u6b8a\u60c5\u51b5\uff1a\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u7eaf\u7ec4\u4ef6 Always use JSX syntax. \u4f7f\u7528 JSX \u8bed\u6cd5 Do not use React.createElement unless you\u2019re initializing the app from a file that is not JSX.\uff08\u4e0d\u8981\u4f7f\u7528 React.createElement \u65b9\u6cd5\uff0c\u9664\u975e\u4f60\u5728\u521d\u59cb\u5316APP\u65f6\u7684 index.js \u4e2d\u4e0d\u4f7f\u7528 JSX \u8bed\u6cd5\uff09 Class vs React.createClass vs stateless \u00b6 If you have internal state and/or refs, prefer class extends React.Component over React.createClass . eslint: react/prefer-es6-class react/prefer-stateless-function \u5c06 React \u7c7b\u653e\u5728\u4e00\u4e2a\u53d8\u91cf\u4e2d\uff08const Name = React.createClass\uff09\uff0c\u8fd8\u662f\u76f4\u63a5\u7ee7\u627f\u81ea\u7ec4\u4ef6\uff08class Name extends React.Component\uff09\uff1f\u5982\u679c\u5185\u90e8\u542b\u6709state \u6216\u8005refs \u7b49\uff0c\u6700\u597d\u8bbe\u7f6e React.Component. \u5982\u679c\u4ec5\u4ec5\u662f\u5355\u5411\u7ec4\u4ef6\uff0c\u53ea\u6709props, \u6ca1\u6709\u590d\u6742\u7528\u6237\u4ea4\u4e92\uff0c\u53ef\u4ee5\u8bbe\u7f6e createClass \u6216\u8005 Purecomponent. // bad const Listing = React.createClass({ // ... render() { return <div>{this.state.hello}</div>; } }); // good class Listing extends React.Component { // ... render() { return <div>{this.state.hello}</div>; } } And if you don\u2019t have state or refs, prefer normal functions (not arrow functions) over classes\u3002\u5982\u679c\u6ca1\u6709 state \u548c refs\uff0c\u53ea\u6709 props \u4e0d\u9700\u8981\u4f7f\u7528\u7bad\u5934\u51fd\u6570\uff0c\u76f4\u63a5\u4f7f\u7528\u666e\u901a\u51fd\u6570\u4f20\u503c\u5373\u53ef\u3002 // bad class Listing extends React.Component { render() { return <div>{this.props.hello}</div>; } } // bad (relying on function name inference is discouraged) const Listing = ({ hello }) => ( <div>{hello}</div> ); // good function Listing({ hello }) { return <div>{hello}</div>; } Mixins \u00b6 Do not use mixins . Why? Mixins introduce implicit dependencies, cause name clashes, and cause snowballing complexity. Most use cases for mixins can be accomplished in better ways via components, higher-order components, or utility modules. \u4e0d\u8981\u4f7f\u7528\u6df7\u5408\u7ec4\u4ef6\uff1amixins \u5f15\u5165\u4e86\u6df1\u5c42\u4f9d\u8d56\u5173\u7cfb\uff0c\u53ef\u80fd\u540d\u79f0\u51b2\u7a81\uff0c\u5e76\u5bfc\u81f4\u6eda\u96ea\u7403\u5f0f\u590d\u6742\u6027\u3002mixin\u7684\u5927\u591a\u6570\u7528\u4f8b\u90fd\u53ef\u4ee5\u901a\u8fc7\u7ec4\u4ef6\u3001\u9ad8\u9636\u7ec4\u4ef6\u3001\u5b9e\u7528\u7a0b\u5e8f\u6a21\u5757\u4ee5\u66f4\u597d\u7684\u65b9\u5f0f\u5b8c\u6210\u3002 \u5212\u91cd\u70b9\uff1a\u6743\u8d23\u5206\u660e\uff0c\u907f\u514d\u6df1\u5c42\u5f15\u7528\u3002\u4e00\u4e2a\u51fd\u6570\u5bf9\u5e94\u4e00\u4e2a\u4e3b\u8981\u529f\u80fd\uff0c\u4e00\u4e2a\u7ec4\u4ef6\u5bf9\u5e94\u754c\u9762\u7684\u4e00\u4e2a UI \u90e8\u5206\u3002\u5c3d\u91cf\u5b9e\u73b0\u7ec4\u4ef6\u7684\u7ee7\u627f\u548c\u590d\u7528\u3002 Naming \u00b6 Extensions : Use .js extension for React components. Filename : Use reservation-card for filenames. E.g., reservation-card.js . \u6587\u4ef6\u540d\u4f7f\u7528\u5c0f\u5199\u5f00\u5934\uff08\u8fde\u63a5\u7b26\uff09 // bad import reservationCard from './reservation-card'; // good import ReservationCard from './reservation-card'; // bad const ReservationItem = <ReservationCard />; // good const reservationItem = <ReservationCard />; Component Naming : Use the filename as the component name. For example, ReservationCard.jsx should have a reference name of ReservationCard . However, for root components of a directory, use index.jsx as the filename and use the directory name as the component name: React \u7ec4\u4ef6\u4f7f\u7528\u5927\u5199\u5f00\u5934\uff0c\u7ec4\u4ef6\u540d\u548c\u6587\u4ef6\u540d\u76f8\u540c\uff08\u4fbf\u4e8e\u8c03\u7528\uff09\u3002\u53d8\u91cf\u540d\u4f7f\u7528\u5c0f\u5199\u5f00\u5934\uff08\u9a7c\u5cf0\uff09 // bad import Footer from './Footer/Footer'; // bad import Footer from './Footer/index'; // good import Footer from './Footer'; Higher-order Component Naming : Use a composite of the higher-order component\u2019s name and the passed-in component\u2019s name as the displayName on the generated component. For example, the higher-order component withFoo() , when passed a component Bar should produce a component with a displayName of withFoo(Bar) . Why? A component\u2019s displayName may be used by developer tools or in error messages, and having a value that clearly expresses this relationship helps people understand what is happening. // bad export default function withFoo(WrappedComponent) { return function WithFoo(props) { return <WrappedComponent {...props} foo />; } } // good export default function withFoo(WrappedComponent) { function WithFoo(props) { return <WrappedComponent {...props} foo />; } const wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || 'Component'; WithFoo.displayName = `withFoo(${wrappedComponentName})`; return WithFoo; } Props Naming : Avoid using DOM component prop names for different purposes. Why? People expect props like style and className to mean one specific thing. Varying this API for a subset of your app makes the code less readable and less maintainable, and may cause bugs. props\u4e0d\u80fd\u548c\u5df2\u6709 HTML \u5c5e\u6027\u91cd\u590d // bad <MyComponent style=\"fancy\" /> // bad <MyComponent className=\"fancy\" /> // good <MyComponent variant=\"fancy\" /> Declaration \u00b6 Do not use displayName for naming components. Instead, name the component by reference. // bad export default React.createClass({ displayName: 'ReservationCard', // stuff goes here }); // good export default class ReservationCard extends React.Component { } Alignment \u00b6 Follow these alignment styles for JSX syntax. eslint: react/jsx-closing-bracket-location react/jsx-closing-tag-location JSX \u5bf9\u9f50\u89c4\u5219 // bad <Foo superLongParam=\"bar\" anotherSuperLongParam=\"baz\" /> // good \u591a\u884c\u5206\u5f00\u663e\u793a <Foo superLongParam=\"bar\" anotherSuperLongParam=\"baz\" /> // if props fit in one line then keep it on the same line \u4e00\u884c\u5185\u663e\u793a <Foo bar=\"bar\" /> // children get indented normally <Foo superLongParam=\"bar\" anotherSuperLongParam=\"baz\" > <Quux /> </Foo> // bad {showButton && <Button /> } // bad { showButton && <Button /> } // good \u591a\u884c\u663e\u793aJSX {showButton && ( <Button /> )} // good {showButton && <Button />} Quotes \u00b6 Always use double quotes ( \" ) for JSX attributes, but single quotes ( ' ) for all other JS. eslint: jsx-quotes Why? Regular HTML attributes also typically use double quotes instead of single, so JSX attributes mirror this convention. // bad <Foo bar='bar' /> // good <Foo bar=\"bar\" /> // bad <Foo style={{ left: \"20px\" }} /> // good <Foo style={{ left: '20px' }} /> Spacing \u00b6 Always include a single space in your self-closing tag. eslint: no-multi-spaces , react/jsx-tag-spacing // bad <Foo/> // very bad <Foo /> // bad <Foo /> // good <Foo /> Do not pad JSX curly braces with spaces. eslint: react/jsx-curly-spacing // bad <Foo bar={ baz } /> // good <Foo bar={baz} /> Props \u00b6 Always use camelCase for prop names. // bad <Foo UserName=\"hello\" phone_number={12345678} /> // good <Foo userName=\"hello\" phoneNumber={12345678} /> Omit the value of the prop when it is explicitly true . eslint: react/jsx-boolean-value \u5982\u679c\u4f20\u503c\u662f true \u53ef\u4ee5\u7701\u7565 // bad <Foo hidden={true} /> // good <Foo hidden /> // good <Foo hidden /> Always include an alt prop on <img> tags. If the image is presentational, alt can be an empty string or the <img> must have role=\"presentation\" . eslint: jsx-a11y/alt-text // bad <img src=\"hello.jpg\" /> // good <img src=\"hello.jpg\" alt=\"Me waving hello\" /> // good <img src=\"hello.jpg\" alt=\"\" /> // good <img src=\"hello.jpg\" role=\"presentation\" /> Do not use words like \"image\", \"photo\", or \"picture\" in <img> alt props. eslint: jsx-a11y/img-redundant-alt Why? Screenreaders already announce img elements as images, so there is no need to include this information in the alt text. // bad <img src=\"hello.jpg\" alt=\"Picture of me waving hello\" /> // good <img src=\"hello.jpg\" alt=\"Me waving hello\" /> Use only valid, non-abstract ARIA roles . eslint: jsx-a11y/aria-role // bad - not an ARIA role <div role=\"datepicker\" /> // bad - abstract ARIA role <div role=\"range\" /> // good <div role=\"button\" /> Do not use accessKey on elements. eslint: jsx-a11y/no-access-key Why? Inconsistencies between keyboard shortcuts and keyboard commands used by people using screenreaders and keyboards complicate accessibility. // bad <div accessKey=\"h\" /> // good <div /> Avoid using an array index as key prop, prefer a stable ID. Why? Not using a stable ID is an anti-pattern because it can negatively impact performance and cause issues with component state. We don\u2019t recommend using indexes for keys if the order of items may change. \u6ce8\u610f\uff1a\u907f\u514d\u4f7f\u7528\u7bad\u5934\u51fd\u6570\u7684 index \u4f5c\u4e3a\u5b50\u7ec4\u4ef6\u7684 key \u503c\u3002\u4e0d\u4f7f\u7528\u7a33\u5b9aID\u662f\u4e00\u79cd\u53cd\u6a21\u5f0f\uff0c\u56e0\u4e3a\u5b83\u4f1a\u5bf9\u6027\u80fd\u4ea7\u751f\u8d1f\u9762\u5f71\u54cd\uff0c\u5e76\u5bfc\u81f4\u7ec4\u4ef6\u72b6\u6001\u95ee\u9898\u3002\u5982\u679c\u5b50\u7ec4\u4ef6item\u53ef\u80fd\u53d8\u5316\u662f\uff0c\u4f8b\u5982\u8bc4\u8bba\uff0c\u6700\u597d\u4f7f\u7528id\u4e0d\u4f7f\u7528index\u3002 // bad {todos.map((todo, index) => <Todo {...todo} key={index} /> )} // good {todos.map(todo => ( <Todo {...todo} key={todo.id} /> ))} Always define explicit defaultProps for all non-required props. Why? propTypes are a form of documentation, and providing defaultProps means the reader of your code doesn\u2019t have to assume as much. In addition, it can mean that your code can omit certain type checks. \u4f7f\u7528 SFC.defaultProps \u53ef\u4ee5\u8ba9\u4f7f\u7528\u7ec4\u4ef6\u7684\u4eba\u77e5\u9053\u9700\u8981\u4f20\u5165\u7684\u53c2\u6570\u548c\u7c7b\u578b\uff1b\u540c\u65f6\u5199 propTypes \u4e5f\u66f4\u597d // bad function SFC({ foo, bar, children }) { return <div>{foo}{bar}{children}</div>; } SFC.propTypes = { foo: PropTypes.number.isRequired, bar: PropTypes.string, children: PropTypes.node, }; // good function SFC({ foo, bar, children }) { return <div>{foo}{bar}{children}</div>; } SFC.propTypes = { foo: PropTypes.number.isRequired, bar: PropTypes.string, children: PropTypes.node, }; SFC.defaultProps = { bar: '', children: null, }; Use spread props sparingly. \u5c3d\u91cf\u5c11\u7528 props \u4e0d\u8981\u4f20\u6ca1\u5fc5\u8981\u7684 props Why? Otherwise you\u2019re more likely to pass unnecessary props down to components. And for React v15.6.1 and older, you could pass invalid HTML attributes to the DOM . Exceptions: HOCs that proxy down props and hoist propTypes function HOC(WrappedComponent) { return class Proxy extends React.Component { Proxy.propTypes = { text: PropTypes.string, isLoading: PropTypes.bool }; render() { return <WrappedComponent {...this.props} /> } } } Spreading objects with known, explicit props. This can be particularly useful when testing React components with Mocha\u2019s beforeEach construct. export default function Foo { const props = { text: '', isPublished: false } return (<div {...props} />); } Notes for use: Filter out unnecessary props when possible. Also, use prop-types-exact to help prevent bugs. // bad render() { const { irrelevantProp, ...relevantProps } = this.props; return <WrappedComponent {...this.props} /> } // good render() { const { irrelevantProp, ...relevantProps } = this.props; return <WrappedComponent {...relevantProps} /> } Refs \u00b6 Always use ref callbacks. eslint: react/no-string-refs \u4f7f\u7528\u7bad\u5934\u51fd\u6570\u5c06refs\u7ed1\u5b9a\u5230\u5c5e\u6027\u4e0a\uff0c\u907f\u514d\u76f4\u63a5\u4f7f\u7528\u5b57\u7b26\u4e32\u3002 // bad <Foo ref=\"myRef\" /> // good <Foo ref={(ref) => { this.myRef = ref; }} /> Parentheses \u00b6 Wrap JSX tags in parentheses when they span more than one line. eslint: react/jsx-wrap-multilines return \u591a\u884c\u52a0\u62ec\u53f7\uff0c\u5355\u884c\u4e0d\u9700\u8981\u52a0\u62ec\u53f7 // bad render() { return <MyComponent variant=\"long body\" foo=\"bar\"> <MyChild /> </MyComponent>; } // good render() { return ( <MyComponent variant=\"long body\" foo=\"bar\"> <MyChild /> </MyComponent> ); } // good, when single line render() { const body = <div>hello</div>; return <MyComponent>{body}</MyComponent>; } Tags \u00b6 Always self-close tags that have no children. eslint: react/self-closing-comp // bad <Foo variant=\"stuff\"></Foo> // good <Foo variant=\"stuff\" /> If your component has multi-line properties, close its tag on a new line. eslint: react/jsx-closing-bracket-location // bad <Foo bar=\"bar\" baz=\"baz\" /> // good <Foo bar=\"bar\" baz=\"baz\" /> Methods \u00b6 Use arrow functions to close over local variables. function ItemList(props) { return ( <ul> {props.items.map((item, index) => ( <Item key={item.key} onClick={() => doSomethingWith(item.name, index)} /> ))} </ul> ); } Bind event handlers for the render method in the constructor. eslint: react/jsx-no-bind Why? A bind call in the render path creates a brand new function on every single render. // bad class extends React.Component { onClickDiv() { // do stuff } render() { return <div onClick={this.onClickDiv.bind(this)} />; } } // good class extends React.Component { onClickDiv = () => { // do stuff } render() { return <div onClick={this.onClickDiv} />; } } Do not use underscore prefix for internal methods of a React component. \u7ec4\u4ef6\u5185\u90e8\u7684\u51fd\u6570\u540d\u4e0d\u8981\u4ee5\u4e0b\u5212\u7ebf\u5f00\u5934\u3002 > Why? Underscore prefixes are sometimes used as a convention in other languages to denote privacy. But, unlike those languages, there is no native support for privacy in JavaScript, everything is public. Regardless of your intentions, adding underscore prefixes to your properties does not actually make them private, and any property (underscore-prefixed or not) should be treated as being public. See issues #1024 , and #490 for a more in-depth discussion. // bad React.createClass({ _onClickSubmit() { // do stuff }, // other stuff }); // good class extends React.Component { onClickSubmit() { // do stuff } // other stuff } Be sure to return a value in your render methods. eslint: react/require-render-return render \u4e2d\u5fc5\u987b\u6709 return \u65b9\u6cd5\u3002 // bad render() { (<div />); } // good render() { return (<div />); } Ordering \u00b6 Ordering for class extends React.Component : optional static methods constructor getChildContext componentWillMount componentDidMount componentWillReceiveProps shouldComponentUpdate componentWillUpdate componentDidUpdate componentWillUnmount clickHandlers or eventHandlers like onClickSubmit() or onChangeDescription() getter methods for render like getSelectReason() or getFooterContent() optional render methods like renderNavigation() or renderProfilePicture() render How to define propTypes , defaultProps , contextTypes , etc... \u751f\u547d\u5468\u671f\u51fd\u6570+\u4e8b\u4ef6\u5904\u7406\u51fd\u6570+\u83b7\u53d6\u4fe1\u606f\u51fd\u6570+\u6e32\u67d3\u51fd\u6570 import React from 'react'; import PropTypes from 'prop-types'; const propTypes = { id: PropTypes.number.isRequired, url: PropTypes.string.isRequired, text: PropTypes.string, }; const defaultProps = { text: 'Hello World', }; class Link extends React.Component { static methodsAreOk() { return true; } render() { return <a href={this.props.url} data-id={this.props.id}>{this.props.text}</a>; } } Link.propTypes = propTypes; Link.defaultProps = defaultProps; export default Link; Ordering for React.createClass : eslint: react/sort-comp displayName propTypes contextTypes childContextTypes mixins statics defaultProps getDefaultProps getInitialState getChildContext componentWillMount componentDidMount componentWillReceiveProps shouldComponentUpdate componentWillUpdate componentDidUpdate componentWillUnmount clickHandlers or eventHandlers like onClickSubmit() or onChangeDescription() getter methods for render like getSelectReason() or getFooterContent() optional render methods like renderNavigation() or renderProfilePicture() render isMounted \u00b6 Do not use isMounted . eslint: react/no-is-mounted Why? isMounted is an anti-pattern , is not available when using ES6 classes, and is on its way to being officially deprecated.","title":"react \u9879\u76ee\u7ed3\u6784\u53ca\u7f16\u7801\u89c4\u8303.md"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#react","text":"","title":"react \u9879\u76ee\u7ed3\u6784\u53ca\u7f16\u7801\u89c4\u8303"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#_1","text":"project-name ---------------------------------- \u9879\u76ee\u540d\u5b57 build --------------------------------------- \u6253\u5305\u540e\u6587\u4ef6\u5939 config -------------------------------------- webpack\u914d\u7f6e\u6587\u4ef6 node-modules -------------------------------- \u9879\u76ee\u4f9d\u8d56\u7b2c\u4e09\u65b9\u5e93 scripts ------------------------------------- \u6253\u5305\uff0c\u8fd0\u884c\uff0c\u6d4b\u8bd5\u811a\u672c src ----------------------------------------- \u9879\u76ee\u6e90\u7801\u6587\u4ef6\u5939 assets ------------------------------------ \u516c\u5171\u6837\u5f0f\uff0c\u5b57\u4f53\u7b49\u6587\u4ef6\u5939 common ------------------------------------ \u5b9a\u4e49\u7684\u5de5\u5177\u51fd\u6570\u3001\u901a\u7528\u5e38\u91cf\u3001ajax\u8bf7\u6c42\u7b49\u516c\u7528\u7ec4\u4ef6 components -------------------------------- \u516c\u7528\u7ec4\u4ef6\u6587\u4ef6\u5939\uff08\u63d0\u5347\u4e3a\u901a\u7528\u7ec4\u4ef6\uff0c\u4ee5\u6570\u636e\u9a71\u52a8\u4e3a\u4e3b\uff09 css --------------------------------------- \u7ec4\u4ef6\u81ea\u5b9a\u4e49\u6837\u5f0f\u6587\u4ef6\u5939 pages ------------------------------------- \u5b8c\u6210\u754c\u9762\u6587\u4ef6\u5939\uff08\u7ec4\u6210\u9879\u76ee\u4e2d\u6574\u4e2a\u754c\u9762\uff09 module1 --------------------------------- \u6a21\u5757\u4e00 module2 --------------------------------- \u6a21\u5757\u4e8c **.js ------------------------------------- \u9879\u76ee\u5165\u53e3\u6587\u4ef6 test ---------------------------------------- \u6d4b\u8bd5\u6587\u4ef6\u5939 .babelrc ------------------------------------ \u662fbabel\u914d\u7f6e\u6587\u4ef6 package.json -------------------------------- \u9879\u76ee\u4f9d\u8d56\u5e93\u6587\u4ef6 \u200b","title":"\u9879\u76ee\u7ed3\u6784"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#_2","text":"","title":"\u7f16\u7801\u89c4\u8303"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#table-of-contents","text":"Basic Rules Class vs React.createClass vs stateless Mixins Naming Declaration Alignment Quotes Spacing Props Refs Parentheses Tags Methods Ordering isMounted","title":"Table of Contents"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#basic-rules","text":"Only include one React component per file. \u4e00\u4e2a\u6587\u4ef6\u5305\u542b\u4e00\u4e2a React Component \u7ec4\u4ef6\u3002 However, multiple Stateless, or Pure, Components are allowed per file. eslint: react/no-multi-comp . \u7279\u6b8a\u60c5\u51b5\uff1a\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u7eaf\u7ec4\u4ef6 Always use JSX syntax. \u4f7f\u7528 JSX \u8bed\u6cd5 Do not use React.createElement unless you\u2019re initializing the app from a file that is not JSX.\uff08\u4e0d\u8981\u4f7f\u7528 React.createElement \u65b9\u6cd5\uff0c\u9664\u975e\u4f60\u5728\u521d\u59cb\u5316APP\u65f6\u7684 index.js \u4e2d\u4e0d\u4f7f\u7528 JSX \u8bed\u6cd5\uff09","title":"Basic Rules"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#class-vs-reactcreateclass-vs-stateless","text":"If you have internal state and/or refs, prefer class extends React.Component over React.createClass . eslint: react/prefer-es6-class react/prefer-stateless-function \u5c06 React \u7c7b\u653e\u5728\u4e00\u4e2a\u53d8\u91cf\u4e2d\uff08const Name = React.createClass\uff09\uff0c\u8fd8\u662f\u76f4\u63a5\u7ee7\u627f\u81ea\u7ec4\u4ef6\uff08class Name extends React.Component\uff09\uff1f\u5982\u679c\u5185\u90e8\u542b\u6709state \u6216\u8005refs \u7b49\uff0c\u6700\u597d\u8bbe\u7f6e React.Component. \u5982\u679c\u4ec5\u4ec5\u662f\u5355\u5411\u7ec4\u4ef6\uff0c\u53ea\u6709props, \u6ca1\u6709\u590d\u6742\u7528\u6237\u4ea4\u4e92\uff0c\u53ef\u4ee5\u8bbe\u7f6e createClass \u6216\u8005 Purecomponent. // bad const Listing = React.createClass({ // ... render() { return <div>{this.state.hello}</div>; } }); // good class Listing extends React.Component { // ... render() { return <div>{this.state.hello}</div>; } } And if you don\u2019t have state or refs, prefer normal functions (not arrow functions) over classes\u3002\u5982\u679c\u6ca1\u6709 state \u548c refs\uff0c\u53ea\u6709 props \u4e0d\u9700\u8981\u4f7f\u7528\u7bad\u5934\u51fd\u6570\uff0c\u76f4\u63a5\u4f7f\u7528\u666e\u901a\u51fd\u6570\u4f20\u503c\u5373\u53ef\u3002 // bad class Listing extends React.Component { render() { return <div>{this.props.hello}</div>; } } // bad (relying on function name inference is discouraged) const Listing = ({ hello }) => ( <div>{hello}</div> ); // good function Listing({ hello }) { return <div>{hello}</div>; }","title":"Class vs React.createClass vs stateless"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#mixins","text":"Do not use mixins . Why? Mixins introduce implicit dependencies, cause name clashes, and cause snowballing complexity. Most use cases for mixins can be accomplished in better ways via components, higher-order components, or utility modules. \u4e0d\u8981\u4f7f\u7528\u6df7\u5408\u7ec4\u4ef6\uff1amixins \u5f15\u5165\u4e86\u6df1\u5c42\u4f9d\u8d56\u5173\u7cfb\uff0c\u53ef\u80fd\u540d\u79f0\u51b2\u7a81\uff0c\u5e76\u5bfc\u81f4\u6eda\u96ea\u7403\u5f0f\u590d\u6742\u6027\u3002mixin\u7684\u5927\u591a\u6570\u7528\u4f8b\u90fd\u53ef\u4ee5\u901a\u8fc7\u7ec4\u4ef6\u3001\u9ad8\u9636\u7ec4\u4ef6\u3001\u5b9e\u7528\u7a0b\u5e8f\u6a21\u5757\u4ee5\u66f4\u597d\u7684\u65b9\u5f0f\u5b8c\u6210\u3002 \u5212\u91cd\u70b9\uff1a\u6743\u8d23\u5206\u660e\uff0c\u907f\u514d\u6df1\u5c42\u5f15\u7528\u3002\u4e00\u4e2a\u51fd\u6570\u5bf9\u5e94\u4e00\u4e2a\u4e3b\u8981\u529f\u80fd\uff0c\u4e00\u4e2a\u7ec4\u4ef6\u5bf9\u5e94\u754c\u9762\u7684\u4e00\u4e2a UI \u90e8\u5206\u3002\u5c3d\u91cf\u5b9e\u73b0\u7ec4\u4ef6\u7684\u7ee7\u627f\u548c\u590d\u7528\u3002","title":"Mixins"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#naming","text":"Extensions : Use .js extension for React components. Filename : Use reservation-card for filenames. E.g., reservation-card.js . \u6587\u4ef6\u540d\u4f7f\u7528\u5c0f\u5199\u5f00\u5934\uff08\u8fde\u63a5\u7b26\uff09 // bad import reservationCard from './reservation-card'; // good import ReservationCard from './reservation-card'; // bad const ReservationItem = <ReservationCard />; // good const reservationItem = <ReservationCard />; Component Naming : Use the filename as the component name. For example, ReservationCard.jsx should have a reference name of ReservationCard . However, for root components of a directory, use index.jsx as the filename and use the directory name as the component name: React \u7ec4\u4ef6\u4f7f\u7528\u5927\u5199\u5f00\u5934\uff0c\u7ec4\u4ef6\u540d\u548c\u6587\u4ef6\u540d\u76f8\u540c\uff08\u4fbf\u4e8e\u8c03\u7528\uff09\u3002\u53d8\u91cf\u540d\u4f7f\u7528\u5c0f\u5199\u5f00\u5934\uff08\u9a7c\u5cf0\uff09 // bad import Footer from './Footer/Footer'; // bad import Footer from './Footer/index'; // good import Footer from './Footer'; Higher-order Component Naming : Use a composite of the higher-order component\u2019s name and the passed-in component\u2019s name as the displayName on the generated component. For example, the higher-order component withFoo() , when passed a component Bar should produce a component with a displayName of withFoo(Bar) . Why? A component\u2019s displayName may be used by developer tools or in error messages, and having a value that clearly expresses this relationship helps people understand what is happening. // bad export default function withFoo(WrappedComponent) { return function WithFoo(props) { return <WrappedComponent {...props} foo />; } } // good export default function withFoo(WrappedComponent) { function WithFoo(props) { return <WrappedComponent {...props} foo />; } const wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || 'Component'; WithFoo.displayName = `withFoo(${wrappedComponentName})`; return WithFoo; } Props Naming : Avoid using DOM component prop names for different purposes. Why? People expect props like style and className to mean one specific thing. Varying this API for a subset of your app makes the code less readable and less maintainable, and may cause bugs. props\u4e0d\u80fd\u548c\u5df2\u6709 HTML \u5c5e\u6027\u91cd\u590d // bad <MyComponent style=\"fancy\" /> // bad <MyComponent className=\"fancy\" /> // good <MyComponent variant=\"fancy\" />","title":"Naming"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#declaration","text":"Do not use displayName for naming components. Instead, name the component by reference. // bad export default React.createClass({ displayName: 'ReservationCard', // stuff goes here }); // good export default class ReservationCard extends React.Component { }","title":"Declaration"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#alignment","text":"Follow these alignment styles for JSX syntax. eslint: react/jsx-closing-bracket-location react/jsx-closing-tag-location JSX \u5bf9\u9f50\u89c4\u5219 // bad <Foo superLongParam=\"bar\" anotherSuperLongParam=\"baz\" /> // good \u591a\u884c\u5206\u5f00\u663e\u793a <Foo superLongParam=\"bar\" anotherSuperLongParam=\"baz\" /> // if props fit in one line then keep it on the same line \u4e00\u884c\u5185\u663e\u793a <Foo bar=\"bar\" /> // children get indented normally <Foo superLongParam=\"bar\" anotherSuperLongParam=\"baz\" > <Quux /> </Foo> // bad {showButton && <Button /> } // bad { showButton && <Button /> } // good \u591a\u884c\u663e\u793aJSX {showButton && ( <Button /> )} // good {showButton && <Button />}","title":"Alignment"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#quotes","text":"Always use double quotes ( \" ) for JSX attributes, but single quotes ( ' ) for all other JS. eslint: jsx-quotes Why? Regular HTML attributes also typically use double quotes instead of single, so JSX attributes mirror this convention. // bad <Foo bar='bar' /> // good <Foo bar=\"bar\" /> // bad <Foo style={{ left: \"20px\" }} /> // good <Foo style={{ left: '20px' }} />","title":"Quotes"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#spacing","text":"Always include a single space in your self-closing tag. eslint: no-multi-spaces , react/jsx-tag-spacing // bad <Foo/> // very bad <Foo /> // bad <Foo /> // good <Foo /> Do not pad JSX curly braces with spaces. eslint: react/jsx-curly-spacing // bad <Foo bar={ baz } /> // good <Foo bar={baz} />","title":"Spacing"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#props","text":"Always use camelCase for prop names. // bad <Foo UserName=\"hello\" phone_number={12345678} /> // good <Foo userName=\"hello\" phoneNumber={12345678} /> Omit the value of the prop when it is explicitly true . eslint: react/jsx-boolean-value \u5982\u679c\u4f20\u503c\u662f true \u53ef\u4ee5\u7701\u7565 // bad <Foo hidden={true} /> // good <Foo hidden /> // good <Foo hidden /> Always include an alt prop on <img> tags. If the image is presentational, alt can be an empty string or the <img> must have role=\"presentation\" . eslint: jsx-a11y/alt-text // bad <img src=\"hello.jpg\" /> // good <img src=\"hello.jpg\" alt=\"Me waving hello\" /> // good <img src=\"hello.jpg\" alt=\"\" /> // good <img src=\"hello.jpg\" role=\"presentation\" /> Do not use words like \"image\", \"photo\", or \"picture\" in <img> alt props. eslint: jsx-a11y/img-redundant-alt Why? Screenreaders already announce img elements as images, so there is no need to include this information in the alt text. // bad <img src=\"hello.jpg\" alt=\"Picture of me waving hello\" /> // good <img src=\"hello.jpg\" alt=\"Me waving hello\" /> Use only valid, non-abstract ARIA roles . eslint: jsx-a11y/aria-role // bad - not an ARIA role <div role=\"datepicker\" /> // bad - abstract ARIA role <div role=\"range\" /> // good <div role=\"button\" /> Do not use accessKey on elements. eslint: jsx-a11y/no-access-key Why? Inconsistencies between keyboard shortcuts and keyboard commands used by people using screenreaders and keyboards complicate accessibility. // bad <div accessKey=\"h\" /> // good <div /> Avoid using an array index as key prop, prefer a stable ID. Why? Not using a stable ID is an anti-pattern because it can negatively impact performance and cause issues with component state. We don\u2019t recommend using indexes for keys if the order of items may change. \u6ce8\u610f\uff1a\u907f\u514d\u4f7f\u7528\u7bad\u5934\u51fd\u6570\u7684 index \u4f5c\u4e3a\u5b50\u7ec4\u4ef6\u7684 key \u503c\u3002\u4e0d\u4f7f\u7528\u7a33\u5b9aID\u662f\u4e00\u79cd\u53cd\u6a21\u5f0f\uff0c\u56e0\u4e3a\u5b83\u4f1a\u5bf9\u6027\u80fd\u4ea7\u751f\u8d1f\u9762\u5f71\u54cd\uff0c\u5e76\u5bfc\u81f4\u7ec4\u4ef6\u72b6\u6001\u95ee\u9898\u3002\u5982\u679c\u5b50\u7ec4\u4ef6item\u53ef\u80fd\u53d8\u5316\u662f\uff0c\u4f8b\u5982\u8bc4\u8bba\uff0c\u6700\u597d\u4f7f\u7528id\u4e0d\u4f7f\u7528index\u3002 // bad {todos.map((todo, index) => <Todo {...todo} key={index} /> )} // good {todos.map(todo => ( <Todo {...todo} key={todo.id} /> ))} Always define explicit defaultProps for all non-required props. Why? propTypes are a form of documentation, and providing defaultProps means the reader of your code doesn\u2019t have to assume as much. In addition, it can mean that your code can omit certain type checks. \u4f7f\u7528 SFC.defaultProps \u53ef\u4ee5\u8ba9\u4f7f\u7528\u7ec4\u4ef6\u7684\u4eba\u77e5\u9053\u9700\u8981\u4f20\u5165\u7684\u53c2\u6570\u548c\u7c7b\u578b\uff1b\u540c\u65f6\u5199 propTypes \u4e5f\u66f4\u597d // bad function SFC({ foo, bar, children }) { return <div>{foo}{bar}{children}</div>; } SFC.propTypes = { foo: PropTypes.number.isRequired, bar: PropTypes.string, children: PropTypes.node, }; // good function SFC({ foo, bar, children }) { return <div>{foo}{bar}{children}</div>; } SFC.propTypes = { foo: PropTypes.number.isRequired, bar: PropTypes.string, children: PropTypes.node, }; SFC.defaultProps = { bar: '', children: null, }; Use spread props sparingly. \u5c3d\u91cf\u5c11\u7528 props \u4e0d\u8981\u4f20\u6ca1\u5fc5\u8981\u7684 props Why? Otherwise you\u2019re more likely to pass unnecessary props down to components. And for React v15.6.1 and older, you could pass invalid HTML attributes to the DOM . Exceptions: HOCs that proxy down props and hoist propTypes function HOC(WrappedComponent) { return class Proxy extends React.Component { Proxy.propTypes = { text: PropTypes.string, isLoading: PropTypes.bool }; render() { return <WrappedComponent {...this.props} /> } } } Spreading objects with known, explicit props. This can be particularly useful when testing React components with Mocha\u2019s beforeEach construct. export default function Foo { const props = { text: '', isPublished: false } return (<div {...props} />); } Notes for use: Filter out unnecessary props when possible. Also, use prop-types-exact to help prevent bugs. // bad render() { const { irrelevantProp, ...relevantProps } = this.props; return <WrappedComponent {...this.props} /> } // good render() { const { irrelevantProp, ...relevantProps } = this.props; return <WrappedComponent {...relevantProps} /> }","title":"Props"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#refs","text":"Always use ref callbacks. eslint: react/no-string-refs \u4f7f\u7528\u7bad\u5934\u51fd\u6570\u5c06refs\u7ed1\u5b9a\u5230\u5c5e\u6027\u4e0a\uff0c\u907f\u514d\u76f4\u63a5\u4f7f\u7528\u5b57\u7b26\u4e32\u3002 // bad <Foo ref=\"myRef\" /> // good <Foo ref={(ref) => { this.myRef = ref; }} />","title":"Refs"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#parentheses","text":"Wrap JSX tags in parentheses when they span more than one line. eslint: react/jsx-wrap-multilines return \u591a\u884c\u52a0\u62ec\u53f7\uff0c\u5355\u884c\u4e0d\u9700\u8981\u52a0\u62ec\u53f7 // bad render() { return <MyComponent variant=\"long body\" foo=\"bar\"> <MyChild /> </MyComponent>; } // good render() { return ( <MyComponent variant=\"long body\" foo=\"bar\"> <MyChild /> </MyComponent> ); } // good, when single line render() { const body = <div>hello</div>; return <MyComponent>{body}</MyComponent>; }","title":"Parentheses"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#tags","text":"Always self-close tags that have no children. eslint: react/self-closing-comp // bad <Foo variant=\"stuff\"></Foo> // good <Foo variant=\"stuff\" /> If your component has multi-line properties, close its tag on a new line. eslint: react/jsx-closing-bracket-location // bad <Foo bar=\"bar\" baz=\"baz\" /> // good <Foo bar=\"bar\" baz=\"baz\" />","title":"Tags"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#methods","text":"Use arrow functions to close over local variables. function ItemList(props) { return ( <ul> {props.items.map((item, index) => ( <Item key={item.key} onClick={() => doSomethingWith(item.name, index)} /> ))} </ul> ); } Bind event handlers for the render method in the constructor. eslint: react/jsx-no-bind Why? A bind call in the render path creates a brand new function on every single render. // bad class extends React.Component { onClickDiv() { // do stuff } render() { return <div onClick={this.onClickDiv.bind(this)} />; } } // good class extends React.Component { onClickDiv = () => { // do stuff } render() { return <div onClick={this.onClickDiv} />; } } Do not use underscore prefix for internal methods of a React component. \u7ec4\u4ef6\u5185\u90e8\u7684\u51fd\u6570\u540d\u4e0d\u8981\u4ee5\u4e0b\u5212\u7ebf\u5f00\u5934\u3002 > Why? Underscore prefixes are sometimes used as a convention in other languages to denote privacy. But, unlike those languages, there is no native support for privacy in JavaScript, everything is public. Regardless of your intentions, adding underscore prefixes to your properties does not actually make them private, and any property (underscore-prefixed or not) should be treated as being public. See issues #1024 , and #490 for a more in-depth discussion. // bad React.createClass({ _onClickSubmit() { // do stuff }, // other stuff }); // good class extends React.Component { onClickSubmit() { // do stuff } // other stuff } Be sure to return a value in your render methods. eslint: react/require-render-return render \u4e2d\u5fc5\u987b\u6709 return \u65b9\u6cd5\u3002 // bad render() { (<div />); } // good render() { return (<div />); }","title":"Methods"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#ordering","text":"Ordering for class extends React.Component : optional static methods constructor getChildContext componentWillMount componentDidMount componentWillReceiveProps shouldComponentUpdate componentWillUpdate componentDidUpdate componentWillUnmount clickHandlers or eventHandlers like onClickSubmit() or onChangeDescription() getter methods for render like getSelectReason() or getFooterContent() optional render methods like renderNavigation() or renderProfilePicture() render How to define propTypes , defaultProps , contextTypes , etc... \u751f\u547d\u5468\u671f\u51fd\u6570+\u4e8b\u4ef6\u5904\u7406\u51fd\u6570+\u83b7\u53d6\u4fe1\u606f\u51fd\u6570+\u6e32\u67d3\u51fd\u6570 import React from 'react'; import PropTypes from 'prop-types'; const propTypes = { id: PropTypes.number.isRequired, url: PropTypes.string.isRequired, text: PropTypes.string, }; const defaultProps = { text: 'Hello World', }; class Link extends React.Component { static methodsAreOk() { return true; } render() { return <a href={this.props.url} data-id={this.props.id}>{this.props.text}</a>; } } Link.propTypes = propTypes; Link.defaultProps = defaultProps; export default Link; Ordering for React.createClass : eslint: react/sort-comp displayName propTypes contextTypes childContextTypes mixins statics defaultProps getDefaultProps getInitialState getChildContext componentWillMount componentDidMount componentWillReceiveProps shouldComponentUpdate componentWillUpdate componentDidUpdate componentWillUnmount clickHandlers or eventHandlers like onClickSubmit() or onChangeDescription() getter methods for render like getSelectReason() or getFooterContent() optional render methods like renderNavigation() or renderProfilePicture() render","title":"Ordering"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#ismounted","text":"Do not use isMounted . eslint: react/no-is-mounted Why? isMounted is an anti-pattern , is not available when using ES6 classes, and is on its way to being officially deprecated.","title":"isMounted"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8A%E7%AF%87%EF%BC%88%E9%A6%96%E6%AC%A1%E6%B8%B2%E6%9F%93%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/","text":"reactjs\u6e90\u7801\u5206\u6790-\u4e0a\u7bc7\uff08\u9996\u6b21\u6e32\u67d3\u5b9e\u73b0\u539f\u7406\uff09 \u00b6 reactjs\u662f\u76ee\u524d\u6bd4\u8f83\u706b\u7684\u524d\u7aef\u6846\u67b6\uff0c\u4f46\u662f\u76ee\u524d\u5e76\u6ca1\u6709\u5f88\u597d\u7684\u89e3\u91ca\u539f\u7406\u7684\u9879\u76ee\u3002reactjs\u6e90\u7801\u6bd4\u8f83\u590d\u6742\u4e0d\u9002\u5408\u521d\u5b66\u8005\u53bb\u5b66\u4e60\u3002\u6240\u4ee5\u672c\u6587\u901a\u8fc7\u5b9e\u73b0\u4e00\u5957\u7b80\u6613\u7248\u7684reactjs\uff0c\u4f7f\u5f97\u7406\u89e3\u539f\u7406\u66f4\u52a0\u5bb9\u6613\u3002 \u6240\u6709\u5b9e\u4f8b\u6e90\u7801\u90fd\u6258\u7ba1\u5728github\u3002 \u70b9\u8fd9\u91cc \u91cc\u9762\u6709\u5206\u6b65\u9aa4\u7684\u4f8b\u5b50\uff0c\u53ef\u4ee5\u4e00\u8fb9\u770b\u4e00\u8fb9\u8fd0\u884c\u4f8b\u5b50\u3002 \u8fd9\u4e2a\u5e16\u5b50\u662f2015\u5e74\uff0c\u9700\u8981\u8003\u8651\u662f\u5426\u7b26\u5408\u6700\u65b0\u7684\u7248\u672c\uff0c\u77e5\u8bc6\u662f\u5426\u8fc7\u65f6 \u524d\u8a00 \u00b6 \u524d\u7aef\u7684\u53d1\u5c55\u7279\u522b\u5feb\uff0c\u7ecf\u5386\u8fc7jQuery\u4e00\u7edf\u5929\u4e0b\u7684\u5de5\u5177\u5e93\u65f6\u4ee3\u540e\uff0c\u73b0\u5728\u5404\u79cd\u6846\u67b6\u53c8\u5f00\u59cb\u767e\u5bb6\u4e89\u9e23\u4e86\u3002angular\uff0cember\uff0cbackbone\uff0cvue\uff0cavalon\uff0cploymer\u8fd8\u6709reactjs\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u524d\u7aef\u771f\u662f\u7a0d\u4e0d\u7559\u795e\u5c31\u611f\u89c9\u8981\u88ab\u6dd8\u6c70\u4e86\uff0c\u5c31\u5728\u53bb\u5e74\u5927\u5bb6\u8fd8\u90fd\u662fangularjs\u7684\u7c89\u4e1d\uff0c\u5230\u4e86\u4eca\u5e74\u53c8\u5f00\u59cb\u5404\u79cd\u72c2\u8ffdreactjs\u4e86\u3002\u524d\u7aef\u90fd\u662f\u559c\u65b0\u538c\u65e7\u7684\uff0c\u4e0d\u77e5\u9053\u6700\u540e\u8fd9\u4e9b\u6846\u67b6\u7531\u8c01\u6765\u4e00\u7edf\u5929\u4e0b\uff0c\u7528\u53e5\u5f88\u4fd7\u7684\u8bdd\u8bf4\uff0c\u8fd9\u662f\u6700\u597d\u7684\u65f6\u4ee3\u4e5f\u662f\u6700\u574f\u7684\u65f6\u4ee3\u3002\u4f5c\u4e3a\u4e00\u4e2a\u524d\u7aef\uff0c\u53ea\u80fd\u591a\u5b66\u70b9\uff0c\u5c3d\u91cf\u591a\u7684\u4e86\u89e3\u4ed6\u4eec\u7684\u539f\u7406\u3002 reactjs\u7684\u4ee3\u7801\u975e\u5e38\u7ed5\uff0c\u5bf9\u4e8e\u6ca1\u6709\u540e\u53f0\u5f00\u53d1\u7ecf\u9a8c\u7684\u524d\u7aef\u6765\u8bf4\u770b\u8d77\u6765\u4f1a\u6bd4\u8f83\u5403\u529b\u3002\u5176\u5b9ereactjs\u7684\u6838\u5fc3\u5185\u5bb9\u5e76\u4e0d\u591a\uff0c\u4e3b\u8981\u662f\u4e0b\u9762\u8fd9\u4e9b\uff1a \u865a\u62dfdom\u5bf9\u8c61(Virtual DOM) \u865a\u62dfdom\u5dee\u5f02\u5316\u7b97\u6cd5\uff08diff algorithm\uff09 \u5355\u5411\u6570\u636e\u6d41\u6e32\u67d3\uff08Data Flow\uff09 \u7ec4\u4ef6\u751f\u547d\u5468\u671f \u4e8b\u4ef6\u5904\u7406 \u4e0b\u9762\u6211\u4eec\u5c06\u4e00\u70b9\u70b9\u7684\u6765\u5b9e\u73b0\u4e00\u4e2a\u7b80\u6613\u7248\u7684reactjs\uff0c\u5b9e\u73b0\u4e0a\u9762\u7684\u90a3\u4e9b\u529f\u80fd\uff0c\u6700\u540e\u7528\u8fd9\u4e2areactjs\u505a\u4e00\u4e2atodolist\u7684\u5c0f\u5e94\u7528\uff0c\u770b\u5b8c\u8fd9\u4e2a\uff0c\u6216\u8005\u8ddf\u7740\u6572\u4e00\u904d\u4ee3\u7801\u3002\u5e0c\u671b\u8ba9\u5927\u5bb6\u80fd\u591f\u66f4\u597d\u7684\u7406\u89e3reactjs\u7684\u8fd0\u884c\u539f\u7406\u3002 \u5165\u95e8 \u00b6 \u6211\u4eec\u5148\u4ece\u6e32\u67d3hello world\u5f00\u59cb\u5427\u3002 \u6211\u4eec\u770b\u4e0b\u9762\u7684\u4ee3\u7801\uff1a <script type=\"text/javascript\"> React.render('hello world',document.getElementById(\"container\")) </script> /** \u5bf9\u5e94\u7684html\u4e3a <div id=\"container\"></div> \u751f\u6210\u540e\u7684html\u4e3a\uff1a <div id=\"container\"> <span data-reactid=\"0\">hello world</span> </div> */ \u5047\u5b9a\u8fd9\u4e00\u884c\u4ee3\u7801,\u5c31\u53ef\u4ee5\u628a hello world \u6e32\u67d3\u5230\u5bf9\u5e94\u7684div\u91cc\u9762\u3002 \u6211\u4eec\u6765\u770b\u770b\u6211\u4eec\u9700\u8981\u4e3a\u6b64\u505a\u4e9b\u4ec0\u4e48\uff1a //component\u7c7b\uff0c\u7528\u6765\u8868\u793a\u6587\u672c\u5728\u6e32\u67d3\uff0c\u66f4\u65b0\uff0c\u5220\u9664\u65f6\u5e94\u8be5\u505a\u4e9b\u4ec0\u4e48\u4e8b\u60c5 function ReactDOMTextComponent(text) { //\u5b58\u4e0b\u5f53\u524d\u7684\u5b57\u7b26\u4e32 this._currentElement = '' + text; //\u7528\u6765\u6807\u8bc6\u5f53\u524dcomponent this._rootNodeID = null; } //component\u6e32\u67d3\u65f6\u751f\u6210\u7684dom\u7ed3\u6784 ReactDOMTextComponent.prototype.mountComponent = function(rootID) { this._rootNodeID = rootID; return '<span data-reactid=\"' + rootID + '\">' + this._currentElement + '</span>'; } //component\u5de5\u5382 \u7528\u6765\u8fd4\u56de\u4e00\u4e2acomponent\u5b9e\u4f8b function instantiateReactComponent(node){ if(typeof node === 'string' || typeof node === 'number'){ return new ReactDOMTextComponent(node) } } React = { nextReactRootIndex:0, render:function(element,container){ var componentInstance = instantiateReactComponent(element); var markup = componentInstance.mountComponent(React.nextReactRootIndex++); $(container).html(markup); //\u89e6\u53d1\u5b8c\u6210mount\u7684\u4e8b\u4ef6 $(document).trigger('mountReady'); } } \u4ee3\u7801\u5206\u4e3a\u4e09\u4e2a\u90e8\u5206\uff1a React.render \u4f5c\u4e3a\u5165\u53e3\u8d1f\u8d23\u8c03\u7528\u6e32\u67d3 \u6211\u4eec\u5f15\u5165\u4e86component\u7c7b\u7684\u6982\u5ff5\uff0cReactDOMTextComponent\u662f\u4e00\u4e2acomponent\u7c7b\u5b9a\u4e49\uff0c\u5b9a\u4e49\u5bf9\u4e8e\u8fd9\u79cd \u6587\u672c\u7c7b\u578b \u7684\u8282\u70b9\uff0c\u5728\u6e32\u67d3\uff0c\u66f4\u65b0\uff0c\u5220\u9664\u65f6\u5e94\u8be5\u505a\u4ec0\u4e48\u64cd\u4f5c\uff0c\u8fd9\u8fb9\u6682\u65f6\u53ea\u7528\u5230\u6e32\u67d3\uff0c\u53e6\u5916\u4e24\u4e2a\u53ef\u4ee5\u5148\u5ffd\u7565 instantiateReactComponent\u7528\u6765\u6839\u636eelement\u7684\u7c7b\u578b\uff08\u73b0\u5728\u53ea\u6709\u4e00\u79cdstring\u7c7b\u578b\uff09\uff0c\u8fd4\u56de\u4e00\u4e2acomponent\u7684\u5b9e\u4f8b\u3002\u5176\u5b9e\u5c31\u662f\u4e2a\u7c7b\u5de5\u5382\u3002 nextReactRootIndex\u4f5c\u4e3a\u6bcf\u4e2acomponent\u7684\u6807\u8bc6id\uff0c\u4e0d\u65ad\u52a01\uff0c\u786e\u4fdd\u552f\u4e00\u6027\u3002\u8fd9\u6837\u6211\u4eec\u4ee5\u540e\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u6807\u8bc6\u627e\u5230\u8fd9\u4e2a\u5143\u7d20\u3002 \u53ef\u4ee5\u770b\u5230\u6211\u4eec\u628a\u903b\u8f91\u5206\u4e3a\u51e0\u4e2a\u90e8\u5206\uff0c\u4e3b\u8981\u7684\u6e32\u67d3\u903b\u8f91\u653e\u5728\u4e86\u5177\u4f53\u7684componet\u7c7b\u53bb\u5b9a\u4e49\u3002React.render\u8d1f\u8d23\u8c03\u5ea6\u6574\u4e2a\u6d41\u7a0b\uff0c\u8fd9\u91cc\u662f\u8c03\u7528instantiateReactComponent\u751f\u6210\u4e00\u4e2a\u5bf9\u5e94component\u7c7b\u578b\u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u7136\u540e\u8c03\u7528\u6b64\u5bf9\u8c61\u7684mountComponent\u83b7\u53d6\u751f\u6210\u7684\u5185\u5bb9\u3002\u6700\u540e\u5199\u5230\u5bf9\u5e94\u7684container\u8282\u70b9\u4e2d\u3002 \u53ef\u80fd\u6709\u4eba\u95ee\uff0c\u8fd9\u4e48p\u5927\u70b9\u529f\u80fd\uff0c\u6709\u5fc5\u8981\u8fd9\u4e48\u590d\u6742\u561b\uff0c\u522b\u6025\u3002\u5f80\u4e0b\u770b\u624d\u80fd\u4f53\u4f1a\u8fd9\u79cd\u5206\u5c42\u7684\u597d\u5904\u3002 \u5f15\u5165\u57fa\u672celemetnt \u00b6 \u6211\u4eec\u77e5\u9053reactjs\u6700\u5927\u7684\u5356\u70b9\u5c31\u662f\u5b83\u7684\u865a\u62dfdom\u6982\u5ff5\uff0c\u6211\u4eec\u4e00\u822c\u4f7f\u7528 React.createElement \u6765\u521b\u5efa\u4e00\u4e2a\u865a\u62dfdom\u5143\u7d20\u3002 \u865a\u62dfdom\u5143\u7d20\u5206\u4e3a\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u6d4f\u89c8\u5668\u81ea\u5e26\u7684\u57fa\u672c\u5143\u7d20\u6bd4\u5982 div p input form \u8fd9\u79cd\uff0c\u4e00\u79cd\u662f\u81ea\u5b9a\u4e49\u7684\u5143\u7d20\u3002 \u8fd9\u8fb9\u9700\u8981\u8bf4\u4e00\u4e0b\u6211\u4eec\u4e0a\u8282\u63d0\u5230\u7684\u6587\u672c\u8282\u70b9\uff0c\u5b83\u4e0d\u7b97\u865a\u62dfdom\uff0c\u4f46\u662freacjs\u4e3a\u4e86\u4fdd\u6301\u6e32\u67d3\u7684\u4e00\u81f4\u6027\u3002\u6587\u672c\u8282\u70b9\u662f\u5728\u5916\u9762\u5305\u4e86\u4e00\u5c42span\u6807\u8bb0\uff0c\u4e5f\u7ed9\u5b83\u914d\u4e86\u4e2a\u7b80\u5316\u7248component\uff08ReactDOMTextComponent\uff09\u3002 \u8fd9\u8282\u6211\u4eec\u5148\u8ba8\u8bba\u6d4f\u89c8\u5668\u7684\u57fa\u672c\u5143\u7d20\u3002 \u5728reactjs\u91cc\uff0c\u5f53\u6211\u4eec\u5e0c\u671b\u5728hello world\u5916\u9762\u5305\u4e00\u5c42div,\u5e76\u4e14\u5e26\u4e0a\u4e00\u4e9b\u5c5e\u6027\uff0c\u751a\u81f3\u4e8b\u4ef6\u65f6\u6211\u4eec\u53ef\u4ee5\u8fd9\u4e48\u5199\uff1a //\u6f14\u793a\u4e8b\u4ef6\u76d1\u542c\u600e\u4e48\u7528 function hello(){ alert('hello') } var element = React.createElement('div',{id:'test',onclick:hello},'click me') React.render(element,document.getElementById(\"container\")) /** //\u751f\u6210\u7684html\u4e3a\uff1a <div data-reactid=\"0\" id=\"test\"> <span data-reactid=\"0.0\">click me</span> </div> //\u70b9\u51fb\u6587\u5b57\uff0c\u4f1a\u5f39\u51fahello\u7684\u5bf9\u8bdd\u6846 */ \u4e0a\u9762\u4f7f\u7528 React.createElement \u521b\u5efa\u4e86\u4e00\u4e2a\u57fa\u672c\u5143\u7d20\uff0c\u6211\u4eec\u6765\u770b\u770b\u7b80\u6613\u7248\u672c React.createElement \u7684\u5b9e\u73b0\uff1a //ReactElement\u5c31\u662f\u865a\u62dfdom\u7684\u6982\u5ff5\uff0c\u5177\u6709\u4e00\u4e2atype\u5c5e\u6027\u4ee3\u8868\u5f53\u524d\u7684\u8282\u70b9\u7c7b\u578b\uff0c\u8fd8\u6709\u8282\u70b9\u7684\u5c5e\u6027props //\u6bd4\u5982\u5bf9\u4e8ediv\u8fd9\u6837\u7684\u8282\u70b9type\u5c31\u662fdiv\uff0cprops\u5c31\u662f\u90a3\u4e9battributes //\u53e6\u5916\u8fd9\u91cc\u7684key,\u53ef\u4ee5\u7528\u6765\u6807\u8bc6\u8fd9\u4e2aelement\uff0c\u7528\u4e8e\u4f18\u5316\u4ee5\u540e\u7684\u66f4\u65b0\uff0c\u8fd9\u91cc\u53ef\u4ee5\u5148\u4e0d\u7ba1\uff0c\u77e5\u9053\u6709\u8fd9\u4e48\u4e2a\u4e1c\u897f\u5c31\u597d\u4e86 function ReactElement(type,key,props){ this.type = type; this.key = key; this.props = props; } React = { nextReactRootIndex:0, createElement:function(type,config,children){ var props = {},propName; config = config || {} //\u770b\u6709\u6ca1\u6709key\uff0c\u7528\u6765\u6807\u8bc6element\u7684\u7c7b\u578b\uff0c\u65b9\u4fbf\u4ee5\u540e\u9ad8\u6548\u7684\u66f4\u65b0\uff0c\u8fd9\u91cc\u53ef\u4ee5\u5148\u4e0d\u7ba1 var key = config.key || null; //\u590d\u5236config\u91cc\u7684\u5185\u5bb9\u5230props for (propName in config) { if (config.hasOwnProperty(propName) && propName !== 'key') { props[propName] = config[propName]; } } //\u5904\u7406children,\u5168\u90e8\u6302\u8f7d\u5230props\u7684children\u5c5e\u6027\u4e0a //\u652f\u6301\u4e24\u79cd\u5199\u6cd5\uff0c\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u53c2\u6570\uff0c\u76f4\u63a5\u8d4b\u503c\u7ed9children\uff0c\u5426\u5219\u505a\u5408\u5e76\u5904\u7406 var childrenLength = arguments.length - 2; if (childrenLength === 1) { props.children = $.isArray(children) ? children : [children] ; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 2]; } props.children = childArray; } return new ReactElement(type, key,props); }, render:function(element,container){ var componentInstance = instantiateReactComponent(element); var markup = componentInstance.mountComponent(React.nextReactRootIndex++); $(container).html(markup); //\u89e6\u53d1\u5b8c\u6210mount\u7684\u4e8b\u4ef6 $(document).trigger('mountReady'); } } createElement\u53ea\u662f\u505a\u4e86\u7b80\u5355\u7684\u53c2\u6570\u4fee\u6b63\uff0c\u6700\u7ec8\u8fd4\u56de\u4e00\u4e2aReactElement\u5b9e\u4f8b\u5bf9\u8c61\u4e5f\u5c31\u662f\u6211\u4eec\u8bf4\u7684\u865a\u62df\u5143\u7d20\u7684\u5b9e\u4f8b\u3002 \u8fd9\u91cc\u6ce8\u610fkey\u7684\u5b9a\u4e49\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u4ee5\u540e\u66f4\u65b0\u65f6\u4f18\u5316\u6548\u7387\uff0c\u8fd9\u8fb9\u53ef\u4ee5\u5148\u4e0d\u7ba1\u5ffd\u7565\u3002 \u597d\u4e86\u6709\u4e86\u5143\u7d20\u5b9e\u4f8b\uff0c\u6211\u4eec\u5f97\u628a\u4ed6\u6e32\u67d3\u51fa\u6765\uff0c\u6b64\u65f6render\u63a5\u53d7\u7684\u662f\u4e00\u4e2aReactElement\u800c\u4e0d\u662f\u6587\u672c\uff0c\u6211\u4eec\u5148\u6539\u9020\u4e0binstantiateReactComponent\uff1a function instantiateReactComponent(node){ //\u6587\u672c\u8282\u70b9\u7684\u60c5\u51b5 if(typeof node === 'string' || typeof node === 'number'){ return new ReactDOMTextComponent(node); } //\u6d4f\u89c8\u5668\u9ed8\u8ba4\u8282\u70b9\u7684\u60c5\u51b5 if(typeof node === 'object' && typeof node.type === 'string'){ //\u6ce8\u610f\u8fd9\u91cc\uff0c\u4f7f\u7528\u4e86\u4e00\u79cd\u65b0\u7684component return new ReactDOMComponent(node); } } \u6211\u4eec\u589e\u52a0\u4e86\u4e00\u4e2a\u5224\u65ad\uff0c\u8fd9\u6837\u5f53render\u7684\u4e0d\u662f\u6587\u672c\u800c\u662f\u6d4f\u89c8\u5668\u7684\u57fa\u672c\u5143\u7d20\u65f6\u3002\u6211\u4eec\u4f7f\u7528\u53e6\u5916\u4e00\u79cdcomponent\u6765\u5904\u7406\u5b83\u6e32\u67d3\u65f6\u5e94\u8be5\u8fd4\u56de\u7684\u5185\u5bb9\u3002\u8fd9\u91cc\u5c31\u4f53\u73b0\u4e86\u5de5\u5382\u65b9\u6cd5instantiateReactComponent\u7684\u597d\u5904\u4e86\uff0c\u4e0d\u7ba1\u6765\u4e86\u4ec0\u4e48\u7c7b\u578b\u7684node\uff0c\u90fd\u53ef\u4ee5\u8d1f\u8d23\u751f\u4ea7\u51fa\u4e00\u4e2a\u8d1f\u8d23\u6e32\u67d3\u7684component\u5b9e\u4f8b\u3002\u8fd9\u6837render\u5b8c\u5168\u4e0d\u9700\u8981\u505a\u4efb\u4f55\u4fee\u6539\uff0c\u53ea\u9700\u8981\u518d\u505a\u4e00\u79cd\u5bf9\u5e94\u7684component\u7c7b\u578b\uff08\u8fd9\u91cc\u662fReactDOMComponent\uff09\u5c31\u884c\u4e86\u3002 \u6240\u4ee5\u91cd\u70b9\u6211\u4eec\u6765\u770b\u770b ReactDOMComponent \u7684\u5177\u4f53\u5b9e\u73b0\uff1a //component\u7c7b\uff0c\u7528\u6765\u8868\u793a\u6587\u672c\u5728\u6e32\u67d3\uff0c\u66f4\u65b0\uff0c\u5220\u9664\u65f6\u5e94\u8be5\u505a\u4e9b\u4ec0\u4e48\u4e8b\u60c5 function ReactDOMComponent(element){ //\u5b58\u4e0b\u5f53\u524d\u7684element\u5bf9\u8c61\u5f15\u7528 this._currentElement = element; this._rootNodeID = null; } //component\u6e32\u67d3\u65f6\u751f\u6210\u7684dom\u7ed3\u6784 ReactDOMComponent.prototype.mountComponent = function(rootID){ //\u8d4b\u503c\u6807\u8bc6 this._rootNodeID = rootID; var props = this._currentElement.props; var tagOpen = '<' + this._currentElement.type; var tagClose = '</' + this._currentElement.type + '>'; //\u52a0\u4e0areactid\u6807\u8bc6 tagOpen += ' data-reactid=' + this._rootNodeID; //\u62fc\u51d1\u51fa\u5c5e\u6027 for (var propKey in props) { //\u8fd9\u91cc\u8981\u505a\u4e00\u4e0b\u4e8b\u4ef6\u7684\u76d1\u542c\uff0c\u5c31\u662f\u4ece\u5c5e\u6027props\u91cc\u9762\u89e3\u6790\u62ff\u51faon\u5f00\u5934\u7684\u4e8b\u4ef6\u5c5e\u6027\u7684\u5bf9\u5e94\u4e8b\u4ef6\u76d1\u542c if (/^on[A-Za-z]/.test(propKey)) { var eventType = propKey.replace('on', ''); //\u9488\u5bf9\u5f53\u524d\u7684\u8282\u70b9\u6dfb\u52a0\u4e8b\u4ef6\u4ee3\u7406,\u4ee5_rootNodeID\u4e3a\u547d\u540d\u7a7a\u95f4 $(document).delegate('[data-reactid=\"' + this._rootNodeID + '\"]', eventType + '.' + this._rootNodeID, props[propKey]); } //\u5bf9\u4e8echildren\u5c5e\u6027\u4ee5\u53ca\u4e8b\u4ef6\u76d1\u542c\u7684\u5c5e\u6027\u4e0d\u9700\u8981\u8fdb\u884c\u5b57\u7b26\u4e32\u62fc\u63a5 //\u4e8b\u4ef6\u4f1a\u4ee3\u7406\u5230\u5168\u5c40\u3002\u8fd9\u8fb9\u4e0d\u80fd\u62fc\u5230dom\u4e0a\u4e0d\u7136\u4f1a\u4ea7\u751f\u539f\u751f\u7684\u4e8b\u4ef6\u76d1\u542c if (props[propKey] && propKey != 'children' && !/^on[A-Za-z]/.test(propKey)) { tagOpen += ' ' + propKey + '=' + props[propKey]; } } //\u83b7\u53d6\u5b50\u8282\u70b9\u6e32\u67d3\u51fa\u7684\u5185\u5bb9 var content = ''; var children = props.children || []; var childrenInstances = []; //\u7528\u4e8e\u4fdd\u5b58\u6240\u6709\u7684\u5b50\u8282\u70b9\u7684componet\u5b9e\u4f8b\uff0c\u4ee5\u540e\u4f1a\u7528\u5230 var that = this; $.each(children, function(key, child) { //\u8fd9\u91cc\u518d\u6b21\u8c03\u7528\u4e86instantiateReactComponent\u5b9e\u4f8b\u5316\u5b50\u8282\u70b9component\u7c7b\uff0c\u62fc\u63a5\u597d\u8fd4\u56de var childComponentInstance = instantiateReactComponent(child); childComponentInstance._mountIndex = key; childrenInstances.push(childComponentInstance); //\u5b50\u8282\u70b9\u7684rootId\u662f\u7236\u8282\u70b9\u7684rootId\u52a0\u4e0a\u65b0\u7684key\u4e5f\u5c31\u662f\u987a\u5e8f\u7684\u503c\u62fc\u6210\u7684\u65b0\u503c var curRootId = that._rootNodeID + '.' + key; //\u5f97\u5230\u5b50\u8282\u70b9\u7684\u6e32\u67d3\u5185\u5bb9 var childMarkup = childComponentInstance.mountComponent(curRootId); //\u62fc\u63a5\u5728\u4e00\u8d77 content += ' ' + childMarkup; }) //\u7559\u7ed9\u4ee5\u540e\u66f4\u65b0\u65f6\u7528\u7684\u8fd9\u8fb9\u5148\u4e0d\u7528\u7ba1 this._renderedChildren = childrenInstances; //\u62fc\u51fa\u6574\u4e2ahtml\u5185\u5bb9 return tagOpen + '>' + content + tagClose; } \u6211\u4eec\u589e\u52a0\u4e86\u865a\u62dfdom reactElement\u7684\u5b9a\u4e49\uff0c\u589e\u52a0\u4e86\u4e00\u4e2a\u65b0\u7684componet\u7c7bReactDOMComponent\u3002 \u8fd9\u6837\u6211\u4eec\u5c31\u5b9e\u73b0\u4e86\u6e32\u67d3\u6d4f\u89c8\u5668\u57fa\u672c\u5143\u7d20\u7684\u529f\u80fd\u4e86\u3002 \u5bf9\u4e8e\u865a\u62dfdom\u7684\u6e32\u67d3\u903b\u8f91\uff0c\u672c\u8d28\u4e0a\u8fd8\u662f\u4e2a\u9012\u5f52\u6e32\u67d3\u7684\u4e1c\u897f\uff0creactElement\u4f1a\u9012\u5f52\u6e32\u67d3\u81ea\u5df1\u7684\u5b50\u8282\u70b9\u3002\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u901a\u8fc7instantiateReactComponent\u5c4f\u853d\u4e86\u5b50\u8282\u70b9\u7684\u5dee\u5f02\uff0c\u53ea\u9700\u8981\u4f7f\u7528\u4e0d\u540c\u7684componet\u7c7b\uff0c\u8fd9\u6837\u90fd\u80fd\u4fdd\u8bc1\u901a\u8fc7mountComponent\u6700\u7ec8\u62ff\u5230\u6e32\u67d3\u540e\u7684\u5185\u5bb9\u3002 \u53e6\u5916\u8fd9\u8fb9\u7684\u4e8b\u4ef6\u4e5f\u8981\u8bf4\u4e0b\uff0c\u53ef\u4ee5\u5728\u4f20\u9012props\u7684\u65f6\u5019\u4f20\u5165{onClick:function(){}}\u8fd9\u6837\u7684\u53c2\u6570\uff0c\u8fd9\u6837\u5c31\u4f1a\u5728\u5f53\u524d\u5143\u7d20\u4e0a\u6dfb\u52a0\u4e8b\u4ef6\uff0c\u4ee3\u7406\u5230document\u3002\u7531\u4e8ereactjs\u672c\u8eab\u5168\u662f\u5728\u5199js\uff0c\u6240\u4ee5\u76d1\u542c\u7684\u51fd\u6570\u7684\u4f20\u9012\u53d8\u5f97\u7279\u522b\u7b80\u5355\u3002 \u8fd9\u91cc\u5f88\u591a\u4e1c\u897f\u6ca1\u6709\u8003\u8651\uff0c\u6bd4\u5982\u4e00\u4e9b\u7279\u6b8a\u7684\u7c7b\u578binput select\u7b49\u7b49\uff0c\u518d\u6bd4\u5982img\u4e0d\u9700\u8981\u6709\u5bf9\u5e94\u7684tagClose\u7b49\u3002\u8fd9\u91cc\u4e3a\u4e86\u4fdd\u6301\u7b80\u5355\u5c31\u4e0d\u518d\u6269\u5c55\u4e86\u3002\u53e6\u5916reactjs\u7684\u4e8b\u4ef6\u5904\u7406\u5176\u5b9e\u5f88\u590d\u6742\uff0c\u5b9e\u73b0\u4e86\u4e00\u5957\u6807\u51c6\u7684w3c\u4e8b\u4ef6\u3002\u8fd9\u91cc\u5077\u61d2\u76f4\u63a5\u4f7f\u7528jQuery\u7684\u4e8b\u4ef6\u4ee3\u7406\u5230document\u4e0a\u4e86\u3002 \u81ea\u5b9a\u4e49\u5143\u7d20 \u00b6 \u4e0a\u9762\u5b9e\u73b0\u4e86\u57fa\u672c\u7684\u5143\u7d20\u5185\u5bb9\uff0c\u6211\u4eec\u4e0b\u9762\u5b9e\u73b0\u81ea\u5b9a\u4e49\u5143\u7d20\u7684\u529f\u80fd\u3002 \u968f\u7740\u524d\u7aef\u6280\u672f\u7684\u53d1\u5c55\u6d4f\u89c8\u5668\u7684\u90a3\u4e9b\u57fa\u672c\u5143\u7d20\u5df2\u7ecf\u6ee1\u8db3\u4e0d\u4e86\u6211\u4eec\u7684\u9700\u6c42\u4e86\uff0c\u5982\u679c\u4f60\u5bf9 webcomponents \u6709\u4e00\u5b9a\u7684\u4e86\u89e3\uff0c\u5c31\u4f1a\u77e5\u9053\u4eba\u4eec\u4e00\u76f4\u5728\u5c1d\u8bd5\u6269\u5c55\u4e00\u4e9b\u81ea\u5df1\u7684\u6807\u8bb0\u3002 reactjs\u901a\u8fc7\u865a\u62dfdom\u505a\u5230\u4e86\u7c7b\u4f3c\u7684\u529f\u80fd\uff0c\u8fd8\u8bb0\u5f97\u6211\u4eec\u4e0a\u9762element.type\u53ea\u662f\u4e2a\u7b80\u5355\u7684\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u662f\u4e2a\u7c7b\u5462\uff1f\u5982\u679c\u8fd9\u4e2a\u7c7b\u6070\u597d\u8fd8\u6709\u81ea\u5df1\u7684\u751f\u547d\u5468\u671f\u7ba1\u7406\uff0c\u90a3\u6269\u5c55\u6027\u5c31\u5f88\u9ad8\u4e86\u3002 \u5982\u679c\u5bf9\u751f\u547d\u5468\u671f\u7b49\u6982\u5ff5\u4e0d\u662f\u5f88\u7406\u89e3\u7684\uff0c\u53ef\u4ee5\u770b\u770b\u6211\u4ee5\u524d\u7684\u53e6\u4e00\u7247\u6587\u7ae0\uff1a javascript\u7ec4\u4ef6\u5316 \u6211\u4eec\u770b\u4e0breactjs\u600e\u4e48\u4f7f\u7528\u81ea\u5b9a\u4e49\u5143\u7d20\uff1a var HelloMessage = React.createClass({ getInitialState: function() { return {type: 'say:'}; }, componentWillMount: function() { console.log('\u6211\u5c31\u8981\u5f00\u59cb\u6e32\u67d3\u4e86\u3002\u3002\u3002') }, componentDidMount: function() { console.log('\u6211\u5df2\u7ecf\u6e32\u67d3\u597d\u4e86\u3002\u3002\u3002') }, render: function() { return React.createElement(\"div\", null,this.state.type, \"Hello \", this.props.name); } }); React.render(React.createElement(HelloMessage, {name: \"John\"}), document.getElementById(\"container\")); /** \u7ed3\u679c\u4e3a\uff1a html: <div data-reactid=\"0\"> <span data-reactid=\"0.0\">say:</span> <span data-reactid=\"0.1\">Hello </span> <span data-reactid=\"0.2\">John</span> </div> console: \u6211\u5c31\u8981\u5f00\u59cb\u6e32\u67d3\u4e86\u3002\u3002\u3002 \u6211\u5df2\u7ecf\u6e32\u67d3\u597d\u4e86\u3002\u3002\u3002 */ React.createElement \u63a5\u53d7\u7684\u4e0d\u518d\u662f\u5b57\u7b26\u4e32\uff0c\u800c\u662f\u4e00\u4e2aclass\u3002 React.createClass \u751f\u6210\u4e00\u4e2a\u81ea\u5b9a\u4e49\u6807\u8bb0\u7c7b\uff0c\u5e26\u6709\u57fa\u672c\u7684\u751f\u547d\u5468\u671f\uff1a getInitialState \u83b7\u53d6\u6700\u521d\u7684\u5c5e\u6027\u503cthis.state componentWillmount \u5728\u7ec4\u4ef6\u51c6\u5907\u6e32\u67d3\u65f6\u8c03\u7528 componentDidMount \u5728\u7ec4\u4ef6\u6e32\u67d3\u5b8c\u6210\u540e\u8c03\u7528 \u5bf9reactjs\u7a0d\u5fae\u6709\u70b9\u4e86\u89e3\u7684\u5e94\u8be5\u90fd\u53ef\u4ee5\u660e\u767d\u4e0a\u9762\u7684\u7528\u6cd5\u3002 \u6211\u4eec\u5148\u6765\u770b\u770bReact.createClass\u7684\u5b9e\u73b0\uff1a //\u5b9a\u4e49ReactClass\u7c7b,\u6240\u6709\u81ea\u5b9a\u4e49\u7684\u8d85\u7ea7\u7236\u7c7b var ReactClass = function(){ } //\u7559\u7ed9\u5b50\u7c7b\u53bb\u7ee7\u627f\u8986\u76d6 ReactClass.prototype.render = function(){} React = { nextReactRootIndex:0, createClass:function(spec){ //\u751f\u6210\u4e00\u4e2a\u5b50\u7c7b var Constructor = function (props) { this.props = props; this.state = this.getInitialState ? this.getInitialState() : null; } //\u539f\u578b\u7ee7\u627f\uff0c\u7ee7\u627f\u8d85\u7ea7\u7236\u7c7b Constructor.prototype = new ReactClass(); Constructor.prototype.constructor = Constructor; //\u6df7\u5165spec\u5230\u539f\u578b $.extend(Constructor.prototype,spec); return Constructor; }, createElement:function(type,config,children){ ... }, render:function(element,container){ ... } } \u53ef\u4ee5\u770b\u5230createClass\u751f\u6210\u4e86\u4e00\u4e2a\u7ee7\u627fReactClass\u7684\u5b50\u7c7b\uff0c\u5728\u6784\u9020\u51fd\u6570\u91cc\u8c03\u7528this.getInitialState\u83b7\u5f97\u6700\u521d\u7684state\u3002 \u4e3a\u4e86\u6f14\u793a\u65b9\u4fbf,\u6211\u4eec\u8fd9\u8fb9\u7684ReactClass\u76f8\u5f53\u7b80\u5355\uff0c\u5b9e\u9645\u4e0a\u539f\u59cb\u7684\u4ee3\u7801\u5904\u7406\u4e86\u5f88\u591a\u4e1c\u897f\uff0c\u6bd4\u5982\u7c7b\u7684mixin\u7684\u7ec4\u5408\u7ee7\u627f\u652f\u6301,\u6bd4\u5982componentDidMount\u7b49\u53ef\u4ee5\u5b9a\u4e49\u591a\u6b21\uff0c\u9700\u8981\u5408\u5e76\u8c03\u7528\u7b49\u7b49\uff0c\u6709\u5174\u8da3\u7684\u53bb\u7ffb\u6e90\u7801\u5427\uff0c\u4e0d\u662f\u672c\u6587\u7684\u4e3b\u8981\u76ee\u7684\uff0c\u8fd9\u91cc\u5c31\u4e0d\u8be6\u7ec6\u5c55\u5f00\u4e86\u3002 \u6211\u4eec\u8fd9\u91cc\u53ea\u662f\u8fd4\u56de\u4e86\u4e00\u4e2a\u7ee7\u627f\u7c7b\u7684\u5b9a\u4e49\uff0c\u90a3\u4e48\u5177\u4f53\u7684componentWillmount\uff0c\u8fd9\u4e9b\u751f\u547d\u5468\u671f\u51fd\u6570\u5728\u54ea\u91cc\u8c03\u7528\u5462\u3002 \u770b\u770b\u6211\u4eec\u4e0a\u9762\u7684\u4e24\u79cd\u7c7b\u578b\u5c31\u77e5\u9053\uff0c\u6211\u4eec\u662f\u65f6\u5019\u4e3a\u81ea\u5b9a\u4e49\u5143\u7d20\u4e5f\u63d0\u4f9b\u4e00\u4e2acomponet\u7c7b\u4e86\uff0c\u5728\u90a3\u4e2a\u7c7b\u91cc\u6211\u4eec\u4f1a\u5b9e\u4f8b\u5316ReactClass\uff0c\u5e76\u4e14\u7ba1\u7406\u751f\u547d\u5468\u671f\uff0c\u8fd8\u6709\u7236\u5b50\u7ec4\u4ef6\u4f9d\u8d56\u3002 \u597d\uff0c\u6211\u4eec\u8001\u89c4\u77e9\u5148\u6539\u9020instantiateReactComponent function instantiateReactComponent(node){ //\u6587\u672c\u8282\u70b9\u7684\u60c5\u51b5 if(typeof node === 'string' || typeof node === 'number'){ return new ReactDOMTextComponent(node); } //\u6d4f\u89c8\u5668\u9ed8\u8ba4\u8282\u70b9\u7684\u60c5\u51b5 if(typeof node === 'object' && typeof node.type === 'string'){ //\u6ce8\u610f\u8fd9\u91cc\uff0c\u4f7f\u7528\u4e86\u4e00\u79cd\u65b0\u7684component return new ReactDOMComponent(node); } //\u81ea\u5b9a\u4e49\u7684\u5143\u7d20\u8282\u70b9 if(typeof node === 'object' && typeof node.type === 'function'){ //\u6ce8\u610f\u8fd9\u91cc\uff0c\u4f7f\u7528\u65b0\u7684component,\u4e13\u95e8\u9488\u5bf9\u81ea\u5b9a\u4e49\u5143\u7d20 return new ReactCompositeComponent(node); } } \u5f88\u7b80\u5355\u6211\u4eec\u589e\u52a0\u4e86\u4e00\u4e2a\u5224\u65ad\uff0c\u4f7f\u7528\u65b0\u7684component\u7c7b\u5f62\u6765\u5904\u7406\u81ea\u5b9a\u4e49\u7684\u8282\u70b9\u3002\u6211\u4eec\u770b\u4e0b ReactCompositeComponent\u7684\u5177\u4f53\u5b9e\u73b0: function ReactCompositeComponent(element){ //\u5b58\u653e\u5143\u7d20element\u5bf9\u8c61 this._currentElement = element; //\u5b58\u653e\u552f\u4e00\u6807\u8bc6 this._rootNodeID = null; //\u5b58\u653e\u5bf9\u5e94\u7684ReactClass\u7684\u5b9e\u4f8b this._instance = null; } //\u7528\u4e8e\u8fd4\u56de\u5f53\u524d\u81ea\u5b9a\u4e49\u5143\u7d20\u6e32\u67d3\u65f6\u5e94\u8be5\u8fd4\u56de\u7684\u5185\u5bb9 ReactCompositeComponent.prototype.mountComponent = function(rootID){ this._rootNodeID = rootID; //\u62ff\u5230\u5f53\u524d\u5143\u7d20\u5bf9\u5e94\u7684\u5c5e\u6027\u503c var publicProps = this._currentElement.props; //\u62ff\u5230\u5bf9\u5e94\u7684ReactClass var ReactClass = this._currentElement.type; // Initialize the public class var inst = new ReactClass(publicProps); this._instance = inst; //\u4fdd\u7559\u5bf9\u5f53\u524dcomonent\u7684\u5f15\u7528\uff0c\u4e0b\u9762\u66f4\u65b0\u4f1a\u7528\u5230 inst._reactInternalInstance = this; if (inst.componentWillMount) { inst.componentWillMount(); //\u8fd9\u91cc\u5728\u539f\u59cb\u7684reactjs\u5176\u5b9e\u8fd8\u6709\u4e00\u5c42\u5904\u7406\uff0c\u5c31\u662f componentWillMount\u8c03\u7528setstate\uff0c\u4e0d\u4f1a\u89e6\u53d1rerender\u800c\u662f\u81ea\u52a8\u63d0\u524d\u5408\u5e76\uff0c\u8fd9\u91cc\u4e3a\u4e86\u4fdd\u6301\u7b80\u5355\uff0c\u5c31\u7565\u53bb\u4e86 } //\u8c03\u7528ReactClass\u7684\u5b9e\u4f8b\u7684render\u65b9\u6cd5,\u8fd4\u56de\u4e00\u4e2aelement\u6216\u8005\u4e00\u4e2a\u6587\u672c\u8282\u70b9 var renderedElement = this._instance.render(); //\u5f97\u5230renderedElement\u5bf9\u5e94\u7684component\u7c7b\u5b9e\u4f8b var renderedComponentInstance = instantiateReactComponent(renderedElement); this._renderedComponent = renderedComponentInstance; //\u5b58\u8d77\u6765\u7559\u4f5c\u540e\u7528 //\u62ff\u5230\u6e32\u67d3\u4e4b\u540e\u7684\u5b57\u7b26\u4e32\u5185\u5bb9\uff0c\u5c06\u5f53\u524d\u7684_rootNodeID\u4f20\u7ed9render\u51fa\u7684\u8282\u70b9 var renderedMarkup = renderedComponentInstance.mountComponent(this._rootNodeID); //\u4e4b\u524d\u6211\u4eec\u5728React.render\u65b9\u6cd5\u6700\u540e\u89e6\u53d1\u4e86mountReady\u4e8b\u4ef6\uff0c\u6240\u4ee5\u8fd9\u91cc\u53ef\u4ee5\u76d1\u542c\uff0c\u5728\u6e32\u67d3\u5b8c\u6210\u540e\u4f1a\u89e6\u53d1\u3002 $(document).on('mountReady', function() { //\u8c03\u7528inst.componentDidMount inst.componentDidMount && inst.componentDidMount(); }); return renderedMarkup; } \u5b9e\u73b0\u5e76\u4e0d\u96be\uff0cReactClass\u7684render\u4e00\u5b9a\u662f\u8fd4\u56de\u4e00\u4e2a\u865a\u62df\u8282\u70b9(\u5305\u62ecelement\u548ctext)\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u4f7f\u7528instantiateReactComponent\u53bb\u5f97\u5230\u5b9e\u4f8b\uff0c\u518d\u4f7f\u7528mountComponent\u62ff\u5230\u7ed3\u679c\u4f5c\u4e3a\u5f53\u524d\u81ea\u5b9a\u4e49\u5143\u7d20\u7684\u7ed3\u679c\u3002 \u5e94\u8be5\u8bf4\u672c\u8eab\u81ea\u5b9a\u4e49\u5143\u7d20\u4e0d\u8d1f\u8d23\u5177\u4f53\u7684\u5185\u5bb9\uff0c\u4ed6\u66f4\u591a\u7684\u662f\u8d1f\u8d23\u751f\u547d\u5468\u671f\u3002\u5177\u4f53\u7684\u5185\u5bb9\u662f\u7531\u5b83\u7684render\u65b9\u6cd5\u8fd4\u56de\u7684\u865a\u62df\u8282\u70b9\u6765\u8d1f\u8d23\u6e32\u67d3\u7684\u3002 \u672c\u8d28\u4e0a\u4e5f\u662f\u9012\u5f52\u7684\u53bb\u6e32\u67d3\u5185\u5bb9\u7684\u8fc7\u7a0b\u3002\u540c\u65f6\u56e0\u4e3a\u8fd9\u79cd\u9012\u5f52\u7684\u7279\u6027\uff0c\u7236\u7ec4\u4ef6\u7684componentWillMount\u4e00\u5b9a\u5728\u67d0\u4e2a\u5b50\u7ec4\u4ef6\u7684componentWillMount\u4e4b\u524d\u8c03\u7528\uff0c\u800c\u7236\u7ec4\u4ef6\u7684componentDidMount\u80af\u5b9a\u5728\u5b50\u7ec4\u4ef6\u4e4b\u540e\uff0c\u56e0\u4e3a\u76d1\u542cmountReady\u4e8b\u4ef6\uff0c\u80af\u5b9a\u662f\u5b50\u7ec4\u4ef6\u5148\u76d1\u542c\u7684\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\u81ea\u5b9a\u4e49\u5143\u7d20\u5e76\u4e0d\u4f1a\u5904\u7406\u6211\u4eeccreateElement\u65f6\u4f20\u5165\u7684\u5b50\u8282\u70b9\uff0c\u5b83\u53ea\u4f1a\u5904\u7406\u81ea\u5df1render\u8fd4\u56de\u7684\u8282\u70b9\u4f5c\u4e3a\u81ea\u5df1\u7684\u5b50\u8282\u70b9\u3002\u4e0d\u8fc7\u6211\u4eec\u5728render\u65f6\u53ef\u4ee5\u4f7f\u7528this.props.children\u62ff\u5230\u90a3\u4e9b\u4f20\u5165\u7684\u5b50\u8282\u70b9\uff0c\u53ef\u4ee5\u81ea\u5df1\u5904\u7406\u3002\u5176\u5b9e\u6709\u70b9\u7c7b\u4f3cwebcomponents\u91cc\u9762\u7684shadow dom\u7684\u4f5c\u7528\u3002 \u4e0a\u9762\u5b9e\u73b0\u4e86\u4e09\u79cd\u7c7b\u578b\u7684\u5143\u7d20\uff0c\u5176\u5b9e\u6211\u4eec\u53d1\u73b0\u672c\u8d28\u4e0a\u6ca1\u6709\u592a\u5927\u7684\u533a\u522b\uff0c\u90fd\u662f\u6709\u81ea\u5df1\u5bf9\u5e94component\u7c7b\u6765\u5904\u7406\u81ea\u5df1\u7684\u6e32\u67d3\u8fc7\u7a0b\u3002 \u5927\u6982\u7684\u5173\u7cfb\u662f\u4e0b\u9762\u8fd9\u6837\u3002 \u4e8e\u662f\u6211\u4eec\u53d1\u73b0\u521d\u59cb\u5316\u7684\u6e32\u67d3\u6d41\u7a0b\u90fd\u5df2\u7ecf\u5b8c\u6210\u4e86\u3002 \u7ed3\u8bed \u00b6 \u6574\u4e2a\u521d\u6b21\u6e32\u67d3\u7684\u6d41\u7a0b\u57fa\u672c\u5c31\u5206\u6790\u5b8c\u6bd5\u4e86\u3002\u770b\u770b\u6211\u4eec\u76ee\u524d\u7684\u8fdb\u5c55\uff0c\u4e8b\u4ef6\u76d1\u542c\u505a\u4e86\uff0c\u865a\u62dfdom\u6709\u4e86\u3002\u57fa\u672c\u7684\u7ec4\u4ef6\u751f\u547d\u5468\u671f\u4e5f\u6709\u4e86\u3002\u6211\u4eec\u8fd9\u4e2a\u5c0f\u73a9\u5177\u5df2\u7ecf\u53ef\u4ee5\u7b80\u5355\u8dd1\u8dd1\u4e86\u3002\u4e0b\u7bc7\u6587\u7ae0\u6211\u4eec\u5c06\u4e00\u8d77\u53bb\u5b9e\u73b0reactjs\u7684\u66f4\u65b0\u673a\u5236\uff0c\u770b\u770b\u5b83\u6700\u6838\u5fc3\u7684diff\u7b97\u6cd5\u662f\u600e\u4e48\u56de\u4e8b\u3002","title":"reactjs\u6e90\u7801\u5206\u6790-\u4e0a\u7bc7\uff08\u9996\u6b21\u6e32\u67d3\u5b9e\u73b0\u539f\u7406\uff09.md"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8A%E7%AF%87%EF%BC%88%E9%A6%96%E6%AC%A1%E6%B8%B2%E6%9F%93%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#reactjs-","text":"reactjs\u662f\u76ee\u524d\u6bd4\u8f83\u706b\u7684\u524d\u7aef\u6846\u67b6\uff0c\u4f46\u662f\u76ee\u524d\u5e76\u6ca1\u6709\u5f88\u597d\u7684\u89e3\u91ca\u539f\u7406\u7684\u9879\u76ee\u3002reactjs\u6e90\u7801\u6bd4\u8f83\u590d\u6742\u4e0d\u9002\u5408\u521d\u5b66\u8005\u53bb\u5b66\u4e60\u3002\u6240\u4ee5\u672c\u6587\u901a\u8fc7\u5b9e\u73b0\u4e00\u5957\u7b80\u6613\u7248\u7684reactjs\uff0c\u4f7f\u5f97\u7406\u89e3\u539f\u7406\u66f4\u52a0\u5bb9\u6613\u3002 \u6240\u6709\u5b9e\u4f8b\u6e90\u7801\u90fd\u6258\u7ba1\u5728github\u3002 \u70b9\u8fd9\u91cc \u91cc\u9762\u6709\u5206\u6b65\u9aa4\u7684\u4f8b\u5b50\uff0c\u53ef\u4ee5\u4e00\u8fb9\u770b\u4e00\u8fb9\u8fd0\u884c\u4f8b\u5b50\u3002 \u8fd9\u4e2a\u5e16\u5b50\u662f2015\u5e74\uff0c\u9700\u8981\u8003\u8651\u662f\u5426\u7b26\u5408\u6700\u65b0\u7684\u7248\u672c\uff0c\u77e5\u8bc6\u662f\u5426\u8fc7\u65f6","title":"reactjs\u6e90\u7801\u5206\u6790-\u4e0a\u7bc7\uff08\u9996\u6b21\u6e32\u67d3\u5b9e\u73b0\u539f\u7406\uff09"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8A%E7%AF%87%EF%BC%88%E9%A6%96%E6%AC%A1%E6%B8%B2%E6%9F%93%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#_1","text":"\u524d\u7aef\u7684\u53d1\u5c55\u7279\u522b\u5feb\uff0c\u7ecf\u5386\u8fc7jQuery\u4e00\u7edf\u5929\u4e0b\u7684\u5de5\u5177\u5e93\u65f6\u4ee3\u540e\uff0c\u73b0\u5728\u5404\u79cd\u6846\u67b6\u53c8\u5f00\u59cb\u767e\u5bb6\u4e89\u9e23\u4e86\u3002angular\uff0cember\uff0cbackbone\uff0cvue\uff0cavalon\uff0cploymer\u8fd8\u6709reactjs\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u524d\u7aef\u771f\u662f\u7a0d\u4e0d\u7559\u795e\u5c31\u611f\u89c9\u8981\u88ab\u6dd8\u6c70\u4e86\uff0c\u5c31\u5728\u53bb\u5e74\u5927\u5bb6\u8fd8\u90fd\u662fangularjs\u7684\u7c89\u4e1d\uff0c\u5230\u4e86\u4eca\u5e74\u53c8\u5f00\u59cb\u5404\u79cd\u72c2\u8ffdreactjs\u4e86\u3002\u524d\u7aef\u90fd\u662f\u559c\u65b0\u538c\u65e7\u7684\uff0c\u4e0d\u77e5\u9053\u6700\u540e\u8fd9\u4e9b\u6846\u67b6\u7531\u8c01\u6765\u4e00\u7edf\u5929\u4e0b\uff0c\u7528\u53e5\u5f88\u4fd7\u7684\u8bdd\u8bf4\uff0c\u8fd9\u662f\u6700\u597d\u7684\u65f6\u4ee3\u4e5f\u662f\u6700\u574f\u7684\u65f6\u4ee3\u3002\u4f5c\u4e3a\u4e00\u4e2a\u524d\u7aef\uff0c\u53ea\u80fd\u591a\u5b66\u70b9\uff0c\u5c3d\u91cf\u591a\u7684\u4e86\u89e3\u4ed6\u4eec\u7684\u539f\u7406\u3002 reactjs\u7684\u4ee3\u7801\u975e\u5e38\u7ed5\uff0c\u5bf9\u4e8e\u6ca1\u6709\u540e\u53f0\u5f00\u53d1\u7ecf\u9a8c\u7684\u524d\u7aef\u6765\u8bf4\u770b\u8d77\u6765\u4f1a\u6bd4\u8f83\u5403\u529b\u3002\u5176\u5b9ereactjs\u7684\u6838\u5fc3\u5185\u5bb9\u5e76\u4e0d\u591a\uff0c\u4e3b\u8981\u662f\u4e0b\u9762\u8fd9\u4e9b\uff1a \u865a\u62dfdom\u5bf9\u8c61(Virtual DOM) \u865a\u62dfdom\u5dee\u5f02\u5316\u7b97\u6cd5\uff08diff algorithm\uff09 \u5355\u5411\u6570\u636e\u6d41\u6e32\u67d3\uff08Data Flow\uff09 \u7ec4\u4ef6\u751f\u547d\u5468\u671f \u4e8b\u4ef6\u5904\u7406 \u4e0b\u9762\u6211\u4eec\u5c06\u4e00\u70b9\u70b9\u7684\u6765\u5b9e\u73b0\u4e00\u4e2a\u7b80\u6613\u7248\u7684reactjs\uff0c\u5b9e\u73b0\u4e0a\u9762\u7684\u90a3\u4e9b\u529f\u80fd\uff0c\u6700\u540e\u7528\u8fd9\u4e2areactjs\u505a\u4e00\u4e2atodolist\u7684\u5c0f\u5e94\u7528\uff0c\u770b\u5b8c\u8fd9\u4e2a\uff0c\u6216\u8005\u8ddf\u7740\u6572\u4e00\u904d\u4ee3\u7801\u3002\u5e0c\u671b\u8ba9\u5927\u5bb6\u80fd\u591f\u66f4\u597d\u7684\u7406\u89e3reactjs\u7684\u8fd0\u884c\u539f\u7406\u3002","title":"\u524d\u8a00"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8A%E7%AF%87%EF%BC%88%E9%A6%96%E6%AC%A1%E6%B8%B2%E6%9F%93%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#_2","text":"\u6211\u4eec\u5148\u4ece\u6e32\u67d3hello world\u5f00\u59cb\u5427\u3002 \u6211\u4eec\u770b\u4e0b\u9762\u7684\u4ee3\u7801\uff1a <script type=\"text/javascript\"> React.render('hello world',document.getElementById(\"container\")) </script> /** \u5bf9\u5e94\u7684html\u4e3a <div id=\"container\"></div> \u751f\u6210\u540e\u7684html\u4e3a\uff1a <div id=\"container\"> <span data-reactid=\"0\">hello world</span> </div> */ \u5047\u5b9a\u8fd9\u4e00\u884c\u4ee3\u7801,\u5c31\u53ef\u4ee5\u628a hello world \u6e32\u67d3\u5230\u5bf9\u5e94\u7684div\u91cc\u9762\u3002 \u6211\u4eec\u6765\u770b\u770b\u6211\u4eec\u9700\u8981\u4e3a\u6b64\u505a\u4e9b\u4ec0\u4e48\uff1a //component\u7c7b\uff0c\u7528\u6765\u8868\u793a\u6587\u672c\u5728\u6e32\u67d3\uff0c\u66f4\u65b0\uff0c\u5220\u9664\u65f6\u5e94\u8be5\u505a\u4e9b\u4ec0\u4e48\u4e8b\u60c5 function ReactDOMTextComponent(text) { //\u5b58\u4e0b\u5f53\u524d\u7684\u5b57\u7b26\u4e32 this._currentElement = '' + text; //\u7528\u6765\u6807\u8bc6\u5f53\u524dcomponent this._rootNodeID = null; } //component\u6e32\u67d3\u65f6\u751f\u6210\u7684dom\u7ed3\u6784 ReactDOMTextComponent.prototype.mountComponent = function(rootID) { this._rootNodeID = rootID; return '<span data-reactid=\"' + rootID + '\">' + this._currentElement + '</span>'; } //component\u5de5\u5382 \u7528\u6765\u8fd4\u56de\u4e00\u4e2acomponent\u5b9e\u4f8b function instantiateReactComponent(node){ if(typeof node === 'string' || typeof node === 'number'){ return new ReactDOMTextComponent(node) } } React = { nextReactRootIndex:0, render:function(element,container){ var componentInstance = instantiateReactComponent(element); var markup = componentInstance.mountComponent(React.nextReactRootIndex++); $(container).html(markup); //\u89e6\u53d1\u5b8c\u6210mount\u7684\u4e8b\u4ef6 $(document).trigger('mountReady'); } } \u4ee3\u7801\u5206\u4e3a\u4e09\u4e2a\u90e8\u5206\uff1a React.render \u4f5c\u4e3a\u5165\u53e3\u8d1f\u8d23\u8c03\u7528\u6e32\u67d3 \u6211\u4eec\u5f15\u5165\u4e86component\u7c7b\u7684\u6982\u5ff5\uff0cReactDOMTextComponent\u662f\u4e00\u4e2acomponent\u7c7b\u5b9a\u4e49\uff0c\u5b9a\u4e49\u5bf9\u4e8e\u8fd9\u79cd \u6587\u672c\u7c7b\u578b \u7684\u8282\u70b9\uff0c\u5728\u6e32\u67d3\uff0c\u66f4\u65b0\uff0c\u5220\u9664\u65f6\u5e94\u8be5\u505a\u4ec0\u4e48\u64cd\u4f5c\uff0c\u8fd9\u8fb9\u6682\u65f6\u53ea\u7528\u5230\u6e32\u67d3\uff0c\u53e6\u5916\u4e24\u4e2a\u53ef\u4ee5\u5148\u5ffd\u7565 instantiateReactComponent\u7528\u6765\u6839\u636eelement\u7684\u7c7b\u578b\uff08\u73b0\u5728\u53ea\u6709\u4e00\u79cdstring\u7c7b\u578b\uff09\uff0c\u8fd4\u56de\u4e00\u4e2acomponent\u7684\u5b9e\u4f8b\u3002\u5176\u5b9e\u5c31\u662f\u4e2a\u7c7b\u5de5\u5382\u3002 nextReactRootIndex\u4f5c\u4e3a\u6bcf\u4e2acomponent\u7684\u6807\u8bc6id\uff0c\u4e0d\u65ad\u52a01\uff0c\u786e\u4fdd\u552f\u4e00\u6027\u3002\u8fd9\u6837\u6211\u4eec\u4ee5\u540e\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u6807\u8bc6\u627e\u5230\u8fd9\u4e2a\u5143\u7d20\u3002 \u53ef\u4ee5\u770b\u5230\u6211\u4eec\u628a\u903b\u8f91\u5206\u4e3a\u51e0\u4e2a\u90e8\u5206\uff0c\u4e3b\u8981\u7684\u6e32\u67d3\u903b\u8f91\u653e\u5728\u4e86\u5177\u4f53\u7684componet\u7c7b\u53bb\u5b9a\u4e49\u3002React.render\u8d1f\u8d23\u8c03\u5ea6\u6574\u4e2a\u6d41\u7a0b\uff0c\u8fd9\u91cc\u662f\u8c03\u7528instantiateReactComponent\u751f\u6210\u4e00\u4e2a\u5bf9\u5e94component\u7c7b\u578b\u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u7136\u540e\u8c03\u7528\u6b64\u5bf9\u8c61\u7684mountComponent\u83b7\u53d6\u751f\u6210\u7684\u5185\u5bb9\u3002\u6700\u540e\u5199\u5230\u5bf9\u5e94\u7684container\u8282\u70b9\u4e2d\u3002 \u53ef\u80fd\u6709\u4eba\u95ee\uff0c\u8fd9\u4e48p\u5927\u70b9\u529f\u80fd\uff0c\u6709\u5fc5\u8981\u8fd9\u4e48\u590d\u6742\u561b\uff0c\u522b\u6025\u3002\u5f80\u4e0b\u770b\u624d\u80fd\u4f53\u4f1a\u8fd9\u79cd\u5206\u5c42\u7684\u597d\u5904\u3002","title":"\u5165\u95e8"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8A%E7%AF%87%EF%BC%88%E9%A6%96%E6%AC%A1%E6%B8%B2%E6%9F%93%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#elemetnt","text":"\u6211\u4eec\u77e5\u9053reactjs\u6700\u5927\u7684\u5356\u70b9\u5c31\u662f\u5b83\u7684\u865a\u62dfdom\u6982\u5ff5\uff0c\u6211\u4eec\u4e00\u822c\u4f7f\u7528 React.createElement \u6765\u521b\u5efa\u4e00\u4e2a\u865a\u62dfdom\u5143\u7d20\u3002 \u865a\u62dfdom\u5143\u7d20\u5206\u4e3a\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u6d4f\u89c8\u5668\u81ea\u5e26\u7684\u57fa\u672c\u5143\u7d20\u6bd4\u5982 div p input form \u8fd9\u79cd\uff0c\u4e00\u79cd\u662f\u81ea\u5b9a\u4e49\u7684\u5143\u7d20\u3002 \u8fd9\u8fb9\u9700\u8981\u8bf4\u4e00\u4e0b\u6211\u4eec\u4e0a\u8282\u63d0\u5230\u7684\u6587\u672c\u8282\u70b9\uff0c\u5b83\u4e0d\u7b97\u865a\u62dfdom\uff0c\u4f46\u662freacjs\u4e3a\u4e86\u4fdd\u6301\u6e32\u67d3\u7684\u4e00\u81f4\u6027\u3002\u6587\u672c\u8282\u70b9\u662f\u5728\u5916\u9762\u5305\u4e86\u4e00\u5c42span\u6807\u8bb0\uff0c\u4e5f\u7ed9\u5b83\u914d\u4e86\u4e2a\u7b80\u5316\u7248component\uff08ReactDOMTextComponent\uff09\u3002 \u8fd9\u8282\u6211\u4eec\u5148\u8ba8\u8bba\u6d4f\u89c8\u5668\u7684\u57fa\u672c\u5143\u7d20\u3002 \u5728reactjs\u91cc\uff0c\u5f53\u6211\u4eec\u5e0c\u671b\u5728hello world\u5916\u9762\u5305\u4e00\u5c42div,\u5e76\u4e14\u5e26\u4e0a\u4e00\u4e9b\u5c5e\u6027\uff0c\u751a\u81f3\u4e8b\u4ef6\u65f6\u6211\u4eec\u53ef\u4ee5\u8fd9\u4e48\u5199\uff1a //\u6f14\u793a\u4e8b\u4ef6\u76d1\u542c\u600e\u4e48\u7528 function hello(){ alert('hello') } var element = React.createElement('div',{id:'test',onclick:hello},'click me') React.render(element,document.getElementById(\"container\")) /** //\u751f\u6210\u7684html\u4e3a\uff1a <div data-reactid=\"0\" id=\"test\"> <span data-reactid=\"0.0\">click me</span> </div> //\u70b9\u51fb\u6587\u5b57\uff0c\u4f1a\u5f39\u51fahello\u7684\u5bf9\u8bdd\u6846 */ \u4e0a\u9762\u4f7f\u7528 React.createElement \u521b\u5efa\u4e86\u4e00\u4e2a\u57fa\u672c\u5143\u7d20\uff0c\u6211\u4eec\u6765\u770b\u770b\u7b80\u6613\u7248\u672c React.createElement \u7684\u5b9e\u73b0\uff1a //ReactElement\u5c31\u662f\u865a\u62dfdom\u7684\u6982\u5ff5\uff0c\u5177\u6709\u4e00\u4e2atype\u5c5e\u6027\u4ee3\u8868\u5f53\u524d\u7684\u8282\u70b9\u7c7b\u578b\uff0c\u8fd8\u6709\u8282\u70b9\u7684\u5c5e\u6027props //\u6bd4\u5982\u5bf9\u4e8ediv\u8fd9\u6837\u7684\u8282\u70b9type\u5c31\u662fdiv\uff0cprops\u5c31\u662f\u90a3\u4e9battributes //\u53e6\u5916\u8fd9\u91cc\u7684key,\u53ef\u4ee5\u7528\u6765\u6807\u8bc6\u8fd9\u4e2aelement\uff0c\u7528\u4e8e\u4f18\u5316\u4ee5\u540e\u7684\u66f4\u65b0\uff0c\u8fd9\u91cc\u53ef\u4ee5\u5148\u4e0d\u7ba1\uff0c\u77e5\u9053\u6709\u8fd9\u4e48\u4e2a\u4e1c\u897f\u5c31\u597d\u4e86 function ReactElement(type,key,props){ this.type = type; this.key = key; this.props = props; } React = { nextReactRootIndex:0, createElement:function(type,config,children){ var props = {},propName; config = config || {} //\u770b\u6709\u6ca1\u6709key\uff0c\u7528\u6765\u6807\u8bc6element\u7684\u7c7b\u578b\uff0c\u65b9\u4fbf\u4ee5\u540e\u9ad8\u6548\u7684\u66f4\u65b0\uff0c\u8fd9\u91cc\u53ef\u4ee5\u5148\u4e0d\u7ba1 var key = config.key || null; //\u590d\u5236config\u91cc\u7684\u5185\u5bb9\u5230props for (propName in config) { if (config.hasOwnProperty(propName) && propName !== 'key') { props[propName] = config[propName]; } } //\u5904\u7406children,\u5168\u90e8\u6302\u8f7d\u5230props\u7684children\u5c5e\u6027\u4e0a //\u652f\u6301\u4e24\u79cd\u5199\u6cd5\uff0c\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u53c2\u6570\uff0c\u76f4\u63a5\u8d4b\u503c\u7ed9children\uff0c\u5426\u5219\u505a\u5408\u5e76\u5904\u7406 var childrenLength = arguments.length - 2; if (childrenLength === 1) { props.children = $.isArray(children) ? children : [children] ; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 2]; } props.children = childArray; } return new ReactElement(type, key,props); }, render:function(element,container){ var componentInstance = instantiateReactComponent(element); var markup = componentInstance.mountComponent(React.nextReactRootIndex++); $(container).html(markup); //\u89e6\u53d1\u5b8c\u6210mount\u7684\u4e8b\u4ef6 $(document).trigger('mountReady'); } } createElement\u53ea\u662f\u505a\u4e86\u7b80\u5355\u7684\u53c2\u6570\u4fee\u6b63\uff0c\u6700\u7ec8\u8fd4\u56de\u4e00\u4e2aReactElement\u5b9e\u4f8b\u5bf9\u8c61\u4e5f\u5c31\u662f\u6211\u4eec\u8bf4\u7684\u865a\u62df\u5143\u7d20\u7684\u5b9e\u4f8b\u3002 \u8fd9\u91cc\u6ce8\u610fkey\u7684\u5b9a\u4e49\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u4ee5\u540e\u66f4\u65b0\u65f6\u4f18\u5316\u6548\u7387\uff0c\u8fd9\u8fb9\u53ef\u4ee5\u5148\u4e0d\u7ba1\u5ffd\u7565\u3002 \u597d\u4e86\u6709\u4e86\u5143\u7d20\u5b9e\u4f8b\uff0c\u6211\u4eec\u5f97\u628a\u4ed6\u6e32\u67d3\u51fa\u6765\uff0c\u6b64\u65f6render\u63a5\u53d7\u7684\u662f\u4e00\u4e2aReactElement\u800c\u4e0d\u662f\u6587\u672c\uff0c\u6211\u4eec\u5148\u6539\u9020\u4e0binstantiateReactComponent\uff1a function instantiateReactComponent(node){ //\u6587\u672c\u8282\u70b9\u7684\u60c5\u51b5 if(typeof node === 'string' || typeof node === 'number'){ return new ReactDOMTextComponent(node); } //\u6d4f\u89c8\u5668\u9ed8\u8ba4\u8282\u70b9\u7684\u60c5\u51b5 if(typeof node === 'object' && typeof node.type === 'string'){ //\u6ce8\u610f\u8fd9\u91cc\uff0c\u4f7f\u7528\u4e86\u4e00\u79cd\u65b0\u7684component return new ReactDOMComponent(node); } } \u6211\u4eec\u589e\u52a0\u4e86\u4e00\u4e2a\u5224\u65ad\uff0c\u8fd9\u6837\u5f53render\u7684\u4e0d\u662f\u6587\u672c\u800c\u662f\u6d4f\u89c8\u5668\u7684\u57fa\u672c\u5143\u7d20\u65f6\u3002\u6211\u4eec\u4f7f\u7528\u53e6\u5916\u4e00\u79cdcomponent\u6765\u5904\u7406\u5b83\u6e32\u67d3\u65f6\u5e94\u8be5\u8fd4\u56de\u7684\u5185\u5bb9\u3002\u8fd9\u91cc\u5c31\u4f53\u73b0\u4e86\u5de5\u5382\u65b9\u6cd5instantiateReactComponent\u7684\u597d\u5904\u4e86\uff0c\u4e0d\u7ba1\u6765\u4e86\u4ec0\u4e48\u7c7b\u578b\u7684node\uff0c\u90fd\u53ef\u4ee5\u8d1f\u8d23\u751f\u4ea7\u51fa\u4e00\u4e2a\u8d1f\u8d23\u6e32\u67d3\u7684component\u5b9e\u4f8b\u3002\u8fd9\u6837render\u5b8c\u5168\u4e0d\u9700\u8981\u505a\u4efb\u4f55\u4fee\u6539\uff0c\u53ea\u9700\u8981\u518d\u505a\u4e00\u79cd\u5bf9\u5e94\u7684component\u7c7b\u578b\uff08\u8fd9\u91cc\u662fReactDOMComponent\uff09\u5c31\u884c\u4e86\u3002 \u6240\u4ee5\u91cd\u70b9\u6211\u4eec\u6765\u770b\u770b ReactDOMComponent \u7684\u5177\u4f53\u5b9e\u73b0\uff1a //component\u7c7b\uff0c\u7528\u6765\u8868\u793a\u6587\u672c\u5728\u6e32\u67d3\uff0c\u66f4\u65b0\uff0c\u5220\u9664\u65f6\u5e94\u8be5\u505a\u4e9b\u4ec0\u4e48\u4e8b\u60c5 function ReactDOMComponent(element){ //\u5b58\u4e0b\u5f53\u524d\u7684element\u5bf9\u8c61\u5f15\u7528 this._currentElement = element; this._rootNodeID = null; } //component\u6e32\u67d3\u65f6\u751f\u6210\u7684dom\u7ed3\u6784 ReactDOMComponent.prototype.mountComponent = function(rootID){ //\u8d4b\u503c\u6807\u8bc6 this._rootNodeID = rootID; var props = this._currentElement.props; var tagOpen = '<' + this._currentElement.type; var tagClose = '</' + this._currentElement.type + '>'; //\u52a0\u4e0areactid\u6807\u8bc6 tagOpen += ' data-reactid=' + this._rootNodeID; //\u62fc\u51d1\u51fa\u5c5e\u6027 for (var propKey in props) { //\u8fd9\u91cc\u8981\u505a\u4e00\u4e0b\u4e8b\u4ef6\u7684\u76d1\u542c\uff0c\u5c31\u662f\u4ece\u5c5e\u6027props\u91cc\u9762\u89e3\u6790\u62ff\u51faon\u5f00\u5934\u7684\u4e8b\u4ef6\u5c5e\u6027\u7684\u5bf9\u5e94\u4e8b\u4ef6\u76d1\u542c if (/^on[A-Za-z]/.test(propKey)) { var eventType = propKey.replace('on', ''); //\u9488\u5bf9\u5f53\u524d\u7684\u8282\u70b9\u6dfb\u52a0\u4e8b\u4ef6\u4ee3\u7406,\u4ee5_rootNodeID\u4e3a\u547d\u540d\u7a7a\u95f4 $(document).delegate('[data-reactid=\"' + this._rootNodeID + '\"]', eventType + '.' + this._rootNodeID, props[propKey]); } //\u5bf9\u4e8echildren\u5c5e\u6027\u4ee5\u53ca\u4e8b\u4ef6\u76d1\u542c\u7684\u5c5e\u6027\u4e0d\u9700\u8981\u8fdb\u884c\u5b57\u7b26\u4e32\u62fc\u63a5 //\u4e8b\u4ef6\u4f1a\u4ee3\u7406\u5230\u5168\u5c40\u3002\u8fd9\u8fb9\u4e0d\u80fd\u62fc\u5230dom\u4e0a\u4e0d\u7136\u4f1a\u4ea7\u751f\u539f\u751f\u7684\u4e8b\u4ef6\u76d1\u542c if (props[propKey] && propKey != 'children' && !/^on[A-Za-z]/.test(propKey)) { tagOpen += ' ' + propKey + '=' + props[propKey]; } } //\u83b7\u53d6\u5b50\u8282\u70b9\u6e32\u67d3\u51fa\u7684\u5185\u5bb9 var content = ''; var children = props.children || []; var childrenInstances = []; //\u7528\u4e8e\u4fdd\u5b58\u6240\u6709\u7684\u5b50\u8282\u70b9\u7684componet\u5b9e\u4f8b\uff0c\u4ee5\u540e\u4f1a\u7528\u5230 var that = this; $.each(children, function(key, child) { //\u8fd9\u91cc\u518d\u6b21\u8c03\u7528\u4e86instantiateReactComponent\u5b9e\u4f8b\u5316\u5b50\u8282\u70b9component\u7c7b\uff0c\u62fc\u63a5\u597d\u8fd4\u56de var childComponentInstance = instantiateReactComponent(child); childComponentInstance._mountIndex = key; childrenInstances.push(childComponentInstance); //\u5b50\u8282\u70b9\u7684rootId\u662f\u7236\u8282\u70b9\u7684rootId\u52a0\u4e0a\u65b0\u7684key\u4e5f\u5c31\u662f\u987a\u5e8f\u7684\u503c\u62fc\u6210\u7684\u65b0\u503c var curRootId = that._rootNodeID + '.' + key; //\u5f97\u5230\u5b50\u8282\u70b9\u7684\u6e32\u67d3\u5185\u5bb9 var childMarkup = childComponentInstance.mountComponent(curRootId); //\u62fc\u63a5\u5728\u4e00\u8d77 content += ' ' + childMarkup; }) //\u7559\u7ed9\u4ee5\u540e\u66f4\u65b0\u65f6\u7528\u7684\u8fd9\u8fb9\u5148\u4e0d\u7528\u7ba1 this._renderedChildren = childrenInstances; //\u62fc\u51fa\u6574\u4e2ahtml\u5185\u5bb9 return tagOpen + '>' + content + tagClose; } \u6211\u4eec\u589e\u52a0\u4e86\u865a\u62dfdom reactElement\u7684\u5b9a\u4e49\uff0c\u589e\u52a0\u4e86\u4e00\u4e2a\u65b0\u7684componet\u7c7bReactDOMComponent\u3002 \u8fd9\u6837\u6211\u4eec\u5c31\u5b9e\u73b0\u4e86\u6e32\u67d3\u6d4f\u89c8\u5668\u57fa\u672c\u5143\u7d20\u7684\u529f\u80fd\u4e86\u3002 \u5bf9\u4e8e\u865a\u62dfdom\u7684\u6e32\u67d3\u903b\u8f91\uff0c\u672c\u8d28\u4e0a\u8fd8\u662f\u4e2a\u9012\u5f52\u6e32\u67d3\u7684\u4e1c\u897f\uff0creactElement\u4f1a\u9012\u5f52\u6e32\u67d3\u81ea\u5df1\u7684\u5b50\u8282\u70b9\u3002\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u901a\u8fc7instantiateReactComponent\u5c4f\u853d\u4e86\u5b50\u8282\u70b9\u7684\u5dee\u5f02\uff0c\u53ea\u9700\u8981\u4f7f\u7528\u4e0d\u540c\u7684componet\u7c7b\uff0c\u8fd9\u6837\u90fd\u80fd\u4fdd\u8bc1\u901a\u8fc7mountComponent\u6700\u7ec8\u62ff\u5230\u6e32\u67d3\u540e\u7684\u5185\u5bb9\u3002 \u53e6\u5916\u8fd9\u8fb9\u7684\u4e8b\u4ef6\u4e5f\u8981\u8bf4\u4e0b\uff0c\u53ef\u4ee5\u5728\u4f20\u9012props\u7684\u65f6\u5019\u4f20\u5165{onClick:function(){}}\u8fd9\u6837\u7684\u53c2\u6570\uff0c\u8fd9\u6837\u5c31\u4f1a\u5728\u5f53\u524d\u5143\u7d20\u4e0a\u6dfb\u52a0\u4e8b\u4ef6\uff0c\u4ee3\u7406\u5230document\u3002\u7531\u4e8ereactjs\u672c\u8eab\u5168\u662f\u5728\u5199js\uff0c\u6240\u4ee5\u76d1\u542c\u7684\u51fd\u6570\u7684\u4f20\u9012\u53d8\u5f97\u7279\u522b\u7b80\u5355\u3002 \u8fd9\u91cc\u5f88\u591a\u4e1c\u897f\u6ca1\u6709\u8003\u8651\uff0c\u6bd4\u5982\u4e00\u4e9b\u7279\u6b8a\u7684\u7c7b\u578binput select\u7b49\u7b49\uff0c\u518d\u6bd4\u5982img\u4e0d\u9700\u8981\u6709\u5bf9\u5e94\u7684tagClose\u7b49\u3002\u8fd9\u91cc\u4e3a\u4e86\u4fdd\u6301\u7b80\u5355\u5c31\u4e0d\u518d\u6269\u5c55\u4e86\u3002\u53e6\u5916reactjs\u7684\u4e8b\u4ef6\u5904\u7406\u5176\u5b9e\u5f88\u590d\u6742\uff0c\u5b9e\u73b0\u4e86\u4e00\u5957\u6807\u51c6\u7684w3c\u4e8b\u4ef6\u3002\u8fd9\u91cc\u5077\u61d2\u76f4\u63a5\u4f7f\u7528jQuery\u7684\u4e8b\u4ef6\u4ee3\u7406\u5230document\u4e0a\u4e86\u3002","title":"\u5f15\u5165\u57fa\u672celemetnt"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8A%E7%AF%87%EF%BC%88%E9%A6%96%E6%AC%A1%E6%B8%B2%E6%9F%93%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#_3","text":"\u4e0a\u9762\u5b9e\u73b0\u4e86\u57fa\u672c\u7684\u5143\u7d20\u5185\u5bb9\uff0c\u6211\u4eec\u4e0b\u9762\u5b9e\u73b0\u81ea\u5b9a\u4e49\u5143\u7d20\u7684\u529f\u80fd\u3002 \u968f\u7740\u524d\u7aef\u6280\u672f\u7684\u53d1\u5c55\u6d4f\u89c8\u5668\u7684\u90a3\u4e9b\u57fa\u672c\u5143\u7d20\u5df2\u7ecf\u6ee1\u8db3\u4e0d\u4e86\u6211\u4eec\u7684\u9700\u6c42\u4e86\uff0c\u5982\u679c\u4f60\u5bf9 webcomponents \u6709\u4e00\u5b9a\u7684\u4e86\u89e3\uff0c\u5c31\u4f1a\u77e5\u9053\u4eba\u4eec\u4e00\u76f4\u5728\u5c1d\u8bd5\u6269\u5c55\u4e00\u4e9b\u81ea\u5df1\u7684\u6807\u8bb0\u3002 reactjs\u901a\u8fc7\u865a\u62dfdom\u505a\u5230\u4e86\u7c7b\u4f3c\u7684\u529f\u80fd\uff0c\u8fd8\u8bb0\u5f97\u6211\u4eec\u4e0a\u9762element.type\u53ea\u662f\u4e2a\u7b80\u5355\u7684\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u662f\u4e2a\u7c7b\u5462\uff1f\u5982\u679c\u8fd9\u4e2a\u7c7b\u6070\u597d\u8fd8\u6709\u81ea\u5df1\u7684\u751f\u547d\u5468\u671f\u7ba1\u7406\uff0c\u90a3\u6269\u5c55\u6027\u5c31\u5f88\u9ad8\u4e86\u3002 \u5982\u679c\u5bf9\u751f\u547d\u5468\u671f\u7b49\u6982\u5ff5\u4e0d\u662f\u5f88\u7406\u89e3\u7684\uff0c\u53ef\u4ee5\u770b\u770b\u6211\u4ee5\u524d\u7684\u53e6\u4e00\u7247\u6587\u7ae0\uff1a javascript\u7ec4\u4ef6\u5316 \u6211\u4eec\u770b\u4e0breactjs\u600e\u4e48\u4f7f\u7528\u81ea\u5b9a\u4e49\u5143\u7d20\uff1a var HelloMessage = React.createClass({ getInitialState: function() { return {type: 'say:'}; }, componentWillMount: function() { console.log('\u6211\u5c31\u8981\u5f00\u59cb\u6e32\u67d3\u4e86\u3002\u3002\u3002') }, componentDidMount: function() { console.log('\u6211\u5df2\u7ecf\u6e32\u67d3\u597d\u4e86\u3002\u3002\u3002') }, render: function() { return React.createElement(\"div\", null,this.state.type, \"Hello \", this.props.name); } }); React.render(React.createElement(HelloMessage, {name: \"John\"}), document.getElementById(\"container\")); /** \u7ed3\u679c\u4e3a\uff1a html: <div data-reactid=\"0\"> <span data-reactid=\"0.0\">say:</span> <span data-reactid=\"0.1\">Hello </span> <span data-reactid=\"0.2\">John</span> </div> console: \u6211\u5c31\u8981\u5f00\u59cb\u6e32\u67d3\u4e86\u3002\u3002\u3002 \u6211\u5df2\u7ecf\u6e32\u67d3\u597d\u4e86\u3002\u3002\u3002 */ React.createElement \u63a5\u53d7\u7684\u4e0d\u518d\u662f\u5b57\u7b26\u4e32\uff0c\u800c\u662f\u4e00\u4e2aclass\u3002 React.createClass \u751f\u6210\u4e00\u4e2a\u81ea\u5b9a\u4e49\u6807\u8bb0\u7c7b\uff0c\u5e26\u6709\u57fa\u672c\u7684\u751f\u547d\u5468\u671f\uff1a getInitialState \u83b7\u53d6\u6700\u521d\u7684\u5c5e\u6027\u503cthis.state componentWillmount \u5728\u7ec4\u4ef6\u51c6\u5907\u6e32\u67d3\u65f6\u8c03\u7528 componentDidMount \u5728\u7ec4\u4ef6\u6e32\u67d3\u5b8c\u6210\u540e\u8c03\u7528 \u5bf9reactjs\u7a0d\u5fae\u6709\u70b9\u4e86\u89e3\u7684\u5e94\u8be5\u90fd\u53ef\u4ee5\u660e\u767d\u4e0a\u9762\u7684\u7528\u6cd5\u3002 \u6211\u4eec\u5148\u6765\u770b\u770bReact.createClass\u7684\u5b9e\u73b0\uff1a //\u5b9a\u4e49ReactClass\u7c7b,\u6240\u6709\u81ea\u5b9a\u4e49\u7684\u8d85\u7ea7\u7236\u7c7b var ReactClass = function(){ } //\u7559\u7ed9\u5b50\u7c7b\u53bb\u7ee7\u627f\u8986\u76d6 ReactClass.prototype.render = function(){} React = { nextReactRootIndex:0, createClass:function(spec){ //\u751f\u6210\u4e00\u4e2a\u5b50\u7c7b var Constructor = function (props) { this.props = props; this.state = this.getInitialState ? this.getInitialState() : null; } //\u539f\u578b\u7ee7\u627f\uff0c\u7ee7\u627f\u8d85\u7ea7\u7236\u7c7b Constructor.prototype = new ReactClass(); Constructor.prototype.constructor = Constructor; //\u6df7\u5165spec\u5230\u539f\u578b $.extend(Constructor.prototype,spec); return Constructor; }, createElement:function(type,config,children){ ... }, render:function(element,container){ ... } } \u53ef\u4ee5\u770b\u5230createClass\u751f\u6210\u4e86\u4e00\u4e2a\u7ee7\u627fReactClass\u7684\u5b50\u7c7b\uff0c\u5728\u6784\u9020\u51fd\u6570\u91cc\u8c03\u7528this.getInitialState\u83b7\u5f97\u6700\u521d\u7684state\u3002 \u4e3a\u4e86\u6f14\u793a\u65b9\u4fbf,\u6211\u4eec\u8fd9\u8fb9\u7684ReactClass\u76f8\u5f53\u7b80\u5355\uff0c\u5b9e\u9645\u4e0a\u539f\u59cb\u7684\u4ee3\u7801\u5904\u7406\u4e86\u5f88\u591a\u4e1c\u897f\uff0c\u6bd4\u5982\u7c7b\u7684mixin\u7684\u7ec4\u5408\u7ee7\u627f\u652f\u6301,\u6bd4\u5982componentDidMount\u7b49\u53ef\u4ee5\u5b9a\u4e49\u591a\u6b21\uff0c\u9700\u8981\u5408\u5e76\u8c03\u7528\u7b49\u7b49\uff0c\u6709\u5174\u8da3\u7684\u53bb\u7ffb\u6e90\u7801\u5427\uff0c\u4e0d\u662f\u672c\u6587\u7684\u4e3b\u8981\u76ee\u7684\uff0c\u8fd9\u91cc\u5c31\u4e0d\u8be6\u7ec6\u5c55\u5f00\u4e86\u3002 \u6211\u4eec\u8fd9\u91cc\u53ea\u662f\u8fd4\u56de\u4e86\u4e00\u4e2a\u7ee7\u627f\u7c7b\u7684\u5b9a\u4e49\uff0c\u90a3\u4e48\u5177\u4f53\u7684componentWillmount\uff0c\u8fd9\u4e9b\u751f\u547d\u5468\u671f\u51fd\u6570\u5728\u54ea\u91cc\u8c03\u7528\u5462\u3002 \u770b\u770b\u6211\u4eec\u4e0a\u9762\u7684\u4e24\u79cd\u7c7b\u578b\u5c31\u77e5\u9053\uff0c\u6211\u4eec\u662f\u65f6\u5019\u4e3a\u81ea\u5b9a\u4e49\u5143\u7d20\u4e5f\u63d0\u4f9b\u4e00\u4e2acomponet\u7c7b\u4e86\uff0c\u5728\u90a3\u4e2a\u7c7b\u91cc\u6211\u4eec\u4f1a\u5b9e\u4f8b\u5316ReactClass\uff0c\u5e76\u4e14\u7ba1\u7406\u751f\u547d\u5468\u671f\uff0c\u8fd8\u6709\u7236\u5b50\u7ec4\u4ef6\u4f9d\u8d56\u3002 \u597d\uff0c\u6211\u4eec\u8001\u89c4\u77e9\u5148\u6539\u9020instantiateReactComponent function instantiateReactComponent(node){ //\u6587\u672c\u8282\u70b9\u7684\u60c5\u51b5 if(typeof node === 'string' || typeof node === 'number'){ return new ReactDOMTextComponent(node); } //\u6d4f\u89c8\u5668\u9ed8\u8ba4\u8282\u70b9\u7684\u60c5\u51b5 if(typeof node === 'object' && typeof node.type === 'string'){ //\u6ce8\u610f\u8fd9\u91cc\uff0c\u4f7f\u7528\u4e86\u4e00\u79cd\u65b0\u7684component return new ReactDOMComponent(node); } //\u81ea\u5b9a\u4e49\u7684\u5143\u7d20\u8282\u70b9 if(typeof node === 'object' && typeof node.type === 'function'){ //\u6ce8\u610f\u8fd9\u91cc\uff0c\u4f7f\u7528\u65b0\u7684component,\u4e13\u95e8\u9488\u5bf9\u81ea\u5b9a\u4e49\u5143\u7d20 return new ReactCompositeComponent(node); } } \u5f88\u7b80\u5355\u6211\u4eec\u589e\u52a0\u4e86\u4e00\u4e2a\u5224\u65ad\uff0c\u4f7f\u7528\u65b0\u7684component\u7c7b\u5f62\u6765\u5904\u7406\u81ea\u5b9a\u4e49\u7684\u8282\u70b9\u3002\u6211\u4eec\u770b\u4e0b ReactCompositeComponent\u7684\u5177\u4f53\u5b9e\u73b0: function ReactCompositeComponent(element){ //\u5b58\u653e\u5143\u7d20element\u5bf9\u8c61 this._currentElement = element; //\u5b58\u653e\u552f\u4e00\u6807\u8bc6 this._rootNodeID = null; //\u5b58\u653e\u5bf9\u5e94\u7684ReactClass\u7684\u5b9e\u4f8b this._instance = null; } //\u7528\u4e8e\u8fd4\u56de\u5f53\u524d\u81ea\u5b9a\u4e49\u5143\u7d20\u6e32\u67d3\u65f6\u5e94\u8be5\u8fd4\u56de\u7684\u5185\u5bb9 ReactCompositeComponent.prototype.mountComponent = function(rootID){ this._rootNodeID = rootID; //\u62ff\u5230\u5f53\u524d\u5143\u7d20\u5bf9\u5e94\u7684\u5c5e\u6027\u503c var publicProps = this._currentElement.props; //\u62ff\u5230\u5bf9\u5e94\u7684ReactClass var ReactClass = this._currentElement.type; // Initialize the public class var inst = new ReactClass(publicProps); this._instance = inst; //\u4fdd\u7559\u5bf9\u5f53\u524dcomonent\u7684\u5f15\u7528\uff0c\u4e0b\u9762\u66f4\u65b0\u4f1a\u7528\u5230 inst._reactInternalInstance = this; if (inst.componentWillMount) { inst.componentWillMount(); //\u8fd9\u91cc\u5728\u539f\u59cb\u7684reactjs\u5176\u5b9e\u8fd8\u6709\u4e00\u5c42\u5904\u7406\uff0c\u5c31\u662f componentWillMount\u8c03\u7528setstate\uff0c\u4e0d\u4f1a\u89e6\u53d1rerender\u800c\u662f\u81ea\u52a8\u63d0\u524d\u5408\u5e76\uff0c\u8fd9\u91cc\u4e3a\u4e86\u4fdd\u6301\u7b80\u5355\uff0c\u5c31\u7565\u53bb\u4e86 } //\u8c03\u7528ReactClass\u7684\u5b9e\u4f8b\u7684render\u65b9\u6cd5,\u8fd4\u56de\u4e00\u4e2aelement\u6216\u8005\u4e00\u4e2a\u6587\u672c\u8282\u70b9 var renderedElement = this._instance.render(); //\u5f97\u5230renderedElement\u5bf9\u5e94\u7684component\u7c7b\u5b9e\u4f8b var renderedComponentInstance = instantiateReactComponent(renderedElement); this._renderedComponent = renderedComponentInstance; //\u5b58\u8d77\u6765\u7559\u4f5c\u540e\u7528 //\u62ff\u5230\u6e32\u67d3\u4e4b\u540e\u7684\u5b57\u7b26\u4e32\u5185\u5bb9\uff0c\u5c06\u5f53\u524d\u7684_rootNodeID\u4f20\u7ed9render\u51fa\u7684\u8282\u70b9 var renderedMarkup = renderedComponentInstance.mountComponent(this._rootNodeID); //\u4e4b\u524d\u6211\u4eec\u5728React.render\u65b9\u6cd5\u6700\u540e\u89e6\u53d1\u4e86mountReady\u4e8b\u4ef6\uff0c\u6240\u4ee5\u8fd9\u91cc\u53ef\u4ee5\u76d1\u542c\uff0c\u5728\u6e32\u67d3\u5b8c\u6210\u540e\u4f1a\u89e6\u53d1\u3002 $(document).on('mountReady', function() { //\u8c03\u7528inst.componentDidMount inst.componentDidMount && inst.componentDidMount(); }); return renderedMarkup; } \u5b9e\u73b0\u5e76\u4e0d\u96be\uff0cReactClass\u7684render\u4e00\u5b9a\u662f\u8fd4\u56de\u4e00\u4e2a\u865a\u62df\u8282\u70b9(\u5305\u62ecelement\u548ctext)\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u4f7f\u7528instantiateReactComponent\u53bb\u5f97\u5230\u5b9e\u4f8b\uff0c\u518d\u4f7f\u7528mountComponent\u62ff\u5230\u7ed3\u679c\u4f5c\u4e3a\u5f53\u524d\u81ea\u5b9a\u4e49\u5143\u7d20\u7684\u7ed3\u679c\u3002 \u5e94\u8be5\u8bf4\u672c\u8eab\u81ea\u5b9a\u4e49\u5143\u7d20\u4e0d\u8d1f\u8d23\u5177\u4f53\u7684\u5185\u5bb9\uff0c\u4ed6\u66f4\u591a\u7684\u662f\u8d1f\u8d23\u751f\u547d\u5468\u671f\u3002\u5177\u4f53\u7684\u5185\u5bb9\u662f\u7531\u5b83\u7684render\u65b9\u6cd5\u8fd4\u56de\u7684\u865a\u62df\u8282\u70b9\u6765\u8d1f\u8d23\u6e32\u67d3\u7684\u3002 \u672c\u8d28\u4e0a\u4e5f\u662f\u9012\u5f52\u7684\u53bb\u6e32\u67d3\u5185\u5bb9\u7684\u8fc7\u7a0b\u3002\u540c\u65f6\u56e0\u4e3a\u8fd9\u79cd\u9012\u5f52\u7684\u7279\u6027\uff0c\u7236\u7ec4\u4ef6\u7684componentWillMount\u4e00\u5b9a\u5728\u67d0\u4e2a\u5b50\u7ec4\u4ef6\u7684componentWillMount\u4e4b\u524d\u8c03\u7528\uff0c\u800c\u7236\u7ec4\u4ef6\u7684componentDidMount\u80af\u5b9a\u5728\u5b50\u7ec4\u4ef6\u4e4b\u540e\uff0c\u56e0\u4e3a\u76d1\u542cmountReady\u4e8b\u4ef6\uff0c\u80af\u5b9a\u662f\u5b50\u7ec4\u4ef6\u5148\u76d1\u542c\u7684\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\u81ea\u5b9a\u4e49\u5143\u7d20\u5e76\u4e0d\u4f1a\u5904\u7406\u6211\u4eeccreateElement\u65f6\u4f20\u5165\u7684\u5b50\u8282\u70b9\uff0c\u5b83\u53ea\u4f1a\u5904\u7406\u81ea\u5df1render\u8fd4\u56de\u7684\u8282\u70b9\u4f5c\u4e3a\u81ea\u5df1\u7684\u5b50\u8282\u70b9\u3002\u4e0d\u8fc7\u6211\u4eec\u5728render\u65f6\u53ef\u4ee5\u4f7f\u7528this.props.children\u62ff\u5230\u90a3\u4e9b\u4f20\u5165\u7684\u5b50\u8282\u70b9\uff0c\u53ef\u4ee5\u81ea\u5df1\u5904\u7406\u3002\u5176\u5b9e\u6709\u70b9\u7c7b\u4f3cwebcomponents\u91cc\u9762\u7684shadow dom\u7684\u4f5c\u7528\u3002 \u4e0a\u9762\u5b9e\u73b0\u4e86\u4e09\u79cd\u7c7b\u578b\u7684\u5143\u7d20\uff0c\u5176\u5b9e\u6211\u4eec\u53d1\u73b0\u672c\u8d28\u4e0a\u6ca1\u6709\u592a\u5927\u7684\u533a\u522b\uff0c\u90fd\u662f\u6709\u81ea\u5df1\u5bf9\u5e94component\u7c7b\u6765\u5904\u7406\u81ea\u5df1\u7684\u6e32\u67d3\u8fc7\u7a0b\u3002 \u5927\u6982\u7684\u5173\u7cfb\u662f\u4e0b\u9762\u8fd9\u6837\u3002 \u4e8e\u662f\u6211\u4eec\u53d1\u73b0\u521d\u59cb\u5316\u7684\u6e32\u67d3\u6d41\u7a0b\u90fd\u5df2\u7ecf\u5b8c\u6210\u4e86\u3002","title":"\u81ea\u5b9a\u4e49\u5143\u7d20"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8A%E7%AF%87%EF%BC%88%E9%A6%96%E6%AC%A1%E6%B8%B2%E6%9F%93%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#_4","text":"\u6574\u4e2a\u521d\u6b21\u6e32\u67d3\u7684\u6d41\u7a0b\u57fa\u672c\u5c31\u5206\u6790\u5b8c\u6bd5\u4e86\u3002\u770b\u770b\u6211\u4eec\u76ee\u524d\u7684\u8fdb\u5c55\uff0c\u4e8b\u4ef6\u76d1\u542c\u505a\u4e86\uff0c\u865a\u62dfdom\u6709\u4e86\u3002\u57fa\u672c\u7684\u7ec4\u4ef6\u751f\u547d\u5468\u671f\u4e5f\u6709\u4e86\u3002\u6211\u4eec\u8fd9\u4e2a\u5c0f\u73a9\u5177\u5df2\u7ecf\u53ef\u4ee5\u7b80\u5355\u8dd1\u8dd1\u4e86\u3002\u4e0b\u7bc7\u6587\u7ae0\u6211\u4eec\u5c06\u4e00\u8d77\u53bb\u5b9e\u73b0reactjs\u7684\u66f4\u65b0\u673a\u5236\uff0c\u770b\u770b\u5b83\u6700\u6838\u5fc3\u7684diff\u7b97\u6cd5\u662f\u600e\u4e48\u56de\u4e8b\u3002","title":"\u7ed3\u8bed"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8B%E7%AF%87%EF%BC%88%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/","text":"reactjs\u6e90\u7801\u5206\u6790-\u4e0b\u7bc7\uff08\u66f4\u65b0\u673a\u5236\u5b9e\u73b0\u539f\u7406\uff09 \u00b6 \u524d\u8a00 \u00b6 \u7d27\u63a5\u4e0a\u6587\uff0c\u865a\u62dfdom\u5dee\u5f02\u5316\u7b97\u6cd5\uff08diff algorithm\uff09\u662freactjs\u6700\u6838\u5fc3\u7684\u4e1c\u897f\uff0c\u6309\u7167\u5b98\u65b9\u7684\u8bf4\u6cd5\u3002\u4ed6\u975e\u5e38\u5feb\uff0c\u975e\u5e38\u9ad8\u6548\u3002\u76ee\u524d\u5df2\u7ecf\u6709\u4e00\u4e9b\u5206\u6790\u6b64\u7b97\u6cd5\u7684\u6587\u7ae0\uff0c\u4f46\u662f\u4ec5\u4ec5\u505c\u7559\u5728\u8868\u9762\u3002\u5927\u90e8\u5206\u5c0f\u767d\u770b\u5b8c\u5e76\u4e0d\u80fd\u4e86\u89e3\u3002\u6240\u4ee5\u6211\u4eec\u4e0b\u9762\u81ea\u5df1\u52a8\u624b\u5b9e\u73b0\u4e00\u904d\uff0c\u7b49\u4f60\u5b8c\u5168\u5b9e\u73b0\u4e86\uff0c\u518d\u53bb\u770b\u90a3\u4e9b\u6587\u5b57\u56fe\u7247\u6d41\u7684\u4ecb\u7ecd\u6587\u7ae0\uff0c\u5c31\u4f1a\u53d1\u73b0\u5bb9\u6613\u7406\u89e3\u591a\u4e86\u3002 \u5b9e\u73b0\u66f4\u65b0\u673a\u5236 \u00b6 \u4e0b\u9762\u6211\u4eec\u63a2\u8ba8\u4e0b\u66f4\u65b0\u7684\u673a\u5236\u3002 \u4e00\u822c\u5728reactjs\u4e2d\u6211\u4eec\u9700\u8981\u66f4\u65b0\u65f6\u90fd\u662f\u8c03\u7528\u7684setState\u3002\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a var HelloMessage = React.createClass({ getInitialState: function() { return {type: 'say:'}; }, changeType:function(){ this.setState({type:'shout:'}) }, render: function() { return React.createElement(\"div\", {onclick:this.changeType},this.state.type, \"Hello \", this.props.name); } }); React.render(React.createElement(HelloMessage, {name: \"John\"}), document.getElementById(\"container\")); /** //\u751f\u6210\u7684html\u4e3a\uff1a <div data-reactid=\"0\" id=\"test\"> <span data-reactid=\"0.0\">hello world</span> </div> \u70b9\u51fb\u6587\u5b57\uff0csay\u4f1a\u53d8\u6210shout */ \u70b9\u51fb\u6587\u5b57\uff0c\u8c03\u7528setState\u5c31\u4f1a\u66f4\u65b0\uff0c\u6240\u4ee5\u6211\u4eec\u6269\u5c55\u4e0bReactClass\uff0c\u770b\u4e0bsetState\u7684\u5b9e\u73b0\uff1a //\u5b9a\u4e49ReactClass\u7c7b var ReactClass = function(){ } ReactClass.prototype.render = function(){} //setState ReactClass.prototype.setState = function(newState) { //\u8fd8\u8bb0\u5f97\u6211\u4eec\u5728ReactCompositeComponent\u91cc\u9762mount\u7684\u65f6\u5019 \u505a\u4e86\u8d4b\u503c //\u6240\u4ee5\u8fd9\u91cc\u53ef\u4ee5\u62ff\u5230 \u5bf9\u5e94\u7684ReactCompositeComponent\u7684\u5b9e\u4f8b_reactInternalInstance this._reactInternalInstance.receiveComponent(null, newState); } \u53ef\u4ee5\u770b\u5230setState\u4e3b\u8981\u8c03\u7528\u4e86\u5bf9\u5e94\u7684component\u7684receiveComponent\u6765\u5b9e\u73b0\u66f4\u65b0\u3002\u6240\u6709\u7684\u6302\u8f7d\uff0c\u66f4\u65b0\u90fd\u5e94\u8be5\u4ea4\u7ed9\u5bf9\u5e94\u7684component\u6765\u7ba1\u7406\u3002 \u5c31\u50cf\u6240\u6709\u7684component\u90fd\u5b9e\u73b0\u4e86mountComponent\u6765\u5904\u7406\u7b2c\u4e00\u6b21\u6e32\u67d3\uff0c\u6240\u6709\u7684componet\u7c7b\u90fd\u5e94\u8be5\u5b9e\u73b0receiveComponent\u7528\u6765\u5904\u7406\u81ea\u5df1\u7684\u66f4\u65b0\u3002 \u81ea\u5b9a\u4e49\u5143\u7d20\u7684receiveComponent \u00b6 \u6240\u4ee5\u6211\u4eec\u7167\u846b\u82a6\u753b\u74e2\u6765\u7ed9\u81ea\u5b9a\u4e49\u5143\u7d20\u7684\u5bf9\u5e94component\u7c7b\uff08ReactCompositeComponent\uff09\u5b9e\u73b0\u4e00\u4e2areceiveComponent\u65b9\u6cd5\uff1a //\u66f4\u65b0 ReactCompositeComponent.prototype.receiveComponent = function(nextElement, newState) { //\u5982\u679c\u63a5\u53d7\u4e86\u65b0\u7684\uff0c\u5c31\u4f7f\u7528\u6700\u65b0\u7684element this._currentElement = nextElement || this._currentElement var inst = this._instance; //\u5408\u5e76state var nextState = $.extend(inst.state, newState); var nextProps = this._currentElement.props; //\u6539\u5199state inst.state = nextState; //\u5982\u679cinst\u6709shouldComponentUpdate\u5e76\u4e14\u8fd4\u56defalse\u3002\u8bf4\u660e\u7ec4\u4ef6\u672c\u8eab\u5224\u65ad\u4e0d\u8981\u66f4\u65b0\uff0c\u5c31\u76f4\u63a5\u8fd4\u56de\u3002 if (inst.shouldComponentUpdate && (inst.shouldComponentUpdate(nextProps, nextState) === false)) return; //\u751f\u547d\u5468\u671f\u7ba1\u7406\uff0c\u5982\u679c\u6709componentWillUpdate\uff0c\u5c31\u8c03\u7528\uff0c\u8868\u793a\u5f00\u59cb\u8981\u66f4\u65b0\u4e86\u3002 if (inst.componentWillUpdate) inst.componentWillUpdate(nextProps, nextState); var prevComponentInstance = this._renderedComponent; var prevRenderedElement = prevComponentInstance._currentElement; //\u91cd\u65b0\u6267\u884crender\u62ff\u5230\u5bf9\u5e94\u7684\u65b0element; var nextRenderedElement = this._instance.render(); //\u5224\u65ad\u662f\u9700\u8981\u66f4\u65b0\u8fd8\u662f\u76f4\u63a5\u5c31\u91cd\u65b0\u6e32\u67d3 //\u6ce8\u610f\u8fd9\u91cc\u7684_shouldUpdateReactComponent\u8ddf\u4e0a\u9762\u7684\u4e0d\u540c\u54e6 \u8fd9\u4e2a\u662f\u5168\u5c40\u7684\u65b9\u6cd5 if (_shouldUpdateReactComponent(prevRenderedElement, nextRenderedElement)) { //\u5982\u679c\u9700\u8981\u66f4\u65b0\uff0c\u5c31\u7ee7\u7eed\u8c03\u7528\u5b50\u8282\u70b9\u7684receiveComponent\u7684\u65b9\u6cd5\uff0c\u4f20\u5165\u65b0\u7684element\u66f4\u65b0\u5b50\u8282\u70b9\u3002 prevComponentInstance.receiveComponent(nextRenderedElement); //\u8c03\u7528componentDidUpdate\u8868\u793a\u66f4\u65b0\u5b8c\u6210\u4e86 inst.componentDidUpdate && inst.componentDidUpdate(); } else { //\u5982\u679c\u53d1\u73b0\u5b8c\u5168\u662f\u4e0d\u540c\u7684\u4e24\u79cdelement\uff0c\u90a3\u5c31\u5e72\u8106\u91cd\u65b0\u6e32\u67d3\u4e86 var thisID = this._rootNodeID; //\u91cd\u65b0new\u4e00\u4e2a\u5bf9\u5e94\u7684component\uff0c this._renderedComponent = this._instantiateReactComponent(nextRenderedElement); //\u91cd\u65b0\u751f\u6210\u5bf9\u5e94\u7684\u5143\u7d20\u5185\u5bb9 var nextMarkup = _renderedComponent.mountComponent(thisID); //\u66ff\u6362\u6574\u4e2a\u8282\u70b9 $('[data-reactid=\"' + this._rootNodeID + '\"]').replaceWith(nextMarkup); } } //\u7528\u6765\u5224\u5b9a\u4e24\u4e2aelement\u9700\u4e0d\u9700\u8981\u66f4\u65b0 //\u8fd9\u91cc\u7684key\u662f\u6211\u4eeccreateElement\u7684\u65f6\u5019\u53ef\u4ee5\u9009\u62e9\u6027\u7684\u4f20\u5165\u7684\u3002\u7528\u6765\u6807\u8bc6\u8fd9\u4e2aelement\uff0c\u5f53\u53d1\u73b0key\u4e0d\u540c\u65f6\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u76f4\u63a5\u91cd\u65b0\u6e32\u67d3\uff0c\u4e0d\u9700\u8981\u53bb\u66f4\u65b0\u4e86\u3002 var _shouldUpdateReactComponent \uff1d function(prevElement, nextElement){ if (prevElement != null && nextElement != null) { var prevType = typeof prevElement; var nextType = typeof nextElement; if (prevType === 'string' || prevType === 'number') { return nextType === 'string' || nextType === 'number'; } else { return nextType === 'object' && prevElement.type === nextElement.type && prevElement.key === nextElement.key; } } return false; } \u4e0d\u8981\u88ab\u8fd9\u4e48\u591a\u4ee3\u7801\u5413\u5230\uff0c\u5176\u5b9e\u6d41\u7a0b\u5f88\u7b80\u5355\u3002 \u5b83\u4e3b\u8981\u505a\u4e86\u4ec0\u4e48\u4e8b\u5462\uff1f\u9996\u5148\u4f1a\u5408\u5e76\u6539\u52a8\uff0c\u751f\u6210\u6700\u65b0\u7684state,props\u7136\u540e\u62ff\u4ee5\u524d\u7684render\u8fd4\u56de\u7684element\u8ddf\u73b0\u5728\u6700\u65b0\u8c03\u7528render\u751f\u6210\u7684element\u8fdb\u884c\u5bf9\u6bd4\uff08_shouldUpdateReactComponent\uff09\uff0c\u770b\u770b\u9700\u4e0d\u9700\u8981\u66f4\u65b0\uff0c\u5982\u679c\u8981\u66f4\u65b0\u5c31\u7ee7\u7eed\u8c03\u7528\u5bf9\u5e94\u7684component\u7c7b\u5bf9\u5e94\u7684receiveComponent\u5c31\u597d\u5566\uff0c\u5176\u5b9e\u5c31\u662f\u76f4\u63a5\u5f53\u7529\u624b\u638c\u67dc\uff0c\u4e8b\u60c5\u76f4\u63a5\u4e22\u7ed9\u624b\u4e0b\u53bb\u529e\u4e86\u3002\u5f53\u7136\u8fd8\u6709\u79cd\u60c5\u51b5\u662f\uff0c\u4e24\u6b21\u751f\u6210\u7684element\u5dee\u522b\u592a\u5927\uff0c\u5c31\u4e0d\u662f\u4e00\u4e2a\u7c7b\u578b\u7684\uff0c\u90a3\u597d\u529e\u76f4\u63a5\u91cd\u65b0\u751f\u6210\u4e00\u4efd\u65b0\u7684\u4ee3\u7801\u91cd\u65b0\u6e32\u67d3\u4e00\u6b21\u5c31o\u4e86\u3002 \u672c\u8d28\u4e0a\u8fd8\u662f\u9012\u5f52\u8c03\u7528receiveComponent\u7684\u8fc7\u7a0b\u3002 \u8fd9\u91cc\u6ce8\u610f\u4e24\u4e2a\u51fd\u6570\uff1a inst.shouldComponentUpdate\u662f\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u5f53\u6211\u4eec\u4e0d\u5e0c\u671b\u67d0\u6b21setState\u540e\u66f4\u65b0\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u91cd\u5199\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u8fd4\u56defalse\u5c31\u597d\u4e86\u3002 _shouldUpdateReactComponent\u662f\u4e00\u4e2a\u5168\u5c40\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u662f\u4e00\u79cdreactjs\u7684\u4f18\u5316\u673a\u5236\u3002\u7528\u6765\u51b3\u5b9a\u662f\u76f4\u63a5\u5168\u90e8\u66ff\u6362\uff0c\u8fd8\u662f\u4f7f\u7528\u5f88\u7ec6\u5fae\u7684\u6539\u52a8\u3002\u5f53\u4e24\u6b21render\u51fa\u6765\u7684\u5b50\u8282\u70b9key\u4e0d\u540c\uff0c\u76f4\u63a5\u5168\u90e8\u91cd\u65b0\u6e32\u67d3\u4e00\u904d\uff0c\u66ff\u6362\u5c31\u597d\u4e86\u3002\u5426\u5219\uff0c\u6211\u4eec\u5c31\u5f97\u6765\u4e2a\u9012\u5f52\u7684\u66f4\u65b0\uff0c\u4fdd\u8bc1\u6700\u5c0f\u5316\u7684\u66f4\u65b0\u673a\u5236\uff0c\u8fd9\u6837\u53ef\u4ee5\u4e0d\u4f1a\u6709\u592a\u5927\u7684\u95ea\u70c1\u3002 \u53e6\u5916\u53ef\u4ee5\u770b\u5230\u8fd9\u91cc\u8fd8\u5904\u7406\u4e86\u4e00\u5957\u66f4\u65b0\u7684\u751f\u547d\u5468\u671f\u8c03\u7528\u673a\u5236\u3002 \u6587\u672c\u8282\u70b9\u7684receiveComponent \u00b6 \u6211\u4eec\u518d\u770b\u770b\u6587\u672c\u8282\u70b9\u7684\uff0c\u6bd4\u8f83\u7b80\u5355\uff1a ReactDOMTextComponent.prototype.receiveComponent = function(nextText) { var nextStringText = '' + nextText; //\u8ddf\u4ee5\u524d\u4fdd\u5b58\u7684\u5b57\u7b26\u4e32\u6bd4\u8f83 if (nextStringText !== this._currentElement) { this._currentElement = nextStringText; //\u66ff\u6362\u6574\u4e2a\u8282\u70b9 $('[data-reactid=\"' + this._rootNodeID + '\"]').html(this._currentElement); } } \u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\uff0c\u5982\u679c\u4e0d\u540c\u7684\u8bdd\uff0c\u76f4\u63a5\u627e\u5230\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u66f4\u65b0\u5c31\u597d\u4e86\u3002 \u57fa\u672c\u5143\u7d20element\u7684receiveComponent \u00b6 \u6700\u540e\u6211\u4eec\u5f00\u59cb\u770b\u6bd4\u8f83\u590d\u6742\u7684\u6d4f\u89c8\u5668\u57fa\u672c\u5143\u7d20\u7684\u66f4\u65b0\u673a\u5236\u3002 \u6bd4\u5982\u6211\u4eec\u770b\u770b\u4e0b\u9762\u7684html: <div id=\"test\" name=\"hello\"> <span></span> <span></span> </div> \u60f3\u4e00\u4e0b\u6211\u4eec\u600e\u4e48\u4ee5\u6700\u5c0f\u4ee3\u4ef7\u53bb\u66f4\u65b0\u8fd9\u6bb5html\u5462\u3002\u4e0d\u96be\u53d1\u73b0\u5176\u5b9e\u4e3b\u8981\u5305\u62ec\u4e24\u4e2a\u90e8\u5206\uff1a \u5c5e\u6027\u7684\u66f4\u65b0\uff0c\u5305\u62ec\u5bf9\u7279\u6b8a\u5c5e\u6027\u6bd4\u5982\u4e8b\u4ef6\u7684\u5904\u7406 \u5b50\u8282\u70b9\u7684\u66f4\u65b0,\u8fd9\u4e2a\u6bd4\u8f83\u590d\u6742\uff0c\u4e3a\u4e86\u5f97\u5230\u6700\u597d\u7684\u6548\u7387\uff0c\u6211\u4eec\u9700\u8981\u5904\u7406\u4e0b\u9762\u8fd9\u4e9b\u95ee\u9898\uff1a \u62ff\u65b0\u7684\u5b50\u8282\u70b9\u6811\u8ddf\u4ee5\u524d\u8001\u7684\u5b50\u8282\u70b9\u6811\u5bf9\u6bd4\uff0c\u627e\u51fa\u4ed6\u4eec\u4e4b\u95f4\u7684\u5dee\u522b\u3002\u6211\u4eec\u79f0\u4e4b\u4e3adiff \u6240\u6709\u5dee\u522b\u627e\u51fa\u540e\uff0c\u518d\u4e00\u6b21\u6027\u7684\u53bb\u66f4\u65b0\u3002\u6211\u4eec\u79f0\u4e4b\u4e3apatch \u6240\u4ee5\u66f4\u65b0\u4ee3\u7801\u7ed3\u6784\u5982\u4e0b\uff1a ReactDOMComponent.prototype.receiveComponent = function(nextElement) { var lastProps = this._currentElement.props; var nextProps = nextElement.props; this._currentElement = nextElement; //\u9700\u8981\u5355\u72ec\u7684\u66f4\u65b0\u5c5e\u6027 this._updateDOMProperties(lastProps, nextProps); //\u518d\u66f4\u65b0\u5b50\u8282\u70b9 this._updateDOMChildren(nextElement.props.children); } \u6574\u4f53\u4e0a\u4e5f\u4e0d\u590d\u6742\uff0c\u5148\u662f\u5904\u7406\u5f53\u524d\u8282\u70b9\u5c5e\u6027\u7684\u53d8\u52a8\uff0c\u540e\u9762\u518d\u53bb\u5904\u7406\u5b50\u8282\u70b9\u7684\u53d8\u52a8 \u6211\u4eec\u4e00\u6b65\u6b65\u6765\uff0c\u5148\u770b\u770b\uff0c\u66f4\u65b0\u5c5e\u6027\u600e\u4e48\u53d8\u66f4\uff1a ReactDOMComponent.prototype._updateDOMProperties = function(lastProps, nextProps) { var propKey; //\u904d\u5386\uff0c\u5f53\u4e00\u4e2a\u8001\u7684\u5c5e\u6027\u4e0d\u5728\u65b0\u7684\u5c5e\u6027\u96c6\u5408\u91cc\u65f6\uff0c\u9700\u8981\u5220\u9664\u6389\u3002 for (propKey in lastProps) { //\u65b0\u7684\u5c5e\u6027\u91cc\u6709\uff0c\u6216\u8005propKey\u662f\u5728\u539f\u578b\u4e0a\u7684\u76f4\u63a5\u8df3\u8fc7\u3002\u8fd9\u6837\u5269\u4e0b\u7684\u90fd\u662f\u4e0d\u5728\u65b0\u5c5e\u6027\u96c6\u5408\u91cc\u7684\u3002\u9700\u8981\u5220\u9664 if (nextProps.hasOwnProperty(propKey) || !lastProps.hasOwnProperty(propKey)) { continue; } //\u5bf9\u4e8e\u90a3\u79cd\u7279\u6b8a\u7684\uff0c\u6bd4\u5982\u8fd9\u91cc\u7684\u4e8b\u4ef6\u76d1\u542c\u7684\u5c5e\u6027\u6211\u4eec\u9700\u8981\u53bb\u6389\u76d1\u542c if (/^on[A-Za-z]/.test(propKey)) { var eventType = propKey.replace('on', ''); //\u9488\u5bf9\u5f53\u524d\u7684\u8282\u70b9\u53d6\u6d88\u4e8b\u4ef6\u4ee3\u7406 $(document).undelegate('[data-reactid=\"' + this._rootNodeID + '\"]', eventType, lastProps[propKey]); continue; } //\u4ecedom\u4e0a\u5220\u9664\u4e0d\u9700\u8981\u7684\u5c5e\u6027 $('[data-reactid=\"' + this._rootNodeID + '\"]').removeAttr(propKey) } //\u5bf9\u4e8e\u65b0\u7684\u5c5e\u6027\uff0c\u9700\u8981\u5199\u5230dom\u8282\u70b9\u4e0a for (propKey in nextProps) { //\u5bf9\u4e8e\u4e8b\u4ef6\u76d1\u542c\u7684\u5c5e\u6027\u6211\u4eec\u9700\u8981\u7279\u6b8a\u5904\u7406 if (/^on[A-Za-z]/.test(propKey)) { var eventType = propKey.replace('on', ''); //\u4ee5\u524d\u5982\u679c\u5df2\u7ecf\u6709\uff0c\u8bf4\u660e\u6709\u4e86\u76d1\u542c\uff0c\u9700\u8981\u5148\u53bb\u6389 lastProps[propKey] && $(document).undelegate('[data-reactid=\"' + this._rootNodeID + '\"]', eventType, lastProps[propKey]); //\u9488\u5bf9\u5f53\u524d\u7684\u8282\u70b9\u6dfb\u52a0\u4e8b\u4ef6\u4ee3\u7406,\u4ee5_rootNodeID\u4e3a\u547d\u540d\u7a7a\u95f4 $(document).delegate('[data-reactid=\"' + this._rootNodeID + '\"]', eventType + '.' + this._rootNodeID, nextProps[propKey]); continue; } if (propKey == 'children') continue; //\u6dfb\u52a0\u65b0\u7684\u5c5e\u6027\uff0c\u6216\u8005\u662f\u66f4\u65b0\u8001\u7684\u540c\u540d\u5c5e\u6027 $('[data-reactid=\"' + this._rootNodeID + '\"]').prop(propKey, nextProps[propKey]) } } \u5c5e\u6027\u7684\u53d8\u66f4\u5e76\u4e0d\u662f\u7279\u522b\u590d\u6742\uff0c\u4e3b\u8981\u5c31\u662f\u627e\u5230\u4ee5\u524d\u8001\u7684\u4e0d\u7528\u7684\u5c5e\u6027\u76f4\u63a5\u53bb\u6389\uff0c\u65b0\u7684\u5c5e\u6027\u8d4b\u503c\uff0c\u5e76\u4e14\u6ce8\u610f\u5176\u4e2d\u7279\u6b8a\u7684\u4e8b\u4ef6\u5c5e\u6027\u505a\u51fa\u7279\u6b8a\u5904\u7406\u5c31\u884c\u4e86\u3002 \u4e0b\u9762\u6211\u4eec\u770b\u5b50\u8282\u70b9\u7684\u66f4\u65b0\uff0c\u4e5f\u662f\u6700\u590d\u6742\u7684\u90e8\u5206\u3002 ReactDOMComponent.prototype.receiveComponent = function(nextElement){ var lastProps = this._currentElement.props; var nextProps = nextElement.props; this._currentElement = nextElement; //\u9700\u8981\u5355\u72ec\u7684\u66f4\u65b0\u5c5e\u6027 this._updateDOMProperties(lastProps,nextProps); //\u518d\u66f4\u65b0\u5b50\u8282\u70b9 this._updateDOMChildren(nextProps.children); } //\u5168\u5c40\u7684\u66f4\u65b0\u6df1\u5ea6\u6807\u8bc6 var updateDepth = 0; //\u5168\u5c40\u7684\u66f4\u65b0\u961f\u5217\uff0c\u6240\u6709\u7684\u5dee\u5f02\u90fd\u5b58\u5728\u8fd9\u91cc var diffQueue = []; ReactDOMComponent.prototype._updateDOMChildren = function(nextChildrenElements){ updateDepth++ //_diff\u7528\u6765\u9012\u5f52\u627e\u51fa\u5dee\u522b,\u7ec4\u88c5\u5dee\u5f02\u5bf9\u8c61,\u6dfb\u52a0\u5230\u66f4\u65b0\u961f\u5217diffQueue\u3002 this._diff(diffQueue,nextChildrenElements); updateDepth-- if(updateDepth == 0){ //\u5728\u9700\u8981\u7684\u65f6\u5019\u8c03\u7528patch\uff0c\u6267\u884c\u5177\u4f53\u7684dom\u64cd\u4f5c this._patch(diffQueue); diffQueue = []; } } \u5c31\u50cf\u6211\u4eec\u4e4b\u524d\u8bf4\u7684\u4e00\u6837\uff0c\u66f4\u65b0\u5b50\u8282\u70b9\u5305\u542b\u4e24\u4e2a\u90e8\u5206\uff0c\u4e00\u4e2a\u662f\u9012\u5f52\u7684\u5206\u6790\u5dee\u5f02\uff0c\u628a\u5dee\u5f02\u6dfb\u52a0\u5230\u961f\u5217\u4e2d\u3002\u7136\u540e\u5728\u5408\u9002\u7684\u65f6\u673a\u8c03\u7528 _patch \u628a\u5dee\u5f02\u5e94\u7528\u5230dom\u4e0a\u3002 \u90a3\u4e48\u4ec0\u4e48\u662f\u5408\u9002\u7684\u65f6\u673a\uff0cupdateDepth\u53c8\u662f\u5e72\u561b\u7684\uff1f \u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c _diff \u5185\u90e8\u4e5f\u4f1a\u9012\u5f52\u8c03\u7528\u5b50\u8282\u70b9\u7684receiveComponent\u4e8e\u662f\u5f53\u67d0\u4e2a\u5b50\u8282\u70b9\u4e5f\u662f\u6d4f\u89c8\u5668\u666e\u901a\u8282\u70b9\uff0c\u5c31\u4e5f\u4f1a\u8d70_updateDOMChildren\u8fd9\u4e00\u6b65\u3002\u6240\u4ee5\u8fd9\u91cc\u4f7f\u7528\u4e86updateDepth\u6765\u8bb0\u5f55\u9012\u5f52\u7684\u8fc7\u7a0b\uff0c\u53ea\u6709\u7b49\u9012\u5f52\u56de\u6765updateDepth\u4e3a0\u65f6\uff0c\u4ee3\u8868\u6574\u4e2a\u5dee\u5f02\u5df2\u7ecf\u5206\u6790\u5b8c\u6bd5\uff0c\u53ef\u4ee5\u5f00\u59cb\u4f7f\u7528patch\u6765\u5904\u7406\u5dee\u5f02\u961f\u5217\u4e86\u3002 \u6240\u4ee5\u6211\u4eec\u5173\u952e\u662f\u5b9e\u73b0 _diff \u4e0e _patch \u4e24\u4e2a\u65b9\u6cd5\u3002 \u6211\u4eec\u5148\u770b_diff\u7684\u5b9e\u73b0\uff1a //\u5dee\u5f02\u66f4\u65b0\u7684\u51e0\u79cd\u7c7b\u578b var UPATE_TYPES = { MOVE_EXISTING: 1, REMOVE_NODE: 2, INSERT_MARKUP: 3 } //\u666e\u901a\u7684children\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u6b64\u65b9\u6cd5\u628a\u5b83\u8f6c\u6362\u6210\u4e00\u4e2amap,key\u5c31\u662felement\u7684key,\u5982\u679c\u662ftext\u8282\u70b9\u6216\u8005element\u521b\u5efa\u65f6\u5e76\u6ca1\u6709\u4f20\u5165key,\u5c31\u76f4\u63a5\u7528\u5728\u6570\u7ec4\u91cc\u7684index\u6807\u8bc6 function flattenChildren(componentChildren) { var child; var name; var childrenMap = {}; for (var i = 0; i < componentChildren.length; i++) { child = componentChildren[i]; name = child && child._currentelement && child._currentelement.key ? child._currentelement.key : i.toString(36); childrenMap[name] = child; } return childrenMap; } //\u4e3b\u8981\u7528\u6765\u751f\u6210\u5b50\u8282\u70b9elements\u7684component\u96c6\u5408 //\u8fd9\u8fb9\u6ce8\u610f\uff0c\u6709\u4e2a\u5224\u65ad\u903b\u8f91\uff0c\u5982\u679c\u53d1\u73b0\u662f\u66f4\u65b0\uff0c\u5c31\u4f1a\u7ee7\u7eed\u4f7f\u7528\u4ee5\u524d\u7684componentInstance,\u8c03\u7528\u5bf9\u5e94\u7684receiveComponent\u3002 //\u5982\u679c\u662f\u65b0\u7684\u8282\u70b9\uff0c\u5c31\u4f1a\u91cd\u65b0\u751f\u6210\u4e00\u4e2a\u65b0\u7684componentInstance\uff0c function generateComponentChildren(prevChildren, nextChildrenElements) { var nextChildren = {}; nextChildrenElements = nextChildrenElements || []; $.each(nextChildrenElements, function(index, element) { var name = element.key ? element.key : index; var prevChild = prevChildren && prevChildren[name]; var prevElement = prevChild && prevChild._currentElement; var nextElement = element; //\u8c03\u7528_shouldUpdateReactComponent\u5224\u65ad\u662f\u5426\u662f\u66f4\u65b0 if (_shouldUpdateReactComponent(prevElement, nextElement)) { //\u66f4\u65b0\u7684\u8bdd\u76f4\u63a5\u9012\u5f52\u8c03\u7528\u5b50\u8282\u70b9\u7684receiveComponent\u5c31\u597d\u4e86 prevChild.receiveComponent(nextElement); //\u7136\u540e\u7ee7\u7eed\u4f7f\u7528\u8001\u7684component nextChildren[name] = prevChild; } else { //\u5bf9\u4e8e\u6ca1\u6709\u8001\u7684\uff0c\u90a3\u5c31\u91cd\u65b0\u65b0\u589e\u4e00\u4e2a\uff0c\u91cd\u65b0\u751f\u6210\u4e00\u4e2acomponent var nextChildInstance = instantiateReactComponent(nextElement, null); //\u4f7f\u7528\u65b0\u7684component nextChildren[name] = nextChildInstance; } }) return nextChildren; } //_diff\u7528\u6765\u9012\u5f52\u627e\u51fa\u5dee\u522b,\u7ec4\u88c5\u5dee\u5f02\u5bf9\u8c61,\u6dfb\u52a0\u5230\u66f4\u65b0\u961f\u5217diffQueue\u3002 ReactDOMComponent.prototype._diff = function(diffQueue, nextChildrenElements) { var self = this; //\u62ff\u5230\u4e4b\u524d\u7684\u5b50\u8282\u70b9\u7684 component\u7c7b\u578b\u5bf9\u8c61\u7684\u96c6\u5408,\u8fd9\u4e2a\u662f\u5728\u521a\u5f00\u59cb\u6e32\u67d3\u65f6\u8d4b\u503c\u7684\uff0c\u8bb0\u4e0d\u5f97\u7684\u53ef\u4ee5\u7ffb\u4e0a\u9762 //_renderedChildren \u672c\u6765\u662f\u6570\u7ec4\uff0c\u6211\u4eec\u641e\u6210map var prevChildren = flattenChildren(self._renderedChildren); //\u751f\u6210\u65b0\u7684\u5b50\u8282\u70b9\u7684component\u5bf9\u8c61\u96c6\u5408\uff0c\u8fd9\u91cc\u6ce8\u610f\uff0c\u4f1a\u590d\u7528\u8001\u7684component\u5bf9\u8c61 var nextChildren = generateComponentChildren(prevChildren, nextChildrenElements); //\u91cd\u65b0\u8d4b\u503c_renderedChildren\uff0c\u4f7f\u7528\u6700\u65b0\u7684\u3002 self._renderedChildren = [] $.each(nextChildren, function(key, instance) { self._renderedChildren.push(instance); }) var nextIndex = 0; //\u4ee3\u8868\u5230\u8fbe\u7684\u65b0\u7684\u8282\u70b9\u7684index //\u901a\u8fc7\u5bf9\u6bd4\u4e24\u4e2a\u96c6\u5408\u7684\u5dee\u5f02\uff0c\u7ec4\u88c5\u5dee\u5f02\u8282\u70b9\u6dfb\u52a0\u5230\u961f\u5217\u4e2d for (name in nextChildren) { if (!nextChildren.hasOwnProperty(name)) { continue; } var prevChild = prevChildren && prevChildren[name]; var nextChild = nextChildren[name]; //\u76f8\u540c\u7684\u8bdd\uff0c\u8bf4\u660e\u662f\u4f7f\u7528\u7684\u540c\u4e00\u4e2acomponent,\u6240\u4ee5\u6211\u4eec\u9700\u8981\u505a\u79fb\u52a8\u7684\u64cd\u4f5c if (prevChild === nextChild) { //\u6dfb\u52a0\u5dee\u5f02\u5bf9\u8c61\uff0c\u7c7b\u578b\uff1aMOVE_EXISTING diffQueue.push({ parentId: self._rootNodeID, parentNode: $('[data-reactid=' + self._rootNodeID + ']'), type: UPATE_TYPES.MOVE_EXISTING, fromIndex: prevChild._mountIndex, toIndex: nextIndex }) } else { //\u5982\u679c\u4e0d\u76f8\u540c\uff0c\u8bf4\u660e\u662f\u65b0\u589e\u52a0\u7684\u8282\u70b9 //\u4f46\u662f\u5982\u679c\u8001\u7684\u8fd8\u5b58\u5728\uff0c\u5c31\u662felement\u4e0d\u540c\uff0c\u4f46\u662fcomponent\u4e00\u6837\u3002\u6211\u4eec\u9700\u8981\u628a\u5b83\u5bf9\u5e94\u7684\u8001\u7684element\u5220\u9664\u3002 if (prevChild) { //\u6dfb\u52a0\u5dee\u5f02\u5bf9\u8c61\uff0c\u7c7b\u578b\uff1aREMOVE_NODE diffQueue.push({ parentId: self._rootNodeID, parentNode: $('[data-reactid=' + self._rootNodeID + ']'), type: UPATE_TYPES.REMOVE_NODE, fromIndex: prevChild._mountIndex, toIndex: null }) //\u5982\u679c\u4ee5\u524d\u5df2\u7ecf\u6e32\u67d3\u8fc7\u4e86\uff0c\u8bb0\u5f97\u5148\u53bb\u6389\u4ee5\u524d\u6240\u6709\u7684\u4e8b\u4ef6\u76d1\u542c\uff0c\u901a\u8fc7\u547d\u540d\u7a7a\u95f4\u5168\u90e8\u6e05\u7a7a if (prevChild._rootNodeID) { $(document).undelegate('.' + prevChild._rootNodeID); } } //\u65b0\u589e\u52a0\u7684\u8282\u70b9\uff0c\u4e5f\u7ec4\u88c5\u5dee\u5f02\u5bf9\u8c61\u653e\u5230\u961f\u5217\u91cc //\u6dfb\u52a0\u5dee\u5f02\u5bf9\u8c61\uff0c\u7c7b\u578b\uff1aINSERT_MARKUP diffQueue.push({ parentId: self._rootNodeID, parentNode: $('[data-reactid=' + self._rootNodeID + ']'), type: UPATE_TYPES.INSERT_MARKUP, fromIndex: null, toIndex: nextIndex, markup: nextChild.mountComponent() //\u65b0\u589e\u7684\u8282\u70b9\uff0c\u591a\u4e00\u4e2a\u6b64\u5c5e\u6027\uff0c\u8868\u793a\u65b0\u8282\u70b9\u7684dom\u5185\u5bb9 }) } //\u66f4\u65b0mount\u7684index nextChild._mountIndex = nextIndex; nextIndex++; } //\u5bf9\u4e8e\u8001\u7684\u8282\u70b9\u91cc\u6709\uff0c\u65b0\u7684\u8282\u70b9\u91cc\u6ca1\u6709\u7684\u90a3\u4e9b\uff0c\u4e5f\u5168\u90fd\u5220\u9664\u6389 for (name in prevChildren) { if (prevChildren.hasOwnProperty(name) && !(nextChildren && nextChildren.hasOwnProperty(name))) { //\u6dfb\u52a0\u5dee\u5f02\u5bf9\u8c61\uff0c\u7c7b\u578b\uff1aREMOVE_NODE diffQueue.push({ parentId: self._rootNodeID, parentNode: $('[data-reactid=' + self._rootNodeID + ']'), type: UPATE_TYPES.REMOVE_NODE, fromIndex: prevChild._mountIndex, toIndex: null }) //\u5982\u679c\u4ee5\u524d\u5df2\u7ecf\u6e32\u67d3\u8fc7\u4e86\uff0c\u8bb0\u5f97\u5148\u53bb\u6389\u4ee5\u524d\u6240\u6709\u7684\u4e8b\u4ef6\u76d1\u542c if (prevChildren[name]._rootNodeID) { $(document).undelegate('.' + prevChildren[name]._rootNodeID); } } } } \u6211\u4eec\u5206\u6790\u4e0b\u4e0a\u9762\u7684\u4ee3\u7801\uff0c\u548b\u4e00\u770b\u597d\u591a\uff0c\u597d\u590d\u6742\uff0c\u4e0d\u6025\u6211\u4eec\u4ece\u5165\u53e3\u5f00\u59cb\u770b\u3002 \u9996\u5148\u6211\u4eec\u62ff\u5230\u4e4b\u524d\u7684component\u7684\u96c6\u5408\uff0c\u5982\u679c\u662f\u7b2c\u4e00\u6b21\u66f4\u65b0\u7684\u8bdd\uff0c\u8fd9\u4e2a\u503c\u662f\u6211\u4eec\u5728\u6e32\u67d3\u65f6\u8d4b\u503c\u7684\u3002\u7136\u540e\u6211\u4eec\u8c03\u7528generateComponentChildren\u751f\u6210\u6700\u65b0\u7684component\u96c6\u5408\u3002\u6211\u4eec\u77e5\u9053component\u662f\u7528\u6765\u653eelement\u7684\uff0c\u4e00\u4e2a\u841d\u535c\u4e00\u4e2a\u5751\u3002 \u6ce8\u610fflattenChildren\u6211\u4eec\u8fd9\u91cc\u628a\u6570\u7ec4\u96c6\u5408\u8f6c\u6210\u4e86\u5bf9\u8c61map,\u4ee5element\u7684key\u4f5c\u4e3a\u6807\u8bc6\uff0c\u5f53\u7136\u5bf9\u4e8etext\u6587\u672c\u6216\u8005\u6ca1\u6709\u4f20\u5165key\u7684element,\u76f4\u63a5\u7528index\u4f5c\u4e3a\u6807\u8bc6\u3002\u901a\u8fc7\u8fd9\u4e9b\u6807\u8bc6\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u7c7b\u578b\u7684\u89d2\u5ea6\u6765\u5224\u65ad\u4e24\u4e2acomponent\u662f\u5426\u662f\u4e00\u6837\u7684\u3002 generateComponentChildren\u4f1a\u5c3d\u91cf\u7684\u590d\u7528\u4ee5\u524d\u7684component\uff0c\u4e5f\u5c31\u662f\u90a3\u4e9b\u5751\uff0c\u5f53\u53d1\u73b0\u53ef\u4ee5\u590d\u7528component\uff08\u4e5f\u5c31\u662fkey\u4e00\u81f4\uff09\u65f6\uff0c\u5c31\u8fd8\u7528\u4ee5\u524d\u7684\uff0c\u53ea\u9700\u8981\u8c03\u7528\u4ed6\u5bf9\u5e94\u7684\u66f4\u65b0\u65b9\u6cd5receiveComponent\u5c31\u884c\u4e86\uff0c\u8fd9\u6837\u5c31\u4f1a\u9012\u5f52\u7684\u53bb\u83b7\u53d6\u5b50\u8282\u70b9\u7684\u5dee\u5f02\u5bf9\u8c61\u7136\u540e\u653e\u5230\u961f\u5217\u4e86\u3002\u5982\u679c\u53d1\u73b0\u4e0d\u80fd\u590d\u7528\u90a3\u5c31\u662f\u65b0\u7684\u8282\u70b9\uff0c\u6211\u4eec\u5c31\u9700\u8981instantiateReactComponent\u91cd\u65b0\u751f\u6210\u4e00\u4e2a\u65b0\u7684component\u3002 \u8fd9\u91cc\u7684flattenChildren\u9700\u8981\u7ed9\u4e88\u5f88\u5927\u7684\u5173\u6ce8\uff0c\u6bd4\u5982\u5bf9\u4e8e\u4e00\u4e2a\u8868\u683c\u5217\u8868\uff0c\u6211\u4eec\u5728\u6700\u524d\u9762\u63d2\u5165\u4e86\u4e00\u6761\u6570\u636e\uff0c\u60f3\u4e00\u4e0b\u5982\u679c\u6211\u4eec\u521b\u5efaelement\u65f6\u6ca1\u6709\u4f20\u5165key\uff0c\u6240\u6709\u7684key\u90fd\u662fnull,\u8fd9\u6837reactjs\u5728generateComponentChildren\u65f6\u5c31\u4f1a\u9ed8\u8ba4\u901a\u8fc7\u987a\u5e8f\uff08index\uff09\u6765\u4e00\u4e00\u5bf9\u5e94\u6539\u53d8\u524d\u8ddf\u6539\u53d8\u540e\u7684\u5b50\u8282\u70b9\uff0c\u8fd9\u6837\u53d8\u66f4\u524d\u4e0e\u53d8\u66f4\u540e\u7684\u5bf9\u5e94\u8282\u70b9\u5224\u65ad\uff08_shouldUpdateReactComponent\uff09\u5176\u5b9e\u662f\u4e0d\u5408\u9002\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\u5bf9\u4e8e\u8fd9\u79cd\u5217\u8868\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u6700\u597d\u7ed9\u4e88\u552f\u4e00\u7684\u6807\u8bc6key\uff0c\u8fd9\u6837reactjs\u627e\u5bf9\u5e94\u5173\u7cfb\u65f6\u4f1a\u66f4\u65b9\u4fbf\u4e00\u70b9\u3002 \u5f53\u6211\u4eec\u751f\u6210\u597d\u65b0\u7684component\u96c6\u5408\u4ee5\u540e\uff0c\u6211\u4eec\u9700\u8981\u505a\u51fa\u5bf9\u6bd4\u3002\u7ec4\u88c5\u5dee\u5f02\u5bf9\u8c61\u3002 \u5bf9\u6bd4\u8001\u7684\u96c6\u5408\u548c\u65b0\u7684\u96c6\u5408\u3002\u6211\u4eec\u9700\u8981\u627e\u51fa\u6db5\u76d6\u56db\u79cd\u60c5\u51b5\uff0c\u5305\u62ec\u4e09\u79cd\u7c7b\u578b\uff08UPATE_TYPES\uff09\u7684\u53d8\u52a8\uff1a \u7c7b\u578b \u60c5\u51b5 MOVE_EXISTING \u65b0\u7684component\u7c7b\u578b\u5728\u8001\u7684\u96c6\u5408\u91cc\u4e5f\u6709\uff0c\u5e76\u4e14element\u662f\u53ef\u4ee5\u66f4\u65b0\u7684\u7c7b\u578b\uff0c\u5728generateComponentChildren\u6211\u4eec\u5df2\u7ecf\u8c03\u7528\u4e86receiveComponent\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0bprevChild=nextChild,\u90a3\u6211\u4eec\u5c31\u9700\u8981\u505a\u51fa\u79fb\u52a8\u7684\u64cd\u4f5c\uff0c\u53ef\u4ee5\u590d\u7528\u4ee5\u524d\u7684dom\u8282\u70b9\u3002 INSERT_MARKUP \u65b0\u7684component\u7c7b\u578b\u4e0d\u5728\u8001\u7684\u96c6\u5408\u91cc\uff0c\u90a3\u4e48\u5c31\u662f\u5168\u65b0\u7684\u8282\u70b9\uff0c\u6211\u4eec\u9700\u8981\u63d2\u5165\u65b0\u7684\u8282\u70b9 REMOVE_NODE \u8001\u7684component\u7c7b\u578b\uff0c\u5728\u65b0\u7684\u96c6\u5408\u91cc\u4e5f\u6709\uff0c\u4f46\u662f\u5bf9\u5e94\u7684element\u4e0d\u540c\u4e86\u4e0d\u80fd\u76f4\u63a5\u590d\u7528\u76f4\u63a5\u66f4\u65b0\uff0c\u90a3\u6211\u4eec\u4e5f\u5f97\u5220\u9664\u3002 REMOVE_NODE \u8001\u7684component\u4e0d\u5728\u65b0\u7684\u96c6\u5408\u91cc\u7684\uff0c\u6211\u4eec\u9700\u8981\u5220\u9664 \u6240\u4ee5\u6211\u4eec\u627e\u51fa\u4e86\u8fd9\u4e09\u79cd\u7c7b\u578b\u7684\u5dee\u5f02\uff0c\u7ec4\u88c5\u6210\u5177\u4f53\u7684\u5dee\u5f02\u5bf9\u8c61\uff0c\u7136\u540e\u52a0\u5230\u4e86\u5dee\u5f02\u961f\u5217\u91cc\u9762\u3002 \u6bd4\u5982\u6211\u4eec\u770b\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u5047\u8bbe\u4e0b\u9762\u8fd9\u4e9b\u662f\u67d0\u4e2a\u7236\u5143\u7d20\u7684\u5b50\u5143\u7d20\u96c6\u5408\uff0c\u4e0a\u9762\u5230\u4e0b\u9762\u4ee3\u8868\u4e86\u53d8\u52a8\u6d41\u7a0b\uff1a \u6570\u5b57\u6211\u4eec\u53ef\u4ee5\u7406\u89e3\u4e3a\u7ed9element\u7684key\u3002 \u6b63\u65b9\u5f62\u4ee3\u8868element\u3002\u5706\u5f62\u4ee3\u8868\u4e86component\u3002\u5f53\u7136\u4e5f\u662f\u5b9e\u9645\u4e0a\u7684dom\u8282\u70b9\u7684\u4f4d\u7f6e\u3002 \u4ece\u4e0a\u5230\u4e0b\uff0c\u6211\u4eec\u76844 2 1\u91cc 2 \uff0c1\u53ef\u4ee5\u590d\u7528\u4e4b\u524d\u7684component,\u8ba9\u4ed6\u4eec\u901a\u77e5\u81ea\u5df1\u7684\u5b50\u8282\u70b9\u66f4\u65b0\u540e\uff0c\u518d\u544a\u8bc92\u548c1\uff0c\u4ed6\u4eec\u5728\u65b0\u7684\u96c6\u5408\u91cc\u9700\u8981\u79fb\u52a8\u7684\u4f4d\u7f6e\uff08\u5728\u6211\u4eec\u8fd9\u91cc\u5c31\u662f\u7ec4\u88c5\u5dee\u5f02\u5bf9\u8c61\u52a0\u5230\u961f\u5217\uff09\u30023\u9700\u8981\u5220\u9664\uff0c4\u9700\u8981\u65b0\u589e\u3002 \u597d\u4e86\uff0c\u6574\u4e2a\u7684diff\u5c31\u5b8c\u6210\u4e86\uff0c\u8fd9\u4e2a\u65f6\u5019\u5f53\u9012\u5f52\u5b8c\u6210\uff0c\u6211\u4eec\u5c31\u9700\u8981\u5f00\u59cb\u505apatch\u7684\u52a8\u4f5c\u4e86\uff0c\u628a\u8fd9\u4e9b\u5dee\u5f02\u5bf9\u8c61\u5b9e\u6253\u5b9e\u7684\u53cd\u6620\u5230\u5177\u4f53\u7684dom\u8282\u70b9\u4e0a\u3002 \u6211\u4eec\u770b\u4e0b_patch\u7684\u5b9e\u73b0\uff1a //\u7528\u4e8e\u5c06childNode\u63d2\u5165\u5230\u6307\u5b9a\u4f4d\u7f6e function insertChildAt(parentNode, childNode, index) { var beforeChild = parentNode.children().get(index); beforeChild ? childNode.insertBefore(beforeChild) : childNode.appendTo(parentNode); } ReactDOMComponent.prototype._patch = function(updates) { var update; var initialChildren = {}; var deleteChildren = []; for (var i = 0; i < updates.length; i++) { update = updates[i]; if (update.type === UPATE_TYPES.MOVE_EXISTING || update.type === UPATE_TYPES.REMOVE_NODE) { var updatedIndex = update.fromIndex; var updatedChild = $(update.parentNode.children().get(updatedIndex)); var parentID = update.parentID; //\u6240\u6709\u9700\u8981\u66f4\u65b0\u7684\u8282\u70b9\u90fd\u4fdd\u5b58\u4e0b\u6765\uff0c\u65b9\u4fbf\u540e\u9762\u4f7f\u7528 initialChildren[parentID] = initialChildren[parentID] || []; //\u4f7f\u7528parentID\u4f5c\u4e3a\u7b80\u6613\u547d\u540d\u7a7a\u95f4 initialChildren[parentID][updatedIndex] = updatedChild; //\u6240\u6709\u9700\u8981\u4fee\u6539\u7684\u8282\u70b9\u5148\u5220\u9664,\u5bf9\u4e8emove\u7684\uff0c\u540e\u9762\u518d\u91cd\u65b0\u63d2\u5165\u5230\u6b63\u786e\u7684\u4f4d\u7f6e\u5373\u53ef deleteChildren.push(updatedChild) } } //\u5220\u9664\u6240\u6709\u9700\u8981\u5148\u5220\u9664\u7684 $.each(deleteChildren, function(index, child) { $(child).remove(); }) //\u518d\u904d\u5386\u4e00\u6b21\uff0c\u8fd9\u6b21\u5904\u7406\u65b0\u589e\u7684\u8282\u70b9\uff0c\u8fd8\u6709\u4fee\u6539\u7684\u8282\u70b9\u8fd9\u91cc\u4e5f\u8981\u91cd\u65b0\u63d2\u5165 for (var k = 0; k < updates.length; k++) { update = updates[k]; switch (update.type) { case UPATE_TYPES.INSERT_MARKUP: insertChildAt(update.parentNode, $(update.markup), update.toIndex); break; case UPATE_TYPES.MOVE_EXISTING: insertChildAt(update.parentNode, initialChildren[update.parentID][update.fromIndex], update.toIndex); break; case UPATE_TYPES.REMOVE_NODE: // \u4ec0\u4e48\u90fd\u4e0d\u9700\u8981\u505a\uff0c\u56e0\u4e3a\u4e0a\u9762\u5df2\u7ecf\u5e2e\u5fd9\u5220\u9664\u6389\u4e86 break; } } } _patch \u4e3b\u8981\u5c31\u662f\u6328\u4e2a\u904d\u5386\u5dee\u5f02\u961f\u5217\uff0c\u904d\u5386\u4e24\u6b21\uff0c\u7b2c\u4e00\u6b21\u5220\u9664\u6389\u6240\u6709\u9700\u8981\u53d8\u52a8\u7684\u8282\u70b9\uff0c\u7136\u540e\u7b2c\u4e8c\u6b21\u63d2\u5165\u65b0\u7684\u8282\u70b9\u8fd8\u6709\u4fee\u6539\u7684\u8282\u70b9\u3002\u8fd9\u91cc\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u76f4\u63a5\u6328\u4e2a\u7684\u63d2\u5165\u5462\uff1f\u539f\u56e0\u5c31\u662f\u6211\u4eec\u5728diff\u9636\u6bb5\u6dfb\u52a0\u5dee\u5f02\u8282\u70b9\u5230\u5dee\u5f02\u961f\u5217\u65f6\uff0c\u672c\u8eab\u5c31\u662f\u6709\u5e8f\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u5bf9\u4e8e\u65b0\u589e\u8282\u70b9\uff08\u5305\u62ecmove\u548cinsert\u7684\uff09\u5728\u961f\u5217\u91cc\u7684\u987a\u5e8f\u5c31\u662f\u6700\u7ec8dom\u7684\u987a\u5e8f\uff0c\u6240\u4ee5\u6211\u4eec\u624d\u53ef\u4ee5\u6328\u4e2a\u7684\u76f4\u63a5\u6839\u636eindex\u53bb\u585e\u5165\u8282\u70b9\u3002 \u4f46\u662f\u5176\u5b9e\u4f60\u4f1a\u53d1\u73b0\u8fd9\u91cc\u6709\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u6240\u6709\u7684\u8282\u70b9\u90fd\u4f1a\u88ab\u5220\u9664\uff0c\u5305\u62ec\u590d\u7528\u4ee5\u524d\u7684component\u7c7b\u578b\u4e3a UPATE_TYPES.MOVE_EXISTING \u7684\uff0c\u6240\u4ee5\u95ea\u70c1\u4f1a\u5f88\u4e25\u91cd\u3002\u5176\u5b9e\u6211\u4eec\u518d\u770b\u770b\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u5176\u5b9e2\u662f\u4e0d\u9700\u8981\u8bb0\u5f55\u5230\u5dee\u5f02\u961f\u5217\u7684\u3002\u8fd9\u6837\u540e\u9762patch\u4e5f\u662fok\u7684\u3002\u60f3\u60f3\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f \u6211\u4eec\u6765\u6539\u9020\u4e0b\u4ee3\u7801\uff1a //_diff\u7528\u6765\u9012\u5f52\u627e\u51fa\u5dee\u522b,\u7ec4\u88c5\u5dee\u5f02\u5bf9\u8c61,\u6dfb\u52a0\u5230\u66f4\u65b0\u961f\u5217diffQueue\u3002 ReactDOMComponent.prototype._diff = function(diffQueue, nextChildrenElements){ \u3002\u3002\u3002 /**\u6ce8\u610f\u65b0\u589e\u4ee3\u7801**/ var lastIndex = 0;//\u4ee3\u8868\u8bbf\u95ee\u7684\u6700\u540e\u4e00\u6b21\u7684\u8001\u7684\u96c6\u5408\u7684\u4f4d\u7f6e var nextIndex = 0;//\u4ee3\u8868\u5230\u8fbe\u7684\u65b0\u7684\u8282\u70b9\u7684index //\u901a\u8fc7\u5bf9\u6bd4\u4e24\u4e2a\u96c6\u5408\u7684\u5dee\u5f02\uff0c\u7ec4\u88c5\u5dee\u5f02\u8282\u70b9\u6dfb\u52a0\u5230\u961f\u5217\u4e2d for (name in nextChildren) { if (!nextChildren.hasOwnProperty(name)) { continue; } var prevChild = prevChildren && prevChildren[name]; var nextChild = nextChildren[name]; //\u76f8\u540c\u7684\u8bdd\uff0c\u8bf4\u660e\u662f\u4f7f\u7528\u7684\u540c\u4e00\u4e2acomponent,\u6240\u4ee5\u6211\u4eec\u9700\u8981\u505a\u79fb\u52a8\u7684\u64cd\u4f5c if (prevChild === nextChild) { //\u6dfb\u52a0\u5dee\u5f02\u5bf9\u8c61\uff0c\u7c7b\u578b\uff1aMOVE_EXISTING \u3002\u3002\u3002\u3002 /**\u6ce8\u610f\u65b0\u589e\u4ee3\u7801**/ prevChild._mountIndex < lastIndex && diffQueue.push({ parentId:this._rootNodeID, parentNode:$('[data-reactid='+this._rootNodeID+']'), type: UPATE_TYPES.REMOVE_NODE, fromIndex: prevChild._mountIndex, toIndex:null }) lastIndex = Math.max(prevChild._mountIndex, lastIndex); } else { //\u5982\u679c\u4e0d\u76f8\u540c\uff0c\u8bf4\u660e\u662f\u65b0\u589e\u52a0\u7684\u8282\u70b9\uff0c if (prevChild) { //\u4f46\u662f\u5982\u679c\u8001\u7684\u8fd8\u5b58\u5728\uff0c\u5c31\u662felement\u4e0d\u540c\uff0c\u4f46\u662fcomponent\u4e00\u6837\u3002\u6211\u4eec\u9700\u8981\u628a\u5b83\u5bf9\u5e94\u7684\u8001\u7684element\u5220\u9664\u3002 //\u6dfb\u52a0\u5dee\u5f02\u5bf9\u8c61\uff0c\u7c7b\u578b\uff1aREMOVE_NODE \u3002\u3002\u3002\u3002\u3002 /**\u6ce8\u610f\u65b0\u589e\u4ee3\u7801**/ lastIndex = Math.max(prevChild._mountIndex, lastIndex); } \u3002\u3002\u3002 } //\u66f4\u65b0mount\u7684inddex nextChild._mountIndex = nextIndex; nextIndex++; } //\u5bf9\u4e8e\u8001\u7684\u8282\u70b9\u91cc\u6709\uff0c\u65b0\u7684\u8282\u70b9\u91cc\u6ca1\u6709\u7684\u90a3\u4e9b\uff0c\u4e5f\u5168\u90fd\u5220\u9664\u6389 \u3002\u3002\u3002 } \u53ef\u4ee5\u770b\u5230\u6211\u4eec\u591a\u52a0\u4e86\u4e2alastIndex\uff0c\u8fd9\u4e2a\u4ee3\u8868\u6700\u540e\u4e00\u6b21\u8bbf\u95ee\u7684\u8001\u96c6\u5408\u8282\u70b9\u7684\u6700\u5927\u7684\u4f4d\u7f6e\u3002 \u800c\u6211\u4eec\u52a0\u4e86\u4e2a\u5224\u65ad\uff0c\u53ea\u6709_mountIndex\u5c0f\u4e8e\u8fd9\u4e2alastIndex\u7684\u624d\u4f1a\u9700\u8981\u52a0\u5165\u5dee\u5f02\u961f\u5217\u3002\u6709\u4e86\u8fd9\u4e2a\u5224\u65ad\u4e0a\u9762\u7684\u4f8b\u5b502\u5c31\u4e0d\u9700\u8981move\u3002\u800c\u7a0b\u5e8f\u4e5f\u53ef\u4ee5\u597d\u597d\u7684\u8fd0\u884c\uff0c\u5b9e\u9645\u4e0a\u5927\u90e8\u5206\u90fd\u662f2\u8fd9\u79cd\u60c5\u51b5\u3002 \u8fd9\u662f\u4e00\u79cd\u987a\u5e8f\u4f18\u5316\uff0clastIndex\u4e00\u76f4\u5728\u66f4\u65b0\uff0c\u4ee3\u8868\u4e86\u5f53\u524d\u8bbf\u95ee\u7684\u6700\u53f3\u7684\u8001\u7684\u96c6\u5408\u7684\u5143\u7d20\u3002 \u6211\u4eec\u5047\u8bbe\u4e0a\u4e00\u4e2a\u5143\u7d20\u662fA,\u6dfb\u52a0\u540e\u66f4\u65b0\u4e86lastIndex\u3002 \u5982\u679c\u6211\u4eec\u8fd9\u65f6\u5019\u6765\u4e2a\u65b0\u5143\u7d20B\uff0c\u6bd4lastIndex\u8fd8\u5927\u8bf4\u660e\u5f53\u524d\u5143\u7d20\u5728\u8001\u7684\u96c6\u5408\u91cc\u9762\u5c31\u6bd4\u4e0a\u4e00\u4e2aA\u9760\u540e\u3002\u6240\u4ee5\u8fd9\u4e2a\u5143\u7d20\u5c31\u7b97\u4e0d\u52a0\u5165\u5dee\u5f02\u961f\u5217\uff0c\u4e5f\u4e0d\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u4eba\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5230\u540e\u9762\u7684path\u63d2\u5165\u8282\u70b9\u3002\u56e0\u4e3a\u6211\u4eec\u4ecepatch\u91cc\u9762\u77e5\u9053\uff0c\u65b0\u7684\u96c6\u5408\u90fd\u662f\u6309\u987a\u5e8f\u4ece\u5934\u5f00\u59cb\u63d2\u5165\u5143\u7d20\u7684\uff0c\u53ea\u6709\u5f53\u65b0\u5143\u7d20\u6bd4lastIndex\u5c0f\u65f6\u624d\u9700\u8981\u53d8\u66f4\u3002\u5176\u5b9e\u53ea\u8981\u4ed4\u7ec6\u63a8\u6572\u4e0b\u4e0a\u9762\u90a3\u4e2a\u4f8b\u5b50\uff0c\u5c31\u53ef\u4ee5\u7406\u89e3\u8fd9\u79cd\u4f18\u5316\u624b\u6bb5\u4e86\u3002 \u8fd9\u6837\u6574\u4e2a\u7684\u66f4\u65b0\u673a\u5236\u5c31\u5b8c\u6210\u4e86\u3002\u6211\u4eec\u518d\u6765\u7b80\u5355\u56de\u987e\u4e0breactjs\u7684\u5dee\u5f02\u7b97\u6cd5\uff1a \u9996\u5148\u662f\u6240\u6709\u7684component\u90fd\u5b9e\u73b0\u4e86receiveComponent\u6765\u8d1f\u8d23\u81ea\u5df1\u7684\u66f4\u65b0\uff0c\u800c\u6d4f\u89c8\u5668\u9ed8\u8ba4\u5143\u7d20\u7684\u66f4\u65b0\u6700\u4e3a\u590d\u6742\uff0c\u4e5f\u5c31\u662f\u7ecf\u5e38\u8bf4\u7684 diff algorithm\u3002 react\u6709\u4e00\u4e2a\u5168\u5c40_shouldUpdateReactComponent\u7528\u6765\u6839\u636eelement\u7684key\u6765\u5224\u65ad\u662f\u66f4\u65b0\u8fd8\u662f\u91cd\u65b0\u6e32\u67d3\uff0c\u8fd9\u662f\u7b2c\u4e00\u4e2a\u5dee\u5f02\u5224\u65ad\u3002\u6bd4\u5982\u81ea\u5b9a\u4e49\u5143\u7d20\u91cc\uff0c\u5c31\u4f7f\u7528\u8fd9\u4e2a\u5224\u65ad\uff0c\u901a\u8fc7\u8fd9\u79cd\u6807\u8bc6\u5224\u65ad\uff0c\u4f1a\u53d8\u5f97\u7279\u522b\u9ad8\u6548\u3002 \u6bcf\u4e2a\u7c7b\u578b\u7684\u5143\u7d20\u90fd\u8981\u5904\u7406\u597d\u81ea\u5df1\u7684\u66f4\u65b0\uff1a \u81ea\u5b9a\u4e49\u5143\u7d20\u7684\u66f4\u65b0\uff0c\u4e3b\u8981\u662f\u66f4\u65b0render\u51fa\u7684\u8282\u70b9\uff0c\u505a\u7529\u624b\u638c\u67dc\u4ea4\u7ed9render\u51fa\u7684\u8282\u70b9\u7684\u5bf9\u5e94component\u53bb\u7ba1\u7406\u66f4\u65b0\u3002 text\u8282\u70b9\u7684\u66f4\u65b0\u5f88\u7b80\u5355\uff0c\u76f4\u63a5\u66f4\u65b0\u6587\u6848\u3002 \u6d4f\u89c8\u5668\u57fa\u672c\u5143\u7d20\u7684\u66f4\u65b0\uff0c\u5206\u4e3a\u4e24\u5757\uff1a \u5148\u662f\u66f4\u65b0\u5c5e\u6027\uff0c\u5bf9\u6bd4\u51fa\u524d\u540e\u5c5e\u6027\u7684\u4e0d\u540c\uff0c\u5c40\u90e8\u66f4\u65b0\u3002\u5e76\u4e14\u5904\u7406\u7279\u6b8a\u5c5e\u6027\uff0c\u6bd4\u5982\u4e8b\u4ef6\u7ed1\u5b9a\u3002 \u7136\u540e\u662f\u5b50\u8282\u70b9\u7684\u66f4\u65b0\uff0c\u5b50\u8282\u70b9\u66f4\u65b0\u4e3b\u8981\u662f\u627e\u51fa\u5dee\u5f02\u5bf9\u8c61\uff0c\u627e\u5dee\u5f02\u5bf9\u8c61\u7684\u65f6\u5019\u4e5f\u4f1a\u4f7f\u7528\u4e0a\u9762\u7684_shouldUpdateReactComponent\u6765\u5224\u65ad\uff0c\u5982\u679c\u662f\u53ef\u4ee5\u76f4\u63a5\u66f4\u65b0\u7684\u5c31\u4f1a\u9012\u5f52\u8c03\u7528\u5b50\u8282\u70b9\u7684\u66f4\u65b0\uff0c\u8fd9\u6837\u4e5f\u4f1a\u9012\u5f52\u67e5\u627e\u5dee\u5f02\u5bf9\u8c61\uff0c\u8fd9\u91cc\u8fd8\u4f1a\u4f7f\u7528lastIndex\u8fd9\u79cd\u505a\u4e00\u79cd\u4f18\u5316\uff0c\u4f7f\u4e00\u4e9b\u8282\u70b9\u4fdd\u7559\u4f4d\u7f6e\uff0c\u4e4b\u540e\u6839\u636e\u5dee\u5f02\u5bf9\u8c61\u64cd\u4f5cdom\u5143\u7d20\uff08\u4f4d\u7f6e\u53d8\u52a8\uff0c\u5220\u9664\uff0c\u6dfb\u52a0\u7b49\uff09\u3002 \u6574\u4e2areactjs\u7684\u5dee\u5f02\u7b97\u6cd5\u5c31\u662f\u8fd9\u4e2a\u6837\u5b50\u3002\u6700\u6838\u5fc3\u7684\u4e24\u4e2a_shouldUpdateReactComponent\u4ee5\u53cadiff,patch\u7b97\u6cd5\u3002 \u5c0f\u8bd5\u725b\u5200 \u00b6 \u6709\u4e86\u4e0a\u9762\u7b80\u6613\u7248\u7684reaactjs\uff0c\u6211\u4eec\u6765\u5b9e\u73b0\u4e00\u4e2a\u7b80\u5355\u7684todolist\u5427\u3002 var TodoList = React.createClass({ getInitialState: function() { return {items: []}; }, add:function(){ var nextItems = this.state.items.concat([this.state.text]); this.setState({items: nextItems, text: ''}); }, onChange: function(e) { this.setState({text: e.target.value}); }, render: function() { var createItem = function(itemText) { return React.createElement(\"div\", null, itemText); }; var lists = this.state.items.map(createItem); var input = React.createElement(\"input\", {onkeyup: this.onChange.bind(this),value: this.state.text}); var button = React.createElement(\"p\", {onclick: this.add.bind(this)}, 'Add#' + (this.state.items.length + 1)) var children = lists.concat([input,button]) return React.createElement(\"div\", null,children); } }); React.render(React.createElement(TodoList), document.getElementById(\"container\")); \u6548\u679c\u5982\u4e0b\uff1a \u6574\u4e2a\u7684\u6d41\u7a0b\u662f\u8fd9\u6837\uff1a \u521d\u6b21\u6e32\u67d3\u65f6\u5148\u4f7f\u7528 ReactCompositeComponent \u6e32\u67d3\u81ea\u5b9a\u4e49\u5143\u7d20TodoList\uff0c\u8c03\u7528getInitialState\u62ff\u5230\u521d\u59cb\u503c\uff0c\u7136\u540e\u4f7f\u7528 ReactDOMComponent \u6e32\u67d3render\u8fd4\u56de\u7684div\u57fa\u672c\u5143\u7d20\u8282\u70b9\u3002div\u57fa\u672c\u5143\u7d20\u518d\u4e00\u5c42\u5c42\u7684\u4f7f\u7528 ReactDOMComponent \u53bb\u6e32\u67d3\u5404\u4e2a\u5b50\u8282\u70b9,\u5305\u62ecinput,\u8fd8\u6709p\u3002 \u5728input\u6846\u8f93\u5165\u6587\u5b57\u89e6\u53d1onchange\u4e8b\u4ef6\uff0c\u5f00\u59cb\u8c03\u7528setState\u505a\u51fa\u53d8\u66f4\uff0c\u76f4\u63a5\u53d8\u66f4render\u51fa\u6765\u7684\u8282\u70b9\uff0c\u7ecf\u8fc7\u5dee\u5f02\u7b97\u6cd5\uff0c\u4e00\u5c42\u5c42\u7684\u5f80\u4e0b\u3002\u6700\u540e\u6539\u53d8value\u503c\u3002 \u70b9\u51fb\u6309\u94ae\uff0c\u89e6\u53d1add\u7136\u540e\u5f00\u59cb\u66f4\u65b0\uff0c\u7ecf\u8fc7\u5dee\u5f02\u7b97\u6cd5\uff0c\u6dfb\u52a0\u4e00\u4e2a\u8282\u70b9\u3002\u540c\u65f6\u66f4\u65b0\u6309\u94ae\u4e0a\u9762\u7684\u6587\u6848\u3002 \u57fa\u672c\u4e0a\uff0c\u6574\u4e2a\u6d41\u7a0b\u90fd\u68b3\u7406\u6e05\u695a\u4e86 \u7ed3\u8bed \u00b6 \u8fd9\u53ea\u662f\u4e2a\u73a9\u5177\uff0c\u4f46\u5b9e\u73b0\u4e86reactjs\u6700\u6838\u5fc3\u7684\u529f\u80fd\uff0c\u865a\u62df\u8282\u70b9\uff0c\u5dee\u5f02\u7b97\u6cd5\uff0c\u5355\u5411\u6570\u636e\u66f4\u65b0\u90fd\u5728\u8fd9\u91cc\u4e86\u3002\u8fd8\u6709\u5f88\u591areactjs\u4f18\u79c0\u7684\u4e1c\u897f\u6ca1\u6709\u5b9e\u73b0\uff0c\u6bd4\u5982\u5bf9\u8c61\u751f\u6210\u65f6\u5185\u5b58\u7684\u7ebf\u7a0b\u6c60\u7ba1\u7406\uff0c\u6279\u91cf\u66f4\u65b0\u673a\u5236\uff0c\u4e8b\u4ef6\u7684\u4f18\u5316\uff0c\u670d\u52a1\u7aef\u7684\u6e32\u67d3\uff0cimmutable data\u7b49\u7b49\u3002\u8fd9\u4e9b\u4e1c\u897f\u53d7\u9650\u4e8e\u7bc7\u5e45\u5c31\u4e0d\u5177\u4f53\u5c55\u5f00\u4e86\u3002 reactjs\u4f5c\u4e3a\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\uff0c\u865a\u62df\u8282\u70b9\u7684\u60f3\u6cd5\u6bd4\u8f83\u65b0\u5947\uff0c\u4e0d\u8fc7\u4e2a\u4eba\u8fd8\u662f\u4e0d\u80fd\u63a5\u53d7\u8fd9\u79cd\u522b\u626d\u7684\u5199\u6cd5\u3002\u4f7f\u7528reactjs\uff0c\u5c31\u8981\u4f7f\u7528\u4ed6\u90a3\u4e00\u6574\u5957\u7684\u5f00\u53d1\u65b9\u5f0f\uff0c\u800c\u4ed6\u6838\u5fc3\u7684\u529f\u80fd\u5176\u5b9e\u53ea\u662f\u4e00\u4e2a\u5dee\u5f02\u7b97\u6cd5\uff0c\u800c\u8fd9\u79cd\u5176\u5b9e\u5df2\u7ecf\u6709\u76f8\u5173\u7684\u5e93\u5b9e\u73b0\u4e86\u3002 \u6700\u540e\u518d\u5410\u69fd\u4e0b\u524d\u7aef\u771f\u662f\u82e6\u547d\uff0c\u5404\u79cd\u65b0\u6280\u672f\uff0c\u5404\u79cd\u65b0\u77e5\u8bc6\u8111\u7ec6\u80de\u4e0d\u591f\u7528\u4e86\u3002\u4e5f\u96be\u602a\u524d\u7aef\u6c38\u8fdc\u90fd\u7f3a\u4eba\u3002 \u76f8\u5173\u8d44\u6599\uff1a http://freestyle21.cn/2015/06/21/react-diff-%E7%AE%97%E6%B3%95/ https://github.com/Matt-Esch/virtual-dom http://zjumty.iteye.com/blog/2207030 http://hao.jser.com/archive/7871/ https://github.com/miniflycn/qvd/issues/1 http://fluentconf.com/fluent2014/public/schedule/detail/32395 http://calendar.perfplanet.com/2013/diff/ http://segmentfault.com/a/1190000000606216 http://hulufei.gitbooks.io/react-tutorial/content/introduction.html http://reactjs.cn/react/docs/multiple-components.html http://facebook.github.io/react/docs/multiple-components.html","title":"reactjs\u6e90\u7801\u5206\u6790-\u4e0b\u7bc7\uff08\u66f4\u65b0\u673a\u5236\u5b9e\u73b0\u539f\u7406\uff09.md"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8B%E7%AF%87%EF%BC%88%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#reactjs-","text":"","title":"reactjs\u6e90\u7801\u5206\u6790-\u4e0b\u7bc7\uff08\u66f4\u65b0\u673a\u5236\u5b9e\u73b0\u539f\u7406\uff09"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8B%E7%AF%87%EF%BC%88%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#_1","text":"\u7d27\u63a5\u4e0a\u6587\uff0c\u865a\u62dfdom\u5dee\u5f02\u5316\u7b97\u6cd5\uff08diff algorithm\uff09\u662freactjs\u6700\u6838\u5fc3\u7684\u4e1c\u897f\uff0c\u6309\u7167\u5b98\u65b9\u7684\u8bf4\u6cd5\u3002\u4ed6\u975e\u5e38\u5feb\uff0c\u975e\u5e38\u9ad8\u6548\u3002\u76ee\u524d\u5df2\u7ecf\u6709\u4e00\u4e9b\u5206\u6790\u6b64\u7b97\u6cd5\u7684\u6587\u7ae0\uff0c\u4f46\u662f\u4ec5\u4ec5\u505c\u7559\u5728\u8868\u9762\u3002\u5927\u90e8\u5206\u5c0f\u767d\u770b\u5b8c\u5e76\u4e0d\u80fd\u4e86\u89e3\u3002\u6240\u4ee5\u6211\u4eec\u4e0b\u9762\u81ea\u5df1\u52a8\u624b\u5b9e\u73b0\u4e00\u904d\uff0c\u7b49\u4f60\u5b8c\u5168\u5b9e\u73b0\u4e86\uff0c\u518d\u53bb\u770b\u90a3\u4e9b\u6587\u5b57\u56fe\u7247\u6d41\u7684\u4ecb\u7ecd\u6587\u7ae0\uff0c\u5c31\u4f1a\u53d1\u73b0\u5bb9\u6613\u7406\u89e3\u591a\u4e86\u3002","title":"\u524d\u8a00"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8B%E7%AF%87%EF%BC%88%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#_2","text":"\u4e0b\u9762\u6211\u4eec\u63a2\u8ba8\u4e0b\u66f4\u65b0\u7684\u673a\u5236\u3002 \u4e00\u822c\u5728reactjs\u4e2d\u6211\u4eec\u9700\u8981\u66f4\u65b0\u65f6\u90fd\u662f\u8c03\u7528\u7684setState\u3002\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a var HelloMessage = React.createClass({ getInitialState: function() { return {type: 'say:'}; }, changeType:function(){ this.setState({type:'shout:'}) }, render: function() { return React.createElement(\"div\", {onclick:this.changeType},this.state.type, \"Hello \", this.props.name); } }); React.render(React.createElement(HelloMessage, {name: \"John\"}), document.getElementById(\"container\")); /** //\u751f\u6210\u7684html\u4e3a\uff1a <div data-reactid=\"0\" id=\"test\"> <span data-reactid=\"0.0\">hello world</span> </div> \u70b9\u51fb\u6587\u5b57\uff0csay\u4f1a\u53d8\u6210shout */ \u70b9\u51fb\u6587\u5b57\uff0c\u8c03\u7528setState\u5c31\u4f1a\u66f4\u65b0\uff0c\u6240\u4ee5\u6211\u4eec\u6269\u5c55\u4e0bReactClass\uff0c\u770b\u4e0bsetState\u7684\u5b9e\u73b0\uff1a //\u5b9a\u4e49ReactClass\u7c7b var ReactClass = function(){ } ReactClass.prototype.render = function(){} //setState ReactClass.prototype.setState = function(newState) { //\u8fd8\u8bb0\u5f97\u6211\u4eec\u5728ReactCompositeComponent\u91cc\u9762mount\u7684\u65f6\u5019 \u505a\u4e86\u8d4b\u503c //\u6240\u4ee5\u8fd9\u91cc\u53ef\u4ee5\u62ff\u5230 \u5bf9\u5e94\u7684ReactCompositeComponent\u7684\u5b9e\u4f8b_reactInternalInstance this._reactInternalInstance.receiveComponent(null, newState); } \u53ef\u4ee5\u770b\u5230setState\u4e3b\u8981\u8c03\u7528\u4e86\u5bf9\u5e94\u7684component\u7684receiveComponent\u6765\u5b9e\u73b0\u66f4\u65b0\u3002\u6240\u6709\u7684\u6302\u8f7d\uff0c\u66f4\u65b0\u90fd\u5e94\u8be5\u4ea4\u7ed9\u5bf9\u5e94\u7684component\u6765\u7ba1\u7406\u3002 \u5c31\u50cf\u6240\u6709\u7684component\u90fd\u5b9e\u73b0\u4e86mountComponent\u6765\u5904\u7406\u7b2c\u4e00\u6b21\u6e32\u67d3\uff0c\u6240\u6709\u7684componet\u7c7b\u90fd\u5e94\u8be5\u5b9e\u73b0receiveComponent\u7528\u6765\u5904\u7406\u81ea\u5df1\u7684\u66f4\u65b0\u3002","title":"\u5b9e\u73b0\u66f4\u65b0\u673a\u5236"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8B%E7%AF%87%EF%BC%88%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#receivecomponent","text":"\u6240\u4ee5\u6211\u4eec\u7167\u846b\u82a6\u753b\u74e2\u6765\u7ed9\u81ea\u5b9a\u4e49\u5143\u7d20\u7684\u5bf9\u5e94component\u7c7b\uff08ReactCompositeComponent\uff09\u5b9e\u73b0\u4e00\u4e2areceiveComponent\u65b9\u6cd5\uff1a //\u66f4\u65b0 ReactCompositeComponent.prototype.receiveComponent = function(nextElement, newState) { //\u5982\u679c\u63a5\u53d7\u4e86\u65b0\u7684\uff0c\u5c31\u4f7f\u7528\u6700\u65b0\u7684element this._currentElement = nextElement || this._currentElement var inst = this._instance; //\u5408\u5e76state var nextState = $.extend(inst.state, newState); var nextProps = this._currentElement.props; //\u6539\u5199state inst.state = nextState; //\u5982\u679cinst\u6709shouldComponentUpdate\u5e76\u4e14\u8fd4\u56defalse\u3002\u8bf4\u660e\u7ec4\u4ef6\u672c\u8eab\u5224\u65ad\u4e0d\u8981\u66f4\u65b0\uff0c\u5c31\u76f4\u63a5\u8fd4\u56de\u3002 if (inst.shouldComponentUpdate && (inst.shouldComponentUpdate(nextProps, nextState) === false)) return; //\u751f\u547d\u5468\u671f\u7ba1\u7406\uff0c\u5982\u679c\u6709componentWillUpdate\uff0c\u5c31\u8c03\u7528\uff0c\u8868\u793a\u5f00\u59cb\u8981\u66f4\u65b0\u4e86\u3002 if (inst.componentWillUpdate) inst.componentWillUpdate(nextProps, nextState); var prevComponentInstance = this._renderedComponent; var prevRenderedElement = prevComponentInstance._currentElement; //\u91cd\u65b0\u6267\u884crender\u62ff\u5230\u5bf9\u5e94\u7684\u65b0element; var nextRenderedElement = this._instance.render(); //\u5224\u65ad\u662f\u9700\u8981\u66f4\u65b0\u8fd8\u662f\u76f4\u63a5\u5c31\u91cd\u65b0\u6e32\u67d3 //\u6ce8\u610f\u8fd9\u91cc\u7684_shouldUpdateReactComponent\u8ddf\u4e0a\u9762\u7684\u4e0d\u540c\u54e6 \u8fd9\u4e2a\u662f\u5168\u5c40\u7684\u65b9\u6cd5 if (_shouldUpdateReactComponent(prevRenderedElement, nextRenderedElement)) { //\u5982\u679c\u9700\u8981\u66f4\u65b0\uff0c\u5c31\u7ee7\u7eed\u8c03\u7528\u5b50\u8282\u70b9\u7684receiveComponent\u7684\u65b9\u6cd5\uff0c\u4f20\u5165\u65b0\u7684element\u66f4\u65b0\u5b50\u8282\u70b9\u3002 prevComponentInstance.receiveComponent(nextRenderedElement); //\u8c03\u7528componentDidUpdate\u8868\u793a\u66f4\u65b0\u5b8c\u6210\u4e86 inst.componentDidUpdate && inst.componentDidUpdate(); } else { //\u5982\u679c\u53d1\u73b0\u5b8c\u5168\u662f\u4e0d\u540c\u7684\u4e24\u79cdelement\uff0c\u90a3\u5c31\u5e72\u8106\u91cd\u65b0\u6e32\u67d3\u4e86 var thisID = this._rootNodeID; //\u91cd\u65b0new\u4e00\u4e2a\u5bf9\u5e94\u7684component\uff0c this._renderedComponent = this._instantiateReactComponent(nextRenderedElement); //\u91cd\u65b0\u751f\u6210\u5bf9\u5e94\u7684\u5143\u7d20\u5185\u5bb9 var nextMarkup = _renderedComponent.mountComponent(thisID); //\u66ff\u6362\u6574\u4e2a\u8282\u70b9 $('[data-reactid=\"' + this._rootNodeID + '\"]').replaceWith(nextMarkup); } } //\u7528\u6765\u5224\u5b9a\u4e24\u4e2aelement\u9700\u4e0d\u9700\u8981\u66f4\u65b0 //\u8fd9\u91cc\u7684key\u662f\u6211\u4eeccreateElement\u7684\u65f6\u5019\u53ef\u4ee5\u9009\u62e9\u6027\u7684\u4f20\u5165\u7684\u3002\u7528\u6765\u6807\u8bc6\u8fd9\u4e2aelement\uff0c\u5f53\u53d1\u73b0key\u4e0d\u540c\u65f6\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u76f4\u63a5\u91cd\u65b0\u6e32\u67d3\uff0c\u4e0d\u9700\u8981\u53bb\u66f4\u65b0\u4e86\u3002 var _shouldUpdateReactComponent \uff1d function(prevElement, nextElement){ if (prevElement != null && nextElement != null) { var prevType = typeof prevElement; var nextType = typeof nextElement; if (prevType === 'string' || prevType === 'number') { return nextType === 'string' || nextType === 'number'; } else { return nextType === 'object' && prevElement.type === nextElement.type && prevElement.key === nextElement.key; } } return false; } \u4e0d\u8981\u88ab\u8fd9\u4e48\u591a\u4ee3\u7801\u5413\u5230\uff0c\u5176\u5b9e\u6d41\u7a0b\u5f88\u7b80\u5355\u3002 \u5b83\u4e3b\u8981\u505a\u4e86\u4ec0\u4e48\u4e8b\u5462\uff1f\u9996\u5148\u4f1a\u5408\u5e76\u6539\u52a8\uff0c\u751f\u6210\u6700\u65b0\u7684state,props\u7136\u540e\u62ff\u4ee5\u524d\u7684render\u8fd4\u56de\u7684element\u8ddf\u73b0\u5728\u6700\u65b0\u8c03\u7528render\u751f\u6210\u7684element\u8fdb\u884c\u5bf9\u6bd4\uff08_shouldUpdateReactComponent\uff09\uff0c\u770b\u770b\u9700\u4e0d\u9700\u8981\u66f4\u65b0\uff0c\u5982\u679c\u8981\u66f4\u65b0\u5c31\u7ee7\u7eed\u8c03\u7528\u5bf9\u5e94\u7684component\u7c7b\u5bf9\u5e94\u7684receiveComponent\u5c31\u597d\u5566\uff0c\u5176\u5b9e\u5c31\u662f\u76f4\u63a5\u5f53\u7529\u624b\u638c\u67dc\uff0c\u4e8b\u60c5\u76f4\u63a5\u4e22\u7ed9\u624b\u4e0b\u53bb\u529e\u4e86\u3002\u5f53\u7136\u8fd8\u6709\u79cd\u60c5\u51b5\u662f\uff0c\u4e24\u6b21\u751f\u6210\u7684element\u5dee\u522b\u592a\u5927\uff0c\u5c31\u4e0d\u662f\u4e00\u4e2a\u7c7b\u578b\u7684\uff0c\u90a3\u597d\u529e\u76f4\u63a5\u91cd\u65b0\u751f\u6210\u4e00\u4efd\u65b0\u7684\u4ee3\u7801\u91cd\u65b0\u6e32\u67d3\u4e00\u6b21\u5c31o\u4e86\u3002 \u672c\u8d28\u4e0a\u8fd8\u662f\u9012\u5f52\u8c03\u7528receiveComponent\u7684\u8fc7\u7a0b\u3002 \u8fd9\u91cc\u6ce8\u610f\u4e24\u4e2a\u51fd\u6570\uff1a inst.shouldComponentUpdate\u662f\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u5f53\u6211\u4eec\u4e0d\u5e0c\u671b\u67d0\u6b21setState\u540e\u66f4\u65b0\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u91cd\u5199\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u8fd4\u56defalse\u5c31\u597d\u4e86\u3002 _shouldUpdateReactComponent\u662f\u4e00\u4e2a\u5168\u5c40\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u662f\u4e00\u79cdreactjs\u7684\u4f18\u5316\u673a\u5236\u3002\u7528\u6765\u51b3\u5b9a\u662f\u76f4\u63a5\u5168\u90e8\u66ff\u6362\uff0c\u8fd8\u662f\u4f7f\u7528\u5f88\u7ec6\u5fae\u7684\u6539\u52a8\u3002\u5f53\u4e24\u6b21render\u51fa\u6765\u7684\u5b50\u8282\u70b9key\u4e0d\u540c\uff0c\u76f4\u63a5\u5168\u90e8\u91cd\u65b0\u6e32\u67d3\u4e00\u904d\uff0c\u66ff\u6362\u5c31\u597d\u4e86\u3002\u5426\u5219\uff0c\u6211\u4eec\u5c31\u5f97\u6765\u4e2a\u9012\u5f52\u7684\u66f4\u65b0\uff0c\u4fdd\u8bc1\u6700\u5c0f\u5316\u7684\u66f4\u65b0\u673a\u5236\uff0c\u8fd9\u6837\u53ef\u4ee5\u4e0d\u4f1a\u6709\u592a\u5927\u7684\u95ea\u70c1\u3002 \u53e6\u5916\u53ef\u4ee5\u770b\u5230\u8fd9\u91cc\u8fd8\u5904\u7406\u4e86\u4e00\u5957\u66f4\u65b0\u7684\u751f\u547d\u5468\u671f\u8c03\u7528\u673a\u5236\u3002","title":"\u81ea\u5b9a\u4e49\u5143\u7d20\u7684receiveComponent"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8B%E7%AF%87%EF%BC%88%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#receivecomponent_1","text":"\u6211\u4eec\u518d\u770b\u770b\u6587\u672c\u8282\u70b9\u7684\uff0c\u6bd4\u8f83\u7b80\u5355\uff1a ReactDOMTextComponent.prototype.receiveComponent = function(nextText) { var nextStringText = '' + nextText; //\u8ddf\u4ee5\u524d\u4fdd\u5b58\u7684\u5b57\u7b26\u4e32\u6bd4\u8f83 if (nextStringText !== this._currentElement) { this._currentElement = nextStringText; //\u66ff\u6362\u6574\u4e2a\u8282\u70b9 $('[data-reactid=\"' + this._rootNodeID + '\"]').html(this._currentElement); } } \u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\uff0c\u5982\u679c\u4e0d\u540c\u7684\u8bdd\uff0c\u76f4\u63a5\u627e\u5230\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u66f4\u65b0\u5c31\u597d\u4e86\u3002","title":"\u6587\u672c\u8282\u70b9\u7684receiveComponent"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8B%E7%AF%87%EF%BC%88%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#elementreceivecomponent","text":"\u6700\u540e\u6211\u4eec\u5f00\u59cb\u770b\u6bd4\u8f83\u590d\u6742\u7684\u6d4f\u89c8\u5668\u57fa\u672c\u5143\u7d20\u7684\u66f4\u65b0\u673a\u5236\u3002 \u6bd4\u5982\u6211\u4eec\u770b\u770b\u4e0b\u9762\u7684html: <div id=\"test\" name=\"hello\"> <span></span> <span></span> </div> \u60f3\u4e00\u4e0b\u6211\u4eec\u600e\u4e48\u4ee5\u6700\u5c0f\u4ee3\u4ef7\u53bb\u66f4\u65b0\u8fd9\u6bb5html\u5462\u3002\u4e0d\u96be\u53d1\u73b0\u5176\u5b9e\u4e3b\u8981\u5305\u62ec\u4e24\u4e2a\u90e8\u5206\uff1a \u5c5e\u6027\u7684\u66f4\u65b0\uff0c\u5305\u62ec\u5bf9\u7279\u6b8a\u5c5e\u6027\u6bd4\u5982\u4e8b\u4ef6\u7684\u5904\u7406 \u5b50\u8282\u70b9\u7684\u66f4\u65b0,\u8fd9\u4e2a\u6bd4\u8f83\u590d\u6742\uff0c\u4e3a\u4e86\u5f97\u5230\u6700\u597d\u7684\u6548\u7387\uff0c\u6211\u4eec\u9700\u8981\u5904\u7406\u4e0b\u9762\u8fd9\u4e9b\u95ee\u9898\uff1a \u62ff\u65b0\u7684\u5b50\u8282\u70b9\u6811\u8ddf\u4ee5\u524d\u8001\u7684\u5b50\u8282\u70b9\u6811\u5bf9\u6bd4\uff0c\u627e\u51fa\u4ed6\u4eec\u4e4b\u95f4\u7684\u5dee\u522b\u3002\u6211\u4eec\u79f0\u4e4b\u4e3adiff \u6240\u6709\u5dee\u522b\u627e\u51fa\u540e\uff0c\u518d\u4e00\u6b21\u6027\u7684\u53bb\u66f4\u65b0\u3002\u6211\u4eec\u79f0\u4e4b\u4e3apatch \u6240\u4ee5\u66f4\u65b0\u4ee3\u7801\u7ed3\u6784\u5982\u4e0b\uff1a ReactDOMComponent.prototype.receiveComponent = function(nextElement) { var lastProps = this._currentElement.props; var nextProps = nextElement.props; this._currentElement = nextElement; //\u9700\u8981\u5355\u72ec\u7684\u66f4\u65b0\u5c5e\u6027 this._updateDOMProperties(lastProps, nextProps); //\u518d\u66f4\u65b0\u5b50\u8282\u70b9 this._updateDOMChildren(nextElement.props.children); } \u6574\u4f53\u4e0a\u4e5f\u4e0d\u590d\u6742\uff0c\u5148\u662f\u5904\u7406\u5f53\u524d\u8282\u70b9\u5c5e\u6027\u7684\u53d8\u52a8\uff0c\u540e\u9762\u518d\u53bb\u5904\u7406\u5b50\u8282\u70b9\u7684\u53d8\u52a8 \u6211\u4eec\u4e00\u6b65\u6b65\u6765\uff0c\u5148\u770b\u770b\uff0c\u66f4\u65b0\u5c5e\u6027\u600e\u4e48\u53d8\u66f4\uff1a ReactDOMComponent.prototype._updateDOMProperties = function(lastProps, nextProps) { var propKey; //\u904d\u5386\uff0c\u5f53\u4e00\u4e2a\u8001\u7684\u5c5e\u6027\u4e0d\u5728\u65b0\u7684\u5c5e\u6027\u96c6\u5408\u91cc\u65f6\uff0c\u9700\u8981\u5220\u9664\u6389\u3002 for (propKey in lastProps) { //\u65b0\u7684\u5c5e\u6027\u91cc\u6709\uff0c\u6216\u8005propKey\u662f\u5728\u539f\u578b\u4e0a\u7684\u76f4\u63a5\u8df3\u8fc7\u3002\u8fd9\u6837\u5269\u4e0b\u7684\u90fd\u662f\u4e0d\u5728\u65b0\u5c5e\u6027\u96c6\u5408\u91cc\u7684\u3002\u9700\u8981\u5220\u9664 if (nextProps.hasOwnProperty(propKey) || !lastProps.hasOwnProperty(propKey)) { continue; } //\u5bf9\u4e8e\u90a3\u79cd\u7279\u6b8a\u7684\uff0c\u6bd4\u5982\u8fd9\u91cc\u7684\u4e8b\u4ef6\u76d1\u542c\u7684\u5c5e\u6027\u6211\u4eec\u9700\u8981\u53bb\u6389\u76d1\u542c if (/^on[A-Za-z]/.test(propKey)) { var eventType = propKey.replace('on', ''); //\u9488\u5bf9\u5f53\u524d\u7684\u8282\u70b9\u53d6\u6d88\u4e8b\u4ef6\u4ee3\u7406 $(document).undelegate('[data-reactid=\"' + this._rootNodeID + '\"]', eventType, lastProps[propKey]); continue; } //\u4ecedom\u4e0a\u5220\u9664\u4e0d\u9700\u8981\u7684\u5c5e\u6027 $('[data-reactid=\"' + this._rootNodeID + '\"]').removeAttr(propKey) } //\u5bf9\u4e8e\u65b0\u7684\u5c5e\u6027\uff0c\u9700\u8981\u5199\u5230dom\u8282\u70b9\u4e0a for (propKey in nextProps) { //\u5bf9\u4e8e\u4e8b\u4ef6\u76d1\u542c\u7684\u5c5e\u6027\u6211\u4eec\u9700\u8981\u7279\u6b8a\u5904\u7406 if (/^on[A-Za-z]/.test(propKey)) { var eventType = propKey.replace('on', ''); //\u4ee5\u524d\u5982\u679c\u5df2\u7ecf\u6709\uff0c\u8bf4\u660e\u6709\u4e86\u76d1\u542c\uff0c\u9700\u8981\u5148\u53bb\u6389 lastProps[propKey] && $(document).undelegate('[data-reactid=\"' + this._rootNodeID + '\"]', eventType, lastProps[propKey]); //\u9488\u5bf9\u5f53\u524d\u7684\u8282\u70b9\u6dfb\u52a0\u4e8b\u4ef6\u4ee3\u7406,\u4ee5_rootNodeID\u4e3a\u547d\u540d\u7a7a\u95f4 $(document).delegate('[data-reactid=\"' + this._rootNodeID + '\"]', eventType + '.' + this._rootNodeID, nextProps[propKey]); continue; } if (propKey == 'children') continue; //\u6dfb\u52a0\u65b0\u7684\u5c5e\u6027\uff0c\u6216\u8005\u662f\u66f4\u65b0\u8001\u7684\u540c\u540d\u5c5e\u6027 $('[data-reactid=\"' + this._rootNodeID + '\"]').prop(propKey, nextProps[propKey]) } } \u5c5e\u6027\u7684\u53d8\u66f4\u5e76\u4e0d\u662f\u7279\u522b\u590d\u6742\uff0c\u4e3b\u8981\u5c31\u662f\u627e\u5230\u4ee5\u524d\u8001\u7684\u4e0d\u7528\u7684\u5c5e\u6027\u76f4\u63a5\u53bb\u6389\uff0c\u65b0\u7684\u5c5e\u6027\u8d4b\u503c\uff0c\u5e76\u4e14\u6ce8\u610f\u5176\u4e2d\u7279\u6b8a\u7684\u4e8b\u4ef6\u5c5e\u6027\u505a\u51fa\u7279\u6b8a\u5904\u7406\u5c31\u884c\u4e86\u3002 \u4e0b\u9762\u6211\u4eec\u770b\u5b50\u8282\u70b9\u7684\u66f4\u65b0\uff0c\u4e5f\u662f\u6700\u590d\u6742\u7684\u90e8\u5206\u3002 ReactDOMComponent.prototype.receiveComponent = function(nextElement){ var lastProps = this._currentElement.props; var nextProps = nextElement.props; this._currentElement = nextElement; //\u9700\u8981\u5355\u72ec\u7684\u66f4\u65b0\u5c5e\u6027 this._updateDOMProperties(lastProps,nextProps); //\u518d\u66f4\u65b0\u5b50\u8282\u70b9 this._updateDOMChildren(nextProps.children); } //\u5168\u5c40\u7684\u66f4\u65b0\u6df1\u5ea6\u6807\u8bc6 var updateDepth = 0; //\u5168\u5c40\u7684\u66f4\u65b0\u961f\u5217\uff0c\u6240\u6709\u7684\u5dee\u5f02\u90fd\u5b58\u5728\u8fd9\u91cc var diffQueue = []; ReactDOMComponent.prototype._updateDOMChildren = function(nextChildrenElements){ updateDepth++ //_diff\u7528\u6765\u9012\u5f52\u627e\u51fa\u5dee\u522b,\u7ec4\u88c5\u5dee\u5f02\u5bf9\u8c61,\u6dfb\u52a0\u5230\u66f4\u65b0\u961f\u5217diffQueue\u3002 this._diff(diffQueue,nextChildrenElements); updateDepth-- if(updateDepth == 0){ //\u5728\u9700\u8981\u7684\u65f6\u5019\u8c03\u7528patch\uff0c\u6267\u884c\u5177\u4f53\u7684dom\u64cd\u4f5c this._patch(diffQueue); diffQueue = []; } } \u5c31\u50cf\u6211\u4eec\u4e4b\u524d\u8bf4\u7684\u4e00\u6837\uff0c\u66f4\u65b0\u5b50\u8282\u70b9\u5305\u542b\u4e24\u4e2a\u90e8\u5206\uff0c\u4e00\u4e2a\u662f\u9012\u5f52\u7684\u5206\u6790\u5dee\u5f02\uff0c\u628a\u5dee\u5f02\u6dfb\u52a0\u5230\u961f\u5217\u4e2d\u3002\u7136\u540e\u5728\u5408\u9002\u7684\u65f6\u673a\u8c03\u7528 _patch \u628a\u5dee\u5f02\u5e94\u7528\u5230dom\u4e0a\u3002 \u90a3\u4e48\u4ec0\u4e48\u662f\u5408\u9002\u7684\u65f6\u673a\uff0cupdateDepth\u53c8\u662f\u5e72\u561b\u7684\uff1f \u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c _diff \u5185\u90e8\u4e5f\u4f1a\u9012\u5f52\u8c03\u7528\u5b50\u8282\u70b9\u7684receiveComponent\u4e8e\u662f\u5f53\u67d0\u4e2a\u5b50\u8282\u70b9\u4e5f\u662f\u6d4f\u89c8\u5668\u666e\u901a\u8282\u70b9\uff0c\u5c31\u4e5f\u4f1a\u8d70_updateDOMChildren\u8fd9\u4e00\u6b65\u3002\u6240\u4ee5\u8fd9\u91cc\u4f7f\u7528\u4e86updateDepth\u6765\u8bb0\u5f55\u9012\u5f52\u7684\u8fc7\u7a0b\uff0c\u53ea\u6709\u7b49\u9012\u5f52\u56de\u6765updateDepth\u4e3a0\u65f6\uff0c\u4ee3\u8868\u6574\u4e2a\u5dee\u5f02\u5df2\u7ecf\u5206\u6790\u5b8c\u6bd5\uff0c\u53ef\u4ee5\u5f00\u59cb\u4f7f\u7528patch\u6765\u5904\u7406\u5dee\u5f02\u961f\u5217\u4e86\u3002 \u6240\u4ee5\u6211\u4eec\u5173\u952e\u662f\u5b9e\u73b0 _diff \u4e0e _patch \u4e24\u4e2a\u65b9\u6cd5\u3002 \u6211\u4eec\u5148\u770b_diff\u7684\u5b9e\u73b0\uff1a //\u5dee\u5f02\u66f4\u65b0\u7684\u51e0\u79cd\u7c7b\u578b var UPATE_TYPES = { MOVE_EXISTING: 1, REMOVE_NODE: 2, INSERT_MARKUP: 3 } //\u666e\u901a\u7684children\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u6b64\u65b9\u6cd5\u628a\u5b83\u8f6c\u6362\u6210\u4e00\u4e2amap,key\u5c31\u662felement\u7684key,\u5982\u679c\u662ftext\u8282\u70b9\u6216\u8005element\u521b\u5efa\u65f6\u5e76\u6ca1\u6709\u4f20\u5165key,\u5c31\u76f4\u63a5\u7528\u5728\u6570\u7ec4\u91cc\u7684index\u6807\u8bc6 function flattenChildren(componentChildren) { var child; var name; var childrenMap = {}; for (var i = 0; i < componentChildren.length; i++) { child = componentChildren[i]; name = child && child._currentelement && child._currentelement.key ? child._currentelement.key : i.toString(36); childrenMap[name] = child; } return childrenMap; } //\u4e3b\u8981\u7528\u6765\u751f\u6210\u5b50\u8282\u70b9elements\u7684component\u96c6\u5408 //\u8fd9\u8fb9\u6ce8\u610f\uff0c\u6709\u4e2a\u5224\u65ad\u903b\u8f91\uff0c\u5982\u679c\u53d1\u73b0\u662f\u66f4\u65b0\uff0c\u5c31\u4f1a\u7ee7\u7eed\u4f7f\u7528\u4ee5\u524d\u7684componentInstance,\u8c03\u7528\u5bf9\u5e94\u7684receiveComponent\u3002 //\u5982\u679c\u662f\u65b0\u7684\u8282\u70b9\uff0c\u5c31\u4f1a\u91cd\u65b0\u751f\u6210\u4e00\u4e2a\u65b0\u7684componentInstance\uff0c function generateComponentChildren(prevChildren, nextChildrenElements) { var nextChildren = {}; nextChildrenElements = nextChildrenElements || []; $.each(nextChildrenElements, function(index, element) { var name = element.key ? element.key : index; var prevChild = prevChildren && prevChildren[name]; var prevElement = prevChild && prevChild._currentElement; var nextElement = element; //\u8c03\u7528_shouldUpdateReactComponent\u5224\u65ad\u662f\u5426\u662f\u66f4\u65b0 if (_shouldUpdateReactComponent(prevElement, nextElement)) { //\u66f4\u65b0\u7684\u8bdd\u76f4\u63a5\u9012\u5f52\u8c03\u7528\u5b50\u8282\u70b9\u7684receiveComponent\u5c31\u597d\u4e86 prevChild.receiveComponent(nextElement); //\u7136\u540e\u7ee7\u7eed\u4f7f\u7528\u8001\u7684component nextChildren[name] = prevChild; } else { //\u5bf9\u4e8e\u6ca1\u6709\u8001\u7684\uff0c\u90a3\u5c31\u91cd\u65b0\u65b0\u589e\u4e00\u4e2a\uff0c\u91cd\u65b0\u751f\u6210\u4e00\u4e2acomponent var nextChildInstance = instantiateReactComponent(nextElement, null); //\u4f7f\u7528\u65b0\u7684component nextChildren[name] = nextChildInstance; } }) return nextChildren; } //_diff\u7528\u6765\u9012\u5f52\u627e\u51fa\u5dee\u522b,\u7ec4\u88c5\u5dee\u5f02\u5bf9\u8c61,\u6dfb\u52a0\u5230\u66f4\u65b0\u961f\u5217diffQueue\u3002 ReactDOMComponent.prototype._diff = function(diffQueue, nextChildrenElements) { var self = this; //\u62ff\u5230\u4e4b\u524d\u7684\u5b50\u8282\u70b9\u7684 component\u7c7b\u578b\u5bf9\u8c61\u7684\u96c6\u5408,\u8fd9\u4e2a\u662f\u5728\u521a\u5f00\u59cb\u6e32\u67d3\u65f6\u8d4b\u503c\u7684\uff0c\u8bb0\u4e0d\u5f97\u7684\u53ef\u4ee5\u7ffb\u4e0a\u9762 //_renderedChildren \u672c\u6765\u662f\u6570\u7ec4\uff0c\u6211\u4eec\u641e\u6210map var prevChildren = flattenChildren(self._renderedChildren); //\u751f\u6210\u65b0\u7684\u5b50\u8282\u70b9\u7684component\u5bf9\u8c61\u96c6\u5408\uff0c\u8fd9\u91cc\u6ce8\u610f\uff0c\u4f1a\u590d\u7528\u8001\u7684component\u5bf9\u8c61 var nextChildren = generateComponentChildren(prevChildren, nextChildrenElements); //\u91cd\u65b0\u8d4b\u503c_renderedChildren\uff0c\u4f7f\u7528\u6700\u65b0\u7684\u3002 self._renderedChildren = [] $.each(nextChildren, function(key, instance) { self._renderedChildren.push(instance); }) var nextIndex = 0; //\u4ee3\u8868\u5230\u8fbe\u7684\u65b0\u7684\u8282\u70b9\u7684index //\u901a\u8fc7\u5bf9\u6bd4\u4e24\u4e2a\u96c6\u5408\u7684\u5dee\u5f02\uff0c\u7ec4\u88c5\u5dee\u5f02\u8282\u70b9\u6dfb\u52a0\u5230\u961f\u5217\u4e2d for (name in nextChildren) { if (!nextChildren.hasOwnProperty(name)) { continue; } var prevChild = prevChildren && prevChildren[name]; var nextChild = nextChildren[name]; //\u76f8\u540c\u7684\u8bdd\uff0c\u8bf4\u660e\u662f\u4f7f\u7528\u7684\u540c\u4e00\u4e2acomponent,\u6240\u4ee5\u6211\u4eec\u9700\u8981\u505a\u79fb\u52a8\u7684\u64cd\u4f5c if (prevChild === nextChild) { //\u6dfb\u52a0\u5dee\u5f02\u5bf9\u8c61\uff0c\u7c7b\u578b\uff1aMOVE_EXISTING diffQueue.push({ parentId: self._rootNodeID, parentNode: $('[data-reactid=' + self._rootNodeID + ']'), type: UPATE_TYPES.MOVE_EXISTING, fromIndex: prevChild._mountIndex, toIndex: nextIndex }) } else { //\u5982\u679c\u4e0d\u76f8\u540c\uff0c\u8bf4\u660e\u662f\u65b0\u589e\u52a0\u7684\u8282\u70b9 //\u4f46\u662f\u5982\u679c\u8001\u7684\u8fd8\u5b58\u5728\uff0c\u5c31\u662felement\u4e0d\u540c\uff0c\u4f46\u662fcomponent\u4e00\u6837\u3002\u6211\u4eec\u9700\u8981\u628a\u5b83\u5bf9\u5e94\u7684\u8001\u7684element\u5220\u9664\u3002 if (prevChild) { //\u6dfb\u52a0\u5dee\u5f02\u5bf9\u8c61\uff0c\u7c7b\u578b\uff1aREMOVE_NODE diffQueue.push({ parentId: self._rootNodeID, parentNode: $('[data-reactid=' + self._rootNodeID + ']'), type: UPATE_TYPES.REMOVE_NODE, fromIndex: prevChild._mountIndex, toIndex: null }) //\u5982\u679c\u4ee5\u524d\u5df2\u7ecf\u6e32\u67d3\u8fc7\u4e86\uff0c\u8bb0\u5f97\u5148\u53bb\u6389\u4ee5\u524d\u6240\u6709\u7684\u4e8b\u4ef6\u76d1\u542c\uff0c\u901a\u8fc7\u547d\u540d\u7a7a\u95f4\u5168\u90e8\u6e05\u7a7a if (prevChild._rootNodeID) { $(document).undelegate('.' + prevChild._rootNodeID); } } //\u65b0\u589e\u52a0\u7684\u8282\u70b9\uff0c\u4e5f\u7ec4\u88c5\u5dee\u5f02\u5bf9\u8c61\u653e\u5230\u961f\u5217\u91cc //\u6dfb\u52a0\u5dee\u5f02\u5bf9\u8c61\uff0c\u7c7b\u578b\uff1aINSERT_MARKUP diffQueue.push({ parentId: self._rootNodeID, parentNode: $('[data-reactid=' + self._rootNodeID + ']'), type: UPATE_TYPES.INSERT_MARKUP, fromIndex: null, toIndex: nextIndex, markup: nextChild.mountComponent() //\u65b0\u589e\u7684\u8282\u70b9\uff0c\u591a\u4e00\u4e2a\u6b64\u5c5e\u6027\uff0c\u8868\u793a\u65b0\u8282\u70b9\u7684dom\u5185\u5bb9 }) } //\u66f4\u65b0mount\u7684index nextChild._mountIndex = nextIndex; nextIndex++; } //\u5bf9\u4e8e\u8001\u7684\u8282\u70b9\u91cc\u6709\uff0c\u65b0\u7684\u8282\u70b9\u91cc\u6ca1\u6709\u7684\u90a3\u4e9b\uff0c\u4e5f\u5168\u90fd\u5220\u9664\u6389 for (name in prevChildren) { if (prevChildren.hasOwnProperty(name) && !(nextChildren && nextChildren.hasOwnProperty(name))) { //\u6dfb\u52a0\u5dee\u5f02\u5bf9\u8c61\uff0c\u7c7b\u578b\uff1aREMOVE_NODE diffQueue.push({ parentId: self._rootNodeID, parentNode: $('[data-reactid=' + self._rootNodeID + ']'), type: UPATE_TYPES.REMOVE_NODE, fromIndex: prevChild._mountIndex, toIndex: null }) //\u5982\u679c\u4ee5\u524d\u5df2\u7ecf\u6e32\u67d3\u8fc7\u4e86\uff0c\u8bb0\u5f97\u5148\u53bb\u6389\u4ee5\u524d\u6240\u6709\u7684\u4e8b\u4ef6\u76d1\u542c if (prevChildren[name]._rootNodeID) { $(document).undelegate('.' + prevChildren[name]._rootNodeID); } } } } \u6211\u4eec\u5206\u6790\u4e0b\u4e0a\u9762\u7684\u4ee3\u7801\uff0c\u548b\u4e00\u770b\u597d\u591a\uff0c\u597d\u590d\u6742\uff0c\u4e0d\u6025\u6211\u4eec\u4ece\u5165\u53e3\u5f00\u59cb\u770b\u3002 \u9996\u5148\u6211\u4eec\u62ff\u5230\u4e4b\u524d\u7684component\u7684\u96c6\u5408\uff0c\u5982\u679c\u662f\u7b2c\u4e00\u6b21\u66f4\u65b0\u7684\u8bdd\uff0c\u8fd9\u4e2a\u503c\u662f\u6211\u4eec\u5728\u6e32\u67d3\u65f6\u8d4b\u503c\u7684\u3002\u7136\u540e\u6211\u4eec\u8c03\u7528generateComponentChildren\u751f\u6210\u6700\u65b0\u7684component\u96c6\u5408\u3002\u6211\u4eec\u77e5\u9053component\u662f\u7528\u6765\u653eelement\u7684\uff0c\u4e00\u4e2a\u841d\u535c\u4e00\u4e2a\u5751\u3002 \u6ce8\u610fflattenChildren\u6211\u4eec\u8fd9\u91cc\u628a\u6570\u7ec4\u96c6\u5408\u8f6c\u6210\u4e86\u5bf9\u8c61map,\u4ee5element\u7684key\u4f5c\u4e3a\u6807\u8bc6\uff0c\u5f53\u7136\u5bf9\u4e8etext\u6587\u672c\u6216\u8005\u6ca1\u6709\u4f20\u5165key\u7684element,\u76f4\u63a5\u7528index\u4f5c\u4e3a\u6807\u8bc6\u3002\u901a\u8fc7\u8fd9\u4e9b\u6807\u8bc6\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u7c7b\u578b\u7684\u89d2\u5ea6\u6765\u5224\u65ad\u4e24\u4e2acomponent\u662f\u5426\u662f\u4e00\u6837\u7684\u3002 generateComponentChildren\u4f1a\u5c3d\u91cf\u7684\u590d\u7528\u4ee5\u524d\u7684component\uff0c\u4e5f\u5c31\u662f\u90a3\u4e9b\u5751\uff0c\u5f53\u53d1\u73b0\u53ef\u4ee5\u590d\u7528component\uff08\u4e5f\u5c31\u662fkey\u4e00\u81f4\uff09\u65f6\uff0c\u5c31\u8fd8\u7528\u4ee5\u524d\u7684\uff0c\u53ea\u9700\u8981\u8c03\u7528\u4ed6\u5bf9\u5e94\u7684\u66f4\u65b0\u65b9\u6cd5receiveComponent\u5c31\u884c\u4e86\uff0c\u8fd9\u6837\u5c31\u4f1a\u9012\u5f52\u7684\u53bb\u83b7\u53d6\u5b50\u8282\u70b9\u7684\u5dee\u5f02\u5bf9\u8c61\u7136\u540e\u653e\u5230\u961f\u5217\u4e86\u3002\u5982\u679c\u53d1\u73b0\u4e0d\u80fd\u590d\u7528\u90a3\u5c31\u662f\u65b0\u7684\u8282\u70b9\uff0c\u6211\u4eec\u5c31\u9700\u8981instantiateReactComponent\u91cd\u65b0\u751f\u6210\u4e00\u4e2a\u65b0\u7684component\u3002 \u8fd9\u91cc\u7684flattenChildren\u9700\u8981\u7ed9\u4e88\u5f88\u5927\u7684\u5173\u6ce8\uff0c\u6bd4\u5982\u5bf9\u4e8e\u4e00\u4e2a\u8868\u683c\u5217\u8868\uff0c\u6211\u4eec\u5728\u6700\u524d\u9762\u63d2\u5165\u4e86\u4e00\u6761\u6570\u636e\uff0c\u60f3\u4e00\u4e0b\u5982\u679c\u6211\u4eec\u521b\u5efaelement\u65f6\u6ca1\u6709\u4f20\u5165key\uff0c\u6240\u6709\u7684key\u90fd\u662fnull,\u8fd9\u6837reactjs\u5728generateComponentChildren\u65f6\u5c31\u4f1a\u9ed8\u8ba4\u901a\u8fc7\u987a\u5e8f\uff08index\uff09\u6765\u4e00\u4e00\u5bf9\u5e94\u6539\u53d8\u524d\u8ddf\u6539\u53d8\u540e\u7684\u5b50\u8282\u70b9\uff0c\u8fd9\u6837\u53d8\u66f4\u524d\u4e0e\u53d8\u66f4\u540e\u7684\u5bf9\u5e94\u8282\u70b9\u5224\u65ad\uff08_shouldUpdateReactComponent\uff09\u5176\u5b9e\u662f\u4e0d\u5408\u9002\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\u5bf9\u4e8e\u8fd9\u79cd\u5217\u8868\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u6700\u597d\u7ed9\u4e88\u552f\u4e00\u7684\u6807\u8bc6key\uff0c\u8fd9\u6837reactjs\u627e\u5bf9\u5e94\u5173\u7cfb\u65f6\u4f1a\u66f4\u65b9\u4fbf\u4e00\u70b9\u3002 \u5f53\u6211\u4eec\u751f\u6210\u597d\u65b0\u7684component\u96c6\u5408\u4ee5\u540e\uff0c\u6211\u4eec\u9700\u8981\u505a\u51fa\u5bf9\u6bd4\u3002\u7ec4\u88c5\u5dee\u5f02\u5bf9\u8c61\u3002 \u5bf9\u6bd4\u8001\u7684\u96c6\u5408\u548c\u65b0\u7684\u96c6\u5408\u3002\u6211\u4eec\u9700\u8981\u627e\u51fa\u6db5\u76d6\u56db\u79cd\u60c5\u51b5\uff0c\u5305\u62ec\u4e09\u79cd\u7c7b\u578b\uff08UPATE_TYPES\uff09\u7684\u53d8\u52a8\uff1a \u7c7b\u578b \u60c5\u51b5 MOVE_EXISTING \u65b0\u7684component\u7c7b\u578b\u5728\u8001\u7684\u96c6\u5408\u91cc\u4e5f\u6709\uff0c\u5e76\u4e14element\u662f\u53ef\u4ee5\u66f4\u65b0\u7684\u7c7b\u578b\uff0c\u5728generateComponentChildren\u6211\u4eec\u5df2\u7ecf\u8c03\u7528\u4e86receiveComponent\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0bprevChild=nextChild,\u90a3\u6211\u4eec\u5c31\u9700\u8981\u505a\u51fa\u79fb\u52a8\u7684\u64cd\u4f5c\uff0c\u53ef\u4ee5\u590d\u7528\u4ee5\u524d\u7684dom\u8282\u70b9\u3002 INSERT_MARKUP \u65b0\u7684component\u7c7b\u578b\u4e0d\u5728\u8001\u7684\u96c6\u5408\u91cc\uff0c\u90a3\u4e48\u5c31\u662f\u5168\u65b0\u7684\u8282\u70b9\uff0c\u6211\u4eec\u9700\u8981\u63d2\u5165\u65b0\u7684\u8282\u70b9 REMOVE_NODE \u8001\u7684component\u7c7b\u578b\uff0c\u5728\u65b0\u7684\u96c6\u5408\u91cc\u4e5f\u6709\uff0c\u4f46\u662f\u5bf9\u5e94\u7684element\u4e0d\u540c\u4e86\u4e0d\u80fd\u76f4\u63a5\u590d\u7528\u76f4\u63a5\u66f4\u65b0\uff0c\u90a3\u6211\u4eec\u4e5f\u5f97\u5220\u9664\u3002 REMOVE_NODE \u8001\u7684component\u4e0d\u5728\u65b0\u7684\u96c6\u5408\u91cc\u7684\uff0c\u6211\u4eec\u9700\u8981\u5220\u9664 \u6240\u4ee5\u6211\u4eec\u627e\u51fa\u4e86\u8fd9\u4e09\u79cd\u7c7b\u578b\u7684\u5dee\u5f02\uff0c\u7ec4\u88c5\u6210\u5177\u4f53\u7684\u5dee\u5f02\u5bf9\u8c61\uff0c\u7136\u540e\u52a0\u5230\u4e86\u5dee\u5f02\u961f\u5217\u91cc\u9762\u3002 \u6bd4\u5982\u6211\u4eec\u770b\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u5047\u8bbe\u4e0b\u9762\u8fd9\u4e9b\u662f\u67d0\u4e2a\u7236\u5143\u7d20\u7684\u5b50\u5143\u7d20\u96c6\u5408\uff0c\u4e0a\u9762\u5230\u4e0b\u9762\u4ee3\u8868\u4e86\u53d8\u52a8\u6d41\u7a0b\uff1a \u6570\u5b57\u6211\u4eec\u53ef\u4ee5\u7406\u89e3\u4e3a\u7ed9element\u7684key\u3002 \u6b63\u65b9\u5f62\u4ee3\u8868element\u3002\u5706\u5f62\u4ee3\u8868\u4e86component\u3002\u5f53\u7136\u4e5f\u662f\u5b9e\u9645\u4e0a\u7684dom\u8282\u70b9\u7684\u4f4d\u7f6e\u3002 \u4ece\u4e0a\u5230\u4e0b\uff0c\u6211\u4eec\u76844 2 1\u91cc 2 \uff0c1\u53ef\u4ee5\u590d\u7528\u4e4b\u524d\u7684component,\u8ba9\u4ed6\u4eec\u901a\u77e5\u81ea\u5df1\u7684\u5b50\u8282\u70b9\u66f4\u65b0\u540e\uff0c\u518d\u544a\u8bc92\u548c1\uff0c\u4ed6\u4eec\u5728\u65b0\u7684\u96c6\u5408\u91cc\u9700\u8981\u79fb\u52a8\u7684\u4f4d\u7f6e\uff08\u5728\u6211\u4eec\u8fd9\u91cc\u5c31\u662f\u7ec4\u88c5\u5dee\u5f02\u5bf9\u8c61\u52a0\u5230\u961f\u5217\uff09\u30023\u9700\u8981\u5220\u9664\uff0c4\u9700\u8981\u65b0\u589e\u3002 \u597d\u4e86\uff0c\u6574\u4e2a\u7684diff\u5c31\u5b8c\u6210\u4e86\uff0c\u8fd9\u4e2a\u65f6\u5019\u5f53\u9012\u5f52\u5b8c\u6210\uff0c\u6211\u4eec\u5c31\u9700\u8981\u5f00\u59cb\u505apatch\u7684\u52a8\u4f5c\u4e86\uff0c\u628a\u8fd9\u4e9b\u5dee\u5f02\u5bf9\u8c61\u5b9e\u6253\u5b9e\u7684\u53cd\u6620\u5230\u5177\u4f53\u7684dom\u8282\u70b9\u4e0a\u3002 \u6211\u4eec\u770b\u4e0b_patch\u7684\u5b9e\u73b0\uff1a //\u7528\u4e8e\u5c06childNode\u63d2\u5165\u5230\u6307\u5b9a\u4f4d\u7f6e function insertChildAt(parentNode, childNode, index) { var beforeChild = parentNode.children().get(index); beforeChild ? childNode.insertBefore(beforeChild) : childNode.appendTo(parentNode); } ReactDOMComponent.prototype._patch = function(updates) { var update; var initialChildren = {}; var deleteChildren = []; for (var i = 0; i < updates.length; i++) { update = updates[i]; if (update.type === UPATE_TYPES.MOVE_EXISTING || update.type === UPATE_TYPES.REMOVE_NODE) { var updatedIndex = update.fromIndex; var updatedChild = $(update.parentNode.children().get(updatedIndex)); var parentID = update.parentID; //\u6240\u6709\u9700\u8981\u66f4\u65b0\u7684\u8282\u70b9\u90fd\u4fdd\u5b58\u4e0b\u6765\uff0c\u65b9\u4fbf\u540e\u9762\u4f7f\u7528 initialChildren[parentID] = initialChildren[parentID] || []; //\u4f7f\u7528parentID\u4f5c\u4e3a\u7b80\u6613\u547d\u540d\u7a7a\u95f4 initialChildren[parentID][updatedIndex] = updatedChild; //\u6240\u6709\u9700\u8981\u4fee\u6539\u7684\u8282\u70b9\u5148\u5220\u9664,\u5bf9\u4e8emove\u7684\uff0c\u540e\u9762\u518d\u91cd\u65b0\u63d2\u5165\u5230\u6b63\u786e\u7684\u4f4d\u7f6e\u5373\u53ef deleteChildren.push(updatedChild) } } //\u5220\u9664\u6240\u6709\u9700\u8981\u5148\u5220\u9664\u7684 $.each(deleteChildren, function(index, child) { $(child).remove(); }) //\u518d\u904d\u5386\u4e00\u6b21\uff0c\u8fd9\u6b21\u5904\u7406\u65b0\u589e\u7684\u8282\u70b9\uff0c\u8fd8\u6709\u4fee\u6539\u7684\u8282\u70b9\u8fd9\u91cc\u4e5f\u8981\u91cd\u65b0\u63d2\u5165 for (var k = 0; k < updates.length; k++) { update = updates[k]; switch (update.type) { case UPATE_TYPES.INSERT_MARKUP: insertChildAt(update.parentNode, $(update.markup), update.toIndex); break; case UPATE_TYPES.MOVE_EXISTING: insertChildAt(update.parentNode, initialChildren[update.parentID][update.fromIndex], update.toIndex); break; case UPATE_TYPES.REMOVE_NODE: // \u4ec0\u4e48\u90fd\u4e0d\u9700\u8981\u505a\uff0c\u56e0\u4e3a\u4e0a\u9762\u5df2\u7ecf\u5e2e\u5fd9\u5220\u9664\u6389\u4e86 break; } } } _patch \u4e3b\u8981\u5c31\u662f\u6328\u4e2a\u904d\u5386\u5dee\u5f02\u961f\u5217\uff0c\u904d\u5386\u4e24\u6b21\uff0c\u7b2c\u4e00\u6b21\u5220\u9664\u6389\u6240\u6709\u9700\u8981\u53d8\u52a8\u7684\u8282\u70b9\uff0c\u7136\u540e\u7b2c\u4e8c\u6b21\u63d2\u5165\u65b0\u7684\u8282\u70b9\u8fd8\u6709\u4fee\u6539\u7684\u8282\u70b9\u3002\u8fd9\u91cc\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u76f4\u63a5\u6328\u4e2a\u7684\u63d2\u5165\u5462\uff1f\u539f\u56e0\u5c31\u662f\u6211\u4eec\u5728diff\u9636\u6bb5\u6dfb\u52a0\u5dee\u5f02\u8282\u70b9\u5230\u5dee\u5f02\u961f\u5217\u65f6\uff0c\u672c\u8eab\u5c31\u662f\u6709\u5e8f\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u5bf9\u4e8e\u65b0\u589e\u8282\u70b9\uff08\u5305\u62ecmove\u548cinsert\u7684\uff09\u5728\u961f\u5217\u91cc\u7684\u987a\u5e8f\u5c31\u662f\u6700\u7ec8dom\u7684\u987a\u5e8f\uff0c\u6240\u4ee5\u6211\u4eec\u624d\u53ef\u4ee5\u6328\u4e2a\u7684\u76f4\u63a5\u6839\u636eindex\u53bb\u585e\u5165\u8282\u70b9\u3002 \u4f46\u662f\u5176\u5b9e\u4f60\u4f1a\u53d1\u73b0\u8fd9\u91cc\u6709\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u6240\u6709\u7684\u8282\u70b9\u90fd\u4f1a\u88ab\u5220\u9664\uff0c\u5305\u62ec\u590d\u7528\u4ee5\u524d\u7684component\u7c7b\u578b\u4e3a UPATE_TYPES.MOVE_EXISTING \u7684\uff0c\u6240\u4ee5\u95ea\u70c1\u4f1a\u5f88\u4e25\u91cd\u3002\u5176\u5b9e\u6211\u4eec\u518d\u770b\u770b\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u5176\u5b9e2\u662f\u4e0d\u9700\u8981\u8bb0\u5f55\u5230\u5dee\u5f02\u961f\u5217\u7684\u3002\u8fd9\u6837\u540e\u9762patch\u4e5f\u662fok\u7684\u3002\u60f3\u60f3\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f \u6211\u4eec\u6765\u6539\u9020\u4e0b\u4ee3\u7801\uff1a //_diff\u7528\u6765\u9012\u5f52\u627e\u51fa\u5dee\u522b,\u7ec4\u88c5\u5dee\u5f02\u5bf9\u8c61,\u6dfb\u52a0\u5230\u66f4\u65b0\u961f\u5217diffQueue\u3002 ReactDOMComponent.prototype._diff = function(diffQueue, nextChildrenElements){ \u3002\u3002\u3002 /**\u6ce8\u610f\u65b0\u589e\u4ee3\u7801**/ var lastIndex = 0;//\u4ee3\u8868\u8bbf\u95ee\u7684\u6700\u540e\u4e00\u6b21\u7684\u8001\u7684\u96c6\u5408\u7684\u4f4d\u7f6e var nextIndex = 0;//\u4ee3\u8868\u5230\u8fbe\u7684\u65b0\u7684\u8282\u70b9\u7684index //\u901a\u8fc7\u5bf9\u6bd4\u4e24\u4e2a\u96c6\u5408\u7684\u5dee\u5f02\uff0c\u7ec4\u88c5\u5dee\u5f02\u8282\u70b9\u6dfb\u52a0\u5230\u961f\u5217\u4e2d for (name in nextChildren) { if (!nextChildren.hasOwnProperty(name)) { continue; } var prevChild = prevChildren && prevChildren[name]; var nextChild = nextChildren[name]; //\u76f8\u540c\u7684\u8bdd\uff0c\u8bf4\u660e\u662f\u4f7f\u7528\u7684\u540c\u4e00\u4e2acomponent,\u6240\u4ee5\u6211\u4eec\u9700\u8981\u505a\u79fb\u52a8\u7684\u64cd\u4f5c if (prevChild === nextChild) { //\u6dfb\u52a0\u5dee\u5f02\u5bf9\u8c61\uff0c\u7c7b\u578b\uff1aMOVE_EXISTING \u3002\u3002\u3002\u3002 /**\u6ce8\u610f\u65b0\u589e\u4ee3\u7801**/ prevChild._mountIndex < lastIndex && diffQueue.push({ parentId:this._rootNodeID, parentNode:$('[data-reactid='+this._rootNodeID+']'), type: UPATE_TYPES.REMOVE_NODE, fromIndex: prevChild._mountIndex, toIndex:null }) lastIndex = Math.max(prevChild._mountIndex, lastIndex); } else { //\u5982\u679c\u4e0d\u76f8\u540c\uff0c\u8bf4\u660e\u662f\u65b0\u589e\u52a0\u7684\u8282\u70b9\uff0c if (prevChild) { //\u4f46\u662f\u5982\u679c\u8001\u7684\u8fd8\u5b58\u5728\uff0c\u5c31\u662felement\u4e0d\u540c\uff0c\u4f46\u662fcomponent\u4e00\u6837\u3002\u6211\u4eec\u9700\u8981\u628a\u5b83\u5bf9\u5e94\u7684\u8001\u7684element\u5220\u9664\u3002 //\u6dfb\u52a0\u5dee\u5f02\u5bf9\u8c61\uff0c\u7c7b\u578b\uff1aREMOVE_NODE \u3002\u3002\u3002\u3002\u3002 /**\u6ce8\u610f\u65b0\u589e\u4ee3\u7801**/ lastIndex = Math.max(prevChild._mountIndex, lastIndex); } \u3002\u3002\u3002 } //\u66f4\u65b0mount\u7684inddex nextChild._mountIndex = nextIndex; nextIndex++; } //\u5bf9\u4e8e\u8001\u7684\u8282\u70b9\u91cc\u6709\uff0c\u65b0\u7684\u8282\u70b9\u91cc\u6ca1\u6709\u7684\u90a3\u4e9b\uff0c\u4e5f\u5168\u90fd\u5220\u9664\u6389 \u3002\u3002\u3002 } \u53ef\u4ee5\u770b\u5230\u6211\u4eec\u591a\u52a0\u4e86\u4e2alastIndex\uff0c\u8fd9\u4e2a\u4ee3\u8868\u6700\u540e\u4e00\u6b21\u8bbf\u95ee\u7684\u8001\u96c6\u5408\u8282\u70b9\u7684\u6700\u5927\u7684\u4f4d\u7f6e\u3002 \u800c\u6211\u4eec\u52a0\u4e86\u4e2a\u5224\u65ad\uff0c\u53ea\u6709_mountIndex\u5c0f\u4e8e\u8fd9\u4e2alastIndex\u7684\u624d\u4f1a\u9700\u8981\u52a0\u5165\u5dee\u5f02\u961f\u5217\u3002\u6709\u4e86\u8fd9\u4e2a\u5224\u65ad\u4e0a\u9762\u7684\u4f8b\u5b502\u5c31\u4e0d\u9700\u8981move\u3002\u800c\u7a0b\u5e8f\u4e5f\u53ef\u4ee5\u597d\u597d\u7684\u8fd0\u884c\uff0c\u5b9e\u9645\u4e0a\u5927\u90e8\u5206\u90fd\u662f2\u8fd9\u79cd\u60c5\u51b5\u3002 \u8fd9\u662f\u4e00\u79cd\u987a\u5e8f\u4f18\u5316\uff0clastIndex\u4e00\u76f4\u5728\u66f4\u65b0\uff0c\u4ee3\u8868\u4e86\u5f53\u524d\u8bbf\u95ee\u7684\u6700\u53f3\u7684\u8001\u7684\u96c6\u5408\u7684\u5143\u7d20\u3002 \u6211\u4eec\u5047\u8bbe\u4e0a\u4e00\u4e2a\u5143\u7d20\u662fA,\u6dfb\u52a0\u540e\u66f4\u65b0\u4e86lastIndex\u3002 \u5982\u679c\u6211\u4eec\u8fd9\u65f6\u5019\u6765\u4e2a\u65b0\u5143\u7d20B\uff0c\u6bd4lastIndex\u8fd8\u5927\u8bf4\u660e\u5f53\u524d\u5143\u7d20\u5728\u8001\u7684\u96c6\u5408\u91cc\u9762\u5c31\u6bd4\u4e0a\u4e00\u4e2aA\u9760\u540e\u3002\u6240\u4ee5\u8fd9\u4e2a\u5143\u7d20\u5c31\u7b97\u4e0d\u52a0\u5165\u5dee\u5f02\u961f\u5217\uff0c\u4e5f\u4e0d\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u4eba\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5230\u540e\u9762\u7684path\u63d2\u5165\u8282\u70b9\u3002\u56e0\u4e3a\u6211\u4eec\u4ecepatch\u91cc\u9762\u77e5\u9053\uff0c\u65b0\u7684\u96c6\u5408\u90fd\u662f\u6309\u987a\u5e8f\u4ece\u5934\u5f00\u59cb\u63d2\u5165\u5143\u7d20\u7684\uff0c\u53ea\u6709\u5f53\u65b0\u5143\u7d20\u6bd4lastIndex\u5c0f\u65f6\u624d\u9700\u8981\u53d8\u66f4\u3002\u5176\u5b9e\u53ea\u8981\u4ed4\u7ec6\u63a8\u6572\u4e0b\u4e0a\u9762\u90a3\u4e2a\u4f8b\u5b50\uff0c\u5c31\u53ef\u4ee5\u7406\u89e3\u8fd9\u79cd\u4f18\u5316\u624b\u6bb5\u4e86\u3002 \u8fd9\u6837\u6574\u4e2a\u7684\u66f4\u65b0\u673a\u5236\u5c31\u5b8c\u6210\u4e86\u3002\u6211\u4eec\u518d\u6765\u7b80\u5355\u56de\u987e\u4e0breactjs\u7684\u5dee\u5f02\u7b97\u6cd5\uff1a \u9996\u5148\u662f\u6240\u6709\u7684component\u90fd\u5b9e\u73b0\u4e86receiveComponent\u6765\u8d1f\u8d23\u81ea\u5df1\u7684\u66f4\u65b0\uff0c\u800c\u6d4f\u89c8\u5668\u9ed8\u8ba4\u5143\u7d20\u7684\u66f4\u65b0\u6700\u4e3a\u590d\u6742\uff0c\u4e5f\u5c31\u662f\u7ecf\u5e38\u8bf4\u7684 diff algorithm\u3002 react\u6709\u4e00\u4e2a\u5168\u5c40_shouldUpdateReactComponent\u7528\u6765\u6839\u636eelement\u7684key\u6765\u5224\u65ad\u662f\u66f4\u65b0\u8fd8\u662f\u91cd\u65b0\u6e32\u67d3\uff0c\u8fd9\u662f\u7b2c\u4e00\u4e2a\u5dee\u5f02\u5224\u65ad\u3002\u6bd4\u5982\u81ea\u5b9a\u4e49\u5143\u7d20\u91cc\uff0c\u5c31\u4f7f\u7528\u8fd9\u4e2a\u5224\u65ad\uff0c\u901a\u8fc7\u8fd9\u79cd\u6807\u8bc6\u5224\u65ad\uff0c\u4f1a\u53d8\u5f97\u7279\u522b\u9ad8\u6548\u3002 \u6bcf\u4e2a\u7c7b\u578b\u7684\u5143\u7d20\u90fd\u8981\u5904\u7406\u597d\u81ea\u5df1\u7684\u66f4\u65b0\uff1a \u81ea\u5b9a\u4e49\u5143\u7d20\u7684\u66f4\u65b0\uff0c\u4e3b\u8981\u662f\u66f4\u65b0render\u51fa\u7684\u8282\u70b9\uff0c\u505a\u7529\u624b\u638c\u67dc\u4ea4\u7ed9render\u51fa\u7684\u8282\u70b9\u7684\u5bf9\u5e94component\u53bb\u7ba1\u7406\u66f4\u65b0\u3002 text\u8282\u70b9\u7684\u66f4\u65b0\u5f88\u7b80\u5355\uff0c\u76f4\u63a5\u66f4\u65b0\u6587\u6848\u3002 \u6d4f\u89c8\u5668\u57fa\u672c\u5143\u7d20\u7684\u66f4\u65b0\uff0c\u5206\u4e3a\u4e24\u5757\uff1a \u5148\u662f\u66f4\u65b0\u5c5e\u6027\uff0c\u5bf9\u6bd4\u51fa\u524d\u540e\u5c5e\u6027\u7684\u4e0d\u540c\uff0c\u5c40\u90e8\u66f4\u65b0\u3002\u5e76\u4e14\u5904\u7406\u7279\u6b8a\u5c5e\u6027\uff0c\u6bd4\u5982\u4e8b\u4ef6\u7ed1\u5b9a\u3002 \u7136\u540e\u662f\u5b50\u8282\u70b9\u7684\u66f4\u65b0\uff0c\u5b50\u8282\u70b9\u66f4\u65b0\u4e3b\u8981\u662f\u627e\u51fa\u5dee\u5f02\u5bf9\u8c61\uff0c\u627e\u5dee\u5f02\u5bf9\u8c61\u7684\u65f6\u5019\u4e5f\u4f1a\u4f7f\u7528\u4e0a\u9762\u7684_shouldUpdateReactComponent\u6765\u5224\u65ad\uff0c\u5982\u679c\u662f\u53ef\u4ee5\u76f4\u63a5\u66f4\u65b0\u7684\u5c31\u4f1a\u9012\u5f52\u8c03\u7528\u5b50\u8282\u70b9\u7684\u66f4\u65b0\uff0c\u8fd9\u6837\u4e5f\u4f1a\u9012\u5f52\u67e5\u627e\u5dee\u5f02\u5bf9\u8c61\uff0c\u8fd9\u91cc\u8fd8\u4f1a\u4f7f\u7528lastIndex\u8fd9\u79cd\u505a\u4e00\u79cd\u4f18\u5316\uff0c\u4f7f\u4e00\u4e9b\u8282\u70b9\u4fdd\u7559\u4f4d\u7f6e\uff0c\u4e4b\u540e\u6839\u636e\u5dee\u5f02\u5bf9\u8c61\u64cd\u4f5cdom\u5143\u7d20\uff08\u4f4d\u7f6e\u53d8\u52a8\uff0c\u5220\u9664\uff0c\u6dfb\u52a0\u7b49\uff09\u3002 \u6574\u4e2areactjs\u7684\u5dee\u5f02\u7b97\u6cd5\u5c31\u662f\u8fd9\u4e2a\u6837\u5b50\u3002\u6700\u6838\u5fc3\u7684\u4e24\u4e2a_shouldUpdateReactComponent\u4ee5\u53cadiff,patch\u7b97\u6cd5\u3002","title":"\u57fa\u672c\u5143\u7d20element\u7684receiveComponent"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8B%E7%AF%87%EF%BC%88%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#_3","text":"\u6709\u4e86\u4e0a\u9762\u7b80\u6613\u7248\u7684reaactjs\uff0c\u6211\u4eec\u6765\u5b9e\u73b0\u4e00\u4e2a\u7b80\u5355\u7684todolist\u5427\u3002 var TodoList = React.createClass({ getInitialState: function() { return {items: []}; }, add:function(){ var nextItems = this.state.items.concat([this.state.text]); this.setState({items: nextItems, text: ''}); }, onChange: function(e) { this.setState({text: e.target.value}); }, render: function() { var createItem = function(itemText) { return React.createElement(\"div\", null, itemText); }; var lists = this.state.items.map(createItem); var input = React.createElement(\"input\", {onkeyup: this.onChange.bind(this),value: this.state.text}); var button = React.createElement(\"p\", {onclick: this.add.bind(this)}, 'Add#' + (this.state.items.length + 1)) var children = lists.concat([input,button]) return React.createElement(\"div\", null,children); } }); React.render(React.createElement(TodoList), document.getElementById(\"container\")); \u6548\u679c\u5982\u4e0b\uff1a \u6574\u4e2a\u7684\u6d41\u7a0b\u662f\u8fd9\u6837\uff1a \u521d\u6b21\u6e32\u67d3\u65f6\u5148\u4f7f\u7528 ReactCompositeComponent \u6e32\u67d3\u81ea\u5b9a\u4e49\u5143\u7d20TodoList\uff0c\u8c03\u7528getInitialState\u62ff\u5230\u521d\u59cb\u503c\uff0c\u7136\u540e\u4f7f\u7528 ReactDOMComponent \u6e32\u67d3render\u8fd4\u56de\u7684div\u57fa\u672c\u5143\u7d20\u8282\u70b9\u3002div\u57fa\u672c\u5143\u7d20\u518d\u4e00\u5c42\u5c42\u7684\u4f7f\u7528 ReactDOMComponent \u53bb\u6e32\u67d3\u5404\u4e2a\u5b50\u8282\u70b9,\u5305\u62ecinput,\u8fd8\u6709p\u3002 \u5728input\u6846\u8f93\u5165\u6587\u5b57\u89e6\u53d1onchange\u4e8b\u4ef6\uff0c\u5f00\u59cb\u8c03\u7528setState\u505a\u51fa\u53d8\u66f4\uff0c\u76f4\u63a5\u53d8\u66f4render\u51fa\u6765\u7684\u8282\u70b9\uff0c\u7ecf\u8fc7\u5dee\u5f02\u7b97\u6cd5\uff0c\u4e00\u5c42\u5c42\u7684\u5f80\u4e0b\u3002\u6700\u540e\u6539\u53d8value\u503c\u3002 \u70b9\u51fb\u6309\u94ae\uff0c\u89e6\u53d1add\u7136\u540e\u5f00\u59cb\u66f4\u65b0\uff0c\u7ecf\u8fc7\u5dee\u5f02\u7b97\u6cd5\uff0c\u6dfb\u52a0\u4e00\u4e2a\u8282\u70b9\u3002\u540c\u65f6\u66f4\u65b0\u6309\u94ae\u4e0a\u9762\u7684\u6587\u6848\u3002 \u57fa\u672c\u4e0a\uff0c\u6574\u4e2a\u6d41\u7a0b\u90fd\u68b3\u7406\u6e05\u695a\u4e86","title":"\u5c0f\u8bd5\u725b\u5200"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8B%E7%AF%87%EF%BC%88%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#_4","text":"\u8fd9\u53ea\u662f\u4e2a\u73a9\u5177\uff0c\u4f46\u5b9e\u73b0\u4e86reactjs\u6700\u6838\u5fc3\u7684\u529f\u80fd\uff0c\u865a\u62df\u8282\u70b9\uff0c\u5dee\u5f02\u7b97\u6cd5\uff0c\u5355\u5411\u6570\u636e\u66f4\u65b0\u90fd\u5728\u8fd9\u91cc\u4e86\u3002\u8fd8\u6709\u5f88\u591areactjs\u4f18\u79c0\u7684\u4e1c\u897f\u6ca1\u6709\u5b9e\u73b0\uff0c\u6bd4\u5982\u5bf9\u8c61\u751f\u6210\u65f6\u5185\u5b58\u7684\u7ebf\u7a0b\u6c60\u7ba1\u7406\uff0c\u6279\u91cf\u66f4\u65b0\u673a\u5236\uff0c\u4e8b\u4ef6\u7684\u4f18\u5316\uff0c\u670d\u52a1\u7aef\u7684\u6e32\u67d3\uff0cimmutable data\u7b49\u7b49\u3002\u8fd9\u4e9b\u4e1c\u897f\u53d7\u9650\u4e8e\u7bc7\u5e45\u5c31\u4e0d\u5177\u4f53\u5c55\u5f00\u4e86\u3002 reactjs\u4f5c\u4e3a\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\uff0c\u865a\u62df\u8282\u70b9\u7684\u60f3\u6cd5\u6bd4\u8f83\u65b0\u5947\uff0c\u4e0d\u8fc7\u4e2a\u4eba\u8fd8\u662f\u4e0d\u80fd\u63a5\u53d7\u8fd9\u79cd\u522b\u626d\u7684\u5199\u6cd5\u3002\u4f7f\u7528reactjs\uff0c\u5c31\u8981\u4f7f\u7528\u4ed6\u90a3\u4e00\u6574\u5957\u7684\u5f00\u53d1\u65b9\u5f0f\uff0c\u800c\u4ed6\u6838\u5fc3\u7684\u529f\u80fd\u5176\u5b9e\u53ea\u662f\u4e00\u4e2a\u5dee\u5f02\u7b97\u6cd5\uff0c\u800c\u8fd9\u79cd\u5176\u5b9e\u5df2\u7ecf\u6709\u76f8\u5173\u7684\u5e93\u5b9e\u73b0\u4e86\u3002 \u6700\u540e\u518d\u5410\u69fd\u4e0b\u524d\u7aef\u771f\u662f\u82e6\u547d\uff0c\u5404\u79cd\u65b0\u6280\u672f\uff0c\u5404\u79cd\u65b0\u77e5\u8bc6\u8111\u7ec6\u80de\u4e0d\u591f\u7528\u4e86\u3002\u4e5f\u96be\u602a\u524d\u7aef\u6c38\u8fdc\u90fd\u7f3a\u4eba\u3002 \u76f8\u5173\u8d44\u6599\uff1a http://freestyle21.cn/2015/06/21/react-diff-%E7%AE%97%E6%B3%95/ https://github.com/Matt-Esch/virtual-dom http://zjumty.iteye.com/blog/2207030 http://hao.jser.com/archive/7871/ https://github.com/miniflycn/qvd/issues/1 http://fluentconf.com/fluent2014/public/schedule/detail/32395 http://calendar.perfplanet.com/2013/diff/ http://segmentfault.com/a/1190000000606216 http://hulufei.gitbooks.io/react-tutorial/content/introduction.html http://reactjs.cn/react/docs/multiple-components.html http://facebook.github.io/react/docs/multiple-components.html","title":"\u7ed3\u8bed"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/","text":"\u5bf9React children \u7684\u6df1\u5165\u7406\u89e3 \u00b6 \u672c\u6587\u4e3a\u7ffb\u8bd1\u6587\u7ae0\uff0c \u539f\u6587\u94fe\u63a5 React\u7684\u6838\u5fc3\u4e3a\u7ec4\u4ef6\u3002\u4f60\u53ef\u4ee5\u50cf\u5d4c\u5957HTML\u6807\u7b7e\u4e00\u6837\u5d4c\u5957\u4f7f\u7528\u8fd9\u4e9b\u7ec4\u4ef6\uff0c\u8fd9\u4f7f\u5f97\u7f16\u5199JSX\u66f4\u52a0\u5bb9\u6613\uff0c\u56e0\u4e3a\u5b83\u7c7b\u4f3c\u4e8e\u6807\u8bb0\u8bed\u8a00\u3002 \u5f53\u6211\u521a\u5f00\u59cb\u5b66\u4e60React\u65f6\uff0c\u5f53\u65f6\u6211\u8ba4\u4e3a\u201c\u4f7f\u7528 props.children \u5c31\u8fd9\u4e48\u56de\u4e8b\uff0c\u6211\u77e5\u9053\u5b83\u7684\u4e00\u5207\u201d\u3002\u6211\u9519\u4e86\u3002 \u56e0\u4e3a\u6211\u4eec\u4f7f\u7528\u7684\u662f JavaScript\uff0c\u6211\u4eec\u4f1a\u6539\u53d8children\u3002==\u6211\u4eec\u80fd\u591f\u7ed9\u5b83\u4eec\u53d1\u9001\u7279\u6b8a\u7684\u5c5e\u6027\uff0c\u4ee5\u6b64\u6765\u51b3\u5b9a\u5b83\u4eec\u662f\u5426\u8fdb\u884c\u6e32\u67d3\u3002==\u8ba9\u6211\u4eec\u6765\u63a2\u7a76\u4e00\u4e0bReact\u4e2dchildren\u7684\u4f5c\u7528\u3002 child \u5b50\u7ec4\u4ef6 \u00b6 \u6211\u4eec\u6709\u4e00\u4e2a\u7ec4\u4ef6 \u5305\u542b\u4e86\u51e0\u4e2a\u7ec4\u4ef6 \u3002\u4f60\u53ef\u80fd\u4f1a\u8fd9\u4e48\u4f7f\u7528\u5b83\uff1a < Grid > < Row /> < Row /> < Row /> </ Grid > \u8fd9\u4e09\u4e2a Row \u7ec4\u4ef6\u90fd\u6210\u4e3a\u4e86 Grid \u7684 props.children \u3002\u4f7f\u7528\u4e00\u4e2a\u8868\u8fbe\u5f0f\u5bb9\u5668\uff0c\u7236\u7ec4\u4ef6\u5c31\u80fd\u591f\u6e32\u67d3\u5b83\u4eec\u7684\u5b50\u7ec4\u4ef6\uff1a class Grid extends React.Component { render() { return (<div>{this.props.children}</div>); } } \u7236\u7ec4\u4ef6\u4e5f\u80fd\u591f\u51b3\u5b9a\u4e0d\u6e32\u67d3\u4efb\u4f55\u7684\u5b50\u7ec4\u4ef6\u6216\u8005\u5728\u6e32\u67d3\u4e4b\u524d\u5bf9\u5b83\u4eec\u8fdb\u884c\u64cd\u4f5c\u3002\u4f8b\u5982 Fullstop \u7ec4\u4ef6\u5c31\u6ca1\u6709\u6e32\u67d3\u5b50\u7ec4\u4ef6\u3002 class Fullstop extends React.Component { render() { return <h1>Hello world!</h1> } } \u4e0d\u7ba1\u4f60\u5c06\u4ec0\u4e48\u5b50\u7ec4\u4ef6\u4f20\u9012\u7ed9\u8fd9\u4e2a\u7ec4\u4ef6\uff0c\u5b83\u90fd\u53ea\u4f1a\u663e\u793a\u201cHello world!\u201d \u5c0f\u7ed3\uff1aReact \u7684\u7236\u7ec4\u4ef6\u53ef\u4ee5\u6e32\u67d3\u5185\u5d4c\u7684\u82e5\u5e72\u5b50\u7ec4\u4ef6\uff0c\u6216\u8005\u9009\u62e9\u4e0d\u6e32\u67d3\u3002 child \u6570\u636e\u7c7b\u578b \u00b6 React\u4e2d\u7684Children\u4e0d\u4e00\u5b9a\u662f\u7ec4\u4ef6\uff0c\u5b83\u4eec\u53ef\u4ee5\u4f7f\u4efb\u4f55\u4e1c\u897f\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u80fd\u591f\u5c06\u4e0a\u9762\u7684\u5b57\u7b26\u4e32\u4f5c\u4e3achildren\u4f20\u9012\u6211\u4eec\u7684\u7ec4\u4ef6\u3002\uff08\u5b9e\u9645\u7684\u5b50\u7ec4\u4ef6\u6570\u636e\u7c7b\u578b\u53ef\u4ee5\u662f\u7ec4\u4ef6\u3001\u6570\u7ec4\u3001\u5b57\u7b26\u4e32\u7b49\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\uff09 <Grid> Hello world! </Grid> \u6ce8\u610f\uff1a\u5982\u679c\u662f\u4f20\u53c2\u662f\u5b57\u7b26\u4e32\uff0cJSX \u5c06\u4f1a\u81ea\u52a8\u5220\u9664\u6bcf\u884c\u5f00\u5934\u548c\u7ed3\u5c3e\u7684\u7a7a\u683c\uff0c\u4ee5\u53ca\u7a7a\u884c\u3002\u5b83\u8fd8\u4f1a\u628a\u5b57\u7b26\u4e32\u4e2d\u95f4\u7684\u7a7a\u767d\u884c\u538b\u7f29\u4e3a\u4e00\u4e2a\u7a7a\u683c\u3002 \u8fd9\u610f\u5473\u7740\u4ee5\u4e0b\u7684\u8fd9\u4e9b\u4f8b\u5b50\u90fd\u4f1a\u6e32\u67d3\u51fa\u4e00\u6837\u7684\u60c5\u51b5\uff1a <Grid> Hello world! </Grid> <Grid> Hello world! </Grid> <Grid> Hello world! </Grid> <Grid> Hello world! </Grid> \u4f60\u4e5f\u53ef\u4ee5\u5c06\u591a\u79cd\u7c7b\u578b\u7684children\u5b8c\u7f8e\u7684\u7ed3\u5408\u5728\u4e00\u8d77\uff1a <Grid> Here is a row: <Row /> Here is another row: <Row /> </Grid> child \u7684\u529f\u80fd \u00b6 \u6211\u4eec\u80fd\u591f\u4f20\u9012\u4efb\u4f55\u7684 JavaScript \u8868\u8fbe\u5f0f\u4f5c\u4e3achildren\uff0c\u5305\u62ec\u51fd\u6570\u3002 \u4e3a\u4e86\u8bf4\u660e\u8fd9\u79cd\u60c5\u51b5\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u5b83\u5c06\u6267\u884c\u4e00\u4e2a\u4f20\u9012\u8fc7\u6765\u7684\u4f5c\u4e3achild\u7684\u51fd\u6570\uff1a class Executioner extends React.Component { render() { // See how we're calling the child as a function? // \u8fd9\u91cc\u5e94\u8be5\u8fdb\u884c\u5224\u65ad\uff0c\u5982\u679cchildren\u7684\u6570\u636e\u7c7b\u578b\u662f\u51fd\u6570\uff0c\u7136\u540e\u6267\u884c\u4e0b\u9762\u7684\u64cd\u4f5c return this.props.children() } } \u4f60\u4f1a\u50cf\u8fd9\u6837\u7684\u4f7f\u7528\u8fd9\u4e2a\u7ec4\u4ef6 <Executioner> {() => <h1> Hello World! </h1> } </Executioner> \u5f53\u7136\uff0c\u8fd9\u4e2a\u4f8b\u5b50\u5e76\u6ca1\u4ec0\u4e48\u7528\uff0c\u53ea\u662f\u5c55\u793a\u4e86\u8fd9\u4e2a\u60f3\u6cd5\u3002 \u5047\u8bbe\u4f60\u60f3\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u4e00\u4e9b\u6570\u636e\u3002\u4f60\u80fd\u4f7f\u7528\u591a\u79cd\u65b9\u6cd5\u5b9e\u73b0\uff0c\u50cf\u8fd9\u79cd\u5c06\u51fd\u6570\u4f5c\u4e3achild\u7684\u65b9\u6cd5\u4e5f\u662f\u53ef\u884c\u7684\uff08\u53ef\u4ee5\u65b9\u4fbf\u7684\u4f20\u53c2\uff0c\u4e0d\u9700\u8981\u4f7f\u7528\u5355\u72ec\u7684 props \u4f20\u503c\uff09\u3002 <Fetch url= \"api.myself.com\" > {(result) => <p> {result} </p> } </Fetch> \u4e0d\u8981\u62c5\u5fc3\u8fd9\u4e9b\u8d85\u51fa\u4e86\u4f60\u7684\u8111\u5bb9\u91cf\u3002\u6211\u60f3\u8981\u7684\u662f\u5f53\u4f60\u4ee5\u540e\u9047\u5230\u8fd9\u79cd\u60c5\u51b5\u65f6\u4e0d\u518d\u60ca\u8bb6\u3002\u6709\u4e86children\u4ec0\u4e48\u4e8b\u90fd\u4f1a\u53d1\u751f\u3002 children API \u00b6 \u5982\u679c\u4f60\u770b\u8fc7React\u7684\u6587\u6863\u4f60\u5c31\u4f1a\u8bf4\u201cchildren\u662f\u4e00\u4e2a\u4e0d\u900f\u660e\u7684\u6570\u636e\u7ed3\u6784\u201d\u3002\u4ece\u672c\u8d28\u4e0a\u6765\u8bb2\uff0c props.children \u53ef\u4ee5\u4f7f\u4efb\u4f55\u7684\u7c7b\u578b\uff0c\u6bd4\u5982\u6570\u7ec4\u3001\u51fd\u6570\u3001\u5bf9\u8c61\u7b49\u7b49\u3002 React\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7684\u51fd\u6570\u52a9\u624b\u6765\u4f7f\u5f97\u64cd\u4f5cchildren\u66f4\u52a0\u65b9\u4fbf\u3002 Map + forEach \u00b6 \u4e24\u4e2a\u6700\u663e\u773c\u7684\u51fd\u6570\u52a9\u624b\u5c31\u662f React.Children.map \u4ee5\u53ca React.Children.forEach \u3002\u5b83\u4eec\u5728\u5bf9\u5e94\u6570\u7ec4\u7684\u60c5\u51b5\u4e0b\u80fd\u8d77\u4f5c\u7528\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u5f53\u51fd\u6570\u3001\u5bf9\u8c61\u6216\u8005\u4efb\u4f55\u4e1c\u897f\u4f5c\u4e3achildren\u4f20\u9012\u65f6\uff0c\u5b83\u4eec\u4e5f\u4f1a\u8d77\u4f5c\u7528\u3002 class IgnoreFirstChild extends React.Component { render() { return ( <React.Fragment> {React.Children.map(this.props.children, (child, index) => { // Ignore the first child if (index < 1) return return child })} </React.Fragment> ) } } IgnoreFirstChild \u7ec4\u4ef6\u5728\u8fd9\u91cc\u4f1a\u904d\u5386\u6240\u6709\u7684children\uff0c\u5ffd\u7565\u7b2c\u4e00\u4e2achild\u7136\u540e\u8fd4\u56de\u5176\u4ed6\u7684\u3002 <IgnoreFirstChild> <h1>First</h1> <h1>Second</h1> // <- Only this is rendered </IgnoreFirstChild> \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528 this.props.children.map \u7684\u65b9\u6cd5\u3002\u4f46\u8981\u662f\u6709\u4eba\u8bb2\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3achild\u4f20\u9012\u8fc7\u6765\u5c06\u4f1a\u53d1\u751f\u4ec0\u4e48\u5462\uff1f this.props.children \u4f1a\u662f\u4e00\u4e2a\u51fd\u6570\u800c\u4e0d\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u63a5\u7740\u6211\u4eec\u5c31\u4f1a\u4ea7\u751f\u4e00\u4e2aerror\uff01 \u7136\u800c\u4f7f\u7528 React.Children.map \u51fd\u6570\uff0c \u65e0\u8bba\u4ec0\u4e48\u53c2\u6570\u90fd\u4e0d\u4f1a\u62a5\u9519 \u3002 <IgnoreFirstChild> {() => <h1>First</h1>} // <- Ignored \ud83d\udcaa </IgnoreFirstChild> Count \u00b6 \u56e0\u4e3a this.props.children \u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\u7684\uff0c\u68c0\u67e5\u4e00\u4e2a\u7ec4\u4ef6\u6709\u591a\u5c11\u4e2achildren\u662f\u975e\u5e38\u56f0\u96be\u7684\u3002\u5929\u771f\u7684\u4f7f\u7528 this.props.children.length \uff0c\u5f53\u4f20\u9012\u4e86\u5b57\u7b26\u4e32\u6216\u8005\u51fd\u6570\u65f6\u7a0b\u5e8f\u4fbf\u4f1a\u4e2d\u65ad\u3002\u5047\u8bbe\u6211\u4eec\u6709\u4e2achild\uff1a \"Hello World!\" \uff0c\u4f46\u662f\u4f7f\u7528 .length \u7684\u65b9\u6cd5\u5c06\u4f1a\u663e\u793a\u4e3a12\u3002 \u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u6709 React.Children.count \u65b9\u6cd5\u7684\u539f\u56e0 class ChildrenCounter extends React.Component { render() { return <p>React.Children.count(this.props.children)</p> } } \u65e0\u8bba\u65f6\u4ec0\u4e48\u7c7b\u578b\u5b83\u90fd\u4f1a\u8fd4\u56dechildren\u7684\u6570\u91cf // Renders \"1\" <ChildrenCounter> Second! </ChildrenCounter> // Renders \"2\" <ChildrenCounter> <p>First</p> <ChildComponent /> </ChildrenCounter> // Renders \"3\" <ChildrenCounter> {() => <h1>First!</h1>} Second! <p>Third!</p> </ChildrenCounter> \u8f6c\u6362\u4e3a\u6570\u7ec4 \u00b6 \u5982\u679c\u4ee5\u4e0a\u7684\u65b9\u6cd5\u4f60\u90fd\u4e0d\u9002\u5408\uff0c\u4f60\u80fd\u5c06children\u8f6c\u6362\u4e3a\u6570\u7ec4\u901a\u8fc7 React.Children.toArray \u65b9\u6cd5\u3002\u5982\u679c\u4f60\u9700\u8981\u5bf9\u5b83\u4eec\u8fdb\u884c\u6392\u5e8f\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u662f\u975e\u5e38\u6709\u7528\u7684\u3002 class Sort extends React.Component { render() { const children = React.Children.toArray(this.props.children) // Sort and render the children return <p>{children.sort().join(' ')}</p> } } <Sort> // We use expression containers to make sure our strings // are passed as three children, not as one string {'bananas'}{'oranges'}{'apples'} </Sort> \u4e0a\u4f8b\u4f1a\u6e32\u67d3\u4e3a\u4e09\u4e2a\u6392\u597d\u5e8f\u7684\u5b57\u7b26\u4e32\u3002 onlychild \u00b6 \u5982\u679c\u4f60\u56de\u8fc7\u6765\u60f3\u521a\u624d\u7684\u7ec4\u4ef6\uff0c\u5b83\u53ea\u80fd\u5728\u4f20\u9012\u5355\u4e00child\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528\uff0c\u800c\u4e14child\u5fc5\u987b\u4e3a\u51fd\u6570\u3002 class Executioner extends React . Component { render () { return this . props . children () } } \u6211\u4eec\u53ef\u4ee5\u8bd5\u7740\u53bb\u5f3a\u5236\u6267\u884c propTypes \uff0c\u5c31\u50cf\u4e0b\u9762\u8fd9\u6837 Executioner . propTypes = { children : React . PropTypes . func . isRequired , } \u8fd9\u4f1a\u4f7f\u63a7\u5236\u53f0\u6253\u5370\u51fa\u4e00\u6761\u6d88\u606f\uff0c\u90e8\u5206\u7684\u5f00\u53d1\u8005\u5c06\u4f1a\u628a\u5b83\u5ffd\u89c6\u3002\u76f8\u53cd\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5728 render \u91cc\u9762\u4f7f\u7528 React.Children.only class Executioner extends React . Component { render () { return React . Children . only ( this . props . children )() } } \u8fd9\u6837\u53ea\u4f1a\u8fd4\u56de\u4e00\u4e2achild\u3002\u5982\u679c\u4e0d\u6b62\u4e00\u4e2achild\uff0c\u5b83\u5c31\u4f1a\u629b\u51fa\u9519\u8bef\uff0c\u8ba9\u6574\u4e2a\u7a0b\u5e8f\u9677\u5165\u4e2d\u65ad\u2014\u2014\u5b8c\u7f8e\u7684\u907f\u5f00\u4e86\u8bd5\u56fe\u7834\u574f\u7ec4\u4ef6\u7684\u61d2\u60f0\u7684\u5f00\u53d1\u8005\u3002 \u7f16\u8f91 children \u00b6 \u6211\u4eec\u53ef\u4ee5\u5c06\u4efb\u610f\u7684\u7ec4\u4ef6\u5448\u73b0\u4e3achildren\uff0c\u4f46\u662f\u4efb\u7136\u53ef\u4ee5\u7528\u7236\u7ec4\u4ef6\u53bb\u63a7\u5236\u5b83\u4eec\uff0c\u800c\u4e0d\u662f\u7528\u6e32\u67d3\u7684\u7ec4\u4ef6\u3002\u4e3a\u4e86\u8bf4\u660e\u8fd9\u70b9\uff0c\u8ba9\u6211\u4eec\u4e3e\u4f8b\u4e00\u4e2a \u80fd\u591f\u62e5\u6709\u5f88\u591a RadioButton \u7ec4\u4ef6\u7684 RadiaGroup \u7ec4\u4ef6\u3002 RadioButtons \u4e0d\u4f1a\u4ece RadioGroup \u672c\u8eab\u4e0a\u8fdb\u884c\u6e32\u67d3\uff0c\u5b83\u4eec\u53ea\u662f\u4f5c\u4e3achildren\u4f7f\u7528\u3002\u8fd9\u610f\u5473\u7740\u6211\u4eec\u5c06\u4f1a\u6709\u8fd9\u6837\u7684\u4ee3\u7801\u3002 render() { return( <RadioGroup> <RadioButton value=\"first\">First</RadioButton> <RadioButton value=\"second\">Second</RadioButton> <RadioButton value=\"third\">Third</RadioButton> </RadioGroup> ) } \u8fd9\u6bb5\u4ee3\u7801\u6709\u4e00\u4e2a\u95ee\u9898\u3002 input \u6ca1\u6709\u88ab\u5206\u7ec4\uff0c\u5bfc\u81f4\u4e86\u8fd9\u6837\uff1a \u4e3a\u4e86\u628a input \u6807\u7b7e\u5f04\u5230\u540c\u7ec4\uff0c\u5fc5\u987b\u62e5\u6709\u76f8\u540c\u7684 name \u5c5e\u6027\u3002\u5f53\u7136\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u7ed9\u6bcf\u4e2a RadioButton \u7684 name \u8d4b\u503c <RadioGroup> <RadioButton name= \"g1\" value= \"first\" > First </RadioButton> <RadioButton name= \"g1\" value= \"second\" > Second </RadioButton> <RadioButton name= \"g1\" value= \"third\" > Third </RadioButton> </RadioGroup> \u4f46\u662f\u8fd9\u4e2a\u662f\u65e0\u804a\u7684\u5e76\u4e14\u5bb9\u6613\u51fa\u9519\u3002\u6211\u4eec\u53ef\u662f\u62e5\u6709JavaScript\u7684\u6240\u6709\u529f\u80fd\u7684\uff01 \u6539\u53d8children\u7684\u5c5e\u6027 \u00b6 \u5728 RadioGroup \u4e2d\u6211\u4eec\u5c06\u4f1a\u6dfb\u52a0\u4e00\u4e2a\u53eb\u505a renderChildren \u7684\u65b9\u6cd5\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u7f16\u8f91children\u7684\u5c5e\u6027 class RadioGroup extends React . Component { renderChildren = () => { // TODO: Change the name prop of all children // to this.props.name return this . props . children } render () { return ( < div className = \"group\" > { this . renderChildren ()} </ div > ) } } \u8ba9\u6211\u4eec\u5f00\u59cb\u904d\u5386children\u83b7\u5f97\u6bcf\u4e2achild renderChildren () { return React . Children . map ( this . props . children , child => { // child.name = 'g1' // <RadioButton name=\"g1\" value=\"first\">First</RadioButton> // \u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u6b63\u786e\uff0c\u9700\u8981 React.cloneElement \u8bbe\u7f6e\u5b50\u7ec4\u4ef6\u7684\u5c5e\u6027 // TODO: Change the name prop to this.props.name return child }) } \u6211\u4eec\u5982\u4f55\u7f16\u8f91\u5b83\u4eec\u7684\u5c5e\u6027\u5462\uff1f \u6c38\u6052\u5730\u514b\u9686\u5143\u7d20 \u00b6 \u8fd9\u662f\u4eca\u5929\u5c55\u793a\u7684\u6700\u540e\u4e00\u4e2a\u8f85\u52a9\u65b9\u6cd5\u3002\u987e\u540d\u601d\u4e49\uff0c React.cloneElement \u4f1a\u514b\u9686\u4e00\u4e2a\u5143\u7d20\u3002\u6211\u4eec\u5c06\u60f3\u8981\u514b\u9686\u7684\u5143\u7d20\u5f53\u4f5c\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u7136\u540e\u5c06\u60f3\u8981\u8bbe\u7f6e\u7684\u5c5e\u6027\u4ee5\u5bf9\u8c61\u7684\u65b9\u5f0f\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002 const cloned = React.cloneElement(element, { new: 'yes!' }) \u73b0\u5728\uff0c clone \u5143\u7d20\u6709\u4e86\u8bbe\u7f6e\u4e3a \"yes!\" \u7684\u5c5e\u6027 new \u8fd9\u6b63\u662f\u6211\u4eec\u7684 RadioGroup \u6240\u9700\u7684\u3002\u6211\u4eec\u514b\u9686\u6240\u6709\u7684child\u5e76\u4e14\u8bbe\u7f6e name \u5c5e\u6027 renderChildren() { return React.Children.map(this.props.children, child => { return React.cloneElement(child, { name: this.props.name }) }) } \u6700\u540e\u4e00\u6b65\u5c31\u662f\u4f20\u9012\u4e00\u4e2a\u552f\u4e00\u7684 name \u7ed9 RadioGroup <RadioGroup name=\"g1\"> <RadioButton value=\"first\">First</RadioButton> <RadioButton value=\"second\">Second</RadioButton> <RadioButton value=\"third\">Third</RadioButton> </RadioGroup> \u6ca1\u6709\u624b\u52a8\u6dfb\u52a0 name \u5c5e\u6027\u7ed9\u6240\u6709\u7684 RadioButton \uff0c\u6211\u4eec\u53ea\u662f\u544a\u8bc9\u4e86 RadioGroup \u6240\u9700\u7684name\u800c\u5df2\u3002","title":"\u5bf9React children\u7406\u89e3.md"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#react-children","text":"\u672c\u6587\u4e3a\u7ffb\u8bd1\u6587\u7ae0\uff0c \u539f\u6587\u94fe\u63a5 React\u7684\u6838\u5fc3\u4e3a\u7ec4\u4ef6\u3002\u4f60\u53ef\u4ee5\u50cf\u5d4c\u5957HTML\u6807\u7b7e\u4e00\u6837\u5d4c\u5957\u4f7f\u7528\u8fd9\u4e9b\u7ec4\u4ef6\uff0c\u8fd9\u4f7f\u5f97\u7f16\u5199JSX\u66f4\u52a0\u5bb9\u6613\uff0c\u56e0\u4e3a\u5b83\u7c7b\u4f3c\u4e8e\u6807\u8bb0\u8bed\u8a00\u3002 \u5f53\u6211\u521a\u5f00\u59cb\u5b66\u4e60React\u65f6\uff0c\u5f53\u65f6\u6211\u8ba4\u4e3a\u201c\u4f7f\u7528 props.children \u5c31\u8fd9\u4e48\u56de\u4e8b\uff0c\u6211\u77e5\u9053\u5b83\u7684\u4e00\u5207\u201d\u3002\u6211\u9519\u4e86\u3002 \u56e0\u4e3a\u6211\u4eec\u4f7f\u7528\u7684\u662f JavaScript\uff0c\u6211\u4eec\u4f1a\u6539\u53d8children\u3002==\u6211\u4eec\u80fd\u591f\u7ed9\u5b83\u4eec\u53d1\u9001\u7279\u6b8a\u7684\u5c5e\u6027\uff0c\u4ee5\u6b64\u6765\u51b3\u5b9a\u5b83\u4eec\u662f\u5426\u8fdb\u884c\u6e32\u67d3\u3002==\u8ba9\u6211\u4eec\u6765\u63a2\u7a76\u4e00\u4e0bReact\u4e2dchildren\u7684\u4f5c\u7528\u3002","title":"\u5bf9React children \u7684\u6df1\u5165\u7406\u89e3"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#child","text":"\u6211\u4eec\u6709\u4e00\u4e2a\u7ec4\u4ef6 \u5305\u542b\u4e86\u51e0\u4e2a\u7ec4\u4ef6 \u3002\u4f60\u53ef\u80fd\u4f1a\u8fd9\u4e48\u4f7f\u7528\u5b83\uff1a < Grid > < Row /> < Row /> < Row /> </ Grid > \u8fd9\u4e09\u4e2a Row \u7ec4\u4ef6\u90fd\u6210\u4e3a\u4e86 Grid \u7684 props.children \u3002\u4f7f\u7528\u4e00\u4e2a\u8868\u8fbe\u5f0f\u5bb9\u5668\uff0c\u7236\u7ec4\u4ef6\u5c31\u80fd\u591f\u6e32\u67d3\u5b83\u4eec\u7684\u5b50\u7ec4\u4ef6\uff1a class Grid extends React.Component { render() { return (<div>{this.props.children}</div>); } } \u7236\u7ec4\u4ef6\u4e5f\u80fd\u591f\u51b3\u5b9a\u4e0d\u6e32\u67d3\u4efb\u4f55\u7684\u5b50\u7ec4\u4ef6\u6216\u8005\u5728\u6e32\u67d3\u4e4b\u524d\u5bf9\u5b83\u4eec\u8fdb\u884c\u64cd\u4f5c\u3002\u4f8b\u5982 Fullstop \u7ec4\u4ef6\u5c31\u6ca1\u6709\u6e32\u67d3\u5b50\u7ec4\u4ef6\u3002 class Fullstop extends React.Component { render() { return <h1>Hello world!</h1> } } \u4e0d\u7ba1\u4f60\u5c06\u4ec0\u4e48\u5b50\u7ec4\u4ef6\u4f20\u9012\u7ed9\u8fd9\u4e2a\u7ec4\u4ef6\uff0c\u5b83\u90fd\u53ea\u4f1a\u663e\u793a\u201cHello world!\u201d \u5c0f\u7ed3\uff1aReact \u7684\u7236\u7ec4\u4ef6\u53ef\u4ee5\u6e32\u67d3\u5185\u5d4c\u7684\u82e5\u5e72\u5b50\u7ec4\u4ef6\uff0c\u6216\u8005\u9009\u62e9\u4e0d\u6e32\u67d3\u3002","title":"child \u5b50\u7ec4\u4ef6"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#child_1","text":"React\u4e2d\u7684Children\u4e0d\u4e00\u5b9a\u662f\u7ec4\u4ef6\uff0c\u5b83\u4eec\u53ef\u4ee5\u4f7f\u4efb\u4f55\u4e1c\u897f\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u80fd\u591f\u5c06\u4e0a\u9762\u7684\u5b57\u7b26\u4e32\u4f5c\u4e3achildren\u4f20\u9012\u6211\u4eec\u7684\u7ec4\u4ef6\u3002\uff08\u5b9e\u9645\u7684\u5b50\u7ec4\u4ef6\u6570\u636e\u7c7b\u578b\u53ef\u4ee5\u662f\u7ec4\u4ef6\u3001\u6570\u7ec4\u3001\u5b57\u7b26\u4e32\u7b49\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\uff09 <Grid> Hello world! </Grid> \u6ce8\u610f\uff1a\u5982\u679c\u662f\u4f20\u53c2\u662f\u5b57\u7b26\u4e32\uff0cJSX \u5c06\u4f1a\u81ea\u52a8\u5220\u9664\u6bcf\u884c\u5f00\u5934\u548c\u7ed3\u5c3e\u7684\u7a7a\u683c\uff0c\u4ee5\u53ca\u7a7a\u884c\u3002\u5b83\u8fd8\u4f1a\u628a\u5b57\u7b26\u4e32\u4e2d\u95f4\u7684\u7a7a\u767d\u884c\u538b\u7f29\u4e3a\u4e00\u4e2a\u7a7a\u683c\u3002 \u8fd9\u610f\u5473\u7740\u4ee5\u4e0b\u7684\u8fd9\u4e9b\u4f8b\u5b50\u90fd\u4f1a\u6e32\u67d3\u51fa\u4e00\u6837\u7684\u60c5\u51b5\uff1a <Grid> Hello world! </Grid> <Grid> Hello world! </Grid> <Grid> Hello world! </Grid> <Grid> Hello world! </Grid> \u4f60\u4e5f\u53ef\u4ee5\u5c06\u591a\u79cd\u7c7b\u578b\u7684children\u5b8c\u7f8e\u7684\u7ed3\u5408\u5728\u4e00\u8d77\uff1a <Grid> Here is a row: <Row /> Here is another row: <Row /> </Grid>","title":"child \u6570\u636e\u7c7b\u578b"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#child_2","text":"\u6211\u4eec\u80fd\u591f\u4f20\u9012\u4efb\u4f55\u7684 JavaScript \u8868\u8fbe\u5f0f\u4f5c\u4e3achildren\uff0c\u5305\u62ec\u51fd\u6570\u3002 \u4e3a\u4e86\u8bf4\u660e\u8fd9\u79cd\u60c5\u51b5\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u5b83\u5c06\u6267\u884c\u4e00\u4e2a\u4f20\u9012\u8fc7\u6765\u7684\u4f5c\u4e3achild\u7684\u51fd\u6570\uff1a class Executioner extends React.Component { render() { // See how we're calling the child as a function? // \u8fd9\u91cc\u5e94\u8be5\u8fdb\u884c\u5224\u65ad\uff0c\u5982\u679cchildren\u7684\u6570\u636e\u7c7b\u578b\u662f\u51fd\u6570\uff0c\u7136\u540e\u6267\u884c\u4e0b\u9762\u7684\u64cd\u4f5c return this.props.children() } } \u4f60\u4f1a\u50cf\u8fd9\u6837\u7684\u4f7f\u7528\u8fd9\u4e2a\u7ec4\u4ef6 <Executioner> {() => <h1> Hello World! </h1> } </Executioner> \u5f53\u7136\uff0c\u8fd9\u4e2a\u4f8b\u5b50\u5e76\u6ca1\u4ec0\u4e48\u7528\uff0c\u53ea\u662f\u5c55\u793a\u4e86\u8fd9\u4e2a\u60f3\u6cd5\u3002 \u5047\u8bbe\u4f60\u60f3\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u4e00\u4e9b\u6570\u636e\u3002\u4f60\u80fd\u4f7f\u7528\u591a\u79cd\u65b9\u6cd5\u5b9e\u73b0\uff0c\u50cf\u8fd9\u79cd\u5c06\u51fd\u6570\u4f5c\u4e3achild\u7684\u65b9\u6cd5\u4e5f\u662f\u53ef\u884c\u7684\uff08\u53ef\u4ee5\u65b9\u4fbf\u7684\u4f20\u53c2\uff0c\u4e0d\u9700\u8981\u4f7f\u7528\u5355\u72ec\u7684 props \u4f20\u503c\uff09\u3002 <Fetch url= \"api.myself.com\" > {(result) => <p> {result} </p> } </Fetch> \u4e0d\u8981\u62c5\u5fc3\u8fd9\u4e9b\u8d85\u51fa\u4e86\u4f60\u7684\u8111\u5bb9\u91cf\u3002\u6211\u60f3\u8981\u7684\u662f\u5f53\u4f60\u4ee5\u540e\u9047\u5230\u8fd9\u79cd\u60c5\u51b5\u65f6\u4e0d\u518d\u60ca\u8bb6\u3002\u6709\u4e86children\u4ec0\u4e48\u4e8b\u90fd\u4f1a\u53d1\u751f\u3002","title":"child \u7684\u529f\u80fd"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#children-api","text":"\u5982\u679c\u4f60\u770b\u8fc7React\u7684\u6587\u6863\u4f60\u5c31\u4f1a\u8bf4\u201cchildren\u662f\u4e00\u4e2a\u4e0d\u900f\u660e\u7684\u6570\u636e\u7ed3\u6784\u201d\u3002\u4ece\u672c\u8d28\u4e0a\u6765\u8bb2\uff0c props.children \u53ef\u4ee5\u4f7f\u4efb\u4f55\u7684\u7c7b\u578b\uff0c\u6bd4\u5982\u6570\u7ec4\u3001\u51fd\u6570\u3001\u5bf9\u8c61\u7b49\u7b49\u3002 React\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7684\u51fd\u6570\u52a9\u624b\u6765\u4f7f\u5f97\u64cd\u4f5cchildren\u66f4\u52a0\u65b9\u4fbf\u3002","title":"children API"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#map-foreach","text":"\u4e24\u4e2a\u6700\u663e\u773c\u7684\u51fd\u6570\u52a9\u624b\u5c31\u662f React.Children.map \u4ee5\u53ca React.Children.forEach \u3002\u5b83\u4eec\u5728\u5bf9\u5e94\u6570\u7ec4\u7684\u60c5\u51b5\u4e0b\u80fd\u8d77\u4f5c\u7528\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u5f53\u51fd\u6570\u3001\u5bf9\u8c61\u6216\u8005\u4efb\u4f55\u4e1c\u897f\u4f5c\u4e3achildren\u4f20\u9012\u65f6\uff0c\u5b83\u4eec\u4e5f\u4f1a\u8d77\u4f5c\u7528\u3002 class IgnoreFirstChild extends React.Component { render() { return ( <React.Fragment> {React.Children.map(this.props.children, (child, index) => { // Ignore the first child if (index < 1) return return child })} </React.Fragment> ) } } IgnoreFirstChild \u7ec4\u4ef6\u5728\u8fd9\u91cc\u4f1a\u904d\u5386\u6240\u6709\u7684children\uff0c\u5ffd\u7565\u7b2c\u4e00\u4e2achild\u7136\u540e\u8fd4\u56de\u5176\u4ed6\u7684\u3002 <IgnoreFirstChild> <h1>First</h1> <h1>Second</h1> // <- Only this is rendered </IgnoreFirstChild> \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528 this.props.children.map \u7684\u65b9\u6cd5\u3002\u4f46\u8981\u662f\u6709\u4eba\u8bb2\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3achild\u4f20\u9012\u8fc7\u6765\u5c06\u4f1a\u53d1\u751f\u4ec0\u4e48\u5462\uff1f this.props.children \u4f1a\u662f\u4e00\u4e2a\u51fd\u6570\u800c\u4e0d\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u63a5\u7740\u6211\u4eec\u5c31\u4f1a\u4ea7\u751f\u4e00\u4e2aerror\uff01 \u7136\u800c\u4f7f\u7528 React.Children.map \u51fd\u6570\uff0c \u65e0\u8bba\u4ec0\u4e48\u53c2\u6570\u90fd\u4e0d\u4f1a\u62a5\u9519 \u3002 <IgnoreFirstChild> {() => <h1>First</h1>} // <- Ignored \ud83d\udcaa </IgnoreFirstChild>","title":"Map + forEach"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#count","text":"\u56e0\u4e3a this.props.children \u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\u7684\uff0c\u68c0\u67e5\u4e00\u4e2a\u7ec4\u4ef6\u6709\u591a\u5c11\u4e2achildren\u662f\u975e\u5e38\u56f0\u96be\u7684\u3002\u5929\u771f\u7684\u4f7f\u7528 this.props.children.length \uff0c\u5f53\u4f20\u9012\u4e86\u5b57\u7b26\u4e32\u6216\u8005\u51fd\u6570\u65f6\u7a0b\u5e8f\u4fbf\u4f1a\u4e2d\u65ad\u3002\u5047\u8bbe\u6211\u4eec\u6709\u4e2achild\uff1a \"Hello World!\" \uff0c\u4f46\u662f\u4f7f\u7528 .length \u7684\u65b9\u6cd5\u5c06\u4f1a\u663e\u793a\u4e3a12\u3002 \u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u6709 React.Children.count \u65b9\u6cd5\u7684\u539f\u56e0 class ChildrenCounter extends React.Component { render() { return <p>React.Children.count(this.props.children)</p> } } \u65e0\u8bba\u65f6\u4ec0\u4e48\u7c7b\u578b\u5b83\u90fd\u4f1a\u8fd4\u56dechildren\u7684\u6570\u91cf // Renders \"1\" <ChildrenCounter> Second! </ChildrenCounter> // Renders \"2\" <ChildrenCounter> <p>First</p> <ChildComponent /> </ChildrenCounter> // Renders \"3\" <ChildrenCounter> {() => <h1>First!</h1>} Second! <p>Third!</p> </ChildrenCounter>","title":"Count"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#_1","text":"\u5982\u679c\u4ee5\u4e0a\u7684\u65b9\u6cd5\u4f60\u90fd\u4e0d\u9002\u5408\uff0c\u4f60\u80fd\u5c06children\u8f6c\u6362\u4e3a\u6570\u7ec4\u901a\u8fc7 React.Children.toArray \u65b9\u6cd5\u3002\u5982\u679c\u4f60\u9700\u8981\u5bf9\u5b83\u4eec\u8fdb\u884c\u6392\u5e8f\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u662f\u975e\u5e38\u6709\u7528\u7684\u3002 class Sort extends React.Component { render() { const children = React.Children.toArray(this.props.children) // Sort and render the children return <p>{children.sort().join(' ')}</p> } } <Sort> // We use expression containers to make sure our strings // are passed as three children, not as one string {'bananas'}{'oranges'}{'apples'} </Sort> \u4e0a\u4f8b\u4f1a\u6e32\u67d3\u4e3a\u4e09\u4e2a\u6392\u597d\u5e8f\u7684\u5b57\u7b26\u4e32\u3002","title":"\u8f6c\u6362\u4e3a\u6570\u7ec4"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#onlychild","text":"\u5982\u679c\u4f60\u56de\u8fc7\u6765\u60f3\u521a\u624d\u7684\u7ec4\u4ef6\uff0c\u5b83\u53ea\u80fd\u5728\u4f20\u9012\u5355\u4e00child\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528\uff0c\u800c\u4e14child\u5fc5\u987b\u4e3a\u51fd\u6570\u3002 class Executioner extends React . Component { render () { return this . props . children () } } \u6211\u4eec\u53ef\u4ee5\u8bd5\u7740\u53bb\u5f3a\u5236\u6267\u884c propTypes \uff0c\u5c31\u50cf\u4e0b\u9762\u8fd9\u6837 Executioner . propTypes = { children : React . PropTypes . func . isRequired , } \u8fd9\u4f1a\u4f7f\u63a7\u5236\u53f0\u6253\u5370\u51fa\u4e00\u6761\u6d88\u606f\uff0c\u90e8\u5206\u7684\u5f00\u53d1\u8005\u5c06\u4f1a\u628a\u5b83\u5ffd\u89c6\u3002\u76f8\u53cd\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5728 render \u91cc\u9762\u4f7f\u7528 React.Children.only class Executioner extends React . Component { render () { return React . Children . only ( this . props . children )() } } \u8fd9\u6837\u53ea\u4f1a\u8fd4\u56de\u4e00\u4e2achild\u3002\u5982\u679c\u4e0d\u6b62\u4e00\u4e2achild\uff0c\u5b83\u5c31\u4f1a\u629b\u51fa\u9519\u8bef\uff0c\u8ba9\u6574\u4e2a\u7a0b\u5e8f\u9677\u5165\u4e2d\u65ad\u2014\u2014\u5b8c\u7f8e\u7684\u907f\u5f00\u4e86\u8bd5\u56fe\u7834\u574f\u7ec4\u4ef6\u7684\u61d2\u60f0\u7684\u5f00\u53d1\u8005\u3002","title":"onlychild"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#children","text":"\u6211\u4eec\u53ef\u4ee5\u5c06\u4efb\u610f\u7684\u7ec4\u4ef6\u5448\u73b0\u4e3achildren\uff0c\u4f46\u662f\u4efb\u7136\u53ef\u4ee5\u7528\u7236\u7ec4\u4ef6\u53bb\u63a7\u5236\u5b83\u4eec\uff0c\u800c\u4e0d\u662f\u7528\u6e32\u67d3\u7684\u7ec4\u4ef6\u3002\u4e3a\u4e86\u8bf4\u660e\u8fd9\u70b9\uff0c\u8ba9\u6211\u4eec\u4e3e\u4f8b\u4e00\u4e2a \u80fd\u591f\u62e5\u6709\u5f88\u591a RadioButton \u7ec4\u4ef6\u7684 RadiaGroup \u7ec4\u4ef6\u3002 RadioButtons \u4e0d\u4f1a\u4ece RadioGroup \u672c\u8eab\u4e0a\u8fdb\u884c\u6e32\u67d3\uff0c\u5b83\u4eec\u53ea\u662f\u4f5c\u4e3achildren\u4f7f\u7528\u3002\u8fd9\u610f\u5473\u7740\u6211\u4eec\u5c06\u4f1a\u6709\u8fd9\u6837\u7684\u4ee3\u7801\u3002 render() { return( <RadioGroup> <RadioButton value=\"first\">First</RadioButton> <RadioButton value=\"second\">Second</RadioButton> <RadioButton value=\"third\">Third</RadioButton> </RadioGroup> ) } \u8fd9\u6bb5\u4ee3\u7801\u6709\u4e00\u4e2a\u95ee\u9898\u3002 input \u6ca1\u6709\u88ab\u5206\u7ec4\uff0c\u5bfc\u81f4\u4e86\u8fd9\u6837\uff1a \u4e3a\u4e86\u628a input \u6807\u7b7e\u5f04\u5230\u540c\u7ec4\uff0c\u5fc5\u987b\u62e5\u6709\u76f8\u540c\u7684 name \u5c5e\u6027\u3002\u5f53\u7136\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u7ed9\u6bcf\u4e2a RadioButton \u7684 name \u8d4b\u503c <RadioGroup> <RadioButton name= \"g1\" value= \"first\" > First </RadioButton> <RadioButton name= \"g1\" value= \"second\" > Second </RadioButton> <RadioButton name= \"g1\" value= \"third\" > Third </RadioButton> </RadioGroup> \u4f46\u662f\u8fd9\u4e2a\u662f\u65e0\u804a\u7684\u5e76\u4e14\u5bb9\u6613\u51fa\u9519\u3002\u6211\u4eec\u53ef\u662f\u62e5\u6709JavaScript\u7684\u6240\u6709\u529f\u80fd\u7684\uff01","title":"\u7f16\u8f91 children"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#children_1","text":"\u5728 RadioGroup \u4e2d\u6211\u4eec\u5c06\u4f1a\u6dfb\u52a0\u4e00\u4e2a\u53eb\u505a renderChildren \u7684\u65b9\u6cd5\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u7f16\u8f91children\u7684\u5c5e\u6027 class RadioGroup extends React . Component { renderChildren = () => { // TODO: Change the name prop of all children // to this.props.name return this . props . children } render () { return ( < div className = \"group\" > { this . renderChildren ()} </ div > ) } } \u8ba9\u6211\u4eec\u5f00\u59cb\u904d\u5386children\u83b7\u5f97\u6bcf\u4e2achild renderChildren () { return React . Children . map ( this . props . children , child => { // child.name = 'g1' // <RadioButton name=\"g1\" value=\"first\">First</RadioButton> // \u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u6b63\u786e\uff0c\u9700\u8981 React.cloneElement \u8bbe\u7f6e\u5b50\u7ec4\u4ef6\u7684\u5c5e\u6027 // TODO: Change the name prop to this.props.name return child }) } \u6211\u4eec\u5982\u4f55\u7f16\u8f91\u5b83\u4eec\u7684\u5c5e\u6027\u5462\uff1f","title":"\u6539\u53d8children\u7684\u5c5e\u6027"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#_2","text":"\u8fd9\u662f\u4eca\u5929\u5c55\u793a\u7684\u6700\u540e\u4e00\u4e2a\u8f85\u52a9\u65b9\u6cd5\u3002\u987e\u540d\u601d\u4e49\uff0c React.cloneElement \u4f1a\u514b\u9686\u4e00\u4e2a\u5143\u7d20\u3002\u6211\u4eec\u5c06\u60f3\u8981\u514b\u9686\u7684\u5143\u7d20\u5f53\u4f5c\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u7136\u540e\u5c06\u60f3\u8981\u8bbe\u7f6e\u7684\u5c5e\u6027\u4ee5\u5bf9\u8c61\u7684\u65b9\u5f0f\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002 const cloned = React.cloneElement(element, { new: 'yes!' }) \u73b0\u5728\uff0c clone \u5143\u7d20\u6709\u4e86\u8bbe\u7f6e\u4e3a \"yes!\" \u7684\u5c5e\u6027 new \u8fd9\u6b63\u662f\u6211\u4eec\u7684 RadioGroup \u6240\u9700\u7684\u3002\u6211\u4eec\u514b\u9686\u6240\u6709\u7684child\u5e76\u4e14\u8bbe\u7f6e name \u5c5e\u6027 renderChildren() { return React.Children.map(this.props.children, child => { return React.cloneElement(child, { name: this.props.name }) }) } \u6700\u540e\u4e00\u6b65\u5c31\u662f\u4f20\u9012\u4e00\u4e2a\u552f\u4e00\u7684 name \u7ed9 RadioGroup <RadioGroup name=\"g1\"> <RadioButton value=\"first\">First</RadioButton> <RadioButton value=\"second\">Second</RadioButton> <RadioButton value=\"third\">Third</RadioButton> </RadioGroup> \u6ca1\u6709\u624b\u52a8\u6dfb\u52a0 name \u5c5e\u6027\u7ed9\u6240\u6709\u7684 RadioButton \uff0c\u6211\u4eec\u53ea\u662f\u544a\u8bc9\u4e86 RadioGroup \u6240\u9700\u7684name\u800c\u5df2\u3002","title":"\u6c38\u6052\u5730\u514b\u9686\u5143\u7d20"},{"location":"typescript/01-%E4%B8%8A%E6%89%8BTypeScript/","text":"5\u5206\u949f\u4e0a\u624bTypeScript \u00b6 \u5b89\u88c5TypeScript \u00b6 \u6709\u4e24\u79cd\u4e3b\u8981\u7684\u65b9\u5f0f\u6765\u83b7\u53d6TypeScript\u5de5\u5177\uff1a \u901a\u8fc7npm\uff08Node.js\u5305\u7ba1\u7406\u5668\uff09 \u5b89\u88c5Visual Studio\u7684TypeScript\u63d2\u4ef6 Visual Studio 2017\u548cVisual Studio 2015 Update 3\u9ed8\u8ba4\u5305\u542b\u4e86TypeScript\u3002 \u5982\u679c\u4f60\u7684Visual Studio\u8fd8\u6ca1\u6709\u5b89\u88c5TypeScript\uff0c\u4f60\u53ef\u4ee5 \u4e0b\u8f7d \u5b83\u3002 \u9488\u5bf9\u4f7f\u7528npm\u7684\u7528\u6237\uff1a > npm install -g typescript \u6784\u5efa\u4f60\u7684\u7b2c\u4e00\u4e2aTypeScript\u6587\u4ef6 \u00b6 \u5728\u7f16\u8f91\u5668\uff0c\u5c06\u4e0b\u9762\u7684\u4ee3\u7801\u8f93\u5165\u5230 greeter.ts \u6587\u4ef6\u91cc\uff1a function greeter ( person ) { return \"Hello, \" + person ; } let user = \"Jane User\" ; document . body . innerHTML = greeter ( user ); \u7f16\u8bd1\u4ee3\u7801 \u00b6 \u6211\u4eec\u4f7f\u7528\u4e86 .ts \u6269\u5c55\u540d\uff0c\u4f46\u662f\u8fd9\u6bb5\u4ee3\u7801\u4ec5\u4ec5\u662fJavaScript\u800c\u5df2\u3002 \u4f60\u53ef\u4ee5\u76f4\u63a5\u4ece\u73b0\u6709\u7684JavaScript\u5e94\u7528\u91cc\u590d\u5236/\u7c98\u8d34\u8fd9\u6bb5\u4ee3\u7801\u3002 \u5728\u547d\u4ee4\u884c\u4e0a\uff0c\u8fd0\u884cTypeScript\u7f16\u8bd1\u5668\uff1a tsc greeter.ts \u8f93\u51fa\u7ed3\u679c\u4e3a\u4e00\u4e2a greeter.js \u6587\u4ef6\uff0c\u5b83\u5305\u542b\u4e86\u548c\u8f93\u5165\u6587\u4ef6\u4e2d\u76f8\u540c\u7684JavsScript\u4ee3\u7801\u3002 \u4e00\u5207\u51c6\u5907\u5c31\u7eea\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd0\u884c\u8fd9\u4e2a\u4f7f\u7528TypeScript\u5199\u7684JavaScript\u5e94\u7528\u4e86\uff01 \u63a5\u4e0b\u6765\u8ba9\u6211\u4eec\u770b\u770bTypeScript\u5de5\u5177\u5e26\u6765\u7684\u9ad8\u7ea7\u529f\u80fd\u3002 \u7ed9 person \u51fd\u6570\u7684\u53c2\u6570\u6dfb\u52a0 : string \u7c7b\u578b\u6ce8\u89e3\uff0c\u5982\u4e0b\uff1a function greeter(person: string) { return \"Hello, \" + person; } let user = \"Jane User\"; document.body.innerHTML = greeter(user); \u7c7b\u578b\u6ce8\u89e3 \u00b6 TypeScript\u91cc\u7684\u7c7b\u578b\u6ce8\u89e3\u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u7684\u4e3a\u51fd\u6570\u6216\u53d8\u91cf\u6dfb\u52a0\u7ea6\u675f\u7684\u65b9\u5f0f\u3002 \u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\uff0c\u6211\u4eec\u5e0c\u671b greeter \u51fd\u6570\u63a5\u6536\u4e00\u4e2a\u5b57\u7b26\u4e32\u53c2\u6570\u3002 \u7136\u540e\u5c1d\u8bd5\u628a greeter \u7684\u8c03\u7528\u6539\u6210\u4f20\u5165\u4e00\u4e2a\u6570\u7ec4\uff1a function greeter(person: string) { return \"Hello, \" + person; } let user = [0, 1, 2]; document.body.innerHTML = greeter(user); \u91cd\u65b0\u7f16\u8bd1\uff0c\u4f60\u4f1a\u770b\u5230\u4ea7\u751f\u4e86\u4e00\u4e2a\u9519\u8bef\u3002 greeter.ts(7,26): error TS2345: Argument of type 'number[]' is not assignable to parameter of type 'string'. \u7c7b\u4f3c\u5730\uff0c\u5c1d\u8bd5\u5220\u9664 greeter \u8c03\u7528\u7684\u6240\u6709\u53c2\u6570\u3002 TypeScript\u4f1a\u544a\u8bc9\u4f60\u4f7f\u7528\u4e86\u975e\u671f\u671b\u4e2a\u6570\u7684\u53c2\u6570\u8c03\u7528\u4e86\u8fd9\u4e2a\u51fd\u6570\u3002 \u5728\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e2d\uff0cTypeScript\u63d0\u4f9b\u4e86\u9759\u6001\u7684\u4ee3\u7801\u5206\u6790\uff0c\u5b83\u53ef\u4ee5\u5206\u6790\u4ee3\u7801\u7ed3\u6784\u548c\u63d0\u4f9b\u7684\u7c7b\u578b\u6ce8\u89e3\u3002 \u8981\u6ce8\u610f\u7684\u662f\u5c3d\u7ba1\u6709\u9519\u8bef\uff0c greeter.js \u6587\u4ef6\u8fd8\u662f\u88ab\u521b\u5efa\u4e86\u3002 \u5c31\u7b97\u4f60\u7684\u4ee3\u7801\u91cc\u6709\u9519\u8bef\uff0c\u4f60\u4ecd\u7136\u53ef\u4ee5\u4f7f\u7528TypeScript\u3002\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cTypeScript\u4f1a\u8b66\u544a\u4f60\u4ee3\u7801\u53ef\u80fd\u4e0d\u4f1a\u6309\u9884\u671f\u6267\u884c\u3002 \u63a5\u53e3 \u00b6 \u8ba9\u6211\u4eec\u5f00\u53d1\u8fd9\u4e2a\u793a\u4f8b\u5e94\u7528\u3002\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u63a5\u53e3\u6765\u63cf\u8ff0\u4e00\u4e2a\u62e5\u6709 firstName \u548c lastName \u5b57\u6bb5\u7684\u5bf9\u8c61\u3002 \u5728TypeScript\u91cc\uff0c\u53ea\u5728\u4e24\u4e2a\u7c7b\u578b\u5185\u90e8\u7684\u7ed3\u6784\u517c\u5bb9\u90a3\u4e48\u8fd9\u4e24\u4e2a\u7c7b\u578b\u5c31\u662f\u517c\u5bb9\u7684\u3002 \u8fd9\u5c31\u5141\u8bb8\u6211\u4eec\u5728\u5b9e\u73b0\u63a5\u53e3\u65f6\u5019\u53ea\u8981\u4fdd\u8bc1\u5305\u542b\u4e86\u63a5\u53e3\u8981\u6c42\u7684\u7ed3\u6784\u5c31\u53ef\u4ee5\uff0c\u800c\u4e0d\u5fc5\u660e\u786e\u5730\u4f7f\u7528 implements \u8bed\u53e5\u3002 interface Person { firstName: string; lastName: string; } function greeter(person: Person) { return \"Hello, \" + person.firstName + \" \" + person.lastName; } let user = { firstName: \"Jane\", lastName: \"User\" }; document.body.innerHTML = greeter(user); \u7c7b \u00b6 \u6700\u540e\uff0c\u8ba9\u6211\u4eec\u4f7f\u7528\u7c7b\u6765\u6539\u5199\u8fd9\u4e2a\u4f8b\u5b50\u3002 TypeScript\u652f\u6301JavaScript\u7684\u65b0\u7279\u6027\uff0c\u6bd4\u5982\u652f\u6301\u57fa\u4e8e\u7c7b\u7684\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u3002 \u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a Student \u7c7b\uff0c\u5b83\u5e26\u6709\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u548c\u4e00\u4e9b\u516c\u5171\u5b57\u6bb5\u3002 \u6ce8\u610f\u7c7b\u548c\u63a5\u53e3\u53ef\u4ee5\u4e00\u8d77\u5171\u4f5c\uff0c\u7a0b\u5e8f\u5458\u53ef\u4ee5\u81ea\u884c\u51b3\u5b9a\u62bd\u8c61\u7684\u7ea7\u522b\u3002 \u8fd8\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\u4e0a\u4f7f\u7528 public \u7b49\u540c\u4e8e\u521b\u5efa\u4e86\u540c\u540d\u7684\u6210\u5458\u53d8\u91cf\u3002 class Student { fullName: string; constructor(public firstName, public middleInitial, public lastName) { this.fullName = firstName + \" \" + middleInitial + \" \" + lastName; } } interface Person { firstName: string; lastName: string; } function greeter(person : Person) { return \"Hello, \" + person.firstName + \" \" + person.lastName; } let user = new Student(\"Jane\", \"M.\", \"User\"); document.body.innerHTML = greeter(user); \u91cd\u65b0\u8fd0\u884c tsc greeter.ts \uff0c\u4f60\u4f1a\u770b\u5230\u751f\u6210\u7684JavaScript\u4ee3\u7801\u548c\u539f\u5148\u7684\u4e00\u6837\u3002 TypeScript\u91cc\u7684\u7c7b\u53ea\u662fJavaScript\u91cc\u5e38\u7528\u7684\u57fa\u4e8e\u539f\u578b\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u7b80\u5199\u3002 \u8fd0\u884cTypeScript Web\u5e94\u7528 \u00b6 \u5728 greeter.html \u91cc\u8f93\u5165\u5982\u4e0b\u5185\u5bb9\uff1a <!DOCTYPE html> <html> <head><title>TypeScript Greeter</title></head> <body> <script src=\"greeter.js\"></script> </body> </html> \u5728\u6d4f\u89c8\u5668\u91cc\u6253\u5f00 greeter.html \u8fd0\u884c\u8fd9\u4e2a\u5e94\u7528\uff01 \u53ef\u9009\u5730\uff1a\u5728Visual Studio\u91cc\u6253\u5f00 greeter.ts \u6216\u8005\u628a\u4ee3\u7801\u590d\u5236\u5230TypeScript playground\u3002 \u5c06\u9f20\u6807\u60ac\u505c\u5728\u6807\u8bc6\u7b26\u4e0a\u67e5\u770b\u5b83\u4eec\u7684\u7c7b\u578b\u3002 \u6ce8\u610f\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u5b83\u4eec\u7684\u7c7b\u578b\u53ef\u4ee5\u88ab\u81ea\u52a8\u5730\u63a8\u65ad\u51fa\u6765\u3002 \u91cd\u65b0\u8f93\u5165\u4e00\u4e0b\u6700\u540e\u4e00\u884c\u4ee3\u7801\uff0c\u770b\u4e00\u4e0b\u81ea\u52a8\u8865\u5168\u5217\u8868\u548c\u53c2\u6570\u5217\u8868\uff0c\u5b83\u4eec\u4f1a\u6839\u636eDOM\u5143\u7d20\u7c7b\u578b\u800c\u53d8\u5316\u3002 \u5c06\u5149\u6807\u653e\u5728 greeter \u51fd\u6570\u4e0a\uff0c\u70b9\u51fbF12\u53ef\u4ee5\u8ddf\u8e2a\u5230\u5b83\u7684\u5b9a\u4e49\u3002 \u8fd8\u6709\u4e00\u70b9\uff0c\u4f60\u53ef\u4ee5\u53f3\u952e\u70b9\u51fb\u6807\u8bc6\uff0c\u4f7f\u7528\u91cd\u6784\u529f\u80fd\u6765\u91cd\u547d\u540d\u3002 \u8fd9\u4e9b\u7c7b\u578b\u4fe1\u606f\u4ee5\u53ca\u5de5\u5177\u53ef\u4ee5\u5f88\u597d\u7684\u548cJavaScript\u4e00\u8d77\u5de5\u4f5c\u3002 \u66f4\u591a\u7684TypeScript\u529f\u80fd\u6f14\u793a\uff0c\u8bf7\u67e5\u770b\u672c\u7f51\u7ad9\u7684 \u8d77\u6b65 \u90e8\u5206\u3002","title":"01-\u4e0a\u624bTypeScript.md"},{"location":"typescript/01-%E4%B8%8A%E6%89%8BTypeScript/#5typescript","text":"","title":"5\u5206\u949f\u4e0a\u624bTypeScript"},{"location":"typescript/01-%E4%B8%8A%E6%89%8BTypeScript/#typescript","text":"\u6709\u4e24\u79cd\u4e3b\u8981\u7684\u65b9\u5f0f\u6765\u83b7\u53d6TypeScript\u5de5\u5177\uff1a \u901a\u8fc7npm\uff08Node.js\u5305\u7ba1\u7406\u5668\uff09 \u5b89\u88c5Visual Studio\u7684TypeScript\u63d2\u4ef6 Visual Studio 2017\u548cVisual Studio 2015 Update 3\u9ed8\u8ba4\u5305\u542b\u4e86TypeScript\u3002 \u5982\u679c\u4f60\u7684Visual Studio\u8fd8\u6ca1\u6709\u5b89\u88c5TypeScript\uff0c\u4f60\u53ef\u4ee5 \u4e0b\u8f7d \u5b83\u3002 \u9488\u5bf9\u4f7f\u7528npm\u7684\u7528\u6237\uff1a > npm install -g typescript","title":"\u5b89\u88c5TypeScript"},{"location":"typescript/01-%E4%B8%8A%E6%89%8BTypeScript/#typescript_1","text":"\u5728\u7f16\u8f91\u5668\uff0c\u5c06\u4e0b\u9762\u7684\u4ee3\u7801\u8f93\u5165\u5230 greeter.ts \u6587\u4ef6\u91cc\uff1a function greeter ( person ) { return \"Hello, \" + person ; } let user = \"Jane User\" ; document . body . innerHTML = greeter ( user );","title":"\u6784\u5efa\u4f60\u7684\u7b2c\u4e00\u4e2aTypeScript\u6587\u4ef6"},{"location":"typescript/01-%E4%B8%8A%E6%89%8BTypeScript/#_1","text":"\u6211\u4eec\u4f7f\u7528\u4e86 .ts \u6269\u5c55\u540d\uff0c\u4f46\u662f\u8fd9\u6bb5\u4ee3\u7801\u4ec5\u4ec5\u662fJavaScript\u800c\u5df2\u3002 \u4f60\u53ef\u4ee5\u76f4\u63a5\u4ece\u73b0\u6709\u7684JavaScript\u5e94\u7528\u91cc\u590d\u5236/\u7c98\u8d34\u8fd9\u6bb5\u4ee3\u7801\u3002 \u5728\u547d\u4ee4\u884c\u4e0a\uff0c\u8fd0\u884cTypeScript\u7f16\u8bd1\u5668\uff1a tsc greeter.ts \u8f93\u51fa\u7ed3\u679c\u4e3a\u4e00\u4e2a greeter.js \u6587\u4ef6\uff0c\u5b83\u5305\u542b\u4e86\u548c\u8f93\u5165\u6587\u4ef6\u4e2d\u76f8\u540c\u7684JavsScript\u4ee3\u7801\u3002 \u4e00\u5207\u51c6\u5907\u5c31\u7eea\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd0\u884c\u8fd9\u4e2a\u4f7f\u7528TypeScript\u5199\u7684JavaScript\u5e94\u7528\u4e86\uff01 \u63a5\u4e0b\u6765\u8ba9\u6211\u4eec\u770b\u770bTypeScript\u5de5\u5177\u5e26\u6765\u7684\u9ad8\u7ea7\u529f\u80fd\u3002 \u7ed9 person \u51fd\u6570\u7684\u53c2\u6570\u6dfb\u52a0 : string \u7c7b\u578b\u6ce8\u89e3\uff0c\u5982\u4e0b\uff1a function greeter(person: string) { return \"Hello, \" + person; } let user = \"Jane User\"; document.body.innerHTML = greeter(user);","title":"\u7f16\u8bd1\u4ee3\u7801"},{"location":"typescript/01-%E4%B8%8A%E6%89%8BTypeScript/#_2","text":"TypeScript\u91cc\u7684\u7c7b\u578b\u6ce8\u89e3\u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u7684\u4e3a\u51fd\u6570\u6216\u53d8\u91cf\u6dfb\u52a0\u7ea6\u675f\u7684\u65b9\u5f0f\u3002 \u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\uff0c\u6211\u4eec\u5e0c\u671b greeter \u51fd\u6570\u63a5\u6536\u4e00\u4e2a\u5b57\u7b26\u4e32\u53c2\u6570\u3002 \u7136\u540e\u5c1d\u8bd5\u628a greeter \u7684\u8c03\u7528\u6539\u6210\u4f20\u5165\u4e00\u4e2a\u6570\u7ec4\uff1a function greeter(person: string) { return \"Hello, \" + person; } let user = [0, 1, 2]; document.body.innerHTML = greeter(user); \u91cd\u65b0\u7f16\u8bd1\uff0c\u4f60\u4f1a\u770b\u5230\u4ea7\u751f\u4e86\u4e00\u4e2a\u9519\u8bef\u3002 greeter.ts(7,26): error TS2345: Argument of type 'number[]' is not assignable to parameter of type 'string'. \u7c7b\u4f3c\u5730\uff0c\u5c1d\u8bd5\u5220\u9664 greeter \u8c03\u7528\u7684\u6240\u6709\u53c2\u6570\u3002 TypeScript\u4f1a\u544a\u8bc9\u4f60\u4f7f\u7528\u4e86\u975e\u671f\u671b\u4e2a\u6570\u7684\u53c2\u6570\u8c03\u7528\u4e86\u8fd9\u4e2a\u51fd\u6570\u3002 \u5728\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e2d\uff0cTypeScript\u63d0\u4f9b\u4e86\u9759\u6001\u7684\u4ee3\u7801\u5206\u6790\uff0c\u5b83\u53ef\u4ee5\u5206\u6790\u4ee3\u7801\u7ed3\u6784\u548c\u63d0\u4f9b\u7684\u7c7b\u578b\u6ce8\u89e3\u3002 \u8981\u6ce8\u610f\u7684\u662f\u5c3d\u7ba1\u6709\u9519\u8bef\uff0c greeter.js \u6587\u4ef6\u8fd8\u662f\u88ab\u521b\u5efa\u4e86\u3002 \u5c31\u7b97\u4f60\u7684\u4ee3\u7801\u91cc\u6709\u9519\u8bef\uff0c\u4f60\u4ecd\u7136\u53ef\u4ee5\u4f7f\u7528TypeScript\u3002\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cTypeScript\u4f1a\u8b66\u544a\u4f60\u4ee3\u7801\u53ef\u80fd\u4e0d\u4f1a\u6309\u9884\u671f\u6267\u884c\u3002","title":"\u7c7b\u578b\u6ce8\u89e3"},{"location":"typescript/01-%E4%B8%8A%E6%89%8BTypeScript/#_3","text":"\u8ba9\u6211\u4eec\u5f00\u53d1\u8fd9\u4e2a\u793a\u4f8b\u5e94\u7528\u3002\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u63a5\u53e3\u6765\u63cf\u8ff0\u4e00\u4e2a\u62e5\u6709 firstName \u548c lastName \u5b57\u6bb5\u7684\u5bf9\u8c61\u3002 \u5728TypeScript\u91cc\uff0c\u53ea\u5728\u4e24\u4e2a\u7c7b\u578b\u5185\u90e8\u7684\u7ed3\u6784\u517c\u5bb9\u90a3\u4e48\u8fd9\u4e24\u4e2a\u7c7b\u578b\u5c31\u662f\u517c\u5bb9\u7684\u3002 \u8fd9\u5c31\u5141\u8bb8\u6211\u4eec\u5728\u5b9e\u73b0\u63a5\u53e3\u65f6\u5019\u53ea\u8981\u4fdd\u8bc1\u5305\u542b\u4e86\u63a5\u53e3\u8981\u6c42\u7684\u7ed3\u6784\u5c31\u53ef\u4ee5\uff0c\u800c\u4e0d\u5fc5\u660e\u786e\u5730\u4f7f\u7528 implements \u8bed\u53e5\u3002 interface Person { firstName: string; lastName: string; } function greeter(person: Person) { return \"Hello, \" + person.firstName + \" \" + person.lastName; } let user = { firstName: \"Jane\", lastName: \"User\" }; document.body.innerHTML = greeter(user);","title":"\u63a5\u53e3"},{"location":"typescript/01-%E4%B8%8A%E6%89%8BTypeScript/#_4","text":"\u6700\u540e\uff0c\u8ba9\u6211\u4eec\u4f7f\u7528\u7c7b\u6765\u6539\u5199\u8fd9\u4e2a\u4f8b\u5b50\u3002 TypeScript\u652f\u6301JavaScript\u7684\u65b0\u7279\u6027\uff0c\u6bd4\u5982\u652f\u6301\u57fa\u4e8e\u7c7b\u7684\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u3002 \u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a Student \u7c7b\uff0c\u5b83\u5e26\u6709\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u548c\u4e00\u4e9b\u516c\u5171\u5b57\u6bb5\u3002 \u6ce8\u610f\u7c7b\u548c\u63a5\u53e3\u53ef\u4ee5\u4e00\u8d77\u5171\u4f5c\uff0c\u7a0b\u5e8f\u5458\u53ef\u4ee5\u81ea\u884c\u51b3\u5b9a\u62bd\u8c61\u7684\u7ea7\u522b\u3002 \u8fd8\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\u4e0a\u4f7f\u7528 public \u7b49\u540c\u4e8e\u521b\u5efa\u4e86\u540c\u540d\u7684\u6210\u5458\u53d8\u91cf\u3002 class Student { fullName: string; constructor(public firstName, public middleInitial, public lastName) { this.fullName = firstName + \" \" + middleInitial + \" \" + lastName; } } interface Person { firstName: string; lastName: string; } function greeter(person : Person) { return \"Hello, \" + person.firstName + \" \" + person.lastName; } let user = new Student(\"Jane\", \"M.\", \"User\"); document.body.innerHTML = greeter(user); \u91cd\u65b0\u8fd0\u884c tsc greeter.ts \uff0c\u4f60\u4f1a\u770b\u5230\u751f\u6210\u7684JavaScript\u4ee3\u7801\u548c\u539f\u5148\u7684\u4e00\u6837\u3002 TypeScript\u91cc\u7684\u7c7b\u53ea\u662fJavaScript\u91cc\u5e38\u7528\u7684\u57fa\u4e8e\u539f\u578b\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u7b80\u5199\u3002","title":"\u7c7b"},{"location":"typescript/01-%E4%B8%8A%E6%89%8BTypeScript/#typescript-web","text":"\u5728 greeter.html \u91cc\u8f93\u5165\u5982\u4e0b\u5185\u5bb9\uff1a <!DOCTYPE html> <html> <head><title>TypeScript Greeter</title></head> <body> <script src=\"greeter.js\"></script> </body> </html> \u5728\u6d4f\u89c8\u5668\u91cc\u6253\u5f00 greeter.html \u8fd0\u884c\u8fd9\u4e2a\u5e94\u7528\uff01 \u53ef\u9009\u5730\uff1a\u5728Visual Studio\u91cc\u6253\u5f00 greeter.ts \u6216\u8005\u628a\u4ee3\u7801\u590d\u5236\u5230TypeScript playground\u3002 \u5c06\u9f20\u6807\u60ac\u505c\u5728\u6807\u8bc6\u7b26\u4e0a\u67e5\u770b\u5b83\u4eec\u7684\u7c7b\u578b\u3002 \u6ce8\u610f\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u5b83\u4eec\u7684\u7c7b\u578b\u53ef\u4ee5\u88ab\u81ea\u52a8\u5730\u63a8\u65ad\u51fa\u6765\u3002 \u91cd\u65b0\u8f93\u5165\u4e00\u4e0b\u6700\u540e\u4e00\u884c\u4ee3\u7801\uff0c\u770b\u4e00\u4e0b\u81ea\u52a8\u8865\u5168\u5217\u8868\u548c\u53c2\u6570\u5217\u8868\uff0c\u5b83\u4eec\u4f1a\u6839\u636eDOM\u5143\u7d20\u7c7b\u578b\u800c\u53d8\u5316\u3002 \u5c06\u5149\u6807\u653e\u5728 greeter \u51fd\u6570\u4e0a\uff0c\u70b9\u51fbF12\u53ef\u4ee5\u8ddf\u8e2a\u5230\u5b83\u7684\u5b9a\u4e49\u3002 \u8fd8\u6709\u4e00\u70b9\uff0c\u4f60\u53ef\u4ee5\u53f3\u952e\u70b9\u51fb\u6807\u8bc6\uff0c\u4f7f\u7528\u91cd\u6784\u529f\u80fd\u6765\u91cd\u547d\u540d\u3002 \u8fd9\u4e9b\u7c7b\u578b\u4fe1\u606f\u4ee5\u53ca\u5de5\u5177\u53ef\u4ee5\u5f88\u597d\u7684\u548cJavaScript\u4e00\u8d77\u5de5\u4f5c\u3002 \u66f4\u591a\u7684TypeScript\u529f\u80fd\u6f14\u793a\uff0c\u8bf7\u67e5\u770b\u672c\u7f51\u7ad9\u7684 \u8d77\u6b65 \u90e8\u5206\u3002","title":"\u8fd0\u884cTypeScript Web\u5e94\u7528"},{"location":"typescript/01-%E7%AE%80%E4%BB%8B/","text":"\u4ec0\u4e48\u662f TypeScript \u00b6 TS \u662f JavaScript \u7684\u4e00\u4e2a\u8d85\u96c6\uff0c\u4e3b\u8981\u63d0\u4f9b\u4e86**\u7c7b\u578b\u7cfb\u7edf**\u548c**\u5bf9 ES6 \u7684\u652f\u6301**\u3002 \u4e3a\u4ec0\u4e48\u9009\u62e9 TypeScript \u00b6 TypeScript \u589e\u52a0\u4e86\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u548c\u53ef\u7ef4\u62a4\u6027 \u00b6 \u7c7b\u578b\u7cfb\u7edf\u5b9e\u9645\u4e0a\u662f\u6700\u597d\u7684\u6587\u6863\uff0c\u5927\u90e8\u5206\u7684\u51fd\u6570\u770b\u770b\u7c7b\u578b\u7684\u5b9a\u4e49\u5c31\u53ef\u4ee5\u77e5\u9053\u5982\u4f55\u4f7f\u7528\u4e86 \u5728\u7f16\u8bd1\u9636\u6bb5\u5c31\u53d1\u73b0\u5927\u90e8\u5206\u9519\u8bef\uff0c\u8fd9\u603b\u6bd4\u5728\u8fd0\u884c\u65f6\u5019\u51fa\u9519\u597d \u589e\u5f3a\u4e86\u7f16\u8f91\u5668\u548c IDE \u7684\u529f\u80fd\uff0c\u5305\u62ec\u4ee3\u7801\u8865\u5168\u3001\u63a5\u53e3\u63d0\u793a\u3001\u8df3\u8f6c\u5230\u5b9a\u4e49\u3001\u91cd\u6784\u7b49 TypeScript \u975e\u5e38\u5305\u5bb9 \u00b6 TypeScript \u662f JavaScript \u7684\u8d85\u96c6\uff0c .js \u6587\u4ef6\u53ef\u4ee5\u76f4\u63a5\u91cd\u547d\u540d\u4e3a .ts \u5373\u53ef \u5373\u4f7f\u4e0d\u663e\u5f0f\u7684\u5b9a\u4e49\u7c7b\u578b\uff0c\u4e5f\u80fd\u591f\u81ea\u52a8\u505a\u51fa \u7c7b\u578b\u63a8\u8bba \u53ef\u4ee5\u5b9a\u4e49\u4ece\u7b80\u5355\u5230\u590d\u6742\u7684\u51e0\u4e4e\u4e00\u5207\u7c7b\u578b \u5373\u4f7f TypeScript \u7f16\u8bd1\u62a5\u9519\uff0c\u4e5f\u53ef\u4ee5\u751f\u6210 JavaScript \u6587\u4ef6 \u517c\u5bb9\u7b2c\u4e09\u65b9\u5e93\uff0c\u5373\u4f7f\u7b2c\u4e09\u65b9\u5e93\u4e0d\u662f\u7528 TypeScript \u5199\u7684\uff0c\u4e5f\u53ef\u4ee5\u7f16\u5199\u5355\u72ec\u7684\u7c7b\u578b\u6587\u4ef6\u4f9b TypeScript \u8bfb\u53d6 TypeScript \u7684\u7f3a\u70b9 \u00b6 \u4efb\u4f55\u4e8b\u7269\u90fd\u662f\u6709\u4e24\u9762\u6027\u7684\uff0c\u6211\u8ba4\u4e3a TypeScript \u7684\u5f0a\u7aef\u5728\u4e8e\uff1a \u6709\u4e00\u5b9a\u7684\u5b66\u4e60\u6210\u672c\uff0c\u9700\u8981\u7406\u89e3\u63a5\u53e3\uff08Interfaces\uff09\u3001\u6cdb\u578b\uff08Generics\uff09\u3001\u7c7b\uff08Classes\uff09\u3001\u679a\u4e3e\u7c7b\u578b\uff08Enums\uff09\u7b49\u524d\u7aef\u5de5\u7a0b\u5e08\u53ef\u80fd\u4e0d\u662f\u5f88\u719f\u6089\u7684\u6982\u5ff5 \u77ed\u671f\u53ef\u80fd\u4f1a\u589e\u52a0\u4e00\u4e9b\u5f00\u53d1\u6210\u672c\uff0c\u6bd5\u7adf\u8981\u591a\u5199\u4e00\u4e9b\u7c7b\u578b\u7684\u5b9a\u4e49\uff0c\u4e0d\u8fc7\u5bf9\u4e8e\u4e00\u4e2a\u9700\u8981\u957f\u671f\u7ef4\u62a4\u7684\u9879\u76ee\uff0cTypeScript \u80fd\u591f\u51cf\u5c11\u5176\u7ef4\u62a4\u6210\u672c \u96c6\u6210\u5230\u6784\u5efa\u6d41\u7a0b\u9700\u8981\u4e00\u4e9b\u5de5\u4f5c\u91cf \u53ef\u80fd\u548c\u4e00\u4e9b\u5e93\u7ed3\u5408\u7684\u4e0d\u662f\u5f88\u5b8c\u7f8e \u5b89\u88c5 TypeScript \u00b6 TypeScript \u7684\u547d\u4ee4\u884c\u5de5\u5177\u5b89\u88c5\u65b9\u6cd5\u5982\u4e0b\uff1a npm install -g typescript tsc hello.ts \u6211\u4eec\u7ea6\u5b9a\u4f7f\u7528 TypeScript \u7f16\u5199\u7684\u6587\u4ef6\u4ee5 .ts \u4e3a\u540e\u7f00\uff0c\u7528 TypeScript \u7f16\u5199 React \u65f6\uff0c\u4ee5 .tsx \u4e3a\u540e\u7f00\u3002 TypeScript \u6700\u5927\u7684\u4f18\u52bf\u4fbf\u662f\u589e\u5f3a\u4e86\u7f16\u8f91\u5668\u548c IDE \u7684\u529f\u80fd\uff0c\u5305\u62ec\u4ee3\u7801\u8865\u5168\u3001\u63a5\u53e3\u63d0\u793a\u3001\u8df3\u8f6c\u5230\u5b9a\u4e49\u3001\u91cd\u6784\u7b49\u3002\u4f7f\u7528 VScode \u7f16\u8f91\u3002 \u5165\u95e8 \u00b6 \u6b63\u786e\u7f16\u8bd1\u6848\u4f8b \u00b6 function sayHello ( person : string ) { return 'Hello, ' + person ; } let user = 'Tom' ; console . log ( sayHello ( user )); \u6267\u884c tsc hello.ts \u8fd9\u65f6\u5019\u4f1a\u751f\u6210\u4e00\u4e2a\u7f16\u8bd1\u597d\u7684\u6587\u4ef6 hello.js \uff1a function sayHello ( person ) { return 'Hello, ' + person ; } var user = 'Tom' ; console . log ( sayHello ( user )); TypeScript \u4e2d\uff0c\u4f7f\u7528 : \u6307\u5b9a\u53d8\u91cf\u7684\u7c7b\u578b\uff0c : \u7684\u524d\u540e\u6709\u6ca1\u6709\u7a7a\u683c\u90fd\u53ef\u4ee5\u3002 \u4e0a\u8ff0\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u7528 : \u6307\u5b9a person \u53c2\u6570\u7c7b\u578b\u4e3a string \u3002 \u4f46\u662f\u7f16\u8bd1\u4e3a js \u4e4b\u540e\uff0c\u5e76\u6ca1\u6709\u4ec0\u4e48\u68c0\u67e5\u7684\u4ee3\u7801\u88ab\u63d2\u5165\u8fdb\u6765\u3002 TypeScript \u53ea\u4f1a\u8fdb\u884c\u9759\u6001\u68c0\u67e5\uff0c\u5982\u679c\u53d1\u73b0\u6709\u9519\u8bef\uff0c\u7f16\u8bd1\u7684\u65f6\u5019\u5c31\u4f1a\u62a5\u9519\u3002 \u9519\u8bef\u7f16\u8bd1\u6848\u4f8b \u00b6 \u4e0b\u9762\u5c1d\u8bd5\u628a\u8fd9\u6bb5\u4ee3\u7801\u7f16\u8bd1\u4e00\u4e0b\uff1a function sayHello ( person : string ) { return 'Hello, ' + person ; } let user = [ 0 , 1 , 2 ]; console . log ( sayHello ( user )); \u7f16\u8f91\u5668\u4e2d\u4f1a\u63d0\u793a\u9519\u8bef\uff0c\u7f16\u8bd1\u7684\u65f6\u5019\u4e5f\u4f1a\u51fa\u9519\uff1a index.ts ( 6 ,22 ) : error TS2345: Argument of type 'number[]' is not assignable to parameter of type 'string' . \u4f46\u662f\u8fd8\u662f\u751f\u6210\u4e86 js \u6587\u4ef6\uff1a function sayHello ( person ) { return 'Hello, ' + person ; } var user = [ 0 , 1 , 2 ]; console . log ( sayHello ( user )); TypeScript \u7f16\u8bd1\u7684\u65f6\u5019\u5373\u4f7f\u62a5\u9519\u4e86\uff0c\u8fd8\u662f\u4f1a\u751f\u6210\u7f16\u8bd1\u7ed3\u679c \uff0c\u6211\u4eec\u4ecd\u7136\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u7f16\u8bd1\u4e4b\u540e\u7684\u6587\u4ef6\u3002 \u5982\u679c\u8981\u5728\u62a5\u9519\u7684\u65f6\u5019\u7ec8\u6b62 js \u6587\u4ef6\u7684\u751f\u6210\uff0c\u53ef\u4ee5\u5728 tsconfig.json \u4e2d\u914d\u7f6e noEmitOnError \u5373\u53ef\u3002 \u7b14\u8bb0 \u00b6 \u5373\u4f7fTS\u6587\u4ef6\u7c7b\u578b\u9519\u8bef\uff0c\u4e5f\u53ef\u4ee5\u7f16\u8bd1\u51faJS\u6587\u4ef6\uff0c\u53ef\u4ee5\u5728JSON\u4e2d\u914d\u7f6e\u5173\u95ed\u3002 \u65b0\u6982\u5ff5\uff1a\u63a5\u53e3\uff08Interfaces\uff09\u3001\u6cdb\u578b\uff08Generics\uff09\u3001\u7c7b\uff08Classes\uff09\u3001\u679a\u4e3e\u7c7b\u578b\uff08Enums\uff09","title":"01-\u7b80\u4ecb.md"},{"location":"typescript/01-%E7%AE%80%E4%BB%8B/#typescript","text":"TS \u662f JavaScript \u7684\u4e00\u4e2a\u8d85\u96c6\uff0c\u4e3b\u8981\u63d0\u4f9b\u4e86**\u7c7b\u578b\u7cfb\u7edf**\u548c**\u5bf9 ES6 \u7684\u652f\u6301**\u3002","title":"\u4ec0\u4e48\u662f TypeScript"},{"location":"typescript/01-%E7%AE%80%E4%BB%8B/#typescript_1","text":"","title":"\u4e3a\u4ec0\u4e48\u9009\u62e9 TypeScript"},{"location":"typescript/01-%E7%AE%80%E4%BB%8B/#typescript_2","text":"\u7c7b\u578b\u7cfb\u7edf\u5b9e\u9645\u4e0a\u662f\u6700\u597d\u7684\u6587\u6863\uff0c\u5927\u90e8\u5206\u7684\u51fd\u6570\u770b\u770b\u7c7b\u578b\u7684\u5b9a\u4e49\u5c31\u53ef\u4ee5\u77e5\u9053\u5982\u4f55\u4f7f\u7528\u4e86 \u5728\u7f16\u8bd1\u9636\u6bb5\u5c31\u53d1\u73b0\u5927\u90e8\u5206\u9519\u8bef\uff0c\u8fd9\u603b\u6bd4\u5728\u8fd0\u884c\u65f6\u5019\u51fa\u9519\u597d \u589e\u5f3a\u4e86\u7f16\u8f91\u5668\u548c IDE \u7684\u529f\u80fd\uff0c\u5305\u62ec\u4ee3\u7801\u8865\u5168\u3001\u63a5\u53e3\u63d0\u793a\u3001\u8df3\u8f6c\u5230\u5b9a\u4e49\u3001\u91cd\u6784\u7b49","title":"TypeScript \u589e\u52a0\u4e86\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u548c\u53ef\u7ef4\u62a4\u6027"},{"location":"typescript/01-%E7%AE%80%E4%BB%8B/#typescript_3","text":"TypeScript \u662f JavaScript \u7684\u8d85\u96c6\uff0c .js \u6587\u4ef6\u53ef\u4ee5\u76f4\u63a5\u91cd\u547d\u540d\u4e3a .ts \u5373\u53ef \u5373\u4f7f\u4e0d\u663e\u5f0f\u7684\u5b9a\u4e49\u7c7b\u578b\uff0c\u4e5f\u80fd\u591f\u81ea\u52a8\u505a\u51fa \u7c7b\u578b\u63a8\u8bba \u53ef\u4ee5\u5b9a\u4e49\u4ece\u7b80\u5355\u5230\u590d\u6742\u7684\u51e0\u4e4e\u4e00\u5207\u7c7b\u578b \u5373\u4f7f TypeScript \u7f16\u8bd1\u62a5\u9519\uff0c\u4e5f\u53ef\u4ee5\u751f\u6210 JavaScript \u6587\u4ef6 \u517c\u5bb9\u7b2c\u4e09\u65b9\u5e93\uff0c\u5373\u4f7f\u7b2c\u4e09\u65b9\u5e93\u4e0d\u662f\u7528 TypeScript \u5199\u7684\uff0c\u4e5f\u53ef\u4ee5\u7f16\u5199\u5355\u72ec\u7684\u7c7b\u578b\u6587\u4ef6\u4f9b TypeScript \u8bfb\u53d6","title":"TypeScript \u975e\u5e38\u5305\u5bb9"},{"location":"typescript/01-%E7%AE%80%E4%BB%8B/#typescript_4","text":"\u4efb\u4f55\u4e8b\u7269\u90fd\u662f\u6709\u4e24\u9762\u6027\u7684\uff0c\u6211\u8ba4\u4e3a TypeScript \u7684\u5f0a\u7aef\u5728\u4e8e\uff1a \u6709\u4e00\u5b9a\u7684\u5b66\u4e60\u6210\u672c\uff0c\u9700\u8981\u7406\u89e3\u63a5\u53e3\uff08Interfaces\uff09\u3001\u6cdb\u578b\uff08Generics\uff09\u3001\u7c7b\uff08Classes\uff09\u3001\u679a\u4e3e\u7c7b\u578b\uff08Enums\uff09\u7b49\u524d\u7aef\u5de5\u7a0b\u5e08\u53ef\u80fd\u4e0d\u662f\u5f88\u719f\u6089\u7684\u6982\u5ff5 \u77ed\u671f\u53ef\u80fd\u4f1a\u589e\u52a0\u4e00\u4e9b\u5f00\u53d1\u6210\u672c\uff0c\u6bd5\u7adf\u8981\u591a\u5199\u4e00\u4e9b\u7c7b\u578b\u7684\u5b9a\u4e49\uff0c\u4e0d\u8fc7\u5bf9\u4e8e\u4e00\u4e2a\u9700\u8981\u957f\u671f\u7ef4\u62a4\u7684\u9879\u76ee\uff0cTypeScript \u80fd\u591f\u51cf\u5c11\u5176\u7ef4\u62a4\u6210\u672c \u96c6\u6210\u5230\u6784\u5efa\u6d41\u7a0b\u9700\u8981\u4e00\u4e9b\u5de5\u4f5c\u91cf \u53ef\u80fd\u548c\u4e00\u4e9b\u5e93\u7ed3\u5408\u7684\u4e0d\u662f\u5f88\u5b8c\u7f8e","title":"TypeScript \u7684\u7f3a\u70b9"},{"location":"typescript/01-%E7%AE%80%E4%BB%8B/#typescript_5","text":"TypeScript \u7684\u547d\u4ee4\u884c\u5de5\u5177\u5b89\u88c5\u65b9\u6cd5\u5982\u4e0b\uff1a npm install -g typescript tsc hello.ts \u6211\u4eec\u7ea6\u5b9a\u4f7f\u7528 TypeScript \u7f16\u5199\u7684\u6587\u4ef6\u4ee5 .ts \u4e3a\u540e\u7f00\uff0c\u7528 TypeScript \u7f16\u5199 React \u65f6\uff0c\u4ee5 .tsx \u4e3a\u540e\u7f00\u3002 TypeScript \u6700\u5927\u7684\u4f18\u52bf\u4fbf\u662f\u589e\u5f3a\u4e86\u7f16\u8f91\u5668\u548c IDE \u7684\u529f\u80fd\uff0c\u5305\u62ec\u4ee3\u7801\u8865\u5168\u3001\u63a5\u53e3\u63d0\u793a\u3001\u8df3\u8f6c\u5230\u5b9a\u4e49\u3001\u91cd\u6784\u7b49\u3002\u4f7f\u7528 VScode \u7f16\u8f91\u3002","title":"\u5b89\u88c5 TypeScript"},{"location":"typescript/01-%E7%AE%80%E4%BB%8B/#_1","text":"","title":"\u5165\u95e8"},{"location":"typescript/01-%E7%AE%80%E4%BB%8B/#_2","text":"function sayHello ( person : string ) { return 'Hello, ' + person ; } let user = 'Tom' ; console . log ( sayHello ( user )); \u6267\u884c tsc hello.ts \u8fd9\u65f6\u5019\u4f1a\u751f\u6210\u4e00\u4e2a\u7f16\u8bd1\u597d\u7684\u6587\u4ef6 hello.js \uff1a function sayHello ( person ) { return 'Hello, ' + person ; } var user = 'Tom' ; console . log ( sayHello ( user )); TypeScript \u4e2d\uff0c\u4f7f\u7528 : \u6307\u5b9a\u53d8\u91cf\u7684\u7c7b\u578b\uff0c : \u7684\u524d\u540e\u6709\u6ca1\u6709\u7a7a\u683c\u90fd\u53ef\u4ee5\u3002 \u4e0a\u8ff0\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u7528 : \u6307\u5b9a person \u53c2\u6570\u7c7b\u578b\u4e3a string \u3002 \u4f46\u662f\u7f16\u8bd1\u4e3a js \u4e4b\u540e\uff0c\u5e76\u6ca1\u6709\u4ec0\u4e48\u68c0\u67e5\u7684\u4ee3\u7801\u88ab\u63d2\u5165\u8fdb\u6765\u3002 TypeScript \u53ea\u4f1a\u8fdb\u884c\u9759\u6001\u68c0\u67e5\uff0c\u5982\u679c\u53d1\u73b0\u6709\u9519\u8bef\uff0c\u7f16\u8bd1\u7684\u65f6\u5019\u5c31\u4f1a\u62a5\u9519\u3002","title":"\u6b63\u786e\u7f16\u8bd1\u6848\u4f8b"},{"location":"typescript/01-%E7%AE%80%E4%BB%8B/#_3","text":"\u4e0b\u9762\u5c1d\u8bd5\u628a\u8fd9\u6bb5\u4ee3\u7801\u7f16\u8bd1\u4e00\u4e0b\uff1a function sayHello ( person : string ) { return 'Hello, ' + person ; } let user = [ 0 , 1 , 2 ]; console . log ( sayHello ( user )); \u7f16\u8f91\u5668\u4e2d\u4f1a\u63d0\u793a\u9519\u8bef\uff0c\u7f16\u8bd1\u7684\u65f6\u5019\u4e5f\u4f1a\u51fa\u9519\uff1a index.ts ( 6 ,22 ) : error TS2345: Argument of type 'number[]' is not assignable to parameter of type 'string' . \u4f46\u662f\u8fd8\u662f\u751f\u6210\u4e86 js \u6587\u4ef6\uff1a function sayHello ( person ) { return 'Hello, ' + person ; } var user = [ 0 , 1 , 2 ]; console . log ( sayHello ( user )); TypeScript \u7f16\u8bd1\u7684\u65f6\u5019\u5373\u4f7f\u62a5\u9519\u4e86\uff0c\u8fd8\u662f\u4f1a\u751f\u6210\u7f16\u8bd1\u7ed3\u679c \uff0c\u6211\u4eec\u4ecd\u7136\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u7f16\u8bd1\u4e4b\u540e\u7684\u6587\u4ef6\u3002 \u5982\u679c\u8981\u5728\u62a5\u9519\u7684\u65f6\u5019\u7ec8\u6b62 js \u6587\u4ef6\u7684\u751f\u6210\uff0c\u53ef\u4ee5\u5728 tsconfig.json \u4e2d\u914d\u7f6e noEmitOnError \u5373\u53ef\u3002","title":"\u9519\u8bef\u7f16\u8bd1\u6848\u4f8b"},{"location":"typescript/01-%E7%AE%80%E4%BB%8B/#_4","text":"\u5373\u4f7fTS\u6587\u4ef6\u7c7b\u578b\u9519\u8bef\uff0c\u4e5f\u53ef\u4ee5\u7f16\u8bd1\u51faJS\u6587\u4ef6\uff0c\u53ef\u4ee5\u5728JSON\u4e2d\u914d\u7f6e\u5173\u95ed\u3002 \u65b0\u6982\u5ff5\uff1a\u63a5\u53e3\uff08Interfaces\uff09\u3001\u6cdb\u578b\uff08Generics\uff09\u3001\u7c7b\uff08Classes\uff09\u3001\u679a\u4e3e\u7c7b\u578b\uff08Enums\uff09","title":"\u7b14\u8bb0"},{"location":"typescript/02-TS-Gulp/","text":"TS-Gulp \u00b6 \u8fd9\u7bc7\u5feb\u901f\u4e0a\u624b\u6307\u5357\u5c06\u6559\u4f60\u5982\u4f55\u4f7f\u7528 Gulp \u6784\u5efaTypeScript\uff0c\u548c\u5982\u4f55\u5728Gulp\u7ba1\u9053\u91cc\u6dfb\u52a0 Browserify \uff0c uglify \u6216 Watchify \u3002 \u5b83\u8fd8\u5305\u6db5\u4e86 Babel \u7684\u529f\u80fd\uff0c\u901a\u8fc7\u4f7f\u7528 Babelify \u3002 \u8fd9\u91cc\u5047\u8bbe\u4f60\u5df2\u7ecf\u5728\u4f7f\u7528 Node.js \u548c npm \u4e86\u3002 \u521b\u5efa\u7b80\u5355\u5de5\u7a0b \u00b6 \u6211\u4eec\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u65b0\u76ee\u5f55\u3002 \u547d\u540d\u4e3a proj \uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u4f60\u559c\u6b22\u7684\u540d\u5b57\u3002 mkdir proj cd proj \u6211\u4eec\u5c06\u4ee5\u4e0b\u9762\u7684\u7ed3\u6784\u5f00\u59cb\u6211\u4eec\u7684\u5de5\u7a0b\uff1a proj/ \u251c\u2500 src/ \u2514\u2500 dist/ TypeScript\u6587\u4ef6\u653e\u5728 src \u6587\u4ef6\u5939\u4e0b\uff0c\u7ecf\u8fc7TypeScript\u7f16\u8bd1\u5668\u7f16\u8bd1\u751f\u6210\u7684\u76ee\u6807\u6587\u4ef6\u653e\u5728 dist \u76ee\u5f55\u4e0b\u3002 \u4e0b\u9762\u8ba9\u6211\u4eec\u6765\u521b\u5efa\u8fd9\u4e9b\u6587\u4ef6\u5939\uff1a mkdir src mkdir dist \u521d\u59cb\u5316\u5de5\u7a0b \u00b6 \u73b0\u5728\u8ba9\u6211\u4eec\u628a\u8fd9\u4e2a\u6587\u4ef6\u5939\u8f6c\u6362\u6210npm\u5305\uff1a npm init \u4f60\u5c06\u770b\u5230\u6709\u4e00\u4e9b\u63d0\u793a\u64cd\u4f5c\u3002 \u9664\u4e86\u5165\u53e3\u6587\u4ef6\u5916\uff0c\u5176\u4f59\u7684\u90fd\u53ef\u4ee5\u4f7f\u7528\u9ed8\u8ba4\u9879\u3002 \u5165\u53e3\u6587\u4ef6\u4f7f\u7528 ./dist/main.js \u3002 \u4f60\u53ef\u4ee5\u968f\u65f6\u5728 package.json \u6587\u4ef6\u91cc\u66f4\u6539\u751f\u6210\u7684\u914d\u7f6e\u3002 \u5b89\u88c5\u4f9d\u8d56\u9879 \u00b6 \u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 npm install \u547d\u4ee4\u6765\u5b89\u88c5\u5305\u3002 \u9996\u5148\u5168\u5c40\u5b89\u88c5TypeScript\u548cGulp\u3002 \uff08\u5982\u679c\u4f60\u6b63\u5728\u4f7f\u7528Unix\u7cfb\u7edf\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u4f7f\u7528 sudo \u547d\u4ee4\u6765\u542f\u52a8 npm install \u547d\u4ee4\u884c\u3002\uff09 npm install -g gulp-cli \u7136\u540e\u5b89\u88c5 typescript \uff0c gulp \u548c gulp-typescript \u5230\u5f00\u53d1\u4f9d\u8d56\u9879\u3002 Gulp-typescript \u662fTypeScript\u7684\u4e00\u4e2aGulp\u63d2\u4ef6\u3002 npm install --save-dev typescript gulp gulp-typescript \u5199\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50 \u00b6 \u8ba9\u6211\u4eec\u5199\u4e00\u4e2aHello World\u7a0b\u5e8f\u3002 \u5728 src \u76ee\u5f55\u4e0b\u521b\u5efa main.ts \u6587\u4ef6\uff1a function hello(compiler: string) { console.log(`Hello from ${compiler}`); } hello(\"TypeScript\"); \u5728\u5de5\u7a0b\u7684\u6839\u76ee\u5f55 proj \u4e0b\u65b0\u5efa\u4e00\u4e2a tsconfig.json \u6587\u4ef6\uff1a { \"files\": [ \"src/main.ts\" ], \"compilerOptions\": { \"noImplicitAny\": true, \"target\": \"es5\" } } \u65b0\u5efa gulpfile.js \u6587\u4ef6 \u00b6 \u5728\u5de5\u7a0b\u6839\u76ee\u5f55\u4e0b\uff0c\u65b0\u5efa\u4e00\u4e2a gulpfile.js \u6587\u4ef6\uff1a var gulp = require(\"gulp\"); var ts = require(\"gulp-typescript\"); var tsProject = ts.createProject(\"tsconfig.json\"); gulp.task(\"default\", function () { return tsProject.src() .pipe(tsProject()) .js.pipe(gulp.dest(\"dist\")); }); \u6d4b\u8bd5\u8fd9\u4e2a\u5e94\u7528 \u00b6 gulp node dist/main.js \u7a0b\u5e8f\u5e94\u8be5\u80fd\u591f\u6253\u5370\u51fa\u201cHello from TypeScript!\u201d\u3002 \u5411\u4ee3\u7801\u91cc\u6dfb\u52a0\u6a21\u5757 \u00b6 \u5728\u4f7f\u7528Browserify\u524d\uff0c\u8ba9\u6211\u4eec\u5148\u6784\u5efa\u4e00\u4e0b\u4ee3\u7801\u7136\u540e\u518d\u6dfb\u52a0\u4e00\u4e9b\u6df7\u5165\u7684\u6a21\u5757\u3002 \u8fd9\u4e2a\u7ed3\u6784\u5c06\u662f\u4f60\u5728\u771f\u5b9e\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f1a\u7528\u5230\u7684\u3002 \u65b0\u5efa\u4e00\u4e2a src/greet.ts \u6587\u4ef6\uff1a export function sayHello(name: string) { return `Hello from ${name}`; } \u66f4\u6539 src/main.ts \u4ee3\u7801\uff0c\u4ece greet.ts \u5bfc\u5165 sayHello \uff1a import { sayHello } from \"./greet\"; console.log(sayHello(\"TypeScript\")); \u6700\u540e\uff0c\u5c06 src/greet.ts \u6dfb\u52a0\u5230 tsconfig.json \uff1a { \"files\": [ \"src/main.ts\", \"src/greet.ts\" ], \"compilerOptions\": { \"noImplicitAny\": true, \"target\": \"es5\" } } \u786e\u4fdd\u6267\u884c gulp \u540e\u6a21\u5757\u662f\u80fd\u5de5\u4f5c\u7684\uff0c\u5728Node.js\u4e0b\u8fdb\u884c\u6d4b\u8bd5\uff1a gulp node dist/main.js \u6ce8\u610f\uff0c\u5373\u4f7f\u6211\u4eec\u4f7f\u7528\u4e86ES2015\u7684\u6a21\u5757\u8bed\u6cd5\uff0cTypeScript\u8fd8\u662f\u4f1a\u751f\u6210Node.js\u4f7f\u7528\u7684CommonJS\u6a21\u5757\u3002 \u6211\u4eec\u5728\u8fd9\u4e2a\u6559\u7a0b\u91cc\u4f1a\u4e00\u76f4\u4f7f\u7528CommonJS\u6a21\u5757\uff0c\u4f46\u662f\u4f60\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539 module \u9009\u9879\u6765\u6539\u53d8\u8fd9\u4e2a\u884c\u4e3a\u3002 Browserify \u00b6 \u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u628a\u8fd9\u4e2a\u5de5\u7a0b\u7531Node.js\u73af\u5883\u79fb\u5230\u6d4f\u89c8\u5668\u73af\u5883\u91cc\u3002 \u56e0\u6b64\uff0c\u6211\u4eec\u5c06\u628a\u6240\u6709\u6a21\u5757\u6346\u7ed1\u6210\u4e00\u4e2aJavaScript\u6587\u4ef6\u3002 \u6240\u5e78\uff0c\u8fd9\u6b63\u662fBrowserify\u8981\u505a\u7684\u4e8b\u60c5\u3002 \u66f4\u65b9\u4fbf\u7684\u662f\uff0c\u5b83\u652f\u6301Node.js\u7684CommonJS\u6a21\u5757\uff0c\u8fd9\u4e5f\u6b63\u662fTypeScript\u9ed8\u8ba4\u751f\u6210\u7684\u7c7b\u578b\u3002 \u4e5f\u5c31\u662f\u8bf4TypeScript\u548cNode.js\u7684\u8bbe\u7f6e\u4e0d\u9700\u8981\u6539\u53d8\u5c31\u53ef\u4ee5\u79fb\u690d\u5230\u6d4f\u89c8\u5668\u91cc\u3002 \u9996\u5148\uff0c\u5b89\u88c5Browserify\uff0c tsify \u548cvinyl-source-stream\u3002 tsify\u662fBrowserify\u7684\u4e00\u4e2a\u63d2\u4ef6\uff0c\u5c31\u50cfgulp-typescript\u4e00\u6837\uff0c\u5b83\u80fd\u591f\u8bbf\u95eeTypeScript\u7f16\u8bd1\u5668\u3002 vinyl-source-stream\u4f1a\u5c06Browserify\u7684\u8f93\u51fa\u6587\u4ef6\u9002\u914d\u6210gulp\u80fd\u591f\u89e3\u6790\u7684\u683c\u5f0f\uff0c\u5b83\u53eb\u505a vinyl \u3002 npm install --save-dev browserify tsify vinyl-source-stream \u65b0\u5efa\u4e00\u4e2a\u9875\u9762 \u00b6 \u5728 src \u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2a index.html \u6587\u4ef6\uff1a <!DOCTYPE html> <html> <head> <meta charset=\"UTF-8\" /> <title>Hello World!</title> </head> <body> <p id=\"greeting\">Loading ...</p> <script src=\"bundle.js\"></script> </body> </html> \u4fee\u6539 main.ts \u6587\u4ef6\u6765\u66f4\u65b0\u8fd9\u4e2a\u9875\u9762\uff1a import { sayHello } from \"./greet\"; function showHello(divName: string, name: string) { const elt = document.getElementById(divName); elt.innerText = sayHello(name); } showHello(\"greeting\", \"TypeScript\"); showHello \u8c03\u7528 sayHello \u51fd\u6570\u66f4\u6539\u9875\u9762\u4e0a\u6bb5\u843d\u7684\u6587\u5b57\u3002 \u73b0\u5728\u4fee\u6539gulpfile\u6587\u4ef6\u5982\u4e0b\uff1a var gulp = require(\"gulp\"); var browserify = require(\"browserify\"); var source = require('vinyl-source-stream'); var tsify = require(\"tsify\"); var paths = { pages: ['src/*.html'] }; gulp.task(\"copy-html\", function () { return gulp.src(paths.pages) .pipe(gulp.dest(\"dist\")); }); gulp.task(\"default\", [\"copy-html\"], function () { return browserify({ basedir: '.', debug: true, entries: ['src/main.ts'], cache: {}, packageCache: {} }) .plugin(tsify) .bundle() .pipe(source('bundle.js')) .pipe(gulp.dest(\"dist\")); }); \u8fd9\u91cc\u589e\u52a0\u4e86 copy-html \u4efb\u52a1\u5e76\u4e14\u628a\u5b83\u52a0\u4f5c default \u7684\u4f9d\u8d56\u9879\u3002 \u8fd9\u6837\uff0c\u5f53 default \u6267\u884c\u65f6\uff0c copy-html \u4f1a\u88ab\u9996\u5148\u6267\u884c\u3002 \u6211\u4eec\u8fd8\u4fee\u6539\u4e86 default \u4efb\u52a1\uff0c\u8ba9\u5b83\u4f7f\u7528 tsify \u63d2\u4ef6\u8c03\u7528Browserify\uff0c\u800c\u4e0d\u662f gulp-typescript \u3002 \u65b9\u4fbf\u7684\u662f\uff0c\u4e24\u8005\u4f20\u9012\u76f8\u540c\u7684\u53c2\u6570\u5bf9\u8c61\u5230TypeScript\u7f16\u8bd1\u5668\u3002 \u8c03\u7528 bundle \u540e\uff0c\u6211\u4eec\u4f7f\u7528 source \uff08vinyl-source-stream\u7684\u522b\u540d\uff09\u628a\u8f93\u51fa\u6587\u4ef6\u547d\u540d\u4e3a bundle.js \u3002 \u6d4b\u8bd5\u6b64\u9875\u9762\uff0c\u8fd0\u884c gulp \uff0c\u7136\u540e\u5728\u6d4f\u89c8\u5668\u91cc\u6253\u5f00 dist/index.html \u3002 \u4f60\u5e94\u8be5\u80fd\u5728\u9875\u9762\u4e0a\u770b\u5230\u201cHello from TypeScript\u201d\u3002 \u6ce8\u610f\uff0c\u6211\u4eec\u4e3aBroswerify\u6307\u5b9a\u4e86 debug: true \u3002 \u8fd9\u4f1a\u8ba9 tsify \u5728\u8f93\u51fa\u6587\u4ef6\u91cc\u751f\u6210 source maps \u3002 source maps \u5141\u8bb8\u6211\u4eec\u5728\u6d4f\u89c8\u5668\u4e2d\u76f4\u63a5\u8c03\u8bd5TypeScript\u6e90\u7801\uff0c\u800c\u4e0d\u662f\u5728\u5408\u5e76\u540e\u7684JavaScript\u6587\u4ef6\u4e0a\u8c03\u8bd5\u3002 \u4f60\u8981\u6253\u5f00\u8c03\u8bd5\u5668\u5e76\u5728 main.ts \u91cc\u6253\u4e00\u4e2a\u65ad\u70b9\uff0c\u770b\u770b source maps \u662f\u5426\u80fd\u5de5\u4f5c\u3002 \u5f53\u4f60\u5237\u65b0\u9875\u9762\u65f6\uff0c\u4ee3\u7801\u4f1a\u505c\u5728\u65ad\u70b9\u5904\uff0c\u4ece\u800c\u4f60\u5c31\u80fd\u591f\u8c03\u8bd5 greet.ts \u3002 Watchify\uff0cBabel\u548cUglify \u00b6 \u73b0\u5728\u4ee3\u7801\u5df2\u7ecf\u7528Browserify\u548ctsify\u6346\u7ed1\u5728\u4e00\u8d77\u4e86\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528Browserify\u63d2\u4ef6\u4e3a\u6784\u5efa\u6dfb\u52a0\u4e00\u4e9b\u7279\u6027\u3002 Watchify\u542f\u52a8Gulp\u5e76\u4fdd\u6301\u8fd0\u884c\u72b6\u6001\uff0c\u5f53\u4f60\u4fdd\u5b58\u6587\u4ef6\u65f6\u81ea\u52a8\u7f16\u8bd1\u3002 \u5e2e\u4f60\u8fdb\u5165\u5230\u7f16\u8f91-\u4fdd\u5b58-\u5237\u65b0\u6d4f\u89c8\u5668\u7684\u5faa\u73af\u4e2d\u3002 Babel\u662f\u4e2a\u5341\u5206\u7075\u6d3b\u7684\u7f16\u8bd1\u5668\uff0c\u5c06ES2015\u53ca\u4ee5\u4e0a\u7248\u672c\u7684\u4ee3\u7801\u8f6c\u6362\u6210ES5\u548cES3\u3002 \u4f60\u53ef\u4ee5\u6dfb\u52a0\u5927\u91cf\u81ea\u5b9a\u4e49\u7684TypeScript\u76ee\u524d\u4e0d\u652f\u6301\u7684\u8f6c\u6362\u5668\u3002 Uglify\u5e2e\u4f60\u538b\u7f29\u4ee3\u7801\uff0c\u5c06\u82b1\u8d39\u66f4\u5c11\u7684\u65f6\u95f4\u53bb\u4e0b\u8f7d\u5b83\u4eec\u3002 Watchify \u00b6 \u6211\u4eec\u542f\u52a8Watchify\uff0c\u8ba9\u5b83\u5728\u540e\u53f0\u5e2e\u6211\u4eec\u7f16\u8bd1\uff1a npm install --save-dev watchify gulp-util \u4fee\u6539gulpfile\u6587\u4ef6\u5982\u4e0b\uff1a var gulp = require(\"gulp\"); var browserify = require(\"browserify\"); var source = require('vinyl-source-stream'); var watchify = require(\"watchify\"); var tsify = require(\"tsify\"); var gutil = require(\"gulp-util\"); var paths = { pages: ['src/*.html'] }; var watchedBrowserify = watchify(browserify({ basedir: '.', debug: true, entries: ['src/main.ts'], cache: {}, packageCache: {} }).plugin(tsify)); gulp.task(\"copy-html\", function () { return gulp.src(paths.pages) .pipe(gulp.dest(\"dist\")); }); function bundle() { return watchedBrowserify .bundle() .pipe(source('bundle.js')) .pipe(gulp.dest(\"dist\")); } gulp.task(\"default\", [\"copy-html\"], bundle); watchedBrowserify.on(\"update\", bundle); watchedBrowserify.on(\"log\", gutil.log); \u5171\u6709\u4e09\u5904\u6539\u53d8\uff0c\u4f46\u662f\u9700\u8981\u4f60\u7565\u5fae\u91cd\u6784\u4e00\u4e0b\u4ee3\u7801\u3002 \u5c06 browserify \u5b9e\u4f8b\u5305\u88f9\u5728 watchify \u7684\u8c03\u7528\u91cc\uff0c\u63a7\u5236\u751f\u6210\u7684\u7ed3\u679c\u3002 \u8c03\u7528 watchedBrowserify.on(\"update\", bundle); \uff0c\u6bcf\u6b21TypeScript\u6587\u4ef6\u6539\u53d8\u65f6Browserify\u4f1a\u6267\u884c bundle \u51fd\u6570\u3002 \u8c03\u7528 watchedBrowserify.on(\"log\", gutil.log); \u5c06\u65e5\u5fd7\u6253\u5370\u5230\u63a7\u5236\u53f0\u3002 (1)\u548c(2)\u5728\u4e00\u8d77\u610f\u5473\u7740\u6211\u4eec\u8981\u5c06 browserify \u8c03\u7528\u79fb\u51fa default \u4efb\u52a1\u3002 \u7136\u540e\u7ed9\u51fd\u6570\u8d77\u4e2a\u540d\u5b57\uff0c\u56e0\u4e3aWatchify\u548cGulp\u90fd\u8981\u8c03\u7528\u5b83\u3002 (3)\u662f\u53ef\u9009\u7684\uff0c\u4f46\u662f\u5bf9\u4e8e\u8c03\u8bd5\u6765\u8bb2\u5f88\u6709\u7528\u3002 \u73b0\u5728\u5f53\u4f60\u6267\u884c gulp \uff0c\u5b83\u4f1a\u542f\u52a8\u5e76\u4fdd\u6301\u8fd0\u884c\u72b6\u6001\u3002 \u8bd5\u7740\u6539\u53d8 main.ts \u6587\u4ef6\u91cc showHello \u7684\u4ee3\u7801\u5e76\u4fdd\u5b58\u3002 \u4f60\u4f1a\u770b\u5230\u8fd9\u6837\u7684\u8f93\u51fa\uff1a proj$ gulp [10:34:20] Using gulpfile ~/src/proj/gulpfile.js [10:34:20] Starting 'copy-html'... [10:34:20] Finished 'copy-html' after 26 ms [10:34:20] Starting 'default'... [10:34:21] 2824 bytes written (0.13 seconds) [10:34:21] Finished 'default' after 1.36 s [10:35:22] 2261 bytes written (0.02 seconds) [10:35:24] 2808 bytes written (0.05 seconds) Uglify \u00b6 \u9996\u5148\u5b89\u88c5Uglify\u3002 \u56e0\u4e3aUglify\u662f\u7528\u4e8e\u6df7\u6dc6\u4f60\u7684\u4ee3\u7801\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u8981\u5b89\u88c5vinyl-buffer\u548cgulp-sourcemaps\u6765\u652f\u6301sourcemaps\u3002 npm install --save-dev gulp-uglify vinyl-buffer gulp-sourcemaps \u4fee\u6539gulpfile\u6587\u4ef6\u5982\u4e0b\uff1a var gulp = require(\"gulp\"); var browserify = require(\"browserify\"); var source = require('vinyl-source-stream'); var tsify = require(\"tsify\"); var uglify = require('gulp-uglify'); var sourcemaps = require('gulp-sourcemaps'); var buffer = require('vinyl-buffer'); var paths = { pages: ['src/*.html'] }; gulp.task(\"copy-html\", function () { return gulp.src(paths.pages) .pipe(gulp.dest(\"dist\")); }); gulp.task(\"default\", [\"copy-html\"], function () { return browserify({ basedir: '.', debug: true, entries: ['src/main.ts'], cache: {}, packageCache: {} }) .plugin(tsify) .bundle() .pipe(source('bundle.js')) .pipe(buffer()) .pipe(sourcemaps.init({loadMaps: true})) .pipe(uglify()) .pipe(sourcemaps.write('./')) .pipe(gulp.dest(\"dist\")); }); \u6ce8\u610f uglify \u53ea\u662f\u8c03\u7528\u4e86\u81ea\u5df1\u2014 buffer \u548c sourcemaps \u7684\u8c03\u7528\u662f\u7528\u4e8e\u786e\u4fddsourcemaps\u53ef\u4ee5\u5de5\u4f5c\u3002 \u8fd9\u4e9b\u8c03\u7528\u8ba9\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5355\u72ec\u7684sourcemap\u6587\u4ef6\uff0c\u800c\u4e0d\u662f\u4e4b\u524d\u7684\u5185\u5d4c\u7684sourcemaps\u3002 \u4f60\u73b0\u5728\u53ef\u4ee5\u6267\u884c gulp \u6765\u68c0\u67e5 bundle.js \u662f\u5426\u88ab\u538b\u7f29\u4e86\uff1a gulp cat dist/bundle.js Babel \u00b6 \u9996\u5148\u5b89\u88c5Babelify\u548cES2015\u7684Babel\u9884\u7f6e\u7a0b\u5e8f\u3002 \u548cUglify\u4e00\u6837\uff0cBabelify\u4e5f\u4f1a\u6df7\u6dc6\u4ee3\u7801\uff0c\u56e0\u6b64\u6211\u4eec\u4e5f\u9700\u8981vinyl-buffer\u548cgulp-sourcemaps\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0bBabelify\u53ea\u4f1a\u5904\u7406\u6269\u5c55\u540d\u4e3a .js \uff0c .es \uff0c .es6 \u548c .jsx \u7684\u6587\u4ef6\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u6dfb\u52a0 .ts \u6269\u5c55\u540d\u5230Babelify\u9009\u9879\u3002 npm install --save-dev babelify babel-core babel-preset-es2015 vinyl-buffer gulp-sourcemaps \u4fee\u6539gulpfile\u6587\u4ef6\u5982\u4e0b\uff1a var gulp = require('gulp'); var browserify = require('browserify'); var source = require('vinyl-source-stream'); var tsify = require('tsify'); var sourcemaps = require('gulp-sourcemaps'); var buffer = require('vinyl-buffer'); var paths = { pages: ['src/*.html'] }; gulp.task('copyHtml', function () { return gulp.src(paths.pages) .pipe(gulp.dest('dist')); }); gulp.task('default', ['copyHtml'], function () { return browserify({ basedir: '.', debug: true, entries: ['src/main.ts'], cache: {}, packageCache: {} }) .plugin(tsify) .transform('babelify', { presets: ['es2015'], extensions: ['.ts'] }) .bundle() .pipe(source('bundle.js')) .pipe(buffer()) .pipe(sourcemaps.init({loadMaps: true})) .pipe(sourcemaps.write('./')) .pipe(gulp.dest('dist')); }); \u6211\u4eec\u9700\u8981\u8bbe\u7f6eTypeScript\u76ee\u6807\u4e3aES2015\u3002 Babel\u7a0d\u540e\u4f1a\u4eceTypeScript\u751f\u6210\u7684ES2015\u4ee3\u7801\u4e2d\u751f\u6210ES5\u3002 \u4fee\u6539 tsconfig.json : { \"files\": [ \"src/main.ts\" ], \"compilerOptions\": { \"noImplicitAny\": true, \"target\": \"es2015\" } } \u5bf9\u4e8e\u8fd9\u6837\u4e00\u6bb5\u7b80\u5355\u7684\u4ee3\u7801\u6765\u8bf4\uff0cBabel\u7684ES5\u8f93\u51fa\u5e94\u8be5\u548cTypeScript\u7684\u8f93\u51fa\u76f8\u4f3c\u3002","title":"02-TS-Gulp.md"},{"location":"typescript/02-TS-Gulp/#ts-gulp","text":"\u8fd9\u7bc7\u5feb\u901f\u4e0a\u624b\u6307\u5357\u5c06\u6559\u4f60\u5982\u4f55\u4f7f\u7528 Gulp \u6784\u5efaTypeScript\uff0c\u548c\u5982\u4f55\u5728Gulp\u7ba1\u9053\u91cc\u6dfb\u52a0 Browserify \uff0c uglify \u6216 Watchify \u3002 \u5b83\u8fd8\u5305\u6db5\u4e86 Babel \u7684\u529f\u80fd\uff0c\u901a\u8fc7\u4f7f\u7528 Babelify \u3002 \u8fd9\u91cc\u5047\u8bbe\u4f60\u5df2\u7ecf\u5728\u4f7f\u7528 Node.js \u548c npm \u4e86\u3002","title":"TS-Gulp"},{"location":"typescript/02-TS-Gulp/#_1","text":"\u6211\u4eec\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u65b0\u76ee\u5f55\u3002 \u547d\u540d\u4e3a proj \uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u4f60\u559c\u6b22\u7684\u540d\u5b57\u3002 mkdir proj cd proj \u6211\u4eec\u5c06\u4ee5\u4e0b\u9762\u7684\u7ed3\u6784\u5f00\u59cb\u6211\u4eec\u7684\u5de5\u7a0b\uff1a proj/ \u251c\u2500 src/ \u2514\u2500 dist/ TypeScript\u6587\u4ef6\u653e\u5728 src \u6587\u4ef6\u5939\u4e0b\uff0c\u7ecf\u8fc7TypeScript\u7f16\u8bd1\u5668\u7f16\u8bd1\u751f\u6210\u7684\u76ee\u6807\u6587\u4ef6\u653e\u5728 dist \u76ee\u5f55\u4e0b\u3002 \u4e0b\u9762\u8ba9\u6211\u4eec\u6765\u521b\u5efa\u8fd9\u4e9b\u6587\u4ef6\u5939\uff1a mkdir src mkdir dist","title":"\u521b\u5efa\u7b80\u5355\u5de5\u7a0b"},{"location":"typescript/02-TS-Gulp/#_2","text":"\u73b0\u5728\u8ba9\u6211\u4eec\u628a\u8fd9\u4e2a\u6587\u4ef6\u5939\u8f6c\u6362\u6210npm\u5305\uff1a npm init \u4f60\u5c06\u770b\u5230\u6709\u4e00\u4e9b\u63d0\u793a\u64cd\u4f5c\u3002 \u9664\u4e86\u5165\u53e3\u6587\u4ef6\u5916\uff0c\u5176\u4f59\u7684\u90fd\u53ef\u4ee5\u4f7f\u7528\u9ed8\u8ba4\u9879\u3002 \u5165\u53e3\u6587\u4ef6\u4f7f\u7528 ./dist/main.js \u3002 \u4f60\u53ef\u4ee5\u968f\u65f6\u5728 package.json \u6587\u4ef6\u91cc\u66f4\u6539\u751f\u6210\u7684\u914d\u7f6e\u3002","title":"\u521d\u59cb\u5316\u5de5\u7a0b"},{"location":"typescript/02-TS-Gulp/#_3","text":"\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 npm install \u547d\u4ee4\u6765\u5b89\u88c5\u5305\u3002 \u9996\u5148\u5168\u5c40\u5b89\u88c5TypeScript\u548cGulp\u3002 \uff08\u5982\u679c\u4f60\u6b63\u5728\u4f7f\u7528Unix\u7cfb\u7edf\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u4f7f\u7528 sudo \u547d\u4ee4\u6765\u542f\u52a8 npm install \u547d\u4ee4\u884c\u3002\uff09 npm install -g gulp-cli \u7136\u540e\u5b89\u88c5 typescript \uff0c gulp \u548c gulp-typescript \u5230\u5f00\u53d1\u4f9d\u8d56\u9879\u3002 Gulp-typescript \u662fTypeScript\u7684\u4e00\u4e2aGulp\u63d2\u4ef6\u3002 npm install --save-dev typescript gulp gulp-typescript","title":"\u5b89\u88c5\u4f9d\u8d56\u9879"},{"location":"typescript/02-TS-Gulp/#_4","text":"\u8ba9\u6211\u4eec\u5199\u4e00\u4e2aHello World\u7a0b\u5e8f\u3002 \u5728 src \u76ee\u5f55\u4e0b\u521b\u5efa main.ts \u6587\u4ef6\uff1a function hello(compiler: string) { console.log(`Hello from ${compiler}`); } hello(\"TypeScript\"); \u5728\u5de5\u7a0b\u7684\u6839\u76ee\u5f55 proj \u4e0b\u65b0\u5efa\u4e00\u4e2a tsconfig.json \u6587\u4ef6\uff1a { \"files\": [ \"src/main.ts\" ], \"compilerOptions\": { \"noImplicitAny\": true, \"target\": \"es5\" } }","title":"\u5199\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50"},{"location":"typescript/02-TS-Gulp/#gulpfilejs","text":"\u5728\u5de5\u7a0b\u6839\u76ee\u5f55\u4e0b\uff0c\u65b0\u5efa\u4e00\u4e2a gulpfile.js \u6587\u4ef6\uff1a var gulp = require(\"gulp\"); var ts = require(\"gulp-typescript\"); var tsProject = ts.createProject(\"tsconfig.json\"); gulp.task(\"default\", function () { return tsProject.src() .pipe(tsProject()) .js.pipe(gulp.dest(\"dist\")); });","title":"\u65b0\u5efagulpfile.js\u6587\u4ef6"},{"location":"typescript/02-TS-Gulp/#_5","text":"gulp node dist/main.js \u7a0b\u5e8f\u5e94\u8be5\u80fd\u591f\u6253\u5370\u51fa\u201cHello from TypeScript!\u201d\u3002","title":"\u6d4b\u8bd5\u8fd9\u4e2a\u5e94\u7528"},{"location":"typescript/02-TS-Gulp/#_6","text":"\u5728\u4f7f\u7528Browserify\u524d\uff0c\u8ba9\u6211\u4eec\u5148\u6784\u5efa\u4e00\u4e0b\u4ee3\u7801\u7136\u540e\u518d\u6dfb\u52a0\u4e00\u4e9b\u6df7\u5165\u7684\u6a21\u5757\u3002 \u8fd9\u4e2a\u7ed3\u6784\u5c06\u662f\u4f60\u5728\u771f\u5b9e\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f1a\u7528\u5230\u7684\u3002 \u65b0\u5efa\u4e00\u4e2a src/greet.ts \u6587\u4ef6\uff1a export function sayHello(name: string) { return `Hello from ${name}`; } \u66f4\u6539 src/main.ts \u4ee3\u7801\uff0c\u4ece greet.ts \u5bfc\u5165 sayHello \uff1a import { sayHello } from \"./greet\"; console.log(sayHello(\"TypeScript\")); \u6700\u540e\uff0c\u5c06 src/greet.ts \u6dfb\u52a0\u5230 tsconfig.json \uff1a { \"files\": [ \"src/main.ts\", \"src/greet.ts\" ], \"compilerOptions\": { \"noImplicitAny\": true, \"target\": \"es5\" } } \u786e\u4fdd\u6267\u884c gulp \u540e\u6a21\u5757\u662f\u80fd\u5de5\u4f5c\u7684\uff0c\u5728Node.js\u4e0b\u8fdb\u884c\u6d4b\u8bd5\uff1a gulp node dist/main.js \u6ce8\u610f\uff0c\u5373\u4f7f\u6211\u4eec\u4f7f\u7528\u4e86ES2015\u7684\u6a21\u5757\u8bed\u6cd5\uff0cTypeScript\u8fd8\u662f\u4f1a\u751f\u6210Node.js\u4f7f\u7528\u7684CommonJS\u6a21\u5757\u3002 \u6211\u4eec\u5728\u8fd9\u4e2a\u6559\u7a0b\u91cc\u4f1a\u4e00\u76f4\u4f7f\u7528CommonJS\u6a21\u5757\uff0c\u4f46\u662f\u4f60\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539 module \u9009\u9879\u6765\u6539\u53d8\u8fd9\u4e2a\u884c\u4e3a\u3002","title":"\u5411\u4ee3\u7801\u91cc\u6dfb\u52a0\u6a21\u5757"},{"location":"typescript/02-TS-Gulp/#browserify","text":"\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u628a\u8fd9\u4e2a\u5de5\u7a0b\u7531Node.js\u73af\u5883\u79fb\u5230\u6d4f\u89c8\u5668\u73af\u5883\u91cc\u3002 \u56e0\u6b64\uff0c\u6211\u4eec\u5c06\u628a\u6240\u6709\u6a21\u5757\u6346\u7ed1\u6210\u4e00\u4e2aJavaScript\u6587\u4ef6\u3002 \u6240\u5e78\uff0c\u8fd9\u6b63\u662fBrowserify\u8981\u505a\u7684\u4e8b\u60c5\u3002 \u66f4\u65b9\u4fbf\u7684\u662f\uff0c\u5b83\u652f\u6301Node.js\u7684CommonJS\u6a21\u5757\uff0c\u8fd9\u4e5f\u6b63\u662fTypeScript\u9ed8\u8ba4\u751f\u6210\u7684\u7c7b\u578b\u3002 \u4e5f\u5c31\u662f\u8bf4TypeScript\u548cNode.js\u7684\u8bbe\u7f6e\u4e0d\u9700\u8981\u6539\u53d8\u5c31\u53ef\u4ee5\u79fb\u690d\u5230\u6d4f\u89c8\u5668\u91cc\u3002 \u9996\u5148\uff0c\u5b89\u88c5Browserify\uff0c tsify \u548cvinyl-source-stream\u3002 tsify\u662fBrowserify\u7684\u4e00\u4e2a\u63d2\u4ef6\uff0c\u5c31\u50cfgulp-typescript\u4e00\u6837\uff0c\u5b83\u80fd\u591f\u8bbf\u95eeTypeScript\u7f16\u8bd1\u5668\u3002 vinyl-source-stream\u4f1a\u5c06Browserify\u7684\u8f93\u51fa\u6587\u4ef6\u9002\u914d\u6210gulp\u80fd\u591f\u89e3\u6790\u7684\u683c\u5f0f\uff0c\u5b83\u53eb\u505a vinyl \u3002 npm install --save-dev browserify tsify vinyl-source-stream","title":"Browserify"},{"location":"typescript/02-TS-Gulp/#_7","text":"\u5728 src \u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2a index.html \u6587\u4ef6\uff1a <!DOCTYPE html> <html> <head> <meta charset=\"UTF-8\" /> <title>Hello World!</title> </head> <body> <p id=\"greeting\">Loading ...</p> <script src=\"bundle.js\"></script> </body> </html> \u4fee\u6539 main.ts \u6587\u4ef6\u6765\u66f4\u65b0\u8fd9\u4e2a\u9875\u9762\uff1a import { sayHello } from \"./greet\"; function showHello(divName: string, name: string) { const elt = document.getElementById(divName); elt.innerText = sayHello(name); } showHello(\"greeting\", \"TypeScript\"); showHello \u8c03\u7528 sayHello \u51fd\u6570\u66f4\u6539\u9875\u9762\u4e0a\u6bb5\u843d\u7684\u6587\u5b57\u3002 \u73b0\u5728\u4fee\u6539gulpfile\u6587\u4ef6\u5982\u4e0b\uff1a var gulp = require(\"gulp\"); var browserify = require(\"browserify\"); var source = require('vinyl-source-stream'); var tsify = require(\"tsify\"); var paths = { pages: ['src/*.html'] }; gulp.task(\"copy-html\", function () { return gulp.src(paths.pages) .pipe(gulp.dest(\"dist\")); }); gulp.task(\"default\", [\"copy-html\"], function () { return browserify({ basedir: '.', debug: true, entries: ['src/main.ts'], cache: {}, packageCache: {} }) .plugin(tsify) .bundle() .pipe(source('bundle.js')) .pipe(gulp.dest(\"dist\")); }); \u8fd9\u91cc\u589e\u52a0\u4e86 copy-html \u4efb\u52a1\u5e76\u4e14\u628a\u5b83\u52a0\u4f5c default \u7684\u4f9d\u8d56\u9879\u3002 \u8fd9\u6837\uff0c\u5f53 default \u6267\u884c\u65f6\uff0c copy-html \u4f1a\u88ab\u9996\u5148\u6267\u884c\u3002 \u6211\u4eec\u8fd8\u4fee\u6539\u4e86 default \u4efb\u52a1\uff0c\u8ba9\u5b83\u4f7f\u7528 tsify \u63d2\u4ef6\u8c03\u7528Browserify\uff0c\u800c\u4e0d\u662f gulp-typescript \u3002 \u65b9\u4fbf\u7684\u662f\uff0c\u4e24\u8005\u4f20\u9012\u76f8\u540c\u7684\u53c2\u6570\u5bf9\u8c61\u5230TypeScript\u7f16\u8bd1\u5668\u3002 \u8c03\u7528 bundle \u540e\uff0c\u6211\u4eec\u4f7f\u7528 source \uff08vinyl-source-stream\u7684\u522b\u540d\uff09\u628a\u8f93\u51fa\u6587\u4ef6\u547d\u540d\u4e3a bundle.js \u3002 \u6d4b\u8bd5\u6b64\u9875\u9762\uff0c\u8fd0\u884c gulp \uff0c\u7136\u540e\u5728\u6d4f\u89c8\u5668\u91cc\u6253\u5f00 dist/index.html \u3002 \u4f60\u5e94\u8be5\u80fd\u5728\u9875\u9762\u4e0a\u770b\u5230\u201cHello from TypeScript\u201d\u3002 \u6ce8\u610f\uff0c\u6211\u4eec\u4e3aBroswerify\u6307\u5b9a\u4e86 debug: true \u3002 \u8fd9\u4f1a\u8ba9 tsify \u5728\u8f93\u51fa\u6587\u4ef6\u91cc\u751f\u6210 source maps \u3002 source maps \u5141\u8bb8\u6211\u4eec\u5728\u6d4f\u89c8\u5668\u4e2d\u76f4\u63a5\u8c03\u8bd5TypeScript\u6e90\u7801\uff0c\u800c\u4e0d\u662f\u5728\u5408\u5e76\u540e\u7684JavaScript\u6587\u4ef6\u4e0a\u8c03\u8bd5\u3002 \u4f60\u8981\u6253\u5f00\u8c03\u8bd5\u5668\u5e76\u5728 main.ts \u91cc\u6253\u4e00\u4e2a\u65ad\u70b9\uff0c\u770b\u770b source maps \u662f\u5426\u80fd\u5de5\u4f5c\u3002 \u5f53\u4f60\u5237\u65b0\u9875\u9762\u65f6\uff0c\u4ee3\u7801\u4f1a\u505c\u5728\u65ad\u70b9\u5904\uff0c\u4ece\u800c\u4f60\u5c31\u80fd\u591f\u8c03\u8bd5 greet.ts \u3002","title":"\u65b0\u5efa\u4e00\u4e2a\u9875\u9762"},{"location":"typescript/02-TS-Gulp/#watchifybabeluglify","text":"\u73b0\u5728\u4ee3\u7801\u5df2\u7ecf\u7528Browserify\u548ctsify\u6346\u7ed1\u5728\u4e00\u8d77\u4e86\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528Browserify\u63d2\u4ef6\u4e3a\u6784\u5efa\u6dfb\u52a0\u4e00\u4e9b\u7279\u6027\u3002 Watchify\u542f\u52a8Gulp\u5e76\u4fdd\u6301\u8fd0\u884c\u72b6\u6001\uff0c\u5f53\u4f60\u4fdd\u5b58\u6587\u4ef6\u65f6\u81ea\u52a8\u7f16\u8bd1\u3002 \u5e2e\u4f60\u8fdb\u5165\u5230\u7f16\u8f91-\u4fdd\u5b58-\u5237\u65b0\u6d4f\u89c8\u5668\u7684\u5faa\u73af\u4e2d\u3002 Babel\u662f\u4e2a\u5341\u5206\u7075\u6d3b\u7684\u7f16\u8bd1\u5668\uff0c\u5c06ES2015\u53ca\u4ee5\u4e0a\u7248\u672c\u7684\u4ee3\u7801\u8f6c\u6362\u6210ES5\u548cES3\u3002 \u4f60\u53ef\u4ee5\u6dfb\u52a0\u5927\u91cf\u81ea\u5b9a\u4e49\u7684TypeScript\u76ee\u524d\u4e0d\u652f\u6301\u7684\u8f6c\u6362\u5668\u3002 Uglify\u5e2e\u4f60\u538b\u7f29\u4ee3\u7801\uff0c\u5c06\u82b1\u8d39\u66f4\u5c11\u7684\u65f6\u95f4\u53bb\u4e0b\u8f7d\u5b83\u4eec\u3002","title":"Watchify\uff0cBabel\u548cUglify"},{"location":"typescript/02-TS-Gulp/#watchify","text":"\u6211\u4eec\u542f\u52a8Watchify\uff0c\u8ba9\u5b83\u5728\u540e\u53f0\u5e2e\u6211\u4eec\u7f16\u8bd1\uff1a npm install --save-dev watchify gulp-util \u4fee\u6539gulpfile\u6587\u4ef6\u5982\u4e0b\uff1a var gulp = require(\"gulp\"); var browserify = require(\"browserify\"); var source = require('vinyl-source-stream'); var watchify = require(\"watchify\"); var tsify = require(\"tsify\"); var gutil = require(\"gulp-util\"); var paths = { pages: ['src/*.html'] }; var watchedBrowserify = watchify(browserify({ basedir: '.', debug: true, entries: ['src/main.ts'], cache: {}, packageCache: {} }).plugin(tsify)); gulp.task(\"copy-html\", function () { return gulp.src(paths.pages) .pipe(gulp.dest(\"dist\")); }); function bundle() { return watchedBrowserify .bundle() .pipe(source('bundle.js')) .pipe(gulp.dest(\"dist\")); } gulp.task(\"default\", [\"copy-html\"], bundle); watchedBrowserify.on(\"update\", bundle); watchedBrowserify.on(\"log\", gutil.log); \u5171\u6709\u4e09\u5904\u6539\u53d8\uff0c\u4f46\u662f\u9700\u8981\u4f60\u7565\u5fae\u91cd\u6784\u4e00\u4e0b\u4ee3\u7801\u3002 \u5c06 browserify \u5b9e\u4f8b\u5305\u88f9\u5728 watchify \u7684\u8c03\u7528\u91cc\uff0c\u63a7\u5236\u751f\u6210\u7684\u7ed3\u679c\u3002 \u8c03\u7528 watchedBrowserify.on(\"update\", bundle); \uff0c\u6bcf\u6b21TypeScript\u6587\u4ef6\u6539\u53d8\u65f6Browserify\u4f1a\u6267\u884c bundle \u51fd\u6570\u3002 \u8c03\u7528 watchedBrowserify.on(\"log\", gutil.log); \u5c06\u65e5\u5fd7\u6253\u5370\u5230\u63a7\u5236\u53f0\u3002 (1)\u548c(2)\u5728\u4e00\u8d77\u610f\u5473\u7740\u6211\u4eec\u8981\u5c06 browserify \u8c03\u7528\u79fb\u51fa default \u4efb\u52a1\u3002 \u7136\u540e\u7ed9\u51fd\u6570\u8d77\u4e2a\u540d\u5b57\uff0c\u56e0\u4e3aWatchify\u548cGulp\u90fd\u8981\u8c03\u7528\u5b83\u3002 (3)\u662f\u53ef\u9009\u7684\uff0c\u4f46\u662f\u5bf9\u4e8e\u8c03\u8bd5\u6765\u8bb2\u5f88\u6709\u7528\u3002 \u73b0\u5728\u5f53\u4f60\u6267\u884c gulp \uff0c\u5b83\u4f1a\u542f\u52a8\u5e76\u4fdd\u6301\u8fd0\u884c\u72b6\u6001\u3002 \u8bd5\u7740\u6539\u53d8 main.ts \u6587\u4ef6\u91cc showHello \u7684\u4ee3\u7801\u5e76\u4fdd\u5b58\u3002 \u4f60\u4f1a\u770b\u5230\u8fd9\u6837\u7684\u8f93\u51fa\uff1a proj$ gulp [10:34:20] Using gulpfile ~/src/proj/gulpfile.js [10:34:20] Starting 'copy-html'... [10:34:20] Finished 'copy-html' after 26 ms [10:34:20] Starting 'default'... [10:34:21] 2824 bytes written (0.13 seconds) [10:34:21] Finished 'default' after 1.36 s [10:35:22] 2261 bytes written (0.02 seconds) [10:35:24] 2808 bytes written (0.05 seconds)","title":"Watchify"},{"location":"typescript/02-TS-Gulp/#uglify","text":"\u9996\u5148\u5b89\u88c5Uglify\u3002 \u56e0\u4e3aUglify\u662f\u7528\u4e8e\u6df7\u6dc6\u4f60\u7684\u4ee3\u7801\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u8981\u5b89\u88c5vinyl-buffer\u548cgulp-sourcemaps\u6765\u652f\u6301sourcemaps\u3002 npm install --save-dev gulp-uglify vinyl-buffer gulp-sourcemaps \u4fee\u6539gulpfile\u6587\u4ef6\u5982\u4e0b\uff1a var gulp = require(\"gulp\"); var browserify = require(\"browserify\"); var source = require('vinyl-source-stream'); var tsify = require(\"tsify\"); var uglify = require('gulp-uglify'); var sourcemaps = require('gulp-sourcemaps'); var buffer = require('vinyl-buffer'); var paths = { pages: ['src/*.html'] }; gulp.task(\"copy-html\", function () { return gulp.src(paths.pages) .pipe(gulp.dest(\"dist\")); }); gulp.task(\"default\", [\"copy-html\"], function () { return browserify({ basedir: '.', debug: true, entries: ['src/main.ts'], cache: {}, packageCache: {} }) .plugin(tsify) .bundle() .pipe(source('bundle.js')) .pipe(buffer()) .pipe(sourcemaps.init({loadMaps: true})) .pipe(uglify()) .pipe(sourcemaps.write('./')) .pipe(gulp.dest(\"dist\")); }); \u6ce8\u610f uglify \u53ea\u662f\u8c03\u7528\u4e86\u81ea\u5df1\u2014 buffer \u548c sourcemaps \u7684\u8c03\u7528\u662f\u7528\u4e8e\u786e\u4fddsourcemaps\u53ef\u4ee5\u5de5\u4f5c\u3002 \u8fd9\u4e9b\u8c03\u7528\u8ba9\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5355\u72ec\u7684sourcemap\u6587\u4ef6\uff0c\u800c\u4e0d\u662f\u4e4b\u524d\u7684\u5185\u5d4c\u7684sourcemaps\u3002 \u4f60\u73b0\u5728\u53ef\u4ee5\u6267\u884c gulp \u6765\u68c0\u67e5 bundle.js \u662f\u5426\u88ab\u538b\u7f29\u4e86\uff1a gulp cat dist/bundle.js","title":"Uglify"},{"location":"typescript/02-TS-Gulp/#babel","text":"\u9996\u5148\u5b89\u88c5Babelify\u548cES2015\u7684Babel\u9884\u7f6e\u7a0b\u5e8f\u3002 \u548cUglify\u4e00\u6837\uff0cBabelify\u4e5f\u4f1a\u6df7\u6dc6\u4ee3\u7801\uff0c\u56e0\u6b64\u6211\u4eec\u4e5f\u9700\u8981vinyl-buffer\u548cgulp-sourcemaps\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0bBabelify\u53ea\u4f1a\u5904\u7406\u6269\u5c55\u540d\u4e3a .js \uff0c .es \uff0c .es6 \u548c .jsx \u7684\u6587\u4ef6\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u6dfb\u52a0 .ts \u6269\u5c55\u540d\u5230Babelify\u9009\u9879\u3002 npm install --save-dev babelify babel-core babel-preset-es2015 vinyl-buffer gulp-sourcemaps \u4fee\u6539gulpfile\u6587\u4ef6\u5982\u4e0b\uff1a var gulp = require('gulp'); var browserify = require('browserify'); var source = require('vinyl-source-stream'); var tsify = require('tsify'); var sourcemaps = require('gulp-sourcemaps'); var buffer = require('vinyl-buffer'); var paths = { pages: ['src/*.html'] }; gulp.task('copyHtml', function () { return gulp.src(paths.pages) .pipe(gulp.dest('dist')); }); gulp.task('default', ['copyHtml'], function () { return browserify({ basedir: '.', debug: true, entries: ['src/main.ts'], cache: {}, packageCache: {} }) .plugin(tsify) .transform('babelify', { presets: ['es2015'], extensions: ['.ts'] }) .bundle() .pipe(source('bundle.js')) .pipe(buffer()) .pipe(sourcemaps.init({loadMaps: true})) .pipe(sourcemaps.write('./')) .pipe(gulp.dest('dist')); }); \u6211\u4eec\u9700\u8981\u8bbe\u7f6eTypeScript\u76ee\u6807\u4e3aES2015\u3002 Babel\u7a0d\u540e\u4f1a\u4eceTypeScript\u751f\u6210\u7684ES2015\u4ee3\u7801\u4e2d\u751f\u6210ES5\u3002 \u4fee\u6539 tsconfig.json : { \"files\": [ \"src/main.ts\" ], \"compilerOptions\": { \"noImplicitAny\": true, \"target\": \"es2015\" } } \u5bf9\u4e8e\u8fd9\u6837\u4e00\u6bb5\u7b80\u5355\u7684\u4ee3\u7801\u6765\u8bf4\uff0cBabel\u7684ES5\u8f93\u51fa\u5e94\u8be5\u548cTypeScript\u7684\u8f93\u51fa\u76f8\u4f3c\u3002","title":"Babel"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/","text":"TS\u57fa\u7840\u4ecb\u7ecd \u00b6 1.\u539f\u59cb\u6570\u636e\u7c7b\u578b \u00b6 JavaScript \u7684\u7c7b\u578b\u5206\u4e3a\u4e24\u79cd\uff1a\u539f\u59cb\u6570\u636e\u7c7b\u578b\u548c\u5bf9\u8c61\u7c7b\u578b\uff08Object types\uff09\u3002 \u539f\u59cb\u6570\u636e\u7c7b\u578b\u5305\u62ec\uff1a\u5e03\u5c14\u503c\u3001\u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001 null \u3001 undefined \u4ee5\u53ca ES6 \u4e2d\u7684\u65b0\u7c7b\u578b Symbol \u3002 \u672c\u8282\u4e3b\u8981\u4ecb\u7ecd**\u524d\u4e94\u79cd**\u539f\u59cb\u6570\u636e\u7c7b\u578b\u5728 TypeScript \u4e2d\u7684\u5e94\u7528\u3002 \u5e03\u5c14\u503c \u00b6 \u5e03\u5c14\u503c\u662f\u6700\u57fa\u7840\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5728 TypeScript \u4e2d\uff0c\u4f7f\u7528 boolean \u5b9a\u4e49\u5e03\u5c14\u503c\u7c7b\u578b\uff1a let isDone : boolean = false ; // \u7f16\u8bd1\u901a\u8fc7 // \u540e\u9762\u7ea6\u5b9a\uff0c\u672a\u5f3a\u8c03\u7f16\u8bd1\u9519\u8bef\u7684\u4ee3\u7801\u7247\u6bb5\uff0c\u9ed8\u8ba4\u4e3a\u7f16\u8bd1\u901a\u8fc7 \u6ce8\u610f\uff0c\u4f7f\u7528\u6784\u9020\u51fd\u6570 Boolean \u521b\u9020\u7684\u5bf9\u8c61**\u4e0d\u662f**\u5e03\u5c14\u503c\uff1a let createdByNewBoolean : boolean = new Boolean ( 1 ); // Type 'Boolean' is not assignable to type 'boolean'. // 'boolean' is a primitive, but 'Boolean' is a wrapper object. Prefer using 'boolean' when possible. \u4e8b\u5b9e\u4e0a new Boolean() \u8fd4\u56de\u7684\u662f\u4e00\u4e2a Boolean \u5bf9\u8c61\uff1a let createdByNewBoolean : Boolean = new Boolean ( 1 ); \u76f4\u63a5\u8c03\u7528 Boolean \u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a boolean \u7c7b\u578b\uff1a let createdByBoolean : boolean = Boolean ( 1 ); \u5728 TypeScript \u4e2d\uff0c boolean \u662f JavaScript \u4e2d\u7684\u57fa\u672c\u7c7b\u578b\uff0c\u800c Boolean \u662f JavaScript \u4e2d\u7684\u6784\u9020\u51fd\u6570\u3002\u5176\u4ed6\u57fa\u672c\u7c7b\u578b\uff08\u9664\u4e86 null \u548c undefined \uff09\u4e00\u6837\uff0c\u4e0d\u518d\u8d58\u8ff0\u3002 \u6570\u503c \u00b6 \u4f7f\u7528 number \u5b9a\u4e49\u6570\u503c\u7c7b\u578b\uff1a let decLiteral : number = 6 ; let hexLiteral : number = 0xf00d ; // ES6 \u4e2d\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u6cd5 let binaryLiteral : number = 0b1010 ; // ES6 \u4e2d\u7684\u516b\u8fdb\u5236\u8868\u793a\u6cd5 let octalLiteral : number = 0o744 ; let notANumber : number = NaN ; let infinityNumber : number = Infinity ; \u7f16\u8bd1\u7ed3\u679c\uff1a var decLiteral = 6 ; var hexLiteral = 0xf00d ; // ES6 \u4e2d\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u6cd5 var binaryLiteral = 10 ; // ES6 \u4e2d\u7684\u516b\u8fdb\u5236\u8868\u793a\u6cd5 var octalLiteral = 484 ; var notANumber = NaN ; var infinityNumber = Infinity ; \u5176\u4e2d 0b1010 \u548c 0o744 \u662f ES6 \u4e2d\u7684\u4e8c\u8fdb\u5236\u548c\u516b\u8fdb\u5236\u8868\u793a\u6cd5 \uff0c\u5b83\u4eec\u4f1a\u88ab\u7f16\u8bd1\u4e3a\u5341\u8fdb\u5236\u6570\u5b57\u3002 \u5b57\u7b26\u4e32 \u00b6 \u4f7f\u7528 string \u5b9a\u4e49\u5b57\u7b26\u4e32\u7c7b\u578b\uff1a let myName : string = 'Tom' ; let myAge : number = 25 ; // \u6a21\u677f\u5b57\u7b26\u4e32 let sentence : string = `Hello, my name is ${ myName } . I'll be ${ myAge + 1 } years old next month.` ; \u7f16\u8bd1\u7ed3\u679c\uff1a var myName = 'Tom' ; var myAge = 25 ; // \u6a21\u677f\u5b57\u7b26\u4e32 var sentence = \"Hello, my name is \" + myName + \". I'll be \" + ( myAge + 1 ) + \" years old next month.\" ; \u5176\u4e2d `` \u7528\u6765\u5b9a\u4e49 [ES6 \u4e2d\u7684\u6a21\u677f\u5b57\u7b26\u4e32](http://es6.ruanyifeng.com/#docs/string#\u6a21\u677f\u5b57\u7b26\u4e32)\uff0c ${expr}` \u7528\u6765\u5728\u6a21\u677f\u5b57\u7b26\u4e32\u4e2d\u5d4c\u5165\u8868\u8fbe\u5f0f\u3002 \u7a7a\u503c \u00b6 JavaScript \u6ca1\u6709\u7a7a\u503c\uff08Void\uff09\u7684\u6982\u5ff5\uff0c\u5728 TypeScript \u4e2d\uff0c\u53ef\u4ee5\u7528 void \u8868\u793a\u6ca1\u6709\u4efb\u4f55\u8fd4\u56de\u503c\u7684\u51fd\u6570\uff1a function alertName () : void { alert ( 'My name is Tom' ); } \u58f0\u660e\u4e00\u4e2a void \u7c7b\u578b\u7684\u53d8\u91cf\u6ca1\u6709\u4ec0\u4e48\u7528\uff0c\u56e0\u4e3a\u4f60\u53ea\u80fd\u5c06\u5b83\u8d4b\u503c\u4e3a undefined \u548c null \uff1a let unusable : void = undefined ; Null \u548c Undefined \u00b6 \u5728 TypeScript \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 null \u548c undefined \u6765\u5b9a\u4e49\u8fd9\u4e24\u4e2a\u539f\u59cb\u6570\u636e\u7c7b\u578b\uff1a let u : undefined = undefined ; let n : null = null ; \u4e0e void \u7684\u533a\u522b\u662f\uff0c undefined \u548c null \u662f\u6240\u6709\u7c7b\u578b\u7684\u5b50\u7c7b\u578b\u3002\u4e5f\u5c31\u662f\u8bf4 undefined \u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u53ef\u4ee5\u8d4b\u503c\u7ed9 number \u7c7b\u578b\u7684\u53d8\u91cf\uff1a // \u8fd9\u6837\u4e0d\u4f1a\u62a5\u9519 let num : number = undefined ; // \u8fd9\u6837\u4e5f\u4e0d\u4f1a\u62a5\u9519 let u : undefined ; let num : number = u ; \u800c void \u7c7b\u578b\u7684\u53d8\u91cf\u4e0d\u80fd\u8d4b\u503c\u7ed9 number \u7c7b\u578b\u7684\u53d8\u91cf\uff1a let u : void ; let num : number = u ; // Type 'void' is not assignable to type 'number'. 2.\u4efb\u610f\u503c \u00b6 \u4efb\u610f\u503c\uff08Any\uff09\u7528\u6765\u8868\u793a\u5141\u8bb8\u8d4b\u503c\u4e3a\u4efb\u610f\u7c7b\u578b\u3002 \u4ec0\u4e48\u662f\u4efb\u610f\u503c\u7c7b\u578b \u00b6 \u5982\u679c\u662f\u4e00\u4e2a\u666e\u901a\u7c7b\u578b\uff0c\u5728\u8d4b\u503c\u8fc7\u7a0b\u4e2d\u6539\u53d8\u7c7b\u578b\u662f\u4e0d\u88ab\u5141\u8bb8\u7684\uff1a let myFavoriteNumber : string = 'seven' ; myFavoriteNumber = 7 ; // index.ts(2,1): error TS2322: Type 'number' is not assignable to type 'string'. \u4f46\u5982\u679c\u662f any \u7c7b\u578b\uff0c\u5219\u5141\u8bb8\u88ab\u8d4b\u503c\u4e3a\u4efb\u610f\u7c7b\u578b\u3002 let myFavoriteNumber : any = 'seven' ; myFavoriteNumber = 7 ; \u4efb\u610f\u503c\u7684\u5c5e\u6027\u548c\u65b9\u6cd5 \u00b6 \u5728\u4efb\u610f\u503c\u4e0a\u8bbf\u95ee\u4efb\u4f55\u5c5e\u6027\u90fd\u662f\u5141\u8bb8\u7684\uff1a let anyThing : any = 'hello' ; console . log ( anyThing . myName ); console . log ( anyThing . myName . firstName ); \u4e5f\u5141\u8bb8\u8c03\u7528\u4efb\u4f55\u65b9\u6cd5\uff1a let anyThing : any = 'Tom' ; anyThing . setName ( 'Jerry' ); anyThing . setName ( 'Jerry' ). sayHello (); anyThing . myName . setFirstName ( 'Cat' ); \u53ef\u4ee5\u8ba4\u4e3a\uff0c \u58f0\u660e\u4e00\u4e2a\u53d8\u91cf\u4e3a\u4efb\u610f\u503c\u4e4b\u540e\uff0c\u5bf9\u5b83\u7684\u4efb\u4f55\u64cd\u4f5c\uff0c\u8fd4\u56de\u7684\u5185\u5bb9\u7684\u7c7b\u578b\u90fd\u662f\u4efb\u610f\u503c \u3002 \u672a\u58f0\u660e\u7c7b\u578b\u7684\u53d8\u91cf \u00b6 \u53d8\u91cf\u5982\u679c\u5728\u58f0\u660e\u7684\u65f6\u5019\uff0c\u672a\u6307\u5b9a\u5176\u7c7b\u578b\uff0c\u90a3\u4e48\u5b83\u4f1a\u88ab\u8bc6\u522b\u4e3a\u4efb\u610f\u503c\u7c7b\u578b\uff1a let something ; something = 'seven' ; something = 7 ; something . setName ( 'Tom' ); \u7b49\u4ef7\u4e8e let something : any ; something = 'seven' ; something = 7 ; something . setName ( 'Tom' ); 3.\u7c7b\u578b\u63a8\u8bba \u00b6 \u5982\u679c\u6ca1\u6709\u660e\u786e\u7684\u6307\u5b9a\u7c7b\u578b\uff0c\u90a3\u4e48 TypeScript \u4f1a\u4f9d\u7167\u7c7b\u578b\u63a8\u8bba\uff08Type Inference\uff09\u7684\u89c4\u5219\u63a8\u65ad\u51fa\u4e00\u4e2a\u7c7b\u578b\u3002 \u4ec0\u4e48\u662f\u7c7b\u578b\u63a8\u8bba \u00b6 \u4ee5\u4e0b\u4ee3\u7801\u867d\u7136\u6ca1\u6709\u6307\u5b9a\u7c7b\u578b\uff0c\u4f46\u662f\u4f1a\u5728\u7f16\u8bd1\u7684\u65f6\u5019\u62a5\u9519\uff1a let myFavoriteNumber = 'seven' ; myFavoriteNumber = 7 ; // index.ts(2,1): error TS2322: Type 'number' is not assignable to type 'string'. \u4e8b\u5b9e\u4e0a\uff0c\u5b83\u7b49\u4ef7\u4e8e\uff1a let myFavoriteNumber : string = 'seven' ; myFavoriteNumber = 7 ; // index.ts(2,1): error TS2322: Type 'number' is not assignable to type 'string'. TypeScript \u4f1a\u5728\u6ca1\u6709\u660e\u786e\u7684\u6307\u5b9a\u7c7b\u578b\u7684\u65f6\u5019\u63a8\u6d4b\u51fa\u4e00\u4e2a\u7c7b\u578b\uff0c\u8fd9\u5c31\u662f\u7c7b\u578b\u63a8\u8bba\u3002 \u5982\u679c\u5b9a\u4e49\u7684\u65f6\u5019\u6ca1\u6709\u8d4b\u503c\uff0c\u4e0d\u7ba1\u4e4b\u540e\u6709\u6ca1\u6709\u8d4b\u503c\uff0c\u90fd\u4f1a\u88ab\u63a8\u65ad\u6210 any \u7c7b\u578b\u800c\u5b8c\u5168\u4e0d\u88ab\u7c7b\u578b\u68c0\u67e5 \uff1a let myFavoriteNumber ; myFavoriteNumber = 'seven' ; myFavoriteNumber = 7 ; 4.\u8054\u5408\u7c7b\u578b \u00b6 \u8054\u5408\u7c7b\u578b\uff08Union Types\uff09\u8868\u793a\u53d6\u503c\u53ef\u4ee5\u4e3a\u591a\u79cd\u7c7b\u578b\u4e2d\u7684\u4e00\u79cd\u3002 let myFavoriteNumber : string | number ; myFavoriteNumber = 'seven' ; myFavoriteNumber = 7 ; let myFavoriteNumber : string | number ; myFavoriteNumber = true ; // index.ts(2,1): error TS2322: Type 'boolean' is not assignable to type 'string | number'. // Type 'boolean' is not assignable to type 'number'. \u8054\u5408\u7c7b\u578b\u4f7f\u7528 | \u5206\u9694\u6bcf\u4e2a\u7c7b\u578b\u3002 \u8fd9\u91cc\u7684 let myFavoriteNumber: string | number \u7684\u542b\u4e49\u662f\uff0c\u5141\u8bb8 myFavoriteNumber \u7684\u7c7b\u578b\u662f string \u6216\u8005 number \uff0c\u4f46\u662f\u4e0d\u80fd\u662f\u5176\u4ed6\u7c7b\u578b\u3002 \u8bbf\u95ee\u8054\u5408\u7c7b\u578b\u7684\u5c5e\u6027\u6216\u65b9\u6cd5 \u00b6 \u5f53 TypeScript \u4e0d\u786e\u5b9a\u4e00\u4e2a\u8054\u5408\u7c7b\u578b\u7684\u53d8\u91cf\u5230\u5e95\u662f\u54ea\u4e2a\u7c7b\u578b\u7684\u65f6\u5019\uff0c\u6211\u4eec**\u53ea\u80fd\u8bbf\u95ee\u6b64\u8054\u5408\u7c7b\u578b\u7684\u6240\u6709\u7c7b\u578b\u91cc\u5171\u6709\u7684\u5c5e\u6027\u6216\u65b9\u6cd5**\uff1a function getLength ( something : string | number ) : number { return something . length ; } // index.ts(2,22): error TS2339: Property 'length' does not exist on type 'string | number'. // Property 'length' does not exist on type 'number'. \u4e0a\u4f8b\u4e2d\uff0c length \u4e0d\u662f string \u548c number \u7684\u5171\u6709\u5c5e\u6027\uff0c\u6240\u4ee5\u4f1a\u62a5\u9519\u3002 \u8bbf\u95ee string \u548c number \u7684\u5171\u6709\u5c5e\u6027\u662f\u6ca1\u95ee\u9898\u7684\uff1a function getString ( something : string | number ) : string { return something . toString (); } \u8054\u5408\u7c7b\u578b\u7684\u53d8\u91cf\u5728\u88ab\u8d4b\u503c\u7684\u65f6\u5019\uff0c\u4f1a\u6839\u636e\u7c7b\u578b\u63a8\u8bba\u7684\u89c4\u5219\u63a8\u65ad\u51fa\u4e00\u4e2a\u7c7b\u578b\uff1a let myFavoriteNumber : string | number ; myFavoriteNumber = 'seven' ; console . log ( myFavoriteNumber . length ); // 5 myFavoriteNumber = 7 ; console . log ( myFavoriteNumber . length ); // \u7f16\u8bd1\u65f6\u62a5\u9519 // index.ts(5,30): error TS2339: Property 'length' does not exist on type 'number'. \u4e0a\u4f8b\u4e2d\uff0c\u7b2c\u4e8c\u884c\u7684 myFavoriteNumber \u88ab\u63a8\u65ad\u6210\u4e86 string \uff0c\u8bbf\u95ee\u5b83\u7684 length \u5c5e\u6027\u4e0d\u4f1a\u62a5\u9519\u3002 \u800c\u7b2c\u56db\u884c\u7684 myFavoriteNumber \u88ab\u63a8\u65ad\u6210\u4e86 number \uff0c\u8bbf\u95ee\u5b83\u7684 length \u5c5e\u6027\u65f6\u5c31\u62a5\u9519\u4e86\u3002 5.\u5bf9\u8c61\u7684\u7c7b\u578b\u2014\u2014\u63a5\u53e3 \u00b6 \u5728 TypeScript \u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u63a5\u53e3\uff08Interfaces\uff09\u6765\u5b9a\u4e49\u5bf9\u8c61\u7684\u7c7b\u578b\u3002 \u4ec0\u4e48\u662f\u63a5\u53e3 \u00b6 \u5728\u9762\u5411\u5bf9\u8c61\u8bed\u8a00\u4e2d\uff0c\u63a5\u53e3\uff08Interfaces\uff09\u662f\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u6982\u5ff5\uff0c\u5b83\u662f\u5bf9\u884c\u4e3a\u7684\u62bd\u8c61\uff0c\u800c\u5177\u4f53\u5982\u4f55\u884c\u52a8\u9700\u8981\u7531\u7c7b\uff08classes\uff09\u53bb\u5b9e\u73b0\uff08implement\uff09\u3002TypeScript \u4e2d\u7684\u63a5\u53e3\u662f\u4e00\u4e2a\u975e\u5e38\u7075\u6d3b\u7684\u6982\u5ff5\uff0c\u9664\u4e86\u53ef\u7528\u4e8e \u5bf9\u7c7b\u7684\u4e00\u90e8\u5206\u884c\u4e3a\u8fdb\u884c\u62bd\u8c61 \u4ee5\u5916\uff0c\u4e5f\u5e38\u7528\u4e8e\u5bf9\u300c\u5bf9\u8c61\u7684\u5f62\u72b6\uff08Shape\uff09\u300d\u8fdb\u884c\u63cf\u8ff0\u3002 \u7b80\u5355\u7684\u4f8b\u5b50 \u00b6 interface Person { name : string ; age : number ; } let tom : Person = { name : 'Tom' , age : 25 }; \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u63a5\u53e3 Person \uff0c\u63a5\u7740\u5b9a\u4e49\u4e86\u4e00\u4e2a\u53d8\u91cf tom \uff0c\u5b83\u7684\u7c7b\u578b\u662f Person \u3002\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u7ea6\u675f\u4e86 tom \u7684\u5f62\u72b6\u5fc5\u987b\u548c\u63a5\u53e3 Person \u4e00\u81f4\u3002 \u63a5\u53e3\u4e00\u822c\u9996\u5b57\u6bcd\u5927\u5199\u3002 \u6709\u7684\u7f16\u7a0b\u8bed\u8a00\u4e2d\u4f1a\u5efa\u8bae\u63a5\u53e3\u7684\u540d\u79f0\u52a0\u4e0a I \u524d\u7f00 \u3002 \u5b9a\u4e49\u7684\u53d8\u91cf\u6bd4\u63a5\u53e3\u5c11\u4e86\u4e00\u4e9b\u5c5e\u6027\u662f\u4e0d\u5141\u8bb8\u7684\uff1a interface Person { name : string ; age : number ; } let tom : Person = { name : 'Tom' }; // index.ts(6,5): error TS2322: Type '{ name: string; }' is not assignable to type 'Person'. // Property 'age' is missing in type '{ name: string; }'. \u591a\u4e00\u4e9b\u5c5e\u6027\u4e5f\u662f\u4e0d\u5141\u8bb8\u7684\uff1a interface Person { name : string ; age : number ; } let tom : Person = { name : 'Tom' , age : 25 , gender : 'male' }; // index.ts(9,5): error TS2322: Type '{ name: string; age: number; gender: string; }' is not assignable to type 'Person'. // Object literal may only specify known properties, and 'gender' does not exist in type 'Person'. \u53ef\u89c1\uff0c \u8d4b\u503c\u7684\u65f6\u5019\uff0c\u53d8\u91cf\u7684\u5f62\u72b6\u5fc5\u987b\u548c\u63a5\u53e3\u7684\u5f62\u72b6\u4fdd\u6301\u4e00\u81f4 \u3002 \u53ef\u9009\u5c5e\u6027 \u00b6 \u6709\u65f6\u6211\u4eec\u5e0c\u671b\u4e0d\u8981\u5b8c\u5168\u5339\u914d\u4e00\u4e2a\u5f62\u72b6\uff0c\u90a3\u4e48\u53ef\u4ee5\u7528\u53ef\u9009\u5c5e\u6027\uff1a interface Person { name : string ; age? : number ; } let tom : Person = { name : 'Tom' }; interface Person { name : string ; age? : number ; } let tom : Person = { name : 'Tom' , age : 25 }; \u53ef\u9009\u5c5e\u6027\u7684\u542b\u4e49\u662f\u8be5\u5c5e\u6027\u53ef\u4ee5\u4e0d\u5b58\u5728\u3002 \u8fd9\u65f6**\u4ecd\u7136\u4e0d\u5141\u8bb8\u6dfb\u52a0\u672a\u5b9a\u4e49\u7684\u5c5e\u6027**\uff1a interface Person { name : string ; age? : number ; } let tom : Person = { name : 'Tom' , age : 25 , gender : 'male' }; // examples/playground/index.ts(9,5): error TS2322: Type '{ name: string; age: number; gender: string; }' is not assignable to type 'Person'. // Object literal may only specify known properties, and 'gender' does not exist in type 'Person'. \u4efb\u610f\u5c5e\u6027 \u00b6 \u6709\u65f6\u5019\u6211\u4eec\u5e0c\u671b\u4e00\u4e2a\u63a5\u53e3\u5141\u8bb8\u6709\u4efb\u610f\u7684\u5c5e\u6027\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u65b9\u5f0f\uff1a interface Person { name : string ; age? : number ; [ propName : string ] : any ; } let tom : Person = { name : 'Tom' , gender : 'male' }; \u4f7f\u7528 [propName: string] \u5b9a\u4e49\u4e86\u4efb\u610f\u5c5e\u6027\u53d6 string \u7c7b\u578b\u7684\u503c\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c \u4e00\u65e6\u5b9a\u4e49\u4e86\u4efb\u610f\u5c5e\u6027\uff0c\u90a3\u4e48\u786e\u5b9a\u5c5e\u6027\u548c\u53ef\u9009\u5c5e\u6027\u7684\u7c7b\u578b\u90fd\u5fc5\u987b\u662f\u5b83\u7684\u7c7b\u578b\u7684\u5b50\u96c6 \uff1a interface Person { name : string ; age? : number ; [ propName : string ] : string ; } let tom : Person = { name : 'Tom' , age : 25 , gender : 'male' }; // index.ts(3,5): error TS2411: Property 'age' of type 'number' is not assignable to string index type 'string'. // index.ts(7,5): error TS2322: Type '{ [x: string]: string | number; name: string; age: number; gender: string; }' is not assignable to type 'Person'. // Index signatures are incompatible. // Type 'string | number' is not assignable to type 'string'. // Type 'number' is not assignable to type 'string'. \u4e0a\u4f8b\u4e2d\uff0c\u4efb\u610f\u5c5e\u6027\u7684\u503c\u5141\u8bb8\u662f string \uff0c\u4f46\u662f\u53ef\u9009\u5c5e\u6027 age \u7684\u503c\u5374\u662f number \uff0c number \u4e0d\u662f string \u7684\u5b50\u5c5e\u6027\uff0c\u6240\u4ee5\u62a5\u9519\u4e86\u3002 \u53e6\u5916\uff0c\u5728\u62a5\u9519\u4fe1\u606f\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u6b64\u65f6 { name: 'Tom', age: 25, gender: 'male' } \u7684\u7c7b\u578b\u88ab\u63a8\u65ad\u6210\u4e86 { [x: string]: string | number; name: string; age: number; gender: string; } \uff0c\u8fd9\u662f\u8054\u5408\u7c7b\u578b\u548c\u63a5\u53e3\u7684\u7ed3\u5408\u3002 \u4e00\u4e2a\u63a5\u53e3\u4e2d\u53ea\u80fd\u5b9a\u4e49\u4e00\u4e2a\u4efb\u610f\u5c5e\u6027\u3002\u5982\u679c\u63a5\u53e3\u4e2d\u6709\u591a\u4e2a\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u5219\u53ef\u4ee5\u5728\u4efb\u610f\u5c5e\u6027\u4e2d\u4f7f\u7528\u8054\u5408\u7c7b\u578b\uff1a interface Person { name : string ; age? : number ; [ propName : string ] : string | number ; } let tom : Person = { name : 'Tom' , age : 25 , gender : 'male' }; \u53ea\u8bfb\u5c5e\u6027 \u00b6 \u6709\u65f6\u5019\u6211\u4eec\u5e0c\u671b\u5bf9\u8c61\u4e2d\u7684\u4e00\u4e9b\u5b57\u6bb5\u53ea\u80fd\u5728\u521b\u5efa\u7684\u65f6\u5019\u88ab\u8d4b\u503c\uff0c\u90a3\u4e48\u53ef\u4ee5\u7528 readonly \u5b9a\u4e49\u53ea\u8bfb\u5c5e\u6027\uff1a interface Person { readonly id : number ; name : string ; age? : number ; [ propName : string ] : any ; } let tom : Person = { id : 89757 , name : 'Tom' , gender : 'male' }; tom . id = 9527 ; // index.ts(14,5): error TS2540: Cannot assign to 'id' because it is a constant or a read-only property. \u4e0a\u4f8b\u4e2d\uff0c\u4f7f\u7528 readonly \u5b9a\u4e49\u7684\u5c5e\u6027 id \u521d\u59cb\u5316\u540e\uff0c\u53c8\u88ab\u8d4b\u503c\u4e86\uff0c\u6240\u4ee5\u62a5\u9519\u4e86\u3002 \u6ce8\u610f\uff0c\u53ea\u8bfb\u7684\u7ea6\u675f\u5b58\u5728\u4e8e\u7b2c\u4e00\u6b21\u7ed9\u5bf9\u8c61\u8d4b\u503c\u7684\u65f6\u5019\uff0c\u800c\u4e0d\u662f\u7b2c\u4e00\u6b21\u7ed9\u53ea\u8bfb\u5c5e\u6027\u8d4b\u503c\u7684\u65f6\u5019 \uff1a interface Person { readonly id : number ; name : string ; age? : number ; [ propName : string ] : any ; } let tom : Person = { name : 'Tom' , gender : 'male' }; tom . id = 89757 ; // index.ts(8,5): error TS2322: Type '{ name: string; gender: string; }' is not assignable to type 'Person'. // Property 'id' is missing in type '{ name: string; gender: string; }'. // index.ts(13,5): error TS2540: Cannot assign to 'id' because it is a constant or a read-only property. \u4e0a\u4f8b\u4e2d\uff0c\u62a5\u9519\u4fe1\u606f\u6709\u4e24\u5904\uff0c\u7b2c\u4e00\u5904\u662f\u5728\u5bf9 tom \u8fdb\u884c\u8d4b\u503c\u7684\u65f6\u5019\uff0c\u6ca1\u6709\u7ed9 id \u8d4b\u503c\u3002 \u7b2c\u4e8c\u5904\u662f\u5728\u7ed9 tom.id \u8d4b\u503c\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u5b83\u662f\u53ea\u8bfb\u5c5e\u6027\uff0c\u6240\u4ee5\u62a5\u9519\u4e86\u3002 6.\u6570\u7ec4\u7684\u7c7b\u578b \u00b6 \u5728 TypeScript \u4e2d\uff0c\u6570\u7ec4\u7c7b\u578b\u6709\u591a\u79cd\u5b9a\u4e49\u65b9\u5f0f\uff0c\u6bd4\u8f83\u7075\u6d3b\u3002 \u300c\u7c7b\u578b + \u65b9\u62ec\u53f7\u300d\u8868\u793a\u6cd5 \u00b6 \u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u4f7f\u7528\u300c\u7c7b\u578b + \u65b9\u62ec\u53f7\u300d\u6765\u8868\u793a\u6570\u7ec4\uff1a let fibonacci : number [] = [ 1 , 1 , 2 , 3 , 5 ]; \u6570\u7ec4\u7684\u9879\u4e2d**\u4e0d\u5141\u8bb8**\u51fa\u73b0\u5176\u4ed6\u7684\u7c7b\u578b\uff1a let fibonacci : number [] = [ 1 , '1' , 2 , 3 , 5 ]; // Type 'string' is not assignable to type 'number'. \u6570\u7ec4\u7684\u4e00\u4e9b\u65b9\u6cd5\u7684\u53c2\u6570\u4e5f\u4f1a\u6839\u636e\u6570\u7ec4\u5728\u5b9a\u4e49\u65f6\u7ea6\u5b9a\u7684\u7c7b\u578b\u8fdb\u884c\u9650\u5236\uff1a let fibonacci : number [] = [ 1 , 1 , 2 , 3 , 5 ]; fibonacci . push ( '8' ); // Argument of type '\"8\"' is not assignable to parameter of type 'number'. \u4e0a\u4f8b\u4e2d\uff0c push \u65b9\u6cd5\u53ea\u5141\u8bb8\u4f20\u5165 number \u7c7b\u578b\u7684\u53c2\u6570\uff0c\u4f46\u662f\u5374\u4f20\u4e86\u4e00\u4e2a \"8\" \u7c7b\u578b\u7684\u53c2\u6570\uff0c\u6240\u4ee5\u62a5\u9519\u4e86\u3002\u8fd9\u91cc \"8\" \u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b\uff0c\u4f1a\u5728\u540e\u7eed\u7ae0\u8282\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\u3002 \u6570\u7ec4\u6cdb\u578b \u00b6 \u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528\u6570\u7ec4\u6cdb\u578b\uff08Array Generic\uff09 Array<elemType> \u6765\u8868\u793a\u6570\u7ec4\uff1a let fibonacci : Array < number > = [ 1 , 1 , 2 , 3 , 5 ]; \u5173\u4e8e\u6cdb\u578b\uff0c\u53ef\u4ee5\u53c2\u8003 \u6cdb\u578b \u4e00\u7ae0\u3002 \u7528\u63a5\u53e3\u8868\u793a\u6570\u7ec4 \u00b6 \u63a5\u53e3\u4e5f\u53ef\u4ee5\u7528\u6765\u63cf\u8ff0\u6570\u7ec4\uff1a interface NumberArray { [ index : number ] : number ; } let fibonacci : NumberArray = [ 1 , 1 , 2 , 3 , 5 ]; NumberArray \u8868\u793a\uff1a\u53ea\u8981\u7d22\u5f15\u7684\u7c7b\u578b\u662f\u6570\u5b57\u65f6\uff0c\u90a3\u4e48\u503c\u7684\u7c7b\u578b\u5fc5\u987b\u662f\u6570\u5b57\u3002 \u867d\u7136\u63a5\u53e3\u4e5f\u53ef\u4ee5\u7528\u6765\u63cf\u8ff0\u6570\u7ec4\uff0c\u4f46\u662f\u6211\u4eec\u4e00\u822c\u4e0d\u4f1a\u8fd9\u4e48\u505a\uff0c\u56e0\u4e3a\u8fd9\u79cd\u65b9\u5f0f\u6bd4\u524d\u4e24\u79cd\u65b9\u5f0f\u590d\u6742\u591a\u4e86\u3002 \u4e0d\u8fc7\u6709\u4e00\u79cd\u60c5\u51b5\u4f8b\u5916\uff0c\u90a3\u5c31\u662f\u5b83\u5e38\u7528\u6765\u8868\u793a\u7c7b\u6570\u7ec4\u3002 \u7c7b\u6570\u7ec4 \u00b6 \u7c7b\u6570\u7ec4\uff08Array-like Object\uff09\u4e0d\u662f\u6570\u7ec4\u7c7b\u578b\uff0c\u6bd4\u5982 arguments \uff1a function sum () { let args : number [] = arguments ; } // Type 'IArguments' is missing the following properties from type 'number[]': pop, push, concat, join, and 24 more. \u4e0a\u4f8b\u4e2d\uff0c arguments \u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u7c7b\u6570\u7ec4\uff0c\u4e0d\u80fd\u7528\u666e\u901a\u7684\u6570\u7ec4\u7684\u65b9\u5f0f\u6765\u63cf\u8ff0\uff0c\u800c\u5e94\u8be5\u7528\u63a5\u53e3\uff1a function sum () { let args : { [ index : number ] : number ; length : number ; callee : Function ; } = arguments ; } \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u9664\u4e86\u7ea6\u675f\u5f53\u7d22\u5f15\u7684\u7c7b\u578b\u662f\u6570\u5b57\u65f6\uff0c\u503c\u7684\u7c7b\u578b\u5fc5\u987b\u662f\u6570\u5b57\u4e4b\u5916\uff0c\u4e5f\u7ea6\u675f\u4e86\u5b83\u8fd8\u6709 length \u548c callee \u4e24\u4e2a\u5c5e\u6027\u3002 \u4e8b\u5b9e\u4e0a\u5e38\u7528\u7684\u7c7b\u6570\u7ec4\u90fd\u6709\u81ea\u5df1\u7684\u63a5\u53e3\u5b9a\u4e49\uff0c\u5982 IArguments , NodeList , HTMLCollection \u7b49\uff1a function sum () { let args : IArguments = arguments ; } \u5176\u4e2d IArguments \u662f TypeScript \u4e2d\u5b9a\u4e49\u597d\u4e86\u7684\u7c7b\u578b\uff0c\u5b83\u5b9e\u9645\u4e0a\u5c31\u662f\uff1a interface IArguments { [ index : number ] : any ; length : number ; callee : Function ; } \u5173\u4e8e\u5185\u7f6e\u5bf9\u8c61\uff0c\u53ef\u4ee5\u53c2\u8003 \u5185\u7f6e\u5bf9\u8c61 \u4e00\u7ae0\u3002 any \u5728\u6570\u7ec4\u4e2d\u7684\u5e94\u7528 \u00b6 \u4e00\u4e2a\u6bd4\u8f83\u5e38\u89c1\u7684\u505a\u6cd5\u662f\uff0c\u7528 any \u8868\u793a\u6570\u7ec4\u4e2d\u5141\u8bb8\u51fa\u73b0\u4efb\u610f\u7c7b\u578b\uff1a let list : any [] = [ 'xcatliu' , 25 , { website : 'http://xcatliu.com' }]; 7.\u51fd\u6570\u7684\u7c7b\u578b \u00b6 \u51fd\u6570\u662f JavaScript \u4e2d\u7684\u4e00\u7b49\u516c\u6c11 \u51fd\u6570\u58f0\u660e \u00b6 \u5728 JavaScript \u4e2d\uff0c\u6709\u4e24\u79cd\u5e38\u89c1\u7684\u5b9a\u4e49\u51fd\u6570\u7684\u65b9\u5f0f\u2014\u2014\u51fd\u6570\u58f0\u660e\uff08Function Declaration\uff09\u548c\u51fd\u6570\u8868\u8fbe\u5f0f\uff08Function Expression\uff09\uff1a // \u51fd\u6570\u58f0\u660e\uff08Function Declaration\uff09 function sum ( x , y ) { return x + y ; } // \u51fd\u6570\u8868\u8fbe\u5f0f\uff08Function Expression\uff09 let mySum = function ( x , y ) { return x + y ; }; \u4e00\u4e2a\u51fd\u6570\u6709\u8f93\u5165\u548c\u8f93\u51fa\uff0c\u8981\u5728 TypeScript \u4e2d\u5bf9\u5176\u8fdb\u884c\u7ea6\u675f\uff0c\u9700\u8981\u628a\u8f93\u5165\u548c\u8f93\u51fa\u90fd\u8003\u8651\u5230\uff0c\u5176\u4e2d\u51fd\u6570\u58f0\u660e\u7684\u7c7b\u578b\u5b9a\u4e49\u8f83\u7b80\u5355\uff1a function sum ( x : number , y : number ) : number { return x + y ; } \u6ce8\u610f\uff0c \u8f93\u5165\u591a\u4f59\u7684\uff08\u6216\u8005\u5c11\u4e8e\u8981\u6c42\u7684\uff09\u53c2\u6570\uff0c\u662f\u4e0d\u88ab\u5141\u8bb8\u7684 \uff1a function sum ( x : number , y : number ) : number { return x + y ; } sum ( 1 , 2 , 3 ); // index.ts(4,1): error TS2346: Supplied parameters do not match any signature of call target. function sum ( x : number , y : number ) : number { return x + y ; } sum ( 1 ); // index.ts(4,1): error TS2346: Supplied parameters do not match any signature of call target. \u51fd\u6570\u8868\u8fbe\u5f0f \u00b6 \u5982\u679c\u8981\u6211\u4eec\u73b0\u5728\u5199\u4e00\u4e2a\u5bf9\u51fd\u6570\u8868\u8fbe\u5f0f\uff08Function Expression\uff09\u7684\u5b9a\u4e49\uff0c\u53ef\u80fd\u4f1a\u5199\u6210\u8fd9\u6837\uff1a let mySum = function ( x : number , y : number ) : number { return x + y ; }; \u8fd9\u662f\u53ef\u4ee5\u901a\u8fc7\u7f16\u8bd1\u7684\uff0c\u4e0d\u8fc7\u4e8b\u5b9e\u4e0a\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u53ea\u5bf9\u7b49\u53f7\u53f3\u4fa7\u7684\u533f\u540d\u51fd\u6570\u8fdb\u884c\u4e86\u7c7b\u578b\u5b9a\u4e49\uff0c\u800c\u7b49\u53f7\u5de6\u8fb9\u7684 mySum \uff0c\u662f\u901a\u8fc7\u8d4b\u503c\u64cd\u4f5c\u8fdb\u884c\u7c7b\u578b\u63a8\u8bba\u800c\u63a8\u65ad\u51fa\u6765\u7684\u3002\u5982\u679c\u9700\u8981\u6211\u4eec\u624b\u52a8\u7ed9 mySum \u6dfb\u52a0\u7c7b\u578b\uff0c\u5219\u5e94\u8be5\u662f\u8fd9\u6837\uff1a let mySum : ( x : number , y : number ) => number = function ( x : number , y : number ) : number { return x + y ; }; \u6ce8\u610f\u4e0d\u8981\u6df7\u6dc6\u4e86 TypeScript \u4e2d\u7684 => \u548c ES6 \u4e2d\u7684 => \u3002 \u5728 TypeScript \u7684\u7c7b\u578b\u5b9a\u4e49\u4e2d\uff0c => \u7528\u6765\u8868\u793a\u51fd\u6570\u7684\u5b9a\u4e49\uff0c\u5de6\u8fb9\u662f\u8f93\u5165\u7c7b\u578b\uff0c\u9700\u8981\u7528\u62ec\u53f7\u62ec\u8d77\u6765\uff0c\u53f3\u8fb9\u662f\u8f93\u51fa\u7c7b\u578b\u3002 \u5728 ES6 \u4e2d\uff0c => \u53eb\u505a\u7bad\u5934\u51fd\u6570\uff0c\u5e94\u7528\u5341\u5206\u5e7f\u6cdb\uff0c\u53ef\u4ee5\u53c2\u8003 ES6 \u4e2d\u7684\u7bad\u5934\u51fd\u6570 \u3002 \u7528\u63a5\u53e3\u5b9a\u4e49\u51fd\u6570\u7684\u5f62\u72b6 \u00b6 \u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528\u63a5\u53e3\u7684\u65b9\u5f0f\u6765\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u9700\u8981\u7b26\u5408\u7684\u5f62\u72b6\uff1a interface SearchFunc { ( source : string , subString : string ) : boolean ; } let mySearch : SearchFunc ; mySearch = function ( source : string , subString : string ) { return source . search ( subString ) !== - 1 ; } \u91c7\u7528\u51fd\u6570\u8868\u8fbe\u5f0f|\u63a5\u53e3\u5b9a\u4e49\u51fd\u6570\u7684\u65b9\u5f0f\u65f6\uff0c\u5bf9\u7b49\u53f7\u5de6\u4fa7\u8fdb\u884c\u7c7b\u578b\u9650\u5236\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u4ee5\u540e\u5bf9\u51fd\u6570\u540d\u8d4b\u503c\u65f6\u4fdd\u8bc1\u53c2\u6570\u4e2a\u6570\u3001\u53c2\u6570\u7c7b\u578b\u3001\u8fd4\u56de\u503c\u7c7b\u578b\u4e0d\u53d8\u3002 \u53ef\u9009\u53c2\u6570 \u00b6 \u524d\u9762\u63d0\u5230\uff0c\u8f93\u5165\u591a\u4f59\u7684\uff08\u6216\u8005\u5c11\u4e8e\u8981\u6c42\u7684\uff09\u53c2\u6570\uff0c\u662f\u4e0d\u5141\u8bb8\u7684\u3002\u90a3\u4e48\u5982\u4f55\u5b9a\u4e49\u53ef\u9009\u7684\u53c2\u6570\u5462\uff1f \u4e0e\u63a5\u53e3\u4e2d\u7684\u53ef\u9009\u5c5e\u6027\u7c7b\u4f3c\uff0c\u6211\u4eec\u7528 ? \u8868\u793a\u53ef\u9009\u7684\u53c2\u6570\uff1a function buildName ( firstName : string , lastName? : string ) { if ( lastName ) { return firstName + ' ' + lastName ; } else { return firstName ; } } let tomcat = buildName ( 'Tom' , 'Cat' ); let tom = buildName ( 'Tom' ); \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u53ef\u9009\u53c2\u6570\u5fc5\u987b\u63a5\u5728\u5fc5\u9700\u53c2\u6570\u540e\u9762\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c \u53ef\u9009\u53c2\u6570\u540e\u9762\u4e0d\u5141\u8bb8\u518d\u51fa\u73b0\u5fc5\u9700\u53c2\u6570\u4e86 \uff1a function buildName ( firstName? : string , lastName : string ) { if ( firstName ) { return firstName + ' ' + lastName ; } else { return lastName ; } } let tomcat = buildName ( 'Tom' , 'Cat' ); let tom = buildName ( undefined , 'Tom' ); // index.ts(1,40): error TS1016: A required parameter cannot follow an optional parameter. \u53c2\u6570\u9ed8\u8ba4\u503c \u00b6 \u5728 ES6 \u4e2d\uff0c\u6211\u4eec\u5141\u8bb8\u7ed9\u51fd\u6570\u7684\u53c2\u6570\u6dfb\u52a0\u9ed8\u8ba4\u503c\uff0c TypeScript \u4f1a\u5c06\u6dfb\u52a0\u4e86\u9ed8\u8ba4\u503c\u7684\u53c2\u6570\u8bc6\u522b\u4e3a\u53ef\u9009\u53c2\u6570 \uff1a function buildName ( firstName : string , lastName : string = 'Cat' ) { return firstName + ' ' + lastName ; } let tomcat = buildName ( 'Tom' , 'Cat' ); let tom = buildName ( 'Tom' ); \u6b64\u65f6\u5c31\u4e0d\u53d7\u300c\u53ef\u9009\u53c2\u6570\u5fc5\u987b\u63a5\u5728\u5fc5\u9700\u53c2\u6570\u540e\u9762\u300d\u7684\u9650\u5236\u4e86\uff1a function buildName ( firstName : string = 'Tom' , lastName : string ) { return firstName + ' ' + lastName ; } let tomcat = buildName ( 'Tom' , 'Cat' ); let cat = buildName ( undefined , 'Cat' ); \u5269\u4f59\u53c2\u6570 \u00b6 ES6 \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 ...rest \u7684\u65b9\u5f0f\u83b7\u53d6\u51fd\u6570\u4e2d\u7684\u5269\u4f59\u53c2\u6570\uff08rest \u53c2\u6570\uff09\uff1a function push ( array , ... items ) { items . forEach ( function ( item ) { array . push ( item ); }); } let a : any [] = []; push ( a , 1 , 2 , 3 ); \u4e8b\u5b9e\u4e0a\uff0c items \u662f\u4e00\u4e2a\u6570\u7ec4\u3002\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7528\u6570\u7ec4\u7684\u7c7b\u578b\u6765\u5b9a\u4e49\u5b83\uff1a function push ( array : any [], ... items : any []) { items . forEach ( function ( item ) { array . push ( item ); }); } let a = []; push ( a , 1 , 2 , 3 ); \u6ce8\u610f\uff0crest \u53c2\u6570\u53ea\u80fd\u662f\u6700\u540e\u4e00\u4e2a\u53c2\u6570\uff0c\u5173\u4e8e rest \u53c2\u6570\uff0c\u53ef\u4ee5\u53c2\u8003 ES6 \u4e2d\u7684 rest \u53c2\u6570 \u3002 \u91cd\u8f7d \u00b6 \u91cd\u8f7d\u5141\u8bb8\u4e00\u4e2a\u51fd\u6570\u63a5\u53d7\u4e0d\u540c\u6570\u91cf\u6216\u7c7b\u578b\u7684\u53c2\u6570\u65f6\uff0c\u4f5c\u51fa\u4e0d\u540c\u7684\u5904\u7406\u3002 \u6bd4\u5982\uff0c\u6211\u4eec\u9700\u8981\u5b9e\u73b0\u4e00\u4e2a\u51fd\u6570 reverse \uff0c\u8f93\u5165\u6570\u5b57 123 \u7684\u65f6\u5019\uff0c\u8f93\u51fa\u53cd\u8f6c\u7684\u6570\u5b57 321 \uff0c\u8f93\u5165\u5b57\u7b26\u4e32 'hello' \u7684\u65f6\u5019\uff0c\u8f93\u51fa\u53cd\u8f6c\u7684\u5b57\u7b26\u4e32 'olleh' \u3002 \u5229\u7528\u8054\u5408\u7c7b\u578b\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u4e48\u5b9e\u73b0\uff1a function reverse ( x : number | string ) : number | string { if ( typeof x === 'number' ) { return Number ( x . toString (). split ( '' ). reverse (). join ( '' )); } else if ( typeof x === 'string' ) { return x . split ( '' ). reverse (). join ( '' ); } } \u7136\u800c\u8fd9\u6837\u6709\u4e00\u4e2a\u7f3a\u70b9\uff0c\u5c31\u662f\u4e0d\u80fd\u591f\u7cbe\u786e\u7684\u8868\u8fbe\uff0c\u8f93\u5165\u4e3a\u6570\u5b57\u7684\u65f6\u5019\uff0c\u8f93\u51fa\u4e5f\u5e94\u8be5\u4e3a\u6570\u5b57\uff0c\u8f93\u5165\u4e3a\u5b57\u7b26\u4e32\u7684\u65f6\u5019\uff0c\u8f93\u51fa\u4e5f\u5e94\u8be5\u4e3a\u5b57\u7b26\u4e32\u3002 \u8fd9\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u91cd\u8f7d\u5b9a\u4e49\u591a\u4e2a reverse \u7684\u51fd\u6570\u7c7b\u578b\uff1a function reverse ( x : number ) : number ; function reverse ( x : string ) : string ; function reverse ( x : number | string ) : number | string { if ( typeof x === 'number' ) { return Number ( x . toString (). split ( '' ). reverse (). join ( '' )); } else if ( typeof x === 'string' ) { return x . split ( '' ). reverse (). join ( '' ); } } \u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u91cd\u590d\u5b9a\u4e49\u4e86\u591a\u6b21\u51fd\u6570 reverse \uff0c\u524d\u51e0\u6b21\u90fd\u662f\u51fd\u6570\u5b9a\u4e49\uff0c\u6700\u540e\u4e00\u6b21\u662f\u51fd\u6570\u5b9e\u73b0\u3002\u5728\u7f16\u8f91\u5668\u7684\u4ee3\u7801\u63d0\u793a\u4e2d\uff0c\u53ef\u4ee5\u6b63\u786e\u7684\u770b\u5230\u524d\u4e24\u4e2a\u63d0\u793a\u3002 \u6ce8\u610f\uff0cTypeScript \u4f1a\u4f18\u5148\u4ece\u6700\u524d\u9762\u7684\u51fd\u6570\u5b9a\u4e49\u5f00\u59cb\u5339\u914d\uff0c\u6240\u4ee5\u591a\u4e2a\u51fd\u6570\u5b9a\u4e49\u5982\u679c\u6709\u5305\u542b\u5173\u7cfb\uff0c\u9700\u8981\u4f18\u5148\u628a\u7cbe\u786e\u7684\u5b9a\u4e49\u5199\u5728\u524d\u9762\u3002 8.\u7c7b\u578b\u65ad\u8a00 \u00b6 \u7c7b\u578b\u65ad\u8a00\uff08Type Assertion\uff09\u53ef\u4ee5\u7528\u6765\u624b\u52a8\u6307\u5b9a\u4e00\u4e2a\u503c\u7684\u7c7b\u578b\u3002 \u8bed\u6cd5 \u00b6 \u503c as \u7c7b\u578b \u5728 tsx \u8bed\u6cd5\uff08React \u7684 jsx \u8bed\u6cd5\u7684 ts \u7248\uff09\u4e2d\u5fc5\u987b\u4f7f\u7528\u8fd9\u79cd\u7c7b\u578b\uff0c\u5373 \u503c as \u7c7b\u578b \u3002 \u5f62\u5982 <Foo> \u7684\u8bed\u6cd5\u5728 tsx \u4e2d\u8868\u793a\u7684\u662f\u4e00\u4e2a ReactNode \uff0c\u5728 ts \u4e2d\u9664\u4e86\u8868\u793a\u7c7b\u578b\u65ad\u8a00\u4e4b\u5916\uff0c\u4e5f\u53ef\u80fd\u662f\u8868\u793a\u4e00\u4e2a \u6cdb\u578b \u3002 \u6545\u5efa\u8bae\u5927\u5bb6\u5728\u4f7f\u7528\u7c7b\u578b\u65ad\u8a00\u65f6\uff0c\u7edf\u4e00\u4f7f\u7528 \u503c as \u7c7b\u578b \u8fd9\u6837\u7684\u8bed\u6cd5\uff0c\u672c\u4e66\u4e2d\u4e5f\u4f1a\u8d2f\u5f7b\u8fd9\u4e00\u601d\u60f3\u3002 \u7c7b\u578b\u65ad\u8a00\u7684\u7528\u9014 \u00b6 \u7c7b\u578b\u65ad\u8a00\u7684\u5e38\u89c1\u7528\u9014\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a \u5c06\u4e00\u4e2a\u8054\u5408\u7c7b\u578b\u65ad\u8a00\u4e3a\u5176\u4e2d\u4e00\u4e2a\u7c7b\u578b \u00b6 \u5f53 TypeScript \u4e0d\u786e\u5b9a\u4e00\u4e2a\u8054\u5408\u7c7b\u578b\u7684\u53d8\u91cf\u5230\u5e95\u662f\u54ea\u4e2a\u7c7b\u578b\u7684\u65f6\u5019\uff0c\u6211\u4eec**\u53ea\u80fd\u8bbf\u95ee\u6b64\u8054\u5408\u7c7b\u578b\u7684\u6240\u6709\u7c7b\u578b\u4e2d\u5171\u6709\u7684\u5c5e\u6027\u6216\u65b9\u6cd5**\uff1a interface Cat { name : string ; run () : void ; } interface Fish { name : string ; swim () : void ; } function getName ( animal : Cat | Fish ) { return animal . name ; } \u800c\u6709\u65f6\u5019\uff0c\u6211\u4eec\u786e\u5b9e\u9700\u8981\u5728\u8fd8\u4e0d\u786e\u5b9a\u7c7b\u578b\u7684\u65f6\u5019\u5c31\u8bbf\u95ee\u5176\u4e2d\u4e00\u4e2a\u7c7b\u578b\u7279\u6709\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\uff0c\u6bd4\u5982\uff1a interface Cat { name : string ; run () : void ; } interface Fish { name : string ; swim () : void ; } function isFish ( animal : Cat | Fish ) { if ( typeof animal . swim === 'function' ) { return true ; } return false ; } // index.ts:11:23 - error TS2339: Property 'swim' does not exist on type 'Cat | Fish'. // Property 'swim' does not exist on type 'Cat'. \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u83b7\u53d6 animal.swim \u7684\u65f6\u5019\u4f1a\u62a5\u9519\u3002 \u6b64\u65f6\u53ef\u4ee5\u4f7f\u7528\u7c7b\u578b\u65ad\u8a00\uff0c\u5c06 animal \u65ad\u8a00\u6210 Fish \uff1a interface Cat { name : string ; run () : void ; } interface Fish { name : string ; swim () : void ; } function isFish ( animal : Cat | Fish ) { if ( typeof ( animal as Fish ). swim === 'function' ) { return true ; } return false ; } \u8fd9\u6837\u5c31\u53ef\u4ee5\u89e3\u51b3\u8bbf\u95ee animal.swim \u65f6\u62a5\u9519\u7684\u95ee\u9898\u4e86\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7c7b\u578b\u65ad\u8a00\u53ea\u80fd\u591f\u300c\u6b3a\u9a97\u300dTypeScript \u7f16\u8bd1\u5668\uff0c\u65e0\u6cd5\u907f\u514d\u8fd0\u884c\u65f6\u7684\u9519\u8bef\uff0c\u53cd\u800c\u6ee5\u7528\u7c7b\u578b\u65ad\u8a00\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8fd0\u884c\u65f6\u9519\u8bef\uff1a interface Cat { name : string ; run () : void ; } interface Fish { name : string ; swim () : void ; } function swim ( animal : Cat | Fish ) { ( animal as Fish ). swim (); } const tom : Cat = { name : 'Tom' , run () { console . log ( 'run' ) } }; swim ( tom ); // Uncaught TypeError: animal.swim is not a function` \u4e0a\u9762\u7684\u4f8b\u5b50\u7f16\u8bd1\u65f6\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u5728\u8fd0\u884c\u65f6\u4f1a\u62a5\u9519\uff1a Uncaught TypeError : animal . swim is not a function ` \u539f\u56e0\u662f (animal as Fish).swim() \u8fd9\u6bb5\u4ee3\u7801\u9690\u85cf\u4e86 animal \u53ef\u80fd\u4e3a Cat \u7684\u60c5\u51b5\uff0c\u5c06 animal \u76f4\u63a5\u65ad\u8a00\u4e3a Fish \u4e86\uff0c\u800c TypeScript \u7f16\u8bd1\u5668\u4fe1\u4efb\u4e86\u6211\u4eec\u7684\u65ad\u8a00\uff0c\u6545\u5728\u8c03\u7528 swim() \u65f6\u6ca1\u6709\u7f16\u8bd1\u9519\u8bef\u3002 \u53ef\u662f swim \u51fd\u6570\u63a5\u53d7\u7684\u53c2\u6570\u662f Cat | Fish \uff0c\u4e00\u65e6\u4f20\u5165\u7684\u53c2\u6570\u662f Cat \u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u7531\u4e8e Cat \u4e0a\u6ca1\u6709 swim \u65b9\u6cd5\uff0c\u5c31\u4f1a\u5bfc\u81f4\u8fd0\u884c\u65f6\u9519\u8bef\u4e86\u3002 \u603b\u4e4b\uff0c\u4f7f\u7528\u7c7b\u578b\u65ad\u8a00\u65f6\u4e00\u5b9a\u8981\u683c\u5916\u5c0f\u5fc3\uff0c\u5c3d\u91cf\u907f\u514d\u65ad\u8a00\u540e\u8c03\u7528\u65b9\u6cd5\u6216\u5f15\u7528\u6df1\u5c42\u5c5e\u6027\uff0c\u4ee5\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u8fd0\u884c\u65f6\u9519\u8bef\u3002 \u5c06\u4e00\u4e2a\u7236\u7c7b\u65ad\u8a00\u4e3a\u66f4\u52a0\u5177\u4f53\u7684\u5b50\u7c7b \u00b6 \u5f53\u7c7b\u4e4b\u95f4\u6709\u7ee7\u627f\u5173\u7cfb\u65f6\uff0c\u7c7b\u578b\u65ad\u8a00\u4e5f\u662f\u5f88\u5e38\u89c1\u7684\uff1a class ApiError extends Error { code : number = 0 ; } class HttpError extends Error { statusCode : number = 200 ; } function isApiError ( error : Error ) { if ( typeof ( error as ApiError ). code === 'number' ) { return true ; } return false ; } \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u58f0\u660e\u4e86\u51fd\u6570 isApiError \uff0c\u5b83\u7528\u6765\u5224\u65ad\u4f20\u5165\u7684\u53c2\u6570\u662f\u4e0d\u662f ApiError \u7c7b\u578b\uff0c\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u6837\u4e00\u4e2a\u51fd\u6570\uff0c\u5b83\u7684\u53c2\u6570\u7684\u7c7b\u578b\u80af\u5b9a\u5f97\u662f\u6bd4\u8f83\u62bd\u8c61\u7684\u7236\u7c7b Error \uff0c\u8fd9\u6837\u7684\u8bdd\u8fd9\u4e2a\u51fd\u6570\u5c31\u80fd\u63a5\u53d7 Error \u6216\u5b83\u7684\u5b50\u7c7b\u4f5c\u4e3a\u53c2\u6570\u4e86\u3002 \u4f46\u662f\u7531\u4e8e\u7236\u7c7b Error \u4e2d\u6ca1\u6709 code \u5c5e\u6027\uff0c\u6545\u76f4\u63a5\u83b7\u53d6 error.code \u4f1a\u62a5\u9519\uff0c\u9700\u8981\u4f7f\u7528\u7c7b\u578b\u65ad\u8a00\u83b7\u53d6 (error as ApiError).code \u3002 \u5927\u5bb6\u53ef\u80fd\u4f1a\u6ce8\u610f\u5230\uff0c\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u6709\u4e00\u4e2a\u66f4\u5408\u9002\u7684\u65b9\u5f0f\u6765\u5224\u65ad\u662f\u4e0d\u662f ApiError \uff0c\u90a3\u5c31\u662f\u4f7f\u7528 instanceof \uff1a class ApiError extends Error { code : number = 0 ; } class HttpError extends Error { statusCode : number = 200 ; } function isApiError ( error : Error ) { if ( error instanceof ApiError ) { return true ; } return false ; } \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u786e\u5b9e\u4f7f\u7528 instanceof \u66f4\u52a0\u5408\u9002\uff0c\u56e0\u4e3a ApiError \u662f\u4e00\u4e2a JavaScript \u7684\u7c7b\uff0c\u80fd\u591f\u901a\u8fc7 instanceof \u6765\u5224\u65ad error \u662f\u5426\u662f\u5b83\u7684\u5b9e\u4f8b\u3002 \u4f46\u662f\u6709\u7684\u60c5\u51b5\u4e0b ApiError \u548c HttpError \u4e0d\u662f\u4e00\u4e2a\u771f\u6b63\u7684\u7c7b\uff0c\u800c\u53ea\u662f\u4e00\u4e2a TypeScript \u7684\u63a5\u53e3\uff08 interface \uff09\uff0c\u63a5\u53e3\u662f\u4e00\u4e2a\u7c7b\u578b\uff0c\u4e0d\u662f\u4e00\u4e2a\u771f\u6b63\u7684\u503c\uff0c\u5b83\u5728\u7f16\u8bd1\u7ed3\u679c\u4e2d\u4f1a\u88ab\u5220\u9664\uff0c\u5f53\u7136\u5c31\u65e0\u6cd5\u4f7f\u7528 instanceof \u6765\u505a\u8fd0\u884c\u65f6\u5224\u65ad\u4e86\uff1a interface ApiError extends Error { code : number ; } interface HttpError extends Error { statusCode : number ; } function isApiError ( error : Error ) { if ( error instanceof ApiError ) { return true ; } return false ; } // index.ts:9:26 - error TS2693: 'ApiError' only refers to a type, but is being used as a value here. \u6b64\u65f6\u5c31\u53ea\u80fd\u7528\u7c7b\u578b\u65ad\u8a00\uff0c\u901a\u8fc7\u5224\u65ad\u662f\u5426\u5b58\u5728 code \u5c5e\u6027\uff0c\u6765\u5224\u65ad\u4f20\u5165\u7684\u53c2\u6570\u662f\u4e0d\u662f ApiError \u4e86\uff1a interface ApiError extends Error { code : number ; } interface HttpError extends Error { statusCode : number ; } function isApiError ( error : Error ) { if ( typeof ( error as ApiError ). code === 'number' ) { return true ; } return false ; } \u5c06\u4efb\u4f55\u4e00\u4e2a\u7c7b\u578b\u65ad\u8a00\u4e3a any \u00b6 \u4e3b\u8981\u7528\u4e8e\u5728\u5168\u5c40\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u65b0\u7684\u5c5e\u6027\uff08window.isZhcn\uff09 \u7406\u60f3\u60c5\u51b5\u4e0b\uff0cTypeScript \u7684\u7c7b\u578b\u7cfb\u7edf\u8fd0\u8f6c\u826f\u597d\uff0c\u6bcf\u4e2a\u503c\u7684\u7c7b\u578b\u90fd\u5177\u4f53\u800c\u7cbe\u786e\u3002 \u5f53\u6211\u4eec\u5f15\u7528\u4e00\u4e2a\u5728\u6b64\u7c7b\u578b\u4e0a\u4e0d\u5b58\u5728\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\u65f6\uff0c\u5c31\u4f1a\u62a5\u9519\uff1a const foo : number = 1 ; foo . length = 1 ; // index.ts:2:5 - error TS2339: Property 'length' does not exist on type 'number'. \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6570\u5b57\u7c7b\u578b\u7684\u53d8\u91cf foo \u4e0a\u662f\u6ca1\u6709 length \u5c5e\u6027\u7684\uff0c\u6545 TypeScript \u7ed9\u51fa\u4e86\u76f8\u5e94\u7684\u9519\u8bef\u63d0\u793a\u3002 \u8fd9\u79cd\u9519\u8bef\u63d0\u793a\u663e\u7136\u662f\u975e\u5e38\u6709\u7528\u7684\u3002 \u4f46\u6709\u7684\u65f6\u5019\uff0c\u6211\u4eec\u975e\u5e38\u786e\u5b9a\u8fd9\u6bb5\u4ee3\u7801\u4e0d\u4f1a\u51fa\u9519\uff0c\u6bd4\u5982\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\uff1a window . foo = 1 ; // index.ts:1:8 - error TS2339: Property 'foo' does not exist on type 'Window & typeof globalThis'. \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u5c06 window \u4e0a\u6dfb\u52a0\u4e00\u4e2a\u5c5e\u6027 foo \uff0c\u4f46 TypeScript \u7f16\u8bd1\u65f6\u4f1a\u62a5\u9519\uff0c\u63d0\u793a\u6211\u4eec window \u4e0a\u4e0d\u5b58\u5728 foo \u5c5e\u6027\u3002 \u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 as any \u4e34\u65f6\u5c06 window \u65ad\u8a00\u4e3a any \u7c7b\u578b\uff1a ( window as any ). foo = 1 ; \u5728 any \u7c7b\u578b\u7684\u53d8\u91cf\u4e0a\uff0c\u8bbf\u95ee\u4efb\u4f55\u5c5e\u6027\u90fd\u662f\u5141\u8bb8\u7684\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5c06\u4e00\u4e2a\u53d8\u91cf\u65ad\u8a00\u4e3a any \u53ef\u4ee5\u8bf4\u662f\u89e3\u51b3 TypeScript \u4e2d\u7c7b\u578b\u95ee\u9898\u7684\u6700\u540e\u4e00\u4e2a\u624b\u6bb5\u3002 \u5b83\u6781\u6709\u53ef\u80fd\u63a9\u76d6\u4e86\u771f\u6b63\u7684\u7c7b\u578b\u9519\u8bef\uff0c\u6240\u4ee5\u5982\u679c\u4e0d\u662f\u975e\u5e38\u786e\u5b9a\uff0c\u5c31\u4e0d\u8981\u4f7f\u7528 as any \u3002 \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7[\u6269\u5c55 window \u7684\u7c7b\u578b\uff08TODO\uff09][]\u89e3\u51b3\u8fd9\u4e2a\u9519\u8bef\uff0c\u4e0d\u8fc7\u5982\u679c\u53ea\u662f\u4e34\u65f6\u7684\u589e\u52a0 foo \u5c5e\u6027\uff0c as any \u4f1a\u66f4\u52a0\u65b9\u4fbf\u3002 \u603b\u4e4b\uff0c \u4e00\u65b9\u9762\u4e0d\u80fd\u6ee5\u7528 as any \uff0c\u53e6\u4e00\u65b9\u9762\u4e5f\u4e0d\u8981\u5b8c\u5168\u5426\u5b9a\u5b83\u7684\u4f5c\u7528\uff0c\u6211\u4eec\u9700\u8981\u5728\u7c7b\u578b\u7684\u4e25\u683c\u6027\u548c\u5f00\u53d1\u7684\u4fbf\u5229\u6027\u4e4b\u95f4\u638c\u63e1\u5e73\u8861 \uff08\u8fd9\u4e5f\u662f TypeScript \u7684\u8bbe\u8ba1\u7406\u5ff5 \u4e4b\u4e00\uff09\uff0c\u624d\u80fd\u53d1\u6325\u51fa TypeScript \u6700\u5927\u7684\u4ef7\u503c\u3002 \u5c06 any \u65ad\u8a00\u4e3a\u4e00\u4e2a\u5177\u4f53\u7684\u7c7b\u578b \u00b6 \u5728\u65e5\u5e38\u7684\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u4e0d\u53ef\u907f\u514d\u7684\u9700\u8981\u5904\u7406 any \u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u5b83\u4eec\u53ef\u80fd\u662f\u7531\u4e8e\u7b2c\u4e09\u65b9\u5e93\u672a\u80fd\u5b9a\u4e49\u597d\u81ea\u5df1\u7684\u7c7b\u578b\uff0c\u4e5f\u6709\u53ef\u80fd\u662f\u5386\u53f2\u9057\u7559\u7684\u6216\u5176\u4ed6\u4eba\u7f16\u5199\u7684\u70c2\u4ee3\u7801\uff0c\u8fd8\u53ef\u80fd\u662f\u53d7\u5230 TypeScript \u7c7b\u578b\u7cfb\u7edf\u7684\u9650\u5236\u800c\u65e0\u6cd5\u7cbe\u786e\u5b9a\u4e49\u7c7b\u578b\u7684\u573a\u666f\u3002 \u9047\u5230 any \u7c7b\u578b\u7684\u53d8\u91cf\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u65e0\u89c6\u5b83\uff0c\u4efb\u7531\u5b83\u6ecb\u751f\u66f4\u591a\u7684 any \u3002 \u6211\u4eec\u4e5f\u53ef\u4ee5\u9009\u62e9\u6539\u8fdb\u5b83\uff0c\u901a\u8fc7\u7c7b\u578b\u65ad\u8a00\u53ca\u65f6\u7684\u628a any \u65ad\u8a00\u4e3a\u7cbe\u786e\u7684\u7c7b\u578b\uff0c\u4ea1\u7f8a\u8865\u7262\uff0c\u4f7f\u6211\u4eec\u7684\u4ee3\u7801\u5411\u7740\u9ad8\u53ef\u7ef4\u62a4\u6027\u7684\u76ee\u6807\u53d1\u5c55\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u5386\u53f2\u9057\u7559\u7684\u4ee3\u7801\u4e2d\u6709\u4e2a getCacheData \uff0c\u5b83\u7684\u8fd4\u56de\u503c\u662f any \uff1a function getCacheData ( key : string ) : any { return ( window as any ). cache [ key ]; } \u90a3\u4e48\u6211\u4eec\u5728\u4f7f\u7528\u5b83\u65f6\uff0c\u6700\u597d\u80fd\u591f\u5c06\u8c03\u7528\u4e86\u5b83\u4e4b\u540e\u7684\u8fd4\u56de\u503c\u65ad\u8a00\u6210\u4e00\u4e2a\u7cbe\u786e\u7684\u7c7b\u578b\uff0c\u8fd9\u6837\u5c31\u65b9\u4fbf\u4e86\u540e\u7eed\u7684\u64cd\u4f5c\uff1a function getCacheData ( key : string ) : any { return ( window as any ). cache [ key ]; } interface Cat { name : string ; run () : void ; } const tom = getCacheData ( 'tom' ) as Cat ; tom . run (); \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u8c03\u7528\u5b8c getCacheData \u4e4b\u540e\uff0c\u7acb\u5373\u5c06\u5b83\u65ad\u8a00\u4e3a Cat \u7c7b\u578b\u3002\u8fd9\u6837\u7684\u8bdd\u660e\u786e\u4e86 tom \u7684\u7c7b\u578b\uff0c\u540e\u7eed\u5bf9 tom \u7684\u8bbf\u95ee\u65f6\u5c31\u6709\u4e86\u4ee3\u7801\u8865\u5168\uff0c\u63d0\u9ad8\u4e86\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027\u3002 \u7c7b\u578b\u65ad\u8a00\u7684\u9650\u5236 \u00b6 \u672c\u5c0f\u7ed3\u7684\u524d\u7f6e\u77e5\u8bc6\u70b9\uff1a[\u7ed3\u6784\u7c7b\u578b\u7cfb\u7edf\uff08TODO\uff09][]\u3001[\u7c7b\u578b\u517c\u5bb9\u6027\uff08TODO\uff09][] \u4ece\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u603b\u7ed3\u51fa\uff1a \u8054\u5408\u7c7b\u578b\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u5176\u4e2d\u4e00\u4e2a\u7c7b\u578b \u7236\u7c7b\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u5b50\u7c7b \u4efb\u4f55\u7c7b\u578b\u90fd\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a any any \u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u4efb\u4f55\u7c7b\u578b \u90a3\u4e48\u7c7b\u578b\u65ad\u8a00\u6709\u6ca1\u6709\u4ec0\u4e48\u9650\u5236\u5462\uff1f\u662f\u4e0d\u662f\u4efb\u4f55\u4e00\u4e2a\u7c7b\u578b\u90fd\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u4efb\u4f55\u53e6\u4e00\u4e2a\u7c7b\u578b\u5462\uff1f \u7b54\u6848\u662f\u5426\u5b9a\u7684\u2014\u2014\u5e76\u4e0d\u662f\u4efb\u4f55\u4e00\u4e2a\u7c7b\u578b\u90fd\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u4efb\u4f55\u53e6\u4e00\u4e2a\u7c7b\u578b\u3002 \u5177\u4f53\u6765\u8bf4\uff0c\u82e5 A \u517c\u5bb9 B \uff0c\u90a3\u4e48 A \u80fd\u591f\u88ab\u65ad\u8a00\u4e3a B \uff0c B \u4e5f\u80fd\u88ab\u65ad\u8a00\u4e3a A \u3002 \u4e0b\u9762\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u7b80\u5316\u7684\u4f8b\u5b50\uff0c\u6765\u7406\u89e3\u7c7b\u578b\u65ad\u8a00\u7684\u9650\u5236\uff1a interface Animal { name : string ; } interface Cat { name : string ; run () : void ; } let tom : Cat = { name : 'Tom' , run : () => { console . log ( 'run' ) } }; let animal : Animal = tom ; \u6211\u4eec\u77e5\u9053\uff0cTypeScript \u662f\u7ed3\u6784\u7c7b\u578b\u7cfb\u7edf\uff0c\u7c7b\u578b\u4e4b\u95f4\u7684\u5bf9\u6bd4\u53ea\u4f1a\u6bd4\u8f83\u5b83\u4eec\u6700\u7ec8\u7684\u7ed3\u6784\uff0c\u800c\u4f1a\u5ffd\u7565\u5b83\u4eec\u5b9a\u4e49\u65f6\u7684\u5173\u7cfb\u3002 \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c Cat \u5305\u542b\u4e86 Animal \u4e2d\u7684\u6240\u6709\u5c5e\u6027\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u5b83\u8fd8\u6709\u4e00\u4e2a\u989d\u5916\u7684\u65b9\u6cd5 run \u3002TypeScript \u5e76\u4e0d\u5173\u5fc3 Cat \u548c Animal \u4e4b\u95f4\u5b9a\u4e49\u65f6\u662f\u4ec0\u4e48\u5173\u7cfb\uff0c\u800c\u53ea\u4f1a\u770b\u5b83\u4eec\u6700\u7ec8\u7684\u7ed3\u6784\u6709\u4ec0\u4e48\u5173\u7cfb\u2014\u2014\u6240\u4ee5\u5b83\u4e0e Cat extends Animal \u662f\u7b49\u4ef7\u7684\uff1a interface Animal { name : string ; } interface Cat extends Animal { run () : void ; } \u90a3\u4e48\u4e5f\u4e0d\u96be\u7406\u89e3\u4e3a\u4ec0\u4e48 Cat \u7c7b\u578b\u7684 tom \u53ef\u4ee5\u8d4b\u503c\u7ed9 Animal \u7c7b\u578b\u7684 animal \u4e86\u2014\u2014\u5c31\u50cf\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u4e2d\u6211\u4eec\u53ef\u4ee5\u5c06\u5b50\u7c7b\u7684\u5b9e\u4f8b\u8d4b\u503c\u7ed9\u7c7b\u578b\u4e3a\u7236\u7c7b\u7684\u53d8\u91cf\u3002 \u6211\u4eec\u628a\u5b83\u6362\u6210 TypeScript \u4e2d\u66f4\u4e13\u4e1a\u7684\u8bf4\u6cd5\uff0c\u5373\uff1a Animal \u517c\u5bb9 Cat \u3002 \u5f53 Animal \u517c\u5bb9 Cat \u65f6\uff0c\u5b83\u4eec\u5c31\u53ef\u4ee5\u4e92\u76f8\u8fdb\u884c\u7c7b\u578b\u65ad\u8a00\u4e86\uff1a interface Animal { name : string ; } interface Cat { name : string ; run () : void ; } function testAnimal ( animal : Animal ) { return ( animal as Cat ); } function testCat ( cat : Cat ) { return ( cat as Animal ); } \u8fd9\u6837\u7684\u8bbe\u8ba1\u5176\u5b9e\u4e5f\u5f88\u5bb9\u6613\u5c31\u80fd\u7406\u89e3\uff1a \u5141\u8bb8 animal as Cat \u662f\u56e0\u4e3a\u300c\u7236\u7c7b\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u5b50\u7c7b\u300d\uff0c\u8fd9\u4e2a\u524d\u9762\u5df2\u7ecf\u5b66\u4e60\u8fc7\u4e86 \u5141\u8bb8 cat as Animal \u662f\u56e0\u4e3a\u65e2\u7136\u5b50\u7c7b\u62e5\u6709\u7236\u7c7b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u90a3\u4e48\u88ab\u65ad\u8a00\u4e3a\u7236\u7c7b\uff0c\u83b7\u53d6\u7236\u7c7b\u7684\u5c5e\u6027\u3001\u8c03\u7528\u7236\u7c7b\u7684\u65b9\u6cd5\uff0c\u5c31\u4e0d\u4f1a\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u6545\u300c\u5b50\u7c7b\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u7236\u7c7b\u300d \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u4e86\u7b80\u5316\u7684\u7236\u7c7b\u5b50\u7c7b\u7684\u5173\u7cfb\u6765\u8868\u8fbe\u7c7b\u578b\u7684\u517c\u5bb9\u6027\uff0c\u800c\u5b9e\u9645\u4e0a TypeScript \u5728\u5224\u65ad\u7c7b\u578b\u7684\u517c\u5bb9\u6027\u65f6\uff0c\u6bd4\u8fd9\u79cd\u60c5\u51b5\u590d\u6742\u5f88\u591a\uff0c\u8be6\u7ec6\u8bf7\u53c2\u8003[\u7c7b\u578b\u7684\u517c\u5bb9\u6027\uff08TODO)][]\u7ae0\u8282\u3002 \u603b\u4e4b\uff0c\u82e5 A \u517c\u5bb9 B \uff0c\u90a3\u4e48 A \u80fd\u591f\u88ab\u65ad\u8a00\u4e3a B \uff0c B \u4e5f\u80fd\u88ab\u65ad\u8a00\u4e3a A \u3002 \u540c\u7406\uff0c\u82e5 B \u517c\u5bb9 A \uff0c\u90a3\u4e48 A \u80fd\u591f\u88ab\u65ad\u8a00\u4e3a B \uff0c B \u4e5f\u80fd\u88ab\u65ad\u8a00\u4e3a A \u3002 \u6240\u4ee5\u8fd9\u4e5f\u53ef\u4ee5\u6362\u4e00\u79cd\u8bf4\u6cd5\uff1a \u8981\u4f7f\u5f97 A \u80fd\u591f\u88ab\u65ad\u8a00\u4e3a B \uff0c\u53ea\u9700\u8981 A \u517c\u5bb9 B \u6216 B \u517c\u5bb9 A \u5373\u53ef\uff0c\u8fd9\u4e5f\u662f\u4e3a\u4e86\u5728\u7c7b\u578b\u65ad\u8a00\u65f6\u7684\u5b89\u5168\u8003\u8651\uff0c\u6bd5\u7adf\u6beb\u65e0\u6839\u636e\u7684\u65ad\u8a00\u662f\u975e\u5e38\u5371\u9669\u7684\u3002 \u7efc\u4e0a\u6240\u8ff0\uff1a \u8054\u5408\u7c7b\u578b\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u5176\u4e2d\u4e00\u4e2a\u7c7b\u578b \u7236\u7c7b\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u5b50\u7c7b \u4efb\u4f55\u7c7b\u578b\u90fd\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a any any \u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u4efb\u4f55\u7c7b\u578b \u8981\u4f7f\u5f97 A \u80fd\u591f\u88ab\u65ad\u8a00\u4e3a B \uff0c\u53ea\u9700\u8981 A \u517c\u5bb9 B \u6216 B \u517c\u5bb9 A \u5373\u53ef \u5176\u5b9e\u524d\u56db\u79cd\u60c5\u51b5\u90fd\u662f\u6700\u540e\u4e00\u4e2a\u7684\u7279\u4f8b\u3002 \u53cc\u91cd\u65ad\u8a00 \u00b6 \u65e2\u7136\uff1a \u4efb\u4f55\u7c7b\u578b\u90fd\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a any any \u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u4efb\u4f55\u7c7b\u578b \u90a3\u4e48\u6211\u4eec\u662f\u4e0d\u662f\u53ef\u4ee5\u4f7f\u7528\u53cc\u91cd\u65ad\u8a00 as any as Foo \u6765\u5c06\u4efb\u4f55\u4e00\u4e2a\u7c7b\u578b\u65ad\u8a00\u4e3a\u4efb\u4f55\u53e6\u4e00\u4e2a\u7c7b\u578b\u5462\uff1f interface Cat { run () : void ; } interface Fish { swim () : void ; } function testCat ( cat : Cat ) { return ( cat as any as Fish ); } \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u82e5\u76f4\u63a5\u4f7f\u7528 cat as Fish \u80af\u5b9a\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a Cat \u548c Fish \u4e92\u76f8\u90fd\u4e0d\u517c\u5bb9\u3002 \u4f46\u662f\u82e5\u4f7f\u7528\u53cc\u91cd\u65ad\u8a00\uff0c\u5219\u53ef\u4ee5\u6253\u7834\u300c\u8981\u4f7f\u5f97 A \u80fd\u591f\u88ab\u65ad\u8a00\u4e3a B \uff0c\u53ea\u9700\u8981 A \u517c\u5bb9 B \u6216 B \u517c\u5bb9 A \u5373\u53ef\u300d\u7684\u9650\u5236\uff0c\u5c06\u4efb\u4f55\u4e00\u4e2a\u7c7b\u578b\u65ad\u8a00\u4e3a\u4efb\u4f55\u53e6\u4e00\u4e2a\u7c7b\u578b\u3002 \u82e5\u4f60\u4f7f\u7528\u4e86\u8fd9\u79cd\u53cc\u91cd\u65ad\u8a00\uff0c\u90a3\u4e48\u5341\u6709\u516b\u4e5d\u662f\u975e\u5e38\u9519\u8bef\u7684\uff0c\u5b83\u5f88\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8fd0\u884c\u65f6\u9519\u8bef\u3002 \u9664\u975e\u8feb\u4e0d\u5f97\u5df2\uff0c\u5343\u4e07\u522b\u7528\u53cc\u91cd\u65ad\u8a00\u3002 \u7c7b\u578b\u65ad\u8a00 vs \u7c7b\u578b\u8f6c\u6362 \u00b6 \u7c7b\u578b\u65ad\u8a00\u53ea\u4f1a\u5f71\u54cd TypeScript \u7f16\u8bd1\u65f6\u7684\u7c7b\u578b\uff0c\u7c7b\u578b\u65ad\u8a00\u8bed\u53e5\u5728\u7f16\u8bd1\u7ed3\u679c\u4e2d\u4f1a\u88ab\u5220\u9664\uff1a function toBoolean ( something : any ) : boolean { return something as boolean ; } toBoolean ( 1 ); // \u8fd4\u56de\u503c\u4e3a 1 \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u5c06 something \u65ad\u8a00\u4e3a boolean \u867d\u7136\u53ef\u4ee5\u901a\u8fc7\u7f16\u8bd1\uff0c\u4f46\u662f\u5e76\u6ca1\u6709\u4ec0\u4e48\u7528\uff0c\u4ee3\u7801\u5728\u7f16\u8bd1\u540e\u4f1a\u53d8\u6210\uff1a function toBoolean ( something ) { return something ; } toBoolean ( 1 ); // \u8fd4\u56de\u503c\u4e3a 1 \u6240\u4ee5\u7c7b\u578b\u65ad\u8a00\u4e0d\u662f\u7c7b\u578b\u8f6c\u6362\uff0c\u5b83\u4e0d\u4f1a\u771f\u7684\u5f71\u54cd\u5230\u53d8\u91cf\u7684\u7c7b\u578b\u3002 \u82e5\u8981\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\uff0c\u9700\u8981\u76f4\u63a5\u8c03\u7528\u7c7b\u578b\u8f6c\u6362\u7684\u65b9\u6cd5\uff1a function toBoolean ( something : any ) : boolean { return Boolean ( something ); } toBoolean ( 1 ); // \u8fd4\u56de\u503c\u4e3a true \u7c7b\u578b\u65ad\u8a00 vs \u7c7b\u578b\u58f0\u660e \u00b6 \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff1a function getCacheData ( key : string ) : any { return ( window as any ). cache [ key ]; } interface Cat { name : string ; run () : void ; } const tom = getCacheData ( 'tom' ) as Cat ; tom . run (); \u6211\u4eec\u4f7f\u7528 as Cat \u5c06 any \u7c7b\u578b\u65ad\u8a00\u4e3a\u4e86 Cat \u7c7b\u578b\u3002 \u4f46\u5b9e\u9645\u4e0a\u8fd8\u6709\u5176\u4ed6\u65b9\u5f0f\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff1a function getCacheData ( key : string ) : any { return ( window as any ). cache [ key ]; } interface Cat { name : string ; run () : void ; } const tom : Cat = getCacheData ( 'tom' ); tom . run (); \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u7c7b\u578b\u58f0\u660e\u7684\u65b9\u5f0f\uff0c\u5c06 tom \u58f0\u660e\u4e3a Cat \uff0c\u7136\u540e\u518d\u5c06 any \u7c7b\u578b\u7684 getCacheData('tom') \u8d4b\u503c\u7ed9 Cat \u7c7b\u578b\u7684 tom \u3002 \u8fd9\u548c\u7c7b\u578b\u65ad\u8a00\u662f\u975e\u5e38\u76f8\u4f3c\u7684\uff0c\u800c\u4e14\u4ea7\u751f\u7684\u7ed3\u679c\u4e5f\u51e0\u4e4e\u662f\u4e00\u6837\u7684\u2014\u2014 tom \u5728\u63a5\u4e0b\u6765\u7684\u4ee3\u7801\u4e2d\u90fd\u53d8\u6210\u4e86 Cat \u7c7b\u578b\u3002 \u5b83\u4eec\u7684\u533a\u522b\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u4f8b\u5b50\u6765\u7406\u89e3\uff1a interface Animal { name : string ; } interface Cat { name : string ; run () : void ; } const animal : Animal = { name : 'tom' }; let tom = animal as Cat ; \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u7531\u4e8e Animal \u517c\u5bb9 Cat \uff0c\u6545\u53ef\u4ee5\u5c06 animal \u65ad\u8a00\u4e3a Cat \u8d4b\u503c\u7ed9 tom \u3002 \u4f46\u662f\u82e5\u76f4\u63a5\u58f0\u660e tom \u4e3a Cat \u7c7b\u578b\uff1a interface Animal { name : string ; } interface Cat { name : string ; run () : void ; } const animal : Animal = { name : 'tom' }; let tom : Cat = animal ; // index.ts:12:5 - error TS2741: Property 'run' is missing in type 'Animal' but required in type 'Cat'. \u5219\u4f1a\u62a5\u9519\uff0c\u4e0d\u5141\u8bb8\u5c06 animal \u8d4b\u503c\u4e3a Cat \u7c7b\u578b\u7684 tom \u3002 \u8fd9\u5f88\u5bb9\u6613\u7406\u89e3\uff0c Animal \u53ef\u4ee5\u770b\u4f5c\u662f Cat \u7684\u7236\u7c7b\uff0c\u5f53\u7136\u4e0d\u80fd\u5c06\u7236\u7c7b\u7684\u5b9e\u4f8b\u8d4b\u503c\u7ed9\u7c7b\u578b\u4e3a\u5b50\u7c7b\u7684\u53d8\u91cf\u3002 \u6df1\u5165\u7684\u8bb2\uff0c\u5b83\u4eec\u7684\u6838\u5fc3\u533a\u522b\u5c31\u5728\u4e8e\uff1a animal \u65ad\u8a00\u4e3a Cat \uff0c\u53ea\u9700\u8981\u6ee1\u8db3 Animal \u517c\u5bb9 Cat \u6216 Cat \u517c\u5bb9 Animal \u5373\u53ef animal \u8d4b\u503c\u7ed9 tom \uff0c\u9700\u8981\u6ee1\u8db3 Cat \u517c\u5bb9 Animal \u624d\u884c \u4f46\u662f Cat \u5e76\u4e0d\u517c\u5bb9 Animal \u3002 \u800c\u5728\u524d\u4e00\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u7531\u4e8e getCacheData('tom') \u662f any \u7c7b\u578b\uff0c any \u517c\u5bb9 Cat \uff0c Cat \u4e5f\u517c\u5bb9 any \uff0c\u6545 const tom = getCacheData ( 'tom' ) as Cat ; \u7b49\u4ef7\u4e8e const tom : Cat = getCacheData ( 'tom' ); \u77e5\u9053\u4e86\u5b83\u4eec\u7684\u6838\u5fc3\u533a\u522b\uff0c\u5c31\u77e5\u9053\u4e86\u7c7b\u578b\u58f0\u660e\u662f\u6bd4\u7c7b\u578b\u65ad\u8a00\u66f4\u52a0\u4e25\u683c\u7684\u3002 \u6240\u4ee5\u4e3a\u4e86\u589e\u52a0\u4ee3\u7801\u7684\u8d28\u91cf\uff0c\u6211\u4eec\u6700\u597d\u4f18\u5148\u4f7f\u7528\u7c7b\u578b\u58f0\u660e\uff0c\u8fd9\u4e5f\u6bd4\u7c7b\u578b\u65ad\u8a00\u7684 as \u8bed\u6cd5\u66f4\u52a0\u4f18\u96c5\u3002 \u7c7b\u578b\u65ad\u8a00 vs \u6cdb\u578b \u00b6 \u672c\u5c0f\u7ed3\u7684\u524d\u7f6e\u77e5\u8bc6\u70b9\uff1a \u6cdb\u578b \u8fd8\u662f\u8fd9\u4e2a\u4f8b\u5b50\uff1a function getCacheData ( key : string ) : any { return ( window as any ). cache [ key ]; } interface Cat { name : string ; run () : void ; } const tom = getCacheData ( 'tom' ) as Cat ; tom . run (); \u6211\u4eec\u8fd8\u6709\u7b2c\u4e09\u79cd\u65b9\u5f0f\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u90a3\u5c31\u662f\u6cdb\u578b\uff1a function getCacheData < T > ( key : string ) : T { return ( window as any ). cache [ key ]; } interface Cat { name : string ; run () : void ; } const tom = getCacheData < Cat > ( 'tom' ); tom . run (); \u901a\u8fc7\u7ed9 getCacheData \u51fd\u6570\u6dfb\u52a0\u4e86\u4e00\u4e2a\u6cdb\u578b <T> \uff0c\u6211\u4eec\u53ef\u4ee5\u66f4\u52a0\u89c4\u8303\u7684\u5b9e\u73b0\u5bf9 getCacheData \u8fd4\u56de\u503c\u7684\u7ea6\u675f\uff0c\u8fd9\u4e5f\u540c\u65f6\u53bb\u9664\u6389\u4e86\u4ee3\u7801\u4e2d\u7684 any \uff0c\u662f\u6700\u4f18\u7684\u4e00\u4e2a\u89e3\u51b3\u65b9\u6848\u3002 9.\u58f0\u660e\u6587\u4ef6 \u00b6 \u5f53\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u65f6\uff0c\u6211\u4eec\u9700\u8981\u5f15\u7528\u5b83\u7684\u58f0\u660e\u6587\u4ef6\uff0c\u624d\u80fd\u83b7\u5f97\u5bf9\u5e94\u7684\u4ee3\u7801\u8865\u5168\u3001\u63a5\u53e3\u63d0\u793a\u7b49\u529f\u80fd\u3002 \u65b0\u8bed\u6cd5\u7d22\u5f15 \u00b6 \u7531\u4e8e\u672c\u7ae0\u6d89\u53ca\u5927\u91cf\u65b0\u8bed\u6cd5\uff0c\u6545\u5728\u672c\u7ae0\u5f00\u5934\u5217\u51fa\u65b0\u8bed\u6cd5\u7684\u7d22\u5f15\uff0c\u65b9\u4fbf\u5927\u5bb6\u5728\u4f7f\u7528\u8fd9\u4e9b\u65b0\u8bed\u6cd5\u65f6\u80fd\u5feb\u901f\u67e5\u627e\u5230\u5bf9\u5e94\u7684\u8bb2\u89e3\uff1a declare var \u58f0\u660e\u5168\u5c40\u53d8\u91cf declare function \u58f0\u660e\u5168\u5c40\u65b9\u6cd5 declare class \u58f0\u660e\u5168\u5c40\u7c7b declare enum \u58f0\u660e\u5168\u5c40\u679a\u4e3e\u7c7b\u578b declare namespace \u58f0\u660e\uff08\u542b\u6709\u5b50\u5c5e\u6027\u7684\uff09\u5168\u5c40\u5bf9\u8c61 interface \u548c type \u58f0\u660e\u5168\u5c40\u7c7b\u578b export \u5bfc\u51fa\u53d8\u91cf export namespace \u5bfc\u51fa\uff08\u542b\u6709\u5b50\u5c5e\u6027\u7684\uff09\u5bf9\u8c61 export default ES6 \u9ed8\u8ba4\u5bfc\u51fa export = commonjs \u5bfc\u51fa\u6a21\u5757 export as namespace UMD \u5e93\u58f0\u660e\u5168\u5c40\u53d8\u91cf declare global \u6269\u5c55\u5168\u5c40\u53d8\u91cf declare module \u6269\u5c55\u6a21\u5757 /// \u4e09\u659c\u7ebf\u6307\u4ee4 \u4ec0\u4e48\u662f\u58f0\u660e\u8bed\u53e5 \u00b6 \u5047\u5982\u6211\u4eec\u60f3\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93 jQuery\uff0c\u4e00\u79cd\u5e38\u89c1\u7684\u65b9\u5f0f\u662f\u5728 html \u4e2d\u901a\u8fc7 <script> \u6807\u7b7e\u5f15\u5165 jQuery\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u4f7f\u7528\u5168\u5c40\u53d8\u91cf $ \u6216 jQuery \u4e86\u3002 \u6211\u4eec\u901a\u5e38\u8fd9\u6837\u83b7\u53d6\u4e00\u4e2a id \u662f foo \u7684\u5143\u7d20\uff1a $ ( '#foo' ); // or jQuery ( '#foo' ); \u4f46\u662f\u5728 ts \u4e2d\uff0c\u7f16\u8bd1\u5668\u5e76\u4e0d\u77e5\u9053 $ \u6216 jQuery \u662f\u4ec0\u4e48\u4e1c\u897f 1 \uff1a jQuery ( '#foo' ); // ERROR: Cannot find name 'jQuery'. \u8fd9\u65f6\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528 declare var \u6765\u5b9a\u4e49\u5b83\u7684\u7c7b\u578b 2 \uff1a declare var jQuery : ( selector : string ) => any ; jQuery ( '#foo' ); \u4e0a\u4f8b\u4e2d\uff0c declare var \u5e76\u6ca1\u6709\u771f\u7684\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\uff0c\u53ea\u662f\u5b9a\u4e49\u4e86\u5168\u5c40\u53d8\u91cf jQuery \u7684\u7c7b\u578b\uff0c\u4ec5\u4ec5\u4f1a\u7528\u4e8e\u7f16\u8bd1\u65f6\u7684\u68c0\u67e5\uff0c\u5728\u7f16\u8bd1\u7ed3\u679c\u4e2d\u4f1a\u88ab\u5220\u9664\u3002\u5b83\u7f16\u8bd1\u7ed3\u679c\u662f\uff1a jQuery ( '#foo' ); \u9664\u4e86 declare var \u4e4b\u5916\uff0c\u8fd8\u6709\u5176\u4ed6\u5f88\u591a\u79cd\u58f0\u660e\u8bed\u53e5\uff0c\u5c06\u4f1a\u5728\u540e\u9762\u8be6\u7ec6\u4ecb\u7ecd\u3002 \u4ec0\u4e48\u662f\u58f0\u660e\u6587\u4ef6 \u00b6 \u901a\u5e38\u6211\u4eec\u4f1a\u628a\u58f0\u660e\u8bed\u53e5\u653e\u5230\u4e00\u4e2a\u5355\u72ec\u7684\u6587\u4ef6\uff08 jQuery.d.ts \uff09\u4e2d\uff0c\u8fd9\u5c31\u662f\u58f0\u660e\u6587\u4ef6 3 \uff1a // src/jQuery.d.ts declare var jQuery : ( selector : string ) => any ; // src/index.ts jQuery ( '#foo' ); \u58f0\u660e\u6587\u4ef6\u5fc5\u9700\u4ee5 .d.ts \u4e3a\u540e\u7f00\u3002 \u4e00\u822c\u6765\u8bf4\uff0cts \u4f1a\u89e3\u6790\u9879\u76ee\u4e2d\u6240\u6709\u7684 *.ts \u6587\u4ef6\uff0c\u5f53\u7136\u4e5f\u5305\u542b\u4ee5 .d.ts \u7ed3\u5c3e\u7684\u6587\u4ef6\u3002\u6240\u4ee5\u5f53\u6211\u4eec\u5c06 jQuery.d.ts \u653e\u5230\u9879\u76ee\u4e2d\u65f6\uff0c\u5176\u4ed6\u6240\u6709 *.ts \u6587\u4ef6\u5c31\u90fd\u53ef\u4ee5\u83b7\u5f97 jQuery \u7684\u7c7b\u578b\u5b9a\u4e49\u4e86\u3002 / path / to / project \u251c\u2500\u2500 src | \u251c\u2500\u2500 index . ts | \u2514\u2500\u2500 jQuery . d . ts \u2514\u2500\u2500 tsconfig . json \u5047\u5982\u4ecd\u7136\u65e0\u6cd5\u89e3\u6790\uff0c\u90a3\u4e48\u53ef\u4ee5\u68c0\u67e5\u4e0b tsconfig.json \u4e2d\u7684 files \u3001 include \u548c exclude \u914d\u7f6e\uff0c\u786e\u4fdd\u5176\u5305\u542b\u4e86 jQuery.d.ts \u6587\u4ef6\u3002 \u8fd9\u91cc\u53ea\u6f14\u793a\u4e86\u5168\u5c40\u53d8\u91cf\u8fd9\u79cd\u6a21\u5f0f\u7684\u58f0\u660e\u6587\u4ef6\uff0c\u5047\u5982\u662f\u901a\u8fc7\u6a21\u5757\u5bfc\u5165\u7684\u65b9\u5f0f\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u7684\u8bdd\uff0c\u90a3\u4e48\u5f15\u5165\u58f0\u660e\u6587\u4ef6\u53c8\u662f\u53e6\u4e00\u79cd\u65b9\u5f0f\u4e86\uff0c\u5c06\u4f1a\u5728\u540e\u9762\u8be6\u7ec6\u4ecb\u7ecd\u3002 \u7b2c\u4e09\u65b9\u58f0\u660e\u6587\u4ef6 \u00b6 \u5f53\u7136\uff0cjQuery \u7684\u58f0\u660e\u6587\u4ef6\u4e0d\u9700\u8981\u6211\u4eec\u5b9a\u4e49\u4e86\uff0c\u793e\u533a\u5df2\u7ecf\u5e2e\u6211\u4eec\u5b9a\u4e49\u597d\u4e86\uff1a jQuery in DefinitelyTyped \u3002 \u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4e0b\u8f7d\u4e0b\u6765\u4f7f\u7528\uff0c\u4f46\u662f\u66f4\u63a8\u8350\u7684\u662f\u4f7f\u7528 @types \u7edf\u4e00\u7ba1\u7406\u7b2c\u4e09\u65b9\u5e93\u7684\u58f0\u660e\u6587\u4ef6\u3002 @types \u7684\u4f7f\u7528\u65b9\u5f0f\u5f88\u7b80\u5355\uff0c\u76f4\u63a5\u7528 npm \u5b89\u88c5\u5bf9\u5e94\u7684\u58f0\u660e\u6a21\u5757\u5373\u53ef\uff0c\u4ee5 jQuery \u4e3e\u4f8b\uff1a npm install @types/jquery --save-dev \u53ef\u4ee5\u5728 \u8fd9\u4e2a\u9875\u9762 \u641c\u7d22\u4f60\u9700\u8981\u7684\u58f0\u660e\u6587\u4ef6\u3002 \u4e66\u5199\u58f0\u660e\u6587\u4ef6 \u00b6 \u5f53\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5e93\u6ca1\u6709\u63d0\u4f9b\u58f0\u660e\u6587\u4ef6\u65f6\uff0c\u6211\u4eec\u5c31\u9700\u8981\u81ea\u5df1\u4e66\u5199\u58f0\u660e\u6587\u4ef6\u4e86\u3002\u524d\u9762\u53ea\u4ecb\u7ecd\u4e86\u6700\u7b80\u5355\u7684\u58f0\u660e\u6587\u4ef6\u5185\u5bb9\uff0c\u800c\u771f\u6b63\u4e66\u5199\u4e00\u4e2a\u58f0\u660e\u6587\u4ef6\u5e76\u4e0d\u662f\u4e00\u4ef6\u7b80\u5355\u7684\u4e8b\uff0c\u4ee5\u4e0b\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\u5982\u4f55\u4e66\u5199\u58f0\u660e\u6587\u4ef6\u3002 \u5728\u4e0d\u540c\u7684\u573a\u666f\u4e0b\uff0c\u58f0\u660e\u6587\u4ef6\u7684\u5185\u5bb9\u548c\u4f7f\u7528\u65b9\u5f0f\u4f1a\u6709\u6240\u533a\u522b\u3002 \u5e93\u7684\u4f7f\u7528\u573a\u666f\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a \u5168\u5c40\u53d8\u91cf \uff1a\u901a\u8fc7 <script> \u6807\u7b7e\u5f15\u5165\u7b2c\u4e09\u65b9\u5e93\uff0c\u6ce8\u5165\u5168\u5c40\u53d8\u91cf npm \u5305 \uff1a\u901a\u8fc7 import foo from 'foo' \u5bfc\u5165\uff0c\u7b26\u5408 ES6 \u6a21\u5757\u89c4\u8303 UMD \u5e93 \uff1a\u65e2\u53ef\u4ee5\u901a\u8fc7 <script> \u6807\u7b7e\u5f15\u5165\uff0c\u53c8\u53ef\u4ee5\u901a\u8fc7 import \u5bfc\u5165 \u76f4\u63a5\u6269\u5c55\u5168\u5c40\u53d8\u91cf \uff1a\u901a\u8fc7 <script> \u6807\u7b7e\u5f15\u5165\u540e\uff0c\u6539\u53d8\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u7ed3\u6784 \u5728 npm \u5305\u6216 UMD \u5e93\u4e2d\u6269\u5c55\u5168\u5c40\u53d8\u91cf \uff1a\u5f15\u7528 npm \u5305\u6216 UMD \u5e93\u540e\uff0c\u6539\u53d8\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u7ed3\u6784 \u6a21\u5757\u63d2\u4ef6 \uff1a\u901a\u8fc7 <script> \u6216 import \u5bfc\u5165\u540e\uff0c\u6539\u53d8\u53e6\u4e00\u4e2a\u6a21\u5757\u7684\u7ed3\u6784 \u5168\u5c40\u53d8\u91cf \u00b6 \u5168\u5c40\u53d8\u91cf\u662f\u6700\u7b80\u5355\u7684\u4e00\u79cd\u573a\u666f\uff0c\u4e4b\u524d\u4e3e\u7684\u4f8b\u5b50\u5c31\u662f\u901a\u8fc7 <script> \u6807\u7b7e\u5f15\u5165 jQuery\uff0c\u6ce8\u5165\u5168\u5c40\u53d8\u91cf $ \u548c jQuery \u3002 \u4f7f\u7528\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u65f6\uff0c\u5982\u679c\u662f\u4ee5 npm install @types/xxx --save-dev \u5b89\u88c5\u7684\uff0c\u5219\u4e0d\u9700\u8981\u4efb\u4f55\u914d\u7f6e\u3002\u5982\u679c\u662f\u5c06\u58f0\u660e\u6587\u4ef6\u76f4\u63a5\u5b58\u653e\u4e8e\u5f53\u524d\u9879\u76ee\u4e2d\uff0c\u5219\u5efa\u8bae\u548c\u5176\u4ed6\u6e90\u7801\u4e00\u8d77\u653e\u5230 src \u76ee\u5f55\u4e0b\uff08\u6216\u8005\u5bf9\u5e94\u7684\u6e90\u7801\u76ee\u5f55\u4e0b\uff09\uff1a / path / to / project \u251c\u2500\u2500 src | \u251c\u2500\u2500 index . ts | \u2514\u2500\u2500 jQuery . d . ts \u2514\u2500\u2500 tsconfig . json \u5982\u679c\u6ca1\u6709\u751f\u6548\uff0c\u53ef\u4ee5\u68c0\u67e5\u4e0b tsconfig.json \u4e2d\u7684 files \u3001 include \u548c exclude \u914d\u7f6e\uff0c\u786e\u4fdd\u5176\u5305\u542b\u4e86 jQuery.d.ts \u6587\u4ef6\u3002 \u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\u8bed\u6cd5\uff1a declare var \u58f0\u660e\u5168\u5c40\u53d8\u91cf declare function \u58f0\u660e\u5168\u5c40\u65b9\u6cd5 declare class \u58f0\u660e\u5168\u5c40\u7c7b declare enum \u58f0\u660e\u5168\u5c40\u679a\u4e3e\u7c7b\u578b declare namespace \u58f0\u660e\uff08\u542b\u6709\u5b50\u5c5e\u6027\u7684\uff09\u5168\u5c40\u5bf9\u8c61 interface \u548c type \u58f0\u660e\u5168\u5c40\u7c7b\u578b declare var \u00b6 \u5728\u6240\u6709\u7684\u58f0\u660e\u8bed\u53e5\u4e2d\uff0c declare var \u662f\u6700\u7b80\u5355\u7684\uff0c\u5982\u4e4b\u524d\u6240\u5b66\uff0c\u5b83\u80fd\u591f\u7528\u6765\u5b9a\u4e49\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u7c7b\u578b\u3002\u4e0e\u5176\u7c7b\u4f3c\u7684\uff0c\u8fd8\u6709 declare let \u548c declare const \uff0c\u4f7f\u7528 let \u4e0e\u4f7f\u7528 var \u6ca1\u6709\u4ec0\u4e48\u533a\u522b\uff1a // src/jQuery.d.ts declare let jQuery : ( selector : string ) => any ; // src/index.ts jQuery ( '#foo' ); // \u4f7f\u7528 declare let \u5b9a\u4e49\u7684 jQuery \u7c7b\u578b\uff0c\u5141\u8bb8\u4fee\u6539\u8fd9\u4e2a\u5168\u5c40\u53d8\u91cf jQuery = function ( selector ) { return document . querySelector ( selector ); }; \u800c\u5f53\u6211\u4eec\u4f7f\u7528 const \u5b9a\u4e49\u65f6\uff0c\u8868\u793a\u6b64\u65f6\u7684\u5168\u5c40\u53d8\u91cf\u662f\u4e00\u4e2a\u5e38\u91cf\uff0c\u4e0d\u5141\u8bb8\u518d\u53bb\u4fee\u6539\u5b83\u7684\u503c\u4e86 4 \uff1a // src/jQuery.d.ts declare const jQuery : ( selector : string ) => any ; jQuery ( '#foo' ); // \u4f7f\u7528 declare const \u5b9a\u4e49\u7684 jQuery \u7c7b\u578b\uff0c\u7981\u6b62\u4fee\u6539\u8fd9\u4e2a\u5168\u5c40\u53d8\u91cf jQuery = function ( selector ) { return document . querySelector ( selector ); }; // ERROR: Cannot assign to 'jQuery' because it is a constant or a read-only property. \u4e00\u822c\u6765\u8bf4\uff0c\u5168\u5c40\u53d8\u91cf\u90fd\u662f\u7981\u6b62\u4fee\u6539\u7684\u5e38\u91cf\uff0c\u6240\u4ee5\u5927\u90e8\u5206\u60c5\u51b5\u90fd\u5e94\u8be5\u4f7f\u7528 const \u800c\u4e0d\u662f var \u6216 let \u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u58f0\u660e\u8bed\u53e5\u4e2d\u53ea\u80fd\u5b9a\u4e49\u7c7b\u578b\uff0c\u5207\u52ff\u5728\u58f0\u660e\u8bed\u53e5\u4e2d\u5b9a\u4e49\u5177\u4f53\u7684\u5b9e\u73b0 5 \uff1a declare const jQuery = function ( selector ) { return document . querySelector ( selector ); }; // ERROR: An implementation cannot be declared in ambient contexts. declare function \u00b6 declare function \u7528\u6765\u5b9a\u4e49\u5168\u5c40\u51fd\u6570\u7684\u7c7b\u578b\u3002jQuery \u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u6240\u4ee5\u4e5f\u53ef\u4ee5\u7528 function \u6765\u5b9a\u4e49\uff1a // src/jQuery.d.ts declare function jQuery ( selector : string ) : any ; // src/index.ts jQuery ( '#foo' ); \u5728\u51fd\u6570\u7c7b\u578b\u7684\u58f0\u660e\u8bed\u53e5\u4e2d\uff0c\u51fd\u6570\u91cd\u8f7d\u4e5f\u662f\u652f\u6301\u7684 6 \uff1a // src/jQuery.d.ts declare function jQuery ( selector : string ) : any ; declare function jQuery ( domReadyCallback : () => any ) : any ; // src/index.ts jQuery ( '#foo' ); jQuery ( function () { alert ( 'Dom Ready!' ); }); declare class \u00b6 \u5f53\u5168\u5c40\u53d8\u91cf\u662f\u4e00\u4e2a\u7c7b\u7684\u65f6\u5019\uff0c\u6211\u4eec\u7528 declare class \u6765\u5b9a\u4e49\u5b83\u7684\u7c7b\u578b 7 \uff1a // src/Animal.d.ts declare class Animal { name : string ; constructor ( name : string ); sayHi () : string ; } // src/index.ts let cat = new Animal ( 'Tom' ); \u540c\u6837\u7684\uff0c declare class \u8bed\u53e5\u4e5f\u53ea\u80fd\u7528\u6765\u5b9a\u4e49\u7c7b\u578b\uff0c\u4e0d\u80fd\u7528\u6765\u5b9a\u4e49\u5177\u4f53\u7684\u5b9e\u73b0\uff0c\u6bd4\u5982\u5b9a\u4e49 sayHi \u65b9\u6cd5\u7684\u5177\u4f53\u5b9e\u73b0\u5219\u4f1a\u62a5\u9519\uff1a // src/Animal.d.ts declare class Animal { name : string ; constructor ( name : string ); sayHi () { return `My name is ${ this . name } ` ; }; // ERROR: An implementation cannot be declared in ambient contexts. } declare enum \u00b6 \u4f7f\u7528 declare enum \u5b9a\u4e49\u7684\u679a\u4e3e\u7c7b\u578b\u4e5f\u79f0\u4f5c\u5916\u90e8\u679a\u4e3e\uff08Ambient Enums\uff09\uff0c\u4e3e\u4f8b\u5982\u4e0b 8 \uff1a // src/Directions.d.ts declare enum Directions { Up , Down , Left , Right } // src/index.ts let directions = [ Directions . Up , Directions . Down , Directions . Left , Directions . Right ]; \u4e0e\u5176\u4ed6\u5168\u5c40\u53d8\u91cf\u7684\u7c7b\u578b\u58f0\u660e\u4e00\u81f4\uff0c declare enum \u4ec5\u7528\u6765\u5b9a\u4e49\u7c7b\u578b\uff0c\u800c\u4e0d\u662f\u5177\u4f53\u7684\u503c\u3002 Directions.d.ts \u4ec5\u4ec5\u4f1a\u7528\u4e8e\u7f16\u8bd1\u65f6\u7684\u68c0\u67e5\uff0c\u58f0\u660e\u6587\u4ef6\u91cc\u7684\u5185\u5bb9\u5728\u7f16\u8bd1\u7ed3\u679c\u4e2d\u4f1a\u88ab\u5220\u9664\u3002\u5b83\u7f16\u8bd1\u7ed3\u679c\u662f\uff1a var directions = [ Directions . Up , Directions . Down , Directions . Left , Directions . Right ]; \u5176\u4e2d Directions \u662f\u7531\u7b2c\u4e09\u65b9\u5e93\u5b9a\u4e49\u597d\u7684\u5168\u5c40\u53d8\u91cf\u3002 declare namespace \u00b6 namespace \u662f ts \u65e9\u671f\u65f6\u4e3a\u4e86\u89e3\u51b3\u6a21\u5757\u5316\u800c\u521b\u9020\u7684\u5173\u952e\u5b57\uff0c\u4e2d\u6587\u79f0\u4e3a\u547d\u540d\u7a7a\u95f4\u3002 \u7531\u4e8e\u5386\u53f2\u9057\u7559\u539f\u56e0\uff0c\u5728\u65e9\u671f\u8fd8\u6ca1\u6709 ES6 \u7684\u65f6\u5019\uff0cts \u63d0\u4f9b\u4e86\u4e00\u79cd\u6a21\u5757\u5316\u65b9\u6848\uff0c\u4f7f\u7528 module \u5173\u952e\u5b57\u8868\u793a\u5185\u90e8\u6a21\u5757\u3002\u4f46\u7531\u4e8e\u540e\u6765 ES6 \u4e5f\u4f7f\u7528\u4e86 module \u5173\u952e\u5b57\uff0cts \u4e3a\u4e86\u517c\u5bb9 ES6\uff0c\u4f7f\u7528 namespace \u66ff\u4ee3\u4e86\u81ea\u5df1\u7684 module \uff0c\u66f4\u540d\u4e3a\u547d\u540d\u7a7a\u95f4\u3002 \u968f\u7740 ES6 \u7684\u5e7f\u6cdb\u5e94\u7528\uff0c\u73b0\u5728\u5df2\u7ecf\u4e0d\u5efa\u8bae\u518d\u4f7f\u7528 ts \u4e2d\u7684 namespace \uff0c\u800c\u63a8\u8350\u4f7f\u7528 ES6 \u7684\u6a21\u5757\u5316\u65b9\u6848\u4e86\uff0c\u6545\u6211\u4eec\u4e0d\u518d\u9700\u8981\u5b66\u4e60 namespace \u7684\u4f7f\u7528\u4e86\u3002 namespace \u88ab\u6dd8\u6c70\u4e86\uff0c\u4f46\u662f\u5728\u58f0\u660e\u6587\u4ef6\u4e2d\uff0c declare namespace \u8fd8\u662f\u6bd4\u8f83\u5e38\u7528\u7684\uff0c\u5b83\u7528\u6765\u8868\u793a\u5168\u5c40\u53d8\u91cf\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5305\u542b\u5f88\u591a\u5b50\u5c5e\u6027\u3002 \u6bd4\u5982 jQuery \u662f\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u5b83\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2a jQuery.ajax \u65b9\u6cd5\u53ef\u4ee5\u8c03\u7528\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u5e94\u8be5\u4f7f\u7528 declare namespace jQuery \u6765\u58f0\u660e\u8fd9\u4e2a\u62e5\u6709\u591a\u4e2a\u5b50\u5c5e\u6027\u7684\u5168\u5c40\u53d8\u91cf\u3002 // src/jQuery.d.ts declare namespace jQuery { function ajax ( url : string , settings? : any ) : void ; } // src/index.ts jQuery . ajax ( '/api/get_something' ); \u6ce8\u610f\uff0c\u5728 declare namespace \u5185\u90e8\uff0c\u6211\u4eec\u76f4\u63a5\u4f7f\u7528 function ajax \u6765\u58f0\u660e\u51fd\u6570\uff0c\u800c\u4e0d\u662f\u4f7f\u7528 declare function ajax \u3002\u7c7b\u4f3c\u7684\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 const , class , enum \u7b49\u8bed\u53e5 9 \uff1a // src/jQuery.d.ts declare namespace jQuery { function ajax ( url : string , settings? : any ) : void ; const version : number ; class Event { blur ( eventType : EventType ) : void } enum EventType { CustomClick } } // src/index.ts jQuery . ajax ( '/api/get_something' ); console . log ( jQuery . version ); const e = new jQuery . Event (); e . blur ( jQuery . EventType . CustomClick ); \u5d4c\u5957\u7684\u547d\u540d\u7a7a\u95f4 \u5982\u679c\u5bf9\u8c61\u62e5\u6709\u6df1\u5c42\u7684\u5c42\u7ea7\uff0c\u5219\u9700\u8981\u7528\u5d4c\u5957\u7684 namespace \u6765\u58f0\u660e\u6df1\u5c42\u7684\u5c5e\u6027\u7684\u7c7b\u578b 10 \uff1a // src/jQuery.d.ts declare namespace jQuery { function ajax ( url : string , settings? : any ) : void ; namespace fn { function extend ( object : any ) : void ; } } // src/index.ts jQuery . ajax ( '/api/get_something' ); jQuery . fn . extend ({ check : function () { return this . each ( function () { this . checked = true ; }); } }); \u5047\u5982 jQuery \u4e0b\u4ec5\u6709 fn \u8fd9\u4e00\u4e2a\u5c5e\u6027\uff08\u6ca1\u6709 ajax \u7b49\u5176\u4ed6\u5c5e\u6027\u6216\u65b9\u6cd5\uff09\uff0c\u5219\u53ef\u4ee5\u4e0d\u9700\u8981\u5d4c\u5957 namespace 11 \uff1a // src/jQuery.d.ts declare namespace jQuery . fn { function extend ( object : any ) : void ; } // src/index.ts jQuery . fn . extend ({ check : function () { return this . each ( function () { this . checked = true ; }); } }); interface \u548c type \u00b6 \u9664\u4e86\u5168\u5c40\u53d8\u91cf\u4e4b\u5916\uff0c\u53ef\u80fd\u6709\u4e00\u4e9b\u7c7b\u578b\u6211\u4eec\u4e5f\u5e0c\u671b\u80fd\u66b4\u9732\u51fa\u6765\u3002\u5728\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 interface \u6216 type \u6765\u58f0\u660e\u4e00\u4e2a\u5168\u5c40\u7684\u63a5\u53e3\u6216\u7c7b\u578b 12 \uff1a // src/jQuery.d.ts interface AjaxSettings { method ?: 'GET' | 'POST' data? : any ; } declare namespace jQuery { function ajax ( url : string , settings? : AjaxSettings ) : void ; } \u8fd9\u6837\u7684\u8bdd\uff0c\u5728\u5176\u4ed6\u6587\u4ef6\u4e2d\u4e5f\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u63a5\u53e3\u6216\u7c7b\u578b\u4e86\uff1a // src/index.ts let settings : AjaxSettings = { method : 'POST' , data : { name : 'foo' } }; jQuery . ajax ( '/api/post_something' , settings ); type \u4e0e interface \u7c7b\u4f3c\uff0c\u4e0d\u518d\u8d58\u8ff0\u3002 \u9632\u6b62\u547d\u540d\u51b2\u7a81 \u66b4\u9732\u5728\u6700\u5916\u5c42\u7684 interface \u6216 type \u4f1a\u4f5c\u4e3a\u5168\u5c40\u7c7b\u578b\u4f5c\u7528\u4e8e\u6574\u4e2a\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u5e94\u8be5\u5c3d\u53ef\u80fd\u7684\u51cf\u5c11\u5168\u5c40\u53d8\u91cf\u6216\u5168\u5c40\u7c7b\u578b\u7684\u6570\u91cf\u3002\u6545\u6700\u597d\u5c06\u4ed6\u4eec\u653e\u5230 namespace \u4e0b 13 \uff1a // src/jQuery.d.ts declare namespace jQuery { interface AjaxSettings { method ?: 'GET' | 'POST' data? : any ; } function ajax ( url : string , settings? : AjaxSettings ) : void ; } \u6ce8\u610f\uff0c\u5728\u4f7f\u7528\u8fd9\u4e2a interface \u7684\u65f6\u5019\uff0c\u4e5f\u5e94\u8be5\u52a0\u4e0a jQuery \u524d\u7f00\uff1a // src/index.ts let settings : jQuery.AjaxSettings = { method : 'POST' , data : { name : 'foo' } }; jQuery . ajax ( '/api/post_something' , settings ); \u58f0\u660e\u5408\u5e76 \u00b6 \u5047\u5982 jQuery \u65e2\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u53ef\u4ee5\u76f4\u63a5\u88ab\u8c03\u7528 jQuery('#foo') \uff0c\u53c8\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u62e5\u6709\u5b50\u5c5e\u6027 jQuery.ajax() \uff08\u4e8b\u5b9e\u786e\u5b9e\u5982\u6b64\uff09\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u7ec4\u5408\u591a\u4e2a\u58f0\u660e\u8bed\u53e5\uff0c\u5b83\u4eec\u4f1a\u4e0d\u51b2\u7a81\u7684\u5408\u5e76\u8d77\u6765 14 \uff1a // src/jQuery.d.ts declare function jQuery ( selector : string ) : any ; declare namespace jQuery { function ajax ( url : string , settings? : any ) : void ; } // src/index.ts jQuery ( '#foo' ); jQuery . ajax ( '/api/get_something' ); \u5173\u4e8e\u58f0\u660e\u5408\u5e76\u7684\u66f4\u591a\u7528\u6cd5\uff0c\u53ef\u4ee5\u67e5\u770b \u58f0\u660e\u5408\u5e76 \u7ae0\u8282\u3002 npm \u5305 \u00b6 \u4e00\u822c\u6211\u4eec\u901a\u8fc7 import foo from 'foo' \u5bfc\u5165\u4e00\u4e2a npm \u5305\uff0c\u8fd9\u662f\u7b26\u5408 ES6 \u6a21\u5757\u89c4\u8303\u7684\u3002 \u5728\u6211\u4eec\u5c1d\u8bd5\u7ed9\u4e00\u4e2a npm \u5305\u521b\u5efa\u58f0\u660e\u6587\u4ef6\u4e4b\u524d\uff0c\u9700\u8981\u5148\u770b\u770b\u5b83\u7684\u58f0\u660e\u6587\u4ef6\u662f\u5426\u5df2\u7ecf\u5b58\u5728\u3002\u4e00\u822c\u6765\u8bf4\uff0cnpm \u5305\u7684\u58f0\u660e\u6587\u4ef6\u53ef\u80fd\u5b58\u5728\u4e8e\u4e24\u4e2a\u5730\u65b9\uff1a \u4e0e\u8be5 npm \u5305\u7ed1\u5b9a\u5728\u4e00\u8d77\u3002\u5224\u65ad\u4f9d\u636e\u662f package.json \u4e2d\u6709 types \u5b57\u6bb5\uff0c\u6216\u8005\u6709\u4e00\u4e2a index.d.ts \u58f0\u660e\u6587\u4ef6\u3002\u8fd9\u79cd\u6a21\u5f0f\u4e0d\u9700\u8981\u989d\u5916\u5b89\u88c5\u5176\u4ed6\u5305\uff0c\u662f\u6700\u4e3a\u63a8\u8350\u7684\uff0c\u6240\u4ee5\u4ee5\u540e\u6211\u4eec\u81ea\u5df1\u521b\u5efa npm \u5305\u7684\u65f6\u5019\uff0c\u6700\u597d\u4e5f\u5c06\u58f0\u660e\u6587\u4ef6\u4e0e npm \u5305\u7ed1\u5b9a\u5728\u4e00\u8d77\u3002 \u53d1\u5e03\u5230 @types \u91cc\u3002\u6211\u4eec\u53ea\u9700\u8981\u5c1d\u8bd5\u5b89\u88c5\u4e00\u4e0b\u5bf9\u5e94\u7684 @types \u5305\u5c31\u77e5\u9053\u662f\u5426\u5b58\u5728\u8be5\u58f0\u660e\u6587\u4ef6\uff0c\u5b89\u88c5\u547d\u4ee4\u662f npm install @types/foo --save-dev \u3002\u8fd9\u79cd\u6a21\u5f0f\u4e00\u822c\u662f\u7531\u4e8e npm \u5305\u7684\u7ef4\u62a4\u8005\u6ca1\u6709\u63d0\u4f9b\u58f0\u660e\u6587\u4ef6\uff0c\u6240\u4ee5\u53ea\u80fd\u7531\u5176\u4ed6\u4eba\u5c06\u58f0\u660e\u6587\u4ef6\u53d1\u5e03\u5230 @types \u91cc\u4e86\u3002 \u5047\u5982\u4ee5\u4e0a\u4e24\u79cd\u65b9\u5f0f\u90fd\u6ca1\u6709\u627e\u5230\u5bf9\u5e94\u7684\u58f0\u660e\u6587\u4ef6\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u9700\u8981\u81ea\u5df1\u4e3a\u5b83\u5199\u58f0\u660e\u6587\u4ef6\u4e86\u3002\u7531\u4e8e\u662f\u901a\u8fc7 import \u8bed\u53e5\u5bfc\u5165\u7684\u6a21\u5757\uff0c\u6240\u4ee5\u58f0\u660e\u6587\u4ef6\u5b58\u653e\u7684\u4f4d\u7f6e\u4e5f\u6709\u6240\u7ea6\u675f\uff0c\u4e00\u822c\u6709\u4e24\u79cd\u65b9\u6848\uff1a \u521b\u5efa\u4e00\u4e2a node_modules/@types/foo/index.d.ts \u6587\u4ef6\uff0c\u5b58\u653e foo \u6a21\u5757\u7684\u58f0\u660e\u6587\u4ef6\u3002\u8fd9\u79cd\u65b9\u5f0f\u4e0d\u9700\u8981\u989d\u5916\u7684\u914d\u7f6e\uff0c\u4f46\u662f node_modules \u76ee\u5f55\u4e0d\u7a33\u5b9a\uff0c\u4ee3\u7801\u4e5f\u6ca1\u6709\u88ab\u4fdd\u5b58\u5230\u4ed3\u5e93\u4e2d\uff0c\u65e0\u6cd5\u56de\u6eaf\u7248\u672c\uff0c\u6709\u4e0d\u5c0f\u5fc3\u88ab\u5220\u9664\u7684\u98ce\u9669\uff0c\u6545\u4e0d\u592a\u5efa\u8bae\u7528\u8fd9\u79cd\u65b9\u6848\uff0c\u4e00\u822c\u53ea\u7528\u4f5c\u4e34\u65f6\u6d4b\u8bd5\u3002 \u521b\u5efa\u4e00\u4e2a types \u76ee\u5f55\uff0c\u4e13\u95e8\u7528\u6765\u7ba1\u7406\u81ea\u5df1\u5199\u7684\u58f0\u660e\u6587\u4ef6\uff0c\u5c06 foo \u7684\u58f0\u660e\u6587\u4ef6\u653e\u5230 types/foo/index.d.ts \u4e2d\u3002\u8fd9\u79cd\u65b9\u5f0f\u9700\u8981\u914d\u7f6e\u4e0b tsconfig.json \u4e2d\u7684 paths \u548c baseUrl \u5b57\u6bb5\u3002 \u76ee\u5f55\u7ed3\u6784\uff1a / path / to / project \u251c\u2500\u2500 src | \u2514\u2500\u2500 index . ts \u251c\u2500\u2500 types | \u2514\u2500\u2500 foo | \u2514\u2500\u2500 index . d . ts \u2514\u2500\u2500 tsconfig . json tsconfig.json \u5185\u5bb9\uff1a { \"compilerOptions\" : { \"module\" : \"commonjs\" , \"baseUrl\" : \"./\" , \"paths\" : { \"*\" : [ \"types/*\" ] } } } \u5982\u6b64\u914d\u7f6e\u4e4b\u540e\uff0c\u901a\u8fc7 import \u5bfc\u5165 foo \u7684\u65f6\u5019\uff0c\u4e5f\u4f1a\u53bb types \u76ee\u5f55\u4e0b\u5bfb\u627e\u5bf9\u5e94\u7684\u6a21\u5757\u7684\u58f0\u660e\u6587\u4ef6\u4e86\u3002 \u6ce8\u610f module \u914d\u7f6e\u53ef\u4ee5\u6709\u5f88\u591a\u79cd\u9009\u9879\uff0c\u4e0d\u540c\u7684\u9009\u9879\u4f1a\u5f71\u54cd\u6a21\u5757\u7684\u5bfc\u5165\u5bfc\u51fa\u6a21\u5f0f\u3002\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u4e86 commonjs \u8fd9\u4e2a\u6700\u5e38\u7528\u7684\u9009\u9879\uff0c\u540e\u9762\u7684\u6559\u7a0b\u4e5f\u90fd\u9ed8\u8ba4\u4f7f\u7528\u7684\u8fd9\u4e2a\u9009\u9879\u3002 \u4e0d\u7ba1\u91c7\u7528\u4e86\u4ee5\u4e0a\u4e24\u79cd\u65b9\u5f0f\u4e2d\u7684\u54ea\u4e00\u79cd\uff0c\u6211\u90fd**\u5f3a\u70c8\u5efa\u8bae**\u5927\u5bb6\u5c06\u4e66\u5199\u597d\u7684\u58f0\u660e\u6587\u4ef6\uff08\u901a\u8fc7\u7ed9\u7b2c\u4e09\u65b9\u5e93\u53d1 pull request\uff0c\u6216\u8005\u76f4\u63a5\u63d0\u4ea4\u5230 @types \u91cc\uff09\u53d1\u5e03\u5230\u5f00\u6e90\u793e\u533a\u4e2d\uff0c\u4eab\u53d7\u4e86\u8fd9\u4e48\u591a\u793e\u533a\u7684\u4f18\u79c0\u7684\u8d44\u6e90\uff0c\u5c31\u5e94\u8be5\u5728\u529b\u6240\u80fd\u53ca\u7684\u65f6\u5019\u7ed9\u51fa\u4e00\u4e9b\u56de\u9988\u3002\u53ea\u6709\u6240\u6709\u4eba\u90fd\u53c2\u4e0e\u8fdb\u6765\uff0c\u624d\u80fd\u8ba9 ts \u793e\u533a\u66f4\u52a0\u7e41\u8363\u3002 npm \u5305\u7684\u58f0\u660e\u6587\u4ef6\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\u8bed\u6cd5\uff1a export \u5bfc\u51fa\u53d8\u91cf export namespace \u5bfc\u51fa\uff08\u542b\u6709\u5b50\u5c5e\u6027\u7684\uff09\u5bf9\u8c61 export default ES6 \u9ed8\u8ba4\u5bfc\u51fa export = commonjs \u5bfc\u51fa\u6a21\u5757 export \u00b6 npm \u5305\u7684\u58f0\u660e\u6587\u4ef6\u4e0e\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u6709\u5f88\u5927\u533a\u522b\u3002\u5728 npm \u5305\u7684\u58f0\u660e\u6587\u4ef6\u4e2d\uff0c\u4f7f\u7528 declare \u4e0d\u518d\u4f1a\u58f0\u660e\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u800c\u53ea\u4f1a\u5728\u5f53\u524d\u6587\u4ef6\u4e2d\u58f0\u660e\u4e00\u4e2a\u5c40\u90e8\u53d8\u91cf\u3002\u53ea\u6709\u5728\u58f0\u660e\u6587\u4ef6\u4e2d\u4f7f\u7528 export \u5bfc\u51fa\uff0c\u7136\u540e\u5728\u4f7f\u7528\u65b9 import \u5bfc\u5165\u540e\uff0c\u624d\u4f1a\u5e94\u7528\u5230\u8fd9\u4e9b\u7c7b\u578b\u58f0\u660e\u3002 export \u7684\u8bed\u6cd5\u4e0e\u666e\u901a\u7684 ts \u4e2d\u7684\u8bed\u6cd5\u7c7b\u4f3c\uff0c\u533a\u522b\u4ec5\u5728\u4e8e\u58f0\u660e\u6587\u4ef6\u4e2d\u7981\u6b62\u5b9a\u4e49\u5177\u4f53\u7684\u5b9e\u73b0 15 \uff1a // types/foo/index.d.ts export const name : string ; export function getName () : string ; export class Animal { constructor ( name : string ); sayHi () : string ; } export enum Directions { Up , Down , Left , Right } export interface Options { data : any ; } \u5bf9\u5e94\u7684\u5bfc\u5165\u548c\u4f7f\u7528\u6a21\u5757\u5e94\u8be5\u662f\u8fd9\u6837\uff1a // src/index.ts import { name , getName , Animal , Directions , Options } from 'foo' ; console . log ( name ); let myName = getName (); let cat = new Animal ( 'Tom' ); let directions = [ Directions . Up , Directions . Down , Directions . Left , Directions . Right ]; let options : Options = { data : { name : 'foo' } }; \u6df7\u7528 declare \u548c export \u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528 declare \u5148\u58f0\u660e\u591a\u4e2a\u53d8\u91cf\uff0c\u6700\u540e\u518d\u7528 export \u4e00\u6b21\u6027\u5bfc\u51fa\u3002\u4e0a\u4f8b\u7684\u58f0\u660e\u6587\u4ef6\u53ef\u4ee5\u7b49\u4ef7\u7684\u6539\u5199\u4e3a 16 \uff1a // types/foo/index.d.ts declare const name : string ; declare function getName () : string ; declare class Animal { constructor ( name : string ); sayHi () : string ; } declare enum Directions { Up , Down , Left , Right } interface Options { data : any ; } export { name , getName , Animal , Directions , Options }; \u6ce8\u610f\uff0c\u4e0e\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u7c7b\u4f3c\uff0c interface \u524d\u662f\u4e0d\u9700\u8981 declare \u7684\u3002 export namespace \u00b6 \u4e0e declare namespace \u7c7b\u4f3c\uff0c export namespace \u7528\u6765\u5bfc\u51fa\u4e00\u4e2a\u62e5\u6709\u5b50\u5c5e\u6027\u7684\u5bf9\u8c61 17 \uff1a // types/foo/index.d.ts export namespace foo { const name : string ; namespace bar { function baz () : string ; } } // src/index.ts import { foo } from 'foo' ; console . log ( foo . name ); foo . bar . baz (); export default \u00b6 \u5728 ES6 \u6a21\u5757\u7cfb\u7edf\u4e2d\uff0c\u4f7f\u7528 export default \u53ef\u4ee5\u5bfc\u51fa\u4e00\u4e2a\u9ed8\u8ba4\u503c\uff0c\u4f7f\u7528\u65b9\u53ef\u4ee5\u7528 import foo from 'foo' \u800c\u4e0d\u662f import { foo } from 'foo' \u6765\u5bfc\u5165\u8fd9\u4e2a\u9ed8\u8ba4\u503c\u3002 \u5728\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u4e2d\uff0c export default \u7528\u6765\u5bfc\u51fa\u9ed8\u8ba4\u503c\u7684\u7c7b\u578b 18 \uff1a // types/foo/index.d.ts export default function foo () : string ; // src/index.ts import foo from 'foo' ; foo (); \u6ce8\u610f\uff0c\u53ea\u6709 function \u3001 class \u548c interface \u53ef\u4ee5\u76f4\u63a5\u9ed8\u8ba4\u5bfc\u51fa\uff0c\u5176\u4ed6\u7684\u53d8\u91cf\u9700\u8981\u5148\u5b9a\u4e49\u51fa\u6765\uff0c\u518d\u9ed8\u8ba4\u5bfc\u51fa 19 \uff1a // types/foo/index.d.ts export default enum Directions { // ERROR: Expression expected. Up , Down , Left , Right } \u4e0a\u4f8b\u4e2d export default enum \u662f\u9519\u8bef\u7684\u8bed\u6cd5\uff0c\u9700\u8981\u4f7f\u7528 declare enum \u5b9a\u4e49\u51fa\u6765\uff0c\u7136\u540e\u4f7f\u7528 export default \u5bfc\u51fa\uff1a // types/foo/index.d.ts declare enum Directions { Up , Down , Left , Right } export default Directions ; \u9488\u5bf9\u8fd9\u79cd\u9ed8\u8ba4\u5bfc\u51fa\uff0c\u6211\u4eec\u4e00\u822c\u4f1a\u5c06\u5bfc\u51fa\u8bed\u53e5\u653e\u5728\u6574\u4e2a\u58f0\u660e\u6587\u4ef6\u7684\u6700\u524d\u9762 20 \uff1a // types/foo/index.d.ts export default Directions ; declare enum Directions { Up , Down , Left , Right } export = \u00b6 \u5728 commonjs \u89c4\u8303\u4e2d\uff0c\u6211\u4eec\u7528\u4ee5\u4e0b\u65b9\u5f0f\u6765\u5bfc\u51fa\u4e00\u4e2a\u6a21\u5757\uff1a // \u6574\u4f53\u5bfc\u51fa module . exports = foo ; // \u5355\u4e2a\u5bfc\u51fa exports . bar = bar ; \u5728 ts \u4e2d\uff0c\u9488\u5bf9\u8fd9\u79cd\u6a21\u5757\u5bfc\u51fa\uff0c\u6709\u591a\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5bfc\u5165\uff0c\u7b2c\u4e00\u79cd\u65b9\u5f0f\u662f const ... = require \uff1a // \u6574\u4f53\u5bfc\u5165 const foo = require ( 'foo' ); // \u5355\u4e2a\u5bfc\u5165 const bar = require ( 'foo' ). bar ; \u7b2c\u4e8c\u79cd\u65b9\u5f0f\u662f import ... from \uff0c\u6ce8\u610f\u9488\u5bf9\u6574\u4f53\u5bfc\u51fa\uff0c\u9700\u8981\u4f7f\u7528 import * as \u6765\u5bfc\u5165\uff1a // \u6574\u4f53\u5bfc\u5165 import * as foo from 'foo' ; // \u5355\u4e2a\u5bfc\u5165 import { bar } from 'foo' ; \u7b2c\u4e09\u79cd\u65b9\u5f0f\u662f import ... require \uff0c\u8fd9\u4e5f\u662f ts \u5b98\u65b9\u63a8\u8350\u7684\u65b9\u5f0f\uff1a // \u6574\u4f53\u5bfc\u5165 import foo = require ( 'foo' ); // \u5355\u4e2a\u5bfc\u5165 import bar = foo . bar ; \u5bf9\u4e8e\u8fd9\u79cd\u4f7f\u7528 commonjs \u89c4\u8303\u7684\u5e93\uff0c\u5047\u5982\u8981\u4e3a\u5b83\u5199\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u7684\u8bdd\uff0c\u5c31\u9700\u8981\u4f7f\u7528\u5230 export = \u8fd9\u79cd\u8bed\u6cd5\u4e86 21 \uff1a // types/foo/index.d.ts export = foo ; declare function foo () : string ; declare namespace foo { const bar : number ; } \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e0a\u4f8b\u4e2d\u4f7f\u7528\u4e86 export = \u4e4b\u540e\uff0c\u5c31\u4e0d\u80fd\u518d\u5355\u4e2a\u5bfc\u51fa export { bar } \u4e86\u3002\u6240\u4ee5\u6211\u4eec\u901a\u8fc7\u58f0\u660e\u5408\u5e76\uff0c\u4f7f\u7528 declare namespace foo \u6765\u5c06 bar \u5408\u5e76\u5230 foo \u91cc\u3002 \u7531\u4e8e\u5f88\u591a\u7b2c\u4e09\u65b9\u5e93\u662f commonjs \u89c4\u8303\u7684\uff0c\u6240\u4ee5\u58f0\u660e\u6587\u4ef6\u4e5f\u5c31\u4e0d\u5f97\u4e0d\u7528\u5230 export = \u8fd9\u79cd\u8bed\u6cd5\u4e86\u3002\u4f46\u662f\u8fd8\u662f\u9700\u8981\u518d\u5f3a\u8c03\u4e0b\uff0c\u76f8\u6bd4\u4e0e export = \uff0c\u6211\u4eec\u66f4\u63a8\u8350\u4f7f\u7528 ES6 \u6807\u51c6\u7684 export default \u548c export \u3002 UMD \u5e93 \u00b6 \u65e2\u53ef\u4ee5\u901a\u8fc7 <script> \u6807\u7b7e\u5f15\u5165\uff0c\u53c8\u53ef\u4ee5\u901a\u8fc7 import \u5bfc\u5165\u7684\u5e93\uff0c\u79f0\u4e3a UMD \u5e93\u3002\u76f8\u6bd4\u4e8e npm \u5305\u7684\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff0c\u6211\u4eec\u9700\u8981\u989d\u5916\u58f0\u660e\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u79cd\u65b9\u5f0f\uff0cts \u63d0\u4f9b\u4e86\u4e00\u4e2a\u65b0\u8bed\u6cd5 export as namespace \u3002 export as namespace \u00b6 \u4e00\u822c\u4f7f\u7528 export as namespace \u65f6\uff0c\u90fd\u662f\u5148\u6709\u4e86 npm \u5305\u7684\u58f0\u660e\u6587\u4ef6\uff0c\u518d\u57fa\u4e8e\u5b83\u6dfb\u52a0\u4e00\u6761 export as namespace \u8bed\u53e5\uff0c\u5373\u53ef\u5c06\u58f0\u660e\u597d\u7684\u4e00\u4e2a\u53d8\u91cf\u58f0\u660e\u4e3a\u5168\u5c40\u53d8\u91cf\uff0c\u4e3e\u4f8b\u5982\u4e0b 22 \uff1a // types/foo/index.d.ts export as namespace foo ; export = foo ; declare function foo () : string ; declare namespace foo { const bar : number ; } \u5f53\u7136\u5b83\u4e5f\u53ef\u4ee5\u4e0e export default \u4e00\u8d77\u4f7f\u7528\uff1a // types/foo/index.d.ts export as namespace foo ; export default foo ; declare function foo () : string ; declare namespace foo { const bar : number ; } \u76f4\u63a5\u6269\u5c55\u5168\u5c40\u53d8\u91cf \u00b6 \u6709\u7684\u7b2c\u4e09\u65b9\u5e93\u6269\u5c55\u4e86\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u53ef\u662f\u6b64\u5168\u5c40\u53d8\u91cf\u7684\u7c7b\u578b\u5374\u6ca1\u6709\u76f8\u5e94\u7684\u66f4\u65b0\u8fc7\u6765\uff0c\u5c31\u4f1a\u5bfc\u81f4 ts \u7f16\u8bd1\u9519\u8bef\uff0c\u6b64\u65f6\u5c31\u9700\u8981\u6269\u5c55\u5168\u5c40\u53d8\u91cf\u7684\u7c7b\u578b\u3002\u6bd4\u5982\u6269\u5c55 String \u7c7b\u578b 23 \uff1a interface String { prependHello () : string ; } 'foo' . prependHello (); \u901a\u8fc7\u58f0\u660e\u5408\u5e76\uff0c\u4f7f\u7528 interface String \u5373\u53ef\u7ed9 String \u6dfb\u52a0\u5c5e\u6027\u6216\u65b9\u6cd5\u3002 \u4e5f\u53ef\u4ee5\u4f7f\u7528 declare namespace \u7ed9\u5df2\u6709\u7684\u547d\u540d\u7a7a\u95f4\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e 24 \uff1a // types/jquery-plugin/index.d.ts declare namespace JQuery { interface CustomOptions { bar : string ; } } interface JQueryStatic { foo ( options : JQuery.CustomOptions ) : string ; } // src/index.ts jQuery . foo ({ bar : '' }); \u5728 npm \u5305\u6216 UMD \u5e93\u4e2d\u6269\u5c55\u5168\u5c40\u53d8\u91cf \u00b6 \u5982\u4e4b\u524d\u6240\u8bf4\uff0c\u5bf9\u4e8e\u4e00\u4e2a npm \u5305\u6216\u8005 UMD \u5e93\u7684\u58f0\u660e\u6587\u4ef6\uff0c\u53ea\u6709 export \u5bfc\u51fa\u7684\u7c7b\u578b\u58f0\u660e\u624d\u80fd\u88ab\u5bfc\u5165\u3002\u6240\u4ee5\u5bf9\u4e8e npm \u5305\u6216 UMD \u5e93\uff0c\u5982\u679c\u5bfc\u5165\u6b64\u5e93\u4e4b\u540e\u4f1a\u6269\u5c55\u5168\u5c40\u53d8\u91cf\uff0c\u5219\u9700\u8981\u4f7f\u7528\u53e6\u4e00\u79cd\u8bed\u6cd5\u5728\u58f0\u660e\u6587\u4ef6\u4e2d\u6269\u5c55\u5168\u5c40\u53d8\u91cf\u7684\u7c7b\u578b\uff0c\u90a3\u5c31\u662f declare global \u3002 declare global \u00b6 \u4f7f\u7528 declare global \u53ef\u4ee5\u5728 npm \u5305\u6216\u8005 UMD \u5e93\u7684\u58f0\u660e\u6587\u4ef6\u4e2d\u6269\u5c55\u5168\u5c40\u53d8\u91cf\u7684\u7c7b\u578b 25 \uff1a // types/foo/index.d.ts declare global { interface String { prependHello () : string ; } } export {}; // src/index.ts 'bar' . prependHello (); \u6ce8\u610f\u5373\u4f7f\u6b64\u58f0\u660e\u6587\u4ef6\u4e0d\u9700\u8981\u5bfc\u51fa\u4efb\u4f55\u4e1c\u897f\uff0c\u4ecd\u7136\u9700\u8981\u5bfc\u51fa\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff0c\u7528\u6765\u544a\u8bc9\u7f16\u8bd1\u5668\u8fd9\u662f\u4e00\u4e2a\u6a21\u5757\u7684\u58f0\u660e\u6587\u4ef6\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u3002 \u6a21\u5757\u63d2\u4ef6 \u00b6 \u6709\u65f6\u901a\u8fc7 import \u5bfc\u5165\u4e00\u4e2a\u6a21\u5757\u63d2\u4ef6\uff0c\u53ef\u4ee5\u6539\u53d8\u53e6\u4e00\u4e2a\u539f\u6709\u6a21\u5757\u7684\u7ed3\u6784\u3002\u6b64\u65f6\u5982\u679c\u539f\u6709\u6a21\u5757\u5df2\u7ecf\u6709\u4e86\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff0c\u800c\u63d2\u4ef6\u6a21\u5757\u6ca1\u6709\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff0c\u5c31\u4f1a\u5bfc\u81f4\u7c7b\u578b\u4e0d\u5b8c\u6574\uff0c\u7f3a\u5c11\u63d2\u4ef6\u90e8\u5206\u7684\u7c7b\u578b\u3002ts \u63d0\u4f9b\u4e86\u4e00\u4e2a\u8bed\u6cd5 declare module \uff0c\u5b83\u53ef\u4ee5\u7528\u6765\u6269\u5c55\u539f\u6709\u6a21\u5757\u7684\u7c7b\u578b\u3002 declare module \u00b6 \u5982\u679c\u662f\u9700\u8981\u6269\u5c55\u539f\u6709\u6a21\u5757\u7684\u8bdd\uff0c\u9700\u8981\u5728\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u4e2d\u5148\u5f15\u7528\u539f\u6709\u6a21\u5757\uff0c\u518d\u4f7f\u7528 declare module \u6269\u5c55\u539f\u6709\u6a21\u5757 26 \uff1a // types/moment-plugin/index.d.ts import * as moment from 'moment' ; declare module 'moment' { export function foo () : moment . CalendarKey ; } // src/index.ts import * as moment from 'moment' ; import 'moment-plugin' ; moment . foo (); declare module \u4e5f\u53ef\u7528\u4e8e\u5728\u4e00\u4e2a\u6587\u4ef6\u4e2d\u4e00\u6b21\u6027\u58f0\u660e\u591a\u4e2a\u6a21\u5757\u7684\u7c7b\u578b 27 \uff1a // types/foo-bar.d.ts declare module 'foo' { export interface Foo { foo : string ; } } declare module 'bar' { export function bar () : string ; } // src/index.ts import { Foo } from 'foo' ; import * as bar from 'bar' ; let f : Foo ; bar . bar (); \u58f0\u660e\u6587\u4ef6\u4e2d\u7684\u4f9d\u8d56 \u00b6 \u4e00\u4e2a\u58f0\u660e\u6587\u4ef6\u6709\u65f6\u4f1a\u4f9d\u8d56\u53e6\u4e00\u4e2a\u58f0\u660e\u6587\u4ef6\u4e2d\u7684\u7c7b\u578b\uff0c\u6bd4\u5982\u5728\u524d\u9762\u7684 declare module \u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5c31\u5728\u58f0\u660e\u6587\u4ef6\u4e2d\u5bfc\u5165\u4e86 moment \uff0c\u5e76\u4e14\u4f7f\u7528\u4e86 moment.CalendarKey \u8fd9\u4e2a\u7c7b\u578b\uff1a // types/moment-plugin/index.d.ts import * as moment from 'moment' ; declare module 'moment' { export function foo () : moment . CalendarKey ; } \u9664\u4e86\u53ef\u4ee5\u5728\u58f0\u660e\u6587\u4ef6\u4e2d\u901a\u8fc7 import \u5bfc\u5165\u53e6\u4e00\u4e2a\u58f0\u660e\u6587\u4ef6\u4e2d\u7684\u7c7b\u578b\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u4e2a\u8bed\u6cd5\u4e5f\u53ef\u4ee5\u7528\u6765\u5bfc\u5165\u53e6\u4e00\u4e2a\u58f0\u660e\u6587\u4ef6\uff0c\u90a3\u5c31\u662f\u4e09\u659c\u7ebf\u6307\u4ee4\u3002 \u4e09\u659c\u7ebf\u6307\u4ee4 \u00b6 \u4e0e namespace \u7c7b\u4f3c\uff0c\u4e09\u659c\u7ebf\u6307\u4ee4\u4e5f\u662f ts \u5728\u65e9\u671f\u7248\u672c\u4e2d\u4e3a\u4e86\u63cf\u8ff0\u6a21\u5757\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u800c\u521b\u9020\u7684\u8bed\u6cd5\u3002\u968f\u7740 ES6 \u7684\u5e7f\u6cdb\u5e94\u7528\uff0c\u73b0\u5728\u5df2\u7ecf\u4e0d\u5efa\u8bae\u518d\u4f7f\u7528 ts \u4e2d\u7684\u4e09\u659c\u7ebf\u6307\u4ee4\u6765\u58f0\u660e\u6a21\u5757\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u4e86\u3002 \u4f46\u662f\u5728\u58f0\u660e\u6587\u4ef6\u4e2d\uff0c\u5b83\u8fd8\u662f\u6709\u4e00\u5b9a\u7684\u7528\u6b66\u4e4b\u5730\u3002 \u7c7b\u4f3c\u4e8e\u58f0\u660e\u6587\u4ef6\u4e2d\u7684 import \uff0c\u5b83\u53ef\u4ee5\u7528\u6765\u5bfc\u5165\u53e6\u4e00\u4e2a\u58f0\u660e\u6587\u4ef6\u3002\u4e0e import \u7684\u533a\u522b\u662f\uff0c\u5f53\u4e14\u4ec5\u5f53\u5728\u4ee5\u4e0b\u51e0\u4e2a\u573a\u666f\u4e0b\uff0c\u6211\u4eec\u624d\u9700\u8981\u4f7f\u7528\u4e09\u659c\u7ebf\u6307\u4ee4\u66ff\u4ee3 import \uff1a \u5f53\u6211\u4eec\u5728**\u4e66\u5199**\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u65f6 \u5f53\u6211\u4eec\u9700\u8981**\u4f9d\u8d56**\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u65f6 **\u4e66\u5199**\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6 \u8fd9\u4e9b\u573a\u666f\u542c\u4e0a\u53bb\u5f88\u62d7\u53e3\uff0c\u4f46\u5b9e\u9645\u4e0a\u5f88\u597d\u7406\u89e3\u2014\u2014\u5728\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u4e2d\uff0c\u662f\u4e0d\u5141\u8bb8\u51fa\u73b0 import , export \u5173\u952e\u5b57\u7684\u3002\u4e00\u65e6\u51fa\u73b0\u4e86\uff0c\u90a3\u4e48\u4ed6\u5c31\u4f1a\u88ab\u89c6\u4e3a\u4e00\u4e2a npm \u5305\u6216 UMD \u5e93\uff0c\u5c31\u4e0d\u518d\u662f\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u4e86\u3002\u6545\u5f53\u6211\u4eec\u5728\u4e66\u5199\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u65f6\uff0c\u5982\u679c\u9700\u8981\u5f15\u7528\u53e6\u4e00\u4e2a\u5e93\u7684\u7c7b\u578b\uff0c\u90a3\u4e48\u5c31\u5fc5\u987b\u7528\u4e09\u659c\u7ebf\u6307\u4ee4\u4e86 28 \uff1a // types/jquery-plugin/index.d.ts /// <reference types=\"jquery\" /> declare function foo ( options : JQuery.AjaxSettings ) : string ; // src/index.ts foo ({}); \u4e09\u659c\u7ebf\u6307\u4ee4\u7684\u8bed\u6cd5\u5982\u4e0a\uff0c /// \u540e\u9762\u4f7f\u7528 xml \u7684\u683c\u5f0f\u6dfb\u52a0\u4e86\u5bf9 jquery \u7c7b\u578b\u7684\u4f9d\u8d56\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5728\u58f0\u660e\u6587\u4ef6\u4e2d\u4f7f\u7528 JQuery.AjaxSettings \u7c7b\u578b\u4e86\u3002 \u6ce8\u610f\uff0c\u4e09\u659c\u7ebf\u6307\u4ee4\u5fc5\u987b\u653e\u5728\u6587\u4ef6\u7684\u6700\u9876\u7aef\uff0c\u4e09\u659c\u7ebf\u6307\u4ee4\u7684\u524d\u9762\u53ea\u5141\u8bb8\u51fa\u73b0\u5355\u884c\u6216\u591a\u884c\u6ce8\u91ca\u3002 **\u4f9d\u8d56**\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6 \u5728\u53e6\u4e00\u4e2a\u573a\u666f\u4e0b\uff0c\u5f53\u6211\u4eec\u9700\u8981\u4f9d\u8d56\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u65f6\uff0c\u7531\u4e8e\u5168\u5c40\u53d8\u91cf\u4e0d\u652f\u6301\u901a\u8fc7 import \u5bfc\u5165\uff0c\u5f53\u7136\u4e5f\u5c31\u5fc5\u987b\u4f7f\u7528\u4e09\u659c\u7ebf\u6307\u4ee4\u6765\u5f15\u5165\u4e86 29 \uff1a // types/node-plugin/index.d.ts /// <reference types=\"node\" /> export function foo ( p : NodeJS.Process ) : string ; // src/index.ts import { foo } from 'node-plugin' ; foo ( global . process ); \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u4e09\u659c\u7ebf\u6307\u5f15\u5165\u4e86 node \u7684\u7c7b\u578b\uff0c\u7136\u540e\u5728\u58f0\u660e\u6587\u4ef6\u4e2d\u4f7f\u7528\u4e86 NodeJS.Process \u8fd9\u4e2a\u7c7b\u578b\u3002\u6700\u540e\u5728\u4f7f\u7528\u5230 foo \u7684\u65f6\u5019\uff0c\u4f20\u5165\u4e86 node \u4e2d\u7684\u5168\u5c40\u53d8\u91cf process \u3002 \u7531\u4e8e\u5f15\u5165\u7684 node \u4e2d\u7684\u7c7b\u578b\u90fd\u662f\u5168\u5c40\u53d8\u91cf\u7684\u7c7b\u578b\uff0c\u5b83\u4eec\u662f\u6ca1\u6709\u529e\u6cd5\u901a\u8fc7 import \u6765\u5bfc\u5165\u7684\uff0c\u6240\u4ee5\u8fd9\u79cd\u573a\u666f\u4e0b\u4e5f\u53ea\u80fd\u901a\u8fc7\u4e09\u659c\u7ebf\u6307\u4ee4\u6765\u5f15\u5165\u4e86\u3002 \u4ee5\u4e0a\u4e24\u79cd\u4f7f\u7528\u573a\u666f\u4e0b\uff0c\u90fd\u662f\u7531\u4e8e\u9700\u8981\u4e66\u5199\u6216\u9700\u8981\u4f9d\u8d56\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\uff0c\u6240\u4ee5\u5fc5\u987b\u4f7f\u7528\u4e09\u659c\u7ebf\u6307\u4ee4\u3002\u5728\u5176\u4ed6\u7684\u4e00\u4e9b\u4e0d\u662f\u5fc5\u8981\u4f7f\u7528\u4e09\u659c\u7ebf\u6307\u4ee4\u7684\u60c5\u51b5\u4e0b\uff0c\u5c31\u90fd\u9700\u8981\u4f7f\u7528 import \u6765\u5bfc\u5165\u3002 \u62c6\u5206\u58f0\u660e\u6587\u4ef6 \u5f53\u6211\u4eec\u7684\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u592a\u5927\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u62c6\u5206\u4e3a\u591a\u4e2a\u6587\u4ef6\uff0c\u7136\u540e\u5728\u4e00\u4e2a\u5165\u53e3\u6587\u4ef6\u4e2d\u5c06\u5b83\u4eec\u4e00\u4e00\u5f15\u5165\uff0c\u6765\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027\u3002\u6bd4\u5982 jQuery \u7684\u58f0\u660e\u6587\u4ef6\u5c31\u662f\u8fd9\u6837\u7684\uff1a // node_modules/@types/jquery/index.d.ts /// <reference types=\"sizzle\" /> /// <reference path=\"JQueryStatic.d.ts\" /> /// <reference path=\"JQuery.d.ts\" /> /// <reference path=\"misc.d.ts\" /> /// <reference path=\"legacy.d.ts\" /> export = jQuery ; \u5176\u4e2d\u7528\u5230\u4e86 types \u548c path \u4e24\u79cd\u4e0d\u540c\u7684\u6307\u4ee4\u3002\u5b83\u4eec\u7684\u533a\u522b\u662f\uff1a types \u7528\u4e8e\u58f0\u660e\u5bf9\u53e6\u4e00\u4e2a\u5e93\u7684\u4f9d\u8d56\uff0c\u800c path \u7528\u4e8e\u58f0\u660e\u5bf9\u53e6\u4e00\u4e2a\u6587\u4ef6\u7684\u4f9d\u8d56\u3002 \u4e0a\u4f8b\u4e2d\uff0c sizzle \u662f\u4e0e jquery \u5e73\u884c\u7684\u53e6\u4e00\u4e2a\u5e93\uff0c\u6240\u4ee5\u9700\u8981\u4f7f\u7528 types=\"sizzle\" \u6765\u58f0\u660e\u5bf9\u5b83\u7684\u4f9d\u8d56\u3002\u800c\u5176\u4ed6\u7684\u4e09\u659c\u7ebf\u6307\u4ee4\u5c31\u662f\u5c06 jquery \u7684\u58f0\u660e\u62c6\u5206\u5230\u4e0d\u540c\u7684\u6587\u4ef6\u4e2d\u4e86\uff0c\u7136\u540e\u5728\u8fd9\u4e2a\u5165\u53e3\u6587\u4ef6\u4e2d\u4f7f\u7528 path=\"foo\" \u5c06\u5b83\u4eec\u4e00\u4e00\u5f15\u5165\u3002 \u5176\u4ed6\u4e09\u659c\u7ebf\u6307\u4ee4 \u9664\u4e86\u8fd9\u4e24\u79cd\u4e09\u659c\u7ebf\u6307\u4ee4\u4e4b\u5916\uff0c\u8fd8\u6709\u5176\u4ed6\u7684\u4e09\u659c\u7ebf\u6307\u4ee4\uff0c\u6bd4\u5982 /// <reference no-default-lib=\"true\"/> , /// <amd-module /> \u7b49\uff0c\u4f46\u5b83\u4eec\u90fd\u662f\u5e9f\u5f03\u7684\u8bed\u6cd5\uff0c\u6545\u8fd9\u91cc\u5c31\u4e0d\u4ecb\u7ecd\u4e86\uff0c\u8be6\u60c5\u53ef\u89c1 \u5b98\u7f51 \u3002 \u81ea\u52a8\u751f\u6210\u58f0\u660e\u6587\u4ef6 \u00b6 \u5982\u679c\u5e93\u7684\u6e90\u7801\u672c\u8eab\u5c31\u662f\u7531 ts \u5199\u7684\uff0c\u90a3\u4e48\u5728\u4f7f\u7528 tsc \u811a\u672c\u5c06 ts \u7f16\u8bd1\u4e3a js \u7684\u65f6\u5019\uff0c\u6dfb\u52a0 declaration \u9009\u9879\uff0c\u5c31\u53ef\u4ee5\u540c\u65f6\u4e5f\u751f\u6210 .d.ts \u58f0\u660e\u6587\u4ef6\u4e86\u3002 \u6211\u4eec\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u6dfb\u52a0 --declaration \uff08\u7b80\u5199 -d \uff09\uff0c\u6216\u8005\u5728 tsconfig.json \u4e2d\u6dfb\u52a0 declaration \u9009\u9879\u3002\u8fd9\u91cc\u4ee5 tsconfig.json \u4e3a\u4f8b\uff1a { \"compilerOptions\" : { \"module\" : \"commonjs\" , \"outDir\" : \"lib\" , \"declaration\" : true , } } \u4e0a\u4f8b\u4e2d\u6211\u4eec\u6dfb\u52a0\u4e86 outDir \u9009\u9879\uff0c\u5c06 ts \u6587\u4ef6\u7684\u7f16\u8bd1\u7ed3\u679c\u8f93\u51fa\u5230 lib \u76ee\u5f55\u4e0b\uff0c\u7136\u540e\u6dfb\u52a0\u4e86 declaration \u9009\u9879\uff0c\u8bbe\u7f6e\u4e3a true \uff0c\u8868\u793a\u5c06\u4f1a\u7531 ts \u6587\u4ef6\u81ea\u52a8\u751f\u6210 .d.ts \u58f0\u660e\u6587\u4ef6\uff0c\u4e5f\u4f1a\u8f93\u51fa\u5230 lib \u76ee\u5f55\u4e0b\u3002 \u8fd0\u884c tsc \u4e4b\u540e\uff0c\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b 30 \uff1a / path / to / project \u251c\u2500\u2500 lib | \u251c\u2500\u2500 bar | | \u251c\u2500\u2500 index . d . ts | | \u2514\u2500\u2500 index . js | \u251c\u2500\u2500 index . d . ts | \u2514\u2500\u2500 index . js \u251c\u2500\u2500 src | \u251c\u2500\u2500 bar | | \u2514\u2500\u2500 index . ts | \u2514\u2500\u2500 index . ts \u251c\u2500\u2500 package . json \u2514\u2500\u2500 tsconfig . json \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c src \u76ee\u5f55\u4e0b\u6709\u4e24\u4e2a ts \u6587\u4ef6\uff0c\u5206\u522b\u662f src/index.ts \u548c src/bar/index.ts \uff0c\u5b83\u4eec\u88ab\u7f16\u8bd1\u5230 lib \u76ee\u5f55\u4e0b\u7684\u540c\u65f6\uff0c\u4e5f\u4f1a\u751f\u6210\u5bf9\u5e94\u7684\u4e24\u4e2a\u58f0\u660e\u6587\u4ef6 lib/index.d.ts \u548c lib/bar/index.d.ts \u3002\u5b83\u4eec\u7684\u5185\u5bb9\u5206\u522b\u662f\uff1a // src/index.ts export * from './bar' ; export default function foo () { return 'foo' ; } // src/bar/index.ts export function bar () { return 'bar' ; } // lib/index.d.ts export * from './bar' ; export default function foo () : string ; // lib/bar/index.d.ts export declare function bar () : string ; \u53ef\u89c1\uff0c\u81ea\u52a8\u751f\u6210\u7684\u58f0\u660e\u6587\u4ef6\u57fa\u672c\u4fdd\u6301\u4e86\u6e90\u7801\u7684\u7ed3\u6784\uff0c\u800c\u5c06\u5177\u4f53\u5b9e\u73b0\u53bb\u6389\u4e86\uff0c\u751f\u6210\u4e86\u5bf9\u5e94\u7684\u7c7b\u578b\u58f0\u660e\u3002 \u4f7f\u7528 tsc \u81ea\u52a8\u751f\u6210\u58f0\u660e\u6587\u4ef6\u65f6\uff0c\u6bcf\u4e2a ts \u6587\u4ef6\u90fd\u4f1a\u5bf9\u5e94\u4e00\u4e2a .d.ts \u58f0\u660e\u6587\u4ef6\u3002\u8fd9\u6837\u7684\u597d\u5904\u662f\uff0c\u4f7f\u7528\u65b9\u4e0d\u4ec5\u53ef\u4ee5\u5728\u4f7f\u7528 import foo from 'foo' \u5bfc\u5165\u9ed8\u8ba4\u7684\u6a21\u5757\u65f6\u83b7\u5f97\u7c7b\u578b\u63d0\u793a\uff0c\u8fd8\u53ef\u4ee5\u5728\u4f7f\u7528 import bar from 'foo/lib/bar' \u5bfc\u5165\u4e00\u4e2a\u5b50\u6a21\u5757\u65f6\uff0c\u4e5f\u83b7\u5f97\u5bf9\u5e94\u7684\u7c7b\u578b\u63d0\u793a\u3002 \u9664\u4e86 declaration \u9009\u9879\u4e4b\u5916\uff0c\u8fd8\u6709\u51e0\u4e2a\u9009\u9879\u4e5f\u4e0e\u81ea\u52a8\u751f\u6210\u58f0\u660e\u6587\u4ef6\u6709\u5173\uff0c\u8fd9\u91cc\u53ea\u7b80\u5355\u5217\u4e3e\u51fa\u6765\uff0c\u4e0d\u505a\u8be6\u7ec6\u6f14\u793a\u4e86\uff1a declarationDir \u8bbe\u7f6e\u751f\u6210 .d.ts \u6587\u4ef6\u7684\u76ee\u5f55 declarationMap \u5bf9\u6bcf\u4e2a .d.ts \u6587\u4ef6\uff0c\u90fd\u751f\u6210\u5bf9\u5e94\u7684 .d.ts.map \uff08sourcemap\uff09\u6587\u4ef6 emitDeclarationOnly \u4ec5\u751f\u6210 .d.ts \u6587\u4ef6\uff0c\u4e0d\u751f\u6210 .js \u6587\u4ef6 \u53d1\u5e03\u58f0\u660e\u6587\u4ef6 \u00b6 \u5f53\u6211\u4eec\u4e3a\u4e00\u4e2a\u5e93\u5199\u597d\u4e86\u58f0\u660e\u6587\u4ef6\u4e4b\u540e\uff0c\u4e0b\u4e00\u6b65\u5c31\u662f\u5c06\u5b83\u53d1\u5e03\u51fa\u53bb\u4e86\u3002 \u6b64\u65f6\u6709\u4e24\u79cd\u65b9\u6848\uff1a \u5c06\u58f0\u660e\u6587\u4ef6\u548c\u6e90\u7801\u653e\u5728\u4e00\u8d77 \u5c06\u58f0\u660e\u6587\u4ef6\u53d1\u5e03\u5230 @types \u4e0b \u8fd9\u4e24\u79cd\u65b9\u6848\u4e2d\u4f18\u5148\u9009\u62e9\u7b2c\u4e00\u79cd\u65b9\u6848\u3002\u4fdd\u6301\u58f0\u660e\u6587\u4ef6\u4e0e\u6e90\u7801\u5728\u4e00\u8d77\uff0c\u4f7f\u7528\u65f6\u5c31\u4e0d\u9700\u8981\u989d\u5916\u589e\u52a0\u5355\u72ec\u7684\u58f0\u660e\u6587\u4ef6\u5e93\u7684\u4f9d\u8d56\u4e86\uff0c\u800c\u4e14\u4e5f\u80fd\u4fdd\u8bc1\u58f0\u660e\u6587\u4ef6\u7684\u7248\u672c\u4e0e\u6e90\u7801\u7684\u7248\u672c\u4fdd\u6301\u4e00\u81f4\u3002 \u4ec5\u5f53\u6211\u4eec\u5728\u7ed9\u522b\u4eba\u7684\u4ed3\u5e93\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff0c\u4f46\u539f\u4f5c\u8005\u4e0d\u613f\u610f\u5408\u5e76 pull request \u65f6\uff0c\u624d\u9700\u8981\u4f7f\u7528\u7b2c\u4e8c\u79cd\u65b9\u6848\uff0c\u5c06\u58f0\u660e\u6587\u4ef6\u53d1\u5e03\u5230 @types \u4e0b\u3002 \u5c06\u58f0\u660e\u6587\u4ef6\u548c\u6e90\u7801\u653e\u5728\u4e00\u8d77 \u00b6 \u5982\u679c\u58f0\u660e\u6587\u4ef6\u662f\u901a\u8fc7 tsc \u81ea\u52a8\u751f\u6210\u7684\uff0c\u90a3\u4e48\u65e0\u9700\u505a\u4efb\u4f55\u5176\u4ed6\u914d\u7f6e\uff0c\u53ea\u9700\u8981\u628a\u7f16\u8bd1\u597d\u7684\u6587\u4ef6\u4e5f\u53d1\u5e03\u5230 npm \u4e0a\uff0c\u4f7f\u7528\u65b9\u5c31\u53ef\u4ee5\u83b7\u53d6\u5230\u7c7b\u578b\u63d0\u793a\u4e86\u3002 \u5982\u679c\u662f\u624b\u52a8\u5199\u7684\u58f0\u660e\u6587\u4ef6\uff0c\u90a3\u4e48\u9700\u8981\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\u4e4b\u4e00\uff0c\u624d\u80fd\u88ab\u6b63\u786e\u7684\u8bc6\u522b\uff1a \u7ed9 package.json \u4e2d\u7684 types \u6216 typings \u5b57\u6bb5\u6307\u5b9a\u4e00\u4e2a\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u5730\u5740 \u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\uff0c\u7f16\u5199\u4e00\u4e2a index.d.ts \u6587\u4ef6 \u9488\u5bf9\u5165\u53e3\u6587\u4ef6\uff08 package.json \u4e2d\u7684 main \u5b57\u6bb5\u6307\u5b9a\u7684\u5165\u53e3\u6587\u4ef6\uff09\uff0c\u7f16\u5199\u4e00\u4e2a\u540c\u540d\u4e0d\u540c\u540e\u7f00\u7684 .d.ts \u6587\u4ef6 \u7b2c\u4e00\u79cd\u65b9\u5f0f\u662f\u7ed9 package.json \u4e2d\u7684 types \u6216 typings \u5b57\u6bb5\u6307\u5b9a\u4e00\u4e2a\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u5730\u5740\u3002\u6bd4\u5982\uff1a { \"name\" : \"foo\" , \"version\" : \"1.0.0\" , \"main\" : \"lib/index.js\" , \"types\" : \"foo.d.ts\" , } \u6307\u5b9a\u4e86 types \u4e3a foo.d.ts \u4e4b\u540e\uff0c\u5bfc\u5165\u6b64\u5e93\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u53bb\u627e foo.d.ts \u4f5c\u4e3a\u6b64\u5e93\u7684\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u4e86\u3002 typings \u4e0e types \u4e00\u6837\uff0c\u53ea\u662f\u53e6\u4e00\u79cd\u5199\u6cd5\u3002 \u5982\u679c\u6ca1\u6709\u6307\u5b9a types \u6216 typings \uff0c\u90a3\u4e48\u5c31\u4f1a\u5728\u6839\u76ee\u5f55\u4e0b\u5bfb\u627e index.d.ts \u6587\u4ef6\uff0c\u5c06\u5b83\u89c6\u4e3a\u6b64\u5e93\u7684\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u3002 \u5982\u679c\u6ca1\u6709\u627e\u5230 index.d.ts \u6587\u4ef6\uff0c\u90a3\u4e48\u5c31\u4f1a\u5bfb\u627e\u5165\u53e3\u6587\u4ef6\uff08 package.json \u4e2d\u7684 main \u5b57\u6bb5\u6307\u5b9a\u7684\u5165\u53e3\u6587\u4ef6\uff09\u662f\u5426\u5b58\u5728\u5bf9\u5e94\u540c\u540d\u4e0d\u540c\u540e\u7f00\u7684 .d.ts \u6587\u4ef6\u3002 \u6bd4\u5982 package.json \u662f\u8fd9\u6837\u65f6\uff1a { \"name\" : \"foo\" , \"version\" : \"1.0.0\" , \"main\" : \"lib/index.js\" } \u5c31\u4f1a\u5148\u8bc6\u522b package.json \u4e2d\u662f\u5426\u5b58\u5728 types \u6216 typings \u5b57\u6bb5\u3002\u53d1\u73b0\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48\u5c31\u4f1a\u5bfb\u627e\u662f\u5426\u5b58\u5728 index.d.ts \u6587\u4ef6\u3002\u5982\u679c\u8fd8\u662f\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48\u5c31\u4f1a\u5bfb\u627e\u662f\u5426\u5b58\u5728 lib/index.d.ts \u6587\u4ef6\u3002\u5047\u5982\u8bf4\u8fde lib/index.d.ts \u90fd\u4e0d\u5b58\u5728\u7684\u8bdd\uff0c\u5c31\u4f1a\u88ab\u8ba4\u4e3a\u662f\u4e00\u4e2a\u6ca1\u6709\u63d0\u4f9b\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u7684\u5e93\u4e86\u3002 \u6709\u7684\u5e93\u4e3a\u4e86\u652f\u6301\u5bfc\u5165\u5b50\u6a21\u5757\uff0c\u6bd4\u5982 import bar from 'foo/lib/bar' \uff0c\u5c31\u9700\u8981\u989d\u5916\u518d\u7f16\u5199\u4e00\u4e2a\u7c7b\u578b\u58f0\u660e\u6587\u4ef6 lib/bar.d.ts \u6216\u8005 lib/bar/index.d.ts \uff0c\u8fd9\u4e0e\u81ea\u52a8\u751f\u6210\u58f0\u660e\u6587\u4ef6\u7c7b\u4f3c\uff0c\u4e00\u4e2a\u5e93\u4e2d\u540c\u65f6\u5305\u542b\u4e86\u591a\u4e2a\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u3002 \u5c06\u58f0\u660e\u6587\u4ef6\u53d1\u5e03\u5230 @types \u4e0b \u00b6 \u5982\u679c\u6211\u4eec\u662f\u5728\u7ed9\u522b\u4eba\u7684\u4ed3\u5e93\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff0c\u4f46\u539f\u4f5c\u8005\u4e0d\u613f\u610f\u5408\u5e76 pull request\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u5c06\u58f0\u660e\u6587\u4ef6\u53d1\u5e03\u5230 @types \u4e0b\u3002 \u4e0e\u666e\u901a\u7684 npm \u6a21\u5757\u4e0d\u540c\uff0c @types \u662f\u7edf\u4e00\u7531 DefinitelyTyped \u7ba1\u7406\u7684\u3002\u8981\u5c06\u58f0\u660e\u6587\u4ef6\u53d1\u5e03\u5230 @types \u4e0b\uff0c\u5c31\u9700\u8981\u7ed9 DefinitelyTyped \u521b\u5efa\u4e00\u4e2a pull-request\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff0c\u6d4b\u8bd5\u4ee3\u7801\uff0c\u4ee5\u53ca tsconfig.json \u7b49\u3002 pull-request \u9700\u8981\u7b26\u5408\u5b83\u4eec\u7684\u89c4\u8303\uff0c\u5e76\u4e14\u901a\u8fc7\u6d4b\u8bd5\uff0c\u624d\u80fd\u88ab\u5408\u5e76\uff0c\u7a0d\u540e\u5c31\u4f1a\u88ab\u81ea\u52a8\u53d1\u5e03\u5230 @types \u4e0b\u3002 10.\u5185\u7f6e\u5bf9\u8c61 \u00b6 JavaScript \u4e2d\u6709\u5f88\u591a \u5185\u7f6e\u5bf9\u8c61 \uff0c\u5b83\u4eec\u53ef\u4ee5\u76f4\u63a5\u5728 TypeScript \u4e2d\u5f53\u505a\u5b9a\u4e49\u597d\u4e86\u7684\u7c7b\u578b\u3002 \u5185\u7f6e\u5bf9\u8c61\u662f\u6307\u6839\u636e\u6807\u51c6\u5728\u5168\u5c40\u4f5c\u7528\u57df\uff08Global\uff09\u4e0a\u5b58\u5728\u7684\u5bf9\u8c61\u3002\u8fd9\u91cc\u7684\u6807\u51c6\u662f\u6307 ECMAScript \u548c\u5176\u4ed6\u73af\u5883\uff08\u6bd4\u5982 DOM\uff09\u7684\u6807\u51c6\u3002 ECMAScript \u7684\u5185\u7f6e\u5bf9\u8c61 \u00b6 ECMAScript \u6807\u51c6\u63d0\u4f9b\u7684\u5185\u7f6e\u5bf9\u8c61\u6709\uff1a Boolean \u3001 Error \u3001 Date \u3001 RegExp \u7b49\u3002 \u6211\u4eec\u53ef\u4ee5\u5728 TypeScript \u4e2d\u5c06\u53d8\u91cf\u5b9a\u4e49\u4e3a\u8fd9\u4e9b\u7c7b\u578b\uff1a let b : Boolean = new Boolean ( 1 ); let e : Error = new Error ( 'Error occurred' ); let d : Date = new Date (); let r : RegExp = /[a-z]/ ; DOM \u548c BOM \u7684\u5185\u7f6e\u5bf9\u8c61 \u00b6 DOM \u548c BOM \u63d0\u4f9b\u7684\u5185\u7f6e\u5bf9\u8c61\u6709\uff1a Document \u3001 HTMLElement \u3001 Event \u3001 NodeList \u7b49\u3002 TypeScript \u4e2d\u4f1a\u7ecf\u5e38\u7528\u5230\u8fd9\u4e9b\u7c7b\u578b\uff1a let body : HTMLElement = document . body ; let allDiv : NodeList = document . querySelectorAll ( 'div' ); document . addEventListener ( 'click' , function ( e : MouseEvent ) { // Do something }); TypeScript \u6838\u5fc3\u5e93\u7684\u5b9a\u4e49\u6587\u4ef6 \u00b6 TypeScript \u6838\u5fc3\u5e93\u7684\u5b9a\u4e49\u6587\u4ef6 \u4e2d\u5b9a\u4e49\u4e86\u6240\u6709\u6d4f\u89c8\u5668\u73af\u5883\u9700\u8981\u7528\u5230\u7684\u7c7b\u578b\uff0c\u5e76\u4e14\u662f\u9884\u7f6e\u5728 TypeScript \u4e2d\u7684\u3002 \u5f53\u4f60\u5728\u4f7f\u7528\u4e00\u4e9b\u5e38\u7528\u7684\u65b9\u6cd5\u7684\u65f6\u5019\uff0cTypeScript \u5b9e\u9645\u4e0a\u5df2\u7ecf\u5e2e\u4f60\u505a\u4e86\u5f88\u591a\u7c7b\u578b\u5224\u65ad\u7684\u5de5\u4f5c\u4e86\uff0c\u6bd4\u5982\uff1a Math . pow ( 10 , '2' ); // index.ts(1,14): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'. \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c Math.pow \u5fc5\u987b\u63a5\u53d7\u4e24\u4e2a number \u7c7b\u578b\u7684\u53c2\u6570\u3002\u4e8b\u5b9e\u4e0a Math.pow \u7684\u7c7b\u578b\u5b9a\u4e49\u5982\u4e0b\uff1a interface Math { /** * Returns the value of a base expression taken to a specified power. * @param x The base value of the expression. * @param y The exponent value of the expression. */ pow ( x : number , y : number ) : number ; } \u518d\u4e3e\u4e00\u4e2a DOM \u4e2d\u7684\u4f8b\u5b50\uff1a document . addEventListener ( 'click' , function ( e ) { console . log ( e . targetCurrent ); }); // index.ts(2,17): error TS2339: Property 'targetCurrent' does not exist on type 'MouseEvent'. \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c addEventListener \u65b9\u6cd5\u662f\u5728 TypeScript \u6838\u5fc3\u5e93\u4e2d\u5b9a\u4e49\u7684\uff1a interface Document extends Node , GlobalEventHandlers , NodeSelector , DocumentEvent { addEventListener ( type : string , listener : ( ev : MouseEvent ) => any , useCapture? : boolean ) : void ; } \u6240\u4ee5 e \u88ab\u63a8\u65ad\u6210\u4e86 MouseEvent \uff0c\u800c MouseEvent \u662f\u6ca1\u6709 targetCurrent \u5c5e\u6027\u7684\uff0c\u6240\u4ee5\u62a5\u9519\u4e86\u3002 \u6ce8\u610f\uff0cTypeScript \u6838\u5fc3\u5e93\u7684\u5b9a\u4e49\u4e2d\u4e0d\u5305\u542b Node.js \u90e8\u5206\u3002 \u7528 TypeScript \u5199 Node.js \u00b6 Node.js \u4e0d\u662f\u5185\u7f6e\u5bf9\u8c61\u7684\u4e00\u90e8\u5206\uff0c\u5982\u679c\u60f3\u7528 TypeScript \u5199 Node.js\uff0c\u5219\u9700\u8981\u5f15\u5165\u7b2c\u4e09\u65b9\u58f0\u660e\u6587\u4ef6\uff1a npm install @types/node --save-dev","title":"02-\u57fa\u7840.md"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#ts","text":"","title":"TS\u57fa\u7840\u4ecb\u7ecd"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#1","text":"JavaScript \u7684\u7c7b\u578b\u5206\u4e3a\u4e24\u79cd\uff1a\u539f\u59cb\u6570\u636e\u7c7b\u578b\u548c\u5bf9\u8c61\u7c7b\u578b\uff08Object types\uff09\u3002 \u539f\u59cb\u6570\u636e\u7c7b\u578b\u5305\u62ec\uff1a\u5e03\u5c14\u503c\u3001\u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001 null \u3001 undefined \u4ee5\u53ca ES6 \u4e2d\u7684\u65b0\u7c7b\u578b Symbol \u3002 \u672c\u8282\u4e3b\u8981\u4ecb\u7ecd**\u524d\u4e94\u79cd**\u539f\u59cb\u6570\u636e\u7c7b\u578b\u5728 TypeScript \u4e2d\u7684\u5e94\u7528\u3002","title":"1.\u539f\u59cb\u6570\u636e\u7c7b\u578b"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_1","text":"\u5e03\u5c14\u503c\u662f\u6700\u57fa\u7840\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5728 TypeScript \u4e2d\uff0c\u4f7f\u7528 boolean \u5b9a\u4e49\u5e03\u5c14\u503c\u7c7b\u578b\uff1a let isDone : boolean = false ; // \u7f16\u8bd1\u901a\u8fc7 // \u540e\u9762\u7ea6\u5b9a\uff0c\u672a\u5f3a\u8c03\u7f16\u8bd1\u9519\u8bef\u7684\u4ee3\u7801\u7247\u6bb5\uff0c\u9ed8\u8ba4\u4e3a\u7f16\u8bd1\u901a\u8fc7 \u6ce8\u610f\uff0c\u4f7f\u7528\u6784\u9020\u51fd\u6570 Boolean \u521b\u9020\u7684\u5bf9\u8c61**\u4e0d\u662f**\u5e03\u5c14\u503c\uff1a let createdByNewBoolean : boolean = new Boolean ( 1 ); // Type 'Boolean' is not assignable to type 'boolean'. // 'boolean' is a primitive, but 'Boolean' is a wrapper object. Prefer using 'boolean' when possible. \u4e8b\u5b9e\u4e0a new Boolean() \u8fd4\u56de\u7684\u662f\u4e00\u4e2a Boolean \u5bf9\u8c61\uff1a let createdByNewBoolean : Boolean = new Boolean ( 1 ); \u76f4\u63a5\u8c03\u7528 Boolean \u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a boolean \u7c7b\u578b\uff1a let createdByBoolean : boolean = Boolean ( 1 ); \u5728 TypeScript \u4e2d\uff0c boolean \u662f JavaScript \u4e2d\u7684\u57fa\u672c\u7c7b\u578b\uff0c\u800c Boolean \u662f JavaScript \u4e2d\u7684\u6784\u9020\u51fd\u6570\u3002\u5176\u4ed6\u57fa\u672c\u7c7b\u578b\uff08\u9664\u4e86 null \u548c undefined \uff09\u4e00\u6837\uff0c\u4e0d\u518d\u8d58\u8ff0\u3002","title":"\u5e03\u5c14\u503c"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_2","text":"\u4f7f\u7528 number \u5b9a\u4e49\u6570\u503c\u7c7b\u578b\uff1a let decLiteral : number = 6 ; let hexLiteral : number = 0xf00d ; // ES6 \u4e2d\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u6cd5 let binaryLiteral : number = 0b1010 ; // ES6 \u4e2d\u7684\u516b\u8fdb\u5236\u8868\u793a\u6cd5 let octalLiteral : number = 0o744 ; let notANumber : number = NaN ; let infinityNumber : number = Infinity ; \u7f16\u8bd1\u7ed3\u679c\uff1a var decLiteral = 6 ; var hexLiteral = 0xf00d ; // ES6 \u4e2d\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u6cd5 var binaryLiteral = 10 ; // ES6 \u4e2d\u7684\u516b\u8fdb\u5236\u8868\u793a\u6cd5 var octalLiteral = 484 ; var notANumber = NaN ; var infinityNumber = Infinity ; \u5176\u4e2d 0b1010 \u548c 0o744 \u662f ES6 \u4e2d\u7684\u4e8c\u8fdb\u5236\u548c\u516b\u8fdb\u5236\u8868\u793a\u6cd5 \uff0c\u5b83\u4eec\u4f1a\u88ab\u7f16\u8bd1\u4e3a\u5341\u8fdb\u5236\u6570\u5b57\u3002","title":"\u6570\u503c"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_3","text":"\u4f7f\u7528 string \u5b9a\u4e49\u5b57\u7b26\u4e32\u7c7b\u578b\uff1a let myName : string = 'Tom' ; let myAge : number = 25 ; // \u6a21\u677f\u5b57\u7b26\u4e32 let sentence : string = `Hello, my name is ${ myName } . I'll be ${ myAge + 1 } years old next month.` ; \u7f16\u8bd1\u7ed3\u679c\uff1a var myName = 'Tom' ; var myAge = 25 ; // \u6a21\u677f\u5b57\u7b26\u4e32 var sentence = \"Hello, my name is \" + myName + \". I'll be \" + ( myAge + 1 ) + \" years old next month.\" ; \u5176\u4e2d `` \u7528\u6765\u5b9a\u4e49 [ES6 \u4e2d\u7684\u6a21\u677f\u5b57\u7b26\u4e32](http://es6.ruanyifeng.com/#docs/string#\u6a21\u677f\u5b57\u7b26\u4e32)\uff0c ${expr}` \u7528\u6765\u5728\u6a21\u677f\u5b57\u7b26\u4e32\u4e2d\u5d4c\u5165\u8868\u8fbe\u5f0f\u3002","title":"\u5b57\u7b26\u4e32"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_4","text":"JavaScript \u6ca1\u6709\u7a7a\u503c\uff08Void\uff09\u7684\u6982\u5ff5\uff0c\u5728 TypeScript \u4e2d\uff0c\u53ef\u4ee5\u7528 void \u8868\u793a\u6ca1\u6709\u4efb\u4f55\u8fd4\u56de\u503c\u7684\u51fd\u6570\uff1a function alertName () : void { alert ( 'My name is Tom' ); } \u58f0\u660e\u4e00\u4e2a void \u7c7b\u578b\u7684\u53d8\u91cf\u6ca1\u6709\u4ec0\u4e48\u7528\uff0c\u56e0\u4e3a\u4f60\u53ea\u80fd\u5c06\u5b83\u8d4b\u503c\u4e3a undefined \u548c null \uff1a let unusable : void = undefined ;","title":"\u7a7a\u503c"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#null-undefined","text":"\u5728 TypeScript \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 null \u548c undefined \u6765\u5b9a\u4e49\u8fd9\u4e24\u4e2a\u539f\u59cb\u6570\u636e\u7c7b\u578b\uff1a let u : undefined = undefined ; let n : null = null ; \u4e0e void \u7684\u533a\u522b\u662f\uff0c undefined \u548c null \u662f\u6240\u6709\u7c7b\u578b\u7684\u5b50\u7c7b\u578b\u3002\u4e5f\u5c31\u662f\u8bf4 undefined \u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u53ef\u4ee5\u8d4b\u503c\u7ed9 number \u7c7b\u578b\u7684\u53d8\u91cf\uff1a // \u8fd9\u6837\u4e0d\u4f1a\u62a5\u9519 let num : number = undefined ; // \u8fd9\u6837\u4e5f\u4e0d\u4f1a\u62a5\u9519 let u : undefined ; let num : number = u ; \u800c void \u7c7b\u578b\u7684\u53d8\u91cf\u4e0d\u80fd\u8d4b\u503c\u7ed9 number \u7c7b\u578b\u7684\u53d8\u91cf\uff1a let u : void ; let num : number = u ; // Type 'void' is not assignable to type 'number'.","title":"Null \u548c Undefined"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#2","text":"\u4efb\u610f\u503c\uff08Any\uff09\u7528\u6765\u8868\u793a\u5141\u8bb8\u8d4b\u503c\u4e3a\u4efb\u610f\u7c7b\u578b\u3002","title":"2.\u4efb\u610f\u503c"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_5","text":"\u5982\u679c\u662f\u4e00\u4e2a\u666e\u901a\u7c7b\u578b\uff0c\u5728\u8d4b\u503c\u8fc7\u7a0b\u4e2d\u6539\u53d8\u7c7b\u578b\u662f\u4e0d\u88ab\u5141\u8bb8\u7684\uff1a let myFavoriteNumber : string = 'seven' ; myFavoriteNumber = 7 ; // index.ts(2,1): error TS2322: Type 'number' is not assignable to type 'string'. \u4f46\u5982\u679c\u662f any \u7c7b\u578b\uff0c\u5219\u5141\u8bb8\u88ab\u8d4b\u503c\u4e3a\u4efb\u610f\u7c7b\u578b\u3002 let myFavoriteNumber : any = 'seven' ; myFavoriteNumber = 7 ;","title":"\u4ec0\u4e48\u662f\u4efb\u610f\u503c\u7c7b\u578b"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_6","text":"\u5728\u4efb\u610f\u503c\u4e0a\u8bbf\u95ee\u4efb\u4f55\u5c5e\u6027\u90fd\u662f\u5141\u8bb8\u7684\uff1a let anyThing : any = 'hello' ; console . log ( anyThing . myName ); console . log ( anyThing . myName . firstName ); \u4e5f\u5141\u8bb8\u8c03\u7528\u4efb\u4f55\u65b9\u6cd5\uff1a let anyThing : any = 'Tom' ; anyThing . setName ( 'Jerry' ); anyThing . setName ( 'Jerry' ). sayHello (); anyThing . myName . setFirstName ( 'Cat' ); \u53ef\u4ee5\u8ba4\u4e3a\uff0c \u58f0\u660e\u4e00\u4e2a\u53d8\u91cf\u4e3a\u4efb\u610f\u503c\u4e4b\u540e\uff0c\u5bf9\u5b83\u7684\u4efb\u4f55\u64cd\u4f5c\uff0c\u8fd4\u56de\u7684\u5185\u5bb9\u7684\u7c7b\u578b\u90fd\u662f\u4efb\u610f\u503c \u3002","title":"\u4efb\u610f\u503c\u7684\u5c5e\u6027\u548c\u65b9\u6cd5"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_7","text":"\u53d8\u91cf\u5982\u679c\u5728\u58f0\u660e\u7684\u65f6\u5019\uff0c\u672a\u6307\u5b9a\u5176\u7c7b\u578b\uff0c\u90a3\u4e48\u5b83\u4f1a\u88ab\u8bc6\u522b\u4e3a\u4efb\u610f\u503c\u7c7b\u578b\uff1a let something ; something = 'seven' ; something = 7 ; something . setName ( 'Tom' ); \u7b49\u4ef7\u4e8e let something : any ; something = 'seven' ; something = 7 ; something . setName ( 'Tom' );","title":"\u672a\u58f0\u660e\u7c7b\u578b\u7684\u53d8\u91cf"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#3","text":"\u5982\u679c\u6ca1\u6709\u660e\u786e\u7684\u6307\u5b9a\u7c7b\u578b\uff0c\u90a3\u4e48 TypeScript \u4f1a\u4f9d\u7167\u7c7b\u578b\u63a8\u8bba\uff08Type Inference\uff09\u7684\u89c4\u5219\u63a8\u65ad\u51fa\u4e00\u4e2a\u7c7b\u578b\u3002","title":"3.\u7c7b\u578b\u63a8\u8bba"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_8","text":"\u4ee5\u4e0b\u4ee3\u7801\u867d\u7136\u6ca1\u6709\u6307\u5b9a\u7c7b\u578b\uff0c\u4f46\u662f\u4f1a\u5728\u7f16\u8bd1\u7684\u65f6\u5019\u62a5\u9519\uff1a let myFavoriteNumber = 'seven' ; myFavoriteNumber = 7 ; // index.ts(2,1): error TS2322: Type 'number' is not assignable to type 'string'. \u4e8b\u5b9e\u4e0a\uff0c\u5b83\u7b49\u4ef7\u4e8e\uff1a let myFavoriteNumber : string = 'seven' ; myFavoriteNumber = 7 ; // index.ts(2,1): error TS2322: Type 'number' is not assignable to type 'string'. TypeScript \u4f1a\u5728\u6ca1\u6709\u660e\u786e\u7684\u6307\u5b9a\u7c7b\u578b\u7684\u65f6\u5019\u63a8\u6d4b\u51fa\u4e00\u4e2a\u7c7b\u578b\uff0c\u8fd9\u5c31\u662f\u7c7b\u578b\u63a8\u8bba\u3002 \u5982\u679c\u5b9a\u4e49\u7684\u65f6\u5019\u6ca1\u6709\u8d4b\u503c\uff0c\u4e0d\u7ba1\u4e4b\u540e\u6709\u6ca1\u6709\u8d4b\u503c\uff0c\u90fd\u4f1a\u88ab\u63a8\u65ad\u6210 any \u7c7b\u578b\u800c\u5b8c\u5168\u4e0d\u88ab\u7c7b\u578b\u68c0\u67e5 \uff1a let myFavoriteNumber ; myFavoriteNumber = 'seven' ; myFavoriteNumber = 7 ;","title":"\u4ec0\u4e48\u662f\u7c7b\u578b\u63a8\u8bba"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#4","text":"\u8054\u5408\u7c7b\u578b\uff08Union Types\uff09\u8868\u793a\u53d6\u503c\u53ef\u4ee5\u4e3a\u591a\u79cd\u7c7b\u578b\u4e2d\u7684\u4e00\u79cd\u3002 let myFavoriteNumber : string | number ; myFavoriteNumber = 'seven' ; myFavoriteNumber = 7 ; let myFavoriteNumber : string | number ; myFavoriteNumber = true ; // index.ts(2,1): error TS2322: Type 'boolean' is not assignable to type 'string | number'. // Type 'boolean' is not assignable to type 'number'. \u8054\u5408\u7c7b\u578b\u4f7f\u7528 | \u5206\u9694\u6bcf\u4e2a\u7c7b\u578b\u3002 \u8fd9\u91cc\u7684 let myFavoriteNumber: string | number \u7684\u542b\u4e49\u662f\uff0c\u5141\u8bb8 myFavoriteNumber \u7684\u7c7b\u578b\u662f string \u6216\u8005 number \uff0c\u4f46\u662f\u4e0d\u80fd\u662f\u5176\u4ed6\u7c7b\u578b\u3002","title":"4.\u8054\u5408\u7c7b\u578b"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_9","text":"\u5f53 TypeScript \u4e0d\u786e\u5b9a\u4e00\u4e2a\u8054\u5408\u7c7b\u578b\u7684\u53d8\u91cf\u5230\u5e95\u662f\u54ea\u4e2a\u7c7b\u578b\u7684\u65f6\u5019\uff0c\u6211\u4eec**\u53ea\u80fd\u8bbf\u95ee\u6b64\u8054\u5408\u7c7b\u578b\u7684\u6240\u6709\u7c7b\u578b\u91cc\u5171\u6709\u7684\u5c5e\u6027\u6216\u65b9\u6cd5**\uff1a function getLength ( something : string | number ) : number { return something . length ; } // index.ts(2,22): error TS2339: Property 'length' does not exist on type 'string | number'. // Property 'length' does not exist on type 'number'. \u4e0a\u4f8b\u4e2d\uff0c length \u4e0d\u662f string \u548c number \u7684\u5171\u6709\u5c5e\u6027\uff0c\u6240\u4ee5\u4f1a\u62a5\u9519\u3002 \u8bbf\u95ee string \u548c number \u7684\u5171\u6709\u5c5e\u6027\u662f\u6ca1\u95ee\u9898\u7684\uff1a function getString ( something : string | number ) : string { return something . toString (); } \u8054\u5408\u7c7b\u578b\u7684\u53d8\u91cf\u5728\u88ab\u8d4b\u503c\u7684\u65f6\u5019\uff0c\u4f1a\u6839\u636e\u7c7b\u578b\u63a8\u8bba\u7684\u89c4\u5219\u63a8\u65ad\u51fa\u4e00\u4e2a\u7c7b\u578b\uff1a let myFavoriteNumber : string | number ; myFavoriteNumber = 'seven' ; console . log ( myFavoriteNumber . length ); // 5 myFavoriteNumber = 7 ; console . log ( myFavoriteNumber . length ); // \u7f16\u8bd1\u65f6\u62a5\u9519 // index.ts(5,30): error TS2339: Property 'length' does not exist on type 'number'. \u4e0a\u4f8b\u4e2d\uff0c\u7b2c\u4e8c\u884c\u7684 myFavoriteNumber \u88ab\u63a8\u65ad\u6210\u4e86 string \uff0c\u8bbf\u95ee\u5b83\u7684 length \u5c5e\u6027\u4e0d\u4f1a\u62a5\u9519\u3002 \u800c\u7b2c\u56db\u884c\u7684 myFavoriteNumber \u88ab\u63a8\u65ad\u6210\u4e86 number \uff0c\u8bbf\u95ee\u5b83\u7684 length \u5c5e\u6027\u65f6\u5c31\u62a5\u9519\u4e86\u3002","title":"\u8bbf\u95ee\u8054\u5408\u7c7b\u578b\u7684\u5c5e\u6027\u6216\u65b9\u6cd5"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#5","text":"\u5728 TypeScript \u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u63a5\u53e3\uff08Interfaces\uff09\u6765\u5b9a\u4e49\u5bf9\u8c61\u7684\u7c7b\u578b\u3002","title":"5.\u5bf9\u8c61\u7684\u7c7b\u578b\u2014\u2014\u63a5\u53e3"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_10","text":"\u5728\u9762\u5411\u5bf9\u8c61\u8bed\u8a00\u4e2d\uff0c\u63a5\u53e3\uff08Interfaces\uff09\u662f\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u6982\u5ff5\uff0c\u5b83\u662f\u5bf9\u884c\u4e3a\u7684\u62bd\u8c61\uff0c\u800c\u5177\u4f53\u5982\u4f55\u884c\u52a8\u9700\u8981\u7531\u7c7b\uff08classes\uff09\u53bb\u5b9e\u73b0\uff08implement\uff09\u3002TypeScript \u4e2d\u7684\u63a5\u53e3\u662f\u4e00\u4e2a\u975e\u5e38\u7075\u6d3b\u7684\u6982\u5ff5\uff0c\u9664\u4e86\u53ef\u7528\u4e8e \u5bf9\u7c7b\u7684\u4e00\u90e8\u5206\u884c\u4e3a\u8fdb\u884c\u62bd\u8c61 \u4ee5\u5916\uff0c\u4e5f\u5e38\u7528\u4e8e\u5bf9\u300c\u5bf9\u8c61\u7684\u5f62\u72b6\uff08Shape\uff09\u300d\u8fdb\u884c\u63cf\u8ff0\u3002","title":"\u4ec0\u4e48\u662f\u63a5\u53e3"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_11","text":"interface Person { name : string ; age : number ; } let tom : Person = { name : 'Tom' , age : 25 }; \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u63a5\u53e3 Person \uff0c\u63a5\u7740\u5b9a\u4e49\u4e86\u4e00\u4e2a\u53d8\u91cf tom \uff0c\u5b83\u7684\u7c7b\u578b\u662f Person \u3002\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u7ea6\u675f\u4e86 tom \u7684\u5f62\u72b6\u5fc5\u987b\u548c\u63a5\u53e3 Person \u4e00\u81f4\u3002 \u63a5\u53e3\u4e00\u822c\u9996\u5b57\u6bcd\u5927\u5199\u3002 \u6709\u7684\u7f16\u7a0b\u8bed\u8a00\u4e2d\u4f1a\u5efa\u8bae\u63a5\u53e3\u7684\u540d\u79f0\u52a0\u4e0a I \u524d\u7f00 \u3002 \u5b9a\u4e49\u7684\u53d8\u91cf\u6bd4\u63a5\u53e3\u5c11\u4e86\u4e00\u4e9b\u5c5e\u6027\u662f\u4e0d\u5141\u8bb8\u7684\uff1a interface Person { name : string ; age : number ; } let tom : Person = { name : 'Tom' }; // index.ts(6,5): error TS2322: Type '{ name: string; }' is not assignable to type 'Person'. // Property 'age' is missing in type '{ name: string; }'. \u591a\u4e00\u4e9b\u5c5e\u6027\u4e5f\u662f\u4e0d\u5141\u8bb8\u7684\uff1a interface Person { name : string ; age : number ; } let tom : Person = { name : 'Tom' , age : 25 , gender : 'male' }; // index.ts(9,5): error TS2322: Type '{ name: string; age: number; gender: string; }' is not assignable to type 'Person'. // Object literal may only specify known properties, and 'gender' does not exist in type 'Person'. \u53ef\u89c1\uff0c \u8d4b\u503c\u7684\u65f6\u5019\uff0c\u53d8\u91cf\u7684\u5f62\u72b6\u5fc5\u987b\u548c\u63a5\u53e3\u7684\u5f62\u72b6\u4fdd\u6301\u4e00\u81f4 \u3002","title":"\u7b80\u5355\u7684\u4f8b\u5b50"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_12","text":"\u6709\u65f6\u6211\u4eec\u5e0c\u671b\u4e0d\u8981\u5b8c\u5168\u5339\u914d\u4e00\u4e2a\u5f62\u72b6\uff0c\u90a3\u4e48\u53ef\u4ee5\u7528\u53ef\u9009\u5c5e\u6027\uff1a interface Person { name : string ; age? : number ; } let tom : Person = { name : 'Tom' }; interface Person { name : string ; age? : number ; } let tom : Person = { name : 'Tom' , age : 25 }; \u53ef\u9009\u5c5e\u6027\u7684\u542b\u4e49\u662f\u8be5\u5c5e\u6027\u53ef\u4ee5\u4e0d\u5b58\u5728\u3002 \u8fd9\u65f6**\u4ecd\u7136\u4e0d\u5141\u8bb8\u6dfb\u52a0\u672a\u5b9a\u4e49\u7684\u5c5e\u6027**\uff1a interface Person { name : string ; age? : number ; } let tom : Person = { name : 'Tom' , age : 25 , gender : 'male' }; // examples/playground/index.ts(9,5): error TS2322: Type '{ name: string; age: number; gender: string; }' is not assignable to type 'Person'. // Object literal may only specify known properties, and 'gender' does not exist in type 'Person'.","title":"\u53ef\u9009\u5c5e\u6027"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_13","text":"\u6709\u65f6\u5019\u6211\u4eec\u5e0c\u671b\u4e00\u4e2a\u63a5\u53e3\u5141\u8bb8\u6709\u4efb\u610f\u7684\u5c5e\u6027\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u65b9\u5f0f\uff1a interface Person { name : string ; age? : number ; [ propName : string ] : any ; } let tom : Person = { name : 'Tom' , gender : 'male' }; \u4f7f\u7528 [propName: string] \u5b9a\u4e49\u4e86\u4efb\u610f\u5c5e\u6027\u53d6 string \u7c7b\u578b\u7684\u503c\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c \u4e00\u65e6\u5b9a\u4e49\u4e86\u4efb\u610f\u5c5e\u6027\uff0c\u90a3\u4e48\u786e\u5b9a\u5c5e\u6027\u548c\u53ef\u9009\u5c5e\u6027\u7684\u7c7b\u578b\u90fd\u5fc5\u987b\u662f\u5b83\u7684\u7c7b\u578b\u7684\u5b50\u96c6 \uff1a interface Person { name : string ; age? : number ; [ propName : string ] : string ; } let tom : Person = { name : 'Tom' , age : 25 , gender : 'male' }; // index.ts(3,5): error TS2411: Property 'age' of type 'number' is not assignable to string index type 'string'. // index.ts(7,5): error TS2322: Type '{ [x: string]: string | number; name: string; age: number; gender: string; }' is not assignable to type 'Person'. // Index signatures are incompatible. // Type 'string | number' is not assignable to type 'string'. // Type 'number' is not assignable to type 'string'. \u4e0a\u4f8b\u4e2d\uff0c\u4efb\u610f\u5c5e\u6027\u7684\u503c\u5141\u8bb8\u662f string \uff0c\u4f46\u662f\u53ef\u9009\u5c5e\u6027 age \u7684\u503c\u5374\u662f number \uff0c number \u4e0d\u662f string \u7684\u5b50\u5c5e\u6027\uff0c\u6240\u4ee5\u62a5\u9519\u4e86\u3002 \u53e6\u5916\uff0c\u5728\u62a5\u9519\u4fe1\u606f\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u6b64\u65f6 { name: 'Tom', age: 25, gender: 'male' } \u7684\u7c7b\u578b\u88ab\u63a8\u65ad\u6210\u4e86 { [x: string]: string | number; name: string; age: number; gender: string; } \uff0c\u8fd9\u662f\u8054\u5408\u7c7b\u578b\u548c\u63a5\u53e3\u7684\u7ed3\u5408\u3002 \u4e00\u4e2a\u63a5\u53e3\u4e2d\u53ea\u80fd\u5b9a\u4e49\u4e00\u4e2a\u4efb\u610f\u5c5e\u6027\u3002\u5982\u679c\u63a5\u53e3\u4e2d\u6709\u591a\u4e2a\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u5219\u53ef\u4ee5\u5728\u4efb\u610f\u5c5e\u6027\u4e2d\u4f7f\u7528\u8054\u5408\u7c7b\u578b\uff1a interface Person { name : string ; age? : number ; [ propName : string ] : string | number ; } let tom : Person = { name : 'Tom' , age : 25 , gender : 'male' };","title":"\u4efb\u610f\u5c5e\u6027"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_14","text":"\u6709\u65f6\u5019\u6211\u4eec\u5e0c\u671b\u5bf9\u8c61\u4e2d\u7684\u4e00\u4e9b\u5b57\u6bb5\u53ea\u80fd\u5728\u521b\u5efa\u7684\u65f6\u5019\u88ab\u8d4b\u503c\uff0c\u90a3\u4e48\u53ef\u4ee5\u7528 readonly \u5b9a\u4e49\u53ea\u8bfb\u5c5e\u6027\uff1a interface Person { readonly id : number ; name : string ; age? : number ; [ propName : string ] : any ; } let tom : Person = { id : 89757 , name : 'Tom' , gender : 'male' }; tom . id = 9527 ; // index.ts(14,5): error TS2540: Cannot assign to 'id' because it is a constant or a read-only property. \u4e0a\u4f8b\u4e2d\uff0c\u4f7f\u7528 readonly \u5b9a\u4e49\u7684\u5c5e\u6027 id \u521d\u59cb\u5316\u540e\uff0c\u53c8\u88ab\u8d4b\u503c\u4e86\uff0c\u6240\u4ee5\u62a5\u9519\u4e86\u3002 \u6ce8\u610f\uff0c\u53ea\u8bfb\u7684\u7ea6\u675f\u5b58\u5728\u4e8e\u7b2c\u4e00\u6b21\u7ed9\u5bf9\u8c61\u8d4b\u503c\u7684\u65f6\u5019\uff0c\u800c\u4e0d\u662f\u7b2c\u4e00\u6b21\u7ed9\u53ea\u8bfb\u5c5e\u6027\u8d4b\u503c\u7684\u65f6\u5019 \uff1a interface Person { readonly id : number ; name : string ; age? : number ; [ propName : string ] : any ; } let tom : Person = { name : 'Tom' , gender : 'male' }; tom . id = 89757 ; // index.ts(8,5): error TS2322: Type '{ name: string; gender: string; }' is not assignable to type 'Person'. // Property 'id' is missing in type '{ name: string; gender: string; }'. // index.ts(13,5): error TS2540: Cannot assign to 'id' because it is a constant or a read-only property. \u4e0a\u4f8b\u4e2d\uff0c\u62a5\u9519\u4fe1\u606f\u6709\u4e24\u5904\uff0c\u7b2c\u4e00\u5904\u662f\u5728\u5bf9 tom \u8fdb\u884c\u8d4b\u503c\u7684\u65f6\u5019\uff0c\u6ca1\u6709\u7ed9 id \u8d4b\u503c\u3002 \u7b2c\u4e8c\u5904\u662f\u5728\u7ed9 tom.id \u8d4b\u503c\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u5b83\u662f\u53ea\u8bfb\u5c5e\u6027\uff0c\u6240\u4ee5\u62a5\u9519\u4e86\u3002","title":"\u53ea\u8bfb\u5c5e\u6027"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#6","text":"\u5728 TypeScript \u4e2d\uff0c\u6570\u7ec4\u7c7b\u578b\u6709\u591a\u79cd\u5b9a\u4e49\u65b9\u5f0f\uff0c\u6bd4\u8f83\u7075\u6d3b\u3002","title":"6.\u6570\u7ec4\u7684\u7c7b\u578b"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_15","text":"\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u4f7f\u7528\u300c\u7c7b\u578b + \u65b9\u62ec\u53f7\u300d\u6765\u8868\u793a\u6570\u7ec4\uff1a let fibonacci : number [] = [ 1 , 1 , 2 , 3 , 5 ]; \u6570\u7ec4\u7684\u9879\u4e2d**\u4e0d\u5141\u8bb8**\u51fa\u73b0\u5176\u4ed6\u7684\u7c7b\u578b\uff1a let fibonacci : number [] = [ 1 , '1' , 2 , 3 , 5 ]; // Type 'string' is not assignable to type 'number'. \u6570\u7ec4\u7684\u4e00\u4e9b\u65b9\u6cd5\u7684\u53c2\u6570\u4e5f\u4f1a\u6839\u636e\u6570\u7ec4\u5728\u5b9a\u4e49\u65f6\u7ea6\u5b9a\u7684\u7c7b\u578b\u8fdb\u884c\u9650\u5236\uff1a let fibonacci : number [] = [ 1 , 1 , 2 , 3 , 5 ]; fibonacci . push ( '8' ); // Argument of type '\"8\"' is not assignable to parameter of type 'number'. \u4e0a\u4f8b\u4e2d\uff0c push \u65b9\u6cd5\u53ea\u5141\u8bb8\u4f20\u5165 number \u7c7b\u578b\u7684\u53c2\u6570\uff0c\u4f46\u662f\u5374\u4f20\u4e86\u4e00\u4e2a \"8\" \u7c7b\u578b\u7684\u53c2\u6570\uff0c\u6240\u4ee5\u62a5\u9519\u4e86\u3002\u8fd9\u91cc \"8\" \u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b\uff0c\u4f1a\u5728\u540e\u7eed\u7ae0\u8282\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\u3002","title":"\u300c\u7c7b\u578b + \u65b9\u62ec\u53f7\u300d\u8868\u793a\u6cd5"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_16","text":"\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528\u6570\u7ec4\u6cdb\u578b\uff08Array Generic\uff09 Array<elemType> \u6765\u8868\u793a\u6570\u7ec4\uff1a let fibonacci : Array < number > = [ 1 , 1 , 2 , 3 , 5 ]; \u5173\u4e8e\u6cdb\u578b\uff0c\u53ef\u4ee5\u53c2\u8003 \u6cdb\u578b \u4e00\u7ae0\u3002","title":"\u6570\u7ec4\u6cdb\u578b"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_17","text":"\u63a5\u53e3\u4e5f\u53ef\u4ee5\u7528\u6765\u63cf\u8ff0\u6570\u7ec4\uff1a interface NumberArray { [ index : number ] : number ; } let fibonacci : NumberArray = [ 1 , 1 , 2 , 3 , 5 ]; NumberArray \u8868\u793a\uff1a\u53ea\u8981\u7d22\u5f15\u7684\u7c7b\u578b\u662f\u6570\u5b57\u65f6\uff0c\u90a3\u4e48\u503c\u7684\u7c7b\u578b\u5fc5\u987b\u662f\u6570\u5b57\u3002 \u867d\u7136\u63a5\u53e3\u4e5f\u53ef\u4ee5\u7528\u6765\u63cf\u8ff0\u6570\u7ec4\uff0c\u4f46\u662f\u6211\u4eec\u4e00\u822c\u4e0d\u4f1a\u8fd9\u4e48\u505a\uff0c\u56e0\u4e3a\u8fd9\u79cd\u65b9\u5f0f\u6bd4\u524d\u4e24\u79cd\u65b9\u5f0f\u590d\u6742\u591a\u4e86\u3002 \u4e0d\u8fc7\u6709\u4e00\u79cd\u60c5\u51b5\u4f8b\u5916\uff0c\u90a3\u5c31\u662f\u5b83\u5e38\u7528\u6765\u8868\u793a\u7c7b\u6570\u7ec4\u3002","title":"\u7528\u63a5\u53e3\u8868\u793a\u6570\u7ec4"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_18","text":"\u7c7b\u6570\u7ec4\uff08Array-like Object\uff09\u4e0d\u662f\u6570\u7ec4\u7c7b\u578b\uff0c\u6bd4\u5982 arguments \uff1a function sum () { let args : number [] = arguments ; } // Type 'IArguments' is missing the following properties from type 'number[]': pop, push, concat, join, and 24 more. \u4e0a\u4f8b\u4e2d\uff0c arguments \u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u7c7b\u6570\u7ec4\uff0c\u4e0d\u80fd\u7528\u666e\u901a\u7684\u6570\u7ec4\u7684\u65b9\u5f0f\u6765\u63cf\u8ff0\uff0c\u800c\u5e94\u8be5\u7528\u63a5\u53e3\uff1a function sum () { let args : { [ index : number ] : number ; length : number ; callee : Function ; } = arguments ; } \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u9664\u4e86\u7ea6\u675f\u5f53\u7d22\u5f15\u7684\u7c7b\u578b\u662f\u6570\u5b57\u65f6\uff0c\u503c\u7684\u7c7b\u578b\u5fc5\u987b\u662f\u6570\u5b57\u4e4b\u5916\uff0c\u4e5f\u7ea6\u675f\u4e86\u5b83\u8fd8\u6709 length \u548c callee \u4e24\u4e2a\u5c5e\u6027\u3002 \u4e8b\u5b9e\u4e0a\u5e38\u7528\u7684\u7c7b\u6570\u7ec4\u90fd\u6709\u81ea\u5df1\u7684\u63a5\u53e3\u5b9a\u4e49\uff0c\u5982 IArguments , NodeList , HTMLCollection \u7b49\uff1a function sum () { let args : IArguments = arguments ; } \u5176\u4e2d IArguments \u662f TypeScript \u4e2d\u5b9a\u4e49\u597d\u4e86\u7684\u7c7b\u578b\uff0c\u5b83\u5b9e\u9645\u4e0a\u5c31\u662f\uff1a interface IArguments { [ index : number ] : any ; length : number ; callee : Function ; } \u5173\u4e8e\u5185\u7f6e\u5bf9\u8c61\uff0c\u53ef\u4ee5\u53c2\u8003 \u5185\u7f6e\u5bf9\u8c61 \u4e00\u7ae0\u3002","title":"\u7c7b\u6570\u7ec4"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#any","text":"\u4e00\u4e2a\u6bd4\u8f83\u5e38\u89c1\u7684\u505a\u6cd5\u662f\uff0c\u7528 any \u8868\u793a\u6570\u7ec4\u4e2d\u5141\u8bb8\u51fa\u73b0\u4efb\u610f\u7c7b\u578b\uff1a let list : any [] = [ 'xcatliu' , 25 , { website : 'http://xcatliu.com' }];","title":"any \u5728\u6570\u7ec4\u4e2d\u7684\u5e94\u7528"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#7","text":"\u51fd\u6570\u662f JavaScript \u4e2d\u7684\u4e00\u7b49\u516c\u6c11","title":"7.\u51fd\u6570\u7684\u7c7b\u578b"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_19","text":"\u5728 JavaScript \u4e2d\uff0c\u6709\u4e24\u79cd\u5e38\u89c1\u7684\u5b9a\u4e49\u51fd\u6570\u7684\u65b9\u5f0f\u2014\u2014\u51fd\u6570\u58f0\u660e\uff08Function Declaration\uff09\u548c\u51fd\u6570\u8868\u8fbe\u5f0f\uff08Function Expression\uff09\uff1a // \u51fd\u6570\u58f0\u660e\uff08Function Declaration\uff09 function sum ( x , y ) { return x + y ; } // \u51fd\u6570\u8868\u8fbe\u5f0f\uff08Function Expression\uff09 let mySum = function ( x , y ) { return x + y ; }; \u4e00\u4e2a\u51fd\u6570\u6709\u8f93\u5165\u548c\u8f93\u51fa\uff0c\u8981\u5728 TypeScript \u4e2d\u5bf9\u5176\u8fdb\u884c\u7ea6\u675f\uff0c\u9700\u8981\u628a\u8f93\u5165\u548c\u8f93\u51fa\u90fd\u8003\u8651\u5230\uff0c\u5176\u4e2d\u51fd\u6570\u58f0\u660e\u7684\u7c7b\u578b\u5b9a\u4e49\u8f83\u7b80\u5355\uff1a function sum ( x : number , y : number ) : number { return x + y ; } \u6ce8\u610f\uff0c \u8f93\u5165\u591a\u4f59\u7684\uff08\u6216\u8005\u5c11\u4e8e\u8981\u6c42\u7684\uff09\u53c2\u6570\uff0c\u662f\u4e0d\u88ab\u5141\u8bb8\u7684 \uff1a function sum ( x : number , y : number ) : number { return x + y ; } sum ( 1 , 2 , 3 ); // index.ts(4,1): error TS2346: Supplied parameters do not match any signature of call target. function sum ( x : number , y : number ) : number { return x + y ; } sum ( 1 ); // index.ts(4,1): error TS2346: Supplied parameters do not match any signature of call target.","title":"\u51fd\u6570\u58f0\u660e"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_20","text":"\u5982\u679c\u8981\u6211\u4eec\u73b0\u5728\u5199\u4e00\u4e2a\u5bf9\u51fd\u6570\u8868\u8fbe\u5f0f\uff08Function Expression\uff09\u7684\u5b9a\u4e49\uff0c\u53ef\u80fd\u4f1a\u5199\u6210\u8fd9\u6837\uff1a let mySum = function ( x : number , y : number ) : number { return x + y ; }; \u8fd9\u662f\u53ef\u4ee5\u901a\u8fc7\u7f16\u8bd1\u7684\uff0c\u4e0d\u8fc7\u4e8b\u5b9e\u4e0a\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u53ea\u5bf9\u7b49\u53f7\u53f3\u4fa7\u7684\u533f\u540d\u51fd\u6570\u8fdb\u884c\u4e86\u7c7b\u578b\u5b9a\u4e49\uff0c\u800c\u7b49\u53f7\u5de6\u8fb9\u7684 mySum \uff0c\u662f\u901a\u8fc7\u8d4b\u503c\u64cd\u4f5c\u8fdb\u884c\u7c7b\u578b\u63a8\u8bba\u800c\u63a8\u65ad\u51fa\u6765\u7684\u3002\u5982\u679c\u9700\u8981\u6211\u4eec\u624b\u52a8\u7ed9 mySum \u6dfb\u52a0\u7c7b\u578b\uff0c\u5219\u5e94\u8be5\u662f\u8fd9\u6837\uff1a let mySum : ( x : number , y : number ) => number = function ( x : number , y : number ) : number { return x + y ; }; \u6ce8\u610f\u4e0d\u8981\u6df7\u6dc6\u4e86 TypeScript \u4e2d\u7684 => \u548c ES6 \u4e2d\u7684 => \u3002 \u5728 TypeScript \u7684\u7c7b\u578b\u5b9a\u4e49\u4e2d\uff0c => \u7528\u6765\u8868\u793a\u51fd\u6570\u7684\u5b9a\u4e49\uff0c\u5de6\u8fb9\u662f\u8f93\u5165\u7c7b\u578b\uff0c\u9700\u8981\u7528\u62ec\u53f7\u62ec\u8d77\u6765\uff0c\u53f3\u8fb9\u662f\u8f93\u51fa\u7c7b\u578b\u3002 \u5728 ES6 \u4e2d\uff0c => \u53eb\u505a\u7bad\u5934\u51fd\u6570\uff0c\u5e94\u7528\u5341\u5206\u5e7f\u6cdb\uff0c\u53ef\u4ee5\u53c2\u8003 ES6 \u4e2d\u7684\u7bad\u5934\u51fd\u6570 \u3002","title":"\u51fd\u6570\u8868\u8fbe\u5f0f"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_21","text":"\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528\u63a5\u53e3\u7684\u65b9\u5f0f\u6765\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u9700\u8981\u7b26\u5408\u7684\u5f62\u72b6\uff1a interface SearchFunc { ( source : string , subString : string ) : boolean ; } let mySearch : SearchFunc ; mySearch = function ( source : string , subString : string ) { return source . search ( subString ) !== - 1 ; } \u91c7\u7528\u51fd\u6570\u8868\u8fbe\u5f0f|\u63a5\u53e3\u5b9a\u4e49\u51fd\u6570\u7684\u65b9\u5f0f\u65f6\uff0c\u5bf9\u7b49\u53f7\u5de6\u4fa7\u8fdb\u884c\u7c7b\u578b\u9650\u5236\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u4ee5\u540e\u5bf9\u51fd\u6570\u540d\u8d4b\u503c\u65f6\u4fdd\u8bc1\u53c2\u6570\u4e2a\u6570\u3001\u53c2\u6570\u7c7b\u578b\u3001\u8fd4\u56de\u503c\u7c7b\u578b\u4e0d\u53d8\u3002","title":"\u7528\u63a5\u53e3\u5b9a\u4e49\u51fd\u6570\u7684\u5f62\u72b6"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_22","text":"\u524d\u9762\u63d0\u5230\uff0c\u8f93\u5165\u591a\u4f59\u7684\uff08\u6216\u8005\u5c11\u4e8e\u8981\u6c42\u7684\uff09\u53c2\u6570\uff0c\u662f\u4e0d\u5141\u8bb8\u7684\u3002\u90a3\u4e48\u5982\u4f55\u5b9a\u4e49\u53ef\u9009\u7684\u53c2\u6570\u5462\uff1f \u4e0e\u63a5\u53e3\u4e2d\u7684\u53ef\u9009\u5c5e\u6027\u7c7b\u4f3c\uff0c\u6211\u4eec\u7528 ? \u8868\u793a\u53ef\u9009\u7684\u53c2\u6570\uff1a function buildName ( firstName : string , lastName? : string ) { if ( lastName ) { return firstName + ' ' + lastName ; } else { return firstName ; } } let tomcat = buildName ( 'Tom' , 'Cat' ); let tom = buildName ( 'Tom' ); \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u53ef\u9009\u53c2\u6570\u5fc5\u987b\u63a5\u5728\u5fc5\u9700\u53c2\u6570\u540e\u9762\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c \u53ef\u9009\u53c2\u6570\u540e\u9762\u4e0d\u5141\u8bb8\u518d\u51fa\u73b0\u5fc5\u9700\u53c2\u6570\u4e86 \uff1a function buildName ( firstName? : string , lastName : string ) { if ( firstName ) { return firstName + ' ' + lastName ; } else { return lastName ; } } let tomcat = buildName ( 'Tom' , 'Cat' ); let tom = buildName ( undefined , 'Tom' ); // index.ts(1,40): error TS1016: A required parameter cannot follow an optional parameter.","title":"\u53ef\u9009\u53c2\u6570"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_23","text":"\u5728 ES6 \u4e2d\uff0c\u6211\u4eec\u5141\u8bb8\u7ed9\u51fd\u6570\u7684\u53c2\u6570\u6dfb\u52a0\u9ed8\u8ba4\u503c\uff0c TypeScript \u4f1a\u5c06\u6dfb\u52a0\u4e86\u9ed8\u8ba4\u503c\u7684\u53c2\u6570\u8bc6\u522b\u4e3a\u53ef\u9009\u53c2\u6570 \uff1a function buildName ( firstName : string , lastName : string = 'Cat' ) { return firstName + ' ' + lastName ; } let tomcat = buildName ( 'Tom' , 'Cat' ); let tom = buildName ( 'Tom' ); \u6b64\u65f6\u5c31\u4e0d\u53d7\u300c\u53ef\u9009\u53c2\u6570\u5fc5\u987b\u63a5\u5728\u5fc5\u9700\u53c2\u6570\u540e\u9762\u300d\u7684\u9650\u5236\u4e86\uff1a function buildName ( firstName : string = 'Tom' , lastName : string ) { return firstName + ' ' + lastName ; } let tomcat = buildName ( 'Tom' , 'Cat' ); let cat = buildName ( undefined , 'Cat' );","title":"\u53c2\u6570\u9ed8\u8ba4\u503c"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_24","text":"ES6 \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 ...rest \u7684\u65b9\u5f0f\u83b7\u53d6\u51fd\u6570\u4e2d\u7684\u5269\u4f59\u53c2\u6570\uff08rest \u53c2\u6570\uff09\uff1a function push ( array , ... items ) { items . forEach ( function ( item ) { array . push ( item ); }); } let a : any [] = []; push ( a , 1 , 2 , 3 ); \u4e8b\u5b9e\u4e0a\uff0c items \u662f\u4e00\u4e2a\u6570\u7ec4\u3002\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7528\u6570\u7ec4\u7684\u7c7b\u578b\u6765\u5b9a\u4e49\u5b83\uff1a function push ( array : any [], ... items : any []) { items . forEach ( function ( item ) { array . push ( item ); }); } let a = []; push ( a , 1 , 2 , 3 ); \u6ce8\u610f\uff0crest \u53c2\u6570\u53ea\u80fd\u662f\u6700\u540e\u4e00\u4e2a\u53c2\u6570\uff0c\u5173\u4e8e rest \u53c2\u6570\uff0c\u53ef\u4ee5\u53c2\u8003 ES6 \u4e2d\u7684 rest \u53c2\u6570 \u3002","title":"\u5269\u4f59\u53c2\u6570"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_25","text":"\u91cd\u8f7d\u5141\u8bb8\u4e00\u4e2a\u51fd\u6570\u63a5\u53d7\u4e0d\u540c\u6570\u91cf\u6216\u7c7b\u578b\u7684\u53c2\u6570\u65f6\uff0c\u4f5c\u51fa\u4e0d\u540c\u7684\u5904\u7406\u3002 \u6bd4\u5982\uff0c\u6211\u4eec\u9700\u8981\u5b9e\u73b0\u4e00\u4e2a\u51fd\u6570 reverse \uff0c\u8f93\u5165\u6570\u5b57 123 \u7684\u65f6\u5019\uff0c\u8f93\u51fa\u53cd\u8f6c\u7684\u6570\u5b57 321 \uff0c\u8f93\u5165\u5b57\u7b26\u4e32 'hello' \u7684\u65f6\u5019\uff0c\u8f93\u51fa\u53cd\u8f6c\u7684\u5b57\u7b26\u4e32 'olleh' \u3002 \u5229\u7528\u8054\u5408\u7c7b\u578b\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u4e48\u5b9e\u73b0\uff1a function reverse ( x : number | string ) : number | string { if ( typeof x === 'number' ) { return Number ( x . toString (). split ( '' ). reverse (). join ( '' )); } else if ( typeof x === 'string' ) { return x . split ( '' ). reverse (). join ( '' ); } } \u7136\u800c\u8fd9\u6837\u6709\u4e00\u4e2a\u7f3a\u70b9\uff0c\u5c31\u662f\u4e0d\u80fd\u591f\u7cbe\u786e\u7684\u8868\u8fbe\uff0c\u8f93\u5165\u4e3a\u6570\u5b57\u7684\u65f6\u5019\uff0c\u8f93\u51fa\u4e5f\u5e94\u8be5\u4e3a\u6570\u5b57\uff0c\u8f93\u5165\u4e3a\u5b57\u7b26\u4e32\u7684\u65f6\u5019\uff0c\u8f93\u51fa\u4e5f\u5e94\u8be5\u4e3a\u5b57\u7b26\u4e32\u3002 \u8fd9\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u91cd\u8f7d\u5b9a\u4e49\u591a\u4e2a reverse \u7684\u51fd\u6570\u7c7b\u578b\uff1a function reverse ( x : number ) : number ; function reverse ( x : string ) : string ; function reverse ( x : number | string ) : number | string { if ( typeof x === 'number' ) { return Number ( x . toString (). split ( '' ). reverse (). join ( '' )); } else if ( typeof x === 'string' ) { return x . split ( '' ). reverse (). join ( '' ); } } \u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u91cd\u590d\u5b9a\u4e49\u4e86\u591a\u6b21\u51fd\u6570 reverse \uff0c\u524d\u51e0\u6b21\u90fd\u662f\u51fd\u6570\u5b9a\u4e49\uff0c\u6700\u540e\u4e00\u6b21\u662f\u51fd\u6570\u5b9e\u73b0\u3002\u5728\u7f16\u8f91\u5668\u7684\u4ee3\u7801\u63d0\u793a\u4e2d\uff0c\u53ef\u4ee5\u6b63\u786e\u7684\u770b\u5230\u524d\u4e24\u4e2a\u63d0\u793a\u3002 \u6ce8\u610f\uff0cTypeScript \u4f1a\u4f18\u5148\u4ece\u6700\u524d\u9762\u7684\u51fd\u6570\u5b9a\u4e49\u5f00\u59cb\u5339\u914d\uff0c\u6240\u4ee5\u591a\u4e2a\u51fd\u6570\u5b9a\u4e49\u5982\u679c\u6709\u5305\u542b\u5173\u7cfb\uff0c\u9700\u8981\u4f18\u5148\u628a\u7cbe\u786e\u7684\u5b9a\u4e49\u5199\u5728\u524d\u9762\u3002","title":"\u91cd\u8f7d"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#8","text":"\u7c7b\u578b\u65ad\u8a00\uff08Type Assertion\uff09\u53ef\u4ee5\u7528\u6765\u624b\u52a8\u6307\u5b9a\u4e00\u4e2a\u503c\u7684\u7c7b\u578b\u3002","title":"8.\u7c7b\u578b\u65ad\u8a00"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_26","text":"\u503c as \u7c7b\u578b \u5728 tsx \u8bed\u6cd5\uff08React \u7684 jsx \u8bed\u6cd5\u7684 ts \u7248\uff09\u4e2d\u5fc5\u987b\u4f7f\u7528\u8fd9\u79cd\u7c7b\u578b\uff0c\u5373 \u503c as \u7c7b\u578b \u3002 \u5f62\u5982 <Foo> \u7684\u8bed\u6cd5\u5728 tsx \u4e2d\u8868\u793a\u7684\u662f\u4e00\u4e2a ReactNode \uff0c\u5728 ts \u4e2d\u9664\u4e86\u8868\u793a\u7c7b\u578b\u65ad\u8a00\u4e4b\u5916\uff0c\u4e5f\u53ef\u80fd\u662f\u8868\u793a\u4e00\u4e2a \u6cdb\u578b \u3002 \u6545\u5efa\u8bae\u5927\u5bb6\u5728\u4f7f\u7528\u7c7b\u578b\u65ad\u8a00\u65f6\uff0c\u7edf\u4e00\u4f7f\u7528 \u503c as \u7c7b\u578b \u8fd9\u6837\u7684\u8bed\u6cd5\uff0c\u672c\u4e66\u4e2d\u4e5f\u4f1a\u8d2f\u5f7b\u8fd9\u4e00\u601d\u60f3\u3002","title":"\u8bed\u6cd5"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_27","text":"\u7c7b\u578b\u65ad\u8a00\u7684\u5e38\u89c1\u7528\u9014\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a","title":"\u7c7b\u578b\u65ad\u8a00\u7684\u7528\u9014"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_28","text":"\u5f53 TypeScript \u4e0d\u786e\u5b9a\u4e00\u4e2a\u8054\u5408\u7c7b\u578b\u7684\u53d8\u91cf\u5230\u5e95\u662f\u54ea\u4e2a\u7c7b\u578b\u7684\u65f6\u5019\uff0c\u6211\u4eec**\u53ea\u80fd\u8bbf\u95ee\u6b64\u8054\u5408\u7c7b\u578b\u7684\u6240\u6709\u7c7b\u578b\u4e2d\u5171\u6709\u7684\u5c5e\u6027\u6216\u65b9\u6cd5**\uff1a interface Cat { name : string ; run () : void ; } interface Fish { name : string ; swim () : void ; } function getName ( animal : Cat | Fish ) { return animal . name ; } \u800c\u6709\u65f6\u5019\uff0c\u6211\u4eec\u786e\u5b9e\u9700\u8981\u5728\u8fd8\u4e0d\u786e\u5b9a\u7c7b\u578b\u7684\u65f6\u5019\u5c31\u8bbf\u95ee\u5176\u4e2d\u4e00\u4e2a\u7c7b\u578b\u7279\u6709\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\uff0c\u6bd4\u5982\uff1a interface Cat { name : string ; run () : void ; } interface Fish { name : string ; swim () : void ; } function isFish ( animal : Cat | Fish ) { if ( typeof animal . swim === 'function' ) { return true ; } return false ; } // index.ts:11:23 - error TS2339: Property 'swim' does not exist on type 'Cat | Fish'. // Property 'swim' does not exist on type 'Cat'. \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u83b7\u53d6 animal.swim \u7684\u65f6\u5019\u4f1a\u62a5\u9519\u3002 \u6b64\u65f6\u53ef\u4ee5\u4f7f\u7528\u7c7b\u578b\u65ad\u8a00\uff0c\u5c06 animal \u65ad\u8a00\u6210 Fish \uff1a interface Cat { name : string ; run () : void ; } interface Fish { name : string ; swim () : void ; } function isFish ( animal : Cat | Fish ) { if ( typeof ( animal as Fish ). swim === 'function' ) { return true ; } return false ; } \u8fd9\u6837\u5c31\u53ef\u4ee5\u89e3\u51b3\u8bbf\u95ee animal.swim \u65f6\u62a5\u9519\u7684\u95ee\u9898\u4e86\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7c7b\u578b\u65ad\u8a00\u53ea\u80fd\u591f\u300c\u6b3a\u9a97\u300dTypeScript \u7f16\u8bd1\u5668\uff0c\u65e0\u6cd5\u907f\u514d\u8fd0\u884c\u65f6\u7684\u9519\u8bef\uff0c\u53cd\u800c\u6ee5\u7528\u7c7b\u578b\u65ad\u8a00\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8fd0\u884c\u65f6\u9519\u8bef\uff1a interface Cat { name : string ; run () : void ; } interface Fish { name : string ; swim () : void ; } function swim ( animal : Cat | Fish ) { ( animal as Fish ). swim (); } const tom : Cat = { name : 'Tom' , run () { console . log ( 'run' ) } }; swim ( tom ); // Uncaught TypeError: animal.swim is not a function` \u4e0a\u9762\u7684\u4f8b\u5b50\u7f16\u8bd1\u65f6\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u5728\u8fd0\u884c\u65f6\u4f1a\u62a5\u9519\uff1a Uncaught TypeError : animal . swim is not a function ` \u539f\u56e0\u662f (animal as Fish).swim() \u8fd9\u6bb5\u4ee3\u7801\u9690\u85cf\u4e86 animal \u53ef\u80fd\u4e3a Cat \u7684\u60c5\u51b5\uff0c\u5c06 animal \u76f4\u63a5\u65ad\u8a00\u4e3a Fish \u4e86\uff0c\u800c TypeScript \u7f16\u8bd1\u5668\u4fe1\u4efb\u4e86\u6211\u4eec\u7684\u65ad\u8a00\uff0c\u6545\u5728\u8c03\u7528 swim() \u65f6\u6ca1\u6709\u7f16\u8bd1\u9519\u8bef\u3002 \u53ef\u662f swim \u51fd\u6570\u63a5\u53d7\u7684\u53c2\u6570\u662f Cat | Fish \uff0c\u4e00\u65e6\u4f20\u5165\u7684\u53c2\u6570\u662f Cat \u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u7531\u4e8e Cat \u4e0a\u6ca1\u6709 swim \u65b9\u6cd5\uff0c\u5c31\u4f1a\u5bfc\u81f4\u8fd0\u884c\u65f6\u9519\u8bef\u4e86\u3002 \u603b\u4e4b\uff0c\u4f7f\u7528\u7c7b\u578b\u65ad\u8a00\u65f6\u4e00\u5b9a\u8981\u683c\u5916\u5c0f\u5fc3\uff0c\u5c3d\u91cf\u907f\u514d\u65ad\u8a00\u540e\u8c03\u7528\u65b9\u6cd5\u6216\u5f15\u7528\u6df1\u5c42\u5c5e\u6027\uff0c\u4ee5\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u8fd0\u884c\u65f6\u9519\u8bef\u3002","title":"\u5c06\u4e00\u4e2a\u8054\u5408\u7c7b\u578b\u65ad\u8a00\u4e3a\u5176\u4e2d\u4e00\u4e2a\u7c7b\u578b"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_29","text":"\u5f53\u7c7b\u4e4b\u95f4\u6709\u7ee7\u627f\u5173\u7cfb\u65f6\uff0c\u7c7b\u578b\u65ad\u8a00\u4e5f\u662f\u5f88\u5e38\u89c1\u7684\uff1a class ApiError extends Error { code : number = 0 ; } class HttpError extends Error { statusCode : number = 200 ; } function isApiError ( error : Error ) { if ( typeof ( error as ApiError ). code === 'number' ) { return true ; } return false ; } \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u58f0\u660e\u4e86\u51fd\u6570 isApiError \uff0c\u5b83\u7528\u6765\u5224\u65ad\u4f20\u5165\u7684\u53c2\u6570\u662f\u4e0d\u662f ApiError \u7c7b\u578b\uff0c\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u6837\u4e00\u4e2a\u51fd\u6570\uff0c\u5b83\u7684\u53c2\u6570\u7684\u7c7b\u578b\u80af\u5b9a\u5f97\u662f\u6bd4\u8f83\u62bd\u8c61\u7684\u7236\u7c7b Error \uff0c\u8fd9\u6837\u7684\u8bdd\u8fd9\u4e2a\u51fd\u6570\u5c31\u80fd\u63a5\u53d7 Error \u6216\u5b83\u7684\u5b50\u7c7b\u4f5c\u4e3a\u53c2\u6570\u4e86\u3002 \u4f46\u662f\u7531\u4e8e\u7236\u7c7b Error \u4e2d\u6ca1\u6709 code \u5c5e\u6027\uff0c\u6545\u76f4\u63a5\u83b7\u53d6 error.code \u4f1a\u62a5\u9519\uff0c\u9700\u8981\u4f7f\u7528\u7c7b\u578b\u65ad\u8a00\u83b7\u53d6 (error as ApiError).code \u3002 \u5927\u5bb6\u53ef\u80fd\u4f1a\u6ce8\u610f\u5230\uff0c\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u6709\u4e00\u4e2a\u66f4\u5408\u9002\u7684\u65b9\u5f0f\u6765\u5224\u65ad\u662f\u4e0d\u662f ApiError \uff0c\u90a3\u5c31\u662f\u4f7f\u7528 instanceof \uff1a class ApiError extends Error { code : number = 0 ; } class HttpError extends Error { statusCode : number = 200 ; } function isApiError ( error : Error ) { if ( error instanceof ApiError ) { return true ; } return false ; } \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u786e\u5b9e\u4f7f\u7528 instanceof \u66f4\u52a0\u5408\u9002\uff0c\u56e0\u4e3a ApiError \u662f\u4e00\u4e2a JavaScript \u7684\u7c7b\uff0c\u80fd\u591f\u901a\u8fc7 instanceof \u6765\u5224\u65ad error \u662f\u5426\u662f\u5b83\u7684\u5b9e\u4f8b\u3002 \u4f46\u662f\u6709\u7684\u60c5\u51b5\u4e0b ApiError \u548c HttpError \u4e0d\u662f\u4e00\u4e2a\u771f\u6b63\u7684\u7c7b\uff0c\u800c\u53ea\u662f\u4e00\u4e2a TypeScript \u7684\u63a5\u53e3\uff08 interface \uff09\uff0c\u63a5\u53e3\u662f\u4e00\u4e2a\u7c7b\u578b\uff0c\u4e0d\u662f\u4e00\u4e2a\u771f\u6b63\u7684\u503c\uff0c\u5b83\u5728\u7f16\u8bd1\u7ed3\u679c\u4e2d\u4f1a\u88ab\u5220\u9664\uff0c\u5f53\u7136\u5c31\u65e0\u6cd5\u4f7f\u7528 instanceof \u6765\u505a\u8fd0\u884c\u65f6\u5224\u65ad\u4e86\uff1a interface ApiError extends Error { code : number ; } interface HttpError extends Error { statusCode : number ; } function isApiError ( error : Error ) { if ( error instanceof ApiError ) { return true ; } return false ; } // index.ts:9:26 - error TS2693: 'ApiError' only refers to a type, but is being used as a value here. \u6b64\u65f6\u5c31\u53ea\u80fd\u7528\u7c7b\u578b\u65ad\u8a00\uff0c\u901a\u8fc7\u5224\u65ad\u662f\u5426\u5b58\u5728 code \u5c5e\u6027\uff0c\u6765\u5224\u65ad\u4f20\u5165\u7684\u53c2\u6570\u662f\u4e0d\u662f ApiError \u4e86\uff1a interface ApiError extends Error { code : number ; } interface HttpError extends Error { statusCode : number ; } function isApiError ( error : Error ) { if ( typeof ( error as ApiError ). code === 'number' ) { return true ; } return false ; }","title":"\u5c06\u4e00\u4e2a\u7236\u7c7b\u65ad\u8a00\u4e3a\u66f4\u52a0\u5177\u4f53\u7684\u5b50\u7c7b"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#any_1","text":"\u4e3b\u8981\u7528\u4e8e\u5728\u5168\u5c40\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u65b0\u7684\u5c5e\u6027\uff08window.isZhcn\uff09 \u7406\u60f3\u60c5\u51b5\u4e0b\uff0cTypeScript \u7684\u7c7b\u578b\u7cfb\u7edf\u8fd0\u8f6c\u826f\u597d\uff0c\u6bcf\u4e2a\u503c\u7684\u7c7b\u578b\u90fd\u5177\u4f53\u800c\u7cbe\u786e\u3002 \u5f53\u6211\u4eec\u5f15\u7528\u4e00\u4e2a\u5728\u6b64\u7c7b\u578b\u4e0a\u4e0d\u5b58\u5728\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\u65f6\uff0c\u5c31\u4f1a\u62a5\u9519\uff1a const foo : number = 1 ; foo . length = 1 ; // index.ts:2:5 - error TS2339: Property 'length' does not exist on type 'number'. \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6570\u5b57\u7c7b\u578b\u7684\u53d8\u91cf foo \u4e0a\u662f\u6ca1\u6709 length \u5c5e\u6027\u7684\uff0c\u6545 TypeScript \u7ed9\u51fa\u4e86\u76f8\u5e94\u7684\u9519\u8bef\u63d0\u793a\u3002 \u8fd9\u79cd\u9519\u8bef\u63d0\u793a\u663e\u7136\u662f\u975e\u5e38\u6709\u7528\u7684\u3002 \u4f46\u6709\u7684\u65f6\u5019\uff0c\u6211\u4eec\u975e\u5e38\u786e\u5b9a\u8fd9\u6bb5\u4ee3\u7801\u4e0d\u4f1a\u51fa\u9519\uff0c\u6bd4\u5982\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\uff1a window . foo = 1 ; // index.ts:1:8 - error TS2339: Property 'foo' does not exist on type 'Window & typeof globalThis'. \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u5c06 window \u4e0a\u6dfb\u52a0\u4e00\u4e2a\u5c5e\u6027 foo \uff0c\u4f46 TypeScript \u7f16\u8bd1\u65f6\u4f1a\u62a5\u9519\uff0c\u63d0\u793a\u6211\u4eec window \u4e0a\u4e0d\u5b58\u5728 foo \u5c5e\u6027\u3002 \u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 as any \u4e34\u65f6\u5c06 window \u65ad\u8a00\u4e3a any \u7c7b\u578b\uff1a ( window as any ). foo = 1 ; \u5728 any \u7c7b\u578b\u7684\u53d8\u91cf\u4e0a\uff0c\u8bbf\u95ee\u4efb\u4f55\u5c5e\u6027\u90fd\u662f\u5141\u8bb8\u7684\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5c06\u4e00\u4e2a\u53d8\u91cf\u65ad\u8a00\u4e3a any \u53ef\u4ee5\u8bf4\u662f\u89e3\u51b3 TypeScript \u4e2d\u7c7b\u578b\u95ee\u9898\u7684\u6700\u540e\u4e00\u4e2a\u624b\u6bb5\u3002 \u5b83\u6781\u6709\u53ef\u80fd\u63a9\u76d6\u4e86\u771f\u6b63\u7684\u7c7b\u578b\u9519\u8bef\uff0c\u6240\u4ee5\u5982\u679c\u4e0d\u662f\u975e\u5e38\u786e\u5b9a\uff0c\u5c31\u4e0d\u8981\u4f7f\u7528 as any \u3002 \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7[\u6269\u5c55 window \u7684\u7c7b\u578b\uff08TODO\uff09][]\u89e3\u51b3\u8fd9\u4e2a\u9519\u8bef\uff0c\u4e0d\u8fc7\u5982\u679c\u53ea\u662f\u4e34\u65f6\u7684\u589e\u52a0 foo \u5c5e\u6027\uff0c as any \u4f1a\u66f4\u52a0\u65b9\u4fbf\u3002 \u603b\u4e4b\uff0c \u4e00\u65b9\u9762\u4e0d\u80fd\u6ee5\u7528 as any \uff0c\u53e6\u4e00\u65b9\u9762\u4e5f\u4e0d\u8981\u5b8c\u5168\u5426\u5b9a\u5b83\u7684\u4f5c\u7528\uff0c\u6211\u4eec\u9700\u8981\u5728\u7c7b\u578b\u7684\u4e25\u683c\u6027\u548c\u5f00\u53d1\u7684\u4fbf\u5229\u6027\u4e4b\u95f4\u638c\u63e1\u5e73\u8861 \uff08\u8fd9\u4e5f\u662f TypeScript \u7684\u8bbe\u8ba1\u7406\u5ff5 \u4e4b\u4e00\uff09\uff0c\u624d\u80fd\u53d1\u6325\u51fa TypeScript \u6700\u5927\u7684\u4ef7\u503c\u3002","title":"\u5c06\u4efb\u4f55\u4e00\u4e2a\u7c7b\u578b\u65ad\u8a00\u4e3a any"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#any_2","text":"\u5728\u65e5\u5e38\u7684\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u4e0d\u53ef\u907f\u514d\u7684\u9700\u8981\u5904\u7406 any \u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u5b83\u4eec\u53ef\u80fd\u662f\u7531\u4e8e\u7b2c\u4e09\u65b9\u5e93\u672a\u80fd\u5b9a\u4e49\u597d\u81ea\u5df1\u7684\u7c7b\u578b\uff0c\u4e5f\u6709\u53ef\u80fd\u662f\u5386\u53f2\u9057\u7559\u7684\u6216\u5176\u4ed6\u4eba\u7f16\u5199\u7684\u70c2\u4ee3\u7801\uff0c\u8fd8\u53ef\u80fd\u662f\u53d7\u5230 TypeScript \u7c7b\u578b\u7cfb\u7edf\u7684\u9650\u5236\u800c\u65e0\u6cd5\u7cbe\u786e\u5b9a\u4e49\u7c7b\u578b\u7684\u573a\u666f\u3002 \u9047\u5230 any \u7c7b\u578b\u7684\u53d8\u91cf\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u65e0\u89c6\u5b83\uff0c\u4efb\u7531\u5b83\u6ecb\u751f\u66f4\u591a\u7684 any \u3002 \u6211\u4eec\u4e5f\u53ef\u4ee5\u9009\u62e9\u6539\u8fdb\u5b83\uff0c\u901a\u8fc7\u7c7b\u578b\u65ad\u8a00\u53ca\u65f6\u7684\u628a any \u65ad\u8a00\u4e3a\u7cbe\u786e\u7684\u7c7b\u578b\uff0c\u4ea1\u7f8a\u8865\u7262\uff0c\u4f7f\u6211\u4eec\u7684\u4ee3\u7801\u5411\u7740\u9ad8\u53ef\u7ef4\u62a4\u6027\u7684\u76ee\u6807\u53d1\u5c55\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u5386\u53f2\u9057\u7559\u7684\u4ee3\u7801\u4e2d\u6709\u4e2a getCacheData \uff0c\u5b83\u7684\u8fd4\u56de\u503c\u662f any \uff1a function getCacheData ( key : string ) : any { return ( window as any ). cache [ key ]; } \u90a3\u4e48\u6211\u4eec\u5728\u4f7f\u7528\u5b83\u65f6\uff0c\u6700\u597d\u80fd\u591f\u5c06\u8c03\u7528\u4e86\u5b83\u4e4b\u540e\u7684\u8fd4\u56de\u503c\u65ad\u8a00\u6210\u4e00\u4e2a\u7cbe\u786e\u7684\u7c7b\u578b\uff0c\u8fd9\u6837\u5c31\u65b9\u4fbf\u4e86\u540e\u7eed\u7684\u64cd\u4f5c\uff1a function getCacheData ( key : string ) : any { return ( window as any ). cache [ key ]; } interface Cat { name : string ; run () : void ; } const tom = getCacheData ( 'tom' ) as Cat ; tom . run (); \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u8c03\u7528\u5b8c getCacheData \u4e4b\u540e\uff0c\u7acb\u5373\u5c06\u5b83\u65ad\u8a00\u4e3a Cat \u7c7b\u578b\u3002\u8fd9\u6837\u7684\u8bdd\u660e\u786e\u4e86 tom \u7684\u7c7b\u578b\uff0c\u540e\u7eed\u5bf9 tom \u7684\u8bbf\u95ee\u65f6\u5c31\u6709\u4e86\u4ee3\u7801\u8865\u5168\uff0c\u63d0\u9ad8\u4e86\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027\u3002","title":"\u5c06 any \u65ad\u8a00\u4e3a\u4e00\u4e2a\u5177\u4f53\u7684\u7c7b\u578b"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_30","text":"\u672c\u5c0f\u7ed3\u7684\u524d\u7f6e\u77e5\u8bc6\u70b9\uff1a[\u7ed3\u6784\u7c7b\u578b\u7cfb\u7edf\uff08TODO\uff09][]\u3001[\u7c7b\u578b\u517c\u5bb9\u6027\uff08TODO\uff09][] \u4ece\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u603b\u7ed3\u51fa\uff1a \u8054\u5408\u7c7b\u578b\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u5176\u4e2d\u4e00\u4e2a\u7c7b\u578b \u7236\u7c7b\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u5b50\u7c7b \u4efb\u4f55\u7c7b\u578b\u90fd\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a any any \u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u4efb\u4f55\u7c7b\u578b \u90a3\u4e48\u7c7b\u578b\u65ad\u8a00\u6709\u6ca1\u6709\u4ec0\u4e48\u9650\u5236\u5462\uff1f\u662f\u4e0d\u662f\u4efb\u4f55\u4e00\u4e2a\u7c7b\u578b\u90fd\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u4efb\u4f55\u53e6\u4e00\u4e2a\u7c7b\u578b\u5462\uff1f \u7b54\u6848\u662f\u5426\u5b9a\u7684\u2014\u2014\u5e76\u4e0d\u662f\u4efb\u4f55\u4e00\u4e2a\u7c7b\u578b\u90fd\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u4efb\u4f55\u53e6\u4e00\u4e2a\u7c7b\u578b\u3002 \u5177\u4f53\u6765\u8bf4\uff0c\u82e5 A \u517c\u5bb9 B \uff0c\u90a3\u4e48 A \u80fd\u591f\u88ab\u65ad\u8a00\u4e3a B \uff0c B \u4e5f\u80fd\u88ab\u65ad\u8a00\u4e3a A \u3002 \u4e0b\u9762\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u7b80\u5316\u7684\u4f8b\u5b50\uff0c\u6765\u7406\u89e3\u7c7b\u578b\u65ad\u8a00\u7684\u9650\u5236\uff1a interface Animal { name : string ; } interface Cat { name : string ; run () : void ; } let tom : Cat = { name : 'Tom' , run : () => { console . log ( 'run' ) } }; let animal : Animal = tom ; \u6211\u4eec\u77e5\u9053\uff0cTypeScript \u662f\u7ed3\u6784\u7c7b\u578b\u7cfb\u7edf\uff0c\u7c7b\u578b\u4e4b\u95f4\u7684\u5bf9\u6bd4\u53ea\u4f1a\u6bd4\u8f83\u5b83\u4eec\u6700\u7ec8\u7684\u7ed3\u6784\uff0c\u800c\u4f1a\u5ffd\u7565\u5b83\u4eec\u5b9a\u4e49\u65f6\u7684\u5173\u7cfb\u3002 \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c Cat \u5305\u542b\u4e86 Animal \u4e2d\u7684\u6240\u6709\u5c5e\u6027\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u5b83\u8fd8\u6709\u4e00\u4e2a\u989d\u5916\u7684\u65b9\u6cd5 run \u3002TypeScript \u5e76\u4e0d\u5173\u5fc3 Cat \u548c Animal \u4e4b\u95f4\u5b9a\u4e49\u65f6\u662f\u4ec0\u4e48\u5173\u7cfb\uff0c\u800c\u53ea\u4f1a\u770b\u5b83\u4eec\u6700\u7ec8\u7684\u7ed3\u6784\u6709\u4ec0\u4e48\u5173\u7cfb\u2014\u2014\u6240\u4ee5\u5b83\u4e0e Cat extends Animal \u662f\u7b49\u4ef7\u7684\uff1a interface Animal { name : string ; } interface Cat extends Animal { run () : void ; } \u90a3\u4e48\u4e5f\u4e0d\u96be\u7406\u89e3\u4e3a\u4ec0\u4e48 Cat \u7c7b\u578b\u7684 tom \u53ef\u4ee5\u8d4b\u503c\u7ed9 Animal \u7c7b\u578b\u7684 animal \u4e86\u2014\u2014\u5c31\u50cf\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u4e2d\u6211\u4eec\u53ef\u4ee5\u5c06\u5b50\u7c7b\u7684\u5b9e\u4f8b\u8d4b\u503c\u7ed9\u7c7b\u578b\u4e3a\u7236\u7c7b\u7684\u53d8\u91cf\u3002 \u6211\u4eec\u628a\u5b83\u6362\u6210 TypeScript \u4e2d\u66f4\u4e13\u4e1a\u7684\u8bf4\u6cd5\uff0c\u5373\uff1a Animal \u517c\u5bb9 Cat \u3002 \u5f53 Animal \u517c\u5bb9 Cat \u65f6\uff0c\u5b83\u4eec\u5c31\u53ef\u4ee5\u4e92\u76f8\u8fdb\u884c\u7c7b\u578b\u65ad\u8a00\u4e86\uff1a interface Animal { name : string ; } interface Cat { name : string ; run () : void ; } function testAnimal ( animal : Animal ) { return ( animal as Cat ); } function testCat ( cat : Cat ) { return ( cat as Animal ); } \u8fd9\u6837\u7684\u8bbe\u8ba1\u5176\u5b9e\u4e5f\u5f88\u5bb9\u6613\u5c31\u80fd\u7406\u89e3\uff1a \u5141\u8bb8 animal as Cat \u662f\u56e0\u4e3a\u300c\u7236\u7c7b\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u5b50\u7c7b\u300d\uff0c\u8fd9\u4e2a\u524d\u9762\u5df2\u7ecf\u5b66\u4e60\u8fc7\u4e86 \u5141\u8bb8 cat as Animal \u662f\u56e0\u4e3a\u65e2\u7136\u5b50\u7c7b\u62e5\u6709\u7236\u7c7b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u90a3\u4e48\u88ab\u65ad\u8a00\u4e3a\u7236\u7c7b\uff0c\u83b7\u53d6\u7236\u7c7b\u7684\u5c5e\u6027\u3001\u8c03\u7528\u7236\u7c7b\u7684\u65b9\u6cd5\uff0c\u5c31\u4e0d\u4f1a\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u6545\u300c\u5b50\u7c7b\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u7236\u7c7b\u300d \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u4e86\u7b80\u5316\u7684\u7236\u7c7b\u5b50\u7c7b\u7684\u5173\u7cfb\u6765\u8868\u8fbe\u7c7b\u578b\u7684\u517c\u5bb9\u6027\uff0c\u800c\u5b9e\u9645\u4e0a TypeScript \u5728\u5224\u65ad\u7c7b\u578b\u7684\u517c\u5bb9\u6027\u65f6\uff0c\u6bd4\u8fd9\u79cd\u60c5\u51b5\u590d\u6742\u5f88\u591a\uff0c\u8be6\u7ec6\u8bf7\u53c2\u8003[\u7c7b\u578b\u7684\u517c\u5bb9\u6027\uff08TODO)][]\u7ae0\u8282\u3002 \u603b\u4e4b\uff0c\u82e5 A \u517c\u5bb9 B \uff0c\u90a3\u4e48 A \u80fd\u591f\u88ab\u65ad\u8a00\u4e3a B \uff0c B \u4e5f\u80fd\u88ab\u65ad\u8a00\u4e3a A \u3002 \u540c\u7406\uff0c\u82e5 B \u517c\u5bb9 A \uff0c\u90a3\u4e48 A \u80fd\u591f\u88ab\u65ad\u8a00\u4e3a B \uff0c B \u4e5f\u80fd\u88ab\u65ad\u8a00\u4e3a A \u3002 \u6240\u4ee5\u8fd9\u4e5f\u53ef\u4ee5\u6362\u4e00\u79cd\u8bf4\u6cd5\uff1a \u8981\u4f7f\u5f97 A \u80fd\u591f\u88ab\u65ad\u8a00\u4e3a B \uff0c\u53ea\u9700\u8981 A \u517c\u5bb9 B \u6216 B \u517c\u5bb9 A \u5373\u53ef\uff0c\u8fd9\u4e5f\u662f\u4e3a\u4e86\u5728\u7c7b\u578b\u65ad\u8a00\u65f6\u7684\u5b89\u5168\u8003\u8651\uff0c\u6bd5\u7adf\u6beb\u65e0\u6839\u636e\u7684\u65ad\u8a00\u662f\u975e\u5e38\u5371\u9669\u7684\u3002 \u7efc\u4e0a\u6240\u8ff0\uff1a \u8054\u5408\u7c7b\u578b\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u5176\u4e2d\u4e00\u4e2a\u7c7b\u578b \u7236\u7c7b\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u5b50\u7c7b \u4efb\u4f55\u7c7b\u578b\u90fd\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a any any \u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u4efb\u4f55\u7c7b\u578b \u8981\u4f7f\u5f97 A \u80fd\u591f\u88ab\u65ad\u8a00\u4e3a B \uff0c\u53ea\u9700\u8981 A \u517c\u5bb9 B \u6216 B \u517c\u5bb9 A \u5373\u53ef \u5176\u5b9e\u524d\u56db\u79cd\u60c5\u51b5\u90fd\u662f\u6700\u540e\u4e00\u4e2a\u7684\u7279\u4f8b\u3002","title":"\u7c7b\u578b\u65ad\u8a00\u7684\u9650\u5236"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_31","text":"\u65e2\u7136\uff1a \u4efb\u4f55\u7c7b\u578b\u90fd\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a any any \u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a\u4efb\u4f55\u7c7b\u578b \u90a3\u4e48\u6211\u4eec\u662f\u4e0d\u662f\u53ef\u4ee5\u4f7f\u7528\u53cc\u91cd\u65ad\u8a00 as any as Foo \u6765\u5c06\u4efb\u4f55\u4e00\u4e2a\u7c7b\u578b\u65ad\u8a00\u4e3a\u4efb\u4f55\u53e6\u4e00\u4e2a\u7c7b\u578b\u5462\uff1f interface Cat { run () : void ; } interface Fish { swim () : void ; } function testCat ( cat : Cat ) { return ( cat as any as Fish ); } \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u82e5\u76f4\u63a5\u4f7f\u7528 cat as Fish \u80af\u5b9a\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a Cat \u548c Fish \u4e92\u76f8\u90fd\u4e0d\u517c\u5bb9\u3002 \u4f46\u662f\u82e5\u4f7f\u7528\u53cc\u91cd\u65ad\u8a00\uff0c\u5219\u53ef\u4ee5\u6253\u7834\u300c\u8981\u4f7f\u5f97 A \u80fd\u591f\u88ab\u65ad\u8a00\u4e3a B \uff0c\u53ea\u9700\u8981 A \u517c\u5bb9 B \u6216 B \u517c\u5bb9 A \u5373\u53ef\u300d\u7684\u9650\u5236\uff0c\u5c06\u4efb\u4f55\u4e00\u4e2a\u7c7b\u578b\u65ad\u8a00\u4e3a\u4efb\u4f55\u53e6\u4e00\u4e2a\u7c7b\u578b\u3002 \u82e5\u4f60\u4f7f\u7528\u4e86\u8fd9\u79cd\u53cc\u91cd\u65ad\u8a00\uff0c\u90a3\u4e48\u5341\u6709\u516b\u4e5d\u662f\u975e\u5e38\u9519\u8bef\u7684\uff0c\u5b83\u5f88\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8fd0\u884c\u65f6\u9519\u8bef\u3002 \u9664\u975e\u8feb\u4e0d\u5f97\u5df2\uff0c\u5343\u4e07\u522b\u7528\u53cc\u91cd\u65ad\u8a00\u3002","title":"\u53cc\u91cd\u65ad\u8a00"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#vs","text":"\u7c7b\u578b\u65ad\u8a00\u53ea\u4f1a\u5f71\u54cd TypeScript \u7f16\u8bd1\u65f6\u7684\u7c7b\u578b\uff0c\u7c7b\u578b\u65ad\u8a00\u8bed\u53e5\u5728\u7f16\u8bd1\u7ed3\u679c\u4e2d\u4f1a\u88ab\u5220\u9664\uff1a function toBoolean ( something : any ) : boolean { return something as boolean ; } toBoolean ( 1 ); // \u8fd4\u56de\u503c\u4e3a 1 \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u5c06 something \u65ad\u8a00\u4e3a boolean \u867d\u7136\u53ef\u4ee5\u901a\u8fc7\u7f16\u8bd1\uff0c\u4f46\u662f\u5e76\u6ca1\u6709\u4ec0\u4e48\u7528\uff0c\u4ee3\u7801\u5728\u7f16\u8bd1\u540e\u4f1a\u53d8\u6210\uff1a function toBoolean ( something ) { return something ; } toBoolean ( 1 ); // \u8fd4\u56de\u503c\u4e3a 1 \u6240\u4ee5\u7c7b\u578b\u65ad\u8a00\u4e0d\u662f\u7c7b\u578b\u8f6c\u6362\uff0c\u5b83\u4e0d\u4f1a\u771f\u7684\u5f71\u54cd\u5230\u53d8\u91cf\u7684\u7c7b\u578b\u3002 \u82e5\u8981\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\uff0c\u9700\u8981\u76f4\u63a5\u8c03\u7528\u7c7b\u578b\u8f6c\u6362\u7684\u65b9\u6cd5\uff1a function toBoolean ( something : any ) : boolean { return Boolean ( something ); } toBoolean ( 1 ); // \u8fd4\u56de\u503c\u4e3a true","title":"\u7c7b\u578b\u65ad\u8a00 vs \u7c7b\u578b\u8f6c\u6362"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#vs_1","text":"\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff1a function getCacheData ( key : string ) : any { return ( window as any ). cache [ key ]; } interface Cat { name : string ; run () : void ; } const tom = getCacheData ( 'tom' ) as Cat ; tom . run (); \u6211\u4eec\u4f7f\u7528 as Cat \u5c06 any \u7c7b\u578b\u65ad\u8a00\u4e3a\u4e86 Cat \u7c7b\u578b\u3002 \u4f46\u5b9e\u9645\u4e0a\u8fd8\u6709\u5176\u4ed6\u65b9\u5f0f\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff1a function getCacheData ( key : string ) : any { return ( window as any ). cache [ key ]; } interface Cat { name : string ; run () : void ; } const tom : Cat = getCacheData ( 'tom' ); tom . run (); \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u7c7b\u578b\u58f0\u660e\u7684\u65b9\u5f0f\uff0c\u5c06 tom \u58f0\u660e\u4e3a Cat \uff0c\u7136\u540e\u518d\u5c06 any \u7c7b\u578b\u7684 getCacheData('tom') \u8d4b\u503c\u7ed9 Cat \u7c7b\u578b\u7684 tom \u3002 \u8fd9\u548c\u7c7b\u578b\u65ad\u8a00\u662f\u975e\u5e38\u76f8\u4f3c\u7684\uff0c\u800c\u4e14\u4ea7\u751f\u7684\u7ed3\u679c\u4e5f\u51e0\u4e4e\u662f\u4e00\u6837\u7684\u2014\u2014 tom \u5728\u63a5\u4e0b\u6765\u7684\u4ee3\u7801\u4e2d\u90fd\u53d8\u6210\u4e86 Cat \u7c7b\u578b\u3002 \u5b83\u4eec\u7684\u533a\u522b\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u4f8b\u5b50\u6765\u7406\u89e3\uff1a interface Animal { name : string ; } interface Cat { name : string ; run () : void ; } const animal : Animal = { name : 'tom' }; let tom = animal as Cat ; \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u7531\u4e8e Animal \u517c\u5bb9 Cat \uff0c\u6545\u53ef\u4ee5\u5c06 animal \u65ad\u8a00\u4e3a Cat \u8d4b\u503c\u7ed9 tom \u3002 \u4f46\u662f\u82e5\u76f4\u63a5\u58f0\u660e tom \u4e3a Cat \u7c7b\u578b\uff1a interface Animal { name : string ; } interface Cat { name : string ; run () : void ; } const animal : Animal = { name : 'tom' }; let tom : Cat = animal ; // index.ts:12:5 - error TS2741: Property 'run' is missing in type 'Animal' but required in type 'Cat'. \u5219\u4f1a\u62a5\u9519\uff0c\u4e0d\u5141\u8bb8\u5c06 animal \u8d4b\u503c\u4e3a Cat \u7c7b\u578b\u7684 tom \u3002 \u8fd9\u5f88\u5bb9\u6613\u7406\u89e3\uff0c Animal \u53ef\u4ee5\u770b\u4f5c\u662f Cat \u7684\u7236\u7c7b\uff0c\u5f53\u7136\u4e0d\u80fd\u5c06\u7236\u7c7b\u7684\u5b9e\u4f8b\u8d4b\u503c\u7ed9\u7c7b\u578b\u4e3a\u5b50\u7c7b\u7684\u53d8\u91cf\u3002 \u6df1\u5165\u7684\u8bb2\uff0c\u5b83\u4eec\u7684\u6838\u5fc3\u533a\u522b\u5c31\u5728\u4e8e\uff1a animal \u65ad\u8a00\u4e3a Cat \uff0c\u53ea\u9700\u8981\u6ee1\u8db3 Animal \u517c\u5bb9 Cat \u6216 Cat \u517c\u5bb9 Animal \u5373\u53ef animal \u8d4b\u503c\u7ed9 tom \uff0c\u9700\u8981\u6ee1\u8db3 Cat \u517c\u5bb9 Animal \u624d\u884c \u4f46\u662f Cat \u5e76\u4e0d\u517c\u5bb9 Animal \u3002 \u800c\u5728\u524d\u4e00\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u7531\u4e8e getCacheData('tom') \u662f any \u7c7b\u578b\uff0c any \u517c\u5bb9 Cat \uff0c Cat \u4e5f\u517c\u5bb9 any \uff0c\u6545 const tom = getCacheData ( 'tom' ) as Cat ; \u7b49\u4ef7\u4e8e const tom : Cat = getCacheData ( 'tom' ); \u77e5\u9053\u4e86\u5b83\u4eec\u7684\u6838\u5fc3\u533a\u522b\uff0c\u5c31\u77e5\u9053\u4e86\u7c7b\u578b\u58f0\u660e\u662f\u6bd4\u7c7b\u578b\u65ad\u8a00\u66f4\u52a0\u4e25\u683c\u7684\u3002 \u6240\u4ee5\u4e3a\u4e86\u589e\u52a0\u4ee3\u7801\u7684\u8d28\u91cf\uff0c\u6211\u4eec\u6700\u597d\u4f18\u5148\u4f7f\u7528\u7c7b\u578b\u58f0\u660e\uff0c\u8fd9\u4e5f\u6bd4\u7c7b\u578b\u65ad\u8a00\u7684 as \u8bed\u6cd5\u66f4\u52a0\u4f18\u96c5\u3002","title":"\u7c7b\u578b\u65ad\u8a00 vs \u7c7b\u578b\u58f0\u660e"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#vs_2","text":"\u672c\u5c0f\u7ed3\u7684\u524d\u7f6e\u77e5\u8bc6\u70b9\uff1a \u6cdb\u578b \u8fd8\u662f\u8fd9\u4e2a\u4f8b\u5b50\uff1a function getCacheData ( key : string ) : any { return ( window as any ). cache [ key ]; } interface Cat { name : string ; run () : void ; } const tom = getCacheData ( 'tom' ) as Cat ; tom . run (); \u6211\u4eec\u8fd8\u6709\u7b2c\u4e09\u79cd\u65b9\u5f0f\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u90a3\u5c31\u662f\u6cdb\u578b\uff1a function getCacheData < T > ( key : string ) : T { return ( window as any ). cache [ key ]; } interface Cat { name : string ; run () : void ; } const tom = getCacheData < Cat > ( 'tom' ); tom . run (); \u901a\u8fc7\u7ed9 getCacheData \u51fd\u6570\u6dfb\u52a0\u4e86\u4e00\u4e2a\u6cdb\u578b <T> \uff0c\u6211\u4eec\u53ef\u4ee5\u66f4\u52a0\u89c4\u8303\u7684\u5b9e\u73b0\u5bf9 getCacheData \u8fd4\u56de\u503c\u7684\u7ea6\u675f\uff0c\u8fd9\u4e5f\u540c\u65f6\u53bb\u9664\u6389\u4e86\u4ee3\u7801\u4e2d\u7684 any \uff0c\u662f\u6700\u4f18\u7684\u4e00\u4e2a\u89e3\u51b3\u65b9\u6848\u3002","title":"\u7c7b\u578b\u65ad\u8a00 vs \u6cdb\u578b"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#9","text":"\u5f53\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u65f6\uff0c\u6211\u4eec\u9700\u8981\u5f15\u7528\u5b83\u7684\u58f0\u660e\u6587\u4ef6\uff0c\u624d\u80fd\u83b7\u5f97\u5bf9\u5e94\u7684\u4ee3\u7801\u8865\u5168\u3001\u63a5\u53e3\u63d0\u793a\u7b49\u529f\u80fd\u3002","title":"9.\u58f0\u660e\u6587\u4ef6"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_32","text":"\u7531\u4e8e\u672c\u7ae0\u6d89\u53ca\u5927\u91cf\u65b0\u8bed\u6cd5\uff0c\u6545\u5728\u672c\u7ae0\u5f00\u5934\u5217\u51fa\u65b0\u8bed\u6cd5\u7684\u7d22\u5f15\uff0c\u65b9\u4fbf\u5927\u5bb6\u5728\u4f7f\u7528\u8fd9\u4e9b\u65b0\u8bed\u6cd5\u65f6\u80fd\u5feb\u901f\u67e5\u627e\u5230\u5bf9\u5e94\u7684\u8bb2\u89e3\uff1a declare var \u58f0\u660e\u5168\u5c40\u53d8\u91cf declare function \u58f0\u660e\u5168\u5c40\u65b9\u6cd5 declare class \u58f0\u660e\u5168\u5c40\u7c7b declare enum \u58f0\u660e\u5168\u5c40\u679a\u4e3e\u7c7b\u578b declare namespace \u58f0\u660e\uff08\u542b\u6709\u5b50\u5c5e\u6027\u7684\uff09\u5168\u5c40\u5bf9\u8c61 interface \u548c type \u58f0\u660e\u5168\u5c40\u7c7b\u578b export \u5bfc\u51fa\u53d8\u91cf export namespace \u5bfc\u51fa\uff08\u542b\u6709\u5b50\u5c5e\u6027\u7684\uff09\u5bf9\u8c61 export default ES6 \u9ed8\u8ba4\u5bfc\u51fa export = commonjs \u5bfc\u51fa\u6a21\u5757 export as namespace UMD \u5e93\u58f0\u660e\u5168\u5c40\u53d8\u91cf declare global \u6269\u5c55\u5168\u5c40\u53d8\u91cf declare module \u6269\u5c55\u6a21\u5757 /// \u4e09\u659c\u7ebf\u6307\u4ee4","title":"\u65b0\u8bed\u6cd5\u7d22\u5f15"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_33","text":"\u5047\u5982\u6211\u4eec\u60f3\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93 jQuery\uff0c\u4e00\u79cd\u5e38\u89c1\u7684\u65b9\u5f0f\u662f\u5728 html \u4e2d\u901a\u8fc7 <script> \u6807\u7b7e\u5f15\u5165 jQuery\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u4f7f\u7528\u5168\u5c40\u53d8\u91cf $ \u6216 jQuery \u4e86\u3002 \u6211\u4eec\u901a\u5e38\u8fd9\u6837\u83b7\u53d6\u4e00\u4e2a id \u662f foo \u7684\u5143\u7d20\uff1a $ ( '#foo' ); // or jQuery ( '#foo' ); \u4f46\u662f\u5728 ts \u4e2d\uff0c\u7f16\u8bd1\u5668\u5e76\u4e0d\u77e5\u9053 $ \u6216 jQuery \u662f\u4ec0\u4e48\u4e1c\u897f 1 \uff1a jQuery ( '#foo' ); // ERROR: Cannot find name 'jQuery'. \u8fd9\u65f6\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528 declare var \u6765\u5b9a\u4e49\u5b83\u7684\u7c7b\u578b 2 \uff1a declare var jQuery : ( selector : string ) => any ; jQuery ( '#foo' ); \u4e0a\u4f8b\u4e2d\uff0c declare var \u5e76\u6ca1\u6709\u771f\u7684\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\uff0c\u53ea\u662f\u5b9a\u4e49\u4e86\u5168\u5c40\u53d8\u91cf jQuery \u7684\u7c7b\u578b\uff0c\u4ec5\u4ec5\u4f1a\u7528\u4e8e\u7f16\u8bd1\u65f6\u7684\u68c0\u67e5\uff0c\u5728\u7f16\u8bd1\u7ed3\u679c\u4e2d\u4f1a\u88ab\u5220\u9664\u3002\u5b83\u7f16\u8bd1\u7ed3\u679c\u662f\uff1a jQuery ( '#foo' ); \u9664\u4e86 declare var \u4e4b\u5916\uff0c\u8fd8\u6709\u5176\u4ed6\u5f88\u591a\u79cd\u58f0\u660e\u8bed\u53e5\uff0c\u5c06\u4f1a\u5728\u540e\u9762\u8be6\u7ec6\u4ecb\u7ecd\u3002","title":"\u4ec0\u4e48\u662f\u58f0\u660e\u8bed\u53e5"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_34","text":"\u901a\u5e38\u6211\u4eec\u4f1a\u628a\u58f0\u660e\u8bed\u53e5\u653e\u5230\u4e00\u4e2a\u5355\u72ec\u7684\u6587\u4ef6\uff08 jQuery.d.ts \uff09\u4e2d\uff0c\u8fd9\u5c31\u662f\u58f0\u660e\u6587\u4ef6 3 \uff1a // src/jQuery.d.ts declare var jQuery : ( selector : string ) => any ; // src/index.ts jQuery ( '#foo' ); \u58f0\u660e\u6587\u4ef6\u5fc5\u9700\u4ee5 .d.ts \u4e3a\u540e\u7f00\u3002 \u4e00\u822c\u6765\u8bf4\uff0cts \u4f1a\u89e3\u6790\u9879\u76ee\u4e2d\u6240\u6709\u7684 *.ts \u6587\u4ef6\uff0c\u5f53\u7136\u4e5f\u5305\u542b\u4ee5 .d.ts \u7ed3\u5c3e\u7684\u6587\u4ef6\u3002\u6240\u4ee5\u5f53\u6211\u4eec\u5c06 jQuery.d.ts \u653e\u5230\u9879\u76ee\u4e2d\u65f6\uff0c\u5176\u4ed6\u6240\u6709 *.ts \u6587\u4ef6\u5c31\u90fd\u53ef\u4ee5\u83b7\u5f97 jQuery \u7684\u7c7b\u578b\u5b9a\u4e49\u4e86\u3002 / path / to / project \u251c\u2500\u2500 src | \u251c\u2500\u2500 index . ts | \u2514\u2500\u2500 jQuery . d . ts \u2514\u2500\u2500 tsconfig . json \u5047\u5982\u4ecd\u7136\u65e0\u6cd5\u89e3\u6790\uff0c\u90a3\u4e48\u53ef\u4ee5\u68c0\u67e5\u4e0b tsconfig.json \u4e2d\u7684 files \u3001 include \u548c exclude \u914d\u7f6e\uff0c\u786e\u4fdd\u5176\u5305\u542b\u4e86 jQuery.d.ts \u6587\u4ef6\u3002 \u8fd9\u91cc\u53ea\u6f14\u793a\u4e86\u5168\u5c40\u53d8\u91cf\u8fd9\u79cd\u6a21\u5f0f\u7684\u58f0\u660e\u6587\u4ef6\uff0c\u5047\u5982\u662f\u901a\u8fc7\u6a21\u5757\u5bfc\u5165\u7684\u65b9\u5f0f\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u7684\u8bdd\uff0c\u90a3\u4e48\u5f15\u5165\u58f0\u660e\u6587\u4ef6\u53c8\u662f\u53e6\u4e00\u79cd\u65b9\u5f0f\u4e86\uff0c\u5c06\u4f1a\u5728\u540e\u9762\u8be6\u7ec6\u4ecb\u7ecd\u3002","title":"\u4ec0\u4e48\u662f\u58f0\u660e\u6587\u4ef6"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_35","text":"\u5f53\u7136\uff0cjQuery \u7684\u58f0\u660e\u6587\u4ef6\u4e0d\u9700\u8981\u6211\u4eec\u5b9a\u4e49\u4e86\uff0c\u793e\u533a\u5df2\u7ecf\u5e2e\u6211\u4eec\u5b9a\u4e49\u597d\u4e86\uff1a jQuery in DefinitelyTyped \u3002 \u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4e0b\u8f7d\u4e0b\u6765\u4f7f\u7528\uff0c\u4f46\u662f\u66f4\u63a8\u8350\u7684\u662f\u4f7f\u7528 @types \u7edf\u4e00\u7ba1\u7406\u7b2c\u4e09\u65b9\u5e93\u7684\u58f0\u660e\u6587\u4ef6\u3002 @types \u7684\u4f7f\u7528\u65b9\u5f0f\u5f88\u7b80\u5355\uff0c\u76f4\u63a5\u7528 npm \u5b89\u88c5\u5bf9\u5e94\u7684\u58f0\u660e\u6a21\u5757\u5373\u53ef\uff0c\u4ee5 jQuery \u4e3e\u4f8b\uff1a npm install @types/jquery --save-dev \u53ef\u4ee5\u5728 \u8fd9\u4e2a\u9875\u9762 \u641c\u7d22\u4f60\u9700\u8981\u7684\u58f0\u660e\u6587\u4ef6\u3002","title":"\u7b2c\u4e09\u65b9\u58f0\u660e\u6587\u4ef6"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_36","text":"\u5f53\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5e93\u6ca1\u6709\u63d0\u4f9b\u58f0\u660e\u6587\u4ef6\u65f6\uff0c\u6211\u4eec\u5c31\u9700\u8981\u81ea\u5df1\u4e66\u5199\u58f0\u660e\u6587\u4ef6\u4e86\u3002\u524d\u9762\u53ea\u4ecb\u7ecd\u4e86\u6700\u7b80\u5355\u7684\u58f0\u660e\u6587\u4ef6\u5185\u5bb9\uff0c\u800c\u771f\u6b63\u4e66\u5199\u4e00\u4e2a\u58f0\u660e\u6587\u4ef6\u5e76\u4e0d\u662f\u4e00\u4ef6\u7b80\u5355\u7684\u4e8b\uff0c\u4ee5\u4e0b\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\u5982\u4f55\u4e66\u5199\u58f0\u660e\u6587\u4ef6\u3002 \u5728\u4e0d\u540c\u7684\u573a\u666f\u4e0b\uff0c\u58f0\u660e\u6587\u4ef6\u7684\u5185\u5bb9\u548c\u4f7f\u7528\u65b9\u5f0f\u4f1a\u6709\u6240\u533a\u522b\u3002 \u5e93\u7684\u4f7f\u7528\u573a\u666f\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a \u5168\u5c40\u53d8\u91cf \uff1a\u901a\u8fc7 <script> \u6807\u7b7e\u5f15\u5165\u7b2c\u4e09\u65b9\u5e93\uff0c\u6ce8\u5165\u5168\u5c40\u53d8\u91cf npm \u5305 \uff1a\u901a\u8fc7 import foo from 'foo' \u5bfc\u5165\uff0c\u7b26\u5408 ES6 \u6a21\u5757\u89c4\u8303 UMD \u5e93 \uff1a\u65e2\u53ef\u4ee5\u901a\u8fc7 <script> \u6807\u7b7e\u5f15\u5165\uff0c\u53c8\u53ef\u4ee5\u901a\u8fc7 import \u5bfc\u5165 \u76f4\u63a5\u6269\u5c55\u5168\u5c40\u53d8\u91cf \uff1a\u901a\u8fc7 <script> \u6807\u7b7e\u5f15\u5165\u540e\uff0c\u6539\u53d8\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u7ed3\u6784 \u5728 npm \u5305\u6216 UMD \u5e93\u4e2d\u6269\u5c55\u5168\u5c40\u53d8\u91cf \uff1a\u5f15\u7528 npm \u5305\u6216 UMD \u5e93\u540e\uff0c\u6539\u53d8\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u7ed3\u6784 \u6a21\u5757\u63d2\u4ef6 \uff1a\u901a\u8fc7 <script> \u6216 import \u5bfc\u5165\u540e\uff0c\u6539\u53d8\u53e6\u4e00\u4e2a\u6a21\u5757\u7684\u7ed3\u6784","title":"\u4e66\u5199\u58f0\u660e\u6587\u4ef6"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_37","text":"\u5168\u5c40\u53d8\u91cf\u662f\u6700\u7b80\u5355\u7684\u4e00\u79cd\u573a\u666f\uff0c\u4e4b\u524d\u4e3e\u7684\u4f8b\u5b50\u5c31\u662f\u901a\u8fc7 <script> \u6807\u7b7e\u5f15\u5165 jQuery\uff0c\u6ce8\u5165\u5168\u5c40\u53d8\u91cf $ \u548c jQuery \u3002 \u4f7f\u7528\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u65f6\uff0c\u5982\u679c\u662f\u4ee5 npm install @types/xxx --save-dev \u5b89\u88c5\u7684\uff0c\u5219\u4e0d\u9700\u8981\u4efb\u4f55\u914d\u7f6e\u3002\u5982\u679c\u662f\u5c06\u58f0\u660e\u6587\u4ef6\u76f4\u63a5\u5b58\u653e\u4e8e\u5f53\u524d\u9879\u76ee\u4e2d\uff0c\u5219\u5efa\u8bae\u548c\u5176\u4ed6\u6e90\u7801\u4e00\u8d77\u653e\u5230 src \u76ee\u5f55\u4e0b\uff08\u6216\u8005\u5bf9\u5e94\u7684\u6e90\u7801\u76ee\u5f55\u4e0b\uff09\uff1a / path / to / project \u251c\u2500\u2500 src | \u251c\u2500\u2500 index . ts | \u2514\u2500\u2500 jQuery . d . ts \u2514\u2500\u2500 tsconfig . json \u5982\u679c\u6ca1\u6709\u751f\u6548\uff0c\u53ef\u4ee5\u68c0\u67e5\u4e0b tsconfig.json \u4e2d\u7684 files \u3001 include \u548c exclude \u914d\u7f6e\uff0c\u786e\u4fdd\u5176\u5305\u542b\u4e86 jQuery.d.ts \u6587\u4ef6\u3002 \u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\u8bed\u6cd5\uff1a declare var \u58f0\u660e\u5168\u5c40\u53d8\u91cf declare function \u58f0\u660e\u5168\u5c40\u65b9\u6cd5 declare class \u58f0\u660e\u5168\u5c40\u7c7b declare enum \u58f0\u660e\u5168\u5c40\u679a\u4e3e\u7c7b\u578b declare namespace \u58f0\u660e\uff08\u542b\u6709\u5b50\u5c5e\u6027\u7684\uff09\u5168\u5c40\u5bf9\u8c61 interface \u548c type \u58f0\u660e\u5168\u5c40\u7c7b\u578b","title":"\u5168\u5c40\u53d8\u91cf"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#declare-var","text":"\u5728\u6240\u6709\u7684\u58f0\u660e\u8bed\u53e5\u4e2d\uff0c declare var \u662f\u6700\u7b80\u5355\u7684\uff0c\u5982\u4e4b\u524d\u6240\u5b66\uff0c\u5b83\u80fd\u591f\u7528\u6765\u5b9a\u4e49\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u7c7b\u578b\u3002\u4e0e\u5176\u7c7b\u4f3c\u7684\uff0c\u8fd8\u6709 declare let \u548c declare const \uff0c\u4f7f\u7528 let \u4e0e\u4f7f\u7528 var \u6ca1\u6709\u4ec0\u4e48\u533a\u522b\uff1a // src/jQuery.d.ts declare let jQuery : ( selector : string ) => any ; // src/index.ts jQuery ( '#foo' ); // \u4f7f\u7528 declare let \u5b9a\u4e49\u7684 jQuery \u7c7b\u578b\uff0c\u5141\u8bb8\u4fee\u6539\u8fd9\u4e2a\u5168\u5c40\u53d8\u91cf jQuery = function ( selector ) { return document . querySelector ( selector ); }; \u800c\u5f53\u6211\u4eec\u4f7f\u7528 const \u5b9a\u4e49\u65f6\uff0c\u8868\u793a\u6b64\u65f6\u7684\u5168\u5c40\u53d8\u91cf\u662f\u4e00\u4e2a\u5e38\u91cf\uff0c\u4e0d\u5141\u8bb8\u518d\u53bb\u4fee\u6539\u5b83\u7684\u503c\u4e86 4 \uff1a // src/jQuery.d.ts declare const jQuery : ( selector : string ) => any ; jQuery ( '#foo' ); // \u4f7f\u7528 declare const \u5b9a\u4e49\u7684 jQuery \u7c7b\u578b\uff0c\u7981\u6b62\u4fee\u6539\u8fd9\u4e2a\u5168\u5c40\u53d8\u91cf jQuery = function ( selector ) { return document . querySelector ( selector ); }; // ERROR: Cannot assign to 'jQuery' because it is a constant or a read-only property. \u4e00\u822c\u6765\u8bf4\uff0c\u5168\u5c40\u53d8\u91cf\u90fd\u662f\u7981\u6b62\u4fee\u6539\u7684\u5e38\u91cf\uff0c\u6240\u4ee5\u5927\u90e8\u5206\u60c5\u51b5\u90fd\u5e94\u8be5\u4f7f\u7528 const \u800c\u4e0d\u662f var \u6216 let \u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u58f0\u660e\u8bed\u53e5\u4e2d\u53ea\u80fd\u5b9a\u4e49\u7c7b\u578b\uff0c\u5207\u52ff\u5728\u58f0\u660e\u8bed\u53e5\u4e2d\u5b9a\u4e49\u5177\u4f53\u7684\u5b9e\u73b0 5 \uff1a declare const jQuery = function ( selector ) { return document . querySelector ( selector ); }; // ERROR: An implementation cannot be declared in ambient contexts.","title":"declare var"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#declare-function","text":"declare function \u7528\u6765\u5b9a\u4e49\u5168\u5c40\u51fd\u6570\u7684\u7c7b\u578b\u3002jQuery \u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u6240\u4ee5\u4e5f\u53ef\u4ee5\u7528 function \u6765\u5b9a\u4e49\uff1a // src/jQuery.d.ts declare function jQuery ( selector : string ) : any ; // src/index.ts jQuery ( '#foo' ); \u5728\u51fd\u6570\u7c7b\u578b\u7684\u58f0\u660e\u8bed\u53e5\u4e2d\uff0c\u51fd\u6570\u91cd\u8f7d\u4e5f\u662f\u652f\u6301\u7684 6 \uff1a // src/jQuery.d.ts declare function jQuery ( selector : string ) : any ; declare function jQuery ( domReadyCallback : () => any ) : any ; // src/index.ts jQuery ( '#foo' ); jQuery ( function () { alert ( 'Dom Ready!' ); });","title":"declare function"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#declare-class","text":"\u5f53\u5168\u5c40\u53d8\u91cf\u662f\u4e00\u4e2a\u7c7b\u7684\u65f6\u5019\uff0c\u6211\u4eec\u7528 declare class \u6765\u5b9a\u4e49\u5b83\u7684\u7c7b\u578b 7 \uff1a // src/Animal.d.ts declare class Animal { name : string ; constructor ( name : string ); sayHi () : string ; } // src/index.ts let cat = new Animal ( 'Tom' ); \u540c\u6837\u7684\uff0c declare class \u8bed\u53e5\u4e5f\u53ea\u80fd\u7528\u6765\u5b9a\u4e49\u7c7b\u578b\uff0c\u4e0d\u80fd\u7528\u6765\u5b9a\u4e49\u5177\u4f53\u7684\u5b9e\u73b0\uff0c\u6bd4\u5982\u5b9a\u4e49 sayHi \u65b9\u6cd5\u7684\u5177\u4f53\u5b9e\u73b0\u5219\u4f1a\u62a5\u9519\uff1a // src/Animal.d.ts declare class Animal { name : string ; constructor ( name : string ); sayHi () { return `My name is ${ this . name } ` ; }; // ERROR: An implementation cannot be declared in ambient contexts. }","title":"declare class"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#declare-enum","text":"\u4f7f\u7528 declare enum \u5b9a\u4e49\u7684\u679a\u4e3e\u7c7b\u578b\u4e5f\u79f0\u4f5c\u5916\u90e8\u679a\u4e3e\uff08Ambient Enums\uff09\uff0c\u4e3e\u4f8b\u5982\u4e0b 8 \uff1a // src/Directions.d.ts declare enum Directions { Up , Down , Left , Right } // src/index.ts let directions = [ Directions . Up , Directions . Down , Directions . Left , Directions . Right ]; \u4e0e\u5176\u4ed6\u5168\u5c40\u53d8\u91cf\u7684\u7c7b\u578b\u58f0\u660e\u4e00\u81f4\uff0c declare enum \u4ec5\u7528\u6765\u5b9a\u4e49\u7c7b\u578b\uff0c\u800c\u4e0d\u662f\u5177\u4f53\u7684\u503c\u3002 Directions.d.ts \u4ec5\u4ec5\u4f1a\u7528\u4e8e\u7f16\u8bd1\u65f6\u7684\u68c0\u67e5\uff0c\u58f0\u660e\u6587\u4ef6\u91cc\u7684\u5185\u5bb9\u5728\u7f16\u8bd1\u7ed3\u679c\u4e2d\u4f1a\u88ab\u5220\u9664\u3002\u5b83\u7f16\u8bd1\u7ed3\u679c\u662f\uff1a var directions = [ Directions . Up , Directions . Down , Directions . Left , Directions . Right ]; \u5176\u4e2d Directions \u662f\u7531\u7b2c\u4e09\u65b9\u5e93\u5b9a\u4e49\u597d\u7684\u5168\u5c40\u53d8\u91cf\u3002","title":"declare enum"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#declare-namespace","text":"namespace \u662f ts \u65e9\u671f\u65f6\u4e3a\u4e86\u89e3\u51b3\u6a21\u5757\u5316\u800c\u521b\u9020\u7684\u5173\u952e\u5b57\uff0c\u4e2d\u6587\u79f0\u4e3a\u547d\u540d\u7a7a\u95f4\u3002 \u7531\u4e8e\u5386\u53f2\u9057\u7559\u539f\u56e0\uff0c\u5728\u65e9\u671f\u8fd8\u6ca1\u6709 ES6 \u7684\u65f6\u5019\uff0cts \u63d0\u4f9b\u4e86\u4e00\u79cd\u6a21\u5757\u5316\u65b9\u6848\uff0c\u4f7f\u7528 module \u5173\u952e\u5b57\u8868\u793a\u5185\u90e8\u6a21\u5757\u3002\u4f46\u7531\u4e8e\u540e\u6765 ES6 \u4e5f\u4f7f\u7528\u4e86 module \u5173\u952e\u5b57\uff0cts \u4e3a\u4e86\u517c\u5bb9 ES6\uff0c\u4f7f\u7528 namespace \u66ff\u4ee3\u4e86\u81ea\u5df1\u7684 module \uff0c\u66f4\u540d\u4e3a\u547d\u540d\u7a7a\u95f4\u3002 \u968f\u7740 ES6 \u7684\u5e7f\u6cdb\u5e94\u7528\uff0c\u73b0\u5728\u5df2\u7ecf\u4e0d\u5efa\u8bae\u518d\u4f7f\u7528 ts \u4e2d\u7684 namespace \uff0c\u800c\u63a8\u8350\u4f7f\u7528 ES6 \u7684\u6a21\u5757\u5316\u65b9\u6848\u4e86\uff0c\u6545\u6211\u4eec\u4e0d\u518d\u9700\u8981\u5b66\u4e60 namespace \u7684\u4f7f\u7528\u4e86\u3002 namespace \u88ab\u6dd8\u6c70\u4e86\uff0c\u4f46\u662f\u5728\u58f0\u660e\u6587\u4ef6\u4e2d\uff0c declare namespace \u8fd8\u662f\u6bd4\u8f83\u5e38\u7528\u7684\uff0c\u5b83\u7528\u6765\u8868\u793a\u5168\u5c40\u53d8\u91cf\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5305\u542b\u5f88\u591a\u5b50\u5c5e\u6027\u3002 \u6bd4\u5982 jQuery \u662f\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u5b83\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2a jQuery.ajax \u65b9\u6cd5\u53ef\u4ee5\u8c03\u7528\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u5e94\u8be5\u4f7f\u7528 declare namespace jQuery \u6765\u58f0\u660e\u8fd9\u4e2a\u62e5\u6709\u591a\u4e2a\u5b50\u5c5e\u6027\u7684\u5168\u5c40\u53d8\u91cf\u3002 // src/jQuery.d.ts declare namespace jQuery { function ajax ( url : string , settings? : any ) : void ; } // src/index.ts jQuery . ajax ( '/api/get_something' ); \u6ce8\u610f\uff0c\u5728 declare namespace \u5185\u90e8\uff0c\u6211\u4eec\u76f4\u63a5\u4f7f\u7528 function ajax \u6765\u58f0\u660e\u51fd\u6570\uff0c\u800c\u4e0d\u662f\u4f7f\u7528 declare function ajax \u3002\u7c7b\u4f3c\u7684\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 const , class , enum \u7b49\u8bed\u53e5 9 \uff1a // src/jQuery.d.ts declare namespace jQuery { function ajax ( url : string , settings? : any ) : void ; const version : number ; class Event { blur ( eventType : EventType ) : void } enum EventType { CustomClick } } // src/index.ts jQuery . ajax ( '/api/get_something' ); console . log ( jQuery . version ); const e = new jQuery . Event (); e . blur ( jQuery . EventType . CustomClick ); \u5d4c\u5957\u7684\u547d\u540d\u7a7a\u95f4 \u5982\u679c\u5bf9\u8c61\u62e5\u6709\u6df1\u5c42\u7684\u5c42\u7ea7\uff0c\u5219\u9700\u8981\u7528\u5d4c\u5957\u7684 namespace \u6765\u58f0\u660e\u6df1\u5c42\u7684\u5c5e\u6027\u7684\u7c7b\u578b 10 \uff1a // src/jQuery.d.ts declare namespace jQuery { function ajax ( url : string , settings? : any ) : void ; namespace fn { function extend ( object : any ) : void ; } } // src/index.ts jQuery . ajax ( '/api/get_something' ); jQuery . fn . extend ({ check : function () { return this . each ( function () { this . checked = true ; }); } }); \u5047\u5982 jQuery \u4e0b\u4ec5\u6709 fn \u8fd9\u4e00\u4e2a\u5c5e\u6027\uff08\u6ca1\u6709 ajax \u7b49\u5176\u4ed6\u5c5e\u6027\u6216\u65b9\u6cd5\uff09\uff0c\u5219\u53ef\u4ee5\u4e0d\u9700\u8981\u5d4c\u5957 namespace 11 \uff1a // src/jQuery.d.ts declare namespace jQuery . fn { function extend ( object : any ) : void ; } // src/index.ts jQuery . fn . extend ({ check : function () { return this . each ( function () { this . checked = true ; }); } });","title":"declare namespace"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#interface-type","text":"\u9664\u4e86\u5168\u5c40\u53d8\u91cf\u4e4b\u5916\uff0c\u53ef\u80fd\u6709\u4e00\u4e9b\u7c7b\u578b\u6211\u4eec\u4e5f\u5e0c\u671b\u80fd\u66b4\u9732\u51fa\u6765\u3002\u5728\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 interface \u6216 type \u6765\u58f0\u660e\u4e00\u4e2a\u5168\u5c40\u7684\u63a5\u53e3\u6216\u7c7b\u578b 12 \uff1a // src/jQuery.d.ts interface AjaxSettings { method ?: 'GET' | 'POST' data? : any ; } declare namespace jQuery { function ajax ( url : string , settings? : AjaxSettings ) : void ; } \u8fd9\u6837\u7684\u8bdd\uff0c\u5728\u5176\u4ed6\u6587\u4ef6\u4e2d\u4e5f\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u63a5\u53e3\u6216\u7c7b\u578b\u4e86\uff1a // src/index.ts let settings : AjaxSettings = { method : 'POST' , data : { name : 'foo' } }; jQuery . ajax ( '/api/post_something' , settings ); type \u4e0e interface \u7c7b\u4f3c\uff0c\u4e0d\u518d\u8d58\u8ff0\u3002 \u9632\u6b62\u547d\u540d\u51b2\u7a81 \u66b4\u9732\u5728\u6700\u5916\u5c42\u7684 interface \u6216 type \u4f1a\u4f5c\u4e3a\u5168\u5c40\u7c7b\u578b\u4f5c\u7528\u4e8e\u6574\u4e2a\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u5e94\u8be5\u5c3d\u53ef\u80fd\u7684\u51cf\u5c11\u5168\u5c40\u53d8\u91cf\u6216\u5168\u5c40\u7c7b\u578b\u7684\u6570\u91cf\u3002\u6545\u6700\u597d\u5c06\u4ed6\u4eec\u653e\u5230 namespace \u4e0b 13 \uff1a // src/jQuery.d.ts declare namespace jQuery { interface AjaxSettings { method ?: 'GET' | 'POST' data? : any ; } function ajax ( url : string , settings? : AjaxSettings ) : void ; } \u6ce8\u610f\uff0c\u5728\u4f7f\u7528\u8fd9\u4e2a interface \u7684\u65f6\u5019\uff0c\u4e5f\u5e94\u8be5\u52a0\u4e0a jQuery \u524d\u7f00\uff1a // src/index.ts let settings : jQuery.AjaxSettings = { method : 'POST' , data : { name : 'foo' } }; jQuery . ajax ( '/api/post_something' , settings );","title":"interface \u548c type"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_38","text":"\u5047\u5982 jQuery \u65e2\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u53ef\u4ee5\u76f4\u63a5\u88ab\u8c03\u7528 jQuery('#foo') \uff0c\u53c8\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u62e5\u6709\u5b50\u5c5e\u6027 jQuery.ajax() \uff08\u4e8b\u5b9e\u786e\u5b9e\u5982\u6b64\uff09\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u7ec4\u5408\u591a\u4e2a\u58f0\u660e\u8bed\u53e5\uff0c\u5b83\u4eec\u4f1a\u4e0d\u51b2\u7a81\u7684\u5408\u5e76\u8d77\u6765 14 \uff1a // src/jQuery.d.ts declare function jQuery ( selector : string ) : any ; declare namespace jQuery { function ajax ( url : string , settings? : any ) : void ; } // src/index.ts jQuery ( '#foo' ); jQuery . ajax ( '/api/get_something' ); \u5173\u4e8e\u58f0\u660e\u5408\u5e76\u7684\u66f4\u591a\u7528\u6cd5\uff0c\u53ef\u4ee5\u67e5\u770b \u58f0\u660e\u5408\u5e76 \u7ae0\u8282\u3002","title":"\u58f0\u660e\u5408\u5e76"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#npm","text":"\u4e00\u822c\u6211\u4eec\u901a\u8fc7 import foo from 'foo' \u5bfc\u5165\u4e00\u4e2a npm \u5305\uff0c\u8fd9\u662f\u7b26\u5408 ES6 \u6a21\u5757\u89c4\u8303\u7684\u3002 \u5728\u6211\u4eec\u5c1d\u8bd5\u7ed9\u4e00\u4e2a npm \u5305\u521b\u5efa\u58f0\u660e\u6587\u4ef6\u4e4b\u524d\uff0c\u9700\u8981\u5148\u770b\u770b\u5b83\u7684\u58f0\u660e\u6587\u4ef6\u662f\u5426\u5df2\u7ecf\u5b58\u5728\u3002\u4e00\u822c\u6765\u8bf4\uff0cnpm \u5305\u7684\u58f0\u660e\u6587\u4ef6\u53ef\u80fd\u5b58\u5728\u4e8e\u4e24\u4e2a\u5730\u65b9\uff1a \u4e0e\u8be5 npm \u5305\u7ed1\u5b9a\u5728\u4e00\u8d77\u3002\u5224\u65ad\u4f9d\u636e\u662f package.json \u4e2d\u6709 types \u5b57\u6bb5\uff0c\u6216\u8005\u6709\u4e00\u4e2a index.d.ts \u58f0\u660e\u6587\u4ef6\u3002\u8fd9\u79cd\u6a21\u5f0f\u4e0d\u9700\u8981\u989d\u5916\u5b89\u88c5\u5176\u4ed6\u5305\uff0c\u662f\u6700\u4e3a\u63a8\u8350\u7684\uff0c\u6240\u4ee5\u4ee5\u540e\u6211\u4eec\u81ea\u5df1\u521b\u5efa npm \u5305\u7684\u65f6\u5019\uff0c\u6700\u597d\u4e5f\u5c06\u58f0\u660e\u6587\u4ef6\u4e0e npm \u5305\u7ed1\u5b9a\u5728\u4e00\u8d77\u3002 \u53d1\u5e03\u5230 @types \u91cc\u3002\u6211\u4eec\u53ea\u9700\u8981\u5c1d\u8bd5\u5b89\u88c5\u4e00\u4e0b\u5bf9\u5e94\u7684 @types \u5305\u5c31\u77e5\u9053\u662f\u5426\u5b58\u5728\u8be5\u58f0\u660e\u6587\u4ef6\uff0c\u5b89\u88c5\u547d\u4ee4\u662f npm install @types/foo --save-dev \u3002\u8fd9\u79cd\u6a21\u5f0f\u4e00\u822c\u662f\u7531\u4e8e npm \u5305\u7684\u7ef4\u62a4\u8005\u6ca1\u6709\u63d0\u4f9b\u58f0\u660e\u6587\u4ef6\uff0c\u6240\u4ee5\u53ea\u80fd\u7531\u5176\u4ed6\u4eba\u5c06\u58f0\u660e\u6587\u4ef6\u53d1\u5e03\u5230 @types \u91cc\u4e86\u3002 \u5047\u5982\u4ee5\u4e0a\u4e24\u79cd\u65b9\u5f0f\u90fd\u6ca1\u6709\u627e\u5230\u5bf9\u5e94\u7684\u58f0\u660e\u6587\u4ef6\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u9700\u8981\u81ea\u5df1\u4e3a\u5b83\u5199\u58f0\u660e\u6587\u4ef6\u4e86\u3002\u7531\u4e8e\u662f\u901a\u8fc7 import \u8bed\u53e5\u5bfc\u5165\u7684\u6a21\u5757\uff0c\u6240\u4ee5\u58f0\u660e\u6587\u4ef6\u5b58\u653e\u7684\u4f4d\u7f6e\u4e5f\u6709\u6240\u7ea6\u675f\uff0c\u4e00\u822c\u6709\u4e24\u79cd\u65b9\u6848\uff1a \u521b\u5efa\u4e00\u4e2a node_modules/@types/foo/index.d.ts \u6587\u4ef6\uff0c\u5b58\u653e foo \u6a21\u5757\u7684\u58f0\u660e\u6587\u4ef6\u3002\u8fd9\u79cd\u65b9\u5f0f\u4e0d\u9700\u8981\u989d\u5916\u7684\u914d\u7f6e\uff0c\u4f46\u662f node_modules \u76ee\u5f55\u4e0d\u7a33\u5b9a\uff0c\u4ee3\u7801\u4e5f\u6ca1\u6709\u88ab\u4fdd\u5b58\u5230\u4ed3\u5e93\u4e2d\uff0c\u65e0\u6cd5\u56de\u6eaf\u7248\u672c\uff0c\u6709\u4e0d\u5c0f\u5fc3\u88ab\u5220\u9664\u7684\u98ce\u9669\uff0c\u6545\u4e0d\u592a\u5efa\u8bae\u7528\u8fd9\u79cd\u65b9\u6848\uff0c\u4e00\u822c\u53ea\u7528\u4f5c\u4e34\u65f6\u6d4b\u8bd5\u3002 \u521b\u5efa\u4e00\u4e2a types \u76ee\u5f55\uff0c\u4e13\u95e8\u7528\u6765\u7ba1\u7406\u81ea\u5df1\u5199\u7684\u58f0\u660e\u6587\u4ef6\uff0c\u5c06 foo \u7684\u58f0\u660e\u6587\u4ef6\u653e\u5230 types/foo/index.d.ts \u4e2d\u3002\u8fd9\u79cd\u65b9\u5f0f\u9700\u8981\u914d\u7f6e\u4e0b tsconfig.json \u4e2d\u7684 paths \u548c baseUrl \u5b57\u6bb5\u3002 \u76ee\u5f55\u7ed3\u6784\uff1a / path / to / project \u251c\u2500\u2500 src | \u2514\u2500\u2500 index . ts \u251c\u2500\u2500 types | \u2514\u2500\u2500 foo | \u2514\u2500\u2500 index . d . ts \u2514\u2500\u2500 tsconfig . json tsconfig.json \u5185\u5bb9\uff1a { \"compilerOptions\" : { \"module\" : \"commonjs\" , \"baseUrl\" : \"./\" , \"paths\" : { \"*\" : [ \"types/*\" ] } } } \u5982\u6b64\u914d\u7f6e\u4e4b\u540e\uff0c\u901a\u8fc7 import \u5bfc\u5165 foo \u7684\u65f6\u5019\uff0c\u4e5f\u4f1a\u53bb types \u76ee\u5f55\u4e0b\u5bfb\u627e\u5bf9\u5e94\u7684\u6a21\u5757\u7684\u58f0\u660e\u6587\u4ef6\u4e86\u3002 \u6ce8\u610f module \u914d\u7f6e\u53ef\u4ee5\u6709\u5f88\u591a\u79cd\u9009\u9879\uff0c\u4e0d\u540c\u7684\u9009\u9879\u4f1a\u5f71\u54cd\u6a21\u5757\u7684\u5bfc\u5165\u5bfc\u51fa\u6a21\u5f0f\u3002\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u4e86 commonjs \u8fd9\u4e2a\u6700\u5e38\u7528\u7684\u9009\u9879\uff0c\u540e\u9762\u7684\u6559\u7a0b\u4e5f\u90fd\u9ed8\u8ba4\u4f7f\u7528\u7684\u8fd9\u4e2a\u9009\u9879\u3002 \u4e0d\u7ba1\u91c7\u7528\u4e86\u4ee5\u4e0a\u4e24\u79cd\u65b9\u5f0f\u4e2d\u7684\u54ea\u4e00\u79cd\uff0c\u6211\u90fd**\u5f3a\u70c8\u5efa\u8bae**\u5927\u5bb6\u5c06\u4e66\u5199\u597d\u7684\u58f0\u660e\u6587\u4ef6\uff08\u901a\u8fc7\u7ed9\u7b2c\u4e09\u65b9\u5e93\u53d1 pull request\uff0c\u6216\u8005\u76f4\u63a5\u63d0\u4ea4\u5230 @types \u91cc\uff09\u53d1\u5e03\u5230\u5f00\u6e90\u793e\u533a\u4e2d\uff0c\u4eab\u53d7\u4e86\u8fd9\u4e48\u591a\u793e\u533a\u7684\u4f18\u79c0\u7684\u8d44\u6e90\uff0c\u5c31\u5e94\u8be5\u5728\u529b\u6240\u80fd\u53ca\u7684\u65f6\u5019\u7ed9\u51fa\u4e00\u4e9b\u56de\u9988\u3002\u53ea\u6709\u6240\u6709\u4eba\u90fd\u53c2\u4e0e\u8fdb\u6765\uff0c\u624d\u80fd\u8ba9 ts \u793e\u533a\u66f4\u52a0\u7e41\u8363\u3002 npm \u5305\u7684\u58f0\u660e\u6587\u4ef6\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\u8bed\u6cd5\uff1a export \u5bfc\u51fa\u53d8\u91cf export namespace \u5bfc\u51fa\uff08\u542b\u6709\u5b50\u5c5e\u6027\u7684\uff09\u5bf9\u8c61 export default ES6 \u9ed8\u8ba4\u5bfc\u51fa export = commonjs \u5bfc\u51fa\u6a21\u5757","title":"npm \u5305"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#export","text":"npm \u5305\u7684\u58f0\u660e\u6587\u4ef6\u4e0e\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u6709\u5f88\u5927\u533a\u522b\u3002\u5728 npm \u5305\u7684\u58f0\u660e\u6587\u4ef6\u4e2d\uff0c\u4f7f\u7528 declare \u4e0d\u518d\u4f1a\u58f0\u660e\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u800c\u53ea\u4f1a\u5728\u5f53\u524d\u6587\u4ef6\u4e2d\u58f0\u660e\u4e00\u4e2a\u5c40\u90e8\u53d8\u91cf\u3002\u53ea\u6709\u5728\u58f0\u660e\u6587\u4ef6\u4e2d\u4f7f\u7528 export \u5bfc\u51fa\uff0c\u7136\u540e\u5728\u4f7f\u7528\u65b9 import \u5bfc\u5165\u540e\uff0c\u624d\u4f1a\u5e94\u7528\u5230\u8fd9\u4e9b\u7c7b\u578b\u58f0\u660e\u3002 export \u7684\u8bed\u6cd5\u4e0e\u666e\u901a\u7684 ts \u4e2d\u7684\u8bed\u6cd5\u7c7b\u4f3c\uff0c\u533a\u522b\u4ec5\u5728\u4e8e\u58f0\u660e\u6587\u4ef6\u4e2d\u7981\u6b62\u5b9a\u4e49\u5177\u4f53\u7684\u5b9e\u73b0 15 \uff1a // types/foo/index.d.ts export const name : string ; export function getName () : string ; export class Animal { constructor ( name : string ); sayHi () : string ; } export enum Directions { Up , Down , Left , Right } export interface Options { data : any ; } \u5bf9\u5e94\u7684\u5bfc\u5165\u548c\u4f7f\u7528\u6a21\u5757\u5e94\u8be5\u662f\u8fd9\u6837\uff1a // src/index.ts import { name , getName , Animal , Directions , Options } from 'foo' ; console . log ( name ); let myName = getName (); let cat = new Animal ( 'Tom' ); let directions = [ Directions . Up , Directions . Down , Directions . Left , Directions . Right ]; let options : Options = { data : { name : 'foo' } }; \u6df7\u7528 declare \u548c export \u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528 declare \u5148\u58f0\u660e\u591a\u4e2a\u53d8\u91cf\uff0c\u6700\u540e\u518d\u7528 export \u4e00\u6b21\u6027\u5bfc\u51fa\u3002\u4e0a\u4f8b\u7684\u58f0\u660e\u6587\u4ef6\u53ef\u4ee5\u7b49\u4ef7\u7684\u6539\u5199\u4e3a 16 \uff1a // types/foo/index.d.ts declare const name : string ; declare function getName () : string ; declare class Animal { constructor ( name : string ); sayHi () : string ; } declare enum Directions { Up , Down , Left , Right } interface Options { data : any ; } export { name , getName , Animal , Directions , Options }; \u6ce8\u610f\uff0c\u4e0e\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u7c7b\u4f3c\uff0c interface \u524d\u662f\u4e0d\u9700\u8981 declare \u7684\u3002","title":"export"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#export-namespace","text":"\u4e0e declare namespace \u7c7b\u4f3c\uff0c export namespace \u7528\u6765\u5bfc\u51fa\u4e00\u4e2a\u62e5\u6709\u5b50\u5c5e\u6027\u7684\u5bf9\u8c61 17 \uff1a // types/foo/index.d.ts export namespace foo { const name : string ; namespace bar { function baz () : string ; } } // src/index.ts import { foo } from 'foo' ; console . log ( foo . name ); foo . bar . baz ();","title":"export namespace"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#export-default","text":"\u5728 ES6 \u6a21\u5757\u7cfb\u7edf\u4e2d\uff0c\u4f7f\u7528 export default \u53ef\u4ee5\u5bfc\u51fa\u4e00\u4e2a\u9ed8\u8ba4\u503c\uff0c\u4f7f\u7528\u65b9\u53ef\u4ee5\u7528 import foo from 'foo' \u800c\u4e0d\u662f import { foo } from 'foo' \u6765\u5bfc\u5165\u8fd9\u4e2a\u9ed8\u8ba4\u503c\u3002 \u5728\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u4e2d\uff0c export default \u7528\u6765\u5bfc\u51fa\u9ed8\u8ba4\u503c\u7684\u7c7b\u578b 18 \uff1a // types/foo/index.d.ts export default function foo () : string ; // src/index.ts import foo from 'foo' ; foo (); \u6ce8\u610f\uff0c\u53ea\u6709 function \u3001 class \u548c interface \u53ef\u4ee5\u76f4\u63a5\u9ed8\u8ba4\u5bfc\u51fa\uff0c\u5176\u4ed6\u7684\u53d8\u91cf\u9700\u8981\u5148\u5b9a\u4e49\u51fa\u6765\uff0c\u518d\u9ed8\u8ba4\u5bfc\u51fa 19 \uff1a // types/foo/index.d.ts export default enum Directions { // ERROR: Expression expected. Up , Down , Left , Right } \u4e0a\u4f8b\u4e2d export default enum \u662f\u9519\u8bef\u7684\u8bed\u6cd5\uff0c\u9700\u8981\u4f7f\u7528 declare enum \u5b9a\u4e49\u51fa\u6765\uff0c\u7136\u540e\u4f7f\u7528 export default \u5bfc\u51fa\uff1a // types/foo/index.d.ts declare enum Directions { Up , Down , Left , Right } export default Directions ; \u9488\u5bf9\u8fd9\u79cd\u9ed8\u8ba4\u5bfc\u51fa\uff0c\u6211\u4eec\u4e00\u822c\u4f1a\u5c06\u5bfc\u51fa\u8bed\u53e5\u653e\u5728\u6574\u4e2a\u58f0\u660e\u6587\u4ef6\u7684\u6700\u524d\u9762 20 \uff1a // types/foo/index.d.ts export default Directions ; declare enum Directions { Up , Down , Left , Right }","title":"export default"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#export_1","text":"\u5728 commonjs \u89c4\u8303\u4e2d\uff0c\u6211\u4eec\u7528\u4ee5\u4e0b\u65b9\u5f0f\u6765\u5bfc\u51fa\u4e00\u4e2a\u6a21\u5757\uff1a // \u6574\u4f53\u5bfc\u51fa module . exports = foo ; // \u5355\u4e2a\u5bfc\u51fa exports . bar = bar ; \u5728 ts \u4e2d\uff0c\u9488\u5bf9\u8fd9\u79cd\u6a21\u5757\u5bfc\u51fa\uff0c\u6709\u591a\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5bfc\u5165\uff0c\u7b2c\u4e00\u79cd\u65b9\u5f0f\u662f const ... = require \uff1a // \u6574\u4f53\u5bfc\u5165 const foo = require ( 'foo' ); // \u5355\u4e2a\u5bfc\u5165 const bar = require ( 'foo' ). bar ; \u7b2c\u4e8c\u79cd\u65b9\u5f0f\u662f import ... from \uff0c\u6ce8\u610f\u9488\u5bf9\u6574\u4f53\u5bfc\u51fa\uff0c\u9700\u8981\u4f7f\u7528 import * as \u6765\u5bfc\u5165\uff1a // \u6574\u4f53\u5bfc\u5165 import * as foo from 'foo' ; // \u5355\u4e2a\u5bfc\u5165 import { bar } from 'foo' ; \u7b2c\u4e09\u79cd\u65b9\u5f0f\u662f import ... require \uff0c\u8fd9\u4e5f\u662f ts \u5b98\u65b9\u63a8\u8350\u7684\u65b9\u5f0f\uff1a // \u6574\u4f53\u5bfc\u5165 import foo = require ( 'foo' ); // \u5355\u4e2a\u5bfc\u5165 import bar = foo . bar ; \u5bf9\u4e8e\u8fd9\u79cd\u4f7f\u7528 commonjs \u89c4\u8303\u7684\u5e93\uff0c\u5047\u5982\u8981\u4e3a\u5b83\u5199\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u7684\u8bdd\uff0c\u5c31\u9700\u8981\u4f7f\u7528\u5230 export = \u8fd9\u79cd\u8bed\u6cd5\u4e86 21 \uff1a // types/foo/index.d.ts export = foo ; declare function foo () : string ; declare namespace foo { const bar : number ; } \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e0a\u4f8b\u4e2d\u4f7f\u7528\u4e86 export = \u4e4b\u540e\uff0c\u5c31\u4e0d\u80fd\u518d\u5355\u4e2a\u5bfc\u51fa export { bar } \u4e86\u3002\u6240\u4ee5\u6211\u4eec\u901a\u8fc7\u58f0\u660e\u5408\u5e76\uff0c\u4f7f\u7528 declare namespace foo \u6765\u5c06 bar \u5408\u5e76\u5230 foo \u91cc\u3002 \u7531\u4e8e\u5f88\u591a\u7b2c\u4e09\u65b9\u5e93\u662f commonjs \u89c4\u8303\u7684\uff0c\u6240\u4ee5\u58f0\u660e\u6587\u4ef6\u4e5f\u5c31\u4e0d\u5f97\u4e0d\u7528\u5230 export = \u8fd9\u79cd\u8bed\u6cd5\u4e86\u3002\u4f46\u662f\u8fd8\u662f\u9700\u8981\u518d\u5f3a\u8c03\u4e0b\uff0c\u76f8\u6bd4\u4e0e export = \uff0c\u6211\u4eec\u66f4\u63a8\u8350\u4f7f\u7528 ES6 \u6807\u51c6\u7684 export default \u548c export \u3002","title":"export ="},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#umd","text":"\u65e2\u53ef\u4ee5\u901a\u8fc7 <script> \u6807\u7b7e\u5f15\u5165\uff0c\u53c8\u53ef\u4ee5\u901a\u8fc7 import \u5bfc\u5165\u7684\u5e93\uff0c\u79f0\u4e3a UMD \u5e93\u3002\u76f8\u6bd4\u4e8e npm \u5305\u7684\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff0c\u6211\u4eec\u9700\u8981\u989d\u5916\u58f0\u660e\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u79cd\u65b9\u5f0f\uff0cts \u63d0\u4f9b\u4e86\u4e00\u4e2a\u65b0\u8bed\u6cd5 export as namespace \u3002","title":"UMD \u5e93"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#export-as-namespace","text":"\u4e00\u822c\u4f7f\u7528 export as namespace \u65f6\uff0c\u90fd\u662f\u5148\u6709\u4e86 npm \u5305\u7684\u58f0\u660e\u6587\u4ef6\uff0c\u518d\u57fa\u4e8e\u5b83\u6dfb\u52a0\u4e00\u6761 export as namespace \u8bed\u53e5\uff0c\u5373\u53ef\u5c06\u58f0\u660e\u597d\u7684\u4e00\u4e2a\u53d8\u91cf\u58f0\u660e\u4e3a\u5168\u5c40\u53d8\u91cf\uff0c\u4e3e\u4f8b\u5982\u4e0b 22 \uff1a // types/foo/index.d.ts export as namespace foo ; export = foo ; declare function foo () : string ; declare namespace foo { const bar : number ; } \u5f53\u7136\u5b83\u4e5f\u53ef\u4ee5\u4e0e export default \u4e00\u8d77\u4f7f\u7528\uff1a // types/foo/index.d.ts export as namespace foo ; export default foo ; declare function foo () : string ; declare namespace foo { const bar : number ; }","title":"export as namespace"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_39","text":"\u6709\u7684\u7b2c\u4e09\u65b9\u5e93\u6269\u5c55\u4e86\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u53ef\u662f\u6b64\u5168\u5c40\u53d8\u91cf\u7684\u7c7b\u578b\u5374\u6ca1\u6709\u76f8\u5e94\u7684\u66f4\u65b0\u8fc7\u6765\uff0c\u5c31\u4f1a\u5bfc\u81f4 ts \u7f16\u8bd1\u9519\u8bef\uff0c\u6b64\u65f6\u5c31\u9700\u8981\u6269\u5c55\u5168\u5c40\u53d8\u91cf\u7684\u7c7b\u578b\u3002\u6bd4\u5982\u6269\u5c55 String \u7c7b\u578b 23 \uff1a interface String { prependHello () : string ; } 'foo' . prependHello (); \u901a\u8fc7\u58f0\u660e\u5408\u5e76\uff0c\u4f7f\u7528 interface String \u5373\u53ef\u7ed9 String \u6dfb\u52a0\u5c5e\u6027\u6216\u65b9\u6cd5\u3002 \u4e5f\u53ef\u4ee5\u4f7f\u7528 declare namespace \u7ed9\u5df2\u6709\u7684\u547d\u540d\u7a7a\u95f4\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e 24 \uff1a // types/jquery-plugin/index.d.ts declare namespace JQuery { interface CustomOptions { bar : string ; } } interface JQueryStatic { foo ( options : JQuery.CustomOptions ) : string ; } // src/index.ts jQuery . foo ({ bar : '' });","title":"\u76f4\u63a5\u6269\u5c55\u5168\u5c40\u53d8\u91cf"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#npm-umd","text":"\u5982\u4e4b\u524d\u6240\u8bf4\uff0c\u5bf9\u4e8e\u4e00\u4e2a npm \u5305\u6216\u8005 UMD \u5e93\u7684\u58f0\u660e\u6587\u4ef6\uff0c\u53ea\u6709 export \u5bfc\u51fa\u7684\u7c7b\u578b\u58f0\u660e\u624d\u80fd\u88ab\u5bfc\u5165\u3002\u6240\u4ee5\u5bf9\u4e8e npm \u5305\u6216 UMD \u5e93\uff0c\u5982\u679c\u5bfc\u5165\u6b64\u5e93\u4e4b\u540e\u4f1a\u6269\u5c55\u5168\u5c40\u53d8\u91cf\uff0c\u5219\u9700\u8981\u4f7f\u7528\u53e6\u4e00\u79cd\u8bed\u6cd5\u5728\u58f0\u660e\u6587\u4ef6\u4e2d\u6269\u5c55\u5168\u5c40\u53d8\u91cf\u7684\u7c7b\u578b\uff0c\u90a3\u5c31\u662f declare global \u3002","title":"\u5728 npm \u5305\u6216 UMD \u5e93\u4e2d\u6269\u5c55\u5168\u5c40\u53d8\u91cf"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#declare-global","text":"\u4f7f\u7528 declare global \u53ef\u4ee5\u5728 npm \u5305\u6216\u8005 UMD \u5e93\u7684\u58f0\u660e\u6587\u4ef6\u4e2d\u6269\u5c55\u5168\u5c40\u53d8\u91cf\u7684\u7c7b\u578b 25 \uff1a // types/foo/index.d.ts declare global { interface String { prependHello () : string ; } } export {}; // src/index.ts 'bar' . prependHello (); \u6ce8\u610f\u5373\u4f7f\u6b64\u58f0\u660e\u6587\u4ef6\u4e0d\u9700\u8981\u5bfc\u51fa\u4efb\u4f55\u4e1c\u897f\uff0c\u4ecd\u7136\u9700\u8981\u5bfc\u51fa\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff0c\u7528\u6765\u544a\u8bc9\u7f16\u8bd1\u5668\u8fd9\u662f\u4e00\u4e2a\u6a21\u5757\u7684\u58f0\u660e\u6587\u4ef6\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u3002","title":"declare global"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_40","text":"\u6709\u65f6\u901a\u8fc7 import \u5bfc\u5165\u4e00\u4e2a\u6a21\u5757\u63d2\u4ef6\uff0c\u53ef\u4ee5\u6539\u53d8\u53e6\u4e00\u4e2a\u539f\u6709\u6a21\u5757\u7684\u7ed3\u6784\u3002\u6b64\u65f6\u5982\u679c\u539f\u6709\u6a21\u5757\u5df2\u7ecf\u6709\u4e86\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff0c\u800c\u63d2\u4ef6\u6a21\u5757\u6ca1\u6709\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff0c\u5c31\u4f1a\u5bfc\u81f4\u7c7b\u578b\u4e0d\u5b8c\u6574\uff0c\u7f3a\u5c11\u63d2\u4ef6\u90e8\u5206\u7684\u7c7b\u578b\u3002ts \u63d0\u4f9b\u4e86\u4e00\u4e2a\u8bed\u6cd5 declare module \uff0c\u5b83\u53ef\u4ee5\u7528\u6765\u6269\u5c55\u539f\u6709\u6a21\u5757\u7684\u7c7b\u578b\u3002","title":"\u6a21\u5757\u63d2\u4ef6"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#declare-module","text":"\u5982\u679c\u662f\u9700\u8981\u6269\u5c55\u539f\u6709\u6a21\u5757\u7684\u8bdd\uff0c\u9700\u8981\u5728\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u4e2d\u5148\u5f15\u7528\u539f\u6709\u6a21\u5757\uff0c\u518d\u4f7f\u7528 declare module \u6269\u5c55\u539f\u6709\u6a21\u5757 26 \uff1a // types/moment-plugin/index.d.ts import * as moment from 'moment' ; declare module 'moment' { export function foo () : moment . CalendarKey ; } // src/index.ts import * as moment from 'moment' ; import 'moment-plugin' ; moment . foo (); declare module \u4e5f\u53ef\u7528\u4e8e\u5728\u4e00\u4e2a\u6587\u4ef6\u4e2d\u4e00\u6b21\u6027\u58f0\u660e\u591a\u4e2a\u6a21\u5757\u7684\u7c7b\u578b 27 \uff1a // types/foo-bar.d.ts declare module 'foo' { export interface Foo { foo : string ; } } declare module 'bar' { export function bar () : string ; } // src/index.ts import { Foo } from 'foo' ; import * as bar from 'bar' ; let f : Foo ; bar . bar ();","title":"declare module"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_41","text":"\u4e00\u4e2a\u58f0\u660e\u6587\u4ef6\u6709\u65f6\u4f1a\u4f9d\u8d56\u53e6\u4e00\u4e2a\u58f0\u660e\u6587\u4ef6\u4e2d\u7684\u7c7b\u578b\uff0c\u6bd4\u5982\u5728\u524d\u9762\u7684 declare module \u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5c31\u5728\u58f0\u660e\u6587\u4ef6\u4e2d\u5bfc\u5165\u4e86 moment \uff0c\u5e76\u4e14\u4f7f\u7528\u4e86 moment.CalendarKey \u8fd9\u4e2a\u7c7b\u578b\uff1a // types/moment-plugin/index.d.ts import * as moment from 'moment' ; declare module 'moment' { export function foo () : moment . CalendarKey ; } \u9664\u4e86\u53ef\u4ee5\u5728\u58f0\u660e\u6587\u4ef6\u4e2d\u901a\u8fc7 import \u5bfc\u5165\u53e6\u4e00\u4e2a\u58f0\u660e\u6587\u4ef6\u4e2d\u7684\u7c7b\u578b\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u4e2a\u8bed\u6cd5\u4e5f\u53ef\u4ee5\u7528\u6765\u5bfc\u5165\u53e6\u4e00\u4e2a\u58f0\u660e\u6587\u4ef6\uff0c\u90a3\u5c31\u662f\u4e09\u659c\u7ebf\u6307\u4ee4\u3002","title":"\u58f0\u660e\u6587\u4ef6\u4e2d\u7684\u4f9d\u8d56"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_42","text":"\u4e0e namespace \u7c7b\u4f3c\uff0c\u4e09\u659c\u7ebf\u6307\u4ee4\u4e5f\u662f ts \u5728\u65e9\u671f\u7248\u672c\u4e2d\u4e3a\u4e86\u63cf\u8ff0\u6a21\u5757\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u800c\u521b\u9020\u7684\u8bed\u6cd5\u3002\u968f\u7740 ES6 \u7684\u5e7f\u6cdb\u5e94\u7528\uff0c\u73b0\u5728\u5df2\u7ecf\u4e0d\u5efa\u8bae\u518d\u4f7f\u7528 ts \u4e2d\u7684\u4e09\u659c\u7ebf\u6307\u4ee4\u6765\u58f0\u660e\u6a21\u5757\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u4e86\u3002 \u4f46\u662f\u5728\u58f0\u660e\u6587\u4ef6\u4e2d\uff0c\u5b83\u8fd8\u662f\u6709\u4e00\u5b9a\u7684\u7528\u6b66\u4e4b\u5730\u3002 \u7c7b\u4f3c\u4e8e\u58f0\u660e\u6587\u4ef6\u4e2d\u7684 import \uff0c\u5b83\u53ef\u4ee5\u7528\u6765\u5bfc\u5165\u53e6\u4e00\u4e2a\u58f0\u660e\u6587\u4ef6\u3002\u4e0e import \u7684\u533a\u522b\u662f\uff0c\u5f53\u4e14\u4ec5\u5f53\u5728\u4ee5\u4e0b\u51e0\u4e2a\u573a\u666f\u4e0b\uff0c\u6211\u4eec\u624d\u9700\u8981\u4f7f\u7528\u4e09\u659c\u7ebf\u6307\u4ee4\u66ff\u4ee3 import \uff1a \u5f53\u6211\u4eec\u5728**\u4e66\u5199**\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u65f6 \u5f53\u6211\u4eec\u9700\u8981**\u4f9d\u8d56**\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u65f6 **\u4e66\u5199**\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6 \u8fd9\u4e9b\u573a\u666f\u542c\u4e0a\u53bb\u5f88\u62d7\u53e3\uff0c\u4f46\u5b9e\u9645\u4e0a\u5f88\u597d\u7406\u89e3\u2014\u2014\u5728\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u4e2d\uff0c\u662f\u4e0d\u5141\u8bb8\u51fa\u73b0 import , export \u5173\u952e\u5b57\u7684\u3002\u4e00\u65e6\u51fa\u73b0\u4e86\uff0c\u90a3\u4e48\u4ed6\u5c31\u4f1a\u88ab\u89c6\u4e3a\u4e00\u4e2a npm \u5305\u6216 UMD \u5e93\uff0c\u5c31\u4e0d\u518d\u662f\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u4e86\u3002\u6545\u5f53\u6211\u4eec\u5728\u4e66\u5199\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u65f6\uff0c\u5982\u679c\u9700\u8981\u5f15\u7528\u53e6\u4e00\u4e2a\u5e93\u7684\u7c7b\u578b\uff0c\u90a3\u4e48\u5c31\u5fc5\u987b\u7528\u4e09\u659c\u7ebf\u6307\u4ee4\u4e86 28 \uff1a // types/jquery-plugin/index.d.ts /// <reference types=\"jquery\" /> declare function foo ( options : JQuery.AjaxSettings ) : string ; // src/index.ts foo ({}); \u4e09\u659c\u7ebf\u6307\u4ee4\u7684\u8bed\u6cd5\u5982\u4e0a\uff0c /// \u540e\u9762\u4f7f\u7528 xml \u7684\u683c\u5f0f\u6dfb\u52a0\u4e86\u5bf9 jquery \u7c7b\u578b\u7684\u4f9d\u8d56\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5728\u58f0\u660e\u6587\u4ef6\u4e2d\u4f7f\u7528 JQuery.AjaxSettings \u7c7b\u578b\u4e86\u3002 \u6ce8\u610f\uff0c\u4e09\u659c\u7ebf\u6307\u4ee4\u5fc5\u987b\u653e\u5728\u6587\u4ef6\u7684\u6700\u9876\u7aef\uff0c\u4e09\u659c\u7ebf\u6307\u4ee4\u7684\u524d\u9762\u53ea\u5141\u8bb8\u51fa\u73b0\u5355\u884c\u6216\u591a\u884c\u6ce8\u91ca\u3002 **\u4f9d\u8d56**\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6 \u5728\u53e6\u4e00\u4e2a\u573a\u666f\u4e0b\uff0c\u5f53\u6211\u4eec\u9700\u8981\u4f9d\u8d56\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u65f6\uff0c\u7531\u4e8e\u5168\u5c40\u53d8\u91cf\u4e0d\u652f\u6301\u901a\u8fc7 import \u5bfc\u5165\uff0c\u5f53\u7136\u4e5f\u5c31\u5fc5\u987b\u4f7f\u7528\u4e09\u659c\u7ebf\u6307\u4ee4\u6765\u5f15\u5165\u4e86 29 \uff1a // types/node-plugin/index.d.ts /// <reference types=\"node\" /> export function foo ( p : NodeJS.Process ) : string ; // src/index.ts import { foo } from 'node-plugin' ; foo ( global . process ); \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u4e09\u659c\u7ebf\u6307\u5f15\u5165\u4e86 node \u7684\u7c7b\u578b\uff0c\u7136\u540e\u5728\u58f0\u660e\u6587\u4ef6\u4e2d\u4f7f\u7528\u4e86 NodeJS.Process \u8fd9\u4e2a\u7c7b\u578b\u3002\u6700\u540e\u5728\u4f7f\u7528\u5230 foo \u7684\u65f6\u5019\uff0c\u4f20\u5165\u4e86 node \u4e2d\u7684\u5168\u5c40\u53d8\u91cf process \u3002 \u7531\u4e8e\u5f15\u5165\u7684 node \u4e2d\u7684\u7c7b\u578b\u90fd\u662f\u5168\u5c40\u53d8\u91cf\u7684\u7c7b\u578b\uff0c\u5b83\u4eec\u662f\u6ca1\u6709\u529e\u6cd5\u901a\u8fc7 import \u6765\u5bfc\u5165\u7684\uff0c\u6240\u4ee5\u8fd9\u79cd\u573a\u666f\u4e0b\u4e5f\u53ea\u80fd\u901a\u8fc7\u4e09\u659c\u7ebf\u6307\u4ee4\u6765\u5f15\u5165\u4e86\u3002 \u4ee5\u4e0a\u4e24\u79cd\u4f7f\u7528\u573a\u666f\u4e0b\uff0c\u90fd\u662f\u7531\u4e8e\u9700\u8981\u4e66\u5199\u6216\u9700\u8981\u4f9d\u8d56\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\uff0c\u6240\u4ee5\u5fc5\u987b\u4f7f\u7528\u4e09\u659c\u7ebf\u6307\u4ee4\u3002\u5728\u5176\u4ed6\u7684\u4e00\u4e9b\u4e0d\u662f\u5fc5\u8981\u4f7f\u7528\u4e09\u659c\u7ebf\u6307\u4ee4\u7684\u60c5\u51b5\u4e0b\uff0c\u5c31\u90fd\u9700\u8981\u4f7f\u7528 import \u6765\u5bfc\u5165\u3002 \u62c6\u5206\u58f0\u660e\u6587\u4ef6 \u5f53\u6211\u4eec\u7684\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u6587\u4ef6\u592a\u5927\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u62c6\u5206\u4e3a\u591a\u4e2a\u6587\u4ef6\uff0c\u7136\u540e\u5728\u4e00\u4e2a\u5165\u53e3\u6587\u4ef6\u4e2d\u5c06\u5b83\u4eec\u4e00\u4e00\u5f15\u5165\uff0c\u6765\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027\u3002\u6bd4\u5982 jQuery \u7684\u58f0\u660e\u6587\u4ef6\u5c31\u662f\u8fd9\u6837\u7684\uff1a // node_modules/@types/jquery/index.d.ts /// <reference types=\"sizzle\" /> /// <reference path=\"JQueryStatic.d.ts\" /> /// <reference path=\"JQuery.d.ts\" /> /// <reference path=\"misc.d.ts\" /> /// <reference path=\"legacy.d.ts\" /> export = jQuery ; \u5176\u4e2d\u7528\u5230\u4e86 types \u548c path \u4e24\u79cd\u4e0d\u540c\u7684\u6307\u4ee4\u3002\u5b83\u4eec\u7684\u533a\u522b\u662f\uff1a types \u7528\u4e8e\u58f0\u660e\u5bf9\u53e6\u4e00\u4e2a\u5e93\u7684\u4f9d\u8d56\uff0c\u800c path \u7528\u4e8e\u58f0\u660e\u5bf9\u53e6\u4e00\u4e2a\u6587\u4ef6\u7684\u4f9d\u8d56\u3002 \u4e0a\u4f8b\u4e2d\uff0c sizzle \u662f\u4e0e jquery \u5e73\u884c\u7684\u53e6\u4e00\u4e2a\u5e93\uff0c\u6240\u4ee5\u9700\u8981\u4f7f\u7528 types=\"sizzle\" \u6765\u58f0\u660e\u5bf9\u5b83\u7684\u4f9d\u8d56\u3002\u800c\u5176\u4ed6\u7684\u4e09\u659c\u7ebf\u6307\u4ee4\u5c31\u662f\u5c06 jquery \u7684\u58f0\u660e\u62c6\u5206\u5230\u4e0d\u540c\u7684\u6587\u4ef6\u4e2d\u4e86\uff0c\u7136\u540e\u5728\u8fd9\u4e2a\u5165\u53e3\u6587\u4ef6\u4e2d\u4f7f\u7528 path=\"foo\" \u5c06\u5b83\u4eec\u4e00\u4e00\u5f15\u5165\u3002 \u5176\u4ed6\u4e09\u659c\u7ebf\u6307\u4ee4 \u9664\u4e86\u8fd9\u4e24\u79cd\u4e09\u659c\u7ebf\u6307\u4ee4\u4e4b\u5916\uff0c\u8fd8\u6709\u5176\u4ed6\u7684\u4e09\u659c\u7ebf\u6307\u4ee4\uff0c\u6bd4\u5982 /// <reference no-default-lib=\"true\"/> , /// <amd-module /> \u7b49\uff0c\u4f46\u5b83\u4eec\u90fd\u662f\u5e9f\u5f03\u7684\u8bed\u6cd5\uff0c\u6545\u8fd9\u91cc\u5c31\u4e0d\u4ecb\u7ecd\u4e86\uff0c\u8be6\u60c5\u53ef\u89c1 \u5b98\u7f51 \u3002","title":"\u4e09\u659c\u7ebf\u6307\u4ee4"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_43","text":"\u5982\u679c\u5e93\u7684\u6e90\u7801\u672c\u8eab\u5c31\u662f\u7531 ts \u5199\u7684\uff0c\u90a3\u4e48\u5728\u4f7f\u7528 tsc \u811a\u672c\u5c06 ts \u7f16\u8bd1\u4e3a js \u7684\u65f6\u5019\uff0c\u6dfb\u52a0 declaration \u9009\u9879\uff0c\u5c31\u53ef\u4ee5\u540c\u65f6\u4e5f\u751f\u6210 .d.ts \u58f0\u660e\u6587\u4ef6\u4e86\u3002 \u6211\u4eec\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u6dfb\u52a0 --declaration \uff08\u7b80\u5199 -d \uff09\uff0c\u6216\u8005\u5728 tsconfig.json \u4e2d\u6dfb\u52a0 declaration \u9009\u9879\u3002\u8fd9\u91cc\u4ee5 tsconfig.json \u4e3a\u4f8b\uff1a { \"compilerOptions\" : { \"module\" : \"commonjs\" , \"outDir\" : \"lib\" , \"declaration\" : true , } } \u4e0a\u4f8b\u4e2d\u6211\u4eec\u6dfb\u52a0\u4e86 outDir \u9009\u9879\uff0c\u5c06 ts \u6587\u4ef6\u7684\u7f16\u8bd1\u7ed3\u679c\u8f93\u51fa\u5230 lib \u76ee\u5f55\u4e0b\uff0c\u7136\u540e\u6dfb\u52a0\u4e86 declaration \u9009\u9879\uff0c\u8bbe\u7f6e\u4e3a true \uff0c\u8868\u793a\u5c06\u4f1a\u7531 ts \u6587\u4ef6\u81ea\u52a8\u751f\u6210 .d.ts \u58f0\u660e\u6587\u4ef6\uff0c\u4e5f\u4f1a\u8f93\u51fa\u5230 lib \u76ee\u5f55\u4e0b\u3002 \u8fd0\u884c tsc \u4e4b\u540e\uff0c\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b 30 \uff1a / path / to / project \u251c\u2500\u2500 lib | \u251c\u2500\u2500 bar | | \u251c\u2500\u2500 index . d . ts | | \u2514\u2500\u2500 index . js | \u251c\u2500\u2500 index . d . ts | \u2514\u2500\u2500 index . js \u251c\u2500\u2500 src | \u251c\u2500\u2500 bar | | \u2514\u2500\u2500 index . ts | \u2514\u2500\u2500 index . ts \u251c\u2500\u2500 package . json \u2514\u2500\u2500 tsconfig . json \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c src \u76ee\u5f55\u4e0b\u6709\u4e24\u4e2a ts \u6587\u4ef6\uff0c\u5206\u522b\u662f src/index.ts \u548c src/bar/index.ts \uff0c\u5b83\u4eec\u88ab\u7f16\u8bd1\u5230 lib \u76ee\u5f55\u4e0b\u7684\u540c\u65f6\uff0c\u4e5f\u4f1a\u751f\u6210\u5bf9\u5e94\u7684\u4e24\u4e2a\u58f0\u660e\u6587\u4ef6 lib/index.d.ts \u548c lib/bar/index.d.ts \u3002\u5b83\u4eec\u7684\u5185\u5bb9\u5206\u522b\u662f\uff1a // src/index.ts export * from './bar' ; export default function foo () { return 'foo' ; } // src/bar/index.ts export function bar () { return 'bar' ; } // lib/index.d.ts export * from './bar' ; export default function foo () : string ; // lib/bar/index.d.ts export declare function bar () : string ; \u53ef\u89c1\uff0c\u81ea\u52a8\u751f\u6210\u7684\u58f0\u660e\u6587\u4ef6\u57fa\u672c\u4fdd\u6301\u4e86\u6e90\u7801\u7684\u7ed3\u6784\uff0c\u800c\u5c06\u5177\u4f53\u5b9e\u73b0\u53bb\u6389\u4e86\uff0c\u751f\u6210\u4e86\u5bf9\u5e94\u7684\u7c7b\u578b\u58f0\u660e\u3002 \u4f7f\u7528 tsc \u81ea\u52a8\u751f\u6210\u58f0\u660e\u6587\u4ef6\u65f6\uff0c\u6bcf\u4e2a ts \u6587\u4ef6\u90fd\u4f1a\u5bf9\u5e94\u4e00\u4e2a .d.ts \u58f0\u660e\u6587\u4ef6\u3002\u8fd9\u6837\u7684\u597d\u5904\u662f\uff0c\u4f7f\u7528\u65b9\u4e0d\u4ec5\u53ef\u4ee5\u5728\u4f7f\u7528 import foo from 'foo' \u5bfc\u5165\u9ed8\u8ba4\u7684\u6a21\u5757\u65f6\u83b7\u5f97\u7c7b\u578b\u63d0\u793a\uff0c\u8fd8\u53ef\u4ee5\u5728\u4f7f\u7528 import bar from 'foo/lib/bar' \u5bfc\u5165\u4e00\u4e2a\u5b50\u6a21\u5757\u65f6\uff0c\u4e5f\u83b7\u5f97\u5bf9\u5e94\u7684\u7c7b\u578b\u63d0\u793a\u3002 \u9664\u4e86 declaration \u9009\u9879\u4e4b\u5916\uff0c\u8fd8\u6709\u51e0\u4e2a\u9009\u9879\u4e5f\u4e0e\u81ea\u52a8\u751f\u6210\u58f0\u660e\u6587\u4ef6\u6709\u5173\uff0c\u8fd9\u91cc\u53ea\u7b80\u5355\u5217\u4e3e\u51fa\u6765\uff0c\u4e0d\u505a\u8be6\u7ec6\u6f14\u793a\u4e86\uff1a declarationDir \u8bbe\u7f6e\u751f\u6210 .d.ts \u6587\u4ef6\u7684\u76ee\u5f55 declarationMap \u5bf9\u6bcf\u4e2a .d.ts \u6587\u4ef6\uff0c\u90fd\u751f\u6210\u5bf9\u5e94\u7684 .d.ts.map \uff08sourcemap\uff09\u6587\u4ef6 emitDeclarationOnly \u4ec5\u751f\u6210 .d.ts \u6587\u4ef6\uff0c\u4e0d\u751f\u6210 .js \u6587\u4ef6","title":"\u81ea\u52a8\u751f\u6210\u58f0\u660e\u6587\u4ef6"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_44","text":"\u5f53\u6211\u4eec\u4e3a\u4e00\u4e2a\u5e93\u5199\u597d\u4e86\u58f0\u660e\u6587\u4ef6\u4e4b\u540e\uff0c\u4e0b\u4e00\u6b65\u5c31\u662f\u5c06\u5b83\u53d1\u5e03\u51fa\u53bb\u4e86\u3002 \u6b64\u65f6\u6709\u4e24\u79cd\u65b9\u6848\uff1a \u5c06\u58f0\u660e\u6587\u4ef6\u548c\u6e90\u7801\u653e\u5728\u4e00\u8d77 \u5c06\u58f0\u660e\u6587\u4ef6\u53d1\u5e03\u5230 @types \u4e0b \u8fd9\u4e24\u79cd\u65b9\u6848\u4e2d\u4f18\u5148\u9009\u62e9\u7b2c\u4e00\u79cd\u65b9\u6848\u3002\u4fdd\u6301\u58f0\u660e\u6587\u4ef6\u4e0e\u6e90\u7801\u5728\u4e00\u8d77\uff0c\u4f7f\u7528\u65f6\u5c31\u4e0d\u9700\u8981\u989d\u5916\u589e\u52a0\u5355\u72ec\u7684\u58f0\u660e\u6587\u4ef6\u5e93\u7684\u4f9d\u8d56\u4e86\uff0c\u800c\u4e14\u4e5f\u80fd\u4fdd\u8bc1\u58f0\u660e\u6587\u4ef6\u7684\u7248\u672c\u4e0e\u6e90\u7801\u7684\u7248\u672c\u4fdd\u6301\u4e00\u81f4\u3002 \u4ec5\u5f53\u6211\u4eec\u5728\u7ed9\u522b\u4eba\u7684\u4ed3\u5e93\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff0c\u4f46\u539f\u4f5c\u8005\u4e0d\u613f\u610f\u5408\u5e76 pull request \u65f6\uff0c\u624d\u9700\u8981\u4f7f\u7528\u7b2c\u4e8c\u79cd\u65b9\u6848\uff0c\u5c06\u58f0\u660e\u6587\u4ef6\u53d1\u5e03\u5230 @types \u4e0b\u3002","title":"\u53d1\u5e03\u58f0\u660e\u6587\u4ef6"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#_45","text":"\u5982\u679c\u58f0\u660e\u6587\u4ef6\u662f\u901a\u8fc7 tsc \u81ea\u52a8\u751f\u6210\u7684\uff0c\u90a3\u4e48\u65e0\u9700\u505a\u4efb\u4f55\u5176\u4ed6\u914d\u7f6e\uff0c\u53ea\u9700\u8981\u628a\u7f16\u8bd1\u597d\u7684\u6587\u4ef6\u4e5f\u53d1\u5e03\u5230 npm \u4e0a\uff0c\u4f7f\u7528\u65b9\u5c31\u53ef\u4ee5\u83b7\u53d6\u5230\u7c7b\u578b\u63d0\u793a\u4e86\u3002 \u5982\u679c\u662f\u624b\u52a8\u5199\u7684\u58f0\u660e\u6587\u4ef6\uff0c\u90a3\u4e48\u9700\u8981\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\u4e4b\u4e00\uff0c\u624d\u80fd\u88ab\u6b63\u786e\u7684\u8bc6\u522b\uff1a \u7ed9 package.json \u4e2d\u7684 types \u6216 typings \u5b57\u6bb5\u6307\u5b9a\u4e00\u4e2a\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u5730\u5740 \u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\uff0c\u7f16\u5199\u4e00\u4e2a index.d.ts \u6587\u4ef6 \u9488\u5bf9\u5165\u53e3\u6587\u4ef6\uff08 package.json \u4e2d\u7684 main \u5b57\u6bb5\u6307\u5b9a\u7684\u5165\u53e3\u6587\u4ef6\uff09\uff0c\u7f16\u5199\u4e00\u4e2a\u540c\u540d\u4e0d\u540c\u540e\u7f00\u7684 .d.ts \u6587\u4ef6 \u7b2c\u4e00\u79cd\u65b9\u5f0f\u662f\u7ed9 package.json \u4e2d\u7684 types \u6216 typings \u5b57\u6bb5\u6307\u5b9a\u4e00\u4e2a\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u5730\u5740\u3002\u6bd4\u5982\uff1a { \"name\" : \"foo\" , \"version\" : \"1.0.0\" , \"main\" : \"lib/index.js\" , \"types\" : \"foo.d.ts\" , } \u6307\u5b9a\u4e86 types \u4e3a foo.d.ts \u4e4b\u540e\uff0c\u5bfc\u5165\u6b64\u5e93\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u53bb\u627e foo.d.ts \u4f5c\u4e3a\u6b64\u5e93\u7684\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u4e86\u3002 typings \u4e0e types \u4e00\u6837\uff0c\u53ea\u662f\u53e6\u4e00\u79cd\u5199\u6cd5\u3002 \u5982\u679c\u6ca1\u6709\u6307\u5b9a types \u6216 typings \uff0c\u90a3\u4e48\u5c31\u4f1a\u5728\u6839\u76ee\u5f55\u4e0b\u5bfb\u627e index.d.ts \u6587\u4ef6\uff0c\u5c06\u5b83\u89c6\u4e3a\u6b64\u5e93\u7684\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u3002 \u5982\u679c\u6ca1\u6709\u627e\u5230 index.d.ts \u6587\u4ef6\uff0c\u90a3\u4e48\u5c31\u4f1a\u5bfb\u627e\u5165\u53e3\u6587\u4ef6\uff08 package.json \u4e2d\u7684 main \u5b57\u6bb5\u6307\u5b9a\u7684\u5165\u53e3\u6587\u4ef6\uff09\u662f\u5426\u5b58\u5728\u5bf9\u5e94\u540c\u540d\u4e0d\u540c\u540e\u7f00\u7684 .d.ts \u6587\u4ef6\u3002 \u6bd4\u5982 package.json \u662f\u8fd9\u6837\u65f6\uff1a { \"name\" : \"foo\" , \"version\" : \"1.0.0\" , \"main\" : \"lib/index.js\" } \u5c31\u4f1a\u5148\u8bc6\u522b package.json \u4e2d\u662f\u5426\u5b58\u5728 types \u6216 typings \u5b57\u6bb5\u3002\u53d1\u73b0\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48\u5c31\u4f1a\u5bfb\u627e\u662f\u5426\u5b58\u5728 index.d.ts \u6587\u4ef6\u3002\u5982\u679c\u8fd8\u662f\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48\u5c31\u4f1a\u5bfb\u627e\u662f\u5426\u5b58\u5728 lib/index.d.ts \u6587\u4ef6\u3002\u5047\u5982\u8bf4\u8fde lib/index.d.ts \u90fd\u4e0d\u5b58\u5728\u7684\u8bdd\uff0c\u5c31\u4f1a\u88ab\u8ba4\u4e3a\u662f\u4e00\u4e2a\u6ca1\u6709\u63d0\u4f9b\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u7684\u5e93\u4e86\u3002 \u6709\u7684\u5e93\u4e3a\u4e86\u652f\u6301\u5bfc\u5165\u5b50\u6a21\u5757\uff0c\u6bd4\u5982 import bar from 'foo/lib/bar' \uff0c\u5c31\u9700\u8981\u989d\u5916\u518d\u7f16\u5199\u4e00\u4e2a\u7c7b\u578b\u58f0\u660e\u6587\u4ef6 lib/bar.d.ts \u6216\u8005 lib/bar/index.d.ts \uff0c\u8fd9\u4e0e\u81ea\u52a8\u751f\u6210\u58f0\u660e\u6587\u4ef6\u7c7b\u4f3c\uff0c\u4e00\u4e2a\u5e93\u4e2d\u540c\u65f6\u5305\u542b\u4e86\u591a\u4e2a\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u3002","title":"\u5c06\u58f0\u660e\u6587\u4ef6\u548c\u6e90\u7801\u653e\u5728\u4e00\u8d77"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#types","text":"\u5982\u679c\u6211\u4eec\u662f\u5728\u7ed9\u522b\u4eba\u7684\u4ed3\u5e93\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff0c\u4f46\u539f\u4f5c\u8005\u4e0d\u613f\u610f\u5408\u5e76 pull request\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u5c06\u58f0\u660e\u6587\u4ef6\u53d1\u5e03\u5230 @types \u4e0b\u3002 \u4e0e\u666e\u901a\u7684 npm \u6a21\u5757\u4e0d\u540c\uff0c @types \u662f\u7edf\u4e00\u7531 DefinitelyTyped \u7ba1\u7406\u7684\u3002\u8981\u5c06\u58f0\u660e\u6587\u4ef6\u53d1\u5e03\u5230 @types \u4e0b\uff0c\u5c31\u9700\u8981\u7ed9 DefinitelyTyped \u521b\u5efa\u4e00\u4e2a pull-request\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff0c\u6d4b\u8bd5\u4ee3\u7801\uff0c\u4ee5\u53ca tsconfig.json \u7b49\u3002 pull-request \u9700\u8981\u7b26\u5408\u5b83\u4eec\u7684\u89c4\u8303\uff0c\u5e76\u4e14\u901a\u8fc7\u6d4b\u8bd5\uff0c\u624d\u80fd\u88ab\u5408\u5e76\uff0c\u7a0d\u540e\u5c31\u4f1a\u88ab\u81ea\u52a8\u53d1\u5e03\u5230 @types \u4e0b\u3002","title":"\u5c06\u58f0\u660e\u6587\u4ef6\u53d1\u5e03\u5230 @types \u4e0b"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#10","text":"JavaScript \u4e2d\u6709\u5f88\u591a \u5185\u7f6e\u5bf9\u8c61 \uff0c\u5b83\u4eec\u53ef\u4ee5\u76f4\u63a5\u5728 TypeScript \u4e2d\u5f53\u505a\u5b9a\u4e49\u597d\u4e86\u7684\u7c7b\u578b\u3002 \u5185\u7f6e\u5bf9\u8c61\u662f\u6307\u6839\u636e\u6807\u51c6\u5728\u5168\u5c40\u4f5c\u7528\u57df\uff08Global\uff09\u4e0a\u5b58\u5728\u7684\u5bf9\u8c61\u3002\u8fd9\u91cc\u7684\u6807\u51c6\u662f\u6307 ECMAScript \u548c\u5176\u4ed6\u73af\u5883\uff08\u6bd4\u5982 DOM\uff09\u7684\u6807\u51c6\u3002","title":"10.\u5185\u7f6e\u5bf9\u8c61"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#ecmascript","text":"ECMAScript \u6807\u51c6\u63d0\u4f9b\u7684\u5185\u7f6e\u5bf9\u8c61\u6709\uff1a Boolean \u3001 Error \u3001 Date \u3001 RegExp \u7b49\u3002 \u6211\u4eec\u53ef\u4ee5\u5728 TypeScript \u4e2d\u5c06\u53d8\u91cf\u5b9a\u4e49\u4e3a\u8fd9\u4e9b\u7c7b\u578b\uff1a let b : Boolean = new Boolean ( 1 ); let e : Error = new Error ( 'Error occurred' ); let d : Date = new Date (); let r : RegExp = /[a-z]/ ;","title":"ECMAScript \u7684\u5185\u7f6e\u5bf9\u8c61"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#dom-bom","text":"DOM \u548c BOM \u63d0\u4f9b\u7684\u5185\u7f6e\u5bf9\u8c61\u6709\uff1a Document \u3001 HTMLElement \u3001 Event \u3001 NodeList \u7b49\u3002 TypeScript \u4e2d\u4f1a\u7ecf\u5e38\u7528\u5230\u8fd9\u4e9b\u7c7b\u578b\uff1a let body : HTMLElement = document . body ; let allDiv : NodeList = document . querySelectorAll ( 'div' ); document . addEventListener ( 'click' , function ( e : MouseEvent ) { // Do something });","title":"DOM \u548c BOM \u7684\u5185\u7f6e\u5bf9\u8c61"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#typescript","text":"TypeScript \u6838\u5fc3\u5e93\u7684\u5b9a\u4e49\u6587\u4ef6 \u4e2d\u5b9a\u4e49\u4e86\u6240\u6709\u6d4f\u89c8\u5668\u73af\u5883\u9700\u8981\u7528\u5230\u7684\u7c7b\u578b\uff0c\u5e76\u4e14\u662f\u9884\u7f6e\u5728 TypeScript \u4e2d\u7684\u3002 \u5f53\u4f60\u5728\u4f7f\u7528\u4e00\u4e9b\u5e38\u7528\u7684\u65b9\u6cd5\u7684\u65f6\u5019\uff0cTypeScript \u5b9e\u9645\u4e0a\u5df2\u7ecf\u5e2e\u4f60\u505a\u4e86\u5f88\u591a\u7c7b\u578b\u5224\u65ad\u7684\u5de5\u4f5c\u4e86\uff0c\u6bd4\u5982\uff1a Math . pow ( 10 , '2' ); // index.ts(1,14): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'. \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c Math.pow \u5fc5\u987b\u63a5\u53d7\u4e24\u4e2a number \u7c7b\u578b\u7684\u53c2\u6570\u3002\u4e8b\u5b9e\u4e0a Math.pow \u7684\u7c7b\u578b\u5b9a\u4e49\u5982\u4e0b\uff1a interface Math { /** * Returns the value of a base expression taken to a specified power. * @param x The base value of the expression. * @param y The exponent value of the expression. */ pow ( x : number , y : number ) : number ; } \u518d\u4e3e\u4e00\u4e2a DOM \u4e2d\u7684\u4f8b\u5b50\uff1a document . addEventListener ( 'click' , function ( e ) { console . log ( e . targetCurrent ); }); // index.ts(2,17): error TS2339: Property 'targetCurrent' does not exist on type 'MouseEvent'. \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c addEventListener \u65b9\u6cd5\u662f\u5728 TypeScript \u6838\u5fc3\u5e93\u4e2d\u5b9a\u4e49\u7684\uff1a interface Document extends Node , GlobalEventHandlers , NodeSelector , DocumentEvent { addEventListener ( type : string , listener : ( ev : MouseEvent ) => any , useCapture? : boolean ) : void ; } \u6240\u4ee5 e \u88ab\u63a8\u65ad\u6210\u4e86 MouseEvent \uff0c\u800c MouseEvent \u662f\u6ca1\u6709 targetCurrent \u5c5e\u6027\u7684\uff0c\u6240\u4ee5\u62a5\u9519\u4e86\u3002 \u6ce8\u610f\uff0cTypeScript \u6838\u5fc3\u5e93\u7684\u5b9a\u4e49\u4e2d\u4e0d\u5305\u542b Node.js \u90e8\u5206\u3002","title":"TypeScript \u6838\u5fc3\u5e93\u7684\u5b9a\u4e49\u6587\u4ef6"},{"location":"typescript/02-%E5%9F%BA%E7%A1%80/#typescript-nodejs","text":"Node.js \u4e0d\u662f\u5185\u7f6e\u5bf9\u8c61\u7684\u4e00\u90e8\u5206\uff0c\u5982\u679c\u60f3\u7528 TypeScript \u5199 Node.js\uff0c\u5219\u9700\u8981\u5f15\u5165\u7b2c\u4e09\u65b9\u58f0\u660e\u6587\u4ef6\uff1a npm install @types/node --save-dev","title":"\u7528 TypeScript \u5199 Node.js"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/","text":"JavaScript\u8fc1\u79fb \u00b6 TypeScript\u4e0d\u662f\u5b58\u5728\u4e8e\u771f\u7a7a\u4e2d\u3002 \u5b83\u4eceJavaScript\u751f\u6001\u7cfb\u7edf\u548c\u5927\u91cf\u73b0\u5b58\u7684JavaScript\u800c\u6765\u3002 \u5c06JavaScript\u4ee3\u7801\u8f6c\u6362\u6210TypeScript\u867d\u4e4f\u5473\u5374\u4e0d\u662f\u96be\u4e8b\u3002 \u63a5\u4e0b\u6765\u8fd9\u7bc7\u6559\u7a0b\u5c06\u6559\u4f60\u600e\u4e48\u505a\u3002 \u5728\u5f00\u59cb\u8f6c\u6362TypeScript\u4e4b\u524d\uff0c\u6211\u4eec\u5047\u8bbe\u4f60\u5df2\u7ecf\u7406\u89e3\u4e86\u8db3\u591f\u591a\u672c\u624b\u518c\u91cc\u7684\u5185\u5bb9\u3002 \u8bbe\u7f6e\u76ee\u5f55 \u00b6 \u5982\u679c\u4f60\u5728\u5199\u7eafJavaScript\uff0c\u4f60\u5927\u6982\u662f\u60f3\u76f4\u63a5\u8fd0\u884c\u8fd9\u4e9bJavaScript\u6587\u4ef6\uff0c \u8fd9\u4e9b\u6587\u4ef6\u5b58\u5728\u4e8e src \uff0c lib \u6216 dist \u76ee\u5f55\u91cc\uff0c\u5b83\u4eec\u53ef\u4ee5\u6309\u7167\u9884\u60f3\u8fd0\u884c\u3002 \u82e5\u5982\u6b64\uff0c\u90a3\u4e48\u4f60\u5199\u7684\u7eafJavaScript\u6587\u4ef6\u5c06\u505a\u4e3aTypeScript\u7684\u8f93\u5165\uff0c\u4f60\u5c06\u8981\u8fd0\u884c\u7684\u662fTypeScript\u7684\u8f93\u51fa\u3002 \u5728\u4eceJS\u5230TS\u7684\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u4f1a\u5206\u79bb\u8f93\u5165\u6587\u4ef6\u4ee5\u9632TypeScript\u8986\u76d6\u5b83\u4eec\u3002 \u4f60\u4e5f\u53ef\u4ee5\u6307\u5b9a\u8f93\u51fa\u76ee\u5f55\u3002 \u4f60\u53ef\u80fd\u8fd8\u9700\u8981\u5bf9JavaScript\u505a\u4e00\u4e9b\u4e2d\u95f4\u5904\u7406\uff0c\u6bd4\u5982\u5408\u5e76\u6216\u7ecf\u8fc7Babel\u518d\u6b21\u7f16\u8bd1\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u5e94\u8be5\u5df2\u7ecf\u6709\u4e86\u5982\u4e0b\u7684\u76ee\u5f55\u7ed3\u6784\u3002 \u90a3\u4e48\u73b0\u5728\uff0c\u6211\u4eec\u5047\u8bbe\u4f60\u5df2\u7ecf\u8bbe\u7f6e\u4e86\u8fd9\u6837\u7684\u76ee\u5f55\u7ed3\u6784\uff1a projectRoot \u251c\u2500\u2500 src \u2502 \u251c\u2500\u2500 file1.js \u2502 \u2514\u2500\u2500 file2.js \u251c\u2500\u2500 built \u2514\u2500\u2500 tsconfig.json \u5982\u679c\u4f60\u5728 src \u76ee\u5f55\u5916\u8fd8\u6709 tests \u6587\u4ef6\u5939\uff0c\u90a3\u4e48\u5728 src \u91cc\u53ef\u4ee5\u6709\u4e00\u4e2a tsconfig.json \u6587\u4ef6\uff0c\u5728 tests \u91cc\u8fd8\u53ef\u4ee5\u6709\u4e00\u4e2a\u3002 \u4e66\u5199\u914d\u7f6e\u6587\u4ef6 \u00b6 TypeScript\u4f7f\u7528 tsconfig.json \u6587\u4ef6\u7ba1\u7406\u5de5\u7a0b\u914d\u7f6e\uff0c\u4f8b\u5982\u4f60\u60f3\u5305\u542b\u54ea\u4e9b\u6587\u4ef6\u548c\u8fdb\u884c\u54ea\u4e9b\u68c0\u67e5\u3002 \u8ba9\u6211\u4eec\u5148\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684\u5de5\u7a0b\u914d\u7f6e\u6587\u4ef6\uff1a { \"compilerOptions\": { \"outDir\": \"./built\", \"allowJs\": true, \"target\": \"es5\" }, \"include\": [ \"./src/**/*\" ] } \u8fd9\u91cc\u6211\u4eec\u4e3aTypeScript\u8bbe\u7f6e\u4e86\u4e00\u4e9b\u4e1c\u897f: \u8bfb\u53d6\u6240\u6709\u53ef\u8bc6\u522b\u7684 src \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\uff08\u901a\u8fc7 include \uff09\u3002 \u63a5\u53d7JavaScript\u505a\u4e3a\u8f93\u5165\uff08\u901a\u8fc7 allowJs \uff09\u3002 \u751f\u6210\u7684\u6240\u6709\u6587\u4ef6\u653e\u5728 built \u76ee\u5f55\u4e0b\uff08\u901a\u8fc7 outDir \uff09\u3002 \u5c06JavaScript\u4ee3\u7801\u964d\u7ea7\u5230\u4f4e\u7248\u672c\u6bd4\u5982ECMAScript 5\uff08\u901a\u8fc7 target \uff09\u3002 \u73b0\u5728\uff0c\u5982\u679c\u4f60\u5728\u5de5\u7a0b\u6839\u76ee\u5f55\u4e0b\u8fd0\u884c tsc \uff0c\u5c31\u53ef\u4ee5\u5728 built \u76ee\u5f55\u4e0b\u770b\u5230\u751f\u6210\u7684\u6587\u4ef6\u3002 built \u4e0b\u7684\u6587\u4ef6\u5e94\u8be5\u4e0e src \u4e0b\u7684\u6587\u4ef6\u76f8\u540c\u3002 \u73b0\u5728\u4f60\u7684\u5de5\u7a0b\u91cc\u7684TypeScript\u5df2\u7ecf\u53ef\u4ee5\u5de5\u4f5c\u4e86\u3002 \u65e9\u671f\u6536\u76ca \u00b6 \u73b0\u5728\u4f60\u5df2\u7ecf\u53ef\u4ee5\u770b\u5230TypeScript\u5e26\u6765\u7684\u597d\u5904\uff0c\u5b83\u80fd\u5e2e\u52a9\u6211\u4eec\u7406\u89e3\u5f53\u524d\u5de5\u7a0b\u3002 \u5982\u679c\u4f60\u6253\u5f00\u50cf VS Code \u6216 Visual Studio \u8fd9\u6837\u7684\u7f16\u8bd1\u5668\uff0c\u4f60\u5c31\u80fd\u4f7f\u7528\u50cf\u81ea\u52a8\u8865\u5168\u8fd9\u6837\u7684\u5de5\u5177\u3002 \u4f60\u8fd8\u53ef\u4ee5\u914d\u7f6e\u5982\u4e0b\u7684\u9009\u9879\u6765\u5e2e\u52a9\u67e5\u627eBUG\uff1a noImplicitReturns \u4f1a\u9632\u6b62\u4f60\u5fd8\u8bb0\u5728\u51fd\u6570\u672b\u5c3e\u8fd4\u56de\u503c\u3002 noFallthroughCasesInSwitch \u4f1a\u9632\u6b62\u5728 switch \u4ee3\u7801\u5757\u91cc\u7684\u4e24\u4e2a case \u4e4b\u95f4\u5fd8\u8bb0\u6dfb\u52a0 break \u8bed\u53e5\u3002 TypeScript\u8fd8\u80fd\u53d1\u73b0\u90a3\u4e9b\u6267\u884c\u4e0d\u5230\u7684\u4ee3\u7801\u548c\u6807\u7b7e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e allowUnreachableCode \u548c allowUnusedLabels \u9009\u9879\u6765\u7981\u7528\u3002 \u4e0e\u6784\u5efa\u5de5\u5177\u8fdb\u884c\u96c6\u6210 \u00b6 \u5728\u4f60\u7684\u6784\u5efa\u7ba1\u9053\u4e2d\u53ef\u80fd\u5305\u542b\u591a\u4e2a\u6b65\u9aa4\u3002 \u6bd4\u5982\u4e3a\u6bcf\u4e2a\u6587\u4ef6\u6dfb\u52a0\u4e00\u4e9b\u5185\u5bb9\u3002 \u6bcf\u79cd\u5de5\u5177\u7684\u4f7f\u7528\u65b9\u6cd5\u90fd\u662f\u4e0d\u540c\u7684\uff0c\u6211\u4eec\u4f1a\u5c3d\u53ef\u80fd\u7684\u5305\u6db5\u4e3b\u6d41\u7684\u5de5\u5177\u3002 Gulp \u00b6 \u5982\u679c\u4f60\u5728\u4f7f\u7528\u65f6\u9ae6\u7684Gulp\uff0c\u6211\u4eec\u5df2\u7ecf\u6709\u4e00\u7bc7\u5173\u4e8e \u4f7f\u7528Gulp \u7ed3\u5408TypeScript\u5e76\u4e0e\u5e38\u89c1\u6784\u5efa\u5de5\u5177Browserify\uff0cBabelify\u548cUglify\u8fdb\u884c\u96c6\u6210\u7684\u6559\u7a0b\u3002 \u8bf7\u9605\u8bfb\u8fd9\u7bc7\u6559\u7a0b\u3002 Webpack \u00b6 Webpack\u96c6\u6210\u975e\u5e38\u7b80\u5355\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528 ts-loader \uff0c\u5b83\u662f\u4e00\u4e2aTypeScript\u7684\u52a0\u8f7d\u5668\uff0c\u7ed3\u5408 source-map-loader \u65b9\u4fbf\u8c03\u8bd5\u3002 \u8fd0\u884c\uff1a npm install ts-loader source-map-loader \u5e76\u5c06\u4e0b\u9762\u7684\u9009\u9879\u5408\u5e76\u5230\u4f60\u7684 webpack.config.js \u6587\u4ef6\u91cc\uff1a module.exports = { entry: \"./src/index.ts\", output: { filename: \"./dist/bundle.js\", }, // Enable sourcemaps for debugging webpack's output. devtool: \"source-map\", resolve: { // Add '.ts' and '.tsx' as resolvable extensions. extensions: [\"\", \".webpack.js\", \".web.js\", \".ts\", \".tsx\", \".js\"] }, module: { loaders: [ // All files with a '.ts' or '.tsx' extension will be handled by 'ts-loader'. { test: /\\.tsx?$/, loader: \"ts-loader\" } ], preLoaders: [ // All output '.js' files will have any sourcemaps re-processed by 'source-map-loader'. { test: /\\.js$/, loader: \"source-map-loader\" } ] }, // Other options... }; \u8981\u6ce8\u610f\u7684\u662f ts-loader \u5fc5\u987b\u5728\u5176\u5b83\u5904\u7406 .js \u6587\u4ef6\u7684\u52a0\u8f7d\u5668\u4e4b\u524d\u8fd0\u884c\u3002 \u4f60\u53ef\u4ee5\u5728 React\u548cWebpack\u6559\u7a0b \u91cc\u627e\u5230\u4f7f\u7528Webpack\u7684\u4f8b\u5b50\u3002 \u8f6c\u6362\u5230TypeScript\u6587\u4ef6 \u00b6 \u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u4f60\u5df2\u7ecf\u505a\u597d\u4e86\u4f7f\u7528TypeScript\u6587\u4ef6\u7684\u51c6\u5907\u3002 \u7b2c\u4e00\u6b65\uff0c\u5c06 .js \u6587\u4ef6\u91cd\u547d\u540d\u4e3a .ts \u6587\u4ef6\u3002 \u5982\u679c\u4f60\u4f7f\u7528\u4e86JSX\uff0c\u5219\u91cd\u547d\u540d\u4e3a .tsx \u6587\u4ef6\u3002 \u7b2c\u4e00\u6b65\u8fbe\u6210\uff1f \u592a\u68d2\u4e86! \u4f60\u5df2\u7ecf\u6210\u529f\u5730\u5c06\u4e00\u4e2a\u6587\u4ef6\u4eceJavaScript\u8f6c\u6362\u6210\u4e86TypeScript! \u5f53\u7136\u4e86\uff0c\u4f60\u53ef\u80fd\u611f\u89c9\u54ea\u91cc\u4e0d\u5bf9\u52b2\u513f\u3002 \u5982\u679c\u4f60\u5728\u652f\u6301TypeScript\u7684\u7f16\u8f91\u5668\uff08\u6216\u8fd0\u884c tsc --pretty \uff09\u91cc\u6253\u5f00\u4e86\u90a3\u4e2a\u6587\u4ef6\uff0c\u4f60\u53ef\u80fd\u4f1a\u770b\u5230\u6709\u4e9b\u884c\u4e0a\u6709\u7ea2\u8272\u7684\u6ce2\u6d6a\u7ebf\u3002 \u4f60\u53ef\u4ee5\u628a\u5b83\u4eec\u5f53\u505a\u5728Microsoft Word\u91cc\u770b\u5230\u7684\u7ea2\u8272\u6ce2\u6d6a\u7ebf\u4e00\u6837\u3002 \u4f46\u662fTypeScript\u4ecd\u7136\u4f1a\u7f16\u8bd1\u4f60\u7684\u4ee3\u7801\uff0c\u5c31\u597d\u6bd4Word\u8fd8\u662f\u5141\u8bb8\u4f60\u6253\u5370\u4f60\u7684\u6587\u6863\u4e00\u6837\u3002 \u5982\u679c\u5bf9\u4f60\u6765\u8bf4\u8fd9\u79cd\u884c\u4e3a\u592a\u968f\u4fbf\u4e86\uff0c\u4f60\u53ef\u4ee5\u8ba9\u5b83\u53d8\u5f97\u4e25\u683c\u4e9b\u3002 \u5982\u679c\uff0c\u4f60 *\u4e0d\u60f3*\u5728\u53d1\u751f\u9519\u8bef\u7684\u65f6\u5019\uff0cTypeScript\u8fd8\u4f1a\u88ab\u7f16\u8bd1\u6210JavaScript\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 noEmitOnError \u9009\u9879\u3002 \u4ece\u67d0\u79cd\u610f\u4e49\u4e0a\u6765\u8bb2\uff0cTypeScript\u5177\u6709\u4e00\u4e2a\u8c03\u6574\u5b83\u7684\u4e25\u683c\u6027\u7684\u523b\u5ea6\u76d8\uff0c\u4f60\u53ef\u4ee5\u5c06\u6307\u9488\u62d4\u52a8\u5230\u4f60\u60f3\u8981\u7684\u4f4d\u7f6e\u3002 \u5982\u679c\u4f60\u8ba1\u5212\u4f7f\u7528\u53ef\u7528\u7684\u9ad8\u5ea6\u4e25\u683c\u7684\u8bbe\u7f6e\uff0c\u6700\u597d\u73b0\u5728\u5c31\u542f\u7528\u5b83\u4eec\uff08\u67e5\u770b \u542f\u7528\u4e25\u683c\u68c0\u67e5 \uff09\u3002 \u6bd4\u5982\uff0c\u5982\u679c\u4f60\u4e0d\u60f3\u8ba9TypeScript\u5c06\u6ca1\u6709\u660e\u786e\u6307\u5b9a\u7684\u7c7b\u578b\u9ed8\u9ed8\u5730\u63a8\u65ad\u4e3a any \u7c7b\u578b\uff0c\u53ef\u4ee5\u5728\u4fee\u6539\u6587\u4ef6\u4e4b\u524d\u542f\u7528 noImplicitAny \u3002 \u4f60\u53ef\u80fd\u4f1a\u89c9\u5f97\u8fd9\u6709\u4e9b\u8fc7\u5ea6\u4e25\u683c\uff0c\u4f46\u662f\u957f\u671f\u6536\u76ca\u5f88\u5feb\u5c31\u80fd\u663e\u73b0\u51fa\u6765\u3002 \u53bb\u9664\u9519\u8bef \u00b6 \u6211\u4eec\u63d0\u5230\u8fc7\uff0c\u82e5\u4e0d\u51fa\u6240\u6599\uff0c\u5728\u8f6c\u6362\u540e\u5c06\u4f1a\u770b\u5230\u9519\u8bef\u4fe1\u606f\u3002 \u91cd\u8981\u7684\u662f\u6211\u4eec\u8981\u9010\u4e00\u7684\u67e5\u770b\u5b83\u4eec\u5e76\u51b3\u5b9a\u5982\u4f55\u5904\u7406\u3002 \u901a\u5e38\u8fd9\u4e9b\u90fd\u662f\u771f\u6b63\u7684BUG\uff0c\u4f46\u6709\u65f6\u5fc5\u987b\u8981\u544a\u8bc9TypeScript\u4f60\u8981\u505a\u7684\u662f\u4ec0\u4e48\u3002 \u7531\u6a21\u5757\u5bfc\u5165 \u00b6 \u9996\u5148\u4f60\u53ef\u80fd\u4f1a\u770b\u5230\u4e00\u4e9b\u7c7b\u4f3c Cannot find name 'require'. \u548c Cannot find name 'define'. \u7684\u9519\u8bef\u3002 \u9047\u5230\u8fd9\u79cd\u60c5\u51b5\u8bf4\u660e\u4f60\u5728\u4f7f\u7528\u6a21\u5757\u3002 \u4f60\u4ec5\u9700\u8981\u544a\u8bc9TypeScript\u5b83\u4eec\u662f\u5b58\u5728\u7684\uff1a // For Node/CommonJS declare function require(path: string): any; \u6216 // For RequireJS/AMD declare function define(...args: any[]): any; \u6700\u597d\u662f\u907f\u514d\u4f7f\u7528\u8fd9\u4e9b\u8c03\u7528\u800c\u6539\u7528TypeScript\u7684\u5bfc\u5165\u8bed\u6cd5\u3002 \u9996\u5148\uff0c\u4f60\u8981\u4f7f\u7528TypeScript\u7684 module \u6807\u8bb0\u6765\u542f\u7528\u4e00\u4e9b\u6a21\u5757\u7cfb\u7edf\u3002 \u53ef\u7528\u7684\u9009\u9879\u6709 commonjs \uff0c amd \uff0c system \uff0cand umd \u3002 \u5982\u679c\u4ee3\u7801\u91cc\u5b58\u5728\u4e0b\u9762\u7684Node/CommonJS\u4ee3\u7801\uff1a var foo = require(\"foo\"); foo.doStuff(); \u6216\u8005\u4e0b\u9762\u7684RequireJS/AMD\u4ee3\u7801\uff1a define([\"foo\"], function(foo) { foo.doStuff(); }) \u90a3\u4e48\u53ef\u4ee5\u5199\u505a\u4e0b\u9762\u7684TypeScript\u4ee3\u7801\uff1a import foo = require(\"foo\"); foo.doStuff(); \u83b7\u53d6\u58f0\u660e\u6587\u4ef6 \u00b6 \u5982\u679c\u4f60\u5f00\u59cb\u505a\u8f6c\u6362\u5230TypeScript\u5bfc\u5165\uff0c\u4f60\u53ef\u80fd\u4f1a\u9047\u5230 Cannot find module 'foo'. \u8fd9\u6837\u7684\u9519\u8bef\u3002 \u95ee\u9898\u51fa\u5728\u6ca1\u6709*\u58f0\u660e\u6587\u4ef6*\u6765\u63cf\u8ff0\u4f60\u7684\u4ee3\u7801\u5e93\u3002 \u5e78\u8fd0\u7684\u662f\u8fd9\u975e\u5e38\u7b80\u5355\u3002 \u5982\u679cTypeScript\u62a5\u6028\u50cf\u662f\u6ca1\u6709 lodash \u5305\uff0c\u90a3\u4f60\u53ea\u9700\u8fd9\u6837\u505a npm install -s @types/lodash \u5982\u679c\u4f60\u6ca1\u6709\u4f7f\u7528 commonjs \u6a21\u5757\u6a21\u5757\u9009\u9879\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u5c06 moduleResolution \u9009\u9879\u8bbe\u7f6e\u4e3a node \u3002 \u4e4b\u540e\uff0c\u4f60\u5e94\u8be5\u5c31\u53ef\u4ee5\u5bfc\u5165 lodash \u4e86\uff0c\u5e76\u4e14\u4f1a\u83b7\u5f97\u7cbe\u786e\u7684\u81ea\u52a8\u8865\u5168\u529f\u80fd\u3002 \u7531\u6a21\u5757\u5bfc\u51fa \u00b6 \u901a\u5e38\u6765\u8bb2\uff0c\u7531\u6a21\u5757\u5bfc\u51fa\u6d89\u53ca\u6dfb\u52a0\u5c5e\u6027\u5230 exports \u6216 module.exports \u3002 TypeScript\u5141\u8bb8\u4f60\u4f7f\u7528\u9876\u7ea7\u7684\u5bfc\u51fa\u8bed\u53e5\u3002 \u6bd4\u5982\uff0c\u4f60\u8981\u5bfc\u51fa\u4e0b\u9762\u7684\u51fd\u6570\uff1a module.exports.feedPets = function(pets) { // ... } \u90a3\u4e48\u4f60\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a export function feedPets(pets) { // ... } \u6709\u65f6\u4f60\u4f1a\u5b8c\u5168\u91cd\u5199\u5bfc\u51fa\u5bf9\u8c61\u3002 \u8fd9\u662f\u4e00\u4e2a\u5e38\u89c1\u6a21\u5f0f\uff0c\u8fd9\u4f1a\u5c06\u6a21\u5757\u53d8\u4e3a\u53ef\u7acb\u5373\u8c03\u7528\u7684\u6a21\u5757\uff1a var express = require(\"express\"); var app = express(); \u4e4b\u524d\u4f60\u53ef\u4ee5\u662f\u8fd9\u6837\u5199\u7684\uff1a function foo() { // ... } module.exports = foo; \u5728TypeScript\u91cc\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 export = \u6765\u4ee3\u66ff\u3002 function foo() { // ... } export = foo; \u8fc7\u591a\u6216\u8fc7\u5c11\u7684\u53c2\u6570 \u00b6 \u6709\u65f6\u4f60\u4f1a\u53d1\u73b0\u4f60\u5728\u8c03\u7528\u4e00\u4e2a\u5177\u6709\u8fc7\u591a\u6216\u8fc7\u5c11\u53c2\u6570\u7684\u51fd\u6570\u3002 \u901a\u5e38\uff0c\u8fd9\u662f\u4e00\u4e2aBUG\uff0c\u4f46\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5\u58f0\u660e\u4e00\u4e2a\u4f7f\u7528 arguments \u5bf9\u8c61\u7684\u51fd\u6570\u800c\u4e0d\u9700\u8981\u5199\u51fa\u6240\u6709\u53c2\u6570: function myCoolFunction() { if (arguments.length == 2 && !Array.isArray(arguments[1])) { var f = arguments[0]; var arr = arguments[1]; // ... } // ... } myCoolFunction(function(x) { console.log(x) }, [1, 2, 3, 4]); myCoolFunction(function(x) { console.log(x) }, 1, 2, 3, 4); \u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u5229\u7528TypeScript\u7684\u51fd\u6570\u91cd\u8f7d\u6765\u544a\u8bc9\u8c03\u7528\u8005 myCoolFunction \u51fd\u6570\u7684\u8c03\u7528\u65b9\u5f0f\u3002 function myCoolFunction(f: (x: number) => void, nums: number[]): void; function myCoolFunction(f: (x: number) => void, ...nums: number[]): void; function myCoolFunction() { if (arguments.length == 2 && !Array.isArray(arguments[1])) { var f = arguments[0]; var arr = arguments[1]; // ... } // ... } \u6211\u4eec\u4e3a myCoolFunction \u51fd\u6570\u6dfb\u52a0\u4e86\u4e24\u4e2a\u91cd\u8f7d\u7b7e\u540d\u3002 \u7b2c\u4e00\u4e2a\u68c0\u67e5 myCoolFunction \u51fd\u6570\u662f\u5426\u63a5\u6536\u4e00\u4e2a\u51fd\u6570\uff08\u5b83\u53c8\u63a5\u6536\u4e00\u4e2a number \u53c2\u6570\uff09\u548c\u4e00\u4e2a number \u6570\u7ec4\u3002 \u7b2c\u4e8c\u4e2a\u540c\u6837\u662f\u63a5\u6536\u4e86\u4e00\u4e2a\u51fd\u6570\uff0c\u5e76\u4e14\u4f7f\u7528\u5269\u4f59\u53c2\u6570\uff08 ...nums \uff09\u6765\u8868\u793a\u4e4b\u540e\u7684\u5176\u5b83\u6240\u6709\u53c2\u6570\u5fc5\u987b\u662f number \u7c7b\u578b\u3002 \u8fde\u7eed\u6dfb\u52a0\u5c5e\u6027 \u00b6 \u6709\u4e9b\u4eba\u53ef\u80fd\u4f1a\u56e0\u4e3a\u4ee3\u7801\u7f8e\u89c2\u6027\u800c\u559c\u6b22\u5148\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\u7136\u540e\u7acb\u5373\u6dfb\u52a0\u5c5e\u6027\uff1a var options = {}; options.color = \"red\"; options.volume = 11; TypeScript\u4f1a\u63d0\u793a\u4f60\u4e0d\u80fd\u7ed9 color \u548c volumn \u8d4b\u503c\uff0c\u56e0\u4e3a\u5148\u524d\u6307\u5b9a options \u7684\u7c7b\u578b\u4e3a {} \u5e76\u4e0d\u5e26\u6709\u4efb\u4f55\u5c5e\u6027\u3002 \u5982\u679c\u4f60\u5c06\u58f0\u660e\u53d8\u6210\u5bf9\u8c61\u5b57\u9762\u91cf\u7684\u5f62\u5f0f\u5c06\u4e0d\u4f1a\u4ea7\u751f\u9519\u8bef\uff1a let options = { color: \"red\", volume: 11 }; \u4f60\u8fd8\u53ef\u4ee5\u5b9a\u4e49 options \u7684\u7c7b\u578b\u5e76\u4e14\u6dfb\u52a0\u7c7b\u578b\u65ad\u8a00\u5230\u5bf9\u8c61\u5b57\u9762\u91cf\u4e0a\u3002 interface Options { color: string; volume: number } let options = {} as Options; options.color = \"red\"; options.volume = 11; \u6216\u8005\uff0c\u4f60\u53ef\u4ee5\u5c06 options \u6307\u5b9a\u6210 any \u7c7b\u578b\uff0c\u8fd9\u662f\u6700\u7b80\u5355\u7684\uff0c\u4f46\u4e5f\u662f\u83b7\u76ca\u6700\u5c11\u7684\u3002 any \uff0c Object \uff0c\u548c {} \u00b6 \u4f60\u53ef\u80fd\u4f1a\u8bd5\u56fe\u4f7f\u7528 Object \u6216 {} \u6765\u8868\u793a\u4e00\u4e2a\u503c\u53ef\u4ee5\u5177\u6709\u4efb\u610f\u5c5e\u6027\uff0c\u56e0\u4e3a Object \u662f\u6700\u901a\u7528\u7684\u7c7b\u578b\u3002 \u7136\u800c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b** any \u662f\u771f\u6b63\u60f3\u8981\u4f7f\u7528\u7684\u7c7b\u578b**\uff0c\u56e0\u4e3a\u5b83\u662f\u6700*\u7075\u6d3b*\u7684\u7c7b\u578b\u3002 \u6bd4\u5982\uff0c\u6709\u4e00\u4e2a Object \u7c7b\u578b\u7684\u4e1c\u897f\uff0c\u4f60\u5c06\u4e0d\u80fd\u591f\u5728\u5176\u4e0a\u8c03\u7528 toLowerCase() \u3002 \u8d8a\u666e\u901a\u610f\u5473\u7740\u66f4\u5c11\u7684\u5229\u7528\u7c7b\u578b\uff0c\u4f46\u662f any \u6bd4\u8f83\u7279\u6b8a\uff0c\u5b83\u662f\u6700\u666e\u901a\u7684\u7c7b\u578b\u4f46\u662f\u5141\u8bb8\u4f60\u5728\u4e0a\u9762\u505a\u4efb\u4f55\u4e8b\u60c5\u3002 \u4e5f\u5c31\u662f\u8bf4\u4f60\u53ef\u4ee5\u5728\u4e0a\u9762\u8c03\u7528\uff0c\u6784\u9020\u5b83\uff0c\u8bbf\u95ee\u5b83\u7684\u5c5e\u6027\u7b49\u7b49\u3002 \u8bb0\u4f4f\uff0c\u5f53\u4f60\u4f7f\u7528 any \u65f6\uff0c\u4f60\u4f1a\u5931\u53bb\u5927\u591a\u6570TypeScript\u63d0\u4f9b\u7684\u9519\u8bef\u68c0\u67e5\u548c\u7f16\u8bd1\u5668\u652f\u6301\u3002 \u5982\u679c\u4f60\u8fd8\u662f\u51b3\u5b9a\u4f7f\u7528 Object \u548c {} \uff0c\u4f60\u5e94\u8be5\u9009\u62e9 {} \u3002 \u867d\u8bf4\u5b83\u4eec\u57fa\u672c\u4e00\u6837\uff0c\u4f46\u662f\u4ece\u6280\u672f\u89d2\u5ea6\u4e0a\u6765\u8bb2 {} \u5728\u4e00\u4e9b\u6df1\u5965\u7684\u60c5\u51b5\u91cc\u6bd4 Object \u66f4\u666e\u901a\u3002 \u542f\u7528\u4e25\u683c\u68c0\u67e5 \u00b6 TypeScript\u63d0\u4f9b\u4e86\u4e00\u4e9b\u68c0\u67e5\u6765\u4fdd\u8bc1\u5b89\u5168\u4ee5\u53ca\u5e2e\u52a9\u5206\u6790\u4f60\u7684\u7a0b\u5e8f\u3002 \u5f53\u4f60\u5c06\u4ee3\u7801\u8f6c\u6362\u4e3a\u4e86TypeScript\u540e\uff0c\u4f60\u53ef\u4ee5\u542f\u7528\u8fd9\u4e9b\u68c0\u67e5\u6765\u5e2e\u52a9\u4f60\u83b7\u5f97\u9ad8\u5ea6\u5b89\u5168\u6027\u3002 \u6ca1\u6709\u9690\u5f0f\u7684 any \u00b6 \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0bTypeScript\u6ca1\u6cd5\u786e\u5b9a\u67d0\u4e9b\u503c\u7684\u7c7b\u578b\u3002 \u90a3\u4e48TypeScript\u4f1a\u4f7f\u7528 any \u7c7b\u578b\u4ee3\u66ff\u3002 \u8fd9\u5bf9\u4ee3\u7801\u8f6c\u6362\u6765\u8bb2\u662f\u4e0d\u9519\uff0c\u4f46\u662f\u4f7f\u7528 any \u610f\u5473\u7740\u5931\u53bb\u4e86\u7c7b\u578b\u5b89\u5168\u4fdd\u969c\uff0c\u5e76\u4e14\u4f60\u5f97\u4e0d\u5230\u5de5\u5177\u7684\u652f\u6301\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528 noImplicitAny \u9009\u9879\uff0c\u8ba9TypeScript\u6807\u8bb0\u51fa\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u7684\u5730\u65b9\uff0c\u5e76\u7ed9\u51fa\u4e00\u4e2a\u9519\u8bef\u3002 \u4e25\u683c\u7684 null \u4e0e undefined \u68c0\u67e5 \u00b6 \u9ed8\u8ba4\u5730\uff0cTypeScript\u628a null \u548c undefined \u5f53\u505a\u5c5e\u4e8e\u4efb\u4f55\u7c7b\u578b\u3002 \u8fd9\u5c31\u662f\u8bf4\uff0c\u58f0\u660e\u4e3a number \u7c7b\u578b\u7684\u503c\u53ef\u4ee5\u4e3a null \u548c undefined \u3002 \u56e0\u4e3a\u5728JavaScript\u548cTypeScript\u91cc\uff0c null \u548c undefined \u7ecf\u5e38\u4f1a\u5bfc\u81f4BUG\u7684\u4ea7\u751f\uff0c\u6240\u4ee5TypeScript\u5305\u542b\u4e86 strictNullChecks \u9009\u9879\u6765\u5e2e\u52a9\u6211\u4eec\u51cf\u5c11\u5bf9\u8fd9\u79cd\u60c5\u51b5\u7684\u62c5\u5fe7\u3002 \u5f53\u542f\u7528\u4e86 strictNullChecks \uff0c null \u548c undefined \u83b7\u5f97\u4e86\u5b83\u4eec\u81ea\u5df1\u5404\u81ea\u7684\u7c7b\u578b null \u548c undefined \u3002 \u5f53\u4efb\u4f55\u503c *\u53ef\u80fd*\u4e3a null \uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u8054\u5408\u7c7b\u578b\u3002 \u6bd4\u5982\uff0c\u67d0\u503c\u53ef\u80fd\u4e3a number \u6216 null \uff0c\u4f60\u53ef\u4ee5\u58f0\u660e\u5b83\u7684\u7c7b\u578b\u4e3a number | null \u3002 \u5047\u8bbe\u6709\u4e00\u4e2a\u503cTypeScript\u8ba4\u4e3a\u53ef\u4ee5\u4e3a null \u6216 undefined \uff0c\u4f46\u662f\u4f60\u66f4\u6e05\u695a\u5b83\u7684\u7c7b\u578b\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 ! \u540e\u7f00\u3002 declare var foo: string[] | null; foo.length; // error - 'foo' is possibly 'null' foo!.length; // okay - 'foo!' just has type 'string[]' \u8981\u5f53\u5fc3\uff0c\u5f53\u4f60\u4f7f\u7528 strictNullChecks \uff0c\u4f60\u7684\u4f9d\u8d56\u4e5f\u9700\u8981\u76f8\u5e94\u5730\u542f\u7528 strictNullChecks \u3002 this \u6ca1\u6709\u9690\u5f0f\u7684 any \u00b6 \u5f53\u4f60\u5728\u7c7b\u7684\u5916\u90e8\u4f7f\u7528 this \u5173\u952e\u5b57\u65f6\uff0c\u5b83\u4f1a\u9ed8\u8ba4\u83b7\u5f97 any \u7c7b\u578b\u3002 \u6bd4\u5982\uff0c\u5047\u8bbe\u6709\u4e00\u4e2a Point \u7c7b\uff0c\u5e76\u4e14\u6211\u4eec\u8981\u6dfb\u52a0\u4e00\u4e2a\u51fd\u6570\u505a\u4e3a\u5b83\u7684\u65b9\u6cd5\uff1a class Point { constructor(public x, public y) {} getDistance(p: Point) { let dx = p.x - this.x; let dy = p.y - this.y; return Math.sqrt(dx ** 2 + dy ** 2); } } // ... // Reopen the interface. interface Point { distanceFromOrigin(point: Point): number; } Point.prototype.distanceFromOrigin = function(point: Point) { return this.getDistance({ x: 0, y: 0}); } \u8fd9\u5c31\u4ea7\u751f\u4e86\u6211\u4eec\u4e0a\u9762\u63d0\u5230\u7684\u9519\u8bef - \u5982\u679c\u6211\u4eec\u9519\u8bef\u5730\u62fc\u5199\u4e86 getDistance \u5e76\u4e0d\u4f1a\u5f97\u5230\u4e00\u4e2a\u9519\u8bef\u3002 \u6b63\u56e0\u6b64\uff0cTypeScript\u6709 noImplicitThis \u9009\u9879\u3002 \u5f53\u8bbe\u7f6e\u4e86\u5b83\uff0cTypeScript\u4f1a\u4ea7\u751f\u4e00\u4e2a\u9519\u8bef\u5f53\u6ca1\u6709\u660e\u786e\u6307\u5b9a\u7c7b\u578b\uff08\u6216\u901a\u8fc7\u7c7b\u578b\u63a8\u65ad\uff09\u7684 this \u88ab\u4f7f\u7528\u65f6\u3002 \u89e3\u51b3\u7684\u65b9\u6cd5\u662f\u5728\u63a5\u53e3\u6216\u51fd\u6570\u4e0a\u4f7f\u7528\u6307\u5b9a\u4e86\u7c7b\u578b\u7684 this \u53c2\u6570\uff1a Point.prototype.distanceFromOrigin = function(this: Point, point: Point) { return this.getDistance({ x: 0, y: 0}); }","title":"03-JavaScript\u8fc1\u79fb.md"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#javascript","text":"TypeScript\u4e0d\u662f\u5b58\u5728\u4e8e\u771f\u7a7a\u4e2d\u3002 \u5b83\u4eceJavaScript\u751f\u6001\u7cfb\u7edf\u548c\u5927\u91cf\u73b0\u5b58\u7684JavaScript\u800c\u6765\u3002 \u5c06JavaScript\u4ee3\u7801\u8f6c\u6362\u6210TypeScript\u867d\u4e4f\u5473\u5374\u4e0d\u662f\u96be\u4e8b\u3002 \u63a5\u4e0b\u6765\u8fd9\u7bc7\u6559\u7a0b\u5c06\u6559\u4f60\u600e\u4e48\u505a\u3002 \u5728\u5f00\u59cb\u8f6c\u6362TypeScript\u4e4b\u524d\uff0c\u6211\u4eec\u5047\u8bbe\u4f60\u5df2\u7ecf\u7406\u89e3\u4e86\u8db3\u591f\u591a\u672c\u624b\u518c\u91cc\u7684\u5185\u5bb9\u3002","title":"JavaScript\u8fc1\u79fb"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#_1","text":"\u5982\u679c\u4f60\u5728\u5199\u7eafJavaScript\uff0c\u4f60\u5927\u6982\u662f\u60f3\u76f4\u63a5\u8fd0\u884c\u8fd9\u4e9bJavaScript\u6587\u4ef6\uff0c \u8fd9\u4e9b\u6587\u4ef6\u5b58\u5728\u4e8e src \uff0c lib \u6216 dist \u76ee\u5f55\u91cc\uff0c\u5b83\u4eec\u53ef\u4ee5\u6309\u7167\u9884\u60f3\u8fd0\u884c\u3002 \u82e5\u5982\u6b64\uff0c\u90a3\u4e48\u4f60\u5199\u7684\u7eafJavaScript\u6587\u4ef6\u5c06\u505a\u4e3aTypeScript\u7684\u8f93\u5165\uff0c\u4f60\u5c06\u8981\u8fd0\u884c\u7684\u662fTypeScript\u7684\u8f93\u51fa\u3002 \u5728\u4eceJS\u5230TS\u7684\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u4f1a\u5206\u79bb\u8f93\u5165\u6587\u4ef6\u4ee5\u9632TypeScript\u8986\u76d6\u5b83\u4eec\u3002 \u4f60\u4e5f\u53ef\u4ee5\u6307\u5b9a\u8f93\u51fa\u76ee\u5f55\u3002 \u4f60\u53ef\u80fd\u8fd8\u9700\u8981\u5bf9JavaScript\u505a\u4e00\u4e9b\u4e2d\u95f4\u5904\u7406\uff0c\u6bd4\u5982\u5408\u5e76\u6216\u7ecf\u8fc7Babel\u518d\u6b21\u7f16\u8bd1\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u5e94\u8be5\u5df2\u7ecf\u6709\u4e86\u5982\u4e0b\u7684\u76ee\u5f55\u7ed3\u6784\u3002 \u90a3\u4e48\u73b0\u5728\uff0c\u6211\u4eec\u5047\u8bbe\u4f60\u5df2\u7ecf\u8bbe\u7f6e\u4e86\u8fd9\u6837\u7684\u76ee\u5f55\u7ed3\u6784\uff1a projectRoot \u251c\u2500\u2500 src \u2502 \u251c\u2500\u2500 file1.js \u2502 \u2514\u2500\u2500 file2.js \u251c\u2500\u2500 built \u2514\u2500\u2500 tsconfig.json \u5982\u679c\u4f60\u5728 src \u76ee\u5f55\u5916\u8fd8\u6709 tests \u6587\u4ef6\u5939\uff0c\u90a3\u4e48\u5728 src \u91cc\u53ef\u4ee5\u6709\u4e00\u4e2a tsconfig.json \u6587\u4ef6\uff0c\u5728 tests \u91cc\u8fd8\u53ef\u4ee5\u6709\u4e00\u4e2a\u3002","title":"\u8bbe\u7f6e\u76ee\u5f55"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#_2","text":"TypeScript\u4f7f\u7528 tsconfig.json \u6587\u4ef6\u7ba1\u7406\u5de5\u7a0b\u914d\u7f6e\uff0c\u4f8b\u5982\u4f60\u60f3\u5305\u542b\u54ea\u4e9b\u6587\u4ef6\u548c\u8fdb\u884c\u54ea\u4e9b\u68c0\u67e5\u3002 \u8ba9\u6211\u4eec\u5148\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684\u5de5\u7a0b\u914d\u7f6e\u6587\u4ef6\uff1a { \"compilerOptions\": { \"outDir\": \"./built\", \"allowJs\": true, \"target\": \"es5\" }, \"include\": [ \"./src/**/*\" ] } \u8fd9\u91cc\u6211\u4eec\u4e3aTypeScript\u8bbe\u7f6e\u4e86\u4e00\u4e9b\u4e1c\u897f: \u8bfb\u53d6\u6240\u6709\u53ef\u8bc6\u522b\u7684 src \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\uff08\u901a\u8fc7 include \uff09\u3002 \u63a5\u53d7JavaScript\u505a\u4e3a\u8f93\u5165\uff08\u901a\u8fc7 allowJs \uff09\u3002 \u751f\u6210\u7684\u6240\u6709\u6587\u4ef6\u653e\u5728 built \u76ee\u5f55\u4e0b\uff08\u901a\u8fc7 outDir \uff09\u3002 \u5c06JavaScript\u4ee3\u7801\u964d\u7ea7\u5230\u4f4e\u7248\u672c\u6bd4\u5982ECMAScript 5\uff08\u901a\u8fc7 target \uff09\u3002 \u73b0\u5728\uff0c\u5982\u679c\u4f60\u5728\u5de5\u7a0b\u6839\u76ee\u5f55\u4e0b\u8fd0\u884c tsc \uff0c\u5c31\u53ef\u4ee5\u5728 built \u76ee\u5f55\u4e0b\u770b\u5230\u751f\u6210\u7684\u6587\u4ef6\u3002 built \u4e0b\u7684\u6587\u4ef6\u5e94\u8be5\u4e0e src \u4e0b\u7684\u6587\u4ef6\u76f8\u540c\u3002 \u73b0\u5728\u4f60\u7684\u5de5\u7a0b\u91cc\u7684TypeScript\u5df2\u7ecf\u53ef\u4ee5\u5de5\u4f5c\u4e86\u3002","title":"\u4e66\u5199\u914d\u7f6e\u6587\u4ef6"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#_3","text":"\u73b0\u5728\u4f60\u5df2\u7ecf\u53ef\u4ee5\u770b\u5230TypeScript\u5e26\u6765\u7684\u597d\u5904\uff0c\u5b83\u80fd\u5e2e\u52a9\u6211\u4eec\u7406\u89e3\u5f53\u524d\u5de5\u7a0b\u3002 \u5982\u679c\u4f60\u6253\u5f00\u50cf VS Code \u6216 Visual Studio \u8fd9\u6837\u7684\u7f16\u8bd1\u5668\uff0c\u4f60\u5c31\u80fd\u4f7f\u7528\u50cf\u81ea\u52a8\u8865\u5168\u8fd9\u6837\u7684\u5de5\u5177\u3002 \u4f60\u8fd8\u53ef\u4ee5\u914d\u7f6e\u5982\u4e0b\u7684\u9009\u9879\u6765\u5e2e\u52a9\u67e5\u627eBUG\uff1a noImplicitReturns \u4f1a\u9632\u6b62\u4f60\u5fd8\u8bb0\u5728\u51fd\u6570\u672b\u5c3e\u8fd4\u56de\u503c\u3002 noFallthroughCasesInSwitch \u4f1a\u9632\u6b62\u5728 switch \u4ee3\u7801\u5757\u91cc\u7684\u4e24\u4e2a case \u4e4b\u95f4\u5fd8\u8bb0\u6dfb\u52a0 break \u8bed\u53e5\u3002 TypeScript\u8fd8\u80fd\u53d1\u73b0\u90a3\u4e9b\u6267\u884c\u4e0d\u5230\u7684\u4ee3\u7801\u548c\u6807\u7b7e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e allowUnreachableCode \u548c allowUnusedLabels \u9009\u9879\u6765\u7981\u7528\u3002","title":"\u65e9\u671f\u6536\u76ca"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#_4","text":"\u5728\u4f60\u7684\u6784\u5efa\u7ba1\u9053\u4e2d\u53ef\u80fd\u5305\u542b\u591a\u4e2a\u6b65\u9aa4\u3002 \u6bd4\u5982\u4e3a\u6bcf\u4e2a\u6587\u4ef6\u6dfb\u52a0\u4e00\u4e9b\u5185\u5bb9\u3002 \u6bcf\u79cd\u5de5\u5177\u7684\u4f7f\u7528\u65b9\u6cd5\u90fd\u662f\u4e0d\u540c\u7684\uff0c\u6211\u4eec\u4f1a\u5c3d\u53ef\u80fd\u7684\u5305\u6db5\u4e3b\u6d41\u7684\u5de5\u5177\u3002","title":"\u4e0e\u6784\u5efa\u5de5\u5177\u8fdb\u884c\u96c6\u6210"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#gulp","text":"\u5982\u679c\u4f60\u5728\u4f7f\u7528\u65f6\u9ae6\u7684Gulp\uff0c\u6211\u4eec\u5df2\u7ecf\u6709\u4e00\u7bc7\u5173\u4e8e \u4f7f\u7528Gulp \u7ed3\u5408TypeScript\u5e76\u4e0e\u5e38\u89c1\u6784\u5efa\u5de5\u5177Browserify\uff0cBabelify\u548cUglify\u8fdb\u884c\u96c6\u6210\u7684\u6559\u7a0b\u3002 \u8bf7\u9605\u8bfb\u8fd9\u7bc7\u6559\u7a0b\u3002","title":"Gulp"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#webpack","text":"Webpack\u96c6\u6210\u975e\u5e38\u7b80\u5355\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528 ts-loader \uff0c\u5b83\u662f\u4e00\u4e2aTypeScript\u7684\u52a0\u8f7d\u5668\uff0c\u7ed3\u5408 source-map-loader \u65b9\u4fbf\u8c03\u8bd5\u3002 \u8fd0\u884c\uff1a npm install ts-loader source-map-loader \u5e76\u5c06\u4e0b\u9762\u7684\u9009\u9879\u5408\u5e76\u5230\u4f60\u7684 webpack.config.js \u6587\u4ef6\u91cc\uff1a module.exports = { entry: \"./src/index.ts\", output: { filename: \"./dist/bundle.js\", }, // Enable sourcemaps for debugging webpack's output. devtool: \"source-map\", resolve: { // Add '.ts' and '.tsx' as resolvable extensions. extensions: [\"\", \".webpack.js\", \".web.js\", \".ts\", \".tsx\", \".js\"] }, module: { loaders: [ // All files with a '.ts' or '.tsx' extension will be handled by 'ts-loader'. { test: /\\.tsx?$/, loader: \"ts-loader\" } ], preLoaders: [ // All output '.js' files will have any sourcemaps re-processed by 'source-map-loader'. { test: /\\.js$/, loader: \"source-map-loader\" } ] }, // Other options... }; \u8981\u6ce8\u610f\u7684\u662f ts-loader \u5fc5\u987b\u5728\u5176\u5b83\u5904\u7406 .js \u6587\u4ef6\u7684\u52a0\u8f7d\u5668\u4e4b\u524d\u8fd0\u884c\u3002 \u4f60\u53ef\u4ee5\u5728 React\u548cWebpack\u6559\u7a0b \u91cc\u627e\u5230\u4f7f\u7528Webpack\u7684\u4f8b\u5b50\u3002","title":"Webpack"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#typescript","text":"\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u4f60\u5df2\u7ecf\u505a\u597d\u4e86\u4f7f\u7528TypeScript\u6587\u4ef6\u7684\u51c6\u5907\u3002 \u7b2c\u4e00\u6b65\uff0c\u5c06 .js \u6587\u4ef6\u91cd\u547d\u540d\u4e3a .ts \u6587\u4ef6\u3002 \u5982\u679c\u4f60\u4f7f\u7528\u4e86JSX\uff0c\u5219\u91cd\u547d\u540d\u4e3a .tsx \u6587\u4ef6\u3002 \u7b2c\u4e00\u6b65\u8fbe\u6210\uff1f \u592a\u68d2\u4e86! \u4f60\u5df2\u7ecf\u6210\u529f\u5730\u5c06\u4e00\u4e2a\u6587\u4ef6\u4eceJavaScript\u8f6c\u6362\u6210\u4e86TypeScript! \u5f53\u7136\u4e86\uff0c\u4f60\u53ef\u80fd\u611f\u89c9\u54ea\u91cc\u4e0d\u5bf9\u52b2\u513f\u3002 \u5982\u679c\u4f60\u5728\u652f\u6301TypeScript\u7684\u7f16\u8f91\u5668\uff08\u6216\u8fd0\u884c tsc --pretty \uff09\u91cc\u6253\u5f00\u4e86\u90a3\u4e2a\u6587\u4ef6\uff0c\u4f60\u53ef\u80fd\u4f1a\u770b\u5230\u6709\u4e9b\u884c\u4e0a\u6709\u7ea2\u8272\u7684\u6ce2\u6d6a\u7ebf\u3002 \u4f60\u53ef\u4ee5\u628a\u5b83\u4eec\u5f53\u505a\u5728Microsoft Word\u91cc\u770b\u5230\u7684\u7ea2\u8272\u6ce2\u6d6a\u7ebf\u4e00\u6837\u3002 \u4f46\u662fTypeScript\u4ecd\u7136\u4f1a\u7f16\u8bd1\u4f60\u7684\u4ee3\u7801\uff0c\u5c31\u597d\u6bd4Word\u8fd8\u662f\u5141\u8bb8\u4f60\u6253\u5370\u4f60\u7684\u6587\u6863\u4e00\u6837\u3002 \u5982\u679c\u5bf9\u4f60\u6765\u8bf4\u8fd9\u79cd\u884c\u4e3a\u592a\u968f\u4fbf\u4e86\uff0c\u4f60\u53ef\u4ee5\u8ba9\u5b83\u53d8\u5f97\u4e25\u683c\u4e9b\u3002 \u5982\u679c\uff0c\u4f60 *\u4e0d\u60f3*\u5728\u53d1\u751f\u9519\u8bef\u7684\u65f6\u5019\uff0cTypeScript\u8fd8\u4f1a\u88ab\u7f16\u8bd1\u6210JavaScript\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 noEmitOnError \u9009\u9879\u3002 \u4ece\u67d0\u79cd\u610f\u4e49\u4e0a\u6765\u8bb2\uff0cTypeScript\u5177\u6709\u4e00\u4e2a\u8c03\u6574\u5b83\u7684\u4e25\u683c\u6027\u7684\u523b\u5ea6\u76d8\uff0c\u4f60\u53ef\u4ee5\u5c06\u6307\u9488\u62d4\u52a8\u5230\u4f60\u60f3\u8981\u7684\u4f4d\u7f6e\u3002 \u5982\u679c\u4f60\u8ba1\u5212\u4f7f\u7528\u53ef\u7528\u7684\u9ad8\u5ea6\u4e25\u683c\u7684\u8bbe\u7f6e\uff0c\u6700\u597d\u73b0\u5728\u5c31\u542f\u7528\u5b83\u4eec\uff08\u67e5\u770b \u542f\u7528\u4e25\u683c\u68c0\u67e5 \uff09\u3002 \u6bd4\u5982\uff0c\u5982\u679c\u4f60\u4e0d\u60f3\u8ba9TypeScript\u5c06\u6ca1\u6709\u660e\u786e\u6307\u5b9a\u7684\u7c7b\u578b\u9ed8\u9ed8\u5730\u63a8\u65ad\u4e3a any \u7c7b\u578b\uff0c\u53ef\u4ee5\u5728\u4fee\u6539\u6587\u4ef6\u4e4b\u524d\u542f\u7528 noImplicitAny \u3002 \u4f60\u53ef\u80fd\u4f1a\u89c9\u5f97\u8fd9\u6709\u4e9b\u8fc7\u5ea6\u4e25\u683c\uff0c\u4f46\u662f\u957f\u671f\u6536\u76ca\u5f88\u5feb\u5c31\u80fd\u663e\u73b0\u51fa\u6765\u3002","title":"\u8f6c\u6362\u5230TypeScript\u6587\u4ef6"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#_5","text":"\u6211\u4eec\u63d0\u5230\u8fc7\uff0c\u82e5\u4e0d\u51fa\u6240\u6599\uff0c\u5728\u8f6c\u6362\u540e\u5c06\u4f1a\u770b\u5230\u9519\u8bef\u4fe1\u606f\u3002 \u91cd\u8981\u7684\u662f\u6211\u4eec\u8981\u9010\u4e00\u7684\u67e5\u770b\u5b83\u4eec\u5e76\u51b3\u5b9a\u5982\u4f55\u5904\u7406\u3002 \u901a\u5e38\u8fd9\u4e9b\u90fd\u662f\u771f\u6b63\u7684BUG\uff0c\u4f46\u6709\u65f6\u5fc5\u987b\u8981\u544a\u8bc9TypeScript\u4f60\u8981\u505a\u7684\u662f\u4ec0\u4e48\u3002","title":"\u53bb\u9664\u9519\u8bef"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#_6","text":"\u9996\u5148\u4f60\u53ef\u80fd\u4f1a\u770b\u5230\u4e00\u4e9b\u7c7b\u4f3c Cannot find name 'require'. \u548c Cannot find name 'define'. \u7684\u9519\u8bef\u3002 \u9047\u5230\u8fd9\u79cd\u60c5\u51b5\u8bf4\u660e\u4f60\u5728\u4f7f\u7528\u6a21\u5757\u3002 \u4f60\u4ec5\u9700\u8981\u544a\u8bc9TypeScript\u5b83\u4eec\u662f\u5b58\u5728\u7684\uff1a // For Node/CommonJS declare function require(path: string): any; \u6216 // For RequireJS/AMD declare function define(...args: any[]): any; \u6700\u597d\u662f\u907f\u514d\u4f7f\u7528\u8fd9\u4e9b\u8c03\u7528\u800c\u6539\u7528TypeScript\u7684\u5bfc\u5165\u8bed\u6cd5\u3002 \u9996\u5148\uff0c\u4f60\u8981\u4f7f\u7528TypeScript\u7684 module \u6807\u8bb0\u6765\u542f\u7528\u4e00\u4e9b\u6a21\u5757\u7cfb\u7edf\u3002 \u53ef\u7528\u7684\u9009\u9879\u6709 commonjs \uff0c amd \uff0c system \uff0cand umd \u3002 \u5982\u679c\u4ee3\u7801\u91cc\u5b58\u5728\u4e0b\u9762\u7684Node/CommonJS\u4ee3\u7801\uff1a var foo = require(\"foo\"); foo.doStuff(); \u6216\u8005\u4e0b\u9762\u7684RequireJS/AMD\u4ee3\u7801\uff1a define([\"foo\"], function(foo) { foo.doStuff(); }) \u90a3\u4e48\u53ef\u4ee5\u5199\u505a\u4e0b\u9762\u7684TypeScript\u4ee3\u7801\uff1a import foo = require(\"foo\"); foo.doStuff();","title":"\u7531\u6a21\u5757\u5bfc\u5165"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#_7","text":"\u5982\u679c\u4f60\u5f00\u59cb\u505a\u8f6c\u6362\u5230TypeScript\u5bfc\u5165\uff0c\u4f60\u53ef\u80fd\u4f1a\u9047\u5230 Cannot find module 'foo'. \u8fd9\u6837\u7684\u9519\u8bef\u3002 \u95ee\u9898\u51fa\u5728\u6ca1\u6709*\u58f0\u660e\u6587\u4ef6*\u6765\u63cf\u8ff0\u4f60\u7684\u4ee3\u7801\u5e93\u3002 \u5e78\u8fd0\u7684\u662f\u8fd9\u975e\u5e38\u7b80\u5355\u3002 \u5982\u679cTypeScript\u62a5\u6028\u50cf\u662f\u6ca1\u6709 lodash \u5305\uff0c\u90a3\u4f60\u53ea\u9700\u8fd9\u6837\u505a npm install -s @types/lodash \u5982\u679c\u4f60\u6ca1\u6709\u4f7f\u7528 commonjs \u6a21\u5757\u6a21\u5757\u9009\u9879\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u5c06 moduleResolution \u9009\u9879\u8bbe\u7f6e\u4e3a node \u3002 \u4e4b\u540e\uff0c\u4f60\u5e94\u8be5\u5c31\u53ef\u4ee5\u5bfc\u5165 lodash \u4e86\uff0c\u5e76\u4e14\u4f1a\u83b7\u5f97\u7cbe\u786e\u7684\u81ea\u52a8\u8865\u5168\u529f\u80fd\u3002","title":"\u83b7\u53d6\u58f0\u660e\u6587\u4ef6"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#_8","text":"\u901a\u5e38\u6765\u8bb2\uff0c\u7531\u6a21\u5757\u5bfc\u51fa\u6d89\u53ca\u6dfb\u52a0\u5c5e\u6027\u5230 exports \u6216 module.exports \u3002 TypeScript\u5141\u8bb8\u4f60\u4f7f\u7528\u9876\u7ea7\u7684\u5bfc\u51fa\u8bed\u53e5\u3002 \u6bd4\u5982\uff0c\u4f60\u8981\u5bfc\u51fa\u4e0b\u9762\u7684\u51fd\u6570\uff1a module.exports.feedPets = function(pets) { // ... } \u90a3\u4e48\u4f60\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a export function feedPets(pets) { // ... } \u6709\u65f6\u4f60\u4f1a\u5b8c\u5168\u91cd\u5199\u5bfc\u51fa\u5bf9\u8c61\u3002 \u8fd9\u662f\u4e00\u4e2a\u5e38\u89c1\u6a21\u5f0f\uff0c\u8fd9\u4f1a\u5c06\u6a21\u5757\u53d8\u4e3a\u53ef\u7acb\u5373\u8c03\u7528\u7684\u6a21\u5757\uff1a var express = require(\"express\"); var app = express(); \u4e4b\u524d\u4f60\u53ef\u4ee5\u662f\u8fd9\u6837\u5199\u7684\uff1a function foo() { // ... } module.exports = foo; \u5728TypeScript\u91cc\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 export = \u6765\u4ee3\u66ff\u3002 function foo() { // ... } export = foo;","title":"\u7531\u6a21\u5757\u5bfc\u51fa"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#_9","text":"\u6709\u65f6\u4f60\u4f1a\u53d1\u73b0\u4f60\u5728\u8c03\u7528\u4e00\u4e2a\u5177\u6709\u8fc7\u591a\u6216\u8fc7\u5c11\u53c2\u6570\u7684\u51fd\u6570\u3002 \u901a\u5e38\uff0c\u8fd9\u662f\u4e00\u4e2aBUG\uff0c\u4f46\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5\u58f0\u660e\u4e00\u4e2a\u4f7f\u7528 arguments \u5bf9\u8c61\u7684\u51fd\u6570\u800c\u4e0d\u9700\u8981\u5199\u51fa\u6240\u6709\u53c2\u6570: function myCoolFunction() { if (arguments.length == 2 && !Array.isArray(arguments[1])) { var f = arguments[0]; var arr = arguments[1]; // ... } // ... } myCoolFunction(function(x) { console.log(x) }, [1, 2, 3, 4]); myCoolFunction(function(x) { console.log(x) }, 1, 2, 3, 4); \u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u5229\u7528TypeScript\u7684\u51fd\u6570\u91cd\u8f7d\u6765\u544a\u8bc9\u8c03\u7528\u8005 myCoolFunction \u51fd\u6570\u7684\u8c03\u7528\u65b9\u5f0f\u3002 function myCoolFunction(f: (x: number) => void, nums: number[]): void; function myCoolFunction(f: (x: number) => void, ...nums: number[]): void; function myCoolFunction() { if (arguments.length == 2 && !Array.isArray(arguments[1])) { var f = arguments[0]; var arr = arguments[1]; // ... } // ... } \u6211\u4eec\u4e3a myCoolFunction \u51fd\u6570\u6dfb\u52a0\u4e86\u4e24\u4e2a\u91cd\u8f7d\u7b7e\u540d\u3002 \u7b2c\u4e00\u4e2a\u68c0\u67e5 myCoolFunction \u51fd\u6570\u662f\u5426\u63a5\u6536\u4e00\u4e2a\u51fd\u6570\uff08\u5b83\u53c8\u63a5\u6536\u4e00\u4e2a number \u53c2\u6570\uff09\u548c\u4e00\u4e2a number \u6570\u7ec4\u3002 \u7b2c\u4e8c\u4e2a\u540c\u6837\u662f\u63a5\u6536\u4e86\u4e00\u4e2a\u51fd\u6570\uff0c\u5e76\u4e14\u4f7f\u7528\u5269\u4f59\u53c2\u6570\uff08 ...nums \uff09\u6765\u8868\u793a\u4e4b\u540e\u7684\u5176\u5b83\u6240\u6709\u53c2\u6570\u5fc5\u987b\u662f number \u7c7b\u578b\u3002","title":"\u8fc7\u591a\u6216\u8fc7\u5c11\u7684\u53c2\u6570"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#_10","text":"\u6709\u4e9b\u4eba\u53ef\u80fd\u4f1a\u56e0\u4e3a\u4ee3\u7801\u7f8e\u89c2\u6027\u800c\u559c\u6b22\u5148\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\u7136\u540e\u7acb\u5373\u6dfb\u52a0\u5c5e\u6027\uff1a var options = {}; options.color = \"red\"; options.volume = 11; TypeScript\u4f1a\u63d0\u793a\u4f60\u4e0d\u80fd\u7ed9 color \u548c volumn \u8d4b\u503c\uff0c\u56e0\u4e3a\u5148\u524d\u6307\u5b9a options \u7684\u7c7b\u578b\u4e3a {} \u5e76\u4e0d\u5e26\u6709\u4efb\u4f55\u5c5e\u6027\u3002 \u5982\u679c\u4f60\u5c06\u58f0\u660e\u53d8\u6210\u5bf9\u8c61\u5b57\u9762\u91cf\u7684\u5f62\u5f0f\u5c06\u4e0d\u4f1a\u4ea7\u751f\u9519\u8bef\uff1a let options = { color: \"red\", volume: 11 }; \u4f60\u8fd8\u53ef\u4ee5\u5b9a\u4e49 options \u7684\u7c7b\u578b\u5e76\u4e14\u6dfb\u52a0\u7c7b\u578b\u65ad\u8a00\u5230\u5bf9\u8c61\u5b57\u9762\u91cf\u4e0a\u3002 interface Options { color: string; volume: number } let options = {} as Options; options.color = \"red\"; options.volume = 11; \u6216\u8005\uff0c\u4f60\u53ef\u4ee5\u5c06 options \u6307\u5b9a\u6210 any \u7c7b\u578b\uff0c\u8fd9\u662f\u6700\u7b80\u5355\u7684\uff0c\u4f46\u4e5f\u662f\u83b7\u76ca\u6700\u5c11\u7684\u3002","title":"\u8fde\u7eed\u6dfb\u52a0\u5c5e\u6027"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#anyobject","text":"\u4f60\u53ef\u80fd\u4f1a\u8bd5\u56fe\u4f7f\u7528 Object \u6216 {} \u6765\u8868\u793a\u4e00\u4e2a\u503c\u53ef\u4ee5\u5177\u6709\u4efb\u610f\u5c5e\u6027\uff0c\u56e0\u4e3a Object \u662f\u6700\u901a\u7528\u7684\u7c7b\u578b\u3002 \u7136\u800c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b** any \u662f\u771f\u6b63\u60f3\u8981\u4f7f\u7528\u7684\u7c7b\u578b**\uff0c\u56e0\u4e3a\u5b83\u662f\u6700*\u7075\u6d3b*\u7684\u7c7b\u578b\u3002 \u6bd4\u5982\uff0c\u6709\u4e00\u4e2a Object \u7c7b\u578b\u7684\u4e1c\u897f\uff0c\u4f60\u5c06\u4e0d\u80fd\u591f\u5728\u5176\u4e0a\u8c03\u7528 toLowerCase() \u3002 \u8d8a\u666e\u901a\u610f\u5473\u7740\u66f4\u5c11\u7684\u5229\u7528\u7c7b\u578b\uff0c\u4f46\u662f any \u6bd4\u8f83\u7279\u6b8a\uff0c\u5b83\u662f\u6700\u666e\u901a\u7684\u7c7b\u578b\u4f46\u662f\u5141\u8bb8\u4f60\u5728\u4e0a\u9762\u505a\u4efb\u4f55\u4e8b\u60c5\u3002 \u4e5f\u5c31\u662f\u8bf4\u4f60\u53ef\u4ee5\u5728\u4e0a\u9762\u8c03\u7528\uff0c\u6784\u9020\u5b83\uff0c\u8bbf\u95ee\u5b83\u7684\u5c5e\u6027\u7b49\u7b49\u3002 \u8bb0\u4f4f\uff0c\u5f53\u4f60\u4f7f\u7528 any \u65f6\uff0c\u4f60\u4f1a\u5931\u53bb\u5927\u591a\u6570TypeScript\u63d0\u4f9b\u7684\u9519\u8bef\u68c0\u67e5\u548c\u7f16\u8bd1\u5668\u652f\u6301\u3002 \u5982\u679c\u4f60\u8fd8\u662f\u51b3\u5b9a\u4f7f\u7528 Object \u548c {} \uff0c\u4f60\u5e94\u8be5\u9009\u62e9 {} \u3002 \u867d\u8bf4\u5b83\u4eec\u57fa\u672c\u4e00\u6837\uff0c\u4f46\u662f\u4ece\u6280\u672f\u89d2\u5ea6\u4e0a\u6765\u8bb2 {} \u5728\u4e00\u4e9b\u6df1\u5965\u7684\u60c5\u51b5\u91cc\u6bd4 Object \u66f4\u666e\u901a\u3002","title":"any\uff0cObject\uff0c\u548c{}"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#_11","text":"TypeScript\u63d0\u4f9b\u4e86\u4e00\u4e9b\u68c0\u67e5\u6765\u4fdd\u8bc1\u5b89\u5168\u4ee5\u53ca\u5e2e\u52a9\u5206\u6790\u4f60\u7684\u7a0b\u5e8f\u3002 \u5f53\u4f60\u5c06\u4ee3\u7801\u8f6c\u6362\u4e3a\u4e86TypeScript\u540e\uff0c\u4f60\u53ef\u4ee5\u542f\u7528\u8fd9\u4e9b\u68c0\u67e5\u6765\u5e2e\u52a9\u4f60\u83b7\u5f97\u9ad8\u5ea6\u5b89\u5168\u6027\u3002","title":"\u542f\u7528\u4e25\u683c\u68c0\u67e5"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#any","text":"\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0bTypeScript\u6ca1\u6cd5\u786e\u5b9a\u67d0\u4e9b\u503c\u7684\u7c7b\u578b\u3002 \u90a3\u4e48TypeScript\u4f1a\u4f7f\u7528 any \u7c7b\u578b\u4ee3\u66ff\u3002 \u8fd9\u5bf9\u4ee3\u7801\u8f6c\u6362\u6765\u8bb2\u662f\u4e0d\u9519\uff0c\u4f46\u662f\u4f7f\u7528 any \u610f\u5473\u7740\u5931\u53bb\u4e86\u7c7b\u578b\u5b89\u5168\u4fdd\u969c\uff0c\u5e76\u4e14\u4f60\u5f97\u4e0d\u5230\u5de5\u5177\u7684\u652f\u6301\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528 noImplicitAny \u9009\u9879\uff0c\u8ba9TypeScript\u6807\u8bb0\u51fa\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u7684\u5730\u65b9\uff0c\u5e76\u7ed9\u51fa\u4e00\u4e2a\u9519\u8bef\u3002","title":"\u6ca1\u6709\u9690\u5f0f\u7684any"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#nullundefined","text":"\u9ed8\u8ba4\u5730\uff0cTypeScript\u628a null \u548c undefined \u5f53\u505a\u5c5e\u4e8e\u4efb\u4f55\u7c7b\u578b\u3002 \u8fd9\u5c31\u662f\u8bf4\uff0c\u58f0\u660e\u4e3a number \u7c7b\u578b\u7684\u503c\u53ef\u4ee5\u4e3a null \u548c undefined \u3002 \u56e0\u4e3a\u5728JavaScript\u548cTypeScript\u91cc\uff0c null \u548c undefined \u7ecf\u5e38\u4f1a\u5bfc\u81f4BUG\u7684\u4ea7\u751f\uff0c\u6240\u4ee5TypeScript\u5305\u542b\u4e86 strictNullChecks \u9009\u9879\u6765\u5e2e\u52a9\u6211\u4eec\u51cf\u5c11\u5bf9\u8fd9\u79cd\u60c5\u51b5\u7684\u62c5\u5fe7\u3002 \u5f53\u542f\u7528\u4e86 strictNullChecks \uff0c null \u548c undefined \u83b7\u5f97\u4e86\u5b83\u4eec\u81ea\u5df1\u5404\u81ea\u7684\u7c7b\u578b null \u548c undefined \u3002 \u5f53\u4efb\u4f55\u503c *\u53ef\u80fd*\u4e3a null \uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u8054\u5408\u7c7b\u578b\u3002 \u6bd4\u5982\uff0c\u67d0\u503c\u53ef\u80fd\u4e3a number \u6216 null \uff0c\u4f60\u53ef\u4ee5\u58f0\u660e\u5b83\u7684\u7c7b\u578b\u4e3a number | null \u3002 \u5047\u8bbe\u6709\u4e00\u4e2a\u503cTypeScript\u8ba4\u4e3a\u53ef\u4ee5\u4e3a null \u6216 undefined \uff0c\u4f46\u662f\u4f60\u66f4\u6e05\u695a\u5b83\u7684\u7c7b\u578b\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 ! \u540e\u7f00\u3002 declare var foo: string[] | null; foo.length; // error - 'foo' is possibly 'null' foo!.length; // okay - 'foo!' just has type 'string[]' \u8981\u5f53\u5fc3\uff0c\u5f53\u4f60\u4f7f\u7528 strictNullChecks \uff0c\u4f60\u7684\u4f9d\u8d56\u4e5f\u9700\u8981\u76f8\u5e94\u5730\u542f\u7528 strictNullChecks \u3002","title":"\u4e25\u683c\u7684null\u4e0eundefined\u68c0\u67e5"},{"location":"typescript/03-JavaScript%E8%BF%81%E7%A7%BB/#thisany","text":"\u5f53\u4f60\u5728\u7c7b\u7684\u5916\u90e8\u4f7f\u7528 this \u5173\u952e\u5b57\u65f6\uff0c\u5b83\u4f1a\u9ed8\u8ba4\u83b7\u5f97 any \u7c7b\u578b\u3002 \u6bd4\u5982\uff0c\u5047\u8bbe\u6709\u4e00\u4e2a Point \u7c7b\uff0c\u5e76\u4e14\u6211\u4eec\u8981\u6dfb\u52a0\u4e00\u4e2a\u51fd\u6570\u505a\u4e3a\u5b83\u7684\u65b9\u6cd5\uff1a class Point { constructor(public x, public y) {} getDistance(p: Point) { let dx = p.x - this.x; let dy = p.y - this.y; return Math.sqrt(dx ** 2 + dy ** 2); } } // ... // Reopen the interface. interface Point { distanceFromOrigin(point: Point): number; } Point.prototype.distanceFromOrigin = function(point: Point) { return this.getDistance({ x: 0, y: 0}); } \u8fd9\u5c31\u4ea7\u751f\u4e86\u6211\u4eec\u4e0a\u9762\u63d0\u5230\u7684\u9519\u8bef - \u5982\u679c\u6211\u4eec\u9519\u8bef\u5730\u62fc\u5199\u4e86 getDistance \u5e76\u4e0d\u4f1a\u5f97\u5230\u4e00\u4e2a\u9519\u8bef\u3002 \u6b63\u56e0\u6b64\uff0cTypeScript\u6709 noImplicitThis \u9009\u9879\u3002 \u5f53\u8bbe\u7f6e\u4e86\u5b83\uff0cTypeScript\u4f1a\u4ea7\u751f\u4e00\u4e2a\u9519\u8bef\u5f53\u6ca1\u6709\u660e\u786e\u6307\u5b9a\u7c7b\u578b\uff08\u6216\u901a\u8fc7\u7c7b\u578b\u63a8\u65ad\uff09\u7684 this \u88ab\u4f7f\u7528\u65f6\u3002 \u89e3\u51b3\u7684\u65b9\u6cd5\u662f\u5728\u63a5\u53e3\u6216\u51fd\u6570\u4e0a\u4f7f\u7528\u6307\u5b9a\u4e86\u7c7b\u578b\u7684 this \u53c2\u6570\uff1a Point.prototype.distanceFromOrigin = function(this: Point, point: Point) { return this.getDistance({ x: 0, y: 0}); }","title":"this\u6ca1\u6709\u9690\u5f0f\u7684any"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/","text":"\u8fdb\u9636 \u00b6 \u672c\u90e8\u5206\u4ecb\u7ecd\u4e00\u4e9b\u9ad8\u7ea7\u7684\u7c7b\u578b\u4e0e\u6280\u672f\uff0c\u5177\u4f53\u5185\u5bb9\u5305\u62ec\uff1a 1.\u7c7b\u578b\u522b\u540d \u00b6 \u7c7b\u578b\u522b\u540d\u7528\u6765\u7ed9\u4e00\u4e2a\u7c7b\u578b\u8d77\u4e2a\u65b0\u540d\u5b57\u3002\u7b80\u5355\u7684\u4f8b\u5b50 type Name = string ; type NameResolver = () => string ; type NameOrResolver = Name | NameResolver ; function getName ( n : NameOrResolver ) : Name { if ( typeof n === 'string' ) { return n ; } else { return n (); } } \u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528 type \u521b\u5efa\u7c7b\u578b\u522b\u540d\u3002\u7c7b\u578b\u522b\u540d\u5e38\u7528\u4e8e\u8054\u5408\u7c7b\u578b\u3002 2.\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b \u00b6 \u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b\u7528\u6765\u7ea6\u675f\u53d6\u503c\u53ea\u80fd\u662f\u67d0\u51e0\u4e2a\u5b57\u7b26\u4e32\u4e2d\u7684\u4e00\u4e2a\u3002 type EventNames = 'click' | 'scroll' | 'mousemove' ; function handleEvent ( ele : Element , event : EventNames ) { // do something } handleEvent ( document . getElementById ( 'hello' ), 'scroll' ); // \u6ca1\u95ee\u9898 handleEvent ( document . getElementById ( 'world' ), 'dblclick' ); // \u62a5\u9519\uff0cevent \u4e0d\u80fd\u4e3a 'dblclick' // index.ts(7,47): error TS2345: Argument of type '\"dblclick\"' is not assignable to parameter of type 'EventNames'. \u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528 type \u5b9a\u4e86\u4e00\u4e2a\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b EventNames \uff0c\u5b83\u53ea\u80fd\u53d6\u4e09\u79cd\u5b57\u7b26\u4e32\u4e2d\u7684\u4e00\u79cd\u3002 \u6ce8\u610f\uff0c \u7c7b\u578b\u522b\u540d\u4e0e\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b\u90fd\u662f\u4f7f\u7528 type \u8fdb\u884c\u5b9a\u4e49\u3002 3.\u5143\u7ec4 \u00b6 \u6570\u7ec4\u5408\u5e76\u4e86\u76f8\u540c\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u800c\u5143\u7ec4\uff08Tuple\uff09\u5408\u5e76\u4e86\u4e0d\u540c\u7c7b\u578b\u7684\u5bf9\u8c61\u3002 \u5143\u7ec4\u8d77\u6e90\u4e8e\u51fd\u6570\u7f16\u7a0b\u8bed\u8a00\uff08\u5982 F#\uff09\uff0c\u8fd9\u4e9b\u8bed\u8a00\u4e2d\u4f1a\u9891\u7e41\u4f7f\u7528\u5143\u7ec4\u3002 \u4f8b\u5b50 \u5b9a\u4e49\u4e00\u5bf9\u503c\u5206\u522b\u4e3a string \u548c number \u7684\u5143\u7ec4\uff1a let tom : [ string , number ] = [ 'Tom' , 25 ]; \u5f53\u8d4b\u503c\u6216\u8bbf\u95ee\u4e00\u4e2a\u5df2\u77e5\u7d22\u5f15\u7684\u5143\u7d20\u65f6\uff0c\u4f1a\u5f97\u5230\u6b63\u786e\u7684\u7c7b\u578b\uff1a let tom : [ string , number ]; tom [ 0 ] = 'Tom' ; tom [ 1 ] = 25 ; tom [ 0 ]. slice ( 1 ); tom [ 1 ]. toFixed ( 2 ); \u4e5f\u53ef\u4ee5\u53ea\u8d4b\u503c\u5176\u4e2d\u4e00\u9879\uff1a let tom : [ string , number ]; tom [ 0 ] = 'Tom' ; \u4f46\u662f\u5f53\u76f4\u63a5\u5bf9\u5143\u7ec4\u7c7b\u578b\u7684\u53d8\u91cf\u8fdb\u884c\u521d\u59cb\u5316\u6216\u8005\u8d4b\u503c\u7684\u65f6\u5019\uff0c\u9700\u8981\u63d0\u4f9b\u6240\u6709\u5143\u7ec4\u7c7b\u578b\u4e2d\u6307\u5b9a\u7684\u9879\u3002 let tom : [ string , number ]; tom = [ 'Tom' , 25 ]; let tom : [ string , number ]; tom = [ 'Tom' ]; // Property '1' is missing in type '[string]' but required in type '[string, number]'. \u8d8a\u754c\u7684\u5143\u7d20\uff1a\u5f53\u6dfb\u52a0\u8d8a\u754c\u7684\u5143\u7d20\u65f6\uff0c\u5b83\u7684\u7c7b\u578b\u4f1a\u88ab\u9650\u5236\u4e3a\u5143\u7ec4\u4e2d\u6bcf\u4e2a\u7c7b\u578b\u7684\u8054\u5408\u7c7b\u578b\uff1a let tom : [ string , number ]; tom = [ 'Tom' , 25 ]; tom . push ( 'male' ); tom . push ( true ); // Argument of type 'true' is not assignable to parameter of type 'string | number'. 4.\u679a\u4e3e \u00b6 \u679a\u4e3e\uff08Enum\uff09\u7c7b\u578b\u7528\u4e8e\u53d6\u503c\u88ab\u9650\u5b9a\u5728\u4e00\u5b9a\u8303\u56f4\u5185\u7684\u573a\u666f\uff0c\u6bd4\u5982\u4e00\u5468\u53ea\u80fd\u6709\u4e03\u5929\uff0c\u989c\u8272\u9650\u5b9a\u4e3a\u7ea2\u7eff\u84dd\u7b49\u3002 \u4f8b\u5b50 \u679a\u4e3e\u4f7f\u7528 enum \u5173\u952e\u5b57\u6765\u5b9a\u4e49\uff1a enum Days { Sun , Mon , Tue , Wed , Thu , Fri , Sat }; \u679a\u4e3e\u6210\u5458\u4f1a\u88ab\u8d4b\u503c\u4e3a\u4ece 0 \u5f00\u59cb\u9012\u589e\u7684\u6570\u5b57\uff0c\u540c\u65f6\u4e5f\u4f1a\u5bf9\u679a\u4e3e\u503c\u5230\u679a\u4e3e\u540d\u8fdb\u884c\u53cd\u5411\u6620\u5c04\uff1a enum Days { Sun , Mon , Tue , Wed , Thu , Fri , Sat }; console . log ( Days [ \"Sun\" ] === 0 ); // true console . log ( Days [ \"Mon\" ] === 1 ); // true console . log ( Days [ \"Tue\" ] === 2 ); // true console . log ( Days [ \"Sat\" ] === 6 ); // true console . log ( Days [ 0 ] === \"Sun\" ); // true console . log ( Days [ 1 ] === \"Mon\" ); // true console . log ( Days [ 2 ] === \"Tue\" ); // true console . log ( Days [ 6 ] === \"Sat\" ); // true \u4e8b\u5b9e\u4e0a\uff0c\u4e0a\u9762\u7684\u4f8b\u5b50\u4f1a\u88ab\u7f16\u8bd1\u4e3a\uff1a var Days ; ( function ( Days ) { Days [ Days [ \"Sun\" ] = 0 ] = \"Sun\" ; Days [ Days [ \"Mon\" ] = 1 ] = \"Mon\" ; Days [ Days [ \"Tue\" ] = 2 ] = \"Tue\" ; Days [ Days [ \"Wed\" ] = 3 ] = \"Wed\" ; Days [ Days [ \"Thu\" ] = 4 ] = \"Thu\" ; Days [ Days [ \"Fri\" ] = 5 ] = \"Fri\" ; Days [ Days [ \"Sat\" ] = 6 ] = \"Sat\" ; })( Days || ( Days = {})); \u624b\u52a8\u8d4b\u503c \u00b6 \u6211\u4eec\u4e5f\u53ef\u4ee5\u7ed9\u679a\u4e3e\u9879\u624b\u52a8\u8d4b\u503c\uff1a enum Days { Sun = 7 , Mon = 1 , Tue , Wed , Thu , Fri , Sat }; console . log ( Days [ \"Sun\" ] === 7 ); // true console . log ( Days [ \"Mon\" ] === 1 ); // true console . log ( Days [ \"Tue\" ] === 2 ); // true console . log ( Days [ \"Sat\" ] === 6 ); // true \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u672a\u624b\u52a8\u8d4b\u503c\u7684\u679a\u4e3e\u9879\u4f1a\u63a5\u7740\u4e0a\u4e00\u4e2a\u679a\u4e3e\u9879\u9012\u589e\u3002 \u5982\u679c\u672a\u624b\u52a8\u8d4b\u503c\u7684\u679a\u4e3e\u9879\u4e0e\u624b\u52a8\u8d4b\u503c\u7684\u91cd\u590d\u4e86\uff0cTypeScript \u662f\u4e0d\u4f1a\u5bdf\u89c9\u5230\u8fd9\u4e00\u70b9\u7684\uff1a enum Days { Sun = 3 , Mon = 1 , Tue , Wed , Thu , Fri , Sat }; console . log ( Days [ \"Sun\" ] === 3 ); // true console . log ( Days [ \"Wed\" ] === 3 ); // true console . log ( Days [ 3 ] === \"Sun\" ); // false console . log ( Days [ 3 ] === \"Wed\" ); // true \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u9012\u589e\u5230 3 \u7684\u65f6\u5019\u4e0e\u524d\u9762\u7684 Sun \u7684\u53d6\u503c\u91cd\u590d\u4e86\uff0c\u4f46\u662f TypeScript \u5e76\u6ca1\u6709\u62a5\u9519\uff0c\u5bfc\u81f4 Days[3] \u7684\u503c\u5148\u662f \"Sun\" \uff0c\u800c\u540e\u53c8\u88ab \"Wed\" \u8986\u76d6\u4e86\u3002\u7f16\u8bd1\u7684\u7ed3\u679c\u662f\uff1a var Days ; ( function ( Days ) { Days [ Days [ \"Sun\" ] = 3 ] = \"Sun\" ; Days [ Days [ \"Mon\" ] = 1 ] = \"Mon\" ; Days [ Days [ \"Tue\" ] = 2 ] = \"Tue\" ; Days [ Days [ \"Wed\" ] = 3 ] = \"Wed\" ; Days [ Days [ \"Thu\" ] = 4 ] = \"Thu\" ; Days [ Days [ \"Fri\" ] = 5 ] = \"Fri\" ; Days [ Days [ \"Sat\" ] = 6 ] = \"Sat\" ; })( Days || ( Days = {})); \u6240\u4ee5\u4f7f\u7528\u7684\u65f6\u5019\u9700\u8981\u6ce8\u610f\uff0c\u6700\u597d\u4e0d\u8981\u51fa\u73b0\u8fd9\u79cd\u8986\u76d6\u7684\u60c5\u51b5\u3002 \u624b\u52a8\u8d4b\u503c\u7684\u679a\u4e3e\u9879\u53ef\u4ee5\u4e0d\u662f\u6570\u5b57\uff0c\u6b64\u65f6\u9700\u8981\u4f7f\u7528\u7c7b\u578b\u65ad\u8a00\u6765\u8ba9 tsc \u65e0\u89c6\u7c7b\u578b\u68c0\u67e5 (\u7f16\u8bd1\u51fa\u7684 js \u4ecd\u7136\u662f\u53ef\u7528\u7684)\uff1a enum Days { Sun = 7 , Mon , Tue , Wed , Thu , Fri , Sat = < any > \"S\" }; var Days ; ( function ( Days ) { Days [ Days [ \"Sun\" ] = 7 ] = \"Sun\" ; Days [ Days [ \"Mon\" ] = 8 ] = \"Mon\" ; Days [ Days [ \"Tue\" ] = 9 ] = \"Tue\" ; Days [ Days [ \"Wed\" ] = 10 ] = \"Wed\" ; Days [ Days [ \"Thu\" ] = 11 ] = \"Thu\" ; Days [ Days [ \"Fri\" ] = 12 ] = \"Fri\" ; Days [ Days [ \"Sat\" ] = \"S\" ] = \"Sat\" ; })( Days || ( Days = {})); \u5f53\u7136\uff0c\u624b\u52a8\u8d4b\u503c\u7684\u679a\u4e3e\u9879\u4e5f\u53ef\u4ee5\u4e3a\u5c0f\u6570\u6216\u8d1f\u6570\uff0c\u6b64\u65f6\u540e\u7eed\u672a\u624b\u52a8\u8d4b\u503c\u7684\u9879\u7684\u9012\u589e\u6b65\u957f\u4ecd\u4e3a 1 \uff1a enum Days { Sun = 7 , Mon = 1.5 , Tue , Wed , Thu , Fri , Sat }; console . log ( Days [ \"Sun\" ] === 7 ); // true console . log ( Days [ \"Mon\" ] === 1.5 ); // true console . log ( Days [ \"Tue\" ] === 2.5 ); // true console . log ( Days [ \"Sat\" ] === 6.5 ); // true \u5e38\u6570\u9879\u548c\u8ba1\u7b97\u6240\u5f97\u9879 \u00b6 \u679a\u4e3e\u9879\u6709\u4e24\u79cd\u7c7b\u578b\uff1a\u5e38\u6570\u9879\uff08constant member\uff09\u548c\u8ba1\u7b97\u6240\u5f97\u9879\uff08computed member\uff09\u3002 \u524d\u9762\u6211\u4eec\u6240\u4e3e\u7684\u4f8b\u5b50\u90fd\u662f\u5e38\u6570\u9879\uff0c\u4e00\u4e2a\u5178\u578b\u7684\u8ba1\u7b97\u6240\u5f97\u9879\u7684\u4f8b\u5b50\uff1a enum Color { Red , Green , Blue = \"blue\" . length }; \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c \"blue\".length \u5c31\u662f\u4e00\u4e2a\u8ba1\u7b97\u6240\u5f97\u9879\u3002 \u4e0a\u9762\u7684\u4f8b\u5b50\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u662f**\u5982\u679c\u7d27\u63a5\u5728\u8ba1\u7b97\u6240\u5f97\u9879\u540e\u9762\u7684\u662f\u672a\u624b\u52a8\u8d4b\u503c\u7684\u9879\uff0c\u90a3\u4e48\u5b83\u5c31\u4f1a\u56e0\u4e3a\u65e0\u6cd5\u83b7\u5f97\u521d\u59cb\u503c\u800c\u62a5\u9519**\uff1a enum Color { Red = \"red\" . length , Green , Blue }; // index.ts(1,33): error TS1061: Enum member must have initializer. // index.ts(1,40): error TS1061: Enum member must have initializer. \u4e0b\u9762\u662f\u5e38\u6570\u9879\u548c\u8ba1\u7b97\u6240\u5f97\u9879\u7684\u5b8c\u6574\u5b9a\u4e49\uff1a \u5f53\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\u65f6\uff0c\u679a\u4e3e\u6210\u5458\u88ab\u5f53\u4f5c\u662f\u5e38\u6570\uff1a \u4e0d\u5177\u6709\u521d\u59cb\u5316\u51fd\u6570\u5e76\u4e14\u4e4b\u524d\u7684\u679a\u4e3e\u6210\u5458\u662f\u5e38\u6570\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5f53\u524d\u679a\u4e3e\u6210\u5458\u7684\u503c\u4e3a\u4e0a\u4e00\u4e2a\u679a\u4e3e\u6210\u5458\u7684\u503c\u52a0 1 \u3002\u4f46\u7b2c\u4e00\u4e2a\u679a\u4e3e\u5143\u7d20\u662f\u4e2a\u4f8b\u5916\u3002\u5982\u679c\u5b83\u6ca1\u6709\u521d\u59cb\u5316\u65b9\u6cd5\uff0c\u90a3\u4e48\u5b83\u7684\u521d\u59cb\u503c\u4e3a 0 \u3002 \u679a\u4e3e\u6210\u5458\u4f7f\u7528\u5e38\u6570\u679a\u4e3e\u8868\u8fbe\u5f0f\u521d\u59cb\u5316\u3002\u5e38\u6570\u679a\u4e3e\u8868\u8fbe\u5f0f\u662f TypeScript \u8868\u8fbe\u5f0f\u7684\u5b50\u96c6\uff0c\u5b83\u53ef\u4ee5\u5728\u7f16\u8bd1\u9636\u6bb5\u6c42\u503c\u3002\u5f53\u4e00\u4e2a\u8868\u8fbe\u5f0f\u6ee1\u8db3\u4e0b\u9762\u6761\u4ef6\u4e4b\u4e00\u65f6\uff0c\u5b83\u5c31\u662f\u4e00\u4e2a\u5e38\u6570\u679a\u4e3e\u8868\u8fbe\u5f0f\uff1a \u6570\u5b57\u5b57\u9762\u91cf \u5f15\u7528\u4e4b\u524d\u5b9a\u4e49\u7684\u5e38\u6570\u679a\u4e3e\u6210\u5458\uff08\u53ef\u4ee5\u662f\u5728\u4e0d\u540c\u7684\u679a\u4e3e\u7c7b\u578b\u4e2d\u5b9a\u4e49\u7684\uff09\u5982\u679c\u8fd9\u4e2a\u6210\u5458\u662f\u5728\u540c\u4e00\u4e2a\u679a\u4e3e\u7c7b\u578b\u4e2d\u5b9a\u4e49\u7684\uff0c\u53ef\u4ee5\u4f7f\u7528\u975e\u9650\u5b9a\u540d\u6765\u5f15\u7528 \u5e26\u62ec\u53f7\u7684\u5e38\u6570\u679a\u4e3e\u8868\u8fbe\u5f0f + , - , ~ \u4e00\u5143\u8fd0\u7b97\u7b26\u5e94\u7528\u4e8e\u5e38\u6570\u679a\u4e3e\u8868\u8fbe\u5f0f + , - , * , / , % , << , >> , >>> , & , | , ^ \u4e8c\u5143\u8fd0\u7b97\u7b26\uff0c\u5e38\u6570\u679a\u4e3e\u8868\u8fbe\u5f0f\u505a\u4e3a\u5176\u4e00\u4e2a\u64cd\u4f5c\u5bf9\u8c61\u3002\u82e5\u5e38\u6570\u679a\u4e3e\u8868\u8fbe\u5f0f\u6c42\u503c\u540e\u4e3a NaN \u6216 Infinity\uff0c\u5219\u4f1a\u5728\u7f16\u8bd1\u9636\u6bb5\u62a5\u9519 \u6240\u6709\u5176\u5b83\u60c5\u51b5\u7684\u679a\u4e3e\u6210\u5458\u88ab\u5f53\u4f5c\u662f\u9700\u8981\u8ba1\u7b97\u5f97\u51fa\u7684\u503c\u3002 \u5e38\u6570\u679a\u4e3e \u00b6 \u5e38\u6570\u679a\u4e3e\u662f\u4f7f\u7528 const enum \u5b9a\u4e49\u7684\u679a\u4e3e\u7c7b\u578b\uff1a const enum Directions { Up , Down , Left , Right } let directions = [ Directions . Up , Directions . Down , Directions . Left , Directions . Right ]; \u5e38\u6570\u679a\u4e3e\u4e0e\u666e\u901a\u679a\u4e3e\u7684\u533a\u522b\u662f\uff0c\u5b83\u4f1a\u5728\u7f16\u8bd1\u9636\u6bb5\u88ab\u5220\u9664\uff0c\u5e76\u4e14\u4e0d\u80fd\u5305\u542b\u8ba1\u7b97\u6210\u5458\u3002 \u4e0a\u4f8b\u7684\u7f16\u8bd1\u7ed3\u679c\u662f\uff1a var directions = [ 0 /* Up */ , 1 /* Down */ , 2 /* Left */ , 3 /* Right */ ]; \u5047\u5982\u5305\u542b\u4e86\u8ba1\u7b97\u6210\u5458\uff0c\u5219\u4f1a\u5728\u7f16\u8bd1\u9636\u6bb5\u62a5\u9519\uff1a const enum Color { Red , Green , Blue = \"blue\" . length }; // index.ts(1,38): error TS2474: In 'const' enum declarations member initializer must be constant expression. \u5916\u90e8\u679a\u4e3e \u00b6 \u5916\u90e8\u679a\u4e3e\uff08Ambient Enums\uff09\u662f\u4f7f\u7528 declare enum \u5b9a\u4e49\u7684\u679a\u4e3e\u7c7b\u578b\uff1a declare enum Directions { Up , Down , Left , Right } let directions = [ Directions . Up , Directions . Down , Directions . Left , Directions . Right ]; \u4e4b\u524d\u63d0\u5230\u8fc7\uff0c declare \u5b9a\u4e49\u7684\u7c7b\u578b\u53ea\u4f1a\u7528\u4e8e\u7f16\u8bd1\u65f6\u7684\u68c0\u67e5\uff0c\u7f16\u8bd1\u7ed3\u679c\u4e2d\u4f1a\u88ab\u5220\u9664\u3002 \u4e0a\u4f8b\u7684\u7f16\u8bd1\u7ed3\u679c\u662f\uff1a var directions = [ Directions . Up , Directions . Down , Directions . Left , Directions . Right ]; \u5916\u90e8\u679a\u4e3e\u4e0e\u58f0\u660e\u8bed\u53e5\u4e00\u6837\uff0c\u5e38\u51fa\u73b0\u5728\u58f0\u660e\u6587\u4ef6\u4e2d\u3002 \u540c\u65f6\u4f7f\u7528 declare \u548c const \u4e5f\u662f\u53ef\u4ee5\u7684\uff1a declare const enum Directions { Up , Down , Left , Right } let directions = [ Directions . Up , Directions . Down , Directions . Left , Directions . Right ]; \u7f16\u8bd1\u7ed3\u679c\uff1a var directions = [ 0 /* Up */ , 1 /* Down */ , 2 /* Left */ , 3 /* Right */ ]; 5.\u7c7b \u00b6 \u4f20\u7edf\u65b9\u6cd5\u4e2d\uff0cJavaScript \u901a\u8fc7\u6784\u9020\u51fd\u6570\u5b9e\u73b0\u7c7b\u7684\u6982\u5ff5\uff0c\u901a\u8fc7\u539f\u578b\u94fe\u5b9e\u73b0\u7ee7\u627f\u3002\u800c\u5728 ES6 \u4e2d\uff0c\u6211\u4eec\u7ec8\u4e8e\u8fce\u6765\u4e86 class \u3002 TypeScript \u9664\u4e86\u5b9e\u73b0\u4e86\u6240\u6709 ES6 \u4e2d\u7684\u7c7b\u7684\u529f\u80fd\u4ee5\u5916\uff0c\u8fd8\u6dfb\u52a0\u4e86\u4e00\u4e9b\u65b0\u7684\u7528\u6cd5\u3002 \u8fd9\u4e00\u8282\u4e3b\u8981\u4ecb\u7ecd\u7c7b\u7684\u7528\u6cd5\uff0c\u4e0b\u4e00\u8282\u518d\u4ecb\u7ecd\u5982\u4f55\u5b9a\u4e49\u7c7b\u7684\u7c7b\u578b\u3002 \u7c7b\u7684\u6982\u5ff5 \u00b6 \u867d\u7136 JavaScript \u4e2d\u6709\u7c7b\u7684\u6982\u5ff5\uff0c\u4f46\u662f\u53ef\u80fd\u5927\u591a\u6570 JavaScript \u7a0b\u5e8f\u5458\u5e76\u4e0d\u662f\u975e\u5e38\u719f\u6089\u7c7b\uff0c\u8fd9\u91cc\u5bf9\u7c7b\u76f8\u5173\u7684\u6982\u5ff5\u505a\u4e00\u4e2a\u7b80\u5355\u7684\u4ecb\u7ecd\u3002 \u7c7b\uff08Class\uff09\uff1a\u5b9a\u4e49\u4e86\u4e00\u4ef6\u4e8b\u7269\u7684\u62bd\u8c61\u7279\u70b9\uff0c\u5305\u542b\u5b83\u7684\u5c5e\u6027\u548c\u65b9\u6cd5 \u5bf9\u8c61\uff08Object\uff09\uff1a\u7c7b\u7684\u5b9e\u4f8b\uff0c\u901a\u8fc7 new \u751f\u6210 \u9762\u5411\u5bf9\u8c61\uff08OOP\uff09\u7684\u4e09\u5927\u7279\u6027\uff1a\u5c01\u88c5\u3001\u7ee7\u627f\u3001\u591a\u6001 \u5c01\u88c5\uff08Encapsulation\uff09\uff1a\u5c06\u5bf9\u6570\u636e\u7684\u64cd\u4f5c\u7ec6\u8282\u9690\u85cf\u8d77\u6765\uff0c\u53ea\u66b4\u9732\u5bf9\u5916\u7684\u63a5\u53e3\u3002\u5916\u754c\u8c03\u7528\u7aef\u4e0d\u9700\u8981\uff08\u4e5f\u4e0d\u53ef\u80fd\uff09\u77e5\u9053\u7ec6\u8282\uff0c\u5c31\u80fd\u901a\u8fc7\u5bf9\u5916\u63d0\u4f9b\u7684\u63a5\u53e3\u6765\u8bbf\u95ee\u8be5\u5bf9\u8c61\uff0c\u540c\u65f6\u4e5f\u4fdd\u8bc1\u4e86\u5916\u754c\u65e0\u6cd5\u4efb\u610f\u66f4\u6539\u5bf9\u8c61\u5185\u90e8\u7684\u6570\u636e \u7ee7\u627f\uff08Inheritance\uff09\uff1a\u5b50\u7c7b\u7ee7\u627f\u7236\u7c7b\uff0c\u5b50\u7c7b\u9664\u4e86\u62e5\u6709\u7236\u7c7b\u7684\u6240\u6709\u7279\u6027\u5916\uff0c\u8fd8\u6709\u4e00\u4e9b\u66f4\u5177\u4f53\u7684\u7279\u6027 \u591a\u6001\uff08Polymorphism\uff09\uff1a\u7531\u7ee7\u627f\u800c\u4ea7\u751f\u4e86\u76f8\u5173\u7684\u4e0d\u540c\u7684\u7c7b\uff0c\u5bf9\u540c\u4e00\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u6709\u4e0d\u540c\u7684\u54cd\u5e94\u3002\u6bd4\u5982 Cat \u548c Dog \u90fd\u7ee7\u627f\u81ea Animal \uff0c\u4f46\u662f\u5206\u522b\u5b9e\u73b0\u4e86\u81ea\u5df1\u7684 eat \u65b9\u6cd5\u3002\u6b64\u65f6\u9488\u5bf9\u67d0\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u6211\u4eec\u65e0\u9700\u4e86\u89e3\u5b83\u662f Cat \u8fd8\u662f Dog \uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528 eat \u65b9\u6cd5\uff0c\u7a0b\u5e8f\u4f1a\u81ea\u52a8\u5224\u65ad\u51fa\u6765\u5e94\u8be5\u5982\u4f55\u6267\u884c eat \u5b58\u53d6\u5668\uff08getter & setter\uff09\uff1a\u7528\u4ee5\u6539\u53d8\u5c5e\u6027\u7684\u8bfb\u53d6\u548c\u8d4b\u503c\u884c\u4e3a \u4fee\u9970\u7b26\uff08Modifiers\uff09\uff1a\u4fee\u9970\u7b26\u662f\u4e00\u4e9b\u5173\u952e\u5b57\uff0c\u7528\u4e8e\u9650\u5b9a\u6210\u5458\u6216\u7c7b\u578b\u7684\u6027\u8d28\u3002\u6bd4\u5982 public \u8868\u793a\u516c\u6709\u5c5e\u6027\u6216\u65b9\u6cd5 \u62bd\u8c61\u7c7b\uff08Abstract Class\uff09\uff1a\u62bd\u8c61\u7c7b\u662f\u4f9b\u5176\u4ed6\u7c7b\u7ee7\u627f\u7684\u57fa\u7c7b\uff0c\u62bd\u8c61\u7c7b\u4e0d\u5141\u8bb8\u88ab\u5b9e\u4f8b\u5316\u3002\u62bd\u8c61\u7c7b\u4e2d\u7684\u62bd\u8c61\u65b9\u6cd5\u5fc5\u987b\u5728\u5b50\u7c7b\u4e2d\u88ab\u5b9e\u73b0 \u63a5\u53e3\uff08Interfaces\uff09\uff1a\u4e0d\u540c\u7c7b\u4e4b\u95f4\u516c\u6709\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\uff0c\u53ef\u4ee5\u62bd\u8c61\u6210\u4e00\u4e2a\u63a5\u53e3\u3002\u63a5\u53e3\u53ef\u4ee5\u88ab\u7c7b\u5b9e\u73b0\uff08implements\uff09\u3002\u4e00\u4e2a\u7c7b\u53ea\u80fd\u7ee7\u627f\u81ea\u53e6\u4e00\u4e2a\u7c7b\uff0c\u4f46\u662f\u53ef\u4ee5\u5b9e\u73b0\u591a\u4e2a\u63a5\u53e3 ES6 \u4e2d\u7c7b\u7684\u7528\u6cd5 \u00b6 \u4e0b\u9762\u6211\u4eec\u5148\u56de\u987e\u4e00\u4e0b ES6 \u4e2d\u7c7b\u7684\u7528\u6cd5\u3002 \u5c5e\u6027\u548c\u65b9\u6cd5 \u00b6 \u4f7f\u7528 class \u5b9a\u4e49\u7c7b\uff0c\u4f7f\u7528 constructor \u5b9a\u4e49\u6784\u9020\u51fd\u6570\u3002 \u901a\u8fc7 new \u751f\u6210\u65b0\u5b9e\u4f8b\u7684\u65f6\u5019\uff0c\u4f1a\u81ea\u52a8\u8c03\u7528\u6784\u9020\u51fd\u6570\u3002 class Animal { public name ; constructor ( name ) { this . name = name ; } sayHi () { return `My name is ${ this . name } ` ; } } let a = new Animal ( 'Jack' ); console . log ( a . sayHi ()); // My name is Jack \u7c7b\u7684\u7ee7\u627f \u00b6 \u4f7f\u7528 extends \u5173\u952e\u5b57\u5b9e\u73b0\u7ee7\u627f\uff0c\u5b50\u7c7b\u4e2d\u4f7f\u7528 super \u5173\u952e\u5b57\u6765\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570\u548c\u65b9\u6cd5\u3002 class Cat extends Animal { constructor ( name ) { super ( name ); // \u8c03\u7528\u7236\u7c7b\u7684 constructor(name) console . log ( this . name ); } sayHi () { return 'Meow, ' + super . sayHi (); // \u8c03\u7528\u7236\u7c7b\u7684 sayHi() } } let c = new Cat ( 'Tom' ); // Tom console . log ( c . sayHi ()); // Meow, My name is Tom \u5b58\u53d6\u5668 \u00b6 \u4f7f\u7528 getter \u548c setter \u53ef\u4ee5\u6539\u53d8\u5c5e\u6027\u7684\u8d4b\u503c\u548c\u8bfb\u53d6\u884c\u4e3a\uff1a class Animal { constructor ( name ) { this . name = name ; } get name () { return 'Jack' ; } set name ( value ) { console . log ( 'setter: ' + value ); } } let a = new Animal ( 'Kitty' ); // setter: Kitty a . name = 'Tom' ; // setter: Tom console . log ( a . name ); // Jack \u9759\u6001\u65b9\u6cd5 \u00b6 \u4f7f\u7528 static \u4fee\u9970\u7b26\u4fee\u9970\u7684\u65b9\u6cd5\u79f0\u4e3a\u9759\u6001\u65b9\u6cd5\uff0c\u5b83\u4eec\u4e0d\u9700\u8981\u5b9e\u4f8b\u5316\uff0c\u800c\u662f\u76f4\u63a5\u901a\u8fc7\u7c7b\u6765\u8c03\u7528\uff1a class Animal { static isAnimal ( a ) { return a instanceof Animal ; } } let a = new Animal ( 'Jack' ); Animal . isAnimal ( a ); // true a . isAnimal ( a ); // TypeError: a.isAnimal is not a function ES7 \u4e2d\u7c7b\u7684\u7528\u6cd5 \u00b6 ES7 \u4e2d\u6709\u4e00\u4e9b\u5173\u4e8e\u7c7b\u7684\u63d0\u6848\uff0cTypeScript \u4e5f\u5b9e\u73b0\u4e86\u5b83\u4eec\uff0c\u8fd9\u91cc\u505a\u4e00\u4e2a\u7b80\u5355\u7684\u4ecb\u7ecd\u3002 \u5b9e\u4f8b\u5c5e\u6027 \u00b6 ES6 \u4e2d\u5b9e\u4f8b\u7684\u5c5e\u6027\u53ea\u80fd\u901a\u8fc7\u6784\u9020\u51fd\u6570\u4e2d\u7684 this.xxx \u6765\u5b9a\u4e49\uff0cES7 \u63d0\u6848\u4e2d\u53ef\u4ee5\u76f4\u63a5\u5728\u7c7b\u91cc\u9762\u5b9a\u4e49\uff1a class Animal { name = 'Jack' ; constructor () { // ... } } let a = new Animal (); console . log ( a . name ); // Jack \u9759\u6001\u5c5e\u6027 \u00b6 ES7 \u63d0\u6848\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 static \u5b9a\u4e49\u4e00\u4e2a\u9759\u6001\u5c5e\u6027\uff1a class Animal { static num = 42 ; constructor () { // ... } } console . log ( Animal . num ); // 42 TypeScript \u4e2d\u7c7b\u7684\u7528\u6cd5 \u00b6 public private \u548c protected \u00b6 TypeScript \u53ef\u4ee5\u4f7f\u7528\u4e09\u79cd\u8bbf\u95ee\u4fee\u9970\u7b26\uff08Access Modifiers\uff09\uff0c\u5206\u522b\u662f public \u3001 private \u548c protected \u3002 public \u4fee\u9970\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\u662f\u516c\u6709\u7684\uff0c\u53ef\u4ee5\u5728\u4efb\u4f55\u5730\u65b9\u88ab\u8bbf\u95ee\u5230\uff0c\u9ed8\u8ba4\u6240\u6709\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u90fd\u662f public \u7684 private \u4fee\u9970\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\u662f\u79c1\u6709\u7684\uff0c\u4e0d\u80fd\u5728\u58f0\u660e\u5b83\u7684\u7c7b\u7684\u5916\u90e8\u8bbf\u95ee protected \u4fee\u9970\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\u662f\u53d7\u4fdd\u62a4\u7684\uff0c\u5b83\u548c private \u7c7b\u4f3c\uff0c\u533a\u522b\u662f\u5b83\u5728\u5b50\u7c7b\u4e2d\u4e5f\u662f\u5141\u8bb8\u88ab\u8bbf\u95ee\u7684 \u4e0b\u9762\u4e3e\u4e00\u4e9b\u4f8b\u5b50\uff1a class Animal { public name ; public constructor ( name ) { this . name = name ; } } let a = new Animal ( 'Jack' ); console . log ( a . name ); // Jack a . name = 'Tom' ; console . log ( a . name ); // Tom \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c name \u88ab\u8bbe\u7f6e\u4e3a\u4e86 public \uff0c\u6240\u4ee5\u76f4\u63a5\u8bbf\u95ee\u5b9e\u4f8b\u7684 name \u5c5e\u6027\u662f\u5141\u8bb8\u7684\u3002 \u5f88\u591a\u65f6\u5019\uff0c\u6211\u4eec\u5e0c\u671b\u6709\u7684\u5c5e\u6027\u662f\u65e0\u6cd5\u76f4\u63a5\u5b58\u53d6\u7684\uff0c\u8fd9\u65f6\u5019\u5c31\u53ef\u4ee5\u7528 private \u4e86\uff1a class Animal { private name ; public constructor ( name ) { this . name = name ; } } let a = new Animal ( 'Jack' ); console . log ( a . name ); // Jack a . name = 'Tom' ; // index.ts(9,13): error TS2341: Property 'name' is private and only accessible within class 'Animal'. // index.ts(10,1): error TS2341: Property 'name' is private and only accessible within class 'Animal'. \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cTypeScript \u7f16\u8bd1\u4e4b\u540e\u7684\u4ee3\u7801\u4e2d\uff0c\u5e76\u6ca1\u6709\u9650\u5236 private \u5c5e\u6027\u5728\u5916\u90e8\u7684\u53ef\u8bbf\u95ee\u6027\u3002 \u4e0a\u9762\u7684\u4f8b\u5b50\u7f16\u8bd1\u540e\u7684\u4ee3\u7801\u662f\uff1a var Animal = ( function () { function Animal ( name ) { this . name = name ; } return Animal ; })(); var a = new Animal ( 'Jack' ); console . log ( a . name ); a . name = 'Tom' ; \u4f7f\u7528 private \u4fee\u9970\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\uff0c\u5728\u5b50\u7c7b\u4e2d\u4e5f\u662f\u4e0d\u5141\u8bb8\u8bbf\u95ee\u7684\uff1a class Animal { private name ; public constructor ( name ) { this . name = name ; } } class Cat extends Animal { constructor ( name ) { super ( name ); console . log ( this . name ); } } // index.ts(11,17): error TS2341: Property 'name' is private and only accessible within class 'Animal'. \u800c\u5982\u679c\u662f\u7528 protected \u4fee\u9970\uff0c\u5219\u5141\u8bb8\u5728\u5b50\u7c7b\u4e2d\u8bbf\u95ee\uff1a class Animal { protected name ; public constructor ( name ) { this . name = name ; } } class Cat extends Animal { constructor ( name ) { super ( name ); console . log ( this . name ); } } \u5f53\u6784\u9020\u51fd\u6570\u4fee\u9970\u4e3a private \u65f6\uff0c\u8be5\u7c7b\u4e0d\u5141\u8bb8\u88ab\u7ee7\u627f\u6216\u8005\u5b9e\u4f8b\u5316\uff1a class Animal { public name ; private constructor ( name ) { this . name = name ; } } class Cat extends Animal { constructor ( name ) { super ( name ); } } let a = new Animal ( 'Jack' ); // index.ts(7,19): TS2675: Cannot extend a class 'Animal'. Class constructor is marked as private. // index.ts(13,9): TS2673: Constructor of class 'Animal' is private and only accessible within the class declaration. \u5f53\u6784\u9020\u51fd\u6570\u4fee\u9970\u4e3a protected \u65f6\uff0c\u8be5\u7c7b\u53ea\u5141\u8bb8\u88ab\u7ee7\u627f\uff1a class Animal { public name ; protected constructor ( name ) { this . name = name ; } } class Cat extends Animal { constructor ( name ) { super ( name ); } } let a = new Animal ( 'Jack' ); // index.ts(13,9): TS2674: Constructor of class 'Animal' is protected and only accessible within the class declaration. \u53c2\u6570\u5c5e\u6027 \u00b6 \u4fee\u9970\u7b26\u548c readonly \u8fd8\u53ef\u4ee5\u4f7f\u7528\u5728\u6784\u9020\u51fd\u6570\u53c2\u6570\u4e2d\uff0c\u7b49\u540c\u4e8e\u7c7b\u4e2d\u5b9a\u4e49\u8be5\u5c5e\u6027\u540c\u65f6\u7ed9\u8be5\u5c5e\u6027\u8d4b\u503c\uff0c\u4f7f\u4ee3\u7801\u66f4\u7b80\u6d01\u3002 class Animal { // public name: string; public constructor ( public name ) { // this.name = name; } } readonly \u00b6 \u53ea\u8bfb\u5c5e\u6027\u5173\u952e\u5b57\uff0c\u53ea\u5141\u8bb8\u51fa\u73b0\u5728\u5c5e\u6027\u58f0\u660e\u6216\u7d22\u5f15\u7b7e\u540d\u6216\u6784\u9020\u51fd\u6570\u4e2d\u3002 class Animal { readonly name ; public constructor ( name ) { this . name = name ; } } let a = new Animal ( 'Jack' ); console . log ( a . name ); // Jack a . name = 'Tom' ; // index.ts(10,3): TS2540: Cannot assign to 'name' because it is a read-only property. \u6ce8\u610f\u5982\u679c readonly \u548c\u5176\u4ed6\u8bbf\u95ee\u4fee\u9970\u7b26\u540c\u65f6\u5b58\u5728\u7684\u8bdd\uff0c\u9700\u8981\u5199\u5728\u5176\u540e\u9762\u3002 class Animal { // public readonly name; public constructor ( public readonly name ) { // this.name = name; } } \u62bd\u8c61\u7c7b \u00b6 abstract \u7528\u4e8e\u5b9a\u4e49\u62bd\u8c61\u7c7b\u548c\u5176\u4e2d\u7684\u62bd\u8c61\u65b9\u6cd5\u3002 \u4ec0\u4e48\u662f\u62bd\u8c61\u7c7b\uff1f \u9996\u5148\uff0c\u62bd\u8c61\u7c7b\u662f\u4e0d\u5141\u8bb8\u88ab\u5b9e\u4f8b\u5316\u7684\uff1a abstract class Animal { public name ; public constructor ( name ) { this . name = name ; } public abstract sayHi (); } let a = new Animal ( 'Jack' ); // index.ts(9,11): error TS2511: Cannot create an instance of the abstract class 'Animal'. \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u62bd\u8c61\u7c7b Animal \uff0c\u5e76\u4e14\u5b9a\u4e49\u4e86\u4e00\u4e2a\u62bd\u8c61\u65b9\u6cd5 sayHi \u3002\u5728\u5b9e\u4f8b\u5316\u62bd\u8c61\u7c7b\u7684\u65f6\u5019\u62a5\u9519\u4e86\u3002 \u5176\u6b21\uff0c\u62bd\u8c61\u7c7b\u4e2d\u7684\u62bd\u8c61\u65b9\u6cd5\u5fc5\u987b\u88ab\u5b50\u7c7b\u5b9e\u73b0\uff1a abstract class Animal { public name ; public constructor ( name ) { this . name = name ; } public abstract sayHi (); } class Cat extends Animal { public eat () { console . log ( ` ${ this . name } is eating.` ); } } let cat = new Cat ( 'Tom' ); // index.ts(9,7): error TS2515: Non-abstract class 'Cat' does not implement inherited abstract member 'sayHi' from class 'Animal'. \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7c7b Cat \u7ee7\u627f\u4e86\u62bd\u8c61\u7c7b Animal \uff0c\u4f46\u662f\u6ca1\u6709\u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd5 sayHi \uff0c\u6240\u4ee5\u7f16\u8bd1\u62a5\u9519\u4e86\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u6b63\u786e\u4f7f\u7528\u62bd\u8c61\u7c7b\u7684\u4f8b\u5b50\uff1a abstract class Animal { public name ; public constructor ( name ) { this . name = name ; } public abstract sayHi (); } class Cat extends Animal { public sayHi () { console . log ( `Meow, My name is ${ this . name } ` ); } } let cat = new Cat ( 'Tom' ); \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5b9e\u73b0\u4e86\u62bd\u8c61\u65b9\u6cd5 sayHi \uff0c\u7f16\u8bd1\u901a\u8fc7\u4e86\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5373\u4f7f\u662f\u62bd\u8c61\u65b9\u6cd5\uff0cTypeScript \u7684\u7f16\u8bd1\u7ed3\u679c\u4e2d\uff0c\u4ecd\u7136\u4f1a\u5b58\u5728\u8fd9\u4e2a\u7c7b\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u7684\u7f16\u8bd1\u7ed3\u679c\u662f\uff1a var __extends = ( this && this . __extends ) || function ( d , b ) { for ( var p in b ) if ( b . hasOwnProperty ( p )) d [ p ] = b [ p ]; function __ () { this . constructor = d ; } d . prototype = b === null ? Object . create ( b ) : (( __ . prototype = b . prototype ), new __ ()); }; var Animal = ( function () { function Animal ( name ) { this . name = name ; } return Animal ; })(); var Cat = ( function ( _super ) { __extends ( Cat , _super ); function Cat () { _super . apply ( this , arguments ); } Cat . prototype . sayHi = function () { console . log ( 'Meow, My name is ' + this . name ); }; return Cat ; })( Animal ); var cat = new Cat ( 'Tom' ); \u7c7b\u7684\u7c7b\u578b \u00b6 \u7ed9\u7c7b\u52a0\u4e0a TypeScript \u7684\u7c7b\u578b\u5f88\u7b80\u5355\uff0c\u4e0e\u63a5\u53e3\u7c7b\u4f3c\uff1a class Animal { name : string ; constructor ( name : string ) { this . name = name ; } sayHi () : string { return `My name is ${ this . name } ` ; } } let a : Animal = new Animal ( 'Jack' ); console . log ( a . sayHi ()); // My name is Jack 6.\u7c7b\u4e0e\u63a5\u53e3 \u00b6 \u63a5\u53e3\uff08Interfaces\uff09\u53ef\u4ee5\u7528\u4e8e\u5bf9\u300c\u5bf9\u8c61\u7684\u5f62\u72b6\uff08Shape\uff09\u300d\u8fdb\u884c\u63cf\u8ff0\u3002 \u8fd9\u4e00\u7ae0\u4e3b\u8981\u4ecb\u7ecd\u63a5\u53e3\u7684\u53e6\u4e00\u4e2a\u7528\u9014\uff0c\u5bf9\u7c7b\u7684\u4e00\u90e8\u5206\u884c\u4e3a\u8fdb\u884c\u62bd\u8c61\u3002 \u7c7b\u5b9e\u73b0\u63a5\u53e3 \u00b6 \u5b9e\u73b0\uff08implements\uff09\u662f\u9762\u5411\u5bf9\u8c61\u4e2d\u7684\u4e00\u4e2a\u91cd\u8981\u6982\u5ff5\u3002\u4e00\u822c\u6765\u8bb2\uff0c\u4e00\u4e2a\u7c7b\u53ea\u80fd\u7ee7\u627f\u81ea\u53e6\u4e00\u4e2a\u7c7b\uff0c\u6709\u65f6\u5019\u4e0d\u540c\u7c7b\u4e4b\u95f4\u53ef\u4ee5\u6709\u4e00\u4e9b\u5171\u6709\u7684\u7279\u6027\uff0c\u8fd9\u65f6\u5019\u5c31\u53ef\u4ee5\u628a\u7279\u6027\u63d0\u53d6\u6210\u63a5\u53e3\uff08interfaces\uff09\uff0c\u7528 implements \u5173\u952e\u5b57\u6765\u5b9e\u73b0\u3002\u8fd9\u4e2a\u7279\u6027\u5927\u5927\u63d0\u9ad8\u4e86\u9762\u5411\u5bf9\u8c61\u7684\u7075\u6d3b\u6027\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u95e8\u662f\u4e00\u4e2a\u7c7b\uff0c\u9632\u76d7\u95e8\u662f\u95e8\u7684\u5b50\u7c7b\u3002\u5982\u679c\u9632\u76d7\u95e8\u6709\u4e00\u4e2a\u62a5\u8b66\u5668\u7684\u529f\u80fd\uff0c\u6211\u4eec\u53ef\u4ee5\u7b80\u5355\u7684\u7ed9\u9632\u76d7\u95e8\u6dfb\u52a0\u4e00\u4e2a\u62a5\u8b66\u65b9\u6cd5\u3002\u8fd9\u65f6\u5019\u5982\u679c\u6709\u53e6\u4e00\u4e2a\u7c7b\uff0c\u8f66\uff0c\u4e5f\u6709\u62a5\u8b66\u5668\u7684\u529f\u80fd\uff0c\u5c31\u53ef\u4ee5\u8003\u8651\u628a\u62a5\u8b66\u5668\u63d0\u53d6\u51fa\u6765\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u63a5\u53e3\uff0c\u9632\u76d7\u95e8\u548c\u8f66\u90fd\u53bb\u5b9e\u73b0\u5b83\uff1a interface Alarm { alert () : void ; } class Door { } class SecurityDoor extends Door implements Alarm { alert () { console . log ( 'SecurityDoor alert' ); } } class Car implements Alarm { alert () { console . log ( 'Car alert' ); } } \u4e00\u4e2a\u7c7b\u53ef\u4ee5\u5b9e\u73b0\u591a\u4e2a\u63a5\u53e3\uff1a interface Alarm { alert () : void ; } interface Light { lightOn () : void ; lightOff () : void ; } class Car implements Alarm , Light { alert () { console . log ( 'Car alert' ); } lightOn () { console . log ( 'Car light on' ); } lightOff () { console . log ( 'Car light off' ); } } \u4e0a\u4f8b\u4e2d\uff0c Car \u5b9e\u73b0\u4e86 Alarm \u548c Light \u63a5\u53e3\uff0c\u65e2\u80fd\u62a5\u8b66\uff0c\u4e5f\u80fd\u5f00\u5173\u8f66\u706f\u3002 \u63a5\u53e3\u7ee7\u627f\u63a5\u53e3 \u00b6 \u63a5\u53e3\u4e0e\u63a5\u53e3\u4e4b\u95f4\u53ef\u4ee5\u662f\u7ee7\u627f\u5173\u7cfb\uff1a interface Alarm { alert () : void ; } interface LightableAlarm extends Alarm { lightOn () : void ; lightOff () : void ; } \u8fd9\u5f88\u597d\u7406\u89e3\uff0c LightableAlarm \u7ee7\u627f\u4e86 Alarm \uff0c\u9664\u4e86\u62e5\u6709 alert \u65b9\u6cd5\u4e4b\u5916\uff0c\u8fd8\u62e5\u6709\u4e24\u4e2a\u65b0\u65b9\u6cd5 lightOn \u548c lightOff \u3002 \u63a5\u53e3\u7ee7\u627f\u7c7b \u00b6 \u5e38\u89c1\u7684\u9762\u5411\u5bf9\u8c61\u8bed\u8a00\u4e2d\uff0c\u63a5\u53e3\u662f\u4e0d\u80fd\u7ee7\u627f\u7c7b\u7684\uff0c\u4f46\u662f\u5728 TypeScript \u4e2d\u5374\u662f\u53ef\u4ee5\u7684\uff1a class Point { x : number ; y : number ; constructor ( x : number , y : number ) { this . x = x ; this . y = y ; } } interface Point3d extends Point { z : number ; } let point3d : Point3d = { x : 1 , y : 2 , z : 3 }; \u4e3a\u4ec0\u4e48 TypeScript \u4f1a\u652f\u6301\u63a5\u53e3\u7ee7\u627f\u7c7b\u5462\uff1f \u5b9e\u9645\u4e0a\uff0c\u5f53\u6211\u4eec\u5728\u58f0\u660e class Point \u65f6\uff0c\u9664\u4e86\u4f1a\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a Point \u7684\u7c7b\u4e4b\u5916\uff0c\u540c\u65f6\u4e5f\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a Point \u7684\u7c7b\u578b\uff08\u5b9e\u4f8b\u7684\u7c7b\u578b\uff09\u3002 \u6240\u4ee5\u6211\u4eec\u65e2\u53ef\u4ee5\u5c06 Point \u5f53\u505a\u4e00\u4e2a\u7c7b\u6765\u7528\uff08\u4f7f\u7528 new Point \u521b\u5efa\u5b83\u7684\u5b9e\u4f8b\uff09\uff1a class Point { x : number ; y : number ; constructor ( x : number , y : number ) { this . x = x ; this . y = y ; } } const p = new Point ( 1 , 2 ); \u4e5f\u53ef\u4ee5\u5c06 Point \u5f53\u505a\u4e00\u4e2a\u7c7b\u578b\u6765\u7528\uff08\u4f7f\u7528 : Point \u8868\u793a\u53c2\u6570\u7684\u7c7b\u578b\uff09\uff1a class Point { x : number ; y : number ; constructor ( x : number , y : number ) { this . x = x ; this . y = y ; } } function printPoint ( p : Point ) { console . log ( p . x , p . y ); } printPoint ( new Point ( 1 , 2 )); \u8fd9\u4e2a\u4f8b\u5b50\u5b9e\u9645\u4e0a\u53ef\u4ee5\u7b49\u4ef7\u4e8e\uff1a class Point { x : number ; y : number ; constructor ( x : number , y : number ) { this . x = x ; this . y = y ; } } interface PointInstanceType { x : number ; y : number ; } function printPoint ( p : PointInstanceType ) { console . log ( p . x , p . y ); } printPoint ( new Point ( 1 , 2 )); \u4e0a\u4f8b\u4e2d\u6211\u4eec\u65b0\u58f0\u660e\u7684 PointInstanceType \u7c7b\u578b\uff0c\u4e0e\u58f0\u660e class Point \u65f6\u521b\u5efa\u7684 Point \u7c7b\u578b\u662f\u7b49\u4ef7\u7684\u3002 \u6240\u4ee5\u56de\u5230 Point3d \u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5c31\u80fd\u5f88\u5bb9\u6613\u7684\u7406\u89e3\u4e3a\u4ec0\u4e48 TypeScript \u4f1a\u652f\u6301\u63a5\u53e3\u7ee7\u627f\u7c7b\u4e86\uff1a class Point { x : number ; y : number ; constructor ( x : number , y : number ) { this . x = x ; this . y = y ; } } interface PointInstanceType { x : number ; y : number ; } // \u7b49\u4ef7\u4e8e interface Point3d extends PointInstanceType interface Point3d extends Point { z : number ; } let point3d : Point3d = { x : 1 , y : 2 , z : 3 }; \u5f53\u6211\u4eec\u58f0\u660e interface Point3d extends Point \u65f6\uff0c Point3d \u7ee7\u627f\u7684\u5b9e\u9645\u4e0a\u662f\u7c7b Point \u7684\u5b9e\u4f8b\u7684\u7c7b\u578b\u3002 \u6362\u53e5\u8bdd\u8bf4\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u5b9a\u4e49\u4e86\u4e00\u4e2a\u63a5\u53e3 Point3d \u7ee7\u627f\u53e6\u4e00\u4e2a\u63a5\u53e3 PointInstanceType \u3002 \u6240\u4ee5\u300c\u63a5\u53e3\u7ee7\u627f\u7c7b\u300d\u548c\u300c\u63a5\u53e3\u7ee7\u627f\u63a5\u53e3\u300d\u6ca1\u6709\u4ec0\u4e48\u672c\u8d28\u7684\u533a\u522b\u3002 \u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c PointInstanceType \u76f8\u6bd4\u4e8e Point \uff0c\u7f3a\u5c11\u4e86 constructor \u65b9\u6cd5\uff0c\u8fd9\u662f\u56e0\u4e3a\u58f0\u660e Point \u7c7b\u65f6\u521b\u5efa\u7684 Point \u7c7b\u578b\u662f\u4e0d\u5305\u542b\u6784\u9020\u51fd\u6570\u7684\u3002\u53e6\u5916\uff0c\u9664\u4e86\u6784\u9020\u51fd\u6570\u662f\u4e0d\u5305\u542b\u7684\uff0c\u9759\u6001\u5c5e\u6027\u6216\u9759\u6001\u65b9\u6cd5\u4e5f\u662f\u4e0d\u5305\u542b\u7684\uff08\u5b9e\u4f8b\u7684\u7c7b\u578b\u5f53\u7136\u4e0d\u5e94\u8be5\u5305\u62ec\u6784\u9020\u51fd\u6570\u3001\u9759\u6001\u5c5e\u6027\u6216\u9759\u6001\u65b9\u6cd5\uff09\u3002 \u6362\u53e5\u8bdd\u8bf4\uff0c\u58f0\u660e Point \u7c7b\u65f6\u521b\u5efa\u7684 Point \u7c7b\u578b\u53ea\u5305\u542b\u5176\u4e2d\u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u5b9e\u4f8b\u65b9\u6cd5\uff1a class Point { /** \u9759\u6001\u5c5e\u6027\uff0c\u5750\u6807\u7cfb\u539f\u70b9 */ static origin = new Point ( 0 , 0 ); /** \u9759\u6001\u65b9\u6cd5\uff0c\u8ba1\u7b97\u4e0e\u539f\u70b9\u8ddd\u79bb */ static distanceToOrigin ( p : Point ) { return Math . sqrt ( p . x * p . x + p . y * p . y ); } /** \u5b9e\u4f8b\u5c5e\u6027\uff0cx \u8f74\u7684\u503c */ x : number ; /** \u5b9e\u4f8b\u5c5e\u6027\uff0cy \u8f74\u7684\u503c */ y : number ; /** \u6784\u9020\u51fd\u6570 */ constructor ( x : number , y : number ) { this . x = x ; this . y = y ; } /** \u5b9e\u4f8b\u65b9\u6cd5\uff0c\u6253\u5370\u6b64\u70b9 */ printPoint () { console . log ( this . x , this . y ); } } interface PointInstanceType { x : number ; y : number ; printPoint () : void ; } let p1 : Point ; let p2 : PointInstanceType ; \u4e0a\u4f8b\u4e2d\u6700\u540e\u7684\u7c7b\u578b Point \u548c\u7c7b\u578b PointInstanceType \u662f\u7b49\u4ef7\u7684\u3002 \u540c\u6837\u7684\uff0c\u5728\u63a5\u53e3\u7ee7\u627f\u7c7b\u7684\u65f6\u5019\uff0c\u4e5f\u53ea\u4f1a\u7ee7\u627f\u5b83\u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u5b9e\u4f8b\u65b9\u6cd5\u3002 7.\u6cdb\u578b \u00b6 \u6cdb\u578b\uff08Generics\uff09\u662f\u6307\u5728\u5b9a\u4e49\u51fd\u6570\u3001\u63a5\u53e3\u6216\u7c7b\u7684\u65f6\u5019\uff0c\u4e0d\u9884\u5148\u6307\u5b9a\u5177\u4f53\u7684\u7c7b\u578b\uff0c\u800c\u5728\u4f7f\u7528\u7684\u65f6\u5019\u518d\u6307\u5b9a\u7c7b\u578b\u7684\u4e00\u79cd\u7279\u6027\u3002 \u7b80\u5355\u7684\u4f8b\u5b50 \u00b6 \u9996\u5148\uff0c\u6211\u4eec\u6765\u5b9e\u73b0\u4e00\u4e2a\u51fd\u6570 createArray \uff0c\u5b83\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u6307\u5b9a\u957f\u5ea6\u7684\u6570\u7ec4\uff0c\u540c\u65f6\u5c06\u6bcf\u4e00\u9879\u90fd\u586b\u5145\u4e00\u4e2a\u9ed8\u8ba4\u503c\uff1a function createArray ( length : number , value : any ) : Array < any > { let result = []; for ( let i = 0 ; i < length ; i ++ ) { result [ i ] = value ; } return result ; } createArray ( 3 , 'x' ); // ['x', 'x', 'x'] \u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 \u4e4b\u524d\u63d0\u5230\u8fc7\u7684\u6570\u7ec4\u6cdb\u578b \u6765\u5b9a\u4e49\u8fd4\u56de\u503c\u7684\u7c7b\u578b\u3002 \u8fd9\u6bb5\u4ee3\u7801\u7f16\u8bd1\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u662f\u4e00\u4e2a\u663e\u800c\u6613\u89c1\u7684\u7f3a\u9677\u662f\uff0c\u5b83\u5e76\u6ca1\u6709\u51c6\u786e\u7684\u5b9a\u4e49\u8fd4\u56de\u503c\u7684\u7c7b\u578b\uff1a Array<any> \u5141\u8bb8\u6570\u7ec4\u7684\u6bcf\u4e00\u9879\u90fd\u4e3a\u4efb\u610f\u7c7b\u578b\u3002\u4f46\u662f\u6211\u4eec\u9884\u671f\u7684\u662f\uff0c\u6570\u7ec4\u4e2d\u6bcf\u4e00\u9879\u90fd\u5e94\u8be5\u662f\u8f93\u5165\u7684 value \u7684\u7c7b\u578b\u3002 \u8fd9\u65f6\u5019\uff0c\u6cdb\u578b\u5c31\u6d3e\u4e0a\u7528\u573a\u4e86\uff1a function createArray < T > ( length : number , value : T ) : Array < T > { let result : T [] = []; for ( let i = 0 ; i < length ; i ++ ) { result [ i ] = value ; } return result ; } createArray < string > ( 3 , 'x' ); // ['x', 'x', 'x'] \u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5728\u51fd\u6570\u540d\u540e\u6dfb\u52a0\u4e86 <T> \uff0c\u5176\u4e2d T \u7528\u6765\u6307\u4ee3\u4efb\u610f\u8f93\u5165\u7684\u7c7b\u578b\uff0c\u5728\u540e\u9762\u7684\u8f93\u5165 value: T \u548c\u8f93\u51fa Array<T> \u4e2d\u5373\u53ef\u4f7f\u7528\u4e86\u3002 \u63a5\u7740\u5728\u8c03\u7528\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u6307\u5b9a\u5b83\u5177\u4f53\u7684\u7c7b\u578b\u4e3a string \u3002\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u624b\u52a8\u6307\u5b9a\uff0c\u800c\u8ba9\u7c7b\u578b\u63a8\u8bba\u81ea\u52a8\u63a8\u7b97\u51fa\u6765\uff1a function createArray < T > ( length : number , value : T ) : Array < T > { let result : T [] = []; for ( let i = 0 ; i < length ; i ++ ) { result [ i ] = value ; } return result ; } createArray ( 3 , 'x' ); // ['x', 'x', 'x'] \u591a\u4e2a\u7c7b\u578b\u53c2\u6570 \u00b6 \u5b9a\u4e49\u6cdb\u578b\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4e00\u6b21\u5b9a\u4e49\u591a\u4e2a\u7c7b\u578b\u53c2\u6570\uff1a function swap < T , U > ( tuple : [ T , U ]) : [ U , T ] { return [ tuple [ 1 ], tuple [ 0 ]]; } swap ([ 7 , 'seven' ]); // ['seven', 7] \u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a swap \u51fd\u6570\uff0c\u7528\u6765\u4ea4\u6362\u8f93\u5165\u7684\u5143\u7ec4\u3002 \u6cdb\u578b\u7ea6\u675f \u00b6 \u5728\u51fd\u6570\u5185\u90e8\u4f7f\u7528\u6cdb\u578b\u53d8\u91cf\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u4e8b\u5148\u4e0d\u77e5\u9053\u5b83\u662f\u54ea\u79cd\u7c7b\u578b\uff0c\u6240\u4ee5\u4e0d\u80fd\u968f\u610f\u7684\u64cd\u4f5c\u5b83\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\uff1a function loggingIdentity < T > ( arg : T ) : T { console . log ( arg . length ); return arg ; } // index.ts(2,19): error TS2339: Property 'length' does not exist on type 'T'. \u4e0a\u4f8b\u4e2d\uff0c\u6cdb\u578b T \u4e0d\u4e00\u5b9a\u5305\u542b\u5c5e\u6027 length \uff0c\u6240\u4ee5\u7f16\u8bd1\u7684\u65f6\u5019\u62a5\u9519\u4e86\u3002 \u8fd9\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u6cdb\u578b\u8fdb\u884c\u7ea6\u675f\uff0c\u53ea\u5141\u8bb8\u8fd9\u4e2a\u51fd\u6570\u4f20\u5165\u90a3\u4e9b\u5305\u542b length \u5c5e\u6027\u7684\u53d8\u91cf\u3002\u8fd9\u5c31\u662f\u6cdb\u578b\u7ea6\u675f\uff1a interface Lengthwise { length : number ; } function loggingIdentity < T extends Lengthwise > ( arg : T ) : T { console . log ( arg . length ); return arg ; } \u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 extends \u7ea6\u675f\u4e86\u6cdb\u578b T \u5fc5\u987b\u7b26\u5408\u63a5\u53e3 Lengthwise \u7684\u5f62\u72b6\uff0c\u4e5f\u5c31\u662f\u5fc5\u987b\u5305\u542b length \u5c5e\u6027\u3002 \u6b64\u65f6\u5982\u679c\u8c03\u7528 loggingIdentity \u7684\u65f6\u5019\uff0c\u4f20\u5165\u7684 arg \u4e0d\u5305\u542b length \uff0c\u90a3\u4e48\u5728\u7f16\u8bd1\u9636\u6bb5\u5c31\u4f1a\u62a5\u9519\u4e86\uff1a interface Lengthwise { length : number ; } function loggingIdentity < T extends Lengthwise > ( arg : T ) : T { console . log ( arg . length ); return arg ; } loggingIdentity ( 7 ); // index.ts(10,17): error TS2345: Argument of type '7' is not assignable to parameter of type 'Lengthwise'. \u591a\u4e2a\u7c7b\u578b\u53c2\u6570\u4e4b\u95f4\u4e5f\u53ef\u4ee5\u4e92\u76f8\u7ea6\u675f\uff1a function copyFields < T extends U , U > ( target : T , source : U ) : T { for ( let id in source ) { target [ id ] = ( < T > source )[ id ]; } return target ; } let x = { a : 1 , b : 2 , c : 3 , d : 4 }; copyFields ( x , { b : 10 , d : 20 }); \u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u4e24\u4e2a\u7c7b\u578b\u53c2\u6570\uff0c\u5176\u4e2d\u8981\u6c42 T \u7ee7\u627f U \uff0c\u8fd9\u6837\u5c31\u4fdd\u8bc1\u4e86 U \u4e0a\u4e0d\u4f1a\u51fa\u73b0 T \u4e2d\u4e0d\u5b58\u5728\u7684\u5b57\u6bb5\u3002 \u6cdb\u578b\u63a5\u53e3 \u00b6 \u53ef\u4ee5\u4f7f\u7528\u63a5\u53e3\u7684\u65b9\u5f0f\u6765\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u9700\u8981\u7b26\u5408\u7684\u5f62\u72b6\uff1a interface SearchFunc { ( source : string , subString : string ) : boolean ; } let mySearch : SearchFunc ; mySearch = function ( source : string , subString : string ) { return source . search ( subString ) !== - 1 ; } \u5f53\u7136\u4e5f\u53ef\u4ee5\u4f7f\u7528\u542b\u6709\u6cdb\u578b\u7684\u63a5\u53e3\u6765\u5b9a\u4e49\u51fd\u6570\u7684\u5f62\u72b6\uff1a interface CreateArrayFunc { < T > ( length : number , value : T ) : Array < T > ; } let createArray : CreateArrayFunc ; createArray = function < T > ( length : number , value : T ) : Array < T > { let result : T [] = []; for ( let i = 0 ; i < length ; i ++ ) { result [ i ] = value ; } return result ; } createArray ( 3 , 'x' ); // ['x', 'x', 'x'] \u8fdb\u4e00\u6b65\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u6cdb\u578b\u53c2\u6570\u63d0\u524d\u5230\u63a5\u53e3\u540d\u4e0a\uff1a interface CreateArrayFunc < T > { ( length : number , value : T ) : Array < T > ; } let createArray : CreateArrayFunc < any > ; createArray = function < T > ( length : number , value : T ) : Array < T > { let result : T [] = []; for ( let i = 0 ; i < length ; i ++ ) { result [ i ] = value ; } return result ; } createArray ( 3 , 'x' ); // ['x', 'x', 'x'] \u6ce8\u610f\uff0c\u6b64\u65f6\u5728\u4f7f\u7528\u6cdb\u578b\u63a5\u53e3\u7684\u65f6\u5019\uff0c\u9700\u8981\u5b9a\u4e49\u6cdb\u578b\u7684\u7c7b\u578b\u3002 \u6cdb\u578b\u7c7b \u00b6 \u4e0e\u6cdb\u578b\u63a5\u53e3\u7c7b\u4f3c\uff0c\u6cdb\u578b\u4e5f\u53ef\u4ee5\u7528\u4e8e\u7c7b\u7684\u7c7b\u578b\u5b9a\u4e49\u4e2d\uff1a class GenericNumber < T > { zeroValue : T ; add : ( x : T , y : T ) => T ; } let myGenericNumber = new GenericNumber < number > (); myGenericNumber . zeroValue = 0 ; myGenericNumber . add = function ( x , y ) { return x + y ; }; \u6cdb\u578b\u53c2\u6570\u7684\u9ed8\u8ba4\u7c7b\u578b \u00b6 \u5728 TypeScript 2.3 \u4ee5\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a\u6cdb\u578b\u4e2d\u7684\u7c7b\u578b\u53c2\u6570\u6307\u5b9a\u9ed8\u8ba4\u7c7b\u578b\u3002\u5f53\u4f7f\u7528\u6cdb\u578b\u65f6\u6ca1\u6709\u5728\u4ee3\u7801\u4e2d\u76f4\u63a5\u6307\u5b9a\u7c7b\u578b\u53c2\u6570\uff0c\u4ece\u5b9e\u9645\u503c\u53c2\u6570\u4e2d\u4e5f\u65e0\u6cd5\u63a8\u6d4b\u51fa\u65f6\uff0c\u8fd9\u4e2a\u9ed8\u8ba4\u7c7b\u578b\u5c31\u4f1a\u8d77\u4f5c\u7528\u3002 function createArray < T = string > ( length : number , value : T ) : Array < T > { let result : T [] = []; for ( let i = 0 ; i < length ; i ++ ) { result [ i ] = value ; } return result ; } 8.\u58f0\u660e\u5408\u5e76 \u00b6 \u5982\u679c\u5b9a\u4e49\u4e86\u4e24\u4e2a\u76f8\u540c\u540d\u5b57\u7684\u51fd\u6570\u3001\u63a5\u53e3\u6216\u7c7b\uff0c\u90a3\u4e48\u5b83\u4eec\u4f1a\u5408\u5e76\u6210\u4e00\u4e2a\u7c7b\u578b\uff1a \u51fd\u6570\u7684\u5408\u5e76 \u00b6 \u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u91cd\u8f7d\u5b9a\u4e49\u591a\u4e2a\u51fd\u6570\u7c7b\u578b\uff1a function reverse ( x : number ) : number ; function reverse ( x : string ) : string ; function reverse ( x : number | string ) : number | string { if ( typeof x === 'number' ) { return Number ( x . toString (). split ( '' ). reverse (). join ( '' )); } else if ( typeof x === 'string' ) { return x . split ( '' ). reverse (). join ( '' ); } } \u63a5\u53e3\u7684\u5408\u5e76 \u00b6 \u63a5\u53e3\u4e2d\u7684\u5c5e\u6027\u5728\u5408\u5e76\u65f6\u4f1a\u7b80\u5355\u7684\u5408\u5e76\u5230\u4e00\u4e2a\u63a5\u53e3\u4e2d\uff1a interface Alarm { price : number ; } interface Alarm { weight : number ; } \u76f8\u5f53\u4e8e\uff1a interface Alarm { price : number ; weight : number ; } \u6ce8\u610f\uff0c \u5408\u5e76\u7684\u5c5e\u6027\u7684\u7c7b\u578b\u5fc5\u987b\u662f\u552f\u4e00\u7684 \uff1a interface Alarm { price : number ; } interface Alarm { price : number ; // \u867d\u7136\u91cd\u590d\u4e86\uff0c\u4f46\u662f\u7c7b\u578b\u90fd\u662f `number`\uff0c\u6240\u4ee5\u4e0d\u4f1a\u62a5\u9519 weight : number ; } interface Alarm { price : number ; } interface Alarm { price : string ; // \u7c7b\u578b\u4e0d\u4e00\u81f4\uff0c\u4f1a\u62a5\u9519 weight : number ; } // index.ts(5,3): error TS2403: Subsequent variable declarations must have the same type. Variable 'price' must be of type 'number', but here has type 'string'. \u63a5\u53e3\u4e2d\u65b9\u6cd5\u7684\u5408\u5e76\uff0c\u4e0e\u51fd\u6570\u7684\u5408\u5e76\u4e00\u6837\uff1a interface Alarm { price : number ; alert ( s : string ) : string ; } interface Alarm { weight : number ; alert ( s : string , n : number ) : string ; } \u76f8\u5f53\u4e8e\uff1a interface Alarm { price : number ; weight : number ; alert ( s : string ) : string ; alert ( s : string , n : number ) : string ; } \u7c7b\u7684\u5408\u5e76 \u00b6 \u7c7b\u7684\u5408\u5e76\u4e0e\u63a5\u53e3\u7684\u5408\u5e76\u89c4\u5219\u4e00\u81f4\u3002","title":"03-\u8fdb\u9636.md"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_1","text":"\u672c\u90e8\u5206\u4ecb\u7ecd\u4e00\u4e9b\u9ad8\u7ea7\u7684\u7c7b\u578b\u4e0e\u6280\u672f\uff0c\u5177\u4f53\u5185\u5bb9\u5305\u62ec\uff1a","title":"\u8fdb\u9636"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#1","text":"\u7c7b\u578b\u522b\u540d\u7528\u6765\u7ed9\u4e00\u4e2a\u7c7b\u578b\u8d77\u4e2a\u65b0\u540d\u5b57\u3002\u7b80\u5355\u7684\u4f8b\u5b50 type Name = string ; type NameResolver = () => string ; type NameOrResolver = Name | NameResolver ; function getName ( n : NameOrResolver ) : Name { if ( typeof n === 'string' ) { return n ; } else { return n (); } } \u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528 type \u521b\u5efa\u7c7b\u578b\u522b\u540d\u3002\u7c7b\u578b\u522b\u540d\u5e38\u7528\u4e8e\u8054\u5408\u7c7b\u578b\u3002","title":"1.\u7c7b\u578b\u522b\u540d"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#2","text":"\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b\u7528\u6765\u7ea6\u675f\u53d6\u503c\u53ea\u80fd\u662f\u67d0\u51e0\u4e2a\u5b57\u7b26\u4e32\u4e2d\u7684\u4e00\u4e2a\u3002 type EventNames = 'click' | 'scroll' | 'mousemove' ; function handleEvent ( ele : Element , event : EventNames ) { // do something } handleEvent ( document . getElementById ( 'hello' ), 'scroll' ); // \u6ca1\u95ee\u9898 handleEvent ( document . getElementById ( 'world' ), 'dblclick' ); // \u62a5\u9519\uff0cevent \u4e0d\u80fd\u4e3a 'dblclick' // index.ts(7,47): error TS2345: Argument of type '\"dblclick\"' is not assignable to parameter of type 'EventNames'. \u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528 type \u5b9a\u4e86\u4e00\u4e2a\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b EventNames \uff0c\u5b83\u53ea\u80fd\u53d6\u4e09\u79cd\u5b57\u7b26\u4e32\u4e2d\u7684\u4e00\u79cd\u3002 \u6ce8\u610f\uff0c \u7c7b\u578b\u522b\u540d\u4e0e\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b\u90fd\u662f\u4f7f\u7528 type \u8fdb\u884c\u5b9a\u4e49\u3002","title":"2.\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#3","text":"\u6570\u7ec4\u5408\u5e76\u4e86\u76f8\u540c\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u800c\u5143\u7ec4\uff08Tuple\uff09\u5408\u5e76\u4e86\u4e0d\u540c\u7c7b\u578b\u7684\u5bf9\u8c61\u3002 \u5143\u7ec4\u8d77\u6e90\u4e8e\u51fd\u6570\u7f16\u7a0b\u8bed\u8a00\uff08\u5982 F#\uff09\uff0c\u8fd9\u4e9b\u8bed\u8a00\u4e2d\u4f1a\u9891\u7e41\u4f7f\u7528\u5143\u7ec4\u3002 \u4f8b\u5b50 \u5b9a\u4e49\u4e00\u5bf9\u503c\u5206\u522b\u4e3a string \u548c number \u7684\u5143\u7ec4\uff1a let tom : [ string , number ] = [ 'Tom' , 25 ]; \u5f53\u8d4b\u503c\u6216\u8bbf\u95ee\u4e00\u4e2a\u5df2\u77e5\u7d22\u5f15\u7684\u5143\u7d20\u65f6\uff0c\u4f1a\u5f97\u5230\u6b63\u786e\u7684\u7c7b\u578b\uff1a let tom : [ string , number ]; tom [ 0 ] = 'Tom' ; tom [ 1 ] = 25 ; tom [ 0 ]. slice ( 1 ); tom [ 1 ]. toFixed ( 2 ); \u4e5f\u53ef\u4ee5\u53ea\u8d4b\u503c\u5176\u4e2d\u4e00\u9879\uff1a let tom : [ string , number ]; tom [ 0 ] = 'Tom' ; \u4f46\u662f\u5f53\u76f4\u63a5\u5bf9\u5143\u7ec4\u7c7b\u578b\u7684\u53d8\u91cf\u8fdb\u884c\u521d\u59cb\u5316\u6216\u8005\u8d4b\u503c\u7684\u65f6\u5019\uff0c\u9700\u8981\u63d0\u4f9b\u6240\u6709\u5143\u7ec4\u7c7b\u578b\u4e2d\u6307\u5b9a\u7684\u9879\u3002 let tom : [ string , number ]; tom = [ 'Tom' , 25 ]; let tom : [ string , number ]; tom = [ 'Tom' ]; // Property '1' is missing in type '[string]' but required in type '[string, number]'. \u8d8a\u754c\u7684\u5143\u7d20\uff1a\u5f53\u6dfb\u52a0\u8d8a\u754c\u7684\u5143\u7d20\u65f6\uff0c\u5b83\u7684\u7c7b\u578b\u4f1a\u88ab\u9650\u5236\u4e3a\u5143\u7ec4\u4e2d\u6bcf\u4e2a\u7c7b\u578b\u7684\u8054\u5408\u7c7b\u578b\uff1a let tom : [ string , number ]; tom = [ 'Tom' , 25 ]; tom . push ( 'male' ); tom . push ( true ); // Argument of type 'true' is not assignable to parameter of type 'string | number'.","title":"3.\u5143\u7ec4"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#4","text":"\u679a\u4e3e\uff08Enum\uff09\u7c7b\u578b\u7528\u4e8e\u53d6\u503c\u88ab\u9650\u5b9a\u5728\u4e00\u5b9a\u8303\u56f4\u5185\u7684\u573a\u666f\uff0c\u6bd4\u5982\u4e00\u5468\u53ea\u80fd\u6709\u4e03\u5929\uff0c\u989c\u8272\u9650\u5b9a\u4e3a\u7ea2\u7eff\u84dd\u7b49\u3002 \u4f8b\u5b50 \u679a\u4e3e\u4f7f\u7528 enum \u5173\u952e\u5b57\u6765\u5b9a\u4e49\uff1a enum Days { Sun , Mon , Tue , Wed , Thu , Fri , Sat }; \u679a\u4e3e\u6210\u5458\u4f1a\u88ab\u8d4b\u503c\u4e3a\u4ece 0 \u5f00\u59cb\u9012\u589e\u7684\u6570\u5b57\uff0c\u540c\u65f6\u4e5f\u4f1a\u5bf9\u679a\u4e3e\u503c\u5230\u679a\u4e3e\u540d\u8fdb\u884c\u53cd\u5411\u6620\u5c04\uff1a enum Days { Sun , Mon , Tue , Wed , Thu , Fri , Sat }; console . log ( Days [ \"Sun\" ] === 0 ); // true console . log ( Days [ \"Mon\" ] === 1 ); // true console . log ( Days [ \"Tue\" ] === 2 ); // true console . log ( Days [ \"Sat\" ] === 6 ); // true console . log ( Days [ 0 ] === \"Sun\" ); // true console . log ( Days [ 1 ] === \"Mon\" ); // true console . log ( Days [ 2 ] === \"Tue\" ); // true console . log ( Days [ 6 ] === \"Sat\" ); // true \u4e8b\u5b9e\u4e0a\uff0c\u4e0a\u9762\u7684\u4f8b\u5b50\u4f1a\u88ab\u7f16\u8bd1\u4e3a\uff1a var Days ; ( function ( Days ) { Days [ Days [ \"Sun\" ] = 0 ] = \"Sun\" ; Days [ Days [ \"Mon\" ] = 1 ] = \"Mon\" ; Days [ Days [ \"Tue\" ] = 2 ] = \"Tue\" ; Days [ Days [ \"Wed\" ] = 3 ] = \"Wed\" ; Days [ Days [ \"Thu\" ] = 4 ] = \"Thu\" ; Days [ Days [ \"Fri\" ] = 5 ] = \"Fri\" ; Days [ Days [ \"Sat\" ] = 6 ] = \"Sat\" ; })( Days || ( Days = {}));","title":"4.\u679a\u4e3e"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_2","text":"\u6211\u4eec\u4e5f\u53ef\u4ee5\u7ed9\u679a\u4e3e\u9879\u624b\u52a8\u8d4b\u503c\uff1a enum Days { Sun = 7 , Mon = 1 , Tue , Wed , Thu , Fri , Sat }; console . log ( Days [ \"Sun\" ] === 7 ); // true console . log ( Days [ \"Mon\" ] === 1 ); // true console . log ( Days [ \"Tue\" ] === 2 ); // true console . log ( Days [ \"Sat\" ] === 6 ); // true \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u672a\u624b\u52a8\u8d4b\u503c\u7684\u679a\u4e3e\u9879\u4f1a\u63a5\u7740\u4e0a\u4e00\u4e2a\u679a\u4e3e\u9879\u9012\u589e\u3002 \u5982\u679c\u672a\u624b\u52a8\u8d4b\u503c\u7684\u679a\u4e3e\u9879\u4e0e\u624b\u52a8\u8d4b\u503c\u7684\u91cd\u590d\u4e86\uff0cTypeScript \u662f\u4e0d\u4f1a\u5bdf\u89c9\u5230\u8fd9\u4e00\u70b9\u7684\uff1a enum Days { Sun = 3 , Mon = 1 , Tue , Wed , Thu , Fri , Sat }; console . log ( Days [ \"Sun\" ] === 3 ); // true console . log ( Days [ \"Wed\" ] === 3 ); // true console . log ( Days [ 3 ] === \"Sun\" ); // false console . log ( Days [ 3 ] === \"Wed\" ); // true \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u9012\u589e\u5230 3 \u7684\u65f6\u5019\u4e0e\u524d\u9762\u7684 Sun \u7684\u53d6\u503c\u91cd\u590d\u4e86\uff0c\u4f46\u662f TypeScript \u5e76\u6ca1\u6709\u62a5\u9519\uff0c\u5bfc\u81f4 Days[3] \u7684\u503c\u5148\u662f \"Sun\" \uff0c\u800c\u540e\u53c8\u88ab \"Wed\" \u8986\u76d6\u4e86\u3002\u7f16\u8bd1\u7684\u7ed3\u679c\u662f\uff1a var Days ; ( function ( Days ) { Days [ Days [ \"Sun\" ] = 3 ] = \"Sun\" ; Days [ Days [ \"Mon\" ] = 1 ] = \"Mon\" ; Days [ Days [ \"Tue\" ] = 2 ] = \"Tue\" ; Days [ Days [ \"Wed\" ] = 3 ] = \"Wed\" ; Days [ Days [ \"Thu\" ] = 4 ] = \"Thu\" ; Days [ Days [ \"Fri\" ] = 5 ] = \"Fri\" ; Days [ Days [ \"Sat\" ] = 6 ] = \"Sat\" ; })( Days || ( Days = {})); \u6240\u4ee5\u4f7f\u7528\u7684\u65f6\u5019\u9700\u8981\u6ce8\u610f\uff0c\u6700\u597d\u4e0d\u8981\u51fa\u73b0\u8fd9\u79cd\u8986\u76d6\u7684\u60c5\u51b5\u3002 \u624b\u52a8\u8d4b\u503c\u7684\u679a\u4e3e\u9879\u53ef\u4ee5\u4e0d\u662f\u6570\u5b57\uff0c\u6b64\u65f6\u9700\u8981\u4f7f\u7528\u7c7b\u578b\u65ad\u8a00\u6765\u8ba9 tsc \u65e0\u89c6\u7c7b\u578b\u68c0\u67e5 (\u7f16\u8bd1\u51fa\u7684 js \u4ecd\u7136\u662f\u53ef\u7528\u7684)\uff1a enum Days { Sun = 7 , Mon , Tue , Wed , Thu , Fri , Sat = < any > \"S\" }; var Days ; ( function ( Days ) { Days [ Days [ \"Sun\" ] = 7 ] = \"Sun\" ; Days [ Days [ \"Mon\" ] = 8 ] = \"Mon\" ; Days [ Days [ \"Tue\" ] = 9 ] = \"Tue\" ; Days [ Days [ \"Wed\" ] = 10 ] = \"Wed\" ; Days [ Days [ \"Thu\" ] = 11 ] = \"Thu\" ; Days [ Days [ \"Fri\" ] = 12 ] = \"Fri\" ; Days [ Days [ \"Sat\" ] = \"S\" ] = \"Sat\" ; })( Days || ( Days = {})); \u5f53\u7136\uff0c\u624b\u52a8\u8d4b\u503c\u7684\u679a\u4e3e\u9879\u4e5f\u53ef\u4ee5\u4e3a\u5c0f\u6570\u6216\u8d1f\u6570\uff0c\u6b64\u65f6\u540e\u7eed\u672a\u624b\u52a8\u8d4b\u503c\u7684\u9879\u7684\u9012\u589e\u6b65\u957f\u4ecd\u4e3a 1 \uff1a enum Days { Sun = 7 , Mon = 1.5 , Tue , Wed , Thu , Fri , Sat }; console . log ( Days [ \"Sun\" ] === 7 ); // true console . log ( Days [ \"Mon\" ] === 1.5 ); // true console . log ( Days [ \"Tue\" ] === 2.5 ); // true console . log ( Days [ \"Sat\" ] === 6.5 ); // true","title":"\u624b\u52a8\u8d4b\u503c"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_3","text":"\u679a\u4e3e\u9879\u6709\u4e24\u79cd\u7c7b\u578b\uff1a\u5e38\u6570\u9879\uff08constant member\uff09\u548c\u8ba1\u7b97\u6240\u5f97\u9879\uff08computed member\uff09\u3002 \u524d\u9762\u6211\u4eec\u6240\u4e3e\u7684\u4f8b\u5b50\u90fd\u662f\u5e38\u6570\u9879\uff0c\u4e00\u4e2a\u5178\u578b\u7684\u8ba1\u7b97\u6240\u5f97\u9879\u7684\u4f8b\u5b50\uff1a enum Color { Red , Green , Blue = \"blue\" . length }; \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c \"blue\".length \u5c31\u662f\u4e00\u4e2a\u8ba1\u7b97\u6240\u5f97\u9879\u3002 \u4e0a\u9762\u7684\u4f8b\u5b50\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u662f**\u5982\u679c\u7d27\u63a5\u5728\u8ba1\u7b97\u6240\u5f97\u9879\u540e\u9762\u7684\u662f\u672a\u624b\u52a8\u8d4b\u503c\u7684\u9879\uff0c\u90a3\u4e48\u5b83\u5c31\u4f1a\u56e0\u4e3a\u65e0\u6cd5\u83b7\u5f97\u521d\u59cb\u503c\u800c\u62a5\u9519**\uff1a enum Color { Red = \"red\" . length , Green , Blue }; // index.ts(1,33): error TS1061: Enum member must have initializer. // index.ts(1,40): error TS1061: Enum member must have initializer. \u4e0b\u9762\u662f\u5e38\u6570\u9879\u548c\u8ba1\u7b97\u6240\u5f97\u9879\u7684\u5b8c\u6574\u5b9a\u4e49\uff1a \u5f53\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\u65f6\uff0c\u679a\u4e3e\u6210\u5458\u88ab\u5f53\u4f5c\u662f\u5e38\u6570\uff1a \u4e0d\u5177\u6709\u521d\u59cb\u5316\u51fd\u6570\u5e76\u4e14\u4e4b\u524d\u7684\u679a\u4e3e\u6210\u5458\u662f\u5e38\u6570\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5f53\u524d\u679a\u4e3e\u6210\u5458\u7684\u503c\u4e3a\u4e0a\u4e00\u4e2a\u679a\u4e3e\u6210\u5458\u7684\u503c\u52a0 1 \u3002\u4f46\u7b2c\u4e00\u4e2a\u679a\u4e3e\u5143\u7d20\u662f\u4e2a\u4f8b\u5916\u3002\u5982\u679c\u5b83\u6ca1\u6709\u521d\u59cb\u5316\u65b9\u6cd5\uff0c\u90a3\u4e48\u5b83\u7684\u521d\u59cb\u503c\u4e3a 0 \u3002 \u679a\u4e3e\u6210\u5458\u4f7f\u7528\u5e38\u6570\u679a\u4e3e\u8868\u8fbe\u5f0f\u521d\u59cb\u5316\u3002\u5e38\u6570\u679a\u4e3e\u8868\u8fbe\u5f0f\u662f TypeScript \u8868\u8fbe\u5f0f\u7684\u5b50\u96c6\uff0c\u5b83\u53ef\u4ee5\u5728\u7f16\u8bd1\u9636\u6bb5\u6c42\u503c\u3002\u5f53\u4e00\u4e2a\u8868\u8fbe\u5f0f\u6ee1\u8db3\u4e0b\u9762\u6761\u4ef6\u4e4b\u4e00\u65f6\uff0c\u5b83\u5c31\u662f\u4e00\u4e2a\u5e38\u6570\u679a\u4e3e\u8868\u8fbe\u5f0f\uff1a \u6570\u5b57\u5b57\u9762\u91cf \u5f15\u7528\u4e4b\u524d\u5b9a\u4e49\u7684\u5e38\u6570\u679a\u4e3e\u6210\u5458\uff08\u53ef\u4ee5\u662f\u5728\u4e0d\u540c\u7684\u679a\u4e3e\u7c7b\u578b\u4e2d\u5b9a\u4e49\u7684\uff09\u5982\u679c\u8fd9\u4e2a\u6210\u5458\u662f\u5728\u540c\u4e00\u4e2a\u679a\u4e3e\u7c7b\u578b\u4e2d\u5b9a\u4e49\u7684\uff0c\u53ef\u4ee5\u4f7f\u7528\u975e\u9650\u5b9a\u540d\u6765\u5f15\u7528 \u5e26\u62ec\u53f7\u7684\u5e38\u6570\u679a\u4e3e\u8868\u8fbe\u5f0f + , - , ~ \u4e00\u5143\u8fd0\u7b97\u7b26\u5e94\u7528\u4e8e\u5e38\u6570\u679a\u4e3e\u8868\u8fbe\u5f0f + , - , * , / , % , << , >> , >>> , & , | , ^ \u4e8c\u5143\u8fd0\u7b97\u7b26\uff0c\u5e38\u6570\u679a\u4e3e\u8868\u8fbe\u5f0f\u505a\u4e3a\u5176\u4e00\u4e2a\u64cd\u4f5c\u5bf9\u8c61\u3002\u82e5\u5e38\u6570\u679a\u4e3e\u8868\u8fbe\u5f0f\u6c42\u503c\u540e\u4e3a NaN \u6216 Infinity\uff0c\u5219\u4f1a\u5728\u7f16\u8bd1\u9636\u6bb5\u62a5\u9519 \u6240\u6709\u5176\u5b83\u60c5\u51b5\u7684\u679a\u4e3e\u6210\u5458\u88ab\u5f53\u4f5c\u662f\u9700\u8981\u8ba1\u7b97\u5f97\u51fa\u7684\u503c\u3002","title":"\u5e38\u6570\u9879\u548c\u8ba1\u7b97\u6240\u5f97\u9879"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_4","text":"\u5e38\u6570\u679a\u4e3e\u662f\u4f7f\u7528 const enum \u5b9a\u4e49\u7684\u679a\u4e3e\u7c7b\u578b\uff1a const enum Directions { Up , Down , Left , Right } let directions = [ Directions . Up , Directions . Down , Directions . Left , Directions . Right ]; \u5e38\u6570\u679a\u4e3e\u4e0e\u666e\u901a\u679a\u4e3e\u7684\u533a\u522b\u662f\uff0c\u5b83\u4f1a\u5728\u7f16\u8bd1\u9636\u6bb5\u88ab\u5220\u9664\uff0c\u5e76\u4e14\u4e0d\u80fd\u5305\u542b\u8ba1\u7b97\u6210\u5458\u3002 \u4e0a\u4f8b\u7684\u7f16\u8bd1\u7ed3\u679c\u662f\uff1a var directions = [ 0 /* Up */ , 1 /* Down */ , 2 /* Left */ , 3 /* Right */ ]; \u5047\u5982\u5305\u542b\u4e86\u8ba1\u7b97\u6210\u5458\uff0c\u5219\u4f1a\u5728\u7f16\u8bd1\u9636\u6bb5\u62a5\u9519\uff1a const enum Color { Red , Green , Blue = \"blue\" . length }; // index.ts(1,38): error TS2474: In 'const' enum declarations member initializer must be constant expression.","title":"\u5e38\u6570\u679a\u4e3e"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_5","text":"\u5916\u90e8\u679a\u4e3e\uff08Ambient Enums\uff09\u662f\u4f7f\u7528 declare enum \u5b9a\u4e49\u7684\u679a\u4e3e\u7c7b\u578b\uff1a declare enum Directions { Up , Down , Left , Right } let directions = [ Directions . Up , Directions . Down , Directions . Left , Directions . Right ]; \u4e4b\u524d\u63d0\u5230\u8fc7\uff0c declare \u5b9a\u4e49\u7684\u7c7b\u578b\u53ea\u4f1a\u7528\u4e8e\u7f16\u8bd1\u65f6\u7684\u68c0\u67e5\uff0c\u7f16\u8bd1\u7ed3\u679c\u4e2d\u4f1a\u88ab\u5220\u9664\u3002 \u4e0a\u4f8b\u7684\u7f16\u8bd1\u7ed3\u679c\u662f\uff1a var directions = [ Directions . Up , Directions . Down , Directions . Left , Directions . Right ]; \u5916\u90e8\u679a\u4e3e\u4e0e\u58f0\u660e\u8bed\u53e5\u4e00\u6837\uff0c\u5e38\u51fa\u73b0\u5728\u58f0\u660e\u6587\u4ef6\u4e2d\u3002 \u540c\u65f6\u4f7f\u7528 declare \u548c const \u4e5f\u662f\u53ef\u4ee5\u7684\uff1a declare const enum Directions { Up , Down , Left , Right } let directions = [ Directions . Up , Directions . Down , Directions . Left , Directions . Right ]; \u7f16\u8bd1\u7ed3\u679c\uff1a var directions = [ 0 /* Up */ , 1 /* Down */ , 2 /* Left */ , 3 /* Right */ ];","title":"\u5916\u90e8\u679a\u4e3e"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#5","text":"\u4f20\u7edf\u65b9\u6cd5\u4e2d\uff0cJavaScript \u901a\u8fc7\u6784\u9020\u51fd\u6570\u5b9e\u73b0\u7c7b\u7684\u6982\u5ff5\uff0c\u901a\u8fc7\u539f\u578b\u94fe\u5b9e\u73b0\u7ee7\u627f\u3002\u800c\u5728 ES6 \u4e2d\uff0c\u6211\u4eec\u7ec8\u4e8e\u8fce\u6765\u4e86 class \u3002 TypeScript \u9664\u4e86\u5b9e\u73b0\u4e86\u6240\u6709 ES6 \u4e2d\u7684\u7c7b\u7684\u529f\u80fd\u4ee5\u5916\uff0c\u8fd8\u6dfb\u52a0\u4e86\u4e00\u4e9b\u65b0\u7684\u7528\u6cd5\u3002 \u8fd9\u4e00\u8282\u4e3b\u8981\u4ecb\u7ecd\u7c7b\u7684\u7528\u6cd5\uff0c\u4e0b\u4e00\u8282\u518d\u4ecb\u7ecd\u5982\u4f55\u5b9a\u4e49\u7c7b\u7684\u7c7b\u578b\u3002","title":"5.\u7c7b"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_6","text":"\u867d\u7136 JavaScript \u4e2d\u6709\u7c7b\u7684\u6982\u5ff5\uff0c\u4f46\u662f\u53ef\u80fd\u5927\u591a\u6570 JavaScript \u7a0b\u5e8f\u5458\u5e76\u4e0d\u662f\u975e\u5e38\u719f\u6089\u7c7b\uff0c\u8fd9\u91cc\u5bf9\u7c7b\u76f8\u5173\u7684\u6982\u5ff5\u505a\u4e00\u4e2a\u7b80\u5355\u7684\u4ecb\u7ecd\u3002 \u7c7b\uff08Class\uff09\uff1a\u5b9a\u4e49\u4e86\u4e00\u4ef6\u4e8b\u7269\u7684\u62bd\u8c61\u7279\u70b9\uff0c\u5305\u542b\u5b83\u7684\u5c5e\u6027\u548c\u65b9\u6cd5 \u5bf9\u8c61\uff08Object\uff09\uff1a\u7c7b\u7684\u5b9e\u4f8b\uff0c\u901a\u8fc7 new \u751f\u6210 \u9762\u5411\u5bf9\u8c61\uff08OOP\uff09\u7684\u4e09\u5927\u7279\u6027\uff1a\u5c01\u88c5\u3001\u7ee7\u627f\u3001\u591a\u6001 \u5c01\u88c5\uff08Encapsulation\uff09\uff1a\u5c06\u5bf9\u6570\u636e\u7684\u64cd\u4f5c\u7ec6\u8282\u9690\u85cf\u8d77\u6765\uff0c\u53ea\u66b4\u9732\u5bf9\u5916\u7684\u63a5\u53e3\u3002\u5916\u754c\u8c03\u7528\u7aef\u4e0d\u9700\u8981\uff08\u4e5f\u4e0d\u53ef\u80fd\uff09\u77e5\u9053\u7ec6\u8282\uff0c\u5c31\u80fd\u901a\u8fc7\u5bf9\u5916\u63d0\u4f9b\u7684\u63a5\u53e3\u6765\u8bbf\u95ee\u8be5\u5bf9\u8c61\uff0c\u540c\u65f6\u4e5f\u4fdd\u8bc1\u4e86\u5916\u754c\u65e0\u6cd5\u4efb\u610f\u66f4\u6539\u5bf9\u8c61\u5185\u90e8\u7684\u6570\u636e \u7ee7\u627f\uff08Inheritance\uff09\uff1a\u5b50\u7c7b\u7ee7\u627f\u7236\u7c7b\uff0c\u5b50\u7c7b\u9664\u4e86\u62e5\u6709\u7236\u7c7b\u7684\u6240\u6709\u7279\u6027\u5916\uff0c\u8fd8\u6709\u4e00\u4e9b\u66f4\u5177\u4f53\u7684\u7279\u6027 \u591a\u6001\uff08Polymorphism\uff09\uff1a\u7531\u7ee7\u627f\u800c\u4ea7\u751f\u4e86\u76f8\u5173\u7684\u4e0d\u540c\u7684\u7c7b\uff0c\u5bf9\u540c\u4e00\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u6709\u4e0d\u540c\u7684\u54cd\u5e94\u3002\u6bd4\u5982 Cat \u548c Dog \u90fd\u7ee7\u627f\u81ea Animal \uff0c\u4f46\u662f\u5206\u522b\u5b9e\u73b0\u4e86\u81ea\u5df1\u7684 eat \u65b9\u6cd5\u3002\u6b64\u65f6\u9488\u5bf9\u67d0\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u6211\u4eec\u65e0\u9700\u4e86\u89e3\u5b83\u662f Cat \u8fd8\u662f Dog \uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528 eat \u65b9\u6cd5\uff0c\u7a0b\u5e8f\u4f1a\u81ea\u52a8\u5224\u65ad\u51fa\u6765\u5e94\u8be5\u5982\u4f55\u6267\u884c eat \u5b58\u53d6\u5668\uff08getter & setter\uff09\uff1a\u7528\u4ee5\u6539\u53d8\u5c5e\u6027\u7684\u8bfb\u53d6\u548c\u8d4b\u503c\u884c\u4e3a \u4fee\u9970\u7b26\uff08Modifiers\uff09\uff1a\u4fee\u9970\u7b26\u662f\u4e00\u4e9b\u5173\u952e\u5b57\uff0c\u7528\u4e8e\u9650\u5b9a\u6210\u5458\u6216\u7c7b\u578b\u7684\u6027\u8d28\u3002\u6bd4\u5982 public \u8868\u793a\u516c\u6709\u5c5e\u6027\u6216\u65b9\u6cd5 \u62bd\u8c61\u7c7b\uff08Abstract Class\uff09\uff1a\u62bd\u8c61\u7c7b\u662f\u4f9b\u5176\u4ed6\u7c7b\u7ee7\u627f\u7684\u57fa\u7c7b\uff0c\u62bd\u8c61\u7c7b\u4e0d\u5141\u8bb8\u88ab\u5b9e\u4f8b\u5316\u3002\u62bd\u8c61\u7c7b\u4e2d\u7684\u62bd\u8c61\u65b9\u6cd5\u5fc5\u987b\u5728\u5b50\u7c7b\u4e2d\u88ab\u5b9e\u73b0 \u63a5\u53e3\uff08Interfaces\uff09\uff1a\u4e0d\u540c\u7c7b\u4e4b\u95f4\u516c\u6709\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\uff0c\u53ef\u4ee5\u62bd\u8c61\u6210\u4e00\u4e2a\u63a5\u53e3\u3002\u63a5\u53e3\u53ef\u4ee5\u88ab\u7c7b\u5b9e\u73b0\uff08implements\uff09\u3002\u4e00\u4e2a\u7c7b\u53ea\u80fd\u7ee7\u627f\u81ea\u53e6\u4e00\u4e2a\u7c7b\uff0c\u4f46\u662f\u53ef\u4ee5\u5b9e\u73b0\u591a\u4e2a\u63a5\u53e3","title":"\u7c7b\u7684\u6982\u5ff5"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#es6","text":"\u4e0b\u9762\u6211\u4eec\u5148\u56de\u987e\u4e00\u4e0b ES6 \u4e2d\u7c7b\u7684\u7528\u6cd5\u3002","title":"ES6 \u4e2d\u7c7b\u7684\u7528\u6cd5"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_7","text":"\u4f7f\u7528 class \u5b9a\u4e49\u7c7b\uff0c\u4f7f\u7528 constructor \u5b9a\u4e49\u6784\u9020\u51fd\u6570\u3002 \u901a\u8fc7 new \u751f\u6210\u65b0\u5b9e\u4f8b\u7684\u65f6\u5019\uff0c\u4f1a\u81ea\u52a8\u8c03\u7528\u6784\u9020\u51fd\u6570\u3002 class Animal { public name ; constructor ( name ) { this . name = name ; } sayHi () { return `My name is ${ this . name } ` ; } } let a = new Animal ( 'Jack' ); console . log ( a . sayHi ()); // My name is Jack","title":"\u5c5e\u6027\u548c\u65b9\u6cd5"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_8","text":"\u4f7f\u7528 extends \u5173\u952e\u5b57\u5b9e\u73b0\u7ee7\u627f\uff0c\u5b50\u7c7b\u4e2d\u4f7f\u7528 super \u5173\u952e\u5b57\u6765\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570\u548c\u65b9\u6cd5\u3002 class Cat extends Animal { constructor ( name ) { super ( name ); // \u8c03\u7528\u7236\u7c7b\u7684 constructor(name) console . log ( this . name ); } sayHi () { return 'Meow, ' + super . sayHi (); // \u8c03\u7528\u7236\u7c7b\u7684 sayHi() } } let c = new Cat ( 'Tom' ); // Tom console . log ( c . sayHi ()); // Meow, My name is Tom","title":"\u7c7b\u7684\u7ee7\u627f"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_9","text":"\u4f7f\u7528 getter \u548c setter \u53ef\u4ee5\u6539\u53d8\u5c5e\u6027\u7684\u8d4b\u503c\u548c\u8bfb\u53d6\u884c\u4e3a\uff1a class Animal { constructor ( name ) { this . name = name ; } get name () { return 'Jack' ; } set name ( value ) { console . log ( 'setter: ' + value ); } } let a = new Animal ( 'Kitty' ); // setter: Kitty a . name = 'Tom' ; // setter: Tom console . log ( a . name ); // Jack","title":"\u5b58\u53d6\u5668"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_10","text":"\u4f7f\u7528 static \u4fee\u9970\u7b26\u4fee\u9970\u7684\u65b9\u6cd5\u79f0\u4e3a\u9759\u6001\u65b9\u6cd5\uff0c\u5b83\u4eec\u4e0d\u9700\u8981\u5b9e\u4f8b\u5316\uff0c\u800c\u662f\u76f4\u63a5\u901a\u8fc7\u7c7b\u6765\u8c03\u7528\uff1a class Animal { static isAnimal ( a ) { return a instanceof Animal ; } } let a = new Animal ( 'Jack' ); Animal . isAnimal ( a ); // true a . isAnimal ( a ); // TypeError: a.isAnimal is not a function","title":"\u9759\u6001\u65b9\u6cd5"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#es7","text":"ES7 \u4e2d\u6709\u4e00\u4e9b\u5173\u4e8e\u7c7b\u7684\u63d0\u6848\uff0cTypeScript \u4e5f\u5b9e\u73b0\u4e86\u5b83\u4eec\uff0c\u8fd9\u91cc\u505a\u4e00\u4e2a\u7b80\u5355\u7684\u4ecb\u7ecd\u3002","title":"ES7 \u4e2d\u7c7b\u7684\u7528\u6cd5"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_11","text":"ES6 \u4e2d\u5b9e\u4f8b\u7684\u5c5e\u6027\u53ea\u80fd\u901a\u8fc7\u6784\u9020\u51fd\u6570\u4e2d\u7684 this.xxx \u6765\u5b9a\u4e49\uff0cES7 \u63d0\u6848\u4e2d\u53ef\u4ee5\u76f4\u63a5\u5728\u7c7b\u91cc\u9762\u5b9a\u4e49\uff1a class Animal { name = 'Jack' ; constructor () { // ... } } let a = new Animal (); console . log ( a . name ); // Jack","title":"\u5b9e\u4f8b\u5c5e\u6027"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_12","text":"ES7 \u63d0\u6848\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 static \u5b9a\u4e49\u4e00\u4e2a\u9759\u6001\u5c5e\u6027\uff1a class Animal { static num = 42 ; constructor () { // ... } } console . log ( Animal . num ); // 42","title":"\u9759\u6001\u5c5e\u6027"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#typescript","text":"","title":"TypeScript \u4e2d\u7c7b\u7684\u7528\u6cd5"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#public-private-protected","text":"TypeScript \u53ef\u4ee5\u4f7f\u7528\u4e09\u79cd\u8bbf\u95ee\u4fee\u9970\u7b26\uff08Access Modifiers\uff09\uff0c\u5206\u522b\u662f public \u3001 private \u548c protected \u3002 public \u4fee\u9970\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\u662f\u516c\u6709\u7684\uff0c\u53ef\u4ee5\u5728\u4efb\u4f55\u5730\u65b9\u88ab\u8bbf\u95ee\u5230\uff0c\u9ed8\u8ba4\u6240\u6709\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u90fd\u662f public \u7684 private \u4fee\u9970\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\u662f\u79c1\u6709\u7684\uff0c\u4e0d\u80fd\u5728\u58f0\u660e\u5b83\u7684\u7c7b\u7684\u5916\u90e8\u8bbf\u95ee protected \u4fee\u9970\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\u662f\u53d7\u4fdd\u62a4\u7684\uff0c\u5b83\u548c private \u7c7b\u4f3c\uff0c\u533a\u522b\u662f\u5b83\u5728\u5b50\u7c7b\u4e2d\u4e5f\u662f\u5141\u8bb8\u88ab\u8bbf\u95ee\u7684 \u4e0b\u9762\u4e3e\u4e00\u4e9b\u4f8b\u5b50\uff1a class Animal { public name ; public constructor ( name ) { this . name = name ; } } let a = new Animal ( 'Jack' ); console . log ( a . name ); // Jack a . name = 'Tom' ; console . log ( a . name ); // Tom \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c name \u88ab\u8bbe\u7f6e\u4e3a\u4e86 public \uff0c\u6240\u4ee5\u76f4\u63a5\u8bbf\u95ee\u5b9e\u4f8b\u7684 name \u5c5e\u6027\u662f\u5141\u8bb8\u7684\u3002 \u5f88\u591a\u65f6\u5019\uff0c\u6211\u4eec\u5e0c\u671b\u6709\u7684\u5c5e\u6027\u662f\u65e0\u6cd5\u76f4\u63a5\u5b58\u53d6\u7684\uff0c\u8fd9\u65f6\u5019\u5c31\u53ef\u4ee5\u7528 private \u4e86\uff1a class Animal { private name ; public constructor ( name ) { this . name = name ; } } let a = new Animal ( 'Jack' ); console . log ( a . name ); // Jack a . name = 'Tom' ; // index.ts(9,13): error TS2341: Property 'name' is private and only accessible within class 'Animal'. // index.ts(10,1): error TS2341: Property 'name' is private and only accessible within class 'Animal'. \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cTypeScript \u7f16\u8bd1\u4e4b\u540e\u7684\u4ee3\u7801\u4e2d\uff0c\u5e76\u6ca1\u6709\u9650\u5236 private \u5c5e\u6027\u5728\u5916\u90e8\u7684\u53ef\u8bbf\u95ee\u6027\u3002 \u4e0a\u9762\u7684\u4f8b\u5b50\u7f16\u8bd1\u540e\u7684\u4ee3\u7801\u662f\uff1a var Animal = ( function () { function Animal ( name ) { this . name = name ; } return Animal ; })(); var a = new Animal ( 'Jack' ); console . log ( a . name ); a . name = 'Tom' ; \u4f7f\u7528 private \u4fee\u9970\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\uff0c\u5728\u5b50\u7c7b\u4e2d\u4e5f\u662f\u4e0d\u5141\u8bb8\u8bbf\u95ee\u7684\uff1a class Animal { private name ; public constructor ( name ) { this . name = name ; } } class Cat extends Animal { constructor ( name ) { super ( name ); console . log ( this . name ); } } // index.ts(11,17): error TS2341: Property 'name' is private and only accessible within class 'Animal'. \u800c\u5982\u679c\u662f\u7528 protected \u4fee\u9970\uff0c\u5219\u5141\u8bb8\u5728\u5b50\u7c7b\u4e2d\u8bbf\u95ee\uff1a class Animal { protected name ; public constructor ( name ) { this . name = name ; } } class Cat extends Animal { constructor ( name ) { super ( name ); console . log ( this . name ); } } \u5f53\u6784\u9020\u51fd\u6570\u4fee\u9970\u4e3a private \u65f6\uff0c\u8be5\u7c7b\u4e0d\u5141\u8bb8\u88ab\u7ee7\u627f\u6216\u8005\u5b9e\u4f8b\u5316\uff1a class Animal { public name ; private constructor ( name ) { this . name = name ; } } class Cat extends Animal { constructor ( name ) { super ( name ); } } let a = new Animal ( 'Jack' ); // index.ts(7,19): TS2675: Cannot extend a class 'Animal'. Class constructor is marked as private. // index.ts(13,9): TS2673: Constructor of class 'Animal' is private and only accessible within the class declaration. \u5f53\u6784\u9020\u51fd\u6570\u4fee\u9970\u4e3a protected \u65f6\uff0c\u8be5\u7c7b\u53ea\u5141\u8bb8\u88ab\u7ee7\u627f\uff1a class Animal { public name ; protected constructor ( name ) { this . name = name ; } } class Cat extends Animal { constructor ( name ) { super ( name ); } } let a = new Animal ( 'Jack' ); // index.ts(13,9): TS2674: Constructor of class 'Animal' is protected and only accessible within the class declaration.","title":"public private \u548c protected"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_13","text":"\u4fee\u9970\u7b26\u548c readonly \u8fd8\u53ef\u4ee5\u4f7f\u7528\u5728\u6784\u9020\u51fd\u6570\u53c2\u6570\u4e2d\uff0c\u7b49\u540c\u4e8e\u7c7b\u4e2d\u5b9a\u4e49\u8be5\u5c5e\u6027\u540c\u65f6\u7ed9\u8be5\u5c5e\u6027\u8d4b\u503c\uff0c\u4f7f\u4ee3\u7801\u66f4\u7b80\u6d01\u3002 class Animal { // public name: string; public constructor ( public name ) { // this.name = name; } }","title":"\u53c2\u6570\u5c5e\u6027"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#readonly","text":"\u53ea\u8bfb\u5c5e\u6027\u5173\u952e\u5b57\uff0c\u53ea\u5141\u8bb8\u51fa\u73b0\u5728\u5c5e\u6027\u58f0\u660e\u6216\u7d22\u5f15\u7b7e\u540d\u6216\u6784\u9020\u51fd\u6570\u4e2d\u3002 class Animal { readonly name ; public constructor ( name ) { this . name = name ; } } let a = new Animal ( 'Jack' ); console . log ( a . name ); // Jack a . name = 'Tom' ; // index.ts(10,3): TS2540: Cannot assign to 'name' because it is a read-only property. \u6ce8\u610f\u5982\u679c readonly \u548c\u5176\u4ed6\u8bbf\u95ee\u4fee\u9970\u7b26\u540c\u65f6\u5b58\u5728\u7684\u8bdd\uff0c\u9700\u8981\u5199\u5728\u5176\u540e\u9762\u3002 class Animal { // public readonly name; public constructor ( public readonly name ) { // this.name = name; } }","title":"readonly"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_14","text":"abstract \u7528\u4e8e\u5b9a\u4e49\u62bd\u8c61\u7c7b\u548c\u5176\u4e2d\u7684\u62bd\u8c61\u65b9\u6cd5\u3002 \u4ec0\u4e48\u662f\u62bd\u8c61\u7c7b\uff1f \u9996\u5148\uff0c\u62bd\u8c61\u7c7b\u662f\u4e0d\u5141\u8bb8\u88ab\u5b9e\u4f8b\u5316\u7684\uff1a abstract class Animal { public name ; public constructor ( name ) { this . name = name ; } public abstract sayHi (); } let a = new Animal ( 'Jack' ); // index.ts(9,11): error TS2511: Cannot create an instance of the abstract class 'Animal'. \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u62bd\u8c61\u7c7b Animal \uff0c\u5e76\u4e14\u5b9a\u4e49\u4e86\u4e00\u4e2a\u62bd\u8c61\u65b9\u6cd5 sayHi \u3002\u5728\u5b9e\u4f8b\u5316\u62bd\u8c61\u7c7b\u7684\u65f6\u5019\u62a5\u9519\u4e86\u3002 \u5176\u6b21\uff0c\u62bd\u8c61\u7c7b\u4e2d\u7684\u62bd\u8c61\u65b9\u6cd5\u5fc5\u987b\u88ab\u5b50\u7c7b\u5b9e\u73b0\uff1a abstract class Animal { public name ; public constructor ( name ) { this . name = name ; } public abstract sayHi (); } class Cat extends Animal { public eat () { console . log ( ` ${ this . name } is eating.` ); } } let cat = new Cat ( 'Tom' ); // index.ts(9,7): error TS2515: Non-abstract class 'Cat' does not implement inherited abstract member 'sayHi' from class 'Animal'. \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7c7b Cat \u7ee7\u627f\u4e86\u62bd\u8c61\u7c7b Animal \uff0c\u4f46\u662f\u6ca1\u6709\u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd5 sayHi \uff0c\u6240\u4ee5\u7f16\u8bd1\u62a5\u9519\u4e86\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u6b63\u786e\u4f7f\u7528\u62bd\u8c61\u7c7b\u7684\u4f8b\u5b50\uff1a abstract class Animal { public name ; public constructor ( name ) { this . name = name ; } public abstract sayHi (); } class Cat extends Animal { public sayHi () { console . log ( `Meow, My name is ${ this . name } ` ); } } let cat = new Cat ( 'Tom' ); \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5b9e\u73b0\u4e86\u62bd\u8c61\u65b9\u6cd5 sayHi \uff0c\u7f16\u8bd1\u901a\u8fc7\u4e86\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5373\u4f7f\u662f\u62bd\u8c61\u65b9\u6cd5\uff0cTypeScript \u7684\u7f16\u8bd1\u7ed3\u679c\u4e2d\uff0c\u4ecd\u7136\u4f1a\u5b58\u5728\u8fd9\u4e2a\u7c7b\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u7684\u7f16\u8bd1\u7ed3\u679c\u662f\uff1a var __extends = ( this && this . __extends ) || function ( d , b ) { for ( var p in b ) if ( b . hasOwnProperty ( p )) d [ p ] = b [ p ]; function __ () { this . constructor = d ; } d . prototype = b === null ? Object . create ( b ) : (( __ . prototype = b . prototype ), new __ ()); }; var Animal = ( function () { function Animal ( name ) { this . name = name ; } return Animal ; })(); var Cat = ( function ( _super ) { __extends ( Cat , _super ); function Cat () { _super . apply ( this , arguments ); } Cat . prototype . sayHi = function () { console . log ( 'Meow, My name is ' + this . name ); }; return Cat ; })( Animal ); var cat = new Cat ( 'Tom' );","title":"\u62bd\u8c61\u7c7b"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_15","text":"\u7ed9\u7c7b\u52a0\u4e0a TypeScript \u7684\u7c7b\u578b\u5f88\u7b80\u5355\uff0c\u4e0e\u63a5\u53e3\u7c7b\u4f3c\uff1a class Animal { name : string ; constructor ( name : string ) { this . name = name ; } sayHi () : string { return `My name is ${ this . name } ` ; } } let a : Animal = new Animal ( 'Jack' ); console . log ( a . sayHi ()); // My name is Jack","title":"\u7c7b\u7684\u7c7b\u578b"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#6","text":"\u63a5\u53e3\uff08Interfaces\uff09\u53ef\u4ee5\u7528\u4e8e\u5bf9\u300c\u5bf9\u8c61\u7684\u5f62\u72b6\uff08Shape\uff09\u300d\u8fdb\u884c\u63cf\u8ff0\u3002 \u8fd9\u4e00\u7ae0\u4e3b\u8981\u4ecb\u7ecd\u63a5\u53e3\u7684\u53e6\u4e00\u4e2a\u7528\u9014\uff0c\u5bf9\u7c7b\u7684\u4e00\u90e8\u5206\u884c\u4e3a\u8fdb\u884c\u62bd\u8c61\u3002","title":"6.\u7c7b\u4e0e\u63a5\u53e3"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_16","text":"\u5b9e\u73b0\uff08implements\uff09\u662f\u9762\u5411\u5bf9\u8c61\u4e2d\u7684\u4e00\u4e2a\u91cd\u8981\u6982\u5ff5\u3002\u4e00\u822c\u6765\u8bb2\uff0c\u4e00\u4e2a\u7c7b\u53ea\u80fd\u7ee7\u627f\u81ea\u53e6\u4e00\u4e2a\u7c7b\uff0c\u6709\u65f6\u5019\u4e0d\u540c\u7c7b\u4e4b\u95f4\u53ef\u4ee5\u6709\u4e00\u4e9b\u5171\u6709\u7684\u7279\u6027\uff0c\u8fd9\u65f6\u5019\u5c31\u53ef\u4ee5\u628a\u7279\u6027\u63d0\u53d6\u6210\u63a5\u53e3\uff08interfaces\uff09\uff0c\u7528 implements \u5173\u952e\u5b57\u6765\u5b9e\u73b0\u3002\u8fd9\u4e2a\u7279\u6027\u5927\u5927\u63d0\u9ad8\u4e86\u9762\u5411\u5bf9\u8c61\u7684\u7075\u6d3b\u6027\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u95e8\u662f\u4e00\u4e2a\u7c7b\uff0c\u9632\u76d7\u95e8\u662f\u95e8\u7684\u5b50\u7c7b\u3002\u5982\u679c\u9632\u76d7\u95e8\u6709\u4e00\u4e2a\u62a5\u8b66\u5668\u7684\u529f\u80fd\uff0c\u6211\u4eec\u53ef\u4ee5\u7b80\u5355\u7684\u7ed9\u9632\u76d7\u95e8\u6dfb\u52a0\u4e00\u4e2a\u62a5\u8b66\u65b9\u6cd5\u3002\u8fd9\u65f6\u5019\u5982\u679c\u6709\u53e6\u4e00\u4e2a\u7c7b\uff0c\u8f66\uff0c\u4e5f\u6709\u62a5\u8b66\u5668\u7684\u529f\u80fd\uff0c\u5c31\u53ef\u4ee5\u8003\u8651\u628a\u62a5\u8b66\u5668\u63d0\u53d6\u51fa\u6765\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u63a5\u53e3\uff0c\u9632\u76d7\u95e8\u548c\u8f66\u90fd\u53bb\u5b9e\u73b0\u5b83\uff1a interface Alarm { alert () : void ; } class Door { } class SecurityDoor extends Door implements Alarm { alert () { console . log ( 'SecurityDoor alert' ); } } class Car implements Alarm { alert () { console . log ( 'Car alert' ); } } \u4e00\u4e2a\u7c7b\u53ef\u4ee5\u5b9e\u73b0\u591a\u4e2a\u63a5\u53e3\uff1a interface Alarm { alert () : void ; } interface Light { lightOn () : void ; lightOff () : void ; } class Car implements Alarm , Light { alert () { console . log ( 'Car alert' ); } lightOn () { console . log ( 'Car light on' ); } lightOff () { console . log ( 'Car light off' ); } } \u4e0a\u4f8b\u4e2d\uff0c Car \u5b9e\u73b0\u4e86 Alarm \u548c Light \u63a5\u53e3\uff0c\u65e2\u80fd\u62a5\u8b66\uff0c\u4e5f\u80fd\u5f00\u5173\u8f66\u706f\u3002","title":"\u7c7b\u5b9e\u73b0\u63a5\u53e3"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_17","text":"\u63a5\u53e3\u4e0e\u63a5\u53e3\u4e4b\u95f4\u53ef\u4ee5\u662f\u7ee7\u627f\u5173\u7cfb\uff1a interface Alarm { alert () : void ; } interface LightableAlarm extends Alarm { lightOn () : void ; lightOff () : void ; } \u8fd9\u5f88\u597d\u7406\u89e3\uff0c LightableAlarm \u7ee7\u627f\u4e86 Alarm \uff0c\u9664\u4e86\u62e5\u6709 alert \u65b9\u6cd5\u4e4b\u5916\uff0c\u8fd8\u62e5\u6709\u4e24\u4e2a\u65b0\u65b9\u6cd5 lightOn \u548c lightOff \u3002","title":"\u63a5\u53e3\u7ee7\u627f\u63a5\u53e3"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_18","text":"\u5e38\u89c1\u7684\u9762\u5411\u5bf9\u8c61\u8bed\u8a00\u4e2d\uff0c\u63a5\u53e3\u662f\u4e0d\u80fd\u7ee7\u627f\u7c7b\u7684\uff0c\u4f46\u662f\u5728 TypeScript \u4e2d\u5374\u662f\u53ef\u4ee5\u7684\uff1a class Point { x : number ; y : number ; constructor ( x : number , y : number ) { this . x = x ; this . y = y ; } } interface Point3d extends Point { z : number ; } let point3d : Point3d = { x : 1 , y : 2 , z : 3 }; \u4e3a\u4ec0\u4e48 TypeScript \u4f1a\u652f\u6301\u63a5\u53e3\u7ee7\u627f\u7c7b\u5462\uff1f \u5b9e\u9645\u4e0a\uff0c\u5f53\u6211\u4eec\u5728\u58f0\u660e class Point \u65f6\uff0c\u9664\u4e86\u4f1a\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a Point \u7684\u7c7b\u4e4b\u5916\uff0c\u540c\u65f6\u4e5f\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a Point \u7684\u7c7b\u578b\uff08\u5b9e\u4f8b\u7684\u7c7b\u578b\uff09\u3002 \u6240\u4ee5\u6211\u4eec\u65e2\u53ef\u4ee5\u5c06 Point \u5f53\u505a\u4e00\u4e2a\u7c7b\u6765\u7528\uff08\u4f7f\u7528 new Point \u521b\u5efa\u5b83\u7684\u5b9e\u4f8b\uff09\uff1a class Point { x : number ; y : number ; constructor ( x : number , y : number ) { this . x = x ; this . y = y ; } } const p = new Point ( 1 , 2 ); \u4e5f\u53ef\u4ee5\u5c06 Point \u5f53\u505a\u4e00\u4e2a\u7c7b\u578b\u6765\u7528\uff08\u4f7f\u7528 : Point \u8868\u793a\u53c2\u6570\u7684\u7c7b\u578b\uff09\uff1a class Point { x : number ; y : number ; constructor ( x : number , y : number ) { this . x = x ; this . y = y ; } } function printPoint ( p : Point ) { console . log ( p . x , p . y ); } printPoint ( new Point ( 1 , 2 )); \u8fd9\u4e2a\u4f8b\u5b50\u5b9e\u9645\u4e0a\u53ef\u4ee5\u7b49\u4ef7\u4e8e\uff1a class Point { x : number ; y : number ; constructor ( x : number , y : number ) { this . x = x ; this . y = y ; } } interface PointInstanceType { x : number ; y : number ; } function printPoint ( p : PointInstanceType ) { console . log ( p . x , p . y ); } printPoint ( new Point ( 1 , 2 )); \u4e0a\u4f8b\u4e2d\u6211\u4eec\u65b0\u58f0\u660e\u7684 PointInstanceType \u7c7b\u578b\uff0c\u4e0e\u58f0\u660e class Point \u65f6\u521b\u5efa\u7684 Point \u7c7b\u578b\u662f\u7b49\u4ef7\u7684\u3002 \u6240\u4ee5\u56de\u5230 Point3d \u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5c31\u80fd\u5f88\u5bb9\u6613\u7684\u7406\u89e3\u4e3a\u4ec0\u4e48 TypeScript \u4f1a\u652f\u6301\u63a5\u53e3\u7ee7\u627f\u7c7b\u4e86\uff1a class Point { x : number ; y : number ; constructor ( x : number , y : number ) { this . x = x ; this . y = y ; } } interface PointInstanceType { x : number ; y : number ; } // \u7b49\u4ef7\u4e8e interface Point3d extends PointInstanceType interface Point3d extends Point { z : number ; } let point3d : Point3d = { x : 1 , y : 2 , z : 3 }; \u5f53\u6211\u4eec\u58f0\u660e interface Point3d extends Point \u65f6\uff0c Point3d \u7ee7\u627f\u7684\u5b9e\u9645\u4e0a\u662f\u7c7b Point \u7684\u5b9e\u4f8b\u7684\u7c7b\u578b\u3002 \u6362\u53e5\u8bdd\u8bf4\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u5b9a\u4e49\u4e86\u4e00\u4e2a\u63a5\u53e3 Point3d \u7ee7\u627f\u53e6\u4e00\u4e2a\u63a5\u53e3 PointInstanceType \u3002 \u6240\u4ee5\u300c\u63a5\u53e3\u7ee7\u627f\u7c7b\u300d\u548c\u300c\u63a5\u53e3\u7ee7\u627f\u63a5\u53e3\u300d\u6ca1\u6709\u4ec0\u4e48\u672c\u8d28\u7684\u533a\u522b\u3002 \u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c PointInstanceType \u76f8\u6bd4\u4e8e Point \uff0c\u7f3a\u5c11\u4e86 constructor \u65b9\u6cd5\uff0c\u8fd9\u662f\u56e0\u4e3a\u58f0\u660e Point \u7c7b\u65f6\u521b\u5efa\u7684 Point \u7c7b\u578b\u662f\u4e0d\u5305\u542b\u6784\u9020\u51fd\u6570\u7684\u3002\u53e6\u5916\uff0c\u9664\u4e86\u6784\u9020\u51fd\u6570\u662f\u4e0d\u5305\u542b\u7684\uff0c\u9759\u6001\u5c5e\u6027\u6216\u9759\u6001\u65b9\u6cd5\u4e5f\u662f\u4e0d\u5305\u542b\u7684\uff08\u5b9e\u4f8b\u7684\u7c7b\u578b\u5f53\u7136\u4e0d\u5e94\u8be5\u5305\u62ec\u6784\u9020\u51fd\u6570\u3001\u9759\u6001\u5c5e\u6027\u6216\u9759\u6001\u65b9\u6cd5\uff09\u3002 \u6362\u53e5\u8bdd\u8bf4\uff0c\u58f0\u660e Point \u7c7b\u65f6\u521b\u5efa\u7684 Point \u7c7b\u578b\u53ea\u5305\u542b\u5176\u4e2d\u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u5b9e\u4f8b\u65b9\u6cd5\uff1a class Point { /** \u9759\u6001\u5c5e\u6027\uff0c\u5750\u6807\u7cfb\u539f\u70b9 */ static origin = new Point ( 0 , 0 ); /** \u9759\u6001\u65b9\u6cd5\uff0c\u8ba1\u7b97\u4e0e\u539f\u70b9\u8ddd\u79bb */ static distanceToOrigin ( p : Point ) { return Math . sqrt ( p . x * p . x + p . y * p . y ); } /** \u5b9e\u4f8b\u5c5e\u6027\uff0cx \u8f74\u7684\u503c */ x : number ; /** \u5b9e\u4f8b\u5c5e\u6027\uff0cy \u8f74\u7684\u503c */ y : number ; /** \u6784\u9020\u51fd\u6570 */ constructor ( x : number , y : number ) { this . x = x ; this . y = y ; } /** \u5b9e\u4f8b\u65b9\u6cd5\uff0c\u6253\u5370\u6b64\u70b9 */ printPoint () { console . log ( this . x , this . y ); } } interface PointInstanceType { x : number ; y : number ; printPoint () : void ; } let p1 : Point ; let p2 : PointInstanceType ; \u4e0a\u4f8b\u4e2d\u6700\u540e\u7684\u7c7b\u578b Point \u548c\u7c7b\u578b PointInstanceType \u662f\u7b49\u4ef7\u7684\u3002 \u540c\u6837\u7684\uff0c\u5728\u63a5\u53e3\u7ee7\u627f\u7c7b\u7684\u65f6\u5019\uff0c\u4e5f\u53ea\u4f1a\u7ee7\u627f\u5b83\u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u5b9e\u4f8b\u65b9\u6cd5\u3002","title":"\u63a5\u53e3\u7ee7\u627f\u7c7b"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#7","text":"\u6cdb\u578b\uff08Generics\uff09\u662f\u6307\u5728\u5b9a\u4e49\u51fd\u6570\u3001\u63a5\u53e3\u6216\u7c7b\u7684\u65f6\u5019\uff0c\u4e0d\u9884\u5148\u6307\u5b9a\u5177\u4f53\u7684\u7c7b\u578b\uff0c\u800c\u5728\u4f7f\u7528\u7684\u65f6\u5019\u518d\u6307\u5b9a\u7c7b\u578b\u7684\u4e00\u79cd\u7279\u6027\u3002","title":"7.\u6cdb\u578b"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_19","text":"\u9996\u5148\uff0c\u6211\u4eec\u6765\u5b9e\u73b0\u4e00\u4e2a\u51fd\u6570 createArray \uff0c\u5b83\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u6307\u5b9a\u957f\u5ea6\u7684\u6570\u7ec4\uff0c\u540c\u65f6\u5c06\u6bcf\u4e00\u9879\u90fd\u586b\u5145\u4e00\u4e2a\u9ed8\u8ba4\u503c\uff1a function createArray ( length : number , value : any ) : Array < any > { let result = []; for ( let i = 0 ; i < length ; i ++ ) { result [ i ] = value ; } return result ; } createArray ( 3 , 'x' ); // ['x', 'x', 'x'] \u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 \u4e4b\u524d\u63d0\u5230\u8fc7\u7684\u6570\u7ec4\u6cdb\u578b \u6765\u5b9a\u4e49\u8fd4\u56de\u503c\u7684\u7c7b\u578b\u3002 \u8fd9\u6bb5\u4ee3\u7801\u7f16\u8bd1\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u662f\u4e00\u4e2a\u663e\u800c\u6613\u89c1\u7684\u7f3a\u9677\u662f\uff0c\u5b83\u5e76\u6ca1\u6709\u51c6\u786e\u7684\u5b9a\u4e49\u8fd4\u56de\u503c\u7684\u7c7b\u578b\uff1a Array<any> \u5141\u8bb8\u6570\u7ec4\u7684\u6bcf\u4e00\u9879\u90fd\u4e3a\u4efb\u610f\u7c7b\u578b\u3002\u4f46\u662f\u6211\u4eec\u9884\u671f\u7684\u662f\uff0c\u6570\u7ec4\u4e2d\u6bcf\u4e00\u9879\u90fd\u5e94\u8be5\u662f\u8f93\u5165\u7684 value \u7684\u7c7b\u578b\u3002 \u8fd9\u65f6\u5019\uff0c\u6cdb\u578b\u5c31\u6d3e\u4e0a\u7528\u573a\u4e86\uff1a function createArray < T > ( length : number , value : T ) : Array < T > { let result : T [] = []; for ( let i = 0 ; i < length ; i ++ ) { result [ i ] = value ; } return result ; } createArray < string > ( 3 , 'x' ); // ['x', 'x', 'x'] \u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5728\u51fd\u6570\u540d\u540e\u6dfb\u52a0\u4e86 <T> \uff0c\u5176\u4e2d T \u7528\u6765\u6307\u4ee3\u4efb\u610f\u8f93\u5165\u7684\u7c7b\u578b\uff0c\u5728\u540e\u9762\u7684\u8f93\u5165 value: T \u548c\u8f93\u51fa Array<T> \u4e2d\u5373\u53ef\u4f7f\u7528\u4e86\u3002 \u63a5\u7740\u5728\u8c03\u7528\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u6307\u5b9a\u5b83\u5177\u4f53\u7684\u7c7b\u578b\u4e3a string \u3002\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u624b\u52a8\u6307\u5b9a\uff0c\u800c\u8ba9\u7c7b\u578b\u63a8\u8bba\u81ea\u52a8\u63a8\u7b97\u51fa\u6765\uff1a function createArray < T > ( length : number , value : T ) : Array < T > { let result : T [] = []; for ( let i = 0 ; i < length ; i ++ ) { result [ i ] = value ; } return result ; } createArray ( 3 , 'x' ); // ['x', 'x', 'x']","title":"\u7b80\u5355\u7684\u4f8b\u5b50"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_20","text":"\u5b9a\u4e49\u6cdb\u578b\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4e00\u6b21\u5b9a\u4e49\u591a\u4e2a\u7c7b\u578b\u53c2\u6570\uff1a function swap < T , U > ( tuple : [ T , U ]) : [ U , T ] { return [ tuple [ 1 ], tuple [ 0 ]]; } swap ([ 7 , 'seven' ]); // ['seven', 7] \u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a swap \u51fd\u6570\uff0c\u7528\u6765\u4ea4\u6362\u8f93\u5165\u7684\u5143\u7ec4\u3002","title":"\u591a\u4e2a\u7c7b\u578b\u53c2\u6570"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_21","text":"\u5728\u51fd\u6570\u5185\u90e8\u4f7f\u7528\u6cdb\u578b\u53d8\u91cf\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u4e8b\u5148\u4e0d\u77e5\u9053\u5b83\u662f\u54ea\u79cd\u7c7b\u578b\uff0c\u6240\u4ee5\u4e0d\u80fd\u968f\u610f\u7684\u64cd\u4f5c\u5b83\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\uff1a function loggingIdentity < T > ( arg : T ) : T { console . log ( arg . length ); return arg ; } // index.ts(2,19): error TS2339: Property 'length' does not exist on type 'T'. \u4e0a\u4f8b\u4e2d\uff0c\u6cdb\u578b T \u4e0d\u4e00\u5b9a\u5305\u542b\u5c5e\u6027 length \uff0c\u6240\u4ee5\u7f16\u8bd1\u7684\u65f6\u5019\u62a5\u9519\u4e86\u3002 \u8fd9\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u6cdb\u578b\u8fdb\u884c\u7ea6\u675f\uff0c\u53ea\u5141\u8bb8\u8fd9\u4e2a\u51fd\u6570\u4f20\u5165\u90a3\u4e9b\u5305\u542b length \u5c5e\u6027\u7684\u53d8\u91cf\u3002\u8fd9\u5c31\u662f\u6cdb\u578b\u7ea6\u675f\uff1a interface Lengthwise { length : number ; } function loggingIdentity < T extends Lengthwise > ( arg : T ) : T { console . log ( arg . length ); return arg ; } \u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 extends \u7ea6\u675f\u4e86\u6cdb\u578b T \u5fc5\u987b\u7b26\u5408\u63a5\u53e3 Lengthwise \u7684\u5f62\u72b6\uff0c\u4e5f\u5c31\u662f\u5fc5\u987b\u5305\u542b length \u5c5e\u6027\u3002 \u6b64\u65f6\u5982\u679c\u8c03\u7528 loggingIdentity \u7684\u65f6\u5019\uff0c\u4f20\u5165\u7684 arg \u4e0d\u5305\u542b length \uff0c\u90a3\u4e48\u5728\u7f16\u8bd1\u9636\u6bb5\u5c31\u4f1a\u62a5\u9519\u4e86\uff1a interface Lengthwise { length : number ; } function loggingIdentity < T extends Lengthwise > ( arg : T ) : T { console . log ( arg . length ); return arg ; } loggingIdentity ( 7 ); // index.ts(10,17): error TS2345: Argument of type '7' is not assignable to parameter of type 'Lengthwise'. \u591a\u4e2a\u7c7b\u578b\u53c2\u6570\u4e4b\u95f4\u4e5f\u53ef\u4ee5\u4e92\u76f8\u7ea6\u675f\uff1a function copyFields < T extends U , U > ( target : T , source : U ) : T { for ( let id in source ) { target [ id ] = ( < T > source )[ id ]; } return target ; } let x = { a : 1 , b : 2 , c : 3 , d : 4 }; copyFields ( x , { b : 10 , d : 20 }); \u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u4e24\u4e2a\u7c7b\u578b\u53c2\u6570\uff0c\u5176\u4e2d\u8981\u6c42 T \u7ee7\u627f U \uff0c\u8fd9\u6837\u5c31\u4fdd\u8bc1\u4e86 U \u4e0a\u4e0d\u4f1a\u51fa\u73b0 T \u4e2d\u4e0d\u5b58\u5728\u7684\u5b57\u6bb5\u3002","title":"\u6cdb\u578b\u7ea6\u675f"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_22","text":"\u53ef\u4ee5\u4f7f\u7528\u63a5\u53e3\u7684\u65b9\u5f0f\u6765\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u9700\u8981\u7b26\u5408\u7684\u5f62\u72b6\uff1a interface SearchFunc { ( source : string , subString : string ) : boolean ; } let mySearch : SearchFunc ; mySearch = function ( source : string , subString : string ) { return source . search ( subString ) !== - 1 ; } \u5f53\u7136\u4e5f\u53ef\u4ee5\u4f7f\u7528\u542b\u6709\u6cdb\u578b\u7684\u63a5\u53e3\u6765\u5b9a\u4e49\u51fd\u6570\u7684\u5f62\u72b6\uff1a interface CreateArrayFunc { < T > ( length : number , value : T ) : Array < T > ; } let createArray : CreateArrayFunc ; createArray = function < T > ( length : number , value : T ) : Array < T > { let result : T [] = []; for ( let i = 0 ; i < length ; i ++ ) { result [ i ] = value ; } return result ; } createArray ( 3 , 'x' ); // ['x', 'x', 'x'] \u8fdb\u4e00\u6b65\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u6cdb\u578b\u53c2\u6570\u63d0\u524d\u5230\u63a5\u53e3\u540d\u4e0a\uff1a interface CreateArrayFunc < T > { ( length : number , value : T ) : Array < T > ; } let createArray : CreateArrayFunc < any > ; createArray = function < T > ( length : number , value : T ) : Array < T > { let result : T [] = []; for ( let i = 0 ; i < length ; i ++ ) { result [ i ] = value ; } return result ; } createArray ( 3 , 'x' ); // ['x', 'x', 'x'] \u6ce8\u610f\uff0c\u6b64\u65f6\u5728\u4f7f\u7528\u6cdb\u578b\u63a5\u53e3\u7684\u65f6\u5019\uff0c\u9700\u8981\u5b9a\u4e49\u6cdb\u578b\u7684\u7c7b\u578b\u3002","title":"\u6cdb\u578b\u63a5\u53e3"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_23","text":"\u4e0e\u6cdb\u578b\u63a5\u53e3\u7c7b\u4f3c\uff0c\u6cdb\u578b\u4e5f\u53ef\u4ee5\u7528\u4e8e\u7c7b\u7684\u7c7b\u578b\u5b9a\u4e49\u4e2d\uff1a class GenericNumber < T > { zeroValue : T ; add : ( x : T , y : T ) => T ; } let myGenericNumber = new GenericNumber < number > (); myGenericNumber . zeroValue = 0 ; myGenericNumber . add = function ( x , y ) { return x + y ; };","title":"\u6cdb\u578b\u7c7b"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_24","text":"\u5728 TypeScript 2.3 \u4ee5\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a\u6cdb\u578b\u4e2d\u7684\u7c7b\u578b\u53c2\u6570\u6307\u5b9a\u9ed8\u8ba4\u7c7b\u578b\u3002\u5f53\u4f7f\u7528\u6cdb\u578b\u65f6\u6ca1\u6709\u5728\u4ee3\u7801\u4e2d\u76f4\u63a5\u6307\u5b9a\u7c7b\u578b\u53c2\u6570\uff0c\u4ece\u5b9e\u9645\u503c\u53c2\u6570\u4e2d\u4e5f\u65e0\u6cd5\u63a8\u6d4b\u51fa\u65f6\uff0c\u8fd9\u4e2a\u9ed8\u8ba4\u7c7b\u578b\u5c31\u4f1a\u8d77\u4f5c\u7528\u3002 function createArray < T = string > ( length : number , value : T ) : Array < T > { let result : T [] = []; for ( let i = 0 ; i < length ; i ++ ) { result [ i ] = value ; } return result ; }","title":"\u6cdb\u578b\u53c2\u6570\u7684\u9ed8\u8ba4\u7c7b\u578b"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#8","text":"\u5982\u679c\u5b9a\u4e49\u4e86\u4e24\u4e2a\u76f8\u540c\u540d\u5b57\u7684\u51fd\u6570\u3001\u63a5\u53e3\u6216\u7c7b\uff0c\u90a3\u4e48\u5b83\u4eec\u4f1a\u5408\u5e76\u6210\u4e00\u4e2a\u7c7b\u578b\uff1a","title":"8.\u58f0\u660e\u5408\u5e76"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_25","text":"\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u91cd\u8f7d\u5b9a\u4e49\u591a\u4e2a\u51fd\u6570\u7c7b\u578b\uff1a function reverse ( x : number ) : number ; function reverse ( x : string ) : string ; function reverse ( x : number | string ) : number | string { if ( typeof x === 'number' ) { return Number ( x . toString (). split ( '' ). reverse (). join ( '' )); } else if ( typeof x === 'string' ) { return x . split ( '' ). reverse (). join ( '' ); } }","title":"\u51fd\u6570\u7684\u5408\u5e76"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_26","text":"\u63a5\u53e3\u4e2d\u7684\u5c5e\u6027\u5728\u5408\u5e76\u65f6\u4f1a\u7b80\u5355\u7684\u5408\u5e76\u5230\u4e00\u4e2a\u63a5\u53e3\u4e2d\uff1a interface Alarm { price : number ; } interface Alarm { weight : number ; } \u76f8\u5f53\u4e8e\uff1a interface Alarm { price : number ; weight : number ; } \u6ce8\u610f\uff0c \u5408\u5e76\u7684\u5c5e\u6027\u7684\u7c7b\u578b\u5fc5\u987b\u662f\u552f\u4e00\u7684 \uff1a interface Alarm { price : number ; } interface Alarm { price : number ; // \u867d\u7136\u91cd\u590d\u4e86\uff0c\u4f46\u662f\u7c7b\u578b\u90fd\u662f `number`\uff0c\u6240\u4ee5\u4e0d\u4f1a\u62a5\u9519 weight : number ; } interface Alarm { price : number ; } interface Alarm { price : string ; // \u7c7b\u578b\u4e0d\u4e00\u81f4\uff0c\u4f1a\u62a5\u9519 weight : number ; } // index.ts(5,3): error TS2403: Subsequent variable declarations must have the same type. Variable 'price' must be of type 'number', but here has type 'string'. \u63a5\u53e3\u4e2d\u65b9\u6cd5\u7684\u5408\u5e76\uff0c\u4e0e\u51fd\u6570\u7684\u5408\u5e76\u4e00\u6837\uff1a interface Alarm { price : number ; alert ( s : string ) : string ; } interface Alarm { weight : number ; alert ( s : string , n : number ) : string ; } \u76f8\u5f53\u4e8e\uff1a interface Alarm { price : number ; weight : number ; alert ( s : string ) : string ; alert ( s : string , n : number ) : string ; }","title":"\u63a5\u53e3\u7684\u5408\u5e76"},{"location":"typescript/03-%E8%BF%9B%E9%98%B6/#_27","text":"\u7c7b\u7684\u5408\u5e76\u4e0e\u63a5\u53e3\u7684\u5408\u5e76\u89c4\u5219\u4e00\u81f4\u3002","title":"\u7c7b\u7684\u5408\u5e76"},{"location":"typescript/04-React%20%26%20Webpack/","text":"React & Webpack \u00b6 \u8fd9\u7bc7\u6307\u5357\u5c06\u4f1a\u6559\u4f60\u5982\u4f55\u5c06TypeScript\u548c React \u8fd8\u6709 webpack \u7ed3\u5408\u5728\u4e00\u8d77\u4f7f\u7528\u3002 \u5982\u679c\u4f60\u6b63\u5728\u505a\u4e00\u4e2a\u5168\u65b0\u7684\u5de5\u7a0b\uff0c\u53ef\u4ee5\u5148\u9605\u8bfb\u8fd9\u7bc7 React\u5feb\u901f\u4e0a\u624b\u6307\u5357 \u3002 \u5426\u5219\uff0c\u6211\u4eec\u5047\u8bbe\u5df2\u7ecf\u5728\u4f7f\u7528 Node.js \u548c npm \u3002 \u521d\u59cb\u5316\u9879\u76ee\u7ed3\u6784 \u00b6 \u8ba9\u6211\u4eec\u65b0\u5efa\u4e00\u4e2a\u76ee\u5f55\u3002 \u5c06\u4f1a\u547d\u540d\u4e3a proj \uff0c\u4f46\u662f\u4f60\u53ef\u4ee5\u6539\u6210\u4efb\u4f55\u4f60\u559c\u6b22\u7684\u540d\u5b57\u3002 mkdir proj cd proj \u6211\u4eec\u4f1a\u50cf\u4e0b\u9762\u7684\u7ed3\u6784\u7ec4\u7ec7\u6211\u4eec\u7684\u5de5\u7a0b\uff1a proj/ \u251c\u2500 dist/ \u2514\u2500 src/ \u2514\u2500 components/ TypeScript\u6587\u4ef6\u4f1a\u653e\u5728 src \u6587\u4ef6\u5939\u91cc\uff0c\u901a\u8fc7TypeScript\u7f16\u8bd1\u5668\u7f16\u8bd1\uff0c\u7136\u540e\u7ecfwebpack\u5904\u7406\uff0c\u6700\u540e\u751f\u6210\u4e00\u4e2a bundle.js \u6587\u4ef6\u653e\u5728 dist \u76ee\u5f55\u4e0b\u3002 \u6211\u4eec\u81ea\u5b9a\u4e49\u7684\u7ec4\u4ef6\u5c06\u4f1a\u653e\u5728 src/components \u6587\u4ef6\u5939\u4e0b\u3002 \u4e0b\u9762\u6765\u521b\u5efa\u57fa\u672c\u7ed3\u6784\uff1a mkdir src cd src mkdir components cd .. Webpack\u4f1a\u5e2e\u52a9\u6211\u4eec\u751f\u6210 dist \u76ee\u5f55\u3002 \u521d\u59cb\u5316\u5de5\u7a0b \u00b6 \u73b0\u5728\u628a\u8fd9\u4e2a\u76ee\u5f55\u53d8\u6210npm\u5305\u3002 npm init \u4f60\u4f1a\u770b\u5230\u4e00\u4e9b\u63d0\u793a\uff0c\u653e\u5fc3\u5730\u4f7f\u7528\u9ed8\u8ba4\u503c\u5c31\u53ef\u4ee5\u4e86\u3002 \u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u968f\u65f6\u5230\u751f\u6210\u7684 package.json \u6587\u4ef6\u91cc\u4fee\u6539\u3002 \u5b89\u88c5\u4f9d\u8d56 \u00b6 \u9996\u5148\u786e\u4fdd\u5df2\u7ecf\u5168\u5c40\u5b89\u88c5\u4e86Webpack\u3002 npm install -g webpack Webpack\u8fd9\u4e2a\u5de5\u5177\u53ef\u4ee5\u5c06\u4f60\u7684\u6240\u6709\u4ee3\u7801\u548c\u53ef\u9009\u62e9\u5730\u5c06\u4f9d\u8d56\u6346\u7ed1\u6210\u4e00\u4e2a\u5355\u72ec\u7684 .js \u6587\u4ef6\u3002 \u73b0\u5728\u6211\u4eec\u6dfb\u52a0React\u548cReact-DOM\u4ee5\u53ca\u5b83\u4eec\u7684\u58f0\u660e\u6587\u4ef6\u5230 package.json \u6587\u4ef6\u91cc\u505a\u4e3a\u4f9d\u8d56\uff1a npm install --save react react-dom @types/react @types/react-dom \u4f7f\u7528 @types/ \u524d\u7f00\u8868\u793a\u6211\u4eec\u989d\u5916\u8981\u83b7\u53d6React\u548cReact-DOM\u7684\u58f0\u660e\u6587\u4ef6\u3002 \u901a\u5e38\u5f53\u4f60\u5bfc\u5165\u50cf \"react\" \u8fd9\u6837\u7684\u8def\u5f84\uff0c\u5b83\u4f1a\u67e5\u770b react \u5305\uff1b \u7136\u800c\uff0c\u5e76\u4e0d\u662f\u6240\u6709\u7684\u5305\u90fd\u5305\u542b\u4e86\u58f0\u660e\u6587\u4ef6\uff0c\u6240\u4ee5TypeScript\u8fd8\u4f1a\u67e5\u770b @types/react \u5305\u3002 \u4f60\u4f1a\u53d1\u73b0\u6211\u4eec\u4ee5\u540e\u5c06\u4e0d\u5fc5\u5728\u610f\u8fd9\u4e9b\u3002 \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u8981\u6dfb\u52a0\u5f00\u53d1\u65f6\u4f9d\u8d56 awesome-typescript-loader \u548c source-map-loader \u3002 npm install --save-dev typescript awesome-typescript-loader source-map-loader \u8fd9\u4e9b\u4f9d\u8d56\u4f1a\u8ba9TypeScript\u548cwebpack\u5728\u4e00\u8d77\u826f\u597d\u5730\u5de5\u4f5c\u3002 awesome-typescript-loader\u53ef\u4ee5\u8ba9Webpack\u4f7f\u7528TypeScript\u7684\u6807\u51c6\u914d\u7f6e\u6587\u4ef6 tsconfig.json \u7f16\u8bd1TypeScript\u4ee3\u7801\u3002 source-map-loader\u4f7f\u7528TypeScript\u8f93\u51fa\u7684sourcemap\u6587\u4ef6\u6765\u544a\u8bc9webpack\u4f55\u65f6\u751f\u6210 *\u81ea\u5df1\u7684*sourcemaps\u3002 \u8fd9\u5c31\u5141\u8bb8\u4f60\u5728\u8c03\u8bd5\u6700\u7ec8\u751f\u6210\u7684\u6587\u4ef6\u65f6\u5c31\u597d\u50cf\u5728\u8c03\u8bd5TypeScript\u6e90\u7801\u4e00\u6837\u3002 \u6ce8\u610f\u6211\u4eec\u5b89\u88c5TypeScript\u4e3a\u4e00\u4e2a\u5f00\u53d1\u4f9d\u8d56\u3002 \u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528 npm link typescript \u6765\u94fe\u63a5TypeScript\u5230\u4e00\u4e2a\u5168\u5c40\u62f7\u8d1d\uff0c\u4f46\u8fd9\u4e0d\u662f\u5e38\u89c1\u7528\u6cd5\u3002 \u6dfb\u52a0TypeScript\u914d\u7f6e\u6587\u4ef6 \u00b6 \u6211\u4eec\u60f3\u5c06TypeScript\u6587\u4ef6\u6574\u5408\u5230\u4e00\u8d77 - \u8fd9\u5305\u62ec\u6211\u4eec\u5199\u7684\u6e90\u7801\u548c\u5fc5\u8981\u7684\u58f0\u660e\u6587\u4ef6\u3002 \u6211\u4eec\u9700\u8981\u521b\u5efa\u4e00\u4e2a tsconfig.json \u6587\u4ef6\uff0c\u5b83\u5305\u542b\u4e86\u8f93\u5165\u6587\u4ef6\u5217\u8868\u4ee5\u53ca\u7f16\u8bd1\u9009\u9879\u3002 \u5728\u5de5\u7a0b\u6839\u76ee\u5f55\u4e0b\u65b0\u5efa\u6587\u4ef6 tsconfig.json \u6587\u4ef6\uff0c\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a { \"compilerOptions\": { \"outDir\": \"./dist/\", \"sourceMap\": true, \"noImplicitAny\": true, \"module\": \"commonjs\", \"target\": \"es5\", \"jsx\": \"react\" }, \"include\": [ \"./src/**/*\" ] } \u4f60\u53ef\u4ee5\u5728 \u8fd9\u91cc \u4e86\u89e3\u66f4\u591a\u5173\u4e8e tsconfig.json \u6587\u4ef6\u7684\u8bf4\u660e\u3002 \u5199\u4e9b\u4ee3\u7801 \u00b6 \u4e0b\u9762\u4f7f\u7528React\u5199\u4e00\u6bb5TypeScript\u4ee3\u7801\u3002 \u9996\u5148\uff0c\u5728 src/components \u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a Hello.tsx \u7684\u6587\u4ef6\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a import * as React from \"react\"; export interface HelloProps { compiler: string; framework: string; } export const Hello = (props: HelloProps) => <h1>Hello from {props.compiler} and {props.framework}!</h1>; \u6ce8\u610f\u8fd9\u4e2a\u4f8b\u5b50\u4f7f\u7528\u4e86 \u65e0\u72b6\u6001\u7684\u529f\u80fd\u7ec4\u4ef6 \uff0c\u6211\u4eec\u53ef\u4ee5\u8ba9\u5b83\u66f4\u50cf\u4e00\u70b9*\u7c7b*\u3002 import * as React from \"react\"; export interface HelloProps { compiler: string; framework: string; } // 'HelloProps' describes the shape of props. // State is never set so we use the '{}' type. export class Hello extends React.Component<HelloProps, {}> { render() { return <h1>Hello from {this.props.compiler} and {this.props.framework}!</h1>; } } \u63a5\u4e0b\u6765\uff0c\u5728 src \u4e0b\u521b\u5efa index.tsx \u6587\u4ef6\uff0c\u6e90\u7801\u5982\u4e0b\uff1a import * as React from \"react\"; import * as ReactDOM from \"react-dom\"; import { Hello } from \"./components/Hello\"; ReactDOM.render( <Hello compiler=\"TypeScript\" framework=\"React\" />, document.getElementById(\"example\") ); \u6211\u4eec\u4ec5\u4ec5\u5c06 Hello \u7ec4\u4ef6\u5bfc\u5165 index.tsx \u3002 \u6ce8\u610f\uff0c\u4e0d\u540c\u4e8e \"react\" \u6216 \"react-dom\" \uff0c\u6211\u4eec\u4f7f\u7528 Hello.tsx \u7684*\u76f8\u5bf9\u8def\u5f84* - \u8fd9\u5f88\u91cd\u8981\u3002 \u5982\u679c\u4e0d\u8fd9\u6837\u505a\uff0cTypeScript\u53ea\u4f1a\u5c1d\u8bd5\u5728 node_modules \u6587\u4ef6\u5939\u91cc\u67e5\u627e\u3002 \u6211\u4eec\u8fd8\u9700\u8981\u4e00\u4e2a\u9875\u9762\u6765\u663e\u793a Hello \u7ec4\u4ef6\u3002 \u5728\u6839\u76ee\u5f55 proj \u521b\u5efa\u4e00\u4e2a\u540d\u4e3a index.html \u7684\u6587\u4ef6\uff0c\u5982\u4e0b\uff1a <!DOCTYPE html> <html> <head> <meta charset=\"UTF-8\" /> <title>Hello React!</title> </head> <body> <div id=\"example\"></div> <!-- Dependencies --> <script src=\"./node_modules/react/umd/react.development.js\"></script> <script src=\"./node_modules/react-dom/umd/react-dom.development.js\"></script> <!-- Main --> <script src=\"./dist/bundle.js\"></script> </body> </html> \u9700\u8981\u6ce8\u610f\u4e00\u70b9\u6211\u4eec\u662f\u4ece node_modules \u5f15\u5165\u7684\u6587\u4ef6\u3002 React\u548cReact-DOM\u7684npm\u5305\u91cc\u5305\u542b\u4e86\u72ec\u7acb\u7684 .js \u6587\u4ef6\uff0c\u4f60\u53ef\u4ee5\u5728\u9875\u9762\u4e0a\u5f15\u5165\u5b83\u4eec\uff0c\u8fd9\u91cc\u6211\u4eec\u4e3a\u4e86\u5feb\u6377\u5c31\u76f4\u63a5\u5f15\u7528\u4e86\u3002 \u53ef\u4ee5\u968f\u610f\u5730\u5c06\u5b83\u4eec\u62f7\u8d1d\u5230\u5176\u5b83\u76ee\u5f55\u4e0b\uff0c\u6216\u8005\u4eceCDN\u4e0a\u5f15\u7528\u3002 Facebook\u5728CND\u4e0a\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u53ef\u7528\u7684React\u7248\u672c\uff0c\u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc\u67e5\u770b \u66f4\u591a\u5185\u5bb9 \u3002 \u521b\u5efa\u4e00\u4e2awebpack\u914d\u7f6e\u6587\u4ef6 \u00b6 \u5728\u5de5\u7a0b\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a webpack.config.js \u6587\u4ef6\u3002 module.exports = { entry: \"./src/index.tsx\", output: { filename: \"bundle.js\", path: __dirname + \"/dist\" }, // Enable sourcemaps for debugging webpack's output. devtool: \"source-map\", resolve: { // Add '.ts' and '.tsx' as resolvable extensions. extensions: [\".ts\", \".tsx\", \".js\", \".json\"] }, module: { rules: [ // All files with a '.ts' or '.tsx' extension will be handled by 'awesome-typescript-loader'. { test: /\\.tsx?$/, loader: \"awesome-typescript-loader\" }, // All output '.js' files will have any sourcemaps re-processed by 'source-map-loader'. { enforce: \"pre\", test: /\\.js$/, loader: \"source-map-loader\" } ] }, // When importing a module whose path matches one of the following, just // assume a corresponding global variable exists and use that instead. // This is important because it allows us to avoid bundling all of our // dependencies, which allows browsers to cache those libraries between builds. externals: { \"react\": \"React\", \"react-dom\": \"ReactDOM\" } }; \u5927\u5bb6\u53ef\u80fd\u5bf9 externals \u5b57\u6bb5\u6709\u6240\u7591\u60d1\u3002 \u6211\u4eec\u60f3\u8981\u907f\u514d\u628a\u6240\u6709\u7684React\u90fd\u653e\u5230\u4e00\u4e2a\u6587\u4ef6\u91cc\uff0c\u56e0\u4e3a\u4f1a\u589e\u52a0\u7f16\u8bd1\u65f6\u95f4\u5e76\u4e14\u6d4f\u89c8\u5668\u8fd8\u80fd\u591f\u7f13\u5b58\u6ca1\u6709\u53d1\u751f\u6539\u53d8\u7684\u5e93\u6587\u4ef6\u3002 \u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u6d4f\u89c8\u5668\u91cc\u5f15\u5165React\u6a21\u5757\uff0c\u4f46\u662f\u5927\u90e8\u5206\u6d4f\u89c8\u5668\u8fd8\u6ca1\u6709\u652f\u6301\u6a21\u5757\u3002 \u56e0\u6b64\u5927\u90e8\u5206\u4ee3\u7801\u5e93\u4f1a\u628a\u81ea\u5df1\u5305\u88f9\u5728\u4e00\u4e2a\u5355\u72ec\u7684\u5168\u5c40\u53d8\u91cf\u5185\uff0c\u6bd4\u5982\uff1a jQuery \u6216 _ \u3002 \u8fd9\u53eb\u505a\u201c\u547d\u540d\u7a7a\u95f4\u201d\u6a21\u5f0f\uff0cwebpack\u4e5f\u5141\u8bb8\u6211\u4eec\u7ee7\u7eed\u4f7f\u7528\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u5199\u7684\u4ee3\u7801\u5e93\u3002 \u901a\u8fc7\u6211\u4eec\u7684\u8bbe\u7f6e \"react\": \"React\" \uff0cwebpack\u4f1a\u795e\u5947\u5730\u5c06\u6240\u6709\u5bf9 \"react\" \u7684\u5bfc\u5165\u8f6c\u6362\u6210\u4ece React \u5168\u5c40\u53d8\u91cf\u4e2d\u52a0\u8f7d\u3002 \u4f60\u53ef\u4ee5\u5728 \u8fd9\u91cc \u4e86\u89e3\u66f4\u591a\u5982\u4f55\u914d\u7f6ewebpack\u3002 \u6574\u5408\u5728\u4e00\u8d77 \u00b6 \u6267\u884c\uff1a webpack \u5728\u6d4f\u89c8\u5668\u91cc\u6253\u5f00 index.html \uff0c\u5de5\u7a0b\u5e94\u8be5\u5df2\u7ecf\u53ef\u4ee5\u7528\u4e86\uff01 \u4f60\u53ef\u4ee5\u770b\u5230\u9875\u9762\u4e0a\u663e\u793a\u7740\u201cHello from TypeScript and React!\u201d","title":"04-React & Webpack.md"},{"location":"typescript/04-React%20%26%20Webpack/#react-webpack","text":"\u8fd9\u7bc7\u6307\u5357\u5c06\u4f1a\u6559\u4f60\u5982\u4f55\u5c06TypeScript\u548c React \u8fd8\u6709 webpack \u7ed3\u5408\u5728\u4e00\u8d77\u4f7f\u7528\u3002 \u5982\u679c\u4f60\u6b63\u5728\u505a\u4e00\u4e2a\u5168\u65b0\u7684\u5de5\u7a0b\uff0c\u53ef\u4ee5\u5148\u9605\u8bfb\u8fd9\u7bc7 React\u5feb\u901f\u4e0a\u624b\u6307\u5357 \u3002 \u5426\u5219\uff0c\u6211\u4eec\u5047\u8bbe\u5df2\u7ecf\u5728\u4f7f\u7528 Node.js \u548c npm \u3002","title":"React &amp; Webpack"},{"location":"typescript/04-React%20%26%20Webpack/#_1","text":"\u8ba9\u6211\u4eec\u65b0\u5efa\u4e00\u4e2a\u76ee\u5f55\u3002 \u5c06\u4f1a\u547d\u540d\u4e3a proj \uff0c\u4f46\u662f\u4f60\u53ef\u4ee5\u6539\u6210\u4efb\u4f55\u4f60\u559c\u6b22\u7684\u540d\u5b57\u3002 mkdir proj cd proj \u6211\u4eec\u4f1a\u50cf\u4e0b\u9762\u7684\u7ed3\u6784\u7ec4\u7ec7\u6211\u4eec\u7684\u5de5\u7a0b\uff1a proj/ \u251c\u2500 dist/ \u2514\u2500 src/ \u2514\u2500 components/ TypeScript\u6587\u4ef6\u4f1a\u653e\u5728 src \u6587\u4ef6\u5939\u91cc\uff0c\u901a\u8fc7TypeScript\u7f16\u8bd1\u5668\u7f16\u8bd1\uff0c\u7136\u540e\u7ecfwebpack\u5904\u7406\uff0c\u6700\u540e\u751f\u6210\u4e00\u4e2a bundle.js \u6587\u4ef6\u653e\u5728 dist \u76ee\u5f55\u4e0b\u3002 \u6211\u4eec\u81ea\u5b9a\u4e49\u7684\u7ec4\u4ef6\u5c06\u4f1a\u653e\u5728 src/components \u6587\u4ef6\u5939\u4e0b\u3002 \u4e0b\u9762\u6765\u521b\u5efa\u57fa\u672c\u7ed3\u6784\uff1a mkdir src cd src mkdir components cd .. Webpack\u4f1a\u5e2e\u52a9\u6211\u4eec\u751f\u6210 dist \u76ee\u5f55\u3002","title":"\u521d\u59cb\u5316\u9879\u76ee\u7ed3\u6784"},{"location":"typescript/04-React%20%26%20Webpack/#_2","text":"\u73b0\u5728\u628a\u8fd9\u4e2a\u76ee\u5f55\u53d8\u6210npm\u5305\u3002 npm init \u4f60\u4f1a\u770b\u5230\u4e00\u4e9b\u63d0\u793a\uff0c\u653e\u5fc3\u5730\u4f7f\u7528\u9ed8\u8ba4\u503c\u5c31\u53ef\u4ee5\u4e86\u3002 \u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u968f\u65f6\u5230\u751f\u6210\u7684 package.json \u6587\u4ef6\u91cc\u4fee\u6539\u3002","title":"\u521d\u59cb\u5316\u5de5\u7a0b"},{"location":"typescript/04-React%20%26%20Webpack/#_3","text":"\u9996\u5148\u786e\u4fdd\u5df2\u7ecf\u5168\u5c40\u5b89\u88c5\u4e86Webpack\u3002 npm install -g webpack Webpack\u8fd9\u4e2a\u5de5\u5177\u53ef\u4ee5\u5c06\u4f60\u7684\u6240\u6709\u4ee3\u7801\u548c\u53ef\u9009\u62e9\u5730\u5c06\u4f9d\u8d56\u6346\u7ed1\u6210\u4e00\u4e2a\u5355\u72ec\u7684 .js \u6587\u4ef6\u3002 \u73b0\u5728\u6211\u4eec\u6dfb\u52a0React\u548cReact-DOM\u4ee5\u53ca\u5b83\u4eec\u7684\u58f0\u660e\u6587\u4ef6\u5230 package.json \u6587\u4ef6\u91cc\u505a\u4e3a\u4f9d\u8d56\uff1a npm install --save react react-dom @types/react @types/react-dom \u4f7f\u7528 @types/ \u524d\u7f00\u8868\u793a\u6211\u4eec\u989d\u5916\u8981\u83b7\u53d6React\u548cReact-DOM\u7684\u58f0\u660e\u6587\u4ef6\u3002 \u901a\u5e38\u5f53\u4f60\u5bfc\u5165\u50cf \"react\" \u8fd9\u6837\u7684\u8def\u5f84\uff0c\u5b83\u4f1a\u67e5\u770b react \u5305\uff1b \u7136\u800c\uff0c\u5e76\u4e0d\u662f\u6240\u6709\u7684\u5305\u90fd\u5305\u542b\u4e86\u58f0\u660e\u6587\u4ef6\uff0c\u6240\u4ee5TypeScript\u8fd8\u4f1a\u67e5\u770b @types/react \u5305\u3002 \u4f60\u4f1a\u53d1\u73b0\u6211\u4eec\u4ee5\u540e\u5c06\u4e0d\u5fc5\u5728\u610f\u8fd9\u4e9b\u3002 \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u8981\u6dfb\u52a0\u5f00\u53d1\u65f6\u4f9d\u8d56 awesome-typescript-loader \u548c source-map-loader \u3002 npm install --save-dev typescript awesome-typescript-loader source-map-loader \u8fd9\u4e9b\u4f9d\u8d56\u4f1a\u8ba9TypeScript\u548cwebpack\u5728\u4e00\u8d77\u826f\u597d\u5730\u5de5\u4f5c\u3002 awesome-typescript-loader\u53ef\u4ee5\u8ba9Webpack\u4f7f\u7528TypeScript\u7684\u6807\u51c6\u914d\u7f6e\u6587\u4ef6 tsconfig.json \u7f16\u8bd1TypeScript\u4ee3\u7801\u3002 source-map-loader\u4f7f\u7528TypeScript\u8f93\u51fa\u7684sourcemap\u6587\u4ef6\u6765\u544a\u8bc9webpack\u4f55\u65f6\u751f\u6210 *\u81ea\u5df1\u7684*sourcemaps\u3002 \u8fd9\u5c31\u5141\u8bb8\u4f60\u5728\u8c03\u8bd5\u6700\u7ec8\u751f\u6210\u7684\u6587\u4ef6\u65f6\u5c31\u597d\u50cf\u5728\u8c03\u8bd5TypeScript\u6e90\u7801\u4e00\u6837\u3002 \u6ce8\u610f\u6211\u4eec\u5b89\u88c5TypeScript\u4e3a\u4e00\u4e2a\u5f00\u53d1\u4f9d\u8d56\u3002 \u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528 npm link typescript \u6765\u94fe\u63a5TypeScript\u5230\u4e00\u4e2a\u5168\u5c40\u62f7\u8d1d\uff0c\u4f46\u8fd9\u4e0d\u662f\u5e38\u89c1\u7528\u6cd5\u3002","title":"\u5b89\u88c5\u4f9d\u8d56"},{"location":"typescript/04-React%20%26%20Webpack/#typescript","text":"\u6211\u4eec\u60f3\u5c06TypeScript\u6587\u4ef6\u6574\u5408\u5230\u4e00\u8d77 - \u8fd9\u5305\u62ec\u6211\u4eec\u5199\u7684\u6e90\u7801\u548c\u5fc5\u8981\u7684\u58f0\u660e\u6587\u4ef6\u3002 \u6211\u4eec\u9700\u8981\u521b\u5efa\u4e00\u4e2a tsconfig.json \u6587\u4ef6\uff0c\u5b83\u5305\u542b\u4e86\u8f93\u5165\u6587\u4ef6\u5217\u8868\u4ee5\u53ca\u7f16\u8bd1\u9009\u9879\u3002 \u5728\u5de5\u7a0b\u6839\u76ee\u5f55\u4e0b\u65b0\u5efa\u6587\u4ef6 tsconfig.json \u6587\u4ef6\uff0c\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a { \"compilerOptions\": { \"outDir\": \"./dist/\", \"sourceMap\": true, \"noImplicitAny\": true, \"module\": \"commonjs\", \"target\": \"es5\", \"jsx\": \"react\" }, \"include\": [ \"./src/**/*\" ] } \u4f60\u53ef\u4ee5\u5728 \u8fd9\u91cc \u4e86\u89e3\u66f4\u591a\u5173\u4e8e tsconfig.json \u6587\u4ef6\u7684\u8bf4\u660e\u3002","title":"\u6dfb\u52a0TypeScript\u914d\u7f6e\u6587\u4ef6"},{"location":"typescript/04-React%20%26%20Webpack/#_4","text":"\u4e0b\u9762\u4f7f\u7528React\u5199\u4e00\u6bb5TypeScript\u4ee3\u7801\u3002 \u9996\u5148\uff0c\u5728 src/components \u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a Hello.tsx \u7684\u6587\u4ef6\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a import * as React from \"react\"; export interface HelloProps { compiler: string; framework: string; } export const Hello = (props: HelloProps) => <h1>Hello from {props.compiler} and {props.framework}!</h1>; \u6ce8\u610f\u8fd9\u4e2a\u4f8b\u5b50\u4f7f\u7528\u4e86 \u65e0\u72b6\u6001\u7684\u529f\u80fd\u7ec4\u4ef6 \uff0c\u6211\u4eec\u53ef\u4ee5\u8ba9\u5b83\u66f4\u50cf\u4e00\u70b9*\u7c7b*\u3002 import * as React from \"react\"; export interface HelloProps { compiler: string; framework: string; } // 'HelloProps' describes the shape of props. // State is never set so we use the '{}' type. export class Hello extends React.Component<HelloProps, {}> { render() { return <h1>Hello from {this.props.compiler} and {this.props.framework}!</h1>; } } \u63a5\u4e0b\u6765\uff0c\u5728 src \u4e0b\u521b\u5efa index.tsx \u6587\u4ef6\uff0c\u6e90\u7801\u5982\u4e0b\uff1a import * as React from \"react\"; import * as ReactDOM from \"react-dom\"; import { Hello } from \"./components/Hello\"; ReactDOM.render( <Hello compiler=\"TypeScript\" framework=\"React\" />, document.getElementById(\"example\") ); \u6211\u4eec\u4ec5\u4ec5\u5c06 Hello \u7ec4\u4ef6\u5bfc\u5165 index.tsx \u3002 \u6ce8\u610f\uff0c\u4e0d\u540c\u4e8e \"react\" \u6216 \"react-dom\" \uff0c\u6211\u4eec\u4f7f\u7528 Hello.tsx \u7684*\u76f8\u5bf9\u8def\u5f84* - \u8fd9\u5f88\u91cd\u8981\u3002 \u5982\u679c\u4e0d\u8fd9\u6837\u505a\uff0cTypeScript\u53ea\u4f1a\u5c1d\u8bd5\u5728 node_modules \u6587\u4ef6\u5939\u91cc\u67e5\u627e\u3002 \u6211\u4eec\u8fd8\u9700\u8981\u4e00\u4e2a\u9875\u9762\u6765\u663e\u793a Hello \u7ec4\u4ef6\u3002 \u5728\u6839\u76ee\u5f55 proj \u521b\u5efa\u4e00\u4e2a\u540d\u4e3a index.html \u7684\u6587\u4ef6\uff0c\u5982\u4e0b\uff1a <!DOCTYPE html> <html> <head> <meta charset=\"UTF-8\" /> <title>Hello React!</title> </head> <body> <div id=\"example\"></div> <!-- Dependencies --> <script src=\"./node_modules/react/umd/react.development.js\"></script> <script src=\"./node_modules/react-dom/umd/react-dom.development.js\"></script> <!-- Main --> <script src=\"./dist/bundle.js\"></script> </body> </html> \u9700\u8981\u6ce8\u610f\u4e00\u70b9\u6211\u4eec\u662f\u4ece node_modules \u5f15\u5165\u7684\u6587\u4ef6\u3002 React\u548cReact-DOM\u7684npm\u5305\u91cc\u5305\u542b\u4e86\u72ec\u7acb\u7684 .js \u6587\u4ef6\uff0c\u4f60\u53ef\u4ee5\u5728\u9875\u9762\u4e0a\u5f15\u5165\u5b83\u4eec\uff0c\u8fd9\u91cc\u6211\u4eec\u4e3a\u4e86\u5feb\u6377\u5c31\u76f4\u63a5\u5f15\u7528\u4e86\u3002 \u53ef\u4ee5\u968f\u610f\u5730\u5c06\u5b83\u4eec\u62f7\u8d1d\u5230\u5176\u5b83\u76ee\u5f55\u4e0b\uff0c\u6216\u8005\u4eceCDN\u4e0a\u5f15\u7528\u3002 Facebook\u5728CND\u4e0a\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u53ef\u7528\u7684React\u7248\u672c\uff0c\u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc\u67e5\u770b \u66f4\u591a\u5185\u5bb9 \u3002","title":"\u5199\u4e9b\u4ee3\u7801"},{"location":"typescript/04-React%20%26%20Webpack/#webpack","text":"\u5728\u5de5\u7a0b\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a webpack.config.js \u6587\u4ef6\u3002 module.exports = { entry: \"./src/index.tsx\", output: { filename: \"bundle.js\", path: __dirname + \"/dist\" }, // Enable sourcemaps for debugging webpack's output. devtool: \"source-map\", resolve: { // Add '.ts' and '.tsx' as resolvable extensions. extensions: [\".ts\", \".tsx\", \".js\", \".json\"] }, module: { rules: [ // All files with a '.ts' or '.tsx' extension will be handled by 'awesome-typescript-loader'. { test: /\\.tsx?$/, loader: \"awesome-typescript-loader\" }, // All output '.js' files will have any sourcemaps re-processed by 'source-map-loader'. { enforce: \"pre\", test: /\\.js$/, loader: \"source-map-loader\" } ] }, // When importing a module whose path matches one of the following, just // assume a corresponding global variable exists and use that instead. // This is important because it allows us to avoid bundling all of our // dependencies, which allows browsers to cache those libraries between builds. externals: { \"react\": \"React\", \"react-dom\": \"ReactDOM\" } }; \u5927\u5bb6\u53ef\u80fd\u5bf9 externals \u5b57\u6bb5\u6709\u6240\u7591\u60d1\u3002 \u6211\u4eec\u60f3\u8981\u907f\u514d\u628a\u6240\u6709\u7684React\u90fd\u653e\u5230\u4e00\u4e2a\u6587\u4ef6\u91cc\uff0c\u56e0\u4e3a\u4f1a\u589e\u52a0\u7f16\u8bd1\u65f6\u95f4\u5e76\u4e14\u6d4f\u89c8\u5668\u8fd8\u80fd\u591f\u7f13\u5b58\u6ca1\u6709\u53d1\u751f\u6539\u53d8\u7684\u5e93\u6587\u4ef6\u3002 \u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u6d4f\u89c8\u5668\u91cc\u5f15\u5165React\u6a21\u5757\uff0c\u4f46\u662f\u5927\u90e8\u5206\u6d4f\u89c8\u5668\u8fd8\u6ca1\u6709\u652f\u6301\u6a21\u5757\u3002 \u56e0\u6b64\u5927\u90e8\u5206\u4ee3\u7801\u5e93\u4f1a\u628a\u81ea\u5df1\u5305\u88f9\u5728\u4e00\u4e2a\u5355\u72ec\u7684\u5168\u5c40\u53d8\u91cf\u5185\uff0c\u6bd4\u5982\uff1a jQuery \u6216 _ \u3002 \u8fd9\u53eb\u505a\u201c\u547d\u540d\u7a7a\u95f4\u201d\u6a21\u5f0f\uff0cwebpack\u4e5f\u5141\u8bb8\u6211\u4eec\u7ee7\u7eed\u4f7f\u7528\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u5199\u7684\u4ee3\u7801\u5e93\u3002 \u901a\u8fc7\u6211\u4eec\u7684\u8bbe\u7f6e \"react\": \"React\" \uff0cwebpack\u4f1a\u795e\u5947\u5730\u5c06\u6240\u6709\u5bf9 \"react\" \u7684\u5bfc\u5165\u8f6c\u6362\u6210\u4ece React \u5168\u5c40\u53d8\u91cf\u4e2d\u52a0\u8f7d\u3002 \u4f60\u53ef\u4ee5\u5728 \u8fd9\u91cc \u4e86\u89e3\u66f4\u591a\u5982\u4f55\u914d\u7f6ewebpack\u3002","title":"\u521b\u5efa\u4e00\u4e2awebpack\u914d\u7f6e\u6587\u4ef6"},{"location":"typescript/04-React%20%26%20Webpack/#_5","text":"\u6267\u884c\uff1a webpack \u5728\u6d4f\u89c8\u5668\u91cc\u6253\u5f00 index.html \uff0c\u5de5\u7a0b\u5e94\u8be5\u5df2\u7ecf\u53ef\u4ee5\u7528\u4e86\uff01 \u4f60\u53ef\u4ee5\u770b\u5230\u9875\u9762\u4e0a\u663e\u793a\u7740\u201cHello from TypeScript and React!\u201d","title":"\u6574\u5408\u5728\u4e00\u8d77"},{"location":"typescript/04-%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91/","text":"\u5de5\u7a0b \u00b6 \u638c\u63e1\u4e86 TypeScript \u7684\u8bed\u6cd5\u5c31\u50cf\u5b66\u4f1a\u4e86\u780c\u5899\u7684\u5de5\u827a\u3002 \u6211\u4eec\u5b66\u4e60 TypeScript \u7684\u76ee\u7684\u4e0d\u662f\u4e3a\u4e86\u9020\u4e00\u95f4\u5c0f\u8305\u5c4b\uff0c\u800c\u662f\u4e3a\u4e86\u9020\u9ad8\u697c\u5927\u53a6\uff0c\u8fd9\u4e5f\u6b63\u662f TypeScript \u7684\u7c7b\u578b\u7cfb\u7edf\u5e26\u6765\u7684\u4f18\u52bf\u3002 \u90a3\u4e48\u4e00\u9879\u5927\u5de5\u7a0b\u5e94\u8be5\u5982\u4f55\u5f00\u5c55\u5462\uff1f\u672c\u90e8\u5206\u7684\u5185\u5bb9\u5c31\u4f1a\u4ecb\u7ecd TypeScript \u5de5\u7a0b\u5316\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u5177\u4f53\u5185\u5bb9\u5305\u62ec\uff1a \u4ee3\u7801\u68c0\u67e5 \u7f16\u8bd1\u9009\u9879 \u4ee3\u7801\u68c0\u67e5 \u00b6 2019 \u5e74 1 \u6708\uff0c TypeScirpt \u5b98\u65b9\u51b3\u5b9a\u5168\u9762\u91c7\u7528 ESLint \u4f5c\u4e3a\u4ee3\u7801\u68c0\u67e5\u7684\u5de5\u5177\uff0c\u5e76\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u9879\u76ee typescript-eslint \uff0c\u63d0\u4f9b\u4e86 TypeScript \u6587\u4ef6\u7684\u89e3\u6790\u5668 @typescript-eslint/parser \u548c\u76f8\u5173\u7684\u914d\u7f6e\u9009\u9879 @typescript-eslint/eslint-plugin \u7b49\u3002TypeScript \u7684\u4ee3\u7801\u68c0\u67e5\u65b9\u6848\u5c31\u662f typescript-eslint \u3002 \u4ec0\u4e48\u662f\u4ee3\u7801\u68c0\u67e5 \u00b6 \u4ee3\u7801\u68c0\u67e5\u4e3b\u8981\u662f\u7528\u6765\u53d1\u73b0\u4ee3\u7801\u9519\u8bef\u3001\u7edf\u4e00\u4ee3\u7801\u98ce\u683c\u3002 \u5728 JavaScript \u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u4e00\u822c\u4f7f\u7528 ESLint \u6765\u8fdb\u884c\u4ee3\u7801\u68c0\u67e5\uff0c\u5b83\u901a\u8fc7\u63d2\u4ef6\u5316\u7684\u7279\u6027\u6781\u5927\u7684\u4e30\u5bcc\u4e86\u9002\u7528\u8303\u56f4\uff0c\u642d\u914d typescript-eslint \u4e4b\u540e\uff0c\u751a\u81f3\u53ef\u4ee5\u7528\u6765\u68c0\u67e5 TypeScript \u4ee3\u7801\u3002 \u4e3a\u4ec0\u4e48\u9700\u8981\u4ee3\u7801\u68c0\u67e5 \u00b6 \u6709\u4eba\u4f1a\u89c9\u5f97\uff0cJavaScript \u975e\u5e38\u7075\u6d3b\uff0c\u6240\u4ee5\u9700\u8981\u4ee3\u7801\u68c0\u67e5\u3002\u800c TypeScript \u5df2\u7ecf\u80fd\u591f\u5728\u7f16\u8bd1\u9636\u6bb5\u68c0\u67e5\u51fa\u5f88\u591a\u95ee\u9898\u4e86\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u9700\u8981\u4ee3\u7801\u68c0\u67e5\u5462\uff1f \u56e0\u4e3a TypeScript \u5173\u6ce8\u7684\u91cd\u5fc3\u662f\u7c7b\u578b\u7684\u68c0\u67e5\uff0c\u800c\u4e0d\u662f\u4ee3\u7801\u98ce\u683c\u3002\u5f53\u56e2\u961f\u7684\u4eba\u5458\u8d8a\u6765\u8d8a\u591a\u65f6\uff0c\u540c\u6837\u7684\u903b\u8f91\u4e0d\u540c\u7684\u4eba\u5199\u51fa\u6765\u53ef\u80fd\u4f1a\u6709\u5f88\u5927\u7684\u533a\u522b\uff1a \u7f29\u8fdb\u5e94\u8be5\u662f\u56db\u4e2a\u7a7a\u683c\u8fd8\u662f\u4e24\u4e2a\u7a7a\u683c\uff1f \u662f\u5426\u5e94\u8be5\u7981\u7528 var \uff1f \u63a5\u53e3\u540d\u662f\u5426\u5e94\u8be5\u4ee5 I \u5f00\u5934\uff1f \u662f\u5426\u5e94\u8be5\u5f3a\u5236\u4f7f\u7528 === \u800c\u4e0d\u662f == \uff1f \u8fd9\u4e9b\u95ee\u9898 TypeScript \u4e0d\u4f1a\u5173\u6ce8\uff0c\u4f46\u662f\u5374\u5f71\u54cd\u5230\u591a\u4eba\u534f\u4f5c\u5f00\u53d1\u65f6\u7684\u6548\u7387\u3001\u4ee3\u7801\u7684\u53ef\u7406\u89e3\u6027\u4ee5\u53ca\u53ef\u7ef4\u62a4\u6027\u3002 \u4e0b\u9762\u6765\u770b\u4e00\u4e2a\u5177\u4f53\u7684\u4f8b\u5b50\uff1a var myName = 'Tom' ; console . log ( `My name is ${ myNane } ` ); console . log ( `My name is ${ myName . toStrng () } ` ); \u4ee5\u4e0a\u4ee3\u7801\u4f60\u80fd\u770b\u51fa\u6709\u4ec0\u4e48\u9519\u8bef\u5417\uff1f \u5206\u522b\u7528 tsc \u7f16\u8bd1\u548c eslint \u68c0\u67e5\u540e\uff0c\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a var myName = 'Tom' ; // eslint \u62a5\u9519\u4fe1\u606f\uff1a // Unexpected var, use let or const instead.eslint(no-var) console . log ( `My name is ${ myNane } ` ); // tsc \u62a5\u9519\u4fe1\u606f\uff1a // Cannot find name 'myNane'. Did you mean 'myName'? // eslint \u62a5\u9519\u4fe1\u606f\uff1a // 'myNane' is not defined.eslint(no-undef) console . log ( `My name is ${ myName . toStrng () } ` ); // tsc \u62a5\u9519\u4fe1\u606f\uff1a // Property 'toStrng' does not exist on type 'string'. Did you mean 'toString'? \u5b58\u5728\u7684\u95ee\u9898 tsc \u662f\u5426\u62a5\u9519 eslint \u662f\u5426\u62a5\u9519 \u5e94\u8be5\u4f7f\u7528 let \u6216 const \u800c\u4e0d\u662f var \u274c \u2705 myName \u88ab\u8bef\u5199\u6210\u4e86 myNane \u2705 \u2705 toString \u88ab\u8bef\u5199\u6210\u4e86 toStrng \u2705\ufe0f \u274c \u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 var \u6765\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\uff0c\u4f46\u5176\u5b9e ES6 \u4e2d\u6709\u66f4\u5148\u8fdb\u7684\u8bed\u6cd5 let \u548c const \uff0c\u6b64\u65f6\u5c31\u53ef\u4ee5\u901a\u8fc7 eslint \u68c0\u67e5\u51fa\u6765\uff0c\u63d0\u793a\u6211\u4eec\u5e94\u8be5\u4f7f\u7528 let \u6216 const \u800c\u4e0d\u662f var \u3002 \u5bf9\u4e8e\u672a\u5b9a\u4e49\u7684\u53d8\u91cf myNane \uff0c tsc \u548c eslint \u90fd\u53ef\u4ee5\u68c0\u67e5\u51fa\u6765\u3002 \u7531\u4e8e eslint \u65e0\u6cd5\u8bc6\u522b myName \u5b58\u5728\u54ea\u4e9b\u65b9\u6cd5\uff0c\u6240\u4ee5\u5bf9\u4e8e\u62fc\u5199\u9519\u8bef\u7684 toString \u6ca1\u6709\u68c0\u67e5\u51fa\u6765\u3002 \u7531\u6b64\u53ef\u89c1\uff0c eslint \u80fd\u591f\u53d1\u73b0\u51fa\u4e00\u4e9b tsc \u4e0d\u4f1a\u5173\u5fc3\u7684\u9519\u8bef\uff0c\u68c0\u67e5\u51fa\u4e00\u4e9b\u6f5c\u5728\u7684\u95ee\u9898\uff0c\u6240\u4ee5\u4ee3\u7801\u68c0\u67e5\u8fd8\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002 \u5728 TypeScript \u4e2d\u4f7f\u7528 ESLint \u00b6 \u5b89\u88c5 ESLint \u00b6 ESLint \u53ef\u4ee5\u5b89\u88c5\u5728\u5f53\u524d\u9879\u76ee\u4e2d\u6216\u5168\u5c40\u73af\u5883\u4e0b\uff0c\u56e0\u4e3a\u4ee3\u7801\u68c0\u67e5\u662f\u9879\u76ee\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u6240\u4ee5\u6211\u4eec\u4e00\u822c\u4f1a\u5c06\u5b83\u5b89\u88c5\u5728\u5f53\u524d\u9879\u76ee\u4e2d\u3002\u53ef\u4ee5\u8fd0\u884c\u4e0b\u9762\u7684\u811a\u672c\u6765\u5b89\u88c5\uff1a npm install --save-dev eslint \u7531\u4e8e ESLint \u9ed8\u8ba4\u4f7f\u7528 Espree \u8fdb\u884c\u8bed\u6cd5\u89e3\u6790\uff0c\u65e0\u6cd5\u8bc6\u522b TypeScript \u7684\u4e00\u4e9b\u8bed\u6cd5\uff0c\u6545\u6211\u4eec\u9700\u8981\u5b89\u88c5 @typescript-eslint/parser \uff0c\u66ff\u4ee3\u6389\u9ed8\u8ba4\u7684\u89e3\u6790\u5668\uff0c\u522b\u5fd8\u4e86\u540c\u65f6\u5b89\u88c5 typescript \uff1a npm install --save-dev typescript @typescript-eslint/parser \u63a5\u4e0b\u6765\u9700\u8981\u5b89\u88c5\u5bf9\u5e94\u7684\u63d2\u4ef6 @typescript-eslint/eslint-plugin \u5b83\u4f5c\u4e3a eslint \u9ed8\u8ba4\u89c4\u5219\u7684\u8865\u5145\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e9b\u989d\u5916\u7684\u9002\u7528\u4e8e ts \u8bed\u6cd5\u7684\u89c4\u5219\u3002 npm install --save-dev @typescript-eslint/eslint-plugin \u521b\u5efa\u914d\u7f6e\u6587\u4ef6 \u00b6 ESLint \u9700\u8981\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u6765\u51b3\u5b9a\u5bf9\u54ea\u4e9b\u89c4\u5219\u8fdb\u884c\u68c0\u67e5\uff0c\u914d\u7f6e\u6587\u4ef6\u7684\u540d\u79f0\u4e00\u822c\u662f .eslintrc.js \u6216 .eslintrc.json \u3002 \u5f53\u8fd0\u884c ESLint \u7684\u65f6\u5019\u68c0\u67e5\u4e00\u4e2a\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u5b83\u4f1a\u9996\u5148\u5c1d\u8bd5\u8bfb\u53d6\u8be5\u6587\u4ef6\u7684\u76ee\u5f55\u4e0b\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u7136\u540e\u518d\u4e00\u7ea7\u4e00\u7ea7\u5f80\u4e0a\u67e5\u627e\uff0c\u5c06\u6240\u627e\u5230\u7684\u914d\u7f6e\u5408\u5e76\u8d77\u6765\uff0c\u4f5c\u4e3a\u5f53\u524d\u88ab\u68c0\u67e5\u6587\u4ef6\u7684\u914d\u7f6e\u3002 \u6211\u4eec\u5728\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a .eslintrc.js \uff0c\u5185\u5bb9\u5982\u4e0b\uff1a module . exports = { parser : '@typescript-eslint/parser' , plugins : [ '@typescript-eslint' ], rules : { // \u7981\u6b62\u4f7f\u7528 var 'no-var' : \"error\" , // \u4f18\u5148\u4f7f\u7528 interface \u800c\u4e0d\u662f type '@typescript-eslint/consistent-type-definitions' : [ \"error\" , \"interface\" ] } } \u4ee5\u4e0a\u914d\u7f6e\u4e2d\uff0c\u6211\u4eec\u6307\u5b9a\u4e86\u4e24\u4e2a\u89c4\u5219\uff0c\u5176\u4e2d no-var \u662f ESLint \u539f\u751f\u7684\u89c4\u5219\uff0c @typescript-eslint/consistent-type-definitions \u662f @typescript-eslint/eslint-plugin \u65b0\u589e\u7684\u89c4\u5219\u3002 \u89c4\u5219\u7684\u53d6\u503c\u4e00\u822c\u662f\u4e00\u4e2a\u6570\u7ec4\uff08\u4e0a\u4f8b\u4e2d\u7684 @typescript-eslint/consistent-type-definitions \uff09\uff0c\u5176\u4e2d\u7b2c\u4e00\u9879\u662f off \u3001 warn \u6216 error \u4e2d\u7684\u4e00\u4e2a\uff0c\u8868\u793a\u5173\u95ed\u3001\u8b66\u544a\u548c\u62a5\u9519\u3002\u540e\u9762\u7684\u9879\u90fd\u662f\u8be5\u89c4\u5219\u7684\u5176\u4ed6\u914d\u7f6e\u3002 \u5982\u679c\u6ca1\u6709\u5176\u4ed6\u914d\u7f6e\u7684\u8bdd\uff0c\u5219\u53ef\u4ee5\u5c06\u89c4\u5219\u7684\u53d6\u503c\u7b80\u5199\u4e3a\u6570\u7ec4\u4e2d\u7684\u7b2c\u4e00\u9879\uff08\u4e0a\u4f8b\u4e2d\u7684 no-var \uff09\u3002 \u5173\u95ed\u3001\u8b66\u544a\u548c\u62a5\u9519\u7684\u542b\u4e49\u5982\u4e0b\uff1a \u5173\u95ed\uff1a\u7981\u7528\u6b64\u89c4\u5219 \u8b66\u544a\uff1a\u4ee3\u7801\u68c0\u67e5\u65f6\u8f93\u51fa\u9519\u8bef\u4fe1\u606f\uff0c\u4f46\u662f\u4e0d\u4f1a\u5f71\u54cd\u5230 exit code \u62a5\u9519\uff1a\u53d1\u73b0\u9519\u8bef\u65f6\uff0c\u4e0d\u4ec5\u4f1a\u8f93\u51fa\u9519\u8bef\u4fe1\u606f\uff0c\u800c\u4e14 exit code \u5c06\u88ab\u8bbe\u4e3a 1\uff08\u4e00\u822c exit code \u4e0d\u4e3a 0 \u5219\u8868\u793a\u6267\u884c\u51fa\u73b0\u9519\u8bef\uff09 \u68c0\u67e5\u4e00\u4e2a ts \u6587\u4ef6 \u00b6 \u521b\u5efa\u4e86\u914d\u7f6e\u6587\u4ef6\u4e4b\u540e\uff0c\u6211\u4eec\u6765\u521b\u5efa\u4e00\u4e2a ts \u6587\u4ef6\u770b\u770b\u662f\u5426\u80fd\u7528 ESLint \u53bb\u68c0\u67e5\u5b83\u3002 \u521b\u5efa\u4e00\u4e2a\u65b0\u6587\u4ef6 index.ts \uff0c\u5c06\u4ee5\u4e0b\u5185\u5bb9\u590d\u5236\u8fdb\u53bb\uff1a var myName = 'Tom' ; type Foo = {}; \u7136\u540e\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a ./node_modules/.bin/eslint index.ts \u5219\u4f1a\u5f97\u5230\u5982\u4e0b\u62a5\u9519\u4fe1\u606f\uff1a /path/to/index.ts 1 :1 error Unexpected var, use let or const instead no-var 3 :6 error Use an ` interface ` instead of a ` type ` @typescript-eslint/consistent-type-definitions \u2716 2 problems ( 2 errors, 0 warnings ) 2 errors and 0 warnings potentially fixable with the ` --fix ` option. \u4e0a\u9762\u7684\u7ed3\u679c\u663e\u793a\uff0c\u521a\u521a\u914d\u7f6e\u7684\u4e24\u4e2a\u89c4\u5219\u90fd\u751f\u6548\u4e86\uff1a\u7981\u6b62\u4f7f\u7528 var \uff1b\u4f18\u5148\u4f7f\u7528 interface \u800c\u4e0d\u662f type \u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6211\u4eec\u4f7f\u7528\u7684\u662f ./node_modules/.bin/eslint \uff0c\u800c\u4e0d\u662f\u5168\u5c40\u7684 eslint \u811a\u672c\uff0c\u8fd9\u662f\u56e0\u4e3a\u4ee3\u7801\u68c0\u67e5\u662f\u9879\u76ee\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u6240\u4ee5\u6211\u4eec\u4e00\u822c\u4f1a\u5c06\u5b83\u5b89\u88c5\u5728\u5f53\u524d\u9879\u76ee\u4e2d\u3002 \u53ef\u662f\u6bcf\u6b21\u6267\u884c\u8fd9\u4e48\u957f\u4e00\u6bb5\u811a\u672c\u9887\u6709\u4e0d\u4fbf\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5728 package.json \u4e2d\u6dfb\u52a0\u4e00\u4e2a script \u6765\u521b\u5efa\u4e00\u4e2a npm script \u6765\u7b80\u5316\u8fd9\u4e2a\u6b65\u9aa4\uff1a { \"scripts\" : { \"eslint\" : \"eslint index.ts\" } } \u8fd9\u65f6\u53ea\u9700\u6267\u884c npm run eslint \u5373\u53ef\u3002 \u68c0\u67e5\u6574\u4e2a\u9879\u76ee\u7684 ts \u6587\u4ef6 \u00b6 \u6211\u4eec\u7684\u9879\u76ee\u6e90\u6587\u4ef6\u4e00\u822c\u662f\u653e\u5728 src \u76ee\u5f55\u4e0b\uff0c\u6240\u4ee5\u9700\u8981\u5c06 package.json \u4e2d\u7684 eslint \u811a\u672c\u6539\u4e3a\u5bf9\u4e00\u4e2a\u76ee\u5f55\u8fdb\u884c\u68c0\u67e5\u3002\u7531\u4e8e eslint \u9ed8\u8ba4\u4e0d\u4f1a\u68c0\u67e5 .ts \u540e\u7f00\u7684\u6587\u4ef6\uff0c\u6240\u4ee5\u9700\u8981\u52a0\u4e0a\u53c2\u6570 --ext .ts \uff1a { \"scripts\" : { \"eslint\" : \"eslint src --ext .ts\" } } \u6b64\u65f6\u6267\u884c npm run eslint \u5373\u4f1a\u68c0\u67e5 src \u76ee\u5f55\u4e0b\u7684\u6240\u6709 .ts \u540e\u7f00\u7684\u6587\u4ef6\u3002 \u5728 VSCode \u4e2d\u96c6\u6210 ESLint \u68c0\u67e5 \u00b6 \u5728\u7f16\u8f91\u5668\u4e2d\u96c6\u6210 ESLint \u68c0\u67e5\uff0c\u53ef\u4ee5\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u5c31\u53d1\u73b0\u9519\u8bef\uff0c\u751a\u81f3\u53ef\u4ee5\u5728\u4fdd\u5b58\u65f6\u81ea\u52a8\u4fee\u590d\u9519\u8bef\uff0c\u6781\u5927\u7684\u589e\u52a0\u4e86\u5f00\u53d1\u6548\u7387\u3002 \u8981\u5728 VSCode \u4e2d\u96c6\u6210 ESLint \u68c0\u67e5\uff0c\u6211\u4eec\u9700\u8981\u5148\u5b89\u88c5 ESLint \u63d2\u4ef6\uff0c\u70b9\u51fb\u300c\u6269\u5c55\u300d\u6309\u94ae\uff0c\u641c\u7d22 ESLint\uff0c\u7136\u540e\u5b89\u88c5\u5373\u53ef\u3002 VSCode \u4e2d\u7684 ESLint \u63d2\u4ef6\u9ed8\u8ba4\u662f\u4e0d\u4f1a\u68c0\u67e5 .ts \u540e\u7f00\u7684\uff0c\u9700\u8981\u5728\u300c\u6587\u4ef6 => \u9996\u9009\u9879 => \u8bbe\u7f6e => \u5de5\u4f5c\u533a\u300d\u4e2d\uff08\u4e5f\u53ef\u4ee5\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6 .vscode/settings.json \uff09\uff0c\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\uff1a { \"eslint.validate\" : [ \"javascript\" , \"javascriptreact\" , \"typescript\" ], \"typescript.tsdk\" : \"node_modules/typescript/lib\" } \u8fd9\u65f6\u518d\u6253\u5f00\u4e00\u4e2a .ts \u6587\u4ef6\uff0c\u5c06\u9f20\u6807\u79fb\u5230\u7ea2\u8272\u63d0\u793a\u5904\uff0c\u5373\u53ef\u770b\u5230\u8fd9\u6837\u7684\u62a5\u9519\u4fe1\u606f\u4e86\uff1a \u6211\u4eec\u8fd8\u53ef\u4ee5\u5f00\u542f\u4fdd\u5b58\u65f6\u81ea\u52a8\u4fee\u590d\u7684\u529f\u80fd\uff0c\u901a\u8fc7\u914d\u7f6e\uff1a { \"eslint.autoFixOnSave\" : true , \"eslint.validate\" : [ \"javascript\" , \"javascriptreact\" , { \"language\" : \"typescript\" , \"autoFix\" : true }, ], \"typescript.tsdk\" : \"node_modules/typescript/lib\" } \u5c31\u53ef\u4ee5\u5728\u4fdd\u5b58\u6587\u4ef6\u540e\uff0c\u81ea\u52a8\u4fee\u590d\u4e3a\uff1a let myName = 'Tom' ; interface Foo {} \u4f7f\u7528 Prettier \u4fee\u590d\u683c\u5f0f\u9519\u8bef \u00b6 ESLint \u5305\u542b\u4e86\u4e00\u4e9b\u4ee3\u7801\u683c\u5f0f\u7684\u68c0\u67e5\uff0c\u6bd4\u5982\u7a7a\u683c\u3001\u5206\u53f7\u7b49\u3002\u4f46\u524d\u7aef\u793e\u533a\u4e2d\u6709\u4e00\u4e2a\u66f4\u5148\u8fdb\u7684\u5de5\u5177\u53ef\u4ee5\u7528\u6765\u683c\u5f0f\u5316\u4ee3\u7801\uff0c\u90a3\u5c31\u662f Prettier \u3002 Prettier \u805a\u7126\u4e8e\u4ee3\u7801\u7684\u683c\u5f0f\u5316\uff0c\u901a\u8fc7\u8bed\u6cd5\u5206\u6790\uff0c\u91cd\u65b0\u6574\u7406\u4ee3\u7801\u7684\u683c\u5f0f\uff0c\u8ba9\u6240\u6709\u4eba\u7684\u4ee3\u7801\u90fd\u4fdd\u6301\u540c\u6837\u7684\u98ce\u683c\u3002 \u9996\u5148\u9700\u8981\u5b89\u88c5 Prettier\uff1a npm install --save-dev prettier \u7136\u540e\u521b\u5efa\u4e00\u4e2a prettier.config.js \u6587\u4ef6\uff0c\u91cc\u9762\u5305\u542b Prettier \u7684\u914d\u7f6e\u9879\u3002Prettier \u7684\u914d\u7f6e\u9879\u5f88\u5c11\uff0c\u8fd9\u91cc\u6211\u63a8\u8350\u5927\u5bb6\u4e00\u4e2a\u914d\u7f6e\u89c4\u5219\uff0c\u4f5c\u4e3a\u53c2\u8003\uff1a // prettier.config.js or .prettierrc.js module . exports = { // \u4e00\u884c\u6700\u591a 100 \u5b57\u7b26 printWidth : 100 , // \u4f7f\u7528 4 \u4e2a\u7a7a\u683c\u7f29\u8fdb tabWidth : 4 , // \u4e0d\u4f7f\u7528\u7f29\u8fdb\u7b26\uff0c\u800c\u4f7f\u7528\u7a7a\u683c useTabs : false , // \u884c\u5c3e\u9700\u8981\u6709\u5206\u53f7 semi : true , // \u4f7f\u7528\u5355\u5f15\u53f7 singleQuote : true , // \u5bf9\u8c61\u7684 key \u4ec5\u5728\u5fc5\u8981\u65f6\u7528\u5f15\u53f7 quoteProps : 'as-needed' , // jsx \u4e0d\u4f7f\u7528\u5355\u5f15\u53f7\uff0c\u800c\u4f7f\u7528\u53cc\u5f15\u53f7 jsxSingleQuote : false , // \u672b\u5c3e\u4e0d\u9700\u8981\u9017\u53f7 trailingComma : 'none' , // \u5927\u62ec\u53f7\u5185\u7684\u9996\u5c3e\u9700\u8981\u7a7a\u683c bracketSpacing : true , // jsx \u6807\u7b7e\u7684\u53cd\u5c16\u62ec\u53f7\u9700\u8981\u6362\u884c jsxBracketSameLine : false , // \u7bad\u5934\u51fd\u6570\uff0c\u53ea\u6709\u4e00\u4e2a\u53c2\u6570\u7684\u65f6\u5019\uff0c\u4e5f\u9700\u8981\u62ec\u53f7 arrowParens : 'always' , // \u6bcf\u4e2a\u6587\u4ef6\u683c\u5f0f\u5316\u7684\u8303\u56f4\u662f\u6587\u4ef6\u7684\u5168\u90e8\u5185\u5bb9 rangeStart : 0 , rangeEnd : Infinity , // \u4e0d\u9700\u8981\u5199\u6587\u4ef6\u5f00\u5934\u7684 @prettier requirePragma : false , // \u4e0d\u9700\u8981\u81ea\u52a8\u5728\u6587\u4ef6\u5f00\u5934\u63d2\u5165 @prettier insertPragma : false , // \u4f7f\u7528\u9ed8\u8ba4\u7684\u6298\u884c\u6807\u51c6 proseWrap : 'preserve' , // \u6839\u636e\u663e\u793a\u6837\u5f0f\u51b3\u5b9a html \u8981\u4e0d\u8981\u6298\u884c htmlWhitespaceSensitivity : 'css' , // \u6362\u884c\u7b26\u4f7f\u7528 lf endOfLine : 'lf' }; \u63a5\u4e0b\u6765\u5b89\u88c5 VSCode \u4e2d\u7684 Prettier \u63d2\u4ef6\uff0c\u7136\u540e\u4fee\u6539 .vscode/settings.json \uff1a { \"files.eol\" : \" \" , \"editor.tabSize\" : 4 , \"editor.formatOnSave\" : true , \"editor.defaultFormatter\" : \"esbenp.prettier-vscode\" , \"eslint.autoFixOnSave\" : true , \"eslint.validate\" : [ \"javascript\" , \"javascriptreact\" , { \"language\" : \"typescript\" , \"autoFix\" : true } ], \"typescript.tsdk\" : \"node_modules/typescript/lib\" } \u8fd9\u6837\u5c31\u5b9e\u73b0\u4e86\u4fdd\u5b58\u6587\u4ef6\u65f6\u81ea\u52a8\u683c\u5f0f\u5316\u5e76\u4e14\u81ea\u52a8\u4fee\u590d ESLint \u9519\u8bef\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7531\u4e8e ESLint \u4e5f\u53ef\u4ee5\u68c0\u67e5\u4e00\u4e9b\u4ee3\u7801\u683c\u5f0f\u7684\u95ee\u9898\uff0c\u6240\u4ee5\u5728\u548c Prettier \u914d\u5408\u4f7f\u7528\u65f6\uff0c\u6211\u4eec\u4e00\u822c\u4f1a\u628a ESLint \u4e2d\u7684\u4ee3\u7801\u683c\u5f0f\u76f8\u5173\u7684\u89c4\u5219\u7981\u7528\u6389\uff0c\u5426\u5219\u5c31\u4f1a\u6709\u51b2\u7a81\u4e86\u3002 \u4f7f\u7528 AlloyTeam \u7684 ESLint \u914d\u7f6e \u00b6 ESLint \u539f\u751f\u7684\u89c4\u5219\u548c @typescript-eslint/eslint-plugin \u7684\u89c4\u5219\u592a\u591a\u4e86\uff0c\u800c\u4e14\u539f\u751f\u7684\u89c4\u5219\u6709\u4e00\u4e9b\u5728 TypeScript \u4e2d\u652f\u6301\u7684\u4e0d\u597d\uff0c\u9700\u8981\u7981\u7528\u6389\u3002 \u8fd9\u91cc\u6211\u63a8\u8350\u4f7f\u7528 AlloyTeam ESLint \u89c4\u5219\u4e2d\u7684 TypeScript \u7248\u672c \uff0c\u5b83\u5df2\u7ecf\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u5957\u5b8c\u5584\u7684\u914d\u7f6e\u89c4\u5219\uff0c\u5e76\u4e14\u4e0e Prettier \u662f\u5b8c\u5168\u517c\u5bb9\u7684\uff08eslint-config-alloy \u4e0d\u5305\u542b\u4efb\u4f55\u4ee3\u7801\u683c\u5f0f\u7684\u89c4\u5219\uff0c\u4ee3\u7801\u683c\u5f0f\u7684\u95ee\u9898\u4ea4\u7ed9\u66f4\u4e13\u4e1a\u7684 Prettier \u53bb\u5904\u7406\uff09\u3002 \u5b89\u88c5\uff1a npm install --save-dev eslint typescript @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint-config-alloy \u5728\u4f60\u7684\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u521b\u5efa .eslintrc.js \uff0c\u5e76\u5c06\u4ee5\u4e0b\u5185\u5bb9\u590d\u5236\u5230\u6587\u4ef6\u4e2d\u5373\u53ef\uff1a module . exports = { extends : [ 'alloy' , 'alloy/typescript' , ], env : { // \u60a8\u7684\u73af\u5883\u53d8\u91cf\uff08\u5305\u542b\u591a\u4e2a\u9884\u5b9a\u4e49\u7684\u5168\u5c40\u53d8\u91cf\uff09 // Your environments (which contains several predefined global variables) // // browser: true, // node: true, // mocha: true, // jest: true, // jquery: true }, globals : { // \u60a8\u7684\u5168\u5c40\u53d8\u91cf\uff08\u8bbe\u7f6e\u4e3a false \u8868\u793a\u5b83\u4e0d\u5141\u8bb8\u88ab\u91cd\u65b0\u8d4b\u503c\uff09 // Your global variables (setting to false means it's not allowed to be reassigned) // // myGlobal: false }, rules : { // \u81ea\u5b9a\u4e49\u60a8\u7684\u89c4\u5219 // Customize your rules } }; \u66f4\u591a\u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u8bf7\u53c2\u8003 AlloyTeam ESLint \u89c4\u5219 \u4f7f\u7528 ESLint \u68c0\u67e5 tsx \u6587\u4ef6 \u00b6 \u5982\u679c\u9700\u8981\u540c\u65f6\u652f\u6301\u5bf9 tsx \u6587\u4ef6\u7684\u68c0\u67e5\uff0c\u5219\u9700\u8981\u5bf9\u4ee5\u4e0a\u6b65\u9aa4\u505a\u4e00\u4e9b\u8c03\u6574\uff1a \u5b89\u88c5 eslint-plugin-react npm install --save-dev eslint-plugin-react package.json \u4e2d\u7684 scripts.eslint \u6dfb\u52a0 .tsx \u540e\u7f00 { \"scripts\" : { \"eslint\" : \"eslint src --ext .ts,.tsx\" } } VSCode \u7684\u914d\u7f6e\u4e2d\u65b0\u589e typescriptreact \u68c0\u67e5 { \"files.eol\" : \" \" , \"editor.tabSize\" : 4 , \"editor.formatOnSave\" : true , \"editor.defaultFormatter\" : \"esbenp.prettier-vscode\" , \"eslint.autoFixOnSave\" : true , \"eslint.validate\" : [ \"javascript\" , \"javascriptreact\" , { \"language\" : \"typescript\" , \"autoFix\" : true }, { \"language\" : \"typescriptreact\" , \"autoFix\" : true } ], \"typescript.tsdk\" : \"node_modules/typescript/lib\" } \u4f7f\u7528 AlloyTeam ESLint \u89c4\u5219\u4e2d\u7684 TypeScript React \u7248\u672c AlloyTeam ESLint \u89c4\u5219\u4e2d\u7684 TypeScript React \u7248\u672c Troubleshootings \u00b6 \u62a5\u9519\u89e3\u51b3\uff1aCannot find module '@typescript-eslint/parser' \u4f60\u8fd0\u884c\u7684\u662f\u5168\u5c40\u7684 eslint\uff0c\u9700\u8981\u6539\u4e3a\u8fd0\u884c ./node_modules/.bin/eslint \u3002 VSCode \u6ca1\u6709\u663e\u793a\u51fa ESLint \u7684\u62a5\u9519 \u68c0\u67e5\u300c\u6587\u4ef6 => \u9996\u9009\u9879 => \u8bbe\u7f6e\u300d\u4e2d\u6709\u6ca1\u6709\u914d\u7f6e\u6b63\u786e \u68c0\u67e5\u5fc5\u8981\u7684 npm \u5305\u6709\u6ca1\u6709\u5b89\u88c5 \u68c0\u67e5 .eslintrc.js \u6709\u6ca1\u6709\u914d\u7f6e \u68c0\u67e5\u6587\u4ef6\u662f\u4e0d\u662f\u5728 .eslintignore \u4e2d \u5982\u679c\u4ee5\u4e0a\u6b65\u9aa4\u90fd\u4e0d\u594f\u6548\uff0c\u5219\u53ef\u4ee5\u5728\u300c\u6587\u4ef6 => \u9996\u9009\u9879 => \u8bbe\u7f6e\u300d\u4e2d\u914d\u7f6e \"eslint.trace.server\": \"messages\" \uff0c\u6309 Ctrl + Shift + U \u6253\u5f00\u8f93\u51fa\u9762\u677f\uff0c\u7136\u540e\u9009\u62e9 ESLint \u8f93\u51fa\uff0c\u67e5\u770b\u5177\u4f53\u9519\u8bef\u3002 \u4e3a\u4ec0\u4e48\u6709\u4e9b\u5b9a\u4e49\u4e86\u7684\u53d8\u91cf\uff08\u6bd4\u5982\u4f7f\u7528 enum \u5b9a\u4e49\u7684\u53d8\u91cf\uff09\u672a\u4f7f\u7528\uff0cESLint \u5374\u6ca1\u6709\u62a5\u9519\uff1f \u56e0\u4e3a\u65e0\u6cd5\u652f\u6301\u8fd9\u79cd\u53d8\u91cf\u5b9a\u4e49\u7684\u68c0\u67e5\u3002\u5efa\u8bae\u5728 tsconfig.json \u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\uff0c\u4f7f tsc \u7f16\u8bd1\u8fc7\u7a0b\u80fd\u591f\u68c0\u67e5\u51fa\u5b9a\u4e49\u4e86\u672a\u4f7f\u7528\u7684\u53d8\u91cf\uff1a { \"compilerOptions\" : { \"noUnusedLocals\" : true , \"noUnusedParameters\" : true } } \u542f\u7528\u4e86 noUnusedParameters \u4e4b\u540e\uff0c\u53ea\u4f7f\u7528\u4e86\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u4f46\u662f\u53c8\u5fc5\u987b\u4f20\u5165\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u8fd9\u5c31\u4f1a\u62a5\u9519\u4e86 \u7b2c\u4e00\u4e2a\u53c2\u6570\u4ee5\u4e0b\u5212\u7ebf\u5f00\u5934\u5373\u53ef\uff0c\u53c2\u8003 https://github.com/Microsoft/TypeScript/issues/9458 \u7f16\u8bd1\u9009\u9879 \u00b6 TypeScript \u63d0\u4f9b\u4e86\u975e\u5e38\u591a\u7684\u7f16\u8bd1\u9009\u9879\u3002\u7d22\u5f15\uff1a \u9009\u9879 \u7c7b\u578b \u9ed8\u8ba4\u503c \u63cf\u8ff0 allowJs boolean false \u5141\u8bb8\u7f16\u8bd1 js \u6587\u4ef6 allowSyntheticDefaultImports boolean false \u5141\u8bb8\u5bf9\u4e0d\u5305\u542b\u9ed8\u8ba4\u5bfc\u51fa\u7684\u6a21\u5757\u4f7f\u7528\u9ed8\u8ba4\u5bfc\u5165\u3002\u8fd9\u4e2a\u9009\u9879\u4e0d\u4f1a\u5f71\u54cd\u751f\u6210\u7684\u4ee3\u7801\uff0c\u53ea\u4f1a\u5f71\u54cd\u7c7b\u578b\u68c0\u67e5\u3002 allowJs \u00b6 \u5141\u8bb8\u7f16\u8bd1 js \u6587\u4ef6\u3002 \u8bbe\u7f6e\u4e3a true \u65f6\uff0cjs \u6587\u4ef6\u4f1a\u88ab tsc \u7f16\u8bd1\uff0c\u5426\u5219\u4e0d\u4f1a\u3002\u4e00\u822c\u5728\u9879\u76ee\u4e2d js, ts \u6df7\u5408\u5f00\u53d1\u65f6\u9700\u8981\u8bbe\u7f6e\u3002 # \u8bbe\u7f6e\u4e3a true \u65f6\uff0c\u7f16\u8bd1\u540e\u7684\u6587\u4ef6\u5305\u542b foo.js \u251c\u2500\u2500 lib \u2502 \u251c\u2500\u2500 foo.js \u2502 \u2514\u2500\u2500 index.js \u251c\u2500\u2500 src \u2502 \u251c\u2500\u2500 foo.js \u2502 \u2514\u2500\u2500 index.ts \u251c\u2500\u2500 package.json \u2514\u2500\u2500 tsconfig.json # \u8bbe\u7f6e\u4e3a false \u65f6\uff0c\u7f16\u8bd1\u540e\u7684\u6587\u4ef6\u4e0d\u5305\u542b foo.js \u251c\u2500\u2500 lib \u2502 \u2514\u2500\u2500 index.js \u251c\u2500\u2500 src \u2502 \u251c\u2500\u2500 foo.js \u2502 \u2514\u2500\u2500 index.ts \u251c\u2500\u2500 package.json \u2514\u2500\u2500 tsconfig.json allowSyntheticDefaultImports \u00b6 \u5141\u8bb8\u5bf9\u4e0d\u5305\u542b\u9ed8\u8ba4\u5bfc\u51fa\u7684\u6a21\u5757\u4f7f\u7528\u9ed8\u8ba4\u5bfc\u5165\u3002\u8fd9\u4e2a\u9009\u9879\u4e0d\u4f1a\u5f71\u54cd\u751f\u6210\u7684\u4ee3\u7801\uff0c\u53ea\u4f1a\u5f71\u54cd\u7c7b\u578b\u68c0\u67e5\u3002 export = foo \u662f ts \u4e3a\u4e86\u517c\u5bb9 commonjs \u521b\u9020\u7684\u8bed\u6cd5\uff0c\u5b83\u5bf9\u5e94\u4e8e commonjs \u4e2d\u7684 module.exports = foo \u3002 \u5728 ts \u4e2d\uff0c\u5982\u679c\u8981\u5f15\u5165\u4e00\u4e2a\u901a\u8fc7 export = foo \u5bfc\u51fa\u7684\u6a21\u5757\uff0c\u6807\u51c6\u7684\u8bed\u6cd5\u662f import foo = require('foo') \uff0c\u6216\u8005 import * as foo from 'foo' \u3002 \u4f46\u7531\u4e8e\u5386\u53f2\u539f\u56e0\uff0c\u6211\u4eec\u5df2\u7ecf\u4e60\u60ef\u4e86\u4f7f\u7528 import foo from 'foo' \u3002 \u8fd9\u4e2a\u9009\u9879\u5c31\u662f\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u5f53\u5b83\u8bbe\u7f6e\u4e3a true \u65f6\uff0c\u5141\u8bb8\u4f7f\u7528 import foo from 'foo' \u6765\u5bfc\u5165\u4e00\u4e2a\u901a\u8fc7 export = foo \u5bfc\u51fa\u7684\u6a21\u5757\u3002\u5f53\u5b83\u8bbe\u7f6e\u4e3a false \u65f6\uff0c\u5219\u4e0d\u5141\u8bb8\uff0c\u4f1a\u62a5\u9519\u3002 \u5f53\u7136\uff0c\u6211\u4eec\u4e00\u822c\u4e0d\u4f1a\u5728 ts \u6587\u4ef6\u4e2d\u4f7f\u7528 export = foo \u6765\u5bfc\u51fa\u6a21\u5757\uff0c\u800c\u662f\u5728 \u5199\uff08\u7b26\u5408 commonjs \u89c4\u8303\u7684\uff09\u7b2c\u4e09\u65b9\u5e93\u7684\u58f0\u660e\u6587\u4ef6 \u65f6\uff0c\u624d\u4f1a\u7528\u5230 export = foo \u6765\u5bfc\u51fa\u7c7b\u578b\u3002 \u6bd4\u5982 React \u7684\u58f0\u660e\u6587\u4ef6\u4e2d\uff0c\u5c31\u662f\u901a\u8fc7 export = React \u6765\u5bfc\u51fa\u7c7b\u578b\uff1a export = React ; export as namespace React ; declare namespace React { // \u58f0\u660e React \u7684\u7c7b\u578b } \u6b64\u65f6\u82e5\u6211\u4eec\u901a\u8fc7 import React from 'react' \u6765\u5bfc\u5165 react \u5219\u4f1a\u62a5\u9519 \uff1a import React from 'react' ; // Module '\"typescript-tutorial/examples/compiler-options/02-allowSyntheticDefaultImports/false/node_modules/@types/react/index\"' can only be default-imported using the 'esModuleInterop' flagts(1259) \u89e3\u51b3\u529e\u6cd5\u5c31\u662f\u5c06 allowSyntheticDefaultImports \u8bbe\u7f6e\u4e3a true \u3002","title":"04-\u5de5\u7a0b\u5316\u5f00\u53d1-\u6d4b\u8bd5\u7f16\u8bd1.md"},{"location":"typescript/04-%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91/#_1","text":"\u638c\u63e1\u4e86 TypeScript \u7684\u8bed\u6cd5\u5c31\u50cf\u5b66\u4f1a\u4e86\u780c\u5899\u7684\u5de5\u827a\u3002 \u6211\u4eec\u5b66\u4e60 TypeScript \u7684\u76ee\u7684\u4e0d\u662f\u4e3a\u4e86\u9020\u4e00\u95f4\u5c0f\u8305\u5c4b\uff0c\u800c\u662f\u4e3a\u4e86\u9020\u9ad8\u697c\u5927\u53a6\uff0c\u8fd9\u4e5f\u6b63\u662f TypeScript \u7684\u7c7b\u578b\u7cfb\u7edf\u5e26\u6765\u7684\u4f18\u52bf\u3002 \u90a3\u4e48\u4e00\u9879\u5927\u5de5\u7a0b\u5e94\u8be5\u5982\u4f55\u5f00\u5c55\u5462\uff1f\u672c\u90e8\u5206\u7684\u5185\u5bb9\u5c31\u4f1a\u4ecb\u7ecd TypeScript \u5de5\u7a0b\u5316\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u5177\u4f53\u5185\u5bb9\u5305\u62ec\uff1a \u4ee3\u7801\u68c0\u67e5 \u7f16\u8bd1\u9009\u9879","title":"\u5de5\u7a0b"},{"location":"typescript/04-%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91/#_2","text":"2019 \u5e74 1 \u6708\uff0c TypeScirpt \u5b98\u65b9\u51b3\u5b9a\u5168\u9762\u91c7\u7528 ESLint \u4f5c\u4e3a\u4ee3\u7801\u68c0\u67e5\u7684\u5de5\u5177\uff0c\u5e76\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u9879\u76ee typescript-eslint \uff0c\u63d0\u4f9b\u4e86 TypeScript \u6587\u4ef6\u7684\u89e3\u6790\u5668 @typescript-eslint/parser \u548c\u76f8\u5173\u7684\u914d\u7f6e\u9009\u9879 @typescript-eslint/eslint-plugin \u7b49\u3002TypeScript \u7684\u4ee3\u7801\u68c0\u67e5\u65b9\u6848\u5c31\u662f typescript-eslint \u3002","title":"\u4ee3\u7801\u68c0\u67e5"},{"location":"typescript/04-%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91/#_3","text":"\u4ee3\u7801\u68c0\u67e5\u4e3b\u8981\u662f\u7528\u6765\u53d1\u73b0\u4ee3\u7801\u9519\u8bef\u3001\u7edf\u4e00\u4ee3\u7801\u98ce\u683c\u3002 \u5728 JavaScript \u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u4e00\u822c\u4f7f\u7528 ESLint \u6765\u8fdb\u884c\u4ee3\u7801\u68c0\u67e5\uff0c\u5b83\u901a\u8fc7\u63d2\u4ef6\u5316\u7684\u7279\u6027\u6781\u5927\u7684\u4e30\u5bcc\u4e86\u9002\u7528\u8303\u56f4\uff0c\u642d\u914d typescript-eslint \u4e4b\u540e\uff0c\u751a\u81f3\u53ef\u4ee5\u7528\u6765\u68c0\u67e5 TypeScript \u4ee3\u7801\u3002","title":"\u4ec0\u4e48\u662f\u4ee3\u7801\u68c0\u67e5"},{"location":"typescript/04-%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91/#_4","text":"\u6709\u4eba\u4f1a\u89c9\u5f97\uff0cJavaScript \u975e\u5e38\u7075\u6d3b\uff0c\u6240\u4ee5\u9700\u8981\u4ee3\u7801\u68c0\u67e5\u3002\u800c TypeScript \u5df2\u7ecf\u80fd\u591f\u5728\u7f16\u8bd1\u9636\u6bb5\u68c0\u67e5\u51fa\u5f88\u591a\u95ee\u9898\u4e86\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u9700\u8981\u4ee3\u7801\u68c0\u67e5\u5462\uff1f \u56e0\u4e3a TypeScript \u5173\u6ce8\u7684\u91cd\u5fc3\u662f\u7c7b\u578b\u7684\u68c0\u67e5\uff0c\u800c\u4e0d\u662f\u4ee3\u7801\u98ce\u683c\u3002\u5f53\u56e2\u961f\u7684\u4eba\u5458\u8d8a\u6765\u8d8a\u591a\u65f6\uff0c\u540c\u6837\u7684\u903b\u8f91\u4e0d\u540c\u7684\u4eba\u5199\u51fa\u6765\u53ef\u80fd\u4f1a\u6709\u5f88\u5927\u7684\u533a\u522b\uff1a \u7f29\u8fdb\u5e94\u8be5\u662f\u56db\u4e2a\u7a7a\u683c\u8fd8\u662f\u4e24\u4e2a\u7a7a\u683c\uff1f \u662f\u5426\u5e94\u8be5\u7981\u7528 var \uff1f \u63a5\u53e3\u540d\u662f\u5426\u5e94\u8be5\u4ee5 I \u5f00\u5934\uff1f \u662f\u5426\u5e94\u8be5\u5f3a\u5236\u4f7f\u7528 === \u800c\u4e0d\u662f == \uff1f \u8fd9\u4e9b\u95ee\u9898 TypeScript \u4e0d\u4f1a\u5173\u6ce8\uff0c\u4f46\u662f\u5374\u5f71\u54cd\u5230\u591a\u4eba\u534f\u4f5c\u5f00\u53d1\u65f6\u7684\u6548\u7387\u3001\u4ee3\u7801\u7684\u53ef\u7406\u89e3\u6027\u4ee5\u53ca\u53ef\u7ef4\u62a4\u6027\u3002 \u4e0b\u9762\u6765\u770b\u4e00\u4e2a\u5177\u4f53\u7684\u4f8b\u5b50\uff1a var myName = 'Tom' ; console . log ( `My name is ${ myNane } ` ); console . log ( `My name is ${ myName . toStrng () } ` ); \u4ee5\u4e0a\u4ee3\u7801\u4f60\u80fd\u770b\u51fa\u6709\u4ec0\u4e48\u9519\u8bef\u5417\uff1f \u5206\u522b\u7528 tsc \u7f16\u8bd1\u548c eslint \u68c0\u67e5\u540e\uff0c\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a var myName = 'Tom' ; // eslint \u62a5\u9519\u4fe1\u606f\uff1a // Unexpected var, use let or const instead.eslint(no-var) console . log ( `My name is ${ myNane } ` ); // tsc \u62a5\u9519\u4fe1\u606f\uff1a // Cannot find name 'myNane'. Did you mean 'myName'? // eslint \u62a5\u9519\u4fe1\u606f\uff1a // 'myNane' is not defined.eslint(no-undef) console . log ( `My name is ${ myName . toStrng () } ` ); // tsc \u62a5\u9519\u4fe1\u606f\uff1a // Property 'toStrng' does not exist on type 'string'. Did you mean 'toString'? \u5b58\u5728\u7684\u95ee\u9898 tsc \u662f\u5426\u62a5\u9519 eslint \u662f\u5426\u62a5\u9519 \u5e94\u8be5\u4f7f\u7528 let \u6216 const \u800c\u4e0d\u662f var \u274c \u2705 myName \u88ab\u8bef\u5199\u6210\u4e86 myNane \u2705 \u2705 toString \u88ab\u8bef\u5199\u6210\u4e86 toStrng \u2705\ufe0f \u274c \u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 var \u6765\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\uff0c\u4f46\u5176\u5b9e ES6 \u4e2d\u6709\u66f4\u5148\u8fdb\u7684\u8bed\u6cd5 let \u548c const \uff0c\u6b64\u65f6\u5c31\u53ef\u4ee5\u901a\u8fc7 eslint \u68c0\u67e5\u51fa\u6765\uff0c\u63d0\u793a\u6211\u4eec\u5e94\u8be5\u4f7f\u7528 let \u6216 const \u800c\u4e0d\u662f var \u3002 \u5bf9\u4e8e\u672a\u5b9a\u4e49\u7684\u53d8\u91cf myNane \uff0c tsc \u548c eslint \u90fd\u53ef\u4ee5\u68c0\u67e5\u51fa\u6765\u3002 \u7531\u4e8e eslint \u65e0\u6cd5\u8bc6\u522b myName \u5b58\u5728\u54ea\u4e9b\u65b9\u6cd5\uff0c\u6240\u4ee5\u5bf9\u4e8e\u62fc\u5199\u9519\u8bef\u7684 toString \u6ca1\u6709\u68c0\u67e5\u51fa\u6765\u3002 \u7531\u6b64\u53ef\u89c1\uff0c eslint \u80fd\u591f\u53d1\u73b0\u51fa\u4e00\u4e9b tsc \u4e0d\u4f1a\u5173\u5fc3\u7684\u9519\u8bef\uff0c\u68c0\u67e5\u51fa\u4e00\u4e9b\u6f5c\u5728\u7684\u95ee\u9898\uff0c\u6240\u4ee5\u4ee3\u7801\u68c0\u67e5\u8fd8\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002","title":"\u4e3a\u4ec0\u4e48\u9700\u8981\u4ee3\u7801\u68c0\u67e5"},{"location":"typescript/04-%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91/#typescript-eslint","text":"","title":"\u5728 TypeScript \u4e2d\u4f7f\u7528 ESLint"},{"location":"typescript/04-%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91/#eslint","text":"ESLint \u53ef\u4ee5\u5b89\u88c5\u5728\u5f53\u524d\u9879\u76ee\u4e2d\u6216\u5168\u5c40\u73af\u5883\u4e0b\uff0c\u56e0\u4e3a\u4ee3\u7801\u68c0\u67e5\u662f\u9879\u76ee\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u6240\u4ee5\u6211\u4eec\u4e00\u822c\u4f1a\u5c06\u5b83\u5b89\u88c5\u5728\u5f53\u524d\u9879\u76ee\u4e2d\u3002\u53ef\u4ee5\u8fd0\u884c\u4e0b\u9762\u7684\u811a\u672c\u6765\u5b89\u88c5\uff1a npm install --save-dev eslint \u7531\u4e8e ESLint \u9ed8\u8ba4\u4f7f\u7528 Espree \u8fdb\u884c\u8bed\u6cd5\u89e3\u6790\uff0c\u65e0\u6cd5\u8bc6\u522b TypeScript \u7684\u4e00\u4e9b\u8bed\u6cd5\uff0c\u6545\u6211\u4eec\u9700\u8981\u5b89\u88c5 @typescript-eslint/parser \uff0c\u66ff\u4ee3\u6389\u9ed8\u8ba4\u7684\u89e3\u6790\u5668\uff0c\u522b\u5fd8\u4e86\u540c\u65f6\u5b89\u88c5 typescript \uff1a npm install --save-dev typescript @typescript-eslint/parser \u63a5\u4e0b\u6765\u9700\u8981\u5b89\u88c5\u5bf9\u5e94\u7684\u63d2\u4ef6 @typescript-eslint/eslint-plugin \u5b83\u4f5c\u4e3a eslint \u9ed8\u8ba4\u89c4\u5219\u7684\u8865\u5145\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e9b\u989d\u5916\u7684\u9002\u7528\u4e8e ts \u8bed\u6cd5\u7684\u89c4\u5219\u3002 npm install --save-dev @typescript-eslint/eslint-plugin","title":"\u5b89\u88c5 ESLint"},{"location":"typescript/04-%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91/#_5","text":"ESLint \u9700\u8981\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u6765\u51b3\u5b9a\u5bf9\u54ea\u4e9b\u89c4\u5219\u8fdb\u884c\u68c0\u67e5\uff0c\u914d\u7f6e\u6587\u4ef6\u7684\u540d\u79f0\u4e00\u822c\u662f .eslintrc.js \u6216 .eslintrc.json \u3002 \u5f53\u8fd0\u884c ESLint \u7684\u65f6\u5019\u68c0\u67e5\u4e00\u4e2a\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u5b83\u4f1a\u9996\u5148\u5c1d\u8bd5\u8bfb\u53d6\u8be5\u6587\u4ef6\u7684\u76ee\u5f55\u4e0b\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u7136\u540e\u518d\u4e00\u7ea7\u4e00\u7ea7\u5f80\u4e0a\u67e5\u627e\uff0c\u5c06\u6240\u627e\u5230\u7684\u914d\u7f6e\u5408\u5e76\u8d77\u6765\uff0c\u4f5c\u4e3a\u5f53\u524d\u88ab\u68c0\u67e5\u6587\u4ef6\u7684\u914d\u7f6e\u3002 \u6211\u4eec\u5728\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a .eslintrc.js \uff0c\u5185\u5bb9\u5982\u4e0b\uff1a module . exports = { parser : '@typescript-eslint/parser' , plugins : [ '@typescript-eslint' ], rules : { // \u7981\u6b62\u4f7f\u7528 var 'no-var' : \"error\" , // \u4f18\u5148\u4f7f\u7528 interface \u800c\u4e0d\u662f type '@typescript-eslint/consistent-type-definitions' : [ \"error\" , \"interface\" ] } } \u4ee5\u4e0a\u914d\u7f6e\u4e2d\uff0c\u6211\u4eec\u6307\u5b9a\u4e86\u4e24\u4e2a\u89c4\u5219\uff0c\u5176\u4e2d no-var \u662f ESLint \u539f\u751f\u7684\u89c4\u5219\uff0c @typescript-eslint/consistent-type-definitions \u662f @typescript-eslint/eslint-plugin \u65b0\u589e\u7684\u89c4\u5219\u3002 \u89c4\u5219\u7684\u53d6\u503c\u4e00\u822c\u662f\u4e00\u4e2a\u6570\u7ec4\uff08\u4e0a\u4f8b\u4e2d\u7684 @typescript-eslint/consistent-type-definitions \uff09\uff0c\u5176\u4e2d\u7b2c\u4e00\u9879\u662f off \u3001 warn \u6216 error \u4e2d\u7684\u4e00\u4e2a\uff0c\u8868\u793a\u5173\u95ed\u3001\u8b66\u544a\u548c\u62a5\u9519\u3002\u540e\u9762\u7684\u9879\u90fd\u662f\u8be5\u89c4\u5219\u7684\u5176\u4ed6\u914d\u7f6e\u3002 \u5982\u679c\u6ca1\u6709\u5176\u4ed6\u914d\u7f6e\u7684\u8bdd\uff0c\u5219\u53ef\u4ee5\u5c06\u89c4\u5219\u7684\u53d6\u503c\u7b80\u5199\u4e3a\u6570\u7ec4\u4e2d\u7684\u7b2c\u4e00\u9879\uff08\u4e0a\u4f8b\u4e2d\u7684 no-var \uff09\u3002 \u5173\u95ed\u3001\u8b66\u544a\u548c\u62a5\u9519\u7684\u542b\u4e49\u5982\u4e0b\uff1a \u5173\u95ed\uff1a\u7981\u7528\u6b64\u89c4\u5219 \u8b66\u544a\uff1a\u4ee3\u7801\u68c0\u67e5\u65f6\u8f93\u51fa\u9519\u8bef\u4fe1\u606f\uff0c\u4f46\u662f\u4e0d\u4f1a\u5f71\u54cd\u5230 exit code \u62a5\u9519\uff1a\u53d1\u73b0\u9519\u8bef\u65f6\uff0c\u4e0d\u4ec5\u4f1a\u8f93\u51fa\u9519\u8bef\u4fe1\u606f\uff0c\u800c\u4e14 exit code \u5c06\u88ab\u8bbe\u4e3a 1\uff08\u4e00\u822c exit code \u4e0d\u4e3a 0 \u5219\u8868\u793a\u6267\u884c\u51fa\u73b0\u9519\u8bef\uff09","title":"\u521b\u5efa\u914d\u7f6e\u6587\u4ef6"},{"location":"typescript/04-%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91/#ts","text":"\u521b\u5efa\u4e86\u914d\u7f6e\u6587\u4ef6\u4e4b\u540e\uff0c\u6211\u4eec\u6765\u521b\u5efa\u4e00\u4e2a ts \u6587\u4ef6\u770b\u770b\u662f\u5426\u80fd\u7528 ESLint \u53bb\u68c0\u67e5\u5b83\u3002 \u521b\u5efa\u4e00\u4e2a\u65b0\u6587\u4ef6 index.ts \uff0c\u5c06\u4ee5\u4e0b\u5185\u5bb9\u590d\u5236\u8fdb\u53bb\uff1a var myName = 'Tom' ; type Foo = {}; \u7136\u540e\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a ./node_modules/.bin/eslint index.ts \u5219\u4f1a\u5f97\u5230\u5982\u4e0b\u62a5\u9519\u4fe1\u606f\uff1a /path/to/index.ts 1 :1 error Unexpected var, use let or const instead no-var 3 :6 error Use an ` interface ` instead of a ` type ` @typescript-eslint/consistent-type-definitions \u2716 2 problems ( 2 errors, 0 warnings ) 2 errors and 0 warnings potentially fixable with the ` --fix ` option. \u4e0a\u9762\u7684\u7ed3\u679c\u663e\u793a\uff0c\u521a\u521a\u914d\u7f6e\u7684\u4e24\u4e2a\u89c4\u5219\u90fd\u751f\u6548\u4e86\uff1a\u7981\u6b62\u4f7f\u7528 var \uff1b\u4f18\u5148\u4f7f\u7528 interface \u800c\u4e0d\u662f type \u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6211\u4eec\u4f7f\u7528\u7684\u662f ./node_modules/.bin/eslint \uff0c\u800c\u4e0d\u662f\u5168\u5c40\u7684 eslint \u811a\u672c\uff0c\u8fd9\u662f\u56e0\u4e3a\u4ee3\u7801\u68c0\u67e5\u662f\u9879\u76ee\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u6240\u4ee5\u6211\u4eec\u4e00\u822c\u4f1a\u5c06\u5b83\u5b89\u88c5\u5728\u5f53\u524d\u9879\u76ee\u4e2d\u3002 \u53ef\u662f\u6bcf\u6b21\u6267\u884c\u8fd9\u4e48\u957f\u4e00\u6bb5\u811a\u672c\u9887\u6709\u4e0d\u4fbf\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5728 package.json \u4e2d\u6dfb\u52a0\u4e00\u4e2a script \u6765\u521b\u5efa\u4e00\u4e2a npm script \u6765\u7b80\u5316\u8fd9\u4e2a\u6b65\u9aa4\uff1a { \"scripts\" : { \"eslint\" : \"eslint index.ts\" } } \u8fd9\u65f6\u53ea\u9700\u6267\u884c npm run eslint \u5373\u53ef\u3002","title":"\u68c0\u67e5\u4e00\u4e2a ts \u6587\u4ef6"},{"location":"typescript/04-%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91/#ts_1","text":"\u6211\u4eec\u7684\u9879\u76ee\u6e90\u6587\u4ef6\u4e00\u822c\u662f\u653e\u5728 src \u76ee\u5f55\u4e0b\uff0c\u6240\u4ee5\u9700\u8981\u5c06 package.json \u4e2d\u7684 eslint \u811a\u672c\u6539\u4e3a\u5bf9\u4e00\u4e2a\u76ee\u5f55\u8fdb\u884c\u68c0\u67e5\u3002\u7531\u4e8e eslint \u9ed8\u8ba4\u4e0d\u4f1a\u68c0\u67e5 .ts \u540e\u7f00\u7684\u6587\u4ef6\uff0c\u6240\u4ee5\u9700\u8981\u52a0\u4e0a\u53c2\u6570 --ext .ts \uff1a { \"scripts\" : { \"eslint\" : \"eslint src --ext .ts\" } } \u6b64\u65f6\u6267\u884c npm run eslint \u5373\u4f1a\u68c0\u67e5 src \u76ee\u5f55\u4e0b\u7684\u6240\u6709 .ts \u540e\u7f00\u7684\u6587\u4ef6\u3002","title":"\u68c0\u67e5\u6574\u4e2a\u9879\u76ee\u7684 ts \u6587\u4ef6"},{"location":"typescript/04-%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91/#vscode-eslint","text":"\u5728\u7f16\u8f91\u5668\u4e2d\u96c6\u6210 ESLint \u68c0\u67e5\uff0c\u53ef\u4ee5\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u5c31\u53d1\u73b0\u9519\u8bef\uff0c\u751a\u81f3\u53ef\u4ee5\u5728\u4fdd\u5b58\u65f6\u81ea\u52a8\u4fee\u590d\u9519\u8bef\uff0c\u6781\u5927\u7684\u589e\u52a0\u4e86\u5f00\u53d1\u6548\u7387\u3002 \u8981\u5728 VSCode \u4e2d\u96c6\u6210 ESLint \u68c0\u67e5\uff0c\u6211\u4eec\u9700\u8981\u5148\u5b89\u88c5 ESLint \u63d2\u4ef6\uff0c\u70b9\u51fb\u300c\u6269\u5c55\u300d\u6309\u94ae\uff0c\u641c\u7d22 ESLint\uff0c\u7136\u540e\u5b89\u88c5\u5373\u53ef\u3002 VSCode \u4e2d\u7684 ESLint \u63d2\u4ef6\u9ed8\u8ba4\u662f\u4e0d\u4f1a\u68c0\u67e5 .ts \u540e\u7f00\u7684\uff0c\u9700\u8981\u5728\u300c\u6587\u4ef6 => \u9996\u9009\u9879 => \u8bbe\u7f6e => \u5de5\u4f5c\u533a\u300d\u4e2d\uff08\u4e5f\u53ef\u4ee5\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6 .vscode/settings.json \uff09\uff0c\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\uff1a { \"eslint.validate\" : [ \"javascript\" , \"javascriptreact\" , \"typescript\" ], \"typescript.tsdk\" : \"node_modules/typescript/lib\" } \u8fd9\u65f6\u518d\u6253\u5f00\u4e00\u4e2a .ts \u6587\u4ef6\uff0c\u5c06\u9f20\u6807\u79fb\u5230\u7ea2\u8272\u63d0\u793a\u5904\uff0c\u5373\u53ef\u770b\u5230\u8fd9\u6837\u7684\u62a5\u9519\u4fe1\u606f\u4e86\uff1a \u6211\u4eec\u8fd8\u53ef\u4ee5\u5f00\u542f\u4fdd\u5b58\u65f6\u81ea\u52a8\u4fee\u590d\u7684\u529f\u80fd\uff0c\u901a\u8fc7\u914d\u7f6e\uff1a { \"eslint.autoFixOnSave\" : true , \"eslint.validate\" : [ \"javascript\" , \"javascriptreact\" , { \"language\" : \"typescript\" , \"autoFix\" : true }, ], \"typescript.tsdk\" : \"node_modules/typescript/lib\" } \u5c31\u53ef\u4ee5\u5728\u4fdd\u5b58\u6587\u4ef6\u540e\uff0c\u81ea\u52a8\u4fee\u590d\u4e3a\uff1a let myName = 'Tom' ; interface Foo {}","title":"\u5728 VSCode \u4e2d\u96c6\u6210 ESLint \u68c0\u67e5"},{"location":"typescript/04-%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91/#prettier","text":"ESLint \u5305\u542b\u4e86\u4e00\u4e9b\u4ee3\u7801\u683c\u5f0f\u7684\u68c0\u67e5\uff0c\u6bd4\u5982\u7a7a\u683c\u3001\u5206\u53f7\u7b49\u3002\u4f46\u524d\u7aef\u793e\u533a\u4e2d\u6709\u4e00\u4e2a\u66f4\u5148\u8fdb\u7684\u5de5\u5177\u53ef\u4ee5\u7528\u6765\u683c\u5f0f\u5316\u4ee3\u7801\uff0c\u90a3\u5c31\u662f Prettier \u3002 Prettier \u805a\u7126\u4e8e\u4ee3\u7801\u7684\u683c\u5f0f\u5316\uff0c\u901a\u8fc7\u8bed\u6cd5\u5206\u6790\uff0c\u91cd\u65b0\u6574\u7406\u4ee3\u7801\u7684\u683c\u5f0f\uff0c\u8ba9\u6240\u6709\u4eba\u7684\u4ee3\u7801\u90fd\u4fdd\u6301\u540c\u6837\u7684\u98ce\u683c\u3002 \u9996\u5148\u9700\u8981\u5b89\u88c5 Prettier\uff1a npm install --save-dev prettier \u7136\u540e\u521b\u5efa\u4e00\u4e2a prettier.config.js \u6587\u4ef6\uff0c\u91cc\u9762\u5305\u542b Prettier \u7684\u914d\u7f6e\u9879\u3002Prettier \u7684\u914d\u7f6e\u9879\u5f88\u5c11\uff0c\u8fd9\u91cc\u6211\u63a8\u8350\u5927\u5bb6\u4e00\u4e2a\u914d\u7f6e\u89c4\u5219\uff0c\u4f5c\u4e3a\u53c2\u8003\uff1a // prettier.config.js or .prettierrc.js module . exports = { // \u4e00\u884c\u6700\u591a 100 \u5b57\u7b26 printWidth : 100 , // \u4f7f\u7528 4 \u4e2a\u7a7a\u683c\u7f29\u8fdb tabWidth : 4 , // \u4e0d\u4f7f\u7528\u7f29\u8fdb\u7b26\uff0c\u800c\u4f7f\u7528\u7a7a\u683c useTabs : false , // \u884c\u5c3e\u9700\u8981\u6709\u5206\u53f7 semi : true , // \u4f7f\u7528\u5355\u5f15\u53f7 singleQuote : true , // \u5bf9\u8c61\u7684 key \u4ec5\u5728\u5fc5\u8981\u65f6\u7528\u5f15\u53f7 quoteProps : 'as-needed' , // jsx \u4e0d\u4f7f\u7528\u5355\u5f15\u53f7\uff0c\u800c\u4f7f\u7528\u53cc\u5f15\u53f7 jsxSingleQuote : false , // \u672b\u5c3e\u4e0d\u9700\u8981\u9017\u53f7 trailingComma : 'none' , // \u5927\u62ec\u53f7\u5185\u7684\u9996\u5c3e\u9700\u8981\u7a7a\u683c bracketSpacing : true , // jsx \u6807\u7b7e\u7684\u53cd\u5c16\u62ec\u53f7\u9700\u8981\u6362\u884c jsxBracketSameLine : false , // \u7bad\u5934\u51fd\u6570\uff0c\u53ea\u6709\u4e00\u4e2a\u53c2\u6570\u7684\u65f6\u5019\uff0c\u4e5f\u9700\u8981\u62ec\u53f7 arrowParens : 'always' , // \u6bcf\u4e2a\u6587\u4ef6\u683c\u5f0f\u5316\u7684\u8303\u56f4\u662f\u6587\u4ef6\u7684\u5168\u90e8\u5185\u5bb9 rangeStart : 0 , rangeEnd : Infinity , // \u4e0d\u9700\u8981\u5199\u6587\u4ef6\u5f00\u5934\u7684 @prettier requirePragma : false , // \u4e0d\u9700\u8981\u81ea\u52a8\u5728\u6587\u4ef6\u5f00\u5934\u63d2\u5165 @prettier insertPragma : false , // \u4f7f\u7528\u9ed8\u8ba4\u7684\u6298\u884c\u6807\u51c6 proseWrap : 'preserve' , // \u6839\u636e\u663e\u793a\u6837\u5f0f\u51b3\u5b9a html \u8981\u4e0d\u8981\u6298\u884c htmlWhitespaceSensitivity : 'css' , // \u6362\u884c\u7b26\u4f7f\u7528 lf endOfLine : 'lf' }; \u63a5\u4e0b\u6765\u5b89\u88c5 VSCode \u4e2d\u7684 Prettier \u63d2\u4ef6\uff0c\u7136\u540e\u4fee\u6539 .vscode/settings.json \uff1a { \"files.eol\" : \" \" , \"editor.tabSize\" : 4 , \"editor.formatOnSave\" : true , \"editor.defaultFormatter\" : \"esbenp.prettier-vscode\" , \"eslint.autoFixOnSave\" : true , \"eslint.validate\" : [ \"javascript\" , \"javascriptreact\" , { \"language\" : \"typescript\" , \"autoFix\" : true } ], \"typescript.tsdk\" : \"node_modules/typescript/lib\" } \u8fd9\u6837\u5c31\u5b9e\u73b0\u4e86\u4fdd\u5b58\u6587\u4ef6\u65f6\u81ea\u52a8\u683c\u5f0f\u5316\u5e76\u4e14\u81ea\u52a8\u4fee\u590d ESLint \u9519\u8bef\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7531\u4e8e ESLint \u4e5f\u53ef\u4ee5\u68c0\u67e5\u4e00\u4e9b\u4ee3\u7801\u683c\u5f0f\u7684\u95ee\u9898\uff0c\u6240\u4ee5\u5728\u548c Prettier \u914d\u5408\u4f7f\u7528\u65f6\uff0c\u6211\u4eec\u4e00\u822c\u4f1a\u628a ESLint \u4e2d\u7684\u4ee3\u7801\u683c\u5f0f\u76f8\u5173\u7684\u89c4\u5219\u7981\u7528\u6389\uff0c\u5426\u5219\u5c31\u4f1a\u6709\u51b2\u7a81\u4e86\u3002","title":"\u4f7f\u7528 Prettier \u4fee\u590d\u683c\u5f0f\u9519\u8bef"},{"location":"typescript/04-%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91/#alloyteam-eslint","text":"ESLint \u539f\u751f\u7684\u89c4\u5219\u548c @typescript-eslint/eslint-plugin \u7684\u89c4\u5219\u592a\u591a\u4e86\uff0c\u800c\u4e14\u539f\u751f\u7684\u89c4\u5219\u6709\u4e00\u4e9b\u5728 TypeScript \u4e2d\u652f\u6301\u7684\u4e0d\u597d\uff0c\u9700\u8981\u7981\u7528\u6389\u3002 \u8fd9\u91cc\u6211\u63a8\u8350\u4f7f\u7528 AlloyTeam ESLint \u89c4\u5219\u4e2d\u7684 TypeScript \u7248\u672c \uff0c\u5b83\u5df2\u7ecf\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u5957\u5b8c\u5584\u7684\u914d\u7f6e\u89c4\u5219\uff0c\u5e76\u4e14\u4e0e Prettier \u662f\u5b8c\u5168\u517c\u5bb9\u7684\uff08eslint-config-alloy \u4e0d\u5305\u542b\u4efb\u4f55\u4ee3\u7801\u683c\u5f0f\u7684\u89c4\u5219\uff0c\u4ee3\u7801\u683c\u5f0f\u7684\u95ee\u9898\u4ea4\u7ed9\u66f4\u4e13\u4e1a\u7684 Prettier \u53bb\u5904\u7406\uff09\u3002 \u5b89\u88c5\uff1a npm install --save-dev eslint typescript @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint-config-alloy \u5728\u4f60\u7684\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u521b\u5efa .eslintrc.js \uff0c\u5e76\u5c06\u4ee5\u4e0b\u5185\u5bb9\u590d\u5236\u5230\u6587\u4ef6\u4e2d\u5373\u53ef\uff1a module . exports = { extends : [ 'alloy' , 'alloy/typescript' , ], env : { // \u60a8\u7684\u73af\u5883\u53d8\u91cf\uff08\u5305\u542b\u591a\u4e2a\u9884\u5b9a\u4e49\u7684\u5168\u5c40\u53d8\u91cf\uff09 // Your environments (which contains several predefined global variables) // // browser: true, // node: true, // mocha: true, // jest: true, // jquery: true }, globals : { // \u60a8\u7684\u5168\u5c40\u53d8\u91cf\uff08\u8bbe\u7f6e\u4e3a false \u8868\u793a\u5b83\u4e0d\u5141\u8bb8\u88ab\u91cd\u65b0\u8d4b\u503c\uff09 // Your global variables (setting to false means it's not allowed to be reassigned) // // myGlobal: false }, rules : { // \u81ea\u5b9a\u4e49\u60a8\u7684\u89c4\u5219 // Customize your rules } }; \u66f4\u591a\u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u8bf7\u53c2\u8003 AlloyTeam ESLint \u89c4\u5219","title":"\u4f7f\u7528 AlloyTeam \u7684 ESLint \u914d\u7f6e"},{"location":"typescript/04-%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91/#eslint-tsx","text":"\u5982\u679c\u9700\u8981\u540c\u65f6\u652f\u6301\u5bf9 tsx \u6587\u4ef6\u7684\u68c0\u67e5\uff0c\u5219\u9700\u8981\u5bf9\u4ee5\u4e0a\u6b65\u9aa4\u505a\u4e00\u4e9b\u8c03\u6574\uff1a \u5b89\u88c5 eslint-plugin-react npm install --save-dev eslint-plugin-react package.json \u4e2d\u7684 scripts.eslint \u6dfb\u52a0 .tsx \u540e\u7f00 { \"scripts\" : { \"eslint\" : \"eslint src --ext .ts,.tsx\" } } VSCode \u7684\u914d\u7f6e\u4e2d\u65b0\u589e typescriptreact \u68c0\u67e5 { \"files.eol\" : \" \" , \"editor.tabSize\" : 4 , \"editor.formatOnSave\" : true , \"editor.defaultFormatter\" : \"esbenp.prettier-vscode\" , \"eslint.autoFixOnSave\" : true , \"eslint.validate\" : [ \"javascript\" , \"javascriptreact\" , { \"language\" : \"typescript\" , \"autoFix\" : true }, { \"language\" : \"typescriptreact\" , \"autoFix\" : true } ], \"typescript.tsdk\" : \"node_modules/typescript/lib\" } \u4f7f\u7528 AlloyTeam ESLint \u89c4\u5219\u4e2d\u7684 TypeScript React \u7248\u672c AlloyTeam ESLint \u89c4\u5219\u4e2d\u7684 TypeScript React \u7248\u672c","title":"\u4f7f\u7528 ESLint \u68c0\u67e5 tsx \u6587\u4ef6"},{"location":"typescript/04-%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91/#troubleshootings","text":"\u62a5\u9519\u89e3\u51b3\uff1aCannot find module '@typescript-eslint/parser' \u4f60\u8fd0\u884c\u7684\u662f\u5168\u5c40\u7684 eslint\uff0c\u9700\u8981\u6539\u4e3a\u8fd0\u884c ./node_modules/.bin/eslint \u3002 VSCode \u6ca1\u6709\u663e\u793a\u51fa ESLint \u7684\u62a5\u9519 \u68c0\u67e5\u300c\u6587\u4ef6 => \u9996\u9009\u9879 => \u8bbe\u7f6e\u300d\u4e2d\u6709\u6ca1\u6709\u914d\u7f6e\u6b63\u786e \u68c0\u67e5\u5fc5\u8981\u7684 npm \u5305\u6709\u6ca1\u6709\u5b89\u88c5 \u68c0\u67e5 .eslintrc.js \u6709\u6ca1\u6709\u914d\u7f6e \u68c0\u67e5\u6587\u4ef6\u662f\u4e0d\u662f\u5728 .eslintignore \u4e2d \u5982\u679c\u4ee5\u4e0a\u6b65\u9aa4\u90fd\u4e0d\u594f\u6548\uff0c\u5219\u53ef\u4ee5\u5728\u300c\u6587\u4ef6 => \u9996\u9009\u9879 => \u8bbe\u7f6e\u300d\u4e2d\u914d\u7f6e \"eslint.trace.server\": \"messages\" \uff0c\u6309 Ctrl + Shift + U \u6253\u5f00\u8f93\u51fa\u9762\u677f\uff0c\u7136\u540e\u9009\u62e9 ESLint \u8f93\u51fa\uff0c\u67e5\u770b\u5177\u4f53\u9519\u8bef\u3002 \u4e3a\u4ec0\u4e48\u6709\u4e9b\u5b9a\u4e49\u4e86\u7684\u53d8\u91cf\uff08\u6bd4\u5982\u4f7f\u7528 enum \u5b9a\u4e49\u7684\u53d8\u91cf\uff09\u672a\u4f7f\u7528\uff0cESLint \u5374\u6ca1\u6709\u62a5\u9519\uff1f \u56e0\u4e3a\u65e0\u6cd5\u652f\u6301\u8fd9\u79cd\u53d8\u91cf\u5b9a\u4e49\u7684\u68c0\u67e5\u3002\u5efa\u8bae\u5728 tsconfig.json \u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\uff0c\u4f7f tsc \u7f16\u8bd1\u8fc7\u7a0b\u80fd\u591f\u68c0\u67e5\u51fa\u5b9a\u4e49\u4e86\u672a\u4f7f\u7528\u7684\u53d8\u91cf\uff1a { \"compilerOptions\" : { \"noUnusedLocals\" : true , \"noUnusedParameters\" : true } } \u542f\u7528\u4e86 noUnusedParameters \u4e4b\u540e\uff0c\u53ea\u4f7f\u7528\u4e86\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u4f46\u662f\u53c8\u5fc5\u987b\u4f20\u5165\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u8fd9\u5c31\u4f1a\u62a5\u9519\u4e86 \u7b2c\u4e00\u4e2a\u53c2\u6570\u4ee5\u4e0b\u5212\u7ebf\u5f00\u5934\u5373\u53ef\uff0c\u53c2\u8003 https://github.com/Microsoft/TypeScript/issues/9458","title":"Troubleshootings"},{"location":"typescript/04-%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91/#_6","text":"TypeScript \u63d0\u4f9b\u4e86\u975e\u5e38\u591a\u7684\u7f16\u8bd1\u9009\u9879\u3002\u7d22\u5f15\uff1a \u9009\u9879 \u7c7b\u578b \u9ed8\u8ba4\u503c \u63cf\u8ff0 allowJs boolean false \u5141\u8bb8\u7f16\u8bd1 js \u6587\u4ef6 allowSyntheticDefaultImports boolean false \u5141\u8bb8\u5bf9\u4e0d\u5305\u542b\u9ed8\u8ba4\u5bfc\u51fa\u7684\u6a21\u5757\u4f7f\u7528\u9ed8\u8ba4\u5bfc\u5165\u3002\u8fd9\u4e2a\u9009\u9879\u4e0d\u4f1a\u5f71\u54cd\u751f\u6210\u7684\u4ee3\u7801\uff0c\u53ea\u4f1a\u5f71\u54cd\u7c7b\u578b\u68c0\u67e5\u3002","title":"\u7f16\u8bd1\u9009\u9879"},{"location":"typescript/04-%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91/#allowjs","text":"\u5141\u8bb8\u7f16\u8bd1 js \u6587\u4ef6\u3002 \u8bbe\u7f6e\u4e3a true \u65f6\uff0cjs \u6587\u4ef6\u4f1a\u88ab tsc \u7f16\u8bd1\uff0c\u5426\u5219\u4e0d\u4f1a\u3002\u4e00\u822c\u5728\u9879\u76ee\u4e2d js, ts \u6df7\u5408\u5f00\u53d1\u65f6\u9700\u8981\u8bbe\u7f6e\u3002 # \u8bbe\u7f6e\u4e3a true \u65f6\uff0c\u7f16\u8bd1\u540e\u7684\u6587\u4ef6\u5305\u542b foo.js \u251c\u2500\u2500 lib \u2502 \u251c\u2500\u2500 foo.js \u2502 \u2514\u2500\u2500 index.js \u251c\u2500\u2500 src \u2502 \u251c\u2500\u2500 foo.js \u2502 \u2514\u2500\u2500 index.ts \u251c\u2500\u2500 package.json \u2514\u2500\u2500 tsconfig.json # \u8bbe\u7f6e\u4e3a false \u65f6\uff0c\u7f16\u8bd1\u540e\u7684\u6587\u4ef6\u4e0d\u5305\u542b foo.js \u251c\u2500\u2500 lib \u2502 \u2514\u2500\u2500 index.js \u251c\u2500\u2500 src \u2502 \u251c\u2500\u2500 foo.js \u2502 \u2514\u2500\u2500 index.ts \u251c\u2500\u2500 package.json \u2514\u2500\u2500 tsconfig.json","title":"allowJs"},{"location":"typescript/04-%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91/#allowsyntheticdefaultimports","text":"\u5141\u8bb8\u5bf9\u4e0d\u5305\u542b\u9ed8\u8ba4\u5bfc\u51fa\u7684\u6a21\u5757\u4f7f\u7528\u9ed8\u8ba4\u5bfc\u5165\u3002\u8fd9\u4e2a\u9009\u9879\u4e0d\u4f1a\u5f71\u54cd\u751f\u6210\u7684\u4ee3\u7801\uff0c\u53ea\u4f1a\u5f71\u54cd\u7c7b\u578b\u68c0\u67e5\u3002 export = foo \u662f ts \u4e3a\u4e86\u517c\u5bb9 commonjs \u521b\u9020\u7684\u8bed\u6cd5\uff0c\u5b83\u5bf9\u5e94\u4e8e commonjs \u4e2d\u7684 module.exports = foo \u3002 \u5728 ts \u4e2d\uff0c\u5982\u679c\u8981\u5f15\u5165\u4e00\u4e2a\u901a\u8fc7 export = foo \u5bfc\u51fa\u7684\u6a21\u5757\uff0c\u6807\u51c6\u7684\u8bed\u6cd5\u662f import foo = require('foo') \uff0c\u6216\u8005 import * as foo from 'foo' \u3002 \u4f46\u7531\u4e8e\u5386\u53f2\u539f\u56e0\uff0c\u6211\u4eec\u5df2\u7ecf\u4e60\u60ef\u4e86\u4f7f\u7528 import foo from 'foo' \u3002 \u8fd9\u4e2a\u9009\u9879\u5c31\u662f\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u5f53\u5b83\u8bbe\u7f6e\u4e3a true \u65f6\uff0c\u5141\u8bb8\u4f7f\u7528 import foo from 'foo' \u6765\u5bfc\u5165\u4e00\u4e2a\u901a\u8fc7 export = foo \u5bfc\u51fa\u7684\u6a21\u5757\u3002\u5f53\u5b83\u8bbe\u7f6e\u4e3a false \u65f6\uff0c\u5219\u4e0d\u5141\u8bb8\uff0c\u4f1a\u62a5\u9519\u3002 \u5f53\u7136\uff0c\u6211\u4eec\u4e00\u822c\u4e0d\u4f1a\u5728 ts \u6587\u4ef6\u4e2d\u4f7f\u7528 export = foo \u6765\u5bfc\u51fa\u6a21\u5757\uff0c\u800c\u662f\u5728 \u5199\uff08\u7b26\u5408 commonjs \u89c4\u8303\u7684\uff09\u7b2c\u4e09\u65b9\u5e93\u7684\u58f0\u660e\u6587\u4ef6 \u65f6\uff0c\u624d\u4f1a\u7528\u5230 export = foo \u6765\u5bfc\u51fa\u7c7b\u578b\u3002 \u6bd4\u5982 React \u7684\u58f0\u660e\u6587\u4ef6\u4e2d\uff0c\u5c31\u662f\u901a\u8fc7 export = React \u6765\u5bfc\u51fa\u7c7b\u578b\uff1a export = React ; export as namespace React ; declare namespace React { // \u58f0\u660e React \u7684\u7c7b\u578b } \u6b64\u65f6\u82e5\u6211\u4eec\u901a\u8fc7 import React from 'react' \u6765\u5bfc\u5165 react \u5219\u4f1a\u62a5\u9519 \uff1a import React from 'react' ; // Module '\"typescript-tutorial/examples/compiler-options/02-allowSyntheticDefaultImports/false/node_modules/@types/react/index\"' can only be default-imported using the 'esModuleInterop' flagts(1259) \u89e3\u51b3\u529e\u6cd5\u5c31\u662f\u5c06 allowSyntheticDefaultImports \u8bbe\u7f6e\u4e3a true \u3002","title":"allowSyntheticDefaultImports"},{"location":"typescript/%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82TS%E5%85%A5%E9%97%A8/","text":"TS\u5165\u95e8\u8bfe\u7a0b \u00b6 \u7f51\u5740 https://study.163.com/course/introduction.htm?courseId=1209306804&share=1&shareId=1135155721#/courseDetail?tab=1 \u76ee\u5f55 \u00b6 1-\u4e3a\u4ec0\u4e48\u4f7f\u7528ts\u548c\u6587\u4ef6\u8f6c\u636219:01 2-\u914d\u7f6e\u6587\u4ef6(\u81ea\u52a8\u8f6c\u6362ts\u6587\u4ef6)06:07 3-\u57fa\u672c\u6570\u636e\u7c7b\u578b\u548c\u62a5\u9519\u89e3\u679009:55 4-\u6570\u7ec4-\u5143\u7ec4\u548c\u679a\u4e3e\u7c7b\u578b09:40 5-\u51fd\u6570\u7c7b\u578b10:22 6-\u5bf9\u8c61\u7c7b\u578b\u548ctype07:39 7-never\u548cnull\u7c7b\u578b09:32 8-\u7c7b\u578b\u7ec3\u4e6004:31 9-\u7c7b(\u5c5e\u6027\u548c\u65b9\u6cd5)11:18 10-\u7c7b\u7684\u7ee7\u627f09:56 11-set\u548cget\u548cstatic06:03 12-\u521d\u8bc6\u547d\u540d\u7a7a\u95f4namespace04:18 13-\u547d\u540d\u7a7a\u95f4\u6587\u4ef6\u62c6\u520606:57 14-\u591a\u91cd\u547d\u540d\u7a7a\u95f4\u53ca\u5f15\u5165\u6587\u4ef607:23 15-\u6a21\u5757module\u7684\u4f7f\u752811:50 16-\u521d\u8bc6interface\u63a5\u53e3\u7684\u7528\u6cd511:31 17-\u63a5\u53e3\u7ee7\u627f\u53ca\u7c7b\u7684\u5b9e\u73b009:14 18-\u6cdb\u578bGeneric\u7684\u51fd\u6570\u5e94\u752813:09 19-\u6cdb\u578bGeneric\u7c7b\u7684\u5e94\u752804:45 1 \u4e3a\u4ec0\u4e48\u4f7f\u7528ts\u548c\u6587\u4ef6\u8f6c\u6362 \u00b6 TS \u662f JS \u7684\u8d85\u96c6\uff1aTS \u529f\u80fd\u66f4\u5f3a\u5927\u3002\u53ef\u4ee5\u901a\u8fc7\u63d2\u4ef6\u8f6c\u6362\u6210\u6d4f\u89c8\u5668\u8bc6\u522b\u7684\u683c\u5f0f\uff08js\uff09-\u5168\u5c40\u7684\u7f16\u8bd1\u5668 \u5f3a\u8c03\u4e86\u7c7b\u578b\uff08type\uff09\u5177\u4f53\u53c2\u8003\u5b98\u7f51\uff1b \u4ec0\u4e48\u662fTS\uff0c\u4e3a\u4ec0\u4e48\u4f7f\u7528TS\uff0cTS\u7f16\u8bd1\u73af\u5883\u5b89\u88c5 VScode\u63d2\u4ef6 live-server \u70ed\u52a0\u8f7d HTML \u63d2\u4ef6 2 \u914d\u7f6e\u6587\u4ef6(\u81ea\u52a8\u8f6c\u6362ts\u6587\u4ef6) \u00b6 \u591a\u4e2aTS\u8f6c\u6362\u6210JS\u6587\u4ef6\uff1a\u901a\u8fc7 tsc -init \u751f\u6210\u4e00\u4e2a tsconfig.json \u6587\u4ef6\uff0c\u5305\u62ec\u5404\u79cd\u914d\u7f6e\uff0c\u7136\u540e\u76f4\u63a5\u4f7f\u7528 tsc \u547d\u4ee4\uff0c\u5c31\u80fd\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\uff0c\u7136\u540e\u8fdb\u884c\u7f16\u8bd1\u3002 \u81ea\u52a8\u8f6c\u6362\u7684\u63d2\u4ef6\uff1aVScode\u6709\u4e00\u4e2a TS auto compiler \u63d2\u4ef6\uff0c\u53ef\u4ee5\u5728\u4fdd\u5b58TS\u6587\u4ef6\u65f6\u5b9e\u65f6\u5c06TS\u8f6c\u6362\u6210JS\u6587\u4ef6\u3002 3 \u57fa\u672c\u6570\u636e\u7c7b\u578b\u548c\u62a5\u9519\u89e3\u6790 \u00b6 number string boolean any(\u907f\u514d\u4f7f\u7528) 4 \u6570\u7ec4/\u5143\u7ec4/\u679a\u4e3e\u7c7b\u578b \u00b6 \u6570\u7ec4 var items: Array<string> = ['Mike']; \u4e0b\u9762\u662f\u7b80\u5199\u60c5\u51b5\uff0c\u8fd9\u662f\u5b8c\u5168\u7b49\u4ef7\u7684 var items: string[] = ['Mike'] \u58f0\u660e\u6570\u7ec4\u9700\u8981\u8bf4\u660e\u6570\u636e\u7c7b\u578b\uff08\u5426\u5219\u5c31\u548cJS\u4e00\u6837\uff0c\u6570\u636e\u7c7b\u578b\u968f\u673a\u4e86\uff09 \u5143\u7ec4\uff1a\u6570\u7ec4\u4e2d\u6bcf\u4e2a\u9879\u7684\u6570\u636e\u7c7b\u578b\u4e0d\u540c var items: [string, number, bool] = ['Mike', 120, true]; \u8fd9\u4e2a\u76f8\u5bf9\u4e8e any \u7c7b\u578b\u7684\u6570\u7ec4\uff0c\u6bcf\u4e00\u9879\u7684\u6570\u636e\u7c7b\u578b\u4e00\u4e00\u5bf9\u5e94\uff0c\u6240\u4ee5\u8fd9\u4e2a\u66f4\u4e25\u8c28\u3002 \u679a\u4e3e\uff1aenum\uff0c\u8fd9\u662f\u81ea\u5b9a\u4e49\u7684\u6570\u636e\u7c7b\u578b enum Color { Black , Yellow , Orange } let myColor : Color = Color . Yellow ; console . log ( myColor ); // 1 Yellow\u5bf9\u5e94\u7684\u4e0b\u6807\u662f1 // \u8fd9\u91cc\u6253\u5370\u7684\u4e0d\u662f Yellow \u8fd9\u4e2a\u5b57\u7b26\u4e32\uff0c\u800c\u662f\u6253\u5370\u7684\u4e0b\u6807 // \u5728\u679a\u4e3e\u4e2d\u53ef\u4ee5\u81ea\u5b9a\u4e49\u4e0b\u6807\uff0c\u90a3\u4e48\u4e0b\u4e00\u4e2a\u5143\u7d20\u7684\u4e0b\u6807\u4f1a\u9012\u589e enum Animal { Rabbit , // \u9ed8\u8ba4\u662f1 Deer = 100 , // \u8bbe\u7f6e100 Bear , // 101 Tiger = 20 // \u8fd9\u91cc\u8bbe\u7f6e\u4e3a20 } 5 \u51fd\u6570 \u00b6 \u51fd\u6570\u7684\u8fd4\u56de\u503c\u8bbe\u7f6e\u7c7b\u578b\uff08\u53ef\u80fd\u662fvoid\uff09\uff1b\u51fd\u6570\u7684\u53c2\u6570\u8bbe\u7f6e\u7c7b\u578b\uff1b \u51fd\u6570\u7c7b\u578b var myFunc: (a:number, b:string) => number function myFunc ( a : number | string , b : number | string ) : number { return Number ( a ) + Number ( b ); } 6 \u5bf9\u8c61\u7c7b\u578b\u548ctype \u00b6 \u58f0\u660e\u5bf9\u8c61\u65f6\uff0c\u5c31\u56fa\u5b9a\u4e86\u5bf9\u8c61\u7684\u952e\u7684\u6570\u636e\u7c7b\u578b\u3002\u58f0\u660e\u540e\uff0c\u4e0d\u80fd\u66f4\u6539\u5bf9\u8c61\u7684\u952e\u7684\u6570\u636e\u7c7b\u578b\u3002 let dataObj : { name : string , age : number } = { name : \"Mike\" , age : 30 , }; \u5bf9\u8c61\u7684\u5c5e\u6027\u53ef\u4ee5\u662f\u590d\u6742\u6570\u636e\u7c7b\u578b\uff08\u51fd\u6570\u3001\u5bf9\u8c61\u3001\u6570\u7ec4\u7b49\uff09\uff0c\u8fd9\u6837\u58f0\u660e\u5bf9\u8c61\u65f6\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u590d\u6742\u6570\u636e\u7c7b\u578b\u7684\u5177\u4f53\u53c2\u6570 let dateObj : { name : number [], sayHi : ( a : number , b : string ) => string []} = { name : [ 1 , 2 , 3 , 4 , 5 ], sayHi : function ( a : number , b : string ) : string [] { console . log ( this . name ); return [ 'a' , 'b' , 'c' ]; } }; let complex : { data : number [], myfunc : ( item : number ) => number []} = { data : [ 1 , 2 , 3 , 4 ], myfunc : function ( item : number ) : number [] { this . data . push ( item ); return this . data ; } } \u5982\u679c\u6570\u636e\u7c7b\u578b\u6bd4\u8f83\u590d\u6742\uff0c\u53ef\u4ee5\u81ea\u5df1\u5b9a\u4e49\u7c7b\u578b type MyType = { data : number [], myfunc : ( item : number ) => number []}; let complex2 : MyType = { data : [ 1 , 2 , 3 ], myfunc : function ( item : number ) : number [] { this . data . push ( number ); return data ; } } 7 never\u548cnull\u7c7b\u578b \u00b6 \u8054\u5408\u7c7b\u578b\u3001\u68c0\u67e5\u7c7b\u578b\u3001never\u3001undefined \u3001null \u8054\u5408\u7c7b\u578b\uff1a\u4f7f\u7528\u7ba1\u9053\u7b26\u8bbe\u7f6e\u4e00\u4e2a\u53d8\u91cf\u662f\u53ef\u63a7\u7684\u591a\u79cd\u6570\u636e\u7c7b\u578b\uff08\u800c\u4e0d\u662f\u4e0d\u53ef\u63a7\u7684any\uff09 \u68c0\u67e5\u7c7b\u578b\uff1a typeof data == 'number' null \u548c undefined \u5728\u975e\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u53ef\u4ee5\u8d4b\u503c\u7ed9\u5176\u4ed6\u53d8\u91cf\uff1b\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u4e0d\u80fd\u590d\u5236\u7ed9\u5176\u4ed6\u53d8\u91cf\u3002 null \u548c undefined \u4e25\u683c\u6a21\u5f0f\u4e0b\u9762\uff0c\u53ef\u4ee5\u4e92\u76f8\u8d4b\u503c\u3002 never \u662f\u4efb\u4f55\u7c7b\u578b\u7684\u5b50\u7c7b\u578b\u3002\u4efb\u4f55\u6570\u636e\u7c7b\u578b\u53ef\u4ee5\u8d4b\u503c\u7ed9 never\uff0c \u4f46\u662f never \u6570\u636e\u7c7b\u578b\u4e0d\u80fd\u6539\u6210\u5176\u4ed6\u6570\u636e\u7c7b\u578b \u901a\u5e38\u7528\u6237\u51fd\u6570\u629b\u51fa\u9519\u8bef\u7684\u60c5\u51b5 var myError = function ( msg : string ) : never { throw new Error ( msg ); } let y : number = 10 ; y = (() => { throw new Error ( msg ); })(); // IEFF \u51fd\u6570\u8fd4\u56de\u503c\u662f never \u7c7b\u578b 8 \u7c7b\u578b\u7ec3\u4e60 \u00b6 \u628a\u4e00\u6bb5JS\u4ee3\u7801\u8f6c\u6362\u6210TS\u4ee3\u7801\u3002\u8fd9\u4e2a\u5728\u7ec3\u4e60\u6587\u4ef6\u4e2d\u5904\u7406\u3002","title":"\u7f51\u6613\u4e91\u8bfe\u5802TS\u5165\u95e8.md"},{"location":"typescript/%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82TS%E5%85%A5%E9%97%A8/#ts","text":"\u7f51\u5740 https://study.163.com/course/introduction.htm?courseId=1209306804&share=1&shareId=1135155721#/courseDetail?tab=1","title":"TS\u5165\u95e8\u8bfe\u7a0b"},{"location":"typescript/%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82TS%E5%85%A5%E9%97%A8/#_1","text":"1-\u4e3a\u4ec0\u4e48\u4f7f\u7528ts\u548c\u6587\u4ef6\u8f6c\u636219:01 2-\u914d\u7f6e\u6587\u4ef6(\u81ea\u52a8\u8f6c\u6362ts\u6587\u4ef6)06:07 3-\u57fa\u672c\u6570\u636e\u7c7b\u578b\u548c\u62a5\u9519\u89e3\u679009:55 4-\u6570\u7ec4-\u5143\u7ec4\u548c\u679a\u4e3e\u7c7b\u578b09:40 5-\u51fd\u6570\u7c7b\u578b10:22 6-\u5bf9\u8c61\u7c7b\u578b\u548ctype07:39 7-never\u548cnull\u7c7b\u578b09:32 8-\u7c7b\u578b\u7ec3\u4e6004:31 9-\u7c7b(\u5c5e\u6027\u548c\u65b9\u6cd5)11:18 10-\u7c7b\u7684\u7ee7\u627f09:56 11-set\u548cget\u548cstatic06:03 12-\u521d\u8bc6\u547d\u540d\u7a7a\u95f4namespace04:18 13-\u547d\u540d\u7a7a\u95f4\u6587\u4ef6\u62c6\u520606:57 14-\u591a\u91cd\u547d\u540d\u7a7a\u95f4\u53ca\u5f15\u5165\u6587\u4ef607:23 15-\u6a21\u5757module\u7684\u4f7f\u752811:50 16-\u521d\u8bc6interface\u63a5\u53e3\u7684\u7528\u6cd511:31 17-\u63a5\u53e3\u7ee7\u627f\u53ca\u7c7b\u7684\u5b9e\u73b009:14 18-\u6cdb\u578bGeneric\u7684\u51fd\u6570\u5e94\u752813:09 19-\u6cdb\u578bGeneric\u7c7b\u7684\u5e94\u752804:45","title":"\u76ee\u5f55"},{"location":"typescript/%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82TS%E5%85%A5%E9%97%A8/#1-ts","text":"TS \u662f JS \u7684\u8d85\u96c6\uff1aTS \u529f\u80fd\u66f4\u5f3a\u5927\u3002\u53ef\u4ee5\u901a\u8fc7\u63d2\u4ef6\u8f6c\u6362\u6210\u6d4f\u89c8\u5668\u8bc6\u522b\u7684\u683c\u5f0f\uff08js\uff09-\u5168\u5c40\u7684\u7f16\u8bd1\u5668 \u5f3a\u8c03\u4e86\u7c7b\u578b\uff08type\uff09\u5177\u4f53\u53c2\u8003\u5b98\u7f51\uff1b \u4ec0\u4e48\u662fTS\uff0c\u4e3a\u4ec0\u4e48\u4f7f\u7528TS\uff0cTS\u7f16\u8bd1\u73af\u5883\u5b89\u88c5 VScode\u63d2\u4ef6 live-server \u70ed\u52a0\u8f7d HTML \u63d2\u4ef6","title":"1 \u4e3a\u4ec0\u4e48\u4f7f\u7528ts\u548c\u6587\u4ef6\u8f6c\u6362"},{"location":"typescript/%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82TS%E5%85%A5%E9%97%A8/#2-ts","text":"\u591a\u4e2aTS\u8f6c\u6362\u6210JS\u6587\u4ef6\uff1a\u901a\u8fc7 tsc -init \u751f\u6210\u4e00\u4e2a tsconfig.json \u6587\u4ef6\uff0c\u5305\u62ec\u5404\u79cd\u914d\u7f6e\uff0c\u7136\u540e\u76f4\u63a5\u4f7f\u7528 tsc \u547d\u4ee4\uff0c\u5c31\u80fd\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\uff0c\u7136\u540e\u8fdb\u884c\u7f16\u8bd1\u3002 \u81ea\u52a8\u8f6c\u6362\u7684\u63d2\u4ef6\uff1aVScode\u6709\u4e00\u4e2a TS auto compiler \u63d2\u4ef6\uff0c\u53ef\u4ee5\u5728\u4fdd\u5b58TS\u6587\u4ef6\u65f6\u5b9e\u65f6\u5c06TS\u8f6c\u6362\u6210JS\u6587\u4ef6\u3002","title":"2 \u914d\u7f6e\u6587\u4ef6(\u81ea\u52a8\u8f6c\u6362ts\u6587\u4ef6)"},{"location":"typescript/%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82TS%E5%85%A5%E9%97%A8/#3","text":"number string boolean any(\u907f\u514d\u4f7f\u7528)","title":"3 \u57fa\u672c\u6570\u636e\u7c7b\u578b\u548c\u62a5\u9519\u89e3\u6790"},{"location":"typescript/%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82TS%E5%85%A5%E9%97%A8/#4","text":"\u6570\u7ec4 var items: Array<string> = ['Mike']; \u4e0b\u9762\u662f\u7b80\u5199\u60c5\u51b5\uff0c\u8fd9\u662f\u5b8c\u5168\u7b49\u4ef7\u7684 var items: string[] = ['Mike'] \u58f0\u660e\u6570\u7ec4\u9700\u8981\u8bf4\u660e\u6570\u636e\u7c7b\u578b\uff08\u5426\u5219\u5c31\u548cJS\u4e00\u6837\uff0c\u6570\u636e\u7c7b\u578b\u968f\u673a\u4e86\uff09 \u5143\u7ec4\uff1a\u6570\u7ec4\u4e2d\u6bcf\u4e2a\u9879\u7684\u6570\u636e\u7c7b\u578b\u4e0d\u540c var items: [string, number, bool] = ['Mike', 120, true]; \u8fd9\u4e2a\u76f8\u5bf9\u4e8e any \u7c7b\u578b\u7684\u6570\u7ec4\uff0c\u6bcf\u4e00\u9879\u7684\u6570\u636e\u7c7b\u578b\u4e00\u4e00\u5bf9\u5e94\uff0c\u6240\u4ee5\u8fd9\u4e2a\u66f4\u4e25\u8c28\u3002 \u679a\u4e3e\uff1aenum\uff0c\u8fd9\u662f\u81ea\u5b9a\u4e49\u7684\u6570\u636e\u7c7b\u578b enum Color { Black , Yellow , Orange } let myColor : Color = Color . Yellow ; console . log ( myColor ); // 1 Yellow\u5bf9\u5e94\u7684\u4e0b\u6807\u662f1 // \u8fd9\u91cc\u6253\u5370\u7684\u4e0d\u662f Yellow \u8fd9\u4e2a\u5b57\u7b26\u4e32\uff0c\u800c\u662f\u6253\u5370\u7684\u4e0b\u6807 // \u5728\u679a\u4e3e\u4e2d\u53ef\u4ee5\u81ea\u5b9a\u4e49\u4e0b\u6807\uff0c\u90a3\u4e48\u4e0b\u4e00\u4e2a\u5143\u7d20\u7684\u4e0b\u6807\u4f1a\u9012\u589e enum Animal { Rabbit , // \u9ed8\u8ba4\u662f1 Deer = 100 , // \u8bbe\u7f6e100 Bear , // 101 Tiger = 20 // \u8fd9\u91cc\u8bbe\u7f6e\u4e3a20 }","title":"4 \u6570\u7ec4/\u5143\u7ec4/\u679a\u4e3e\u7c7b\u578b"},{"location":"typescript/%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82TS%E5%85%A5%E9%97%A8/#5","text":"\u51fd\u6570\u7684\u8fd4\u56de\u503c\u8bbe\u7f6e\u7c7b\u578b\uff08\u53ef\u80fd\u662fvoid\uff09\uff1b\u51fd\u6570\u7684\u53c2\u6570\u8bbe\u7f6e\u7c7b\u578b\uff1b \u51fd\u6570\u7c7b\u578b var myFunc: (a:number, b:string) => number function myFunc ( a : number | string , b : number | string ) : number { return Number ( a ) + Number ( b ); }","title":"5 \u51fd\u6570"},{"location":"typescript/%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82TS%E5%85%A5%E9%97%A8/#6-type","text":"\u58f0\u660e\u5bf9\u8c61\u65f6\uff0c\u5c31\u56fa\u5b9a\u4e86\u5bf9\u8c61\u7684\u952e\u7684\u6570\u636e\u7c7b\u578b\u3002\u58f0\u660e\u540e\uff0c\u4e0d\u80fd\u66f4\u6539\u5bf9\u8c61\u7684\u952e\u7684\u6570\u636e\u7c7b\u578b\u3002 let dataObj : { name : string , age : number } = { name : \"Mike\" , age : 30 , }; \u5bf9\u8c61\u7684\u5c5e\u6027\u53ef\u4ee5\u662f\u590d\u6742\u6570\u636e\u7c7b\u578b\uff08\u51fd\u6570\u3001\u5bf9\u8c61\u3001\u6570\u7ec4\u7b49\uff09\uff0c\u8fd9\u6837\u58f0\u660e\u5bf9\u8c61\u65f6\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u590d\u6742\u6570\u636e\u7c7b\u578b\u7684\u5177\u4f53\u53c2\u6570 let dateObj : { name : number [], sayHi : ( a : number , b : string ) => string []} = { name : [ 1 , 2 , 3 , 4 , 5 ], sayHi : function ( a : number , b : string ) : string [] { console . log ( this . name ); return [ 'a' , 'b' , 'c' ]; } }; let complex : { data : number [], myfunc : ( item : number ) => number []} = { data : [ 1 , 2 , 3 , 4 ], myfunc : function ( item : number ) : number [] { this . data . push ( item ); return this . data ; } } \u5982\u679c\u6570\u636e\u7c7b\u578b\u6bd4\u8f83\u590d\u6742\uff0c\u53ef\u4ee5\u81ea\u5df1\u5b9a\u4e49\u7c7b\u578b type MyType = { data : number [], myfunc : ( item : number ) => number []}; let complex2 : MyType = { data : [ 1 , 2 , 3 ], myfunc : function ( item : number ) : number [] { this . data . push ( number ); return data ; } }","title":"6 \u5bf9\u8c61\u7c7b\u578b\u548ctype"},{"location":"typescript/%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82TS%E5%85%A5%E9%97%A8/#7-nevernull","text":"\u8054\u5408\u7c7b\u578b\u3001\u68c0\u67e5\u7c7b\u578b\u3001never\u3001undefined \u3001null \u8054\u5408\u7c7b\u578b\uff1a\u4f7f\u7528\u7ba1\u9053\u7b26\u8bbe\u7f6e\u4e00\u4e2a\u53d8\u91cf\u662f\u53ef\u63a7\u7684\u591a\u79cd\u6570\u636e\u7c7b\u578b\uff08\u800c\u4e0d\u662f\u4e0d\u53ef\u63a7\u7684any\uff09 \u68c0\u67e5\u7c7b\u578b\uff1a typeof data == 'number' null \u548c undefined \u5728\u975e\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u53ef\u4ee5\u8d4b\u503c\u7ed9\u5176\u4ed6\u53d8\u91cf\uff1b\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u4e0d\u80fd\u590d\u5236\u7ed9\u5176\u4ed6\u53d8\u91cf\u3002 null \u548c undefined \u4e25\u683c\u6a21\u5f0f\u4e0b\u9762\uff0c\u53ef\u4ee5\u4e92\u76f8\u8d4b\u503c\u3002 never \u662f\u4efb\u4f55\u7c7b\u578b\u7684\u5b50\u7c7b\u578b\u3002\u4efb\u4f55\u6570\u636e\u7c7b\u578b\u53ef\u4ee5\u8d4b\u503c\u7ed9 never\uff0c \u4f46\u662f never \u6570\u636e\u7c7b\u578b\u4e0d\u80fd\u6539\u6210\u5176\u4ed6\u6570\u636e\u7c7b\u578b \u901a\u5e38\u7528\u6237\u51fd\u6570\u629b\u51fa\u9519\u8bef\u7684\u60c5\u51b5 var myError = function ( msg : string ) : never { throw new Error ( msg ); } let y : number = 10 ; y = (() => { throw new Error ( msg ); })(); // IEFF \u51fd\u6570\u8fd4\u56de\u503c\u662f never \u7c7b\u578b","title":"7 never\u548cnull\u7c7b\u578b"},{"location":"typescript/%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82TS%E5%85%A5%E9%97%A8/#8","text":"\u628a\u4e00\u6bb5JS\u4ee3\u7801\u8f6c\u6362\u6210TS\u4ee3\u7801\u3002\u8fd9\u4e2a\u5728\u7ec3\u4e60\u6587\u4ef6\u4e2d\u5904\u7406\u3002","title":"8 \u7c7b\u578b\u7ec3\u4e60"}]}