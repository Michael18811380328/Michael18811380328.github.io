{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\u5199\u5728\u524d\u9762","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 75  \u9605\u8bfb1\u5206\u949f</p> <p>\u8fd9\u91cc\u662f\u603b\u7ed3\u7684 <code>web\u5f00\u53d1</code> \u540e\u7aef\u5f00\u53d1\u76f8\u5173\u8d44\u6599\u3002</p>"},{"location":"backend-sql/01-redis/","title":"Redis \u6982\u51b5","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4731  \u9605\u8bfb10\u5206\u949f</p> <p>2021-08-31</p>"},{"location":"backend-sql/01-redis/#mysql","title":"mysql \u54ea\u4e9b\u60c5\u51b5\u4e0b\u4e0d\u9002\u7528\uff1f","text":"<p>1\u3001\u5f53\u5927\u91cf\u8bf7\u6c42\u65f6\uff08\u9ad8\u5e76\u53d1\uff0c\u5206\u5e03\u5f0f\u96c6\u7fa4\uff09\uff0cmysql \u53ef\u80fd\u6321\u4e0d\u4f4f\u5927\u91cf\u7684\u5e76\u53d1\u8bf7\u6c42\uff0c\u9020\u6210\u54cd\u5e94\u5ef6\u8fdf\u6216\u8005\u5b95\u673a</p> <p>2\u3001\u5f53\u8bf7\u6c42\u91cd\u590d\u6570\u636e\u65f6\uff08\u4e0d\u7ecf\u5e38\u53d8\u5316\u7684\u6570\u636e\uff09\uff0c\u9891\u7e41\u8bbf\u95ee mysql \u9020\u6210\u6027\u80fd\u6d6a\u8d39\u3002</p> <p>\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e0b\uff0cmysql \u65e0\u6cd5\u6ee1\u8db3\u9700\u6c42\uff0c\u6240\u4ee5\u6709\u4e86 redis</p>"},{"location":"backend-sql/01-redis/#redis_1","title":"redis \u4e3a\u4ec0\u4e48\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff1f","text":"<p>redis \u5bf9 mysql \u7684\u6570\u636e\u505a\u4e86\u4e00\u4e2a\u7f13\u5b58\u3002</p> <p>1\u3001\u5f53\u5927\u91cf\u8bf7\u6c42\u65f6\uff0c\u76f4\u63a5\u5728 Redis \u4e0a\u8fdb\u884c\u6570\u636e\u8bfb\u5199\uff0c\u6ca1\u6709\u5bf9 mysql \u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c\uff0c\u8fd9\u6837\u901f\u5ea6\u5927\u5927\u63d0\u5347\u3002\u5f53\u9ad8\u901f\u8bfb\u5199\u4efb\u52a1\u7ed3\u675f\u540e\uff0c\u518d\u4e00\u6b21\u6027\u5199\u5165\u6570\u636e\u5e93\u6301\u4e45\u5c42\uff08\u76ee\u524d\u662f 30 \u5206\u949f\uff09\uff0c\u7136\u540e\u518d\u540c\u6b65\u66f4\u65b0\u7f13\u5b58\uff0c\u8fd9\u6837\u4fdd\u8bc1\u4e86\u6548\u7387\u548c\u6570\u636e\u4e00\u81f4\u6027\u3002</p> <p>2\u3001\u5f53\u8bf7\u6c42\u6570\u636e\u91cd\u590d\u65f6\uff0c\u9996\u6b21\u52a0\u8f7d\u9700\u8981\u4ece mysql \u4e2d\u83b7\u53d6\uff0c\u518d\u6b21\u5927\u91cf\u8bf7\u6c42\u65f6\uff0c\u76f4\u63a5\u4ece Redis \u4e2d\u83b7\u53d6\u5373\u53ef\uff0c\u4e0d\u9700\u8981\u8bbf\u95ee mysql\uff0c\u8fd9\u6837\u53ef\u4ee5\u8282\u7701\u6027\u80fd\u3002</p>"},{"location":"backend-sql/01-redis/#redis_2","title":"redis \u7684\u57fa\u672c\u6982\u5ff5","text":"<p>Redis \u5f15\u5165 NoSQL \u6280\u672f\uff0c\u8fd9\u662f\u4e00\u79cd\u57fa\u4e8e\u5185\u5b58\u7684\u6570\u636e\u5e93\uff0c\u5e76\u4e14\u63d0\u4f9b\u4e00\u5b9a\u7684\u6301\u4e45\u5316\u529f\u80fd\u3002</p> <p>Redis \u548c MongoDB \u662f\u5f53\u524d\u4f7f\u7528\u6700\u5e7f\u6cdb\u7684 NoSQL\uff0c\u800c\u5c31 Redis \u6280\u672f\u800c\u8a00\uff0c\u5b83\u7684\u6027\u80fd\u5341\u5206\u4f18\u8d8a\uff0c\u53ef\u4ee5\u652f\u6301\u6bcf\u79d2\u5341\u51e0\u4e07\u6b64\u7684\u8bfb/\u5199\u64cd\u4f5c\uff0c\u5176\u6027\u80fd\u8fdc\u8d85\u6570\u636e\u5e93\uff0c\u5e76\u4e14\u8fd8\u652f\u6301\u96c6\u7fa4\u3001\u5206\u5e03\u5f0f\u3001\u4e3b\u4ece\u540c\u6b65\u7b49\u914d\u7f6e\uff0c\u539f\u5219\u4e0a\u53ef\u4ee5\u65e0\u9650\u6269\u5c55\uff0c\u8ba9\u66f4\u591a\u7684\u6570\u636e\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u66f4\u8ba9\u4eba\u6b23\u6170\u7684\u662f\u5b83\u8fd8\u652f\u6301\u4e00\u5b9a\u7684\u4e8b\u52a1\u80fd\u529b\uff0c\u8fd9\u4fdd\u8bc1\u4e86\u9ad8\u5e76\u53d1\u7684\u573a\u666f\u4e0b\u6570\u636e\u7684\u5b89\u5168\u548c\u4e00\u81f4\u6027\u3002</p> <ul> <li>\u5b58\u50a8 \u7f13\u5b58 \u7528\u7684\u6570\u636e\uff1b</li> <li>\u9700\u8981\u9ad8\u901f\u8bfb/\u5199\u7684\u573a\u5408\u4f7f\u7528\u5b83\u5feb\u901f\u8bfb/\u5199\uff1b</li> </ul>"},{"location":"backend-sql/01-redis/#redis_3","title":"Redis \u4e0b\u8f7d\u5b89\u88c5\u5230\u5bbf\u4e3b\u673a","text":"<p>\u4ece\u5b98\u7f51\u4e0b\u8f7d\u5b89\u88c5\u5305\uff08https://redis.io/download\uff09\uff0c\u6216\u8005\u4f7f\u7528 wget \u547d\u4ee4\u4e0b\u8f7d</p> <p>Download, extract and compile Redis with:</p> <pre><code>$ wget https://download.redis.io/releases/redis-6.2.5.tar.gz\n$ tar xzf redis-6.2.5.tar.gz\n$ cd redis-6.2.5\n$ make\n</code></pre> <p>The binaries that are now compiled are available in the <code>src</code> directory. Run Redis with:</p> <pre><code>$ src/redis-server\n</code></pre> <p>You can interact with Redis using the built-in client:</p> <pre><code>$ src/redis-cli\nredis&gt; set foo bar\nOK\nredis&gt; get foo\n\"bar\"\n</code></pre> <p>\u6ce8 1\uff1amac \u9700\u8981\u5728 usr/local \u76ee\u5f55\u4e0b\u8fdb\u884c\u89e3\u538b\u5b89\u88c5\uff0c\u9700\u8981 sudo \u547d\u4ee4</p> <p>\u6ce8 2\uff1a\u5982\u679c make \u6267\u884c\u62a5\u9519 xcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun\uff0c\u8bf4\u660e\u7f3a\u5c11 XCode \u8f6f\u4ef6\uff0c\u5728\u7ec8\u7aef\u6267\u884c xcode-select --install \u5e76\u5b89\u88c5\u3002\u53ef\u80fd\u5bbf\u4e3b\u673a\u4e2d\u53ef\u80fd\u6709 redis\uff0c\u5efa\u8bae\u5728 docker \u5185\u90e8\u5b89\u88c5 redis \u955c\u50cf\uff0c\u8fd9\u6837\u4e0d\u540c\u7248\u672c\u4e0d\u4f1a\u5e72\u6270\u3002</p>"},{"location":"backend-sql/01-redis/#redis-docker","title":"Redis \u4e0b\u8f7d\u5b89\u88c5\u5230 docker","text":"<p>\u53c2\u8003\u94fe\u63a5\uff1ahttps://www.runoob.com/docker/docker-install-redis.html</p> <p>1\u3001\u67e5\u770b\u955c\u50cf <code>docker search redis</code></p> <p>2\u3001\u62c9\u53d6\u955c\u50cf <code>docker pull redis:latest</code> \u9700\u8981 1 \u5206\u949f\u3002\u62c9\u53d6\u955c\u50cf\u540e\uff0c\u8fd0\u884c <code>docker images</code> \u67e5\u770b\u662f\u5426\u4e0b\u8f7d</p> <p>3\u3001\u521b\u5efa\u5bb9\u5668 <code>docker run -itd --name test-Michael-redis --port 6379:6379 redis</code> \u8fd9\u91cc\u81ea\u5b9a\u4e49\u4e86\u5bb9\u5668\u7684\u540d\u79f0\uff0c\u7aef\u53e3\u6620\u5c04\u5230 6379\uff0c\u8fd0\u884c <code>docker ps</code> \u68c0\u67e5\u5bb9\u5668\u662f\u5426\u521b\u5efa\u597d</p> <p>4\u3001\u8fdb\u5165\u5bb9\u5668 <code>docker exec -it test-Michael-redis bash</code></p> <p>5\u3001\u8fdb\u5165 redis\uff0c\u6267\u884c <code>redis-cli</code> \u8fdb\u5165\u5185\u90e8\uff0c\u4f7f\u7528 set get \u83b7\u53d6\u6570\u636e\uff08\u4e5f\u53ef\u4ee5\u901a\u8fc7\u53ef\u89c6\u5316\u7684 TablePlus \u8fdb\u884c\u64cd\u4f5c\uff0c\u6ce8\u610f\u7aef\u53e3\u53f7\uff0c\u5177\u4f53\u4f7f\u7528\u53c2\u8003\uff1ahttps://blog.csdn.net/weixin_41697143/article/details/119904196\uff09</p> <p>6\u3001\u4f7f\u7528 exit \u9000\u51fa\u5bb9\u5668\uff0c<code>docker stop docker-container-ID</code> \u5173\u95ed\u5f53\u524d\u5bb9\u5668</p>"},{"location":"backend-sql/01-redis/#nodejs-redis","title":"nodeJS \u548c Redis \u7684\u8fde\u63a5","text":"<p>\u5f88\u591a\u6559\u7a0b\u4e2d\u90fd\u662f Spring \u548c Redis \u7684\u8d44\u6599\uff0c\u6211\u8fd9\u91cc\u7b80\u5355\u5199\u4e00\u4e0b nodeJS \u548c redis \u7684\u8fde\u63a5\uff0c\u8be6\u60c5\u53c2\u8003 redis \u5b98\u65b9\u7f51\u7ad9</p> <p>\u672c\u5730\u9700\u8981\u5148\u542f\u52a8 redis\uff0c\u7136\u540e\u65b0\u5efa\u4e00\u4e2a test.js \u6587\u4ef6\uff0c\u5e76\u5b89\u88c5\u4f9d\u8d56 npm install redis</p> <pre><code>var redis = require(\"redis\"),\n  config = require(\"../config\"),\n  dbConfig = config.redis,\n  RDS_PORT = dbConfig.port, //\u7aef\u53e3\u53f7\n  RDS_HOST = dbConfig.host, //\u670d\u52a1\u5668IP\n  RDS_PWD = dbConfig.pass, //\u5bc6\u7801\n  RDS_OPTS = { auth_pass: RDS_PWD },\n  client = redis.createClient(RDS_PORT, RDS_HOST, RDS_OPTS);\n\n// \u4e8b\u4ef6\u89e6\u53d1\u56de\u8c03\u51fd\u6570\nclient.on(\"ready\", function (res) {\n  console.log(\"ready\");\n});\n\nclient.on(\"end\", function (err) {\n  console.log(\"end\");\n});\n\nclient.on(\"error\", function (err) {\n  console.log(err);\n});\n\nclient.on(\"connect\", function () {\n  console.log(\"redis connect success!\");\n});\n\n// \u66f4\u6539\u6570\u636e\u3001\u83b7\u53d6\u6570\u636e\uff08\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u56de\u8c03\u51fd\u6570\uff09\nclient.set(\"key\", \"value\", redis.print);\nclient.get(\"key\", redis.print);\n</code></pre>"},{"location":"backend-sql/01-redis/#_1","title":"\u8be6\u60c5\u53c2\u8003\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/redis</p> <p>https://www.cnblogs.com/shaozhu520/p/10859276.html</p> <p>https://zhuanlan.zhihu.com/p/37982685</p> <p>https://zhuanlan.zhihu.com/p/59168140</p> <p>https://www.cnblogs.com/rjzheng/p/9096228.html</p>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/","title":"MySQL \u6570\u636e\u5e93\u5165\u95e8\u5b66\u4e60","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9035  \u9605\u8bfb19\u5206\u949f</p> <p>2021-07-23</p> <p>\u963f\u91cc\u4e91\u5927\u5b66 \u94fe\u63a5\u5730\u5740\uff1ahttps://edu.aliyun.com/course/153/lesson/list</p> <p>mysql \u6570\u636e\u5e93\u7684\u7b80\u5355\u4ecb\u7ecd\uff0c\u5b89\u88c5\u914d\u7f6e MYSQL\uff0c\u57fa\u672c\u7684 SQL \u547d\u4ee4\u3002</p>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#01","title":"01 \u7b80\u4ecb","text":"<p>SQL\uff1a\u4e00\u79cd\u7f16\u7a0b\u8bed\u8a00\uff0cstrcutured query language \u7ed3\u6784\u5316\u7684\u67e5\u8be2\u8bed\u8a00\uff0c\u4e3b\u8981\u7528\u4e8e\u6570\u636e\u5e93\u4e2d\u7684\u589e\u5220\u6539\u67e5</p> <pre><code>select * from db\n</code></pre> <p>MySQL \u5173\u7cfb\u578b\u6570\u636e\u5e93\uff0c\u662f\u6570\u636e\u5e93\u7684\u4e00\u79cd\uff08\u5176\u4ed6\u7684 Oracle\uff09\u3002MYSQL \u662f\u5f00\u6e90\u6570\u636e\u5e93\u3002</p>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#02","title":"02 \u5b89\u88c5","text":"<p>\u5b98\u7f51\uff1adev.mysql.com/downloads/mysql</p>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#windows","title":"windows \u5b89\u88c5","text":"<p>\u5728\u5b98\u7f51\u4e0b\u8f7d\u5b89\u88c5\u5305\u540e\uff0c\u9009\u62e9\u9ed8\u8ba4\u7684 developer \u5b89\u88c5\u65b9\u5f0f\u8fdb\u884c\u5b89\u88c5\uff1b</p> <p>\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u5982\u679c\u68c0\u6d4b\u5230 office \u4e2d\u7f3a\u5c11\u63d2\u4ef6\uff0c\u53ef\u4ee5\u4e0d\u7528\u5904\u7406\uff0c\u56e0\u4e3a\u4e3b\u8981\u5728 CLI \u6a21\u5f0f\u4e0b\u4f7f\u7528 MYSQL</p> <p>\u5b89\u88c5\u4e2d\u9700\u8981\u8bbe\u7f6e root \u7528\u6237\u7684\u5bc6\u7801\uff0c\u5176\u4ed6\u7c7b\u578b\u7684\u7528\u6237\uff08\u4e0d\u6dfb\u52a0\u5176\u4ed6\u7528\u6237\uff09</p> <p>\u6309\u7167\u5b89\u88c5\u5305\u7684\u6d41\u7a0b\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u5728\u4efb\u52a1\u7ba1\u7406\u5668\u4e0b\u9762\u770b\u5230\u670d\u52a1\u6b63\u5728\u8fd0\u884c\uff0c\u9700\u8981\u5728 cmd \u4e0b\u9762\u786e\u8ba4\u5b89\u88c5.</p> <pre><code>mysql -u root -p\n# -u \u8868\u793a\u7528\u6237 -p \u8868\u793a\u9700\u8981\u5bc6\u7801\n</code></pre>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#linux","title":"linux \u5b89\u88c5","text":"<pre><code>sudo yum install mysql mysql-server\nsudo apt-get install mysql mysql-server (ubuntu)\nmysqladmin -u root -p password 'root'\n# \u8bbe\u7f6e\u65b0\u5bc6\u7801\u662froot\n</code></pre>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#mac","title":"Mac \u5b89\u88c5","text":"<p>\u5b89\u88c5\u5305\u7684\u683c\u5f0f\u662f dmg \u5b89\u88c5\u5b8c\u6bd5\u540e\u9700\u8981\u8bbe\u7f6e root \u5bc6\u7801</p> <pre><code>/usr/local/mysql/bin/mysqladmin -u root -p password root\n# \u5b89\u88c5\u6d4b\u8bd5\u6210\u529f\uff0c\u5bc6\u7801\u548c\u5f00\u673a\u5bc6\u7801\u4e00\u81f4\n\n/usr/local/mysql/bin/mysql -u root -p\n# \u6253\u5f00mysql\u7684\u5bc6\u7801\u662f root\n</code></pre> <p>\u5f00\u542f\u6216\u8005\u5173\u95ed\u670d\u52a1\u6709\u4e24\u79cd\u65b9\u6cd5</p> <p>CLI</p> <pre><code>sudo /Library/StartupItems/MySQLCOM/MYSQLCOM start | stop | restart\n</code></pre> <p>GUI</p> <p>\u7cfb\u7edf\u914d\u7f6e - MYSQL - stop |start</p> <p>\u6ce8\u610f\uff1a\u5b89\u88c5\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u9009\u62e9\u5f3a\u5bc6\u7801\u6216\u8005\u662f\u5f31\u5bc6\u7801\u3002\u73b0\u5728\u672c\u5730\u6d4b\u8bd5\u4f7f\u7528\u5f31\u5bc6\u7801\u3002\u5bc6\u7801\u6700\u5c11\u662f 8 \u4f4d\uff0c\u8fd9\u91cc\u8bbe\u7f6e 12345678 \u4f5c\u4e3a root \u7684\u5bc6\u7801\u3002 \u73b0\u5728\u5bc6\u7801\u662f root</p> <p>\u6ce8\u610f 2\uff1a</p> <p>\u5982\u679c mysql \u5df2\u7ecf\u8fd0\u884c\uff0c\u4f46\u662f\u8f93\u5165 mysql \u663e\u793a\u547d\u4ee4\u4e0d\u5b58\u5728\uff1a\u9047\u4e0a-bash: mysql: command not found \u7684\u60c5\u51b5\u522b\u7740\u6025</p> <p>\u8fd9\u4e2a\u662f\u56e0\u4e3a/usr/local/bin \u76ee\u5f55\u4e0b\u7f3a\u5931 mysql \u5bfc\u81f4\uff0c\u53ea\u9700\u8981\u4e00\u4e0b\u65b9\u6cd5\u5efa\u7acb\u8f6f\u94fe\u63a5\uff0c\u5373\u53ef\u4ee5\u89e3\u51b3\uff1a \u628a mysql \u5b89\u88c5\u76ee\u5f55\uff0c\u6bd4\u5982 MYSQLPATH/bin/mysql\uff0c\u6620\u5c04\u5230/usr/local/bin \u76ee\u5f55\u4e0b\uff1a</p> <pre><code>cd /usr/local/bin\nln -fs /MYSQLPATH/bin/mysql mysql\n</code></pre> <p>\u8fd8\u6709\u5176\u5b83\u5e38\u7528\u547d\u4ee4 mysqladmin\u3001mysqldump \u7b49\u4e0d\u53ef\u7528\u65f6\u5019\u90fd\u53ef\u6309\u7528\u6b64\u65b9\u6cd5\u89e3\u51b3\u3002 \u6ce8\uff1a\u5176\u4e2d MYSQLPATH \u662f mysql \u7684\u5b9e\u9645\u5b89\u88c5\u8def\u5f84\uff08MAC \u9ed8\u8ba4\u8def\u5f84 /usr/local/mysql/bin/mysql\uff09</p> <p>\u539f\u6587\u94fe\u63a5\uff1ahttps://www.cnblogs.com/yang1314/p/9288767.html</p>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#03","title":"03 \u914d\u7f6e","text":"<p>MYSQL \u7684\u914d\u7f6e\u6587\u4ef6\u662f\u4e00\u4e2a\u6587\u672c\u6587\u4ef6 my.cof</p> <p>Mac \u7684\u6587\u4ef6\u8def\u5f84\u662f /usr/local/mysql/my.cof \u9ed8\u8ba4\u7684\u914d\u7f6e\u6587\u4ef6\u662f\u7a7a\u7684</p> <p>\u53ef\u4ee5\u914d\u7f6e\u5b57\u7b26\u96c6\uff0c\u7f13\u5b58\u5927\u5c0f\u7b49</p> <pre><code>[client]\ndefault-character-set=utf8\n# \u6dfb\u52a0\u5b57\u7b26\u96c6\uff0c\u907f\u514d\u4e71\u7801\n\n[mysqld]\ncharacter-set-server=utf8\ndefault-storage-engine=INNODB\n# \u9ed8\u8ba4\u5b58\u50a8\u5f15\u64ce INNODB\n</code></pre> <p>\u4fee\u6539\u914d\u7f6e\u540e\uff0c\u9700\u8981\u91cd\u542f mysql (\u6216\u8005\u5728\u8bbe\u7f6e\u4e2d\u91cd\u542f)</p> <pre><code>sudo /Library/StartupItems/MySQLCOM/MYSQLCOM restart\n</code></pre> <p>\u81ea\u5df1\u914d\u7f6e\u7684\u95ee\u9898\uff1a\u4f7f\u7528 vim \u7f16\u8f91\u5668\u4fdd\u5b58\u7684\u65f6\u5019\uff0c\u4e0d\u80fd\u4fdd\u5b58\u914d\u7f6e\uff1b\u4f7f\u7528 sudo \u4e5f\u4e0d\u884c</p> <p>\"/usr/local/mysql-8.0.18-macos10.14-x86_64/my.cof\" E212: Can't open file for writing</p> <p>Warning: Changing a readonly file</p> <p>12345678</p>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#04","title":"04 \u6570\u636e\u5e93\u64cd\u4f5c","text":"<pre><code>show databases;\ncreate database gc;\ndrop database gc;\n</code></pre> <p>\u4e0d\u540c\u6570\u636e\u5e93\u7684\u6570\u636e\u662f\u4e0d\u4f1a\u5e72\u6270\u7684\u3002\u6570\u636e\u5e93\u662f\u6570\u636e\u5e93\u8f6f\u4ef6\u4e2d\u57fa\u672c\u7684\u5355\u4f4d</p>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#05","title":"05 \u6570\u636e\u7c7b\u578b","text":"<p>database \u5305\u62ec tables \u8868\u4e2d\u6bcf\u4e00\u884c\u5c31\u662f\u4e00\u6761\u6570\u636e\uff1b\u5217\u5c31\u662f\u4e0d\u540c\u7684\u5b57\u6bb5\uff0c\u4e0d\u540c\u7684\u5b57\u6bb5\u5bf9\u5e94\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\u548c\u6570\u636e\u7ed3\u6784\uff08\u4f8b\u5982 ID \u662f\u81ea\u589e\u957f\u7684\u6574\u5f62\uff0cName \u662f\u957f\u5b57\u7b26\u4e32\uff09\uff0c\u662f\u5426\u6709\u9ed8\u8ba4\u503c\u7b49\u3002\u4e0b\u9762\u662f\u5e38\u89c1\u7684\u6570\u636e\u7c7b\u578b\u3002\u6839\u636e\u5b9e\u9645\u4e1a\u52a1\u903b\u8f91\u4f7f\u7528\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\u3002</p>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#_1","title":"\u6587\u672c\u7c7b","text":"<ul> <li>VARCHAR(size) \u957f\u5ea6\u5c0f\u4e8e 255 \u7684\u53ef\u53d8\u957f\u5ea6\u5b57\u7b26\u4e32\uff1avarchar \u957f\u5ea6\u5c0f\u4e8e 65535 \u5b57\u7b26\uff08\u901a\u5e38\u6587\u672c\u8db3\u591f\u4f7f\u7528\uff09\uff0c\u957f\u5ea6\u53ef\u4ee5\u6539\u53d8\uff08mqsql 5.0.3 \u4e4b\u524d\u8868\u793a 65535 \u5b57\u8282\uff09\uff0c\u67e5\u8be2\u901f\u5ea6\u4e2d\u7b49</li> <li>TEXT \u957f\u5ea6\u4e2d\u7b49\u7684\u5b57\u7b26\u4e32\uff0ctext \u5b57\u7b26\u4e32\u957f\u5ea6\u4e0d\u53d7\u9650\u5236\uff0c\u67e5\u8be2\u901f\u5ea6\u6700\u6162\uff0c\u901a\u5e38\u4f18\u5148\u4f7f\u7528 varchar</li> <li>LONGTEXT \u957f\u5ea6\u5f88\u957f\u7684\u5b57\u7b26\u4e32</li> <li>CHAR\uff1achar \u8868\u793a\u4f20\u7edf\u7684\u5b57\u7b26\u4e32\uff0c\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u5c0f\u4e8e 255 \u5b57\u7b26\uff0c\u957f\u5ea6\u56fa\u5b9a\uff0c\u9002\u7528\u4e8e\u8f83\u77ed\u56fa\u5b9a\u957f\u5ea6\u7684\u6570\u636e\uff08\u8eab\u4efd\u8bc1\u53f7\u548c\u7535\u8bdd\u53f7\uff09\uff0c\u67e5\u8be2\u8868\u901f\u5ea6\u6700\u5feb</li> <li>Foreign key \u5916\u952e</li> <li>primary key \u4e3b\u952e</li> </ul> <p>\u5728 mysql \u4e2d\uff0c\u5982\u679c\u628a\u8868\u7684\u4e3b\u952e\u8bbe\u4e3a auto_increment \u7c7b\u578b\uff0c\u6570\u636e\u5e93\u5c31\u4f1a\u81ea\u52a8\u4e3a\u4e3b\u952e\u8d4b\u503c\u3002</p>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#_2","title":"\u65e5\u671f\u7c7b","text":"<ul> <li>DATETIME \u5e74\u6708\u65e5\u65f6\u5206\u79d2</li> </ul>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#_3","title":"\u6570\u503c\u7c7b","text":"<ul> <li>TINYINT -128~127 \u6216\u8005\u5b58\u50a8\u5e03\u5c14\u503c</li> <li>INT \u5c0f\u6570\u5b57</li> <li>BIGINT \u5927\u6570\u5b57\uff08ID\uff0c\u81ea\u589e\u957f\uff09</li> <li>DOUBLE \u6d6e\u70b9\u578b\uff08\u4e0d\u4f7f\u7528 FLOAT\uff09</li> </ul>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#06","title":"06 \u6570\u636e\u5e93\u8868\u64cd\u4f5c","text":"<p>\u521b\u5efa\u8868\uff0c\u5220\u9664\u8868\uff0c\u63cf\u8ff0\u8868\u7ed3\u6784</p> <pre><code>CREATE TABLE account(\n  id bigint(20),\n  createTime datetime,\n  ip varchar(255),\n  mobile varchar(255),\n  name varchar(255),\n  brief text,\n  comments text,\n  location varchar(255),\n  qq varchar(255),\n  gender int(11),\n  city varchar(255),\n  province varchar(255)\n);\n\ndrop table account;\n\ndescribe account;\n# \u67e5\u770b\u5f53\u524d\u7684\u8868\u7684\u5185\u90e8\u7ed3\u6784\n\ncreate database Michael;\nuse Michael;\nshow tables;\nCREATE TABLE gc(key text);\ndescribe gc;\ndrop table gc;\n</code></pre> <p>\u8868\u91cd\u547d\u540d</p> <pre><code>alter table \u8868\u540d rename \u65b0\u8868\u540d\n</code></pre>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#07","title":"07 \u5217\u64cd\u4f5c","text":"<p>\u589e\u52a0\u5220\u9664\u8868\u7684\u5217</p> <pre><code>alter table \u8868\u540d add \u65b0\u5217\u540d \u5217\u6570\u636e\u7c7b\u578b not null default 1;\n# \u540e\u9762\u7684 not null default 1 \u662f\u53ef\u9009\u53c2\u6570\nalter table \u8868\u540d drop \u5df2\u6709\u5217\u540d;\n</code></pre> <p>\u4fee\u6539\u5217\u540d\u6216\u8005\u6570\u636e\u7c7b\u578b: \u53ef\u4ee5\u5355\u72ec\u4fee\u6539\u5217\u540d\u540e\u8005\u6570\u636e\u7c7b\u578b\uff0c\u53ef\u4ee5\u4e00\u8d77\u4fee\u6539\u5217\u540d\u548c\u6570\u636e\u7c7b\u578b</p> <pre><code>alter table \u8868\u540d change \u65e7\u5217\u540d \u65b0\u5217\u540d \u65b0\u7684\u6570\u636e\u7c7b\u578b\n</code></pre>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#08","title":"08 \u8868\u6570\u636e\u64cd\u4f5c","text":""},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#insert","title":"insert \u63d2\u5165","text":"<p>\u589e\u52a0\uff08\u63d2\u5165\uff09\u8868\u6570\u636e</p> <pre><code>insert into \u8868\u540d values(key1, key2, key3...)\ninsert into tableName (column1, column2) values(key1, key2)\n</code></pre>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#select","title":"select \u67e5\u8be2","text":"<p>\u67e5\u8be2\u8868\u6570\u636e</p> <pre><code>select * from \u8868\u540d\nselect \u5217\u540d1, \u5217\u540d2 from \u8868\u540d\n</code></pre>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#distinct","title":"distinct \u53bb\u91cd","text":"<p>\u5982\u679c\u7b5b\u9009\u8fc7\u7a0b\u4e2d\u6709\u91cd\u590d\u7684\u6570\u636e\uff0c\u90a3\u4e48\u53ef\u4ee5\u52a0\u4e0a\u5173\u952e\u5b57 distinct \u53bb\u9664\u91cd\u590d\u7684\u884c\u3002\u4e0b\u9762\u7684\u67e5\u8be2\u7ed3\u679c\u4e2d\uff0c\u5982\u679c name \u548c age \u76f8\u540c\u7684\u6570\u636e\u6709\u591a\u884c\uff0c\u90a3\u4e48\u7ed3\u679c\u4e2d\u53ea\u663e\u793a\u4e00\u884c</p> <pre><code>select distinct name,age from gc;\n</code></pre>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#order-by","title":"order by \u6392\u5e8f","text":"<p>\u5347\u5e8f\u6216\u8005\u964d\u5e8f</p> <pre><code># \u67e5\u8be2\u7ed3\u679c\u6392\u5e8f(\u5347\u5e8f\u6216\u8005\u964d\u5e8f) order by columnName desc/asc\nselect * from gc order by id asc;\n# \u5c06\u67e5\u8be2\u7684\u7ed3\u679c\u6309\u7167ID\u5347\u5e8f\u7684\u60c5\u51b5\u8fdb\u884c\u6392\u5e8f\nselect * from gc order by age asc, name desc;\n</code></pre>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#limit","title":"limit \u9650\u5236","text":"<p>\u4f7f\u7528 limit \u622a\u53d6\u67e5\u8be2\u7ed3\u679c\uff08\u7c7b\u4f3c\u4e8e splice \u51fd\u6570\uff09limit \u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5f00\u59cb\u7684\u4f4d\u7f6e\uff08\u9ed8\u8ba4\u662f 0\uff0c\u53ef\u4ee5\u4e0d\u9009\uff09\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u622a\u53d6\u7684\u6570\u91cf\u3002</p> <pre><code>select * from gc [where name is not null] [order by id asc] limit 5;\nselect * from gc [where name is not null] [order by id asc] limit 3, 5;\n# \u4e2d\u62ec\u53f7\u5185\u90e8\u662f\u53ef\u9009\u53c2\u6570\uff08order\u5fc5\u987b\u5728where\u540e\u9762\uff09\n# \u7b2c\u4e00\u53e5\uff1a\u5728\u83b7\u53d6\u7684\u7ed3\u679c\u4e2d\uff0c\u622a\u53d6\u524d\u4e94\u6761\u8bb0\u5f55\uff08index = 0 \u5230 index = 4\uff09\n# \u7b2c\u4e8c\u53e5\uff1alimit \u4eceindex=3 \u5f00\u59cb\u622a\u53d6\uff0c\u622a\u53d65\u6761\u8bb0\u5f55\n</code></pre>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#insert-select","title":"\u7ec4\u5408\u4f7f\u7528 insert select","text":"<p>\u53ef\u4ee5\u5728\u4e00\u4e2a\u8868\u4e2d\u67e5\u8be2\u6570\u636e\uff0cselect * from table\uff0c \u7136\u540e\u628a\u67e5\u8be2\u7684\u7ed3\u679c\u63d2\u5165\u5230\u53e6\u4e00\u4e2a\u8868\u4e2d\uff08\u6570\u636e\u8fc1\u79fb\u4f1a\u7528\u5230\uff09</p> <pre><code>insert into account values(10);\ninsert into account select name, age from oldAccount;\n</code></pre>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#update","title":"update \u66f4\u65b0","text":"<p>update tableName set columnName = newValue where XXX</p> <p>\u5982\u679c\u4f7f\u7528 where \u6dfb\u52a0\uff0c\u90a3\u4e48\u4fee\u6539\u6ee1\u8db3\u6761\u4ef6\u7684\u90e8\u5206\uff1b\u5426\u5219\u4fee\u6539\u6574\u5217\u7684\u6570\u636e\uff1b</p> <pre><code>update account set name = 'Tom', email = '123@qq.com' where id = 1;\n</code></pre>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#where","title":"where","text":""},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#_4","title":"\u57fa\u672c\u7528\u6cd5","text":"<p>\u4f7f\u7528 where \u5bf9\u641c\u7d22\u7ed3\u679c\u7b5b\u9009</p> <pre><code>select * from tableName where title = 't';\n# \u67e5\u8be2\u6761\u4ef6\u53ef\u4ee5\u662f\u5927\u4e8e\uff0c\u5c0f\u4e8e\uff0c\u7b49\u4e8e\uff0c\u4e0d\u7b49\u4e8e\uff0c\u6216\u8005between\u8303\u56f4\n# \u53ef\u4ee5\u901a\u8fc7 and or \u8fdb\u884c\u591a\u5143\u9009\u62e9\uff0c\u62ec\u53f7\u589e\u52a0\u4f18\u5148\u7ea7\n</code></pre> <p>\u6ce8\u610f\uff1a\u5224\u65ad\u76f8\u7b49\u662f = \u4e0d\u662f\u4e24\u4e2a\u7b49\u53f7</p> <pre><code>select * from gc where name = 'Michael' and (id = 20 or id = 22);\n</code></pre> <p>\u5224\u65ad null \u662f\u7279\u6b8a\u7684\uff0c\u9700\u8981\u901a\u8fc7 is is not \u5224\u65ad\uff0c\u4e0d\u80fd\u901a\u8fc7 = != \u5224\u65ad</p> <pre><code>select * from gc where email is null and name is not null;\n</code></pre>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#in","title":"in \u8303\u56f4\uff08\u79bb\u6563\uff09","text":"<pre><code>select * from account where id in (value1, value2...);\nselect * from account where id in (select id from oldAccount where id  &lt; 10);\n</code></pre> <p>\u4ece\u4e00\u4e2a\u96c6\u5408\u4e2d\u9009\u62e9\u53e6\u4e00\u4e2a\u96c6\u5408\uff08\u9009\u62e9\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u8303\u56f4\uff0c\u662f\u6570\u503c\u8303\u56f4\u7684\u6269\u5927\uff09</p>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#between","title":"between \u8303\u56f4\uff08\u8fde\u7eed\uff09","text":"<pre><code>select * from account where id between 5 and 10;\n\n# \u8fd9\u91cc\u7684\u9009\u62e9\u662f[5, 10]\nselect * from account where id not between 5 and 10;\n</code></pre>"},{"location":"backend-sql/02-%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/#like","title":"Like \u5b57\u7b26\u4e32\u7684\u6a21\u7cca\u5339\u914d","text":"<p>like \u5b57\u7b26\u4e32\u7684\u6a21\u7cca\u5339\u914d</p> <pre><code>select * from account where name like '%ab%';\n</code></pre> <p>ilike \u4e0d\u533a\u5206\u5927\u5c0f\u5199\u8fdb\u884c\u6a21\u7cca\u5339\u914d</p> <pre><code>select * from account where name ilike '%mike%';\n</code></pre> <p>\u6216\u8005\u4f7f\u7528 lower \u51fd\u6570\u5904\u7406\u641c\u7d22\u503c\uff0c\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u5927\u5c0f\u5199\u4e0d\u654f\u611f</p> <pre><code>select * from account where name like lower('%mike%');\n</code></pre> <p>\u8fd9\u91cc\u7684 %% \u8868\u793a\u641c\u7d22\u7ed3\u679c\u4e2d\u5305\u542b\u8fd9\u4e2a\u503c</p>"},{"location":"backend-sql/03-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E5%BF%B5/","title":"\u6570\u636e\u5e93\u6982\u5ff5\u5165\u95e8","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4544  \u9605\u8bfb10\u5206\u949f</p> <p>2021-07-23</p> <p>\u7f51\u6613\u4e91\u8bfe\u5802\u51fa\u54c1</p>"},{"location":"backend-sql/03-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E5%BF%B5/#_2","title":"\u6570\u636e\u5e93","text":"<p>\u4ece\u73b0\u5b9e\u95ee\u9898\u4e2d\u62bd\u8c61\u603b\u7ed3\u51fa\u7684\u6570\u636e\u5e93\u3002</p> <p>1\u3001\u73b0\u5b9e\u95ee\u9898\u4e2d\u7684\u6570\u636e\u5173\u7cfb</p> <p>2\u3001\u73b0\u5b9e\u95ee\u9898\u4e2d\u7684\u6570\u636e\u5173\u7cfb\u8f6c\u5316\u6210\u6570\u636e\u5e93\uff08\u91cd\u70b9\uff09</p> <p>3\u3001\u6570\u636e\u5e93\uff1a\u6309\u7167\u6570\u636e\u7ed3\u6784\u6765\u7ec4\u7ec7\uff0c\u5b58\u50a8\u548c\u7ba1\u7406\u6570\u636e\u7684\u4ed3\u5e93\uff1b\u5b58\u50a8\u5728\u672c\u5730\u6216\u8005\u7f51\u7edc\u7684\u7ed3\u6784\u5316\u7684\u8868\u683c\u3002</p> <p>4\u3001\u6570\u636e\u5e93\u8f6c\u5316\uff08\u589e\u5220\u6539\u67e5\uff09\u589e\u52a0 create\u3001\u5220\u9664 delete\u3001\u6539\u53d8 update\u3001\u67e5\u627e retrieve search</p> <p>5\u3001\u6570\u636e\u5e93\u6570\u636e\u89e3\u51b3\u73b0\u5b9e\u95ee\u9898</p> <p>\u7ed3\u6784\u5316\u6570\u636e\u5e93\u5206\u4e3a\u4e09\u90e8\u5206\uff08\u7c7b\u4f3c\u4e8e excel \u8868\u683c\uff09\uff1a\u8868\u540d\u3001\u5b57\u6bb5\uff08\u8868\u5934\uff09\u3001\u7d22\u5f15\uff08\u53d8\u91cf\uff09\uff1b\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e00\u4e2a\u5355\u72ec\u7684\u6570\u636e\u8868\u662f\u4e00\u4e2a\u4e8c\u7ef4\u8868\u683c\u3002</p> <p>\u73b0\u5b9e\u95ee\u9898\u5bf9\u5e94\u5173\u7cfb\u5206\u4e3a\u4e09\u79cd\u60c5\u51b5\uff1a</p> <p>1\u3001\u4e00\u5bf9\u4e00\uff1a\u67d0\u7528\u6237\u5bf9\u5e94\u67d0\u4e00\u4e2a\u8d2d\u7269\u8f66\uff1b</p> <p>2\u3001\u4e00\u5bf9\u591a\uff1a\uff08\u67d0\u5546\u54c1\u5177\u6709\u591a\u79cd\u5c5e\u6027\uff1a\u4ef7\u683c\u3001\u5e93\u5b58\uff09\u4e00\u4e2a\u5de5\u5382\u5177\u6709\u591a\u4e2a\u5458\u5de5\uff1b</p> <p>3\u3001\u591a\u5bf9\u591a\uff1a\u4e0d\u540c\u5e97\u94fa\u5177\u6709\u4e0d\u540c\u7684\u5546\u54c1\uff1b</p> <p>\u5de5\u5382\u8868</p> \u7f16\u53f7-\u4e3b\u952e \u5de5\u5382\u540d 1 \u767e\u5ea6 2 \u65b0\u6d6a <p>\u804c\u5de5\u8868</p> \u59d3\u540d \u5f15\u7528-\u5916\u952e \u674e\u654f 1 \u5f20\u534e 1 <p>\u804c\u5de5\u8868</p> \u4e3b\u952e \u59d3\u540d 1 \u5f20\u4e09 2 \u674e\u56db 3 \u738b\u4e94 <p>\u4ea7\u54c1\u8868</p> \u4e3b\u952e \u578b\u53f7 1 \u534e\u4e3a 6 2 \u534e\u4e3a 8 <p>\u751f\u4ea7\u8bb0\u5f55\u8868</p> \u4e3b\u952e\uff08\u751f\u4ea7\u8bb0\u5f55\u8868\uff09 \u5916\u952e 1\uff08=&gt;\u804c\u5de5\u8868\uff09 \u5916\u952e 3\uff08=&gt;\u4ea7\u54c1\u8868\uff09 \u751f\u4ea7\u65e5\u671f 1 1 1 1.1 2 2 1 1.2 3 3 2 1.3 <p>\u5f20\u4e09\u548c\u674e\u56db\u751f\u4ea7\u4e86\u534e\u4e3a 6\uff1b\u738b\u4e94\u751f\u4ea7\u4e86\u534e\u4e3a 8\uff1b\u751f\u4ea7\u65e5\u671f\u662f\u8fd9\u4e2a\u8868\u7684\u5c5e\u6027\uff1b</p> <p>\u4ece\u5b9e\u9645\u590d\u6742\u95ee\u9898=&gt;\u5b9e\u9645\u7b80\u5355\u95ee\u9898=&gt;\u6d41\u7a0b\u56fe=&gt;\u6570\u636e\u5e93\uff08\u5b57\u6bb5\uff09</p> <p>\u4e0a\u9762\u7684\u6570\u636e\u5e93\u5c31\u662f\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff08\u4e09\u79cd\u5bf9\u5e94\u7c7b\u578b\uff09</p> <p>\u8bbe\u8ba1\u539f\u578b-\u6570\u636e\u5e93\u5efa\u6a21-\u7f16\u5199\u540e\u53f0\u7a0b\u5e8f</p> <p>\u5728\u6570\u636e\u5e93\u4e2d\uff0c\u4e0d\u540c\u7684\u5bf9\u8c61\u5b58\u5728\u5173\u7cfb\uff1a\u4e00\u5bf9\u4e00\u548c\u4e00\u5bf9\u591a\u7684\u60c5\u51b5\uff0c\u76f4\u63a5\u4f7f\u7528\u4e00\u4e2a\u8868\u53ef\u4ee5\u8868\u793a\uff08\u4e00\u5bf9\u591a\u589e\u52a0\u4e3b\u952e\uff09\uff1b\u591a\u5bf9\u591a\u7684\u60c5\u51b5\uff0c\u9700\u8981\u901a\u8fc7\u4e2d\u95f4\u5173\u7cfb\u8868\u8fdb\u884c\u94fe\u63a5\uff1a\u4e00\u4e2a\u4e3b\u952e\u5bf9\u5e94\u4e0d\u540c\u7684\u5916\u952e\uff1b\u9ed8\u8ba4\u4e24\u4e2a\u5b58\u5728\u591a\u5bf9\u591a\u7684\u5c5e\u6027\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e2d\u95f4\u53d8\u91cf\uff0c\u8f6c\u5316\u6210\u82e5\u5e72\u4e2a\u4e00\u5bf9\u4e00\u7684\u5bf9\u5e94\u5173\u7cfb\uff1b</p> <p>\u6570\u636e\u5e93\u7684\u67e5\u8be2\u65b9\u6cd5\uff1a\u8f6c\u5316\u6210\u6570\u636e\u5e93\u7684\u6392\u5e8f\uff1b\u5bf9\u4e8e\u67d0\u4e2a\u6570\u636e\u7c7b\u578b\uff0c\u53ef\u4ee5\u8fdb\u884c\u6392\u5e8f\uff1b\u6392\u5e8f\u8fc7\u7a0b\u4e2d\u5c31\u662f\u53ef\u4ee5\u8fdb\u884c\u67e5\u8be2\uff1b\u6392\u5e8f\u7684\u591a\u79cd\u65b9\u6cd5\uff1b</p>"},{"location":"backend-sql/03-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E5%BF%B5/#_3","title":"\u6848\u4f8b","text":"<p>\u4e00\u4e2a\u7b80\u5355\u8d2d\u7269\u7f51\u7ad9\u7684\u6570\u636e\u5e93\u8bbe\u8ba1</p> <p>1\u3001\u754c\u9762\u8bbe\u8ba1\uff1a</p> <p>\u4e70\u5bb6\u754c\u9762\uff1a\u7528\u6237\u6ce8\u518c\uff08\u5f39\u7a97\uff09\u3001\u7528\u6237\u767b\u5f55\uff08\u5f39\u7a97\uff09\u3001\u5546\u54c1\u5c55\u793a\u754c\u9762\uff08\u4e3b\u9875\uff09\u3001\u8d2d\u7269\u8f66\u754c\u9762\uff08\u4e3b\u9875\uff09\u3001\u8d2d\u4e70\u754c\u9762\uff08\u6b21\u7ea7\u4e3b\u9875\uff09\u3001\u8ba2\u5355\u754c\u9762\uff08\u6b21\u7ea7\u4e3b\u9875\uff09\u3001\u652f\u4ed8\u754c\u9762\uff08\u7b2c\u4e09\u65b9\u8df3\u8f6c\uff09\u3002</p> <p>\u5356\u5bb6\u754c\u9762\uff1a\u5356\u5bb6\u6ce8\u518c\u3001\u5356\u5bb6\u767b\u5f55\u3001\u5546\u54c1\u4e0a\u67b6\u754c\u9762\u3001\u5546\u54c1\u5e93\u5b58\u72b6\u6001\u3001\u5546\u5e97\u5e03\u7f6e\u3001\u7edf\u8ba1\u754c\u9762\u3002</p> <p>2\u3001\u6570\u636e\u5206\u6790</p> <p>\u4e70\u5bb6\u7aef\uff1a\u4e70\u5bb6\uff08\u59d3\u540d\u7535\u8bdd\uff09\u5546\u54c1\uff08\u4ef7\u683c\u540d\u79f0\uff09\u8d2d\u7269\u8f66\u3001\u8ba2\u5355\u7b49\u8868</p> <p>\u5356\u5bb6\u7aef\uff1a\u5356\u5bb6\u4fe1\u606f\u3001\u5546\u54c1\u4e0a\u67b6\u4fe1\u606f\uff1b</p> <p>\u6700\u590d\u6742\u7684\u8868\uff08\u8d2d\u7269\u8f66\u8868\u548c\u5546\u54c1\u8868\u7684\u5173\u7cfb\uff09</p> <p>1.\u4e70\u5bb6\u8868</p> \u4e3b\u952e \u59d3\u540d \u5bc6\u7801 \u5730\u5740 \u7535\u8bdd 1 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 <p>2.\u5356\u5bb6\u8868</p> \u4e3b\u952e \u59d3\u540d \u5bc6\u7801 \u5730\u5740 \u7535\u8bdd 1 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 <p>3.\u5546\u54c1\u8868</p> \u4e3b\u952e \u5546\u54c1\u540d\u79f0 \u4ef7\u683c \u5e93\u5b58 \u5356\u5bb6\u4e3b\u952e\uff082\uff09 1 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 <p>4.\u8ba2\u5355\u8868</p> \u4e3b\u952e \u5546\u54c1\u4e3b\u952e\uff083\uff09 \u5355\u4ef7 \u6570\u91cf \u4e70\u5bb6\u4e3b\u952e\uff081\uff09 1 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 <p>5.\u8d2d\u7269\u8f66\u8868</p> \u4e3b\u952e \u4e70\u5bb6\u4e3b\u952e\uff081\uff09 \u5546\u54c1\u4e3b\u952e\uff083\uff09 \u6570\u91cf \u603b\u4ef7 1 \u3002\u3002\u3002 \u3002\u3002\u3002 \u3002\u3002\u3002 <p>\u603b\u7ed3\uff1a\u6570\u636e\u53ef\u662f\u5b58\u50a8\u7ed3\u6784\u5316\u8868\u683c\u6570\u636e\u7684\u4ed3\u5e93\uff0c\u7531\u7f16\u7a0b\u8bed\u8a00\u8fdb\u884c CURD \u64cd\u4f5c\uff0c\u4ece\u800c\u5b9e\u73b0\u8bb0\u5f55\u7684\u76ee\u7684\uff0c\u5b8c\u6210\u6570\u636e\u63d0\u53d6\u548c\u5206\u6790\u7684\u4efb\u52a1\u3002</p> <p>\u5b9e\u9645\u4e0a\u67e5\u8be2\u5546\u54c1\u7b49\u64cd\u4f5c\uff0c\u9700\u8981\u8003\u8651\u6027\u80fd\u95ee\u9898\u3002</p> <p>\u4e0d\u540c\u7684\u8868\u53ef\u80fd\u90e8\u7f72\u5728\u4e0d\u540c\u7684\u673a\u5668\u4e0a\uff0c\u662f\u5426\u9700\u8981\u534f\u540c\u7b49\uff0c\u4e5f\u9700\u8981\u8003\u8651\u3002</p>"},{"location":"backend-sql/04-%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95SSO/","title":"\u5355\u70b9\u767b\u5f55\uff08SSO\uff09\u7b80\u4ecb","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9045  \u9605\u8bfb19\u5206\u949f</p> <p>2021-11-03</p> <p>\u539f\u59cb\u94fe\u63a5\uff1ahttps://www.jianshu.com/p/75edcc05acfd</p> <p>Michael \u7b14\u8bb0\uff1a</p> <p>1\u3001\u4e00\u4e2a\u7cfb\u7edf\u767b\u5f55\u6d41\u7a0b\uff1a\u7528\u6237\u8fdb\u5165\u7cfb\u7edf\u2014\u2014\u672a\u767b\u5f55\u2014\u2014\u8df3\u8f6c\u767b\u5f55\u754c\u9762\u2014\u2014\u7528\u6237\u540d\u548c\u5bc6\u7801\u53d1\u9001\u2014\u2014\u670d\u52a1\u5668\u7aef\u9a8c\u8bc1\u540e\uff0c\u8bbe\u7f6e\u4e00\u4e2a cookie \u53d1\u9001\u5230\u6d4f\u89c8\u5668\uff0c\u8bbe\u7f6e\u4e00\u4e2a session \u5b58\u653e\u5728\u670d\u52a1\u5668\u2014\u2014\u7528\u6237\u518d\u6b21\u8bf7\u6c42\uff08\u5e26\u4e0a cookie\uff09\u2014\u2014\u670d\u52a1\u5668\u9a8c\u8bc1 cookie \u548c session \u5339\u914d\u540e\uff0c\u5c31\u53ef\u4ee5\u8fdb\u884c\u4e1a\u52a1\u4e86\u3002</p> <p>2\u3001\u591a\u4e2a\u7cfb\u7edf\u767b\u5f55\uff1a\u5982\u679c\u4e00\u4e2a\u5927\u516c\u53f8\u6709\u5f88\u591a\u7cfb\u7edf\uff0ca.baidu.com, b.baidu.com,c.baidu.com\u3002\u8fd9\u4e9b\u7cfb\u7edf\u90fd\u9700\u8981\u767b\u5f55\uff0c\u5982\u679c\u7528\u6237\u5728\u4e0d\u540c\u7cfb\u7edf\u95f4\u767b\u5f55\u9700\u8981\u591a\u6b21\u8f93\u5165\u5bc6\u7801\uff0c\u7528\u6237\u4f53\u9a8c\u5f88\u4e0d\u597d\u3002\u6240\u4ee5\u4f7f\u7528 SSO (single sign on) \u5355\u70b9\u767b\u5f55\u5b9e\u73b0\u3002</p> <p>3\u3001\u76f8\u540c\u57df\u540d\uff0c\u4e0d\u540c\u5b50\u57df\u540d\u4e0b\u7684\u5355\u70b9\u767b\u5f55\uff1a\u5728\u6d4f\u89c8\u5668\u7aef\uff0c\u6839\u636e\u540c\u6e90\u7b56\u7565\uff0c\u4e0d\u540c\u5b50\u57df\u540d\u7684 cookie \u4e0d\u80fd\u5171\u4eab\u3002\u6240\u4ee5\u8bbe\u7f6e SSO \u7684\u57df\u540d\u4e3a\u6839\u57df\u540d\u3002SSO \u767b\u5f55\u9a8c\u8bc1\u540e\uff0c\u5b50\u57df\u540d\u53ef\u4ee5\u8bbf\u95ee\u6839\u57df\u540d\u7684 cookie\uff0c\u5373\u53ef\u5b8c\u6210\u6821\u9a8c\u3002\u5728\u670d\u52a1\u5668\u7aef\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u591a\u4e2a\u5b50\u57df\u540d session \u5171\u4eab\uff08Spring-session\uff09</p> <p>4\u3001\u4e0d\u540c\u57df\u540d\u4e0b\u7684\u5355\u70b9\u767b\u5f55\uff1aCAS \u6d41\u7a0b\uff1a\u7528\u6237\u767b\u5f55\u5b50\u7cfb\u7edf\u65f6\u672a\u767b\u5f55\uff0c\u8df3\u8f6c\u5230 SSO \u767b\u5f55\u754c\u9762\uff0c\u6210\u529f\u767b\u5f55\u540e\uff0cSSO \u751f\u6210\u4e00\u4e2a ST \uff08service ticket \uff09\u3002\u7528\u6237\u767b\u5f55\u4e0d\u540c\u7684\u57df\u540d\u65f6\uff0c\u90fd\u4f1a\u8df3\u8f6c\u5230 SSO\uff0c\u7136\u540e SSO \u5e26\u7740 ST \u8fd4\u56de\u5230\u4e0d\u540c\u7684\u5b50\u57df\u540d\uff0c\u5b50\u57df\u540d\u4e2d\u53d1\u51fa\u8bf7\u6c42\u9a8c\u8bc1 ST \u7684\u6b63\u786e\u6027\uff08\u9632\u6b62\u7be1\u6539\u8bf7\u6c42\uff09\u3002\u9a8c\u8bc1\u901a\u8fc7\u540e\u5373\u53ef\u5b8c\u6210\u4e0d\u540c\u7684\u4e1a\u52a1\u3002</p>"},{"location":"backend-sql/04-%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95SSO/#_1","title":"\u80cc\u666f","text":"<p>\u5728\u4f01\u4e1a\u53d1\u5c55\u521d\u671f\uff0c\u4f01\u4e1a\u4f7f\u7528\u7684\u7cfb\u7edf\u5f88\u5c11\uff0c\u901a\u5e38\u4e00\u4e2a\u6216\u8005\u4e24\u4e2a\uff0c\u6bcf\u4e2a\u7cfb\u7edf\u90fd\u6709\u81ea\u5df1\u7684\u767b\u5f55\u6a21\u5757\uff0c\u8fd0\u8425\u4eba\u5458\u6bcf\u5929\u7528\u81ea\u5df1\u7684\u8d26\u53f7\u767b\u5f55\uff0c\u5f88\u65b9\u4fbf\u3002</p> <p>\u4f46\u968f\u7740\u4f01\u4e1a\u7684\u53d1\u5c55\uff0c\u7528\u5230\u7684\u7cfb\u7edf\u968f\u4e4b\u589e\u591a\uff0c\u8fd0\u8425\u4eba\u5458\u5728\u64cd\u4f5c\u4e0d\u540c\u7684\u7cfb\u7edf\u65f6\uff0c\u9700\u8981\u591a\u6b21\u767b\u5f55\uff0c\u800c\u4e14\u6bcf\u4e2a\u7cfb\u7edf\u7684\u8d26\u53f7\u90fd\u4e0d\u4e00\u6837\uff0c\u8fd9\u5bf9\u4e8e\u8fd0\u8425\u4eba\u5458</p> <p>\u6765\u8bf4\uff0c\u5f88\u4e0d\u65b9\u4fbf\u3002\u4e8e\u662f\uff0c\u5c31\u60f3\u5230\u662f\u4e0d\u662f\u53ef\u4ee5\u5728\u4e00\u4e2a\u7cfb\u7edf\u767b\u5f55\uff0c\u5176\u4ed6\u7cfb\u7edf\u5c31\u4e0d\u7528\u767b\u5f55\u4e86\u5462\uff1f\u8fd9\u5c31\u662f\u5355\u70b9\u767b\u5f55\u8981\u89e3\u51b3\u7684\u95ee\u9898\u3002</p> <p>\u5355\u70b9\u767b\u5f55\u82f1\u6587\u5168\u79f0 Single Sign On\uff0c\u7b80\u79f0\u5c31\u662f SSO\u3002\u5b83\u7684\u89e3\u91ca\u662f\uff1a\u5728\u591a\u4e2a\u5e94\u7528\u7cfb\u7edf\u4e2d\uff0c\u53ea\u9700\u8981\u767b\u5f55\u4e00\u6b21\uff0c\u5c31\u53ef\u4ee5\u8bbf\u95ee\u5176\u4ed6\u76f8\u4e92\u4fe1\u4efb\u7684\u5e94\u7528\u7cfb\u7edf\u3002</p> <p></p> <p>image</p> <p>\u5982\u56fe\u6240\u793a\uff0c\u56fe\u4e2d\u6709 4 \u4e2a\u7cfb\u7edf\uff0c\u5206\u522b\u662f Application1\u3001Application2\u3001Application3\u3001\u548c SSO\u3002Application1\u3001Application2\u3001Application3 \u6ca1\u6709\u767b\u5f55\u6a21\u5757\uff0c\u800c SSO \u53ea\u6709\u767b\u5f55\u6a21\u5757\uff0c\u6ca1\u6709\u5176\u4ed6\u7684\u4e1a\u52a1\u6a21\u5757\uff0c\u5f53 Application1\u3001Application2\u3001Application3 \u9700\u8981\u767b\u5f55\u65f6\uff0c\u5c06\u8df3\u5230 SSO \u7cfb\u7edf\uff0cSSO \u7cfb\u7edf\u5b8c\u6210\u767b\u5f55\uff0c\u5176\u4ed6\u7684\u5e94\u7528\u7cfb\u7edf\u4e5f\u5c31\u968f\u4e4b\u767b\u5f55\u4e86\u3002\u8fd9\u5b8c\u5168\u7b26\u5408\u6211\u4eec\u5bf9\u5355\u70b9\u767b\u5f55\uff08SSO\uff09\u7684\u5b9a\u4e49\u3002</p>"},{"location":"backend-sql/04-%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95SSO/#_2","title":"\u6280\u672f\u5b9e\u73b0","text":"<p>\u5728\u8bf4\u5355\u70b9\u767b\u5f55\uff08SSO\uff09\u7684\u6280\u672f\u5b9e\u73b0\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u8bf4\u4e00\u8bf4\u666e\u901a\u7684\u767b\u5f55\u8ba4\u8bc1\u673a\u5236\u3002</p> <p></p> <p>image</p> <p>\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u6211\u4eec\u5728\u6d4f\u89c8\u5668\uff08Browser\uff09\u4e2d\u8bbf\u95ee\u4e00\u4e2a\u5e94\u7528\uff0c\u8fd9\u4e2a\u5e94\u7528\u9700\u8981\u767b\u5f55\uff0c\u6211\u4eec\u586b\u5199\u5b8c\u7528\u6237\u540d\u548c\u5bc6\u7801\u540e\uff0c\u5b8c\u6210\u767b\u5f55\u8ba4\u8bc1\u3002\u8fd9\u65f6\uff0c\u6211\u4eec\u5728\u8fd9\u4e2a\u7528\u6237\u7684 session \u4e2d\u6807\u8bb0\u767b\u5f55\u72b6\u6001\u4e3a yes\uff08\u5df2\u767b\u5f55\uff09\uff0c\u540c\u65f6\u5728\u6d4f\u89c8\u5668\uff08Browser\uff09\u4e2d\u5199\u5165 Cookie\uff0c\u8fd9\u4e2a Cookie \u662f\u8fd9\u4e2a\u7528\u6237\u7684\u552f\u4e00\u6807\u8bc6\u3002\u4e0b\u6b21\u6211\u4eec\u518d\u8bbf\u95ee\u8fd9\u4e2a\u5e94\u7528\u7684\u65f6\u5019\uff0c\u8bf7\u6c42\u4e2d\u4f1a\u5e26\u4e0a\u8fd9\u4e2a Cookie\uff0c\u670d\u52a1\u7aef\u4f1a\u6839\u636e\u8fd9\u4e2a Cookie \u627e\u5230\u5bf9\u5e94\u7684 session\uff0c\u901a\u8fc7 session \u6765\u5224\u65ad\u8fd9\u4e2a\u7528\u6237\u662f\u5426\u767b\u5f55\u3002\u5982\u679c\u4e0d\u505a\u7279\u6b8a\u914d\u7f6e\uff0c\u8fd9\u4e2a Cookie \u7684\u540d\u5b57\u53eb\u505a jsessionid\uff0c\u503c\u5728\u670d\u52a1\u7aef\uff08server\uff09\u662f\u552f\u4e00\u7684\u3002</p>"},{"location":"backend-sql/04-%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95SSO/#_3","title":"\u540c\u57df\u4e0b\u7684\u5355\u70b9\u767b\u5f55","text":"<p>\u4e00\u4e2a\u4f01\u4e1a\u4e00\u822c\u60c5\u51b5\u4e0b\u53ea\u6709\u4e00\u4e2a\u57df\u540d\uff0c\u901a\u8fc7\u4e8c\u7ea7\u57df\u540d\u533a\u5206\u4e0d\u540c\u7684\u7cfb\u7edf\u3002\u6bd4\u5982\u6211\u4eec\u6709\u4e2a\u57df\u540d\u53eb\u505a\uff1aa.com\uff0c\u540c\u65f6\u6709\u4e24\u4e2a\u4e1a\u52a1\u7cfb\u7edf\u5206\u522b\u4e3a\uff1aapp1.a.com \u548c app2.a.com\u3002\u6211\u4eec\u8981\u505a\u5355\u70b9\u767b\u5f55\uff08SSO\uff09\uff0c\u9700\u8981\u4e00\u4e2a\u767b\u5f55\u7cfb\u7edf\uff0c\u53eb\u505a\uff1asso.a.com\u3002</p> <p>\u6211\u4eec\u53ea\u8981\u5728 sso.a.com \u767b\u5f55\uff0capp1.a.com \u548c app2.a.com \u5c31\u4e5f\u767b\u5f55\u4e86\u3002\u901a\u8fc7\u4e0a\u9762\u7684\u767b\u9646\u8ba4\u8bc1\u673a\u5236\uff0c\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\uff0c\u5728 sso.a.com \u4e2d\u767b\u5f55\u4e86\uff0c\u5176\u5b9e\u662f\u5728 sso.a.com \u7684\u670d\u52a1\u7aef\u7684 session \u4e2d\u8bb0\u5f55\u4e86\u767b\u5f55\u72b6\u6001\uff0c\u540c\u65f6\u5728\u6d4f\u89c8\u5668\u7aef\uff08Browser\uff09\u7684 sso.a.com \u4e0b\u5199\u5165\u4e86 Cookie\u3002\u90a3\u4e48\u6211\u4eec\u600e\u4e48\u624d\u80fd\u8ba9 app1.a.com \u548c app2.a.com \u767b\u5f55\u5462\uff1f\u8fd9\u91cc\u6709\u4e24\u4e2a\u95ee\u9898\uff1a</p> <ul> <li>Cookie \u662f\u4e0d\u80fd\u8de8\u57df\u7684\uff0c\u6211\u4eec Cookie \u7684 domain \u5c5e\u6027\u662f sso.a.com\uff0c\u5728\u7ed9 app1.a.com \u548c app2.a.com \u53d1\u9001\u8bf7\u6c42\u662f\u5e26\u4e0d\u4e0a\u7684\u3002</li> <li>sso\u3001app1 \u548c app2 \u662f\u4e0d\u540c\u7684\u5e94\u7528\uff0c\u5b83\u4eec\u7684 session \u5b58\u5728\u81ea\u5df1\u7684\u5e94\u7528\u5185\uff0c\u662f\u4e0d\u5171\u4eab\u7684\u3002</li> </ul> <p></p> <p>image</p> <p>\u90a3\u4e48\u6211\u4eec\u5982\u4f55\u89e3\u51b3\u8fd9\u4e24\u4e2a\u95ee\u9898\u5462\uff1f\u9488\u5bf9\u7b2c\u4e00\u4e2a\u95ee\u9898\uff0csso \u767b\u5f55\u4ee5\u540e\uff0c\u53ef\u4ee5\u5c06 Cookie \u7684\u57df\u8bbe\u7f6e\u4e3a\u9876\u57df\uff0c\u5373.a.com\uff0c\u8fd9\u6837\u6240\u6709\u5b50\u57df\u7684\u7cfb\u7edf\u90fd\u53ef\u4ee5\u8bbf\u95ee\u5230\u9876\u57df\u7684 Cookie\u3002\u6211\u4eec\u5728\u8bbe\u7f6e Cookie \u65f6\uff0c\u53ea\u80fd\u8bbe\u7f6e\u9876\u57df\u548c\u81ea\u5df1\u7684\u57df\uff0c\u4e0d\u80fd\u8bbe\u7f6e\u5176\u4ed6\u7684\u57df\u3002\u6bd4\u5982\uff1a\u6211\u4eec\u4e0d\u80fd\u5728\u81ea\u5df1\u7684\u7cfb\u7edf\u4e2d\u7ed9 baidu.com \u7684\u57df\u8bbe\u7f6e Cookie\u3002</p> <p>Cookie \u7684\u95ee\u9898\u89e3\u51b3\u4e86\uff0c\u6211\u4eec\u518d\u6765\u770b\u770b session \u7684\u95ee\u9898\u3002\u6211\u4eec\u5728 sso \u7cfb\u7edf\u767b\u5f55\u4e86\uff0c\u8fd9\u65f6\u518d\u8bbf\u95ee app1\uff0cCookie \u4e5f\u5e26\u5230\u4e86 app1 \u7684\u670d\u52a1\u7aef\uff08Server\uff09\uff0capp1 \u7684\u670d\u52a1\u7aef\u600e\u4e48\u627e\u5230\u8fd9\u4e2a Cookie \u5bf9\u5e94\u7684 Session \u5462\uff1f\u8fd9\u91cc\u5c31\u8981\u628a 3 \u4e2a\u7cfb\u7edf\u7684 Session \u5171\u4eab\uff0c\u5982\u56fe\u6240\u793a\u3002\u5171\u4eab Session \u7684\u89e3\u51b3\u65b9\u6848\u6709\u5f88\u591a\uff0c\u4f8b\u5982\uff1aSpring-Session\u3002\u8fd9\u6837\u7b2c 2 \u4e2a\u95ee\u9898\u4e5f\u89e3\u51b3\u4e86\u3002</p> <p>\u540c\u57df\u4e0b\u7684\u5355\u70b9\u767b\u5f55\u5c31\u5b9e\u73b0\u4e86\uff0c\u4f46\u8fd9\u8fd8\u4e0d\u662f\u771f\u6b63\u7684\u5355\u70b9\u767b\u5f55\u3002</p>"},{"location":"backend-sql/04-%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95SSO/#_4","title":"\u4e0d\u540c\u57df\u4e0b\u7684\u5355\u70b9\u767b\u5f55","text":"<p>\u540c\u57df\u4e0b\u7684\u5355\u70b9\u767b\u5f55\u662f\u5de7\u7528\u4e86 Cookie \u9876\u57df\u7684\u7279\u6027\u3002\u5982\u679c\u662f\u4e0d\u540c\u57df\u5462\uff1f\u4e0d\u540c\u57df\u4e4b\u95f4 Cookie \u662f\u4e0d\u5171\u4eab\u7684\uff0c\u600e\u4e48\u529e\uff1f</p> <p>\u8fd9\u91cc\u6211\u4eec\u5c31\u8981\u8bf4\u4e00\u8bf4 CAS \u6d41\u7a0b\u4e86\uff0c\u8fd9\u4e2a\u6d41\u7a0b\u662f\u5355\u70b9\u767b\u5f55\u7684\u6807\u51c6\u6d41\u7a0b\u3002</p> <p></p> <p>cas_flow_diagram</p> <p>\u4e0a\u56fe\u662f CAS \u5b98\u7f51\u4e0a\u7684\u6807\u51c6\u6d41\u7a0b\uff0c\u5177\u4f53\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <ol> <li>\u7528\u6237\u8bbf\u95ee app \u7cfb\u7edf\uff0capp \u7cfb\u7edf\u662f\u9700\u8981\u767b\u5f55\u7684\uff0c\u4f46\u7528\u6237\u73b0\u5728\u6ca1\u6709\u767b\u5f55\u3002</li> <li>\u8df3\u8f6c\u5230 CAS server\uff0c\u5373 SSO \u767b\u5f55\u7cfb\u7edf\uff0c\u4ee5\u540e\u56fe\u4e2d\u7684 CAS Server \u6211\u4eec\u7edf\u4e00\u53eb\u505a SSO \u7cfb\u7edf\u3002 SSO \u7cfb\u7edf\u4e5f\u6ca1\u6709\u767b\u5f55\uff0c\u5f39\u51fa\u7528\u6237\u767b\u5f55\u9875\u3002</li> <li>\u7528\u6237\u586b\u5199\u7528\u6237\u540d\u3001\u5bc6\u7801\uff0cSSO \u7cfb\u7edf\u8fdb\u884c\u8ba4\u8bc1\u540e\uff0c\u5c06\u767b\u5f55\u72b6\u6001\u5199\u5165 SSO \u7684 session\uff0c\u6d4f\u89c8\u5668\uff08Browser\uff09\u4e2d\u5199\u5165 SSO \u57df\u4e0b\u7684 Cookie\u3002</li> <li>SSO \u7cfb\u7edf\u767b\u5f55\u5b8c\u6210\u540e\u4f1a\u751f\u6210\u4e00\u4e2a ST\uff08Service Ticket\uff09\uff0c\u7136\u540e\u8df3\u8f6c\u5230 app \u7cfb\u7edf\uff0c\u540c\u65f6\u5c06 ST \u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 app \u7cfb\u7edf\u3002</li> <li>app \u7cfb\u7edf\u62ff\u5230 ST \u540e\uff0c\u4ece\u540e\u53f0\u5411 SSO \u53d1\u9001\u8bf7\u6c42\uff0c\u9a8c\u8bc1 ST \u662f\u5426\u6709\u6548\u3002</li> <li>\u9a8c\u8bc1\u901a\u8fc7\u540e\uff0capp \u7cfb\u7edf\u5c06\u767b\u5f55\u72b6\u6001\u5199\u5165 session \u5e76\u8bbe\u7f6e app \u57df\u4e0b\u7684 Cookie\u3002</li> </ol> <p>\u81f3\u6b64\uff0c\u8de8\u57df\u5355\u70b9\u767b\u5f55\u5c31\u5b8c\u6210\u4e86\u3002\u4ee5\u540e\u6211\u4eec\u518d\u8bbf\u95ee app \u7cfb\u7edf\u65f6\uff0capp \u5c31\u662f\u767b\u5f55\u7684\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u518d\u770b\u770b\u8bbf\u95ee app2 \u7cfb\u7edf\u65f6\u7684\u6d41\u7a0b\u3002</p> <ol> <li>\u7528\u6237\u8bbf\u95ee app2 \u7cfb\u7edf\uff0capp2 \u7cfb\u7edf\u6ca1\u6709\u767b\u5f55\uff0c\u8df3\u8f6c\u5230 SSO\u3002</li> <li>\u7531\u4e8e SSO \u5df2\u7ecf\u767b\u5f55\u4e86\uff0c\u4e0d\u9700\u8981\u91cd\u65b0\u767b\u5f55\u8ba4\u8bc1\u3002</li> <li>SSO \u751f\u6210 ST\uff0c\u6d4f\u89c8\u5668\u8df3\u8f6c\u5230 app2 \u7cfb\u7edf\uff0c\u5e76\u5c06 ST \u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 app2\u3002</li> <li>app2 \u62ff\u5230 ST\uff0c\u540e\u53f0\u8bbf\u95ee SSO\uff0c\u9a8c\u8bc1 ST \u662f\u5426\u6709\u6548\u3002</li> <li>\u9a8c\u8bc1\u6210\u529f\u540e\uff0capp2 \u5c06\u767b\u5f55\u72b6\u6001\u5199\u5165 session\uff0c\u5e76\u5728 app2 \u57df\u4e0b\u5199\u5165 Cookie\u3002</li> </ol> <p>\u8fd9\u6837\uff0capp2 \u7cfb\u7edf\u4e0d\u9700\u8981\u8d70\u767b\u5f55\u6d41\u7a0b\uff0c\u5c31\u5df2\u7ecf\u662f\u767b\u5f55\u4e86\u3002SSO\uff0capp \u548c app2 \u5728\u4e0d\u540c\u7684\u57df\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684 session \u4e0d\u5171\u4eab\u4e5f\u662f\u6ca1\u95ee\u9898\u7684\u3002</p> <p>\u6709\u7684\u540c\u5b66\u95ee\u6211\uff0cSSO \u7cfb\u7edf\u767b\u5f55\u540e\uff0c\u8df3\u56de\u539f\u4e1a\u52a1\u7cfb\u7edf\u65f6\uff0c\u5e26\u4e86\u4e2a\u53c2\u6570 ST\uff0c\u4e1a\u52a1\u7cfb\u7edf\u8fd8\u8981\u62ff ST \u518d\u6b21\u8bbf\u95ee SSO \u8fdb\u884c\u9a8c\u8bc1\uff0c\u89c9\u5f97\u8fd9\u4e2a\u6b65\u9aa4\u6709\u70b9\u591a\u4f59\u3002\u4ed6\u60f3 SSO \u767b\u5f55\u8ba4\u8bc1\u901a\u8fc7\u540e\uff0c\u901a\u8fc7\u56de\u8c03\u5730\u5740\u5c06\u7528\u6237\u4fe1\u606f\u8fd4\u56de\u7ed9\u539f\u4e1a\u52a1\u7cfb\u7edf\uff0c\u539f\u4e1a\u52a1\u7cfb\u7edf\u76f4\u63a5\u8bbe\u7f6e\u767b\u5f55\u72b6\u6001\uff0c\u8fd9\u6837\u6d41\u7a0b\u7b80\u5355\uff0c\u4e5f\u5b8c\u6210\u4e86\u767b\u5f55\uff0c\u4e0d\u662f\u5f88\u597d\u5417\uff1f</p> <p>\u5176\u5b9e\u8fd9\u6837\u95ee\u9898\u65f6\u5f88\u4e25\u91cd\u7684\uff0c\u5982\u679c\u6211\u5728 SSO \u6ca1\u6709\u767b\u5f55\uff0c\u800c\u662f\u76f4\u63a5\u5728\u6d4f\u89c8\u5668\u4e2d\u6572\u5165\u56de\u8c03\u7684\u5730\u5740\uff0c\u5e76\u5e26\u4e0a\u4f2a\u9020\u7684\u7528\u6237\u4fe1\u606f\uff0c\u662f\u4e0d\u662f\u4e1a\u52a1\u7cfb\u7edf\u4e5f\u8ba4\u4e3a\u767b\u5f55\u4e86\u5462\uff1f\u8fd9\u662f\u5f88\u53ef\u6015\u7684\u3002</p>"},{"location":"backend-sql/04-%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95SSO/#_5","title":"\u603b\u7ed3","text":"<p>\u5355\u70b9\u767b\u5f55\uff08SSO\uff09\u7684\u6240\u6709\u6d41\u7a0b\u90fd\u4ecb\u7ecd\u5b8c\u4e86\uff0c\u539f\u7406\u5927\u5bb6\u90fd\u6e05\u695a\u4e86\u3002\u603b\u7ed3\u4e00\u4e0b\u5355\u70b9\u767b\u5f55\u8981\u505a\u7684\u4e8b\u60c5\uff1a</p> <ul> <li>\u5355\u70b9\u767b\u5f55\uff08SSO \u7cfb\u7edf\uff09\u662f\u4fdd\u969c\u5404\u4e1a\u52a1\u7cfb\u7edf\u7684\u7528\u6237\u8d44\u6e90\u7684\u5b89\u5168 \u3002</li> <li>\u5404\u4e2a\u4e1a\u52a1\u7cfb\u7edf\u83b7\u5f97\u7684\u4fe1\u606f\u662f\uff0c\u8fd9\u4e2a\u7528\u6237\u80fd\u4e0d\u80fd\u8bbf\u95ee\u6211\u7684\u8d44\u6e90\u3002</li> <li>\u5355\u70b9\u767b\u5f55\uff0c\u8d44\u6e90\u90fd\u5728\u5404\u4e2a\u4e1a\u52a1\u7cfb\u7edf\u8fd9\u8fb9\uff0c\u4e0d\u5728 SSO \u90a3\u4e00\u65b9\u3002 \u7528\u6237\u5728\u7ed9 SSO \u670d\u52a1\u5668\u63d0\u4f9b\u4e86\u7528\u6237\u540d\u5bc6\u7801\u540e\uff0c\u4f5c\u4e3a\u4e1a\u52a1\u7cfb\u7edf\u5e76\u4e0d\u77e5\u9053\u8fd9\u4ef6\u4e8b\u3002 SSO \u968f\u4fbf\u7ed9\u4e1a\u52a1\u7cfb\u7edf\u4e00\u4e2a ST\uff0c\u90a3\u4e48\u4e1a\u52a1\u7cfb\u7edf\u662f\u4e0d\u80fd\u786e\u5b9a\u8fd9\u4e2a ST \u662f\u7528\u6237\u4f2a\u9020\u7684\uff0c\u8fd8\u662f\u771f\u7684\u6709\u6548\uff0c\u6240\u4ee5\u8981\u62ff\u7740\u8fd9\u4e2a ST \u53bb SSO \u670d\u52a1\u5668\u518d\u95ee\u4e00\u4e0b\uff0c\u8fd9\u4e2a\u7528\u6237\u7ed9\u6211\u7684 ST \u662f\u5426\u6709\u6548\uff0c\u662f\u6709\u6548\u7684\u6211\u624d\u80fd\u8ba9\u8fd9\u4e2a\u7528\u6237\u8bbf\u95ee\u3002</li> </ul>"},{"location":"backend-sql/05-websocket/","title":"Websocket \u6982\u5ff5","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2934  \u9605\u8bfb6\u5206\u949f</p> <p>2021-12-02</p>"},{"location":"backend-sql/05-websocket/#websocket_1","title":"\u4e3a\u4ec0\u4e48\u4f7f\u7528 websocket?","text":"<p>\u4f20\u7edf\u7684\u7f51\u7edc\u534f\u8bae\u662f HTTP\uff0c\u9002\u7528\u4e8e\u5ba2\u6237\u7aef\u53d1\u51fa\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u54cd\u5e94\u3002</p> <p>\u5982\u679c\u670d\u52a1\u7aef\u60f3\u4e3b\u52a8\u53d1\u51fa\u6d88\u606f\uff08\u4f8b\u5982\u63a8\u9001\u901a\u77e5\u4e8b\u4ef6\uff09\uff0c\u6216\u8005\u591a\u4e2a\u5ba2\u6237\u7aef\u901a\u8fc7\u670d\u52a1\u7aef\u534f\u540c\uff08\u534f\u540c\u7f16\u8f91\u7b49\uff09\uff0c\u9700\u8981\u901a\u8fc7 http \u8f6e\u8be2\uff0c\u5b9a\u671f\u53d1\u51fa HTTP \u8bf7\u6c42\u66f4\u65b0\u6570\u636e\uff0cHTTP \u534f\u8bae\u4e0d\u6ee1\u8db3\u8981\u6c42\u3002</p>"},{"location":"backend-sql/05-websocket/#websockets","title":"WebSockets \u6709\u4ec0\u4e48\u7279\u70b9\uff1f","text":"<p>WebSockets \u53ef\u4ee5\u89e3\u51b3\u4e0a\u9762\u7684\u95ee\u9898\u3002\u9996\u6b21\u63e1\u624b\u540e\uff0c\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u53ef\u4ee5\u4e92\u76f8\u53d1\u9001\u6d88\u606f\uff0c\u8fd9\u6837\u670d\u52a1\u7aef\u53ef\u4ee5\u4e3b\u52a8\u53d1\u9001\u6d88\u606f\uff0c\u534f\u540c\u7f16\u8f91\u65f6\uff0c\u67d0\u4e00\u4e2a\u5ba2\u6237\u7aef\u53d1\u51fa\u66f4\u6539\u6d88\u606f\uff0c\u7136\u540e\u670d\u52a1\u5668\u5e7f\u64ad\u5230\u5168\u90e8\u5ba2\u6237\u7aef\uff0c\u5b9e\u73b0\u534f\u540c\u7f16\u8f91\u7684\u529f\u80fd\u3002</p>"},{"location":"backend-sql/05-websocket/#_1","title":"\u5177\u4f53\u5b9e\u73b0","text":"<p>\u73b0\u5728\u5404\u79cd\u6d4f\u89c8\u5668\u90fd\u652f\u6301 WebSockets \u534f\u8bae\u3002</p> <p>\u7406\u8bba\u4e0a\uff0c\u670d\u52a1\u5668\u4e0a\u90e8\u7f72\u4e00\u4e2a WebSockets \u7684\u670d\u52a1\uff0c\u5ba2\u6237\u7aef\u8fdb\u884c\u8fde\u63a5\u5373\u53ef\u5b9e\u73b0\u3002\u5e38\u89c1\u662f nodeJS \u5b9e\u73b0\u662f socket.io\uff08\u5728\u53e6\u5916\u7684\u6587\u6863\u4e2d\u4ecb\u7ecd\uff09</p> <p>\u4e0b\u9762\u662f\u4e3b\u8981\u7684\u4ee3\u7801\u548c\u64cd\u4f5c</p> <p>1\u3001\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\uff08\u5b58\u653e\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u7684\u4ee3\u7801\uff09\uff0c\u5b89\u88c5\u670d\u52a1\u7aef\u7684\u4f9d\u8d56</p> <pre><code>npm init\nnpm install nodejs-websocket --save\n</code></pre> <p>2\u3001\u65b0\u5efa server.js \u670d\u52a1\u5668\u4ee3\u7801</p> <pre><code>var ws = require(\"nodejs-websocket\");\n\n// \u521b\u5efa\u670d\u52a1\u5668\nvar server = ws\n  .createServer(function (socket) {\n    // \u4e8b\u4ef6\u540d\u79f0\u4e3atext(\u8bfb\u53d6\u5b57\u7b26\u4e32\u65f6\uff0c\u5c31\u53eb\u505atext)\uff0c\u8bfb\u53d6\u5ba2\u6237\u7aef\u4f20\u6765\u7684\u5b57\u7b26\u4e32\n    var count = 1;\n    socket.on(\"text\", function (str) {\n      // \u5728\u63a7\u5236\u53f0\u8f93\u51fa\u524d\u7aef\u4f20\u6765\u7684\u6d88\u606f\n      console.log(str);\n      //\u5411\u524d\u7aef\u56de\u590d\u6d88\u606f\n      socket.sendText(\"\u670d\u52a1\u5668\u7aef\u6536\u5230\u5ba2\u6237\u7aef\u7aef\u53d1\u6765\u7684\u6d88\u606f\u4e86\uff01\" + count++);\n    });\n  })\n  .listen(3000);\n</code></pre> <p>\u542f\u52a8\u670d\u52a1\u7aef</p> <pre><code>node server.js\n</code></pre> <p>3 \u521b\u5efa\u5ba2\u6237\u7aef index.html</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"UTF-8\" /&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt;\n    &lt;title&gt;Document&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;script\n      src=\"./client.js\"\n      type=\"text/javascript\"\n      charset=\"utf-8\"\n      async\n      defer\n    &gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u5f15\u5165 client.js</p> <pre><code>// webSocket \u662f\u6d4f\u89c8\u5668\u4e2d\u7684\u5bf9\u8c61\uff0c\u5728 node \u73af\u5883\u4e2d\u4e0d\u5b58\u5728\uff08\u62a5\u9519\uff09\nvar ws = new WebSocket(\"ws://localhost:3000/\");\n\nws.onopen = function (evt) {\n  console.log(\"Connection open ...\");\n  ws.send(\"Hello WebSockets!\");\n};\n\nws.onmessage = function (evt) {\n  console.log(\"Received Message: \" + evt.data);\n  ws.close();\n};\n\nws.onclose = function (evt) {\n  console.log(\"Connection closed.\");\n};\n</code></pre> <p>\u5728\u8fd9\u91cc\u76d1\u542c\u4e0d\u540c\u7684\u4e8b\u4ef6\uff0c\u5bf9\u5e94\u4e0d\u540c\u7684\u56de\u8c03\u51fd\u6570</p> <p>\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00 index.html \u6267\u884c client.js \u5f53\u8fde\u63a5\u6210\u529f\u540e\uff0c\u6d4f\u89c8\u5668\u4e2d\u663e\u793a \"Connection open ...\" \uff0c\u6d4f\u89c8\u5668\u53d1\u9001\u7ed9\u670d\u52a1\u5668 \"Hello WebSockets!\"\uff0c\u5728 terminal \u4e2d\u6253\u5370\u65e5\u5fd7 \"Hello WebSockets!\"\uff0c\u57fa\u672c\u64cd\u4f5c\u6210\u529f\u3002</p>"},{"location":"backend-sql/05-websocket/#_2","title":"\u53c2\u8003\u94fe\u63a5","text":"<p>https://www.ruanyifeng.com/blog/2017/05/websocket.html</p> <p>https://www.cnblogs.com/chtzz/p/10741241.html</p>"},{"location":"backend-sql/06-socket-io/","title":"Socket.IO","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 11641  \u9605\u8bfb24\u5206\u949f</p> <p>2021-12-02</p> <p>Socket.IO \u662f\u4e00\u4e2a\u57fa\u4e8e web-socket \u901a\u4fe1\u7684\u5e93\uff0c\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u5b9e\u73b0\u5b9e\u65f6\u3001\u53cc\u5411\u548c\u57fa\u4e8e\u4e8b\u4ef6\u7684\u901a\u4fe1\u3002</p> <p>\u5305\u62ec\uff1aNode.js \u670d\u52a1\u5668\u548c\u6d4f\u89c8\u5668\u7684 Javascript \u5ba2\u6237\u7aef\u5e93\u3002</p> <p>\u53ef\u4ee5\u5c06 Socket.IO \u5ba2\u6237\u7aef\u89c6\u4e3a WebSocket API \u7684\u201c\u5c0f\u578b\u201d\u5305\u88c5\u5668\u3002</p>"},{"location":"backend-sql/06-socket-io/#_1","title":"\u4e3b\u8981\u7528\u9014","text":"<ul> <li>\u5b9e\u65f6\u5206\u6790\uff1a\u5c06\u6570\u636e\u63a8\u9001\u5230\u5ba2\u6237\u7aef\uff0c\u4ee5\u5b9e\u65f6\u8ba1\u6570\u5668\u3001\u56fe\u8868\u6216\u65e5\u5fd7\u7684\u5f62\u5f0f\u8868\u793a\u3002</li> <li>\u5373\u65f6\u6d88\u606f\u548c\u804a\u5929\uff1aSocket.IO \u7684\u201cHello world\u201d\u662f\u4e00\u4e2a\u53ea\u9700\u51e0\u884c\u4ee3\u7801\u7684\u804a\u5929\u5e94\u7528\u7a0b\u5e8f\u3002</li> <li>\u4e8c\u8fdb\u5236\u6d41\uff1a\u4ece 1.0 \u5f00\u59cb\uff0c\u53ef\u4ee5\u6765\u56de\u53d1\u9001\u4efb\u4f55 blob\uff1a\u56fe\u50cf\u3001\u97f3\u9891\u3001\u89c6\u9891\u3002</li> <li>\u6587\u6863\u534f\u4f5c\uff1a\u5141\u8bb8\u7528\u6237\u540c\u65f6\u7f16\u8f91\u6587\u6863\u5e76\u67e5\u770b\u5f7c\u6b64\u7684\u66f4\u6539\u3002</li> </ul> <p>Microsoft Office \u4f7f\u7528\u8fd9\u4e2a\u5e93\uff0c\u6027\u80fd\u4e0a\u6ca1\u95ee\u9898</p>"},{"location":"backend-sql/06-socket-io/#_2","title":"\u6848\u4f8b\uff1a\u804a\u5929\u5ba4","text":"<p>\u94fe\u63a5\uff1ahttps://socket.io/get-started/chat</p> <p>In this guide we\u2019ll create a basic chat application. It requires almost no basic prior knowledge of Node.JS or Socket.IO, so it\u2019s ideal for users of all knowledge levels.</p>"},{"location":"backend-sql/06-socket-io/#introduction","title":"Introduction","text":"<p>\u4f7f\u7528\u5176\u4ed6\u6846\u67b6\uff08LAMP php\uff09\u5199\u4e00\u4e2a\u804a\u5929\u5e94\u7528\u6bd4\u8f83\u96be\uff0csockets \u5929\u7136\u53ef\u4ee5\u89e3\u51b3\u8fd9\u79cd\u5b9e\u65f6\u7684\u804a\u5929\u7cfb\u7edf\uff0c\u53cc\u5411\u7684\u901a\u4fe1\u7cfb\u7edf\u95ee\u9898\uff08\u5373\u670d\u52a1\u7aef\u53ef\u4ee5\u7ed9\u5ba2\u6237\u7aef\u53d1\u9001\u6d88\u606f\uff09\u3002</p> <p>Writing a chat application with popular web applications stacks like LAMP (PHP) has normally been very hard. It involves polling the server for changes, keeping track of timestamps, and it\u2019s a lot slower than it should be.</p> <p>Sockets have traditionally been the solution around which most real-time chat systems are architected, providing a bi-directional communication channel between a client and a server.</p> <p>This means that the server can push messages to clients. Whenever you write a chat message, the idea is that the server will get it and push it to all other connected clients.</p>"},{"location":"backend-sql/06-socket-io/#the-web-framework","title":"The web framework","text":"<p>\u4f7f\u7528 express \u4f5c\u4e3a\u540e\u7aef</p> <p>The first goal is to set up a simple HTML webpage that serves out a form and a list of messages. We\u2019re going to use the Node.JS web framework <code>express</code> to this end. Make sure Node.JS is installed.</p> <p>First let\u2019s create a <code>package.json</code> manifest file that describes our project. I recommend you place it in a dedicated empty directory (I\u2019ll call mine <code>chat-example</code>).</p> <pre><code>{\n  \"name\": \"socket-chat-example\",\n  \"version\": \"0.0.1\",\n  \"description\": \"my first socket.io app\",\n  \"dependencies\": {}\n}\n</code></pre> <p>Now, in order to easily populate the <code>dependencies</code> property with the things we need, we\u2019ll use <code>npm install</code>:</p> <pre><code>npm install express@4\n</code></pre> <p>Once it\u2019s installed we can create an <code>index.js</code> file that will set up our application.</p> <p>\u8fd9\u662f\u670d\u52a1\u7aef\u4ee3\u7801\uff08\u4f7f\u7528 express \u642d\u5efa\u5e94\u7528\uff0c\u4f7f\u7528\u8def\u7531 / \u6253\u5f00\u9ed8\u8ba4\u7684 index.html \u9875\u9762\uff0c\u5728 3000 \u7aef\u53e3\u5f00\u542f HTTP \u670d\u52a1\uff09</p> <pre><code>const express = require(\"express\");\nconst app = express();\nconst http = require(\"http\");\nconst server = http.createServer(app);\n\napp.get(\"/\", (req, res) =&gt; {\n  res.send(\"&lt;h1&gt;Hello world&lt;/h1&gt;\");\n});\n\nserver.listen(3000, () =&gt; {\n  console.log(\"listening on *:3000\");\n});\n</code></pre> <p>This means that it:</p> <ul> <li>Express initializes <code>app</code> to be a function handler that you can supply to an HTTP server (as seen in line 4).</li> <li>We define a route handler <code>/</code> that gets called when we hit our website home.</li> <li>We make the http server listen on port 3000.</li> </ul> <p>\u53ef\u4ee5\u5728\u7ec8\u7aef\u8fd0\u884c node.js \u5e76\u6253\u5f00\u6d4f\u89c8\u5668\u8bbf\u95ee localhost: 3000</p> <p>If you run <code>node index.js</code> you should see the following. And if you point your browser to <code>http://localhost:3000</code>.</p>"},{"location":"backend-sql/06-socket-io/#serving-html","title":"Serving HTML","text":"<p>So far in <code>index.js</code> we\u2019re calling <code>res.send</code> and passing it a string of HTML. Our code would look very confusing if we just placed our entire application\u2019s HTML there, so instead we\u2019re going to create a <code>index.html</code> file and serve that instead.</p> <p>\u5982\u679c\u76f4\u63a5\u4ece\u540e\u7aef\u8fd4\u56de html \u6587\u4ef6\u5c31\u592a\u590d\u6742\u4e86\uff0c\u6240\u4ee5\u4f7f\u7528\u8def\u7531\u53d6\u4ee3</p> <p>Let\u2019s refactor our route handler to use <code>sendFile</code> instead.</p> <pre><code>app.get(\"/\", (req, res) =&gt; {\n  res.sendFile(__dirname + \"/index.html\");\n});\n</code></pre> <p>Put the following in your <code>index.html</code> file:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Socket.IO chat&lt;/title&gt;\n    &lt;style&gt;\n      body {\n        margin: 0;\n        padding-bottom: 3rem;\n        font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n          Helvetica, Arial, sans-serif;\n      }\n\n      #form {\n        background: rgba(0, 0, 0, 0.15);\n        padding: 0.25rem;\n        position: fixed;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        display: flex;\n        height: 3rem;\n        box-sizing: border-box;\n        backdrop-filter: blur(10px);\n      }\n      #input {\n        border: none;\n        padding: 0 1rem;\n        flex-grow: 1;\n        border-radius: 2rem;\n        margin: 0.25rem;\n      }\n      #input:focus {\n        outline: none;\n      }\n      #form &gt; button {\n        background: #333;\n        border: none;\n        padding: 0 1rem;\n        margin: 0.25rem;\n        border-radius: 3px;\n        outline: none;\n        color: #fff;\n      }\n\n      #messages {\n        list-style-type: none;\n        margin: 0;\n        padding: 0;\n      }\n      #messages &gt; li {\n        padding: 0.5rem 1rem;\n      }\n      #messages &gt; li:nth-child(odd) {\n        background: #efefef;\n      }\n    &lt;/style&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;ul id=\"messages\"&gt;&lt;/ul&gt;\n    &lt;form id=\"form\" action=\"\"&gt;\n      &lt;input id=\"input\" autocomplete=\"off\" /&gt;&lt;button&gt;Send&lt;/button&gt;\n    &lt;/form&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>If you restart the process (by hitting Control+C and running <code>node index.js</code> again) and refresh the page it should look like this:</p>"},{"location":"backend-sql/06-socket-io/#integrating-socketio","title":"Integrating Socket.IO","text":"<p>Socket.IO is composed of two parts(\u5206\u6210\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u4e24\u90e8\u5206):</p> <ul> <li>A server that integrates with (or mounts on) the Node.JS HTTP Server socket.io</li> <li>A client library that loads on the browser side socket.io-client</li> </ul> <p>During development, <code>socket.io</code> serves the client automatically for us, as we\u2019ll see, so for now we only have to install one module:</p> <pre><code>npm install socket.io\n</code></pre> <p>That will install the module and add the dependency to <code>package.json</code>. Now let\u2019s edit <code>index.js</code> to add it:</p> <pre><code>const express = require(\"express\");\nconst app = express();\nconst http = require(\"http\");\nconst server = http.createServer(app);\n\nconst { Server } = require(\"socket.io\");\nconst io = new Server(server);\n\napp.get(\"/\", (req, res) =&gt; {\n  res.sendFile(__dirname + \"/index.html\");\n});\n\nio.on(\"connection\", (socket) =&gt; {\n  console.log(\"a user connected\");\n});\n\nserver.listen(3000, () =&gt; {\n  console.log(\"listening on *:3000\");\n});\n</code></pre> <p>Notice that I initialize a new instance of <code>socket.io</code> by passing the <code>server</code> (the HTTP server) object. Then I listen on the <code>connection</code> event for incoming sockets and log it to the console.</p> <p>Now in index.html add the following snippet before the <code>&lt;/body&gt;</code> (end body tag):</p> <pre><code>&lt;script src=\"/socket.io/socket.io.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  var socket = io();\n&lt;/script&gt;\n</code></pre> <p>That\u2019s all it takes to load the <code>socket.io-client</code>, which exposes an <code>io</code> global (and the endpoint <code>GET /socket.io/socket.io.js</code>), and then connect.</p> <p>\u672c\u5730\u7684 JS \u8def\u5f84\uff08node_modules/socket.io/client-dist/socket.io.js\uff09</p> <p>If you would like to use the local version of the client-side JS file, you can find it at <code>node_modules/socket.io/client-dist/socket.io.js</code>.</p> <p>Notice that I\u2019m not specifying any URL when I call <code>io()</code>, since it defaults to trying to connect to the host that serves the page.</p> <p>If you now restart the process (by hitting Control+C and running <code>node index.js</code> again) and then refresh the webpage you should see the console print \u201ca user connected\u201d.</p> <p>Try opening several tabs, and you\u2019ll see several messages.</p> <p>Each socket also fires a special <code>disconnect</code> event:</p> <pre><code>io.on(\"connection\", (socket) =&gt; {\n  console.log(\"a user connected\");\n  socket.on(\"disconnect\", () =&gt; {\n    console.log(\"user disconnected\");\n  });\n});\n</code></pre> <p>Then if you refresh a tab several times you can see it in action.</p>"},{"location":"backend-sql/06-socket-io/#emitting-events","title":"Emitting events","text":"<p>The main idea behind Socket.IO is that you can send and receive any events you want, with any data you want. Any objects that can be encoded as JSON will do, and binary data is supported too.</p> <p>Let\u2019s make it so that when the user types in a message, the server gets it as a <code>chat message</code> event. The <code>script</code> section in <code>index.html</code> should now look as follows:</p> <pre><code>&lt;script src=\"/socket.io/socket.io.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  var socket = io();\n\n  var form = document.getElementById(\"form\");\n  var input = document.getElementById(\"input\");\n\n  form.addEventListener(\"submit\", function (e) {\n    e.preventDefault();\n    if (input.value) {\n      socket.emit(\"chat message\", input.value);\n      input.value = \"\";\n    }\n  });\n&lt;/script&gt;\n</code></pre> <p>And in <code>index.js</code> we print out the <code>chat message</code> event:</p> <pre><code>io.on(\"connection\", (socket) =&gt; {\n  socket.on(\"chat message\", (msg) =&gt; {\n    console.log(\"message: \" + msg);\n  });\n});\n</code></pre> <p>The result should be like the following video:</p>"},{"location":"backend-sql/06-socket-io/#broadcasting","title":"Broadcasting","text":"<p>The next goal is for us to emit the event from the server to the rest of the users.</p> <p>In order to send an event to everyone, Socket.IO gives us the <code>io.emit()</code> method.</p> <pre><code>io.emit(\"some event\", {\n  someProperty: \"some value\",\n  otherProperty: \"other value\",\n});\n\n// This will emit the event to all connected sockets\n</code></pre> <p>If you want to send a message to everyone except for a certain emitting socket, we have the <code>broadcast</code> flag for emitting from that socket:</p> <pre><code>io.on(\"connection\", (socket) =&gt; {\n  socket.broadcast.emit(\"hi\");\n});\n</code></pre> <p>In this case, for the sake of simplicity we\u2019ll send the message to everyone, including the sender.</p> <pre><code>io.on(\"connection\", (socket) =&gt; {\n  socket.on(\"chat message\", (msg) =&gt; {\n    io.emit(\"chat message\", msg);\n  });\n});\n</code></pre> <p>And on the client side when we capture a <code>chat message</code> event we\u2019ll include it in the page. The total client-side JavaScript code now amounts to:</p> <pre><code>&lt;script&gt;\n  var socket = io();\n\n  var messages = document.getElementById(\"messages\");\n  var form = document.getElementById(\"form\");\n  var input = document.getElementById(\"input\");\n\n  form.addEventListener(\"submit\", function (e) {\n    e.preventDefault();\n    if (input.value) {\n      socket.emit(\"chat message\", input.value);\n      input.value = \"\";\n    }\n  });\n\n  socket.on(\"chat message\", function (msg) {\n    var item = document.createElement(\"li\");\n    item.textContent = msg;\n    messages.appendChild(item);\n    window.scrollTo(0, document.body.scrollHeight);\n  });\n&lt;/script&gt;\n</code></pre> <p>And that completes our chat application, in about 20 lines of code! This is what it looks like:</p>"},{"location":"backend-sql/06-socket-io/#homework","title":"Homework","text":"<p>Here are some ideas to improve the application:</p> <ul> <li>Broadcast a message to connected users when someone connects or disconnects\uff08\u5f53\u67d0\u4eba\u8fde\u63a5\u6216\u8005\u9000\u51fa\u65f6\uff0c\u9700\u8981\u5411\u5168\u4f53\u5e7f\u64ad\uff09.</li> <li>Add support for nicknames\uff08\u652f\u6301\u6635\u79f0\uff0c\u4f20\u53c2\uff09.</li> <li>Don\u2019t send the same message to the user that sent it. Instead, append the message directly as soon as he/she presses enter.\uff08\u672c\u4eba\u81ea\u5df1\u7684\u6d88\u606f\uff0c\u76f4\u63a5\u53d1\u5230\u672c\u5730\uff0csocket \u4e0d\u5411\u81ea\u5df1\u53d1\u9001\u6d88\u606f\uff09</li> <li>Add \u201c{user} is typing\u201d functionality.\uff08\u7528\u6237\u8f93\u5165\u7684\u65f6\u5019\uff0c\u663e\u793a\uff09</li> <li>Show who\u2019s online.\uff08\u7528\u6237\u767b\u5f55\u540e\uff0c\u5b58\u50a8\u5728\u6570\u7ec4\u4e2d\uff0c\u5e76\u5b9e\u65f6\u5411\u5168\u4f53\u5e7f\u64ad\uff09</li> <li>Add private messaging.\uff08\u589e\u52a0\u79c1\u4fe1\uff0ctoken\uff1f\u8fd8\u662f\u76f4\u63a5\u4f20\u53c2\u7684\u65f6\u5019\u8bbe\u7f6e\uff09</li> <li>Share your improvements!</li> </ul>"},{"location":"backend-sql/06-socket-io/#getting-this-example","title":"Getting this example","text":"<p>You can find it on GitHub here.</p> <pre><code>git clone https://github.com/socketio/chat-example.git\n</code></pre>"},{"location":"backend-sql/07-SQLite-API-Python/","title":"SQLite - Python","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 17049  \u9605\u8bfb35\u5206\u949f</p> <p>2021-12-02</p>"},{"location":"backend-sql/07-SQLite-API-Python/#_1","title":"\u5b89\u88c5","text":"<p>SQLite3 \u53ef\u4f7f\u7528 sqlite3 \u6a21\u5757\u4e0e Python \u8fdb\u884c\u96c6\u6210\u3002sqlite3 \u6a21\u5757\u662f\u7531 Gerhard Haring \u7f16\u5199\u7684\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4e0e PEP 249 \u63cf\u8ff0\u7684 DB-API 2.0 \u89c4\u8303\u517c\u5bb9\u7684 SQL \u63a5\u53e3\u3002\u4e0d\u9700\u8981\u5355\u72ec\u5b89\u88c5\u8be5\u6a21\u5757\uff0c\u56e0\u4e3a Python 2.5.x \u4ee5\u4e0a\u7248\u672c\u9ed8\u8ba4\u81ea\u5e26\u4e86\u8be5\u6a21\u5757\u3002</p> <p>\u4e3a\u4e86\u4f7f\u7528 sqlite3 \u6a21\u5757\uff0c\u9996\u5148\u5fc5\u987b\u521b\u5efa\u4e00\u4e2a\u8868\u793a\u6570\u636e\u5e93\u7684\u8fde\u63a5\u5bf9\u8c61\uff0c\u7136\u540e\u53ef\u4ee5\u6709\u9009\u62e9\u5730\u521b\u5efa\u5149\u6807\u5bf9\u8c61\uff0c\u53ef\u4ee5\u6267\u884c\u6240\u6709\u7684 SQL \u8bed\u53e5\u3002</p>"},{"location":"backend-sql/07-SQLite-API-Python/#python-sqlite3-api","title":"Python sqlite3 \u6a21\u5757 API","text":"<p>\u4ee5\u4e0b\u662f\u91cd\u8981\u7684 sqlite3 \u6a21\u5757\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u6ee1\u8db3\u60a8\u5728 Python \u7a0b\u5e8f\u4e2d\u4f7f\u7528 SQLite \u6570\u636e\u5e93\u7684\u9700\u6c42\u3002\u5982\u679c\u60a8\u9700\u8981\u4e86\u89e3\u66f4\u591a\u7ec6\u8282\uff0c\u8bf7\u67e5\u770b Python sqlite3 \u6a21\u5757\u7684\u5b98\u65b9\u6587\u6863\u3002</p> \u5e8f\u53f7 API &amp; \u63cf\u8ff0 1 sqlite3.connect(database [,timeout ,other optional arguments]) \u8be5 API \u6253\u5f00\u4e00\u4e2a\u5230 SQLite \u6570\u636e\u5e93\u6587\u4ef6 database \u7684\u94fe\u63a5\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 \":memory:\" \u6765\u5728 RAM \u4e2d\u6253\u5f00\u4e00\u4e2a\u5230 database \u7684\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u800c\u4e0d\u662f\u5728\u78c1\u76d8\u4e0a\u6253\u5f00\u3002\u5982\u679c\u6570\u636e\u5e93\u6210\u529f\u6253\u5f00\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u8fde\u63a5\u5bf9\u8c61\u3002\u5f53\u4e00\u4e2a\u6570\u636e\u5e93\u88ab\u591a\u4e2a\u8fde\u63a5\u8bbf\u95ee\uff0c\u4e14\u5176\u4e2d\u4e00\u4e2a\u4fee\u6539\u4e86\u6570\u636e\u5e93\uff0c\u6b64\u65f6 SQLite \u6570\u636e\u5e93\u88ab\u9501\u5b9a\uff0c\u76f4\u5230\u4e8b\u52a1\u63d0\u4ea4\u3002timeout \u53c2\u6570\u8868\u793a\u8fde\u63a5\u7b49\u5f85\u9501\u5b9a\u7684\u6301\u7eed\u65f6\u95f4\uff0c\u76f4\u5230\u53d1\u751f\u5f02\u5e38\u65ad\u5f00\u8fde\u63a5\u3002timeout \u53c2\u6570\u9ed8\u8ba4\u662f 5.0\uff085 \u79d2\uff09\u3002\u5982\u679c\u7ed9\u5b9a\u7684\u6570\u636e\u5e93\u540d\u79f0 filename \u4e0d\u5b58\u5728\uff0c\u5219\u8be5\u8c03\u7528\u5c06\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5e93\u3002\u5982\u679c\u60a8\u4e0d\u60f3\u5728\u5f53\u524d\u76ee\u5f55\u4e2d\u521b\u5efa\u6570\u636e\u5e93\uff0c\u90a3\u4e48\u60a8\u53ef\u4ee5\u6307\u5b9a\u5e26\u6709\u8def\u5f84\u7684\u6587\u4ef6\u540d\uff0c\u8fd9\u6837\u60a8\u5c31\u80fd\u5728\u4efb\u610f\u5730\u65b9\u521b\u5efa\u6570\u636e\u5e93\u3002 2 connection.cursor([cursorClass]) \u8be5\u4f8b\u7a0b\u521b\u5efa\u4e00\u4e2a cursor\uff0c\u5c06\u5728 Python \u6570\u636e\u5e93\u7f16\u7a0b\u4e2d\u7528\u5230\u3002\u8be5\u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5355\u4e00\u7684\u53ef\u9009\u7684\u53c2\u6570 cursorClass\u3002\u5982\u679c\u63d0\u4f9b\u4e86\u8be5\u53c2\u6570\uff0c\u5219\u5b83\u5fc5\u987b\u662f\u4e00\u4e2a\u6269\u5c55\u81ea sqlite3.Cursor \u7684\u81ea\u5b9a\u4e49\u7684 cursor \u7c7b\u3002 3 cursor.execute(sql [, optional parameters]) \u8be5\u4f8b\u7a0b\u6267\u884c\u4e00\u4e2a SQL \u8bed\u53e5\u3002\u8be5 SQL \u8bed\u53e5\u53ef\u4ee5\u88ab\u53c2\u6570\u5316\uff08\u5373\u4f7f\u7528\u5360\u4f4d\u7b26\u4ee3\u66ff SQL \u6587\u672c\uff09\u3002sqlite3 \u6a21\u5757\u652f\u6301\u4e24\u79cd\u7c7b\u578b\u7684\u5360\u4f4d\u7b26\uff1a\u95ee\u53f7\u548c\u547d\u540d\u5360\u4f4d\u7b26\uff08\u547d\u540d\u6837\u5f0f\uff09\u3002\u4f8b\u5982\uff1acursor.execute(\"insert into people values (?, ?)\", (who, age)) 4 connection.execute(sql [, optional parameters]) \u8be5\u4f8b\u7a0b\u662f\u4e0a\u9762\u6267\u884c\u7684\u7531\u5149\u6807\uff08cursor\uff09\u5bf9\u8c61\u63d0\u4f9b\u7684\u65b9\u6cd5\u7684\u5feb\u6377\u65b9\u5f0f\uff0c\u5b83\u901a\u8fc7\u8c03\u7528\u5149\u6807\uff08cursor\uff09\u65b9\u6cd5\u521b\u5efa\u4e86\u4e00\u4e2a\u4e2d\u95f4\u7684\u5149\u6807\u5bf9\u8c61\uff0c\u7136\u540e\u901a\u8fc7\u7ed9\u5b9a\u7684\u53c2\u6570\u8c03\u7528\u5149\u6807\u7684 execute \u65b9\u6cd5\u3002 5 cursor.executemany(sql, seq_of_parameters) \u8be5\u4f8b\u7a0b\u5bf9 seq_of_parameters \u4e2d\u7684\u6240\u6709\u53c2\u6570\u6216\u6620\u5c04\u6267\u884c\u4e00\u4e2a SQL \u547d\u4ee4\u3002 6 connection.executemany(sql[, parameters]) \u8be5\u4f8b\u7a0b\u662f\u4e00\u4e2a\u7531\u8c03\u7528\u5149\u6807\uff08cursor\uff09\u65b9\u6cd5\u521b\u5efa\u7684\u4e2d\u95f4\u7684\u5149\u6807\u5bf9\u8c61\u7684\u5feb\u6377\u65b9\u5f0f\uff0c\u7136\u540e\u901a\u8fc7\u7ed9\u5b9a\u7684\u53c2\u6570\u8c03\u7528\u5149\u6807\u7684 executemany \u65b9\u6cd5\u3002 7 cursor.executescript(sql_script) \u8be5\u4f8b\u7a0b\u4e00\u65e6\u63a5\u6536\u5230\u811a\u672c\uff0c\u4f1a\u6267\u884c\u591a\u4e2a SQL \u8bed\u53e5\u3002\u5b83\u9996\u5148\u6267\u884c COMMIT \u8bed\u53e5\uff0c\u7136\u540e\u6267\u884c\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u7684 SQL \u811a\u672c\u3002\u6240\u6709\u7684 SQL \u8bed\u53e5\u5e94\u8be5\u7528\u5206\u53f7\uff08;\uff09\u5206\u9694\u3002 8 connection.executescript(sql_script) \u8be5\u4f8b\u7a0b\u662f\u4e00\u4e2a\u7531\u8c03\u7528\u5149\u6807\uff08cursor\uff09\u65b9\u6cd5\u521b\u5efa\u7684\u4e2d\u95f4\u7684\u5149\u6807\u5bf9\u8c61\u7684\u5feb\u6377\u65b9\u5f0f\uff0c\u7136\u540e\u901a\u8fc7\u7ed9\u5b9a\u7684\u53c2\u6570\u8c03\u7528\u5149\u6807\u7684 executescript \u65b9\u6cd5\u3002 9 connection.total_changes() \u8be5\u4f8b\u7a0b\u8fd4\u56de\u81ea\u6570\u636e\u5e93\u8fde\u63a5\u6253\u5f00\u4ee5\u6765\u88ab\u4fee\u6539\u3001\u63d2\u5165\u6216\u5220\u9664\u7684\u6570\u636e\u5e93\u603b\u884c\u6570\u3002 10 connection.commit() \u8be5\u65b9\u6cd5\u63d0\u4ea4\u5f53\u524d\u7684\u4e8b\u52a1\u3002\u5982\u679c\u60a8\u672a\u8c03\u7528\u8be5\u65b9\u6cd5\uff0c\u90a3\u4e48\u81ea\u60a8\u4e0a\u4e00\u6b21\u8c03\u7528 commit() \u4ee5\u6765\u6240\u505a\u7684\u4efb\u4f55\u52a8\u4f5c\u5bf9\u5176\u4ed6\u6570\u636e\u5e93\u8fde\u63a5\u6765\u8bf4\u662f\u4e0d\u53ef\u89c1\u7684\u3002 11 connection.rollback() \u8be5\u65b9\u6cd5\u56de\u6eda\u81ea\u4e0a\u4e00\u6b21\u8c03\u7528 commit() \u4ee5\u6765\u5bf9\u6570\u636e\u5e93\u6240\u505a\u7684\u66f4\u6539\u3002 12 connection.close() \u8be5\u65b9\u6cd5\u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e0d\u4f1a\u81ea\u52a8\u8c03\u7528 commit()\u3002\u5982\u679c\u60a8\u4e4b\u524d\u672a\u8c03\u7528 commit() \u65b9\u6cd5\uff0c\u5c31\u76f4\u63a5\u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u60a8\u6240\u505a\u7684\u6240\u6709\u66f4\u6539\u5c06\u5168\u90e8\u4e22\u5931\uff01 13 cursor.fetchone() \u8be5\u65b9\u6cd5\u83b7\u53d6\u67e5\u8be2\u7ed3\u679c\u96c6\u4e2d\u7684\u4e0b\u4e00\u884c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5355\u4e00\u7684\u5e8f\u5217\uff0c\u5f53\u6ca1\u6709\u66f4\u591a\u53ef\u7528\u7684\u6570\u636e\u65f6\uff0c\u5219\u8fd4\u56de None\u3002 14 cursor.fetchmany([size=cursor.arraysize]) \u8be5\u65b9\u6cd5\u83b7\u53d6\u67e5\u8be2\u7ed3\u679c\u96c6\u4e2d\u7684\u4e0b\u4e00\u884c\u7ec4\uff0c\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\u3002\u5f53\u6ca1\u6709\u66f4\u591a\u7684\u53ef\u7528\u7684\u884c\u65f6\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u7a7a\u7684\u5217\u8868\u3002\u8be5\u65b9\u6cd5\u5c1d\u8bd5\u83b7\u53d6\u7531 size \u53c2\u6570\u6307\u5b9a\u7684\u5c3d\u53ef\u80fd\u591a\u7684\u884c\u3002 15 cursor.fetchall() \u8be5\u4f8b\u7a0b\u83b7\u53d6\u67e5\u8be2\u7ed3\u679c\u96c6\u4e2d\u6240\u6709\uff08\u5269\u4f59\uff09\u7684\u884c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\u3002\u5f53\u6ca1\u6709\u53ef\u7528\u7684\u884c\u65f6\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u7a7a\u7684\u5217\u8868\u3002"},{"location":"backend-sql/07-SQLite-API-Python/#_2","title":"\u8fde\u63a5\u6570\u636e\u5e93","text":"<p>\u4e0b\u9762\u7684 Python \u4ee3\u7801\u663e\u793a\u4e86\u5982\u4f55\u8fde\u63a5\u5230\u4e00\u4e2a\u73b0\u6709\u7684\u6570\u636e\u5e93\u3002\u5982\u679c\u6570\u636e\u5e93\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48\u5b83\u5c31\u4f1a\u88ab\u521b\u5efa\uff0c\u6700\u540e\u5c06\u8fd4\u56de\u4e00\u4e2a\u6570\u636e\u5e93\u5bf9\u8c61\u3002</p> <pre><code>#!/usr/bin/python\nimport sqlite3\nconn = sqlite3.connect('test.db')\nprint \"Opened database successfully\";\n</code></pre> <p>\u5728\u8fd9\u91cc\uff0c\u60a8\u4e5f\u53ef\u4ee5\u628a\u6570\u636e\u5e93\u540d\u79f0\u590d\u5236\u4e3a\u7279\u5b9a\u7684\u540d\u79f0 :memory:\uff0c\u8fd9\u6837\u5c31\u4f1a\u5728 RAM \u4e2d\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5e93\u3002\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u6765\u8fd0\u884c\u4e0a\u9762\u7684\u7a0b\u5e8f\uff0c\u5728\u5f53\u524d\u76ee\u5f55\u4e2d\u521b\u5efa\u6211\u4eec\u7684\u6570\u636e\u5e93 test.db\u3002\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u6539\u53d8\u8def\u5f84\u3002\u4fdd\u5b58\u4e0a\u9762\u4ee3\u7801\u5230 sqlite.py \u6587\u4ef6\u4e2d\uff0c\u5e76\u6309\u5982\u4e0b\u6240\u793a\u6267\u884c\u3002\u5982\u679c\u6570\u636e\u5e93\u6210\u529f\u521b\u5efa\uff0c\u90a3\u4e48\u4f1a\u663e\u793a\u4e0b\u9762\u6240\u793a\u7684\u6d88\u606f\uff1a</p> <pre><code>$chmod +x sqlite.py\n$./sqlite.py\nOpen database successfully\n</code></pre>"},{"location":"backend-sql/07-SQLite-API-Python/#_3","title":"\u521b\u5efa\u8868","text":"<p>\u4e0b\u9762\u7684 Python \u4ee3\u7801\u6bb5\u5c06\u7528\u4e8e\u5728\u5148\u524d\u521b\u5efa\u7684\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u4e00\u4e2a\u8868\uff1a</p> <pre><code>#!/usr/bin/python\nimport sqlite3\nconn = sqlite3.connect('test.db')\nprint \"Opened database successfully\";\nc = conn.cursor()\nc.execute('''CREATE TABLE COMPANY\n       (ID INT PRIMARY KEY     NOT NULL,\n       NAME           TEXT    NOT NULL,\n       AGE            INT     NOT NULL,\n       ADDRESS        CHAR(50),\n       SALARY         REAL);''')\nprint \"Table created successfully\";\nconn.commit()\nconn.close()\n</code></pre> <p>\u4e0a\u8ff0\u7a0b\u5e8f\u6267\u884c\u65f6\uff0c\u5b83\u4f1a\u5728 test.db \u4e2d\u521b\u5efa COMPANY \u8868\uff0c\u5e76\u663e\u793a\u4e0b\u9762\u6240\u793a\u7684\u6d88\u606f\uff1a</p> <pre><code>Opened database successfully\nTable created successfully\n</code></pre>"},{"location":"backend-sql/07-SQLite-API-Python/#insert","title":"INSERT \u64cd\u4f5c","text":"<p>\u4e0b\u9762\u7684 Python \u7a0b\u5e8f\u663e\u793a\u4e86\u5982\u4f55\u5728\u4e0a\u9762\u521b\u5efa\u7684 COMPANY \u8868\u4e2d\u521b\u5efa\u8bb0\u5f55\uff1a</p> <p>```python\u00a0</p>"},{"location":"backend-sql/07-SQLite-API-Python/#usrbinpython","title":"!/usr/bin/python","text":"<p>import sqlite3</p> <p>conn = sqlite3.connect('test.db') c = conn.cursor() print \"Opened database successfully\"</p> <p>c.execute(\"INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY) \\       VALUES (1, 'Paul', 32, 'California', 20000.00 )\") c.execute(\"INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY) \\       VALUES (2, 'Allen', 25, 'Texas', 15000.00 )\") c.execute(\"INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY) \\       VALUES (3, 'Teddy', 23, 'Norway', 20000.00 )\") c.execute(\"INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY) \\       VALUES (4, 'Mark', 25, 'Rich-Mond ', 65000.00 )\") conn.commit() print \"Records created successfully\"; conn.close() <pre><code>\u4e0a\u8ff0\u7a0b\u5e8f\u6267\u884c\u65f6\uff0c\u5b83\u4f1a\u5728 COMPANY \u8868\u4e2d\u521b\u5efa\u7ed9\u5b9a\u8bb0\u5f55\uff0c\u5e76\u4f1a\u663e\u793a\u4ee5\u4e0b\u4e24\u884c\uff1a\n</code></pre> Opened database successfully Records created successfully <pre><code>## SELECT \u64cd\u4f5c\n\n\u4e0b\u9762\u7684 Python \u7a0b\u5e8f\u663e\u793a\u4e86\u5982\u4f55\u4ece\u524d\u9762\u521b\u5efa\u7684 COMPANY \u8868\u4e2d\u83b7\u53d6\u5e76\u663e\u793a\u8bb0\u5f55\uff1a\n\n```python\n#!/usr/bin/python\nimport sqlite3\nconn = sqlite3.connect('test.db')\nc = conn.cursor()\ncursor = c.execute(\"SELECT id, name, address, salary  from COMPANY\")\nfor row in cursor:\n   print \"ID = \", row[0]\n   print \"NAME = \", row[1]\n   print \"ADDRESS = \", row[2]\n   print \"SALARY = \", row[3], \"\\n\"\nconn.close()\n</code></pre></p> <p>\u4e0a\u8ff0\u7a0b\u5e8f\u6267\u884c\u65f6\uff0c\u5b83\u4f1a\u4ea7\u751f\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> <pre><code>Opened database successfully\nID =  1\nNAME =  Paul\nADDRESS =  California\nSALARY =  20000.0\n\nID =  2\nNAME =  Allen\nADDRESS =  Texas\nSALARY =  15000.0\n\nID =  3\nNAME =  Teddy\nADDRESS =  Norway\nSALARY =  20000.0\n\nID =  4\nNAME =  Mark\nADDRESS =  Rich-Mond\nSALARY =  65000.0\n\nOperation done successfully\n</code></pre>"},{"location":"backend-sql/07-SQLite-API-Python/#update","title":"UPDATE \u64cd\u4f5c","text":"<p>\u4e0b\u9762\u7684 Python \u4ee3\u7801\u663e\u793a\u4e86\u5982\u4f55\u4f7f\u7528 UPDATE \u8bed\u53e5\u6765\u66f4\u65b0\u4efb\u4f55\u8bb0\u5f55\uff0c\u7136\u540e\u4ece COMPANY \u8868\u4e2d\u83b7\u53d6\u5e76\u663e\u793a\u66f4\u65b0\u7684\u8bb0\u5f55\uff1a</p> <pre><code>#!/usr/bin/python\nimport sqlite3\nconn = sqlite3.connect('test.db')\nc = conn.cursor()\nc.execute(\"UPDATE COMPANY set SALARY = 25000.00 where ID=1\")\nconn.commit()\ncursor = conn.execute(\"SELECT id, name, address, salary  from COMPANY\")\nfor row in cursor:\n   print \"ID = \", row[0]\n   print \"NAME = \", row[1]\n   print \"ADDRESS = \", row[2]\n   print \"SALARY = \", row[3], \"\\n\"\nconn.close()\n</code></pre> <p>\u4e0a\u8ff0\u7a0b\u5e8f\u6267\u884c\u65f6\uff0c\u5b83\u4f1a\u4ea7\u751f\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> <pre><code>Opened database successfully\nTotal number of rows updated : 1\nID =  1\nNAME =  Paul\nADDRESS =  California\nSALARY =  25000.0\n\nID =  2\nNAME =  Allen\nADDRESS =  Texas\nSALARY =  15000.0\n\nID =  3\nNAME =  Teddy\nADDRESS =  Norway\nSALARY =  20000.0\n\nID =  4\nNAME =  Mark\nADDRESS =  Rich-Mond\nSALARY =  65000.0\n\nOperation done successfully\n</code></pre>"},{"location":"backend-sql/07-SQLite-API-Python/#delete","title":"DELETE \u64cd\u4f5c","text":"<p>\u4e0b\u9762\u7684 Python \u4ee3\u7801\u663e\u793a\u4e86\u5982\u4f55\u4f7f\u7528 DELETE \u8bed\u53e5\u5220\u9664\u4efb\u4f55\u8bb0\u5f55\uff0c\u7136\u540e\u4ece COMPANY \u8868\u4e2d\u83b7\u53d6\u5e76\u663e\u793a\u5269\u4f59\u7684\u8bb0\u5f55\uff1a</p> <pre><code>#!/usr/bin/python\nimport sqlite3\nconn = sqlite3.connect('test.db')\nc = conn.cursor()\nc.execute(\"DELETE from COMPANY where ID=2;\")\nconn.commit()\nprint \"Total number of rows deleted :\", conn.total_changes\ncursor = conn.execute(\"SELECT id, name, address, salary  from COMPANY\")\nfor row in cursor:\n   print \"ID = \", row[0]\n   print \"NAME = \", row[1]\n   print \"ADDRESS = \", row[2]\n   print \"SALARY = \", row[3], \"\\n\"\nconn.close()\n</code></pre> <p>\u4e0a\u8ff0\u7a0b\u5e8f\u6267\u884c\u65f6\uff0c\u5b83\u4f1a\u4ea7\u751f\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> <pre><code>Opened database successfully\nTotal number of rows deleted : 1\nID =  1\nNAME =  Paul\nADDRESS =  California\nSALARY =  20000.0\n\nID =  3\nNAME =  Teddy\nADDRESS =  Norway\nSALARY =  20000.0\n\nID =  4\nNAME =  Mark\nADDRESS =  Rich-Mond\nSALARY =  65000.0\n\nOperation done successfully\n</code></pre>"},{"location":"backend-sql/08-%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/","title":"\u8fdb\u7a0b\u548c\u7ebf\u7a0b","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3311  \u9605\u8bfb7\u5206\u949f</p>"},{"location":"backend-sql/08-%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/#_2","title":"\u6982\u5ff5","text":"<p>**\u8fdb\u7a0b\uff08Process\uff09\u548c\u7ebf\u7a0b\uff08Thread\uff09**\u662f\u64cd\u4f5c\u7cfb\u7edf\u5904\u7406\u4efb\u52a1\u7684\u4e00\u4e2a\u5355\u4f4d\u3002\u8fdb\u7a0b\u7c7b\u4f3c\u4e8e\u4efb\u52a1\u7ba1\u7406\u5668\u4e2d\u7684\u7a0b\u5e8f\uff0c\u4f8b\u5982 QQ.exe \u548c chrome.exe\u3002\u4e00\u4e2a\u8fdb\u7a0b\u5305\u542b\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u7ebf\u7a0b\uff0c\u4f8b\u5982 word.exe \u7a0b\u5e8f\u53ef\u4ee5\u540c\u65f6\u5b8c\u6210\u5f88\u591a\u4efb\u52a1\uff0c\u7f16\u8f91\u3001\u4fdd\u5b58\u3001\u8bed\u53e5\u68c0\u67e5\uff0c\u5176\u4e2d\u6bcf\u4e00\u4e2a\u5b50\u4efb\u52a1\u5c31\u662f\u4e00\u4e2a\u7ebf\u7a0b\u3002</p> <p>\u591a\u8fdb\u7a0b\u591a\u7ebf\u7a0b\uff1a\u4e00\u4e2a CPU \u53ef\u4ee5\u5b8c\u6210\u4e00\u4e2a\u8ba1\u7b97\uff0c\u591a\u6838 CPU \u5c31\u53ef\u4ee5\u540c\u65f6\u5b8c\u6210\u591a\u4e2a\u8ba1\u7b97\u3002\u5b9e\u9645\u4e0a\uff0c\u4e0d\u540c\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u4efb\u52a1\u5728 CPU \u4e0a\u5f88\u5feb\u7684\u5207\u6362\uff0c\u6240\u4ee5\u663e\u793a\u4e3a\u591a\u8fdb\u7a0b\u591a\u7ebf\u7a0b\u540c\u65f6\u5904\u7406\u3002\u7ed9\u5355\u4e2a\u8fdb\u7a0b\u5206\u914d\u591a\u5c11\u8d44\u6e90\u548c\u65f6\u95f4\u4e0d\u662f\u7a0b\u5e8f\u51b3\u5b9a\u7684\uff0c\u662f\u64cd\u4f5c\u7cfb\u7edf\u51b3\u5b9a\u7684\u3002\u901a\u5e38\u6709\u4e09\u79cd\u6267\u884c\u4efb\u52a1\u7684\u6a21\u5f0f\uff1a\u591a\u7ebf\u7a0b\u3001\u591a\u8fdb\u7a0b\u3001\u591a\u7ebf\u7a0b\u8fdb\u7a0b\uff0c\u901a\u5e38\u4f7f\u7528\u524d\u4e24\u79cd\u3002\u591a\u4efb\u52a1\u7684\u590d\u6742\u5ea6\u8fdc\u8fdc\u9ad8\u5ea6\u5355\u4efb\u52a1\u3002</p>"},{"location":"backend-sql/08-%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/#_3","title":"\u524d\u7aef\u4f7f\u7528","text":"<p>JS \u901a\u5e38\u53ef\u4ee5\u7406\u89e3\u4e3a\u5355\u7ebf\u7a0b\uff08\u524d\u7aef\u4e0d\u8003\u8651\u5e95\u5c42\u8fdb\u7a0b\u95ee\u9898\uff09\u3002\u4e0d\u540c\u7684\u4efb\u52a1\u653e\u5728\u4e3b\u7ebf\u7a0b\u4e0a\u4f9d\u6b21\u6267\u884c\uff08\u811a\u672c\u8bed\u8a00\u7684\u7279\u5f81\uff09\uff0c\u540c\u65f6\u53ef\u4ee5\u5c06\u56de\u8c03\u51fd\u6570\u6216\u8005\u4e8b\u4ef6\u76d1\u542c\u653e\u5728\u4efb\u52a1\u5e8f\u5217\u4e2d\u5904\u7406\u3002\u5f53\u4e3b\u7ebf\u7a0b\u4efb\u52a1\u6267\u884c\u5b8c\u540e\uff0cJS \u5f15\u64ce\u4f1a\u5904\u7406\u4efb\u52a1\u5e8f\u5217\u7684\u5176\u4ed6\u4efb\u52a1\u3002</p>"},{"location":"backend-sql/08-%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/#_4","title":"\u670d\u52a1\u5668\u4f7f\u7528","text":"<p>\u5982\u679c\u670d\u52a1\u5668\u5355\u8fdb\u7a0b\u5355\u7ebf\u7a0b\uff0c\u90a3\u4e48\u9047\u5230\u9ad8\u5e76\u53d1\u7684\u60c5\u51b5\u5c31\u4e0d\u80fd\u5f88\u597d\u7684\u5904\u7406\uff0c\u6240\u4ee5\u4f7f\u7528\u591a\u8fdb\u7a0b\u3001\u591a\u7ebf\u7a0b\u3001IO \u591a\u8def\u590d\u7528\u7b49\u89e3\u51b3\u3002\u8fdb\u7a0b\u662f\u8d44\u6e90\u5206\u914d\uff08\u5185\u5b58\uff09\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u7ebf\u7a0b\u662f\u7a0b\u5e8f\u6267\u884c\u7684\u6700\u5c0f\u5355\u4f4d\u3002</p>"},{"location":"backend-sql/08-%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/#_5","title":"\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u533a\u522b\uff08\u9762\u8bd5\u9898\uff09","text":"<ul> <li>\u7ebf\u7a0b\u662f\u6700\u5c0f\u7684\u6267\u884c\u5355\u5143\uff0c\u8fdb\u7a0b\u81f3\u5c11\u7531\u4e00\u4e2a\u7ebf\u7a0b\u7ec4\u6210\u3002</li> <li>\u6bcf\u542f\u52a8\u4e00\u4e2a\u8fdb\u7a0b\u9700\u8981\u5f00\u8f9f\u5355\u72ec\u7684\u8d44\u6e90\uff0c\u5efa\u7acb\u6570\u636e\u8868\u7ef4\u62a4\u4ee3\u7801\u5806\u6808\uff0c\u64cd\u4f5c\u76f8\u5f53\u6602\u8d35\u3002\u4e0d\u540c\u7ebf\u7a0b\u95f4\u53ef\u4ee5\u5171\u4eab\u8d44\u6e90\u3002\u6240\u4ee5 CPU \u5728\u7ebf\u7a0b\u95f4\u5207\u6362\u7684\u5f00\u9500\u66f4\u5c0f\uff0c\u7ebf\u7a0b\u4e4b\u95f4\u6570\u636e\u4ea4\u6362\u66f4\u65b9\u4fbf\u3002</li> <li>\u7ebf\u7a0b\u53ef\u4ee5\u4f7f\u7528\u5168\u5c40\u53d8\u91cf\u6216\u8005\u9759\u6001\u53d8\u91cf\u505a\u6570\u636e\u4ea4\u6362\uff0c\u8fdb\u7a0b\u9700\u8981\u7528\u6570\u636e\u901a\u4fe1\u7684\u65b9\u5f0f\uff08IPC\uff09\u8fdb\u884c\u3002</li> <li>\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u4e2d\u53ea\u8981\u4e00\u4e2a\u7ebf\u7a0b\u6b7b\u6389\u6574\u4e2a\u8fdb\u7a0b\u5c31\u4f1a\u6b7b\u6389\uff08\u5171\u540c\u5185\u5b58\uff09\uff0c\u591a\u8fdb\u7a0b\u7a0b\u5e8f\u4e2d\u4e00\u4e2a\u8fdb\u7a0b\u6b7b\u6389\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u3002</li> </ul> <ul> <li>fork is expensive. Memory is copied from the parent to the child, all descriptors are duplicated in the child, and so on. Current implementations use a technique called copy-on-write, which avoids a copy of the parent\u2019s data space to the child until the child needs its own copy. But, regardless of this optimization, fork is expensive.</li> <li>IPC is required to pass information between the parent and child after the fork. Passing information from the parent to the child before the fork is easy, since the child starts with a copy of the parent\u2019s data space and with a copy of all the parent\u2019s descriptors. But, returning information from the child to the parent takes more work.</li> <li>Threads help with both problems. Threads are sometimes called lightweight processes since a thread is \u201clighter weight\u201d than a process. That is, thread creation can be 10\u2013100 times faster than process creation.</li> <li>All threads within a process share the same global memory. This makes the sharing of information easy between the threads, but along with this simplicity comes the problem</li> </ul> <p>\u6458\u81ea\u300aUnix \u7f51\u7edc\u7f16\u7a0b\u300b</p> <p>\u53c2\u8003\u94fe\u63a5</p> <p>https://www.liaoxuefeng.com/wiki/1016959663602400/1017627212385376</p> <p>https://www.cnblogs.com/zhehan54/p/6130030.html</p>"},{"location":"backend-sql/09-%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E7%9A%84%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E8%A7%A3%E9%87%8A/","title":"\u8fdb\u7a0b\u4e0e\u7ebf\u7a0b\u7684\u4e00\u4e2a\u7b80\u5355\u89e3\u91ca","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4008  \u9605\u8bfb9\u5206\u949f</p> <p>\u4f5c\u8005\uff1a \u962e\u4e00\u5cf0</p> <p>\u65e5\u671f\uff1a 2013 \u5e74 4 \u6708 24 \u65e5</p> <p>\u8fdb\u7a0b\uff08process\uff09\u548c\u7ebf\u7a0b\uff08thread\uff09\u662f\u64cd\u4f5c\u7cfb\u7edf\u7684\u57fa\u672c\u6982\u5ff5\uff0c\u4f46\u662f\u5b83\u4eec\u6bd4\u8f83\u62bd\u8c61\uff0c\u4e0d\u5bb9\u6613\u638c\u63e1\u3002</p> <p>\u6700\u8fd1\uff0c\u6211\u8bfb\u5230\u4e00\u7bc7\u6750\u6599\uff0c\u53d1\u73b0\u6709\u4e00\u4e2a\u5f88\u597d\u7684\u7c7b\u6bd4\uff0c\u53ef\u4ee5\u628a\u5b83\u4eec\u89e3\u91ca\u5730\u6e05\u6670\u6613\u61c2\u3002</p> <p>1.</p> <p></p> <p>\u8ba1\u7b97\u673a\u7684\u6838\u5fc3\u662f CPU\uff0c\u5b83\u627f\u62c5\u4e86\u6240\u6709\u7684\u8ba1\u7b97\u4efb\u52a1\u3002\u5b83\u5c31\u50cf\u4e00\u5ea7\u5de5\u5382\uff0c\u65f6\u523b\u5728\u8fd0\u884c\u3002</p> <p>2.</p> <p></p> <p>\u5047\u5b9a\u5de5\u5382\u7684\u7535\u529b\u6709\u9650\uff0c\u4e00\u6b21\u53ea\u80fd\u4f9b\u7ed9\u4e00\u4e2a\u8f66\u95f4\u4f7f\u7528\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e00\u4e2a\u8f66\u95f4\u5f00\u5de5\u7684\u65f6\u5019\uff0c\u5176\u4ed6\u8f66\u95f4\u90fd\u5fc5\u987b\u505c\u5de5\u3002\u80cc\u540e\u7684\u542b\u4e49\u5c31\u662f\uff0c\u5355\u4e2a CPU \u4e00\u6b21\u53ea\u80fd\u8fd0\u884c\u4e00\u4e2a\u4efb\u52a1\u3002</p> <p>3.</p> <p></p> <p>\u8fdb\u7a0b\u5c31\u597d\u6bd4\u5de5\u5382\u7684\u8f66\u95f4\uff0c\u5b83\u4ee3\u8868 CPU \u6240\u80fd\u5904\u7406\u7684\u5355\u4e2a\u4efb\u52a1\u3002\u4efb\u4e00\u65f6\u523b\uff0cCPU \u603b\u662f\u8fd0\u884c\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u5176\u4ed6\u8fdb\u7a0b\u5904\u4e8e\u975e\u8fd0\u884c\u72b6\u6001\u3002</p> <p>4.</p> <p></p> <p>\u4e00\u4e2a\u8f66\u95f4\u91cc\uff0c\u53ef\u4ee5\u6709\u5f88\u591a\u5de5\u4eba\u3002\u4ed6\u4eec\u534f\u540c\u5b8c\u6210\u4e00\u4e2a\u4efb\u52a1\u3002</p> <p>5.</p> <p></p> <p>\u7ebf\u7a0b\u5c31\u597d\u6bd4\u8f66\u95f4\u91cc\u7684\u5de5\u4eba\u3002\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u5305\u62ec\u591a\u4e2a\u7ebf\u7a0b\u3002</p> <p>6.</p> <p></p> <p>\u8f66\u95f4\u7684\u7a7a\u95f4\u662f\u5de5\u4eba\u4eec\u5171\u4eab\u7684\uff0c\u6bd4\u5982\u8bb8\u591a\u623f\u95f4\u662f\u6bcf\u4e2a\u5de5\u4eba\u90fd\u53ef\u4ee5\u8fdb\u51fa\u7684\u3002\u8fd9\u8c61\u5f81\u4e00\u4e2a\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4\u662f\u5171\u4eab\u7684\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u5171\u4eab\u5185\u5b58\u3002</p> <p>7.</p> <p></p> <p>\u53ef\u662f\uff0c\u6bcf\u95f4\u623f\u95f4\u7684\u5927\u5c0f\u4e0d\u540c\uff0c\u6709\u4e9b\u623f\u95f4\u6700\u591a\u53ea\u80fd\u5bb9\u7eb3\u4e00\u4e2a\u4eba\uff0c\u6bd4\u5982\u5395\u6240\u3002\u91cc\u9762\u6709\u4eba\u7684\u65f6\u5019\uff0c\u5176\u4ed6\u4eba\u5c31\u4e0d\u80fd\u8fdb\u53bb\u4e86\u3002\u8fd9\u4ee3\u8868\u4e00\u4e2a\u7ebf\u7a0b\u4f7f\u7528\u67d0\u4e9b\u5171\u4eab\u5185\u5b58\u65f6\uff0c\u5176\u4ed6\u7ebf\u7a0b\u5fc5\u987b\u7b49\u5b83\u7ed3\u675f\uff0c\u624d\u80fd\u4f7f\u7528\u8fd9\u4e00\u5757\u5185\u5b58\u3002</p> <p>8.</p> <p></p> <p>\u4e00\u4e2a\u9632\u6b62\u4ed6\u4eba\u8fdb\u5165\u7684\u7b80\u5355\u65b9\u6cd5\uff0c\u5c31\u662f\u95e8\u53e3\u52a0\u4e00\u628a\u9501\u3002\u5148\u5230\u7684\u4eba\u9501\u4e0a\u95e8\uff0c\u540e\u5230\u7684\u4eba\u770b\u5230\u4e0a\u9501\uff0c\u5c31\u5728\u95e8\u53e3\u6392\u961f\uff0c\u7b49\u9501\u6253\u5f00\u518d\u8fdb\u53bb\u3002\u8fd9\u5c31\u53eb\"\u4e92\u65a5\u9501\"\uff08Mutual exclusion\uff0c\u7f29\u5199 Mutex\uff09\uff0c\u9632\u6b62\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8bfb\u5199\u67d0\u4e00\u5757\u5185\u5b58\u533a\u57df\u3002</p> <p>9.</p> <p></p> <p>\u8fd8\u6709\u4e9b\u623f\u95f4\uff0c\u53ef\u4ee5\u540c\u65f6\u5bb9\u7eb3 n \u4e2a\u4eba\uff0c\u6bd4\u5982\u53a8\u623f\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u4eba\u6570\u5927\u4e8e n\uff0c\u591a\u51fa\u6765\u7684\u4eba\u53ea\u80fd\u5728\u5916\u9762\u7b49\u7740\u3002\u8fd9\u597d\u6bd4\u67d0\u4e9b\u5185\u5b58\u533a\u57df\uff0c\u53ea\u80fd\u4f9b\u7ed9\u56fa\u5b9a\u6570\u76ee\u7684\u7ebf\u7a0b\u4f7f\u7528\u3002</p> <p>10.</p> <p></p> <p>\u8fd9\u65f6\u7684\u89e3\u51b3\u65b9\u6cd5\uff0c\u5c31\u662f\u5728\u95e8\u53e3\u6302 n \u628a\u94a5\u5319\u3002\u8fdb\u53bb\u7684\u4eba\u5c31\u53d6\u4e00\u628a\u94a5\u5319\uff0c\u51fa\u6765\u65f6\u518d\u628a\u94a5\u5319\u6302\u56de\u539f\u5904\u3002\u540e\u5230\u7684\u4eba\u53d1\u73b0\u94a5\u5319\u67b6\u7a7a\u4e86\uff0c\u5c31\u77e5\u9053\u5fc5\u987b\u5728\u95e8\u53e3\u6392\u961f\u7b49\u7740\u4e86\u3002\u8fd9\u79cd\u505a\u6cd5\u53eb\u505a\"\u4fe1\u53f7\u91cf\"\uff08Semaphore\uff09\uff0c\u7528\u6765\u4fdd\u8bc1\u591a\u4e2a\u7ebf\u7a0b\u4e0d\u4f1a\u4e92\u76f8\u51b2\u7a81\u3002</p> <p>\u4e0d\u96be\u770b\u51fa\uff0cmutex \u662f semaphore \u7684\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\uff08n=1 \u65f6\uff09\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b8c\u5168\u53ef\u4ee5\u7528\u540e\u8005\u66ff\u4ee3\u524d\u8005\u3002\u4f46\u662f\uff0c\u56e0\u4e3a mutex \u8f83\u4e3a\u7b80\u5355\uff0c\u4e14\u6548\u7387\u9ad8\uff0c\u6240\u4ee5\u5728\u5fc5\u987b\u4fdd\u8bc1\u8d44\u6e90\u72ec\u5360\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd8\u662f\u91c7\u7528\u8fd9\u79cd\u8bbe\u8ba1\u3002</p> <p>11.</p> <p></p> <p>\u64cd\u4f5c\u7cfb\u7edf\u7684\u8bbe\u8ba1\uff0c\u56e0\u6b64\u53ef\u4ee5\u5f52\u7ed3\u4e3a\u4e09\u70b9\uff1a</p> <p>\uff081\uff09\u4ee5\u591a\u8fdb\u7a0b\u5f62\u5f0f\uff0c\u5141\u8bb8\u591a\u4e2a\u4efb\u52a1\u540c\u65f6\u8fd0\u884c\uff1b</p> <p>\uff082\uff09\u4ee5\u591a\u7ebf\u7a0b\u5f62\u5f0f\uff0c\u5141\u8bb8\u5355\u4e2a\u4efb\u52a1\u5206\u6210\u4e0d\u540c\u7684\u90e8\u5206\u8fd0\u884c\uff1b</p> <p>\uff083\uff09\u63d0\u4f9b\u534f\u8c03\u673a\u5236\uff0c\u4e00\u65b9\u9762\u9632\u6b62\u8fdb\u7a0b\u4e4b\u95f4\u548c\u7ebf\u7a0b\u4e4b\u95f4\u4ea7\u751f\u51b2\u7a81\uff0c\u53e6\u4e00\u65b9\u9762\u5141\u8bb8\u8fdb\u7a0b\u4e4b\u95f4\u548c\u7ebf\u7a0b\u4e4b\u95f4\u5171\u4eab\u8d44\u6e90\u3002</p> <p>\uff08\u5b8c\uff09</p>"},{"location":"backend-sql/10-Mysql%E8%A7%86%E5%9B%BE/","title":"Mysql \u4e2d\u7684\u89c6\u56fe","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2739  \u9605\u8bfb6\u5206\u949f</p> <p>\u89c6\u56fe\u662f\u57fa\u4e8e\u4e00\u4e2a\u6216\u591a\u4e2a\u57fa\u672c\u8868\u7684\u67e5\u8be2\u7ed3\u679c\u7684\u865a\u62df\u8868\u3002\u5b83\u662f\u4e00\u4e2a\u903b\u8f91\u6982\u5ff5\uff0c\u4e0d\u5b9e\u9645\u5b58\u50a8\u6570\u636e\uff0c\u4f46\u53ef\u4ee5\u50cf\u57fa\u672c\u8868\u4e00\u6837\u4f7f\u7528\u3002\u89c6\u56fe\u662f\u901a\u8fc7 SELECT \u8bed\u53e5\u521b\u5efa\u7684\uff0c\u5e76\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u67e5\u8be2\u3001\u63d2\u5165\u3001\u66f4\u65b0\u548c\u5220\u9664\u7b49\u64cd\u4f5c\u3002</p> <p>\u89c6\u56fe\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u7b80\u5316\u590d\u6742\u67e5\u8be2\u548c\u4fdd\u62a4\u6570\u636e\u7684\u5b89\u5168\u6027\u3002\u901a\u8fc7\u521b\u5efa\u89c6\u56fe\uff0c\u53ef\u4ee5\u9690\u85cf\u5e95\u5c42\u8868\u7ed3\u6784\u548c\u6570\u636e\uff0c\u53ea\u66b4\u9732\u9700\u8981\u7684\u4fe1\u606f\u7ed9\u7528\u6237\u3002\u89c6\u56fe\u8fd8\u53ef\u4ee5\u5c06\u591a\u4e2a\u8868\u7684\u6570\u636e\u5408\u5e76\u5230\u4e00\u4e2a\u865a\u62df\u8868\u4e2d\uff0c\u7b80\u5316\u67e5\u8be2\u64cd\u4f5c\u3002</p> <p>1\u3001\u7279\u70b9</p> <ul> <li>\u4e0d\u5b58\u50a8\u5b9e\u9645\u6570\u636e\uff0c\u53ea\u4fdd\u5b58\u67e5\u8be2\u5b9a\u4e49</li> <li>\u53ef\u4ee5\u50cf\u57fa\u672c\u8868\u4e00\u6837\u4f7f\u7528\uff0c\u8fdb\u884c<code>CRUD</code>\u64cd\u4f5c</li> <li>\u53ef\u4ee5\u7b80\u5316\u590d\u6742\u67e5\u8be2\u548c\u4fdd\u62a4\u6570\u636e\u5b89\u5168</li> </ul> <p>2\u3001\u4f18\u70b9</p> <p>\u7b80\u5316\u67e5\u8be2\uff1a\u901a\u8fc7\u521b\u5efa\u89c6\u56fe\uff0c\u53ef\u4ee5\u5c06\u590d\u6742\u7684\u67e5\u8be2\u64cd\u4f5c\u5c01\u88c5\u6210\u4e00\u4e2a\u7b80\u5355\u7684\u67e5\u8be2\u8bed\u53e5\uff0c\u5e76\u4e14\u53ef\u4ee5\u91cd\u590d\u4f7f\u7528\u3002</p> <p>\u6570\u636e\u5b89\u5168\uff1a\u901a\u8fc7\u89c6\u56fe\uff0c\u53ef\u4ee5\u9690\u85cf\u5e95\u5c42\u8868\u7684\u7ed3\u6784\u548c\u6570\u636e\uff0c\u53ea\u66b4\u9732\u5fc5\u8981\u7684\u4fe1\u606f\u7ed9\u7528\u6237\u3002\u53ef\u4ee5\u7ed9\u7528\u6237\u6388\u4e88\u5bf9\u89c6\u56fe\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u800c\u4e0d\u76f4\u63a5\u8bbf\u95ee\u57fa\u672c\u8868\uff0c\u4ece\u800c\u63d0\u9ad8\u6570\u636e\u7684\u5b89\u5168\u6027\u3002</p> <p>\u6570\u636e\u4e00\u81f4\u6027\uff1a\u901a\u8fc7\u89c6\u56fe\uff0c\u53ef\u4ee5\u5c06\u591a\u4e2a\u76f8\u5173\u7684\u8868\u7684\u6570\u636e\u5408\u5e76\u5230\u4e00\u4e2a\u865a\u62df\u8868\u4e2d\uff0c\u4fdd\u8bc1\u4e86\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002</p> <p>3\u3001\u7f3a\u70b9</p> <p>\u67e5\u8be2\u6548\u7387\uff1a\u89c6\u56fe\u7684\u67e5\u8be2\u6548\u7387\u53ef\u80fd\u4f1a\u4f4e\u4e8e\u76f4\u63a5\u67e5\u8be2\u57fa\u672c\u8868\uff0c\u56e0\u4e3a\u89c6\u56fe\u9700\u8981\u5728\u67e5\u8be2\u65f6\u52a8\u6001\u751f\u6210\u7ed3\u679c\u3002</p> <p>\u66f4\u65b0\u9650\u5236\uff1a\u7531\u4e8e\u89c6\u56fe\u662f\u57fa\u4e8e\u57fa\u672c\u8868\u7684\u67e5\u8be2\u7ed3\u679c\uff0c\u5bf9\u89c6\u56fe\u7684\u66f4\u65b0\u64cd\u4f5c\u53ef\u80fd\u4f1a\u53d7\u5230\u9650\u5236\u3002\u4f8b\u5982\uff0c\u89c6\u56fe\u4e2d\u4f7f\u7528\u4e86\u805a\u5408\u51fd\u6570\u6216 GROUP BY \u5b50\u53e5\uff0c\u5219\u4e0d\u80fd\u5bf9\u89c6\u56fe\u8fdb\u884c\u66f4\u65b0\u3002</p> <p>\u5b58\u50a8\u7a7a\u95f4\uff1a\u867d\u7136\u89c6\u56fe\u4e0d\u5b58\u50a8\u5b9e\u9645\u6570\u636e\uff0c\u4f46\u662f\u9700\u8981\u5360\u7528\u4e00\u5b9a\u7684\u5b58\u50a8\u7a7a\u95f4\u6765\u4fdd\u5b58\u67e5\u8be2\u5b9a\u4e49\u3002</p> <p>4\u3001\u7528\u9014</p> <p>\u7b80\u5316\u590d\u6742\u67e5\u8be2\uff1a\u901a\u8fc7\u5c06\u590d\u6742\u7684\u67e5\u8be2\u903b\u8f91\u5c01\u88c5\u5230\u89c6\u56fe\u4e2d\uff0c\u53ef\u4ee5\u7b80\u5316\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u67e5\u8be2\u64cd\u4f5c\u3002</p> <p>\u6570\u636e\u5b89\u5168\u6027\uff1a\u89c6\u56fe\u53ef\u4ee5\u9650\u5236\u7528\u6237\u5bf9\u5e95\u5c42\u8868\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u4ece\u800c\u63d0\u4f9b\u66f4\u9ad8\u7684\u6570\u636e\u5b89\u5168\u6027\u548c\u9690\u79c1\u4fdd\u62a4\u3002</p> <p>\u6570\u636e\u62bd\u8c61\u548c\u5c01\u88c5\uff1a\u901a\u8fc7\u89c6\u56fe\uff0c\u53ef\u4ee5\u5c06\u591a\u4e2a\u8868\u7684\u6570\u636e\u62bd\u8c61\u4e3a\u4e00\u4e2a\u865a\u62df\u8868\uff0c\u7b80\u5316\u6570\u636e\u6a21\u578b\u548c\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u3002</p> <p>\u6027\u80fd\u4f18\u5316\uff1a\u89c6\u56fe\u53ef\u4ee5\u9884\u5148\u8ba1\u7b97\u548c\u5b58\u50a8\u7ed3\u679c\u96c6\uff0c\u4ee5\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\uff0c\u5e76\u907f\u514d\u91cd\u590d\u6267\u884c\u590d\u6742\u67e5\u8be2\u3002</p>"},{"location":"backend-sql/10-Mysql%E8%A7%86%E5%9B%BE/#_1","title":"\u57fa\u672c\u4f7f\u7528","text":"<p>\u89c6\u56fe\u7684\u589e\u5220\u548c\u8868\u7c7b\u4f3c</p> <pre><code>CREATE VIEW view_name AS\nSELECT column1, column2\nFROM table1, table2\nWHERE conditions;\n</code></pre> <p>\u6848\u4f8b</p> <pre><code>create table t(quantity int, price int);\n\ninsert into t values (3,50);\n\ncreate view view_t as select quantity,price,quantity*price from t;\n\nselect * from view_t;\n\nCREATE VIEW view_t2(qty,price,total) AS SELECT quantity,price,quantity*price FROM t;\n</code></pre>"},{"location":"backend-sql/10-Mysql%E8%A7%86%E5%9B%BE/#_2","title":"\u53c2\u8003\u94fe\u63a5","text":"<p>https://blog.csdn.net/qq_21891743/article/details/132590386</p> <p>https://blog.csdn.net/2301_78341899/article/details/131533874</p>"},{"location":"backend-sql/20-%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/","title":"\u5982\u4f55\u81ea\u5b66 MySQL \u6570\u636e\u5e93","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9958  \u9605\u8bfb20\u5206\u949f</p> <p>2021-07-23</p>"},{"location":"backend-sql/20-%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#mysql_1","title":"MySQL \u77e5\u8bc6\u4f53\u7cfb","text":"<p>\u57fa\u7840\uff1a</p> <ul> <li>sql \u8bed\u53e5</li> <li>\u8868\u7ed3\u6784\u8bbe\u8ba1</li> </ul> <p>\u8c03\u4f18\uff1a</p> <ul> <li>\u7d22\u5f15\u3001\u6162\u67e5\u8be2\u4f18\u5316</li> <li>\u914d\u7f6e\u53c2\u6570\u8c03\u4f18</li> </ul> <p>\u6838\u5fc3\u539f\u7406\uff1a</p> <ul> <li>InnoDb \u5b58\u50a8\u5f15\u64ce \uff08\u5305\u62ec\u9694\u79bb\u7ea7\u522b\u3001\u4e8b\u52a1\u3001\u9501\u3001\u7f13\u5b58\u6c60\u3001\u56de\u6eda\u65e5\u5fd7\u7b49\u7b49\uff09</li> <li>Mysqld (\u5305\u62ec\u8fde\u63a5\u7ba1\u7406\u3001\u8fdb\u7a0b\u7ba1\u7406\u3001\u67e5\u8be2\u7f13\u5b58\u3001\u67e5\u8be2\u4f18\u5316\u3001\u65e5\u5fd7\u7b49\u7b49)</li> </ul> <p>\u67b6\u6784\u4e0e\u8fd0\u7ef4\uff1a</p> <ul> <li>\u7528\u6237\u4e0e\u6743\u9650\u3001\u5b89\u5168</li> <li>\u5907\u4efd\u4e0e\u6062\u590d</li> <li>\u65e5\u5fd7</li> <li>\u5206\u5e03\u5f0f\u4e0e\u9ad8\u53ef\u7528</li> </ul>"},{"location":"backend-sql/20-%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#mysql_2","title":"MySQL \u96f6\u57fa\u7840\u56fe\u89e3","text":"<p>\u9996\u5148\uff0c\u5b66\u4e60\u57fa\u672c\u7684 SQL \u8bed\u6cd5\u3002\u4f60\u5c31\u53ef\u4ee5\u7f16\u5199 SQL \u8bed\u53e5\u4e86\u3002\u63a8\u8350\uff1aW3Schools \u7684 SQL \u6559\u7a0b\u3002</p> <p>\u5176\u6b21\uff0c\u5b66\u4e60\u6570\u636e\u5e93\u7684\u4e3b\u8981\u529f\u80fd\u548c\u4f7f\u7528\u65b9\u6cd5\uff0c\u6bd4\u5982\u7528\u6237\u76f8\u5173\u6216\u8005\u6743\u9650\u76f8\u5173\u7b49\u7b49\u3002</p> <p>\u6211\u63a8\u8350\u4e24\u672c\u4e66\uff1a</p> <p>\u4e00\u3001\u300aMySQL \u5fc5\u77e5\u5fc5\u4f1a\u300b \u8fd9\u672c\u4e66\u8bb2\u7684\u975e\u5e38\u5168\uff0c\u4ece\u57fa\u672c\u6982\u5ff5\uff0c\u5230\u67e5\u8be2\u5230\u63d2\u5165\u65b0\u5efa\u8868\uff0c\u7528\u6237\u7684\u7ba1\u7406\uff0c\u90fd\u6709\u5177\u4f53\u7684\u4f8b\u5b50\uff0c\u975e\u5e38\u9002\u5408\u6ca1\u6709\u4efb\u4f55\u57fa\u7840\u7684\u540c\u5b66\u6765\u5b66\u4e60 Mysql\uff0c\u603b\u4e4b\u8fd9\u672c\u4e66\u5b66\u4e60\u7684\u65b9\u6cd5\u5c31\u662f\uff1a1\u3001\u5341\u5206\u949f\u4e86\u89e3\u4e0b\u6570\u636e\u5e93\u7684\u57fa\u672c\u6982\u5ff5 2\u3001\u627e\u5230\u7ec3\u624b\u7684\u6570\u636e\u5e93 3\u3001\u5bf9\u7167\u7740\u4e0a\u9762\u7684\u5185\u5bb9\u53bb\u6572\u3002\u672c\u4e66\u91cc\u4e5f\u6709\u5927\u91cf\u7684\u5185\u5bb9\u662f\u8bb2 sql \u7684\uff0c\u53ef\u4ee5\u7ed3\u5408 w3c \u7684 sql \u6559\u7a0b\u4e00\u8d77\uff0c\u6709\u53d6\u820d\u5730\u770b\u3002</p> <p>\u4e8c\u3001\u300a\u6570\u636e\u5e93\u7cfb\u7edf\u6982\u5ff5\u300b\u8fd9\u672c\u4e66\u662f dba \u5fc5\u770b\u7684\u3002</p> <p>\u770b\u5b8c\u8fd9\u4e9b\u5e76\u4e14\u5b9e\u8df5+\u601d\u8003\u4e4b\u540e\uff0c\u53ef\u4ee5\u7b97\u5165\u95e8\u4e86\u3002</p>"},{"location":"backend-sql/20-%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#mysql_3","title":"MySQL \u6df1\u5165\u5b66\u4e60","text":"<p>\u6211\u63a8\u8350\u51e0\u672c\u4e66\uff08\u5f88\u591a\u5927\u795e\u90fd\u8fd9\u4e48\u63a8\u8350\uff09\uff0c\u300a\u9ad8\u6027\u80fd MySQL(\u7b2c 3 \u7248)\u300b\u3001 \u300aMySQL \u6280\u672f\u5185\u5e55(\u7b2c 4 \u7248)\u300b\uff0c\u300aMySQL \u6280\u672f\u5185\u5e55 InnoDB \u5b58\u50a8\u5f15\u64ce\u300b\uff0c\u300a\u6df1\u5165\u7406\u89e3 MySQL\u300b\u8fd8\u6709 Mysql \u7684\u5b98\u7f51\u3002\u8bfb\u5b8c\u8fd9\u4e9b\u4e1c\u897f\uff0c\u518d\u52a0\u4e9b\u4e30\u5bcc\u7684\u7ecf\u9a8c\uff0c\u7406\u8bba\u4e0a\u6765\u8bb2\u5c31\u5177\u5907 DBA \u7684\u6c34\u5e73\u4e86\u3002</p> <p>\u5341\u5206\u63a8\u8350\u9605\u8bfbPlanet MySQL\u4e0a\u6c47\u603b\u7684\u535a\u5ba2\uff0c\u7279\u522b\u662fPercona's MySQL &amp; InnoDB performance and scalability blog.</p> <p>\u6211\u95ee\u4f60\uff0c\u9762\u5bf9\u4e00\u4e2a\u5e76\u53d1\u91cf\u6bd4\u8f83\u9ad8\u7684\u573a\u666f\uff0c\u5982\u4f55\u914d\u7f6e mysql \u7684\u8fde\u63a5\u6570\uff1f</p> <p>\u4f60\u53ef\u80fd\u4f1a\u56de\u7b54\uff1a\u201c\u54e6\uff0c\u5c31\u662f\u8c03\u9ad8 max_connection \u7684\u6570\u503c\u5427\u3002\u201d</p> <p>\u90a3\uff0c\u4f60\u6709\u6ca1\u6709\u601d\u8003\u8fc7\u8c03\u5230\u591a\u5c11\u662f\u6700\u5408\u9002\u7684\u5462\uff1f\u4e3a\u4ec0\u4e48\u8fd9\u6837\u8bbe\u7f6e\u5c31\u6700\u5408\u9002\u5462\uff1f</p> <p>\u4e5f\u8bb8\u4f60\u4f1a\u56de\u7b54\uff1a\u201c\u6069\u6211\u77e5\u9053\uff0c\u53ef\u4ee5\u770b\u7cfb\u7edf\u4e4b\u524d\u7684 max_used_connection \u7684\u6570\u503c\uff0c\u7136\u540e\u6765\u8bbe\u7f6e\u3002\u4e5f\u53ef\u4ee5\u8c03\u9ad8 back_log \u7684\u503c\u3002\u201d</p> <p>\u90a3\u4f60\u6709\u6ca1\u6709\u601d\u8003\u8fc7\uff0cmax_connection \u8fde\u63a5\u6570\u592a\u9ad8\u4f1a\u6709\u4ec0\u4e48\u4e0d\u597d\u7684\u5f71\u54cd\u5462\uff1fback_log \u8bbe\u7f6e\u7684\u592a\u9ad8\u6709\u4ec0\u4e48\u4e0d\u597d\u7684\u5730\u65b9\u5462\uff1fmax_connect \u7684\u4e0a\u9650\u5176\u5b9e\u662f\u53d6\u51b3\u4e8e mysql \u80fd\u83b7\u5f97\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u6570\u91cf\uff0c\u4e5f\u5c31\u662f\u8bf4\u4f60\u5c31\u7b97\u8bbe\u7f6e\u6210 10000\uff0c\u6700\u540e\u4e5f\u662f\u6ca1\u7528\u7684\uff0c\u7cfb\u7edf\u4f1a\u6839\u636e\u673a\u5668\u7684\u60c5\u51b5\u81ea\u52a8\u8c03\u4f4e\u3002</p> <p>\u4e5f\u8bb8\u4f60\u4f1a\u56de\u7b54\uff1a\u201c\u6069\u6211\u77e5\u9053\uff0c\u8bbe\u7f6e\u592a\u9ad8\uff0c\u4f1a\u6709\u7cfb\u7edf\u5f00\u9500...\u201d</p> <p>\u90a3\u4f60\u6709\u6ca1\u6709\u601d\u8003\u8fc7\uff0c\u8fd9\u4e9b\u5f00\u9500\u5177\u4f53\u662f\u4ec0\u4e48\u5462\uff1f\u662f\u4ec0\u4e48\u5de5\u4f5c\u5bfc\u81f4\u4e86\u9700\u8981\u8fd9\u4e9b\u5185\u5b58\u5f00\u9500\uff1f</p> <p>\u4e5f\u8bb8\u4f60\u8fd8\u4f1a\u56de\u7b54\uff0c\u5728\u8fde\u63a5\u521b\u5efa\u7684\u65f6\u5019\uff0c\u4f1a\u7acb\u523b\u4e3a\u5b83\u5206\u914d\u8fde\u63a5\u7f13\u51b2\u533a\u4ee5\u53ca\u67e5\u8be2\u7f13\u51b2\u533a\uff0c\u8fd9\u4e9b\u90fd\u4f1a\u5403\u5185\u5b58\u3002</p> <p>\u90a3\u4f60\u6709\u6ca1\u6709\u601d\u8003\u8fc7\uff0c\u5360\u636e\u7684\u8d44\u6e90\u5177\u4f53\u662f\u591a\u5c11\u5462\uff1f\u53d6\u51b3\u4e8e\u54ea\u4e9b\u56e0\u7d20\u5462\uff1f</p> <p>\u5982\u4f55\u81ea\u5b66 mysql? \u4f60\u5fc5\u987b\u4e0d\u65ad\u601d\u8003\uff0c\u624d\u80fd\u5728\u5de5\u4f5c\u4e2d\u9762\u5bf9\u5177\u4f53\u573a\u666f\u7684\u65f6\u5019\uff0c\u975e\u5e38\u6de1\u5b9a\u5730\u63a8\u65ad\uff1a\u201c\u54e6\uff0c\u4e00\u5b9a\u662f\u8fd9\u91cc\u51fa\u4e86\u95ee\u9898\u3002\u5e94\u8be5\u600e\u4e48\u600e\u4e48\u505a\u3002\u201d</p> <p>\u9762\u5bf9\u95ee\u9898\uff0c\u62ff\u51fa\u6253\u7834\u7802\u9505\u95ee\u5230\u5e95\u7684\u7cbe\u795e\uff0c\u5148\u601d\u8003\u4e00\u756a\uff0c\u7ed9\u51fa\u81ea\u5df1\u7684\u5047\u8bbe\uff0c\u4e0d\u8981\u7740\u6025\u5730\u53bb\u627e\u5ea6\u5a18\uff0c\u8c37\u6b4c\u3002\u601d\u8003\u8fc7\u540e\uff0c\u5e26\u7740\u4f60\u7684\u63a8\u65ad\u6216\u8005\u7b54\u6848\uff0c\u5927\u80c6\u5730\u53bb\u641c\u7d22\u5427\uff01\u53bb\u770b\u770b\u522b\u4eba\u7684\u89c1\u89e3\uff0c\u53bb\u770b\u770b\u5b98\u65b9\u7684\u63cf\u8ff0\uff01</p> <p>\u8fd9\u624d\u662f\u4e00\u4e2a\u5de5\u7a0b\u5e08\u5e94\u6709\u7684\u6001\u5ea6\u3002</p>"},{"location":"backend-sql/20-%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_1","title":"\u5b66\u4e60\u8d44\u6599","text":""},{"location":"backend-sql/20-%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_2","title":"\u7535\u5b50\u4e66","text":"<p>\u6211\u8ba4\u4e3a\u591a\u770b\u4e66\u8fd8\u662f\u6709\u597d\u5904\u7684\u3002\u6709\u4e9b\u4e66\u503c\u5f97\u53cd\u590d\u770b\u8bb8\u591a\u904d\uff0c\u6709\u65f6\u5019\u53ea\u770b\u4e00\u904d\u65e0\u6cd5\u6df1\u523b\u7406\u89e3\u5438\u6536\uff0c\u601d\u8003\u4e5f\u4e0d\u591f\u5145\u5206\u3002</p> <p>\u7535\u5b50\u4e66\u4e0b\u8f7d\u4f20\u9001\u95e8</p> <ul> <li>\u300amysql \u5fc5\u77e5\u5fc5\u4f1a\u300b</li> <li>\u300a\u9ad8\u6027\u80fd mysql \u7b2c\u4e09\u7248\u300b</li> <li>\u300a\u6570\u636e\u5e93\u7cfb\u7edf\u6982\u5ff5\u300b</li> <li>\u300a\u6df1\u5165\u7406\u89e3 MySQL\u300b</li> <li>\u300aMySQL \u6027\u80fd\u8c03\u4f18\u4e0e\u67b6\u6784\u8bbe\u8ba1--\u5168\u518c\u300b</li> <li>\u300aSQL Antipatterns\u300b</li> <li>\u300aMySQL \u6280\u672f\u5185\u5e55 InnoDB \u5b58\u50a8\u5f15\u64ce\u300b</li> </ul>"},{"location":"backend-sql/20-%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_3","title":"\u5b66\u4e60\u7f51\u7ad9","text":"<p>MySQL Tutorial - Learn MySQL Fast, Easy and Fun.</p> <p>\u53ef\u4ee5\u5feb\u901f\uff0c\u7b80\u5355\u548c\u6709\u8da3\u7684\u5b66\u4e60 MySQL\u3002\u4ee5\u7b80\u5355\u6613\u61c2\u7684\u65b9\u5f0f\u4e3a\u60a8\u63d0\u4f9b\u5b8c\u6574\u7684 MySQL \u6559\u7a0b\u3002\u6bcf\u4e2a\u6559\u7a0b\u90fd\u6709 SQL \u811a\u672c\u548c\u53ef\u7528\u5c4f\u5e55\u622a\u56fe\u7684\u5b9e\u9645\u793a\u4f8b\u3002</p> <p>mysql \u5b66\u4e60\u8d44\u6599 | mysql \u6df1\u5165\u5b66\u4e60\u7b14\u8bb0 \u6df1\u5ea6\u7b14\u8bb0</p> <p>\u6709\u5f88\u591a mysql \u7684\u8d44\u6599\u53ef\u4ee5\u770b\uff0c\u8fd8\u53ef\u4ee5\u770b\u7f51\u53cb\u505a\u7684\u5b66\u4e60\u7b14\u8bb0\u3002</p> <p>W3Schools SQL \u6559\u7a0b</p> <p>\u53ef\u4ee5\u5b66\u4e60\u57fa\u7840\u7684 sql \u8bed\u53e5</p>"},{"location":"backend-sql/20-%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_4","title":"\u5b98\u65b9\u624b\u518c","text":"<p>\u65e0\u8bba\u82f1\u6587\u597d\u4e0d\u597d\uff0c\u770b\u82f1\u6587\u624b\u518c\u7684\u80fd\u529b\u662f\u4e00\u5b9a\u8981\u6709\uff0c\u4e5f\u4e00\u5b9a\u8981\u57f9\u517b\u7684\u3002</p> <p>mysql \u5b98\u65b9\u624b\u518c\uff1a14 The InnoDB Storage Engine</p>"},{"location":"backend-sql/20-%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_5","title":"\u5927\u725b\u535a\u5ba2","text":"<p>\u9886\u57df\u4e13\u5bb6\u7684\u535a\u5ba2\u662f\u5341\u5206\u5177\u6709\u5b66\u4e60\u4ef7\u503c\u7684\uff0c\u4e0b\u9762\u5217\u4e3e\u51e0\u4e2a\u6bd4\u8f83\u597d\u7684\uff1a</p> <p>\u4f55\u767b\u6210\u7684\u6280\u672f\u535a\u5ba2 \u4f55\u767b\u6210\u7684\u6280\u672f\u535a\u5ba2</p> <p>\u6dd8\u5b9d\u4e01\u5947 \u8ffd\u98ce\u5200\u00b7\u4e01\u5947 - ITeye \u6280\u672f\u7f51\u7ad9</p> <p>\u5468\u632f\u5174@\u6dd8\u5b9d \u82b1\u540d\uff1a\u82cf\u666e \u4e00\u4e2a\u6545\u4e8b@MySQL DBA</p> <p>\u963f\u91cc\u4e91\u6570\u636e\u5e93\u9ad8\u7ea7\u4e13\u5bb6\u5f6d\u7acb\u52cb\u4e3a MariaDB Foundation \u6b63\u5f0f\u6210\u5458\uff0c\u8d1f\u8d23\u5168\u7403 Replication \u6a21\u5757\u76f8\u5173\u8865\u4e01\u7684 Review\u3002\u5f6d\u7acb\u52cb\u4e5f\u6210\u4e3a\u9996\u4f4d\u88ab MariaDB \u57fa\u91d1\u4f1a\u5f15\u5165\u7684\u4e2d\u56fd\u7a0b\u5e8f\u5458\u3002P.Linux Laboratory</p> <p>Planet MySQL</p>"},{"location":"backend-sql/20-%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#mysql_4","title":"\u8f6c\u884c\u81ea\u5b66 MySQL \u6570\u636e\u5e93","text":"<p>\u672c\u4eba\u662f\u4e2a\u6d3b\u751f\u751f\u7684\u4f8b\u5b50\uff0c\u5927\u5b66\u5b66\u7684\u4eea\u5668\u4eea\u8868\u4e13\u4e1a\uff0c\u6bd5\u4e1a\u524d\u7b2c\u4e00\u4efd\u5b9e\u4e60\u5de5\u4f5c\u662f\u7535\u8def\u677f\u6d4b\u8bd5\u30020 \u57fa\u7840\u81ea\u5b66 mysql \u548c linux\uff0c\u73b0\u4efb\u56fd\u5185\u67d0\u516c\u6709\u4e91 mysql &amp;&amp;mongodb dba\u3002</p> <p>\u5bf9\u4e8e\u975e\u8ba1\u7b97\u673a\u51fa\u8eab\u7684\u6211\uff0c\u5927\u5b66\u53ea\u4f1a hello word \u548c\u8dd1\u9a6c\u706f\uff0c\u671f\u95f4\u8fc7\u7a0b\u786e\u5b9e\u975e\u5e38\u66f2\u6298\uff0c\u5206\u4eab\u4e0b\u6211\u7684\u81ea\u5b66\u8fc7\u7a0b\uff1a</p> <p>1\u3001 \u81ea\u5df1\u5728 windows \u548c linux \u4e0a\u5b89\u88c5\u4e86 mysql\uff0c\u81ea\u5b66 linux \u7684\u57fa\u7840\u77e5\u8bc6\uff0c\u5b66\u4e60 mysql \u7684\u6700\u57fa\u7840\u7684\u77e5\u8bc6\uff0c\u5373**\u600e\u4e48\u5199 sql\uff0c\u5b58\u50a8\u8fc7\u7a0b\uff0c\u8868\u7684\u8bbe\u8ba1**\u7b49\uff0c\u4ece 0 \u5230\u719f\u6089\u5927\u6982\u82b1\u4e86 3 \u4e2a\u6708 \uff0c\u63a8\u8350**\u300amysql \u5165\u95e8\u5f88\u7b80\u5355\u300b**\u3002</p> <p>2\u3001\u7cfb\u7edf\u5730\u8f83\u4e3a\u6df1\u5165\u5730\u5b66\u4e60**mysql \u7684 sql \u4f18\u5316\uff0c\u5907\u4efd\u548c\u6062\u590d\uff0c\u53c2\u6570\u4f18\u5316\uff0c\u67b6\u6784\u4f18\u5316\uff0c\u786c\u4ef6\u5c42\u9762\u7684\u4f18\u5316\uff0c\u9ad8\u53ef\u7528\u65b9\u6848\uff0c\u590d\u5236\u6280\u672f**\u7b49\u7b49\uff0c\u8fd9\u6bb5\u65f6\u95f4\u4f60\u4e0d\u4e00\u5b9a\u80fd\u5b9e\u9645\u63a5\u89e6\u5230\u8fd9\u4e9b\uff0c\u5c31\u50cf\u6211\u5f53\u521d\u90a3\u6837\uff0c\u80af\u5b9a\u6ca1\u4ec0\u4e48\u516c\u53f8\u62db\u4e00\u4e2a\u5c0f\u767d\u3002 \u6211\u9009\u62e9\u81ea\u5df1\u770b\u4e66\uff0c\u63a8\u8350**\u300a\u9ad8\u6027\u80fd mysql\u300b**\uff0c\u91cc\u9762\u6240\u6709\u7684\u7ae0\u8282\u90fd\u9700\u8981\u770b\u4e00\u904d\uff0c\u4ee5\u73b0\u5728\u7684\u6c34\u5e73\u80af\u5b9a\u770b\u4e0d\u61c2\uff0c\u4f46\u9700\u8981\u77e5\u9053\u5927\u6982\u600e\u4e48\u56de\u4e8b\uff0c\u4e3a\u540e\u7eed\u7684\u627e mysql \u521d\u7ea7 dba \u7684\u5de5\u4f5c\u6253\u4e00\u4e2a\u94fa\u57ab\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5927\u6982\u4e5f\u9700\u8981 3 \u4e2a\u6708\u3002</p> <p>3\u3001 \u7eb8\u4e0a\u5f97\u6765\u7ec8\u89c9\u6d45\uff0c\u5b8c\u6210\u4ee5\u4e0a\u4e24\u6b65\uff0c\u6211\u5f00\u59cb\u51c6\u5907**\u627e\u4e00\u4efd mysql \u76f8\u5173\u7684\u5de5\u4f5c**\uff0c\u800c\u4e0d\u662f\u5929\u5929\u7528\u7740 excel \u8868\u683c\u505a\u7740 select * from table_sb \u8fd9\u6837\u7684\u5de5\u4f5c\u3002</p> <p>\u5f53\u7136\u6211\u8fd9\u4e48\u7325\u7410\u7684\u4eba\u80af\u5b9a\u4e0d\u4f1a\u88f8\u8f9e\uff0c\u8be5\u753b\u7684\u7535\u8def\u677f\u4e5f\u4e00\u6837\u753b\uff0c\u4e1a\u4f59\u65f6\u95f4\u5f00\u59cb\u6295\u521d\u7ea7 mysql dba \u7684\u5de5\u4f5c\uff0c\u5e76\u4e14\u4e0d\u95f4\u65ad\u5730\u5b66\u4e60\uff0c\u7f51\u4e0a\u5404\u79cd\u627e mysql \u9762\u8bd5\u7684\u76f8\u5173\u9898\u76ee\uff08\u5b9e\u9645\u4e0a\u6211\u5f53\u65f6\u5b8c\u5168\u6ca1\u6709\u4efb\u4f55\u5b9e\u6218\u7ecf\u9a8c\uff09\uff0c\u9646\u7eed\u6536\u5230\u4e00\u4e9b\u9762\u8bd5\uff0c\u51ed\u501f\u4e4b\u524d\u81ea\u5b66\u7684 mysql \u77e5\u8bc6\uff0c\u5f00\u59cb\u80e1\u4e71\u5439\u725b\u903c\uff0c\u5148\u6df7\u8fdb\u53bb\u518d\u8bf4\u3002</p> <p>\u4f60\u4e0d\u505a mysql \u5b9e\u9645\u76f8\u5173\u7684\u5de5\u4f5c\uff0c\u6c38\u8fdc\u4e5f\u4e0d\u77e5\u9053\u81ea\u5df1\u4e4b\u524d\u8ba4\u77e5\u7684 db \u77e5\u8bc6\u6709\u591a\u5e7c\u7a1a\u3002</p> <p>\u53cb\u60c5\u63d0\u793a\u4e00\u70b9\uff0c\u4e00\u822c\u516c\u53f8\u90fd\u6ca1\u6709\u4e13\u804c dba \u7684\uff0c\u6240\u4ee5\u9762\u8bd5\u7684\u65f6\u5019\u4e00\u5b9a\u8981\u81ea\u4fe1\uff0c\u5176\u5b9e\u4f60\u5b66\u4e86\u8fd9\u4e48\u591a\uff0c\u867d\u7136\u6beb\u65e0\u5b9e\u6218\u7ecf\u9a8c\uff0c\u7406\u8bba\u77e5\u8bc6\u5f88\u5927\u6982\u7387\u6bd4\u9762\u8bd5\u4f60\u7684\u4eba\u725b\u903c\uff0c\u6240\u4ee5\u5404\u79cd\u5439\uff0c\u6211\u5c31\u8fd9\u6837\u771f\u6b63\u8fdb\u5165\u521d\u7ea7 dba \u7684\u5708\u5b50\uff08\u7531\u4e8e\u8fd9\u65f6\u5bf9 linux \u8fd8\u5904\u4e8e cd ls \u7684\u6c34\u5e73\uff0c\u6240\u4ee5\u4e4b\u524d\u4e5f\u6839\u672c\u6ca1\u505a\u8fc7\u8fd0\u7ef4\uff09\uff0c\u8fd9\u4e2a\u8fb9\u5de5\u4f5c\u8fb9\u627e\u5de5\u4f5c\u7684\u8fc7\u7a0b\u53c8\u6301\u7eed\u4e86 2 \u4e2a\u6708\u3002</p> <p>4\u3001\u771f\u6b63\u8fdb\u5165\u4e92\u8054\u7f51\uff0c\u63a5\u89e6\u751f\u4ea7\u73af\u5883\u540e\uff0c\u8fd9\u662f\u6211\u8fdb\u6b65\u6700\u5927\u7684\u65f6\u5019\u3002 \u7b2c\u4e00\u6b65\u9700\u8981**\u5c06\u4e4b\u524d\u6240\u5b66\u771f\u6b63\u5730\u5e94\u7528\u8d77\u6765**\uff0c\u5e76\u4e14\u5e94\u7528\u7684\u8fc7\u7a0b\u4e2d\uff0c\u518d\u56de\u5934\u770b\u4e4b\u524d\u7684\u4e66\u7c4d\uff0c\u8fd9\u65f6\u5019\u9700\u8981\u771f\u6b63\u53bb\u7406\u89e3\uff0c\u800c\u4e0d\u662f\u4f3c\u662f\u800c\u975e\uff0c\u4e00\u77e5\u534a\u89e3\u3002 \u8fd9\u65f6\u518d\u63a8\u8350**\u300a\u9ad8\u6027\u80fd mysql \u7b2c\u4e09\u7248\u300b\uff0c\u5168\u672c\u518d\u770b\u4e00\u904d\uff0c\u8fd9\u65f6\u9700\u8981\u5168\u90e8\u770b\u61c2\uff0c\u53e6\u5916\u8fd8\u6709\u300amysql \u6280\u672f\u5185\u5e55\uff1ainnodb \u5b58\u50a8\u5f15\u64ce\u300b\u7b49\u7b49\u3002 \u603b\u4e4b\u8fd9\u6bb5\u65f6\u95f4\u5c31\u9700\u8981**\u5f00\u59cb\u5173\u6ce8 mysql \u4e00\u4e9b\u7ec6\u8282**\u4e86\uff0c\u6bd4\u5982**db \u6545\u969c\u5904\u7406\uff0c\u9ad8\u53ef\u7528\uff0c\u8d1f\u8f7d\u5747\u8861**\u7b49\u7b49\u7684\u5177\u4f53\u5b9e\u73b0\u4e86\u3002 \u53e6\u5916\uff0c**linux \u7684\u77e5\u8bc6\u540c\u6b65\u4e5f\u8981\u6df1\u5165\u53bb\u5b66\u4e60\uff0c\u81f3\u5c11\u4f1a\u5199 shell \u811a\u672c\uff0c\u5e38\u89c1\u7684 linux \u77e5\u8bc6\u7b49\uff0c\u6211\u5728\u8fd9\u82b1\u4e86 1 \u5e74\u591a\uff1b</p> <p>5\u3001 dba \u7684\u5de5\u4f5c\u4e00\u822c\u662f\u975e\u5e38\u8f7b\u95f2\u7684\uff0c\u6bd5\u7adf\u4e0d\u662f\u5927\u516c\u53f8\uff0c\u6280\u672f\u80fd\u529b\u6709\u9650\uff0c\u8be5\u5b66\u7684\u4e5f\u5b66\u5f97\u5dee\u4e0d\u591a\u4e86\uff0c\u63a5\u89e6\u4e0d\u5230**\u6d77\u91cf\u6570\u636e\uff0c\u9ad8\u5e76\u53d1**\u7b49\u6bd4\u8f83\u953b\u70bc\u4eba\u7684\u573a\u5408\uff0c\u4e8e\u662f\u6211\u53c8\u51c6\u5907\u8df3\u4e86\u3002 \u4e8e\u662f\u6765\u4e86\u516c\u6709\u4e91\uff0c\u73b0\u5728\u6bcf\u5929\u8fd0\u7ef4\u4e07\u591a\u4e2a db \u5b9e\u4f8b\uff0c\u5e73\u5747\u6bcf\u5929\u5904\u7406 5+\u4e2a\u7d27\u6025 db \u6545\u969c\uff0c\u51e0\u4e4e mysql \u4f1a\u9047\u5230\u7684\u95ee\u9898\uff0c\u611f\u89c9\u90fd\u9047\u5230\u4e86\uff0c\u80fd\u611f\u89c9\u5230\u6280\u672f\u5b9e\u529b\u548c\u7ecf\u9a8c\u4e5f\u5728\u6bcf\u5929\u90fd\u5728\u79ef\u7d2f\uff0c\u5728\u8fdb\u6b65\u3002 \u4f46\u662f\u611f\u89c9\u8fd8\u662f\u6b20\u7f3a\u4e86\u5f88\u591a\uff0c**\u4e0b\u4e00\u6b65\u5c31\u770b\u4f60\u9009\u62e9**\u4e86\uff0c\u662f\u518d\u53bb\u7814\u7a76\u6e90\u4ee3\u7801\uff0c\u5e95\u5c42\u539f\u7406\u7684\u4e1c\u897f\u591a\u70b9\uff0c\u8fd8\u662f\u6570\u636e\u5e93\u8fd0\u7ef4\u548c\u5e94\u7528\u591a\u4e00\u70b9\uff0c\u5c31\u6bd4\u5982\u4e1a\u754c\u59dc\u627f\u5c27\uff0c\u4f55\u767b\u6210\u4e0e\u53f6\u91d1\u8363\u7684\u533a\u522b\u3002 \u7531\u4e8e\u6211\u7684\u5386\u53f2\u539f\u56e0\uff0c\u5bf9 c++\u7b49\u51e0\u4e4e\u4e0d\u61c2\uff0c\u5e73\u65f6\u4e5f\u7528\u4e0d\u5230\uff0c\u6240\u4ee5\u770b\u4ee3\u7801\u7b49\u4e8b\u5b9e\u9645\u592a\u7d2f\uff0c\u4e8e\u662f\u6211\u518d\u53bb\u5b66 mongodb\uff0c\u63a5\u4e86\u516c\u53f8 mongodb \u8fd0\u7ef4\u7684\u6d3b\uff0c\u7b97\u662f\u5728\u5e7f\u5ea6\u4e0a\u7684\u4e00\u4e2a\u6269\u5c55\uff0c\u4e07\u4e00\u54ea\u5929 mysql \u4e0d\u884c\u4e86\u5462</p> <p>6\u3001 \u603b\u4e4b\uff0c\u5bf9\u4e8e db \u5c0f\u767d\u6765\u8bf4\uff0c\u6700\u91cd\u8981\u7684\u4e00\u70b9\u5c31\u662f\uff0c\u5b66\u4e60\u7684\u8fc7\u7a0b\u4e0d\u80fd\u65ad\u3002</p>"},{"location":"backend-sql/21-Mac-%E5%AE%89%E8%A3%85-python-mysql-%E6%8A%A5%E9%94%99/","title":"Mac \u5b89\u88c5 MySQLdb\uff08python-mysql\uff09\u6a21\u5757\u62a5\u9519","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4537  \u9605\u8bfb10\u5206\u949f</p> <p>2021-12-01</p> <p>\u6838\u5fc3\u601d\u60f3\uff1a\u5b89\u88c5\u4e0d\u6210\u529f\uff0c\u8fd0\u884c <code>xcode-select --install</code> \u57fa\u672c\u73af\u5883\u5b89\u88c5</p>"},{"location":"backend-sql/21-Mac-%E5%AE%89%E8%A3%85-python-mysql-%E6%8A%A5%E9%94%99/#_1","title":"\u524d\u9762","text":"<p>Python \u5199\u7684\u9879\u76ee\u9700\u8981\u8fde\u63a5 MySQL \u6570\u636e\u5e93\uff0c\u6240\u4ee5\u672c\u5730\u9700\u8981\u5b89\u88c5 MySQLdb \u6a21\u5757\uff0c\u4f46\u662f\u5728\u5b89\u88c5\u7684\u8fc7\u7a0b\u4e2d\u4e5f\u662f\u9047\u5230\u4e86\u4e00\u4e9b\u95ee\u9898\uff0c\u5728\u8fd9\u91cc\u8bb0\u5f55\u4e00\u4e0b\u3002</p> <p>\u64cd\u4f5c\u7cfb\u7edf\uff1aMacOS 10.12.5</p> <p>Python \u7248\u672c\uff1a2.7.10</p> <p>pip\uff1a 9.0.1</p>"},{"location":"backend-sql/21-Mac-%E5%AE%89%E8%A3%85-python-mysql-%E6%8A%A5%E9%94%99/#_2","title":"\u5f00\u59cb","text":"<p>\u4e00\u822c\u7684\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u4e86\u8fde\u63a5 MySQL \u7684\u4ee3\u7801\uff0c\u6216\u8005\u4f9d\u8d56\u4e8e MySQLdb \u7c7b\u5e93\u7684\u7c7b\u5e93\uff0c\u5c31\u4f1a\u770b\u5230\u8fd9\u4e2a\uff1a<code>ImportError: No module named MySQLdb</code>\uff0c\u63d0\u793a\u627e\u4e0d\u5230\u6a21\u5757\u3002</p> <p>\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5c31\u9700\u8981\u5b89\u88c5\u5bf9\u5e94\u7684<code>MySQL for Python</code>\u4e86\uff0c\u4e5f\u5c31\u662f<code>MySQL-python</code>\uff0c\u5728\u7ec8\u7aef\u6267\u884c<code>pip install MySQL-python</code>\uff0c\u989d~\u524d\u63d0\u662f\u4f60\u5df2\u7ecf\u5b89\u88c5 pip \u4e86\u554a\u3002</p>"},{"location":"backend-sql/21-Mac-%E5%AE%89%E8%A3%85-python-mysql-%E6%8A%A5%E9%94%99/#_3","title":"\u9047\u5230\u9519\u8bef","text":"<p>\u5f53\u4f60\u6309\u4e0b\u56de\u8f66\u952e\uff0c\u51fa\u73b0\u9519\u8bef\uff1a<code>EnvironmentError: mysql_config not found</code></p> <p>\u7c97\u7565\u770b\u4e86\u4e00\u4e0b\uff0c\u5927\u6982\u610f\u601d\u5c31\u662f\uff0c\u4f60\u8fd8\u9700\u8981\u5b89\u88c5\u4e00\u4e2a MySQL\uff0cWhat\uff1f\u6211\u5c31\u662f\u60f3\u8fde\u63a5\u4e00\u4e0b\u6570\u636e\u5e93\uff0c\u4e0d\u81f3\u4e8e\u8fd8\u8981\u4e0b\u4e00\u4e2a\u6570\u636e\u5e93\u5427\u3002\u4ed4\u7ec6\u770b\u4e86\u770b\u53c8\uff0c\u539f\u6765\u662f\u9700\u8981\u5b89\u88c5\u4e00\u4e2a mysql \u5f00\u53d1\u5305\uff08\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u672c\u5730\u5b89\u88c5\u4e00\u4e2a MySQL\uff09\uff0c\u597d\u5427\uff0c\u6ca1\u529e\u6cd5\uff0c\u90a3\u518d\u6765\u3002</p> <p>\u624b\u52a8\u4e0b\u8f7d\u4e86 dmg \u7248\u672c\u7684\uff0c\u6839\u636e\u63d0\u793a\u5b89\u88c5\u5b8c\u6bd5\uff0c\u7ec8\u7aef\u8fd0\u884c<code>pip install MySQL-python</code>\u53d1\u4e0b\u8fd8\u662f\u539f\u6765\u7684\u9519\u8bef\uff0c\u53c8\u53bb\u67e5\u4e86\u67e5\u8d44\u6599\uff0c\u5e94\u8be5\u662f\u5b89\u88c5\u7684 mysql \u5e93\u6ca1\u6709\u52a0\u5165\u73af\u5883\u53d8\u91cf\uff0c\u73b0\u5728\u5c31\u662f\u8981\u627e\u5230\u6211\u521a\u624d\u5b89\u88c5\u7684 mysql \u5230\u54ea\u4e2a\u76ee\u5f55\u4e86\u3002\u7ec8\u7aef\u7a97\u53e3\u6267\u884c<code>find / -name mysql_config</code>\uff0c\u7ed3\u679c\u4e2d\u6709\u4e00\u4e2a\uff1a/usr/local/mysql-connector-c-6.1.10-macos10.12-x86_64/bin/mysql_config \uff0c\u5e94\u8be5\u5c31\u662f\u5b83\u4e86\uff0c\u901a\u8fc7\uff1a<code>export PATH=$PATH:/usr/local/mysql-connector-c-6.1.10-macos10.12-x86_64/bin/</code>\u52a0\u5165\u73af\u5883\u53d8\u91cf\u3002</p>"},{"location":"backend-sql/21-Mac-%E5%AE%89%E8%A3%85-python-mysql-%E6%8A%A5%E9%94%99/#_4","title":"\u518d\u6b21\u9519\u8bef","text":"<p>\u518d\u6b21\u6267\u884c<code>pip install MySQL-python</code>\uff0c\u770b\u5230\u8f93\u51fa\u7684\u9519\u8bef\uff0c\u6211\u7b80\u76f4\u5d29\u6e83\u4e86\u3002</p> <pre><code>Collecting MySQL-python\n  Using cached MySQL-python-1.2.5.zip\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n      File \"/private/var/folders/d1/1lnf846x6p119488dvhnqj740000gn/T/pip-build-b16vZo/MySQL-python/setup.py\", line 17, in &lt;module&gt;\n        metadata, options = get_config()\n      File \"setup_posix.py\", line 53, in get_config\n        libraries = [ dequote(i[2:]) for i in libs if i.startswith(compiler_flag(\"l\")) ]\n      File \"setup_posix.py\", line 8, in dequote\n        if s[0] in \"\\\"'\" and s[0] == s[-1]:\n    IndexError: string index out of range\n</code></pre>"},{"location":"backend-sql/21-Mac-%E5%AE%89%E8%A3%85-python-mysql-%E6%8A%A5%E9%94%99/#_5","title":"\u6362\u4e00\u79cd\u65b9\u5f0f","text":"<p>\u8fd8\u80fd\u4e0d\u80fd\u6109\u5feb\u7684\u73a9\u800d\u4e86~ Google \u4e86\u4e00\u4e0b\uff0c\u6ca1\u6709\u89e3\u51b3\uff0c\u6211\u60f3\u6211\u8981\u6362\u4e00\u79cd\u65b9\u5f0f\u4e86\u3002\u628a\u521a\u624d\u5b89\u88c5\u7684 mysql \u5f00\u53d1\u5305\u5220\u6389\u3002\u901a\u8fc7 brew \u91cd\u65b0\u5b89\u88c5\u8bd5\u8bd5\u3002</p> <pre><code># install brew\nruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n</code></pre> <p>\u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u53bb brew \u5b98\u7f51\u770b\u770b\uff0c\u5c45\u7136\u6709\u4e2d\u6587\uff0c\u539a\u9053\uff1ahttps://brew.sh/index_zh-cn.html</p>"},{"location":"backend-sql/21-Mac-%E5%AE%89%E8%A3%85-python-mysql-%E6%8A%A5%E9%94%99/#_6","title":"\u6000\u7591\u4eba\u751f/\u80dc\u5229\u5728\u671b","text":"<p>\u8fd9\u4e00\u6b21\u76f4\u63a5<code>brew install mysql</code>\uff0c\u7b49\u5f85\u5b89\u88c5\u5b8c\u6bd5\uff0c\u518d\u518d\u518d\u6267\u884c<code>pip install MySQL-python</code>\uff0c\u55ef~\u679c\u7136\u8fd8\u662f\u9519\u8bef\uff0c\u8fd9\u5c31\u662f\u4eba\u751f\u554a\u3002</p> <pre><code>3 warnings generated.\n  cc -bundle -undefined dynamic_lookup -arch x86_64 -arch i386 -Wl,-F. build/temp.macosx-10.12-intel-2.7/_mysql.o -L/usr/local/Cellar/mysql/5.7.18_1/lib -lmysqlclient -lssl -lcrypto -o build/lib.macosx-10.12-intel-2.7/_mysql.so\n  ld: library not found for -lssl\n  clang: error: linker command failed with exit code 1 (use -v to see invocation)\n  error: command 'cc' failed with exit status 1\n</code></pre> <p>\u5c31\u662f\u4e0a\u9762\u8fd9\u4e2a\u9519\u8bef\uff0c\u4e8e\u662f\u4e4e\uff0c\u6211\u53c8 Google\uff0c\u53d1\u73b0\u4e86\uff1ahttps://stackoverflow.com/questions/22697440/cc-failed-with-exit-status-1-error-when-install-python-library</p> <p>\u5c31\u662f\u8fd9\u4e2a\u4eba\u89e3\u7b54\u7684\uff0c\u548c\u6211\u9047\u5230\u7684\u95ee\u9898\u4e00\u6837</p> <p>\u7136\u540e\u6211\u901a\u8fc7\u5927\u795e\u7684\u6307\u793a\uff1a<code>xcode-select --install</code>\uff0c\u4f1a\u5f39\u51fa xcode \u7684\u8f6f\u4ef6\u5b89\u88c5\u7a97\u53e3\uff0c\u7b49\u5f85\u51e0\u5206\u949f\uff0c\u5b89\u88c5\u5b8c\u6bd5\uff0c\u518d\u6b21\u6267\u884c\uff1a<code>pip install MySQL-python</code>\u3002</p> <p>\u547c~\u6210\u529f\u4e86\u4f60\u76f8\u4fe1\u5417\uff1f</p> <pre><code>Collecting MySQL-python\n  Downloading MySQL-python-1.2.5.zip (108kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 112kB 127kB/s\nInstalling collected packages: MySQL-python\n  Running setup.py install for MySQL-python ... done\nSuccessfully installed MySQL-python-1.2.5\n</code></pre>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/","title":"Python \u64cd\u4f5c Mysql \u6570\u636e\u5e93","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 16084  \u9605\u8bfb33\u5206\u949f</p> <p>2021-12-01</p> <p>Python \u6807\u51c6\u6570\u636e\u5e93\u63a5\u53e3\u4e3a Python DB-API \uff0cPython DB-API \u4e3a\u5f00\u53d1\u4eba\u5458\u63d0\u4f9b\u4e86\u6570\u636e\u5e93\u5e94\u7528\u7f16\u7a0b\u63a5\u53e3\u3002</p> <p>\u4e0d\u540c\u7684\u6570\u636e\u5e93\u4f60\u9700\u8981\u4e0b\u8f7d\u4e0d\u540c\u7684 DB API \u6a21\u5757\uff0c\u4f8b\u5982\u4f60\u9700\u8981\u8bbf\u95ee Oracle \u6570\u636e\u5e93\u548c Mysql \u6570\u636e\uff0c\u4f60\u9700\u8981\u4e0b\u8f7d Oracle \u548c Mysql \u6570\u636e\u5e93\u6a21\u5757\u3002 DB-API \u662f\u4e00\u4e2a\u89c4\u8303\uff0c\u5b83\u5b9a\u4e49\u4e86\u4e00\u7cfb\u5217\u5fc5\u987b\u7684\u5bf9\u8c61\u548c\u6570\u636e\u5e93\u5b58\u53d6\u65b9\u5f0f, \u4ee5\u4fbf\u4e3a\u5404\u79cd\u5404\u6837\u7684\u5e95\u5c42\u6570\u636e\u5e93\u7cfb\u7edf\u548c\u591a\u79cd\u591a\u6837\u7684\u6570\u636e\u5e93\u63a5\u53e3\u7a0b\u5e8f\u63d0\u4f9b\u4e00\u81f4\u7684\u8bbf\u95ee\u63a5\u53e3 \u3002Python \u7684 DB-API \uff0c\u4e3a\u5927\u591a\u6570\u7684\u6570\u636e\u5e93\u5b9e\u73b0\u4e86\u63a5\u53e3\uff0c\u4f7f\u7528\u5b83\u8fde\u63a5\u5404\u6570\u636e\u5e93\u540e\uff0c\u5c31\u53ef\u4ee5\u7528\u76f8\u540c\u7684\u65b9\u5f0f\u64cd\u4f5c\u5404\u6570\u636e\u5e93\u3002</p> <p>Python DB-API \u4f7f\u7528\u6d41\u7a0b\uff1a</p> <ul> <li>\u5f15\u5165 API \u6a21\u5757\u3002</li> <li>\u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5\u3002</li> <li>\u6267\u884c SQL \u8bed\u53e5\u548c\u5b58\u50a8\u8fc7\u7a0b\u3002</li> <li>\u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\u3002</li> </ul>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#mysql-db","title":"\u4ec0\u4e48\u662f Mysql db?","text":"<p>Mysql db \u662f\u7528\u4e8e Python \u94fe\u63a5 Mysql \u6570\u636e\u5e93\u7684\u63a5\u53e3\uff0c\u5b83\u5b9e\u73b0\u4e86 Python \u6570\u636e\u5e93 API \u89c4\u8303 V2.0\uff0c\u57fa\u4e8e Mysql API \u4e0a\u5efa\u7acb\u7684\u3002</p>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#mysql-db_1","title":"\u5982\u4f55\u5b89\u88c5 Mysql db?","text":"<p>\u4e3a\u4e86\u7528 DB-API \u7f16\u5199 Mysql \u811a\u672c\uff0c\u5fc5\u987b\u786e\u4fdd\u5df2\u7ecf\u5b89\u88c5\u4e86 Mysql</p> <pre><code>import Mysql db\n</code></pre> <p>\u5982\u679c\u6267\u884c\u540e\u7684\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\u6240\u793a\uff0c\u610f\u5473\u7740\u4f60\u6ca1\u6709\u5b89\u88c5 Mysql db \u6a21\u5757\uff1a</p> <pre><code>Traceback (most recent call last):\n  File \"test.py\", line 3, in &lt;module&gt;\n    import mysql db\nImportError: No module named  Mysql db\n</code></pre> <p>\u5b89\u88c5 Mysql db\uff0c\u8bf7\u8bbf\u95ee http://sourceforge.net/projects/ Mysql -python \uff0c(Linux \u5e73\u53f0\u53ef\u4ee5\u8bbf\u95ee\uff1ahttps://pypi.python.org/pypi/ Mysql -python)\u4ece\u8fd9\u91cc\u53ef\u9009\u62e9\u9002\u5408\u60a8\u7684\u5e73\u53f0\u7684\u5b89\u88c5\u5305\uff0c\u5206\u4e3a\u9884\u7f16\u8bd1\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u548c\u6e90\u4ee3\u7801\u5b89\u88c5\u5305\u3002</p> <p>\u5982\u679c\u60a8\u9009\u62e9\u4e8c\u8fdb\u5236\u6587\u4ef6\u53d1\u884c\u7248\u672c\u7684\u8bdd\uff0c\u5b89\u88c5\u8fc7\u7a0b\u57fa\u672c\u5b89\u88c5\u63d0\u793a\u5373\u53ef\u5b8c\u6210\u3002\u5982\u679c\u4ece\u6e90\u4ee3\u7801\u8fdb\u884c\u5b89\u88c5\u7684\u8bdd\uff0c\u5219\u9700\u8981\u5207\u6362\u5230 Mysql db \u53d1\u884c\u7248\u672c\u7684\u9876\u7ea7\u76ee\u5f55\uff0c\u5e76\u952e\u5165\u4e0b\u5217\u547d\u4ee4:</p> <pre><code>$ gunzip  Mysql -python-1.2.2.tar.gz\n$ tar -xvf  Mysql -python-1.2.2.tar\n$ cd  Mysql -python-1.2.2\n$ python setup.py build\n$ python setup.py install\n</code></pre> <p>\u6ce8\u610f\uff1a\u8bf7\u786e\u4fdd\u60a8\u6709 root \u6743\u9650\u6765\u5b89\u88c5\u4e0a\u8ff0\u6a21\u5757\u3002</p> <p>\u62a5\u9519 1: \u6267\u884c sudo python setup.py build \u51fa\u73b0\u95ee\u9898(SSL \u6743\u9650)</p> <pre><code>sudo python setup.py build\nDownloading http://pypi.python.org/packages/source/d/distribute/distribute-0.6.28.tar.gz\nurllib2.HTTPError: HTTP Error 403: SSL is required\n</code></pre> <p>\u53ef\u4ee5\u53c2\u8003 https://blog.csdn.net/bin642264643/article/details/91972480 \u76f4\u63a5\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee\u8fd9\u4e2a\u94fe\u63a5\u8fdb\u884c\u4e0b\u8f7d\u3002\u4e0b\u8f7d\u7ed3\u675f\uff0c\u5e76\u653e\u5728\u8def\u5f84\u4e0b\uff0c\u7136\u540e\u6267\u884c python setup.py build</p> <p>\u62a5\u9519\uff1a\u51fa\u73b0\u4e0b\u9762\u7684\u95ee\u9898</p> <pre><code>running build\nrunning build_py\ncopying  Mysql db/release.py -&gt; build/lib.macosx-10.13-intel-2.7/ Mysql db\nrunning build_ext\nbuilding '_ Mysql ' extension\ncc -fno-strict-aliasing -fno-common -dynamic -arch x86_64 -arch i386 -g -Os -pipe -fno-common -fno-strict-aliasing -fwrapv -DENABLE_DTRACE -DMACOSX -DNDEBUG -Wall -Wstrict-prototypes -Wshorten-64-to-32 -DNDEBUG -g -fwrapv -Os -Wall -Wstrict-prototypes -DENABLE_DTRACE -arch i386 -arch x86_64 -pipe -Dversion_info=(1,2,4,'beta',4) -D__version__=1.2.4b4 -I/usr/local/ Mysql /include -I/System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -c _ Mysql .c -o build/temp.macosx-10.13-intel-2.7/_ Mysql .o\n_ Mysql .c:44:10: fatal error: 'my_config.h' file not found\n#include \"my_config.h\"\n         ^~~~~~~~~~~~~\n1 error generated.\nerror: command 'cc' failed with exit status 1\n</code></pre> <p>\u89e3\u51b3\u65b9\u6cd5 1\uff1a</p> <p>https://stackoverflow.com/questions/21638444/error-command-cc-failed-with-exit-status-1- Mysql db-installation-on-mac</p> <pre><code>The problem is unused arguments passed to compiler. Try this before running your build code:\nexport CFLAGS=-Qunused-arguments\nexport CPPFLAGS=-Qunused-arguments\n</code></pre> <p>\u4f7f\u7528\u4e0a\u9762\u7684\u7f16\u8bd1\u4e0d\u5904\u7406\u554a\u554a\uff01\u770b\u4e00\u4e0b\u6700\u65b0\u7684\u6559\u7a0b\u2018</p> <p>\u53ef\u80fd\u662f python2.7.10 \u6216\u8005 3 \u7248\u672c\u7684\u539f\u56e0\uff0c\u56e0\u4e3a\u672c\u5730\u73b0\u5728\u4e24\u4e2a\u7248\u672c\u90fd\u5b89\u88c5</p> <p>\u53ef\u80fd\u662f\u7248\u672c\u4e0d\u5bf9\u5e94\uff0c Mysql _python-1.2.5-cp27-none-win_amd64.whl \u652f\u6301 windows \u7248\u672c\u6216\u8005 linux \u7cfb\u7edf\uff0c\u4e0d\u652f\u6301 Mac \u7cfb\u7edf\u3002</p> <p>\u89e3\u51b3\u65b9\u6cd5 2\uff1a</p> <p>https://stackoverflow.com/questions/50864438/mac-pip-install- Mysql -python-unsuccessful</p> <pre><code>Installing of an older version of the Mysql worked for me:\nbrew remove  Mysql\nbrew install  Mysql @5.7\nbrew link --force  Mysql @5.7\npip install  Mysql -python\n</code></pre>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_1","title":"\u6570\u636e\u5e93\u8fde\u63a5","text":"<p>\u8fde\u63a5\u6570\u636e\u5e93\u524d\uff0c\u8bf7\u5148\u786e\u8ba4\u4ee5\u4e0b\u4e8b\u9879\uff1a</p> <ul> <li>\u60a8\u5df2\u7ecf\u521b\u5efa\u4e86\u6570\u636e\u5e93 TESTDB.</li> <li>\u5728 TESTDB \u6570\u636e\u5e93\u4e2d\u60a8\u5df2\u7ecf\u521b\u5efa\u4e86\u8868 EMPLOYEE</li> <li>EMPLOYEE \u8868\u5b57\u6bb5\u4e3a FIRST_NAME, LAST_NAME, AGE, SEX \u548c INCOME\u3002</li> <li>\u8fde\u63a5\u6570\u636e\u5e93 TESTDB \u4f7f\u7528\u7684\u7528\u6237\u540d\u4e3a \"testuser\" \uff0c\u5bc6\u7801\u4e3a \"test123\",\u4f60\u53ef\u4ee5\u53ef\u4ee5\u81ea\u5df1\u8bbe\u5b9a\u6216\u8005\u76f4\u63a5\u4f7f\u7528 root \u7528\u6237\u540d\u53ca\u5176\u5bc6\u7801\uff0c Mysql \u6570\u636e\u5e93\u7528\u6237\u6388\u6743\u8bf7\u4f7f\u7528 Grant \u547d\u4ee4\u3002</li> <li>\u5728\u4f60\u7684\u673a\u5b50\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4e86 Python Mysql db \u6a21\u5757\u3002</li> <li>\u5982\u679c\u60a8\u5bf9 sql \u8bed\u53e5\u4e0d\u719f\u6089\uff0c\u53ef\u4ee5\u8bbf\u95ee SQL \u57fa\u7840\u6559\u7a0b</li> </ul>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_2","title":"\u5b9e\u4f8b\uff1a","text":"<p>\u4ee5\u4e0b\u5b9e\u4f8b\u94fe\u63a5 Mysql \u7684 TESTDB \u6570\u636e\u5e93\uff1a</p> <pre><code>import mysql db\n\n# \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5\ndb =  Mysql db.connect(\"localhost\", \"testuser\", \"test123\", \"TESTDB\", charset='utf8' )\n\n# \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807\ncursor = db.cursor()\n\n# \u4f7f\u7528execute\u65b9\u6cd5\u6267\u884cSQL\u8bed\u53e5\ncursor.execute(\"SELECT VERSION()\")\n\n# \u4f7f\u7528 fetchone() \u65b9\u6cd5\u83b7\u53d6\u4e00\u6761\u6570\u636e\ndata = cursor.fetchone()\n\nprint \"Database version : %s \" % data\n\n# \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\ndb.close()\n</code></pre> <p>\u6267\u884c\u4ee5\u4e0a\u811a\u672c\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\uff1a<code>Database version : 5.0.45</code></p>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_3","title":"\u521b\u5efa\u6570\u636e\u5e93\u8868","text":"<p>\u5982\u679c\u6570\u636e\u5e93\u8fde\u63a5\u5b58\u5728\uff0c\u4f7f\u7528 execute()\u65b9\u6cd5\u6765\u4e3a\u6570\u636e\u5e93\u521b\u5efa\u8868\uff0c\u5982\u4e0b\u6240\u793a\u521b\u5efa\u8868 EMPLOYEE\uff1a</p> <p>```python\u00a0 import mysql db</p>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_4","title":"\u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5","text":"<p>db =  Mysql db.connect(\"localhost\", \"testuser\", \"test123\", \"TESTDB\", charset='utf8' )</p>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#cursor","title":"\u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807","text":"<p>cursor = db.cursor()</p>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#execute","title":"\u5982\u679c\u6570\u636e\u8868\u5df2\u7ecf\u5b58\u5728\u4f7f\u7528 execute() \u65b9\u6cd5\u5220\u9664\u8868\u3002","text":"<p>cursor.execute(\"DROP TABLE IF EXISTS EMPLOYEE\")</p>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#sql","title":"\u521b\u5efa\u6570\u636e\u8868SQL\u8bed\u53e5","text":"<p>sql = \"\"\"CREATE TABLE EMPLOYEE (          FIRST_NAME  CHAR(20) NOT NULL,          LAST_NAME  CHAR(20),          AGE INT,          SEX CHAR(1),          INCOME FLOAT )\"\"\"</p> <p>cursor.execute(sql)</p>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_5","title":"\u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5","text":"<p>db.close() <pre><code>---\n\n## \u6570\u636e\u5e93\u63d2\u5165\u64cd\u4f5c\n\n\u4ee5\u4e0b\u5b9e\u4f8b\u4f7f\u7528\u6267\u884c SQL INSERT \u8bed\u53e5\u5411\u8868 EMPLOYEE \u63d2\u5165\u8bb0\u5f55\uff1a\n\n```python\nimport Mysql db\n\n# \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5\ndb =  Mysql db.connect(\"localhost\", \"testuser\", \"test123\", \"TESTDB\", charset='utf8' )\n\n# \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807\ncursor = db.cursor()\n\n# SQL \u63d2\u5165\u8bed\u53e5\nsql = \"\"\"INSERT INTO EMPLOYEE(FIRST_NAME,\n         LAST_NAME, AGE, SEX, INCOME)\n         VALUES ('Mac', 'Mohan', 20, 'M', 2000)\"\"\"\ntry:\n   # \u6267\u884csql\u8bed\u53e5\n   cursor.execute(sql)\n   # \u63d0\u4ea4\u5230\u6570\u636e\u5e93\u6267\u884c\n   db.commit()\nexcept:\n   # Rollback in case there is any error\n   db.rollback()\n\n# \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\ndb.close()\n</code></pre></p> <p>\u4ee5\u4e0a\u4f8b\u5b50\u4e5f\u53ef\u4ee5\u5199\u6210\u5982\u4e0b\u5f62\u5f0f\uff1a</p> <pre><code>import mysql db\n\n# \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5\ndb =  Mysql db.connect(\"localhost\", \"testuser\", \"test123\", \"TESTDB\", charset='utf8' )\n\n# \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807\ncursor = db.cursor()\n\n# SQL \u63d2\u5165\u8bed\u53e5\nsql = \"INSERT INTO EMPLOYEE(FIRST_NAME, \\\n       LAST_NAME, AGE, SEX, INCOME) \\\n       VALUES (%s, %s, %s, %s, %s )\" % \\\n       ('Mac', 'Mohan', 20, 'M', 2000)\ntry:\n   # \u6267\u884csql\u8bed\u53e5\n   cursor.execute(sql)\n   # \u63d0\u4ea4\u5230\u6570\u636e\u5e93\u6267\u884c\n   db.commit()\nexcept:\n   # \u53d1\u751f\u9519\u8bef\u65f6\u56de\u6eda\n   db.rollback()\n\n# \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\ndb.close()\n</code></pre>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_6","title":"\u5b9e\u4f8b\uff1a","text":"<p>\u4ee5\u4e0b\u4ee3\u7801\u4f7f\u7528\u53d8\u91cf\u5411 SQL \u8bed\u53e5\u4e2d\u4f20\u9012\u53c2\u6570:</p> <pre><code>..................................\nuser_id = \"test123\"\npassword = \"password\"\n\ncon.execute('insert into Login values(%s, %s)' % \\\n             (user_id, password))\n..................................\n</code></pre>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_7","title":"\u6570\u636e\u5e93\u67e5\u8be2\u64cd\u4f5c","text":"<p>Python \u67e5\u8be2 Mysql \u4f7f\u7528 fetchone() \u65b9\u6cd5\u83b7\u53d6\u5355\u6761\u6570\u636e, \u4f7f\u7528 fetchall() \u65b9\u6cd5\u83b7\u53d6\u591a\u6761\u6570\u636e\u3002</p> <ul> <li>fetchone(): \u8be5\u65b9\u6cd5\u83b7\u53d6\u4e0b\u4e00\u4e2a\u67e5\u8be2\u7ed3\u679c\u96c6\u3002\u7ed3\u679c\u96c6\u662f\u4e00\u4e2a\u5bf9\u8c61</li> <li>fetchall():\u63a5\u6536\u5168\u90e8\u7684\u8fd4\u56de\u7ed3\u679c\u884c.</li> <li>rowcount: \u8fd9\u662f\u4e00\u4e2a\u53ea\u8bfb\u5c5e\u6027\uff0c\u5e76\u8fd4\u56de\u6267\u884c execute()\u65b9\u6cd5\u540e\u5f71\u54cd\u7684\u884c\u6570\u3002</li> </ul>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_8","title":"\u5b9e\u4f8b\uff1a","text":"<p>\u67e5\u8be2 EMPLOYEE \u8868\u4e2d salary\uff08\u5de5\u8d44\uff09\u5b57\u6bb5\u5927\u4e8e 1000 \u7684\u6240\u6709\u6570\u636e\uff1a</p> <p>```python\u00a0 import mysql db</p>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_9","title":"\u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5","text":"<p>db =  Mysql db.connect(\"localhost\", \"testuser\", \"test123\", \"TESTDB\", charset='utf8' )</p>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#cursor_1","title":"\u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807","text":"<p>cursor = db.cursor()</p>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#sql_1","title":"SQL \u67e5\u8be2\u8bed\u53e5","text":"<p>sql = \"SELECT * FROM EMPLOYEE \\        WHERE INCOME &gt; %s\" % (1000) try:    # \u6267\u884cSQL\u8bed\u53e5    cursor.execute(sql)    # \u83b7\u53d6\u6240\u6709\u8bb0\u5f55\u5217\u8868    results = cursor.fetchall()    for row in results:       fname = row[0]       lname = row[1]       age = row[2]       sex = row[3]       income = row[4]       # \u6253\u5370\u7ed3\u679c       print \"fname=%s,lname=%s,age=%s,sex=%s,income=%s\" % \\              (fname, lname, age, sex, income ) except:    print \"Error: unable to fecth data\"</p>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_10","title":"\u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5","text":"<p>db.close() <pre><code>\u4ee5\u4e0a\u811a\u672c\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a\n</code></pre> fname=Mac, lname=Mohan, age=20, sex=M, income=2000 <pre><code>---\n\n## \u6570\u636e\u5e93\u66f4\u65b0\u64cd\u4f5c\n\n\u66f4\u65b0\u64cd\u4f5c\u7528\u4e8e\u66f4\u65b0\u6570\u636e\u8868\u7684\u7684\u6570\u636e\uff0c\u4ee5\u4e0b\u5b9e\u4f8b\u5c06 EMPLOYEE \u8868\u4e2d\u7684 SEX \u5b57\u6bb5\u4e3a 'M' \u7684 AGE \u5b57\u6bb5\u9012\u589e 1\uff1a\n\n```python\u00a0\nimport mysql db\n\n# \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5\ndb =  Mysql db.connect(\"localhost\", \"testuser\", \"test123\", \"TESTDB\", charset='utf8' )\n\n# \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807\ncursor = db.cursor()\n\n# SQL \u66f4\u65b0\u8bed\u53e5\nsql = \"UPDATE EMPLOYEE SET AGE = AGE + 1 WHERE SEX = '%c'\" % ('M')\ntry:\n   # \u6267\u884cSQL\u8bed\u53e5\n   cursor.execute(sql)\n   # \u63d0\u4ea4\u5230\u6570\u636e\u5e93\u6267\u884c\n   db.commit()\nexcept:\n   # \u53d1\u751f\u9519\u8bef\u65f6\u56de\u6eda\n   db.rollback()\n\n# \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\ndb.close()\n</code></pre></p>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_11","title":"\u5220\u9664\u64cd\u4f5c","text":"<p>\u5220\u9664\u64cd\u4f5c\u7528\u4e8e\u5220\u9664\u6570\u636e\u8868\u4e2d\u7684\u6570\u636e\uff0c\u4ee5\u4e0b\u5b9e\u4f8b\u6f14\u793a\u4e86\u5220\u9664\u6570\u636e\u8868 EMPLOYEE \u4e2d AGE \u5927\u4e8e 20 \u7684\u6240\u6709\u6570\u636e\uff1a</p> <pre><code>import mysql db\n\n# \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5\ndb =  Mysql db.connect(\"localhost\", \"testuser\", \"test123\", \"TESTDB\", charset='utf8' )\n\n# \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807\ncursor = db.cursor()\n\n# SQL \u5220\u9664\u8bed\u53e5\nsql = \"DELETE FROM EMPLOYEE WHERE AGE &gt; %s\" % (20) try:\n\n# \u6267\u884cSQL\u8bed\u53e5\ncursor.execute(sql)\n\n# \u63d0\u4ea4\u4fee\u6539\ndb.commit() except:\n\n# \u53d1\u751f\u9519\u8bef\u65f6\u56de\u6eda\n\ndb.rollback()\n# \u5173\u95ed\u8fde\u63a5 db.close()\n</code></pre>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_12","title":"\u6267\u884c\u4e8b\u52a1","text":"<p>\u4e8b\u52a1\u673a\u5236\u53ef\u4ee5\u786e\u4fdd\u6570\u636e\u4e00\u81f4\u6027\u3002</p> <p>\u4e8b\u52a1\u5e94\u8be5\u5177\u6709 4 \u4e2a\u5c5e\u6027\uff1a\u539f\u5b50\u6027\u3001\u4e00\u81f4\u6027\u3001\u9694\u79bb\u6027\u3001\u6301\u4e45\u6027\u3002\u8fd9\u56db\u4e2a\u5c5e\u6027\u901a\u5e38\u79f0\u4e3a ACID \u7279\u6027\u3002</p> <ul> <li>\u539f\u5b50\u6027\uff08atomicity\uff09\u3002\u4e00\u4e2a\u4e8b\u52a1\u662f\u4e00\u4e2a\u4e0d\u53ef\u5206\u5272\u7684\u5de5\u4f5c\u5355\u4f4d\uff0c\u4e8b\u52a1\u4e2d\u5305\u62ec\u7684\u8bf8\u64cd\u4f5c\u8981\u4e48\u90fd\u505a\uff0c\u8981\u4e48\u90fd\u4e0d\u505a\u3002</li> <li>\u4e00\u81f4\u6027\uff08consistency\uff09\u3002\u4e8b\u52a1\u5fc5\u987b\u662f\u4f7f\u6570\u636e\u5e93\u4ece\u4e00\u4e2a\u4e00\u81f4\u6027\u72b6\u6001\u53d8\u5230\u53e6\u4e00\u4e2a\u4e00\u81f4\u6027\u72b6\u6001\u3002\u4e00\u81f4\u6027\u4e0e\u539f\u5b50\u6027\u662f\u5bc6\u5207\u76f8\u5173\u7684\u3002</li> <li>\u9694\u79bb\u6027\uff08isolation\uff09\u3002\u4e00\u4e2a\u4e8b\u52a1\u7684\u6267\u884c\u4e0d\u80fd\u88ab\u5176\u4ed6\u4e8b\u52a1\u5e72\u6270\u3002\u5373\u4e00\u4e2a\u4e8b\u52a1\u5185\u90e8\u7684\u64cd\u4f5c\u53ca\u4f7f\u7528\u7684\u6570\u636e\u5bf9\u5e76\u53d1\u7684\u5176\u4ed6\u4e8b\u52a1\u662f\u9694\u79bb\u7684\uff0c\u5e76\u53d1\u6267\u884c\u7684\u5404\u4e2a\u4e8b\u52a1\u4e4b\u95f4\u4e0d\u80fd\u4e92\u76f8\u5e72\u6270\u3002</li> <li>\u6301\u4e45\u6027\uff08durability\uff09\u3002\u6301\u7eed\u6027\u4e5f\u79f0\u6c38\u4e45\u6027\uff08permanence\uff09\uff0c\u6307\u4e00\u4e2a\u4e8b\u52a1\u4e00\u65e6\u63d0\u4ea4\uff0c\u5b83\u5bf9\u6570\u636e\u5e93\u4e2d\u6570\u636e\u7684\u6539\u53d8\u5c31\u5e94\u8be5\u662f\u6c38\u4e45\u6027\u7684\u3002\u63a5\u4e0b\u6765\u7684\u5176\u4ed6\u64cd\u4f5c\u6216\u6545\u969c\u4e0d\u5e94\u8be5\u5bf9\u5176\u6709\u4efb\u4f55\u5f71\u54cd\u3002</li> </ul> <p>Python DB API 2.0 \u7684\u4e8b\u52a1\u63d0\u4f9b\u4e86\u4e24\u4e2a\u65b9\u6cd5 commit \u6216 rollback\u3002</p>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_13","title":"\u5b9e\u4f8b\uff1a","text":"<pre><code># SQL\u5220\u9664\u8bb0\u5f55\u8bed\u53e5\nsql = \"DELETE FROM EMPLOYEE WHERE AGE &gt; %s\" % (20)\ntry:\n   # \u6267\u884cSQL\u8bed\u53e5\n   cursor.execute(sql)\n   # \u5411\u6570\u636e\u5e93\u63d0\u4ea4\n   db.commit()\nexcept:\n   # \u53d1\u751f\u9519\u8bef\u65f6\u56de\u6eda\n   db.rollback()\n</code></pre> <p>\u5bf9\u4e8e\u652f\u6301\u4e8b\u52a1\u7684\u6570\u636e\u5e93\uff0c \u5728 Python \u6570\u636e\u5e93\u7f16\u7a0b\u4e2d\uff0c\u5f53\u6e38\u6807\u5efa\u7acb\u4e4b\u65f6\uff0c\u5c31\u81ea\u52a8\u5f00\u59cb\u4e86\u4e00\u4e2a\u9690\u5f62\u7684\u6570\u636e\u5e93\u4e8b\u52a1\u3002</p> <p>commit()\u65b9\u6cd5\u6e38\u6807\u7684\u6240\u6709\u66f4\u65b0\u64cd\u4f5c\uff0crollback\uff08\uff09\u65b9\u6cd5\u56de\u6eda\u5f53\u524d\u6e38\u6807\u7684\u6240\u6709\u64cd\u4f5c\u3002\u6bcf\u4e00\u4e2a\u65b9\u6cd5\u90fd\u5f00\u59cb\u4e86\u4e00\u4e2a\u65b0\u7684\u4e8b\u52a1\u3002</p>"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_14","title":"\u9519\u8bef\u5904\u7406","text":"<p>DB API \u4e2d\u5b9a\u4e49\u4e86\u4e00\u4e9b\u6570\u636e\u5e93\u64cd\u4f5c\u7684\u9519\u8bef\u53ca\u5f02\u5e38\uff0c\u4e0b\u8868\u5217\u51fa\u4e86\u8fd9\u4e9b\u9519\u8bef\u548c\u5f02\u5e38:</p> \u5f02\u5e38 \u63cf\u8ff0 Warning \u5f53\u6709\u4e25\u91cd\u8b66\u544a\u65f6\u89e6\u53d1\uff0c\u4f8b\u5982\u63d2\u5165\u6570\u636e\u662f\u88ab\u622a\u65ad\u7b49\u7b49\u3002\u5fc5\u987b\u662f StandardError \u7684\u5b50\u7c7b\u3002 Error \u8b66\u544a\u4ee5\u5916\u6240\u6709\u5176\u4ed6\u9519\u8bef\u7c7b\u3002\u5fc5\u987b\u662f StandardError \u7684\u5b50\u7c7b\u3002 InterfaceError \u5f53\u6709\u6570\u636e\u5e93\u63a5\u53e3\u6a21\u5757\u672c\u8eab\u7684\u9519\u8bef\uff08\u800c\u4e0d\u662f\u6570\u636e\u5e93\u7684\u9519\u8bef\uff09\u53d1\u751f\u65f6\u89e6\u53d1\u3002 \u5fc5\u987b\u662f Error \u7684\u5b50\u7c7b\u3002 DatabaseError \u548c\u6570\u636e\u5e93\u6709\u5173\u7684\u9519\u8bef\u53d1\u751f\u65f6\u89e6\u53d1\u3002 \u5fc5\u987b\u662f Error \u7684\u5b50\u7c7b\u3002 DataError \u5f53\u6709\u6570\u636e\u5904\u7406\u65f6\u7684\u9519\u8bef\u53d1\u751f\u65f6\u89e6\u53d1\uff0c\u4f8b\u5982\uff1a\u9664\u96f6\u9519\u8bef\uff0c\u6570\u636e\u8d85\u8303\u56f4\u7b49\u7b49\u3002 \u5fc5\u987b\u662f DatabaseError \u7684\u5b50\u7c7b\u3002 OperationalError \u6307\u975e\u7528\u6237\u63a7\u5236\u7684\uff0c\u800c\u662f\u64cd\u4f5c\u6570\u636e\u5e93\u65f6\u53d1\u751f\u7684\u9519\u8bef\u3002\u4f8b\u5982\uff1a\u8fde\u63a5\u610f\u5916\u65ad\u5f00\u3001 \u6570\u636e\u5e93\u540d\u672a\u627e\u5230\u3001\u4e8b\u52a1\u5904\u7406\u5931\u8d25\u3001\u5185\u5b58\u5206\u914d\u9519\u8bef\u7b49\u7b49\u64cd\u4f5c\u6570\u636e\u5e93\u662f\u53d1\u751f\u7684\u9519\u8bef\u3002 \u5fc5\u987b\u662f DatabaseError \u7684\u5b50\u7c7b\u3002 IntegrityError \u5b8c\u6574\u6027\u76f8\u5173\u7684\u9519\u8bef\uff0c\u4f8b\u5982\u5916\u952e\u68c0\u67e5\u5931\u8d25\u7b49\u3002\u5fc5\u987b\u662f DatabaseError \u5b50\u7c7b\u3002 InternalError \u6570\u636e\u5e93\u7684\u5185\u90e8\u9519\u8bef\uff0c\u4f8b\u5982\u6e38\u6807\uff08cursor\uff09\u5931\u6548\u4e86\u3001\u4e8b\u52a1\u540c\u6b65\u5931\u8d25\u7b49\u7b49\u3002 \u5fc5\u987b\u662f DatabaseError \u5b50\u7c7b\u3002 ProgrammingError \u7a0b\u5e8f\u9519\u8bef\uff0c\u4f8b\u5982\u6570\u636e\u8868\uff08table\uff09\u6ca1\u627e\u5230\u6216\u5df2\u5b58\u5728\u3001SQL \u8bed\u53e5\u8bed\u6cd5\u9519\u8bef\u3001 \u53c2\u6570\u6570\u91cf\u9519\u8bef\u7b49\u7b49\u3002\u5fc5\u987b\u662f DatabaseError \u7684\u5b50\u7c7b\u3002 NotSupportedError \u4e0d\u652f\u6301\u9519\u8bef\uff0c\u6307\u4f7f\u7528\u4e86\u6570\u636e\u5e93\u4e0d\u652f\u6301\u7684\u51fd\u6570\u6216 API \u7b49\u3002\u4f8b\u5982\u5728\u8fde\u63a5\u5bf9\u8c61\u4e0a \u4f7f\u7528.rollback()\u51fd\u6570\uff0c\u7136\u800c\u6570\u636e\u5e93\u5e76\u4e0d\u652f\u6301\u4e8b\u52a1\u6216\u8005\u4e8b\u52a1\u5df2\u5173\u95ed\u3002 \u5fc5\u987b\u662f DatabaseError \u7684\u5b50\u7c7b\u3002"},{"location":"backend-sql/22-Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/#_15","title":"\u8bf4\u660e","text":"<p>\u5173\u4e8e Mysql \u7684\u8fde\u63a5\uff0c\u7ecf\u8fc7\u6478\u7d22\uff0c\u5efa\u8bae\u6b63\u6587\u4fee\u6539\u4e00\u4e0b\uff0c\u4f7f\u7528 Mysql \u5b98\u65b9\u63d0\u4f9b\u7684\u8fde\u63a5\u5668\uff0c\u6211\u76ee\u524d\u5b89\u88c5\u7684 Mysql \u662f 8.0.12 \u7248\u672c\uff0c\u6570\u636e\u5e93\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u5b89\u88c5\u201c Mysql -connector-python-8.0.12-py2.7-windows-x86-64bit\u201d\uff0c\u5f53\u7136\u4e86\uff0c\u8981\u6839\u636e\u81ea\u5df1\u7684\u64cd\u4f5c\u7cfb\u7edf\u548c python \u7248\u672c\u4ee5\u53ca\u4f4d\u6570\u8fdb\u884c\u9009\u62e9\uff0c\u6211\u662f win10 \u7684 64 \u4f4d\uff0cpython2.7 \u7684 64 \u4f4d\uff0c\u6545\u9009\u62e9\u7684\u4e0a\u8ff0\u63d2\u4ef6\uff0c\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u76f4\u63a5\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\u8fdb\u884c\u6d4b\u8bd5\uff1a</p> <pre><code># -*- coding:utf-8 -*-\nimport mysql .connector\n\n# \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5\uff08\u8bf7\u6839\u636e\u81ea\u5df1\u7684\u7528\u6237\u540d\u3001\u5bc6\u7801\u53ca\u6570\u636e\u5e93\u540d\u79f0\u8fdb\u884c\u4fee\u6539\uff09\ncnn =  Mysql .connector.connect(user='root',passwd='root',database='testdb')\n\n# \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807\ncursor = cnn.cursor()\n\n# \u4f7f\u7528execute\u65b9\u6cd5\u6267\u884cSQL\u8bed\u53e5\ncursor.execute(\"SELECT VERSION()\")\n\n# \u4f7f\u7528 fetchone() \u65b9\u6cd5\u83b7\u53d6\u4e00\u6761\u6570\u636e\ndata = cursor.fetchone()\nprint \"Database version : %s \" % data\n\n# \u6267\u884csql\u8bed\u53e5\ncnn.close()\n\u663e\u793a\u7684\u7ed3\u679c\u5e94\u8be5\u5982\u4e0b\uff1a\n\nDatabase version : 8.0.12\n</code></pre> <p>\u663e\u793a\u7684\u7ed3\u679c\u5e94\u8be5\u5982\u4e0b\uff1a</p> <pre><code>Database version : 8.0.12\n</code></pre> <p>\u76f8\u5173\u8d44\u6e90\u4e0b\u8f7d\u94fe\u63a5\u5982\u4e0b\uff1a</p> <p>Python2.7\uff08\u4e2a\u4eba\u89c9\u5f97\u8fd9\u4e2a\u7248\u672c\u8bed\u53e5\u517c\u5bb9\u6027\u9ad8\uff0c\u9002\u5408\u5165\u95e8\uff09\uff1a https://blog.python.org/2018/05/python-2715-released.html</p> <p>Mysql 8.0.12\uff08\u8bf7\u6839\u636e\u81ea\u5df1\u9700\u8981\u9009\u62e9\u7248\u672c\uff09\uff1ahttps://dev.mysql.com/downloads/installer/</p> <p>Mysql \u5b98\u65b9\u6570\u636e\u5e93\u8fde\u63a5\u5668\uff08\u8bf7\u6839\u636e\u81ea\u5df1\u9700\u8981\u9009\u62e9\uff09\uff1ahttps://dev.mysql.com/downloads/connector/python/</p>"},{"location":"backend-sql/23-Mac%20pip%20install%20mysql-python/","title":"Mac pip install mysql-python","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3675  \u9605\u8bfb8\u5206\u949f</p> <p>2021-07-23</p>"},{"location":"backend-sql/23-Mac%20pip%20install%20mysql-python/#_1","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>mysql-python \u5b89\u88c5\u5931\u8d25\u7684\u89e3\u51b3\u65b9\u6cd5</p> <p>Mac pip install mysql-python unsuccessfulI installed MySQL and Workbench from website.</p> <p>I have a django project whose requirements.txt:</p> <pre><code>Django==1.11.12\ndjangorestframework==3.8.2\ndjango-cors-headers==2.2.0\ndrfdocs==0.0.11\nmysql-python==1.2.5\ndjango-rest-auth==0.9.3\ndjango-allauth==0.35.0\nnltk==3.2.5\ndjango-extensions==2.0.7\npyparsing==2.2.0\npydot==1.2.4\n</code></pre> <p>When I run</p> <pre><code>pip install -r requirements.txt\n</code></pre> <p>I got an error <code>mysql_config not found</code>. To solve this I ran</p> <pre><code>PATH=$PATH:/usr/local/mysql/bin\n</code></pre> <p>It now throws</p> <pre><code>_mysql.c:44:10: fatal error: 'my_config.h' file not found\n#include \"my_config.h\"\n            ^~~~~~~~~~~~~\n1 error generated.\nerror: command 'cc' failed with exit status 1\n\n----------------------------------------\nCommand \"\"/Users/nitish/gitProjects/Vision Backlog/vb_env/bin/python\" -u -c \"import setuptools,tokenize;\n__file__='/private/var/folders/ql/_w2_rlvs2351pdcnzhn04sf40000gn/T/pip-install-M4ue9E/mysql-python/setup.py';\nf=getattr(tokenize, 'open', open)(__file__);\ncode=f.read().replace('\\r\\n', '\\n');\nf.close();\nexec(compile(code, __file__, 'exec'))\" install --record /private/var/folders/ql/_w2_rlvs2351pdcnzhn04sf40000gn/T/pip-record-7OCzf1/install-record.txt --single-version-externally-managed --compile --install-headers \"/Users/nitish/gitProjects/Vision Backlog/vb_env/include/site/python2.7/mysql-python\"\" failed with error code 1 in /private/var/folders/ql/_w2_rlvs2351pdcnzhn04sf40000gn/T/pip-install-M4ue9E/mysql-python/\n</code></pre> <p>Why is this happening?</p> <p>UPDATE: following bellow solution threw:</p> <pre><code>Collecting MySQL-python\nUsing cached https://files.pythonhosted.org/packages/a5/e9/51b544da85a36a68debe7a7091f068d802fc515a3a202652828c73453cad/MySQL-python-1.2.5.zip\nComplete output from command python setup.py egg_info:\nTraceback (most recent call last):\nFile \"&lt;string&gt;\", line 1, in &lt;module&gt;\nFile \"/private/var/folders/ql/_w2_rlvs2351pdcnzhn04sf40000gn/T/pip-install-X6b4rU/MySQL-python/setup.py\", line 17, in &lt;module&gt;\nmetadata, options = get_config()\nFile \"setup_posix.py\", line 53, in get_config\nlibraries = [ dequote(i[2:]) for i in libs if i.startswith(compiler_flag(\"l\")) ]\nFile \"setup_posix.py\", line 8, in dequote\nif s[0] in \"\\\"'\" and s[0] == s[-1]:\nIndexError: string index out of range\n</code></pre>"},{"location":"backend-sql/23-Mac%20pip%20install%20mysql-python/#_2","title":"\u95ee\u9898\u89e3\u51b3","text":"<p>\u7b2c\u4e00\u79cd\u65b9\u6cd5</p> <p>Please, try:</p> <pre><code>CFLAGS=-Qunused-arguments CPPFLAGS=-Qunused-arguments pip install -r requirements.txt\n</code></pre> <p>If it does not work: First install mysql-connector-c</p> <pre><code>brew install mysql-connector-c\npip install MySQL-python\n</code></pre> <p>If you are using Windows:</p> <p>https://dev.mysql.com/downloads/connector/c/</p> <p>You can also check what happend when you try install it with <code>pip3.</code></p> <p>UPDATE: If you have Linux: Please open the <code>/usr/local/bin/mysql_config</code>.</p> <p>And then:</p> <pre><code>#Create options\nLibs = \"-L $ pkglibdir \"\nLibs = \" $ libs   -l\"\n</code></pre> <p>replace with:</p> <pre><code>#Create options\nLibs = \"- L $ pkglibdir\"\nLibs = \"$ libs -lmysqlclient -lssl -lcrypto\"\n</code></pre> <p>Save it and reinstall <code>mysql-python</code>.</p> <pre><code>pip uninstall mysql-python\npip install mysql-python\n</code></pre> <p>For Mac:</p> <pre><code>LDFLAGS=-L/usr/local/opt/openssl/lib pip install mysql-python\n</code></pre> <p>should be helpful.</p> <p>\u7b2c\u4e8c\u79cd\u65b9\u6cd5</p> <p>Installing of an older version of the MySQL worked for me:</p> <pre><code>brew remove mysql\nbrew install mysql@5.7\nbrew link --force mysql@5.7\npip install mysql-python\n</code></pre> <p>See:</p> <ul> <li>issue on the MySQLdb1 Github</li> <li>and this sof answer</li> </ul>"},{"location":"backend-sql/24-node%E8%BF%9E%E6%8E%A5Mysql%E6%8A%A5%E9%94%99/","title":"node \u8fde\u63a5 Mysql \u62a5\u9519 ER_NOT_SUPPORTED_AUTH_MODE","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2461  \u9605\u8bfb5\u5206\u949f</p> <p>2021-12-01</p> <p>https://www.cnblogs.com/jing-tian/p/11688073.html</p>"},{"location":"backend-sql/24-node%E8%BF%9E%E6%8E%A5Mysql%E6%8A%A5%E9%94%99/#_1","title":"\u62a5\u9519\u4fe1\u606f","text":"<p>\u672c\u4eba\u7cfb\u7edf\u5b89\u88c5\u7684\u662f mysql-installer-community-8.0.18.0.msi \u8fd9\u4e2a\u7248\u672c\uff0c\u7136\u540e\u6211\u672c\u5730\u4f7f\u7528 node-mysql \u53bb\u8fde\u63a5\u6570\u636e\u5e93\u3002</p> <p>test.js \u6587\u4ef6</p> <pre><code>var mysql = require(\"mysql\");\n\nvar connection = mysql.createConnection({\n  host: \"localhost\", //\u672c\u673a\u5730\u5740\n  user: \"root\", //\u7528\u6237\n  password: \"123456\", //\u5bc6\u7801\n  port: \"3306\", //\u7aef\u53e3\u53f7\n  database: \"test\", //\u8981\u8fde\u63a5\u7684\u6570\u636e\u5e93\n});\n\nconnection.connect();\n\nvar sql = \"SELECT * FROM table1\"; //\u67e5\u8be2table1\u8868\u7684\u6240\u6709\u6570\u636e\n\nconnection.query(sql, function (err, result) {\n  if (err) {\n    console.log(\"[SELECT ERROR] - \", err.message);\n    return;\n  }\n\n  console.log(\"--------------------------SELECT----------------------------\");\n  console.log(result);\n  console.log(\n    \"------------------------------------------------------------\\n\\n\"\n  );\n});\n\nconnection.end();\n</code></pre> <p>\u8fd0\u884c node test.js</p> <pre><code>F:\\All Project\\test\\node&gt;node test.js\n[SELECT ERROR] -  ER_NOT_SUPPORTED_AUTH_MODE: Client does not support authentication protocol requested by server; consider upgrading MySQL client\n</code></pre> <p>\u62a5\u9519 [SELECT ERROR] - ER_NOT_SUPPORTED_AUTH_MODE: Client does not support authentication protocol requested by server; consider upgrading MySQL client</p>"},{"location":"backend-sql/24-node%E8%BF%9E%E6%8E%A5Mysql%E6%8A%A5%E9%94%99/#_2","title":"\u62a5\u9519\u539f\u56e0","text":"<p>mysql8.0 \u4ee5\u4e0a\u52a0\u5bc6\u65b9\u5f0f\uff0cNode \u8fd8\u4e0d\u652f\u6301\u3002</p>"},{"location":"backend-sql/24-node%E8%BF%9E%E6%8E%A5Mysql%E6%8A%A5%E9%94%99/#_3","title":"\u89e3\u51b3\u65b9\u6848","text":"<p>\u8c37\u6b4c\u67e5\u5230\u4e86\u8fd9\u4e2a\u7b54\u6848\uff0c\u548c\u6211\u62a5\u9519\u7684\u6b65\u9aa4\u57fa\u672c\u4e00\u6837\uff0c\u6309\u7167\u8fd9\u4e2a\u8fdb\u884c\u64cd\u4f5c\uff0c\u767b\u5f55 mysql \u4f7f\u7528\u8fd9\u4e2a</p> <p>https://stackoverflow.com/questions/50093144/mysql-8-0-client-does-not-support-authentication-protocol-requested-by-server</p> <pre><code>mysql&gt; alter user 'root'@'localhost' identified with mysql_native_password by '123456';\nQuery OK, 0 rows affected (0.27 sec)\n\nmysql&gt; flush privileges;\nQuery OK, 0 rows affected (0.08 sec)\n</code></pre> <p>\u518d\u6b21\u8fd0\u884c</p> <pre><code>F:\\All Project\\test\\node&gt;node test.js\n--------------------------SELECT----------------------------\n[ RowDataPacket {\n    id: '1',\n    name: 'Google',\n    url: 'https://www.google.com',\n    alexa: '1',\n    country: 'USA' },\n  RowDataPacket {\n    id: '3',\n    name: 'Facebook',\n    url: 'https://www.facebook.com',\n    alexa: '3',\n    country: 'USA' },\n  RowDataPacket {\n    id: '4',\n    name: '\u5fae\u535a',\n    url: 'https://www.weibo.com',\n    alexa: '4',\n    country: 'CN' } ]\n------------------------------------------------------------\n</code></pre> <p>\u6210\u529f\u83b7\u5f97\u6570\u636e\u3002</p>"},{"location":"backend-sql/25-mysql%E6%94%AF%E6%8C%81emoji%E8%A1%A8%E6%83%85%E5%82%A8%E5%AD%98/","title":"25-mysql\u652f\u6301emoji\u8868\u60c5\u50a8\u5b58","text":""},{"location":"backend-sql/25-mysql%E6%94%AF%E6%8C%81emoji%E8%A1%A8%E6%83%85%E5%82%A8%E5%AD%98/#mysql-emoji","title":"mysql \u652f\u6301 emoji \u8868\u60c5\u50a8\u5b58","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1180  \u9605\u8bfb3\u5206\u949f</p>"},{"location":"backend-sql/25-mysql%E6%94%AF%E6%8C%81emoji%E8%A1%A8%E6%83%85%E5%82%A8%E5%AD%98/#_1","title":"\u4e00\u3001\u524d\u8a00","text":"<p>\u6709\u4e2a API \u662f\u8bc4\u8bba\u76f8\u5173\uff0c\u7136\u540e\u5b9e\u9645\u7528\u6237\u8bc4\u8bba\u4e2d\u5305\u542b\u8868\u60c5\uff0c\u754c\u9762\u4e2d\u65e0\u6cd5\u663e\u793a emoji \u8868\u60c5\u3002</p> <p>emoji \u8868\u60c5\u53d1\u9001\u5931\u8d25\uff0c\u539f\u56e0\u662f\u6570\u636e\u5e93\u4e0d\u80fd\u5b58\u50a8 emoji \u8868\u60c5\uff0c\u9700\u8981\u4fee\u6539 mysql \u7684\u914d\u7f6e\uff0c\u5c06\u5b57\u7b26\u7c7b\u578b\u4fee\u6539\u4e3a utf8mb4\u3002</p>"},{"location":"backend-sql/25-mysql%E6%94%AF%E6%8C%81emoji%E8%A1%A8%E6%83%85%E5%82%A8%E5%AD%98/#_2","title":"\u4e8c\u3001\u539f\u7406","text":"<p>mysql \u7684 utf-8 \u7f16\u7801\u7684\u4e00\u4e2a\u5b57\u7b26\u6700\u591a 3 \u4e2a\u5b57\u8282\uff0c\u4f46\u662f\u4e00\u4e2a emoji \u8868\u60c5\u4e3a 4 \u4e2a\u5b57\u8282\uff0c\u6240\u4ee5 utf-8 \u4e0d\u652f\u6301\u50a8\u5b58 emoji \u8868\u60c5\uff0c\u4f46\u662f utf-8 \u7684\u8d85\u96c6 utf8mb4 \u4e00\u4e2a\u5b57\u7b26\u6700\u591a\u80fd\u6709 4 \u4e2a\u5b57\u8282\uff0c\u6240\u4ee5\u80fd\u591f\u652f\u6301 emoji \u7684\u8868\u60c5\u5b58\u50a8\u3002</p> <p>linux \u4e2d mysql \u914d\u7f6e\u6587\u4ef6\u4e3a my.cnf\u3002</p> <pre><code>[root@iZmenZ ~]# whereis my.cnf\nmy: /etc/my.cnf\n</code></pre>"},{"location":"backend-sql/25-mysql%E6%94%AF%E6%8C%81emoji%E8%A1%A8%E6%83%85%E5%82%A8%E5%AD%98/#mysql","title":"\u4e09\u3001\u4fee\u6539 mysql \u7684\u914d\u7f6e\u6587\u4ef6","text":"<p>\u627e\u5230/etc/mysql \u8def\u5f84\u4e0b\u6709 my.cnf \u6587\u4ef6\uff0c\u6dfb\u52a0\u5982\u4e0b\u7684\u914d\u7f6e\uff1a</p> <pre><code>[client]\ndefault-character-set=utf8mb4\n\n[mysqld]\ncharacter-set-client-handshake = FALSE\ncharacter-set-server = utf8mb4\ncollation-server = utf8mb4_unicode_ci\ninit_connect='SET NAMES utf8mb4'\n\n[mysql]\ndefault-character-set=utf8mb4\n</code></pre> <p>\u7136\u540e\u91cd\u542f mysql \u7684\u670d\u52a1\uff1a</p> <pre><code>[root@iZenZ ~]# service mysqld restart\nRedirecting to /bin/systemctl restart mysqld.service\n</code></pre> <p>\u7136\u540e\u5c31 OK</p>"},{"location":"backend-sql/26-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%9A%E8%A1%A8%E9%93%BE%E6%8E%A5/","title":"26-\u6570\u636e\u5e93\u591a\u8868\u94fe\u63a5","text":""},{"location":"backend-sql/26-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%9A%E8%A1%A8%E9%93%BE%E6%8E%A5/#_1","title":"\u6570\u636e\u5e93\u591a\u8868\u94fe\u63a5","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4603  \u9605\u8bfb10\u5206\u949f</p>"},{"location":"backend-sql/26-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%9A%E8%A1%A8%E9%93%BE%E6%8E%A5/#_2","title":"\u95ee\u9898","text":"<p>\u524d\u7aef\u53d1\u51fa\u4e00\u4e2a API \u8bf7\u6c42\uff0c\u5e0c\u671b\u67e5\u8be2\u5230\u591a\u4e2a\u4fe1\u606f\uff0c\u591a\u4e2a\u4fe1\u606f\u5206\u522b\u5728\u4e0d\u540c\u7684\u6570\u636e\u5e93\u8868\u4e2d\u4fdd\u5b58\uff0c\u5982\u679c\u6267\u884c\u591a\u6761 SQL \u8bed\u53e5\u6027\u80fd\u4e0d\u597d\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528\u591a\u8868\u94fe\u63a5\u67e5\u8be2\uff0c\u5b9e\u73b0\u4e00\u4e2a SQL \u8bed\u53e5\u83b7\u53d6\u591a\u4e2a\u6570\u636e\u5e93\u8868\u7684\u4fe1\u606f\u3002</p>"},{"location":"backend-sql/26-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%9A%E8%A1%A8%E9%93%BE%E6%8E%A5/#_3","title":"\u5b9e\u73b0\u539f\u7406","text":"<p>\u4e0d\u540c\u6570\u636e\u5e93\u8868\u4e2d\u6709\u4e3b\u952e\uff0c\u5916\u952e\u7b49\u5b57\u6bb5\uff0c\u90a3\u4e48\u4e24\u4e2a\u6570\u636e\u5e93\u8868\u4e2d\u901a\u5e38\u67d0\u4e2a\u5b57\u6bb5\u662f\u76f8\u540c\u7684\uff08\u4f8b\u5982\u7528\u6237 ID\uff09\uff0c\u7136\u540e\u53ef\u4ee5\u67e5\u8be2\u8fd9\u4e24\u4e2a\u6570\u636e\u5e93\u8868\uff0c\u7136\u540e\u628a\u7ed3\u679c\u53d6\u4ea4\u96c6\uff0c\u5e76\u96c6\uff0c\u5de6\u96c6\uff0c\u53f3\u96c6\uff0c\u5c31\u80fd\u8fd4\u56de\u5bf9\u5e94\u7684\u7ed3\u679c\u3002</p> <p></p>"},{"location":"backend-sql/26-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%9A%E8%A1%A8%E9%93%BE%E6%8E%A5/#_4","title":"\u5bf9\u5e94\u672f\u8bed","text":"<p>\u4ea4\u96c6\u2014\u2014\u5185\u8fde\u63a5\uff08INNER JOIN\uff09</p> <p>\u5e76\u96c6\u2014\u2014\u5168\u5916\u8fde\u63a5\uff08FULL JOIN\uff09\uff0c\u5168\u8fde\u63a5\uff0c\u8054\u5408\u67e5\u8be2\uff08UNION\uff09</p> <p>\u5de6\u96c6\uff08\u5de6\u4fa7\u96c6\u5408\u5168\u90e8+\u4ea4\u96c6\uff09\u2014\u2014 \u5de6\u5916\u8fde\u63a5\uff08LEFT JOIN\uff09</p> <p>\u53f3\u96c6\uff08\u53f3\u4fa7\u96c6\u5408\u5168\u90e8+\u4ea4\u96c6\uff09\u2014\u2014 \u53f3\u5916\u8fde\u63a5\uff08RIGHT JOIN\uff09</p>"},{"location":"backend-sql/26-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%9A%E8%A1%A8%E9%93%BE%E6%8E%A5/#_5","title":"\u5185\u8fde\u63a5","text":"<p>on \u8868\u793a\u4e24\u4e2a\u6570\u636e\u5e93\u8868\u5339\u914d\u7684\u6761\u4ef6</p> <pre><code>SELECT column_name(s)\nFROM table1\nINNER JOIN table2\nON table1.column_name = table2.column_name;\n</code></pre>"},{"location":"backend-sql/26-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%9A%E8%A1%A8%E9%93%BE%E6%8E%A5/#_6","title":"\u5de6\u5916\u8fde\u63a5","text":"<pre><code>select column_name(s) from table1 left join table2 on table1.column = table2.column;\n</code></pre>"},{"location":"backend-sql/26-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%9A%E8%A1%A8%E9%93%BE%E6%8E%A5/#_7","title":"\u53f3\u5916\u8fde\u63a5","text":"<pre><code>select column_name(s) from table2 right join table1 on table2.column_name = table1.column_name;\n</code></pre>"},{"location":"backend-sql/26-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%9A%E8%A1%A8%E9%93%BE%E6%8E%A5/#_8","title":"\u8054\u5408\u67e5\u8be2","text":"<p>\u8054\u5408\u67e5\u8be2\u5c06\u4e24\u4e2a\u6216\u591a\u4e2a\u8868\u4e2d\u7684\u6570\u636e\u5408\u5e76\u6210\u4e00\u4e2a\u7ed3\u679c\u96c6\uff0c\u4e0d\u5305\u62ec\u91cd\u590d\u7684\u884c\u3002\u8981\u6c42\u6bcf\u4e2a\u8868\u4e2d\u7684\u5217\u6570\u548c\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u5b8c\u5168\u4e00\u81f4\u3002\u8054\u5408\u67e5\u8be2\u7684\u8bed\u6cd5\u4e3a</p> <pre><code>select column_names from table1 union select column_names from table2;\n</code></pre>"},{"location":"backend-sql/26-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%9A%E8%A1%A8%E9%93%BE%E6%8E%A5/#_9","title":"\u5404\u4e2a\u8fde\u63a5\u7684\u533a\u522b","text":"\u8fde\u63a5\u65b9\u5f0f \u542b\u4e49 \u7ed3\u679c \u5de6\u8868 \u53f3\u8868 \u53c2\u4e0e\u6761\u4ef6 \u662f\u5426\u4fdd\u7559\u672a\u5339\u914d\u6570\u636e \u5185\u8fde\u63a5\uff08INNER JOIN\uff09 \u53ea\u8fd4\u56de\u4e24\u4e2a\u8868\u4e2d\u5b58\u5728\u5339\u914d\u7684\u884c \u5339\u914d\u7684\u884c \u8868 A \u8868 B ON \u6761\u4ef6 \u5426 \u5de6\u5916\u8fde\u63a5\uff08LEFT JOIN\uff09 \u8fd4\u56de\u5de6\u8868\u4e2d\u6240\u6709\u884c\u548c\u53f3\u8868\u4e2d\u4e0e\u5de6\u8868\u5339\u914d\u7684\u884c \u5339\u914d\u7684\u884c+\u5de6\u8868\u672a\u5339\u914d\u884c null \u503c \u8868 A \u8868 B ON \u6761\u4ef6 \u53f3\u5916\u8fde\u63a5\uff08RIGHT JOIN\uff09 \u8fd4\u56de\u53f3\u8868\u4e2d\u6240\u6709\u884c\u548c\u5de6\u8868\u4e2d\u4e0e\u53f3\u8868\u5339\u914d\u7684\u884c \u5339\u914d\u7684\u884c+\u53f3\u8868\u672a\u5339\u914d\u884c null \u503c \u8868 A \u8868 B ON \u6761\u4ef6 \u5168\u8fde\u63a5\uff08FULL OUTER JOIN\uff09 \u8fd4\u56de\u5de6\u8868\u548c\u53f3\u8868\u4e2d\u6240\u6709\u7684\u884c\uff0c\u5982\u679c\u5339\u914d\uff0c\u5219\u8fd4\u56de\u5339\u914d\u7684\u884c \u5339\u914d\u7684\u884c+\u5de6\u8868\u672a\u5339\u914d\u884c+\u53f3\u8868\u672a\u5339\u914d\u884c null \u503c \u8868 A \u8868 B ON \u6761\u4ef6 \u4ea4\u53c9\u8fde\u63a5\uff08CROSS JOIN\uff09 \u8fd4\u56de\u4e24\u4e2a\u8868\u4e2d\u6240\u6709\u5339\u914d\u7684\u884c \u7b1b\u5361\u5c14\u79ef \u8868 A \u8868 B \u65e0\uff08\u4e0d\u9700\u8981\u6761\u4ef6\uff09 \u5426 \u8054\u5408\u67e5\u8be2\uff08UNION\uff09 \u628a\u4e24\u4e2a\u8868\u4e2d\u7684\u7ed3\u679c\u96c6\u5408\u5e76\u5728\u4e00\u8d77\u5e76\u53bb\u91cd \u5408\u5e76\u4e14\u53bb\u91cd\u540e\u7684\u884c \u8868 A \u8868 B \u65e0\uff08\u4e24\u4e2a\u8868\u7ed3\u6784\u548c\u5217\u6570\u5fc5\u987b\u4e00\u81f4\uff09 \u5426"},{"location":"backend-sql/26-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%9A%E8%A1%A8%E9%93%BE%E6%8E%A5/#_10","title":"\u4ee3\u7801\u6848\u4f8b","text":"<pre><code>-- \u521b\u5efa\u8868 A \u5e76\u63d2\u5165\u6570\u636e\nCREATE TABLE A (\n  id INT PRIMARY KEY,\n  name VARCHAR(50)\n);\n\nINSERT INTO A VALUES (1, 'Alice');\nINSERT INTO A VALUES (2, 'Bob');\nINSERT INTO A VALUES (3, 'Cathy');\nINSERT INTO A VALUES (4, 'David');\nINSERT INTO A VALUES (5, 'Edward');\n\n-- \u521b\u5efa\u8868 B \u5e76\u63d2\u5165\u6570\u636e\nCREATE TABLE B (\n  id INT PRIMARY KEY,\n  age INT\n);\n\nINSERT INTO B VALUES (2, 25);\nINSERT INTO B VALUES (3, 30);\nINSERT INTO B VALUES (4, 35);\nINSERT INTO B VALUES (6, 40);\n\n-- \u5185\u8fde\u63a5\u67e5\u8be2\nSELECT A.id, A.name, B.age\nFROM A\nINNER JOIN B\nON A.id = B.id;\n\n-- \u5de6\u8fde\u63a5\u67e5\u8be2\nSELECT A.id, A.name, B.age\nFROM A\nLEFT JOIN B\nON A.id = B.id;\n\n-- \u53f3\u8fde\u63a5\u67e5\u8be2\nSELECT A.id, A.name, B.age\nFROM A\nRIGHT JOIN B\nON A.id = B.id;\n\n-- \u5168\u8fde\u63a5\u67e5\u8be2\nSELECT A.id, A.name, B.age\nFROM A\nFULL OUTER JOIN B\nON A.id = B.id;\n\n-- \u4ea4\u53c9\u8fde\u63a5\u67e5\u8be2\nSELECT A.id, A.name, B.age\nFROM A\nCROSS JOIN B;\n\n-- \u8054\u5408\u67e5\u8be2\nSELECT id, name\nFROM A\nUNION\nSELECT id, NULL AS name\nFROM B;\n</code></pre>"},{"location":"backend-sql/26-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%9A%E8%A1%A8%E9%93%BE%E6%8E%A5/#_11","title":"\u53c2\u8003","text":"<p>https://www.runoob.com/sql/sql-join.html</p> <p>https://blog.csdn.net/aqiuisme/article/details/132500884</p>"},{"location":"express/express%20%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/","title":"\u817e\u8baf\u4e91 express \u57fa\u7840\u5165\u95e8","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2960  \u9605\u8bfb6\u5206\u949f</p> <p>\u817e\u8baf\u4e91\u8bfe\u7a0b\u94fe\u63a5\uff1ahttps://study.163.com/course/introduction.htm?courseId=1006174010#/courseDetail?tab=1</p> <p>\u8bfe\u7a0b\u76ee\u6807\uff1aexpress \u670d\u52a1\u542f\u52a8\uff0c\u670d\u52a1\u7aef\u548c\u6570\u636e\u5e93\u5bf9\u63a5\uff1b\u670d\u52a1\u7aef\u548c\u524d\u7aef\u754c\u9762\u5bf9\u63a5</p>"},{"location":"express/express%20%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/#1","title":"1\u3001\u6846\u67b6\u51c6\u5907\u548c\u5b89\u88c5","text":"<p>\u672c\u5730\u4e0b\u8f7d nodejs \u548c express\uff0c\u5e76\u521b\u5efa\u9879\u76ee\uff1b\u90e8\u7f72\u4e91\u6570\u636e\u5e93 MYSQL \u548c\u4e91\u4e3b\u673a\uff08\u4e91\u670d\u52a1\u5668\uff09\uff0cexpress \u672c\u5730\u67b6\u6784\u5982\u4e0b</p> <pre><code>api\nrouters\nconfig\nviews\nsrc\n</code></pre>"},{"location":"express/express%20%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/#2ejs","title":"2\u3001ejs \u548c\u9875\u9762","text":"<p>npm install ejs \u652f\u6301 ejs \u8bed\u6cd5</p>"},{"location":"express/express%20%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/#21","title":"2.1 \u6a21\u677f\u9875\u9762","text":"<p>\u7136\u540e\u65b0\u5efa index.ejs \u6587\u4ef6\uff0c\u4f7f\u7528 \\&lt;% %&gt; \u8fdb\u884c\u4f20\u53c2</p> <pre><code>&lt;head&gt;\n  &lt;title&gt;&lt;%=title %&gt;&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;% code %&gt; \u628a\u53d8\u91cf\u4f5c\u4e3a\u4ee3\u7801\u7247\u6bb5\u6267\u884c\n\n&lt;%= html %&gt; \u628a\u53d8\u91cf\u8f6c\u6362\u6210 HTML \u8f93\u51fa\n\n&lt;%- string %&gt; \u628a\u53d8\u91cf\u8f6c\u6362\u6210\u5b57\u7b26\u4e32\u8f93\u51fa\n</code></pre>"},{"location":"express/express%20%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/#22-appjs","title":"2.2 \u4e3b\u51fd\u6570 app.js","text":"<pre><code>const path = require(\"path\");\nconst express = require(\"express\");\n\nconst app = express();\n\n// body \u89e3\u6790\u4e2d\u95f4\u4ef6\nconst bodyParser = require(\"body-parser\");\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: false }));\n\n// \u89c6\u56fe\u51fd\u6570\u5904\u7406\napp.set(\"views\", path.join(__dirname, \"views\"));\napp.set(\"view engine\", \"ejs\");\n\n// \u9759\u6001\u6587\u4ef6\u5904\u7406\uff08css, js, imgs, fonts\uff09\u4e2d\u95f4\u4ef6\napp.use(express.static(\"src\"));\n\n// \u8def\u7531\u5904\u7406\uff08\u9875\u9762\u548cAPI\u8def\u7531\uff09\nconst routers = require(\"./routers/index\");\napp.use(\"/\", routers);\nconst add = require(\"./api/add\");\napp.user(\"/api\", add);\n\nconst server = app.listen(8080, function () {\n  console.log(\"server is running\");\n});\n</code></pre>"},{"location":"express/express%20%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/#23-routersjs","title":"2.3 \u8def\u7531\u51fd\u6570 routers.js \uff08\u6839\u8def\u5f84\uff09","text":"<pre><code>const express = require(\"express\");\nconst router = express.Router();\n\nrouter.get(\"/\", function (req, res, next) {\n  res.render(\"index\", { title: \"Hello Express\" });\n});\n\nmodule.exports = routers;\n</code></pre>"},{"location":"express/express%20%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/#3mysql","title":"3\u3001mysql \u548c\u63a5\u53e3","text":"<p>config.json</p> <pre><code>{\n  \"host\": \"\",\n  \"port\": \"3309\",\n  \"user\": \"\",\n  \"password\": \"\",\n  \"database\": \"\"\n}\n</code></pre> <p>app \u63a5\u53e3\u51fd\u6570</p> <pre><code>const express = require(\"express\");\nconst router = express.Router();\nconst mysql = require(\"mysql\");\nconst config = require(\"./config/config.json\");\n\nrouter.post(\"\", function (req, res) {\n  const connection = mysql.createConnection(config);\n  connection.connect();\n  var name = req.body.name || \"\";\n  var sql = \"INSERT into user values (\" + \"'',\" + connection.escape(name) + \")\";\n  connection.query(sql, function (err, rows, fields) {\n    res.send({\n      status: true,\n      data: rows,\n      message: \"success\",\n    });\n  });\n  connection.end();\n});\n\nmodule.exports = router;\n</code></pre> <p>\u63a5\u53e3\u6587\u6863\uff1a</p> <ul> <li>URL</li> <li>\u7c7b\u578b POST</li> <li>\u53c2\u6570</li> <li>\u8fd4\u56de\u503c</li> </ul>"},{"location":"express/express%20%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/#4cvm","title":"4\u3001cvm \u4e91\u670d\u52a1\u5668\u542f\u52a8\u548c\u90e8\u7f72","text":"<p>\u4ee3\u7801\u90e8\u7f72\u5230\u4e91\u670d\u52a1\u5668\u4e0a\uff08cvm \u662f Cloud Virtual Machine \u7684\u7f29\u5199,\u610f\u601d\u5c31\u662f\u4e91\u865a\u62df\u673a\uff09</p> <p>\u90a3\u4e48\u9700\u8981 cvm \u7cfb\u7edf\u5b89\u88c5\uff08ubuntu centOS\uff09nodejs \u7b49\uff0c\u90fd\u9700\u8981\u547d\u4ee4\u884c\u5de5\u5177\uff0cyum \u5de5\u5177\u7b49\u64cd\u4f5c</p> <p>ftp \u6587\u4ef6\u4e0a\u4f20\u5de5\u5177\uff1avs-ftp-d very secure FTP deamon</p> <p>pm2 \u5de5\u5177\u5b89\u88c5\uff08\u7c7b\u4f3c\u4e8e nodemon \u5de5\u5177\uff09</p> <p>\u57df\u540d\u8d2d\u4e70\u7b49</p>"},{"location":"network/2017-12-19-travis-ci-tutorial/","title":"\u6301\u7eed\u96c6\u6210\u670d\u52a1 Travis CI \u6559\u7a0b","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 14163  \u9605\u8bfb29\u5206\u949f</p> <p>\u5199\u4ee3\u7801\u53ea\u662f\u8f6f\u4ef6\u5f00\u53d1\u7684\u4e00\u5c0f\u90e8\u5206\uff0c\u66f4\u591a\u7684\u65f6\u95f4\u5f80\u5f80\u82b1\u5728\u6784\u5efa\uff08build\uff09\u548c\u6d4b\u8bd5\uff08test\uff09\u4e0a\u9762\u3002</p> <p>\u6240\u4ee5\u6beb\u4e0d\u5947\u602a\uff0c\u4e3a\u4e86\u63d0\u9ad8\u8f6f\u4ef6\u5f00\u53d1\u7684\u6548\u7387\uff0c\u6784\u5efa\u548c\u6d4b\u8bd5\u7684\u81ea\u52a8\u5316\u5de5\u5177\u5c42\u51fa\u4e0d\u7a77\u3002Travis CI \u5c31\u662f\u8fd9\u7c7b\u5de5\u5177\u4e4b\u4e2d\uff0c\u5e02\u573a\u4efd\u989d\u6700\u5927\u7684\u4e00\u4e2a\u3002</p> <p></p> <p>\u672c\u6587\u4ecb\u7ecd Travis CI \u7684\u57fa\u672c\u7528\u6cd5\u3002\u6211\u7684\u4f53\u4f1a\u662f\uff0c\u7528\u597d\u8fd9\u4e2a\u5de5\u5177\u4e0d\u4ec5\u53ef\u4ee5\u63d0\u9ad8\u6548\u7387\uff0c\u8fd8\u80fd\u4f7f\u5f00\u53d1\u6d41\u7a0b\u53d8\u5f97\u66f4\u53ef\u9760\u548c\u4e13\u4e1a\u5316\uff0c\u4ece\u800c\u63d0\u9ad8\u8f6f\u4ef6\u7684\u4ef7\u503c\u3002\u800c\u4e14\uff0c\u5b83\u5bf9\u4e8e\u5f00\u6e90\u9879\u76ee\u662f\u514d\u8d39\u7684\uff0c\u4e0d\u82b1\u4e00\u5206\u94b1\uff0c\u5c31\u80fd\u5e2e\u4f60\u505a\u6389\u5f88\u591a\u4e8b\u60c5\u3002</p>"},{"location":"network/2017-12-19-travis-ci-tutorial/#_1","title":"\u4e00\u3001\u4ec0\u4e48\u662f\u6301\u7eed\u96c6\u6210\uff1f","text":"<p>Travis CI \u63d0\u4f9b\u7684\u662f\u6301\u7eed\u96c6\u6210\u670d\u52a1\uff08Continuous Integration\uff0c\u7b80\u79f0 CI\uff09\u3002\u5b83\u7ed1\u5b9a Github \u4e0a\u9762\u7684\u9879\u76ee\uff0c\u53ea\u8981\u6709\u65b0\u7684\u4ee3\u7801\uff0c\u5c31\u4f1a\u81ea\u52a8\u6293\u53d6\u3002\u7136\u540e\uff0c\u63d0\u4f9b\u4e00\u4e2a\u8fd0\u884c\u73af\u5883\uff0c\u6267\u884c\u6d4b\u8bd5\uff0c\u5b8c\u6210\u6784\u5efa\uff0c\u8fd8\u80fd\u90e8\u7f72\u5230\u670d\u52a1\u5668\u3002</p> <p>\u6301\u7eed\u96c6\u6210\u6307\u7684\u662f\u53ea\u8981\u4ee3\u7801\u6709\u53d8\u66f4\uff0c\u5c31\u81ea\u52a8\u8fd0\u884c\u6784\u5efa\u548c\u6d4b\u8bd5\uff0c\u53cd\u9988\u8fd0\u884c\u7ed3\u679c\u3002\u786e\u4fdd\u7b26\u5408\u9884\u671f\u4ee5\u540e\uff0c\u518d\u5c06\u65b0\u4ee3\u7801\u201c\u96c6\u6210\u201d\u5230\u4e3b\u5e72\u3002</p> <p>\u6301\u7eed\u96c6\u6210\u7684\u597d\u5904\u5728\u4e8e\uff0c\u6bcf\u6b21\u4ee3\u7801\u7684\u5c0f\u5e45\u53d8\u66f4\uff0c\u5c31\u80fd\u770b\u5230\u8fd0\u884c\u7ed3\u679c\uff0c\u4ece\u800c\u4e0d\u65ad\u7d2f\u79ef\u5c0f\u7684\u53d8\u66f4\uff0c\u800c\u4e0d\u662f\u5728\u5f00\u53d1\u5468\u671f\u7ed3\u675f\u65f6\uff0c\u4e00\u4e0b\u5b50\u5408\u5e76\u4e00\u5927\u5757\u4ee3\u7801\u3002</p>"},{"location":"network/2017-12-19-travis-ci-tutorial/#_2","title":"\u4e8c\u3001\u4f7f\u7528\u51c6\u5907","text":"<p>Travis CI \u53ea\u652f\u6301 Github\uff0c\u4e0d\u652f\u6301\u5176\u4ed6\u4ee3\u7801\u6258\u7ba1\u670d\u52a1\u3002\u8fd9\u610f\u5473\u7740\uff0c\u4f60\u5fc5\u987b\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\uff0c\u624d\u80fd\u4f7f\u7528 Travis CI\u3002</p> <ul> <li>\u62e5\u6709 GitHub \u5e10\u53f7</li> <li>\u8be5\u5e10\u53f7\u4e0b\u9762\u6709\u4e00\u4e2a\u9879\u76ee</li> <li>\u8be5\u9879\u76ee\u91cc\u9762\u6709\u53ef\u8fd0\u884c\u7684\u4ee3\u7801</li> <li>\u8be5\u9879\u76ee\u8fd8\u5305\u542b\u6784\u5efa\u6216\u6d4b\u8bd5\u811a\u672c</li> </ul> <p>\u5982\u679c\u8fd9\u4e9b\u6761\u4ef6\u90fd\u6ca1\u95ee\u9898\uff0c\u5c31\u53ef\u4ee5\u5f00\u59cb\u4f7f\u7528 Travis CI \u4e86\u3002</p> <p>\u9996\u5148\uff0c\u8bbf\u95ee\u5b98\u65b9\u7f51\u7ad9 travis-ci.org\uff0c\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u4e2a\u4eba\u5934\u50cf\uff0c\u4f7f\u7528 Github \u8d26\u6237\u767b\u5165 Travis CI\u3002</p> <p>Travis \u4f1a\u5217\u51fa Github \u4e0a\u9762\u4f60\u7684\u6240\u6709\u4ed3\u5e93\uff0c\u4ee5\u53ca\u4f60\u6240\u5c5e\u4e8e\u7684\u7ec4\u7ec7\u3002\u6b64\u65f6\uff0c\u9009\u62e9\u4f60\u9700\u8981 Travis \u5e2e\u4f60\u6784\u5efa\u7684\u4ed3\u5e93\uff0c\u6253\u5f00\u4ed3\u5e93\u65c1\u8fb9\u7684\u5f00\u5173\u3002\u4e00\u65e6\u6fc0\u6d3b\u4e86\u4e00\u4e2a\u4ed3\u5e93\uff0cTravis \u4f1a\u76d1\u542c\u8fd9\u4e2a\u4ed3\u5e93\u7684\u6240\u6709\u53d8\u5316\u3002</p> <p></p>"},{"location":"network/2017-12-19-travis-ci-tutorial/#travisyml","title":"\u4e09\u3001.travis.yml","text":"<p>Travis \u8981\u6c42\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\u9762\uff0c\u5fc5\u987b\u6709\u4e00\u4e2a<code>.travis.yml</code>\u6587\u4ef6\u3002\u8fd9\u662f\u914d\u7f6e\u6587\u4ef6\uff0c\u6307\u5b9a\u4e86 Travis \u7684\u884c\u4e3a\u3002\u8be5\u6587\u4ef6\u5fc5\u987b\u4fdd\u5b58\u5728 Github \u4ed3\u5e93\u91cc\u9762\uff0c\u4e00\u65e6\u4ee3\u7801\u4ed3\u5e93\u6709\u65b0\u7684 Commit\uff0cTravis \u5c31\u4f1a\u53bb\u627e\u8fd9\u4e2a\u6587\u4ef6\uff0c\u6267\u884c\u91cc\u9762\u7684\u547d\u4ee4\u3002</p> <p>\u8fd9\u4e2a\u6587\u4ef6\u91c7\u7528 YAML \u683c\u5f0f\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u6700\u7b80\u5355\u7684 Python \u9879\u76ee\u7684<code>.travis.yml</code>\u6587\u4ef6\u3002</p> <pre><code>language: python\nscript: true\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8bbe\u7f6e\u4e86\u4e24\u4e2a\u5b57\u6bb5\u3002<code>language</code>\u5b57\u6bb5\u6307\u5b9a\u4e86\u9ed8\u8ba4\u8fd0\u884c\u73af\u5883\uff0c\u8fd9\u91cc\u8bbe\u5b9a\u4f7f\u7528 Python \u73af\u5883\u3002<code>script</code>\u5b57\u6bb5\u6307\u5b9a\u8981\u8fd0\u884c\u7684\u811a\u672c\uff0c<code>script: true</code>\u8868\u793a\u4e0d\u6267\u884c\u4efb\u4f55\u811a\u672c\uff0c\u72b6\u6001\u76f4\u63a5\u8bbe\u4e3a\u6210\u529f\u3002</p> <p>Travis \u9ed8\u8ba4\u63d0\u4f9b\u7684\u8fd0\u884c\u73af\u5883\uff0c\u8bf7\u53c2\u8003\u5b98\u65b9\u6587\u6863 \u3002\u76ee\u524d\u4e00\u5171\u652f\u6301 31 \u79cd\u8bed\u8a00\uff0c\u4ee5\u540e\u8fd8\u4f1a\u4e0d\u65ad\u589e\u52a0\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u7a0d\u5fae\u590d\u6742\u4e00\u70b9\u7684<code>.travis.yml</code>\u3002</p> <pre><code>language: python\nsudo: required\nbefore_install: sudo pip install foo\nscript: py.test\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8bbe\u7f6e\u4e86\u56db\u4e2a\u5b57\u6bb5\uff1a\u8fd0\u884c\u73af\u5883\u662f Python\uff0c\u9700\u8981<code>sudo</code>\u6743\u9650\uff0c\u5728\u5b89\u88c5\u4f9d\u8d56\u4e4b\u524d\u9700\u8981\u5b89\u88c5<code>foo</code>\u6a21\u5757\uff0c\u7136\u540e\u6267\u884c\u811a\u672c<code>py.test</code>\u3002</p>"},{"location":"network/2017-12-19-travis-ci-tutorial/#_3","title":"\u56db\u3001\u8fd0\u884c\u6d41\u7a0b","text":"<p>Travis \u7684\u8fd0\u884c\u6d41\u7a0b\u5f88\u7b80\u5355\uff0c\u4efb\u4f55\u9879\u76ee\u90fd\u4f1a\u7ecf\u8fc7\u4e24\u4e2a\u9636\u6bb5\u3002</p> <ul> <li>install \u9636\u6bb5\uff1a\u5b89\u88c5\u4f9d\u8d56</li> <li>script \u9636\u6bb5\uff1a\u8fd0\u884c\u811a\u672c</li> </ul>"},{"location":"network/2017-12-19-travis-ci-tutorial/#41-install","title":"4.1 install \u9636\u6bb5","text":"<p><code>install</code>\u9636\u6bb5\u7528\u6765\u6307\u5b9a\u5b89\u88c5\u811a\u672c\u3002</p> <pre><code>install: ./install-dependencies.sh\n</code></pre> <p>\u5982\u679c\u6709\u591a\u4e2a\u811a\u672c\uff0c\u53ef\u4ee5\u5199\u6210\u4e0b\u9762\u7684\u5f62\u5f0f\u3002</p> <pre><code>install:\n  - command1\n  - command2\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c<code>command1</code>\u5931\u8d25\u4e86\uff0c\u6574\u4e2a\u6784\u5efa\u5c31\u4f1a\u505c\u4e0b\u6765\uff0c\u4e0d\u518d\u5f80\u4e0b\u8fdb\u884c\u3002</p> <p>\u5982\u679c\u4e0d\u9700\u8981\u5b89\u88c5\uff0c\u5373\u8df3\u8fc7\u5b89\u88c5\u9636\u6bb5\uff0c\u5c31\u76f4\u63a5\u8bbe\u4e3a<code>true</code>\u3002</p> <pre><code>install: true\n</code></pre>"},{"location":"network/2017-12-19-travis-ci-tutorial/#42script","title":"4.2\u3001script \u9636\u6bb5","text":"<p><code>script</code>\u9636\u6bb5\u7528\u6765\u6307\u5b9a\u6784\u5efa\u6216\u6d4b\u8bd5\u811a\u672c\u3002</p> <pre><code>script: bundle exec thor build\n</code></pre> <p>\u5982\u679c\u6709\u591a\u4e2a\u811a\u672c\uff0c\u53ef\u4ee5\u5199\u6210\u4e0b\u9762\u7684\u5f62\u5f0f\u3002</p> <pre><code>script:\n  - command1\n  - command2\n</code></pre> <p>\u6ce8\u610f\uff0c<code>script</code>\u4e0e<code>install</code>\u4e0d\u4e00\u6837\uff0c\u5982\u679c<code>command1</code>\u5931\u8d25\uff0c<code>command2</code>\u4f1a\u7ee7\u7eed\u6267\u884c\u3002\u4f46\u662f\uff0c\u6574\u4e2a\u6784\u5efa\u9636\u6bb5\u7684\u72b6\u6001\u662f\u5931\u8d25\u3002</p> <p>\u5982\u679c<code>command2</code>\u53ea\u6709\u5728<code>command1</code>\u6210\u529f\u540e\u624d\u80fd\u6267\u884c\uff0c\u5c31\u8981\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002</p> <pre><code>script: command1 &amp;&amp; command2\n</code></pre>"},{"location":"network/2017-12-19-travis-ci-tutorial/#43-node","title":"4.3 \u5b9e\u4f8b\uff1aNode \u9879\u76ee","text":"<p>Node \u9879\u76ee\u7684\u9884\u8bbe\u73af\u5883\u9700\u8981\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002</p> <pre><code>language: node_js\nnode_js:\n  - \"8\"\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>node_js</code>\u5b57\u6bb5\u7528\u6765\u6307\u5b9a Node \u7248\u672c\u3002</p> <p>Node \u9879\u76ee\u7684<code>install</code>\u548c<code>script</code>\u9636\u6bb5\u90fd\u6709\u9ed8\u8ba4\u811a\u672c\uff0c\u53ef\u4ee5\u7701\u7565\u3002</p> <ul> <li><code>install</code>\u9ed8\u8ba4\u503c\uff1anpm install</li> <li><code>script</code>\u9ed8\u8ba4\u503c\uff1anpm test</li> </ul> <p>\u66f4\u591a\u8bbe\u7f6e\u8bf7\u770b\u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"network/2017-12-19-travis-ci-tutorial/#44","title":"4.4 \u90e8\u7f72","text":"<p><code>script</code>\u9636\u6bb5\u7ed3\u675f\u4ee5\u540e\uff0c\u8fd8\u53ef\u4ee5\u8bbe\u7f6e\u901a\u77e5\u6b65\u9aa4\uff08notification\uff09\u548c\u90e8\u7f72\u6b65\u9aa4\uff08deployment\uff09\uff0c\u5b83\u4eec\u4e0d\u662f\u5fc5\u987b\u7684\u3002</p> <p>\u90e8\u7f72\u7684\u811a\u672c\u53ef\u4ee5\u5728<code>script</code>\u9636\u6bb5\u6267\u884c\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 Travis \u4e3a\u51e0\u5341\u79cd\u5e38\u89c1\u670d\u52a1\u63d0\u4f9b\u7684\u5feb\u6377\u90e8\u7f72\u529f\u80fd\u3002\u6bd4\u5982\uff0c\u8981\u90e8\u7f72\u5230 Github Pages\uff0c\u53ef\u4ee5\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002</p> <pre><code>deploy:\n  provider: pages\n  skip_cleanup: true\n  github_token: $GITHUB_TOKEN # Set in travis-ci.org dashboard\n  on:\n    branch: master\n</code></pre> <p>\u5176\u4ed6\u90e8\u7f72\u65b9\u5f0f\uff0c\u8bf7\u770b\u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"network/2017-12-19-travis-ci-tutorial/#45","title":"4.5 \u94a9\u5b50\u65b9\u6cd5","text":"<p>Travis \u4e3a\u4e0a\u9762\u8fd9\u4e9b\u9636\u6bb5\u63d0\u4f9b\u4e86 7 \u4e2a\u94a9\u5b50\u3002</p> <ul> <li>before_install\uff1ainstall \u9636\u6bb5\u4e4b\u524d\u6267\u884c</li> <li>before_script\uff1ascript \u9636\u6bb5\u4e4b\u524d\u6267\u884c</li> <li>after_failure\uff1ascript \u9636\u6bb5\u5931\u8d25\u65f6\u6267\u884c</li> <li>after_success\uff1ascript \u9636\u6bb5\u6210\u529f\u65f6\u6267\u884c</li> <li>before_deploy\uff1adeploy \u6b65\u9aa4\u4e4b\u524d\u6267\u884c</li> <li>after_deploy\uff1adeploy \u6b65\u9aa4\u4e4b\u540e\u6267\u884c</li> <li>after_script\uff1ascript \u9636\u6bb5\u4e4b\u540e\u6267\u884c</li> </ul> <p>\u5b8c\u6574\u7684\u751f\u547d\u5468\u671f\uff0c\u4ece\u5f00\u59cb\u5230\u7ed3\u675f\u662f\u4e0b\u9762\u7684\u6d41\u7a0b\u3002</p> <ol> <li>before_install</li> <li>install</li> <li>before_script</li> <li>script</li> <li>after_success or after_failure</li> <li>[OPTIONAL] before_deploy</li> <li>[OPTIONAL] deploy</li> <li>[OPTIONAL] after_deploy</li> <li>after_script</li> </ol> <p>\u4e0b\u9762\u662f\u4e00\u4e2a<code>before_install</code>\u94a9\u5b50\u7684\u4f8b\u5b50\u3002</p> <pre><code>before_install:\n  - sudo apt-get -qq update\n  - sudo apt-get install -y libxml2-dev\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u8868\u793a<code>before_install</code>\u9636\u6bb5\u8981\u505a\u4e24\u4ef6\u4e8b\uff0c\u7b2c\u4e00\u4ef6\u4e8b\u662f\u8981\u66f4\u65b0\u4f9d\u8d56\uff0c\u7b2c\u4e8c\u4ef6\u4e8b\u662f\u5b89\u88c5<code>libxml2-dev</code>\u3002\u7528\u5230\u7684\u51e0\u4e2a\u53c2\u6570\u7684\u542b\u4e49\u5982\u4e0b\uff1a<code>-qq</code>\u8868\u793a\u51cf\u5c11\u4e2d\u95f4\u6b65\u9aa4\u7684\u8f93\u51fa\uff0c<code>-y</code>\u8868\u793a\u5982\u679c\u9700\u8981\u7528\u6237\u8f93\u5165\uff0c\u603b\u662f\u8f93\u5165<code>yes</code>\u3002</p>"},{"location":"network/2017-12-19-travis-ci-tutorial/#46","title":"4.6 \u8fd0\u884c\u72b6\u6001","text":"<p>\u6700\u540e\uff0cTravis \u6bcf\u6b21\u8fd0\u884c\uff0c\u53ef\u80fd\u4f1a\u8fd4\u56de\u56db\u79cd\u72b6\u6001\u3002</p> <ul> <li>passed\uff1a\u8fd0\u884c\u6210\u529f\uff0c\u6240\u6709\u6b65\u9aa4\u7684\u9000\u51fa\u7801\u90fd\u662f<code>0</code></li> <li>canceled\uff1a\u7528\u6237\u53d6\u6d88\u6267\u884c</li> <li>errored\uff1a<code>before_install</code>\u3001<code>install</code>\u3001<code>before_script</code>\u6709\u975e\u96f6\u9000\u51fa\u7801\uff0c\u8fd0\u884c\u4f1a\u7acb\u5373\u505c\u6b62</li> <li>failed \uff1a<code>script</code>\u6709\u975e\u96f6\u72b6\u6001\u7801 \uff0c\u4f1a\u7ee7\u7eed\u8fd0\u884c</li> </ul>"},{"location":"network/2017-12-19-travis-ci-tutorial/#_4","title":"\u4e94\u3001\u4f7f\u7528\u6280\u5de7","text":""},{"location":"network/2017-12-19-travis-ci-tutorial/#51","title":"5.1 \u73af\u5883\u53d8\u91cf","text":"<p><code>.travis.yml</code>\u7684<code>env</code>\u5b57\u6bb5\u53ef\u4ee5\u5b9a\u4e49\u73af\u5883\u53d8\u91cf\u3002</p> <pre><code>env:\n  - DB=postgres\n  - SH=bash\n  - PACKAGE_VERSION=\"1.0.*\"\n</code></pre> <p>\u7136\u540e\uff0c\u811a\u672c\u5185\u90e8\u5c31\u4f7f\u7528\u8fd9\u4e9b\u53d8\u91cf\u4e86\u3002</p> <p>\u6709\u4e9b\u73af\u5883\u53d8\u91cf\uff08\u6bd4\u5982\u7528\u6237\u540d\u548c\u5bc6\u7801\uff09\u4e0d\u80fd\u516c\u5f00\uff0c\u8fd9\u65f6\u53ef\u4ee5\u901a\u8fc7 Travis \u7f51\u7ad9\uff0c\u5199\u5728\u6bcf\u4e2a\u4ed3\u5e93\u7684\u8bbe\u7f6e\u9875\u91cc\u9762\uff0cTravis \u4f1a\u81ea\u52a8\u628a\u5b83\u4eec\u52a0\u5165\u73af\u5883\u53d8\u91cf\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u811a\u672c\u5185\u90e8\u4f9d\u7136\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u73af\u5883\u53d8\u91cf\uff0c\u4f46\u662f\u53ea\u6709\u7ba1\u7406\u5458\u624d\u80fd\u770b\u5230\u53d8\u91cf\u7684\u503c\u3002\u5177\u4f53\u64cd\u4f5c\u8bf7\u770b\u5b98\u65b9\u6587\u6863\u3002</p> <p></p>"},{"location":"network/2017-12-19-travis-ci-tutorial/#52","title":"5.2 \u52a0\u5bc6\u4fe1\u606f","text":"<p>\u5982\u679c\u4e0d\u653e\u5fc3\u4fdd\u5bc6\u4fe1\u606f\u660e\u6587\u5b58\u5728 Travis \u7684\u7f51\u7ad9\uff0c\u53ef\u4ee5\u4f7f\u7528 Travis \u63d0\u4f9b\u7684\u52a0\u5bc6\u529f\u80fd\u3002</p> <p>\u9996\u5148\uff0c\u5b89\u88c5 Ruby \u7684\u5305<code>travis</code>\u3002</p> <pre><code>$ gem install travis\n</code></pre> <p>\u7136\u540e\uff0c\u5c31\u53ef\u4ee5\u7528<code>travis encrypt</code>\u547d\u4ee4\u52a0\u5bc6\u4fe1\u606f\u3002</p> <p>\u5728\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\uff0c\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u3002</p> <pre><code>$ travis encrypt SOMEVAR=secretvalue\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u4e2d\uff0c<code>SOMEVAR</code>\u662f\u8981\u52a0\u5bc6\u7684\u53d8\u91cf\u540d\uff0c<code>secretvalue</code>\u662f\u8981\u52a0\u5bc6\u7684\u53d8\u91cf\u503c\u3002\u6267\u884c\u4ee5\u540e\uff0c\u5c4f\u5e55\u4e0a\u4f1a\u8f93\u51fa\u5982\u4e0b\u4fe1\u606f\u3002</p> <pre><code>secure: \".... encrypted data ....\"\n</code></pre> <p>\u73b0\u5728\uff0c\u5c31\u53ef\u4ee5\u628a\u8fd9\u4e00\u884c\u52a0\u5165<code>.travis.yml</code>\u3002</p> <pre><code>env:\n  global:\n    - secure: \".... encrypted data ....\"\n</code></pre> <p>\u7136\u540e\uff0c\u811a\u672c\u91cc\u9762\u5c31\u53ef\u4ee5\u4f7f\u7528\u73af\u5883\u53d8\u91cf<code>$SOMEVAR</code>\u4e86\uff0cTravis \u4f1a\u5728\u8fd0\u884c\u65f6\u81ea\u52a8\u5bf9\u5b83\u89e3\u5bc6\u3002</p> <p><code>travis encrypt</code>\u547d\u4ee4\u7684<code>--add</code>\u53c2\u6570\u4f1a\u628a\u8f93\u51fa\u81ea\u52a8\u5199\u5165<code>.travis.yml</code>\uff0c\u7701\u6389\u4e86\u4fee\u6539<code>env</code>\u5b57\u6bb5\u7684\u6b65\u9aa4\u3002</p> <pre><code>$ travis encrypt SOMEVAR=secretvalue --add\n</code></pre> <p>\u8be6\u7ec6\u4fe1\u606f\u8bf7\u770b\u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"network/2017-12-19-travis-ci-tutorial/#53","title":"5.3 \u52a0\u5bc6\u6587\u4ef6","text":"<p>\u5982\u679c\u8981\u52a0\u5bc6\u7684\u662f\u6587\u4ef6\uff08\u6bd4\u5982\u79c1\u94a5\uff09\uff0cTravis \u63d0\u4f9b\u4e86\u52a0\u5bc6\u6587\u4ef6\u529f\u80fd\u3002</p> <p>\u5b89\u88c5\u547d\u4ee4\u884c\u5ba2\u6237\u7aef\u4ee5\u540e\uff0c\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u767b\u5165 Travis CI\u3002</p> <pre><code>$ travis login\n</code></pre> <p>\u7136\u540e\uff0c\u8fdb\u5165\u9879\u76ee\u7684\u6839\u76ee\u5f55\uff0c\u4f7f\u7528<code>travis encrypt-file</code>\u547d\u4ee4\u52a0\u5bc6\u90a3\u4e9b\u60f3\u8981\u52a0\u5bc6\u7684\u6587\u4ef6\u3002</p> <pre><code>$ travis encrypt-file bacon.txt\n\nencrypting bacon.txt for rkh/travis-encrypt-file-example\nstoring result as bacon.txt.enc\nstoring secure env variables for decryption\n\nPlease add the following to your build script (before_install stage in your .travis.yml, for instance):\n\n    openssl aes-256-cbc -K $encrypted_0a6446eb3ae3_key -iv $encrypted_0a6446eb3ae3_key -in bacon.txt.enc -out bacon.txt -d\n\nPro Tip: You can add it automatically by running with --add.\n\nMake sure to add bacon.txt.enc to the git repository.\nMake sure not to add bacon.txt to the git repository.\nCommit all changes to your .travis.yml.\n</code></pre> <p>\u4e0a\u9762\u7684\u4ee3\u7801\u5bf9\u6587\u4ef6<code>bacon.txt</code>\u8fdb\u884c\u52a0\u5bc6\uff0c\u52a0\u5bc6\u540e\u4f1a\u751f\u6210<code>bacon.txt.enc</code>\uff0c\u8be5\u6587\u4ef6\u9700\u8981\u63d0\u4ea4\u5230\u4ee3\u7801\u5e93\u3002\u6b64\u5916\uff0c\u8be5\u547d\u4ee4\u8fd8\u4f1a\u751f\u6210\u4e00\u4e2a\u73af\u5883\u53d8\u91cf<code>$encrypted_0a6446eb3ae3_key</code>\uff0c\u4fdd\u5b58\u5bc6\u94a5\uff0c\u50a8\u5b58\u5728 Travis CI\uff0c\u6587\u4ef6\u89e3\u5bc6\u65f6\u9700\u8981\u8fd9\u4e2a\u73af\u5883\u53d8\u91cf\u3002\u4f60\u9700\u8981\u628a\u89e3\u5bc6\u6240\u9700\u7684<code>openssl</code>\u547d\u4ee4\uff0c\u5199\u5728<code>.travis.yml</code>\u7684<code>before_install</code>\u5b57\u6bb5\u91cc\u9762\u3002\u8fd9\u4e9b\u90fd\u5199\u5728\u4e0a\u9762\u7684\u547d\u4ee4\u884c\u63d0\u793a\u91cc\u9762\u3002</p> <p><code>--add</code>\u53c2\u6570\u53ef\u4ee5\u81ea\u52a8\u628a\u73af\u5883\u53d8\u91cf\u5199\u5165<code>.travis.yml</code>\u3002</p> <pre><code>$ travis encrypt-file bacon.txt --add\nencrypting bacon.txt for rkh/travis-encrypt-file-example\nstoring result as bacon.txt.enc\nstoring secure env variables for decryption\n\nMake sure to add bacon.txt.enc to the git repository.\nMake sure not to add bacon.txt to the git repository.\nCommit all changes to your .travis.yml.\n</code></pre> <p>\u8be6\u7ec6\u4fe1\u606f\u8bf7\u770b\u5b98\u65b9\u6587\u6863\uff0c\u5b9e\u9645\u7684\u4f8b\u5b50\u53ef\u4ee5\u53c2\u8003\u4e0b\u9762\u4e24\u7bc7\u6587\u7ae0\u3002</p> <ul> <li>Auto-deploying built products to gh-pages with Travis</li> <li>SSH deploys with Travis CI</li> </ul> <p>\uff08\u5b8c\uff09</p>"},{"location":"network/2017-12-19-travis-ci-tutorial/#ssh","title":"\u6dfb\u52a0 SSH \u8fdc\u7a0b\u4e3b\u673a","text":"<p>Travis CI \u53ef\u4ee5\u4fee\u6539<code>~/.ssh/known_hosts</code>\u3002</p> <pre><code>addons:\n  ssh_known_hosts: git.example.com\n\n# \u53e6\u4e00\u79cd\u5199\u6cd5\naddons:\n  ssh_known_hosts:\n  - git.example.com\n  - 111.22.33.44\n</code></pre>"},{"location":"network/2017-12-19-travis-ci-tutorial/#_5","title":"\u5982\u4f55\u751f\u6210\u5bc6\u94a5","text":"<p>https://oncletom.io/2016/travis-ssh-deploy/</p> <pre><code>$ ssh-keygen -t rsa -b 4096 -C 'build@travis-ci.org' -f ./deploy_rsa\n$ travis encrypt-file deploy_rsa --add\n$ ssh-copy-id -i deploy_rsa.pub &lt;ssh-user&gt;@&lt;deploy-host&gt;\n$ rm -f deploy_rsa deploy_rsa.pub\n$ git add deploy_rsa.enc .travis.yml\n</code></pre> <p>\u52a0\u5165<code>ssh-agent</code>\u547d\u4ee4\u8ba9\u6240\u6709\u57fa\u4e8e SSH \u7684\u547d\u4ee4\uff0c\u5bf9\u79c1\u94a5\u7684\u4f4d\u7f6e\u4e0d\u654f\u611f\u3002</p> <pre><code>addons:\n  ssh_known_hosts: &lt;deploy-host&gt;\n\nbefore_deploy:\n- openssl aes-256-cbc -K $encrypted_&lt;...&gt;_key -iv $encrypted_&lt;...&gt;_iv -in deploy_rsa.enc -out /tmp/deploy_rsa -d\n- eval \"$(ssh-agent -s)\"\n- chmod 600 /tmp/deploy_rsa\n- ssh-add /tmp/deploy_rsa\n</code></pre> <pre><code>deploy:\n  provider: script\n  skip_cleanup: true\n  script: rsync -r --delete-after --quiet $TRAVIS_BUILD_DIR/&lt;dir&gt; &lt;ssh-user&gt;@&lt;deploy-host&gt;:path/to/files\n  on:\n    branch: master\n</code></pre> <pre><code>deploy:\n  - provider: script\n    skip_cleanup: true\n    script: npm run deploy\n    on:\n      branch: master\n  - provider: script\n    skip_cleanup: true\n    script: npm run index-content\n    on:\n      branch: master\n</code></pre> <p>https://oncletom.io/2016/travis-ssh-deploy/</p>"},{"location":"network/2017-12-19-travis-ci-tutorial/#github-pages","title":"\u90e8\u7f72\u5230 Github Pages","text":"<p>https://docs.travis-ci.com/user/deployment/pages/</p> <pre><code>after_success:\n  - eval \"$(ssh-agent -s)\" #start the ssh agent\n  - chmod 600 .travis/deploy_key.pem # this key should have push access\n  - ssh-add .travis/deploy_key.pem\n  - git remote add deploy DEPLOY_REPO_URI_GOES_HERE\n  - git push deploy\n</code></pre> <p>-</p> <pre><code>deploy:\n  provider: pages\n  skip_cleanup: true\n  github_token: $GITHUB_TOKEN # Set in travis-ci.org dashboard\n  on:\n    branch: master\n</code></pre>"},{"location":"network/2017-12-19-travis-ci-tutorial/#ftp","title":"\u90e8\u7f72\u5230 FTP","text":"<pre><code>env:\n  global:\n    - \"FTP_USER=user\"\n    - \"FTP_PASSWORD=password\"\nafter_success: \"curl --ftp-create-dirs -T uploadfilename -u $FTP_USER:$FTP_PASSWORD ftp://sitename.com/directory/myfile\"\n</code></pre> <pre><code>env:\n  global:\n    - \"FTP_USER=user\"\n    - \"FTP_PASSWORD=password\"\nafter_success: \"curl -T index.html -u $FTP_USER:$FTP_PASSWORD ftp://wecodetheweb.com/public_html/\"\n</code></pre> <p>\u52a0\u5bc6 https://docs.travis-ci.com/user/encryption-keys/</p> <pre><code>env:\n  global:\n    - secure: fjlZRoknWj6+UA8U65B+TZmFQv71PdsIc..\n    - secure: XDdTZHvlVWMjpYgzMPKIEeRu+8namsdex..\nafter_success: \"curl -T index.html -u $FTP_USER:$FTP_PASSWORD ftp://wecodetheweb.com/public_html/\"\n</code></pre> <pre><code>deploy:\n  provider: script\n  script: scripts/deploy.sh\n  on:\n    branch: develop\n</code></pre> <p>\u591a\u91cd\u90e8\u7f72</p> <pre><code>deploy:\n  # deploy develop to the staging environment\n  - provider: script\n    script: scripts/deploy.sh staging\n    on:\n      branch: develop\n  # deploy master to production\n  - provider: script\n    script: scripts/deploy.sh production\n    on:\n      branch: master\n</code></pre> <p>\u8bfb\u53d6\u73af\u5883\u53d8\u91cf</p> <pre><code>deploy:\n  provider: script\n  script: scripts/deploy.sh production $TRAVIS_TAG\n  on:\n    tags: true\n    all_branches: true\n</code></pre>"},{"location":"network/2017-12-19-travis-ci-tutorial/#_6","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>What is CI - an Introduction, by Kristofer Svardstal</li> </ul>"},{"location":"network/2018-07-04-indexeddb/","title":"\u6d4f\u89c8\u5668\u6570\u636e\u5e93 IndexedDB \u5165\u95e8\u6559\u7a0b","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 11874  \u9605\u8bfb24\u5206\u949f</p>"},{"location":"network/2018-07-04-indexeddb/#_1","title":"\u4e00\u3001\u6982\u8ff0","text":"<p>\u968f\u7740\u6d4f\u89c8\u5668\u7684\u529f\u80fd\u4e0d\u65ad\u589e\u5f3a\uff0c\u8d8a\u6765\u8d8a\u591a\u7684\u7f51\u7ad9\u5f00\u59cb\u8003\u8651\uff0c\u5c06\u5927\u91cf\u6570\u636e\u50a8\u5b58\u5728\u5ba2\u6237\u7aef\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e\uff0c\u76f4\u63a5\u4ece\u672c\u5730\u83b7\u53d6\u6570\u636e\u3002</p> <p>\u73b0\u6709\u7684\u6d4f\u89c8\u5668\u6570\u636e\u50a8\u5b58\u65b9\u6848\uff0c\u90fd\u4e0d\u9002\u5408\u50a8\u5b58\u5927\u91cf\u6570\u636e\uff1aCookie \u7684\u5927\u5c0f\u4e0d\u8d85\u8fc7 4KB\uff0c\u4e14\u6bcf\u6b21\u8bf7\u6c42\u90fd\u4f1a\u53d1\u9001\u56de\u670d\u52a1\u5668\uff1bLocalStorage \u5728 2.5MB \u5230 10MB \u4e4b\u95f4\uff08\u5404\u5bb6\u6d4f\u89c8\u5668\u4e0d\u540c\uff09\uff0c\u800c\u4e14\u4e0d\u63d0\u4f9b\u641c\u7d22\u529f\u80fd\uff0c\u4e0d\u80fd\u5efa\u7acb\u81ea\u5b9a\u4e49\u7684\u7d22\u5f15\u3002\u6240\u4ee5\uff0c\u9700\u8981\u4e00\u79cd\u65b0\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u8fd9\u5c31\u662f IndexedDB \u8bde\u751f\u7684\u80cc\u666f\u3002</p> <p></p> <p>\u901a\u4fd7\u5730\u8bf4\uff0cIndexedDB \u5c31\u662f\u6d4f\u89c8\u5668\u63d0\u4f9b\u7684\u672c\u5730\u6570\u636e\u5e93\uff0c\u5b83\u53ef\u4ee5\u88ab\u7f51\u9875\u811a\u672c\u521b\u5efa\u548c\u64cd\u4f5c\u3002IndexedDB \u5141\u8bb8\u50a8\u5b58\u5927\u91cf\u6570\u636e\uff0c\u63d0\u4f9b\u67e5\u627e\u63a5\u53e3\uff0c\u8fd8\u80fd\u5efa\u7acb\u7d22\u5f15\u3002\u8fd9\u4e9b\u90fd\u662f LocalStorage \u6240\u4e0d\u5177\u5907\u7684\u3002\u5c31\u6570\u636e\u5e93\u7c7b\u578b\u800c\u8a00\uff0cIndexedDB \u4e0d\u5c5e\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff08\u4e0d\u652f\u6301 SQL \u67e5\u8be2\u8bed\u53e5\uff09\uff0c\u66f4\u63a5\u8fd1 NoSQL \u6570\u636e\u5e93\u3002</p> <p>IndexedDB \u5177\u6709\u4ee5\u4e0b\u7279\u70b9\u3002</p> <p>\uff081\uff09\u952e\u503c\u5bf9\u50a8\u5b58\u3002 IndexedDB \u5185\u90e8\u91c7\u7528\u5bf9\u8c61\u4ed3\u5e93\uff08object store\uff09\u5b58\u653e\u6570\u636e\u3002\u6240\u6709\u7c7b\u578b\u7684\u6570\u636e\u90fd\u53ef\u4ee5\u76f4\u63a5\u5b58\u5165\uff0c\u5305\u62ec JavaScript \u5bf9\u8c61\u3002\u5bf9\u8c61\u4ed3\u5e93\u4e2d\uff0c\u6570\u636e\u4ee5\u201c\u952e\u503c\u5bf9\u201d\u7684\u5f62\u5f0f\u4fdd\u5b58\uff0c\u6bcf\u4e00\u4e2a\u6570\u636e\u8bb0\u5f55\u90fd\u6709\u5bf9\u5e94\u7684\u4e3b\u952e\uff0c\u4e3b\u952e\u662f\u72ec\u4e00\u65e0\u4e8c\u7684\uff0c\u4e0d\u80fd\u6709\u91cd\u590d\uff0c\u5426\u5219\u4f1a\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002</p> <p>\uff082\uff09\u5f02\u6b65\u3002 IndexedDB \u64cd\u4f5c\u65f6\u4e0d\u4f1a\u9501\u6b7b\u6d4f\u89c8\u5668\uff0c\u7528\u6237\u4f9d\u7136\u53ef\u4ee5\u8fdb\u884c\u5176\u4ed6\u64cd\u4f5c\uff0c\u8fd9\u4e0e LocalStorage \u5f62\u6210\u5bf9\u6bd4\uff0c\u540e\u8005\u7684\u64cd\u4f5c\u662f\u540c\u6b65\u7684\u3002\u5f02\u6b65\u8bbe\u8ba1\u662f\u4e3a\u4e86\u9632\u6b62\u5927\u91cf\u6570\u636e\u7684\u8bfb\u5199\uff0c\u62d6\u6162\u7f51\u9875\u7684\u8868\u73b0\u3002</p> <p>\uff083\uff09\u652f\u6301\u4e8b\u52a1\u3002 IndexedDB \u652f\u6301\u4e8b\u52a1\uff08transaction\uff09\uff0c\u8fd9\u610f\u5473\u7740\u4e00\u7cfb\u5217\u64cd\u4f5c\u6b65\u9aa4\u4e4b\u4e2d\uff0c\u53ea\u8981\u6709\u4e00\u6b65\u5931\u8d25\uff0c\u6574\u4e2a\u4e8b\u52a1\u5c31\u90fd\u53d6\u6d88\uff0c\u6570\u636e\u5e93\u56de\u6eda\u5230\u4e8b\u52a1\u53d1\u751f\u4e4b\u524d\u7684\u72b6\u6001\uff0c\u4e0d\u5b58\u5728\u53ea\u6539\u5199\u4e00\u90e8\u5206\u6570\u636e\u7684\u60c5\u51b5\u3002</p> <p>\uff084\uff09\u540c\u6e90\u9650\u5236 IndexedDB \u53d7\u5230\u540c\u6e90\u9650\u5236\uff0c\u6bcf\u4e00\u4e2a\u6570\u636e\u5e93\u5bf9\u5e94\u521b\u5efa\u5b83\u7684\u57df\u540d\u3002\u7f51\u9875\u53ea\u80fd\u8bbf\u95ee\u81ea\u8eab\u57df\u540d\u4e0b\u7684\u6570\u636e\u5e93\uff0c\u800c\u4e0d\u80fd\u8bbf\u95ee\u8de8\u57df\u7684\u6570\u636e\u5e93\u3002</p> <p>\uff085\uff09\u50a8\u5b58\u7a7a\u95f4\u5927 IndexedDB \u7684\u50a8\u5b58\u7a7a\u95f4\u6bd4 LocalStorage \u5927\u5f97\u591a\uff0c\u4e00\u822c\u6765\u8bf4\u4e0d\u5c11\u4e8e 250MB\uff0c\u751a\u81f3\u6ca1\u6709\u4e0a\u9650\u3002</p> <p>\uff086\uff09\u652f\u6301\u4e8c\u8fdb\u5236\u50a8\u5b58\u3002 IndexedDB \u4e0d\u4ec5\u53ef\u4ee5\u50a8\u5b58\u5b57\u7b26\u4e32\uff0c\u8fd8\u53ef\u4ee5\u50a8\u5b58\u4e8c\u8fdb\u5236\u6570\u636e\uff08ArrayBuffer \u5bf9\u8c61\u548c Blob \u5bf9\u8c61\uff09\u3002</p>"},{"location":"network/2018-07-04-indexeddb/#_2","title":"\u4e8c\u3001\u57fa\u672c\u6982\u5ff5","text":"<p>IndexedDB \u662f\u4e00\u4e2a\u6bd4\u8f83\u590d\u6742\u7684 API\uff0c\u6d89\u53ca\u4e0d\u5c11\u6982\u5ff5\u3002\u5b83\u628a\u4e0d\u540c\u7684\u5b9e\u4f53\uff0c\u62bd\u8c61\u6210\u4e00\u4e2a\u4e2a\u5bf9\u8c61\u63a5\u53e3\u3002\u5b66\u4e60\u8fd9\u4e2a API\uff0c\u5c31\u662f\u5b66\u4e60\u5b83\u7684\u5404\u79cd\u5bf9\u8c61\u63a5\u53e3\u3002</p> <ul> <li>\u6570\u636e\u5e93\uff1aIDBDatabase \u5bf9\u8c61</li> <li>\u5bf9\u8c61\u4ed3\u5e93\uff1aIDBObjectStore \u5bf9\u8c61</li> <li>\u7d22\u5f15\uff1a IDBIndex \u5bf9\u8c61</li> <li>\u4e8b\u52a1\uff1a IDBTransaction \u5bf9\u8c61</li> <li>\u64cd\u4f5c\u8bf7\u6c42\uff1aIDBRequest \u5bf9\u8c61</li> <li>\u6307\u9488\uff1a IDBCursor \u5bf9\u8c61</li> <li>\u4e3b\u952e\u96c6\u5408\uff1aIDBKeyRange \u5bf9\u8c61</li> </ul> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u4e3b\u8981\u7684\u6982\u5ff5\u3002</p> <p>\uff081\uff09\u6570\u636e\u5e93</p> <p>\u6570\u636e\u5e93\u662f\u4e00\u7cfb\u5217\u76f8\u5173\u6570\u636e\u7684\u5bb9\u5668\u3002\u6bcf\u4e2a\u57df\u540d\uff08\u4e25\u683c\u7684\u8bf4\uff0c\u662f\u534f\u8bae + \u57df\u540d + \u7aef\u53e3\uff09\u90fd\u53ef\u4ee5\u65b0\u5efa\u4efb\u610f\u591a\u4e2a\u6570\u636e\u5e93\u3002</p> <p>IndexedDB \u6570\u636e\u5e93\u6709\u7248\u672c\u7684\u6982\u5ff5\u3002\u540c\u4e00\u4e2a\u65f6\u523b\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u7248\u672c\u7684\u6570\u636e\u5e93\u5b58\u5728\u3002\u5982\u679c\u8981\u4fee\u6539\u6570\u636e\u5e93\u7ed3\u6784\uff08\u65b0\u589e\u6216\u5220\u9664\u8868\u3001\u7d22\u5f15\u6216\u8005\u4e3b\u952e\uff09\uff0c\u53ea\u80fd\u901a\u8fc7\u5347\u7ea7\u6570\u636e\u5e93\u7248\u672c\u5b8c\u6210\u3002</p> <p>\uff082\uff09\u5bf9\u8c61\u4ed3\u5e93</p> <p>\u6bcf\u4e2a\u6570\u636e\u5e93\u5305\u542b\u82e5\u5e72\u4e2a\u5bf9\u8c61\u4ed3\u5e93\uff08object store\uff09\u3002\u5b83\u7c7b\u4f3c\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u8868\u683c\u3002</p> <p>\uff083\uff09\u6570\u636e\u8bb0\u5f55</p> <p>\u5bf9\u8c61\u4ed3\u5e93\u4fdd\u5b58\u7684\u662f\u6570\u636e\u8bb0\u5f55\u3002\u6bcf\u6761\u8bb0\u5f55\u7c7b\u4f3c\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u884c\uff0c\u4f46\u662f\u53ea\u6709\u4e3b\u952e\u548c\u6570\u636e\u4f53\u4e24\u90e8\u5206\u3002\u4e3b\u952e\u7528\u6765\u5efa\u7acb\u9ed8\u8ba4\u7684\u7d22\u5f15\uff0c\u5fc5\u987b\u662f\u4e0d\u540c\u7684\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002\u4e3b\u952e\u53ef\u4ee5\u662f\u6570\u636e\u8bb0\u5f55\u91cc\u9762\u7684\u4e00\u4e2a\u5c5e\u6027\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e3a\u4e00\u4e2a\u9012\u589e\u7684\u6574\u6570\u7f16\u53f7\u3002</p> <pre><code>{ id: 1, text: 'foo' }\n</code></pre> <p>\u4e0a\u9762\u7684\u5bf9\u8c61\u4e2d\uff0c<code>id</code>\u5c5e\u6027\u53ef\u4ee5\u5f53\u4f5c\u4e3b\u952e\u3002</p> <p>\u6570\u636e\u4f53\u53ef\u4ee5\u662f\u4efb\u610f\u6570\u636e\u7c7b\u578b\uff0c\u4e0d\u9650\u4e8e\u5bf9\u8c61\u3002</p> <p>\uff084\uff09\u7d22\u5f15</p> <p>\u4e3a\u4e86\u52a0\u901f\u6570\u636e\u7684\u68c0\u7d22\uff0c\u53ef\u4ee5\u5728\u5bf9\u8c61\u4ed3\u5e93\u91cc\u9762\uff0c\u4e3a\u4e0d\u540c\u7684\u5c5e\u6027\u5efa\u7acb\u7d22\u5f15\u3002</p> <p>\uff085\uff09\u4e8b\u52a1</p> <p>\u6570\u636e\u8bb0\u5f55\u7684\u8bfb\u5199\u548c\u5220\u6539\uff0c\u90fd\u8981\u901a\u8fc7\u4e8b\u52a1\u5b8c\u6210\u3002\u4e8b\u52a1\u5bf9\u8c61\u63d0\u4f9b<code>error</code>\u3001<code>abort</code>\u548c<code>complete</code>\u4e09\u4e2a\u4e8b\u4ef6\uff0c\u7528\u6765\u76d1\u542c\u64cd\u4f5c\u7ed3\u679c\u3002</p>"},{"location":"network/2018-07-04-indexeddb/#_3","title":"\u4e09\u3001\u64cd\u4f5c\u6d41\u7a0b","text":"<p>IndexedDB \u6570\u636e\u5e93\u7684\u5404\u79cd\u64cd\u4f5c\uff0c\u4e00\u822c\u662f\u6309\u7167\u4e0b\u9762\u7684\u6d41\u7a0b\u8fdb\u884c\u7684\u3002\u8fd9\u4e2a\u90e8\u5206\u53ea\u7ed9\u51fa\u7b80\u5355\u7684\u4ee3\u7801\u793a\u4f8b\uff0c\u7528\u4e8e\u5feb\u901f\u4e0a\u624b\uff0c\u8be6\u7ec6\u7684\u5404\u4e2a\u5bf9\u8c61\u7684 API \u8bf7\u770b\u8fd9\u91cc\u3002</p>"},{"location":"network/2018-07-04-indexeddb/#31","title":"3.1 \u6253\u5f00\u6570\u636e\u5e93","text":"<p>\u4f7f\u7528 IndexedDB \u7684\u7b2c\u4e00\u6b65\u662f\u6253\u5f00\u6570\u636e\u5e93\uff0c\u4f7f\u7528<code>indexedDB.open()</code>\u65b9\u6cd5\u3002</p> <pre><code>var request = window.indexedDB.open(databaseName, version);\n</code></pre> <p>\u8fd9\u4e2a\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6570\u636e\u5e93\u7684\u540d\u5b57\u3002\u5982\u679c\u6307\u5b9a\u7684\u6570\u636e\u5e93\u4e0d\u5b58\u5728\uff0c\u5c31\u4f1a\u65b0\u5efa\u6570\u636e\u5e93\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6574\u6570\uff0c\u8868\u793a\u6570\u636e\u5e93\u7684\u7248\u672c\u3002\u5982\u679c\u7701\u7565\uff0c\u6253\u5f00\u5df2\u6709\u6570\u636e\u5e93\u65f6\uff0c\u9ed8\u8ba4\u4e3a\u5f53\u524d\u7248\u672c\uff1b\u65b0\u5efa\u6570\u636e\u5e93\u65f6\uff0c\u9ed8\u8ba4\u4e3a<code>1</code>\u3002</p> <p><code>indexedDB.open()</code>\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002\u8fd9\u4e2a\u5bf9\u8c61\u901a\u8fc7\u4e09\u79cd\u4e8b\u4ef6<code>error</code>\u3001<code>success</code>\u3001<code>upgradeneeded</code>\uff0c\u5904\u7406\u6253\u5f00\u6570\u636e\u5e93\u7684\u64cd\u4f5c\u7ed3\u679c\u3002</p> <p>\uff081\uff09error \u4e8b\u4ef6</p> <p><code>error</code>\u4e8b\u4ef6\u8868\u793a\u6253\u5f00\u6570\u636e\u5e93\u5931\u8d25\u3002</p> <pre><code>request.onerror = function (event) {\n  console.log(\"\u6570\u636e\u5e93\u6253\u5f00\u62a5\u9519\");\n};\n</code></pre> <p>\uff082\uff09success \u4e8b\u4ef6</p> <p><code>success</code>\u4e8b\u4ef6\u8868\u793a\u6210\u529f\u6253\u5f00\u6570\u636e\u5e93\u3002</p> <pre><code>var db;\n\nrequest.onsuccess = function (event) {\n  db = request.result;\n  console.log(\"\u6570\u636e\u5e93\u6253\u5f00\u6210\u529f\");\n};\n</code></pre> <p>\u8fd9\u65f6\uff0c\u901a\u8fc7<code>request</code>\u5bf9\u8c61\u7684<code>result</code>\u5c5e\u6027\u62ff\u5230\u6570\u636e\u5e93\u5bf9\u8c61\u3002</p> <p>\uff083\uff09upgradeneeded \u4e8b\u4ef6</p> <p>\u5982\u679c\u6307\u5b9a\u7684\u7248\u672c\u53f7\uff0c\u5927\u4e8e\u6570\u636e\u5e93\u7684\u5b9e\u9645\u7248\u672c\u53f7\uff0c\u5c31\u4f1a\u53d1\u751f\u6570\u636e\u5e93\u5347\u7ea7\u4e8b\u4ef6<code>upgradeneeded</code>\u3002</p> <pre><code>var db;\n\nrequest.onupgradeneeded = function (event) {\n  db = event.target.result;\n};\n</code></pre> <p>\u8fd9\u65f6\u901a\u8fc7\u4e8b\u4ef6\u5bf9\u8c61\u7684<code>target.result</code>\u5c5e\u6027\uff0c\u62ff\u5230\u6570\u636e\u5e93\u5b9e\u4f8b\u3002</p>"},{"location":"network/2018-07-04-indexeddb/#32","title":"3.2 \u65b0\u5efa\u6570\u636e\u5e93","text":"<p>\u65b0\u5efa\u6570\u636e\u5e93\u4e0e\u6253\u5f00\u6570\u636e\u5e93\u662f\u540c\u4e00\u4e2a\u64cd\u4f5c\u3002\u5982\u679c\u6307\u5b9a\u7684\u6570\u636e\u5e93\u4e0d\u5b58\u5728\uff0c\u5c31\u4f1a\u65b0\u5efa\u3002\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c\u540e\u7eed\u7684\u64cd\u4f5c\u4e3b\u8981\u5728<code>upgradeneeded</code>\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u91cc\u9762\u5b8c\u6210\uff0c\u56e0\u4e3a\u8fd9\u65f6\u7248\u672c\u4ece\u65e0\u5230\u6709\uff0c\u6240\u4ee5\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u3002</p> <p>\u901a\u5e38\uff0c\u65b0\u5efa\u6570\u636e\u5e93\u4ee5\u540e\uff0c\u7b2c\u4e00\u4ef6\u4e8b\u662f\u65b0\u5efa\u5bf9\u8c61\u4ed3\u5e93\uff08\u5373\u65b0\u5efa\u8868\uff09\u3002</p> <pre><code>request.onupgradeneeded = function (event) {\n  db = event.target.result;\n  var objectStore = db.createObjectStore(\"person\", { keyPath: \"id\" });\n};\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u636e\u5e93\u65b0\u5efa\u6210\u529f\u4ee5\u540e\uff0c\u65b0\u589e\u4e00\u5f20\u53eb\u505a<code>person</code>\u7684\u8868\u683c\uff0c\u4e3b\u952e\u662f<code>id</code>\u3002</p> <p>\u66f4\u597d\u7684\u5199\u6cd5\u662f\u5148\u5224\u65ad\u4e00\u4e0b\uff0c\u8fd9\u5f20\u8868\u683c\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u518d\u65b0\u5efa\u3002</p> <pre><code>request.onupgradeneeded = function (event) {\n  db = event.target.result;\n  var objectStore;\n  if (!db.objectStoreNames.contains(\"person\")) {\n    objectStore = db.createObjectStore(\"person\", { keyPath: \"id\" });\n  }\n};\n</code></pre> <p>\u4e3b\u952e\uff08key\uff09\u662f\u9ed8\u8ba4\u5efa\u7acb\u7d22\u5f15\u7684\u5c5e\u6027\u3002\u6bd4\u5982\uff0c\u6570\u636e\u8bb0\u5f55\u662f<code>{ id: 1, name: '\u5f20\u4e09' }</code>\uff0c\u90a3\u4e48<code>id</code>\u5c5e\u6027\u53ef\u4ee5\u4f5c\u4e3a\u4e3b\u952e\u3002\u4e3b\u952e\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e3a\u4e0b\u4e00\u5c42\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u6bd4\u5982<code>{ foo: { bar: 'baz' } }</code>\u7684<code>foo.bar</code>\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e3a\u4e3b\u952e\u3002</p> <p>\u5982\u679c\u6570\u636e\u8bb0\u5f55\u91cc\u9762\u6ca1\u6709\u5408\u9002\u4f5c\u4e3a\u4e3b\u952e\u7684\u5c5e\u6027\uff0c\u90a3\u4e48\u53ef\u4ee5\u8ba9 IndexedDB \u81ea\u52a8\u751f\u6210\u4e3b\u952e\u3002</p> <pre><code>var objectStore = db.createObjectStore(\"person\", { autoIncrement: true });\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6307\u5b9a\u4e3b\u952e\u4e3a\u4e00\u4e2a\u9012\u589e\u7684\u6574\u6570\u3002</p> <p>\u65b0\u5efa\u5bf9\u8c61\u4ed3\u5e93\u4ee5\u540e\uff0c\u4e0b\u4e00\u6b65\u53ef\u4ee5\u65b0\u5efa\u7d22\u5f15\u3002</p> <pre><code>request.onupgradeneeded = function (event) {\n  db = event.target.result;\n  var objectStore = db.createObjectStore(\"person\", { keyPath: \"id\" });\n  objectStore.createIndex(\"name\", \"name\", { unique: false });\n  objectStore.createIndex(\"email\", \"email\", { unique: true });\n};\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>IDBObject.createIndex()</code>\u7684\u4e09\u4e2a\u53c2\u6570\u5206\u522b\u4e3a\u7d22\u5f15\u540d\u79f0\u3001\u7d22\u5f15\u6240\u5728\u7684\u5c5e\u6027\u3001\u914d\u7f6e\u5bf9\u8c61\uff08\u8bf4\u660e\u8be5\u5c5e\u6027\u662f\u5426\u5305\u542b\u91cd\u590d\u7684\u503c\uff09\u3002</p>"},{"location":"network/2018-07-04-indexeddb/#33","title":"3.3 \u65b0\u589e\u6570\u636e","text":"<p>\u65b0\u589e\u6570\u636e\u6307\u7684\u662f\u5411\u5bf9\u8c61\u4ed3\u5e93\u5199\u5165\u6570\u636e\u8bb0\u5f55\u3002\u8fd9\u9700\u8981\u901a\u8fc7\u4e8b\u52a1\u5b8c\u6210\u3002</p> <pre><code>function add() {\n  var request = db\n    .transaction([\"person\"], \"readwrite\")\n    .objectStore(\"person\")\n    .add({ id: 1, name: \"\u5f20\u4e09\", age: 24, email: \"zhangsan@example.com\" });\n\n  request.onsuccess = function (event) {\n    console.log(\"\u6570\u636e\u5199\u5165\u6210\u529f\");\n  };\n\n  request.onerror = function (event) {\n    console.log(\"\u6570\u636e\u5199\u5165\u5931\u8d25\");\n  };\n}\n\nadd();\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5199\u5165\u6570\u636e\u9700\u8981\u65b0\u5efa\u4e00\u4e2a\u4e8b\u52a1\u3002\u65b0\u5efa\u65f6\u5fc5\u987b\u6307\u5b9a\u8868\u683c\u540d\u79f0\u548c\u64cd\u4f5c\u6a21\u5f0f\uff08\u201c\u53ea\u8bfb\u201d\u6216\u201c\u8bfb\u5199\u201d\uff09\u3002\u65b0\u5efa\u4e8b\u52a1\u4ee5\u540e\uff0c\u901a\u8fc7<code>IDBTransaction.objectStore(name)</code>\u65b9\u6cd5\uff0c\u62ff\u5230 IDBObjectStore \u5bf9\u8c61\uff0c\u518d\u901a\u8fc7\u8868\u683c\u5bf9\u8c61\u7684<code>add()</code>\u65b9\u6cd5\uff0c\u5411\u8868\u683c\u5199\u5165\u4e00\u6761\u8bb0\u5f55\u3002</p> <p>\u5199\u5165\u64cd\u4f5c\u662f\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u901a\u8fc7\u76d1\u542c\u8fde\u63a5\u5bf9\u8c61\u7684<code>success</code>\u4e8b\u4ef6\u548c<code>error</code>\u4e8b\u4ef6\uff0c\u4e86\u89e3\u662f\u5426\u5199\u5165\u6210\u529f\u3002</p>"},{"location":"network/2018-07-04-indexeddb/#34","title":"3.4 \u8bfb\u53d6\u6570\u636e","text":"<p>\u8bfb\u53d6\u6570\u636e\u4e5f\u662f\u901a\u8fc7\u4e8b\u52a1\u5b8c\u6210\u3002</p> <pre><code>function read() {\n  var transaction = db.transaction([\"person\"]);\n  var objectStore = transaction.objectStore(\"person\");\n  var request = objectStore.get(1);\n\n  request.onerror = function (event) {\n    console.log(\"\u4e8b\u52a1\u5931\u8d25\");\n  };\n\n  request.onsuccess = function (event) {\n    if (request.result) {\n      console.log(\"Name: \" + request.result.name);\n      console.log(\"Age: \" + request.result.age);\n      console.log(\"Email: \" + request.result.email);\n    } else {\n      console.log(\"\u672a\u83b7\u5f97\u6570\u636e\u8bb0\u5f55\");\n    }\n  };\n}\n\nread();\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>objectStore.get()</code>\u65b9\u6cd5\u7528\u4e8e\u8bfb\u53d6\u6570\u636e\uff0c\u53c2\u6570\u662f\u4e3b\u952e\u7684\u503c\u3002</p>"},{"location":"network/2018-07-04-indexeddb/#35","title":"3.5 \u904d\u5386\u6570\u636e","text":"<p>\u904d\u5386\u6570\u636e\u8868\u683c\u7684\u6240\u6709\u8bb0\u5f55\uff0c\u8981\u4f7f\u7528\u6307\u9488\u5bf9\u8c61 IDBCursor\u3002</p> <pre><code>function readAll() {\n  var objectStore = db.transaction(\"person\").objectStore(\"person\");\n\n  objectStore.openCursor().onsuccess = function (event) {\n    var cursor = event.target.result;\n\n    if (cursor) {\n      console.log(\"Id: \" + cursor.key);\n      console.log(\"Name: \" + cursor.value.name);\n      console.log(\"Age: \" + cursor.value.age);\n      console.log(\"Email: \" + cursor.value.email);\n      cursor.continue();\n    } else {\n      console.log(\"\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86\uff01\");\n    }\n  };\n}\n\nreadAll();\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u65b0\u5efa\u6307\u9488\u5bf9\u8c61\u7684<code>openCursor()</code>\u65b9\u6cd5\u662f\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u6240\u4ee5\u8981\u76d1\u542c<code>success</code>\u4e8b\u4ef6\u3002</p>"},{"location":"network/2018-07-04-indexeddb/#36","title":"3.6 \u66f4\u65b0\u6570\u636e","text":"<p>\u66f4\u65b0\u6570\u636e\u8981\u4f7f\u7528<code>IDBObject.put()</code>\u65b9\u6cd5\u3002</p> <pre><code>function update() {\n  var request = db\n    .transaction([\"person\"], \"readwrite\")\n    .objectStore(\"person\")\n    .put({ id: 1, name: \"\u674e\u56db\", age: 35, email: \"lisi@example.com\" });\n\n  request.onsuccess = function (event) {\n    console.log(\"\u6570\u636e\u66f4\u65b0\u6210\u529f\");\n  };\n\n  request.onerror = function (event) {\n    console.log(\"\u6570\u636e\u66f4\u65b0\u5931\u8d25\");\n  };\n}\n\nupdate();\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>put()</code>\u65b9\u6cd5\u81ea\u52a8\u66f4\u65b0\u4e86\u4e3b\u952e\u4e3a<code>1</code>\u7684\u8bb0\u5f55\u3002</p>"},{"location":"network/2018-07-04-indexeddb/#37","title":"3.7 \u5220\u9664\u6570\u636e","text":"<p><code>IDBObjectStore.delete()</code>\u65b9\u6cd5\u7528\u4e8e\u5220\u9664\u8bb0\u5f55\u3002</p> <pre><code>function remove() {\n  var request = db\n    .transaction([\"person\"], \"readwrite\")\n    .objectStore(\"person\")\n    .delete(1);\n\n  request.onsuccess = function (event) {\n    console.log(\"\u6570\u636e\u5220\u9664\u6210\u529f\");\n  };\n}\n\nremove();\n</code></pre>"},{"location":"network/2018-07-04-indexeddb/#38","title":"3.8 \u4f7f\u7528\u7d22\u5f15","text":"<p>\u7d22\u5f15\u7684\u610f\u4e49\u5728\u4e8e\uff0c\u53ef\u4ee5\u8ba9\u4f60\u641c\u7d22\u4efb\u610f\u5b57\u6bb5\uff0c\u4e5f\u5c31\u662f\u8bf4\u4ece\u4efb\u610f\u5b57\u6bb5\u62ff\u5230\u6570\u636e\u8bb0\u5f55\u3002\u5982\u679c\u4e0d\u5efa\u7acb\u7d22\u5f15\uff0c\u9ed8\u8ba4\u53ea\u80fd\u641c\u7d22\u4e3b\u952e\uff08\u5373\u4ece\u4e3b\u952e\u53d6\u503c\uff09\u3002</p> <p>\u5047\u5b9a\u65b0\u5efa\u8868\u683c\u7684\u65f6\u5019\uff0c\u5bf9<code>name</code>\u5b57\u6bb5\u5efa\u7acb\u4e86\u7d22\u5f15\u3002</p> <pre><code>objectStore.createIndex(\"name\", \"name\", { unique: false });\n</code></pre> <p>\u73b0\u5728\uff0c\u5c31\u53ef\u4ee5\u4ece<code>name</code>\u627e\u5230\u5bf9\u5e94\u7684\u6570\u636e\u8bb0\u5f55\u4e86\u3002</p> <pre><code>var transaction = db.transaction([\"person\"], \"readonly\");\nvar store = transaction.objectStore(\"person\");\nvar index = store.index(\"name\");\nvar request = index.get(\"\u674e\u56db\");\n\nrequest.onsuccess = function (e) {\n  var result = e.target.result;\n  if (result) {\n    // ...\n  } else {\n    // ...\n  }\n};\n</code></pre>"},{"location":"network/2018-07-09-web-worker/","title":"Web Worker \u4f7f\u7528\u6559\u7a0b","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 13312  \u9605\u8bfb27\u5206\u949f</p>"},{"location":"network/2018-07-09-web-worker/#_1","title":"\u4e00\u3001\u6982\u8ff0","text":"<p>JavaScript \u8bed\u8a00\u91c7\u7528\u7684\u662f\u5355\u7ebf\u7a0b\u6a21\u578b\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6240\u6709\u4efb\u52a1\u53ea\u80fd\u5728\u4e00\u4e2a\u7ebf\u7a0b\u4e0a\u5b8c\u6210\uff0c\u4e00\u6b21\u53ea\u80fd\u505a\u4e00\u4ef6\u4e8b\u3002\u524d\u9762\u7684\u4efb\u52a1\u6ca1\u505a\u5b8c\uff0c\u540e\u9762\u7684\u4efb\u52a1\u53ea\u80fd\u7b49\u7740\u3002\u968f\u7740\u7535\u8111\u8ba1\u7b97\u80fd\u529b\u7684\u589e\u5f3a\uff0c\u5c24\u5176\u662f\u591a\u6838 CPU \u7684\u51fa\u73b0\uff0c\u5355\u7ebf\u7a0b\u5e26\u6765\u5f88\u5927\u7684\u4e0d\u4fbf\uff0c\u65e0\u6cd5\u5145\u5206\u53d1\u6325\u8ba1\u7b97\u673a\u7684\u8ba1\u7b97\u80fd\u529b\u3002</p> <p></p> <p>Web Worker \u7684\u4f5c\u7528\uff0c\u5c31\u662f\u4e3a JavaScript \u521b\u9020\u591a\u7ebf\u7a0b\u73af\u5883\uff0c\u5141\u8bb8\u4e3b\u7ebf\u7a0b\u521b\u5efa Worker \u7ebf\u7a0b\uff0c\u5c06\u4e00\u4e9b\u4efb\u52a1\u5206\u914d\u7ed9\u540e\u8005\u8fd0\u884c\u3002\u5728\u4e3b\u7ebf\u7a0b\u8fd0\u884c\u7684\u540c\u65f6\uff0cWorker \u7ebf\u7a0b\u5728\u540e\u53f0\u8fd0\u884c\uff0c\u4e24\u8005\u4e92\u4e0d\u5e72\u6270\u3002\u7b49\u5230 Worker \u7ebf\u7a0b\u5b8c\u6210\u8ba1\u7b97\u4efb\u52a1\uff0c\u518d\u628a\u7ed3\u679c\u8fd4\u56de\u7ed9\u4e3b\u7ebf\u7a0b\u3002\u8fd9\u6837\u7684\u597d\u5904\u662f\uff0c\u4e00\u4e9b\u8ba1\u7b97\u5bc6\u96c6\u578b\u6216\u9ad8\u5ef6\u8fdf\u7684\u4efb\u52a1\uff0c\u88ab Worker \u7ebf\u7a0b\u8d1f\u62c5\u4e86\uff0c\u4e3b\u7ebf\u7a0b\uff08\u901a\u5e38\u8d1f\u8d23 UI \u4ea4\u4e92\uff09\u5c31\u4f1a\u5f88\u6d41\u7545\uff0c\u4e0d\u4f1a\u88ab\u963b\u585e\u6216\u62d6\u6162\u3002</p> <p>Worker \u7ebf\u7a0b\u4e00\u65e6\u65b0\u5efa\u6210\u529f\uff0c\u5c31\u4f1a\u59cb\u7ec8\u8fd0\u884c\uff0c\u4e0d\u4f1a\u88ab\u4e3b\u7ebf\u7a0b\u4e0a\u7684\u6d3b\u52a8\uff08\u6bd4\u5982\u7528\u6237\u70b9\u51fb\u6309\u94ae\u3001\u63d0\u4ea4\u8868\u5355\uff09\u6253\u65ad\u3002\u8fd9\u6837\u6709\u5229\u4e8e\u968f\u65f6\u54cd\u5e94\u4e3b\u7ebf\u7a0b\u7684\u901a\u4fe1\u3002\u4f46\u662f\uff0c\u8fd9\u4e5f\u9020\u6210\u4e86 Worker \u6bd4\u8f83\u8017\u8d39\u8d44\u6e90\uff0c\u4e0d\u5e94\u8be5\u8fc7\u5ea6\u4f7f\u7528\uff0c\u800c\u4e14\u4e00\u65e6\u4f7f\u7528\u5b8c\u6bd5\uff0c\u5c31\u5e94\u8be5\u5173\u95ed\u3002</p> <p>Web Worker \u6709\u4ee5\u4e0b\u51e0\u4e2a\u4f7f\u7528\u6ce8\u610f\u70b9\u3002</p> <p>\uff081\uff09\u540c\u6e90\u9650\u5236</p> <p>\u5206\u914d\u7ed9 Worker \u7ebf\u7a0b\u8fd0\u884c\u7684\u811a\u672c\u6587\u4ef6\uff0c\u5fc5\u987b\u4e0e\u4e3b\u7ebf\u7a0b\u7684\u811a\u672c\u6587\u4ef6\u540c\u6e90\u3002</p> <p>\uff082\uff09DOM \u9650\u5236</p> <p>Worker \u7ebf\u7a0b\u6240\u5728\u7684\u5168\u5c40\u5bf9\u8c61\uff0c\u4e0e\u4e3b\u7ebf\u7a0b\u4e0d\u4e00\u6837\uff0c\u65e0\u6cd5\u8bfb\u53d6\u4e3b\u7ebf\u7a0b\u6240\u5728\u7f51\u9875\u7684 DOM \u5bf9\u8c61\uff0c\u4e5f\u65e0\u6cd5\u4f7f\u7528<code>document</code>\u3001<code>window</code>\u3001<code>parent</code>\u8fd9\u4e9b\u5bf9\u8c61\u3002\u4f46\u662f\uff0cWorker \u7ebf\u7a0b\u53ef\u4ee5<code>navigator</code>\u5bf9\u8c61\u548c<code>location</code>\u5bf9\u8c61\u3002</p> <p>\uff083\uff09\u901a\u4fe1\u8054\u7cfb</p> <p>Worker \u7ebf\u7a0b\u548c\u4e3b\u7ebf\u7a0b\u4e0d\u5728\u540c\u4e00\u4e2a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u5b83\u4eec\u4e0d\u80fd\u76f4\u63a5\u901a\u4fe1\uff0c\u5fc5\u987b\u901a\u8fc7\u6d88\u606f\u5b8c\u6210\u3002</p> <p>\uff084\uff09\u811a\u672c\u9650\u5236</p> <p>Worker \u7ebf\u7a0b\u4e0d\u80fd\u6267\u884c<code>alert()</code>\u65b9\u6cd5\u548c<code>confirm()</code>\u65b9\u6cd5\uff0c\u4f46\u53ef\u4ee5\u4f7f\u7528 XMLHttpRequest \u5bf9\u8c61\u53d1\u51fa AJAX \u8bf7\u6c42\u3002</p> <p>\uff085\uff09\u6587\u4ef6\u9650\u5236</p> <p>Worker \u7ebf\u7a0b\u65e0\u6cd5\u8bfb\u53d6\u672c\u5730\u6587\u4ef6\uff0c\u5373\u4e0d\u80fd\u6253\u5f00\u672c\u673a\u7684\u6587\u4ef6\u7cfb\u7edf\uff08<code>file://</code>\uff09\uff0c\u5b83\u6240\u52a0\u8f7d\u7684\u811a\u672c\uff0c\u5fc5\u987b\u6765\u81ea\u7f51\u7edc\u3002</p>"},{"location":"network/2018-07-09-web-worker/#_2","title":"\u4e8c\u3001\u57fa\u672c\u7528\u6cd5","text":""},{"location":"network/2018-07-09-web-worker/#21","title":"2.1 \u4e3b\u7ebf\u7a0b","text":"<p>\u4e3b\u7ebf\u7a0b\u91c7\u7528<code>new</code>\u547d\u4ee4\uff0c\u8c03\u7528<code>Worker()</code>\u6784\u9020\u51fd\u6570\uff0c\u65b0\u5efa\u4e00\u4e2a Worker \u7ebf\u7a0b\u3002</p> <pre><code>var worker = new Worker(\"work.js\");\n</code></pre> <p><code>Worker()</code>\u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u811a\u672c\u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u5c31\u662f Worker \u7ebf\u7a0b\u6240\u8981\u6267\u884c\u7684\u4efb\u52a1\u3002\u7531\u4e8e Worker \u4e0d\u80fd\u8bfb\u53d6\u672c\u5730\u6587\u4ef6\uff0c\u6240\u4ee5\u8fd9\u4e2a\u811a\u672c\u5fc5\u987b\u6765\u81ea\u7f51\u7edc\u3002\u5982\u679c\u4e0b\u8f7d\u6ca1\u6709\u6210\u529f\uff08\u6bd4\u5982 404 \u9519\u8bef\uff09\uff0cWorker \u5c31\u4f1a\u9ed8\u9ed8\u5730\u5931\u8d25\u3002</p> <p>\u7136\u540e\uff0c\u4e3b\u7ebf\u7a0b\u8c03\u7528<code>worker.postMessage()</code>\u65b9\u6cd5\uff0c\u5411 Worker \u53d1\u6d88\u606f\u3002</p> <pre><code>worker.postMessage(\"Hello World\");\nworker.postMessage({ method: \"echo\", args: [\"Work\"] });\n</code></pre> <p><code>worker.postMessage()</code>\u65b9\u6cd5\u7684\u53c2\u6570\uff0c\u5c31\u662f\u4e3b\u7ebf\u7a0b\u4f20\u7ed9 Worker \u7684\u6570\u636e\u3002\u5b83\u53ef\u4ee5\u662f\u5404\u79cd\u6570\u636e\u7c7b\u578b\uff0c\u5305\u62ec\u4e8c\u8fdb\u5236\u6570\u636e\u3002</p> <p>\u63a5\u7740\uff0c\u4e3b\u7ebf\u7a0b\u901a\u8fc7<code>worker.onmessage</code>\u6307\u5b9a\u76d1\u542c\u51fd\u6570\uff0c\u63a5\u6536\u5b50\u7ebf\u7a0b\u53d1\u56de\u6765\u7684\u6d88\u606f\u3002</p> <pre><code>worker.onmessage = function (event) {\n  console.log(\"Received message \" + event.data);\n  doSomething();\n};\n\nfunction doSomething() {\n  // \u6267\u884c\u4efb\u52a1\n  worker.postMessage(\"Work done!\");\n}\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e8b\u4ef6\u5bf9\u8c61\u7684<code>data</code>\u5c5e\u6027\u53ef\u4ee5\u83b7\u53d6 Worker \u53d1\u6765\u7684\u6570\u636e\u3002</p> <p>Worker \u5b8c\u6210\u4efb\u52a1\u4ee5\u540e\uff0c\u4e3b\u7ebf\u7a0b\u5c31\u53ef\u4ee5\u628a\u5b83\u5173\u6389\u3002</p> <pre><code>worker.terminate();\n</code></pre>"},{"location":"network/2018-07-09-web-worker/#22-worker","title":"2.2 Worker \u7ebf\u7a0b","text":"<p>Worker \u7ebf\u7a0b\u5185\u90e8\u9700\u8981\u6709\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\uff0c\u76d1\u542c<code>message</code>\u4e8b\u4ef6\u3002</p> <pre><code>self.addEventListener(\n  \"message\",\n  function (e) {\n    self.postMessage(\"You said: \" + e.data);\n  },\n  false\n);\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>self</code>\u4ee3\u8868\u5b50\u7ebf\u7a0b\u81ea\u8eab\uff0c\u5373\u5b50\u7ebf\u7a0b\u7684\u5168\u5c40\u5bf9\u8c61\u3002\u56e0\u6b64\uff0c\u7b49\u540c\u4e8e\u4e0b\u9762\u4e24\u79cd\u5199\u6cd5\u3002</p> <pre><code>// \u5199\u6cd5\u4e00\nthis.addEventListener(\n  \"message\",\n  function (e) {\n    this.postMessage(\"You said: \" + e.data);\n  },\n  false\n);\n\n// \u5199\u6cd5\u4e8c\naddEventListener(\n  \"message\",\n  function (e) {\n    postMessage(\"You said: \" + e.data);\n  },\n  false\n);\n</code></pre> <p>\u9664\u4e86\u4f7f\u7528<code>self.addEventListener()</code>\u6307\u5b9a\u76d1\u542c\u51fd\u6570\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528<code>self.onmessage</code>\u6307\u5b9a\u3002\u76d1\u542c\u51fd\u6570\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u5b83\u7684<code>data</code>\u5c5e\u6027\u5305\u542b\u4e3b\u7ebf\u7a0b\u53d1\u6765\u7684\u6570\u636e\u3002<code>self.postMessage()</code>\u65b9\u6cd5\u7528\u6765\u5411\u4e3b\u7ebf\u7a0b\u53d1\u9001\u6d88\u606f\u3002</p> <p>\u6839\u636e\u4e3b\u7ebf\u7a0b\u53d1\u6765\u7684\u6570\u636e\uff0cWorker \u7ebf\u7a0b\u53ef\u4ee5\u8c03\u7528\u4e0d\u540c\u7684\u65b9\u6cd5\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002</p> <pre><code>self.addEventListener(\n  \"message\",\n  function (e) {\n    var data = e.data;\n    switch (data.cmd) {\n      case \"start\":\n        self.postMessage(\"WORKER STARTED: \" + data.msg);\n        break;\n      case \"stop\":\n        self.postMessage(\"WORKER STOPPED: \" + data.msg);\n        self.close(); // Terminates the worker.\n        break;\n      default:\n        self.postMessage(\"Unknown command: \" + data.msg);\n    }\n  },\n  false\n);\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>self.close()</code>\u7528\u4e8e\u5728 Worker \u5185\u90e8\u5173\u95ed\u81ea\u8eab\u3002</p>"},{"location":"network/2018-07-09-web-worker/#23-worker","title":"2.3 Worker \u52a0\u8f7d\u811a\u672c","text":"<p>Worker \u5185\u90e8\u5982\u679c\u8981\u52a0\u8f7d\u5176\u4ed6\u811a\u672c\uff0c\u6709\u4e00\u4e2a\u4e13\u95e8\u7684\u65b9\u6cd5<code>importScripts()</code>\u3002</p> <pre><code>importScripts(\"script1.js\");\n</code></pre> <p>\u8be5\u65b9\u6cd5\u53ef\u4ee5\u540c\u65f6\u52a0\u8f7d\u591a\u4e2a\u811a\u672c\u3002</p> <pre><code>importScripts(\"script1.js\", \"script2.js\");\n</code></pre>"},{"location":"network/2018-07-09-web-worker/#24","title":"2.4 \u9519\u8bef\u5904\u7406","text":"<p>\u4e3b\u7ebf\u7a0b\u53ef\u4ee5\u76d1\u542c Worker \u662f\u5426\u53d1\u751f\u9519\u8bef\u3002\u5982\u679c\u53d1\u751f\u9519\u8bef\uff0cWorker \u4f1a\u89e6\u53d1\u4e3b\u7ebf\u7a0b\u7684<code>error</code>\u4e8b\u4ef6\u3002</p> <pre><code>worker.onerror(function (event) {\n  console.log(\n    [\"ERROR: Line \", e.lineno, \" in \", e.filename, \": \", e.message].join(\"\")\n  );\n});\n\n// \u6216\u8005\nworker.addEventListener(\"error\", function (event) {\n  // ...\n});\n</code></pre> <p>Worker \u5185\u90e8\u4e5f\u53ef\u4ee5\u76d1\u542c<code>error</code>\u4e8b\u4ef6\u3002</p>"},{"location":"network/2018-07-09-web-worker/#25-worker","title":"2.5 \u5173\u95ed Worker","text":"<p>\u4f7f\u7528\u5b8c\u6bd5\uff0c\u4e3a\u4e86\u8282\u7701\u7cfb\u7edf\u8d44\u6e90\uff0c\u5fc5\u987b\u5173\u95ed Worker\u3002</p> <pre><code>// \u4e3b\u7ebf\u7a0b\nworker.terminate();\n\n// Worker \u7ebf\u7a0b\nself.close();\n</code></pre>"},{"location":"network/2018-07-09-web-worker/#_3","title":"\u4e09\u3001\u6570\u636e\u901a\u4fe1","text":"<p>\u524d\u9762\u8bf4\u8fc7\uff0c\u4e3b\u7ebf\u7a0b\u4e0e Worker \u4e4b\u95f4\u7684\u901a\u4fe1\u5185\u5bb9\uff0c\u53ef\u4ee5\u662f\u6587\u672c\uff0c\u4e5f\u53ef\u4ee5\u662f\u5bf9\u8c61\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u79cd\u901a\u4fe1\u662f\u62f7\u8d1d\u5173\u7cfb\uff0c\u5373\u662f\u4f20\u503c\u800c\u4e0d\u662f\u4f20\u5740\uff0cWorker \u5bf9\u901a\u4fe1\u5185\u5bb9\u7684\u4fee\u6539\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5230\u4e3b\u7ebf\u7a0b\u3002\u4e8b\u5b9e\u4e0a\uff0c\u6d4f\u89c8\u5668\u5185\u90e8\u7684\u8fd0\u884c\u673a\u5236\u662f\uff0c\u5148\u5c06\u901a\u4fe1\u5185\u5bb9\u4e32\u884c\u5316\uff0c\u7136\u540e\u628a\u4e32\u884c\u5316\u540e\u7684\u5b57\u7b26\u4e32\u53d1\u7ed9 Worker\uff0c\u540e\u8005\u518d\u5c06\u5b83\u8fd8\u539f\u3002</p> <p>\u4e3b\u7ebf\u7a0b\u4e0e Worker \u4e4b\u95f4\u4e5f\u53ef\u4ee5\u4ea4\u6362\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u6bd4\u5982 File\u3001Blob\u3001ArrayBuffer \u7b49\u7c7b\u578b\uff0c\u4e5f\u53ef\u4ee5\u5728\u7ebf\u7a0b\u4e4b\u95f4\u53d1\u9001\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002</p> <pre><code>// \u4e3b\u7ebf\u7a0b\nvar uInt8Array = new Uint8Array(new ArrayBuffer(10));\nfor (var i = 0; i &lt; uInt8Array.length; ++i) {\n  uInt8Array[i] = i * 2; // [0, 2, 4, 6, 8,...]\n}\nworker.postMessage(uInt8Array);\n\n// Worker \u7ebf\u7a0b\nself.onmessage = function (e) {\n  var uInt8Array = e.data;\n  postMessage(\n    \"Inside worker.js: uInt8Array.toString() = \" + uInt8Array.toString()\n  );\n  postMessage(\n    \"Inside worker.js: uInt8Array.byteLength = \" + uInt8Array.byteLength\n  );\n};\n</code></pre> <p>\u4f46\u662f\uff0c\u62f7\u8d1d\u65b9\u5f0f\u53d1\u9001\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u4f1a\u9020\u6210\u6027\u80fd\u95ee\u9898\u3002\u6bd4\u5982\uff0c\u4e3b\u7ebf\u7a0b\u5411 Worker \u53d1\u9001\u4e00\u4e2a 500MB \u6587\u4ef6\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u6d4f\u89c8\u5668\u4f1a\u751f\u6210\u4e00\u4e2a\u539f\u6587\u4ef6\u7684\u62f7\u8d1d\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cJavaScript \u5141\u8bb8\u4e3b\u7ebf\u7a0b\u628a\u4e8c\u8fdb\u5236\u6570\u636e\u76f4\u63a5\u8f6c\u79fb\u7ed9\u5b50\u7ebf\u7a0b\uff0c\u4f46\u662f\u4e00\u65e6\u8f6c\u79fb\uff0c\u4e3b\u7ebf\u7a0b\u5c31\u65e0\u6cd5\u518d\u4f7f\u7528\u8fd9\u4e9b\u4e8c\u8fdb\u5236\u6570\u636e\u4e86\uff0c\u8fd9\u662f\u4e3a\u4e86\u9632\u6b62\u51fa\u73b0\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u4fee\u6539\u6570\u636e\u7684\u9ebb\u70e6\u5c40\u9762\u3002\u8fd9\u79cd\u8f6c\u79fb\u6570\u636e\u7684\u65b9\u6cd5\uff0c\u53eb\u505aTransferable Objects\u3002\u8fd9\u4f7f\u5f97\u4e3b\u7ebf\u7a0b\u53ef\u4ee5\u5feb\u901f\u628a\u6570\u636e\u4ea4\u7ed9 Worker\uff0c\u5bf9\u4e8e\u5f71\u50cf\u5904\u7406\u3001\u58f0\u97f3\u5904\u7406\u30013D \u8fd0\u7b97\u7b49\u5c31\u975e\u5e38\u65b9\u4fbf\u4e86\uff0c\u4e0d\u4f1a\u4ea7\u751f\u6027\u80fd\u8d1f\u62c5\u3002</p> <p>\u5982\u679c\u8981\u76f4\u63a5\u8f6c\u79fb\u6570\u636e\u7684\u63a7\u5236\u6743\uff0c\u5c31\u8981\u4f7f\u7528\u4e0b\u9762\u7684\u5199\u6cd5\u3002</p> <pre><code>// Transferable Objects \u683c\u5f0f\nworker.postMessage(arrayBuffer, [arrayBuffer]);\n\n// \u4f8b\u5b50\nvar ab = new ArrayBuffer(1);\nworker.postMessage(ab, [ab]);\n</code></pre>"},{"location":"network/2018-07-09-web-worker/#web-worker_1","title":"\u56db\u3001\u540c\u9875\u9762\u7684 Web Worker","text":"<p>\u901a\u5e38\u60c5\u51b5\u4e0b\uff0cWorker \u8f7d\u5165\u7684\u662f\u4e00\u4e2a\u5355\u72ec\u7684 JavaScript \u811a\u672c\u6587\u4ef6\uff0c\u4f46\u662f\u4e5f\u53ef\u4ee5\u8f7d\u5165\u4e0e\u4e3b\u7ebf\u7a0b\u5728\u540c\u4e00\u4e2a\u7f51\u9875\u7684\u4ee3\u7801\u3002</p> <pre><code>&lt;!DOCTYPE html&gt;\n  &lt;body&gt;\n    &lt;script id=\"worker\" type=\"app/worker\"&gt;\n      addEventListener('message', function () {\n        postMessage('some message');\n      }, false);\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u4e0a\u9762\u662f\u4e00\u6bb5\u5d4c\u5165\u7f51\u9875\u7684\u811a\u672c\uff0c\u6ce8\u610f\u5fc5\u987b\u6307\u5b9a<code>&lt;script&gt;</code>\u6807\u7b7e\u7684<code>type</code>\u5c5e\u6027\u662f\u4e00\u4e2a\u6d4f\u89c8\u5668\u4e0d\u8ba4\u8bc6\u7684\u503c\uff0c\u4e0a\u4f8b\u662f<code>app/worker</code>\u3002</p> <p>\u7136\u540e\uff0c\u8bfb\u53d6\u8fd9\u4e00\u6bb5\u5d4c\u5165\u9875\u9762\u7684\u811a\u672c\uff0c\u7528 Worker \u6765\u5904\u7406\u3002</p> <pre><code>var blob = new Blob([document.querySelector(\"#worker\").textContent]);\nvar url = window.URL.createObjectURL(blob);\nvar worker = new Worker(url);\n\nworker.onmessage = function (e) {\n  // e.data === 'some message'\n};\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5148\u5c06\u5d4c\u5165\u7f51\u9875\u7684\u811a\u672c\u4ee3\u7801\uff0c\u8f6c\u6210\u4e00\u4e2a\u4e8c\u8fdb\u5236\u5bf9\u8c61\uff0c\u7136\u540e\u4e3a\u8fd9\u4e2a\u4e8c\u8fdb\u5236\u5bf9\u8c61\u751f\u6210 URL\uff0c\u518d\u8ba9 Worker \u52a0\u8f7d\u8fd9\u4e2a URL\u3002\u8fd9\u6837\u5c31\u505a\u5230\u4e86\uff0c\u4e3b\u7ebf\u7a0b\u548c Worker \u7684\u4ee3\u7801\u90fd\u5728\u540c\u4e00\u4e2a\u7f51\u9875\u4e0a\u9762\u3002</p>"},{"location":"network/2018-07-09-web-worker/#worker","title":"\u4e94\u3001\u5b9e\u4f8b\uff1aWorker \u7ebf\u7a0b\u5b8c\u6210\u8f6e\u8be2","text":"<p>\u6709\u65f6\uff0c\u6d4f\u89c8\u5668\u9700\u8981\u8f6e\u8be2\u670d\u52a1\u5668\u72b6\u6001\uff0c\u4ee5\u4fbf\u7b2c\u4e00\u65f6\u95f4\u5f97\u77e5\u72b6\u6001\u6539\u53d8\u3002\u8fd9\u4e2a\u5de5\u4f5c\u53ef\u4ee5\u653e\u5728 Worker \u91cc\u9762\u3002</p> <pre><code>function createWorker(f) {\n  var blob = new Blob([f.toString()]);\n  var url = window.URL.createObjectURL(blob);\n  var worker = new Worker(url);\n  return worker;\n}\n\nvar pollingWorker = createWorker(function (e) {\n  var cache;\n\n  function compare(new, old) { ... };\n\n  setInterval(function () {\n    fetch('/my-api-endpoint').then(function (res) {\n      var data = res.json();\n\n      if (!compare(data, cache)) {\n        cache = data;\n        self.postMessage(data);\n      }\n    })\n  }, 1000)\n});\n\npollingWorker.onmessage = function () {\n  // render data\n}\n\npollingWorker.postMessage('init');\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0cWorker \u6bcf\u79d2\u949f\u8f6e\u8be2\u4e00\u6b21\u6570\u636e\uff0c\u7136\u540e\u8ddf\u7f13\u5b58\u505a\u6bd4\u8f83\u3002\u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u5c31\u8bf4\u660e\u670d\u52a1\u7aef\u6709\u4e86\u65b0\u7684\u53d8\u5316\uff0c\u56e0\u6b64\u5c31\u8981\u901a\u77e5\u4e3b\u7ebf\u7a0b\u3002</p>"},{"location":"network/2018-07-09-web-worker/#worker-worker","title":"\u516d\u3001\u5b9e\u4f8b\uff1a Worker \u65b0\u5efa Worker","text":"<p>Worker \u7ebf\u7a0b\u5185\u90e8\u8fd8\u80fd\u518d\u65b0\u5efa Worker \u7ebf\u7a0b\u3002\u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u5c06\u4e00\u4e2a\u8ba1\u7b97\u5bc6\u96c6\u7684\u4efb\u52a1\uff0c\u5206\u914d\u5230 10 \u4e2a Worker\u3002</p> <p>\u4e3b\u7ebf\u7a0b\u4ee3\u7801\u5982\u4e0b\u3002</p> <pre><code>var worker = new Worker(\"worker.js\");\nworker.onmessage = function (event) {\n  document.getElementById(\"result\").textContent = event.data;\n};\n</code></pre> <p>Worker \u7ebf\u7a0b\u4ee3\u7801\u5982\u4e0b\u3002</p> <pre><code>// worker.js\n\n// settings\nvar num_workers = 10;\nvar items_per_worker = 1000000;\n\n// start the workers\nvar result = 0;\nvar pending_workers = num_workers;\nfor (var i = 0; i &lt; num_workers; i += 1) {\n  var worker = new Worker(\"core.js\");\n  worker.postMessage(i * items_per_worker);\n  worker.postMessage((i + 1) * items_per_worker);\n  worker.onmessage = storeResult;\n}\n\n// handle the results\nfunction storeResult(event) {\n  result += event.data;\n  pending_workers -= 1;\n  if (pending_workers &lt;= 0) postMessage(result); // finished!\n}\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0cWorker \u7ebf\u7a0b\u5185\u90e8\u65b0\u5efa\u4e86 10 \u4e2a Worker \u7ebf\u7a0b\uff0c\u5e76\u4e14\u4f9d\u6b21\u5411\u8fd9 10 \u4e2a Worker \u53d1\u9001\u6d88\u606f\uff0c\u544a\u77e5\u4e86\u8ba1\u7b97\u7684\u8d77\u70b9\u548c\u7ec8\u70b9\u3002\u8ba1\u7b97\u4efb\u52a1\u811a\u672c\u7684\u4ee3\u7801\u5982\u4e0b\u3002</p> <pre><code>// core.js\nvar start;\nonmessage = getStart;\nfunction getStart(event) {\n  start = event.data;\n  onmessage = getEnd;\n}\n\nvar end;\nfunction getEnd(event) {\n  end = event.data;\n  onmessage = null;\n  work();\n}\n\nfunction work() {\n  var result = 0;\n  for (var i = start; i &lt; end; i += 1) {\n    // perform some complex calculation here\n    result += 1;\n  }\n  postMessage(result);\n  close();\n}\n</code></pre>"},{"location":"network/2018-07-09-web-worker/#api","title":"\u4e03\u3001API","text":""},{"location":"network/2018-07-09-web-worker/#71","title":"7.1 \u4e3b\u7ebf\u7a0b","text":"<p>\u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b<code>Worker()</code>\u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u4f9b\u4e3b\u7ebf\u7a0b\u751f\u6210 Worker \u7ebf\u7a0b\u3002</p> <pre><code>var myWorker = new Worker(jsUrl, options);\n</code></pre> <p><code>Worker()</code>\u6784\u9020\u51fd\u6570\uff0c\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u811a\u672c\u7684\u7f51\u5740\uff08\u5fc5\u987b\u9075\u5b88\u540c\u6e90\u653f\u7b56\uff09\uff0c\u8be5\u53c2\u6570\u662f\u5fc5\u9700\u7684\uff0c\u4e14\u53ea\u80fd\u52a0\u8f7d JS \u811a\u672c\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u914d\u7f6e\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u53ef\u9009\u3002\u5b83\u7684\u4e00\u4e2a\u4f5c\u7528\u5c31\u662f\u6307\u5b9a Worker \u7684\u540d\u79f0\uff0c\u7528\u6765\u533a\u5206\u591a\u4e2a Worker \u7ebf\u7a0b\u3002</p> <pre><code>// \u4e3b\u7ebf\u7a0b\nvar myWorker = new Worker(\"worker.js\", { name: \"myWorker\" });\n\n// Worker \u7ebf\u7a0b\nself.name; // myWorker\n</code></pre> <p><code>Worker()</code>\u6784\u9020\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a Worker \u7ebf\u7a0b\u5bf9\u8c61\uff0c\u7528\u6765\u4f9b\u4e3b\u7ebf\u7a0b\u64cd\u4f5c Worker\u3002Worker \u7ebf\u7a0b\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u5982\u4e0b\u3002</p> <ul> <li>Worker.onerror\uff1a\u6307\u5b9a error \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002</li> <li>Worker.onmessage\uff1a\u6307\u5b9a message \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u53d1\u9001\u8fc7\u6765\u7684\u6570\u636e\u5728<code>Event.data</code>\u5c5e\u6027\u4e2d\u3002</li> <li>Worker.onmessageerror\uff1a\u6307\u5b9a messageerror \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002\u53d1\u9001\u7684\u6570\u636e\u65e0\u6cd5\u5e8f\u5217\u5316\u6210\u5b57\u7b26\u4e32\u65f6\uff0c\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u3002</li> <li>Worker.postMessage()\uff1a\u5411 Worker \u7ebf\u7a0b\u53d1\u9001\u6d88\u606f\u3002</li> <li>Worker.terminate()\uff1a\u7acb\u5373\u7ec8\u6b62 Worker \u7ebf\u7a0b\u3002</li> </ul>"},{"location":"network/2018-07-09-web-worker/#72-worker","title":"7.2 Worker \u7ebf\u7a0b","text":"<p>Web Worker \u6709\u81ea\u5df1\u7684\u5168\u5c40\u5bf9\u8c61\uff0c\u4e0d\u662f\u4e3b\u7ebf\u7a0b\u7684<code>window</code>\uff0c\u800c\u662f\u4e00\u4e2a\u4e13\u95e8\u4e3a Worker \u5b9a\u5236\u7684\u5168\u5c40\u5bf9\u8c61\u3002\u56e0\u6b64\u5b9a\u4e49\u5728<code>window</code>\u4e0a\u9762\u7684\u5bf9\u8c61\u548c\u65b9\u6cd5\u4e0d\u662f\u5168\u90e8\u90fd\u53ef\u4ee5\u4f7f\u7528\u3002</p> <p>Worker \u7ebf\u7a0b\u6709\u4e00\u4e9b\u81ea\u5df1\u7684\u5168\u5c40\u5c5e\u6027\u548c\u65b9\u6cd5\u3002</p> <ul> <li>self.name\uff1a Worker \u7684\u540d\u5b57\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\uff0c\u7531\u6784\u9020\u51fd\u6570\u6307\u5b9a\u3002</li> <li>self.onmessage\uff1a\u6307\u5b9a<code>message</code>\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002</li> <li>self.onmessageerror\uff1a\u6307\u5b9a messageerror \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002\u53d1\u9001\u7684\u6570\u636e\u65e0\u6cd5\u5e8f\u5217\u5316\u6210\u5b57\u7b26\u4e32\u65f6\uff0c\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u3002</li> <li>self.close()\uff1a\u5173\u95ed Worker \u7ebf\u7a0b\u3002</li> <li>self.postMessage()\uff1a\u5411\u4ea7\u751f\u8fd9\u4e2a Worker \u7ebf\u7a0b\u53d1\u9001\u6d88\u606f\u3002</li> <li>self.importScripts()\uff1a\u52a0\u8f7d JS \u811a\u672c\u3002</li> </ul> <p>\uff08\u5b8c\uff09</p>"},{"location":"network/CDN/","title":"CDN","text":""},{"location":"network/CDN/#cdn","title":"CDN","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 7136  \u9605\u8bfb15\u5206\u949f</p>"},{"location":"network/CDN/#cdn_1","title":"CDN \u5b9a\u4e49","text":"<p>\u5185\u5bb9\u5206\u53d1\u7f51\u7edc content delivery network</p> <p>\u6982\u51b5\uff1a\u8bbe\u7f6e\u591a\u4e2a\u8282\u70b9\u670d\u52a1\u5668\uff0c\u5206\u5e03\u5728\u4e0d\u540c\u533a\u57df\u4e2d\uff0c\u4fbf\u4e8e\u7528\u6237\u8fdb\u884c\u6570\u636e\u4f20\u9012\u548c\u8bbf\u95ee\u3002\u5f53\u67d0\u4e00\u4e2a\u8282\u70b9\u51fa\u73b0\u95ee\u9898\u65f6\uff0c\u901a\u8fc7\u5176\u4ed6\u8282\u70b9\u4ecd\u7136\u53ef\u4ee5\u5b8c\u6210\u6570\u636e\u4f20\u8f93\u5de5\u4f5c\uff0c\u53ef\u4ee5\u63d0\u9ad8\u7528\u6237\u8bbf\u95ee\u7f51\u7ad9\u7684\u54cd\u5e94\u901f\u5ea6\u3002</p> <p>\u201c\u5206\u5e03\u5f0f\u5b58\u50a8\u201d\uff1a\u5c06\u4e2d\u5fc3\u5e73\u53f0\u7684\u5185\u5bb9\u5206\u53d1\u5230\u5404\u5730\u7684\u8fb9\u7f18\u670d\u52a1\u5668\uff0c\u4f7f\u7528\u6237\u80fd\u591f\u5c31\u8fd1\u83b7\u53d6\u6240\u9700\u5185\u5bb9\uff0c\u964d\u4f4e\u7f51\u7edc\u7528\u65f6\uff0c\u63d0\u9ad8\u7528\u6237\u8bbf\u95ee\u54cd\u5e94\u901f\u5ea6\u548c\u547d\u4e2d\u7387\u3002\u5229\u7528\u4e86\u7d22\u5f15\u3001\u7f13\u5b58\u7b49\u6280\u672f\u3002</p> <p>\u201c\u8d1f\u8f7d\u5747\u8861\u201d\uff1a\u5bf9\u6240\u6709\u53d1\u9001\u7684\u8bf7\u6c42\u8fdb\u884c\u8bbf\u95ee\u8c03\u5ea6\uff0c\u786e\u5b9a\u63d0\u4f9b\u7ed9\u7528\u6237\u7684\u6700\u7ec8\u5b9e\u9645\u8bbf\u95ee\u5730\u5740\u3002</p> <p>\u201c\u5185\u5bb9\u7ba1\u7406\u201d\uff1a\u8d1f\u8d23\u5bf9\u5b58\u50a8\u5185\u5bb9\u7684\u76d1\u7ba1\u3001\u6570\u636e\u5206\u6790\u7b49\u3002</p>"},{"location":"network/CDN/#cdn_2","title":"CDN \u4f18\u70b9","text":"<ul> <li>\u6d4f\u89c8\u5668\u4ece\u670d\u52a1\u5668\u4e0a\u4e0b\u8f7d CSS\u3001js \u548c\u56fe\u7247\u7b49\u6587\u4ef6\u65f6\u90fd\u8981\u548c\u670d\u52a1\u5668\u8fde\u63a5\uff0c\u800c\u5927\u90e8\u5206\u670d\u52a1\u5668\u7684\u5e26\u5bbd\u6709\u9650\uff0c\u5982\u679c\u8d85\u8fc7\u9650\u5236\uff0c\u7f51\u9875\u5c31\u534a\u5929\u53cd\u5e94\u4e0d\u8fc7\u6765\u3002\u800c CDN \u53ef\u4ee5\u901a\u8fc7\u4e0d\u540c\u7684\u57df\u540d\u6765\u52a0\u8f7d\u6587\u4ef6\uff0c\u4ece\u800c\u4f7f\u4e0b\u8f7d\u6587\u4ef6\u7684\u5e76\u53d1\u8fde\u63a5\u6570\u5927\u5927\u589e\u52a0\u3002</li> <li>jquery \u4e00\u7c7b\u7684\u5e93\u6587\u4ef6\u88ab\u5e7f\u6cdb\u4f7f\u7528\uff0c\u5982\u679c\u8bbf\u95ee\u4f60\u7f51\u7ad9\u7684\u7528\u6237\u7684\u6d4f\u89c8\u5668\u4e4b\u524d\u5728\u8bbf\u95ee\u522b\u7684\u7f51\u7ad9\u65f6\u901a\u8fc7\u548c\u4f60\u76f8\u540c\u7684 CDN \u5df2\u7ecf\u52a0\u8f7d\u4e86 jquery\uff0c\u7531\u4e8e\u8be5\u6587\u4ef6\u5df2\u7ecf\u88ab\u7f13\u5b58\u4e86\uff0c\u5c31\u4e0d\u7528\u91cd\u65b0\u4e0b\u8f7d\u4e86\u3002</li> <li>CDN \u5177\u6709\u66f4\u597d\u7684\u53ef\u7528\u6027\uff0c\u66f4\u4f4e\u7684\u7f51\u7edc\u5ef6\u8fdf\u548c\u4e22\u5305\u7387\u3002</li> <li>CDN \u80fd\u63d0\u4f9b\u672c\u5730\u7684\u6570\u636e\u4e2d\u5fc3\uff0c\u8fd9\u6837\u4e00\u6765\uff0c\u90a3\u4e9b\u8fdc\u79bb\u4f60\u7f51\u7ad9\u4e3b\u670d\u52a1\u5668\u7684\u7528\u6237\u4e5f\u80fd\u5c31\u8fd1\u5f88\u5feb\u5730\u4e0b\u8f7d\u6587\u4ef6\u3002</li> <li>\u5f88\u591a\u5546\u4e1a\u4ed8\u8d39\u7684 CDN \u80fd\u63d0\u4f9b\u4f7f\u7528\u62a5\u544a\uff0c\u8fd9\u53ef\u4ee5\u4f5c\u4e3a\u4f60\u81ea\u5df1\u7f51\u7ad9\u5206\u6790\u62a5\u544a\u7684\u8865\u5145\u3002</li> <li>CDN \u80fd\u591f\u5206\u914d\u8d1f\u8f7d\uff0c\u8282\u7701\u5e26\u5bbd\uff0c\u63d0\u9ad8\u4f60\u7f51\u7ad9\u7684\u6027\u80fd\uff0c\u964d\u4f4e\u7f51\u7ad9\u6258\u7ba1\u7684\u6210\u672c\uff0c\u901a\u5e38\u662f\u514d\u8d39\u7684\u3002</li> </ul>"},{"location":"network/CDN/#cdn_3","title":"CDN \u4e0d\u8db3","text":"<ul> <li> <p>\u5728\u5f00\u53d1\u9636\u6bb5\u5982\u679c\u5904\u5728\u65ad\u7f51\u73af\u5883\u4e0b\uff0cCDN \u6587\u4ef6\u662f\u65e0\u6cd5\u52a0\u8f7d\u7684\u3002</p> </li> <li> <p>\u4e0d\u591f\u7075\u6d3b\u3002\u6bd4\u5982\u4f60\u53ea\u4f7f\u7528 jquery \u5e93\u7684\u4e00\u5c0f\u90e8\u5206\uff0c\u5982\u679c\u4f7f\u7528 CDN \u4e0a\u63d0\u4f9b\u7684\u6587\u4ef6\u5c31\u6ca1\u529e\u6cd5\u8fdb\u884c\u62c6\u5206\uff0c\u8fd8\u662f\u5f97\u4e0b\u8f7d\u539f\u6765\u7684\u5927\u5c0f\uff0c\u53cd\u800c\u6ca1\u6709\u81ea\u5df1\u62c6\u5206\u540e\u52a0\u8f7d\u901f\u5ea6\u6765\u5f97\u5feb\u3002</p> </li> <li> <p>\u5c3d\u7ba1\u4e00\u4e9b\u6d41\u884c\u7684 CDN \u6587\u4ef6\u4e8b\u5148\u7f13\u5b58\u8fc7\u7684\u51e0\u7387\u8f83\u5927\uff0c\u4f46\u5e76\u4e0d\u662f\u4e00\u5b9a\u7684\uff0c\u4e00\u4e9b\u79fb\u52a8\u8bbe\u5907\u7684\u7f13\u5b58\u53ef\u80fd\u5f88\u5c0f\u800c\u4e14\u6548\u7387\u5f88\u4f4e\uff0cCDN \u7684\u4f18\u52bf\u5c31\u4e0d\u660e\u663e\u4e86\uff0c\u7279\u522b\u662f\u5f53\u4f60\u53ef\u4ee5\u5728\u672c\u5730\u670d\u52a1\u5668\u4e0a\u5b58\u653e\u6bd4 CDN \u6587\u4ef6\u66f4\u5c0f\u7684\u6587\u4ef6\u65f6\u3002</p> </li> <li> <p>\u7531\u4e8e\u5730\u7406\u3001\u6cd5\u5f8b\u3001\u653f\u7b56\u548c\u5546\u4e1a\u4e0a\u7684\u963b\u9694\uff0c\u4f60\u6240\u5728\u7684\u5730\u533a\u53ef\u80fd\u5c4f\u853d\u4e86\u4e00\u4e9b\u6d41\u884c\u7684\u514d\u8d39 CDN \u670d\u52a1\u7684\u57df\u540d\u6216\u8005 IP \u5730\u5740\u3002</p> </li> <li> <p>CDN \u4f1a\u6709\u51fa\u6545\u969c\u7684\u65f6\u5019\uff0c\u8fd9\u65f6\u5019\u8981\u6709\u5907\u7528\u65b9\u6848\uff0c\u4e5f\u5c31\u662f\u4f60\u7684\u672c\u5730\u6587\u4ef6\uff0c\u8fd9\u79cd\u5904\u4e8e\u7a33\u5b9a\u8003\u8651\u7684\u5197\u4f59\u4f1a\u589e\u5927\u5f00\u53d1\u5de5\u4f5c\u91cf\u548c\u590d\u6742\u5ea6\u3002</p> </li> <li> <p>\u5982\u679c\u5b89\u5168\u6027\u5bf9\u4f60\u7684\u7f51\u7ad9\u5f88\u91cd\u8981\uff0c\u5c31\u4e0d\u8981\u4f7f\u7528\u516c\u5171\u7684 CDN\uff0c\u56e0\u4e3a\u5f53\u4f60\u8fdc\u7a0b\u4ece CDN \u8bf7\u6c42\u6587\u4ef6\u65f6\uff0c\u4f60\u7684\u8bbf\u95ee\u6765\u6e90\u4fe1\u606f\u4e5f\u88ab\u53d1\u9001\u8fc7\u53bb\uff0c\u4e00\u4e9b\u8fdc\u7a0b\u7684 js \u6587\u4ef6\u53ef\u80fd\u88ab\u4fee\u6539\u7528\u6765\u641c\u96c6\u4f60\u7684\u7528\u6237\u6216\u8005\u7cfb\u7edf\u4fe1\u606f\uff0c\u800c\u5f53\u4f60\u4f7f\u7528 https \u534f\u8bae\u65f6\uff0c\u80fd\u9009\u62e9\u7684 CDN \u5c31\u66f4\u52a0\u6709\u9650\u3002</p> </li> </ul>"},{"location":"network/CDN/#_1","title":"\u4f20\u7edf\u7f51\u7ad9\u7684\u8bbf\u95ee\u8fc7\u7a0b","text":"<ul> <li> <p>\u7528\u6237\u5728\u81ea\u5df1\u7684\u6d4f\u89c8\u5668\u4e2d\u8f93\u5165\u8981\u8bbf\u95ee\u7684\u7f51\u7ad9\u57df\u540d\u3002</p> </li> <li> <p>\u6d4f\u89c8\u5668\u5411**\u672c\u5730 DNS \u670d\u52a1\u5668**\u8bf7\u6c42\u5bf9\u8be5\u57df\u540d\u7684\u89e3\u6790\u3002</p> </li> <li> <p>\u672c\u5730 DNS \u670d\u52a1\u5668\u4e2d\u5982\u679c\u7f13\u5b58\u6709\u8fd9\u4e2a\u57df\u540d\u7684\u89e3\u6790\u7ed3\u679c\uff0c\u5219\u76f4\u63a5\u54cd\u5e94\u7528\u6237\u7684\u89e3\u6790\u8bf7\u6c42\u3002</p> </li> <li> <p>\u672c\u5730 DNS \u670d\u52a1\u5668\u4e2d\u5982\u679c\u6ca1\u6709\u5173\u4e8e\u8fd9\u4e2a\u57df\u540d\u7684\u89e3\u6790\u7ed3\u679c\u7684\u7f13\u5b58\uff0c\u5219\u4ee5\u9012\u5f52\u65b9\u5f0f\u5411\u6574\u4e2a**DNS \u7cfb\u7edf**\u8bf7\u6c42\u89e3\u6790\uff0c\u83b7\u5f97\u5e94\u7b54\u540e\u5c06\u7ed3\u679c\u53cd\u9988\u7ed9\u6d4f\u89c8\u5668\u3002</p> </li> <li> <p>\u6d4f\u89c8\u5668\u5f97\u5230\u57df\u540d\u89e3\u6790\u7ed3\u679c\uff0c\u5c31\u662f\u8be5\u57df\u540d\u76f8\u5e94\u7684\u670d\u52a1\u8bbe\u5907\u7684 IP \u5730\u5740\u3002</p> </li> <li> <p>\u6d4f\u89c8\u5668\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u5185\u5bb9\u3002</p> </li> <li> <p>\u670d\u52a1\u5668\u5c06\u7528\u6237\u8bf7\u6c42\u5185\u5bb9\u4f20\u9001\u7ed9\u6d4f\u89c8\u5668\u3002</p> </li> </ul>"},{"location":"network/CDN/#cdn_4","title":"\u52a0\u5165 CDN \u540e\u7684\u8bbf\u95ee\u8fc7\u7a0b","text":"<ul> <li>\u5f53\u7528\u6237\u70b9\u51fb\u7f51\u7ad9\u9875\u9762\u4e0a\u7684\u5185\u5bb9 URL\uff0c\u7ecf\u8fc7**\u672c\u5730 DNS \u7cfb\u7edf**\u89e3\u6790\uff0cDNS \u7cfb\u7edf\u4f1a\u6700\u7ec8\u5c06\u57df\u540d\u7684\u89e3\u6790\u6743\u4ea4\u7ed9 CNAME \u6307\u5411\u7684**CDN \u4e13\u7528 DNS \u670d\u52a1\u5668**\u3002</li> <li>CDN \u7684 DNS \u670d\u52a1\u5668\u5c06**CDN \u7684\u5168\u5c40\u8d1f\u8f7d\u5747\u8861\u8bbe\u5907 IP \u5730\u5740**\u8fd4\u56de\u7528\u6237\u3002</li> <li>\u7528\u6237\u5411 CDN \u7684\u5168\u5c40\u8d1f\u8f7d\u5747\u8861\u8bbe\u5907\u53d1\u8d77\u5185\u5bb9 URL \u8bbf\u95ee\u8bf7\u6c42\u3002</li> <li>CDN \u5168\u5c40\u8d1f\u8f7d\u5747\u8861\u8bbe\u5907\u6839\u636e\u7528\u6237 IP \u5730\u5740\uff0c\u4ee5\u53ca\u7528\u6237\u8bf7\u6c42\u7684\u5185\u5bb9 URL\uff0c\u9009\u62e9\u4e00\u53f0**\u7528\u6237\u6240\u5c5e\u533a\u57df\u7684\u533a\u57df\u8d1f\u8f7d\u5747\u8861\u8bbe\u5907**\uff0c\u544a\u8bc9\u7528\u6237\u5411\u8fd9\u53f0\u8bbe\u5907\u53d1\u8d77\u8bf7\u6c42\u3002</li> <li>\u533a\u57df\u8d1f\u8f7d\u5747\u8861\u8bbe\u5907\u4f1a\u4e3a\u7528\u6237\u9009\u62e9\u4e00\u53f0**\u5408\u9002\u7684\u7f13\u5b58\u670d\u52a1\u5668**\u63d0\u4f9b\u670d\u52a1\uff0c\u9009\u62e9\u7684\u4f9d\u636e\u5305\u62ec\uff1a\u6839\u636e\u7528\u6237 IP \u5730\u5740\uff0c\u5224\u65ad\u54ea\u4e00\u53f0\u670d\u52a1\u5668\u8ddd\u7528\u6237\u6700\u8fd1\uff1b\u6839\u636e\u7528\u6237\u6240\u8bf7\u6c42\u7684 URL \u4e2d\u643a\u5e26\u7684\u5185\u5bb9\u540d\u79f0\uff0c\u5224\u65ad\u54ea\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\u6709\u7528\u6237\u6240\u9700\u5185\u5bb9\uff1b\u67e5\u8be2\u5404\u4e2a\u670d\u52a1\u5668\u5f53\u524d\u7684\u8d1f\u8f7d\u60c5\u51b5\uff0c\u5224\u65ad\u54ea\u4e00\u53f0\u670d\u52a1\u5668\u5c1a\u6709\u670d\u52a1\u80fd\u529b\u3002\u57fa\u4e8e\u4ee5\u4e0a\u8fd9\u4e9b\u6761\u4ef6\u7684\u7efc\u5408\u5206\u6790\u4e4b\u540e\uff0c**\u533a\u57df\u8d1f\u8f7d\u5747\u8861\u8bbe\u5907**\u4f1a\u5411**\u5168\u5c40\u8d1f\u8f7d\u5747\u8861\u8bbe\u5907**\u8fd4\u56de\u4e00\u53f0\u7f13\u5b58\u670d\u52a1\u5668\u7684 IP \u5730\u5740\u3002</li> <li>**\u5168\u5c40\u8d1f\u8f7d\u5747\u8861\u8bbe\u5907**\u628a\u670d\u52a1\u5668\u7684 IP \u5730\u5740\u8fd4\u56de\u7ed9\u7528\u6237\u3002</li> <li>\u7528\u6237\u5411\u7f13\u5b58\u670d\u52a1\u5668\u53d1\u8d77\u8bf7\u6c42\uff0c\u7f13\u5b58\u670d\u52a1\u5668\u54cd\u5e94\u7528\u6237\u8bf7\u6c42\uff0c\u5c06\u7528\u6237\u6240\u9700\u5185\u5bb9\u4f20\u9001\u5230\u7528\u6237\u7ec8\u7aef\u3002</li> </ul>"},{"location":"network/CDN/#cdn_5","title":"\u524d\u7aef CDN \u4f18\u5316\u7f51\u7ad9\u6027\u80fd","text":"<p>1.\u524d\u7aef\u7684\u6587\u4ef6\u5206\u4e3a\u9759\u6001\u6587\u4ef6\u548c\u52a8\u6001\u6587\u4ef6\uff1a\u5bf9\u4e8e\u9759\u6001\u6587\u4ef6\uff08img-css-video\uff09\u5360\u7528\u8d44\u6e90\u8f83\u5927\uff0c\u8fd9\u90e8\u5206\u6587\u4ef6\u57fa\u672c\u4fdd\u6301\u4e0d\u53d8\uff0c\u53ef\u4ee5\u4f7f\u7528 CDN \u8fdb\u884c\u52a0\u901f\uff1b\u5bf9\u4e8e JS \u6587\u4ef6\uff08jquery\uff09\u4e0d\u540c\u7f51\u7ad9\u4f7f\u7528\u591a\uff0c\u53ef\u4ee5\u4f7f\u7528 CDN \u8fdb\u884c\u52a0\u901f\u3002\u5bf9\u4e8e\u9759\u6001 html \u754c\u9762\uff0c\u5982\u679c\u7eaf\u9759\u6001\u754c\u9762\u53ef\u4ee5\u4f7f\u7528 CDN \u52a0\u901f\u3002\u5982\u679c\u6d89\u53ca jsp \u52a8\u6001\u754c\u9762\u76f4\u63a5\u4ece\u6e90\u670d\u52a1\u5668\u83b7\u53d6\u6587\u4ef6\u6bd4\u8f83\u597d\u3002</p> <p>\u52a8\u6001\u9875\u9762\uff1a\u5f53\u6536\u5230\u7528\u6237\u8bf7\u6c42\u65f6\u670d\u52a1\u5668\u4f1a\u5728\u670d\u52a1\u7aef\u5bf9\u9875\u9762\u8fdb\u884c\u4e00\u6b21\u540e\u53f0\u6e32\u67d3\u628a\u6570\u636e\u6e32\u67d3\u5230\u9875\u9762\u4e4b\u540e\u518d\u8fd4\u56de\u7ed9\u7528\u6237\uff08\u5f53\u7136\uff0c\u670d\u52a1\u7aef\u4e5f\u53ef\u4ee5\u505a\u7f13\u5b58\uff09\u3002</p> <p>\u52a8\u6001\u9875\u9762\u662f\u4e0d\u9002\u5408\u505a cdn \u52a0\u901f\u7684\u3002\u539f\u56e0\uff1a\u53c2\u7167\u4e0a\u9762\u8bb2\u7684 cdn \u5de5\u4f5c\u539f\u7406\uff0c\u7531\u4e8e\u9875\u9762\u662f\u52a8\u6001\u7684\uff0c\u5185\u5bb9\u7684\u6709\u6548\u671f\u5c31\u6bd4\u8f83\u6d3b\u8dc3\u3002\u5047\u5982\u6211\u4eec\u5bf9\u52a8\u6001\u9875\u9762\u505a\u4e86 cdn \u52a0\u901f\uff0c\u90a3\u4e48\u573a\u666f\u5e94\u8be5\u662f\u8fd9\u6837\u7684\uff1a\u7528\u6237\u2014\u2014&gt;\u8fb9\u7f18\u8282\u70b9\uff08\u9a8c\u8bc1\u6709\u6548\u671f\u53d1\u73b0\u5931\u6548\uff09\u2014\u2014&gt;\u6e90\u7ad9\u3002\u7ecf\u8fc7\u8fd9\u4e2a\u8fc7\u7a0b\u624d\u80fd\u62ff\u5230\u9875\u9762\uff0c\u8fd9\u6837\u5e76\u6ca1\u6709\u8d77\u5230\u52a0\u901f\u7684\u4f5c\u7528\u53cd\u800c\u66f4\u6162\u4e86\uff0c\u90a3\u6211\u4eec\u8fd8\u4e0d\u5982\u76f4\u63a5\u53bb\u6e90\u7ad9\u62ff(\u5f53\u7136\u6211\u4eec\u53ef\u4ee5\u8981\u6c42 cdn \u5382\u5546\u505a\u5b9a\u5236\u5316\u5f00\u53d1)\u3002</p> <p>\u9759\u6001\u9875\u9762\uff1a\u6536\u5230\u7528\u6237\u8bf7\u6c42\u65f6\uff0c\u670d\u52a1\u7aef\u4e0d\u505a\u6e32\u67d3\u5de5\u4f5c\u76f4\u63a5\u8fd4\u56de\u7ed9\u7528\u6237\u3002</p> <p>2.\u6d4f\u89c8\u5668\u5bf9\u540c\u4e00 ip \u8fdb\u884c\u8bf7\u6c42\u7684\u6700\u5927\u5e76\u53d1\u8fde\u63a5\u6570\u3002\u4e0d\u540c\u6d4f\u89c8\u5668\u7684\u5e76\u53d1\u6570\u91cf\u4e0d\u4e00\u6837\uff1aIE11 \u3001IE10 \u3001chrome\u3001Firefox \u7684\u5e76\u53d1\u8fde\u63a5\u6570\u662f 6 \u4e2a\uff0cIE9 \u662f 10 \u4e2a\u3002</p> <p>\u5982\u679c\u9875\u9762\u9759\u6001\u8d44\u6e90\uff08\u56fe\u7247\u7b49\uff09\u8fc7\u591a\uff08\u5927\u4e8e 6 \u4e2a\uff09\u4f1a\u5b58\u5728\u8d44\u6e90\u8bf7\u6c42\u7b49\u5f85\u7684\u60c5\u51b5\u3002\u76ee\u524d\u73b0\u5b9e\u72b6\u51b5\u662f\u5927\u591a\u7528\u6237\u5e26\u5bbd\u8d8a\u6765\u8d8a\u5927\uff0c\u4f46\u662f\u54b1\u4eec\u7684\u9759\u6001\u8d44\u6e90\u5e76\u975e\u90a3\u4e48\u5927\uff0c\u5f88\u591a\u6587\u4ef6\u90fd\u662f\u51e0 k \u6216\u8005\u51e0\u5341 k\uff0c6 \u4e2a\u6587\u4ef6\u52a0\u8d77\u6765\u90fd\u5c0f\u4e8e\u5e26\u5bbd\u3002\u8fd9\u6837\u5c31\u5bfc\u81f4\u4e86\u8d44\u6e90\u7684\u6d6a\u8d39\u3002\u89e3\u51b3\u65b9\u6848\u662f\uff1a\u7528\u591a\u4e2a\u4e0d\u540c IP \u7684\u670d\u52a1\u5668\u6765\u5b58\u50a8\u8fd9\u4e9b\u6587\u4ef6\uff0c\u5e76\u5728\u9875\u9762\u4e2d\u901a\u8fc7\u7edd\u5bf9\u8def\u5f84\u7684\u65b9\u5f0f\u5f15\u7528\uff08\u8981\u6c42\u540c\u4e00 IP \u7684\u6587\u4ef6\u4e0d\u8d85\u8fc7 6 \u4e2a\uff09\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u5c3d\u53ef\u80fd\u7684\u51cf\u5c11\u8d44\u6e90\u8bf7\u6c42\u7b49\u5f85\u7684\u60c5\u51b5\u3002</p>"},{"location":"network/CDN/#_2","title":"\u53c2\u8003\u8d44\u6599","text":"<p>https://baike.baidu.com/item/CDN/420951?fr=aladdin https://cloud.tencent.com/document/product/228/3149 https://en.wikipedia.org/wiki/Content_delivery_network https://segmentfault.com/a/1190000007962943 https://blog.csdn.net/u010400084/article/details/52925597</p>"},{"location":"network/Token/","title":"Token \u4ecb\u7ecd","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9058  \u9605\u8bfb19\u5206\u949f</p> <p>Token \u5bf9\u4e8e\u8ba1\u7b97\u673a\u7f51\u7edc\u8bf7\u6c42\u5f88\u91cd\u8981\uff0c\u7b80\u5355\u7406\u89e3\uff0ctoken \u5c31\u662f\u9a8c\u8bc1\u7528\u6237\u7684\u4e00\u4e2a\u94a5\u5319\uff08\u7c7b\u4f3c\u8eab\u4efd\u8bc1\u53f7\u7801\uff09\u3002</p> <p>\u8fd0\u884c\u673a\u5236\uff1a\u5f53\u7528\u6237\u767b\u5f55\u65f6\uff0c\u9700\u8981\u63d0\u4ea4\u7528\u6237\u540d\u548c\u5bc6\u7801\u7b49\u4fe1\u606f\u3002\u6b64\u65f6\u901a\u8fc7\u9a8c\u8bc1\uff0c\u670d\u52a1\u5668\u5c31\u8fd4\u56de\u4e00\u4e2a token \u4f5c\u4e3a\u9a8c\u8bc1\u3002\u4ee5\u540e\u7528\u6237\u8fdb\u884c\u6570\u636e\u8bf7\u6c42\u7b49\u64cd\u4f5c\uff0c\u53ea\u9700\u8981\u5c06 token \u653e\u5165\u8bf7\u6c42\u4e2d\uff0c\u4e0d\u9700\u8981\u6bcf\u6b21\u63d0\u4ea4\u7528\u6237\u540d\u548c\u5bc6\u7801\u8fdb\u884c\u9a8c\u8bc1\u3002\u90a3\u4e48 token \u9700\u8981\u6ce8\u610f\u4e0b\u9762\u51e0\u4e2a\u95ee\u9898\uff1a</p>"},{"location":"network/Token/#token-session-storage-cookies","title":"Token \u5e94\u8be5\u4fdd\u5b58\u8d77\u6765\uff08\u653e\u5230\u672c\u5730\u7684 session storage \u6216\u8005 cookies\uff09","text":"<p>\u5728 SPA \u5355\u9875\u7f51\u9875\u4e2d\uff0c\u5ba2\u6237\u5237\u65b0\u6d4f\u89c8\u5668\u540e\u4f1a\u5e26\u6765\u4e00\u4e9b token \u95ee\u9898\u3002\u89e3\u51b3\u65b9\u6cd5\uff1a\u628a token \u4fdd\u5b58\u5230\u8d77\u6765\uff1a\u653e\u5230 session storage, local storage \u6216\u8005\u662f\u5ba2\u6237\u7aef\u7684 cookie \u91cc\u3002\u5982\u679c\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 session storage \u65f6\uff0c\u5e94\u8be5\u8f6c\u5b58\u5230 cookies \u91cc\u3002</p> <p>\u5982\u679c\u4f60\u60f3\u201c\u6211\u628a token \u4fdd\u5b58\u5230 cookie \uff0c\u4e0d\u5c31\u8ddf\u4ee5\u524d\u6ca1\u6709\u4efb\u4f55\u5206\u522b\uff1f\u201d\u3002\u53ef\u662f\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4f60\u53ea\u662f\u628a cookie \u5f53\u4f5c\u4e00\u4e2a\u50a8\u5b58\u673a\u5236\uff0c\u800c\u4e0d\u662f\u4e00\u79cd\u9a8c\u8bc1\u673a\u5236\u3002\uff08\u6bd4\u5982\u8bf4\uff0c\u8fd9\u4e2a cookie \u4e0d\u4f1a\u88ab Web \u6846\u67b6\u7528\u4e8e\u7528\u6237\u9a8c\u8bc1\uff0c\u6240\u4ee5\u6ca1\u6709 XSRF \u653b\u51fb\u7684\u5371\u9669\uff09\u3002</p>"},{"location":"network/Token/#tokens","title":"Tokens \u5177\u6709\u6709\u6548\u671f","text":"<p>Tokens \u5e94\u8be5\u6709\u4e00\u4e2a\u6709\u6548\u671f\uff0c\u5426\u5219\u53ea\u8981\u767b\u5f55\u8fc7\u4e00\u6b21\uff0c\u5c31\u53ef\u4ee5\u6c38\u8fdc\u5730\u901a\u8fc7 API \u7684\u9a8c\u8bc1\u3002Cookies \u57fa\u4e8e\u540c\u6837\u7684\u539f\u7406\uff0c\u4e5f\u6709\u4e00\u4e2a\u6709\u6548\u671f\u3002</p> <p>\u5728 Cookies \u7684\u4f7f\u7528\u4e2d\uff0c\u6709\u4e0d\u540c\u7684\u9009\u9879\u53ef\u4ee5\u63a7\u5236 cookie \u7684\u751f\u547d\u5468\u671f\u3002\u800c\u5728 tokens \u7684\u4f7f\u7528\u4e2d\uff0c\u4e00\u65e6 token \u8fc7\u671f\uff0c\u53ea\u9700\u8981\u91cd\u65b0\u83b7\u53d6\u4e00\u4e2a\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u63a5\u53e3\u53bb\u5237\u65b0 token\u3002\u4f60\u751a\u81f3\u53ef\u4ee5\u628a token \u539f\u6765\u7684\u53d1\u5e03\u65f6\u95f4\u4e5f\u4fdd\u5b58\u8d77\u6765\u3002\u5982\u679c\u4f60\u9700\u8981\u64a4\u56de tokens\uff08\u5f53 token \u7684\u751f\u5b58\u671f\u6bd4\u8f83\u957f\u7684\u65f6\u5019\u8fd9\u5f88\u6709\u5fc5\u8981\uff09\u90a3\u4e48\u4f60\u9700\u8981\u4e00\u4e2a token \u7684\u751f\u6210\u7ba1\u7406\u5668\u53bb\u4f5c\u68c0\u67e5\u3002</p>"},{"location":"network/Token/#local-session-storage-cookie","title":"Local / session storage \u4e0d\u4f1a\u8de8\u57df\u5de5\u4f5c\uff0c\u8bf7\u4f7f\u7528\u4e00\u4e2a\u6807\u8bb0 cookie","text":"<p>\u5982\u679c\u4f60\u8bbe\u7f6e\u4e00\u4e2a cookie \u7684\u57df\u540d\u4e3a .yourdomain.com \u5b83\u5c06\u53ef\u4ee5\u88ab youdomain.com \u548c app.yourdomain.com \u83b7\u53d6\uff0c\u8fd9\u6837\u7528\u6237\u767b\u5f55\u5e76\u4e14\u8f6c\u5230 app.yourdomain.com \u540e\u4e5f\u80fd\u5f88\u5bb9\u6613\u5730\u4ece\u4e3b\u57df\u540d\u627e\u56de\u8fd9\u4e2a cookie\uff08\u5047\u5982\u4f60\u7684\u662f\u7535\u5546\u7f51\u7ad9\uff09\u3002</p> <p>\u800c\u53e6\u4e00\u65b9\u9762\uff0c\u4fdd\u5b58\u5728 local / session storage \u7684 tokens\uff0c\u5c31\u4e0d\u80fd\u4ece\u4e0d\u540c\u7684\u57df\u540d\u4e2d\u8bfb\u53d6\uff08\u751a\u81f3\u662f\u5b50\u57df\u540d\u4e5f\u4e0d\u884c\uff09\u3002\u90a3\u4f60\u80fd\u600e\u4e48\u505a\uff1f</p> <p>\u4e00\u4e2a\u53ef\u80fd\u7684\u9009\u62e9\u662f\uff0c\u5f53\u7528\u6237\u901a\u8fc7 app.yourdomain.com \u4e0a\u9762\u7684\u9a8c\u8bc1\u65f6\u4f60\u751f\u6210\u4e00\u4e2a token \u5e76\u4e14\u4f5c\u4e3a\u4e00\u4e2a cookie \u4fdd\u5b58\u5230 .yourdomain.com\u3002</p> <p>\u7136\u540e\uff0c\u5728 youromdain.com \u4e2d\u4f60\u53ef\u4ee5\u68c0\u67e5\u8fd9\u4e2a cookie \u662f\u4e0d\u662f\u5df2\u7ecf\u5b58\u5728\u4e86\uff0c\u5e76\u4e14\u5982\u679c\u5b58\u5728\u7684\u8bdd\u5c31\u8f6c\u5230 app.youromdain.com \u53bb\u3002\u4ece\u8fd9\u4ee5\u540e\uff0c\u8fd9\u4e2a token \u5c06\u4f1a\u5bf9\u7a0b\u5e8f\u7684\u5b50\u57df\u540d\u4ee5\u53ca\u4e4b\u540e\u901a\u5e38\u7684\u6d41\u7a0b\u90fd\u6709\u6548\uff08\u76f4\u5230\u8fd9\u4e2a token \u8d85\u8fc7\u6709\u6548\u671f\uff09\u3002</p> <p>\u4e0d\u8fc7\u8fd9\u5c06\u4f1a\u5bfc\u81f4 cookie \u5b58\u5728\u4f46 token \u88ab\u5220\u9664\u4e86\u6216\u5176\u4ed6\u610f\u5916\u60c5\u51b5\u7684\u53d1\u751f\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7528\u6237\u5c06\u4e0d\u5f97\u4e0d\u91cd\u65b0\u767b\u5f55\u3002\u4f46\u91cd\u8981\u7684\u662f\uff0c\u50cf\u6211\u4eec\u4e4b\u524d\u8bf4\u7684\uff0c\u6211\u4eec\u4e0d\u4f1a\u8fd9\u4e2a\u7528 cookie \u4f5c\u4e3a\u9a8c\u8bc1\u65b9\u6cd5\uff0c\u53ea\u662f\u4f5c\u4e3a\u4e00\u4e2a\u5b58\u50a8\u673a\u5236\u53bb\u652f\u6301\u5b58\u50a8\u4fe1\u606f\u5728\u4e0d\u540c\u7684\u57df\u540d\u4e2d\u3002</p>"},{"location":"network/Token/#corspreflight-request","title":"\u6bcf\u4e2a CORS\uff08\u8de8\u57df\u8d44\u6e90\u5171\u4eab\uff09\u8bf7\u6c42\u90fd\u4f1a\u5e26\u4e0a\u9884\u8bf7\u6c42\uff08Preflight request\uff09","text":"<p>\u6709\u4e9b\u4eba\u6307\u51fa Authorization header \u4e0d\u662f\u4e00\u4e2asimple header\uff0c\u56e0\u6b64\u5bf9\u4e8e\u4e00\u4e2a\u7279\u5b9a\u7684 URLs \u7684\u6240\u6709\u8bf7\u6c42\u90fd\u4f1a\u5e26\u4e0a\u4e00\u4e2a\u9884\u8bf7\u6c42\u3002</p> <p>\u4f46\u8fd9\u53ea\u4f1a\u53d1\u751f\u5728\u4f60\u53d1\u9001 Content-Type: application/json \u65f6\u3002\u4e0d\u8fc7\u8fd9\u8bf4\u660e\u5df2\u7ecf\u51fa\u73b0\u5728\u7edd\u5927\u591a\u6570\u7684\u7a0b\u5e8f\u4e2d\u4e86\u3002</p> <p>\u4e00\u4e2a\u5c0f\u5c0f\u7684\u8b66\u544a\uff0cthe OPTIONS \u8bf7\u6c42\u4e0d\u4f1a\u5e26\u6709 Authorization header \u81ea\u8eab\uff0c\u6240\u4ee5\u4f60\u7684\u7f51\u7edc\u6846\u67b6\u5e94\u8be5\u652f\u6301\u533a\u522b\u5bf9\u5f85 OPTISON \u548c\u540e\u6765\u7684\u8bf7\u6c42\u3002\uff08\u5fae\u8f6f\u7684 IIS \u56e0\u4e3a\u67d0\u4e9b\u539f\u56e0\u597d\u50cf\u4f1a\u6709\u95ee\u9898\uff09\u3002</p>"},{"location":"network/Token/#token_1","title":"\u5f53\u4f60\u9700\u8981\u6d41\u4f20\u9001\u67d0\u4e9b\u4e1c\u897f\uff0c\u8bf7\u7528 token \u53bb\u83b7\u53d6\u4e00\u4e2a\u5df2\u7b7e\u540d\u7684\u8bf7\u6c42\u3002","text":"<p>\u5f53\u4f7f\u7528 cookies \u65f6\uff0c\u4f60\u53ef\u4ee5\u5f88\u5bb9\u6613\u5f00\u59cb\u4e00\u4e2a\u6587\u4ef6\u7684\u4e0b\u8f7d\u6216\u6d41\u4f20\u9001\u5185\u5bb9\u3002\u7136\u800c\uff0c\u5728 tokens \u7684\u4f7f\u7528\u4e2d\uff0c\u8bf7\u6c42\u662f\u901a\u8fc7 XHR \u5b8c\u6210\u7684\uff0c\u4f60\u4e0d\u80fd\u4f9d\u8d56\u4e8e\u5b83\u3002\u800c\u89e3\u51b3\u65b9\u6cd5\u5e94\u8be5\u662f\u50cf AWS \u90a3\u6837\u901a\u8fc7\u751f\u6210\u4e00\u4e2a\u7b7e\u540d\u4e86\u7684\u8bf7\u6c42\uff0c\u4f8b\u5982\uff0cHawk Bewits \u662f\u4e00\u4e2a\u5f88\u597d\u7684\u6846\u67b6\u53bb\u542f\u7528\u5b83\uff1a\u8fd9\u4e2a ticket \u662f\u65e0\u72b6\u6001\u5e76\u4e14\u662f\u57fa\u4e8e URL \u7684\uff1ahost + path + query + headers + timestamp + HMAC\uff0c\u5e76\u4e14\u6709\u4e00\u4e2a\u6709\u6548\u671f\u3002\u6240\u4ee5\u5b83\u53ef\u4ee5\u7528\u4e8e\u50cf\u53ea\u80fd\u5728 5 \u5206\u949f\u5185\u53bb\u4e0b\u8f7d\u4e00\u4e2a\u6587\u4ef6\u3002</p>"},{"location":"network/Token/#xss-xsrf","title":"XSS \u6bd4 XSRF \u8981\u66f4\u5bb9\u6613\u9632\u8303","text":"<p>XSS \u653b\u51fb\u7684\u539f\u7406\u662f\uff0c\u653b\u51fb\u8005\u63d2\u5165\u4e00\u6bb5\u53ef\u6267\u884c\u7684 JavaScripts \u811a\u672c\uff0c\u8be5\u811a\u672c\u4f1a\u8bfb\u51fa\u7528\u6237\u6d4f\u89c8\u5668\u7684 cookies \u5e76\u5c06\u5b83\u4f20\u8f93\u7ed9\u653b\u51fb\u8005\uff0c\u653b\u51fb\u8005\u5f97\u5230\u7528\u6237\u7684 Cookies \u540e\uff0c\u5373\u53ef\u5192\u5145\u7528\u6237\u3002\u4f46\u662f\u8981\u9632\u8303 XSS \u4e5f\u5f88\u7b80\u5355\uff0c\u5728\u5199\u5165 cookies \u65f6\uff0c\u5c06 HttpOnly \u8bbe\u7f6e\u4e3a true\uff0c\u5ba2\u6237\u7aef JavaScripts \u5c31\u65e0\u6cd5\u8bfb\u53d6\u8be5 cookies \u7684\u503c\uff0c\u5c31\u53ef\u4ee5\u6709\u6548\u9632\u8303 XSS \u653b\u51fb\u3002\u56e0\u4e3a Tokens \u4e5f\u662f\u50a8\u5b58\u5728\u672c\u5730\u7684 session storage \u6216\u8005\u662f\u5ba2\u6237\u7aef\u7684 cookies \u4e2d\uff0c\u4e5f\u662f\u4f1a\u53d7\u5230 XSS \u653b\u51fb\u3002\u6240\u4ee5\u5728\u4f7f\u7528 tokens \u7684\u65f6\u5019\uff0c\u5fc5\u987b\u8981\u8003\u8651\u8fc7\u671f\u673a\u5236\uff0c\u4e0d\u7136\u653b\u51fb\u8005\u5c31\u53ef\u4ee5\u6c38\u4e45\u6301\u6709\u53d7\u5bb3\u7528\u6237\u5e10\u53f7\u3002</p> <p>\u76f8\u6bd4 XSS\uff0cXSRF \u7684\u5371\u5bb3\u6027\u66f4\u5927\uff0c\u56e0\u4e3a\u5927\u591a\u6570 Web \u6846\u67b6\u90fd\u5df2\u7ecf\u5185\u7f6e\u4e86 XSS \u9632\u8303\u673a\u5236\uff08\u4f8b\u5982\u5728 Ruby on Rails \u4e2d\uff0c\u7528\u6237\u7684\u8f93\u5165\u5728\u8f93\u51fa\u7684\u65f6\u5019\u90fd\u4f1a\u505a\u8f6c\u4e49\u64cd\u4f5c\uff0c\u653b\u51fb\u8005\u63d2\u5165\u7684\u811a\u672c\u5c31\u65e0\u6cd5\u6267\u884c\uff09\uff0c\u5bf9\u4e8e\u5927\u90e8\u5206\u5f00\u53d1\u8005\u800c\u8a00\uff0c\u751a\u81f3\u8fde XSRF \u90fd\u4e0d\u77e5\u9053\u662f\u4ec0\u4e48\u73a9\u610f\uff0c\u66f4\u522b\u63d0\u9632\u8303\u4e86\u3002XSRF \u76ee\u524d\u5e76\u4e0d\u662f\u6bcf\u4e2a Web \u6846\u67b6\u90fd\u6709\u9632\u8303\u673a\u5236\uff0c\u56e0\u6b64\u5f00\u53d1\u8005\u66f4\u5e94\u8be5\u7559\u610f XSRF \u3002</p>"},{"location":"network/Token/#token_2","title":"\u6ce8\u610f token \u7684\u5927\u5c0f","text":"<p>Token \u673a\u5236\u5728\u6bcf\u6b21\u8bf7\u6c42 API \u7684\u65f6\u5019\uff0c\u90fd\u9700\u8981\u5e26\u4e0a\u4e00\u4e2a Authorization **\u7684 Http Header \u3002**\u8fd9\u4e00\u70b9\u5f88\u91cd\u8981\u3002</p> <p>Token \u7684\u5927\u5c0f\u5176\u5b9e\u7531\u4f60\u50a8\u5b58\u5728 token \u4e2d\u7684\u4fe1\u606f\u91cf\u6240\u51b3\u5b9a\uff0c\u4f8b\u5982\u53ef\u80fd\u6709 nickname\uff0copenid \u7b49\u5f00\u53d1\u8005\u53e6\u5916\u52a0\u4e0a\u7684\u4fe1\u606f\u3002</p> <p>\u4f46\u662f session cookies \u673a\u5236\u53ea\u9700\u8981\u4e00\u4e2a\u5b57\u4e32\u4f5c\u4e3a\u7528\u6237\u6807\u8bc6\u5373\u53ef\uff08\u4f8b\u5982 PHP \u7684 PHPSESSIONID\uff09\uff0c\u5176\u4e2d\u5173\u4e8e\u7528\u6237\u7684\u4fe1\u606f\u90fd\u4f1a\u76f4\u63a5\u50a8\u5b58\u5230\u670d\u52a1\u7aef\u7684\u6570\u636e\u5e93\u4e2d\uff0c\u5f53\u7528\u6237\u8bf7\u6c42\u65f6\u624d\u4ece\u6570\u636e\u5e93\u4e2d\u635e\u51fa\u6765\u7528\u3002</p> <p>\u5f53\u7136 Token \u673a\u5236\u4e5f\u53ef\u4ee5\u4eff\u7167 session cookies \u673a\u5236\u8fd9\u4e48\u505a\u4e86\uff0c\u4e5f\u662f\u4e2a\u6709\u6548\u63a7\u5236 token \u5927\u5c0f\u7684\u65b9\u6cd5\u3002</p> <p>Token \u4e2d\u53ea\u4fdd\u7559\u5173\u952e\u7684\u51e0\u6761\u8eab\u4efd\u6807\u8bc6\u4fe1\u606f\uff0c\u5176\u4f59\u90fd\u653e\u5230\u6570\u636e\u5e93\u91cc\u9762\u4e86\uff0c\u6743\u9650\u63a7\u5236\u7684\u65f6\u5019\u518d\u635e\u51fa\u3002\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u5b8c\u5168\u638c\u63a7 token\uff0c\u56e0\u4e3a\u5173\u952e\u4fe1\u606f\u90fd\u5df2\u7ecf\u662f\u4f60\u4ee3\u7801\u548c\u6570\u636e\u5e93\u4e2d\u7684\u4e00\u90e8\u5206\u4e86\u3002</p> <p>\u53e6\u5916\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u4f60\u4e5f\u53ef\u4ee5\u628a\u4e1c\u897f\u90fd\u4e22 Cookies \u91cc\u9762\uff08\u800c\u4e0d\u662f\u53ea\u4e22\u4e2a\u8eab\u4efd\u6807\u8bc6\u5b57\u4e32\uff09\u3002\u53ea\u8981\u786e\u4fdd\u8d44\u6599\u7ecf\u8fc7\u4e86\u4e25\u683c\u7684\u52a0\u5bc6\uff0c\u653b\u51fb\u8005\u65e0\u6cd5\u5229\u7528\uff0c\u73b0\u5728\u6709\u4e9b Web \u6846\u67b6\u5df2\u7ecf\u6709\u7c7b\u4f3c\u673a\u5236\uff0c\u4f8b\u5982 Nodejs \u7684\u8fd9\u4e2a\u63d2\u4ef6 mozilla/node-client-sessions\u3002</p>"},{"location":"network/Token/#token_3","title":"\u6709\u9700\u8981\u7684\u8bdd\uff0c\u8981\u52a0\u5bc6\u5e76\u4e14\u7b7e\u540d token","text":"<p>\u867d\u7136 TLS/SSL \u673a\u5236\u53ef\u4ee5\u9694\u7edd\u5927\u591a\u6570\u4e2d\u95f4\u4eba\u653b\u51fb\uff0c\u4f46\u662f\u5982\u679c token \u4e2d\u5e26\u6709\u4e86\u7528\u6237\u7684\u654f\u611f\u4fe1\u606f\uff0c\u5f00\u53d1\u8005\u4e5f\u5e94\u8be5\u8981\u52a0\u5bc6\u8fd9\u4e9b\u4fe1\u606f\u3002</p> <p>\u4f7f\u7528 JWT\uff08\u6587\u4e2d\u7b2c 9 \u70b9\uff09 \u53ef\u4ee5\u52a0\u5bc6 token\uff0c\u4f46\u662f\u7531\u4e8e\u76ee\u524d\u5927\u591a\u6570 Web \u6846\u67b6\u8fd8\u672a\u652f\u6301 JWT\uff0c\u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528 AES-CBC \u7b97\u6cd5\u52a0\u5bc6 token\u3002\u5f53\u7136\u53ef\u4ee5\u7528\u6587\u4e2d\u7684\u7b2c 7 \u70b9\uff0c\u76f4\u63a5\u5c06\u654f\u611f\u4fe1\u606f\u4e22\u6570\u636e\u5e93\u4e2d\u3002</p>"},{"location":"network/Token/#json-web-tokens-oauth-2","title":"\u5c06 JSON Web Tokens \u5e94\u7528\u5230 OAuth 2","text":"<p>OAuth 2 \u662f\u4e00\u4e2a\u89e3\u51b3\u8eab\u4efd\u9a8c\u8bc1\u7684\u6388\u6743\u534f\u8bae\uff0c\u5e76\u4e14\u5e7f\u6cdb\u5730\u4f7f\u7528\u4e86 token \u3002</p> <p>\u7528\u6237\u901a\u8fc7 OAuth 2 \u534f\u8bae\u6388\u6743\u7b2c\u4e09\u65b9\u5e94\u7528\u6743\u9650\uff0c\u7136\u540e\u670d\u52a1\u5668\u8fd4\u56de\u4e00\u4e2a access_token \u7ed9\u7b2c\u4e09\u65b9\u5e94\u7528\uff0c\u901a\u5e38\u4e5f\u5e26\u6709 scope \u53c2\u6570\uff0c\u7b2c\u4e09\u65b9\u5e94\u7528\u901a\u8fc7\u5e26\u4e0a access_token \u8bf7\u6c42\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u5728\u6388\u6743\u8303\u56f4\uff08scope\uff09\u5185\u8c03\u7528 API\u3002</p> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u7c7b\u4f3c\u8fd9\u79cd token \u662f\u4e0d\u900f\u660e\u7684\uff0c\u5c31\u662f\u6838\u5fc3\u6570\u636e\u90fd\u50a8\u5b58\u4ee5 hash-table \u7ed3\u679c\u50a8\u5b58\u5728\u670d\u52a1\u5668\u4e2d\uff0c\u5ba2\u6237\u7aef\u53ea\u6301\u6709\u4e00\u4e2a\u4ee4\u724c\uff08access_token\uff09\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u7528\u8fd9\u4e2a\u4ee4\u724c\u5728\u6388\u6743\u8303\u56f4\uff08scope\uff09\u5185\u8c03\u7528\u670d\u52a1\u5668\u7aef\u7684 API\u3002</p> <p>Signed tokens\uff08\u4f8b\u5982 JWT)\uff09\u548c\u8fd9\u79cd\u5f62\u5f0f\u7684 token \u6700\u4e3b\u8981\u7684\u533a\u522b\u662f\uff0cJWT \u662f\u65e0\u72b6\u6001\u7684\uff0c\u5b83\u4e0d\u50a8\u5b58\u5728\u670d\u52a1\u7aef hash-table \u4e2d\uff0c\u670d\u52a1\u7aef\u4e2d\u4e0d\u4fdd\u7559 JWT \u8bf7\u6c42\u7684\u76f8\u5173\u4fe1\u606f\uff0cJWT \u4f1a\u628a\u6388\u6743\u4fe1\u606f\u548c API \u8c03\u7528\u8fd4\u56de\u90fd\u4e22\u4e00\u8d77\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002</p> <p>JWT \u901a\u5e38\u4ee5 Base64 + AES \u65b9\u5f0f\u7f16\u7801\u4f20\u8f93\u3002OAuth 2 \u534f\u8bae\u4e5f\u652f\u6301 JWT\uff0c\u56e0\u4e3a OAuth 2 \u5e76\u672a\u9650\u5236 access_token \u6570\u636e\u683c\u5f0f\uff0c\u4f60\u53ef\u4ee5\u5c06 JWT \u5e94\u7528\u5728 OAuth 2 \u4e0a\u3002</p>"},{"location":"network/Token/#tokens_1","title":"Tokens \u4e0d\u662f\u4e07\u80fd\u7684\u89e3\u51b3\u65b9\u6cd5\uff0c\u5f97\u6839\u636e\u4f60\u7684\u9700\u6c42\u81ea\u884c\u91c7\u7528","text":"<p>\u8fd9\u4e9b\u5e74\u6765\uff0c\u6211\u4eec\u5e2e\u52a9\u8fc7\u4e0d\u5c11\u5927\u4f01\u4e1a\u5b9e\u73b0\u4e86\u4ed6\u4eec\u7684\u4ee5 Token \u4e3a\u57fa\u7840\u7684\u9a8c\u8bc1\u6388\u6743\u67b6\u6784\u3002\u66fe\u7ecf\u6709\u4e00\u5bb6 10k + \u5458\u5de5\uff0c\u6709\u7740\u5927\u91cf\u6570\u636e\u7684\u4f01\u4e1a\uff0c\u4ed6\u4eec\u60f3\u5b9e\u73b0\u4e00\u4e2a\u4e2d\u592e\u6743\u9650\u7ba1\u7406\u7cfb\u7edf\uff0c\u5176\u4e2d\u6709\u4e00\u4e2a\u9700\u8981\u662f\u67d0\u4e2a\u5458\u5de5\u53ea\u80fd\u8bfb\u53d6\u67d0\u4e2a\u56fd\u5bb6\u67d0\u4e2a\u533b\u9662\u67d0\u4e2a\u5e8a\u4f4d\u7684 id \u548c name \u5b57\u6bb5\u6570\u636e\uff0c\u60f3\u60f3\u8fd9\u6837\u7684\u7ec6\u7c92\u5ea6\u7684\u6743\u9650\u7ba1\u7406\u662f\u591a\u4e48\u96be\u5b9e\u73b0\uff0c\u65e0\u8bba\u662f\u6280\u672f\u4e0a\u8fd8\u662f\u884c\u653f\u4e0a\u3002</p> <p>\u5f53\u7136\u91c7\u7528 tokens \u4e0e\u5426\uff0c\u5f97\u770b\u5177\u4f53\u9700\u6c42\uff0c\u4f46\u662f\uff0c\u8981\u5fe0\u544a\u662f\uff0c\u4e0d\u8981\u4ec0\u4e48\u5185\u5bb9\u90fd\u5199\u5230 tokens \u4e86\uff0c\u52a0\u4e4b\u524d\u60f3\u60f3\u6709\u6ca1\u6709\u8fd9\u4e2a\u5fc5\u8981\u3002</p>"},{"location":"network/Visual%20Studio%20Code%E5%BF%85%E5%A4%87%E6%8F%92%E4%BB%B6/","title":"Visual Studio Code \u5fc5\u5907\u63d2\u4ef6","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2784  \u9605\u8bfb6\u5206\u949f</p>"},{"location":"network/Visual%20Studio%20Code%E5%BF%85%E5%A4%87%E6%8F%92%E4%BB%B6/#_1","title":"\u5b89\u88c5\u63d2\u4ef6","text":"<p>1\u3001ctrl+shift+p\uff0c\u5f39\u51fa\u547d\u4ee4\u9762\u677f-\u9009\u4e2d Extensions:Install Extensions</p> <p>2\u3001\u76f4\u63a5\u70b9\u51fb\u5de6\u4fa7\u680f\u8fd9\u4e2a\u6269\u5c55\u6309\u94ae\uff08Ctrl+Shift+X\uff09\u7136\u540e\u5de6\u4fa7\u680f\u5c31\u4f1a\u663e\u793a\u51fa\u5f88\u591a\u63d2\u4ef6\uff0c\u641c\u7d22\u6216\u8005\u9009\u4e2d\u4f60\u8981\u5b89\u88c5\u7684\u63d2\u4ef6\uff0c\u7136\u540e IDE \u53ef\u4ee5\u81ea\u52a8\u5b89\u88c5\u8fd9\u4e2a\u63d2\u4ef6</p>"},{"location":"network/Visual%20Studio%20Code%E5%BF%85%E5%A4%87%E6%8F%92%E4%BB%B6/#_2","title":"\u524d\u7aef\u5e38\u7528\u63d2\u4ef6","text":"<p>HTML Snippets\uff1a \u8d85\u7ea7\u5b9e\u7528\u4e14\u521d\u7ea7\u7684 H5 \u4ee3\u7801\u7247\u6bb5\u4ee5\u53ca\u63d0\u793a</p> <p>HTMLHint\uff1a html \u4ee3\u7801\u68c0\u6d4b</p> <p>HTML CSS Support : \u8ba9 html \u6807\u7b7e\u4e0a\u5199 class \u667a\u80fd\u63d0\u793a\u5f53\u524d\u9879\u76ee\u6240\u652f\u6301\u7684\u6837\u5f0f\u3002\u65b0\u7248\u5df2\u7ecf\u652f\u6301 scss \u6587\u4ef6\u68c0\u7d22\uff0c\u8fd9\u4e2a\u4e5f\u662f\u5fc5\u5907\u63d2\u4ef6\u4e4b\u4e00</p> <p>Auto Close Tag : \u5339\u914d\u6807\u7b7e\uff0c\u5173\u95ed\u5bf9\u5e94\u7684\u6807\u7b7e\u3002\u5f88\u5b9e\u7528\u3010HTML/XML\u3011</p> <p>Auto Rename Tag : \u4fee\u6539 html \u6807\u7b7e\uff0c\u81ea\u52a8\u5e2e\u4f60\u5b8c\u6210\u5c3e\u90e8\u95ed\u5408\u6807\u7b7e\u7684\u540c\u6b65\u4fee\u6539</p> <p>Path Autocomplete : \u8def\u5f84\u667a\u80fd\u8865\u5168</p> <p>Path Intellisense \uff1a\u8def\u5f84\u667a\u80fd\u63d0\u793a</p> <p>JavaScript Snippet Pack\uff1a \u9488\u5bf9 js \u7684\u63d2\u4ef6\uff0c\u5305\u542b\u4e86 js \u7684\u5e38\u7528\u8bed\u6cd5\u5173\u952e\u5b57\uff0c\u5f88\u5b9e\u7528\uff1b</p> <p>View InBrowser\uff1a\u4ece\u6d4f\u89c8\u5668\u4e2d\u67e5\u770b html \u6587\u4ef6\uff0c\u4f7f\u7528\u7cfb\u7edf\u7684\u5f53\u524d\u9ed8\u8ba4\u6d4f\u89c8\u5668</p> <p>Class autocomplete for HTML\uff1a \u7f16\u5199 html \u4ee3\u7801\u7684\u670b\u53cb\u4eec\u5bf9 html \u4ee3\u7801\u7684\u4e00\u5927\u4f53\u73b0\u5c31\u662f\u91cd\u590d\uff0c\u5982\u679c\u7eaf\u7528\u624b\u6572\u4e0d\u4ec5\u7d2f\u8fd8\u4f1a\u5f71\u54cd\u9879\u76ee\u8fdb\u5ea6\uff0c\u8fd9\u6b3e\u81ea\u52a8\u8865\u5168\u63d2\u4ef6\u771f\u7684\u5f88\u68d2\uff1b</p> <p>beautify : \u683c\u5f0f\u5316\u4ee3\u7801\u7684\u5de5\u5177\uff0c\u53ef\u4ee5\u683c\u5f0f\u5316 JSON|JS|HTML|CSS|SCSS,\u6bd4\u5185\u7f6e\u683c\u5f0f\u5316\u597d\u7528</p> <p>Debugger for Chrome\uff1a \u8ba9 vscode \u6620\u5c04 chrome \u7684 debug \u529f\u80fd\uff0c\u9759\u6001\u9875\u9762\u90fd\u53ef\u4ee5\u7528 vscode \u6765\u6253\u65ad\u70b9\u8c03\u8bd5\uff0c\u771f 666~</p> <p>jQuery Code Snippets\uff1a jquery \u91cd\u5ea6\u60a3\u8005\u5fc5\u987b\u54c1</p> <p>vscode-icon\uff1a \u8ba9 vscode \u8d44\u6e90\u6811\u76ee\u5f55\u52a0\u4e0a\u56fe\u6807\uff0c\u5fc5\u5907\u826f\u54c1\uff01</p> <p>VSCode Great Icons\uff1a \u53e6\u4e00\u6b3e\u8d44\u6e90\u6811\u76ee\u5f55\u56fe\u6807</p> <p>colorize : \u4f1a\u7ed9\u989c\u8272\u4ee3\u7801\u589e\u52a0\u4e00\u4e2a\u5f53\u524d\u5339\u914d\u4ee3\u7801\u989c\u8272\u7684\u80cc\u666f\uff0c\u975e\u5e38\u597d</p> <p>Color Info\uff1a \u63d0\u4f9b\u4f60\u5728 CSS \u4e2d\u4f7f\u7528\u989c\u8272\u7684\u76f8\u5173\u4fe1\u606f\u3002\u4f60\u53ea\u9700\u5728\u989c\u8272\u4e0a\u60ac\u505c\u5149\u6807\uff0c\u5c31\u53ef\u4ee5\u9884\u89c8\u8272\u5757\u4e2d\u8272\u5f69\u6a21\u578b\u7684\uff08HEX\u3001 RGB\u3001HSL \u548c CMYK\uff09\u76f8\u5173\u4fe1\u606f\u4e86\u3002</p> <p>Bracket Pair Colorizer\uff1a \u8ba9\u62ec\u53f7\u62e5\u6709\u72ec\u7acb\u7684\u989c\u8272\uff0c\u6613\u4e8e\u533a\u5206\uff0c\u914d\u5408\u4efb\u610f\u4e3b\u9898\u4f7f\u7528\u3002</p> <p>vscode-fileheader\uff1a \u9876\u90e8\u6ce8\u91ca\u6a21\u677f\uff0c\u53ef\u5b9a\u4e49\u4f5c\u8005\u3001\u65f6\u95f4\u7b49\u4fe1\u606f\uff0c\u5e76\u4f1a\u81ea\u52a8\u66f4\u65b0\u6700\u540e\u4fee\u6539\u65f6\u95f4</p> <p>Document This : js \u7684\u6ce8\u91ca\u6a21\u677f \uff08\u6ce8\u610f\uff1a\u65b0\u7248\u7684 vscode \u5df2\u7ecf\u539f\u751f\u652f\u6301,\u5728 function \u4e0a\u8f93\u5165/** tab\uff09</p> <p>filesize\uff1a \u5728\u5e95\u90e8\u72b6\u6001\u680f\u663e\u793a\u5f53\u524d\u6587\u4ef6\u5927\u5c0f\uff0c\u70b9\u51fb\u540e\u8fd8\u53ef\u4ee5\u770b\u5230\u8be6\u7ec6\u521b\u5efa\u3001\u4fee\u6539\u65f6\u95f4</p> <p>Code Runner : \u4ee3\u7801\u7f16\u8bd1\u8fd0\u884c\u770b\u7ed3\u679c\uff0c\u652f\u6301\u4f17\u591a\u8bed\u8a00</p> <p>Bootstrap 3 Sinnpet\uff1a \u5e38\u7528 bootstrap \u7684\u53ef\u4ee5\u4e0b</p> <p>GitLens\uff1a \u4e30\u5bcc\u7684 git \u65e5\u5fd7\u63d2\u4ef6</p> <p>vetur\uff1a vue \u8bed\u6cd5\u9ad8\u4eae\u3001\u667a\u80fd\u611f\u77e5\u3001Emmet \u7b49</p> <p>VueHelper\uff1a vue \u4ee3\u7801\u63d0\u793a</p> <p>Bookmarks\uff1a \u4e00\u4e2a\u4e66\u7b7e\u5de5\u5177,\u8fd8\u662f\u5f88\u6709\u5fc5\u8981\u7684</p> <p>tortoise-svn\uff1a SVN \u7684\u96c6\u6210\u63d2\u4ef6</p> <p>open in browser\uff1a\u7528\u6d4f\u89c8\u5668\u9884\u89c8\u8fd0\u884c html \u6587\u4ef6</p>"},{"location":"network/chrome/","title":"Chrome \u6d4f\u89c8\u5668\u7684\u7528\u6cd5","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2139  \u9605\u8bfb5\u5206\u949f</p>"},{"location":"network/chrome/#_1","title":"\u5feb\u6377\u952e","text":"<ul> <li>Ctrl+N Opens a new window.</li> <li>Ctrl+T Opens a new tab.</li> <li>Press Ctrl+O, then select file. Opens a file from your computer in Google Chrome.</li> <li>Press Ctrl and click a link. Or click a link with your middle mouse button (or mousewheel). Opens the link in a new tab in the background .</li> <li>Press Ctrl+Shift and click a link. Or press Shift and click a link with your middle mouse button (or mousewheel). Opens the link in a new tab and switches to the newly opened tab.</li> <li>Press Shift and click a link. Opens the link in a new window.</li> <li>Ctrl+Shift+T Reopens the last tab you've closed. Google Chrome remembers the last 10 tabs you've closed.</li> <li>Drag a link to a tab. Opens the link in the tab.</li> <li>Drag a link to a blank area on the tab strip. Opens the link in a new tab.</li> <li>Drag a tab out of the tab strip. Opens the tab in a new window.</li> <li>Drag a tab out of the tab strip and into an existing window. Opens the tab in the existing window.</li> <li>Press Esc while dragging a tab. Returns the tab to its original position.</li> <li>Ctrl+1 through Ctrl+8 Switches to the tab at the specified position number on the tab strip.</li> <li>Ctrl+9 Switches to the last tab.</li> <li>Ctrl+Tab or Ctrl+PgDown Switches to the next tab.</li> <li>Ctrl+Shift+Tab or Ctrl+PgUp Switches to the previous tab.</li> <li>Ctrl+Shift+Q Closes Google Chrome.</li> <li>Ctrl+W or Ctrl+F4 Closes the current tab or pop-up.</li> <li>Click a tab with your middle mouse button (or mousewheel). Closes the tab you clicked.</li> <li>Right-click, or click and hold either the Back or Forward arrow in the browser toolbar. Displays your browsing history in the tab.</li> <li>Press Alt and the left arrow together. Goes to the previous page in your browsing history for the tab.</li> <li>Press Alt and the right arrow together. Goes to the next page in your browsing history for the tab.</li> <li>Click either the Back arrow, Forward arrow, or Go button in the toolbar with your middle mouse button (or mousewheel). Opens the button destination in a new tab in the background.</li> <li>Double-click the blank area on the tab strip. Maximizes or minimizes the window.</li> </ul> <p>\u7f51\u5740\uff1ahttps://support.google.com/chrome/answer/157179?hl=en</p>"},{"location":"network/ddos/","title":"DDOS \u653b\u51fb\u7684\u9632\u8303\u6559\u7a0b","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6770  \u9605\u8bfb14\u5206\u949f</p>"},{"location":"network/ddos/#ddos_1","title":"\u4e00\u3001DDOS \u662f\u4ec0\u4e48\uff1f","text":"<p>\u9996\u5148\uff0c\u6211\u6765\u89e3\u91ca\u4e00\u4e0b\uff0cDDOS \u662f\u4ec0\u4e48\u3002</p> <p>\u4e3e\u4f8b\u6765\u8bf4\uff0c\u6211\u5f00\u4e86\u4e00\u5bb6\u9910\u5385\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u6700\u591a\u53ef\u4ee5\u5bb9\u7eb3 30 \u4e2a\u4eba\u540c\u65f6\u8fdb\u9910\u3002\u4f60\u76f4\u63a5\u8d70\u8fdb\u9910\u5385\uff0c\u627e\u4e00\u5f20\u684c\u5b50\u5750\u4e0b\u70b9\u9910\uff0c\u9a6c\u4e0a\u5c31\u53ef\u4ee5\u5403\u5230\u4e1c\u897f\u3002</p> <p>\u5f88\u4e0d\u5e78\uff0c\u6211\u5f97\u7f6a\u4e86\u4e00\u4e2a\u6d41\u6c13\u3002\u4ed6\u6d3e\u51fa 300 \u4e2a\u4eba\u540c\u65f6\u6d8c\u8fdb\u9910\u5385\u3002\u8fd9\u4e9b\u4eba\u770b\u4e0a\u53bb\u8ddf\u6b63\u5e38\u7684\u987e\u5ba2\u4e00\u6837\uff0c\u6bcf\u4e2a\u90fd\u8bf4\u201c\u8d76\u5feb\u4e0a\u9910\u201d\u3002\u4f46\u662f\uff0c\u9910\u5385\u7684\u5bb9\u91cf\u53ea\u6709 30 \u4e2a\u4eba\uff0c\u6839\u672c\u4e0d\u53ef\u80fd\u540c\u65f6\u6ee1\u8db3\u8fd9\u4e48\u591a\u7684\u70b9\u9910\u9700\u6c42\uff0c\u52a0\u4e0a\u4ed6\u4eec\u628a\u95e8\u53e3\u90fd\u5835\u6b7b\u4e86\uff0c\u91cc\u4e09\u5c42\u5916\u4e09\u5c42\uff0c\u6b63\u5e38\u7528\u9910\u7684\u5ba2\u4eba\u6839\u672c\u8fdb\u4e0d\u6765\uff0c\u5b9e\u9645\u4e0a\u5c31\u628a\u9910\u5385\u762b\u75ea\u4e86\u3002</p> <p>\u8fd9\u5c31\u662f DDOS \u653b\u51fb\uff0c\u5b83\u5728\u77ed\u65f6\u95f4\u5185\u53d1\u8d77\u5927\u91cf\u8bf7\u6c42\uff0c\u8017\u5c3d\u670d\u52a1\u5668\u7684\u8d44\u6e90\uff0c\u65e0\u6cd5\u54cd\u5e94\u6b63\u5e38\u7684\u8bbf\u95ee\uff0c\u9020\u6210\u7f51\u7ad9\u5b9e\u8d28\u4e0b\u7ebf\u3002</p> <p>DDOS \u91cc\u9762\u7684 DOS \u662f denial of service\uff08\u505c\u6b62\u670d\u52a1\uff09\u7684\u7f29\u5199\uff0c\u8868\u793a\u8fd9\u79cd\u653b\u51fb\u7684\u76ee\u7684\uff0c\u5c31\u662f\u4f7f\u5f97\u670d\u52a1\u4e2d\u65ad\u3002\u6700\u524d\u9762\u7684\u90a3\u4e2a D \u662f distributed \uff08\u5206\u5e03\u5f0f\uff09\uff0c\u8868\u793a\u653b\u51fb\u4e0d\u662f\u6765\u81ea\u4e00\u4e2a\u5730\u65b9\uff0c\u800c\u662f\u6765\u81ea\u56db\u9762\u516b\u65b9\uff0c\u56e0\u6b64\u66f4\u96be\u9632\u3002\u4f60\u5173\u4e86\u524d\u95e8\uff0c\u4ed6\u4ece\u540e\u95e8\u8fdb\u6765\uff1b\u4f60\u5173\u4e86\u540e\u95e8\uff0c\u4ed6\u4ece\u7a97\u53e3\u8df3\u8d77\u6765\u3002</p>"},{"location":"network/ddos/#ddos_2","title":"\u4e8c\u3001DDOS \u7684\u79cd\u7c7b","text":"<p>DDOS \u4e0d\u662f\u4e00\u79cd\u653b\u51fb\uff0c\u800c\u662f\u4e00\u5927\u7c7b\u653b\u51fb\u7684\u603b\u79f0\u3002\u5b83\u6709\u51e0\u5341\u79cd\u7c7b\u578b\uff0c\u65b0\u7684\u653b\u51fb\u65b9\u6cd5\u8fd8\u5728\u4e0d\u65ad\u53d1\u660e\u51fa\u6765\u3002\u7f51\u7ad9\u8fd0\u884c\u7684\u5404\u4e2a\u73af\u8282\uff0c\u90fd\u53ef\u4ee5\u662f\u653b\u51fb\u76ee\u6807\u3002\u53ea\u8981\u628a\u4e00\u4e2a\u73af\u8282\u653b\u7834\uff0c\u4f7f\u5f97\u6574\u4e2a\u6d41\u7a0b\u8dd1\u4e0d\u8d77\u6765\uff0c\u5c31\u8fbe\u5230\u4e86\u762b\u75ea\u670d\u52a1\u7684\u76ee\u7684\u3002</p> <p>\u5176\u4e2d\uff0c\u6bd4\u8f83\u5e38\u89c1\u7684\u4e00\u79cd\u653b\u51fb\u662f cc \u653b\u51fb\u3002\u5b83\u5c31\u662f\u7b80\u5355\u7c97\u66b4\u5730==\u9001\u6765\u5927\u91cf\u6b63\u5e38\u7684\u8bf7\u6c42\uff0c\u8d85\u51fa\u670d\u52a1\u5668\u7684\u6700\u5927\u627f\u53d7\u91cf\uff0c\u5bfc\u81f4\u5b95\u673a(==dang \u56db\u58f0)\u3002\u6211\u906d\u9047\u7684\u5c31\u662f cc \u653b\u51fb\uff0c\u6700\u591a\u7684\u65f6\u5019\u5168\u4e16\u754c\u5927\u6982 20 \u591a\u4e2a IP \u5730\u5740\u8f6e\u6d41\u53d1\u51fa\u8bf7\u6c42\uff0c\u6bcf\u4e2a\u5730\u5740\u7684\u8bf7\u6c42\u91cf\u5728\u6bcf\u79d2 200 \u6b21\u5de6\u53f3\u3002\u6211\u770b\u8bbf\u95ee\u65e5\u5fd7\u7684\u65f6\u5019\uff0c\u5c31\u89c9\u5f97\u90a3\u4e9b\u8bf7\u6c42\u50cf\u6d2a\u6c34\u4e00\u6837\u6d8c\u6765\uff0c\u4e00\u7728\u773c\u5c31\u662f\u4e00\u5927\u5806\uff0c\u51e0\u5206\u949f\u7684\u65f6\u95f4\uff0c\u65e5\u5fd7\u6587\u4ef6\u7684\u4f53\u79ef\u5c31\u5927\u4e86 100MB\u3002</p> <p>\u672c\u6587\u4ee5\u4e0b\u7684\u5185\u5bb9\u90fd\u662f\u9488\u5bf9 cc \u653b\u51fb\u3002</p>"},{"location":"network/ddos/#http","title":"\u4e09\u3001HTTP \u8bf7\u6c42\u7684\u62e6\u622a","text":"<p>\u5982\u679c\u6076\u610f\u8bf7\u6c42\u6709\u7279\u5f81\uff0c\u5bf9\u4ed8\u8d77\u6765\u5f88\u7b80\u5355\uff1a\u76f4\u63a5\u62e6\u622a\u5b83\u5c31\u884c\u4e86\u3002</p> <p>HTTP \u8bf7\u6c42\u7684\u7279\u5f81\u4e00\u822c\u6709\u4e24\u79cd\uff1aIP \u5730\u5740\u548c User Agent \u5b57\u6bb5\u3002\u6bd4\u5982\uff0c\u6076\u610f\u8bf7\u6c42\u90fd\u662f\u4ece\u67d0\u4e2a IP \u6bb5\u53d1\u51fa\u7684\uff0c\u90a3\u4e48\u628a\u8fd9\u4e2a IP \u6bb5\u5c01\u6389\u5c31\u884c\u4e86\u3002\u6216\u8005\uff0c\u5b83\u4eec\u7684 User Agent \u5b57\u6bb5\u6709\u7279\u5f81\uff08\u5305\u542b\u67d0\u4e2a\u7279\u5b9a\u7684\u8bcd\u8bed\uff09\uff0c\u90a3\u5c31\u628a\u5e26\u6709\u8fd9\u4e2a\u8bcd\u8bed\u7684\u8bf7\u6c42\u62e6\u622a\u3002</p> <p>\u62e6\u622a\u53ef\u4ee5\u5728\u4e09\u4e2a\u5c42\u6b21\u505a\u3002</p> <p>\uff081\uff09\u4e13\u7528\u786c\u4ef6</p> <p>Web \u670d\u52a1\u5668\u7684\u524d\u9762\u53ef\u4ee5\u67b6\u8bbe\u786c\u4ef6\u9632\u706b\u5899\uff0c\u4e13\u95e8\u8fc7\u6ee4\u8bf7\u6c42\u3002\u8fd9\u79cd\u6548\u679c\u6700\u597d\uff0c\u4f46\u662f\u4ef7\u683c\u4e5f\u6700\u8d35\u3002</p> <p>\uff082\uff09\u672c\u673a\u9632\u706b\u5899</p> <p>\u64cd\u4f5c\u7cfb\u7edf\u90fd\u5e26\u6709\u8f6f\u4ef6\u9632\u706b\u5899\uff0cLinux \u670d\u52a1\u5668\u4e00\u822c\u4f7f\u7528 iptables\u3002\u6bd4\u5982\uff0c\u62e6\u622a IP \u5730\u5740<code>1.2.3.4</code>\u7684\u8bf7\u6c42\uff0c\u53ef\u4ee5\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u3002</p> <pre><code>$ iptables -A INPUT -s 1.2.3.4 -j DROP\n</code></pre> <p>iptables \u6bd4\u8f83\u590d\u6742\uff0c\u6211\u4e5f\u4e0d\u592a\u4f1a\u7528\u3002\u5b83\u5bf9\u670d\u52a1\u5668\u6027\u80fd\u6709\u4e00\u5b9a\u5f71\u54cd\uff0c\u4e5f\u9632\u4e0d\u4f4f\u5927\u578b\u653b\u51fb\u3002</p> <p>\uff083\uff09Web \u670d\u52a1\u5668</p> <p>Web \u670d\u52a1\u5668\u4e5f\u53ef\u4ee5\u8fc7\u6ee4\u8bf7\u6c42\u3002\u62e6\u622a IP \u5730\u5740<code>1.2.3.4</code>\uff0cnginx \u7684\u5199\u6cd5\u5982\u4e0b\u3002</p> <pre><code>location / {\n  deny 1.2.3.4;\n}\n</code></pre> <p>Apache \u7684\u5199\u6cd5\u662f\u5728<code>.htaccess</code>\u6587\u4ef6\u91cc\u9762\uff0c\u52a0\u4e0a\u4e0b\u9762\u4e00\u6bb5\u3002</p> <pre><code>&lt;RequireAll&gt;\n    Require all granted\n    Require not ip 1.2.3.4\n&lt;/RequireAll&gt;\n</code></pre> <p>\u5982\u679c\u60f3\u8981\u66f4\u7cbe\u786e\u7684\u63a7\u5236\uff08\u6bd4\u5982\u81ea\u52a8\u8bc6\u522b\u5e76\u62e6\u622a\u90a3\u4e9b\u9891\u7e41\u8bf7\u6c42\u7684 IP \u5730\u5740\uff09\uff0c\u5c31\u8981\u7528\u5230 WAF \u6a21\u5757\uff0c\u8fd9\u91cc\u5c31\u4e0d\u4ecb\u7ecd\u4e86\u3002</p> <p>Web \u670d\u52a1\u5668\u7684\u62e6\u622a\u975e\u5e38\u6d88\u8017\u6027\u80fd\uff0c\u5c24\u5176\u662f Apache\u3002\u7a0d\u5fae\u5927\u4e00\u70b9\u7684\u653b\u51fb\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5c31\u6ca1\u7528\u4e86\u3002</p>"},{"location":"network/ddos/#_1","title":"\u56db\u3001\u5e26\u5bbd\u6269\u5bb9","text":"<p>\u4e0a\u4e00\u8282\u7684 HTTP \u62e6\u622a\u6709\u4e00\u4e2a\u524d\u63d0\uff0c\u5c31\u662f\u8bf7\u6c42\u5fc5\u987b\u6709\u7279\u5f81\u3002\u4f46\u662f\uff0c\u771f\u6b63\u7684 DDOS \u653b\u51fb\u662f\u6ca1\u6709\u7279\u5f81\u7684\uff0c\u5b83\u7684\u8bf7\u6c42\u770b\u4e0a\u53bb\u8ddf\u6b63\u5e38\u8bf7\u6c42\u4e00\u6837\uff0c\u800c\u4e14\u6765\u81ea\u4e0d\u540c\u7684 IP \u5730\u5740\uff0c\u6240\u4ee5\u6ca1\u6cd5\u62e6\u622a\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48 DDOS \u7279\u522b\u96be\u9632\u7684\u539f\u56e0\u3002</p> <p>\u5f53\u7136\uff0c\u8fd9\u6837\u7684 DDOS \u653b\u51fb\u7684\u6210\u672c\u4e0d\u4f4e\uff0c\u666e\u901a\u7684\u7f51\u7ad9\u4e0d\u4f1a\u6709\u8fd9\u79cd\u5f85\u9047\u3002\u4e0d\u8fc7\uff0c\u771f\u8981\u9047\u5230\u4e86\u8be5\u600e\u4e48\u529e\u5462\uff0c\u6709\u6ca1\u6709\u6839\u672c\u6027\u7684\u9632\u8303\u65b9\u6cd5\u5462\uff1f</p> <p>\u7b54\u6848\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u8bbe\u6cd5\u628a\u8fd9\u4e9b\u8bf7\u6c42\u90fd\u6d88\u5316\u6389\u300230 \u4e2a\u4eba\u7684\u9910\u5385\u6765\u4e86 300 \u4eba\uff0c\u90a3\u5c31\u60f3\u529e\u6cd5\u628a\u9910\u5385\u6269\u5927\uff08\u6bd4\u5982\u4e34\u65f6\u518d\u79df\u4e00\u4e2a\u95e8\u9762\uff0c\u5e76\u8bf7\u4e00\u4e9b\u53a8\u5e08\uff09\uff0c\u8ba9 300 \u4e2a\u4eba\u90fd\u80fd\u5750\u4e0b\uff0c\u90a3\u4e48\u5c31\u4e0d\u5f71\u54cd\u6b63\u5e38\u7684\u7528\u6237\u4e86\u3002\u5bf9\u4e8e\u7f51\u7ad9\u6765\u8bf4\uff0c\u5c31\u662f\u5728\u77ed\u65f6\u95f4\u5185\u6025\u5267\u6269\u5bb9\uff0c\u63d0\u4f9b\u51e0\u500d\u6216\u51e0\u5341\u500d\u7684\u5e26\u5bbd\uff0c\u9876\u4f4f\u5927\u6d41\u91cf\u7684\u8bf7\u6c42\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u4e91\u670d\u52a1\u5546\u53ef\u4ee5\u63d0\u4f9b\u9632\u62a4\u4ea7\u54c1\uff0c\u56e0\u4e3a\u4ed6\u4eec\u6709\u5927\u91cf\u5197\u4f59\u5e26\u5bbd\uff0c\u53ef\u4ee5\u7528\u6765\u6d88\u5316 DDOS \u653b\u51fb\u3002</p> <p>\u4e00\u4e2a\u670b\u53cb\u4f20\u6388\u4e86\u4e00\u4e2a\u65b9\u6cd5\uff0c\u7ed9\u6211\u7559\u4e0b\u6df1\u523b\u5370\u8c61\u3002\u67d0\u4e91\u670d\u52a1\u5546\u627f\u8bfa\uff0c\u6bcf\u4e2a\u4e3b\u673a\u4fdd 5G \u6d41\u91cf\u4ee5\u4e0b\u7684\u653b\u51fb\uff0c\u4ed6\u4eec\u5c31\u4e00\u53e3\u6c14\u4e70\u4e86 5 \u4e2a\u3002\u7f51\u7ad9\u67b6\u8bbe\u5728\u5176\u4e2d\u4e00\u4e2a\u4e3b\u673a\u4e0a\u9762\uff0c\u4f46\u662f\u4e0d\u66b4\u9732\u7ed9\u7528\u6237\uff0c\u5176\u4ed6\u4e3b\u673a\u90fd\u662f\u955c\u50cf\uff0c\u7528\u6765\u9762\u5bf9\u7528\u6237\uff0cDNS \u4f1a\u628a\u8bbf\u95ee\u91cf\u5747\u5300\u5206\u914d\u5230\u8fd9\u56db\u53f0\u955c\u50cf\u670d\u52a1\u5668\u3002\u4e00\u65e6\u51fa\u73b0\u653b\u51fb\uff0c\u8fd9\u79cd\u67b6\u6784\u5c31\u53ef\u4ee5\u9632\u4f4f 20G \u7684\u6d41\u91cf\uff0c\u5982\u679c\u6709\u66f4\u5927\u7684\u653b\u51fb\uff0c\u90a3\u5c31\u4e70\u66f4\u591a\u7684\u4e34\u65f6\u4e3b\u673a\uff0c\u4e0d\u65ad\u6269\u5bb9\u955c\u50cf\u3002</p>"},{"location":"network/ddos/#cdn","title":"\u4e94\u3001CDN","text":"<p>CDN \u6307\u7684\u662f\u7f51\u7ad9\u7684\u9759\u6001\u5185\u5bb9\u5206\u53d1\u5230\u591a\u4e2a\u670d\u52a1\u5668\uff0c\u7528\u6237\u5c31\u8fd1\u8bbf\u95ee\uff0c\u63d0\u9ad8\u901f\u5ea6\u3002\u56e0\u6b64\uff0cCDN \u4e5f\u662f\u5e26\u5bbd\u6269\u5bb9\u7684\u4e00\u79cd\u65b9\u6cd5\uff0c\u53ef\u4ee5\u7528\u6765\u9632\u5fa1 DDOS \u653b\u51fb\u3002</p> <p>\u7f51\u7ad9\u5185\u5bb9\u5b58\u653e\u5728\u6e90\u670d\u52a1\u5668\uff0cCDN \u4e0a\u9762\u662f\u5185\u5bb9\u7684\u7f13\u5b58\u3002\u7528\u6237\u53ea\u5141\u8bb8\u8bbf\u95ee CDN\uff0c\u5982\u679c\u5185\u5bb9\u4e0d\u5728 CDN \u4e0a\uff0cCDN \u518d\u5411\u6e90\u670d\u52a1\u5668\u53d1\u51fa\u8bf7\u6c42\u3002\u8fd9\u6837\u7684\u8bdd\uff0c\u53ea\u8981 CDN \u591f\u5927\uff0c\u5c31\u53ef\u4ee5\u62b5\u5fa1\u5f88\u5927\u7684\u653b\u51fb\u3002\u4e0d\u8fc7\uff0c\u8fd9\u79cd\u65b9\u6cd5\u6709\u4e00\u4e2a\u524d\u63d0\uff0c\u7f51\u7ad9\u7684\u5927\u90e8\u5206\u5185\u5bb9\u5fc5\u987b\u53ef\u4ee5==\u9759\u6001\u7f13\u5b58==\u3002\u5bf9\u4e8e\u52a8\u6001\u5185\u5bb9\u4e3a\u4e3b\u7684\u7f51\u7ad9\uff08\u6bd4\u5982\u8bba\u575b\uff09\uff0c\u5c31\u8981\u60f3\u522b\u7684\u529e\u6cd5\uff0c\u5c3d\u91cf\u51cf\u5c11\u7528\u6237\u5bf9\u52a8\u6001\u6570\u636e\u7684\u8bf7\u6c42\u3002</p> <p>\u4e0a\u4e00\u8282\u63d0\u5230\u7684\u955c\u50cf\u670d\u52a1\u5668\uff0c\u672c\u8d28\u5c31\u662f\u81ea\u5df1\u642d\u5efa\u4e00\u4e2a\u5fae\u578b CDN\u3002\u5404\u5927\u4e91\u670d\u52a1\u5546\u63d0\u4f9b\u7684\u9ad8\u9632 IP\uff0c\u80cc\u540e\u4e5f\u662f\u8fd9\u6837\u505a\u7684\uff1a\u7f51\u7ad9\u57df\u540d\u6307\u5411\u9ad8\u9632 IP\uff0c\u5b83\u63d0\u4f9b\u4e00\u4e2a\u7f13\u51b2\u5c42\uff0c\u6e05\u6d17\u6d41\u91cf\uff0c\u5e76\u5bf9\u6e90\u670d\u52a1\u5668\u7684\u5185\u5bb9\u8fdb\u884c\u7f13\u5b58\u3002</p> <p>\u8fd9\u91cc\u6709\u4e00\u4e2a\u5173\u952e\u70b9\uff0c\u4e00\u65e6\u4e0a\u4e86 CDN\uff0c\u5343\u4e07\u4e0d\u8981\u6cc4\u9732\u6e90\u670d\u52a1\u5668\u7684 IP \u5730\u5740\uff0c\u5426\u5219\u653b\u51fb\u8005\u53ef\u4ee5\u7ed5\u8fc7 CDN \u76f4\u63a5\u653b\u51fb\u6e90\u670d\u52a1\u5668\uff0c\u524d\u9762\u7684\u52aa\u529b\u90fd\u767d\u8d39\u3002\u641c\u4e00\u4e0b\u201c\u7ed5\u8fc7 CDN \u83b7\u53d6\u771f\u5b9e IP \u5730\u5740\u201d\uff0c\u4f60\u5c31\u4f1a\u77e5\u9053\u56fd\u5185\u7684\u9ed1\u4ea7\u884c\u4e1a\u6709\u591a\u7316\u7357\u3002</p>"},{"location":"network/dns/","title":"DNS \u539f\u7406","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3935  \u9605\u8bfb8\u5206\u949f</p> <p>\u201cDNS \u670d\u52a1\u5668\u201d\u53c8\u79f0\u4e3a<code>resolver</code>\uff0c\u5b83\u77e5\u9053\u201c\u6839\u57df\u540d\u670d\u52a1\u5668\u201d\uff08root name server\uff09\u7684\u4f4d\u7f6e\u3002\u53d1\u51fa\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u5ba2\u6237\u7aef\u9996\u5148\u4f1a\u5411\u201cDNS \u670d\u52a1\u5668\u201d\u53d1\u51fa\u8bf7\u6c42\u3002</p> <p>\u5bf9\u4e8e\u5ba2\u6237\u7aef\u6765\u8bf4\uff0c\u201cDNS \u670d\u52a1\u5668\u201d\u7684\u7f51\u5740\u8981\u4e48\u662f\u81ea\u52a8\u5206\u914d\u7684\uff08DHCP \u673a\u5236\uff09\uff0c\u8981\u4e48\u662f\u4e8b\u5148\u6307\u5b9a\u7684\u3002</p> <p>DNS \u670d\u52a1\u5668\u5728<code>/etc/resolv.conf</code>\u6587\u4ef6\u91cc\u9762\u6307\u5b9a\u201c\u6839\u57df\u540d\u670d\u52a1\u5668\u201d\u4f4d\u7f6e\u3002</p> <p>DNS \u670d\u52a1\u5668\u6709\u4e00\u4e2a\u6839\u57df\u540d\u670d\u52a1\u5668\u5217\u8868\uff0c\u91cc\u9762\u4fdd\u5b58\u6240\u6709\u6839\u57df\u540d\u670d\u52a1\u5668\u7684 IP \u7f51\u5740\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002</p> <pre><code>; formerly NS.INTERNIC.NET\n;\n.                        3600000  IN  NS    A.ROOT-SERVERS.NET.\nA.ROOT-SERVERS.NET.      3600000      A     198.41.0.4\nA.ROOT-SERVERS.NET.      3600000      AAAA  2001:503:BA3E::2:30\n;\n; formerly NS1.ISI.EDU\n;\n.                        3600000      NS    B.ROOT-SERVERS.NET.\nB.ROOT-SERVERS.NET.      3600000      A     192.228.79.201\n;\n; formerly C.PSI.NET\n;\n.                        3600000      NS    C.ROOT-SERVERS.NET.\nC.ROOT-SERVERS.NET.      3600000      A     192.33.4.12\n; formerly NS.INTERNIC.NET\n;\n.                        3600000  IN  NS    A.ROOT-SERVERS.NET.\nA.ROOT-SERVERS.NET.      3600000      A     198.41.0.4\nA.ROOT-SERVERS.NET.      3600000      AAAA  2001:503:BA3E::2:30\n;\n; formerly NS1.ISI.EDU\n;\n.                        3600000      NS    B.ROOT-SERVERS.NET.\nB.ROOT-SERVERS.NET.      3600000      A     192.228.79.201\n;\n; formerly C.PSI.NET\n;\n.                        3600000      NS    C.ROOT-SERVERS.NET.\nC.ROOT-SERVERS.NET.      3600000      A     192.33.4.12\n</code></pre> <p>\u6839\u636e\u8fd9\u4e2a\u5217\u8868\uff0cDNS \u670d\u52a1\u5668\u4f1a\u540c\u65f6\u5411\u6240\u6709\u7684\u6839\u57df\u540d\u670d\u52a1\u5668\u53d1\u51fa\u67e5\u8be2\u8bf7\u6c42\u3002\u6700\u5148\u8fd4\u56de\u67e5\u8be2\u7ed3\u679c\u7684\u6839\u57df\u540d\u670d\u52a1\u5668\uff0c\u5c06\u88ab DNS \u670d\u52a1\u5668\u7f13\u5b58\uff0c\u5728\u6307\u5b9a\u65f6\u95f4\u5185\u4e0d\u518d\u53d1\u51fa\u67e5\u8be2\u8bf7\u6c42\u3002\u4e0a\u9762\u7684\u5217\u8868\u4e2d\uff0c\u6307\u5b9a\u8fd9\u4e2a\u65f6\u95f4\u662f<code>3600000</code>\u79d2\uff081000 \u4e2a\u5c0f\u65f6\uff09\u3002</p> <p>\u63a5\u4e0b\u6765\uff0cDNS \u670d\u52a1\u5668\u5c06\u5411\u6839\u57df\u540d\u670d\u52a1\u5668\u53d1\u51fa\u67e5\u8be2\u8bf7\u6c42\uff0c\u8be2\u95ee<code>www.example.com</code>\u7684 IP \u5730\u5740\u3002\u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668\u8fd4\u56de\u201c.com \u57df\u540d\u670d\u52a1\u5668\u201d\u7684 IP \u5730\u5740\u3002DNS \u670d\u52a1\u5668\u53c8\u5411\u201c.com \u57df\u540d\u670d\u52a1\u5668\u201d\u53d1\u51fa\u67e5\u8be2\u8bf7\u6c42\uff0c\u8be2\u95ee<code>www.example.com</code>\u7684 IP \u5730\u5740\u3002</p> <p>\u57df\u540d\u5206\u6210\u5c42\u7ea7\uff0c\u9996\u5148\u662f\u9876\u5c42\u57df\u540d\uff0c\u7b80\u5199\u4e3a<code>TLD</code>\uff08top-level domain\uff09\uff0c\u7136\u540e\u662f\u6b21\u7ea7\u57df\u540d\uff0c\u7b80\u5199\u4e3a<code>SLD</code>\u3002Each period in a 'domain' is actually a 'level'. Hence extensions such as .com or .us are considered a TLD (top-level domain). This also explains why an SLD is named so: because it sits at a 'secondary' level (it sits 'below' the TLD).</p> <pre><code>$ whois integralist.co.uk\n</code></pre> <p>\u67e5\u8be2\u57df\u540d\u7684\u6ce8\u518c\u60c5\u51b5\u3002</p> <p><code>host</code>\u547d\u4ee4\u53ef\u4ee5\u770b\u4f5c<code>dig</code>\u547d\u4ee4\u7684\u7b80\u5316\u7248\u672c\uff0c\u8fd4\u56de\u5f53\u524d\u8bf7\u6c42\u57df\u540d\u7684 IP \u5730\u5740\u3002</p> <pre><code>$ host www.integralist.co.uk\n</code></pre> <p><code>host</code>\u547d\u4ee4\u4e5f\u53ef\u4ee5\u7528\u4e8e\u9006\u5411\u67e5\u8be2\uff0c\u5373\u4ece IP \u5730\u5740\u67e5\u8be2\u57df\u540d\u3002</p> <pre><code>$ host 192.30.252.153\n</code></pre> <p>\u4e0a\u9762\u7684\u547d\u4ee4\u7b49\u540c\u4e8e<code>dig -x &lt;ip&gt;</code>\u3002</p> <p><code>nslookup</code>\u547d\u4ee4\u7528\u4e8e\u4e92\u52a8\u5f0f\u5730\u67e5\u8be2 IP \u5730\u5740\u3002</p> <pre><code>$ nslookup\n&gt; integralist.co.uk\nServer:   192.168.1.1\nAddress:  192.168.1.1#53\n\nNon-authoritative answer:\nName: integralist.co.uk\nAddress: 192.30.252.153\n</code></pre>"},{"location":"network/dns/#_1","title":"\u57df\u540d\u7684\u8bb0\u5f55\u7c7b\u578b","text":"<p>\u8bb0\u5f55\u7c7b\u578b\uff08record type\uff09\u6307\u7684\u662f\u4e0d\u540c\u7c7b\u578b\u7684\u67e5\u8be2\uff0c\u4f1a\u8fd4\u56de\u4e0d\u540c\u7684 IP \u5730\u5740\u3002</p> <ul> <li>NS\uff1a\u4e3a\u4e86\u5b89\u5168\u8d77\u89c1\uff0c\u4e00\u822c\u81f3\u5c11\u5e94\u8be5\u8bbe\u7f6e\u4e24\u53f0 name server</li> <li>A\uff1aaddress record\uff0c\u4e3a\u4e86\u63d0\u4f9b\u5197\u4f59\u6027\uff0c\u540c\u4e00\u4e2a\u57df\u540d\u53ef\u4ee5\u63d0\u4f9b\u591a\u6761 A \u8bb0\u5f55\u3002</li> <li>MX\uff1aMail eXchange \u90ae\u4ef6\u8bb0\u5f55\uff0c\u4e3a\u4e86\u63d0\u4f9b\u5197\u4f59\u6027\uff0c\u540c\u4e00\u4e2a\u57df\u540d\u53ef\u4ee5\u6709\u591a\u6761 MX \u8bb0\u5f55</li> <li>CNAME\uff1a\u6307\u5411\u53e6\u4e00\u4e2a\u57df\u540d</li> <li>PTR\uff1a\u9006\u5411\u67e5\u8be2\uff0c\u53ef\u4ee5\u7528\u4e8e\u9632\u6b62\u5783\u573e\u90ae\u4ef6\uff0c\u5373\u9a8c\u8bc1\u90ae\u4ef6\u7684\u53d1\u9001\u670d\u52a1\u5668\uff0c\u662f\u5426\u771f\u7684\u6709\u8fd9\u4e2a\u57df\u540d\u3002</li> </ul> <pre><code>$ dig mx bbc.co.uk +short\n</code></pre> <p>\u6bcf\u6761\u8bb0\u5f55\u90fd\u6709\u4e00\u4e2a TTL \u503c\uff08Time to Live\uff09\uff0c\u8868\u793a\u7f13\u5b58\u7684\u6709\u6548\u671f\uff0c\u5355\u4f4d\u4e3a\u79d2\u3002</p>"},{"location":"network/dns/#_2","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>Mark McDonnell\uff0cDNS 101</li> </ul>"},{"location":"network/http/","title":"HTTP \u7b14\u8bb0","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9241  \u9605\u8bfb19\u5206\u949f</p>"},{"location":"network/http/#http2","title":"HTTP/2 \u534f\u8bae","text":"<p>\u5982\u4eca\uff0c\u4e00\u5f20\u7f51\u9875\u901a\u5e38\u8981\u53d1\u51fa 80 \u5230 100 \u4e2a HTTP \u8bf7\u6c42\uff08request\uff09\u3002\u6d4f\u89c8\u5668\u4f1a\u540c\u65f6\u8ddf\u670d\u52a1\u5668\u4fdd\u7559 6 \u4e2a TCP \u8fde\u63a5\uff08connection\uff09\u3002\u6bcf\u4e2a TCP \u8fde\u63a5\u540c\u65f6\u53ea\u80fd\u5904\u7406\u4e00\u4e2a\u8bf7\u6c42\uff0c\u5fc5\u987b\u5f53\u524d\u8bf7\u6c42\u7ed3\u675f\uff0c\u624d\u80fd\u53d1\u8d77\u53e6\u4e00\u4e2a\u8bf7\u6c42\u3002</p> <p>2015 \u5e74 2 \u6708\uff0cIETF \u53d1\u5e03\u65b0\u7248 HTTP \u6807\u51c6 HTTP/2\u3002HTTP/2 \u53ef\u4ee5\u4e00\u4e2a TCP \u8fde\u63a5\u540c\u65f6\u5904\u7406\u591a\u4e2a HTTP \u8bf7\u6c42\u3002</p> <p></p> <p>HTTP/2 \u9700\u8981\u517c\u5bb9 HTTP 1.1\uff0c\u4e24\u8005\u4f7f\u7528\u540c\u6837\u7684\u534f\u8bae\u7b26<code>http://</code>\uff0c\u6240\u4ee5\u9700\u8981\u4e00\u79cd\u81ea\u52a8\u534f\u8bae\u5347\u7ea7\u673a\u5236 Next Protocol Negotiation\uff08\u7f29\u5199 NPN\uff09\u3002HTTP 1.1 \u5b9a\u4e49\u4e86 HTTP \u4fe1\u606f\u5934<code>Upgrade: header</code>\uff0c\u4ee3\u4ef7\u662f\u591a\u4e00\u6b21\u901a\u4fe1\u5f80\u8fd4\u3002\u670d\u52a1\u5668\u544a\u8bc9\u6d4f\u89c8\u5668\u81ea\u5df1\u652f\u6301\u54ea\u4e9b\u534f\u8bae\uff0c\u7136\u540e\u6d4f\u89c8\u5668\u9009\u62e9\u6240\u8981\u91c7\u7528\u7684\u534f\u8bae\u3002\u4f46\u662f\uff0cHTTP/2 \u6ca1\u6709\u91c7\u7528\u8fd9\u79cd\u65b9\u6cd5\uff0c\u800c\u662f\u91c7\u7528\u53e6\u4e00\u79cd\u673a\u5236 ALPN\uff08Application Level Protocol Negotiation\uff09\uff0c\u5177\u4f53\u505a\u6cd5\u662f\u6d4f\u89c8\u5668\u544a\u8bc9\u670d\u52a1\u5668\u5b83\u652f\u6301\u7684\u534f\u8bae\u987a\u5e8f\uff0c\u670d\u52a1\u5668\u6311\u9009\u5b83\u6240\u8981\u91c7\u7528\u7684\u4e00\u79cd\u3002</p>"},{"location":"network/http/#http2_1","title":"HTTP/2 \u534f\u8bae\u7684\u7279\u70b9","text":"<p>\uff081\uff09\u4e8c\u8fdb\u5236\u4f20\u8f93</p> <p>HTTP/2\u662f\u4e00\u4e2a\u4e8c\u8fdb\u5236\u534f\u8bae\uff0c\u6d4f\u89c8\u5668\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u4ea4\u6362\u201c\u6570\u636e\u6846\u201d\uff08frame\uff09\u3002\u6bcf\u4e2a\u6570\u636e\u6846\u5c5e\u4e8e\u4e00\u4e2a\u6570\u636e\u6d41\uff08stream\uff09\uff0c\u6bcf\u4e2a\u6570\u636e\u6d41\u6709\u4e00\u4e2a\u7f16\u53f7\uff08identifier\uff09\u3002\u591a\u4e2a\u6d41\u53ef\u4ee5\u6df7\u5408\u5728\u4e00\u4e2a\u8fde\u63a5\u4e2d\u4f20\u9012\uff0c\u6d41\u53ef\u4ee5\u7406\u89e3\u6210\u7ec4\u6210 response \u7684\u5355\u4f4d\u3002</p> <p>\uff082\uff09\u5e76\u53d1\uff08concurrency\uff09</p> <p>\u540c\u4e00\u4e2a TCP \u8fde\u63a5\u4e4b\u4e2d\u53ef\u4ee5\u540c\u65f6\u5904\u7406\u591a\u4e2a\u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u53ef\u4ee5\u4e0d\u6309\u7167\u6536\u5230\u7684\u987a\u5e8f\uff0c\u53d1\u51fa\u56de\u5e94\u3002\u51cf\u5c11\u4e86\u670d\u52a1\u5668\u4e0e\u6d4f\u89c8\u5668\u4e4b\u95f4\u5efa\u7acb\u591a\u4e2a\u8fde\u63a5\u7684\u9700\u8981\u3002\u4f7f\u7528 HTTP/2 \u65f6\uff0cHTTP \u8bf7\u6c42\u7684\u6570\u91cf\u4e0d\u518d\u662f\u4e00\u4e2a\u95ee\u9898\uff0c\u4f18\u5316\u4e3b\u8981\u96c6\u4e2d\u5728\u51cf\u5c0f\u6587\u4ef6\u4f53\u79ef\uff0c\u5229\u7528\u597d\u7f13\u5b58\u3002</p> <p>\u4f20\u7edf\u7684 HTTP \u8fde\u63a5\uff0c\u5728\u53d1\u51fa Content-Length \u4ee5\u540e\uff0c\u4e0d\u80fd\u7ec8\u6b62\u4f20\u8f93\uff0c\u5426\u5219\u53ea\u80fd\u65b0\u5efa\u53e6\u4e00\u4e2a TCP \u8fde\u63a5\u3002HTTP/2 \u5141\u8bb8\u91cd\u7f6e\uff08reset\uff09\u67d0\u4e2a\u6d41\uff0c\u4f20\u8f93\u4e00\u4e2a\u65b0\u7684\u6d41\u3002</p> <p>\uff083\uff09\u591a\u5de5\u7684\u6d41\u4f20\u8f93\uff08Multiplexing\uff09</p> <p>\u8fd9\u4e9b\u6570\u636e\u6d41\u90fd\u662f\u591a\u5de5\u7684\uff08multiplexed\uff09\uff0c\u5373\u6d4f\u89c8\u5668\u53ef\u4ee5\u5411\u670d\u52a1\u5668\u53d1\u9001\uff0c\u670d\u52a1\u5668\u4e5f\u53ef\u4ee5\u5411\u6d4f\u89c8\u5668\u53d1\u9001\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5373\u4f7f\u6d4f\u89c8\u5668\u5e76\u6ca1\u6709\u8bf7\u6c42\u67d0\u4e2a\u8d44\u6e90\uff0c\u670d\u52a1\u5668\u4e5f\u53ef\u4ee5\u5411\u6d4f\u89c8\u5668\u63a8\u9001\uff08Server push\uff09\u3002</p> <p></p> <ol> <li>\u5ba2\u6237\u7aef\u8bf7\u6c42 page.html</li> <li>\u670d\u52a1\u5668\u53d1\u73b0\u7f51\u9875\u5305\u542b script.js\uff0c\u5c31\u81ea\u5df1\u5411\u6d4f\u89c8\u5668\u53d1\u9001 stream 2\uff0c\u53d1\u9001\u8be5\u811a\u672c\u3002</li> <li>\u670d\u52a1\u5668\u53d1\u8d77 Stream 3\uff0c\u5411\u6d4f\u89c8\u5668\u63a8\u9001 style.css\u3002</li> </ol> <p>\uff084\uff09\u4fe1\u606f\u5934\u538b\u7f29\uff08Header compression\uff09</p> <p>HTTP \u8bf7\u6c42\u7684\u5934\u4fe1\u606f\u4e5f\u662f\u538b\u7f29\u540e\u518d\u53d1\u9001\u7684\uff0c\u4f7f\u7528 HPACK \u7b97\u6cd5\u3002</p> <p>\uff085\uff09\u6d41\u4f9d\u8d56\u7ba1\u7406\uff08Stream dependencies\uff09</p> <p>\u5ba2\u6237\u7aef\u53ef\u4ee5\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u54ea\u4e2a\u8d44\u6e90\u66f4\u91cd\u8981\u3002\u4e0d\u540c\u7684\u6570\u636e\u6d41\uff0c\u53ef\u4ee5\u6307\u5b9a\u4f18\u5148\u6027\u548c\u6240\u4f9d\u8d56\u7684\u6d41\uff08dependencies and prioritization\uff09\u3002</p> <p></p> <p>\u53e6\u5916\uff0c\u867d\u7136 HTTP/2 \u5e76\u6ca1\u6709\u89c4\u5b9a\uff0c\u4e00\u5b9a\u8981\u4f7f\u7528\u52a0\u5bc6\u94fe\u63a5\uff08TLS/SSL\uff09\uff0c\u4f46\u662f\u6240\u6709\u7684\u6d4f\u89c8\u5668\u76ee\u524d\u90fd\u8981\u6c42\uff0c\u53ea\u6709\u52a0\u5bc6\u8fde\u63a5\uff0c\u624d\u80fd\u4f7f\u7528 HTTP/2 \u534f\u8bae\u3002</p>"},{"location":"network/http/#http-11","title":"\u4e0e HTTP 1.1 \u7684\u6bd4\u8f83","text":"<p>\uff081\uff09\u8bf7\u6c42\u7684\u5bf9\u8c61\u6570\u76ee</p> <p>HTTP 1.1 \uff1a\u5bf9\u4e8e\u540c\u4e00\u4e2a TCP \u8fde\u63a5\uff0c\u4e00\u6b21\u53ea\u80fd\u8bf7\u6c42\u4e00\u4e2a\u5bf9\u8c61\u3002\u53ea\u6709\u6536\u5230\u670d\u52a1\u5668\u56de\u5e94\u540e\uff0c\u624d\u80fd\u8bf7\u6c42\u4e0b\u4e00\u4e2a\u5bf9\u8c61\u3002</p> <p></p> <p>HTTP/2\uff1a\u542f\u7528\u4e86\u591a\u5de5\uff08multiplexing\uff09\uff0c\u5bf9\u4e8e\u540c\u4e00\u4e2a TCP \u8fde\u63a5\uff0c\u6d4f\u89c8\u5668\u80fd\u591f\u9001\u51fa\u4efb\u610f\u6570\u76ee\u7684\u8bf7\u6c42\uff0c\u6536\u5230\u7684 HTTP \u8bf7\u6c42\u662f\u6ca1\u6709\u6b21\u5e8f\u7684\u3002</p> <p></p> <p>\uff082\uff09HTTP \u5934\u4fe1\u606f\u7684\u538b\u7f29</p> <p>HTTP 1.1\uff1a\u6bcf\u6b21\u8bf7\u6c42\uff0c\u6d4f\u89c8\u5668\u9700\u8981\u63d0\u4f9b\u8bb8\u591a session \u4fe1\u606f\uff0c\u8fd9\u90e8\u5206\u8981\u5360\u636e\u5927\u91cf\u7684 HTTP \u5934\u4fe1\u606f\uff0c\u9020\u6210\u6bcf\u6b21\u8bf7\u6c42\u7684\u4f53\u79ef\u5f88\u5927\u3002</p> <p>HTTP/2\uff1a\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u90fd\u4f1a\u5bf9 HTTP \u5934\u4fe1\u606f\u8fdb\u884c\u538b\u7f29\u3002\u6b64\u5916\uff0c\u5b8c\u6574\u7684\u5934\u4fe1\u606f\u53ea\u9700\u8981\u9001\u51fa\u4e00\u6b21\u3002</p> <p>\uff083\uff09</p> <p>HTTP 1.1\uff1a\u901a\u4fe1\u53ea\u80fd\u7531\u5ba2\u6237\u7aef\u53d1\u8d77\uff0c\u8fd9\u610f\u5473\u7740\u670d\u52a1\u5668\u53ea\u80fd\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u63a8\u9001\u8d44\u6e90\u5230\u5ba2\u6237\u7aef\u3002</p> <p>HTTP/2\uff1a\u670d\u52a1\u5668\u80fd\u591f\u53d1\u8d77\u901a\u4fe1\uff0c\u63a8\u9001\u5230\u5ba2\u6237\u7aef\u3002\u8fd9\u5c31\u80fd\u591f\u51cf\u5c11 GET \u8bf7\u6c42\u7684\u6570\u76ee\u3002</p> <p>\u4ee5\u4e0b\u7684\u7f51\u9875\u4f18\u5316\u4eca\u540e\u5c06\u4e0d\u518d\u9700\u8981\u3002</p> <ul> <li>\u6587\u4ef6\u5408\u5e76</li> <li>\u57df\u540d\u5206\u8bbe\uff08Domain sharding\uff09\uff1a\u8fd9\u4e00\u6b65\u5e94\u8be5\u9996\u5148\u53bb\u9664\uff0c\u56e0\u4e3a\u5b83\u589e\u52a0 DNS \u67e5\u627e\u7684\u65f6\u95f4\u3002Sharding \u7684\u539f\u56e0\u6709\u4e24\u4e2a\uff0c\u4e00\u4e2a\u4e0d\u5360\u7528 TCP \u8bf7\u6c42\u901a\u9053\uff1b\u4e8c\u662f\u4e3a\u56fe\u7247\u7b49\u9759\u6001\u8d44\u6e90\uff0c\u65b0\u589e\u6ca1\u6709 cookie \u7684\u57df\u540d\u3002</li> <li>\u884c\u5185\u8d44\u6e90\uff08Resource inlining\uff09\uff1adata URL</li> <li>Image sprites</li> <li>\u4f7f\u7528\u4e0d\u542b cookie \u7684\u57df\u540d</li> </ul> <p>HTTP 1.1 \u5b9a\u4e49\u4e86 pipelining\uff0c\u5141\u8bb8\u4e00\u4e2a\u8bf7\u6c42\u5c1a\u672a\u5f97\u5230\u56de\u5e94\u7684\u60c5\u51b5\u4e0b\uff0c\u5c31\u53d1\u51fa\u53e6\u4e00\u4e2a\u8bf7\u6c42\u3002\u4f46\u662f\uff0c\u5927\u591a\u6570\u6d4f\u89c8\u5668\u9ed8\u8ba4\u6ca1\u6709\u6253\u5f00\u8fd9\u9879\u529f\u80fd\u3002</p> <p>\u53d1\u51fa HTTP \u8bf7\u6c42\u5c31\u50cf\u5728\u8d85\u5e02\u6392\u961f\u4ed8\u6b3e\uff0c\u4e00\u5171\u53ea\u6709 6 \u6761\u961f\u4f0d\uff0c\u524d\u9762\u7684\u4eba\u6392\u6ee1\u4e86\uff0c\u540e\u9762\u7684\u4eba\u5c31\u53ea\u6709\u7b49\u7740\u3002</p>"},{"location":"network/http/#http_1","title":"HTTP \u52a8\u8bcd","text":"<p><code>POST</code>\u65b9\u6cd5\u6709\u4e09\u79cd\u6570\u636e\u7f16\u7801\u65b9\u5f0f\uff0c\u5728 body \u90e8\u5206\u4f20\u9001\u6570\u636e\u3002</p> <p>\u8868\u5355\u7684<code>enctype</code>\u5c5e\u6027\u7528\u6765\u6307\u5b9a\u8868\u5355\u6570\u636e\u7684<code>content-type</code>\u3002\u6570\u636e\u4f1a\u6309\u7167\u6307\u5b9a\u65b9\u5f0f\u7f16\u7801\uff0c\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u3002</p> <p>\uff081\uff09x-www-form-urlencoded</p> <p>\u8fd9\u662f\u8868\u5355\u6570\u636e\u7684\u9ed8\u8ba4\u7f16\u7801\u65b9\u5f0f\u3002</p> <p>\u952e\u540d\u548c\u952e\u503c\u5fc5\u987b\u8f6c\u4e49\uff0c\u7a7a\u683c\u53d8\u4e3a<code>+</code>\u3002\u975e\u82f1\u6587\u5b57\u6bcd\u548c\u6570\u5b57\u4f1a\u88ab<code>%HH</code>\u66ff\u6362\uff0c\u5176\u4e2d\u7684<code>HH</code>\u662f\u4e24\u4e2a\u5341\u516d\u8fdb\u5236\u503c\uff0c\u8868\u793a\u8be5\u5b57\u7b26\u7684 ASCII \u7801\u3002\u6362\u884c\u7b26\u4f1a\u88ab\u66ff\u6362\u6210\u201cCR LF\u201d\uff08\u5373<code>%0D%0A</code>\uff09\u3002</p> <p>\u952e\u540d\u4e0e\u952e\u503c\u4e4b\u95f4\u4f7f\u7528<code>=</code>\u5206\u9694\uff0c\u952e\u503c\u5bf9\u4e4b\u95f4\u4f7f\u7528<code>&amp;</code>\u8fde\u63a5\u3002</p> <pre><code>MyVariableOne=ValueOne&amp;MyVariableTwo=ValueTwo\n</code></pre> <p><code>content-type</code>\u7684\u503c\u662f<code>application/x-www-form-urlencoded</code>\u3002</p> <p>\uff082\uff09form-data</p> <p>\u8fd9\u79cd\u683c\u5f0f\u7528\u4e8e\u53d1\u9001\u5927\u91cf\u7684\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u6216\u8005\u5305\u542b\u975e ASCII \u5b57\u7b26\u7684\u6587\u672c\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002</p> <pre><code>   Content-Type: multipart/form-data; boundary=AaB03x\n\n   --AaB03x\n   Content-Disposition: form-data; name=\"submit-name\"\n\n   Larry\n   --AaB03x\n   Content-Disposition: form-data; name=\"files\"; filename=\"file1.txt\"\n   Content-Type: text/plain\n\n   ... contents of file1.txt ...\n   --AaB03x--\n</code></pre> <p>\u53d1\u9001\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u4f8b\u5b50\u3002</p> <pre><code>   Content-Type: multipart/form-data; boundary=AaB03x\n\n   --AaB03x\n   Content-Disposition: form-data; name=\"submit-name\"\n\n   Larry\n   --AaB03x\n   Content-Disposition: form-data; name=\"files\"\n   Content-Type: multipart/mixed; boundary=BbC04y\n\n   --BbC04y\n   Content-Disposition: file; filename=\"file1.txt\"\n   Content-Type: text/plain\n\n   ... contents of file1.txt ...\n   --BbC04y\n   Content-Disposition: file; filename=\"file2.gif\"\n   Content-Type: image/gif\n   Content-Transfer-Encoding: binary\n\n   ...contents of file2.gif...\n   --BbC04y--\n   --AaB03x--\n</code></pre> <p><code>content-type</code>\u7684\u503c\u4f4d<code>multipart/form-data</code>\u3002</p>"},{"location":"network/http/#http_2","title":"HTTP \u4fe1\u606f\u5934","text":""},{"location":"network/http/#access-control-allow-origin","title":"Access-Control-Allow-Origin","text":"<p>HTTP \u56de\u5e94\u3002Cors \u76f8\u5173\uff0c\u8868\u793a\u5141\u8bb8 Ajax \u8de8\u57df\u8bf7\u6c42\u3002</p> <pre><code>Access-Control-Allow-Origin: *\n</code></pre>"},{"location":"network/http/#cache-control","title":"Cache-Control","text":"<p><code>Cache-Control</code>\u63d0\u4f9b Cache \u63a7\u5236\u3002</p> <ul> <li><code>max-age=[seconds]</code> \u5f53\u524d cache \u6700\u957f\u4fdd\u5b58\u65f6\u95f4</li> <li><code>s-maxage=[seconds]</code> \u7c7b\u4f3c max-age\uff0c\u4f46\u53ea\u7528\u4e8e\u5171\u4eab cache\uff08\u5373 proxy \u670d\u52a1\u5668\uff09</li> <li>public \u8868\u793a\u5df2\u8ba4\u8bc1\u7684 HTTP \u56de\u5e94\u4e5f\u53ef\u4ee5\u5171\u4eab cache\uff08proxy \u670d\u52a1\u5668\uff09</li> <li>private \u8868\u793a cache \u53ea\u80fd\u7528\u4e8e\u6d4f\u89c8\u5668\uff0c\u4e0d\u80fd\u7528\u4e8e proxy</li> <li>no-cache \u4e25\u683c\u58f0\u660e\u6bcf\u6b21\u90fd\u8981\u5411\u670d\u52a1\u5668\u9a8c\u8bc1</li> <li>no-store \u4e0d\u80fd\u4fdd\u5b58 cache</li> <li>must-revalidate \u4e00\u65e6\u7f13\u5b58\u8fc7\u671f\uff0c\u5c31\u8981\u91cd\u65b0\u9a8c\u8bc1</li> <li>proxy-revalidate \u7c7b\u4f3c must-revalidate\uff0c\u4f46\u662f\u53ea\u7528 proxy \u670d\u52a1\u5668</li> </ul> <pre><code>Cache-Control: max-age=3600, must-revalidate\n</code></pre> <p>Cache-Control \u7684\u4f18\u5148\u6027\u9ad8\u4e8e Expires\u3002</p>"},{"location":"network/http/#content-security-policy","title":"Content-Security-Policy","text":"<p><code>Content-Security-Policy</code>\u6307\u5b9a\u5f53\u524d\u7f51\u9875\u5141\u8bb8\u52a0\u8f7d\u5916\u90e8\u8d44\u6e90\u7684\u8303\u56f4\u3002</p> <pre><code>Content-Security-Policy: default-src 'self' trustedscripts.foo.com\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c<code>default-src</code>\u8868\u793a\u5f53\u524d\u8bbe\u7f6e\u9ed8\u8ba4\u9002\u7528\u4e8e\u5404\u79cd\u573a\u5408\uff0c<code>self</code>\u8868\u793a\u5f53\u524d\u7f51\u5740\uff0c<code>trustedscripts.foo.com</code>\u8868\u793a\u6307\u5b9a\u7684\u5b89\u5168\u7f51\u5740\u3002</p>"},{"location":"network/http/#expires","title":"Expires","text":"<p>\u7f51\u9875\u4f55\u65f6\u8fc7\u671f\u3002</p> <pre><code>Expires: Fri, 30 Oct 1998 14:19:41 GMT\n</code></pre>"},{"location":"network/http/#type","title":"Type","text":"<p>HTTP \u56de\u5e94\u7684\u7c7b\u578b\u3002</p> <pre><code>Type: application/x-web-app-manifest+json\n</code></pre>"},{"location":"network/http/#http_3","title":"\u5b89\u5168\u76f8\u5173\u7684 HTTP \u5934\u4fe1\u606f","text":"<ul> <li>Content-Security-Policy</li> <li>Content-Security-Policy-Report-Only</li> <li>X-Webkit-Content-Security-Policy</li> <li>X-Content-Security-Policy</li> <li>Public-Key-Pins</li> <li>Public-Key-Pins-Report-Only</li> <li>Strict-Transport-Security</li> <li>X-Content-Type-Options</li> <li>X-Frame-Options</li> <li>X-XSS-Protection</li> <li>X-Download-Options</li> <li>X-Permitted-Cross-Domain-Policies</li> <li>Strict-Transport-Security enforces secure (HTTP over SSL/TLS) connections to the server</li> <li>X-Frame-Options provides clickjacking protection</li> <li>X-XSS-Protection enables the Cross-site scripting (XSS) filter built into most recent web browsers</li> <li>X-Content-Type-Options prevents browsers from MIME-sniffing a response away from the declared content-type</li> <li>Content-Security-Policy prevents a wide range of attacks, including Cross-site scripting and other cross-site injections</li> </ul>"},{"location":"network/http/#_1","title":"\u53c2\u8003\u7f51\u5740","text":"<ul> <li>Daniel Stenberg, http2 explained</li> <li>Stephen Ludin, With HTTP/2, Akamai Introduces Next Gen Web</li> </ul>"},{"location":"network/mac/","title":"Mac \u7535\u8111\u7684\u7528\u6cd5","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 376  \u9605\u8bfb1\u5206\u949f</p>"},{"location":"network/mac/#_1","title":"\u5feb\u6377\u952e","text":"<p>\u7cfb\u7edf</p> <ul> <li>\u8f93\u5165\u6cd5\u5207\u6362\uff1aCommand + Space</li> <li>\u5e94\u7528\u7a0b\u5e8f\u5207\u6362\uff1aCommand + tab</li> <li>\u7a97\u53e3\u6700\u5927\u5316\u5207\u6362\uff1aCtrl + Command + f</li> <li>\u590d\u5236\uff1aCommand + c</li> <li>\u7c98\u8d34\uff1aCommand +v</li> <li>\u5411\u540e\u5220\u9664\uff1afn + delete</li> <li>pageup: fn + Up arrow</li> <li>pagedown: fn + Down arrow</li> </ul> <p>\u7ec8\u7aef</p> <ul> <li>\u6253\u5f00\u591a\u4e2a tab\uff1aCommand + t</li> </ul> <p>\u786c\u4ef6</p> <ul> <li>\u964d\u4f4e\u4eae\u5ea6 F1</li> <li>\u63d0\u9ad8\u4eae\u5ea6 F2</li> </ul>"},{"location":"network/serviceworker/","title":"Service Worker","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5479  \u9605\u8bfb11\u5206\u949f</p>"},{"location":"network/serviceworker/#_1","title":"\u7b80\u4ecb","text":"<p>Service worker \u662f\u540e\u53f0\u8fd0\u884c\u7684\u4e00\u4e2a JavaScript \u811a\u672c\u3002\u5b83\u7531\u524d\u53f0\u9875\u9762\u7684 JavaScript \u811a\u672c\u65b0\u5efa\uff0c\u8fd0\u884c\u5728\u72ec\u7acb\u7684\u7ebf\u7a0b\u3002\u5b83\u662f\u5f02\u6b65\u7684\uff0c\u4e0d\u4f1a\u9020\u6210\u9875\u9762\u7684\u5835\u585e\uff0c\u53ef\u4ee5\u53d1\u51fa\u901a\u77e5\uff08push notification\uff09\uff0c\u4f46\u62ff\u4e0d\u5230 DOM\u3002\u5b83\u8981\u6c42\u9875\u9762\u5fc5\u987b\u4f7f\u7528 HTTPS \u534f\u8bae\u3002</p> <p>Service Worker \u4e00\u5171\u6709 6 \u79cd\u72b6\u6001\u3002</p> <ul> <li>parsed</li> <li>installing</li> <li>installed</li> <li>activating</li> <li>activated</li> <li>redundant</li> </ul> <p>\u767b\u8bb0 Service Worker\u3002</p> <pre><code>/* In main.js */\nif (\"serviceWorker\" in navigator) {\n  navigator.serviceWorker\n    .register(\"./sw.js\")\n    .then(function (registration) {\n      console.log(\"Service Worker Registered\", registration);\n    })\n    .catch(function (err) {\n      console.log(\"Service Worker Failed to Register\", err);\n    });\n}\n</code></pre> <p>\u4e00\u65e6\u767b\u8bb0\u6210\u529f\uff0cService Worker \u7684\u72b6\u6001\u5c31\u53d8\u6210\u4e86<code>parsed</code>\u3002</p> <p>\u7136\u540e\uff0c\u6d4f\u89c8\u5668\u5c1d\u8bd5\u5b89\u88c5 Service Worker \u811a\u672c\uff0c\u8fd9\u65f6\u5b83\u7684\u72b6\u6001\u5c31\u53d8\u6210\u4e86<code>installing</code>\u3002</p> <pre><code>/* In main.js */\nnavigator.serviceWorker.register(\"./sw.js\").then(function (registration) {\n  if (registration.installing) {\n    // Service Worker is Installing\n  }\n});\n</code></pre> <p>\u4e00\u65e6\u8fdb\u5165\u5b89\u88c5\u9636\u6bb5\uff0cService Worker \u811a\u672c\u4f1a\u63a5\u6536\u5230\u4e00\u4e2a<code>install</code>\u4e8b\u4ef6\u3002\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u91cc\u9762\uff0c\u53ef\u4ee5\u7f13\u5b58\u9759\u6001\u6587\u4ef6\u3002</p> <pre><code>/* In sw.js */\nvar cacheName = \"your-first-service-worker\";\nvar urlsToCache = [\n  \"/\",\n  \"css/tachyons.min.css\",\n  \"img/andre-benz-248755.jpg\",\n  \"img/andre-benz-250740.jpg\",\n  \"img/andre-benz-256762.jpg\",\n  \"img/redd-angelo-230297.jpg\",\n];\n\nself.addEventListener(\"install\", function (event) {\n  // Perform install steps\n  event.waitUntil(\n    caches.open(cacheName).then(function (cache) {\n      console.log(\"Opened cache\");\n      return cache.addAll(urlsToCache);\n    })\n  );\n});\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e8b\u4ef6\u5bf9\u8c61\u6709\u4e00\u4e2a<code>event.waitUntil()</code>\u65b9\u6cd5\uff0c\u53ea\u6709\u8fd9\u4e2a\u65b9\u6cd5\u5185\u90e8\u7684 Promise \u53d8\u6210<code>resolved</code>\u4ee5\u540e\uff0c<code>installing</code>\u4e8b\u4ef6\u624d\u4f1a\u6210\u529f\u3002\u5982\u679c Promise \u53d8\u6210<code>rejected</code>\uff0c<code>installing</code>\u4e8b\u4ef6\u5c31\u4f1a\u5931\u8d25\uff0cService Worker \u53d8\u6210<code>redundant</code>\u72b6\u6001\u3002</p> <pre><code>/* In sw.js */\nself.addEventListener('install', function(event) {\n  event.waitUntil(\n    Promise.reject(); // Failure\n  );\n});\n</code></pre> <p>\u5982\u679c\u5b89\u88c5\u6210\u529f\uff0cService Worker \u5c31\u53d8\u6210<code>installed</code>\u72b6\u6001\uff0c\u6216\u8005\u4e5f\u53eb<code>waiting</code>\u72b6\u6001\u3002\u8fd9\u65f6\uff0cService Worker \u662f\u6709\u6548\u7684\uff0c\u4f46\u8fd8\u6ca1\u6709\u88ab\u6fc0\u6d3b\u3002\u5b83\u8fd8\u4e0d\u53d7\u5f53\u524d\u6587\u6863\u63a7\u5236\uff0c\u800c\u662f\u7b49\u5f85\u63a5\u53d7\u63a7\u5236\u7684\u72b6\u6001\u3002</p> <p>\u4e3b\u811a\u672c\u4e4b\u4e2d\u53ef\u4ee5\u68c0\u67e5\uff0c\u662f\u5426\u5904\u4e8e<code>waiting</code>\u72b6\u6001\u3002</p> <pre><code>/* In main.js */\nnavigator.serviceWorker.register(\"./sw.js\").then(function (registration) {\n  if (registration.waiting) {\n    // Service Worker is Waiting\n  }\n});\n</code></pre> <p>\u8fd9\u65f6\u53ef\u4ee5\u901a\u77e5\u7528\u6237\u5347\u7ea7\u7248\u672c\uff0c\u6216\u8005\u4e3a\u4ed6\u4eec\u81ea\u52a8\u66f4\u65b0\u3002</p> <p>\u4ee5\u4e0b\u51e0\u79cd\u60c5\u51b5\uff0cService Worker \u4f1a\u8fdb\u5165<code>activating</code>\u72b6\u6001\u3002</p> <ul> <li>\u5f53\u524d\u6ca1\u6709\u6d3b\u8dc3\u7684 Worker</li> <li>Service Worker \u811a\u672c\u91cc\u9762\uff0c\u8c03\u7528\u4e86<code>self.skipWaiting()</code>\u65b9\u6cd5</li> <li>\u7528\u6237\u79bb\u5f00\u5f53\u524d\u9875\u9762\uff0c\u56e0\u6b64\u91ca\u653e\u4e86\u524d\u4e00\u4e2a\u6d3b\u8dc3\u7684 worker</li> <li>\u7ecf\u8fc7\u4e00\u6bb5\u65f6\u95f4\uff0c\u524d\u4e00\u4e2a\u6d3b\u8dc3\u7684 worker \u5df2\u7ecf\u91ca\u653e</li> </ul> <p>\u8fdb\u5165<code>activating</code>\u72b6\u6001\u65f6\uff0cService Worker \u811a\u672c\u4f1a\u63a5\u6536\u5230<code>active</code>\u4e8b\u4ef6\uff0c\u901a\u5e38\u5728\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u91cc\u9762\u6e05\u9664\u65e7\u7f13\u5b58\u3002</p> <pre><code>/* In sw.js */\nself.addEventListener(\"activate\", function (event) {\n  event.waitUntil(\n    // Get all the cache names\n    caches.keys().then(function (cacheNames) {\n      return Promise.all(\n        // Get all the items that are stored under a different cache name than the current one\n        cacheNames\n          .filter(function (cacheName) {\n            return cacheName != currentCacheName;\n          })\n          .map(function (cacheName) {\n            // Delete the items\n            return caches.delete(cacheName);\n          })\n      ); // end Promise.all()\n    }) // end caches.keys()\n  ); // end event.waitUntil()\n});\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e5f\u6709\u4e00\u4e2a<code>event.waitUntil()</code>\u65b9\u6cd5\uff0c\u53ea\u6709\u5b83\u91cc\u9762\u7684 Promise \u53d8\u6210<code>resolved</code>\uff0c\u6fc0\u6d3b\u624d\u80fd\u6210\u529f\u3002\u5426\u5219\uff0c\u5c31\u4f1a\u6fc0\u6d3b\u5931\u8d25\uff0cService Worker \u53d8\u6210<code>redundant</code>\u3002</p> <p>\u5982\u679c\u6fc0\u6d3b\u6210\u529f\uff0cService Worker \u5c31\u53d8\u6210<code>active</code>\u72b6\u6001\uff0c\u8fd9\u65f6 Service Worker \u4f1a\u5b8c\u5168\u63a7\u5236\u6587\u6863\u3002\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u68c0\u67e5\u662f\u5426\u8fdb\u5165\u8fd9\u4e2a\u72b6\u6001\u3002</p> <pre><code>/* In main.js */\nnavigator.serviceWorker.register(\"./sw.js\").then(function (registration) {\n  if (registration.active) {\n    // Service Worker is Active\n  }\n});\n</code></pre> <p>\u4e00\u65e6 Service Worker \u6fc0\u6d3b\uff0c\u5b83\u5c31\u80fd\u5904\u7406 fetch \u548c message \u4e8b\u4ef6\u3002</p> <pre><code>/* In sw.js */\n\nself.addEventListener(\"fetch\", function (event) {\n  // Do stuff with fetch events\n});\n\nself.addEventListener(\"message\", function (event) {\n  // Do stuff with postMessages received from document\n});\n</code></pre> <p>\u7531\u4e8e\u4ee5\u4e0b\u539f\u56e0\uff0cService Worker \u4f1a\u53d8\u6210<code>redundant</code>\u72b6\u6001\u3002</p> <ul> <li>installing \u4e8b\u4ef6\u5931\u8d25</li> <li>activating \u4e8b\u4ef6\u5931\u8d25</li> <li>\u4e00\u4e2a\u65b0\u7684 Service Worker \u53d6\u4ee3\u4e86\u5f53\u524d\u6d3b\u8dc3\u7684 Service worker</li> </ul> <p>\u7528\u6237\u53d1\u51fa\u8bf7\u6c42\u65f6\uff0c\u4f1a\u89e6\u53d1<code>fetch</code>\u4e8b\u4ef6\u3002</p> <pre><code>// Fetch the contents and reply with cache\nself.addEventListener(\"fetch\", function (event) {\n  event.respondWith(\n    caches.match(event.request).then(function (response) {\n      // Cache hit - return response\n      if (response) {\n        return response;\n      }\n      return fetch(event.request);\n    })\n  );\n});\n</code></pre>"},{"location":"network/serviceworker/#_2","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>The Service Worker Lifecycle, by Ire Aderinokun</li> <li>Your first service worker, by Nicola</li> </ul>"},{"location":"network/ssl%E5%8D%8F%E8%AE%AE/","title":"\u56fe\u89e3 SSL/TLS \u534f\u8bae","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6029  \u9605\u8bfb13\u5206\u949f</p> <p>\u672c\u5468\uff0cCloudFlare\u5ba3\u5e03\uff0c\u5f00\u59cb\u63d0\u4f9b Keyless \u670d\u52a1\uff0c\u5373\u4f60\u628a\u7f51\u7ad9\u653e\u5230\u5b83\u4eec\u7684 CDN \u4e0a\uff0c\u4e0d\u7528\u63d0\u4f9b\u81ea\u5df1\u7684\u79c1\u94a5\uff0c\u4e5f\u80fd\u4f7f\u7528 SSL \u52a0\u5bc6\u94fe\u63a5\u3002</p> <p></p> <p>\u6211\u770b\u4e86 CloudFlare \u7684\u8bf4\u660e\uff08\u8fd9\u91cc\u548c\u8fd9\u91cc\uff09\uff0c\u7a81\u7136\u610f\u8bc6\u5230\u8fd9\u662f\u7edd\u597d\u7684\u4f8b\u5b50\uff0c\u53ef\u4ee5\u7528\u6765\u8bf4\u660e SSL/TLS \u534f\u8bae\u7684\u8fd0\u884c\u673a\u5236\u3002\u5b83\u914d\u6709\u63d2\u56fe\uff0c\u5f88\u5bb9\u6613\u770b\u61c2\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u5c31\u7528\u8fd9\u4e9b\u56fe\u7247\u4f5c\u4e3a\u4f8b\u5b50\uff0c\u914d\u5408\u6211\u534a\u5e74\u524d\u5199\u7684\u300aSSL/TLS \u534f\u8bae\u8fd0\u884c\u673a\u5236\u7684\u6982\u8ff0\u300b\uff0c\u6765\u89e3\u91ca SSL \u534f\u8bae\u3002</p>"},{"location":"network/ssl%E5%8D%8F%E8%AE%AE/#ssl","title":"\u4e00\u3001SSL \u534f\u8bae\u7684\u63e1\u624b\u8fc7\u7a0b","text":"<p>\u5f00\u59cb\u52a0\u5bc6\u901a\u4fe1\u4e4b\u524d\uff0c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u9996\u5148\u5fc5\u987b\u5efa\u7acb\u8fde\u63a5\u548c\u4ea4\u6362\u53c2\u6570\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u53eb\u505a\u63e1\u624b\uff08handshake\uff09\u3002</p> <p>\u5047\u5b9a\u5ba2\u6237\u7aef\u53eb\u505a\u7231\u4e3d\u4e1d\uff0c\u670d\u52a1\u5668\u53eb\u505a\u9c8d\u52c3\uff0c\u6574\u4e2a\u63e1\u624b\u8fc7\u7a0b\u53ef\u4ee5\u7528\u4e0b\u56fe\u8bf4\u660e\u3002</p> <p></p> <p>\u6839\u636e\u4e0a\u56fe\uff08\u70b9\u51fb\u770b\u5927\u56fe\uff09\uff0c\u63e1\u624b\u9636\u6bb5\u5206\u6210\u4e94\u6b65\u3002</p> <p>\u7b2c\u4e00\u6b65\uff0c\u7231\u4e3d\u4e1d\u7ed9\u51fa\u534f\u8bae\u7248\u672c\u53f7\u3001\u4e00\u4e2a\u5ba2\u6237\u7aef\u751f\u6210\u7684\u968f\u673a\u6570\uff08Client random\uff09\uff0c\u4ee5\u53ca\u5ba2\u6237\u7aef\u652f\u6301\u7684\u52a0\u5bc6\u65b9\u6cd5\u3002</p> <p>\u7b2c\u4e8c\u6b65\uff0c\u9c8d\u52c3\u786e\u8ba4\u53cc\u65b9\u4f7f\u7528\u7684\u52a0\u5bc6\u65b9\u6cd5\uff0c\u5e76\u7ed9\u51fa\u6570\u5b57\u8bc1\u4e66\u3001\u4ee5\u53ca\u4e00\u4e2a\u670d\u52a1\u5668\u751f\u6210\u7684\u968f\u673a\u6570\uff08Server random\uff09\u3002</p> <p>\u7b2c\u4e09\u6b65\uff0c\u7231\u4e3d\u4e1d\u786e\u8ba4\u6570\u5b57\u8bc1\u4e66\u6709\u6548\uff0c\u7136\u540e\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u968f\u673a\u6570\uff08Premaster secret\uff09\uff0c\u5e76\u4f7f\u7528\u6570\u5b57\u8bc1\u4e66\u4e2d\u7684\u516c\u94a5\uff0c\u52a0\u5bc6\u8fd9\u4e2a\u968f\u673a\u6570\uff0c\u53d1\u7ed9\u9c8d\u52c3\u3002</p> <p>\u7b2c\u56db\u6b65\uff0c\u9c8d\u52c3\u4f7f\u7528\u81ea\u5df1\u7684\u79c1\u94a5\uff0c\u83b7\u53d6\u7231\u4e3d\u4e1d\u53d1\u6765\u7684\u968f\u673a\u6570\uff08\u5373 Premaster secret\uff09\u3002</p> <p>\u7b2c\u4e94\u6b65\uff0c\u7231\u4e3d\u4e1d\u548c\u9c8d\u52c3\u6839\u636e\u7ea6\u5b9a\u7684\u52a0\u5bc6\u65b9\u6cd5\uff0c\u4f7f\u7528\u524d\u9762\u7684\u4e09\u4e2a\u968f\u673a\u6570\uff0c\u751f\u6210\u201c\u5bf9\u8bdd\u5bc6\u94a5\u201c\uff08session key\uff09\uff0c\u7528\u6765\u52a0\u5bc6\u63a5\u4e0b\u6765\u7684\u6574\u4e2a\u5bf9\u8bdd\u8fc7\u7a0b\u3002</p> <p>\u4e0a\u9762\u7684\u4e94\u6b65\uff0c\u753b\u6210\u4e00\u5f20\u56fe\uff0c\u5c31\u662f\u4e0b\u9762\u8fd9\u6837\u3002</p> <p></p>"},{"location":"network/ssl%E5%8D%8F%E8%AE%AE/#_1","title":"\u4e8c\u3001\u79c1\u94a5\u7684\u4f5c\u7528","text":"<p>\u63e1\u624b\u9636\u6bb5\u6709\u4e09\u70b9\u9700\u8981\u6ce8\u610f\u3002</p> <p>\uff081\uff09\u751f\u6210\u5bf9\u8bdd\u5bc6\u94a5\u4e00\u5171\u9700\u8981\u4e09\u4e2a\u968f\u673a\u6570\u3002</p> <p>\uff082\uff09\u63e1\u624b\u4e4b\u540e\u7684\u5bf9\u8bdd\u4f7f\u7528\u201c\u5bf9\u8bdd\u5bc6\u94a5\u201c\u52a0\u5bc6\uff08\u5bf9\u79f0\u52a0\u5bc6\uff09\uff0c\u670d\u52a1\u5668\u7684\u516c\u94a5\u548c\u79c1\u94a5\u53ea\u7528\u4e8e\u52a0\u5bc6\u548c\u89e3\u5bc6\u201c\u5bf9\u8bdd\u5bc6\u94a5\u201c\uff08\u975e\u5bf9\u79f0\u52a0\u5bc6\uff09\uff0c\u65e0\u5176\u4ed6\u4f5c\u7528\u3002</p> <p>\uff083\uff09\u670d\u52a1\u5668\u516c\u94a5\u653e\u5728\u670d\u52a1\u5668\u7684\u6570\u5b57\u8bc1\u4e66\u4e4b\u4e2d\u3002</p> <p>\u4ece\u4e0a\u9762\u7b2c\u4e8c\u70b9\u53ef\u77e5\uff0c\u6574\u4e2a\u5bf9\u8bdd\u8fc7\u7a0b\u4e2d\uff08\u63e1\u624b\u9636\u6bb5\u548c\u5176\u540e\u7684\u5bf9\u8bdd\uff09\uff0c\u670d\u52a1\u5668\u7684\u516c\u94a5\u548c\u79c1\u94a5\u53ea\u9700\u8981\u7528\u5230\u4e00\u6b21\u3002\u8fd9\u5c31\u662f CloudFlare \u80fd\u591f\u63d0\u4f9b Keyless \u670d\u52a1\u7684\u6839\u672c\u539f\u56e0\u3002</p> <p>\u67d0\u4e9b\u5ba2\u6237\uff08\u6bd4\u5982\u94f6\u884c\uff09\u60f3\u8981\u4f7f\u7528\u5916\u90e8 CDN\uff0c\u52a0\u5feb\u81ea\u5bb6\u7f51\u7ad9\u7684\u8bbf\u95ee\u901f\u5ea6\uff0c\u4f46\u662f\u51fa\u4e8e\u5b89\u5168\u8003\u8651\uff0c\u4e0d\u80fd\u628a\u79c1\u94a5\u4ea4\u7ed9 CDN \u670d\u52a1\u5546\u3002\u8fd9\u65f6\uff0c\u5b8c\u5168\u53ef\u4ee5\u628a\u79c1\u94a5\u7559\u5728\u81ea\u5bb6\u670d\u52a1\u5668\uff0c\u53ea\u7528\u6765\u89e3\u5bc6\u5bf9\u8bdd\u5bc6\u94a5\uff0c\u5176\u4ed6\u6b65\u9aa4\u90fd\u8ba9 CDN \u670d\u52a1\u5546\u53bb\u5b8c\u6210\u3002</p> <p></p> <p>\u4e0a\u56fe\u4e2d\uff0c\u94f6\u884c\u7684\u670d\u52a1\u5668\u53ea\u53c2\u4e0e\u7b2c\u56db\u6b65\uff0c\u540e\u9762\u7684\u5bf9\u8bdd\u90fd\u4e0d\u518d\u4f1a\u7528\u5230\u79c1\u94a5\u4e86\u3002</p>"},{"location":"network/ssl%E5%8D%8F%E8%AE%AE/#dh","title":"\u4e09\u3001DH \u7b97\u6cd5\u7684\u63e1\u624b\u9636\u6bb5","text":"<p>\u6574\u4e2a\u63e1\u624b\u9636\u6bb5\u90fd\u4e0d\u52a0\u5bc6\uff08\u4e5f\u6ca1\u6cd5\u52a0\u5bc6\uff09\uff0c\u90fd\u662f\u660e\u6587\u7684\u3002\u56e0\u6b64\uff0c\u5982\u679c\u6709\u4eba\u7a83\u542c\u901a\u4fe1\uff0c\u4ed6\u53ef\u4ee5\u77e5\u9053\u53cc\u65b9\u9009\u62e9\u7684\u52a0\u5bc6\u65b9\u6cd5\uff0c\u4ee5\u53ca\u4e09\u4e2a\u968f\u673a\u6570\u4e2d\u7684\u4e24\u4e2a\u3002\u6574\u4e2a\u901a\u8bdd\u7684\u5b89\u5168\uff0c\u53ea\u53d6\u51b3\u4e8e\u7b2c\u4e09\u4e2a\u968f\u673a\u6570\uff08Premaster secret\uff09\u80fd\u4e0d\u80fd\u88ab\u7834\u89e3\u3002</p> <p>\u867d\u7136\u7406\u8bba\u4e0a\uff0c\u53ea\u8981\u670d\u52a1\u5668\u7684\u516c\u94a5\u8db3\u591f\u957f\uff08\u6bd4\u5982 2048 \u4f4d\uff09\uff0c\u90a3\u4e48 Premaster secret \u53ef\u4ee5\u4fdd\u8bc1\u4e0d\u88ab\u7834\u89e3\u3002\u4f46\u662f\u4e3a\u4e86\u8db3\u591f\u5b89\u5168\uff0c\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u628a\u63e1\u624b\u9636\u6bb5\u7684\u7b97\u6cd5\u4ece\u9ed8\u8ba4\u7684RSA \u7b97\u6cd5\uff0c\u6539\u4e3a Diffie-Hellman \u7b97\u6cd5\uff08\u7b80\u79f0 DH \u7b97\u6cd5\uff09\u3002</p> <p>\u91c7\u7528 DH \u7b97\u6cd5\u540e\uff0cPremaster secret \u4e0d\u9700\u8981\u4f20\u9012\uff0c\u53cc\u65b9\u53ea\u8981\u4ea4\u6362\u5404\u81ea\u7684\u53c2\u6570\uff0c\u5c31\u53ef\u4ee5\u7b97\u51fa\u8fd9\u4e2a\u968f\u673a\u6570\u3002</p> <p></p> <p>\u4e0a\u56fe\u4e2d\uff0c\u7b2c\u4e09\u6b65\u548c\u7b2c\u56db\u6b65\u7531\u4f20\u9012 Premaster secret \u53d8\u6210\u4e86\u4f20\u9012 DH \u7b97\u6cd5\u6240\u9700\u7684\u53c2\u6570\uff0c\u7136\u540e\u53cc\u65b9\u5404\u81ea\u7b97\u51fa Premaster secret\u3002\u8fd9\u6837\u5c31\u63d0\u9ad8\u4e86\u5b89\u5168\u6027\u3002</p>"},{"location":"network/ssl%E5%8D%8F%E8%AE%AE/#session","title":"\u56db\u3001session \u7684\u6062\u590d","text":"<p>\u63e1\u624b\u9636\u6bb5\u7528\u6765\u5efa\u7acb SSL \u8fde\u63a5\u3002\u5982\u679c\u51fa\u4e8e\u67d0\u79cd\u539f\u56e0\uff0c\u5bf9\u8bdd\u4e2d\u65ad\uff0c\u5c31\u9700\u8981\u91cd\u65b0\u63e1\u624b\u3002</p> <p>\u8fd9\u65f6\u6709\u4e24\u79cd\u65b9\u6cd5\u53ef\u4ee5\u6062\u590d\u539f\u6765\u7684 session\uff1a\u4e00\u79cd\u53eb\u505a session ID\uff0c\u53e6\u4e00\u79cd\u53eb\u505a session ticket\u3002</p> <p>session ID \u7684\u601d\u60f3\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u6bcf\u4e00\u6b21\u5bf9\u8bdd\u90fd\u6709\u4e00\u4e2a\u7f16\u53f7\uff08session ID\uff09\u3002\u5982\u679c\u5bf9\u8bdd\u4e2d\u65ad\uff0c\u4e0b\u6b21\u91cd\u8fde\u7684\u65f6\u5019\uff0c\u53ea\u8981\u5ba2\u6237\u7aef\u7ed9\u51fa\u8fd9\u4e2a\u7f16\u53f7\uff0c\u4e14\u670d\u52a1\u5668\u6709\u8fd9\u4e2a\u7f16\u53f7\u7684\u8bb0\u5f55\uff0c\u53cc\u65b9\u5c31\u53ef\u4ee5\u91cd\u65b0\u4f7f\u7528\u5df2\u6709\u7684\u201c\u5bf9\u8bdd\u5bc6\u94a5\u201c\uff0c\u800c\u4e0d\u5fc5\u91cd\u65b0\u751f\u6210\u4e00\u628a\u3002</p> <p></p> <p>\u4e0a\u56fe\u4e2d\uff0c\u5ba2\u6237\u7aef\u7ed9\u51fa session ID\uff0c\u670d\u52a1\u5668\u786e\u8ba4\u8be5\u7f16\u53f7\u5b58\u5728\uff0c\u53cc\u65b9\u5c31\u4e0d\u518d\u8fdb\u884c\u63e1\u624b\u9636\u6bb5\u5269\u4f59\u7684\u6b65\u9aa4\uff0c\u800c\u76f4\u63a5\u7528\u5df2\u6709\u7684\u5bf9\u8bdd\u5bc6\u94a5\u8fdb\u884c\u52a0\u5bc6\u901a\u4fe1\u3002</p> <p>session ID \u662f\u76ee\u524d\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u652f\u6301\u7684\u65b9\u6cd5\uff0c\u4f46\u662f\u5b83\u7684\u7f3a\u70b9\u5728\u4e8e session ID \u5f80\u5f80\u53ea\u4fdd\u7559\u5728\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\u3002\u6240\u4ee5\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u53d1\u5230\u53e6\u4e00\u53f0\u670d\u52a1\u5668\uff0c\u5c31\u65e0\u6cd5\u6062\u590d\u5bf9\u8bdd\u3002session ticket \u5c31\u662f\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u800c\u8bde\u751f\u7684\uff0c\u76ee\u524d\u53ea\u6709 Firefox \u548c Chrome \u6d4f\u89c8\u5668\u652f\u6301\u3002</p> <p></p> <p>\u4e0a\u56fe\u4e2d\uff0c\u5ba2\u6237\u7aef\u4e0d\u518d\u53d1\u9001 session ID\uff0c\u800c\u662f\u53d1\u9001\u4e00\u4e2a\u670d\u52a1\u5668\u5728\u4e0a\u4e00\u6b21\u5bf9\u8bdd\u4e2d\u53d1\u9001\u8fc7\u6765\u7684 session ticket\u3002\u8fd9\u4e2a session ticket \u662f\u52a0\u5bc6\u7684\uff0c\u53ea\u6709\u670d\u52a1\u5668\u624d\u80fd\u89e3\u5bc6\uff0c\u5176\u4e2d\u5305\u62ec\u672c\u6b21\u5bf9\u8bdd\u7684\u4e3b\u8981\u4fe1\u606f\uff0c\u6bd4\u5982\u5bf9\u8bdd\u5bc6\u94a5\u548c\u52a0\u5bc6\u65b9\u6cd5\u3002\u5f53\u670d\u52a1\u5668\u6536\u5230 session ticket \u4ee5\u540e\uff0c\u89e3\u5bc6\u540e\u5c31\u4e0d\u5fc5\u91cd\u65b0\u751f\u6210\u5bf9\u8bdd\u5bc6\u94a5\u4e86\u3002</p> <p>\uff08\u5b8c\uff09</p>"},{"location":"network/%E4%B8%80%E4%B8%AA%20TCP%20%E8%BF%9E%E6%8E%A5%E4%B8%8A%E9%9D%A2%E8%83%BD%E5%8F%91%E5%A4%9A%E5%B0%91%E4%B8%AA%20HTTP%20%E8%AF%B7%E6%B1%82/","title":"\u4e00\u4e2a TCP \u8fde\u63a5\u4e0a\u9762\u80fd\u53d1\u591a\u5c11\u4e2a HTTP \u8bf7\u6c42","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 7409  \u9605\u8bfb15\u5206\u949f</p> <p>\u4e00\u9053\u7ecf\u5178\u7684\u9762\u8bd5\u9898\uff1a\u4ece URL \u5728\u6d4f\u89c8\u5668\u88ab\u88ab\u8f93\u5165\uff0c\u5230\u9875\u9762\u5c55\u73b0\u7684\u8fc7\u7a0b\u4e2d\uff0c\u53d1\u751f\u4e86\u4ec0\u4e48\uff0c\u5927\u591a\u6570\u56de\u7b54\u90fd\u662f\u8bf4\u8bf7\u6c42\u54cd\u5e94\u4e4b\u540e DOM \u600e\u4e48\u88ab\u6784\u5efa\uff0c\u88ab\u7ed8\u5236\u51fa\u6765\u3002\u4f46\u662f\u4f60\u6709\u6ca1\u6709\u60f3\u8fc7\uff0c\u6536\u5230\u7684 HTML \u5982\u679c\u5305\u542b\u51e0\u5341\u4e2a\u56fe\u7247\u6807\u7b7e\uff0c\u8fd9\u4e9b\u56fe\u7247\u662f\u4ee5\u4ec0\u4e48\u65b9\u5f0f\u3001\u4ec0\u4e48\u987a\u5e8f\u3001\u5efa\u7acb\u4e86\u591a\u5c11\u8fde\u63a5\u3001\u4f7f\u7528\u4ec0\u4e48\u534f\u8bae\u88ab\u4e0b\u8f7d\u4e0b\u6765\u7684\u5462\uff1f\u6211\u4eec\u5148\u89e3\u51b3\u4e0b\u9762\u7684\u95ee\u9898\uff1a</p>"},{"location":"network/%E4%B8%80%E4%B8%AA%20TCP%20%E8%BF%9E%E6%8E%A5%E4%B8%8A%E9%9D%A2%E8%83%BD%E5%8F%91%E5%A4%9A%E5%B0%91%E4%B8%AA%20HTTP%20%E8%AF%B7%E6%B1%82/#1-tcp-http","title":"1 \u6d4f\u89c8\u5668\u5728\u4e0e\u670d\u52a1\u5668\u5efa\u7acb\u4e86 TCP \u8fde\u63a5\u540e\uff0c\u662f\u5426\u4f1a\u5728 HTTP \u8bf7\u6c42\u5b8c\u6210\u540e\u65ad\u5f00\uff1f","text":"<p>\u5728 HTTP/1.0 \u4e2d\uff0c\u4e00\u4e2a\u670d\u52a1\u5668\u5728\u53d1\u9001\u5b8c\u4e00\u4e2a HTTP \u54cd\u5e94\u540e\uff0c\u4f1a\u65ad\u5f00 TCP \u94fe\u63a5\u3002\u4f46\u662f\u8fd9\u6837\u6bcf\u6b21\u8bf7\u6c42\u90fd\u4f1a\u91cd\u65b0\u5efa\u7acb\u548c\u65ad\u5f00 TCP \u8fde\u63a5\uff0c\u4ee3\u4ef7\u8fc7\u5927\u3002\u6240\u4ee5\u867d\u7136\u6807\u51c6\u4e2d\u6ca1\u6709\u8bbe\u5b9a\uff0c\u67d0\u4e9b\u670d\u52a1\u5668\u5bf9 Connection: keep-alive \u7684 Header \u8fdb\u884c\u4e86\u652f\u6301\u3002\u610f\u601d\u662f\u8bf4\uff0c\u5b8c\u6210\u8fd9\u4e2a HTTP \u8bf7\u6c42\u4e4b\u540e\uff0c\u4e0d\u8981\u65ad\u5f00 HTTP \u8bf7\u6c42\u4f7f\u7528\u7684 TCP \u8fde\u63a5\u3002\u8fd9\u6837\u7684\u597d\u5904\u662f\u8fde\u63a5\u53ef\u4ee5\u88ab\u91cd\u65b0\u4f7f\u7528\uff0c\u4e4b\u540e\u53d1\u9001 HTTP \u8bf7\u6c42\u7684\u65f6\u5019\u4e0d\u9700\u8981\u91cd\u65b0\u5efa\u7acb TCP \u8fde\u63a5\uff0c\u4ee5\u53ca\u5982\u679c\u7ef4\u6301\u8fde\u63a5\uff0c\u90a3\u4e48 SSL \u7684\u5f00\u9500\u4e5f\u53ef\u4ee5\u907f\u514d\u3002</p> <p>\u5728 HTTP/1.1 \u4e2d\uff0cTCP \u6301\u4e45\u8fde\u63a5\uff1a\u65e2\u7136\u7ef4\u6301 TCP \u8fde\u63a5\u597d\u5904\u8fd9\u4e48\u591a\uff0c \u5c31\u628a Connection \u5934\u5199\u8fdb\u6807\u51c6\uff0c\u5e76\u4e14\u9ed8\u8ba4\u5f00\u542f\u6301\u4e45\u8fde\u63a5 Connection: keep-alive\uff0c\u9664\u975e\u8bf7\u6c42\u4e2d\u5199\u660e Connection: close\uff0c\u90a3\u4e48\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u662f\u4f1a\u7ef4\u6301\u4e00\u6bb5\u65f6\u95f4\u7684 TCP \u8fde\u63a5\uff0c\u4e0d\u4f1a\u4e00\u4e2a\u8bf7\u6c42\u7ed3\u675f\u5c31\u65ad\u6389\u3002</p> <p>\u95ee\u9898\u7684\u7b54\u6848\uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5efa\u7acb TCP \u8fde\u63a5\u4e0d\u4f1a\u65ad\u5f00\uff0c\u53ea\u6709\u5728\u8bf7\u6c42\u62a5\u5934\u4e2d\u58f0\u660e Connection: close \u624d\u4f1a\u5728\u8bf7\u6c42\u5b8c\u6210\u540e\u5173\u95ed\u8fde\u63a5\u3002\u8be6\u7ec6\u53c2\u8003 Hypertext Transfer Protocol -- HTTP/1.1tools.ietf.org</p>"},{"location":"network/%E4%B8%80%E4%B8%AA%20TCP%20%E8%BF%9E%E6%8E%A5%E4%B8%8A%E9%9D%A2%E8%83%BD%E5%8F%91%E5%A4%9A%E5%B0%91%E4%B8%AA%20HTTP%20%E8%AF%B7%E6%B1%82/#2-tcp-http","title":"2 \u4e00\u4e2a TCP \u8fde\u63a5\u53ef\u4ee5\u5bf9\u5e94\u51e0\u4e2a HTTP \u8bf7\u6c42\uff1f","text":"<p>\u5982\u679c\u6301\u7eed\u8fde\u63a5\uff0c\u4e00\u4e2a TCP \u8fde\u63a5\u662f\u53ef\u4ee5\u53d1\u9001\u591a\u4e2a HTTP \u8bf7\u6c42\u7684\u3002</p>"},{"location":"network/%E4%B8%80%E4%B8%AA%20TCP%20%E8%BF%9E%E6%8E%A5%E4%B8%8A%E9%9D%A2%E8%83%BD%E5%8F%91%E5%A4%9A%E5%B0%91%E4%B8%AA%20HTTP%20%E8%AF%B7%E6%B1%82/#3-tcp-http","title":"3 \u4e00\u4e2a TCP \u8fde\u63a5\u4e2d HTTP \u8bf7\u6c42\u53d1\u9001\u53ef\u4ee5\u4e00\u8d77\u53d1\u9001\u4e48\uff08\u6bd4\u5982\u4e00\u8d77\u53d1\u4e09\u4e2a\u8bf7\u6c42\uff0c\u518d\u4e09\u4e2a\u54cd\u5e94\u4e00\u8d77\u63a5\u6536\uff09\uff1f","text":"<p>HTTP/1.1 \u5b58\u5728\u4e00\u4e2a\u95ee\u9898\uff0c\u5355\u4e2a TCP \u8fde\u63a5\u5728\u540c\u4e00\u65f6\u523b\u53ea\u80fd\u5904\u7406\u4e00\u4e2a\u8bf7\u6c42\uff0c\u610f\u601d\u662f\u8bf4\uff1a\u4e24\u4e2a\u8bf7\u6c42\u7684\u751f\u547d\u5468\u671f\u4e0d\u80fd\u91cd\u53e0\uff0c\u4efb\u610f\u4e24\u4e2a HTTP \u8bf7\u6c42\u4ece\u5f00\u59cb\u5230\u7ed3\u675f\u7684\u65f6\u95f4\u5728\u540c\u4e00\u4e2a TCP \u8fde\u63a5\u91cc\u4e0d\u80fd\u91cd\u53e0\u3002</p> <p>\u867d\u7136 HTTP/1.1 \u89c4\u8303\u4e2d\u89c4\u5b9a\u4e86 Pipelining \u6765\u8bd5\u56fe\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f46\u662f\u8fd9\u4e2a\u529f\u80fd\u5728\u6d4f\u89c8\u5668\u4e2d\u9ed8\u8ba4\u662f\u5173\u95ed\u7684\u3002</p> <p>Pipelining\uff08\u7ba1\u9053\uff09\uff1a\u4e00\u4e2a\u652f\u6301\u6301\u4e45\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\uff0c\u53ef\u4ee5\u5728\u4e00\u4e2a\u8fde\u63a5\u4e2d\uff0c\u53d1\u9001\u591a\u4e2a\u8bf7\u6c42\uff0c\u4e0d\u9700\u8981\u7b49\u5f85\u4efb\u610f\u8bf7\u6c42\u7684\u54cd\u5e94\u3002\u6536\u5230\u8bf7\u6c42\u7684\u670d\u52a1\u5668\uff0c\u5fc5\u987b\u6309\u7167\u8bf7\u6c42\u6536\u5230\u7684\u987a\u5e8f\uff0c\u53d1\u9001\u54cd\u5e94\u3002</p> <p>\u7531\u4e8e HTTP/1.1 \u662f\u4e2a\u6587\u672c\u534f\u8bae\uff0c\u540c\u65f6\u8fd4\u56de\u7684\u5185\u5bb9\u4e5f\u5e76\u4e0d\u80fd\u533a\u5206\u5bf9\u5e94\u4e8e\u54ea\u4e2a\u53d1\u9001\u7684\u8bf7\u6c42\uff0c\u6240\u4ee5\u987a\u5e8f\u5fc5\u987b\u7ef4\u6301\u4e00\u81f4\u3002\u6bd4\u5982\u4f60\u5411\u670d\u52a1\u5668\u53d1\u9001\u4e86\u4e24\u4e2a\u8bf7\u6c42 <code>GET /query?q=A</code> \u548c <code>GET /query?q=B</code>\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u4e86\u4e24\u4e2a\u7ed3\u679c\uff0c\u6d4f\u89c8\u5668\u662f\u6ca1\u6709\u529e\u6cd5\u6839\u636e\u54cd\u5e94\u7ed3\u679c\u6765\u5224\u65ad\u54cd\u5e94\u5bf9\u5e94\u4e8e\u54ea\u4e00\u4e2a\u8bf7\u6c42\u7684\u3002</p> <p>Pipelining \u8fd9\u79cd\u8bbe\u60f3\u770b\u8d77\u6765\u6bd4\u8f83\u7f8e\u597d\uff0c\u4f46\u662f\u5728\u5b9e\u8df5\u4e2d\u4f1a\u51fa\u73b0\u8bb8\u591a\u95ee\u9898\uff1a</p> <ul> <li>\u4e00\u4e9b\u4ee3\u7406\u670d\u52a1\u5668\u4e0d\u80fd\u6b63\u786e\u7684\u5904\u7406 HTTP Pipelining\u3002</li> <li> <p>\u6b63\u786e\u7684\u6d41\u6c34\u7ebf\u5b9e\u73b0\u662f\u590d\u6742\u7684\u3002</p> </li> <li> <p>Head-of-line Blocking \u8fde\u63a5\u5934\u963b\u585e\uff1a\u5728\u5efa\u7acb\u8d77\u4e00\u4e2a TCP \u8fde\u63a5\u4e4b\u540e\uff0c\u5047\u8bbe\u5ba2\u6237\u7aef\u5728\u8fd9\u4e2a\u8fde\u63a5\u8fde\u7eed\u5411\u670d\u52a1\u5668\u53d1\u9001\u4e86\u51e0\u4e2a\u8bf7\u6c42\u3002\u6309\u7167\u6807\u51c6\uff0c\u670d\u52a1\u5668\u5e94\u8be5\u6309\u7167\u6536\u5230\u8bf7\u6c42\u7684\u987a\u5e8f\u8fd4\u56de\u7ed3\u679c\uff0c\u5047\u8bbe\u670d\u52a1\u5668\u5728\u5904\u7406\u9996\u4e2a\u8bf7\u6c42\u65f6\u82b1\u8d39\u4e86\u5927\u91cf\u65f6\u95f4\uff0c\u90a3\u4e48\u540e\u9762\u6240\u6709\u7684\u8bf7\u6c42\u90fd\u9700\u8981\u7b49\u7740\u9996\u4e2a\u8bf7\u6c42\u7ed3\u675f\u624d\u80fd\u54cd\u5e94\u3002</p> </li> </ul> <p>\u6240\u4ee5\u73b0\u4ee3\u6d4f\u89c8\u5668\u9ed8\u8ba4\u662f\u4e0d\u5f00\u542f HTTP Pipelining \u7684\u3002</p> <p>\u4f46\u662f\uff0cHTTP2 \u63d0\u4f9b\u4e86 Multiplexing \u591a\u8def\u4f20\u8f93\u7279\u6027\uff0c\u53ef\u4ee5\u5728\u4e00\u4e2a TCP \u8fde\u63a5\u4e2d\u540c\u65f6\u5b8c\u6210\u591a\u4e2a HTTP \u8bf7\u6c42\u3002\u81f3\u4e8e Multiplexing \u5177\u4f53\u600e\u4e48\u5b9e\u73b0\u7684\u5c31\u662f\u53e6\u4e00\u4e2a\u95ee\u9898\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u770b\u4e00\u4e0b\u4f7f\u7528 HTTP2 \u7684\u6548\u679c\u3002</p> <p>\u7eff\u8272\u662f\u53d1\u8d77\u8bf7\u6c42\u5230\u8bf7\u6c42\u8fd4\u56de\u7684\u7b49\u5f85\u65f6\u95f4\uff0c\u84dd\u8272\u662f\u54cd\u5e94\u7684\u4e0b\u8f7d\u65f6\u95f4\uff0c\u53ef\u4ee5\u770b\u5230\u90fd\u662f\u5728\u540c\u4e00\u4e2a Connection\uff0c\u5e76\u884c\u5b8c\u6210\u7684\u3002</p> <p>\u95ee\u9898 3 \u7684\u7b54\u6848\uff1a</p> <ul> <li> <p>\u5728 HTTP/1.1 \u5b58\u5728 Pipelining \u6280\u672f\u53ef\u4ee5\u5b8c\u6210\u8fd9\u4e2a\u591a\u4e2a\u8bf7\u6c42\u540c\u65f6\u53d1\u9001\uff0c\u7531\u4e8e\u6d4f\u89c8\u5668\u9ed8\u8ba4\u5173\u95ed\uff0c\u6240\u4ee5\u4e0d\u53ef\u884c\u3002\u90a3\u6d4f\u89c8\u5668\u662f\u5982\u4f55\u63d0\u9ad8\u9875\u9762\u52a0\u8f7d\u6548\u7387\u7684\u5462\uff1f\u53ef\u4ee5\u7ef4\u6301\u548c\u670d\u52a1\u5668\u5df2\u7ecf\u5efa\u7acb\u7684 TCP \u8fde\u63a5\uff0c\u5728\u540c\u4e00\u8fde\u63a5\u4e0a\u987a\u5e8f\u5904\u7406\u591a\u4e2a\u8bf7\u6c42\uff08\u6d41\u6c34\u7ebf\u53d1\u9001\uff0c\u4e0d\u662f\u5e76\u884c\u53d1\u9001\uff09\uff0c\u6216\u8005\u548c\u670d\u52a1\u5668\u5efa\u7acb\u591a\u4e2a TCP \u8fde\u63a5\uff08\u670d\u52a1\u5668\u5e76\u884c\u538b\u529b\u5927\uff09\u3002</p> </li> <li> <p>\u5728 HTTP2 \u4e2d\u7531\u4e8e Multiplexing \u7279\u70b9\u7684\u5b58\u5728\uff0c\u591a\u4e2a HTTP \u8bf7\u6c42\u53ef\u4ee5\u5728\u540c\u4e00\u4e2a TCP \u8fde\u63a5\u4e2d\u5e76\u884c\u8fdb\u884c\u3002</p> </li> </ul>"},{"location":"network/%E4%B8%80%E4%B8%AA%20TCP%20%E8%BF%9E%E6%8E%A5%E4%B8%8A%E9%9D%A2%E8%83%BD%E5%8F%91%E5%A4%9A%E5%B0%91%E4%B8%AA%20HTTP%20%E8%AF%B7%E6%B1%82/#4-ssl","title":"4 \u4e3a\u4ec0\u4e48\u6709\u7684\u65f6\u5019\u5237\u65b0\u9875\u9762\u4e0d\u9700\u8981\u91cd\u65b0\u5efa\u7acb SSL \u8fde\u63a5\uff1f","text":"<p>TCP \u8fde\u63a5\uff0c\u6709\u65f6\u5019\u4f1a\u88ab\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u7aef\u7ef4\u6301\u4e00\u6bb5\u65f6\u95f4\uff0cTCP \u4e0d\u9700\u8981\u91cd\u65b0\u5efa\u7acb\uff0cSSL \u81ea\u7136\u4e5f\u4f1a\u7528\u4e4b\u524d\u7684\u3002</p>"},{"location":"network/%E4%B8%80%E4%B8%AA%20TCP%20%E8%BF%9E%E6%8E%A5%E4%B8%8A%E9%9D%A2%E8%83%BD%E5%8F%91%E5%A4%9A%E5%B0%91%E4%B8%AA%20HTTP%20%E8%AF%B7%E6%B1%82/#5-host-tcp","title":"5 \u6d4f\u89c8\u5668\u5bf9\u540c\u4e00 Host \u5efa\u7acb TCP \u8fde\u63a5\u5230\u6570\u91cf\u6709\u6ca1\u6709\u9650\u5236\uff1f","text":"<p>\u5047\u8bbe\u6211\u4eec\u8fd8\u5904\u5728 HTTP/1.1 \u65f6\u4ee3\uff0c\u6ca1\u6709\u591a\u8def\u4f20\u8f93\uff0c\u5f53\u6d4f\u89c8\u5668\u62ff\u5230\u4e00\u4e2a\u6709\u51e0\u5341\u5f20\u56fe\u7247\u7684\u7f51\u9875\u8be5\u600e\u4e48\u529e\u5462\uff1f\u80af\u5b9a\u4e0d\u80fd\u53ea\u5f00\u4e00\u4e2a TCP \u8fde\u63a5\u987a\u5e8f\u4e0b\u8f7d\uff0c\u90a3\u6837\u7528\u6237\u80af\u5b9a\u7b49\u7684\u5f88\u96be\u53d7\uff0c\u4f46\u662f\u5982\u679c\u6bcf\u4e2a\u56fe\u7247\u90fd\u5f00\u4e00\u4e2a TCP \u8fde\u63a5\u53d1 HTTP \u8bf7\u6c42\uff0c\u90a3\u7535\u8111\u6216\u8005\u670d\u52a1\u5668\u90fd\u53ef\u80fd\u53d7\u4e0d\u4e86\uff0c\u8981\u662f\u6709 1000 \u5f20\u56fe\u7247\u7684\u8bdd\u603b\u4e0d\u80fd\u5f00 1000 \u4e2a TCP \u8fde\u63a5\u5427\uff0c\u4f60\u7684\u7535\u8111\u540c\u610f NAT \u4e5f\u4e0d\u4e00\u5b9a\u4f1a\u540c\u610f\u3002</p> <p>\u6240\u4ee5\u7b54\u6848\uff1aChrome \u6700\u591a\u5141\u8bb8\u5bf9\u540c\u4e00\u4e2a Host \u5efa\u7acb\u516d\u4e2a TCP \u8fde\u63a5\u3002\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u6709\u4e00\u4e9b\u533a\u522b\u3002</p> <p>https://developers.google.com/web/tools/chrome-devtools/network/issues#queued-or-stalled-requestsdevelopers.google.com</p>"},{"location":"network/%E4%B8%80%E4%B8%AA%20TCP%20%E8%BF%9E%E6%8E%A5%E4%B8%8A%E9%9D%A2%E8%83%BD%E5%8F%91%E5%A4%9A%E5%B0%91%E4%B8%AA%20HTTP%20%E8%AF%B7%E6%B1%82/#6","title":"6 \u7efc\u5408\uff1a\u4e00\u4e2a\u7f51\u9875\u5982\u679c\u5305\u542b\u51e0\u5341\u4e2a\u56fe\u7247\u6807\u7b7e\uff0c\u8fd9\u4e9b\u56fe\u7247\u662f\u4ee5\u4ec0\u4e48\u65b9\u5f0f\u3001\u4ec0\u4e48\u987a\u5e8f\u3001\u5efa\u7acb\u4e86\u591a\u5c11\u8fde\u63a5\u3001\u4f7f\u7528\u4ec0\u4e48\u534f\u8bae\u88ab\u4e0b\u8f7d\u4e0b\u6765\u7684\u5462\uff1f","text":"<p>\u65b0\u6280\u672f\uff08HTTP 2 + SSL\uff09\uff1a\u5982\u679c\u56fe\u7247\u90fd\u662f HTTPS \u8fde\u63a5\uff0c\u5e76\u4e14\u5728\u540c\u4e00\u4e2a\u57df\u540d\u4e0b\uff0c\u90a3\u4e48\u6d4f\u89c8\u5668\u5728 SSL \u63e1\u624b\u4e4b\u540e\uff0c\u4f1a\u548c\u670d\u52a1\u5668\u5546\u91cf\u3002\u5982\u679c\u4f7f\u7528 HTTP2\uff0c\u5982\u679c\u80fd\u7684\u8bdd\u5c31\u4f7f\u7528 Multiplexing \u529f\u80fd\uff0c\u5728\u8fd9\u4e2a\u8fde\u63a5\u4e0a\uff0c\u8fdb\u884c\u591a\u8def\u4f20\u8f93\u3002\u4e0d\u8fc7\u6240\u6709\u6302\u5728\u8fd9\u4e2a\u57df\u540d\u7684\u8d44\u6e90\uff0c\u90fd\u4f1a\u4f7f\u7528\u4e00\u4e2a TCP \u8fde\u63a5\u53bb\u83b7\u53d6\uff0c\u4f46\u662f\u53ef\u4ee5\u786e\u5b9a\u7684\u662f Multiplexing \u5f88\u53ef\u80fd\u4f1a\u88ab\u7528\u5230\u3002</p> <p>\u65e7\u6280\u672f\uff08HTTP 1.1\uff09\uff1a\u5982\u679c\u53d1\u73b0\u7528\u4e0d\u4e86 HTTP2 \uff0c\u6216\u8005\u7528\u4e0d\u4e86 HTTPS\uff08\u73b0\u5b9e\u4e2d\u7684 HTTP2 \u90fd\u662f\u5728 HTTPS \u4e0a\u5b9e\u73b0\u7684\uff09\u6240\u4ee5\u4e5f\u5c31\u662f\u53ea\u80fd\u4f7f\u7528 HTTP/1.1\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u5728\u4e00\u4e2a HOST \u4e0a\u5efa\u7acb\u591a\u4e2a TCP \u8fde\u63a5\uff0c\u8fde\u63a5\u6570\u91cf\u7684\u6700\u5927\u9650\u5236\uff0c\u53d6\u51b3\u4e8e\u6d4f\u89c8\u5668\u8bbe\u7f6e\uff0c\u8fd9\u4e9b\u8fde\u63a5\u4f1a\u5728\u7a7a\u95f2\u7684\u65f6\u5019\uff0c\u88ab\u6d4f\u89c8\u5668\u7528\u6765\u53d1\u9001\u65b0\u7684\u8bf7\u6c42\uff0c\u5982\u679c\u6240\u6709\u7684\u8fde\u63a5\u90fd\u6b63\u5728\u53d1\u9001\u8bf7\u6c42\u5462\uff1f\u90a3\u5176\u4ed6\u7684\u8bf7\u6c42\u5c31\u53ea\u80fd\u7b49\u7b49\u4e86\u3002</p>"},{"location":"network/%E4%B8%80%E4%B8%AA%20TCP%20%E8%BF%9E%E6%8E%A5%E4%B8%8A%E9%9D%A2%E8%83%BD%E5%8F%91%E5%A4%9A%E5%B0%91%E4%B8%AA%20HTTP%20%E8%AF%B7%E6%B1%82/#_1","title":"\u4f8b\u9898","text":"<p>\u5982\u679c\u4e00\u4e2a\u7f51\u9875\u4e2d\u5305\u62ec\u4e24\u5f20\u56fe\u7247\uff08\u5904\u4e8e\u540c\u4e00\u53f0\u4e3b\u673a\uff09\uff0c\u90a3\u4e48\u9700\u8981\u591a\u5c11\u4e2a\u8bf7\u6c42\uff0c\u9700\u8981\u591a\u5c11\u65f6\u95f4\uff1f</p> <p>\u5728 HTTP 1.1 \u7684\u534f\u8bae\u4e2d\uff1a\u5148\u5efa\u7acb TCP \u8fde\u63a5\uff0c\u7136\u540e \u8bf7\u6c42 html \u6587\u4ef6\uff0c\u518d\u5206\u522b\u8bf7\u6c42\u4e24\u4e2a\u56fe\u7247\uff0c\u4e00\u5171 4 \u4e2a RTT\uff08\u5f80\u8fd4\u65f6\u95f4\uff09\u3002\u56e0\u4e3a TCP \u5df2\u7ecf\u5efa\u7acb\uff0c\u6240\u4ee5\u540e\u7eed\u56fe\u7247\u4f20\u8f93\u4e0d\u9700\u8981\u6bcf\u6b21\u90fd\u5efa\u7acb TCP \u8fde\u63a5\u3002\u8fd9\u91cc\u4e0d\u8003\u8651\u5728\u4e00\u4e2a HOST \u5efa\u7acb\u591a\u4e2a TCP \u7684\u60c5\u51b5\uff08\u8ba1\u7b97\u673a\u7f51\u7edc\u548c\u8003\u7814\u7684\u4e60\u9898\uff09\u3002</p>"},{"location":"network/%E4%B8%80%E4%B8%AA%20TCP%20%E8%BF%9E%E6%8E%A5%E4%B8%8A%E9%9D%A2%E8%83%BD%E5%8F%91%E5%A4%9A%E5%B0%91%E4%B8%AA%20HTTP%20%E8%AF%B7%E6%B1%82/#_2","title":"\u53c2\u8003\u94fe\u63a5","text":"<p>https://zhuanlan.zhihu.com/p/61423830</p> <p>\u6e56\u79d1\u5927\u8ba1\u7b97\u673a\u7f51\u7edc\u89c6\u9891</p>"},{"location":"network/%E5%89%8D%E7%AB%AF%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86/","title":"\u524d\u7aef\u9700\u8981\u4e86\u89e3\u7684\u8ba1\u7b97\u673a\u7f51\u7edc\u77e5\u8bc6","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 50397  \u9605\u8bfb101\u5206\u949f</p> <p>https://juejin.im/post/5e51febde51d4526c932b390</p> <p>\u56fe\u7247\u65e0\u6cd5\u76f4\u63a5\u52a0\u8f7d\uff0c\u6240\u4ee5\u8bf7\u67e5\u770b\u539f\u6587</p> <p>\u4e0a\u4e00\u7bc7\u8bb2\u4e86\u975e\u79d1\u73ed\u524d\u7aef\u9700\u8981\u638c\u63e1\u7684\u3001\u57fa\u672c\u7684\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u3002 \u8fd9\u7bc7\u5f00\u64b8\u8ba1\u7b97\u673a\u7f51\u7edc\u3002</p> <p>\u672c\u6587\u4e3b\u8981\u76ee\u7684\u4e5f\u662f\u4e3a\u4e86\u975e\u79d1\u73ed\u524d\u7aef\u8865\u5145\u8ba1\u7b97\u673a\u79d1\u73ed\u57fa\u7840\u77e5\u8bc6\uff0c\u6bd4\u5982\u4f60\u8981\u505anode\u5f00\u53d1\uff0c\u4e0d\u719f\u6089\u6570\u636e\u5982\u4f55\u5728\u7f51\u7edc\u4e2d\u4f20\u8f93\u7684\u8bdd\uff0c\u7406\u89e3\u5f88\u591aAPI\u4f1a\u6bd4\u8f83\u7591\u60d1\uff0c\u90a3\u63a5\u4e0b\u6765\uff0c\u6765\u770b\u770b\u8fd9\u7bc7\u4e3a\u4f60\u7cbe\u5fc3\u51c6\u5907\u7684\u6587\u7ae0\u5427\ud83d\ude01\uff01</p> <p>\u8fd9\u4e9b\u5185\u5bb9\u5176\u5b9e\u6bd4\u8f83\u67af\u71e5\uff0c\u4f46\u6211\u91c7\u53d6\u56fe\u6587\u5e76\u8302\u7684\u5f62\u5f0f\uff0c\u5e76\u4e14\u5bf9\u4e8e\u4e0d\u91cd\u8981\u7684\u77e5\u8bc6\u4f1a\u6807\u6ce8\uff0c\u5c3d\u91cf\u51cf\u5c11\u9605\u8bfb\u7684\u67af\u71e5\u611f\u3002\u5565\u4e5f\u4e0d\u8bf4\u4e86\uff0c\u559d\u53e3\u6c34\uff0c\u5f00\u64b8\uff01</p>"},{"location":"network/%E5%89%8D%E7%AB%AF%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86/#1","title":"1\u3001\u8ba1\u7b97\u673a\u7f51\u7edc\u6982\u5ff5","text":"<p>\u8ba1\u7b97\u673a\u7f51\u7edc\uff1a\u662f\u4e00\u4e2a\u5c06\u5206\u6563\u7684\u3001\u5177\u6709\u72ec\u7acb\u529f\u80fd\u7684\u8ba1\u7b97\u673a\u7cfb\u7edf\uff0c\u901a\u8fc7\u901a\u4fe1\u8bbe\u5907\u4e0e\u7ebf\u8def\u8fde\u63a5\u8d77\u6765\uff0c\u7531\u529f\u80fd\u5b8c\u5584\u7684\u8f6f\u4ef6\u5b9e\u73b0\u8d44\u6e90\u5171\u4eab\u548c\u4fe1\u606f\u4f20\u9012\u7684\u7cfb\u7edf\u3002</p> <p>\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6309\u5206\u5e03\u8303\u56f4\uff0c\u8ba1\u7b97\u673a\u7f51\u7edc\u91cc\u6709\u5c40\u57df\u7f51LAN\u548c\u5e7f\u57df\u7f51WAN, \u5176\u4e2d\u5c40\u57df\u7f51\u7684\u4ee3\u8868\u4ee5\u592a\u7f51\uff0c\u4ee5\u53ca\u8fd9\u4e24\u79cd\u7f51\u7edc\u6700\u91cd\u8981\u7684\u533a\u5206\u70b9\uff0c\u5c40\u57df\u7f51\u57fa\u4e8e\u5e7f\u64ad\u6280\u672f\uff0c\u5e7f\u57df\u7f51\u57fa\u4e8e\u5206\u7ec4\u4ea4\u6362\u6280\u672f\u3002\uff08\u8fd9\u4e9b\u6982\u5ff5\u542c\u4e00\u4e0b\u5c31\u884c\uff0c\u540e\u9762\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u56e0\u4e3a\u7406\u89e3\u5e7f\u64ad\u548c\u5206\u7ec4\u4ea4\u6362\u6280\u672f\uff0c\u5927\u4f53\u4e0a\u5c31\u7406\u89e3\u4e86\u5c40\u57df\u7f51\u548c\u5e7f\u57df\u7f51\uff09</p>"},{"location":"network/%E5%89%8D%E7%AB%AF%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86/#2","title":"2\u3001\u8861\u91cf\u8ba1\u7b97\u673a\u7f51\u7edc\u7684\u6027\u80fd\u7684\u6307\u6807","text":"<p>\u8fd9\u4e9b\u5185\u5bb9\u4e3b\u8981\u662f\u4e3a\u4e86\u5b66\u4e60\u540e\u9762\u5177\u4f53\u7684\u534f\u8bae\uff0c\u4ee5\u53ca\u5206\u6790\u8fd9\u4e9b\u534f\u8bae\u7684\u62a5\u6587\u65f6\uff0c\u9700\u8981\u638c\u63e1\u7684\u57fa\u672c\u6982\u5ff5\u3002</p> <p>2.1 \u901f\u7387</p> <p>\u901f\u7387\u5c31\u662f\u6570\u636e\u4f20\u8f93\uff08\u6570\u636e\u662f\u63070\u548c1\uff09\u7684\u901f\u7387\uff0c\u6bd4\u5982\u4f60\u7528\u8fc5\u96f7\u4e0b\u8f7d\uff0c1\u5146\u6bcf\u79d2\uff0c\u6765\u8861\u91cf\u76ee\u524d\u6570\u636e\u4f20\u8f93\u7684\u5feb\u6162\u3002\u5b83\u662f\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\u6700\u91cd\u8981\u7684\u4e00\u4e2a\u6027\u80fd\u6307\u6807\u3002</p> <p>2.2 \u5e26\u5bbd</p> <p>\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\uff0c\u7f51\u7edc\u5e26\u5bbd\u662f\u6307\u5728\u5355\u4f4d\u65f6\u95f4\uff08\u4e00\u822c\u6307\u7684\u662f1\u79d2\u949f\uff09\u5185\u80fd\u4f20\u8f93\u7684\u6570\u636e\u91cf\uff0c\u6bd4\u5982\u8bf4\u4f60\u5bb6\u7684\u7535\u4fe1\u7f51\u7edc\u662f100\u5146\u6bd4\u7279\uff0c\u610f\u601d\u662f\uff0c\u4e00\u79d2\u5185\u6700\u5927\u7684\u4f20\u8f93\u901f\u7387\u662f100\u5146\u6bd4\u7279\u3002</p> <p>2.3 \u541e\u5410\u91cf</p> <p>\u541e\u5410\u91cf\u8868\u793a\u5728\u5355\u4f4d\u65f6\u95f4\u5185\u901a\u8fc7\u67d0\u4e2a\u7f51\u7edc\uff08\u6216\u4fe1\u9053\u3001\u63a5\u53e3\uff09\u7684\u6570\u636e\u91cf\u3002</p> <p>\u4ee5\u4e0a\u4e09\u70b9\uff0c\u6211\u4eec\u4e3e\u4e2a\u6848\u4f8b</p> <p>\u4e00\u6761\u8def\u6bcf\u79d2\u6700\u591a\u80fd\u8fc7100\u8f86\u8f66\uff08\u5bbd\u5e26\u5c31\u76f8\u5f53\u4e8e100\u8f86/\u79d2\uff09\u3002 \u800c\u5e76\u4e0d\u662f\u6bcf\u79d2\u90fd\u4f1a\u6709100\u8f86\u8f66\u8fc7\uff0c\u5047\u5982\u7b2c\u4e00\u79d2\u67090\u8f86\uff0c\u7b2c\u4e8c\u79d2\u670910\u8f86...\uff0c\uff08\u4f46\u662f\u6700\u591a\u4e0d\u80fd\u8d85\u8fc7100\u8f86\uff09\u3002 \u6240\u4ee5\u6709\u7b2c1\u79d20\u8f86/\u79d2\uff0c\u7b2c2\u79d210\u8f86/\u79d2\uff0c\u7b2c3\u79d230\u8f86/\u79d2\uff0c\u8fd9\u4e0d\u80fd\u8bf4\u5e26\u5bbd\u591a\u5c11\u5427\uff0c\u4e8e\u662f\u5c31\u7528\u541e\u5410\u91cf\u8868\u793a\u5177\u4f53\u65f6\u95f4\u901a\u8fc7\u7684\u91cf\u6709\u591a\u5c11\uff08\u4e5f\u6709\u53ef\u80fd\u7b49\u4e8e\u5e26\u5bbd\u7684\u91cf\uff09\u3002 \u7531\u6b64\u53ef\u77e5\u5e26\u5bbd\u662f\u8bf4\u7684\u662f\u6700\u5927\u503c\u901f\u7387\uff0c\u541e\u5410\u91cf\u8bf4\u7684\u662f\u67d0\u65f6\u523b\u901f\u7387\u3002\u4f46\u541e\u5410\u91cf\u4e0d\u80fd\u8d85\u8fc7\u6700\u5927\u901f\u7387\u3002 2.4 \u65f6\u5ef6</p> <p>\u65f6\u5ef6\u662f\u6307\u6570\u636e\uff08\u62a5\u6587/\u5206\u7ec4/\u6bd4\u7279\u6d41\uff09\u4ece\u7f51\u7edc\uff08\u6216\u94fe\u8def\uff09\u7684\u4e00\u7aef\u4f20\u9001\u5230\u53e6\u4e00\u7aef\u6240\u9700\u7684\u65f6\u95f4\u3002\u5355\u4f4d\u662fs\u3002 \u65f6\u5ef6\u5206\u4e00\u4e0b\u51e0\u79cd\uff1a</p> <p>\uff081\uff09\u53d1\u9001\u65f6\u5ef6</p> <p>\u5c31\u662f\u8bf4\u6211\u8ddf\u4f60\u8bf4\u8bdd\uff0c\u4ece\u6211\u5f00\u59cb\u8bf4\uff0c\u5230\u8bf4\u8bdd\u7ed3\u675f\u8fd9\u6bb5\u65f6\u95f4\uff0c\u5c31\u662f\u53d1\u9001\u65f6\u5ef6\u3002</p> <p>\uff082\uff09\u4f20\u64ad\u65f6\u5ef6</p> <p>\u5982gif\u56fe\u6240\u793a\uff0c\u4fe1\u9053\u4e0a\u7b2c\u4e00\u4e2a\u6bd4\u7279\u5f00\u59cb\uff0c\u5230\u6700\u540e\u4e00\u4e2a\u6bd4\u7279\u8fbe\u5230\u4e3b\u673a\u63a5\u53e3\u9700\u8981\u7684\u65f6\u95f4\u5c31\u662f\u4f20\u64ad\u65f6\u5ef6\u3002</p> <p>\uff083\uff09\u6392\u961f\u65f6\u5ef6</p> <p>\u5206\u7ec4\u5728\u7ecf\u8fc7\u7f51\u7edc\u4f20\u8f93\u65f6\uff0c\u8981\u7ecf\u8fc7\u5f88\u591a\u7684\u8def\u7531\u5668\u3002</p> <p>\u4f46\u5206\u7ec4\u5728\u8fdb\u5165\u8def\u7531\u5668\u540e\u8981\u5148\u5728\u8f93\u5165\u961f\u5217\u4e2d\u6392\u961f\u7b49\u5f85\u5904\u7406\u3002</p> <p>\u5728\u8def\u7531\u5668\u786e\u5b9a\u4e86\u8f6c\u53d1\u63a5\u53e3\u540e\uff0c\u8fd8\u8981\u5728\u8f93\u51fa\u961f\u5217\u4e2d\u6392\u961f\u7b49\u5f85\u8f6c\u53d1\uff0c\u8fd9\u5c31\u4ea7\u751f\u4e86\u6392\u961f\u65f6\u5ef6\u3002</p> <p>\u6392\u961f\u65f6\u5ef6\u7684\u957f\u77ed\u5f80\u5f80\u5374\u51b3\u4e8e\u7f51\u7edc\u5f53\u65f6\u7684\u901a\u4fe1\u91cf\uff0c\u5f53\u7f51\u7edc\u7684\u901a\u4fe1\u91cf\u5f88\u5927\u65f6\u4f1a\u53d1\u751f\u6392\u961f\u6ea2\u51fa\uff0c\u662f\u5206\u7ec4\u4e22\u5931\u3002</p> <p>\uff084\uff09\u5904\u7406\u65f6\u5ef6</p> <p>\u8def\u7531\u5668\u6216\u4e3b\u673a\u5728\u6536\u5230\u6570\u636e\u5305\u65f6\uff0c\u8981\u82b1\u8d39\u4e00\u5b9a\u65f6\u95f4\u8fdb\u884c\u5904\u7406\uff0c\u4f8b\u5982\u5206\u6790\u6570\u636e\u5305\u7684\u9996\u90e8\u3001\u8fdb\u884c\u9996\u90e8\u5dee\u9519\u68c0\u9a8c\uff0c\u67e5\u627e\u8def\u7531\u8868\u4e3a\u6570\u636e\u5305\u9009\u5b9a\u51c6\u53d1\u63a5\u53e3\uff0c\u8fd9\u5c31\u4ea7\u751f\u4e86\u5904\u7406\u65f6\u5ef6\u3002</p> <p>\uff085\uff09\u5f80\u8fd4\u65f6\u95f4\uff08RTT\uff09</p> <p>\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\uff0c\u5f80\u8fd4\u65f6\u95f4\u4e5f\u662f\u4e00\u4e2a\u91cd\u8981\u7684\u6027\u80fd\u6307\u6807\uff0c\u5b83\u8868\u793a\u4ece\u53d1\u9001\u65b9\u53d1\u9001\u6570\u636e\u5f00\u59cb\uff0c\u5230\u53d1\u9001\u65b9\u6536\u5230\u6765\u81ea\u63a5\u6536\u65b9\u7684\u786e\u8ba4\uff08\u63a5\u53d7\u65b9\u6536\u5230\u6570\u636e\u540e\u4fbf\u7acb\u5373\u53d1\u9001\u786e\u8ba4\uff09\u603b\u5171\u7ecf\u5386\u7684\u65f6\u95f4</p> <p>\uff086\uff09\u65f6\u5ef6\u5e26\u5bbd\u79ef</p> <p>\u662f\u6307\u4f20\u64ad\u65f6\u5ef6\u4e58\u4ee5\u5e26\u5bbd</p>"},{"location":"network/%E5%89%8D%E7%AB%AF%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86/#3osi","title":"3\u3001\u6b63\u6587\u5f00\u59cb\uff01OSI\u53c2\u8003\u6a21\u578b","text":"<p>OSI\u53c2\u8003\u6a21\u578b\u662f\u7f51\u7edc\u4e92\u8fde\u7684\u4e03\u5c42\u6846\u67b6, \u8fd9\u91cc\u4e0d\u8be6\u7ec6\u4ecb\u7ecd\u4e86\uff0c\u6bcf\u4e00\u5c42\u7684\u5177\u4f53\u5185\u5bb9\u4f1a\u5728\u540e\u9762\u4ecb\u7ecd\uff0c\u8fd9\u91cc\u53ea\u9700\u8981\u6709\u4e00\u4e2a\u521d\u6b65\u7684\u5370\u8c61\u3002</p> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff0c1\uff0c2\uff0c3\u5c42\u4e3b\u8981\u662f\u662f\u7269\u7406\u94fe\u8def\u7ec4\u6210\u7684\uff0c\u6bd4\u5982\u5149\u7ea4\uff0c\u8def\u7531\u5668\uff0c\u96c6\u7ebf\u5668\uff0c\u4e3b\u8981\u8d1f\u8d23\u7684\u662f\u6570\u636e\u901a\u4fe1\u30025\uff0c6\uff0c7\u5c42\u662f\u8f6f\u4ef6\u63a7\u5236\u7684\uff0c\u6bd4\u5982http\u534f\u8bae\uff0c\u662f\u4e00\u79cd\u8f6f\u4ef6\u5c42\u9762\u63a7\u5236\u7684\u534f\u8bae\uff0c\u4e3b\u8981\u8d1f\u8d23\u5904\u7406\u4f20\u8f93\u6765\u7684\u6570\u636e\u3002</p>"},{"location":"network/%E5%89%8D%E7%AB%AF%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86/#4","title":"4\u3001\u7269\u7406\u5c42","text":"<p>4.1 \u7269\u7406\u5c42\u6709\u5565\u7528\uff1f</p> <p>\u5bf9\u4e8e\u7269\u7406\u5c42\uff0c\u6709\u4eba\u4f1a\u8bf4\uff0c\u8fd9\u4e0d\u5c31\u662f\u7f51\u7ebf\u5417\uff0c\u6bd4\u5982\u5bb6\u91cc\u8fde\u63a5\u8def\u7531\u5668\u7684\u7f51\u7ebf\uff0c\u7535\u7ebf\u6746\u4e0a\u7684\u5149\u7ea4\uff1f\u5176\u5b9e\u4e0d\u7136\uff0c\u7269\u7406\u5c42\u66f4\u591a\u7684\u662f\u89c4\u5b9a\u4e00\u79cd\u6807\u51c6\uff0c\u4ed6\u5e76\u4e0d\u7ba1\u7269\u7406\u4ecb\u8d28\u5177\u4f53\u662f\u4ec0\u4e48\uff0c\u6bd4\u5982\u7535\u7ebf\u6746\u4e0a\u662f\u5149\u7ea4\u8fd8\u662f\u53cc\u7ede\u7ebf\uff0c\u53ea\u8981\u4f60\u80fd\u6309\u7269\u7406\u5c42\u89c4\u5b9a\u7684\u6807\u51c6\u4f20\u8f93\u6570\u636e\u5c31\u884c\u3002</p> <p>\u90a3\u7269\u7406\u5c42\u5230\u5e95\u6709\u54ea\u4e9b\u4e3b\u8981\u4efb\u52a1\u5462\uff1f</p> <p>\u6bd4\u5982\u8bf4\uff0c\u89c4\u5b9a\u4e86\u7535\u6c14\u7279\u6027\uff0c\u4fe1\u53f7\u7684\u7535\u5e73\u7528+10V - +15V\u8868\u793a\u4e8c\u8fdb\u5236\u76840\uff0c\u7528-10V - -15V\u8868\u793a\u4e8c\u8fdb\u5236\u76841\uff0c\u53ea\u8981\u6761\u7f51\u7ebf\u80fd\u8868\u793a\u8fd9\u4e2a\u7279\u6027\uff0c\u5c31\u4e0d\u7ba1\u4f60\u7528\u4ec0\u4e48\u6750\u6599\u4e86\u3002 \u5f53\u7136\u8fd8\u6709\u5176\u5b83\u7279\u6027\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u4e86\u89e3\uff0c\u77e5\u9053\u7269\u7406\u5c42\u662f\u89c4\u5b9a\u4f20\u8f93\u5a92\u4f53\u63a5\u53e3\u7684\u6807\u51c6\u5373\u53ef\u3002 4.2 \u5149\u7ea4\u5bbd\u5e26\u4e0a\u7f51\u662f\u4ee5\u4ec0\u4e48\u6837\u7684\u5f62\u5f0f\u4f20\u8f93\u6570\u636e\u5462\uff1f \u9996\u5148\u8ba1\u7b97\u673a\u7f51\u5361\u4f20\u8f93\u51fa\u6765\u7684\u6570\u636e\u662f\u7535\u4fe1\u53f7\uff0c\u5149\u7ea4\u4f20\u8f93\u7684\u662f\u5149\u8109\u51b2\u4fe1\u53f7\uff0c\u6709\u5149\u8109\u51b2\u8868\u793a1\uff0c\u65e0\u5149\u8109\u51b2\u8868\u793a0\u3002 \u800c\u53ef\u89c1\u5149\u7684\u9891\u7387\u5927\u7ea6\u662f10\u76848\u6b21\u65b9MHz\uff0c\u56e0\u6b64\u5149\u7ea4\u901a\u4fe1\u7cfb\u7edf\u7684\u5e26\u5bbd\u8fdc\u8fdc\u5927\u4e8e\u5176\u5b83\u5404\u79cd\u4f20\u8f93\u5a92\u4f53\u7684\u5e26\u5bbd \u6240\u4ee5\u6211\u4eec\u8ba1\u7b97\u673a\u4f20\u8f93\u6570\u636e\u9700\u8981\u5148\u628a\u7535\u4fe1\u53f7\u8f6c\u4e3a\u5149\u4fe1\u53f7\uff0c\u7136\u540e\u5149\u4fe1\u53f7\u5feb\u5230\u670d\u52a1\u5668\u7684\u65f6\u5019\uff0c\u518d\u628a\u5149\u4fe1\u53f7\u8f6c\u4e3a\u7535\u4fe1\u53f7\u3002 4.3 \u7269\u7406\u5c42\u8bbe\u5907\u4e2d\u7ee7\u5668</p> <p>\u4e3a\u4ec0\u4e48\u9700\u8981\u4e2d\u7ee7\u5668\u5462\uff1f</p> <p>\u56e0\u4e3a\u518d\u7ebf\u8def\u4e0a\u4f20\u8f93\u7684\u4fe1\u53f7\u529f\u7387\u4f1a\u9010\u6e10\u8870\u51cf\uff0c\u8870\u51cf\u5230\u4e00\u5b9a\u7a0b\u5ea6\u65f6\u5c06\u9020\u6210\u4fe1\u53f7\u5931\u771f\uff0c\u56e0\u6b64\u4f1a\u5bfc\u81f4\u63a5\u6536\u9519\u8bef\u3002</p> <p>\u4e2d\u7ee7\u5668\u53ef\u4ee5\u5bf9\u4fe1\u53f7\u8fdb\u884c\u518d\u751f\u548c\u8fd8\u539f\uff0c\u589e\u52a0\u4fe1\u53f7\u7684\u4f20\u8f93\u8ddd\u79bb\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e2d\u7ee7\u5668\u4e24\u7aef\u8fde\u63a5\u4e0d\u540c\u7684\u7f51\u6bb5\uff0c\u800c\u4e0d\u662f\u5b50\u7f51\u3002\u4ec0\u4e48\u53eb\u4e0d\u540c\u7684\u7f51\u6bb5\u5462\uff0c\u9700\u8981\u5728\u7f51\u7edc\u5c42\u5b66\u4e60IP\u5206\u7c7b\u4e4b\u540e\u624d\u80fd\u591f\u7406\u89e3\u8fd9\u4e2a\u6982\u5ff5\uff0c\u8fd9\u91cc\u7b80\u5355\u7684\u7406\u89e3\u4e3a\uff0c\u4e0d\u540c\u7684\u7f51\u6bb5\u5c31\u662f\u4e0d\u540c\u8def\u7531\u5668\u8fde\u63a5\u7684\u7f51\u7edc\u3002</p> <p>\u4f60\u80fd\u770b\u5b8c\u4e0a\u9762\u8fd9\u4e48\u591a\u6982\u5ff5\u4e5f\u771f\u662f\u4e0d\u5bb9\u6613\uff0c\u559d\u53e3\u6c34\uff0c\u548b\u4eec\u7ee7\u7eed\uff01</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u8fdb\u5165\u4e0b\u4e00\u5c42\uff0c\u6570\u636e\u94fe\u8def\u5c42\uff01</p>"},{"location":"network/%E5%89%8D%E7%AB%AF%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86/#5","title":"5\u3001\u6570\u636e\u94fe\u8def\u5c42","text":"<p>5.1 \u6570\u636e\u94fe\u8def\u5c42\u662f\u505a\u4ec0\u4e48\u7684\u5462\uff1f</p> <p>\u6211\u4eec\u7528\u4e00\u4e2a\u5c0f\u6545\u4e8b\u6765\u4e3e\u4f8b</p> <p>\u7f51\u7edc\u5c42\u662f\u4e2a\u5927Boss\uff0c \u8d1f\u8d23\u7ed9\u6570\u636e\u94fe\u8def\u5c42\u8fd9\u4e2a\u5c0f\u79d8\u4e66\u4e0b\u8fbe\u4efb\u52a1\uff0c\u8ba9\u5c0f\u79d8\u628a5\u4efd\u6587\u4ef6\u7ed9B\u516c\u53f8\uff0c\u5c0f\u79d8\u5462\uff0c\u5c31\u627e\u9001\u5feb\u9012\u7269\u7406\u5c42\u53bb\u505a\u8fd9\u4e2a\u4e8b \u4f46\u7269\u7406\u5c42\u662f\u4e2a\u50bb\u5b50\uff0c\u4ed6\u53ea\u77e5\u9053\u62ff\u8d77\u6587\u4ef6\u5c31\u98de\u5954\u5230B\u516c\u53f8\uff0c\u4e2d\u95f4\u4e22\u6ca1\u4e22\u4e1c\u897f\u4e5f\u4e0d\u6e05\u695a\uff0c\u6240\u4ee5\u6570\u636e\u94fe\u8def\u5c42\u8fd9\u4e2a\u5c0f\u79d8\u4e66\u5fc5\u987b\u5fc3\u91cc\u6709\u5e95\uff0c\u4e00\u5171\u9001\u4e865\u4e2a\u6587\u4ef6\uff0c\u5e76\u4e14\u5199\u5230\u4e86\u5feb\u9012\u5916\u5c42\u3002B\u516c\u53f8\u5c0f\u79d8\u5728\u62ff\u5230\u50bb\u5b50\u9001\u5230\u7684\u6587\u4ef6\u65f6\uff0c\u5c31\u8981\u770b\u770b\u5230\u5e95\u6709\u6ca1\u6709\u6587\u4ef6\u4e22\u4e86\uff0c\u5982\u679c\u4e22\u4e86\u5c31\u8981\u8ba9\u50bb\u5b50\u56de\u53bb\u91cd\u65b0\u62ff\u4e22\u5230\u7684\u6587\u4ef6\u3002 \u4ece\u8fd9\u4e2a\u6545\u4e8b\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u603b\u7ed3\u4e0b\u6570\u636e\u94fe\u8def\u5c42\u4e3b\u8981\u529f\u80fd 5.2 \u6570\u636e\u94fe\u8def\u5c42\u7684\u4e3b\u8981\u529f\u80fd</p> <p>(1) \u5c01\u88c5\u6210\u5e27 \u6570\u636e\u94fe\u8def\u5c42\u5e76\u4e0d\u662f\u65e0\u8111\u8f6c\u53d1boss\u7684\u4fe1\u606f\uff0c\u5979\u8981\u628a\u6587\u4ef6\u7f16\u53f7\u5c01\u88c5\u4e00\u4e0b\u3002\u5c01\u88c5\u7684\u7f51\u7edc\u6570\u636e\u5305\uff0c\u5728\u94fe\u8def\u5c42\u5c31\u53eb\u6570\u636e\u5e27\u3002</p> <p>(2)\u900f\u660e\u4f20\u8f93</p> <p>\u900f\u660e\u4f20\u8f93\u662f\u6307\u4e0d\u7ba1boss\u4e0b\u8fbe\u7684\u4efb\u4f55\u4fe1\u606f\uff0c\u6bd4\u5982\u6587\u4ef6\u91cc\u6709\u88c1\u6389\u8fd9\u4e2a\u79d8\u4e66\u7684\u4fe1\u606f\uff0c\u79d8\u4e66\u90fd\u8981\u539f\u539f\u672c\u672c\u7684\u4f20\u8f93\u3002\u5e27\u7684\u6570\u636e\u90e8\u5206\u53ef\u80fd\u6709\u8ddf\u5e27\u9996\u90e8\u5b8c\u5168\u4e00\u6837\u7684\u5b57\u7b26\uff0c\u8fd9\u65f6\u5019\u5c31\u8981\u91c7\u53d6\u4e00\u5b9a\u7684\u63aa\u65bd\uff0c\u8ba9\u63a5\u53d7\u65b9\u4e0d\u8981\u88ab\u88ab\u8bef\u5bfc\uff0c\u80fd\u8ba9\u63a5\u6536\u65b9\u77e5\u9053\u54ea\u4e9b\u662f\u5e27\u7684\u9996\u90e8\u54ea\u4e9b\u662f\u5e27\u7684\u6570\u636e\u3002\u8fd9\u4e2a\u95ee\u9898\u6709\u6ca1\u6709\u7c7b\u4f3cjs\u7684\u8f6c\u4e49\u5b57\u7b26\u7684\u95ee\u9898\uff0c\u6bd4\u5982\u5b57\u7b26\u4e32\u5230\u5e95\u662f\u6307div\u6807\u7b7e\u5462\uff0c\u8fd8\u662fdiv\u5b57\u7b26\u4e32\u5462\uff1f <p>(3)\u5dee\u9519\u63a7\u5236</p> <p>\u5dee\u9519\u63a7\u5236\u662f\u5728\u6587\u4ef6\u9001\u5230B\u516c\u53f8\u5c0f\u79d8\u4e66\u624b\u91cc\u7684\u65f6\u5019\uff0c\u5feb\u9012\u5305\u4e0a\u5199\u77405\u4e2a\u6587\u4ef6\uff0c\u79d8\u4e66\u4e00\u770b\u53ea\u67093\u4e2a\u6587\u4ef6\uff0c\u5c31\u4f1a\u8ba9\u50bb\u5b50\u91cd\u65b0\u53d1\u9001\u6709\u6ca1\u6709\u9001\u5230\u7684\u6587\u4ef6\u3002\u5dee\u9519\u63a7\u5236\u7684\u65b9\u6cd5\u6709CRC\u5faa\u73af\u5197\u4f59\u7801\uff0c\u8fd9\u4e2a\u5c31\u4e0d\u7ec6\u8bb2\u4e86\uff0c\u6211\u81ea\u5df1\u4e5f\u4e0d\u751a\u4e86\u89e3\uff0c\u53ea\u77e5\u9053\u94fe\u8def\u5c42\u7684\u5e27\uff0c\u4f1a\u6709\u4e00\u4e2aFCS\u4f4d\u7559\u7ed9\u8fd9\u4e2a\u7801\uff0c\u7528\u6765\u5224\u65ad\u4e00\u4e2a\u5e27\u662f\u5426\u51fa\u9519\u3002</p> <p>(4)\u5dee\u9519\u7ea0\u6b63</p> <p>\u5dee\u9519\u7ea0\u6b63\u662f\u94fe\u8def\u5c42\u77e5\u90531\uff0c2\uff0c3\uff0c4\uff0c5\u4e2a\u6587\u4ef6\uff0c\u4e22\u5931\u7684\u4e24\u4e2a\u6587\u4ef6\u5230\u5e95\u662f\u54ea\u4e24\u4e2a\uff0c\u5e76\u4e14\u80fd\u901a\u8fc7\u91cd\u65b0\u53d1\u9001\u6ca1\u6709\u7684\u6587\u4ef6\u6765\u7ea0\u6b63\u3002</p> <p>\u8fd8\u6709\u4e00\u4e9b\u662f\u6545\u4e8b\u91cc\u6ca1\u6709\u63d0\u5230\u7684\u6570\u636e\u94fe\u8def\u5c42\u7684\u529f\u80fd\uff0c\u6bd4\u5982\uff1a</p> <p>(5)\u6d41\u91cf\u63a7\u5236 \u6bd4\u5982\u8bf4\u53d1\u9001\u65b9\u53d1\u9001\u901f\u5ea6\u7279\u522b\u5feb\uff0c\u63a5\u6536\u65b9\u63a5\u6536\u901f\u5ea6\u7279\u522b\u6162\uff0c\u4f1a\u9020\u6210\u4f20\u8f93\u51fa\u9519\u3002</p> <p>\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4f20\u8f93\u5c42TCP\u4e5f\u6709\u6d41\u91cf\u63a7\u5236\u529f\u80fd\uff0c\u533a\u522b\u5728\u4e8eTCP\u662f\u7aef\u5230\u7aef\u7684\u6d41\u91cf\u63a7\u5236\uff0c\u94fe\u8def\u5c42\u662f\u70b9\u5230\u70b9\uff08\u6bd4\u5982\u4e00\u4e2a\u8def\u7531\u5668\u5230\u4e0b\u4e00\u4e2a\u8def\u7531\u5668\uff09</p> <p>\u6d41\u91cf\u63a7\u5236\u7684\u65b9\u6cd5\u6709\u6ed1\u52a8\u7a97\u53e3\u534f\u8bae\uff0c\u4ee5\u53ca\u9009\u62e9\u91cd\u4f20\u534f\u8bae\uff0c\u8fd9\u4e24\u4e2a\u7559\u5728\u8bb2TCP\u7684\u65f6\u5019\u8bb2\u3002\u63a5\u4e0b\u6765\u8bb2\u4e00\u4e0b\u4ee5\u592a\u7f51\uff0c\u4ee5\u592a\u7f51\u662f\u76ee\u524d\u6700\u5e38\u89c1\u7684\u5c40\u57df\u7f51\u6280\u672f\u3002\u5bf9\u4e8e\u6211\u4eec\u7406\u89e3\u5c40\u57df\u7f51\u6bd4\u8f83\u6709\u5e2e\u52a9\u3002</p>"},{"location":"network/%E5%89%8D%E7%AB%AF%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86/#6","title":"6 \u4ee5\u592a\u7f51\u548c\u65e0\u7ebf\u7f51","text":"<p>\u4ee5\u592a\u7f51\u662f\u4e00\u79cd\u5c40\u57df\u7f51\u6280\u672f\uff0c\u5176\u89c4\u5b9a\u4e86\u8bbf\u95ee\u63a7\u5236\u65b9\u6cd5\u3001\u4f20\u8f93\u63a7\u5236\u534f\u8bae\u3001\u7f51\u7edc\u62d3\u6251\u7ed3\u6784\u3001\u4f20\u8f93\u901f\u7387\u7b49\uff0c\u5b8c\u6210\u6570\u636e\u94fe\u8def\u5c42\u548c\u7269\u7406\u5c42\u7684\u4e00\u4e9b\u5185\u5bb9\uff0c\u5b83\u91c7\u7528\u4e00\u79cd\u79f0\u4f5cCSMA/CD\u7684\u5a92\u4f53\u63a5\u5165\u65b9\u6cd5\uff08\u540e\u9762\u4f1a\u4ecb\u7ecd\uff09\uff0c\u53e6\u5916\u7684\u4e00\u4e9b\u5c40\u57df\u7f51\u6280\u672f\uff0c\u6bd4\u5982\u65e0\u7ebf\u5c40\u57df\u7f51\u7b49\u3002</p> <p>6.1 \u4ee5\u592a\u7f51\u7684\u5e27\u683c\u5f0f</p> <p>\u5176\u4e2d\u76ee\u7684\u5730\u5740\u548c\u6e90\u5730\u5740\u6307\u7684\u662fMAC\u5730\u5740\uff0c\u5373\u8bbe\u5907\u7684\u7269\u7406\u5730\u5740\u3002MAC\u5730\u5740\u7528\u4e8e\u6807\u793a\u7f51\u5361\uff0c\u6bcf\u4e2a\u7f51\u5361\u90fd\u5177\u6709\u552f\u4e00\u7684MAC \u5730\u5740 \u5f53\u5728\u540c\u4e00\u4e2a\u5c40\u57df\u7f51\u4e2d\uff0c\u4e3b\u673aA\u9700\u8981\u7ed9\u4e3b\u673aB\u53d1\u9001\u6d88\u606f\u65f6\uff0c\u4e3b\u673aA\u5c06\u4ee5\u592a\u7f51\u5e27\u53d1\u51fa\uff0c\u6b64\u65f6\u5c40\u57df\u7f51\u4e2d\u6240\u6709\u4e3b\u673a\u5747\u53ef\u6536\u5230\u8fd9\u4e2a\u6862\uff0c\u4e3b\u673a\u4e2d\u7684\u7f51\u5361\u63a5\u6536\u5230\u4ee5\u592a\u7f51\u6862\u540e\uff0c\u4f1a\u5c06\u76ee\u7684MAC\u5730\u5740\u548c\u81ea\u5df1\u7684MAC\u5730\u5740\u8fdb\u884c\u6bd4\u8f83,\u5982\u679c\u4e0d\u76f8\u540c\u5c31\u4f1a\u4e22\u5f03\uff0c\u5982\u679c\u76f8\u540c\u5219\u4f1a\u63a5\u6536\uff0c\u6b64\u65f6\u5219\uff22\u4e3b\u673a\u5c31\u6536\u5230\u4e86\uff21\u7684\u6d88\u606f\u3002 \u5176\u6700\u540e\u9762\u662fCRC\u5faa\u73af\u5197\u4f59\u7801\uff0c\u7528\u4e8e\u5dee\u9519\u63a7\u5236\uff0c\u5373\u68c0\u9a8c\u5e27\u7684\u6b63\u786e\u6027 \u5728\u4ee5\u592a\u7f51\u534f\u8bae\u4e2d\uff0c\u76ee\u7684\u5730\u5740\u5206\u4e3a\u4e09\u79cd\u5355\u64ad\u5730\u5740\u3001\u5e7f\u64ad\u5730\u5740\u3001\u591a\u64ad\u5730\u5740\uff0c\u5176\u4e2d\u5355\u64ad\u5730\u5740\u5982\u4e0a\u9762\uff21\u7ed9\uff22\u4e3b\u673a\u53d1\u9001\uff0c\u5176\u63a5\u6536\u8005\u4e3a\u4e00\u4e2a\uff0c\u5e76\u4e14\u5176\u76ee\u7684\u5730\u5740\u7684\u6700\u9ad8\u5b57\u8282\u7684\u4f4e\u4f4d\u4e3a\uff10 6.2 \u4ee5\u592a\u7f51\u7684\u7279\u70b9 \u65e0\u8fde\u63a5\u3002\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u4e0d\u5efa\u7acb\u8fde\u63a5\u3002 \u4e0d\u53ef\u9760\u3002\u63a5\u6536\u65b9\u4e0d\u5411\u53d1\u9001\u65b9\u8fdb\u884c\u786e\u8ba4\uff0c\u5dee\u9519\u5e27\u76f4\u63a5\u4e22\u5f03\u3002 6.3 \u4ee5\u592a\u7f51\u7684\u62d3\u6251\u7ed3\u6784</p> <p>\u8ddf\u4ee5\u592a\u7f51\u76f8\u5173\u7684\u62d3\u6251\u7ed3\u6784\u6709\u661f\u578b\u548c\u603b\u7ebf\u578b\u3002</p> <p>\u661f\u578b\u62d3\u6251\u5982\u4e0b\uff1a</p> <p>\u603b\u7ebf\u578b\u62d3\u6251\u5982\u4e0b\uff1a</p> <p>\u4e92\u8054\u7f51\u521d\u671f\uff0c\u4ee5\u592a\u7f51\u7684\u603b\u7ebf\u578b\u62d3\u6251\u6bd4\u8f83\u666e\u904d\u3002\u968f\u7740\u603b\u7ebf\u578b\u4ee5\u592a\u7f51\u4e0a\u7684\u7ad9\u70b9\u6570\u76ee\u589e\u591a,\u53ef\u9760\u6027\u4e5f\u4f1a\u968f\u4e4b\u4e0b\u964d,\u800c\u968f\u7740\u5927\u89c4\u6a21\u96c6\u6210\u7535\u8def\u4ee5\u53ca\u4e13\u95e8\u82af\u7247\u7684\u53d1\u5c55,\u4f7f\u5f97\u661f\u578b\u4ee5\u592a\u7f51\u53d8\u5f97\u4fbf\u5b9c\u53c8\u53ef\u9760\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4ee5\u592a\u7f51\u867d\u7136\u7269\u7406\u4e0a\u662f\u661f\u578b\u62d3\u6251\uff0c\u4f46\u903b\u8f91\u4e0a\u662f\u603b\u7ebf\u578b\u3002</p> <p>6.4 \u7f51\u5361</p> <p>\u8ba1\u7b97\u673a\u4f20\u51fa\u7684\u6570\u636e\uff0c\u7ecf\u8fc7\u7f51\u5361\uff0c\u5c31\u4f1a\u53d8\u4e3a\u4ee5\u592a\u7f51\u7684\u5e27\uff0c\u8fd8\u4f1a\u5b8c\u6210\u4e00\u4e9b\u94fe\u8def\u7ba1\u7406\uff08CDMA/CD\u7684\u5b9e\u73b0\uff09\uff0c\u4ee5\u53ca\u7f16\u7801\u548c\u8bd1\u7801\uff08\u7f16\u7801\u8bd1\u7801\u6211\u4e0d\u592a\u7406\u89e3\u3002\u3002\u3002\u597d\u50cf\u662f\u66fc\u5f7b\u65af\u7279\u7f16\u7801\uff0c\u89c4\u5b9a\u5982\u4f55\u8868\u793a\u9ad8\u4f4e\u7535\u5e73\uff09\u3002</p> <p>6.5 \u65e0\u7ebf\u5c40\u57df\u7f51</p> <p>\u65e0\u7ebf\u5c40\u57df\u7f51WLAN\u662f\u5229\u7528\u65e0\u7ebf\u7535\u6ce2\u3001\u6fc0\u5149\u548c\u7ea2\u5916\u7ebf\u7b49\u65e0\u7ebf\u901a\u4fe1\u6280\u672f\u6765\u6784\u5efa\u7684\u5c40\u57df\u7f51\u3002</p> <p>\u65e0\u7ebf\u5c40\u57df\u7f51\u6211\u4eec\u53ea\u4ecb\u7ecd\u4e00\u4e0b\u5178\u578b\u7684\u7f51\u7edc\u7ed3\u6784\u3002</p> <p>\u4e0a\u56fe\u7684AP\u5c31\u662f\u901a\u4fe1\u57fa\u7ad9\uff0c\u5982\u679c\u57fa\u7ad9\u8986\u76d6\u7684\u79fb\u52a8\u8bbe\u5907\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u57fa\u7ad9\u6765\u901a\u4fe1 \u5982\u679c\u662f\u4e0d\u540c\u57fa\u7ad9\u7684\u79fb\u52a8\u8bbe\u5907\uff0c\u4e0d\u4ec5\u4ec5\u8981\u901a\u8fc7\u81ea\u5df1\u7684\u57fa\u7ad9\u4f20\u8f93\u6570\u636e\uff0c\u8fd8\u9700\u8981\u57fa\u7ad9\u548c\u57fa\u7ad9\u4e4b\u95f4\u4f20\u8f93\u6570\u636e\uff0c\u6765\u8fbe\u5230\u4e24\u4e2a\u5728\u4e0d\u540c\u57fa\u7ad9\u8986\u76d6\u8303\u56f4\u5185\u7684\u65e0\u7ebf\u8bbe\u5907\u901a\u4fe1\u3002 6.6 CSMA/CD\u534f\u8bae</p> <p>\u56e0\u4e3a\u8fd9\u4e2a\u534f\u8bae\u662f\u4ee5\u592a\u7f51\u6240\u4f7f\u7528\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u9700\u8981\u8bb0\u4f4f\u4e00\u4e9b\u7279\u70b9\u5c31\u884c\u4e86\u3002</p> <p>\u6bcf\u4e00\u4e2a\u7ad9\u5728\u53d1\u9001\u6570\u636e\u4e4b\u524d\u4ee5\u53ca\u53d1\u9001\u6570\u636e\u65f6\u4ee5\u53ca\u53d1\u9001\u6570\u636e\u65f6\u90fd\u8981\u68c0\u6d4b\u4e00\u4e0b\u603b\u7ebf\u4e0a\u662f\u5426\u6709\u5176\u4ed6\u8ba1\u7b97\u673a\u5728\u53d1\u9001\u6570\u636e\u3002 \u662f\u603b\u7ebf\u578b\uff0c\u534a\u53cc\u5de5\u7f51\u7edc\uff08\u534a\u53cc\u5de5\u662f\u6307\u5141\u8bb8\u6570\u636e\u5728\u4e24\u4e2a\u65b9\u5411\u4e0a\u4f20\u8f93,\u4f46\u662f,\u5728\u67d0\u4e00\u65f6\u523b,\u53ea\u5141\u8bb8\u6570\u636e\u5728\u4e00\u4e2a\u65b9\u5411\u4e0a\u4f20\u8f93\uff09 6.7 \u94fe\u8def\u5c42\u7684\u8bbe\u5907</p> <p>\uff081\uff09\u7f51\u6865</p> <p>\u7f51\u6865\u6839\u636eMAC\u5e27\u7684\u76ee\u7684\u5730\u5740\u8fdb\u884c\u8f6c\u53d1\u548c\u8fc7\u6ee4\u3002\u5f53\u7f51\u6865\u6536\u5230\u4e00\u4e2a\u5e27\u65f6\uff0c\u5e76\u4e0d\u4f1a\u5411\u6240\u6709\u63a5\u53e3\u8f6c\u53d1\u6b64\u5e27\uff0c\u800c\u662f\u5148\u68c0\u67e5\u6b64\u5e27\u7684\u76ee\u7684MAC\u5730\u5740\uff0c\u7136\u540e\u518d\u786e\u5b9a\u5c06\u8be5\u5e27\u8f6c\u53d1\u5230\u54ea\u4e00\u4e2a\u53e3\uff0c\u6216\u8005\u662f\u628a\u5b83\u4e22\u5f03\u3002</p> <p>\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7f51\u6865\u8fde\u63a5\u7684\u662f\u4e0d\u540c\u7684\u7f51\u6bb5\uff0c\u7f51\u6bb5\u662f\u4ec0\u4e48\u5462\uff0c\u6211\u8fd9\u91cc\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\uff0c\u5177\u4f53\u8981\u5230\u8bb2IP\u5730\u5740\u7684\u65f6\u5019\u7ec6\u8bf4\uff0c\u540c\u4e00\u7f51\u6bb5\u6307\u7684\u662fIP\u5730\u5740\u548c\u5b50\u7f51\u63a9\u7801(\u8bb2ip\u5730\u5740\u7684\u65f6\u5019\u4f1a\u7ec6\u8bb2)\u76f8\u4e0e\u5f97\u5230\u76f8\u540c\u7684\u7f51\u7edc\u5730\u5740\u3002</p> <p>\uff082\uff09\u4ee5\u592a\u7f51\u4ea4\u6362\u673a</p> <p>\u8c08\u5230\u4ea4\u6362\u673a\uff0c\u5c31\u4e0d\u5f97\u4e0d\u63d0\u4e24\u4e2a\u6982\u5ff5\uff0c\u51b2\u7a81\u57df\u548c\u5e7f\u64ad\u57df</p> <p>\u51b2\u7a81\u57df\uff1a \u662f\u6307\u540c\u4e00\u65f6\u95f4\u53ea\u80fd\u7531\u4e00\u53f0\u8bbe\u5907\u53d1\u9001\u4fe1\u606f\u7684\u8303\u56f4\u3002 \u5e7f\u64ad\u57df\uff1a\u5982\u679c\u7ad9\u70b9\u53d1\u51fa\u4e00\u4e2a\u5e7f\u64ad\u4fe1\u53f7\uff0c\u6240\u6709\u80fd\u63a5\u6536\u5230\u8fd9\u4e2a\u4fe1\u53f7\u7684\u8bbe\u5907\u8303\u56f4\u79f0\u4e3a\u5e7f\u64ad\u57df \u4e5f\u5c31\u662f\u8bf4\uff0c\u5e7f\u64ad\u57df\u53ef\u4ee5\u8de8\u7f51\u6bb5\uff0c\u800c\u51b2\u7a81\u57df\u53ea\u662f\u53d1\u751f\u7684\u540c\u4e00\u4e2a\u7f51\u6bb5\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u516c\u53f8\u91cc\u5927\u5bb6\u7684\u7535\u8111\u4e00\u822c\u90fd\u662f\u8fde\u63a5\u5230\u4ea4\u6362\u673a\u4e0a\uff0c\u56e0\u4e3a\u4ea4\u6362\u673a\u53ef\u4ee5\u9694\u79bb\u51b2\u7a81\u57df\uff0c\u51b2\u7a81\u57df\u7684\u6700\u5927\u95ee\u9898\u5728\u4e8e\uff0c\u540c\u4e00\u65f6\u95f4\u53ea\u80fd\u6709\u4e00\u53f0\u673a\u5668\u4f20\u8f93\u6570\u636e\uff0c\u516c\u53f8\u90a3\u4e48\u591a\u4eba\uff0c\u5982\u679c\u8fd9\u6837\u7684\u8bdd\uff0c\u4f20\u8f93\u6570\u636e\u901f\u5ea6\u592a\u6162\u4e86\u3002\u7136\u540e\u4ea4\u6362\u673a\u518d\u8fde\u63a5\u5230\u8def\u7531\u5668\u4e0a\uff0c\u9996\u5148\u8def\u7531\u5668\u80fd\u9694\u79bb\u5e7f\u64ad\u57df\uff0c\u5176\u6b21\u4e0d\u7ecf\u8fc7\u8def\u7531\u5668\uff0c\u4f60\u7684\u6570\u636e\u94fe\u8def\u5c42\u4e0a\u7684\u5305\u6ca1\u529e\u6cd5\u8fdb\u5165\u5230\u4e92\u8054\u7f51\u91cc\u9762\u53bb`\uff0c\u8def\u7531\u5668\u662f\u7f51\u7edc\u5c42\u7684\u8bbe\u5907\u3002</p> <p>\u5144\u5f1f\uff0c\u80fd\u770b\u5b8c\u4e0a\u9762\u5185\u5bb9\uff0c\u4f60\u4e5f\u771f\u591f\u80fd\u5fcd\u7684\uff0c\u725bB\uff0c\u559d\u53e3\u6c34\uff01\u7ee7\u7eed\uff01</p>"},{"location":"network/%E5%89%8D%E7%AB%AF%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86/#7","title":"7\u3001 \u7f51\u7edc\u5c42","text":"<p>\u6982\u5ff5\u8d70\u4e00\u8d70\uff0c\u770b\u4e00\u770b\uff0c\u7784\u4e00\u773c\u5c31\u884c\u5566\uff01</p> <p>7.1 \u7f51\u7edc\u5c42\u6982\u5ff5</p> <p>\u7f51\u7edc\u5c42\u4e3b\u8981\u4efb\u52a1\u662f\u5c06\u5206\u7ec4(\u5206\u7ec4\u7684\u6982\u5ff5\u662f\u5927\u591a\u6570\u8ba1\u7b97\u673a\u7f51\u7edc\u90fd\u4e0d\u80fd\u8fde\u7eed\u5730\u4f20\u9001\u4efb\u610f\u957f\u7684\u6570\u636e\uff0c\u6240\u4ee5\u5b9e\u9645\u4e0a\u7f51\u7edc\u7cfb\u7edf\u628a\u6570\u636e\u5206\u5272\u6210\u5c0f\u5757\uff0c\u7136\u540e\u9010\u5757\u5730\u53d1\u52a8\uff0c\u8fd9\u79cd\u5c0f\u5757\u5c31\u79f0\u4f5c\u5206\u7ec4)\u4ece\u4e00\u53f0\u4e3b\u673a\u79fb\u52a8\u5230\u53e6\u4e00\u53f0\u4e3b\u673a\uff0c\u4ece\u800c\u63d0\u4f9b\u4e86\u4e3b\u673a\u5230\u4e3b\u673a\u7684\u901a\u4fe1\u670d\u52a1\u548c\u5404\u79cd\u5f62\u5f0f\u7684\u8fdb\u7a0b\u5230\u8fdb\u7a0b\u7684\u901a\u4fe1\u3002</p> <p>7.2 \u5b66\u4e60\u7f51\u7edc\u5c42\u9700\u8981\u4e86\u89e3\u7684\u6982\u5ff5 7.2.1 \u5206\u7ec4\u4ea4\u6362</p> <p>\u5f53\u4e3b\u673aH1\u8981\u5411\u53e6\u4e00\u4e3b\u673aH2\u53d1\u9001\u6570\u636e\uff08\u62a5\u6587\uff09\u65f6\uff0c\u9996\u5148\u5c06\u6570\u636e\u5212\u5206\u6210\u82e5\u5e72\u4e2a\u7b49\u957f\u7684\u5206\u7ec4\uff0c\u7136\u540e\u5c06\u8fd9\u4e9b\u5206\u7ec4\u4e00\u4e2a\u63a5\u4e00\u4e2a\u5730\u53d1\u5f80\u91cc\u4e0eH1\u76f8\u8054\u7684\u8def\u7531A ,\u5f53A\u63a5\u5230\u5206\u7ec4\u540e\uff0c\u5148\u653e\u5165\u7f13\u51b2\u533a\uff0c\u518d\u6309\u4e00\u5b9a\u7684\u8def\u7531\u7b97\u6cd5\u786e\u5b9a\u8be5\u5206\u7ec4\u4e0b\u4e00\u6b65\u5c06\u53d1\u6ce8\u54ea\u4e2a\u7ed3\u70b9\uff0c\u5982\u6b64\u4e00\u4e2a\u7ed3\u70b9\u4e00\u4e2a\u7ed3\u70b9\u4f20\u9012\uff0c\u76f4\u5230\u6700\u7ec8\u76ee\u7684H2\u3002</p> <p>\u8fd9\u4e00\u6bb5\u8bdd\u6bd4\u8f83\u5570\u55e6\uff0c\u7b80\u5355\u6765\u8bf4\u5206\u7ec4\u5c31\u662f\u5206\u6570\u636e\u5757\uff0c\u540c\u65f6\u8fd8\u5177\u6709\u65e0\u9700\u5efa\u7acb\u8fde\u63a5\uff0c\u5b58\u50a8\u8f6c\u53d1\uff08\u5b58\u50a8\u8f6c\u53d1\u662f\u6307\u4ee5\u592a\u7f51\u4ea4\u6362\u673a\u7684\u63a7\u5236\u5668\u5148\u5c06\u8f93\u5165\u7aef\u53e3\u5230\u6765\u7684\u6570\u636e\u5305\u7f13\u5b58\u8d77\u6765\uff0c\u5148\u68c0\u67e5\u6570\u636e\u5305\u662f\u5426\u6b63\u786e\uff0c\u5e76\u8fc7\u6ee4\u6389\u51b2\u7a81\u5305\u9519\u8bef\uff09\uff0c\u52a8\u6001\u5206\u914d\u8def\u7ebf\uff08\u4ea4\u6362\u8bbe\u5907\u4f1a\u6839\u636e\u7f51\u7edc\u72b6\u51b5\u9009\u62e9\u4e0d\u540c\u7684\u8def\u7ebf\uff0c\u6bd4\u5982\u8def\u7531\u5668\uff09\u7684\u4f18\u70b9\u3002</p> <p>7.2.2 \u6570\u636e\u62a5</p> <p>\u6570\u636e\u62a5\u662f\u901a\u8fc7\u7f51\u7edc\u4f20\u8f93\u7684\u6570\u636e\u7684\u57fa\u672c\u5355\u5143\uff0c\u5305\u542b\u4e00\u4e2a\u62a5\u5934\uff08header\uff09\u548c\u6570\u636e\u672c\u8eab\u3002\u8bf4\u767d\u4e86\uff0c\u5c31\u662f\u5e26\u5730\u5740\u7684\u6570\u636e\uff0c\u6bd4\u5982\u4f60\u7684\u5199\u4e86\u4e00\u53e5\u5fae\u4fe1\"\u4f60\u597d\"\uff0c\u8fd9\u4e32\u6587\u5b57\u672c\u4e0a\u52a0\u4e0a\u6e90\u5730\u5740\uff0c\u76ee\u7684\u5730\u5740\uff0c\u5c31\u662f\u6570\u636e\u62a5\u3002</p> <p>7.2.3 \u6570\u636e\u62a5\u683c\u5f0f</p> <p>\u9996\u90e8\u7684\u56fa\u5b9a\u90e8\u5206\u662f20\u5b57\u8282\uff0c\u517120 * 8 = 160\u6bd4\u7279\uff081\u5b57\u8282=8\u6bd4\u7279\uff09 0 - 4\u6bd4\u7279\u662f\u7248\u672c\u53f7\uff0c\u7248\u672c\u6709ipv4/ipv6 \u9996\u90e8\u957f\u5ea6\uff0c\u5355\u4f4d\u662f4B\uff0c\u6700\u5c0f\u4e3a5, \u4e3a\u4ec0\u4e48\u662f5\u5462\uff1f\u56e0\u4e3a\u9996\u90e8\u81f3\u5c1120\u5b57\u8282\uff0c\u6240\u4ee54* 5\u5c31\u662f20\u5b57\u8282 \u533a\u5206\u670d\u52a1\u4e0d\u7528\u770b\u3002 \u603b\u957f\u5ea6\u662f\uff0c\u9996\u90e8+\u6570\u636e \u751f\u5b58\u65f6\u95f4\u662fTTL\uff0c\u5b83\u544a\u8bc9\u7f51\u7edc\uff0c\u6570\u636e\u5305\u5728\u7f51\u7edc\u4e2d\u7684\u65f6\u95f4\u662f\u5426\u592a\u957f\u800c\u5e94\u88ab\u4e22\u5f03\u3002\u6bcf\u7ecf\u8fc7\u4e00\u4e2a\u8def\u7531\u5668\u51cf\u4e00\uff0c\u53d8\u62100\u5c31\u4e22\u5f03 \u534f\u8bae\u662f\u6307\u6570\u636e\u90e8\u5206\u7528\u7684\u4ec0\u4e48\u534f\u8bae\uff0c\u6211\u4eec\u53ea\u9700\u8981\u77e5\u9053TCP\u534f\u8bae\u75286\u8868\u793a\uff0cUDP\u534f\u8bae\u752817\u8868\u793a\u5373\u53ef\u3002 \u9996\u90e8\u6821\u9a8c\u548c\u536016\u4f4d\u3002\u8fd9\u4e2a\u5b57\u6bb5\u53ea\u68c0\u9a8c\u6570\u636e\u62a5\u7684\u9996\u90e8\uff0c\u4f46\u4e0d\u5305\u62ec\u6570\u636e\u90e8\u5206\u3002 \u76ee\u7684\u5730\u5740\u548c\u6e90\u5730\u5740\u90fd\u662fIP\u5730\u5740\uff0c\u76ee\u7684\u5730\u5740\u662f\u901a\u8fc7DNS\u67e5\u8be2\u5f97\u6765\u7684\u3002 7.2.4 IP\u5206\u7247</p> <p>\u4e3a\u4ec0\u4e48\u8981\u5206\u7247\u5462\uff1f</p> <p>\u94fe\u8def\u5c42\u6570\u636e\u5e27\u5c01\u88c5\u7684\u6570\u636e\u5927\u5c0f\u662f\u6709\u9650\u5236\u7684\uff0c\u4ee5\u592a\u7f51\u7684MTU\uff08MTU\u662f\u6307\u4e00\u79cd\u901a\u4fe1\u534f\u8bae\u7684\u67d0\u4e00\u5c42\u4e0a\u9762\u6240\u80fd\u901a\u8fc7\u7684\u6700\u5927\u6570\u636e\u5305\u5927\u5c0f\uff09\u662f1500\u5b57\u8282\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u770b\u770b\u5728ip\u6570\u636e\u5305\u4e0a\uff0c\u54ea\u4e9b\u5b57\u6bb5\u6807\u8bc6\u4e86\u5206\u7247\u7684\u6570\u636e\u5462\uff1f</p> <p>\u6807\u8bc6\u662f\u5728\u540c\u4e00\u6570\u636e\u7684\u5206\u7247\u65f6\u76f8\u540c\u3002 \u6807\u5fd7\u53603\u4f4d\uff0c\u4f46\u53ea\u6709\u4e24\u4f4d\u6709\u610f\u4e49\uff0c\u7b2c\u4e00\u4e2a\u4f4d\u53ebMF\uff0cMF=1\u5373\u8868\u793a\u540e\u9762\u201c\u8fd8\u6709\u5206\u7247\u201d\u7684\u6570\u636e\u62a5\u3002MF=0\u8868\u793a\u8fd9\u5df2\u662f\u82e5\u5e72\u6570\u636e\u62a5\u7247\u4e2d\u7684\u6700\u540e\u4e00\u4e2a\u3002 \u6807\u5fd7\u5b57\u6bb5\u4e2d\u95f4\u7684\u4e00\u4f4d\u8bb0\u4e3aDF(Don\u2019t Fragment)\uff0c\u610f\u601d\u662f\u201c\u4e0d\u80fd\u5206\u7247\u201d\u3002\u53ea\u6709\u5f53DF=0\u65f6\u624d\u5141\u8bb8\u5206\u7247\u3002 \u7247\u504f\u79fb\uff0c\u8f83\u957f\u7684\u5206\u7ec4\u5728\u5206\u7247\u540e\uff0c\u67d0\u7247\u5728\u539f\u5206\u7ec4\u4e2d\u7684\u76f8\u5bf9\u4f4d\u7f6e\u3002 7.2.5 ip\u5730\u5740\u5206\u7c7b</p> <p>ip\u5730\u5740\u67095\u79cd</p> <p>A\u7c7b\uff1a1.0.0.0~126.255.255.255 B\u7c7b\uff1a128.0.0.0~191.255.255.255 C\u7c7b\uff1a192.0.0.0~223.255.255.255 D\u7c7b\uff1a224.0.0.0~239.255.255.255 E\u7c7b\uff1a240.0.0.0~254.255.255.255 \u5176\u4e2d127.0.0.0~127.255.255.255\u7528\u4e8e\u73af\u56de\u6d4b\u8bd5\uff0cD\u7c7b\u5730\u5740\u7528\u4e8e\u7ec4\u64ad\uff0cE\u7c7b\u5730\u5740\u7528\u4e8e\u79d1\u7814</p> <p>\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4f60\u53d1\u6ca1\u53d1\u73b0\uff0c\u4e3a\u4ec0\u4e48\u6211\u4eec\u524d\u7aef\u542f\u52a8webpack\u6d4b\u8bd5\u73af\u5883\u7684\u65f6\u5019\uff0c\u4e00\u822c\u5730\u5740\u90fd\u662f192.168..(* \u662f\u63070-255\u7684\u6570\u5b57); \u5728\u516c\u53f8\u548c\u5bb6\u91cc\u90fd\u662f\u8fd9\u4e2a\u7f51\u6bb5\uff0c\u4e0d\u662f\u5f88\u5947\u602a\u5417\uff0c\u4f60\u5bb6\u91cc\u7684\u7f51\u6bb5\u600e\u4e48\u548c\u516c\u53f8\u4e00\u6837\u5462\uff1f</p> <p>\u5176\u5b9e\u662f\u56e0\u4e3a\u6709\u4e00\u90e8\u5206\u53eb\u79c1\u6709IP\u5730\u5740\uff0c\u662f\u4e0d\u80fd\u62ff\u5230\u7f51\u7edc\u4e0a\u8ddf\u522b\u7684\u8ba1\u7b97\u673a\u901a\u4fe1\u7684\u3002\u53ea\u80fd\u662f\u5c40\u57df\u7f51\u81ea\u5df1\u5185\u90e8\u7528\u3002\u6bd4\u5982\u8bf4\u6709\uff1a</p> <p>\u53ef\u4ee5\u770b\u5230\uff0cC\u7c7b\u79c1\u6709\u5730\u5740\u5c31\u662f192.168\u7f51\u6bb5\uff0c\u6bcf\u4e2a\u5c40\u57df\u7f51\u90fd\u53ef\u4ee5\u6709\u8fd9\u4e9b\u79c1\u6709IP\u3002</p> <p>\u8fd8\u6709\u4e00\u4e9b\u7279\u6b8a\u5730\u5740\uff0c\u9700\u8981\u4e86\u89e3</p> <p>\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684\u51681\u662f\u6307\uff0cipv4\u5730\u5740\u75314\u4e2a\u5b57\u8282\u7ec4\u6210\uff0c\u6bcf\u4e00\u4e2a\u5b57\u8282\u662f8\u4f4d\uff0c8\u4f4d\u5168\u4e00\u5c31\u662f\u5341\u8fdb\u5236\u7684255, \u5373255.255.255.255\u3002</p> <p>\u7b2c\u4e00\u884c\uff0c\u5168\u4e00\uff0c\u4ee3\u8868\u662f255.255.255.255\uff0c\u5728\u672c\u7f51\u7edc\u7684\u76ee\u7684\u5730\u5740\u5199\u8fd9\u4e2a\u7684\u8bdd\uff0c\u5c31\u4f1a\u5185\u7f51\u5e7f\u64ad \u7b2c\u4e8c\u884c\uff0c\u7f51\u7edc\u53f7\u7279\u5b9a\u503c\uff0c\u4e3b\u673a\u53f7\u662f\u51680\uff0c\u6bd4\u5982\uff0c192.169.10.1\uff0c\u8fd9\u662fc\u7c7b\u7f51\u7edc\uff0c\u6240\u4ee5\u7f51\u7edc\u53f7\u662f192.169.10\uff0c\u4e3b\u673a\u53f7\u662f1\uff0c\u5f53\u4e3b\u673a\u53f7\u51680\u65f6\uff0c\u5c31\u662f0\uff0c\u8868\u793a192.169.10.0\u8fd9\u4e2a\u7f51\u6bb5 \u7b2c\u4e09\u884c\uff0c\u8fd8\u662f192.169.10.1\u8fd9\u4e2ac\u7c7b\u5730\u5740\uff0c\u4e3b\u673a\u53f7\u90fd\u662f1\uff0c\u4e5f\u5c31\u662f8\u4e2a1\uff0c\u4ee3\u8868255\uff0c\u6240\u4ee5192.169.10.255\u8868\u793a\u672c\u7f51\u6bb5\u7684\u5e7f\u64ad\u5730\u5740 \u7b2c\u56db\u884c\uff0c\u5927\u5bb6\u6700\u719f\u6089\u4e0d\u8fc7\u4e86\uff0c127\u4f5c\u4e3a\u7f51\u7edc\u53f7\uff0c\u4e3b\u673a\u53f7\u975e\u51680\u62161\uff0c\u6bd4\u5982\u8bf4127.0.0.1\u4ee3\u8868\u672c\u673a\uff0c\u79f0\u4e3a\u73af\u56de\u5730\u5740\u3002 7.2.6 \u7f51\u7edc\u5730\u5740\u8f6c\u6362(NAT)</p> <p>\u5728ip\u5730\u5740\u5206\u7c7b\u91cc\u9762\uff0c\u6211\u4eec\u77e5\u9053\u79c1\u6709ip\u5730\u5740\u662f\u4e0d\u80fd\u8ddf\u5916\u7f51\u4ea4\u4e92\u7684\uff0c\u5728\u5c0f\u516c\u53f8\u5927\u591a\u6570\u8ba1\u7b97\u673a\u7684\u5730\u5740\u90fd\u662f192.168\u7f51\u6bb5\uff0c\u90fd\u662f\u79c1\u6709ip\u5730\u5740\uff0c\u5b83\u662f\u600e\u4e48\u8ddf\u5916\u7f51\u4ea4\u4e92\u6570\u636e\u7684\u5462\uff0c\u8fd9\u91cc\u5c31\u5f15\u51fa\u6765\u4e00\u4e2a\u77e5\u8bc6\u70b9\u53eb\u7f51\u7edc\u5730\u5740\u8f6c\u6362NAT\u3002</p> <p>\u5982\u4e0a\u56fe\u6240\u793a\uff0c192.168.0.3\uff0c192.168.0.4\u90fd\u662f\u79c1\u6709\u7f51\u6bb5\u4e0a\u7684\uff0c\u5b83\u4eec\u65e0\u6cd5\u8ddf\u5916\u7f51\u901a\u4fe1\uff0c\u8fd9\u4e2a\u65f6\u5019\u7531\u4e8e\u8def\u7531\u5668\u5b89\u88c5\u4e86NAT\u8f6f\u4ef6\uff0c\u5c31\u53ef\u4ee5\u5c06\u81ea\u5df1\u7684ip\u5730\u5740\uff0c\u5373\u8def\u7531\u5668\u7684ip\u5730\u5740172.38.1.5\u4f5c\u4e3a\u5185\u7f51\u7684\u4ee3\u7406\uff0c\u53bb\u8bbf\u95ee\u5916\u7f51\uff0c\u5916\u7f51\u8fd4\u56de\u6765\u7684\u6570\u636e\uff0c\u7ecf\u8fc7\u8def\u7531\u8f6c\u6362\uff0c\u8f6c\u6362\u6210\u5185\u7f51\u7684192.168\u7f51\u6bb5\u7684\u79c1\u6709\u5730\u5740\u3002</p> <p>7.2.7 \u5b50\u7f51\u5212\u5206\u548c\u5b50\u7f51\u63a9\u7801</p> <p>\u9996\u5148\u8981\u660e\u767d\uff0c\u4e3a\u4ec0\u4e48\u8981\u5212\u5206\u5b50\u7f51\uff1f</p> <p>\u9996\u5148\u5927\u5bb6\u8981\u77e5\u9053\uff1a \u603b\u4f53\u6765\u8bf4\uff0c\u5212\u5206\u5b50\u7f51\u4e0d\u4f46\u6ca1\u6709\u589e\u52a0\u53ef\u7528IP\u5730\u5740\uff0c\u800c\u4e14\u51cf\u5c11\u4e86\u53ef\u7528IP\u5730\u5740\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u5b50\u7f51\u4e2d\u7684\u51680\u7f51\u7edc\u5730\u5740\u548c\u51681\u5e7f\u64ad\u5730\u5740\u5747\u4e0d\u80fd\u4f5c\u4e3a\u4e3b\u673aip\u6765\u4f7f\u7528\u3002</p> <p>\u4e3a\u4ec0\u4e48\u5212\u5206\u5b50\u7f51\uff1a</p> <p>\u4f8b\u5982\uff0c\u4e00\u4e2aA\u7c7b\u7f51\u7edc\u53ef\u4ee5\u5bb9\u7eb316777214\u53f0\u4e3b\u673a\u3002 \u4f46\u662f\u5728\u5b9e\u9645\u8fd0\u7528\u4e2d\uff0c\u4e0d\u53ef\u80fd\u628a\u4e00\u4e2aA\u7c7b\u7f51\u7edc\u53ea\u7528\u4e8e\u4e00\u4e2a\u5b50\u7f51\uff0c\u56e0\u4e3a\u90a3\u6837\u7ba1\u7406\u8d77\u6765\u5f88\u4e0d\u65b9\u4fbf\uff0c\u4e5f\u4f1a\u51fa\u73b0\u5e7f\u64ad\u98ce\u66b4\u7b49\u79cd\u79cd\u95ee\u9898\uff0c\u6240\u4ee5\u9700\u8981\u6839\u636e\u5b9e\u9645\u9700\u6c42\u628a\u5b83\u5212\u5206\u4e3a\u82e5\u5e72\u4e2a\u8f83\u5c0f\u7684\u5b50\u7f51\u3002\u4e00\u4e2aB\u7c7b\u7f51\u7edc\u53ef\u4ee5\u5bb9\u7eb365534\u53f0\u4e3b\u673a\uff0c\u5f80\u5f80\u4e5f\u662f\u9700\u8981\u5212\u5206\u5b50\u7f51\u7684\u3002 \u5373\u4fbf\u4e00\u4e2a\u5c0f\u578b\u4f01\u4e1a\u5185\u90e8\uff0c\u4e3a\u4e86\u90e8\u95e8\u4e4b\u95f4\u7684\u804c\u80fd\u7684\u9700\u8981\uff0c\u914d\u7f6e\u90a3\u4e9b\u7535\u8111\u53ef\u4ee5\u4e92\u76f8\u8bbf\u95ee\uff0c\u54ea\u4e9b\u4e0d\u80fd\u4e92\u76f8\u8bbf\u95ee\uff0c\u5c31\u9700\u8981\u901a\u8fc7\u5212\u5206\u5b50\u7f51\u7684\u65b9\u6cd5\u6765\u5b9e\u73b0\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u770b\u770b\u5b50\u7f51\u5212\u5206</p> <p>\u5982\u4e0a\u56fe\u53f3\u4fa7\uff0c\u6211\u4eec\u5c06145.13.0.0\u8fd9\u4e2a\u7f51\u6bb5\u5212\u5206\u4e86\u4e09\u4e2a\u5b50\u7f51\uff0c\u5176\u4e2d\u4e00\u4e2a\u662f145.13.3.0\uff0c\u4e00\u4e2a\u662f145.13.21.0\uff0c\u95ee\u9898\u6765\u4e86\uff0c\u5982\u679c\u4e00\u4e2a\u7f51\u7edc\u5305\u6765\u4e86\uff0c\u7f51\u7edc\u5305\u8981\u4ea4\u7ed9\u7684ip\u5730\u5740\u662f145.13.3.10\uff0c\u6211\u4eec\u600e\u4e48\u77e5\u9053\u7ed9\u54ea\u4e2a\u5b50\u7f51\u5462\uff1f</p> <p>\u65b9\u6cd5\u662f\u5c06\u76ee\u7684\u5305\u7684ip\u5730\u5740\uff0c\u8ddf\u5b50\u7f51\u7684\u5b50\u7f51\u63a9\u7801\u76f8\u4e0e\u9884\u7b97\uff08\u4e8c\u8fdb\u5236\u4e0e\u9884\u7b97\u89c4\u5219\u662f\uff0c1\u8ddf1\u5f971\uff0c\u5176\u5b83\u4e3a0\uff09\uff0c\u4e5f\u5c31\u662f\u76ee\u7684\u5730\u5740145.13.3.10\u8ddf\u5b50\u7f51145.13.3.0\u7684\u5b50\u7f51\u63a9\u7801255.255.255.0\u7684\u4e0e\u9884\u7b97\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u662f145.13.3.0\uff0c\u6240\u4ee5\u53d1\u9001\u5230\u7684\u5b50\u7f51\u5c31\u662f145.13.3.0\u3002</p> <p>\u8fd9\u91cc\u6709\u4eba\u4f1a\u95ee\u4ec0\u4e48\u662f\u5b50\u7f51\u63a9\u7801\uff0c\u5b50\u7f51\u63a9\u7801\u7684\u683c\u5f0f\u8ddfIP\u662f\u4e00\u6837\u7684\uff0c0\uff0c0\uff0c0\uff0c0 \u5230 255.255.255.255\uff0c\u4e3b\u8981\u662f\u5e2e\u52a9\u6211\u4eec\u5212\u5206\u5b50\u7f51\u7684\uff0c\u4e86\u89e3\u5230\u8fd9\u91cc\u5bf9\u6211\u4eec\u524d\u7aef\u5c31\u591f\u4e86\u3002</p> <p>7.3 ARP\u534f\u8bae</p> <p>\u4e3a\u4ec0\u4e48\u9700\u8981ARP\u534f\u8bae\u5462\uff1f</p> <p>\u6211\u4eec\u7b80\u5355\u56de\u987e\u4e00\u4e0b\u4ee5\u592a\u7f51\u7684\u5e27\u7684\u683c\u5f0f</p> <p>\u4e0a\u56fe\u6709\u4e00\u4e2a\u6e90\u5730\u5740\u548c\u76ee\u7684\u5730\u5740\uff0c\u8fd9\u4e24\u4e2a\u5730\u5740\u90fd\u662f\u6307\u7684mac\u5730\u5740\uff0cmac\u5730\u5740\u662f\u4ec0\u4e48\u5462\uff1f\u7b80\u5355\u8bf4\u6765\u5c31\u662f\u4e24\u53f0\u76f8\u90bb\u7684\u8def\u7531\u5668A\u548cB\uff0cA\u600e\u4e48\u628a\u6570\u636e\u4f20\u7ed9B\u5462\uff0c\u5b83\u603b\u8981\u77e5\u9053B\u7684\u7269\u7406\u5730\u5740\u5427\uff0c\u7269\u7406\u5730\u5740\u5c31\u50cf\u95e8\u724c\u53f7\u4e00\u6837\uff0c\u6211\u8981\u77e5\u9053\u4f60\u4f4f\u5728\u54ea\u91cc\uff0c\u624d\u80fd\u628a\u6570\u636e\u9001\u8fc7\u53bb\u5427\uff1f</p> <p>\u9996\u5148\u4f60\u80af\u5b9a\u77e5\u9053\u81ea\u5df1\u7684mac\u5730\u5740\u662f\u591a\u5c11\uff0c\u56e0\u4e3a\u5728\u7f51\u5361\u4e0a\u6709\uff0c\u95ee\u9898\u5728\u4e8e\uff0c\u522b\u4eba\u7684mac\u5730\u5740\u662f\u591a\u5c11\uff1fARP\u534f\u8bae\u5c31\u662f\u6765\u5e2e\u4f60\u627emac\u5730\u5740\u7684\u3002</p> <p>\u63a5\u7740\u6211\u4eec\u8bf4\u4e00\u4e0bARP\u534f\u8bae\u7684\u8fc7\u7a0b\uff08\u6bd4\u8f83\u5b98\u65b9\u7684\u4ecb\u7ecd\uff0c\u770b\u4e0d\u61c2\u53ef\u4ee5\u7565\u8fc7\uff09\uff1a</p> <p>\u6bcf\u53f0\u4e3b\u673a\u90fd\u4f1a\u5728\u81ea\u5df1\u7684ARP\u7f13\u51b2\u533a\u4e2d\u5efa\u7acb\u4e00\u4e2a ARP\u5217\u8868\uff0c\u4ee5\u8868\u793aIP\u5730\u5740\u548cMAC\u5730\u5740\u7684\u6620\u5c04\u5173\u7cfb</p> <p>\u5f53\u6e90\u4e3b\u673a\u9700\u8981\u5c06\u4e00\u4e2a\u6570\u636e\u5305\u8981\u53d1\u9001\u5230\u76ee\u7684\u4e3b\u673a\u65f6\uff0c\u4f1a\u9996\u5148\u68c0\u67e5\u81ea\u5df1 ARP\u5217\u8868\u4e2d\u662f\u5426\u5b58\u5728\u8be5IP\u5730\u5740\u5bf9\u5e94\u7684MAC\u5730\u5740</p> <p>\u5982\u679c\u6709\uff0c\u5c31\u76f4\u63a5\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230\u8fd9\u4e2aMAC\u5730\u5740\uff1b\u5982\u679c\u6ca1\u6709\uff0c\u5c31\u5411\u672c\u5730\u7f51\u6bb5\u53d1\u8d77\u4e00\u4e2aARP\u8bf7\u6c42\u7684\u5e7f\u64ad\u5305\uff0c\u67e5\u8be2\u6b64\u76ee\u7684\u4e3b\u673a\u5bf9\u5e94\u7684MAC\u5730\u5740</p> <p>\u6b64ARP\u8bf7\u6c42\u6570\u636e\u5305\u91cc\u5305\u62ec\u6e90\u4e3b\u673a\u7684IP\u5730\u5740\u3001\u786c\u4ef6\u5730\u5740\u3001\u4ee5\u53ca\u76ee\u7684\u4e3b\u673a\u7684IP\u5730\u5740\u3002\u7f51\u7edc\u4e2d\u6240\u6709\u7684\u4e3b\u673a\u6536\u5230\u8fd9\u4e2aARP\u8bf7\u6c42\u540e\uff0c\u4f1a\u68c0\u67e5\u6570\u636e\u5305\u4e2d\u7684\u76ee\u7684IP\u662f\u5426\u548c\u81ea\u5df1\u7684IP\u5730\u5740\u4e00\u81f4</p> <p>\u5982\u679c\u4e0d\u76f8\u540c\u5c31\u5ffd\u7565\u6b64\u6570\u636e\u5305\uff1b\u5982\u679c\u76f8\u540c\uff0c\u8be5\u4e3b\u673a\u9996\u5148\u5c06\u53d1\u9001\u7aef\u7684MAC\u5730\u5740\u548cIP\u5730\u5740\u6dfb\u52a0\u5230\u81ea\u5df1\u7684ARP\u5217\u8868\u4e2d</p> <p>\u5982\u679cARP\u8868\u4e2d\u5df2\u7ecf\u5b58\u5728\u8be5IP\u7684\u4fe1\u606f\uff0c\u5219\u5c06\u5176\u8986\u76d6\uff0c\u7136\u540e\u7ed9\u6e90\u4e3b\u673a\u53d1\u9001\u4e00\u4e2a ARP\u54cd\u5e94\u6570\u636e\u5305\uff0c\u544a\u8bc9\u5bf9\u65b9\u81ea\u5df1\u662f\u5b83\u9700\u8981\u67e5\u627e\u7684MAC\u5730\u5740</p> <p>\u6e90\u4e3b\u673a\u6536\u5230\u8fd9\u4e2aARP\u54cd\u5e94\u6570\u636e\u5305\u540e\uff0c\u5c06\u5f97\u5230\u7684\u76ee\u7684\u4e3b\u673a\u7684IP\u5730\u5740\u548cMAC\u5730\u5740\u6dfb\u52a0\u5230\u81ea\u5df1\u7684ARP\u5217\u8868\u4e2d\uff0c\u5e76\u5229\u7528\u6b64\u4fe1\u606f\u5f00\u59cb\u6570\u636e\u7684\u4f20\u8f93</p> <p>\u5982\u679c\u6e90\u4e3b\u673a\u4e00\u76f4\u6ca1\u6709\u6536\u5230ARP\u54cd\u5e94\u6570\u636e\u5305\uff0c\u8868\u793aARP\u67e5\u8be2\u5931\u8d25</p> <p>7.4 DHCP\u534f\u8bae</p> <p>DHCP\uff08\u52a8\u6001\u4e3b\u673a\u914d\u7f6e\u534f\u8bae\uff09\u662f\u4e00\u4e2a\u5c40\u57df\u7f51\u7684\u7f51\u7edc\u534f\u8bae\u3002\u6307\u7684\u662f\u7531\u670d\u52a1\u5668\u63a7\u5236\u4e00\u6bb5lP\u5730\u5740\u8303\u56f4\uff0c\u5ba2\u6237\u673a\u767b\u5f55\u670d\u52a1\u5668\u65f6\u5c31\u53ef\u4ee5\u81ea\u52a8\u83b7\u5f97\u670d\u52a1\u5668\u5206\u914d\u7684lP\u5730\u5740\u548c\u5b50\u7f51\u63a9\u7801\u3002\u8bf4\u767d\u4e86\uff0c\u5f53\u4f60\u63a5\u5165\u5c40\u57df\u7f51\u7684\u65f6\u5019\uff0c\u81ea\u52a8\u7531\u8fd9\u4e2adhcp\u670d\u52a1\u5668\u7ed9\u4f60\u5206\u914dip\uff0cwindows\u7528\u6237\u53ef\u80fd\u77e5\u9053\u7f51\u5361\u914d\u7f6e\u91cc\u9762\uff0c\u7531\u81ea\u52a8\u83b7\u53d6ip\u7684\u529f\u80fd\uff0c\u5982\u679c\u8def\u7531\u5668\u63d0\u4f9bDHCP\u670d\u52a1\uff0c\u4f60\u5c31\u4f1a\u81ea\u52a8\u83b7\u53d6\u968f\u673a\u5206\u914d\u7684ip\u3002</p> <p>\u8def\u7531\u5668\u91cc\u53ef\u4ee5\u5f00\u542f\u8fd9\u4e2a\u670d\u52a1\u3002</p> <p>\u5927\u81f4\u5de5\u4f5c\u8fc7\u7a0b\uff08\u4e86\u89e3\u5373\u53ef\uff09</p> <p>7.5 ICMP\u534f\u8bae</p> <p>ICMP\u534f\u8bae\u662f\u4e00\u4e2a\u7f51\u7edc\u5c42\u534f\u8bae\u3002 \u4e3a\u4ec0\u4e48\u6211\u4eec\u9700\u8981ICMP\u534f\u8bae\u5462\uff1f</p> <p>\u4e00\u4e2a\u65b0\u642d\u5efa\u597d\u7684\u7f51\u7edc\uff0c\u5f80\u5f80\u9700\u8981\u5148\u8fdb\u884c\u4e00\u4e2a\u7b80\u5355\u7684\u6d4b\u8bd5\uff0c\u6765\u9a8c\u8bc1\u7f51\u7edc\u662f\u5426\u7545\u901a\uff1b\u4f46\u662fIP\u534f\u8bae\u5e76\u4e0d\u63d0\u4f9b\u53ef\u9760\u4f20\u8f93\u3002\u5982\u679c\u4e22\u5305\u4e86\uff0cIP\u534f\u8bae\u5e76\u4e0d\u80fd\u901a\u77e5\u4f20\u8f93\u5c42\u662f\u5426\u4e22\u5305\u4ee5\u53ca\u4e22\u5305\u7684\u539f\u56e0\u3002</p> <p>\u6240\u4ee5\u6211\u4eec\u5c31\u9700\u8981\u4e00\u79cd\u534f\u8bae\u6765\u5b8c\u6210\u8fd9\u6837\u7684\u529f\u80fd\u2013ICMP\u534f\u8bae\u3002</p> <p>ICMP\u534f\u8bae\u7684\u529f\u80fd\u4e3b\u8981\u6709\uff1a</p> <p>\u786e\u8ba4IP\u5305\u662f\u5426\u6210\u529f\u5230\u8fbe\u76ee\u6807\u5730\u5740 \u901a\u77e5\u5728\u53d1\u9001\u8fc7\u7a0b\u4e2dIP\u5305\u88ab\u4e22\u5f03\u7684\u539f\u56e0 \u6211\u4eec\u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> <p>\u4e3b\u673aH2\u6536\u5230\u4e3b\u673aH1\u7684\u4e00\u4e2aUDP\u5305\uff0c\u7ed3\u679cH2\u53d1\u73b0\u8fd9\u4e2a\u5305\u91cc\u7684\u7aef\u53e3\u6ca1\u6709\u88ab\u76d1\u542c\uff0c\u8fd9\u65f6\u5019\u5c31\u56de\u590d\u7ed9H2\u4e00\u4e2aICMP\u5e94\u7b54\u62a5\u6587\uff0c\u610f\u601d\u662f\u8fd9\u4e2aUDP\u6570\u636e\u5305\uff0c\u65e0\u6cd5\u4ea4\u7ed9\u5e94\u7528\u8fdb\u7a0b\uff0c\u53ea\u80fd\u4e22\u5f03\u4e86\u3002</p> <p>\u4ee5\u4e0b\u662f4\u79cd\u5e38\u89c1\u7684ICMP\u5dee\u9519\u62a5\u544a\u62a5\u6587</p> <p>\u6211\u4eec\u5e38\u7528\u7684ping\u547d\u4ee4\u501f\u52a9ICMP\u534f\u8bae\uff0c\u63a2\u6d4b\u4e3b\u673a\u662f\u5426\u80fd\u627e\u5230\u76ee\u7684\u4e3b\u673a\u3002</p> <p>7.6 \u7f51\u7edc\u8bbe\u5907\u8def\u7531\u5668\u7b80\u4ecb</p> <p>\u8def\u7531\u5668\u662f\u4e00\u79cd\u5177\u6709\u591a\u4e2a\u8f93\u5165\u7aef\u53e3\u548c\u591a\u4e2a\u8f93\u51fa\u7aef\u53e3\u7684\u4e13\u7528\u8ba1\u7b97\u673a\uff0c\u5176\u4efb\u52a1\u662f\u8f6c\u53d1\u548c\u5206\u7ec4\u3002</p> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5206\u522b\u7531\u8f6c\u53d1\u548c\u5206\u7ec4\u529f\u80fd\u7684\u8bf4\u660e\u3002</p> <p>\u63a5\u7740\uff0c\u6211\u4eec\u770b\u4e00\u4e0b\u8def\u7531\u5668\u8f93\u5165\u7aef\u53e3\u505a\u4e86\u54ea\u4e9b\u4e8b\u60c5</p> <p>\u9996\u5148\uff0c\u7269\u7406\u5c42\u662f\u50bb\u74dc\u5c42\uff0c\u4f20\u8f93\u6bd4\u7279\u6d41\uff0c\u6211\u4eec\u628a\u7269\u7406\u5c42\u7684\u6bd4\u7279\u6d41\u8fd8\u539f\u6210\u6570\u636e\u94fe\u8def\u5c42\u7684\u6570\u636e\u5e27\uff0c\u7136\u540e\u628a\u6570\u636e\u94fe\u8def\u5c42\u7684\u6570\u636e\u62a5\u8131\u53bb\uff0c\u6210\u4e3a\u7f51\u7edc\u5c42\u6570\u636e\u5305\uff0c\u4ea4\u7ed9\u8def\u7531\u5668\u3002\u8fd9\u65f6\u5019\u5c31\u8981\u5224\u65ad\u4e00\u4e0b\u8fd9\u4e2a\u6570\u636e\u5305\u662f\u4ec0\u4e48\u7c7b\u578b\u7684\u4e86\u3002</p> <p>\u5982\u679c\u5b83\u662f\u8def\u7531\u5668\u4e4b\u95f4\uff0c\u4ea4\u6362\u8def\u7531\u4fe1\u606f\u7684\u5206\u7ec4\uff0c\u5c31\u4f1a\u628a\u8fd9\u4e2a\u6570\u636e\u5305\u4ea4\u4ed8\u7ed9\u5982\u4e0a\u4e0a\u56fe\u6240\u793a\u7684\uff0c\u8def\u7531\u9009\u62e9\u5904\u7406\u673a\uff0c\u8fdb\u884c\u5904\u7406\u548c\u8ba1\u7b97\u3002\u5982\u679c\u662f\u6570\u636e\u5206\u7ec4\uff0c\u5c31\u4f1a\u653e\u5230\u4e00\u4e2a\u961f\u5217\u91cc\u9762\uff0c\u6392\u961f\u7b49\u5019\uff0c\u7136\u540e\u9009\u62e9\u4e00\u4e2a\u5408\u9002\u7684\u8f93\u51fa\u7aef\u53e3\u8f93\u51fa\u3002</p> <p>\u6700\u540e\u6211\u4eec\u770b\u4e00\u4e0b\u8def\u7531\u5668\u8f93\u51fa\u7aef\u53e3\u505a\u4e86\u54ea\u4e9b\u4e8b\u60c5</p> <p>\u4ece\u4e0a\u56fe\u53ef\u4ee5\u770b\u5230\uff0c\u8f93\u51fa\u7aef\u53e3\u662f\u505a\u7684\u8f93\u5165\u7aef\u53e3\u7684\u9006\u8fc7\u7a0b\uff0c\u5c06\u7f51\u7edc\u5c42\u7684\u6570\u636e\u5305\u8f6c\u6362\u4e3a\u94fe\u8def\u5c42\u7684\u6570\u636e\u5e27\uff0c\u6700\u540e\u8f6c\u4e3a\u7269\u7406\u5c42\u7684\u6bd4\u7279\u6d41\u3002</p> <p>\u8f93\u5165\u548c\u8f93\u51fa\u7aef\u53e3\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5b83\u4eec\u90fd\u6709\u4e00\u4e2a\u7f13\u51b2\u961f\u5217\uff0c\u6bd4\u5982\u8f93\u5165\u6570\u636e\u7684\u901f\u5ea6\u592a\u5feb\uff0c\u8f93\u51fa\u6570\u636e\u901f\u5ea6\u6162\uff0c\u4e3a\u4e86\u5e73\u8861\u8f93\u5165\u8f93\u51fa\u901f\u5ea6\uff0c\u5c31\u7528\u7f13\u51b2\u961f\u5217\u628a\u6570\u636e\u7f13\u51b2\u4e0b\u6765\uff0c\u4e00\u4e2a\u4e00\u4e2a\u6162\u6162\u7684\u5904\u7406\uff0c\u4f46\u7f13\u51b2\u961f\u5217\u4e5f\u6709\u9650\u5ea6\uff0c\u8d85\u51fa\u8fd9\u4e2a\u9650\u5ea6\uff0c\u7f13\u51b2\u961f\u5217\u5bb9\u7eb3\u4e0d\u4e0b\uff0c\u5305\u5c31\u4f1a\u88ab\u4e22\u5230\u3002</p> <p>\u9a6c\u4e0a\u5c31\u8981\u5230\u5bf9\u524d\u7aef\u6700\u91cd\u8981\u7684\u4f20\u8f93\u5c42\u548c\u5e94\u7528\u5c42\u77e5\u8bc6\u4e86\uff01\u51c6\u5907\u63a5\u62db\uff01</p>"},{"location":"network/%E5%89%8D%E7%AB%AF%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86/#8","title":"8 \u4f20\u8f93\u5c42\u77e5\u8bc6","text":"<p>\u4f20\u8f93\u5c42\u662f\u53ea\u6709\u8ba1\u7b97\u673a\u624d\u6709\u7684\u5c42\u6b21\uff0c\u4e3b\u8981\u63d0\u4f9b\u662f\u8fdb\u7a0b\u95f4\u903b\u8f91\u901a\u4fe1 + \u53ef\u9760\u4f20\u8f93\u6216\u8005\u4e0d\u53ef\u9760\u7684\u529f\u80fd\u3002\u6bd4\u5982\u4f60\u7684QQ\u8ddf\u4f60\u5f02\u5730\u5973\u53cb\u7684QQ\u89c6\u9891\u804a\u5929\uff0c\u8fd9\u5c31\u662f\u4e0d\u540c\u8ba1\u7b97\u673a\u4e4b\u95f4\uff0c\u8fdb\u7a0b\u95f4\u7684\u901a\u4fe1\u3002</p> <p>\u8fd9\u91cc\u7b80\u5355\u8bf4\u4e00\u4e0b\u53ef\u9760\u4f20\u8f93\u534f\u8baeTCP + \u4e0d\u53ef\u9760\u4f20\u8f93\u534f\u8baeUDP\u3002</p> <p>TCP\u9762\u5411\u8fde\u63a5\uff0c\u53ef\u9760\uff0c\u4e0d\u63d0\u4f9b\u5e7f\u64ad\u548c\u591a\u64ad\uff0c\u800c\u4e14\u65f6\u95f4\u5ef6\u8fdf\u6bd4\u8f83\u5927\uff0c\u9002\u7528\u4e8e\u5927\u6587\u4ef6\u4f20\u8f93\u3002 UDP\u65e0\u8fde\u63a5\uff0c\u6536\u5230\u7684\u62a5\u4e5f\u4e0d\u786e\u8ba4\uff0c\u4f46\u65f6\u95f4\u5ef6\u8fdf\u5c0f\uff0c\u9002\u7528\u4e8e\u5c0f\u6587\u4ef6\u3002</p> <p>8.1 \u7aef\u53e3\u53f7\u6709\u4ec0\u4e48\u7528</p> <p>\u7aef\u53e3\u53f7\u53ef\u4ee5\u7528\u6765\u6807\u8bc6\u540c\u4e00\u4e2a\u4e3b\u673a\u4e0a\u901a\u4fe1\u7684\u4e0d\u540c\u5e94\u7528\u7a0b\u5e8f\uff08\u5c31\u662f\u54ea\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5728\u4f7f\u7528\u8fd9\u4e2a\u7aef\u53e3\uff09\u3002</p> <p>\u90a3\u4e3a\u4ec0\u4e48\u4e00\u4e2a\u7aef\u53e3\u53ea\u80fd\u5206\u914d\u7ed9\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u4e0d\u80fd\u662f\u591a\u4e2a\u5462\uff1f</p> <p>\u5982\u679c\u670d\u52a1\u5668\u6709\u4e24\u4e2a\u5e94\u7528\u7a0b\u5e8fA\uff0cB\uff0c\u5206\u522b\u542f\u52a8\u4e86A\u670d\u52a1\u548cB\u670d\u52a1\uff0c\u5b83\u4eec\u76d1\u542c\u540c\u4e00\u4e2a\u7aef\u53e3\uff0c\u90a3\u6709\u6570\u636e\u6765\u7684\u65f6\u5019\uff0c\u670d\u52a1\u5668\u65e0\u6cd5\u5224\u65ad\u8fd9\u4e2a\u6570\u636e\u5230\u5e95\u662f\u7ed9A\uff0c\u8fd8\u662f\u7ed9B\u3002</p> <p>8.2 UDP\u534f\u8bae</p> <p>UDP\u534f\u8bae\u662f\u53c2\u8003\u6a21\u578b\u4e2d\u4e00\u79cd\u65e0\u8fde\u63a5\u7684\u4f20\u8f93\u5c42\u534f\u8bae\uff0c\u63d0\u4f9b\u9762\u5411\u4e8b\u52a1\u7684\u7b80\u5355\u4e0d\u53ef\u9760\u4fe1\u606f\u4f20\u9001\u670d\u52a1\u3002</p> <p>\uff081\uff09 UDP\u534f\u8bae\u7684\u7279\u70b9</p> <p>UDP\u662f\u65e0\u8fde\u63a5\u7684\uff0c\u51cf\u5c11\u5f00\u9500\u548c\u53d1\u9001\u6570\u636e\u4e4b\u524d\u7684\u65f6\u95f4\u5ef6\u8fdf\u3002\u5927\u5bb6\u90fd\u77e5\u9053TCP\u7684\u4e09\u6b21\u63e1\u624b\u548c\u56db\u6b21\u5206\u624b\uff0c\u8fd9\u4e2a\u662f\u9700\u8981\u65f6\u95f4\u82b1\u9500\u7684\uff0c\u4f46\u662fUDP\u6ca1\u6709\u8fd9\u90e8\u5206\u82b1\u9500\u3002</p> <p>UDP\u4f7f\u7528\u6700\u5927\u52aa\u529b\u4ea4\u4ed8\uff0c\u5373\u4e0d\u4fdd\u8bc1\u53ef\u9760\u4ea4\u4ed8\u3002\u90a3\u8c01\u6765\u4fdd\u8bc1\u53ef\u9760\u7684\u4ea4\u4ed8\u5462\uff1f\u662f\u7531UDP\u7684\u4e0a\u4e00\u5c42\u534f\u8bae\uff0c\u5e94\u7528\u5c42\u6765\u4fdd\u8bc1\u3002</p> <p>UDP\u662f\u9762\u5411\u62a5\u6587\u7684\uff0c\u9002\u5408\u4e00\u6b21\u6027\u4f20\u8f93\u5c11\u91cf\u6570\u636e\u7684\u7f51\u7edc\u5e94\u7528\u3002\u4ec0\u4e48\u610f\u601d\u5462\uff0c\u5982\u4e0b\u56fe\uff0cUDP\u8fd9\u5c42\uff0c\u628a\u5e94\u7528\u5c42\u7684\u5168\u90e8\u5185\u5bb9\u4f5c\u4e3a\u81ea\u5df1\u7684\u6570\u636e\u62a5\u90e8\u5206\uff0c\u5728IP\u5c42\u4e5f\u53ea\u662f\u52a0\u4e86\u4e00\u4e2aIP\u9996\u90e8\uff0c\u6211\u4eec\u77e5\u9053\uff0c\u5728\u4ee5\u592a\u7f51\uff0c\u94fe\u8def\u5c42\u4e0a\u7684\u6570\u636e\u5982\u679c\u8d85\u8fc71500\u5b57\u8282\uff0c\u5c31\u4f1a\u5206\u7247\uff0c\u6240\u4ee5\u7f51\u7edc\u5c42\u53d1\u73b0\u4e0a\u9762\u4f20\u8f93\u5c42\u7ed9\u4e86\u592a\u5927\u7684\u6570\u636e\u5c31\u4f1a\u5206\u7247\uff0c\u52a0\u4e0aUDP\u662f\u4e0d\u53ef\u9760\u7684\u534f\u8bae\uff0c\u8fd9\u5c31\u52a0\u5927\u4e86UDP\u7684\u4e0d\u53ef\u9760\u6027\uff0c\u5bb9\u6613\u4e22\u5931\uff0c\u6240\u4ee5UDP\u9002\u5408\u6570\u636e\u91cf\u5c11\u7684\u3002</p> <p>UDP\u6ca1\u6709\u62e5\u585e\u63a7\u5236\uff0c\u9002\u5408\u5f88\u591a\u5b9e\u65f6\u5e94\u7528\u3002\u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u7f51\u7edc\u5835\u585e\uff0cUDP\u4e0d\u7ba1\u90a3\u4e48\u591a\uff0c\u7167\u6837\u6309\u7167\u81ea\u5df1\u7684\u901f\u7387\u53d1\u6570\u636e\uff0c\u90a3\u6709\u4e9b\u4eba\u5c31\u4f1a\u8bf4\uff0c\u8fd9\u534f\u8bae\u662f\u4e0d\u662f\u6709\u70b9\u5751B\uff0c\u8def\u90fd\u5835\u4e0a\u4e86\uff0c\u8fd8\u53d1\u6b7b\u52b2\u53d1\u6570\u636e\u5462\uff0c\u4f46\u662f\u53cd\u8fc7\u6765\u770b\uff0c\u8fd9\u4e5f\u662fUDP\u7684\u4f18\u70b9\uff0c\u5b83\u5141\u8bb8\u4e22\u5305\uff0c\u5982\u679c\u4f60\u7684\u7f51\u7edc\u60c5\u51b5\u8fd8\u4e0d\u9519\uff0cUDP\u5c31\u975e\u5e38\u9002\u5408\u5b9e\u65f6\u5e94\u7528\uff0c\u6bd4\u5982\u89c6\u9891\u4f1a\u8bae\u3002</p> <p>UDP\u9996\u90e8\u8f83\u5c0f\uff0c\u53ea\u67098\u5b57\u8282\uff0c\u800cTCP\u753120\u5b57\u8282\u3002\u8fd9\u4e5f\u662f\u51cf\u5c11\u7f51\u7edc\u4f20\u8f93\u5f00\u9500\u7684\u4e00\u65b9\u9762\u3002</p> <p>\uff082\uff09UDP\u9996\u90e8</p> <p>16\u4f4d\u7aef\u53e3\u53f7\u5360\u4e862B\uff0c\u4e5f\u5c31\u662f16\u4f4d\uff0c\u8bf4\u660e\u7aef\u53e3\u53f7\u7684\u8303\u56f4\u662f0 - 65535\u3002\u6e90\u7aef\u53e3\u53f7\u53ef\u4ee5\u6ca1\u6709\uff0c\u56e0\u4e3a\u4e0d\u5e0c\u671b\u6536\u5230\u5bf9\u65b9\u7684\u56de\u5e94\uff0c\u53ef\u4ee5\u5199\u51680\uff0c\u76ee\u7684\u7aef\u53e3\u662f\u4e00\u5b9a\u8981\u6709\u7684\u3002 16\u4f4dUDP\u957f\u5ea6\u662f\u6307\u9996\u90e8+\u6570\u636e\u7684\u957f\u5ea6\uff0c\u6bd4\u5982\u6570\u636e2B\uff0c\u9996\u90e8\u56fa\u5b9a\u662f8B\uff0c\u90a3\u4e48UDP\u957f\u5ea6\u5c31\u662f2+8 = 10B 16\u4f4dUDP\u6821\u9a8c\u548c\uff0c\u662f\u7528\u6765\u6821\u9a8c\u9996\u90e8\u548c\u6570\u636e\u6709\u9519\u8bef\uff0c\u5982\u679c\u6709\u9519\u5c31\u4e22\u5f03\u6389\u3002\u6bd4\u5982\u8bf4\u76ee\u7684\u4e3b\u673a\u627e\u4e0d\u5230\u5bf9\u5e94\u7684\u7aef\u53e3\u53f7\uff0c\u5c31\u4f1a\u7ed9\u53d1\u9001\u65b9\u8fd4\u56de\u4e00\u4e2aICMP\uff0c\u2018\u7aef\u53e3\u4e0d\u53ef\u8fbe\u2019\u7684\u5dee\u9519\u62a5\u6587\u3002 8.3 TCP\u534f\u8bae</p> <p>TCP\u534f\u8bae\u7b80\u5355\u6765\u8bf4\u662f\u4e00\u79cd\u4f4d\u4e8e\u4f20\u8f93\u5c42\u7684\uff0c\u9762\u5411\u8fde\u63a5\u7684\u3001\u53ef\u9760\u7684\u3001\u57fa\u4e8e\u5b57\u8282\u6d41\u7684\u4f20\u8f93\u5c42\u901a\u4fe1\u534f\u8bae TCP\u534f\u8bae\u7684\u7279\u70b9:</p> <p>TCP\u662f\u9762\u5411\u8fde\u63a5\u7684\u4f20\u8f93\u5c42\u534f\u8bae\u3002\u6bd4\u5982\u8bf4TCP\u7684\u4e09\u6b21\u63e1\u624b\uff0c\u56db\u6b21\u5206\u624b\uff0c\u9488\u5bf9\u7684\u90fd\u662f\u8fde\u63a5\u3002 \u6bcf\u4e00\u6761TCP\u8fde\u63a5\u53ea\u80fd\u6709\u4e24\u4e2a\u7aef\u70b9\uff0c\u6bcf\u4e00\u6761TCP\u8fde\u63a5\u662f\u70b9\u5bf9\u70b9\u7684\u3002\u4e5f\u5c31\u662f\u8bf4TCP\u662f\u4e0d\u540c\u8ba1\u7b97\u673a\u4e4b\u95f4\u7684\u8fdb\u7a0b\u7684\u901a\u4fe1\u3002 TCP\u63d0\u4f9b\u53ef\u9760\u4ea4\u4ed8\u7684\u670d\u52a1\uff0c\u65e0\u5dee\u9519\uff0c\u4e0d\u4e22\u5931\uff0c\u4e0d\u91cd\u590d\uff0c\u6309\u5e8f\u5230\u8fbe\u3002\u603b\u7ed3\u4e00\u4e0b\u5c31\u662f\uff0c\u53ef\u9760\u6709\u5e8f\uff0c\u4e0d\u4e22\u4e0d\u91cd\u3002 TCP\u63d0\u4f9b\u5168\u53cc\u5de5\u901a\u4fe1\u3002\u5168\u53cc\u5de5\u6307\u7684\u662f\u8fde\u63a5\u53cc\u65b9\u53ef\u4ee5\u540c\u65f6\u6536\u53d1\u6570\u636e\u3002\u5728\u6536\u53d1\u4e24\u7aef\u90fd\u6709\u53d1\u9001\u7f13\u5b58\u548c\u63a5\u6536\u7f13\u5b58\uff0c\u53d1\u9001\u7f13\u5b58\u5c31\u662f\u4e00\u4e2a\u51c6\u5907\u53d1\u9001\u7684\u961f\u5217\uff0c\u63a5\u6536\u7f13\u5b58\u662f\u4e00\u4e2a\u51c6\u5907\u63a5\u6536\u7684\u961f\u5217\u3002 TCP\u9762\u5411\u5b57\u8282\u6d41\u3002\u5982\u4e0b\u56fe\uff0c\u6211\u4eec\u89e3\u91ca\u4e00\u4e0b\u4ec0\u4e48\u662f\u9762\u5411\u5b57\u8282\u6d41\uff1a \u56fe\u4e2d\u76841\uff0c2\uff0c3\uff0c4.....\u6570\u636e\u5757\uff0c\u6bcf\u4e00\u4e2a\u8868\u793a\u4e00\u4e2a\u5b57\u8282\u3002tcp\u5c06\u5e94\u7528\u5c42\u7684\u6570\u636e\u53d8\u4e3a\u4e86\u8fd9\u6837\u7684\u5b57\u8282\u8fdb\u884c\u53d1\u9001\uff0c\u6bd4\u5982\u73a9\u8fc7node\u540c\u5b66\uff0c\u77e5\u9053\u4e00\u4e2abuffer\uff0cbuffer\u5c31\u662f\u5b57\u8282\u6d41\u3002</p> <p>TCP\u62a5\u6587\u7684\u9996\u90e8\u683c\u5f0f</p> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u6211\u4eec\u770b\u4e00\u4e0b\u6bd4\u8f83\u91cd\u8981\u7684\u4e00\u4e9b\u9996\u90e8\u5b57\u6bb5\uff0c\u8fd9\u91cc\u6211\u4eec\u4ecb\u7ecd\u56fa\u5b9a\u768420\u5b57\u8282\u7684TCP\u9996\u90e8</p> <p>\u6e90\u7aef\u53e3\u548c\u76ee\u7684\u7aef\u53e3\u5206\u522b\u662f\u6307\u53d1\u9001\u65b9\u5e94\u7528\u7a0b\u5e8f\u7684\u7aef\u53e3\u548c\u76ee\u7684\u65b9\u5e94\u7528\u7a0b\u5e8f\u7684\u7aef\u53e3\u53f7\u3002 \u5e8f\u53f7\u662f\u6307\u5728\u4e00\u4e2aTCP\u8fde\u63a5\u4e2d\u4f20\u9001\u7684\u5b57\u8282\u6d41\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5b57\u8282\u90fd\u6309\u987a\u5e8f\u7f16\u53f7\uff0c\u672c\u5b57\u6bb5\u8868\u793a\u672c\u62a5\u6587\u6bb5\u6240\u53d1\u9001\u6570\u636e\u7684\u7b2c\u4e00\u4e2a\u5b57\u8282\u7684\u5e8f\u53f7\u3002 \u786e\u8ba4\u53f7\u662f\u6307\u671f\u671b\u6536\u5230\u5bf9\u65b9\u4e0b\u4e00\u4e2a\u62a5\u6587\u6bb5\u7684\u7b2c\u4e00\u4e2a\u6570\u636e\u5b57\u8282\u7684\u5e8f\u53f7\u3002\u5f31\u786e\u8ba4\u597d\u4f4dn\uff0c\u5219\u8bc1\u660e\u5230\u9700\u8981N-1\u4e3a\u6b62\u6240\u6709\u7684\u6570\u636e\u90fd\u5df2\u7ecf\u6b63\u786e\u6536\u5230\u3002\u5982\u4e0b\u56fe\uff0c\u6211\u4eec\u4e3e\u4f8b\u8bf4\u660e\u4e00\u4e0b</p> <p>\u63a5\u6536\u65b9\u6536\u5230\u4e861\uff0c2\uff0c3\u4e2a\u5b57\u8282\u7ec4\u6210\u7684\u6570\u636e\u5305\uff0c\u7136\u540e\u63a5\u6536\u65b9\u5c31\u4f1a\u53d1\u9001\u4e00\u4e2a\u786e\u8ba4\u62a5\u6587\u7ed9\u53d1\u9001\u65b9\uff0c\u5176\u4e2d\u786e\u8ba4\u62a5\u6587\u7684\u786e\u8ba4\u53f7\u5c31\u5e94\u8be5\u662f4\uff0c\u56e0\u4e3a1\uff0c2\uff0c3\u8fd9\u4e09\u4e2a\u5b57\u8282\u7684\u7ec4\u6210\u7684\u6570\u636e\u5305\u5df2\u7ecf\u6536\u5230\u4e86\u3002</p> <p>\u6570\u636e\u504f\u79fb\u6307\u7684\u662fTCP\u62a5\u6587\u6bb5\u7684\u6570\u636e\u8d77\u59cb\u5904\u4e3e\u4f8bTCP\u62a5\u6587\u6bb5\u7684\u8d77\u59cb\u5904\u6709\u591a\u8fdc\u3002 6\u4e2a\u63a7\u5236\u4f4d\u4ecb\u7ecd\u5982\u4e0b \u63a7\u5236\u4f4d \u4f5c\u7528 ACK \u7f6e1\u65f6\u8868\u793a\u786e\u8ba4\u53f7\u5408\u6cd5\uff0c\u4e3a0\u7684\u65f6\u5019\u8868\u793a\u6570\u636e\u6bb5\u4e0d\u5305\u542b\u786e\u8ba4\u4fe1\u606f\uff0c\u786e\u8ba4\u53f7\u88ab\u5ffd\u7565 PSH \u7f6e1\u65f6\u8bf7\u6c42\u7684\u6570\u636e\u6bb5\u5728\u63a5\u6536\u65b9\u5f97\u5230\u540e\u5c31\u53ef\u76f4\u63a5\u9001\u5230\u5e94\u7528\u7a0b\u5e8f\uff0c\u800c\u4e0d\u5fc5\u7b49\u5230\u7f13\u51b2\u533a\u6ee1\u65f6\u624d\u4f20\u9001 RST \u7f6e1\u65f6\u91cd\u5efa\u8fde\u63a5\u3002\u5982\u679c\u63a5\u6536\u5230RST\u4f4d\u65f6\u5019\uff0c\u901a\u5e38\u53d1\u751f\u4e86\u67d0\u4e9b\u9519 SYN \u7f6e1\u65f6\u7528\u6765\u53d1\u8d77\u4e00\u4e2a\u8fde\u63a5 FIN \u7f6e1\u65f6\u8868\u793a\u53d1\u7aef\u5b8c\u6210\u53d1\u9001\u4efb\u52a1\u3002\u7528\u6765\u91ca\u653e\u8fde\u63a5\uff0c\u8868\u660e\u53d1\u9001\u65b9\u5df2\u7ecf\u6ca1\u6709\u6570\u636e\u53d1\u9001\u4e86 URG \u7d27\u6025\u6307\u9488\uff0c\u544a\u8bc9\u63a5\u6536TCP\u6a21\u5757\u7d27\u8981\u6307\u9488\u57df\u6307\u7740\u7d27\u8981\u6570\u636e 8.3.3 TCP\u5efa\u7acb\u8fde\u63a5</p> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5206\u522b\u6765\u4e86\u89e3\u4e00\u4e0b\u5efa\u7acb\u8fde\u63a5\u7684\u8fc7\u7a0b\uff1a</p> <p>\u9996\u5148\u5ba2\u6237\u7aef\u8981\u53d1\u9001\u4e00\u4e2a\u6570\u636e\u5305\u544a\u8bc9\u670d\u52a1\u5668\u8981\u5efa\u7acb\u8fde\u63a5\uff0c\u6839\u636e\u4e0a\u9762\u6211\u4eec\u4e86\u89e3\u5230\u7684\u63a7\u5236\u4f4d\u4fe1\u606f\uff0c\u5efa\u7acb\u8fde\u63a5\u9700\u8981\u628aSYN\u7f6e\u4e3a1\uff0cseq\u6307\u7684\u662f\u5e8f\u53f7\uff0c\u662f\u968f\u673a\u4ea7\u751f\u7684\u3002 \u7136\u540e\u670d\u52a1\u5668\u6536\u5230\u8be5\u6570\u636e\u5305\u540e\uff0c\u4f1a\u4e3a\u8be5TCP\u8fde\u63a5\u5206\u914d\u7f13\u5b58\u548c\u53d8\u91cf\uff0c\u7f13\u5b58\u6307\u7684\u662f\u4e00\u4e2a\u5b57\u8282\u6d41\u961f\u5217\u3002\uff08\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u90fd\u6709\u8fd9\u4e2a\u961f\u5217\uff0c\u800c\u4e14\u5982\u679c\u53cc\u65b9\u9700\u8981\u4e92\u76f8\u901a\u4fe1\uff0c\u90a3\u4e48\u53cc\u65b9\u90fd\u4f1a\u6709\u53d1\u9001\u7f13\u5b58\u548c\u63a5\u6536\u7f13\u5b58\uff09\uff0c\u63a5\u7740\u4f1a\u8fd4\u56de\u4e00\u4e2a\u786e\u8ba4\u62a5\u6587\uff0c\u5176\u4e2dSYN\u63a7\u5236\u4f4d\u7f6e\u4e3a1\uff0c\u610f\u601d\u662f\u5141\u8bb8\u5efa\u7acb\u8fde\u63a5\uff0cACK\u662f\u786e\u8ba4\u53f7\uff0c\u786e\u8ba4\u6536\u5230\u4e86\u53d1\u9001\u65b9\u7684\u5305\uff0c\u5e76\u4e14\u4f1a\u8bbe\u4e00\u4e2aseq\u5e8f\u53f7\uff0c\u4e5f\u4e3a\u4e00\u4e2a\u968f\u673a\u6570\u3002\u5c0f\u5199ack\u662f\u786e\u8ba4\u53f7\uff0c\u4e5f\u5c31\u662f\u63a5\u4e0b\u6765\u5e0c\u671b\u53d1\u9001\u65b9\u8981\u53d1\u7684\u6570\u636e\u4ece\u54ea\u5f00\u59cb\u3002 \u6700\u540e\uff0c\u5ba2\u6237\u7aef\u9700\u8981\u7ed9\u670d\u52a1\u5668\u7aef\u8fd4\u56de\u4e00\u4e2a\u786e\u8ba4\uff0c\u6b64\u65f6SYN\u63a7\u5236\u4f4d\u53d8\u4e3a0\uff0c\u610f\u601d\u8fd9\u4e0d\u662f\u5efa\u7acb\u8fde\u63a5\u7684\u8bf7\u6c42\u4e86\uff0c\u8981\u6b63\u5f0f\u53d1\u6570\u636e\u4e86\uff0cACK\u662f\u786e\u8ba4\u7801\uff0c\u610f\u601d\u662f\u6536\u5230\u4e86\u670d\u52a1\u5668\u7684\u786e\u8ba4\u8bf7\u6c42\u4e86\u3002 8.3.4 TCP\u91ca\u653e\u8fde\u63a5</p> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5206\u522b\u6765\u4e86\u89e3\u4e00\u4e0b\u91ca\u653e\u8fde\u63a5\u7684\u8fc7\u7a0b\uff1a</p> <p>\u5ba2\u6237\u7aef\u53d1\u8d77\u8bf7\u6c42\uff0c\u8bf7\u6c42\u65ad\u5f00\u94fe\u63a5\u3002FIN=1\uff0cseq=u\u3002u\u662f\u4e4b\u524d\u4f20\u9001\u8fc7\u6765\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u8282\u7684\u5e8f\u53f7+1\u3002</p> <p>FIN\uff1a\u7528\u6765\u91ca\u653e\u4e00\u4e2a\u94fe\u63a5\uff0c\u5f53FIN=1\u7684\u65f6\u5019\uff0c\u8868\u660e\u6b64\u62a5\u6587\u7684\u53d1\u9001\u65b9\u5df2\u7ecf\u5b8c\u6210\u4e86\u6570\u636e\u7684\u53d1\u9001\uff0c\u6ca1\u6709\u65b0\u7684\u6570\u636e\u8981\u4f20\u9001\uff0c\u5e76\u8981\u6c42\u91ca\u653e\u94fe\u63a5\u3002 \u5ba2\u6237\u7aef\u7b49\u7740\u670d\u52a1\u5668\u8fd4\u56de\u786e\u8ba4</p> <p>\u670d\u52a1\u5668\u6536\u5230\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u65ad\u5f00\u94fe\u63a5\u7684\u62a5\u6587\u4e4b\u540e\uff0c\u8fd4\u56de\u786e\u8ba4\u4fe1\u606f\u3002ACK=1\uff0cseq=v\uff0cack=u+1\u3002\u8fd9\u4e2a\u65f6\u5019\uff0c\u5ba2\u6237\u7aef\u4e0d\u80fd\u7ed9\u670d\u52a1\u5668\u53d1\u9001\u4fe1\u606f\u62a5\u6587\uff0c\u53ea\u80fd\u63a5\u6536\u3002\u4f46\u662f\u670d\u52a1\u5668\u8981\u662f\u8fd8\u6709\u4fe1\u606f\u8981\u4f20\u7ed9\u670d\u52a1\u5668\uff0c\u4ecd\u7136\u80fd\u4f20\u9001\u3002\u8fd9\u91cc\u7684v\u662f\u4ec0\u4e48\u610f\u601d\u5462\uff0c\u8fd9\u5c31\u53d6\u51b3\u4e8e\u670d\u52a1\u5668\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u4e4b\u524d\u7684\u4e00\u4e2a\u5305\u786e\u8ba4\u53f7\u662f\u591a\u5c11\u4e86\u3002</p> <p>\u5f53\u670d\u52a1\u5668\u4e5f\u6ca1\u6709\u4e86\u53ef\u4ee5\u4f20\u7684\u4fe1\u606f\u4e4b\u540e\uff0c\u7ed9\u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42\u7ed3\u675f\u7684\u62a5\u6587\u3002FIN=1\uff0cACK=1\uff0cack=u+1\uff0cseq=w\u3002\u8fd9\u91cc\u7684w\uff0c\u8ddf\u4e0a\u9762\u7684v\u662f\u4e00\u4e2a\u610f\u601d\uff0c\u4e3a\u4ec0\u4e48\u4e0d\u90fd\u662fv\u5462\uff0c\u56e0\u4e3a\u8fd9\u4e00\u6b65\u548c\u4e0a\u4e00\u6b65\u4e2d\u95f4\u53ef\u80fd\u8fd8\u5728\u53d1\u6570\u636e\u5462\uff0c\u6240\u4ee5seq\u8fd9\u4e2a\u6570\u636e\u53d1\u9001\u7684\u5b57\u8282\u6d41\u5e8f\u53f7\u53ef\u80fd\u8981\u53d8\u3002</p> <p>\u5ba2\u6237\u7aef\u63a5\u6536\u5230FIN=1\u7684\u62a5\u6587\u4e4b\u540e\uff0c\u8fd4\u56de\u786e\u8ba4\u62a5\u6587\uff0cACK=1\uff0cseq=u+1\uff0cack=w+1\u3002\u53d1\u9001\u5b8c\u6bd5\u4e4b\u540e\uff0c\u5ba2\u6237\u7aef\u8fdb\u5165\u7b49\u5f85\u72b6\u6001\uff0c\u7b49\u5f85\u4e24\u4e2a\u65f6\u95f4\u5468\u671f\u3002\u5173\u95ed\u3002</p> <p>\u4e3a\u4ec0\u4e48\u6700\u540e\u8fd8\u8981\u7b49\u5f85\u4e24\u4e2a\u65f6\u95f4\u5468\u671f\u5462\uff1f</p> <p>\u5ba2\u6237\u7aef\u7684\u6700\u540e\u4e00\u4e2aACK\u62a5\u6587\u5728\u4f20\u8f93\u7684\u65f6\u5019\u4e22\u5931\uff0c\u670d\u52a1\u5668\u5e76\u6ca1\u6709\u63a5\u6536\u5230\u8fd9\u4e2a\u62a5\u6587\u3002\u8fd9\u4e2a\u5019\u65f6\u5019\u670d\u52a1\u5668\u5c31\u4f1a\u8d85\u65f6\u91cd\u4f20\u8fd9\u4e2aFIN\u6d88\u606f\uff0c\u7136\u540e\u5ba2\u6237\u7aef\u5c31\u4f1a\u91cd\u65b0\u8fd4\u56de\u6700\u540e\u4e00\u4e2aACK\u62a5\u6587\uff0c\u7b49\u5f85\u4e24\u4e2a\u65f6\u95f4\u5468\u671f\uff0c\u5b8c\u6210\u5173\u95ed\u3002 \u5982\u679c\u4e0d\u7b49\u5f85\u8fd9\u4e24\u4e2a\u65f6\u95f4\u5468\u671f\uff0c\u670d\u52a1\u5668\u91cd\u4f20\u7684\u90a3\u6761\u6d88\u606f\u5c31\u4e0d\u4f1a\u6536\u5230\u3002\u670d\u52a1\u5668\u5c31\u56e0\u4e3a\u63a5\u6536\u4e0d\u5230\u5ba2\u6237\u7aef\u7684\u4fe1\u606f\u800c\u65e0\u6cd5\u6b63\u5e38\u5173\u95ed\u3002 8.3.5 TCP3\u6b21\u63e1\u624b4\u6b21\u6325\u624b\u5e38\u89c1\u9762\u8bd5\u9898</p> <p>\u4e3a\u4ec0\u4e48\u8fde\u63a5\u7684\u65f6\u5019\u662f\u4e09\u6b21\u63e1\u624b\uff0c\u5173\u95ed\u7684\u65f6\u5019\u5374\u662f\u56db\u6b21\u63e1\u624b\uff1f</p> <p>\u5173\u95ed\u8fde\u63a5\u65f6\uff0c\u670d\u52a1\u5668\u6536\u5230\u5bf9\u65b9\u7684FIN\u62a5\u6587\u65f6\uff0c\u4ec5\u4ec5\u8868\u793a\u5bf9\u65b9\u4e0d\u518d\u53d1\u9001\u6570\u636e\u4e86\u4f46\u662f\u8fd8\u80fd\u63a5\u6536\u6570\u636e\uff0c\u800c\u81ea\u5df1\u4e5f\u672a\u5fc5\u5168\u90e8\u6570\u636e\u90fd\u53d1\u9001\u7ed9\u5bf9\u65b9\u4e86\uff0c\u6240\u4ee5\u5df1\u65b9\u53ef\u4ee5\u7acb\u5373\u5173\u95ed\uff0c\u4e5f\u53ef\u4ee5\u53d1\u9001\u4e00\u4e9b\u6570\u636e\u7ed9\u5bf9\u65b9\u540e\uff0c\u518d\u53d1\u9001FIN\u62a5\u6587\u7ed9\u5bf9\u65b9\u6765\u8868\u793a\u540c\u610f\u73b0\u5728\u5173\u95ed\u8fde\u63a5 \u56e0\u6b64\uff0c\u5df1\u65b9ACK\u548cFIN\u4e00\u822c\u90fd\u4f1a\u5206\u5f00\u53d1\u9001\uff0c\u4ece\u800c\u5bfc\u81f4\u591a\u4e86\u4e00\u6b21\u3002</p> <p>\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u7528\u4e24\u6b21\u63e1\u624b\u8fdb\u884c\u8fde\u63a5\uff1f</p> <p>\u4ee5\u4e0b\u662f\u7f51\u4e0a\u666e\u904d\u7684\u89e3\u7b54\uff1a</p> <p>\u82e5\u5efa\u7acb\u8fde\u63a5\u53ea\u9700\u4e24\u6b21\u63e1\u624b\uff0c\u5ba2\u6237\u7aef\u5e76\u6ca1\u6709\u592a\u5927\u7684\u53d8\u5316\uff0c\u4ecd\u7136\u9700\u8981\u83b7\u5f97\u670d\u52a1\u7aef\u7684\u5e94\u7b54\u540e\u624d\u8fdb\u5165ESTABLISHED\u72b6\u6001\uff0c\u800c\u670d\u52a1\u7aef\u5728\u6536\u5230\u8fde\u63a5\u8bf7\u6c42\u540e\u5c31\u8fdb\u5165ESTABLISHED\u72b6\u6001\u3002</p> <p>\u6b64\u65f6\u5982\u679c\u7f51\u7edc\u62e5\u585e\uff0c\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u8fde\u63a5\u8bf7\u6c42\u8fdf\u8fdf\u5230\u4e0d\u4e86\u670d\u52a1\u7aef\uff0c\u5ba2\u6237\u7aef\u4fbf\u8d85\u65f6\u91cd\u53d1\u8bf7\u6c42\uff0c\u5982\u679c\u670d\u52a1\u7aef\u6b63\u786e\u63a5\u6536\u5e76\u786e\u8ba4\u5e94\u7b54\uff0c\u53cc\u65b9\u4fbf\u5f00\u59cb\u901a\u4fe1\uff0c\u901a\u4fe1\u7ed3\u675f\u540e\u91ca\u653e\u8fde\u63a5\u3002\u6b64\u65f6\uff0c\u5982\u679c\u90a3\u4e2a\u5931\u6548\u7684\u8fde\u63a5\u8bf7\u6c42\u62b5\u8fbe\u4e86\u670d\u52a1\u7aef\uff0c\u7531\u4e8e\u53ea\u6709\u4e24\u6b21\u63e1\u624b\uff0c\u670d\u52a1\u7aef\u6536\u5230\u8bf7\u6c42\u5c31\u4f1a\u8fdb\u5165ESTABLISHED\u72b6\u6001\uff0c\u7b49\u5f85\u53d1\u9001\u6570\u636e\u6216\u4e3b\u52a8\u53d1\u9001\u6570\u636e</p> <p>\u4f46\u6b64\u65f6\u7684\u5ba2\u6237\u7aef\u65e9\u5df2\u8fdb\u5165CLOSED\u72b6\u6001\uff0c\u670d\u52a1\u7aef\u5c06\u4f1a\u4e00\u76f4\u7b49\u5f85\u4e0b\u53bb\uff0c\u8fd9\u6837\u6d6a\u8d39\u670d\u52a1\u7aef\u8fde\u63a5\u8d44\u6e90</p> <p>\u4f46\u6211\u89c9\u5f97\u8fd9\u4e2a\u53ea\u662f\u4e24\u6b21\u63e1\u624b\u53ef\u80fd\u9020\u6210\u7684\u95ee\u9898\uff0c\u6700\u5173\u952e\u7684\u662f\u4e24\u6b21\u63e1\u624b\u6709\u670d\u52a1\u5668\u5bf9\u5ba2\u6237\u7aef\u7684\u8d77\u59cb\u5e8f\u5217\u53f7\u505a\u4e86\u786e\u8ba4\uff0c\u4f46\u5ba2\u6237\u7aef\u5374\u6ca1\u6709\u5bf9\u670d\u52a1\u5668\u7684\u8d77\u59cb\u5e8f\u5217\u53f7\u505a\u786e\u8ba4\uff0c\u4e0d\u80fd\u4fdd\u8bc1\u4f20\u8f93\u7684\u53ef\u9760\u6027\u3002</p> <p>\u5982\u679c\u5df2\u7ecf\u5efa\u7acb\u4e86\u8fde\u63a5\uff0c\u4f46\u662f\u5ba2\u6237\u7aef\u7a81\u7136\u51fa\u73b0\u6545\u969c\u4e86\u600e\u4e48\u529e\uff1f</p> <p>TCP\u4fdd\u6d3b\u8ba1\u65f6\u5668 \u6bcf\u6b21\u5ba2\u6237\u7aef\u8bf7\u6c42\u670d\u52a1\u5668\u4f1a\u91cd\u7f6e\u8ba1\u65f6\u5668\uff0c\u5f532\u5c0f\u65f6\u4e4b\u5185\u6ca1\u6536\u5230\u5ba2\u6237\u7aef\u4efb\u4f55\u6570\u636e\u65f6\uff0c\u4f1a\u6bcf\u969475s\u5411\u5ba2\u6237\u7aef\u53d1\u4e00\u4e2a\u63a2\u6d4b\u62a5\u6587\uff0c\u82e5\u63a5\u8fde\u53d1\u900110\u4e2a\uff0c\u5ba2\u6237\u7aef\u90fd\u6ca1\u6709\u53cd\u5e94\uff0c\u5219\u8ba4\u4e3a\u5ba2\u6237\u7aef\u6545\u969c\uff0c\u5173\u95ed\u8fde\u63a5\u3002</p> <p>\u4ec0\u4e48\u662fSYN\u6d2a\u6cdb\u653b\u51fb\uff1f</p> <p>SYN\u6d2a\u6cdb\u653b\u51fb\u5c31\u662f\u5229\u7528TCP\u534f\u8bae\u7684\u7279\u6027\uff08\u4e09\u6b21\u63e1\u624b\uff09\u3002 \u653b\u51fb\u8005\u53d1\u9001TCP\u7684 SYN\uff0cSYN\u662fTCP\u4e09\u6b21\u63e1\u624b\u4e2d\u7b2c\u4e00\u4e2a\u6570\u636e\u5305\uff0c\u800c\u5f53\u670d\u52a1\u5668\u8fd4\u56deACK\u540e\uff0c\u8be5\u653b\u51fb\u8005\u5c31\u4e0d\u5bf9\u5176\u8fdb\u884c\u518d\u786e\u8ba4\uff0c\u90a3\u8fd9\u4e2aTCP\u8fde\u63a5\u5c31\u5904\u4e8e\u6302\u8d77\u72b6\u6001\uff0c\u4e5f\u5c31\u662f\u534a\u8fde\u63a5\u72b6\u6001\uff0c\u670d\u52a1\u5668\u6536\u4e0d\u5230\u518d\u786e\u8ba4\u7684\u8bdd\uff0c\u8fd8\u4f1a\u91cd\u590d\u53d1\u9001ACK\u7ed9\u653b\u51fb\u8005\u3002 \u8fd9\u6837\u66f4\u52a0\u4f1a\u6d6a\u8d39\u670d\u52a1\u5668\u8d44\u6e90\u3002\u653b\u51fb\u8005\u5c31\u5bf9\u670d\u52a1\u5668\u53d1\u9001\u5927\u91cf\u7684\u8fd9\u79cdTCP\u8fde\u63a5\uff0c\u7531\u4e8e\u6bcf\u4e00\u4e2a\u8fde\u63a5\u90fd\u65e0\u6cd5\u5b8c\u6210\u4e09\u6b21\u63e1\u624b\uff0c\u6240\u4ee5\u5c31\u5728\u670d\u52a1\u5668\u4e0a\uff0c\u8fd9\u4e9bTCP\u8fde\u63a5\u4f1a\u56e0\u4e3a\u6302\u8d77\u72b6\u6001\u800c\u6d88\u8017CPU\u548c\u5185\u5b58\uff0c\u6700\u540e\u670d\u52a1\u5668\u53ef\u80fd\u6b7b\u673a\u3002</p> <p>\u5e8f\u53f7\uff08ISN\uff09\u4e3a\u4ec0\u4e48\u8981\u968f\u673a\uff1f \u589e\u52a0\u5b89\u5168\u6027\uff0c\u4e3a\u4e86\u907f\u514d\u88ab\u7b2c\u4e09\u65b9\u731c\u6d4b\u5230\uff0c\u4ece\u800c\u88ab\u7b2c\u4e09\u65b9\u4f2a\u9020\u7684RST\u62a5\u6587Reset\u3002 \u4e09\u6b21\u63e1\u624b\u7684\u7b2c\u4e00\u6b21\u53ef\u4ee5\u643a\u5e26\u6570\u636e\u5417\uff1f\u4e3a\u4f55\uff1f</p> <p>\u4e0d\u53ef\u4ee5\uff0c\u4e09\u6b21\u63e1\u624b\u8fd8\u6ca1\u6709\u5b8c\u6210\u3002\u800c\u4e14\u8fd9\u6837\u4f1a\u653e\u5927SYN FLOOD\uff08SYN\u6d2a\u6cdb\uff09\u653b\u51fb\u3002 \u5982\u679c\u653b\u51fb\u8005\u4f2a\u9020\u4e86\u6210\u5343\u4e0a\u4e07\u7684\u63e1\u624b\u62a5\u6587\uff0c\u643a\u5e26\u4e861K+ \u5b57\u8282\u7684\u6570\u636e\uff0c\u800c\u63a5\u6536\u65b9\u4f1a\u5f00\u8f9f\u5927\u91cf\u7684\u7f13\u5b58\u6765\u5bb9\u7eb3\u8fd9\u4e9b\u5de8\u5927\u6570\u636e\uff0c\u5185\u5b58\u4f1a\u5f88\u5bb9\u6613\u8017\u5c3d\uff0c\u4ece\u800c\u62d2\u7edd\u670d\u52a1\u3002</p> <p>\u4e09\u6b21\u63e1\u624b\u7684\u7b2c\u4e09\u6b21\u53ef\u4ee5\u643a\u5e26\u6570\u636e\u5417\uff1f\u4e3a\u4f55\uff1f \u7b2c\u4e09\u6b21\u63e1\u624b\uff0c\u6b64\u65f6\u5ba2\u6237\u7aef\u5df2\u7ecf\u5904\u4e8eESTABLISHED\u72b6\u6001\u3002\u5bf9\u4e8e\u5ba2\u6237\u7aef\u6765\u8bf4\uff0c\u4ed6\u5df2\u7ecf\u5efa\u7acb\u8d77\u8fde\u63a5\u4e86\uff0c\u5e76\u4e14\u5df2\u7ecf\u77e5\u9053\u670d\u52a1\u5668\u7684\u63a5\u6536\u548c\u53d1\u9001\u80fd\u529b\u662f\u6b63\u5e38\u7684\u3002\u6240\u4ee5\u4e5f\u5c31\u53ef\u4ee5\u643a\u5e26\u6570\u636e\u4e86\u3002</p> <p>8.3.6 TCP\u5982\u4f55\u5b9e\u73b0\u53ef\u9760\u4f20\u8f93</p> <p>\u4e3b\u8981\u901a\u8fc7\u4ee5\u4e0b\u56db\u79cd\u65b9\u5f0f\u5b9e\u73b0\u53ef\u9760\u4f20\u8f93\u673a\u5236\uff1a</p> <p>\u6821\u9a8c\u3002\u4f2a\u9996\u90e8\u662f\u4e3a\u4e86\u589e\u52a0TCP\u6821\u9a8c\u548c\u7684\u68c0\u9519\u80fd\u529b\uff1a\u901a\u8fc7\u4f2a\u9996\u90e8\u7684\u76ee\u7684IP\u5730\u5740\u6765\u68c0\u67e5TCP\u62a5\u6587\u662f\u5426\u6536\u9519\u4e86\u3001\u901a\u8fc7\u4f2a\u9996\u90e8\u7684\u4f20\u8f93\u5c42\u534f\u8bae\u53f7\u6765\u68c0\u67e5\u4f20\u8f93\u5c42\u534f\u8bae\u662f\u5426\u9009\u5bf9\u4e86\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4f2a\u9996\u90e8\u5b9e\u9645\u4e0a\u662f\u4e0d\u5b58\u5728\u7684\uff0c\u53ea\u662f\u7528\u6765\u9a8c\u8bc1TCP\u62a5\u6587\u662f\u5426\u51fa\u9519\u3002 \u5e8f\u53f7\u3002\u4e4b\u524d\u6211\u4eec\u63d0\u5230TCP\u662f\u9762\u5411\u5b57\u8282\u6d41\u7684\uff0c\u6bd4\u5982\u7b2c\u4e00\u4e2a\u5b57\u8282\u5c31\u662f\u5e8f\u53f71\uff0c\u7b2c\u4e8c\u4e2a\u5b57\u8282\u5c31\u662f\u5e8f\u53f72\u3002 \u800c\u5728TCP\u62a5\u6587\u683c\u5f0f\u4ecb\u7ecd\u7684\u65f6\u5019\uff0c\u6709\u4e00\u4e2a\u5e8f\u53f7\u5b57\u6bb5\uff0c\u8fd9\u4e2a\u6307\u7684\u662f\u4e00\u4e2a\u62a5\u6587\u6bb5\u7b2c\u4e00\u4e2a\u5b57\u8282\u7684\u5e8f\u53f7\u3002\u62a5\u6587\u6bb5\u5c31\u662f\u4f60\u6bcf\u4e2a\u6570\u636e\u5305\u3002\u6709\u4e86\u5e8f\u53f7\uff0c\u5c31\u80fd\u4fdd\u8bc1\u6570\u636e\u662f\u6709\u5e8f\u7684\u4f20\u5165\u5e94\u7528\u5c42\u3002 \u786e\u8ba4\u3002\u53d1\u9001\u65b9\u5728\u6536\u5230\u63a5\u6536\u65b9\u7684\u786e\u8ba4\u5305\u4e4b\u540e\uff0c\u624d\u7ee7\u7eed\u53d1\u9001\u5269\u4e0b\u7684\u6570\u636e\u3002 \u91cd\u4f20\u3002TCP\u7684\u53d1\u9001\u65b9\u5728\u89c4\u5b9a\u7684\u65f6\u95f4\u5185\u6ca1\u6709\u6536\u5230\u786e\u8ba4\u5c31\u8981\u91cd\u4f20\u5df2\u53d1\u9001\u7684\u62a5\u6587\u6bb5\uff08\u8d85\u65f6\u91cd\u4f20\uff09\u3002\u91cd\u4f20\u65f6\u95f4\u662f\u52a8\u6001\u6539\u53d8\u7684\uff0c\u4f9d\u636e\u7684\u662fRTTS\uff08\u52a0\u6743\u5e73\u5747\u5f80\u8fd4\u65f6\u95f4\uff09\u3002 8.3.7 TCP\u7684\u6d41\u91cf\u63a7\u5236</p> <p>\u4e3a\u4ec0\u4e48\u9700\u8981\u6d41\u91cf\u63a7\u5236\u5462\uff1f</p> <p>\u6bd4\u5982\u53d1\u9001\u65b9\u53d1\u9001\u901f\u5ea6\u975e\u5e38\u5feb\uff0c\u63a5\u6536\u65b9\u63a5\u6536\u901f\u5ea6\u7279\u522b\u6162\uff0c\u8fd9\u6837\u5c31\u4f1a\u53d1\u751f\u4e25\u91cd\u7684\u4e22\u5305\u73b0\u8c61\u3002</p> <p>TCP\u901a\u8fc7\u6ed1\u52a8\u7a97\u53e3\u7684\u673a\u5236\u6765\u5b9e\u73b0\u6d41\u91cf\u63a7\u5236\u3002\u7b80\u5355\u6765\u8bf4\u5982\u4e0b(\u5efa\u8bae\u7f51\u4e0a\u627e\u4e00\u4e2a\u52a8\u753b\u6559\u7a0b\u6765\u7406\u89e3\uff0c\u6587\u5b57\u6548\u679c\u4e0d\u662f\u5f88\u597d):</p> <p>TCP \u4e2d\u91c7\u7528\u6ed1\u52a8\u7a97\u53e3\u6765\u8fdb\u884c\u4f20\u8f93\u63a7\u5236\uff0c\u6ed1\u52a8\u7a97\u53e3\u7684\u5927\u5c0f\u610f\u5473\u7740\u63a5\u6536\u65b9\u8fd8\u6709\u591a\u5927\u7684\u7f13\u51b2\u533a\u53ef\u4ee5\u7528\u4e8e\u63a5\u6536\u6570\u636e\u3002\u53d1\u9001\u65b9\u53ef\u4ee5\u901a\u8fc7\u6ed1\u52a8\u7a97\u53e3\u7684\u5927\u5c0f\u6765\u786e\u5b9a\u5e94\u8be5\u53d1\u9001\u591a\u5c11\u5b57\u8282\u7684\u6570\u636e\u3002 \u5f53\u6ed1\u52a8\u7a97\u53e3\u4e3a 0\u65f6\uff0c\u53d1\u9001\u65b9\u4e00\u822c\u4e0d\u80fd\u518d\u53d1\u9001\u6570\u636e\u62a5\uff0c\u4f46\u6709\u4e24\u79cd\u60c5\u51b5\u9664\u5916\uff0c\u4e00\u79cd\u60c5\u51b5\u662f\u53ef\u4ee5\u53d1\u9001\u7d27\u6025\u6570\u636e\uff0c\u4f8b\u5982\uff0c\u5141\u8bb8\u7528\u6237\u7ec8\u6b62\u5728\u8fdc\u7aef\u673a\u4e0a\u7684\u8fd0\u884c\u8fdb\u7a0b\u3002\u53e6\u4e00\u79cd\u60c5\u51b5\u662f\u53d1\u9001\u65b9\u53ef\u4ee5\u53d1\u9001\u4e00\u4e2a 1 \u5b57\u8282\u7684\u6570\u636e\u62a5\u6765\u901a\u77e5\u63a5\u6536\u65b9\u91cd\u65b0\u58f0\u660e\u5b83\u5e0c\u671b\u63a5\u6536\u7684\u4e0b\u4e00\u5b57\u8282\u53ca\u53d1\u9001\u65b9\u7684\u6ed1\u52a8\u7a97\u53e3\u5927\u5c0f\u3002 8.3.8 TCP\u7684\u62e5\u585e\u63a7\u5236</p> <p>\u8fd9\u90e8\u5206\u6211\u4e5f\u89c9\u5f97\u6587\u5b57\u90e8\u5206\u592a\u751f\u786c\u4e86\uff0c\u5f00\u59cb\u6211\u4e5f\u4e0d\u600e\u4e48\u7406\u89e3\uff0c\u770b\u6765\u4e00\u4e2a\u89c6\u9891\u4e4b\u540e\u6211\u4e86\u89e3\u4e86\u57fa\u672c\u539f\u7406\uff0c\u8fd9\u91cc\u6211\u6587\u5b57\u7248\u548c\u89c6\u9891\u5730\u5740\u90fd\u653e\u4e0a\u6765\u3002</p> <p>\u89c6\u9891\u5730\u5740\u5982\u4e0b\uff1a\u62e5\u585e\u63a7\u5236\u89c6\u9891\u7248</p> <p>\u6587\u5b57\u7248\u5982\u4e0b\uff1a</p> <p>\u5982\u679c\u7f51\u7edc\u51fa\u73b0\u62e5\u585e\uff0c\u5206\u7ec4\u5c06\u4f1a\u4e22\u5931\uff0c\u6b64\u65f6\u53d1\u9001\u65b9\u4f1a\u7ee7\u7eed\u91cd\u4f20\uff0c\u4ece\u800c\u5bfc\u81f4\u7f51\u7edc\u62e5\u585e\u7a0b\u5ea6\u66f4\u9ad8\u3002\u56e0\u6b64\u5f53\u51fa\u73b0\u62e5\u585e\u65f6\uff0c\u5e94\u5f53\u63a7\u5236\u53d1\u9001\u65b9\u7684\u901f\u7387\u3002\u8fd9\u4e00\u70b9\u548c\u6d41\u91cf\u63a7\u5236\u5f88\u50cf\uff0c\u4f46\u662f\u51fa\u53d1\u70b9\u4e0d\u540c\u3002\u6d41\u91cf\u63a7\u5236\u662f\u4e3a\u4e86\u8ba9\u63a5\u6536\u65b9\u80fd\u6765\u5f97\u53ca\u63a5\u6536\uff0c\u800c\u62e5\u585e\u63a7\u5236\u662f\u4e3a\u4e86\u964d\u4f4e\u6574\u4e2a\u7f51\u7edc\u7684\u62e5\u585e\u7a0b\u5ea6\u3002</p> <p>TCP \u4e3b\u8981\u901a\u8fc7\u56db\u4e2a\u7b97\u6cd5\u6765\u8fdb\u884c\u62e5\u585e\u63a7\u5236\uff1a\u6162\u5f00\u59cb\u3001\u62e5\u585e\u907f\u514d\u3001\u5feb\u91cd\u4f20\u3001\u5feb\u6062\u590d\u3002</p> <p>\u53d1\u9001\u65b9\u9700\u8981\u7ef4\u62a4\u4e00\u4e2a\u53eb\u505a\u62e5\u585e\u7a97\u53e3\uff08cwnd\uff09\u7684\u72b6\u6001\u53d8\u91cf\uff0c\u6ce8\u610f\u62e5\u585e\u7a97\u53e3\u4e0e\u53d1\u9001\u65b9\u7a97\u53e3\u7684\u533a\u522b\uff1a\u62e5\u585e\u7a97\u53e3\u53ea\u662f\u4e00\u4e2a\u72b6\u6001\u53d8\u91cf\uff0c\u5b9e\u9645\u51b3\u5b9a\u53d1\u9001\u65b9\u80fd\u53d1\u9001\u591a\u5c11\u6570\u636e\u7684\u662f\u53d1\u9001\u65b9\u7a97\u53e3\u3002</p> <p>\u4e3a\u4e86\u4fbf\u4e8e\u8ba8\u8bba\uff0c\u505a\u5982\u4e0b\u5047\u8bbe\uff1a</p> <p>\u63a5\u6536\u65b9\u6709\u8db3\u591f\u5927\u7684\u63a5\u6536\u7f13\u5b58\uff0c\u56e0\u6b64\u4e0d\u4f1a\u53d1\u751f\u6d41\u91cf\u63a7\u5236\uff1b</p> <p>\u867d\u7136 TCP \u7684\u7a97\u53e3\u57fa\u4e8e\u5b57\u8282\uff0c\u4f46\u662f\u8fd9\u91cc\u8bbe\u7a97\u53e3\u7684\u5927\u5c0f\u5355\u4f4d\u4e3a\u62a5\u6587\u6bb5\u3002</p> <p>\u6162\u5f00\u59cb\u4e0e\u62e5\u585e\u907f\u514d</p> <p>\u53d1\u9001\u7684\u6700\u521d\u6267\u884c\u6162\u5f00\u59cb\uff0c\u4ee4 cwnd = 1\uff0c\u53d1\u9001\u65b9\u53ea\u80fd\u53d1\u9001 1 \u4e2a\u62a5\u6587\u6bb5\uff1b\u5f53\u6536\u5230\u786e\u8ba4\u540e\uff0c\u5c06 cwnd \u52a0\u500d\uff0c\u56e0\u6b64\u4e4b\u540e\u53d1\u9001\u65b9\u80fd\u591f\u53d1\u9001\u7684\u62a5\u6587\u6bb5\u6570\u91cf\u4e3a\uff1a2\u30014\u30018 ...</p> <p>\u6ce8\u610f\u5230\u6162\u5f00\u59cb\u6bcf\u4e2a\u8f6e\u6b21\u90fd\u5c06 cwnd \u52a0\u500d\uff0c\u8fd9\u6837\u4f1a\u8ba9 cwnd \u589e\u957f\u901f\u5ea6\u975e\u5e38\u5feb\uff0c\u4ece\u800c\u4f7f\u5f97\u53d1\u9001\u65b9\u53d1\u9001\u7684\u901f\u5ea6\u589e\u957f\u901f\u5ea6\u8fc7\u5feb\uff0c\u7f51\u7edc\u62e5\u585e\u7684\u53ef\u80fd\u6027\u4e5f\u5c31\u66f4\u9ad8\u3002\u8bbe\u7f6e\u4e00\u4e2a\u6162\u5f00\u59cb\u95e8\u9650 ssthresh\uff0c\u5f53 cwnd &gt;= ssthresh \u65f6\uff0c\u8fdb\u5165\u62e5\u585e\u907f\u514d\uff0c\u6bcf\u4e2a\u8f6e\u6b21\u53ea\u5c06 cwnd \u52a0 1\u3002</p> <p>\u5982\u679c\u51fa\u73b0\u4e86\u8d85\u65f6\uff0c\u5219\u4ee4 ssthresh = cwnd / 2\uff0c\u7136\u540e\u91cd\u65b0\u6267\u884c\u6162\u5f00\u59cb\u3002</p> <p>\u5feb\u91cd\u4f20\u4e0e\u5feb\u6062\u590d</p> <p>\u5728\u63a5\u6536\u65b9\uff0c\u8981\u6c42\u6bcf\u6b21\u63a5\u6536\u5230\u62a5\u6587\u6bb5\u90fd\u5e94\u8be5\u5bf9\u6700\u540e\u4e00\u4e2a\u5df2\u6536\u5230\u7684\u6709\u5e8f\u62a5\u6587\u6bb5\u8fdb\u884c\u786e\u8ba4\u3002\u4f8b\u5982\u5df2\u7ecf\u63a5\u6536\u5230 M1 \u548c M2\uff0c\u6b64\u65f6\u6536\u5230 M4\uff0c\u5e94\u5f53\u53d1\u9001\u5bf9 M2 \u7684\u786e\u8ba4\u3002</p> <p>\u5728\u53d1\u9001\u65b9\uff0c\u5982\u679c\u6536\u5230\u4e09\u4e2a\u91cd\u590d\u786e\u8ba4\uff0c\u90a3\u4e48\u53ef\u4ee5\u77e5\u9053\u4e0b\u4e00\u4e2a\u62a5\u6587\u6bb5\u4e22\u5931\uff0c\u6b64\u65f6\u6267\u884c\u5feb\u91cd\u4f20\uff0c\u7acb\u5373\u91cd\u4f20\u4e0b\u4e00\u4e2a\u62a5\u6587\u6bb5\u3002\u4f8b\u5982\u6536\u5230\u4e09\u4e2a M2\uff0c\u5219 M3 \u4e22\u5931\uff0c\u7acb\u5373\u91cd\u4f20 M3\u3002</p> <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ea\u662f\u4e22\u5931\u4e2a\u522b\u62a5\u6587\u6bb5\uff0c\u800c\u4e0d\u662f\u7f51\u7edc\u62e5\u585e\u3002\u56e0\u6b64\u6267\u884c\u5feb\u6062\u590d\uff0c\u4ee4 ssthresh = cwnd / 2 \uff0ccwnd = ssthresh\uff0c\u6ce8\u610f\u5230\u6b64\u65f6\u76f4\u63a5\u8fdb\u5165\u62e5\u585e\u907f\u514d\u3002</p> <p>\u6162\u5f00\u59cb\u548c\u5feb\u6062\u590d\u7684\u5feb\u6162\u6307\u7684\u662f cwnd \u7684\u8bbe\u5b9a\u503c\uff0c\u800c\u4e0d\u662f cwnd \u7684\u589e\u957f\u901f\u7387\u3002\u6162\u5f00\u59cb cwnd \u8bbe\u5b9a\u4e3a 1\uff0c\u800c\u5feb\u6062\u590d cwnd \u8bbe\u5b9a\u4e3a ssthresh\u3002</p>"},{"location":"network/%E5%89%8D%E7%AB%AF%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86/#9","title":"9\u3001\u5e94\u7528\u5c42","text":"<p>9.1 \u5e94\u7528\u5c42\u6709\u5565\u7528\uff1f</p> <p>\u5e94\u7528\u5c42\u5bf9\u5e94\u7528\u7a0b\u5e8f\u7684\u901a\u4fe1\u63d0\u4f9b\u670d\u52a1\u3002</p> <p>\u533a\u5206\u662f\u53d1\u9001\u62a5\u6587\u8fd8\u662f\u63a5\u6536\u62a5\u6587 \u5b9a\u4e49\u62a5\u6587\u7c7b\u578b\u7684\u8bed\u6cd5\uff0c\u6bd4\u5982\u67d0\u5b57\u6bb5\u7684\u610f\u601d\uff0c\u4f8b\u5982http\u4e2dcontent-type\u5b57\u6bb5\u662f\u4ec0\u4e48\u610f\u601d\u3002 \u6700\u540e\u5c31\u662f\u8fdb\u7a0b\u5982\u4f55\uff0c\u4ec0\u4e48\u65f6\u5019\u628a\u4f20\u8f93\u5c42\u7684\u6570\u636e\u4ea4\u7ed9\u5e94\u7528\u5c42\u3002</p> <p>\u4e00\u4e9b\u6bd4\u8f83\u91cd\u8981\u7684\u5e94\u7528\u5c42\u534f\u8bae\u5982\u4e0b\u56fe\uff1a</p> <p>9.2 \u5e94\u7528\u5c42\u5e38\u89c1\u7684\u6a21\u578b</p> <p>\u7b2c\u4e00\u79cd\u662f\u5ba2\u6237\u7aef/\u670d\u52a1\u5668\u6a21\u578b\uff0c\u4e5f\u5c31\u662fC/S\u67b6\u6784\u3002\u6bd4\u5982\u7535\u5b50\u90ae\u4ef6\u3001web\u90fd\u662f\u3002</p> <p>\u7b2c\u4e8c\u79cd\u662fP2P\u6a21\u578b\uff0c\u6bcf\u4e2a\u4e3b\u673a\u65e2\u53ef\u4ee5\u63d0\u4f9b\u670d\u52a1\uff0c\u4e5f\u53ef\u4ee5\u8bf7\u6c42\u670d\u52a1\u3002\u6bd4\u5982\u8fc5\u96f7\u4e0b\u8f7d\u4e5f\u662f\u4f7f\u7528P2P\u6280\u672f\u7684\u3002</p> <p>9.3 \u77ed\u94fe\u63a5\u548c\u957f\u94fe\u63a5</p> <p>\u800cTCP\u8fde\u63a5\u6709\u4e24\u79cd\u5de5\u4f5c\u65b9\u5f0f\uff1a\u77ed\u8fde\u63a5\u65b9\u5f0f\uff08Short-Live Connection\uff09\u548c\u957f\u8fde\u63a5\u65b9\u5f0f\uff08Long-Live Connection\uff09\u3002</p> <p>\u77ed\u8fde\u63a5\u65b9\u5f0f\uff1a</p> <p>\u5f53\u5ba2\u6237\u7aef\u6709\u8bf7\u6c42\u65f6\uff0c\u4f1a\u5efa\u7acb\u4e00\u4e2aTCP\u8fde\u63a5\uff0c\u63a5\u6536\u5230\u670d\u52a1\u5668\u54cd\u5e94\u540e\uff0c\u5c31\u65ad\u5f00\u8fde\u63a5\u3002\u4e0b\u6b21\u6709\u8bf7\u6c42\u65f6\uff0c\u518d\u5efa\u7acb\u8fde\u63a5\uff0c\u6536\u5230\u54cd\u5e94\u540e\uff0c\u518d\u65ad\u5f00\u3002\u5982\u6b64\u5faa\u73af\u3002\u8fd9\u79cd\u65b9\u5f0f\u4e3b\u8981\u6709\u4e24\u4e2a\u7f3a\u70b9\uff1a</p> <p>\u5efa\u7acbTCP\u8fde\u63a5\u9700\u89813\u6b21\u201c\u63e1\u624b\u201d\uff0c\u62c6\u9664TCP\u8fde\u63a5\u9700\u89814\u6b21\u201c\u6325\u624b\u201d\uff0c\u8fd9\u5c31\u9700\u89817\u4e2a\u6570\u636e\u5305\u3002\u5982\u679c\u8bf7\u6c42\u548c\u54cd\u5e94\u5404\u53601\u4e2a\u6570\u636e\u5305\uff0c\u90a3\u4e48\u4e00\u6b21\u77ed\u8fde\u63a5\u7684\u4ea4\u4e92\u8fc7\u7a0b\uff0c\u6709\u6548\u7684\u4f20\u8f93\u4ec5\u53602/9\uff0c\u8fd9\u4e2a\u5229\u7528\u7387\u592a\u4f4e\u4e86\u3002</p> <p>\u4e3b\u52a8\u65ad\u5f00TCP\u8fde\u63a5\u7684\u4e00\u7aef\uff0cTCP\u72b6\u6001\u673a\u4f1a\u8fdb\u5165TIME_WAIT\u72b6\u6001\u3002\u5982\u679c\u9891\u7e41\u5730\u4f7f\u7528\u77ed\u8fde\u63a5\u65b9\u5f0f\uff0c\u5c31\u6709\u53ef\u80fd\u4f7f\u5ba2\u6237\u7aef\u7684\u673a\u5668\u4ea7\u751f\u5927\u91cf\u7684\u5904\u4e8eTIME_WAIT\u72b6\u6001TCP\u8fde\u63a5\u3002</p> <p>\u957f\u8fde\u63a5\u65b9\u5f0f\uff1a \u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u5efa\u7acbTCP\u8fde\u63a5\u540e\uff0c\u4f1a\u4e00\u76f4\u4f7f\u7528\u8fd9\u6761\u8fde\u63a5\u8fdb\u884c\u6570\u636e\u4ea4\u4e92\uff0c\u76f4\u5230\u6ca1\u6709\u6570\u636e\u4f20\u8f93\u6216\u5f02\u5e38\u65ad\u5f00\u3002\u5728\u7a7a\u95f2\u671f\u95f4\uff0c\u901a\u5e38\u4f1a\u4f7f\u7528<code>`\u5fc3\u8df3\u6570\u636e\u5305\uff08Keep-Alive\uff09</code>\u4fdd\u6301\u94fe\u8def\u4e0d\u65ad\u5f00\u3002\u76ee\u524d\u957f\u8fde\u63a5\u65b9\u5f0f\u5e94\u7528\u8303\u56f4\u6bd4\u8f83\u5e7f\u6cdb\u3002 9.4 DNS</p> <p>\u4ec0\u4e48\u662fDNS\u8bf4\u767d\u4e86\u5c31\u662f\u5c06\u57df\u540d\u8f6c\u5316\u4e3aip\uff0c\u6bd4\u5982www.qq.com\uff0c\u8fd9\u662f\u57df\u540d\uff0c\u53ef\u4ee5\u662f\u7f51\u7edc\u5305\u9700\u8981\u5bf9\u65b9ip\u5730\u5740\uff0c\u57df\u540d\u662f\u4e0d\u80fd\u52a0\u5165\u7f51\u7edc\u5305\u62a5\u5934\u7684\uff0c\u6240\u4ee5\u5c31\u9700\u8981\u53bb\u627e\u4e00\u4e2a\u670d\u52a1\u5668\u95ee\uff0cqq\u7684\u57df\u540d\u5bf9\u5e94\u7684ip\u662f\u591a\u5c11\u3002</p> <p>\u5927\u6982\u7684\u901a\u4fe1\u8fc7\u7a0b\u5982\u4e0b\uff1a</p> <p>\u7528\u6237\u4e3b\u673a\u4e0a\u8fd0\u884c\u7740DNS\u7684\u5ba2\u6237\u7aef\uff0c\u5c31\u662f\u6211\u4eec\u7684PC\u673a\u6216\u8005\u624b\u673a\u5ba2\u6237\u7aef\u8fd0\u884c\u7740DNS\u5ba2\u6237\u7aef\u4e86 \u6d4f\u89c8\u5668\u5c06\u63a5\u6536\u5230\u7684url\u4e2d\u62bd\u53d6\u51fa\u57df\u540d\u5b57\u6bb5\uff0c\u5c31\u662f\u8bbf\u95ee\u7684\u4e3b\u673a\u540d\uff0c\u6bd4\u5982http://www.baidu.com/, \u5e76\u5c06\u8fd9\u4e2a\u4e3b\u673a\u540d\u4f20\u9001\u7ed9DNS\u5e94\u7528\u7684\u5ba2\u6237\u7aef DNS\u5ba2\u6237\u673a\u7aef\u5411DNS\u670d\u52a1\u5668\u7aef\u53d1\u9001\u4e00\u4efd\u67e5\u8be2\u62a5\u6587\uff0c\u62a5\u6587\u4e2d\u5305\u542b\u7740\u8981\u8bbf\u95ee\u7684\u4e3b\u673a\u540d\u5b57\u6bb5\uff08\u4e2d\u95f4\u5305\u62ec\u4e00\u4e9b\u5217\u7f13\u5b58\u67e5\u8be2\u4ee5\u53ca\u5206\u5e03\u5f0fDNS\u96c6\u7fa4\u7684\u5de5\u4f5c\uff09 \u8be5DNS\u5ba2\u6237\u673a\u6700\u7ec8\u4f1a\u6536\u5230\u4e00\u4efd\u56de\u7b54\u62a5\u6587\uff0c\u5176\u4e2d\u5305\u542b\u6709\u8be5\u4e3b\u673a\u540d\u5bf9\u5e94\u7684IP\u5730\u5740 \u4e00\u65e6\u8be5\u6d4f\u89c8\u5668\u6536\u5230\u6765\u81eaDNS\u7684IP\u5730\u5740\uff0c\u5c31\u53ef\u4ee5\u5411\u8be5IP\u5730\u5740\u5b9a\u4f4d\u7684HTTP\u670d\u52a1\u5668\u53d1\u8d77TCP\u8fde\u63a5</p> <p>\u8fd9\u91cc\u9700\u8981\u8865\u5145\u4e00\u4e2a\u5c0f\u77e5\u8bc6\uff0c\u5173\u4e8e\u57df\u540d\u7684\uff0c\u5927\u6982\u4e86\u89e3\u4e00\u4e0b\u5c31\u884c</p> <p>9.5 \u4e07\u7ef4\u7f51\u548chttp\u534f\u8bae</p> <p>\u4e07\u7ef4\u7f51www\u662f\u4e00\u4e2a\u5927\u89c4\u6a21\u7684\u3001\u8054\u673a\u5f0f\u7684\u4fe1\u606f\u5b58\u50a8\u6240\uff0c\u662f\u65e0\u6570\u4e2a\u7f51\u7edc\u7ad9\u70b9\u548c\u7f51\u9875\u7684\u96c6\u5408\u3002</p> <p>\u77e5\u8bc6\u76f2\u533a\uff1a \u5728\u4e0d\u5c11\u4eba\u770b\u6765\uff0c\u4e92\u8054\u7f51\u3001\u56e0\u7279\u7f51\u3001\u4e07\u7ef4\u7f51\u6ca1\u6709\u5927\u591a\u7684\u533a\u522b\uff0c\u5176\u5b9e\u8fd9\u4e09\u8005\u4e4b\u95f4\u7684\u5173\u7cfb\u5e94\u8be5\u662f\uff1a\u4e92\u8054\u7f51\u5305\u542b\u56e0\u7279\u7f51\uff0c\u56e0\u7279\u7f51\u5305\u542b\u4e07\u7ef4\u7f51\u3002</p> <p>\u4e92\u8054\u7f51internet\u3002\u51e1\u662f\u7531\u80fd\u5f7c\u6b64\u901a\u4fe1\u7684\u8bbe\u5907\u7ec4\u6210\u7684\u7f51\u7edc\u5c31\u53eb\u4e92\u8054\u7f51\uff0c\u5373\u4f7f\u4ec5\u6709\u4e24\u53f0\u673a\u5668\uff08\u8ba1\u7b97\u673a\u3001\u624b\u673a\u7b49\uff09\uff0c\u4e0d\u8bba\u7528\u4f55\u79cd\u6280\u672f\u4f7f\u5176\u5f7c\u6b64\u901a\u4fe1\uff0c\u90fd\u53eb\u4e92\u8054\u7f51\uff0c\u6240\u4ee5\uff0c\u4e92\u8054\u7f51\u6709\u5e7f\u57df\u7f51\u3001\u57ce\u57df\u7f51\u53ca\u5c40\u57df\u7f51\u4e4b\u5206\uff0c\u56fd\u9645\u6807\u51c6\u7684\u4e92\u8054\u7f51\u5199\u6cd5\u662finternet\uff0c\u5b57\u6bcdi\u4e00\u5b9a\u8981\u5c0f\u5199\uff01</p> <p>\u56e0\u7279\u7f51Internet\u3002\u800c\u56e0\u7279\u7f51\u662f\u4e92\u8054\u7f51\u4e2d\u7684\u4e00\u79cd\uff0c\u5b83\u53ef\u4e0d\u662f\u4ec5\u6709\u4e24\u53f0\u673a\u5668\u7ec4\u6210\u7684\u7f51\u7edc\uff0c\u800c\u662f\u7531\u4e0a\u5343\u4e07\u53f0\u8bbe\u5907\u7ec4\u6210\u7684\u7f51\u7edc\uff08\u8be5\u7f51\u7edc\u5177\u5907\u5f88\u5927\u7684\u89c4\u6a21\uff09\u3002\u56e0\u7279\u7f51\u4f7f\u7528TCP/IP\u534f\u8bae\u8ba9\u4e0d\u540c\u7684\u8bbe\u5907\u53ef\u4ee5\u5f7c\u6b64\u901a\u4fe1\u3002\u4f46\u4f7f\u7528TCP/IP\u534f\u8bae\u7684\u7f51\u7edc\u5e76\u4e0d\u4e00\u5b9a\u662f\u56e0\u7279\u7f51\uff0c\u4e00\u4e2a\u5c40\u57df\u7f51\u4e5f\u53ef\u4ee5\u4f7f\u7528TCP/IP\u534f\u8bae\u3002</p> <p>\u56e0\u7279\u7f51\u662f\u57fa\u4e8eTCP/IP\u534f\u8bae\u5b9e\u73b0\u7684\uff0cTCP/IP\u534f\u8bae\u7531\u5f88\u591a\u534f\u8bae\u7ec4\u6210\uff0c\u4e0d\u540c\u7c7b\u578b\u7684\u534f\u8bae\u53c8\u88ab\u653e\u5728\u4e0d\u540c\u7684\u5c42\uff0c\u5176\u4e2d\uff0c\u4f4d\u4e8e\u5e94\u7528\u5c42\u7684\u534f\u8bae\u5c31\u6709\u5f88\u591a\uff0c\u6bd4\u5982FTP\u3001SMTP\u3001HTTP\u3002\u6240\u4ee5\uff0c\u56e0\u7279\u7f51\u63d0\u4f9b\u7684\u670d\u52a1\u4e00\u822c\u5305\u62ec\u6709\uff1awww\uff08\u4e07\u7ef4\u7f51\uff09\u670d\u52a1\u3001\u7535\u5b50\u90ae\u4ef6\u670d\u52a1\uff08outlook\uff09\u3001\u8fdc\u7a0b\u767b\u5f55\uff08QQ\uff09\u670d\u52a1\u3001\u6587\u4ef6\u4f20\u8f93\uff08FTP\uff09\u670d\u52a1\u3001\u7f51\u7edc\u7535\u8bdd\u7b49\u7b49\u3002</p> <p>\u4e07\u7ef4\u7f51\u3002\u53ea\u8981\u5e94\u7528\u5c42\u4f7f\u7528\u7684\u662fHTTP\u534f\u8bae\uff0c\u5c31\u79f0\u4e3a\u4e07\u7ef4\u7f51(World Wide Web)\u3002\u4e4b\u6240\u4ee5\u5728\u6d4f\u89c8\u5668\u91cc\u8f93\u5165\u767e\u5ea6\u7f51\u5740\u65f6\uff0c\u80fd\u770b\u89c1\u767e\u5ea6\u7f51\u63d0\u4f9b\u7684\u7f51\u9875\uff0c\u5c31\u662f\u56e0\u4e3a\u60a8\u7684\u4e2a\u4eba\u6d4f\u89c8\u5668\u548c\u767e\u5ea6\u7f51\u7684\u670d\u52a1\u5668\u4e4b\u95f4\u4f7f\u7528\u7684\u662fHTTP\u534f\u8bae\u5728\u4ea4\u6d41\u3002</p> <p>\u4e07\u7ef4\u7f51\u4f7f\u7528\u7edf\u4e00\u8d44\u6e90\u5b9a\u4f4d\u7b26\u4f5c\u4e3a\u6807\u8bc6\u7b26\u6765\u8bbf\u95ee\u8d44\u6e90\u3002</p> <p>URL\u7684\u683c\u5f0f\u5982\u4e0b\uff1a</p> <p>\u7528\u6237\u901a\u8fc7\u70b9\u51fb\u8d85\u94fe\u63a5\u83b7\u53d6\u8d44\u6e90\uff0c\u8fd9\u4e9b\u8d44\u6e90\u901a\u8fc7\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff08http\uff09\u4f20\u9001\u7ed9\u4f7f\u7528\u8005\u3002 HTTP\u534f\u8bae\u5b9a\u4e49\u4e86\u6d4f\u89c8\u5668\u600e\u6837\u5411\u4e07\u7ef4\u7f51\u670d\u52a1\u5668\u8bf7\u6c42\u4e07\u7ef4\u7f51\u6587\u6863\uff0c\u4ee5\u53ca\u670d\u52a1\u5668\u600e\u6837\u628a\u6587\u6863\u4f20\u9001\u7ed9\u6d4f\u89c8\u5668\u3002</p> <p>http\u62a5\u6587\u5934\u5206\u6790\uff1a</p> <p>\u4e0b\u9762\u662f\u5bf9\u5404\u90e8\u5206\u7684\u7b80\u8981\u63cf\u8ff0\uff1a</p> <p>\u65b9\u6cd5(method)\uff1a\u5ba2\u6237\u7aef\u5e0c\u671b\u670d\u52a1\u5668\u5bf9\u8d44\u6e90\u6267\u884c\u7684\u52a8\u4f5c\uff0c\u662f\u4e00\u4e2a\u5355\u72ec\u7684\u8bcd\uff0c\u6bd4\u5982\uff0cGET\u3001POST\u6216HEAD</p> <p>\u8bf7\u6c42URL(request-URL)\uff1a\u8981\u76f4\u63a5\u4e0e\u670d\u52a1\u5668\u8fdb\u884c\u5bf9\u8bdd\uff0c\u53ea\u8981\u8bf7\u6c42URL\u662f\u8d44\u6e90\u7684\u7edd\u5bf9\u8def\u5f84\u5c31\u53ef\u4ee5\u4e86\uff0c\u670d\u52a1\u5668\u53ef\u4ee5\u5047\u5b9a\u81ea\u5df1\u662fURL\u7684\u4e3b\u673a/\u7aef\u53e3</p> <p>\u7248\u672c(version)\uff1a\u62a5\u6587\u6240\u4f7f\u7528\u7684HTTP\u7248\u672c\u3002\u5176\u683c\u5f0f\uff1aHTTP/&lt;\u4e3b\u8981\u7248\u672c\u53f7&gt;.&lt;\u6b21\u8981\u7248\u672c\u53f7&gt;</p> <p>\u72b6\u6001\u7801(status-code)\uff1a\u72b6\u6001\u7801\u662f\u4e09\u4f4d\u6570\u5b57\uff0c\u63cf\u8ff0\u4e86\u8bf7\u6c42\u8fc7\u7a0b\u4e2d\u6240\u53d1\u751f\u7684\u60c5\u51b5\u3002\u6bcf\u4e2a\u72b6\u6001\u7801\u7684\u7b2c\u4e00\u4f4d\u6570\u5b57\u90fd\u7528\u4e8e\u63cf\u8ff0\u72b6\u6001\u7684\u4e00\u822c\u7c7b\u522b(\u6bd4\u5982\uff0c\u201c\u6210\u529f\u201d\u3001\u201c\u51fa\u9519\u201d\u7b49\u7b49)</p> <p>\u539f\u56e0\u77ed\u8bed(reason-phrase)\uff1a\u6570\u5b57\u72b6\u6001\u7801\u7684\u53ef\u8bfb\u7248\u672c\uff0c\u5305\u542b\u884c\u7ec8\u6b62\u5e8f\u5217\u4e4b\u524d\u7684\u6240\u6709\u6587\u672c\u3002\u539f\u56e0\u77ed\u8bed\u53ea\u5bf9\u4eba\u7c7b\u6709\u610f\u4e49\uff0c\u56e0\u6b64\uff0c\u5c3d\u7ba1\u54cd\u5e94\u884cHTTP/1.0 200 NOT OK\u548cHTTP/1.0 200 OK\u4e2d\u539f\u56e0\u77ed\u8bed\u7684\u542b\u4e49\u4e0d\u540c\uff0c\u4f46\u540c\u6837\u90fd\u4f1a\u88ab\u5f53\u4f5c\u6210\u529f\u6307\u793a\u5904\u7406</p> <p>\u5934\u90e8(header)\uff1a\u53ef\u4ee5\u6709\u96f6\u4e2a\u6216\u591a\u4e2a\u5934\u90e8\uff0c\u6bcf\u4e2a\u9996\u90e8\u90fd\u5305\u542b\u4e00\u4e2a\u540d\u5b57\uff0c\u540e\u9762\u8ddf\u7740\u4e00\u4e2a\u5192\u53f7(:)\uff0c\u7136\u540e\u662f\u4e00\u4e2a\u53ef\u9009\u7684\u7a7a\u683c\uff0c\u63a5\u7740\u662f\u4e00\u4e2a\u503c\uff0c\u6700\u540e\u662f\u4e00\u4e2aCRLF\u9996\u90e8\u662f\u7531\u4e00\u4e2a\u7a7a\u884c(CRLF)\u7ed3\u675f\u7684\uff0c\u8868\u793a\u4e86\u5934\u90e8\u5217\u8868\u7684\u7ed3\u675f\u548c\u5b9e\u4f53\u4e3b\u4f53\u90e8\u5206\u7684\u5f00\u59cb</p> <p>\u5b9e\u4f53\u7684\u4e3b\u4f53\u90e8\u5206(entity-body)\uff1a\u5b9e\u4f53\u7684\u4e3b\u4f53\u90e8\u5206\u5305\u542b\u4e00\u4e2a\u7531\u4efb\u610f\u6570\u636e\u7ec4\u6210\u7684\u6570\u636e\u5757\uff0c\u5e76\u4e0d\u662f\u6240\u6709\u7684\u62a5\u6587\u90fd\u5305\u542b\u5b9e\u4f53\u7684\u4e3b\u4f53\u90e8\u5206\uff0c\u6709\u65f6\uff0c\u62a5\u6587\u53ea\u662f\u4ee5\u4e00\u4e2aCRLF\u7ed3\u675f\u3002</p> <p>\u4e0b\u9762\u662f\u5e38\u7528\u5934\u90e8\uff1a</p> <p>\u901a\u7528\u5934\u90e8\uff1a\u65e2\u53ef\u4ee5\u51fa\u73b0\u5728\u8bf7\u6c42\u62a5\u6587\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u51fa\u73b0\u5728\u54cd\u5e94\u62a5\u6587\u4e2d\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e0e\u62a5\u6587\u76f8\u5173\u7684\u6700\u57fa\u672c\u7684\u4fe1\u606f</p> <p>Connection\uff1a\u5141\u8bb8\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u6307\u5b9a\u4e0e\u8bf7\u6c42/\u54cd\u5e94\u8fde\u63a5\u6709\u5173\u7684\u9009\u9879\uff0chttp1.1\u9ed8\u8ba4\u662fkeep-alive</p> <p>Date\uff1a\u63d0\u4f9b\u65e5\u671f\u548c\u65f6\u95f4\u6807\u5fd7\uff0c\u8bf4\u660e\u62a5\u6587\u662f\u4ec0\u4e48\u65f6\u95f4\u521b\u5efa\u7684</p> <p>Transfer-Encoding\uff1a\u544a\u77e5\u63a5\u6536\u7aef\u4e3a\u4e86\u4fdd\u8bc1\u62a5\u6587\u7684\u53ef\u9760\u4f20\u8f93\uff0c\u5bf9\u62a5\u6587\u91c7\u7528\u4e86\u4ec0\u4e48\u7f16\u7801\u65b9\u5f0f</p> <p>Cache-Control\uff1a\u7528\u4e8e\u968f\u62a5\u6587\u4f20\u9001\u7f13\u5b58\u6307\u793a</p> <p>\u8bf7\u6c42\u5934\u90e8\uff1a\u8bf7\u6c42\u5934\u90e8\u662f\u53ea\u5728\u8bf7\u6c42\u62a5\u6587\u4e2d\u6709\u610f\u4e49\u7684\u5934\u90e8\u3002\u7528\u4e8e\u8bf4\u660e\u662f\u8c01\u6216\u4ec0\u4e48\u5728\u53d1\u9001\u8bf7\u6c42\u3001\u8bf7\u6c42\u6e90\u81ea\u4f55\u5904\uff0c\u6216\u8005\u5ba2\u6237\u7aef\u7684\u559c\u597d\u53ca\u80fd\u529b</p> <p>Host\uff1a\u7ed9\u51fa\u4e86\u63a5\u6536\u8bf7\u6c42\u7684\u670d\u52a1\u5668\u7684\u4e3b\u673a\u540d\u548c\u7aef\u53e3\u53f7</p> <p>Referer\uff1a\u63d0\u4f9b\u4e86\u5305\u542b\u5f53\u524d\u8bf7\u6c42URI\u7684\u6587\u6863\u7684URL</p> <p>User-Agent\uff1a\u5c06\u53d1\u8d77\u8bf7\u6c42\u7684\u5e94\u7528\u7a0b\u5e8f\u540d\u79f0\u544a\u77e5\u670d\u52a1\u5668</p> <p>Accept\uff1a\u544a\u8bc9\u670d\u52a1\u5668\u80fd\u591f\u53d1\u9001\u54ea\u4e9b\u5a92\u4f53\u7c7b\u578b</p> <p>Accept-Encoding\uff1a\u544a\u8bc9\u670d\u52a1\u5668\u80fd\u591f\u53d1\u9001\u54ea\u4e9b\u7f16\u7801\u65b9\u5f0f</p> <p>Accept-Language\uff1a\u544a\u8bc9\u670d\u52a1\u5668\u80fd\u591f\u53d1\u9001\u54ea\u4e9b\u8bed\u8a00</p> <p>Range\uff1a\u5982\u679c\u670d\u52a1\u5668\u652f\u6301\u8303\u56f4\u8bf7\u6c42\uff0c\u5c31\u8bf7\u6c42\u8d44\u6e90\u7684\u6307\u5b9a\u8303\u56f4</p> <p>If-Range\uff1a\u5141\u8bb8\u5bf9\u6587\u6863\u7684\u67d0\u4e2a\u8303\u56f4\u8fdb\u884c\u6761\u4ef6\u8bf7\u6c42</p> <p>Authorization\uff1a\u5305\u542b\u4e86\u5ba2\u6237\u7aef\u63d0\u4f9b\u7ed9\u670d\u52a1\u5668\uff0c\u4ee5\u4fbf\u5bf9\u5176\u81ea\u8eab\u8fdb\u884c\u8ba4\u8bc1\u7684\u6570\u636e</p> <p>Cookie\uff1a\u5ba2\u6237\u7aef\u7528\u5b83\u5411\u670d\u52a1\u5668\u4f20\u9001\u6570\u636e</p> <p>\u54cd\u5e94\u5934\u90e8\uff1a\u54cd\u5e94\u5934\u90e8\u4e3a\u5ba2\u6237\u7aef\u63d0\u4f9b\u4e86\u4e00\u4e9b\u989d\u5916\u4fe1\u606f\uff0c\u6bd4\u5982\u8c01\u5728\u53d1\u9001\u54cd\u5e94\u3001\u54cd\u5e94\u8005\u7684\u529f\u80fd\uff0c\u751a\u81f3\u4e0e\u54cd\u5e94\u76f8\u5173\u7684\u4e00\u4e9b\u7279\u6b8a\u6307\u4ee4</p> <p>Age\uff1a(\u4ece\u6700\u521d\u521b\u5efa\u5f00\u59cb)\u54cd\u5e94\u6301\u7eed\u65f6\u95f4</p> <p>Server\uff1a\u670d\u52a1\u5668\u5e94\u7528\u7a0b\u5e8f\u8f6f\u4ef6\u7684\u540d\u79f0\u548c\u7248\u672c</p> <p>Accept-Ranges\uff1a\u5bf9\u6b64\u8d44\u6e90\u6765\u8bf4\uff0c\u670d\u52a1\u5668\u53ef\u63a5\u53d7\u7684\u8303\u56f4\u7c7b\u578b</p> <p>Set-Cookie\uff1a\u5728\u5ba2\u6237\u7aef\u8bbe\u7f6e\u6570\u636e\uff0c\u4ee5\u4fbf\u670d\u52a1\u5668\u5bf9\u5ba2\u6237\u7aef\u8fdb\u884c\u6807\u8bc6</p> <p>\u5b9e\u4f53\u9996\u90e8\uff1a\u63cf\u8ff0\u4e3b\u4f53\u7684\u957f\u5ea6\u548c\u5185\u5bb9\uff0c\u6216\u8005\u8d44\u6e90\u81ea\u8eab</p> <p>Allow\uff1a\u5217\u51fa\u4e86\u53ef\u4ee5\u5bf9\u6b64\u5b9e\u4f53\u6267\u884c\u7684\u8bf7\u6c42\u65b9\u6cd5</p> <p>Location\uff1a\u544a\u77e5\u5ba2\u6237\u7aef\u5b9e\u4f53\u5b9e\u9645\u4e0a\u4f4d\u4e8e\u4f55\u5904\uff0c\u7528\u4e8e\u5c06\u63a5\u6536\u7aef\u5b9a\u5411\u5230\u8d44\u6e90\u7684\u4f4d\u7f6e(URL)\u4e0a\u53bb</p> <p>Content-Base\uff1a\u89e3\u6790\u4e3b\u4f53\u4e2d\u7684\u76f8\u5bf9URL\u65f6\u4f7f\u7528\u7684\u57fa\u7840URL</p> <p>Content-Encoding\uff1a\u5bf9\u4e3b\u4f53\u6267\u884c\u7684\u4efb\u610f\u7f16\u7801\u65b9\u5f0f</p> <p>Content-Language\uff1a\u7406\u89e3\u4e3b\u4f53\u65f6\u6700\u9002\u5b9c\u4f7f\u7528\u7684\u81ea\u7136\u8bed\u8a00</p> <p>Content-Length\uff1a\u4e3b\u4f53\u7684\u957f\u5ea6</p> <p>Content-Type\uff1a\u8fd9\u4e2a\u4e3b\u4f53\u7684\u5bf9\u8c61\u7c7b\u578b</p> <p>ETag\uff1a\u4e0e\u6b64\u5b9e\u4f53\u76f8\u5173\u7684\u5b9e\u4f53\u6807\u8bb0</p> <p>Last-Modified\uff1a\u8fd9\u4e2a\u5b9e\u4f53\u6700\u540e\u4e00\u6b21\u88ab\u4fee\u6539\u7684\u65e5\u671f\u548c\u65f6\u95f4</p> <p>\u5b9e\u4f53\u7684\u4e3b\u4f53\u90e8\u5206\uff1a\u8be5\u90e8\u5206\u5176\u5b9e\u5c31\u662fHTTP\u8981\u4f20\u8f93\u7684\u5185\u5bb9\uff0c\u662f\u53ef\u9009\u7684\u3002HTTP\u62a5\u6587\u53ef\u4ee5\u627f\u8f7d\u5f88\u591a\u7c7b\u578b\u7684\u6570\u5b57\u6570\u636e\uff0c\u6bd4\u5982\uff0c\u56fe\u7247\u3001\u89c6\u9891\u3001HTML\u6587\u6863\u7535\u5b50\u90ae\u4ef6\u3001\u8f6f\u4ef6\u5e94\u7528\u7a0b\u5e8f\u7b49\u7b49\u3002</p> <p>\u5e38\u7528\u7684HTTP\u65b9\u6cd5\u548c\u72b6\u6001\u7801\u5c31\u4e0d\u8be6\u7ec6\u4ecb\u7ecd\u4e86\uff0c\u672c\u6587\u5b8c\u7ed3\uff01\u4f60\u8fd9\u90fd\u80fd\u8010\u5fc3\u770b\u5b8c\uff0c\u6211\u89c9\u5f97\u4f60\u592a\u5389\u5bb3\u4e86\uff01</p>"},{"location":"network/%E5%9F%BA%E6%9C%AC%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/","title":"\u524d\u7aef\u4e0e\u7f51\u7edc\u5b89\u5168","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 821  \u9605\u8bfb2\u5206\u949f</p>"},{"location":"network/%E5%9F%BA%E6%9C%AC%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/#_2","title":"\u524d\u7aef\u5de5\u4f5c\u4e2d\u5b58\u5728\u7684\u7f51\u7edc\u5b89\u5168\u95ee\u9898","text":"<p>1\u3001SQL injection\u2014\u2014SQL \u6ce8\u5165</p> <p>2\u3001XSS</p> <p>3\u3001CFRS</p>"},{"location":"network/%E5%9F%BA%E6%9C%AC%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/#_3","title":"\u9884\u9632\u65b9\u5f0f","text":"<p>1\u3001\u52a8\u6001\u754c\u9762\uff0c\u7528\u6237\u8f93\u5165\u7684\u60c5\u51b5\u53ef\u80fd\u5b58\u5728\u5b89\u5168\u95ee\u9898\uff1b</p> <p>2\u3001\u5bf9\u4e8e\u7528\u6237\u63d0\u4ea4\u7684\u8868\u5355\uff0c\u524d\u7aef\u53ef\u4ee5\u8fdb\u884c\u9a8c\u8bc1\uff0c\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u8fdb\u884c\u68c0\u9a8c\uff08\u6570\u636e\u7c7b\u578b\u548c\u6570\u636e\u957f\u5ea6\uff09\uff1b</p> <p>3\u3001\u5bf9\u4e8e\u7279\u6b8a\u6807\u8bb0\uff08&lt;\u201c\uff09\u7b49\uff0c\u4f7f\u7528 encode \u8fdb\u884c\u4f20\u9012\uff1b\u907f\u514d\u76f4\u63a5\u8f93\u5165\u3002</p> <p>4\u3001\u754c\u9762\u652f\u6301\u5bcc\u6587\u672c\u8f93\u5165\u6a21\u5f0f\uff0c\u907f\u514d\u76f4\u63a5\u4f7f\u7528 html \u65b9\u5f0f\u8fdb\u884c\u8f93\u5165\uff08\u5426\u5219\u7528\u6237\u53ef\u80fd\u8f93\u5165\u4e0d\u5b89\u5168\u5185\u5bb9\uff09\u3002</p> <p>5\u3001\u5728\u56fe\u7247\u6216\u8005\u94fe\u63a5\u7684\u8df3\u8f6c\u94fe\u63a5\u5230\u6076\u610f\u7f51\u7ad9\uff0c\u6216\u8005\u5728\u5ba2\u6237\u7aef\u4f7f\u7528\u6587\u4ef6\u6253\u5f00\u5f62\u5f0f pdf\uff0c\u8c03\u7528\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u7684\u6f0f\u6d1e\u3002</p> <p>6\u3001\u7528\u6237\u8f93\u5165\u7684\u4efb\u4f55\u884c\u4e3a\u90fd\u4e0d\u5b89\u5168\u3002\u524d\u7aef\u53ef\u4ee5\u505a\u4e00\u90e8\u5206\u8fc7\u6ee4\u884c\u4e3a\uff0c\u5220\u9664\u4e0d\u5b89\u5168\u7684\u60c5\u51b5\u3002</p>"},{"location":"network/%E8%99%9A%E6%8B%9F%E6%9C%BA/","title":"\u865a\u62df\u673a","text":""},{"location":"network/%E8%99%9A%E6%8B%9F%E6%9C%BA/#_1","title":"\u865a\u62df\u673a\u5185\u5b58","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 825  \u9605\u8bfb2\u5206\u949f</p> <p>\u865a\u62df\u673a\u7684\u5185\u5b58\u8bbe\u7f6e\u901a\u5e38\u53ef\u4ee5\u589e\u52a0\uff0c\u4e0d\u80fd\u51cf\u5c11\u3002\u5728 virtualbox \u8f6f\u4ef6\u4e2d\u53ef\u4ee5\u8bbe\u7f6e\u3002\u76ee\u524d\u81ea\u5df1\u7684\u7535\u8111\u56fa\u6001\u786c\u76d8\u662f 128G\uff0c\u4f46\u662f\u865a\u62df\u673a\u5df2\u7ecf\u7ed9\u4e86 100G\uff0c\u4e0d\u5229\u4e8e\u7cfb\u7edf\u8fd0\u884c\u3002\u89e3\u51b3\u65b9\u6848\uff1a\u5220\u9664\u5f53\u524d\u865a\u62df\u673a\uff08\u5907\u4efd\u91cd\u8981\u8d44\u6599\uff09\u91cd\u65b0\u521b\u5efa\u865a\u62df\u673a\uff0c\u5185\u5b58\u8bbe\u7f6e\u4e3a\u52a8\u6001\u6269\u5bb9\u3002</p>"},{"location":"network/%E8%99%9A%E6%8B%9F%E6%9C%BA/#ubuntu","title":"\u865a\u62df\u673a Ubuntu \u7cfb\u7edf\u84dd\u5c4f","text":"<p>\u95ee\u9898\u73b0\u8c61\uff1a\u8054\u7f51\u60c5\u51b5\u5f39\u51fa\u5347\u7ea7 Ubuntu \u7cfb\u7edf\uff0c\u70b9\u51fb\u4e0d\u5347\u7ea7\uff0c\u5b95\u673a\uff1b\u91cd\u65b0\u542f\u52a8\u540e\uff0c\u53ef\u4ee5\u8fdb\u5165\u5bc6\u7801\u754c\u9762\uff0c\u8f93\u5165\u5bc6\u7801\u540e\u754c\u9762\u662f\u84dd\u5c4f\uff08\u53ef\u4ee5\u770b\u5230\u684c\u9762\u7684\u6587\u4ef6\u5939\u53ca\u53f3\u952e\u83dc\u5355\uff0c\u4e00\u76f4\u5728\u95ea\u70c1\uff09\uff1b\u73b0\u5728 Ubuntu \u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\uff08\u84dd\u5c4f\u73b0\u8c61\u5728\u914d\u7f6e\u91cd\u542f\u540e\u5df2\u7ecf\u89e3\u51b3\uff09\u95ee\u9898\u539f\u56e0\uff1a</p> <p>https://blog.csdn.net/baidu_36482169/article/details/79113702</p> <p>https://blog.csdn.net/davidhopper/article/details/79156410</p>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/","title":"\u8ba1\u7b97\u673a\u7f51\u7edc\u57fa\u7840\u77e5\u8bc6\u603b\u7ed3","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 13501  \u9605\u8bfb28\u5206\u949f</p> <p>\u65e0\u8bba\u662f C/S \u5f00\u53d1\u8fd8\u662f B/S \u5f00\u53d1\uff0c\u65e0\u8bba\u662f\u524d\u7aef\u5f00\u53d1\u8fd8\u662f\u540e\u53f0\u5f00\u53d1\uff0c\u7f51\u7edc\u603b\u662f\u65e0\u6cd5\u907f\u514d\u7684\uff0c\u6570\u636e\u5982\u4f55\u4f20\u8f93\uff0c\u5982\u4f55\u4fdd\u8bc1\u6b63\u786e\u6027\u548c\u53ef\u9760\u6027\uff0c\u5982\u4f55\u63d0\u9ad8\u4f20\u8f93\u6548\u7387\uff0c\u5982\u4f55\u89e3\u51b3\u4f1a\u8bdd\u7ba1\u7406\u95ee\u9898\uff0c\u5982\u4f55\u5728\u7f51\u7edc\u62e5\u5835\u73af\u5883\u4e0b\u91c7\u53d6\u63aa\u65bd\u3002\u8fd9\u4e9b\u90fd\u662f\u9700\u8981\u4e86\u89e3\u7684\u3002</p> <p>\u4eca\u5929\u603b\u7ed3\u4e0b\u4e0e\u7f51\u7edc\u76f8\u5173\u7684\u77e5\u8bc6\uff0c\u4e0d\u662f\u90a3\u4e48\u8be6\u7ec6\uff0c\u4f46\u662f\u5305\u542b\u4e86\u6211\u8ba4\u4e3a\u91cd\u8981\u7684\u6240\u6709\u70b9\u3002\u5982\u679c\u60f3\u6df1\u5165\u4e86\u89e3\u7684\u53ef\u4ee5\u53c2\u8003\u300a\u56fe\u89e3 HTTP[\u4e0a\u91ce \u5ba3]\u300b\u3001\u300a\u56fe\u89e3 TCP\uff0fIP\uff08\u7b2c 5 \u7248\uff09[\u7af9\u4e0b\u9686\u53f2]\u300b\u4ee5\u53ca\u8ba1\u7b97\u673a\u7f51\u7edc\u76f8\u5173\u6559\u6750\u3002</p> <p>\u7f51\u7edc\u77e5\u8bc6\u6211\u505a\u4e86 8 \u4e2a\u65b9\u9762\u7684\u603b\u7ed3\uff0c\u5305\u62ec DNS \u534f\u8bae\uff0cHTTP \u534f\u8bae\uff0cHTTPS \u534f\u8bae\uff0cTCP \u534f\u8bae\uff0cIP \u534f\u8bae\uff0cTCP/IP\uff0cWeb \u653b\u51fb\uff0c\u5176\u4ed6\u534f\u8bae\u3002</p>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#1-dns","title":"1. DNS \u534f\u8bae","text":"<p>\u4f5c\u7528\uff1a\u63d0\u4f9b\u57df\u540d\u5230 IP \u5730\u5740\u4e4b\u95f4\u7684\u89e3\u6790\u670d\u52a1\uff0c\u6216\u9006\u5411\u4ece IP \u5730\u5740\u53cd\u67e5\u57df\u540d\u7684\u670d\u52a1\u3002</p>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#2-http","title":"2. HTTP \u534f\u8bae","text":""},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#21","title":"2.1 \u7279\u70b9","text":"<ul> <li> <p>\u65e0\u72b6\u6001</p> </li> <li> <p>\u4f7f\u7528 URI \u5b9a\u4e49\u4e92\u8054\u7f51\u8d44\u6e90</p> </li> <li> <p>HTTP \u65b9\u6cd5</p> </li> <li> <ul> <li>GET\uff1a\u83b7\u53d6\u8d44\u6e90</li> </ul> </li> <li>POST:\u4f20\u8f93\u5b9e\u4f53\u4e3b\u4f53</li> <li>PUT\uff1a\u4f20\u8f93\u6587\u4ef6</li> <li>HEAD\uff1a\u83b7\u5f97\u62a5\u6587\u9996\u90e8</li> <li>DELETE\uff1a\u5220\u9664\u6587\u4ef6</li> <li>OPTIONS\uff1a\u8be2\u95ee\u652f\u6301\u7684\u65b9\u6cd5</li> <li>TRACE\uff1a\u8ffd\u8e2a\u8def\u5f84</li> <li> <p>CONNECT\uff1a\u8981\u6c42\u7528\u96a7\u9053\u534f\u8bae\u8fde\u63a5\u4ee3\u7406</p> </li> <li> <p>\u6301\u4e45\u8fde\u63a5\u8282\u7701\u901a\u4fe1\u91cf</p> </li> <li> <p>\u7ba1\u7ebf\u5316\u5b9e\u73b0\u5e76\u884c\u53d1\u9001\u591a\u4e2a\u8bf7\u6c42\uff0c\u800c\u4e0d\u9700\u8981\u4e00\u4e2a\u63a5\u4e00\u4e2a\u7b49\u54cd\u5e94</p> </li> </ul>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#22-http","title":"2.2 HTTP \u62a5\u6587","text":"<p>\u7528\u4e8e HTTP \u534f\u8bae\u4ea4\u4e92\u7684\u4fe1\u606f\u79f0\u4e3a HTTP \u62a5\u6587\u3002</p> <p>\u8bf7\u6c42\u62a5\u6587\uff1a</p> <ul> <li> <p>\u62a5\u6587\u9996\u90e8</p> </li> <li> <ul> <li>\u8bf7\u6c42\u884c</li> </ul> </li> <li>\u8bf7\u6c42\u9996\u90e8\u5b57\u6bb5</li> <li>\u901a\u7528\u9996\u90e8\u5b57\u6bb5</li> <li>\u5b9e\u4f53\u9996\u90e8\u5b57\u6bb5</li> <li> <p>\u5176\u4ed6</p> </li> <li> <p>\u7a7a\u884c</p> </li> <li> <p>\u62a5\u6587\u4e3b\u4f53</p> </li> </ul> <p>\u54cd\u5e94\u62a5\u6587\uff1a</p> <ul> <li> <p>\u62a5\u6587\u9996\u90e8</p> </li> <li> <ul> <li>\u72b6\u6001\u884c</li> </ul> </li> <li>\u54cd\u5e94\u9996\u90e8\u5b57\u6bb5</li> <li>\u901a\u7528\u9996\u90e8\u5b57\u6bb5</li> <li>\u5b9e\u4f53\u9996\u90e8\u5b57\u6bb5</li> <li> <p>\u5176\u4ed6</p> </li> <li> <p>\u7a7a\u884c</p> </li> <li> <p>\u62a5\u6587\u4e3b\u4f53</p> </li> </ul> <p>\u53d1\u9001\u591a\u79cd\u6570\u636e\u7684\u591a\u90e8\u5206\u5bf9\u8c61\u96c6\u5408\uff1a</p> <ul> <li>MIME\uff08\u5c06\u4e8c\u8fdb\u5236\u6587\u4ef6\u8f6c\u6362\u6210 ASCII \u7801\uff0c\u624d\u80fd\u8fdb\u884c HTTP \u4f20\u8f93\uff09</li> <li>multipart/form-data</li> </ul> <p>\u5185\u5bb9\u534f\u5546\uff1a</p> <ul> <li>\u670d\u52a1\u5668\u9a71\u52a8\u534f\u5546</li> <li>\u5ba2\u6237\u7aef\u9a71\u52a8\u534f\u5546</li> <li>\u900f\u660e\u534f\u5546</li> </ul>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#23-http","title":"2.3 HTTP \u72b6\u6001\u7801","text":"<p>1XX\uff1a\u63a5\u6536\u7684\u8bf7\u6c42\u6b63\u5728\u5904\u7406</p> <p>2XX\uff1a\u8bf7\u6c42\u6b63\u5e38\u5904\u7406\u5b8c\u6bd5</p> <ul> <li>200 OK</li> <li>204 NoContent</li> <li>206 Partial Content</li> </ul> <p>3XX\uff1a\u9700\u8981\u8fdb\u884c\u9644\u52a0\u64cd\u4f5c\u4ee5\u5b8c\u6210\u8bf7\u6c42</p> <ul> <li>301 Moved Permanenetly</li> <li>302 Found</li> <li>303 See Other</li> <li>304 Not Modified</li> <li>307 Temporary Redirect</li> </ul> <p>4XX\uff1a\u670d\u52a1\u5668\u65e0\u6cd5\u5904\u7406\u8bf7\u6c42</p> <ul> <li>400 Bad Request</li> <li>401 Unauthorized</li> <li>403 Forbidden</li> <li>404 Not Found</li> </ul> <p>5XX\uff1a\u670d\u52a1\u5668\u5904\u7406\u8bf7\u6c42\u51fa\u9519</p> <ul> <li>500 Internal Server Error</li> <li>503 Service Unavailable</li> </ul>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#24-http11-http10","title":"2.4 HTTP1.1 \u548c HTTP1.0 \u7684\u533a\u522b","text":"<p>\u53ef\u6269\u5c55\u6027\uff1a\u5b9a\u4e49 Via \u5934\u57df\uff0c\u589e\u52a0\u7248\u672c\u53f7\u7684\u652f\u6301\u3002</p> <p>\u7f13\u5b58\uff1a</p> <ul> <li>\u589e\u52a0\u5bf9\u7f13\u5b58\u7684\u91cd\u6fc0\u6d3b\u673a\u5236\uff1a\u4f7f\u7528 ETag \u5934\u57df\u63cf\u8ff0\u4e00\u4e2a\u8d44\u6e90\u3002</li> <li>\u589e\u52a0 Cache-Control \u5934\u57df\u652f\u6301\u53ef\u6269\u5c55\u7684\u6307\u4ee4\u96c6\u3002</li> </ul> <p>\u5e26\u5bbd\u4f18\u5316\uff1a\u5141\u8bb8\u8bf7\u6c42\u8d44\u6e90\u7684\u67d0\u90e8\u5206\uff0c\u800c\u4e0d\u662f\u6574\u4e2a\u8d44\u6e90\u3002</p> <p>\u957f\u8fde\u63a5\uff1a</p> <ul> <li>HTTP/1.0 \u53ea\u652f\u6301\u6d4f\u89c8\u5668\u4e0e\u670d\u52a1\u5668\u4fdd\u6301\u77ed\u6682\u7684\u8fde\u63a5\uff0c\u6d4f\u89c8\u5668\u7684\u6bcf\u6b21\u8bf7\u6c42\u90fd\u8981\u5efa\u7acb\u4e00\u4e2a\u65b0\u7684\u8fde\u63a5\u3002</li> <li>\u800c HTTP/1.1 \u5141\u8bb8\u5728\u4e00\u4e2a TCP \u8fde\u63a5\u4e0a\u53ef\u4ee5\u4f20\u9001\u591a\u4e2a HTTP \u8bf7\u6c42\u548c\u54cd\u5e94\u3002HTTP/1.1 \u534f\u8bae\u7684\u6301\u7eed\u8fde\u63a5\u6709\u4e24\u79cd\u65b9\u5f0f\uff0c\u5373\u975e\u6d41\u6c34\u7ebf\u65b9\u5f0f\u548c\u6d41\u6c34\u7ebf\u65b9\u5f0f\u3002\u975e\u6d41\u6c34\u7ebf\u65b9\u5f0f\u7684\u7279\u70b9\u662f\uff0c\u5ba2\u6237\u5728\u6536\u5230\u524d\u4e00\u4e2a\u54cd\u5e94\u540e\u624d\u80fd\u53d1\u51fa\u4e0b\u4e00\u4e2a\u8bf7\u6c42\u3002\u6d41\u6c34\u7ebf\u65b9\u5f0f\u7684\u7279\u70b9\u662f\uff0c\u5ba2\u6237\u5728\u6536\u5230 HTTP \u7684\u54cd\u5e94\u62a5\u6587\u4e4b\u524d\u5c31\u80fd\u63a5\u7740\u53d1\u9001\u65b0\u7684\u8bf7\u6c42\u62a5\u6587\u3002</li> </ul>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#25-cookie-session","title":"2.5 Cookie \u4e0e Session \u7684\u533a\u522b","text":"<p>1\u3001\u5b58\u53d6\u65b9\u5f0f\u7684\u4e0d\u540c</p> <ul> <li>Cookie \u4e2d\u53ea\u80fd\u4fdd\u7ba1 ASCII \u5b57\u7b26\u4e32\uff0c\u5047\u5982\u9700\u6c42\u5b58\u53d6 Unicode \u5b57\u7b26\u6216\u8005\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u9700\u6c42\u5148\u8fdb\u884c\u7f16\u7801\u3002\u82e5\u8981\u5b58\u50a8\u7565\u5fae\u590d\u6742\u7684\u4fe1\u606f\uff0c\u8fd0\u7528 Cookie \u662f\u6bd4\u8f83\u8270\u96be\u7684\u3002Cookie \u5b58\u50a8\u7684\u5bb9\u91cf\u8f83\u5c0f\u3002</li> <li>Session \u4e2d\u80fd\u591f\u5b58\u53d6\u4efb\u4f55\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5305\u62ec\u800c\u4e0d\u9650\u4e8e String\u3001Integer\u3001List\u3001Map \u7b49\u3002Session \u4e2d\u4e5f\u80fd\u591f\u76f4\u63a5\u4fdd\u7ba1 Java Bean \u4e43\u81f3\u4efb\u4f55 Java \u7c7b\uff0c\u5bf9\u8c61\u7b49\uff0c\u8fd0\u7528\u8d77\u6765\u5341\u5206\u65b9\u4fbf\u3002</li> </ul> <p>2\u3001\u9690\u79c1\u7b56\u7565\u7684\u4e0d\u540c</p> <ul> <li>Cookie \u5b58\u50a8\u5728\u5ba2\u6237\u7aef\u4e2d\uff0c\u5ba2\u6237\u7aef\u7684\u4e00\u4e9b\u7a0b\u5e8f\u53ef\u80fd\u4f1a\u7aa5\u63a2\u3001\u590d\u5236\u4ee5\u81f3\u4fee\u6b63 Cookie \u4e2d\u7684\u5185\u5bb9\u3002</li> <li>Session \u5b58\u50a8\u5728\u670d\u52a1\u5668\u4e0a\uff0c\u5bf9\u5ba2\u6237\u7aef\u662f\u900f\u660e\u7684\uff0c\u4e0d\u5b58\u5728\u654f\u611f\u4fe1\u606f\u6cc4\u9732\u7684\u98ce\u9669\u3002</li> </ul> <p>3\u3001\u6709\u6548\u671f\u4e0a\u7684\u4e0d\u540c</p> <ul> <li>Cookie \u7684\u8fc7\u671f\u65f6\u95f4\u6307\u5b9a</li> <li>Session \u4f9d\u8d56\u4e8e\u540d\u4e3a JSESSIONID \u7684 Cookie\uff0c\u800c Cookie JSESSIONID \u7684\u8fc7\u671f\u65f6\u95f4\u9ed8\u8bb8\u4e3a\u20131\uff0c\u53ea\u9700\u5173\u95ed\u4e86\u6d4f\u89c8\u5668\u8be5 Session \u5c31\u4f1a\u5931\u6548\uff0c\u56e0\u800c Session \u4e0d\u80fd\u5b8c\u6210\u4fe1\u606f\u6c38\u4e16\u6709\u6548\u7684\u6548\u679c\u3002</li> </ul> <p>3\u3001\u670d\u52a1\u5668\u538b\u529b\u7684\u4e0d\u540c</p> <ul> <li>Cookie \u4fdd\u7ba1\u5728\u5ba2\u6237\u7aef\uff0c\u4e0d\u5360\u7528\u670d\u52a1\u5668\u8d44\u6e90\u3002\u5047\u5982\u5e76\u53d1\u7528\u6237\u5341\u5206\u591a\uff0cCookie \u662f\u5f88\u597d\u7684\u9009\u62e9\u3002\u5173\u4e8e Google\u3001Baidu\u3001Sina \u6765\u8bf4\uff0cCookie \u6216\u8bb8\u662f\u552f\u4e00\u7684\u9009\u62e9\u3002</li> <li>Session \u662f\u4fdd\u7ba1\u5728\u670d\u52a1\u5668\u7aef\u7684\uff0c\u6bcf\u4e2a\u7528\u6237\u90fd\u4f1a\u4ea7\u751f\u4e00\u4e2a Session\u3002\u5047\u5982\u5e76\u53d1\u8bbf\u95ee\u7684\u7528\u6237\u5341\u5206\u591a\uff0c\u4f1a\u4ea7\u751f\u5341\u5206\u591a\u7684 Session\uff0c\u8017\u8d39\u5927\u91cf\u7684\u5185\u5b58\u3002\u56e0\u800c\u50cf Google\u3001Baidu\u3001Sina \u8fd9\u6837\u5e76\u53d1\u8bbf\u95ee\u91cf\u6781\u9ad8\u7684\u7f51\u7ad9\uff0c\u662f\u4e0d\u592a\u53ef\u80fd\u8fd0\u7528 Session \u6765\u8ffd\u8e2a\u5ba2\u6237\u4f1a\u8bdd\u7684\u3002</li> </ul> <p>4\u3001\u6d4f\u89c8\u5668\u652f\u6301\u7684\u4e0d\u540c</p> <ul> <li>Cookie \u662f\u9700\u8981\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u652f\u6301\u7684\u3002</li> <li>\u5047\u5982\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 Cookie\uff0c\u9700\u8981\u8fd0\u7528 Session \u4ee5\u53ca URL \u5730\u5740\u91cd\u5199\u3002</li> </ul> <p>5\u3001\u8de8\u57df\u652f\u6301\u4e0a\u7684\u4e0d\u540c</p> <ul> <li>Cookie \u652f\u6301\u8de8\u57df\u540d\u8bbf\u95ee\uff0c\u4f8b\u5982\u5c06 domain \u5c5e\u6027\u8bbe\u7f6e\u4e3a\u201c.biaodianfu.com\u201d\uff0c\u5219\u4ee5\u201c.biaodianfu.com\u201d\u4e3a\u540e\u7f00\u7684\u4e00\u5207\u57df\u540d\u5747\u80fd\u591f\u8bbf\u95ee\u8be5 Cookie\u3002\u8de8\u57df\u540d Cookie \u5982\u4eca\u88ab\u666e\u904d\u7528\u5728\u7f51\u7edc\u4e2d\uff0c\u4f8b\u5982 Google\u3001Baidu\u3001Sina \u7b49\u3002</li> <li>Session \u5219\u4e0d\u4f1a\u652f\u6301\u8de8\u57df\u540d\u8bbf\u95ee\u3002Session \u4ec5\u5728\u4ed6\u6240\u5728\u7684\u57df\u540d\u5185\u6709\u6548\u3002</li> </ul>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#26","title":"2.6 \u6d4f\u89c8\u5668\u89e3\u6790\u7f51\u9875\u7684\u8fc7\u7a0b","text":"<p>\u7528\u5230\u7684\u534f\u8bae\uff1aDNS\u3001HTTP\u3001OSPF\u3001IP\u3001ARP\u3002</p> <p>\u8fc7\u7a0b\u63cf\u8ff0\uff1a</p> <ol> <li>DNS \u628a\u57df\u540d\u89e3\u6790\u6210\u5bf9\u5e94\u7684 IP</li> <li>\u53d1\u9001\u4e00\u6b21\u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u4e00\u4e2a\u6c38\u4e45\u91cd\u5b9a\u5411\u54cd\u5e94\uff0c\u8fd9\u6837\u6d4f\u89c8\u5668\u5c31\u77e5\u9053\u8981\u8bbf\u95ee\u7684\u6b63\u786e\u7f51\u5740</li> <li>\u5efa\u7acb TCP \u8fde\u63a5\uff08\u57fa\u4e8e TCP/IP \u4e09\u6b21\u63e1\u624b\uff0c\u56db\u6b21\u6325\u624b\uff09</li> <li>\u6d4f\u89c8\u5668\u53d1\u9001\u8bf7\u6c42 http \u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u4e00\u4e2a http \u54cd\u5e94</li> <li>\u6d4f\u89c8\u5668\u6e32\u67d3\u5f15\u64ce\u89e3\u6790\u8fd4\u56de\u7684 html \u54cd\u5e94\uff0c\u663e\u793a DOM \u6811</li> <li>\u5d4c\u5728 html \u6587\u4ef6\u5176\u4ed6\u8d44\u6e90\u7684\u8bf7\u6c42\uff0c\u6bd4\u5982 css\u3001js\u3001\u56fe\u7247\u8d44\u6e90\u7b49\uff0c\u53d1\u9001\u8bf7\u6c42\u5e76\u83b7\u53d6\u8d44\u6e90</li> <li>DOM \u6811\u7ed3\u5408 CSS \u6210\u4e3a\u6e32\u67d3\u6811\uff0c\u52a0\u8f7d\u6574\u4e2a\u9875\u9762\u3002</li> </ol>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#27-ping","title":"2.7 Ping","text":"<p>\u540c\u7f51\u6bb5\uff1a</p> <ol> <li>\u4e3b\u673a A \u8981\u53bb Ping \u4e3b\u673a B\uff0c \u4e3b\u673a A \u4f1a\u5c01\u88c5\u4e24\u5c42\u62a5\u6587\uff0c\u4e3b\u673a A \u5148\u68c0\u67e5\u81ea\u5df1 MAC \u5730\u5740\u4e2d\u662f\u5426\u6709 B \u7684 MAC \u5730\u5740\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u5411\u5916\u53d1\u9001\u4e00\u4e2a ARP \u5e7f\u64ad\u5305\u3002</li> <li>\u4ea4\u6362\u673a\u6536\u5230\u8fd9\u4e2a ARP \u540e\uff0c\u4f1a\u68c0\u67e5\u5728\u4ea4\u6362\u673a\u4e2d\u662f\u5426\u5305\u542b B \u7684 MAC \u5730\u5740\uff0c\u5982\u679c\u6709\u5c31\u76f4\u63a5\u8fd4\u56de\u7ed9 A\uff1b\u5982\u679c\u6ca1\u6709\u5c31\u5411\u6240\u6709\u7aef\u53e3\u53d1\u9001 ARP\uff0c\u8be5\u7f51\u6bb5\u7684\u4e3b\u673a\u7684 MAC \u5982\u679c\u4e0e B \u7684 MAC \u5730\u5740\u4e0d\u540c\u5c31\u4e22\u5f03\uff0c\u5982\u679c\u4e3b\u673a B \u6536\u5230\u4e86\u8be5 ARP \u5c31\u9a6c\u4e0a\u8fd4\u56de\u76f8\u540c\u683c\u5f0f\u7684 ARP\u3002</li> <li>\u8fd9\u65f6\u4e3b\u673a A \u5df2\u7ecf\u6709\u4e86 B \u7684 MAC \u5730\u5740\uff0c\u5c31\u628a B \u7684 MAC \u5730\u5740\u5c01\u88c5\u5230 ICMP \u62a5\u4e2d\uff0c\u5411\u4e3b\u673a B \u53d1\u9001\u4e00\u4e2a\u56de\u663e\u8bf7\u6c42\u3002</li> <li>\u4e3b\u673a B \u6536\u5230\u8be5\u62a5\u6587\u540e\uff0c\u77e5\u9053\u662f\u4e3b\u673a A \u7684\u4e00\u4e2a\u56de\u663e\u8bf7\u6c42\uff0c\u5c31\u4f1a\u8fd4\u56de\u4e00\u4e2a\u76f8\u540c\u683c\u5f0f\u7684\u62a5\u6587\u3002\u8fd9\u6837\u5c31\u5b8c\u6210\u4e86\u540c\u4e00\u4e2a\u7f51\u6bb5\u7684 Ping \u7684\u8fc7\u7a0b\u3002</li> </ol> <p>\u4e0d\u540c\u7f51\u6bb5\uff1a</p> <ol> <li>\u4e3b\u673a A \u8981\u53bb Ping \u4e00\u4e2a\u4e0d\u540c\u7f51\u6bb5\u7684\u4e3b\u673a C\uff0c\u4e3b\u673a A \u4f1a\u53bb\u627e\u7f51\u5173\u8f6c\u53d1</li> <li>\u5982\u679c\u4e3b\u673a A \u4e0d\u77e5\u9053\u7f51\u5173\u7684 MAC \u5730\u5740\uff0c\u5c31\u4f1a\u53d1\u9001\u4e00\u4e2a ARP \u5e7f\u64ad\u4e00\u4e0b\uff0c\u8fd9\u6837\u5c31\u77e5\u9053\u4e86\u7f51\u5173\u7684 MAC \u5730\u5740</li> <li>\u7f51\u5173\u6536\u5230\u4e3b\u673a A \u7684 ICMP \u62a5\u6587\uff0c\u6839\u636e\u4e0a\u9762\u7684\u76ee\u7684 IP\uff0c\u4f1a\u53bb\u67e5\u627e\u8def\u7531\u8868\uff0c\u627e\u5230\u4e00\u4e2a\u51fa\u53e3\u6307\u9488\uff0c\u7ed9\u4e3b\u673a C \u53d1\u9001\u4e00\u4e2a ICMP \u62a5\u6587</li> <li>\u5982\u679c\u7f51\u5173\u4e0d\u77e5\u9053\u4e3b\u673a C \u7684 MAC \u5730\u5740\uff0c\u5c31\u4f1a\u7ed9\u7f51\u5173\u5185\u6240\u6709\u7684\u4e3b\u673a\u53d1\u9001\u4e00\u4e2a ARP\uff0c\u4ece\u800c\u627e\u5230\u4e3b\u673a C \u7684 MAC \u5730\u5740</li> <li>\u4e3b\u673a C \u6536\u5230\u4e3b\u673a A \u7684\u62a5\u6587\u5c31\u4f1a\u7ed9\u4e3b\u673a A \u53d1\u9001\u4e00\u4e2a\u56de\u663e\u8bf7\u6c42\u3002\u8fd9\u6837\u5c31\u5b8c\u6210\u4e86\u4e0d\u540c\u7f51\u6bb5\u7684 Ping \u7684\u8bf7\u6c42</li> </ol>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#28","title":"2.8 \u8def\u7531\u5668\u4e0e\u4ea4\u6362\u673a\u7684\u533a\u522b","text":"<p>\u8def\u7531\u5668\u5305\u542b\u4e86\u4ea4\u6362\u673a\u7684\u529f\u80fd\uff0c\u4ea4\u6362\u673a\u4e3b\u8981\u7684\u4f5c\u7528\u662f\u6269\u5c55\u63a5\u53e3\u3002</p>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#29","title":"2.9 \u786e\u8ba4\u8bbf\u95ee\u7528\u6237\u8eab\u4efd\u7684\u8ba4\u8bc1","text":"<ul> <li>basic \u8ba4\u8bc1</li> <li>digest \u8ba4\u8bc1</li> <li>ssl \u5ba2\u6237\u7aef\u8ba4\u8bc1</li> <li>\u57fa\u4e8e\u8868\u5355\u8ba4\u8bc1\uff1a\u8ba4\u8bc1\u591a\u534a\u4e3a\u57fa\u4e8e\u8868\u5355\u8ba4\u8bc1\uff1bsession \u7ba1\u7406\u53ca cookie \u5e94\u7528</li> </ul>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#210-websocket","title":"2.10 websocket","text":"<p>\u5168\u53cc\u5de5\u901a\u4fe1\uff0c\u7279\u70b9\uff1a</p> <ul> <li> <p>\u63a8\u9001\u529f\u80fd\uff1a\u652f\u6301\u670d\u52a1\u5668\u5411\u5ba2\u6237\u7aef\u63a8\u9001\u6570\u636e\u7684\u63a8\u9001\u529f\u80fd</p> </li> <li> <p>\u51cf\u5c11\u901a\u4fe1\u91cf\uff1a\u4e00\u76f4\u4fdd\u6301\u8fde\u63a5</p> </li> <li> <p>HTTP \u8fde\u63a5\u5efa\u7acb\u540e\uff0c\u9700\u8981\u5b8c\u6210\u4e00\u6b21\u63e1\u624b\u52a8\u4f5c</p> </li> <li> <ul> <li>\u63e1\u624b---\u8bf7\u6c42\uff1a\u7528\u5230 HTTP \u7684 upgrade \u5b57\u6bb5\u544a\u77e5\u670d\u52a1\u5668\u901a\u4fe1\u534f\u8bae\u53d1\u751f\u53d8\u5316</li> </ul> </li> <li> <p>\u63e1\u624b---\u54cd\u5e94\uff1a\u5bf9\u4e8e\u4e4b\u524d\u7684\u8bf7\u6c42\u8fd4\u56de\u72b6\u6001\u7801 101 switching protocols</p> </li> <li> <p>\u6210\u529f\u63e1\u624b\u786e\u7acb WebSocket \u8fde\u63a5\u4e4b\u540e\uff0c\u901a\u4fe1\u4e0d\u518d\u4f7f\u7528 HTTP \u7684\u6570\u636e\u5e27\uff0c\u800c\u91c7\u7528 WebSocket \u72ec\u7acb\u7684\u6570\u636e\u5e27</p> </li> </ul>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#3-https","title":"3. HTTPS \u534f\u8bae","text":""},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#31-http","title":"3.1 HTTP \u7f3a\u70b9","text":"<p>\u901a\u4fe1\u4f7f\u7528\u660e\u6587\u53ef\u80fd\u4f1a\u88ab\u7a83\u542c\uff0c\u89e3\u51b3\u65b9\u5f0f\uff1a</p> <ul> <li>\u901a\u4fe1\u52a0\u5bc6\u3002SSL \u548c TLS \u7ec4\u5408\u4f7f\u7528</li> <li>\u5185\u5bb9\u52a0\u5bc6</li> </ul> <p>\u4e0d\u9a8c\u8bc1\u901a\u4fe1\u65b9\u8eab\u4efd\u5c31\u53ef\u80fd\u906d\u9047\u4f2a\u88c5\uff0c \u89e3\u51b3\u65b9\u5f0f\uff1a\u67e5\u660e\u5bf9\u624b\u7684\u8bc1\u4e66</p> <p>\u65e0\u6cd5\u8bc1\u660e\u62a5\u6587\u5b8c\u6574\u6027\uff0c\u53ef\u80fd\u5df2\u906d\u7be1\u6539\uff1a\u6570\u5b57\u7b7e\u540d\uff0cMD5 \u5e76\u4e0d\u53ef\u9760\uff0c\u5e94\u7528 HTTPS\u3002</p>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#32-httphttps","title":"3.2 HTTP+\u52a0\u5bc6+\u8ba4\u8bc1+\u5b8c\u6574\u6027\u4fdd\u62a4=HTTPS","text":""},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#33-https-ssl-http","title":"3.3 HTTPS \u662f\u8eab\u62ab SSL \u5916\u58f3\u7684 HTTP","text":""},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#34-http","title":"3.4 HTTP \u91c7\u7528\u6df7\u5408\u52a0\u5bc6\u673a\u5236","text":""},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#35","title":"3.5 \u8bc1\u660e\u516c\u5f00\u5bc6\u94a5\u6b63\u786e\u6027\u7684\u8bc1\u4e66","text":""},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#36-ssl","title":"3.6 SSL \u534f\u8bae","text":"<p>\u6162\uff1a</p> <ul> <li>\u901a\u4fe1\u6162\u3002</li> <li>\u7531\u4e8e\u5927\u91cf\u6d88\u8017 CPU \u53ca\u5185\u5b58\u7b49\u8d44\u6e90\uff0c\u5bfc\u81f4\u5904\u7406\u901f\u5ea6\u53d8\u6162\u3002</li> <li>SSL \u5fc5\u987b\u8fdb\u884c\u52a0\u5bc6\u5904\u7406\u3002</li> </ul>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#4-tcp","title":"4. TCP \u534f\u8bae","text":""},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#41","title":"4.1 \u4f20\u8f93\u5c42","text":""},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#42","title":"4.2 \u4f5c\u7528","text":"<ul> <li>\u63d0\u4f9b\u53ef\u9760\u7684\u5b57\u8282\u6d41\u670d\u52a1</li> </ul>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#43-segment","title":"4.3 \u5927\u5757\u6570\u636e\u5206\u5272\u6210\u62a5\u6587\u6bb5(segment)","text":""},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#44","title":"4.4 \u4e09\u6b21\u63e1\u624b","text":"<ol> <li>\u53d1\u9001\u7aef\u53d1\u5e26 SYN \u6807\u5fd7\u7684\u6570\u636e\u5305\u7ed9\u5bf9\u65b9\u3002</li> <li>\u63a5\u6536\u7aef\u6536\u5230\u540e\uff0c\u56de\u4f20\u4e00\u4e2a\u5e26\u6709 SYN/ACK \u6807\u5fd7\u7684\u6570\u636e\u5305\u4ee5\u793a\u4f20\u8fbe\u786e\u8ba4\u4fe1\u606f\u3002</li> <li>\u6700\u540e\uff0c\u53d1\u9001\u7aef\u518d\u56de\u4f20\u4e00\u4e2a\u5e26 ACK \u6807\u5fd7\u7684\u6570\u636e\u5305\uff0c\u4ee3\u8868\u201c\u63e1\u624b\u201d\u7ed3\u675f</li> </ol> <p>\u63e1\u624b\u67d0\u4e2a\u9636\u6bb5\u4e2d\u65ad\uff0cTCP \u4f1a\u4ee5\u76f8\u540c\u7684\u987a\u5e8f\u53d1\u9001\u76f8\u540c\u7684\u6570\u636e\u5305\u3002</p>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#45","title":"4.5 \u56db\u6b21\u6325\u624b","text":"<ol> <li>\u5ba2\u6237\u7aef A \u53d1\u9001\u4e00\u4e2a FIN\uff0c\u7528\u6765\u5173\u95ed\u5ba2\u6237 A \u5230\u670d\u52a1\u5668 B \u7684\u6570\u636e\u4f20\u9001\u3002</li> <li>\u670d\u52a1\u5668 B \u6536\u5230\u8fd9\u4e2a FIN\uff0c\u5b83\u53d1\u56de\u4e00\u4e2a ACK\uff0c\u786e\u8ba4\u5e8f\u53f7\u4e3a\u6536\u5230\u7684\u5e8f\u53f7\u52a0 1\u3002\u548c SYN \u4e00\u6837\uff0c\u4e00\u4e2a FIN \u5c06\u5360\u7528\u4e00\u4e2a\u5e8f\u53f7\u3002</li> <li>\u670d\u52a1\u5668 B \u5173\u95ed\u4e0e\u5ba2\u6237\u7aef A \u7684\u8fde\u63a5\uff0c\u53d1\u9001\u4e00\u4e2a FIN \u7ed9\u5ba2\u6237\u7aef A\u3002</li> <li>\u5ba2\u6237\u7aef A \u53d1\u56de ACK \u62a5\u6587\u786e\u8ba4\uff0c\u5e76\u5c06\u786e\u8ba4\u5e8f\u53f7\u8bbe\u7f6e\u4e3a\u6536\u5230\u5e8f\u53f7\u52a0 1\u3002</li> </ol>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#46","title":"4.6 \u6d41\u91cf\u63a7\u5236","text":"<ul> <li>TCP \u63a5\u6536\u7aef\u5bf9\u53d1\u9001\u7aef\u53d1\u9001\u591a\u5c11\u5b57\u8282\u7684\u6570\u636e\u8fdb\u884c\u63a7\u5236\uff0c\u9632\u6b62\u63a5\u6536\u7aef\u5904\u7406\u4e0d\u53ca\u800c\u4e22\u5931\u6570\u636e</li> <li>\u53d1\u9001\u7a97\u53e3\u7684\u5927\u5c0f\u662f\u53d7\u5230\u63a5\u6536\u7a97\u53e3\u7684\u63a7\u5236\u7684\u3002</li> <li>\u53d1\u9001\u7a97\u53e3\u5fc5\u987b\u6839\u636e\u63a5\u6536\u7aef\u7684\u5927\u5c0f\u53ca\u65f6\u8c03\u6574\u53d1\u9001\u7a97\u53e3\u7684\u5927\u5c0f\uff0c\u8fd9\u4e2a\u673a\u5236\u4fdd\u8bc1\u4e86\u6bcf\u6b21 TCP \u4f20\u8f93\u7684\u6570\u636e\u91cf\u90fd\u662f\u63a5\u6536\u7aef\u53ef\u4ee5\u53ca\u65f6\u5904\u7406\u7684\u3002</li> </ul>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#47","title":"4.7 \u5dee\u9519\u63a7\u5236","text":"<ul> <li>\u4fdd\u8bc1\u63a5\u6536\u7aef\u63a5\u6536\u7684\u6570\u636e\u662f\u5b8c\u6574\u672a\u53d7\u635f\u4f24\u7684\uff0c\u662f\u53ef\u9760\u6027\u7684\u91cd\u8981\u4fdd\u8bc1\u3002</li> <li>\u4e3b\u8981\u4f7f\u7528\u6821\u9a8c\u548c\u3001\u786e\u8ba4\u3001\u8d85\u65f6\u91cd\u4f20\u8fd9\u4e09\u4e2a\u5de5\u5177\u8fdb\u884c\u5dee\u9519\u63a7\u5236\u3002</li> </ul>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#48","title":"4.8 \u62e5\u585e\u63a7\u5236","text":"<p>\u62e5\u585e\u7a97\u53e3\uff1a</p> <ul> <li>\u53d1\u9001\u65b9\u7684\u7a97\u53e3\u5927\u5c0f\u662f\u63a5\u6536\u7a97\u53e3\u4e0e\u62e5\u585e\u7a97\u53e3\u4e2d\u7684\u8f83\u5c0f\u503c\u3002</li> <li>\u62e5\u585e\u7a97\u53e3\u7684\u5927\u5c0f\u53c8\u53d6\u51b3\u4e8e\u7f51\u7edc\u7684\u62e5\u585e\u72b6\u51b5\u3002</li> </ul> <p>\u62e5\u585e\u7b56\u7565\uff1a</p> <ul> <li>\u6162\u5f00\u59cb</li> <li>\u62e5\u585e\u907f\u514d</li> <li>\u62e5\u585e\u68c0\u6d4b</li> </ul> <p>\u62e5\u585e\u63a7\u5236\u6d41\u7a0b\uff1a</p> <ol> <li>\u7531\u4e8e\u521a\u5f00\u59cb\u4e0d\u6e05\u695a\u7f51\u7edc\u7684\u62e5\u585e\u60c5\u51b5\uff0c\u6240\u4ee5\u4f1a\u9996\u5148\u91c7\u7528\u6162\u5f00\u59cb\u7b97\u6cd5\uff0c\u5f00\u59cb\u9636\u6bb5\uff0c\u7a97\u53e3\u5927\u5c0f\u7531 1 \u6307\u6570\u589e\u5927\uff0c\u76f4\u5230\u7a97\u53e3\u5927\u5c0f\u5230\u8fbe\u95e8\u9650\u503c\u3002</li> <li>\u7a97\u53e3\u5927\u5c0f\u5230\u8fbe\u95e8\u9650\u503c\u540e\uff0c\u5c31\u5f00\u59cb\u6267\u884c\u62e5\u585e\u907f\u514d\u7b97\u6cd5\uff0c\u4e4b\u540e\u7a97\u53e3\u503c\u6309\u7167\u7ebf\u6027\u89c4\u5f8b\u589e\u5927\uff0c\u76f4\u5230\u51fa\u73b0\u8d85\u65f6\u6216\u8005\u5230\u8fbe\u6700\u5927\u7684\u7a97\u53e3\u5927\u5c0f\u503c\u3002</li> <li>\u8fd9\u4e2a\u65f6\u5019\uff0c\u4f1a\u5f00\u59cb\u6267\u884c\u62e5\u585e\u68c0\u6d4b\u7b97\u6cd5\uff0c\u4e5f\u5c31\u662f\u628a\u95e8\u9650\u503c\u53d8\u4e3a\u7a97\u53e3\u5927\u5c0f\u7684\u4e00\u534a\uff0c\u4e4b\u540e\u7ee7\u7eed\u6267\u884c\u62e5\u585e\u907f\u514d\u7b97\u6cd5\uff0c\u7a97\u53e3\u5927\u5c0f\u6309\u7167\u7ebf\u6027\u89c4\u5f8b\u589e\u5927\u3002</li> </ol>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#5-ip","title":"5. IP \u534f\u8bae","text":""},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#51","title":"5.1 \u7f51\u7edc\u5c42","text":""},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#52","title":"5.2 \u4f5c\u7528","text":"<p>\u628a\u6570\u636e\u5305\u4f20\u9001\u7ed9\u5bf9\u65b9\u3002</p>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#53","title":"5.3 \u6761\u4ef6","text":"<p>IP \u5730\u5740\u548c MAC \u5730\u5740\u3002</p>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#54-arp-mac","title":"5.4 \u4f7f\u7528 ARP \u534f\u8bae\u51ed\u501f MAC \u5730\u5740\u8fdb\u884c\u901a\u4fe1","text":""},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#55","title":"5.5 \u8def\u7531\u9009\u62e9","text":""},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#6-tcpip","title":"6. TCP/IP","text":""},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#61","title":"6.1 \u534f\u8bae\u65cf","text":"<p>IP\u3001ICMP\u3001DNS\u3001TCP\u3001FTP\u3001HTTP\u3001SNMP\u3002</p>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#62","title":"6.2 \u5206\u5c42\u7ba1\u7406","text":"<ul> <li>\u5e94\u7528\u5c42\uff1a\u51b3\u5b9a\u5411\u7528\u6237\u63d0\u4f9b\u5e94\u7528\u670d\u52a1\u65f6\u901a\u4fe1\u7684\u6d3b\u52a8\u3002FTP\u3001HTTP\u3001DNS\u3002</li> <li>\u4f20\u8f93\u5c42\uff1a\u5bf9\u4e0a\u5c42\u5e94\u7528\u5c42\uff0c\u63d0\u4f9b\u5904\u4e8e\u7f51\u7edc\u8fde\u63a5\u4e2d\u7684\u4e24\u53f0\u8ba1\u7b97\u673a\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u8f93\u3002TCP\u3001UDP\u3002</li> <li>\u7f51\u7edc\u5c42\uff1a\u5904\u7406\u7f51\u7edc\u4e0a\u6d41\u52a8\u7684\u6570\u636e\u5305\uff0c\u89c4\u5b9a\u4e86\u901a\u8fc7\u600e\u6837\u7684\u8def\u5f84\u5230\u8fbe\u5bf9\u65b9\u8ba1\u7b97\u673a\uff0c\u5e76\u628a\u6570\u636e\u5305\u4f20\u9001\u7ed9\u5bf9\u65b9\u3002</li> <li>\u6570\u636e\u94fe\u8def\u5c42\uff1a\u5904\u7406\u8fde\u63a5\u7f51\u7edc\u7684\u786c\u4ef6\u90e8\u5206\u3002</li> </ul>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#63","title":"6.3 \u901a\u4fe1\u4f20\u8f93\u6d41","text":"<ul> <li>\u53d1\u9001\u7aef\u5c42\u4e0e\u5c42\u4e4b\u95f4\u4f20\u8f93\u6570\u636e\uff0c\u6bcf\u7ecf\u8fc7\u4e00\u5c42\u65f6\u5fc5\u5b9a\u4f1a\u88ab\u6253\u4e0a\u4e00\u4e2a\u8be5\u5c42\u6240\u5c5e\u7684\u9996\u90e8\u4fe1\u606f</li> <li>\u63a5\u6536\u7aef\u5728\u5c42\u4e0e\u5c42\u4f20\u8f93\u6570\u636e\u65f6\uff0c\u6bcf\u7ecf\u8fc7\u4e00\u5c42\u65f6\u4f1a\u628a\u5bf9\u5e94\u7684\u9996\u90e8\u6d88\u53bb\u3002</li> <li>\u8fd9\u79cd\u628a\u6570\u636e\u4fe1\u606f\u5305\u88c5\u8d77\u6765\u7684\u505a\u6cd5\u79f0\u4e3a\u5c01\u88c5</li> </ul>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#7-web","title":"7. Web \u653b\u51fb","text":""},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#71","title":"7.1 \u56e0\u8f93\u51fa\u503c\u8f6c\u79fb\u4e0d\u5b8c\u5168\u5f15\u53d1\u7684\u5b89\u5168\u6f0f\u6d1e","text":"<ul> <li>\u8de8\u7ad9\u811a\u672c\u653b\u51fb XSS</li> <li>SQL \u6ce8\u5165\u653b\u51fb</li> <li>OS \u547d\u4ee4\u6ce8\u5165\u653b\u51fb</li> <li>HTTP \u9996\u90e8\u6ce8\u5165\u653b\u51fb</li> <li>\u90ae\u4ef6\u9996\u90e8\u6ce8\u5165\u653b\u51fb</li> <li>\u76ee\u5f55\u904d\u5386\u653b\u51fb</li> <li>\u8fdc\u7a0b\u6587\u4ef6\u5305\u542b\u6f0f\u6d1e</li> </ul>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#72","title":"7.2 \u56e0\u8bbe\u7f6e\u6216\u8bbe\u8ba1\u4e0a\u7684\u7f3a\u9677\u5f15\u53d1\u7684\u5b89\u5168\u6f0f\u6d1e","text":"<ul> <li>\u5f3a\u5236\u6d4f\u89c8</li> <li>\u4e0d\u6b63\u786e\u7684\u9519\u8bef\u6d88\u606f\u5904\u7406</li> <li>\u5f00\u653e\u91cd\u5b9a\u5411</li> </ul>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#73","title":"7.3 \u56e0\u4f1a\u8bdd\u7ba1\u7406\u758f\u5ffd\u5f15\u53d1\u7684\u5b89\u5168\u6f0f\u6d1e","text":"<ul> <li>\u4f1a\u8bdd\u52ab\u6301</li> <li>\u4f1a\u8bdd\u56fa\u5b9a\u653b\u51fb</li> <li>\u8de8\u7ad9\u70b9\u8bf7\u6c42\u4f2a\u9020(CSRF)</li> </ul>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#74","title":"7.4 \u5176\u4ed6\u5b89\u5168\u6f0f\u6d1e","text":"<ul> <li>\u5bc6\u7801\u7834\u89e3</li> <li>\u70b9\u51fb\u52ab\u6301</li> <li>dos \u653b\u51fb</li> <li>\u540e\u95e8\u7a0b\u5e8f</li> </ul>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#8","title":"8. \u5176\u4ed6\u534f\u8bae","text":""},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#81-igmp","title":"8.1 IGMP \u534f\u8bae","text":"<p>\u7ec4\u7ba1\u7406\u534f\u8bae\uff0c\u5b83\u5e2e\u52a9\u591a\u64ad\u8def\u7531\u5668\u521b\u5efa\u4ee5\u53ca\u66f4\u65b0\u4e0e\u6bcf\u4e00\u4e2a\u8def\u7531\u63a5\u53e3\u76f8\u8fde\u7684\u5fe0\u5b9e\u6210\u5458\u5217\u8868\uff08\u5c31\u662f\u4e0e\u8be5\u8def\u7531\u63a5\u53e3\u8fde\u63a5\u9891\u7387\u8f83\u9ad8\uff09\u3002</p>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#82-icmp","title":"8.2 ICMP \u534f\u8bae","text":"<p>\u5dee\u9519\u63a7\u5236\u534f\u8bae\uff0c\u5f25\u8865\u4e86 IP \u534f\u8bae\u6ca1\u6709\u5dee\u9519\u7ea0\u6b63\u673a\u5236\u4ee5\u53ca\u5dee\u9519\u62a5\u544a\u7684\u7f3a\u61be\u3002</p>"},{"location":"network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#83-arp","title":"8.3 ARP \u534f\u8bae","text":"<p>\u5730\u5740\u6620\u5c04\u534f\u8bae\uff0c\u53ef\u4ee5\u628a\u4e00\u4e2a IP \u5730\u5740\u6620\u5c04\u4e3a MAC \u5730\u5740\u3002</p> <p>\u628a IP \u6570\u636e\u62a5\u5c01\u88c5\u6210\u5e27\uff08\u4ee5\u592a\u7f51\u4e0a\u5bf9 01 \u4e32\u7684\u5206\u7ec4\u5b9a\u4e49\uff09\u540e\u624d\u80fd\u901a\u8fc7\u7269\u7406\u7f51\u7edc\uff0c\u8fd9\u65f6\u5c31\u9700\u8981\u76ee\u7684\u4e3b\u673a\u7684 MAC \u5730\u5740\u3002</p>"},{"location":"network/%E8%B7%A8%E5%9F%9F/","title":"\u8de8\u57df","text":""},{"location":"network/%E8%B7%A8%E5%9F%9F/#_1","title":"\u8de8\u57df","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1237  \u9605\u8bfb3\u5206\u949f</p>"},{"location":"network/%E8%B7%A8%E5%9F%9F/#_2","title":"\u5e38\u89c1\u62a5\u9519","text":"<p>No 'Access-Control-Allow-Origin' header is present on the requested resource.'Ajax</p>"},{"location":"network/%E8%B7%A8%E5%9F%9F/#_3","title":"\u8de8\u57df\u8bbf\u95ee","text":"<p>\u5728\u4e00\u4e2a\u7f51\u7ad9\u4e2d\uff0c\u4f7f\u7528 ajax \u83b7\u5f97\u53e6\u4e00\u4e2a\u4e0d\u540c\u57df\u7684\u7f51\u7ad9\u7684\u5185\u5bb9\u3002\u4e24\u4e2a\u57df\u540d\u4e4b\u95f4\u4e0d\u80fd\u8de8\u8d8a\u57df\u540d\u53d1\u9001\u8bf7\u6c42\u6216\u8005\u8bf7\u6c42\u6570\u636e\uff0c\u5426\u5219\u5c31\u662f\u4e0d\u5b89\u5168\u7684\u3002\u8de8\u57df\u8bbf\u95ee\u8fdd\u53cd\u4e86\u540c\u6e90\u7b56\u7565\u3002\u6d4f\u89c8\u5668\u7684 ajax \u53ea\u80fd\u8bbf\u95ee\u548c\u4ed6\u540c\u6e90\u7684 HTML \u9875\u9762\u540c\u6e90\u7684\u8d44\u6e90\u3002</p>"},{"location":"network/%E8%B7%A8%E5%9F%9F/#_4","title":"\u670d\u52a1\u5668","text":"<p>\u5728\u670d\u52a1\u5668\u7aef\u7684 filter \u6216\u8005 servlet \u91cc\u9762\u6dfb\u52a0</p> <pre><code>response.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n</code></pre> <p>\u201cAccess-Control-Allow-Origin\u201d\u8868\u793a\u5141\u8bb8\u8de8\u57df\u8bbf\u95ee\uff0c\u201c*\u201d\u8868\u793a\u5141\u8bb8\u6240\u6709\u6765\u6e90\u8fdb\u884c\u8de8\u57df\u8bbf\u95ee\uff0c\u8fd9\u91cc\u4e5f\u53ef\u4ee5\u66ff\u6362\u4e3a\u7279\u5b9a\u7684\u57df\u540d\u6216 ip\u3002 \u5f88\u663e\u7136\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5bf9\u975e\u7f51\u7ad9\u62e5\u6709\u4eba\u5458\u6765\u8bf4\u662f\u4e0d\u80fd\u505a\u5230\u7684\u3002\u800c\u4e14\u6b64\u79cd\u65b9\u5f0f\u5f88\u5bb9\u6613\u53d7\u5230 CSRF \u653b\u51fb\u3002</p>"},{"location":"network/%E8%B7%A8%E5%9F%9F/#_5","title":"\u6d4f\u89c8\u5668","text":"<p>\u5c06 ajax \u4e2d\u7684\u8bf7\u6c42\u8bbe\u7f6e\u4e3a jsonp\uff08\u4e13\u95e8\u4e3a\u4e86\u89e3\u51b3\u8de8\u57df\u95ee\u9898\u4f7f\u7528\u7684\uff09</p> <pre><code>$(function($){\n    var url = 'http://www.baidu.com/index';\n    $.ajax(url, {\n        data: {\n                'data': '20180818'\n            },\n        dataType: 'jsonp',\n        crossDomain: true,\n        success: fucntion(data) {\n                if (data &amp;&amp; data.resultcode == '200'){\n                    console.log(data.result.today);\n                }\n            }\n        });\n});\n</code></pre>"},{"location":"network/%E8%B7%A8%E5%9F%9F2/","title":"\u8de8\u57df\u2014\u2014Cross-Origin Resource Sharing","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5733  \u9605\u8bfb12\u5206\u949f</p> <p>\u8de8\u57df\u8bf7\u6c42\uff1a\u7b80\u5355\u8bf4\uff0c\u4e0d\u540c\u57df\u540d\u4e4b\u95f4\u53ef\u4ee5\u8bf7\u6c42\u5230\u6570\u636e\u7684\u884c\u4e3a</p> <p>\u62a5\u9519\u4fe1\u606f\uff1a</p> <pre><code>Failed to load https://example.com/: No \u2018Access-Control-Allow-Origin\u2019 header is present on the requested resource. Origin \u2018https://anfo.pl' is therefore not allowed access. If an opaque response serves your needs, set the request\u2019s mode to \u2018no-cors\u2019 to fetch the resource with CORS disabled.\n</code></pre> <p>CORS \u662f\u4e00\u79cd\u53ef\u4ee5\u8ba9\u4f60\u5b9e\u73b0\u8de8\u7ad9\u70b9\u8bf7\u6c42\u5e76\u540c\u65f6\u963b\u6b62\u6076\u610f js \u7684\u8bf7\u6c42\uff0c\u5b83\u4f1a\u5728\u4f60\u53d1\u9001\u4e0b\u9762\u51e0\u79cd HTTP \u8bf7\u6c42\u65f6\u89e6\u53d1\uff1a</p> <p>- \u4e0d\u540c\u7684\u57df\u540d \uff08\u6bd4\u5982\u5728\u7f51\u7ad9 example.com \u8bf7\u6c42 api.com)</p> <p>- \u4e0d\u540c\u7684\u5b50\u57df\u540d \uff08\u6bd4\u5982\u5728\u7f51\u7ad9 example.com \u8bf7\u6c42 api.example.com)</p> <p>- \u4e0d\u540c\u7684\u7aef\u53e3 \uff08\u6bd4\u5982\u5728\u7f51\u7ad9 example.com \u8bf7\u6c42 example.com:3001)</p> <p>- \u4e0d\u540c\u534f\u8bae \uff08\u6bd4\u5982\u5728\u7f51\u7ad9 https://example.com \u8bf7\u6c42 http://example.com)</p> <p>\u8fd9\u4e2a\u673a\u5236\u963b\u6b62\u653b\u51fb\u8005\u5728\u4e00\u4e9b\u7f51\u7ad9\u4e0a\u653e\u7f6e js \u811a\u672c\uff08\u6bd4\u5982\u901a\u8fc7 Googls Ads \u5c55\u793a\u7684\u5e7f\u544a\uff09\u53d1\u8d77\u4e00\u4e2a AJAX \u8bf7\u6c42\u8bbf\u95eewww.yourbank.com\uff0c\u5047\u8bbe\u4f60\u521a\u597d\u767b\u9646\u8fc7\u8fd9\u4e2a\u7f51\u7ad9\uff0c\u5c31\u53ef\u80fd\u4f7f\u7528\u4f60\u7684\u9a8c\u8bc1\u4fe1\u606f\u53d1\u8d77\u4e00\u7b14\u8f6c\u8d26\u3002</p> <p>\u5982\u679c\u4f60\u7684\u6d4f\u89c8\u5668\u53d1\u8d77\u4e00\u4e2a\u201c\u975e\u7b80\u5355\u201d\u8bf7\u6c42\uff08\u6bd4\u5982\u8fd9\u4e2a\u8bf7\u6c42\u91cc\u5305\u542b\u4e86*cookies*\uff0c\u6216\u8005*Content-type*\u662f*application/x-ww-form-urlencoded*, multipart/form-data \u6216\u8005 text-plain\uff09\u4e00\u4e2a\u53eb\u505a**\u9884\u68c0\u67e5**\u7684\u673a\u5236\u4f1a\u53d1\u9001\u4e00\u4e2a*OPTIONS*\u8bf7\u6c42\u5230\u670d\u52a1\u5668\u3002\u5982\u679c\u670d\u52a1\u5668\u6ca1\u6709\u8fd4\u56de\u5e26\u6709\u7279\u6b8a\u5934\u90e8\u7684\u6570\u636e\uff0c\u7b80\u5355\u8bf7\u6c42 GET \u6216\u8005 POST \u8bf7\u6c42\u4ecd\u7136\u4f1a\u53d1\u9001\uff0c\u670d\u52a1\u5668\u7684\u6570\u636e\u4e5f\u4f1a\u8fd4\u56de\uff0c\u4f46\u662f\u6d4f\u89c8\u5668\u4f1a\u963b\u6b62 Javascript \u83b7\u53d6\u8fd9\u6b21\u8bf7\u6c42\u3002</p> <p>\u5982\u679c\u660e\u786e\u7684\u9700\u8981\u5728\u4e00\u4e2a\u8bf7\u6c42\u91cc\u6dfb\u52a0 cookies\uff0c\u81ea\u5b9a\u4e49\u5934\u90e8\u4fe1\u606f\u6216\u5219\u5176\u4ed6\u7279\u6027\uff0c\u8fd9\u5c06\u4e0d\u5728\u662f\u4e00\u4e2a\u7b80\u5355\u8bf7\u6c42\uff0c\u5e76\u4e14\u670d\u52a1\u5668\u6ca1\u6709\u9002\u5f53\u7684\u8fd4\u56de\uff0c\u8fd9\u6b21\u8bf7\u6c42\u8bb2\u4e0d\u4f1a\u53d1\u9001\u3002\u5c31\u662f\u590d\u6742\u8bf7\u6c42\u65f6\uff0c\u5982\u679c OPTIONS \u7684\u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u6ca1\u6709\u505a\u51fa\u9002\u5f53\u7684\u8fd4\u56de\uff0c\u540e\u9762\u771f\u5b9e\u7684\u8bf7\u6c42\u5c06\u4e0d\u4f1a\u53d1\u9001\u3002</p> <p>\u5982\u4f55\u4fee\u590d CORS\u201c\u9519\u8bef\u201d\uff1f</p> <p>\u4f60\u5e94\u8be5\u660e\u767d\u4e86 CORS \u7684\u884c\u4e3a\u5e76\u4e0d\u662f\u4e00\u4e2a**\u9519\u8bef**\u2014\u2014\u5b83\u662f\u4e00\u4e2a\u673a\u5236\uff0c\u7528\u6765\u4fdd\u62a4\u4f60\u7684\u7528\u6237\uff0c\u4f60\u548c\u4f60\u8bf7\u6c42\u7684\u670d\u52a1\u5668\u3002</p> <p>\u6709\u65f6\uff0c\u7f3a\u4e4f\u9002\u5f53\u7684\u5934\u90e8\u4fe1\u606f\u662f\u56e0\u4e3a\u5ba2\u6237\u7aef\u5b9e\u73b0\u9519\u8bef\uff08\u6bd4\u5982\uff1a\u4e22\u5931\u9a8c\u8bc1\u4fe1\u606f\u6bd4\u5982 API key\uff09\u3002</p> <p>\u4e0b\u9762\u6709\u51e0\u4e2a\u9002\u5e94\u4e0d\u540c\u60c5\u51b5\uff0c\u201c\u4fee\u590d\u8fd9\u4e2a\u9519\u8bef\u201d\u7684\u65b9\u6cd5\uff1a</p> <p>A\u2014\u2014\u6211\u5728\u5f00\u53d1\u524d\u7aef\u5e76\u4e14\u53ef\u4ee5\u63a7\u5236\u6216\u8005\u8ba4\u8bc6\u5f00\u53d1\u540e\u7aef\u7684\u4eba\u5458</p> <p>\u8fd9\u662f\u4e00\u4e2a\u6700\u597d\u7684\u60c5\u51b5\u2014\u2014\u4f60\u5e94\u8be5\u80fd\u8ba9\u8fd4\u56de\u4fe1\u606f\u7684\u5934\u91cc\u5305\u542b\u9002\u5f53\u7684 CORS \u5b57\u6bb5\u3002\u5982\u679c\u4f60\u8bf7\u6c42\u7684 API \u4f7f\u7528 node \u7684 experss\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 cors \u5305\u3002\u5982\u679c\u4f60\u60f3\u8ba9\u4f60\u7684\u7f51\u7ad9\u66f4\u52a0\u7684\u5b89\u5168\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528\u767d\u540d\u5355\u6765\u8fd4\u56de Access-Control-Allow-Origin \u5934\u3002</p> <p>B\u2014\u2014\u6211\u5728\u5f00\u53d1\u524d\u7aef\uff0c\u4f46\u662f\u6211\u4e0d\u80fd\u63a7\u5236\u540e\u7aef\uff0c\u6211\u9700\u8981\u4e00\u4e2a\u4e34\u65f6\u65b9\u6848</p> <p>\u8fd9\u662f\u7b2c\u4e8c\u4e2a\u6700\u597d\u7684\u60c5\u51b5\uff0c\u7279\u522b\u662f\u5728\u6709\u65f6\u95f4\u9650\u5236\u7684\u60c5\u51b5\u91cc\u3002\u4e34\u65f6\u7684\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u8ba9\u4f60\u7684\u6d4f\u89c8\u5668\u5ffd\u7565 CORS \u673a\u5236\u2014\u2014\u6bd4\u5982\u5b89\u88c5ACAOChrmoe \u63d2\u4ef6\u6216\u8005\u542f\u52a8 Chrome \u65f6\u8f93\u5165\u4e0b\u9762\u7684\u6307\u4ee4:</p> <p>chrome --disable-web-security --user-data-dir</p> <p>**\u91cd\u8981:**\u9700\u8981\u8bb0\u4f4f\u7684\u662f\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4f1a\u5173\u95ed\u6574\u4e2a\u6d4f\u89c8\u5668\u7684 CORS \u673a\u5236\uff0c\u5305\u542b\u4f60\u6d4f\u89c8\u5668\u6b63\u5728\u8bbf\u95ee\u7684\u7f51\u7ad9\uff0c\u8981\u5c0f\u5fc3\u4f7f\u7528\uff0c\u975e\u5e38\u4e0d\u5b89\u5168\u3002\uff08\u8bd1\u8005\u6ce8\uff1a\u8fd9\u4e2a\u65b9\u6cd5\u6ca1\u6709\u7528\u8fc7\uff0c\u4e2a\u4eba\u89c9\u5f97\u98ce\u9669\u592a\u5927\uff0c\u4e34\u65f6\u6d4b\u8bd5\u4e5f\u614e\u7528\uff0c\u6015\u4f60\u5f00\u4e86\u63d2\u4ef6\u5fd8\u8bb0\u5173\u6389\uff09</p> <p>\u5176\u4ed6\u65b9\u6cd5\u53ef\u4ee5\u4f7f\u7528devServer.proxy(\u5047\u8bbe\u4f60\u4f7f\u7528 webpack \u6765\u542f\u52a8\u4f60\u7684 app)\u6216\u8005\u4f7f\u7528 CORS-as-a-service \u89e3\u51b3\u65b9\u6848\uff0c\u6bd4\u5982https://cors-anywhere.herokuapp.com/</p> <p>C\u2014\u2014\u6211\u5728\u5f00\u53d1\u524d\u7aef\uff0c\u4f46\u662f\u6211\u63a7\u5236\u4e0d\u4e86\u540e\u7aef\uff0c\u800c\u4e14\u5c06\u6765\u4e5f\u63a7\u5236\u4e0d\u4e86</p> <p>\u597d\u7684\u3002\u4e8b\u60c5\u8d8a\u6765\u8d8a\u590d\u6742\u4e86\u3002\u9996\u5148\uff0c\u4f60\u5e94\u8be5\u601d\u8003\uff0c\u4e3a\u4ec0\u4e48\u670d\u52a1\u5668\u6ca1\u6709\u8fd4\u56de\u9002\u5f53\u7684\u5934\u90e8\u3002</p> <p>\u4e5f\u8bb8\u4f60\u8bf7\u6c42\u7684 API \u4e0d\u8bb8\u5141\u7b2c\u4e09\u65b9\u5e94\u7528\u8bf7\u6c42\u5b83\u4eec\uff1f\u6216\u8005\u8fd9\u4e9b API \u4ec5\u4ec5\u7ed9 APP \u4f7f\u7528\uff0c\u800c\u4e0d\u662f\u6d4f\u89c8\u5668\uff1f\u6216\u8005\u4f60\u5e94\u8be5\u53d1\u9001\u4e00\u4e2a\u9a8c\u8bc1 token \u5728\u4f60\u8bf7\u6c42\u7684 URL \u91cc\uff1f</p> <p>\u5047\u5982\u4f60\u575a\u6301\u8981\u901a\u8fc7\u6d4f\u89c8\u5668\u83b7\u5f97\u5b83\u4eec\u7684\u6570\u636e\uff0c\u4f60\u5e94\u8be5\u81ea\u5df1\u5199\u4e00\u4e2a\u4ee3\u7406\uff0c\u5728\u6d4f\u89c8\u5668\u548c\u4f60\u8981\u8bf7\u6c42\u7684 API \u4e4b\u95f4\u3002\u5c31\u50cf\u6211\u4eec\u5728\u65b9\u6cd5 B \u91cc\u505a\u7684\u90a3\u6837\u3002</p> <p>\u8fd9\u4e2a\u4ee3\u7406\u6ca1\u6709\u8fd0\u884c\u5728\u548c\u4f60\u5e94\u7528\u76f8\u540c\u7684\u57df\u540d\u4e0b\uff0c\u4f46\u662f\u8fd9\u4e2a\u4ee3\u7406\u4e3a\u4f60\u7684\u8bf7\u6c42\u63d0\u4f9b\u6b63\u786e\u7684 CORS \u54cd\u5e94\u3002\u8fd9\u4e2a\u4ee3\u7406\u53bb\u8bf7\u6c42 API \u65f6\u5c31\u4e0d\u9700\u8981 CORS \u652f\u6301\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u4ee3\u7406\u4e0d\u662f\u7528\u6d4f\u89c8\u5668\u53bb\u8bbf\u95ee\u7684 API\uff0c\u800c\u662f\u901a\u8fc7\u7a0b\u5e8f\u76f4\u63a5\u53d1\u8d77\u7684\u8bf7\u6c42\u3002</p> <p>\u4f60\u53ef\u4ee5\u6839\u636e\u4f60\u7684\u5e73\u53f0\u5b9e\u73b0\u8fd9\u4e2a\u4ee3\u7406\uff0c\u6216\u8005\u4f7f\u7528\u5df2\u7ecf\u505a\u597d\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u6bd4\u5982\uff1ahttps://www.npmjs.com/package/cors-anywhere</p> <p>\u8bf7\u8bb0\u4f4f\uff0c\u5982\u679c\u4f60\u60f3\u652f\u6301\u7528\u6237\u9a8c\u8bc1\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u4f1a\u5f15\u5165\u5b89\u5168\u98ce\u9669\u3002</p> <p>\u8bd1\u8005\u6ce8\uff1a\u5b9e\u6218\u4e2d\uff0c\u80fd\u63a7\u5236\u670d\u52a1\u5668\u7684\u60c5\u51b5\u4e0b\u3002\u6700\u597d\u662f\u670d\u52a1\u5668\u4e0a\u6b63\u786e\u914d\u7f6e CORS\uff0c\u53ef\u4ee5\u5728\u670d\u52a1\u5668 API \u5c42\u8fdb\u884c\u914d\u7f6e\uff0c\u4e5f\u53ef\u4ee5\u5728 nginx \u6216\u8005 apache \u5c42\u8fdb\u884c\u914d\u7f6e\uff08\u8fd9\u6837\u540e\u7aef\u65b0\u52a0\u670d\u52a1\u5668\u4e0d\u7528\u518d\u914d\u7f6e\uff09\u3002\u6700\u597d\u914d\u7f6e\u4e0a\u767d\u540d\u5355\u3002\u771f\u5b9e\u9879\u76ee\u4e2d\uff0cCORS \u95ee\u9898\u4e3b\u8981\u51fa\u73b0\u5728\u5f00\u53d1\u9636\u6bb5\uff0c\u672c\u5730\u542f\u52a8\u7684\u524d\u7aef\u5f00\u53d1\u670d\u52a1\u5668\u57df\u540d\u662f localhost\u3002\u8c03\u8bd5\u63a5\u53e3\u53ef\u80fd\u662f\u4e00\u4e2a\u5176\u4ed6\u57df\u540d\uff0c\u8fd9\u4e2a\u65f6\u5019\u7684\u89e3\u51b3\u65b9\u6cd5\u3002AC \u90fd\u53ef\u4ee5\uff0c\u4e0d\u8fc7 C \u65b9\u6cd5\u4f1a\u5bfc\u81f4\u6bcf\u4e2a\u524d\u7aef\u9879\u76ee\u90fd\u9700\u8981\u81ea\u5df1\u7684\u5f00\u53d1\u670d\u52a1\u5668\u652f\u6301\u4e00\u4e2a proxy\u3002\u4e2a\u4eba\u504f\u5411\u53bb\u6d4b\u8bd5\u73af\u5883\u7684 nginx \u670d\u52a1\u5c42\u914d\u7f6e\u8de8\u57df\uff0c\u8fd9\u6837\uff0c\u5f00\u53d1\u73af\u5883\u7edf\u4e00\u652f\u6301\u524d\u7aef\u672c\u5730\u5f00\u53d1\u8de8\u57df\u8c03\u8bd5\u63a5\u53e3\u3002</p>"},{"location":"nginx/Mac%E4%B8%8A%E6%90%AD%E5%BB%BAnginx%E6%95%99%E7%A8%8B/","title":"mac \u914d\u7f6e nginx \u670d\u52a1\u5668","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3809  \u9605\u8bfb8\u5206\u949f</p> <p>\u8fd9\u4e2a\u9ed8\u8ba4\u628a nginx \u5b89\u88c5\u5728 mac \u5168\u5c40\u73af\u5883\u4e2d\uff08\u5982\u679c\u9700\u8981\u5728 docker \u5b89\u88c5 nginx\uff0c\u53ef\u4ee5\u53c2\u8003\u5176\u4ed6\u65b9\u6cd5\uff09</p>"},{"location":"nginx/Mac%E4%B8%8A%E6%90%AD%E5%BB%BAnginx%E6%95%99%E7%A8%8B/#1-homebrew","title":"1.\u5b89\u88c5 Homebrew","text":"<p>\u4f7f\u7528 ruby \u5b89\u88c5 homebrew(\u5df2\u7ecf\u5b89\u88c5\u7684\u53ef\u4ee5\u8df3\u8fc7)</p> <pre><code>ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n</code></pre>"},{"location":"nginx/Mac%E4%B8%8A%E6%90%AD%E5%BB%BAnginx%E6%95%99%E7%A8%8B/#2-nginx","title":"2.\u5b89\u88c5 nginx","text":"<p>\u5728\u7ec8\u7aef\u8f93\u5165</p> <pre><code>brew install nginx\n</code></pre>"},{"location":"nginx/Mac%E4%B8%8A%E6%90%AD%E5%BB%BAnginx%E6%95%99%E7%A8%8B/#3-nginx","title":"3.\u5f00\u542f nginx \u670d\u52a1\u5668","text":"<p>\u5b89\u88c5\u597d\u4e86,\u5c31\u53ef\u4ee5\u542f\u52a8 nginx \u4e86, \u7ec8\u7aef\u8f93\u5165 <code>brew services start nginx</code></p> <p>\u53ef\u4ee5\u76f4\u63a5\u8f6c\u5230\u6d4f\u89c8\u5668\u8f93\u5165:</p> <p>http://localhost:8080</p>"},{"location":"nginx/Mac%E4%B8%8A%E6%90%AD%E5%BB%BAnginx%E6%95%99%E7%A8%8B/#4-nginx","title":"4.\u5173\u95ed\u91cd\u542f nginx","text":"<p>nginx \u5176\u4ed6\u547d\u4ee4\uff08\u5173\u95ed\u91cd\u542f\uff09\uff0c\u628a start \u66ff\u6362\u5373\u53ef</p> <pre><code>brew services stop nginx\nbrew services restart nginx\n</code></pre>"},{"location":"nginx/Mac%E4%B8%8A%E6%90%AD%E5%BB%BAnginx%E6%95%99%E7%A8%8B/#5nginx","title":"5.nginx \u914d\u7f6e\u7b80\u5355\u8bf4\u660e","text":"<p>nginx \u9ed8\u8ba4\u5b89\u88c5\u5230 /usr/local/ \u76ee\u5f55\u4e0b</p> <p>/usr/local/Cellar/nginx</p> <p>\u5177\u4f53\u7684\u914d\u7f6e\u6587\u4ef6\u5982\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u590d\u5236\u4e00\u4efd</p> <p>cp /usr/local/etc/nginx/nginx.conf</p> <pre><code>user root owner; \u6ce8\u610f\u8bbe\u7f6e\u8bbf\u95ee\u6743\u9650( user root owner; )\uff0c\u4e0d\u7136\u7b49\u4f1a\u8bbf\u95ee\u7f51\u7ad9\u4f1a\u51fa\u73b0403\u9519\u8bef\n\n#user  nobody;\nworker_processes  1;\n\n#error_log  logs/error.log;\n#error_log  logs/error.log  notice;\n#error_log  logs/error.log  info;\n\n#pid        logs/nginx.pid;\n\n\nevents {\n    worker_connections  1024;\n}\n\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    #log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n    #                  '$status $body_bytes_sent \"$http_referer\" '\n    #                  '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\n    #access_log  logs/access.log  main;\n\n    sendfile        on;\n    #tcp_nopush     on;\n\n    #keepalive_timeout  0;\n    keepalive_timeout  65;\n\n    #gzip  on;\n\n    server {\n        listen       8080;\n        server_name  localhost;\n\n        #charset koi8-r;\n\n        #access_log  logs/host.access.log  main;\n\n        location / {\n            root   html;\n            index  index.html index.htm;\n        }\n\n        #error_page  404              /404.html;\n\n        # redirect server error pages to the static page /50x.html\n        #\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   html;\n        }\n\n        # proxy the PHP scripts to Apache listening on 127.0.0.1:80\n        #\n        #location ~ \\.php$ {\n        #    proxy_pass   http://127.0.0.1;\n        #}\n\n        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n        #\n        #location ~ \\.php$ {\n        #    root           html;\n        #    fastcgi_pass   127.0.0.1:9000;\n        #    fastcgi_index  index.php;\n        #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;\n        #    include        fastcgi_params;\n        #}\n\n        # deny access to .htaccess files, if Apache's document root\n        # concurs with nginx's one\n        #\n        #location ~ /\\.ht {\n        #    deny  all;\n        #}\n    }\n\n\n    # another virtual host using mix of IP-, name-, and port-based configuration\n    # \u8fd9\u91cc\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7aef\u53e3\n    #server {\n    #    listen       8000;\n    #    listen       somename:8080;\n    #    server_name  somename  alias  another.alias;\n\n    #    location / {\n    #        root   html; \u672c\u5730\u7f51\u7ad9\u6587\u4ef6\u5939\u7684\u8def\u5f84\n    #        index  index.html index.htm; \u8bbe\u7f6e\u9ed8\u8ba4\u7684\u7f51\u9875\n    #    }\n    #}\n\n\n    # HTTPS server\n    #\n    #server {\n    #    listen       443 ssl;\n    #    server_name  localhost;\n\n    #    ssl_certificate      cert.pem;\n    #    ssl_certificate_key  cert.key;\n\n    #    ssl_session_cache    shared:SSL:1m;\n    #    ssl_session_timeout  5m;\n\n    #    ssl_ciphers  HIGH:!aNULL:!MD5;\n    #    ssl_prefer_server_ciphers  on;\n\n    #    location / {\n    #        root   html;\n    #        index  index.html index.htm;\n    #    }\n    #}\n    include servers/*;\n}\n</code></pre>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/","title":"Nginx \u4ece\u5165\u95e8\u5230\u5b9e\u8df5\uff0c\u4e07\u5b57\u8be6\u89e3\uff01","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 54317  \u9605\u8bfb109\u5206\u949f</p> <p>https://juejin.cn/post/6844904144235413512</p> <p>SHERlocked93</p> <p>\u8fd9\u4e2a\u4f5c\u8005\u662f\u666e\u901a\u524d\u7aef\u5f00\u53d1\u7a0b\u5e8f\u5458\uff0c\u76ee\u524d\u770b\u4e0d\u662f\u5927\u5382\uff0c\u6280\u672f\u4e00\u822c\uff0c\u53ef\u4ee5\u5b66\u4e60\uff0c\u4e3b\u8981\u8fd8\u662f\u5b98\u65b9\u6587\u6863\u3002</p> <p>2020-04-29105,783\u9605\u8bfb25\u5206\u949f</p> <p>\u6700\u8fd1\u8d8a\u6765\u8d8a\u9891\u7e41\u5730\u9047\u5230\u9700\u8981\u914d\u7f6e\u53cd\u5411\u4ee3\u7406\u7684\u573a\u666f\uff0c\u5728\u81ea\u5df1\u642d\u5efa\u535a\u5ba2\u7684\u65f6\u5019\uff0c\u4e5f\u4e0d\u53ef\u907f\u514d\u8981\u7528\u5230 Nginx\uff0c\u6240\u4ee5\u8fd9\u6bb5\u65f6\u95f4\u96c6\u4e2d\u5b66\u4e60\u4e86\u4e00\u4e0b Nginx\uff0c\u540c\u65f6\u505a\u4e86\u4e00\u4e9b\u7b14\u8bb0\uff0c\u5e0c\u671b\u4e5f\u53ef\u4ee5\u5e2e\u52a9\u5230\u5927\u5bb6\uff5e \ud83d\ude1c</p> <p>\u8fd9\u7bc7\u6587\u7ae0\u4f1a\u5728 CentOS \u73af\u5883\u4e0b\u5b89\u88c5\u548c\u4f7f\u7528 Nginx\uff0c\u5982\u679c\u5bf9 CentOS \u57fa\u672c\u64cd\u4f5c\u8fd8\u4e0d\u592a\u6e05\u695a\u7684\uff0c\u53ef\u4ee5\u5148\u770b\u770b &lt;\u534a\u5c0f\u65f6\u641e\u4f1a CentOS \u5165\u95e8\u5fc5\u5907\u57fa\u7840\u77e5\u8bc6&gt; \u4e00\u6587\u5148\u505a\u4e86\u89e3\u3002</p> <p>\u76f8\u4fe1\u4f5c\u4e3a\u5f00\u53d1\u8005\uff0c\u5927\u5bb6\u90fd\u77e5\u9053 Nginx \u7684\u91cd\u8981\uff0c\u5e9f\u8bdd\u4e0d\u591a\u8bf4\uff0c\u4e00\u8d77\u6765\u5b66\u4e60\u5427\u3002</p> <p>CentOS \u7248\u672c\uff1a <code>7.6</code></p> <p>Nginx \u7248\u672c\uff1a <code>1.16.1</code></p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#1-nginx","title":"1. Nginx \u4ecb\u7ecd","text":"<p>\u4f20\u7edf\u7684 Web \u670d\u52a1\u5668\uff0c\u6bcf\u4e2a\u5ba2\u6237\u7aef\u8fde\u63a5\u4f5c\u4e3a\u4e00\u4e2a\u5355\u72ec\u7684\u8fdb\u7a0b\u6216\u7ebf\u7a0b\u5904\u7406\uff0c\u9700\u5728\u5207\u6362\u4efb\u52a1\u65f6\u5c06 CPU \u5207\u6362\u5230\u65b0\u7684\u4efb\u52a1\u5e76\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fd0\u884c\u65f6\u4e0a\u4e0b\u6587\uff0c\u6d88\u8017\u989d\u5916\u7684\u5185\u5b58\u548c CPU \u65f6\u95f4\uff0c\u5f53\u5e76\u53d1\u8bf7\u6c42\u589e\u52a0\u65f6\uff0c\u670d\u52a1\u5668\u54cd\u5e94\u53d8\u6162\uff0c\u4ece\u800c\u5bf9\u6027\u80fd\u4ea7\u751f\u8d1f\u9762\u5f71\u54cd\u3002</p> <p></p> <p>Nginx \u662f\u5f00\u6e90\u3001\u9ad8\u6027\u80fd\u3001\u9ad8\u53ef\u9760\u7684 Web \u548c\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u800c\u4e14\u652f\u6301\u70ed\u90e8\u7f72\uff0c\u51e0\u4e4e\u53ef\u4ee5\u505a\u5230 7 * 24 \u5c0f\u65f6\u4e0d\u95f4\u65ad\u8fd0\u884c\uff0c\u5373\u4f7f\u8fd0\u884c\u51e0\u4e2a\u6708\u4e5f\u4e0d\u9700\u8981\u91cd\u65b0\u542f\u52a8\uff0c\u8fd8\u80fd\u5728\u4e0d\u95f4\u65ad\u670d\u52a1\u7684\u60c5\u51b5\u4e0b\u5bf9\u8f6f\u4ef6\u7248\u672c\u8fdb\u884c\u70ed\u66f4\u65b0\u3002\u6027\u80fd\u662f Nginx \u6700\u91cd\u8981\u7684\u8003\u91cf\uff0c\u5176\u5360\u7528\u5185\u5b58\u5c11\u3001\u5e76\u53d1\u80fd\u529b\u5f3a\u3001\u80fd\u652f\u6301\u9ad8\u8fbe 5w \u4e2a\u5e76\u53d1\u8fde\u63a5\u6570\uff0c\u6700\u91cd\u8981\u7684\u662f\uff0cNginx \u662f\u514d\u8d39\u7684\u5e76\u53ef\u4ee5\u5546\u4e1a\u5316\uff0c\u914d\u7f6e\u4f7f\u7528\u4e5f\u6bd4\u8f83\u7b80\u5355\u3002</p> <p>Nginx \u7684\u6700\u91cd\u8981\u7684\u51e0\u4e2a\u4f7f\u7528\u573a\u666f\uff1a</p> <ol> <li>\u9759\u6001\u8d44\u6e90\u670d\u52a1\uff0c\u901a\u8fc7\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u63d0\u4f9b\u670d\u52a1\uff1b</li> <li>\u53cd\u5411\u4ee3\u7406\u670d\u52a1\uff0c\u5ef6\u4f38\u51fa\u5305\u62ec\u7f13\u5b58\u3001\u8d1f\u8f7d\u5747\u8861\u7b49\uff1b</li> <li>API \u670d\u52a1\uff0cOpenResty \uff1b</li> </ol> <p>\u5bf9\u4e8e\u524d\u7aef\u6765\u8bf4 Node.js \u4e0d\u964c\u751f\u4e86\uff0cNginx \u548c Node.js \u7684\u5f88\u591a\u7406\u5ff5\u7c7b\u4f3c\uff0cHTTP \u670d\u52a1\u5668\u3001\u4e8b\u4ef6\u9a71\u52a8\u3001\u5f02\u6b65\u975e\u963b\u585e\u7b49\uff0c\u4e14 Nginx \u7684\u5927\u90e8\u5206\u529f\u80fd\u4f7f\u7528 Node.js \u4e5f\u53ef\u4ee5\u5b9e\u73b0\uff0c\u4f46 Nginx \u548c Node.js \u5e76\u4e0d\u51b2\u7a81\uff0c\u90fd\u6709\u81ea\u5df1\u64c5\u957f\u7684\u9886\u57df\u3002Nginx \u64c5\u957f\u4e8e\u5e95\u5c42\u670d\u52a1\u5668\u7aef\u8d44\u6e90\u7684\u5904\u7406\uff08\u9759\u6001\u8d44\u6e90\u5904\u7406\u8f6c\u53d1\u3001\u53cd\u5411\u4ee3\u7406\uff0c\u8d1f\u8f7d\u5747\u8861\u7b49\uff09\uff0cNode.js \u66f4\u64c5\u957f\u4e0a\u5c42\u5177\u4f53\u4e1a\u52a1\u903b\u8f91\u7684\u5904\u7406\uff0c\u4e24\u8005\u53ef\u4ee5\u5b8c\u7f8e\u7ec4\u5408\uff0c\u5171\u540c\u52a9\u529b\u524d\u7aef\u5f00\u53d1\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u7740\u91cd\u5b66\u4e60\u4e00\u4e0b Nginx \u7684\u4f7f\u7528\u3002</p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#2","title":"2. \u76f8\u5173\u6982\u5ff5","text":""},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#21","title":"2.1 \u7b80\u5355\u8bf7\u6c42\u548c\u975e\u7b80\u5355\u8bf7\u6c42","text":"<p>\u9996\u5148\u6211\u4eec\u6765\u4e86\u89e3\u4e00\u4e0b\u7b80\u5355\u8bf7\u6c42\u548c\u975e\u7b80\u5355\u8bf7\u6c42\uff0c\u5982\u679c\u540c\u65f6\u6ee1\u8db3\u4e0b\u9762\u4e24\u4e2a\u6761\u4ef6\uff0c\u5c31\u5c5e\u4e8e\u7b80\u5355\u8bf7\u6c42\uff1a</p> <ol> <li>\u8bf7\u6c42\u65b9\u6cd5\u662f <code>HEAD</code>\u3001<code>GET</code>\u3001<code>POST</code> \u4e09\u79cd\u4e4b\u4e00\uff1b</li> <li>HTTP \u5934\u4fe1\u606f\u4e0d\u8d85\u8fc7\u53f3\u8fb9\u7740\u51e0\u4e2a\u5b57\u6bb5\uff1a<code>Accept</code>\u3001<code>Accept-Language</code>\u3001<code>Content-Language</code>\u3001<code>Last-Event-ID</code> <code>Content-Type</code> \u53ea\u9650\u4e8e\u4e09\u4e2a\u503c <code>application/x-www-form-urlencoded</code>\u3001<code>multipart/form-data</code>\u3001<code>text/plain</code>\uff1b</li> </ol> <p>\u51e1\u662f\u4e0d\u540c\u65f6\u6ee1\u8db3\u8fd9\u4e24\u4e2a\u6761\u4ef6\u7684\uff0c\u90fd\u5c5e\u4e8e\u975e\u7b80\u5355\u8bf7\u6c42\u3002</p> <p>\u6d4f\u89c8\u5668\u5904\u7406\u7b80\u5355\u8bf7\u6c42\u548c\u975e\u7b80\u5355\u8bf7\u6c42\u7684\u65b9\u5f0f\u4e0d\u4e00\u6837\uff1a</p> <p>\u7b80\u5355\u8bf7\u6c42</p> <p>\u5bf9\u4e8e\u7b80\u5355\u8bf7\u6c42\uff0c\u6d4f\u89c8\u5668\u4f1a\u5728\u5934\u4fe1\u606f\u4e2d\u589e\u52a0 <code>Origin</code> \u5b57\u6bb5\u540e\u76f4\u63a5\u53d1\u51fa\uff0c<code>Origin</code> \u5b57\u6bb5\u7528\u6765\u8bf4\u660e\uff0c\u672c\u6b21\u8bf7\u6c42\u6765\u81ea\u7684\u54ea\u4e2a\u6e90\uff08\u534f\u8bae+\u57df\u540d+\u7aef\u53e3\uff09\u3002</p> <p>\u5982\u679c\u670d\u52a1\u5668\u53d1\u73b0 <code>Origin</code> \u6307\u5b9a\u7684\u6e90\u4e0d\u5728\u8bb8\u53ef\u8303\u56f4\u5185\uff0c\u670d\u52a1\u5668\u4f1a\u8fd4\u56de\u4e00\u4e2a\u6b63\u5e38\u7684 HTTP \u56de\u5e94\uff0c\u6d4f\u89c8\u5668\u53d6\u5230\u56de\u5e94\u4e4b\u540e\u53d1\u73b0\u56de\u5e94\u7684\u5934\u4fe1\u606f\u4e2d\u6ca1\u6709\u5305\u542b <code>Access-Control-Allow-Origin</code> \u5b57\u6bb5\uff0c\u5c31\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u7ed9 XHR \u7684 <code>error</code> \u4e8b\u4ef6\uff1b</p> <p>\u5982\u679c\u670d\u52a1\u5668\u53d1\u73b0 <code>Origin</code> \u6307\u5b9a\u7684\u57df\u540d\u5728\u8bb8\u53ef\u8303\u56f4\u5185\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u7684\u54cd\u5e94\u4f1a\u591a\u51fa\u51e0\u4e2a <code>Access-Control-</code> \u5f00\u5934\u7684\u5934\u4fe1\u606f\u5b57\u6bb5\u3002</p> <p>\u975e\u7b80\u5355\u8bf7\u6c42</p> <p>\u975e\u7b80\u5355\u8bf7\u6c42\u662f\u90a3\u79cd\u5bf9\u670d\u52a1\u5668\u6709\u7279\u6b8a\u8981\u6c42\u7684\u8bf7\u6c42\uff0c\u6bd4\u5982\u8bf7\u6c42\u65b9\u6cd5\u662f <code>PUT</code> \u6216 <code>DELETE</code>\uff0c\u6216 <code>Content-Type</code> \u503c\u4e3a <code>application/json</code>\u3002\u6d4f\u89c8\u5668\u4f1a\u5728\u6b63\u5f0f\u901a\u4fe1\u4e4b\u524d\uff0c\u53d1\u9001\u4e00\u6b21 HTTP \u9884\u68c0 <code>OPTIONS</code> \u8bf7\u6c42\uff0c\u5148\u8be2\u95ee\u670d\u52a1\u5668\uff0c\u5f53\u524d\u7f51\u9875\u6240\u5728\u7684\u57df\u540d\u662f\u5426\u5728\u670d\u52a1\u5668\u7684\u8bb8\u53ef\u540d\u5355\u4e4b\u4e2d\uff0c\u4ee5\u53ca\u53ef\u4ee5\u4f7f\u7528\u54ea\u4e9b HTTP \u8bf7\u6c42\u65b9\u6cd5\u548c\u5934\u4fe1\u606f\u5b57\u6bb5\u3002\u53ea\u6709\u5f97\u5230\u80af\u5b9a\u7b54\u590d\uff0c\u6d4f\u89c8\u5668\u624d\u4f1a\u53d1\u51fa\u6b63\u5f0f\u7684 <code>XHR</code> \u8bf7\u6c42\uff0c\u5426\u5219\u62a5\u9519\u3002</p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#22","title":"2.2 \u8de8\u57df","text":"<p>\u5728\u6d4f\u89c8\u5668\u4e0a\u5f53\u524d\u8bbf\u95ee\u7684\u7f51\u7ad9\u5411\u53e6\u4e00\u4e2a\u7f51\u7ad9\u53d1\u9001\u8bf7\u6c42\u83b7\u53d6\u6570\u636e\u7684\u8fc7\u7a0b\u5c31\u662f**\u8de8\u57df\u8bf7\u6c42**\u3002</p> <p>\u8de8\u57df\u662f\u6d4f\u89c8\u5668\u7684\u540c\u6e90\u7b56\u7565\u51b3\u5b9a\u7684\uff0c\u662f\u4e00\u4e2a\u91cd\u8981\u7684\u6d4f\u89c8\u5668\u5b89\u5168\u7b56\u7565\uff0c\u7528\u4e8e\u9650\u5236\u4e00\u4e2a origin \u7684\u6587\u6863\u6216\u8005\u5b83\u52a0\u8f7d\u7684\u811a\u672c\u4e0e\u53e6\u4e00\u4e2a\u6e90\u7684\u8d44\u6e90\u8fdb\u884c\u4ea4\u4e92\uff0c\u5b83\u80fd\u591f\u5e2e\u52a9\u963b\u9694\u6076\u610f\u6587\u6863\uff0c\u51cf\u5c11\u53ef\u80fd\u88ab\u653b\u51fb\u7684\u5a92\u4ecb\uff0c\u53ef\u4ee5\u4f7f\u7528 CORS \u914d\u7f6e\u89e3\u9664\u8fd9\u4e2a\u9650\u5236\u3002</p> <p>\u5173\u4e8e\u8de8\u57df\u7f51\u4e0a\u5df2\u7ecf\u6709\u5f88\u591a\u89e3\u91ca\uff0c\u8fd9\u91cc\u5c31\u4e0d\u5570\u55e6\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u770b MDN \u7684 &lt;\u6d4f\u89c8\u5668\u7684\u540c\u6e90\u7b56\u7565&gt; \u6587\u6863\u8fdb\u4e00\u6b65\u4e86\u89e3\uff0c\u8fd9\u91cc\u5c31\u5217\u4e3e\u51e0\u4e2a\u540c\u6e90\u548c\u4e0d\u540c\u5143\u7684\u4f8b\u5b50\uff0c\u76f8\u4fe1\u7a0b\u5e8f\u5458\u90fd\u80fd\u770b\u5f97\u61c2\u3002</p> <pre><code>bash\n\n# \u540c\u6e90\u7684\u4f8b\u5b50\nhttp://example.com/app1/index.html  # \u53ea\u662f\u8def\u5f84\u4e0d\u540c\nhttp://example.com/app2/index.html\n\nhttp://Example.com:80  # \u53ea\u662f\u5927\u5c0f\u5199\u5dee\u5f02\nhttp://example.com\n\n# \u4e0d\u540c\u6e90\u7684\u4f8b\u5b50\nhttp://example.com/app1   # \u534f\u8bae\u4e0d\u540c\nhttps://example.com/app2\n\nhttp://example.com        # host \u4e0d\u540c\nhttp://www.example.com\nhttp://myapp.example.com\n\nhttp://example.com        # \u7aef\u53e3\u4e0d\u540c\nhttp://example.com:8080\n</code></pre>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#23","title":"2.3 \u6b63\u5411\u4ee3\u7406\u548c\u53cd\u5411\u4ee3\u7406","text":"<p>\u53cd\u5411\u4ee3\u7406\uff08Reverse Proxy\uff09\u5bf9\u5e94\u7684\u662f\u6b63\u5411\u4ee3\u7406\uff08Forward Proxy\uff09\uff0c\u4ed6\u4eec\u7684\u533a\u522b\uff1a</p> <p>\u6b63\u5411\u4ee3\u7406\uff1a \u4e00\u822c\u7684\u8bbf\u95ee\u6d41\u7a0b\u662f\u5ba2\u6237\u7aef\u76f4\u63a5\u5411\u76ee\u6807\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u5e76\u83b7\u53d6\u5185\u5bb9\uff0c\u4f7f\u7528\u6b63\u5411\u4ee3\u7406\u540e\uff0c\u5ba2\u6237\u7aef\u6539\u4e3a\u5411\u4ee3\u7406\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\uff0c\u5e76\u6307\u5b9a\u76ee\u6807\u670d\u52a1\u5668\uff08\u539f\u59cb\u670d\u52a1\u5668\uff09\uff0c\u7136\u540e\u7531\u4ee3\u7406\u670d\u52a1\u5668\u548c\u539f\u59cb\u670d\u52a1\u5668\u901a\u4fe1\uff0c\u8f6c\u4ea4\u8bf7\u6c42\u5e76\u83b7\u5f97\u7684\u5185\u5bb9\uff0c\u518d\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002\u6b63\u5411\u4ee3\u7406\u9690\u85cf\u4e86\u771f\u5b9e\u7684\u5ba2\u6237\u7aef\uff0c\u4e3a\u5ba2\u6237\u7aef\u6536\u53d1\u8bf7\u6c42\uff0c\u4f7f\u771f\u5b9e\u5ba2\u6237\u7aef\u5bf9\u670d\u52a1\u5668\u4e0d\u53ef\u89c1\uff1b</p> <p>\u4e3e\u4e2a\u5177\u4f53\u7684\u4f8b\u5b50 \ud83c\udf30\uff0c\u4f60\u7684\u6d4f\u89c8\u5668\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95ee\u8c37\u54e5\uff0c\u8fd9\u65f6\u5019\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u4ee3\u7406\u670d\u52a1\u5668\u6765\u5e2e\u52a9\u4f60\u8bbf\u95ee\u8c37\u54e5\uff0c\u90a3\u4e48\u8fd9\u4e2a\u670d\u52a1\u5668\u5c31\u53eb\u6b63\u5411\u4ee3\u7406\u3002</p> <p>\u53cd\u5411\u4ee3\u7406\uff1a \u4e0e\u4e00\u822c\u8bbf\u95ee\u6d41\u7a0b\u76f8\u6bd4\uff0c\u4f7f\u7528\u53cd\u5411\u4ee3\u7406\u540e\uff0c\u76f4\u63a5\u6536\u5230\u8bf7\u6c42\u7684\u670d\u52a1\u5668\u662f\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u7136\u540e\u5c06\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u5185\u90e8\u7f51\u7edc\u4e0a\u771f\u6b63\u8fdb\u884c\u5904\u7406\u7684\u670d\u52a1\u5668\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002\u53cd\u5411\u4ee3\u7406\u9690\u85cf\u4e86\u771f\u5b9e\u7684\u670d\u52a1\u5668\uff0c\u4e3a\u670d\u52a1\u5668\u6536\u53d1\u8bf7\u6c42\uff0c\u4f7f\u771f\u5b9e\u670d\u52a1\u5668\u5bf9\u5ba2\u6237\u7aef\u4e0d\u53ef\u89c1\u3002\u4e00\u822c\u5728\u5904\u7406\u8de8\u57df\u8bf7\u6c42\u7684\u65f6\u5019\u6bd4\u8f83\u5e38\u7528\u3002\u73b0\u5728\u57fa\u672c\u4e0a\u6240\u6709\u7684\u5927\u578b\u7f51\u7ad9\u90fd\u8bbe\u7f6e\u4e86\u53cd\u5411\u4ee3\u7406\u3002</p> <p>\u4e3e\u4e2a\u5177\u4f53\u7684\u4f8b\u5b50 \ud83c\udf30\uff0c\u53bb\u996d\u5e97\u5403\u996d\uff0c\u53ef\u4ee5\u70b9\u5ddd\u83dc\u3001\u7ca4\u83dc\u3001\u6c5f\u6d59\u83dc\uff0c\u996d\u5e97\u4e5f\u5206\u522b\u6709\u4e09\u4e2a\u83dc\u7cfb\u7684\u53a8\u5e08 \ud83d\udc68\u200d\ud83c\udf73\uff0c\u4f46\u662f\u4f60\u4f5c\u4e3a\u987e\u5ba2\u4e0d\u7528\u7ba1\u54ea\u4e2a\u53a8\u5e08\u7ed9\u4f60\u505a\u7684\u83dc\uff0c\u53ea\u7528\u70b9\u83dc\u5373\u53ef\uff0c\u5c0f\u4e8c\u5c06\u4f60\u83dc\u5355\u4e2d\u7684\u83dc\u5206\u914d\u7ed9\u4e0d\u540c\u7684\u53a8\u5e08\u6765\u5177\u4f53\u5904\u7406\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5c0f\u4e8c\u5c31\u662f\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\u3002</p> <p>\u7b80\u5355\u7684\u8bf4\uff0c\u4e00\u822c\u7ed9\u5ba2\u6237\u7aef\u505a\u4ee3\u7406\u7684\u90fd\u662f\u6b63\u5411\u4ee3\u7406\uff0c\u7ed9\u670d\u52a1\u5668\u505a\u4ee3\u7406\u7684\u5c31\u662f\u53cd\u5411\u4ee3\u7406\u3002</p> <p>\u6b63\u5411\u4ee3\u7406\u548c\u53cd\u5411\u4ee3\u7406\u4e3b\u8981\u7684\u539f\u7406\u533a\u522b\u53ef\u4ee5\u53c2\u89c1\u4e0b\u56fe\uff1a</p> <p></p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#24","title":"2.4 \u8d1f\u8f7d\u5747\u8861","text":"<p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5ba2\u6237\u7aef\u53d1\u9001\u591a\u4e2a\u8bf7\u6c42\u5230\u670d\u52a1\u5668\uff0c\u670d\u52a1\u5668\u5904\u7406\u8bf7\u6c42\uff0c\u5176\u4e2d\u4e00\u90e8\u5206\u53ef\u80fd\u8981\u64cd\u4f5c\u4e00\u4e9b\u8d44\u6e90\u6bd4\u5982\u6570\u636e\u5e93\u3001\u9759\u6001\u8d44\u6e90\u7b49\uff0c\u670d\u52a1\u5668\u5904\u7406\u5b8c\u6bd5\u540e\uff0c\u518d\u5c06\u7ed3\u679c\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002</p> <p>\u8fd9\u79cd\u6a21\u5f0f\u5bf9\u4e8e\u65e9\u671f\u7684\u7cfb\u7edf\u6765\u8bf4\uff0c\u529f\u80fd\u8981\u6c42\u4e0d\u590d\u6742\uff0c\u4e14\u5e76\u53d1\u8bf7\u6c42\u76f8\u5bf9\u8f83\u5c11\u7684\u60c5\u51b5\u4e0b\u8fd8\u80fd\u80dc\u4efb\uff0c\u6210\u672c\u4e5f\u4f4e\u3002\u968f\u7740\u4fe1\u606f\u6570\u91cf\u4e0d\u65ad\u589e\u957f\uff0c\u8bbf\u95ee\u91cf\u548c\u6570\u636e\u91cf\u98de\u901f\u589e\u957f\uff0c\u4ee5\u53ca\u7cfb\u7edf\u4e1a\u52a1\u590d\u6742\u5ea6\u6301\u7eed\u589e\u52a0\uff0c\u8fd9\u79cd\u505a\u6cd5\u5df2\u65e0\u6cd5\u6ee1\u8db3\u8981\u6c42\uff0c\u5e76\u53d1\u91cf\u7279\u522b\u5927\u65f6\uff0c\u670d\u52a1\u5668\u5bb9\u6613\u5d29\u3002</p> <p>\u5f88\u660e\u663e\u8fd9\u662f\u7531\u4e8e\u670d\u52a1\u5668\u6027\u80fd\u7684\u74f6\u9888\u9020\u6210\u7684\u95ee\u9898\uff0c\u9664\u4e86\u5806\u673a\u5668\u4e4b\u5916\uff0c\u6700\u91cd\u8981\u7684\u505a\u6cd5\u5c31\u662f\u8d1f\u8f7d\u5747\u8861\u3002</p> <p>\u8bf7\u6c42\u7206\u53d1\u5f0f\u589e\u957f\u7684\u60c5\u51b5\u4e0b\uff0c\u5355\u4e2a\u673a\u5668\u6027\u80fd\u518d\u5f3a\u52b2\u4e5f\u65e0\u6cd5\u6ee1\u8db3\u8981\u6c42\u4e86\uff0c\u8fd9\u4e2a\u65f6\u5019\u96c6\u7fa4\u7684\u6982\u5ff5\u4ea7\u751f\u4e86\uff0c\u5355\u4e2a\u670d\u52a1\u5668\u89e3\u51b3\u4e0d\u4e86\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u4f7f\u7528\u591a\u4e2a\u670d\u52a1\u5668\uff0c\u7136\u540e\u5c06\u8bf7\u6c42\u5206\u53d1\u5230\u5404\u4e2a\u670d\u52a1\u5668\u4e0a\uff0c\u5c06\u8d1f\u8f7d\u5206\u53d1\u5230\u4e0d\u540c\u7684\u670d\u52a1\u5668\uff0c\u8fd9\u5c31\u662f**\u8d1f\u8f7d\u5747\u8861**\uff0c\u6838\u5fc3\u662f\u300c\u5206\u644a\u538b\u529b\u300d\u3002Nginx \u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\uff0c\u4e00\u822c\u6765\u8bf4\u6307\u7684\u662f\u5c06\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u670d\u52a1\u5668\u96c6\u7fa4\u3002</p> <p>\u4e3e\u4e2a\u5177\u4f53\u7684\u4f8b\u5b50 \ud83c\udf30\uff0c\u665a\u9ad8\u5cf0\u4e58\u5750\u5730\u94c1\u7684\u65f6\u5019\uff0c\u5165\u7ad9\u53e3\u7ecf\u5e38\u4f1a\u6709\u5730\u94c1\u5de5\u4f5c\u4eba\u5458\u5927\u5587\u53ed\u201c\u8bf7\u8d70 B \u53e3\uff0cB \u53e3\u4eba\u5c11\u8f66\u7a7a....\u201d\uff0c\u8fd9\u4e2a\u5de5\u4f5c\u4eba\u5458\u7684\u4f5c\u7528\u5c31\u662f\u8d1f\u8f7d\u5747\u8861\u3002</p> <p></p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#25","title":"2.5 \u52a8\u9759\u5206\u79bb","text":"<p>\u4e3a\u4e86\u52a0\u5feb\u7f51\u7ad9\u7684\u89e3\u6790\u901f\u5ea6\uff0c\u53ef\u4ee5\u628a\u52a8\u6001\u9875\u9762\u548c\u9759\u6001\u9875\u9762\u7531\u4e0d\u540c\u7684\u670d\u52a1\u5668\u6765\u89e3\u6790\uff0c\u52a0\u5feb\u89e3\u6790\u901f\u5ea6\uff0c\u964d\u4f4e\u539f\u6765\u5355\u4e2a\u670d\u52a1\u5668\u7684\u538b\u529b\u3002</p> <p></p> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u90fd\u9700\u8981\u5c06\u52a8\u6001\u8d44\u6e90\u548c\u9759\u6001\u8d44\u6e90\u5206\u5f00\uff0c\u7531\u4e8e Nginx \u7684\u9ad8\u5e76\u53d1\u548c\u9759\u6001\u8d44\u6e90\u7f13\u5b58\u7b49\u7279\u6027\uff0c\u7ecf\u5e38\u5c06\u9759\u6001\u8d44\u6e90\u90e8\u7f72\u5728 Nginx \u4e0a\u3002\u5982\u679c\u8bf7\u6c42\u7684\u662f\u9759\u6001\u8d44\u6e90\uff0c\u76f4\u63a5\u5230\u9759\u6001\u8d44\u6e90\u76ee\u5f55\u83b7\u53d6\u8d44\u6e90\uff0c\u5982\u679c\u662f\u52a8\u6001\u8d44\u6e90\u7684\u8bf7\u6c42\uff0c\u5219\u5229\u7528\u53cd\u5411\u4ee3\u7406\u7684\u539f\u7406\uff0c\u628a\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u5bf9\u5e94\u540e\u53f0\u5e94\u7528\u53bb\u5904\u7406\uff0c\u4ece\u800c\u5b9e\u73b0\u52a8\u9759\u5206\u79bb\u3002</p> <p>\u4f7f\u7528\u524d\u540e\u7aef\u5206\u79bb\u540e\uff0c\u53ef\u4ee5\u5f88\u5927\u7a0b\u5ea6\u63d0\u5347\u9759\u6001\u8d44\u6e90\u7684\u8bbf\u95ee\u901f\u5ea6\uff0c\u5373\u4f7f\u52a8\u6001\u670d\u52a1\u4e0d\u53ef\u7528\uff0c\u9759\u6001\u8d44\u6e90\u7684\u8bbf\u95ee\u4e5f\u4e0d\u4f1a\u53d7\u5230\u5f71\u54cd\u3002</p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#3-nginx","title":"3. Nginx \u5feb\u901f\u5b89\u88c5","text":""},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#31","title":"3.1 \u5b89\u88c5","text":"<p>\u6211\u4eec\u53ef\u4ee5\u5148\u770b\u770b</p> <pre><code>bash\n\nyum list | grep nginx\n</code></pre> <p>\u6765\u770b\u770b</p> <p></p> <p>\u7136\u540e</p> <pre><code>bash\n\nyum install nginx\n</code></pre> <p>\u6765\u5b89\u88c5 Nginx\uff0c\u7136\u540e\u6211\u4eec\u5728\u547d\u4ee4\u884c\u4e2d <code>nginx -v</code> \u5c31\u53ef\u4ee5\u770b\u5230\u5177\u4f53\u7684 Nginx \u7248\u672c\u4fe1\u606f\uff0c\u4e5f\u5c31\u5b89\u88c5\u5b8c\u6bd5\u4e86\u3002</p> <p></p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#32","title":"3.2 \u76f8\u5173\u6587\u4ef6\u5939","text":"<p>\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>rpm -ql nginx</code> \u6765\u67e5\u770b Nginx \u88ab\u5b89\u88c5\u5230\u4e86\u4ec0\u4e48\u5730\u65b9\uff0c\u6709\u54ea\u4e9b\u76f8\u5173\u76ee\u5f55\uff0c\u5176\u4e2d\u4f4d\u4e8e <code>/etc</code> \u76ee\u5f55\u4e0b\u7684\u4e3b\u8981\u662f\u914d\u7f6e\u6587\u4ef6\uff0c\u8fd8\u6709\u4e00\u4e9b\u6587\u4ef6\u89c1\u4e0b\u56fe\uff1a</p> <p></p> <p>\u4e3b\u8981\u5173\u6ce8\u7684\u6587\u4ef6\u5939\u6709\u4e24\u4e2a\uff1a</p> <ol> <li><code>/etc/nginx/conf.d/</code> \u6587\u4ef6\u5939\uff0c\u662f\u6211\u4eec\u8fdb\u884c\u5b50\u914d\u7f6e\u7684\u914d\u7f6e\u9879\u5b58\u653e\u5904\uff0c<code>/etc/nginx/nginx.conf</code> \u4e3b\u914d\u7f6e\u6587\u4ef6\u4f1a\u9ed8\u8ba4\u628a\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e2d\u6240\u6709\u5b50\u914d\u7f6e\u9879\u90fd\u5f15\u5165\uff1b</li> <li><code>/usr/share/nginx/html/</code> \u6587\u4ef6\u5939\uff0c\u901a\u5e38\u9759\u6001\u6587\u4ef6\u90fd\u653e\u5728\u8fd9\u4e2a\u6587\u4ef6\u5939\uff0c\u4e5f\u53ef\u4ee5\u6839\u636e\u4f60\u81ea\u5df1\u7684\u4e60\u60ef\u653e\u5176\u4ed6\u5730\u65b9\uff1b</li> </ol>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#33","title":"3.3 \u8dd1\u8d77\u6765\u5eb7\u5eb7","text":"<p>\u5b89\u88c5\u4e4b\u540e\u5f00\u542f Nginx\uff0c\u5982\u679c\u7cfb\u7edf\u5f00\u542f\u4e86\u9632\u706b\u5899\uff0c\u90a3\u4e48\u9700\u8981\u8bbe\u7f6e\u4e00\u4e0b\u5728\u9632\u706b\u5899\u4e2d\u52a0\u5165\u9700\u8981\u5f00\u653e\u7684\u7aef\u53e3\uff0c\u4e0b\u9762\u5217\u4e3e\u51e0\u4e2a\u5e38\u7528\u7684\u9632\u706b\u5899\u64cd\u4f5c\uff08\u6ca1\u5f00\u542f\u7684\u8bdd\u4e0d\u7528\u7ba1\u8fd9\u4e2a\uff09\uff1a</p> <pre><code>bash\n\nsystemctl start firewalld  # \u5f00\u542f\u9632\u706b\u5899\nsystemctl stop firewalld   # \u5173\u95ed\u9632\u706b\u5899\nsystemctl status firewalld # \u67e5\u770b\u9632\u706b\u5899\u5f00\u542f\u72b6\u6001\uff0c\u663e\u793arunning\u5219\u662f\u6b63\u5728\u8fd0\u884c\nfirewall-cmd --reload      # \u91cd\u542f\u9632\u706b\u5899\uff0c\u6c38\u4e45\u6253\u5f00\u7aef\u53e3\u9700\u8981reload\u4e00\u4e0b\n\n# \u6dfb\u52a0\u5f00\u542f\u7aef\u53e3\uff0c--permanent\u8868\u793a\u6c38\u4e45\u6253\u5f00\uff0c\u4e0d\u52a0\u662f\u4e34\u65f6\u6253\u5f00\u91cd\u542f\u4e4b\u540e\u5931\u6548\nfirewall-cmd --permanent --zone=public --add-port=8888/tcp\n\n# \u67e5\u770b\u9632\u706b\u5899\uff0c\u6dfb\u52a0\u7684\u7aef\u53e3\u4e5f\u53ef\u4ee5\u770b\u5230\nfirewall-cmd --list-all\n</code></pre> <p>\u7136\u540e\u8bbe\u7f6e Nginx \u7684\u5f00\u673a\u542f\u52a8\uff1a</p> <pre><code>bash\n\nsystemctl enable nginx\n</code></pre> <p>\u542f\u52a8 Nginx \uff08\u5176\u4ed6\u547d\u4ee4\u540e\u9762\u6709\u8be6\u7ec6\u8bb2\u89e3\uff09\uff1a</p> <pre><code>bash\n\nsystemctl start nginx\n</code></pre> <p>\u7136\u540e\u8bbf\u95ee\u4f60\u7684 IP\uff0c\u8fd9\u65f6\u5019\u5c31\u53ef\u4ee5\u770b\u5230 Nginx \u7684\u6b22\u8fce\u9875\u9762\u4e86\uff5e <code>Welcome to nginx\uff01</code> \ud83d\udc4f</p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#34-nvm-node-git","title":"3.4 \u5b89\u88c5 nvm &amp; node &amp; git","text":"<pre><code>bash\n\n# \u4e0b\u8f7d nvm\uff0c\u6216\u8005\u770b\u5b98\u7f51\u7684\u6b65\u9aa4 https://github.com/nvm-sh/nvm#install--update-script\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash\n\nsource   ~/.bashrc    # \u5b89\u88c5\u5b8c\u6bd5\u540e\uff0c\u66f4\u65b0\u914d\u7f6e\u6587\u4ef6\u5373\u53ef\u4f7f\u7528 nvm \u547d\u4ee4\nnvm ls-remote         # \u67e5\u770b\u8fdc\u7a0b node \u7248\u672c\nnvm install v12.16.3  # \u9009\u4e00\u4e2a\u4f60\u8981\u5b89\u88c5\u7684\u7248\u672c\u5b89\u88c5\uff0c\u6211\u8fd9\u91cc\u9009\u62e9 12.16.3\nnvm list              # \u5b89\u88c5\u5b8c\u6bd5\u67e5\u770b\u5b89\u88c5\u7684 node \u7248\u672c\nnode -v               # \u67e5\u770b\u662f\u5426\u5b89\u88c5\u597d\u4e86\n\nyum install git   # git \u5b89\u88c5\n</code></pre>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#4-nginx","title":"4. Nginx \u64cd\u4f5c\u5e38\u7528\u547d\u4ee4","text":"<p>Nginx \u7684\u547d\u4ee4\u5728\u63a7\u5236\u53f0\u4e2d\u8f93\u5165 <code>nginx -h</code> \u5c31\u53ef\u4ee5\u770b\u5230\u5b8c\u6574\u7684\u547d\u4ee4\uff0c\u8fd9\u91cc\u5217\u4e3e\u51e0\u4e2a\u5e38\u7528\u7684\u547d\u4ee4\uff1a</p> <pre><code>bash\n\nnginx -s reload  # \u5411\u4e3b\u8fdb\u7a0b\u53d1\u9001\u4fe1\u53f7\uff0c\u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6\uff0c\u70ed\u91cd\u542f\nnginx -s reopen  # \u91cd\u542f Nginx\nnginx -s stop    # \u5feb\u901f\u5173\u95ed\nnginx -s quit    # \u7b49\u5f85\u5de5\u4f5c\u8fdb\u7a0b\u5904\u7406\u5b8c\u6210\u540e\u5173\u95ed\nnginx -T         # \u67e5\u770b\u5f53\u524d Nginx \u6700\u7ec8\u7684\u914d\u7f6e\nnginx -t -c &lt;\u914d\u7f6e\u8def\u5f84&gt;    # \u68c0\u67e5\u914d\u7f6e\u662f\u5426\u6709\u95ee\u9898\uff0c\u5982\u679c\u5df2\u7ecf\u5728\u914d\u7f6e\u76ee\u5f55\uff0c\u5219\u4e0d\u9700\u8981-c\n</code></pre> <p><code>systemctl</code> \u662f Linux \u7cfb\u7edf\u5e94\u7528\u7ba1\u7406\u5de5\u5177 <code>systemd</code> \u7684\u4e3b\u547d\u4ee4\uff0c\u7528\u4e8e\u7ba1\u7406\u7cfb\u7edf\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u7528\u5b83\u6765\u5bf9 Nginx \u8fdb\u884c\u7ba1\u7406\uff0c\u76f8\u5173\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code>bash\n\nsystemctl start nginx    # \u542f\u52a8 Nginx\nsystemctl stop nginx     # \u505c\u6b62 Nginx\nsystemctl restart nginx  # \u91cd\u542f Nginx\nsystemctl reload nginx   # \u91cd\u65b0\u52a0\u8f7d Nginx\uff0c\u7528\u4e8e\u4fee\u6539\u914d\u7f6e\u540e\nsystemctl enable nginx   # \u8bbe\u7f6e\u5f00\u673a\u542f\u52a8 Nginx\nsystemctl disable nginx  # \u5173\u95ed\u5f00\u673a\u542f\u52a8 Nginx\nsystemctl status nginx   # \u67e5\u770b Nginx \u8fd0\u884c\u72b6\u6001\n</code></pre>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#5-nginx","title":"5. Nginx \u914d\u7f6e\u8bed\u6cd5","text":"<p>\u5c31\u8ddf\u524d\u9762\u6587\u4ef6\u4f5c\u7528\u8bb2\u89e3\u7684\u56fe\u6240\u793a\uff0cNginx \u7684\u4e3b\u914d\u7f6e\u6587\u4ef6\u662f <code>/etc/nginx/nginx.conf</code>\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>cat -n nginx.conf</code> \u6765\u67e5\u770b\u914d\u7f6e\u3002</p> <p><code>nginx.conf</code> \u7ed3\u6784\u56fe\u53ef\u4ee5\u8fd9\u6837\u6982\u62ec\uff1a</p> <pre><code>bash\n\nmain        # \u5168\u5c40\u914d\u7f6e\uff0c\u5bf9\u5168\u5c40\u751f\u6548\n\u251c\u2500\u2500 events  # \u914d\u7f6e\u5f71\u54cd Nginx \u670d\u52a1\u5668\u6216\u4e0e\u7528\u6237\u7684\u7f51\u7edc\u8fde\u63a5\n\u251c\u2500\u2500 http    # \u914d\u7f6e\u4ee3\u7406\uff0c\u7f13\u5b58\uff0c\u65e5\u5fd7\u5b9a\u4e49\u7b49\u7edd\u5927\u591a\u6570\u529f\u80fd\u548c\u7b2c\u4e09\u65b9\u6a21\u5757\u7684\u914d\u7f6e\n\u2502   \u251c\u2500\u2500 upstream # \u914d\u7f6e\u540e\u7aef\u670d\u52a1\u5668\u5177\u4f53\u5730\u5740\uff0c\u8d1f\u8f7d\u5747\u8861\u914d\u7f6e\u4e0d\u53ef\u6216\u7f3a\u7684\u90e8\u5206\n\u2502   \u251c\u2500\u2500 server   # \u914d\u7f6e\u865a\u62df\u4e3b\u673a\u7684\u76f8\u5173\u53c2\u6570\uff0c\u4e00\u4e2a http \u5757\u4e2d\u53ef\u4ee5\u6709\u591a\u4e2a server \u5757\n\u2502   \u251c\u2500\u2500 server\n\u2502   \u2502   \u251c\u2500\u2500 location  # server \u5757\u53ef\u4ee5\u5305\u542b\u591a\u4e2a location \u5757\uff0clocation \u6307\u4ee4\u7528\u4e8e\u5339\u914d uri\n\u2502   \u2502   \u251c\u2500\u2500 location\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 ...\n</code></pre> <p>\u4e00\u4e2a Nginx \u914d\u7f6e\u6587\u4ef6\u7684\u7ed3\u6784\u5c31\u50cf <code>nginx.conf</code> \u663e\u793a\u7684\u90a3\u6837\uff0c\u914d\u7f6e\u6587\u4ef6\u7684\u8bed\u6cd5\u89c4\u5219\uff1a</p> <ol> <li>\u914d\u7f6e\u6587\u4ef6\u7531\u6307\u4ee4\u4e0e\u6307\u4ee4\u5757\u6784\u6210\uff1b</li> <li>\u6bcf\u6761\u6307\u4ee4\u4ee5 <code>;</code> \u5206\u53f7\u7ed3\u5c3e\uff0c\u6307\u4ee4\u4e0e\u53c2\u6570\u95f4\u4ee5\u7a7a\u683c\u7b26\u53f7\u5206\u9694\uff1b</li> <li>\u6307\u4ee4\u5757\u4ee5 <code>{}</code> \u5927\u62ec\u53f7\u5c06\u591a\u6761\u6307\u4ee4\u7ec4\u7ec7\u5728\u4e00\u8d77\uff1b</li> <li><code>include</code> \u8bed\u53e5\u5141\u8bb8\u7ec4\u5408\u591a\u4e2a\u914d\u7f6e\u6587\u4ef6\u4ee5\u63d0\u5347\u53ef\u7ef4\u62a4\u6027\uff1b</li> <li>\u4f7f\u7528 <code>#</code> \u7b26\u53f7\u6dfb\u52a0\u6ce8\u91ca\uff0c\u63d0\u9ad8\u53ef\u8bfb\u6027\uff1b</li> <li>\u4f7f\u7528 <code>$</code> \u7b26\u53f7\u4f7f\u7528\u53d8\u91cf\uff1b</li> <li>\u90e8\u5206\u6307\u4ee4\u7684\u53c2\u6570\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\uff1b</li> </ol>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#51","title":"5.1 \u5178\u578b\u914d\u7f6e","text":"<p>Nginx \u7684\u5178\u578b\u914d\u7f6e\uff1a</p> <pre><code>nginx\n\nuser  nginx;                        # \u8fd0\u884c\u7528\u6237\uff0c\u9ed8\u8ba4\u5373\u662fnginx\uff0c\u53ef\u4ee5\u4e0d\u8fdb\u884c\u8bbe\u7f6e\nworker_processes  1;                # Nginx \u8fdb\u7a0b\u6570\uff0c\u4e00\u822c\u8bbe\u7f6e\u4e3a\u548c CPU \u6838\u6570\u4e00\u6837\nerror_log  /var/log/nginx/error.log warn;   # Nginx \u7684\u9519\u8bef\u65e5\u5fd7\u5b58\u653e\u76ee\u5f55\npid        /var/run/nginx.pid;      # Nginx \u670d\u52a1\u542f\u52a8\u65f6\u7684 pid \u5b58\u653e\u4f4d\u7f6e\n\nevents {\n    use epoll;     # \u4f7f\u7528epoll\u7684I/O\u6a21\u578b(\u5982\u679c\u4f60\u4e0d\u77e5\u9053Nginx\u8be5\u4f7f\u7528\u54ea\u79cd\u8f6e\u8be2\u65b9\u6cd5\uff0c\u4f1a\u81ea\u52a8\u9009\u62e9\u4e00\u4e2a\u6700\u9002\u5408\u4f60\u64cd\u4f5c\u7cfb\u7edf\u7684)\n    worker_connections 1024;   # \u6bcf\u4e2a\u8fdb\u7a0b\u5141\u8bb8\u6700\u5927\u5e76\u53d1\u6570\n}\n\nhttp {   # \u914d\u7f6e\u4f7f\u7528\u6700\u9891\u7e41\u7684\u90e8\u5206\uff0c\u4ee3\u7406\u3001\u7f13\u5b58\u3001\u65e5\u5fd7\u5b9a\u4e49\u7b49\u7edd\u5927\u591a\u6570\u529f\u80fd\u548c\u7b2c\u4e09\u65b9\u6a21\u5757\u7684\u914d\u7f6e\u90fd\u5728\u8fd9\u91cc\u8bbe\u7f6e\n    # \u8bbe\u7f6e\u65e5\u5fd7\u6a21\u5f0f\n    log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n                      '$status $body_bytes_sent \"$http_referer\" '\n                      '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\n    access_log  /var/log/nginx/access.log  main;   # Nginx\u8bbf\u95ee\u65e5\u5fd7\u5b58\u653e\u4f4d\u7f6e\n\n    sendfile            on;   # \u5f00\u542f\u9ad8\u6548\u4f20\u8f93\u6a21\u5f0f\n    tcp_nopush          on;   # \u51cf\u5c11\u7f51\u7edc\u62a5\u6587\u6bb5\u7684\u6570\u91cf\n    tcp_nodelay         on;\n    keepalive_timeout   65;   # \u4fdd\u6301\u8fde\u63a5\u7684\u65f6\u95f4\uff0c\u4e5f\u53eb\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\u79d2\n    types_hash_max_size 2048;\n\n    include             /etc/nginx/mime.types;      # \u6587\u4ef6\u6269\u5c55\u540d\u4e0e\u7c7b\u578b\u6620\u5c04\u8868\n    default_type        application/octet-stream;   # \u9ed8\u8ba4\u6587\u4ef6\u7c7b\u578b\n\n    include /etc/nginx/conf.d/*.conf;   # \u52a0\u8f7d\u5b50\u914d\u7f6e\u9879\n\n    server {\n        listen       80;       # \u914d\u7f6e\u76d1\u542c\u7684\u7aef\u53e3\n        server_name  localhost;    # \u914d\u7f6e\u7684\u57df\u540d\n\n        location / {\n            root   /usr/share/nginx/html;  # \u7f51\u7ad9\u6839\u76ee\u5f55\n            index  index.html index.htm;   # \u9ed8\u8ba4\u9996\u9875\u6587\u4ef6\n            deny 172.168.22.11;   # \u7981\u6b62\u8bbf\u95ee\u7684ip\u5730\u5740\uff0c\u53ef\u4ee5\u4e3aall\n            allow 172.168.33.44\uff1b # \u5141\u8bb8\u8bbf\u95ee\u7684ip\u5730\u5740\uff0c\u53ef\u4ee5\u4e3aall\n        }\n\n        error_page 500 502 503 504 /50x.html;  # \u9ed8\u8ba450x\u5bf9\u5e94\u7684\u8bbf\u95ee\u9875\u9762\n        error_page 400 404 error.html;   # \u540c\u4e0a\n    }\n}\n</code></pre> <p>server \u5757\u53ef\u4ee5\u5305\u542b\u591a\u4e2a location \u5757\uff0clocation \u6307\u4ee4\u7528\u4e8e\u5339\u914d uri\uff0c\u8bed\u6cd5\uff1a</p> <pre><code>nginx\n\nlocation [ = | ~ | ~* | ^~] uri {\n    ...\n}\n</code></pre> <p>\u6307\u4ee4\u540e\u9762\uff1a</p> <ol> <li><code>=</code> \u7cbe\u786e\u5339\u914d\u8def\u5f84\uff0c\u7528\u4e8e\u4e0d\u542b\u6b63\u5219\u8868\u8fbe\u5f0f\u7684 uri \u524d\uff0c\u5982\u679c\u5339\u914d\u6210\u529f\uff0c\u4e0d\u518d\u8fdb\u884c\u540e\u7eed\u7684\u67e5\u627e\uff1b</li> <li><code>^~</code> \u7528\u4e8e\u4e0d\u542b\u6b63\u5219\u8868\u8fbe\u5f0f\u7684 uri\uff1b \u524d\uff0c\u8868\u793a\u5982\u679c\u8be5\u7b26\u53f7\u540e\u9762\u7684\u5b57\u7b26\u662f\u6700\u4f73\u5339\u914d\uff0c\u91c7\u7528\u8be5\u89c4\u5219\uff0c\u4e0d\u518d\u8fdb\u884c\u540e\u7eed\u7684\u67e5\u627e\uff1b</li> <li><code>~</code> \u8868\u793a\u7528\u8be5\u7b26\u53f7\u540e\u9762\u7684\u6b63\u5219\u53bb\u5339\u914d\u8def\u5f84\uff0c\u533a\u5206\u5927\u5c0f\u5199\uff1b</li> <li><code>~*</code> \u8868\u793a\u7528\u8be5\u7b26\u53f7\u540e\u9762\u7684\u6b63\u5219\u53bb\u5339\u914d\u8def\u5f84\uff0c\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002\u8ddf <code>~</code> \u4f18\u5148\u7ea7\u90fd\u6bd4\u8f83\u4f4e\uff0c\u5982\u6709\u591a\u4e2alocation\u7684\u6b63\u5219\u80fd\u5339\u914d\u7684\u8bdd\uff0c\u5219\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u6700\u957f\u7684\u90a3\u4e2a\uff1b</li> </ol> <p>\u5982\u679c uri \u5305\u542b\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u5219\u5fc5\u987b\u8981\u6709 <code>~</code> \u6216 <code>~*</code> \u6807\u5fd7\u3002</p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#52","title":"5.2 \u5168\u5c40\u53d8\u91cf","text":"<p>Nginx \u6709\u4e00\u4e9b\u5e38\u7528\u7684\u5168\u5c40\u53d8\u91cf\uff0c\u4f60\u53ef\u4ee5\u5728\u914d\u7f6e\u7684\u4efb\u4f55\u4f4d\u7f6e\u4f7f\u7528\u5b83\u4eec\uff0c\u5982\u4e0b\u8868\uff1a</p> \u5168\u5c40\u53d8\u91cf\u540d \u529f\u80fd <code>$host</code> \u8bf7\u6c42\u4fe1\u606f\u4e2d\u7684 <code>Host</code>\uff0c\u5982\u679c\u8bf7\u6c42\u4e2d\u6ca1\u6709 <code>Host</code> \u884c\uff0c\u5219\u7b49\u4e8e\u8bbe\u7f6e\u7684\u670d\u52a1\u5668\u540d\uff0c\u4e0d\u5305\u542b\u7aef\u53e3 <code>$request_method</code> \u5ba2\u6237\u7aef\u8bf7\u6c42\u7c7b\u578b\uff0c\u5982 <code>GET</code>\u3001<code>POST</code> <code>$remote_addr</code> \u5ba2\u6237\u7aef\u7684 <code>IP</code> \u5730\u5740 <code>$args</code> \u8bf7\u6c42\u4e2d\u7684\u53c2\u6570 <code>$arg_PARAMETER</code> <code>GET</code> \u8bf7\u6c42\u4e2d\u53d8\u91cf\u540d PARAMETER \u53c2\u6570\u7684\u503c\uff0c\u4f8b\u5982\uff1a<code>$http_user_agent</code>(Uaer-Agent \u503c), <code>$http_referer</code>... <code>$content_length</code> \u8bf7\u6c42\u5934\u4e2d\u7684 <code>Content-length</code> \u5b57\u6bb5 <code>$http_user_agent</code> \u5ba2\u6237\u7aefagent\u4fe1\u606f <code>$http_cookie</code> \u5ba2\u6237\u7aefcookie\u4fe1\u606f <code>$remote_addr</code> \u5ba2\u6237\u7aef\u7684IP\u5730\u5740 <code>$remote_port</code> \u5ba2\u6237\u7aef\u7684\u7aef\u53e3 <code>$http_user_agent</code> \u5ba2\u6237\u7aefagent\u4fe1\u606f <code>$server_protocol</code> \u8bf7\u6c42\u4f7f\u7528\u7684\u534f\u8bae\uff0c\u5982 <code>HTTP/1.0</code>\u3001<code>HTTP/1.1</code> <code>$server_addr</code> \u670d\u52a1\u5668\u5730\u5740 <code>$server_name</code> \u670d\u52a1\u5668\u540d\u79f0 <code>$server_port</code> \u670d\u52a1\u5668\u7684\u7aef\u53e3\u53f7 <code>$scheme</code> HTTP \u65b9\u6cd5\uff08\u5982http\uff0chttps\uff09 <p>\u8fd8\u6709\u66f4\u591a\u7684\u5185\u7f6e\u9884\u5b9a\u4e49\u53d8\u91cf\uff0c\u53ef\u4ee5\u76f4\u63a5\u641c\u7d22\u5173\u952e\u5b57\u300cnginx\u5185\u7f6e\u9884\u5b9a\u4e49\u53d8\u91cf\u300d\u53ef\u4ee5\u770b\u5230\u4e00\u5806\u535a\u5ba2\u5199\u8fd9\u4e2a\uff0c\u8fd9\u4e9b\u53d8\u91cf\u90fd\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u76f4\u63a5\u4f7f\u7528\u3002</p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#6","title":"6. \u8bbe\u7f6e\u4e8c\u7ea7\u57df\u540d\u865a\u62df\u4e3b\u673a","text":"<p>\u5728\u67d0\u67d0\u4e91 \u2601\ufe0f \u4e0a\u8d2d\u4e70\u4e86\u57df\u540d\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u914d\u7f6e\u865a\u62df\u4e3b\u673a\u4e86\uff0c\u4e00\u822c\u914d\u7f6e\u7684\u8def\u5f84\u5728 <code>\u57df\u540d\u7ba1\u7406 -&gt; \u89e3\u6790 -&gt; \u6dfb\u52a0\u8bb0\u5f55</code> \u4e2d\u6dfb\u52a0\u4e8c\u7ea7\u57df\u540d\uff0c\u914d\u7f6e\u540e\u67d0\u67d0\u4e91\u4f1a\u628a\u4e8c\u7ea7\u57df\u540d\u4e5f\u89e3\u6790\u5230\u6211\u4eec\u914d\u7f6e\u7684\u670d\u52a1\u5668 IP \u4e0a\uff0c\u7136\u540e\u6211\u4eec\u5728 Nginx \u4e0a\u914d\u7f6e\u4e00\u4e0b\u865a\u62df\u4e3b\u673a\u7684\u8bbf\u95ee\u76d1\u542c\uff0c\u5c31\u53ef\u4ee5\u62ff\u5230\u4ece\u8fd9\u4e2a\u4e8c\u7ea7\u57df\u540d\u8fc7\u6765\u7684\u8bf7\u6c42\u4e86\u3002</p> <p></p> <p>\u73b0\u5728\u6211\u81ea\u5df1\u7684\u670d\u52a1\u5668\u4e0a\u914d\u7f6e\u4e86\u4e00\u4e2a fe \u7684\u4e8c\u7ea7\u57df\u540d\uff0c\u4e5f\u5c31\u662f\u8bf4\u5728\u5916\u7f51\u8bbf\u95ee <code>fe.sherlocked93.club</code> \u7684\u65f6\u5019\uff0c\u4e5f\u53ef\u4ee5\u8bbf\u95ee\u5230\u6211\u4eec\u7684\u670d\u52a1\u5668\u4e86\u3002</p> <p>\u7531\u4e8e\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6 <code>/etc/nginx/nginx.conf</code> \u7684 http \u6a21\u5757\u4e2d\u6709\u4e00\u53e5 <code>include /etc/nginx/conf.d/*.conf</code> \u4e5f\u5c31\u662f\u8bf4 <code>conf.d</code> \u6587\u4ef6\u5939\u4e0b\u7684\u6240\u6709 <code>*.conf</code> \u6587\u4ef6\u90fd\u4f1a\u4f5c\u4e3a\u5b50\u914d\u7f6e\u9879\u88ab\u5f15\u5165\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u4e3a\u4e86\u7ef4\u62a4\u65b9\u4fbf\uff0c\u6211\u5728 <code>/etc/nginx/conf.d</code> \u6587\u4ef6\u5939\u4e2d\u65b0\u5efa\u4e00\u4e2a <code>fe.sherlocked93.club.conf</code> \uff1a</p> <pre><code>nginx\n\n# /etc/nginx/conf.d/fe.sherlocked93.club.conf\n\nserver {\n  listen 80;\n    server_name fe.sherlocked93.club;\n\n    location / {\n        root  /usr/share/nginx/html/fe;\n        index index.html;\n    }\n}\n</code></pre> <p>\u7136\u540e\u5728 <code>/usr/share/nginx/html</code> \u6587\u4ef6\u5939\u4e0b\u65b0\u5efa fe \u6587\u4ef6\u5939\uff0c\u65b0\u5efa\u6587\u4ef6 <code>index.html</code>\uff0c\u5185\u5bb9\u968f\u4fbf\u5199\u70b9\uff0c\u6539\u5b8c <code>nginx -s reload</code> \u91cd\u65b0\u52a0\u8f7d\uff0c\u6d4f\u89c8\u5668\u4e2d\u8f93\u5165 <code>fe.sherlocked93.club</code>\uff0c\u53d1\u73b0\u4ece\u4e8c\u7ea7\u57df\u540d\u5c31\u53ef\u4ee5\u8bbf\u95ee\u5230\u6211\u4eec\u521a\u521a\u65b0\u5efa\u7684 fe \u6587\u4ef6\u5939\uff1a</p> <p></p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#7","title":"7. \u914d\u7f6e\u53cd\u5411\u4ee3\u7406","text":"<p>\u53cd\u5411\u4ee3\u7406\u662f\u5de5\u4f5c\u4e2d\u6700\u5e38\u7528\u7684\u670d\u52a1\u5668\u529f\u80fd\uff0c\u7ecf\u5e38\u88ab\u7528\u6765\u89e3\u51b3\u8de8\u57df\u95ee\u9898\uff0c\u4e0b\u9762\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u5982\u4f55\u5b9e\u73b0\u53cd\u5411\u4ee3\u7406\u3002</p> <p>\u9996\u5148\u8fdb\u5165 Nginx \u7684\u4e3b\u914d\u7f6e\u6587\u4ef6\uff1a</p> <pre><code>bash\n\nvim /etc/nginx/nginx.conf\n</code></pre> <p>\u4e3a\u4e86\u770b\u8d77\u6765\u65b9\u4fbf\uff0c\u628a\u884c\u53f7\u663e\u793a\u51fa\u6765 <code>:set nu</code> \uff08\u4e2a\u4eba\u4e60\u60ef\uff09\uff0c\u7136\u540e\u6211\u4eec\u53bb <code>http</code> \u6a21\u5757\u7684 <code>server</code> \u5757\u4e2d\u7684 <code>location /</code>\uff0c\u589e\u52a0\u4e00\u884c\u5c06\u9ed8\u8ba4\u7f51\u5740\u91cd\u5b9a\u5411\u5230\u6700\u5927\u5b66\u4e60\u7f51\u7ad9 Bilibili \u7684 <code>proxy_pass</code> \u914d\u7f6e \ud83e\udd13 \uff1a</p> <p></p> <p>\u6539\u5b8c\u4fdd\u5b58\u9000\u51fa\uff0c<code>nginx -s reload</code> \u91cd\u65b0\u52a0\u8f7d\uff0c\u8fdb\u5165\u9ed8\u8ba4\u7f51\u5740\uff0c\u90a3\u4e48\u73b0\u5728\u5c31\u76f4\u63a5\u8df3\u8f6c\u5230 B \u7ad9\u4e86\uff0c\u5b9e\u73b0\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u4ee3\u7406\u3002</p> <p>\u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c\u53ef\u4ee5\u5c06\u8bf7\u6c42\u8f6c\u53d1\u5230\u672c\u673a\u53e6\u4e00\u4e2a\u670d\u52a1\u5668\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u6839\u636e\u8bbf\u95ee\u7684\u8def\u5f84\u8df3\u8f6c\u5230\u4e0d\u540c\u7aef\u53e3\u7684\u670d\u52a1\u4e2d\u3002</p> <p>\u6bd4\u5982\u6211\u4eec\u76d1\u542c <code>9001</code> \u7aef\u53e3\uff0c\u7136\u540e\u628a\u8bbf\u95ee\u4e0d\u540c\u8def\u5f84\u7684\u8bf7\u6c42\u8fdb\u884c\u53cd\u5411\u4ee3\u7406\uff1a</p> <ol> <li>\u628a\u8bbf\u95ee <code>http://127.0.0.1:9001/edu</code> \u7684\u8bf7\u6c42\u8f6c\u53d1\u5230 <code>http://127.0.0.1:8080</code></li> <li>\u628a\u8bbf\u95ee <code>http://127.0.0.1:9001/vod</code> \u7684\u8bf7\u6c42\u8f6c\u53d1\u5230 <code>http://127.0.0.1:8081</code></li> </ol> <p>\u8fd9\u79cd\u8981\u600e\u4e48\u914d\u7f6e\u5462\uff0c\u9996\u5148\u540c\u6837\u6253\u5f00\u4e3b\u914d\u7f6e\u6587\u4ef6\uff0c\u7136\u540e\u5728 http \u6a21\u5757\u4e0b\u589e\u52a0\u4e00\u4e2a server \u5757\uff1a</p> <pre><code>nginx\n\nserver {\n  listen 9001;\n  server_name *.sherlocked93.club;\n\n  location ~ /edu/ {\n    proxy_pass http://127.0.0.1:8080;\n  }\n\n  location ~ /vod/ {\n    proxy_pass http://127.0.0.1:8081;\n  }\n}\n</code></pre> <p>\u53cd\u5411\u4ee3\u7406\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u7684\u6307\u4ee4\uff0c\u53ef\u4ee5\u4e86\u89e3\u4e00\u4e0b\uff1a</p> <ol> <li><code>proxy_set_header</code>\uff1a\u5728\u5c06\u5ba2\u6237\u7aef\u8bf7\u6c42\u53d1\u9001\u7ed9\u540e\u7aef\u670d\u52a1\u5668\u4e4b\u524d\uff0c\u66f4\u6539\u6765\u81ea\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u5934\u4fe1\u606f\u3002</li> <li><code>proxy_connect_timeout</code>\uff1a\u914d\u7f6eNginx\u4e0e\u540e\u7aef\u4ee3\u7406\u670d\u52a1\u5668\u5c1d\u8bd5\u5efa\u7acb\u8fde\u63a5\u7684\u8d85\u65f6\u65f6\u95f4\u3002</li> <li><code>proxy_read_timeout</code>\uff1a\u914d\u7f6eNginx\u5411\u540e\u7aef\u670d\u52a1\u5668\u7ec4\u53d1\u51faread\u8bf7\u6c42\u540e\uff0c\u7b49\u5f85\u76f8\u5e94\u7684\u8d85\u65f6\u65f6\u95f4\u3002</li> <li><code>proxy_send_timeout</code>\uff1a\u914d\u7f6eNginx\u5411\u540e\u7aef\u670d\u52a1\u5668\u7ec4\u53d1\u51fawrite\u8bf7\u6c42\u540e\uff0c\u7b49\u5f85\u76f8\u5e94\u7684\u8d85\u65f6\u65f6\u95f4\u3002</li> <li><code>proxy_redirect</code>\uff1a\u7528\u4e8e\u4fee\u6539\u540e\u7aef\u670d\u52a1\u5668\u8fd4\u56de\u7684\u54cd\u5e94\u5934\u4e2d\u7684Location\u548cRefresh\u3002</li> </ol>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#8-cors","title":"8. \u8de8\u57df CORS \u914d\u7f6e","text":"<p>\u5173\u4e8e\u7b80\u5355\u8bf7\u6c42\u3001\u975e\u7b80\u5355\u8bf7\u6c42\u3001\u8de8\u57df\u7684\u6982\u5ff5\uff0c\u524d\u9762\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u4e86\uff0c\u8fd8\u4e0d\u4e86\u89e3\u7684\u53ef\u4ee5\u770b\u770b\u524d\u9762\u7684\u8bb2\u89e3\u3002\u73b0\u5728\u524d\u540e\u7aef\u5206\u79bb\u7684\u9879\u76ee\u4e00\u7edf\u5929\u4e0b\uff0c\u7ecf\u5e38\u672c\u5730\u8d77\u4e86\u524d\u7aef\u670d\u52a1\uff0c\u9700\u8981\u8bbf\u95ee\u4e0d\u540c\u7684\u540e\u7aef\u5730\u5740\uff0c\u4e0d\u53ef\u907f\u514d\u9047\u5230\u8de8\u57df\u95ee\u9898\u3002</p> <p></p> <p>\u8981\u89e3\u51b3\u8de8\u57df\u95ee\u9898\uff0c\u6211\u4eec\u6765\u5236\u9020\u4e00\u4e2a\u8de8\u57df\u95ee\u9898\u3002\u9996\u5148\u548c\u524d\u9762\u8bbe\u7f6e\u4e8c\u7ea7\u57df\u540d\u7684\u65b9\u5f0f\u4e00\u6837\uff0c\u5148\u8bbe\u7f6e\u597d <code>fe.sherlocked93.club</code> \u548c <code>be.sherlocked93.club</code> \u4e8c\u7ea7\u57df\u540d\uff0c\u90fd\u6307\u5411\u672c\u4e91\u670d\u52a1\u5668\u5730\u5740\uff0c\u867d\u7136\u5bf9\u5e94 IP \u662f\u4e00\u6837\u7684\uff0c\u4f46\u662f\u5728 <code>fe.sherlocked93.club</code> \u57df\u540d\u53d1\u51fa\u7684\u8bf7\u6c42\u8bbf\u95ee <code>be.sherlocked93.club</code> \u57df\u540d\u7684\u8bf7\u6c42\u8fd8\u662f\u8de8\u57df\u4e86\uff0c\u56e0\u4e3a\u8bbf\u95ee\u7684 host \u4e0d\u4e00\u81f4\uff08\u5982\u679c\u4e0d\u77e5\u9053\u5565\u539f\u56e0\u53c2\u89c1\u524d\u9762\u8de8\u57df\u7684\u5185\u5bb9\uff09\u3002</p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#81","title":"8.1 \u4f7f\u7528\u53cd\u5411\u4ee3\u7406\u89e3\u51b3\u8de8\u57df","text":"<p>\u5728\u524d\u7aef\u670d\u52a1\u5730\u5740\u4e3a <code>fe.sherlocked93.club</code> \u7684\u9875\u9762\u8bf7\u6c42 <code>be.sherlocked93.club</code> \u7684\u540e\u7aef\u670d\u52a1\u5bfc\u81f4\u7684\u8de8\u57df\uff0c\u53ef\u4ee5\u8fd9\u6837\u914d\u7f6e\uff1a</p> <pre><code>nginx\n\nserver {\n  listen 9001;\n  server_name fe.sherlocked93.club;\n\n  location / {\n    proxy_pass be.sherlocked93.club;\n  }\n}\n</code></pre> <p>\u8fd9\u6837\u5c31\u5c06\u5bf9\u524d\u4e00\u4e2a\u57df\u540d <code>fe.sherlocked93.club</code> \u7684\u8bf7\u6c42\u5168\u90fd\u4ee3\u7406\u5230\u4e86 <code>be.sherlocked93.club</code>\uff0c\u524d\u7aef\u7684\u8bf7\u6c42\u90fd\u88ab\u6211\u4eec\u7528\u670d\u52a1\u5668\u4ee3\u7406\u5230\u4e86\u540e\u7aef\u5730\u5740\u4e0b\uff0c\u7ed5\u8fc7\u4e86\u8de8\u57df\u3002</p> <p>\u8fd9\u91cc\u5bf9\u9759\u6001\u6587\u4ef6\u7684\u8bf7\u6c42\u548c\u540e\u7aef\u670d\u52a1\u7684\u8bf7\u6c42\u90fd\u4ee5 <code>fe.sherlocked93.club</code> \u5f00\u59cb\uff0c\u4e0d\u6613\u533a\u5206\uff0c\u6240\u4ee5\u4e3a\u4e86\u5b9e\u73b0\u5bf9\u540e\u7aef\u670d\u52a1\u8bf7\u6c42\u7684\u7edf\u4e00\u8f6c\u53d1\uff0c\u901a\u5e38\u6211\u4eec\u4f1a\u7ea6\u5b9a\u5bf9\u540e\u7aef\u670d\u52a1\u7684\u8bf7\u6c42\u52a0\u4e0a <code>/apis/</code> \u524d\u7f00\u6216\u8005\u5176\u4ed6\u7684 path \u6765\u548c\u5bf9\u9759\u6001\u8d44\u6e90\u7684\u8bf7\u6c42\u52a0\u4ee5\u533a\u5206\uff0c\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u914d\u7f6e\uff1a</p> <pre><code>nginx\n\n# \u8bf7\u6c42\u8de8\u57df\uff0c\u7ea6\u5b9a\u4ee3\u7406\u540e\u7aef\u670d\u52a1\u8bf7\u6c42path\u4ee5/apis/\u5f00\u5934\nlocation ^~/apis/ {\n    # \u8fd9\u91cc\u91cd\u5199\u4e86\u8bf7\u6c42\uff0c\u5c06\u6b63\u5219\u5339\u914d\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5206\u7ec4\u7684path\u62fc\u63a5\u5230\u771f\u6b63\u7684\u8bf7\u6c42\u540e\u9762\uff0c\u5e76\u7528break\u505c\u6b62\u540e\u7eed\u5339\u914d\n    rewrite ^/apis/(.*)$ /$1 break;\n    proxy_pass be.sherlocked93.club;\n\n    # \u4e24\u4e2a\u57df\u540d\u4e4b\u95f4cookie\u7684\u4f20\u9012\u4e0e\u56de\u5199\n    proxy_cookie_domain be.sherlocked93.club fe.sherlocked93.club;\n}\n</code></pre> <p>\u8fd9\u6837\uff0c\u9759\u6001\u8d44\u6e90\u6211\u4eec\u4f7f\u7528 <code>fe.sherlocked93.club/xx.html</code>\uff0c\u52a8\u6001\u8d44\u6e90\u6211\u4eec\u4f7f\u7528 <code>fe.sherlocked93.club/apis/getAwo</code>\uff0c\u6d4f\u89c8\u5668\u9875\u9762\u770b\u8d77\u6765\u4ecd\u7136\u8bbf\u95ee\u7684\u524d\u7aef\u670d\u52a1\u5668\uff0c\u7ed5\u8fc7\u4e86\u6d4f\u89c8\u5668\u7684\u540c\u6e90\u7b56\u7565\uff0c\u6bd5\u7adf\u6211\u4eec\u770b\u8d77\u6765\u5e76\u6ca1\u6709\u8de8\u57df\u3002</p> <p>\u4e5f\u53ef\u4ee5\u7edf\u4e00\u4e00\u70b9\uff0c\u76f4\u63a5\u628a\u524d\u540e\u7aef\u670d\u52a1\u5668\u5730\u5740\u76f4\u63a5\u90fd\u8f6c\u53d1\u5230\u53e6\u4e00\u4e2a <code>server.sherlocked93.club</code>\uff0c\u53ea\u901a\u8fc7\u5728\u540e\u9762\u6dfb\u52a0\u7684 path \u6765\u533a\u5206\u8bf7\u6c42\u7684\u662f\u9759\u6001\u8d44\u6e90\u8fd8\u662f\u540e\u7aef\u670d\u52a1\uff0c\u770b\u9700\u6c42\u4e86\u3002</p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#82-header","title":"8.2 \u914d\u7f6e header \u89e3\u51b3\u8de8\u57df","text":"<p>\u5f53\u6d4f\u89c8\u5668\u5728\u8bbf\u95ee\u8de8\u6e90\u7684\u670d\u52a1\u5668\u65f6\uff0c\u4e5f\u53ef\u4ee5\u5728\u8de8\u57df\u7684\u670d\u52a1\u5668\u4e0a\u76f4\u63a5\u8bbe\u7f6e Nginx\uff0c\u4ece\u800c\u524d\u7aef\u5c31\u53ef\u4ee5\u65e0\u611f\u5730\u5f00\u53d1\uff0c\u4e0d\u7528\u628a\u5b9e\u9645\u4e0a\u8bbf\u95ee\u540e\u7aef\u7684\u5730\u5740\u6539\u6210\u524d\u7aef\u670d\u52a1\u7684\u5730\u5740\uff0c\u8fd9\u6837\u53ef\u9002\u6027\u66f4\u9ad8\u3002</p> <p>\u6bd4\u5982\u524d\u7aef\u7ad9\u70b9\u662f <code>fe.sherlocked93.club</code>\uff0c\u8fd9\u4e2a\u5730\u5740\u4e0b\u7684\u524d\u7aef\u9875\u9762\u8bf7\u6c42 <code>be.sherlocked93.club</code> \u4e0b\u7684\u8d44\u6e90\uff0c\u6bd4\u5982\u524d\u8005\u7684 <code>fe.sherlocked93.club/index.html</code> \u5185\u5bb9\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>html\n\n&lt;html&gt;\n&lt;body&gt;\n    &lt;h1&gt;welcome fe.sherlocked93.club!!&lt;h1&gt;\n    &lt;script type='text/javascript'&gt;\n    var xmlhttp = new XMLHttpRequest()\n    xmlhttp.open(\"GET\", \"http://be.sherlocked93.club/index.html\", true);\n    xmlhttp.send();\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u6253\u5f00\u6d4f\u89c8\u5668\u8bbf\u95ee <code>fe.sherlocked93.club/index.html</code> \u7684\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u5f88\u660e\u663e\u8fd9\u91cc\u662f\u8de8\u57df\u8bf7\u6c42\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d\u76f4\u63a5\u8bbf\u95ee <code>http://be.sherlocked93.club/index.html</code> \u662f\u53ef\u4ee5\u8bbf\u95ee\u5230\u7684\uff0c\u4f46\u662f\u5728 <code>fe.sherlocked93.club</code> \u7684 html \u9875\u9762\u8bbf\u95ee\u5c31\u4f1a\u51fa\u73b0\u8de8\u57df\u3002</p> <p>\u5728 <code>/etc/nginx/conf.d/</code> \u6587\u4ef6\u5939\u4e2d\u65b0\u5efa\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u5bf9\u5e94\u4e8c\u7ea7\u57df\u540d <code>be.sherlocked93.club</code> \uff1a</p> <pre><code>nginx\n\n# /etc/nginx/conf.d/be.sherlocked93.club.conf\n\nserver {\n  listen       80;\n  server_name  be.sherlocked93.club;\n\n    add_header 'Access-Control-Allow-Origin' $http_origin;   # \u5168\u5c40\u53d8\u91cf\u83b7\u5f97\u5f53\u524d\u8bf7\u6c42origin\uff0c\u5e26cookie\u7684\u8bf7\u6c42\u4e0d\u652f\u6301*\n    add_header 'Access-Control-Allow-Credentials' 'true';    # \u4e3a true \u53ef\u5e26\u4e0a cookie\n    add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS';  # \u5141\u8bb8\u8bf7\u6c42\u65b9\u6cd5\n    add_header 'Access-Control-Allow-Headers' $http_access_control_request_headers;  # \u5141\u8bb8\u8bf7\u6c42\u7684 header\uff0c\u53ef\u4ee5\u4e3a *\n    add_header 'Access-Control-Expose-Headers' 'Content-Length,Content-Range';\n\n  if ($request_method = 'OPTIONS') {\n        add_header 'Access-Control-Max-Age' 1728000;   # OPTIONS \u8bf7\u6c42\u7684\u6709\u6548\u671f\uff0c\u5728\u6709\u6548\u671f\u5185\u4e0d\u7528\u53d1\u51fa\u53e6\u4e00\u6761\u9884\u68c0\u8bf7\u6c42\n        add_header 'Content-Type' 'text/plain; charset=utf-8';\n        add_header 'Content-Length' 0;\n\n        return 204;                  # 200 \u4e5f\u53ef\u4ee5\n    }\n\n    location / {\n        root  /usr/share/nginx/html/be;\n        index index.html;\n    }\n}\n</code></pre> <p>\u7136\u540e <code>nginx -s reload</code> \u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e\u3002\u8fd9\u65f6\u518d\u8bbf\u95ee <code>fe.sherlocked93.club/index.html</code> \u7ed3\u679c\u5982\u4e0b\uff0c\u8bf7\u6c42\u4e2d\u51fa\u73b0\u4e86\u6211\u4eec\u521a\u521a\u914d\u7f6e\u7684 Header\uff1a</p> <p></p> <p>\u89e3\u51b3\u4e86\u8de8\u57df\u95ee\u9898\u3002</p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#9-gzip","title":"9. \u5f00\u542f gzip \u538b\u7f29","text":"<p>gzip \u662f\u4e00\u79cd\u5e38\u7528\u7684\u7f51\u9875\u538b\u7f29\u6280\u672f\uff0c\u4f20\u8f93\u7684\u7f51\u9875\u7ecf\u8fc7 gzip \u538b\u7f29\u4e4b\u540e\u5927\u5c0f\u901a\u5e38\u53ef\u4ee5\u53d8\u4e3a\u539f\u6765\u7684\u4e00\u534a\u751a\u81f3\u66f4\u5c0f\uff08\u5b98\u7f51\u539f\u8bdd\uff09\uff0c\u66f4\u5c0f\u7684\u7f51\u9875\u4f53\u79ef\u4e5f\u5c31\u610f\u5473\u7740\u5e26\u5bbd\u7684\u8282\u7ea6\u548c\u4f20\u8f93\u901f\u5ea6\u7684\u63d0\u5347\uff0c\u7279\u522b\u662f\u5bf9\u4e8e\u8bbf\u95ee\u91cf\u5de8\u5927\u5927\u578b\u7f51\u7ad9\u6765\u8bf4\uff0c\u6bcf\u4e00\u4e2a\u9759\u6001\u8d44\u6e90\u4f53\u79ef\u7684\u51cf\u5c0f\uff0c\u90fd\u4f1a\u5e26\u6765\u53ef\u89c2\u7684\u6d41\u91cf\u4e0e\u5e26\u5bbd\u7684\u8282\u7701\u3002</p> <p>\u767e\u5ea6\u53ef\u4ee5\u627e\u5230\u5f88\u591a\u68c0\u6d4b\u7ad9\u70b9\u6765\u67e5\u770b\u76ee\u6807\u7f51\u9875\u6709\u6ca1\u6709\u5f00\u542f gzip \u538b\u7f29\uff0c\u5728\u4e0b\u968f\u4fbf\u627e\u4e86\u4e00\u4e2a &lt;\u7f51\u9875GZIP\u538b\u7f29\u68c0\u6d4b&gt; \u8f93\u5165\u6398\u91d1 <code>juejin.im</code> \u6765\u5077\u7aa5\u4e0b\u6398\u91d1\u6709\u6ca1\u6709\u5f00\u542f gzip\u3002</p> <p></p> <p>\u8fd9\u91cc\u53ef\u4ee5\u770b\u5230\u6398\u91d1\u662f\u5f00\u542f\u4e86 gzip \u7684\uff0c\u538b\u7f29\u6548\u679c\u8fd8\u633a\u4e0d\u9519\uff0c\u8fbe\u5230\u4e86 52% \u4e4b\u591a\uff0c\u672c\u6765 <code>34kb</code> \u7684\u7f51\u9875\u4f53\u79ef\uff0c\u538b\u7f29\u5b8c\u53ea\u9700\u8981 <code>16kb</code>\uff0c\u53ef\u4ee5\u60f3\u8c61\u7f51\u9875\u4f20\u8f93\u901f\u5ea6\u63d0\u5347\u4e86\u4e0d\u5c11\u3002</p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#91-nginx-gzip","title":"9.1 Nginx \u914d\u7f6e gzip","text":"<p>\u4f7f\u7528 gzip \u4e0d\u4ec5\u9700\u8981 Nginx \u914d\u7f6e\uff0c\u6d4f\u89c8\u5668\u7aef\u4e5f\u9700\u8981\u914d\u5408\uff0c\u9700\u8981\u5728\u8bf7\u6c42\u6d88\u606f\u5934\u4e2d\u5305\u542b <code>Accept-Encoding: gzip</code>\uff08IE5 \u4e4b\u540e\u6240\u6709\u7684\u6d4f\u89c8\u5668\u90fd\u652f\u6301\u4e86\uff0c\u662f\u73b0\u4ee3\u6d4f\u89c8\u5668\u7684\u9ed8\u8ba4\u8bbe\u7f6e\uff09\u3002\u4e00\u822c\u5728\u8bf7\u6c42 html \u548c css \u7b49\u9759\u6001\u8d44\u6e90\u7684\u65f6\u5019\uff0c\u652f\u6301\u7684\u6d4f\u89c8\u5668\u5728 request \u8bf7\u6c42\u9759\u6001\u8d44\u6e90\u7684\u65f6\u5019\uff0c\u4f1a\u52a0\u4e0a <code>Accept-Encoding: gzip</code> \u8fd9\u4e2a header\uff0c\u8868\u793a\u81ea\u5df1\u652f\u6301 gzip \u7684\u538b\u7f29\u65b9\u5f0f\uff0cNginx \u5728\u62ff\u5230\u8fd9\u4e2a\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u5982\u679c\u6709\u76f8\u5e94\u914d\u7f6e\uff0c\u5c31\u4f1a\u8fd4\u56de\u7ecf\u8fc7 gzip \u538b\u7f29\u8fc7\u7684\u6587\u4ef6\u7ed9\u6d4f\u89c8\u5668\uff0c\u5e76\u5728 response \u76f8\u5e94\u7684\u65f6\u5019\u52a0\u4e0a <code>content-encoding: gzip</code> \u6765\u544a\u8bc9\u6d4f\u89c8\u5668\u81ea\u5df1\u91c7\u7528\u7684\u538b\u7f29\u65b9\u5f0f\uff08\u56e0\u4e3a\u6d4f\u89c8\u5668\u5728\u4f20\u7ed9\u670d\u52a1\u5668\u7684\u65f6\u5019\u4e00\u822c\u8fd8\u544a\u8bc9\u670d\u52a1\u5668\u81ea\u5df1\u652f\u6301\u597d\u51e0\u79cd\u538b\u7f29\u65b9\u5f0f\uff09\uff0c\u6d4f\u89c8\u5668\u62ff\u5230\u538b\u7f29\u7684\u6587\u4ef6\u540e\uff0c\u6839\u636e\u81ea\u5df1\u7684\u89e3\u538b\u65b9\u5f0f\u8fdb\u884c\u89e3\u6790\u3002</p> <p>\u5148\u6765\u770b\u770b Nginx \u600e\u4e48\u8fdb\u884c gzip \u914d\u7f6e\uff0c\u548c\u4e4b\u524d\u7684\u914d\u7f6e\u4e00\u6837\uff0c\u4e3a\u4e86\u65b9\u4fbf\u7ba1\u7406\uff0c\u8fd8\u662f\u5728 <code>/etc/nginx/conf.d/</code> \u6587\u4ef6\u5939\u4e2d\u65b0\u5efa\u914d\u7f6e\u6587\u4ef6 <code>gzip.conf</code> \uff1a</p> <pre><code>nginx\n\n# /etc/nginx/conf.d/gzip.conf\n\ngzip on; # \u9ed8\u8ba4off\uff0c\u662f\u5426\u5f00\u542fgzip\ngzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript;\n\n# \u4e0a\u9762\u4e24\u4e2a\u5f00\u542f\u57fa\u672c\u5c31\u80fd\u8dd1\u8d77\u4e86\uff0c\u4e0b\u9762\u7684\u613f\u610f\u6298\u817e\u5c31\u4e86\u89e3\u4e00\u4e0b\ngzip_static on;\ngzip_proxied any;\ngzip_vary on;\ngzip_comp_level 6;\ngzip_buffers 16 8k;\n# gzip_min_length 1k;\ngzip_http_version 1.1;\n</code></pre> <p>\u7a0d\u5fae\u89e3\u91ca\u4e00\u4e0b\uff1a</p> <ol> <li>gzip_types\uff1a\u8981\u91c7\u7528 gzip \u538b\u7f29\u7684 MIME \u6587\u4ef6\u7c7b\u578b\uff0c\u5176\u4e2d text/html \u88ab\u7cfb\u7edf\u5f3a\u5236\u542f\u7528\uff1b</li> <li>gzip_static\uff1a\u9ed8\u8ba4 off\uff0c\u8be5\u6a21\u5757\u542f\u7528\u540e\uff0cNginx \u9996\u5148\u68c0\u67e5\u662f\u5426\u5b58\u5728\u8bf7\u6c42\u9759\u6001\u6587\u4ef6\u7684 gz \u7ed3\u5c3e\u7684\u6587\u4ef6\uff0c\u5982\u679c\u6709\u5219\u76f4\u63a5\u8fd4\u56de\u8be5 <code>.gz</code> \u6587\u4ef6\u5185\u5bb9\uff1b</li> <li>gzip_proxied\uff1a\u9ed8\u8ba4 off\uff0cnginx\u505a\u4e3a\u53cd\u5411\u4ee3\u7406\u65f6\u542f\u7528\uff0c\u7528\u4e8e\u8bbe\u7f6e\u542f\u7528\u6216\u7981\u7528\u4ece\u4ee3\u7406\u670d\u52a1\u5668\u4e0a\u6536\u5230\u76f8\u5e94\u5185\u5bb9 gzip \u538b\u7f29\uff1b</li> <li>gzip_vary\uff1a\u7528\u4e8e\u5728\u54cd\u5e94\u6d88\u606f\u5934\u4e2d\u6dfb\u52a0 <code>Vary\uff1aAccept-Encoding</code>\uff0c\u4f7f\u4ee3\u7406\u670d\u52a1\u5668\u6839\u636e\u8bf7\u6c42\u5934\u4e2d\u7684 <code>Accept-Encoding</code> \u8bc6\u522b\u662f\u5426\u542f\u7528 gzip \u538b\u7f29\uff1b</li> <li>gzip_comp_level\uff1agzip \u538b\u7f29\u6bd4\uff0c\u538b\u7f29\u7ea7\u522b\u662f 1-9\uff0c1 \u538b\u7f29\u7ea7\u522b\u6700\u4f4e\uff0c9 \u6700\u9ad8\uff0c\u7ea7\u522b\u8d8a\u9ad8\u538b\u7f29\u7387\u8d8a\u5927\uff0c\u538b\u7f29\u65f6\u95f4\u8d8a\u957f\uff0c\u5efa\u8bae 4-6\uff1b</li> <li>gzip_buffers\uff1a\u83b7\u53d6\u591a\u5c11\u5185\u5b58\u7528\u4e8e\u7f13\u5b58\u538b\u7f29\u7ed3\u679c\uff0c16 8k \u8868\u793a\u4ee5 8k*16 \u4e3a\u5355\u4f4d\u83b7\u5f97\uff1b</li> <li>gzip_min_length\uff1a\u5141\u8bb8\u538b\u7f29\u7684\u9875\u9762\u6700\u5c0f\u5b57\u8282\u6570\uff0c\u9875\u9762\u5b57\u8282\u6570\u4eceheader\u5934\u4e2d\u7684 <code>Content-Length</code> \u4e2d\u8fdb\u884c\u83b7\u53d6\u3002\u9ed8\u8ba4\u503c\u662f 0\uff0c\u4e0d\u7ba1\u9875\u9762\u591a\u5927\u90fd\u538b\u7f29\u3002\u5efa\u8bae\u8bbe\u7f6e\u6210\u5927\u4e8e 1k \u7684\u5b57\u8282\u6570\uff0c\u5c0f\u4e8e 1k \u53ef\u80fd\u4f1a\u8d8a\u538b\u8d8a\u5927\uff1b</li> <li>gzip_http_version\uff1a\u9ed8\u8ba4 1.1\uff0c\u542f\u7528 gzip \u6240\u9700\u7684 HTTP \u6700\u4f4e\u7248\u672c\uff1b</li> </ol> <p>\u8fd9\u4e2a\u914d\u7f6e\u53ef\u4ee5\u63d2\u5165\u5230 http \u6a21\u5757\u6574\u4e2a\u670d\u52a1\u5668\u7684\u914d\u7f6e\u91cc\uff0c\u4e5f\u53ef\u4ee5\u63d2\u5165\u5230\u9700\u8981\u4f7f\u7528\u7684\u865a\u62df\u4e3b\u673a\u7684 <code>server</code> \u6216\u8005\u4e0b\u9762\u7684 <code>location</code> \u6a21\u5757\u4e2d\uff0c\u5f53\u7136\u50cf\u4e0a\u9762\u6211\u4eec\u8fd9\u6837\u5199\u7684\u8bdd\u5c31\u662f\u88ab include \u5230 http \u6a21\u5757\u4e2d\u4e86\u3002</p> <p>\u5176\u4ed6\u66f4\u5168\u7684\u914d\u7f6e\u4fe1\u606f\u53ef\u4ee5\u67e5\u770b &lt;\u5b98\u7f51\u6587\u6863ngx_http_gzip_module&gt;\uff0c\u914d\u7f6e\u524d\u662f\u8fd9\u6837\u7684\uff1a</p> <p></p> <p>\u914d\u7f6e\u4e4b\u540e response \u7684 header \u91cc\u9762\u591a\u4e86\u4e00\u4e2a <code>Content-Encoding: gzip</code>\uff0c\u8fd4\u56de\u4fe1\u606f\u88ab\u538b\u7f29\u4e86\uff1a</p> <p></p> <p>\u6ce8\u610f\u4e86\uff0c\u4e00\u822c gzip \u7684\u914d\u7f6e\u5efa\u8bae\u52a0\u4e0a <code>gzip_min_length 1k</code>\uff0c\u4e0d\u52a0\u7684\u8bdd\uff1a</p> <p></p> <p>\u7531\u4e8e\u6587\u4ef6\u592a\u5c0f\uff0cgzip \u538b\u7f29\u4e4b\u540e\u5f97\u5230\u4e86 -48% \u7684\u4f53\u79ef\u4f18\u5316\uff0c\u538b\u7f29\u4e4b\u540e\u4f53\u79ef\u8fd8\u6bd4\u538b\u7f29\u4e4b\u524d\u4f53\u79ef\u5927\u4e86\uff0c\u6240\u4ee5\u6700\u597d\u8bbe\u7f6e\u4f4e\u4e8e <code>1kb</code> \u7684\u6587\u4ef6\u5c31\u4e0d\u8981 gzip \u538b\u7f29\u4e86 \ud83e\udd2a</p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#92-webpack-gzip","title":"9.2 Webpack \u7684 gzip \u914d\u7f6e","text":"<p>\u5f53\u524d\u7aef\u9879\u76ee\u4f7f\u7528 Webpack \u8fdb\u884c\u6253\u5305\u7684\u65f6\u5019\uff0c\u4e5f\u53ef\u4ee5\u5f00\u542f gzip \u538b\u7f29\uff1a</p> <pre><code>javascript\n\n// vue-cli3 \u7684 vue.config.js \u6587\u4ef6\nconst CompressionWebpackPlugin = require('compression-webpack-plugin')\n\nmodule.exports = {\n  // gzip \u914d\u7f6e\n  configureWebpack: config =&gt; {\n    if (process.env.NODE_ENV === 'production') {\n      // \u751f\u4ea7\u73af\u5883\n      return {\n        plugins: [new CompressionWebpackPlugin({\n          test: /\\.js$|\\.html$|\\.css/,    // \u5339\u914d\u6587\u4ef6\u540d\n          threshold: 10240,               // \u6587\u4ef6\u538b\u7f29\u9608\u503c\uff0c\u5bf9\u8d85\u8fc710k\u7684\u8fdb\u884c\u538b\u7f29\n          deleteOriginalAssets: false     // \u662f\u5426\u5220\u9664\u6e90\u6587\u4ef6\n        })]\n      }\n    }\n  },\n  ...\n}\n</code></pre> <p>\u7531\u6b64\u6253\u5305\u51fa\u6765\u7684\u6587\u4ef6\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u8fd9\u91cc\u53ef\u4ee5\u770b\u5230\u67d0\u4e9b\u6253\u5305\u4e4b\u540e\u7684\u6587\u4ef6\u4e0b\u9762\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684 <code>.gz</code> \u7ecf\u8fc7 <code>gzip</code> \u538b\u7f29\u4e4b\u540e\u7684\u6587\u4ef6\uff0c\u8fd9\u662f\u56e0\u4e3a\u8fd9\u4e2a\u6587\u4ef6\u8d85\u8fc7\u4e86 <code>10kb</code>\uff0c\u6709\u7684\u6587\u4ef6\u6ca1\u6709\u8d85\u8fc7 <code>10kb</code> \u5c31\u6ca1\u6709\u8fdb\u884c <code>gzip</code> \u6253\u5305\uff0c\u5982\u679c\u4f60\u671f\u671b\u538b\u7f29\u6587\u4ef6\u7684\u4f53\u79ef\u9608\u503c\u5c0f\u4e00\u70b9\uff0c\u53ef\u4ee5\u5728 <code>compression-webpack-plugin</code> \u8fd9\u4e2a\u63d2\u4ef6\u7684\u914d\u7f6e\u91cc\u8fdb\u884c\u5bf9\u5e94\u914d\u7f6e\u3002</p> <p>\u90a3\u4e48\u4e3a\u5565\u8fd9\u91cc Nginx \u5df2\u7ecf\u6709\u4e86 gzip \u538b\u7f29\uff0cWebpack \u8fd9\u91cc\u53c8\u6574\u4e86\u4e2a gzip \u5462\uff0c\u56e0\u4e3a\u5982\u679c\u5168\u90fd\u662f\u4f7f\u7528 Nginx \u6765\u538b\u7f29\u6587\u4ef6\uff0c\u4f1a\u8017\u8d39\u670d\u52a1\u5668\u7684\u8ba1\u7b97\u8d44\u6e90\uff0c\u5982\u679c\u670d\u52a1\u5668\u7684 <code>gzip_comp_level</code> \u914d\u7f6e\u7684\u6bd4\u8f83\u9ad8\uff0c\u5c31\u66f4\u589e\u52a0\u670d\u52a1\u5668\u7684\u5f00\u9500\uff0c\u76f8\u5e94\u589e\u52a0\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u65f6\u95f4\uff0c\u5f97\u4e0d\u507f\u5931\u3002</p> <p>\u5982\u679c\u538b\u7f29\u7684\u52a8\u4f5c\u5728\u524d\u7aef\u6253\u5305\u7684\u65f6\u5019\u5c31\u505a\u4e86\uff0c\u628a\u6253\u5305\u4e4b\u540e\u7684\u9ad8\u538b\u7f29\u7b49\u7ea7\u6587\u4ef6\u4f5c\u4e3a\u9759\u6001\u8d44\u6e90\u653e\u5728\u670d\u52a1\u5668\u4e0a\uff0cNginx \u4f1a\u4f18\u5148\u67e5\u627e\u8fd9\u4e9b\u538b\u7f29\u4e4b\u540e\u7684\u6587\u4ef6\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\uff0c\u76f8\u5f53\u4e8e\u628a\u538b\u7f29\u6587\u4ef6\u7684\u52a8\u4f5c\u4ece Nginx \u63d0\u524d\u7ed9 Webpack \u6253\u5305\u7684\u65f6\u5019\u5b8c\u6210\uff0c\u8282\u7ea6\u4e86\u670d\u52a1\u5668\u8d44\u6e90\uff0c\u6240\u4ee5\u4e00\u822c\u63a8\u4ecb\u5728\u751f\u4ea7\u73af\u5883\u5e94\u7528 Webpack \u914d\u7f6e gzip \u538b\u7f29\u3002</p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#10","title":"10. \u914d\u7f6e\u8d1f\u8f7d\u5747\u8861","text":"<p>\u8d1f\u8f7d\u5747\u8861\u5728\u4e4b\u524d\u5df2\u7ecf\u4ecb\u7ecd\u4e86\u76f8\u5173\u6982\u5ff5\u4e86\uff0c\u4e3b\u8981\u601d\u60f3\u5c31\u662f\u628a\u8d1f\u8f7d\u5747\u5300\u5408\u7406\u5730\u5206\u53d1\u5230\u591a\u4e2a\u670d\u52a1\u5668\u4e0a\uff0c\u5b9e\u73b0\u538b\u529b\u5206\u6d41\u7684\u76ee\u7684\u3002</p> <p>\u4e3b\u8981\u914d\u7f6e\u5982\u4e0b\uff1a</p> <pre><code>nginx\n\nhttp {\n  upstream myserver {\n    # ip_hash;  # ip_hash \u65b9\u5f0f\n    # fair;   # fair \u65b9\u5f0f\n    server 127.0.0.1:8081;  # \u8d1f\u8f7d\u5747\u8861\u76ee\u7684\u670d\u52a1\u5730\u5740\n    server 127.0.0.1:8080;\n    server 127.0.0.1:8082 weight=10;  # weight \u65b9\u5f0f\uff0c\u4e0d\u5199\u9ed8\u8ba4\u4e3a 1\n  }\n\n  server {\n    location / {\n        proxy_pass http://myserver;\n      proxy_connect_timeout 10;\n    }\n  }\n}\n</code></pre> <p>Nginx \u63d0\u4f9b\u4e86\u597d\u51e0\u79cd\u5206\u914d\u65b9\u5f0f\uff0c\u9ed8\u8ba4\u4e3a**\u8f6e\u8be2**\uff0c\u5c31\u662f\u8f6e\u6d41\u6765\u3002\u6709\u4ee5\u4e0b\u51e0\u79cd\u5206\u914d\u65b9\u5f0f\uff1a</p> <ol> <li>\u8f6e\u8be2\uff0c\u9ed8\u8ba4\u65b9\u5f0f\uff0c\u6bcf\u4e2a\u8bf7\u6c42\u6309\u65f6\u95f4\u987a\u5e8f\u9010\u4e00\u5206\u914d\u5230\u4e0d\u540c\u7684\u540e\u7aef\u670d\u52a1\u5668\uff0c\u5982\u679c\u540e\u7aef\u670d\u52a1\u6302\u4e86\uff0c\u80fd\u81ea\u52a8\u5254\u9664\uff1b</li> <li>weight\uff0c\u6743\u91cd\u5206\u914d\uff0c\u6307\u5b9a\u8f6e\u8be2\u51e0\u7387\uff0c\u6743\u91cd\u8d8a\u9ad8\uff0c\u5728\u88ab\u8bbf\u95ee\u7684\u6982\u7387\u8d8a\u5927\uff0c\u7528\u4e8e\u540e\u7aef\u670d\u52a1\u5668\u6027\u80fd\u4e0d\u5747\u7684\u60c5\u51b5\uff1b</li> <li>ip_hash\uff0c\u6bcf\u4e2a\u8bf7\u6c42\u6309\u8bbf\u95ee IP \u7684 hash \u7ed3\u679c\u5206\u914d\uff0c\u8fd9\u6837\u6bcf\u4e2a\u8bbf\u5ba2\u56fa\u5b9a\u8bbf\u95ee\u4e00\u4e2a\u540e\u7aef\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u89e3\u51b3\u52a8\u6001\u7f51\u9875 session \u5171\u4eab\u95ee\u9898\u3002\u8d1f\u8f7d\u5747\u8861\u6bcf\u6b21\u8bf7\u6c42\u90fd\u4f1a\u91cd\u65b0\u5b9a\u4f4d\u5230\u670d\u52a1\u5668\u96c6\u7fa4\u4e2d\u7684\u67d0\u4e00\u4e2a\uff0c\u90a3\u4e48\u5df2\u7ecf\u767b\u5f55\u67d0\u4e00\u4e2a\u670d\u52a1\u5668\u7684\u7528\u6237\u518d\u91cd\u65b0\u5b9a\u4f4d\u5230\u53e6\u4e00\u4e2a\u670d\u52a1\u5668\uff0c\u5176\u767b\u5f55\u4fe1\u606f\u5c06\u4f1a\u4e22\u5931\uff0c\u8fd9\u6837\u663e\u7136\u662f\u4e0d\u59a5\u7684\uff1b</li> <li>fair\uff08\u7b2c\u4e09\u65b9\uff09\uff0c\u6309\u540e\u7aef\u670d\u52a1\u5668\u7684\u54cd\u5e94\u65f6\u95f4\u5206\u914d\uff0c\u54cd\u5e94\u65f6\u95f4\u77ed\u7684\u4f18\u5148\u5206\u914d\uff0c\u4f9d\u8d56\u7b2c\u4e09\u65b9\u63d2\u4ef6 nginx-upstream-fair\uff0c\u9700\u8981\u5148\u5b89\u88c5\uff1b</li> </ol>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#11","title":"11. \u914d\u7f6e\u52a8\u9759\u5206\u79bb","text":"<p>\u52a8\u9759\u5206\u79bb\u5728\u4e4b\u524d\u4e5f\u4ecb\u7ecd\u8fc7\u4e86\uff0c\u5c31\u662f\u628a\u52a8\u6001\u548c\u9759\u6001\u7684\u8bf7\u6c42\u5206\u5f00\u3002\u65b9\u5f0f\u4e3b\u8981\u6709\u4e24\u79cd\uff0c\u4e00\u79cd \u662f\u7eaf\u7cb9\u628a\u9759\u6001\u6587\u4ef6\u72ec\u7acb\u6210\u5355\u72ec\u7684\u57df\u540d\uff0c\u653e\u5728\u72ec\u7acb\u7684\u670d\u52a1\u5668\u4e0a\uff0c\u4e5f\u662f\u76ee\u524d\u4e3b\u6d41\u63a8\u5d07\u7684\u65b9\u6848\u3002\u53e6\u5916\u4e00\u79cd\u65b9\u6cd5\u5c31\u662f\u52a8\u6001\u8ddf\u9759\u6001\u6587\u4ef6\u6df7\u5408\u5728\u4e00\u8d77\u53d1\u5e03\uff0c \u901a\u8fc7 Nginx \u914d\u7f6e\u6765\u5206\u5f00\u3002</p> <p>\u901a\u8fc7 location \u6307\u5b9a\u4e0d\u540c\u7684\u540e\u7f00\u540d\u5b9e\u73b0\u4e0d\u540c\u7684\u8bf7\u6c42\u8f6c\u53d1\u3002\u901a\u8fc7 expires \u53c2\u6570\u8bbe\u7f6e\uff0c\u53ef\u4ee5\u4f7f\u6d4f\u89c8\u5668\u7f13\u5b58\u8fc7\u671f\u65f6\u95f4\uff0c\u51cf\u5c11\u4e0e\u670d\u52a1\u5668\u4e4b\u524d\u7684\u8bf7\u6c42\u548c\u6d41\u91cf\u3002\u5177\u4f53 expires \u5b9a\u4e49\uff1a\u662f\u7ed9\u4e00\u4e2a\u8d44\u6e90\u8bbe\u5b9a\u4e00\u4e2a\u8fc7\u671f\u65f6\u95f4\uff0c\u4e5f\u5c31\u662f\u8bf4\u65e0\u9700\u53bb\u670d\u52a1\u7aef\u9a8c\u8bc1\uff0c\u76f4\u63a5\u901a\u8fc7\u6d4f\u89c8\u5668\u81ea\u8eab\u786e\u8ba4\u662f\u5426\u8fc7\u671f\u5373\u53ef\uff0c\u6240\u4ee5\u4e0d\u4f1a\u4ea7\u751f\u989d\u5916\u7684\u6d41\u91cf\u3002\u6b64\u79cd\u65b9\u6cd5\u975e\u5e38\u9002\u5408\u4e0d\u7ecf\u5e38\u53d8\u52a8\u7684\u8d44\u6e90\u3002\uff08\u5982\u679c\u7ecf\u5e38\u66f4\u65b0\u7684\u6587\u4ef6\uff0c\u4e0d\u5efa\u8bae\u4f7f\u7528 expires \u6765\u7f13\u5b58\uff09\uff0c\u6211\u8fd9\u91cc\u8bbe\u7f6e 3d\uff0c\u8868\u793a\u5728\u8fd9 3 \u5929\u4e4b\u5185\u8bbf\u95ee\u8fd9\u4e2aURL\uff0c\u53d1\u9001\u4e00\u4e2a\u8bf7\u6c42\uff0c\u6bd4\u5bf9\u670d\u52a1\u5668\u8be5\u6587\u4ef6\u6700\u540e\u66f4\u65b0\u65f6\u95f4\u6ca1\u6709\u53d8\u5316\u3002\u5219\u4e0d\u4f1a\u4ece\u670d\u52a1\u5668\u6293\u53d6\uff0c\u8fd4\u56de\u72b6\u6001\u7801 304\uff0c\u5982\u679c\u6709\u4fee\u6539\uff0c\u5219\u76f4\u63a5\u4ece\u670d\u52a1\u5668\u91cd\u65b0\u4e0b\u8f7d\uff0c\u8fd4\u56de\u72b6\u6001\u7801 200\u3002</p> <pre><code>nginx\n\nserver {\n  location /www/ {\n    root /data/;\n    index index.html index.htm;\n  }\n\n  location /image/ {\n    root /data/;\n    autoindex on;\n  }\n}\n</code></pre>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#12","title":"12. \u914d\u7f6e\u9ad8\u53ef\u7528\u96c6\u7fa4\uff08\u53cc\u673a\u70ed\u5907\uff09","text":"<p>\u5f53\u4e3b Nginx \u670d\u52a1\u5668\u5b95\u673a\u4e4b\u540e\uff0c\u5207\u6362\u5230\u5907\u4efd Nginx \u670d\u52a1\u5668</p> <p></p> <p>\u9996\u5148\u5b89\u88c5 keepalived\uff0c</p> <pre><code>bash\n\nyum install keepalived -y\n</code></pre> <p>\u7136\u540e\u7f16\u8f91 <code>/etc/keepalived/keepalived.conf</code> \u914d\u7f6e\u6587\u4ef6\uff0c\u5e76\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u589e\u52a0 <code>vrrp_script</code> \u5b9a\u4e49\u4e00\u4e2a\u5916\u56f4\u68c0\u6d4b\u673a\u5236\uff0c\u5e76\u5728 <code>vrrp_instance</code> \u4e2d\u901a\u8fc7\u5b9a\u4e49 <code>track_script</code> \u6765\u8ffd\u8e2a\u811a\u672c\u6267\u884c\u8fc7\u7a0b\uff0c\u5b9e\u73b0\u8282\u70b9\u8f6c\u79fb\uff1a</p> <pre><code>json\n\nglobal_defs{\n   notification_email {\n        acassen@firewall.loc\n   }\n   notification_email_from Alexandre@firewall.loc\n   smtp_server 127.0.0.1\n   smtp_connect_timeout 30 // \u4e0a\u9762\u90fd\u662f\u90ae\u4ef6\u914d\u7f6e\uff0c\u6ca1\u5375\u7528\n   router_id LVS_DEVEL     // \u5f53\u524d\u670d\u52a1\u5668\u540d\u5b57\uff0c\u7528hostname\u547d\u4ee4\u6765\u67e5\u770b\n}\nvrrp_script chk_maintainace { // \u68c0\u6d4b\u673a\u5236\u7684\u811a\u672c\u540d\u79f0\u4e3achk_maintainace\n    script \"[[ -e/etc/keepalived/down ]] &amp;&amp; exit 1 || exit 0\" // \u53ef\u4ee5\u662f\u811a\u672c\u8def\u5f84\u6216\u811a\u672c\u547d\u4ee4\n    // script \"/etc/keepalived/nginx_check.sh\"    // \u6bd4\u5982\u8fd9\u6837\u7684\u811a\u672c\u8def\u5f84\n    interval 2  // \u6bcf\u96942\u79d2\u68c0\u6d4b\u4e00\u6b21\n    weight -20  // \u5f53\u811a\u672c\u6267\u884c\u6210\u7acb\uff0c\u90a3\u4e48\u628a\u5f53\u524d\u670d\u52a1\u5668\u4f18\u5148\u7ea7\u6539\u4e3a-20\n}\nvrrp_instanceVI_1 {   // \u6bcf\u4e00\u4e2avrrp_instance\u5c31\u662f\u5b9a\u4e49\u4e00\u4e2a\u865a\u62df\u8def\u7531\u5668\n    state MASTER      // \u4e3b\u673a\u4e3aMASTER\uff0c\u5907\u7528\u673a\u4e3aBACKUP\n    interface eth0    // \u7f51\u5361\u540d\u5b57\uff0c\u53ef\u4ee5\u4eceifconfig\u4e2d\u67e5\u627e\n    virtual_router_id 51 // \u865a\u62df\u8def\u7531\u7684id\u53f7\uff0c\u4e00\u822c\u5c0f\u4e8e255\uff0c\u4e3b\u5907\u673aid\u9700\u8981\u4e00\u6837\n    priority 100      // \u4f18\u5148\u7ea7\uff0cmaster\u7684\u4f18\u5148\u7ea7\u6bd4backup\u7684\u5927\n    advert_int 1      // \u9ed8\u8ba4\u5fc3\u8df3\u95f4\u9694\n    authentication {  // \u8ba4\u8bc1\u673a\u5236\n        auth_type PASS\n        auth_pass 1111   // \u5bc6\u7801\n    }\n    virtual_ipaddress {  // \u865a\u62df\u5730\u5740vip\n       172.16.2.8\n    }\n}\n</code></pre> <p>\u5176\u4e2d\u68c0\u6d4b\u811a\u672c <code>nginx_check.sh</code>\uff0c\u8fd9\u91cc\u63d0\u4f9b\u4e00\u4e2a\uff1a</p> <pre><code>sh\n\n#!/bin/bash\nA=`ps -C nginx --no-header | wc -l`\nif [ $A -eq 0 ];then\n    /usr/sbin/nginx # \u5c1d\u8bd5\u91cd\u65b0\u542f\u52a8nginx\n    sleep 2         # \u7761\u77202\u79d2\n    if [ `ps -C nginx --no-header | wc -l` -eq 0 ];then\n        killall keepalived # \u542f\u52a8\u5931\u8d25\uff0c\u5c06keepalived\u670d\u52a1\u6740\u6b7b\u3002\u5c06vip\u6f02\u79fb\u5230\u5176\u5b83\u5907\u4efd\u8282\u70b9\n    fi\nfi\n</code></pre> <p>\u590d\u5236\u4e00\u4efd\u5230\u5907\u4efd\u670d\u52a1\u5668\uff0c\u5907\u4efd Nginx \u7684\u914d\u7f6e\u8981\u5c06 <code>state</code> \u540e\u6539\u4e3a <code>BACKUP</code>\uff0c<code>priority</code> \u6539\u4e3a\u6bd4\u4e3b\u673a\u5c0f\u3002</p> <p>\u8bbe\u7f6e\u5b8c\u6bd5\u540e\u5404\u81ea <code>service keepalived start</code> \u542f\u52a8\uff0c\u7ecf\u8fc7\u8bbf\u95ee\u6210\u529f\u4e4b\u540e\uff0c\u53ef\u4ee5\u628a Master \u673a\u7684 keepalived \u505c\u6389\uff0c\u6b64\u65f6 Master \u673a\u5c31\u4e0d\u518d\u662f\u4e3b\u673a\u4e86 <code>service keepalived stop</code>\uff0c\u770b\u8bbf\u95ee\u865a\u62df IP \u65f6\u662f\u5426\u80fd\u591f\u81ea\u52a8\u5207\u6362\u5230\u5907\u673a <code>ip addr</code>\u3002</p> <p>\u518d\u6b21\u542f\u52a8 Master \u7684 keepalived\uff0c\u6b64\u65f6 vip \u53c8\u53d8\u5230\u4e86\u4e3b\u673a\u4e0a\u3002</p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#13-pc","title":"13. \u9002\u914d PC \u6216\u79fb\u52a8\u8bbe\u5907","text":"<p>\u6839\u636e\u7528\u6237\u8bbe\u5907\u4e0d\u540c\u8fd4\u56de\u4e0d\u540c\u6837\u5f0f\u7684\u7ad9\u70b9\uff0c\u4ee5\u524d\u7ecf\u5e38\u4f7f\u7528\u7684\u662f\u7eaf\u524d\u7aef\u7684\u81ea\u9002\u5e94\u5e03\u5c40\uff0c\u4f46\u65e0\u8bba\u662f\u590d\u6742\u6027\u548c\u6613\u7528\u6027\u4e0a\u9762\u8fd8\u662f\u4e0d\u5982\u5206\u5f00\u7f16\u5199\u7684\u597d\uff0c\u6bd4\u5982\u6211\u4eec\u5e38\u89c1\u7684\u6dd8\u5b9d\u3001\u4eac\u4e1c......\u8fd9\u4e9b\u5927\u578b\u7f51\u7ad9\u5c31\u90fd\u6ca1\u6709\u91c7\u7528\u81ea\u9002\u5e94\uff0c\u800c\u662f\u7528\u5206\u5f00\u5236\u4f5c\u7684\u65b9\u5f0f\uff0c\u6839\u636e\u7528\u6237\u8bf7\u6c42\u7684 <code>user-agent</code> \u6765\u5224\u65ad\u662f\u8fd4\u56de PC \u8fd8\u662f H5 \u7ad9\u70b9\u3002</p> <p>\u9996\u5148\u5728 <code>/usr/share/nginx/html</code> \u6587\u4ef6\u5939\u4e0b <code>mkdir</code> \u5206\u522b\u65b0\u5efa\u4e24\u4e2a\u6587\u4ef6\u5939 <code>PC</code> \u548c <code>mobile</code>\uff0c<code>vim</code> \u7f16\u8f91\u4e24\u4e2a <code>index.html</code> \u968f\u4fbf\u5199\u70b9\u5185\u5bb9\u3002</p> <pre><code>bash\n\ncd /usr/share/nginx/html\nmkdir pc mobile\ncd pc\nvim index.html   # \u968f\u4fbf\u5199\u70b9\u6bd4\u5982 hello pc!\ncd ../mobile\nvim index.html   # \u968f\u4fbf\u5199\u70b9\u6bd4\u5982 hello mobile!\n</code></pre> <p>\u7136\u540e\u548c\u8bbe\u7f6e\u4e8c\u7ea7\u57df\u540d\u865a\u62df\u4e3b\u673a\u65f6\u5019\u4e00\u6837\uff0c\u53bb <code>/etc/nginx/conf.d</code> \u6587\u4ef6\u5939\u4e0b\u65b0\u5efa\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6 <code>fe.sherlocked93.club.conf</code> \uff1a</p> <pre><code>nginx\n\n# /etc/nginx/conf.d/fe.sherlocked93.club.conf\n\nserver {\n  listen 80;\n    server_name fe.sherlocked93.club;\n\n    location / {\n        root  /usr/share/nginx/html/pc;\n    if ($http_user_agent ~* '(Android|webOS|iPhone|iPod|BlackBerry)') {\n      root /usr/share/nginx/html/mobile;\n    }\n        index index.html;\n    }\n}\n</code></pre> <p>\u914d\u7f6e\u57fa\u672c\u6ca1\u4ec0\u4e48\u4e0d\u4e00\u6837\u7684\uff0c\u4e3b\u8981\u591a\u4e86\u4e00\u4e2a <code>if</code> \u8bed\u53e5\uff0c\u7136\u540e\u4f7f\u7528 <code>$http_user_agent</code> \u5168\u5c40\u53d8\u91cf\u6765\u5224\u65ad\u7528\u6237\u8bf7\u6c42\u7684 <code>user-agent</code>\uff0c\u6307\u5411\u4e0d\u540c\u7684 root \u8def\u5f84\uff0c\u8fd4\u56de\u5bf9\u5e94\u7ad9\u70b9\u3002</p> <p>\u5728\u6d4f\u89c8\u5668\u8bbf\u95ee\u8fd9\u4e2a\u7ad9\u70b9\uff0c\u7136\u540e F12 \u4e2d\u6a21\u62df\u4f7f\u7528\u624b\u673a\u8bbf\u95ee\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\u5728\u6a21\u62df\u4f7f\u7528\u79fb\u52a8\u7aef\u8bbf\u95ee\u7684\u65f6\u5019\uff0cNginx \u8fd4\u56de\u7684\u7ad9\u70b9\u53d8\u6210\u4e86\u79fb\u52a8\u7aef\u5bf9\u5e94\u7684 html \u4e86\u3002</p>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#14-https","title":"14. \u914d\u7f6e HTTPS","text":"<p>\u5177\u4f53\u914d\u7f6e\u8fc7\u7a0b\u7f51\u4e0a\u633a\u591a\u7684\u4e86\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4f60\u8d2d\u4e70\u7684\u67d0\u67d0\u4e91\uff0c\u4e00\u822c\u90fd\u4f1a\u6709\u514d\u8d39\u7533\u8bf7\u7684\u670d\u52a1\u5668\u8bc1\u4e66\uff0c\u5b89\u88c5\u76f4\u63a5\u770b\u6240\u5728\u4e91\u7684\u64cd\u4f5c\u6307\u5357\u5373\u53ef\u3002</p> <p>\u6211\u8d2d\u4e70\u7684\u817e\u8baf\u4e91\u63d0\u4f9b\u7684\u4e9a\u6d32\u8bda\u4fe1\u673a\u6784\u9881\u53d1\u7684\u514d\u8d39\u8bc1\u4e66\u53ea\u80fd\u4e00\u4e2a\u57df\u540d\u4f7f\u7528\uff0c\u4e8c\u7ea7\u57df\u540d\u4ec0\u4e48\u7684\u9700\u8981\u53e6\u5916\u7533\u8bf7\uff0c\u4f46\u662f\u7533\u8bf7\u5ba1\u6279\u6bd4\u8f83\u5feb\uff0c\u4e00\u822c\u51e0\u5206\u949f\u5c31\u80fd\u6210\u529f\uff0c\u7136\u540e\u4e0b\u8f7d\u8bc1\u4e66\u7684\u538b\u7f29\u6587\u4ef6\uff0c\u91cc\u9762\u6709\u4e2a nginx \u6587\u4ef6\u5939\uff0c\u628a <code>xxx.crt</code> \u548c <code>xxx.key</code> \u6587\u4ef6\u62f7\u8d1d\u5230\u670d\u52a1\u5668\u76ee\u5f55\uff0c\u518d\u914d\u7f6e\u4e0b\uff1a</p> <pre><code>nginx\n\nserver {\n  listen 443 ssl http2 default_server;   # SSL \u8bbf\u95ee\u7aef\u53e3\u53f7\u4e3a 443\n  server_name sherlocked93.club;         # \u586b\u5199\u7ed1\u5b9a\u8bc1\u4e66\u7684\u57df\u540d\n\n  ssl_certificate /etc/nginx/https/1_sherlocked93.club_bundle.crt;   # \u8bc1\u4e66\u6587\u4ef6\u5730\u5740\n  ssl_certificate_key /etc/nginx/https/2_sherlocked93.club.key;      # \u79c1\u94a5\u6587\u4ef6\u5730\u5740\n  ssl_session_timeout 10m;\n\n  ssl_protocols TLSv1 TLSv1.1 TLSv1.2;      #\u8bf7\u6309\u7167\u4ee5\u4e0b\u534f\u8bae\u914d\u7f6e\n  ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; \n  ssl_prefer_server_ciphers on;\n\n  location / {\n    root         /usr/share/nginx/html;\n    index        index.html index.htm;\n  }\n}\n</code></pre> <p>\u5199\u5b8c <code>nginx -t -q</code> \u6821\u9a8c\u4e00\u4e0b\uff0c\u6ca1\u95ee\u9898\u5c31 <code>nginx -s reload</code>\uff0c\u73b0\u5728\u53bb\u8bbf\u95ee <code>https://sherlocked93.club/</code> \u5c31\u80fd\u8bbf\u95ee HTTPS \u7248\u7684\u7f51\u7ad9\u4e86\u3002</p> <p>\u4e00\u822c\u8fd8\u53ef\u4ee5\u52a0\u4e0a\u51e0\u4e2a\u589e\u5f3a\u5b89\u5168\u6027\u7684\u547d\u4ee4\uff1a</p> <pre><code>nginx\n\nadd_header X-Frame-Options DENY;           # \u51cf\u5c11\u70b9\u51fb\u52ab\u6301\nadd_header X-Content-Type-Options nosniff; # \u7981\u6b62\u670d\u52a1\u5668\u81ea\u52a8\u89e3\u6790\u8d44\u6e90\u7c7b\u578b\nadd_header X-Xss-Protection 1;             # \u9632XSS\u653b\u51fb\n</code></pre>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#15","title":"15. \u4e00\u4e9b\u5e38\u7528\u6280\u5de7","text":""},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#151","title":"15.1 \u9759\u6001\u670d\u52a1","text":"<pre><code>nginx\n\nserver {\n  listen       80;\n  server_name  static.sherlocked93.club;\n  charset utf-8;    # \u9632\u6b62\u4e2d\u6587\u6587\u4ef6\u540d\u4e71\u7801\n\n  location /download {\n    alias             /usr/share/nginx/html/static;  # \u9759\u6001\u8d44\u6e90\u76ee\u5f55\n\n    autoindex               on;    # \u5f00\u542f\u9759\u6001\u8d44\u6e90\u5217\u76ee\u5f55\n    autoindex_exact_size    off;   # on(\u9ed8\u8ba4)\u663e\u793a\u6587\u4ef6\u7684\u786e\u5207\u5927\u5c0f\uff0c\u5355\u4f4d\u662fbyte\uff1boff\u663e\u793a\u6587\u4ef6\u5927\u6982\u5927\u5c0f\uff0c\u5355\u4f4dKB\u3001MB\u3001GB\n    autoindex_localtime     off;   # off(\u9ed8\u8ba4)\u65f6\u663e\u793a\u7684\u6587\u4ef6\u65f6\u95f4\u4e3aGMT\u65f6\u95f4\uff1bon\u663e\u793a\u7684\u6587\u4ef6\u65f6\u95f4\u4e3a\u670d\u52a1\u5668\u65f6\u95f4\n  }\n}\n</code></pre>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#152","title":"15.2 \u56fe\u7247\u9632\u76d7\u94fe","text":"<pre><code>nginx\n\nserver {\n  listen       80;        \n  server_name  *.sherlocked93.club;\n\n  # \u56fe\u7247\u9632\u76d7\u94fe\n  location ~* \\.(gif|jpg|jpeg|png|bmp|swf)$ {\n    valid_referers none blocked server_names ~\\.google\\. ~\\.baidu\\. *.qq.com;  # \u53ea\u5141\u8bb8\u672c\u673a IP \u5916\u94fe\u5f15\u7528\uff0c\u611f\u8c22 @\u6728\u6cd5\u4f20 \u7684\u63d0\u9192\uff0c\u5c06\u767e\u5ea6\u548c\u8c37\u6b4c\u4e5f\u52a0\u5165\u767d\u540d\u5355\n    if ($invalid_referer){\n      return 403;\n    }\n  }\n}\n</code></pre>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#153","title":"15.3 \u8bf7\u6c42\u8fc7\u6ee4","text":"<pre><code>nginx\n\n# \u975e\u6307\u5b9a\u8bf7\u6c42\u5168\u8fd4\u56de 403\nif ( $request_method !~ ^(GET|POST|HEAD)$ ) {\n  return 403;\n}\n\nlocation / {\n  # IP\u8bbf\u95ee\u9650\u5236\uff08\u53ea\u5141\u8bb8IP\u662f 192.168.0.2 \u673a\u5668\u8bbf\u95ee\uff09\n  allow 192.168.0.2;\n  deny all;\n\n  root   html;\n  index  index.html index.htm;\n}\n</code></pre>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#154","title":"15.4 \u914d\u7f6e\u56fe\u7247\u3001\u5b57\u4f53\u7b49\u9759\u6001\u6587\u4ef6\u7f13\u5b58","text":"<p>\u7531\u4e8e\u56fe\u7247\u3001\u5b57\u4f53\u3001\u97f3\u9891\u3001\u89c6\u9891\u7b49\u9759\u6001\u6587\u4ef6\u5728\u6253\u5305\u7684\u65f6\u5019\u901a\u5e38\u4f1a\u589e\u52a0\u4e86 hash\uff0c\u6240\u4ee5\u7f13\u5b58\u53ef\u4ee5\u8bbe\u7f6e\u7684\u957f\u4e00\u70b9\uff0c\u5148\u8bbe\u7f6e\u5f3a\u5236\u7f13\u5b58\uff0c\u518d\u8bbe\u7f6e\u534f\u5546\u7f13\u5b58\uff1b\u5982\u679c\u5b58\u5728\u6ca1\u6709 hash \u503c\u7684\u9759\u6001\u6587\u4ef6\uff0c\u5efa\u8bae\u4e0d\u8bbe\u7f6e\u5f3a\u5236\u7f13\u5b58\uff0c\u4ec5\u901a\u8fc7\u534f\u5546\u7f13\u5b58\u5224\u65ad\u662f\u5426\u9700\u8981\u4f7f\u7528\u7f13\u5b58\u3002</p> <pre><code>bash\n\n# \u56fe\u7247\u7f13\u5b58\u65f6\u95f4\u8bbe\u7f6e\nlocation ~ .*\\.(css|js|jpg|png|gif|swf|woff|woff2|eot|svg|ttf|otf|mp3|m4a|aac|txt)$ {\n    expires 10d;\n}\n\n# \u5982\u679c\u4e0d\u5e0c\u671b\u7f13\u5b58\nexpires -1;\n</code></pre>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#155-history","title":"15.5 \u5355\u9875\u9762\u9879\u76ee history \u8def\u7531\u914d\u7f6e","text":"<pre><code>nginx\n\nserver {\n  listen       80;\n  server_name  fe.sherlocked93.club;\n\n  location / {\n    root       /usr/share/nginx/html/dist;  # vue \u6253\u5305\u540e\u7684\u6587\u4ef6\u5939\n    index      index.html index.htm;\n    try_files  $uri $uri/ /index.html @rewrites;  \n\n    expires -1;                          # \u9996\u9875\u4e00\u822c\u6ca1\u6709\u5f3a\u5236\u7f13\u5b58\n    add_header Cache-Control no-cache;\n  }\n\n  # \u63a5\u53e3\u8f6c\u53d1\uff0c\u5982\u679c\u9700\u8981\u7684\u8bdd\n  #location ~ ^/api {\n  #  proxy_pass http://be.sherlocked93.club;\n  #}\n\n  location @rewrites {\n    rewrite ^(.+)$ /index.html break;\n  }\n}\n</code></pre>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#156-http-https","title":"15.6 HTTP \u8bf7\u6c42\u8f6c\u53d1\u5230 HTTPS","text":"<p>\u914d\u7f6e\u5b8c HTTPS \u540e\uff0c\u6d4f\u89c8\u5668\u8fd8\u662f\u53ef\u4ee5\u8bbf\u95ee HTTP \u7684\u5730\u5740 <code>http://sherlocked93.club/</code> \u7684\uff0c\u53ef\u4ee5\u505a\u4e00\u4e2a 301 \u8df3\u8f6c\uff0c\u628a\u5bf9\u5e94\u57df\u540d\u7684 HTTP \u8bf7\u6c42\u91cd\u5b9a\u5411\u5230 HTTPS \u4e0a</p> <pre><code>nginx\n\nserver {\n    listen      80;\n    server_name www.sherlocked93.club;\n\n    # \u5355\u57df\u540d\u91cd\u5b9a\u5411\n    if ($host = 'www.sherlocked93.club'){\n        return 301 https://www.sherlocked93.club$request_uri;\n    }\n    # \u5168\u5c40\u975e https \u534f\u8bae\u65f6\u91cd\u5b9a\u5411\n    if ($scheme != 'https') {\n        return 301 https://$server_name$request_uri;\n    }\n\n    # \u6216\u8005\u5168\u90e8\u91cd\u5b9a\u5411\n    return 301 https://$server_name$request_uri;\n\n    # \u4ee5\u4e0a\u914d\u7f6e\u9009\u62e9\u81ea\u5df1\u9700\u8981\u7684\u5373\u53ef\uff0c\u4e0d\u7528\u5168\u90e8\u52a0\n}\n</code></pre>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#157","title":"15.7 \u6cdb\u57df\u540d\u8def\u5f84\u5206\u79bb","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u5b9e\u7528\u7684\u6280\u80fd\uff0c\u7ecf\u5e38\u6709\u65f6\u5019\u6211\u4eec\u53ef\u80fd\u9700\u8981\u914d\u7f6e\u4e00\u4e9b\u4e8c\u7ea7\u6216\u8005\u4e09\u7ea7\u57df\u540d\uff0c\u5e0c\u671b\u901a\u8fc7 Nginx \u81ea\u52a8\u6307\u5411\u5bf9\u5e94\u76ee\u5f55\uff0c\u6bd4\u5982\uff1a</p> <ol> <li><code>test1.doc.sherlocked93.club</code> \u81ea\u52a8\u6307\u5411 <code>/usr/share/nginx/html/doc/test1</code> \u670d\u52a1\u5668\u5730\u5740\uff1b</li> <li><code>test2.doc.sherlocked93.club</code> \u81ea\u52a8\u6307\u5411 <code>/usr/share/nginx/html/doc/test2</code> \u670d\u52a1\u5668\u5730\u5740\uff1b</li> </ol> <pre><code>nginx\n\nserver {\n    listen       80;\n    server_name  ~^([\\w-]+)\\.doc\\.sherlocked93\\.club$;\n\n    root /usr/share/nginx/html/doc/$1;\n}\n</code></pre>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#158","title":"15.8 \u6cdb\u57df\u540d\u8f6c\u53d1","text":"<p>\u548c\u4e4b\u524d\u7684\u529f\u80fd\u7c7b\u4f3c\uff0c\u6709\u65f6\u5019\u6211\u4eec\u5e0c\u671b\u628a\u4e8c\u7ea7\u6216\u8005\u4e09\u7ea7\u57df\u540d\u94fe\u63a5\u91cd\u5199\u5230\u6211\u4eec\u5e0c\u671b\u7684\u8def\u5f84\uff0c\u8ba9\u540e\u7aef\u5c31\u53ef\u4ee5\u6839\u636e\u8def\u7531\u89e3\u6790\u4e0d\u540c\u7684\u89c4\u5219\uff1a</p> <ol> <li><code>test1.serv.sherlocked93.club/api?name=a</code> \u81ea\u52a8\u8f6c\u53d1\u5230 <code>127.0.0.1:8080/test1/api?name=a</code>\uff1b</li> <li><code>test2.serv.sherlocked93.club/api?name=a</code> \u81ea\u52a8\u8f6c\u53d1\u5230 <code>127.0.0.1:8080/test2/api?name=a</code> \uff1b</li> </ol> <pre><code>nginx\n\nserver {\n    listen       80;\n    server_name ~^([\\w-]+)\\.serv\\.sherlocked93\\.club$;\n\n    location / {\n        proxy_set_header        X-Real-IP $remote_addr;\n        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header        Host $http_host;\n        proxy_set_header        X-NginX-Proxy true;\n        proxy_pass              http://127.0.0.1:8080/$1$request_uri;\n    }\n}\n</code></pre>"},{"location":"nginx/Nginx%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/#16","title":"16. \u6700\u4f73\u5b9e\u8df5","text":"<ol> <li>\u4e3a\u4e86\u4f7f Nginx \u914d\u7f6e\u66f4\u6613\u4e8e\u7ef4\u62a4\uff0c\u5efa\u8bae\u4e3a\u6bcf\u4e2a\u670d\u52a1\u521b\u5efa\u4e00\u4e2a\u5355\u72ec\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u5b58\u50a8\u5728 <code>/etc/nginx/conf.d</code> \u76ee\u5f55\uff0c\u6839\u636e\u9700\u6c42\u53ef\u4ee5\u521b\u5efa\u4efb\u610f\u591a\u4e2a\u72ec\u7acb\u7684\u914d\u7f6e\u6587\u4ef6\u3002</li> <li>\u72ec\u7acb\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u5efa\u8bae\u9075\u5faa\u4ee5\u4e0b\u547d\u540d\u7ea6\u5b9a <code>&lt;\u670d\u52a1&gt;.conf</code>\uff0c\u6bd4\u5982\u57df\u540d\u662f <code>sherlocked93.club</code>\uff0c\u90a3\u4e48\u4f60\u7684\u914d\u7f6e\u6587\u4ef6\u7684\u5e94\u8be5\u662f\u8fd9\u6837\u7684 <code>/etc/nginx/conf.d/sherlocked93.club.conf</code>\uff0c\u5982\u679c\u90e8\u7f72\u591a\u4e2a\u670d\u52a1\uff0c\u4e5f\u53ef\u4ee5\u5728\u6587\u4ef6\u540d\u4e2d\u52a0\u4e0a Nginx \u8f6c\u53d1\u7684\u7aef\u53e3\u53f7\uff0c\u6bd4\u5982 <code>sherlocked93.club.8080.conf</code>\uff0c\u5982\u679c\u662f\u4e8c\u7ea7\u57df\u540d\uff0c\u5efa\u8bae\u4e5f\u90fd\u52a0\u4e0a <code>fe.sherlocked93.club.conf</code>\u3002</li> <li>\u5e38\u7528\u7684\u3001\u590d\u7528\u9891\u7387\u6bd4\u8f83\u9ad8\u7684\u914d\u7f6e\u53ef\u4ee5\u653e\u5230 <code>/etc/nginx/snippets</code> \u6587\u4ef6\u5939\uff0c\u5728 Nginx \u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u9700\u8981\u7528\u5230\u7684\u4f4d\u7f6e include \u8fdb\u53bb\uff0c\u4ee5\u529f\u80fd\u6765\u547d\u540d\uff0c\u5e76\u5728\u6bcf\u4e2a snippet \u914d\u7f6e\u6587\u4ef6\u7684\u5f00\u5934\u6ce8\u91ca\u6807\u660e\u4e3b\u8981\u529f\u80fd\u548c\u5f15\u5165\u4f4d\u7f6e\uff0c\u65b9\u4fbf\u7ba1\u7406\u3002\u6bd4\u5982\u4e4b\u524d\u7684 <code>gzip</code>\u3001<code>cors</code> \u7b49\u5e38\u7528\u914d\u7f6e\uff0c\u6211\u90fd\u8bbe\u7f6e\u4e86 snippet\u3002</li> <li>Nginx \u65e5\u5fd7\u76f8\u5173\u76ee\u5f55\uff0c\u5185\u4ee5 <code>\u57df\u540d.type.log</code> \u547d\u540d\uff08\u6bd4\u5982 <code>be.sherlocked93.club.access.log</code> \u548c <code>be.sherlocked93.club.error.log</code> \uff09\u4f4d\u4e8e <code>/var/log/nginx/</code> \u76ee\u5f55\u4e2d\uff0c\u4e3a\u6bcf\u4e2a\u72ec\u7acb\u7684\u670d\u52a1\u914d\u7f6e\u4e0d\u540c\u7684\u8bbf\u95ee\u6743\u9650\u548c\u9519\u8bef\u65e5\u5fd7\u6587\u4ef6\uff0c\u8fd9\u6837\u67e5\u627e\u9519\u8bef\u65f6\uff0c\u4f1a\u66f4\u52a0\u65b9\u4fbf\u5feb\u6377\u3002</li> </ol> <p>\u611f\u8c22 @\u6728\u6cd5\u4f20 \u7684\u63d0\u9192\uff0cNginx \u8bbe\u7f6e\u9632\u76d7\u94fe\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u5c06\u767e\u5ea6\u548c google \u8bbe\u7f6e\u4e3a\u767d\u540d\u5355\uff0c\u5229\u4e8e SEO</p> <p>\u7f51\u4e0a\u7684\u5e16\u5b50\u5927\u591a\u6df1\u6d45\u4e0d\u4e00\uff0c\u751a\u81f3\u6709\u4e9b\u524d\u540e\u77db\u76fe\uff0c\u5728\u4e0b\u7684\u6587\u7ae0\u90fd\u662f\u5b66\u4e60\u8fc7\u7a0b\u4e2d\u7684\u603b\u7ed3\uff0c\u5982\u679c\u53d1\u73b0\u9519\u8bef\uff0c\u6b22\u8fce\u7559\u8a00\u6307\u51fa~</p> <p>\u53c2\u8003\u6587\u6863\uff1a</p> <ol> <li>Nginx\u4e2d\u6587\u6587\u6863</li> <li>Nginx\u5b89\u88c5\uff0c\u76ee\u5f55\u7ed3\u6784\u4e0e\u914d\u7f6e\u6587\u4ef6\u8be6\u89e3</li> <li>Keepalived\u5b89\u88c5\u4e0e\u914d\u7f6e</li> <li>Keepalived+Nginx\u5b9e\u73b0\u9ad8\u53ef\u7528</li> <li>Nginx\u4e0e\u524d\u7aef\u5f00\u53d1</li> <li>\u8de8\u57df\u8d44\u6e90\u5171\u4eab CORS \u8be6\u89e3 - \u962e\u4e00\u5cf0\u7684\u7f51\u7edc\u65e5\u5fd7</li> <li>\u524d\u7aef\u5f00\u53d1\u8005\u5fc5\u5907\u7684nginx\u77e5\u8bc6</li> <li>\u6211\u4e5f\u8bf4\u8bf4Nginx\u89e3\u51b3\u524d\u7aef\u8de8\u57df\u95ee\u9898\uff0c\u6b63\u786e\u7684Nginx\u8de8\u57df\u914d\u7f6e</li> <li>vue-router history\u6a21\u5f0fnginx\u914d\u7f6e\u5e76\u914d\u7f6e\u9759\u6001\u8d44\u6e90\u7f13\u5b58 | HolidayPenguin</li> <li>nginx\u91cd\u5b9a\u5411\uff0c\u5168\u5c40https\uff0cSSL\u914d\u7f6e\uff0c\u53cd\u4ee3\u914d\u7f6e\u53c2\u8003</li> <li>Nginx \u5165\u95e8\u6559\u7a0b</li> </ol>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/","title":"Nginx \u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u4f5c\u7528","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 13608  \u9605\u8bfb28\u5206\u949f</p> <ul> <li>\u89e3\u51b3\u8de8\u57df</li> <li>\u8bf7\u6c42\u8fc7\u6ee4</li> <li>\u914d\u7f6e gzip</li> <li>\u8d1f\u8f7d\u5747\u8861</li> <li>\u9759\u6001\u8d44\u6e90\u670d\u52a1\u5668</li> </ul> <p>nginx \u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684 HTTP \u548c\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u4e5f\u662f\u4e00\u4e2a\u901a\u7528\u7684 TCP/UDP \u4ee3\u7406\u670d\u52a1\u5668\uff0c\u6700\u521d\u7531\u4fc4\u7f57\u65af\u4eba Igor Sysoev \u7f16\u5199\u3002</p> <p>nginx \u73b0\u5728\u51e0\u4e4e\u662f\u4f17\u591a\u5927\u578b\u7f51\u7ad9\u7684\u5fc5\u7528\u6280\u672f\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u4eb2\u81ea\u53bb\u914d\u7f6e\u5b83\uff0c\u4f46\u662f\u4e86\u89e3\u5b83\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u6240\u62c5\u4efb\u7684\u89d2\u8272\uff0c\u4ee5\u53ca\u5982\u4f55\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u662f\u975e\u5e38\u5fc5\u8981\u7684\u3002</p> <p>\u4e0b\u9762\u6211\u5c06\u4ece nginx \u5728\u4f01\u4e1a\u4e2d\u7684\u771f\u5b9e\u5e94\u7528\u6765\u89e3\u91ca nginx \u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u8d77\u5230\u7684\u4f5c\u7528\u3002</p> <p>\u4e3a\u4e86\u4fbf\u4e8e\u7406\u89e3\uff0c\u9996\u5148\u5148\u6765\u4e86\u89e3\u4e00\u4e0b\u4e00\u4e9b\u57fa\u7840\u77e5\u8bc6\uff0c<code>nginx\u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668</code>\u90a3\u4e48\u4ec0\u4e48\u662f\u53cd\u5411\u4ee3\u7406\u5462\uff1f</p>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#_1","title":"\u6b63\u5411\u4ee3\u7406\u4e0e\u53cd\u5411\u4ee3\u7406","text":"<p>**\u4ee3\u7406**\u662f\u5728\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u4e4b\u95f4\u5047\u8bbe\u7684\u4e00\u5c42\u670d\u52a1\u5668\uff0c**\u4ee3\u7406**\u5c06\u63a5\u6536\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u5e76\u5c06\u5b83\u8f6c\u53d1\u7ed9\u670d\u52a1\u5668\uff0c\u7136\u540e\u5c06\u670d\u52a1\u7aef\u7684\u54cd\u5e94\u8f6c\u53d1\u7ed9\u5ba2\u6237\u7aef\u3002</p> <p>\u4e0d\u7ba1\u662f\u6b63\u5411\u4ee3\u7406\u8fd8\u662f\u53cd\u5411\u4ee3\u7406\uff0c\u5b9e\u73b0\u7684\u90fd\u662f\u4e0a\u9762\u7684\u529f\u80fd\u3002</p>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#_2","title":"\u6b63\u5411\u4ee3\u7406","text":"<p>\u6b63\u5411\u4ee3\u7406\uff0c\u610f\u601d\u662f\u4e00\u4e2a\u4f4d\u4e8e\u5ba2\u6237\u7aef\u548c\u539f\u59cb\u670d\u52a1\u5668(origin server)\u4e4b\u95f4\u7684\u670d\u52a1\u5668\uff0c\u4e3a\u4e86\u4ece\u539f\u59cb\u670d\u52a1\u5668\u53d6\u5f97\u5185\u5bb9\uff0c\u5ba2\u6237\u7aef\u5411\u4ee3\u7406\u53d1\u9001\u4e00\u4e2a\u8bf7\u6c42\u5e76\u6307\u5b9a\u76ee\u6807(\u539f\u59cb\u670d\u52a1\u5668)\uff0c\u7136\u540e\u4ee3\u7406\u5411\u539f\u59cb\u670d\u52a1\u5668\u8f6c\u4ea4\u8bf7\u6c42\u5e76\u5c06\u83b7\u5f97\u7684\u5185\u5bb9\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002</p> <p>**\u6b63\u5411\u4ee3\u7406**\u662f\u4e3a\u6211\u4eec\u670d\u52a1\u7684\uff0c\u5373\u4e3a\u5ba2\u6237\u7aef\u670d\u52a1\u7684\uff0c\u5ba2\u6237\u7aef\u53ef\u4ee5\u6839\u636e\u6b63\u5411\u4ee3\u7406\u8bbf\u95ee\u5230\u5b83\u672c\u8eab\u65e0\u6cd5\u8bbf\u95ee\u5230\u7684\u670d\u52a1\u5668\u8d44\u6e90\u3002</p> <p>**\u6b63\u5411\u4ee3\u7406**\u5bf9\u6211\u4eec\u662f\u900f\u660e\u7684\uff0c\u5bf9\u670d\u52a1\u7aef\u662f\u975e\u900f\u660e\u7684\uff0c\u5373\u670d\u52a1\u7aef\u5e76\u4e0d\u77e5\u9053\u81ea\u5df1\u6536\u5230\u7684\u662f\u6765\u81ea\u4ee3\u7406\u7684\u8bbf\u95ee\u8fd8\u662f\u6765\u81ea\u771f\u5b9e\u5ba2\u6237\u7aef\u7684\u8bbf\u95ee\u3002</p>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#_3","title":"\u53cd\u5411\u4ee3\u7406","text":"<p>\u53cd\u5411\u4ee3\u7406\uff08Reverse Proxy\uff09\u65b9\u5f0f\u662f\u6307\u4ee5\u4ee3\u7406\u670d\u52a1\u5668\u6765\u63a5\u53d7 internet \u4e0a\u7684\u8fde\u63a5\u8bf7\u6c42\uff0c\u7136\u540e\u5c06\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u5185\u90e8\u7f51\u7edc\u4e0a\u7684\u670d\u52a1\u5668\uff0c\u5e76\u5c06\u4ece\u670d\u52a1\u5668\u4e0a\u5f97\u5230\u7684\u7ed3\u679c\u8fd4\u56de\u7ed9 internet \u4e0a\u8bf7\u6c42\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\uff0c\u6b64\u65f6\u4ee3\u7406\u670d\u52a1\u5668\u5bf9\u5916\u5c31\u8868\u73b0\u4e3a\u4e00\u4e2a\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\u3002</p> <p>**\u53cd\u5411\u4ee3\u7406**\u662f\u4e3a\u670d\u52a1\u7aef\u670d\u52a1\u7684\uff0c\u53cd\u5411\u4ee3\u7406\u53ef\u4ee5\u5e2e\u52a9\u670d\u52a1\u5668\u63a5\u6536\u6765\u81ea\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\uff0c\u5e2e\u52a9\u670d\u52a1\u5668\u505a\u8bf7\u6c42\u8f6c\u53d1\uff0c\u8d1f\u8f7d\u5747\u8861\u7b49\u3002</p> <p>**\u53cd\u5411\u4ee3\u7406**\u5bf9\u670d\u52a1\u7aef\u662f\u900f\u660e\u7684\uff0c\u5bf9\u6211\u4eec\u662f\u975e\u900f\u660e\u7684\uff0c\u5373\u6211\u4eec\u5e76\u4e0d\u77e5\u9053\u81ea\u5df1\u8bbf\u95ee\u7684\u662f\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u800c\u670d\u52a1\u5668\u77e5\u9053\u53cd\u5411\u4ee3\u7406\u5728\u4e3a\u4ed6\u670d\u52a1\u3002 \u56fe\u7247\u63cf\u8ff0</p>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#_4","title":"\u57fa\u672c\u914d\u7f6e","text":""},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#_5","title":"\u914d\u7f6e\u7ed3\u6784","text":"<p>\u4e0b\u9762\u662f\u4e00\u4e2a nginx \u914d\u7f6e\u6587\u4ef6\u7684\u57fa\u672c\u7ed3\u6784\uff1a</p> <pre><code>events {\n\n}\n\nhttp\n{\n    server\n    {\n        location path\n        {\n            ...\n        }\n        location path\n        {\n            ...\n        }\n     }\n\n    server\n    {\n        ...\n    }\n\n}\n</code></pre> <ul> <li><code>main</code>:nginx \u7684\u5168\u5c40\u914d\u7f6e\uff0c\u5bf9\u5168\u5c40\u751f\u6548\u3002</li> <li><code>events</code>:\u914d\u7f6e\u5f71\u54cd nginx \u670d\u52a1\u5668\u6216\u4e0e\u7528\u6237\u7684\u7f51\u7edc\u8fde\u63a5\u3002</li> <li><code>http</code>\uff1a\u53ef\u4ee5\u5d4c\u5957\u591a\u4e2a server\uff0c\u914d\u7f6e\u4ee3\u7406\uff0c\u7f13\u5b58\uff0c\u65e5\u5fd7\u5b9a\u4e49\u7b49\u7edd\u5927\u591a\u6570\u529f\u80fd\u548c\u7b2c\u4e09\u65b9\u6a21\u5757\u7684\u914d\u7f6e\u3002</li> <li><code>server</code>\uff1a\u914d\u7f6e\u865a\u62df\u4e3b\u673a\u7684\u76f8\u5173\u53c2\u6570\uff0c\u4e00\u4e2a http \u4e2d\u53ef\u4ee5\u6709\u591a\u4e2a server\u3002</li> <li><code>location</code>\uff1a\u914d\u7f6e\u8bf7\u6c42\u7684\u8def\u7531\uff0c\u4ee5\u53ca\u5404\u79cd\u9875\u9762\u7684\u5904\u7406\u60c5\u51b5\u3002</li> <li><code>upstream</code>\uff1a\u914d\u7f6e\u540e\u7aef\u670d\u52a1\u5668\u5177\u4f53\u5730\u5740\uff0c\u8d1f\u8f7d\u5747\u8861\u914d\u7f6e\u4e0d\u53ef\u6216\u7f3a\u7684\u90e8\u5206\u3002</li> </ul>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#_6","title":"\u5185\u7f6e\u53d8\u91cf","text":"<p>\u4e0b\u9762\u662f<code>nginx</code>\u4e00\u4e9b\u914d\u7f6e\u4e2d\u5e38\u7528\u7684\u5185\u7f6e\u5168\u5c40\u53d8\u91cf\uff0c\u4f60\u53ef\u4ee5\u5728\u914d\u7f6e\u7684\u4efb\u4f55\u4f4d\u7f6e\u4f7f\u7528\u5b83\u4eec\u3002</p> \u53d8\u91cf\u540d \u529f\u80fd <code>$host</code> \u8bf7\u6c42\u4fe1\u606f\u4e2d\u7684<code>Host</code>\uff0c\u5982\u679c\u8bf7\u6c42\u4e2d\u6ca1\u6709<code>Host</code>\u884c\uff0c\u5219\u7b49\u4e8e\u8bbe\u7f6e\u7684\u670d\u52a1\u5668\u540d <code>$request_method</code> \u5ba2\u6237\u7aef\u8bf7\u6c42\u7c7b\u578b\uff0c\u5982<code>GET</code>\u3001<code>POST</code> <code>$remote_addr</code> \u5ba2\u6237\u7aef\u7684<code>IP</code>\u5730\u5740 <code>$args</code> \u8bf7\u6c42\u4e2d\u7684\u53c2\u6570 <code>$content_length</code> \u8bf7\u6c42\u5934\u4e2d\u7684<code>Content-length</code>\u5b57\u6bb5 <code>$http_user_agent</code> \u5ba2\u6237\u7aef agent \u4fe1\u606f <code>$http_cookie</code> \u5ba2\u6237\u7aef cookie \u4fe1\u606f <code>$remote_addr</code> \u5ba2\u6237\u7aef\u7684 IP \u5730\u5740 <code>$remote_port</code> \u5ba2\u6237\u7aef\u7684\u7aef\u53e3 <code>$server_protocol</code> \u8bf7\u6c42\u4f7f\u7528\u7684\u534f\u8bae\uff0c\u5982<code>HTTP/1.0</code>\u3001\u00b7HTTP/1.1` <code>$\u670d\u52a1\u5668\u5730\u5740server_addr</code> \u670d\u52a1\u5668\u5730\u5740 <code>$server_name</code> \u670d\u52a1\u5668\u540d\u79f0 <code>$server_port</code> \u670d\u52a1\u5668\u7684\u7aef\u53e3\u53f7"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#_7","title":"\u89e3\u51b3\u8de8\u57df","text":"<p>\u5148\u8ffd\u672c\u6eaf\u6e90\u4ee5\u4e0b\uff0c\u8de8\u57df\u7a76\u7adf\u662f\u600e\u4e48\u56de\u4e8b\u3002</p>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#_8","title":"\u8de8\u57df\u7684\u5b9a\u4e49","text":"<p>\u540c\u6e90\u7b56\u7565\u9650\u5236\u4e86\u4ece\u540c\u4e00\u4e2a\u6e90\u52a0\u8f7d\u7684\u6587\u6863\u6216\u811a\u672c\u5982\u4f55\u4e0e\u6765\u81ea\u53e6\u4e00\u4e2a\u6e90\u7684\u8d44\u6e90\u8fdb\u884c\u4ea4\u4e92\u3002\u8fd9\u662f\u4e00\u4e2a\u7528\u4e8e\u9694\u79bb\u6f5c\u5728\u6076\u610f\u6587\u4ef6\u7684\u91cd\u8981\u5b89\u5168\u673a\u5236\u3002\u901a\u5e38\u4e0d\u5141\u8bb8\u4e0d\u540c\u6e90\u95f4\u7684\u8bfb\u64cd\u4f5c\u3002</p>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#_9","title":"\u540c\u6e90\u7684\u5b9a\u4e49","text":"<p>\u5982\u679c\u4e24\u4e2a\u9875\u9762\u7684\u534f\u8bae\uff0c\u7aef\u53e3\uff08\u5982\u679c\u6709\u6307\u5b9a\uff09\u548c\u57df\u540d\u90fd\u76f8\u540c\uff0c\u5219\u4e24\u4e2a\u9875\u9762\u5177\u6709\u76f8\u540c\u7684\u6e90\u3002</p> <p></p>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#nginx_1","title":"nginx \u89e3\u51b3\u8de8\u57df\u7684\u539f\u7406","text":"<p>\u4f8b\u5982\uff1a</p> <ul> <li>\u524d\u7aef server \u7684\u57df\u540d\u4e3a\uff1a<code>fe.server.com</code></li> <li>\u540e\u7aef\u670d\u52a1\u7684\u57df\u540d\u4e3a\uff1a<code>dev.server.com</code></li> </ul> <p>\u73b0\u5728\u6211\u5728<code>fe.server.com</code>\u5bf9<code>dev.server.com</code>\u53d1\u8d77\u8bf7\u6c42\u4e00\u5b9a\u4f1a\u51fa\u73b0\u8de8\u57df\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u53ea\u9700\u8981\u542f\u52a8\u4e00\u4e2a nginx \u670d\u52a1\u5668\uff0c\u5c06<code>server_name</code>\u8bbe\u7f6e\u4e3a<code>fe.server.com</code>,\u7136\u540e\u8bbe\u7f6e\u76f8\u5e94\u7684 location \u4ee5\u62e6\u622a\u524d\u7aef\u9700\u8981\u8de8\u57df\u7684\u8bf7\u6c42\uff0c\u6700\u540e\u5c06\u8bf7\u6c42\u4ee3\u7406\u56de<code>dev.server.com</code>\u3002\u5982\u4e0b\u9762\u7684\u914d\u7f6e\uff1a</p> <pre><code>server {\n        listen       80;\n        server_name  fe.server.com;\n        location / {\n                proxy_pass dev.server.com;\n        }\n}\n</code></pre> <p>\u8fd9\u6837\u53ef\u4ee5\u5b8c\u7f8e\u7ed5\u8fc7\u6d4f\u89c8\u5668\u7684\u540c\u6e90\u7b56\u7565\uff1a<code>fe.server.com</code>\u8bbf\u95ee<code>nginx</code>\u7684<code>fe.server.com</code>\u5c5e\u4e8e\u540c\u6e90\u8bbf\u95ee\uff0c\u800c<code>nginx</code>\u5bf9\u670d\u52a1\u7aef\u8f6c\u53d1\u7684\u8bf7\u6c42\u4e0d\u4f1a\u89e6\u53d1\u6d4f\u89c8\u5668\u7684\u540c\u6e90\u7b56\u7565\u3002</p>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#_10","title":"\u8bf7\u6c42\u8fc7\u6ee4","text":"<p>\u6839\u636e\u72b6\u6001\u7801\u8fc7\u6ee4</p> <pre><code>error_page 500 501 502 503 504 506 /50x.html;\n    location = /50x.html {\n        #\u5c06\u8ddf\u8def\u5f84\u6539\u7f16\u4e3a\u5b58\u653ehtml\u7684\u8def\u5f84\u3002\n        root /root/static/html;\n    }\n</code></pre> <p>\u6839\u636e URL \u540d\u79f0\u8fc7\u6ee4\uff0c\u7cbe\u51c6\u5339\u914d URL\uff0c\u4e0d\u5339\u914d\u7684 URL \u5168\u90e8\u91cd\u5b9a\u5411\u5230\u4e3b\u9875\u3002</p> <pre><code>location / {\n    rewrite  ^.*$ /index.html  redirect;\n}\n</code></pre> <p>\u6839\u636e\u8bf7\u6c42\u7c7b\u578b\u8fc7\u6ee4\u3002</p> <pre><code>if ( $request_method !~ ^(GET|POST|HEAD)$ ) {\n        return 403;\n    }\n</code></pre> <p>\u63a8\u8350\u5927\u5bb6\u4f7f\u7528Fundebug\uff0c\u4e00\u6b3e\u5f88\u597d\u7528\u7684 BUG \u76d1\u63a7\u5de5\u5177~</p>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#gzip","title":"\u914d\u7f6e gzip","text":"<p><code>GZIP</code>\u662f\u89c4\u5b9a\u7684\u4e09\u79cd\u6807\u51c6 HTTP \u538b\u7f29\u683c\u5f0f\u4e4b\u4e00\u3002\u76ee\u524d\u7edd\u5927\u591a\u6570\u7684\u7f51\u7ad9\u90fd\u5728\u4f7f\u7528<code>GZIP</code>\u4f20\u8f93 <code>HTML</code>\u3001<code>CSS</code>\u3001<code>JavaScript</code> \u7b49\u8d44\u6e90\u6587\u4ef6\u3002</p> <p>\u5bf9\u4e8e\u6587\u672c\u6587\u4ef6\uff0c<code>GZip</code> \u7684\u6548\u679c\u975e\u5e38\u660e\u663e\uff0c\u5f00\u542f\u540e\u4f20\u8f93\u6240\u9700\u6d41\u91cf\u5927\u7ea6\u4f1a\u964d\u81f3 <code>1/4 ~ 1/3</code>\u3002</p> <p>\u5e76\u4e0d\u662f\u6bcf\u4e2a\u6d4f\u89c8\u5668\u90fd\u652f\u6301<code>gzip</code>\u7684\uff0c\u5982\u4f55\u77e5\u9053\u5ba2\u6237\u7aef\u662f\u5426\u652f\u6301<code>gzip</code>\u5462\uff0c\u8bf7\u6c42\u5934\u4e2d\u7684<code>Accept-Encoding</code>\u6765\u6807\u8bc6\u5bf9\u538b\u7f29\u7684\u652f\u6301\u3002</p> <p></p> <p>\u542f\u7528<code>gzip</code>\u540c\u65f6\u9700\u8981\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u7684\u652f\u6301\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u652f\u6301<code>gzip</code>\u7684\u89e3\u6790\uff0c\u90a3\u4e48\u53ea\u8981\u670d\u52a1\u7aef\u80fd\u591f\u8fd4\u56de<code>gzip</code>\u7684\u6587\u4ef6\u5c31\u53ef\u4ee5\u542f\u7528<code>gzip</code>\u4e86,\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7<code>nginx</code>\u7684\u914d\u7f6e\u6765\u8ba9\u670d\u52a1\u7aef\u652f\u6301<code>gzip</code>\u3002\u4e0b\u9762\u7684<code>respone</code>\u4e2d<code>content-encoding:gzip</code>\uff0c\u6307\u670d\u52a1\u7aef\u5f00\u542f\u4e86<code>gzip</code>\u7684\u538b\u7f29\u65b9\u5f0f\u3002</p> <p></p> <pre><code>    gzip                    on;\n    gzip_http_version       1.1;\n    gzip_comp_level         5;\n    gzip_min_length         1000;\n    gzip_types text/csv text/xml text/css text/plain text/javascript application/javascript application/x-javascript application/json application/xml;\n</code></pre>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#gzip_1","title":"gzip","text":"<ul> <li>\u5f00\u542f\u6216\u8005\u5173\u95ed<code>gzip</code>\u6a21\u5757</li> <li>\u9ed8\u8ba4\u503c\u4e3a<code>off</code></li> <li>\u53ef\u914d\u7f6e\u4e3a<code>on / off</code></li> </ul>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#gzip_http_version","title":"gzip_http_version","text":"<ul> <li>\u542f\u7528 <code>GZip</code> \u6240\u9700\u7684<code>HTTP</code> \u6700\u4f4e\u7248\u672c</li> <li>\u9ed8\u8ba4\u503c\u4e3a<code>HTTP/1.1</code></li> </ul> <p>\u8fd9\u91cc\u4e3a\u4ec0\u4e48\u9ed8\u8ba4\u7248\u672c\u4e0d\u662f<code>1.0</code>\u5462\uff1f</p> <p><code>HTTP</code> \u8fd0\u884c\u5728<code>TCP</code> \u8fde\u63a5\u4e4b\u4e0a\uff0c\u81ea\u7136\u4e5f\u6709\u7740\u8ddf<code>TCP</code> \u4e00\u6837\u7684\u4e09\u6b21\u63e1\u624b\u3001\u6162\u542f\u52a8\u7b49\u7279\u6027\u3002</p> <p>\u542f\u7528\u6301\u4e45\u8fde\u63a5\u60c5\u51b5\u4e0b\uff0c\u670d\u52a1\u5668\u53d1\u51fa\u54cd\u5e94\u540e\u8ba9<code>TCP</code>\u8fde\u63a5\u7ee7\u7eed\u6253\u5f00\u7740\u3002\u540c\u4e00\u5bf9\u5ba2\u6237/\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u540e\u7eed\u8bf7\u6c42\u548c\u54cd\u5e94\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u8fde\u63a5\u53d1\u9001\u3002</p> <p></p> <p>\u4e3a\u4e86\u5c3d\u53ef\u80fd\u7684\u63d0\u9ad8 <code>HTTP</code> \u6027\u80fd\uff0c\u4f7f\u7528\u6301\u4e45\u8fde\u63a5\u5c31\u663e\u5f97\u5c24\u4e3a\u91cd\u8981\u4e86\u3002</p> <p><code>HTTP/1.1</code>\u9ed8\u8ba4\u652f\u6301<code>TCP</code>\u6301\u4e45\u8fde\u63a5\uff0c<code>HTTP/1.0</code> \u4e5f\u53ef\u4ee5\u901a\u8fc7\u663e\u5f0f\u6307\u5b9a <code>Connection: keep-alive</code> \u6765\u542f\u7528\u6301\u4e45\u8fde\u63a5\u3002\u5bf9\u4e8e<code>TCP</code>\u6301\u4e45\u8fde\u63a5\u4e0a\u7684<code>HTTP</code> \u62a5\u6587\uff0c\u5ba2\u6237\u7aef\u9700\u8981\u4e00\u79cd\u673a\u5236\u6765\u51c6\u786e\u5224\u65ad\u7ed3\u675f\u4f4d\u7f6e\uff0c\u800c\u5728 <code>HTTP/1.0</code>\u4e2d\uff0c\u8fd9\u79cd\u673a\u5236\u53ea\u6709<code>Content-Length</code>\u3002\u800c\u5728<code>HTTP/1.1</code>\u4e2d\u65b0\u589e\u7684 <code>Transfer-Encoding: chunked</code> \u6240\u5bf9\u5e94\u7684\u5206\u5757\u4f20\u8f93\u673a\u5236\u53ef\u4ee5\u5b8c\u7f8e\u89e3\u51b3\u8fd9\u7c7b\u95ee\u9898\u3002</p> <p><code>nginx</code>\u540c\u6837\u6709\u7740\u914d\u7f6e<code>chunked\u7684</code>\u5c5e\u6027<code>chunked_transfer_encoding</code>\uff0c\u8fd9\u4e2a\u5c5e\u6027\u662f\u9ed8\u8ba4\u5f00\u542f\u7684\u3002</p> <p><code>Nginx</code>\u5728\u542f\u7528\u4e86<code>GZip</code>\u7684\u60c5\u51b5\u4e0b\uff0c\u4e0d\u4f1a\u7b49\u6587\u4ef6 <code>GZip</code> \u5b8c\u6210\u518d\u8fd4\u56de\u54cd\u5e94\uff0c\u800c\u662f\u8fb9\u538b\u7f29\u8fb9\u54cd\u5e94\uff0c\u8fd9\u6837\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8 <code>TTFB</code>(<code>Time To First Byte</code>\uff0c\u9996\u5b57\u8282\u65f6\u95f4\uff0cWEB \u6027\u80fd\u4f18\u5316\u91cd\u8981\u6307\u6807)\u3002\u8fd9\u6837\u552f\u4e00\u7684\u95ee\u9898\u662f\uff0c<code>Nginx</code> \u5f00\u59cb\u8fd4\u56de\u54cd\u5e94\u65f6\uff0c\u5b83\u65e0\u6cd5\u77e5\u9053\u5c06\u8981\u4f20\u8f93\u7684\u6587\u4ef6\u6700\u7ec8\u6709\u591a\u5927\uff0c\u4e5f\u5c31\u662f\u65e0\u6cd5\u7ed9\u51fa<code>Content-Length</code>\u8fd9\u4e2a\u54cd\u5e94\u5934\u90e8\u3002</p> <p>\u6240\u4ee5\uff0c\u5728<code>HTTP1.0</code>\u4e2d\u5982\u679c\u5229\u7528<code>Nginx</code>\u542f\u7528\u4e86<code>GZip</code>\uff0c\u662f\u65e0\u6cd5\u83b7\u5f97<code>Content-Length</code>\u7684\uff0c\u8fd9\u5bfc\u81f4 HTTP1.0 \u4e2d\u5f00\u542f\u6301\u4e45\u94fe\u63a5\u548c\u4f7f\u7528<code>GZip</code>\u53ea\u80fd\u4e8c\u9009\u4e00\uff0c\u6240\u4ee5\u5728\u8fd9\u91cc<code>gzip_http_version</code>\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a<code>1.1</code>\u3002</p>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#gzip_comp_level","title":"gzip_comp_level","text":"<ul> <li>\u538b\u7f29\u7ea7\u522b\uff0c\u7ea7\u522b\u8d8a\u9ad8\u538b\u7f29\u7387\u8d8a\u5927\uff0c\u5f53\u7136\u538b\u7f29\u65f6\u95f4\u4e5f\u5c31\u8d8a\u957f\uff08\u4f20\u8f93\u5feb\u4f46\u6bd4\u8f83\u6d88\u8017 cpu\uff09\u3002</li> <li>\u9ed8\u8ba4\u503c\u4e3a <code>1</code></li> <li>\u538b\u7f29\u7ea7\u522b\u53d6\u503c\u4e3a<code>1-9</code></li> </ul>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#gzip_min_length","title":"gzip_min_length","text":"<ul> <li>\u8bbe\u7f6e\u5141\u8bb8\u538b\u7f29\u7684\u9875\u9762\u6700\u5c0f\u5b57\u8282\u6570\uff0c<code>Content-Length</code>\u5c0f\u4e8e\u8be5\u503c\u7684\u8bf7\u6c42\u5c06\u4e0d\u4f1a\u88ab\u538b\u7f29</li> <li>\u9ed8\u8ba4\u503c:<code>0</code></li> <li>\u5f53\u8bbe\u7f6e\u7684\u503c\u8f83\u5c0f\u65f6\uff0c\u538b\u7f29\u540e\u7684\u957f\u5ea6\u53ef\u80fd\u6bd4\u539f\u6587\u4ef6\u5927\uff0c\u5efa\u8bae\u8bbe\u7f6e<code>1000</code>\u4ee5\u4e0a</li> </ul>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#gzip_types","title":"gzip_types","text":"<ul> <li>\u8981\u91c7\u7528 gzip \u538b\u7f29\u7684\u6587\u4ef6\u7c7b\u578b(<code>MIME</code>\u7c7b\u578b)</li> <li>\u9ed8\u8ba4\u503c:<code>text/html</code>(\u9ed8\u8ba4\u4e0d\u538b\u7f29<code>js</code>/<code>css</code>)</li> </ul>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#_11","title":"\u8d1f\u8f7d\u5747\u8861","text":""},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#_12","title":"\u4ec0\u4e48\u662f\u8d1f\u8f7d\u5747\u8861","text":"<p>\u5982\u4e0a\u9762\u7684\u56fe\uff0c\u524d\u9762\u662f\u4f17\u591a\u7684\u670d\u52a1\u7a97\u53e3\uff0c\u4e0b\u9762\u6709\u5f88\u591a\u7528\u6237\u9700\u8981\u670d\u52a1\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u5de5\u5177\u6216\u7b56\u7565\u6765\u5e2e\u52a9\u6211\u4eec\u5c06\u5982\u6b64\u591a\u7684\u7528\u6237\u5206\u914d\u5230\u6bcf\u4e2a\u7a97\u53e3\uff0c\u6765\u8fbe\u5230\u8d44\u6e90\u7684\u5145\u5206\u5229\u7528\u4ee5\u53ca\u66f4\u5c11\u7684\u6392\u961f\u65f6\u95f4\u3002</p> <p>\u628a\u524d\u9762\u7684\u670d\u52a1\u7a97\u53e3\u60f3\u50cf\u6210\u6211\u4eec\u7684\u540e\u7aef\u670d\u52a1\u5668\uff0c\u800c\u540e\u9762\u7ec8\u7aef\u7684\u4eba\u5219\u662f\u65e0\u6570\u4e2a\u5ba2\u6237\u7aef\u6b63\u5728\u53d1\u8d77\u8bf7\u6c42\u3002\u8d1f\u8f7d\u5747\u8861\u5c31\u662f\u7528\u6765\u5e2e\u52a9\u6211\u4eec\u5c06\u4f17\u591a\u7684\u5ba2\u6237\u7aef\u8bf7\u6c42\u5408\u7406\u7684\u5206\u914d\u5230\u5404\u4e2a\u670d\u52a1\u5668\uff0c\u4ee5\u8fbe\u5230\u670d\u52a1\u7aef\u8d44\u6e90\u7684\u5145\u5206\u5229\u7528\u548c\u66f4\u5c11\u7684\u8bf7\u6c42\u65f6\u95f4\u3002</p>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#nginx_2","title":"nginx \u5982\u4f55\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861","text":"<p>Upstream \u6307\u5b9a\u540e\u7aef\u670d\u52a1\u5668\u5730\u5740\u5217\u8868</p> <pre><code>upstream balanceServer {\n    server 10.1.22.33:12345;\n    server 10.1.22.34:12345;\n    server 10.1.22.35:12345;\n}\n</code></pre> <p>\u5728 server \u4e2d\u62e6\u622a\u54cd\u5e94\u8bf7\u6c42\uff0c\u5e76\u5c06\u8bf7\u6c42\u8f6c\u53d1\u5230 Upstream \u4e2d\u914d\u7f6e\u7684\u670d\u52a1\u5668\u5217\u8868\u3002</p> <pre><code>    server {\n        server_name  fe.server.com;\n        listen 80;\n        location /api {\n            proxy_pass http://balanceServer;\n        }\n    }\n</code></pre> <p>\u4e0a\u9762\u7684\u914d\u7f6e\u53ea\u662f\u6307\u5b9a\u4e86 nginx \u9700\u8981\u8f6c\u53d1\u7684\u670d\u52a1\u7aef\u5217\u8868\uff0c\u5e76\u6ca1\u6709\u6307\u5b9a\u5206\u914d\u7b56\u7565\u3002</p>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#nginx_3","title":"nginx \u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u7684\u7b56\u7565","text":"<p>\u8f6e\u8be2\u7b56\u7565</p> <p></p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u91c7\u7528\u7684\u7b56\u7565\uff0c\u5c06\u6240\u6709\u5ba2\u6237\u7aef\u8bf7\u6c42\u8f6e\u8be2\u5206\u914d\u7ed9\u670d\u52a1\u7aef\u3002\u8fd9\u79cd\u7b56\u7565\u662f\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\u7684\uff0c\u4f46\u662f\u5982\u679c\u5176\u4e2d\u67d0\u4e00\u53f0\u670d\u52a1\u5668\u538b\u529b\u592a\u5927\uff0c\u51fa\u73b0\u5ef6\u8fdf\uff0c\u4f1a\u5f71\u54cd\u6240\u6709\u5206\u914d\u5728\u8fd9\u53f0\u670d\u52a1\u5668\u4e0b\u7684\u7528\u6237\u3002</p> <pre><code>upstream balanceServer {\n    server 10.1.22.33:12345;\n    server 10.1.22.34:12345;\n    server 10.1.22.35:12345;\n}\n</code></pre> <p>\u6700\u5c0f\u8fde\u63a5\u6570\u7b56\u7565</p> <p></p> <p>\u5c06\u8bf7\u6c42\u4f18\u5148\u5206\u914d\u7ed9\u538b\u529b\u8f83\u5c0f\u7684\u670d\u52a1\u5668\uff0c\u5b83\u53ef\u4ee5\u5e73\u8861\u6bcf\u4e2a\u961f\u5217\u7684\u957f\u5ea6\uff0c\u5e76\u907f\u514d\u5411\u538b\u529b\u5927\u7684\u670d\u52a1\u5668\u6dfb\u52a0\u66f4\u591a\u7684\u8bf7\u6c42\u3002</p> <pre><code>upstream balanceServer {\n    least_conn;\n    server 10.1.22.33:12345;\n    server 10.1.22.34:12345;\n    server 10.1.22.35:12345;\n}\n</code></pre> <p>\u6700\u5feb\u54cd\u5e94\u65f6\u95f4\u7b56\u7565</p> <p></p> <p>\u4f9d\u8d56\u4e8e NGINX Plus\uff0c\u4f18\u5148\u5206\u914d\u7ed9\u54cd\u5e94\u65f6\u95f4\u6700\u77ed\u7684\u670d\u52a1\u5668\u3002</p> <pre><code>upstream balanceServer {\n    fair;\n    server 10.1.22.33:12345;\n    server 10.1.22.34:12345;\n    server 10.1.22.35:12345;\n}\n</code></pre> <p>\u5ba2\u6237\u7aef ip \u7ed1\u5b9a</p> <p>\u6765\u81ea\u540c\u4e00\u4e2a ip \u7684\u8bf7\u6c42\u6c38\u8fdc\u53ea\u5206\u914d\u4e00\u53f0\u670d\u52a1\u5668\uff0c\u6709\u6548\u89e3\u51b3\u4e86\u52a8\u6001\u7f51\u9875\u5b58\u5728\u7684 session \u5171\u4eab\u95ee\u9898\u3002</p> <pre><code>upstream balanceServer {\n    ip_hash;\n    server 10.1.22.33:12345;\n    server 10.1.22.34:12345;\n    server 10.1.22.35:12345;\n}\n</code></pre>"},{"location":"nginx/Nginx%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/#_13","title":"\u9759\u6001\u8d44\u6e90\u670d\u52a1\u5668","text":"<pre><code>location ~* \\.(png|gif|jpg|jpeg)$ {\n    root    /root/static/;\n    autoindex on;\n    access_log  off;\n    expires     10h;# \u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u4e3a10\u5c0f\u65f6\n}\n</code></pre> <p>\u5339\u914d\u4ee5<code>png|gif|jpg|jpeg</code>\u4e3a\u7ed3\u5c3e\u7684\u8bf7\u6c42\uff0c\u5e76\u5c06\u8bf7\u6c42\u8f6c\u53d1\u5230\u672c\u5730\u8def\u5f84\uff0c<code>root</code>\u4e2d\u6307\u5b9a\u7684\u8def\u5f84\u5373 nginx \u672c\u5730\u8def\u5f84\u3002\u540c\u65f6\u4e5f\u53ef\u4ee5\u8fdb\u884c\u4e00\u4e9b\u7f13\u5b58\u7684\u8bbe\u7f6e\u3002</p> <p>\u94fe\u63a5\uff1ahttps://www.jianshu.com/p/bd652a2a8bea</p>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/","title":"nginx \u7684\u7528\u6cd5","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 19577  \u9605\u8bfb40\u5206\u949f</p>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#_1","title":"\u7b80\u4ecb","text":"<p>Nginx\uff08\u53d1\u97f3/engine x/\uff09\u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u5f00\u6e90 HTTP \u670d\u52a1\u5668\u8f6f\u4ef6\uff0c\u53ef\u4ee5\u7528\u6765\u53d6\u4ee3 Apache\uff0c\u6216\u8005\u4e0e Apache \u914d\u5408\u4f7f\u7528\u3002</p> <p>\u5b83\u4e0e Apache \u7684\u533a\u522b\u5728\u4e8e\uff1a\u5b83\u7684\u8bbe\u8ba1\u57fa\u4e8e\u4e8b\u4ef6\u548c\u5f02\u6b65\u64cd\u4f5c\uff0c\u800c Apache \u5b8c\u5168\u4f9d\u8d56\u7ebf\u7a0b\u3002\u5f53\u8bbf\u95ee\u91cf\u5f88\u5927\u7684\u65f6\u5019\uff0c\u5927\u91cf\u65b0\u589e\u7684\u7ebf\u7a0b \u5f88\u5feb\u4f1a\u8017\u5c3d\u5185\u5b58\uff0c\u800c\u57fa\u4e8e\u4e8b\u4ef6\u7684\u975e\u963b\u585e\u8bbe\u8ba1\u80fd\u591f\u8f7b\u677e\u5904\u7406\u3002</p> <p>Nginx \u7684\u5b89\u88c5\u3002</p> <pre><code>$ sudo apt-get install nginx\n</code></pre> <p>\u91cd\u542f nginx\u3002</p> <pre><code>$ sudo service nginx restart\n# \u6216\u8005\n$ nginx -s reload\n</code></pre> <p>nginx \u6709\u4e00\u4e2a\u4e3b\u8fdb\u7a0b\u548c\u51e0\u4e2a worker \u8fdb\u7a0b\u3002\u6709\u591a\u5c11\u4e2a CPU\uff0c\u5c31\u6709\u591a\u5c11\u4e2a worker \u8fdb\u7a0b\u3002\u6bcf\u4e00\u4e2a worker \u8fdb\u7a0b\u80fd\u591f\u5904\u7406\u51e0\u5343\u4e2a\u8fde\u63a5\u3002</p> <pre><code>$ ps -ef --forest | grep nginx\n</code></pre> <p>\u4e0a\u9762\u7684\u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u6240\u6709 nginx \u8fdb\u7a0b\uff0c\u4e00\u822c\u662f 1 \u4e2a\u4e3b\u8fdb\u7a0b\uff0c\u4e0e CPU \u5185\u6838\u6570\u5bf9\u5e94\u7684 worker \u8fdb\u7a0b\uff0c1 \u4e2a cache manager \u8fdb\u7a0b\uff0c1 \u4e2a cache loader \u8fdb\u7a0b\u3002</p> <p>nginx \u8fdb\u7a0b\u5206\u5de5\u5982\u4e0b\u3002</p> <ul> <li>\u4e3b\u8fdb\u7a0b\uff1a\u8bfb\u53d6\u914d\u7f6e\uff0c\u7ed1\u5b9a\u7aef\u53e3\uff0c\u521b\u9020\u5b50\u8fdb\u7a0b\u3002</li> <li>worker \u8fdb\u7a0b\uff1a\u6267\u884c\u5b9e\u9645\u4efb\u52a1\u7684\u8fdb\u7a0b\uff0c\u5305\u62ec\u5904\u7406\u7f51\u7edc\u8bf7\u6c42\uff0c\u8bfb\u53d6\u6216\u5199\u5165\u786c\u76d8\uff0c\u4e0e\u4e0a\u6e38\u670d\u52a1\u5668\u901a\u4fe1\u3002</li> <li>cache loader \u8fdb\u7a0b\uff1a\u5c06\u786c\u76d8\u4e0a\u7684\u7f13\u5b58\u8bfb\u5165\u5185\u5b58\uff0c\u7136\u540e\u9000\u51fa\u3002</li> <li>cache manager \u8fdb\u7a0b\uff1a\u5468\u671f\u6027\u6267\u884c\uff0c\u4ece\u7f13\u5b58\u6e05\u9664\u8fc7\u65f6\u7684\u6761\u76ee\u3002</li> </ul> <p>worker \u8fdb\u7a0b\u5728\u521b\u5efa\u65f6\uff0c\u6839\u636e\u914d\u7f6e\u6587\u4ef6\u521d\u59cb\u5316\uff0c\u5e76\u4e14\u7559\u6709\u591a\u4e2a socket \u7528\u4e8e\u4e0e\u4e3b\u8fdb\u7a0b\u901a\u4fe1\u3002\u6bcf\u5f53\u6709\u65b0\u7684\u7f51\u7edc\u8bf7\u6c42\uff0cworker \u8fdb\u7a0b\u5c31\u4f1a\u76d1\u542c\u5230\u4e8b\u4ef6\uff0c\u4ece\u800c\u542f\u52a8\u3002</p>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#web","title":"Web \u6839\u76ee\u5f55","text":"<p>\u65b0\u5efa\u4e00\u4e2a\u76ee\u5f55\u4f5c\u4e3a Web \u670d\u52a1\u7684\u6839\u76ee\u5f55\u3002</p> <pre><code>$ sudo mkdir -p /var/www/example.com/public_html\n$ sudo chown -R www-data:www-data /var/www/example.com/public_html\n$ sudo chmod 755 /var/www\n</code></pre> <p>\u7136\u540e\uff0c\u53ef\u4ee5\u5728\u8be5\u76ee\u5f55\u4e0b\u5199\u5165\u4e00\u4e2a\u9996\u9875\u6587\u4ef6<code>index.html</code>\u3002</p> <pre><code>$ sudo nano /var/www/example.com/public_html/index.html\n</code></pre>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#_2","title":"\u914d\u7f6e\u6587\u4ef6","text":"<p>\u5c06\u9ed8\u8ba4\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u62f7\u8d1d\u6210\u4e00\u4efd\u6307\u5b9a\u7ad9\u70b9\u7684\u914d\u7f6e\u6587\u4ef6\u3002</p> <pre><code>$ sudo cp /etc/nginx/sites-available/default /etc/nginx/sites-available/example.com\n</code></pre> <p>\u7f16\u8f91\u8be5\u6587\u4ef6\u3002</p> <pre><code>$ sudo nano /etc/nginx/sites-available/example.com\n</code></pre> <p>\u4e0b\u9762\u662f\u4e00\u4efd\u7b80\u5355\u7684\u914d\u7f6e\u3002</p> <pre><code>server {\n        listen   80; ## listen for ipv4; this line is default and implied\n        #listen   [::]:80 default ipv6only=on; ## listen for ipv6\n\n        root /var/www/example.com/public_html;\n        index index.html index.htm;\n\n        # Make site accessible from http://localhost/\n        server_name example.com;\n}\n</code></pre> <p>\u6700\u540e\uff0c\u6fc0\u6d3b\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u3002</p> <pre><code>$ sudo ln -s /etc/nginx/sites-available/example.com /etc/nginx/sites-enabled/example.com\n</code></pre> <p>\u7136\u540e\uff0c\u91cd\u542f nginx\u3002</p> <pre><code>$ sudo service nginx restart\n</code></pre>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#_3","title":"\u5185\u7f6e\u6a21\u5757","text":"<p>nginx \u91c7\u7528\u6a21\u5757\u5f0f\u8bbe\u8ba1\uff0c\u901a\u8fc7\u52a0\u8f7d\u6a21\u5757\u6269\u5c55\u529f\u80fd\u3002\u76ee\u524d\uff0cnginx \u4e0d\u652f\u6301\u52a8\u6001\u52a0\u8f7d\u6a21\u5757\uff0c\u6a21\u5757\u5fc5\u987b\u548c\u5185\u6838\u4e00\u8d77\u7f16\u8bd1\u3002\u6240\u6709\u7684\u6a21\u5757\u90fd\u662f\u4e2d\u95f4\u4ef6\uff0c\u5373\u63a5\u6536\u4e0a\u4e00\u4e2a\u6a21\u5757\u7684\u8f93\u5165\uff0c\u5904\u7406\u540e\u518d\u5c06\u8f93\u51fa\u4f20\u7ed9\u4e0b\u4e00\u4e2a\u6a21\u5757\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u9ed8\u8ba4\u7f16\u8bd1\u7684\u6a21\u5757\u3002</p> <ul> <li>Access (ngx_http_access_module)\uff1a\u9650\u5236\u8bbf\u95ee\u67d0\u4e9b IP \u5730\u5740\u3002</li> </ul> <pre><code>location / {\n    deny  192.168.1.1;\n    allow 192.168.1.0/24;\n    allow 10.1.1.0/16;\n    allow 2001:0db8::/32;\n    deny  all;\n}\n</code></pre> <ul> <li>HTTP Auth (ngx_http_auth_basic_module)\uff1a\u542f\u7528 HTTP Basic Auth\u3002</li> </ul> <pre><code>location / {\n    auth_basic           \"password\";\n    auth_basic_user_file conf/htpasswd;\n}\n</code></pre> <ul> <li>Subrequest Auth (ngx_http_auth_request_module)\uff1a\u5ba2\u6237\u7aef\u8ba4\u8bc1\u57fa\u4e8e\u4e00\u4e2a\u5b50\u8bf7\u6c42\u7684\u7ed3\u679c\u3002</li> <li>Limit connections (ngx_http_limit_conn_module)\uff1a\u5141\u8bb8\u8bbe\u7f6e\u5355\u4e2a IP \u5730\u5740\u7684\u540c\u4e00\u65f6\u95f4\u7684\u6700\u5927\u8fde\u63a5\u6570\uff08connection\uff09\u3002</li> <li>Limit requests (ngx_http_limit_req_module)\uff1a\u5141\u8bb8\u8bbe\u7f6e\u5355\u4e2a IP \u5730\u5740\u7684\u6700\u5927\u8bf7\u6c42\u6570\u3002</li> </ul>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#_4","title":"\u5916\u90e8\u6a21\u5757","text":"<p>\u5916\u90e8\u6a21\u5757\u9700\u8981\u5728\u7f16\u8bd1\u65f6\u6307\u5b9a\u3002</p> <pre><code>$ ./configure --add-module=/path/to/module/source\n# \u6216\u8005\u4e0d\u5b89\u88c5\u67d0\u4e9b\u6a21\u5757\n$ ./configure  --without-http_dav_module --withouthttp_spdy_module\n</code></pre> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u6709\u7528\u7684\u5916\u90e8\u6a21\u5757\u3002</p> <ul> <li>ngx_pagespeed\uff1aGoogle \u7684 PageSpeed \u9879\u76ee\u7684\u4e00\u4e2a\u4ea7\u54c1\uff0c\u7528\u4e8e\u63d0\u9ad8\u7f51\u9875\u52a0\u8f7d\u901f\u5ea6\u3002</li> <li>nginx-rtmp-module\uff1a\u5b9e\u65f6\u6d41\uff08stream\uff09\u64cd\u4f5c\u7684\u6a21\u5757\u3002</li> <li>nginx-push-stream-module\uff1a\u57fa\u4e8e\u6d41\u64cd\u4f5c\u7684\u4e00\u4e2a\u63a8\u9001\uff08push\uff09\u6a21\u5757\uff0c\u652f\u6301 EventSource \u957f\u8f6e\u8be2\uff08Long polling\uff09\uff0c\u4e00\u4e2a\u4f8b\u5b50\u5c31\u662f WebSocket\u3002</li> </ul>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#_5","title":"\u4f7f\u7528\u65b9\u6cd5","text":"<pre><code># \u542f\u52a8\n$ /etc/init.d/nginx start\n\n# \u505c\u6b62\n$ /etc/init.d/nginx stop\n\n# \u91cd\u542f\n$ /etc/init.d/nginx reload\n\n# \u9a8c\u8bc1\u914d\u7f6e\u6587\u4ef6\n$ nginx -t\n</code></pre>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#_6","title":"\u914d\u7f6e","text":""},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#server","title":"server \u533a\u5757","text":"<p>\u57fa\u672c\u914d\u7f6e\u3002</p> <pre><code>server {\n    listen       80;\n    server_name  tecmintlovesnginx.com www.tecmintlovesnginx.com;\n    access_log  /var/www/logs/tecmintlovesnginx.access.log;\n    error_log  /var/www/logs/tecmintlovesnginx.error.log error;\n        root   /var/www/tecmintlovesnginx.com/public_html;\n        index  index.html index.htm;\n}\n</code></pre> <p>\uff081\uff09server_tokens</p> <p>server_tokens \u6307\u5b9a\u53d1\u751f\u9519\u8bef\u65f6\uff0c\u662f\u5426\u663e\u793a nginx \u9519\u8bef\u4fe1\u606f\u3002</p> <pre><code>server {\n    listen       192.168.0.25:80;\n    Server_tokens        off;\n    server_name  tecmintlovesnginx.com www.tecmintlovesnginx.com;\n    access_log  /var/www/logs/tecmintlovesnginx.access.log;\n    error_log  /var/www/logs/tecmintlovesnginx.error.log error;\n        root   /var/www/tecmintlovesnginx.com/public_html;\n        index  index.html index.htm;\n}\n</code></pre> <p>\uff082\uff09\u5c4f\u853d\u6307\u5b9a\u7684 HTTP \u52a8\u8bcd</p> <p>\u5728 server \u533a\u5757\u5185\u90e8\uff0c\u6307\u5b9a\u53ef\u4ee5\u63a5\u53d7\u7684 HTTP \u52a8\u8bcd\u3002</p> <pre><code>if ($request_method !~ ^(GET|HEAD|POST)$) {\n   return 444;\n}\n</code></pre> <p>\u7136\u540e\uff0c\u4e0b\u9762\u7684\u547d\u4ee4\u5c31\u4f1a\u8fd4\u56de 444 \u9519\u8bef\u3002</p> <pre><code>$ curl -X DELETE http://192.168.0.25/index.html\n</code></pre> <p>\uff083\uff09\u6307\u5b9a SSL \u7248\u672c</p> <pre><code>server {\n  listen *:443;\n  ssl on;\n  server_name \"\";\n  ssl_protocols       TLSv1 TLSv1.1 TLSv1.2;\n\n  ssl_certificate        /etc/nginx/certs/server.crt;\n  ssl_certificate_key    /etc/nginx/certs/server.key;\n  ssl_client_certificate /etc/nginx/certs/ca.crt;\n  ssl_verify_client      on;\n}\n</code></pre> <p>\uff084\uff09\u6307\u5b9a SSL \u8bc1\u4e66</p> <p>\u9996\u5148\uff0c\u5220\u9664\u6216\u6ce8\u91ca\u6389\u4e0b\u9762\u6307\u5b9a\u76d1\u542c 80 \u7aef\u53e3\u7684\u4e24\u884c\u3002</p> <pre><code>listen 80 default_server;\nlisten [::]:80 default_server ipv6only=on;\n</code></pre> <p>\u6539\u6210\u4e0b\u9762\u7684\u6837\u5b50\u3002</p> <pre><code>listen 443 ssl;\n\nserver_name example.com;\n\nssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;\nssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;\n</code></pre> <p>\u8fd8\u53ef\u4ee5\u52a0\u4e0a\u4e09\u884c\u9644\u52a0\u8bbe\u7f6e\u3002</p> <pre><code>ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\nssl_prefer_server_ciphers on;\nssl_ciphers AES256+EECDH:AES256+EDH:!aNULL;\n</code></pre> <p>\u7136\u540e\uff0c\u5728\u539f\u6765\u7684<code>server</code>\u533a\u5757\u5916\u9762\uff0c\u518d\u52a0\u4e00\u4e2a<code>server</code>\u533a\u5757\u3002</p> <pre><code>server {\n    listen 80;\n    server_name example.com;\n    rewrite ^/(.*) https://example.com/$1 permanent;\n}\n</code></pre> <p>\u4e0b\u9762\u662f\u53e6\u4e00\u4e2a\u4f8b\u5b50\u3002</p> <pre><code>server {\n    listen 192.168.0.25:443 ssl;\n    server_tokens off;\n    server_name  tecmintlovesnginx.com www.tecmintlovesnginx.com;\n    root   /var/www/tecmintlovesnginx.com/public_html;\n    ssl_certificate /etc/nginx/sites-enabled/certs/tecmintlovesnginx.crt;\n    ssl_certificate_key /etc/nginx/sites-enabled/certs/tecmintlovesnginx.key;\n    ssl_protocols       TLSv1 TLSv1.1 TLSv1.2;\n}\n</code></pre> <p>\u6700\u540e\uff0c\u91cd\u542f<code>nginx</code>\u3002</p> <pre><code>$ sudo service nginx restart\n</code></pre> <p>\u751f\u6210\u8bc1\u4e66\u7684\u547d\u4ee4\u3002</p> <pre><code># openssl genrsa -aes256 -out tecmintlovesnginx.key 1024\n# openssl req -new -key tecmintlovesnginx.key -out tecmintlovesnginx.csr\n# cp tecmintlovesnginx.key tecmintlovesnginx.key.org\n# openssl rsa -in tecmintlovesnginx.key.org -out tecmintlovesnginx.key\n# openssl x509 -req -days 365 -in tecmintlovesnginx.csr -signkey tecmintlovesnginx.key -out tecmintlovesnginx.crt\n</code></pre> <p>\uff085\uff09HTTP \u5bfc\u5411 HTTPS</p> <pre><code>server {\n  return 301 https://$server_name$request_uri;\n}\n</code></pre> <p>\uff086\uff09\u53cd\u5411\u4ee3\u7406\uff0c\u8f6c\u53d1\u8bf7\u6c42</p> <pre><code>http {\n\n  server {\n    location /app/ {\n      proxy_pass http://app/;\n      proxy_set_header X-ClientCert-DN $ssl_client_s_dn;\n    }\n  }\n}\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7528\u6237\u5bf9<code>/app</code>\u8def\u5f84\u7684\u8bbf\u95ee\u8bf7\u6c42\uff0c\u4f1a\u88ab\u8f6c\u53d1\u5230\u540e\u7aef\u670d\u52a1\u3002\u8fd9\u65f6\uff0cnginx \u4f1a\u589e\u52a0\u4e00\u4e2a HTTP \u4fe1\u606f\u5934<code>X-ClientCert-DN</code>\uff0c\u5b83\u7684\u503c\u5c31\u662f nginx \u53d8\u91cf<code>$ssl_client_s_dn</code>\uff0c\u8fd9\u4e2a\u503c\u4ece\u5ba2\u6237\u7aef\u8bc1\u4e66\u7684 Common Name \u90e8\u5206\u83b7\u53d6\u3002</p> <p>\u53e6\u4e00\u4e2a\u4f8b\u5b50\u3002</p> <pre><code>location / {\n    proxy_pass http://localhost:15301/;\n    proxy_set_header Host $host;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n}\n</code></pre>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#user-agent","title":"User Agent \u9650\u5236","text":"<p>\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6<code>/etc/nginx/blockuseragents.rules</code>\uff0c\u5b9a\u4e49\u5c4f\u853d User Agent \u7684\u89c4\u5219\u3002</p> <pre><code>map $http_user_agent $blockedagent {\n        default         0;\n        ~*malicious     1;\n        ~*bot           1;\n        ~*backdoor      1;\n        ~*crawler       1;\n        ~*bandit        1;\n}\n</code></pre> <p>\u7136\u540e\uff0c\u5728 server \u533a\u5757\u4e4b\u524d\u5305\u542b\u8fd9\u4e2a\u6587\u4ef6\u3002</p> <pre><code>include /etc/nginx/blockuseragents.rules;\n</code></pre> <p>\u63a5\u7740\uff0c\u5728 server \u533a\u5757\u91cc\u9762\u542f\u7528\u5c4f\u853d\u529f\u80fd\u3002</p> <pre><code>server {\n  if($blockedagent) {\n    return 403;\n  }\n}\n</code></pre> <p>\u91cd\u65b0\u542f\u52a8\u4ee5\u540e\uff0c\u4f7f\u7528\u88ab\u5c4f\u853d\u7684 user agent \u8bbf\u95ee\uff0c\u5c31\u4f1a\u8fd4\u56de 403 \u9519\u8bef\u3002</p> <pre><code>$ wget --user-agent \"I am a bandit haha\" http://192.168.0.25/index.html\n</code></pre>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#_7","title":"\u9650\u5236\u8bbf\u95ee","text":"<p>\u5168\u5c40\u62e6\u622a\u3002</p> <pre><code>$ vi /etc/nginx/sites-enabled/blockips.conf\n</code></pre> <p>\u5199\u5165\u6240\u8981\u62e6\u622a\u7684 IP\u3002</p> <pre><code>deny 123.123.123.123;\n</code></pre> <p>\u7136\u540e\uff0c\u91cd\u542f nginx\u3002</p> <pre><code>sudo /etc/init.d/nginx restart\n</code></pre> <p><code>blockips.conf</code>\u91cc\u9762\uff0c\u5982\u679c\u60f3\u8981\u62e6\u6389\u67d0\u4e2a\u7f51\u6bb5\uff0c\u53ef\u4ee5\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002</p> <pre><code>deny 123.123.123.0/24;\n</code></pre> <p>\u5982\u679c\u53ea\u5141\u8bb8\u67d0\u4e2a\u7f51\u6bb5\uff0c\u53ef\u4ee5\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002</p> <pre><code>allow 1.2.3.4/24;\ndeny all;\n</code></pre> <p>nginx \u914d\u7f6e\u6587\u4ef6\u91cc\u9762\u9650\u5236 IP \u6bb5\u3002</p> <pre><code>location / {\n    allow 192.168.1.1/24;\n    allow 127.0.0.1;\n    deny 192.168.1.2;\n    deny all;\n}\n</code></pre> <p>\u542f\u7528\u8bbf\u95ee\u8ba4\u8bc1\u3002</p> <pre><code>server {\n    ...\n    auth_basic \"closed website\";\n    auth_basic_user_file conf/htpasswd;\n}\n</code></pre> <p>\u5168\u7ad9\u542f\u7528\u8bbf\u95ee\u8ba4\u8bc1\uff0c\u67d0\u4e9b\u8def\u5f84\u5141\u8bb8\u81ea\u7531\u8bbf\u95ee\u3002</p> <pre><code>server {\n    ...\n    auth_basic \"closed website\";\n    auth_basic_user_file conf/htpasswd;\n\n    location /public/ {\n        auth_basic off;\n    }\n}\n</code></pre> <p>\u8ba4\u8bc1\u548c IP \u5730\u5740\u4e4b\u4e2d\uff0c\u53ea\u8981\u6ee1\u8db3\u4e00\u4e2a\u6761\u4ef6\u5373\u53ef\u3002</p> <pre><code>location / {\n    satisfy any;\n\n    allow 192.168.1.0/24;\n    deny  all;\n\n    auth_basic           \"closed site\";\n    auth_basic_user_file conf/htpasswd;\n}\n</code></pre> <p>\u9650\u5236\u5355\u4e2a IP \u5730\u5740\u7684\u5e26\u5bbd\uff0c\u4ee5\u53ca\u80fd\u591f\u5efa\u7acb\u7684\u8fde\u63a5\u6570\u3002</p> <pre><code>location /download/ {\n    limit_conn addr 1;\n    limit_rate 50k;\n}\n</code></pre>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#ssl","title":"SSL \u652f\u6301","text":"<p>\u4e0b\u9762\u7684\u547d\u4ee4\u7528\u6765\u751f\u6210\u81ea\u7b7e\u540d\u8bc1\u4e66\uff0c\u751f\u6210\u7684\u8bc1\u4e66\u4e3a<code>/etc/nginx/ssl/ssl.crt</code>\u3002</p> <pre><code>$ sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /etc/nginx/ssl/ssl.key -out /etc/nginx/ssl/ssl.crt\n</code></pre> <p>\u5c06\u6570\u5b57\u8bc1\u4e66\u653e\u5728/etc/nginx/certificates/\u76ee\u5f55\u3002</p> <p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u6253\u5f00 HTTPs \u7aef\u53e3\u3002</p> <pre><code>server {\n    listen              443 ssl;\n    server_name         www.example.com;\n    ssl_certificate     www.example.com.crt;\n    ssl_certificate_key www.example.com.key;\n    ssl_protocols       TLSv1 TLSv1.1 TLSv1.2;\n    ssl_ciphers         HIGH:!aNULL:!MD5;\n    ...\n}\n</code></pre> <p>\u91cd\u542f nginx \u670d\u52a1\u3002</p> <p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u5c06 HTTP \u6d41\u91cf\u5bfc\u5411 HTTPs\u3002</p> <pre><code>server {\n    listen 80;\n    server_name www.example.com;\n    rewrite ^(.*) https://$host$1 permanent;\n}\n</code></pre> <p>\u589e\u52a0 ssl session \u7684\u7f13\u5b58\u65f6\u95f4\u3002</p> <pre><code>worker_processes auto;\n\nhttp {\n    ssl_session_cache   shared:SSL:10m;\n    ssl_session_timeout 10m;\n\n    server {\n        listen              443 ssl;\n        server_name         www.example.com;\n        keepalive_timeout   70;\n\n        ssl_certificate     www.example.com.crt;\n        ssl_certificate_key www.example.com.key;\n        ssl_protocols       TLSv1 TLSv1.1 TLSv1.2;\n        ssl_ciphers         HIGH:!aNULL:!MD5;\n        ...\n</code></pre> <p>\u540c\u4e00\u53f0\u670d\u52a1\u5668\u540c\u65f6\u5904\u7406 HTTP \u548c HTTPs \u8bf7\u6c42\u3002</p> <pre><code>server {\n    listen              80;\n    listen              443 ssl;\n    server_name         www.example.com;\n    ssl_certificate     www.example.com.crt;\n    ssl_certificate_key www.example.com.key;\n    ...\n}\n</code></pre> <p>\u540c\u4e00\u5f20\u8bc1\u4e66\u652f\u6301\u591a\u4e2a\u57df\u540d\uff08\u6bd4\u5982\uff0c\u540c\u65f6\u652f\u6301www.example.com\u548cwww.example.org\uff09\u3002</p> <pre><code>ssl_certificate     common.crt;\nssl_certificate_key common.key;\n\nserver {\n    listen          443 ssl;\n    server_name     www.example.com;\n    ...\n}\n\nserver {\n    listen          443 ssl;\n    server_name     www.example.org;\n    ...\n}\n</code></pre> <p>\u5982\u679c\u6d4f\u89c8\u5668\u652f\u6301 TLS Server Name Indication \u6269\u5c55\uff0c\u5c31\u53ef\u4ee5\u4e00\u53f0\u670d\u52a1\u5668\u652f\u6301\u591a\u4e2a\u8bc1\u4e66\u3002</p> <pre><code>server {\n    listen          443 ssl;\n    server_name     www.example.com;\n    ssl_certificate www.example.com.crt;\n    ...\n}\n\nserver {\n    listen          443 ssl;\n    server_name     www.example.org;\n    ssl_certificate www.example.org.crt;\n    ...\n}\n</code></pre> <p>\u68c0\u67e5 nginx \u662f\u5426\u652f\u6301 SNI \u6269\u5c55\u3002</p> <pre><code>$ NGINX -V\n...\nTLS SNI support enabled\n...\n</code></pre>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#_8","title":"\u5747\u8861\u8d1f\u8f7d","text":"<pre><code>http {\n  upstream cluster {\n      server 127.0.0.1:3000;\n      server 127.0.0.1:3001;\n      server 127.0.0.1:3002;\n      server 127.0.0.1:3003;\n  }\n  server {\n       listen 80;\n       server_name www.domain.com;\n       location / {\n            proxy_pass http://cluster;\n       }\n  }\n}\n</code></pre>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#_9","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>nginx Document, Restricting Access</li> <li>fcambus, Nginx Resources</li> <li>Nishant Modak, Nginx Guide: Essentials</li> <li>H5BP, Server Configs Nginx</li> </ul>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#_10","title":"\u914d\u7f6e","text":"<p>Nginx \u7684\u4e3b\u914d\u7f6e\u6587\u4ef6\u662f<code>nginx.conf</code>\uff0c\u901a\u5e38\u4f4d\u4e8e<code>/usr/local/etc/nginx</code>\u6216\u8005<code>/etc/nginx</code>\u3002\u5b98\u65b9\u7f51\u7ad9\u63d0\u4f9b\u8303\u4f8b\u914d\u7f6enginx.conf.default\uff09\u53ef\u4ee5\u67e5\u770b\u3002</p> <p>\u865a\u62df\u4e3b\u673a\u7684\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u662f<code>/etc/nginx/sites-available/default</code>\u3002\u4e00\u822c\u7684\u505a\u6cd5\u662f\uff0c\u5728<code>sites-available</code>\u76ee\u5f55\u91cc\u9762\uff0c\u6839\u636e\u6bcf\u4e2a\u7ad9\u70b9\u7684\u540d\u5b57\uff0c\u65b0\u5efa\u914d\u7f6e\u6587\u4ef6\uff0c\u6bd4\u5982<code>/etc/nginx/sites-available/example.com.conf</code>\u3002</p> <p>\u865a\u62df\u4e3b\u673a\u7684\u914d\u7f6e\u6587\u4ef6\u901a\u5e38\u5e26\u6709\u4e00\u4e2a\u6216\u591a\u4e2a<code>server</code>\u533a\u5757\u3002</p> <pre><code>server {\n  listen 80 default_server;\n  listen [::]:80 default_server ipv6only=on;\n\n  root /usr/share/nginx/html;\n  index index.html index.htm;\n\n  location / {\n    try_files $uri $uri/ =404;\n  }\n}\n</code></pre> <p>\u4fee\u6539\u914d\u7f6e\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e\u3002</p> <pre><code>$ nginx \u2013s reload\n</code></pre> <p>\u9664\u4e86<code>nginx.conf</code>\uff0c\u8fd8\u6709<code>sites-available</code>\u548c<code>sites-enabled</code>\u4e24\u4e2a\u76ee\u5f55\uff0c\u524d\u8005\u5305\u62ec\u6240\u6709\u53ef\u7528\u7684\u7f51\u7ad9\u914d\u7f6e\uff0c\u540e\u8005\u53ea\u5305\u62ec\u524d\u8005\u7684\u7b26\u53f7\u94fe\u63a5\uff0c\u6307\u5411\u90a3\u4e9b\u5df2\u7ecf\u6fc0\u6d3b\u7684\u7f51\u7ad9\u3002</p> <p><code>sites-available</code>\u76ee\u5f55\u91cc\u9762\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u52a0\u4e0a 660 \u6743\u9650\u3002</p> <pre><code># chmod 660 /etc/nginx/sites-available/example.com.conf\n</code></pre> <p>\u4fee\u6539\u5b83\u4eec\u6240\u5c5e\u7684\u7528\u6237\u7ec4\u3002</p> <pre><code># Debian and Derivatives\n$ chgrp www-data  /etc/nginx/sites-available/tecmintlovesnginx.com.conf\n\n# CentOS and RHEL\n$ chgrp nginx  /etc/nginx/sites-available/tecmintlovesnginx.com.conf\n</code></pre> <p>\u53e6\u5916\uff0c\u9700\u8981\u4fee\u6539\u65e5\u5fd7\u76ee\u5f55\u7684\u7528\u6237\u7ec4\uff0c\u4e0e nginx \u5c5e\u4e8e\u540c\u4e00\u4e2a\u7528\u6237\u7ec4\u3002</p> <pre><code># mkdir /var/www/logs\n# chmod -R 660 /var/www/logs\n# chgrp &lt;nginx user&gt; /var/www/logs\n</code></pre> <p>\u7136\u540e\uff0c\u5efa\u7acb<code>sites-enabled</code>\u76ee\u5f55\u5230<code>site-available</code>\u7684\u7b26\u53f7\u94fe\u63a5\u3002</p> <pre><code># ln -s /etc/nginx/sites-available/example.com.conf /etc/nginx/sites-enabled/example.com.conf\n</code></pre> <p>\u63a5\u7740\uff0c\u5728<code>/var/www/&lt;domain name&gt;/public_html</code>\u76ee\u5f55\u91cc\u9762\uff0c\u653e\u7f6e\u4e00\u4e2a<code>index.html</code>\u3002</p> <p>\u6700\u540e\uff0c\u6d4b\u8bd5\u914d\u7f6e\uff0c\u5e76\u91cd\u542f nginx\u3002</p> <pre><code># nginx -t &amp;&amp; systemctl start nginx\n</code></pre> <p>\u4fee\u6539<code>/etc/hosts</code>\uff0c\u589e\u52a0\u57df\u540d\u89e3\u6790\u3002</p> <pre><code>192.168.0.25 example.com\n</code></pre> <p><code>sites-enabled</code>\u4e0b\u7684\u6587\u4ef6\u81ea\u52a8\u52a0\u8f7d\u3002\u6fc0\u6d3b\u65b0\u7f51\u7ad9\u7684\u505a\u6cd5\u662f\uff0c\u7b26\u53f7\u94fe\u63a5<code>sites-enabled</code>\u76ee\u5f55\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u7136\u540e\u91cd\u542f nginx\u3002</p> <pre><code>$ cd /etc/nginx/sites-available\n# ... create newproject.com ...\n$ cd /etc/nginx/sites-enabled\n$ ln -s ../sites-available/newproject.com .\n$ /etc/init.d/nginx reload\n[....] Reloading nginx configuration: nginx.\n$\n</code></pre> <p>\u505c\u7528\u67d0\u4e2a\u7f51\u7ad9\u7684\u505a\u6cd5\u662f\u4ece sites-enabled \u76ee\u5f55\u79fb\u9664\u7b26\u53f7\u94fe\u63a5\uff0c\u91cd\u542f nginx\u3002</p> <pre><code>$ cd /etc/nginx/sites-enabled\n$ rm newproject.com\n$ /etc/init.d/nginx reload\n[....] Reloading nginx configuration: nginx.\n$\n</code></pre>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#_11","title":"\u8d1f\u8f7d\u5747\u8861","text":"<p>Nginx \u53ef\u4ee5\u7528\u4f5c\u8d1f\u8f7d\u5747\u8861\u3002</p> <pre><code>upstream backend  {\n  server backend1.example.com;\n  server backend2.example.com;\n  server backend3.example.com;\n}\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4f1a\u5c06\u6d41\u91cf\u5206\u914d\u5230\u4e09\u53f0\u670d\u52a1\u5668\u3002\u5177\u4f53\u7684\u5206\u914d\u89c4\u5219\uff0c\u7531 Nginx \u81ea\u52a8\u5b8c\u6210\u3002</p> <p>Nginx \u5141\u8bb8\u8c03\u6574\u4e0d\u540c\u670d\u52a1\u5668\u7684\u6743\u91cd\u3002</p> <pre><code>upstream backend  {\n  server backend1.example.com weight=1;\n  server backend2.example.com weight=2;\n  server backend3.example.com weight=4;\n}\n</code></pre> <p>\u5982\u679c\u6709\u4e00\u53f0\u670d\u52a1\u5668\u6709\u8fde\u63a5\u5931\u8d25\u7684\u53ef\u80fd\uff0c\u53ef\u4ee5\u5728\u914d\u7f6e\u4e2d\u6307\u660e\u3002</p> <pre><code>upstream backend  {\n  server backend1.example.com max_fails=3  fail_timeout=15s;\n  server backend2.example.com weight=2;\n  server backend3.example.com weight=4;\n}\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u6307\u5b9a\uff0c\u8fde\u7eed\u4e09\u6b21\u5931\u8d25\u6216 15 \u79d2\u8d85\u65f6\uff0cNginx \u4f1a\u4e0d\u518d\u7ed9\u8fd9\u53f0\u670d\u52a1\u5668\u5206\u914d\u6d41\u91cf\u3002</p> <p>\u5982\u679c\u67d0\u53f0\u670d\u52a1\u5668\u4e0b\u7ebf\uff0c\u53ef\u4ee5\u624b\u52a8\u6307\u5b9a\u3002</p> <pre><code>upstream backend  {\n  server backend1.example.com weight=1;\n  server backend2.example.com weight=2;\n  server backend3.example.com down;\n}\n</code></pre> <p>\u6700\u540e\uff0c\u5efa\u7acb\u4e00\u4e2a\u5230<code>backend</code>\u7684\u4ee3\u7406\u3002</p> <pre><code>server {\n  location / {\n    proxy_pass  http://backend;\n  }\n}\n</code></pre>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#_12","title":"\u53cd\u5411\u4ee3\u7406","text":"<p>\u7f16\u8f91<code>/etc/nginx/sites-available/default</code>\uff0c\u6216\u8005\u5728\u8be5\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6<code>/etc/nginx/sites-available/my-site</code>\u3002</p> <p>\u4e0b\u9762\u662f\u7b80\u5355\u7684\u914d\u7f6e\u3002</p> <pre><code>server {\n  listen 80;\n  server_name my.domain.com;\n  location / {\n    proxy_pass http://localhost:3000;\n  }\n}\n</code></pre> <p>\u4e0b\u9762\u662f\u590d\u6742\u7684\u914d\u7f6e\u3002</p> <pre><code>server {\n    listen 80;\n\n    server_name example.com;\n\n    location / {\n        proxy_pass http://APP_PRIVATE_IP_ADDRESS:8080;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection 'upgrade';\n        proxy_set_header Host $host;\n        proxy_cache_bypass $http_upgrade;\n    }\n}\n</code></pre> <p>\u4e0a\u9762\u7684\u5b57\u6bb5\u542b\u4e49\u5982\u4e0b\u3002</p> <ul> <li>server_name\uff1a\u4f60\u7684\u57df\u540d\u6216 IP \u5730\u5740</li> <li>proxy_pass\uff1a\u79c1\u6709 IP \u5730\u5740</li> </ul> <p>\u53ef\u4ee5\u589e\u52a0<code>location</code>\u533a\u5757\uff0c\u4e3a\u4e0d\u540c\u7684\u8def\u5f84\u4ee3\u7406\u4e0d\u540c\u7684\u540e\u7aef\u5730\u5740\u3002</p> <pre><code>    location /app2 {\n        proxy_pass http://APP_PRIVATE_IP_ADDRESS:8081;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection 'upgrade';\n        proxy_set_header Host $host;\n        proxy_cache_bypass $http_upgrade;\n    }\n</code></pre>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#_13","title":"\u91cd\u5b9a\u5411","text":"<p>Nginx \u7684\u91cd\u5b9a\u5411\u547d\u4ee4\u8f83\u4e3a\u7b80\u5355\u3002</p> <pre><code>server {\n    listen 80;\n    server_name domain1.com;\n    return 301 $scheme://domain2.com$request_uri;\n}\n</code></pre> <p>\u4e0a\u9762\u7684\u4ee3\u7801\u5c06\u6240\u6709\u8bf7\u6c42\uff0c301 \u91cd\u5b9a\u5411\u5230\u53e6\u4e00\u4e2a\u57df\u540d\u3002</p> <p>\u5982\u679c\u53ea\u8981\u91cd\u5b9a\u5411\u67d0\u4e2a\u76ee\u5f55\u7684\u8bf7\u6c42\uff0c\u53ef\u4ee5\u50cf\u4e0b\u9762\u8fd9\u6837\u5199\u3002</p> <pre><code># 301 \u91cd\u5b9a\u5411\nrewrite ^/images/(.*)$ http://images.example.com/$1 redirect;\n\n# 302 \u91cd\u5b9a\u5411\nrewrite ^/images/(.*)$ http://images.example.com/$1 permanent;\n</code></pre>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#tls","title":"TLS \u8bbe\u7f6e","text":""},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#http2","title":"\u542f\u7528 HTTP/2","text":"<p>\u6253\u5f00\u914d\u7f6e\u6587\u4ef6\uff08\u6bd4\u5982<code>/etc/nginx/sites-enabled/sitename</code>)\uff0c\u5c06\u4e0b\u9762\u7684\u4e00\u884c\u6539\u6389\u3002</p> <pre><code>listen 443 ssl;\n</code></pre> <p>\u6539\u6210</p> <pre><code>listen 443 ssl http2;\n</code></pre> <p>\u6539\u5b8c\u4ee5\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u9a8c\u8bc1\u3002</p> <pre><code>$ curl --http2 -I https://domain.com/\n</code></pre>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#tls-10","title":"\u5f03\u7528 TLS 1.0","text":"<p>\u5982\u679c\u8981\u653e\u5f03\u4f7f\u7528 TLS \u534f\u8bae 1.0 \u7248\u672c\uff0c\u5c31\u8981\u628a\u4e0b\u9762\u4e00\u884c\u6539\u6389\u3002</p> <pre><code>ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n</code></pre> <p>\u6539\u6210</p> <pre><code>ssl_protocols TLSv1.1 TLSv1.2;\n</code></pre>"},{"location":"nginx/nginx%20%E7%9A%84%E7%94%A8%E6%B3%95/#_14","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>Hayden James, Nginx tuning tips: TLS/SSL HTTPS \u2013 Improved TTFB/latency</li> </ul>"},{"location":"nginx/%E5%89%8D%E7%AB%AFNginx%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/","title":"\u8fde\u524d\u7aef\u90fd\u770b\u5f97\u61c2\u7684\u300aNginx \u5165\u95e8\u6307\u5357\u300b","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 13990  \u9605\u8bfb28\u5206\u949f</p> <p>\u539f\u59cb\u94fe\u63a5\uff1ahttps://juejin.cn/post/6844904129987526663</p> <p>\u6587\u672c\u5185\u5bb9\u8f83\u591a\uff08\u539f\u7406+\u5b9e\u8df5\uff09\uff0c\u8bb2\u89e3\u8f83\u4e3a\u8be6\u7ec6\uff0c\u5927\u7ea610\u5206\u949f\u624d\u80fd\u9605\u8bfb\u5b8c\u3002</p> <p>\u672c\u6587Nginx\u5b89\u88c5\u548c\u914d\u7f6e\u90e8\u5206\u5747\u4ee5 Mac OS \u7cfb\u7edf\u4e3a\u4f5c\u4e3a\u793a\u4f8b\uff0c\u4f7f\u7528windows\u7684\u540c\u5b66\u614e\u5165</p> <p>\u867d\u7136\u9898\u76ee\u770b\u8d77\u6765\u6709\u70b9\u50cf\u5199\u7ed9\u524d\u7aef\u540c\u5b66\u7684\u4e00\u6837\uff0c\u4f46\u662f\u672c\u6587\u5b9e\u9645\u4e0a\u662f\u9002\u5408\u6240\u6709\u60f3\u5b66\u4e60 Nginx \u4f46\u4e0d\u77e5\u9053\u5982\u4f55\u4e0b\u624b\u7684\u540c\u5b66\u3002\u7b14\u8005\u5c3d\u91cf\u6df1\u5165\u6d45\u51fa\uff0c\u8bb2\u5f97\u901a\u4fd7\u6613\u61c2\uff0c\u8ba9\u5728\u5ea7\u7684\u4e0d\u7ba1\u662f\u524d\u7aef\u8fd8\u662f\u540e\u7aef\uff0c\u9605\u8bfb\u4f53\u9a8c\u90fd\u5982\u5fb7\u8299\u5de7\u514b\u529b\u822c\u4e1d\u6ed1\u3002</p>"},{"location":"nginx/%E5%89%8D%E7%AB%AFNginx%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/#nginx_1","title":"Nginx\u662f\u4ec0\u4e48\uff1f","text":"<p>\u201cNginx \u662f\u4e00\u6b3e\u8f7b\u91cf\u7ea7\u7684 HTTP \u670d\u52a1\u5668\uff0c\u91c7\u7528\u4e8b\u4ef6\u9a71\u52a8\u7684\u5f02\u6b65\u975e\u963b\u585e\u5904\u7406\u65b9\u5f0f\u6846\u67b6\uff0c\u8fd9\u8ba9\u5176\u5177\u6709\u6781\u597d\u7684 IO \u6027\u80fd\uff0c\u65f6\u5e38\u7528\u4e8e\u670d\u52a1\u7aef\u7684**\u53cd\u5411\u4ee3\u7406**\u548c**\u8d1f\u8f7d\u5747\u8861**\u3002\u201d</p> <p>\u8fd9\u662f\u5927\u591a\u6570\u5f00\u53d1\u8005\u5bf9 Nginx \u7684\u5b9a\u4e49\u3002</p> <p>\uff08\u4ec0\u4e48\uff1f\u542c\u4e0d\u61c2\uff0c\u53cd\u5411\u4ee3\u7406\u3001\u8d1f\u8f7d\u5747\u8861\u8fd9\u90fd\u4ec0\u4e48\u9b3c\uff1f\u90a3\u4e48\u8bf7\u7a0d\u5b89\u52ff\u8e81\uff0c\u8bf7\u541b\u5e26\u7740\u7591\u95ee\u5f80\u4e0b\u770b\uff09</p> <p>Nginx \u662f\u4e00\u6b3e http \u670d\u52a1\u5668 \uff08\u6216\u53ebweb\u670d\u52a1\u5668\uff09\u3002\u5b83\u662f\u7531\u4fc4\u7f57\u65af\u4eba \u4f0a\u6208\u5c14\u00b7\u8d5b\u7d22\u8036\u592b\u4e3a\u4fc4\u7f57\u65af\u8bbf\u95ee\u91cf\u7b2c\u4e8c\u7684 Rambler.ru \u7ad9\u70b9\u5f00\u53d1\u7684\uff0c\u5e76\u4e8e2004\u5e74\u9996\u6b21\u516c\u5f00\u53d1\u5e03\u7684\u3002</p> <p>web\u670d\u52a1\u5668\uff1a\u8d1f\u8d23\u5904\u7406\u548c\u54cd\u5e94\u7528\u6237\u8bf7\u6c42\uff0c\u4e00\u822c\u4e5f\u79f0\u4e3ahttp\u670d\u52a1\u5668\uff0c\u5982 Apache\u3001IIS\u3001Nginx</p> <p>\u5e94\u7528\u670d\u52a1\u5668\uff1a\u5b58\u653e\u548c\u8fd0\u884c\u7cfb\u7edf\u7a0b\u5e8f\u7684\u670d\u52a1\u5668\uff0c\u8d1f\u8d23\u5904\u7406\u7a0b\u5e8f\u4e2d\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u5982 Tomcat\u3001Weblogic\u3001Jboss\uff08\u73b0\u5728\u5927\u591a\u6570\u5e94\u7528\u670d\u52a1\u5668\u4e5f\u5305\u542b\u4e86web\u670d\u52a1\u5668\u7684\u529f\u80fd\uff09</p> <p>Nginx \u662f\u4ec0\u4e48\uff0c\u603b\u7ed3\u4e00\u4e0b\u5c31\u662f\u8fd9\u4e9b\uff1a</p> <ul> <li>\u4e00\u79cd\u8f7b\u91cf\u7ea7\u7684web\u670d\u52a1\u5668</li> <li>\u8bbe\u8ba1\u601d\u60f3\u662f\u4e8b\u4ef6\u9a71\u52a8\u7684\u5f02\u6b65\u975e\u963b\u585e\u5904\u7406\uff08\u7c7bnode.js\uff09</li> <li>\u5360\u7528\u5185\u5b58\u5c11\u3001\u542f\u52a8\u901f\u5ea6\u5feb\u3001\u5e76\u53d1\u80fd\u529b\u5f3a</li> <li>\u4f7f\u7528C\u8bed\u8a00\u5f00\u53d1</li> <li>\u6269\u5c55\u6027\u597d\uff0c\u7b2c\u4e09\u65b9\u63d2\u4ef6\u975e\u5e38\u591a</li> <li>\u5728\u4e92\u8054\u7f51\u9879\u76ee\u4e2d\u5e7f\u6cdb\u5e94\u7528</li> </ul>"},{"location":"nginx/%E5%89%8D%E7%AB%AFNginx%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/#nginx_2","title":"\u4e3a\u4ec0\u4e48\u8981\u5b66\u4e60Nginx\uff1f","text":"<p>Nginx \u662f\u5168\u7403\u6392\u540d\u524d\u4e09\u7684\u670d\u52a1\u5668\uff0c\u5e76\u4e14\u8fd1\u5e74\u6765\u7528\u6237\u589e\u957f\u975e\u5e38\u5feb\u3002</p> <p>\u6709\u4eba\u7edf\u8ba1\uff0c\u4e16\u754c\u4e0a\u7ea6\u6709\u4e09\u5206\u4e4b\u4e00\u7684\u7f51\u5740\u91c7\u7528\u4e86Nginx\u3002\u5728\u5927\u578b\u7f51\u7ad9\u7684\u67b6\u6784\u4e2d\uff0cNginx\u88ab\u666e\u904d\u4f7f\u7528\uff0c\u5982 \u767e\u5ea6\u3001\u963f\u91cc\u3001\u817e\u8baf\u3001\u4eac\u4e1c\u3001\u7f51\u6613\u3001\u65b0\u6d6a\u3001\u5927\u7586\u7b49\u3002</p> <p>Nginx \u5b89\u88c5\u7b80\u5355\uff0c\u914d\u7f6e\u7b80\u6d01\uff0c\u4f5c\u7528\u5374\u65e0\u53ef\u66ff\u4ee3\u3002Nginx \u662f\u8fd0\u7ef4\u548c\u540e\u7aef\u7684\u5fc5\u4fee\u8bfe\uff0c\u4e5f\u662f\u524d\u7aef\u8fdb\u9636\u7684\u5fc5\u4fee\u8bfe\u3002</p> <p>\u56e0\u4e3a\u638c\u63e1\u4e86Nginx\uff0c\u80fd\u8ba9\u524d\u7aef\u7ad9\u5f97\u66f4\u9ad8\uff0c\u66f4\u597d\u7684\u8bbe\u8ba1\u7cfb\u7edf\u67b6\u6784\uff0c\u66f4\u597d\u7684\u9009\u62e9\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u66f4\u597d\u7684\u670d\u52a1\u4e1a\u52a1\u5f00\u53d1\u3002</p> <p>\u6240\u4ee5\u7efc\u4e0a\u6240\u8ff0\uff0cNginx\u4e0d\u5f97\u4e0d\u5b66\uff0c\u524d\u7aef\u4e5f\u4e00\u6837\u4e0d\u80fd\u843d\u540e\u3002</p>"},{"location":"nginx/%E5%89%8D%E7%AB%AFNginx%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/#nginx_3","title":"\u5982\u4f55\u5b66\u4e60Nginx\uff1f","text":""},{"location":"nginx/%E5%89%8D%E7%AB%AFNginx%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/#_1","title":"\u5b89\u88c5/\u5378\u8f7d","text":"<p>\u63a8\u8350 Mac \u7535\u8111\u4e0a\u5185\u7f6e homebrew \u5de5\u5177\u5b89\u88c5\u3002</p> <p>\u5b89\u88c5 Nginx\uff1a</p> <pre><code>brew install nginx\n</code></pre> <p>\u5378\u8f7d Nginx\uff1a</p> <pre><code>brew uninstall nginx\n</code></pre> <p>\u5982\u679c\u4e0d\u884c\uff0c\u5c31\u5728 brew \u524d\u9762\u52a0\u4e0a sudo\u3002\uff08sudo \u662f\u4ec0\u4e48\uff1f\u5bf9 Linux \u4e5f\u4e0d\u592a\u719f\u7684\uff0c\u53ef\u4ee5\u79fb\u6b65 \u524d\u7aef\u5de5\u7a0b\u5e08\u9700\u8981\u5bf9 Linux \u638c\u63e1\u5230\u4ec0\u4e48\u7a0b\u5ea6\uff1f\uff09</p> <p>\u5b89\u88c5\u597d\u4e86\uff0c\u9a8c\u8bc1\u4e00\u4e0b nginx \u662f\u5426\u5b89\u88c5\u6210\u529f\uff1a</p> <p></p> <p>homebrew \u5de5\u5177\u4f7f\u8d77\u6765\u975e\u5e38\u79f0\u624b\uff0c\u8ddf\u524d\u7aef\u5f00\u53d1\u4e2d\u7684 npm/yarn \u7528\u6cd5\u5f88\u50cf\u3002</p> <p>\u53ea\u4e0d\u8fc7 npm/yarn \u9ad8\u5ea6\u4f9d\u8d56 node \u73af\u5883\uff0c\u800c homebrew \u5728 mac \u7cfb\u7edf\u4e2d\u53ef\u4ee5\u968f\u610f\u4f7f\u7528\u3002\uff08\u4f20\u9001\u95e8\uff1aHomebrew\u4ecb\u7ecd\u548c\u4f7f\u7528\uff09</p>"},{"location":"nginx/%E5%89%8D%E7%AB%AFNginx%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/#_2","title":"\u542f\u52a8","text":"<p>\u542f\u52a8 Nginx\uff1a</p> <pre><code>sudo nginx` \u6216 `sudo brew services start nginx\n</code></pre> <p>\u505c\u6b62 Nginx\uff1a</p> <pre><code>sudo nginx -s stop` \u6216 `sudo brew services stop nginx\n</code></pre> <p>\u70ed\u91cd\u542f Nginx\uff1a</p> <pre><code>sudo nginx -s reload\n</code></pre> <p>\u5f3a\u5236\u505c\u6b62 Nginx\uff1a</p> <pre><code>sudo pkill -9 nginx\n</code></pre>"},{"location":"nginx/%E5%89%8D%E7%AB%AFNginx%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/#_3","title":"\u4fee\u6539\u914d\u7f6e","text":"<p>\u7ecf\u5e38\u8981\u7528\u5230\u7684\u51e0\u4e2a\u6587\u4ef6\u8def\u5f84\uff1a</p> <ol> <li><code>/usr/local/etc/nginx/nginx.conf</code> \uff08nginx\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff09</li> <li><code>/usr/local/var/www</code> \uff08nginx\u670d\u52a1\u5668\u9ed8\u8ba4\u7684\u6839\u76ee\u5f55\uff09</li> <li><code>/usr/local/Cellar/nginx/1.17.9</code> \uff08nginx\u7684\u5b89\u88c5\u8def\u5f84\uff09</li> <li><code>/usr/local/var/log/nginx/error.log</code> (nginx\u9ed8\u8ba4\u7684\u65e5\u5fd7\u8def\u5f84)</li> </ol> <p>nginx \u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u7b80\u4ecb\uff1a</p> <pre><code>nginx\n\n\u590d\u5236\u4ee3\u7801# \u9996\u5c3e\u914d\u7f6e\u6682\u65f6\u5ffd\u7565\nserver {  \n        # \u5f53nginx\u63a5\u5230\u8bf7\u6c42\u540e\uff0c\u4f1a\u5339\u914d\u5176\u914d\u7f6e\u4e2d\u7684service\u6a21\u5757\n        # \u5339\u914d\u65b9\u6cd5\u5c31\u662f\u5c06\u8bf7\u6c42\u643a\u5e26\u7684host\u548cport\u53bb\u8ddf\u914d\u7f6e\u4e2d\u7684server_name\u548clisten\u76f8\u5339\u914d\n        listen       8080;        \n        server_name  localhost; # \u5b9a\u4e49\u5f53\u524d\u865a\u62df\u4e3b\u673a\uff08\u7ad9\u70b9\uff09\u5339\u914d\u8bf7\u6c42\u7684\u4e3b\u673a\u540d\n\n        location / {\n            root   html; # Nginx\u9ed8\u8ba4\u503c\n            # \u8bbe\u5b9aNginx\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6587\u6863\u540d\n            index  index.html index.htm; # \u5148\u627e\u6839\u76ee\u5f55\u4e0b\u7684index.html\uff0c\u5982\u679c\u6ca1\u6709\u518d\u627eindex.htm\n        }\n}\n# \u9996\u5c3e\u914d\u7f6e\u6682\u65f6\u5ffd\u7565\n</code></pre> <p>server{ } \u5176\u5b9e\u662f\u5305\u542b\u5728 http{ } \u5185\u90e8\u7684\u3002\u6bcf\u4e00\u4e2a server{ } \u662f\u4e00\u4e2a\u865a\u62df\u4e3b\u673a\uff08\u7ad9\u70b9\uff09\u3002</p> <p>\u4e0a\u9762\u4ee3\u7801\u5757\u7684\u610f\u601d\u662f\uff1a\u5f53\u4e00\u4e2a\u8bf7\u6c42\u53eb\u505a<code>localhost:8080</code>\u8bf7\u6c42nginx\u670d\u52a1\u5668\u65f6\uff0c\u8be5\u8bf7\u6c42\u5c31\u4f1a\u88ab\u5339\u914d\u8fdb\u8be5\u4ee3\u7801\u5757\u7684 server{ } \u4e2d\u6267\u884c\u3002</p> <p>\u5f53\u7136 nginx \u7684\u914d\u7f6e\u975e\u5e38\u591a\uff0c\u7528\u7684\u65f6\u5019\u53ef\u4ee5\u6839\u636e\u6587\u6863\u8fdb\u884c\u914d\u7f6e\u3002</p> <p>\u82f1\u6587\u6587\u6863\uff1anginx.org/en/docs/</p> <p>\u4e2d\u6587\u6587\u6863\uff1awww.nginx.cn/doc/</p>"},{"location":"nginx/%E5%89%8D%E7%AB%AFNginx%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/#nginx_4","title":"Nginx\u6709\u54ea\u4e9b\u5e94\u7528\uff1f","text":"<p>\u4e3b\u8981\u67094\u5927\u5e94\u7528\u3002</p>"},{"location":"nginx/%E5%89%8D%E7%AB%AFNginx%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/#_4","title":"\u52a8\u9759\u5206\u79bb","text":"<p>\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u52a8\u9759\u5206\u79bb\u5176\u5b9e\u5c31\u662f Nginx \u670d\u52a1\u5668\u5c06\u63a5\u6536\u5230\u7684\u8bf7\u6c42\u5206\u4e3a**\u52a8\u6001\u8bf7\u6c42**\u548c**\u9759\u6001\u8bf7\u6c42**\u3002</p> <p>\u9759\u6001\u8bf7\u6c42\u76f4\u63a5\u4ece nginx \u670d\u52a1\u5668\u6240\u8bbe\u5b9a\u7684\u6839\u76ee\u5f55\u8def\u5f84\u53bb\u53d6\u5bf9\u5e94\u7684\u8d44\u6e90\uff0c\u52a8\u6001\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u771f\u5b9e\u7684\u540e\u53f0\uff08\u524d\u9762\u6240\u8bf4\u7684\u5e94\u7528\u670d\u52a1\u5668\uff0c\u5982\u56fe\u4e2d\u7684Tomcat\uff09\u53bb\u5904\u7406\u3002</p> <p>\u8fd9\u6837\u505a\u4e0d\u4ec5\u80fd\u7ed9\u5e94\u7528\u670d\u52a1\u5668\u51cf\u8f7b\u538b\u529b\uff0c\u5c06\u540e\u53f0api\u63a5\u53e3\u670d\u52a1\u5316\uff0c\u8fd8\u80fd\u5c06\u524d\u540e\u7aef\u4ee3\u7801\u5206\u5f00\u5e76\u884c\u5f00\u53d1\u548c\u90e8\u7f72\u3002\uff08\u4f20\u9001\u95e8\uff1anginx\u52a8\u9759\u5206\u79bb\u7684\u597d\u5904\uff09</p> <pre><code>nginx\n\n\u590d\u5236\u4ee3\u7801server {  \n        listen       8080;        \n        server_name  localhost;\n\n        location / {\n            root   html; # Nginx\u9ed8\u8ba4\u503c\n            index  index.html index.htm;\n        }\n\n        # \u9759\u6001\u5316\u914d\u7f6e\uff0c\u6240\u6709\u9759\u6001\u8bf7\u6c42\u90fd\u8f6c\u53d1\u7ed9 nginx \u5904\u7406\uff0c\u5b58\u653e\u76ee\u5f55\u4e3a my-project\n        location ~ .*\\.(html|htm|gif|jpg|jpeg|bmp|png|ico|js|css)$ {\n            root /usr/local/var/www/my-project; # \u9759\u6001\u8bf7\u6c42\u6240\u4ee3\u7406\u5230\u7684\u6839\u76ee\u5f55\n        }\n\n        # \u52a8\u6001\u8bf7\u6c42\u5339\u914d\u5230path\u4e3a'node'\u7684\u5c31\u8f6c\u53d1\u52308002\u7aef\u53e3\u5904\u7406\n        location /node/ {  \n            proxy_pass http://localhost:8002; # \u5145\u5f53\u670d\u52a1\u4ee3\u7406\n        }\n}\n</code></pre> <p>\u8bbf\u95ee\u9759\u6001\u8d44\u6e90 nginx \u670d\u52a1\u5668\u4f1a\u8fd4\u56de my-project \u91cc\u9762\u7684\u6587\u4ef6\uff0c\u5982\u83b7\u53d6 index.html\uff1a</p> <p></p> <p>\u8bbf\u95ee\u52a8\u6001\u8bf7\u6c42 nginx \u670d\u52a1\u5668\u4f1a\u5c06\u5b83\u4ece8002\u7aef\u53e3\u8bf7\u6c42\u5230\u7684\u5185\u5bb9\uff0c\u539f\u5c01\u4e0d\u52a8\u7684\u8fd4\u56de\u56de\u53bb\uff1a</p> <p> </p>"},{"location":"nginx/%E5%89%8D%E7%AB%AFNginx%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/#_5","title":"\u53cd\u5411\u4ee3\u7406","text":""},{"location":"nginx/%E5%89%8D%E7%AB%AFNginx%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/#_6","title":"\u53cd\u5411\u4ee3\u7406\u662f\u4ec0\u4e48\uff1f","text":"<p>\u53cd\u5411\u4ee3\u7406\u5176\u5b9e\u5c31\u7c7b\u4f3c\u4f60\u53bb\u627e\u4ee3\u8d2d\u5e2e\u4f60\u4e70\u4e1c\u897f\uff08\u6d4f\u89c8\u5668\u6216\u5176\u4ed6\u7ec8\u7aef\u5411nginx\u8bf7\u6c42\uff09\uff0c\u4f60\u4e0d\u7528\u7ba1\u4ed6\u53bb\u54ea\u91cc\u4e70\uff0c\u53ea\u8981\u4ed6\u5e2e\u4f60\u4e70\u5230\u4f60\u60f3\u8981\u7684\u4e1c\u897f\u5c31\u884c\uff08\u6d4f\u89c8\u5668\u6216\u5176\u4ed6\u7ec8\u7aef\u6700\u7ec8\u62ff\u5230\u4e86\u4ed6\u60f3\u8981\u7684\u5185\u5bb9\uff0c\u4f46\u662f\u5177\u4f53\u4ece\u54ea\u513f\u62ff\u5230\u7684\u8fd9\u4e2a\u8fc7\u7a0b\u5b83\u5e76\u4e0d\u77e5\u9053\uff09\u3002</p>"},{"location":"nginx/%E5%89%8D%E7%AB%AFNginx%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/#_7","title":"\u53cd\u5411\u4ee3\u7406\u7684\u4f5c\u7528","text":"<ol> <li>\u4fdd\u969c\u5e94\u7528\u670d\u52a1\u5668\u7684\u5b89\u5168\uff08\u589e\u52a0\u4e00\u5c42\u4ee3\u7406\uff0c\u53ef\u4ee5\u5c4f\u853d\u5371\u9669\u653b\u51fb\uff0c\u66f4\u65b9\u4fbf\u7684\u63a7\u5236\u6743\u9650\uff09</li> <li>\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\uff08\u7a0d\u7b49~\u4e0b\u9762\u4f1a\u8bb2\uff09</li> <li>\u5b9e\u73b0\u8de8\u57df\uff08\u53f7\u79f0\u662f\u6700\u7b80\u5355\u7684\u8de8\u57df\u65b9\u5f0f\uff09</li> </ol>"},{"location":"nginx/%E5%89%8D%E7%AB%AFNginx%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/#_8","title":"\u914d\u7f6e\u53cd\u5411\u4ee3\u7406","text":"<p>\u914d\u7f6e\u4e00\u4e2a\u7b80\u5355\u7684\u53cd\u5411\u4ee3\u7406\u662f\u5f88\u5bb9\u6613\u7684\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>nginx\n\n\u590d\u5236\u4ee3\u7801server {  \n        listen       8080;        \n        server_name  localhost;\n\n        location / {\n            root   html; # Nginx\u9ed8\u8ba4\u503c\n            index  index.html index.htm;\n        }\n\n        proxy_pass http://localhost:8000; # \u53cd\u5411\u4ee3\u7406\u914d\u7f6e\uff0c\u8bf7\u6c42\u4f1a\u88ab\u8f6c\u53d1\u52308000\u7aef\u53e3\n}\n</code></pre> <p>\u53cd\u5411\u4ee3\u7406\u7684\u8868\u73b0\u5f88\u7b80\u5355\u3002\u90a3\u4e0a\u9762\u7684\u4ee3\u7801\u5757\u6765\u8bf4\uff0c\u5176\u5b9e\u5c31\u662f\u5411nginx\u8bf7\u6c42<code>localhost:8080</code>\u8ddf\u8bf7\u6c42 <code>http://localhost:8000</code> \u662f\u4e00\u6837\u7684\u6548\u679c\u3002\uff08\u8ddf\u4ee3\u8d2d\u7684\u539f\u7406\u4e00\u6837\uff09</p> <p>\u8fd9\u662f\u4e00\u4e2a\u53cd\u5411\u4ee3\u7406\u6700\u7b80\u5355\u7684\u6a21\u578b\uff0c\u53ea\u662f\u4e3a\u4e86\u8bf4\u660e\u53cd\u5411\u4ee3\u7406\u7684\u914d\u7f6e\u3002\u4f46\u662f\u73b0\u5b9e\u4e2d\u53cd\u5411\u4ee3\u7406\u591a\u6570\u662f\u7528\u5728\u8d1f\u8f7d\u5747\u8861\u4e2d\u3002</p> <p>\u793a\u610f\u56fe\u5982\u4e0b\uff1a</p> <p></p> <p>nginx \u5c31\u662f\u5145\u5f53\u56fe\u4e2d\u7684 proxy\u3002\u5de6\u8fb9\u76843\u4e2a client \u5728\u8bf7\u6c42\u65f6\u5411 nginx \u83b7\u53d6\u5185\u5bb9\uff0c\u662f\u611f\u53d7\u4e0d\u52303\u53f0 server \u5b58\u5728\u7684\u3002</p> <p>\u6b64\u65f6\uff0cproxy\u5c31\u5145\u5f53\u4e863\u4e2a server \u7684\u53cd\u5411\u4ee3\u7406\u3002</p> <p>\u53cd\u5411\u4ee3\u7406\u5e94\u7528\u5341\u5206\u5e7f\u6cdb\uff0cCDN \u670d\u52a1\u5c31\u662f\u53cd\u5411\u4ee3\u7406\u7ecf\u5178\u7684\u5e94\u7528\u573a\u666f\u4e4b\u4e00\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u53cd\u5411\u4ee3\u7406\u4e5f\u662f\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u7684\u57fa\u7840\uff0c\u5f88\u591a\u5927\u516c\u53f8\u7684\u67b6\u6784\u90fd\u5e94\u7528\u5230\u4e86\u53cd\u5411\u4ee3\u7406\u3002</p>"},{"location":"nginx/%E5%89%8D%E7%AB%AFNginx%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/#_9","title":"\u8d1f\u8f7d\u5747\u8861","text":""},{"location":"nginx/%E5%89%8D%E7%AB%AFNginx%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/#_10","title":"\u8d1f\u8f7d\u5747\u8861\u662f\u4ec0\u4e48\uff1f","text":"<p>\u968f\u7740\u4e1a\u52a1\u7684\u4e0d\u65ad\u589e\u957f\u548c\u7528\u6237\u7684\u4e0d\u65ad\u589e\u591a\uff0c\u4e00\u53f0\u670d\u52a1\u5df2\u7ecf\u6ee1\u8db3\u4e0d\u4e86\u7cfb\u7edf\u8981\u6c42\u4e86\u3002\u8fd9\u4e2a\u65f6\u5019\u5c31\u51fa\u73b0\u4e86\u670d\u52a1\u5668 \u96c6\u7fa4\u3002</p> <p>\u5728\u670d\u52a1\u5668\u96c6\u7fa4\u4e2d\uff0cNginx \u53ef\u4ee5\u5c06\u63a5\u6536\u5230\u7684\u5ba2\u6237\u7aef\u8bf7\u6c42\u201c\u5747\u5300\u5730\u201d\uff08\u4e25\u683c\u8bb2\u5e76\u4e0d\u4e00\u5b9a\u5747\u5300\uff0c\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u6743\u91cd\uff09\u5206\u914d\u5230\u8fd9\u4e2a\u96c6\u7fa4\u4e2d\u6240\u6709\u7684\u670d\u52a1\u5668\u4e0a\u3002\u8fd9\u4e2a\u5c31\u53eb\u505a**\u8d1f\u8f7d\u5747\u8861**\u3002</p> <p>\u8d1f\u8f7d\u5747\u8861\u7684\u793a\u610f\u56fe\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"nginx/%E5%89%8D%E7%AB%AFNginx%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/#_11","title":"\u8d1f\u8f7d\u5747\u8861\u7684\u4f5c\u7528","text":"<ul> <li>\u5206\u644a\u670d\u52a1\u5668\u96c6\u7fa4\u538b\u529b</li> <li>\u4fdd\u8bc1\u5ba2\u6237\u7aef\u8bbf\u95ee\u7684\u7a33\u5b9a\u6027</li> </ul> <p>\u524d\u9762\u4e5f\u63d0\u5230\u4e86\uff0c\u8d1f\u8f7d\u5747\u8861\u53ef\u4ee5\u89e3\u51b3\u5206\u644a\u670d\u52a1\u5668\u96c6\u7fa4\u538b\u529b\u7684\u95ee\u9898\u3002\u9664\u6b64\u4e4b\u5916\uff0cNginx\u8fd8\u5e26\u6709**\u5065\u5eb7\u68c0\u67e5**\uff08\u670d\u52a1\u5668\u5fc3\u8df3\u68c0\u67e5\uff09\u529f\u80fd\uff0c\u4f1a\u5b9a\u671f\u8f6e\u8be2\u5411\u96c6\u7fa4\u91cc\u7684\u6240\u6709\u670d\u52a1\u5668\u53d1\u9001\u5065\u5eb7\u68c0\u67e5\u8bf7\u6c42\uff0c\u6765\u68c0\u67e5\u96c6\u7fa4\u4e2d\u662f\u5426\u6709\u670d\u52a1\u5668\u5904\u4e8e\u5f02\u5e38\u72b6\u6001\u3002</p> <p>\u4e00\u65e6\u53d1\u73b0\u67d0\u53f0\u670d\u52a1\u5668\u5f02\u5e38\uff0c\u90a3\u4e48\u5728\u8fd9\u4ee5\u540e\u4ee3\u7406\u8fdb\u6765\u7684\u5ba2\u6237\u7aef\u8bf7\u6c42\u90fd\u4e0d\u4f1a\u88ab\u53d1\u9001\u5230\u8be5\u670d\u52a1\u5668\u4e0a\uff08\u76f4\u5065\u5eb7\u68c0\u67e5\u53d1\u73b0\u8be5\u670d\u52a1\u5668\u5df2\u6062\u590d\u6b63\u5e38\uff09\uff0c\u4ece\u800c\u4fdd\u8bc1\u5ba2\u6237\u7aef\u8bbf\u95ee\u7684\u7a33\u5b9a\u6027\u3002</p>"},{"location":"nginx/%E5%89%8D%E7%AB%AFNginx%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/#_12","title":"\u914d\u7f6e\u8d1f\u8f7d\u5747\u8861","text":"<p>\u914d\u7f6e\u4e00\u4e2a\u7b80\u5355\u7684\u8d1f\u8f7d\u5747\u8861\u5e76\u4e0d\u590d\u6742\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>nginx\n\n\u590d\u5236\u4ee3\u7801# \u8d1f\u8f7d\u5747\u8861\uff1a\u8bbe\u7f6edomain\nupstream domain {\n    server localhost:8000;\n    server localhost:8001;\n}\nserver {  \n        listen       8080;        \n        server_name  localhost;\n\n        location / {\n            # root   html; # Nginx\u9ed8\u8ba4\u503c\n            # index  index.html index.htm;\n\n            proxy_pass http://domain; # \u8d1f\u8f7d\u5747\u8861\u914d\u7f6e\uff0c\u8bf7\u6c42\u4f1a\u88ab\u5e73\u5747\u5206\u914d\u52308000\u548c8001\u7aef\u53e3\n            proxy_set_header Host $host:$server_port;\n        }\n}\n</code></pre> <p>8000\u548c8001\u662f\u6211\u672c\u5730\u7528 Node.js \u8d77\u7684\u4e24\u4e2a\u670d\u52a1\uff0c\u8d1f\u8f7d\u5747\u8861\u6210\u529f\u540e\u53ef\u4ee5\u770b\u5230\u8bbf\u95ee <code>localhost:8080</code> \u6709\u65f6\u4f1a\u8bbf\u95ee\u52308000\u7aef\u53e3\u7684\u9875\u9762\uff0c\u6709\u65f6\u4f1a\u8bbf\u95ee\u52308001\u7aef\u53e3\u7684\u9875\u9762\u3002</p> <p></p> <p></p> <p>\u80fd\u770b\u5230\u8fd9\u4e2a\u6548\u679c\uff0c\u5c31\u8bf4\u660e\u4f60\u914d\u7f6e\u7684\u8d1f\u8f7d\u5747\u8861\u7b56\u7565\u751f\u6548\u4e86\u3002</p> <p>\u5b9e\u9645\u9879\u76ee\u4e2d\u7684\u8d1f\u8f7d\u5747\u8861\u8fdc\u6bd4\u8fd9\u4e2a\u6848\u4f8b\u8981\u66f4\u52a0\u590d\u6742\uff0c\u4f46\u662f\u4e07\u53d8\u4e0d\u79bb\u5176\u5b97\uff0c\u90fd\u662f\u6839\u636e\u8fd9\u4e2a\u7406\u60f3\u6a21\u578b\u884d\u751f\u51fa\u6765\u7684\u3002</p> <p>\u53d7\u96c6\u7fa4\u5355\u53f0\u670d\u52a1\u5668\u5185\u5b58\u7b49\u8d44\u6e90\u7684\u9650\u5236\uff0c\u8d1f\u8f7d\u5747\u8861\u96c6\u7fa4\u7684\u670d\u52a1\u5668\u4e5f\u4e0d\u80fd\u65e0\u9650\u589e\u591a\u3002\u4f46\u56e0\u5176\u826f\u597d\u7684\u5bb9\u9519\u673a\u5236\uff0c\u8d1f\u8f7d\u5747\u8861\u6210\u4e3a\u4e86\u5b9e\u73b0**\u9ad8\u53ef\u7528\u67b6\u6784**\u4e2d\u5fc5\u4e0d\u53ef\u5c11\u7684\u4e00\u73af\u3002</p>"},{"location":"nginx/%E5%89%8D%E7%AB%AFNginx%20%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/#_13","title":"\u6b63\u5411\u4ee3\u7406","text":"<p>\u6b63\u5411\u4ee3\u7406\u8ddf\u53cd\u5411\u9053\u7406\u6b63\u597d\u76f8\u53cd\u3002\u62ff\u4e0a\u6587\u4e2d\u7684\u90a3\u4e2a\u4ee3\u8d2d\u4f8b\u5b50\u6765\u8bb2\uff0c\u591a\u4e2a\u4eba\u627e\u4ee3\u8d2d\u8d2d\u4e70\u540c\u4e00\u4e2a\u5546\u54c1\uff0c\u4ee3\u8d2d\u627e\u5230\u4e70\u8fd9\u4e2a\u7684\u5e97\u540e\u4e00\u6b21\u6027\u7ed9\u4e70\u4e86\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u8be5\u5e97\u4e3b\u662f\u4e0d\u77e5\u9053\u4ee3\u8d2d\u662f\u5e2e\u522b\u4ee3\u4e70\u4e70\u4e1c\u897f\u7684\u3002\u90a3\u4e48\u4ee3\u8d2d\u5bf9\u4e8e\u591a\u4e2a\u60f3\u4e70\u5546\u54c1\u7684\u987e\u5ba2\u6765\u8bb2\uff0c\u4ed6\u5c31\u5145\u5f53\u4e86\u6b63\u5411\u4ee3\u7406\u3002</p> <p>\u6b63\u5411\u4ee3\u7406\u7684\u793a\u610f\u56fe\u5982\u4e0b\uff1a</p> <p></p> <p>nginx \u5c31\u662f\u5145\u5f53\u56fe\u4e2d\u7684 proxy\u3002\u5de6\u8fb9\u76843\u4e2a client \u5728\u8bf7\u6c42\u65f6\u5411 nginx \u83b7\u53d6\u5185\u5bb9\uff0cserver \u662f\u611f\u53d7\u4e0d\u52303\u53f0 client \u5b58\u5728\u7684\u3002</p> <p>\u6b64\u65f6\uff0cproxy \u5c31\u5145\u5f53\u4e863\u4e2a client \u7684\u6b63\u5411\u4ee3\u7406\u3002</p> <p>\u6b63\u5411\u4ee3\u7406\uff0c\u610f\u601d\u662f\u4e00\u4e2a\u4f4d\u4e8e\u5ba2\u6237\u7aef\u548c\u539f\u59cb\u670d\u52a1\u5668(origin server)\u4e4b\u95f4\u7684\u670d\u52a1\u5668\uff0c\u4e3a\u4e86\u4ece\u539f\u59cb\u670d\u52a1\u5668\u53d6\u5f97\u5185\u5bb9\uff0c\u5ba2\u6237\u7aef\u5411\u4ee3\u7406\u53d1\u9001\u4e00\u4e2a\u8bf7\u6c42\u5e76\u6307\u5b9a\u76ee\u6807(\u539f\u59cb\u670d\u52a1\u5668)\uff0c\u7136\u540e\u4ee3\u7406\u5411\u539f\u59cb\u670d\u52a1\u5668\u8f6c\u4ea4\u8bf7\u6c42\u5e76\u5c06\u83b7\u5f97\u7684\u5185\u5bb9\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002\u5ba2\u6237\u7aef\u624d\u80fd\u4f7f\u7528\u6b63\u5411\u4ee3\u7406\u3002\u5f53\u4f60\u9700\u8981\u628a\u4f60\u7684\u670d\u52a1\u5668\u4f5c\u4e3a\u4ee3\u7406\u670d\u52a1\u5668\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u7528Nginx\u6765\u5b9e\u73b0\u6b63\u5411\u4ee3\u7406\u3002</p> <p>\u79d1\u5b66\u4e0a\u7f51vpn\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u6b63\u5411\u4ee3\u7406\u5de5\u5177\u3002</p> <p>\u8be5 vpn \u4f1a\u5c06\u60f3\u8bbf\u95ee\u5899\u5916\u670d\u52a1\u5668 server \u7684\u7f51\u9875\u8bf7\u6c42\uff0c\u4ee3\u7406\u5230\u4e00\u4e2a\u53ef\u4ee5\u8bbf\u95ee\u8be5\u7f51\u7ad9\u7684\u4ee3\u7406\u670d\u52a1\u5668 proxy \u4e0a\u3002\u8fd9\u4e2a proxy \u628a\u5899\u5916\u670d\u52a1\u5668 server \u4e0a\u83b7\u53d6\u7684\u7f51\u9875\u5185\u5bb9\uff0c\u518d\u8f6c\u53d1\u7ed9\u5ba2\u6237\u3002</p> <p>\u4ee3\u7406\u670d\u52a1\u5668 proxy \u5c31\u662f Nginx \u642d\u5efa\u7684\u3002</p> <p>\u6b63\u5411\u4ee3\u7406\u5e94\u7528\u8fdc\u6ca1\u6709\u53cd\u5411\u4ee3\u7406\u5e7f\u6cdb\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u662f nginx \u7684\u5165\u95e8\u7bc7\uff0c\u52a0\u4e0a\u7bc7\u5e45\u6709\u9650\uff0c\u8fd9\u91cc\u5c31\u4e0d\u7ed9\u51fa\u5177\u4f53\u7684\u53c2\u8003\u914d\u7f6e\u4e86\u3002</p>"},{"location":"nginx/%E5%89%8D%E7%AB%AF%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3Nginx/","title":"\u524d\u7aef\u8be5\u5982\u4f55\u7406\u89e3Nginx","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9958  \u9605\u8bfb20\u5206\u949f</p> <p>\u5c0f\u675c\u675c</p> <p>2022-04-0481,778\u9605\u8bfb8\u5206\u949f</p> <p>\u5927\u5bb6\u597d\uff0c\u6211\u53eb\u5c0f\u675c\u675c\uff0c\u4f5c\u4e3a\u4e00\u540d\u5c0f\u524d\u7aef\uff0c\u53ea\u9700\u8981\u597d\u597d\u5199\u4ee3\u7801\uff0c\u81f3\u4e8e\u90e8\u7f72\u76f8\u5173\u7684\u64cd\u4f5c\uff0c\u6211\u4eec\u901a\u5e38\u63a5\u89e6\u4e0d\u5230\uff0c\u6b63\u6240\u8c13\u4e13\u4e1a\u7684\u4eba\u5e72\u4e13\u4e1a\u7684\u4e8b\uff0c\u6211\u4eec\u5728\u5de5\u4f5c\u4e2d\u5e76\u4e0d\u9700\u8981\u53bb\u914d\u7f6e\uff0c\u4f46\u8fd9\u5e76\u4e0d\u4ee3\u8868\u4e0d\u9700\u8981\u4e86\u89e3\uff0c\u76f8\u4fe1\u5927\u5bb6\u90fd\u591a\u591a\u5c11\u5c11\u542c\u8fc7**nginx**\uff0c\u6240\u4ee5\u4eca\u5929\u5c31\u804a\u804a\uff0c\u8fd8\u8bf7\u5927\u5bb6\u591a\u591a\u652f\u6301\uff5e</p> <p></p>"},{"location":"nginx/%E5%89%8D%E7%AB%AF%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3Nginx/#nginx_1","title":"Nginx\u662f\u4ec0\u4e48\uff1f","text":"<p><code>Nginx</code> (engine x) \u662f\u4e00\u4e2a**\u8f7b\u91cf\u7ea7\u3001\u9ad8\u6027\u80fd\u7684HTTP**\u548c**\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668**,\u540c\u65f6\u4e5f\u662f\u4e00\u4e2a**\u901a\u7528\u4ee3\u7406\u670d\u52a1\u5668**(TCP/UDP/IMAP/POP3/SMTP),\u6700\u521d\u7531\u4fc4\u7f57\u65af\u4ebaIgor Sysoev\u7f16\u5199\u3002</p> <p>\u7b80\u5355\u7684\u8bf4\uff1a</p> <ul> <li><code>Nginx</code>\u662f\u4e00\u4e2a\u62e5\u6709\u9ad8\u6027\u80fdHTTP\u548c\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u5176\u7279\u70b9\u662f<code>\u5360\u7528\u5185\u5b58\u5c11</code>\uff0c<code>\u5e76\u53d1\u80fd\u529b\u5f3a</code>\uff0c\u5e76\u4e14\u5728\u73b0\u5b9e\u4e2d\uff0cnginx\u7684\u5e76\u53d1\u80fd\u529b\u8981\u6bd4\u5728\u540c\u7c7b\u578b\u7684\u7f51\u9875\u670d\u52a1\u5668\u4e2d\u8868\u73b0\u8981\u597d</li> <li><code>Nginx</code>\u4e13\u4e3a<code>\u6027\u80fd\u4f18\u5316</code>\u800c\u5f00\u53d1\uff0c\u6700\u91cd\u8981\u7684\u8981\u6c42\u4fbf\u662f<code>\u6027\u80fd</code>\uff0c\u4e14\u5341\u5206\u6ce8\u91cd\u6548\u7387\uff0c\u6709\u62a5\u544anginx\u80fd\u652f\u6301\u9ad8\u8fbe50000\u4e2a\u5e76\u53d1\u8fde\u63a5\u6570</li> </ul>"},{"location":"nginx/%E5%89%8D%E7%AB%AF%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3Nginx/#_1","title":"\u6b63\u5411\u4ee3\u7406\u548c\u53cd\u5411\u4ee3\u7406","text":"<p>Nginx \u662f\u4e00\u4e2a\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u90a3\u4e48\u53cd\u5411\u4ee3\u7406\u662f\u4ec0\u4e48\u5462\uff1f\u6211\u4eec\u5148\u770b\u770b\u4ec0\u4e48\u53eb\u505a\u6b63\u5411\u4ee3\u7406</p> <p>\u6b63\u5411\u4ee3\u7406\uff1a\u5c40\u57df\u7f51\u4e2d\u7684\u7535\u8111\u7528\u6237\u60f3\u8981\u76f4\u63a5\u8bbf\u95ee\u7f51\u7edc\u662f\u4e0d\u53ef\u884c\u7684\uff0c\u53ea\u80fd\u901a\u8fc7\u4ee3\u7406\u670d\u52a1\u5668\uff08Server\uff09\u6765\u8bbf\u95ee\uff0c\u8fd9\u79cd\u4ee3\u7406\u670d\u52a1\u5c31\u88ab\u79f0\u4e3a\u6b63\u5411\u4ee3\u7406\u3002</p> <p>\u5c31\u597d\u6bd4\u6211\u4eec\u4fe9\u5728\u4e00\u5757\uff0c\u76f4\u63a5\u5bf9\u8bdd\u5373\u53ef\uff0c\u4f46\u5982\u679c\u6211\u548c\u4f60\u5206\u9694\u4e24\u5730\uff0c\u6211\u4eec\u8981\u60f3\u5bf9\u8bdd\uff0c\u5fc5\u987b\u501f\u52a9\u4e00\u4e2a\u901a\u8baf\u8bbe\u5907\uff08\u5982\uff1a\u7535\u8bdd\uff09\u6765\u6c9f\u901a\uff0c\u90a3\u4e48\u8fd9\u4e2a\u901a\u8baf\u8bbe\u5907\u5c31\u662f\"\u4ee3\u7406\u670d\u52a1\u5668\"\uff0c\u8fd9\u79cd\u884c\u4e3a\u79f0\u4e3a\u201c\u6b63\u5411\u4ee3\u7406\u201d</p> <p>\u90a3\u4e48\u53cd\u5411\u4ee3\u7406\u662f\u4ec0\u4e48\u5462\uff1f</p> <p>\u53cd\u5411\u4ee3\u7406\uff1a\u5ba2\u6237\u7aef\u65e0\u6cd5\u611f\u77e5\u4ee3\u7406\uff0c\u56e0\u4e3a\u5ba2\u6237\u7aef\u8bbf\u95ee\u7f51\u7edc\u4e0d\u9700\u8981\u914d\u7f6e\uff0c\u53ea\u8981\u628a\u8bf7\u6c42\u53d1\u9001\u5230\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u7531**\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\u53bb\u9009\u62e9\u76ee\u6807\u670d\u52a1\u5668**\u83b7\u53d6\u6570\u636e\uff0c\u7136\u540e\u518d\u8fd4\u56de\u5230\u5ba2\u6237\u7aef\uff0c\u6b64\u65f6\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\u548c\u76ee\u6807\u670d\u52a1\u5668\u5bf9\u5916\u5c31\u662f\u4e00\u4e2a\u670d\u52a1\u5668\uff0c\u66b4\u9732\u7684\u662f\u4ee3\u7406\u670d\u52a1\u5668\u5730\u5740\uff0c\u9690\u85cf\u4e86\u771f\u5b9e\u670d\u52a1\u5668IP\u5730\u5740\u3002</p> <p>\u5728\u6b63\u5411\u4ee3\u7406\u4e2d\uff0c\u6211\u5411\u4f60\u6253\u7535\u8bdd\uff0c\u4f60\u80fd\u770b\u5230\u5411\u4f60\u6253\u7535\u8bdd\u7684\u7535\u8bdd\u53f7\u7801\uff0c\u7531\u7535\u8bdd\u53f7\u7801\u77e5\u9053\u662f\u6211\u7ed9\u4f60\u6253\u7684\uff0c\u90a3\u4e48\u6b64\u65f6\u6211\u7528<code>\u865a\u62df\u7535\u8bdd</code>\u7ed9\u4f60\u6253\u8fc7\u53bb\uff0c\u4f60\u770b\u5230\u7684\u4e0d\u518d\u662f\u6211\u7684\u624b\u673a\u53f7\uff0c\u800c\u662f<code>\u865a\u62df\u53f7\u7801</code>,\u4f60\u4fbf\u4e0d\u77e5\u9053\u662f\u6211\u7ed9\u4f60\u6253\u7684\uff0c\u8fd9\u79cd\u884c\u4e3a\u53d8\u53eb\u505a\"\u53cd\u5411\u4ee3\u7406\"\u3002</p> <p>\u5728\u4ee5\u4e0a\u8ff0\u7684\u4f8b\u5b50\u7b80\u5355\u7684\u8bf4\u4e0b\uff1a</p> <ul> <li>\u6b63\u5411\u4ee3\u7406\uff1a\u6211\u901a\u8fc7\u6211\u7684\u624b\u673a\uff08proxy Server\uff09\u53bb\u7ed9\u4f60\u6253\u7535\u8bdd\uff0c\u76f8\u5f53\u4e8e**\u6211\u548c\u6211\u7684\u624b\u673a**\u662f\u4e00\u4e2a\u6574\u4f53\uff0c\u4e0e\u4f60\u7684\u624b\u673a\uff08Server\uff09\u662f\u5206\u5f00\u7684</li> <li>\u53cd\u5411\u4ee3\u7406\uff1a\u6211\u901a\u8fc7\u6211\u7684\u624b\u673a\uff08proxy Server\uff09\u901a\u8fc7\u8f6f\u4ef6\u8f6c\u5316\u4e3a\u865a\u62df\u53f7\u7801\u53bb\u7ed9\u4f60\u6253\u7535\u8bdd\uff0c\u6b64\u65f6\u76f8\u5f53\u4e8e**\u6211\u7684\u624b\u673a\u548c\u4f60\u7684\u624b\u673a**\u662f\u4e00\u4e2a\u6574\u4f53\uff0c\u548c\u6211\u662f\u5206\u5f00\u7684</li> </ul>"},{"location":"nginx/%E5%89%8D%E7%AB%AF%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3Nginx/#_2","title":"\u8d1f\u8f7d\u5747\u8861","text":"<p>\u8d1f\u8f7d\u5747\u8861\uff1a\u662f\u9ad8\u53ef\u7528\u7f51\u7edc\u57fa\u7840\u67b6\u6784\u7684\u5173\u952e\u7ec4\u4ef6\uff0c\u901a\u5e38\u7528\u4e8e\u5c06\u5de5\u4f5c**\u8d1f\u8f7d\u5206\u5e03\u5230\u591a\u4e2a\u670d\u52a1\u5668**\u6765\u63d0\u9ad8\u7f51\u7ad9\u3001\u5e94\u7528\u3001\u6570\u636e\u5e93\u6216\u5176\u4ed6\u670d\u52a1\u7684\u6027\u80fd\u548c\u53ef\u9760\u6027\u3002</p> <p>\u5982\u679c\u6ca1\u6709\u8d1f\u8f7d\u5747\u8861\uff0c\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u7aef\u7684\u64cd\u4f5c\u901a\u5e38\u662f\uff1a\u5ba2\u6237\u7aef\u8bf7\u6c42\u670d\u52a1\u7aef\uff0c\u7136\u540e\u670d\u52a1\u7aef\u53bb\u6570\u636e\u5e93\u67e5\u8be2\u6570\u636e\uff0c\u5c06\u8fd4\u56de\u7684\u6570\u636e\u5e26\u7ed9\u5ba2\u6237\u7aef\uff1a</p> <p></p> <p>\u4f46\u968f\u7740\u5ba2\u6237\u7aef\u8d8a\u6765\u8d8a\u591a\uff0c\u6570\u636e\uff0c\u8bbf\u95ee\u91cf\u98de\u901f\u589e\u957f\uff0c\u8fd9\u79cd\u60c5\u51b5\u663e\u7136\u65e0\u6cd5\u6ee1\u8db3\uff0c\u6211\u4eec\u4ece\u4e0a\u56fe\u53d1\u73b0\uff0c\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u548c\u76f8\u5e94\u90fd\u662f\u901a\u8fc7\u670d\u52a1\u7aef\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u52a0\u5927\u670d\u52a1\u7aef\u7684\u91cf\uff0c\u8ba9\u591a\u4e2a\u670d\u52a1\u7aef\u5206\u62c5\uff0c\u662f\u4e0d\u662f\u5c31\u80fd\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u4e86\u5462\uff1f</p> <p>\u4f46\u6b64\u65f6\u5bf9\u4e8e\u5ba2\u6237\u7aef\u800c\u8a00\uff0c\u4ed6\u53bb\u8bbf\u95ee\u8fd9\u4e2a\u5730\u5740\u5c31\u662f\u56fa\u5b9a\u7684\uff0c\u624d\u4e0d\u4f1a\u53bb\u7ba1\u90a3\u4e2a\u670d\u52a1\u7aef\u6709\u65f6\u95f4\uff0c\u4f60\u53ea\u8981\u7ed9\u6211\u8fd4\u56de\u51fa\u6570\u636e\u5c31OK\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u9700\u8981\u4e00\u4e2a\u201c\u7ba1\u7406\u8005\u201c\uff0c\u5c06\u8fd9\u4e9b\u670d\u52a1\u7aef\u627e\u4e2a\u8001\u5927\u8fc7\u6765\uff0c\u5ba2\u6237\u7aef\u76f4\u63a5\u627e\u8001\u5927\uff0c\u518d\u7531\u8001\u5927\u5206\u914d\u8c01\u5904\u7406\u8c01\u7684\u6570\u636e\uff0c\u4ece\u800c\u51cf\u8f7b\u670d\u52a1\u7aef\u7684\u538b\u529b\uff0c\u800c\u8fd9\u4e2a\u201d\u8001\u5927\u201c\u5c31\u662f**\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668**\uff0c\u800c\u7aef\u53e3\u53f7\u5c31\u662f\u8fd9\u4e9b\u670d\u52a1\u7aef\u7684\u5de5\u53f7\u3002</p> <p></p> <p>\u50cf\u8fd9\u6837\uff0c\u5f53\u670915\u4e2a\u8bf7\u6c42\u65f6\uff0c\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\u4f1a\u5e73\u5747\u5206\u914d\u7ed9\u670d\u52a1\u7aef\uff0c\u4e5f\u5c31\u662f\u5404\u5904\u74065\u4e2a\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u79f0\u4e4b\u4e3a\uff1a\u8d1f\u8f7d\u5747\u8861</p>"},{"location":"nginx/%E5%89%8D%E7%AB%AF%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3Nginx/#_3","title":"\u52a8\u9759\u5206\u79bb","text":"<p>\u5f53\u5ba2\u6237\u7aef\u53d1\u8d77\u8bf7\u6c42\u65f6\uff0c\u6b63\u5e38\u7684\u60c5\u51b5\u662f\u8fd9\u6837\u7684\uff1a</p> <p></p> <p>\u5c31\u597d\u6bd4\u4f60\u53bb\u627e\u5ba2\u670d\uff0c\u4e00\u822c\u5148\u662f\u5148\u8bf4\u4e00\u5927\u5806\u5b98\u65b9\u7684\u8bdd\uff0c\u4f60\u95ee\u4ec0\u4e48\uff0c\u4ed6\u90fd\u4f1a\u8fd9\u4e48\u8bf4\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5c31\u53eb**\u9759\u6001\u8d44\u6e90\uff08\u53ef\u4ee5\u7406\u89e3\u4e3a\u662fhtml\uff0ccss\uff09**</p> <p>\u800c\u56de\u7b54\u5177\u4f53\u7684\u95ee\u9898\u65f6\uff0c\u6bcf\u4e2a\u56de\u7b54\u90fd\u662f\u4e0d\u540c\u7684\uff0c\u800c\u8fd9\u4e9b\u4e0d\u540c\u7684\u5c31\u53eb\u505a**\u52a8\u6001\u8d44\u6e90\uff08\u4f1a\u6539\u53d8\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u662f\u53d8\u91cf\uff09**</p> <p>\u5728\u672a\u5206\u79bb\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u6bcf\u4e2a\u5ba2\u670d\u90fd\u8981\u5148\u8bf4\u51fa\u5b98\u65b9\u7684\u8bdd\uff0c\u5728\u6253\u51fa\u5177\u4f53\u7684\u56de\u7b54\uff0c\u8fd9\u65e0\u5f02\u52a0\u5927\u4e86\u5ba2\u670d\u7684\u5de5\u4f5c\u91cf\uff0c\u6240\u4ee5\u4e3a\u4e86\u66f4\u597d\u7684\u6709\u6548\u5229\u7528\u5ba2\u670d\u7684\u65f6\u95f4\uff0c\u6211\u4eec\u628a\u8fd9\u4e9b\u5b98\u65b9\u7684\u8bdd\u5206\u79bb\u51fa\u6765\uff0c\u627e\u4e2a\u673a\u5668\u4eba\uff0c\u8ba9\u4ed6\u4ee3\u66ff\u5ba2\u670d\u53bb\u8bf4\uff0c\u8fd9\u6837\u5c31\u51cf\u8f7b\u4e86\u5ba2\u670d\u7684\u5de5\u4f5c\u91cf\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u5c06\u52a8\u6001\u8d44\u6e90\u548c\u9759\u6001\u8d44\u6e90\u5206\u79bb\u51fa\u6765\uff0c\u4ea4\u7ed9\u4e0d\u540c\u7684\u670d\u52a1\u5668\u53bb\u89e3\u6790\uff0c\u8fd9\u6837\u5c31\u52a0\u5feb\u4e86\u89e3\u6790\u7684\u901f\u5ea6\uff0c\u4ece\u800c\u964d\u4f4e\u7531\u5355\u4e2a\u670d\u52a1\u5668\u7684\u538b\u529b</p> <p></p>"},{"location":"nginx/%E5%89%8D%E7%AB%AF%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3Nginx/#nginx_2","title":"\u5b89\u88c5 Nginx","text":"<p>\u5173\u4e8e nginx \u5982\u4f55\u5b89\u88c5\uff0c\u8fd9\u91cc\u5c31\u4e0d\u505a\u8fc7\u591a\u7684\u4ecb\u7ecd\u4e86\uff0c\u611f\u5174\u8da3\u7684\u5c0f\u4f19\u4f34\u770b\u770b\u8fd9\u7bc7\u6587\u7ae0\uff1a\u3010Linux\u3011\u4e2d\u5982\u4f55\u5b89\u88c5nginx</p> <p>\u8fd9\u91cc\u8ba9\u6211\u4eec\u770b\u770b\u4e00\u4e9b\u5e38\u7528\u7684\u547d\u4ee4\uff1a</p> <ul> <li>\u67e5\u770b\u7248\u672c\uff1a<code>./nginx -v</code></li> <li>\u542f\u52a8\uff1a<code>./nginx</code></li> <li>\u5173\u95ed\uff1a<code>./nginx -s stop</code>(\u63a8\u8350) \u6216 <code>./nginx -s quit</code></li> <li>\u91cd\u65b0\u52a0\u8f7dnginx\u914d\u7f6e\uff1a<code>./nginx -s reload</code></li> </ul>"},{"location":"nginx/%E5%89%8D%E7%AB%AF%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3Nginx/#nginx_3","title":"Nginx \u7684\u914d\u7f6e\u6587\u4ef6","text":"<p>\u914d\u7f6e\u6587\u4ef6\u5206\u4e3a\u4e09\u4e2a\u6a21\u5757\uff1a</p> <ul> <li>\u5168\u5c40\u5757\uff1a\u4ece\u914d\u7f6e\u6587\u4ef6\u5f00\u59cb\u5230events\u5757\u4e4b\u95f4\uff0c\u4e3b\u8981\u662f\u8bbe\u7f6e\u4e00\u4e9b**\u5f71\u54cdnginx\u670d\u52a1\u5668\u6574\u4f53\u8fd0\u884c\u7684\u914d\u7f6e\u6307\u4ee4**\u3002\uff08\u6309\u9053\u7406\u8bf4\uff1a\u5e76\u53d1\u5904\u7406\u670d\u52a1\u7684\u914d\u7f6e\u65f6\uff0c\u503c\u8d8a\u5927\uff0c\u53ef\u652f\u6301\u7684\u5e76\u53d1\u5904\u7406\u91cf\u8d8a\u591a\uff0c\u4f46\u6b64\u65f6\u4f1a\u53d7\u5230\u786c\u4ef6\u3001\u8f6f\u4ef6\u7b49\u8bbe\u5907\u7b49\u7684\u5236\u7ea6\uff09</li> <li>events\u5757\uff1a\u5f71\u54cd**nginx\u670d\u52a1\u5668\u4e0e\u7528\u6237\u7684\u7f51\u7edc\u8fde\u63a5**\uff0c\u5e38\u7528\u7684\u8bbe\u7f6e\u5305\u62ec\u662f\u5426\u5f00\u542f\u5bf9\u591aworkprocess\u4e0b\u7684\u7f51\u7edc\u8fde\u63a5\u8fdb\u884c\u5e8f\u5217\u5316\uff0c\u662f\u5426\u5141\u8bb8\u540c\u65f6\u63a5\u6536\u591a\u4e2a\u7f51\u7edc\u8fde\u63a5\u7b49\u7b49</li> <li>http\u5757\uff1a\u5982\u53cd\u5411\u4ee3\u7406\u548c\u8d1f\u8f7d\u5747\u8861\u90fd\u5728\u6b64\u914d\u7f6e</li> </ul>"},{"location":"nginx/%E5%89%8D%E7%AB%AF%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3Nginx/#location","title":"location \u7684\u5339\u914d\u89c4\u5219","text":"<p>\u5171\u6709\u56db\u79cd\u65b9\u5f0f\uff1a</p> <pre><code>js\n\nlocation[ = | ~ | ~* | ^~ ] url {\n\n    }\n</code></pre> <ul> <li><code>=</code> \uff1a<code>\u7cbe\u786e\u5339\u914d</code>\uff0c\u7528\u4e8e**\u4e0d\u542b\u6b63\u5219\u8868\u8fbe\u5f0f**\u7684url\u524d\uff0c\u8981\u6c42\u5b57\u7b26\u4e32\u4e0eurl**\u4e25\u683c\u5339\u914d**\uff0c\u5b8c\u5168\u76f8\u7b49\u65f6\uff0c\u624d\u80fd\u505c\u6b62\u5411\u4e0b\u641c\u7d22\u5e76\u5904\u7406\u8bf7\u6c42</li> <li><code>^~</code>\uff1a\u7528\u4e8e**\u4e0d\u542b\u6b63\u5219\u8868\u8fbe\u5f0f**\u7684url\u524d\uff0c\u8981\u6c42ngin\u670d\u52a1\u5668\u627e\u5230\u8868\u793a**url\u548c\u5b57\u7b26\u4e32\u5339\u914d\u5ea6\u6700\u9ad8**\u7684location\u540e\uff0c\u7acb\u5373\u4f7f\u7528\u6b64location\u5904\u7406\u8bf7\u6c42\uff0c\u800c\u4e0d\u518d\u5339\u914d</li> <li><code>~</code> \uff1a<code>\u6700\u4f73\u5339\u914d</code>\uff0c\u7528\u4e8e\u8868\u793aurl**\u5305\u542b\u6b63\u5219\u8868\u8fbe\u5f0f**\uff0c\u5e76\u4e14**\u533a\u5206**\u5927\u5c0f\u5199\u3002</li> <li><code>~*</code>\uff1a\u4e0e<code>~</code>\u4e00\u6837\uff0c\u53ea\u662f**\u4e0d\u533a\u5206**\u5927\u5c0f\u5199</li> </ul> <p>\u6ce8\u610f\uff1a</p> <ul> <li>\u5982\u679c <code>url</code> \u5305\u542b\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u5219\u4e0d\u9700\u8981<code>~</code> \u4f5c\u4e3a\u5f00\u5934\u8868\u793a</li> <li>nginx\u7684\u5339\u914d\u5177\u6709<code>\u4f18\u5148\u987a\u5e8f</code>\uff0c\u4e00\u65e6\u5339\u914d\u4e0a\u5c31\u4f1a\u7acb\u9a6c\u9000\u51fa\uff0c\u4e0d\u518d\u8fdb\u884c\u5411\u4e0b\u5339\u914d</li> </ul>"},{"location":"nginx/%E5%89%8D%E7%AB%AF%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3Nginx/#react-hooks","title":"\u73a9\u8f6c React Hooks \u5c0f\u518c","text":"<p>\u5c0f\u518c\u94fe\u63a5\uff1a\u300a\u73a9\u8f6c React Hooks\u300b</p> <p>\u77e5\u5176\u7136\uff0c\u77e5\u5176\u6240\u4ee5\u7136\u3002React Hooks \u5e26\u6765\u7684\u5168\u65b0\u673a\u5236\u8ba9\u4eba\u8033\u76ee\u4e00\u65b0\uff0c\u56e0\u4e3a\u5b83\u62d3\u5c55\u4e86 React \u7684\u5f00\u53d1\u601d\u8def\uff0c\u4e3a React \u5f00\u53d1\u8005\u63d0\u4f9b\u4e86\u4e00\u79cd\u66f4\u65b9\u4fbf\u3001\u66f4\u7b80\u6d01\u7684\u9009\u62e9\u3002</p> <p>\u5728\u5f15\u5165 Hooks \u7684\u6982\u5ff5\u540e\uff0c\u51fd\u6570\u7ec4\u4ef6\u65e2\u4fdd\u7559\u4e86\u539f\u672c\u7684\u7b80\u6d01\uff0c\u4e5f\u5177\u5907\u4e86\u72b6\u6001\u7ba1\u7406\u3001\u751f\u547d\u5468\u671f\u7ba1\u7406\u7b49\u80fd\u529b\uff0c\u5728\u539f\u6765 Class \u7ec4\u4ef6\u6240\u5177\u5907\u7684\u80fd\u529b\u57fa\u7840\u4e0a\uff0c\u8fd8\u89e3\u51b3\u4e86 Class \u7ec4\u4ef6\u5b58\u5728\u7684\u4e00\u4e9b\u4ee3\u7801\u5197\u4f59\u3001\u903b\u8f91\u96be\u4ee5\u590d\u7528\u7b49\u95ee\u9898\u3002\u56e0\u6b64\uff0c\u5728\u5982\u4eca\u7684 React \u4e2d\uff0cHooks \u5df2\u7ecf\u9010\u6e10\u53d6\u4ee3\u4e86 Class \u7684\u5730\u4f4d\uff0c\u6210\u4e86\u4e3b\u5bfc\u3002</p> <p>\u800c\u4e14\uff0cHooks \u76f8\u5bf9\u4e8e Class \u800c\u8a00\uff0c\u66f4\u5bb9\u6613\u4e0a\u624b\uff0c\u5176<code>\u7b80\u6d01\u6027\u3001\u903b\u8f91\u590d\u7528\u6027</code>\u7b49\u7279\u6027\u6df1\u53d7\u5f00\u53d1\u8005\u559c\u7231\uff0c\u53ef\u8c13\u662f<code>\u524d\u7aef\u754c\u7684\"\u6d41\u91cf\u660e\u661f\"</code>\uff0c\u4e0d\u6b62 React\uff0cVue 3.0 \u3001Preact\u3001Solid.js \u7b49\u6846\u67b6\u4e5f\u90fd\u9009\u62e9\u52a0\u5165 Hooks \u7684\u5927\u5bb6\u5ead\uff0c\u524d\u7aef\u7684\u65e5\u5e38\u5de5\u4f5c\u4e5f\u5728\u8d8b\u5411\u4e8e Hooks \u5f00\u53d1\u3002</p> <p>\u56e0\u6b64\uff0c\u638c\u63e1\u597d React Hooks \u662f\u975e\u5e38\u6709\u5fc5\u8981\u7684\u4e00\u4ef6\u4e8b\u3002\u672c\u5c0f\u518c\u4f1a\u901a\u8fc7\u57fa\u7840\u7bc7\u3001\u539f\u7801\u7bc7\u3001\u5b9e\u8df5\u7bc7 <code>\u4e09\u5927\u65b9\u5411</code> \u63a2\u8ba8 Hooks\uff0c\u4ece\u539f\u7801\u7684\u89d2\u5ea6\u63a2\u5bfb React \u7684\u5965\u79d8\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u5c0f\u518c\u4f1a\u4ee5 React Hooks \u4e3a\u6838\u5fc3\uff0c\u540c\u65f6\u7a7f\u63d2\u5176\u4ed6\u77e5\u8bc6\uff0c\u5982 TS\u3001Jest\u3001Fiber \u7b49\u6838\u5fc3\u77e5\u8bc6\uff0c\u5e76\u5305\u542b React v18 \u7684\u5e76\u53d1\u3001\u6570\u636e\u6495\u88c2\u7b49\u6982\u5ff5\uff0c\u6700\u540e\u7ed3\u5408 Hooks \u5199\u4e00\u4e2a\u7b80\u6613\u7248 react-redux \u548c Form \u8868\u5355\uff0c\u901a\u8fc7\u5176\u8bbe\u8ba1\u601d\u60f3\uff0c\u52a9\u4f60\u5728\u9762\u8bd5\u4e2d\u8131\u9896\u800c\u51fa\u3002</p> <p>\u5c0f\u518c\u6574\u4f53\u8bbe\u8ba1\u5982\u4e0b<code>\u601d\u7ef4\u5bfc\u56fe</code>\u6240\u793a\uff1a</p> <p></p>"},{"location":"nginx/%E5%89%8D%E7%AB%AF%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3Nginx/#end","title":"End","text":"<p>\u5173\u4e8e\u5177\u4f53\u7684\u914d\u7f6e\u53ef\u4ee5\u53c2\u8003\uff1a\u5199\u7ed9\u524d\u7aef\u7684nginx\u6559\u7a0b</p>"},{"location":"nginx/%E5%89%8D%E7%AB%AF%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3Nginx/#_4","title":"\u5176\u4ed6\u597d\u6587","text":"<ul> <li>\u4e00\u7bc7\u8ba9\u4f60\u5b8c\u5168\u591f\u7528TS\u7684\u6307\u5357</li> <li>\ud83d\udd25\u82b1\u4e00\u4e2a\u5c0f\u65f6\uff0c\u8fc5\u901f\u4e86\u89e3ES6~ES12\u7684\u5168\u90e8\u7279\u6027</li> <li>10\u5206\u949f\uff0c\u6253\u9020\u4e00\u4e2a\u4e13\u5c5e\u4e8e\u4f60\u7684cli</li> <li>\u901a\u8fc7\u5f00\u6c34\u679c\u5e97\uff0c\u5e2e\u4f60\u5168\u9762\u4e86\u89e3package.json\u6587\u4ef6\u7684\u4f5c\u7528</li> <li>\u6253\u9020\u5f00\u7bb1\u5373\u7528\u7684 react \u79fb\u52a8\u7aef\u6846\u67b6</li> </ul>"},{"location":"nginx/%E5%B8%A6%E4%BD%A0%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E6%90%9E%E6%87%82Nginx/","title":"8\u5206\u949f\u5e26\u4f60\u6df1\u5165\u6d45\u51fa\u641e\u61c2Nginx","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 7694  \u9605\u8bfb16\u5206\u949f</p> <p>\u5f00\u59cb\u6b63\u6587\uff01</p> <p>\u6df1\u5165\u6d45\u51faNginx\uff1ahttps://link.zhihu.com/?target=https%3A//www.jianshu.com/p/5eab0f83e3b4</p> <p>https://zhuanlan.zhihu.com/p/34943332</p> <p>Nginx\u662f\u4e00\u6b3e\u8f7b\u91cf\u7ea7\u7684Web\u670d\u52a1\u5668\u3001\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u7531\u4e8e\u5b83\u7684\u5185\u5b58\u5360\u7528\u5c11\uff0c\u542f\u52a8\u6781\u5feb\uff0c\u9ad8\u5e76\u53d1\u80fd\u529b\u5f3a\uff0c\u5728\u4e92\u8054\u7f51\u9879\u76ee\u4e2d\u5e7f\u6cdb\u5e94\u7528\u3002</p> <p></p> <p>\u67b6\u6784\u56fe</p> <p>\u4e0a\u56fe\u57fa\u672c\u4e0a\u8bf4\u660e\u4e86\u5f53\u4e0b\u6d41\u884c\u7684\u6280\u672f\u67b6\u6784\uff0c\u5176\u4e2dNginx\u6709\u70b9\u5165\u53e3\u7f51\u5173\u7684\u5473\u9053\u3002</p>"},{"location":"nginx/%E5%B8%A6%E4%BD%A0%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E6%90%9E%E6%87%82Nginx/#_1","title":"\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\uff1f","text":"<p>\u7ecf\u5e38\u542c\u4eba\u8bf4\u5230\u4e00\u4e9b\u672f\u8bed\uff0c\u5982\u53cd\u5411\u4ee3\u7406\uff0c\u90a3\u4e48\u4ec0\u4e48\u662f\u53cd\u5411\u4ee3\u7406\uff0c\u4ec0\u4e48\u53c8\u662f\u6b63\u5411\u4ee3\u7406\u5462\uff1f</p> <p>\u6b63\u5411\u4ee3\u7406\uff1a</p> <p></p> <p>\u6b63\u5411\u4ee3\u7406\u793a\u610f\u56fe</p> <p>\u53cd\u5411\u4ee3\u7406\uff1a</p> <p></p> <p>\u53cd\u5411\u4ee3\u7406\u793a\u610f\u56fe</p> <p>\u7531\u4e8e\u9632\u706b\u5899\u7684\u539f\u56e0\uff0c\u6211\u4eec\u5e76\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u8c37\u6b4c\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u501f\u52a9VPN\u6765\u5b9e\u73b0\uff0c\u8fd9\u5c31\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u6b63\u5411\u4ee3\u7406\u7684\u4f8b\u5b50\u3002\u8fd9\u91cc\u4f60\u80fd\u591f\u53d1\u73b0\uff0c\u6b63\u5411\u4ee3\u7406\u201c\u4ee3\u7406\u201d\u7684\u662f\u5ba2\u6237\u7aef\uff0c\u800c\u4e14\u5ba2\u6237\u7aef\u662f\u77e5\u9053\u76ee\u6807\u7684\uff0c\u800c\u76ee\u6807\u662f\u4e0d\u77e5\u9053\u5ba2\u6237\u7aef\u662f\u901a\u8fc7VPN\u8bbf\u95ee\u7684\u3002</p> <p>\u5f53\u6211\u4eec\u5728\u5916\u7f51\u8bbf\u95ee\u767e\u5ea6\u7684\u65f6\u5019\uff0c\u5176\u5b9e\u4f1a\u8fdb\u884c\u4e00\u4e2a\u8f6c\u53d1\uff0c\u4ee3\u7406\u5230\u5185\u7f51\u53bb\uff0c\u8fd9\u5c31\u662f\u6240\u8c13\u7684\u53cd\u5411\u4ee3\u7406\uff0c\u5373\u53cd\u5411\u4ee3\u7406\u201c\u4ee3\u7406\u201d\u7684\u662f\u670d\u52a1\u5668\u7aef\uff0c\u800c\u4e14\u8fd9\u4e00\u4e2a\u8fc7\u7a0b\u5bf9\u4e8e\u5ba2\u6237\u7aef\u800c\u8a00\u662f\u900f\u660e\u7684\u3002</p>"},{"location":"nginx/%E5%B8%A6%E4%BD%A0%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E6%90%9E%E6%87%82Nginx/#nginxmaster-worker","title":"Nginx\u7684Master-Worker\u6a21\u5f0f","text":"<p>nginx\u8fdb\u7a0b</p> <p>\u542f\u52a8Nginx\u540e\uff0c\u5176\u5b9e\u5c31\u662f\u572880\u7aef\u53e3\u542f\u52a8\u4e86Socket\u670d\u52a1\u8fdb\u884c\u76d1\u542c\uff0c\u5982\u56fe\u6240\u793a\uff0cNginx\u6d89\u53caMaster\u8fdb\u7a0b\u548cWorker\u8fdb\u7a0b\u3002</p> <p></p> <p>Master-Worker\u6a21\u5f0f</p> <p></p> <p>nginx.conf</p> <p>Master\u8fdb\u7a0b\u7684\u4f5c\u7528\u662f\uff1f</p> <p>\u8bfb\u53d6\u5e76\u9a8c\u8bc1\u914d\u7f6e\u6587\u4ef6nginx.conf\uff1b\u7ba1\u7406worker\u8fdb\u7a0b\uff1b</p> <p>Worker\u8fdb\u7a0b\u7684\u4f5c\u7528\u662f\uff1f</p> <p>\u6bcf\u4e00\u4e2aWorker\u8fdb\u7a0b\u90fd\u7ef4\u62a4\u4e00\u4e2a\u7ebf\u7a0b\uff08\u907f\u514d\u7ebf\u7a0b\u5207\u6362\uff09\uff0c\u5904\u7406\u8fde\u63a5\u548c\u8bf7\u6c42\uff1b\u6ce8\u610fWorker\u8fdb\u7a0b\u7684\u4e2a\u6570\u7531\u914d\u7f6e\u6587\u4ef6\u51b3\u5b9a\uff0c\u4e00\u822c\u548cCPU\u4e2a\u6570\u76f8\u5173\uff08\u6709\u5229\u4e8e\u8fdb\u7a0b\u5207\u6362\uff09\uff0c\u914d\u7f6e\u51e0\u4e2a\u5c31\u6709\u51e0\u4e2aWorker\u8fdb\u7a0b\u3002</p>"},{"location":"nginx/%E5%B8%A6%E4%BD%A0%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E6%90%9E%E6%87%82Nginx/#nginx","title":"\u601d\u8003\uff1aNginx\u5982\u4f55\u505a\u5230\u70ed\u90e8\u7f72\uff1f","text":"<p>\u6240\u8c13\u70ed\u90e8\u7f72\uff0c\u5c31\u662f\u914d\u7f6e\u6587\u4ef6nginx.conf\u4fee\u6539\u540e\uff0c\u4e0d\u9700\u8981stop Nginx\uff0c\u4e0d\u9700\u8981\u4e2d\u65ad\u8bf7\u6c42\uff0c\u5c31\u80fd\u8ba9\u914d\u7f6e\u6587\u4ef6\u751f\u6548\uff01\uff08nginx -s reload \u91cd\u65b0\u52a0\u8f7d/nginx -t\u68c0\u67e5\u914d\u7f6e/nginx -s stop\uff09</p> <p>\u901a\u8fc7\u4e0a\u6587\u6211\u4eec\u5df2\u7ecf\u77e5\u9053worker\u8fdb\u7a0b\u8d1f\u8d23\u5904\u7406\u5177\u4f53\u7684\u8bf7\u6c42\uff0c\u90a3\u4e48\u5982\u679c\u60f3\u8fbe\u5230\u70ed\u90e8\u7f72\u7684\u6548\u679c\uff0c\u53ef\u4ee5\u60f3\u8c61\uff1a</p> <p>\u65b9\u6848\u4e00\uff1a</p> <p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6nginx.conf\u540e\uff0c\u4e3b\u8fdb\u7a0bmaster\u8d1f\u8d23\u63a8\u9001\u7ed9woker\u8fdb\u7a0b\u66f4\u65b0\u914d\u7f6e\u4fe1\u606f\uff0cwoker\u8fdb\u7a0b\u6536\u5230\u4fe1\u606f\u540e\uff0c\u66f4\u65b0\u8fdb\u7a0b\u5185\u90e8\u7684\u7ebf\u7a0b\u4fe1\u606f\u3002\uff08\u6709\u70b9valatile\u7684\u5473\u9053\uff09</p> <p>\u65b9\u6848\u4e8c\uff1a</p> <p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6nginx.conf\u540e\uff0c\u91cd\u65b0\u751f\u6210\u65b0\u7684worker\u8fdb\u7a0b\uff0c\u5f53\u7136\u4f1a\u4ee5\u65b0\u7684\u914d\u7f6e\u8fdb\u884c\u5904\u7406\u8bf7\u6c42\uff0c\u800c\u4e14\u65b0\u7684\u8bf7\u6c42\u5fc5\u987b\u90fd\u4ea4\u7ed9\u65b0\u7684worker\u8fdb\u7a0b\uff0c\u81f3\u4e8e\u8001\u7684worker\u8fdb\u7a0b\uff0c\u7b49\u628a\u90a3\u4e9b\u4ee5\u524d\u7684\u8bf7\u6c42\u5904\u7406\u5b8c\u6bd5\u540e\uff0ckill\u6389\u5373\u53ef\u3002</p> <p>Nginx\u91c7\u7528\u7684\u5c31\u662f\u65b9\u6848\u4e8c\u6765\u8fbe\u5230\u70ed\u90e8\u7f72\u7684\uff01</p>"},{"location":"nginx/%E5%B8%A6%E4%BD%A0%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E6%90%9E%E6%87%82Nginx/#nginx_1","title":"\u601d\u8003\uff1aNginx\u5982\u4f55\u505a\u5230\u9ad8\u5e76\u53d1\u4e0b\u7684\u9ad8\u6548\u5904\u7406\uff1f","text":"<p>\u4e0a\u6587\u5df2\u7ecf\u63d0\u53caNginx\u7684worker\u8fdb\u7a0b\u4e2a\u6570\u4e0eCPU\u7ed1\u5b9a\u3001worker\u8fdb\u7a0b\u5185\u90e8\u5305\u542b\u4e00\u4e2a\u7ebf\u7a0b\u9ad8\u6548\u56de\u73af\u5904\u7406\u8bf7\u6c42\uff0c\u8fd9\u7684\u786e\u6709\u52a9\u4e8e\u6548\u7387\uff0c\u4f46\u8fd9\u662f\u4e0d\u591f\u7684\u3002</p> <p>\u4f5c\u4e3a\u4e13\u4e1a\u7684\u7a0b\u5e8f\u5458\uff0c\u6211\u4eec\u53ef\u4ee5\u5f00\u4e00\u4e0b\u8111\u6d1e\uff1aBIO/NIO/AIO\u3001\u5f02\u6b65/\u540c\u6b65\u3001\u963b\u585e/\u975e\u963b\u585e...</p> <p>\u8981\u540c\u65f6\u5904\u7406\u90a3\u4e48\u591a\u7684\u8bf7\u6c42\uff0c\u8981\u77e5\u9053\uff0c\u6709\u7684\u8bf7\u6c42\u9700\u8981\u53d1\u751fIO\uff0c\u53ef\u80fd\u9700\u8981\u5f88\u957f\u65f6\u95f4\uff0c\u5982\u679c\u7b49\u7740\u5b83\uff0c\u5c31\u4f1a\u62d6\u6162worker\u7684\u5904\u7406\u901f\u5ea6\u3002</p> <p>Nginx\u91c7\u7528\u4e86Linux\u7684epoll\u6a21\u578b\uff0cepoll\u6a21\u578b\u57fa\u4e8e\u4e8b\u4ef6\u9a71\u52a8\u673a\u5236\uff0c\u5b83\u53ef\u4ee5\u76d1\u63a7\u591a\u4e2a\u4e8b\u4ef6\u662f\u5426\u51c6\u5907\u5b8c\u6bd5\uff0c\u5982\u679cOK\uff0c\u90a3\u4e48\u653e\u5165epoll\u961f\u5217\u4e2d\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u5f02\u6b65\u7684\u3002worker\u53ea\u9700\u8981\u4eceepoll\u961f\u5217\u5faa\u73af\u5904\u7406\u5373\u53ef\u3002</p>"},{"location":"nginx/%E5%B8%A6%E4%BD%A0%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E6%90%9E%E6%87%82Nginx/#nginx_2","title":"\u601d\u8003\uff1aNginx\u6302\u4e86\u600e\u4e48\u529e\uff1f","text":"<p>Nginx\u65e2\u7136\u4f5c\u4e3a\u5165\u53e3\u7f51\u5173\uff0c\u5f88\u91cd\u8981\uff0c\u5982\u679c\u51fa\u73b0\u5355\u70b9\u95ee\u9898\uff0c\u663e\u7136\u662f\u4e0d\u53ef\u63a5\u53d7\u7684\u3002</p> <p>\u7b54\u6848\u662f\uff1aKeepalived+Nginx\u5b9e\u73b0\u9ad8\u53ef\u7528\u3002</p> <p>Keepalived\u662f\u4e00\u4e2a\u9ad8\u53ef\u7528\u89e3\u51b3\u65b9\u6848\uff0c\u4e3b\u8981\u662f\u7528\u6765\u9632\u6b62\u670d\u52a1\u5668\u5355\u70b9\u53d1\u751f\u6545\u969c\uff0c\u53ef\u4ee5\u901a\u8fc7\u548cNginx\u914d\u5408\u6765\u5b9e\u73b0Web\u670d\u52a1\u7684\u9ad8\u53ef\u7528\u3002\uff08\u5176\u5b9e\uff0cKeepalived\u4e0d\u4ec5\u4ec5\u53ef\u4ee5\u548cNginx\u914d\u5408\uff0c\u8fd8\u53ef\u4ee5\u548c\u5f88\u591a\u5176\u4ed6\u670d\u52a1\u914d\u5408\uff09</p> <p>Keepalived+Nginx\u5b9e\u73b0\u9ad8\u53ef\u7528\u7684\u601d\u8def\uff1a</p> <p>\u7b2c\u4e00\uff1a\u8bf7\u6c42\u4e0d\u8981\u76f4\u63a5\u6253\u5230Nginx\u4e0a\uff0c\u5e94\u8be5\u5148\u901a\u8fc7Keepalived\uff08\u8fd9\u5c31\u662f\u6240\u8c13\u865a\u62dfIP\uff0cVIP\uff09</p> <p>\u7b2c\u4e8c\uff1aKeepalived\u5e94\u8be5\u80fd\u76d1\u63a7Nginx\u7684\u751f\u547d\u72b6\u6001\uff08\u63d0\u4f9b\u4e00\u4e2a\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u811a\u672c\uff0c\u5b9a\u671f\u68c0\u67e5Nginx\u8fdb\u7a0b\u72b6\u6001\uff0c\u8fdb\u884c\u6743\u91cd\u53d8\u5316,\uff0c\u4ece\u800c\u5b9e\u73b0Nginx\u6545\u969c\u5207\u6362\uff09</p> <p></p> <p>Keepalived+Nginx</p>"},{"location":"nginx/%E5%B8%A6%E4%BD%A0%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E6%90%9E%E6%87%82Nginx/#nginxconf","title":"\u6211\u4eec\u7684\u4e3b\u6218\u573a\uff1anginx.conf","text":"<p>\u5f88\u591a\u65f6\u5019\uff0c\u5728\u5f00\u53d1\u3001\u6d4b\u8bd5\u73af\u5883\u4e0b\uff0c\u6211\u4eec\u90fd\u5f97\u81ea\u5df1\u53bb\u914d\u7f6eNginx\uff0c\u5c31\u662f\u53bb\u914d\u7f6enginx.conf\u3002</p> <p>nginx.conf\u662f\u5178\u578b\u7684\u5206\u6bb5\u914d\u7f6e\u6587\u4ef6\uff0c\u4e0b\u9762\u6211\u4eec\u6765\u5206\u6790\u4e0b\u3002</p>"},{"location":"nginx/%E5%B8%A6%E4%BD%A0%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E6%90%9E%E6%87%82Nginx/#_2","title":"\u865a\u62df\u4e3b\u673a","text":"<p>http\u7684server\u6bb5</p> <p></p> <p>\u8bbf\u95ee\u7ed3\u679c</p> <p>\u5176\u5b9e\u8fd9\u662f\u628aNginx\u4f5c\u4e3aweb server\u6765\u5904\u7406\u9759\u6001\u8d44\u6e90\u3002</p> <p>\u7b2c\u4e00\uff1alocation\u53ef\u4ee5\u8fdb\u884c\u6b63\u5219\u5339\u914d\uff0c\u5e94\u8be5\u6ce8\u610f\u6b63\u5219\u7684\u51e0\u79cd\u5f62\u5f0f\u4ee5\u53ca\u4f18\u5148\u7ea7\u3002\uff08\u8fd9\u91cc\u4e0d\u5c55\u5f00\uff09</p> <p>\u7b2c\u4e8c\uff1aNginx\u80fd\u591f\u63d0\u9ad8\u901f\u5ea6\u7684\u5176\u4e2d\u4e00\u4e2a\u7279\u6027\u5c31\u662f\uff1a\u52a8\u9759\u5206\u79bb\uff0c\u5c31\u662f\u628a\u9759\u6001\u8d44\u6e90\u653e\u5230Nginx\u4e0a\uff0c\u7531Nginx\u7ba1\u7406\uff0c\u52a8\u6001\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u540e\u7aef\u3002</p> <p>\u7b2c\u4e09\uff1a\u6211\u4eec\u53ef\u4ee5\u5728Nginx\u4e0b\u628a\u9759\u6001\u8d44\u6e90\u3001\u65e5\u5fd7\u6587\u4ef6\u5f52\u5c5e\u5230\u4e0d\u540c\u57df\u540d\u4e0b\uff08\u4e5f\u5373\u662f\u76ee\u5f55\uff09\uff0c\u8fd9\u6837\u65b9\u4fbf\u7ba1\u7406\u7ef4\u62a4\u3002</p> <p>\u7b2c\u56db\uff1aNginx\u53ef\u4ee5\u8fdb\u884cIP\u8bbf\u95ee\u63a7\u5236\uff0c\u6709\u4e9b\u7535\u5546\u5e73\u53f0\uff0c\u5c31\u53ef\u4ee5\u5728Nginx\u8fd9\u4e00\u5c42\uff0c\u505a\u4e00\u4e0b\u5904\u7406\uff0c\u5185\u7f6e\u4e00\u4e2a\u9ed1\u540d\u5355\u6a21\u5757\uff0c\u90a3\u4e48\u5c31\u4e0d\u5fc5\u7b49\u8bf7\u6c42\u901a\u8fc7Nginx\u8fbe\u5230\u540e\u7aef\u5728\u8fdb\u884c\u62e6\u622a\uff0c\u800c\u662f\u76f4\u63a5\u5728Nginx\u8fd9\u4e00\u5c42\u5c31\u5904\u7406\u6389\u3002</p>"},{"location":"nginx/%E5%B8%A6%E4%BD%A0%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E6%90%9E%E6%87%82Nginx/#proxy_pass","title":"\u53cd\u5411\u4ee3\u7406\u3010proxy_pass\u3011","text":"<p>\u6240\u8c13\u53cd\u5411\u4ee3\u7406\uff0c\u5f88\u7b80\u5355\uff0c\u5176\u5b9e\u5c31\u662f\u5728location\u8fd9\u4e00\u6bb5\u914d\u7f6e\u4e2d\u7684root\u66ff\u6362\u6210**proxy_pass**\u5373\u53ef\u3002root\u8bf4\u660e\u662f\u9759\u6001\u8d44\u6e90\uff0c\u53ef\u4ee5\u7531Nginx\u8fdb\u884c\u8fd4\u56de\uff1b\u800cproxy_pass\u8bf4\u660e\u662f\u52a8\u6001\u8bf7\u6c42\uff0c\u9700\u8981\u8fdb\u884c\u8f6c\u53d1\uff0c\u6bd4\u5982\u4ee3\u7406\u5230Tomcat\u4e0a\u3002</p> <p>\u53cd\u5411\u4ee3\u7406\uff0c\u4e0a\u9762\u5df2\u7ecf\u8bf4\u4e86\uff0c\u8fc7\u7a0b\u662f\u900f\u660e\u7684\uff0c\u6bd4\u5982\u8bf4request -&gt; Nginx -&gt; Tomcat\uff0c\u90a3\u4e48\u5bf9\u4e8eTomcat\u800c\u8a00\uff0c\u8bf7\u6c42\u7684IP\u5730\u5740\u5c31\u662fNginx\u7684\u5730\u5740\uff0c\u800c\u975e\u771f\u5b9e\u7684request\u5730\u5740\uff0c\u8fd9\u4e00\u70b9\u9700\u8981\u6ce8\u610f\u3002\u4e0d\u8fc7\u597d\u5728Nginx\u4e0d\u4ec5\u4ec5\u53ef\u4ee5\u53cd\u5411\u4ee3\u7406\u8bf7\u6c42\uff0c\u8fd8\u53ef\u4ee5\u7531\u7528\u6237**\u81ea\u5b9a\u4e49\u8bbe\u7f6eHTTP HEADER**\u3002</p>"},{"location":"nginx/%E5%B8%A6%E4%BD%A0%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E6%90%9E%E6%87%82Nginx/#upstream","title":"\u8d1f\u8f7d\u5747\u8861\u3010upstream\u3011","text":"<p>\u4e0a\u9762\u7684\u53cd\u5411\u4ee3\u7406\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7proxy_pass\u6765\u6307\u5b9aTomcat\u7684\u5730\u5740\uff0c\u5f88\u663e\u7136\u6211\u4eec\u53ea\u80fd\u6307\u5b9a\u4e00\u53f0Tomcat\u5730\u5740\uff0c\u90a3\u4e48\u6211\u4eec\u5982\u679c\u60f3\u6307\u5b9a\u591a\u53f0\u6765\u8fbe\u5230\u8d1f\u8f7d\u5747\u8861\u5462\uff1f</p> <p>\u7b2c\u4e00\uff0c\u901a\u8fc7**upstream**\u6765\u5b9a\u4e49\u4e00\u7ec4Tomcat\uff0c\u5e76\u6307\u5b9a\u8d1f\u8f7d\u7b56\u7565\uff08IPHASH\u3001\u52a0\u6743\u8bba\u8c03\u3001\u6700\u5c11\u8fde\u63a5\uff09\uff0c\u5065\u5eb7\u68c0\u67e5\u7b56\u7565\uff08Nginx\u53ef\u4ee5\u76d1\u63a7\u8fd9\u4e00\u7ec4Tomcat\u7684\u72b6\u6001\uff09\u7b49\u3002</p> <p>\u7b2c\u4e8c\uff0c\u5c06proxy_pass\u66ff\u6362\u6210upstream\u6307\u5b9a\u7684\u503c\u5373\u53ef\u3002</p> <p>\u8d1f\u8f7d\u5747\u8861\u53ef\u80fd\u5e26\u6765\u7684\u95ee\u9898\uff1f</p> <p>\u8d1f\u8f7d\u5747\u8861\u6240\u5e26\u6765\u7684\u660e\u663e\u7684\u95ee\u9898\u662f\uff0c\u4e00\u4e2a\u8bf7\u6c42\uff0c\u53ef\u4ee5\u5230A server\uff0c\u4e5f\u53ef\u4ee5\u5230B server\uff0c\u8fd9\u5b8c\u5168\u4e0d\u53d7\u6211\u4eec\u7684\u63a7\u5236\uff0c\u5f53\u7136\u8fd9\u4e5f\u4e0d\u662f\u4ec0\u4e48\u95ee\u9898\uff0c\u53ea\u662f\u6211\u4eec\u5f97\u6ce8\u610f\u7684\u662f\uff1a\u7528\u6237\u72b6\u6001\u7684\u4fdd\u5b58\u95ee\u9898\uff0c\u5982Session\u4f1a\u8bdd\u4fe1\u606f\uff0c\u4e0d\u80fd\u5728\u4fdd\u5b58\u5230\u670d\u52a1\u5668\u4e0a\u3002</p>"},{"location":"nginx/%E5%B8%A6%E4%BD%A0%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E6%90%9E%E6%87%82Nginx/#_3","title":"\u7f13\u5b58","text":"<p>\u7f13\u5b58\uff0c\u662fNginx\u63d0\u4f9b\u7684\uff0c\u53ef\u4ee5\u52a0\u5feb\u8bbf\u95ee\u901f\u5ea6\u7684\u673a\u5236\uff0c\u8bf4\u767d\u4e86\uff0c\u5728\u914d\u7f6e\u4e0a\u5c31\u662f\u4e00\u4e2a\u5f00\u542f\uff0c\u540c\u65f6\u6307\u5b9a\u76ee\u5f55\uff0c\u8ba9\u7f13\u5b58\u53ef\u4ee5\u5b58\u50a8\u5230\u78c1\u76d8\u4e0a\u3002\u5177\u4f53\u914d\u7f6e\uff0c\u5927\u5bb6\u53ef\u4ee5\u53c2\u8003Nginx\u5b98\u65b9\u6587\u6863\uff0c\u8fd9\u91cc\u5c31\u4e0d\u5728\u5c55\u5f00\u4e86\u3002</p>"},{"location":"nginx/%E6%8A%80%E6%9C%AF%E8%83%96-%E5%89%8D%E7%AB%AF%20Nginx%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/","title":"\u6280\u672f\u80d6-\u524d\u7aef Nginx\u5165\u95e8\u6559\u7a0b","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 33698  \u9605\u8bfb68\u5206\u949f</p> <p>\u6280\u672f\u80d6\u8bb2\u7684\u6bd4\u8f83\u521d\u7ea7\uff0c\u6709\u4e9b\u6bd4\u8f83\u5570\u55e6\uff0c\u9002\u5408\u7eaf\u65b0\u624b</p> <p>https://juejin.cn/post/6844903701459501070</p>"},{"location":"nginx/%E6%8A%80%E6%9C%AF%E8%83%96-%E5%89%8D%E7%AB%AF%20Nginx%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#_1","title":"\u89c6\u9891\u5217\u8868","text":"<p>\u539f\u59cb\u89c6\u9891\u53d1\u5728\u817e\u8baf\u89c6\u9891\u4e0a\uff0c2018\u5e74\u51fa\u54c1\uff0c\u6bd4\u8f83\u65e9</p> <ul> <li>\u7b2c01\u8282:\u521d\u8bc6Nginx\u548c\u73af\u5883\u51c6\u5907\uff1a v.qq.com/x/page/m073\u2026</li> <li>\u7b2c02\u8282:Nginx\u7684\u5feb\u901f\u642d\u5efa\uff1a v.qq.com/x/page/e073\u2026</li> <li>\u7b2c03\u8282:Nginx\u57fa\u672c\u914d\u7f6e\u6587\u4ef6\u8be6\u8bb2\uff1av.qq.com/x/page/j074\u2026</li> <li>\u7b2c04\u8282:Nginx\u670d\u52a1\u542f\u52a8\u3001\u505c\u6b62\u3001\u91cd\u542f\uff1av.qq.com/x/page/k074\u2026</li> <li>\u7b2c05\u8282:\u81ea\u5b9a\u4e49\u9519\u8bef\u9875\u548c\u8bbf\u95ee\u8bbe\u7f6e\uff1av.qq.com/x/page/p075\u2026</li> <li>\u7b2c06\u8282:Nginx\u8bbf\u95ee\u6743\u9650\u8be6\u8bb2\uff1av.qq.com/x/page/c076\u2026</li> <li>\u7b2c07\u8282:Nginx\u8bbe\u7f6e\u865a\u62df\u4e3b\u673a\uff1av.qq.com/x/page/d076\u2026</li> <li>\u7b2c08\u8282:Nginx\u4f7f\u7528\u57df\u540d\u8bbe\u7f6e\u865a\u62df\u4e3b\u673a\uff1av.qq.com/x/page/i076\u2026</li> <li>\u7b2c09\u8282:Nginx\u53cd\u5411\u4ee3\u7406\u7684\u8bbe\u7f6e\uff1av.qq.com/x/page/b076\u2026</li> <li>\u7b2c10\u8282:Nginx\u9002\u914dPC\u6216\u79fb\u52a8\u8bbe\u5907\uff1av.qq.com/x/page/l076\u2026</li> <li>\u7b2c11\u8282:Nginx\u7684Gzip\u538b\u7f29\u914d\u7f6e\uff1av.qq.com/x/page/u077\u2026</li> </ul>"},{"location":"nginx/%E6%8A%80%E6%9C%AF%E8%83%96-%E5%89%8D%E7%AB%AF%20Nginx%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#01nginx","title":"\u7b2c01\u8282:\u521d\u8bc6Nginx\u548c\u73af\u5883\u51c6\u5907","text":"<p>\u4f5c\u4e3a\u4e00\u4e2a\u524d\u7aef\uff0c\u6211\u76f8\u4fe1\u4f60\u4e00\u5b9a\u542c\u8bf4\u8fc7Nginx\u3002\u56e0\u4e3a\u5b83\u5728\u6700\u8fd1\u4e24\u5e74\u5b9e\u5728\u662f\u592a\u706b\u4e86\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u524d\u7aef\u5982\u679c\u4e0d\u4f1aNginx\uff0c\u90fd\u4e0d\u6562\u8ddf\u522b\u4eba\u8bf4\u81ea\u5df1\u662f\u5927\u524d\u7aef\u3002\u90a3Nginx\u5230\u5e95\u662f\u4ec0\u4e48\uff1f\u6211\u4eec\u8fd8\u662f\u5f15\u7528\u5b98\u65b9\u7684\u4ecb\u7ecd\u5427\uff1a</p> <p>\"Nginx\u662f\u4e00\u6b3e\u8f7b\u91cf\u7ea7\u7684HTTP\u670d\u52a1\u5668\uff0c\u91c7\u7528\u4e8b\u4ef6\u9a71\u52a8\u7684\u5f02\u6b65\u975e\u963b\u585e\u5904\u7406\u65b9\u5f0f\u6846\u67b6\uff0c\u8fd9\u8ba9\u5176\u5177\u6709\u6781\u597d\u7684IO\u6027\u80fd\uff0c\u65f6\u5e38\u7528\u4e8e\u670d\u52a1\u7aef\u7684\u53cd\u5411\u4ee3\u7406\u548c\u8d1f\u8f7d\u5747\u8861\u3002\"</p> <p>Nginx\u7684\u4f18\u70b9</p> <ul> <li>\u652f\u6301\u6d77\u91cf\u9ad8\u5e76\u53d1\uff1a\u91c7\u7528IO\u591a\u8def\u590d\u7528epoll\u3002\u5b98\u65b9\u6d4b\u8bd5Nginx\u80fd\u591f\u652f\u63015\u4e07\u5e76\u53d1\u94fe\u63a5\uff0c\u5b9e\u9645\u751f\u4ea7\u73af\u5883\u4e2d\u53ef\u4ee5\u652f\u64912-4\u4e07\u5e76\u53d1\u8fde\u63a5\u6570\u3002</li> <li>\u5185\u5b58\u6d88\u8017\u5c11\uff1a\u5728\u4e3b\u6d41\u7684\u670d\u52a1\u5668\u4e2dNginx\u76ee\u524d\u662f\u5185\u5b58\u6d88\u8017\u6700\u5c0f\u7684\u4e86\uff0c\u6bd4\u5982\u6211\u4eec\u7528Nginx+PHP\uff0c\u57283\u4e07\u5e76\u53d1\u94fe\u63a5\u4e0b\uff0c\u5f00\u542f10\u4e2aNginx\u8fdb\u7a0b\u6d88\u8017150M\u5185\u5b58\u3002</li> <li>\u514d\u8d39\u4f7f\u7528\u53ef\u4ee5\u5546\u4e1a\u5316\uff1aNginx\u4e3a\u5f00\u6e90\u8f6f\u4ef6\uff0c\u91c7\u7528\u7684\u662f2-clause BSD-like\u534f\u8bae\uff0c\u53ef\u4ee5\u514d\u8d39\u4f7f\u7528\uff0c\u5e76\u4e14\u53ef\u4ee5\u7528\u4e8e\u5546\u4e1a\u3002</li> <li>\u914d\u7f6e\u6587\u4ef6\u7b80\u5355\uff1a\u7f51\u7edc\u548c\u7a0b\u5e8f\u914d\u7f6e\u901a\u4fd7\u6613\u61c2\uff0c\u5373\u4f7f\u975e\u4e13\u4e1a\u8fd0\u7ef4\u4e5f\u80fd\u770b\u61c2\u3002</li> </ul> <p>\u5f53\u7136\u5b83\u7684\u6709\u70b9\u8fd8\u6709\u5f88\u591a\uff0c\u6bd4\u5982\u53cd\u5411\u4ee3\u7406\u529f\u80fd\uff0c\u8d1f\u8f7d\u5747\u8861\u529f\u80fd\uff0c\u6211\u4eec\u4f1a\u5728\u6587\u7ae0\u4e2d\u4e00\u4e00\u4ecb\u7ecd\uff0c\u6211\u8fd9\u91cc\u5c31\u4e0d\u8ddf\u5927\u5bb6\u8d58\u8ff0\u4e86\u3002</p> <p>\u73b0\u5728Nginx\u975e\u5e38\u706b \uff1a\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7<code>https://w3techs.com/</code> \u8fd9\u4e2a\u7f51\u7ad9\u770b\u5230\uff0cNginx\u5728\u670d\u52a1\u5668\u4e2d\u6392\u5728\u7b2c\u4e8c\u4f4d\uff0c\u4f46\u662f\u662f\u4e0a\u5347\u6700\u5feb\u7684\u7f51\u7ad9\uff0c\u5360\u6709\u7387\u8fbe\u523039.7%\u3002</p> <p></p> <p>\u4e3a\u4ec0\u4e48\u8981\u5b66\u4e60\u8fd9\u7bc7\u6587\u7ae0</p> <p>\u4f5c\u4e3a\u4e00\u4e2a\u524d\u7aef\uff0c\u6216\u591a\u6216\u5c11\u90fd\u4f1a\u5bf9Nginx\u6709\u4e00\u4e9b\u7ecf\u9a8c\uff0c\u90a3\u4e3a\u4ec0\u4e48\u8fd8\u8981\u5b66\u4e60\u90a3\uff1f \u4e0d\u7cfb\u7edf\uff1a\u4ee5\u524d\u53ef\u80fd\u4f60\u53ea\u4f1a\u914d\u7f6e\u67d0\u9879\u529f\u80fd\uff08\u7f51\u4e0a\u641c\u96c6\uff09\uff0c\u90fd\u662f\u788e\u7247\u5316\u7684\u77e5\u8bc6\uff0c\u4e0d\u6ca1\u6709\u5f62\u6210\u7cfb\u7edf\u5316\u3002\u8fd9\u6837\u5c31\u5bfc\u81f4\u4f60\u670d\u52a1\u51fa\u73b0\u95ee\u9898\u65f6\uff0c\u6839\u672c\u4e0d\u77e5\u9053\u4ece\u54ea\u91cc\u4e0b\u624b\u6765\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u3002</p> <p>\u90a3\u8fd9\u7bc7\u6587\u7ae0\u6211\u52aa\u529b\u505a\u5230\u5206\u529f\u80fd\uff0c\u5206\u5c42\u6b21\u7684\u7ed9\u5927\u5bb6\u7cfb\u7edf\u7684\u8fdb\u884c\u8bb2\u89e3\uff0c\u8ba9\u5927\u5bb6\u80fd\u57fa\u672c\u80dc\u4efbNginx\u7684\u914d\u7f6e\u548c\u8fd0\u7ef4\u5de5\u4f5c\u3002</p> <p>** \u5b66\u4e60\u73af\u5883 **</p> <p>\u5b66\u4e60\u73af\u5883\u4f60\u53ef\u4ee5\u6709\u4e09\u79cd\u9009\u62e9\uff1a</p> <ul> <li>\u81ea\u5df1\u627e\u4e2a\u7535\u8111\u642d\u5efa\uff1a\u9700\u8981\u81ea\u5df1\u6709\u95f2\u7f6e\u7535\u8111\u6216\u8005\u670d\u52a1\u5668\uff0c\u4f18\u70b9\u662f\u7a33\u5b9a\u6027\u9ad8\uff0c\u53ef\u63a7\u80fd\u529b\u5f3a\uff0c\u5b66\u4e60\u66f4\u65b9\u4fbf\u3002</li> <li>\u8d2d\u4e70\u963f\u91cc\u4e91ECS\uff1a\u9700\u8981\u82b1\u4e9b\u5c0f\u94b1\uff0c\u6211\u9009\u7528\u7684\u662f\u963f\u91cc\u4e91\u5b66\u751fECS\uff0c\u6bcf\u67089.5\u5143\u3002</li> <li>\u4f7f\u7528\u865a\u62df\u8f6f\u4ef6\uff1a\u8fd9\u4e2a\u5982\u679c\u7535\u8111\u914d\u7f6e\u9ad8\uff0c\u53ef\u4ee5\u5b89\u88c5\u865a\u62df\u8f6f\u4ef6\uff0c\u7f3a\u70b9\u662f\u9ebb\u70e6\uff0c\u5f71\u54cd\u7535\u8111\u6027\u80fd\uff0c\u800c\u4e14\u914d\u7f6e\u4e5f\u6bd4\u8f83\u591a\u3002</li> </ul> <p>\u6211\u9009\u62e9\u963f\u91cc\u4e91\u7684ECS\uff0c\u7eaf\u5c5e\u4e2a\u4eba\u61d2\u7701\u4e8b\uff0c\u4f46\u662f\u6211\u8ba4\u4e3a\u8fd9\u662f\u6700\u9ad8\u6548\u7684\u3002</p> <p>\u4e0b\u9762\u662f\u7fa4\u91cc\u7684\u5c0f\u4f19\u4f34\u63d0\u4f9b\u7684\u4e00\u4e2a\u963f\u91cc\u4e91\u7684\u4f18\u60e0\u4ef7\u683c\u3002</p> <p>\u73a9\u8f6c\u6821\u56ed\u751f\u6001 \uff0c\u53ea\u89819.5\u5143\u4e00\u4e2a\u6708 ,\u4f60\u4eec\u53ef\u4ee5\u914c\u60c5\u8d2d\u4e70\u3002 promotion.aliyun.com/ntms/act/ca\u2026</p> <p>\uff08Linux\u7684\u77e5\u8bc6\u6211\u8fd9\u91cc\u4e0d\u505a\u8fc7\u591a\u7684\u4ecb\u7ecd\uff0c\u5982\u679c\u4f60\u5bf9\u8fd9\u4e2a\u4e0d\u719f\u6089\u81ea\u5df1\u53bb\u6076\u8865\u4e00\u4e0b\u5427\uff09</p> <p>\u6211\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u662fCentOS 7.4 64\u4f4d\u7248\u672c\u3002</p> <p>\u7528yum\u8fdb\u884c\u5b89\u88c5\u5fc5\u8981\u7a0b\u5e8f</p> <p>\u5982\u679c\u4f60Linux\u7528\u7684\u5f88\u719f\u7ec3\u7684\u8bdd\uff0c\u6211\u60f3\u8fd9\u4e9b\u7a0b\u5e8f\u4f60\u4e00\u5b9a\u5df2\u7ecf\u7528<code>yum</code>\u5b89\u88c5\u8fc7\u4e86\uff0c\u4f46\u662f\u5982\u679c\u4f60\u8fd8\u4e0d\u719f\u6089Linux\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u7528yum\u8fdb\u884c\u5b89\u88c5\u5c31\u53ef\u4ee5\u4e86\u3002\uff08\u7136\u540e\u81ea\u5df1\u767e\u5ea6\u4e00\u4e0b\u8fd9\u4e9b\u4e1c\u897f\u7684\u7528\u5904\uff0c\u8fd9\u91cc\u4e0d\u505a\u8fc7\u591a\u7684\u4ecb\u7ecd\u4e86\uff0c\u53ea\u8981\u7167\u505a\u5c31\u53ef\u4ee5\u4e86\uff09</p> <pre><code>yum -y install gcc gcc-c++ autoconf pcre-devel make automake\nyum -y install wget httpd-tools vim\n</code></pre> <p>\u5efa\u7acb\u76ee\u5f55</p> <p>\u5176\u5b9e\u8fd9\u4e2a\u76ee\u5f55\u4f60\u662f\u53ef\u4ee5\u4e0d\u5efa\u7acb\u7684\uff0c\u4f46\u662f\u90a3\u6837\u4f60\u7684\u7cfb\u7edf\u4f1a\u5f88\u4e71\uff0c\u4e0d\u5229\u4e8e\u4ee5\u540e\u7684\u8fd0\u7ef4\u3002\u6240\u4ee5\u6211\u8fd9\u91cc\u6839\u636e\u672c\u4eba\u7684\u559c\u597d\u5efa\u7acb\u5982\u4e0b\u76ee\u5f55\u3002</p> <p>\u6b65\u9aa4\u5982\u4e0b(\u6b64\u6b65\u9aa4\u6839\u636e\u81ea\u5df1\u559c\u6b22\u5efa\u7acb)\uff1a</p> <ol> <li>\u8fdb\u5165\u7cfb\u7edf\u540e\uff0c\u5728\u76ee\u5f55\u4e0b\u5efa\u7acb\u4e86\u4e00\u4e2a<code>jspang</code>\u7684\u6587\u4ef6\u5939\u3002</li> <li>\u8fdb\u5165 jspang\u6587\u4ef6\u5939  ,\u547d\u4ee4\u662f <code>cd jspang</code>\u3002</li> <li>\u5206\u522b\u4f7f\u7528mkdir\u5efa\u7acb <code>app</code>,<code>backup</code>,<code>download</code>,<code>logs</code>,<code>work</code>\u6587\u4ef6\u5939\u3002</li> </ol> <p>\u8fd9\u8282\u8bfe\u6211\u4eec\u5c31\u5148\u4f5c\u5230\u8fd9\u91cc\uff0c\u4e0b\u8282\u8bfe\u6211\u4eec\u5f00\u59cb\u5b89\u88c5\u6211\u4eecNginx\u3002</p>"},{"location":"nginx/%E6%8A%80%E6%9C%AF%E8%83%96-%E5%89%8D%E7%AB%AF%20Nginx%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#02nginx","title":"\u7b2c02\u8282:Nginx\u7684\u5feb\u901f\u642d\u5efa","text":"<p>\u6211\u7684\u6587\u7ae0\u591a\u662f\u6ce8\u91cd\u4e8e\u52a8\u624b\u64cd\u4f5c\uff0c\u800c\u8f7b\u7406\u8bba\u7684\uff0c\u56e0\u4e3a\u6280\u672f\u80d6\u8fd9\u4e2a\u534a\u540a\u5b50\u8fd8\u6ca1\u80fd\u529b\u628a\u7406\u8bba\u77e5\u8bc6\u8bb2\u7684\u6bd4\u4e66\u597d\uff0c\u6240\u4ee5\u7406\u8bba\u90e8\u5206\u4f60\u53ef\u4ee5\u81ea\u884c\u767e\u5ea6\u67e5\u9605\u6216\u8005\u770b\u4e66\u5b66\u4e60\uff08\u9700\u8981\u8bf4\u660e\u7684\u662f\u6280\u672f\u80d6\u5e76\u4e0d\u662f\u8bf4\u7406\u8bba\u4e0d\u91cd\u8981\uff09\u3002</p> <p>Nginx\u7248\u672c\u8bf4\u660e</p> <ul> <li>Mainline version \uff1a\u5f00\u53d1\u7248,\u4e3b\u8981\u662f\u7ed9\u5e7f\u5927Nginx\u7231\u597d\u8005\uff0c\u6d4b\u8bd5\u3001\u7814\u7a76\u548c\u5b66\u4e60\u7684\uff0c\u4f46\u662f\u4e0d\u5efa\u8bae\u4f7f\u7528\u4e8e\u751f\u4ea7\u73af\u5883\u3002</li> <li>Stable version : \u7a33\u5b9a\u7248,\u4e5f\u5c31\u662f\u6211\u4eec\u8bf4\u7684\u957f\u671f\u66f4\u65b0\u7248\u672c\u3002\u8fd9\u79cd\u7248\u672c\u4e00\u822c\u6bd4\u8f83\u6210\u719f\uff0c\u7ecf\u8fc7\u957f\u65f6\u95f4\u7684\u66f4\u65b0\u6d4b\u8bd5\uff0c\u6240\u4ee5\u8fd9\u79cd\u7248\u672c\u4e5f\u662f\u4e3b\u6d41\u7248\u672c\u3002</li> <li>legacy version : \u5386\u53f2\u7248\u672c\uff0c\u5982\u679c\u4f60\u9700\u8981\u4ee5\u524d\u7684\u7248\u672c\uff0cNginx\u4e5f\u662f\u6709\u63d0\u4f9b\u7684\u3002</li> </ul> <p>\u660e\u767d\u4e86\u8fd9\u4e09\u79cd\u7248\u672c\u7684\u533a\u522b\u540e\uff0c\u5c31\u53ef\u4ee5\u660e\u660e\u767d\u767d\u7684\u4f7f\u7528\u4e86\u3002</p> <p>\u57fa\u4e8eYum\u7684\u65b9\u5f0f\u5b89\u88c5Nginx</p> <p>\u6211\u4eec\u53ef\u4ee5\u5148\u6765\u67e5\u770b\u4e00\u4e0byum\u662f\u5426\u5df2\u7ecf\u5b58\u5728\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code>yum list | grep nginx\n</code></pre> <p>\u5982\u679c\u51fa\u73b0\u7c7b\u4f3c\u4e0b\u9762\u7684\u5185\u5bb9\uff0c\u8bf4\u660eyum\u6e90\u662f\u5b58\u5728\u7684\u3002</p> <p></p> <p>(\u7ec6\u5fc3\u7684\u5c0f\u4f19\u4f34\u53ef\u4ee5\u53d1\u73b0\u7cfb\u7edf\u539f\u6765\u7684\u6e90\u53ea\u652f\u63011.1.12\u7248\u672c\uff0c\u8fd9\u7248\u672c\u6709\u4e9b\u4f4e)</p> <p>\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u6216\u8005\u4e0d\u662f\u4f60\u9700\u8981\u7684\u7248\u672c\uff0c\u90a3\u6211\u4eec\u53ef\u4ee5\u81ea\u884c\u914d\u7f6eyum\u6e90\uff0c\u4e0b\u9762\u662f\u5b98\u7f51\u63d0\u4f9b\u7684\u6e90\uff0c\u6211\u4eec\u53ef\u4ee5\u653e\u5fc3\u5927\u80c6\u7684\u4f7f\u7528\u3002</p> <pre><code>[nginx]\nname=nginx repo\nbaseurl=http://nginx.org/packages/OS/OSRELEASE/$basearch/\ngpgcheck=0\nenabled=1\n</code></pre> <p>\u590d\u5236\u4e0a\u9762\u7684\u4ee3\u7801\uff0c\u7136\u540e\u5728\u7ec8\u7aef\u91cc\u8f93\u5165\uff1a</p> <pre><code>vim /etc/yum.repos.d/nginx.repo\n</code></pre> <p>\u7136\u540e\u628a\u4ee3\u7801\u590d\u5236\u8fdb\u53bb\uff0c\u8fd9\u91cc\u4f60\u53ef\u80fd\u9700\u8981\u4e00\u4e9bVim\u7684\u64cd\u4f5c\u77e5\u8bc6\uff0c\u5982\u679c\u4e0d\u719f\u6089\uff0c\u53ef\u4ee5\u81ea\u884c\u5b66\u4e60\u4e00\u4e0b\uff0c\u5f53\u7136\u6211\u89c6\u9891\u4e2d\u4e5f\u662f\u6709\u8bb2\u89e3\u7684\u3002</p> <p>\u8d4b\u503c\u5b8c\u6210\u540e\uff0c\u4f60\u9700\u8981\u4fee\u6539\u4e00\u4e0b\u5bf9\u5e94\u7684\u64cd\u4f5c\u7cfb\u7edf\u548c\u7248\u672c\u53f7\uff0c\u56e0\u4e3a\u6211\u7684\u662fcentos\u548c7\u7684\u7248\u672c\uff0c\u6240\u4ee5\u6539\u4e3a\u8fd9\u6837\u3002</p> <pre><code>baseurl=http://nginx.org/packages/centos/7/$basearch/\n</code></pre> <p>\u4f60\u53ef\u4ee5\u6839\u636e\u4f60\u7684\u7cfb\u7edf\u6216\u9700\u8981\u7684\u7248\u672c\u8fdb\u884c\u4fee\u6539\u3002</p> <p>\u5982\u679c\u90fd\u5df2\u7ecf\u51c6\u5907\u597d\u4e86\uff0c\u90a3\u5c31\u53ef\u4ee5\u5f00\u59cb\u5b89\u88c5\u4e86\uff0c\u5b89\u88c5\u7684\u547d\u4ee4\u975e\u5e38\u7b80\u5355\uff1a</p> <pre><code>yum install nginx\n</code></pre> <p>\u5b89\u88c5\u5b8c\u6210\u540e\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4\uff0c\u6765\u68c0\u6d4bNginx\u7684\u7248\u672c\u3002</p> <pre><code>nginx -v\n</code></pre> <p>\u5982\u679c\u51fa\u73b0\u4e0b\u9762\u56fe\u7247\u7684\u5185\u5bb9\uff0c\u8bf4\u660eNginx\u5c31\u5b89\u88c5\u6210\u529f\u4e86\u3002</p> <p></p> <p>\u5230\u8fd9\u91cc\u4f60\u5c31\u628a\u6700\u65b0\u7248\u672c\u7684Nginx\u5b89\u88c5\u5230\u4e86Linux\u7cfb\u7edf\u4e2d\uff0c\u4e5f\u7b97\u662f\u4e00\u4e2a\u975e\u5e38\u597d\u7684\u5f00\u59cb\u3002\u5c0f\u4f19\u4f34\u4e00\u5b9a\u8981\u52a8\u624b\u4f5c\u4e00\u4e0b\u54e6\uff0c\u542c\u662f\u542c\u4e0d\u4f1a\u7684\uff0c\u4f60\u9700\u8981\u52a8\u624b\u4f5c\u4e00\u4e0b\u3002</p>"},{"location":"nginx/%E6%8A%80%E6%9C%AF%E8%83%96-%E5%89%8D%E7%AB%AF%20Nginx%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#03nginx","title":"\u7b2c03\u8282\uff1aNginx\u57fa\u672c\u914d\u7f6e\u6587\u4ef6\u8be6\u8bb2","text":"<p>\u73b0\u5728Nginx\u5df2\u7ecf\u987a\u5229\u5b89\u88c5\u5b8c\u6210\u4e86\uff0c\u4e4b\u540e\u7684\u4efb\u52a1\u5c31\u662f\u8981\u5b66\u4e60\u914d\u7f6e\u548c\u4f7f\u7528\u5b83\u4e86\u3002\u4e2a\u4eba\u662f\u6bd4\u8f83\u4eab\u53d7\u8fd9\u4e2a\u8fc7\u7a0b\u7684\uff0c\u8fd9\u5c31\u597d\u50cf\u6709\u4e00\u5339\u5145\u6ee1\u91ce\u6027\u7684\u6c57\u8840\u5b9d\u9a6c\uff0c\u4f60\u73b0\u5728\u8981\u505a\u7684\u5c31\u662f\u9a6f\u670d\u5b83\u3002\u65e0\u8bba\u662f\u7ed3\u679c\u548c \u8fc7\u7a0b\u90fd\u90a3\u4e48\u7f8e\u597d\u3002</p> <p>\u67e5\u770bNginx\u7684\u5b89\u88c5\u76ee\u5f55</p> <p>\u5728\u4f7f\u7528<code>yum</code>\u5b89\u88c5\u5b8cNginx\u540e\uff0c\u9700\u8981\u77e5\u9053\u7cfb\u7edf\u4e2d\u591a\u4e86\u90a3\u4e9b\u6587\u4ef6\uff0c\u5b83\u4eec\u90fd\u5b89\u88c5\u5230\u4e86\u90a3\u91cc\u3002\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u8fdb\u884c\u67e5\u770b\uff1a</p> <pre><code>rpm -ql nginx\n</code></pre> <p>rpm \u662flinux\u7684rpm\u5305\u7ba1\u7406\u5de5\u5177\uff0c-q \u4ee3\u8868\u8be2\u95ee\u6a21\u5f0f\uff0c-l \u4ee3\u8868\u8fd4\u56de\u5217\u8868\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u627e\u5230nginx\u7684\u6240\u6709\u5b89\u88c5\u4f4d\u7f6e\u4e86\u3002</p> <p>\u5217\u8868\u5217\u51fa\u7684\u5185\u5bb9\u8fd8\u662f\u6bd4\u8f83\u591a\u7684\uff0c\u6211\u4eec\u5c3d\u91cf\u7ed9\u5927\u5bb6\u8fdb\u884c\u8bb2\u89e3\uff0c\u6211\u4eec\u8fd9\u8282\u5148\u6765\u770b\u770b\u91cd\u8981\u7684\u6587\u4ef6\u3002</p> <p>nginx.conf\u6587\u4ef6\u89e3\u8bfb</p> <p>nginx.conf \u6587\u4ef6\u662fNginx\u603b\u914d\u7f6e\u6587\u4ef6\uff0c\u5728\u6211\u4eec\u642d\u5efa\u670d\u52a1\u5668\u65f6\u7ecf\u5e38\u8c03\u6574\u7684\u6587\u4ef6\u3002</p> <p>\u8fdb\u5165etc/nginx\u76ee\u5f55\u4e0b\uff0c\u7136\u540e\u7528vim\u8fdb\u884c\u6253\u5f00</p> <pre><code>cd /etc/nginx\nvim nginx.conf\n</code></pre> <p>\u4e0b\u9762\u662f\u6587\u4ef6\u7684\u8be6\u7ec6\u6ce8\u91ca\uff0c\u6211\u51e0\u4e4e\u628a\u6bcf\u4e00\u53e5\u90fd\u8fdb\u884c\u4e86\u6ce8\u91ca\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u4f60\u7684\u9700\u8981\u6765\u8fdb\u884c\u914d\u7f6e\u3002</p> <pre><code>#\u8fd0\u884c\u7528\u6237\uff0c\u9ed8\u8ba4\u5373\u662fnginx\uff0c\u53ef\u4ee5\u4e0d\u8fdb\u884c\u8bbe\u7f6e\nuser  nginx;\n#Nginx\u8fdb\u7a0b\uff0c\u4e00\u822c\u8bbe\u7f6e\u4e3a\u548cCPU\u6838\u6570\u4e00\u6837\nworker_processes  1;   \n#\u9519\u8bef\u65e5\u5fd7\u5b58\u653e\u76ee\u5f55\nerror_log  /var/log/nginx/error.log warn;\n#\u8fdb\u7a0bpid\u5b58\u653e\u4f4d\u7f6e\npid        /var/run/nginx.pid;\n\n\nevents {\n    worker_connections  1024; # \u5355\u4e2a\u540e\u53f0\u8fdb\u7a0b\u7684\u6700\u5927\u5e76\u53d1\u6570\n}\n\n\nhttp {\n    include       /etc/nginx/mime.types;   #\u6587\u4ef6\u6269\u5c55\u540d\u4e0e\u7c7b\u578b\u6620\u5c04\u8868\n    default_type  application/octet-stream;  #\u9ed8\u8ba4\u6587\u4ef6\u7c7b\u578b\n    #\u8bbe\u7f6e\u65e5\u5fd7\u6a21\u5f0f\n    log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n                      '$status $body_bytes_sent \"$http_referer\" '\n                      '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\n    access_log  /var/log/nginx/access.log  main;   #nginx\u8bbf\u95ee\u65e5\u5fd7\u5b58\u653e\u4f4d\u7f6e\n\n    sendfile        on;   #\u5f00\u542f\u9ad8\u6548\u4f20\u8f93\u6a21\u5f0f\n    #tcp_nopush     on;    #\u51cf\u5c11\u7f51\u7edc\u62a5\u6587\u6bb5\u7684\u6570\u91cf\n\n    keepalive_timeout  65;  #\u4fdd\u6301\u8fde\u63a5\u7684\u65f6\u95f4\uff0c\u4e5f\u53eb\u8d85\u65f6\u65f6\u95f4\n\n    #gzip  on;  #\u5f00\u542fgzip\u538b\u7f29\n\n    include /etc/nginx/conf.d/*.conf; #\u5305\u542b\u7684\u5b50\u914d\u7f6e\u9879\u4f4d\u7f6e\u548c\u6587\u4ef6\n</code></pre> <p>default.conf \u914d\u7f6e\u9879\u8bb2\u89e3 \u6211\u4eec\u770b\u5230\u6700\u540e\u6709\u4e00\u4e2a\u5b50\u6587\u4ef6\u7684\u914d\u7f6e\u9879\uff0c\u90a3\u6211\u4eec\u6253\u5f00\u8fd9\u4e2ainclude\u5b50\u6587\u4ef6\u914d\u7f6e\u9879\u770b\u4e00\u4e0b\u91cc\u8fb9\u90fd\u6709\u4e9b\u4ec0\u4e48\u5185\u5bb9\u3002</p> <p>\u8fdb\u5165conf.d\u76ee\u5f55\uff0c\u7136\u540e\u4f7f\u7528<code>vim default.conf</code>\u8fdb\u884c\u67e5\u770b\u3002</p> <pre><code>server {\n    listen       80;   #\u914d\u7f6e\u76d1\u542c\u7aef\u53e3\n    server_name  localhost;  //\u914d\u7f6e\u57df\u540d\n\n    #charset koi8-r;     \n    #access_log  /var/log/nginx/host.access.log  main;\n\n    location / {\n        root   /usr/share/nginx/html;     #\u670d\u52a1\u9ed8\u8ba4\u542f\u52a8\u76ee\u5f55\n        index  index.html index.htm;    #\u9ed8\u8ba4\u8bbf\u95ee\u6587\u4ef6\n    }\n\n    #error_page  404              /404.html;   # \u914d\u7f6e404\u9875\u9762\n\n    # redirect server error pages to the static page /50x.html\n    #\n    error_page   500 502 503 504  /50x.html;   #\u9519\u8bef\u72b6\u6001\u7801\u7684\u663e\u793a\u9875\u9762\uff0c\u914d\u7f6e\u540e\u9700\u8981\u91cd\u542f\n    location = /50x.html {\n        root   /usr/share/nginx/html;\n    }\n\n    # proxy the PHP scripts to Apache listening on 127.0.0.1:80\n    #\n    #location ~ \\.php$ {\n    #    proxy_pass   http://127.0.0.1;\n    #}\n\n    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n    #\n    #location ~ \\.php$ {\n    #    root           html;\n    #    fastcgi_pass   127.0.0.1:9000;\n    #    fastcgi_index  index.php;\n    #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;\n    #    include        fastcgi_params;\n    #}\n\n    # deny access to .htaccess files, if Apache's document root\n    # concurs with nginx's one\n    #\n    #location ~ /\\.ht {\n    #    deny  all;\n    #}\n}\n</code></pre> <p>\u660e\u767d\u4e86\u8fd9\u4e9b\u914d\u7f6e\u9879\uff0c\u6211\u4eec\u77e5\u9053\u6211\u4eec\u7684\u670d\u52a1\u76ee\u5f55\u653e\u5728\u4e86<code>/usr/share/nginx/html</code>\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4\u8fdb\u5165\u770b\u4e00\u4e0b\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u3002</p> <pre><code>cd /usr/share/nginx/html\nls \n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\u76ee\u5f55\u4e0b\u9762\u6709\u4e24\u4e2a\u6587\u4ef6\uff0c50x.html \u548c index.html\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528vim\u8fdb\u884c\u7f16\u8f91\u3002</p> <p>\u5b66\u5230\u8fd9\u91cc\uff0c\u5176\u5b9e\u53ef\u4ee5\u9884\u60f3\u5230\uff0c\u6211\u4eec\u7684nginx\u670d\u52a1\u5668\u5df2\u7ecf\u53ef\u4ee5\u4e3ahtml\u63d0\u4f9b\u670d\u52a1\u5668\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u8bbf\u95eeip\u5730\u5740\u8bd5\u4e00\u8bd5\u3002</p> <p>\u963f\u91cc\u4e91\u7684\u5b89\u5168\u7ec4\u914d\u7f6e</p> <p>\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f\u963f\u91cc\u4e91\uff0c\u8bb0\u5f97\u5230ECS\u5b9e\u4f8b\u4e00\u4e0b\u6253\u5f00\u7aef\u53e3\u3002</p> <p>\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li>\u8fdb\u5165\u963f\u91cc\u4e91\u63a7\u5236\u53f0\uff0c\u5e76\u627e\u5230ECS\u5b9e\u4f8b\u3002</li> <li>\u70b9\u51fb\u5b9e\u4f8b\u540e\u8fb9\u7684\u201c\u66f4\u591a\u201d</li> <li>\u70b9\u51fb\u201c\u7f51\u7edc\u548c\u5b89\u5168\u7ec4\u201d \uff0c\u518d\u70b9\u51fb\u201c\u5b89\u5168\u7ec4\u914d\u7f6e\u201d</li> <li>\u53f3\u4e0a\u89d2\u6dfb\u52a0\u201c\u5b89\u5168\u7ec4\u914d\u7f6e\u201d</li> <li>\u8fdb\u884c80\u7aef\u53e3\u7684\u8bbe\u7f6e\uff0c\u5177\u4f53\u8bbe\u7f6e\u5982\u56fe\u5c31\u597d\u3002</li> </ol> <p></p> <p>\u5230\u8fd9\u91cc\u6211\u4eec\u5c31\u53ef\u4ee5\u6d4f\u89c8\u5230\u7a0b\u5e8f\u7684\u9875\u9762\u4e86\u3002\u672c\u8282\u5c31\u5230\u8fd9\u91cc\uff0c\u770b\u5230\u5982\u4e0b\u56fe\u7247\u9875\u9762\uff0c\u8bf4\u660e\u4f60\u90fd\u914d\u7f6e\u6210\u529f\u4e86\u3002</p> <p></p>"},{"location":"nginx/%E6%8A%80%E6%9C%AF%E8%83%96-%E5%89%8D%E7%AB%AF%20Nginx%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#04nginx","title":"\u7b2c04\u8282\uff1aNginx\u670d\u52a1\u542f\u52a8\u3001\u505c\u6b62\u3001\u91cd\u542f","text":"<p>\u7ecf\u8fc7\u524d3\u8282\u7684\u5b66\u4e60\uff0c\u5df2\u7ecf\u5b89\u88c5\u597d\u4e86nginx\uff0c\u5728\u7ef4\u62a4\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4f5c\u7684\u6700\u591a\u7684\u64cd\u4f5c\u5c31\u662fNginx\u7684\u542f\u52a8\u3001\u91cd\u542f\u548c\u505c\u6b62\u3002\u8fd9\u8282\u8bfe\u6211\u4eec\u5c31\u628aNginx\u7684\u8fd9\u4e9b\u6700\u5e38\u7528\u64cd\u4f5c\u8bb2\u4e00\u4e0b\u3002</p> <p>\u542f\u52a8Nginx\u670d\u52a1</p> <p>\u9ed8\u8ba4\u7684\u60c5\u51b5\u4e0b\uff0cNginx\u662f\u4e0d\u4f1a\u81ea\u52a8\u542f\u52a8\u7684\uff0c\u9700\u8981\u6211\u4eec\u624b\u52a8\u8fdb\u884c\u542f\u52a8\uff0c\u5f53\u7136\u542f\u52a8Nginx\u7684\u65b9\u6cd5\u4e5f\u4e0d\u662f\u5355\u4e00\u7684\u3002</p> <p>nginx\u76f4\u63a5\u542f\u52a8</p> <p>\u5728CentOS7.4\u7248\u672c\u91cc\uff08\u4f4e\u7248\u672c\u662f\u4e0d\u884c\u7684\uff09\uff0c\u662f\u53ef\u4ee5\u76f4\u63a5\u76f4\u63a5\u4f7f\u7528<code>nginx</code>\u542f\u52a8\u670d\u52a1\u7684\u3002</p> <pre><code>nginx\n</code></pre> <p>\u4f7f\u7528systemctl\u547d\u4ee4\u542f\u52a8</p> <p>\u8fd8\u53ef\u4ee5\u4f7f\u7528\u4e2aLinux\u7684\u547d\u4ee4\u8fdb\u884c\u542f\u52a8\uff0c\u6211\u4e00\u822c\u90fd\u662f\u91c7\u7528\u8fd9\u79cd\u65b9\u6cd5\u8fdb\u884c\u4f7f\u7528\u3002\u56e0\u4e3a\u8fd9\u79cd\u65b9\u6cd5\u65e0\u8bba\u542f\u52a8\u4ec0\u4e48\u670d\u52a1\uff0c\u90fd\u662f\u4e00\u6837\u7684\uff0c\u53ea\u662f\u6362\u4e00\u4e0b\u670d\u52a1\u7684\u540d\u5b57\uff08\u4e0d\u7528\u589e\u52a0\u989d\u5916\u7684\u8bb0\u5fc6\u70b9\uff09\u3002</p> <pre><code>systemctl start nginx.service\n</code></pre> <p>\u8f93\u5165\u547d\u4ee4\u540e\uff0c\u6ca1\u6709\u4efb\u4f55\u63d0\u793a\uff0c\u90a3\u6211\u4eec\u5982\u4f55\u77e5\u9053Nginx\u670d\u52a1\u5df2\u7ecf\u542f\u52a8\u4e86\u54ea\uff1f\u53ef\u4ee5\u4f7f\u7528Linux\u7684\u7ec4\u5408\u547d\u4ee4\uff0c\u8fdb\u884c\u67e5\u8be2\u670d\u52a1\u7684\u8fd0\u884c\u72b6\u51b5\u3002</p> <pre><code>ps aux | grep nginx\n</code></pre> <p>\u5982\u679c\u542f\u52a8\u6210\u529f\u4f1a\u51fa\u73b0\u5982\u4e0b\u56fe\u7247\u4e2d\u7c7b\u4f3c\u7684\u7ed3\u679c\u3002</p> <p></p> <p>\u6709\u8fd9\u4e09\u6761\u8bb0\u5f55\uff0c\u8bf4\u660e\u6211\u4eecNginx\u88ab\u6b63\u5e38\u5f00\u542f\u4e86\u3002</p> <p>\u505c\u6b62Nginx\u670d\u52a1\u7684\u56db\u79cd\u65b9\u6cd5</p> <p>\u505c\u6b62Nginx \u65b9\u6cd5\u6709\u5f88\u591a\u79cd\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u91c7\u7528\u4e0d\u4e00\u6837\u7684\u65b9\u6cd5\uff0c\u6211\u4eec\u4e00\u4e2a\u4e00\u4e2a\u8bf4\u660e\u3002</p> <ul> <li>\u7acb\u5373\u505c\u6b62\u670d\u52a1</li> </ul> <pre><code>nginx  -s stop\n</code></pre> <p>\u8fd9\u79cd\u65b9\u6cd5\u6bd4\u8f83\u5f3a\u786c\uff0c\u65e0\u8bba\u8fdb\u7a0b\u662f\u5426\u5728\u5de5\u4f5c\uff0c\u90fd\u76f4\u63a5\u505c\u6b62\u8fdb\u7a0b\u3002</p> <ul> <li>\u4ece\u5bb9\u505c\u6b62\u670d\u52a1</li> </ul> <pre><code>nginx -s quit\n</code></pre> <p>\u8fd9\u79cd\u65b9\u6cd5\u8f83stop\u76f8\u6bd4\u5c31\u6bd4\u8f83\u6e29\u548c\u4e00\u4e9b\u4e86\uff0c\u9700\u8981\u8fdb\u7a0b\u5b8c\u6210\u5f53\u524d\u5de5\u4f5c\u540e\u518d\u505c\u6b62\u3002</p> <ul> <li>killall \u65b9\u6cd5\u6740\u6b7b\u8fdb\u7a0b</li> </ul> <p>\u8fd9\u79cd\u65b9\u6cd5\u4e5f\u662f\u6bd4\u8f83\u91ce\u86ee\u7684\uff0c\u6211\u4eec\u76f4\u63a5\u6740\u6b7b\u8fdb\u7a0b\uff0c\u4f46\u662f\u5728\u4e0a\u9762\u4f7f\u7528\u6ca1\u6709\u6548\u679c\u65f6\uff0c\u6211\u4eec\u7528\u8fd9\u79cd\u65b9\u6cd5\u8fd8\u662f\u6bd4\u8f83\u597d\u7684\u3002</p> <pre><code>killall nginx\n</code></pre> <ul> <li>systemctl \u505c\u6b62</li> </ul> <pre><code>systemctl stop nginx.service\n</code></pre> <p>\u91cd\u542fNginx\u670d\u52a1</p> <p>\u6709\u65f6\u5019\u6211\u4eec\u9700\u8981\u91cd\u542fNginx\u670d\u52a1\uff0c\u8fd9\u65f6\u5019\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u3002</p> <pre><code>systemctl restart nginx.service\n</code></pre> <p>\u91cd\u65b0\u8f7d\u5165\u914d\u7f6e\u6587\u4ef6</p> <p>\u5728\u91cd\u65b0\u7f16\u5199\u6216\u8005\u4fee\u6539Nginx\u7684\u914d\u7f6e\u6587\u4ef6\u540e\uff0c\u90fd\u9700\u8981\u4f5c\u4e00\u4e0b\u91cd\u65b0\u8f7d\u5165\uff0c\u8fd9\u65f6\u5019\u53ef\u4ee5\u7528Nginx\u7ed9\u7684\u547d\u4ee4\u3002</p> <pre><code>nginx -s reload\n</code></pre> <p>\u67e5\u770b\u7aef\u53e3\u53f7</p> <p>\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cNginx\u542f\u52a8\u540e\u4f1a\u76d1\u542c80\u7aef\u53e3\uff0c\u4ece\u800c\u63d0\u4f9bHTTP\u8bbf\u95ee\uff0c\u5982\u679c80\u7aef\u53e3\u5df2\u7ecf\u88ab\u5360\u7528\u5219\u4f1a\u542f\u52a8\u5931\u8d25\u3002\u6211\u4e48\u53ef\u4ee5\u4f7f\u7528<code>netstat -tlnp</code>\u547d\u4ee4\u67e5\u770b\u7aef\u53e3\u53f7\u7684\u5360\u7528\u60c5\u51b5\u3002</p> <p>**\u603b\u7ed3:**\u8fd9\u8282\u8bfe\u7684\u5185\u5bb9\u867d\u7136\u7b80\u5355\uff0c\u4f46\u90fd\u662f\u6211\u4eec\u5728\u5de5\u4f5c\u4e2d\u7ecf\u5e38\u4f7f\u7528\u7684\uff0c\u5e0c\u671b\u5c0f\u4f19\u4f34\u4eec\u591a\u591a\u8054\u7cfb\uff0c\u6211\u628a\u8bfe\u7a0b\u5206\u7684\u5982\u6b64\u7ec6\u81f4\uff0c\u4e00\u4e2a\u4e3b\u8981\u7684\u539f\u56e0\u4e5f\u662f\u5e0c\u671b\u53ef\u4ee5\u65b9\u4fbf\u5728\u5de5\u4f5c\u4e2d\u8fdb\u884c\u67e5\u9605\u3002</p>"},{"location":"nginx/%E6%8A%80%E6%9C%AF%E8%83%96-%E5%89%8D%E7%AB%AF%20Nginx%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#05","title":"\u7b2c05\u8282\uff1a\u81ea\u5b9a\u4e49\u9519\u8bef\u9875\u548c\u8bbf\u95ee\u8bbe\u7f6e","text":"<p>\u4e00\u4e2a\u597d\u7684\u7f51\u7ad9\u4f1a\u6b66\u88c5\u5230\u7259\u9f7f\uff0c\u4efb\u4f55\u9519\u8bef\u90fd\u6709\u7ed9\u7528\u6237\u53cb\u597d\u7684\u63d0\u793a\u3002\u6bd4\u5982\u5f53\u7f51\u7ad9\u9047\u5230\u9875\u9762\u6ca1\u6709\u627e\u5230\u7684\u65f6\u5019\uff0c\u6211\u4eec\u8981\u63d0\u793a\u9875\u9762\u6ca1\u6709\u627e\u5230\uff0c\u5e76\u7ed9\u7528\u6237\u53ef\u8fd4\u56de\u6027\u3002\u9519\u8bef\u7684\u79cd\u7c7b\u6709\u5f88\u591a\uff0c\u6240\u4ee5\u771f\u6b63\u7684\u597d\u4ea7\u54c1\u4f1a\u7ed9\u987e\u5ba2\u4e0d\u540c\u7684\u8fd4\u56de\u7ed3\u679c\u3002</p> <p>\u591a\u9519\u8bef\u6307\u5411\u4e00\u4e2a\u9875\u9762</p> <p>\u5728/etc/nginx/conf.d/default.conf \u662f\u53ef\u4ee5\u770b\u5230\u4e0b\u9762\u8fd9\u53e5\u8bdd\u7684\u3002</p> <pre><code>error_page   500 502 503 504  /50x.html;\n</code></pre> <p>error_page\u6307\u4ee4\u7528\u4e8e\u81ea\u5b9a\u4e49\u9519\u8bef\u9875\u9762\uff0c500\uff0c502\uff0c503\uff0c504 \u8fd9\u4e9b\u5c31\u662fHTTP\u4e2d\u6700\u5e38\u89c1\u7684\u9519\u8bef\u4ee3\u7801\uff0c/50.html \u7528\u4e8e\u8868\u793a\u5f53\u53d1\u751f\u4e0a\u8ff0\u6307\u5b9a\u7684\u4efb\u610f\u4e00\u4e2a\u9519\u8bef\u7684\u65f6\u5019\uff0c\u90fd\u662f\u7528\u7f51\u7ad9\u6839\u76ee\u5f55\u4e0b\u7684/50.html\u6587\u4ef6\u8fdb\u884c\u5904\u7406\u3002</p> <p>\u5355\u72ec\u4e3a\u9519\u8bef\u7f6e\u9876\u5904\u7406\u65b9\u5f0f</p> <p>\u6709\u4e9b\u65f6\u5019\u662f\u8981\u628a\u8fd9\u4e9b\u9519\u8bef\u9875\u9762\u5355\u72ec\u7684\u8868\u73b0\u51fa\u6765\uff0c\u7ed9\u7528\u6237\u66f4\u597d\u7684\u4f53\u9a8c\u3002\u6240\u4ee5\u5c31\u8981\u4e3a\u6bcf\u4e2a\u9519\u8bef\u7801\u8bbe\u7f6e\u4e0d\u540c\u7684\u9875\u9762\u3002\u8bbe\u7f6e\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>error_page 404  /404_error.html;\n</code></pre> <p>\u7136\u540e\u5230\u7f51\u7ad9\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2a404_error.html \u6587\u4ef6\uff0c\u5e76\u5199\u5165\u4e00\u4e9b\u4fe1\u606f\u3002</p> <pre><code>&lt;html&gt;\n&lt;meta charset=\"UTF-8\"&gt;\n&lt;body&gt;\n&lt;h1&gt;404\u9875\u9762\u6ca1\u6709\u627e\u5230!&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u7136\u540e\u91cd\u542f\u6211\u4eec\u7684\u670d\u52a1\uff0c\u518d\u8fdb\u884c\u8bbf\u95ee\uff0c\u4f60\u4f1a\u53d1\u73b0404\u9875\u9762\u53d1\u751f\u4e86\u53d8\u5316\u3002</p> <p>\u628a\u9519\u8bef\u7801\u6362\u6210\u4e00\u4e2a\u5730\u5740</p> <p>\u5904\u7406\u9519\u8bef\u7684\u65f6\u5019\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u53ea\u4f7f\u7528\u672c\u670d\u52a1\u5668\u7684\u8d44\u6e90\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u5916\u90e8\u7684\u8d44\u6e90\u3002\u6bd4\u5982\u6211\u4eec\u5c06\u914d\u7f6e\u6587\u4ef6\u8bbe\u7f6e\u6210\u8fd9\u6837\u3002</p> <pre><code>error_page  404 http://jspang.com;\n</code></pre> <p>\u6211\u4eec\u4f7f\u7528\u4e86\u6280\u672f\u80d6\u7684\u535a\u5ba2\u5730\u5740\u4f5c\u4e3a404\u9875\u9762\u6ca1\u6709\u627e\u5230\u7684\u63d0\u793a\uff0c\u5c31\u5f62\u6210\u4e86\uff0c\u6ca1\u6709\u627e\u5230\u6587\u4ef6\uff0c\u5c31\u76f4\u63a5\u8df3\u5230\u4e86\u6280\u672f\u80d6\u7684\u535a\u5ba2\u4e0a\u4e86\u3002</p> <p>\u7b80\u5355\u5b9e\u73b0\u8bbf\u95ee\u63a7\u5236</p> <p>\u6709\u65f6\u5019\u6211\u4eec\u7684\u670d\u52a1\u5668\u53ea\u5141\u8bb8\u7279\u5b9a\u4e3b\u673a\u8bbf\u95ee\uff0c\u6bd4\u5982\u5185\u90e8OA\u7cfb\u7edf\uff0c\u6216\u8005\u5e94\u7528\u7684\u7ba1\u7406\u540e\u53f0\u7cfb\u7edf\uff0c\u66f4\u6216\u8005\u662f\u67d0\u4e9b\u5e94\u7528\u63a5\u53e3\uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u5c31\u9700\u8981\u63a7\u5236\u4e00\u4e9bIP\u8bbf\u95ee\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u5728<code>location</code>\u91cc\u8fdb\u884c\u914d\u7f6e\u3002</p> <p>\u53ef\u4ee5\u76f4\u63a5\u5728default.conf\u91cc\u8fdb\u884c\u914d\u7f6e\u3002</p> <pre><code> location / {\n        deny   123.9.51.42;\n        allow  45.76.202.231;\n    }\n</code></pre> <p>\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u91cd\u542f\u4e00\u4e0b\u670d\u52a1\u5668\u5c31\u53ef\u4ee5\u5b9e\u73b0\u9650\u5236\u548c\u5141\u8bb8\u8bbf\u95ee\u4e86\u3002\u8fd9\u5728\u5de5\u4f5c\u4e2d\u975e\u5e38\u5e38\u7528\uff0c\u4e00\u5b9a\u8981\u597d\u597d\u8bb0\u5f97\u3002</p>"},{"location":"nginx/%E6%8A%80%E6%9C%AF%E8%83%96-%E5%89%8D%E7%AB%AF%20Nginx%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#06nginx","title":"\u7b2c06\u8282\uff1aNginx\u8bbf\u95ee\u6743\u9650\u8be6\u8bb2","text":"<p>\u4e0a\u8282\u8bfe\u6211\u4eec\u5df2\u7ecf\u7b80\u5355\u63a5\u89e6\u4e86Nginx\u8bbf\u95ee\u7b80\u5355\u7528\u6cd5\uff0c\u7b80\u5355\u7684\u77e5\u9053\u4e86\uff0cdeny\u662f\u7981\u6b62\u8bbf\u95ee\uff0callow\u662f\u5141\u8bb8\u8bbf\u95ee\u3002\u4f46Nginx\u7684\u8bbf\u95ee\u63a7\u5236\u8fd8\u662f\u6bd4\u8f83\u590d\u6742\u7684\uff0c\u6211\u4eec\u8fd9\u8282\u8bfe\u5c31\u8be6\u7ec6\u4ecb\u7ecd\u4e00\u4e0b\u3002</p> <p>\u6307\u4ee4\u4f18\u5148\u7ea7</p> <p>\u6211\u4eec\u5148\u6765\u770b\u4e00\u4e0b\u4ee3\u7801\uff1a</p> <pre><code> location / {\n        allow  45.76.202.231;\n        deny   all;\n    }\n</code></pre> <p>\u4e0a\u9762\u7684\u914d\u7f6e\u8868\u793a\u53ea\u5141\u8bb8<code>45.76.202.231</code>\u8fdb\u884c\u8bbf\u95ee\uff0c\u5176\u4ed6\u7684IP\u662f\u7981\u6b62\u8bbf\u95ee\u7684\u3002\u4f46\u662f\u5982\u679c\u6211\u4eec\u628a<code>deny all</code>\u6307\u4ee4\uff0c\u79fb\u52a8\u5230 <code>allow 45.76.202.231</code>\u4e4b\u524d\uff0c\u4f1a\u53d1\u751f\u4ec0\u4e48\u90a3\uff1f\u4f1a\u53d1\u73b0\u6240\u6709\u7684IP\u90fd\u4e0d\u5141\u8bb8\u8bbf\u95ee\u4e86\u3002\u8fd9\u8bf4\u660e\u4e86\u4e00\u4e2a\u95ee\u9898\uff1a\u5c31\u662f\u5728\u540c\u4e00\u4e2a\u5757\u4e0b\u7684\u4e24\u4e2a\u6743\u9650\u6307\u4ee4\uff0c\u5148\u51fa\u73b0\u7684\u8bbe\u7f6e\u4f1a\u8986\u76d6\u540e\u51fa\u73b0\u7684\u8bbe\u7f6e\uff08\u4e5f\u5c31\u662f\u8c01\u5148\u89e6\u53d1\uff0c\u8c01\u8d77\u4f5c\u7528\uff09\u3002</p> <p>\u590d\u6742\u8bbf\u95ee\u63a7\u5236\u6743\u9650\u5339\u914d</p> <p>\u5728\u5de5\u4f5c\u4e2d\uff0c\u8bbf\u95ee\u6743\u9650\u7684\u63a7\u5236\u9700\u6c42\u66f4\u52a0\u590d\u6742\uff0c\u4f8b\u5982\uff0c\u5bf9\u4e8e\u7f51\u7ad9\u4e0b\u7684img\uff08\u56fe\u7247\u76ee\u5f55\uff09\u662f\u8fd0\u884c\u6240\u6709\u7528\u6237\u8bbf\u95ee\uff0c\u4f46\u5bf9\u4e8e\u7f51\u7ad9\u4e0b\u7684admin\u76ee\u5f55\u5219\u53ea\u5141\u8bb8\u516c\u53f8\u5185\u90e8\u56fa\u5b9aIP\u8bbf\u95ee\u3002\u8fd9\u65f6\u5019\u4ec5\u9760deny\u548callow\u8fd9\u4e24\u4e2a\u6307\u4ee4\uff0c\u662f\u65e0\u6cd5\u5b9e\u73b0\u7684\u3002\u6211\u4eec\u9700\u8981location\u5757\u6765\u5b8c\u6210\u76f8\u5173\u7684\u9700\u6c42\u5339\u914d\u3002</p> <p>\u4e0a\u9762\u7684\u9700\u6c42\uff0c\u914d\u7f6e\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>    location =/img{\n        allow all;\n    }\n    location =/admin{\n        deny all;\n    }\n</code></pre> <p><code>=</code>\u53f7\u4ee3\u8868\u7cbe\u786e\u5339\u914d\uff0c\u4f7f\u7528\u4e86<code>=</code>\u540e\u662f\u6839\u636e\u5176\u540e\u7684\u6a21\u5f0f\u8fdb\u884c\u7cbe\u786e\u5339\u914d\u3002\u8fd9\u4e2a\u76f4\u63a5\u5173\u7cfb\u5230\u6211\u4eec\u7f51\u7ad9\u7684\u5b89\u5168\uff0c\u4e00\u5b9a\u8981\u5b66\u4f1a\u3002</p> <p>\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u8bbe\u7f6e\u8bbf\u95ee\u6743\u9650</p> <p>\u53ea\u6709\u7cbe\u786e\u5339\u914d\u6709\u65f6\u662f\u5b8c\u4e0d\u6210\u6211\u4eec\u7684\u5de5\u4f5c\u4efb\u52a1\u7684\uff0c\u6bd4\u5982\u73b0\u5728\u6211\u4eec\u8981\u7981\u6b62\u8bbf\u95ee\u6240\u6709php\u7684\u9875\u9762\uff0cphp\u7684\u9875\u9762\u5927\u591a\u662f\u540e\u53f0\u7684\u7ba1\u7406\u6216\u8005\u63a5\u53e3\u4ee3\u7801\uff0c\u6240\u4ee5\u4e3a\u4e86\u5b89\u5168\u6211\u4eec\u7ecf\u5e38\u8981\u7981\u6b62\u6240\u6709\u7528\u6237\u8bbf\u95ee\uff0c\u800c\u53ea\u5f00\u653e\u516c\u53f8\u5185\u90e8\u8bbf\u95ee\u7684\u3002</p> <p>\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code> location ~\\.php$ {\n        deny all;\n    }\n</code></pre> <p>\u8fd9\u6837\u6211\u4eec\u518d\u8bbf\u95ee\u7684\u65f6\u5019\u5c31\u4e0d\u80fd\u8bbf\u95ee\u4ee5php\u7ed3\u5c3e\u7684\u6587\u4ef6\u4e86\u3002\u662f\u4e0d\u662f\u8ba9\u7f51\u7ad9\u53d8\u7684\u5b89\u5168\u5f88\u591a\u4e86\u90a3\uff1f</p>"},{"location":"nginx/%E6%8A%80%E6%9C%AF%E8%83%96-%E5%89%8D%E7%AB%AF%20Nginx%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#07nginx","title":"\u7b2c07\u8282\uff1aNginx\u8bbe\u7f6e\u865a\u62df\u4e3b\u673a","text":"<p>\u865a\u62df\u4e3b\u673a\u662f\u6307\u5728\u4e00\u53f0\u7269\u7406\u4e3b\u673a\u670d\u52a1\u5668\u4e0a\u5212\u5206\u51fa\u591a\u4e2a\u78c1\u76d8\u7a7a\u95f4\uff0c\u6bcf\u4e2a\u78c1\u76d8\u7a7a\u95f4\u90fd\u662f\u4e00\u4e2a\u865a\u62df\u4e3b\u673a\uff0c\u6bcf\u53f0\u865a\u62df\u4e3b\u673a\u90fd\u53ef\u4ee5\u5bf9\u5916\u63d0\u4f9bWeb\u670d\u52a1\uff0c\u5e76\u4e14\u4e92\u4e0d\u5e72\u6270\u3002\u5728\u5916\u754c\u770b\u6765\uff0c\u865a\u62df\u4e3b\u673a\u5c31\u662f\u4e00\u53f0\u72ec\u7acb\u7684\u670d\u52a1\u5668\u4e3b\u673a\uff0c\u8fd9\u610f\u5473\u7740\u7528\u6237\u80fd\u591f\u5229\u7528\u865a\u62df\u4e3b\u673a\u628a\u591a\u4e2a\u4e0d\u540c\u57df\u540d\u7684\u7f51\u7ad9\u90e8\u7f72\u5728\u540c\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\uff0c\u800c\u4e0d\u5fc5\u518d\u4e3a\u7b80\u5386\u4e00\u4e2a\u7f51\u7ad9\u5355\u72ec\u8d2d\u4e70\u4e00\u53f0\u670d\u52a1\u5668\uff0c\u65e2\u89e3\u51b3\u4e86\u7ef4\u62a4\u670d\u52a1\u5668\u6280\u672f\u7684\u96be\u9898\uff0c\u540c\u65f6\u53c8\u6781\u5927\u5730\u8282\u7701\u4e86\u670d\u52a1\u5668\u786c\u4ef6\u6210\u672c\u548c\u76f8\u5173\u7684\u7ef4\u62a4\u8d39\u7528\u3002</p> <p>\u914d\u7f6e\u865a\u62df\u4e3b\u673a\u53ef\u4ee5\u57fa\u4e8e\u7aef\u53e3\u53f7\u3001\u57fa\u4e8eIP\u548c\u57fa\u4e8e\u57df\u540d\uff0c\u8fd9\u8282\u8bfe\u6211\u4eec\u5148\u5b66\u4e60\u57fa\u4e8e\u7aef\u53e3\u53f7\u6765\u8bbe\u7f6e\u865a\u62df\u4e3b\u673a\u3002</p> <p>\u57fa\u4e8e\u7aef\u53e3\u53f7\u914d\u7f6e\u865a\u62df\u4e3b\u673a</p> <p>\u57fa\u4e8e\u7aef\u53e3\u53f7\u6765\u914d\u7f6e\u865a\u62df\u4e3b\u673a\uff0c\u7b97\u662fNginx\u4e2d\u6700\u7b80\u5355\u7684\u4e00\u79cd\u65b9\u5f0f\u4e86\u3002\u539f\u7406\u5c31\u662fNginx\u76d1\u542c\u591a\u4e2a\u7aef\u53e3\uff0c\u6839\u636e\u4e0d\u540c\u7684\u7aef\u53e3\u53f7\uff0c\u6765\u533a\u5206\u4e0d\u540c\u7684\u7f51\u7ad9\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u914d\u7f6e\u5728\u4e3b\u6587\u4ef6\u91cc<code>etc/nginx/nginx.conf</code>\u6587\u4ef6\u91cc\uff0c \u4e5f\u53ef\u4ee5\u914d\u7f6e\u5728\u5b50\u914d\u7f6e\u6587\u4ef6\u91cc<code>etc/nginx/conf.d/default.conf</code>\u3002\u6211\u8fd9\u91cc\u4e3a\u4e86\u914d\u7f6e\u65b9\u4fbf\uff0c\u5c31\u914d\u7f6e\u5728\u5b50\u6587\u4ef6\u91cc\u4e86\u3002\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u518d\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\uff0c\u53ea\u8981\u5728conf.d\u6587\u4ef6\u5939\u4e0b\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684server\u9009\u9879\uff0c\u8fd9\u65f6\u5019\u5c31\u4f1a\u6709\u4e24\u4e2aserver\u3002</p> <pre><code>server{\n        listen 8001;\n        server_name localhost;\n        root /usr/share/nginx/html/html8001;\n        index index.html;\n}\n</code></pre> <p>\u7f16\u5728<code>usr/share/nginx/html/html8001/</code>\u76ee\u5f55\u4e0b\u7684index.html\u6587\u4ef6\u5e76\u67e5\u770b\u7ed3\u679c\u3002</p> <pre><code>&lt;h1&gt;welcome port 8001&lt;/h1&gt;\n</code></pre> <p>\u6700\u540e\u5728\u6d4f\u89c8\u5668\u4e2d\u5206\u522b\u8bbf\u95ee\u5730\u5740\u548c\u5e26\u7aef\u53e3\u7684\u5730\u5740\u3002\u770b\u5230\u7684\u7ed3\u679c\u662f\u4e0d\u540c\u7684\u3002</p> <p>\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee<code>http://112.74.164.244:8001</code>\u4e86\uff0c\u5f53\u7136\u4f60\u7684IP\u8ddf\u8fd9\u4e2a\u80af\u5b9a\u4e0d\u4e00\u6837\uff0c\u8fd9\u4e2aIP\u8fc7\u51e0\u5929\u5c31\u4f1a\u8fc7\u671f\u7684\u3002</p> <p>\u57fa\u4e8eIP\u7684\u865a\u62df\u4e3b\u673a</p> <p>\u57fa\u4e8eIP\u548c\u57fa\u4e8e\u7aef\u53e3\u7684\u914d\u7f6e\u51e0\u4e4e\u4e00\u6837\uff0c\u53ea\u662f\u628a<code>server_name</code>\u9009\u9879\uff0c\u914d\u7f6e\u6210IP\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u6bd4\u5982\u4e0a\u9762\u7684\u914d\u7f6e\uff0c\u6211\u4eec\u53ef\u4ee5\u4fee\u6539\u4e3a\uff1a</p> <pre><code>server{\n        listen 80;\n        server_name 112.74.164.244;\n        root /usr/share/nginx/html/html8001;\n        index index.html;\n}\n</code></pre> <p>\u8fd9\u79cd\u6f14\u793a\u9700\u8981\u591a\u4e2aIP\u7684\u652f\u6301\uff0c\u7531\u4e8e\u6211\u4eec\u7684\u963f\u91ccECS\u53ea\u63d0\u4f9b\u4e86\u4e00\u4e2aIP\uff0c\u6240\u4ee5\u8fd9\u91cc\u5c31\u4e0d\u7ed9\u5927\u5bb6\u6f14\u793a\u4e86\uff0c\u5982\u679c\u5de5\u4f5c\u4e2d\u7528\u5230\uff0c\u53ea\u8981\u5b89\u88c5\u8fd9\u79cd\u65b9\u6cd5\u914d\u7f6e\u5c31\u53ef\u4ee5\u4e86\u3002</p>"},{"location":"nginx/%E6%8A%80%E6%9C%AF%E8%83%96-%E5%89%8D%E7%AB%AF%20Nginx%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#08nginx","title":"\u7b2c08\u8282\uff1aNginx\u4f7f\u7528\u57df\u540d\u8bbe\u7f6e\u865a\u62df\u4e3b\u673a","text":"<p>\u5728\u771f\u5b9e\u7684\u4e0a\u7ebf\u73af\u5883\u4e2d\uff0c\u4e00\u4e2a\u7f51\u7ad9\u662f\u9700\u8981\u57df\u540d\u548c\u516c\u7f51IP\u624d\u53ef\u4ee5\u8bbf\u95ee\u7684\u3002\u8fd9\u4e5f\u662f\u6bd4\u8f83\u771f\u5b9e\u7684\u4e00\u8282\u8bfe\uff0c\u6211\u4eec\u5728\u5b9e\u9645\u5de5\u4f5c\u4e2d\u914d\u7f6e\u6700\u591a\u7684\u5c31\u662f\u8bbe\u7f6e\u8fd9\u79cd\u865a\u62df\u4e3b\u673a\u3002</p> <p>\u5982\u679c\u4f60\u8fd8\u6ca1\u6709\u57df\u540d\uff0c\u6211\u5e0c\u671b\u4f60\u4e5f\u80fd\u6ce8\u518c\u4e00\u4e2a\uff0c\u4f60\u53ef\u4ee5\u6ce8\u518c\u4e00\u4e2a\u4ee5\u4f60\u540d\u5b57\u5168\u62fc\u7684\u57df\u540d\uff0c\u8fd9\u7c7b\u57df\u540d\u8d44\u6e90\u8fd8\u662f\u6bd4\u8f83\u4e30\u5bcc\u7684\u3002\u4e00\u5e74\u624d\u51e0\u5341\u5143\u94b1\uff0c\u8fd9\u4e0d\u4ec5\u4ec5\u662f\u4e3a\u4e86\u5b66\u4e60\u8fd9\u7bc7\u8bfe\u7a0b\uff0c\u66f4\u91cd\u8981\u662f\u6709\u4e00\u4e2a\u57df\u540d\u4f1a\u5bf9\u4f60\u7684\u804c\u4e1a\u53d1\u5c55\u6709\u5f88\u591a\u597d\u5904\u3002\u6bd4\u5982\u4f60\u81ea\u5df1\u4f5c\u7684\u7a0b\u5e8f\u60f3\u5c55\u793a\u7ed9\u522b\u4eba\u770b\uff0c\u4f60\u81ea\u5df1\u8981\u5efa\u7acb\u4e00\u4e2a\u535a\u5ba2\uff0c\u6216\u8005\u662f\u4f60\u8981\u8fdb\u884c\u4e00\u4e2a\u7a0b\u5e8f\u6d4b\u8bd5\uff0c\u8fd9\u4e9b\u90fd\u9700\u8981\u57df\u540d\u7684\u652f\u6301\u3002\u6240\u4ee5\u5982\u679c\u4f60\u662f\u4e00\u540d\u7a0b\u5e8f\u5458\uff0c\u6211\u5f3a\u70c8\u5efa\u8bae\u4f60\u80fd\u7533\u8bf7\u4e00\u4e2a\u81ea\u5df1\u7684\u57df\u540d\u3002</p> <p>\u6211\u8fd9\u91cc\u5c31\u4f7f\u7528\u81ea\u5df1\u7684\u535a\u5ba2\u57df\u540d\u4f5c\u4f8b\u5b50\u4e86\u3002</p> <p>\u5148\u8981\u5bf9\u57df\u540d\u8fdb\u884c\u89e3\u6790\uff0c\u8fd9\u6837\u57df\u540d\u624d\u80fd\u6b63\u786e\u5b9a\u4f4d\u5230\u4f60\u9700\u8981\u7684IP\u4e0a\u3002 \u6211\u8fd9\u91cc\u65b0\u5efa\u4e86\u4e24\u4e2a\u89e3\u6790\uff0c\u5206\u522b\u662f:</p> <ul> <li>nginx.jspang.com  :\u8fd9\u4e2a\u57df\u540d\u6620\u5c04\u5230\u9ed8\u8ba4\u7684Nginx\u9996\u9875\u4f4d\u7f6e\u3002</li> <li>nginx2.jspang.com : \u8fd9\u4e2a\u57df\u540d\u6620\u5c04\u5230\u539f\u6765\u76848001\u7aef\u53e3\u7684\u4f4d\u7f6e\u3002</li> </ul> <p>\u914d\u7f6e\u4ee5\u57df\u540d\u4e3a\u5212\u5206\u7684\u865a\u62df\u4e3b\u673a</p> <p>\u6211\u4eec\u4fee\u6539<code>etc/nginx/conf.d</code>\u76ee\u5f55\u4e0b\u7684default.conf \u6587\u4ef6\uff0c\u628a\u539f\u6765\u768480\u7aef\u53e3\u865a\u62df\u4e3b\u673a\u6539\u4e3a\u4ee5\u57df\u540d\u5212\u5206\u7684\u865a\u62df\u4e3b\u673a\u3002\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>server {\n    listen       80;\n    server_name  nginx.jspang.com;\n</code></pre> <p>\u6211\u4eec\u518d\u628a\u540c\u76ee\u5f55\u4e0b\u7684<code>8001.conf</code>\u6587\u4ef6\u8fdb\u884c\u4fee\u6539\uff0c\u6539\u6210\u5982\u4e0b\uff1a</p> <pre><code>server{\n        listen 80;\n        server_name nginx2.jspang.com;\n        location / {\n                root /usr/share/nginx/html/html8001;\n                index index.html index.htm;\n        }\n}\n</code></pre> <p>\u7136\u540e\u6211\u4eec\u7528\u5e73\u6ed1\u91cd\u542f\u7684\u65b9\u5f0f\uff0c\u8fdb\u884c\u91cd\u542f\uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee\u8fd9\u4e24\u4e2a\u7f51\u9875\u3002</p> <p>\u5176\u5b9e\u57df\u540d\u8bbe\u7f6e\u865a\u62df\u4e3b\u673a\u4e5f\u975e\u5e38\u7b80\u5355\uff0c\u4e3b\u8981\u64cd\u4f5c\u7684\u662f\u914d\u7f6e\u6587\u4ef6\u7684server_name\u9879\uff0c\u8fd8\u9700\u8981\u57df\u540d\u89e3\u6790\u7684\u914d\u5408\u3002\u5c0f\u4f19\u4f34\u4eec\u4e00\u5b9a\u8981\u8fdb\u884c\u7ec3\u4e60\u4e00\u4e0b\u3002\u540e\u9762\u7684\u8bfe\u7a0b\u53ef\u80fd\u5c31\u6ca1\u6709\u8fd9\u4e48\u7b80\u5355\u4e86\u3002</p>"},{"location":"nginx/%E6%8A%80%E6%9C%AF%E8%83%96-%E5%89%8D%E7%AB%AF%20Nginx%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#09nginx","title":"\u7b2c09\u8282\uff1aNginx\u53cd\u5411\u4ee3\u7406\u7684\u8bbe\u7f6e","text":"<p>\u865a\u62df\u4e3b\u673a\u5b66\u4e60\u5b8c\u6210\u4e86\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u524d\u7aef\u5fc5\u4f1a\u7684\u4e00\u4e2a\u6280\u80fd\u662f\u53cd\u5411\u4ee3\u7406\u3002\u5927\u5bb6\u90fd\u77e5\u9053\uff0c\u6211\u4eec\u73b0\u5728\u7684web\u6a21\u5f0f\u57fa\u672c\u7684\u90fd\u662f\u6807\u51c6\u7684CS\u7ed3\u6784\uff0c\u5373Client\u7aef\u5230Server\u7aef\u3002\u90a3\u4ee3\u7406\u5c31\u662f\u5728Client\u7aef\u548cServer\u7aef\u4e4b\u95f4\u589e\u52a0\u4e00\u4e2a\u63d0\u4f9b\u7279\u5b9a\u529f\u80fd\u7684\u670d\u52a1\u5668\uff0c\u8fd9\u4e2a\u670d\u52a1\u5668\u5c31\u662f\u6211\u4eec\u8bf4\u7684\u4ee3\u7406\u670d\u52a1\u5668\u3002</p> <p>**\u6b63\u5411\u4ee3\u7406\uff1a**\u5982\u679c\u4f60\u89c9\u7684\u53cd\u5411\u4ee3\u7406\u4e0d\u597d\u7406\u89e3\uff0c\u90a3\u5148\u6765\u4e86\u89e3\u4e00\u4e0b\u6b63\u5411\u4ee3\u7406\u3002\u6211\u76f8\u4fe1\u4f5c\u4e3a\u4e00\u4e2a\u624b\u901f\u8fdc\u8d85\u6b63\u5e38\u4eba\u7684\u7a0b\u5e8f\u5458\u6765\u8bf4\uff0c\u4f60\u4e00\u5b9a\u7528\u8fc7\u7ffb\u5899\u5de5\u5177\uff08\u6211\u8fd9\u91cc\u8bf4\u7684\u4e0d\u662f\u7269\u7406\u68af\u5b50\uff09\uff0c\u5b83\u5c31\u662f\u4e00\u4e2a\u5178\u578b\u7684\u6b63\u5411\u4ee3\u7406\u5de5\u5177\u3002\u5b83\u4f1a\u628a\u6211\u4eec\u4e0d\u8ba9\u8bbf\u95ee\u7684\u670d\u52a1\u5668\u7684\u7f51\u9875\u8bf7\u6c42\uff0c\u4ee3\u7406\u5230\u4e00\u4e2a\u53ef\u4ee5\u8bbf\u95ee\u8be5\u7f51\u7ad9\u7684\u4ee3\u7406\u670d\u52a1\u5668\u4e0a\u6765\uff0c\u4e00\u822c\u53eb\u505aproxy\u670d\u52a1\u5668\uff0c\u518d\u8f6c\u53d1\u7ed9\u5ba2\u6237\u3002\u6211\u8fd8\u662f\u753b\u5f20\u56fe\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3\u5427\u3002</p> <p></p> <p>\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u4f60\u60f3\u8bbf\u95ee\u76ee\u6807\u670d\u52a1\u5668\u7684\u6743\u9650\uff0c\u4f46\u662f\u6ca1\u6709\u6743\u9650\u3002\u8fd9\u65f6\u5019\u4ee3\u7406\u670d\u52a1\u5668\u6709\u6743\u9650\u8bbf\u95ee\u670d\u52a1\u5668\uff0c\u5e76\u4e14\u4f60\u6709\u8bbf\u95ee\u4ee3\u7406\u670d\u52a1\u5668\u7684\u6743\u9650\uff0c\u8fd9\u65f6\u5019\u4f60\u5c31\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u4ee3\u7406\u670d\u52a1\u5668\u8bbf\u95ee\u771f\u5b9e\u670d\u52a1\u5668\uff0c\u628a\u5185\u5bb9\u7ed9\u4f60\u5448\u73b0\u51fa\u6765\u3002</p> <p>**\u53cd\u5411\u4ee3\u7406\uff1a**\u53cd\u5411\u4ee3\u7406\u8ddf\u4ee3\u7406\u6b63\u597d\u76f8\u53cd\uff08\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u73b0\u5728\u57fa\u672c\u6240\u6709\u7684\u5927\u578b\u7f51\u7ad9\u7684\u9875\u9762\u90fd\u662f\u7528\u4e86\u53cd\u5411\u4ee3\u7406\uff09\uff0c\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u8bf7\u6c42\uff0c\u60f3\u8981\u8bbf\u95eeserver\u670d\u52a1\u5668\u4e0a\u7684\u5185\u5bb9\u3002\u53d1\u9001\u7684\u5185\u5bb9\u88ab\u53d1\u9001\u5230\u4ee3\u7406\u670d\u52a1\u5668\u4e0a\uff0c\u8fd9\u4e2a\u4ee3\u7406\u670d\u52a1\u5668\u518d\u628a\u8bf7\u6c42\u53d1\u9001\u5230\u81ea\u5df1\u8bbe\u7f6e\u597d\u7684\u5185\u90e8\u670d\u52a1\u5668\u4e0a\uff0c\u800c\u7528\u6237\u771f\u5b9e\u60f3\u83b7\u5f97\u7684\u5185\u5bb9\u5c31\u5728\u8fd9\u4e9b\u8bbe\u7f6e\u597d\u7684\u670d\u52a1\u5668\u4e0a\u3002</p> <p></p> <p>\u901a\u8fc7\u56fe\u7247\u7684\u5bf9\u6bd4\uff0c\u5e94\u8be5\u770b\u51fa\u4e00\u4e9b\u533a\u522b\uff0c\u8fd9\u91ccproxy\u670d\u52a1\u5668\u4ee3\u7406\u7684\u5e76\u4e0d\u662f\u5ba2\u6237\u7aef\uff0c\u800c\u662f\u670d\u52a1\u5668,\u5373\u5411\u5916\u90e8\u5ba2\u6237\u7aef\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7edf\u4e00\u7684\u4ee3\u7406\u5165\u53e3\uff0c\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u90fd\u8981\u5148\u7ecf\u8fc7\u8fd9\u4e2aproxy\u670d\u52a1\u5668\u3002\u5177\u4f53\u8bbf\u95ee\u90a3\u4e2a\u670d\u52a1\u5668server\u662f\u7531Nginx\u6765\u63a7\u5236\u7684\u3002\u518d\u7b80\u5355\u70b9\u6765\u8bb2\uff0c\u4e00\u822c\u4ee3\u7406\u6307\u4ee3\u7406\u7684\u5ba2\u6237\u7aef\uff0c\u53cd\u5411\u4ee3\u7406\u662f\u4ee3\u7406\u7684\u670d\u52a1\u5668\u3002</p> <p>\u53cd\u5411\u4ee3\u7406\u7684\u7528\u9014\u548c\u597d\u5904</p> <ul> <li>\u5b89\u5168\u6027\uff1a\u6b63\u5411\u4ee3\u7406\u7684\u5ba2\u6237\u7aef\u80fd\u591f\u5728\u9690\u85cf\u81ea\u8eab\u4fe1\u606f\u7684\u540c\u65f6\u8bbf\u95ee\u4efb\u610f\u7f51\u7ad9\uff0c\u8fd9\u4e2a\u7ed9\u7f51\u7edc\u5b89\u5168\u4ee3\u7406\u4e86\u6781\u5927\u7684\u5a01\u80c1\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5fc5\u987b\u628a\u670d\u52a1\u5668\u4fdd\u62a4\u8d77\u6765\uff0c\u4f7f\u7528\u53cd\u5411\u4ee3\u7406\u5ba2\u6237\u7aef\u7528\u6237\u53ea\u80fd\u901a\u8fc7\u5916\u6765\u7f51\u6765\u8bbf\u95ee\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u5e76\u4e14\u7528\u6237\u5e76\u4e0d\u77e5\u9053\u81ea\u5df1\u8bbf\u95ee\u7684\u771f\u5b9e\u670d\u52a1\u5668\u662f\u90a3\u4e00\u53f0\uff0c\u53ef\u4ee5\u5f88\u597d\u7684\u63d0\u4f9b\u5b89\u5168\u4fdd\u62a4\u3002</li> <li>\u529f\u80fd\u6027\uff1a\u53cd\u5411\u4ee3\u7406\u7684\u4e3b\u8981\u7528\u9014\u662f\u4e3a\u591a\u4e2a\u670d\u52a1\u5668\u63d0\u4f9b\u8d1f\u503a\u5747\u8861\u3001\u7f13\u5b58\u7b49\u529f\u80fd\u3002\u8d1f\u8f7d\u5747\u8861\u5c31\u662f\u4e00\u4e2a\u7f51\u7ad9\u7684\u5185\u5bb9\u88ab\u90e8\u7f72\u5728\u82e5\u5e72\u670d\u52a1\u5668\u4e0a\uff0c\u53ef\u4ee5\u628a\u8fd9\u4e9b\u673a\u5b50\u770b\u6210\u4e00\u4e2a\u96c6\u7fa4\uff0c\u90a3Nginx\u53ef\u4ee5\u5c06\u63a5\u6536\u5230\u7684\u5ba2\u6237\u7aef\u8bf7\u6c42\u201c\u5747\u5300\u5730\u201d\u5206\u914d\u5230\u8fd9\u4e2a\u96c6\u7fa4\u4e2d\u6240\u6709\u7684\u670d\u52a1\u5668\u4e0a\uff0c\u4ece\u800c\u5b9e\u73b0\u670d\u52a1\u5668\u538b\u529b\u7684\u5e73\u5747\u5206\u914d\uff0c\u4e5f\u53eb\u8d1f\u8f7d\u5747\u8861\u3002</li> </ul> <p>\u6700\u7b80\u5355\u7684\u53cd\u5411\u4ee3\u7406</p> <p>\u73b0\u5728\u6211\u4eec\u8981\u8bbf\u95ee<code>http://nginx2.jspang.com</code>\u7136\u540e\u53cd\u5411\u4ee3\u7406\u5230<code>jspang.com</code>\u8fd9\u4e2a\u7f51\u7ad9\u3002\u6211\u4eec\u76f4\u63a5\u5230<code>etc/nginx/con.d/8001.conf</code>\u8fdb\u884c\u4fee\u6539\u3002</p> <p>\u4fee\u6539\u540e\u7684\u914d\u7f6e\u6587\u4ef6\u5982\u4e0b\uff1a</p> <pre><code>server{\n        listen 80;\n        server_name nginx2.jspang.com;\n        location / {\n               proxy_pass http://jspang.com;\n        }\n}\n</code></pre> <p>\u4e00\u822c\u6211\u4eec\u53cd\u5411\u4ee3\u7406\u7684\u90fd\u662f\u4e00\u4e2aIP\uff0c\u4f46\u662f\u6211\u8fd9\u91cc\u4ee3\u7406\u4e86\u4e00\u4e2a\u57df\u540d\u4e5f\u662f\u53ef\u4ee5\u7684\u3002\u5176\u5b9e\u8fd9\u65f6\u5019\u6211\u4eec\u53cd\u5411\u4ee3\u7406\u5c31\u7b97\u6210\u529f\u4e86\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00<code>http://nginx2.jspang.com</code>\u6765\u6d4b\u8bd5\u4e00\u4e0b\u3002\uff08\u89c6\u9891\u4e2d\u6709\u8be6\u7ec6\u7684\u6f14\u793a\uff09</p> <p>\u5176\u5b83\u53cd\u5411\u4ee3\u7406\u6307\u4ee4</p> <p>\u53cd\u5411\u4ee3\u7406\u8fd8\u6709\u4e9b\u5e38\u7528\u7684\u6307\u4ee4\uff0c\u6211\u5728\u8fd9\u91cc\u7ed9\u5927\u5bb6\u5217\u51fa\uff1a</p> <ul> <li>proxy_set_header :\u5728\u5c06\u5ba2\u6237\u7aef\u8bf7\u6c42\u53d1\u9001\u7ed9\u540e\u7aef\u670d\u52a1\u5668\u4e4b\u524d\uff0c\u66f4\u6539\u6765\u81ea\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u5934\u4fe1\u606f\u3002</li> <li>proxy_connect_timeout:\u914d\u7f6eNginx\u4e0e\u540e\u7aef\u4ee3\u7406\u670d\u52a1\u5668\u5c1d\u8bd5\u5efa\u7acb\u8fde\u63a5\u7684\u8d85\u65f6\u65f6\u95f4\u3002</li> <li>proxy_read_timeout : \u914d\u7f6eNginx\u5411\u540e\u7aef\u670d\u52a1\u5668\u7ec4\u53d1\u51faread\u8bf7\u6c42\u540e\uff0c\u7b49\u5f85\u76f8\u5e94\u7684\u8d85\u65f6\u65f6\u95f4\u3002</li> <li>proxy_send_timeout\uff1a\u914d\u7f6eNginx\u5411\u540e\u7aef\u670d\u52a1\u5668\u7ec4\u53d1\u51fawrite\u8bf7\u6c42\u540e\uff0c\u7b49\u5f85\u76f8\u5e94\u7684\u8d85\u65f6\u65f6\u95f4\u3002</li> <li>proxy_redirect :\u7528\u4e8e\u4fee\u6539\u540e\u7aef\u670d\u52a1\u5668\u8fd4\u56de\u7684\u54cd\u5e94\u5934\u4e2d\u7684Location\u548cRefresh\u3002</li> </ul>"},{"location":"nginx/%E6%8A%80%E6%9C%AF%E8%83%96-%E5%89%8D%E7%AB%AF%20Nginx%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#10nginxpc","title":"\u7b2c10\u8282\uff1aNginx\u9002\u914dPC\u6216\u79fb\u52a8\u8bbe\u5907","text":"<p>\u73b0\u5728\u5f88\u591a\u7f51\u7ad9\u90fd\u662f\u6709\u4e86PC\u7aef\u548cH5\u7ad9\u70b9\u7684\uff0c\u56e0\u4e3a\u8fd9\u6837\u5c31\u53ef\u4ee5\u6839\u636e\u5ba2\u6237\u8bbe\u5907\u7684\u4e0d\u540c\uff0c\u663e\u793a\u51fa\u4f53\u9a8c\u66f4\u597d\u7684\uff0c\u4e0d\u540c\u7684\u9875\u9762\u4e86\u3002</p> <p>\u8fd9\u6837\u7684\u9700\u6c42\u6709\u4eba\u8bf4\u62ff\u81ea\u9002\u5e94\u5c31\u53ef\u4ee5\u641e\u5b9a\uff0c\u6bd4\u5982\u6211\u4eec\u5e38\u8bf4\u7684bootstrap\u548c24\u683c\u5e03\u5c40\u6cd5\uff0c\u8fd9\u4e9b\u786e\u5b9e\u662f\u975e\u5e38\u597d\u7684\u65b9\u6848\uff0c\u4f46\u662f\u65e0\u8bba\u662f\u590d\u6742\u6027\u548c\u6613\u7528\u6027\u4e0a\u9762\u8fd8\u662f\u4e0d\u5982\u5206\u5f00\u7f16\u5199\u7684\u597d\uff0c\u6bd4\u5982\u6211\u4eec\u5e38\u89c1\u7684\u6dd8\u5b9d\u3001\u4eac\u4e1c......\u8fd9\u4e9b\u5927\u578b\u7f51\u7ad9\u5c31\u90fd\u6ca1\u6709\u91c7\u7528\u81ea\u9002\u5e94\uff0c\u800c\u662f\u7528\u5206\u5f00\u5236\u4f5c\u7684\u65b9\u5f0f\u3002</p> <p>\u90a3\u5206\u5f00\u5236\u4f5c\u5982\u4f55\u901a\u8fc7\u914d\u7f6eNginx\u6765\u8bc6\u522b\u51fa\u5e94\u8be5\u5c55\u793a\u54ea\u4e2a\u9875\u9762\u90a3\uff1f\u6211\u4eec\u8fd9\u8282\u8bfe\u5c31\u6765\u5b66\u4e60\u4e00\u4e0b\u3002</p> <p>$http_user_agent\u7684\u4f7f\u7528\uff1a</p> <p>Nginx\u901a\u8fc7\u5185\u7f6e\u53d8\u91cf<code>$http_user_agent</code>\uff0c\u53ef\u4ee5\u83b7\u53d6\u5230\u8bf7\u6c42\u5ba2\u6237\u7aef\u7684userAgent\uff0c\u5c31\u53ef\u4ee5\u7528\u6237\u76ee\u524d\u5904\u4e8e\u79fb\u52a8\u7aef\u8fd8\u662fPC\u7aef\uff0c\u8fdb\u800c\u5c55\u793a\u4e0d\u540c\u7684\u9875\u9762\u7ed9\u7528\u6237\u3002</p> <p>\u64cd\u4f5c\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li>\u5728/usr/share/nginx/\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e24\u4e2a\u6587\u4ef6\u5939\uff0c\u5206\u522b\u4e3a\uff1apc\u548cmobile\u76ee\u5f55</li> </ol> <pre><code>cd /usr/share/nginx\nmkdir pc\nmkdir mobile\n</code></pre> <ol> <li>\u5728pc\u548cmiblic\u76ee\u5f55\u4e0b\uff0c\u65b0\u5efa\u4e24\u4e2aindex.html\u6587\u4ef6\uff0c\u6587\u4ef6\u91cc\u4e0b\u9762\u5185\u5bb9</li> </ol> <pre><code>&lt;h1&gt;I am pc!&lt;/h1&gt;\n&lt;h1&gt;I am mobile!&lt;/h1&gt;\n</code></pre> <ol> <li>\u8fdb\u5165<code>etc/nginx/conf.d</code>\u76ee\u5f55\u4e0b\uff0c\u4fee\u65398001.conf\u6587\u4ef6\uff0c\u6539\u4e3a\u4e0b\u9762\u7684\u5f62\u5f0f:</li> </ol> <pre><code>server{\n        listen 80;\n        server_name nginx2.jspang.com;\n        location / {\n         root /usr/share/nginx/pc;\n         if ($http_user_agent ~* '(Android|webOS|iPhone|iPod|BlackBerry)') {\n            root /usr/share/nginx/mobile;\n         }\n         index index.html;\n        }\n}\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u6211\u4f1a\u5728\u89c6\u9891\u4e2d\u8be6\u7ec6\u8bb2\u89e3\uff0c\u5982\u679c\u611f\u5174\u8da3\u5c31\u6765\u770b\u89c6\u9891\u5427\uff0c\u89c6\u9891\u5168\u90e8\u514d\u8d39\u54e6\u3002</p>"},{"location":"nginx/%E6%8A%80%E6%9C%AF%E8%83%96-%E5%89%8D%E7%AB%AF%20Nginx%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#11nginxgzip","title":"\u7b2c11\u8282\uff1aNginx\u7684Gzip\u538b\u7f29\u914d\u7f6e","text":"<p>Gzip\u662f\u7f51\u9875\u7684\u4e00\u79cd\u7f51\u9875\u538b\u7f29\u6280\u672f\uff0c\u7ecf\u8fc7gzip\u538b\u7f29\u540e\uff0c\u9875\u9762\u5927\u5c0f\u53ef\u4ee5\u53d8\u4e3a\u539f\u6765\u768430%\u751a\u81f3\u66f4\u5c0f\u3002\u66f4\u5c0f\u7684\u7f51\u9875\u4f1a\u8ba9\u7528\u6237\u6d4f\u89c8\u7684\u4f53\u9a8c\u66f4\u597d\uff0c\u901f\u5ea6\u66f4\u5feb\u3002gzip\u7f51\u9875\u538b\u7f29\u7684\u5b9e\u73b0\u9700\u8981\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u7684\u652f\u6301\u3002</p> <p></p> <p>\u4ece\u4e0a\u56fe\u53ef\u4ee5\u6e05\u695a\u7684\u660e\u767d\uff0cgzip\u662f\u9700\u8981\u670d\u52a1\u5668\u548c\u6d4f\u89c8\u5668\u540c\u4e8b\u652f\u6301\u7684\u3002\u5f53\u6d4f\u89c8\u5668\u652f\u6301gzip\u538b\u7f29\u65f6\uff0c\u4f1a\u5728\u8bf7\u6c42\u6d88\u606f\u4e2d\u5305\u542bAccept-Encoding:gzip,\u8fd9\u6837Nginx\u5c31\u4f1a\u5411\u6d4f\u89c8\u5668\u53d1\u9001\u542c\u8fc7gzip\u540e\u7684\u5185\u5bb9\uff0c\u540c\u65f6\u5728\u76f8\u5e94\u4fe1\u606f\u5934\u4e2d\u52a0\u5165Content-Encoding:gzip\uff0c\u58f0\u660e\u8fd9\u662fgzip\u540e\u7684\u5185\u5bb9\uff0c\u544a\u77e5\u6d4f\u89c8\u5668\u8981\u5148\u89e3\u538b\u540e\u624d\u80fd\u89e3\u6790\u8f93\u51fa\u3002</p> <p>gzip\u7684\u914d\u7f6e\u9879</p> <p>Nginx\u63d0\u4f9b\u4e86\u4e13\u95e8\u7684gzip\u6a21\u5757\uff0c\u5e76\u4e14\u6a21\u5757\u4e2d\u7684\u6307\u4ee4\u975e\u5e38\u4e30\u5bcc\u3002</p> <ul> <li>gzip : \u8be5\u6307\u4ee4\u7528\u4e8e\u5f00\u542f\u6216 \u5173\u95edgzip\u6a21\u5757\u3002</li> <li>gzip_buffers : \u8bbe\u7f6e\u7cfb\u7edf\u83b7\u53d6\u51e0\u4e2a\u5355\u4f4d\u7684\u7f13\u5b58\u7528\u4e8e\u5b58\u50a8gzip\u7684\u538b\u7f29\u7ed3\u679c\u6570\u636e\u6d41\u3002</li> <li>gzip_comp_level : gzip\u538b\u7f29\u6bd4\uff0c\u538b\u7f29\u7ea7\u522b\u662f1-9\uff0c1\u7684\u538b\u7f29\u7ea7\u522b\u6700\u4f4e\uff0c9\u7684\u538b\u7f29\u7ea7\u522b\u6700\u9ad8\u3002\u538b\u7f29\u7ea7\u522b\u8d8a\u9ad8\u538b\u7f29\u7387\u8d8a\u5927\uff0c\u538b\u7f29\u65f6\u95f4\u8d8a\u957f\u3002</li> <li>gzip_disable : \u53ef\u4ee5\u901a\u8fc7\u8be5\u6307\u4ee4\u5bf9\u4e00\u4e9b\u7279\u5b9a\u7684User-Agent\u4e0d\u4f7f\u7528\u538b\u7f29\u529f\u80fd\u3002</li> <li>gzip_min_length:\u8bbe\u7f6e\u5141\u8bb8\u538b\u7f29\u7684\u9875\u9762\u6700\u5c0f\u5b57\u8282\u6570\uff0c\u9875\u9762\u5b57\u8282\u6570\u4ece\u76f8\u5e94\u6d88\u606f\u5934\u7684Content-length\u4e2d\u8fdb\u884c\u83b7\u53d6\u3002</li> <li>gzip_http_version\uff1a\u8bc6\u522bHTTP\u534f\u8bae\u7248\u672c\uff0c\u5176\u503c\u53ef\u4ee5\u662f1.1.\u62161.0.</li> <li>gzip_proxied : \u7528\u4e8e\u8bbe\u7f6e\u542f\u7528\u6216\u7981\u7528\u4ece\u4ee3\u7406\u670d\u52a1\u5668\u4e0a\u6536\u5230\u76f8\u5e94\u5185\u5bb9gzip\u538b\u7f29\u3002</li> <li>gzip_vary : \u7528\u4e8e\u5728\u54cd\u5e94\u6d88\u606f\u5934\u4e2d\u6dfb\u52a0Vary\uff1aAccept-Encoding,\u4f7f\u4ee3\u7406\u670d\u52a1\u5668\u6839\u636e\u8bf7\u6c42\u5934\u4e2d\u7684Accept-Encoding\u8bc6\u522b\u662f\u5426\u542f\u7528gzip\u538b\u7f29\u3002</li> </ul> <p>gzip\u6700\u7b80\u5355\u7684\u914d\u7f6e</p> <pre><code>http {\n   .....\n    gzip on;\n    gzip_types text/plain application/javascript text/css;\n   .....\n}\n</code></pre> <p><code>gzip on</code>\u662f\u542f\u7528gizp\u6a21\u5757\uff0c\u4e0b\u9762\u7684\u4e00\u884c\u662f\u7528\u4e8e\u5728\u5ba2\u6237\u7aef\u8bbf\u95ee\u7f51\u9875\u65f6\uff0c\u5bf9\u6587\u672c\u3001JavaScript \u548cCSS\u6587\u4ef6\u8fdb\u884c\u538b\u7f29\u8f93\u51fa\u3002</p> <p>\u914d\u7f6e\u597d\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u91cd\u542fNginx\u670d\u52a1\uff0c\u8ba9\u6211\u4eec\u7684gizp\u751f\u6548\u4e86\u3002</p> <p>\u5982\u679c\u4f60\u662fwindows\u64cd\u4f5c\u7cfb\u7edf\uff0c\u4f60\u53ef\u4ee5\u6309F12\u952e\u6253\u5f00\u5f00\u53d1\u8005\u5de5\u5177\uff0c\u5355\u673a\u5f53\u524d\u7684\u8bf7\u6c42\uff0c\u5728\u6807\u7b7e\u4e2d\u9009\u62e9Headers\uff0c\u67e5\u770bHTTP\u54cd\u5e94\u5934\u4fe1\u606f\u3002\u4f60\u53ef\u4ee5\u6e05\u695a\u7684\u770b\u89c1<code>Content-Encoding</code>\u4e3agzip\u7c7b\u578b\u3002</p> <p></p> <p>\u770b\u5230\u8fd9\u4e2a\uff0c\u8bf4\u660e\u6211\u4eec\u6210\u529f\u5f00\u542f\u4e86gzip\u3002</p> <p>\u5230\u8fd9\u91cc\u4e3a\u6b62\uff0c\u6211\u4eec\u7684\u66f4\u65b0\u6682\u65f6\u7ed3\u675f\u4e86\uff0c\u8fd9\u53ea\u662f\u4e2a\u5165\u95e8\u6559\u7a0b\uff0c\u5c0f\u4f19\u4f34\u53ef\u4ee5\u7ee7\u7eed\u5347\u5165\u5b66\u4e60\uff0cNginx\u8fd8\u6709\u5f88\u591a\u7b2c\u4e09\u65b9\u6a21\u5757\uff0c\u4ee5\u540e\u6709\u673a\u4f1a\uff0c\u6211\u4f1a\u7ee7\u7eed\u5206\u4eab\u3002</p>"},{"location":"nodejs/Node%20%E4%B8%8B%20LDAP%20%E5%AE%9E%E7%8E%B0/","title":"Node \u4e0b LDAP \u5b9e\u73b0","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 11266  \u9605\u8bfb23\u5206\u949f</p> <p>LDAP \u5165\u95e8</p> <p>\u9996\u5148\u8981\u5148\u7406\u89e3\u4ec0\u4e48\u662f LDAP\uff0c\u5f53\u65f6\u6211\u770b\u4e86\u5f88\u591a\u89e3\u91ca\uff0c\u4e5f\u662f\u4e91\u91cc\u96fe\u91cc\uff0c\u5f04\u4e0d\u6e05\u695a\u3002\u5728\u8fd9\u91cc\u7ed9\u5927\u5bb6\u7a0d\u5fae\u634b\u4e00\u634b\u3002</p> <p>\u9996\u5148 LDAP \u662f\u4e00\u79cd\u901a\u8baf\u534f\u8bae\uff0cLDAP \u652f\u6301 TCP/IP\u3002\u534f\u8bae\u5c31\u662f\u6807\u51c6\uff0c\u5e76\u4e14\u662f\u62bd\u8c61\u7684\u3002\u5728\u8fd9\u5957\u6807\u51c6\u4e0b\uff0cAD\uff08Active Directory\uff09\u662f\u5fae\u8f6f\u51fa\u7684\u4e00\u5957\u5b9e\u73b0\u3002</p> <p>\u90a3 AD \u662f\u4ec0\u4e48\u5462\uff1f\u6682\u4e14\u628a\u5b83\u7406\u89e3\u6210\u662f\u4e2a\u6570\u636e\u5e93\u3002\u4e5f\u6709\u5f88\u591a\u4eba\u76f4\u63a5\u628a LDAP \u8bf4\u6210\u6570\u636e\u5e93(\u53ef\u4ee5\u628a LDAP \u7406\u89e3\u6210\u5b58\u50a8\u6570\u636e\u7684\u6570\u636e\u5e93)\u3002\u50cf\u662f\u5176\u4ed6\u6570\u636e\u5e93\u4e00\u6837\uff0cLDAP \u4e5f\u662f\u6709 client \u7aef\u548c server \u7aef\u3002server \u7aef\u662f\u7528\u6765\u5b58\u653e\u8d44\u6e90\uff0cclient \u7aef\u7528\u6765\u64cd\u4f5c\u589e\u5220\u6539\u67e5\u7b49\u64cd\u4f5c\u3002</p> <pre><code> \u800c\u6211\u4eec\u901a\u5e38\u8bf4\u7684LDAP\u662f\u6307\u8fd0\u884c\u8fd9\u4e2a\u6570\u636e\u5e93\u7684\u670d\u52a1\u5668\u3002\n\n \u53ef\u4ee5\u7b80\u5355\u7406\u89e3AD =LDAP\u670d\u52a1\u5668\uff0bLDAP\u5e94\u7528\u3002\n\n\n\n\n \u90a3LDAP\u8fd9\u79cd\u6570\u636e\u5e93\u6709\u4ec0\u4e48\u7279\u6b8a\u7684\u5462\uff1f\n</code></pre> <p>\u6211\u4eec\u77e5\u9053\uff0c\u50cf MySQL \u6570\u636e\u5e93\uff0c\u6570\u636e\u90fd\u662f\u6309\u8bb0\u5f55\u4e00\u6761\u6761\u8bb0\u5f55\u5b58\u5728\u8868\u4e2d\u3002\u800c LDAP \u6570\u636e\u5e93\uff0c\u662f\u6811\u7ed3\u6784\u7684\uff0c\u6570\u636e\u5b58\u50a8\u5728\u53f6\u5b50\u8282\u70b9\u4e0a\u3002\u770b\u770b\u4e0b\u9762\u7684\u6bd4\u55bb\uff1a</p> <p>\u5047\u8bbe\u4f60\u8981\u6811\u4e0a\u7684\u4e00\u4e2a\u82f9\u679c\uff08\u4e00\u6761\u8bb0\u5f55\uff09\uff0c\u4f60\u600e\u4e48\u544a\u8bc9\u56ed\u4e01\u5b83\u7684\u4f4d\u7f6e\u5462\uff1f\u5f53\u7136\u9996\u5148\u8981\u8bf4\u660e\u662f\u54ea\u4e00\u68f5\u6811\uff08dc\uff0c\u76f8\u5f53\u4e8e MYSQL \u7684 DB\uff09\uff0c\u7136\u540e\u662f\u4ece\u6811\u6839\u5230\u90a3\u4e2a\u82f9\u679c\u6240\u7ecf\u8fc7\u7684\u6240\u6709\u201c\u5206\u53c9\u201d\uff08ou\uff09\uff0c\u6700\u540e\u5c31\u662f\u8fd9\u4e2a\u82f9\u679c\u7684\u540d\u5b57\uff08uid\uff0c\u76f8\u5f53\u4e8e MySQL \u8868\u4e3b\u952e id\uff09\u3002\u597d\u4e86\uff01\u8fd9\u65f6\u6211\u4eec\u53ef\u4ee5\u6e05\u6670\u7684\u6307\u660e\u8fd9\u4e2a\u82f9\u679c\u7684\u4f4d\u7f6e\u4e86\uff0c\u5c31\u662f\u90a3\u68f5\u201c\u6b6a\u8116\u6811\u201d\u7684\u4e1c\u8fb9\u90a3\u4e2a\u5206\u53c9\u4e0a\u7684\u9760\u897f\u8fb9\u90a3\u4e2a\u5206\u53c9\u7684\u518d\u9760\u5317\u8fb9\u7684\u5206\u53c9\u4e0a\u7684\u534a\u7ea2\u534a\u7eff\u7684\u2026\u2026\uff0c\u6655\u4e86\uff01\u4f60\u76f4\u63a5\u722c\u4e0a\u53bb\u5427\uff01</p> <p>\u5c31\u8fd9\u6837\u5c31\u53ef\u4ee5\u63cf\u8ff0\u6e05\u695a\u201c\u6811\u7ed3\u6784\u201d\u4e0a\u7684\u4e00\u6761\u8bb0\u5f55\u4e86\u3002</p> <p>\u8bf4\u4e00\u4e0b LDAP \u91cc\u5982\u4f55\u5b9a\u4e49\u4e00\u4e2a\u8bb0\u5f55\u7684\u4f4d\u7f6e\u5427\u3002</p> <pre><code>\u6811\uff08dc=ljheee)\n\n\u5206\u53c9\uff08ou=bei,ou=xi,ou= dong\uff09\n\n\u82f9\u679c\uff08cn=redApple\uff09\uff0c\n</code></pre> <p>\u597d\u4e86\uff0credApple \u7684\u4f4d\u7f6e\u51fa\u6765\u4e86\uff1a</p> <pre><code> dn:cn=honglv,ou=bei,ou=xi,ou=dong,dc=ljheee\n</code></pre> <p>\u5176\u4e2d dn \u6807\u8bc6\u4e00\u6761\u8bb0\u5f55\uff0c\u63cf\u8ff0\u4e86\u4e00\u6761\u6570\u636e\u7684\u8be6\u7ec6\u8def\u5f84\u3002</p> <p>\u54a6!\u6709\u4eba\u7591\u95ee\uff0c\u4e3a\u4ec0\u4e48 ou \u4f1a\u6709\u591a\u4e2a\u503c\uff1f\u4f60\u60f3\u60f3\uff0c\u4ece\u6811\u6839\u5230\u8fbe\u82f9\u679c\u7684\u4f4d\u7f6e\uff0c\u53ef\u80fd\u8981\u7ecf\u8fc7\u597d\u51e0\u4e2a\u6811\u6748\uff0c\u6240\u6709 ou \u53ef\u80fd\u6709\u591a\u4e2a\u503c\u3002\u5173\u4e8e dn \u540e\u9762\u4e00\u957f\u4e32\uff0c\u5206\u522b\u662f cn\uff0cou,dc\uff1b\u4e2d\u95f4\u7528\u9017\u53f7\u9694\u5f00\u3002</p> <p>\u603b\u7ed3\u4e00\u4e0b LDAP \u6811\u5f62\u6570\u636e\u5e93\u5982\u4e0b\uff1a</p> <p>dn \uff1a\u4e00\u6761\u8bb0\u5f55\u7684\u8be6\u7ec6\u4f4d\u7f6e</p> <p>dc \uff1a\u4e00\u6761\u8bb0\u5f55\u6240\u5c5e\u533a\u57df (\u54ea\u4e00\u9897\u6811)</p> <p>ou \uff1a\u4e00\u6761\u8bb0\u5f55\u6240\u5c5e\u7ec4\u7ec7 \uff08\u54ea\u4e00\u4e2a\u5206\u652f\uff09</p> <p>cn/uid\uff1a\u4e00\u6761\u8bb0\u5f55\u7684\u540d\u5b57/ID (\u54ea\u4e00\u4e2a\u82f9\u679c\u540d\u5b57)</p> <p>LDAP \u76ee\u5f55\u6811\u7684\u6700\u9876\u90e8\u5c31\u662f\u6839\uff0c\u4e5f\u5c31\u662f\u6240\u8c13\u7684\u201c\u57fa\u51c6 DN\"\u3002</p> <p>\u4e3a\u4ec0\u4e48\u8981\u7528 LDAP \u76ee\u5f55\u6811\u6765\u5b58\u50a8\u6570\u636e\uff0c\u7528 MySQL \u4e0d\u884c\u5417\uff0c\u4e3a\u4ec0\u4e48\u975e\u8981\u641e\u51fa\u4e00\u4e2a\u6811\u5f62\u7684\u6570\u636e\u5e93\u5462\uff1f</p> <p>\u8fd9\u662f\u56e0\u4e3a\u7528\u6811\u5f62\u7ed3\u6784\u5b58\u50a8\u6570\u636e\uff0c\u67e5\u8be2\u6548\u7387\u66f4\u9ad8\uff08\u5177\u4f53\u4e3a\u4ec0\u4e48\uff0c\u53ef\u4ee5\u770b\u4e00\u4e0b\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7d22\u5f15\u7684\u5b9e\u73b0\u539f\u7406\u2014\u2014B \u6811/B+\u6811\uff09\u3002\u5728\u67d0\u4e9b\u7279\u5b9a\u7684\u573a\u666f\u4e0b\uff0c\u4f7f\u7528\u6811\u5f62\u6570\u636e\u5e93\u66f4\u7406\u60f3\u3002\u6bd4\u5982\uff1a\u9700\u8981\u50a8\u5b58\u5927\u91cf\u7684\u6570\u636e\uff0c\u800c\u4e14\u6570\u636e\u4e0d\u662f\u7ecf\u5e38\u66f4\u6539\uff0c\u9700\u8981\u5f88\u5feb\u901f\u7684\u67e5\u627e\u3002</p> <p>\u628a\u5b83\u4e0e\u4f20\u7edf\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\u76f8\u6bd4\uff0cLDAP \u9664\u4e86\u5feb\u901f\u67e5\u627e\u7684\u7279\u70b9\uff0c\u5b83\u8fd8\u6709\u5f88\u591a\u7684\u8fd0\u7528\u573a\u666f\uff0c\u6bd4\u5982\u57df\u9a8c\u8bc1\u7b49\u3002</p> <p>LDAP \u7f16\u7a0b\u64cd\u4f5c \u6211\u4eec\u53ef\u4ee5\u7528 JDBC \u64cd\u4f5c MySQL \u6570\u636e\u5e93\uff0c\u8fdb\u884c\u5bf9\u6570\u636e\u7684\u589e\u5220\u6539\u67e5\u3002\u540c\u6837\uff0cLDAP \u6811\u5f62\u6570\u636e\u5e93\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7 JDBC \u65b9\u5f0f\uff1b\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u7528 JNDI \u7684\u65b9\u5f0f\uff08\u66f4\u63a8\u8350\uff09\uff0c\u56e0\u4e3a\u6811\u5f62\u53ef\u4ee5\u770b\u505a\u662f\u76ee\u5f55\uff0c\u6811\u7ed3\u6784\u7684\u679d\u6748\u76f8\u5f53\u4e8e\u76ee\u5f55\u7684\u5c42\u7ea7\u3002</p> <p>\u8fd8\u6709 LDAP \u6570\u636e\u5e93\u5c55\u793a\u6570\u636e\u4e5f\u662f\u6811\u5f62\u7684\uff0c\u5982\u4e0b\u56fe\u662f\u7528 ApacheDirectoryStudio \u8fde\u63a5\u7684\u516c\u53f8 LDAP \u670d\u52a1\u5668\uff1a</p> <p>\u53ef\u4ee5\u628a ApacheDirectoryStudio \u770b\u505a\u662f\u8fde\u63a5\u6570\u636e\u5e93\u670d\u52a1\u5668\u7684\u754c\u9762\u5316\u7684 client\uff0c\u76f8\u5f53\u4e8e Navicat\u3001WorkBench\u3002\u65b0\u5efa\u8fde\u63a5\uff0c\u8fde\u63a5\u6570\u636e\u5e93\u670d\u52a1\u5668\u7684\u64cd\u4f5c\u7c7b\u4f3c\u3002</p> <p>ApacheDirectoryStudio \u4e0b\u8f7d\u5730\u5740</p> <p>http://download.csdn.net/download/ljheee/10145654</p> <p>JNDI \u8fde\u63a5 LDAP \u670d\u52a1\u5668</p> <pre><code>import com.xxx.csb.ldap.config.LdapConfiguration;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport java.util.Hashtable;\nimport javax.naming.*;\nimport javax.naming.directory.Attribute;\nimport javax.naming.directory.Attributes;\nimport javax.naming.directory.DirContext;\nimport javax.naming.directory.InitialDirContext;\n\n/**\n * author:lijianhua\n * Date:2017\\12\\4 0004\n */\npublic class LdapJNDI {\n\n    @Autowired\n    LdapConfiguration ldapConfiguration;\n\n    public void JNDILookup() {\n        String rootFilter = \"o=xxx.com,o=isp\";\n//        String filter = \"(&amp;(smart-type=E1)(smart-status=1))\";\n        String filter = \"(&amp;(smart-type=E1)(uid=00012047))\";\n        String username = \"uid=USER_NAME,ou=Authorization,ou=People,o=cc.com,o=isp\";//xxx\u4e3a\u7533\u8bf7\u7684\u5bf9\u63a5\u8d26\u6237\n        String password = \"PASSW\";\n\n\n\n        Hashtable env = new Hashtable();\n        env.put(Context.INITIAL_CONTEXT_FACTORY, \"com.sun.jndi.ldap.LdapCtxFactory\");//\u8bbe\u7f6e\u8fde\u63a5LDAP\u7684\u5b9e\u73b0\u5de5\u5382\n        env.put(Context.PROVIDER_URL, \"ldap://172.16.32.19:389/\" + rootFilter);// \u6307\u5b9aLDAP\u670d\u52a1\u5668\u7684\u4e3b\u673a\u540d\u548c\u7aef\u53e3\u53f7\n        env.put(Context.SECURITY_AUTHENTICATION, \"simple\");//\u7ed9\u73af\u5883\u63d0\u4f9b\u8ba4\u8bc1\u65b9\u6cd5,\u6709SIMPLE\u3001SSL/TLS\u548cSASL\n        env.put(Context.SECURITY_PRINCIPAL, username);//\u6307\u5b9a\u8fdb\u5165\u7684\u76ee\u5f55\u8bc6\u522b\u540dDN\n        env.put(Context.SECURITY_CREDENTIALS, password); //\u8fdb\u5165\u7684\u76ee\u5f55\u5bc6\u7801\n        env.put(\"filter\",filter);\n        DirContext ctx = null;\n\n        try {\n            // \u5f97\u5230\u521d\u59cb\u76ee\u5f55\u73af\u5883\u7684\u4e00\u4e2a\u5f15\u7528\n            ctx = new InitialDirContext(env);\n\n            //The search base entry 'uid=00012047,ou=Internal,ou=People,o=xxx.com,o=isp' does not exist]; remaining name 'uid=00012047,ou=Internal'\n//            Attributes attrs = ctx.getAttributes(\"uid=00012047,ou=Internal,ou=People\");//\u83b7\u53d6\u5230\u4e00\u4e2a\u4eba\u5458\uff0c\n\n\n            NamingEnumeration bindings = ctx.listBindings(\"ou=Internal,ou=People\");//\u5217\u4e3e \u5185\u90e8\u4eba\u5458\n\n            while (bindings.hasMore()) {\n                Binding bd = (Binding)bindings.next();\n                System.out.println(bd.getName() + \": \" + bd.getObject());\n            }\n\n\n             /*\u6839\u636e\u7ed3\u70b9\u7684DN\u6765\u67e5\u627e\u5b83\u7684\u6240\u6709\u5c5e\u6027, \u7136\u540e\u518d\u4ece\u5c5e\u6027\u4e2d\u5f97\u5230\u6240\u6709\u7684\u503c,\u6ce8\u610f\u4e00\u4e2a\u5c5e\u6027\u53ef\u4ee5\u6709\u591a\u4e2a\u503c*/\n//            for (NamingEnumeration ae = attrs.getAll(); ae.hasMore(); ) {\n//                //\u83b7\u53d6\u4e00\u4e2a\u5c5e\u6027\n//                Attribute attr = (Attribute) ae.next();\n//                for (NamingEnumeration ve = attr.getAll(); ve.hasMore(); ) {\n//                    System.out.println(String.format(\"Attribute=%s,Value=%s\",attr.getID(),ve.next()) );\n//                }\n//            }\n\n        } catch (javax.naming.AuthenticationException e) {\n            System.out.println(\"\u8ba4\u8bc1\u5931\u8d25\");\n            e.printStackTrace();\n        } catch (Exception e) {\n            System.out.println(\"\u8ba4\u8bc1\u51fa\u9519\uff1a\");\n            e.printStackTrace();\n        }finally {\n            if (ctx != null) {\n                try {\n                    ctx.close();\n                } catch (NamingException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n    }\n\n    public static void main(String[] args) {\n        LdapJNDI ldapJNDI = new LdapJNDI();\n        ldapJNDI.JNDILookup();\n\n    }\n}\n</code></pre> <p>\u6700\u540e\u603b\u7ed3\u4e00\u4e0b LDAP\uff1a</p> <p>1\u3001LDAP \u7684\u7ed3\u6784\u7528\u6811\u6765\u8868\u793a\uff0c\u800c\u4e0d\u662f\u7528\u8868\u683c\u3002\u6b63\u56e0\u4e3a\u8fd9\u6837\uff0c\u5c31\u4e0d\u80fd\u7528 SQL \u8bed\u53e5\u4e86\u3002</p> <p>2\u3001LDAP \u53ef\u4ee5\u5f88\u5feb\u5730\u5f97\u5230\u67e5\u8be2\u7ed3\u679c\uff0c\u4e0d\u8fc7\u5728\u5199\u65b9\u9762\uff0c\u5c31\u6162\u5f97\u591a\u3002</p> <p>3\u3001LDAP \u63d0\u4f9b\u4e86\u9759\u6001\u6570\u636e\u7684\u5feb\u901f\u67e5\u8be2\u65b9\u5f0f\u3002</p> <p>4\u3001Client/server \u6a21\u578b\uff0cServer \u7528\u4e8e\u5b58\u50a8\u6570\u636e\uff0cClient \u63d0\u4f9b\u64cd\u4f5c\u76ee\u5f55\u4fe1\u606f\u6811\u7684\u5de5\u5177\u3002</p> <p>5\u3001LDAP \u662f\u4e00\u79cd\u5f00\u653e Internet \u6807\u51c6\uff0cLDAP \u534f\u8bae\u662f\u8de8\u5e73\u53f0\u7684 Interent \u534f\u8bae\u3002</p>"},{"location":"nodejs/Node%20%E4%B8%8B%20LDAP%20%E5%AE%9E%E7%8E%B0/#node-ldap_1","title":"node-ldap","text":"<p>node ldap client</p>"},{"location":"nodejs/Node%20%E4%B8%8B%20LDAP%20%E5%AE%9E%E7%8E%B0/#github","title":"github","text":"<p>https://github.com/ymyang/node-ldap</p>"},{"location":"nodejs/Node%20%E4%B8%8B%20LDAP%20%E5%AE%9E%E7%8E%B0/#_1","title":"\u5b89\u88c5","text":"<p>npm install node-ldap</p>"},{"location":"nodejs/Node%20%E4%B8%8B%20LDAP%20%E5%AE%9E%E7%8E%B0/#_2","title":"\u4f7f\u7528","text":"<p>\u5df2\u901a\u8fc7 Windows Server 2008 \u6d4b\u8bd5</p> <pre><code>var LdapClient = RedisClient(\"node-ldap\");\n\nvar client = new LdapClient({\n  ldapUrl: \"ldap://192.168.1.81:389\",\n  userDn: \"administrator@yliyun.com\",\n  password: \"yliyun@123\",\n});\n\n// \u7528\u6237\u8ba4\u8bc1\nclient\n  .auth(\"administrator@yliyun.com\", \"yliyun@123\")\n  .then(function () {\n    console.log(\"success\");\n  })\n  .catch(function (err) {\n    console.error(err);\n  });\n\n// \u641c\u7d22\u90e8\u95e8\nclient\n  .searchOU(\"cn=Users,dc=yliyun,dc=com\")\n  .then(function (ous) {\n    console.log(ous);\n  })\n  .catch(function (err) {\n    console.error(err);\n  });\n\n// \u641c\u7d22\u7fa4\u7ec4\nclient\n  .searchGroup(\"cn=Users,dc=yliyun,dc=com\")\n  .then(function (groups) {\n    console.log(groups);\n  })\n  .catch(function (err) {\n    console.error(err);\n  });\n\n// \u641c\u7d22\u7528\u6237\nclient\n  .searchUser(\"cn=Users,dc=yliyun,dc=com\")\n  .then(function (users) {\n    console.log(users);\n  })\n  .catch(function (err) {\n    console.error(err);\n  });\n\n// \u641c\u7d22\nclient\n  .search({\n    base: \"dc=yliyun,dc=com\",\n    scope: \"sub\", // \u9ed8\u8ba4\u4e3a'one'\n    paged: \"true\", // \u9ed8\u8ba4\u4e3atrue\n    filter: \"(objectclass=organizationalUnit)\",\n  })\n  .then(function (rows) {\n    console.log(rows);\n  })\n  .catch(function (err) {\n    console.error(err);\n  });\n\n// \u65ad\u5f00\u8fde\u63a5\nclient.disconnect();\n</code></pre>"},{"location":"nodejs/Node%20%E4%B8%8B%20LDAP%20%E5%AE%9E%E7%8E%B0/#nodejs-ldap","title":"node.js \u4e0b LDAP \u67e5\u8be2\u5b9e\u8df5","text":"<p>\u76ee\u6807\uff1a</p> <p>\u4ece\u4e00\u4e2a LDAP Server \u83b7\u53d6 uid=kxh \u7684\u7528\u6237\u6570\u636e</p> <p>LDAP \u5730\u5740\u4e3a\uff1aldap://10.233.21.116:389</p> <p>\u5728\u5de5\u7a0b\u6839\u76ee\u5f55\u4e2d\uff0c\u5148 npm \u4e00\u4e2a LDAP \u7684\u8bbf\u95ee\u5e93 ldpajs npm install ldapjs</p> <pre><code>var ldap = require(\"ldapjs\");\n\n//\u521b\u5efaLDAP client\uff0c\u628a\u670d\u52a1\u5668url\u4f20\u5165\nvar client = ldap.createClient({\n  url: \"ldap://10.203.24.216:389\",\n});\n\n//\u521b\u5efaLDAP\u67e5\u8be2\u9009\u9879\n//filter\u7684\u4f5c\u7528\u5c31\u662f\u76f8\u5f53\u4e8eSQL\u7684\u6761\u4ef6\nvar opts = {\n  filter: \"(uid=kxh)\", //\u67e5\u8be2\u6761\u4ef6\u8fc7\u6ee4\u5668\uff0c\u67e5\u627euid=kxh\u7684\u7528\u6237\u8282\u70b9\n  scope: \"sub\", //\u67e5\u8be2\u8303\u56f4\n  timeLimit: 500, //\u67e5\u8be2\u8d85\u65f6\n};\n\n//\u5c06client\u7ed1\u5b9aLDAP Server\n//\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u662f\u7528\u6237\uff0c\u5fc5\u987b\u662f\u4ece\u6839\u8282\u70b9\u5230\u7528\u6237\u8282\u70b9\u7684\u5168\u8def\u5f84\n//\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1a\u7528\u6237\u5bc6\u7801\nclient.bind(\n  \"uid=supbind,cn=users,dc=tiger,dc=com\",\n  \"123456\",\n  function (err, res1) {\n    //\u5f00\u59cb\u67e5\u8be2\n    //\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u67e5\u8be2\u57fa\u7840\u8def\u5f84\uff0c\u4ee3\u8868\u5728\u67e5\u8be2\u7528\u6237\u4fe1\u5fc3\u5c06\u5728\u8fd9\u4e2a\u8def\u5f84\u4e0b\u8fdb\u884c\uff0c\u8fd9\u4e2a\u8def\u5f84\u662f\u7531\u6839\u8282\u5f00\u59cb\n    //\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1a\u67e5\u8be2\u9009\u9879\n    client.search(\"DC=tiger,DC=com\", opts, function (err, res2) {\n      //\u67e5\u8be2\u7ed3\u679c\u4e8b\u4ef6\u54cd\u5e94\n      res2.on(\"searchEntry\", function (entry) {\n        //\u83b7\u53d6\u67e5\u8be2\u7684\u5bf9\u8c61\n        var user = entry.object;\n        var userText = JSON.stringify(user, null, 2);\n        console.log(userText);\n      });\n\n      res2.on(\"searchReference\", function (referral) {\n        console.log(\"referral: \" + referral.uris.join());\n      });\n\n      //\u67e5\u8be2\u9519\u8bef\u4e8b\u4ef6\n      res2.on(\"error\", function (err) {\n        console.error(\"error: \" + err.message);\n        //unbind\u64cd\u4f5c\uff0c\u5fc5\u987b\u8981\u505a\n        client.unbind();\n      });\n\n      //\u67e5\u8be2\u7ed3\u675f\n      res2.on(\"end\", function (result) {\n        console.log(\"search status: \" + result.status);\n        //unbind\u64cd\u4f5c\uff0c\u5fc5\u987b\u8981\u505a\n        client.unbind();\n      });\n    });\n  }\n);\n</code></pre> <p>\u53c2\u8003\u8d44\u6599</p> <p>filter \u8bed\u6cd5\uff1ahttp://www.ldapexplorer.com/en/manual/109010000-ldap-filter-syntax.htm</p> <p>ldapjs\uff1ahttps://www.npmjs.com/package/ldapjs</p> <p>https://blog.csdn.net/ljheee/article/details/78746037?utm_source=copy</p> <p>https://blog.csdn.net/weixin_34208283/article/details/89375085</p> <p>https://www.cnblogs.com/kongxianghai/p/4847265.html</p>"},{"location":"nodejs/Node-LDAP/","title":"Node \u4e0b LDAP \u57fa\u672c\u4ecb\u7ecd","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9937  \u9605\u8bfb20\u5206\u949f</p> <p>2021-10-28</p>"},{"location":"nodejs/Node-LDAP/#ldap","title":"LDAP \u5165\u95e8","text":"<p>\u9996\u5148 LDAP \u662f\u4e00\u79cd\u901a\u8baf\u534f\u8bae\uff0cLDAP \u652f\u6301 TCP/IP\u3002\u534f\u8bae\u5c31\u662f\u6807\u51c6\uff0c\u5e76\u4e14\u662f\u62bd\u8c61\u7684\u3002\u5728\u8fd9\u5957\u6807\u51c6\u4e0b\uff0cAD\uff08Active Directory\uff09\u662f\u5fae\u8f6f\u51fa\u7684\u4e00\u5957\u5b9e\u73b0\u3002</p> <p>\u90a3 AD \u662f\u4ec0\u4e48\u5462\uff1f\u6682\u4e14\u628a\u5b83\u7406\u89e3\u6210\u662f\u4e2a\u6570\u636e\u5e93\u3002\u4e5f\u6709\u5f88\u591a\u4eba\u76f4\u63a5\u628a LDAP \u8bf4\u6210\u6570\u636e\u5e93(\u53ef\u4ee5\u628a LDAP \u7406\u89e3\u6210\u5b58\u50a8\u6570\u636e\u7684\u6570\u636e\u5e93)\u3002\u50cf\u662f\u5176\u4ed6\u6570\u636e\u5e93\u4e00\u6837\uff0cLDAP \u4e5f\u662f\u6709 client \u7aef\u548c server \u7aef\u3002server \u7aef\u662f\u7528\u6765\u5b58\u653e\u8d44\u6e90\uff0cclient \u7aef\u7528\u6765\u64cd\u4f5c\u589e\u5220\u6539\u67e5\u7b49\u64cd\u4f5c\u3002</p> <p>\u800c\u6211\u4eec\u901a\u5e38\u8bf4\u7684 LDAP \u662f\u6307\u8fd0\u884c\u8fd9\u4e2a\u6570\u636e\u5e93\u7684\u670d\u52a1\u5668\u3002\u53ef\u4ee5\u7b80\u5355\u7406\u89e3 AD =LDAP \u670d\u52a1\u5668\uff0b LDAP \u5e94\u7528\u3002</p> <p>\u90a3 LDAP \u8fd9\u79cd\u6570\u636e\u5e93\u6709\u4ec0\u4e48\u7279\u6b8a\u7684\u5462\uff1f\u6211\u4eec\u77e5\u9053\uff0c\u50cf MySQL \u6570\u636e\u5e93\uff0c\u6570\u636e\u90fd\u662f\u6309\u8bb0\u5f55\u4e00\u6761\u6761\u8bb0\u5f55\u5b58\u5728\u8868\u4e2d\u3002\u800c LDAP \u6570\u636e\u5e93\uff0c\u662f\u6811\u7ed3\u6784\u7684\uff0c\u6570\u636e\u5b58\u50a8\u5728\u53f6\u5b50\u8282\u70b9\u4e0a\u3002\u770b\u770b\u4e0b\u9762\u7684\u6bd4\u55bb\uff1a</p> <p>\u5047\u8bbe\u4f60\u8981\u6811\u4e0a\u7684\u4e00\u4e2a\u82f9\u679c\uff08\u4e00\u6761\u8bb0\u5f55\uff09\uff0c\u4f60\u600e\u4e48\u544a\u8bc9\u5b83\u7684\u4f4d\u7f6e\u5462\uff1f\u5f53\u7136\u9996\u5148\u8981\u8bf4\u660e\u662f\u54ea\u4e00\u68f5\u6811\uff08dc\uff0c\u76f8\u5f53\u4e8e MYSQL \u7684 DB\uff09\uff0c\u7136\u540e\u662f\u4ece\u6811\u6839\u5230\u90a3\u4e2a\u82f9\u679c\u6240\u7ecf\u8fc7\u7684\u6240\u6709\u201c\u5206\u53c9\u201d\uff08ou\uff09\uff0c\u6700\u540e\u5c31\u662f\u8fd9\u4e2a\u82f9\u679c\u7684\u540d\u5b57\uff08uid\uff0c\u76f8\u5f53\u4e8e MySQL \u8868\u4e3b\u952e id\uff09\u3002\u597d\u4e86\uff01\u8fd9\u65f6\u6211\u4eec\u53ef\u4ee5\u6e05\u6670\u7684\u6307\u660e\u8fd9\u4e2a\u82f9\u679c\u7684\u4f4d\u7f6e\u4e86\u3002\u5c31\u8fd9\u6837\u5c31\u53ef\u4ee5\u63cf\u8ff0\u6e05\u695a\u201c\u6811\u7ed3\u6784\u201d\u4e0a\u7684\u4e00\u6761\u8bb0\u5f55\u4e86\u3002</p> <p>\u8bf4\u4e00\u4e0b LDAP \u91cc\u5982\u4f55\u5b9a\u4e49\u4e00\u4e2a\u8bb0\u5f55\u7684\u4f4d\u7f6e\u5427\u3002</p> <pre><code>\u6811\uff08dc=ljheee)\n\u5206\u53c9\uff08ou=bei,ou=xi,ou= dong\uff09\n\u82f9\u679c\uff08cn=redApple\uff09\n</code></pre> <p>\u597d\u4e86\uff0credApple \u7684\u4f4d\u7f6e\u51fa\u6765\u4e86\uff1a</p> <pre><code> dn:cn=honglv,ou=bei,ou=xi,ou=dong,dc=ljheee\n</code></pre> <p>\u5176\u4e2d dn \u6807\u8bc6\u4e00\u6761\u8bb0\u5f55\uff0c\u63cf\u8ff0\u4e86\u4e00\u6761\u6570\u636e\u7684\u8be6\u7ec6\u8def\u5f84\u3002</p> <p>\u54a6!\u6709\u4eba\u7591\u95ee\uff0c\u4e3a\u4ec0\u4e48 ou \u4f1a\u6709\u591a\u4e2a\u503c\uff1f\u4f60\u60f3\u60f3\uff0c\u4ece\u6811\u6839\u5230\u8fbe\u82f9\u679c\u7684\u4f4d\u7f6e\uff0c\u53ef\u80fd\u8981\u7ecf\u8fc7\u597d\u51e0\u4e2a\u6811\u6748\uff0c\u6240\u6709 ou \u53ef\u80fd\u6709\u591a\u4e2a\u503c\u3002\u5173\u4e8e dn \u540e\u9762\u4e00\u957f\u4e32\uff0c\u5206\u522b\u662f cn\uff0cou,dc\uff1b\u4e2d\u95f4\u7528\u9017\u53f7\u9694\u5f00\u3002</p> <p>\u603b\u7ed3\u4e00\u4e0b LDAP \u6811\u5f62\u6570\u636e\u5e93\u5982\u4e0b\uff1a</p> <p>dn \uff1a\u4e00\u6761\u8bb0\u5f55\u7684\u8be6\u7ec6\u4f4d\u7f6e</p> <p>dc \uff1a\u4e00\u6761\u8bb0\u5f55\u6240\u5c5e\u533a\u57df (\u54ea\u4e00\u9897\u6811)</p> <p>ou \uff1a\u4e00\u6761\u8bb0\u5f55\u6240\u5c5e\u7ec4\u7ec7 \uff08\u54ea\u4e00\u4e2a\u5206\u652f\uff09</p> <p>cn/uid\uff1a\u4e00\u6761\u8bb0\u5f55\u7684\u540d\u5b57/ID (\u54ea\u4e00\u4e2a\u82f9\u679c\u540d\u5b57)</p> <p>LDAP \u76ee\u5f55\u6811\u7684\u6700\u9876\u90e8\u5c31\u662f\u6839\uff0c\u4e5f\u5c31\u662f\u6240\u8c13\u7684\u201c\u57fa\u51c6 DN\"\u3002</p> <p>\u4e3a\u4ec0\u4e48\u8981\u7528 LDAP \u76ee\u5f55\u6811\u6765\u5b58\u50a8\u6570\u636e\uff0c\u7528 MySQL \u4e0d\u884c\u5417\uff0c\u4e3a\u4ec0\u4e48\u975e\u8981\u641e\u51fa\u4e00\u4e2a\u6811\u5f62\u7684\u6570\u636e\u5e93\u5462\uff1f</p> <p>\u8fd9\u662f\u56e0\u4e3a\u7528\u6811\u5f62\u7ed3\u6784\u5b58\u50a8\u6570\u636e\uff0c\u67e5\u8be2\u6548\u7387\u66f4\u9ad8\uff08\u5177\u4f53\u4e3a\u4ec0\u4e48\uff0c\u53ef\u4ee5\u770b\u4e00\u4e0b\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7d22\u5f15\u7684\u5b9e\u73b0\u539f\u7406\u2014\u2014B \u6811/B+\u6811\uff09\u3002\u5728\u67d0\u4e9b\u7279\u5b9a\u7684\u573a\u666f\u4e0b\uff0c\u4f7f\u7528\u6811\u5f62\u6570\u636e\u5e93\u66f4\u7406\u60f3\u3002\u6bd4\u5982\uff1a\u9700\u8981\u50a8\u5b58\u5927\u91cf\u7684\u6570\u636e\uff0c\u800c\u4e14\u6570\u636e\u4e0d\u662f\u7ecf\u5e38\u66f4\u6539\uff0c\u9700\u8981\u5f88\u5feb\u901f\u7684\u67e5\u627e\u3002</p> <p>\u628a\u5b83\u4e0e\u4f20\u7edf\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\u76f8\u6bd4\uff0cLDAP \u9664\u4e86\u5feb\u901f\u67e5\u627e\u7684\u7279\u70b9\uff0c\u5b83\u8fd8\u6709\u5f88\u591a\u7684\u8fd0\u7528\u573a\u666f\uff0c\u6bd4\u5982\u57df\u9a8c\u8bc1\u7b49\u3002</p>"},{"location":"nodejs/Node-LDAP/#ldap-java","title":"LDAP java \u7f16\u7a0b\u64cd\u4f5c","text":"<p>\u6211\u4eec\u53ef\u4ee5\u7528 JDBC \uff08Java \u6570\u636e\u5e93\u8fde\u63a5\uff0cJava Database Connectivity\uff09\uff0c\u64cd\u4f5c MySQL \u6570\u636e\u5e93\uff0c\u8fdb\u884c\u5bf9\u6570\u636e\u7684\u589e\u5220\u6539\u67e5\u3002\u540c\u6837\uff0cLDAP \u6811\u5f62\u6570\u636e\u5e93\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7 JDBC \u65b9\u5f0f\uff1b\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u7528 JNDI \u7684\u65b9\u5f0f\uff08Java Naming and Directory Interface\uff0cJava \u547d\u540d\u548c\u76ee\u5f55\u63a5\u53e3\uff0c\u66f4\u63a8\u8350\uff09\uff0c\u56e0\u4e3a\u6811\u5f62\u53ef\u4ee5\u770b\u505a\u662f\u76ee\u5f55\uff0c\u6811\u7ed3\u6784\u7684\u679d\u6748\u76f8\u5f53\u4e8e\u76ee\u5f55\u7684\u5c42\u7ea7\u3002</p> <p>\u8fd8\u6709 LDAP \u6570\u636e\u5e93\u5c55\u793a\u6570\u636e\u4e5f\u662f\u6811\u5f62\u7684\uff0cApacheDirectoryStudio \u4e0b\u8f7d\u5730\u5740</p> <p>http://download.csdn.net/download/ljheee/10145654</p> <p>Java \u547d\u540d\u548c\u76ee\u5f55\u63a5\u53e3\uff08\u4e86\u89e3\uff09</p> <pre><code>import com.xxx.csb.ldap.config.LdapConfiguration;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport java.util.Hashtable;\nimport javax.naming.*;\nimport javax.naming.directory.Attribute;\nimport javax.naming.directory.Attributes;\nimport javax.naming.directory.DirContext;\nimport javax.naming.directory.InitialDirContext;\n\npublic class LdapJNDI {\n\n  @Autowired\n  LdapConfiguration ldapConfiguration;\n\n  public void JNDILookup() {\n    String rootFilter = \"o=xxx.com,o=isp\";\n    String filter = \"(&amp;(smart-type=E1)(smart-status=1))\";\n    String filter = \"(&amp;(smart-type=E1)(uid=00012047))\";\n    String username = \"uid=USER_NAME,ou=Authorization,ou=People,o=cc.com,o=isp\";//xxx\u4e3a\u7533\u8bf7\u7684\u5bf9\u63a5\u8d26\u6237\n    String password = \"PASSW\";\n\n    Hashtable env = new Hashtable();\n    env.put(Context.INITIAL_CONTEXT_FACTORY, \"com.sun.jndi.ldap.LdapCtxFactory\");//\u8bbe\u7f6e\u8fde\u63a5LDAP\u7684\u5b9e\u73b0\u5de5\u5382\n    env.put(Context.PROVIDER_URL, \"ldap://172.16.32.19:389/\" + rootFilter);// \u6307\u5b9aLDAP\u670d\u52a1\u5668\u7684\u4e3b\u673a\u540d\u548c\u7aef\u53e3\u53f7\n    env.put(Context.SECURITY_AUTHENTICATION, \"simple\");//\u7ed9\u73af\u5883\u63d0\u4f9b\u8ba4\u8bc1\u65b9\u6cd5,\u6709SIMPLE\u3001SSL/TLS\u548cSASL\n    env.put(Context.SECURITY_PRINCIPAL, username);//\u6307\u5b9a\u8fdb\u5165\u7684\u76ee\u5f55\u8bc6\u522b\u540dDN\n    env.put(Context.SECURITY_CREDENTIALS, password); //\u8fdb\u5165\u7684\u76ee\u5f55\u5bc6\u7801\n    env.put(\"filter\",filter);\n    DirContext ctx = null;\n\n    try {\n      // \u5f97\u5230\u521d\u59cb\u76ee\u5f55\u73af\u5883\u7684\u4e00\u4e2a\u5f15\u7528\n      ctx = new InitialDirContext(env);\n      //The search base entry 'uid=00012047,ou=Internal,ou=People,o=xxx.com,o=isp' does not exist]; remaining name 'uid=00012047,ou=Internal'\n      Attributes attrs = ctx.getAttributes(\"uid=00012047,ou=Internal,ou=People\");//\u83b7\u53d6\u5230\u4e00\u4e2a\u4eba\u5458\uff0c\n      NamingEnumeration bindings = ctx.listBindings(\"ou=Internal,ou=People\");//\u5217\u4e3e \u5185\u90e8\u4eba\u5458\n      while (bindings.hasMore()) {\n        Binding bd = (Binding)bindings.next();\n        System.out.println(bd.getName() + \": \" + bd.getObject());\n      }\n    } catch (javax.naming.AuthenticationException e) {\n      System.out.println(\"\u8ba4\u8bc1\u5931\u8d25\");\n      e.printStackTrace();\n    } catch (Exception e) {\n      System.out.println(\"\u8ba4\u8bc1\u51fa\u9519\uff1a\");\n      e.printStackTrace();\n    }finally {\n      if (ctx != null) {\n        try {\n          ctx.close();\n        } catch (NamingException e) {\n          e.printStackTrace();\n        }\n      }\n    }\n  }\n\n  public static void main(String[] args) {\n    LdapJNDI ldapJNDI = new LdapJNDI();\n    ldapJNDI.JNDILookup();\n  }\n}\n</code></pre> <p>\u6700\u540e\u603b\u7ed3\u4e00\u4e0b\uff1a</p> <p>1\u3001LDAP \u7684\u7ed3\u6784\u7528\u6811\u6765\u8868\u793a\uff0c\u800c\u4e0d\u662f\u7528\u8868\u3002\u6b63\u56e0\u4e3a\u8fd9\u6837\uff0c\u5c31\u4e0d\u80fd\u7528 SQL \u8bed\u53e5\u4e86\u3002</p> <p>2\u3001LDAP \u5199\u5165\u8f83\u6162\uff0c\u67e5\u8be2\u8f83\u5feb\uff0c\u63d0\u4f9b\u4e86\u9759\u6001\u6570\u636e\u7684\u5feb\u901f\u67e5\u8be2\u65b9\u5f0f\u3002</p> <p>4\u3001Client/server \u6a21\u578b\uff0cServer \u7528\u4e8e\u5b58\u50a8\u6570\u636e\uff0cClient \u63d0\u4f9b\u64cd\u4f5c\u76ee\u5f55\u4fe1\u606f\u6811\u7684\u5de5\u5177\u3002</p> <p>5\u3001LDAP \u662f\u4e00\u79cd\u5f00\u653e Internet \u6807\u51c6\uff0cLDAP \u534f\u8bae\u662f\u8de8\u5e73\u53f0\u7684 Interent \u534f\u8bae\u3002</p>"},{"location":"nodejs/Node-LDAP/#ldap-node","title":"ldap node \u5ba2\u6237\u7aef\u64cd\u4f5c","text":"<p>node ldap client</p> <p>github \u8fde\u63a5\uff1ahttps://github.com/ymyang/node-ldap</p> <pre><code>npm install node-ldap\n</code></pre> <pre><code>var LdapClient = RedisClient(\"node-ldap\");\n\nvar client = new LdapClient({\n  ldapUrl: \"ldap://192.168.1.81:389\",\n  userDn: \"administrator@yliyun.com\",\n  password: \"yliyun@123\",\n});\n\n// \u7528\u6237\u8ba4\u8bc1\nclient\n  .auth(\"administrator@yliyun.com\", \"yliyun@123\")\n  .then(function () {\n    console.log(\"success\");\n  })\n  .catch(function (err) {\n    console.error(err);\n  });\n\n// \u641c\u7d22\u90e8\u95e8\nclient\n  .searchOU(\"cn=Users,dc=yliyun,dc=com\")\n  .then(function (ous) {\n    console.log(ous);\n  })\n  .catch(function (err) {\n    console.error(err);\n  });\n\n// \u641c\u7d22\u7fa4\u7ec4\nclient\n  .searchGroup(\"cn=Users,dc=yliyun,dc=com\")\n  .then(function (groups) {\n    console.log(groups);\n  })\n  .catch(function (err) {\n    console.error(err);\n  });\n\n// \u641c\u7d22\u7528\u6237\nclient\n  .searchUser(\"cn=Users,dc=yliyun,dc=com\")\n  .then(function (users) {\n    console.log(users);\n  })\n  .catch(function (err) {\n    console.error(err);\n  });\n\n// \u641c\u7d22\nclient\n  .search({\n    base: \"dc=yliyun,dc=com\",\n    scope: \"sub\", // \u9ed8\u8ba4\u4e3a'one'\n    paged: \"true\", // \u9ed8\u8ba4\u4e3atrue\n    filter: \"(objectclass=organizationalUnit)\",\n  })\n  .then(function (rows) {\n    console.log(rows);\n  })\n  .catch(function (err) {\n    console.error(err);\n  });\n\n// \u65ad\u5f00\u8fde\u63a5\nclient.disconnect();\n</code></pre>"},{"location":"nodejs/Node-LDAP/#nodejs-ldap","title":"node.js \u4e0b LDAP \u67e5\u8be2\u5b9e\u8df5\u6848\u4f8b","text":"<p>https://www.cnblogs.com/kongxianghai/p/4847265.html</p> <p>\u76ee\u6807\uff1a</p> <p>\u4ece\u4e00\u4e2a LDAP Server \u83b7\u53d6 uid=kxh \u7684\u7528\u6237\u6570\u636e</p> <p>LDAP \u5730\u5740\u4e3a\uff1aldap://10.233.21.116:389</p> <p>\u5728\u5de5\u7a0b\u6839\u76ee\u5f55\u4e2d\uff0c\u5148 npm \u4e00\u4e2a LDAP \u7684\u8bbf\u95ee\u5e93 ldpajs npm install ldapjs</p> <pre><code>var ldap = require(\"ldapjs\");\n\n//\u521b\u5efaLDAP client\uff0c\u628a\u670d\u52a1\u5668url\u4f20\u5165\nvar client = ldap.createClient({\n  url: \"ldap://10.203.24.216:389\",\n});\n\n//\u521b\u5efaLDAP\u67e5\u8be2\u9009\u9879\n//filter\u7684\u4f5c\u7528\u5c31\u662f\u76f8\u5f53\u4e8eSQL\u7684\u6761\u4ef6\nvar opts = {\n  filter: \"(uid=kxh)\", //\u67e5\u8be2\u6761\u4ef6\u8fc7\u6ee4\u5668\uff0c\u67e5\u627euid=kxh\u7684\u7528\u6237\u8282\u70b9\n  scope: \"sub\", //\u67e5\u8be2\u8303\u56f4\n  timeLimit: 500, //\u67e5\u8be2\u8d85\u65f6\n};\n\n//\u5c06client\u7ed1\u5b9aLDAP Server\n//\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u662f\u7528\u6237\uff0c\u5fc5\u987b\u662f\u4ece\u6839\u8282\u70b9\u5230\u7528\u6237\u8282\u70b9\u7684\u5168\u8def\u5f84\n//\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1a\u7528\u6237\u5bc6\u7801\nclient.bind(\n  \"uid=supbind,cn=users,dc=tiger,dc=com\",\n  \"123456\",\n  function (err, res1) {\n    //\u5f00\u59cb\u67e5\u8be2\n    //\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u67e5\u8be2\u57fa\u7840\u8def\u5f84\uff0c\u4ee3\u8868\u5728\u67e5\u8be2\u7528\u6237\u4fe1\u5fc3\u5c06\u5728\u8fd9\u4e2a\u8def\u5f84\u4e0b\u8fdb\u884c\uff0c\u8fd9\u4e2a\u8def\u5f84\u662f\u7531\u6839\u8282\u5f00\u59cb\n    //\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1a\u67e5\u8be2\u9009\u9879\n    client.search(\"DC=tiger,DC=com\", opts, function (err, res2) {\n      //\u67e5\u8be2\u7ed3\u679c\u4e8b\u4ef6\u54cd\u5e94\n      res2.on(\"searchEntry\", function (entry) {\n        //\u83b7\u53d6\u67e5\u8be2\u7684\u5bf9\u8c61\n        var user = entry.object;\n        var userText = JSON.stringify(user, null, 2);\n        console.log(userText);\n      });\n\n      res2.on(\"searchReference\", function (referral) {\n        console.log(\"referral: \" + referral.uris.join());\n      });\n\n      //\u67e5\u8be2\u9519\u8bef\u4e8b\u4ef6\n      res2.on(\"error\", function (err) {\n        console.error(\"error: \" + err.message);\n        //unbind\u64cd\u4f5c\uff0c\u5fc5\u987b\u8981\u505a\n        client.unbind();\n      });\n\n      //\u67e5\u8be2\u7ed3\u675f\n      res2.on(\"end\", function (result) {\n        console.log(\"search status: \" + result.status);\n        //unbind\u64cd\u4f5c\uff0c\u5fc5\u987b\u8981\u505a\n        client.unbind();\n      });\n    });\n  }\n);\n</code></pre> <p>\u53c2\u8003\u8d44\u6599</p> <p>filter \u8bed\u6cd5\uff1ahttp://www.ldapexplorer.com/en/manual/109010000-ldap-filter-syntax.htm</p> <p>ldapjs\uff1ahttps://www.npmjs.com/package/ldapjs</p> <p>https://blog.csdn.net/ljheee/article/details/78746037?utm_source=copy</p> <p>https://blog.csdn.net/weixin_34208283/article/details/89375085</p> <p>https://www.cnblogs.com/kongxianghai/p/4847265.html</p>"},{"location":"nodejs/Node.js-path/","title":"Node.js v12.14.0 \u6587\u6863","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 18465  \u9605\u8bfb37\u5206\u949f</p> <p>\u6587\u6863\u8fc7\u671f\u4e86</p>"},{"location":"nodejs/Node.js-path/#_1","title":"\u76ee\u5f55","text":"<ul> <li>path\uff08\u8def\u5f84\uff09</li> <li>Windows \u4e0e POSIX</li> <li>[path.basename(path, ext])</li> <li>path.delimiter</li> <li>path.dirname(path)</li> <li>path.extname(path)</li> <li>path.format(pathObject)</li> <li>path.isAbsolute(path)</li> <li>[path.join(...paths])</li> <li>path.normalize(path)</li> <li>path.parse(path)</li> <li>path.posix</li> <li>path.relative(from, to)</li> <li>[path.resolve(...paths])</li> <li>path.sep</li> <li>path.toNamespacedPath(path)</li> <li>path.win32</li> </ul>"},{"location":"nodejs/Node.js-path/#path","title":"path\uff08\u8def\u5f84\uff09","text":"<p><code>path</code> \u6a21\u5757\u63d0\u4f9b\u7528\u4e8e\u5904\u7406\u6587\u4ef6\u8def\u5f84\u548c\u76ee\u5f55\u8def\u5f84\u7684\u5b9e\u7528\u5de5\u5177\u3002 \u5b83\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u65b9\u5f0f\u8bbf\u95ee\uff1a</p> <pre><code>const path = require(\"path\");\n</code></pre>"},{"location":"nodejs/Node.js-path/#windows-posix","title":"Windows \u4e0e POSIX","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p><code>path</code> \u6a21\u5757\u7684\u9ed8\u8ba4\u64cd\u4f5c\u56e0 Node.js \u5e94\u7528\u7a0b\u5e8f\u8fd0\u884c\u6240\u5728\u7684\u64cd\u4f5c\u7cfb\u7edf\u800c\u5f02\u3002 \u5177\u4f53\u6765\u8bf4\uff0c\u5f53\u5728 Windows \u64cd\u4f5c\u7cfb\u7edf\u4e0a\u8fd0\u884c\u65f6\uff0c <code>path</code> \u6a21\u5757\u5c06\u5047\u5b9a\u6b63\u5728\u4f7f\u7528 Windows \u98ce\u683c\u7684\u8def\u5f84\u3002</p> <p>\u56e0\u6b64\uff0c\u4f7f\u7528 <code>path.basename()</code> \u53ef\u80fd\u4f1a\u5728 POSIX \u548c Windows \u4e0a\u4ea7\u751f\u4e0d\u540c\u7684\u7ed3\u679c\uff1a</p> <p>\u5728 POSIX \u4e0a:</p> <pre><code>path.basename(\"C:\\\\temp\\\\myfile.html\");\n// \u8fd4\u56de: 'C:\\\\temp\\\\myfile.html'\n</code></pre> <p>\u5728 Windows \u4e0a:</p> <pre><code>path.basename(\"C:\\\\temp\\\\myfile.html\");\n// \u8fd4\u56de: 'myfile.html'\n</code></pre> <p>\u8981\u5728\u4efb\u4f55\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u4f7f\u7528 Windows \u6587\u4ef6\u8def\u5f84\u65f6\u83b7\u5f97\u4e00\u81f4\u7684\u7ed3\u679c\uff0c\u5219\u4f7f\u7528 <code>path.win32</code>\uff1a</p> <p>\u5728 POSIX \u548c Windows \u4e0a:</p> <pre><code>path.win32.basename(\"C:\\\\temp\\\\myfile.html\");\n// \u8fd4\u56de: 'myfile.html'\n</code></pre> <p>\u8981\u5728\u4efb\u4f55\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u4f7f\u7528 POSIX \u6587\u4ef6\u8def\u5f84\u65f6\u83b7\u5f97\u4e00\u81f4\u7684\u7ed3\u679c\uff0c\u5219\u4f7f\u7528 <code>path.posix</code>\uff1a</p> <p>\u5728 POSIX \u548c Windows \u4e0a:</p> <pre><code>path.posix.basename(\"/tmp/myfile.html\");\n// \u8fd4\u56de: 'myfile.html'\n</code></pre> <p>\u5728 Windows \u4e0a\uff0cNode.js \u9075\u5faa\u6bcf\u4e2a\u9a71\u52a8\u5668\u5de5\u4f5c\u76ee\u5f55\u7684\u6982\u5ff5\u3002 \u5f53\u4f7f\u7528\u6ca1\u6709\u53cd\u659c\u6760\u7684\u9a71\u52a8\u5668\u8def\u5f84\u65f6\uff0c\u53ef\u4ee5\u89c2\u5bdf\u5230\u6b64\u884c\u4e3a\u3002 \u4f8b\u5982\uff0c <code>path.resolve('c:\\\\')</code> \u53ef\u80fd\u4f1a\u8fd4\u56de\u4e0e <code>path.resolve('c:')</code> \u4e0d\u540c\u7684\u7ed3\u679c\u3002 \u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u9605\u6b64 MSDN \u9875\u9762\u3002</p>"},{"location":"nodejs/Node.js-path/#pathbasenamepath-ext","title":"path.basename(path[, ext])#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u7248\u672c\u5386\u53f2</p> <ul> <li><code>path</code> </li> <li><code>ext</code>  \u53ef\u9009\u7684\u6587\u4ef6\u6269\u5c55\u540d\u3002</li> <li>\u8fd4\u56de: </li> </ul> <p><code>path.basename()</code> \u65b9\u6cd5\u8fd4\u56de <code>path</code> \u7684\u6700\u540e\u4e00\u90e8\u5206\uff0c\u7c7b\u4f3c\u4e8e Unix \u7684 <code>basename</code> \u547d\u4ee4\u3002 \u5c3e\u90e8\u7684\u76ee\u5f55\u5206\u9694\u7b26\u5c06\u88ab\u5ffd\u7565\uff0c\u53c2\u9605 <code>path.sep</code>\u3002</p> <pre><code>path.basename(\"/foo/bar/baz/asdf/quux.html\");\n// \u8fd4\u56de: 'quux.html'\n\npath.basename(\"/foo/bar/baz/asdf/quux.html\", \".html\");\n// \u8fd4\u56de: 'quux'\n</code></pre> <p>\u5982\u679c <code>path</code> \u4e0d\u662f\u5b57\u7b26\u4e32\u6216\u8005\u7ed9\u5b9a\u4e86 <code>ext</code> \u4e14\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u5219\u629b\u51fa <code>TypeError</code>\u3002</p>"},{"location":"nodejs/Node.js-path/#pathdelimiter","title":"path.delimiter#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.9.3</p> <p>\u63d0\u4f9b\u5e73\u53f0\u7279\u5b9a\u7684\u8def\u5f84\u5b9a\u754c\u7b26\uff1a</p> <ul> <li><code>;</code> \u7528\u4e8e Windows</li> <li><code>:</code> \u7528\u4e8e POSIX</li> </ul> <p>\u4f8b\u5982\uff0c\u5728 POSIX \u4e0a\uff1a</p> <pre><code>console.log(process.env.PATH);\n// \u6253\u5370: '/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin'\n\nprocess.env.PATH.split(path.delimiter);\n// \u8fd4\u56de: ['/usr/bin', '/bin', '/usr/sbin', '/sbin', '/usr/local/bin']\n</code></pre> <p>\u5728 Windows \u4e0a\uff1a</p> <pre><code>console.log(process.env.PATH);\n// \u6253\u5370: 'C:\\Windows\\system32;C:\\Windows;C:\\Program Files\\node\\'\n\nprocess.env.PATH.split(path.delimiter);\n// \u8fd4\u56de: ['C:\\\\Windows\\\\system32', 'C:\\\\Windows', 'C:\\\\Program Files\\\\node\\\\']\n</code></pre>"},{"location":"nodejs/Node.js-path/#pathdirnamepath","title":"path.dirname(path)#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u7248\u672c\u5386\u53f2</p> <ul> <li><code>path</code> </li> <li>\u8fd4\u56de: </li> </ul> <p><code>path.dirname()</code> \u65b9\u6cd5\u8fd4\u56de <code>path</code> \u7684\u76ee\u5f55\u540d\uff0c\u7c7b\u4f3c\u4e8e Unix \u7684 <code>dirname</code> \u547d\u4ee4\u3002 \u5c3e\u90e8\u7684\u76ee\u5f55\u5206\u9694\u7b26\u5c06\u88ab\u5ffd\u7565\uff0c\u53c2\u9605 <code>path.sep</code>\u3002</p> <pre><code>path.dirname(\"/foo/bar/baz/asdf/quux\");\n// \u8fd4\u56de: '/foo/bar/baz/asdf'\n</code></pre> <p>\u5982\u679c <code>path</code> \u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u5219\u629b\u51fa <code>TypeError</code>\u3002</p>"},{"location":"nodejs/Node.js-path/#pathextnamepath","title":"path.extname(path)#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u7248\u672c\u5386\u53f2</p> <ul> <li><code>path</code> </li> <li>\u8fd4\u56de: </li> </ul> <p><code>path.extname()</code> \u65b9\u6cd5\u8fd4\u56de <code>path</code> \u7684\u6269\u5c55\u540d\uff0c\u4ece\u6700\u540e\u4e00\u6b21\u51fa\u73b0 <code>.</code>\uff08\u53e5\u70b9\uff09\u5b57\u7b26\u5230 <code>path</code> \u6700\u540e\u4e00\u90e8\u5206\u7684\u5b57\u7b26\u4e32\u7ed3\u675f\u3002 \u5982\u679c\u5728 <code>path</code> \u7684\u6700\u540e\u4e00\u90e8\u5206\u4e2d\u6ca1\u6709 <code>.</code> \uff0c\u6216\u8005\u5982\u679c <code>path</code> \u7684\u57fa\u672c\u540d\u79f0\uff08\u53c2\u9605 <code>path.basename()</code>\uff09\u9664\u4e86\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4ee5\u5916\u6ca1\u6709 <code>.</code>\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002</p> <pre><code>path.extname(\"index.html\");\n// \u8fd4\u56de: '.html'\n\npath.extname(\"index.coffee.md\");\n// \u8fd4\u56de: '.md'\n\npath.extname(\"index.\");\n// \u8fd4\u56de: '.'\n\npath.extname(\"index\");\n// \u8fd4\u56de: ''\n\npath.extname(\".index\");\n// \u8fd4\u56de: ''\n\npath.extname(\".index.md\");\n// \u8fd4\u56de: '.md'\n</code></pre> <p>\u5982\u679c <code>path</code> \u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u5219\u629b\u51fa <code>TypeError</code>\u3002</p>"},{"location":"nodejs/Node.js-path/#pathformatpathobject","title":"path.format(pathObject)#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.11.15</p> <ul> <li><code>pathObject</code> </li> <li><code>dir</code> </li> <li><code>root</code> </li> <li><code>base</code> </li> <li><code>name</code> </li> <li><code>ext</code> </li> <li>\u8fd4\u56de: </li> </ul> <p><code>path.format()</code> \u65b9\u6cd5\u4ece\u5bf9\u8c61\u8fd4\u56de\u8def\u5f84\u5b57\u7b26\u4e32\u3002 \u4e0e <code>path.parse()</code> \u76f8\u53cd\u3002</p> <p>\u5f53\u4e3a <code>pathObject</code> \u63d0\u4f9b\u5c5e\u6027\u65f6\uff0c\u6ce8\u610f\u4ee5\u4e0b\u7ec4\u5408\uff0c\u5176\u4e2d\u4e00\u4e9b\u5c5e\u6027\u4f18\u5148\u4e8e\u53e6\u4e00\u4e9b\u5c5e\u6027\uff1a</p> <ul> <li>\u5982\u679c\u63d0\u4f9b\u4e86 <code>pathObject.dir</code>\uff0c\u5219\u5ffd\u7565 <code>pathObject.root</code>\u3002</li> <li>\u5982\u679c <code>pathObject.base</code> \u5b58\u5728\uff0c\u5219\u5ffd\u7565 <code>pathObject.ext</code> \u548c <code>pathObject.name</code>\u3002</li> </ul> <p>\u4f8b\u5982\uff0c\u5728 POSIX \u4e0a\uff1a</p> <pre><code>// \u5982\u679c\u63d0\u4f9b\u4e86 `dir`\u3001 `root` \u548c `base`\uff0c\n// \u5219\u8fd4\u56de `${dir}${path.sep}${base}`\u3002\n// `root` \u4f1a\u88ab\u5ffd\u7565\u3002\npath.format({\n  root: \"/ignored\",\n  dir: \"/home/user/dir\",\n  base: \"file.txt\",\n});\n// \u8fd4\u56de: '/home/user/dir/file.txt'\n\n// \u5982\u679c\u672a\u6307\u5b9a `dir`\uff0c\u5219\u4f7f\u7528 `root`\u3002\n// \u5982\u679c\u53ea\u63d0\u4f9b `root`\uff0c\u6216 'dir` \u7b49\u4e8e `root`\uff0c\u5219\u5c06\u4e0d\u5305\u62ec\u5e73\u53f0\u5206\u9694\u7b26\u3002\n// `ext` \u5c06\u88ab\u5ffd\u7565\u3002\npath.format({\n  root: \"/\",\n  base: \"file.txt\",\n  ext: \"ignored\",\n});\n// \u8fd4\u56de: '/file.txt'\n\n// \u5982\u679c\u672a\u6307\u5b9a `base`\uff0c\u5219\u4f7f\u7528 `name` + `ext`\u3002\npath.format({\n  root: \"/\",\n  name: \"file\",\n  ext: \".txt\",\n});\n// \u8fd4\u56de: '/file.txt'\n</code></pre> <p>\u5728 Windows \u4e0a\uff1a</p> <pre><code>path.format({\n  dir: \"C:\\\\path\\\\dir\",\n  base: \"file.txt\",\n});\n// \u8fd4\u56de: 'C:\\\\path\\\\dir\\\\file.txt'\n</code></pre>"},{"location":"nodejs/Node.js-path/#pathisabsolutepath","title":"path.isAbsolute(path)#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.11.2</p> <ul> <li><code>path</code> </li> <li>\u8fd4\u56de: </li> </ul> <p><code>path.isAbsolute()</code> \u65b9\u6cd5\u68c0\u6d4b <code>path</code> \u662f\u5426\u4e3a\u7edd\u5bf9\u8def\u5f84\u3002</p> <p>\u5982\u679c\u7ed9\u5b9a\u7684 <code>path</code> \u662f\u96f6\u957f\u5ea6\u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de <code>false</code>\u3002</p> <p>\u4f8b\u5982\uff0c\u5728 POSIX \u4e0a\uff1a</p> <pre><code>path.isAbsolute(\"/foo/bar\"); // true\npath.isAbsolute(\"/baz/..\"); // true\npath.isAbsolute(\"qux/\"); // false\npath.isAbsolute(\".\"); // false\n</code></pre> <p>\u5728 Windows \u4e0a\uff1a</p> <pre><code>path.isAbsolute(\"//server\"); // true\npath.isAbsolute(\"\\\\\\\\server\"); // true\npath.isAbsolute(\"C:/foo/..\"); // true\npath.isAbsolute(\"C:\\\\foo\\\\..\"); // true\npath.isAbsolute(\"bar\\\\baz\"); // false\npath.isAbsolute(\"bar/baz\"); // false\npath.isAbsolute(\".\"); // false\n</code></pre> <p>\u5982\u679c <code>path</code> \u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u5219\u629b\u51fa <code>TypeError</code>\u3002</p>"},{"location":"nodejs/Node.js-path/#pathjoinpaths","title":"path.join([...paths])#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.1.16</p> <ul> <li><code>...paths</code>  \u8def\u5f84\u7247\u6bb5\u7684\u5e8f\u5217\u3002</li> <li>\u8fd4\u56de: </li> </ul> <p><code>path.join()</code> \u65b9\u6cd5\u4f7f\u7528\u5e73\u53f0\u7279\u5b9a\u7684\u5206\u9694\u7b26\u4f5c\u4e3a\u5b9a\u754c\u7b26\u5c06\u6240\u6709\u7ed9\u5b9a\u7684 <code>path</code> \u7247\u6bb5\u8fde\u63a5\u5728\u4e00\u8d77\uff0c\u7136\u540e\u89c4\u8303\u5316\u751f\u6210\u7684\u8def\u5f84\u3002</p> <p>\u96f6\u957f\u5ea6\u7684 <code>path</code> \u7247\u6bb5\u4f1a\u88ab\u5ffd\u7565\u3002 \u5982\u679c\u8fde\u63a5\u7684\u8def\u5f84\u5b57\u7b26\u4e32\u662f\u96f6\u957f\u5ea6\u7684\u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de <code>'.'</code>\uff0c\u8868\u793a\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3002</p> <pre><code>path.join(\"/foo\", \"bar\", \"baz/asdf\", \"quux\", \"..\");\n// \u8fd4\u56de: '/foo/bar/baz/asdf'\n\npath.join(\"foo\", {}, \"bar\");\n// \u629b\u51fa 'TypeError: Path must be a string. Received {}'\n</code></pre> <p>\u5982\u679c\u4efb\u4f55\u8def\u5f84\u7247\u6bb5\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u5219\u629b\u51fa <code>TypeError</code>\u3002</p>"},{"location":"nodejs/Node.js-path/#pathnormalizepath","title":"path.normalize(path)#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.1.23</p> <ul> <li><code>path</code> </li> <li>\u8fd4\u56de: </li> </ul> <p><code>path.normalize()</code> \u65b9\u6cd5\u89c4\u8303\u5316\u7ed9\u5b9a\u7684 <code>path</code>\uff0c\u89e3\u6790 <code>'..'</code> \u548c <code>'.'</code> \u7247\u6bb5\u3002</p> <p>\u5f53\u627e\u5230\u591a\u4e2a\u8fde\u7eed\u7684\u8def\u5f84\u6bb5\u5206\u9694\u5b57\u7b26\u65f6\uff08\u4f8b\u5982 POSIX \u4e0a\u7684 <code>/</code>\u3001Windows \u4e0a\u7684 <code>\\</code> \u6216 <code>/</code>\uff09\uff0c\u5219\u5b83\u4eec\u5c06\u88ab\u66ff\u6362\u4e3a\u5355\u4e2a\u5e73\u53f0\u7279\u5b9a\u7684\u8def\u5f84\u6bb5\u5206\u9694\u7b26\uff08POSIX \u4e0a\u7684 <code>/</code>\u3001Windows \u4e0a\u7684 <code>\\</code>\uff09\u3002 \u5c3e\u90e8\u7684\u5206\u9694\u7b26\u4f1a\u4fdd\u7559\u3002</p> <p>\u5982\u679c <code>path</code> \u662f\u96f6\u957f\u5ea6\u7684\u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de <code>'.'</code>\uff0c\u8868\u793a\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3002</p> <p>\u4f8b\u5982\uff0c\u5728 POSIX \u4e0a\uff1a</p> <pre><code>path.normalize(\"/foo/bar//baz/asdf/quux/..\");\n// \u8fd4\u56de: '/foo/bar/baz/asdf'\n</code></pre> <p>\u5728 Windows \u4e0a\uff1a</p> <pre><code>path.normalize(\"C:\\\\temp\\\\\\\\foo\\\\bar\\\\..\\\\\");\n// \u8fd4\u56de: 'C:\\\\temp\\\\foo\\\\'\n</code></pre> <p>\u7531\u4e8e Windows \u8bc6\u522b\u591a\u79cd\u8def\u5f84\u5206\u9694\u7b26\uff0c\u56e0\u6b64\u8fd9\u4e9b\u5206\u9694\u7b26\u90fd\u5c06\u88ab\u66ff\u6362\u4e3a Windows \u9996\u9009\u7684\u5206\u9694\u7b26\uff08<code>\\</code>\uff09\uff1a</p> <pre><code>path.win32.normalize(\"C:////temp\\\\\\\\/\\\\/\\\\/foo/bar\");\n// \u8fd4\u56de: 'C:\\\\temp\\\\foo\\\\bar'\n</code></pre> <p>\u5982\u679c <code>path</code> \u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u5219\u629b\u51fa <code>TypeError</code>\u3002</p>"},{"location":"nodejs/Node.js-path/#pathparsepath","title":"path.parse(path)#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.11.15</p> <ul> <li><code>path</code> </li> <li>\u8fd4\u56de: </li> </ul> <p><code>path.parse()</code> \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5176\u5c5e\u6027\u8868\u793a <code>path</code> \u7684\u91cd\u8981\u5143\u7d20\u3002 \u5c3e\u90e8\u7684\u76ee\u5f55\u5206\u9694\u7b26\u5c06\u88ab\u5ffd\u7565\uff0c\u53c2\u9605 <code>path.sep</code>\u3002</p> <p>\u8fd4\u56de\u7684\u5bf9\u8c61\u5c06\u5177\u6709\u4ee5\u4e0b\u5c5e\u6027\uff1a</p> <ul> <li><code>dir</code> </li> <li><code>root</code> </li> <li><code>base</code> </li> <li><code>name</code> </li> <li><code>ext</code> </li> </ul> <p>\u4f8b\u5982\uff0c\u5728 POSIX \u4e0a\uff1a</p> <pre><code>path.parse('/home/user/dir/file.txt');\n// \u8fd4\u56de:\n// { root: '/',\n//   dir: '/home/user/dir',\n//   base: 'file.txt',\n//   ext: '.txt',\n//   name: 'file' }\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          dir        \u2502    base    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u252c              \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 root \u2502              \u2502 name \u2502 ext \u2502\n\"  /    home/user/dir / file  .txt \"\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518\n\uff08\"\" \u884c\u4e2d\u7684\u6240\u6709\u7a7a\u683c\u90fd\u5e94\u8be5\u88ab\u5ffd\u7565\uff0c\u5b83\u4eec\u7eaf\u7cb9\u662f\u4e3a\u4e86\u683c\u5f0f\u5316\uff09\n</code></pre> <p>\u5728 Windows \u4e0a\uff1a</p> <pre><code>path.parse('C:\\\\path\\\\dir\\\\file.txt');\n// \u8fd4\u56de:\n// { root: 'C:\\\\',\n//   dir: 'C:\\\\path\\\\dir',\n//   base: 'file.txt',\n//   ext: '.txt',\n//   name: 'file' }\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          dir        \u2502    base    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u252c              \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 root \u2502              \u2502 name \u2502 ext \u2502\n\" C:\\      path\\dir   \\ file  .txt \"\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518\n\uff08\"\" \u884c\u4e2d\u7684\u6240\u6709\u7a7a\u683c\u90fd\u5e94\u8be5\u88ab\u5ffd\u7565\uff0c\u5b83\u4eec\u7eaf\u7cb9\u662f\u4e3a\u4e86\u683c\u5f0f\u5316\uff09\n</code></pre> <p>\u5982\u679c <code>path</code> \u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u5219\u629b\u51fa <code>TypeError</code>\u3002</p>"},{"location":"nodejs/Node.js-path/#pathposix","title":"path.posix#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.11.15</p> <p><code>path.posix</code> \u5c5e\u6027\u63d0\u4f9b\u5bf9 <code>path</code> \u65b9\u6cd5\u7684 POSIX \u7279\u5b9a\u5b9e\u73b0\u7684\u8bbf\u95ee\u3002</p>"},{"location":"nodejs/Node.js-path/#pathrelativefrom-to","title":"path.relative(from, to)#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u7248\u672c\u5386\u53f2</p> <ul> <li><code>from</code> </li> <li><code>to</code> </li> <li>\u8fd4\u56de: </li> </ul> <p><code>path.relative()</code> \u65b9\u6cd5\u6839\u636e\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u8fd4\u56de <code>from</code> \u5230 <code>to</code> \u7684\u76f8\u5bf9\u8def\u5f84\u3002 \u5982\u679c <code>from</code> \u548c <code>to</code> \u5404\u81ea\u89e3\u6790\u5230\u76f8\u540c\u7684\u8def\u5f84\uff08\u5206\u522b\u8c03\u7528 <code>path.resolve()</code> \u4e4b\u540e\uff09\uff0c\u5219\u8fd4\u56de\u96f6\u957f\u5ea6\u7684\u5b57\u7b26\u4e32\u3002</p> <p>\u5982\u679c\u5c06\u96f6\u957f\u5ea6\u7684\u5b57\u7b26\u4e32\u4f20\u5165 <code>from</code> \u6216 <code>to</code>\uff0c\u5219\u4f7f\u7528\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4ee3\u66ff\u8be5\u96f6\u957f\u5ea6\u7684\u5b57\u7b26\u4e32\u3002</p> <p>\u4f8b\u5982\uff0c\u5728 POSIX \u4e0a\uff1a</p> <pre><code>path.relative(\"/data/orandea/test/aaa\", \"/data/orandea/impl/bbb\");\n// \u8fd4\u56de: '../../impl/bbb'\n</code></pre> <p>\u5728 Windows \u4e0a\uff1a</p> <pre><code>path.relative(\"C:\\\\orandea\\\\test\\\\aaa\", \"C:\\\\orandea\\\\impl\\\\bbb\");\n// \u8fd4\u56de: '..\\\\..\\\\impl\\\\bbb'\n</code></pre> <p>\u5982\u679c <code>from</code> \u6216 <code>to</code> \u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u5219\u629b\u51fa <code>TypeError</code>\u3002</p>"},{"location":"nodejs/Node.js-path/#pathresolvepaths","title":"path.resolve([...paths])#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.3.4</p> <ul> <li><code>...paths</code>  \u8def\u5f84\u6216\u8def\u5f84\u7247\u6bb5\u7684\u5e8f\u5217\u3002</li> <li>\u8fd4\u56de: </li> </ul> <p><code>path.resolve()</code> \u65b9\u6cd5\u5c06\u8def\u5f84\u6216\u8def\u5f84\u7247\u6bb5\u7684\u5e8f\u5217\u89e3\u6790\u4e3a\u7edd\u5bf9\u8def\u5f84\u3002</p> <p>\u7ed9\u5b9a\u7684\u8def\u5f84\u5e8f\u5217\u4ece\u53f3\u5230\u5de6\u8fdb\u884c\u5904\u7406\uff0c\u6bcf\u4e2a\u540e\u7eed\u7684 <code>path</code> \u524d\u7f6e\uff0c\u76f4\u5230\u6784\u9020\u51fa\u4e00\u4e2a\u7edd\u5bf9\u8def\u5f84\u3002 \u4f8b\u5982\uff0c\u7ed9\u5b9a\u7684\u8def\u5f84\u7247\u6bb5\u5e8f\u5217\uff1a<code>/foo</code>\u3001 <code>/bar</code>\u3001 <code>baz</code>\uff0c\u8c03\u7528 <code>path.resolve('/foo', '/bar', 'baz')</code> \u5c06\u8fd4\u56de <code>/bar/baz</code>\u3002</p> <p>\u5982\u679c\u5728\u5904\u7406\u5b8c\u6240\u6709\u7ed9\u5b9a\u7684 <code>path</code> \u7247\u6bb5\u4e4b\u540e\u8fd8\u672a\u751f\u6210\u7edd\u5bf9\u8def\u5f84\uff0c\u5219\u518d\u52a0\u4e0a\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3002</p> <p>\u751f\u6210\u7684\u8def\u5f84\u5df2\u89c4\u8303\u5316\uff0c\u5e76\u4e14\u9664\u975e\u5c06\u8def\u5f84\u89e3\u6790\u4e3a\u6839\u76ee\u5f55\uff0c\u5426\u5219\u5c06\u5220\u9664\u5c3e\u90e8\u659c\u6760\u3002</p> <p>\u96f6\u957f\u5ea6\u7684 <code>path</code> \u7247\u6bb5\u4f1a\u88ab\u5ffd\u7565\u3002</p> <p>\u5982\u679c\u6ca1\u6709\u4f20\u5165 <code>path</code> \u7247\u6bb5\uff0c\u5219 <code>path.resolve()</code> \u5c06\u8fd4\u56de\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84\u3002</p> <pre><code>path.resolve(\"/foo/bar\", \"./baz\");\n// \u8fd4\u56de: '/foo/bar/baz'\n\npath.resolve(\"/foo/bar\", \"/tmp/file/\");\n// \u8fd4\u56de: '/tmp/file'\n\npath.resolve(\"wwwroot\", \"static_files/png/\", \"../gif/image.gif\");\n// \u5982\u679c\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u662f /home/myself/node\uff0c\n// \u5219\u8fd4\u56de '/home/myself/node/wwwroot/static_files/gif/image.gif'\n</code></pre> <p>\u5982\u679c\u4efb\u4f55\u53c2\u6570\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u5219\u629b\u51fa <code>TypeError</code>\u3002</p>"},{"location":"nodejs/Node.js-path/#pathsep","title":"path.sep#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.7.9</p> <p>\u63d0\u4f9b\u5e73\u53f0\u7279\u5b9a\u7684\u8def\u5f84\u7247\u6bb5\u5206\u9694\u7b26\uff1a</p> <ul> <li>Windows \u4e0a\u662f <code>\\</code>\u3002</li> <li>POSIX \u4e0a\u662f <code>/</code>\u3002</li> </ul> <p>\u4f8b\u5982\uff0c\u5728 POSIX \u4e0a\uff1a</p> <pre><code>\"foo/bar/baz\".split(path.sep);\n// \u8fd4\u56de: ['foo', 'bar', 'baz']\n</code></pre> <p>\u5728 Windows \u4e0a\uff1a</p> <pre><code>\"foo\\\\bar\\\\baz\".split(path.sep);\n// \u8fd4\u56de: ['foo', 'bar', 'baz']\n</code></pre> <p>\u5728 Windows \u4e0a\uff0c\u6b63\u659c\u6760\uff08<code>/</code>\uff09\u548c\u53cd\u659c\u6760\uff08<code>\\</code>\uff09\u90fd\u88ab\u63a5\u53d7\u4e3a\u8def\u5f84\u7247\u6bb5\u5206\u9694\u7b26\u3002 \u4f46\u662f\uff0c <code>path</code> \u65b9\u6cd5\u53ea\u6dfb\u52a0\u53cd\u659c\u6760\uff08<code>\\</code>\uff09\u3002</p>"},{"location":"nodejs/Node.js-path/#pathtonamespacedpathpath","title":"path.toNamespacedPath(path)#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v9.0.0</p> <ul> <li><code>path</code> </li> <li>\u8fd4\u56de: </li> </ul> <p>\u4ec5\u5728 Windows \u7cfb\u7edf\u4e0a\uff0c\u8fd4\u56de\u7ed9\u5b9a <code>path</code> \u7684\u7b49\u6548\u540d\u79f0\u7a7a\u95f4\u524d\u7f00\u8def\u5f84\u3002 \u5982\u679c <code>path</code> \u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u5219\u5c06\u8fd4\u56de <code>path</code> \u800c\u4e0d\u8fdb\u884c\u4fee\u6539\u3002</p> <p>\u6b64\u65b9\u6cd5\u4ec5\u5728 Windows \u7cfb\u7edf\u4e0a\u6709\u610f\u4e49\u3002 \u5728 POSIX \u7cfb\u7edf\u4e0a\uff0c\u8be5\u65b9\u6cd5\u4e0d\u53ef\u64cd\u4f5c\uff0c\u5e76\u4e14\u59cb\u7ec8\u8fd4\u56de <code>path</code> \u800c\u4e0d\u8fdb\u884c\u4fee\u6539\u3002</p>"},{"location":"nodejs/Node.js-path/#pathwin32","title":"path.win32#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.11.15</p> <p><code>path.win32</code> \u5c5e\u6027\u63d0\u4f9b\u5bf9\u7279\u5b9a\u4e8e Windows \u7684 <code>path</code> \u65b9\u6cd5\u7684\u5b9e\u73b0\u7684\u8bbf\u95ee\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/","title":"Node.js v12.14.0 \u6587\u6863","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 11755  \u9605\u8bfb24\u5206\u949f</p> <ul> <li>\u8fd4\u56de\u6587\u6863\u9996\u9875</li> <li>\u641c\u7d22</li> </ul>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#_1","title":"\u76ee\u5f55","text":"<ul> <li>global\uff08\u5168\u5c40\u53d8\u91cf\uff09</li> <li>Buffer \u7c7b</li> <li>__dirname</li> <li>__filename</li> <li>clearImmediate(immediateObject)</li> <li>clearInterval(intervalObject)</li> <li>clearTimeout(timeoutObject)</li> <li>console</li> <li>exports</li> <li>global</li> <li>module</li> <li>process</li> <li>queueMicrotask(callback)</li> <li>require()</li> <li>[setImmediate(callback, ...args])</li> <li>[setInterval(callback, delay, ...args])</li> <li>[setTimeout(callback, delay, ...args])</li> <li>TextDecoder</li> <li>TextEncoder</li> <li>URL</li> <li>URLSearchParams</li> <li>WebAssembly</li> </ul>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#global","title":"global\uff08\u5168\u5c40\u53d8\u91cf\uff09#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u6240\u6709\u6a21\u5757\u90fd\u63d0\u4f9b\u8fd9\u4e9b\u5bf9\u8c61\u3002 \u4ee5\u4e0b\u53d8\u91cf\u867d\u7136\u770b\u8d77\u6765\u662f\u5168\u5c40\u7684\uff0c\u4f46\u5176\u5b9e\u5e76\u4e0d\u662f\u3002 \u5b83\u4eec\u4ec5\u5b58\u5728\u4e8e\u6a21\u5757\u8303\u56f4\u5185\uff0c\u8bf7\u53c2\u9605\u6a21\u5757\u7cfb\u7edf\u6587\u6863\uff1a</p> <ul> <li><code>__dirname</code></li> <li><code>__filename</code></li> <li><code>exports</code></li> <li><code>module</code></li> <li><code>require()</code></li> </ul> <p>\u6b64\u5904\u5217\u51fa\u7684\u5bf9\u8c61\u7279\u5b9a\u4e8e Node.js\u3002 \u6709\u4e9b\u5185\u7f6e\u5bf9\u8c61\u662f JavaScript \u8bed\u8a00\u672c\u8eab\u7684\u4e00\u90e8\u5206\uff0c\u5b83\u4eec\u4e5f\u662f\u5168\u5c40\u53ef\u8bbf\u95ee\u7684\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#buffer","title":"Buffer \u7c7b#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.1.103</p> <p>\u7528\u4e8e\u5904\u7406\u4e8c\u8fdb\u5236\u6570\u636e\u3002\u8bf7\u53c2\u9605 Buffer \u6587\u6863\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#__dirname","title":"__dirname#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u6b64\u53d8\u91cf\u867d\u7136\u770b\u4f3c\u5168\u5c40\u7684\uff0c\u4f46\u5b9e\u9645\u4e0a\u4e0d\u662f\u3002 \u8bf7\u53c2\u9605 <code>__dirname</code> \u6587\u6863\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#__filename","title":"__filename#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u6b64\u53d8\u91cf\u867d\u7136\u770b\u4f3c\u5168\u5c40\u7684\uff0c\u4f46\u5b9e\u9645\u4e0a\u4e0d\u662f\u3002 \u8bf7\u53c2\u9605 <code>__filename</code> \u6587\u6863\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#clearimmediateimmediateobject","title":"clearImmediate(immediateObject)#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.9.1</p> <p><code>clearImmediate</code> \u5728\u5b9a\u65f6\u5668\u7ae0\u8282\u4e2d\u63cf\u8ff0\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#clearintervalintervalobject","title":"clearInterval(intervalObject)#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.0.1</p> <p><code>clearInterval</code> \u5728\u5b9a\u65f6\u5668\u7ae0\u8282\u4e2d\u63cf\u8ff0\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#cleartimeouttimeoutobject","title":"clearTimeout(timeoutObject)#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.0.1</p> <p><code>clearTimeout</code> \u5728\u5b9a\u65f6\u5668\u7ae0\u8282\u4e2d\u63cf\u8ff0\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#console","title":"console#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.1.100</p> <p>\u7528\u4e8e\u6253\u5370\u5230 <code>stdout</code> \u548c <code>stderr</code>\u3002 \u8bf7\u53c2\u9605 <code>console</code> \u6587\u6863\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#exports","title":"exports#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u6b64\u53d8\u91cf\u867d\u7136\u770b\u4f3c\u5168\u5c40\u7684\uff0c\u4f46\u5b9e\u9645\u4e0a\u4e0d\u662f\u3002 \u8bf7\u53c2\u9605 <code>exports</code> \u6587\u6863\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#global_1","title":"global#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.1.27</p> <ul> <li> \u5168\u5c40\u7684\u547d\u540d\u7a7a\u95f4\u5bf9\u8c61\u3002</li> </ul> <p>\u5728\u6d4f\u89c8\u5668\u4e2d\uff0c\u9876\u5c42\u4f5c\u7528\u57df\u662f\u5168\u5c40\u4f5c\u7528\u57df\u3002 \u8fd9\u610f\u5473\u7740\u5728\u6d4f\u89c8\u5668\u4e2d <code>var something</code> \u5c06\u5b9a\u4e49\u4e00\u4e2a\u65b0\u7684\u5168\u5c40\u53d8\u91cf\u3002 \u5728 Node.js \u4e2d\uff0c\u8fd9\u662f\u4e0d\u540c\u7684\u3002 \u9876\u5c42\u4f5c\u7528\u57df\u4e0d\u662f\u5168\u5c40\u4f5c\u7528\u57df\uff0cNode.js \u6a21\u5757\u4e2d\u7684 <code>var something</code> \u7684\u4f5c\u7528\u57df\u53ea\u5728\u8be5\u6a21\u5757\u5185\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#module","title":"module#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u6b64\u53d8\u91cf\u867d\u7136\u770b\u4f3c\u5168\u5c40\u7684\uff0c\u4f46\u5b9e\u9645\u4e0a\u4e0d\u662f\u3002 \u8bf7\u53c2\u9605 <code>module</code> \u6587\u6863\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#process","title":"process#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.1.7</p> <p>\u8fdb\u7a0b\u5bf9\u8c61\u3002 \u8bf7\u53c2\u9605 <code>process</code> \u6587\u6863\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#queuemicrotaskcallback","title":"queueMicrotask(callback)#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v11.0.0</p> <ul> <li><code>callback</code>  \u8981\u6392\u961f\u7684\u51fd\u6570\u3002</li> </ul> <p><code>queueMicrotask()</code> \u65b9\u6cd5\u5c06\u5fae\u4efb\u52a1\u6392\u961f\u4ee5\u8c03\u7528 <code>callback</code>\u3002 \u5982\u679c <code>callback</code> \u629b\u51fa\u5f02\u5e38\uff0c\u5219\u5c06\u4f1a\u89e6\u53d1 <code>process</code> \u5bf9\u8c61 \u7684 <code>'uncaughtException'</code> \u4e8b\u4ef6\u3002</p> <p>\u5fae\u4efb\u52a1\u961f\u5217\u7531 V8 \u7ba1\u7406\uff0c\u53ef\u4ee5\u4e0e <code>process.nextTick()</code> \u961f\u5217\uff08\u7531 Node.js \u7ba1\u7406\uff09\u7c7b\u4f3c\u7684\u65b9\u5f0f\u4f7f\u7528\u3002 \u59cb\u7ec8\u5728 Node.js \u4e8b\u4ef6\u5faa\u73af\u7684\u6bcf\u4e2a\u56de\u5408\u4e2d\u7684\u5fae\u4efb\u52a1\u961f\u5217\u4e4b\u524d\u5904\u7406 <code>process.nextTick()</code> \u961f\u5217\u3002</p> <pre><code>// `queueMicrotask()` \u7528\u4e8e\u786e\u4fdd 'load' \u4e8b\u4ef6\u59cb\u7ec8\u5f02\u6b65\u5730\u89e6\u53d1\uff0c\u4e14\u56e0\u6b64\u4fdd\u6301\u4e00\u81f4\u3002\n// \u5728\u8fd9\u91cc\u4f7f\u7528 `process.nextTick()` \u4f1a\u5bfc\u81f4 'load' \u4e8b\u4ef6\u603b\u662f\u5728\u4efb\u4f55\u5176\u4ed6 promise \u4efb\u52a1\u4e4b\u524d\u89e6\u53d1\u3002\n\nDataHandler.prototype.load = async function load(key) {\n  const hit = this._cache.get(url);\n  if (hit !== undefined) {\n    queueMicrotask(() =&gt; {\n      this.emit(\"load\", hit);\n    });\n    return;\n  }\n\n  const data = await fetchData(key);\n  this._cache.set(url, data);\n  this.emit(\"load\", data);\n};\n</code></pre>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#require","title":"require()#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u6b64\u53d8\u91cf\u867d\u7136\u770b\u4f3c\u5168\u5c40\u7684\uff0c\u4f46\u5b9e\u9645\u4e0a\u4e0d\u662f\u3002 \u8bf7\u53c2\u9605 <code>require()</code> \u6587\u6863\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#setimmediatecallback-args","title":"setImmediate(callback[, ...args])#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.9.1</p> <p><code>setImmediate</code> \u5728\u5b9a\u65f6\u5668\u7ae0\u8282\u4e2d\u63cf\u8ff0\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#setintervalcallback-delay-args","title":"setInterval(callback, delay[, ...args])#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.0.1</p> <p><code>setInterval</code> \u5728\u5b9a\u65f6\u5668\u7ae0\u8282\u4e2d\u63cf\u8ff0\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#settimeoutcallback-delay-args","title":"setTimeout(callback, delay[, ...args])#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v0.0.1</p> <p><code>setTimeout</code> \u5728\u5b9a\u65f6\u5668\u7ae0\u8282\u4e2d\u63cf\u8ff0\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#textdecoder","title":"TextDecoder#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v11.0.0</p> <p>WHATWG <code>TextDecoder</code> \u7c7b\u3002 \u53c2\u9605 <code>TextDecoder</code> \u6587\u6863\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#textencoder","title":"TextEncoder#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v11.0.0</p> <p>WHATWG <code>TextEncoder</code> \u7c7b\u3002 \u53c2\u9605 <code>TextEncoder</code> \u6587\u6863\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#url","title":"URL#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v10.0.0</p> <p>WHATWG <code>URL</code> \u7c7b\u3002 \u8bf7\u53c2\u9605 <code>URL</code> \u6587\u6863\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#urlsearchparams","title":"URLSearchParams#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v10.0.0</p> <p>WHATWG <code>URLSearchParams</code> \u7c7b\u3002 \u8bf7\u53c2\u9605 <code>URLSearchParams</code> \u6587\u6863\u3002</p>"},{"location":"nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/#webassembly","title":"WebAssembly#","text":"<p>\u4e2d\u82f1\u5bf9\u7167\u63d0\u4ea4\u4fee\u6539</p> <p>\u65b0\u589e\u4e8e: v8.0.0</p> <p>\u4f5c\u4e3a\u6240\u6709 W3C WebAssembly \u76f8\u5173\u529f\u80fd\u7684\u547d\u540d\u7a7a\u95f4\u7684\u5bf9\u8c61\u3002 \u6709\u5173\u4f7f\u7528\u548c\u517c\u5bb9\u6027\uff0c\u8bf7\u53c2\u9605 Mozilla \u5f00\u53d1\u8005\u7f51\u7ad9\u3002</p>"},{"location":"nodejs/Node.js%E4%BD%BF%E7%94%A8Nodemailer%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/","title":"Node.js \u4f7f\u7528 Nodemailer \u53d1\u9001\u90ae\u4ef6","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9368  \u9605\u8bfb19\u5206\u949f</p> <p>nodemaileremailnode.js</p> <p>\u9605\u8bfb\u7ea6 17 \u5206\u949f</p> <p>\u539f\u6587\u94fe\u63a5\uff1aNode.js \u4f7f\u7528 Nodemailer \u53d1\u9001\u90ae\u4ef6</p> <p>\u7535\u5b50\u90ae\u4ef6\u662f\u2014\u79cd\u7528\u7535\u5b50\u624b\u6bb5\u63d0\u4f9b\u4fe1\u606f\u4ea4\u6362\u7684\u901a\u4fe1\u65b9\u5f0f\uff0c\u662f\u4e92\u8054\u7f51\u5e94\u7528\u6700\u5e7f\u7684\u670d\u52a1\u3002\u901a\u8fc7\u7f51\u7edc\u7684\u7535\u5b50\u90ae\u4ef6\u7cfb\u7edf\uff0c\u7528\u6237\u53ef\u4ee5\u4ee5\u975e\u5e38\u4f4e\u5ec9\u7684\u4ef7\u683c\uff08\u4e0d\u7ba1\u53d1\u9001\u5230\u54ea\u91cc\uff0c\u90fd\u53ea\u9700\u8d1f\u62c5\u7f51\u8d39\uff09\u3001\u975e\u5e38\u5feb\u901f\u7684\u65b9\u5f0f\uff08\u51e0\u79d2\u949f\u4e4b\u5185\u53ef\u4ee5\u53d1\u9001\u5230\u4e16\u754c\u4e0a\u4efb\u4f55\u6307\u5b9a\u7684\u76ee\u7684\u5730\uff09\uff0c\u4e0e\u4e16\u754c\u4e0a\u4efb\u4f55\u4e00\u4e2a\u89d2\u843d\u7684\u7f51\u7edc\u7528\u6237\u8054\u7cfb\u3002</p> <p>\u5728\u5f88\u591a\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u90fd\u4f1a\u9047\u5230\u90ae\u4ef6\u6ce8\u518c\uff0c\u90ae\u4ef6\u53cd\u9988\u7b49\u9700\u6c42\u3002\u5728 node \u4e2d\u6536\u53d1\u7535\u5b50\u90ae\u4ef6\u4e5f\u975e\u5e38\u7b80\u5355\uff0c\u56e0\u4e3a\u5f3a\u5927\u7684\u793e\u533a\u6709\u5404\u79cd\u5404\u6837\u7684\u5305\u53ef\u4ee5\u4f9b\u6211\u4e48\u76f4\u63a5\u4f7f\u7528\u3002Nodemailer\u5305\u5c31\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5feb\u901f\u5b9e\u73b0\u53d1\u9001\u90ae\u4ef6\u7684\u529f\u80fd\u3002</p> <p>Github \u6e90\u7801\uff1ahttps://github.com/ogilhinn/node-abc/tree/master/lesson10</p>"},{"location":"nodejs/Node.js%E4%BD%BF%E7%94%A8Nodemailer%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/#nodemailer","title":"Nodemailer \u7b80\u4ecb","text":"<p>Nodemailer \u662f\u4e00\u4e2a\u7b80\u5355\u6613\u7528\u7684 Node.js \u90ae\u4ef6\u53d1\u9001\u7ec4\u4ef6</p> <p>\u5b98\u7f51\u5730\u5740\uff1ahttps://nodemailer.com</p> <p>GitHub \u5730\u5740\uff1ahttps://github.com/nodemailer/nodemailer</p> <p>Nodemailer \u7684\u4e3b\u8981\u7279\u70b9\u5305\u62ec\uff1a</p> <ul> <li>\u652f\u6301 Unicode \u7f16\u7801</li> <li>\u652f\u6301 Window \u7cfb\u7edf\u73af\u5883</li> <li>\u652f\u6301 HTML \u5185\u5bb9\u548c\u666e\u901a\u6587\u672c\u5185\u5bb9</li> <li>\u652f\u6301\u9644\u4ef6(\u4f20\u9001\u5927\u9644\u4ef6)</li> <li>\u652f\u6301 HTML \u5185\u5bb9\u4e2d\u5d4c\u5165\u56fe\u7247</li> <li>\u652f\u6301 SSL/STARTTLS \u5b89\u5168\u7684\u90ae\u4ef6\u53d1\u9001</li> <li>\u652f\u6301\u5185\u7f6e\u7684 transport \u65b9\u6cd5\u548c\u5176\u4ed6\u63d2\u4ef6\u5b9e\u73b0\u7684 transport \u65b9\u6cd5</li> <li>\u652f\u6301\u81ea\u5b9a\u4e49\u63d2\u4ef6\u5904\u7406\u6d88\u606f</li> <li>\u652f\u6301 XOAUTH2 \u767b\u5f55\u9a8c\u8bc1</li> </ul>"},{"location":"nodejs/Node.js%E4%BD%BF%E7%94%A8Nodemailer%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/#_1","title":"\u5b89\u88c5\u4f7f\u7528","text":"<p>\u9996\u5148\uff0c\u6211\u4eec\u80af\u5b9a\u662f\u8981\u4e0b\u8f7d\u5b89\u88c5 \u6ce8\u610f\uff1aNode.js v6+</p> <pre><code>npm install nodemailer --save\n</code></pre> <p>\u6253\u5f00\u5b98\u7f51\u53ef\u4ee5\u770b\u89c1\u4e00\u4e2a\u5c0f\u4f8b\u5b50</p> <pre><code>'use strict';\nconst nodemailer = require('nodemailer');\n\n// Generate test SMTP service account from ethereal.email\n// Only needed if you don't have a real mail account for testing\nnodemailer.createTestAccount((err, account) =&gt; {\n\n    // create reusable transporter object using the default SMTP transport\n    let transporter = nodemailer.createTransport({\n        host: 'smtp.ethereal.email',\n        port: 587,\n        secure: false, // true for 465, false for other ports\n        auth: {\n            user: account.user, // generated ethereal user\n            pass: account.pass  // generated ethereal password\n        }\n    });\n\n    // setup email data with unicode symbols\n    let mailOptions = {\n        from: '\"Fred Foo ?\" &lt;foo@blurdybloop.com&gt;', // sender address\n        to: 'bar@blurdybloop.com, baz@blurdybloop.com', // list of receivers\n        subject: 'Hello \u2714', // Subject line\n        text: 'Hello world?', // plain text body\n        html: '&lt;b&gt;Hello world?&lt;/b&gt;' // html body\n    };\n\n    // send mail with defined transport object\n    transporter.sendMail(mailOptions, (error, info) =&gt; {\n        if (error) {\n            return console.log(error);\n        }\n        console.log('Message sent: %s', info.messageId);\n        // Preview only available when sending through an Ethereal account\n        console.log('Preview URL: %s', nodemailer.getTestMessageUrl(info));\n\n        // Message sent: &lt;b658f8ca-6296-ccf4-8306-87d57a0b4321@blurdybloop.com&gt;\n        // Preview URL: https://ethereal.email/message/WaQKMgKddxQDoou...\n    });\n});\n</code></pre> <p>\u8fd9\u4e2a\u5c0f\u4f8b\u5b50\u662f\u751f\u6210\u4e86 Ethereal \u7684\u8d26\u6237\u8fdb\u884c\u90ae\u4ef6\u53d1\u9001\u6f14\u793a\u7684\u3002\u4f46\u662f\u8fd9\u591a\u6ca1\u610f\u601d\uff0c\u6211\u4eec\u6765\u4f7f\u7528\u81ea\u5df1\u7684\u90ae\u7bb1\u6765\u53d1\u9001\u90ae\u4ef6</p>"},{"location":"nodejs/Node.js%E4%BD%BF%E7%94%A8Nodemailer%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/#_2","title":"\u53d1\u51fa\u4e2a\u771f\u5b9e\u7684\u90ae\u4ef6","text":"<p>\u8fd9\u91cc\u6211\u4f7f\u7528\u4e86\u6211\u7684 qq \u90ae\u7bb1\u7ed9 163 \u90ae\u7bb1\u53d1\u9001 email\u3002</p> <pre><code>'use strict';\n\nconst nodemailer = require('nodemailer');\n\nlet transporter = nodemailer.createTransport({\n  // host: 'smtp.ethereal.email',\n  service: 'qq', // \u4f7f\u7528\u4e86\u5185\u7f6e\u4f20\u8f93\u53d1\u9001\u90ae\u4ef6 \u67e5\u770b\u652f\u6301\u5217\u8868\uff1ahttps://nodemailer.com/smtp/well-known/\n  port: 465, // SMTP \u7aef\u53e3\n  secureConnection: true, // \u4f7f\u7528\u4e86 SSL\n  auth: {\n    user: 'xxxxxx@qq.com',\n    // \u8fd9\u91cc\u5bc6\u7801\u4e0d\u662fqq\u5bc6\u7801\uff0c\u662f\u4f60\u8bbe\u7f6e\u7684smtp\u6388\u6743\u7801\n    pass: 'xxxxxx',\n  }\n});\n\nlet mailOptions = {\n  from: '\"JavaScript\u4e4b\u7985\" &lt;xxxxx@qq.com&gt;', // sender address\n  to: 'xxxxxxxx@163.com', // list of receivers\n  subject: 'Hello', // Subject line\n  // \u53d1\u9001text\u6216\u8005html\u683c\u5f0f\n  // text: 'Hello world?', // plain text body\n  html: '&lt;b&gt;Hello world?&lt;/b&gt;' // html body\n};\n\n// send mail with defined transport object\ntransporter.sendMail(mailOptions, (error, info) =&gt; {\n  if (error) {\n    return console.log(error);\n  }\n  console.log('Message sent: %s', info.messageId);\n  // Message sent: &lt;04ec7731-cc68-1ef6-303c-61b0f796b78f@qq.com&gt;\n});\n</code></pre> <p>\u8fd0\u884c\u7a0b\u5e8f\uff0c\u6210\u529f\u5c06\u8fd4\u56de messageId\u3002\u8fd9\u662f\u4fbf\u53ef\u4ee5\u53bb\u6536\u4ef6\u7bb1\u67e5\u770b\u8fd9\u4e2a\u65b0\u90ae\u4ef6\u5566</p> <p></p> <p>\u8fd9\u91cc\u6211\u4eec\u9700\u8981\u6ce8\u610f\uff0cauth.pass \u4e0d\u662f\u90ae\u7bb1\u8d26\u6237\u7684\u5bc6\u7801\u800c\u662f stmp \u7684\u6388\u6743\u7801\u3002</p> <p>\u5230\u6b64\u6211\u4eec\u5c31\u638c\u63e1\u4e86\u53d1\u90ae\u4ef6\u7684\u57fa\u672c\u64cd\u4f5c\u3002</p>"},{"location":"nodejs/Node.js%E4%BD%BF%E7%94%A8Nodemailer%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/#_3","title":"\u66f4\u591a\u914d\u7f6e","text":"<ul> <li>CC: Carbon Copy(\u6284\u9001)\uff0c\u7528\u4e8e\u901a\u77e5\u76f8\u5173\u7684\u4eba\uff0c\u6536\u4ef6\u4eba\u53ef\u4ee5\u770b\u5230\u90fd\u90ae\u4ef6\u90fd\u6284\u9001\u7ed9\u8c01\u4e86\u3002\u4e00\u822c\u56de\u62a5\u5de5\u4f5c\u6216\u8de8\u90e8\u95e8\u6c9f\u901a\u65f6\uff0c\u90fd\u4f1a CC \u7ed9\u6536\u4ef6\u4eba\u7684\u9886\u5bfc\u4e00\u4efd</li> <li>BCC:Blind Carbon Copy(\u6697\u6284\u9001)\uff0c\u4e5f\u662f\u7528\u4e8e\u901a\u77e5\u76f8\u5173\u7684\u4eba\uff0c\u4f46\u662f\u6536\u4ef6\u4eba\u662f\u770b\u4e0d\u5230\u90ae\u4ef6\u88ab\u5bc6\u9001\u7ed9\u8c01\u4e86\u3002</li> <li>attachments: \u9644\u4ef6</li> </ul> <p>\u66f4\u591a\u914d\u7f6e\u9879\uff1ahttps://nodemailer.com/message/</p> <p>\u8fd9\u91cc\u6211\u4eec\u5c31\u4e0d\u6f14\u793a CC\u3001BCC \u4e86\uff0c\u8bf7\u81ea\u884c\u5c1d\u8bd5\u3002\u6211\u4eec\u6765\u8bd5\u8bd5\u53d1\u9001\u9644\u4ef6</p> <pre><code>// \u53ea\u9700\u6dfb\u52a0attachments\u914d\u7f6e\u9879\u5373\u53ef\nattachments: [\n    {   // utf-8 string as an attachment\n      filename: 'text.txt',\n      content: 'hello world!'\n    },\n    {\n      filename: 'ZenQcode.png',\n      path: path.resolve(__dirname, 'ZenQcode.png'),\n    }\n  ]\n</code></pre> <p>\u53d1\u9001 email\uff0c\u5c31\u53ef\u4ee5\u6536\u5230\u4e00\u4e2a\u5185\u5bb9\u4e3a hello world \u7684 text.txt \u6587\u4ef6\u3002</p>"},{"location":"nodejs/Node.js%E4%BD%BF%E7%94%A8Nodemailer%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/#html","title":"\u597d\u770b\u7684 HTML \u90ae\u4ef6","text":"<p>HTML Email \u7f16\u5199\u6307\u5357: http://www.ruanyifeng.com/blog/2013/06/html_email.html</p> <p>\u8fd9\u513f\uff0c\u6211\u4eec\u4f7f\u7528 Foundation for Emails: https://foundation.zurb.com/emails.html\u7684\u6a21\u677f</p> <pre><code>'use strict';\n\nconst nodemailer = require('nodemailer');\nconst ejs = require('ejs');\nconst fs  = require('fs');\nconst path = require('path');\n\nlet transporter = nodemailer.createTransport({\n  // host: 'smtp.ethereal.email',\n  service: 'qq', // \u4f7f\u7528\u5185\u7f6e\u4f20\u8f93\u53d1\u9001\u90ae\u4ef6 \u67e5\u770b\u652f\u6301\u5217\u8868\uff1ahttps://nodemailer.com/smtp/well-known/\n  port: 465, // SMTP \u7aef\u53e3\n  secureConnection: true, // \u4f7f\u7528 SSL\n  auth: {\n    user: 'xxxxxx@qq.com',\n    // \u8fd9\u91cc\u5bc6\u7801\u4e0d\u662fqq\u5bc6\u7801\uff0c\u662f\u4f60\u8bbe\u7f6e\u7684smtp\u6388\u6743\u7801\n    pass: 'xxxxxx',\n  }\n});\n\nlet mailOptions = {\n  from: '\"JavaScript\u4e4b\u7985\" &lt;xxxxx@qq.com&gt;', // sender address\n  to: 'xxxxxxxx@163.com', // list of receivers\n  subject: 'Hello', // Subject line\n  // \u53d1\u9001text\u6216\u8005html\u683c\u5f0f\n  // text: 'Hello world?', // plain text body\n  html: fs.createReadStream(path.resolve(__dirname, 'email.html')) // \u6d41\n};\n\n// send mail with defined transport object\ntransporter.sendMail(mailOptions, (error, info) =&gt; {\n  if (error) {\n    return console.log(error);\n  }\n  console.log('Message sent: %s', info.messageId);\n  // Message sent: &lt;04ec7731-cc68-1ef6-303c-61b0f796b78f@qq.com&gt;\n});\n</code></pre> <p>\u8fd0\u884c\u7a0b\u5e8f\uff0c\u4f60\u5c06\u5982\u613f\u4ee5\u507f\u6536\u5230\u5982\u4e0b Email\u3002\u6837\u5f0f\u53ef\u80fd\u4f1a\u6709\u7ec6\u5fae\u504f\u5dee</p> <p></p> <p>\u4e0a\u9762 email \u4e2d\u6211\u4eec\u7528\u4e86\u5916\u94fe\u7684\u56fe\u7247\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528\u9644\u4ef6\u7684\u65b9\u5f0f\uff0c\u5c06\u56fe\u7247\u5d4c\u5165\u8fdb\u53bb\u3002\u7ed9\u9644\u4ef6\u52a0\u4e2a<code>cid</code>\u5c5e\u6027\u5373\u53ef\u3002</p> <pre><code>let mailOptions = {\n  html: '&lt;img src=\"cid:01\"&gt;', // html body\n  attachments: [\n    {\n      filename: 'ZenQcode.png',\n      path: path.resolve(__dirname, 'ZenQcode.png'),\n      cid: '01',\n    }\n  ]\n};\n</code></pre>"},{"location":"nodejs/Node.js%E4%BD%BF%E7%94%A8Nodemailer%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/#_4","title":"\u4f7f\u7528\u6a21\u677f\u5f15\u64ce","text":"<p>\u90ae\u4ef6\u4fe1\u606f\u4e00\u822c\u90fd\u4e0d\u662f\u56fa\u5b9a\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u5f15\u5165\u6a21\u677f\u5f15\u64ce\u5bf9 HTML \u5185\u5bb9\u8fdb\u884c\u6e32\u67d3\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528 Ejs\uff1ahttps://github.com/mde/ejs/\u6765\u505a\u6f14\u793a</p> <pre><code>$ npm install ejs --save\n</code></pre> <p>ejs \u5177\u4f53\u8bed\u6cd5\u8bf7\u53c2\u770b\u5b98\u65b9\u6587\u6863</p> <p>\u5148\u5efa\u7acb\u4e00\u4e2a email.ejs \u6587\u4ef6</p> <pre><code>&lt;h1&gt;hello &lt;%= title %&gt;&lt;/h1&gt;\n&lt;p&gt;&lt;%= desc %&gt;&lt;/p&gt;\n</code></pre> <p>\u4fee\u6539\u6211\u4eec\u7684 js \u6587\u4ef6</p> <pre><code>...\nconst template = ejs.compile(fs.readFileSync(path.resolve(__dirname, 'email.ejs'), 'utf8'));\n\nconst html = template({\n  title: 'Ejs',\n  desc: '\u4f7f\u7528Ejs\u6e32\u67d3\u6a21\u677f',\n});\n\nlet mailOptions = {\n  from: '\"JavaScript\u4e4b\u7985\" &lt;xxxxx@qq.com&gt;', // sender address\n  to: 'xxxxx@163.com', // list of receivers\n  subject: 'Hello', // Subject line\n  html: html,// html body\n};\n...\n</code></pre> <p>\u5230\u6b64\uff0c\u4f60\u7684\u90ae\u7bb1\u5c06\u6536\u5230\u4e00\u4e2a\u52a8\u6001\u6e32\u67d3\u7684 hello Ejs\u3002</p> <p>\u672c\u6587\u5230\u6b64\u544a\u4e00\u6bb5\u843d\uff0c\u5728\u6b64\u57fa\u7840\u4e0a\u4f60\u53ef\u4ee5\u5b9e\u73b0\u66f4\u591a\u6709\u7528\u7684\u529f\u80fd</p>"},{"location":"nodejs/Node.js%E4%BD%BF%E7%94%A8Nodemailer%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/#html-email","title":"HTML email \u6846\u67b6\u63a8\u8350","text":"<ul> <li>MJML: https://mjml.io/</li> <li>emailframe http://emailframe.work/</li> <li>Foundation for Emails 2: [https://foundation.zurb.com/e...](https://foundation.zurb.com/emails.html)</li> <li>responsive HTML email template: https://github.com/leemunroe/responsive-html-email-template</li> <li>campaignmonitor\uff1ahttps://www.campaignmonitor.com/a/</li> </ul> <p>\u5de6\u624b\u4ee3\u7801\uff0c\u53f3\u624b\u7816\uff0c\u629b\u7816\u5f15\u7389</p> <p>\u5982\u679c\u4f60\u77e5\u9053\u66f4\u591a\u597d\u7528 HTML email \u8d44\u6e90\uff0c\u7559\u8a00\u4ea4\u6d41\u8ba9\u66f4\u591a\u4eba\u77e5\u9053\u3002</p>"},{"location":"nodejs/Node.js%E4%BD%BF%E7%94%A8Nodemailer%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/#_5","title":"\u6700\u540e\u798f\u5229\u5e72\u8d27\u6765\u4e86","text":""},{"location":"nodejs/NodeJS%E4%B8%AD%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/","title":"NodeJS","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 30229  \u9605\u8bfb61\u5206\u949f</p> <p><code>\u8fdb\u7a0b</code>\u4e0e<code>\u7ebf\u7a0b</code>\u662f\u4e00\u4e2a\u7a0b\u5e8f\u5458\u7684\u5fc5\u77e5\u6982\u5ff5\uff0c\u9762\u8bd5\u7ecf\u5e38\u88ab\u95ee\u53ca\uff0c\u4f46\u662f\u4e00\u4e9b\u6587\u7ae0\u5185\u5bb9\u53ea\u662f\u8bb2\u8bb2\u7406\u8bba\u77e5\u8bc6\uff0c\u53ef\u80fd\u4e00\u4e9b\u5c0f\u4f19\u4f34\u5e76\u6ca1\u6709\u771f\u7684\u7406\u89e3\uff0c\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\u5e94\u7528\u4e5f\u6bd4\u8f83\u5c11\u3002\u672c\u7bc7\u6587\u7ae0\u9664\u4e86\u4ecb\u7ecd\u6982\u5ff5\uff0c\u901a\u8fc7 Node.js \u7684\u89d2\u5ea6\u8bb2\u89e3<code>\u8fdb\u7a0b</code>\u4e0e<code>\u7ebf\u7a0b</code>\uff0c\u5e76\u4e14\u8bb2\u89e3\u4e00\u4e9b\u5728\u9879\u76ee\u4e2d\u7684\u5b9e\u6218\u7684\u5e94\u7528\uff0c\u8ba9\u4f60\u4e0d\u4ec5\u80fd\u8fce\u6218\u9762\u8bd5\u5b98\u8fd8\u53ef\u4ee5\u5728\u5b9e\u6218\u4e2d\u5b8c\u7f8e\u5e94\u7528\u3002</p> <p>\u4f5c\u8005\u7b80\u4ecb\uff1akoala\uff0c\u4e13\u6ce8\u5b8c\u6574\u7684 Node.js \u6280\u672f\u6808\u5206\u4eab\uff0c\u4ece JavaScript \u5230 Node.js,\u518d\u5230\u540e\u7aef\u6570\u636e\u5e93\uff0c\u795d\u60a8\u6210\u4e3a\u4f18\u79c0\u7684\u9ad8\u7ea7 Node.js \u5de5\u7a0b\u5e08\u3002\u3010\u7a0b\u5e8f\u5458\u6210\u957f\u6307\u5317\u3011\u4f5c\u8005\uff0cGithub \u535a\u5ba2\u5f00\u6e90\u9879\u76ee https://github.com/koala-coding/goodBlog</p> <p>\u6587\u7ae0\u5bfc\u89c8</p> <p></p> <p>\u9762\u8bd5\u4f1a\u95ee</p> <p>Node.js \u662f\u5355\u7ebf\u7a0b\u5417\uff1f</p> <p>Node.js \u505a\u8017\u65f6\u7684\u8ba1\u7b97\u65f6\u5019\uff0c\u5982\u4f55\u907f\u514d\u963b\u585e\uff1f</p> <p>Node.js \u5982\u4f55\u5b9e\u73b0\u591a\u8fdb\u7a0b\u7684\u5f00\u542f\u548c\u5173\u95ed\uff1f</p> <p>Node.js \u53ef\u4ee5\u521b\u5efa\u7ebf\u7a0b\u5417\uff1f</p> <p>\u4f60\u4eec\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u5982\u4f55\u5b9e\u73b0\u8fdb\u7a0b\u5b88\u62a4\u7684\uff1f</p> <p>\u9664\u4e86\u4f7f\u7528\u7b2c\u4e09\u65b9\u6a21\u5757\uff0c\u4f60\u4eec\u81ea\u5df1\u662f\u5426\u5c01\u88c5\u8fc7\u4e00\u4e2a\u591a\u8fdb\u7a0b\u67b6\u6784?</p> <p>\u8fdb\u7a0b</p> <p>\u8fdb\u7a0b<code>Process</code>\u662f\u8ba1\u7b97\u673a\u4e2d\u7684\u7a0b\u5e8f\u5173\u4e8e\u67d0\u6570\u636e\u96c6\u5408\u4e0a\u7684\u4e00\u6b21\u8fd0\u884c\u6d3b\u52a8\uff0c\u662f\u7cfb\u7edf\u8fdb\u884c\u8d44\u6e90\u5206\u914d\u548c\u8c03\u5ea6\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u662f\u64cd\u4f5c\u7cfb\u7edf\u7ed3\u6784\u7684\u57fa\u7840\uff0c\u8fdb\u7a0b\u662f\u7ebf\u7a0b\u7684\u5bb9\u5668\uff08\u6765\u81ea\u767e\u79d1\uff09\u3002\u8fdb\u7a0b\u662f\u8d44\u6e90\u5206\u914d\u7684\u6700\u5c0f\u5355\u4f4d\u3002\u6211\u4eec\u542f\u52a8\u4e00\u4e2a\u670d\u52a1\u3001\u8fd0\u884c\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5c31\u662f\u5f00\u4e00\u4e2a\u670d\u52a1\u8fdb\u7a0b\uff0c\u4f8b\u5982 Java \u91cc\u7684 JVM \u672c\u8eab\u5c31\u662f\u4e00\u4e2a\u8fdb\u7a0b\uff0cNode.js \u91cc\u901a\u8fc7 <code>node app.js</code> \u5f00\u542f\u4e00\u4e2a\u670d\u52a1\u8fdb\u7a0b\uff0c\u591a\u8fdb\u7a0b\u5c31\u662f\u8fdb\u7a0b\u7684\u590d\u5236\uff08fork\uff09\uff0cfork \u51fa\u6765\u7684\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u62e5\u6709\u81ea\u5df1\u7684\u72ec\u7acb\u7a7a\u95f4\u5730\u5740\u3001\u6570\u636e\u6808\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u65e0\u6cd5\u8bbf\u95ee\u53e6\u5916\u4e00\u4e2a\u8fdb\u7a0b\u91cc\u5b9a\u4e49\u7684\u53d8\u91cf\u3001\u6570\u636e\u7ed3\u6784\uff0c\u53ea\u6709\u5efa\u7acb\u4e86 IPC \u901a\u4fe1\uff0c\u8fdb\u7a0b\u4e4b\u95f4\u624d\u53ef\u6570\u636e\u5171\u4eab\u3002</p> <ul> <li>Node.js \u5f00\u542f\u670d\u52a1\u8fdb\u7a0b\u4f8b\u5b50</li> </ul> <pre><code>const http = require(\"http\");\n\nconst server = http.createServer();\nserver.listen(3000, () =&gt; {\n  process.title = \"\u7a0b\u5e8f\u5458\u6210\u957f\u6307\u5317\u6d4b\u8bd5\u8fdb\u7a0b\";\n  console.log(\"\u8fdb\u7a0bid\", process.pid);\n});\n</code></pre> <p>\u8fd0\u884c\u4e0a\u9762\u4ee3\u7801\u540e\uff0c\u4ee5\u4e0b\u4e3a Mac \u7cfb\u7edf\u81ea\u5e26\u7684\u76d1\u63a7\u5de5\u5177 \u201c\u6d3b\u52a8\u76d1\u89c6\u5668\u201d \u6240\u5c55\u793a\u7684\u6548\u679c\uff0c\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u521a\u5f00\u542f\u7684 Nodejs \u8fdb\u7a0b 7663</p> <p></p> <p>\u7ebf\u7a0b</p> <p>\u7ebf\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u80fd\u591f\u8fdb\u884c\u8fd0\u7b97\u8c03\u5ea6\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u9996\u5148\u6211\u4eec\u8981\u6e05\u695a\u7ebf\u7a0b\u662f\u96b6\u5c5e\u4e8e\u8fdb\u7a0b\u7684\uff0c\u88ab\u5305\u542b\u4e8e\u8fdb\u7a0b\u4e4b\u4e2d\u3002\u4e00\u4e2a\u7ebf\u7a0b\u53ea\u80fd\u96b6\u5c5e\u4e8e\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u4f46\u662f\u4e00\u4e2a\u8fdb\u7a0b\u662f\u53ef\u4ee5\u62e5\u6709\u591a\u4e2a\u7ebf\u7a0b\u7684\u3002</p> <p>\u5355\u7ebf\u7a0b</p> <p>\u5355\u7ebf\u7a0b\u5c31\u662f\u4e00\u4e2a\u8fdb\u7a0b\u53ea\u5f00\u4e00\u4e2a\u7ebf\u7a0b</p> <p>Javascript \u5c31\u662f\u5c5e\u4e8e\u5355\u7ebf\u7a0b\uff0c\u7a0b\u5e8f\u987a\u5e8f\u6267\u884c(\u8fd9\u91cc\u6682\u4e14\u4e0d\u63d0 JS \u5f02\u6b65)\uff0c\u53ef\u4ee5\u60f3\u8c61\u4e00\u4e0b\u961f\u5217\uff0c\u524d\u9762\u4e00\u4e2a\u6267\u884c\u5b8c\u4e4b\u540e\uff0c\u540e\u9762\u624d\u53ef\u4ee5\u6267\u884c\uff0c\u5f53\u4f60\u5728\u4f7f\u7528\u5355\u7ebf\u7a0b\u8bed\u8a00\u7f16\u7801\u65f6\u5207\u52ff\u6709\u8fc7\u591a\u8017\u65f6\u7684\u540c\u6b65\u64cd\u4f5c\uff0c\u5426\u5219\u7ebf\u7a0b\u4f1a\u9020\u6210\u963b\u585e\uff0c\u5bfc\u81f4\u540e\u7eed\u54cd\u5e94\u65e0\u6cd5\u5904\u7406\u3002\u4f60\u5982\u679c\u91c7\u7528 Javascript \u8fdb\u884c\u7f16\u7801\u65f6\u5019\uff0c\u8bf7\u5c3d\u53ef\u80fd\u7684\u5229\u7528 Javascript \u5f02\u6b65\u64cd\u4f5c\u7684\u7279\u6027\u3002</p> <p>\u7ecf\u5178\u8ba1\u7b97\u8017\u65f6\u9020\u6210\u7ebf\u7a0b\u963b\u585e\u7684\u4f8b\u5b50</p> <pre><code>const http = require(\"http\");\nconst longComputation = () =&gt; {\n  let sum = 0;\n  for (let i = 0; i &lt; 1e10; i++) {\n    sum += i;\n  }\n  return sum;\n};\nconst server = http.createServer();\nserver.on(\"request\", (req, res) =&gt; {\n  if (req.url === \"/compute\") {\n    console.info(\"\u8ba1\u7b97\u5f00\u59cb\", new Date());\n    const sum = longComputation();\n    console.info(\"\u8ba1\u7b97\u7ed3\u675f\", new Date());\n    return res.end(`Sum is ${sum}`);\n  } else {\n    res.end(\"Ok\");\n  }\n});\n\nserver.listen(3000);\n//\u6253\u5370\u7ed3\u679c\n//\u8ba1\u7b97\u5f00\u59cb 2019-07-28T07:08:49.849Z\n//\u8ba1\u7b97\u7ed3\u675f 2019-07-28T07:09:04.522Z\n</code></pre> <p>\u67e5\u770b\u6253\u5370\u7ed3\u679c\uff0c\u5f53\u6211\u4eec\u8c03\u7528<code>127.0.0.1:3000/compute</code> \u7684\u65f6\u5019\uff0c\u5982\u679c\u60f3\u8981\u8c03\u7528\u5176\u4ed6\u7684\u8def\u7531\u5730\u5740\u6bd4\u5982 127.0.0.1/\u5927\u7ea6\u9700\u8981 15 \u79d2\u65f6\u95f4\uff0c\u4e5f\u53ef\u4ee5\u8bf4\u4e00\u4e2a\u7528\u6237\u8bf7\u6c42\u5b8c\u7b2c\u4e00\u4e2a<code>compute</code>\u63a5\u53e3\u540e\u9700\u8981\u7b49\u5f85 15 \u79d2\uff0c\u8fd9\u5bf9\u4e8e\u7528\u6237\u6765\u8bf4\u662f\u6781\u5176\u4e0d\u53cb\u597d\u7684\u3002\u4e0b\u6587\u6211\u4f1a\u901a\u8fc7\u521b\u5efa\u591a\u8fdb\u7a0b\u7684\u65b9\u5f0f<code>child_process.fork</code> \u548c<code>cluster</code> \u6765\u89e3\u51b3\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u5355\u7ebf\u7a0b\u7684\u4e00\u4e9b\u8bf4\u660e</p> <ul> <li>Node.js \u867d\u7136\u662f\u5355\u7ebf\u7a0b\u6a21\u578b\uff0c\u4f46\u662f\u5176\u57fa\u4e8e\u4e8b\u4ef6\u9a71\u52a8\u3001\u5f02\u6b65\u975e\u963b\u585e\u6a21\u5f0f\uff0c\u53ef\u4ee5\u5e94\u7528\u4e8e\u9ad8\u5e76\u53d1\u573a\u666f\uff0c\u907f\u514d\u4e86\u7ebf\u7a0b\u521b\u5efa\u3001\u7ebf\u7a0b\u4e4b\u95f4\u4e0a\u4e0b\u6587\u5207\u6362\u6240\u4ea7\u751f\u7684\u8d44\u6e90\u5f00\u9500\u3002</li> <li>\u5f53\u4f60\u7684\u9879\u76ee\u4e2d\u9700\u8981\u6709\u5927\u91cf\u8ba1\u7b97\uff0cCPU \u8017\u65f6\u7684\u64cd\u4f5c\u65f6\u5019\uff0c\u8981\u6ce8\u610f\u8003\u8651\u5f00\u542f\u591a\u8fdb\u7a0b\u6765\u5b8c\u6210\u4e86\u3002</li> <li>Node.js \u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u9519\u8bef\u4f1a\u5f15\u8d77\u6574\u4e2a\u5e94\u7528\u9000\u51fa\uff0c\u5e94\u7528\u7684\u5065\u58ee\u6027\u503c\u5f97\u8003\u9a8c\uff0c\u5c24\u5176\u662f\u9519\u8bef\u7684\u5f02\u5e38\u629b\u51fa\uff0c\u4ee5\u53ca\u8fdb\u7a0b\u5b88\u62a4\u662f\u5fc5\u987b\u8981\u505a\u7684\u3002</li> <li>\u5355\u7ebf\u7a0b\u65e0\u6cd5\u5229\u7528\u591a\u6838 CPU\uff0c\u4f46\u662f\u540e\u6765 Node.js \u63d0\u4f9b\u7684 API \u4ee5\u53ca\u4e00\u4e9b\u7b2c\u4e09\u65b9\u5de5\u5177\u76f8\u5e94\u90fd\u5f97\u5230\u4e86\u89e3\u51b3\uff0c\u6587\u7ae0\u540e\u9762\u90fd\u4f1a\u8bb2\u5230\u3002</li> </ul> <p>Node.js \u4e2d\u7684\u8fdb\u7a0b\u4e0e\u7ebf\u7a0b</p> <p>Node.js \u662f Javascript \u5728\u670d\u52a1\u7aef\u7684\u8fd0\u884c\u73af\u5883\uff0c\u6784\u5efa\u5728 chrome \u7684 V8 \u5f15\u64ce\u4e4b\u4e0a\uff0c\u57fa\u4e8e\u4e8b\u4ef6\u9a71\u52a8\u3001\u975e\u963b\u585e I/O \u6a21\u578b\uff0c\u5145\u5206\u5229\u7528\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u5f02\u6b65 I/O \u8fdb\u884c\u591a\u4efb\u52a1\u7684\u6267\u884c\uff0c\u9002\u5408\u4e8e I/O \u5bc6\u96c6\u578b\u7684\u5e94\u7528\u573a\u666f\uff0c\u56e0\u4e3a\u5f02\u6b65\uff0c\u7a0b\u5e8f\u65e0\u9700\u963b\u585e\u7b49\u5f85\u7ed3\u679c\u8fd4\u56de\uff0c\u800c\u662f\u57fa\u4e8e\u56de\u8c03\u901a\u77e5\u7684\u673a\u5236\uff0c\u539f\u672c\u540c\u6b65\u6a21\u5f0f\u7b49\u5f85\u7684\u65f6\u95f4\uff0c\u5219\u53ef\u4ee5\u7528\u6765\u5904\u7406\u5176\u5b83\u4efb\u52a1\uff0c</p> <p>\u79d1\u666e\uff1a\u5728 Web \u670d\u52a1\u5668\u65b9\u9762\uff0c\u8457\u540d\u7684 Nginx \u4e5f\u662f\u91c7\u7528\u6b64\u6a21\u5f0f\uff08\u4e8b\u4ef6\u9a71\u52a8\uff09\uff0c\u907f\u514d\u4e86\u591a\u7ebf\u7a0b\u7684\u7ebf\u7a0b\u521b\u5efa\u3001\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u5f00\u9500\uff0cNginx \u91c7\u7528 C \u8bed\u8a00\u8fdb\u884c\u7f16\u5199\uff0c\u4e3b\u8981\u7528\u6765\u505a\u9ad8\u6027\u80fd\u7684 Web \u670d\u52a1\u5668\uff0c\u4e0d\u9002\u5408\u505a\u4e1a\u52a1\u3002</p> <p>Web \u4e1a\u52a1\u5f00\u53d1\u4e2d\uff0c\u5982\u679c\u4f60\u6709\u9ad8\u5e76\u53d1\u5e94\u7528\u573a\u666f\u90a3\u4e48 Node.js \u4f1a\u662f\u4f60\u4e0d\u9519\u7684\u9009\u62e9\u3002</p> <p>\u5728\u5355\u6838 CPU \u7cfb\u7edf\u4e4b\u4e0a\u6211\u4eec\u91c7\u7528 \u5355\u8fdb\u7a0b + \u5355\u7ebf\u7a0b \u7684\u6a21\u5f0f\u6765\u5f00\u53d1\u3002\u5728\u591a\u6838 CPU \u7cfb\u7edf\u4e4b\u4e0a\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>child_process.fork</code> \u5f00\u542f\u591a\u4e2a\u8fdb\u7a0b\uff08Node.js \u5728 v0.8 \u7248\u672c\u4e4b\u540e\u65b0\u589e\u4e86 Cluster \u6765\u5b9e\u73b0\u591a\u8fdb\u7a0b\u67b6\u6784\uff09 \uff0c\u5373 \u591a\u8fdb\u7a0b + \u5355\u7ebf\u7a0b \u6a21\u5f0f\u3002\u6ce8\u610f\uff1a\u5f00\u542f\u591a\u8fdb\u7a0b\u4e0d\u662f\u4e3a\u4e86\u89e3\u51b3\u9ad8\u5e76\u53d1\uff0c\u4e3b\u8981\u662f\u89e3\u51b3\u4e86\u5355\u8fdb\u7a0b\u6a21\u5f0f\u4e0b Node.js CPU \u5229\u7528\u7387\u4e0d\u8db3\u7684\u60c5\u51b5\uff0c\u5145\u5206\u5229\u7528\u591a\u6838 CPU \u7684\u6027\u80fd\u3002</p> <p>Node.js \u4e2d\u7684\u8fdb\u7a0b</p> <p>process \u6a21\u5757</p> <p>Node.js \u4e2d\u7684\u8fdb\u7a0b Process \u662f\u4e00\u4e2a\u5168\u5c40\u5bf9\u8c61\uff0c\u65e0\u9700 require \u76f4\u63a5\u4f7f\u7528\uff0c\u7ed9\u6211\u4eec\u63d0\u4f9b\u4e86\u5f53\u524d\u8fdb\u7a0b\u4e2d\u7684\u76f8\u5173\u4fe1\u606f\u3002\u5b98\u65b9\u6587\u6863\u63d0\u4f9b\u4e86\u8be6\u7ec6\u7684\u8bf4\u660e\uff0c\u611f\u5174\u8da3\u7684\u53ef\u4ee5\u4eb2\u81ea\u5b9e\u8df5\u4e0b Process \u6587\u6863\u3002</p> <ul> <li><code>process.env</code>\uff1a\u73af\u5883\u53d8\u91cf\uff0c\u4f8b\u5982\u901a\u8fc7 <code>process.env.NODE_ENV</code> \u83b7\u53d6\u4e0d\u540c\u73af\u5883\u9879\u76ee\u914d\u7f6e\u4fe1\u606f</li> <li><code>process.nextTick</code>\uff1a\u8fd9\u4e2a\u5728\u8c08\u53ca <code>Event Loop</code> \u65f6\u7ecf\u5e38\u4e3a\u4f1a\u63d0\u5230</li> <li><code>process.pid</code>\uff1a\u83b7\u53d6\u5f53\u524d\u8fdb\u7a0b id</li> <li><code>process.ppid</code>\uff1a\u5f53\u524d\u8fdb\u7a0b\u5bf9\u5e94\u7684\u7236\u8fdb\u7a0b</li> <li><code>process.cwd()</code>\uff1a\u83b7\u53d6\u5f53\u524d\u8fdb\u7a0b\u5de5\u4f5c\u76ee\u5f55\uff0c</li> <li><code>process.platform</code>\uff1a\u83b7\u53d6\u5f53\u524d\u8fdb\u7a0b\u8fd0\u884c\u7684\u64cd\u4f5c\u7cfb\u7edf\u5e73\u53f0</li> <li><code>process.uptime()</code>\uff1a\u5f53\u524d\u8fdb\u7a0b\u5df2\u8fd0\u884c\u65f6\u95f4\uff0c\u4f8b\u5982\uff1apm2 \u5b88\u62a4\u8fdb\u7a0b\u7684 uptime \u503c</li> <li>\u8fdb\u7a0b\u4e8b\u4ef6\uff1a<code>process.on(\u2018uncaughtException\u2019, cb)</code> \u6355\u83b7\u5f02\u5e38\u4fe1\u606f\u3001<code>process.on(\u2018exit\u2019, cb\uff09</code>\u8fdb\u7a0b\u63a8\u51fa\u76d1\u542c</li> <li>\u4e09\u4e2a\u6807\u51c6\u6d41\uff1a<code>process.stdout</code> \u6807\u51c6\u8f93\u51fa\u3001<code>process.stdin</code> \u6807\u51c6\u8f93\u5165\u3001<code>process.stderr</code> \u6807\u51c6\u9519\u8bef\u8f93\u51fa</li> <li><code>process.title</code> \u6307\u5b9a\u8fdb\u7a0b\u540d\u79f0\uff0c\u6709\u7684\u65f6\u5019\u9700\u8981\u7ed9\u8fdb\u7a0b\u6307\u5b9a\u4e00\u4e2a\u540d\u79f0</li> </ul> <p>\u4ee5\u4e0a\u4ec5\u5217\u4e3e\u4e86\u90e8\u5206\u5e38\u7528\u5230\u529f\u80fd\u70b9\uff0c\u9664\u4e86 Process \u4e4b\u5916 Node.js \u8fd8\u63d0\u4f9b\u4e86 child_process \u6a21\u5757\u7528\u6765\u5bf9\u5b50\u8fdb\u7a0b\u8fdb\u884c\u64cd\u4f5c\uff0c\u5728\u4e0b\u6587 Nodejs \u8fdb\u7a0b\u521b\u5efa\u4f1a\u7ee7\u7eed\u8bb2\u8ff0\u3002</p> <p>Node.js \u8fdb\u7a0b\u521b\u5efa</p> <p>\u8fdb\u7a0b\u521b\u5efa\u6709\u591a\u79cd\u65b9\u5f0f\uff0c\u672c\u7bc7\u6587\u7ae0\u4ee5 child_process \u6a21\u5757\u548c cluster \u6a21\u5757\u8fdb\u884c\u8bb2\u89e3\u3002</p> <p>child_process \u6a21\u5757</p> <p>child_process \u662f Node.js \u7684\u5185\u7f6e\u6a21\u5757\uff0c\u5b98\u7f51\u5730\u5740\uff1a</p> <p>child_process \u5b98\u7f51\u5730\u5740\uff1ahttp://nodejs.cn/api/child_process.html#child_process_child_process</p> <p>\u51e0\u4e2a\u5e38\u7528\u51fd\u6570\uff1a \u56db\u79cd\u65b9\u5f0f</p> <ul> <li><code>child_process.spawn()</code>\uff1a\u9002\u7528\u4e8e\u8fd4\u56de\u5927\u91cf\u6570\u636e\uff0c\u4f8b\u5982\u56fe\u50cf\u5904\u7406\uff0c\u4e8c\u8fdb\u5236\u6570\u636e\u5904\u7406\u3002</li> <li><code>child_process.exec()</code>\uff1a\u9002\u7528\u4e8e\u5c0f\u91cf\u6570\u636e\uff0cmaxBuffer \u9ed8\u8ba4\u503c\u4e3a 200 * 1024 \u8d85\u51fa\u8fd9\u4e2a\u9ed8\u8ba4\u503c\u5c06\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u5d29\u6e83\uff0c\u6570\u636e\u91cf\u8fc7\u5927\u53ef\u91c7\u7528 spawn\u3002</li> <li><code>child_process.execFile()</code>\uff1a\u7c7b\u4f3c <code>child_process.exec()</code>\uff0c\u533a\u522b\u662f\u4e0d\u80fd\u901a\u8fc7 shell \u6765\u6267\u884c\uff0c\u4e0d\u652f\u6301\u50cf I/O \u91cd\u5b9a\u5411\u548c\u6587\u4ef6\u67e5\u627e\u8fd9\u6837\u7684\u884c\u4e3a</li> <li><code>child_process.fork()</code>\uff1a \u884d\u751f\u65b0\u7684\u8fdb\u7a0b\uff0c\u8fdb\u7a0b\u4e4b\u95f4\u662f\u76f8\u4e92\u72ec\u7acb\u7684\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684 V8 \u5b9e\u4f8b\u3001\u5185\u5b58\uff0c\u7cfb\u7edf\u8d44\u6e90\u662f\u6709\u9650\u7684\uff0c\u4e0d\u5efa\u8bae\u884d\u751f\u592a\u591a\u7684\u5b50\u8fdb\u7a0b\u51fa\u6765\uff0c\u901a\u957f\u6839\u636e\u7cfb\u7edf** CPU \u6838\u5fc3\u6570**\u8bbe\u7f6e\u3002</li> </ul> <p>CPU \u6838\u5fc3\u6570\u8fd9\u91cc\u7279\u522b\u8bf4\u660e\u4e0b\uff0cfork \u786e\u5b9e\u53ef\u4ee5\u5f00\u542f\u591a\u4e2a\u8fdb\u7a0b\uff0c\u4f46\u662f\u5e76\u4e0d\u5efa\u8bae\u884d\u751f\u51fa\u6765\u592a\u591a\u7684\u8fdb\u7a0b\uff0ccpu \u6838\u5fc3\u6570\u7684\u83b7\u53d6\u65b9\u5f0f<code>const cpus = require('os').cpus();</code>,\u8fd9\u91cc cpus \u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u6570\u7ec4\uff0c\u5305\u542b\u6240\u5b89\u88c5\u7684\u6bcf\u4e2a CPU/\u5185\u6838\u7684\u4fe1\u606f\uff0c\u4e8c\u8005\u603b\u548c\u7684\u6570\u7ec4\u54e6\u3002\u5047\u8bbe\u4e3b\u673a\u88c5\u6709\u4e24\u4e2a cpu\uff0c\u6bcf\u4e2a cpu \u6709 4 \u4e2a\u6838\uff0c\u90a3\u4e48\u603b\u6838\u6570\u5c31\u662f 8\u3002</p> <p>fork \u5f00\u542f\u5b50\u8fdb\u7a0b Demo</p> <p>fork \u5f00\u542f\u5b50\u8fdb\u7a0b\u89e3\u51b3\u6587\u7ae0\u8d77\u521d\u7684\u8ba1\u7b97\u8017\u65f6\u9020\u6210\u7ebf\u7a0b\u963b\u585e\u3002 \u5728\u8fdb\u884c compute \u8ba1\u7b97\u65f6\u521b\u5efa\u5b50\u8fdb\u7a0b\uff0c\u5b50\u8fdb\u7a0b\u8ba1\u7b97\u5b8c\u6210\u901a\u8fc7 <code>send</code> \u65b9\u6cd5\u5c06\u7ed3\u679c\u53d1\u9001\u7ed9\u4e3b\u8fdb\u7a0b\uff0c\u4e3b\u8fdb\u7a0b\u901a\u8fc7 <code>message</code> \u76d1\u542c\u5230\u4fe1\u606f\u540e\u5904\u7406\u5e76\u9000\u51fa\u3002</p> <p>fork_app.js</p> <pre><code>const http = require('http');\nconst fork = require('child_process').fork;\n\nconst server = http.createServer((req, res) =&gt; {\n    if(req.url == '/compute'){\n        const compute = fork('./fork_compute.js');\n        compute.send('\u5f00\u542f\u4e00\u4e2a\u65b0\u7684\u5b50\u8fdb\u7a0b');\n\n        // \u5f53\u4e00\u4e2a\u5b50\u8fdb\u7a0b\u4f7f\u7528 process.send() \u53d1\u9001\u6d88\u606f\u65f6\u4f1a\u89e6\u53d1 'message' \u4e8b\u4ef6\n        compute.on('message', sum =&gt; {\n            res.end(`Sum is ${sum}`);\n            compute.kill();\n        });\n\n        // \u5b50\u8fdb\u7a0b\u76d1\u542c\u5230\u4e00\u4e9b\u9519\u8bef\u6d88\u606f\u9000\u51fa\n        compute.on('close', (code, signal) =&gt; {\n            console.log(`\u6536\u5230close\u4e8b\u4ef6\uff0c\u5b50\u8fdb\u7a0b\u6536\u5230\u4fe1\u53f7 ${signal} \u800c\u7ec8\u6b62\uff0c\u9000\u51fa\u7801 ${code}`);\n            compute.kill();\n        })\n    }else{\n        res.end(`ok`);\n    }\n});\nserver.listen(3000, 127.0.0.1, () =&gt; {\n    console.log(`server started at http://${127.0.0.1}:${3000}`);\n});\n</code></pre> <p>fork_compute.js</p> <p>\u9488\u5bf9\u6587\u521d\u9700\u8981\u8fdb\u884c\u8ba1\u7b97\u7684\u7684\u4f8b\u5b50\u6211\u4eec\u521b\u5efa\u5b50\u8fdb\u7a0b\u62c6\u5206\u51fa\u6765\u5355\u72ec\u8fdb\u884c\u8fd0\u7b97\u3002</p> <pre><code>const computation = () =&gt; {\n  let sum = 0;\n  console.info(\"\u8ba1\u7b97\u5f00\u59cb\");\n  console.time(\"\u8ba1\u7b97\u8017\u65f6\");\n\n  for (let i = 0; i &lt; 1e10; i++) {\n    sum += i;\n  }\n\n  console.info(\"\u8ba1\u7b97\u7ed3\u675f\");\n  console.timeEnd(\"\u8ba1\u7b97\u8017\u65f6\");\n  return sum;\n};\n\nprocess.on(\"message\", (msg) =&gt; {\n  console.log(msg, \"process.pid\", process.pid); // \u5b50\u8fdb\u7a0bid\n  const sum = computation();\n\n  // \u5982\u679cNode.js\u8fdb\u7a0b\u662f\u901a\u8fc7\u8fdb\u7a0b\u95f4\u901a\u4fe1\u4ea7\u751f\u7684\uff0c\u90a3\u4e48\uff0cprocess.send()\u65b9\u6cd5\u53ef\u4ee5\u7528\u6765\u7ed9\u7236\u8fdb\u7a0b\u53d1\u9001\u6d88\u606f\n  process.send(sum);\n});\n</code></pre> <p>cluster \u6a21\u5757</p> <p>cluster \u5f00\u542f\u5b50\u8fdb\u7a0b Demo</p> <pre><code>const http = require(\"http\");\nconst numCPUs = require(\"os\").cpus().length;\nconst cluster = require(\"cluster\");\nif (cluster.isMaster) {\n  console.log(\"Master proces id is\", process.pid);\n  // fork workers\n  for (let i = 0; i &lt; numCPUs; i++) {\n    cluster.fork();\n  }\n  cluster.on(\"exit\", function (worker, code, signal) {\n    console.log(\"worker process died,id\", worker.process.pid);\n  });\n} else {\n  // Worker\u53ef\u4ee5\u5171\u4eab\u540c\u4e00\u4e2aTCP\u8fde\u63a5\n  // \u8fd9\u91cc\u662f\u4e00\u4e2ahttp\u670d\u52a1\u5668\n  http\n    .createServer(function (req, res) {\n      res.writeHead(200);\n      res.end(\"hello word\");\n    })\n    .listen(8000);\n}\n</code></pre> <p>cluster \u539f\u7406\u5206\u6790</p> <p></p> <p>cluster \u6a21\u5757\u8c03\u7528 fork \u65b9\u6cd5\u6765\u521b\u5efa\u5b50\u8fdb\u7a0b\uff0c\u8be5\u65b9\u6cd5\u4e0e child_process \u4e2d\u7684 fork \u662f\u540c\u4e00\u4e2a\u65b9\u6cd5\u3002 cluster \u6a21\u5757\u91c7\u7528\u7684\u662f\u7ecf\u5178\u7684\u4e3b\u4ece\u6a21\u578b\uff0cCluster \u4f1a\u521b\u5efa\u4e00\u4e2a master\uff0c\u7136\u540e\u6839\u636e\u4f60\u6307\u5b9a\u7684\u6570\u91cf\u590d\u5236\u51fa\u591a\u4e2a\u5b50\u8fdb\u7a0b\uff0c\u53ef\u4ee5\u4f7f\u7528<code>cluster.isMaster</code>\u5c5e\u6027\u5224\u65ad\u5f53\u524d\u8fdb\u7a0b\u662f master \u8fd8\u662f worker(\u5de5\u4f5c\u8fdb\u7a0b)\u3002\u7531 master \u8fdb\u7a0b\u6765\u7ba1\u7406\u6240\u6709\u7684\u5b50\u8fdb\u7a0b\uff0c\u4e3b\u8fdb\u7a0b\u4e0d\u8d1f\u8d23\u5177\u4f53\u7684\u4efb\u52a1\u5904\u7406\uff0c\u4e3b\u8981\u5de5\u4f5c\u662f\u8d1f\u8d23\u8c03\u5ea6\u548c\u7ba1\u7406\u3002</p> <p>cluster \u6a21\u5757\u4f7f\u7528\u5185\u7f6e\u7684\u8d1f\u8f7d\u5747\u8861\u6765\u66f4\u597d\u5730\u5904\u7406\u7ebf\u7a0b\u4e4b\u95f4\u7684\u538b\u529b\uff0c\u8be5\u8d1f\u8f7d\u5747\u8861\u4f7f\u7528\u4e86<code>Round-robin</code>\u7b97\u6cd5\uff08\u4e5f\u88ab\u79f0\u4e4b\u4e3a\u5faa\u73af\u7b97\u6cd5\uff09\u3002\u5f53\u4f7f\u7528 Round-robin \u8c03\u5ea6\u7b56\u7565\u65f6\uff0cmaster accepts()\u6240\u6709\u4f20\u5165\u7684\u8fde\u63a5\u8bf7\u6c42\uff0c\u7136\u540e\u5c06\u76f8\u5e94\u7684 TCP \u8bf7\u6c42\u5904\u7406\u53d1\u9001\u7ed9\u9009\u4e2d\u7684\u5de5\u4f5c\u8fdb\u7a0b\uff08\u8be5\u65b9\u5f0f\u4ecd\u7136\u901a\u8fc7 IPC \u6765\u8fdb\u884c\u901a\u4fe1\uff09\u3002</p> <p>\u5f00\u542f\u591a\u8fdb\u7a0b\u65f6\u5019\u7aef\u53e3\u7591\u95ee\u8bb2\u89e3\uff1a\u5982\u679c\u591a\u4e2a Node \u8fdb\u7a0b\u76d1\u542c\u540c\u4e00\u4e2a\u7aef\u53e3\u65f6\u4f1a\u51fa\u73b0 <code>Error:listen EADDRIUNS</code>\u7684\u9519\u8bef\uff0c\u800c cluster \u6a21\u5757\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u8ba9\u591a\u4e2a\u5b50\u8fdb\u7a0b\u76d1\u542c\u540c\u4e00\u4e2a\u7aef\u53e3\u5462?\u539f\u56e0\u662f master \u8fdb\u7a0b\u5185\u90e8\u542f\u52a8\u4e86\u4e00\u4e2a TCP \u670d\u52a1\u5668\uff0c\u800c\u771f\u6b63\u76d1\u542c\u7aef\u53e3\u7684\u53ea\u6709\u8fd9\u4e2a\u670d\u52a1\u5668\uff0c\u5f53\u6765\u81ea\u524d\u7aef\u7684\u8bf7\u6c42\u89e6\u53d1\u670d\u52a1\u5668\u7684 connection \u4e8b\u4ef6\u540e\uff0cmaster \u4f1a\u5c06\u5bf9\u5e94\u7684 socket \u5177\u67c4\u53d1\u9001\u7ed9\u5b50\u8fdb\u7a0b\u3002</p> <p>child_process \u6a21\u5757\u4e0e cluster \u6a21\u5757\u603b\u7ed3</p> <p>\u65e0\u8bba\u662f child_process \u6a21\u5757\u8fd8\u662f cluster \u6a21\u5757\uff0c\u4e3a\u4e86\u89e3\u51b3 Node.js \u5b9e\u4f8b\u5355\u7ebf\u7a0b\u8fd0\u884c\uff0c\u65e0\u6cd5\u5229\u7528\u591a\u6838 CPU \u7684\u95ee\u9898\u800c\u51fa\u73b0\u7684\u3002\u6838\u5fc3\u5c31\u662f**\u7236\u8fdb\u7a0b\uff08\u5373 master \u8fdb\u7a0b\uff09\u8d1f\u8d23\u76d1\u542c\u7aef\u53e3\uff0c\u63a5\u6536\u5230\u65b0\u7684\u8bf7\u6c42\u540e\u5c06\u5176\u5206\u53d1\u7ed9\u4e0b\u9762\u7684 worker \u8fdb\u7a0b**\u3002</p> <p>cluster \u6a21\u5757\u7684\u4e00\u4e2a\u5f0a\u7aef\uff1a</p> <p></p> <p></p> <p>cluster \u5185\u90e8\u9690\u65f6\u7684\u6784\u5efa TCP \u670d\u52a1\u5668\u7684\u65b9\u5f0f\u6765\u8bf4\u5bf9\u4f7f\u7528\u8005\u786e\u5b9e\u7b80\u5355\u548c\u900f\u660e\u4e86\u5f88\u591a\uff0c\u4f46\u662f\u8fd9\u79cd\u65b9\u5f0f\u65e0\u6cd5\u50cf\u4f7f\u7528 child_process \u90a3\u6837\u7075\u6d3b\uff0c\u56e0\u4e3a\u4e00\u76f4\u4e3b\u8fdb\u7a0b\u53ea\u80fd\u7ba1\u7406\u4e00\u7ec4\u76f8\u540c\u7684\u5de5\u4f5c\u8fdb\u7a0b\uff0c\u800c\u81ea\u884c\u901a\u8fc7 child_process \u6765\u521b\u5efa\u5de5\u4f5c\u8fdb\u7a0b\uff0c\u4e00\u4e2a\u4e3b\u8fdb\u7a0b\u53ef\u4ee5\u63a7\u5236\u591a\u7ec4\u8fdb\u7a0b\u3002\u539f\u56e0\u662f child_process \u64cd\u4f5c\u5b50\u8fdb\u7a0b\u65f6\uff0c\u53ef\u4ee5\u9690\u5f0f\u7684\u521b\u5efa\u591a\u4e2a TCP \u670d\u52a1\u5668\uff0c\u5bf9\u6bd4\u4e0a\u9762\u7684\u4e24\u5e45\u56fe\u5e94\u8be5\u80fd\u7406\u89e3\u6211\u8bf4\u7684\u5185\u5bb9\u3002</p> <p>Node.js \u8fdb\u7a0b\u901a\u4fe1\u539f\u7406</p> <p>\u524d\u9762\u8bb2\u89e3\u7684\u65e0\u8bba\u662f child_process \u6a21\u5757\uff0c\u8fd8\u662f cluster \u6a21\u5757\uff0c\u90fd\u9700\u8981\u4e3b\u8fdb\u7a0b\u548c\u5de5\u4f5c\u8fdb\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1\u3002\u901a\u8fc7 fork()\u6216\u8005\u5176\u4ed6 API\uff0c\u521b\u5efa\u4e86\u5b50\u8fdb\u7a0b\u4e4b\u540e\uff0c\u4e3a\u4e86\u5b9e\u73b0\u7236\u5b50\u8fdb\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u7236\u5b50\u8fdb\u7a0b\u4e4b\u95f4\u624d\u80fd\u901a\u8fc7 message \u548c send()\u4f20\u9012\u4fe1\u606f\u3002</p> <p>IPC \u8fd9\u4e2a\u8bcd\u6211\u60f3\u5927\u5bb6\u5e76\u4e0d\u964c\u751f\uff0c\u4e0d\u7ba1\u90a3\u4e00\u5f20\u5f00\u53d1\u8bed\u8a00\u53ea\u8981\u63d0\u5230\u8fdb\u7a0b\u901a\u4fe1\uff0c\u90fd\u4f1a\u63d0\u5230\u5b83\u3002IPC \u7684\u5168\u79f0\u662f Inter-Process Communication,\u5373\u8fdb\u7a0b\u95f4\u901a\u4fe1\u3002\u5b83\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u8ba9\u4e0d\u540c\u7684\u8fdb\u7a0b\u80fd\u591f\u4e92\u76f8\u8bbf\u95ee\u8d44\u6e90\u5e76\u8fdb\u884c\u534f\u8c03\u5de5\u4f5c\u3002\u5b9e\u73b0\u8fdb\u7a0b\u95f4\u901a\u4fe1\u7684\u6280\u672f\u6709\u5f88\u591a\uff0c\u5982\u547d\u540d\u7ba1\u9053\uff0c\u533f\u540d\u7ba1\u9053\uff0csocket\uff0c\u4fe1\u53f7\u91cf\uff0c\u5171\u4eab\u5185\u5b58\uff0c\u6d88\u606f\u961f\u5217\u7b49\u3002Node \u4e2d\u5b9e\u73b0 IPC \u901a\u9053\u662f\u4f9d\u8d56\u4e8e libuv\u3002windows \u4e0b\u7531\u547d\u540d\u7ba1\u9053(name pipe)\u5b9e\u73b0\uff0c*nix \u7cfb\u7edf\u5219\u91c7\u7528 Unix Domain Socket \u5b9e\u73b0\u3002\u8868\u73b0\u5728\u5e94\u7528\u5c42\u4e0a\u7684\u8fdb\u7a0b\u95f4\u901a\u4fe1\u53ea\u6709\u7b80\u5355\u7684 message \u4e8b\u4ef6\u548c send()\u65b9\u6cd5\uff0c\u63a5\u53e3\u5341\u5206\u7b80\u6d01\u548c\u6d88\u606f\u5316\u3002</p> <p>IPC \u521b\u5efa\u548c\u5b9e\u73b0\u793a\u610f\u56fe</p> <p></p> <p>IPC \u901a\u4fe1\u7ba1\u9053\u662f\u5982\u4f55\u521b\u5efa\u7684</p> <p></p> <p>\u7236\u8fdb\u7a0b\u5728\u5b9e\u9645\u521b\u5efa\u5b50\u8fdb\u7a0b\u4e4b\u524d\uff0c\u4f1a\u521b\u5efa<code>IPC\u901a\u9053</code>\u5e76\u76d1\u542c\u5b83\uff0c\u7136\u540e\u624d<code>\u771f\u6b63\u7684</code>\u521b\u5efa\u51fa<code>\u5b50\u8fdb\u7a0b</code>\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u4e5f\u4f1a\u901a\u8fc7\u73af\u5883\u53d8\u91cf\uff08NODE_CHANNEL_FD\uff09\u544a\u8bc9\u5b50\u8fdb\u7a0b\u8fd9\u4e2a IPC \u901a\u9053\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u3002\u5b50\u8fdb\u7a0b\u5728\u542f\u52a8\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6839\u636e\u6587\u4ef6\u63cf\u8ff0\u7b26\u53bb\u8fde\u63a5\u8fd9\u4e2a\u5df2\u5b58\u5728\u7684 IPC \u901a\u9053\uff0c\u4ece\u800c\u5b8c\u6210\u7236\u5b50\u8fdb\u7a0b\u4e4b\u95f4\u7684\u8fde\u63a5\u3002</p> <p>Node.js \u53e5\u67c4\u4f20\u9012</p> <p>\u8bb2\u53e5\u67c4\u4e4b\u524d\uff0c\u5148\u60f3\u4e00\u4e2a\u95ee\u9898\uff0csend \u53e5\u67c4\u53d1\u9001\u7684\u65f6\u5019\uff0c\u771f\u7684\u662f\u5c06\u670d\u52a1\u5668\u5bf9\u8c61\u53d1\u9001\u7ed9\u4e86\u5b50\u8fdb\u7a0b\uff1f</p> <p>\u5b50\u8fdb\u7a0b\u5bf9\u8c61 send()\u65b9\u6cd5\u53ef\u4ee5\u53d1\u9001\u7684\u53e5\u67c4\u7c7b\u578b</p> <ul> <li>net.Socket TCP \u5957\u63a5\u5b57</li> <li>net.Server TCP \u670d\u52a1\u5668\uff0c\u4efb\u610f\u5efa\u7acb\u5728 TCP \u670d\u52a1\u4e0a\u7684\u5e94\u7528\u5c42\u670d\u52a1\u90fd\u53ef\u4ee5\u4eab\u53d7\u5b83\u5e26\u6765\u7684\u597d\u5904</li> <li>net.Native C++\u5c42\u9762\u7684 TCP \u5957\u63a5\u5b57\u6216 IPC \u7ba1\u9053</li> <li>dgram.Socket UDP \u5957\u63a5\u5b57</li> <li>dgram.Native C++\u5c42\u9762\u7684 UDP \u5957\u63a5\u5b57</li> </ul> <p>send \u53e5\u67c4\u53d1\u9001\u539f\u7406\u5206\u6790</p> <p>\u7ed3\u5408\u53e5\u67c4\u7684\u53d1\u9001\u4e0e\u8fd8\u539f\u793a\u610f\u56fe\u66f4\u5bb9\u6613\u7406\u89e3\u3002</p> <p></p> <p><code>send()</code>\u65b9\u6cd5\u5728\u5c06\u6d88\u606f\u53d1\u9001\u5230 IPC \u7ba1\u9053\u524d\uff0c\u5b9e\u9645\u5c06\u6d88\u606f\u7ec4\u88c5\u6210\u4e86\u4e24\u4e2a\u5bf9\u8c61\uff0c\u4e00\u4e2a\u53c2\u6570\u662f hadler\uff0c\u53e6\u4e00\u4e2a\u662f message\u3002message \u53c2\u6570\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>{\n    cmd:'NODE_HANDLE',\n    type:'net.Server',\n    msg:message\n}\n</code></pre> <p>\u53d1\u9001\u5230 IPC \u7ba1\u9053\u4e2d\u7684\u5b9e\u9645\u4e0a\u662f\u6211\u4eec\u8981\u53d1\u9001\u7684\u53e5\u67c4\u6587\u4ef6\u63cf\u8ff0\u7b26\u3002\u8fd9\u4e2a message \u5bf9\u8c61\u5728\u5199\u5165\u5230 IPC \u7ba1\u9053\u65f6\uff0c\u4e5f\u4f1a\u901a\u8fc7<code>JSON.stringfy()</code>\u8fdb\u884c\u5e8f\u5217\u5316\u3002\u6240\u4ee5\u6700\u7ec8\u53d1\u9001\u5230 IPC \u901a\u9053\u4e2d\u7684\u4fe1\u606f\u90fd\u662f\u5b57\u7b26\u4e32\uff0csend()\u65b9\u6cd5\u80fd\u53d1\u9001\u6d88\u606f\u548c\u53e5\u67c4\u5e76\u4e0d\u610f\u5473\u7740\u5b83\u80fd\u53d1\u9001\u4efb\u4f55\u5bf9\u8c61\u3002</p> <p>\u8fde\u63a5\u4e86 IPC \u901a\u9053\u7684\u5b50\u7ebf\u7a0b\u53ef\u4ee5\u8bfb\u53d6\u7236\u8fdb\u7a0b\u53d1\u6765\u7684\u6d88\u606f\uff0c\u5c06\u5b57\u7b26\u4e32\u901a\u8fc7 JSON.parse()\u89e3\u6790\u8fd8\u539f\u4e3a\u5bf9\u8c61\u540e\uff0c\u624d\u89e6\u53d1 message \u4e8b\u4ef6\u5c06\u6d88\u606f\u4f20\u9012\u7ed9\u5e94\u7528\u5c42\u4f7f\u7528\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u6d88\u606f\u5bf9\u8c61\u8fd8\u8981\u88ab\u8fdb\u884c\u8fc7\u6ee4\u5904\u7406\uff0cmessage.cmd \u7684\u503c\u5982\u679c\u4ee5 NODE_\u4e3a\u524d\u7f00\uff0c\u5b83\u5c06\u54cd\u5e94\u4e00\u4e2a\u5185\u90e8\u4e8b\u4ef6 internalMessage\uff0c\u5982\u679c message.cmd \u503c\u4e3a NODE_HANDLE,\u5b83\u5c06\u53d6\u51fa<code>message.type</code>\u503c\u548c\u5f97\u5230\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u4e00\u8d77\u8fd8\u539f\u51fa\u4e00\u4e2a\u5bf9\u5e94\u7684\u5bf9\u8c61\u3002</p> <p>\u4ee5\u53d1\u9001\u7684 TCP \u670d\u52a1\u5668\u53e5\u67c4\u4e3a\u4f8b\uff0c\u5b50\u8fdb\u7a0b\u6536\u5230\u6d88\u606f\u540e\u7684\u8fd8\u539f\u8fc7\u7a0b\u4ee3\u7801\u5982\u4e0b:</p> <pre><code>function(message,handle,emit){\n    var self = this;\n\n    var server = new net.Server();\n    server.listen(handler,function(){\n      emit(server);\n    });\n}\n</code></pre> <p>\u8fd9\u6bb5\u8fd8\u539f\u4ee3\u7801\uff0c<code>\u5b50\u8fdb\u7a0b\u6839\u636emessage.type\u521b\u5efa\u5bf9\u5e94\u7684TCP\u670d\u52a1\u5668\u5bf9\u8c61\uff0c\u7136\u540e\u76d1\u542c\u5230\u6587\u4ef6\u63cf\u8ff0\u7b26\u4e0a</code>\u3002\u7531\u4e8e\u5e95\u5c42\u7ec6\u8282\u4e0d\u88ab\u5e94\u7528\u5c42\u611f\u77e5\uff0c\u6240\u4ee5\u5b50\u8fdb\u7a0b\u4e2d\uff0c\u5f00\u53d1\u8005\u4f1a\u6709\u4e00\u79cd\u670d\u52a1\u5668\u5bf9\u8c61\u5c31\u662f\u4ece\u7236\u8fdb\u7a0b\u4e2d\u76f4\u63a5\u4f20\u9012\u8fc7\u6765\u7684\u9519\u89c9\u3002</p> <p>Node \u8fdb\u7a0b\u4e4b\u95f4\u53ea\u6709\u6d88\u606f\u4f20\u9012\uff0c\u4e0d\u4f1a\u771f\u6b63\u7684\u4f20\u9012\u5bf9\u8c61\uff0c\u8fd9\u79cd\u9519\u89c9\u662f\u62bd\u8c61\u5c01\u88c5\u7684\u7ed3\u679c\u3002\u76ee\u524d Node \u53ea\u652f\u6301\u6211\u524d\u9762\u63d0\u5230\u7684\u51e0\u79cd\u53e5\u67c4\uff0c\u5e76\u975e\u4efb\u610f\u7c7b\u578b\u7684\u53e5\u67c4\u90fd\u80fd\u5728\u8fdb\u7a0b\u4e4b\u95f4\u4f20\u9012\uff0c\u9664\u975e\u5b83\u6709\u5b8c\u6574\u7684\u53d1\u9001\u548c\u8fd8\u539f\u7684\u8fc7\u7a0b\u3002</p> <p>Node.js \u591a\u8fdb\u7a0b\u67b6\u6784\u6a21\u578b</p> <p>\u6211\u4eec\u81ea\u5df1\u5b9e\u73b0\u4e00\u4e2a\u591a\u8fdb\u7a0b\u67b6\u6784\u5b88\u62a4 Demo</p> <p></p> <p>\u7f16\u5199\u4e3b\u8fdb\u7a0b</p> <p>master.js \u4e3b\u8981\u5904\u7406\u4ee5\u4e0b\u903b\u8f91\uff1a</p> <ul> <li>\u521b\u5efa\u4e00\u4e2a server \u5e76\u76d1\u542c 3000 \u7aef\u53e3\u3002</li> <li>\u6839\u636e\u7cfb\u7edf cpus \u5f00\u542f\u591a\u4e2a\u5b50\u8fdb\u7a0b</li> <li>\u901a\u8fc7\u5b50\u8fdb\u7a0b\u5bf9\u8c61\u7684 send \u65b9\u6cd5\u53d1\u9001\u6d88\u606f\u5230\u5b50\u8fdb\u7a0b\u8fdb\u884c\u901a\u4fe1</li> <li>\u5728\u4e3b\u8fdb\u7a0b\u4e2d\u76d1\u542c\u4e86\u5b50\u8fdb\u7a0b\u7684\u53d8\u5316\uff0c\u5982\u679c\u662f\u81ea\u6740\u4fe1\u53f7\u91cd\u65b0\u542f\u52a8\u4e00\u4e2a\u5de5\u4f5c\u8fdb\u7a0b\u3002</li> <li>\u4e3b\u8fdb\u7a0b\u5728\u76d1\u542c\u5230\u9000\u51fa\u6d88\u606f\u7684\u65f6\u5019\uff0c\u5148\u9000\u51fa\u5b50\u8fdb\u7a0b\u5728\u9000\u51fa\u4e3b\u8fdb\u7a0b</li> </ul> <pre><code>// master.js\nconst fork = require(\"child_process\").fork;\nconst cpus = require(\"os\").cpus();\n\nconst server = require(\"net\").createServer();\nserver.listen(3000);\nprocess.title = \"node-master\";\n\nconst workers = {};\nconst createWorker = () =&gt; {\n  const worker = fork(\"worker.js\");\n  worker.on(\"message\", function (message) {\n    if (message.act === \"suicide\") {\n      createWorker();\n    }\n  });\n  worker.on(\"exit\", function (code, signal) {\n    console.log(\"worker process exited, code: %s signal: %s\", code, signal);\n    delete workers[worker.pid];\n  });\n  worker.send(\"server\", server);\n  workers[worker.pid] = worker;\n  console.log(\n    \"worker process created, pid: %s ppid: %s\",\n    worker.pid,\n    process.pid\n  );\n};\n\nfor (let i = 0; i &lt; cpus.length; i++) {\n  createWorker();\n}\n\nprocess.once(\"SIGINT\", close.bind(this, \"SIGINT\")); // kill(2) Ctrl-C\nprocess.once(\"SIGQUIT\", close.bind(this, \"SIGQUIT\")); // kill(3) Ctrl-\\\nprocess.once(\"SIGTERM\", close.bind(this, \"SIGTERM\")); // kill(15) default\nprocess.once(\"exit\", close.bind(this));\n\nfunction close(code) {\n  console.log(\"\u8fdb\u7a0b\u9000\u51fa\uff01\", code);\n\n  if (code !== 0) {\n    for (let pid in workers) {\n      console.log(\"master process exited, kill worker pid: \", pid);\n      workers[pid].kill(\"SIGINT\");\n    }\n  }\n\n  process.exit(0);\n}\n</code></pre> <p>\u5de5\u4f5c\u8fdb\u7a0b</p> <p>worker.js \u5b50\u8fdb\u7a0b\u5904\u7406\u903b\u8f91\u5982\u4e0b\uff1a</p> <ul> <li>\u521b\u5efa\u4e00\u4e2a server \u5bf9\u8c61\uff0c\u6ce8\u610f\u8fd9\u91cc\u6700\u5f00\u59cb\u5e76\u6ca1\u6709\u76d1\u542c 3000 \u7aef\u53e3</li> <li>\u901a\u8fc7 message \u4e8b\u4ef6\u63a5\u6536\u4e3b\u8fdb\u7a0b send \u65b9\u6cd5\u53d1\u9001\u7684\u6d88\u606f</li> <li>\u76d1\u542c uncaughtException \u4e8b\u4ef6\uff0c\u6355\u83b7\u672a\u5904\u7406\u7684\u5f02\u5e38\uff0c\u53d1\u9001\u81ea\u6740\u4fe1\u606f\u7531\u4e3b\u8fdb\u7a0b\u91cd\u5efa\u8fdb\u7a0b\uff0c\u5b50\u8fdb\u7a0b\u5728\u94fe\u63a5\u5173\u95ed\u4e4b\u540e\u9000\u51fa</li> </ul> <pre><code>// worker.js\nconst http = require(\"http\");\nconst server = http.createServer((req, res) =&gt; {\n  res.writeHead(200, {\n    \"Content-Type\": \"text/plan\",\n  });\n  res.end(\"I am worker, pid: \" + process.pid + \", ppid: \" + process.ppid);\n  throw new Error(\"worker process exception!\"); // \u6d4b\u8bd5\u5f02\u5e38\u8fdb\u7a0b\u9000\u51fa\u3001\u91cd\u542f\n});\n\nlet worker;\nprocess.title = \"node-worker\";\nprocess.on(\"message\", function (message, sendHandle) {\n  if (message === \"server\") {\n    worker = sendHandle;\n    worker.on(\"connection\", function (socket) {\n      server.emit(\"connection\", socket);\n    });\n  }\n});\n\nprocess.on(\"uncaughtException\", function (err) {\n  console.log(err);\n  process.send({ act: \"suicide\" });\n  worker.close(function () {\n    process.exit(1);\n  });\n});\n</code></pre> <p>Node.js \u8fdb\u7a0b\u5b88\u62a4</p> <p>\u4ec0\u4e48\u662f\u8fdb\u7a0b\u5b88\u62a4\uff1f</p> <p>\u6bcf\u6b21\u542f\u52a8 Node.js \u7a0b\u5e8f\u90fd\u9700\u8981\u5728\u547d\u4ee4\u7a97\u53e3\u8f93\u5165\u547d\u4ee4 <code>node app.js</code> \u624d\u80fd\u542f\u52a8\uff0c\u4f46\u5982\u679c\u628a\u547d\u4ee4\u7a97\u53e3\u5173\u95ed\u5219 Node.js \u7a0b\u5e8f\u670d\u52a1\u5c31\u4f1a\u7acb\u523b\u65ad\u6389\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u5f53\u6211\u4eec\u8fd9\u4e2a Node.js \u670d\u52a1\u610f\u5916\u5d29\u6e83\u4e86\u5c31\u4e0d\u80fd\u81ea\u52a8\u91cd\u542f\u8fdb\u7a0b\u4e86\u3002\u8fd9\u4e9b\u73b0\u8c61\u90fd\u4e0d\u662f\u6211\u4eec\u60f3\u8981\u770b\u5230\u7684\uff0c\u6240\u4ee5\u9700\u8981\u901a\u8fc7\u67d0\u4e9b\u65b9\u5f0f\u6765\u5b88\u62a4\u8fd9\u4e2a\u5f00\u542f\u7684\u8fdb\u7a0b\uff0c\u6267\u884c node app.js \u5f00\u542f\u4e00\u4e2a\u670d\u52a1\u8fdb\u7a0b\u4e4b\u540e\uff0c\u6211\u8fd8\u53ef\u4ee5\u5728\u8fd9\u4e2a\u7ec8\u7aef\u4e0a\u505a\u4e9b\u522b\u7684\u4e8b\u60c5\uff0c\u4e14\u4e0d\u4f1a\u76f8\u4e92\u5f71\u54cd\u3002\uff0c\u5f53\u51fa\u73b0\u95ee\u9898\u53ef\u4ee5\u81ea\u52a8\u91cd\u542f\u3002</p> <p>\u5982\u4f55\u5b9e\u73b0\u8fdb\u7a0b\u5b88\u62a4</p> <p>\u8fd9\u91cc\u6211\u53ea\u8bf4\u4e00\u4e9b\u7b2c\u4e09\u65b9\u7684\u8fdb\u7a0b\u5b88\u62a4\u6846\u67b6\uff0cpm2 \u548c forever \uff0c\u5b83\u4eec\u90fd\u53ef\u4ee5\u5b9e\u73b0\u8fdb\u7a0b\u5b88\u62a4\uff0c\u5e95\u5c42\u4e5f\u90fd\u662f\u901a\u8fc7\u4e0a\u9762\u8bb2\u7684 child_process \u6a21\u5757\u548c cluster \u6a21\u5757 \u5b9e\u73b0\u7684\uff0c\u8fd9\u91cc\u5c31\u4e0d\u518d\u63d0\u5b83\u4eec\u7684\u539f\u7406\u3002</p> <p>pm2 \u6307\u5b9a\u751f\u4ea7\u73af\u5883\u542f\u52a8\u4e00\u4e2a\u540d\u4e3a test \u7684 node \u670d\u52a1</p> <pre><code>pm2 start app.js --env production --name test\n</code></pre> <p>pm2 \u5e38\u7528 api</p> <ul> <li><code>pm2 stop Name/processID</code> \u505c\u6b62\u67d0\u4e2a\u670d\u52a1\uff0c\u901a\u8fc7\u670d\u52a1\u540d\u79f0\u6216\u8005\u670d\u52a1\u8fdb\u7a0b ID</li> <li><code>pm2 delete Name/processID</code> \u5220\u9664\u67d0\u4e2a\u670d\u52a1\uff0c\u901a\u8fc7\u670d\u52a1\u540d\u79f0\u6216\u8005\u670d\u52a1\u8fdb\u7a0b ID</li> <li><code>pm2 logs [Name]</code> \u67e5\u770b\u65e5\u5fd7\uff0c\u5982\u679c\u6dfb\u52a0\u670d\u52a1\u540d\u79f0\uff0c\u5219\u6307\u5b9a\u67e5\u770b\u67d0\u4e2a\u670d\u52a1\u7684\u65e5\u5fd7\uff0c\u4e0d\u52a0\u5219\u67e5\u770b\u6240\u6709\u65e5\u5fd7</li> <li><code>pm2 start app.js -i 4</code> \u96c6\u7fa4\uff0c-i \u53c2\u6570\u7528\u6765\u544a\u8bc9 PM2 \u4ee5 cluster_mode \u7684\u5f62\u5f0f\u8fd0\u884c\u4f60\u7684 app\uff08\u5bf9\u5e94\u7684\u53eb fork_mode\uff09\uff0c\u540e\u9762\u7684\u6570\u5b57\u8868\u793a\u8981\u542f\u52a8\u7684\u5de5\u4f5c\u7ebf\u7a0b\u7684\u6570\u91cf\u3002\u5982\u679c\u7ed9\u5b9a\u7684\u6570\u5b57\u4e3a 0\uff0cPM2 \u5219\u4f1a\u6839\u636e\u4f60 CPU \u6838\u5fc3\u7684\u6570\u91cf\u6765\u751f\u6210\u5bf9\u5e94\u7684\u5de5\u4f5c\u7ebf\u7a0b\u3002\u6ce8\u610f\u4e00\u822c\u5728\u751f\u4ea7\u73af\u5883\u4f7f\u7528 cluster_mode \u6a21\u5f0f\uff0c\u6d4b\u8bd5\u6216\u8005\u672c\u5730\u73af\u5883\u4e00\u822c\u4f7f\u7528 fork \u6a21\u5f0f\uff0c\u65b9\u4fbf\u6d4b\u8bd5\u5230\u9519\u8bef\u3002</li> <li><code>pm2 reload Name pm2 restart Name</code> \u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u6709\u66f4\u65b0\uff0c\u53ef\u4ee5\u7528\u91cd\u8f7d\u6765\u52a0\u8f7d\u65b0\u4ee3\u7801\uff0c\u4e5f\u53ef\u4ee5\u7528\u91cd\u542f\u6765\u5b8c\u6210,reload \u53ef\u4ee5\u505a\u5230 0 \u79d2\u5b95\u673a\u52a0\u8f7d\u65b0\u7684\u4ee3\u7801\uff0crestart \u5219\u662f\u91cd\u65b0\u542f\u52a8\uff0c\u751f\u4ea7\u73af\u5883\u4e2d\u591a\u7528 reload \u6765\u5b8c\u6210\u4ee3\u7801\u66f4\u65b0\uff01</li> <li><code>pm2 show Name</code> \u67e5\u770b\u670d\u52a1\u8be6\u60c5</li> <li><code>pm2 list</code> \u67e5\u770b pm2 \u4e2d\u6240\u6709\u9879\u76ee</li> <li><code>pm2 monit</code>\u7528 monit \u53ef\u4ee5\u6253\u5f00\u5b9e\u65f6\u76d1\u89c6\u5668\u53bb\u67e5\u770b\u8d44\u6e90\u5360\u7528\u60c5\u51b5</li> </ul> <p>pm2 \u5b98\u7f51\u5730\u5740\uff1a</p> <p>http://pm2.keymetrics.io/docs/usage/quick-start/</p> <p>forever \u5c31\u4e0d\u7279\u6b8a\u8bf4\u660e\u4e86\uff0c\u5b98\u7f51\u5730\u5740</p> <p>https://github.com/foreverjs/forever</p> <p>\u6ce8\u610f\uff1a\u4e8c\u8005\u66f4\u63a8\u8350 pm2\uff0c\u770b\u4e00\u4e0b\u4e8c\u8005\u5bf9\u6bd4\u5c31\u77e5\u9053\u6211\u4e3a\u4ec0\u4e48\u66f4\u63a8\u8350\u4f7f\u7528 pm2 \u4e86\u3002https://www.jianshu.com/p/fdc12d82b661</p> <p>linux \u5173\u95ed\u4e00\u4e2a\u8fdb\u7a0b</p> <ul> <li>\u67e5\u627e\u4e0e\u8fdb\u7a0b\u76f8\u5173\u7684 PID \u53f7   ps aux | grep server   \u8bf4\u660e:</li> </ul> <pre><code>root     20158  0.0  5.0 1251592 95396 ?       Sl   5\u670817   1:19 node /srv/mini-program-api/launch_pm2.js\n</code></pre> <p>\u4e0a\u9762\u662f\u6267\u884c\u547d\u4ee4\u540e\u5728 linux \u4e2d\u663e\u793a\u7684\u7ed3\u679c\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5c31\u662f\u8fdb\u7a0b\u5bf9\u5e94\u7684 PID</p> <ul> <li> <p>\u6740\u6b7b\u8fdb\u7a0b</p> </li> <li> <p>\u4ee5\u4f18\u96c5\u7684\u65b9\u5f0f\u7ed3\u675f\u8fdb\u7a0b    kill -l PID    -l \u9009\u9879\u544a\u8bc9 kill \u547d\u4ee4\u7528\u597d\u50cf\u542f\u52a8\u8fdb\u7a0b\u7684\u7528\u6237\u5df2\u6ce8\u9500\u7684\u65b9\u5f0f\u7ed3\u675f\u8fdb\u7a0b\u3002    \u5f53\u4f7f\u7528\u8be5\u9009\u9879\u65f6\uff0ckill \u547d\u4ee4\u4e5f\u8bd5\u56fe\u6740\u6b7b\u6240\u7559\u4e0b\u7684\u5b50\u8fdb\u7a0b\u3002    \u4f46\u8fd9\u4e2a\u547d\u4ee4\u4e5f\u4e0d\u662f\u603b\u80fd\u6210\u529f\u2013\u6216\u8bb8\u4ecd\u7136\u9700\u8981\u5148\u624b\u5de5\u6740\u6b7b\u5b50\u8fdb\u7a0b\uff0c\u7136\u540e\u518d\u6740\u6b7b\u7236\u8fdb\u7a0b\u3002</p> </li> <li>kill \u547d\u4ee4\u7528\u4e8e\u7ec8\u6b62\u8fdb\u7a0b</li> </ul> <pre><code>\u4f8b\u5982\uff1a `kill -9 [PID]`\n</code></pre> <p>-9 \u8868\u793a\u5f3a\u8feb\u8fdb\u7a0b\u7acb\u5373\u505c\u6b62</p> <p>\u8fd9\u4e2a\u5f3a\u5927\u548c\u5371\u9669\u7684\u547d\u4ee4\u8feb\u4f7f\u8fdb\u7a0b\u5728\u8fd0\u884c\u65f6\u7a81\u7136\u7ec8\u6b62\uff0c\u8fdb\u7a0b\u5728\u7ed3\u675f\u540e\u4e0d\u80fd\u81ea\u6211\u6e05\u7406\u3002 \u5371\u5bb3\u662f\u5bfc\u81f4\u7cfb\u7edf\u8d44\u6e90\u65e0\u6cd5\u6b63\u5e38\u91ca\u653e\uff0c\u4e00\u822c\u4e0d\u63a8\u8350\u4f7f\u7528\uff0c\u9664\u975e\u5176\u4ed6\u529e\u6cd5\u90fd\u65e0\u6548\u3002 \u5f53\u4f7f\u7528\u6b64\u547d\u4ee4\u65f6\uff0c\u4e00\u5b9a\u8981\u901a\u8fc7 ps -ef \u786e\u8ba4\u6ca1\u6709\u5269\u4e0b\u4efb\u4f55\u50f5\u5c38\u8fdb\u7a0b\u3002 \u53ea\u80fd\u901a\u8fc7\u7ec8\u6b62\u7236\u8fdb\u7a0b\u6765\u6d88\u9664\u50f5\u5c38\u8fdb\u7a0b\u3002\u5982\u679c\u50f5\u5c38\u8fdb\u7a0b\u88ab init \u6536\u517b\uff0c\u95ee\u9898\u5c31\u6bd4\u8f83\u4e25\u91cd\u4e86\u3002 \u6740\u6b7b init \u8fdb\u7a0b\u610f\u5473\u7740\u5173\u95ed\u7cfb\u7edf\u3002 \u5982\u679c\u7cfb\u7edf\u4e2d\u6709\u50f5\u5c38\u8fdb\u7a0b\uff0c\u5e76\u4e14\u5176\u7236\u8fdb\u7a0b\u662f init\uff0c \u800c\u4e14\u50f5\u5c38\u8fdb\u7a0b\u5360\u7528\u4e86\u5927\u91cf\u7684\u7cfb\u7edf\u8d44\u6e90\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u5728\u67d0\u4e2a\u65f6\u5019\u91cd\u542f\u673a\u5668\u4ee5\u6e05\u9664\u8fdb\u7a0b\u8868\u4e86\u3002</p> <ol> <li>killall \u547d\u4ee4    \u6740\u6b7b\u540c\u4e00\u8fdb\u7a0b\u7ec4\u5185\u7684\u6240\u6709\u8fdb\u7a0b\u3002\u5176\u5141\u8bb8\u6307\u5b9a\u8981\u7ec8\u6b62\u7684\u8fdb\u7a0b\u7684\u540d\u79f0\uff0c\u800c\u975e PID\u3002    <code>killall httpd</code></li> </ol> <p>Node.js \u7ebf\u7a0b</p> <p>Node.js \u5173\u4e8e\u5355\u7ebf\u7a0b\u7684\u8bef\u533a</p> <pre><code>const http = require(\"http\");\n\nconst server = http.createServer();\nserver.listen(3000, () =&gt; {\n  process.title = \"\u7a0b\u5e8f\u5458\u6210\u957f\u6307\u5317\u6d4b\u8bd5\u8fdb\u7a0b\";\n  console.log(\"\u8fdb\u7a0bid\", process.pid);\n});\n</code></pre> <p>\u4ecd\u7136\u770b\u672c\u6587\u7b2c\u4e00\u6bb5\u4ee3\u7801\uff0c\u521b\u5efa\u4e86 http \u670d\u52a1\uff0c\u5f00\u542f\u4e86\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u90fd\u8bf4\u4e86 Node.js \u662f\u5355\u7ebf\u7a0b\uff0c\u6240\u4ee5 Node \u542f\u52a8\u540e\u7ebf\u7a0b\u6570\u5e94\u8be5\u4e3a 1\uff0c\u4f46\u662f\u4e3a\u4ec0\u4e48\u4f1a\u5f00\u542f 7 \u4e2a\u7ebf\u7a0b\u5462\uff1f\u96be\u9053 Javascript \u4e0d\u662f\u5355\u7ebf\u7a0b\u4e0d\u77e5\u9053\u5c0f\u4f19\u4f34\u4eec\u6709\u6ca1\u6709\u8fd9\u4e2a\u7591\u95ee\uff1f</p> <p>\u89e3\u91ca\u4e00\u4e0b\u8fd9\u4e2a\u539f\u56e0\uff1a</p> <p>Node \u4e2d\u6700\u6838\u5fc3\u7684\u662f v8 \u5f15\u64ce\uff0c\u5728 Node \u542f\u52a8\u540e\uff0c\u4f1a\u521b\u5efa v8 \u7684\u5b9e\u4f8b\uff0c\u8fd9\u4e2a\u5b9e\u4f8b\u662f\u591a\u7ebf\u7a0b\u7684\u3002</p> <ul> <li>\u4e3b\u7ebf\u7a0b\uff1a\u7f16\u8bd1\u3001\u6267\u884c\u4ee3\u7801\u3002</li> <li>\u7f16\u8bd1/\u4f18\u5316\u7ebf\u7a0b\uff1a\u5728\u4e3b\u7ebf\u7a0b\u6267\u884c\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4f18\u5316\u4ee3\u7801\u3002</li> <li>\u5206\u6790\u5668\u7ebf\u7a0b\uff1a\u8bb0\u5f55\u5206\u6790\u4ee3\u7801\u8fd0\u884c\u65f6\u95f4\uff0c\u4e3a Crankshaft \u4f18\u5316\u4ee3\u7801\u6267\u884c\u63d0\u4f9b\u4f9d\u636e\u3002</li> <li>\u5783\u573e\u56de\u6536\u7684\u51e0\u4e2a\u7ebf\u7a0b\u3002</li> </ul> <p>\u6240\u4ee5\u5927\u5bb6\u5e38\u8bf4\u7684 Node \u662f\u5355\u7ebf\u7a0b\u7684\u6307\u7684\u662f JavaScript \u7684\u6267\u884c\u662f\u5355\u7ebf\u7a0b\u7684(\u5f00\u53d1\u8005\u7f16\u5199\u7684\u4ee3\u7801\u8fd0\u884c\u5728\u5355\u7ebf\u7a0b\u73af\u5883\u4e2d)\uff0c\u4f46 Javascript \u7684\u5bbf\u4e3b\u73af\u5883\uff0c\u65e0\u8bba\u662f Node \u8fd8\u662f\u6d4f\u89c8\u5668\u90fd\u662f\u591a\u7ebf\u7a0b\u7684\u56e0\u4e3a libuv \u4e2d\u6709\u7ebf\u7a0b\u6c60\u7684\u6982\u5ff5\u5b58\u5728\u7684\uff0clibuv \u4f1a\u901a\u8fc7\u7c7b\u4f3c\u7ebf\u7a0b\u6c60\u7684\u5b9e\u73b0\u6765\u6a21\u62df\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u7684\u5f02\u6b65\u8c03\u7528\uff0c\u8fd9\u5bf9\u5f00\u53d1\u8005\u6765\u8bf4\u662f\u4e0d\u53ef\u89c1\u7684\u3002</p> <p>\u67d0\u4e9b\u5f02\u6b65 IO \u4f1a\u5360\u7528\u989d\u5916\u7684\u7ebf\u7a0b</p> <p>\u8fd8\u662f\u4e0a\u9762\u90a3\u4e2a\u4f8b\u5b50\uff0c\u6211\u4eec\u5728\u5b9a\u65f6\u5668\u6267\u884c\u7684\u540c\u65f6\uff0c\u53bb\u8bfb\u4e00\u4e2a\u6587\u4ef6\uff1a</p> <pre><code>const fs = require(\"fs\");\nsetInterval(() =&gt; {\n  console.log(new Date().getTime());\n}, 3000);\n\nfs.readFile(\"./index.html\", () =&gt; {});\n</code></pre> <p>\u7ebf\u7a0b\u6570\u91cf\u53d8\u6210\u4e86 11 \u4e2a\uff0c\u8fd9\u662f\u56e0\u4e3a\u5728 Node \u4e2d\u6709\u4e00\u4e9b IO \u64cd\u4f5c\uff08DNS\uff0cFS\uff09\u548c\u4e00\u4e9b CPU \u5bc6\u96c6\u8ba1\u7b97\uff08Zlib\uff0cCrypto\uff09\u4f1a\u542f\u7528 Node \u7684\u7ebf\u7a0b\u6c60\uff0c\u800c\u7ebf\u7a0b\u6c60\u9ed8\u8ba4\u5927\u5c0f\u4e3a 4\uff0c\u56e0\u4e3a\u7ebf\u7a0b\u6570\u53d8\u6210\u4e86 11\u3002 \u6211\u4eec\u53ef\u4ee5\u624b\u52a8\u66f4\u6539\u7ebf\u7a0b\u6c60\u9ed8\u8ba4\u5927\u5c0f\uff1a</p> <pre><code>process.env.UV_THREADPOOL_SIZE = 64;\n</code></pre> <p>\u4e00\u884c\u4ee3\u7801\u8f7b\u677e\u628a\u7ebf\u7a0b\u53d8\u6210 71\u3002</p> <p>Libuv</p> <p>Libuv \u662f\u4e00\u4e2a\u8de8\u5e73\u53f0\u7684\u5f02\u6b65 IO \u5e93\uff0c\u5b83\u7ed3\u5408\u4e86 UNIX \u4e0b\u7684 libev \u548c Windows \u4e0b\u7684 IOCP \u7684\u7279\u6027\uff0c\u6700\u65e9\u7531 Node \u7684\u4f5c\u8005\u5f00\u53d1\uff0c\u4e13\u95e8\u4e3a Node \u63d0\u4f9b\u591a\u5e73\u53f0\u4e0b\u7684\u5f02\u6b65 IO \u652f\u6301\u3002Libuv \u672c\u8eab\u662f\u7531 C++\u8bed\u8a00\u5b9e\u73b0\u7684\uff0cNode \u4e2d\u7684\u975e\u82cf\u585e IO \u4ee5\u53ca\u4e8b\u4ef6\u5faa\u73af\u7684\u5e95\u5c42\u673a\u5236\u90fd\u662f\u7531 libuv \u5b9e\u73b0\u7684\u3002</p> <p>libuv \u67b6\u6784\u56fe</p> <p></p> <p>\u5728 Window \u73af\u5883\u4e0b\uff0clibuv \u76f4\u63a5\u4f7f\u7528 Windows \u7684 IOCP \u6765\u5b9e\u73b0\u5f02\u6b65 IO\u3002\u5728\u975e Windows \u73af\u5883\u4e0b\uff0clibuv \u4f7f\u7528\u591a\u7ebf\u7a0b\u6765\u6a21\u62df\u5f02\u6b65 IO\u3002</p> <p>\u6ce8\u610f\u4e0b\u9762\u6211\u8981\u8bf4\u7684\u8bdd\uff0cNode \u7684\u5f02\u6b65\u8c03\u7528\u662f\u7531 libuv \u6765\u652f\u6301\u7684\uff0c\u4ee5\u4e0a\u9762\u7684\u8bfb\u53d6\u6587\u4ef6\u7684\u4f8b\u5b50\uff0c\u8bfb\u6587\u4ef6\u5b9e\u8d28\u7684\u7cfb\u7edf\u8c03\u7528\u662f\u7531 libuv \u6765\u5b8c\u6210\u7684\uff0cNode \u53ea\u662f\u8d1f\u8d23\u8c03\u7528 libuv \u7684\u63a5\u53e3\uff0c\u7b49\u6570\u636e\u8fd4\u56de\u540e\u518d\u6267\u884c\u5bf9\u5e94\u7684\u56de\u8c03\u65b9\u6cd5\u3002</p> <p>Node.js \u7ebf\u7a0b\u521b\u5efa</p> <p>\u76f4\u5230 Node 10.5.0 \u7684\u53d1\u5e03\uff0c\u5b98\u65b9\u624d\u7ed9\u51fa\u4e86\u4e00\u4e2a\u5b9e\u9a8c\u6027\u8d28\u7684\u6a21\u5757 worker_threads \u7ed9 Node \u63d0\u4f9b\u771f\u6b63\u7684\u591a\u7ebf\u7a0b\u80fd\u529b\u3002</p> <p>\u5148\u770b\u4e0b\u7b80\u5355\u7684 demo\uff1a</p> <pre><code>const {\n  isMainThread,\n  parentPort,\n  workerData,\n  threadId,\n  MessageChannel,\n  MessagePort,\n  Worker,\n} = require(\"worker_threads\");\n\nfunction mainThread() {\n  for (let i = 0; i &lt; 5; i++) {\n    const worker = new Worker(__filename, { workerData: i });\n    worker.on(\"exit\", (code) =&gt; {\n      console.log(`main: worker stopped with exit code ${code}`);\n    });\n    worker.on(\"message\", (msg) =&gt; {\n      console.log(`main: receive ${msg}`);\n      worker.postMessage(msg + 1);\n    });\n  }\n}\n\nfunction workerThread() {\n  console.log(`worker: workerDate ${workerData}`);\n  parentPort.on(\"message\", (msg) =&gt; {\n    console.log(`worker: receive ${msg}`);\n  }),\n    parentPort.postMessage(workerData);\n}\n\nif (isMainThread) {\n  mainThread();\n} else {\n  workerThread();\n}\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u5728\u4e3b\u7ebf\u7a0b\u4e2d\u5f00\u542f\u4e94\u4e2a\u5b50\u7ebf\u7a0b\uff0c\u5e76\u4e14\u4e3b\u7ebf\u7a0b\u5411\u5b50\u7ebf\u7a0b\u53d1\u9001\u7b80\u5355\u7684\u6d88\u606f\u3002</p> <p>\u7531\u4e8e worker_thread \u76ee\u524d\u4ecd\u7136\u5904\u4e8e\u5b9e\u9a8c\u9636\u6bb5\uff0c\u6240\u4ee5\u542f\u52a8\u65f6\u9700\u8981\u589e\u52a0 --experimental-worker flag\uff0c\u8fd0\u884c\u540e\u89c2\u5bdf\u6d3b\u52a8\u76d1\u89c6\u5668\uff0c\u5f00\u542f\u4e86 5 \u4e2a\u5b50\u7ebf\u7a0b</p> <p></p> <p>worker_thread \u6a21\u5757</p> <p>worker_thread \u6838\u5fc3\u4ee3\u7801\uff08\u5730\u5740https://github.com/nodejs/node/blob/master/lib/worker_threads.js\uff09 worker_thread \u6a21\u5757\u4e2d\u6709 4 \u4e2a\u5bf9\u8c61\u548c 2 \u4e2a\u7c7b\uff0c\u53ef\u4ee5\u81ea\u5df1\u53bb\u770b\u4e0a\u9762\u7684\u6e90\u7801\u3002</p> <ul> <li>isMainThread: \u662f\u5426\u662f\u4e3b\u7ebf\u7a0b\uff0c\u6e90\u7801\u4e2d\u662f\u901a\u8fc7 threadId === 0 \u8fdb\u884c\u5224\u65ad\u7684\u3002</li> <li>MessagePort: \u7528\u4e8e\u7ebf\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u7ee7\u627f\u81ea EventEmitter\u3002</li> <li>MessageChannel: \u7528\u4e8e\u521b\u5efa\u5f02\u6b65\u3001\u53cc\u5411\u901a\u4fe1\u7684\u901a\u9053\u5b9e\u4f8b\u3002</li> <li>threadId: \u7ebf\u7a0b ID\u3002</li> <li>Worker: \u7528\u4e8e\u5728\u4e3b\u7ebf\u7a0b\u4e2d\u521b\u5efa\u5b50\u7ebf\u7a0b\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a filename\uff0c\u8868\u793a\u5b50\u7ebf\u7a0b\u6267\u884c\u7684\u5165\u53e3\u3002</li> <li>parentPort: \u5728 worker \u7ebf\u7a0b\u91cc\u662f\u8868\u793a\u7236\u8fdb\u7a0b\u7684 MessagePort \u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u5728\u4e3b\u7ebf\u7a0b\u91cc\u4e3a null</li> <li>workerData: \u7528\u4e8e\u5728\u4e3b\u8fdb\u7a0b\u4e2d\u5411\u5b50\u8fdb\u7a0b\u4f20\u9012\u6570\u636e\uff08data \u526f\u672c\uff09</li> </ul> <p>\u603b\u7ed3</p> <p>\u591a\u8fdb\u7a0b vs \u591a\u7ebf\u7a0b</p> <p>\u5bf9\u6bd4\u4e00\u4e0b\u591a\u7ebf\u7a0b\u4e0e\u591a\u8fdb\u7a0b\uff1a</p> <p></p>"},{"location":"nodejs/fs.createReadStream/","title":"fs.createReadStream","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3080  \u9605\u8bfb7\u5206\u949f</p> <p>\u6253\u5f00\u4e00\u4e2a\u53ef\u8bfb\u7684\u6587\u4ef6\u6d41\u5e76\u4e14\u8fd4\u56de\u4e00\u4e2a fs.ReadStream \u5bf9\u8c61</p> <p>\u53c2\u6570</p> <p>createReadStream(path,option):</p> <p>@params:path \u6307\u5b9a\u6587\u4ef6\u7684\u8def\u5f84 @params:options \u53ef\u9009,\u662f\u4e00\u4e2a JS \u5bf9\u8c61\uff0c\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e9b\u9009\u9879\u5982\uff1a</p> <pre><code>let option = {\n  flags: \"r\", //\u6307\u5b9a\u7528\u4ec0\u4e48\u6a21\u5f0f\u6253\u5f00\u6587\u4ef6\uff0c\u2019w\u2019\u4ee3\u8868\u5199\uff0c\u2019r\u2019\u4ee3\u8868\u8bfb\uff0c\u7c7b\u4f3c\u7684\u8fd8\u6709\u2019r+\u2019\u3001\u2019w+\u2019\u3001\u2019a\u2019\u7b49\n  encoding: \"utf8\", //\u6307\u5b9a\u6253\u5f00\u6587\u4ef6\u65f6\u4f7f\u7528\u7f16\u7801\u683c\u5f0f\uff0c\u9ed8\u8ba4\u5c31\u662f\u201cutf8\u201d\uff0c\u4f60\u8fd8\u53ef\u4ee5\u4e3a\u5b83\u6307\u5b9a\u201dascii\u201d\u6216\u201dbase64\u201d\n  fd: null, //fd\u5c5e\u6027\u9ed8\u8ba4\u4e3anull\uff0c\u5f53\u4f60\u6307\u5b9a\u4e86\u8fd9\u4e2a\u5c5e\u6027\u65f6\uff0ccreateReadableStream\u4f1a\u6839\u636e\u4f20\u5165\u7684fd\u521b\u5efa\u4e00\u4e2a\u6d41\uff0c\u5ffd\u7565path\u3002\u53e6\u5916\u4f60\u8981\u662f\u60f3\u8bfb\u53d6\u4e00\u4e2a\u6587\u4ef6\u7684\u7279\u5b9a\u533a\u57df\uff0c\u53ef\u4ee5\u914d\u7f6estart\u3001end\u5c5e\u6027\uff0c\u6307\u5b9a\u8d77\u59cb\u548c\u7ed3\u675f\uff08\u5305\u542b\u5728\u5185\uff09\u7684\u5b57\u8282\u504f\u79fb\n  mode: 0666,\n  autoClose: true, //autoClose\u5c5e\u6027\u4e3atrue\uff08\u9ed8\u8ba4\u884c\u4e3a\uff09\u65f6\uff0c\u5f53\u53d1\u751f\u9519\u8bef\u6216\u6587\u4ef6\u8bfb\u53d6\u7ed3\u675f\u65f6\u4f1a\u81ea\u52a8\u5173\u95ed\u6587\u4ef6\u63cf\u8ff0\u7b26\n};\n</code></pre> <p>\u8fd4\u56de</p> <p>\u8fd4\u56de\u5bf9\u8c61\u5305\u542b\u4e00\u5927\u5806\u5c5e\u6027\u5e76\u4e14\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61</p> <pre><code>ReadStream {\n  _readableState:\n   ReadableState {\n     objectMode: false,\n     highWaterMark: 65536,\n     buffer: BufferList { head: null, tail: null, length: 0 },\n     length: 0,\n     pipes: null,\n     pipesCount: 0,\n     flowing: null,\n     ended: false,\n     endEmitted: false,\n     reading: false,\n     sync: true,\n     needReadable: false,\n     emittedReadable: false,\n     readableListening: false,\n     resumeScheduled: false,\n     destroyed: false,\n     defaultEncoding: 'utf8',\n     awaitDrain: 0,\n     readingMore: false,\n     decoder:\n      StringDecoder {\n        encoding: 'utf8',\n        fillLast: [Function: utf8FillLast],\n        lastNeed: 0,\n        lastTotal: 0,\n        lastChar: &lt;Buffer 00 00 00 00&gt; },\n     encoding: 'utf8' },\n  readable: true,\n  domain: null,\n  _events: { end: [Function] },\n  _eventsCount: 1,\n  _maxListeners: undefined,\n  path: './test/b.js',\n  fd: null,\n  flags: 'r',\n  mode: 438,\n  start: undefined,\n  end: undefined,\n  autoClose: true,\n  pos: undefined,\n  bytesRead: 0\n   }\n</code></pre> <p>\u5e38\u7528\u65b9\u6cd5</p> <p>\u65e2\u7136\u8be5\u51fd\u6570\u7684\u4f5c\u7528\u662f\u7528\u6765\u6253\u5f00\u4e00\u4e2a\u53ef\u8bfb\u7684\u6587\u4ef6\u6d41\uff0c\u90a3\u4e48\u6211\u5c31\u901a\u8fc7\u5199\u4e2a demo \u6765\u6d4b\u8bd5\u4e00\u4e0b\u5b83\u7684\u4f5c\u7528\uff0c\u5e76\u8bb2\u8bb2\u8be5\u51fd\u6570\u7684\u5e38\u7528\u65b9\u6cd5</p> <pre><code>const fs = require(\"fs\");\nconst path = require(\"path\");\nlet readStream = fs.createReadStream(\"./test/b.js\", { encoding: \"utf8\" });\n//console.log(readStream);\n\n//\u8bfb\u53d6\u6587\u4ef6\u53d1\u751f\u9519\u8bef\u4e8b\u4ef6\nreadStream.on(\"error\", (err) =&gt; {\n  console.log(\"\u53d1\u751f\u5f02\u5e38:\", err);\n});\n\n//\u5df2\u6253\u5f00\u8981\u8bfb\u53d6\u7684\u6587\u4ef6\u4e8b\u4ef6\nreadStream.on(\"open\", (fd) =&gt; {\n  console.log(\"\u6587\u4ef6\u5df2\u6253\u5f00:\", fd);\n});\n\n//\u6587\u4ef6\u5df2\u7ecf\u5c31\u4f4d\uff0c\u53ef\u7528\u4e8e\u8bfb\u53d6\u4e8b\u4ef6\nreadStream.on(\"ready\", () =&gt; {\n  console.log(\"\u6587\u4ef6\u5df2\u51c6\u5907\u597d..\");\n});\n\n//\u6587\u4ef6\u8bfb\u53d6\u4e2d\u4e8b\u4ef6\u00b7\u00b7\u00b7\u00b7\u00b7\nreadStream.on(\"data\", (chunk) =&gt; {\n  console.log(\"\u8bfb\u53d6\u6587\u4ef6\u6570\u636e:\", chunk);\n});\n\n//\u6587\u4ef6\u8bfb\u53d6\u5b8c\u6210\u4e8b\u4ef6\nreadStream.on(\"end\", () =&gt; {\n  console.log(\"\u8bfb\u53d6\u5df2\u5b8c\u6210..\");\n});\n\n//\u6587\u4ef6\u5df2\u5173\u95ed\u4e8b\u4ef6\nreadStream.on(\"close\", () =&gt; {\n  console.log(\"\u6587\u4ef6\u5df2\u5173\u95ed\uff01\");\n});\n</code></pre>"},{"location":"nodejs/node-debug/","title":"Node \u8c03\u8bd5\u5de5\u5177\u5165\u95e8\u6559\u7a0b","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6533  \u9605\u8bfb14\u5206\u949f</p> <p>JavaScript \u7a0b\u5e8f\u8d8a\u6765\u8d8a\u590d\u6742\uff0c\u8c03\u8bd5\u5de5\u5177\u7684\u91cd\u8981\u6027\u65e5\u76ca\u51f8\u663e\u3002\u5ba2\u6237\u7aef\u811a\u672c\u6709\u6d4f\u89c8\u5668\uff0cNode \u811a\u672c\u600e\u4e48\u8c03\u8bd5\u5462\uff1f</p> <p></p> <p>2016 \u5e74\uff0cNode \u51b3\u5b9a\u5c06 Chrome \u6d4f\u89c8\u5668\u7684\u201c\u5f00\u53d1\u8005\u5de5\u5177\u201d\u4f5c\u4e3a\u5b98\u65b9\u7684\u8c03\u8bd5\u5de5\u5177\uff0c\u4f7f\u5f97 Node \u811a\u672c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u56fe\u5f62\u754c\u9762\u8c03\u8bd5\uff0c\u8fd9\u5927\u5927\u65b9\u4fbf\u4e86\u5f00\u53d1\u8005\u3002</p> <p>\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 Node \u811a\u672c\u7684\u8c03\u8bd5\u5de5\u5177\u3002</p>"},{"location":"nodejs/node-debug/#_1","title":"\u4e00\u3001\u793a\u4f8b\u7a0b\u5e8f","text":"<p>\u4e3a\u4e86\u65b9\u4fbf\u8bb2\u89e3\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\u811a\u672c\u3002\u9996\u5148\uff0c\u65b0\u5efa\u4e00\u4e2a\u5de5\u4f5c\u76ee\u5f55\uff0c\u5e76\u8fdb\u5165\u8be5\u76ee\u5f55\u3002</p> <pre><code>$ mkdir debug-demo\n$ cd debug-demo\n</code></pre> <p>\u7136\u540e\uff0c\u751f\u6210<code>package.json</code>\u6587\u4ef6\uff0c\u5e76\u5b89\u88c5 Koa \u6846\u67b6\u548c koa-route \u6a21\u5757\u3002</p> <pre><code>$ npm init -y\n$ npm install --save koa koa-route\n</code></pre> <p>\u63a5\u7740\uff0c\u65b0\u5efa\u4e00\u4e2a\u811a\u672c<code>app.js</code>\uff0c\u5e76\u5199\u5165\u4e0b\u9762\u7684\u5185\u5bb9\u3002</p> <pre><code>// app.js\nconst Koa = require(\"koa\");\nconst router = require(\"koa-route\");\n\nconst app = new Koa();\n\nconst main = (ctx) =&gt; {\n  ctx.response.body = \"Hello World\";\n};\n\nconst welcome = (ctx, name) =&gt; {\n  ctx.response.body = \"Hello \" + name;\n};\n\napp.use(router.get(\"/\", main));\napp.use(router.get(\"/:name\", welcome));\n\napp.listen(3000);\nconsole.log(\"listening on port 3000\");\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u662f\u4e00\u4e2a\u7b80\u5355\u7684 Web \u5e94\u7528\uff0c\u6307\u5b9a\u4e86\u4e24\u4e2a\u8def\u7531\uff0c\u8bbf\u95ee\u540e\u4f1a\u663e\u793a\u4e00\u884c\u6b22\u8fce\u4fe1\u606f\u3002\u5982\u679c\u60f3\u8be6\u7ec6\u4e86\u89e3\u4ee3\u7801\u7684\u8be6\u7ec6\u542b\u4e49\uff0c\u53ef\u4ee5\u53c2\u8003 Koa \u6559\u7a0b\u3002</p>"},{"location":"nodejs/node-debug/#_2","title":"\u4e8c\u3001\u542f\u52a8\u5f00\u53d1\u8005\u5de5\u5177","text":"<p>\u73b0\u5728\uff0c\u8fd0\u884c\u4e0a\u9762\u7684\u811a\u672c\u3002</p> <pre><code>$ node --inspect app.js\n\nDebugger listening on ws://127.0.0.1:9229/70643120-f8a1-4012-aaae-bcc388de4ca0\nFor help see https://nodejs.org/en/docs/inspector\nlistening on port 3000\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>--inspect</code>\u53c2\u6570\u662f\u542f\u52a8\u8c03\u8bd5\u6a21\u5f0f\u5fc5\u9700\u7684\u3002\u8fd9\u65f6\uff0c\u6253\u5f00\u6d4f\u89c8\u5668\u8bbf\u95ee http://127.0.0.1//3000\uff0c\u5c31\u53ef\u4ee5\u770b\u5230 Hello World \u4e86\u3002</p> <p></p> <p>\u63a5\u4e0b\u6765\uff0c\u5c31\u8981\u5f00\u59cb\u8c03\u8bd5\u4e86\u3002\u4e00\u5171\u6709\u4e24\u79cd\u6253\u5f00\u8c03\u8bd5\u5de5\u5177\u7684\u65b9\u6cd5\uff0c\u7b2c\u4e00\u79cd\u662f\u5728 Chrome \u6d4f\u89c8\u5668\u7684\u5730\u5740\u680f\uff0c\u952e\u5165 <code>chrome://inspect</code>\u6216\u8005<code>about:inspect</code>\uff0c\u56de\u8f66\u540e\u5c31\u53ef\u4ee5\u4e0b\u9762\u7684\u9875\u9762\u3002</p> <p></p> <p>\u5728 Target \u90e8\u5206\uff0c\u70b9\u51fb inspect \u94fe\u63a5\uff0c\u5c31\u80fd\u8fdb\u5165\u8c03\u8bd5\u5de5\u5177\u4e86\u3002</p> <p>\u7b2c\u4e8c\u79cd\u8fdb\u5165\u8c03\u8bd5\u5de5\u5177\u7684\u65b9\u6cd5\uff0c\u662f\u5728 http://127.0.0.1//3000 \u7684\u7a97\u53e3\u6253\u5f00\u201c\u5f00\u53d1\u8005\u5de5\u5177\u201d\uff0c\u9876\u90e8\u5de6\u4e0a\u89d2\u6709\u4e00\u4e2a Node \u7684\u7eff\u8272\u6807\u5fd7\uff0c\u70b9\u51fb\u5c31\u53ef\u4ee5\u8fdb\u5165\u3002</p> <p></p>"},{"location":"nodejs/node-debug/#_3","title":"\u4e09\u3001\u8c03\u8bd5\u5de5\u5177\u7a97\u53e3","text":"<p>\u8c03\u8bd5\u5de5\u5177\u5176\u5b9e\u5c31\u662f\u201c\u5f00\u53d1\u8005\u5de5\u5177\u201d\u7684\u5b9a\u5236\u7248\uff0c\u7701\u53bb\u4e86\u90a3\u4e9b\u5bf9\u670d\u52a1\u5668\u811a\u672c\u6ca1\u7528\u7684\u90e8\u5206\u3002</p> <p>\u5b83\u4e3b\u8981\u6709\u56db\u4e2a\u9762\u677f\u3002</p> <ul> <li>Console\uff1a\u63a7\u5236\u53f0</li> <li>Memory\uff1a\u5185\u5b58</li> <li>Profiler\uff1a\u6027\u80fd</li> <li>Sources\uff1a\u6e90\u7801</li> </ul> <p></p> <p>\u8fd9\u4e9b\u9762\u677f\u7684\u7528\u6cd5\uff0c\u57fa\u672c\u4e0a\u8ddf\u6d4f\u89c8\u5668\u73af\u5883\u5dee\u4e0d\u591a\uff0c\u8fd9\u91cc\u53ea\u4ecb\u7ecd Sources \uff08\u6e90\u7801\uff09\u9762\u677f\u3002</p>"},{"location":"nodejs/node-debug/#_4","title":"\u56db\u3001\u8bbe\u7f6e\u65ad\u70b9","text":"<p>\u8fdb\u5165 Sources \u9762\u677f\uff0c\u627e\u5230\u6b63\u5728\u8fd0\u884c\u7684\u811a\u672c<code>app.js</code>\u3002</p> <p></p> <p>\u5728\u7b2c 11 \u884c\uff08\u4e5f\u5c31\u662f\u4e0b\u9762\u8fd9\u4e00\u884c\uff09\u7684\u884c\u53f7\u4e0a\u70b9\u4e00\u4e0b\uff0c\u5c31\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u65ad\u70b9\u3002</p> <pre><code>ctx.response.body = \"Hello \" + name;\n</code></pre> <p></p> <p>\u8fd9\u65f6\uff0c\u6d4f\u89c8\u5668\u8bbf\u95ee http://127.0.0.1:3000/alice \uff0c\u9875\u9762\u4f1a\u663e\u793a\u6b63\u5728\u7b49\u5f85\u670d\u52a1\u5668\u8fd4\u56de\u3002\u5207\u6362\u5230\u8c03\u8bd5\u5de5\u5177\uff0c\u53ef\u4ee5\u770b\u5230 Node \u4e3b\u7ebf\u7a0b\u5904\u4e8e\u6682\u505c\uff08paused\uff09\u9636\u6bb5\u3002</p> <p></p> <p>\u8fdb\u5165 Console \u9762\u677f\uff0c\u8f93\u5165 name\uff0c\u4f1a\u8fd4\u56de alice\u3002\u8fd9\u8868\u660e\u6211\u4eec\u6b63\u5904\u5728\u65ad\u70b9\u5904\u7684\u4e0a\u4e0b\u6587\uff08context\uff09\u3002</p> <p></p> <p>\u518d\u5207\u56de Sources \u9762\u677f\uff0c\u53f3\u4fa7\u53ef\u4ee5\u770b\u5230 Watch\u3001Call Stack\u3001Scope\u3001Breakpoints \u7b49\u6298\u53e0\u9879\u3002\u6253\u5f00 Scope \u6298\u53e0\u9879\uff0c\u53ef\u4ee5\u770b\u5230 Local \u4f5c\u7528\u57df\u548c Global \u4f5c\u7528\u57df\u91cc\u9762\u7684\u6240\u6709\u53d8\u91cf\u3002</p> <p>Local \u4f5c\u7528\u57df\u91cc\u9762\uff0c\u53d8\u91cf<code>name</code>\u7684\u503c\u662f<code>alice</code>\uff0c\u53cc\u51fb\u8fdb\u5165\u7f16\u8f91\u72b6\u6001\uff0c\u628a\u5b83\u6539\u6210<code>bob</code>\u3002</p> <p></p> <p>\u7136\u540e\uff0c\u70b9\u51fb\u9876\u90e8\u5de5\u5177\u680f\u7684\u7ee7\u7eed\u8fd0\u884c\u6309\u94ae\u3002</p> <p></p> <p>\u9875\u9762\u4e0a\u5c31\u53ef\u4ee5\u770b\u5230 Hello bob \u4e86\u3002</p> <p></p> <p>\u547d\u4ee4\u884c\u4e0b\uff0c\u6309\u4e0b ctrl + c\uff0c\u7ec8\u6b62\u8fd0\u884c<code>app.js</code>\u3002</p>"},{"location":"nodejs/node-debug/#_5","title":"\u4e94\u3001\u8c03\u8bd5\u975e\u670d\u52a1\u811a\u672c","text":"<p>Web \u670d\u52a1\u811a\u672c\u4f1a\u4e00\u76f4\u5728\u540e\u53f0\u8fd0\u884c\uff0c\u4f46\u662f\u5927\u90e8\u5206\u811a\u672c\u53ea\u662f\u5904\u7406\u67d0\u4e2a\u4efb\u52a1\uff0c\u8fd0\u884c\u5b8c\u5c31\u4f1a\u7ec8\u6b62\u3002\u8fd9\u65f6\uff0c\u4f60\u53ef\u80fd\u6839\u672c\u6ca1\u6709\u65f6\u95f4\u6253\u5f00\u8c03\u8bd5\u5de5\u5177\u3002\u7b49\u4f60\u6253\u5f00\u4e86\uff0c\u811a\u672c\u65e9\u5c31\u7ed3\u675f\u8fd0\u884c\u4e86\u3002\u8fd9\u65f6\u600e\u4e48\u8c03\u8bd5\u5462\uff1f</p> <pre><code>$ node --inspect=9229 -e \"setTimeout(function() { console.log('yes'); }, 30000)\"\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>--inspect=9229</code>\u6307\u5b9a\u8c03\u8bd5\u7aef\u53e3\u4e3a 9229\uff0c\u8fd9\u662f\u8c03\u8bd5\u5de5\u5177\u9ed8\u8ba4\u7684\u901a\u4fe1\u7aef\u53e3\u3002<code>-e</code>\u53c2\u6570\u6307\u5b9a\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4f5c\u4e3a\u4ee3\u7801\u8fd0\u884c\u3002</p> <p>\u8bbf\u95ee<code>chrome://inspect</code>\uff0c\u5c31\u53ef\u4ee5\u8fdb\u5165\u8c03\u8bd5\u5de5\u5177\uff0c\u8c03\u8bd5\u8fd9\u6bb5\u4ee3\u7801\u4e86\u3002</p> <p></p> <p>\u4ee3\u7801\u653e\u5728<code>setTimeout</code>\u91cc\u9762\uff0c\u603b\u662f\u4e0d\u592a\u65b9\u4fbf\u3002\u90a3\u4e9b\u8fd0\u884c\u65f6\u95f4\u8f83\u77ed\u7684\u811a\u672c\uff0c\u53ef\u80fd\u6839\u672c\u6765\u4e0d\u53ca\u6253\u5f00\u8c03\u8bd5\u5de5\u5177\u3002\u8fd9\u65f6\u5c31\u8981\u4f7f\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\u3002</p> <pre><code>$ node --inspect-brk=9229 app.js\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>--inspect-brk</code>\u6307\u5b9a\u5728\u7b2c\u4e00\u884c\u5c31\u8bbe\u7f6e\u65ad\u70b9\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e00\u5f00\u59cb\u8fd0\u884c\uff0c\u5c31\u662f\u6682\u505c\u7684\u72b6\u6001\u3002</p>"},{"location":"nodejs/node-debug/#-inspect","title":"\u516d\u3001\u5fd8\u4e86\u5199 --inspect \u600e\u4e48\u529e\uff1f","text":"<p>\u6253\u5f00\u8c03\u8bd5\u5de5\u5177\u7684\u524d\u63d0\u662f\uff0c\u542f\u52a8 Node \u811a\u672c\u65f6\u5c31\u52a0\u4e0a<code>--inspect</code>\u53c2\u6570\u3002\u5982\u679c\u5fd8\u4e86\u8fd9\u4e2a\u53c2\u6570\uff0c\u8fd8\u80fd\u4e0d\u80fd\u8c03\u8bd5\u5462\uff1f</p> <p>\u56de\u7b54\u662f\u53ef\u4ee5\u7684\u3002\u9996\u5148\uff0c\u6b63\u5e38\u542f\u52a8\u811a\u672c\u3002</p> <pre><code>$ node app.js\n</code></pre> <p>\u7136\u540e\uff0c\u5728\u53e6\u4e00\u4e2a\u547d\u4ee4\u884c\u7a97\u53e3\uff0c\u67e5\u627e\u4e0a\u9762\u811a\u672c\u7684\u8fdb\u7a0b\u53f7\u3002</p> <pre><code>$ ps ax | grep app.js\n\n30464 pts/11   Sl+    0:00 node app.js\n30541 pts/12   S+     0:00 grep app.js\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u4e2d\uff0c<code>app.js</code>\u7684\u8fdb\u7a0b\u53f7\u662f<code>30464</code>\u3002</p> <p>\u63a5\u7740\uff0c\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u3002</p> <pre><code>$ node -e 'process._debugProcess(30464)'\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u4f1a\u5efa\u7acb\u8fdb\u7a0b 30464 \u4e0e\u8c03\u8bd5\u5de5\u5177\u7684\u8fde\u63a5\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u6253\u5f00\u8c03\u8bd5\u5de5\u5177\u4e86\u3002</p> <p>\u8fd8\u6709\u4e00\u79cd\u65b9\u6cd5\uff0c\u5c31\u662f\u5411\u811a\u672c\u8fdb\u7a0b\u53d1\u9001 SIGUSR1 \u4fe1\u53f7\uff0c\u4e5f\u53ef\u4ee5\u5efa\u7acb\u8c03\u8bd5\u8fde\u63a5\u3002</p> <pre><code>$ kill -SIGUSR1 67827\n</code></pre>"},{"location":"nodejs/nodeJS%2Bmysql%2B%E8%BF%9E%E6%8E%A5%E6%B1%A0/","title":"nodeJS+mysql+\u8fde\u63a5\u6c60\u2014\u2014\u8fde\u63a5\u6c60\u7684\u521b\u5efa\u548c\u4f7f\u7528","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 7523  \u9605\u8bfb16\u5206\u949f</p> <p>https://www.cnblogs.com/shenlonghun/p/6133963.html</p>"},{"location":"nodejs/nodeJS%2Bmysql%2B%E8%BF%9E%E6%8E%A5%E6%B1%A0/#_1","title":"\u4ecb\u7ecd","text":"<p>\u5728 \u8f6f\u4ef6\u5de5\u7a0b \uff0c \u8fde\u63a5\u6c60 \u662f\u4e00\u4e2a \u9ad8\u901f\u7f13\u5b58 \u7684 \u6570\u636e\u5e93\u8fde\u63a5 \u7ef4\u6301\uff0c\u4f7f\u5f97\u8fde\u63a5\u53ef\u4ee5\u5f53\u9700\u8981\u5c06\u6765\u5411\u6570\u636e\u5e93\u8bf7\u6c42\u91cd\u590d\u4f7f\u7528\u3002 [ \u6765\u6e90\u8bf7\u6c42 ] \u8fde\u63a5\u6c60\u7528\u4e8e\u63d0\u9ad8\u6570\u636e\u5e93\u4e0a\u6267\u884c\u547d\u4ee4\u7684\u6027\u80fd\u3002 \u6253\u5f00\u5e76\u4fdd\u6301\u6bcf\u4e2a\u7528\u6237\u7684\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u7279\u522b\u8bf7\u6c42\u5230\u52a8\u6001\u6570\u636e\u5e93\u9a71\u52a8\u7684\u5236\u6210 \u7f51\u7ad9 \u5e94\u7528\uff0c\u662f\u6602\u8d35\u7684\u548c\u6d6a\u8d39\u8d44\u6e90\u3002 \u5728\u8fde\u63a5\u6c60\u4e2d\uff0c\u5728\u521b\u5efa\u8fde\u63a5\u4e4b\u540e\uff0c\u5b83\u88ab\u653e\u7f6e\u5728\u6c60\u4e2d\uff0c\u5e76\u4e14\u5b83\u88ab\u518d\u6b21\u4f7f\u7528\uff0c\u4f7f\u5f97\u4e0d\u5fc5\u5efa\u7acb\u65b0\u7684\u8fde\u63a5\u3002 \u5982\u679c\u6b63\u5728\u4f7f\u7528\u6240\u6709\u8fde\u63a5\uff0c\u5219\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u8fde\u63a5\u5e76\u5c06\u5176\u6dfb\u52a0\u5230\u6c60\u4e2d\u3002 \u8fde\u63a5\u6c60\u4e5f\u51cf\u5c11\u4e86\u7528\u6237\u5fc5\u987b\u7b49\u5f85\u5efa\u7acb\u5230\u6570\u636e\u5e93\u7684\u8fde\u63a5\u7684\u65f6\u95f4\u91cf\u3002</p>"},{"location":"nodejs/nodeJS%2Bmysql%2B%E8%BF%9E%E6%8E%A5%E6%B1%A0/#_2","title":"\u8be5\u7ec4\u4ef6\u4e5f\u63d0\u4f9b\u4e86\u521b\u5efa\u8fde\u63a5\u6c60\u7684\u65b9\u6cd5","text":"<p>\u521b\u5efa\u8fde\u63a5\u6c60</p> <p>\u521b\u5efa\u8fde\u63a5\u6c60\u7684\u914d\u7f6e\u65b9\u5f0f\u548c\u521b\u5efa\u8fde\u63a5\u7684\u65b9\u5f0f\u76f8\u540c \u4f46\u662f\u4e5f\u6709\u51e0\u4e2a \u72ec\u6709\u7684\u914d\u7f6e \u5176\u4ed6\u914d\u7f6e</p> <pre><code>acquireTimeout : \u83b7\u53d6\u8fde\u63a5\u65f6\u7684\u8d85\u65f6\u914d\u7f6e \u9ed8\u8ba410000\nwaitForConnection : \u5728\u8fde\u63a5\u6c60\u7684\u6240\u6709\u8fde\u63a5\u6ca1\u6709\u53ef\u7528\u7684\u65f6\u5019\uff0c\u5982\u679c \u662ftrue \u5c31\u8ba9\u7533\u8bf7\u8fde\u63a5\u7684\u6392\u961f\u7b49\u5f85 \uff0c\n\u5982\u679cfalse \u5219\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\uff0c\u9ed8\u8ba4 true\nconnectionLimit : \u4e00\u6b21\u6027\u5efa\u7acb\u7684\u6700\u5927\u8fde\u63a5\u6570\u76ee  \u9ed8\u8ba4\u4e3a 10\nqueueLimit: \u8fde\u63a5\u6c60\u7684\u6700\u5927\u6392\u961f\u6570\u76ee \u8d85\u51fa\u62a5\u9519 \u5982\u679c\u4e3a0\uff0c\u5219\u6ca1\u6709\u9650\u5236\u6570\u76ee\uff0c\u9ed8\u8ba4\u4e3a0\n</code></pre> <p>\u521b\u5efa\u8fde\u63a5\u6c60\u4ee3\u7801</p> <pre><code>var mysql = require(\"mysql\");\nvar pool = (mysql = createPool({\n  //\u521b\u5efa\u8fde\u63a5\u6c60\n  host: \"localhost\",\n  user: \"we\",\n  password: \"pass\",\n  database: \"db\",\n}));\n</code></pre> <p>\u83b7\u53d6\u8fde\u63a5</p> <pre><code>pool.getConnection(function (err, connection) {\n  connection.query(sql, function (err, rows) {\n    //\u6267\u884csql\u8bed\u53e5\n    connection.release(); //\u5c06\u8fde\u63a5\u8fd4\u56de\u8fde\u63a5\u6c60\n\n    //\u505a\u4e9b\u4ec0\u4e48\n  });\n});\n</code></pre> <p>\u5c06\u8fde\u63a5\u91ca\u653e\u4f1a\u8fde\u63a5\u6c60</p> <pre><code>connection.release();\n</code></pre> <p>\u5f7b\u5e95\u4ece\u8fde\u63a5\u6c60\u91cc\u5220\u9664\u4e00\u4e2a\u8fde\u63a5</p> <pre><code>connection.destroy();\n</code></pre> <p>node+mysql \u6570\u636e\u5e93\u8fde\u63a5\u6c60</p> <p>https://www.cnblogs.com/tugenhua0707/p/10776725.html</p> <p>2019-04-26</p> <ol> <li>\u4ec0\u4e48\u662f\u6570\u636e\u5e93\u8fde\u63a5\u6c60\uff1f</li> </ol> <p>\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u662f\u7a0b\u5e8f\u542f\u52a8\u65f6\u5efa\u7acb\u8db3\u591f\u7684\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u5e76\u5c06\u8fd9\u4e9b\u8fde\u63a5\u7ec4\u6210\u4e00\u4e2a\u6c60\uff0c\u7531\u7a0b\u5e8f\u52a8\u6001\u5730\u5bf9\u6c60\u4e2d\u7684\u8fde\u63a5\u8fdb\u884c\u7533\u8bf7\uff0c\u4f7f\u7528\u548c\u91ca\u653e\u3002</p> <ol> <li>\u4f7f\u7528\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u539f\u7406\u53ca\u4f18\u70b9\u662f\u4ec0\u4e48\uff1f</li> </ol> <p>\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u5728\u521d\u59cb\u5316\u65f6\u5c06\u4f1a\u521b\u5efa\u4e00\u5b9a\u6570\u91cf\u7684\u6570\u636e\u5e93\u8fde\u63a5\u653e\u5230\u8fde\u63a5\u6c60\u4e2d\uff0c\u8fde\u63a5\u6c60\u90fd\u5c06\u4e00\u76f4\u4fdd\u8bc1\u81f3\u5c11\u62e5\u6709\u8fd9\u4e48\u591a\u7684\u8fde\u63a5\u6570\u91cf\uff0c\u5f53\u6709\u6570\u636e\u5e93\u9700\u8981\u88ab\u8fde\u63a5\u7684\u65f6\u5019\uff0c\u5b83\u4f1a\u5411\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u7533\u8bf7\u8d44\u6e90\u548c\u4f7f\u7528\uff0c\u4f7f\u7528\u5b8c\u6210\u540e\u4f1a\u91ca\u653e\u5230\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u4e2d\u3002</p> <p>\u5f53\u7136\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u4e2d\u62e5\u6709\u6700\u5c0f\u8fde\u63a5\u6570\u91cf\u548c\u6700\u5927\u8fde\u63a5\u6570\u91cf\uff0c\u5f53\u6570\u636e\u5e93\u7684\u8fde\u63a5\u8d85\u8fc7\u8fde\u63a5\u6c60\u4e2d\u6700\u5927\u7684\u6570\u91cf\u7684\u65f6\u5019\uff0c\u8fd9\u4e9b\u8bf7\u6c42\u5c06\u88ab\u52a0\u5165\u5230\u7b49\u5f85\u961f\u5217\u4e2d\u3002</p> <p>\u5176\u5b9e\u4ed6\u4eec\u7684\u539f\u7406\u5c31\u597d\u6bd4\u6211\u4eec\u516c\u53f8\u7684\u62db\u8058\u524d\u7aef\u5f00\u53d1\u4e00\u6837\uff0c\u5f53\u6709 A \u9879\u76ee\u7684\u65f6\u5019\uff0c\u6211\u4eec\u516c\u53f8\u9700\u8981\u62db\u8058\u4e00\u4e2a\u524d\u7aef\u5f00\u53d1\u53bb\u505a\u9879\u76ee\uff0c\u4f46\u662f\u5f53\u516c\u53f8\u6709 B\u3001C\u3001D\u3001\u7b49\u9879\u76ee\u7684\u65f6\u5019\uff0c\u6216\u8005\u5f88\u591a\u9879\u76ee\u7684\u65f6\u5019\u9700\u8981\u4e0d\u65ad\u7684\u62db\u8058\u524d\u7aef\u5f00\u53d1\uff0c\u90a3\u4e48\u8fd9\u6837\u4f1a\u7ed9\u516c\u53f8\u5e26\u6765\u5f88\u591a\u4eba\u529b\u6210\u672c\u7684\u3002</p> <p>\u56e0\u6b64\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u524d\u7aef\u4e3b\u7ba1\u6765\u7ba1\u7406\u8fd9\u4e9b\u524d\u7aef\u8d44\u6e90\u3002\u524d\u7aef\u4e3b\u7ba1\u624b\u4e0b\u5047\u5982\u6709 5 \u4e2a\u524d\u7aef\u5f00\u53d1\uff0c\u90a3\u4e48\u5f53 A\u3001B\u3001C\u3001D\u3001E\u3001\u9879\u76ee\u6765\u7684\u65f6\u5019\uff0c\u524d\u7aef\u4e3b\u7ba1\u4f1a\u4f9d\u6b21\u628a\u8fd9\u4e9b\u9879\u76ee\u5206\u914d\u7ed9\u5bf9\u5e94\u7684\u5f00\u53d1\u4eba\u5458\u53bb\u8ddf\u8fdb\u3002\u4f46\u662f\u5f53\u8fd8\u6709 F \u7b49\u9879\u76ee\u7684\u65f6\u5019\uff0c\u56e0\u4e3a F \u9879\u76ee\u5df2\u7ecf\u8d85\u8fc7\u524d\u7aef\u4eba\u5458\u7684\u65f6\u5019\uff0c\u6ca1\u6709\u4eba\u518d\u53bb\u652f\u6301\u8fd9\u4e9b\u4e2a\u9879\u76ee\uff0c\u56e0\u6b64\u8fd9\u4e9b\u9879\u76ee\u9700\u8981\u6392\u671f\uff0c\u7b49 A\u3001B\u3001C\u3001D\u3001E \u5176\u4e2d\u4efb\u4f55\u4e00\u4e2a\u5f00\u53d1\u5b8c\u6210\u540e\uff0c\u4e0a\u7ebf\u4e86\uff0c\u7136\u540e\u8fd9\u4e9b\u5f00\u53d1\u4eba\u5458\u5c31\u548c\u6570\u636e\u5e93\u4e00\u6837\u91ca\u653e\u8d44\u6e90\uff0c\u8fd4\u56de\u5230\u524d\u7aef\u7ec4\u6765\uff0c\u7136\u540e\u524d\u7aef\u4e3b\u7ba1\u518d\u628a F \u9879\u76ee\u5206\u914d\u5230\u5bf9\u5e94\u7684\u5f00\u53d1\u4eba\u5458\u3002</p> <p>\u8fd9\u4e2a\u6bd4\u65b9\u5c31\u597d\u6bd4\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u4e86\u3002\u800c\u4e0d\u662f\u6709 n \u4e2a\u9879\u76ee\u9700\u8981\u62db\u8058 n \u4e2a\u524d\u7aef\u5f00\u53d1\u6765\u505a\u9879\u76ee\uff0c\u90a3\u8fd9\u6837\u7684\u7f3a\u70b9\u662f\u516c\u53f8\u7684\u4eba\u529b\u6210\u672c\u4f1a\u5927\u5927\u7684\u589e\u52a0\u3002\u6240\u4ee5\u6570\u636e\u5e93\u7684\u94fe\u63a5\u6c60\u4e5f\u662f\u8fd9\u4e2a\u610f\u601d\uff0c\u5f53\u7f51\u7ad9\u67d0\u4e00\u5929\u6709\u5f88\u5927\u7684\u6d41\u91cf\u7684\u65f6\u5019\uff0c\u6570\u636e\u5e93\u670d\u52a1\u5668\u9700\u8981\u4e3a\u6bcf\u6b21\u94fe\u63a5\u521b\u5efa\u4e00\u6b21\u6570\u636e\u5e93\u94fe\u63a5\u3002\u8fd9\u6837\u5c31\u5f88\u6d6a\u8d39\u6570\u636e\u5e93\u7684\u8d44\u6e90\uff0c\u5e76\u4e14\u9891\u7e41\u7684\u521b\u5efa\u548c\u5173\u95ed\u6570\u636e\u5e93\u7684\u94fe\u63a5\uff0c\u5f88\u5bb9\u6613\u5bfc\u81f4\u670d\u52a1\u5668\u5185\u5b58\u6ea2\u51fa\u7b49\u60c5\u51b5\u53d1\u751f\u3002</p> <p>\u8fde\u63a5\u6c60\u7684\u4f5c\u7528\u662f\uff1a\u6570\u636e\u5e93\u7684\u8fde\u63a5\u6c60\u8d1f\u8d23\u5206\u914d\uff0c\u7ba1\u7406\u548c\u91ca\u653e\u6570\u636e\u5e93\u94fe\u63a5\u7684\u3002\u5b83\u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f\u91cd\u590d\u4f7f\u7528\u4e00\u4e2a\u73b0\u6709\u7684\u6570\u636e\u5e93\u7684\u94fe\u63a5\u3002\u800c\u4e0d\u662f\u91cd\u65b0\u521b\u5efa\u4e00\u4e2a\u3002</p> <ol> <li>\u4f20\u7edf\u7684\u6570\u636e\u5e93\u94fe\u63a5\u548c\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u7684\u8fd0\u884c\u673a\u5236\u6709\u5565\u533a\u522b\uff1f</li> </ol> <p>\u4f20\u7edf\u7684\u6211\u4eec\u4e00\u822c\u6765 java \u6765\u8bf4\uff1ajava \u8bbf\u95ee\u6570\u636e\u5e93\u7684\u8fc7\u7a0b\u4e00\u822c\u662f\u5982\u4e0b\uff1a</p> <p>\\1. \u88c5\u8f7d\u6570\u636e\u5e93\u9a71\u52a8\u7a0b\u5e8f\u3002 \\2. \u901a\u8fc7 JDBC \u5efa\u7acb\u6570\u636e\u5e93\u7684\u94fe\u63a5\u3002 \\3. \u8bbf\u95ee\u6570\u636e\u5e93\uff0c\u6267\u884c\u4e00\u4e9b sql \u8bed\u53e5\u3002 \\4. \u65ad\u5f00\u53ca\u5173\u95ed\u6570\u636e\u5e93\u7684\u94fe\u63a5\u3002</p> <p>\u5982\u4e0a\u662f\u4e00\u822c\u7684 java \u8bbf\u95ee\u6570\u636e\u5e93\u94fe\u63a5\u7684\u8fc7\u7a0b\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u4f7f\u7528\u6570\u636e\u5e93\u7684\u8fde\u63a5\u6c60\u7684\u64cd\u4f5c\u8fc7\u7a0b\u5982\u4e0b\uff1a</p> <p>\\1. \u7a0b\u5e8f\u521d\u59cb\u5316\u65f6\u521b\u5efa\u8fde\u63a5\u6c60\u3002 \\2. \u4f7f\u7528\u65f6\u5411\u8fde\u63a5\u6c60\u7533\u8bf7\u53ef\u7528\u7684\u8d44\u6e90\u3002 \\3. \u4f7f\u7528\u5b8c\u6bd5\u540e\uff0c\u5c06\u6570\u636e\u5e93\u94fe\u63a5\u8fd4\u56de\u7ed9\u8fde\u63a5\u6c60\u3002 \\4. \u7a0b\u5e8f\u9000\u51fa\u65f6\uff0c\u65ad\u5f00\u6240\u6709\u7684\u94fe\u63a5\uff0c\u5e76\u91ca\u653e\u6570\u636e\u5e93\u7684\u94fe\u63a5\u3002</p> <p>\u8fd9\u5c31\u662f\u4f20\u7edf\u548c\u8fde\u63a5\u6c60\u7684\u533a\u522b\u3002</p> <p>node + mysql \u5b9e\u73b0\u6570\u636e\u5e93\u8fde\u63a5\u6c60</p> <p>\u5728 mysql \u6a21\u5757\u4e2d\uff0c\u4f7f\u7528 createPool \u65b9\u6cd5\u6765\u521b\u5efa\u8fde\u63a5\u6c60\uff0c\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>var pool = mysql.createPool(options);\n</code></pre> <p>options \u53c2\u6570\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u4e2d\u6709\u5f88\u591a\u5c5e\u6027\u914d\u7f6e\uff0c\u8be5\u5bf9\u8c61\u7684\u4f5c\u7528\u662f\u7528\u4e8e\u6307\u5b9a\u8be5\u8fde\u63a5\u6c60\u4e2d\u94fe\u63a5\u7684\u7edf\u4e00\u4f7f\u7528\u7684\u5404\u79cd\u9009\u9879\u3002 \u5e38\u89c1\u7684\u9009\u9879\u5982\u4e0b\uff1a</p> <p>connectionLimit: \u7528\u4e8e\u6307\u5b9a\u8fde\u63a5\u6c60\u4e2d\u6700\u5927\u7684\u94fe\u63a5\u6570\uff0c\u9ed8\u8ba4\u5c5e\u6027\u503c\u4e3a 10.</p> <p>queueLimit: \u7528\u4e8e\u6307\u5b9a\u5141\u8bb8\u6302\u8d77\u7684\u6700\u5927\u8fde\u63a5\u6570\uff0c\u5982\u679c\u6302\u8d77\u7684\u8fde\u63a5\u6570\u8d85\u8fc7\u8be5\u6570\u503c\uff0c\u5c31\u4f1a\u7acb\u5373\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\uff0c\u9ed8\u8ba4\u5c5e\u6027\u503c\u4e3a 0.\u4ee3\u8868\u4e0d\u5141\u8bb8\u88ab\u6302\u8d77\u7684\u6700\u5927\u8fde\u63a5\u6570\u3002</p> <p>\u5728\u5982\u4e0a\u5efa\u7acb\u8fde\u63a5\u540e\uff0c\u4f7f\u7528 getConnection \u65b9\u6cd5\u4ece\u8fde\u63a5\u6c60\u4e2d\u83b7\u53d6\u4e00\u4e2a\u8fde\u63a5\u3002\u8be5\u65b9\u6cd5\u4f7f\u7528\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>pool.getConnection(callback);\n</code></pre> <p>getConnection \u65b9\u6cd5\u8c03\u7528\u540e\uff0c\u5b83\u6709\u4e00\u4e2a\u53c2\u6570 callback \u56de\u8c03\u51fd\u6570\uff0c\u8be5\u56de\u8c03\u51fd\u6570\u4e5f\u6709\u4e8c\u4e2a\u53c2\u6570\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>function(err, connection) {\n\n}\n</code></pre> <p>err\uff1a \u8be5\u53c2\u6570\u662f\u6307\u64cd\u4f5c\u5931\u8d25\u65f6\u7684\u9519\u8bef\u5bf9\u8c61\u3002 connection: \u8be5\u503c\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4ee3\u8868\u83b7\u53d6\u5230\u7684\u8fde\u63a5\u5bf9\u8c61\u3002\u5f53\u8fde\u63a5\u5931\u8d25\u65f6\uff0c\u8be5\u503c\u4e3a undefined\u3002</p> <p>\u5f53\u8fde\u63a5\u4e0d\u9700\u8981\u4f7f\u7528\u7684\u65f6\u5019\uff0c\u4f7f\u7528\u8be5\u8fde\u63a5\u5bf9\u8c61\u7684 release \u65b9\u6cd5\u6765\u5f52\u8fd8\u5230\u8fde\u63a5\u6c60\u4e2d\u3002\u8be5\u65b9\u6cd5\u4f7f\u7528\u5982\u4e0b\uff1a</p> <pre><code>connection.release();\n</code></pre> <p>\u5f53\u8fde\u63a5\u4e0d\u9700\u8981\u4f7f\u7528\u4e14\u9700\u8981\u4ece\u8fde\u63a5\u6c60\u4e2d\u79fb\u9664\u7684\u65f6\u5019\uff0c\u4f7f\u7528 destory \u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u4f7f\u7528\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>connection.destory();\n</code></pre> <p>\u5f53\u8fde\u63a5\u4e0d\u9700\u8981\u4f7f\u7528\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u5173\u95ed\u8be5\u8fde\u63a5\uff0c\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>pool.end();\n</code></pre> <p>\u4e0b\u9762\u6211\u4eec\u6765\u505a\u4e00\u4e2a\u4f7f\u7528\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u505a\u4e00\u4e2a demo \u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>const mysql = require(\"mysql\");\n// \u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\u6c60\nconst pool = mysql.createPool({\n  host: \"localhost\",\n  port: 3306,\n  database: \"my_db\",\n  user: \"root\",\n  password: \"123456\",\n});\n// \u4ece\u8fde\u63a5\u6c60\u4e2d\u83b7\u53d6\u4e00\u4e2a\u8fde\u63a5\npool.getConnection((err, conn) =&gt; {\n  if (err) {\n    console.log(\"\u548cmysql\u6570\u636e\u5e93\u5efa\u7acb\u8fde\u63a5\u5931\u8d25\");\n  } else {\n    console.log(\"\u548cmysql\u6570\u636e\u5e93\u8fde\u63a5\u6210\u529f\");\n    conn.query(\"select * from user\", (err2, res) =&gt; {\n      if (err2) {\n        console.log(\"\u67e5\u8be2\u6570\u636e\u5e93\u5931\u8d25\");\n      } else {\n        console.log(res);\n        pool.end();\n      }\n    });\n  }\n});\n</code></pre>"},{"location":"nodejs/node%E5%AE%9A%E6%97%B6%E5%99%A8/","title":"Node \u5b9a\u65f6\u5668\u8be6\u89e3","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 10960  \u9605\u8bfb22\u5206\u949f</p> <p>JavaScript \u662f\u5355\u7ebf\u7a0b\u8fd0\u884c\uff0c\u5f02\u6b65\u64cd\u4f5c\u7279\u522b\u91cd\u8981\u3002</p> <p>\u53ea\u8981\u7528\u5230\u5f15\u64ce\u4e4b\u5916\u7684\u529f\u80fd\uff0c\u5c31\u9700\u8981\u8ddf\u5916\u90e8\u4ea4\u4e92\uff0c\u4ece\u800c\u5f62\u6210\u5f02\u6b65\u64cd\u4f5c\u3002\u7531\u4e8e\u5f02\u6b65\u64cd\u4f5c\u5b9e\u5728\u592a\u591a\uff0cJavaScript \u4e0d\u5f97\u4e0d\u63d0\u4f9b\u5f88\u591a\u5f02\u6b65\u8bed\u6cd5\u3002\u8fd9\u5c31\u597d\u6bd4\uff0c\u6709\u4e9b\u4eba\u8001\u662f\u53d7\u6253\u51fb\uff0c \u4ed6\u7684\u6297\u6253\u51fb\u80fd\u529b\u5fc5\u987b\u53d8\u5f97\u5f88\u5f3a\uff0c\u5426\u5219\u4ed6\u5c31\u5b8c\u86cb\u4e86\u3002</p> <p>Node \u7684\u5f02\u6b65\u8bed\u6cd5\u6bd4\u6d4f\u89c8\u5668\u66f4\u590d\u6742\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u8ddf\u5185\u6838\u5bf9\u8bdd\uff0c\u4e0d\u5f97\u4e0d\u641e\u4e86\u4e00\u4e2a\u4e13\u95e8\u7684\u5e93 libuv \u505a\u8fd9\u4ef6\u4e8b\u3002\u8fd9\u4e2a\u5e93\u8d1f\u8d23\u5404\u79cd\u56de\u8c03\u51fd\u6570\u7684\u6267\u884c\u65f6\u95f4\uff0c\u6bd5\u7adf\u5f02\u6b65\u4efb\u52a1\u6700\u540e\u8fd8\u662f\u8981\u56de\u5230\u4e3b\u7ebf\u7a0b\uff0c\u4e00\u4e2a\u4e2a\u6392\u961f\u6267\u884c\u3002</p> <p></p> <p>\u4e3a\u4e86\u534f\u8c03\u5f02\u6b65\u4efb\u52a1\uff0cNode \u5c45\u7136\u63d0\u4f9b\u4e86\u56db\u4e2a\u5b9a\u65f6\u5668\uff0c\u8ba9\u4efb\u52a1\u53ef\u4ee5\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u8fd0\u884c\u3002</p> <ul> <li>setTimeout()</li> <li>setInterval()</li> <li>setImmediate()</li> <li>process.nextTick()</li> </ul> <p>\u524d\u4e24\u4e2a\u662f\u8bed\u8a00\u7684\u6807\u51c6\uff0c\u540e\u4e24\u4e2a\u662f Node \u72ec\u6709\u7684\u3002\u5b83\u4eec\u7684\u5199\u6cd5\u5dee\u4e0d\u591a\uff0c\u4f5c\u7528\u4e5f\u5dee\u4e0d\u591a\uff0c\u4e0d\u592a\u5bb9\u6613\u533a\u522b\u3002</p> <p>\u4f60\u80fd\u8bf4\u51fa\u4e0b\u9762\u4ee3\u7801\u7684\u8fd0\u884c\u7ed3\u679c\u5417\uff1f</p> <pre><code>// test.js\nsetTimeout(() =&gt; console.log(1));\nsetImmediate(() =&gt; console.log(2));\nprocess.nextTick(() =&gt; console.log(3));\nPromise.resolve().then(() =&gt; console.log(4));\n(() =&gt; console.log(5))();\n</code></pre> <p>\u8fd0\u884c\u7ed3\u679c\u5982\u4e0b\u3002</p> <pre><code>$ node test.js\n5\n3\n4\n1\n2\n</code></pre> <p>\u5982\u679c\u4f60\u80fd\u4e00\u53e3\u8bf4\u5bf9\uff0c\u53ef\u80fd\u5c31\u4e0d\u9700\u8981\u518d\u770b\u4e0b\u53bb\u4e86\u3002\u672c\u6587\u8be6\u7ec6\u89e3\u91ca\uff0cNode \u600e\u4e48\u5904\u7406\u5404\u79cd\u5b9a\u65f6\u5668\uff0c\u6216\u8005\u66f4\u5e7f\u4e49\u5730\u8bf4\uff0clibuv \u5e93\u600e\u4e48\u5b89\u6392\u5f02\u6b65\u4efb\u52a1\u5728\u4e3b\u7ebf\u7a0b\u4e0a\u6267\u884c\u3002</p>"},{"location":"nodejs/node%E5%AE%9A%E6%97%B6%E5%99%A8/#_1","title":"\u4e00\u3001\u540c\u6b65\u4efb\u52a1\u548c\u5f02\u6b65\u4efb\u52a1","text":"<p>\u9996\u5148\uff0c\u540c\u6b65\u4efb\u52a1\u603b\u662f\u6bd4\u5f02\u6b65\u4efb\u52a1\u66f4\u65e9\u6267\u884c\u3002</p> <p>\u524d\u9762\u7684\u90a3\u6bb5\u4ee3\u7801\uff0c\u53ea\u6709\u6700\u540e\u4e00\u884c\u662f\u540c\u6b65\u4efb\u52a1\uff0c\u56e0\u6b64\u6700\u65e9\u6267\u884c\u3002</p> <pre><code>(() =&gt; console.log(5))();\n</code></pre>"},{"location":"nodejs/node%E5%AE%9A%E6%97%B6%E5%99%A8/#_2","title":"\u4e8c\u3001\u672c\u8f6e\u5faa\u73af\u548c\u6b21\u8f6e\u5faa\u73af","text":"<p>\u5f02\u6b65\u4efb\u52a1\u53ef\u4ee5\u5206\u6210\u4e24\u79cd\u3002</p> <ul> <li>\u8ffd\u52a0\u5728**\u672c\u8f6e\u5faa\u73af**\u7684\u5f02\u6b65\u4efb\u52a1</li> <li>\u8ffd\u52a0\u5728**\u6b21\u8f6e\u5faa\u73af**\u7684\u5f02\u6b65\u4efb\u52a1</li> </ul> <p>\u6240\u8c13\u201c\u5faa\u73af\u201d\uff0c\u6307\u7684\u662f\u4e8b\u4ef6\u5faa\u73af\uff08event loop\uff09\u3002\u8fd9\u662f JavaScript \u5f15\u64ce\u5904\u7406\u5f02\u6b65\u4efb\u52a1\u7684\u65b9\u5f0f\uff0c\u540e\u6587\u4f1a\u8be6\u7ec6\u89e3\u91ca\u3002\u8fd9\u91cc\u53ea\u8981\u7406\u89e3\uff0c\u672c\u8f6e\u5faa\u73af\u4e00\u5b9a\u65e9\u4e8e\u6b21\u8f6e\u5faa\u73af\u6267\u884c\u5373\u53ef\u3002</p> <p>Node \u89c4\u5b9a\uff0c<code>process.nextTick</code>\u548c<code>Promise</code>\u7684\u56de\u8c03\u51fd\u6570\uff0c\u8ffd\u52a0\u5728\u672c\u8f6e\u5faa\u73af\uff0c\u5373\u540c\u6b65\u4efb\u52a1\u4e00\u65e6\u6267\u884c\u5b8c\u6210\uff0c\u5c31\u5f00\u59cb\u6267\u884c\u5b83\u4eec\u3002\u800c<code>setTimeout</code>\u3001<code>setInterval</code>\u3001<code>setImmediate</code>\u7684\u56de\u8c03\u51fd\u6570\uff0c\u8ffd\u52a0\u5728\u6b21\u8f6e\u5faa\u73af\u3002</p> <p>\u8fd9\u5c31\u662f\u8bf4\uff0c\u6587\u9996\u90a3\u6bb5\u4ee3\u7801\u7684\u7b2c\u4e09\u884c\u548c\u7b2c\u56db\u884c\uff0c\u4e00\u5b9a\u6bd4\u7b2c\u4e00\u884c\u548c\u7b2c\u4e8c\u884c\u66f4\u65e9\u6267\u884c\u3002</p> <pre><code>// \u4e0b\u9762\u4e24\u884c\uff0c\u6b21\u8f6e\u5faa\u73af\u6267\u884c\nsetTimeout(() =&gt; console.log(1));\nsetImmediate(() =&gt; console.log(2));\n// \u4e0b\u9762\u4e24\u884c\uff0c\u672c\u8f6e\u5faa\u73af\u6267\u884c\nprocess.nextTick(() =&gt; console.log(3));\nPromise.resolve().then(() =&gt; console.log(4));\n</code></pre>"},{"location":"nodejs/node%E5%AE%9A%E6%97%B6%E5%99%A8/#processnexttick","title":"\u4e09\u3001process.nextTick()","text":"<p><code>process.nextTick</code>\u8fd9\u4e2a\u540d\u5b57\u6709\u70b9\u8bef\u5bfc\uff0c\u5b83\u662f\u5728\u672c\u8f6e\u5faa\u73af\u6267\u884c\u7684\uff0c\u800c\u4e14\u662f\u6240\u6709\u5f02\u6b65\u4efb\u52a1\u91cc\u9762\u6700\u5feb\u6267\u884c\u7684\u3002</p> <p></p> <p>Node \u6267\u884c\u5b8c\u6240\u6709\u540c\u6b65\u4efb\u52a1\uff0c\u63a5\u4e0b\u6765\u5c31\u4f1a\u6267\u884c<code>process.nextTick</code>\u7684\u4efb\u52a1\u961f\u5217\u3002\u6240\u4ee5\uff0c\u4e0b\u9762\u8fd9\u884c\u4ee3\u7801\u662f\u7b2c\u4e8c\u4e2a\u8f93\u51fa\u7ed3\u679c\u3002</p> <pre><code>process.nextTick(() =&gt; console.log(3));\n</code></pre> <p>\u57fa\u672c\u4e0a\uff0c\u5982\u679c\u4f60\u5e0c\u671b\u5f02\u6b65\u4efb\u52a1\u5c3d\u53ef\u80fd\u5feb\u5730\u6267\u884c\uff0c\u90a3\u5c31\u4f7f\u7528<code>process.nextTick</code>\u3002</p>"},{"location":"nodejs/node%E5%AE%9A%E6%97%B6%E5%99%A8/#_3","title":"\u56db\u3001\u5fae\u4efb\u52a1","text":"<p>\u6839\u636e\u8bed\u8a00\u89c4\u683c\uff0c<code>Promise</code>\u5bf9\u8c61\u7684\u56de\u8c03\u51fd\u6570\uff0c\u4f1a\u8fdb\u5165\u5f02\u6b65\u4efb\u52a1\u91cc\u9762\u7684\u201c\u5fae\u4efb\u52a1\u201d\uff08microtask\uff09\u961f\u5217\u3002</p> <p>\u5fae\u4efb\u52a1\u961f\u5217\u8ffd\u52a0\u5728<code>process.nextTick</code>\u961f\u5217\u7684\u540e\u9762\uff0c\u4e5f\u5c5e\u4e8e\u672c\u8f6e\u5faa\u73af\u3002\u6240\u4ee5\uff0c\u4e0b\u9762\u7684\u4ee3\u7801\u603b\u662f\u5148\u8f93\u51fa<code>3</code>\uff0c\u518d\u8f93\u51fa<code>4</code>\u3002</p> <pre><code>process.nextTick(() =&gt; console.log(3));\nPromise.resolve().then(() =&gt; console.log(4));\n// 3\n// 4\n</code></pre> <p></p> <p>\u6ce8\u610f\uff0c\u53ea\u6709\u524d\u4e00\u4e2a\u961f\u5217\u5168\u90e8\u6e05\u7a7a\u4ee5\u540e\uff0c\u624d\u4f1a\u6267\u884c\u4e0b\u4e00\u4e2a\u961f\u5217\u3002</p> <pre><code>process.nextTick(() =&gt; console.log(1));\nPromise.resolve().then(() =&gt; console.log(2));\nprocess.nextTick(() =&gt; console.log(3));\nPromise.resolve().then(() =&gt; console.log(4));\n// 1\n// 3\n// 2\n// 4\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5168\u90e8<code>process.nextTick</code>\u7684\u56de\u8c03\u51fd\u6570\uff0c\u6267\u884c\u90fd\u4f1a\u65e9\u4e8e<code>Promise</code>\u7684\u3002</p> <p>\u81f3\u6b64\uff0c\u672c\u8f6e\u5faa\u73af\u7684\u6267\u884c\u987a\u5e8f\u5c31\u8bb2\u5b8c\u4e86\u3002</p> <ol> <li>\u540c\u6b65\u4efb\u52a1</li> <li>process.nextTick()</li> <li>\u5fae\u4efb\u52a1</li> </ol>"},{"location":"nodejs/node%E5%AE%9A%E6%97%B6%E5%99%A8/#_4","title":"\u4e94\u3001\u4e8b\u4ef6\u5faa\u73af\u7684\u6982\u5ff5","text":"<p>\u4e0b\u9762\u5f00\u59cb\u4ecb\u7ecd\u6b21\u8f6e\u5faa\u73af\u7684\u6267\u884c\u987a\u5e8f\uff0c\u8fd9\u5c31\u5fc5\u987b\u7406\u89e3\u4ec0\u4e48\u662f\u4e8b\u4ef6\u5faa\u73af\uff08event loop\uff09\u4e86\u3002</p> <p>Node \u7684\u5b98\u65b9\u6587\u6863\u662f\u8fd9\u6837\u4ecb\u7ecd\u7684\u3002</p> <p>\"When Node.js starts, it initializes the event loop, processes the provided input script which may make async API calls, schedule timers, or call process.nextTick(), then begins processing the event loop.\"</p> <p>\u8fd9\u6bb5\u8bdd\u5f88\u91cd\u8981\uff0c\u9700\u8981\u4ed4\u7ec6\u8bfb\u3002\u5b83\u8868\u8fbe\u4e86\u4e09\u5c42\u610f\u601d\u3002</p> <p>\u9996\u5148\uff0c\u6709\u4e9b\u4eba\u4ee5\u4e3a\uff0c\u9664\u4e86\u4e3b\u7ebf\u7a0b\uff0c\u8fd8\u5b58\u5728\u4e00\u4e2a\u5355\u72ec\u7684\u4e8b\u4ef6\u5faa\u73af\u7ebf\u7a0b\u3002\u4e0d\u662f\u8fd9\u6837\u7684\uff0c\u53ea\u6709\u4e00\u4e2a\u4e3b\u7ebf\u7a0b\uff0c\u4e8b\u4ef6\u5faa\u73af\u662f\u5728\u4e3b\u7ebf\u7a0b\u4e0a\u5b8c\u6210\u7684\u3002</p> <p>\u5176\u6b21\uff0cNode \u5f00\u59cb\u6267\u884c\u811a\u672c\u65f6\uff0c\u4f1a\u5148\u8fdb\u884c\u4e8b\u4ef6\u5faa\u73af\u7684\u521d\u59cb\u5316\uff0c\u4f46\u662f\u8fd9\u65f6\u4e8b\u4ef6\u5faa\u73af\u8fd8\u6ca1\u6709\u5f00\u59cb\uff0c\u4f1a\u5148\u5b8c\u6210\u4e0b\u9762\u7684\u4e8b\u60c5\u3002</p> <ul> <li>\u540c\u6b65\u4efb\u52a1</li> <li>\u53d1\u51fa\u5f02\u6b65\u8bf7\u6c42</li> <li>\u89c4\u5212\u5b9a\u65f6\u5668\u751f\u6548\u7684\u65f6\u95f4</li> <li>\u6267\u884c<code>process.nextTick()</code>\u7b49\u7b49</li> </ul> <p>\u6700\u540e\uff0c\u4e0a\u9762\u8fd9\u4e9b\u4e8b\u60c5\u90fd\u5e72\u5b8c\u4e86\uff0c\u4e8b\u4ef6\u5faa\u73af\u5c31\u6b63\u5f0f\u5f00\u59cb\u4e86\u3002</p>"},{"location":"nodejs/node%E5%AE%9A%E6%97%B6%E5%99%A8/#_5","title":"\u516d\u3001\u4e8b\u4ef6\u5faa\u73af\u7684\u516d\u4e2a\u9636\u6bb5","text":"<p>\u4e8b\u4ef6\u5faa\u73af\u4f1a\u65e0\u9650\u6b21\u5730\u6267\u884c\uff0c\u4e00\u8f6e\u53c8\u4e00\u8f6e\u3002\u53ea\u6709\u5f02\u6b65\u4efb\u52a1\u7684\u56de\u8c03\u51fd\u6570\u961f\u5217\u6e05\u7a7a\u4e86\uff0c\u624d\u4f1a\u505c\u6b62\u6267\u884c\u3002</p> <p>\u6bcf\u4e00\u8f6e\u7684\u4e8b\u4ef6\u5faa\u73af\uff0c\u5206\u6210\u516d\u4e2a\u9636\u6bb5\u3002\u8fd9\u4e9b\u9636\u6bb5\u4f1a\u4f9d\u6b21\u6267\u884c\u3002</p> <ol> <li>timers</li> <li>I/O callbacks</li> <li>idle, prepare</li> <li>poll</li> <li>check</li> <li>close callbacks</li> </ol> <p>\u6bcf\u4e2a\u9636\u6bb5\u90fd\u6709\u4e00\u4e2a\u5148\u8fdb\u5148\u51fa\u7684\u56de\u8c03\u51fd\u6570\u961f\u5217\u3002\u53ea\u6709\u4e00\u4e2a\u9636\u6bb5\u7684\u56de\u8c03\u51fd\u6570\u961f\u5217\u6e05\u7a7a\u4e86\uff0c\u8be5\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570\u90fd\u6267\u884c\u4e86\uff0c\u4e8b\u4ef6\u5faa\u73af\u624d\u4f1a\u8fdb\u5165\u4e0b\u4e00\u4e2a\u9636\u6bb5\u3002</p> <p></p> <p>\u4e0b\u9762\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u6bcf\u4e2a\u9636\u6bb5\u7684\u542b\u4e49\uff0c\u8be6\u7ec6\u4ecb\u7ecd\u53ef\u4ee5\u770b\u5b98\u65b9\u6587\u6863\uff0c\u4e5f\u53ef\u4ee5\u53c2\u8003 libuv \u7684\u6e90\u7801\u89e3\u8bfb\u3002</p> <p>\uff081\uff09timers</p> <p>\u8fd9\u4e2a\u662f\u5b9a\u65f6\u5668\u9636\u6bb5\uff0c\u5904\u7406<code>setTimeout()</code>\u548c<code>setInterval()</code>\u7684\u56de\u8c03\u51fd\u6570\u3002\u8fdb\u5165\u8fd9\u4e2a\u9636\u6bb5\u540e\uff0c\u4e3b\u7ebf\u7a0b\u4f1a\u68c0\u67e5\u4e00\u4e0b\u5f53\u524d\u65f6\u95f4\uff0c\u662f\u5426\u6ee1\u8db3\u5b9a\u65f6\u5668\u7684\u6761\u4ef6\u3002\u5982\u679c\u6ee1\u8db3\u5c31\u6267\u884c\u56de\u8c03\u51fd\u6570\uff0c\u5426\u5219\u5c31\u79bb\u5f00\u8fd9\u4e2a\u9636\u6bb5\u3002</p> <p>\uff082\uff09I/O callbacks</p> <p>\u9664\u4e86\u4ee5\u4e0b\u64cd\u4f5c\u7684\u56de\u8c03\u51fd\u6570\uff0c\u5176\u4ed6\u7684\u56de\u8c03\u51fd\u6570\u90fd\u5728\u8fd9\u4e2a\u9636\u6bb5\u6267\u884c\u3002</p> <ul> <li><code>setTimeout()</code>\u548c<code>setInterval()</code>\u7684\u56de\u8c03\u51fd\u6570</li> <li><code>setImmediate()</code>\u7684\u56de\u8c03\u51fd\u6570</li> <li>\u7528\u4e8e\u5173\u95ed\u8bf7\u6c42\u7684\u56de\u8c03\u51fd\u6570\uff0c\u6bd4\u5982<code>socket.on('close', ...)</code></li> </ul> <p>\uff083\uff09idle, prepare</p> <p>\u8be5\u9636\u6bb5\u53ea\u4f9b libuv \u5185\u90e8\u8c03\u7528\uff0c\u8fd9\u91cc\u53ef\u4ee5\u5ffd\u7565\u3002</p> <p>\uff084\uff09Poll</p> <p>\u8fd9\u4e2a\u9636\u6bb5\u662f\u8f6e\u8be2\u65f6\u95f4\uff0c\u7528\u4e8e\u7b49\u5f85\u8fd8\u672a\u8fd4\u56de\u7684 I/O \u4e8b\u4ef6\uff0c\u6bd4\u5982\u670d\u52a1\u5668\u7684\u56de\u5e94\u3001\u7528\u6237\u79fb\u52a8\u9f20\u6807\u7b49\u7b49\u3002</p> <p>\u8fd9\u4e2a\u9636\u6bb5\u7684\u65f6\u95f4\u4f1a\u6bd4\u8f83\u957f\u3002\u5982\u679c\u6ca1\u6709\u5176\u4ed6\u5f02\u6b65\u4efb\u52a1\u8981\u5904\u7406\uff08\u6bd4\u5982\u5230\u671f\u7684\u5b9a\u65f6\u5668\uff09\uff0c\u4f1a\u4e00\u76f4\u505c\u7559\u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u7b49\u5f85 I/O \u8bf7\u6c42\u8fd4\u56de\u7ed3\u679c\u3002</p> <p>\uff085\uff09check</p> <p>\u8be5\u9636\u6bb5\u6267\u884c<code>setImmediate()</code>\u7684\u56de\u8c03\u51fd\u6570\u3002</p> <p>\uff086\uff09close callbacks</p> <p>\u8be5\u9636\u6bb5\u6267\u884c\u5173\u95ed\u8bf7\u6c42\u7684\u56de\u8c03\u51fd\u6570\uff0c\u6bd4\u5982<code>socket.on('close', ...)</code>\u3002</p>"},{"location":"nodejs/node%E5%AE%9A%E6%97%B6%E5%99%A8/#_6","title":"\u4e03\u3001\u4e8b\u4ef6\u5faa\u73af\u7684\u793a\u4f8b","text":"<p>\u4e0b\u9762\u662f\u6765\u81ea\u5b98\u65b9\u6587\u6863\u7684\u4e00\u4e2a\u793a\u4f8b\u3002</p> <pre><code>const fs = require(\"fs\");\n\nconst timeoutScheduled = Date.now();\n\n// \u5f02\u6b65\u4efb\u52a1\u4e00\uff1a100ms \u540e\u6267\u884c\u7684\u5b9a\u65f6\u5668\nsetTimeout(() =&gt; {\n  const delay = Date.now() - timeoutScheduled;\n  console.log(`${delay}ms`);\n}, 100);\n\n// \u5f02\u6b65\u4efb\u52a1\u4e8c\uff1a\u81f3\u5c11\u9700\u8981 200ms \u7684\u6587\u4ef6\u8bfb\u53d6\nfs.readFile(\"test.js\", () =&gt; {\n  const startCallback = Date.now();\n  while (Date.now() - startCallback &lt; 200) {\n    // \u4ec0\u4e48\u4e5f\u4e0d\u505a\n  }\n});\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u6709\u4e24\u4e2a\u5f02\u6b65\u4efb\u52a1\uff0c\u4e00\u4e2a\u662f 100ms \u540e\u6267\u884c\u7684\u5b9a\u65f6\u5668\uff0c\u4e00\u4e2a\u662f\u81f3\u5c11\u9700\u8981 200ms \u7684\u6587\u4ef6\u8bfb\u53d6\u3002\u8bf7\u95ee\u8fd0\u884c\u7ed3\u679c\u662f\u4ec0\u4e48\uff1f</p> <p></p> <p>\u811a\u672c\u8fdb\u5165\u7b2c\u4e00\u8f6e\u4e8b\u4ef6\u5faa\u73af\u4ee5\u540e\uff0c\u6ca1\u6709\u5230\u671f\u7684\u5b9a\u65f6\u5668\uff0c\u4e5f\u6ca1\u6709\u5df2\u7ecf\u53ef\u4ee5\u6267\u884c\u7684 I/O \u56de\u8c03\u51fd\u6570\uff0c\u6240\u4ee5\u4f1a\u8fdb\u5165 Poll \u9636\u6bb5\uff0c\u7b49\u5f85\u5185\u6838\u8fd4\u56de\u6587\u4ef6\u8bfb\u53d6\u7684\u7ed3\u679c\u3002\u7531\u4e8e\u8bfb\u53d6\u5c0f\u6587\u4ef6\u4e00\u822c\u4e0d\u4f1a\u8d85\u8fc7 100ms\uff0c\u6240\u4ee5\u5728\u5b9a\u65f6\u5668\u5230\u671f\u4e4b\u524d\uff0cPoll \u9636\u6bb5\u5c31\u4f1a\u5f97\u5230\u7ed3\u679c\uff0c\u56e0\u6b64\u5c31\u4f1a\u7ee7\u7eed\u5f80\u4e0b\u6267\u884c\u3002</p> <p>\u7b2c\u4e8c\u8f6e\u4e8b\u4ef6\u5faa\u73af\uff0c\u4f9d\u7136\u6ca1\u6709\u5230\u671f\u7684\u5b9a\u65f6\u5668\uff0c\u4f46\u662f\u5df2\u7ecf\u6709\u4e86\u53ef\u4ee5\u6267\u884c\u7684 I/O \u56de\u8c03\u51fd\u6570\uff0c\u6240\u4ee5\u4f1a\u8fdb\u5165 I/O callbacks \u9636\u6bb5\uff0c\u6267\u884c<code>fs.readFile</code>\u7684\u56de\u8c03\u51fd\u6570\u3002\u8fd9\u4e2a\u56de\u8c03\u51fd\u6570\u9700\u8981 200ms\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\u5b83\u6267\u884c\u5230\u4e00\u534a\u7684\u65f6\u5019\uff0c100ms \u7684\u5b9a\u65f6\u5668\u5c31\u4f1a\u5230\u671f\u3002\u4f46\u662f\uff0c\u5fc5\u987b\u7b49\u5230\u8fd9\u4e2a\u56de\u8c03\u51fd\u6570\u6267\u884c\u5b8c\uff0c\u624d\u4f1a\u79bb\u5f00\u8fd9\u4e2a\u9636\u6bb5\u3002</p> <p>\u7b2c\u4e09\u8f6e\u4e8b\u4ef6\u5faa\u73af\uff0c\u5df2\u7ecf\u6709\u4e86\u5230\u671f\u7684\u5b9a\u65f6\u5668\uff0c\u6240\u4ee5\u4f1a\u5728 timers \u9636\u6bb5\u6267\u884c\u5b9a\u65f6\u5668\u3002\u6700\u540e\u8f93\u51fa\u7ed3\u679c\u5927\u6982\u662f 200 \u591a\u6beb\u79d2\u3002</p>"},{"location":"nodejs/node%E5%AE%9A%E6%97%B6%E5%99%A8/#settimeout-setimmediate","title":"\u516b\u3001setTimeout \u548c setImmediate","text":"<p>\u7531\u4e8e<code>setTimeout</code>\u5728 timers \u9636\u6bb5\u6267\u884c\uff0c\u800c<code>setImmediate</code>\u5728 check \u9636\u6bb5\u6267\u884c\u3002\u6240\u4ee5\uff0c<code>setTimeout</code>\u4f1a\u65e9\u4e8e<code>setImmediate</code>\u5b8c\u6210\u3002</p> <pre><code>setTimeout(() =&gt; console.log(1));\nsetImmediate(() =&gt; console.log(2));\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u5e94\u8be5\u5148\u8f93\u51fa<code>1</code>\uff0c\u518d\u8f93\u51fa<code>2</code>\uff0c\u4f46\u662f\u5b9e\u9645\u6267\u884c\u7684\u65f6\u5019\uff0c\u7ed3\u679c\u5374\u662f\u4e0d\u786e\u5b9a\uff0c\u6709\u65f6\u8fd8\u4f1a\u5148\u8f93\u51fa<code>2</code>\uff0c\u518d\u8f93\u51fa<code>1</code>\u3002</p> <p>\u8fd9\u662f\u56e0\u4e3a<code>setTimeout</code>\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u9ed8\u8ba4\u4e3a<code>0</code>\u3002\u4f46\u662f\u5b9e\u9645\u4e0a\uff0cNode \u505a\u4e0d\u5230 0 \u6beb\u79d2\uff0c\u6700\u5c11\u4e5f\u9700\u8981 1 \u6beb\u79d2\uff0c\u6839\u636e\u5b98\u65b9\u6587\u6863\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u7684\u53d6\u503c\u8303\u56f4\u5728 1 \u6beb\u79d2\u5230 2147483647 \u6beb\u79d2\u4e4b\u95f4\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c<code>setTimeout(f, 0)</code>\u7b49\u540c\u4e8e<code>setTimeout(f, 1)</code>\u3002</p> <p>\u5b9e\u9645\u6267\u884c\u7684\u65f6\u5019\uff0c\u8fdb\u5165\u4e8b\u4ef6\u5faa\u73af\u4ee5\u540e\uff0c\u6709\u53ef\u80fd\u5230\u4e86 1 \u6beb\u79d2\uff0c\u4e5f\u53ef\u80fd\u8fd8\u6ca1\u5230 1 \u6beb\u79d2\uff0c\u53d6\u51b3\u4e8e\u7cfb\u7edf\u5f53\u65f6\u7684\u72b6\u51b5\u3002\u5982\u679c\u6ca1\u5230 1 \u6beb\u79d2\uff0c\u90a3\u4e48 timers \u9636\u6bb5\u5c31\u4f1a\u8df3\u8fc7\uff0c\u8fdb\u5165 check \u9636\u6bb5\uff0c\u5148\u6267\u884c<code>setImmediate</code>\u7684\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u4f46\u662f\uff0c\u4e0b\u9762\u7684\u4ee3\u7801\u4e00\u5b9a\u662f\u5148\u8f93\u51fa 2\uff0c\u518d\u8f93\u51fa 1\u3002</p> <pre><code>const fs = require(\"fs\");\n\nfs.readFile(\"test.js\", () =&gt; {\n  setTimeout(() =&gt; console.log(1));\n  setImmediate(() =&gt; console.log(2));\n});\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4f1a\u5148\u8fdb\u5165 I/O callbacks \u9636\u6bb5\uff0c\u7136\u540e\u662f check \u9636\u6bb5\uff0c\u6700\u540e\u624d\u662f timers \u9636\u6bb5\u3002\u56e0\u6b64\uff0c<code>setImmediate</code>\u624d\u4f1a\u65e9\u4e8e<code>setTimeout</code>\u6267\u884c\u3002</p>"},{"location":"nodejs/node%E5%AE%9A%E6%97%B6%E5%99%A8/#_7","title":"\u4e5d\u3001\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>The Node.js Event Loop, Timers, and process.nextTick(), by Node.js</li> <li>Handling IO\u200a\u2014\u200aNodeJS Event Loop, by Deepal Jayasekara</li> <li>setImmediate() vs nextTick() vs setTimeout(fn,0) \u2013 in depth explanation, by Paul Shan</li> <li>Node.js event loop workflow &amp; lifecycle in low level, by Paul Shan</li> </ul> <p>\uff08\u5b8c\uff09</p>"},{"location":"nodejs/%E4%BD%BF%E7%94%A8nodejs%E8%BF%9E%E6%8E%A5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E7%8E%B0%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/","title":"\u4f7f\u7528 nodejs \u8fde\u63a5 mysql \u6570\u636e\u5e93\u5b9e\u73b0\u589e\u5220\u6539\u67e5","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6662  \u9605\u8bfb14\u5206\u949f</p>"},{"location":"nodejs/%E4%BD%BF%E7%94%A8nodejs%E8%BF%9E%E6%8E%A5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E7%8E%B0%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u9996\u5148\u8981\u6709\u6570\u636e\u5e93 \u4f7f\u7528 xampp \u6216\u8005 phpstudy \u53ef\u4ee5\u50bb\u74dc\u5f0f\u5b89\u88c5</p> <p>\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\u6587\u4ef6\u5939 \u4e4b\u540e\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u521d\u59cb\u5316 package.json</p> <p>\u5148\u5728\u9879\u76ee\u4e2d\u5b89\u88c5 mysql \u548c express ,\u8fd9\u4e2a\u9879\u76ee\u91cc\u4f7f\u7528 express</p> <p>\u56e0\u4e3a express \u5b9e\u73b0\u8def\u7531\u6bd4\u8f83\u65b9\u4fbf</p> <p>cnpm install mysql express --save</p> <p></p> <p>\u5df2\u7ecf\u5b89\u88c5\u597d mysql \u548c express</p>"},{"location":"nodejs/%E4%BD%BF%E7%94%A8nodejs%E8%BF%9E%E6%8E%A5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E7%8E%B0%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/#_2","title":"\u521d\u59cb\u5316\u670d\u52a1\u5668","text":"<p>\u63a5\u4e0b\u6765\u521b\u5efa app.js</p> <p>\u5728 app.js \u91cc\u5f15\u5165 express \u5e76\u5b9e\u4f8b\u5316 express \u5bf9\u8c61</p> <p>\u5728 app.js \u91cc\u5f15\u5165 mysql</p> <p></p> <p>\u5f00\u542f\u4e00\u4e2a\u670d\u52a1\u5668</p> <p></p> <p>\u63a5\u4e0b\u6765\u521b\u5efa\u8fde\u63a5</p> <p></p> <p>\u4f7f\u7528 db.connect()\u65b9\u6cd5\u8fde\u63a5 ,\u8fd9\u4e2a\u65b9\u6cd5\u63a5\u6536\u4e00\u4e2a\u53c2\u6570 \u6709\u9519\u8bef\u5c31\u62a5\u9519</p> <p></p>"},{"location":"nodejs/%E4%BD%BF%E7%94%A8nodejs%E8%BF%9E%E6%8E%A5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E7%8E%B0%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/#_3","title":"\u521b\u5efa\u6570\u636e\u5e93","text":"<p>\u5728\u4e00\u4e2a\u8def\u7531\u91cc\u5199 sql \u8bed\u53e5 \u4f7f\u7528 db.query \u6765\u6267\u884c sql \u8bed\u53e5 db.query()\u65b9\u6cd5\u6709\u4e24\u4e2a\u53c2\u6570 ,\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u8981\u6267\u884c\u7684\u8bed\u53e5 \u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e2a\u56de\u8c03\u51fd\u6570 \u56de\u8c03\u51fd\u6570\u91cc\u53ef\u4ee5\u63a5\u6536\u9519\u8bef\u4fe1\u606f,\u4e5f\u6709\u6267\u884c\u540e\u56de\u6765\u7684\u4fe1\u606f \u4f9d\u7136\u662f\u9519\u8bef\u4f18\u5148</p> <p></p> <p>\u63a5\u4e0b\u6765\u5728\u6d4f\u89c8\u5668\u91cc\u8bbf\u95ee 127.0.0.1:3000/createdb</p> <p></p> <p>\u9875\u9762\u4e0a\u663e\u793a\u521b\u5efa\u6210\u529f</p> <p></p> <p>\u6570\u636e\u5e93\u91cc\u5df2\u7ecf\u6709 nodemysql \u6570\u636e\u5e93\u4e86</p> <p>\u8fd9\u4e2a\u65f6\u5019\u5c31\u53ef\u4ee5\u5728\u914d\u7f6e\u8fde\u63a5\u6570\u636e\u5e93\u91cc\u52a0\u4e0a\u5f53\u524d\u7684\u6570\u636e\u5e93\u4e86</p> <p></p>"},{"location":"nodejs/%E4%BD%BF%E7%94%A8nodejs%E8%BF%9E%E6%8E%A5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E7%8E%B0%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/#_4","title":"\u521b\u5efa\u8868","text":"<p>\u4e5f\u662f\u5728\u4e00\u4e2a\u8def\u7531\u91cc\u5199 sql \u8bed\u53e5</p> <p>\u7c7b\u578b\u662f int \u6570\u503c AUTO_INCREMENT \u8ba9 id \u81ea\u589e, VARCHAR(255) \u5b57\u7b26\u4e32 \u957f\u5ea6 255,PRIMARY KEY(ID) \u628a id \u8bbe\u4e3a\u4e3b\u952e</p> <p></p> <p>\u4f7f\u7528 db.query()\u65b9\u6cd5\u6267\u884c sql \u8bed\u53e5</p> <p></p> <p>\u73b0\u5728\u5728\u6d4f\u89c8\u5668\u91cc\u8bbf\u95ee 127.0.0.1:3000/createpoststable</p> <p></p> <p>\u9875\u9762\u4e0a\u663e\u793a\u521b\u5efa\u6210\u529f</p> <p></p> <p>\u6570\u636e\u5e93\u91cc\u5df2\u7ecf\u6709 posts \u7684\u8868\u4e86</p> <p></p>"},{"location":"nodejs/%E4%BD%BF%E7%94%A8nodejs%E8%BF%9E%E6%8E%A5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E7%8E%B0%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/#_5","title":"\u63d2\u5165\u5185\u5bb9","text":"<p>\u63a5\u4e0b\u6765\u5f80\u6570\u636e\u5e93\u8fd9\u4e2a\u8868\u91cc\u63d2\u5165\u5185\u5bb9</p> <p>\u63d2\u5165\u5185\u5bb9 \u8fd8\u662f\u5728\u4e00\u4e2a\u8def\u7531\u91cc\u64cd\u4f5c</p> <p></p> <p>\u5199\u4e2a\u95ee\u53f7 \u9632\u6b62 sql \u6ce8\u5165 \u4f1a\u5728\u6267\u884c\u65f6\u628a post \u4f20\u8fdb sql \u8bed\u53e5 \u66ff\u6362\u95ee\u53f7</p> <p>\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee 127.0.0.1:3000/addpost1</p> <p></p> <p>\u9875\u9762\u4e0a\u663e\u793a\u6210\u529f</p> <p></p> <p>\u6570\u636e\u5e93\u91cc\u4e5f\u6709\u4e86\u8fd9\u4e00\u6761\u6570\u636e</p>"},{"location":"nodejs/%E4%BD%BF%E7%94%A8nodejs%E8%BF%9E%E6%8E%A5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E7%8E%B0%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/#_6","title":"\u67e5\u8be2\u5185\u5bb9","text":"<p>\u67e5\u8be2 posts \u8868\u4e2d\u6240\u6709\u6570\u636e</p> <p></p> <p>\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee 127.0.0.1:3000/getposts</p> <p></p> <p>\u9875\u9762\u663e\u793a\u67e5\u8be2\u6210\u529f</p> <p>\u6253\u5370\u4e86\u67e5\u8be2\u5230\u7684\u7ed3\u679c</p> <p></p> <p>\u5982\u679c\u8981\u628a\u67e5\u8be2\u5230\u7684\u5185\u5bb9\u8fd4\u56de\u51fa\u53bb \u4f7f\u7528 res.json(result)</p> <p></p> <p>\u6d4f\u89c8\u5668\u4e2d\u6548\u679c</p> <p></p> <p>\u63a5\u4e0b\u6765\u67e5\u8be2\u5355\u6761\u5185\u5bb9</p> <p>\u4f7f\u7528 req.params.id \u63a5\u6536\u4f20\u6765\u7684\u53c2\u6570</p> <p></p> <p>\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee 127.0.0.1:3000/getposts/1</p> <p></p> <p>\u9875\u9762\u4e2d\u663e\u793a\u4e86\u67e5\u8be2\u5230\u7684\u5355\u6761\u6570\u636e</p>"},{"location":"nodejs/%E4%BD%BF%E7%94%A8nodejs%E8%BF%9E%E6%8E%A5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E7%8E%B0%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/#_7","title":"\u66f4\u65b0\u5185\u5bb9","text":"<p>\u66f4\u65b0\u7684\u662f\u67d0\u4e00\u6761\u5185\u5bb9 \u6240\u4ee5\u8fd8\u7528\u4f20\u53c2\u6570 \u9700\u8981\u6ce8\u610f\u7684\u662f \u8981\u66f4\u65b0\u7684 newTitle \u662f\u5b57\u7b26\u4e32 \u6240\u4ee5\u5199 sql \u8bed\u53e5\u7684\u65f6\u5019\u9700\u8981\u4f7f\u7528\u5355\u5f15\u53f7 \u5f15\u8d77\u6765 ,\u5982\u679c\u662f\u6570\u503c\u5c31\u4e0d\u7528\u4e86.</p> <p></p> <p>\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee 127.0.0.1:3000/updatepost/1</p> <p></p> <p>\u9875\u9762\u4e0a\u663e\u793a\u66f4\u65b0\u6210\u529f \u8bbf\u95ee 127.0.0.1:3000/getposts/1 \u770b\u770b\u6570\u636e\u6709\u6ca1\u6709\u53d8\u5316</p> <p></p> <p>\u6709\u53d8\u5316\u4e86</p>"},{"location":"nodejs/%E4%BD%BF%E7%94%A8nodejs%E8%BF%9E%E6%8E%A5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E7%8E%B0%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/#_8","title":"\u5220\u9664\u5185\u5bb9","text":"<p>\u8fd8\u662f\u5728\u4e00\u4e2a\u8def\u7531\u91cc\u5199\u65b9\u6cd5 \u4f20\u6765\u8981\u5220\u9664\u7684\u53c2\u6570</p> <p></p> <p>\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee 127.0.0.1:3000/deletepost/1 \u5220\u9664\u7b2c\u4e00\u6761\u6570\u636e</p> <p></p> <p>\u9875\u9762\u4e0a\u663e\u793a\u5220\u9664\u6210\u529f</p> <p></p> <p>\u6570\u636e\u5e93\u91cc\u53ea\u6709\u4e00\u6761\u6570\u636e\u4e86</p> <p>\u81f3\u6b64 \u4f7f\u7528 nodejs+express \u8fde\u63a5 mysql \u6570\u636e\u5e93 \u589e\u5220\u6539\u67e5 \u5df2\u7ecf\u5168\u90e8\u5b9e\u73b0</p>"},{"location":"nodejs/%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9A%84nodeJS/","title":"\u5982\u4f55\u4f7f\u7528 Node.js \u5f00\u53d1\u547d\u4ee4\u884c\u7a0b\u5e8f\uff1f","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 8843  \u9605\u8bfb18\u5206\u949f</p> <p>\u4e00\u79cd\u7f16\u7a0b\u8bed\u8a00\u662f\u5426\u6613\u7528\uff0c\u5f88\u5927\u7a0b\u5ea6\u4e0a\uff0c\u53d6\u51b3\u4e8e\u5f00\u53d1\u547d\u4ee4\u884c\u7a0b\u5e8f\u7684\u80fd\u529b\u3002</p> <p>Node.js \u4f5c\u4e3a\u76ee\u524d\u6700\u70ed\u95e8\u7684\u5f00\u53d1\u5de5\u5177\u4e4b\u4e00\uff0c\u600e\u6837\u4f7f\u7528\u5b83\u5f00\u53d1\u547d\u4ee4\u884c\u7a0b\u5e8f\uff0c\u662f Web \u5f00\u53d1\u8005\u5e94\u8be5\u638c\u63e1\u7684\u6280\u80fd\u3002</p> <p>\u6700\u8fd1\uff0cNpm \u7684\u7f51\u5fd7\u6709\u4e00\u7ec4\u7cfb\u5217\u6587\u7ae0\uff0c\u6211\u89c9\u5f97\u5199\u5f97\u975e\u5e38\u597d\u3002\u4e0b\u9762\u5c31\u662f\u6211\u5728\u5b83\u7684\u57fa\u7840\u4e0a\u6269\u5c55\u7684\u6559\u7a0b\uff0c\u5e94\u8be5\u662f\u76ee\u524d\u6700\u597d\u7684\u89e3\u51b3\u65b9\u6848\u4e86\u3002</p>"},{"location":"nodejs/%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9A%84nodeJS/#_1","title":"\u4e00\u3001\u53ef\u6267\u884c\u811a\u672c","text":"<p>\u6211\u4eec\u4ece\u6700\u7b80\u5355\u7684\u8bb2\u8d77\u3002</p> <p>\u9996\u5148\uff0c\u4f7f\u7528 JavaScript \u8bed\u8a00\uff0c\u5199\u4e00\u4e2a\u53ef\u6267\u884c\u811a\u672c hello \u3002</p> <pre><code>#!/usr/bin/env node\nconsole.log(\"hello world\");\n</code></pre> <p>\u7136\u540e\uff0c\u4fee\u6539 hello \u7684\u6743\u9650\u3002</p> <pre><code>$ chmod 755 hello\n</code></pre> <p>\u73b0\u5728\uff0chello \u5c31\u53ef\u4ee5\u6267\u884c\u4e86\u3002</p> <pre><code>$ ./hello\nhello world\n</code></pre> <p>\u5982\u679c\u60f3\u628a hello \u524d\u9762\u7684\u8def\u5f84\u53bb\u9664\uff0c\u53ef\u4ee5\u5c06 hello \u7684\u8def\u5f84\u52a0\u5165\u73af\u5883\u53d8\u91cf PATH\u3002\u4f46\u662f\uff0c\u53e6\u4e00\u79cd\u66f4\u597d\u7684\u505a\u6cd5\uff0c\u662f\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u65b0\u5efa package.json \uff0c\u5199\u5165\u4e0b\u9762\u7684\u5185\u5bb9\u3002</p> <pre><code>{\n  \"name\": \"hello\",\n  \"bin\": {\n    \"hello\": \"hello\"\n  }\n}\n</code></pre> <p>\u7136\u540e\u6267\u884c npm link \u547d\u4ee4\u3002</p> <pre><code>$ npm link\n</code></pre> <p>\u73b0\u5728\u518d\u6267\u884c hello \uff0c\u5c31\u4e0d\u7528\u8f93\u5165\u8def\u5f84\u4e86\u3002</p> <pre><code>$ hello\nhello world\n</code></pre>"},{"location":"nodejs/%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9A%84nodeJS/#_2","title":"\u4e8c\u3001\u547d\u4ee4\u884c\u53c2\u6570\u7684\u539f\u59cb\u5199\u6cd5","text":"<p>\u547d\u4ee4\u884c\u53c2\u6570\u53ef\u4ee5\u7528\u7cfb\u7edf\u53d8\u91cf process.argv \u83b7\u53d6\u3002</p> <pre><code>#!/usr/bin/env node\nconsole.log(\"hello \", process.argv[2]);\n</code></pre> <p>\u6267\u884c\u65f6\uff0c\u76f4\u63a5\u5728\u811a\u672c\u6587\u4ef6\u540e\u9762\uff0c\u52a0\u4e0a\u53c2\u6570\u5373\u53ef\u3002</p> <pre><code>$ ./hello tom\nhello tom\n</code></pre>"},{"location":"nodejs/%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9A%84nodeJS/#_3","title":"\u4e09\u3001\u65b0\u5efa\u8fdb\u7a0b","text":"<p>\u811a\u672c\u53ef\u4ee5\u901a\u8fc7 child_process \u6a21\u5757\u65b0\u5efa\u5b50\u8fdb\u7a0b\uff0c\u4ece\u800c\u6267\u884c Unix \u7cfb\u7edf\u547d\u4ee4\u3002</p> <pre><code>#!/usr/bin/env node\nvar name = process.argv[2];\nvar exec = require(\"child_process\").exec;\n\nvar child = exec(\"echo hello \" + name, function (err, stdout, stderr) {\n  if (err) throw err;\n  console.log(stdout);\n});\n</code></pre> <p>\u7528\u6cd5\u5982\u4e0b\u3002</p> <pre><code>$ ./hello tom\nhello tom\n</code></pre>"},{"location":"nodejs/%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9A%84nodeJS/#shelljs","title":"\u56db\u3001shelljs \u6a21\u5757","text":"<p>shelljs \u6a21\u5757\u91cd\u65b0\u5305\u88c5\u4e86 child_process\uff0c\u8c03\u7528\u7cfb\u7edf\u547d\u4ee4\u66f4\u52a0\u65b9\u4fbf\u3002\u5b83\u9700\u8981\u5b89\u88c5\u540e\u4f7f\u7528\u3002</p> <pre><code>npm install --save shelljs\n</code></pre> <p>\u7136\u540e\uff0c\u6539\u5199\u811a\u672c\u3002</p> <pre><code>#!/usr/bin/env node\nvar name = process.argv[2];\nvar shell = require(\"shelljs\");\n\nshell.exec(\"echo hello \" + name);\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u662f shelljs \u7684\u672c\u5730\u6a21\u5f0f\uff0c\u5373\u901a\u8fc7 exec \u65b9\u6cd5\u6267\u884c shell \u547d\u4ee4\u3002\u6b64\u5916\u8fd8\u6709\u5168\u5c40\u6a21\u5f0f\uff0c\u5141\u8bb8\u76f4\u63a5\u5728\u811a\u672c\u4e2d\u5199 shell \u547d\u4ee4\u3002</p> <pre><code>require(\"shelljs/global\");\n\nif (!which(\"git\")) {\n  echo(\"Sorry, this script requires git\");\n  exit(1);\n}\n\nmkdir(\"-p\", \"out/Release\");\ncp(\"-R\", \"stuff/*\", \"out/Release\");\n\ncd(\"lib\");\nls(\"*.js\").forEach(function (file) {\n  sed(\"-i\", \"BUILD_VERSION\", \"v0.1.2\", file);\n  sed(\"-i\", /.*REMOVE_THIS_LINE.*\\n/, \"\", file);\n  sed(\"-i\", /.*REPLACE_LINE_WITH_MACRO.*\\n/, cat(\"macro.js\"), file);\n});\ncd(\"..\");\n\nif (exec('git commit -am \"Auto-commit\"').code !== 0) {\n  echo(\"Error: Git commit failed\");\n  exit(1);\n}\n</code></pre>"},{"location":"nodejs/%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9A%84nodeJS/#yargs","title":"\u4e94\u3001yargs \u6a21\u5757","text":"<p>shelljs \u53ea\u89e3\u51b3\u4e86\u5982\u4f55\u8c03\u7528 shell \u547d\u4ee4\uff0c\u800c yargs \u6a21\u5757\u80fd\u591f\u89e3\u51b3\u5982\u4f55\u5904\u7406\u547d\u4ee4\u884c\u53c2\u6570\u3002\u5b83\u4e5f\u9700\u8981\u5b89\u88c5\u3002</p> <pre><code>$ npm install --save yargs\n</code></pre> <p>yargs \u6a21\u5757\u63d0\u4f9b argv \u5bf9\u8c61\uff0c\u7528\u6765\u8bfb\u53d6\u547d\u4ee4\u884c\u53c2\u6570\u3002\u8bf7\u770b\u6539\u5199\u540e\u7684 hello \u3002</p> <pre><code>#!/usr/bin/env node\nvar argv = require(\"yargs\").argv;\n\nconsole.log(\"hello \", argv.name);\n</code></pre> <p>\u4f7f\u7528\u65f6\uff0c\u4e0b\u9762\u4e24\u79cd\u7528\u6cd5\u90fd\u53ef\u4ee5\u3002</p> <pre><code>$ hello --name=tom\nhello tom\n\n$ hello --name tom\nhello tom\n</code></pre> <p>\u5982\u679c\u5c06 argv.name \u6539\u6210 argv.n\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u5b57\u6bcd\u7684\u77ed\u53c2\u6570\u5f62\u5f0f\u4e86\u3002</p> <pre><code>$ hello -n tom\nhello tom\n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528 alias \u65b9\u6cd5\uff0c\u6307\u5b9a name \u662f n \u7684\u522b\u540d\u3002</p> <pre><code>#!/usr/bin/env node\nvar argv = require(\"yargs\").alias(\"n\", \"name\").argv;\n\nconsole.log(\"hello \", argv.n);\n</code></pre> <p>\u8fd9\u6837\u4e00\u6765\uff0c\u77ed\u53c2\u6570\u548c\u957f\u53c2\u6570\u5c31\u90fd\u53ef\u4ee5\u4f7f\u7528\u4e86\u3002</p> <pre><code>$ hello -n tom\nhello tom\n$ hello --name tom\nhello tom\n</code></pre> <p>argv \u5bf9\u8c61\u6709\u4e00\u4e2a\u4e0b\u5212\u7ebf\uff08_\uff09\u5c5e\u6027\uff0c\u53ef\u4ee5\u83b7\u53d6\u975e\u8fde\u8bcd\u7ebf\u5f00\u5934\u7684\u53c2\u6570\u3002</p> <pre><code>#!/usr/bin/env node\nvar argv = require(\"yargs\").argv;\n\nconsole.log(\"hello \", argv.n);\nconsole.log(argv._);\n</code></pre> <p>\u7528\u6cd5\u5982\u4e0b\u3002</p> <pre><code>$ hello A -n tom B C\nhello  tom\n[ 'A', 'B', 'C' ]\n</code></pre>"},{"location":"nodejs/%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9A%84nodeJS/#_4","title":"\u516d\u3001\u547d\u4ee4\u884c\u53c2\u6570\u7684\u914d\u7f6e","text":"<p>yargs \u6a21\u5757\u8fd8\u63d0\u4f9b 3 \u4e2a\u65b9\u6cd5\uff0c\u7528\u6765\u914d\u7f6e\u547d\u4ee4\u884c\u53c2\u6570\u3002</p> <ul> <li>demand\uff1a\u662f\u5426\u5fc5\u9009</li> <li>default\uff1a\u9ed8\u8ba4\u503c</li> <li>describe\uff1a\u63d0\u793a</li> </ul> <pre><code>#!/usr/bin/env node\nvar argv = require(\"yargs\")\n  .demand([\"n\"])\n  .default({ n: \"tom\" })\n  .describe({ n: \"your name\" }).argv;\n\nconsole.log(\"hello \", argv.n);\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u6307\u5b9a n \u53c2\u6570\u4e0d\u53ef\u7701\u7565\uff0c\u9ed8\u8ba4\u503c\u4e3a tom\uff0c\u5e76\u7ed9\u51fa\u4e00\u884c\u63d0\u793a\u3002</p> <p>options \u65b9\u6cd5\u5141\u8bb8\u5c06\u6240\u6709\u8fd9\u4e9b\u914d\u7f6e\u5199\u8fdb\u4e00\u4e2a\u5bf9\u8c61\u3002</p> <pre><code>#!/usr/bin/env node\nvar argv = require(\"yargs\").option(\"n\", {\n  alias: \"name\",\n  demand: true,\n  default: \"tom\",\n  describe: \"your name\",\n  type: \"string\",\n}).argv;\n\nconsole.log(\"hello \", argv.n);\n</code></pre> <p>\u6709\u65f6\uff0c\u67d0\u4e9b\u53c2\u6570\u4e0d\u9700\u8981\u503c\uff0c\u53ea\u8d77\u5230\u4e00\u4e2a\u5f00\u5173\u4f5c\u7528\uff0c\u8fd9\u65f6\u53ef\u4ee5\u7528 boolean \u65b9\u6cd5\u6307\u5b9a\u8fd9\u4e9b\u53c2\u6570\u8fd4\u56de\u5e03\u5c14\u503c\u3002</p> <pre><code>#!/usr/bin/env node\nvar argv = require(\"yargs\").boolean([\"n\"]).argv;\n\nconsole.log(\"hello \", argv.n);\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53c2\u6570 n \u603b\u662f\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u7528\u6cd5\u5982\u4e0b\u3002</p> <pre><code>$ hello\nhello  false\n$ hello -n\nhello  true\n$ hello -n tom\nhello  true\n</code></pre> <p>boolean \u65b9\u6cd5\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u5c5e\u6027\uff0c\u5199\u5165 option \u5bf9\u8c61\u3002</p> <pre><code>#!/usr/bin/env node\nvar argv = require(\"yargs\").option(\"n\", {\n  boolean: true,\n}).argv;\n\nconsole.log(\"hello \", argv.n);\n</code></pre>"},{"location":"nodejs/%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9A%84nodeJS/#_5","title":"\u4e03\u3001\u5e2e\u52a9\u4fe1\u606f","text":"<p>yargs \u6a21\u5757\u63d0\u4f9b\u4ee5\u4e0b\u65b9\u6cd5\uff0c\u751f\u6210\u5e2e\u52a9\u4fe1\u606f\u3002</p> <ul> <li>usage\uff1a\u7528\u6cd5\u683c\u5f0f</li> <li>example\uff1a\u63d0\u4f9b\u4f8b\u5b50</li> <li>help\uff1a\u663e\u793a\u5e2e\u52a9\u4fe1\u606f</li> <li>epilog\uff1a\u51fa\u73b0\u5728\u5e2e\u52a9\u4fe1\u606f\u7684\u7ed3\u5c3e</li> </ul> <pre><code>#!/usr/bin/env node\nvar argv = require(\"yargs\")\n  .option(\"f\", {\n    alias: \"name\",\n    demand: true,\n    default: \"tom\",\n    describe: \"your name\",\n    type: \"string\",\n  })\n  .usage(\"Usage: hello [options]\")\n  .example(\"hello -n tom\", \"say hello to Tom\")\n  .help(\"h\")\n  .alias(\"h\", \"help\")\n  .epilog(\"copyright 2015\").argv;\n\nconsole.log(\"hello \", argv.n);\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\u5982\u4e0b\u3002</p> <pre><code>$ hello -h\n\nUsage: hello [options]\n\nOptions:\n  -f, --name  your name [string] [required] [default: \"tom\"]\n  -h, --help  Show help [boolean]\n\nExamples:\n  hello -n tom  say hello to Tom\n\ncopyright 2015\n</code></pre>"},{"location":"nodejs/%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9A%84nodeJS/#_6","title":"\u516b\u3001\u5b50\u547d\u4ee4","text":"<p>yargs \u6a21\u5757\u8fd8\u5141\u8bb8\u901a\u8fc7 command \u65b9\u6cd5\uff0c\u8bbe\u7f6e Git \u98ce\u683c\u7684\u5b50\u547d\u4ee4\u3002</p> <pre><code>#!/usr/bin/env node\nvar argv = require(\"yargs\")\n  .command(\"morning\", \"good morning\", function (yargs) {\n    console.log(\"Good Morning\");\n  })\n  .command(\"evening\", \"good evening\", function (yargs) {\n    console.log(\"Good Evening\");\n  }).argv;\n\nconsole.log(\"hello \", argv.n);\n</code></pre> <p>\u7528\u6cd5\u5982\u4e0b\u3002</p> <pre><code>$ hello morning -n tom\nGood Morning\nhello tom\n</code></pre> <p>\u53ef\u4ee5\u5c06\u8fd9\u4e2a\u529f\u80fd\u4e0e shellojs \u6a21\u5757\u7ed3\u5408\u8d77\u6765\u3002</p> <pre><code>#!/usr/bin/env node\nrequire(\"shelljs/global\");\nvar argv = require(\"yargs\")\n  .command(\"morning\", \"good morning\", function (yargs) {\n    echo(\"Good Morning\");\n  })\n  .command(\"evening\", \"good evening\", function (yargs) {\n    echo(\"Good Evening\");\n  }).argv;\n\nconsole.log(\"hello \", argv.n);\n</code></pre> <p>\u6bcf\u4e2a\u5b50\u547d\u4ee4\u5f80\u5f80\u6709\u81ea\u5df1\u7684\u53c2\u6570\uff0c\u8fd9\u65f6\u5c31\u9700\u8981\u5728\u56de\u8c03\u51fd\u6570\u4e2d\u5355\u72ec\u6307\u5b9a\u3002\u56de\u8c03\u51fd\u6570\u4e2d\uff0c\u8981\u5148\u7528 reset \u65b9\u6cd5\u91cd\u7f6e yargs \u5bf9\u8c61\u3002</p> <pre><code>#!/usr/bin/env node\nrequire(\"shelljs/global\");\nvar argv = require(\"yargs\").command(\n  \"morning\",\n  \"good morning\",\n  function (yargs) {\n    echo(\"Good Morning\");\n    var argv = yargs\n      .reset()\n      .option(\"m\", {\n        alias: \"message\",\n        description: \"provide any sentence\",\n      })\n      .help(\"h\")\n      .alias(\"h\", \"help\").argv;\n\n    echo(argv.m);\n  }\n).argv;\n</code></pre> <p>\u7528\u6cd5\u5982\u4e0b\u3002</p> <pre><code>$ hello morning -m \"Are you hungry?\"\nGood Morning\nAre you hungry?\n</code></pre>"},{"location":"nodejs/%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9A%84nodeJS/#_7","title":"\u4e5d\u3001\u5176\u4ed6\u4e8b\u9879","text":"<p>\uff081\uff09\u8fd4\u56de\u503c</p> <p>\u6839\u636e Unix \u4f20\u7edf\uff0c\u7a0b\u5e8f\u6267\u884c\u6210\u529f\u8fd4\u56de 0\uff0c\u5426\u5219\u8fd4\u56de 1 \u3002</p> <pre><code>if (err) {\n  process.exit(1);\n} else {\n  process.exit(0);\n}\n</code></pre> <p>\uff082\uff09\u91cd\u5b9a\u5411</p> <p>Unix \u5141\u8bb8\u7a0b\u5e8f\u4e4b\u95f4\u4f7f\u7528\u7ba1\u9053\u91cd\u5b9a\u5411\u6570\u636e\u3002</p> <pre><code>$ ps aux | grep 'node'\n</code></pre> <p>\u811a\u672c\u53ef\u4ee5\u901a\u8fc7\u76d1\u542c\u6807\u51c6\u8f93\u5165\u7684 data \u4e8b\u4ef6\uff0c\u83b7\u53d6\u91cd\u5b9a\u5411\u7684\u6570\u636e\u3002</p> <pre><code>process.stdin.resume();\nprocess.stdin.setEncoding(\"utf8\");\nprocess.stdin.on(\"data\", function (data) {\n  process.stdout.write(data);\n});\n</code></pre> <p>\u4e0b\u9762\u662f\u7528\u6cd5\u3002</p> <pre><code>$ echo 'foo' | ./hello\nhello foo\n</code></pre> <p>\uff083\uff09\u7cfb\u7edf\u4fe1\u53f7</p> <p>\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u5411\u6267\u884c\u4e2d\u7684\u8fdb\u7a0b\u53d1\u9001\u4fe1\u53f7\uff0cprocess \u5bf9\u8c61\u80fd\u591f\u76d1\u542c\u4fe1\u53f7\u4e8b\u4ef6\u3002</p> <pre><code>process.on(\"SIGINT\", function () {\n  console.log(\"Got a SIGINT\");\n  process.exit(0);\n});\n</code></pre> <p>\u53d1\u9001\u4fe1\u53f7\u7684\u65b9\u6cd5\u5982\u4e0b\u3002</p> <pre><code>$ kill -s SIGINT [process_id]\n</code></pre> <p>\uff08\u5b8c\uff09</p>"},{"location":"nodejs/%E5%BB%96%E9%9B%AA%E5%B3%B0%20NodeJS/","title":"\u5ed6\u96ea\u5cf0 NodeJS","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 85  \u9605\u8bfb1\u5206\u949f</p> <p>https://www.liaoxuefeng.com/wiki/1022910821149312/1023025235359040</p>"},{"location":"nodejs/%E8%B0%88%E8%B0%88Node%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E6%A6%82%E5%BF%B5/","title":"\u8c08\u8c08 Node \u4e2d\u7684\u5e38\u89c1\u6982\u5ff5","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9086  \u9605\u8bfb19\u5206\u949f</p> <p>\u5728\u5b66\u4e60 Node \u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u8981\u4e86\u89e3\u4e00\u4e9b\u57fa\u7840\u6982\u5ff5\u3002</p> <ul> <li>\u4ec0\u4e48\u662f Node</li> <li>\u89e3\u51b3\u4e86\u54ea\u4e9b\u95ee\u9898</li> <li>Node \u7684\u7279\u70b9</li> <li>\u8fdb\u7a0b\u548c\u7ebf\u7a0b\uff0c\u540c\u6b65\u4e0e\u5f02\u6b65\uff0c\u963b\u585e\u548c\u975e\u963b\u585e\uff0c\u4ee5\u53ca Node \u4e2d\u6838\u5fc3\u7684(Event Loop)\u4e8b\u4ef6\u73af\u7684\u6982\u5ff5\u3002</li> </ul>"},{"location":"nodejs/%E8%B0%88%E8%B0%88Node%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E6%A6%82%E5%BF%B5/#1node","title":"1.Node \u662f\u4ec0\u4e48?","text":"<p>Node.js \u662f\u4e00\u4e2a\u57fa\u4e8e Chrome V8 \u5f15\u64ce\u7684 JavaScript \u8fd0\u884c\u73af\u5883(runtime)\uff0cNode \u4e0d\u662f\u4e00\u95e8\u8bed\u8a00\uff0c\u662f\u8ba9 js \u8fd0\u884c\u5728\u540e\u7aef\u7684\u8fd0\u884c\u65f6\uff0c\u5e76\u4e14\u4e0d\u5305\u62ec javascript \u5168\u96c6\uff0c\u56e0\u4e3a\u5728\u670d\u52a1\u7aef\u4e2d\u4e0d\u5305\u542b<code>DOM</code>\u548c<code>BOM</code>\uff0cNode \u4e5f\u63d0\u4f9b\u4e86\u4e00\u4e9b\u65b0\u7684\u6a21\u5757\u4f8b\u5982 http\uff0cfs \u6a21\u5757\u7b49\u3002</p> <p>Node.js \u4f7f\u7528\u4e86<code>\u4e8b\u4ef6\u9a71\u52a8</code>\u3001<code>\u975e\u963b\u585e\u5f0f I/O</code> \u7684\u6a21\u578b\uff0c\u4f7f\u5176\u8f7b\u91cf\u53c8\u9ad8\u6548\u5e76\u4e14 Node.js \u7684\u5305\u7ba1\u7406\u5668 npm\uff0c\u662f\u5168\u7403\u6700\u5927\u7684\u5f00\u6e90\u5e93\u751f\u6001\u7cfb\u7edf\u3002\u4e8b\u4ef6\u9a71\u52a8\u4e0e\u975e\u963b\u585e IO \u540e\u9762\u6211\u4eec\u4f1a\u4e00\u4e00\u4ecb\u7ecd\u3002</p>"},{"location":"nodejs/%E8%B0%88%E8%B0%88Node%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E6%A6%82%E5%BF%B5/#2node","title":"2.Node \u89e3\u51b3\u4e86\u54ea\u4e9b\u95ee\u9898?","text":"<p>Node \u5728\u5904\u7406\u9ad8\u5e76\u53d1\uff0cI/O \u5bc6\u96c6\u573a\u666f\u6709\u660e\u663e\u7684\u6027\u80fd\u4f18\u52bf</p> <ul> <li>\u9ad8\u5e76\u53d1\uff0c\u662f\u6307\u5728\u540c\u4e00\u65f6\u95f4\u5e76\u53d1\u8bbf\u95ee\u670d\u52a1\u5668</li> <li>I/O \u5bc6\u96c6\u6307\u7684\u662f\u6587\u4ef6\u64cd\u4f5c\u3001\u7f51\u7edc\u64cd\u4f5c\u3001\u6570\u636e\u5e93\uff0c\u76f8\u5bf9\u7684\u6709 CPU \u5bc6\u96c6\uff0cCPU \u5bc6\u96c6\u6307\u7684\u662f\u903b\u8f91\u5904\u7406\u8fd0\u7b97\u3001\u538b\u7f29\u3001\u89e3\u538b\u3001\u52a0\u5bc6\u3001\u89e3\u5bc6</li> </ul> <p>Web \u4e3b\u8981\u573a\u666f\u5c31\u662f\u63a5\u6536\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u8bfb\u53d6\u9759\u6001\u8d44\u6e90\u548c\u6e32\u67d3\u754c\u9762\uff0c\u6240\u4ee5 Node \u975e\u5e38\u9002\u5408 Web \u5e94\u7528\u7684\u5f00\u53d1\u3002</p>"},{"location":"nodejs/%E8%B0%88%E8%B0%88Node%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E6%A6%82%E5%BF%B5/#3","title":"3.\u8fdb\u7a0b\u4e0e\u7ebf\u7a0b","text":"<p>\u8fdb\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u5206\u914d\u8d44\u6e90\u548c\u8c03\u5ea6\u4efb\u52a1\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u7ebf\u7a0b\u662f\u5efa\u7acb\u5728\u8fdb\u7a0b\u4e0a\u7684\u4e00\u6b21\u7a0b\u5e8f\u8fd0\u884c\u5355\u4f4d\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u4e0a\u53ef\u4ee5\u6709\u591a\u4e2a\u7ebf\u7a0b\u3002</p>"},{"location":"nodejs/%E8%B0%88%E8%B0%88Node%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E6%A6%82%E5%BF%B5/#31","title":"3.1 \u8c08\u8c08\u6d4f\u89c8\u5668","text":"<ul> <li>\u7528\u6237\u754c\u9762-\u5305\u62ec\u5730\u5740\u680f\u3001\u524d\u8fdb/\u540e\u9000\u6309\u94ae\u3001\u4e66\u7b7e\u83dc\u5355\u7b49</li> <li>\u6d4f\u89c8\u5668\u5f15\u64ce-\u5728\u7528\u6237\u754c\u9762\u548c\u5448\u73b0\u5f15\u64ce\u4e4b\u95f4\u4f20\u9001\u6307\u4ee4(\u6d4f\u89c8\u5668\u7684\u4e3b\u8fdb\u7a0b)</li> <li>\u6e32\u67d3\u5f15\u64ce\uff0c\u4e5f\u88ab\u79f0\u4e3a\u6d4f\u89c8\u5668\u5185\u6838(\u6d4f\u89c8\u5668\u6e32\u67d3\u8fdb\u7a0b)</li> <li>\u4e00\u4e2a\u63d2\u4ef6\u5bf9\u5e94\u4e00\u4e2a\u8fdb\u7a0b(\u7b2c\u4e09\u65b9\u63d2\u4ef6\u8fdb\u7a0b)</li> <li>GPU \u63d0\u9ad8\u7f51\u9875\u6d4f\u89c8\u7684\u4f53\u9a8c(GPU \u8fdb\u7a0b)</li> </ul> <p>\u7531\u6b64\u53ef\u89c1\u6d4f\u89c8\u5668\u662f\u591a\u8fdb\u7a0b\u7684\uff0c\u5e76\u4e14\u4ece\u6211\u4eec\u7684\u89d2\u5ea6\u6765\u770b\u6211\u4eec\u66f4\u52a0\u5173\u5fc3\u6d4f\u89c8\u5668\u6e32\u67d3\u5f15\u64ce</p>"},{"location":"nodejs/%E8%B0%88%E8%B0%88Node%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E6%A6%82%E5%BF%B5/#32","title":"3.2 \u6e32\u67d3\u5f15\u64ce","text":"<p>\u6e32\u67d3\u5f15\u64ce\u5185\u90e8\u662f\u591a\u7ebf\u7a0b\u7684\uff0c\u5185\u90e8\u5305\u542b\u4e24\u4e2a\u6700\u4e3a\u91cd\u8981\u7684\u7ebf\u7a0b ui \u7ebf\u7a0b\u548c js \u7ebf\u7a0b\u3002\u8fd9\u91cc\u8981\u7279\u522b\u6ce8\u610f ui \u7ebf\u7a0b\u548c js \u7ebf\u7a0b\u662f\u4e92\u65a5\u7684\uff0c\u56e0\u4e3a JS \u8fd0\u884c\u7ed3\u679c\u4f1a\u5f71\u54cd\u5230 ui \u7ebf\u7a0b\u7684\u7ed3\u679c\u3002ui \u66f4\u65b0\u4f1a\u88ab\u4fdd\u5b58\u5728\u961f\u5217\u4e2d\u7b49\u5230 js \u7ebf\u7a0b\u7a7a\u95f2\u65f6\u7acb\u5373\u88ab\u6267\u884c\u3002</p>"},{"location":"nodejs/%E8%B0%88%E8%B0%88Node%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E6%A6%82%E5%BF%B5/#33","title":"3.3 \u5176\u4ed6\u7ebf\u7a0b","text":"<ul> <li>\u6d4f\u89c8\u5668\u4e8b\u4ef6\u89e6\u53d1\u7ebf\u7a0b(\u7528\u6765\u63a7\u5236\u4e8b\u4ef6\u5faa\u73af\uff0c\u5b58\u653e setTimeout\u3001\u6d4f\u89c8\u5668\u4e8b\u4ef6\u3001ajax \u7684\u56de\u8c03\u51fd\u6570)</li> <li>\u5b9a\u65f6\u89e6\u53d1\u5668\u7ebf\u7a0b(setTimeout \u5b9a\u65f6\u5668\u6240\u5728\u7ebf\u7a0b)</li> <li>\u5f02\u6b65 HTTP \u8bf7\u6c42\u7ebf\u7a0b(ajax \u8bf7\u6c42\u7ebf\u7a0b)</li> </ul>"},{"location":"nodejs/%E8%B0%88%E8%B0%88Node%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E6%A6%82%E5%BF%B5/#34-js","title":"3.4 js \u5355\u7ebf\u7a0b","text":"<p>javascript \u5728\u6700\u521d\u8bbe\u8ba1\u65f6\u8bbe\u8ba1\u6210\u4e86\u5355\u7ebf\u7a0b\uff0c\u4e3a\u4ec0\u4e48\u4e0d\u662f\u591a\u7ebf\u7a0b\u5462\uff1f\u5982\u679c\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u64cd\u4f5c DOM \u90a3\u5c82\u4e0d\u4f1a\u5f88\u6df7\u4e71\uff1f\u8fd9\u91cc\u6240\u8c13\u7684\u5355\u7ebf\u7a0b\u6307\u7684\u662f\u4e3b\u7ebf\u7a0b\u662f\u5355\u7ebf\u7a0b\u7684\uff0c\u6240\u4ee5\u5728 Node \u4e2d\u4e3b\u7ebf\u7a0b\u4f9d\u65e7\u662f\u5355\u7ebf\u7a0b\u7684\u3002</p> <p>\u5355\u7ebf\u7a0b\u7279\u70b9\u662f\u8282\u7ea6\u4e86\u5185\u5b58\uff0c\u5e76\u4e14\u4e0d\u9700\u8981\u5728\u5207\u6362\u6267\u884c\u4e0a\u4e0b\u6587\u3002\u800c\u4e14\u5355\u7ebf\u7a0b\u4e0d\u9700\u8981\u7ba1\u9501\u7684\u95ee\u9898\uff0c\u8fd9\u91cc\u7b80\u5355\u8bf4\u4e0b\u9501\u7684\u6982\u5ff5\u3002\u4f8b\u5982\u4e0b\u8bfe\u4e86\u5927\u5bb6\u90fd\u8981\u53bb\u4e0a\u5395\u6240\uff0c\u5395\u6240\u5c31\u4e00\u4e2a\uff0c\u76f8\u5f53\u4e8e\u6240\u6709\u4eba\u90fd\u8981\u8bbf\u95ee\u540c\u4e00\u4e2a\u8d44\u6e90\u3002\u90a3\u4e48\u5148\u8fdb\u53bb\u7684\u5c31\u8981\u4e0a\u9501\u3002\u800c\u5bf9\u4e8e node \u6765\u8bf4\u3002\u4e0b\u8bfe\u4e86\u5c31\u4e00\u4e2a\u4eba\u53bb\u5395\u6240\uff0c\u6240\u4ee5\u514d\u9664\u4e86\u9501\u7684\u95ee\u9898\uff01</p>"},{"location":"nodejs/%E8%B0%88%E8%B0%88Node%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E6%A6%82%E5%BF%B5/#4","title":"4.\u961f\u5217\u548c\u6808","text":"<ul> <li>\u961f\u5217</li> </ul> <pre><code>setTimeout(function () {\n  console.log(1);\n});\nsetTimeout(function () {\n  console.log(2);\n});\nsetTimeout(function () {\n  console.log(3);\n});\n</code></pre> <p>\u5f53\u8bbe\u7f6e\u5b9a\u65f6\u5668\u65f6\uff0c\u4f1a\u5c06\u5b9a\u65f6\u5668\u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570\u4f9d\u6b21\u7684\u653e\u5230\u961f\u5217\u4e2d\uff0c\u6267\u884c\u65f6\u6309\u7167\u653e\u7f6e\u7684\u987a\u5e8f\u4f9d\u6b21\u6267\u884c\u3002</p> <ul> <li>\u6808</li> </ul> <pre><code>function stack() {\n  console.log(1);\n  fn1();\n  function fn1() {\n    console.log(2);\n    fn2();\n    function fn2() {\n      console.log(3);\n    }\n  }\n}\nstack();\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u770b\u5230 js \u662f\u5728\u5168\u5c40\u7684\u4e0a\u4e0b\u6587\u4e2d\u6267\u884c\u7684\uff0c\u8c03\u7528\u6808\u5165\u6808\u7684\u987a\u5e8f\u662f stack-&gt;fn1-&gt;fn2\uff0c\u5f53\u4f5c\u7528\u57df\u9500\u6bc1\u65f6\u5148\u9700\u8981\u5148\u9500\u6bc1 fn2-&gt;fn1-&gt;stack</p>"},{"location":"nodejs/%E8%B0%88%E8%B0%88Node%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E6%A6%82%E5%BF%B5/#5-event-loop","title":"5.\u6d4f\u89c8\u5668\u4e2d\u7684 Event Loop","text":"<ul> <li>1.\u6240\u6709\u540c\u6b65\u4efb\u52a1\u90fd\u5728\u4e3b\u7ebf\u7a0b\u4e0a\u6267\u884c\uff0c\u5f62\u6210\u4e00\u4e2a\u6267\u884c\u6808</li> <li>2.\u4e3b\u7ebf\u7a0b\u4e4b\u5916\uff0c\u8fd8\u5b58\u5728\u4e00\u4e2a\u4efb\u52a1\u961f\u5217\u3002\u53ea\u8981\u5f02\u6b65\u4efb\u52a1\u6709\u4e86\u8fd0\u884c\u7ed3\u679c\uff0c\u5c31\u5728\u4efb\u52a1\u961f\u5217\u4e4b\u4e2d\u653e\u7f6e\u4e00\u4e2a\u4e8b\u4ef6\u3002</li> <li>3.\u4e00\u65e6\u6267\u884c\u6808\u4e2d\u7684\u6240\u6709\u540c\u6b65\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5\uff0c\u7cfb\u7edf\u5c31\u4f1a\u8bfb\u53d6\u4efb\u52a1\u961f\u5217\uff0c\u5c06\u961f\u5217\u4e2d\u7684\u4e8b\u4ef6\u653e\u5230\u6267\u884c\u6808\u4e2d\u4f9d\u6b21\u6267\u884c</li> <li>4.\u4e3b\u7ebf\u7a0b\u4ece\u4efb\u52a1\u961f\u5217\u4e2d\u8bfb\u53d6\u4e8b\u4ef6\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u5faa\u73af\u4e0d\u65ad\u7684</li> </ul> <p>\u6574\u4e2a\u7684\u8fd9\u79cd\u8fd0\u884c\u673a\u5236\u53c8\u79f0\u4e3a Event Loop(\u4e8b\u4ef6\u5faa\u73af)</p>"},{"location":"nodejs/%E8%B0%88%E8%B0%88Node%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E6%A6%82%E5%BF%B5/#6node-event-loop","title":"6.Node \u4e2d\u7684 Event Loop","text":"<p>\u6211\u4eec\u5148\u6765\u5f20\u56fe\u770b\u770b node \u662f\u5982\u4f55\u5de5\u4f5c\u7684</p> <p></p> <ul> <li>1.\u6211\u4eec\u5199\u7684 js \u4ee3\u7801\u4f1a\u4ea4\u7ed9 v8 \u5f15\u64ce\u8fdb\u884c\u5904\u7406</li> <li>2.\u4ee3\u7801\u4e2d\u53ef\u80fd\u4f1a\u8c03\u7528 nodeApi\uff0cnode \u4f1a\u4ea4\u7ed9 libuv \u5e93\u5904\u7406</li> <li>3.libuv \u901a\u8fc7\u963b\u585e i/o \u548c\u591a\u7ebf\u7a0b\u5b9e\u73b0\u4e86\u5f02\u6b65 io</li> <li>4.\u901a\u8fc7\u4e8b\u4ef6\u9a71\u52a8\u7684\u65b9\u5f0f\uff0c\u5c06\u7ed3\u679c\u653e\u5230\u4e8b\u4ef6\u961f\u5217\u4e2d\uff0c\u6700\u7ec8\u4ea4\u7ed9\u6211\u4eec\u7684\u5e94\u7528\u3002</li> </ul> <p>\u5728 libuv \u5185\u90e8\u6709\u8fd9\u6837\u4e00\u4e2a\u4e8b\u4ef6\u73af\u673a\u5236\u3002\u5728 node \u542f\u52a8\u65f6\u4f1a\u521d\u59cb\u5316\u4e8b\u4ef6\u73af</p> <pre><code>   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u250c\u2500&gt;\u2502     timers(\u8ba1\u65f6\u5668)     \u2502\n|  |   \u6267\u884csetTimeout\u4ee5\u53ca   |\n|  |   setInterval\u7684\u56de\u8c03\u3002  |\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \u2502     I/O callbacks     |\n\u2502  | \u5904\u7406\u7f51\u7edc\u3001\u6d41\u3001tcp\u7684\u9519\u8bef |\n|  | callback              |\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \u2502     idle\uff0c prepare     \u2502\n|  |     node\u5185\u90e8\u4f7f\u7528       |\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \u2502       poll(\u8f6e\u8be2)      \u2502       \u2502   incoming:   \u2502\n|  | \u6267\u884cpoll\u4e2d\u7684i/o\u961f\u5217    | &lt;\u2500\u2500\u2500\u2500\u2500\u2524  connections\uff0c \u2502\n|  | \u68c0\u67e5\u5b9a\u65f6\u5668\u662f\u5426\u5230\u65f6      |       \u2502   data\uff0c etc.  |\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \u2502      check(\u68c0\u67e5)      \u2502\n|  | \u5b58\u653esetImmediate\u56de\u8c03   |\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2514\u2500\u2500\u2524    close callbacks    |\n   \u2502 \u5173\u95ed\u7684\u56de\u8c03\u4f8b\u5982         |\n   | sockect.on('close')   |\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u8fd9\u91cc\u6bcf\u4e00\u4e2a\u9636\u6bb5\u90fd\u5bf9\u5e94\u4e00\u4e2a\u4e8b\u4ef6\u961f\u5217\uff0c\u5f53 event loop \u6267\u884c\u5230\u67d0\u4e2a\u9636\u6bb5\u65f6\u4f1a\u5c06\u5f53\u524d\u9636\u6bb5\u5bf9\u5e94\u7684\u961f\u5217\u4f9d\u6b21\u6267\u884c\u3002\u5f53\u961f\u5217\u6267\u884c\u5b8c\u6bd5\u6216\u8005\u6267\u884c\u7684\u6570\u91cf\u8d85\u8fc7\u4e0a\u7ebf\u65f6\uff0c\u4f1a\u8f6c\u5165\u4e0b\u4e00\u4e2a\u9636\u6bb5\u3002\u8fd9\u91cc\u6211\u4eec\u91cd\u70b9\u5173\u6ce8 poll \u9636\u6bb5</p>"},{"location":"nodejs/%E8%B0%88%E8%B0%88Node%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E6%A6%82%E5%BF%B5/#61-poll","title":"6.1 poll \u9636\u6bb5","text":""},{"location":"nodejs/%E8%B0%88%E8%B0%88Node%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E6%A6%82%E5%BF%B5/#62-settimeout-setimmediate","title":"6.2 setTimeout \u548c setImmediate","text":"<p>\u4e8c\u8005\u975e\u5e38\u76f8\u4f3c\uff0c\u4f46\u662f\u4e8c\u8005\u533a\u522b\u53d6\u51b3\u4e8e\u4ed6\u4eec\u4ec0\u4e48\u65f6\u5019\u88ab\u8c03\u7528.</p> <ul> <li>setImmediate \u8bbe\u8ba1\u5728 poll \u9636\u6bb5\u5b8c\u6210\u65f6\u6267\u884c\uff0c\u5373 check \u9636\u6bb5\uff1b</li> <li>setTimeout \u8bbe\u8ba1\u5728 poll \u9636\u6bb5\u4e3a\u7a7a\u95f2\u65f6\uff0c\u4e14\u8bbe\u5b9a\u65f6\u95f4\u5230\u8fbe\u540e\u6267\u884c\uff1b\u4f46\u5176\u5728 timer \u9636\u6bb5\u6267\u884c \u5176\u4e8c\u8005\u7684\u8c03\u7528\u987a\u5e8f\u53d6\u51b3\u4e8e\u5f53\u524d event loop \u7684\u4e0a\u4e0b\u6587\uff0c\u5982\u679c\u4ed6\u4eec\u5728\u5f02\u6b65 i/o callback \u4e4b\u5916\u8c03\u7528\uff08\u5728 i/o \u5185\u8c03\u7528\u56e0\u4e3a\u4e0b\u4e00\u9636\u6bb5\u4e3a check \u9636\u6bb5\uff09\uff0c\u5176\u6267\u884c\u5148\u540e\u987a\u5e8f\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u9700\u8981\u770b loop \u7684\u6267\u884c\u524d\u7684\u8017\u65f6\u60c5\u51b5\u3002</li> </ul> <pre><code>setTimeout(function timeout () {\n  console.log('timeout');\n}\uff0c0);\n\nsetImmediate(function immediate () {\n  console.log('immediate');\n});\n</code></pre>"},{"location":"nodejs/%E8%B0%88%E8%B0%88Node%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E6%A6%82%E5%BF%B5/#63-processnexttick","title":"6.3 process.nextTick","text":"<p>nextTick \u5e76\u4e0d\u5c5e\u4e8e\u4e8b\u4ef6\u5faa\u73af\u7684\u67d0\u4e2a\u9636\u6bb5\uff0c\u4ed6\u7684\u6267\u884c\u65b9\u5f0f\u662f\u5728\u5404\u4e2a\u9636\u6bb5\u5207\u6362\u7684\u4e2d\u95f4\u6267\u884c\uff0c\u6765\u6bb5\u6076\u5fc3\u7684\u4ee3\u7801</p> <pre><code>setImmediate(function () {\n  console.log(1);\n  process.nextTick(function () {\n    console.log(2);\n  });\n});\nprocess.nextTick(function () {\n  console.log(3);\n  setImmediate(function () {\n    console.log(4);\n  });\n});\n// 3 1 4 2\n</code></pre> <p>\u8fd9\u91cc\u5c31\u4e0d\u89e3\u91ca\u4e86\uff0c\u5982\u679c\u4f60\u61c2\u4e86\uff0c\u8bf4\u660e\u5c31\u660e\u767d nextTick \u7684\u6267\u884c\u65f6\u673a\u4e86\uff01(nextTick \u4e0d\u8981\u9012\u5f52\u8c03\u7528\uff0c\u5426\u5219\u540e\u9762\u9636\u6bb5\u7684 callback \u5c06\u65e0\u6cd5\u6267\u884c)</p>"},{"location":"nodejs/%E8%B0%88%E8%B0%88Node%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E6%A6%82%E5%BF%B5/#7","title":"7.\u5b8f\u4efb\u52a1\u548c\u5fae\u4efb\u52a1","text":"<p>\u4efb\u52a1\u53ef\u5206\u4e3a\u5b8f\u4efb\u52a1\u548c\u5fae\u4efb\u52a1</p> <ul> <li>macro-task(\u5b8f\u4efb\u52a1): setTimeout\uff0c setInterval\uff0c setImmediate\uff0c I/O</li> <li>micro-task(\u5fae\u4efb\u52a1): process.nextTick\uff0c \u539f\u751f Promise(\u6709\u4e9b\u5b9e\u73b0\u7684 promise \u5c06 then \u65b9\u6cd5\u653e\u5230\u4e86\u5b8f\u4efb\u52a1\u4e2d)\uff0cObject.observe\uff0c MutationObserver</li> </ul> <pre><code>process.nextTick &gt; promise.then &gt; setTimeout &gt; setImmediate;\n</code></pre> <p>\u901a\u8fc7\u4e0a\u9762\u7684\u5b66\u4e60\u6211\u4eec\u77e5\u9053\u4e86\u4efb\u52a1\u7684\u6267\u884c\u987a\u5e8f\uff0c\u8981\u6ce8\u610f\u7684\u662f Promise.then \u65b9\u6cd5\u88ab\u5b9a\u4e49\u5728\u4e86 nextTick \u4e4b\u540e\u6267\u884c</p>"},{"location":"nodejs/%E8%B0%88%E8%B0%88Node%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E6%A6%82%E5%BF%B5/#8","title":"8 \u540c\u6b65\u5f02\u6b65\u548c\u963b\u585e\u975e\u963b\u585e","text":"<p>\u540c\u6b65\u5f02\u6b65\u53d6\u51b3\u4e8e\u88ab\u8c03\u7528\u8005\uff0c\u963b\u585e\u975e\u963b\u585e\u53d6\u51b3\u4e8e\u8c03\u7528\u8005</p> <ul> <li>\u963b\u585e\u8c03\u7528\u662f\u6307\u8c03\u7528\u7ed3\u679c\u8fd4\u56de\u4e4b\u524d\uff0c\u5f53\u524d\u7ebf\u7a0b\u4f1a\u88ab\u6302\u8d77\u3002\u8c03\u7528\u7ebf\u7a0b\u53ea\u6709\u5728\u5f97\u5230\u7ed3\u679c\u4e4b\u540e\u624d\u4f1a\u8fd4\u56de\u3002</li> <li>\u975e\u963b\u585e\u8c03\u7528\u6307\u5728\u4e0d\u80fd\u7acb\u523b\u5f97\u5230\u7ed3\u679c\u4e4b\u524d\uff0c\u8be5\u8c03\u7528\u4e0d\u4f1a\u963b\u585e\u5f53\u524d\u7ebf\u7a0b\u3002</li> </ul>"},{"location":"nodejs/nodeJS%E9%AB%98%E9%A2%91%E8%AF%8D/","title":"nodeJS \u83b7\u53d6\u524d\u7aef\u9ad8\u9891\u8bcd","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3306  \u9605\u8bfb7\u5206\u949f</p> <p>\u6700\u8fd1\u5728\u770b\u82f1\u6587\u6587\u732e\uff0c\u65e0\u5948\u5404\u79cd\u751f\u8bcd\u6bd4\u8f83\u591a\uff0c\u6bcf\u6b21\u770b\u4e00\u6bb5\u5c31\u9700\u8981\u4e0d\u65ad\u67e5\u8bcd\u5178\uff0c\u5f88\u70e6\u4eba\u3002</p> <p>\u6240\u4ee5\uff0c\u6211\u60f3\u628a\u51fa\u73b0\u7684\u9ad8\u9891\u751f\u8bcd\u5148\u627e\u51fa\u6765\uff0c\u7edf\u4e00\u67e5\u597d\uff0c\u8fd9\u6837\u9605\u8bfb\u5c31\u66f4\u5feb\u4e86\u3002</p> <p>\u5e9f\u8bdd\u4e0d\u591a\u8bf4\uff0c\u76f4\u63a5\u4e0a\u4ee3\u7801</p>"},{"location":"nodejs/nodeJS%E9%AB%98%E9%A2%91%E8%AF%8D/#1","title":"1\u3001\u51c6\u5907\u4e00\u7bc7\u82f1\u6587\u6587\u7ae0","text":"<p>\u6211\u627e\u5230\u4e00\u7bc7\u4ecb\u7ecd ECMA6 \u7684\u6587\u7ae0 leanpub-auto-the-road-to-ecmascript-6</p> <p>\u539f\u59cb\u7f51\u9875\uff1ahttps://leanpub.com/understandinges6/read#leanpub-auto-the-road-to-ecmascript-6</p> <p>\u6587\u4ef6\u5927\u5c0f\uff1a587KB\uff0c\u6211\u5df2\u7ecf\u8f6c\u5b58\u5230\u672c\u5730\uff08\u4e5f\u53ef\u4ee5\u76f4\u63a5\u722c\u53d6\u7f51\u9875\uff09</p>"},{"location":"nodejs/nodeJS%E9%AB%98%E9%A2%91%E8%AF%8D/#2","title":"2\u3001\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\uff0c\u8f6c\u6362\u6210\u5b57\u7b26\u4e32","text":"<pre><code>function getFile(filePath) {\n  fs.readFile(filePath, (err, data) =&gt; {\n    if (err) console.log(err);\n    if (data) {\n      // data is array buffer, so use toString to transfer to string\n      return data.toString();\n    }\n  });\n}\n</code></pre>"},{"location":"nodejs/nodeJS%E9%AB%98%E9%A2%91%E8%AF%8D/#3","title":"3\u3001\u5904\u7406\u5b57\u7b26\u4e32\uff0c\u83b7\u53d6\u9ad8\u9891\u8bcd","text":"<pre><code>// \u83b7\u53d6\u9ad8\u9891\u8bcd\nfunction getFrequence(str) {\n  // \u5220\u9664\u7279\u6b8a\u7b26\u53f7\uff08\u53ea\u4fdd\u7559\u5b57\u6bcd\u6570\u5b57\uff09\n  str = str.replace(/[^A-Za-z0-9\\s]/gi, \"\").replace(/[\\n+]/gi, \"\");\n  // \u8f6c\u6362\u6210\u6570\u7ec4\n  var arr = str.split(\" \");\n  var obj = {};\n  arr.forEach((item) =&gt; {\n    let key = item.toLowerCase();\n    if (!obj[key]) {\n      obj[key] = 1;\n    } else {\n      obj[key] = obj[key] + 1;\n    }\n  });\n  // \u83b7\u53d6\u51fa\u73b0\u6b21\u6570\u6700\u591a\u7684\u51e0\u4e2a\u60c5\u51b5\n  var arr2 = [];\n  for (let key in obj) {\n    let times = obj[key];\n    // \u8fd9\u4e2a\u53c2\u6570\u53ef\u4ee5\u8c03\u6574\uff08\u73b0\u5728\u7edf\u8ba1\u51fa\u73b0\u6b21\u6570\u8d85\u8fc710\u6b21\u7684\u5355\u8bcd\uff09\n    if (times &gt; 10) {\n      arr2.push({ times, key });\n    }\n  }\n  arr2.sort((a, b) =&gt; (a.times &gt; b.times ? -1 : 1));\n\n  var arr3 = [];\n  arr2.forEach((item) =&gt; {\n    arr3.push(item.key);\n    // arr3.push(item.times);\n    // \u7edf\u8ba1\u6b21\u6570\u9700\u8981\u8fd9\u4e2a\u4ee3\u7801\uff0c\u5982\u679c\u4ec5\u4ec5\u662f\u80cc\u5355\u8bcd\u5c31\u4e0d\u9700\u8981\u8fd9\u4e2a\u4ee3\u7801\n    arr3.push(\"\\n\");\n  });\n  return arr3.join(\" \");\n}\n</code></pre>"},{"location":"nodejs/nodeJS%E9%AB%98%E9%A2%91%E8%AF%8D/#4","title":"4\u3001\u5c06\u9ad8\u9891\u8bcd\u5199\u5165\u5916\u90e8\u6587\u4ef6\u4e2d","text":"<pre><code>function writeFile(str) {\n  fs.writeFile(\"./result.txt\", str, function (err) {\n    if (err) {\n      console.log(\"write file error\");\n    } else {\n      console.log(\"write file success\");\n    }\n  });\n}\n</code></pre> <p>\u524d\u9762\u7684\u662f\u8bed\u6cd5\u8bcd\u8bed\uff0c\u8fd9\u90e8\u5206\u7565\u8fc7\uff08\u56e0\u4e3a\u8fd9\u90e8\u5206\u5b57\u7b26\u957f\u5ea6\u8f83\u77ed\uff0c\u53ef\u4ee5\u76f4\u63a5\u6839\u636e\u957f\u5ea6\u8fc7\u6ee4\u8fd9\u90e8\u5206\u8bcd\u6c47\uff09</p> <pre><code>the 5155\nto 2361\na 1951\nis 1637\nand 1384\nof 1366\nin 1319\nthat 983\nan 816\nthis 796\n</code></pre> <p>\u540e\u9762\u7684\u5c31\u662f\u9ad8\u9891\u4e13\u4e1a\u82f1\u8bed\u5355\u8bcd\uff0c\u8fd9\u90e8\u5206\u5c31\u9700\u8981\u6211\u4eec\u719f\u7ec3\u8bb0\u5fc6\u5566</p> <pre><code>call 177\nstring 176\npromise 174\narrays 172\nalso 171\nsecond 169\nkey 165\nargument 160\nobjects 159\nresult 154\nany 153\nfunctions 148\ninto 147\ntwo 146\nproperties 145\narguments 142\nvariable 139\npassed 137\nsyntax 136\ninstance 135\ninside 134\nprototype 131\n</code></pre> <p>\u5982\u679c\u672a\u6765\u9700\u8981\u8bfb\u82f1\u6587\u4e66\u7c4d\u6216\u8005\u6587\u6863\uff0c\u90a3\u4e48\u9996\u5148\u7528\u8fd9\u4e2a\u5de5\u5177\u83b7\u53d6\u9ad8\u9891\u8bcd\uff0c\u7136\u540e\u5b66\u4e60\u5427\uff01</p>"},{"location":"nodejs/nodeJS%E9%AB%98%E9%A2%91%E8%AF%8D/#_1","title":"\u601d\u8003","text":"<p>1\u3001\u76f4\u63a5\u4f7f\u7528 node \u722c\u866b\u722c\u53d6\u754c\u9762\uff0c\u7136\u540e\u722c\u53d6\u591a\u4e2a\u4e3b\u6d41\u7f51\u9875\uff0c\u8fd9\u6837\u83b7\u53d6\u7684\u9ad8\u9891\u8bcd\u5e93\u5c31\u6bd4\u8f83\u7edf\u8ba1\u610f\u4e49\uff0c\u4e0d\u53d7\u6781\u7aef\u503c\u7684\u5f71\u54cd\u4e86\u3002</p> <p>2\u3001\u8c03\u7528\u8bcd\u5178\u7684 API\uff0c\u7136\u540e\u628a\u751f\u8bcd\u67e5\u51fa\u6765\uff0c\u6216\u8005\u5199\u5230\u5728\u7ebf\u7684\u5355\u8bcd\u672c\u4e2d\uff1f</p> <p>\u767e\u5ea6\u8bcd\u5178\u53ef\u4ee5\u83b7\u53d6\u7ffb\u8bd1\u7684 API</p> <p>https://developer.baidu.com/wiki/index.php?title=%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3%E9%A6%96%E9%A1%B5/%E7%99%BE%E5%BA%A6%E7%BF%BB%E8%AF%91/%E7%99%BE%E5%BA%A6%E8%AF%8D%E5%85%B8api%E4%BB%8B%E7%BB%8D&amp;oldid=16877</p>"},{"location":"server/GraphQL%20vs%20REST%20API%20%E6%9E%B6%E6%9E%84/","title":"GraphQL vs REST API \u67b6\u6784\uff0c\u8c01\u66f4\u80dc\u4e00\u7b79\uff1f","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 19021  \u9605\u8bfb39\u5206\u949f</p> <p>2015 \u5e74\uff0cFacebook \u5f00\u6e90 GraphQL\u3002\u6b64\u540e\uff0c\u5b83\u5728\u524d\u7aef Web \u4e2d\u5927\u53d7\u6b22\u8fce\u3002\u4f20\u7edf\u7684 REST API \u6709\u4f55\u4e0d\u8db3\uff1fGraphQL \u4f18\u52bf\u4f55\u5728\uff1f\u5728\u672c\u6587\u4e2d\uff0c\u6211\u4eec\u5c06\u6df1\u5165\u63a2\u8ba8 GraphQL \u7684\u8bbe\u8ba1\u539f\u5219\uff0c\u6bd4\u8f83 GraphQL \u4e0e REST \u7684\u5f02\u540c\uff0c\u5e76\u8ba8\u8bba GraphQL \u76f8\u5bf9\u5176\u4ed6\u67b6\u6784\u7684\u4f18\u70b9\u3002</p>"},{"location":"server/GraphQL%20vs%20REST%20API%20%E6%9E%B6%E6%9E%84/#api","title":"\u4e00\u3001\u4f60\u7684 API \u5e94\u8be5\u7528\u54ea\u9879\u6280\u672f\uff1f","text":"<p>\u81ea\u4ece 2015 \u5e74 Facebook \u5f00\u6e90 GraphQL \u89c4\u8303\u4ee5\u6765\uff0c\u5b83\u5c31\u5728\u524d\u7aef Web \u5f00\u53d1\u4e2d\u8fc5\u901f\u6d41\u884c\u8d77\u6765\u3002</p> <p></p> <p>\u4e3a\u4ec0\u4e48\u8fd9\u79cd\u65b0\u6280\u672f\u4f1a\u7a81\u7136\u6d41\u884c\u8d77\u6765\uff1f</p> <p>\u4e0e\u4f20\u7edf REST API \u76f8\u6bd4\uff0cGraphQL \u63d0\u4f9b\u4e86\u54ea\u4e9b\u4f18\u52bf\uff1f</p> <p>\u6211\u4eec\u5c06\u8ba8\u8bba GraphQL \u7684\u8bbe\u8ba1\u539f\u5219\uff0c\u6bd4\u8f83 GraphQL \u4e0e REST \u4e2d\u7684\u76f8\u540c\u8bf7\u6c42\uff0c\u5e76\u6df1\u5165\u63a2\u8ba8 GraphQL \u76f8\u5bf9\u5176\u4ed6\u67b6\u6784\u7684\u4f18\u70b9\u3002</p> <p>\u4e3a\u7406\u89e3 GraphQL \u4f5c\u4e3a API \u67b6\u6784\u7684\u597d\u5904\uff0c\u6211\u4eec\u8981\u8ba8\u8bba API \u5728\u5ba2\u6237\u7aef - \u670d\u52a1\u5668\u7ed3\u6784\u4e2d\u7684\u4f5c\u7528\u3002API\uff08\u5e94\u7528\u7a0b\u5e8f\u7f16\u7a0b\u63a5\u53e3\uff09\u662f\u4e00\u4e2a\u4e2d\u95f4\u5c42\uff0c\u5b83\u5141\u8bb8\u670d\u52a1\u5668\u4ece\u5ba2\u6237\u7aef\u63a5\u6536\u7ed3\u6784\u5316\u6570\u636e\u8bf7\u6c42\uff0c\u5e76\u9488\u5bf9\u8bf7\u6c42\u7684\u6570\u636e\u53d1\u9001\u7ed3\u6784\u5316\u7684\u54cd\u5e94\u3002\u8bbe\u8ba1 API \u67b6\u6784\u7684\u65b9\u6cd5\u6709\u5f88\u591a\u79cd\u3002</p> <p>\u8ba9\u6211\u4eec\u6765\u7814\u7a76\u4e00\u4e0b\u4fc3\u4f7f GraphQL \u9002\u5408\u73b0\u4ee3\u5316 Web \u5e94\u7528\u7a0b\u5e8f\u7684\u91cd\u8981\u57fa\u672c\u8bbe\u8ba1\u539f\u5219\u3002</p>"},{"location":"server/GraphQL%20vs%20REST%20API%20%E6%9E%B6%E6%9E%84/#graphql","title":"\u4e8c\u3001GraphQL \u670d\u52a1\u5668\u7684\u8bbe\u8ba1\u539f\u5219","text":"<p>GraphQL \u89c4\u8303\u6982\u62ec\u4e86 5 \u4e2a\u8bbe\u8ba1\u539f\u5219\uff0c\u8fd9\u4f7f\u5176\u6210\u4e3a\u73b0\u4ee3\u524d\u7aef\u5f00\u53d1\u7684\u826f\u597d\u89e3\u51b3\u65b9\u6848\u3002\u6211\u4eec\u770b\u4e00\u4e0b GraphQL \u7684\u8bbe\u8ba1\u539f\u5219\uff0c\u5e76\u4ee5 Facebook \u65b0\u95fb\u63a8\u9001\u4f5c\u4e3a\u6211\u4eec\u7684\u7528\u4f8b\u3002</p> <p></p> <ol> <li>\u67e5\u8be2\u4e3a\u5206\u5c42\u7ed3\u6784\uff0c\u4f7f\u7528\u5c06\u67e5\u8be2\u4e0e\u54cd\u5e94\u6570\u636e 1 \u5bf9 1 \u5339\u914d\u7684\u5206\u5c42\u548c\u5d4c\u5957\u5b57\u6bb5\u683c\u5f0f\u3002\u67e5\u8be2\u548c\u54cd\u5e94\u7684\u5f62\u72b6\u7c7b\u4f3c\u4e8e\u6811\uff0c\u53ef\u67e5\u8be2\u6bcf\u4e2a\u9879\u7684\u5176\u4ed6\u5d4c\u5957\u5b57\u6bb5\u3002\u5728 Facebook \u7684\u65b0\u95fb\u63a8\u9001\u4e2d\uff0c\u8fd9\u79cd\u7ed3\u6784\u5141\u8bb8\u4e00\u4e2a\u67e5\u8be2\u8fd4\u56de\u4e00\u4e2a\u5e16\u5b50\u5217\u8868\u3001\u6bcf\u4e2a\u7279\u5b9a\u5e16\u5b50\u7684\u8bc4\u8bba\uff0c\u4ee5\u53ca\u6bcf\u4e2a\u8bc4\u8bba\u7684\u70b9\u8d5e\u3002</li> <li>\u8be5\u7ed3\u6784\u4ee5\u4ea7\u54c1\u4e3a\u4e2d\u5fc3\uff0c\u5173\u6ce8\u524d\u7aef\u5e0c\u671b\u5982\u4f55\u63a5\u6536\u6570\u636e\uff0c\u5e76\u6784\u5efa\u4ea4\u4ed8\u6240\u9700\u7684\u8fd0\u884c\u65f6\u3002\u8fd9\u4f7f\u5f97 Facebook \u7684\u65b0\u95fb\u63a8\u9001\u53ef\u901a\u8fc7\u4e00\u6b21\u8bf7\u6c42\u4ece\u540e\u7aef\u83b7\u53d6\u9700\u8981\u7684\u6240\u6709\u6570\u636e\uff0c\u4f7f\u670d\u52a1\u5668\u6309\u7167 GraphQL \u7684\u89c4\u8303\u4ece\u4e0d\u540c\u7684\u7aef\u70b9\u83b7\u53d6\u6570\u636e\u3002</li> <li>\u5b83\u4f7f\u7528\u7279\u5b9a\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7684\u7c7b\u578b\u7cfb\u7edf\uff0c\u8be5\u7cfb\u7edf\u4f7f\u5f00\u53d1\u4eba\u5458\u80fd\u5728\u6267\u884c\u524d\u786e\u4fdd\u67e5\u8be2\u4f7f\u7528\u4e86\u6709\u6548\u7c7b\u578b\uff0c\u5e76\u4e14\u8bed\u6cd5\u6b63\u786e\u3002\u4f8b\u5982\uff0c\u65b0\u95fb\u63a8\u9001\u7684 GraphQL \u6a21\u5f0f\u8981\u6c42\u5b57\u6bb5\u201cuser\u201d\u5fc5\u987b\u5305\u542b\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u800c\u201clikes\u201d\u5fc5\u987b\u5305\u542b\u4e00\u4e2a\u6570\u5b57\u3002\u5982\u679c\u67e5\u8be2\u8bd5\u56fe\u6dfb\u52a0\u4e0d\u540c\u7c7b\u578b\u7684\u8f93\u5165\uff0cGraphQL \u5c06\u5728\u6267\u884c\u67e5\u8be2\u524d\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002</li> <li>GraphQL \u67e5\u8be2\u662f\u5728\u5ba2\u6237\u7aef\u6307\u5b9a\u7684\uff0c\u56e0\u6b64\uff0c\u5ba2\u6237\u7aef\u786e\u5207\u77e5\u9053\u5b83\u5c06\u4ee5\u4f55\u79cd\u683c\u5f0f\u63a5\u6536\u6570\u636e\u3002\u8fd9\u610f\u5473\u7740\uff0c\u5982\u679c\u524d\u7aef\u8bf7\u6c42\u7684\u683c\u5f0f\u662f\u5305\u542b\u7528\u6237\u540d\u3001\u8bc4\u8bba\u548c\u70b9\u8d5e\u7684 post \u6570\u636e\uff0c\u90a3\u4e48\u6765\u81ea Facebook \u65b0\u95fb\u63a8\u9001\u7684\u8bf7\u6c42\u4f1a\u6784\u5efa\u5728\u4e00\u4e2a\u5bf9\u8c61\u4e2d\uff0c\u800c\u4e0d\u662f\u50cf\u5176\u4ed6\u67b6\u6784\u90a3\u6837\u6784\u5efa\u591a\u4e2a\u5355\u72ec\u7684\u6570\u636e\u5757\u3002</li> <li>\u4f7f\u7528 GraphQL \u7684\u670d\u52a1\u5668\u7ed3\u6784\u5fc5\u987b\u662f\u5185\u7701\u7684\uff0c\u6216\u8005\u53ef\u7531 GraphQL \u81ea\u5df1\u67e5\u8be2\u3002\u4e8e\u662f\u624d\u6709\u4e86\u50cf GraphiQL \u6216 GraphQL playground \u8fd9\u6837\u7684\u5f3a\u5927\u5de5\u5177\u3002\u8fd9\u4e24\u79cd\u5de5\u5177\u90fd\u53ef\u4ee5\u8ba9 Facebook \u5f00\u53d1\u4eba\u5458\u51c6\u786e\u5730\u770b\u5230\u5728\u4ed6\u4eec\u7684\u670d\u52a1\u5668\u4e0a\u4f7f\u7528\u4e86\u54ea\u4e9b\u67e5\u8be2\u548c\u5b57\u6bb5\u3002</li> </ol> <p>\u4e3a\u8ba8\u8bba\u5411 GraphQL \u7684\u8f6c\u53d8\uff0c\u4ee5\u53ca\u8fd9\u4e9b\u8bbe\u8ba1\u539f\u5219\u5982\u4f55\u7ed9\u5f00\u53d1\u5e26\u6765\u597d\u5904\u3002</p> <p>\u6211\u4eec\u9996\u5148\u6df1\u5165\u4e86\u89e3\u4f20\u7edf\u7684 REST API \u67b6\u6784\u548c\u5b83\u7684\u4e0d\u8db3\u4e4b\u5904\u3002</p>"},{"location":"server/GraphQL%20vs%20REST%20API%20%E6%9E%B6%E6%9E%84/#restful","title":"\u4e09\u3001\u4f20\u7edf\u7684 RESTful \u67b6\u6784","text":"<p>REST \u67b6\u6784\u7684\u8bbe\u8ba1\u8303\u5f0f\u4fa7\u91cd\u4e8e\u5206\u914d HTTP \u8bf7\u6c42\u65b9\u6cd5\uff08GET\u3001POST\u3001PUT\u3001PATCH\u3001DELETE\uff09\u548c URL \u7aef\u70b9\u4e4b\u95f4\u7684\u5173\u7cfb\u3002</p> <p></p> <p>\u5728 REST \u67b6\u6784\u4e2d\uff0c\u65b9\u6cd5\u548c\u7aef\u70b9\u7684\u6bcf\u4e2a\u7ec4\u5408\u5f97\u5230\u4e0d\u540c\u7684\u5c01\u88c5\u529f\u80fd\u3002\u5982\u679c\u5ba2\u6237\u7aef\u9700\u8981\u7684\u6570\u636e\u7279\u5b9a\u7aef\u70b9 / \u65b9\u6cd5\u4e0d\u63d0\u4f9b\uff0c\u5219\u53ef\u80fd\u9700\u8981\u989d\u5916\u8bf7\u6c42\u3002\u4ece REST \u8bf7\u6c42\u8fd4\u56de\u7684\u6570\u636e\u683c\u5f0f\u4f9d\u8d56\u4e8e\u7aef\u70b9\u2014\u4e0d\u80fd\u4fdd\u8bc1\u8fd9\u4e9b\u6570\u636e\u4f1a\u6309\u7167\u524d\u7aef\u9700\u8981\u7684\u65b9\u5f0f\u8fdb\u884c\u683c\u5f0f\u5316\u3002\u4e3a\u4f7f\u7528\u6765\u81ea\u54cd\u5e94\u7684\u6570\u636e\uff08\u683c\u5f0f\u4e0e\u7f3a\u7701\u60c5\u51b5\u4e0b\u4ece\u7aef\u70b9\u8fd4\u56de\u7684\u683c\u5f0f\u4e0d\u540c\uff09\uff0c\u5fc5\u987b\u5728\u5ba2\u6237\u7aef\u7f16\u5199\u6570\u636e\u89e3\u6790\u548c\u6570\u636e\u64cd\u4f5c\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u8ba9\u6211\u4eec\u770b\u770b GraphQL \u89c4\u8303\u4e0e REST \u7684\u4e0d\u540c\u4e4b\u5904\uff0c\u4ee5\u53ca\u5b83\u7684\u4f18\u70b9\u3002\u8fd9\u4e9b\u4f18\u70b9\u4f7f\u8fd9\u4e2a\u65b0\u67b6\u6784\u6210\u4e3a\u7279\u522b\u9002\u5408\u89e3\u51b3\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u6570\u636e\u4ea4\u4ed8\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\u3002</p>"},{"location":"server/GraphQL%20vs%20REST%20API%20%E6%9E%B6%E6%9E%84/#graphql_1","title":"\u56db\u3001GraphQL \u67b6\u6784","text":"<p>\u4e0e RESTful API \u4e00\u6837\uff0cGraphQL API \u8bbe\u8ba1\u7528\u4e8e\u5904\u7406 HTTP \u8bf7\u6c42\u5e76\u5bf9\u8fd9\u4e9b\u8bf7\u6c42\u63d0\u4f9b\u54cd\u5e94\u3002\u65e0\u8bba\u5982\u4f55\uff0c\u8fd9\u5c31\u662f\u76f8\u4f3c\u4e4b\u5904\u3002REST API \u6784\u5efa\u5728\u8bf7\u6c42\u65b9\u6cd5\u548c\u7aef\u70b9\u4e4b\u95f4\u7684\u8fde\u63a5\u4e0a\uff0c\u800c GraphQL API \u88ab\u8bbe\u8ba1\u4e3a\u53ea\u901a\u8fc7\u4e00\u4e2a\u7aef\u70b9\uff0c\u59cb\u7ec8\u4f7f\u7528 POST \u8bf7\u6c42\u8fdb\u884c\u67e5\u8be2\uff0c\u5176 URL \u901a\u5e38\u662f yourdomain.com/graphql\u3002</p> <p></p> <p>\u8bf7\u6c42\u5230\u8fbe GraphQL \u7aef\u70b9\u540e\uff0c\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u8f7d\u8377\u5b8c\u5168\u5728\u8bf7\u6c42\u4f53\u4e2d\u5904\u7406\u3002\u8fd9\u4e2a\u8bf7\u6c42\u4f53\u5fc5\u987b\u9075\u5faa GraphQL \u89c4\u8303\uff0cAPI \u5fc5\u987b\u6709\u9002\u5f53\u7684\u670d\u52a1\u5668\u7aef\u903b\u8f91\u6765\u5904\u7406\u8fd9\u4e9b\u8bf7\u6c42\u5e76\u63d0\u4f9b\u9002\u5f53\u7684\u54cd\u5e94\u3002</p> <p>\u8fd9\u63d0\u4f9b\u4e86\u6bd4 RESTful API \u66f4\u6d41\u7545\u7684\u5ba2\u6237\u7aef\u4f53\u9a8c\uff0c\u540e\u8005\u53ef\u80fd\u8981\u6c42\u5ba2\u6237\u7aef\u9488\u5bf9\u591a\u4e2a\u6570\u636e\u5757\u53d1\u51fa\u591a\u4e2a\u8bf7\u6c42\uff0c\u5e76\u5728\u6570\u636e\u8fd4\u56de\u540e\u8fdb\u884c\u64cd\u4f5c\u3002</p> <p>\u4e3a\u4e86\u9610\u660e GraphQL \u662f\u5982\u4f55\u5b9e\u73b0\u8fd9\u4e00\u70b9\u7684\uff0c\u8ba9\u6211\u4eec\u5206\u89e3\u4e00\u4e0b GraphQL \u670d\u52a1\u5668\u7684\u7ed3\u6784\u3002</p>"},{"location":"server/GraphQL%20vs%20REST%20API%20%E6%9E%B6%E6%9E%84/#graphql_2","title":"\u4e94\u3001GraphQL \u670d\u52a1\u5668","text":"<p>\u542f\u7528 GraphQL \u903b\u8f91\u7684\u670d\u52a1\u5668\u7aef\u903b\u8f91\u7531\u5b9a\u4e49\u4e86\u670d\u52a1\u5668\u529f\u80fd\u7684 Documents \u7ec4\u6210\u3002\u8fd9\u4e9b Documents \u5305\u542b\u53ef\u6267\u884c\u6587\u4ef6\u548c\u7c7b\u578b\u7cfb\u7edf\u5b9a\u4e49\u3002\u987e\u540d\u601d\u4e49\uff0c\u7c7b\u578b\u7cfb\u7edf\u5b9a\u4e49\u4e3a\u6bcf\u4e2a\u6570\u636e\u5b57\u6bb5\u5b9a\u4e49\u53ef\u63a5\u53d7\u7684\u7c7b\u578b\u548c\u683c\u5f0f\u8f93\u5165\u53ca\u7ed3\u679c\u3002</p> <p>\u53ef\u6267\u884c\u6587\u4ef6\u5305\u542b\u8981\u5904\u7406\u7684\u53ef\u80fd\u7684\u64cd\u4f5c\u5217\u8868\uff0c\u5176\u4e2d\u5305\u62ec\u64cd\u4f5c\u7c7b\u578b\uff08\u67e5\u8be2\u3001\u4fee\u6539\u6216\u8ba2\u9605\uff09\u3001\u64cd\u4f5c\u540d\u79f0\u3001\u8981\u67e5\u8be2\u6216\u5199\u5165\u7684\u5b57\u6bb5\u548c\u4e00\u4e2a\u9009\u62e9\u96c6\uff0c\u8be5\u9009\u62e9\u96c6\u51c6\u786e\u5b9a\u4e49\u4e86\u5c06\u4ece\u64cd\u4f5c\u8fd4\u56de\u7684\u6570\u636e\u3002\u9009\u62e9\u96c6\u662f GraphQL \u7684\u6700\u5927\u4ef7\u503c\u6240\u5728\u2014\u2014\u5b83\u4eec\u5141\u8bb8\u5ba2\u6237\u7aef\u67e5\u8be2\u7279\u5b9a\u7684\u6570\u636e\u96c6\u5e76\u63a5\u6536\u5305\u542b\u6240\u8bf7\u6c42\u4fe1\u606f\u7684\u54cd\u5e94\uff1a\u4e0d\u591a\u4e0d\u5c11\u3002</p> <p>\u6709\u5173 GraphQL \u89c4\u8303\u7684\u7ed3\u6784\u548c\u8bed\u6cd5\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 GraphQL \u7684\u6587\u6863\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u770b\u4e0b GraphQL \u4e2d\u67e5\u8be2\u7684\u7ed3\u6784\u3002</p>"},{"location":"server/GraphQL%20vs%20REST%20API%20%E6%9E%B6%E6%9E%84/#graphql_3","title":"\u516d\u3001GraphQL \u67e5\u8be2\u89e3\u6790","text":"<p>\u4e0b\u9762\u662f\u4e00\u4e2a\u7ed3\u6784\u5316\u7684 GraphQL \u67e5\u8be2\uff0c\u7528\u4e8e\u83b7\u53d6\u7279\u5b9a\u4e66\u7c4d\u7684\u6570\u636e\uff0c\u5305\u62ec\u4f5c\u8005\u7684\u59d3\u548c\u540d\u3002</p> <pre><code>GET /graphql?query={ books(id:12) { authors { firstName, lastName } title, yearPublished, length } {   Query {                 //  operation type  books (id:12) {         //  operation endpoint     authors {            //  requested fields        firstName        lastName     }      title     yearPublished        }  }}\n</code></pre> <p>\u8fd9\u4e00\u5207\u90fd\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u67e5\u8be2\u7531 GraphQL \u670d\u52a1\u5668\u903b\u8f91\u89e3\u6790\u548c\u5904\u7406\u5b8c\u6210\u3002\u5f53\u628a\u5b83\u4e0e REST \u67b6\u6784\u4e2d\u76f8\u540c\u7ed3\u6784\u7684\u8bf7\u6c42\u8fdb\u884c\u6bd4\u8f83\u65f6\uff0cGraphQL \u7684\u4f18\u52bf\u5c31\u5f00\u59cb\u663e\u73b0\u51fa\u6765\u4e86\u3002</p> <p>\u8ba9\u6211\u4eec\u770b\u770b\u4e0b\u9762\u7684 REST \u8bf7\u6c42\u7ed3\u6784\uff0c\u7136\u540e\u91cd\u70b9\u8ba8\u8bba\u5176\u4e2d\u7684\u4e00\u4e9b\u5dee\u5f02\uff01</p>"},{"location":"server/GraphQL%20vs%20REST%20API%20%E6%9E%B6%E6%9E%84/#rest","title":"\u4e03\u3001REST \u8bf7\u6c42\u89e3\u6790","text":"<p>\u8981\u5411 REST API \u53d1\u51fa\u76f8\u540c\u7684\u8bf7\u6c42\uff0c\u5ba2\u6237\u7aef\u9996\u5148\u9700\u8981\u5411\u80fd\u591f\u8fd4\u56de\u56fe\u4e66\u6570\u636e\u7684\u7aef\u70b9\u53d1\u9001\u4e00\u4e2a\u8bf7\u6c42\uff0c\u5e76\u5c06\u56fe\u4e66 id \u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\uff1a</p> <pre><code>GET /books/12\n</code></pre> <p>\u8fd9\u4e2a\u8bf7\u6c42\u53ef\u80fd\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u7279\u5b9a\u56fe\u4e66\u6240\u6709\u6570\u636e\u7684\u5bf9\u8c61\uff0c\u4f8b\u5982\uff1a</p> <pre><code>{   \u201ctitle\u201d : \u201cThe Hitchhiker's Guide to the Galaxy\u201d,  \u201cauthorID\u201d: 42,  \u201cyearPublished\u201d : 1978,  \u201clength\u201d: 208,  \u201cgenre\u201d: \u201cScience Fiction\u201d}\n</code></pre> <p>\u5728\u6211\u4eec\u7684\u4f8b\u5b50\u91cc\uff0c\u4e0e\u76f8\u540c\u7684 GraphQL \u67e5\u8be2\u76f8\u6bd4\uff0c\u8be5\u54cd\u5e94\u6709\u4e24\u4e2a\u7f3a\u70b9\uff1a</p> <ol> <li>REST \u54cd\u5e94\u5305\u542b\u7c7b\u4f3c genre \u8fd9\u6837\u7684\u989d\u5916\u6570\u636e\uff0c\u8fd4\u56de\u7684\u4fe1\u606f\u8d85\u51fa\u4e86\u6211\u4eec\u7684\u9700\u6c42\u3002</li> <li>REST \u9700\u8981\u518d\u53d1\u9001\u4e00\u4e2a\u8bf7\u6c42\u6765\u83b7\u5f97\u6211\u4eec\u5b9e\u9645\u4e0a\u6b63\u5728\u67e5\u627e\u7684\u6570\u636e\uff1a\u8fd9\u4e2a\u7279\u5b9a\u4f5c\u8005\u7684\u6240\u6709\u4e66\u7c4d\u3002</li> </ol> <p>\u4e3a\u4e86\u83b7\u5f97\u8fd9\u4e9b\u6570\u636e\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u6211\u4eec\u7684 authorID \u53d1\u51fa\u4e00\u4e2a\u989d\u5916\u7684\u8bf7\u6c42\uff1a</p> <pre><code>GET /authors/42\n</code></pre> <p>\u8fd9\u4e2a\u8bf7\u6c42\u7684\u54cd\u5e94\u5e94\u8be5\u5305\u542b\u6211\u4eec\u6b63\u5728\u67e5\u627e\u7684\u6240\u6709\u6570\u636e\uff1a</p> <pre><code>{   \u201cfirstName\u201d : \u201cDouglas\u201d,  \u201clastName\u201d: \u201cAdams\u201d}\n</code></pre> <p>\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u6709\u4e86\u9700\u8981\u7684\u6240\u6709\u4e66\u7c4d\u548c\u4f5c\u8005\u6570\u636e\uff0c\u54cd\u5e94\u89e3\u6790\u7531\u5ba2\u6237\u7aef\u5b8c\u6210\u3002\u73b0\u5728\uff0c\u524d\u7aef\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u5c06\u6765\u81ea\u4e0d\u540c\u7aef\u70b9\u7684\u6570\u636e\u7ec4\u5408\u5728\u4e00\u8d77\uff0c\u7528\u4e8e\u5b9e\u73b0\u671f\u671b\u7684\u529f\u80fd\u3002\u603b\u7684\u6765\u8bf4\uff0c\u4e0e REST API \u76f8\u6bd4\uff0cGraphQL \u63d0\u4f9b\u7684\u6027\u80fd\u4f18\u52bf\u53ef\u4ee5\u4e3a\u524d\u7aef\u5f00\u53d1\u4eba\u5458\u5e26\u6765\u56de\u62a5\u3002\u4f7f\u7528 GraphQL \u89c4\u8303\u521b\u5efa\u670d\u52a1\u5668\u53ef\u80fd\u9700\u8981\u66f4\u591a\u7684\u8bbe\u7f6e\u4ee5\u53ca\u7f16\u5199\u9884\u6d4b\u6027\u7684\u670d\u52a1\u5668\u7aef\u903b\u8f91\u6765\u89e3\u6790\u548c\u5904\u7406\u8bf7\u6c42\u3002</p> <p>\u867d\u7136 GraphQL \u7684\u8bbe\u7f6e\u6210\u672c\u53ef\u80fd\u6bd4\u4f20\u7edf\u7684 REST \u67b6\u6784\u8981\u9ad8\uff0c\u4f46\u662f\uff0c\u66f4\u6613\u4e8e\u7ef4\u62a4\u7684\u4ee3\u7801\u3001\u5065\u58ee\u7684\u5f00\u53d1\u5de5\u5177\u548c\u7cbe\u7b80\u7684\u5ba2\u6237\u7aef\u67e5\u8be2\u6240\u5e26\u6765\u7684\u597d\u5904\u901a\u5e38\u4f1a\u8d85\u8fc7\u6210\u672c\u3002</p> <p>\u539f\u6587</p>"},{"location":"server/GraphQL%20vs%20REST%20API%20%E6%9E%B6%E6%9E%84/#graphql-vs-rest-api-architecture","title":"GraphQL vs. REST API Architecture","text":""},{"location":"server/GraphQL%20vs%20REST%20API%20%E6%9E%B6%E6%9E%84/#which-should-you-use-for-your-api","title":"Which should you use for your API?","text":"<p>Since the GraphQL specification was open sourced by Facebook in 2015, it has rapidly gained popularity in front-end web development. Why the sudden booming popularity of this new technology, and what advantages does GraphQL provide over traditional REST APIs? In this blog, we will discuss the design principles of GraphQL, compare requests in GraphQL with the same requests in REST, and dive into the benefits of GraphQL over other architectures.</p> <p>In order to understand the benefits of GraphQL as an API architecture, we\u2019ll need to discuss the role of an API in a client-server structure. An API, or Application Programming Interface, is an intermediary that allows a server to receive structured requests for data from a client, and send a structured response for the requested data. There are a variety of ways to design API architectures. Let\u2019s examine the important underlying design principles that make GraphQL a great fit for modern web apps.</p>"},{"location":"server/GraphQL%20vs%20REST%20API%20%E6%9E%B6%E6%9E%84/#design-principles-of-a-graphql-server","title":"Design Principles of a GraphQL Server","text":"<p>There are 5 design principles outlined in the GraphQL specification that make it a well-crafted solution for modern front-end development. Let\u2019s examine the design principles of GraphQL, considering the Facebook news feed as our use case.</p> <ul> <li>Queries are structured hierarchically, with tiered and nested fields in a format that matches query to response data 1-to-1. Queries and responses are shaped like trees, with the possibility of querying additional nested fields for each item. In Facebook\u2019s news feed, this structure allows for a single query to return a list of posts, comments on each specific post, then likes for each of those comments.</li> <li>The structure is product-centric, focusing on how the frontend wants to receive data, and building the runtime necessary to deliver. This allows for Facebook\u2019s news feed to make one request to the backend for all the data that it needs, then let the server do the heavy lifting of fetching data from different endpoints using GraphQL\u2019s specification.</li> <li>It uses an application-specific type system which enables developers to ensure that queries use valid types and are syntactically correct before execution. For example, the GraphQL schema for the news feed would require that a field \u201cuser\u201d must contain a string, but \u201clikes\u201d must contain a number. If a query attempts to add a different type of input, GraphQL will throw an error before the query is executed.</li> <li>GraphQL queries are specified client-side, so the client knows in exactly what format it will receive data. This means that a request from Facebook\u2019s news feed for post data containing a user\u2019s name, comments, and likes could be structured in one object if that\u2019s the format the frontend requested, as opposed to multiple separate pieces of data as with other architectures.</li> <li>Server structure with GraphQL must be introspective, or queryable by GraphQL itself. This enables powerful developer tools like GraphiQL or GraphQL playground, both of which would allow Facebook developers to see exactly what queries and fields are available for them to use in their server.</li> </ul> <p>To discuss the shift to GraphQL and how these design principles provide benefits that impact development, we\u2019ll first dive into traditional REST API architecture and see where this architecture may fall short.</p>"},{"location":"server/GraphQL%20vs%20REST%20API%20%E6%9E%B6%E6%9E%84/#traditional-restful-architecture","title":"Traditional RESTful Architecture","text":"<p>Structure of requests and responses in a REST architecture</p> <p>The design paradigm of a REST architecture centers on assigning a relationship between an HTTP request\u2019s method (GET, POST, PUT, PATCH, DELETE) and URL endpoint. In REST architecture, each combination of method and endpoint evaluates to distinct, encapsulated functionality. If a client needs data that is not provided by a particular endpoint / method, additional request(s) may be required. The format of data returned from a REST request is dependent on the endpoint\uff0dthere is no guarantee that this data will be formatted in the way the frontend needs to consume it. In order to use data from a response in a different format than is returned from an endpoint by default, data parsing and manipulation must be written client-side.</p> <p>Next, let\u2019s take a look at how the GraphQL specification differs from REST, and the benefits that make this new architecture a uniquely-suited solution to solve modern problems of data delivery between client and server.</p>"},{"location":"server/GraphQL%20vs%20REST%20API%20%E6%9E%B6%E6%9E%84/#graphql-architecture","title":"GraphQL Architecture","text":"<p>With GraphQL, clients are able to reach many different types of data storage with a single endpoint. Source: howtographql.com</p> <p>Like RESTful APIs, GraphQL APIs are designed to handle HTTP requests and provide responses to those requests. However, that\u2019s where the similarities end. Where REST APIs are built on the connection between a request method and an endpoint, GraphQL APIs are designed to use only one endpoint that is always queried with a POST request, usually to the URL yourdomain.com/graphql.</p> <p>After the GraphQL endpoint is reached, the burden of client-side requests is handled entirely within the body of the request. This request body must adhere to the GraphQL specification, and the API must have server-side logic in place to handle these requests and provide the appropriate response. This provides a smoother client-side experience than RESTful APIs, which may require the client to make multiple requests for multiple pieces of data, and manipulate the data once it is returned. To clarify how GraphQL accomplishes this, let\u2019s break down the structure of a GraphQL server.</p>"},{"location":"server/GraphQL%20vs%20REST%20API%20%E6%9E%B6%E6%9E%84/#structure-of-a-graphql-server","title":"Structure of a GraphQL Server","text":"<p>Server-side logic to enable GraphQL logic consists of Documents with defined server capabilities. These Documents contain Executables and Type System definitions. Type system definitions, as the name implies, define the accepted types and formats inputs and results for each field of data. Executables contain a list of possible operations to be handled, which consist of operation types (query, mutation or subscription), a name for the operation, fields to be queried or written, and a selection set which defines exactly what data will be returned from the operation. Selection sets provide the biggest value add to GraphQL \u2014 they allow the client to query a specific set of data and receive a response containing exactly the information that was requested: nothing more, nothing less.</p> <p>For more information on the structure and syntax of the GraphQL specification, check out GraphQL\u2019s documentation. Next, we\u2019ll take a look at the structure of a query with GraphQL.</p>"},{"location":"server/GraphQL%20vs%20REST%20API%20%E6%9E%B6%E6%9E%84/#anatomy-of-a-graphql-query","title":"Anatomy of a GraphQL Query","text":"<p>The below GraphQL query is structured to get data for a specific book, including the first and last name of the author.</p> <pre><code>GET /graphql?query={ books(id:12) { authors { firstName, lastName } title, yearPublished, length }\n{\n  Query {                 //  operation type\n  books (id:12) {         //  operation endpoint\n     authors {            //  requested fields\n        firstName\n        lastName\n     }\n     title\n     yearPublished\n    }\n  }\n}\n</code></pre> <p>This can all be done with one query that is parsed and handled by the GraphQL server logic. When comparing this to the structure of the same request in REST architecture, the advantages of GraphQL start to become clear. Let\u2019s look at the structure of a REST request below, then focus on some of the differences!</p>"},{"location":"server/GraphQL%20vs%20REST%20API%20%E6%9E%B6%E6%9E%84/#anatomy-of-a-rest-request","title":"Anatomy of a REST Request","text":"<p>To make the same request to a REST API, the client will need to first make a request to the endpoint with the capability to return data on books, passing in the book id as a parameter:</p> <pre><code>GET /books/12\n</code></pre> <p>This request would likely return an object with all of the data for that specific book, example:</p> <pre><code>{\n  \u201ctitle\u201d : \u201cThe Hitchhiker's Guide to the Galaxy\u201d,\n  \u201cauthorID\u201d: 42,\n  \u201cyearPublished\u201d : 1978,\n  \u201clength\u201d: 208,\n  \u201cgenre\u201d: \u201cScience Fiction\u201d\n}\n</code></pre> <p>The response in our example has 2 disadvantages over the response for the same GraphQL query:</p> <ol> <li>The REST response contains extra data for fields like genre and , returning more information than we wanted.</li> <li>REST requires us to make one more request to get the data that we\u2019re actually looking for: all of the books by this particular author.</li> </ol> <p>To get that data, we\u2019ll need to make one additional request using our authorID:</p> <pre><code>GET /authors/42\n</code></pre> <p>The response to this request should contain all of the data we\u2019re looking for:</p> <pre><code>{\n  \u201cfirstName\u201d : \u201cDouglas\u201d,\n  \u201clastName\u201d: \u201cAdams\u201d\n}\n</code></pre> <p>Now that we have all book and author data that we need, the burden of parsing through the response is on the client side. The front-end application must now combine data from the different endpoints in a way that it can use for its desired functionality.</p> <p>All things considered, GraphQL offers performance benefits over REST APIs that can pay off for front-end developers. Creating a server using the GraphQL specification can require more setup and writing of predictive server-side logic to parse and handle requests. While the setup costs of GraphQL may be higher than traditional REST architecture, the benefits of more maintainable code, robust dev tools, and streamlined client-side queries usually outweigh the costs.</p>"},{"location":"server/GraphQL%20vs%20REST%20API%20%E6%9E%B6%E6%9E%84/#references-useful-links","title":"References &amp; Useful Links:","text":"<ul> <li>https://www.howtographql.com/</li> <li>https://graphql.github.io/graphql-spec/June2018/#sec-Overview</li> <li>https://www.apollographql.com/docs/apollo-server/testing/graphql-playground/</li> <li>https://www.shopify.com/partners/blog/shopify-graphql-learning-kit</li> </ul> <p>The Startup</p>"},{"location":"server/LAMP%E5%B9%B3%E5%8F%B0%E7%9A%84%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%BA%94%E7%94%A8/","title":"LAMP \u5e73\u53f0\u7684\u90e8\u7f72\u53ca\u5e94\u7528","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 12347  \u9605\u8bfb25\u5206\u949f</p> <p>\u524d\u8a00\uff1aLAMP \u67b6\u6784\u662f\u76ee\u524d\u6210\u719f\u7684\u4f01\u4e1a\u7f51\u7ad9\u5e94\u7528\u6a21\u5f0f\u4e4b\u4e00\uff0c\u6307\u7684\u662f\u534f\u540c\u5de5\u4f5c\u7684\u4e00\u6574\u5957\u7cfb\u7edf\u548c\u76f8\u5173\u8f6f\u4ef6\uff0c\u80fd\u591f\u63d0\u4f9b\u52a8\u6001 Web \u7ad9\u70b9\u670d\u52a1\u53ca\u5176\u5e94\u7528\u5f00\u53d1\u73af\u5883\u3002LAMP \u662f\u4e00\u4e2a\u7f29\u5199\u8bcd\uff0c\u5177\u4f53\u5305\u62ec Linux \u64cd\u4f5c\u7cfb\u7edf\u3001Apache \u7f51\u7ad9\u670d\u52a1\u3001MySQL \u6570\u636e\u5e93\u670d\u52a1\u5668\u3001PHP\uff08\u6216 Perl\u3001Python\uff09\u7f51\u9875\u7f16\u7a0b\u8bed\u8a00\u3002</p> <p>\u4e00\u3001LAMP \u6982\u8ff0</p> <p>1.LAMP \u5e73\u53f0\u7684\u6784\u6210\u7ec4\u4ef6</p> <p>\u5728 LAMP \u5e73\u53f0\u7684\u56db\u4e2a\u6784\u6210\u7ec4\u4ef6\u4e2d\uff0c\u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u627f\u62c5\u7740\u5173\u952e\u7684\u4f5c\u7528\uff0c\u7ecf\u8fc7\u5341\u51e0\u5e74\u7684\u53d1\u5c55\uff0c\u5404\u7ec4\u4ef6\u95f4\u7684\u517c\u5bb9\u6027\u5f97\u5230\u4e86\u4e0d\u65ad\u7684\u5b8c\u5584\uff0c\u534f\u4f5c\u80fd\u529b\u548c\u7a33\u5b9a\u6027\u4e5f\u4e0d\u65ad\u589e\u5f3a\uff0c\u53ef\u4ee5\u6784\u5efa\u51fa\u975e\u5e38\u4f18\u79c0\u7684 web \u5e94\u7528\u7cfb\u7edf\u3002</p> <p>l **Linux**\u64cd\u4f5c\u7cfb\u7edf\uff1a\u4f5c\u4e3a LAMP \u67b6\u6784\u7684\u57fa\u7840\uff0c\u63d0\u4f9b\u7528\u4e8e\u652f\u6491 web \u7ad9\u70b9\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u80fd\u591f\u4e0e\u5176\u4ed6\u4e09\u4e2a\u7ec4\u4ef6\u63d0\u4f9b\u66f4\u597d\u7684\u7a33\u5b9a\u6027\u3001\u517c\u5bb9\u6027\uff08AMP \u7ec4\u4ef6\u4e5f\u652f\u6301 Windows\u3001UNIX \u7b49\u64cd\u4f5c\u7cfb\u7edf\uff09</p> <p>l **Apache**\u7f51\u7ad9\u670d\u52a1\u5668\uff1a\u4f5c\u4e3a LAMP \u67b6\u6784\u7684\u524d\u7aef\uff0c\u662f\u4e00\u6b3e\u529f\u80fd\u5f3a\u5927\u3001\u7a33\u5b9a\u6027\u597d\u7684 web \u670d\u52a1\u5668\u7a0b\u5e8f\uff0c\u8be5\u670d\u52a1\u5668\u76f4\u63a5\u9762\u5411\u7528\u6237\u63d0\u4f9b\u7f51\u7ad9\u8bbf\u95ee\uff0c\u53d1\u9001\u7f51\u9875\u3001\u56fe\u7247\u7b49\u6587\u4ef6\u5185\u5bb9\u3002</p> <p>l **MySQL**\u6570\u636e\u5e93\u670d\u52a1\u5668\uff1a\u4f5c\u4e3a LAMP \u67b6\u6784\u7684\u540e\u7aef\uff0c\u662f\u4e00\u6b3e\u6d41\u884c\u7684\u5f00\u6e90\u5173\u7cfb\u6570\u636e\u5e93\u7cfb\u7edf\u3002\u5728\u4f01\u4e1a\u7f51\u7ad9\u3001\u4e1a\u52a1\u7cfb\u7edf\u7b49\u5e94\u7528\u4e2d\uff0c\u5404\u79cd\u8d26\u6237\u4fe1\u606f\u3001\u4ea7\u54c1\u4fe1\u606f\u3001\u5ba2\u6237\u8d44\u6599\u3001\u4e1a\u52a1\u6570\u636e\u7b49\u90fd\u53ef\u4ee5\u5b58\u50a8\u5230 MySQL \u6570\u636e\u5e93\uff0c\u5176\u4ed6\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7 SQL \u8bed\u53e5\u6765\u67e5\u8be2\u3001\u66f4\u6539\u8fd9\u4e9b\u4fe1\u606f\u3002</p> <p>l **PHP/Perl/Python**\u7f51\u9875\u7f16\u7a0b\u8bed\u8a00\uff1a\u4f5c\u4e3a\u4e09\u79cd\u5f00\u53d1\u52a8\u6001\u7f51\u9875\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u8d1f\u8d23\u89e3\u91ca\u52a8\u6001\u7f51\u9875\u6587\u4ef6\uff0c\u5e76\u63d0\u4f9b web \u5e94\u7528\u7a0b\u5e8f\u7684\u5f00\u53d1\u548c\u8fd0\u884c\u73af\u5883\u3002\u5176\u4e2d\uff0cPHP \u662f\u4e00\u79cd\u88ab\u5e7f\u6cdb\u5e94\u7528\u7684\u5f00\u653e\u6e90\u4ee3\u7801\u7684\u591a\u7528\u9014\u811a\u672c\u8bed\u8a00\uff0c\u5b83\u53ef\u4ee5\u5d4c\u5165\u5230 HTML \u4e2d\uff0c\u5c24\u5176\u9002\u5408\u4e8e web \u5e94\u7528\u7684\u5f00\u53d1\u3002</p> <p>2.LAMP \u5e73\u53f0\u7684\u5e94\u7528\u4f18\u52bf</p> <p>\u6784\u6210 LAMP \u5e73\u53f0\u7684\u56db\u4e2a\u7ec4\u4ef6\uff0c\u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u7ecf\u5386\u4e86\u6570\u5341\u5e74\u4e4b\u4e45\u7684\u4f01\u4e1a\u5e94\u7528\u7684\u8003\u9a8c\uff0c\u5404\u81ea\u90fd\u662f\u540c\u7c7b\u8f6f\u4ef6\u4e2d\u7684\u4f7c\u4f7c\u8005\uff0c\u4ece\u800c\u6210\u4e3a\u5178\u578b\u7684\u9ec4\u91d1\u642d\u6863\uff0c\u5176\u4e3b\u8981\u7684\u4f18\u52bf\u4f53\u73b0\u5728\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a</p> <p>l **\u6210\u672c\u4f4e\u5ec9\uff1a**\u5404\u7ec4\u4ef6\u90fd\u662f\u5f00\u653e\u6e90\u4ee3\u7801\u7684\u8f6f\u4ef6\uff0c\u53ef\u4ee5\u81ea\u7531\u83b7\u5f97\u548c\u514d\u8d39\u4f7f\u7528\uff0c\u5728\u6280\u672f\u4e0a\u548c\u8bb8\u53ef\u8bc1\u65b9\u9762\u6ca1\u6709\u592a\u4e25\u683c\u7684\u9650\u5236\uff0c\u5927\u5927\u964d\u4f4e\u4e86\u4f01\u4e1a\u7684\u5b9e\u65bd\u6210\u672c</p> <p>l **\u53ef\u5b9a\u5236\uff1a**\u62e5\u6709\u5927\u91cf\u7684\u989d\u5916\u7ec4\u4ef6\u548c\u53ef\u6269\u5c55\u529f\u80fd\u7684\u6a21\u5757\uff0c\u80fd\u8fc7\u6ee1\u8db3\u5927\u90e8\u5206\u4f01\u4e1a\u5e94\u7528\u7684\u5b9a\u5236\u8981\u6c42\uff0c\u751a\u81f3\u53ef\u4ee5\u81ea\u884c\u5f00\u53d1\u3001\u6dfb\u52a0\u65b0\u529f\u80fd</p> <p>l **\u6613\u4e8e\u5f00\u53d1\uff1a**\u57fa\u4e8e LAMP \u5e73\u53f0\u7684\u52a8\u6001\u7f51\u7ad9\u4e2d\uff0c\u9875\u9762\u4ee3\u7801\u7b80\u6d01\uff0c\u4e0e HTML \u6807\u8bb0\u8bed\u8a00\u7684\u7ed3\u5408\u5ea6\u975e\u5e38\u597d\uff0c\u5373\u4f7f\u662f\u975e\u4e13\u4e1a\u7684\u7a0b\u5e8f\u5458\u4e5f\u80fd\u591f\u8f7b\u677e\u8bfb\u61c2\u4e43\u81f3\u4fee\u6539\u7f51\u9875\u4ee3\u7801</p> <p>l **\u65b9\u4fbf\u6613\u7528\uff1a**PHP\u3001Perl \u7b49\u5c5e\u4e8e\u89e3\u91ca\u6027\u8bed\u8a00\uff0c\u5f00\u53d1\u7684\u5404\u79cd web \u7a0b\u5e8f\u4e0d\u9700\u8981\u7f16\u8bd1\uff0c\u65b9\u4fbf\u8fdb\u884c\u79fb\u690d\u4f7f\u7528\u3002\u6574\u5957\u7684\u7f51\u7ad9\u9879\u76ee\u7a0b\u5e8f\uff0c\u901a\u5e38\u53ea\u8981\u590d\u5236\u5230\u7f51\u7ad9\u76ee\u5f55\u4e2d\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee</p> <p>l **\u5b89\u5168\u548c\u7a33\u5b9a\uff1a**\u5f97\u76ca\u4e8e\u5f00\u6e90\u7684\u4f18\u52bf\uff0c\u5927\u91cf\u7684\u7a0b\u5e8f\u5458\u5728\u5173\u6ce8\u5e76\u6301\u7eed\u6539\u8fdb LAMP \u5e73\u53f0\u7684\u5404\u4e2a\u7ec4\u4ef6\uff0c\u53d1\u73b0\u95ee\u9898\u80fd\u591f\u5f88\u5feb\u5f97\u5230\u89e3\u51b3\u3002LAMP \u67b6\u6784\u5df2\u7ecf\u7ecf\u5386\u4e86\u6570\u5341\u5e74\u7684\u957f\u671f\u9a8c\u8bc1\uff0c\u5b89\u5168\u6027\u3001\u7a33\u5b9a\u6027\u65b9\u9762\u8868\u73b0\u7684\u4e5f\u975e\u5e38\u4f18\u79c0</p> <p>3.LAMP \u5e73\u53f0\u7684\u5b89\u88c5\u987a\u5e8f</p> <p>\u5728\u6784\u5efa LAMP \u5e73\u53f0\u65f6\uff0c\u5404\u7ec4\u4ef6\u7684\u5b89\u88c5\u987a\u5e8f\u4f9d\u6b21\u4e3a\uff1aLinux\u3001Apache\u3001MySQL\u3001PHP\u3002\u5176\u4e2d Apache \u548c MySQL \u7684\u5b89\u88c5\u6ca1\u6709\u4e25\u683c\u7684\u987a\u5e8f\uff0c\u800c PHP \u73af\u5883\u7684\u5b89\u88c5\u4e00\u822c\u653e\u5230\u6700\u540e\uff0c\u8d1f\u8d23\u6c9f\u901a web \u670d\u52a1\u5668\u548c\u6570\u636e\u5e93\u7cfb\u7edf\u4ee5\u534f\u540c\u5de5\u4f5c\u3002</p> <p>\u4e8c\u3001\u90e8\u7f72 LAMP \u5e73\u53f0</p> <p>1.\u642d\u5efa Apache \u7f51\u7ad9\u670d\u52a1\u73af\u5883</p> <p>\u8be6\u7ec6\u89c1\uff1aLinux \u5982\u4f55\u642d\u5efa Apache \u7f51\u7ad9\u670d\u52a1\uff08\u4e00\uff09</p> <p>2.\u642d\u5efa MySQL \u6570\u636e\u5e93\u73af\u5883</p> <p>\u8be6\u7ec6\u89c1\uff1a\u5982\u4f55\u642d\u5efa MySQL \u6570\u636e\u5e93\u7cfb\u7edf</p> <p>3.\u642d\u5efa PHP \u8fd0\u884c\u73af\u5883\uff08\u8fd9\u91cc\u91cd\u70b9\u8bb2\u8ff0 PHP \u7684\u642d\u5efa\uff09</p> <p>PHP \u6982\u5ff5\uff1a</p> <p>PHP \u5373 Hypertext Preprocessor\uff08\u8d85\u6587\u672c\u9884\u5904\u7406\u8bed\u8a00\uff09\u7684\u7f29\u5199\uff0c\u662f\u4e00\u79cd\u670d\u52a1\u5668\u7aef\u7684 HTML \u5d4c\u5165\u5f0f\u811a\u672c\u8bed\u8a00\u3002PHP \u7684\u8bed\u6cd5\u6df7\u5408\u4e86 C\u3001Java\u3001Perl \u53ca\u90e8\u5206\u81ea\u521b\u7684\u65b0\u8bed\u6cd5\uff0c\u62e5\u6709\u66f4\u597d\u7684\u7f51\u9875\u6267\u884c\u901f\u5ea6\uff0c\u66f4\u91cd\u8981\u7684\u662f PHP \u652f\u6301\u7edd\u5927\u591a\u6570\u6d41\u884c\u7684\u6570\u636e\u5e93\uff0c\u5728\u6570\u636e\u5e93\u7684\u64cd\u4f5c\u529f\u80fd\u5341\u5206\u5f3a\u5927\uff0c\u800c\u4e14\u80fd\u591f\u652f\u6301 UNIX\u3001Windows\u3001Linux \u7b49\u591a\u79cd\u64cd\u4f5c\u7cfb\u7edf\u3002</p> <p>PHP \u73af\u5883\u7684\u642d\u5efa\uff1a</p> <p>PHP \u9879\u76ee\u6700\u521d\u7531 Rasums Lerdor \u5728 1994 \u5e74\u521b\u5efa\uff0c1995 \u5e74\u53d1\u5e03\u7b2c\u4e00\u4e2a\u7248\u672c PHP 1.0\u3002\u4e0b\u9762\u662f\u4ee5\u7a33\u5b9a\u7248\u6e90\u7801\u5305 php-5.5.38.tar.gz \u4e3a\u4f8b\u8fdb\u884c\u5b89\u88c5\uff0c\u8be5\u7248\u672c\u53ef\u4ee5\u4ece PHP \u5b98\u65b9\u7ad9\u70b9\u4e0b\u8f7d\u3002</p> <p>1\uff09\u51c6\u5907\u5de5\u4f5c</p> <p>\u4e3a\u4e86\u907f\u514d\u53d1\u751f\u51b2\u7a81\u7b49\u73b0\u8c61\uff0c\u5982\u679c\u5b58\u5728 RPM \u65b9\u5f0f\u5b89\u88c5\u7684 php\uff0c\u5efa\u8bae\u5148\u5c06 RPM \u5b89\u88c5\u7684 PHP \u53ca\u76f8\u5173\u4f9d\u8d56\u5305\u5378\u8f7d\uff0c\u5e76\u5b89\u88c5\u524d\u63d0\u5305 zlib-devel \u548c libxml2-devel \u5305\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>2\uff09\u5b89\u88c5\u6269\u5c55\u5de5\u5177\u5e93</p> <p>\u5728\u5b9e\u9645\u4f01\u4e1a\u5e94\u7528\u4e2d\uff0c\u4e00\u90e8\u5206\u57fa\u4e8e PHP \u5f00\u53d1\u7684 web \u5e94\u7528\u7cfb\u7edf\u4f1a\u9700\u8981\u989d\u5916\u7684\u6269\u5c55\u5de5\u5177\uff0c\u5982\u6570\u636e\u52a0\u5bc6\u5de5\u5177 libmcrypt\u3001mhash\u3001mcrypt \u7b49\u3002\u5b89\u88c5 PHP \u8f6f\u4ef6\u5305\u4e4b\u524d\u5e94\u5148\u5b89\u88c5\u597d\u8fd9\u4e9b\u6269\u5c55\u5de5\u5177\u7a0b\u5e8f\u3002</p> <p>a.\u5b89\u88c5 libmcrypt</p> <p></p> <p>b.\u5b89\u88c5 mhash</p> <p></p> <p>c.\u5b89\u88c5 mcrypt</p> <p></p> <p>3\uff09\u7f16\u8bd1\u5b89\u88c5 PHP</p> <p>a.\u89e3\u5305</p> <p>\u5c06 PHP \u6e90\u7801\u5305\u89e3\u538b\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>b.\u914d\u7f6e</p> <p>\u5728\u5b9a\u5236 PHP \u7684\u914d\u7f6e\u9879\u65f6\uff0c\u6700\u5173\u952e\u7684\u662f\u8981\u6307\u5b9a httpd\u3001mysqld \u7684\u5b89\u88c5\u8def\u5f84\uff0c\u4ee5\u4fbf\u6dfb\u52a0\u76f8\u5173\u652f\u6301\u8bbe\u7f6e\uff0c\u4f7f LAMP \u5404\u7ec4\u4ef6\u534f\u540c\u5de5\u4f5c\uff1b\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u6307\u5b9a\u5b89\u88c5\u8def\u5f84\u3001\u542f\u7528\u591a\u5b57\u8282\u652f\u6301\u3001\u52a0\u5bc6\u6269\u5c55\u652f\u6301\u7b49\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u4e0a\u56fe\u914d\u7f6e\u547d\u4ee4\u4e2d\uff0c\u5404\u9009\u9879\u7684\u542b\u4e49\u5982\u4e0b\uff1a</p> <p>l **--prefix\uff1a**\u6307\u5b9a\u5c06 PHP \u7a0b\u5e8f\u5b89\u88c5\u5230\u54ea\u4e2a\u76ee\u5f55\u4e0b\uff0c\u5982/usr/local/php5</p> <p>l **--with-mcrypt\uff1a**\u52a0\u8f7d\u6570\u636e\u52a0\u5bc6\u7b49\u6269\u5c55\u5de5\u5177\u652f\u6301</p> <p>l **--with-apxs2\uff1a**\u8bbe\u7f6e Apache HTTP Server \u63d0\u4f9b\u7684 apxs \u6a21\u5757\u652f\u6301\u7a0b\u5e8f\u7684\u6587\u4ef6\u4f4d\u7f6e</p> <p>l **--with-mysql\uff1a**\u8bbe\u7f6e MySQL \u6570\u636e\u5e93\u670d\u52a1\u7a0b\u5e8f\u7684\u5b89\u88c5\u4f4d\u7f6e</p> <p>l **--with-mysqli\uff1a**\u6dfb\u52a0 mysqli \u6269\u5c55\u652f\u6301</p> <p>l **--with-config-file-path\uff1a**\u8bbe\u7f6e PHP \u7684\u914d\u7f6e\u6587\u4ef6 php.ini \u5c06\u8981\u5b58\u653e\u5f97\u4f4d\u7f6e</p> <p>l **--enable-mbstring\uff1a**\u542f\u7528\u591a\u5b57\u8282\u5b57\u7b26\u4e32\u529f\u80fd\uff0c\u4ee5\u4fbf\u652f\u6301\u4e2d\u6587\u7b49\u4ee3\u7801</p> <p>c.\u7f16\u8bd1\u53ca\u5b89\u88c5</p> <p></p> <p>\u7f16\u8bd1\u7684\u8fc7\u7a0b\u53ef\u80fd\u4f1a\u9700\u8981\u8f83\u957f\u65f6\u95f4\uff0c\u9700\u8981\u8010\u5fc3\u7b49\u5f85\uff0c\u82e5\u671f\u95f4\u672a\u51fa\u73b0\u9519\u8bef\uff0c\u90a3\u4e48 PHP \u7a0b\u5e8f\u7684\u5b89\u88c5\u8fc7\u7a0b\u5c31\u57fa\u672c\u5b8c\u6210\u4e86\u3002\u63a5\u4e0b\u6765\u9700\u8981\u505a\u7684\u662f\u5bf9 LAMP \u7ec4\u4ef6\u73af\u5883\u8fdb\u884c\u9002\u5f53\u7684\u914d\u7f6e\uff0c\u5e76\u9a8c\u8bc1\u662f\u5426\u80fd\u591f\u534f\u540c\u5de5\u4f5c\u3002</p> <p>\u4e09\u3001\u8bbe\u7f6e LAMP \u7ec4\u4ef6\u73af\u5883</p> <p>\u8bbe\u7f6e LAMP \u7ec4\u4ef6\u73af\u5883\uff0c\u4e3b\u8981\u5305\u62ec\u5bf9 PHP \u7684\u914d\u7f6e\u6587\u4ef6 php.ini\u3001Apache \u7684\u914d\u7f6e\u6587\u4ef6 httpd.conf \u7684\u8c03\u6574\u3002\u524d\u8005\u7528\u6765\u786e\u5b9a PHP \u7684\u8fd0\u884c\u53c2\u6570\uff0c\u540e\u8005\u7528\u6765\u52a0\u8f7d libphp5.so \u6a21\u5757\uff0c\u4ee5\u4fbf\u652f\u6301 PHP \u7f51\u9875\u3002</p> <p>1.\u8c03\u6574 PHP \u7684\u914d\u7f6e\u6587\u4ef6 php.ini</p> <p>1\uff09php.ini \u7684\u5efa\u7acb\u53ca\u57fa\u672c\u8bbe\u7f6e</p> <p>\u5b89\u88c5\u597d PHP \u8f6f\u4ef6\u5305\u4ee5\u540e\uff0c\u670d\u52a1\u5668\u5e76\u4e0d\u4f1a\u81ea\u52a8\u521b\u5efa php.ini \u914d\u7f6e\u6587\u4ef6\uff0c\u4f46\u5728\u6e90\u7801\u76ee\u5f55\u4e0b\u63d0\u4f9b\u4e86\u4e24\u4e2a\u6837\u4f8b\u914d\u7f6e\u6587\u4ef6\uff0c\u5206\u522b\u5bf9\u5e94\u4e8e\u5f00\u53d1\u73af\u5883\u3001\u751f\u4ea7\u73af\u5883\u3002\u9009\u62e9\u5176\u4e2d\u4e00\u4e2a\u6837\u4f8b\u6587\u4ef6\uff0c\u5e76\u590d\u5236\u5230 PHP \u7684\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55/usr/local/php5 \u4e0b\uff0c\u5e76\u6539\u540d\u4e3a php.ini\u3002\u5728 php.ini \u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u4ee5\u5206\u53f7\u5f00\u5934\u7684\u5185\u5bb9\u8868\u793a\u6ce8\u91ca\u4fe1\u606f\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u901a\u8fc7\u4fee\u6539 php.ini \u6587\u4ef6\u4e2d\u7684\u914d\u7f6e\u5185\u5bb9\uff0c\u53ef\u4ee5\u63a7\u5236 PHP \u7f51\u9875\u7684\u6267\u884c\u7279\u6027\uff0c\u5982\uff1a\u662f\u5426\u5141\u8bb8\u7528\u6237\u4e0a\u4f20\u6587\u4ef6\u3001\u8bbe\u7f6e\u4e0a\u4f20\u6587\u4ef6\u7684\u5927\u5c0f\u3001\u8bbe\u7f6e\u9ed8\u8ba4\u4f7f\u7528\u7684\u5b57\u7b26\u96c6\u3001\u52a0\u8f7d\u989d\u5916\u7684\u6269\u5c55\u6a21\u5757\u7b49\u3002\u5982\u679c\u6ca1\u6709\u7279\u522b\u7684\u8981\u6c42\uff0c**\u53ef\u4ee5\u76f4\u63a5\u6cbf\u7528\u9ed8\u8ba4\u7684\u914d\u7f6e\uff0c\u4e0d\u505a\u4efb\u4f55\u66f4\u6539\u3002**\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>2\uff09\u6dfb\u52a0 ZendGuardLoader \u4f18\u5316\u6a21\u5757</p> <p>\u8be5\u6a21\u5757\u662f Zend \u516c\u53f8\u5f00\u53d1\u7684\uff0c\u5176\u76ee\u7684\u662f\u4e3a\u4e86\u63d0\u9ad8 PHP \u7a0b\u5e8f\u7684\u6267\u884c\u6548\u7387\uff0c\u4f18\u5316\u9875\u9762\u52a0\u901f\u3002\u82e5\u9700\u8981\u52a0\u5bc6 PHP \u4ee3\u7801\u4ee5\u9650\u5236\u672a\u7ecf\u6388\u6743\u7684\u5206\u53d1\uff0c\u8fd8\u53ef\u4ee5\u8d2d\u4e70\u8be5\u516c\u53f8\u7684 ZendGuard \u8f6f\u4ef6\u3002</p> <p>ZendGuardLoader \u4f18\u5316\u6a21\u5757\u4f7f\u7528\u4e8e PHP5.3 \u5230 PHP5.6 \u7cfb\u5217\u7248\u672c\uff0c\u8be5\u6a21\u5757\u53ef\u4ee5\u4ece Zend \u516c\u53f8\u7684\u5b98\u65b9\u7ad9\u70b9\u4e0b\u8f7d\u3002\u82e5\u4f7f\u7528 PHP5.2 \u7cfb\u5217\u7248\u672c\uff0c\u5e94\u6539\u7528\u8f83\u65e9\u7684 ZendOptimizer\u3002</p> <p>\u4e3a PHP \u5b89\u88c5\u53ca\u6dfb\u52a0 ZendGuardLoader \u6a21\u5757\u652f\u6301\u7684\u8fc7\u7a0b\u5982\u4e0b\uff1a</p> <p>\u5c06\u4e0b\u8f7d\u7684 ZendGuardLoader \u5305\u89e3\u538b\uff0c\u5e76\u5c06\u6e90\u4ee3\u7801\u76ee\u5f55\u4e0b\u7684\u6a21\u5757\u6587\u4ef6\u590d\u5236\u5230 PHP \u7a0b\u5e8f\u7684\u6a21\u5757\u6587\u4ef6\u5939\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u7136\u540e\u4fee\u6539 php.ini \u914d\u7f6e\u6587\u4ef6\uff0c\u6dfb\u52a0\u52a0\u8f7d\u53ca\u542f\u7528 ZendGuardLoader.so \u6a21\u5757\u7684\u914d\u7f6e\u8bed\u53e5\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>2.httpd.conf \u914d\u7f6e\u8c03\u6574</p> <p>\u8981\u4f7f httpd \u670d\u52a1\u5668\u652f\u6301 PHP \u9875\u9762\u89e3\u6790\u529f\u80fd\uff0c\u9700\u8981\u901a\u8fc7 LoadModule \u914d\u7f6e\u9879\u52a0\u8f7d PHP \u7a0b\u5e8f\u7684\u6a21\u5757\u6587\u4ef6\uff0c\u5e76\u901a\u8fc7 AddType \u914d\u7f6e\u9879\u6dfb\u52a0\u5bf9\u201c.php\u201d\u7c7b\u578b\u7f51\u9875\u6587\u4ef6\u7684\u652f\u6301\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u5e94\u4fee\u6539 DirectoryIndex \u914d\u7f6e\u884c\uff0c\u6dfb\u52a0 index.php \u914d\u7f6e\u9879\uff0c\u4ee5\u8bc6\u522b\u5e38\u89c1\u7684 PHP \u9996\u9875\u6587\u4ef6\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u4e09\u3001\u6d4b\u8bd5 LAMP \u534f\u540c\u5de5\u4f5c</p> <p>\u4e0b\u9762\u5206\u522b\u4ece PHP \u7f51\u9875\u7684\u89e3\u6790\u3001\u901a\u8fc7 PHP \u9875\u9762\u8bbf\u95ee MySQL \u6570\u636e\u5e93**\u4e24\u4e2a\u65b9\u9762\u8fdb\u884c\u6d4b\u8bd5\u3002**</p> <p>1.\u6d4b\u8bd5 PHP \u7f51\u9875\u80fd\u5426\u6b63\u786e\u663e\u793a</p> <p>\u7f16\u5199\u4e00\u4e2a\u201c.php\u201d\u683c\u5f0f\u7684\u6d4b\u8bd5\u7f51\u9875\u6587\u4ef6\uff0c\u4f7f\u7528 PHP \u5185\u5efa\u7684\u201cphpinfo()\u201d\u51fd\u6570\u663e\u793a\u670d\u52a1\u5668\u7684 PHP \u73af\u5883\u4fe1\u606f\uff0cPHP \u4ee3\u7801\u5e94\u5305\u62ec\u5728\u201c&lt;?php ...?&gt;\u201d\u6807\u8bb0\u4e4b\u95f4\u3002\u5c06\u6d4b\u8bd5\u7f51\u9875\u6587\u4ef6\u653e\u7f6e\u5230\u7f51\u7ad9\u6839\u76ee\u5f55\u4e0b\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u7136\u540e\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee\u6d4b\u8bd5\u7f51\u9875\uff0c\u901a\u8fc7\u57df\u540d\u6216 ip \u5730\u5740\u8bbf\u95ee\u90fd\u53ef\u4ee5\u3002\u82e5\u80fd\u770b\u5230 PHP \u7a0b\u5e8f\u7684\u7248\u672c\u53f7\u3001\u914d\u7f6e\u547d\u4ee4\u3001\u8fd0\u884c\u53d8\u91cf\u7b49\u4fe1\u606f\uff0c\u5219\u8868\u793a\u6b64 web \u670d\u52a1\u5668\u53ef\u4ee5\u6b63\u5e38\u663e\u793a PHP \u7f51\u9875\uff1b\u82e5\u8fd8\u80fd\u770b\u5230 Zend \u5f15\u64ce\u76f8\u5173\u4fe1\u606f\uff0c\u5219\u8868\u793a ZendGuardLoader \u6a21\u5757\u4e5f\u5df2\u6210\u529f\u542f\u7528\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>2.\u6d4b\u8bd5 PHP \u7f51\u9875\u80fd\u5426\u8bbf\u95ee MySQL \u6570\u636e\u5e93</p> <p>\u7f16\u5199\u4e00\u4e2a\u6d4b\u8bd5\u7f51\u9875\u6587\u4ef6 test.php\uff0c\u6dfb\u52a0\u7b80\u5355\u7684\u6570\u636e\u5e93\u64cd\u4f5c\u547d\u4ee4\uff0c\u7528\u4e8e\u9a8c\u8bc1\u4e0e MySQL \u670d\u52a1\u5668\u7684\u8fde\u63a5\u3001\u67e5\u8be2\u7b49\u64cd\u4f5c\u3002\u5176\u4e2d\uff0c**\u201cmysqli_connect()\u201d\u51fd\u6570\u7528\u4e8e\u8fde\u63a5 MySQL \u6570\u636e\u5e93\uff0c\u9700\u8981\u6307\u5b9a\u76ee\u6807\u4e3b\u673a\u5730\u5740\uff0c\u4ee5\u53ca\u6388\u6743\u8bbf\u95ee\u7684\u7528\u6237\u3001\u5bc6\u7801\u3002**\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee\u6d4b\u8bd5\u7f51\u9875\uff0c\u4f7f\u7528\u57df\u540d\u6216 ip \u5730\u5740\u8bbf\u95ee\u90fd\u53ef\u4ee5\u3002\u82e5\u80fd\u770b\u5230\u6210\u529f\u8fde\u63a5\u7684\u63d0\u793a\u4fe1\u606f\uff08\u5982\u4e0b\u56fe\uff09\uff0c\u5219\u8868\u793a\u80fd\u591f\u901a\u8fc7 PHP \u7f51\u9875\u8bbf\u95ee MySQL \u6570\u636e\u5e93\u3002\u5f53\u4f7f\u7528\u4e86\u9519\u8bef\u7684\u7528\u6237\u540d\u3001\u5bc6\u7801\u6216\u56e0\u4e3a\u201cmysqli-connect()\u201d\u51fd\u6570\u672a\u8fd0\u884c\u800c\u5bfc\u81f4\u7684\u5931\u8d25\u65f6\uff0c\u6267\u884c\u65f6\u5c06\u4f1a\u62a5\u9519\u3002</p> <p></p> <p>\u4e0b\u7bc7\u6587\u6863\u518d\u5206\u4eab LAMP \u67b6\u6784\u5e94\u7528\u5b9e\u4f8b\u3002</p>"},{"location":"server/Linux%20%E5%AE%89%E8%A3%85%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/","title":"MySQL \u6570\u636e\u5e93\u7cfb\u7edf\uff08\u5b89\u88c5\uff09","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6668  \u9605\u8bfb14\u5206\u949f</p> <p>\u524d\u8a00\uff1aApache HTTP Server \u4f5c\u4e3a\u4f18\u79c0\u7684 Web \u670d\u52a1\u5668\u8f6f\u4ef6\uff0c\u63d0\u4f9b\u4e86\u9762\u5411\u7528\u6237\u7684\u524d\u7aef\u5e94\u7528\u529f\u80fd\u3002\u800c\u5728\u5b9e\u9645\u7684\u4f01\u4e1a\u7f51\u7ad9\u5e73\u53f0\u4e2d\uff0c\u4e3a\u4e86\u63d0\u4f9b\u66f4\u4e30\u5bcc\u3001\u66f4\u5f3a\u5927\u7684 Web \u5e94\u7528\u529f\u80fd\uff0c\u5f80\u5f80\u8fd8\u9700\u8981\u6709\u540e\u53f0\u6570\u636e\u5e93\u3001\u7f51\u9875\u7f16\u7a0b\u8bed\u8a00\u7b49\u591a\u79cd\u89d2\u8272\u7684\u652f\u6301\u3002</p> <p>\u4e00\u3001MySQL \u7684\u7f16\u8bd1\u5b89\u88c5</p> <p>MySQL \u662f\u4e00\u4e2a\u771f\u6b63\u7684\u591a\u7ebf\u7a0b\u3001\u591a\u7528\u6237\u7684 SQL \u6570\u636e\u5e93\u670d\u52a1\uff0c\u51ed\u501f\u5176\u9ad8\u6027\u80fd\u3001\u9ad8\u53ef\u9760\u548c\u6613\u4e8e\u4f7f\u7528\u7684\u7279\u6027\uff0c\u79f0\u4e3a\u670d\u52a1\u5668\u9886\u57df\u4e2d\u6700\u53d7\u6b22\u8fce\u7684\u5f00\u6e90\u6570\u636e\u5e93\u7cfb\u7edf\u3002\u5728 2008 \u5e74\u4ee5\u524d\uff0cMySQL \u9879\u76ee\u7531 MySQL AB \u516c\u53f8\u8fdb\u884c\u5f00\u53d1\u3001\u53d1\u5e03\u548c\u652f\u6301\uff0c\u4e4b\u540e\u7ecf\u5386 Sun \u516c\u53f8\u6536\u8d2d MySQL AB \u516c\u53f8\uff0cOracle \u516c\u53f8\u6536\u8d2d Sun \u516c\u53f8\u7684\u8fc7\u7a0b\uff0c\u76ee\u524d MySQL \u9879\u76ee\u7531 Oracle \u516c\u53f8\u8d1f\u8d23\u8fd0\u8425\u548c\u7ef4\u62a4\u3002</p> <p>\u4e3a\u4e86\u786e\u4fdd MySQL \u6570\u636e\u5e93\u529f\u80fd\u7684\u5b8c\u6574\u6027\u3001\u53ef\u5b9a\u5236\u6027\uff0c\u4e00\u822c\u91c7\u7528\u6e90\u7801\u7f16\u8bd1\u7684\u65b9\u5f0f\u5b89\u88c5 MySQL \u6570\u636e\u5e93\u7cfb\u7edf\u3002MySQL 5.X \u7cfb\u5217\u7248\u672c\u7684\u4f7f\u7528\u6700\u4e3a\u5e7f\u6cdb\uff0c\u8be5\u7248\u672c\u7684\u7a33\u5b9a\u6027\u3001\u517c\u5bb9\u6027\u90fd\u4e0d\u9519\uff0c\u4e0b\u9762\u5c06\u4ee5 mysql-5.6.36.tar.gz \u4e3a\u4f8b\u3002\uff08\u6e90\u7801\u5305\u5b98\u7f51\u53ef\u4ee5\u4e0b\u8f7d\uff09</p> <p>1.\u51c6\u5907\u5de5\u4f5c</p> <p>1\uff09\u4e3a\u4e86\u907f\u514d\u53d1\u751f\u7aef\u53e3\u51b2\u7a81\u3001\u7a0b\u5e8f\u51b2\u7a81\u7b49\u73b0\u8c61\uff0c\u5efa\u8bae\u5148\u67e5\u8be2 MySQL \u8f6f\u4ef6\u7684\u5b89\u88c5\u60c5\u51b5\uff0c\u786e\u8ba4\u6ca1\u6709\u4f7f\u7528 RPM \u65b9\u5f0f\u5b89\u88c5 mysql-server\u3001mysql \u8f6f\u4ef6\u5305\uff0c\u5426\u5219\u5efa\u8bae\u5c06\u5176\u5378\u8f7d\u3002</p> <p>2\uff09\u7136\u540e\u5b89\u88c5\u5149\u76d8\u81ea\u5e26\u7684 ncurses-devel \u5305\uff0cncurses \u662f\u5b57\u7b26\u7ec8\u7aef\u4e0b\u5c4f\u5e55\u63a7\u5236\u7684\u57fa\u672c\u5e93\u3002\u53ef\u80fd\u5f88\u591a\u65b0\u5f00\u53d1\u7684\u7a0b\u5e8f\u5df2\u7ecf\u4e0d\u518d\u4f7f\u7528\u3002\u5047\u5982\u8981\u7f16\u8bd1\u4e00\u4e9b\u8001\u7684\u7a0b\u5e8f\uff0c\u8fd8\u662f\u4f1a\u7ecf\u5e38\u78b0\u5230\uff0c\u5728 TTY \u4e0b\u767b\u5f55\u4e3b\u673a\u4e0a MySQL \u9700\u8981\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>3\uff09MySQL 5.X \u7cfb\u5217\u7248\u672c\u9700\u8981 cmake \u7f16\u8bd1\u5b89\u88c5\uff0c\u6240\u4ee5\u5148\u5b89\u88c5 cmake \u5305\uff08\u4ece cmake \u5b98\u7f51\u53ef\u4ee5\u4e0b\u8f7d\u6e90\u7801\u5305\uff09\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>2.\u521b\u5efa\u8fd0\u884c\u7528\u6237</p> <p>\u4e3a\u4e86\u52a0\u5f3a\u6570\u636e\u5e93\u670d\u52a1\u7684\u6743\u9650\u63a7\u5236\uff0c\u5efa\u8bae\u4f7f\u7528\u4e13\u95e8\u7684\u8fd0\u884c\u7528\u6237\uff0c\u5982 mysql\u3002\u6b64\u7528\u6237\u4e0d\u9700\u8981\u767b\u5f55\u5230\u7cfb\u7edf\uff0c\u53ef\u4ee5\u4e0d\u521b\u5efa\u5bbf\u4e3b\u6587\u4ef6\u5939\u3002\u5982\u4e0b\uff1a</p> <p>[root@localhost ~]# groupadd mysql</p> <p>[root@localhost ~]# useradd -M -s /sbin/nologin mysql -g mysql</p> <p>3.\u89e3\u5305\u3001\u914d\u7f6e\u3001\u7f16\u8bd1\u5e76\u5b89\u88c5</p> <p>\u5c06\u4e0b\u8f7d\u7684 mysql \u6e90\u7801\u5305\u89e3\u538b\uff0c\u5e76\u5207\u6362\u5230\u6e90\u7801\u76ee\u5f55\u3002\u4ece MySQL 5.5 \u8d77\uff0cmysql \u6e90\u7801\u5b89\u88c5\u5f00\u59cb\u4f7f\u7528 cmake \u4e86\uff0c\u8bbe\u7f6e\u6e90\u7801\u7f16\u8bd1\u914d\u7f6e\u811a\u672c.\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u4e0a\u56fe\u914d\u7f6e\u547d\u4ee4\u4e2d\uff0c\u5404\u9009\u9879\u7684\u542b\u4e49\u5982\u4e0b\uff1a</p> <p>-DCMAKE_INSTALL_PREFIX\uff1a\u6307\u5b9a\u5c06 MySQL \u6570\u636e\u5e93\u7a0b\u5e8f\u5b89\u88c5\u5230\u67d0\u76ee\u5f55\u4e0b\u3002-DSYSCONFDIR\uff1a\u6307\u5b9a\u521d\u59cb\u5316\u53c2\u6570\u6587\u4ef6\u76ee\u5f55\u3002-DDEFAULT_CHARSET\uff1a\u6307\u5b9a\u9ed8\u8ba4\u4f7f\u7528\u7684\u5b57\u7b26\u96c6\u7f16\u7801\uff0c\u5982\uff1autf-8-DDEFAULT_COLLATION\uff1a\u6307\u5b9a\u9ed8\u8ba4\u4f7f\u7528\u7684\u5b57\u7b26\u96c6\u6821\u5bf9\u89c4\u5219\uff0cutf8_general_ci \u662f\u9002\u7528\u4e8e utf-8 \u5b57\u7b26\u96c6\u7684\u901a\u7528\u89c4\u5219\u3002-DWITH_EXTRA_CHARSETS\uff1a\u6307\u5b9a\u989d\u5916\u652f\u6301\u7684\u5176\u4ed6\u5b57\u7b26\u96c6\u7f16\u7801\u3002\u914d\u7f6e\u9879\u4f1a\u6839\u636e\u5b9e\u9645\u73af\u5883\u800c\u6539\u53d8\uff0c\u5e76\u4e0d\u662f\u5b9a\u6b7b\u7684\uff0c\u6240\u4ee5\uff0c\u5f53\u9700\u8981\u4e0d\u540c\u9700\u6c42\u7684\u65f6\u5019\u53ef\u6839\u636e\u591a\u65b9\u9762\u67e5\u627e\uff0c\u968f\u673a\u5e94\u53d8\u5427\u3002</p> <p>4.\u5b89\u88c5\u540e\u7684\u5176\u4ed6\u8c03\u6574</p> <p>1\uff09\u5bf9\u6570\u636e\u5e93\u76ee\u5f55\u8fdb\u884c\u6743\u9650\u8bbe\u7f6e\uff0c\u5982\u4e0b\uff1a</p> <p>[root@localhost ~]# chown -R mysql:mysql /usr/local/mysql</p> <p>2\uff09\u5efa\u7acb\u914d\u7f6e\u6587\u4ef6</p> <p>CentOS 7 \u7cfb\u7edf\u4e0b\u9ed8\u8ba4\u652f\u6301 MariaDB \u6570\u636e\u5e93\uff0c\u56e0\u6b64\u7cfb\u7edf\u9ed8\u8ba4\u7684/etc/my.cnf \u914d\u7f6e\u6587\u4ef6\u4e2d\u662f MariaDB \u7684\u914d\u7f6e\u6587\u4ef6\u3002\u800c\u5728 MySQL \u6e90\u7801\u76ee\u5f55\u4e2d support-file \u6587\u4ef6\u5939\u4e0b\uff0c\u63d0\u4f9b\u4e86 MySQL \u6570\u636e\u5e93\u9ed8\u8ba4\u7684\u6837\u672c\u914d\u7f6e\u6587\u4ef6 my-default.cnf \u6587\u4ef6\uff0c\u5728\u542f\u52a8 MySQL \u6570\u636e\u5e93\u670d\u52a1\u4e4b\u524d\uff0c\u9700\u8981\u5148\u5c06\u539f\u6709\u7684 my.cnf \u6587\u4ef6\u66ff\u6362\u4e3a MySQL \u63d0\u4f9b\u7684\u914d\u7f6e\u6587\u4ef6\u5185\u5bb9\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>3\uff09\u521d\u59cb\u5316\u6570\u636e\u5e93</p> <p>\u4e3a\u4e86\u80fd\u591f\u6b63\u5e38\u4f7f\u7528 MySQL \u6570\u636e\u5e93\u7cfb\u7edf\uff0c\u5e94\u4ee5\u8fd0\u884c\u7528\u6237 mysql \u7684\u8eab\u4efd\u6267\u884c\u521d\u59cb\u5316\u811a\u672c mysql_install_db\uff0c\u6307\u5b9a\u6570\u636e\u5b58\u653e\u76ee\u5f55\u7b49\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>4)\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf</p> <p>\u4e3a\u4e86\u65b9\u4fbf\u5728\u4efb\u4f55\u76ee\u5f55\u4e0b\u4f7f\u7528 mysql \u547d\u4ee4\uff0c\u9700\u8981\u5728/etc/profile \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u3002\uff08/etc/profile \u8fd9\u4e2a\u6587\u4ef6\u662f\u6bcf\u4e2a\u7528\u6237\u767b\u5f55\u65f6\u90fd\u4f1a\u8fd0\u884c\u7684\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\uff09\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u4e5f\u53ef\u4ee5\u7528 vim \u7f16\u8f91\uff0c\u7ed3\u679c\u90fd\u4e00\u6837\u3002</p> <p>5.\u6dfb\u52a0 mysql \u4e3a\u7cfb\u7edf\u670d\u52a1</p> <p>\u82e5\u5e0c\u671b\u6dfb\u52a0 mysqld \u7cfb\u7edf\u670d\u52a1\uff0c\u4ee5\u4fbf\u901a\u8fc7 systemctl \u8fdb\u884c\u7ba1\u7406\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u6e90\u7801\u5305\u4e2d\u63d0\u4f9b\u7684\u670d\u52a1\u811a\u672c\u3002\u627e\u5230 support-files \u6587\u4ef6\u5939\u4e0b\u7684 mysql.server \u811a\u672c\u6587\u4ef6\uff0c\u5c06\u5176\u590d\u5236\u5230/usr/local/mysql/bin/\u76ee\u5f55\u4e0b\uff0c\u5e76\u6539\u540d\u4e3a mysqld.sh\uff0c\u7136\u540e\u521b\u5efa mysql \u7cfb\u7edf\u670d\u52a1\u7684\u914d\u7f6e\u6587\u4ef6/usr/lib/systemd/system/mysqld.server,\u5c06\u5176\u6dfb\u52a0\u4e3a mysqld \u7cfb\u7edf\u670d\u52a1\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u8fd9\u6837\uff0c\u4ee5\u540e\u5c31\u53ef\u4ee5\u4f7f\u7528 systemctl \u5de5\u5177\u6765\u63a7\u5236 MySQL \u6570\u636e\u5e93\u670d\u52a1\u4e86\u3002\u82e5\u6dfb\u52a0\u5931\u8d25\uff0c\u53ef\u4ee5\u4f7f\u7528\u201c/usr/local/mysql/bin/mysqld.sh start/stop/restart\u201d\u547d\u4ee4\u5f00\u542f/\u5173\u95ed/\u91cd\u542f\u6570\u636e\u5e93\u3002\u7ed3\u679c\u90fd\u4e00\u6837\u3002</p> <p>MySQL \u670d\u52a1\u5668\u9ed8\u8ba4\u901a\u8fc7 TCP3306 \u7aef\u53e3\u63d0\u4f9b\u670d\u52a1\u3002\u901a\u8fc7\u7f16\u8f91/etc/my.cnf \u914d\u7f6e\u6587\u4ef6\u4e2d[mysqld]\u914d\u7f6e\u7aef\u7684\u201cport=3306\u201d\u884c\uff0c\u53ef\u4ee5\u66f4\u6539\u76d1\u542c\u7aef\u53e3\uff0c\u540e\u9762\u6211\u4eec\u5728\u8be6\u7ec6\u8ff0\u8bf4\uff0c\u8fd8\u6709\u5982\u4f55\u4f7f\u7528\u6570\u636e\u5e93\u3001\u5982\u4f55\u5bf9\u6570\u636e\u5e93\u7528\u6237\u6388\u6743\u7b49\u3002</p> <p>\u4e0b\u9762\u662f\u6211\u5728\u505a\u5b9e\u9a8c\u65f6\u7684\u62a5\u9519\uff1a</p> <p>\u521d\u59cb\u5316\u62a5\u9519\uff0c\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u89e3\u51b3\u65b9\u6cd5 \uff1a\u5b89\u88c5 autoconf \u5e93</p> <p>\u8f93\u5165\u547d\u4ee4</p> <p>#yum-y install autoconf //\u6b64\u5305\u5b89\u88c5\u65f6\u4f1a\u5b89\u88c5 Data:Dumper \u6a21\u5757\uff0c\u7cfb\u7edf\u76d8\u505a yum \u6e90\u5c31\u53ef\u4ee5\uff0c\u7cfb\u7edf\u76d8\u6709</p> <p>\u5b89\u88c5 autoconf \u5e93\uff0c\u518d\u8fd0\u884c\u5c31 ok \u4e86</p> <p>Autoconf \u7b80\u4ecb\uff1a\u7531 Autoconf \u751f\u6210\u7684\u914d\u7f6e\u811a\u672c\u5728\u8fd0\u884c\u7684\u65f6\u5019\u4e0d\u9700\u8981\u7528\u6237\u7684\u624b\u5de5\u5e72\u9884\uff1b\u901a\u5e38\u5b83\u4eec\u751a\u81f3\u4e0d\u9700\u8981 \u901a\u8fc7\u7ed9\u51fa\u53c2\u6570\u4ee5\u786e\u5b9a\u7cfb\u7edf\u7684\u7c7b\u578b\u3002\u76f8\u53cd\uff0c\u5b83\u4eec\u5bf9\u8f6f\u4ef6\u5305\u53ef\u80fd\u9700\u8981\u7684\u5404\u79cd\u7279\u5f81\u8fdb\u884c\u72ec\u7acb \u7684\u6d4b\u8bd5\u3002\uff08\u5728\u6bcf\u4e2a\u6d4b\u8bd5\u4e4b\u524d\uff0c\u5b83\u4eec\u6253\u5370\u4e00\u4e2a\u5355\u884c\u7684\u6d88\u606f\u4ee5\u8bf4\u660e\u5b83\u4eec\u6b63\u5728\u8fdb\u884c\u7684\u68c0\u6d4b\uff0c \u4ee5\u4f7f\u5f97\u7528\u6237\u4e0d\u4f1a\u56e0\u4e3a\u7b49\u5f85\u811a\u672c\u6267\u884c\u5b8c\u6bd5\u800c\u7126\u8e81\u3002\uff09\u56e0\u6b64\uff0c\u5b83\u4eec\u5728\u6df7\u5408\u7cfb\u7edf\u6216\u8005\u4ece\u5404\u79cd \u5e38\u89c1 Unix \u53d8\u79cd\u5b9a\u5236\u800c\u6210\u7684\u7cfb\u7edf\u4e2d\u5de5\u4f5c\u7684\u5f88\u597d\u3002\u6ca1\u6709\u5fc5\u8981\u7ef4\u62a4\u6587\u4ef6\u4ee5\u50a8\u5b58\u7531\u5404\u4e2a Unix \u53d8\u79cd \u3001\u5404\u4e2a\u53d1\u884c\u7248\u672c\u6240\u652f\u6301\u7684\u7279\u5f81\u7684\u5217\u8868\u3002</p>"},{"location":"server/Linux%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BAApache%E7%BD%91%E7%AB%99%E6%9C%8D%E5%8A%A1/","title":"Linux \u5982\u4f55\u642d\u5efa Apache \u7f51\u7ad9\u670d\u52a1","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 8100  \u9605\u8bfb17\u5206\u949f</p> <p>**\u524d\u8a00\uff1a**\u5728 Internet \u7f51\u7edc\u73af\u5883\u4e2d\uff0cWeb \u670d\u52a1\u65e0\u7591\u662f\u6700\u4e3a\u6d41\u884c\u7684\u5e94\u7528\u7cfb\u7edf\u3002\u6709\u4e86 Web \u7ad9\u70b9\uff0c\u4f01\u4e1a\u53ef\u4ee5\u5145\u5206\u5c55\u793a\u81ea\u5df1\u7684\u4ea7\u54c1\u3001\u5ba3\u4f20\u81ea\u5df1\u7684\u4f01\u4e1a\u5f62\u8c61\u7b49\u7b49\u3002Web \u7ad9\u70b9\u8fd8\u53ef\u4ee5\u63d0\u4f9b\u4e0e\u5ba2\u6237\u4ea4\u6d41\u3001\u7535\u5b50\u5546\u52a1\u4ea4\u6613\u5e73\u53f0\u7b49\u4e30\u5bcc\u7684\u7f51\u7edc\u5e94\u7528\u3002\u63a5\u4e0b\u6765\u8ba9\u6211\u4eec\u4e00\u8d77\u6765\u4e86\u89e3\u8457\u540d\u7684 Web \u7f51\u7ad9\u670d\u52a1\u2014\u2014\u201cApache HTTP Server\u201d\u7684\u5b89\u88c5\u53ca httpd \u670d\u52a1\u7684\u57fa\u672c\u914d\u7f6e\u3002</p> <p>\u4e00\u3001\u5173\u4e8e Apache</p> <p>Apache \u662f\u5e7f\u6cdb\u5e94\u7528\u7684 Web \u5e94\u7528\u7cfb\u7edf\u4e4b\u4e00\uff0c\u662f\u5f00\u6e90\u8f6f\u4ef6\u9879\u76ee\u7684\u6770\u51fa\u4ee3\u8868\uff0c\u57fa\u4e8e\u6807\u51c6\u7684 HTTP \u7f51\u7edc\u534f\u8bae\u63d0\u4f9b\u7f51\u9875\u6d4f\u89c8\u670d\u52a1\uff0c\u5728 Web \u670d\u52a1\u5668\u9886\u57df\u4e2d\u957f\u671f\u4fdd\u6301\u7740\u8d85\u8fc7\u534a\u6570\u7684\u4efd\u989d\u3002Apache \u670d\u52a1\u5668\u53ef\u4ee5\u8fd0\u884c\u5728 Linux\u3001UNIX\u3001Windows \u7b49\u591a\u79cd\u64cd\u4f5c\u7cfb\u7edf\u5e73\u53f0\u3002</p> <p>1.Apache \u7684\u8d77\u6e90</p> <p>\u6e90\u4e8e\u201cA Patchy Server\u201d\uff0c\u8457\u540d\u7684\u5f00\u6e90 Web \u670d\u52a1\u8f6f\u4ef6 1995 \u5e74\u65f6\uff0c\u53d1\u5e03 Apache \u670d\u52a1\u7a0b\u5e8f\u7684 1.0 \u7248\u672c\u5176\u6b63\u5f0f\u540d\u79f0\u662f\u201chttpd\u201d\uff0c\u4e00\u822c Apache \u6216 httpd\uff0c\u5747\u6307 Apache HTTP Server \u7531 Apache \u8f6f\u4ef6\u57fa\u91d1\u4f1a\uff08ASF\uff0cApache Software Foundation\uff09\u8d1f\u8d23\u7ba1\u7406\u548c\u7ef4\u62a4 AFS \u7684\u5b98\u65b9\u7ad9\u70b9\uff1ahttp://httpd.apache.org/2.Apache\u7684\u4e3b\u8981\u7279\u70b9</p> <p>\u5f00\u653e\u6e90\u4ee3\u7801\u3001\u8de8\u5e73\u53f0\u5e94\u7528\u652f\u6301\u591a\u79cd\u7f51\u9875\u7f16\u7a0b\u8bed\u8a00\u6a21\u5757\u5316\u8bbe\u8ba1 \u3001\u8fd0\u884c\u7a33\u5b9a\u3001\u826f\u597d\u7684\u5b89\u5168\u6027**3.Apache \u7684\u4e3b\u8981\u7248\u672c**</p> <p>Apache \u670d\u52a1\u5668\u76ee\u524d\u5305\u62ec 1.X \u548c 2.X \u4e24\u4e2a\u7248\u672c\uff0c\u5e76\u4e14\u5bf9\u5176\u5206\u522b\u8fdb\u884c\u7ef4\u62a4\u3002\u4e24\u4e2a\u7248\u672c\u5177\u6709\u4e00\u5b9a\u7684\u5dee\u5f02\uff0c\u4e5f\u5177\u6709\u5404\u81ea\u7684\u7279\u6027\u3002</p> <p>1.X \u76ee\u524d\u6700\u9ad8\u7248\u672c\u662f 1.3\uff0c\u8fd0\u884c\u7a33\u5b9a</p> <p>\u5411\u4e0b\u517c\u5bb9\u6027\u8f83\u597d\uff0c\u4f46\u7f3a\u4e4f\u4e00\u4e9b\u8f83\u65b0\u7684\u529f\u80fd</p> <p>2.X \u76ee\u524d\u6700\u9ad8\u7248\u672c\u662f 2.4</p> <p>\u5177\u6709\u66f4\u591a\u7684\u529f\u80fd\u7279\u6027</p> <p>\u4e0e 1.X \u76f8\u6bd4\uff0c\u914d\u7f6e\u7ba1\u7406\u98ce\u683c\u5b58\u5728\u8f83\u5927\u5dee\u5f02</p> <p>\u4e8c\u3001\u5b89\u88c5 Apache\uff08httpd\uff09\u670d\u52a1\u5668</p> <p>Httpd \u670d\u52a1\u5668\u7684\u5b89\u88c5\u53ef\u4ee5\u9009\u7528 RPM \u5305\u5b89\u88c5\u3001\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5\u4e24\u79cd\u65b9\u5f0f\uff0cRPM \u5305\u5b89\u88c5\u76f8\u5bf9\u6bd4\u8f83\u7b80\u5355\u3001\u5feb\u901f\uff0c\u4f46\u662f\u5728\u529f\u80fd\u4e0a\u5b58\u5728\u4e00\u5b9a\u7684\u5c40\u9650\u6027\uff0c\u5728\u5b9e\u9645\u7684\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u4f7f\u7528\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5\u7684\u65b9\u5f0f\u8981\u66f4\u52a0\u666e\u904d\u3002</p> <p>\u7f16\u8bd1\u5b89\u88c5\u7684\u4f18\u70b9\uff1a</p> <p>\u5177\u6709\u8f83\u5927\u7684\u81ea\u7531\u5ea6\uff0c\u529f\u80fd\u53ef\u5b9a\u5236\u53ef\u53ca\u65f6\u83b7\u5f97\u6700\u65b0\u7684\u8f6f\u4ef6\u7248\u672c\u666e\u904d\u9002\u7528\u4e8e\u5927\u591a\u6570 Linux \u7248\u672c\uff0c\u4fbf\u4e8e\u79fb\u690d\u4f7f\u7528**\u83b7\u5f97 Apache \u670d\u52a1\u5668\u7684\u6e90\u7801\u5305**</p> <p>\u53c2\u8003\u5730\u5740\uff1ahttp://httpd.apache.org/download.cgi\uff08\u5b98\u7f51\u81ea\u5df1\u4e0b\u8f7d\uff09\u6211\u7684\u4e91\u76d8\u94fe\u63a5\uff1ahttps://pan.baidu.com/s/1ICTiuzWXqo-qbX2ipRXIdw\u63d0\u53d6\u7801\uff1aa4cz\u590d\u5236\u94fe\u63a5\u5e76\u6253\u5f00\uff0c\u8f93\u5165\u63d0\u53d6\u7801\u5c31\u53ef\u4e0b\u8f7d</p> <p>\u7f16\u8bd1\u5b89\u88c5 httpd \u670d\u52a1\u5668\u64cd\u4f5c\u6b65\u9aa4\uff1a\uff08\u5982\u4e0b\u56fe\uff09</p> <p></p> <p>1.\u51c6\u5907\u5de5\u4f5c</p> <p>\u4e3a\u907f\u514d\u53d1\u751f\u7aef\u53e3\u51b2\u7a81\u3001\u7a0b\u5e8f\u51b2\u7a81\u7b49\u73b0\u8c61\uff0c\u5efa\u8bae\u5148\u5378\u8f7d\u4f7f\u7528 RPM \u65b9\u5f0f\u5b89\u88c5\u7684 httpd</p> <p>\u67e5\u770b\u662f\u5426\u5b89\u88c5\uff1arpm -q httpd \u5378\u8f7d\uff1arpm -e httpd --nodepsApache \u7684\u914d\u7f6e\u53ca\u8fd0\u884c\u9700\u8981 apr\u3001pcre \u7b49\u8f6f\u4ef6\u5305\u7684\u652f\u6301\uff0c\u56e0\u6b64\u9700\u8981\u5148\u5b89\u88c5\u8fd9\u4e9b\u8f6f\u4ef6\u5305\uff0c\u4ee5\u4fbf\u63d0\u4f9b\u76f8\u5e94\u7684\u5e93\u548c\u5934\u6587\u4ef6\uff0c\u786e\u4fdd Apache \u7684\u5b89\u88c5\u987a\u5229\uff0c\u6211\u4eec\u79f0\u8fd9\u4e9b\u5305\u4e3a\u524d\u63d0\u5305\uff0c\u8fd9\u4e9b\u524d\u63d0\u5305\u5728\u7cfb\u7edf\u5149\u76d8\u4e2d\u90fd\u6709\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u91c7\u7528 yum \u6216 RPM \u5b89\u88c5\u3002</p> <p>Yum \u5b89\u88c5\uff1a\u5982\u679c\u6709\u7f51\u7edc\u76f4\u63a5\u5b89\u88c5\uff0c\u5982\u679c\u6ca1\u6709\u7f51\u7edc\u53ef\u4ee5\u5148\u6302\u8f7d\u7cfb\u7edf\u5149\u76d8\uff0c\u7136\u540e\u642d\u5efa\u4e00\u4e2a\u672c\u5730 yum \u4ed3\u5e93\u5b89\u88c5\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>RPM \u5b89\u88c5\uff1a\u6302\u8f7d\u7cfb\u7edf\u5149\u76d8\uff0c\u8fdb\u5165\u7cfb\u7edf\u5149\u76d8\u6302\u8f7d\u76ee\u5f55\u4e0b\u7684 Packages \u76ee\u5f55\uff0c\u7136\u540e\u5206\u522b\u8fdb\u884c\u5b89\u88c5\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>2.\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5\uff08\u524d\u9762\u6709\u6587\u7ae0\u5206\u4eab\u8fc7\u6e90\u7801\u5b89\u88c5\u7684\u8be6\u7ec6\u8fc7\u7a0b\u7684\uff0c\u5982\u679c\u60f3\u4e86\u89e3\u7684\u8bdd\u53ef\u4ee5\u5728\u6211\u7684\u4e3b\u9875\u67e5\u627e\uff09</p> <p>\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5 httpd \u670d\u52a1\u7684\u8fc7\u7a0b\u4e3b\u8981\u5305\u542b\u89e3\u5305\u3001\u914d\u7f6e\u3001\u7f16\u8bd1\u53ca\u5b89\u88c5\u3002</p> <p>1\uff09\u89e3\u5305\uff08\u5982\u4e0b\u56fe\uff09</p> <p>\u5c06 httpd \u6e90\u7801\u5305\u89e3\u538b\u5e76\u91ca\u653e\u5230/usr/src \u76ee\u5f55\u4e0b\uff0c\u7136\u540e\u5207\u6362\u5230\u89e3\u538b\u540e\u7684\u6e90\u7801\u76ee\u5f55\uff08/usr/src/httpd-2.4.25\uff09\u4e2d\u3002</p> <p></p> <p>2\uff09\u914d\u7f6e\uff08\u5982\u4e0b\u56fe\uff09</p> <p></p> <p>\u6839\u636e\u670d\u52a1\u5668\u7684\u5b9e\u9645\u5e94\u7528\u9700\u8981\uff0c\u53ef\u4ee5\u7075\u6d3b\u8bbe\u7f6e\u4e0d\u540c\u7684\u5b9a\u5236\u9009\u9879\uff0c\u5982\u6307\u5b9a\u5b89\u88c5\u8def\u5f84\u3001\u542f\u7528\u5b57\u7b26\u96c6\u652f\u6301\u7b49\u3002</p> <p>\u4e0a\u56fe\u6240\u793a\u914d\u7f6e\u4e2d\uff0c\u5404\u9009\u9879\u7684\u542b\u4e49\u5982\u4e0b\uff1a</p> <p>--prefix\uff1a\u6307\u5b9a\u5b89\u88c5\u76ee\u5f55</p> <p>--enable-so\uff1a\u542f\u7528\u52a8\u6001\u52a0\u8f7d\u6a21\u5757\u652f\u6301\uff0c\u4f7f httpd \u5177\u5907\u8fdb\u4e00\u6b65\u6269\u5c55\u529f\u80fd\u7684\u80fd\u529b</p> <p>--enable-rewrite\uff1a\u542f\u7528\u7f51\u9875\u5730\u5740\u91cd\u5199\u529f\u80fd\uff0c\u7528\u4e8e\u7f51\u7ad9\u4f18\u5316\u53ca\u76ee\u5f55\u8fc1\u79fb\u7ef4\u62a4</p> <p>--enable-charset-lite\uff1a\u542f\u52a8\u5b57\u7b26\u96c6\u652f\u6301\uff0c\u4ee5\u4fbf\u652f\u6301\u4f7f\u7528\u5404\u79cd\u5b57\u7b26\u96c6\u7f16\u7801\u7684\u7f51\u9875</p> <p>--enable-cgi\uff1a\u542f\u7528 CGI\uff08Common Gateway Interface\uff0c\u516c\u7528\u7f51\u7edc\u63a5\u53e3\uff09\u811a\u672c\u7a0b\u5e8f\u652f\u6301\uff0c\u4fbf\u4e8e\u6269\u5c55\u7f51\u7ad9\u7684\u5e94\u7528\u8bbf\u95ee\u80fd\u529b</p> <p>3\uff09\u7f16\u8bd1\u5e76\u5b89\u88c5\uff08\u5982\u4e0b\u56fe\uff09</p> <p></p> <p>3.\u786e\u8ba4\u5b89\u88c5\u7ed3\u679c</p> <p>\u7531\u4e8e\u6307\u5b9a\u7684\u5b89\u88c5\u76ee\u5f55\u4e3a/usr/local/httpd\uff0c\u56e0\u6b64 httpd \u670d\u52a1\u7684\u5404\u79cd\u7a0b\u5e8f\u3001\u6a21\u5757\u3001\u6587\u4ef6\u7b49\u90fd\u5c06\u590d\u5236\u5230\u6b64\u76ee\u5f55\u4e0b\u3002\uff08\u5982\u4e0b\u56fe\uff09</p> <p></p> <p>\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u4e3b\u8981\u76ee\u5f55\u7684\u7528\u9014\u5982\u4e0b\uff1a</p> <p>/usr/local/httpd/bin\uff1a\u5b58\u653e httpd \u670d\u52a1\u7684\u5404\u79cd\u6267\u884c\u7a0b\u5e8f\u6587\u4ef6\uff0c\u5305\u62ec\u4e3b\u7a0b\u5e8f httpd\u3001\u670d\u52a1\u63a7\u5236\u5de5\u5177 apachectl \u7b49\u5de5\u5177/usr/local/httpd/cgi-bin\uff1a\u5b58\u653e\u5404\u79cd CGI \u7a0b\u5e8f\u6587\u4ef6/usr/local/httpd/logs\uff1a\u5b58\u653e httpd \u670d\u52a1\u7684\u65e5\u5fd7\u6587\u4ef6/usr/local/httpd/conf\uff1a\u5b58\u653e httpd \u670d\u52a1\u7684\u5404\u79cd\u914d\u7f6e\u6587\u4ef6\uff0c\u5305\u62ec\u4e3b\u914d\u7f6e\u6587\u4ef6 httpd.conf\u3001\u589e\u5f3a\u914d\u7f6e\u5b50\u76ee\u5f55 extra \u7b49/usr/local/httpd/htdocs\uff1a\u5b58\u653e\u7f51\u9875\u6587\u6863\uff0c\u5305\u62ec\u9ed8\u8ba4\u9996\u9875\u6587\u4ef6 index.html \u7b49/usr/local/httpd/modules\uff1a\u5b58\u653e httpd \u670d\u52a1\u7684\u5404\u79cd\u6a21\u5757\u6587\u4ef6**4.\u4f18\u5316\u6267\u884c\u8def\u5f84**</p> <p>\u901a\u8fc7\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5\u7684 httpd \u670d\u52a1\uff0c\u7a0b\u5e8f\u8def\u5f84\u5e76\u4e0d\u5728\u9ed8\u8ba4\u7684\u641c\u7d22\u8def\u5f84\u4e2d\uff0c\u4e3a\u4e86\u4f7f\u8be5\u670d\u52a1\u5728\u4f7f\u7528\u65f6\u66f4\u65b9\u4fbf\uff0c\u53ef\u4ee5\u4e3a\u76f8\u5173\u7a0b\u5e8f\u6dfb\u52a0\u7b26\u53f7\u94fe\u63a5\u3002\u8fd9\u6837\u5f53\u6267\u884c\u201chttpd -v\u201d\u547d\u4ee4\uff08\u4ea7\u770b\u7a0b\u5e8f\u7248\u672c\uff09\u662f\uff0c\u5c31\u76f8\u5f53\u4e8e\u6267\u884c\u201c/usr/local/httpd/bin/httpd -v\u201d\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>5.\u542f\u52a8\u670d\u52a1</p> <p>\u7531\u4e8e\u662f\u6e90\u7801\u5305\u7f16\u8bd1\u5b89\u88c5\uff0c\u6240\u4ee5\u6211\u4eec\u6682\u65f6\u4e0d\u80fd\u7528 systemctl \u5de5\u5177\u7ba1\u7406 httpd \u670d\u52a1\uff08\u600e\u4e48\u6dfb\u52a0 httpd \u4e3a\u7cfb\u7edf\u670d\u52a1\uff0c\u4e0b\u4e2a\u6587\u6863\u6211\u4eec\u518d\u4e00\u8d77\u4e86\u89e3\uff09\uff0c\u4f46\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 apachectl \u5de5\u5177\u6765\u63a7\u5236 httpd \u670d\u52a1\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u6ce8\uff1a\u5f53\u542f\u52a8\u6216\u8005\u5173\u95ed httpd \u670d\u52a1\u65f6\uff0c\u63d0\u793a\u7684\u5185\u5bb9\u5e76\u4e0d\u662f\u62a5\u9519\uff0c\u662f\u56e0\u4e3a\u6211\u4eec\u8fd8\u6ca1\u6709\u6539\u914d\u7f6e\u6587\u4ef6\u4e2d Web \u7ad9\u70b9\u7684\u5b8c\u6574\u4e3b\u673a\u540d\uff0c\u5b83\u53ef\u4ee5\u8bf4\u662f\u4e00\u4e2a\u8b66\u544a\u6216\u8005\u63d0\u793a\u5185\u5bb9\uff0c\u53ef\u4ee5\u5ffd\u7565\u3002</p> <p>6.\u6d4b\u8bd5</p> <p>\u5728\u6d4f\u89c8\u5668\u4e2d\uff0c\u901a\u8fc7 IP \u5730\u5740\u8bbf\u95ee httpd \u670d\u52a1\u5668\uff0c\u5c06\u53ef\u4ee5\u770b\u5230 Web \u7ad9\u70b9\u7684\u9875\u9762\u5185\u5bb9\u3002\u82e5\u4f7f\u7528\u7684\u662f httpd \u670d\u52a1\u9ed8\u8ba4\u7684\u9996\u9875\uff0c\u5219\u9875\u9762\u4f1a\u63d0\u793a\u201cIt works\u201d\u3002\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\uff0chttpd \u670d\u52a1\u5668\u5df2\u7ecf\u6b63\u5e38\u542f\u52a8\u4e86\u3002</p> <p>\u5173\u4e8e httpd \u670d\u52a1\u5668\u7684\u642d\u5efa\uff0c\u8fd8\u6709\u5f88\u591a\u5f88\u591a\u77e5\u8bc6\u70b9\u9700\u8981\u4e86\u89e3\uff0c\u5982\uff1a\u5982\u4f55\u6dfb\u52a0 httpd \u4e3a\u7cfb\u7edf\u670d\u52a1\u3001\u5982\u4f55\u4fee\u6539 httpd \u670d\u52a1\u7684\u914d\u7f6e\u6587\u4ef6\u3001\u5982\u4f55\u90e8\u7f72\u7f51\u9875\u6587\u6863\uff08\u4e0d\u4f7f\u7528\u9ed8\u8ba4\u6587\u6863\uff09\u3001\u5982\u4f55\u6784\u5efa\u865a\u62df Web \u4e3b\u673a\u7b49\u7b49\uff0c\u4ee5\u4e0a\u53ea\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u642d\u5efa\uff0c\u7531\u4e8e\u6587\u6863\u592a\u957f\uff0c\u5173\u4e8e httpd \u7684\u5176\u4ed6\u77e5\u8bc6\u70b9\u6211\u4eec\u5c06\u5206\u5f00\u6765\u4e86\u89e3\uff0c\u8fd9\u53ea\u662f\u7b2c\u4e00\u6b65\u3002</p>"},{"location":"server/RESTful%20API%20%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/","title":"RESTful API \u8bbe\u8ba1\u6307\u5357","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 7937  \u9605\u8bfb16\u5206\u949f</p> <p>RESTful \u662f\u4e00\u4e2a URL \u7684\u8bbe\u8ba1\u89c4\u8303</p> <p>\u7b80\u5355\u7684\u8bf4\uff1aHTTP \u901a\u8fc7\u4e0d\u540c\u7684\u65b9\u6cd5\u8868\u793a\u64cd\u4f5c\uff08\u5bf9\u5e94\u6570\u636e\u5e93\u589e\u5220\u6539\u67e5\uff09\uff0cURL \u8868\u793a\u64cd\u4f5c\u7684\u5bf9\u8c61\uff08\u5bf9\u5e94\u6570\u636e\u5e93\u3001\u8868\u3001\u8bb0\u5f55\u7b49\u5bf9\u8c61\uff09\u3002\u8fd9\u90e8\u5206 URL \u901a\u5e38\u662f\u540e\u7aef\u8bbe\u8ba1\uff0c\u524d\u7aef\u76f4\u63a5\u8c03\u7528\u3002\u5982\u679c\u524d\u7aef\u5904\u7406\u90e8\u5206\u5168\u6808\u4efb\u52a1\uff0c\u90a3\u4e48\u4e5f\u9700\u8981\u4e86\u89e3\u4e00\u90e8\u5206 Restful \u8bbe\u8ba1\u98ce\u683c\u3002</p>"},{"location":"server/RESTful%20API%20%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/#_1","title":"\u4e00\u3001\u534f\u8bae","text":"<p>API \u4e0e\u7528\u6237\u7684\u901a\u4fe1\u534f\u8bae\uff0c\u603b\u662f\u4f7f\u7528HTTPs \u534f\u8bae\u3002</p> <p>TODO\uff1a socket \u534f\u8bae\u662f\u5426\u652f\u6301\uff1fsocket \u534f\u8bae\u7684\u7279\u5f81\uff1f</p>"},{"location":"server/RESTful%20API%20%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/#_2","title":"\u4e8c\u3001\u57df\u540d","text":"<p>\u5e94\u8be5\u5c3d\u91cf\u5c06 API \u90e8\u7f72\u5728\u4e13\u7528\u57df\u540d\u4e4b\u4e0b\u3002</p> <pre><code>https://api.example.com\n</code></pre> <p>\u5982\u679c\u786e\u5b9a API \u5f88\u7b80\u5355\uff0c\u4e0d\u4f1a\u6709\u8fdb\u4e00\u6b65\u6269\u5c55\uff0c\u53ef\u4ee5\u8003\u8651\u653e\u5728\u4e3b\u57df\u540d\u4e0b\u3002</p> <pre><code>https://example.org/api/\n</code></pre>"},{"location":"server/RESTful%20API%20%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/#versioning","title":"\u4e09\u3001\u7248\u672c\uff08Versioning\uff09","text":"<p>\u5e94\u8be5\u5c06 API \u7684\u7248\u672c\u53f7\u653e\u5165 URL\u3002</p> <pre><code>https://api.example.com/v1/\n</code></pre> <p>\u53e6\u4e00\u79cd\u505a\u6cd5\u662f\uff0c\u5c06\u7248\u672c\u53f7\u653e\u5728 HTTP \u5934\u4fe1\u606f\u4e2d\uff0c\u4f46\u4e0d\u5982\u653e\u5165 URL \u65b9\u4fbf\u548c\u76f4\u89c2\u3002Github\u91c7\u7528\u8fd9\u79cd\u505a\u6cd5\u3002</p>"},{"location":"server/RESTful%20API%20%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/#endpoint","title":"\u56db\u3001\u8def\u5f84\uff08Endpoint\uff09","text":"<p>\u8def\u5f84\u53c8\u79f0\"\u7ec8\u70b9\"\uff08endpoint\uff09\uff0c\u8868\u793a API \u7684\u5177\u4f53\u7f51\u5740\u3002</p> <p>\u5728 RESTful \u67b6\u6784\u4e2d\uff0c\u6bcf\u4e2a\u7f51\u5740\u4ee3\u8868\u4e00\u79cd\u8d44\u6e90\uff08resource\uff09\uff0c\u6240\u4ee5\u7f51\u5740\u4e2d\u4e0d\u80fd\u6709\u52a8\u8bcd\uff0c\u53ea\u80fd\u6709\u540d\u8bcd\uff0c\u800c\u4e14\u6240\u7528\u7684\u540d\u8bcd\u5f80\u5f80\u4e0e\u6570\u636e\u5e93\u7684\u8868\u683c\u540d\u5bf9\u5e94\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u6570\u636e\u5e93\u4e2d\u7684\u8868\u90fd\u662f\u540c\u79cd\u8bb0\u5f55\u7684\"\u96c6\u5408\"\uff08collection\uff09\uff0c\u6240\u4ee5 API \u4e2d\u7684\u540d\u8bcd\u4e5f\u5e94\u8be5\u4f7f\u7528\u590d\u6570\u3002</p> <p>\u4e3e\u4f8b\u6765\u8bf4\uff0c\u6709\u4e00\u4e2a API \u63d0\u4f9b\u52a8\u7269\u56ed\uff08zoo\uff09\u7684\u4fe1\u606f\uff0c\u8fd8\u5305\u62ec\u5404\u79cd\u52a8\u7269\u548c\u96c7\u5458\u7684\u4fe1\u606f\uff0c\u5219\u5b83\u7684\u8def\u5f84\u5e94\u8be5\u8bbe\u8ba1\u6210\u4e0b\u9762\u8fd9\u6837\u3002</p> <ul> <li>https://api.example.com/v1/zoos</li> <li>https://api.example.com/v1/animals</li> <li>https://api.example.com/v1/employees</li> </ul>"},{"location":"server/RESTful%20API%20%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/#http","title":"\u4e94\u3001HTTP \u52a8\u8bcd","text":"<p>\u5bf9\u4e8e\u8d44\u6e90\u7684\u5177\u4f53\u64cd\u4f5c\u7c7b\u578b\uff0c\u7531 HTTP \u52a8\u8bcd\u8868\u793a\u3002</p> <p>\u5e38\u7528\u7684 HTTP \u52a8\u8bcd\u6709\u4e0b\u9762\u4e94\u4e2a\uff08\u62ec\u53f7\u91cc\u662f\u5bf9\u5e94\u7684 SQL \u547d\u4ee4\uff09\u3002</p> <ul> <li>GET\uff08SELECT\uff09\uff1a\u4ece\u670d\u52a1\u5668\u53d6\u51fa\u8d44\u6e90\uff08\u4e00\u9879\u6216\u591a\u9879\uff09\u3002</li> <li>POST\uff08CREATE\uff09\uff1a\u5728\u670d\u52a1\u5668\u65b0\u5efa\u4e00\u4e2a\u8d44\u6e90\u3002</li> <li>PUT\uff08UPDATE\uff09\uff1a\u5728\u670d\u52a1\u5668\u66f4\u65b0\u8d44\u6e90\uff08\u5ba2\u6237\u7aef\u63d0\u4f9b\u6539\u53d8\u540e\u7684\u5b8c\u6574\u8d44\u6e90\uff09\u3002</li> <li>PATCH\uff08UPDATE\uff09\uff1a\u5728\u670d\u52a1\u5668\u66f4\u65b0\u8d44\u6e90\uff08\u5ba2\u6237\u7aef\u63d0\u4f9b\u6539\u53d8\u7684\u5c5e\u6027\uff09\u3002</li> <li>DELETE\uff08DELETE\uff09\uff1a\u4ece\u670d\u52a1\u5668\u5220\u9664\u8d44\u6e90\u3002</li> </ul> <p>\u8fd8\u6709\u4e24\u4e2a\u4e0d\u5e38\u7528\u7684 HTTP \u52a8\u8bcd\u3002</p> <ul> <li>HEAD\uff1a\u83b7\u53d6\u8d44\u6e90\u7684\u5143\u6570\u636e\u3002</li> <li>OPTIONS\uff1a\u83b7\u53d6\u4fe1\u606f\uff0c\u5173\u4e8e\u8d44\u6e90\u7684\u54ea\u4e9b\u5c5e\u6027\u662f\u5ba2\u6237\u7aef\u53ef\u4ee5\u6539\u53d8\u7684\u3002</li> </ul> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u4f8b\u5b50\u3002</p> <ul> <li>GET /zoos\uff1a\u5217\u51fa\u6240\u6709\u52a8\u7269\u56ed</li> <li>POST /zoos\uff1a\u65b0\u5efa\u4e00\u4e2a\u52a8\u7269\u56ed</li> <li>GET /zoos/ID\uff1a\u83b7\u53d6\u67d0\u4e2a\u6307\u5b9a\u52a8\u7269\u56ed\u7684\u4fe1\u606f</li> <li>PUT /zoos/ID\uff1a\u66f4\u65b0\u67d0\u4e2a\u6307\u5b9a\u52a8\u7269\u56ed\u7684\u4fe1\u606f\uff08\u63d0\u4f9b\u8be5\u52a8\u7269\u56ed\u7684\u5168\u90e8\u4fe1\u606f\uff09</li> <li>PATCH /zoos/ID\uff1a\u66f4\u65b0\u67d0\u4e2a\u6307\u5b9a\u52a8\u7269\u56ed\u7684\u4fe1\u606f\uff08\u63d0\u4f9b\u8be5\u52a8\u7269\u56ed\u7684\u90e8\u5206\u4fe1\u606f\uff09</li> <li>DELETE /zoos/ID\uff1a\u5220\u9664\u67d0\u4e2a\u52a8\u7269\u56ed</li> <li>GET /zoos/ID/animals\uff1a\u5217\u51fa\u67d0\u4e2a\u6307\u5b9a\u52a8\u7269\u56ed\u7684\u6240\u6709\u52a8\u7269</li> <li>DELETE /zoos/ID/animals/ID\uff1a\u5220\u9664\u67d0\u4e2a\u6307\u5b9a\u52a8\u7269\u56ed\u7684\u6307\u5b9a\u52a8\u7269</li> </ul>"},{"location":"server/RESTful%20API%20%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/#filtering","title":"\u516d\u3001\u8fc7\u6ee4\u4fe1\u606f\uff08Filtering\uff09","text":"<p>\u5982\u679c\u8bb0\u5f55\u6570\u91cf\u5f88\u591a\uff0c\u670d\u52a1\u5668\u4e0d\u53ef\u80fd\u90fd\u5c06\u5b83\u4eec\u8fd4\u56de\u7ed9\u7528\u6237\u3002API \u5e94\u8be5\u63d0\u4f9b\u53c2\u6570\uff0c\u8fc7\u6ee4\u8fd4\u56de\u7ed3\u679c\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u53c2\u6570\u3002</p> <ul> <li>?limit=10\uff1a\u6307\u5b9a\u8fd4\u56de\u8bb0\u5f55\u7684\u6570\u91cf</li> <li>?offset=10\uff1a\u6307\u5b9a\u8fd4\u56de\u8bb0\u5f55\u7684\u5f00\u59cb\u4f4d\u7f6e\u3002</li> <li>?page=2&amp;per_page=100\uff1a\u6307\u5b9a\u7b2c\u51e0\u9875\uff0c\u4ee5\u53ca\u6bcf\u9875\u7684\u8bb0\u5f55\u6570\u3002</li> <li>?sortby=name&amp;order=asc\uff1a\u6307\u5b9a\u8fd4\u56de\u7ed3\u679c\u6309\u7167\u54ea\u4e2a\u5c5e\u6027\u6392\u5e8f\uff0c\u4ee5\u53ca\u6392\u5e8f\u987a\u5e8f\u3002</li> <li>?animal_type_id=1\uff1a\u6307\u5b9a\u7b5b\u9009\u6761\u4ef6</li> </ul> <p>\u53c2\u6570\u7684\u8bbe\u8ba1\u5141\u8bb8\u5b58\u5728\u5197\u4f59\uff0c\u5373\u5141\u8bb8 API \u8def\u5f84\u548c URL \u53c2\u6570\u5076\u5c14\u6709\u91cd\u590d\u3002\u6bd4\u5982\uff0cGET /zoo/ID/animals \u4e0e GET /animals?zoo_id=ID \u7684\u542b\u4e49\u662f\u76f8\u540c\u7684\u3002</p>"},{"location":"server/RESTful%20API%20%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/#status-codes","title":"\u4e03\u3001\u72b6\u6001\u7801\uff08Status Codes\uff09","text":"<p>\u670d\u52a1\u5668\u5411\u7528\u6237\u8fd4\u56de\u7684\u72b6\u6001\u7801\u548c\u63d0\u793a\u4fe1\u606f\uff0c\u5e38\u89c1\u7684\u6709\u4ee5\u4e0b\u4e00\u4e9b\uff08\u65b9\u62ec\u53f7\u4e2d\u662f\u8be5\u72b6\u6001\u7801\u5bf9\u5e94\u7684 HTTP \u52a8\u8bcd\uff09\u3002</p> <ul> <li>200 OK - [GET]\uff1a\u670d\u52a1\u5668\u6210\u529f\u8fd4\u56de\u7528\u6237\u8bf7\u6c42\u7684\u6570\u636e\uff0c\u8be5\u64cd\u4f5c\u662f\u5e42\u7b49\u7684\uff08Idempotent\uff09\u3002</li> <li>201 CREATED - [POST/PUT/PATCH]\uff1a\u7528\u6237\u65b0\u5efa\u6216\u4fee\u6539\u6570\u636e\u6210\u529f\u3002</li> <li>202 Accepted - [*]\uff1a\u8868\u793a\u4e00\u4e2a\u8bf7\u6c42\u5df2\u7ecf\u8fdb\u5165\u540e\u53f0\u6392\u961f\uff08\u5f02\u6b65\u4efb\u52a1\uff09</li> <li>204 NO CONTENT - [DELETE]\uff1a\u7528\u6237\u5220\u9664\u6570\u636e\u6210\u529f\u3002</li> <li>400 INVALID REQUEST - [POST/PUT/PATCH]\uff1a\u7528\u6237\u53d1\u51fa\u7684\u8bf7\u6c42\u6709\u9519\u8bef\uff0c\u670d\u52a1\u5668\u6ca1\u6709\u8fdb\u884c\u65b0\u5efa\u6216\u4fee\u6539\u6570\u636e\u7684\u64cd\u4f5c\uff0c\u8be5\u64cd\u4f5c\u662f\u5e42\u7b49\u7684\u3002</li> <li>401 Unauthorized - [*]\uff1a\u8868\u793a\u7528\u6237\u6ca1\u6709\u6743\u9650\uff08\u4ee4\u724c\u3001\u7528\u6237\u540d\u3001\u5bc6\u7801\u9519\u8bef\uff09\u3002</li> <li>403 Forbidden - [*] \u8868\u793a\u7528\u6237\u5f97\u5230\u6388\u6743\uff08\u4e0e 401 \u9519\u8bef\u76f8\u5bf9\uff09\uff0c\u4f46\u662f\u8bbf\u95ee\u662f\u88ab\u7981\u6b62\u7684\u3002</li> <li>404 NOT FOUND - [*]\uff1a\u7528\u6237\u53d1\u51fa\u7684\u8bf7\u6c42\u9488\u5bf9\u7684\u662f\u4e0d\u5b58\u5728\u7684\u8bb0\u5f55\uff0c\u670d\u52a1\u5668\u6ca1\u6709\u8fdb\u884c\u64cd\u4f5c\uff0c\u8be5\u64cd\u4f5c\u662f\u5e42\u7b49\u7684\u3002</li> <li>406 Not Acceptable - [GET]\uff1a\u7528\u6237\u8bf7\u6c42\u7684\u683c\u5f0f\u4e0d\u53ef\u5f97\uff08\u6bd4\u5982\u7528\u6237\u8bf7\u6c42 JSON \u683c\u5f0f\uff0c\u4f46\u662f\u53ea\u6709 XML \u683c\u5f0f\uff09\u3002</li> <li>410 Gone -[GET]\uff1a\u7528\u6237\u8bf7\u6c42\u7684\u8d44\u6e90\u88ab\u6c38\u4e45\u5220\u9664\uff0c\u4e14\u4e0d\u4f1a\u518d\u5f97\u5230\u7684\u3002</li> <li>422 Unprocesable entity - [POST/PUT/PATCH] \u5f53\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\u65f6\uff0c\u53d1\u751f\u4e00\u4e2a\u9a8c\u8bc1\u9519\u8bef\u3002</li> <li>500 INTERNAL SERVER ERROR - [*]\uff1a\u670d\u52a1\u5668\u53d1\u751f\u9519\u8bef\uff0c\u7528\u6237\u5c06\u65e0\u6cd5\u5224\u65ad\u53d1\u51fa\u7684\u8bf7\u6c42\u662f\u5426\u6210\u529f\u3002</li> </ul> <p>\u72b6\u6001\u7801\u7684\u5b8c\u5168\u5217\u8868\u53c2\u89c1\u8fd9\u91cc\u3002</p>"},{"location":"server/RESTful%20API%20%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/#error-handling","title":"\u516b\u3001\u9519\u8bef\u5904\u7406\uff08Error handling\uff09","text":"<p>\u5982\u679c\u72b6\u6001\u7801\u662f 4xx\uff0c\u5c31\u5e94\u8be5\u5411\u7528\u6237\u8fd4\u56de\u51fa\u9519\u4fe1\u606f\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u8fd4\u56de\u7684\u4fe1\u606f\u4e2d\u5c06 error \u4f5c\u4e3a\u952e\u540d\uff0c\u51fa\u9519\u4fe1\u606f\u4f5c\u4e3a\u952e\u503c\u5373\u53ef\u3002</p> <pre><code>{\n  error: \"Invalid API key\";\n}\n</code></pre>"},{"location":"server/RESTful%20API%20%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/#_3","title":"\u4e5d\u3001\u8fd4\u56de\u7ed3\u679c","text":"<p>\u9488\u5bf9\u4e0d\u540c\u64cd\u4f5c\uff0c\u670d\u52a1\u5668\u5411\u7528\u6237\u8fd4\u56de\u7684\u7ed3\u679c\u5e94\u8be5\u7b26\u5408\u4ee5\u4e0b\u89c4\u8303\u3002</p> <ul> <li>GET /collection\uff1a\u8fd4\u56de\u8d44\u6e90\u5bf9\u8c61\u7684\u5217\u8868\uff08\u6570\u7ec4\uff09</li> <li>GET /collection/resource\uff1a\u8fd4\u56de\u5355\u4e2a\u8d44\u6e90\u5bf9\u8c61</li> <li>POST /collection\uff1a\u8fd4\u56de\u65b0\u751f\u6210\u7684\u8d44\u6e90\u5bf9\u8c61</li> <li>PUT /collection/resource\uff1a\u8fd4\u56de\u5b8c\u6574\u7684\u8d44\u6e90\u5bf9\u8c61</li> <li>PATCH /collection/resource\uff1a\u8fd4\u56de\u5b8c\u6574\u7684\u8d44\u6e90\u5bf9\u8c61</li> <li>DELETE /collection/resource\uff1a\u8fd4\u56de\u4e00\u4e2a\u7a7a\u6587\u6863</li> </ul>"},{"location":"server/RESTful%20API%20%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/#hypermedia-api","title":"\u5341\u3001Hypermedia API","text":"<p>RESTful API \u6700\u597d\u505a\u5230 Hypermedia\uff0c\u5373\u8fd4\u56de\u7ed3\u679c\u4e2d\u63d0\u4f9b\u94fe\u63a5\uff0c\u8fde\u5411\u5176\u4ed6 API \u65b9\u6cd5\uff0c\u4f7f\u5f97\u7528\u6237\u4e0d\u67e5\u6587\u6863\uff0c\u4e5f\u77e5\u9053\u4e0b\u4e00\u6b65\u5e94\u8be5\u505a\u4ec0\u4e48\u3002</p> <p>\u6bd4\u5982\uff0c\u5f53\u7528\u6237\u5411 api.example.com \u7684\u6839\u76ee\u5f55\u53d1\u51fa\u8bf7\u6c42\uff0c\u4f1a\u5f97\u5230\u8fd9\u6837\u4e00\u4e2a\u6587\u6863\u3002</p> <pre><code>{\"link\": {\n  \"rel\":   \"collection https://www.example.com/zoos\",\n  \"href\":  \"https://api.example.com/zoos\",\n  \"title\": \"List of zoos\",\n  \"type\":  \"application/vnd.yourformat+json\"\n}}\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u6587\u6863\u4e2d\u6709\u4e00\u4e2a link \u5c5e\u6027\uff0c\u7528\u6237\u8bfb\u53d6\u8fd9\u4e2a\u5c5e\u6027\u5c31\u77e5\u9053\u4e0b\u4e00\u6b65\u8be5\u8c03\u7528\u4ec0\u4e48 API \u4e86\u3002rel \u8868\u793a\u8fd9\u4e2a API \u4e0e\u5f53\u524d\u7f51\u5740\u7684\u5173\u7cfb\uff08collection \u5173\u7cfb\uff0c\u5e76\u7ed9\u51fa\u8be5 collection \u7684\u7f51\u5740\uff09\uff0chref \u8868\u793a API \u7684\u8def\u5f84\uff0ctitle \u8868\u793a API \u7684\u6807\u9898\uff0ctype \u8868\u793a\u8fd4\u56de\u7c7b\u578b\u3002</p> <p>Hypermedia API \u7684\u8bbe\u8ba1\u88ab\u79f0\u4e3aHATEOAS\u3002Github \u7684 API \u5c31\u662f\u8fd9\u79cd\u8bbe\u8ba1\uff0c\u8bbf\u95eeapi.github.com\u4f1a\u5f97\u5230\u4e00\u4e2a\u6240\u6709\u53ef\u7528 API \u7684\u7f51\u5740\u5217\u8868\u3002</p> <pre><code>{\n  \"current_user_url\": \"https://api.github.com/user\",\n  \"authorizations_url\": \"https://api.github.com/authorizations\",\n  // ...\n}\n</code></pre> <p>\u4ece\u4e0a\u9762\u53ef\u4ee5\u770b\u5230\uff0c\u5982\u679c\u60f3\u83b7\u53d6\u5f53\u524d\u7528\u6237\u7684\u4fe1\u606f\uff0c\u5e94\u8be5\u53bb\u8bbf\u95eeapi.github.com/user\uff0c\u7136\u540e\u5c31\u5f97\u5230\u4e86\u4e0b\u9762\u7ed3\u679c\u3002</p> <pre><code>{\n  \"message\": \"Requires authentication\",\n  \"documentation_url\": \"https://developer.github.com/v3\"\n}\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u670d\u52a1\u5668\u7ed9\u51fa\u4e86\u63d0\u793a\u4fe1\u606f\uff0c\u4ee5\u53ca\u6587\u6863\u7684\u7f51\u5740\u3002</p>"},{"location":"server/RESTful%20API%20%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/#_4","title":"\u5341\u4e00\u3001\u5176\u4ed6","text":"<p>\uff081\uff09API \u7684\u8eab\u4efd\u8ba4\u8bc1\u5e94\u8be5\u4f7f\u7528OAuth 2.0\u6846\u67b6\u3002</p> <p>\uff082\uff09\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u683c\u5f0f\uff0c\u5e94\u8be5\u5c3d\u91cf\u4f7f\u7528 JSON\uff0c\u907f\u514d\u4f7f\u7528 XML\u3002</p>"},{"location":"server/RESTful%20API%20%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97/#_5","title":"\u53c2\u8003\u6587\u732e","text":"<p>http://www.ruanyifeng.com/blog/2014/05/restful_api.html</p> <p>http://codeplanet.io/principles-good-restful-api-design/</p> <p>https://bourgeois.me/rest/</p>"},{"location":"server/SSH%E5%8E%9F%E7%90%86%E4%B8%8E%E8%BF%90%E7%94%A8-%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95/","title":"SSH \u539f\u7406\u4e0e\u8fd0\u7528\uff1a\u8fdc\u7a0b\u767b\u5f55","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 8421  \u9605\u8bfb17\u5206\u949f</p> <p>\u4f5c\u8005\uff1a \u962e\u4e00\u5cf0</p> <p>\u65e5\u671f\uff1a 2011 \u5e74 12 \u6708 21 \u65e5</p> <p>SSH \u662f\u6bcf\u4e00\u53f0 Linux \u7535\u8111\u7684\u6807\u51c6\u914d\u7f6e\u3002</p> <p>\u968f\u7740 Linux \u8bbe\u5907\u4ece\u7535\u8111\u9010\u6e10\u6269\u5c55\u5230\u624b\u673a\u3001\u5916\u8bbe\u548c\u5bb6\u7528\u7535\u5668\uff0cSSH \u7684\u4f7f\u7528\u8303\u56f4\u4e5f\u8d8a\u6765\u8d8a\u5e7f\u3002\u4e0d\u4ec5\u7a0b\u5e8f\u5458\u79bb\u4e0d\u5f00\u5b83\uff0c\u5f88\u591a\u666e\u901a\u7528\u6237\u4e5f\u6bcf\u5929\u4f7f\u7528\u3002</p> <p>SSH \u5177\u5907\u591a\u79cd\u529f\u80fd\uff0c\u53ef\u4ee5\u7528\u4e8e\u5f88\u591a\u573a\u5408\u3002\u6709\u4e9b\u4e8b\u60c5\uff0c\u6ca1\u6709\u5b83\u5c31\u662f\u529e\u4e0d\u6210\u3002\u672c\u6587\u662f\u6211\u7684\u5b66\u4e60\u7b14\u8bb0\uff0c\u603b\u7ed3\u548c\u89e3\u91ca\u4e86 SSH \u7684\u5e38\u89c1\u7528\u6cd5\uff0c\u5e0c\u671b\u5bf9\u5927\u5bb6\u6709\u7528\u3002</p> <p>\u867d\u7136\u672c\u6587\u5185\u5bb9\u53ea\u6d89\u53ca\u521d\u7ea7\u5e94\u7528\uff0c\u8f83\u4e3a\u7b80\u5355\uff0c\u4f46\u662f\u9700\u8981\u8bfb\u8005\u5177\u5907\u6700\u57fa\u672c\u7684\"Shell \u77e5\u8bc6\"\u548c\u4e86\u89e3\"\u516c\u94a5\u52a0\u5bc6\"\u7684\u6982\u5ff5\u3002\u5982\u679c\u4f60\u5bf9\u5b83\u4eec\u4e0d\u719f\u6089\uff0c\u6211\u63a8\u8350\u5148\u9605\u8bfb\u300aUNIX / Linux \u521d\u5b66\u8005\u6559\u7a0b\u300b\u548c\u300a\u6570\u5b57\u7b7e\u540d\u662f\u4ec0\u4e48\uff1f\u300b\u3002</p> <p>=======================================</p> <p>SSH \u539f\u7406\u4e0e\u8fd0\u7528</p> <p>\u4f5c\u8005\uff1a\u962e\u4e00\u5cf0</p> <p>\u4e00\u3001\u4ec0\u4e48\u662f SSH\uff1f</p> <p>\u7b80\u5355\u8bf4\uff0cSSH \u662f\u4e00\u79cd\u7f51\u7edc\u534f\u8bae\uff0c\u7528\u4e8e\u8ba1\u7b97\u673a\u4e4b\u95f4\u7684\u52a0\u5bc6\u767b\u5f55\u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u7528\u6237\u4ece\u672c\u5730\u8ba1\u7b97\u673a\uff0c\u4f7f\u7528 SSH \u534f\u8bae\u767b\u5f55\u53e6\u4e00\u53f0\u8fdc\u7a0b\u8ba1\u7b97\u673a\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8ba4\u4e3a\uff0c\u8fd9\u79cd\u767b\u5f55\u662f\u5b89\u5168\u7684\uff0c\u5373\u4f7f\u88ab\u4e2d\u9014\u622a\u83b7\uff0c\u5bc6\u7801\u4e5f\u4e0d\u4f1a\u6cc4\u9732\u3002</p> <p>\u6700\u65e9\u7684\u65f6\u5019\uff0c\u4e92\u8054\u7f51\u901a\u4fe1\u90fd\u662f\u660e\u6587\u901a\u4fe1\uff0c\u4e00\u65e6\u88ab\u622a\u83b7\uff0c\u5185\u5bb9\u5c31\u66b4\u9732\u65e0\u7591\u30021995 \u5e74\uff0c\u82ac\u5170\u5b66\u8005 Tatu Ylonen \u8bbe\u8ba1\u4e86 SSH \u534f\u8bae\uff0c\u5c06\u767b\u5f55\u4fe1\u606f\u5168\u90e8\u52a0\u5bc6\uff0c\u6210\u4e3a\u4e92\u8054\u7f51\u5b89\u5168\u7684\u4e00\u4e2a\u57fa\u672c\u89e3\u51b3\u65b9\u6848\uff0c\u8fc5\u901f\u5728\u5168\u4e16\u754c\u83b7\u5f97\u63a8\u5e7f\uff0c\u76ee\u524d\u5df2\u7ecf\u6210\u4e3a Linux \u7cfb\u7edf\u7684\u6807\u51c6\u914d\u7f6e\u3002</p> <p>\u9700\u8981\u6307\u51fa\u7684\u662f\uff0cSSH \u53ea\u662f\u4e00\u79cd\u534f\u8bae\uff0c\u5b58\u5728\u591a\u79cd\u5b9e\u73b0\uff0c\u65e2\u6709\u5546\u4e1a\u5b9e\u73b0\uff0c\u4e5f\u6709\u5f00\u6e90\u5b9e\u73b0\u3002\u672c\u6587\u9488\u5bf9\u7684\u5b9e\u73b0\u662fOpenSSH\uff0c\u5b83\u662f\u81ea\u7531\u8f6f\u4ef6\uff0c\u5e94\u7528\u975e\u5e38\u5e7f\u6cdb\u3002</p> <p>\u6b64\u5916\uff0c\u672c\u6587\u53ea\u8ba8\u8bba SSH \u5728 Linux Shell \u4e2d\u7684\u7528\u6cd5\u3002\u5982\u679c\u8981\u5728 Windows \u7cfb\u7edf\u4e2d\u4f7f\u7528 SSH\uff0c\u4f1a\u7528\u5230\u53e6\u4e00\u79cd\u8f6f\u4ef6PuTTY\uff0c\u8fd9\u9700\u8981\u53e6\u6587\u4ecb\u7ecd\u3002</p> <p>\u4e8c\u3001\u6700\u57fa\u672c\u7684\u7528\u6cd5</p> <p>SSH \u4e3b\u8981\u7528\u4e8e\u8fdc\u7a0b\u767b\u5f55\u3002\u5047\u5b9a\u4f60\u8981\u4ee5\u7528\u6237\u540d user\uff0c\u767b\u5f55\u8fdc\u7a0b\u4e3b\u673a host\uff0c\u53ea\u8981\u4e00\u6761\u7b80\u5355\u547d\u4ee4\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>$ ssh user@host</p> <p>\u5982\u679c\u672c\u5730\u7528\u6237\u540d\u4e0e\u8fdc\u7a0b\u7528\u6237\u540d\u4e00\u81f4\uff0c\u767b\u5f55\u65f6\u53ef\u4ee5\u7701\u7565\u7528\u6237\u540d\u3002</p> <p>$ ssh host</p> <p>SSH \u7684\u9ed8\u8ba4\u7aef\u53e3\u662f 22\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4f60\u7684\u767b\u5f55\u8bf7\u6c42\u4f1a\u9001\u8fdb\u8fdc\u7a0b\u4e3b\u673a\u7684 22 \u7aef\u53e3\u3002\u4f7f\u7528 p \u53c2\u6570\uff0c\u53ef\u4ee5\u4fee\u6539\u8fd9\u4e2a\u7aef\u53e3\u3002</p> <p>$ ssh -p 2222 user@host</p> <p>\u4e0a\u9762\u8fd9\u6761\u547d\u4ee4\u8868\u793a\uff0cssh \u76f4\u63a5\u8fde\u63a5\u8fdc\u7a0b\u4e3b\u673a\u7684 2222 \u7aef\u53e3\u3002</p> <p>\u4e09\u3001\u4e2d\u95f4\u4eba\u653b\u51fb</p> <p>SSH \u4e4b\u6240\u4ee5\u80fd\u591f\u4fdd\u8bc1\u5b89\u5168\uff0c\u539f\u56e0\u5728\u4e8e\u5b83\u91c7\u7528\u4e86\u516c\u94a5\u52a0\u5bc6\u3002</p> <p>\u6574\u4e2a\u8fc7\u7a0b\u662f\u8fd9\u6837\u7684\uff1a\uff081\uff09\u8fdc\u7a0b\u4e3b\u673a\u6536\u5230\u7528\u6237\u7684\u767b\u5f55\u8bf7\u6c42\uff0c\u628a\u81ea\u5df1\u7684\u516c\u94a5\u53d1\u7ed9\u7528\u6237\u3002\uff082\uff09\u7528\u6237\u4f7f\u7528\u8fd9\u4e2a\u516c\u94a5\uff0c\u5c06\u767b\u5f55\u5bc6\u7801\u52a0\u5bc6\u540e\uff0c\u53d1\u9001\u56de\u6765\u3002\uff083\uff09\u8fdc\u7a0b\u4e3b\u673a\u7528\u81ea\u5df1\u7684\u79c1\u94a5\uff0c\u89e3\u5bc6\u767b\u5f55\u5bc6\u7801\uff0c\u5982\u679c\u5bc6\u7801\u6b63\u786e\uff0c\u5c31\u540c\u610f\u7528\u6237\u767b\u5f55\u3002</p> <p>\u8fd9\u4e2a\u8fc7\u7a0b\u672c\u8eab\u662f\u5b89\u5168\u7684\uff0c\u4f46\u662f\u5b9e\u65bd\u7684\u65f6\u5019\u5b58\u5728\u4e00\u4e2a\u98ce\u9669\uff1a\u5982\u679c\u6709\u4eba\u622a\u83b7\u4e86\u767b\u5f55\u8bf7\u6c42\uff0c\u7136\u540e\u5192\u5145\u8fdc\u7a0b\u4e3b\u673a\uff0c\u5c06\u4f2a\u9020\u7684\u516c\u94a5\u53d1\u7ed9\u7528\u6237\uff0c\u90a3\u4e48\u7528\u6237\u5f88\u96be\u8fa8\u522b\u771f\u4f2a\u3002\u56e0\u4e3a\u4e0d\u50cf https \u534f\u8bae\uff0cSSH \u534f\u8bae\u7684\u516c\u94a5\u662f\u6ca1\u6709\u8bc1\u4e66\u4e2d\u5fc3\uff08CA\uff09\u516c\u8bc1\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u90fd\u662f\u81ea\u5df1\u7b7e\u53d1\u7684\u3002</p> <p>\u53ef\u4ee5\u8bbe\u60f3\uff0c\u5982\u679c\u653b\u51fb\u8005\u63d2\u5728\u7528\u6237\u4e0e\u8fdc\u7a0b\u4e3b\u673a\u4e4b\u95f4\uff08\u6bd4\u5982\u5728\u516c\u5171\u7684 wifi \u533a\u57df\uff09\uff0c\u7528\u4f2a\u9020\u7684\u516c\u94a5\uff0c\u83b7\u53d6\u7528\u6237\u7684\u767b\u5f55\u5bc6\u7801\u3002\u518d\u7528\u8fd9\u4e2a\u5bc6\u7801\u767b\u5f55\u8fdc\u7a0b\u4e3b\u673a\uff0c\u90a3\u4e48 SSH \u7684\u5b89\u5168\u673a\u5236\u5c31\u8361\u7136\u65e0\u5b58\u4e86\u3002\u8fd9\u79cd\u98ce\u9669\u5c31\u662f\u8457\u540d\u7684\"\u4e2d\u95f4\u4eba\u653b\u51fb\"\uff08Man-in-the-middle attack\uff09\u3002</p> <p>SSH \u534f\u8bae\u662f\u5982\u4f55\u5e94\u5bf9\u7684\u5462\uff1f</p> <p>\u56db\u3001\u53e3\u4ee4\u767b\u5f55</p> <p>\u5982\u679c\u4f60\u662f\u7b2c\u4e00\u6b21\u767b\u5f55\u5bf9\u65b9\u4e3b\u673a\uff0c\u7cfb\u7edf\u4f1a\u51fa\u73b0\u4e0b\u9762\u7684\u63d0\u793a\uff1a</p> <p>$ ssh user@host</p> <p>The authenticity of host 'host (12.18.429.21)' can't be established.</p> <p>RSA key fingerprint is 98:2e:d7:e0:de:9f:ac:67:28:c2:42:2d:37:16:58:4d.</p> <p>Are you sure you want to continue connecting (yes/no)?</p> <p>\u8fd9\u6bb5\u8bdd\u7684\u610f\u601d\u662f\uff0c\u65e0\u6cd5\u786e\u8ba4 host \u4e3b\u673a\u7684\u771f\u5b9e\u6027\uff0c\u53ea\u77e5\u9053\u5b83\u7684\u516c\u94a5\u6307\u7eb9\uff0c\u95ee\u4f60\u8fd8\u60f3\u7ee7\u7eed\u8fde\u63a5\u5417\uff1f</p> <p>\u6240\u8c13\"\u516c\u94a5\u6307\u7eb9\"\uff0c\u662f\u6307\u516c\u94a5\u957f\u5ea6\u8f83\u957f\uff08\u8fd9\u91cc\u91c7\u7528 RSA \u7b97\u6cd5\uff0c\u957f\u8fbe 1024 \u4f4d\uff09\uff0c\u5f88\u96be\u6bd4\u5bf9\uff0c\u6240\u4ee5\u5bf9\u5176\u8fdb\u884c MD5 \u8ba1\u7b97\uff0c\u5c06\u5b83\u53d8\u6210\u4e00\u4e2a 128 \u4f4d\u7684\u6307\u7eb9\u3002\u4e0a\u4f8b\u4e2d\u662f 98:2e:d7:e0:de:9f:ac:67:28:c2:42:2d:37:16:58:4d\uff0c\u518d\u8fdb\u884c\u6bd4\u8f83\uff0c\u5c31\u5bb9\u6613\u591a\u4e86\u3002</p> <p>\u5f88\u81ea\u7136\u7684\u4e00\u4e2a\u95ee\u9898\u5c31\u662f\uff0c\u7528\u6237\u600e\u4e48\u77e5\u9053\u8fdc\u7a0b\u4e3b\u673a\u7684\u516c\u94a5\u6307\u7eb9\u5e94\u8be5\u662f\u591a\u5c11\uff1f\u56de\u7b54\u662f\u6ca1\u6709\u597d\u529e\u6cd5\uff0c\u8fdc\u7a0b\u4e3b\u673a\u5fc5\u987b\u5728\u81ea\u5df1\u7684\u7f51\u7ad9\u4e0a\u8d34\u51fa\u516c\u94a5\u6307\u7eb9\uff0c\u4ee5\u4fbf\u7528\u6237\u81ea\u884c\u6838\u5bf9\u3002</p> <p>\u5047\u5b9a\u7ecf\u8fc7\u98ce\u9669\u8861\u91cf\u4ee5\u540e\uff0c\u7528\u6237\u51b3\u5b9a\u63a5\u53d7\u8fd9\u4e2a\u8fdc\u7a0b\u4e3b\u673a\u7684\u516c\u94a5\u3002</p> <p>Are you sure you want to continue connecting (yes/no)? yes</p> <p>\u7cfb\u7edf\u4f1a\u51fa\u73b0\u4e00\u53e5\u63d0\u793a\uff0c\u8868\u793a host \u4e3b\u673a\u5df2\u7ecf\u5f97\u5230\u8ba4\u53ef\u3002</p> <p>Warning: Permanently added 'host,12.18.429.21' (RSA) to the list of known hosts.</p> <p>\u7136\u540e\uff0c\u4f1a\u8981\u6c42\u8f93\u5165\u5bc6\u7801\u3002</p> <p>Password: (enter password)</p> <p>\u5982\u679c\u5bc6\u7801\u6b63\u786e\uff0c\u5c31\u53ef\u4ee5\u767b\u5f55\u4e86\u3002</p> <p>\u5f53\u8fdc\u7a0b\u4e3b\u673a\u7684\u516c\u94a5\u88ab\u63a5\u53d7\u4ee5\u540e\uff0c\u5b83\u5c31\u4f1a\u88ab\u4fdd\u5b58\u5728\u6587\u4ef6$HOME/.ssh/known_hosts \u4e4b\u4e2d\u3002\u4e0b\u6b21\u518d\u8fde\u63a5\u8fd9\u53f0\u4e3b\u673a\uff0c\u7cfb\u7edf\u5c31\u4f1a\u8ba4\u51fa\u5b83\u7684\u516c\u94a5\u5df2\u7ecf\u4fdd\u5b58\u5728\u672c\u5730\u4e86\uff0c\u4ece\u800c\u8df3\u8fc7\u8b66\u544a\u90e8\u5206\uff0c\u76f4\u63a5\u63d0\u793a\u8f93\u5165\u5bc6\u7801\u3002</p> <p>\u6bcf\u4e2a SSH \u7528\u6237\u90fd\u6709\u81ea\u5df1\u7684 known_hosts \u6587\u4ef6\uff0c\u6b64\u5916\u7cfb\u7edf\u4e5f\u6709\u4e00\u4e2a\u8fd9\u6837\u7684\u6587\u4ef6\uff0c\u901a\u5e38\u662f/etc/ssh/ssh_known_hosts\uff0c\u4fdd\u5b58\u4e00\u4e9b\u5bf9\u6240\u6709\u7528\u6237\u90fd\u53ef\u4fe1\u8d56\u7684\u8fdc\u7a0b\u4e3b\u673a\u7684\u516c\u94a5\u3002</p> <p>\u4e94\u3001\u516c\u94a5\u767b\u5f55</p> <p>\u4f7f\u7528\u5bc6\u7801\u767b\u5f55\uff0c\u6bcf\u6b21\u90fd\u5fc5\u987b\u8f93\u5165\u5bc6\u7801\uff0c\u975e\u5e38\u9ebb\u70e6\u3002\u597d\u5728 SSH \u8fd8\u63d0\u4f9b\u4e86\u516c\u94a5\u767b\u5f55\uff0c\u53ef\u4ee5\u7701\u53bb\u8f93\u5165\u5bc6\u7801\u7684\u6b65\u9aa4\u3002</p> <p>\u6240\u8c13\"\u516c\u94a5\u767b\u5f55\"\uff0c\u539f\u7406\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u7528\u6237\u5c06\u81ea\u5df1\u7684\u516c\u94a5\u50a8\u5b58\u5728\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u3002\u767b\u5f55\u7684\u65f6\u5019\uff0c\u8fdc\u7a0b\u4e3b\u673a\u4f1a\u5411\u7528\u6237\u53d1\u9001\u4e00\u6bb5\u968f\u673a\u5b57\u7b26\u4e32\uff0c\u7528\u6237\u7528\u81ea\u5df1\u7684\u79c1\u94a5\u52a0\u5bc6\u540e\uff0c\u518d\u53d1\u56de\u6765\u3002\u8fdc\u7a0b\u4e3b\u673a\u7528\u4e8b\u5148\u50a8\u5b58\u7684\u516c\u94a5\u8fdb\u884c\u89e3\u5bc6\uff0c\u5982\u679c\u6210\u529f\uff0c\u5c31\u8bc1\u660e\u7528\u6237\u662f\u53ef\u4fe1\u7684\uff0c\u76f4\u63a5\u5141\u8bb8\u767b\u5f55 shell\uff0c\u4e0d\u518d\u8981\u6c42\u5bc6\u7801\u3002</p> <p>\u8fd9\u79cd\u65b9\u6cd5\u8981\u6c42\u7528\u6237\u5fc5\u987b\u63d0\u4f9b\u81ea\u5df1\u7684\u516c\u94a5\u3002\u5982\u679c\u6ca1\u6709\u73b0\u6210\u7684\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528 ssh-keygen \u751f\u6210\u4e00\u4e2a\uff1a</p> <p>$ ssh-keygen</p> <p>\u8fd0\u884c\u4e0a\u9762\u7684\u547d\u4ee4\u4ee5\u540e\uff0c\u7cfb\u7edf\u4f1a\u51fa\u73b0\u4e00\u7cfb\u5217\u63d0\u793a\uff0c\u53ef\u4ee5\u4e00\u8def\u56de\u8f66\u3002\u5176\u4e2d\u6709\u4e00\u4e2a\u95ee\u9898\u662f\uff0c\u8981\u4e0d\u8981\u5bf9\u79c1\u94a5\u8bbe\u7f6e\u53e3\u4ee4\uff08passphrase\uff09\uff0c\u5982\u679c\u62c5\u5fc3\u79c1\u94a5\u7684\u5b89\u5168\uff0c\u8fd9\u91cc\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u3002</p> <p>\u8fd0\u884c\u7ed3\u675f\u4ee5\u540e\uff0c\u5728$HOME/.ssh/\u76ee\u5f55\u4e0b\uff0c\u4f1a\u65b0\u751f\u6210\u4e24\u4e2a\u6587\u4ef6\uff1aid_rsa.pub \u548c id_rsa\u3002\u524d\u8005\u662f\u4f60\u7684\u516c\u94a5\uff0c\u540e\u8005\u662f\u4f60\u7684\u79c1\u94a5\u3002</p> <p>\u8fd9\u65f6\u518d\u8f93\u5165\u4e0b\u9762\u7684\u547d\u4ee4\uff0c\u5c06\u516c\u94a5\u4f20\u9001\u5230\u8fdc\u7a0b\u4e3b\u673a host \u4e0a\u9762\uff1a</p> <p>$ ssh-copy-id user@host</p> <p>\u597d\u4e86\uff0c\u4ece\u6b64\u4f60\u518d\u767b\u5f55\uff0c\u5c31\u4e0d\u9700\u8981\u8f93\u5165\u5bc6\u7801\u4e86\u3002</p> <p>\u5982\u679c\u8fd8\u662f\u4e0d\u884c\uff0c\u5c31\u6253\u5f00\u8fdc\u7a0b\u4e3b\u673a\u7684/etc/ssh/sshd_config \u8fd9\u4e2a\u6587\u4ef6\uff0c\u68c0\u67e5\u4e0b\u9762\u51e0\u884c\u524d\u9762\"#\"\u6ce8\u91ca\u662f\u5426\u53d6\u6389\u3002</p> <p>RSAAuthentication yes \u3000\u3000 PubkeyAuthentication yes \u3000\u3000 AuthorizedKeysFile .ssh/authorized_keys</p> <p>\u7136\u540e\uff0c\u91cd\u542f\u8fdc\u7a0b\u4e3b\u673a\u7684 ssh \u670d\u52a1\u3002</p> <p>// ubuntu \u7cfb\u7edf \u3000\u3000 service ssh restart</p> <p>// debian \u7cfb\u7edf \u3000\u3000/etc/init.d/ssh restart</p> <p>\u516d\u3001authorized_keys \u6587\u4ef6</p> <p>\u8fdc\u7a0b\u4e3b\u673a\u5c06\u7528\u6237\u7684\u516c\u94a5\uff0c\u4fdd\u5b58\u5728\u767b\u5f55\u540e\u7684\u7528\u6237\u4e3b\u76ee\u5f55\u7684$HOME/.ssh/authorized_keys \u6587\u4ef6\u4e2d\u3002\u516c\u94a5\u5c31\u662f\u4e00\u6bb5\u5b57\u7b26\u4e32\uff0c\u53ea\u8981\u628a\u5b83\u8ffd\u52a0\u5728 authorized_keys \u6587\u4ef6\u7684\u672b\u5c3e\u5c31\u884c\u4e86\u3002</p> <p>\u8fd9\u91cc\u4e0d\u4f7f\u7528\u4e0a\u9762\u7684 ssh-copy-id \u547d\u4ee4\uff0c\u6539\u7528\u4e0b\u9762\u7684\u547d\u4ee4\uff0c\u89e3\u91ca\u516c\u94a5\u7684\u4fdd\u5b58\u8fc7\u7a0b\uff1a</p> <p>$ ssh user@host 'mkdir -p .ssh &amp;&amp; cat &gt;&gt; .ssh/authorized_keys' &lt; ~/.ssh/id_rsa.pub</p> <p>\u8fd9\u6761\u547d\u4ee4\u7531\u591a\u4e2a\u8bed\u53e5\u7ec4\u6210\uff0c\u4f9d\u6b21\u5206\u89e3\u5f00\u6765\u770b\uff1a\uff081\uff09\"$ ssh user@host\"\uff0c\u8868\u793a\u767b\u5f55\u8fdc\u7a0b\u4e3b\u673a\uff1b\uff082\uff09\u5355\u5f15\u53f7\u4e2d\u7684 mkdir .ssh &amp;&amp; cat &gt;&gt; .ssh/authorized_keys\uff0c\u8868\u793a\u767b\u5f55\u540e\u5728\u8fdc\u7a0b shell \u4e0a\u6267\u884c\u7684\u547d\u4ee4\uff1a\uff083\uff09\"$ mkdir -p .ssh\"\u7684\u4f5c\u7528\u662f\uff0c\u5982\u679c\u7528\u6237\u4e3b\u76ee\u5f55\u4e2d\u7684.ssh \u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u5c31\u521b\u5efa\u4e00\u4e2a\uff1b\uff084\uff09'cat &gt;&gt; .ssh/authorized_keys' &lt; ~/.ssh/id_rsa.pub \u7684\u4f5c\u7528\u662f\uff0c\u5c06\u672c\u5730\u7684\u516c\u94a5\u6587\u4ef6~/.ssh/id_rsa.pub\uff0c\u91cd\u5b9a\u5411\u8ffd\u52a0\u5230\u8fdc\u7a0b\u6587\u4ef6 authorized_keys \u7684\u672b\u5c3e\u3002</p> <p>\u5199\u5165 authorized_keys \u6587\u4ef6\u540e\uff0c\u516c\u94a5\u767b\u5f55\u7684\u8bbe\u7f6e\u5c31\u5b8c\u6210\u4e86\u3002</p> <p>==============================================</p> <p>\u5173\u4e8e shell \u8fdc\u7a0b\u767b\u5f55\u7684\u90e8\u5206\u5c31\u5199\u5230\u8fd9\u91cc\uff0c\u4e0b\u4e00\u6b21\u63a5\u7740\u4ecb\u7ecd\u300a\u8fdc\u7a0b\u64cd\u4f5c\u548c\u7aef\u53e3\u8f6c\u53d1\u300b\u3002</p> <p>\uff08\u5b8c\uff09</p>"},{"location":"server/bzip2/","title":"bzip2","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 746  \u9605\u8bfb2\u5206\u949f</p> <p><code>bzip2</code>\u7528\u4e8e\u5c06\u6587\u4ef6\u538b\u7f29\u6210<code>bz2</code>\u683c\u5f0f\u3002\u8fd9\u662f linux \u4e2d\u7684\u5e93\u3002</p>"},{"location":"server/bzip2/#_1","title":"\u57fa\u672c\u7528\u6cd5","text":"<pre><code># \u683c\u5f0f\n$ bzip2 [OPTIONS] filenames ...\n\n# \u538b\u7f29\u5355\u4e2a\u6587\u4ef6\n$ bzip2 list.txt\n\n# \u538b\u7f29\u591a\u4e2a\u6587\u4ef6\n# \u4e0b\u9762\u7684\u547d\u4ee4\u4f1a\u4ea7\u751f\u4e09\u4e2a bz2 \u6587\u4ef6\n$ bzip2 list.txt list1.txt list2.txt\n\n# \u89e3\u538b\n$ bzip2 -d list.txt.bz2\n</code></pre> <p>\u6ce8\u610f\uff0c<code>bzip2</code>\u9ed8\u8ba4\u4f1a\u5728\u538b\u7f29\u6210\u529f\u540e\uff0c\u5220\u9664\u539f\u59cb\u6587\u4ef6\u3002\u5982\u679c\u5e0c\u671b\u4fdd\u7559\u539f\u59cb\u6587\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528<code>-k</code>\u53c2\u6570\u3002</p>"},{"location":"server/bzip2/#_2","title":"\u53c2\u6570","text":"<pre><code># -d \u89e3\u538b\n$ bzip2 -d list.txt.bz2\n\n# -k \u4fdd\u7559\u539f\u59cb\u6587\u4ef6\n\n# -t \u68c0\u67e5\u4e00\u4e2a\u538b\u7f29\u6587\u4ef6\u662f\u5426\u5b8c\u6574\n\n# -v --verbose \u8f93\u51fa\u538b\u7f29\u4fe1\u606f\n</code></pre>"},{"location":"server/bzip2/#_3","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>Linux bzip2 Command Tutorial for Beginners, by HowToForge</li> </ul>"},{"location":"server/ipad%20%E4%BD%BF%E7%94%A8%E5%B0%8F%E6%8A%80%E5%B7%A7/","title":"ipad \u4f7f\u7528\u5c0f\u6280\u5de7","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 774  \u9605\u8bfb2\u5206\u949f</p> <p>\u8bb0\u7b14\u8bb0\uff1aGoodNotes5 \u7b14\u8bb0\u591a\u53ef\u4ee5\u4e70\u4e00\u4e2a\u7b14\uff08\u63a8\u8350\u539f\u5382\u914d\u4ef6\uff09</p> <p>\u770b\u4e66\uff1a\u82f9\u679c\u8bfb\u4e66\u3001\u5fae\u4fe1\u8bfb\u4e66</p> <p>\u770b\u89c6\u9891\uff1aOplayer \u53ef\u4ee5\u66f4\u597d\u7684\u64ad\u653e\u767e\u5ea6\u7f51\u76d8\u4e2d\u7684\u89c6\u9891</p> <p>\u63d0\u9192\u4e8b\u9879\uff1a\u65e5\u5386\u4e2d\u53ef\u4ee5\u6dfb\u52a0\u65e5\u7a0b\u5b89\u6392</p> <p>X-display \u6269\u5c55\u7b14\u8bb0\u672c\u7684\u5c4f\u5e55\uff1a\u7535\u8111\u548c\u53ef\u4ee5\u4f7f\u7528\u5e73\u677f\u7684\u5c4f\u5e55\uff0c\u7c7b\u4f3c\u4e8e\u6269\u5c55\u4f7f\u7528</p> <p>\u65f6\u95f4\u7ba1\u7406\uff1a\u9650\u5236\u4e0d\u540c APP \u7684\u4f7f\u7528\u65f6\u95f4\u548c\u6574\u4f53\u7684\u4f7f\u7528\u65f6\u95f4\uff1b\u51cf\u5c11\u5a31\u4e50\u7684\u65f6\u95f4\uff0c\u628a\u788e\u7247\u5316\u7684\u65f6\u95f4\u53d8\u6210\u6574\u957f\u7684\u65f6\u95f4</p> <p>\u5b9e\u9645\u4e0a\uff0c\u81ea\u5df1\u4e3b\u8981\u7684\u76ee\u7684</p> <ul> <li>\u8c03\u8bd5\u79fb\u52a8\u7aef\u7f51\u9875</li> <li>\u770b\u7f51\u8bfe\u3001\u770b\u89c6\u9891\u6559\u7a0b</li> <li>\u82f9\u679c\u7535\u8111\u6269\u5c55\u5c4f\u5e55\uff08\u9700\u8981\u4e00\u6839\u6570\u636e\u7ebf\uff0c\u5206\u522b\u8fde\u63a5 pad mac \u7684\u4e0d\u540c\u7684\u63a5\u53e3\uff09\u2014\u2014\u8fd9\u4e2a\u6682\u65f6\u4e0d\u9700\u8981\uff0c\u4e0d\u4f1a\u540c\u65f6\u5904\u7406\u8fd9\u4e2a\u60c5\u51b5\uff0c\u73b0\u5728\u628a\u5df2\u6709\u7684\u4e1c\u897f\u7528\u597d</li> </ul>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/","title":"\u4e3a\u4ec0\u4e48\u6211\u4f7f\u7528 GraphQL \u800c\u653e\u5f03 REST API\uff1f","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 49051  \u9605\u8bfb99\u5206\u949f</p> <ul> <li> <p>Max Desiatov</p> </li> <li> <p>\u5e73\u5ddd</p> </li> <li> <p>\u4e07\u4f73</p> </li> <li> <p>2021 \u5e74 5 \u6708 09 \u65e5</p> </li> <li> <p>\u672c\u6587\u5b57\u6570\uff1a5911 \u5b57</p> </li> </ul> <p>\u9605\u8bfb\u5b8c\u9700\uff1a\u7ea6 19 \u5206\u949f</p> <p>\u672c\u6587\u6700\u521d\u53d1\u5e03\u4e8e Max Desiatov \u7684\u4e2a\u4eba\u535a\u5ba2\uff0c\u7ecf\u539f\u4f5c\u8005\u6388\u6743\u7531 InfoQ \u4e2d\u6587\u7ad9\u7ffb\u8bd1\u5e76\u5206\u4eab\u3002</p> <p>\u5728\u5927\u591a\u6570\u79fb\u52a8\u548c Web \u5e94\u7528\u4e2d\uff0c\u670d\u52a1\u5668\u4ea4\u4e92\u9700\u8981\u82b1\u8d39\u5f00\u53d1\u4eba\u5458\u5927\u91cf\u65f6\u95f4\u548c\u7cbe\u529b\u6765\u5f00\u53d1\u548c\u6d4b\u8bd5\u3002</p> <p>\u5728\u6211\u6240\u5f00\u53d1\u7684\u90a3\u4e9b\u62e5\u6709\u6700\u590d\u6742 API \u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u7f51\u7edc\u5c42\u8bbe\u8ba1\u548c\u7ef4\u62a4\u5360\u53bb\u9ad8\u8fbe 40%\u7684\u5f00\u53d1\u65f6\u95f4\uff0c\u7279\u522b\u662f\u7531\u4e8e\u6211\u5728\u672c\u6587\u4e2d\u63d0\u5230\u7684\u4e00\u4e9b\u8fb9\u7f18\u60c5\u51b5\u3002\u8fd9\u6837\u5b9e\u73b0\u8fc7\u51e0\u6b21\u540e\uff0c\u5f88\u5bb9\u6613\u5c31\u4f1a\u53d1\u73b0\uff0c\u6709\u4e00\u4e9b\u4e0d\u540c\u7684\u6a21\u5f0f\u3001\u5de5\u5177\u548c\u6846\u67b6\u53ef\u4ee5\u5e26\u6765\u5e2e\u52a9\u3002\u867d\u7136\u6211\u4eec\u5f88\u5e78\u8fd0\uff0c\u4e0d\u5fc5\u518d\u5173\u5fc3SOAP\uff0c\u4f46REST\u4e5f\u4e0d\u662f\u5386\u53f2\u7684\u7ec8\u7ed3\u3002</p> <p>\u6700\u8fd1\uff0c\u6211\u6709\u673a\u4f1a\u4e3a\u81ea\u5df1\u7684\u9879\u76ee\u548c\u5ba2\u6237\u5f00\u53d1\u548c\u8fd0\u884c\u4e00\u4e9b\u4f7f\u7528 GraphQL API \u6784\u5efa\u7684\u79fb\u52a8\u548c Web \u5e94\u7528\u7a0b\u5e8f\u3002\u8fd9\u771f\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u4f53\u9a8c\uff0c\u5c24\u5176\u8981\u611f\u8c22\u4ee4\u4eba\u60ca\u53f9\u7684 PostGraphile \u548c Apollo\u3002\u81f3\u6b64\uff0c\u6211\u518d\u4e5f\u65e0\u6cd5\u56de\u8fc7\u5934\u6765\u4eab\u53d7\u4f7f\u7528 REST \u7684\u5de5\u4f5c\u4e86\u3002</p>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#rest","title":"REST \u6709\u4ec0\u4e48\u95ee\u9898\u5417\uff1f","text":""},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#rest-api","title":"\u6bcf\u4e2a REST API \u90fd\u662f\u72ec\u7279\u7684","text":"<p>\u516c\u5e73\u5730\u8bf4\uff0cREST \u751a\u81f3\u4e0d\u662f\u4e00\u4e2a\u6807\u51c6\u3002\u7ef4\u57fa\u767e\u79d1\u5c06\u5176\u5b9a\u4e49\u4e3a\uff1a</p> <p>\u4e00\u79cd\u67b6\u6784\u98ce\u683c\uff0c\u57fa\u4e8e HTTP \u5b9a\u4e49\u4e86\u4e00\u7ec4\u7ea6\u675f\u548c\u5c5e\u6027\u3002</p> <p>\u867d\u7136\u786e\u5b9e\u5b58\u5728\u50cf JSON API \u89c4\u8303\u8fd9\u6837\u7684\u4e1c\u897f\uff0c\u4f46\u5728\u5b9e\u8df5\u4e2d\uff0c\u6211\u4eec\u5f88\u5c11\u770b\u5230\u6709 RESTful \u540e\u7aef\u5b9e\u73b0\u5b83\u3002\u5728\u6700\u597d\u7684\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u80fd\u4f1a\u5076\u7136\u53d1\u73b0\u4e00\u4e9b\u4f7f\u7528 OpenAPI/Swagger \u7684\u4e1c\u897f\u3002\u5373\u4f7f\u8fd9\u6837\uff0cOpenAPI \u4e5f\u6ca1\u6709\u6307\u5b9a API \u7684\u5f62\u72b6\u6216\u683c\u5f0f\uff0c\u5b83\u53ea\u662f\u4e00\u4e2a\u673a\u5668\u53ef\u8bfb\u7684\u89c4\u8303\uff0c\u5141\u8bb8\uff08\u4f46\u4e0d\u662f\u8981\u6c42\uff09\u4f60\u5bf9 API \u8fd0\u884c\u81ea\u52a8\u5316\u6d4b\u8bd5\u3001\u81ea\u52a8\u751f\u6210\u6587\u6863\u7b49\u3002</p> <p>\u4e3b\u8981\u95ee\u9898\u4ecd\u7136\u5b58\u5728\u3002\u4f60\u53ef\u80fd\u4f1a\u8bf4\u4f60\u7684 API \u662f RESTful \u7684\uff0c\u4f46\u662f\u5bf9\u4e8e\u5982\u4f55\u5b89\u6392\u7aef\u70b9\u6216\u662f\u5426\u5e94\u8be5\uff08\u4f8b\u5982\uff09\u4f7f\u7528 HTTP \u65b9\u6cd5<code>PATCH</code>\u8fdb\u884c\u5bf9\u8c61\u66f4\u65b0\uff0c\u4e00\u822c\u6ca1\u6709\u4e25\u683c\u7684\u89c4\u5219\u3002</p> <p>\u8fd8\u6709\u4e00\u4e9b\u4e1c\u897f\u4e4d\u4e00\u770b\u662f RESTful \u7684\uff0c\u4f46\u5982\u679c\u4f60\u4ed4\u7ec6\u770b\uff0c\u5c31\u4e0d\u662f\u90a3\u4e48\u50cf\u4e86\uff1aDropbox HTTP API\u3002</p> <p>\u7aef\u70b9\u63a5\u53d7\u8bf7\u6c42\u4f53\u4e2d\u7684\u6587\u4ef6\u5185\u5bb9\uff0c\u56e0\u6b64\uff0c\u5b83\u4eec\u7684\u53c2\u6570\u5c06\u4ee5 JSON \u7684\u5f62\u5f0f\u5728<code>Dropbox-API-Arg</code>\u8bf7\u6c42\u5934\u6216 arg URL \u53c2\u6570\u4e2d\u4f20\u9012\u3002</p> <p>JSON \u5728\u8bf7\u6c42\u5934\u4e2d\uff1f</p> <p>\u6ca1\u9519\uff0cDropbox API \u7aef\u70b9\u8981\u6c42\u4f60\u5c06\u8bf7\u6c42\u6b63\u6587\u7559\u7a7a\uff0c\u5e76\u5c06\u6709\u6548\u8f7d\u8377\u5e8f\u5217\u5316\u4e3a JSON\uff0c\u653e\u5230\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684 HTTP \u5934\u4e2d\u3002\u4e3a\u8fd9\u79cd\u7279\u6b8a\u60c5\u51b5\u7f16\u5199\u5ba2\u6237\u7aef\u4ee3\u7801\u5f88\u6709\u8da3\u3002\u6211\u4eec\u4e0d\u80fd\u62b1\u6028\uff0c\u56e0\u4e3a\u6bd5\u7adf\u6ca1\u6709\u5e7f\u6cdb\u4f7f\u7528\u7684\u6807\u51c6\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u4e0b\u9762\u63d0\u5230\u7684\u5927\u591a\u6570\u6ce8\u610f\u4e8b\u9879\u90fd\u662f\u7531\u4e8e\u7f3a\u4e4f\u6807\u51c6\u9020\u6210\u7684\uff0c\u4f46\u662f\u6211\u60f3\u5f3a\u8c03\u4e00\u4e0b\u5728\u5b9e\u8df5\u4e2d\u7ecf\u5e38\u770b\u5230\u7684\u60c5\u51b5\u3002</p> <p>\u5728\u4e00\u4e2a\u6709\u7ecf\u9a8c\u7684\u56e2\u961f\u4e2d\uff0c\u4f60\u53ef\u4ee5\u907f\u514d\u8fd9\u4e9b\u95ee\u9898\uff0c\u4f46\u662f\u4f60\u96be\u9053\u4e0d\u5e0c\u671b\u4e00\u4e9b\u95ee\u9898\u5df2\u7ecf\u5728\u8f6f\u4ef6\u65b9\u9762\u5f97\u5230\u89e3\u51b3\u5417\uff1f</p>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#_1","title":"\u6ca1\u6709\u9759\u6001\u7c7b\u578b\u610f\u5473\u7740\u8981\u6ce8\u610f\u7c7b\u578b\u9a8c\u8bc1","text":"<p>\u65e0\u8bba\u5982\u4f55\u52aa\u529b\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u4f60\u8fdf\u65e9\u4f1a\u9047\u5230 JSON \u5c5e\u6027\u62fc\u5199\u9519\u8bef\u3001\u53d1\u9001\u6216\u63a5\u6536\u7684\u6570\u636e\u7c7b\u578b\u9519\u8bef\u3001\u5b57\u6bb5\u4e22\u5931\u7b49\u95ee\u9898\u3002\u5982\u679c\u4f60\u7684\u5ba2\u6237\u7aef\u548c/\u6216\u670d\u52a1\u5668\u7f16\u7a0b\u8bed\u8a00\u662f\u9759\u6001\u7c7b\u578b\u7684\uff0c\u5e76\u4e14\u4f60\u4e0d\u80fd\u7528\u9519\u8bef\u7684\u5b57\u6bb5\u540d\u6216\u7c7b\u578b\u6784\u9020\u5bf9\u8c61\uff0c\u90a3\u53ef\u80fd\u6ca1\u95ee\u9898\u3002\u5982\u679c\u4f60\u7684 API \u662f\u7248\u672c\u5316\u7684\uff0c\u65e7 API \u7684 URL \u4e3a<code>/API/v1</code>\uff0c\u65b0\u7248\u672c\u7684 URL \u4e3a<code>/API/v2</code>\uff0c\u90a3\u4e48\u4f60\u53ef\u80fd\u505a\u5f97\u5f88\u597d\u3002\u5982\u679c\u6709\u4e00\u4e2a OpenAPI \u89c4\u8303\uff0c\u53ef\u4ee5\u4e3a\u4f60\u751f\u6210\u5ba2\u6237\u7aef/\u670d\u52a1\u5668\u7c7b\u578b\u58f0\u660e\uff0c\u90a3\u5c31\u66f4\u597d\u4e86\u3002</p> <p>\u4f46\u4f60\u771f\u80fd\u8d1f\u62c5\u5f97\u8d77\u5728\u6240\u6709\u9879\u76ee\u4e2d\u90fd\u505a\u5230\u8fd9\u6837\u5417\uff1f\u5f53\u4f60\u7684\u56e2\u961f\u5728\u51b2\u523a\u671f\u95f4\u51b3\u5b9a\u91cd\u547d\u540d\u6216\u91cd\u65b0\u5b89\u6392\u5bf9\u8c61\u5b57\u6bb5\u65f6\uff0c\u4f60\u80fd\u8d1f\u62c5\u5f97\u8d77\u4e0a\u7ebf<code>/api/v1.99</code>\u7aef\u70b9\u7684\u6210\u672c\u5417\uff1f\u5373\u4f7f\u5b8c\u6210\u4e86\uff0c\u56e2\u961f\u4f1a\u4e0d\u4f1a\u5fd8\u8bb0\u66f4\u65b0\u89c4\u8303\u5e76\u901a\u77e5\u5ba2\u6237\u7aef\u5f00\u53d1\u4eba\u5458\u66f4\u65b0\u5185\u5bb9\uff1f</p> <p>\u5728\u5ba2\u6237\u7aef\u6216\u670d\u52a1\u5668\u4e0a\u7684\u6240\u6709\u9a8c\u8bc1\u903b\u8f91\uff0c\u4f60\u786e\u5b9a\u90fd\u662f\u6b63\u786e\u7684\u5417\uff1f\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u4f60\u5e0c\u671b\u5b83\u5728\u4e24\u8fb9\u90fd\u5f97\u5230\u9a8c\u8bc1\uff0c\u5bf9\u5427\uff1f\u7ef4\u62a4\u6240\u6709\u8fd9\u4e9b\u81ea\u5b9a\u4e49\u4ee3\u7801\u975e\u5e38\u6709\u8da3\u3002\u6216\u8005\u4fdd\u6301 API JSON \u6a21\u5f0f\u662f\u6700\u65b0\u7684\u3002</p>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#_2","title":"\u5206\u9875\u548c\u8fc7\u6ee4\u5e76\u4e0d\u7b80\u5355","text":"<p>\u5927\u591a\u6570 API \u90fd\u4f7f\u7528\u5bf9\u8c61\u96c6\u5408\u3002\u5728\u5f85\u529e\u4e8b\u9879\u5217\u8868\u5e94\u7528\u4e2d\uff0c\u5217\u8868\u672c\u8eab\u5c31\u662f\u4e00\u4e2a\u96c6\u5408\u3002\u5927\u591a\u6570\u96c6\u5408\u90fd\u53ef\u4ee5\u5305\u542b 100 \u591a\u4e2a\u9879\u3002\u5bf9\u4e8e\u5927\u591a\u6570\u670d\u52a1\u5668\u6765\u8bf4\uff0c\u5728\u4e00\u6b21\u54cd\u5e94\u7684\u4e00\u4e2a\u96c6\u5408\u4e2d\u8fd4\u56de\u6240\u6709\u9879\u662f\u4e00\u4e2a\u7e41\u91cd\u7684\u64cd\u4f5c\u3002\u5982\u679c\u518d\u4e58\u4ee5\u5728\u7ebf\u7528\u6237\u7684\u6570\u91cf\uff0c\u5c31\u4f1a\u4ea7\u751f\u5f88\u5927\u7684 AWS \u8d26\u5355\u3002\u663e\u800c\u6613\u89c1\u7684\u89e3\u51b3\u65b9\u6848\uff1a\u53ea\u8fd4\u56de\u96c6\u5408\u7684\u5b50\u96c6\u3002</p> <p>\u5206\u9875\u76f8\u5bf9\u7b80\u5355\u3002\u5728\u67e5\u8be2\u53c2\u6570\u4e2d\u4f20\u9012\u7c7b\u4f3c<code>offset</code>\u548c<code>limit</code>\u8fd9\u6837\u7684\u503c\uff1a<code>/todos?Limit =10&amp;offset=20</code>\u4ee5\u83b7\u5f97\u4ece 20 \u5f00\u59cb\u7684 10 \u4e2a\u5bf9\u8c61\u3002\u6bcf\u4e2a\u4eba\u5bf9\u8fd9\u4e9b\u53c2\u6570\u7684\u547d\u540d\u90fd\u4e0d\u4e00\u6837\uff0c\u6709\u4e9b\u4eba\u559c\u6b22<code>count</code>\u548c<code>skip</code>\uff0c\u800c\u6211\u559c\u6b22<code>offset</code>\u548c<code>limit</code>\uff0c\u56e0\u4e3a\u5b83\u4eec\u76f4\u63a5\u5bf9\u5e94\u4e8e SQL \u4fee\u9970\u7b26\u3002</p> <p>\u4e00\u4e9b\u540e\u7aef\u6570\u636e\u5e93\u4f1a\u66b4\u9732\u8981\u4f20\u9012\u7ed9\u4e0b\u4e00\u9875\u67e5\u8be2\u7684\u6e38\u6807\u6216\u6807\u8bb0\u3002\u8bf7\u67e5\u770bElasticsearch API\uff0c\u8be5 API \u5efa\u8bae\u5728\u9700\u8981\u4f9d\u6b21\u6d4f\u89c8\u5927\u91cf\u7ed3\u679c\u6587\u6863\u65f6\u4f7f\u7528<code>scroll</code>\u8c03\u7528\u3002\u8fd8\u6709\u4e00\u4e9b API \u5728\u5934\u4e2d\u4f20\u9012\u76f8\u5173\u4fe1\u606f\u3002\u53c2\u89c1GitHub REST API\uff08\u81f3\u5c11\u4e0d\u662f\u5728\u5934\u4e2d\u4f20\u9012 JSON\uff09\u3002</p> <p>\u8bf4\u5230\u8fc7\u6ee4\uff0c\u5c31\u6709\u8da3\u591a\u4e86\u2026\u2026\u9700\u8981\u6309\u4e00\u4e2a\u5b57\u6bb5\u8fc7\u6ee4\u5417\uff1f\u6ca1\u95ee\u9898\uff0c\u53ef\u80fd\u662f<code>/todos?filter=key%3Dvalue</code>\uff0c\u4e5f\u53ef\u80fd\u662f\u53ef\u8bfb\u6027\u66f4\u597d\u7684<code>/todos?filterKey=key&amp;filterValue=value</code>\u3002\u90a3\u4e48\u6309\u4e24\u4e2a\u503c\u8fc7\u6ee4\u5462\uff1f\u8fd9\u5e94\u8be5\u5f88\u7b80\u5355\uff0c\u5bf9\u5427\uff1f\u4f7f\u7528URL \u7f16\u7801\uff0c\u67e5\u8be2\u770b\u8d77\u6765\u662f\u8fd9\u4e2a\u6837\u5b50\uff1a<code>/todos?filterKeys=key1%2Ckey2&amp;filterValue=value</code>\u3002\u4f46\u901a\u5e38\uff0c\u6211\u4eec\u6ca1\u6709\u529e\u6cd5\u963b\u6b62\u7279\u6027\u8513\u5ef6\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u4f7f\u7528<code>AND</code>/<code>OR</code>\u64cd\u4f5c\u7b26\u8fdb\u884c\u9ad8\u7ea7\u8fc7\u6ee4\u7684\u9700\u6c42\u3002\u6216\u8005\u590d\u6742\u7684\u5168\u6587\u641c\u7d22\u67e5\u8be2\u548c\u590d\u6742\u7684\u8fc7\u6ee4\u3002\u8fdf\u65e9\u4f60\u4f1a\u770b\u5230\u4e00\u4e9b API \u53d1\u660e\u4e86\u81ea\u5df1\u7684\u8fc7\u6ee4 DSL\u3002URL \u67e5\u8be2\u7ec4\u4ef6\u5df2\u7ecf\u4e0d\u591f\u7528\u4e86\uff0c\u4f46\u662f<code>GET</code>\u8bf7\u6c42\u4e2d\u7684\u8bf7\u6c42\u4f53\u4e5f\u4e0d\u592a\u597d\uff0c\u8fd9\u610f\u5473\u7740\u4f60\u6700\u7ec8\u8981\u5728<code>POST</code>\u8bf7\u6c42\u4e2d\u53d1\u9001\u975e\u53ef\u53d8\u67e5\u8be2\uff08Elasticsearch \u5c31\u662f\u8fd9\u6837\u505a\u7684\uff09\u3002\u81f3\u6b64\uff0cAPI \u8fd8\u662f RESTful \u7684\u5417\uff1f</p> <p>\u65e0\u8bba\u54ea\u79cd\u65b9\u5f0f\uff0c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u90fd\u9700\u8981\u7279\u522b\u6ce8\u610f\u89e3\u6790\u3001\u683c\u5f0f\u5316\u548c\u9a8c\u8bc1\u6240\u6709\u8fd9\u4e9b\u53c2\u6570\u3002\u5982\u6b64\u591a\u7684\u4e50\u8da3\uff01\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5982\u679c\u6ca1\u6709\u6070\u5f53\u7684\u9a8c\u8bc1\u4e14\u5b58\u5728\u672a\u521d\u59cb\u5316\u7684\u53d8\u91cf\uff0c\u4f60\u5c31\u5f88\u5bb9\u6613\u5730\u5f97\u5230\u7c7b\u4f3c\u8fd9\u6837\u7684\u4e1c\u897f\uff1a<code>/todos?offset=undefined</code>\u3002</p>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#_3","title":"\u4e0d\u5bb9\u6613\u8bb0\u5f55\u548c\u6d4b\u8bd5","text":"<p>\u4e0a\u9762\u63d0\u5230\u7684 Swagger \u53ef\u80fd\u662f\u76ee\u524d\u6700\u597d\u7684\u5de5\u5177\uff0c\u4f46\u5176\u5e94\u7528\u8fd8\u4e0d\u591f\u5e7f\u6cdb\u3002\u6839\u636e\u6211\u7684\u89c2\u5bdf\uff0c\u66f4\u5e38\u89c1\u7684\u60c5\u51b5\u662f\uff0cAPI \u6587\u6863\u5355\u72ec\u7ef4\u62a4\u3002\u5bf9\u4e00\u4e2a\u7a33\u5b9a\u4e14\u5e7f\u6cdb\u4f7f\u7528\u7684 API \u6765\u8bf4\uff0c\u8fd9\u6ca1\u4ec0\u4e48\u5927\u4e0d\u4e86\u7684\uff0c\u4f46\u662f\u5728\u654f\u6377\u6d41\u7a0b\u7684\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u8fd9\u5c31\u6bd4\u8f83\u7cdf\u7cd5\u4e86\u3002\u6587\u6863\u5355\u72ec\u5b58\u50a8\u610f\u5473\u7740\uff0c\u5b83\u7ecf\u5e38\u4e0d\u4f1a\u66f4\u65b0\uff0c\u7279\u522b\u662f\u5f53\u66f4\u6539\u662f\u4e00\u4e2a\u5c0f\u7684\u3001\u4f46\u4f1a\u7834\u574f\u5ba2\u6237\u7aef\u7684\u66f4\u6539\u65f6\u3002</p> <p>\u5982\u679c\u4f60\u4e0d\u4f7f\u7528 Swagger\uff0c\u8fd9\u53ef\u80fd\u610f\u5473\u7740\u4f60\u9700\u8981\u7ef4\u62a4\u4e13\u95e8\u7684\u6d4b\u8bd5\u57fa\u7840\u8bbe\u65bd\u3002\u4e0e\u5355\u5143\u6d4b\u8bd5\u76f8\u6bd4\uff0c\u4f60\u5bf9\u96c6\u6210\u6d4b\u8bd5\uff08\u5373\u540c\u65f6\u6d4b\u8bd5\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7aef\u4ee3\u7801\uff09\u7684\u9700\u6c42\u4f1a\u66f4\u591a\u3002</p>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#_4","title":"\u5173\u7cfb\u67e5\u8be2\u548c\u6279\u91cf\u67e5\u8be2\u4f1a\u8ba9\u4eba\u66f4\u52a0\u6cae\u4e27","text":"<p>\u5bf9\u4e8e\u6bd4\u8f83\u5927\u7684 API\uff0c\u8fd9\u5c31\u6210\u4e86\u4e00\u4e2a\u95ee\u9898\uff0c\u56e0\u4e3a\u4f60\u53ef\u80fd\u6709\u8bb8\u591a\u76f8\u5173\u7684\u96c6\u5408\u3002\u8ba9\u6211\u4eec\u8fdb\u4e00\u6b65\u6765\u770b\u4e00\u4e2a\u5f85\u529e\u4e8b\u9879\u5217\u8868\u5e94\u7528\u7a0b\u5e8f\u7684\u4f8b\u5b50\uff1a\u5047\u8bbe\u6bcf\u4e2a\u5f85\u529e\u4e8b\u9879\u4e5f\u53ef\u4ee5\u5c5e\u4e8e\u4e00\u4e2a\u9879\u76ee\u3002\u4f60\u662f\u5426\u603b\u662f\u5e0c\u671b\u4e00\u6b21\u83b7\u53d6\u6240\u6709\u76f8\u5173\u7684\u9879\u76ee\uff1f\u53ef\u80fd\u4e0d\u9700\u8981\uff0c\u4f46\u662f\u8fd8\u9700\u8981\u6dfb\u52a0\u66f4\u591a\u7684\u67e5\u8be2\u53c2\u6570\u3002\u4e5f\u8bb8\u4f60\u4e0d\u60f3\u4e00\u6b21\u83b7\u53d6\u6240\u6709\u5bf9\u8c61\u5b57\u6bb5\u3002\u5982\u679c\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u9879\u76ee\u6709\u6240\u6709\u8005\uff0c\u5e76\u4e14\u9664\u4e86\u6bcf\u4e2a\u96c6\u5408\u6709\u5355\u72ec\u7684\u89c6\u56fe\u663e\u793a\u5916\uff0c\u8fd8\u6709\u4e00\u4e2a\u89c6\u56fe\u663e\u793a\u6240\u6709\u8fd9\u4e9b\u6570\u636e\u7684\u805a\u5408\uff1f\u5b83\u8981\u4e48\u662f\u4e09\u4e2a\u72ec\u7acb\u7684 HTTP \u8bf7\u6c42\uff0c\u8981\u4e48\u662f\u4e00\u4e2a\u590d\u6742\u7684\u8bf7\u6c42\uff0c\u540c\u65f6\u83b7\u53d6\u6240\u6709\u6570\u636e\u7528\u4e8e\u805a\u5408\u3002</p> <p>\u65e0\u8bba\u54ea\u79cd\u65b9\u5f0f\uff0c\u90fd\u5b58\u5728\u590d\u6742\u6027\u548c\u6027\u80fd\u4e0a\u7684\u6743\u8861\uff0c\u5728\u4e0d\u65ad\u53d1\u5c55\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7ef4\u62a4\u8fd9\u4e9b\u8bf7\u6c42\u4f1a\u5e26\u6765\u66f4\u591a\u4ee4\u4eba\u5934\u75db\u7684\u95ee\u9898\u3002</p>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#_5","title":"\u4f60\u9700\u8981\u540c\u65f6\u5728\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u4e0a\u5b9e\u73b0\u6bcf\u4e2a\u7aef\u70b9","text":"<p>\u8fd8\u6709\u5927\u91cf\u7684\u5e93\u53ef\u4ee5\u5728 ORM \u6216\u76f4\u63a5\u6570\u636e\u5e93\u81ea\u7701\u7684\u5e2e\u52a9\u4e0b\u81ea\u52a8\u751f\u6210 REST \u7aef\u70b9\u3002\u5373\u4f7f\u4f7f\u7528\u4e86\u8fd9\u6837\u7684\u5e93\uff0c\u5b83\u4eec\u901a\u5e38\u4e5f\u4e0d\u662f\u5f88\u7075\u6d3b\u6216\u53ef\u6269\u5c55\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u9700\u8981\u81ea\u5b9a\u4e49\u53c2\u6570\u3001\u9ad8\u7ea7\u8fc7\u6ee4\u884c\u4e3a\u6216\u5bf9\u8bf7\u6c42/\u54cd\u5e94\u6709\u6548\u8d1f\u8f7d\u7684\u4e00\u4e9b\u66f4\u667a\u80fd\u7684\u5904\u7406\uff0c\u5c31\u9700\u8981\u4ece\u5934\u91cd\u65b0\u5b9e\u73b0\u7aef\u70b9\u3002</p> <p>\u53e6\u4e00\u9879\u4efb\u52a1\u662f\u5728\u5ba2\u6237\u7aef\u4ee3\u7801\u4e2d\u4f7f\u7528\u8fd9\u4e9b\u7aef\u70b9\u3002\u5982\u679c\u6709\u7684\u8bdd\uff0c\u6700\u597d\u4f7f\u7528\u4ee3\u7801\u751f\u6210\uff0c\u4f46\u662f\u5b83\u4f3c\u4e4e\u4e0d\u591f\u7075\u6d3b\u3002\u5373\u4f7f\u662f\u4f7f\u7528\u50cf Moya \u8fd9\u6837\u7684\u8f85\u52a9\u5e93\uff0c\u4e5f\u4f1a\u9047\u5230\u540c\u6837\u969c\u788d\uff1a\u6709\u8bb8\u591a\u81ea\u5b9a\u4e49\u884c\u4e3a\u9700\u8981\u5904\u7406\uff0c\u8fd9\u662f\u7531\u524d\u9762\u63d0\u5230\u7684\u8fb9\u7f18\u60c5\u51b5\u5f15\u8d77\u7684\u3002</p> <p>\u5982\u679c\u5f00\u53d1\u56e2\u961f\u4e0d\u662f\u5168\u6808\u7684\uff0c\u90a3\u4e48\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u56e2\u961f\u4e4b\u95f4\u7684\u6c9f\u901a\u5c31\u81f3\u5173\u91cd\u8981\uff0c\u5728\u6ca1\u6709\u673a\u5668\u53ef\u8bfb\u7684 API \u89c4\u8303\u7684\u60c5\u51b5\u4e0b\u66f4\u662f\u5982\u6b64\u3002</p>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#graphql","title":"GraphQL \u5982\u4f55\u505a\u5f97\u66f4\u597d\uff1f","text":"<p>\u5bf9\u4e8e\u6240\u6709\u8ba8\u8bba\u8fc7\u7684\u95ee\u9898\uff0c\u6211\u503e\u5411\u4e8e\u8ba4\u4e3a\uff0c\u5728 CRUD \u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u6709\u4e00\u79cd\u6807\u51c6\u65b9\u5f0f\u6765\u751f\u6210\u548c\u4f7f\u7528 API \u4f1a\u975e\u5e38\u68d2\u3002\u901a\u7528\u7684\u5de5\u5177\u548c\u6a21\u5f0f\u3001\u96c6\u6210\u6d4b\u8bd5\u548c\u6587\u6863\u57fa\u7840\u8bbe\u65bd\u5c06\u6709\u52a9\u4e8e\u89e3\u51b3\u6280\u672f\u548c\u7ec4\u7ec7\u95ee\u9898\u3002</p> <p>GraphQL \u6709\u4e00\u4e2a RFC \u89c4\u8303\u8349\u6848 \u548c\u4e00\u4e2a\u53c2\u8003\u5b9e\u73b0\u3002\u6b64\u5916\uff0c\u8bf7\u53c2\u9605 GraphQL \u6559\u7a0b\uff0c\u5b83\u63cf\u8ff0\u4e86\u4f60\u9700\u8981\u4e86\u89e3\u7684\u5927\u591a\u6570\u6982\u5ff5\u3002\u6709\u9488\u5bf9\u4e0d\u540c\u5e73\u53f0\u7684\u5b9e\u73b0\uff0c\u4e5f\u6709\u8bb8\u591a\u53ef\u7528\u7684\u5f00\u53d1\u5de5\u5177\uff0c\u5176\u4e2d\u6700\u8457\u540d\u7684\u662f GraphiQL\uff0c\u5b83\u6346\u7ed1\u4e86\u4e00\u4e2a\u5f88\u597d\u7684\u3001\u5177\u6709\u81ea\u52a8\u5b8c\u6210\u529f\u80fd\u7684 API \u6d4f\u89c8\u5668\uff0c\u4ee5\u53ca\u4e00\u4e2a\u6587\u6863\u6d4f\u89c8\u5668\uff0c\u53ef\u4ee5\u6d4f\u89c8\u4ece GraphQL \u6a21\u5f0f\u81ea\u52a8\u751f\u6210\u7684\u6587\u6863\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u6211\u53d1\u73b0 GraphiQL \u662f\u4e0d\u53ef\u6216\u7f3a\u7684\u3002\u5b83\u53ef\u4ee5\u5e2e\u52a9\u89e3\u51b3\u6211\u524d\u9762\u63d0\u5230\u7684\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u56e2\u961f\u4e4b\u95f4\u7684\u6c9f\u901a\u95ee\u9898\u3002\u53ea\u8981 GraphQL \u6a21\u5f0f\u4e2d\u6709\u4efb\u4f55\u66f4\u6539\uff0c\u4f60\u5c31\u53ef\u4ee5\u5728 GraphQL \u6d4f\u89c8\u5668\u4e2d\u770b\u5230\u5b83\uff0c\u5c31\u50cf\u5d4c\u5165\u5f0f API \u6587\u6863\u3002\u73b0\u5728\uff0c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u56e2\u961f\u53ef\u4ee5\u4ee5\u4e00\u79cd\u66f4\u597d\u7684\u65b9\u5f0f\u5728 API \u8bbe\u8ba1\u4e0a\u5f00\u5c55\u5408\u4f5c\uff0c\u7f29\u77ed\u8fed\u4ee3\u65f6\u95f4\uff0c\u5171\u4eab\u81ea\u52a8\u751f\u6210\u7684\u6587\u6863\uff0c\u5b83\u4eec\u8ba9\u6bcf\u6b21 API \u66f4\u65b0\u5bf9\u6bcf\u4e2a\u4eba\u90fd\u53ef\u89c1\u3002\u8981\u4e86\u89e3\u8fd9\u4e9b\u5de5\u5177\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff0c\u8bf7\u67e5\u770b Star Wars API \u793a\u4f8b\uff0c\u5b83\u53ef\u4ee5\u4f5c\u4e3aGraphiQL \u7684\u5728\u7ebf\u6f14\u793a\u3002</p> <p>\u80fd\u6307\u5b9a\u4ece\u670d\u52a1\u5668\u8bf7\u6c42\u7684\u5bf9\u8c61\u5b57\u6bb5\u8ba9\u5ba2\u6237\u7aef\u53ef\u4ee5\u6839\u636e\u9700\u8981\u53ea\u83b7\u53d6\u9700\u8981\u7684\u6570\u636e\u3002\u4e0d\u518d\u6709\u591a\u4e2a\u91cd\u91cf\u7ea7\u7684\u67e5\u8be2\u53d1\u9001\u5230\u4e00\u4e2a\u521a\u6027\u7684 REST API\uff0c\u4e3a\u4e86\u8ba9\u5ba2\u6237\u7aef\u53ef\u4ee5\u5728\u5e94\u7528\u7a0b\u5e8f UI \u4e2d\u4e00\u6b21\u6027\u663e\u793a\u5b83\u3002\u4f60\u4e0d\u518d\u53d7\u9650\u4e8e\u4e00\u7ec4\u7aef\u70b9\uff0c\u800c\u662f\u6709\u4e00\u4e2a\u53ef\u4ee5\u67e5\u8be2\u548c\u4fee\u6539\u7684\u6a21\u5f0f\uff0c\u80fd\u591f\u6311\u9009\u5ba2\u6237\u7aef\u6307\u5b9a\u7684\u5b57\u6bb5\u548c\u5bf9\u8c61\u3002\u670d\u52a1\u5668\u53ea\u9700\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u5b9e\u73b0\u9876\u7ea7\u6a21\u5f0f\u5bf9\u8c61\u3002</p>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#_6","title":"\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50","text":"<p>GraphQL \u6a21\u5f0f\u5b9a\u4e49\u4e86\u53ef\u7528\u4e8e\u5728\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u4e4b\u95f4\u901a\u4fe1\u7684\u7c7b\u578b\u3002\u6709\u4e24\u79cd\u7279\u6b8a\u7c7b\u578b\uff0c\u5b83\u4eec\u540c\u65f6\u4e5f\u662f GraphQL \u7684\u6838\u5fc3\u6982\u5ff5\uff1a<code>Query</code>\u548c<code>Mutation</code>\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5411 GraphQL API \u53d1\u51fa\u7684\u6bcf\u4e2a\u8bf7\u6c42\u8981\u4e48\u662f\u6ca1\u6709\u526f\u4f5c\u7528\u7684<code>Query</code>\u5b9e\u4f8b\uff0c\u8981\u4e48\u662f\u4f1a\u4fee\u6539\u5b58\u50a8\u5728\u670d\u52a1\u5668\u4e0a\u7684\u5bf9\u8c61\u7684<code>Mutation</code>\u5b9e\u4f8b\u3002</p> <p>\u73b0\u5728\uff0c\u7ee7\u7eed\u6211\u4eec\u5f85\u529e\u4e8b\u9879\u5217\u8868\u5e94\u7528\u7a0b\u5e8f\u7684\u4f8b\u5b50\uff0c\u8003\u8651\u4e0b\u9762\u8fd9\u4e2a GraphQL \u6a21\u5f0f\uff1a</p> <pre><code>type Project {  id: ID  name: String!}type TodoItem {  id: ID  description: String!  isCompleted: Boolean!  dueDate: Date  project: Project}type TodoList {  totalCount: Int!  items: [TodoItem]!}type Query {  allTodos(limit: Int, offset: Int): TodoList!  todoByID(id: ID!): TodoItem}type Mutation {  createTodo(item: TodoItem!): TodoItem  deleteTodo(id: ID!): TodoItem  updateTodo(id: ID!, newItem: TodoItem!): TodoItem}schema {  query: Query  mutation: Mutation}\n</code></pre> <p>\u5e95\u90e8\u7684<code>schema</code>\u5757\u662f\u7279\u5b9a\u7684\uff0c\u5b9a\u4e49\u4e86\u524d\u9762\u63cf\u8ff0\u7684\u6839\u7c7b\u578b<code>Query</code>\u548c<code>Mutation</code>\u3002\u6b64\u5916\uff0c\u5b83\u975e\u5e38\u7b80\u5355\uff1a<code>type</code>\u5757\u5b9a\u4e49\u65b0\u7684\u7c7b\u578b\uff0c\u6bcf\u4e2a\u5757\u5305\u542b\u5177\u6709\u81ea\u5df1\u7c7b\u578b\u7684\u5b57\u6bb5\u5b9a\u4e49\u3002\u7c7b\u578b\u53ef\u4ee5\u662f\u975e\u53ef\u9009\u7684\uff0c\u4f8b\u5982<code>String!</code>\u5b57\u6bb5\u4e0d\u80fd\u6709\u7a7a\u503c\uff0c\u800c<code>String</code>\u53ef\u4ee5\u3002\u5b57\u6bb5\u4e5f\u53ef\u4ee5\u6709\u547d\u540d\u53c2\u6570\uff0c\u6240\u4ee5<code>TodoList!</code>\u7c7b\u578b\u7684\u5b57\u6bb5<code>allTodos(limit: Int, offset: Int): TodoList!</code>\u63a5\u53d7\u4e24\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u800c\u5176\u672c\u8eab\u7684\u503c\u662f\u975e\u53ef\u9009\u7684\uff0c\u8fd9\u610f\u5473\u7740\u5b83\u5c06\u59cb\u7ec8\u8fd4\u56de\u4e00\u4e2a\u4e0d\u80fd\u4e3a\u7a7a\u7684<code>TodoList</code>\u5b9e\u4f8b\u3002\u7136\u540e\uff0c\u8981\u67e5\u8be2\u6240\u6709\u5f85\u529e\u4e8b\u9879\u7684<code>id</code>\u548c\u540d\u79f0\uff0c\u4f60\u53ef\u4ee5\u7f16\u5199\u8fd9\u6837\u4e00\u4e2a\u67e5\u8be2\uff1a</p> <pre><code>query {  allTodos(limit: 5) {    totalCount    items {      id      description      isCompleted    }  }}\n</code></pre> <p>GraphQL \u5ba2\u6237\u7aef\u5e93\u6839\u636e\u6a21\u5f0f\u81ea\u52a8\u89e3\u6790\u548c\u9a8c\u8bc1\u67e5\u8be2\uff0c\u7136\u540e\u5c06\u5176\u53d1\u9001\u5230 GraphQL \u670d\u52a1\u5668\u3002\u8bf7\u6ce8\u610f\uff0c<code>allTodos</code>\u5b57\u6bb5\u7684<code>offset</code>\u53c2\u6570\u662f\u7f3a\u5931\u7684\u3002\u4f5c\u4e3a\u53ef\u9009\u9879\uff0c\u5b83\u7684\u7f3a\u5931\u610f\u5473\u7740\u5b83\u6709<code>null</code>\u503c\u3002\u5982\u679c\u670d\u52a1\u5668\u63d0\u4f9b\u8fd9\u79cd\u6a21\u5f0f\uff0c\u6587\u6863\u4e2d\u53ef\u80fd\u4f1a\u58f0\u660e\uff0c<code>null</code>\u504f\u79fb\u91cf\u610f\u5473\u7740\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5e94\u8be5\u8fd4\u56de\u7b2c\u4e00\u9875\u3002\u54cd\u5e94\u53ef\u80fd\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>{  \"data\": {    \"allTodos\": {      \"totalCount\": 42,      \"items\": [        {          \"id\": 1,          \"description\": \"write a blogpost\",          \"isCompleted\": true        },        {          \"id\": 2,          \"description\": \"edit until looks good\",          \"isCompleted\": true        },        {          \"id\": 2,          \"description\": \"proofread\",          \"isCompleted\": false        },        {          \"id\": 4,          \"description\": \"publish on the website\",          \"isCompleted\": false        },        {          \"id\": 5,          \"description\": \"share\",          \"isCompleted\": false        }      ]    }  }}\n</code></pre> <p>\u5982\u679c\u4f60\u4ece\u67e5\u8be2\u4e2d\u5220\u9664<code>isCompleted</code>\u5b57\u6bb5\uff0c\u5b83\u5c06\u4ece\u7ed3\u679c\u4e2d\u6d88\u5931\u3002\u6216\u8005\u4f60\u53ef\u4ee5\u6dfb\u52a0<code>project</code>\u5b57\u6bb5\uff0c\u7528\u5176<code>id</code>\u548c<code>name</code>\u6765\u904d\u5386\u5173\u7cfb\u3002\u5c06<code>offset</code>\u53c2\u6570\u6dfb\u52a0\u5230<code>allTodos</code>\u5b57\u6bb5\u8fdb\u884c\u5206\u9875\uff0c\u8fd9\u6837<code>allTodos(count: 5, offset: 5)</code>\u5c06\u8fd4\u56de\u7b2c\u4e8c\u9875\u3002\u7ed3\u679c\u4e2d\u63d0\u4f9b\u4e86<code>totalCount</code>\u5b57\u6bb5\uff0c\u8fd9\u5f88\u6709\u7528\uff0c\u56e0\u4e3a\u73b0\u5728\u4f60\u77e5\u9053\u603b\u5171\u6709<code>42 / 5 = 9</code>\u9875\u3002\u4f46\u663e\u7136\uff0c\u5982\u679c\u4e0d\u9700\u8981<code>totalCount</code>\uff0c\u4f60\u53ef\u4ee5\u5ffd\u7565\u5b83\u3002\u67e5\u8be2\u53ef\u4ee5\u5b8c\u5168\u63a7\u5236\u5c06\u8981\u63a5\u6536\u7684\u5b9e\u9645\u4fe1\u606f\uff0c\u4f46\u662f\u5e95\u5c42\u7684 GraphQL \u57fa\u7840\u8bbe\u65bd\u8fd8\u5fc5\u987b\u786e\u4fdd\u6240\u6709\u5fc5\u9700\u7684\u5b57\u6bb5\u548c\u53c2\u6570\u90fd\u5728\u90a3\u91cc\u3002\u5982\u679c\u4f60\u7684 GraphQL \u670d\u52a1\u5668\u8db3\u591f\u806a\u660e\uff0c\u5b83\u5c06\u4e0d\u4f1a\u5bf9\u4f60\u4e0d\u9700\u8981\u7684\u5b57\u6bb5\u8fd0\u884c\u6570\u636e\u5e93\u67e5\u8be2\uff0c\u800c\u4e14\u6709\u4e9b\u5e93\u597d\u5230\u514d\u8d39\u63d0\u4f9b\u8fd9\u79cd\u67e5\u8be2\u3002\u6b64\u6a21\u5f0f\u4e2d\u7684\u5176\u4ed6\u53d8\u4f53\u548c\u67e5\u8be2\u4e5f\u662f\u5982\u6b64\uff1a\u5bf9\u8f93\u5165\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\u548c\u9a8c\u8bc1\uff0c\u5e76\u4e14\u57fa\u4e8e\u67e5\u8be2\uff0cGraphQL \u670d\u52a1\u5668\u77e5\u9053\u671f\u671b\u7684\u7ed3\u679c\u5f62\u72b6\u3002\u672c\u8d28\u4e0a\uff0c\u6240\u6709\u901a\u4fe1\u90fd\u901a\u8fc7\u670d\u52a1\u5668\u4e0a\u4e00\u4e2a\u9884\u5b9a\u4e49\u7684 URL\uff08\u901a\u5e38\u662f<code>/graphql</code>\uff09\u8fd0\u884c\uff0c\u501f\u52a9\u4e00\u4e2a\u7b80\u5355\u7684<code>POST</code>\u8bf7\u6c42\uff0c\u5176\u4e2d\u5305\u542b\u5e8f\u5217\u5316\u4e3a JSON \u6709\u6548\u8d1f\u8f7d\u7684\u67e5\u8be2\u3002\u4f46\u662f\uff0c\u4f60\u51e0\u4e4e\u4ece\u6765\u90fd\u4e0d\u9700\u8981\u63a5\u89e6\u5982\u6b64\u4f4e\u7684\u62bd\u8c61\u5c42\u3002</p> <p>\u603b\u4f53\u6765\u8bf4\u8fd8\u4e0d\u9519\uff1a\u6211\u4eec\u5df2\u7ecf\u89e3\u51b3\u4e86\u7c7b\u578b\u7ea7\u522b\u7684\u9a8c\u8bc1\u95ee\u9898\uff0c\u5206\u9875\u770b\u8d77\u6765\u4e5f\u4e0d\u9519\uff0c\u5e76\u4e14\u5728\u9700\u8981\u65f6\u53ef\u4ee5\u8f7b\u677e\u5730\u904d\u5386\u5b9e\u4f53\u5173\u7cfb\u3002\u5982\u679c\u4f7f\u7528\u4e00\u4e9b\u73b0\u6210\u7684 GraphQL-&gt;\u6570\u636e\u5e93\u67e5\u8be2\u7ffb\u8bd1\u5e93\uff0c\u4f60\u751a\u81f3\u4e0d\u9700\u8981\u5728\u670d\u52a1\u5668\u4e0a\u7f16\u5199\u5927\u591a\u6570\u6570\u636e\u5e93\u67e5\u8be2\u3002\u5ba2\u6237\u7aef\u5e93\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u5c06 GraphQL \u54cd\u5e94\u81ea\u52a8\u89e3\u5305\u4e3a\u6240\u9700\u7c7b\u578b\u7684\u5bf9\u8c61\u5b9e\u4f8b\uff0c\u56e0\u4e3a\u4ece\u6a21\u5f0f\u548c\u67e5\u8be2\u53ef\u4ee5\u63d0\u524d\u77e5\u9053\u54cd\u5e94\u5f62\u72b6\u3002</p>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#graphql_1","title":"GraphQL \u662f\u4e2a\u65f6\u9ae6\u7684\u4e1c\u897f\uff0c\u662f\u4e00\u79cd\u65f6\u5c1a\uff0c\u5bf9\u5417\uff1f","text":"<p>\u867d\u7136 Netflix falcor\u4f3c\u4e4e\u5728\u89e3\u51b3\u7c7b\u4f3c\u95ee\u9898\uff0c\u5b83\u6bd4 GraphQL \u65e9\u51e0\u4e2a\u6708\u53d1\u5e03\u5728 GitHub \u4e0a\uff0c\u4e5f\u66f4\u65e9\u5730\u5f15\u8d77\u6211\u7684\u6ce8\u610f\uff0c\u4f46\u5f88\u660e\u663e\uff0c\u4f3c\u4e4e GraphQL \u8d62\u4e86\u3002\u826f\u597d\u7684\u5de5\u5177\u548c\u5f3a\u5927\u7684\u884c\u4e1a\u652f\u6301\u4f7f\u5176\u975e\u5e38\u6709\u5438\u5f15\u529b\u3002</p> <p>\u9664\u4e86\u4e00\u4e9b\u5ba2\u6237\u7aef\u5e93\u4e2d\u5b58\u5728\u7684\u4e00\u4e9b\u5c0f\u95ee\u9898\uff08\u73b0\u5728\u5df2\u7ecf\u89e3\u51b3\u4e86\uff09\u4e4b\u5916\uff0c\u6211\u5f3a\u70c8\u63a8\u8350\u4f60\u4ed4\u7ec6\u770b\u770b GraphQL \u5728\u4f60\u7684\u6280\u672f\u6808\u4e2d\u53ef\u4ee5\u63d0\u4f9b\u4ec0\u4e48\u3002\u5b83\u5df2\u7ecf\u51fa\u6280\u672f\u9884\u89c8\u56db\u5e74\u591a\u4e86\uff0c\u800c\u4e14\u8fd9\u4e2a\u751f\u6001\u7cfb\u7edf\u6b63\u5728\u53d8\u5f97\u66f4\u52a0\u5f3a\u5927\u3002\u5728 Facebook \u8bbe\u8ba1 GraphQL \u7684\u540c\u65f6\uff0c\u6211\u4eec\u4e5f\u770b\u5230\u8d8a\u6765\u8d8a\u591a\u7684\u5927\u516c\u53f8\u5728\u4ed6\u4eec\u7684\u4ea7\u54c1\u4e2d\u4f7f\u7528\u5b83\uff1aGitHub\u3001Shopify\u3001Khan Academy\u3001Coursera\uff0c\u800c\u4e14\u8fd9\u4e2a\u5217\u8868\u8fd8\u5728\u4e0d\u65ad\u589e\u957f\u3002</p> <p>\u6709\u5f88\u591a\u6d41\u884c\u7684\u5f00\u6e90\u9879\u76ee\u90fd\u5728\u4f7f\u7528 GraphQL\uff1a\u8fd9\u4e2a\u535a\u5ba2\u662f\u57fa\u4e8e\u9759\u6001\u7ad9\u70b9\u751f\u6210\u5668 Gatsby\uff0c\u5b83\u5c06 GraphQL \u67e5\u8be2\u7684\u7ed3\u679c\u8f6c\u6362\u6210\u6570\u636e\uff0c\u7136\u540e\u5448\u73b0\u5230 HTML \u6587\u4ef6\u4e2d\u3002\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f WordPress\uff0c\u4e5f\u6709 GraphQL API \u53ef\u4ee5\u4f7f\u7528\u3002Reaction Commerce \u662f Shopify \u7684\u5f00\u6e90\u66ff\u4ee3\u65b9\u6848\uff0c\u540c\u6837\u662f\u57fa\u4e8e GraphQL\u3002</p> <p>\u53e6\u5916\u503c\u5f97\u4e00\u63d0\u7684\u4e24\u4e2a GraphQL \u5e93\u662f PostGraphile \u548c Apollo\u3002</p> <p>\u5982\u679c\u4f60\u4f7f\u7528 PostgreSQL \u4f5c\u4e3a\u540e\u7aef\u6570\u636e\u5e93\uff0cPostGraphile \u80fd\u591f\u626b\u63cf SQL \u6a21\u5f0f\u5e76\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u5e26\u6709\u5b9e\u73b0\u7684 GraphQL \u6a21\u5f0f\u3002\u4f60\u53ef\u4ee5\u5c06\u6240\u6709\u5e38\u89c1\u7684 CRUD \u64cd\u4f5c\u66b4\u9732\u4e3a\u6240\u6709\u8868\u7684\u67e5\u8be2\u548c\u4fee\u6539\u3002\u5b83\u53ef\u80fd\u770b\u8d77\u6765\u50cf ORM\uff0c\u4f46\u5b83\u4e0d\u662f\uff1a\u4f60\u53ef\u4ee5\u5b8c\u5168\u63a7\u5236\u5982\u4f55\u8bbe\u8ba1\u6570\u636e\u5e93\u6a21\u5f0f\uff0c\u4ee5\u53ca\u4f7f\u7528\u4ec0\u4e48\u7d22\u5f15\u3002</p> <p>\u6700\u5999\u7684\u662f\uff0cPostGraphile \u8fd8\u4ee5\u67e5\u8be2\u548c\u4fee\u6539\u7684\u65b9\u5f0f\u66b4\u9732\u89c6\u56fe\u548c\u51fd\u6570\uff0c\u6240\u4ee5\u5982\u679c\u6709\u7279\u522b\u590d\u6742\u7684 SQL \u67e5\u8be2\u9700\u8981\u6620\u5c04\u5230 GraphQL \u5b57\u6bb5\uff0c\u53ea\u9700\u521b\u5efa SQL \u89c6\u56fe\u6216\u51fd\u6570\uff0c\u5b83\u5c31\u4f1a\u81ea\u52a8\u51fa\u73b0\u5728 GraphQL \u6a21\u5f0f\u4e2d\u3002\u901a\u8fc7\u50cf\u884c\u7ea7\u5b89\u5168\u8fd9\u6837\u7684\u9ad8\u7ea7 Postgres \u7279\u6027\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u7f16\u5199\u5c11\u91cf SQL \u7b56\u7565\u5b9e\u73b0\u590d\u6742\u7684\u8bbf\u95ee\u63a7\u5236\u903b\u8f91\u3002PostGraphile \u751a\u81f3\u8fd8\u6709\u6a21\u5f0f\u6587\u6863\u8fd9\u6837\u7684\u4e1c\u897f\uff0c\u53ef\u4ee5\u4ece Postgres \u6ce8\u91ca\u81ea\u52a8\u751f\u6210\u3002</p> <p>\u76f8\u5e94\u5730\uff0cApollo \u63d0\u4f9b\u4e86\u591a\u4e2a\u5e73\u53f0\u7684\u5ba2\u6237\u7aef\u5e93\uff0c\u4ee5\u53ca\u5728\u6700\u6d41\u884c\u7684\u7f16\u7a0b\u8bed\u8a00\uff08\u5305\u62ec TypeScript \u548c Swift\uff09\u4e2d\u751f\u6210\u7c7b\u578b\u5b9a\u4e49\u7684\u4ee3\u7801\u751f\u6210\u5668\u3002</p> <p>\u603b\u7684\u6765\u8bf4\uff0c\u6211\u53d1\u73b0\uff0cApollo \u6bd4 Relay \u7b49\u66f4\u7b80\u5355\u548c\u6613\u4e8e\u4f7f\u7528\u3002\u7531\u4e8e Apollo \u5ba2\u6237\u7aef\u5e93\u67b6\u6784\u7b80\u5355\uff0c\u6211\u80fd\u591f\u5c06\u4e00\u4e2a\u4f7f\u7528 React.js \u4e0e Redux \u7684\u5e94\u7528\u6162\u6162\u8fc7\u6e21\u5230 React Apollo\uff0c\u4e00\u4e2a\u7ec4\u4ef6\u4e00\u4e2a\u7ec4\u4ef6\u7684\uff0c\u53ea\u5728\u6709\u610f\u4e49\u7684\u65f6\u5019\u624d\u8fd9\u6837\u505a\u3002\u4e0e\u539f\u751f iOS \u5e94\u7528\u4e00\u6837\uff0cApollo iOS \u662f\u4e00\u4e2a\u76f8\u5bf9\u8f7b\u91cf\u7ea7\u7684\u3001\u6613\u4e8e\u4f7f\u7528\u7684\u5e93\u3002</p> <p>Max Desiatov</p> <p>I'm Max Desiatov, a software consultant building mobile and backend apps. I curate @ServerSideSwift feed, and co-maintain WebAssembly support for Swift and a framework called Tokamak compatible with SwiftUI.</p> <p>Blog**Support My Work**</p> <p>Why I use GraphQL and avoid REST APIs28 May, 2018</p> <p>Server interactions take a significant amount of time and effort to develop and test in most mobile and web apps. In apps with most complex APIs I worked on, the networking layer took up to 40% of the development time to design and maintain, specifically due to some of the edge cases I mention below in this article. After implementing this a few times, it\u2019s easy to see different patterns, tools and frameworks that can help with this. While we\u2019re lucky (well, most of us are, I hope) not to care about SOAP anymore, REST isn\u2019t the end of history either.</p> <p>Recently I had a chance to develop and to run in production a few mobile and web apps built with GraphQL APIs, both for my own projects and my clients. This has been a really good experience, not least thanks to wonderful PostGraphile and Apollo libraries. At this point, it\u2019s quite hard for me to come back and enjoy working with REST.</p> <p>But obviously, this needs a little explanation.</p>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#so-whats-wrong-with-rest","title":"So what\u2019s wrong with REST?","text":""},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#every-rest-api-is-a-snowflake","title":"Every REST API is a snowflake","text":"<p>To be fair, REST isn\u2019t even a standard. Wikipedia defines it as</p> <p>an architectural style that defines a set of constraints and properties based on HTTP</p> <p>While something like JSON API spec does exist, in practice it\u2019s very rare that you see a RESTful backend implementing it. In best case scenario, you might stumble upon something that uses OpenAPI/Swagger. Even then, OpenAPI doesn\u2019t specify anything about APIs shape or form, it\u2019s just a machine-readable spec, that allows (but not requires) you to run automatic tests on your API, automatically generate documentation etc.</p> <p>The main problem is still there. You may say your API is RESTful, but there are no strict rules in general on how endpoints are arranged or whether you should, for example, use <code>PATCH</code> HTTP method for object updates.</p> <p>There are also things that look RESTful on a first glance, but not so much if you squint: Dropbox HTTP API.</p> <p>endpoints accept file content in the request body, so their arguments are instead passed as JSON in the <code>Dropbox-API-Arg</code> request header or arg URL parameter.</p> <p>JSON in a request header? (\u256f\u00b0\u25a1\u00b0\uff09\u256f\ufe35 \u253b\u2501\u253b</p> <p>That\u2019s right, there are Dropbox API endpoints that require you to leave request body empty and to serialise a payload as JSON and chuck it an a custom HTTP header. It\u2019s fun to write client code for special cases like this. But we can\u2019t complain, because there is no widely-used standard after all.</p> <p>In fact, most of the caveats mentioned below are caused by lack of a standard, but I\u2019d like to highlight what I\u2019ve seen in practice most frequently.</p> <p>And yes, you can avoid most of these problems in a disciplined experienced team, but wouldn\u2019t you want some of this stuff to be resolved already on a software side?</p>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#no-static-typing-means-caring-about-type-validation","title":"No static typing means caring about type validation","text":"<p>No matter how much you try to avoid this, sooner or later you stumble upon misspelt JSON properties, wrong data types sent or received, fields missing etc. You\u2019re probably ok if your client and/or server programming language is statically typed and you just can\u2019t construct an object with a wrong field name or type. You\u2019re probably doing good if your API is versioned and you have an old version on <code>/api/v1</code> URL and a new version with a renamed field on <code>/api/v2</code> URL. Even better if you have an OpenAPI spec that generates client/server type declarations for you.</p> <p>But can you really afford all this in all your projects? Can you afford setting up <code>/api/v1.99</code> endpoint when during a sprint your team decides to rename or rearrange object fields? Even if it\u2019s done, will the team not forget to update the spec and to ping the client devs about the update?</p> <p>You sure you have all the validation logic right either on client or on server? Ideally, you want it validated on both sides, right? Maintaining all of this custom code is a lot of fun. Or keeping your API JSON Schema up to date.</p>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#pagination-and-filtering-is-not-so-simple","title":"Pagination and filtering is not so simple","text":"<p>Most APIs work with collections of objects. In a todo-list app, the list itself is a collection. Most collections can contain more than 100 items. For most servers returning all items in a collection in same response is a heavy operation. Multiply that by a number of online users and it can add up to a hefty AWS bill. Obvious solution: return only a subset of a collection.</p> <p>Pagination is comparatively straightforward. Pass something like <code>offset</code> and <code>limit</code> values in query parameters: <code>/todos?limit=10&amp;offset=20</code> to get only 10 objects starting at the 20<sup>th</sup>. Everyone names these parameters differently, some prefer <code>count</code> and <code>skip</code>, I like <code>offset</code> and <code>limit</code> because they directly correspond to SQL modifiers.</p> <p>Some backend databases expose cursors or tokens to be passed for next page query. Check out Elasticsearch API that recommends using <code>scroll</code> calls when you need to go through a huge list of resulting documents sequentially. There are also APIs that pass relevant information in headers. See GitHub REST API (at least that\u2019s not JSON passed in headers \ud83d\ude05).</p> <p>When it comes to filtering, it\u2019s so much more interesting\u2026 Need filtering by one field? No problem, it could be <code>/todos?filter=key%3Dvalue</code> or maybe more human-readable <code>/todos?filterKey=key&amp;filterValue=value</code>. How\u2019s about filtering by two values? Hm, that should be easy, right? Query would look like <code>/todos?filterKeys=key1%2Ckey2&amp;filterValue=value</code> with URL encoding. But often there is no way to stop the feature creep, maybe a requirement appears for advanced filtering with <code>AND</code>/<code>OR</code> operators. Or maybe complex full-text search queries together with complex filtering. Sooner or later you can see a few APIs that invent their own filtering DSL. URL query components are no longer sufficient, but request body in <code>GET</code> requests is not great either, which means you end-up sending non-mutating queries in <code>POST</code> requests (which is what Elasticsearch does). Is the API still RESTful at this point?</p> <p>Either way, both clients and servers need to take extra care with parsing, formatting and validating all these parameters. So much fun! \ud83d\ude43 As an example, without proper validation and with uninitialised variables you can easily get something like <code>/todos?offset=undefined</code>.</p>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#not-easy-to-document-and-test","title":"Not easy to document and test","text":"<p>Swagger mentioned above is probably the best tool for this at the moment, but it isn\u2019t used widely enough. Much more frequently I see APIs with documentation maintained separately. Not a big deal for a stable widely used API, but much worse during development in an agile process. Documentation stored separately means it\u2019s frequently not updated at all, especially if it\u2019s a minor, but client-breaking change.</p> <p>If you don\u2019t use Swagger, it probably means you have specialised test infrastructure to maintain. There\u2019s also a much higher chance you need integration tests rather than unit-tests, means testing both client and server-side code.</p>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#relations-and-batch-queries-make-it-even-more-frustrating","title":"Relations and batch queries make it even more frustrating","text":"<p>This becomes a problem with much larger APIs, where you might have a number of related collections. Let\u2019s go further with an example of a todo-list app: suppose every todo item can also belong to a project. Would you always want to fetch all related projects at once? Probably not, but then there are more query parameters to add. Maybe you don\u2019t want to fetch all object fields at once. What if the app needs projects to have owners and there\u2019s a view with all this data aggregated in addition to separate views displaying each collection separately? It\u2019s either three separate HTTP requests or one complex request with all data fetched at once for aggregation.</p> <p>Either way, there are complexity and performance tradeoffs, maintaining which in a growing application brings more headaches than one would like.</p>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#you-need-every-endpoint-implemented-both-on-server-and-client","title":"You need every endpoint implemented both on server and client","text":"<p>There is also a ton of libraries that can automatically generate a REST endpoint with some help from ORMs or direct database introspection. Even when those are used, usually they aren\u2019t very flexible or extensible. That means reimplementing an endpoint from scratch if there is a need for custom parameters, advanced filtering behaviour or just some smarter handling of request or response payload.</p> <p>Yet another task is consuming those endpoints in client code. It\u2019s great to use code-generation if you have it, but again it seems to be not flexible enough. Even with helper libraries like Moya, you stumble upon the same barrier: there is a lot of custom behaviour to handle, which is caused by edge cases mentioned above.</p> <p>If a dev team isn\u2019t full-stack, communication between server and client teams is crucial, even critical when there\u2019s no machine-readable API spec.</p>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#and-hows-graphql-better","title":"And how\u2019s GraphQL better?","text":"<p>With all issues discussed, I\u2019m inclined to say that in CRUD apps it would be great to have a standard way to produce and consume APIs. Common tooling and patterns, integrated testing and documentation infrastructure would help with both technical and organisational issues.</p> <p>GraphQL has a draft RFC spec and a reference implementation. Also, check out GraphQL tutorial, which describes most of the concepts you\u2019d need to know. There are implementations for different platforms, and there is plenty of developer tools available as well, most notably GraphiQL, which bundles a nice API explorer with auto-completion and a browser for documentation automatically generated from a GraphQL schema.</p> <p>In fact, I find GraphiQL indispensable. It can help in solving communication issues between client and server-side teams I\u2019ve mentioned earlier. As soon as any changes are available in a GraphQL schema, you\u2019ll be able to see it in GraphiQL browser, same with embedded API documentation. Now client and server teams can work together on API design in an even better way with shorter iteration time and shared documentation that\u2019s automatically generated and visible to everyone on every API update. To get a feeling of how these tools work check out a Star Wars API example that is available as a GraphiQL live demo.</p> <p>Being able to specify object fields requested from a server allows clients to fetch only data they need when they need. No more multiple heavy queries issued to a rigid REST API, which are then stitched on the client just to display it all at once in app UI. You are no longer restricted to a set of endpoints, but have a schema of queries and mutations, being able to cherry-pick fields and objects that a client specifically requires. And a server only needs to implement top-level schema objects this way.</p>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#a-quick-example","title":"A quick example","text":"<p>A GraphQL schema defines types that can be used in communication between servers and clients. There are two special types that are also core concepts in GraphQL: <code>Query</code> and <code>Mutation</code>. Most of the time every request that is issued to a GraphQL API is either a <code>Query</code> instance that is free of side-effects or a <code>Mutation</code> instance that modifies objects stored on the server.</p> <p>Now, sticking with our todo app example, consider this GraphQL schema:</p> <pre><code>type Project {\n  id: ID\n  name: String!\n}\n\ntype TodoItem {\n  id: ID\n  description: String!\n  isCompleted: Boolean!\n  dueDate: Date\n  project: Project\n}\n\ntype TodoList {\n  totalCount: Int!\n  items: [TodoItem]!\n}\n\ntype Query {\n  allTodos(limit: Int, offset: Int): TodoList!\n  todoByID(id: ID!): TodoItem\n}\n\ntype Mutation {\n  createTodo(item: TodoItem!): TodoItem\n  deleteTodo(id: ID!): TodoItem\n  updateTodo(id: ID!, newItem: TodoItem!): TodoItem\n}\n\nschema {\n  query: Query\n  mutation: Mutation\n}\n</code></pre> <p>This <code>schema</code> block at the bottom is special and defines root <code>Query</code> and <code>Mutation</code> types as described previously. Otherwise, it\u2019s pretty straightforward: <code>type</code> blocks define new types, each block contains field definitions with their own types. Types can be non-optional, for example <code>String!</code> field can\u2019t ever have <code>null</code> value, while <code>String</code> can. Fields can also have named parameters, so <code>allTodos(limit: Int, offset: Int): TodoList!</code> field of type <code>TodoList!</code> takes two optional parameters, while its own value is non-optional, meaning it will always return a <code>TodoList</code> instance that can\u2019t be <code>null</code>.</p> <p>Then to query all todos with ids and names you\u2019d write a query like this:</p> <pre><code>query {\n  allTodos(limit: 5) {\n    totalCount\n    items {\n      id\n      description\n      isCompleted\n    }\n  }\n}\n</code></pre> <p>GraphQL client library automatically parses and validates the query against the schema and only then sends it to a GraphQL server. Note that <code>offset</code> argument to <code>allTodos</code> field is absent. Being optional, its absence means it has <code>null</code> value. If the server supplies this sort of schema, it\u2019s probably stated in documentation that <code>null</code> offset means that first page should be returned by default. The response could look like this:</p> <pre><code>{\n  \"data\": {\n    \"allTodos\": {\n      \"totalCount\": 42,\n      \"items\": [\n        {\n          \"id\": 1,\n          \"description\": \"write a blogpost\",\n          \"isCompleted\": true\n        },\n        {\n          \"id\": 2,\n          \"description\": \"edit until looks good\",\n          \"isCompleted\": true\n        },\n        {\n          \"id\": 2,\n          \"description\": \"proofread\",\n          \"isCompleted\": false\n        },\n        {\n          \"id\": 4,\n          \"description\": \"publish on the website\",\n          \"isCompleted\": false\n        },\n        {\n          \"id\": 5,\n          \"description\": \"share\",\n          \"isCompleted\": false\n        }\n      ]\n    }\n  }\n}\n</code></pre> <p>If you drop <code>isCompleted</code> field from the query, it\u2019ll disappear from the result. Or you can add <code>project</code> field with its <code>id</code> and <code>name</code> to traverse the relation. Add <code>offset</code> parameter to <code>allTodos</code> field to paginate, and so <code>allTodos(count: 5, offset: 5)</code> will return the second page. Helpfully enough, you\u2019ve got <code>totalCount</code> field in the result, so now you know you\u2019ve got <code>42 / 5 = 9</code> pages in total. But obviously, you can omit <code>totalCount</code> if you don\u2019t need it. The query is in full control of what actual information will be received, but underlying GraphQL infrastructure also ensures that all required fields and parameters are there. If your GraphQL server is smart enough, it won\u2019t run database queries for fields you don\u2019t need, and some libraries are good enough to provide that for free. Same with the rest of mutations and queries in this schema: input is type-checked and validated, and based on the query a GraphQL server knows what result shape is expected.</p> <p>Under the hood, all communication runs through a predefined URL (usually <code>/graphql</code>) on a server with a simple <code>POST</code> request that contains the query serialised as a JSON payload. You almost never have a need to be exposed to an abstraction layer this low though.</p> <p>Not too bad overall: we\u2019ve got type-level validation issues taken care of, pagination is also looking good and entity relations can be easily traversed when needed. If you use some GraphQL -&gt; database query translation libraries that are available, you wouldn\u2019t even need to write most of the database queries on the server. Client-side libraries can unpack a GraphQL response automatically as an object instance of a needed type quite easily, as naturally the response shape is known upfront from the schema and queries.</p>"},{"location":"server/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BD%BF%E7%94%A8%20GraphQL%20%E8%80%8C%E6%94%BE%E5%BC%83%20REST/#graphql-is-this-new-hipster-thing-a-fad-right","title":"GraphQL is this new hipster thing, a fad, right?","text":"<p>While falcor by Netflix seemed to be solving a similar problem, was published on GitHub a few months earlier than GraphQL and came up on my personal radar earlier, it clearly looks like GraphQL has won. Good tooling and strong industry support make it quite compelling. Aside from a few minor glitches in some client libraries (that since have been resolved), I can\u2019t recommend highly enough to have a good look at what GraphQL could offer in your tech stack. It is out of technical preview for almost two years now and the ecosystem is growing even stronger. While Facebook designed GraphQL, we see more and more big companies using it in their products as well: GitHub, Shopify, Khan Academy, Coursera, and the list is growing.</p> <p>There\u2019s plenty of popular open-source projects that use GraphQL: this blog is powered by Gatsby static site generator, which translates results of GraphQL queries into data that are rendered into an HTML file. If you\u2019re on WordPress, a GraphQL API is available for it as well. Reaction Commerce is an open-source alternative to Shopify that\u2019s also powered by GraphQL.</p> <p>A few GraphQL libraries worth mentioning again are PostGraphile and Apollo.</p> <p>If you use PostgreSQL as your database on the backend, PostGraphile is able to scan a SQL schema and automatically generate a GraphQL schema with an implementation. You get all common CRUD operations exposed as queries and mutations for all tables. It may look like it\u2019s an ORM, but it isn\u2019t: you\u2019re in full control of how your database schema is designed, and what indices are used. Great thing is that PostGraphile also exposes views and functions as queries and mutations, so if there is particularly complex SQL query that you\u2019d like to map to a GraphQL field, just create that SQL view or function and it\u2019ll appear automatically in GraphQL schema. With advanced Postgres features like row-level security, you can get complex access control logic implemented with only a few SQL policies to write. PostGraphile even has awesome things like schema documentation generated automatically from Postgres comments \ud83e\udd29.</p> <p>In turn, Apollo provides both client libraries for multiple platforms and code generators that produce type definitions in most popular programming languages, including TypeScript and Swift. In general, I find Apollo much simpler and manageable to use than, for example, Relay. Thanks to simple architecture of Apollo client library, I was able to slowly transition an app that used React.js with Redux to React Apollo, component by component and only when it made sense to do so. Same with native iOS apps, Apollo iOS is a relatively lightweight library that\u2019s easy to use.</p> <p>In a future article, I\u2019d like to describe some of my experience with this tech stack. In the meantime, shoot me a message on Twitter about your experience with GraphQL or if you\u2019re just interested how it could work in your app \ud83d\udc4b.</p> <p>If you enjoyed this article, please consider becoming a sponsor. My goal is to produce content like this and to work on open-source projects full time, every single contribution brings me closer to it! This also benefits you as a reader and as a user of my open-source projects, ensuring that my blog and projects are constantly maintained and improved.</p> <ul> <li>How do closures and callbacks work? It's turtles all the way down \u2192</li> </ul>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/","title":"\u4ece\u8d2d\u4e70\u670d\u52a1\u5668\u5230\u7f51\u7ad9\u642d\u5efa\u6210\u529f\u6559\u7a0b","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 23613  \u9605\u8bfb48\u5206\u949f</p> <p>\u539f\u6587\u94fe\u63a5 https://blog.csdn.net/weixin_53614367/article/details/124925783</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_2","title":"\u524d\u8a00","text":"<p>\u9996\u5148\u58f0\u660e\uff0c\u672c\u4eba\u57fa\u4e8e Linux \u4e0b\u7684 CentOS 8 \u7cfb\u7edf\u955c\u50cf\uff0c\u63a5\u4e0b\u6765\u7684\u64cd\u4f5c\u53ef\u80fd\u5927\u90e8\u5206\u504f\u5411\u7cfb\u7edf\u955c\u50cf\u64cd\u4f5c\uff0c\u4f46\u5e94\u7528\u955c\u50cf\u64cd\u4f5c\u4e5f\u4f1a\u6d89\u53ca\u3002</p> <p></p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_3","title":"\u9884\u5907\u77e5\u8bc6","text":""},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_4","title":"\u4ec0\u4e48\u662f\u4e91\u670d\u52a1\u5668\uff1f","text":"<p>\u4e91\u670d\u52a1\u5668(Elastic Compute Service, ECS)\u662f\u4e00\u79cd\u7b80\u5355\u9ad8\u6548\u3001\u5b89\u5168\u53ef\u9760\u3001\u5904\u7406\u80fd\u529b\u53ef\u5f39\u6027\u4f38\u7f29\u7684\u8ba1\u7b97\u670d\u52a1\u3002\u5176\u7ba1\u7406\u65b9\u5f0f\u6bd4\u7269\u7406\u670d\u52a1\u5668\u66f4\u7b80\u5355\u9ad8\u6548\u3002\u7528\u6237\u65e0\u9700\u63d0\u524d\u8d2d\u4e70\u786c\u4ef6\uff0c\u5373\u53ef\u8fc5\u901f\u521b\u5efa\u6216\u91ca\u653e\u4efb\u610f\u591a\u53f0\u4e91\u670d\u52a1\u5668\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_5","title":"\u4ec0\u4e48\u662f\u57df\u540d\uff1f","text":"<p>\u57df\u540d\uff08\u82f1\u8bed\uff1aDomain Name\uff09\uff0c\u662f\u7531\u4e00\u4e32\u7528\u70b9\u5206\u9694\u7684\u540d\u5b57\u7ec4\u6210\u7684 Internet \u4e0a\u67d0\u4e00\u53f0\u8ba1\u7b97\u673a\u6216\u8ba1\u7b97\u673a\u7ec4\u7684\u540d\u79f0\uff0c\u7528\u4e8e\u5728\u6570\u636e\u4f20\u8f93\u65f6\u5bf9\u8ba1\u7b97\u673a\u7684\u5b9a\u4f4d\u6807\u8bc6\uff08\u6709\u65f6\u4e5f\u6307\u5730\u7406\u4f4d\u7f6e\uff09\u3002\u7531\u4e8e IP \u5730\u5740\u5177\u6709\u4e0d\u65b9\u4fbf\u8bb0\u5fc6\u5e76\u4e14\u4e0d\u80fd\u663e\u793a\u5730\u5740\u7ec4\u7ec7\u7684\u540d\u79f0\u548c\u6027\u8d28\u7b49\u7f3a\u70b9\uff0c\u4eba\u4eec\u8bbe\u8ba1\u51fa\u4e86\u57df\u540d\uff0c\u5e76\u901a\u8fc7\u7f51\u57df\u540d\u79f0\u7cfb\u7edf\uff08DNS\uff0cDomain Name System\uff09\u6765\u5c06\u57df\u540d\u548c IP \u5730\u5740\u76f8\u4e92\u6620\u5c04\uff0c\u4f7f\u4eba\u66f4\u65b9\u4fbf\u5730\u8bbf\u95ee\u4e92\u8054\u7f51\uff0c\u800c\u4e0d\u7528\u53bb\u8bb0\u4f4f\u80fd\u591f\u88ab\u673a\u5668\u76f4\u63a5\u8bfb\u53d6\u7684 IP \u5730\u5740\u6570\u4e32\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#ssl","title":"\u4ec0\u4e48\u662f SSL \u8bc1\u4e66\uff1f","text":"<p>SSL \u8bc1\u4e66\u662f\u6570\u5b57\u8bc1\u4e66\u7684\u4e00\u79cd\uff0c\u7c7b\u4f3c\u4e8e\u9a7e\u9a76\u8bc1\u3001\u62a4\u7167\u548c\u8425\u4e1a\u6267\u7167\u7684\u7535\u5b50\u526f\u672c\u3002\u56e0\u4e3a\u914d\u7f6e\u5728\u670d\u52a1\u5668\u4e0a\uff0c\u4e5f\u79f0\u4e3a SSL \u670d\u52a1\u5668\u8bc1\u4e66\u3002</p> <p>SSL \u8bc1\u4e66\u5c31\u662f\u9075\u5b88 SSL \u534f\u8bae\uff0c\u7531\u53d7\u4fe1\u4efb\u7684\u6570\u5b57\u8bc1\u4e66\u9881\u53d1\u673a\u6784 CA\uff0c\u5728\u9a8c\u8bc1\u670d\u52a1\u5668\u8eab\u4efd\u540e\u9881\u53d1\uff0c\u5177\u6709\u670d\u52a1\u5668\u8eab\u4efd\u9a8c\u8bc1\u548c\u6570\u636e\u4f20\u8f93\u52a0\u5bc6\u529f\u80fd\u3002</p> <p>SSL \u8bc1\u4e66\u901a\u8fc7\u5728\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u548c Web \u670d\u52a1\u5668\u4e4b\u95f4\u5efa\u7acb\u4e00\u6761 SSL \u5b89\u5168\u901a\u9053\uff08Secure socket layer(SSL),\u5b89\u5168\u534f\u8bae\u662f\u7531 Netscape Communication \u516c\u53f8\u8bbe\u8ba1\u5f00\u53d1\u3002\u8be5\u5b89\u5168\u534f\u8bae\u4e3b\u8981\u7528\u6765\u63d0\u4f9b\u5bf9\u7528\u6237\u548c\u670d\u52a1\u5668\u7684\u8ba4\u8bc1\uff1b\u5bf9\u4f20\u9001\u7684\u6570\u636e\u8fdb\u884c\u52a0\u5bc6\u548c\u9690\u85cf\uff1b\u786e\u4fdd\u6570\u636e\u5728\u4f20\u9001\u4e2d\u4e0d\u88ab\u6539\u53d8\uff0c\u5373\u6570\u636e\u7684\u5b8c\u6574\u6027\uff0c\u73b0\u5df2\u6210\u4e3a\u8be5\u9886\u57df\u4e2d\u5168\u7403\u5316\u7684\u6807\u51c6\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_6","title":"\u670d\u52a1\u5668\u9009\u914d","text":"<p>\u9996\u5148\u7b2c\u4e00\u6b65\uff0c\u60f3\u8981\u5728\u670d\u52a1\u5668\u4e0a\u90e8\u7f72\u9879\u76ee\uff0c\u5f53\u7136\u524d\u63d0\u5f97\u6709\u4e00\u53f0\u670d\u52a1\u5668\u5440\uff0c\u6240\u8c13\u5de5\u6b32\u5584\u5176\u4e8b\uff0c\u5fc5\u5148\u5229\u5176\u5668\u561b\u3002</p> <p>\u5e02\u573a\u4e0a\u670d\u52a1\u5668\u5382\u5546\u90fd\u633a\u591a\uff0c\u6211\u4eec\u719f\u77e5\u7684\u53ef\u80fd\u4e5f\u5c31\u662f\u963f\u91cc\u4e91\uff0c\u817e\u8baf\u4e91\uff0c\u534e\u4e3a\u4e91\uff0c\u767e\u5ea6\u4e91\u7b49\u8fd9\u4e9b\uff0c\u4e2a\u4eba\u63a8\u8350\u9009\u62e9\u963f\u91cc\u4e91\u548c\u817e\u8baf\u4e91\uff0c\u6211\u7b2c\u4e00\u6b21\u642d\u5efa\u662f\u56e0\u4e3a\u767e\u5ea6\u4e91\u6709\u4e2a\u6d3b\u52a8\u53ef\u4ee5\u767d\u5ad6\u4e09\u4e2a\u6708\uff0c\u6240\u4ee5\u7b2c\u4e00\u6b21\u9009\u62e9\u4e86\u767e\u5ea6\u4e91\u3002\u5176\u5b9e\u670d\u52a1\u5668\u7684\u914d\u7f6e\u8fd9\u4e9b\u5bf9\u4e8e\u65b0\u624b\u6765\u8bf4\u4e0d\u5fc5\u8fc7\u591a\u62c5\u5fc3\uff0c\u6211\u4eec\u8d2d\u4e70\u670d\u52a1\u5668\u7684\u7528\u9014\u4e5f\u5c31\u662f\u6d4b\u8bd5\u6d4b\u8bd5\u81ea\u5df1\u5f00\u53d1\u7684\u9879\u76ee\uff0c\u6216\u8005\u641e\u4e2a\u81ea\u5df1\u7684\u4e2a\u4eba\u535a\u5ba2\u4e4b\u7c7b\u7684\u653e\u5728\u670d\u52a1\u5668\u4e0a\uff0c\u6240\u4ee5\uff0c\u4e00\u822c\u7684\u8f7b\u91cf\u7ea7\u670d\u52a1\u5668\u5c31\u5df2\u7ecf\u591f\u6211\u4eec\u7528\u4e86\uff0c\u4e0d\u5fc5\u5f88\u5728\u610f\u670d\u52a1\u5668\u7684\u914d\u7f6e\uff0c\u6240\u4ee5\u65b0\u624b\u6211\u63a8\u8350\u8f7b\u91cf\u7ea7\u670d\u52a1\u5668\u3002</p> <p>\u800c\u4e14\u5982\u679c\u662f\u65b0\u7528\u6237\uff0c\u5404\u5927\u670d\u52a1\u5668\u5382\u5546\u5bf9\u65b0\u7528\u6237\u7684\u4f18\u60e0\u529b\u5ea6\u90fd\u7279\u522b\u5927\uff0c\u6240\u4ee5\u8d2d\u4e70\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u4e2a\u4eba\u670d\u52a1\u5668\u4e0d\u662f\u5f88\u8d35\uff0c\u6ce8\u518c\u4e4b\u540e\u8bb0\u5f97\u5b9e\u540d\uff0c\u4e0d\u5b9e\u540d\u7684\u8bdd\u662f\u6ca1\u529e\u6cd5\u8d2d\u4e70\u670d\u52a1\u5668\u7684\u3002</p> <p>\u5bf9\u4e8e\u6d3b\u52a8\u63a8\u51fa\u7684\u670d\u52a1\u5668\uff0c\u6211\u4eec\u4e5f\u4e0d\u5fc5\u62c5\u5fc3\u600e\u4e48\u53bb\u914d\u7f6e\u670d\u52a1\u5668\u7684\u53c2\u6570\u90a3\u4e9b\uff0c\u56e0\u4e3a\u914d\u7f6e\u90fd\u914d\u597d\u4e86\uff0c\u9876\u591a\u5c31\u662f\u8ba9\u4f60\u9009\u62e9\u64cd\u4f5c\u955c\u50cf\uff0c\u8bbe\u7f6e\u521d\u59cb\u5316\u7528\u6237\u540d\u548c\u5bc6\u7801\u7b49\u3002\u4e0d\u7ba1\u9009\u62e9\u54ea\u4e2a\u5382\u5546\uff0c\u5176\u5b9e\u76f8\u540c\u914d\u7f6e\u4e0b\uff0c\u4ef7\u683c\u5dee\u5f02\u5e76\u4e0d\u5927\u3002\u5404\u5927\u5382\u5546\u90fd\u662f\u70b9\u51fb\u6700\u65b0\u6d3b\u52a8\uff0c\u53bb\u4eab\u53d7\u4f18\u60e0\u4ef7\u683c</p> <p>\u5f53\u6211\u4eec\u6ce8\u518c\u597d\u4e00\u4e2a\u8d26\u6237\u5e76\u5b9e\u540d\u8ba4\u8bc1\u6210\u529f\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u53bb\u8d2d\u4e70\u4e00\u4e2a\u5c5e\u4e8e\u81ea\u5df1\u7684\u670d\u52a1\u5668\u4e86\uff0c\u8981\u662f\u8fd8\u5728\u7ea0\u7ed3\u7684\u5c0f\u4f19\u4f34\uff0c\u4e5f\u53ef\u4ee5\u53bb\u5404\u5382\u5546\u6d3b\u52a8\u9875\u9762\u5148\u7533\u8bf7\u4e00\u4e2a\u514d\u8d39\u4f53\u9a8c\u7684\u670d\u52a1\u5668\u5148\u64cd\u4f5c\u4e00\u4e0b\uff0c\u7b49\u81ea\u5df1\u5b66\u4f1a\u600e\u4e48\u73a9\u670d\u52a1\u5668\u4e86\u518d\u8d2d\u4e70\u4e5f\u4e0d\u8fdf\uff0c\u54c8\u54c8\uff0c\u6ca1\u9519\uff0c\u5c31\u662f\u50cf\u6211\u4e00\u6837\uff0c\u6211\u7b2c\u4e00\u6b21\u4f7f\u7528\u670d\u52a1\u5668\u5e76\u4e0d\u662f\u8d2d\u4e70\u7684\uff0c\u800c\u662f\u770b\u5230\u767e\u5ea6\u4e91\u91cc\u6709\u6d3b\u52a8\uff0c\u7136\u540e\u767d\u5ad6\u4e86\u4e09\u4e2a\u6708\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_7","title":"\u53c2\u6570\u914d\u7f6e\u8be6\u89e3","text":"<p>\u5728\u8d2d\u4e70\u670d\u52a1\u5668\u914d\u7f6e\u9875\uff0c\u4f1a\u8ba9\u7528\u6237\u9009\u62e9\u4e00\u4e9b\u914d\u7f6e\uff0c\u63a5\u4e0b\u6765\u6211\u5c06\u8be6\u7ec6\u89e3\u91ca\u6bcf\u4e2a\u914d\u7f6e\u5230\u5e95\u8be5\u600e\u4e48\u9009\uff0c\u4ee5\u4fbf\u5e2e\u52a9\u5404\u4f4d\u5c0f\u4f19\u4f34\u4eec\u9009\u62e9\u51fa\u4e00\u53f0\u6700\u9002\u5408\u81ea\u5df1\u7684\u670d\u52a1\u5668\u3002\u4e0b\u9762\u6211\u4ee5\u767e\u5ea6\u4e91\u548c\u817e\u8baf\u4e91\u4e3a\u4f8b\uff0c\u8be6\u7ec6\u89e3\u8bfb\u53c2\u6570\u914d\u7f6e\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_8","title":"\u767e\u5ea6\u4e91","text":"<p>\u8fd9\u4e2a\u754c\u9762\u57fa\u672c\u4e0d\u7528\u81ea\u5df1\u914d\u7f6e\u4ec0\u4e48\u53c2\u6570\uff0c\u6bd4\u8f83\u5bb9\u6613\u4e0a\u624b\uff0c\u5bf9\u5b9e\u4f8b\uff08\u670d\u52a1\u5668\uff09\u7684\u914d\u7f6e\u4e5f\u6709\u8bf4\u660e\uff0c\u53ef\u6839\u636e\u81ea\u5df1\u9700\u6c42\u9009\u914d</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_9","title":"\u5730\u533a\u53ca\u53ef\u7528\u533a","text":"<p>\u8fd9\u91cc\u5206\u4e24\u79cd\u60c5\u51b5\uff0c\u5047\u5982\u8bf4\u81ea\u5df1\u4e70\u4e2a\u670d\u52a1\u5668\u662f\u56e0\u4e3a\u9879\u76ee\u8981\u4e0a\u7ebf\u6295\u5165\u4f7f\u7528\uff0c\u90a3\u4e48\u8fd9\u79cd\u60c5\u51b5\uff0c\u7528\u6237\u4e3b\u8981\u96c6\u4e2d\u5728\u90a3\u4e2a\u533a\u57df\u5c31\u9009\u90a3\u4e2a\u533a\u57df\uff0c\u8fd9\u6837\u7684\u8bdd\u7528\u6237\u8bbf\u95ee\u7f51\u7ad9\u9879\u76ee\u54cd\u5e94\u901f\u5ea6\u5c31\u76f8\u5bf9\u8f83\u5feb\u3002\u8fd8\u6709\u4e00\u79cd\u60c5\u51b5\u5c31\u662f\u81ea\u5df1\u4e70\u4e86\u81ea\u5df1\u73a9\uff0c\u8fd9\u79cd\u7684\u8bdd\u5c31\u76f4\u63a5\u9009\u62e9\u81ea\u5df1\u6240\u5728\u5730\u533a</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_10","title":"\u5b9e\u4f8b\u914d\u7f6e","text":"<p>\u6709\u7684\u5c0f\u4f19\u4f34\u53ef\u80fd\u4f1a\u95ee\uff0c\u6211\u4e70\u7684\u4e0d\u662f\u670d\u52a1\u5668\u5417\uff1f\u5b9e\u4f8b\u662f\u4e2a\u4ec0\u4e48\u9b3c\uff1f\u5b9e\u4f8b\u662f\u4e91\u7aef\u7684\u865a\u62df\u8ba1\u7b97\u8d44\u6e90\uff0c\u53ef\u7406\u89e3\u4e3a\u4e91\u670d\u52a1\u5668\uff08Cloud Virtual Machine\uff0cCVM\uff09\uff0c\u5305\u542b CPU\u3001\u5185\u5b58\u3001\u64cd\u4f5c\u7cfb\u7edf\u3001\u7f51\u7edc\u3001\u78c1\u76d8\u7b49\u6700\u57fa\u7840\u7684\u8ba1\u7b97\u7ec4\u4ef6\u3002</p> <p>\u4e91\u670d\u52a1\u5668\u5b9e\u4f8b\u53ef\u5728\u4e91\u7aef\u63d0\u4f9b\u5b89\u5168\u53ef\u9760\u7684\u5f39\u6027\u8ba1\u7b97\u670d\u52a1\uff0c\u5b9e\u73b0\u8ba1\u7b97\u9700\u6c42\uff1b\u53ef\u968f\u7740\u4e1a\u52a1\u9700\u6c42\u7684\u53d8\u5316\uff0c\u5b9e\u65f6\u6269\u5c55\u6216\u7f29\u51cf\u8ba1\u7b97\u8d44\u6e90\uff1b\u53ef\u6781\u5927\u964d\u4f4e\u4f01\u4e1a\u7684\u8f6f\u786c\u4ef6\u91c7\u8d2d\u6210\u672c\uff0c\u7b80\u5316 IT \u8fd0\u7ef4\u5de5\u4f5c\u3002</p> <p>\u8fd9\u91cc\u8bf4\u7684\u5b9e\u4f8b\u914d\u7f6e\u5176\u5b9e\u5c31\u662f\u670d\u52a1\u5668\u7684\u914d\u7f6e\uff0c\u5728\u5feb\u901f\u8d2d\u4e70\u8fd9\u4e2a\u9875\u9762\uff0c\u5bf9\u4e0d\u540c\u5b9e\u4f8b\u7684\u914d\u7f6e\u90fd\u505a\u4e86\u8bf4\u660e\uff0c\u5c0f\u4f19\u4f34\u4eec\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7528\u9014\u6765\u8fdb\u884c\u9009\u62e9</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_11","title":"\u64cd\u4f5c\u7cfb\u7edf","text":"<p>\u5176\u5b9e\u8fd9\u91cc\u7684\u64cd\u4f5c\u7cfb\u7edf\u53c8\u53ef\u4ee5\u79f0\u4e3a\u64cd\u4f5c\u955c\u50cf\uff0c\u7b80\u5355\u7406\u89e3\u5c31\u662f\u670d\u52a1\u5668\u8d2d\u4e70\u8005\u901a\u8fc7\u4ec0\u4e48\u6837\u7684\u65b9\u5f0f\u8bbf\u95ee\u5230\u81ea\u5df1\u8d2d\u4e70\u7684\u670d\u52a1\u5668\uff0c\u8fd9\u91cc\u4e5f\u53ef\u80fd\u662f\u65b0\u624b\u6bd4\u8f83\u7ea0\u7ed3\u7684\u4e00\u70b9\uff0c\u64cd\u4f5c\u955c\u50cf\u5462\u53c8\u5206\u4e3a\u5e94\u7528\u955c\u50cf\u548c\u7cfb\u7edf\u955c\u50cf\u3002</p> <p>\u955c\u50cf\u662f\u4e00\u4e2a\u5305\u542b\u4e86\u8f6f\u4ef6\u53ca\u5fc5\u8981\u914d\u7f6e\u7684\u670d\u52a1\u5668\u6216\u78c1\u76d8\u6a21\u7248\uff0c\u5305\u542b\u64cd\u4f5c\u7cfb\u7edf\u6216\u4e1a\u52a1\u6570\u636e\uff0c\u8fd8\u53ef\u4ee5\u5305\u542b\u5e94\u7528\u8f6f\u4ef6(\u4f8b\u5982\uff0c\u6570\u636e\u5e93\u8f6f\u4ef6)\u548c\u79c1\u6709\u8f6f\u4ef6\u3002\u955c\u50cf\u5206\u4e3a\u516c\u5171\u955c\u50cf\u3001\u79c1\u6709\u955c\u50cf\u3001\u5171\u4eab\u955c\u50cf\u3001\u5e02\u573a\u955c\u50cf\u3002\u955c\u50cf\u670d\u52a1(Image Management Service)\u63d0\u4f9b\u955c\u50cf\u7684\u751f\u547d\u5468\u671f\u7ba1\u7406\u80fd\u529b\u3002\u7528\u6237\u53ef\u4ee5\u7075\u6d3b\u5730\u4f7f\u7528\u516c\u5171\u955c\u50cf\u3001\u79c1\u6709\u955c\u50cf\u6216\u5171\u4eab\u955c\u50cf\u7533\u8bf7\u5f39\u6027\u4e91\u670d\u52a1\u5668\u548c\u88f8\u91d1\u5c5e\u670d\u52a1\u5668\u3002\u4e00\u822c\u63a8\u8350\u9009\u62e9\u5b89\u88c5\u7cfb\u7edf\u955c\u50cf\uff0c\u8fd9\u6837\u7684\u8bdd\u64cd\u4f5c\u7cfb\u7edf\u662f\u7eaf\u51c0\u7684\uff0c\u672a\u5b89\u88c5\u8fc7\u4efb\u4f55\u73af\u5883\u548c\u7a0b\u5e8f\u7684\uff0c\u65b9\u4fbf\u6211\u4eec\u64cd\u4f5c\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_12","title":"\u5e26\u5bbd","text":"<p>\u7b80\u5355\u7406\u89e3\u5c31\u662f\u5728\u7ed9\u5b9a\u65f6\u95f4\u5185\u53ef\u4ee5\u4f20\u8f93\u7684\u6570\u636e\u91cf\u3002\u5b83\u76f8\u5f53\u4e8e\u4e00\u6761\u8def\uff0c\u9700\u8981\u901a\u8fc7\u7684\u6570\u636e\u76f8\u5f53\u4e8e\u5176\u4e2d\u7684\u8f66\u8f86\u3002\u5982\u679c\u9053\u8def\u72ed\u7a84\uff0c\u8f66\u8f86\u901a\u8fc7\u6240\u9700\u7684\u65f6\u95f4\u4f1a\u76f8\u5bf9\u8f83\u6162\uff0c\u8fd9\u4e5f\u662f\u5e26\u5bbd\u4f1a\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u5f71\u54cd\u7f51\u9875\u7684\u6253\u5f00\u901f\u5ea6\u7684\u539f\u56e0\u3002\u5982\u679c\u628a\u5e26\u5bbd\u6bd4\u4f5c\u6c34\u7ba1\uff0c\u5e26\u5bbd\u5b9e\u9645\u4e0a\u5c31\u662f\u6c34\u7ba1\u7684\u6d41\u91cf\u800c\u6d41\u91cf\u5c31\u662f\u6d41\u51fa\u7684\u6c34\u7684\u603b\u91cf\u3002\u5e26\u5bbd\u5f71\u54cd\u4e3b\u673a\u7684\u8bbf\u95ee\u901f\u5ea6\uff0c\u7f51\u7edc\u5e26\u5bbd\u7684\u5927\u5c0f\u5bf9\u4e8e\u8bbf\u95ee\u91cf\u5927\u7684\u7f51\u7ad9\u5c24\u4e3a\u91cd\u8981\u3002\u6240\u4ee5\uff0c\u5e26\u5bbd\u8d8a\u5927\uff0c\u5c31\u4ee3\u8868\u8bbf\u95ee\u670d\u52a1\u5668\u548c\u54cd\u5e94\u901f\u5ea6\u8d8a\u5feb\uff0c\u4f46\u662f\u5462\uff0c\u5bf9\u4e8e\u65b0\u624b\u5c0f\u767d\u6765\u8bf4\uff0c\u4e00\u822c\u5e26\u5bbd 1M~2M \u5df2\u7ecf\u591f\u7528\u4e86\uff0c\u5927\u4f6c\u53ef\u6ed1\u8d70\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_13","title":"\u817e\u8baf\u4e91","text":"<p>\u76f8\u540c\u7684\u5730\u65b9\u6211\u5c31\u4e0d\u5728\u8d58\u8ff0\uff0c\u54b1\u4eec\u6765\u8bf4\u8bf4\u4e00\u4e9b\u4e0d\u540c\u7684\u503c\u5f97\u6ce8\u610f\u7684\u70b9</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_14","title":"\u5b89\u5168\u7ec4","text":"<p>\u5b89\u5168\u7ec4\uff08Security Group\uff09\u662f\u4e00\u79cd\u6709\u72b6\u6001\u7684\u5305\u8fc7\u6ee4\u529f\u80fd\u7684\u865a\u62df\u9632\u706b\u5899\uff0c\u5b83\u7528\u4e8e\u8bbe\u7f6e\u5355\u53f0\u6216\u591a\u53f0\u4e91\u670d\u52a1\u5668\u7684\u7f51\u7edc\u8bbf\u95ee\u63a7\u5236\uff0c\u53ef\u4ee5\u5c06\u540c\u4e00\u5730\u57df\u5185\u5177\u6709\u76f8\u540c\u7f51\u7edc\u5b89\u5168\u9694\u79bb\u9700\u6c42\u7684\u4e91\u670d\u52a1\u5668\u5b9e\u4f8b\u52a0\u5230\u540c\u4e00\u4e2a\u5b89\u5168\u7ec4\u5185\uff0c\u901a\u8fc7\u5b89\u5168\u7ec4\u7684\u7f51\u7edc\u7b56\u7565\u5bf9\u4e91\u670d\u52a1\u5668\u7684\u51fa\u5165\u6d41\u91cf\u8fdb\u884c\u5b89\u5168\u8fc7\u6ee4\u3002\u51fa\u4e8e\u5b89\u5168\u8003\u8651\uff0c\u817e\u8baf\u4e91\u670d\u52a1\u5668\u9ed8\u8ba4\u53ea\u5f00\u653e\u4e86 22 \u548c 3389 \u7aef\u53e3\uff0c\u5047\u8bbe\u5728\u8fd9\u53f0\u4e91\u670d\u52a1\u5668\u4e0a\u642d\u5efa\u7f51\u7ad9\uff0c\u5219\u9700\u8981 80 \u7aef\u53e3\uff0c\u5c31\u662f\u901a\u8fc7\u914d\u7f6e\u5b89\u5168\u7ec4\u89c4\u5219\u653e\u884c 80 \u7aef\u53e3\u6765\u5b9e\u73b0\u7684\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_15","title":"\u767b\u5f55\u65b9\u5f0f","text":"<p>\u5bc6\u7801\u662f\u6bcf\u53f0\u4e91\u670d\u52a1\u5668\u5b9e\u4f8b\u4e13\u6709\u7684\u767b\u5f55\u51ed\u636e\u3002\u4e3a\u4fdd\u8bc1\u5b9e\u4f8b\u7684\u5b89\u5168\u53ef\u9760\uff0c\u817e\u8baf\u4e91\u63d0\u4f9b\u4ee5\u4e0b\u4e24\u79cd\u52a0\u5bc6\u767b\u5f55\u65b9\u5f0f\uff1a</p> <p>SSH \u5bc6\u94a5\u5bf9\uff1a\u53ea\u9700\u5728\u63a7\u5236\u53f0\u548c\u672c\u5730\u5ba2\u6237\u7aef\u505a\u7b80\u5355\u914d\u7f6e\u5373\u53ef\u8fdc\u7a0b\u767b\u5f55\u5b9e\u4f8b\uff0c\u518d\u6b21\u767b\u5f55\u65f6\u65e0\u9700\u518d\u8f93\u5165\u5bc6\u7801\u3002\u6b64\u767b\u5f55\u65b9\u5f0f\u66f4\u4e3a\u5b89\u5168\u53ef\u9760\uff0c\u53ef\u4ee5\u675c\u7edd\u66b4\u529b\u7834\u89e3\u5a01\u80c1\u3002</p> <p>\u767b\u5f55\u5bc6\u7801\uff1a\u4efb\u4f55\u62e5\u6709\u5b9e\u4f8b\u767b\u5f55\u5bc6\u7801\u7684\u4eba\u90fd\u53ef\u4ee5\u901a\u8fc7\u88ab\u5b89\u5168\u7ec4\u5141\u8bb8\u7684\u516c\u7f51\u5730\u5740\u8fdc\u7a0b\u767b\u5f55\u4e91\u670d\u52a1\u5668\u5b9e\u4f8b\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#ip","title":"IP \u5730\u5740","text":"<p>\u817e\u8baf\u4e91\u63d0\u4f9b \u5185\u7f51 IP \u5730\u5740 \u548c \u516c\u7f51 IP \u5730\u5740\u3002\u7b80\u5355\u7406\u89e3\uff0c\u5185\u7f51 IP \u63d0\u4f9b\u5c40\u57df\u7f51\uff08LAN\uff09\u670d\u52a1\uff0c\u4e91\u670d\u52a1\u5668\u4e4b\u95f4\u4e92\u76f8\u8bbf\u95ee\u3002\u516c\u7f51 IP \u5728\u7528\u6237\u5728\u4e91\u670d\u52a1\u5668\u5b9e\u4f8b\u4e0a\u9700\u8981\u8bbf\u95ee Internet \u670d\u52a1\u65f6\u4f7f\u7528\u3002</p> <p>\u4ee5\u4e0a\u5c31\u662f\u5728\u9009\u62e9\u670d\u52a1\u5668\u65f6\u4e00\u4e9b\u6bd4\u8f83\u503c\u5f97\u6ce8\u610f\u7684\u53c2\u6570\u914d\u7f6e\uff0c\u5c0f\u4f19\u4f34\u4eec\u770b\u5230\u8fd9\u91cc\uff0c\u5c31\u53ef\u4ee5\u53bb\u9009\u62e9\u4e00\u53f0\u6ee1\u8db3\u81ea\u5df1\u9700\u6c42\uff0c\u9002\u5408\u81ea\u5df1\u7684\u670d\u52a1\u5668\u5566\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_16","title":"\u7cfb\u7edf\u955c\u50cf\u548c\u5e94\u7528\u955c\u50cf\u600e\u4e48\u9009\uff1f","text":"<p>\u7cfb\u7edf\u955c\u50cf\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u5e73\u65f6\u6240\u8bf4\u7684\u64cd\u4f5c\u7cfb\u7edf\u955c\u50cf\uff0c\u7cfb\u7edf\u955c\u50cf\u662f\u4e0d\u5305\u542b\u4efb\u4f55\u8f6f\u4ef6\u4ee5\u53ca\u63d2\u4ef6\u7684\u7eaf\u51c0\u7248\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002\u66f4\u591a\u7684\u4eba\u90fd\u4f1a\u9009\u62e9\u7cfb\u7edf\u955c\u50cf\uff0c\u56e0\u4e3a\u4e0d\u540c\u65b9\u5411\u7684\u4eba\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u5b89\u88c5\u81ea\u5df1\u6240\u9700\u8981\u7684\u670d\u52a1\u4ee5\u53ca\u8f6f\u4ef6\uff0c\u4f18\u70b9\u5c31\u662f\u7075\u6d3b\u6027\u6bd4\u8f83\u5f3a\u3002</p> <p>\u5e94\u7528\u955c\u50cf\uff0c\u7b80\u5355\u7406\u89e3\u5c31\u662f\u670d\u52a1\u5668\u5df2\u7ecf\u5e2e\u4f60\u9009\u62e9\u4e86\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5e76\u4e14\u5728\u64cd\u4f5c\u7cfb\u7edf\u7684\u57fa\u7840\u4e0a\u53c8\u989d\u5916\u5b89\u88c5\u4e86\u4e00\u4e9b\u73af\u5883\uff0c\u76f8\u5f53\u4e8e\u4e00\u6761\u9f99\u670d\u52a1\uff0c\u81ea\u5df1\u4e0d\u7528\u52a8\u624b\u53bb\u5b89\u88c5\u73af\u5883\uff0c\u53ef\u6839\u636e\u9009\u62e9\u4e0d\u540c\u7684\u5e94\u7528\u955c\u50cf\u642d\u5efa\u4e0d\u540c\u7684\u7f51\u7ad9\u7c7b\u578b\uff0c\u5e38\u89c1\u7684\u6709 WordPress\u3001LAMP\u3001Node.js \u7b49\u3002\u4f18\u70b9\u5c31\u662f\u76f8\u5bf9\u4e8e\u7cfb\u7edf\u955c\u50cf\u6765\u8bf4\uff0c\u64cd\u4f5c\u8d77\u6765\u6bd4\u8f83\u65b9\u4fbf\u3002</p> <p>\u770b\u5230\u8fd9\u91cc\uff0c\u76f8\u4fe1\u5404\u4f4d\u5c0f\u4f19\u4f34\u5728\u4e8e\u9009\u62e9\u955c\u50cf\u95ee\u9898\u4e0a\u5e94\u8be5\u77e5\u9053\u600e\u4e48\u9009\u4e86\u5427\uff0c\u6211\u521a\u5f00\u59cb\u4e00\u6b65\u76f4\u63a5\u5230\u4f4d\u9009\u62e9\u4e86\u7cfb\u7edf\u955c\u50cf\uff0c\u786e\u5b9e\u5230\u540e\u9762\u4e5f\u662f\u82b1\u8d39\u4e86\u597d\u591a\u7684\u65f6\u95f4\u624d\u6210\u529f\u642d\u5efa\u8d77\u7f51\u7ad9\u3002\u6240\u4ee5\u5bf9\u4e8e\u6ca1\u6709\u57fa\u7840\u7684\u5c0f\u4f19\u4f34\u6765\u8bf4\uff0c\u6211\u89c9\u5f97\u521a\u5f00\u59cb\u53ef\u4ee5\u9009\u62e9\u5e94\u7528\u955c\u50cf\uff0c\u8fd9\u79cd\u65b9\u5f0f\u64cd\u4f5c\u8d77\u6765\u4e5f\u76f8\u5bf9\u7b80\u5355\uff0c\u5982\u679c\u4e5f\u6709\u5c0f\u4f19\u4f34\u60f3\u9009\u62e9\u53ef\u73a9\u6027\u9ad8\u7684\u7cfb\u7edf\u955c\u50cf\uff0c\u90a3\u4e48\u6211\u63a8\u8350 Linux \u4e0b\u7684 CentOS \u955c\u50cf\uff0c\u7248\u672c\u8d8a\u9ad8\u8d8a\u597d\uff0c\u4f46\u9700\u8981\u4e00\u5b9a\u7684 Linux \u57fa\u7840\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_17","title":"\u767b\u5f55\u63a7\u5236\u53f0","text":"<p>\u5f53\u6211\u4eec\u9009\u597d\u81ea\u5df1\u7684\u914d\u7f6e\u5e76\u8d2d\u4e70\u670d\u52a1\u5668\u540e\uff0c\u5c31\u53ef\u4ee5\u8f6c\u5230\u81ea\u5df1\u7684\u63a7\u5236\u53f0\u9875\u9762\u67e5\u770b\u81ea\u5df1\u7684\u8d2d\u4e70\u7684\u670d\u52a1\u5668\uff0c\u5e76\u4e14\u518d\u6b21\u8bbe\u7f6e\u4e00\u4e9b\u53c2\u6570\uff0c\u6bd4\u5982\u5b89\u5168\u7ec4\uff0c\u91cd\u7f6e\u5bc6\u7801\u7b49\u7b49\u3002\u8d2d\u4e70\u6210\u529f\u4e4b\u540e\u9996\u6b21\u8bbf\u95ee\u516c\u7f51 IP \u662f\u6ca1\u6709\u54cd\u5e94\u7684\uff0c\u56e0\u4e3a\u9ed8\u8ba4\u6d4f\u89c8\u5668\u8bbf\u95ee\u7684\u662f 80 \u7aef\u53e3\uff0c\u800c\u4e00\u822c\u5728\u670d\u52a1\u5668\u8d2d\u4e70\u540e\u6ca1\u505a\u4efb\u4f55\u914d\u7f6e 80 \u7aef\u53e3\u662f\u6ca1\u6709\u88ab\u5360\u7528\u7684\u3002\u4f46\u662f\u5982\u679c\u9009\u62e9\u7684\u662f\u5e94\u7528\u955c\u50cf\u7684\u8bdd\uff0c\u5728\u8bbf\u95ee\u7684\u65f6\u5019\u4f1a\u6839\u636e\u81ea\u5df1\u9009\u62e9\u5e94\u7528\u955c\u50cf\u6700\u7ec8\u663e\u793a\u5bf9\u5e94\u7684\u9875\u9762</p> <p></p> <p>\u63a5\u4e0b\u6765\u6211\u6240\u8bb2\u7684\u5185\u5bb9\u4e3b\u8981\u4ee5 Linux \u4e0b\u7684 CentOS 8 \u955c\u50cf\u4e3a\u4e3b\uff0c\u56e0\u4e3a\u6211\u9009\u62e9\u7684\u662f\u7cfb\u7edf\u955c\u50cf\uff0c\u4f46\u8bb2\u5b8c\u7cfb\u7edf\u955c\u50cf\uff0c\u6211\u4e5f\u4f1a\u5bf9\u5e94\u7528\u955c\u50cf\u505a\u4e00\u4e9b\u6559\u7a0b\uff0c\u65b9\u4fbf\u4e0d\u540c\u5c0f\u4f19\u4f34\u4eec\u7684\u9700\u6c42\u3002</p> <p>\u8d2d\u4e70\u670d\u52a1\u5668\u6210\u529f\u4e4b\u540e\uff0c\u6709\u6761\u4ef6\u7684\u5c0f\u4f19\u4f34\u53ef\u4ee5\u53bb\u6ce8\u518c\u4e00\u4e2a\u5c5e\u4e8e\u81ea\u5df1\u7684\u57df\u540d\uff0c \u8d2d\u4e70\u57df\u540d\u540e\u5230\u76f8\u5e94\u7684\u754c\u9762\u8fdb\u884c\u5907\u6848\uff0c\u53ea\u6709\u5907\u6848\u6210\u529f\u540e\uff0c\u81ea\u5df1\u624d\u53ef\u4ee5\u901a\u8fc7\u57df\u540d\u6765\u8bbf\u95ee\u81ea\u5df1\u7684\u7f51\u7ad9\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5dee\u4e0d\u591a\u9700\u8981\u4e24\u4e09\u5929\u7684\u5ba1\u6838\u65f6\u95f4\u3002</p> <p>\u4e2a\u4eba\u5efa\u8bae\u5148\u628a\u81ea\u5df1\u7684\u7f51\u7ad9\u642d\u5efa\u51fa\u6765\u5728\u8003\u8651\u8d2d\u4e70\u57df\u540d\u548c\u5907\u6848\u8fd9\u4e9b\u64cd\u4f5c\uff0c\u8fd9\u6837\u6bd4\u8f83\u628a\u7a33\u4e00\u70b9\uff0c\u4e0d\u7136\u57df\u540d\u4e70\u4e86\uff0c\u5907\u6848\u5907\u4e86\uff0c\u81ea\u5df1\u7f51\u7ad9\u642d\u5efa\u4e0d\u51fa\u6765\uff0c\u90a3\u5c82\u4e0d\u662f\u767d\u642d\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_18","title":"\u8fde\u63a5\u670d\u52a1\u5668","text":"<p>\u63a5\u4e0b\u6765\u8981\u505a\u7684\u80af\u5b9a\u5c31\u662f\u8fde\u63a5\u670d\u52a1\u5668\u5566\uff0c\u6211\u6240\u77e5\u9053\u7684\u6709\u4e09\u79cd\u65b9\u5f0f\uff0c\u6548\u679c\u90fd\u5dee\u4e0d\u591a\uff0c\u770b\u4e2a\u4eba\u9009\u62e9\uff0c\u4f46\u63a8\u8350\u9009\u62e9\u4f7f\u7528\u8fdc\u7a0b\u8fde\u63a5\u8f6f\u4ef6\u8fde\u63a5\u3002\u6bd4\u5982 Xshell \u7b49\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#vnc","title":"\u4f7f\u7528\u7f51\u9875 VNC \u8bbf\u95ee\u670d\u52a1\u5668","text":"<p>\u5728\u63a7\u5236\u53f0\u9875\u9762\u4e0b\u70b9\u51fb\u81ea\u5df1\u8d2d\u4e70\u7684\u5b9e\u4f8b\uff0c\u53ef\u4ee5\u770b\u5230\u4f7f\u7528 VNC \u767b\u5f55\u7684\u65b9\u5f0f\u3002VNC \u670d\u52a1\u5bf9\u6d4f\u89c8\u5668\u6709\u4e00\u5b9a\u7684\u8981\u6c42\uff0c\u4f7f\u7528\u4e4b\u524d\u6ce8\u610f VNC \u9875\u9762\u7684\u63d0\u793a\u3002\u767b\u5f55\u4e4b\u524d\u8981\u786e\u4fdd\u81ea\u5df1\u7684\u5b9e\u4f8b\u6b63\u5728\u8fd0\u884c\uff0c\u4e0d\u7136\u662f\u6ca1\u529e\u6cd5\u8fde\u63a5\u4e0a\u7684\u3002</p> <p>\u5bf9\u4e8e linux \u7cfb\u7edf\uff0c\u5728 VNC \u7a97\u53e3 \u7684\u7684\u5bf9\u8bdd\u6846\u4e2d\uff0c\u5728 \u201clogin\u201d \u540e\u8f93\u5165\u7528\u6237\u540d\uff0c\u6309 Enter\u3002</p> <p>\u5bf9\u4e8e Windows \u64cd\u4f5c\u7cfb\u7edf\uff0c\u70b9\u51fb\u6309\u94ae\u201c\u53d1\u9001 Ctrl+Alt+Del\u201d\uff0c\u53d1\u9001 Ctrl+Alt+Del \u547d\u4ee4\u5230\u64cd\u4f5c\u7cfb\u7edf\u3002</p> <p>\u5728 \u201cPassword\u201d \u540e\u8f93\u5165\u5bc6\u7801\uff0c\u6309 Enter\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\u8f93\u5165\u7684\u5bc6\u7801\u9ed8\u8ba4\u662f\u4e0d\u663e\u793a\u7684\uff0c\u522b\u50cf\u6211\u50bb\u4e4e\u4e4e\u7684\uff0c\u8f93\u5165\u5bc6\u7801\u5149\u6807\u4e0d\u52a8\u8fd8\u4ee5\u4e3a\u662f\u81ea\u5df1\u952e\u76d8\u574f\u4e86\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_19","title":"\u4f7f\u7528\u8fdc\u7a0b\u8fde\u63a5\u8f6f\u4ef6","text":"<p>\u6b64\u65b9\u5f0f\u662f\u5927\u5bb6\u90fd\u6bd4\u8f83\u63a8\u8350\u7684\u65b9\u5f0f\uff0c\u539f\u56e0\u5f88\u7b80\u5355\uff0c\u65b9\u4fbf\uff0c\u7075\u6d3b\u6027\u9ad8\u3002\u8fd9\u91cc\u6211\u4f7f\u7528\u7684\u662f Xshell \u8fdc\u7a0b\u8fde\u63a5</p> <p>\u9996\u5148\u53bb\u5b98\u7f51\u4e0b\u8f7d Xshell\uff0c\u5b98\u7f51\u94fe\u63a5 Xmanager \u4e2d\u6587\u5b98\u7f51_Xshell,Xmanager,Xftp 7 \u4e0b\u8f7d\uff0c\u73b0\u5728 Xshell \u5df2\u7ecf\u66f4\u65b0\u5230 7 \u7248\u672c\uff0c\u5c0f\u4f19\u4f34\u4eec\u81ea\u884c\u4e0b\u8f7d\u5c31\u884c\u3002</p> <p>\u6253\u5f00\u8f6f\u4ef6\u540e\uff0c\u65b0\u5efa\u4e00\u4e2a\u4f1a\u8bdd\uff0c\u3010\u540d\u79f0\u3011\u9009\u9879\u81ea\u5df1\u53ef\u4ee5\u968f\u610f\u547d\u540d\uff0c\u4e0d\u5f71\u54cd\u3002\u3010\u4e3b\u673a\u3011\u9009\u9879\u586b\u5199\u81ea\u5df1\u7684\u516c\u7f51 IP \u5730\u5740\uff0c\u4e5f\u5c31\u662f\u81ea\u5df1\u670d\u52a1\u5668\u7684\u5730\u5740\uff0c\u5728\u63a7\u5236\u53f0\u53ef\u4ee5\u67e5\u770b\u81ea\u5df1\u7684\u670d\u52a1\u5668 IP \u5730\u5740\uff0c\u3010\u7aef\u53e3\u53f7\u3011\u9009\u9879\u9ed8\u8ba4\u662f 22 \u7aef\u53e3\uff0c\u4e0d\u7528\u4fee\u6539\u300222 \u7aef\u53e3\u5c31\u662f\u7528\u4e8e SSH \u8fdc\u7a0b\u8fde\u63a5\u7684\u7aef\u53e3\u3002\u5176\u4ed6\u9009\u9879\u4e0d\u7528\u9009\u62e9\uff0c\u76f4\u63a5\u70b9\u51fb\u3010\u8fde\u63a5\u3011\u6309\u94ae\u8fdb\u884c\u8fde\u63a5\u3002</p> <p>\u9996\u6b21\u8fde\u63a5\u53ef\u80fd\u4f1a\u8df3\u51fa\u4e00\u4e2a\u53eb\u4ec0\u4e48\u5bc6\u94a5\u914d\u5bf9\u7684\u7a97\u53e3\uff0c\u70b9\u51fb\u63a5\u53d7\u5c31\u53ef\u4ee5\u4e86\uff0c\u7136\u540e\u5c31\u662f\u8f93\u5165\u3010\u7528\u6237\u540d\u3011\u548c\u3010\u5bc6\u7801\u3011\uff0c\u786e\u5b9a\u540e\u5c31\u8fde\u63a5\u6210\u529f\u4e86\uff0c\u8fd9\u91cc\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u5c31\u662f\u5f53\u65f6\u8d2d\u4e70\u670d\u52a1\u5668\u8981\u586b\u5199\u7684\u670d\u52a1\u5668\u7528\u6237\u540d\u548c\u5bc6\u7801\u54df\u3002</p> <p></p> <p></p> <p></p> <p>\u663e\u5f0f\u8fd9\u4e2a\u9875\u9762\u5373\u8868\u793a\u8fde\u63a5\u6210\u529f\u4e86\u54df\uff0c\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u5bf9\u81ea\u5df1\u7684\u670d\u52a1\u5668\u8fdb\u884c\u4e00\u4e9b\u64cd\u4f5c\u4e86</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_20","title":"\u4f7f\u7528\u8fdc\u7a0b\u684c\u9762\u8fde\u63a5","text":"<p>\u8fd9\u4e5f\u662f\u7b2c\u4e09\u79cd\u8fdc\u7a0b\u8fde\u63a5\u670d\u52a1\u5668\u7684\u65b9\u5f0f\uff0c\u9002\u7528\u4e8e\u9009\u62e9\u4e86 Windows \u955c\u50cf\u7684\u7528\u6237\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528\u81ea\u5df1\u7535\u8111\u4e0a\u7684\u8fdc\u7a0b\u684c\u9762\u8fde\u63a5\u5230\u81ea\u5df1\u7684\u670d\u52a1\u5668\u3002</p> <p></p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#web","title":"\u4e0b\u8f7d\u670d\u52a1\u5668 Web \u670d\u52a1","text":"<p>\u8fde\u63a5\u4e0a\u81ea\u5df1\u7684\u670d\u52a1\u5668\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u5bf9\u81ea\u5df1\u7684\u670d\u52a1\u5668\u73af\u5883\u8fdb\u884c\u4e00\u4e9b\u914d\u7f6e\u4e86\uff0c\u60f3\u8981\u642d\u5efa\u7f51\u7ad9\uff0c\u80af\u5b9a\u5c11\u4e0d\u4e86\u7684\u5c31\u662f\u4f7f\u7528 Web \u670d\u52a1\u6765\u63d0\u4f9b\u7f51\u7ad9\u8bbf\u95ee\u80fd\u529b\uff0c\u5f53\u4e0b\u4e00\u4e9b\u6bd4\u8f83\u4e3b\u6d41\u7684 Web \u670d\u52a1\u6709\uff1aApache HTTP Server\u3001NGINX\u3001Apache Tomcat\u3001Node.js\u3001Lighttpd \u7b49\u3002\u8fd9\u91cc\u6211\u63a8\u8350\u7684\u4f7f\u7528\u7684\u662f Nginx\uff0c\u5982\u679c\u6709\u5c0f\u4f19\u4f34\u4e0d\u4e86\u89e3\u8fd9\u4e9b\u662f\u4ec0\u4e48\u4e1c\u897f\uff0c\u8bb0\u5f97\u5148\u53bb\u67e5\u9605\u4e0b\u8d44\u6599\u54df\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#nginx","title":"Nginx","text":"<p>Nginx \u53ef\u4ee5\u4f5c\u4e3a\u9759\u6001\u9875\u9762\u7684 web \u670d\u52a1\u5668\uff0c\u540c\u65f6\u8fd8\u652f\u6301 CGI \u534f\u8bae\u7684\u52a8\u6001\u8bed\u8a00\uff0c\u6bd4\u5982 perl\u3001php \u7b49\u3002\u4f46\u662f\u4e0d\u652f\u6301 java\u3002Java \u7a0b\u5e8f\u53ea\u80fd\u901a\u8fc7\u4e0e tomcat \u914d\u5408\u5b8c\u6210\u3002Nginx \u4e13\u4e3a\u6027\u80fd\u4f18\u5316\u800c\u5f00\u53d1\uff0c \u6027\u80fd\u662f\u5176\u6700\u91cd\u8981\u7684\u8003\u91cf,\u5b9e\u73b0\u4e0a\u975e\u5e38\u6ce8\u91cd\u6548\u7387 \uff0c\u80fd\u7ecf\u53d7\u9ad8\u8d1f\u8f7d\u7684\u8003\u9a8c,\u6709\u62a5\u544a\u8868\u660e\u80fd\u652f\u6301\u9ad8 \u8fbe 50,000 \u4e2a\u5e76\u53d1\u8fde\u63a5\u6570\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u5148\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u7528\u4e8e\u4fdd\u5b58\u540e\u9762\u81ea\u5df1\u8981\u4e0a\u4f20\u7684\u9879\u76ee</p> <p>\u63a5\u4e0b\u6765\uff0c\u67e5\u770b\u81ea\u5df1\u7684\u7aef\u53e3\u5360\u7528\u60c5\u51b5\uff0c\u4e0a\u9762\u6211\u5c31\u63d0\u5230\u4e86\uff0c\u670d\u52a1\u5668\u521d\u59cb\u5316\u72b6\u6001\u4e0b 80 \u7aef\u53e3\u662f\u672a\u88ab\u5360\u7528\u7684</p> <pre><code>mkdir web\nnetstat -ntlp\n</code></pre> <p>\u5728 Linux \u73af\u5883\u4e0b\u4e0b\u8f7d Nginx \u975e\u5e38\u7684\u7b80\u5355\uff0cLinux \u63d0\u4f9b\u4e86\u5f88\u591a\u5305\u7ba1\u7406\u5de5\u5177\uff0c\u6240\u4ee5\u76f4\u63a5\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff0c\u6572\u4e0b\u56de\u8f66\u5c31\u53ef\u4ee5\u4e0b\u8f7d Nginx</p> <pre><code>yum install nginx\n</code></pre> <p>\u4e0b\u8f7d\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e00\u4e0b\u754c\u9762\uff0c\u76f4\u63a5\u9009 y\uff0c\u4e00\u8def\u4e0b\u8f7d</p> <p>\u4e0b\u8f7d\u5b8c\u6210\u4e4b\u540e\uff0c\u6211\u4eec\u8f93\u5165 nginx \u6765\u542f\u52a8\u670d\u52a1\uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u518d\u6765\u67e5\u770b\u7aef\u53e3\u5360\u7528\u60c5\u51b5\u5c31\u53ef\u4ee5\u53d1\u73b0 80 \u7aef\u53e3\u5df2\u7ecf\u88ab nginx \u5360\u7528\u4e86</p> <p></p> <p>\u7136\u540e\u76f4\u63a5\u8bbf\u95ee\u81ea\u5df1\u670d\u52a1\u5668 IP \u5730\u5740\uff0c\u51fa\u73b0\u5982\u4e0b\u754c\u9762\u5c31\u4ee3\u8868 Nginx \u5b89\u88c5\u5e76\u8fd0\u884c\u6210\u529f\u4e86</p> <p>\u5982\u679c\u5b89\u88c5\u5b8c\u6210\u4e4b\u540e\uff0c\u8bbf\u95ee\u670d\u52a1\u5668 IP \u5730\u5740\u4e0d\u6210\u529f\uff0c\u53ef\u80fd\u5b58\u5728\u4e24\u4e2a\u95ee\u9898\uff0c80 \u7aef\u53e3\u88ab\u5176\u4ed6\u670d\u52a1\u5360\u7528\u6216\u8005 Nginx \u4e0b\u8f7d\u6587\u4ef6\u4e22\u5931\u6216\u4e0b\u8f7d\u4e0d\u6210\u529f\u3002\u5982\u679c 80 \u7aef\u53e3\u88ab\u5176\u4ed6\u7a0b\u5e8f\u5360\u7528\uff0c\u5219\u6e05\u7a7a 80 \u7aef\u53e3\u6216\u8005\u8bbe\u7f6e 80 \u7aef\u53e3\u5360\u7528\u670d\u52a1\u4e3a Nginx \u5373\u53ef\u3002\u5982\u679c\u51fa\u73b0 Nginx \u4e0b\u8f7d\u5931\u8d25\u6216\u8005\u4e0b\u8f7d\u6587\u4ef6\u7f3a\u5931\u635f\u6bc1\uff0c\u5219\u5378\u8f7d Nginx \u518d\u6b21\u91cd\u65b0\u5b89\u88c5\u5c31\u884c\u4e86\u3002</p> <p>\u5378\u8f7d Nginx \u547d\u4ee4\uff1a</p> <pre><code>yum remove nginx\n</code></pre>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_21","title":"\u4e0a\u4f20\u7f51\u9875\u9879\u76ee","text":"<p>\u5b8c\u6210\u4e0a\u8ff0\u64cd\u4f5c\u4e4b\u540e\uff0c\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u628a\u81ea\u5df1\u7684\u9879\u76ee\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u5566\uff0c\u90a3\u5982\u4f55\u4e0a\u4f20\u5462\uff0c\u8fd9\u91cc\u4ecb\u7ecd\u4e24\u79cd\u65b9\u5f0f</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#nginx_1","title":"\u76f4\u63a5\u66ff\u6362 Nginx \u9ed8\u8ba4\u9875\u9762","text":"<p>\u627e\u5230 Nginx \u9ed8\u8ba4\u663e\u793a\u9875\u9762\uff0c\u5220\u9664 nginx \u9ed8\u8ba4\u663e\u793a\u9875\u9762</p> <pre><code>cd /usr/share/nginx/html\nrm -rf index.html\n</code></pre> <p>\u5c06\u81ea\u5df1\u7684\u7f51\u9875\u76f4\u63a5\u62d6\u62fd\u8fdb\u76ee\u5f55\u4e0b\u5373\u53ef\uff0c\u7136\u540e\u67e5\u770b\u662f\u5426\u6210\u529f\u3002\u5168\u9009\u6587\u4ef6\uff0c\u76f4\u63a5\u62d6\u62fd</p> <p>\u67e5\u770b\u662f\u5426\u5b58\u5728\u6587\u4ef6</p> <p>\u5230\u8fd9\u4e00\u6b65\uff0c\u54b1\u4eec\u5c31\u7b80\u5355\u5b9e\u73b0\u4e86\u4e00\u4e2a\u9759\u6001\u9875\u9762\u4e0a\u4f20\u670d\u52a1\u5668\u4e86\uff0c\u73b0\u5728\u76f4\u63a5\u8bbf\u95ee\u670d\u52a1\u5668 IP \u5730\u5740\uff0c\u5c31\u53ef\u4ee5\u770b\u89c1\u81ea\u5df1\u7684\u7f51\u9875\u5566\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#nginx_2","title":"\u4fee\u6539 Nginx \u914d\u7f6e\u6587\u4ef6","text":"<p>\u7b2c\u4e00\u79cd\u505a\u6cd5\u5462\u6bd4\u8f83\u9ebb\u70e6\uff0c\u4e07\u4e00\u8981\u662f\u6587\u4ef6\u5939\u5220\u9519\u4e86\uff0c\u90a3\u53ef\u4e0d\u5c31\u5e9f\u4e86\u3002\u6240\u4ee5\uff0c\u6211\u6bd4\u8f83\u63a8\u8350\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u3002</p> <p>\u9996\u5148\u4e0b\u8f7d Xshell \u914d\u5957\u7684\u6587\u4ef6\u4f20\u8f93\u8f6f\u4ef6 Xftp 7\uff08\u8fdc\u7a0b\u6587\u4ef6\u4f20\u8f93\u7684\u8f6f\u4ef6\u6709\u5f88\u591a\uff0c\u4e0d\u4e00\u5b9a\u975e\u8981\u4f7f\u7528\u8fd9\u4e2a\uff0c\u53ef\u6839\u636e\u81ea\u5df1\u9009\u62e9\uff09\uff0c\u8fde\u63a5\u4e0a\u81ea\u5df1\u7684\u670d\u52a1\u5668\uff0c\u8fde\u63a5\u65b9\u5f0f\u548c Xshell 7 \u4e00\u6837\u3002\u4e0a\u9762\u8bf4\u9053\u6211\u65b0\u5efa\u4e86\u4e00\u4e2a web \u6587\u4ef6\u5939\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u628a\u6587\u4ef6\u4e0a\u4f20\u5230\u8fd9\u4e2a Web \u6587\u4ef6\u5939\u4e0b\u3002</p> <p>\u63a5\u7740\u627e\u5230 Nginx \u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u4fee\u6539\u9ed8\u8ba4\u914d\u7f6e\uff0c\u6307\u5411\u81ea\u5df1\u521b\u5efa\u7684\u6587\u4ef6\u5939\u4e0b\u7684 html \u6587\u4ef6\u5373\u53ef\u3002</p> <p>\u6253\u5f00 Nginx \u6587\u4ef6\u5939\uff0c\u4fee\u6539 nginx \u9ed8\u8ba4\u7684\u914d\u7f6e\u2014\u2014\u9700\u8981\u67e5 nginx \u7684\u914d\u7f6e</p> <pre><code>cd /etc/nginx\nvim nginx.conf\n</code></pre> <p></p> <p>\u518d\u6b21\u91cd\u542f nginx \u670d\u52a1\uff0c\u7136\u540e\u8bbf\u95ee\u670d\u52a1\u5668 IP \u5730\u5740\uff0c\u4e5f\u80fd\u770b\u5230\u81ea\u5df1\u7684\u7f51\u9875\u5566\u3002</p> <p>\u5230\u6b64\uff0c\u7b80\u5355\u7684\u9759\u6001\u9875\u9762\u7f51\u7ad9\u5c31\u642d\u5efa\u6210\u529f\u5566\uff0c\u81f3\u4e8e\u600e\u4e48\u642d\u5efa\u52a8\u6001\u7f51\u7ad9\uff0c\u914d\u7f6e\u6570\u636e\u5e93\uff0c\u540e\u7aef\uff0c\u7b49\u7b49\u4e00\u4e9b\u64cd\u4f5c\uff0c\u6211\u8fd8\u6b63\u5728\u6478\u7d22\u3002\u90a3\u6709\u6ca1\u6709\u66f4\u7b80\u5355\u7684\u65b9\u5f0f\u5462\uff0c\u5f53\u7136\u6709\uff0c\u63a5\u4e0b\u6765\u6211\u5c31\u8bb2\u8bb2\u5b9d\u5854\u9762\u677f\u7684\u4f7f\u7528\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#linux","title":"\u5b9d\u5854 linux \u63a7\u5236\u9762\u677f","text":"<p>\u5b9d\u5854\u9762\u677f\u662f\u4e00\u6b3e\u670d\u52a1\u5668\u7ba1\u7406\u8f6f\u4ef6\uff0c\u652f\u6301 windows \u548c linux \u7cfb\u7edf\uff0c\u53ef\u4ee5\u901a\u8fc7 Web \u7aef\u8f7b\u677e\u7ba1\u7406\u670d\u52a1\u5668\uff0c\u63d0\u5347\u8fd0\u7ef4\u6548\u7387\u3002\u4f8b\u5982\uff1a\u521b\u5efa\u7ba1\u7406\u7f51\u7ad9\u3001FTP\u3001\u6570\u636e\u5e93\uff0c\u62e5\u6709\u53ef\u89c6\u5316\u6587\u4ef6\u7ba1\u7406\u5668\uff0c\u53ef\u89c6\u5316\u8f6f\u4ef6\u7ba1\u7406\u5668\uff0c\u53ef\u89c6\u5316 CPU\u3001\u5185\u5b58\u3001\u6d41\u91cf\u76d1\u63a7\u56fe\u8868\uff0c\u8ba1\u5212\u4efb\u52a1\u7b49\u529f\u80fd\u3002</p> <p>\u5b9d\u5854\u9762\u677f\u5206\u4e3a Windows \u7248\u672c\u548c Linux \u7248\u672c\uff0c\u6211\u4e3b\u8981\u4ecb\u7ecd\u7684\u662f Linux \u7248\u7684\u5b9d\u5854\u9762\u677f\u600e\u4e48\u4e0b\u8f7d\u548c\u4f7f\u7528\uff0cWindows \u7248\u672c\u5176\u5b9e\u76f8\u5dee\u65e0\u51e0\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_22","title":"\u4e0b\u8f7d","text":"<p>\u5728\u4e0b\u8f7d\u4e4b\u524d\uff0c\u53ef\u5148\u8fdb\u5165\u5b9d\u5854\u9762\u677f\u5b98\u7f51\uff0c\u6ce8\u518c\u4e00\u4e2a\u5b9d\u5854\u8d26\u6237\uff0c\u540e\u6587\u670d\u52a1\u5668\u7ed1\u5b9a\u65f6\u9700\u8981\u5b9d\u5854\u8d26\u6237\u3002\u5728 Linux \u7cfb\u7edf\u4e2d\uff0c\u4f7f\u7528\u4e00\u884c\u547d\u4ee4\u5c31\u53ef\u4ee5\u4e0b\u8f7d\u5b9d\u5854\u9762\u677f\u3002</p> <p>\u56e0\u4e3a\u6211\u7684\u670d\u52a1\u5668\u662f Centos \u7248\u672c\uff0c\u6240\u4ee5\uff0c\u76f4\u63a5\u5728 Xshell \u4e2d\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh ed8484bec\n</code></pre> <p>\u4e0b\u8f7d\u5b8c\u6210\u4e4b\u540e\uff0c\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u754c\u9762\uff0c\u5305\u542b\u8bbf\u95ee\u9762\u677f IP \u5730\u5740\uff0c\u767b\u5f55\u5b9d\u5854\u9762\u677f\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u6700\u597d\u622a\u56fe\u4fdd\u5b58\u4e00\u4e0b\uff0c\u4ee5\u4fbf\u540e\u7eed\u767b\u5f55\u3002</p> <p>\u5728\u6d4f\u89c8\u5668\u8bbf\u95ee\u5b9d\u5854\u9762\u677f\uff0c\u8f93\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u7b2c\u4e00\u6b21\u767b\u5f55\u8981\u7ed1\u5b9a\u81ea\u5df1\u7684\u5b9d\u5854\u8d26\u6237\uff0c\u7ed1\u5b9a\u4e4b\u540e\u51fa\u73b0\u4ee5\u4e0b\u754c\u9762</p> <p>\u9009\u62e9\u4e00\u952e\u5b89\u88c5\u540e\uff0c\u5728\u9762\u677f\u7684\u5de6\u4e0a\u89d2\uff0c\u4f1a\u81ea\u52a8\u663e\u793a\u4efb\u52a1\u7684\u6570\u91cf\uff0c\u70b9\u51fb\u540e\u8fdb\u5165\u4efb\u52a1\u5217\u8868\u3002\u5728\u5f53\u524d\u754c\u9762\u4f1a\u663e\u793a\u7a0b\u5e8f\u7684\u5b89\u88c5\u8fdb\u5ea6\uff0c\u6216\u7a0b\u5e8f\u6267\u884c\u8fdb\u5ea6\u7b49\u3002\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u67e5\u770b\u4efb\u52a1\u5217\u8868\u4e2d\u7684\u4fe1\u606f\uff0c\u67e5\u770b\u662f\u5426\u5b8c\u6210\u3002</p> <p>\u7b49\u5f85\u5b89\u88c5\u7684\u8fc7\u7a0b\u4e2d\uff0c\u81ea\u5df1\u53ef\u4ee5\u4e86\u89e3\u9762\u677f\u7684\u5404\u6a21\u5757</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_23","title":"\u521b\u5efa\u7ad9\u70b9","text":"<p>\u670d\u52a1\u4e0b\u8f7d\u5b8c\u6210\u4e4b\u540e\uff0c\u70b9\u51fb\u5de6\u4fa7\u7f51\u7ad9\u4e00\u680f\uff0c\u521b\u5efa\u65b0\u7684\u7ad9\u70b9</p> <p>\u3010\u57df\u540d\u3011\uff1a\u586b\u5199\u9700\u8981\u7ed1\u5b9a\u7684\u57df\u540d\u4ee5\u53ca\u7aef\u53e3\u3002\u6ca1\u6709\u57df\u540d\u53ef\u586b\u5199\u670d\u52a1\u5668 IP \u5730\u5740</p> <p>\u3010\u6839\u76ee\u5f55\u3011\uff1a\u5f53\u524d\u7ad9\u70b9\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u53ef\u4ee5\u81ea\u5df1\u9009\u62e9\u521b\u5efa\u70b9\uff0c\u5c3d\u91cf\u4f7f\u7528\u9ed8\u8ba4\u8def\u5f84\uff08www/wwwroot\uff09\u65b9\u4fbf\u7ba1\u7406\u3002</p> <p>\u521b\u5efa\u7ad9\u70b9\u6210\u529f\u540e\uff0c\u8fdb\u5165\u76ee\u5f55\u4e0b\uff0c\u5220\u9664\u9ed8\u8ba4\u7f51\u9875\u6587\u4ef6\uff0c\u4e0a\u4f20\u81ea\u5df1\u7684\u7f51\u7ad9\u6587\u4ef6\uff0c\u7136\u540e\u8bbf\u95ee\u670d\u52a1\u5668 IP \u5730\u5740\u5c31\u80fd\u770b\u89c1\u81ea\u5df1\u7684\u7f51\u7ad9\u5566\uff0c\u5230\u8fd9\u91cc\uff0c\u7f51\u7ad9\u5efa\u7ad9\u5c31\u6210\u529f\u4e86</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_24","title":"\u5e38\u89c1\u95ee\u9898","text":""},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_25","title":"\u5efa\u7ad9\u5931\u8d25\u62a5\u9519","text":"<p>\u6709\u65f6\u5019\u767b\u5f55\u5230\u5b9d\u5854\u9762\u677f\u60f3\u8981\u65b0\u5efa\u4e00\u4e2a\u7ad9\u70b9\u65f6\uff0c\u4f1a\u51fa\u73b0\u5efa\u7ad9\u5931\u8d25\u7684\u62a5\u9519\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u8003\u8651 Nginx \u914d\u7f6e\u6587\u4ef6\u6709\u95ee\u9898\uff0c\u53ef\u91cd\u65b0\u4e0b\u8f7d Nginx\uff0c\u5e76\u91cd\u65b0\u914d\u7f6e Nginx \u914d\u7f6e\u6587\u4ef6</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_26","title":"\u5b9d\u5854\u9762\u677f\u8fde\u63a5\u4e0d\u4e0a\u4e91\u670d\u52a1\u5668","text":"<p>\u8fd9\u4e2a\u62a5\u9519\u6211\u9047\u5230\u8fc7\u4e00\u6b21\uff0c\u767b\u5f55\u4e0a\u9762\u677f\u540e\u4e00\u76f4\u5f39\u7a97\u8bf4\u8fde\u63a5\u4e0d\u4e0a\u4e91\u670d\u52a1\u5668\uff0c\u540e\u6765\u767e\u5ea6\u5404\u79cd\u89e3\u51b3\u65b9\u6848\uff0c\u611f\u89c9\u6bd4\u8f83\u9760\u8c31\u7684\u5c31\u662f\u91cd\u65b0\u4e0b\u8f7d\u9762\u677f\uff0c\u4f46\u4e5f\u6709\u53ef\u80fd\u662f\u7aef\u53e3\u5360\u7528\u95ee\u9898\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_27","title":"\u7aef\u53e3\u672a\u653e\u884c","text":"<p>\u4ee5\u4e0b\u4e91\u670d\u52a1\u5546\uff0c\u5b89\u88c5\u5b9d\u5854\u540e\u9700\u5f00\u7aef\u53e3\uff0c\u4e0d\u5f00\u542f\u5c06\u65e0\u6cd5\u4f7f\u7528\u3002</p> <p>\u817e\u8baf\u4e91\uff1ahttps://www.bt.cn/bbs/thread-1229-1-1.html \u963f\u91cc\u4e91\uff1ahttps://www.bt.cn/bbs/thread-2897-1-1.html \u534e\u4e3a\u4e91\uff1ahttps://www.bt.cn/bbs/thread-3923-1-1.html</p> <p>\u66f4\u591a\u8be6\u60c5\uff0c\u8bf7\u67e5\u770b\u3010\u5b9d\u5854\u624b\u518c\u3011\u5e8f\u8a00 \u00b7 \u5b9d\u5854\u9762\u677f\u624b\u518c \u00b7 \u770b\u4e91</p> <p>\u5176\u5b9e\u8bb2\u5230\u5b9d\u5854\u9762\u677f\uff0c\u4e5f\u6d89\u53ca\u5e94\u7528\u955c\u50cf\u8fd9\u4e00\u5757\u4e86\uff0c\u5982\u679c\u5728\u9009\u62e9\u670d\u52a1\u5668\u914d\u7f6e\u9009\u62e9\u4e86\u5e94\u7528\u955c\u50cf\uff0c\u90a3\u4e48\u9996\u6b21\u8bbf\u95ee\u670d\u52a1\u5668 IP \u5c31\u4f1a\u51fa\u73b0\u5bf9\u5e94\u5e94\u7528\u955c\u50cf\u7684\u9ed8\u8ba4\u9875\u9762\uff0c\u5bf9\u5e94\u7684\uff0c\u5728\u63a7\u5236\u53f0\u9875\u9762\u4e5f\u4f1a\u7ed9\u51fa\u767b\u5f55\u5404\u5e94\u7528\u7684\u63a7\u5236\u9762\u677f\uff0c\u53ef\u81ea\u884c\u6839\u636e\u9700\u6c42\u64cd\u4f5c\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_28","title":"\u5e38\u89c1\u7684\u5e94\u7528\u955c\u50cf\u8bf4\u660e","text":"<p>wordpress\uff1a\u662f\u5168\u7403\u6700\u5e94\u7528\u8303\u56f4\u6700\u5e7f\u7684\u5f00\u6e90\u7684\u4e2a\u4eba\u535a\u5ba2\u7cfb\u7edf\uff0c\u5e76\u9010\u6b65\u6f14\u5316\u6210\u4e00\u6b3e\u5185\u5bb9\u7ba1\u7406\u7cfb\u7edf\u8f6f\u4ef6\uff0c\u5177\u5907\u4f7f\u7528\u7b80\u5355\u3001\u529f\u80fd\u5f3a\u5927\u3001\u7075\u6d3b\u53ef\u6269\u5c55\u7684\u7279\u70b9\uff0c\u63d0\u4f9b\u4e30\u5bcc\u7684\u4e3b\u9898\u63d2\u4ef6\uff0c\u8be5\u955c\u50cf\u8fd8\u9884\u88c5\u4e86 Nginx\u3001php\u3001Mysql \u6570\u636e\u5e93\uff0c\u57fa\u4e8e Centos8.2 \u64cd\u4f5c\u7cfb\u7edf</p> <p>node.js\uff1aNode.js \u662f\u4e00\u4e2a\u57fa\u4e8e\u662f\u4e00\u4e2a\u57fa\u4e8e Chrome V8 \u5f15\u64ce\u7684 JavaScript \u8fd0\u884c\u73af\u5883\uff0c \u7528\u4e8e\u65b9\u4fbf\u5730\u642d\u5efa\u54cd\u5e94\u901f\u5ea6\u5feb\u3001\u6613\u4e8e\u6269\u5c55\u7684\u7f51\u7edc\u5e94\u7528\u3002\u8be5\u955c\u50cf\u57fa\u4e8e centos7.9 \u64cd\u4f5c\u7cfb\u7edf\uff0c\u9884\u88c5\u4e86 Mysql\u3002</p> <p>asp.net\uff1aASP.NET \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u670d\u52a1\u7aef Web \u5e94\u7528\u7a0b\u5e8f\u6846\u67b6\uff0c\u7528\u4e8e\u6784\u5efa\u52a8\u6001\u7f51\u9875\u3001\u5e94\u7528\u548c\u670d\u52a1\u3002\u8be5\u955c\u50cf\u4e2d\u5185\u7f6e MySQL 8.0.19 \u6570\u636e\u5e93\uff0c\u57fa\u4e8e Windows Server 2012 R2 \u64cd\u4f5c\u7cfb\u7edf\u3002 LNMP \u73af\u5883</p> <p>LNMP \u73af\u5883\uff1a\u4ee3\u8868 Linux \u7cfb\u7edf\u4e0b Nginx + MySQL/MariaDB + PHP \u7ec4\u6210\u7684\u7f51\u7ad9\u670d\u52a1\u5668\u67b6\u6784\u3002</p> <p>LAMP \u73af\u5883\uff1aLAMP \u73af\u5883\u4ee3\u8868 Linux \u7cfb\u7edf\u4e0b Apache + MySQL/MariaDB + PHP \u7ec4\u6210\u7684\u7f51\u7ad9\u670d\u52a1\u5668\u67b6\u6784\u3002 \u5404\u5382\u5546\u7684\u5e94\u7528\u955c\u50cf\u63cf\u8ff0\u4e0d\u4e00\u6837\uff0c\u53ef\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u9009\u62e9\u5bf9\u5e94\u7684\u5e94\u7528\u955c\u50cf\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_29","title":"\u8fde\u63a5\u670d\u52a1\u5668\u5e38\u89c1\u95ee\u9898","text":""},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_30","title":"\u62d2\u7edd\u8fdc\u7a0b\u8fde\u63a5","text":"<p>\u6709\u65f6\u5019\u4f7f\u7528 Xshell \u8fdc\u7a0b\u8fde\u63a5\u670d\u52a1\u5668\u4f1a\u51fa\u73b0\u62d2\u7edd\u8fde\u63a5\u8fd9\u79cd\u60c5\u51b5\uff0c\u4e00\u822c\u5c31\u662f SSH \u8fde\u63a5\u7aef\u53e3\u6ca1\u6709\u5f00\u542f\uff0c\u53ef\u5728\u63a7\u5236\u53f0\u5b89\u5168\u7ec4\u8bbe\u7f6e\u8bbf\u95ee\u89c4\u5219\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_31","title":"\u9879\u76ee\u53d1\u5e03\u5e38\u89c1\u95ee\u9898","text":""},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#nganix","title":"\u9875\u9762\u505c\u7559\u5728 Nganix \u9ed8\u8ba4\u9875","text":"<p>\u8fd9\u4e2a\u95ee\u9898\u5176\u5b9e\u548c\u4e0a\u9762\u7684\u5dee\u4e0d\u591a\uff0c\u5c31\u662f\u4fee\u6539 Nginx \u914d\u7f6e\u6587\u4ef6\u53ef\u80fd\u672a\u751f\u6548\uff0c\u91cd\u65b0\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u5e76\u4fdd\u5b58\u9000\u51fa\uff0c\u7136\u540e\u91cd\u542f Nginx \u670d\u52a1\uff0c\u91cd\u542f\u670d\u52a1\u5668\u5373\u53ef</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_32","title":"\u56fe\u7247\u52a0\u8f7d\u4e0d\u51fa\u6765","text":"<p>\u8fd9\u79cd\u60c5\u51b5\u6211\u642d\u5efa\u7f51\u7ad9\u7684\u65f6\u5019\u9047\u5230\u8fc7\uff0c\u8bf4\u6765\u60ed\u6127\uff0c\u6211\u6709\u4e9b\u9759\u6001\u8d44\u6e90\u662f\u4ee5\u4e2d\u6587\u547d\u540d\u7684\uff0c\u6bd4\u5982\u6709\u4e9b\u56fe\u7247\uff0c\u540e\u6765\u6211\u628a\u56fe\u7247\u91cd\u547d\u540d\u540e\u5c31\u52a0\u8f7d\u5f97\u51fa\u6765\u5566\u3002\u8fd8\u6709\u53ef\u80fd\u5c31\u662f\u81ea\u5df1\u7684\u8def\u5f84\u4e0d\u5bf9\uff0c\u6539\u4e0b\u8def\u5f84\u5c31 OK \u4e86\u3002</p>"},{"location":"server/%E4%BB%8E%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E6%95%99%E7%A8%8B/#_33","title":"\u603b\u7ed3","text":"<p>\u4ee5\u4e0a\u5c31\u662f\u6211\u5728\u8d2d\u4e70\u670d\u52a1\u671f\u540e\u81ea\u5df1\u642d\u5efa\u7f51\u7ad9\u7684\u4e00\u4e9b\u7ecf\u9a8c\u548c\u603b\u7ed3\uff0c\u5199\u8fd9\u7bc7\u6587\u7ae0\u7684\u76ee\u7684\u4e5f\u662f\u4e3a\u4e86\u80fd\u591f\u5e2e\u52a9\u5c0f\u4f19\u4f34\u4eec\u5728\u8d2d\u4e70\u670d\u52a1\u5668\u4ee5\u53ca\u642d\u5efa\u7f51\u7ad9\u7684\u65f6\u5019\u4e0d\u90a3\u4e48\u8d39\u529b\uff0c\u5c11\u8d70\u70b9\u5f2f\u8def\u3002\u540c\u6837\uff0c\u8fd9\u4e5f\u662f\u6211\u7b2c\u4e00\u6b21\u5c1d\u8bd5\u628a\u81ea\u5df1\u7684\u7f51\u9875\u653e\u5230\u670d\u52a1\u5668\u4e0a\uff0c\u5e76\u4e14\u80fd\u591f\u6210\u529f\u8bbf\u95ee\uff0c\u4e4b\u524d\u4e5f\u6ca1\u63a5\u89e6\u8fc7\u5230\u670d\u52a1\u5668\u6709\u5173\u7684\u77e5\u8bc6\u548c\u64cd\u4f5c\uff0c\u6240\u4ee5\u5728\u8fd9\u6bb5\u8def\u4e0a\u6211\u5c1d\u8bd5\u4e86\u5f88\u591a\u6b21\uff0c\u4e5f\u5931\u8d25\u4e86\u5f88\u591a\u6b21\uff0c\u9047\u5230\u8fc7\u5f88\u591a\u5404\u79cd\u5404\u6837\u7684\u95ee\u9898\uff0c\u7ecf\u8fc7\u591a\u65b9\u9762\u7684\u4e0d\u65ad\u501f\u9274\u4ee5\u53ca\u53c2\u8003\uff0c\u7ec8\u4e8e\u6210\u529f\u5728\u670d\u52a1\u5668\u4e0a\u8bbf\u95ee\u5230\u4e86\u81ea\u5df1\u7684\u7f51\u9875\u3002</p> <p>\u6240\u4ee5\uff0c\u5e0c\u671b\u8fd9\u7bc7\u6587\u7ae0\u80fd\u591f\u5e2e\u52a9\u5230\u60f3\u8981\u5c1d\u8bd5\u8d2d\u4e70\u670d\u52a1\u5668\u53d1\u5e03\u81ea\u5df1\u9879\u76ee\u7684\u5c0f\u4f19\u4f34\u4eec\uff0c\u5927\u4f6c\u8bf7\u7ed5\u8def\uff0c\u54c8\u54c8\uff0c\u5f88\u591a\u5730\u65b9\u6211\u4e5f\u662f\u73b0\u5b66\u73b0\u603b\u7ed3\uff0c\u5438\u6536\u4e86\u5f88\u591a\u7ecf\u9a8c\uff0c\u5bf9\u670d\u52a1\u5668\u7684\u4e86\u89e3\u4ee5\u53ca\u64cd\u4f5c\u4e5f\u4e0d\u662f\u90a3\u4e48\u7684\u719f\u7ec3\u3002</p>"},{"location":"server/%E5%88%86%E5%B8%83%E5%BC%8F%E5%92%8C%E9%9B%86%E7%BE%A4/","title":"\u5206\u5e03\u5f0f\u3001\u96c6\u7fa4\u3001\u5fae\u670d\u52a1\u3001SOA \u4e4b\u95f4\u7684\u533a\u522b","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6125  \u9605\u8bfb13\u5206\u949f</p>"},{"location":"server/%E5%88%86%E5%B8%83%E5%BC%8F%E5%92%8C%E9%9B%86%E7%BE%A4/#1","title":"\u56de\u7b54 1","text":"<p>\u5206\u5e03\u5f0f\uff1a\u4e0d\u540c\u6a21\u5757\u90e8\u7f72\u5728\u4e0d\u540c\u670d\u52a1\u5668\u4e0a \u4f5c\u7528\uff1a\u5206\u5e03\u5f0f\u89e3\u51b3\u7f51\u7ad9\u9ad8\u5e76\u53d1\u5e26\u6765\u95ee\u9898</p> <p>\u96c6\u7fa4\uff1a\u591a\u53f0\u670d\u52a1\u5668\u90e8\u7f72\u76f8\u540c\u5e94\u7528\u6784\u6210\u4e00\u4e2a\u96c6\u7fa4 \u4f5c\u7528\uff1a\u901a\u8fc7\u8d1f\u8f7d\u5747\u8861\u8bbe\u5907\u5171\u540c\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1</p> <p>SOA\uff1a\u4e1a\u52a1\u7cfb\u7edf\u5206\u89e3\u4e3a\u591a\u4e2a\u7ec4\u4ef6\uff0c\u8ba9\u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u72ec\u7acb\u63d0\u4f9b\u79bb\u6563\uff0c\u81ea\u6cbb\uff0c\u53ef\u590d\u7528\u7684\u670d\u52a1\u80fd\u529b\uff0c\u901a\u8fc7\u670d\u52a1\u7684\u7ec4\u5408\u548c\u7f16\u6392\u6765\u5b9e\u73b0\u4e0a\u5c42\u7684\u4e1a\u52a1\u6d41\u7a0b \u4f5c\u7528\uff1a\u7b80\u5316\u7ef4\u62a4,\u964d\u4f4e\u6574\u4f53\u98ce\u9669,\u4f38\u7f29\u7075\u6d3b</p> <p>\u5fae\u670d\u52a1\uff1a\u67b6\u6784\u8bbe\u8ba1\u6982\u5ff5,\u5404\u670d\u52a1\u95f4\u9694\u79bb\uff08\u5206\u5e03\u5f0f\u4e5f\u662f\u9694\u79bb\uff09,\u81ea\u6cbb\uff08\u5206\u5e03\u5f0f\u4f9d\u8d56\u6574\u4f53\u7ec4\u5408\uff09\u5176\u5b83\u7279\u6027(\u5355\u4e00\u804c\u8d23,\u8fb9\u754c,\u5f02\u6b65\u901a\u4fe1,\u72ec\u7acb\u90e8\u7f72)\u662f\u5206\u5e03\u5f0f\u6982\u5ff5\u7684\u8ddf\u4e25\u683c\u6267\u884c SOA \u5230\u5fae\u670d\u52a1\u67b6\u6784\u7684\u6f14\u8fdb\u8fc7\u7a0b \u4f5c\u7528\uff1a\u5404\u670d\u52a1\u53ef\u72ec\u7acb\u5e94\u7528\uff0c\u7ec4\u5408\u670d\u52a1\u4e5f\u53ef\u7cfb\u7edf\u5e94\u7528</p> <p>\u5206\u5e03\u5f0f\uff1a\u4e00\u4e2a\u4e1a\u52a1\u5206\u62c6\u591a\u4e2a\u5b50\u4e1a\u52a1\uff0c\u90e8\u7f72\u5728\u4e0d\u540c\u7684\u670d\u52a1\u5668\u4e0a</p> <p>\u96c6\u7fa4\uff1a\u540c\u4e00\u4e2a\u4e1a\u52a1\uff0c\u90e8\u7f72\u5728\u591a\u4e2a\u670d\u52a1\u5668\u4e0a</p>"},{"location":"server/%E5%88%86%E5%B8%83%E5%BC%8F%E5%92%8C%E9%9B%86%E7%BE%A4/#2","title":"\u56de\u7b54 2","text":"<p>\u5206\u5e03\u5f0f\u4e0d\u4e00\u5b9a\u5c31\u662f\u4e0d\u540c\u7684\u7ec4\u4ef6\uff0c\u540c\u4e00\u4e2a\u7ec4\u4ef6\u4e5f\u53ef\u4ee5\uff0c\u5173\u952e\u5728\u4e8e\u662f\u5426\u901a\u8fc7\u4ea4\u6362\u4fe1\u606f\u7684\u65b9\u5f0f\u8fdb\u884c\u534f\u4f5c\u3002\u6bd4\u5982\u8bf4 Zookeeper \u7684\u8282\u70b9\u90fd\u662f\u5bf9\u7b49\u7684\uff0c\u4f46\u5b83\u81ea\u5df1\u5c31\u6784\u6210\u4e00\u4e2a\u5206\u5e03\u5f0f\u7cfb\u7edf\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u5206\u5e03\u5f0f\u662f\u6307\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\u7684\u591a\u4e2a\u7ec4\u4ef6\uff0c\u901a\u8fc7\u4ea4\u6362\u4fe1\u606f\u534f\u4f5c\u800c\u5f62\u6210\u7684\u7cfb\u7edf\u3002\u800c\u96c6\u7fa4\uff0c\u662f\u6307\u540c\u4e00\u79cd\u7ec4\u4ef6\u7684\u591a\u4e2a\u5b9e\u4f8b\uff0c\u5f62\u6210\u7684\u903b\u8f91\u4e0a\u7684\u6574\u4f53\u3002</p> <p>\u53ef\u4ee5\u770b\u51fa\u8fd9\u4e24\u4e2a\u6982\u5ff5\u5e76\u4e0d\u5b8c\u5168\u51b2\u7a81\uff0c\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u96c6\u7fa4\uff0c\u4f8b\u5b50\u5c31\u662f\u524d\u9762\u8bf4\u7684 zookeeper \u7b49\uff0c\u5b83\u7684\u7279\u5f81\u662f\u670d\u52a1\u4e4b\u95f4\u4f1a\u4e92\u76f8\u901a\u4fe1\u534f\u4f5c\u3002\u662f\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e0d\u662f\u96c6\u7fa4\u7684\u60c5\u51b5\uff0c\u5c31\u662f\u591a\u4e2a\u4e0d\u540c\u7ec4\u4ef6\u6784\u6210\u7684\u7cfb\u7edf\uff1b\u662f\u96c6\u7fa4\u4e0d\u662f\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u60c5\u51b5\uff0c\u6bd4\u5982\u591a\u4e2a\u7ecf\u8fc7\u8d1f\u8f7d\u5747\u8861\u7684 HTTP \u670d\u52a1\u5668\uff0c\u5b83\u4eec\u4e4b\u95f4\u4e0d\u4f1a\u4e92\u76f8\u901a\u4fe1\uff0c\u5982\u679c\u4e0d\u5e26\u4e0a\u8d1f\u8f7d\u5747\u8861\u7684\u90e8\u5206\u7684\u8bdd\uff0c\u4e00\u822c\u4e0d\u53eb\u505a\u5206\u5e03\u5f0f\u7cfb\u7edf\u3002</p>"},{"location":"server/%E5%88%86%E5%B8%83%E5%BC%8F%E5%92%8C%E9%9B%86%E7%BE%A4/#3","title":"\u56de\u7b54 3","text":""},{"location":"server/%E5%88%86%E5%B8%83%E5%BC%8F%E5%92%8C%E9%9B%86%E7%BE%A4/#_1","title":"\u5355\u673a\u7ed3\u6784","text":"<p>\u6211\u60f3\u5927\u5bb6\u6700\u6700\u6700\u719f\u6089\u7684\u5c31\u662f\u5355\u673a\u7ed3\u6784\uff0c\u4e00\u4e2a\u7cfb\u7edf\u4e1a\u52a1\u91cf\u5f88\u5c0f\u7684\u65f6\u5019\u6240\u6709\u7684\u4ee3\u7801\u90fd\u653e\u5728\u4e00\u4e2a\u9879\u76ee\u4e2d\u5c31\u597d\u4e86\uff0c\u7136\u540e\u8fd9\u4e2a\u9879\u76ee\u90e8\u7f72\u5728\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\u5c31\u597d\u4e86\u3002\u6574\u4e2a\u9879\u76ee\u6240\u6709\u7684\u670d\u52a1\u90fd\u7531\u8fd9\u53f0\u670d\u52a1\u5668\u63d0\u4f9b\u3002\u8fd9\u5c31\u662f\u5355\u673a\u7ed3\u6784\u3002</p> <p>\u90a3\u4e48\uff0c\u5355\u673a\u7ed3\u6784\u6709\u5565\u7f3a\u70b9\u5462\uff1f\u6211\u60f3\u7f3a\u70b9\u662f\u663e\u800c\u6613\u89c1\u7684\uff0c\u5355\u673a\u7684\u5904\u7406\u80fd\u529b\u6bd5\u7adf\u662f\u6709\u9650\u7684\uff0c\u5f53\u4f60\u7684\u4e1a\u52a1\u589e\u957f\u5230\u4e00\u5b9a\u7a0b\u5ea6\u7684\u65f6\u5019\uff0c\u5355\u673a\u7684\u786c\u4ef6\u8d44\u6e90\u5c06\u65e0\u6cd5\u6ee1\u8db3\u4f60\u7684\u4e1a\u52a1\u9700\u6c42\u3002\u6b64\u65f6\u4fbf\u51fa\u73b0\u4e86\u96c6\u7fa4\u6a21\u5f0f\uff0c\u5f80\u4e0b\u63a5\u7740\u770b\u3002</p>"},{"location":"server/%E5%88%86%E5%B8%83%E5%BC%8F%E5%92%8C%E9%9B%86%E7%BE%A4/#_2","title":"\u96c6\u7fa4\u7ed3\u6784","text":"<p>\u96c6\u7fa4\u6a21\u5f0f\u5728\u7a0b\u5e8f\u733f\u754c\u6709\u5404\u79cd\u88c5\u903c\u89e3\u91ca\uff0c\u6709\u7684\u8ba9\u4f60\u6839\u672c\u65e0\u6cd5\u7406\u89e3\uff0c\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u5f88\u7b80\u5355\u7684\u73a9\u610f\u513f\uff0c\u4e14\u542c\u6211\u4e00\u4e00\u9053\u6765\u3002</p> <p>\u5355\u673a\u5904\u7406\u5230\u8fbe\u74f6\u9888\u7684\u65f6\u5019\uff0c\u4f60\u5c31\u628a\u5355\u673a\u590d\u5236\u51e0\u4efd\uff0c\u8fd9\u6837\u5c31\u6784\u6210\u4e86\u4e00\u4e2a\u201c\u96c6\u7fa4\u201d\u3002\u96c6\u7fa4\u4e2d\u6bcf\u53f0\u670d\u52a1\u5668\u5c31\u53eb\u505a\u8fd9\u4e2a\u96c6\u7fa4\u7684\u4e00\u4e2a\u201c\u8282\u70b9\u201d\uff0c\u6240\u6709\u8282\u70b9\u6784\u6210\u4e86\u4e00\u4e2a\u96c6\u7fa4\u3002\u6bcf\u4e2a\u8282\u70b9\u90fd\u63d0\u4f9b\u76f8\u540c\u7684\u670d\u52a1\uff0c\u90a3\u4e48\u8fd9\u6837\u7cfb\u7edf\u7684\u5904\u7406\u80fd\u529b\u5c31\u76f8\u5f53\u4e8e\u63d0\u5347\u4e86\u597d\u51e0\u500d\uff08\u6709\u51e0\u4e2a\u8282\u70b9\u5c31\u76f8\u5f53\u4e8e\u63d0\u5347\u4e86\u8fd9\u4e48\u591a\u500d\uff09\u3002</p> <p>\u4f46\u95ee\u9898\u662f\u7528\u6237\u7684\u8bf7\u6c42\u7a76\u7adf\u7531\u54ea\u4e2a\u8282\u70b9\u6765\u5904\u7406\u5462\uff1f\u6700\u597d\u80fd\u591f\u8ba9\u6b64\u65f6\u6b64\u523b\u8d1f\u8f7d\u8f83\u5c0f\u7684\u8282\u70b9\u6765\u5904\u7406\uff0c\u8fd9\u6837\u4f7f\u5f97\u6bcf\u4e2a\u8282\u70b9\u7684\u538b\u529b\u90fd\u6bd4\u8f83\u5e73\u5747\u3002\u8981\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\uff0c\u5c31\u9700\u8981\u5728\u6240\u6709\u8282\u70b9\u4e4b\u524d\u589e\u52a0\u4e00\u4e2a\u201c\u8c03\u5ea6\u8005\u201d\u7684\u89d2\u8272\uff0c\u7528\u6237\u7684\u6240\u6709\u8bf7\u6c42\u90fd\u5148\u4ea4\u7ed9\u5b83\uff0c\u7136\u540e\u5b83\u6839\u636e\u5f53\u524d\u6240\u6709\u8282\u70b9\u7684\u8d1f\u8f7d\u60c5\u51b5\uff0c\u51b3\u5b9a\u5c06\u8fd9\u4e2a\u8bf7\u6c42\u4ea4\u7ed9\u54ea\u4e2a\u8282\u70b9\u5904\u7406\u3002\u8fd9\u4e2a\u201c\u8c03\u5ea6\u8005\u201d\u6709\u4e2a\u725b\u903c\u4e86\u540d\u5b57\u2014\u2014\u8d1f\u8f7d\u5747\u8861\u670d\u52a1\u5668\u3002</p> <p>\u96c6\u7fa4\u7ed3\u6784\u7684\u597d\u5904\u5c31\u662f\u7cfb\u7edf\u6269\u5c55\u975e\u5e38\u5bb9\u6613\u3002\u5982\u679c\u968f\u7740\u4f60\u4eec\u7cfb\u7edf\u4e1a\u52a1\u7684\u53d1\u5c55\uff0c\u5f53\u524d\u7684\u7cfb\u7edf\u53c8\u652f\u6491\u4e0d\u4f4f\u4e86\uff0c\u90a3\u4e48\u7ed9\u8fd9\u4e2a\u96c6\u7fa4\u518d\u589e\u52a0\u8282\u70b9\u5c31\u884c\u4e86\u3002\u4f46\u662f\uff0c\u5f53\u4f60\u7684\u4e1a\u52a1\u53d1\u5c55\u5230\u4e00\u5b9a\u7a0b\u5ea6\u7684\u65f6\u5019\uff0c\u4f60\u4f1a\u53d1\u73b0\u4e00\u4e2a\u95ee\u9898\u2014\u2014\u65e0\u8bba\u600e\u4e48\u589e\u52a0\u8282\u70b9\uff0c\u8c8c\u4f3c\u6574\u4e2a\u96c6\u7fa4\u6027\u80fd\u7684\u63d0\u5347\u6548\u679c\u5e76\u4e0d\u660e\u663e\u4e86\u3002\u8fd9\u65f6\u5019\uff0c\u4f60\u5c31\u9700\u8981\u4f7f\u7528\u5fae\u670d\u52a1\u7ed3\u6784\u4e86\u3002</p>"},{"location":"server/%E5%88%86%E5%B8%83%E5%BC%8F%E5%92%8C%E9%9B%86%E7%BE%A4/#_3","title":"\u5206\u5e03\u5f0f\u7ed3\u6784","text":"<p>\u5148\u6765\u5bf9\u524d\u9762\u7684\u77e5\u8bc6\u70b9\u505a\u4e2a\u603b\u7ed3\u3002</p> <p>\u4ece\u5355\u673a\u7ed3\u6784\u5230\u96c6\u7fa4\u7ed3\u6784\uff0c\u4f60\u7684\u4ee3\u7801\u57fa\u672c\u65e0\u9700\u8981\u4f5c\u4efb\u4f55\u4fee\u6539\uff0c\u4f60\u8981\u505a\u7684\u4ec5\u4ec5\u662f\u591a\u90e8\u7f72\u51e0\u53f0\u670d\u52a1\u5668\uff0c\u6bcf\u53f0\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u76f8\u540c\u7684\u4ee3\u7801\u5c31\u884c\u4e86\u3002\u4f46\u662f\uff0c\u5f53\u4f60\u8981\u4ece\u96c6\u7fa4\u7ed3\u6784\u6f14\u8fdb\u5230\u5fae\u670d\u52a1\u7ed3\u6784\u7684\u65f6\u5019\uff0c\u4e4b\u524d\u7684\u90a3\u5957\u4ee3\u7801\u5c31\u9700\u8981\u53d1\u751f\u8f83\u5927\u7684\u6539\u52a8\u4e86\u3002\u6240\u4ee5\u5bf9\u4e8e\u65b0\u7cfb\u7edf\u6211\u4eec\u5efa\u8bae\uff0c\u7cfb\u7edf\u8bbe\u8ba1\u4e4b\u521d\u5c31\u91c7\u7528\u5fae\u670d\u52a1\u67b6\u6784\uff0c\u8fd9\u6837\u540e\u671f\u8fd0\u7ef4\u7684\u6210\u672c\u66f4\u4f4e\u3002\u4f46\u5982\u679c\u4e00\u5957\u8001\u7cfb\u7edf\u9700\u8981\u5347\u7ea7\u6210\u5fae\u670d\u52a1\u7ed3\u6784\u7684\u8bdd\uff0c\u90a3\u5c31\u5f97\u5bf9\u4ee3\u7801\u5927\u52a8\u5e72\u6208\u4e86\u3002\u6240\u4ee5\uff0c\u5bf9\u4e8e\u8001\u7cfb\u7edf\u800c\u8a00\uff0c\u7a76\u7adf\u662f\u7ee7\u7eed\u4fdd\u6301\u96c6\u7fa4\u6a21\u5f0f\uff0c\u8fd8\u662f\u5347\u7ea7\u6210\u5fae\u670d\u52a1\u67b6\u6784\uff0c\u8fd9\u9700\u8981\u4f60\u4eec\u7684\u67b6\u6784\u5e08\u6df1\u601d\u719f\u8651\u3001\u6743\u8861\u6295\u5165\u4ea7\u51fa\u6bd4\u3002</p> <p>OK\uff0c\u4e0b\u9762\u5f00\u59cb\u4ecb\u7ecd\u6240\u8c13\u7684\u5206\u5e03\u5f0f\u7ed3\u6784\u3002</p> <p>\u5206\u5e03\u5f0f\u7ed3\u6784\u5c31\u662f\u5c06\u4e00\u4e2a\u5b8c\u6574\u7684\u7cfb\u7edf\uff0c\u6309\u7167\u4e1a\u52a1\u529f\u80fd\uff0c\u62c6\u5206\u6210\u4e00\u4e2a\u4e2a\u72ec\u7acb\u7684\u5b50\u7cfb\u7edf\uff0c\u5728\u5206\u5e03\u5f0f\u7ed3\u6784\u4e2d\uff0c\u6bcf\u4e2a\u5b50\u7cfb\u7edf\u5c31\u88ab\u79f0\u4e3a\u201c\u670d\u52a1\u201d\u3002\u8fd9\u4e9b\u5b50\u7cfb\u7edf\u80fd\u591f\u72ec\u7acb\u8fd0\u884c\u5728 web \u5bb9\u5668\u4e2d\uff0c\u5b83\u4eec\u4e4b\u95f4\u901a\u8fc7 RPC \u65b9\u5f0f\u901a\u4fe1\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5047\u8bbe\u9700\u8981\u5f00\u53d1\u4e00\u4e2a\u5728\u7ebf\u5546\u57ce\u3002\u6309\u7167\u5fae\u670d\u52a1\u7684\u601d\u60f3\uff0c\u6211\u4eec\u9700\u8981\u6309\u7167\u529f\u80fd\u6a21\u5757\u62c6\u5206\u6210\u591a\u4e2a\u72ec\u7acb\u7684\u670d\u52a1\uff0c\u5982\uff1a\u7528\u6237\u670d\u52a1\u3001\u4ea7\u54c1\u670d\u52a1\u3001\u8ba2\u5355\u670d\u52a1\u3001\u540e\u53f0\u7ba1\u7406\u670d\u52a1\u3001\u6570\u636e\u5206\u6790\u670d\u52a1\u7b49\u7b49\u3002\u8fd9\u4e00\u4e2a\u4e2a\u670d\u52a1\u90fd\u662f\u4e00\u4e2a\u4e2a\u72ec\u7acb\u7684\u9879\u76ee\uff0c\u53ef\u4ee5\u72ec\u7acb\u8fd0\u884c\u3002\u5982\u679c\u670d\u52a1\u4e4b\u95f4\u6709\u4f9d\u8d56\u5173\u7cfb\uff0c\u90a3\u4e48\u901a\u8fc7 RPC \u65b9\u5f0f\u8c03\u7528\u3002</p> <p>\u8fd9\u6837\u7684\u597d\u5904\u6709\u5f88\u591a\uff1a</p> <ol> <li>\u7cfb\u7edf\u4e4b\u95f4\u7684\u8026\u5408\u5ea6\u5927\u5927\u964d\u4f4e\uff0c\u53ef\u4ee5\u72ec\u7acb\u5f00\u53d1\u3001\u72ec\u7acb\u90e8\u7f72\u3001\u72ec\u7acb\u6d4b\u8bd5\uff0c\u7cfb\u7edf\u4e0e\u7cfb\u7edf\u4e4b\u95f4\u7684\u8fb9\u754c\u975e\u5e38\u660e\u786e\uff0c\u6392\u9519\u4e5f\u53d8\u5f97\u76f8\u5f53\u5bb9\u6613\uff0c\u5f00\u53d1\u6548\u7387\u5927\u5927\u63d0\u5347\u3002</li> <li>\u7cfb\u7edf\u4e4b\u95f4\u7684\u8026\u5408\u5ea6\u964d\u4f4e\uff0c\u4ece\u800c\u7cfb\u7edf\u66f4\u6613\u4e8e\u6269\u5c55\u3002\u6211\u4eec\u53ef\u4ee5\u9488\u5bf9\u6027\u5730\u6269\u5c55\u67d0\u4e9b\u670d\u52a1\u3002\u5047\u8bbe\u8fd9\u4e2a\u5546\u57ce\u8981\u641e\u4e00\u6b21\u5927\u4fc3\uff0c\u4e0b\u5355\u91cf\u53ef\u80fd\u4f1a\u5927\u5927\u63d0\u5347\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u9488\u5bf9\u6027\u5730\u63d0\u5347\u8ba2\u5355\u7cfb\u7edf\u3001\u4ea7\u54c1\u7cfb\u7edf\u7684\u8282\u70b9\u6570\u91cf\uff0c\u800c\u5bf9\u4e8e\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf\u3001\u6570\u636e\u5206\u6790\u7cfb\u7edf\u800c\u8a00\uff0c\u8282\u70b9\u6570\u91cf\u7ef4\u6301\u539f\u6709\u6c34\u5e73\u5373\u53ef\u3002</li> <li>\u670d\u52a1\u7684\u590d\u7528\u6027\u66f4\u9ad8\u3002\u6bd4\u5982\uff0c\u5f53\u6211\u4eec\u5c06\u7528\u6237\u7cfb\u7edf\u4f5c\u4e3a\u5355\u72ec\u7684\u670d\u52a1\u540e\uff0c\u8be5\u516c\u53f8\u6240\u6709\u7684\u4ea7\u54c1\u90fd\u53ef\u4ee5\u4f7f\u7528\u8be5\u7cfb\u7edf\u4f5c\u4e3a\u7528\u6237\u7cfb\u7edf\uff0c\u65e0\u9700\u91cd\u590d\u5f00\u53d1\u3002</li> </ol>"},{"location":"server/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E7%9F%A5%E8%AF%86/","title":"\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u77e5\u8bc6","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 13879  \u9605\u8bfb28\u5206\u949f</p> <p>https://juejin.im/post/5e2fb311f265da3e4244eb4d</p> <p>\u7531\u4e8e\u539f\u59cb\u7f51\u7ad9\u9632\u76d7\u94fe\uff0c\u56fe\u7247\u65e0\u6cd5\u76f4\u63a5\u663e\u793a\uff0c\u53ef\u4ee5\u67e5\u770b\u539f\u6587\u3002</p> <p>\u524d\u7aef\u5f00\u53d1\u4eba\u5458\u4e2d\uff0c\u6709\u76f8\u5f53\u5927\u6bd4\u4f8b\u7684\u540c\u5b66\u4e0d\u662f\u79d1\u73ed\u51fa\u6765\u7684\uff0c\u6240\u4ee5\u5bf9\u4e8e\u57fa\u672c\u7684\u79d1\u73ed\u5fc5\u4fee\u8bfe\uff0c\u4f8b\u5982\uff1a\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u3001\u64cd\u4f5c\u7cfb\u7edf\u3001\u8ba1\u7b97\u673a\u7f51\u7edc\u3001\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u7b49\u77e5\u8bc6\u63a5\u89e6\u4e0d\u591a\u3002\u5f53\u4f60\u8d8a\u6df1\u5165\u5b66\u4e60\uff0c\u8d8a\u4f1a\u53d1\u73b0\u8fd9\u4e9b\u77e5\u8bc6\u7684\u91cd\u8981\u6027\u3002</p> <p>\u6bd4\u5982\u5927\u5bb6\u90fd\u77e5\u9053 js \u91cc\u9762 0.1 + 0.2 \u662f\u4e0d\u7b49\u4e8e 0.3 \u7684\uff0c\u4e3a\u4ec0\u4e48\u5462\uff1f\u8fd9\u5c31\u7275\u626f\u5230\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u4e2d\u6d6e\u70b9\u6570\u7684\u8868\u793a\u65b9\u6cd5\uff0c\u4ee5\u53ca\u6d6e\u70b9\u6570\u7684\u52a0\u51cf\u8fd0\u7b97\uff08\u6b63\u6587\u4f1a\u6709\u767d\u8bdd\u7248\u89e3\u7b54\uff09\u3002</p> <p>\u53c8\u4f8b\u5982\u4ece\u952e\u76d8\u8f93\u5165 a+b \u8fd9\u4e2a\u6307\u4ee4\uff0c\u5982\u4f55\u901a\u8fc7 cpu \u7684\u8c03\u5ea6\u8f93\u51fa\u5230\u5c4f\u5e55\u4e0a\u5462\uff1f\u8fd9\u5c31\u6d89\u53ca\u5230\u51af\u8bfa\u4f9d\u66fc\u4f53\u7cfb\uff0c\u5982\u679c\u4f60\u662f\u7f16\u7a0b\u4eba\u5458\uff0c\u90fd\u4e0d\u6e05\u695a\u6570\u636e\u4ece\u952e\u76d8\u5230\u5c4f\u5e55\u7684\u57fa\u672c\u6d41\u5411\uff0c\u90a3\u662f\u65f6\u5019\u770b\u770b\u8fd9\u7bc7'\u5341\u5168\u5927\u8865\u6587'\u4e86</p> <p>\u672c\u6587\u662f\u4e00\u7bc7\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u6700\u57fa\u672c\u7684\u5165\u95e8\u6587\u7ae0\uff0c\u6211\u89c9\u5f97\u524d\u7aef\u6ca1\u6709\u5fc5\u8981\u90a3\u4e48\u6df1\u5165\u8fd9\u4e2a\u4e13\u9898\uff0c\u638c\u63e1\u57fa\u672c\u7684\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u7684\u5e38\u8bc6\u5373\u53ef\u3002</p>"},{"location":"server/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E7%9F%A5%E8%AF%86/#1","title":"1\u3001\u8ba1\u7b97\u673a\u7684\u5de5\u4f5c\u539f\u7406","text":"<p>\u9996\u5148\uff0c\u8ba1\u7b97\u673a\u6700\u57fa\u672c\u7684 5 \u5927\u7ec4\u6210\u90e8\u5206\u5982\u4e0b\u56fe\uff0c\u5206\u522b\u4e3a\uff1a\u8f93\u5165\u8bbe\u5907(\u6bd4\u5982\u952e\u76d8), \u5b58\u50a8\u5668(\u6bd4\u5982\u5185\u5b58), \u8fd0\u7b97\u5668(cpu), \u63a7\u5236\u5668(cpu), \u8f93\u51fa\u8bbe\u5907(\u663e\u793a\u5668)\u3002</p> <p>\u5de5\u4f5c\u539f\u7406\u5982\u4e0b</p> <p>1.1 \u63a7\u5236\u5668 ---&gt; \u63a7\u5236\u8f93\u5165\u8bbe\u5907 ----&gt; \u6307\u4ee4\u6d41\u5411\u5185\u5b58</p> <p>\u5f53\u6211\u4eec\u8f93\u5165\u6570\u636e\u7684\u65f6\u5019\uff0ccpu \u91cc\u7684\u63a7\u5236\u5668\u4f1a\u8ba9\u8f93\u5165\u8bbe\u5907\u628a\u8fd9\u4e9b\u6307\u4ee4\u5b58\u50a8\u5230\u5b58\u50a8\u5668(\u5185\u5b58)\u4e0a\u3002</p> <p>1.2 \u63a7\u5236\u5668\u5206\u6790\u6307\u4ee4 ---&gt; \u63a7\u5236\u5b58\u50a8\u5668 ---&gt; \u628a\u6570\u636e\u9001\u5230\u8fd0\u7b97\u5668</p> <p>\u63a7\u5236\u5668\u5206\u6790\u6307\u4ee4\u4e4b\u540e\uff0c \u6b64\u65f6\u8ba9\u5b58\u50a8\u5668\u628a\u6570\u636e\u53d1\u9001\u5230\u8fd0\u7b97\u5668\u91cc(\u63a7\u5236\u5668\u548c\u8fd0\u7b97\u5668\u90fd\u5728 cpu \u91cc\u9762)\u3002\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\uff0c\u5b58\u50a8\u5668\u65e2\u80fd\u5b58\u50a8\u6570\u636e\uff0c\u8fd8\u80fd\u5b58\u50a8\u6307\u4ee4\u3002</p> <p>1.3 \u63a7\u5236\u5668\u63a7\u5236\u8fd0\u7b97\u5668\u505a\u6570\u636e\u7684\u8fd0\u7b97 \u5e76\u4e14\u5c06\u8fd0\u7b97\u7ed3\u679c\u8fd4\u56de\u5b58\u50a8\u5668</p> <p>1.4 \u63a7\u5236\u5668\u63a7\u5236\u5b58\u50a8\u5668\u5c06\u7ed3\u679c\u8fd4\u56de\u7ed9\u8f93\u51fa\u8bbe\u5907</p> <p>\u4ece\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u66f4\u8fd1\u4e00\u6b65\uff0c\u770b\u770b\u8ba1\u7b97\u673a\u5185\u90e8\uff0cCPU \u662f\u600e\u4e48\u8ddf\u5b58\u50a8\u5668\u4ea4\u4e92\u7684\u3002</p>"},{"location":"server/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E7%9F%A5%E8%AF%86/#2cpu","title":"2\u3001CPU \u53ca\u5176\u5de5\u4f5c\u8fc7\u7a0b","text":"<p>CPU \u4e2d\u6bd4\u8f83\u91cd\u8981\u7684\u4e24\u4e2a\u90e8\u4ef6\u662f\u8fd0\u7b97\u5668\u548c\u63a7\u5236\u5668\uff0c\u6211\u4eec\u5148\u6765\u770b\u770b\u8fd0\u7b97\u5668\u7684\u4e3b\u8981\u4f5c\u7528</p>"},{"location":"server/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E7%9F%A5%E8%AF%86/#21","title":"2.1 \u8fd0\u7b97\u5668\u4e3b\u8981\u90e8\u4ef6","text":"<p>\u5982\u4e0a\u56fe\uff0c\u8fd0\u7b97\u5668\u91cc\u6700\u91cd\u8981\u7684\u90e8\u4ef6\u662f ALU\uff0c\u4e2d\u6587\u53eb\u7b97\u672f\u903b\u8f91\u5355\u5143\uff0c\u7528\u6765\u8fdb\u884c\u7b97\u672f\u548c\u903b\u8f91\u8fd0\u7b97\u7684\u3002\u5176\u5b83\u7684 MQ,ACC \u8fd9\u4e9b\u6211\u4eec\u4e0d\u7528\u7ba1\u4e86\uff0c\u662f\u4e00\u4e9b\u5bc4\u5b58\u5668\u3002</p>"},{"location":"server/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E7%9F%A5%E8%AF%86/#22","title":"2.2 \u63a7\u5236\u5668\u4e3b\u8981\u90e8\u4ef6","text":"<p>\u63a7\u5236\u5668\u4e2d\u6700\u91cd\u8981\u7684\u90e8\u4ef6\u662f CU\uff08\u63a7\u5236\u5355\u5143\uff09\uff0c\u53ea\u8981\u662f\u5206\u6790\u6307\u4ee4\uff0c\u7ed9\u51fa\u63a7\u5236\u4fe1\u53f7\u3002</p> <p>IR\uff08\u6307\u4ee4\u5bc4\u5b58\u5668\uff09\uff0c\u5b58\u653e\u5f53\u524d\u9700\u8981\u6267\u884c\u7684\u6307\u4ee4</p> <p>PC \u5b58\u653e\u7684\u6307\u4ee4\u7684\u5730\u5740\u3002</p>"},{"location":"server/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E7%9F%A5%E8%AF%86/#23-","title":"2.3 \u4e3e\u4f8b - \u53d6\u6570\u6307\u4ee4\u6267\u884c\u8fc7\u7a0b","text":"<p>\u9996\u5148\uff0c\u662f\u53d6\u6307\u4ee4\u7684\u8fc7\u7a0b\u5982\u4e0b</p> <p>\u7b2c\u4e00\u6b65\uff0cPC\uff0c\u4e5f\u5c31\u662f\u5b58\u653e\u6307\u4ee4\u5730\u5740\u7684\u5730\u65b9\uff0c\u6211\u4eec\u8981\u77e5\u9053\u4e0b\u4e00\u6761\u6307\u4ee4\u662f\u4ec0\u4e48\uff0c\u5c31\u5fc5\u987b\u53bb\u5b58\u50a8\u5668\u62ff\uff0cCPU \u624d\u77e5\u9053\u63a5\u4e0b\u6765\u505a\u4ec0\u4e48\u3002PC \u53bb\u4e86\u5b58\u50a8\u5668\u7684 MAR \u62ff\u8981\u6267\u884c\u7684\u6307\u4ee4\u5730\u5740\uff0cMAR\uff08\u5b58\u50a8\u5668\u91cc\u4e13\u95e8\u5b58\u6307\u4ee4\u5730\u5740\u7684\u5730\u65b9\uff09</p> <p>\u7b2c\u4e8c\u6b65\u548c\u7b2c\u4e09\u6b65\uff0cMAR \u53bb\u5b58\u50a8\u4f53\u5185\u62ff\u5230\u6307\u4ee4\u4e4b\u540e\uff0c\u5c06\u6307\u4ee4\u5730\u5740\u653e\u5165 MDR(\u5b58\u50a8\u5668\u91cc\u4e13\u95e8\u5b58\u6570\u636e\u7684\u5730\u65b9) \u7b2c\u56db\u6b65 MDR \u91cc\u7684\u6570\u636e\u8fd4\u56de\u5230 IR \u91cc\u9762\uff0cIR \u662f\u5b58\u653e\u6307\u4ee4\u7684\u5730\u65b9\uff0c\u6211\u4eec\u628a\u521a\u624d\u4ece\u5b58\u50a8\u4f53\u91cc\u62ff\u7684\u6307\u4ee4\u653e\u5728\u8fd9\u91cc</p> <p>\u7136\u540e\uff0c\u5206\u6790\u6307\u4ee4\uff0c\u6267\u884c\u6307\u4ee4\u7684\u8fc7\u7a0b\u5982\u4e0b</p> <p>\u7b2c\u4e94\u6b65\uff0c IR \u5c06\u6307\u4ee4\u653e\u5165 CU \u4e2d\uff0c\u6765\u5206\u6790\u6307\u4ee4\uff0c\u6bd4\u5982\u8bf4\u5206\u6790\u51fa\u662f\u4e00\u4e2a\u53d6\u6570\u6307\u4ee4\uff0c\u63a5\u7740\u5c31\u8981\u6267\u884c\u6307\u4ee4\u4e86\uff08\u8fd9\u91cc\u53d6\u6570\u6307\u4ee4\uff0c\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u5730\u5740\u7801\uff0c\u6309\u7740\u8fd9\u4e2a\u5730\u5740\u53bb\u5b58\u50a8\u4f53\u53d6\u6570\u636e\uff09</p> <p>\u7b2c\u516d\u6b65\uff0c\u7b2c\u4e03\u6b65 IR \u5c31\u4f1a\u63a5\u7740\u53bb\u627e\u5b58\u50a8\u4f53\u91cc\u7684 MAR\uff08\u5b58\u50a8\u5730\u5740\u7684\u5730\u65b9\uff09\uff0cMAR \u5c31\u6839\u636e\u53d6\u6570\u6307\u4ee4\u91cc\u7684\u5730\u5740\u5417\u53bb\u5b58\u50a8\u4f53\u91cc\u53bb\u6570\u636e</p> <p>\u7b2c\u516b\u6b65\uff0c\u53d6\u51fa\u7684\u6570\u636e\u8fd4\u56de\u7ed9 MDR\uff08\u5b58\u653e\u6570\u636e\u7684\u5730\u65b9\uff09</p> <p>\u7b2c\u4e5d\u6b65\uff0cMDR \u91cc\u7684\u6570\u636e\u653e\u5230\u8fd0\u7b97\u5668\u7684\u5bc4\u5b58\u5668\u91cc\uff0c\u8fd9\u91cc\u7684\u53d6\u6307\u4ee4\u7684\u8fc7\u7a0b\u7ed3\u675f\u4e86\u3002</p> <p>\u6765\u4e2a\u63d2\u66f2\uff0c\u6211\u4eec\u77e5\u9053\u6570\u636e\u5728\u5185\u5b58\u91cc\u662f\u4e8c\u8fdb\u5236\u5b58\u7740\uff0c\u4e5f\u5c31\u662f 0 \u548c 1, 0 \u548c 1 \u600e\u4e48\u7528\u8868\u793a\u5462\uff1f</p> <p>\u6211\u4eec\u62ff\u5176\u4e2d\u4e00\u79cd\u5b58\u50a8 0 \u548c 1 \u7684\u65b9\u5f0f\u6765\u8bf4\u660e</p> <p>\u7535\u5bb9\u662f\u5426\u6709\u7535\u8377\uff0c\u6709\u7535\u8377\u4ee3\u8868 1\uff0c\u65e0\u7535\u8377\u4ee3\u8868 0</p>"},{"location":"server/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E7%9F%A5%E8%AF%86/#3","title":"3\u3001\u8ba1\u7b97\u673a\u7f16\u7a0b\u8bed\u8a00","text":"<p>\u6211\u4eec\u770b\u770b\u673a\u5668\u8bed\u8a00\uff0c\u600e\u4e48\u8868\u793a\u5b58\u653e\u4e00\u4e2a\u6570\u7684\u6307\u4ee4\uff0c\u4f8b\u5982\u4e0b\u56fe</p> <p>\u6211\u4eec\u6765\u770b\u4e8c\u8fdb\u5236\u4ee3\u7801 0000\uff0c0000\uff0c000000010000</p> <p>\u5176\u4e2d\u7b2c\u4e00\u4e2a 0000\uff0c\u8868\u793a\u7684\u662f\u6c47\u7f16\u8bed\u8a00\u91cc\u7684 LOAD\uff0c\u4e5f\u5c31\u662f\u52a0\u8f7d\uff0c\u52a0\u8f7d\u4ec0\u4e48\u5462 \u52a0\u8f7d\u5730\u5740 000000010000 \u4e0a\u7684\u6570\u636e\u5230\u7b2c\u4e8c\u4e2a 0000\uff08\u5bc4\u5b58\u5668\u7684\u4f4d\u7f6e\uff09\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u770b\u770b\u5982\u679c\u662f\u6c47\u7f16\u8bed\u8a00\u600e\u4e48\u8868\u793a</p> <p>LOAD A, 16 \u610f\u601d\u662f\u5c06\u5b58\u50a8\u4f53\u5185\u7684 16 \u53f7\u5355\u5143\u6570\u636e\uff0c\u653e\u5230\u5bc4\u5b58\u5668\u5730\u5740 A \u4e2d ADD C, A, B \u610f\u601d\u662f\u5c06\u5bc4\u5b58\u5668\u91cc\u7684 A,B \u6570\u636e\u76f8\u52a0\uff0c\u5f97\u5230 C STORE C, 17 \u610f\u601d\u662f\u5c06\u5bc4\u5b58\u5668\u91cc\u7684\u6570\u636e\u5b58\u5230\u5b58\u50a8\u4f53 17 \u53f7\u5355\u5143\u5185</p> <p>\u6700\u540e\uff0c\u6211\u4eec\u770b\u770b\u600e\u4e48\u7528\u9ad8\u7ea7\u8bed\u8a00\u8868\u793a</p> <p>\u9ad8\u7ea7\u8bed\u8a00\u662f\u4e0d\u662f\u5f88\u7b80\u5355\uff0c\u5c31\u4e00\u4e2a a+b\uff0c\u4f60\u90fd\u4e0d\u7528\u53bb\u8003\u8651\u5bc4\u5b58\u5668\uff0c\u5b58\u50a8\u4f53\u8fd9\u4e9b\u4e8b\u3002</p> <p>\u8fd9\u90e8\u5206\u7684\u603b\u7ed3</p> <p>\u9ad8\u7ea7\u8bed\u8a00\u4e00\u822c\u6709\u4e24\u79cd\u65b9\u5f0f\u8f6c\u6362\u4e3a\u673a\u5668\u8bed\u8a00</p> <p>\u4e00\u79cd\u662f\u76f4\u63a5\u501f\u52a9\u7f16\u8bd1\u5668\uff0c\u5c06\u9ad8\u7ea7\u8bed\u8a00\u8f6c\u6362\u4e3a\u4e8c\u8fdb\u5236\u4ee3\u7801\uff0c\u6bd4\u5982 c\uff0c\u8fd9\u6837 c \u8fd0\u884c\u8d77\u6765\u5c31\u7279\u522b\u5feb\uff0c\u56e0\u4e3a\u7f16\u8bd1\u540e\u662f\u673a\u5668\u8bed\u8a00\uff0c\u76f4\u63a5\u5c31\u80fd\u5728\u7cfb\u7edf\u4e0a\u8dd1\uff0c\u4f46\u95ee\u9898\u662f\uff0c\u7f16\u8bd1\u7684\u901f\u5ea6\u53ef\u80fd\u4f1a\u6bd4\u8f83\u6162\u3002 \u4e00\u79cd\u662f\u89e3\u91ca\u6027\u7684\uff0c\u6bd4\u5982 js\uff0c\u662f\u5c06\u4ee3\u7801\u7ffb\u8bd1\u4e00\u884c\u6210\u673a\u5668\u8bed\u8a00\uff08\u4e2d\u95f4\u53ef\u80fd\u4f1a\u5148\u7ffb\u8bd1\u4e3a\u6c47\u7f16\u4ee3\u7801\u6216\u8005\u5b57\u8282\u7801\uff09\uff0c\u89e3\u91ca\u4e00\u884c\uff0c\u6267\u884c\u4e00\u884c</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6309\u7167\u7b2c\u4e00\u79cd\u5c06\u5927\u91cf\u7684\u9ad8\u7ea7\u4ee3\u7801\u7ffb\u8bd1\u4e3a\u673a\u5668\u8bed\u8a00\uff0c\u8fd9\u5176\u4e2d\u5c31\u6709\u5f88\u5927\u7684\u7a7a\u95f4\u7ed9\u7f16\u8bd1\u5668\u505a\u4ee3\u7801\u4f18\u5316\uff0c\u89e3\u91ca\u6027\u8bed\u8a00\u5c31\u5f88\u96be\u505a\u8fd9\u79cd\u4f18\u5316\uff0c\u4f46\u662f\u5728 v8 \u5f15\u64ce\u4e2d\uff0cjs \u8fd8\u662f\u8981\u88ab\u4f18\u5316\u7684\uff0c\u5728\u7f16\u8bd1\u9636\u6bb5\uff08\u4ee3\u7801\u5206\u7f16\u8bd1\u548c\u6267\u884c\u4e24\u4e2a\u9636\u6bb5\uff09\u4f1a\u5bf9\u4ee3\u7801\u505a\u4e00\u4e9b\u4f18\u5316\uff0c\u7f16\u8bd1\u540e\u7acb\u5373\u6267\u884c\u7684\u65b9\u5f0f\u901a\u5e38\u88ab\u79f0\u4e3a JIT (Just In Time) Comipler\u3002</p>"},{"location":"server/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E7%9F%A5%E8%AF%86/#4","title":"4\u3001\u8fdb\u5236\u8f6c\u6362","text":"<p>\u63a5\u4e0b\u6765 4.3 \u8fd9\u4e2a\u5c0f\u8282\u4f1a\u89e3\u91ca\u4e3a\u4ec0\u4e48 0.1 + 0.2 \u7b49\u4e8e 0.3</p> <p>4.1 \u4e8c\u8fdb\u5236\u5982\u4f55\u8f6c\u5316\u4e3a\u5341\u8fdb\u5236</p> <p>\u4f8b\u5982 2 \u8fdb\u5236 101.1 \u5982\u4f55\u8f6c\u5316\u4e3a 10 \u8fdb\u5236\u3002\uff08\u6709\u4e9b\u540c\u5b66\u89c9\u5f97\u53ef\u4ee5\u7528 parseInt('101.1', 2)\uff0c\u8fd9\u4e2a\u662f\u4e0d\u884c\u7684\uff0c\u56e0\u4e3a parseInt \u8fd4\u56de\u6574\u6570\uff09</p> <p>\u8f6c\u5316\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <p>\u4e0a\u56fe\u7684\u89c4\u5219\u662f\u4ec0\u4e48\u5462\uff1f</p> <p>\u4e8c\u8fdb\u5236\u7684\u6bcf\u4e2a\u6570\u53bb\u4e58\u4ee5 2 \u7684\u76f8\u5e94\u6b21\u65b9,\u6ce8\u610f\u5c0f\u6570\u70b9\u540e\u662f\u4e58\u4ee5\u5b83\u7684\u8d1f\u76f8\u5e94\u6b21\u65b9\u3002 \u518d\u4e3e\u4e00\u4e2a\u4f8b\u5b50\u4f60\u5c31\u660e\u767d\u4e86\uff0c</p> <p>\u4e8c\u8fdb\u5236 1101 \u8f6c\u4e3a\u5341\u8fdb\u5236</p> <p>4.2 \u5341\u8fdb\u5236\u6574\u6570\u8f6c\u4e3a\u4e8c\u8fdb\u5236</p> <p>JS \u91cc\u9762\u53ef\u4ee5\u7528 toString(2)\u8fd9\u4e2a\u65b9\u6cd5\u6765\u8f6c\u6362\u3002\u5982\u679c\u8981\u7528\u901a\u7528\u7684\u65b9\u6cd5\uff0c\u4f8b\u5982\uff1a\u5c06\u5341\u8fdb\u5236\u6570\uff0829\uff09\u8f6c\u6362\u6210\u4e8c\u8fdb\u5236\u6570\uff0c \u7b97\u6cd5\u5982\u4e0b\uff1a</p> <p>\u628a\u7ed9\u5b9a\u7684\u5341\u8fdb\u5236\u6570 29 \u9664\u4ee5 2\uff0c\u5546\u4e3a 14\uff0c\u6240\u5f97\u7684\u4f59\u6570 1 \u662f\u4e8c\u8fdb\u5236\u6570\u7684\u6700\u4f4e\u4f4d\u7684\u6570\u7801 \u518d\u5c06 14 \u9664\u4ee5 2\uff0c\u5546\u4e3a 7\uff0c\u4f59\u6570\u4e3a 0 \u518d\u5c06 7 \u9664\u4ee5 2\uff0c\u5546\u4e3a 3\uff0c\u4f59\u6570\u4e3a 1\uff0c\u518d\u5c06 3 \u9664\u4ee5 2\uff0c\u5546\u4e3a 1\uff0c\u4f59\u6570\u4e3a 1 \u518d\u5c06 1 \u9664\u4ee5 2\uff0c\u5546\u4e3a 0\uff0c\u4f59\u6570\u4e3a 1 \u662f\u4e8c\u8fdb\u5236\u6570\u7684\u6700\u9ad8\u4f4d\u7684\u6570\u7801</p> <p>\u5176\u7ed3\u679c\u4e3a\uff1a11101</p> <p>4.3 \u5341\u8fdb\u5236\u5c0f\u6570\u8f6c\u4e3a\u4e8c\u8fdb\u5236</p> <p>\u65b9\u5f0f\u662f\u91c7\u7528\u201c\u4e58 2 \u53d6\u6574\uff0c\u987a\u5e8f\u6392\u5217\u201d\u6cd5\u3002\u5177\u4f53\u505a\u6cd5\u662f\uff1a</p> <p>\u7528 2 \u4e58\u5341\u8fdb\u5236\u5c0f\u6570\uff0c\u53ef\u4ee5\u5f97\u5230\u79ef\uff0c\u5c06\u79ef\u7684\u6574\u6570\u90e8\u5206\u53d6\u51fa- \u518d\u7528 2 \u4e58\u4f59\u4e0b\u7684\u5c0f\u6570\u90e8\u5206\uff0c\u53c8\u5f97\u5230\u4e00\u4e2a\u79ef\uff0c\u518d\u5c06\u79ef\u7684\u6574\u6570\u90e8\u5206\u53d6\u51fa- \u5982\u6b64\u8fdb\u884c\uff0c\u76f4\u5230\u79ef\u4e2d\u7684\u5c0f\u6570\u90e8\u5206\u4e3a\u96f6\uff0c\u6216\u8005\u8fbe\u5230\u6240\u8981\u6c42\u7684\u7cbe\u5ea6\u4e3a\u6b62</p> <p>\u6211\u4eec\u5177\u4f53\u4e3e\u4e00\u4e2a\u4f8b\u5b50</p> <p>\u5982: \u5341\u8fdb\u5236 0.25 \u8f6c\u4e3a\u4e8c\u8fdb\u5236</p> <p>0.25 * 2 = 0.5 \u53d6\u51fa\u6574\u6570\u90e8\u5206\uff1a0</p> <p>0.5 * 2 = 1.0 \u53d6\u51fa\u6574\u6570\u90e8\u5206 1</p> <p>\u5373\u5341\u8fdb\u5236 0.25 \u7684\u4e8c\u8fdb\u5236\u4e3a 0.01 ( \u7b2c\u4e00\u6b21\u6240\u5f97\u5230\u4e3a\u6700\u9ad8\u4f4d,\u6700\u540e\u4e00\u6b21\u5f97\u5230\u4e3a\u6700\u4f4e\u4f4d)</p> <p>\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u8bd5\u8bd5\u5341\u8fdb\u5236 0.1 \u548c 0.2 \u5982\u4f55\u8f6c\u4e3a\u4e8c\u8fdb\u5236</p> <p>0.1(\u5341\u8fdb\u5236) = 0.0001100110011001(\u4e8c\u8fdb\u5236) \u5341\u8fdb\u5236\u6570 0.1 \u8f6c\u4e8c\u8fdb\u5236\u8ba1\u7b97\u8fc7\u7a0b\uff1a 0.1*2 \uff1d 0.2\u2026\u20260\u2014\u2014\u6574\u6570\u90e8\u5206\u4e3a\u201c0\u201d\u3002\u6574\u6570\u90e8\u5206\u201c0\u201d\u6e05\u96f6\u540e\u4e3a\u201c0\u201d\uff0c\u7528\u201c0.2\u201d\u63a5\u7740\u8ba1\u7b97\u3002 0.2*2 \uff1d 0.4\u2026\u20260\u2014\u2014\u6574\u6570\u90e8\u5206\u4e3a\u201c0\u201d\u3002\u6574\u6570\u90e8\u5206\u201c0\u201d\u6e05\u96f6\u540e\u4e3a\u201c0\u201d\uff0c\u7528\u201c0.4\u201d\u63a5\u7740\u8ba1\u7b97\u3002 0.4*2 \uff1d 0.8\u2026\u20260\u2014\u2014\u6574\u6570\u90e8\u5206\u4e3a\u201c0\u201d\u3002\u6574\u6570\u90e8\u5206\u201c0\u201d\u6e05\u96f6\u540e\u4e3a\u201c0\u201d\uff0c\u7528\u201c0.8\u201d\u63a5\u7740\u8ba1\u7b97\u3002 0.8*2 \uff1d 1.6\u2026\u20261\u2014\u2014\u6574\u6570\u90e8\u5206\u4e3a\u201c1\u201d\u3002\u6574\u6570\u90e8\u5206\u201c1\u201d\u6e05\u96f6\u540e\u4e3a\u201c0\u201d\uff0c\u7528\u201c0.6\u201d\u63a5\u7740\u8ba1\u7b97\u3002 0.6*2 \uff1d 1.2\u2026\u20261\u2014\u2014\u6574\u6570\u90e8\u5206\u4e3a\u201c1\u201d\u3002\u6574\u6570\u90e8\u5206\u201c1\u201d\u6e05\u96f6\u540e\u4e3a\u201c0\u201d\uff0c\u7528\u201c0.2\u201d\u63a5\u7740\u8ba1\u7b97\u3002 0.2*2 \uff1d 0.4\u2026\u20260\u2014\u2014\u6574\u6570\u90e8\u5206\u4e3a\u201c0\u201d\u3002\u6574\u6570\u90e8\u5206\u201c0\u201d\u6e05\u96f6\u540e\u4e3a\u201c0\u201d\uff0c\u7528\u201c0.4\u201d\u63a5\u7740\u8ba1\u7b97\u3002 0.4*2 \uff1d 0.8\u2026\u20260\u2014\u2014\u6574\u6570\u90e8\u5206\u4e3a\u201c0\u201d\u3002\u6574\u6570\u90e8\u5206\u201c0\u201d\u6e05\u96f6\u540e\u4e3a\u201c0\u201d\uff0c\u7528\u201c0.8\u201d\u63a5\u7740\u8ba1\u7b97\u3002 0.8*2 \uff1d 1.6\u2026\u20261\u2014\u2014\u6574\u6570\u90e8\u5206\u4e3a\u201c1\u201d\u3002\u6574\u6570\u90e8\u5206\u201c1\u201d\u6e05\u96f6\u540e\u4e3a\u201c0\u201d\uff0c\u7528\u201c0.6\u201d\u63a5\u7740\u8ba1\u7b97\u3002 0.6*2 \uff1d 1.2\u2026\u20261\u2014\u2014\u6574\u6570\u90e8\u5206\u4e3a\u201c1\u201d\u3002\u6574\u6570\u90e8\u5206\u201c1\u201d\u6e05\u96f6\u540e\u4e3a\u201c0\u201d\uff0c\u7528\u201c0.2\u201d\u63a5\u7740\u8ba1\u7b97\u3002 0.2*2 \uff1d 0.4\u2026\u20260\u2014\u2014\u6574\u6570\u90e8\u5206\u4e3a\u201c0\u201d\u3002\u6574\u6570\u90e8\u5206\u201c0\u201d\u6e05\u96f6\u540e\u4e3a\u201c0\u201d\uff0c\u7528\u201c0.4\u201d\u63a5\u7740\u8ba1\u7b97\u3002 0.4*2 \uff1d 0.8\u2026\u20260\u2014\u2014\u6574\u6570\u90e8\u5206\u4e3a\u201c0\u201d\u3002\u6574\u6570\u90e8\u5206\u201c0\u201d\u6e05\u96f6\u540e\u4e3a\u201c0\u201d\uff0c\u7528\u201c0.2\u201d\u63a5\u7740\u8ba1\u7b97\u3002 0.8*2 \uff1d 1.6\u2026\u20261\u2014\u2014\u6574\u6570\u90e8\u5206\u4e3a\u201c1\u201d\u3002\u6574\u6570\u90e8\u5206\u201c1\u201d\u6e05\u96f6\u540e\u4e3a\u201c0\u201d\uff0c\u7528\u201c0.2\u201d\u63a5\u7740\u8ba1\u7b97\u3002 \u2026\u2026 \u2026\u2026 \u6240\u4ee5\uff0c\u5f97\u5230\u7684\u6574\u6570\u4f9d\u6b21\u662f\uff1a\u201c0\u201d\uff0c\u201c0\u201d\uff0c\u201c0\u201d\uff0c\u201c1\u201d\uff0c\u201c1\u201d\uff0c\u201c0\u201d\uff0c\u201c0\u201d\uff0c\u201c1\u201d\uff0c\u201c1\u201d\uff0c\u201c0\u201d\uff0c\u201c0\u201d\uff0c\u201c1\u201d\u2026\u2026\u3002 \u7531\u6b64\uff0c\u5927\u5bb6\u80af\u5b9a\u80fd\u770b\u51fa\u6765\uff0c\u6574\u6570\u90e8\u5206\u51fa\u73b0\u4e86\u65e0\u9650\u5faa\u73af\u3002</p> <p>\u63a5\u4e0b\u6765\u770b 0.2</p> <p>0.2 \u5316\u4e8c\u8fdb\u5236\u662f 0.2*2=0.4,\u6574\u6570\u4f4d\u4e3a 0 0.4*2=0.8,\u6574\u6570\u4f4d\u4e3a 0 0.8*2=1.6,\u6574\u6570\u4f4d\u4e3a 1,\u53bb\u6389\u6574\u6570\u4f4d\u5f97 0.6 0.6*2=1.2,\u6574\u6570\u4f4d\u4e3a 1,\u53bb\u6389\u6574\u6570\u4f4d\u5f97 0.2 0.2*2=0.4,\u6574\u6570\u4f4d\u4e3a 0 0.4*2=0.8.\u6574\u6570\u4f4d\u4e3a 0 \u5c31\u8fd9\u6837\u63a8\u4e0b\u53bb\uff01\u5c0f\u6570*2 \u6574,\u4e00\u76f4\u4e0b\u53bb\u5c31\u884c \u8fd9\u4e2a\u6570\u6574\u4e0d\u65ad 0.0011001</p> <p>\u6240\u4ee5 0.1 \u548c 0.2 \u90fd\u65e0\u6cd5\u5b8c\u7f8e\u8f6c\u5316\u4e3a\u4e8c\u8fdb\u5236\uff0c\u6240\u4ee5\u5b83\u4eec\u76f8\u52a0\u5f53\u7136\u4e0d\u662f 0.3 \u4e86</p>"},{"location":"server/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E7%9F%A5%E8%AF%86/#5","title":"5\u3001\u5b9a\u70b9\u6570\u548c\u6d6e\u70b9\u6570","text":"<p>\u9996\u5148\uff0c\u4ec0\u4e48\u662f\u5b9a\u70b9\u6570\u5462\uff1f</p> <p>5.1 \u5b9a\u70b9\u6570</p> <p>\u5982\u4e0a\u56fe\uff0c\u4e3e\u4f8b\u7eaf\u6574\u6570\u7684\u4e8c\u8fdb\u5236 1011 \u548c-1011\uff0c\u5982\u679c\u662f\u6574\u6570\uff0c\u7b26\u53f7\u4f4d\u7528 0 \u8868\u793a\uff0c\u5982\u679c\u662f\u8d1f\u6570\u7b26\u53f7\u4e3a\u7528 1 \u8868\u793a</p> <p>\u540c\u7406\uff0c\u7eaf\u5c0f\u6570\u8868\u793a\u4e3e\u4f8b\u5982\u4e0b\uff1a</p> <p>\u90a3\u5982\u679c\u4e0d\u662f\u7eaf\u5c0f\u6570\u6216\u8005\u7eaf\u6574\u6570\uff0c\u8be5\u600e\u4e48\u8868\u793a\u5462\uff1f</p> <p>\u6bd4\u5982 10.1, \u53ef\u4ee5\u4e58\u4ee5\u4e00\u4e2a\u6bd4\u4f8b\u56e0\u5b50\uff0c\u5c06 10.1 ---&gt; 101 \u6bd4\u4f8b\u56e0\u5b50\u662f 10, \u6216\u8005 10.1 ---&gt; 0.101 \u6bd4\u4f8b\u56e0\u5b50\u662f 100</p> <p>\u5b9a\u70b9\u6570\u5f88\u7b80\u5355\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u4ecb\u7ecd\u6d6e\u70b9\u6570\uff0c\u518d JS \u91cc\u9762\uff0c\u6570\u5b57\u90fd\u662f\u7528\u53cc\u7cbe\u5ea6\u7684\u6d6e\u70b9\u6570\uff0c\u6240\u4ee5\u5b66\u4e60\u6d6e\u70b9\u6570\u5bf9\u6211\u4eec\u7406\u89e3 JS \u7684\u6570\u5b57\u6709\u5e2e\u52a9\u3002</p> <p>5.2 \u6d6e\u70b9\u6570</p> <p>\u6d6e\u70b9\u6570\u600e\u4e48\u8868\u793a\u5462\uff1f</p> <p>\u4e0a\u9762\u662f\u5341\u8fdb\u5236\u7684\u79d1\u5b66\u8ba1\u6570\u6cd5\uff0c\u4ece\u4e2d\u6211\u4eec\u9700\u8981\u4e86\u89e3\u51e0\u4e2a\u6982\u5ff5\uff0c\u4e00\u4e2a\u662f\u5c3e\u6570\uff0c\u57fa\u6570\u548c\u9636\u7801</p> <p>\u5c3e\u6570\u5fc5\u987b\u662f\u7eaf\u5c0f\u6570\uff0c\u6240\u4ee5\u4e0a\u56fe\u4e2d 1.2345 \u4e0d\u6ee1\u8db3\u5c3e\u6570\u7684\u683c\u5f0f\uff0c\u9700\u8981\u6539\u6210 0.12345 \u57fa\u6570\uff0c\u5728\u4e8c\u8fdb\u5236\u91cc\u9762\u662f 2 \u9636\u7801\u5c31\u662f\u591a\u5c11\u6b21\u65b9</p> <p>\u6240\u4ee5\u6d6e\u70b9\u6570\u7684\u901a\u7528\u8868\u793a\u683c\u5f0f\u5982\u4e0b\uff1a</p> <p>S \u4ee3\u8868\u5c3e\u6570 r \u4ee3\u8868\u57fa\u6570 j \u4ee3\u8868\u9636\u7801</p> <p>\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6d6e\u70b9\u6570\u7684\u52a0\u51cf\u8fd0\u7b97\uff0c\u5e76\u4e0d\u662f\u50cf\u6211\u4eec\u4e0a\u9762\u4ecb\u7ecd\u7684\u90a3\u6837\u7b80\u5355\uff0c\u4f1a\u7ecf\u8fc7\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\u5b8c\u6210</p> <p>\u8fd9\u4e9b\u540d\u8bcd\u5927\u5bb6\u611f\u5174\u8da3\u7684\u8bdd\uff0c\u53ef\u4ee5\u53bb\u7f51\u4e0a\u67e5\u8be2\uff0c\u6211\u4eec\u53ea\u8981\u4e86\u89e3\u5230\u6d6e\u70b9\u6570\u52a0\u51cf\u8fd0\u7b97\u5f88\u9ebb\u70e6\u5c31\u884c\u4e86\uff0c\u4f46\u5982\u679c\u4f60\u8981\u505a\u4e00\u4e2a\u6d6e\u70b9\u6570\u8fd0\u7b97\u7684\u5e93\uff0c\u4f60\u80af\u5b9a\u662f\u8981\u5b8c\u5168\u638c\u63e1\u7684\u3002</p>"},{"location":"server/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E7%9F%A5%E8%AF%86/#6-catche","title":"6\u3001\u5c40\u90e8\u6027\u539f\u7406\u548c catche(\u7f13\u5b58)","text":"<p>\u5148\u770b\u4e0b\u56fe</p> <p>\uff08\u8bf4\u660e\u4e00\u4e0b\uff0cMDR \u548c MAR \u867d\u7136\u903b\u8f91\u4e0a\u5c5e\u4e8e\u4e3b\u5b58\uff0c\u4f46\u662f\u5728\u7535\u8def\u5b9e\u73b0\u7684\u65f6\u5019\uff0cMDR \u548c MAR \u79bb CPU \u6bd4\u8f83\u8fd1\uff09</p> <p>\u4e0a\u56fe\u662f\u5728\u6267\u884c\u4e00\u4e32\u4ee3\u7801,\u53ef\u4ee5\u7406\u89e3\u4e3a js \u7684 for \u5faa\u73af</p> <p>const n = 1000; const a = [1, 2, 3, 4, 5, 6, 7] for(let i =0; i &lt; n; i++) { a[i] = a[i] + 2 }</p> <p>\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0</p> <p>\u6570\u7ec4\u7684\u6570\u636e\u6709\u65f6\u5019\u5728\u5185\u5b58\u662f\u8fde\u7eed\u5b58\u50a8\u7684 \u5982\u679c\u6211\u4eec\u8981\u53d6\u6570\u636e\uff0c\u6bd4\u5982\u4ece\u5185\u5b58\u53d6\u51fa a[0]\u7684\u6570\u636e\u9700\u8981 1000ns(ns \u662f\u7eb3\u79d2\u7684\u610f\u601d),\u90a3\u4e48\u53d6\u51fa a[0]\u5230 a[7]\u5c31\u9700\u8981 1000 * 8 = 8000 ns \u5982\u679c\u6211\u4eec cpu \u53d1\u73b0\u8fd9\u662f\u53d6\u6570\u7ec4\u6570\u636e\uff0c\u90a3\u4e48\u6211\u5c31\u628a\u5c31\u8fd1\u7684\u6570\u636e\u5757 a[0]\u5230 a[7]\u5168\u90e8\u5b58\u5230\u7f13\u5b58\u4e0a\u591a\u597d\uff0c\u8fd9\u6837\u53ea\u9700\u8981\u53d6\u4e00\u6b21\u6570\u636e\uff0c\u6d88\u8017 1000ns</p> <p>cahce \u5c31\u662f\u5c40\u90e8\u6027\u539f\u7406\u7684\u4e00\u4e2a\u5e94\u7528</p> <p>\u7a7a\u95f4\u5c40\u90e8\u6027\uff1a\u5728\u6700\u8fd1\u7684\u672a\u6765\u8981\u7528\u5230\u7684\u4fe1\u606f\uff08\u6307\u4ee4\u548c\u6570\u636e\uff09\uff0c\u5f88\u53ef\u80fd\u4e0e\u73b0\u5728\u6b63\u5728\u4f7f\u7528\u7684\u4fe1\u606f\u5728\u5b58\u50a8\u7a7a\u95f4\u4e0a\u662f\u90bb\u8fd1\u7684 \u65f6\u95f4\u5c40\u90e8\u6027\uff1a\u5728\u6700\u8fd1\u7684\u672a\u6765\u8981\u7528\u5230\u7684\u4fe1\u606f\uff0c\u5f88\u53ef\u80fd\u662f\u73b0\u5728\u6b63\u5728\u4f7f\u7528\u7684\u4fe1\u606f</p> <p>\u53ef\u4ee5\u770b\u5230 cache \u4e00\u6b21\u6027\u53d6\u4e86 a[0]\u5230 a[9]\u5b58\u50a8\u4f53\u4e0a\u7684\u6570\u636e\uff0c\u53ea\u9700\u8981 1000ns\uff0c\u56e0\u4e3a Cache \u662f\u9ad8\u901f\u5b58\u50a8\u5668\uff0c\u8ddf cpu \u4ea4\u4e92\u901f\u5ea6\u5c31\u6bd4 cpu \u8ddf\u4e3b\u5b58\u4ea4\u4e92\u901f\u5ea6\u5feb\u5f88\u591a\u3002</p> <p>\u63a5\u4e0b\u91cc\uff0c\u8fdb\u5165\u6700\u540e\u4e00\u8282(\u7565\u8fc7\u5bf9\u603b\u7ebf\u77e5\u8bc6\u7684\u5b66\u4e60)\uff0cI/O \u8bbe\u5907\u7684\u6f14\u53d8</p>"},{"location":"server/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E7%9F%A5%E8%AF%86/#7io","title":"7\u3001I/O \u8bbe\u5907\u7684\u6f14\u53d8","text":"<p>I/O \u662f\u4ec0\u4e48\u5462\uff1f</p> <p>\u8f93\u5165/\u8f93\u51fa\uff08Input /Output ,\u7b80\u79f0 I/O\uff09\uff0c\u6307\u7684\u662f\u4e00\u5207\u64cd\u4f5c\u3001\u7a0b\u5e8f\u6216\u8bbe\u5907\u4e0e\u8ba1\u7b97\u673a\u4e4b\u95f4\u53d1\u751f\u7684\u6570\u636e\u4f20\u8f93\u8fc7\u7a0b\u3002</p> <p>\u6bd4\u5982\u6587\u4ef6\u8bfb\u5199\u64cd\u4f5c\uff0c\u5c31\u662f\u5178\u578b\u7684 I/O \u64cd\u4f5c\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u770b\u4e00\u4e0b I/O \u8bbe\u5907\u7684\u6f14\u8fdb\u8fc7\u7a0b</p> <p>\u5728\u65e9\u671f\u7684\u8ba1\u7b97\u673a\u91cc\uff0ccpu \u5982\u4f55\u77e5\u9053 I/O \u8bbe\u5907\u5df2\u7ecf\u5b8c\u6210\u4efb\u52a1\u5462?\u6bd4\u5982\u8bf4\u600e\u4e48\u77e5\u9053 I/O \u8bbe\u5907\u5df2\u7ecf\u8bfb\u53d6\u5b8c\u4e00\u4e2a\u6587\u4ef6\u7684\u6570\u636e\u5462?CPU \u4f1a\u4e0d\u65ad\u67e5\u8be2 I/O \u8bbe\u5907\u662f\u5426\u5df2\u7ecf\u51c6\u5907\u597d\u3002\u8fd9\u65f6\uff0ccpu \u5c31\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u3002\u4e5f\u5c31\u662f cpu \u5de5\u4f5c\u7684\u65f6\u5019\uff0cI/O \u7cfb\u7edf\u662f\u4e0d\u5de5\u4f5c\u7684\uff0cI/O \u7cfb\u7edf\u5de5\u4f5c\uff0ccpu \u662f\u4e0d\u5de5\u4f5c\u3002</p> <p>\u63a5\u7740\u770b\u7b2c\u4e8c\u9636\u6bb5</p> <p>\u4e3a\u4e86\u89e3\u51b3\u7b2c\u4e00\u9636\u6bb5 CPU \u8981\u7b49\u5f85 I/O \u8bbe\u5907\uff0c\u4e32\u884c\u7684\u5de5\u4f5c\u65b9\u5f0f\uff0c\u6240\u6709 I/O \u8bbe\u5907\u901a\u8fc7 I/O \u603b\u7ebf\u6765\u8ddf CPU \u6253\u4ea4\u9053\uff0c\u4e00\u65e6\u67d0\u4e2a I/O \u8bbe\u5907\u5b8c\u6210\u4efb\u52a1\uff0c\u5c31\u4f1a\u4ee5\u4e2d\u65ad\u8bf7\u6c42\u7684\u65b9\u5f0f\uff0c\u901a\u8fc7 I/O \u603b\u7ebf\uff0c\u544a\u8bc9 CPU\uff0c\u6211\u5df2\u7ecf\u51c6\u5907\u597d\u4e86\u3002</p> <p>\u4f46\u662f\u5bf9\u4e8e\u9ad8\u901f\u5916\u8bbe\uff0c\u5b83\u4eec\u5b8c\u6210\u4efb\u52a1\u7684\u901f\u5ea6\u5f88\u5feb\uff0c\u6240\u4ee5\u4f1a\u9891\u7e41\u4e2d\u65ad CPU, \u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u9ad8\u901f\u5916\u8bbe\u8ddf\u4e3b\u5b58\u4e4b\u95f4\u7528\u4e00\u6761\u76f4\u63a5\u6570\u636e\u901a\u8def\uff0cDMA \u603b\u7ebf\u8fde\u63a5\uff0cCPU \u53ea\u9700\u8981\u5b89\u6392\u5f00\u59cb\u9ad8\u901f\u5916\u8bbe\u505a\u4ec0\u4e48\uff0c\u5269\u4e0b\u7684\u5c31\u4e0d\u7528\u7ba1\u4e86\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u9632\u6b62\u9891\u7e41\u4e2d\u65ad CPU\u3002</p> <p>\u6700\u540e\u6765\u770b\u4e00\u4e0b\u7b2c\u4e09\u9636\u6bb5</p> <p>\u7b2c\u4e09\u9636\u6bb5\uff0cCPU \u901a\u8fc7\u901a\u9053\u63a7\u5236\u90e8\u4ef6\u6765\u7ba1\u7406 I/O \u8bbe\u5907\uff0cCPU \u4e0d\u9700\u8981\u5e2e\u5b83\u5b89\u6392\u4efb\u52a1\uff0c\u53ea\u9700\u8981\u7b80\u5355\u7684\u53d1\u51fa\u542f\u52a8\u548c\u505c\u6b62\u7c7b\u4f3c\u7684\u547d\u4ee4\uff0c\u901a\u9053\u90e8\u4ef6\u5c31\u4f1a\u81ea\u52a8\u7684\u5b89\u6392\u76f8\u5e94\u7684 I/O \u8bbe\u5907\u5de5\u4f5c</p> <p>\u672c\u6587\u5b8c\u7ed3\uff0c\u5e0c\u671b\u5927\u5bb6\u70b9\u4e2a\u8d5e\uff0c\u6bd4\u5fc3 \ud83d\udc97\u3002</p>"},{"location":"server/docker-compose-demo/readme/","title":"Docker Compose","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1054  \u9605\u8bfb3\u5206\u949f</p> <p>docker-compose \u7ec3\u4e60\u6848\u4f8b\uff0c\u539f\u59cb\u94fe\u63a5\uff1ahttps://www.runoob.com/docker/docker-compose.html</p> <p>Compose \u662f\u7528\u4e8e\u5b9a\u4e49\u548c\u8fd0\u884c\u591a\u5bb9\u5668 Docker \u5e94\u7528\u7a0b\u5e8f\u7684\u5de5\u5177\u3002\u901a\u8fc7 Compose\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 YML \u6587\u4ef6\u6765\u914d\u7f6e\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u7684\u6240\u6709\u670d\u52a1\u3002\u7136\u540e\uff0c\u4f7f\u7528\u4e00\u4e2a\u547d\u4ee4\uff0c\u5c31\u53ef\u4ee5\u4ece YML \u6587\u4ef6\u914d\u7f6e\u4e2d\u521b\u5efa\u5e76\u542f\u52a8\u6240\u6709\u670d\u52a1\u3002</p> <p>\u5982\u679c\u4f60\u8fd8\u4e0d\u4e86\u89e3 YML \u6587\u4ef6\u914d\u7f6e\uff0c\u53ef\u4ee5\u5148\u9605\u8bfb YAML \u5165\u95e8\u6559\u7a0b\u3002</p> <p>Compose \u4f7f\u7528\u7684\u4e09\u4e2a\u6b65\u9aa4\uff1a</p> <ol> <li>\u4f7f\u7528 Dockerfile \u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f\u7684\u73af\u5883\u3002</li> <li>\u4f7f\u7528 docker-compose.yml \u5b9a\u4e49\u6784\u6210\u5e94\u7528\u7a0b\u5e8f\u7684\u670d\u52a1\uff0c\u8fd9\u6837\u5b83\u4eec\u53ef\u4ee5\u5728\u9694\u79bb\u73af\u5883\u4e2d\u4e00\u8d77\u8fd0\u884c\u3002</li> <li>\u6700\u540e\uff0c\u6267\u884c docker-compose up \u547d\u4ee4\u6765\u542f\u52a8\u5e76\u8fd0\u884c\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u3002</li> </ol> <p>\u5176\u4ed6\u5e38\u7528\u547d\u4ee4</p> <pre><code>docker exec -it \u5bb9\u5668\u540d\u79f0 bash\ndocker run -it \u955c\u50cf\u540d\u79f0 bash\n# \u672c\u5730\u6709 node \u7684\u955c\u50cf\uff0c\u4f46\u662f\u6ca1\u6709 node \u7684\u5bb9\u5668\uff0c\u6240\u4ee5\u7b2c\u4e8c\u884c\u53ef\u4ee5\u8fd0\u884c\n\ndocker port mysql \u67e5\u770b\u5bb9\u5668\u7aef\u53e3\u6620\u5c04\n3306/tcp -&gt; 0.0.0.0:3306\n\ndocker start/stop \u5bb9\u5668\u540d\u79f0 \u6253\u5f00\u6216\u8005\u5173\u95ed\u5bb9\u5668\n</code></pre>"}]}