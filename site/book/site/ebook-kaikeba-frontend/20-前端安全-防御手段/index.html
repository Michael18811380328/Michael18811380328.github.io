
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Michael An">
      
      
        <link rel="canonical" href="https://michael18811380328.github.io/ebook-kaikeba-frontend/20-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8-%E9%98%B2%E5%BE%A1%E6%89%8B%E6%AE%B5/">
      
      
        <link rel="prev" href="../19-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8-%E5%B8%B8%E8%A7%81Web%E6%94%BB%E5%87%BB/">
      
      
        <link rel="next" href="../../ebook-netease-senior-frontend/02-v8%E5%BC%95%E6%93%8E%E5%9B%9E%E6%94%B6%E5%86%85%E5%AD%98%E7%AE%80%E4%BB%8B/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>20-前端安全-防御手段 - Michale An Blog</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Michale An Blog" class="md-header__button md-logo" aria-label="Michale An Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Michale An Blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              20-前端安全-防御手段
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/Michael18811380328/Michael18811380328.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Michael18811380328/Michael18811380328.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Michale An Blog" class="md-nav__button md-logo" aria-label="Michale An Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Michale An Blog
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Michael18811380328/Michael18811380328.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Michael18811380328/Michael18811380328.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ebook-JS-basic
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            ebook-JS-basic
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/01-%E5%85%A5%E9%97%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01-入门
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/02-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02-数据类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/03-%E8%BF%90%E7%AE%97%E7%AC%A6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03-运算符
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/04-%E8%AF%AD%E6%B3%95%E4%B8%93%E9%A2%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04-语法专题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/05-%E6%A0%87%E5%87%86%E5%BA%93/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05-标准库
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/06-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06-面向对象编程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/07-%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07-异步操作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/08-DOM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08-DOM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/09-Event/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09-Event
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/10-1-BOM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10-1-BOM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/10-2-%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10-2-同源策略
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/10-3-%E8%A1%A8%E5%8D%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10-3-表单
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/10-4-IndexedDB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10-4-IndexedDB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/10-5-web-worker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10-5-web-worker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/11-%E7%BD%91%E9%A1%B5%E5%85%83%E7%B4%A0%E6%8E%A5%E5%8F%A3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11-网页元素接口
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ebook-JSES6-RYF
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            ebook-JSES6-RYF
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/01-%E4%BB%8B%E7%BB%8D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01-介绍
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/02-%E5%8F%98%E9%87%8F%E8%B5%8B%E5%80%BC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02-变量赋值
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/03-%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03-解构赋值
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/04-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%89%A9%E5%B1%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04-字符串的扩展
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/05-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05-字符串方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/06-%E6%AD%A3%E5%88%99/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06-正则
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/07-%E6%95%B0%E5%80%BC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07-数值
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/08-%E5%87%BD%E6%95%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08-函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/09-%E6%95%B0%E7%BB%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09-数组
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/10-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B0%E5%A2%9E%E5%B1%9E%E6%80%A7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10-对象的新增属性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/11-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B0%E5%A2%9E%E6%96%B9%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11-对象的新增方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/12-Symbol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12-Symbol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/13-Set%20%E5%92%8C%20Map%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13-Set 和 Map 数据结构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/14-Proxy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    14-Proxy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/15-Reflect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    15-Reflect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/16-Promise/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    16-Promise
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/17-%E9%81%8D%E5%8E%86%E5%99%A8%E7%9A%84%E5%BE%AA%E7%8E%AF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    17-遍历器的循环
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/18-Generator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    18-Generator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/19-Generator%E5%BC%82%E6%AD%A5%E5%BA%94%E7%94%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    19-Generator异步应用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/20-async%20%E5%87%BD%E6%95%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    20-async 函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/21-Class%20%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    21-Class 的基本语法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/22-Class%20%E7%9A%84%E7%BB%A7%E6%89%BF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    22-Class 的继承
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/23-Module%20%E7%9A%84%E8%AF%AD%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    23-Module 的语法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/24-Module%20%E7%9A%84%E5%8A%A0%E8%BD%BD%E5%AE%9E%E7%8E%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    24-Module 的加载实现
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/25-%E7%BC%96%E7%A8%8B%E9%A3%8E%E6%A0%BC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    25-编程风格
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/readme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    readme
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ebook-heima-nodejs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            ebook-heima-nodejs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-heima-nodejs/00/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    00
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-heima-nodejs/01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-heima-nodejs/02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ebook-kaikeba-frontend
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            ebook-kaikeba-frontend
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01%20%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01 性能优化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02%20%E5%89%8D%E7%AB%AF%E6%B5%8B%E8%AF%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02 前端测试
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03 设计模式
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04 数据结构与算法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05%20%E9%9D%A2%E8%AF%95%E9%A2%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05 面试题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06%20%E9%9D%A2%E8%AF%95%E6%8A%80%E5%B7%A7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06 面试技巧
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07%20%E9%A1%B9%E7%9B%AE%E8%AF%BE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07 项目课
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-React%E9%A2%84%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08-React预习笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-React%E9%9D%A2%E8%AF%95%E9%A2%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09-React面试题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10-React%E7%BB%84%E4%BB%B6%E5%8C%96/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10-React组件化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../11-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11-自动化测试
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../12-webpack-01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12-webpack-01
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../13-webpack-02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13-webpack-02
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../14-webpack-03/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    14-webpack-03
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../15-webpack%E4%BC%98%E5%8C%96%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    15-webpack优化笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../16-webpack%E4%BC%98%E5%8C%96%E5%AE%98%E6%96%B9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    16-webpack优化官方
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../17-webpack-05/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    17-webpack-05
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../18-webpack-06/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    18-webpack-06
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../19-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8-%E5%B8%B8%E8%A7%81Web%E6%94%BB%E5%87%BB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    19-前端安全-常见Web攻击
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    20-前端安全-防御手段
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    20-前端安全-防御手段
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      课堂目标
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      知识要点
    </span>
  </a>
  
    <nav class="md-nav" aria-label="知识要点">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-30min" class="md-nav__link">
    <span class="md-ellipsis">
      1. 密码安全(30min)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 人机验证 与 验证码 样式和反面教材
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-https-30min" class="md-nav__link">
    <span class="md-ellipsis">
      3. HTTPS 配置(30min)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-helmet15min" class="md-nav__link">
    <span class="md-ellipsis">
      4. helmet中间件(15min)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-session" class="md-nav__link">
    <span class="md-ellipsis">
      5. Session管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6.浏览器安全控制
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ebook-netease-senior-frontend
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            ebook-netease-senior-frontend
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/02-v8%E5%BC%95%E6%93%8E%E5%9B%9E%E6%94%B6%E5%86%85%E5%AD%98%E7%AE%80%E4%BB%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02-v8引擎回收内存简介
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/03-node%E4%B8%8B%E9%9D%A2%E7%9A%84Restful%E5%AE%9E%E7%8E%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03-node下面的Restful实现
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/04-%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3%E7%9A%84%E6%8F%90%E5%8D%87%E2%80%94%E5%A6%82%E4%BD%95%E6%8F%90%E9%AB%98%E6%88%91%E4%BB%AC%E4%BB%A3%E7%A0%81%E7%9A%84%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04-编程思想的提升—如何提高我们代码的可扩展性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/06-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86%E5%92%8Cssr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06-浏览器渲染原理和ssr
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/07-%E7%BD%91%E6%98%93%E7%9C%9F%E5%AE%9E%E9%A1%B9%E7%9B%AEwebpack%E9%85%8D%E7%BD%AE%E8%A7%A3%E6%9E%90/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07-网易真实项目webpack配置解析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/08-%E4%BB%8E%E6%9E%B6%E6%9E%84%E5%88%86%E6%9E%90API%E5%B1%82/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08-从架构分析API层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/09-%E5%89%8D%E7%AB%AF%E8%B4%9F%E8%B4%A3%E4%BA%BA%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%86%85%E5%AE%B9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09-前端负责人的工作内容
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/10-%E5%88%86%E6%9E%90%E6%BA%90%E7%A0%81%E5%AD%A6%E6%9E%B6%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10-分析源码学架构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/11-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E9%AB%98%E8%B4%A8%E9%87%8F%E4%BB%A3%E7%A0%81/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11-设计模式高质量代码
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/12-nodeJS%2BMongoDB%E7%99%BB%E5%BD%95%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12-nodeJS+MongoDB登录系统
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/12-nodejs-mongodb-mongoose/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12-nodejs-mongodb-mongoose
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/13-%E4%BD%BF%E7%94%A8VUE%E5%88%9B%E5%BB%BA%E7%BB%84%E4%BB%B6%EF%BC%88%E6%B2%A1%E5%AD%A6%E5%AE%8C%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13-使用VUE创建组件（没学完）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/16-%E6%9E%84%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6%E5%B7%A5%E5%85%B7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    16-构建自己的脚手架工具
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/17-webpack%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    17-webpack编译原理分析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/20-%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%8A%80%E8%83%BD-VUE%EF%BC%88%E6%B2%A1%E5%AD%A6%E5%AE%8C%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    20-组件封装的基本技能-VUE（没学完）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/21-ssr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    21-ssr
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/24-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E5%A6%82%E4%BD%95%E5%81%9A/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    24-单元测试如何做
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/25-%E5%9F%BA%E4%BA%8ENodeJS%E6%89%93%E9%80%A0Web%E6%9E%B6%E6%9E%84%E4%B8%AD%E9%97%B4%E5%B1%82/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    25-基于NodeJS打造Web架构中间层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/readme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    readme
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ebook-network-basic
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            ebook-network-basic
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-network-basic/01%20%E6%A6%82%E8%BF%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01 概述
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-network-basic/02%20%E7%89%A9%E7%90%86%E5%B1%82/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02 物理层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-network-basic/03%20%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03 数据链路层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-network-basic/04%20%E7%BD%91%E7%BB%9C%E5%B1%82/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04 网络层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-network-basic/05%20%E8%BF%90%E8%BE%93%E5%B1%82/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05 运输层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-network-basic/06%20%E5%BA%94%E7%94%A8%E5%B1%82/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06 应用层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-network-basic/readme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    readme
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-network-basic/todo%20%E4%BA%92%E8%81%94%E7%BD%91%E5%8D%8F%E8%AE%AE%E5%85%A5%E9%97%A8-%E9%98%AE%E4%B8%80%E5%B3%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo 互联网协议入门-阮一峰
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ebook-react-all
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            ebook-react-all
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-react-all/React%E6%8A%80%E6%9C%AF%E5%85%A8%E5%AE%B6%E6%A1%B6-01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React技术全家桶-01
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-react-all/React%E6%8A%80%E6%9C%AF%E5%85%A8%E5%AE%B6%E6%A1%B6-02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React技术全家桶-02
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    index
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    other
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            other
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/H5C3%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    H5C3从入门到精通
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/JS%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JS 数据结构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/JS-the-good-parts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JS-the-good-parts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/JavaScript%20%E7%A7%98%E5%AF%86%E8%8A%B1%E5%9B%AD-zh/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JavaScript 秘密花园-zh
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/data%20structure%20basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    data structure basic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/ebbok-qianfeng-express/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ebbok-qianfeng-express
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/express%E5%9B%BE%E4%B9%A6%E9%A6%86%E9%A1%B9%E7%9B%AE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    express图书馆项目
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/nodeJS-basic-upguigu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nodeJS-basic-upguigu
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93%20%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    代码整洁之道 读书笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E5%85%B6%E4%BB%96%E4%B9%A6%E5%8D%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    其他书单
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E7%AC%94%E8%AE%B0-%E9%98%AE%E4%B8%80%E5%B3%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    前端工程化笔记-阮一峰
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E7%B2%BE%E8%AF%BB-%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JS%E4%B8%8A%E5%8D%B7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    精读-你不知道的JS上卷
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E7%B2%BE%E8%AF%BB-%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JS%E4%B8%AD%E5%8D%B7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    精读-你不知道的JS中卷
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E7%B2%BE%E8%AF%BB-%E5%9B%BE%E8%A7%A3HTTP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    精读-图解HTTP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E7%B2%BE%E8%AF%BB-%E9%AB%98%E6%80%A7%E8%83%BDJS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    精读-高性能JS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%98%AF%E6%80%8E%E6%A0%B7%E8%B7%91%E8%B5%B7%E6%9D%A5%E7%9A%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    计算机是怎样跑起来的
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    计算机组成原理知识点总结
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      课堂目标
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      知识要点
    </span>
  </a>
  
    <nav class="md-nav" aria-label="知识要点">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-30min" class="md-nav__link">
    <span class="md-ellipsis">
      1. 密码安全(30min)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 人机验证 与 验证码 样式和反面教材
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-https-30min" class="md-nav__link">
    <span class="md-ellipsis">
      3. HTTPS 配置(30min)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-helmet15min" class="md-nav__link">
    <span class="md-ellipsis">
      4. helmet中间件(15min)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-session" class="md-nav__link">
    <span class="md-ellipsis">
      5. Session管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6.浏览器安全控制
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="_1">防御手段<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<p>统计信息：字数 19718  阅读40分钟</p>
<p>有一些内容图片在 PDF 课件中，保留。安全内容不需要全部学会（主要是后端和运维），面试前熟悉一下即可。</p>
<p>刻意练习：至少把核心代码抄写三次，这样才能学到。如果是单纯学习一次，没有复习，第一次也没有学会，那真的就是学一点忘记一点了。</p>
<h2 id="_2">课堂目标<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<ul>
<li>密码强化</li>
<li>人机识别</li>
<li>HTTPS</li>
<li>浏览器安全控制</li>
<li>CSP(Content-Security-Policy) </li>
<li>密码学</li>
<li>摘要 - md5 sha1 sha256 -hash（不同的哈希加密算法）</li>
<li>对称加密</li>
<li>非对称加密（SSL）</li>
</ul>
<h2 id="_3">知识要点<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<h3 id="1-30min">1. 密码安全(30min)<a class="headerlink" href="#1-30min" title="Permanent link">&para;</a></h3>
<p>泄露渠道</p>
<div class="highlight"><pre><span></span><code>数据库被偷
服务器被入侵
通讯被窃听
内部人员泄露
其他网站(撞库)
</code></pre></div>
<p>防御</p>
<p>使用哈希算法，明文 - 密文 - 一一对应</p>
<div class="highlight"><pre><span></span><code>严禁明文存储（服务器中的密码使用加密算法存储，从加密后的字符串无法反推密码。再次输入密码时，使用加密算法加密，然后和数据库中的密码验证）
单向变换
变换复杂度要求（求两次md5）
密码复杂度要求
加盐(防拆解)
</code></pre></div>
<p>雪崩效应 - 明文小幅变化 密文剧烈变化</p>
<p>密文 -明文无法反推</p>
<p>密文固定⻓度 md5 sha1 sha256</p>
<p>密码传输安全</p>
<p>https传输：频次限制；前端加密意义有限 - 传输层加密 不会泄露 但不代表不能登录</p>
<p>摘要加密的复杂度 md5反查</p>
<p><a href="https://www.cmd5.com/">https://www.cmd5.com/</a></p>
<div class="highlight"><pre><span></span><code><span class="c1">// /app/password.js</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">crypto</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;crypto&#39;</span><span class="p">);</span>

<span class="c1">// HASH 工厂函数（参数是哈希的类型）</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">hash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">type</span><span class="p">,</span><span class="w"> </span><span class="nx">str</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">crypro</span><span class="p">.</span><span class="nx">createHash</span><span class="p">(</span><span class="nx">type</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">str</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">&#39;hex&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">md5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">str</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">hash</span><span class="p">(</span><span class="s1">&#39;md5&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">str</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">sha1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">str</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">hash</span><span class="p">(</span><span class="s1">&#39;sha1&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">str</span><span class="p">);</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">encryptPassword</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">salt</span><span class="p">,</span><span class="w"> </span><span class="nx">password</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">md5</span><span class="p">(</span><span class="nx">salt</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;abced@#4@%#$7&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">password</span><span class="p">)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">psw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;123432!@#!@#@!#&#39;</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;md5&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">md5</span><span class="p">(</span><span class="nx">psw</span><span class="p">))</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;sha1&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">sha1</span><span class="p">(</span><span class="nx">psw</span><span class="p">))</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">encryptPassword</span><span class="p">;</span>
</code></pre></div>
<p>可以在 cmd5.com 中查询密码，如果简单的密码，经过一次 md5 或者 sha1 加密后，彩虹云很快可以破解。</p>
<p>讨论问题：</p>
<p>两次MD5是否可取——简单的密码经过两次加密，仍然可以反向计算出来（111111）</p>
<p>只加盐好不好——不好，因为盐保存在数据库中，可能和密码同时丢失（所以有了中间字符串）</p>
<p>中间的字符串的作用（在盐的基础上，在代码层面加入随机值，确保加密效果）</p>
<p>盐泄露是否会泄露密码（单纯盐泄漏，还有中间字符串；会增大密码破解的风险）</p>
<p>盐和字符串泄露，密码是否可以反推，但密码很复杂是否会被泄露（复杂密码反推较困难）</p>
<p>加密函数（加盐+自定义随机字符串）</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">encryptPassword</span><span class="p">(</span><span class="nx">salt</span><span class="p">,</span><span class="w"> </span><span class="nx">psd</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">md5</span><span class="p">(</span><span class="nx">salt</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;dfgh45#$%^&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">pwd</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>// index.js</p>
<p><div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">encryptPassword</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./password&#39;</span><span class="p">);</span>

<span class="c1">// 没有盐的情况（把数据库中已经有的密码加密）</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">res</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">salt</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;no salt ..&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// 没有盐，直接验证密码是否正确</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">password</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">res</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">password</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 使用 SQL 语句将未加密的密码加密</span>
<span class="w">    </span><span class="nx">sql</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`update test.user set salt = ?, password = ? where username = ?`</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// 生成随机数的盐</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">salt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">99999</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// 执行 SQL（把盐，密码，用户名传参进去），先对密码加盐加密</span>
<span class="w">    </span><span class="nx">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">query</span><span class="p">(</span><span class="nx">sql</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nx">salt</span><span class="p">,</span><span class="w"> </span><span class="nx">encryptPassword</span><span class="p">(</span><span class="nx">salt</span><span class="p">,</span><span class="w"> </span><span class="nx">password</span><span class="p">),</span><span class="w"> </span><span class="nx">username</span><span class="p">]);</span>
<span class="w">    </span><span class="c1">// 然后把用户名保存在 session 验证（已经登录）</span>
<span class="w">    </span><span class="nx">ctx</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ctx</span><span class="p">.</span><span class="nx">request</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">username</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// 界面重定向</span>
<span class="w">    </span><span class="nx">ctx</span><span class="p">.</span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;/?from=china&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
<span class="c1">// 有盐的情况</span>
<span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;has salt&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// 验证密码（使用盐和未加密的密码，使用加密函数处理），与数据库中的已加密的密码对比</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">encryptPassword</span><span class="p">(</span><span class="nx">res</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">salt</span><span class="p">,</span><span class="w"> </span><span class="nx">password</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">res</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">password</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">ctx</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ctx</span><span class="p">.</span><span class="nx">request</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">username</span>
<span class="w">    </span><span class="nx">ctx</span><span class="p">.</span><span class="nx">redirect</span><span class="p">(</span><span class="s1">&#39;/?from=china&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
一个现代的系统中，管理员有权限重置密码，但是管理员无法直接从数据库中拿到用户的密码</p>
<p>github 管理员可以重新给用户发送邮件重置密码，但是无法直接从数据库中拿到用户的密码和内容</p>
<h3 id="2">2. 人机验证 与 验证码 样式和反面教材<a class="headerlink" href="#2" title="Permanent link">&para;</a></h3>
<p><a href="https://veui.net/">https://veui.net/</a></p>
<div class="highlight"><pre><span></span><code>$(&#39;.verify-code font&#39;).text()
</code></pre></div>
<p><a href="http://www.lisa33xiaoq.net/1232.html">http://www.lisa33xiaoq.net/1232.html</a></p>
<p>前端：验证码请求（随机生成置坐标)；⻛控信息(滑动行为 ⻚面行为) 用来验证是否是机器操作（定时点击按钮，点击位置完全准确，不是符合正态分布）</p>
<p>后端⻛控服务器：背景抠图 (服务端保存随机抠图位）滑动距离值；如果判断是风险行为，那么会给后端服务器或者前端返回，再次验证等</p>
<p>滑动验证码实现原理</p>
<p>1.服务端随机生成抠图和带有抠图阴影的背景图片，服务端保存随机抠图位置坐标（x,y）; 存放在 session 中。</p>
<p>2.前端实现滑动交互，将抠图拼在抠图阴影之上，获取到用户滑动距离值（X，Y）; </p>
<p>3.前端将用户滑动距离值传入服务端，服务端校验误差是否在容许范围内（dx dy 是否在允许内）;</p>
<p>备注说明:单纯校验用户滑动距离是最基本的校验,处于更高安全考虑，可以考虑用户滑动整个轨迹、用 户在当前⻚面上的行为等,可以将其细化复杂地步,可以根据实际情况设计。亦或借助用户行为数据分析 模型,最终的目标都是增加非法的模拟和绕过的难度。</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">session</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">req</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">dragCaptcha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">x</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="3-https-30min">3. HTTPS 配置(30min)<a class="headerlink" href="#3-https-30min" title="Permanent link">&para;</a></h3>
<p>https 和密码学 <a href="https://www.cnblogs.com/hai-blog/p/8311671.html">https://www.cnblogs.com/hai-blog/p/8311671.html</a> </p>
<p>浏览器如何验证SSL证书 <a href="http://wemedia.ifeng.com/70345206/wemedia.shtml">http://wemedia.ifeng.com/70345206/wemedia.shtml</a></p>
<p>HTTP的弱点（从浏览器到服务器，中间需要经过很多链路服务器）</p>
<p>危害</p>
<p>窃听:密码 敏感信息</p>
<p>篡改:插入广告 重定向到其他网站(JS 和 Head头) 时代趋势</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 查看需要经过的节点</span>
traceroute<span class="w"> </span>bing.com<span class="w">     </span>
traceroute:<span class="w"> </span>Warning:<span class="w"> </span>bing.com<span class="w"> </span>has<span class="w"> </span>multiple<span class="w"> </span>addresses<span class="p">;</span><span class="w"> </span>using<span class="w"> </span><span class="m">204</span>.79.197.200
traceroute<span class="w"> </span>to<span class="w"> </span>bing.com<span class="w"> </span><span class="o">(</span><span class="m">204</span>.79.197.200<span class="o">)</span>,<span class="w"> </span><span class="m">64</span><span class="w"> </span>hops<span class="w"> </span>max,<span class="w"> </span><span class="m">52</span><span class="w"> </span>byte<span class="w"> </span>packets
<span class="w"> </span><span class="m">1</span><span class="w">  </span>phicomm.me<span class="w"> </span><span class="o">(</span><span class="m">192</span>.168.2.1<span class="o">)</span><span class="w">  </span><span class="m">2</span>.076<span class="w"> </span>ms<span class="w">  </span><span class="m">1</span>.522<span class="w"> </span>ms<span class="w">  </span><span class="m">1</span>.366<span class="w"> </span>ms
<span class="w"> </span><span class="m">2</span><span class="w">  </span><span class="m">192</span>.168.1.1<span class="w"> </span><span class="o">(</span><span class="m">192</span>.168.1.1<span class="o">)</span><span class="w">  </span><span class="m">1</span>.912<span class="w"> </span>ms<span class="w">  </span><span class="m">1</span>.807<span class="w"> </span>ms<span class="w">  </span><span class="m">1</span>.664<span class="w"> </span>ms
<span class="w"> </span><span class="m">3</span><span class="w">  </span><span class="m">10</span>.70.0.1<span class="w"> </span><span class="o">(</span><span class="m">10</span>.70.0.1<span class="o">)</span><span class="w">  </span><span class="m">5</span>.890<span class="w"> </span>ms<span class="w">  </span><span class="m">4</span>.376<span class="w"> </span>ms<span class="w">  </span><span class="m">3</span>.597<span class="w"> </span>ms
<span class="w"> </span><span class="m">4</span><span class="w">  </span><span class="m">125</span>.34.172.5<span class="w"> </span><span class="o">(</span><span class="m">125</span>.34.172.5<span class="o">)</span><span class="w">  </span><span class="m">6</span>.877<span class="w"> </span>ms<span class="w">  </span><span class="m">10</span>.509<span class="w"> </span>ms<span class="w">  </span><span class="m">7</span>.930<span class="w"> </span>ms


<span class="c1"># github 需要的更多</span>
traceroute<span class="w"> </span>github.com
traceroute<span class="w"> </span>to<span class="w"> </span>github.com<span class="w"> </span><span class="o">(</span><span class="m">20</span>.205.243.166<span class="o">)</span>,<span class="w"> </span><span class="m">64</span><span class="w"> </span>hops<span class="w"> </span>max,<span class="w"> </span><span class="m">52</span><span class="w"> </span>byte<span class="w"> </span>packets
<span class="w"> </span><span class="m">1</span><span class="w">  </span>phicomm.me<span class="w"> </span><span class="o">(</span><span class="m">192</span>.168.2.1<span class="o">)</span><span class="w">  </span><span class="m">2</span>.041<span class="w"> </span>ms<span class="w">  </span><span class="m">1</span>.459<span class="w"> </span>ms<span class="w">  </span><span class="m">1</span>.381<span class="w"> </span>ms
<span class="w"> </span><span class="m">2</span><span class="w">  </span><span class="m">192</span>.168.1.1<span class="w"> </span><span class="o">(</span><span class="m">192</span>.168.1.1<span class="o">)</span><span class="w">  </span><span class="m">2</span>.514<span class="w"> </span>ms<span class="w">  </span><span class="m">2</span>.853<span class="w"> </span>ms<span class="w">  </span><span class="m">1</span>.671<span class="w"> </span>ms
<span class="w"> </span><span class="m">3</span><span class="w">  </span><span class="m">10</span>.70.0.1<span class="w"> </span><span class="o">(</span><span class="m">10</span>.70.0.1<span class="o">)</span><span class="w">  </span><span class="m">3</span>.560<span class="w"> </span>ms<span class="w">  </span><span class="m">3</span>.428<span class="w"> </span>ms<span class="w">  </span><span class="m">3</span>.671<span class="w"> </span>ms
<span class="w"> </span><span class="m">4</span><span class="w">  </span><span class="m">125</span>.34.173.1<span class="w"> </span><span class="o">(</span><span class="m">125</span>.34.173.1<span class="o">)</span><span class="w">  </span><span class="m">5</span>.120<span class="w"> </span>ms<span class="w">  </span><span class="m">5</span>.496<span class="w"> </span>ms<span class="w">  </span><span class="m">4</span>.991<span class="w"> </span>ms
<span class="w"> </span><span class="m">5</span><span class="w">  </span>*<span class="w"> </span><span class="m">125</span>.33.186.113<span class="w"> </span><span class="o">(</span><span class="m">125</span>.33.186.113<span class="o">)</span><span class="w">  </span><span class="m">6</span>.615<span class="w"> </span>ms<span class="w"> </span>*
<span class="w"> </span><span class="m">6</span><span class="w">  </span><span class="m">219</span>.158.15.38<span class="w"> </span><span class="o">(</span><span class="m">219</span>.158.15.38<span class="o">)</span><span class="w">  </span><span class="m">39</span>.455<span class="w"> </span>ms<span class="w"> </span>*<span class="w"> </span>*
<span class="w"> </span><span class="m">7</span><span class="w">  </span><span class="m">219</span>.158.24.126<span class="w"> </span><span class="o">(</span><span class="m">219</span>.158.24.126<span class="o">)</span><span class="w">  </span><span class="m">91</span>.715<span class="w"> </span>ms
<span class="w">    </span><span class="m">219</span>.158.19.66<span class="w"> </span><span class="o">(</span><span class="m">219</span>.158.19.66<span class="o">)</span><span class="w">  </span><span class="m">95</span>.448<span class="w"> </span>ms
<span class="w">    </span><span class="m">219</span>.158.97.2<span class="w"> </span><span class="o">(</span><span class="m">219</span>.158.97.2<span class="o">)</span><span class="w">  </span><span class="m">69</span>.038<span class="w"> </span>ms
<span class="w"> </span><span class="m">8</span><span class="w">  </span><span class="m">219</span>.158.97.29<span class="w"> </span><span class="o">(</span><span class="m">219</span>.158.97.29<span class="o">)</span><span class="w">  </span><span class="m">48</span>.463<span class="w"> </span>ms<span class="w">  </span><span class="m">45</span>.069<span class="w"> </span>ms
<span class="w">    </span><span class="m">219</span>.158.103.26<span class="w"> </span><span class="o">(</span><span class="m">219</span>.158.103.26<span class="o">)</span><span class="w">  </span><span class="m">50</span>.318<span class="w"> </span>ms
<span class="w"> </span><span class="m">9</span><span class="w">  </span><span class="m">219</span>.158.10.30<span class="w"> </span><span class="o">(</span><span class="m">219</span>.158.10.30<span class="o">)</span><span class="w">  </span><span class="m">53</span>.144<span class="w"> </span>ms
<span class="w">    </span><span class="m">219</span>.158.10.62<span class="w"> </span><span class="o">(</span><span class="m">219</span>.158.10.62<span class="o">)</span><span class="w">  </span><span class="m">50</span>.188<span class="w"> </span>ms<span class="w">  </span><span class="m">44</span>.750<span class="w"> </span>ms
<span class="m">10</span><span class="w">  </span><span class="m">219</span>.158.33.114<span class="w"> </span><span class="o">(</span><span class="m">219</span>.158.33.114<span class="o">)</span><span class="w">  </span><span class="m">46</span>.421<span class="w"> </span>ms<span class="w">  </span><span class="m">47</span>.285<span class="w"> </span>ms<span class="w">  </span><span class="m">47</span>.581<span class="w"> </span>ms
<span class="m">11</span><span class="w">  </span>ae23-0.ear02.hkg30.ntwk.msn.net<span class="w"> </span><span class="o">(</span><span class="m">104</span>.44.43.137<span class="o">)</span><span class="w">  </span><span class="m">56</span>.336<span class="w"> </span>ms<span class="w">  </span><span class="m">52</span>.847<span class="w"> </span>ms<span class="w">  </span><span class="m">49</span>.812<span class="w"> </span>ms
<span class="m">12</span><span class="w">  </span>be-21-0.ibr01.hkg30.ntwk.msn.net<span class="w"> </span><span class="o">(</span><span class="m">104</span>.44.33.117<span class="o">)</span><span class="w">  </span><span class="m">83</span>.360<span class="w"> </span>ms
<span class="w">    </span>be-20-0.ibr02.hkg30.ntwk.msn.net<span class="w"> </span><span class="o">(</span><span class="m">104</span>.44.33.121<span class="o">)</span><span class="w">  </span><span class="m">224</span>.856<span class="w"> </span>ms<span class="w"> </span>*
<span class="m">13</span><span class="w">  </span>be-15-0.ibr02.sg2.ntwk.msn.net<span class="w"> </span><span class="o">(</span><span class="m">104</span>.44.19.124<span class="o">)</span><span class="w">  </span><span class="m">86</span>.832<span class="w"> </span>ms<span class="w">  </span><span class="m">86</span>.149<span class="w"> </span>ms<span class="w">  </span><span class="m">88</span>.765<span class="w"> </span>ms
<span class="m">14</span><span class="w">  </span>ae102-0.icr02.sg2.ntwk.msn.net<span class="w"> </span><span class="o">(</span><span class="m">104</span>.44.11.184<span class="o">)</span><span class="w">  </span><span class="m">82</span>.432<span class="w"> </span>ms
<span class="w">    </span>be-1-0.ibr02.sg3.ntwk.msn.net<span class="w"> </span><span class="o">(</span><span class="m">104</span>.44.7.18<span class="o">)</span><span class="w">  </span><span class="m">80</span>.380<span class="w"> </span>ms<span class="w">  </span><span class="m">83</span>.290<span class="w"> </span>ms
<span class="m">15</span><span class="w">  </span>ae120-0.icr01.sg3.ntwk.msn.net<span class="w"> </span><span class="o">(</span><span class="m">104</span>.44.20.22<span class="o">)</span><span class="w">  </span><span class="m">89</span>.074<span class="w"> </span>ms<span class="w"> </span>*<span class="w">  </span><span class="m">87</span>.831<span class="w"> </span>ms
</code></pre></div>
<blockquote>
<p>目前全球互联网正在从HTTP向HTTPS的大迁移</p>
<p>Chrome和火狐浏览器将对不采用HTTPS 加密的网站提示不安全</p>
<p>苹果要求所有APP通信都必须采用HTTPS加密</p>
<p>小程序强制要求服务器端使用HTTPS请求</p>
</blockquote>
<p>特点</p>
<ul>
<li>保密性 (防泄密)</li>
<li>完整性(防篡改)</li>
<li>真实性(防假冒)</li>
</ul>
<p>HTTP + SSL = HTTPS</p>
<p>什么是SSL证书：SSL证书由浏览器中“受信任的根证书颁发机构”在验证服务器身份后颁发,具有网站身份验证和加密传输</p>
<p>双重功能</p>
<p>密码学</p>
<p>对称加密：对称加密的一大缺点是密钥的管理与分配，换句话说，如何把密钥发送到需要解密你的消息的人的手里是一个问题。在发送密钥的过程中，密钥有很大的⻛险会被黑客们拦截。现实中通常的做法是将对称加密的密钥进行非对称加密，然后传送给需要它的人。主要的算法：DES。</p>
<p>不对称加密：产生一对秘钥：公钥负责加密；私钥负责解密。私钥无法解开说明公钥无效 - 抗抵赖。计算复杂对性能有影响(极端情况下 1000倍)。常⻅算法 RSA(大质数)、Elgamal、背包算法、Rabin、D-H、ECC(椭圆曲线加密算法)。区块链使用这个算法。</p>
<p>RSA原理</p>
<p><a href="http://www.ruanyifeng.com/blog/2013/06/rsa_algorithm_part_one.html">http://www.ruanyifeng.com/blog/2013/06/rsa_algorithm_part_one.html</a></p>
<p>只能被1和本身整除的数叫质数,例如13,质数是无穷多的.得到两个巨大质数的乘积是简单的事,但想 从该乘积反推出这两个巨大质数却没有任何有效的办法,这种不可逆的单向数学关系,是国际数学界 公认的质因数分解难题.
 R、S、A三人巧妙利用这一假说,设计出RSA公匙加密算法的基本原理:</p>
<p>1、让计算机随机生成两个大质数p和q,得出乘积n; 2、利用p和q有条件的生成加密密钥e; 3、通过一系列计算,得到与n互为质数的解密密钥d,置于操作系统才知道的地方;</p>
<p>4、操作系统将n和e共同作为公匙对外发布,将私匙d秘密保存,把初始质数p和q秘密丢弃. 国际数学和密码学界已证明,企图利用公匙和密文推断出明文--或者企图利用公匙推断出私匙的难 度等同于分解两个巨大质数的积.这就是Eve不可能对Alice的密文解密以及公匙可以在网上公布的 原因. 至于"巨大质数"要多大才能保证安全的问题不用担心:利用当前可预测的计算能力,在十进制下,分 解两个250位质数的积要用数十万年的时间;并且质数用尽或两台计算机偶然使用相同质数的概率 小到可以被忽略.</p>
<p>SSH公钥登录原理</p>
<p><a href="https://www.cnblogs.com/scofi/p/6617394.html">https://www.cnblogs.com/scofi/p/6617394.html</a> 原理介绍 密码口令登录</p>
<p>通过密码进行登录，主要流程为:</p>
<p>1、客户端连接上服务器之后，服务器把自己的公钥传给客户端</p>
<p>2、客户端输入服务器密码通过公钥加密之后传给服务器</p>
<p>3、服务器根据自己的私钥解密登录密码，如果正确那么就让客户端登录</p>
<p>公钥登录</p>
<p>公钥登录是为了解决每次登录服务器都要输入密码的问题，流行使用RSA加密方案，主要流程包含:</p>
<p>1、客户端生成RSA公钥和私钥
2、客户端将自己的公钥存放到服务器 
3、客户端请求连接服务器，服务器将一个用公钥加密随机字符串发送给客户端 
4、客户端根据自己的私钥加密这个随机字符串之后再发送给服务器
5、服务器接受到加密后的字符串之后用公钥解密，如果正确就让客户端登录，否则拒绝。</p>
<p>客户端</p>
<p>服务器</p>
<p>发出验证请求</p>
<table>
<thead>
<tr>
<th>用公钥加密的随机数</th>
</tr>
</thead>
<tbody>
<tr>
<td>用私钥解密后的随机数</td>
</tr>
<tr>
<td>正确后同意登录</td>
</tr>
</tbody>
</table>
<p>这样就不用使用密码了。</p>
<p>客户端</p>
<p>服务器</p>
<p>生成公钥</p>
<div class="highlight"><pre><span></span><code>ssh-keygen<span class="w"> </span>-t<span class="w"> </span>rsa<span class="w"> </span>-P<span class="w"> </span><span class="s1">&#39;&#39;</span>

xubin@xubindeMBP:~$<span class="w"> </span>ssh-keygen
Generating<span class="w"> </span>public/private<span class="w"> </span>rsa<span class="w"> </span>key<span class="w"> </span>pair.
Enter<span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>which<span class="w"> </span>to<span class="w"> </span>save<span class="w"> </span>the<span class="w"> </span>key<span class="w"> </span><span class="o">(</span>/Users/xubin/.ssh/id_rsa<span class="o">)</span>:
/Users/xubin/.ssh/id_rsa<span class="w"> </span>already<span class="w"> </span>exists.
Overwrite<span class="w"> </span><span class="o">(</span>y/n<span class="o">)</span>?<span class="w"> </span>yes
Enter<span class="w"> </span>passphrase<span class="w"> </span><span class="o">(</span>empty<span class="w"> </span><span class="k">for</span><span class="w"> </span>no<span class="w"> </span>passphrase<span class="o">)</span>:

Enter<span class="w"> </span>same<span class="w"> </span>passphrase<span class="w"> </span>again:
Your<span class="w"> </span>identification<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>saved<span class="w"> </span><span class="k">in</span><span class="w"> </span>/Users/xubin/.ssh/id_rsa.
Your<span class="w"> </span>public<span class="w"> </span>key<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>saved<span class="w"> </span><span class="k">in</span><span class="w"> </span>/Users/xubin/.ssh/id_rsa.pub.
The<span class="w"> </span>key<span class="w"> </span>fingerprint<span class="w"> </span>is:
SHA256:IeFPfrcQ3hhP64SRTAFzGIHl2ROcopl5HotRi2XNOGk<span class="w"> </span>xubin@xubindeMBP
The<span class="w"> </span>key<span class="err">&#39;</span>s<span class="w"> </span>randomart<span class="w"> </span>image<span class="w"> </span>is:
+---<span class="o">[</span>RSA<span class="w"> </span><span class="m">2048</span><span class="o">]</span>----+

<span class="p">|</span>
<span class="w"> </span><span class="p">|</span>
<span class="w"> </span><span class="p">|</span>
<span class="w"> </span><span class="p">|</span>
<span class="w"> </span><span class="p">|</span>
<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span>o<span class="p">|</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>+----<span class="o">[</span>SHA256<span class="o">]</span>-----+

.o*@<span class="o">=</span>o<span class="w"> </span><span class="p">|</span><span class="w"> </span>..oEB<span class="o">=</span>o<span class="w"> </span><span class="p">|</span><span class="w"> </span>o@<span class="o">=</span>+O<span class="w"> </span>.<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nv">B</span><span class="o">=</span>+o@.<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="o">=</span>So*<span class="w"> </span>*<span class="w"> </span><span class="p">|</span><span class="w"> </span>.o.<span class="o">=</span>.<span class="p">|</span>

<span class="c1"># 查看公钥</span>
<span class="w"> </span>cat<span class="w"> </span>.ssh/id_rsa.pub

<span class="c1"># 将公钥拷⻉到服务器</span>
<span class="w"> </span>scp<span class="w"> </span>~/.ssh/id_rsa.pub<span class="w"> </span>root@47.98.252.XXX:/root

<span class="c1"># 将公钥加入信任列表</span>
<span class="w"> </span>cat<span class="w"> </span>id_dsa.pub<span class="w"> </span>&gt;&gt;<span class="w"> </span>~/.ssh/authorized_keys
</code></pre></div>
<p>网站如何通过加密和用户安全通讯</p>
<p>阿里云上可以设置网站证书（DigiCert）</p>
<p>浏览器</p>
<ul>
<li>
<p>服务器  证书信任机构；发送一个HTTPS面请求 询问证书有效性</p>
</li>
<li>
<p>服务器  证书信任机构</p>
</li>
</ul>
<p>证书 + 公钥</p>
<p>用公钥加密的对称秘钥</p>
<p>是否有效</p>
<p>通过对称秘钥通信</p>
<p>浏览器</p>
<p>https的主要实现过程说明:</p>
<p>(1)在通信之前，服务器端通过加密算法生成一对密钥，并把其公钥发给CA申请数字证书，CA审核 后，结合服务端发来的相关信息生成数字证书，并把该数字证书发回给服务器端。</p>
<p>(2)客户端和服务器端经tcp三次握手，建立初步连接。</p>
<p>(3)客户端发送http报文请求并协商使用哪种加密算法。</p>
<p>(4)服务端响应报文并把自身的数字签名发给服务端。</p>
<p>(5)客服端下载CA的公钥，验证其数字证书的拥有者是否是服务器端(这个过程可以得到服务器端的 公钥)。(一般是客户端验证服务端的身份，服务端不用验证客户端的身份。)</p>
<p>(6)如果验证通过，客户端生成一个随机对称密钥，用该密钥加密要发送的URL链接申请，再用服务 器端的公钥加密该密钥，把加密的密钥和加密的URL链接一起发送到服务器。</p>
<p>(7)服务器端使用自身的私钥解密，获得一个对称密钥，再用该对称密钥解密经加密的URL链接，获 得URL链接申请。</p>
<p>(8)服务器端根据获得的URL链接取得该链接的网⻚，并用客户端发来的对称密钥把该网⻚加密后发 给客户端。</p>
<p>(9)客户端收到加密的网⻚，用自身的对称密钥解密，就能获得网⻚的内容了。 (10)TCP四次挥手，通信结束。</p>
<p>根证书在哪里</p>
<p>windows</p>
<p>在Windows下按Windows+ R, 输入certmgr.msc，在“受信任的根证书颁发机构”-“证书中”找到 “ROOTCA”，截止日期2025/08/23，单击右键，属性，可以查看其属性“禁用此证书的所有目的”</p>
<p>Mac</p>
<p>钥匙串</p>
<p><a href="http://www.techug.com/post/https-ssl-tls.html">http://www.techug.com/post/https-ssl-tls.html</a> HTTPS加密原理介绍 配置过程</p>
<p>修改开发机的host 前置</p>
<p>阿里云取得的真实证书 (域名 <a href="http://www.josephxia.com">www.josephxia.com</a>) 证书的格式说明</p>
<p>PKCS 全称是 Public-Key Cryptography Standards ，是由 RSA 实验室与其它安全系统开发商为 促进公钥密码的发展而制订的一系列标准，PKCS 目前共发布过 15 个标准。 常用的有: PKCS#7 </p>
<div class="highlight"><pre><span></span><code>Cryptographic<span class="w"> </span>Message<span class="w"> </span>Syntax<span class="w"> </span>Standard
PKCS#10<span class="w"> </span>Certification<span class="w"> </span>Request<span class="w"> </span>Standard

<span class="c1"># 开发机的hosts文件 /etc/hosts # 添加</span>
<span class="m">127</span>.0.0.1<span class="w"> </span>www.josephxia.com
</code></pre></div>
<p>PKCS#12 Personal Information Exchange Syntax Standard X.509是常⻅通用的证书格式。所有的证书都符合为Public Key Infrastructure (PKI) 制定的 ITU-T X509 国际标准。
 PKCS#7 常用的后缀是: .P7B .P7C .SPC
 PKCS#12 常用的后缀有: .P12 .PFX
 X.509 DER 编码(ASCII)的后缀是: .DER .CER .CRT
 X.509 PAM 编码(Base64)的后缀是: .PEM .CER .CRT .cer/.crt是用于存放证书，它是2进制形式存放的，不含私钥。 .pem跟crt/cer的区别是它以Ascii来表示。 pfx/p12用于存放个人证书/私钥，他通常包含保护密码，2进制方式
 p10是证书请求
 p7r是CA对证书请求的回复，只用于导入</p>
<p>参考项目目录 nginx/conf.d/cert docker模拟nginx环境
<div class="highlight"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="nx">安全课程根目录</span><span class="w"> </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;3.1&#39;</span><span class="w"> </span><span class="nx">services</span><span class="o">:</span>

<span class="nx">nginx</span><span class="o">:</span>
<span class="nx">restart</span><span class="o">:</span><span class="w"> </span><span class="nx">always</span>
<span class="nx">image</span><span class="o">:</span><span class="w"> </span><span class="nx">nginx</span>
<span class="nx">ports</span><span class="o">:</span><span class="w"> </span>
<span class="o">-</span><span class="w"> </span><span class="mf">80</span><span class="o">:</span><span class="mf">80</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="mf">443</span><span class="o">:</span><span class="mf">443</span>
<span class="nx">volumes</span><span class="o">:</span>
<span class="o">-</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="nx">conf</span><span class="p">.</span><span class="nx">d</span><span class="o">/:</span><span class="err">/etc/nginx/conf.d</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="nx">html</span><span class="o">/:</span><span class="err">/var/www/html/</span>

<span class="w">    </span><span class="nx">原始的80端口服务</span>

<span class="err">#</span><span class="w"> </span><span class="nx">conf</span><span class="p">.</span><span class="nx">d</span><span class="o">/</span><span class="nx">www</span><span class="p">.</span><span class="nx">josephxia</span><span class="p">.</span><span class="nx">com</span><span class="p">.</span><span class="nx">conf</span>
<span class="nx">server</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">listen</span><span class="w">       </span><span class="mf">80</span><span class="p">;</span>
<span class="w">  </span><span class="nx">server_name</span><span class="w">  </span><span class="nx">www</span><span class="p">.</span><span class="nx">josephxia</span><span class="p">.</span><span class="nx">com</span><span class="p">;</span>
<span class="w">  </span><span class="nx">location</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">root</span><span class="w">   </span><span class="o">/</span><span class="kd">var</span><span class="err">/www/html;</span>
<span class="w">    </span><span class="nx">index</span><span class="w">  </span><span class="nx">index</span><span class="p">.</span><span class="nx">html</span><span class="w"> </span><span class="nx">index</span><span class="p">.</span><span class="nx">htm</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
<span class="err">#</span><span class="w"> </span><span class="nx">增加的部分</span>
<span class="nx">server</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">listen</span><span class="w"> </span><span class="mf">443</span><span class="p">;</span>
<span class="w">  </span><span class="nx">server_name</span><span class="w"> </span><span class="nx">localhost</span><span class="p">;</span>
<span class="w">  </span><span class="nx">ssl</span><span class="w"> </span><span class="nx">on</span><span class="p">;</span>

<span class="w">  </span><span class="nx">root</span><span class="w"> </span><span class="nx">html</span><span class="p">;</span>
<span class="w">  </span><span class="nx">index</span><span class="w"> </span><span class="nx">index</span><span class="p">.</span><span class="nx">html</span><span class="w"> </span><span class="nx">index</span><span class="p">.</span><span class="nx">htm</span><span class="p">;</span>

<span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="nx">主要是下面的配置</span>
<span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="nx">公钥</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">证书</span>
<span class="w">  </span><span class="nx">ssl_certificate</span><span class="w"> </span><span class="nx">conf</span><span class="p">.</span><span class="nx">d</span><span class="o">/</span><span class="nx">cert</span><span class="o">/</span><span class="nx">www</span><span class="p">.</span><span class="nx">josephxia</span><span class="p">.</span><span class="nx">com</span><span class="p">.</span><span class="nx">pem</span><span class="p">;</span>
<span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="nx">私钥</span>
<span class="w">  </span><span class="nx">ssl_certificate_key</span><span class="w"> </span><span class="nx">conf</span><span class="p">.</span><span class="nx">d</span><span class="o">/</span><span class="nx">cert</span><span class="o">/</span><span class="nx">www</span><span class="p">.</span><span class="nx">josephxia</span><span class="p">.</span><span class="nx">com</span><span class="p">.</span><span class="nx">key</span><span class="p">;</span><span class="w"> </span><span class="nx">ssl_session_timeout</span><span class="w"> </span><span class="mf">5</span><span class="nx">m</span><span class="p">;</span>
<span class="w">  </span><span class="nx">ssl_ciphers</span><span class="w"> </span><span class="nx">ECDHE</span><span class="o">-</span><span class="nx">RSA</span><span class="o">-</span><span class="nx">AES128</span><span class="o">-</span><span class="nx">GCM</span><span class="o">-</span>
<span class="w">    </span><span class="nx">SHA256</span><span class="o">:</span><span class="nx">ECDHE</span><span class="o">:</span><span class="nx">ECDH</span><span class="o">:</span><span class="nx">AES</span><span class="o">:</span><span class="nx">HIGH</span><span class="o">:!</span><span class="nx">NULL</span><span class="o">:!</span><span class="nx">aNULL</span><span class="o">:!</span><span class="nx">MD5</span><span class="o">:!</span><span class="nx">ADH</span><span class="o">:!</span><span class="nx">RC4</span><span class="p">;</span>
<span class="w">  </span><span class="nx">ssl_protocols</span><span class="w"> </span><span class="nx">TLSv1</span><span class="w"> </span><span class="nx">TLSv1</span><span class="mf">.1</span><span class="w"> </span><span class="nx">TLSv1</span><span class="mf">.2</span><span class="p">;</span>
<span class="w">  </span><span class="nx">ssl_prefer_server_ciphers</span><span class="w"> </span><span class="nx">on</span><span class="p">;</span>

<span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="nx">主要是下面的配置</span>
<span class="w">  </span><span class="nx">location</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">root</span><span class="w"> </span><span class="o">/</span><span class="kd">var</span><span class="err">/www/html;</span>
<span class="w">    </span><span class="nx">index</span><span class="w"> </span><span class="nx">index</span><span class="p">.</span><span class="nx">html</span><span class="w"> </span><span class="nx">index</span><span class="p">.</span><span class="nx">htm</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
增加http -&gt; https强制跳转</p>
<p><div class="highlight"><pre><span></span><code><span class="c1"># conf.d/www.josephxia.com.conf</span>
server<span class="w"> </span><span class="o">{</span>
<span class="w">  </span>listen<span class="w">       </span><span class="m">80</span><span class="p">;</span>
<span class="w">  </span>server_name<span class="w">  </span>www.josephxia.com<span class="p">;</span>
<span class="w">  </span><span class="c1"># location / {</span>
<span class="w">    </span><span class="c1"># root /var/www/html;</span>
<span class="w">    </span><span class="c1"># index index.html index.htm;</span>
<span class="w">  </span><span class="o">}</span>
<span class="w">  </span>location<span class="w"> </span>/<span class="w"> </span><span class="o">{</span>
<span class="w">    </span>rewrite<span class="w"> </span>^<span class="o">(</span>.*<span class="o">)</span><span class="w"> </span>https://www.josephxia.com/<span class="nv">$1</span><span class="w"> </span>permanent<span class="p">;</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
SSL证书分类 <a href="https://blog.csdn.net/TrustAsia/article/details/73770588">https://blog.csdn.net/TrustAsia/article/details/73770588</a></p>
<p>入⻔级 DVSSL - 域名有效 无⻔槛
 企业型 OVSSL - 企业资质、个人认证
 增强型EVSSL - 浏览器给予绿色地址栏显示公司名字</p>
<h3 id="4-helmet15min">4. helmet中间件(15min)<a class="headerlink" href="#4-helmet15min" title="Permanent link">&para;</a></h3>
<p>英[ˈhelmɪt] 头盔</p>
<p><a href="https://www.npmjs.com/package/koa-helmet">https://www.npmjs.com/package/koa-helmet</a></p>
<div class="highlight"><pre><span></span><code><span class="c1">// npm i koa-helmet -s</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">Koa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;koa&quot;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">helmet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;koa-helmet&quot;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">app</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Koa</span><span class="p">();</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">helmet</span><span class="p">());</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">((</span><span class="nx">ctx</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">ctx</span><span class="p">.</span><span class="nx">body</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Hello World&quot;</span>
<span class="p">});</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mf">4000</span><span class="p">);</span>
</code></pre></div>
<p>Strict-Transport-Security:强制使用安全连接(SSL/TLS之上的HTTPS)来连接到服务器。</p>
<p>X-Frame-Options:提供对于“点击劫持”的保护。</p>
<p>X-XSS-Protection:开启大多现代浏览器内建的对于跨站脚本攻击(XSS)的过滤功能。 </p>
<p>X-Content-Type-Options: 防止浏览器使用MIME-sniffing来确定响应的类型，转而使用明确的 content-type来确定。 </p>
<p>Content-Security-Policy:防止受到跨站脚本攻击以及其他跨站注入攻击。</p>
<h3 id="5-session">5. Session管理<a class="headerlink" href="#5-session" title="Permanent link">&para;</a></h3>
<p>对于cookie的安全使用，其重要性是不言而喻的。特别是对于动态的web应用，在如HTTP这样的无状</p>
<p>态协议的之上，它们需要使用cookie来维持状态 Cookie标示</p>
<p>secure - 这个属性告诉浏览器，仅在请求是通过HTTPS传输时，才传递cookie。
 HttpOnly - 设置这个属性将禁止 javascript 脚本获取到这个cookie，这可以用来帮助防止 跨站脚本攻击。</p>
<p>Cookie域</p>
<p>domain - 这个属性用来比较请求URL中服务端的域名。如果域名匹配成功，或这是其子域 名，则继续检查 path 属性。
 path - 除了域名，cookie可用的URL路径也可以被指定。当域名和路径都匹配时，cookie才 会随请求发送。</p>
<p>expires - 这个属性用来设置持久化的cookie，当设置了它之后，cookie在指定的时间到达之 前都不会过期。</p>
<h3 id="6">6.浏览器安全控制<a class="headerlink" href="#6" title="Permanent link">&para;</a></h3>
<p>X-XSS-Protection 防止反射型XSS Strict-Transport-Security 强制使用HTTPS通信</p>
<p>CSP</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy__by">https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy__by</a>_ cnvoid#%E6%A6%82%E8%BF%B0</p>
<p><a href="https://juejin.im/post/5c6ad29ff265da2da00ea459">https://juejin.im/post/5c6ad29ff265da2da00ea459</a></p>
<p>HTTP 响应头 Content-Security-Policy 允许站点管理者在指定的⻚面控制用户代理的资源。除了少数例 外，这条政策将极大地指定服务源 以及脚本端点。这将帮助防止跨站脚本攻击(Cross-Site Script) (XSS).</p>
<p>安全防范的总结</p>
<p><a href="https://www.tuicool.com/articles/7Ff2EbZ">https://www.tuicool.com/articles/7Ff2EbZ</a></p>
<p>无头浏览器技术 - JS 控制API 直接操纵Chrome</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&quot;Content-Security-Policy&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;default-src &#39;self&#39;; img-</span>
<span class="s">src https://*; child-src &#39;none&#39;;&quot;</span><span class="p">&gt;</span>
</code></pre></div>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">July 29, 2025</span>
  </span>

    
    
    
      
  
  <span class="md-source-file__fact">
    <span class="md-icon" title="Contributors">
      
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"/></svg>
      
    </span>
    <nav>
      
        <a href="mailto:1822852997@qq.com">Michael An</a>
    </nav>
  </span>

    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; Michael An
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../js/baidu-statistics.min.js"></script>
      
        <script src="../../js/history.min.js"></script>
      
    
  </body>
</html>