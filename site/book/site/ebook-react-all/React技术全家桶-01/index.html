
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Michael An">
      
      
        <link rel="canonical" href="https://michael18811380328.github.io/ebook-react-all/React%E6%8A%80%E6%9C%AF%E5%85%A8%E5%AE%B6%E6%A1%B6-01/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>React 全家桶入门教程 01 - Michale An Blog</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#react-01" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Michale An Blog" class="md-header__button md-logo" aria-label="Michale An Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Michale An Blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              React 全家桶入门教程 01
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/Michael18811380328/Michael18811380328.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Michael18811380328/Michael18811380328.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Michale An Blog" class="md-nav__button md-logo" aria-label="Michale An Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Michale An Blog
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Michael18811380328/Michael18811380328.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Michael18811380328/Michael18811380328.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ebook-JS-basic
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            ebook-JS-basic
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/01-%E5%85%A5%E9%97%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01-入门
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/02-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02-数据类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/03-%E8%BF%90%E7%AE%97%E7%AC%A6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03-运算符
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/04-%E8%AF%AD%E6%B3%95%E4%B8%93%E9%A2%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04-语法专题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/05-%E6%A0%87%E5%87%86%E5%BA%93/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05-标准库
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/06-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06-面向对象编程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/07-%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07-异步操作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/08-DOM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08-DOM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/09-Event/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09-Event
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/10-1-BOM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10-1-BOM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/10-2-%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10-2-同源策略
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/10-3-%E8%A1%A8%E5%8D%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10-3-表单
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/10-4-IndexedDB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10-4-IndexedDB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/10-5-web-worker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10-5-web-worker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JS-basic/11-%E7%BD%91%E9%A1%B5%E5%85%83%E7%B4%A0%E6%8E%A5%E5%8F%A3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11-网页元素接口
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ebook-JSES6-RYF
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            ebook-JSES6-RYF
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/01-%E4%BB%8B%E7%BB%8D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01-介绍
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/02-%E5%8F%98%E9%87%8F%E8%B5%8B%E5%80%BC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02-变量赋值
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/03-%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03-解构赋值
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/04-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%89%A9%E5%B1%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04-字符串的扩展
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/05-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05-字符串方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/06-%E6%AD%A3%E5%88%99/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06-正则
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/07-%E6%95%B0%E5%80%BC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07-数值
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/08-%E5%87%BD%E6%95%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08-函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/09-%E6%95%B0%E7%BB%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09-数组
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/10-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B0%E5%A2%9E%E5%B1%9E%E6%80%A7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10-对象的新增属性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/11-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B0%E5%A2%9E%E6%96%B9%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11-对象的新增方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/12-Symbol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12-Symbol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/13-Set%20%E5%92%8C%20Map%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13-Set 和 Map 数据结构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/14-Proxy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    14-Proxy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/15-Reflect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    15-Reflect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/16-Promise/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    16-Promise
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/17-%E9%81%8D%E5%8E%86%E5%99%A8%E7%9A%84%E5%BE%AA%E7%8E%AF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    17-遍历器的循环
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/18-Generator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    18-Generator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/19-Generator%E5%BC%82%E6%AD%A5%E5%BA%94%E7%94%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    19-Generator异步应用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/20-async%20%E5%87%BD%E6%95%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    20-async 函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/21-Class%20%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    21-Class 的基本语法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/22-Class%20%E7%9A%84%E7%BB%A7%E6%89%BF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    22-Class 的继承
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/23-Module%20%E7%9A%84%E8%AF%AD%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    23-Module 的语法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/24-Module%20%E7%9A%84%E5%8A%A0%E8%BD%BD%E5%AE%9E%E7%8E%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    24-Module 的加载实现
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/25-%E7%BC%96%E7%A8%8B%E9%A3%8E%E6%A0%BC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    25-编程风格
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-JSES6-RYF/readme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    readme
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ebook-heima-nodejs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            ebook-heima-nodejs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-heima-nodejs/00/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    00
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-heima-nodejs/01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-heima-nodejs/02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ebook-kaikeba-frontend
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            ebook-kaikeba-frontend
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/01%20%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01 性能优化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/02%20%E5%89%8D%E7%AB%AF%E6%B5%8B%E8%AF%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02 前端测试
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/03%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03 设计模式
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/04%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04 数据结构与算法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/05%20%E9%9D%A2%E8%AF%95%E9%A2%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05 面试题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/06%20%E9%9D%A2%E8%AF%95%E6%8A%80%E5%B7%A7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06 面试技巧
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/07%20%E9%A1%B9%E7%9B%AE%E8%AF%BE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07 项目课
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/08-React%E9%A2%84%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08-React预习笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/09-React%E9%9D%A2%E8%AF%95%E9%A2%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09-React面试题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/10-React%E7%BB%84%E4%BB%B6%E5%8C%96/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10-React组件化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/11-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11-自动化测试
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/12-webpack-01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12-webpack-01
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/13-webpack-02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13-webpack-02
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/14-webpack-03/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    14-webpack-03
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/15-webpack%E4%BC%98%E5%8C%96%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    15-webpack优化笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/16-webpack%E4%BC%98%E5%8C%96%E5%AE%98%E6%96%B9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    16-webpack优化官方
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/17-webpack-05/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    17-webpack-05
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/18-webpack-06/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    18-webpack-06
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/19-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8-%E5%B8%B8%E8%A7%81Web%E6%94%BB%E5%87%BB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    19-前端安全-常见Web攻击
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-kaikeba-frontend/20-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8-%E9%98%B2%E5%BE%A1%E6%89%8B%E6%AE%B5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    20-前端安全-防御手段
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ebook-netease-senior-frontend
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            ebook-netease-senior-frontend
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/02-v8%E5%BC%95%E6%93%8E%E5%9B%9E%E6%94%B6%E5%86%85%E5%AD%98%E7%AE%80%E4%BB%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02-v8引擎回收内存简介
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/03-node%E4%B8%8B%E9%9D%A2%E7%9A%84Restful%E5%AE%9E%E7%8E%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03-node下面的Restful实现
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/04-%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3%E7%9A%84%E6%8F%90%E5%8D%87%E2%80%94%E5%A6%82%E4%BD%95%E6%8F%90%E9%AB%98%E6%88%91%E4%BB%AC%E4%BB%A3%E7%A0%81%E7%9A%84%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04-编程思想的提升—如何提高我们代码的可扩展性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/06-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86%E5%92%8Cssr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06-浏览器渲染原理和ssr
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/07-%E7%BD%91%E6%98%93%E7%9C%9F%E5%AE%9E%E9%A1%B9%E7%9B%AEwebpack%E9%85%8D%E7%BD%AE%E8%A7%A3%E6%9E%90/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07-网易真实项目webpack配置解析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/08-%E4%BB%8E%E6%9E%B6%E6%9E%84%E5%88%86%E6%9E%90API%E5%B1%82/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08-从架构分析API层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/09-%E5%89%8D%E7%AB%AF%E8%B4%9F%E8%B4%A3%E4%BA%BA%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%86%85%E5%AE%B9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09-前端负责人的工作内容
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/10-%E5%88%86%E6%9E%90%E6%BA%90%E7%A0%81%E5%AD%A6%E6%9E%B6%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10-分析源码学架构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/11-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E9%AB%98%E8%B4%A8%E9%87%8F%E4%BB%A3%E7%A0%81/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11-设计模式高质量代码
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/12-nodeJS%2BMongoDB%E7%99%BB%E5%BD%95%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12-nodeJS+MongoDB登录系统
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/12-nodejs-mongodb-mongoose/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12-nodejs-mongodb-mongoose
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/13-%E4%BD%BF%E7%94%A8VUE%E5%88%9B%E5%BB%BA%E7%BB%84%E4%BB%B6%EF%BC%88%E6%B2%A1%E5%AD%A6%E5%AE%8C%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13-使用VUE创建组件（没学完）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/16-%E6%9E%84%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6%E5%B7%A5%E5%85%B7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    16-构建自己的脚手架工具
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/17-webpack%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    17-webpack编译原理分析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/20-%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%8A%80%E8%83%BD-VUE%EF%BC%88%E6%B2%A1%E5%AD%A6%E5%AE%8C%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    20-组件封装的基本技能-VUE（没学完）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/21-ssr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    21-ssr
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/24-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E5%A6%82%E4%BD%95%E5%81%9A/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    24-单元测试如何做
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/25-%E5%9F%BA%E4%BA%8ENodeJS%E6%89%93%E9%80%A0Web%E6%9E%B6%E6%9E%84%E4%B8%AD%E9%97%B4%E5%B1%82/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    25-基于NodeJS打造Web架构中间层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-netease-senior-frontend/readme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    readme
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ebook-network-basic
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            ebook-network-basic
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-network-basic/01%20%E6%A6%82%E8%BF%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01 概述
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-network-basic/02%20%E7%89%A9%E7%90%86%E5%B1%82/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02 物理层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-network-basic/03%20%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03 数据链路层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-network-basic/04%20%E7%BD%91%E7%BB%9C%E5%B1%82/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04 网络层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-network-basic/05%20%E8%BF%90%E8%BE%93%E5%B1%82/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05 运输层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-network-basic/06%20%E5%BA%94%E7%94%A8%E5%B1%82/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06 应用层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-network-basic/readme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    readme
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ebook-network-basic/todo%20%E4%BA%92%E8%81%94%E7%BD%91%E5%8D%8F%E8%AE%AE%E5%85%A5%E9%97%A8-%E9%98%AE%E4%B8%80%E5%B3%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo 互联网协议入门-阮一峰
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    index
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    other
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            other
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/H5C3%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    H5C3从入门到精通
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/JS%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JS 数据结构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/JS-the-good-parts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JS-the-good-parts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/JavaScript%20%E7%A7%98%E5%AF%86%E8%8A%B1%E5%9B%AD-zh/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JavaScript 秘密花园-zh
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/data%20structure%20basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    data structure basic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/ebbok-qianfeng-express/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ebbok-qianfeng-express
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/express%E5%9B%BE%E4%B9%A6%E9%A6%86%E9%A1%B9%E7%9B%AE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    express图书馆项目
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/nodeJS-basic-upguigu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nodeJS-basic-upguigu
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93%20%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    代码整洁之道 读书笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E5%85%B6%E4%BB%96%E4%B9%A6%E5%8D%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    其他书单
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E7%AC%94%E8%AE%B0-%E9%98%AE%E4%B8%80%E5%B3%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    前端工程化笔记-阮一峰
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E7%B2%BE%E8%AF%BB-%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JS%E4%B8%8A%E5%8D%B7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    精读-你不知道的JS上卷
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E7%B2%BE%E8%AF%BB-%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JS%E4%B8%AD%E5%8D%B7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    精读-你不知道的JS中卷
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E7%B2%BE%E8%AF%BB-%E5%9B%BE%E8%A7%A3HTTP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    精读-图解HTTP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E7%B2%BE%E8%AF%BB-%E9%AB%98%E6%80%A7%E8%83%BDJS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    精读-高性能JS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%98%AF%E6%80%8E%E6%A0%B7%E8%B7%91%E8%B5%B7%E6%9D%A5%E7%9A%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    计算机是怎样跑起来的
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    计算机组成原理知识点总结
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#react" class="md-nav__link">
    <span class="md-ellipsis">
      第一章 React 基础
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第一章 React 基础">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#01-react" class="md-nav__link">
    <span class="md-ellipsis">
      01 react简介
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#02-hello-react" class="md-nav__link">
    <span class="md-ellipsis">
      02 hello-react案例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#03-dom" class="md-nav__link">
    <span class="md-ellipsis">
      03 虚拟DOM的两种创建方式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#04-domdom" class="md-nav__link">
    <span class="md-ellipsis">
      04 虚拟DOM与真实DOM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#05-jsx" class="md-nav__link">
    <span class="md-ellipsis">
      05 jsx语法规则
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#06-jsx" class="md-nav__link">
    <span class="md-ellipsis">
      06 jsx小练习
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#react_1" class="md-nav__link">
    <span class="md-ellipsis">
      第二章 React 面向组件编程
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第二章 React 面向组件编程">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#07" class="md-nav__link">
    <span class="md-ellipsis">
      07 组件与模块
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#08" class="md-nav__link">
    <span class="md-ellipsis">
      08 开发者工具的安装
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#09" class="md-nav__link">
    <span class="md-ellipsis">
      09 函数式组件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10-es6" class="md-nav__link">
    <span class="md-ellipsis">
      10 ES6 类和继承
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      11 类组件的继承
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-14-state" class="md-nav__link">
    <span class="md-ellipsis">
      12-14 state 入门
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#21-props" class="md-nav__link">
    <span class="md-ellipsis">
      21 使用展开运算符批量传递 props
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24" class="md-nav__link">
    <span class="md-ellipsis">
      24 构造器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-props" class="md-nav__link">
    <span class="md-ellipsis">
      25 函数式组件使用 props
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27ref" class="md-nav__link">
    <span class="md-ellipsis">
      27字符串形式的ref
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#28-ref" class="md-nav__link">
    <span class="md-ellipsis">
      28 回调形式的ref
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#29-ref" class="md-nav__link">
    <span class="md-ellipsis">
      29 回调ref中调用次数的问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#30-createref" class="md-nav__link">
    <span class="md-ellipsis">
      30 createRef的使用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#31-ref" class="md-nav__link">
    <span class="md-ellipsis">
      31 总结ref
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-react" class="md-nav__link">
    <span class="md-ellipsis">
      32 react中的事件处理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    <span class="md-ellipsis">
      33 非受控组件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34" class="md-nav__link">
    <span class="md-ellipsis">
      34 受控组件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-" class="md-nav__link">
    <span class="md-ellipsis">
      35 高阶函数-函数柯里化
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36" class="md-nav__link">
    <span class="md-ellipsis">
      36 不用柯里化的写法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#37" class="md-nav__link">
    <span class="md-ellipsis">
      37 生命周期
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43" class="md-nav__link">
    <span class="md-ellipsis">
      43 对比新旧生命周期
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-getderivedstatefromprops" class="md-nav__link">
    <span class="md-ellipsis">
      44 getDerivedStateFromProps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-getsnapshotbeforeupdate" class="md-nav__link">
    <span class="md-ellipsis">
      45 getSnapshotBeforeUpdate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46-getsnapshotbeforeupdate" class="md-nav__link">
    <span class="md-ellipsis">
      46 getSnapshotBeforeUpdate 举例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#47" class="md-nav__link">
    <span class="md-ellipsis">
      47 总结生命周期(新)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#48-domdiffing" class="md-nav__link">
    <span class="md-ellipsis">
      48 DOM的diffing算法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#react-cli" class="md-nav__link">
    <span class="md-ellipsis">
      第三章 react-cli
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第三章 react-cli">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#50-public" class="md-nav__link">
    <span class="md-ellipsis">
      50 脚手架文件介绍-public
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#51-src" class="md-nav__link">
    <span class="md-ellipsis">
      51 脚手架文件介绍-src
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    <span class="md-ellipsis">
      52 组件化编码流程
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#react-ajax" class="md-nav__link">
    <span class="md-ellipsis">
      第四章 react ajax
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第四章 react ajax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#65-1" class="md-nav__link">
    <span class="md-ellipsis">
      65 脚手架配置代理-方法1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#66-2" class="md-nav__link">
    <span class="md-ellipsis">
      66 脚手架配置代理-方法2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#67-github-" class="md-nav__link">
    <span class="md-ellipsis">
      67 github搜索案例-静态组件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#68-github-axios" class="md-nav__link">
    <span class="md-ellipsis">
      68 github搜索案例-axios发送请求
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#69-github-" class="md-nav__link">
    <span class="md-ellipsis">
      69 github 搜索案例-展示数据
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#70-github" class="md-nav__link">
    <span class="md-ellipsis">
      70 github 搜索案例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#71-pubsub" class="md-nav__link">
    <span class="md-ellipsis">
      71 消息订阅与发布-pubsub
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-fetch" class="md-nav__link">
    <span class="md-ellipsis">
      72 fetch发送请求
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-github" class="md-nav__link">
    <span class="md-ellipsis">
      73 总结github搜索案例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#react-router" class="md-nav__link">
    <span class="md-ellipsis">
      第五章 react-router
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第五章 react-router">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#74-spa" class="md-nav__link">
    <span class="md-ellipsis">
      74 对SPA应用的理解
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#75" class="md-nav__link">
    <span class="md-ellipsis">
      75 对路由的理解
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#76" class="md-nav__link">
    <span class="md-ellipsis">
      76 前端路由原理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#77" class="md-nav__link">
    <span class="md-ellipsis">
      77 路由的基本使用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#78" class="md-nav__link">
    <span class="md-ellipsis">
      78 路由组件与一般组件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#79-navlink" class="md-nav__link">
    <span class="md-ellipsis">
      79 NavLink的使用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#80-navlink" class="md-nav__link">
    <span class="md-ellipsis">
      80 封装NavLink组件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#81-switch" class="md-nav__link">
    <span class="md-ellipsis">
      81 Switch的使用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82" class="md-nav__link">
    <span class="md-ellipsis">
      82 解决样式丢失问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83" class="md-nav__link">
    <span class="md-ellipsis">
      83 路由的模糊匹配与严格匹配
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84-redirect" class="md-nav__link">
    <span class="md-ellipsis">
      84 Redirect的使用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85" class="md-nav__link">
    <span class="md-ellipsis">
      85 嵌套路由
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#86-params" class="md-nav__link">
    <span class="md-ellipsis">
      86 向路由组件传递params参数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#87-search" class="md-nav__link">
    <span class="md-ellipsis">
      87 向路由组件传递search参数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#88-state" class="md-nav__link">
    <span class="md-ellipsis">
      88 向路由组件传递state参数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#89" class="md-nav__link">
    <span class="md-ellipsis">
      89 总结路由参数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#90-pushreplace" class="md-nav__link">
    <span class="md-ellipsis">
      90 push与replace
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#91" class="md-nav__link">
    <span class="md-ellipsis">
      91 编程式路由导航
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-withrouter" class="md-nav__link">
    <span class="md-ellipsis">
      92 withRouter 使用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-browserrouter-hashrouter" class="md-nav__link">
    <span class="md-ellipsis">
      93 BrowserRouter 和 HashRouter 比较
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="react-01">React 全家桶入门教程 01<a class="headerlink" href="#react-01" title="Permanent link">&para;</a></h1>
<p>统计信息：字数 31197  阅读63分钟</p>
<p>学习时间：2021年</p>
<p>课程平台：尚硅谷视频</p>
<p>前面是基础课程（难度小），后面是案例，质量还可以</p>
<p>目的</p>
<ol>
<li>
<p>巩固react基础知识，查漏补缺（熟悉的部分快进）</p>
</li>
<li>
<p>学习相关的库的使用</p>
</li>
</ol>
<p><a href="https://study.163.com/course/courseMain.htm?courseId=1210995818">https://study.163.com/course/courseMain.htm?courseId=1210995818</a></p>
<p>共计126课时，2021年1月出品，全部课程约38小时</p>
<h2 id="react">第一章 React 基础<a class="headerlink" href="#react" title="Permanent link">&para;</a></h2>
<h3 id="01-react">01 react简介<a class="headerlink" href="#01-react" title="Permanent link">&para;</a></h3>
<p>React 是构建用户界面的框架。</p>
<p>前端工作包括：发送请求，处理数据，展示数据（使用DOM展现）。</p>
<ul>
<li>
<p>发出请求（ajax）</p>
</li>
<li>
<p>处理数据（算法优化，过滤排序算法）</p>
</li>
<li>
<p>渲染界面（React 将 JS 数据渲染成 HTML 视图的库）</p>
</li>
</ul>
<p>React 只处理展示数据（把 state 转换成 DOM），不管前两部分。</p>
<p>原生 JS 缺点：操作 DOM繁琐，性能较差（JS 直接操作 DOM，浏览器进行大量的重排重绘，reflow and repaint）；jQuery 比较重，代码量很大；原生JS没有组件化方案，代码复用很低。</p>
<p>React 框架优点：组件化（提高组件复用率）、声明式开发；便于 ReactNative 进行移动端开发；虚拟 DOM 和 Diff 算法高性能。</p>
<h3 id="02-hello-react">02 hello-react案例<a class="headerlink" href="#02-hello-react" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>react.js React 核心库</p>
</li>
<li>
<p>React-dom.js React 操作 DOM 的库</p>
</li>
<li>
<p>babel.js 把ES6转换成ES5,把 JSX 转换成 JS 等</p>
</li>
</ul>
<p>注意</p>
<ol>
<li>
<p>HTML 引入顺序不能错</p>
</li>
<li>
<p>Script 这个 type （实际上不会这样写）</p>
</li>
<li>
<p>内部是 JSX，不需要加引号（不是字符串 dom = '';）</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">script</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/babel&quot;</span><span class="o">&gt;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">dom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;&lt;</span><span class="err">/div&gt;;</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></div>
<h3 id="03-dom">03 虚拟DOM的两种创建方式<a class="headerlink" href="#03-dom" title="Permanent link">&para;</a></h3>
<p>创建虚拟 DOM，可以使用 JSX 字面量（优先），或者使用 React API 创建。</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">vDOM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;test&#39;</span><span class="p">},</span><span class="w"> </span><span class="s1">&#39;Hi&#39;</span><span class="p">);</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">vDOM</span><span class="p">,</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">));</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">vDOM2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;&lt;</span><span class="err">/div&gt;;</span>
</code></pre></div>
<h3 id="04-domdom">04 虚拟DOM与真实DOM<a class="headerlink" href="#04-domdom" title="Permanent link">&para;</a></h3>
<p>虚拟DOM就是 jsx 语法中创建的虚拟 DOM，真实 DOM 就是原生 JS 创建的 DOM。</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">virtualDOM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;&lt;</span><span class="err">/div&gt;;</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">trueDOM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">);</span>
</code></pre></div>
<p>虚拟 DOM 特点：</p>
<ol>
<li>
<p>本质是一个对象（Object）</p>
</li>
<li>
<p>虚拟DOM属性较少，真实DOM属性较多（例如尺寸和样式相关的API）因为虚拟DOM是 React 内部使用，所以不需要真实DOM上那么多的属性。操作虚拟DOM也更轻量化。</p>
</li>
<li>
<p>最终 React 会把虚拟DOM，转换成真实DOM，渲染到浏览器中。</p>
</li>
</ol>
<h3 id="05-jsx">05 jsx语法规则<a class="headerlink" href="#05-jsx" title="Permanent link">&para;</a></h3>
<p>jsx：javascript+XML 比传统的 HTML 严格，例如标签必须闭合；不能随便写自定义的标签。XML早期用于前后端传递数据的格式，可以使用XML或者JSON（JSON 可以 parse stringify 和字符串进行转换，主要使用后一种进行传输）。</p>
<p>JSX 语法规则</p>
<ol>
<li>
<p>虚拟DOM直接写标签DIV，不需要加引号（不是字符串）</p>
</li>
<li>
<p>标签DIV内的 JS 表达式使用 大括号 {}</p>
</li>
<li>
<p>使用 className 代替 class 类名</p>
</li>
<li>
<p>样式使用 style = {{padding: 100}}</p>
</li>
<li>
<p>只能有一个根标签</p>
</li>
<li>
<p>标签必须闭合（自闭合或者成对）</p>
</li>
<li>
<p>标签：小写字母表示HTML标签，大写字母开头表示组件（需要引入）如果没有HTML标签或者组件，那么react会报错。</p>
</li>
</ol>
<h3 id="06-jsx">06 jsx小练习<a class="headerlink" href="#06-jsx" title="Permanent link">&para;</a></h3>
<p>JS 表达式是什么？和 JS 语句（代码）不一样</p>
<ul>
<li>
<p>表达式：等号右侧的是表达式，也就是说这一段代码会输出一个结果（a, a + b, foo(a, b), arr.map(), function test() {} ）都是表达式。let a = 表达式;</p>
</li>
<li>
<p>语句：if for while switch 等语句结构，不会返回结果，这部分不能在 JSX 中使用</p>
</li>
</ul>
<p>所以，三目运算法可以使用，if 判断无法使用</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">arr</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">item</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">  </span><span class="p">}</span>
<span class="o">&lt;</span><span class="err">/div&gt;</span>
</code></pre></div>
<h2 id="react_1">第二章 React 面向组件编程<a class="headerlink" href="#react_1" title="Permanent link">&para;</a></h2>
<h3 id="07">07 组件与模块<a class="headerlink" href="#07" title="Permanent link">&para;</a></h3>
<p>组件：界面中某个功能对应的代码</p>
<p>模块化；组件化；工程化</p>
<p>模块化：JS 封装成不同的部分；大型项目拆分成不同的模块，提高复用性</p>
<p>组件化：React组件拆分成不同的部分（根据功能拆分），拆分 JSX css JS 等</p>
<h3 id="08">08 开发者工具的安装<a class="headerlink" href="#08" title="Permanent link">&para;</a></h3>
<p>react 开发调试工具（Component 可以查看组件层级和 state props 等属性，Profile 查看页面性能）</p>
<p>profiler 记录网站的性能（加载时间）</p>
<h3 id="09">09 函数式组件<a class="headerlink" href="#09" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">Demo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// console.log(this);</span>
<span class="w">  </span><span class="c1">// 在函数组件中，经过babel编译后，是严格模式，所以 this 是 undefined</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="err">/span&gt;;</span>
<span class="p">}</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Demo</span><span class="o">/&gt;</span><span class="p">,</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">));</span>

<span class="c1">// ReactDOM.render 执行过程</span>
<span class="c1">// 1. 解析第一个参数，找到组件定义 Demo（函数组件）</span>
<span class="c1">// 2. 调用 Demo 函数，将返回值 虚拟 DOM 转换成真实 DOM</span>
<span class="c1">// 3. 解析第二个参数，将真实DOM渲染到页面上</span>
</code></pre></div>
<h3 id="10-es6">10 ES6 类和继承<a class="headerlink" href="#10-es6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nx">Person</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">name</span><span class="p">;</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">age</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="nx">speak</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">String</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">age</span><span class="p">));</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nx">Student</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Person</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="p">,</span><span class="w"> </span><span class="nx">grade</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">grade</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">grade</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="nx">speak</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">age</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">grade</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Person</span><span class="p">(</span><span class="s1">&#39;Bing&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">10</span><span class="p">);</span>
<span class="nx">p1</span><span class="p">.</span><span class="nx">speak</span><span class="p">();</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Student</span><span class="p">(</span><span class="s2">&quot;Andy&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">20</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">);</span>
<span class="nx">s2</span><span class="p">.</span><span class="nx">speak</span><span class="p">();</span>
</code></pre></div>
<h3 id="11">11 类组件的继承<a class="headerlink" href="#11" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nx">MyComponent</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">render</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;</span><span class="nx">test</span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// &lt;MyComponent /&gt;</span>
</code></pre></div>
<p>遇到标签后，React 解析到是一个类，执行 new MyComponent 创建类的实例对象，调用 render 方法返回虚拟 DOM，然后渲染到页面上作为真实DOM节点。</p>
<p>2.2 state</p>
<h3 id="12-14-state">12-14 state 入门<a class="headerlink" href="#12-14-state" title="Permanent link">&para;</a></h3>
<p>state 是状态机，通过更新状态驱动页面更新</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nx">Weather</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">isHot</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="nx">render</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="err">/span&gt;);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>原生事件绑定</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">dom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;btn1&#39;</span><span class="p">);</span>
<span class="nx">dom</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;click btn1&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">dom2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;btn2&#39;</span><span class="p">);</span>
<span class="nx">dom2</span><span class="p">.</span><span class="nx">onClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;click btn2&#39;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>React 中通常不直接获取DOM</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">dom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onClick</span><span class="p">}</span><span class="o">&gt;&lt;</span><span class="err">/div&gt;);</span>

<span class="nx">onClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="21-props">21 使用展开运算符批量传递 props<a class="headerlink" href="#21-props" title="Permanent link">&para;</a></h3>
<p>展开运算符使用</p>
<ul>
<li>
<p>可以直接展开数组（复制数组）</p>
</li>
<li>
<p>不能直接展开对象；如果是 React 组件中传 props 可以使用展开运算符</p>
</li>
<li>
<p>在函数中可以表示不确定的参数，实现循环或者递归运算</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">sum</span><span class="p">(...</span><span class="nx">numbers</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">numbers</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">pre</span><span class="p">,</span><span class="w"> </span><span class="nx">curr</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">pre</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">curr</span><span class="p">;</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="mf">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">sum</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">);</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="mf">19</span><span class="w"> </span><span class="p">};</span>

<span class="c1">// props 较多可以这样写，大括号并不是对象，是 jsx 的语法糖</span>
<span class="o">&lt;</span><span class="nx">MyComponent</span><span class="w"> </span><span class="p">{...</span><span class="nx">obj</span><span class="p">}</span><span class="o">/&gt;</span>

<span class="c1">// console.log(...obj); 不能直接展开对象打印到原生JS中</span>
</code></pre></div>
<h3 id="24">24 构造器<a class="headerlink" href="#24" title="Permanent link">&para;</a></h3>
<p>constructor 不是必须的，主要用于声明状态和绑定函数（bind）</p>
<div class="highlight"><pre><span></span><code><span class="kr">constructor</span><span class="w"> </span><span class="p">(</span><span class="nx">props</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span><span class="w"> </span><span class="c1">// 实现继承</span>
<span class="w">  </span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">isFinished</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="p">};</span>
<span class="w">  </span><span class="k">this</span><span class="p">.</span><span class="nx">isChecked</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">createRef</span><span class="p">();</span>
<span class="w">  </span><span class="k">this</span><span class="p">.</span><span class="nx">fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w"> </span><span class="c1">// 通常使用箭头函数</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="25-props">25 函数式组件使用 props<a class="headerlink" href="#25-props" title="Permanent link">&para;</a></h3>
<p>函数式组件可以使用 props，hook 中可以使用 setEffect 设置状态，也可以限制数据类型。</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">Person</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">props</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/span&gt;;</span>
<span class="p">}</span>

<span class="nx">Person</span><span class="p">.</span><span class="nx">defaultProps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="mf">20</span><span class="p">,</span>
<span class="p">};</span>

<span class="o">&lt;</span><span class="nx">Person</span><span class="w"> </span><span class="nx">name</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Tom&#39;</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
</code></pre></div>
<h3 id="27ref">27字符串形式的ref<a class="headerlink" href="#27ref" title="Permanent link">&para;</a></h3>
<p>ref 在 react 中，就类似原生 JS 中的 ID，通过 ref 可以直接获取到对应的 DOMS。组件内的元素可以通过 ref 来标识自己。ref 创建有三种形式：字符串形式创建，回调函数创建，createRef 创建三种。最新 react 推荐使用第三种创建 refs。</p>
<p>使用字符串形式创建：创建使用 ref="test"，获取属性使用 this.refs 复数形式（一个组件内部有很多 refs）</p>
<div class="highlight"><pre><span></span><code><span class="k">this</span><span class="p">.</span><span class="nx">refs</span><span class="p">.</span><span class="nx">input1</span>
<span class="k">this</span><span class="p">.</span><span class="nx">refs</span><span class="p">.</span><span class="nx">input2</span>
<span class="k">this</span><span class="p">.</span><span class="nx">refs</span><span class="p">.</span><span class="nx">input3</span>
</code></pre></div>
<h3 id="28-ref">28 回调形式的ref<a class="headerlink" href="#28-ref" title="Permanent link">&para;</a></h3>
<p>使用字符串形式创建 ref，react 官方不推荐这种写法（后期会废弃）性能比较差</p>
<p>推荐使用 createRefs 或者 回调函数创建 refs</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">input</span><span class="w"> </span><span class="nx">ref</span><span class="o">=</span><span class="p">{(</span><span class="nx">node</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">input1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">node</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="nx">input</span><span class="w"> </span><span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="nx">c</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">input2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">c</span><span class="p">}</span><span class="o">/&gt;</span>
</code></pre></div>
<h3 id="29-ref">29 回调ref中调用次数的问题<a class="headerlink" href="#29-ref" title="Permanent link">&para;</a></h3>
<p>如果回调函数直接写在 JSX 中，每次 render 都会调用两次。所以，回调函数可以放在类的方法中。React 官方说这两种方法的性能差异不大。</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">input</span><span class="w"> </span><span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">setRef</span><span class="p">}</span><span class="o">/&gt;</span>

<span class="nx">setRef</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">node</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">this</span><span class="p">.</span><span class="nx">input2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">node</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="30-createref">30 createRef的使用<a class="headerlink" href="#30-createref" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">this</span><span class="p">.</span><span class="nx">inputRef</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">createRef</span><span class="p">();</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">inputRef</span><span class="p">.</span><span class="nx">current</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>

<span class="o">&lt;</span><span class="nx">input</span><span class="w"> </span><span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">inputRef</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
</code></pre></div>
<h3 id="31-ref">31 总结ref<a class="headerlink" href="#31-ref" title="Permanent link">&para;</a></h3>
<p>三种创建 ref 的方法对比，官方推荐第三种，工作中推荐后两种，实际哪种方便用哪种。</p>
<h3 id="32-react">32 react中的事件处理<a class="headerlink" href="#32-react" title="Permanent link">&para;</a></h3>
<p>react 中通过 onClick 绑定事件（事件处理函数）：使用合成事件，不是原生事件，为了更好的兼容性。事件通过时间委托方式处理（委托给组件最外层的元素）——为了更高效（如果再底层监听事件，那么需要很多事件监听函数，在上层只需要一个事件监听函数）。可以通过 event.target 获取到触发事件的对象</p>
<h3 id="33">33 非受控组件<a class="headerlink" href="#33" title="Permanent link">&para;</a></h3>
<p>表单通过 ref 获取输入内容，就是非受控组件（用户输入过程中，react不会获取到输入的内容）切勿过度使用refs</p>
<p>使用状态提升可以处理 ref 较多的情况</p>
<p>下面是传统表单，点击按钮后，会自动获取 username 和 password，然后提交到 action 网址中。</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;www.baidu.com&quot;</span><span class="p">&gt;</span>
  username: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;username&quot;</span><span class="p">/&gt;</span>
  password: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;password&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;password&quot;</span><span class="p">/&gt;</span>
  <span class="p">&lt;</span><span class="nt">button</span><span class="p">&gt;</span>login<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</code></pre></div>
<h3 id="34">34 受控组件<a class="headerlink" href="#34" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">input</span><span class="w"> </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">)}</span><span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="nx">input</span><span class="w"> </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="s2">&quot;password&quot;</span><span class="p">)}</span><span class="o">/&gt;</span>

<span class="nx">save</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">type</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// 这里返回一个函数，就是高阶函数</span>
<span class="w">  </span><span class="c1">// 首次加载时，返回这个函数。当 onChange 触发时，执行内部回调函数</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// console.log(event.target.value, type);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
<span class="w">      </span><span class="p">[</span><span class="nx">type</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="35-">35 高阶函数-函数柯里化<a class="headerlink" href="#35-" title="Permanent link">&para;</a></h3>
<p>高阶函数：参数是一个函数，或者返回值是一个函数的函数，就是高阶函数（Promise, setTimeout, reduce）</p>
<p>函数柯里化 carry-function：函数返回值是函数，可以继续链式调用。多次接收参数，最后统一调用。</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">sum</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">c</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">sum</span><span class="p">(</span><span class="mf">1</span><span class="p">)(</span><span class="mf">2</span><span class="p">)(</span><span class="mf">3</span><span class="p">);</span>
</code></pre></div>
<h3 id="36">36 不用柯里化的写法<a class="headerlink" href="#36" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">input</span><span class="w"> </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">e</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span><span class="o">/&gt;</span>

<span class="nx">save</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">type</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
<span class="w">    </span><span class="p">[</span><span class="nx">type</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">value</span><span class="p">,</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="37">37 生命周期<a class="headerlink" href="#37" title="Permanent link">&para;</a></h3>
<p>从节点卸载组件</p>
<div class="highlight"><pre><span></span><code><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">unmountComponentAtNode</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">));</span>
</code></pre></div>
<h3 id="43">43 对比新旧生命周期<a class="headerlink" href="#43" title="Permanent link">&para;</a></h3>
<p>新版本不推荐使用的三个生命周期函数（ComponentWillMount, ComponentWillReceiveProps, ComponentWillUpdate）；以及新加入的两个生命周期函数(getDerivedStateFromProps, getSnapshotBeforeUpdate)</p>
<p>为什么不推荐使用？过时的三个生命周期函数，经常造成误解滥用，可能造成bug。在 17版本中，可以使用，界面上提示警告。在 18 版本中异步渲染，不能直接使用这三个生命周期函数，必须加上 UNSAVE 前缀（React.lazy, React.Suspend）。</p>
<h3 id="44-getderivedstatefromprops">44 getDerivedStateFromProps<a class="headerlink" href="#44-getderivedstatefromprops" title="Permanent link">&para;</a></h3>
<p>这个生命周期函数是 componentWillReceiveProps 的替代，用于 props 变化造成组件 state 更新的情况。</p>
<p>这是一个静态方法，在组件render前，或者组件更新后都调用。</p>
<div class="highlight"><pre><span></span><code><span class="k">static</span><span class="w"> </span><span class="nx">getDerivedStateFromProps</span><span class="p">(</span><span class="nx">nextProps</span><span class="p">,</span><span class="w"> </span><span class="nx">prevState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// 对比 nextProps 和 prevState 等，返回新的 state 或者 null</span>
<span class="w">  </span><span class="c1">// 这是静态方法，无法直接访问到实例对象的属性和状态（this）</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">nextProps</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">prevState</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">prevState</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">nextProps</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">prevState</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>派生状态会造成代码冗余，尽量避免使用。ComponentWillReceiveProps 只在父组件重新渲染时触发，getDerivedStateFromProps 在每次渲染前调用（包括内部setState）。</p>
<h3 id="45-getsnapshotbeforeupdate">45 getSnapshotBeforeUpdate<a class="headerlink" href="#45-getsnapshotbeforeupdate" title="Permanent link">&para;</a></h3>
<p>在渲染之前调用，可以获得 DOM 信息（例如元素滚动位置），返回值传给 componentDidUpdate 函数，用于处理滚动位置和动画。通常不使用。</p>
<div class="highlight"><pre><span></span><code><span class="nx">getSnapshotBeforeUpdate</span><span class="p">(</span><span class="nx">prevProps</span><span class="p">,</span><span class="w"> </span><span class="nx">prevState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">prevProps</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">listRef</span><span class="p">.</span><span class="nx">current</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">list</span><span class="p">.</span><span class="nx">scrollHeight</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">list</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// 当有新消息加入时，界面滚动位置不变</span>
<span class="nx">componentDidUpdate</span><span class="p">(</span><span class="nx">prevProps</span><span class="p">,</span><span class="w"> </span><span class="nx">prevState</span><span class="p">,</span><span class="w"> </span><span class="nx">snapshot</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">snapshot</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">listRef</span><span class="p">.</span><span class="nx">current</span><span class="p">;</span>
<span class="w">    </span><span class="nx">list</span><span class="p">.</span><span class="nx">scrollTop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">list</span><span class="p">.</span><span class="nx">scrollHeight</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">snapshot</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="46-getsnapshotbeforeupdate">46 getSnapshotBeforeUpdate 举例<a class="headerlink" href="#46-getsnapshotbeforeupdate" title="Permanent link">&para;</a></h3>
<p>简化的案例</p>
<div class="highlight"><pre><span></span><code><span class="nx">getSnapshotBeforeUpdate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">refs</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">scrollHeight</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">componentDidUpdate</span><span class="p">(</span><span class="nx">preProps</span><span class="p">,</span><span class="w"> </span><span class="nx">preState</span><span class="p">,</span><span class="w"> </span><span class="nx">height</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">this</span><span class="p">.</span><span class="nx">refs</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">scrollTop</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">refs</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">scrollHeight</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">height</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="47">47 总结生命周期(新)<a class="headerlink" href="#47" title="Permanent link">&para;</a></h3>
<p>初始化阶段：getDerivedStateFromProps render componentDidMount</p>
<p>更新阶段：getDerivedStateFromProps shouldComponentUpdate render getSnapshotBeforeUpdate componentDidUpdate</p>
<p>卸载阶段：componentWillUnmount</p>
<p>注：getDerivedStateFromProps 在首次加载和再次更新时，都会触发。</p>
<h3 id="48-domdiffing">48 DOM的diffing算法<a class="headerlink" href="#48-domdiffing" title="Permanent link">&para;</a></h3>
<p>对应面试题：React 中 key 的作用是什么？用来作为唯一标识，在 渲染过程中 diff 算法中，判断前后节点是否发生变化。如果Key变化了，那么直接渲染这个节点。如果 key 不变，那么递归比较这个节点内部的子节点。</p>
<p>使用 index 作为 key 可能存在问题，所以最好使用 id 作为 Key。如果在大型列表中，列表项越多，这个性能问题就越大（重新加载一个节点，还是重新加载全部的节点）</p>
<p>如果某些列表是静态的，为了方便，也可以使用 index 作为 key。</p>
<h2 id="react-cli">第三章 react-cli<a class="headerlink" href="#react-cli" title="Permanent link">&para;</a></h2>
<p>React-create-app</p>
<h3 id="50-public">50 脚手架文件介绍-public<a class="headerlink" href="#50-public" title="Permanent link">&para;</a></h3>
<p>favicon</p>
<p>index.html</p>
<p>logo.png</p>
<p>Manifest.json 应用加壳配置文件</p>
<p>Robots.txt 爬虫协议文件</p>
<div class="highlight"><pre><span></span><code>这个表示 public 文件夹的路径
<span class="p">&lt;</span><span class="nt">link</span> <span class="na">ref</span><span class="o">=</span><span class="s">&quot;icon&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;%PUBLIC_URL%/favicon.ico&quot;</span><span class="p">/&gt;</span>

// 理想视口，用于移动端网页适配
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;width=device-width, initial-scale=1&quot;</span><span class="p">&gt;</span>

// 安卓移动端 TAB 背景色（兼容性不好）
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;theme-color&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;#000&quot;</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;description&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;this is test&quot;</span> <span class="p">/&gt;</span>

// 苹果手机桌面快捷应用图标
<span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;apple-touch-icon&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;%PUBLIC%/logo192.png&quot;</span> <span class="p">/&gt;</span>

// 应用加壳规则
<span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;manifest&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;%PUBLIC_URL%/manifest.json&quot;</span><span class="p">&gt;</span>
</code></pre></div>
<h3 id="51-src">51 脚手架文件介绍-src<a class="headerlink" href="#51-src" title="Permanent link">&para;</a></h3>
<p>reportWebVitals.js 页面性能分析工具</p>
<p>React.StrictMode 这个标签并不代表严格模式，而是处理 React 语法中的提示（例如使用了过时的 ref="test" 等）这个包裹在顶层标签下面即可。</p>
<h3 id="52">52 组件化编码流程<a class="headerlink" href="#52" title="Permanent link">&para;</a></h3>
<p>组件化拆分流程</p>
<p>1、拆分组件：根据设计稿，思考拆分成多少部分</p>
<p>2、静态组件拆分：设置不同静态组件，同时 mock 数据</p>
<p>3、动态数据更新（状态属性，界面交互等）</p>
<p>从一个旧项目重构成 react 项目，或者新项目，最好先从细节组件，公共组件做起。</p>
<p>拆分组件的原则：组件在界面上有明确的分界，组件有明确的名称（对应组件的功能或者位置）如果某个组件名称不合适，那么这个组件的功能和位置不合适，需要进一步拆分处理重构。</p>
<p>在 VScode 中加入插件，可以用快捷键搭建基本的架构</p>
<p><strong>ID 的库</strong></p>
<p>uuid 库比较大，可以使用 nanoid 产生随机的 ID，在性能要求不高的情况下可以用</p>
<p><strong>defaultChecked</strong></p>
<p>defaultChecked 可以初始化勾选状态，但是不支持后续 state 更改，实际工程中避免使用这个属性。实际中使用 checked = 处理选择或者不选择，还有一个半选择的图标（回去查一下）</p>
<p>checkbox 如果获取 event.target.value 可以获取到 on 始终是这个值，无意义</p>
<p>window.confirm 原生的弹出框，函数的返回值是用户的选择，用于简单的交互。这个会阻挡JS的执行，在不同浏览器中可能不美观，实际项目中没有使用。</p>
<h2 id="react-ajax">第四章 react ajax<a class="headerlink" href="#react-ajax" title="Permanent link">&para;</a></h2>
<h3 id="65-1">65 脚手架配置代理-方法1<a class="headerlink" href="#65-1" title="Permanent link">&para;</a></h3>
<p>react 主要处理状态管理和界面渲染，没有包括网络请求功能。通常使用 axios 做网络请求（promise return ）。</p>
<div class="highlight"><pre><span></span><code><span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">},</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>如果本地服务端在 5000 端口，浏览器界面是 3000 端口，那么根据浏览器同源策略，会出现跨域的问题。</p>
<p>需要一个代理服务器，把5000返回的响应，转发到3000端口上面。</p>
<p>通常在 package.json 中设置代理，这样就能处理5000端口返回的数据了。这里表示先请求3000端口，如果没有的话找5000端口</p>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;proxy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://localhost:5000&quot;</span>
</code></pre></div>
<h3 id="66-2">66 脚手架配置代理-方法2<a class="headerlink" href="#66-2" title="Permanent link">&para;</a></h3>
<p>实际开发中，可能有不同的服务器提供多种服务，但是前端只有一个端口，所以也需要在服务端处理跨域的问题。</p>
<p>这个在 react 脚手架下可以这样配置，一个项目配置一次即可，不需要多次配置</p>
<div class="highlight"><pre><span></span><code><span class="c1">// setProxy.js 需要脚手架环境，不能改名字</span>

<span class="c1">// 这个库已经在 cra 中包含，不需要单独安装</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">proxy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;http-proxy-middleware&#39;</span><span class="p">);</span><span class="w"> </span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">app</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span>
<span class="w">    </span><span class="c1">// 这是中间件，表示判断api1的请求，发送到 5000 端口，然后改变源，并且替换到 api1</span>
<span class="w">    </span><span class="nx">proxy</span><span class="p">(</span><span class="s1">&#39;/api1&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">target</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;http://localhost:5000&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">changeOrigin</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="c1">// 服务器收到请求头中 Host 字段的值（可选）</span>
<span class="w">      </span><span class="nx">pathRewrite</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;^api1&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">},</span>
<span class="w">    </span><span class="p">}),</span>
<span class="w">    </span><span class="c1">// 另一个中间件，处理另一个跨域的情况</span>
<span class="w">    </span><span class="nx">proxy</span><span class="p">(</span><span class="s1">&#39;/api2&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">target</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;http://localhost:5001&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">changeOrigin</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nx">pathRewrite</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;^api2&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">},</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">  </span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// 跨域也可以在服务端使用 cors 技术实现</span>
</code></pre></div>
<h3 id="67-github-">67 github搜索案例-静态组件<a class="headerlink" href="#67-github-" title="Permanent link">&para;</a></h3>
<p>常用的固定的css最好放在 public 中，然后在 HTML 模板中插入</p>
<p>组件单独的 css 可以放在 src/css 路径下，在不同组件中引入</p>
<h3 id="68-github-axios">68 github搜索案例-axios发送请求<a class="headerlink" href="#68-github-axios" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// 这是原来的写法，代码可读性较差</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="w">  </span><span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="w"> </span><span class="p">});</span>
<span class="p">},</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// 这样回调函数更清晰，推荐这种写法</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span>
<span class="w">  </span><span class="nx">res</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
<span class="w">      </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nx">err</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">);</span>
</code></pre></div>
<h3 id="69-github-">69 github 搜索案例-展示数据<a class="headerlink" href="#69-github-" title="Permanent link">&para;</a></h3>
<h3 id="70-github">70 github 搜索案例<a class="headerlink" href="#70-github" title="Permanent link">&para;</a></h3>
<p>三目运算法可以嵌套使用——但是这样可读性不高</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">isFirst</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Welcome</span><span class="o">&lt;</span><span class="err">/div&gt; :</span>
<span class="w">    </span><span class="nx">isLoading</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">Loading</span><span class="o">/&gt;</span><span class="w"> </span><span class="o">:</span>
<span class="w">    </span><span class="nx">isError</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">&lt;</span><span class="ne">Error</span><span class="o">&gt;</span><span class="w"> </span><span class="o">:</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">List</span><span class="o">/&gt;</span>
<span class="w">  </span><span class="p">}</span>
<span class="o">&lt;</span><span class="err">/div&gt;</span>
</code></pre></div>
<h3 id="71-pubsub">71 消息订阅与发布-pubsub<a class="headerlink" href="#71-pubsub" title="Permanent link">&para;</a></h3>
<p>Pubsub-js 是一个第三方库，publish-subscribe</p>
<div class="highlight"><pre><span></span><code>npm<span class="w"> </span>install<span class="w"> </span>pubsub-js<span class="w"> </span>--save
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">PubSub</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;pubsub-js&#39;</span><span class="p">;</span>

<span class="nx">componentDidMount</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">this</span><span class="p">.</span><span class="nx">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">PubSub</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s1">&#39;delete&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">){</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">);</span><span class="w"> </span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>

<span class="nx">componentWillUnmount</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">PubSub</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">token</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// another component</span>
<span class="nx">PubSub</span><span class="p">.</span><span class="nx">publish</span><span class="p">(</span><span class="s1">&#39;delete&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">);</span>
</code></pre></div>
<h3 id="72-fetch">72 fetch发送请求<a class="headerlink" href="#72-fetch" title="Permanent link">&para;</a></h3>
<p>JS 底层通过 xhr 或者 fetch 发送请求。jQuery 和 axios 都是基于 xhr 发送请求。</p>
<p>问题：老版本浏览器不支持；实际上使用不多（原生XHR书写麻烦，axios 已经封装）。</p>
<p>fetch 关注分离：第一步先判断服务器是否连接，第二步再获取返回的数据</p>
<div class="highlight"><pre><span></span><code><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/api1/search/users?q=test&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span>
<span class="w">  </span><span class="nx">response</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;连接服务器成功&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// 这里的返回值是 Promise 所以可以使用 then 处理</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">join</span><span class="p">();</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nx">error</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;连接服务器失败&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{});</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">).</span><span class="nx">then</span><span class="p">(</span>
<span class="w">  </span><span class="nx">response</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;获取数据成功&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nx">error</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;获取数据失败&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">);</span>
</code></pre></div>
<p>上面这样写，需要使用两个 error 处理函数，实际可以使用一个替代</p>
<div class="highlight"><pre><span></span><code><span class="nx">fetch</span><span class="p">(</span><span class="nx">api</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span>
<span class="w">  </span><span class="nx">response</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;连接服务器成功&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">join</span><span class="p">();</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">).</span><span class="nx">then</span><span class="p">(</span>
<span class="w">  </span><span class="nx">response</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;获取数据成功&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">).</span><span class="k">catch</span><span class="p">(</span>
<span class="w">  </span><span class="nx">err</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">);</span>
</code></pre></div>
<p>或者使用 await 优化</p>
<div class="highlight"><pre><span></span><code><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="nx">api</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>技术层面，XHR(axios, ajax) 和 fetch 是独立的技术</p>
<h3 id="73-github">73 总结github搜索案例<a class="headerlink" href="#73-github" title="Permanent link">&para;</a></h3>
<p>相关知识点：</p>
<p>1、设计状态要全面：例如一个列表，需要考虑初始的状况（欢迎词），网络请求中的状态（loading）数据加载后的状态（列表）数据为空的状态（空列表，还是渲染没有数据）。如果涉及网络请求，要考虑成功后的回调函数，失败后的回调函数，界面的提示等等。</p>
<p>2、ES6 解构赋值的重命名</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nx">a</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">b</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">}};</span>
<span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">obj</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">a</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">obj</span><span class="p">;</span><span class="w"> </span><span class="c1">// 多重对象解构赋值</span>
<span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">a</span><span class="o">:</span><span class="w"> </span><span class="nx">time</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">obj</span><span class="p">;</span><span class="w"> </span><span class="c1">// 解构赋值变量重命名</span>
</code></pre></div>
<p>3、消息订阅和发布</p>
<p>先订阅后发布；适合任何组件传参通信；需要在卸载时取消订阅</p>
<p>这里介绍的是第三方的订阅，实际项目中自定义的消息订阅，需要逐层传参，使用不变</p>
<p>4、fetch 发送请求（关注分离思想）</p>
<p>fetch 实际使用不多，了解即可，大部分情况使用 axios</p>
<p>axios 设计基于 XHR 原理，直接返回请求的数据。fetch 是浏览器原生的，不基于 XHR，先判断是否连通，然后获取数据。</p>
<div class="highlight"><pre><span></span><code><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span><span class="w"> </span><span class="c1">// 先判断服务器是否连通</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span><span class="w"> </span><span class="c1">// 然后从返回的 Promise 中拿到数据</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="react-router">第五章 react-router<a class="headerlink" href="#react-router" title="Permanent link">&para;</a></h2>
<h3 id="74-spa">74 对SPA应用的理解<a class="headerlink" href="#74-spa" title="Permanent link">&para;</a></h3>
<p>单页面应用；整个应用只有一个完整的页面；点击页面内部的连接，页面不会刷新，内部内容更新（使用 axios 请求获取数据，前端异步展示）</p>
<h3 id="75">75 对路由的理解<a class="headerlink" href="#75" title="Permanent link">&para;</a></h3>
<p>路由：映射关系（key-value）满足某个路由，就显示某个页面</p>
<p>后端路由：根据 URL 中的参数，查找到匹配的路由，处理请求，返回响应数据</p>
<p>前端路由：根据 url 中的参数，界面展示不同的组件；当 URL 变化后，前端界面更新</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">Route</span> <span class="na">path</span><span class="o">=</span><span class="s">&quot;/test&quot;</span> <span class="na">component</span><span class="o">=</span><span class="s">{Test}</span><span class="p">&gt;</span>
</code></pre></div>
<h3 id="76">76 前端路由原理<a class="headerlink" href="#76" title="Permanent link">&para;</a></h3>
<p>前端路由（react-router, history），是基于 History 对象，进行 pop push replace 栈操作</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 引入第三方的库</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">history</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">History</span><span class="p">.</span><span class="nx">createBrowserHistory</span><span class="p">();</span><span class="w"> </span><span class="c1">// 基于 History 对象</span>
<span class="c1">// let history = History.createHashHistory(); // 基于 Hash </span>

<span class="kd">function</span><span class="w"> </span><span class="nx">push</span><span class="p">(</span><span class="nx">path</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">history</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">path</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">replace</span><span class="p">(</span><span class="nx">path</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">history</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">path</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">back</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">history</span><span class="p">.</span><span class="nx">goBack</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">forward</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">history</span><span class="p">.</span><span class="nx">goForward</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">history</span><span class="p">.</span><span class="nx">listen</span><span class="p">((</span><span class="nx">location</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;request route path is changed&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">location</span><span class="p">);</span>
<span class="p">})</span>
</code></pre></div>
<h3 id="77">77 路由的基本使用<a class="headerlink" href="#77" title="Permanent link">&para;</a></h3>
<p>react-router 分成 web native 版本，我们使用 web 前端版本（前端路由）</p>
<p>path 对应的 value 是组件 component，对应界面展示的内容</p>
<div class="highlight"><pre><span></span><code>npm<span class="w"> </span>install<span class="w"> </span>react-router-dom
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Link</span><span class="p">,</span><span class="w"> </span><span class="nx">BrowserRouter</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">About</span><span class="p">,</span><span class="w"> </span><span class="nx">Home</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./component/&#39;</span><span class="p">;</span>

<span class="nx">render</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="c1">// 路由链接实现切换组件(这里最好放在顶层组件)</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">BrowserRouter</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">to</span><span class="o">=</span><span class="s2">&quot;/about&quot;</span><span class="o">&gt;</span><span class="nx">关于我们</span><span class="o">&lt;</span><span class="err">/Link&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">to</span><span class="o">=</span><span class="s2">&quot;/home&quot;</span><span class="o">&gt;</span><span class="nx">主页</span><span class="o">&lt;</span><span class="err">/Link&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/BrowserRouter&gt;</span>

<span class="w">    </span><span class="c1">// 注册路由</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Route</span><span class="w"> </span><span class="nx">path</span><span class="o">=</span><span class="s2">&quot;/about&quot;</span><span class="w"> </span><span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">About</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Route</span><span class="w"> </span><span class="nx">path</span><span class="o">=</span><span class="s2">&quot;/home&quot;</span><span class="w"> </span><span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">Home</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>改进后的顶层组件</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">ReactDOM</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">BrowserRouter</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="nx">form</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">App</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./App&#39;</span><span class="p">;</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
<span class="w">  </span><span class="o">&lt;</span><span class="nx">BrowserRouter</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">App</span><span class="o">/&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="err">/BrowserRouter&gt;,</span>
<span class="w">  </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">);</span>
<span class="p">)</span>
</code></pre></div>
<p>总结：</p>
<ul>
<li>
<p>APP 外部统一包裹一个 BrowserRouter 和 HashRouter</p>
</li>
<li>
<p>界面导航区，使用 Link 标签</p>
</li>
<li>
<p>界面内容区，使用 Route 进行路径匹配</p>
</li>
</ul>
<h3 id="78">78 路由组件与一般组件<a class="headerlink" href="#78" title="Permanent link">&para;</a></h3>
<p>路由组件内部，可以收到特殊的 props</p>
<div class="highlight"><pre><span></span><code><span class="nx">history</span><span class="err">（</span><span class="nx">history</span><span class="w"> </span><span class="nx">的一个属性就是</span><span class="w"> </span><span class="nx">location</span><span class="err">）</span>
<span class="w">  </span><span class="nx">go</span>
<span class="w">  </span><span class="nx">goback</span>
<span class="w">  </span><span class="nx">goForward</span>
<span class="w">  </span><span class="nx">push</span>
<span class="w">  </span><span class="nx">replace</span>
<span class="nx">location</span>
<span class="w">  </span><span class="nx">pathname</span>
<span class="w">  </span><span class="nx">search</span>
<span class="w">  </span><span class="nx">state</span>
<span class="nx">match</span>
<span class="w">  </span><span class="nx">params</span>
<span class="w">  </span><span class="nx">path</span>
<span class="w">  </span><span class="nx">url</span>
</code></pre></div>
<h3 id="79-navlink">79 NavLink的使用<a class="headerlink" href="#79-navlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">NavLink</span> <span class="na">activeClassName</span> <span class="na">to</span><span class="o">=</span><span class="s">&quot;/about&quot;</span><span class="p">&gt;</span>About Us<span class="p">&lt;/</span><span class="nt">NavLink</span><span class="p">&gt;</span>
</code></pre></div>
<h3 id="80-navlink">80 封装NavLink组件<a class="headerlink" href="#80-navlink" title="Permanent link">&para;</a></h3>
<p>navlink 可以实现路由链接高亮，通过 activeClassName 指定样式名称</p>
<p>标签体内容是特殊的标签属性（通过 this.props.children 获取标签体内容）</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Component</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">NavLink</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">MyLink</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">render</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">NavLink</span>
<span class="w">        </span><span class="nx">activeClassName</span><span class="o">=</span><span class="s2">&quot;test&quot;</span>
<span class="w">        </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;list-group-item&quot;</span>
<span class="w">        </span><span class="nx">to</span><span class="o">=</span><span class="p">{</span><span class="nx">to</span><span class="p">}</span>
<span class="w">        </span><span class="p">{...</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">}</span>
<span class="w">      </span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/NavLink&gt;</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="81-switch">81 Switch的使用<a class="headerlink" href="#81-switch" title="Permanent link">&para;</a></h3>
<p>通常情况下，path 和 component 是一一对应的，如果有相同的 path 后面会覆盖前面</p>
<p>如果是 switch 嵌套的路由，那么优先匹配，找到满足的就不继续匹配了，提高效率</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">Switch</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="nx">Route</span><span class="w"> </span><span class="nx">path</span><span class="o">=</span><span class="s2">&quot;/to&quot;</span><span class="w"> </span><span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">About</span><span class="p">}</span><span class="o">/&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="nx">Route</span><span class="w"> </span><span class="nx">path</span><span class="o">=</span><span class="s2">&quot;/to&quot;</span><span class="w"> </span><span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">My</span><span class="p">}</span><span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="err">/Switch&gt;</span>
</code></pre></div>
<p>实际项目中，通常不会写两个相同的 path</p>
<h3 id="82">82 解决样式丢失问题<a class="headerlink" href="#82" title="Permanent link">&para;</a></h3>
<p>开发中，可能公共样式丢失（bootstrap 样式引入无效）或者其他静态资源引入不正常</p>
<p>检查引入的路径</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">link</span><span class="w"> </span><span class="nx">rel</span><span class="o">=</span><span class="s1">&#39;icon&#39;</span><span class="w"> </span><span class="nx">href</span><span class="o">=</span><span class="s2">&quot;%PUBLIC_URL%/favicon.ico&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="nx">link</span><span class="w"> </span><span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;stylesheet&quot;</span><span class="w"> </span><span class="nx">href</span><span class="o">=</span><span class="s2">&quot;./css/bootstrap.css&quot;</span><span class="w"> </span><span class="o">/&gt;</span>

<span class="c1">// 使用项目路径代替相对路径</span>
<span class="o">&lt;</span><span class="nx">link</span><span class="w"> </span><span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;stylesheet&quot;</span><span class="w"> </span><span class="nx">href</span><span class="o">=</span><span class="s2">&quot;%PUBLIC_URL%/bootstrap.css&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
</code></pre></div>
<p>不要写 ./ 相对路径，可以写 / 从根目录中引入，或者 %PUBLIC_URL% 表示公共路径</p>
<h3 id="83">83 路由的模糊匹配与严格匹配<a class="headerlink" href="#83" title="Permanent link">&para;</a></h3>
<p>默认路由是模糊匹配（例如组件 /about 可以匹配路由链接 /about/us/）顺序需要一致</p>
<p>严格匹配： exact={true} 必须严格匹配，通常不需要（可能造成二级路由失效）</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">Route</span><span class="w"> </span><span class="nx">exact</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span><span class="w"> </span><span class="nx">path</span><span class="o">=</span><span class="s2">&quot;/about&quot;</span><span class="w"> </span><span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">About</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
</code></pre></div>
<h3 id="84-redirect">84 Redirect的使用<a class="headerlink" href="#84-redirect" title="Permanent link">&para;</a></h3>
<p>redirect 表示重定向，通常用于 Switch 的无效匹配时，默认跳转的页面</p>
<p>写在路由注册最下方，当所有路由都无法匹配是，跳转到 redirect 指定的路由</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">Switch</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="nx">Route</span><span class="w"> </span><span class="nx">path</span><span class="o">=</span><span class="s2">&quot;/about&quot;</span><span class="w"> </span><span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">About</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="nx">Route</span><span class="w"> </span><span class="nx">path</span><span class="o">=</span><span class="s2">&quot;/home&quot;</span><span class="w"> </span><span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">Home</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="nx">Redirect</span><span class="w"> </span><span class="nx">to</span><span class="o">=</span><span class="s2">&quot;/about&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="err">/Switch&gt;</span>
</code></pre></div>
<h3 id="85">85 嵌套路由<a class="headerlink" href="#85" title="Permanent link">&para;</a></h3>
<p>多级导航-多级路由嵌套</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">className</span><span class="o">=</span><span class="s">&quot;nav nav-tabs&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">MyNavLink</span> <span class="na">to</span><span class="o">=</span><span class="s">&quot;/home/news&quot;</span><span class="p">&gt;</span>新闻<span class="p">&lt;/</span><span class="nt">MyNavLink</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">MyNavLink</span> <span class="na">to</span><span class="o">=</span><span class="s">&quot;/home/message&quot;</span><span class="p">&gt;</span>消息<span class="p">&lt;/</span><span class="nt">MyNavLink</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">Switch</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">Route</span> <span class="na">path</span><span class="o">=</span><span class="s">&quot;/home/news&quot;</span> <span class="na">component</span><span class="o">=</span><span class="s">{News}</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">Route</span> <span class="na">path</span><span class="o">=</span><span class="s">&quot;/home/message&quot;</span> <span class="na">component</span><span class="o">=</span><span class="s">{Message}</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">Redirect</span> <span class="na">to</span><span class="o">=</span><span class="s">&quot;/home/news&quot;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">Switch</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p>注册子路由，要协商父路由的 path</p>
<p>路由的匹配是按照注册路由的顺序进行的</p>
<h3 id="86-params">86 向路由组件传递params参数<a class="headerlink" href="#86-params" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">to</span><span class="o">=</span><span class="p">{</span><span class="sb">`home/message/detail/</span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">/</span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span><span class="w"> </span><span class="o">&gt;</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Link&gt;</span>

<span class="c1">// 声明接收 params 参数</span>
<span class="o">&lt;</span><span class="nx">Route</span><span class="w"> </span><span class="nx">path</span><span class="o">=</span><span class="s2">&quot;/home/message/detail/:id/:name&quot;</span><span class="w"> </span><span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">Detail</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
</code></pre></div>
<p>在子路由中接收参数（这种可读性强，使用最多）</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">match</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
</code></pre></div>
<h3 id="87-search">87 向路由组件传递search参数<a class="headerlink" href="#87-search" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">to</span><span class="o">=</span><span class="p">{</span><span class="sb">`/home/message/detail/?id=</span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">&amp;name=</span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Link&gt;</span>
</code></pre></div>
<p>子组件中接收到字符串，需要解析成对象</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">qs</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;querystring&#39;</span><span class="p">;</span>

<span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Amy&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="mf">20</span><span class="p">});</span>
<span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">&#39;name=amy&amp;age=20&#39;</span><span class="p">);</span>

<span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">search</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">location</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">search</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mf">1</span><span class="p">));</span>
</code></pre></div>
<h3 id="88-state">88 向路由组件传递state参数<a class="headerlink" href="#88-state" title="Permanent link">&para;</a></h3>
<p>这样界面的路由中，用户看不到传递的参数。</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">to</span><span class="o">=</span><span class="p">{{</span><span class="nx">pathname</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/home/message/detail&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">state</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="nx">id</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="nx">name</span><span class="p">}}}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Link&gt;</span>
</code></pre></div>
<p>子组件获取参数</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">state</span><span class="p">;</span>
</code></pre></div>
<p>界面刷新后，可以保留参数（界面强制清空缓存，这个连接就无效了，实际技术还是 history 对象）</p>
<h3 id="89">89 总结路由参数<a class="headerlink" href="#89" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Params：在 URL 中携带参数，注册路由使用 :name 接收。参数 this.props.match.params 使用最多</p>
</li>
<li>
<p>Search: 在 ?key=value 中传参。参数：this.props.location.search（string）</p>
</li>
<li>
<p>state 参数 刷新也可以保留参数，this.props.location.state</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">to</span><span class="o">=</span><span class="p">{</span><span class="sb">`/home/</span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">/</span><span class="si">${</span><span class="nx">title</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span><span class="o">&gt;&lt;</span><span class="err">/Link&gt;</span>

<span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">to</span><span class="o">=</span><span class="p">{</span><span class="sb">`/home/?id=</span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">&amp;title=</span><span class="si">${</span><span class="nx">title</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span><span class="o">&gt;&lt;</span><span class="err">/Link&gt;</span>

<span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">replace</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span><span class="w"> </span><span class="nx">to</span><span class="o">=</span><span class="p">{{</span><span class="nx">pathname</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/home/message/detail&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">state</span><span class="p">;</span><span class="w"> </span><span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="nx">id</span><span class="p">,</span><span class="w"> </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="nx">title</span><span class="p">}}}</span><span class="o">&gt;&lt;</span><span class="err">/Link&gt;</span>
</code></pre></div>
<h3 id="90-pushreplace">90 push与replace<a class="headerlink" href="#90-pushreplace" title="Permanent link">&para;</a></h3>
<p>通过 JS 更改 history 即可</p>
<h3 id="91">91 编程式路由导航<a class="headerlink" href="#91" title="Permanent link">&para;</a></h3>
<p>之前的案例都是用户点击按钮，触发路由，改变页面内容。如果需要使用 JS 触发路由，就需要使用相关的 API 进行操作（例如，点击按钮后，界面停留3s，再跳转）。</p>
<p>原理就是操作 BOM 的 history 对象</p>
<div class="highlight"><pre><span></span><code>history.go()
history.goBack()
history.goForward()

history.push()
history.replace()
</code></pre></div>
<p>具体使用</p>
<div class="highlight"><pre><span></span><code><span class="c1">// replace 没有历史记录</span>
<span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;/home/message&#39;</span><span class="p">);</span>

<span class="c1">// push 有历史记录</span>
<span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;/home/message&#39;</span><span class="p">);</span>

<span class="c1">// 如果需要传参，对应三种参数形式(接收也需要三种形式)</span>
<span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="sb">`/home/message/</span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="sb">`/home/message?id=</span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;/home/message&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nx">id</span><span class="p">});</span>

<span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">goBack</span><span class="p">();</span>
<span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">goForward</span><span class="p">();</span>
<span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">go</span><span class="p">(</span><span class="o">-</span><span class="mf">2</span><span class="p">);</span>
<span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">go</span><span class="p">(</span><span class="mf">2</span><span class="p">);</span>
</code></pre></div>
<h3 id="92-withrouter">92 withRouter 使用<a class="headerlink" href="#92-withrouter" title="Permanent link">&para;</a></h3>
<p>如果想在普通组件中使用 history 的 API，那么需要使用 withRouter 包裹一层，这样就可以使用路由组件的 API 了。</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">withRouter</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>

<span class="kd">class</span><span class="w"> </span><span class="nx">Demo</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">withRouter</span><span class="p">(</span><span class="nx">Demo</span><span class="p">);</span>
</code></pre></div>
<h3 id="93-browserrouter-hashrouter">93 BrowserRouter 和 HashRouter 比较<a class="headerlink" href="#93-browserrouter-hashrouter" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>技术不一样：Browser 使用 H5 的 history API，不兼容老版本；Hash 使用 URL 哈希值，兼容 IE 6</p>
</li>
<li>
<p>Path 显示：Browser 没有#，Hash 必须加 #</p>
</li>
<li>
<p>刷新浏览器？Browser 不会丢失 state 参数，Hash 会丢失 state 参数</p>
</li>
<li>
<p>Hash 可能解决一些路径错误的问题（例如样式引入）</p>
</li>
<li>
<p>实际使用：BrowserRouter 使用较多</p>
</li>
</ul>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">June 25, 2025</span>
  </span>

    
    
    
      
  
  <span class="md-source-file__fact">
    <span class="md-icon" title="Contributors">
      
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 5.5A3.5 3.5 0 0 1 15.5 9a3.5 3.5 0 0 1-3.5 3.5A3.5 3.5 0 0 1 8.5 9 3.5 3.5 0 0 1 12 5.5M5 8c.56 0 1.08.15 1.53.42-.15 1.43.27 2.85 1.13 3.96C7.16 13.34 6.16 14 5 14a3 3 0 0 1-3-3 3 3 0 0 1 3-3m14 0a3 3 0 0 1 3 3 3 3 0 0 1-3 3c-1.16 0-2.16-.66-2.66-1.62a5.54 5.54 0 0 0 1.13-3.96c.45-.27.97-.42 1.53-.42M5.5 18.25c0-2.07 2.91-3.75 6.5-3.75s6.5 1.68 6.5 3.75V20h-13zM0 20v-1.5c0-1.39 1.89-2.56 4.45-2.9-.59.68-.95 1.62-.95 2.65V20zm24 0h-3.5v-1.75c0-1.03-.36-1.97-.95-2.65 2.56.34 4.45 1.51 4.45 2.9z"/></svg>
      
    </span>
    <nav>
      
        <a href="mailto:1822852997@qq.com">Michael An</a>, 
        <a href="mailto:2331806369@qq.com">Michael An</a>
    </nav>
  </span>

    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; Michael An
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../js/baidu-statistics.min.js"></script>
      
        <script src="../../js/history.min.js"></script>
      
    
  </body>
</html>