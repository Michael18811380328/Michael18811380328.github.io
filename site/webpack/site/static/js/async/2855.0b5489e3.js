"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["2855"],{688:function(e,n,r){r.r(n),r.d(n,{default:function(){return o}});var a=r(6469),t=r(8809);function s(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h3:"h3",h4:"h4",pre:"pre",code:"code",strong:"strong"},(0,t.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.h1,{id:"learn-es6-语法介绍",children:["Learn ES6 语法介绍",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#learn-es6-语法介绍",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"统计信息：字数 17760  阅读36分钟"}),"\n",(0,a.jsxs)(n.h3,{id:"introduction",children:["Introduction",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#introduction",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"ECMAScript 2015 is an ECMAScript standard that was ratified in June 2015."}),"\n",(0,a.jsx)(n.p,{children:"ES2015 is a significant update to the language, and the first major update to the language since ES5 was standardized in 2009. Implementation of these features in major JavaScript engines is underway now."}),"\n",(0,a.jsx)(n.p,{children:"See the ES2015 standard for full specification of the ECMAScript 2015 language."}),"\n",(0,a.jsxs)(n.h3,{id:"ecmascript-2015-features",children:["ECMAScript 2015 Features",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#ecmascript-2015-features",children:"#"})]}),"\n",(0,a.jsxs)(n.h4,{id:"arrows-and-lexical词法-this",children:["Arrows and Lexical(词法) This",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#arrows-and-lexical词法-this",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"箭头函数和this指向：箭头函数和周围代码是相同的环境（可以获取类中的属性和方法）。如果不使用箭头函数，需要在构造器中使用bind将函数中的this绑定到当前类中。"}),"\n",(0,a.jsx)(n.p,{children:'Arrows are a function shorthand using the => syntax. They are syntactically similar to the related feature in C#, Java 8 and CoffeeScript. They support both expression and statement bodies. Unlike functions, arrows share the same lexical this as their surrounding code. If an arrow is inside another function, it shares the "arguments" variable of its parent function.'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'// Expression bodies\nvar odds = evens.map(v => v + 1);\nvar nums = evens.map((v, i) => v + i);\n\n// Statement bodies\nnums.forEach(v => {\n  if (v % 5 === 0)\n    fives.push(v);\n});\n\n// Lexical this\nvar bob = {\n  _name: "Bob",\n  _friends: [],\n  printFriends() {\n    this._friends.forEach(f =>\n      console.log(this._name + " knows " + f));\n  }\n};\n\n// Lexical arguments\nfunction square() {\n  let example = () => {\n    let numbers = [];\n    for (let number of arguments) {\n      numbers.push(number * number);\n    }\n    return numbers;\n  };\n  return example();\n}\n\nsquare(2, 4, 7.5, 8, 11.5, 21); // returns: [4, 16, 56.25, 64, 132.25, 441]\n'})}),"\n",(0,a.jsxs)(n.h4,{id:"classes",children:["Classes",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#classes",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"ES2015 classes are syntactic sugar over the prototype-based OO pattern. Having a single convenient declarative form makes class patterns easier to use, and encourages interoperability. Classes support prototype-based inheritance, super calls, instance and static methods and constructors."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"class SkinnedMesh extends THREE.Mesh {\n  constructor(geometry, materials) {\n    super(geometry, materials);\n    this.idMatrix = SkinnedMesh.defaultMatrix();\n    this.bones = [];\n    this.boneMatrices = [];\n    //...\n  }\n  update(camera) {\n    //...\n    super.update();\n  }\n  static defaultMatrix() {\n    return new THREE.Matrix4();\n  }\n}\n"})}),"\n",(0,a.jsxs)(n.h4,{id:"enhanced-object-literals",children:["Enhanced Object Literals",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#enhanced-object-literals",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Object literals are extended to support setting the prototype at construction, shorthand for foo: foo assignments, defining methods and making super calls. Together, these also bring object literals and class declarations closer together, and let object-based design benefit from some of the same conveniences."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'var obj = {\n  // Sets the prototype. "proto" or \'proto\' would also work.\n  proto: theProtoObj,\n  // Computed property name does not set prototype or trigger early error for\n  // duplicate proto properties.\n  [\'__proto__\']: somethingElse,\n\n  // Shorthand for ‘handler: handler’\n  handler,\n  // Methods\n  toString() {\n    // Super calls\n    return "d " + super.toString();\n  },\n  // Computed (dynamic) property names\n  [ "prop_" + (() => 42)() ]: 42\n};\n'})}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.strong,{children:"proto"})," property requires native support, and was deprecated in previous ECMAScript versions. Most engines now support the property, but some do not. Also, note that only web browsers are required to implement it, as it's in Annex B. It is available in Node."]}),"\n",(0,a.jsxs)(n.h4,{id:"template-strings",children:["Template Strings",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#template-strings",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Template strings provide syntactic sugar for constructing strings. This is similar to string interpolation features in Perl, Python and more. Optionally, a tag can be added to allow the string construction to be customized, avoiding injection attacks or constructing higher level data structures from string contents."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'// Basic literal string creation\nThis is a pretty little template string.\n\n// Multiline strings\nIn ES5 this is\nnot legal.\n\n// Interpolate variable bindings\nvar name = "Bob", time = "today";\nHello ${name}, how are you ${time}?\n\n  // Unescaped template strings\n  String.rawIn ES5 "\\n" is a line-feed.\n\n  // Construct an HTTP request prefix is used to interpret the replacements and construction\n  GEThttp://foo.org/bar?a=${a}&b=${b}\n  Content-Type: application/json\n  X-Credentials: ${credentials}\n  { "foo": ${foo},\n    "bar": ${bar}}(myOnReadyStateChangeHandler);\n'})}),"\n",(0,a.jsxs)(n.h4,{id:"destructuring",children:["Destructuring",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#destructuring",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:'Destructuring allows binding using pattern matching, with support for matching arrays and objects. Destructuring is fail-soft, similar to standard object lookup foo["bar"], producing undefined values when not found.'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"// list matching\nvar [a, ,b] = [1,2,3];\na = 1;\nb = 3;\n\n// object matching\nvar { op: a, lhs: { op: b }, rhs: c } = getASTNode()\n\n// object matching shorthand\n// binds op, lhs and rhs in scope\nvar {op, lhs, rhs} = getASTNode()\n\n// Can be used in parameter position\nfunction g({name: x}) {\n  console.log(x);\n}\ng({name: 5})\n\n// Fail-soft destructuring\nvar [a] = [];\na === undefined;\n\n// Fail-soft destructuring with defaults\nvar [a = 1] = [];\na === 1;\n\n// Destructuring + defaults arguments\nfunction r({x, y, w = 10, h = 10}) {\n  return x + y + w + h;\n}\nr({x:1, y:2}) === 23\n"})}),"\n",(0,a.jsxs)(n.h4,{id:"default--rest--spread",children:["Default + Rest + Spread",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#default--rest--spread",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Callee-evaluated default parameter values. Turn an array into consecutive arguments in a function call. Bind trailing parameters to an array. Rest replaces the need for arguments and addresses common cases more directly."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'function f(x, y=12) {\n  // y is 12 if not passed (or passed as undefined)\n  return x + y;\n}\nf(3) == 15\n\nfunction f(x, ...y) {\n  // y is an Array\n  return x * y.length;\n}\nf(3, "hello", true) == 6\n\n\nfunction f(x, y, z) {\n  return x + y + z;\n}\n// Pass each elem of array as argument\nf(...[1,2,3]) == 6\n\n'})}),"\n",(0,a.jsxs)(n.h4,{id:"let--const",children:["Let + Const",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#let--const",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Block-scoped binding constructs. let is the new var. const is single-assignment. Static restrictions prevent use before assignment."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'function f() {\n  {\n    let x;\n    {\n      // this is ok since it\'s a block scoped name\n      const x = "sneaky";\n      // error, was just defined with const above\n      x = "foo";\n    }\n    // this is ok since it was declared with let\n    x = "bar";\n    // error, already declared above in this block\n    let x = "inner";\n  }\n}\n'})}),"\n",(0,a.jsxs)(n.h4,{id:"iterators--forof",children:["Iterators + For..Of",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#iterators--forof",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Iterator objects enable custom iteration like CLR IEnumerable or Java Iterable. Generalize for..in to custom iterator-based iteration with for..of. Don’t require realizing an array, enabling lazy design patterns like LINQ."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"let fibonacci = {\n  Symbol.iterator {\n    let pre = 0, cur = 1;\n    return {\n      next() {\n        [pre, cur] = [cur, pre + cur];\n        return { done: false, value: cur }\n      }\n    }\n  }\n}\n\nfor (var n of fibonacci) {\n  // truncate the sequence at 1000\n  if (n > 1000)\n    break;\n  console.log(n);\n}\n\n// Iteration is based on these duck-typed interfaces (using TypeScript type syntax for exposition only):\n\ninterface IteratorResult {\n  done: boolean;\n  value: any;\n}\ninterface Iterator {\n  next(): IteratorResult;\n}\ninterface Iterable {\n  Symbol.iterator: Iterator\n}\n"})}),"\n",(0,a.jsxs)(n.h4,{id:"generators",children:["Generators",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#generators",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Generators simplify iterator-authoring using function* and yield. A function declared as function* returns a Generator instance. Generators are subtypes of iterators which include additional next and throw. These enable values to flow back into the generator, so yield is an expression form which returns a value (or throws)."}),"\n",(0,a.jsx)(n.p,{children:"Note: Can also be used to enable ‘await’-like async programming, see also ES7 await proposal."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"var fibonacci = {\n  [Symbol.iterator]: function*() {\n    var pre = 0, cur = 1;\n    for (;;) {\n      var temp = pre;\n      pre = cur;\n      cur += temp;\n      yield cur;\n    }\n  }\n}\n\nfor (var n of fibonacci) {\n  // truncate the sequence at 1000\n  if (n > 1000)\n    break;\n  console.log(n);\n}\n\n\n// The generator interface is (using TypeScript type syntax for exposition only):\ninterface Generator extends Iterator {\n    next(value?: any): IteratorResult;\n    throw(exception: any);\n}\n"})}),"\n",(0,a.jsxs)(n.h4,{id:"unicode",children:["Unicode",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#unicode",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Non-breaking additions to support full Unicode, including new unicode literal form in strings and new RegExp u mode to handle code points, as well as new APIs to process strings at the 21bit code points level. These additions support building global apps in JavaScript."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'// same as ES5.1\n"\uD842\uDFB7".length == 2\n\n// new RegExp behaviour, opt-in ‘u’\n"\uD842\uDFB7".match(/./u)[0].length == 2\n\n// new form\n"\\u{20BB7}" == "\uD842\uDFB7"\n"\uD842\uDFB7" == "\uD842\uDFB7"\n\n// new String ops\n"\uD842\uDFB7".codePointAt(0) == 0x20BB7\n\n// for-of iterates code points\nfor(var c of "\uD842\uDFB7") {\n  console.log(c);\n}\n\n'})}),"\n",(0,a.jsxs)(n.h4,{id:"modules",children:["Modules",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modules",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Language-level support for modules for component definition. Codifies patterns from popular JavaScript module loaders (AMD, CommonJS). Runtime behaviour defined by a host-defined default loader. Implicitly async model – no code executes until requested modules are available and processed."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'// lib/math.js\nexport function sum(x, y) {\n  return x + y;\n}\nexport var pi = 3.141593;\n\n\n// app.js\nimport * as math from "lib/math";\nconsole.log("2π = " + math.sum(math.pi, math.pi));\n\n\n// otherApp.js\nimport {sum, pi} from "lib/math";\nconsole.log("2π = " + sum(pi, pi));\n\n// Some additional features include export default and export *:\n\n// lib/mathplusplus.js\nexport * from "lib/math";\nexport var e = 2.71828182846;\nexport default function(x) {\n    return Math.exp(x);\n}\n\n\n// app.js\nimport exp, {pi, e} from "lib/mathplusplus";\nconsole.log("e^π = " + exp(pi));\n\n'})}),"\n",(0,a.jsxs)(n.h4,{id:"module-formatters",children:["Module Formatters",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#module-formatters",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Babel can transpile ES2015 Modules to several different formats including Common.js, AMD, System, and UMD. You can even create your own. For more details see the modules docs."}),"\n",(0,a.jsxs)(n.h4,{id:"module-loaders",children:["Module Loaders",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#module-loaders",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Not part of ES2015\nThis is left as implementation-defined within the ECMAScript 2015 specification. The eventual standard will be in WHATWG's Loader specification, but that is currently a work in progress. What is below is from a previous ES2015 draft."}),"\n",(0,a.jsx)(n.p,{children:"Module loaders support:"}),"\n",(0,a.jsx)(n.p,{children:"Dynamic loading\nState isolation\nGlobal namespace isolation\nCompilation hooks\nNested virtualization\nThe default module loader can be configured, and new loaders can be constructed to evaluate and load code in isolated or constrained contexts."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'// Dynamic loading – ‘System’ is default loader\nSystem.import("lib/math").then(function(m) {\n  alert("2π = " + m.sum(m.pi, m.pi));\n});\n\n// Create execution sandboxes – new Loaders\nvar loader = new Loader({\n  global: fixup(window) // replace ‘console.log’\n});\nloader.eval("console.log("hello world!");");\n\n// Directly manipulate module cache\nSystem.get("jquery");\nSystem.set("jquery", Module({: })); // WARNING: not yet finalized\n'})}),"\n",(0,a.jsxs)(n.h4,{id:"additional-polyfill-needed",children:["Additional polyfill needed",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#additional-polyfill-needed",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Since Babel defaults to using common.js modules, it does not include the polyfill for the module loader API. Get it here."}),"\n",(0,a.jsxs)(n.h4,{id:"using-module-loader",children:["Using Module Loader",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#using-module-loader",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"In order to use this, you'll need to tell Babel to use the system module formatter. Also be sure to check out System.js"}),"\n",(0,a.jsxs)(n.h4,{id:"map--set--weakmap--weakset",children:["Map + Set + WeakMap + WeakSet",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#map--set--weakmap--weakset",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Efficient data structures for common algorithms. WeakMaps provides leak-free object-key’d side tables."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'// Sets\nvar s = new Set();\ns.add("hello").add("goodbye").add("hello");\ns.size = 2;\ns.has("hello") = true;\n\n// Maps\nvar m = new Map();\nm.set("hello", 42);\nm.set(s, 34);\nm.get(s) == 34;\n\n// Weak Maps\nvar wm = new WeakMap();\nwm.set(s, { extra: 42 });\nwm.size === undefined\n\n// Weak Sets\nvar ws = new WeakSet();\nws.add({ data: 42 });\n// Because the added object has no other references, it will not be held in the set\n\n'})}),"\n",(0,a.jsxs)(n.h4,{id:"proxies",children:["Proxies",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#proxies",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Proxies enable creation of objects with the full range of behaviors available to host objects. Can be used for interception, object virtualization, logging/profiling, etc."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'// Proxying a normal object\nvar target = {};\nvar handler = {\n  get: function (receiver, name) {\n    return Hello, ${name}!;\n  }\n};\n\nvar p = new Proxy(target, handler);\np.world === "Hello, world!";\n\n\n// Proxying a function object\nvar target = function () { return "I am the target"; };\nvar handler = {\n  apply: function (receiver, ...args) {\n    return "I am the proxy";\n  }\n};\n\nvar p = new Proxy(target, handler);\np() === "I am the proxy";\n\n'})}),"\n",(0,a.jsx)(n.p,{children:"There are traps available for all of the runtime-level meta-operations:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"var handler =\n{\n  // target.prop\n  get: ...,\n  // target.prop = value\n  set: ...,\n  // 'prop' in target\n  has: ...,\n  // delete target.prop\n  deleteProperty: ...,\n  // target(...args)\n  apply: ...,\n  // new target(...args)\n  construct: ...,\n  // Object.getOwnPropertyDescriptor(target, 'prop')\n  getOwnPropertyDescriptor: ...,\n  // Object.defineProperty(target, 'prop', descriptor)\n  defineProperty: ...,\n  // Object.getPrototypeOf(target), Reflect.getPrototypeOf(target),\n  // target.proto, object.isPrototypeOf(target), object instanceof target\n  getPrototypeOf: ...,\n  // Object.setPrototypeOf(target), Reflect.setPrototypeOf(target)\n  setPrototypeOf: ...,\n  // for (let i in target) {}\n  enumerate: ...,\n  // Object.keys(target)\n  ownKeys: ...,\n  // Object.preventExtensions(target)\n  preventExtensions: ...,\n  // Object.isExtensible(target)\n  isExtensible :...\n}\n"})}),"\n",(0,a.jsxs)(n.h4,{id:"unsupported-feature",children:["Unsupported feature",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#unsupported-feature",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Due to the limitations of ES5, Proxies cannot be transpiled or polyfilled. See support in various JavaScript engines."}),"\n",(0,a.jsxs)(n.h4,{id:"symbols",children:["Symbols",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#symbols",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Symbols enable access control for object state. Symbols allow properties to be keyed by either string (as in ES5) or symbol. Symbols are a new primitive type. Optional name parameter used in debugging - but is not part of identity. Symbols are unique (like gensym), but not private since they are exposed via reflection features like Object.getOwnPropertySymbols."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'(function() {\n\n  // module scoped symbol\n  var key = Symbol("key");\n\n  function MyClass(privateData) {\n    this[key] = privateData;\n  }\n\n  MyClass.prototype = {\n    doStuff: function() {\n      ... this[key] ...\n    }\n  };\n\n  // Limited support from Babel, full support requires native implementation.\n  typeof key === "symbol"\n})();\n\nvar c = new MyClass("hello")\nc["key"] === undefined\n\n'})}),"\n",(0,a.jsx)(n.p,{children:"Limited support via polyfill"}),"\n",(0,a.jsx)(n.p,{children:"Limited support requires the Babel polyfill. Due to language limitations, some features can't be transpiled or polyfilled. See core.js's caveats section for more details."}),"\n",(0,a.jsx)(n.p,{children:"Subclassable Built-ins\nIn ES2015, built-ins like Array, Date and DOM Elements can be subclassed."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"// User code of Array subclass\nclass MyArray extends Array {\n  constructor(...args) {\n    super(...args); \n  }\n}\n\nvar arr = new MyArray();\narr[1] = 12;\narr.length == 2\n\n"})}),"\n",(0,a.jsxs)(n.h4,{id:"partial-support",children:["Partial support",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#partial-support",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Built-in subclassability should be evaluated on a case-by-case basis as classes such as HTMLElement can be subclassed while many such as Date, Array and Error cannot be due to ES5 engine limitations."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'Math + Number + String + Object APIs\nMany new library additions, including core Math libraries, Array conversion helpers, and Object.assign for ing.\n\nNumber.EPSILON\nNumber.isInteger(Infinity) // false\nNumber.isNaN("NaN") // false\n\nMath.acosh(3) // 1.762747174039086\nMath.hypot(3, 4) // 5\nMath.imul(Math.pow(2, 32) - 1, Math.pow(2, 32) - 2) // 2\n\n"abcde".includes("cd") // true\n"abc".repeat(3) // "abcabcabc"\n\nArray.from(document.querySelectorAll("*")) // Returns a real Array\nArray.of(1, 2, 3) // Similar to new Array(...), but without special one-arg behavior\n[0, 0, 0].fill(7, 1) // [0,7,7]\n[1,2,3].findIndex(x => x == 2) // 1\n["a", "b", "c"].entries() // iterator [0, "a"], [1,"b"], [2,"c"]\n["a", "b", "c"].keys() // iterator 0, 1, 2\n["a", "b", "c"].values() // iterator "a", "b", "c"\n\nObject.assign(Point, { origin: new Point(0,0) })\n\n'})}),"\n",(0,a.jsx)(n.p,{children:"Most of these APIs are supported by the Babel polyfill. However, certain features are omitted for various reasons (e.g. String.prototype.normalize needs a lot of additional code to support). You can find more polyfills here."}),"\n",(0,a.jsxs)(n.h4,{id:"binary-and-octal-literals",children:["Binary and Octal Literals",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#binary-and-octal-literals",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Two new numeric literal forms are added for binary (b) and octal (o)."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"0b111110111 = 503 // true\n0o767 = 503 // true\n"})}),"\n",(0,a.jsx)(n.p,{children:'Only supports literal form：Babel is only able to transform 0o767 and not Number("0o767").'}),"\n",(0,a.jsxs)(n.h4,{id:"promises",children:["Promises",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#promises",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Promises are a library for asynchronous programming. Promises are a first class representation of a value that may be made available in the future. Promises are used in many existing JavaScript libraries."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'function timeout(duration = 0) {\n  return new Promise((resolve, reject) => {\n    setTimeout(resolve, duration);\n  })\n}\n\nvar p = timeout(1000).then(() => {\n  return timeout(2000);\n}).then(() => {\n  throw new Error("hmm");\n}).catch(err => {\n  return Promise.all([timeout(100), timeout(200)]);\n})\n\n'})}),"\n",(0,a.jsxs)(n.h4,{id:"reflect-api",children:["Reflect API",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#reflect-api",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Full reflection API exposing the runtime-level meta-operations on objects. This is effectively the inverse of the Proxy API, and allows making calls corresponding to the same meta-operations as the proxy traps. Especially useful for implementing proxies."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"var O = {a: 1};\nObject.defineProperty(O, 'b', {value: 2});\nO[Symbol('c')] = 3;\n\nReflect.ownKeys(O); // ['a', 'b', Symbol(c)]\n\nfunction C(a, b){\n  this.c = a + b;\n}\nvar instance = Reflect.construct(C, [20, 22]);\ninstance.c; // 42\n\n"})}),"\n",(0,a.jsxs)(n.h4,{id:"tail-calls",children:["Tail Calls",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#tail-calls",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Calls in tail-position are guaranteed to not grow the stack unboundedly. Makes recursive algorithms safe in the face of unbounded inputs."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'function factorial(n, acc = 1) {\n  "use strict";\n  if (n <= 1) return acc;\n  return factorial(n - 1, n * acc);\n}\n\n// Stack overflow in most implementations today,\n// but safe on arbitrary inputs in ES2015\nfactorial(100000)\n'})}),"\n",(0,a.jsxs)(n.h4,{id:"temporarily-removed-in-babel-6",children:["Temporarily Removed in Babel 6",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#temporarily-removed-in-babel-6",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Only explicit self referencing tail recursion was supported due to the complexity and performance impact of supporting tail calls globally. Removed due to other bugs and will be re-implemented."})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(s,{...e})}):s(e)}let o=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["babel%2F24-Babel-Learn%20ES2015.md"]={toc:[{text:"Introduction",id:"introduction",depth:3},{text:"ECMAScript 2015 Features",id:"ecmascript-2015-features",depth:3},{text:"Arrows and Lexical(词法) This",id:"arrows-and-lexical词法-this",depth:4},{text:"Classes",id:"classes",depth:4},{text:"Enhanced Object Literals",id:"enhanced-object-literals",depth:4},{text:"Template Strings",id:"template-strings",depth:4},{text:"Destructuring",id:"destructuring",depth:4},{text:"Default + Rest + Spread",id:"default--rest--spread",depth:4},{text:"Let + Const",id:"let--const",depth:4},{text:"Iterators + For..Of",id:"iterators--forof",depth:4},{text:"Generators",id:"generators",depth:4},{text:"Unicode",id:"unicode",depth:4},{text:"Modules",id:"modules",depth:4},{text:"Module Formatters",id:"module-formatters",depth:4},{text:"Module Loaders",id:"module-loaders",depth:4},{text:"Additional polyfill needed",id:"additional-polyfill-needed",depth:4},{text:"Using Module Loader",id:"using-module-loader",depth:4},{text:"Map + Set + WeakMap + WeakSet",id:"map--set--weakmap--weakset",depth:4},{text:"Proxies",id:"proxies",depth:4},{text:"Unsupported feature",id:"unsupported-feature",depth:4},{text:"Symbols",id:"symbols",depth:4},{text:"Partial support",id:"partial-support",depth:4},{text:"Binary and Octal Literals",id:"binary-and-octal-literals",depth:4},{text:"Promises",id:"promises",depth:4},{text:"Reflect API",id:"reflect-api",depth:4},{text:"Tail Calls",id:"tail-calls",depth:4},{text:"Temporarily Removed in Babel 6",id:"temporarily-removed-in-babel-6",depth:4}],title:"Learn ES6 语法介绍",frontmatter:{}}}}]);