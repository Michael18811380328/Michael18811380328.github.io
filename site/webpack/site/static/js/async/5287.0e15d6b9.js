"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["5287"],{646:function(e,n,r){r.r(n),r.d(n,{default:function(){return p}});var t=r(6469),i=r(8809);function s(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h3:"h3",pre:"pre",code:"code"},(0,i.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.h1,{id:"enzyme-简单实践",children:["enzyme 简单实践",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#enzyme-简单实践",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"统计信息：字数 2847  阅读6分钟"}),"\n",(0,t.jsx)(n.p,{children:"enzyme 主要用于 React 组件测试"}),"\n",(0,t.jsxs)(n.p,{children:["文档链接：",(0,t.jsx)(n.a,{href:"https://enzymejs.github.io/enzyme/",target:"_blank",rel:"noopener noreferrer",children:"https://enzymejs.github.io/enzyme/"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/enzyme",target:"_blank",rel:"noopener noreferrer",children:"https://www.npmjs.com/package/enzyme"})}),"\n",(0,t.jsxs)(n.p,{children:["Jest 断言配置：",(0,t.jsx)(n.a,{href:"https://github.com/enzymejs/enzyme-matchers/tree/master/packages/jest-enzyme",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/enzymejs/enzyme-matchers/tree/master/packages/jest-enzyme"})]}),"\n",(0,t.jsxs)(n.p,{children:["环境依赖配置：",(0,t.jsx)(n.a,{href:"https://github.com/enzymejs/enzyme-matchers/tree/master/packages/jest-environment-enzyme",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/enzymejs/enzyme-matchers/tree/master/packages/jest-environment-enzyme"})]}),"\n",(0,t.jsx)(n.p,{children:"官网星星只有 800 颗，证明实际使用的人数不是很多（因为判断组件太严格）国内的组件和功能经常更改，这里不合适，代码两年没有更新了"}),"\n",(0,t.jsxs)(n.h3,{id:"简单步骤",children:["简单步骤",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#简单步骤",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"这个只是测试组件，不包括断言库，可以选择自定义的断言库（React 通常匹配 Jest 断言库）"}),"\n",(0,t.jsx)(n.p,{children:"需要在测试入口配置"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import Enzyme from 'enzyme';\nimport Adapter from 'enzyme-adapter-react-16';\n\nEnzyme.configure({ adapter: new Adapter() });\n"})}),"\n",(0,t.jsx)(n.p,{children:"然后编写组件测试文件"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"import React from 'react';\nimport { shallow, mount, render } from 'enzyme';\n\ndescribe('<CollaboratorFormatter />', () => {\n\n  it('basic text', () => {\n    function Fixture() {\n      return (\n        <div>\n          <input id=\"checked\" defaultChecked />\n          <input id=\"not\" defaultChecked={false} />\n        </div>\n      );\n    }\n    const wrapper = mount(<Fixture />);\n    expect(wrapper.find('#checked')).toBeChecked();\n    expect(wrapper.find('#not')).not.toBeChecked();\n  });\n\n  it('basic text', () => {\n    function Fixture() {\n      return (\n        <div>\n          <input id=\"disabled\" disabled />\n          <input id=\"not\"/>\n        </div>\n      );\n    }\n    const wrapper = mount(<Fixture />);\n    expect(wrapper.find('#disabled')).toBeDisabled();\n    expect(wrapper.find('#not')).not.toBeDisabled();\n  });\n\n  it('basic text', () => {\n    function EmptyRenderFixture() {\n      return null;\n    }\n    function NonEmptyRenderFixture() {\n      return (\n        <div>\n          <EmptyRenderFixture />\n        </div>\n      );\n    }\n    const wrapper = mount(<EmptyRenderFixture />);\n    expect(wrapper.find('EmptyRenderFixture')).toBeEmptyRender();\n\n    const wrapper2 = mount(<NonEmptyRenderFixture />);\n    expect(wrapper2.find('NonEmptyRenderFixture')).toBeEmptyRender();\n  });\n\n});\n\n"})}),"\n",(0,t.jsx)(n.p,{children:"渲染组件有三个方式"}),"\n",(0,t.jsx)(n.p,{children:"shallow rendering：浅渲染有助于限制您将组件作为一个单元进行测试，并确保您的测试不会间接断言子组件的行为。"}),"\n",(0,t.jsx)(n.p,{children:"full DOM rendering：完整 DOM 渲染非常适用于您的组件可能与 DOM API 交互或需要测试封装在高阶组件中的组件的用例。"}),"\n",(0,t.jsx)(n.p,{children:"static rendered markup：使用 enzyme 的渲染功能从你的 React 树中生成 HTML，并分析生成的 HTML 结构。"}),"\n",(0,t.jsx)(n.p,{children:"适合不同的组件和交互"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://enzymejs.github.io/enzyme/docs/api/shallow.html",target:"_blank",rel:"noopener noreferrer",children:"https://enzymejs.github.io/enzyme/docs/api/shallow.html"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://enzymejs.github.io/enzyme/docs/api/mount.html",target:"_blank",rel:"noopener noreferrer",children:"https://enzymejs.github.io/enzyme/docs/api/mount.html"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://enzymejs.github.io/enzyme/docs/api/render.html",target:"_blank",rel:"noopener noreferrer",children:"https://enzymejs.github.io/enzyme/docs/api/render.html"})})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(s,{...e})}):s(e)}let p=a;a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["git%2Fenzyme%20%E7%AE%80%E5%8D%95%E5%AE%9E%E8%B7%B5.md"]={toc:[{text:"简单步骤",id:"简单步骤",depth:3}],title:"enzyme 简单实践",frontmatter:{}}}}]);