"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["7605"],{9146:function(e,n,r){r.r(n),r.d(n,{default:function(){return d}});var a=r(6469),s=r(8809);function i(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",ul:"ul",li:"li",pre:"pre",code:"code",ol:"ol",blockquote:"blockquote"},(0,s.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.h1,{id:"npm-学习",children:["npm 学习",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#npm-学习",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"统计信息：字数 7799  阅读16分钟"}),"\n",(0,a.jsx)(n.p,{children:"NPM（node package manager），通常称为node包管理器。顾名思义，它的主要功能就是管理node包。"}),"\n",(0,a.jsx)(n.p,{children:"包括：安装、卸载、更新、查看、搜索、发布等。"}),"\n",(0,a.jsxs)(n.h2,{id:"1常规使用",children:["1、常规使用",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1常规使用",children:"#"})]}),"\n",(0,a.jsxs)(n.h3,{id:"安装",children:["安装",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#安装",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"node包的安装分两种：本地安装、全局安装。两者的区别如下，后面会通过简单例子说明"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"本地安装：package会被下载到当前所在目录，也只能在当前目录下使用。"}),"\n",(0,a.jsx)(n.li,{children:"全局安装：package会被下载到到特定的系统目录下，安装的package能够在所有目录下使用。"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"npm install -g grunt-cli 全局安装 grunt-cli"}),"\n",(0,a.jsx)(n.p,{children:"对于单独作用的包，安装在对应的文件夹下，对于全局的指令（cnpm, grunt-cli 等全局工具需要全局安装）"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# 安装最新版本的grunt-cli\nnpm install grunt-cli\n# 安装0.1.9版本的grunt-cli\nnpm install grunt-cli@"0.1.9"\n# 通过package.json进行安装(已有package.json)\nnpm install \n# package.json\n'})}),"\n",(0,a.jsxs)(n.h3,{id:"更新",children:["更新",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#更新",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"以 react 为例"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'npm update react\nnpm update react@"1.1.2"\n'})}),"\n",(0,a.jsxs)(n.h3,{id:"查看",children:["查看",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#查看",children:"#"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm ls \n# 查看当前的依赖目录\n\nnpm ls -g \n# 查看全局下安装的node package\n\nnpm ls react-dom \n# 查看当前react-dom的详情(安装目录+版本号)\n\nnpm info react \n# 查看当前react 的详细信息\n\neditor\n└── react@16.2.0 \n\nreact@16.6.3 | MIT | deps: 4 | versions: 171\nReact is a JavaScript library for building user interfaces.\nhttps://reactjs.org/\n\nkeywords: react\n\ndist\n.tarball: https://registry.npmjs.org/react/-/react-16.6.3.tgz\n.shasum: 25d77c91911d6bbdd23db41e70fb094cc1e0871c\n.integrity: sha512-zCvmH2vbEolgKxtqXL2wmGCUxUyNheYn/C+PD1YAjfxHC54+MhdruyhO7QieQrYsYeTxrn93PM2y0jRH1zEExw==\n.unpackedSize: 194.7 kB\n\ndependencies:\nloose-envify: ^1.1.0  prop-types: ^15.6.2   \nobject-assign: ^4.1.1 scheduler: ^0.11.2    \n\nmaintainers:\n- acdlite <npm@andrewclark.io>\n- brianvaughn <briandavidvaughn@gmail.com>\n- fb <opensource+npm@fb.com>\n- flarnie <flarnie.npm@gmail.com>\n- gaearon <dan.abramov@gmail.com>\n- sebmarkbage <sebastian@calyptus.eu>\n- sophiebits <npm@sophiebits.com>\n- trueadm <dg@domgan.com>\n\ndist-tags:\ncanary: 0.0.0-ed4c4a51c          next: 16.7.0-alpha.2             \nlatest: 16.6.3                   unstable: 0.0.0-0c756fb-f7f79fd  \n\npublished a week ago by acdlite <npm@andrewclark.io>\n"})}),"\n",(0,a.jsxs)(n.h3,{id:"搜索",children:["搜索",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#搜索",children:"#"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm search react\n# 搜索包含 react 字段的包，返回的结果如下\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"NAME                      | DESCRIPTION          | AUTHOR          | DATE       | VERSION  | KEYWORDS\nreact                     | React is a…          | =acdlite…       | 2018-11-13 | 16.6.3   | react   \nbabel-preset-react        | Babel preset for…    | =hzoo…          | 2017-04-07 | 6.24.1   | \nreact-router-dom          | DOM bindings for…    | =mjackson…      | 2018-06-06 | 4.3.1    | react router route routing history link\nreact-router              | Declarative routing… | =mjackson…      | 2018-06-06 | 4.3.1    | react router route routing history link\nreact-dev-utils           | Webpack utilities…   | =fb =gaearon…   | 2018-11-01 | 6.1.1    | \nreact-redux               | Official React…      | =gaearon…       | 2018-11-10 | 5.1.1    |\n"})}),"\n",(0,a.jsxs)(n.h3,{id:"发布",children:["发布",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#发布",children:"#"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm publish\n# 将当前仓库发布到官网上去(需要在package.json 中改进版本号到下一个)\n"})}),"\n",(0,a.jsxs)(n.h2,{id:"2npm配置",children:["2、NPM配置",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2npm配置",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"npm 在内网中的配置：npm config 主要是增删改查，下面以代理服务器 proxy 进行分析。这部分功能目前使用不多。"}),"\n",(0,a.jsxs)(n.h3,{id:"设置proxy",children:["设置proxy",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#设置proxy",children:"#"})]}),"\n",(0,a.jsxs)(n.p,{children:["内网使用npm很头痛的一个问题就是代理，假设我们的代理是 ",(0,a.jsx)(n.a,{href:"http://proxy.example.com:8080%EF%BC%8C%E9%82%A3%E4%B9%88%E5%91%BD%E4%BB%A4%E5%A6%82%E4%B8%8B%EF%BC%9A/",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(n.a,{href:"http://proxy.example.com:8080",target:"_blank",rel:"noopener noreferrer",children:"http://proxy.example.com:8080"})}),"，那么命令如下："]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm config set proxy http://proxy.example.com:8080\n"})}),"\n",(0,a.jsxs)(n.p,{children:["由于",(0,a.jsx)(n.code,{children:"npm config set"}),"命令比较常用，于是可以如下简写"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm set proxy http://proxy.example.com:8080    \n"})}),"\n",(0,a.jsxs)(n.h3,{id:"查看proxy",children:["查看proxy",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#查看proxy",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"设置完，我们查看下当前代理设置"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"npm config get proxy\n"})}),"\n",(0,a.jsx)(n.p,{children:"输出如下："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"http://proxy.example.com:8080/\n"})}),"\n",(0,a.jsx)(n.p,{children:"同样可如下简写："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"npm get proxy\n"})}),"\n",(0,a.jsxs)(n.h3,{id:"删除proxy",children:["删除proxy",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#删除proxy",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"代理不需要用到了，那删了吧"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"npm delete proxy\n"})}),"\n",(0,a.jsxs)(n.h3,{id:"查看所有配置",children:["查看所有配置",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#查看所有配置",children:"#"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"npm config list\n"})}),"\n",(0,a.jsxs)(n.h3,{id:"直接修改配置文件",children:["直接修改配置文件",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#直接修改配置文件",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"有时候觉得一条配置一条配置地修改有些麻烦，就直接进配置文件修改了"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"npm config edit\n"})}),"\n",(0,a.jsxs)(n.h2,{id:"3packagejson字段简介",children:["3、package.json字段简介",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3packagejson字段简介",children:"#"})]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:['name: package的名字（由于他会成为url的一部分，所以 non-url-safe 的字母不会通过，也不允许出现"."、"_"），最好先在',(0,a.jsx)(n.a,{href:"http://registry.npmjs.org/%E4%B8%8A%E6%90%9C%E4%B8%8B%E4%BD%A0%E5%8F%96%E7%9A%84%E5%90%8D%E5%AD%97%E6%98%AF%E5%90%A6%E5%B7%B2%E7%BB%8F%E5%AD%98%E5%9C%A8",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(n.a,{href:"http://registry.npmjs.org/%E4%B8%8A%E6%90%9C%E4%B8%8B%E4%BD%A0%E5%8F%96%E7%9A%84%E5%90%8D%E5%AD%97%E6%98%AF%E5%90%A6%E5%B7%B2%E7%BB%8F%E5%AD%98%E5%9C%A8",target:"_blank",rel:"noopener noreferrer",children:"http://registry.npmjs.org/上搜下你取的名字是否已经存在"})})]}),"\n",(0,a.jsx)(n.li,{children:"version: package的版本，当package发生变化时，version也应该跟着一起变化，同时，你声明的版本需要通过semver的校验（semver可自行谷歌）"}),"\n",(0,a.jsx)(n.li,{children:"dependencies: ==package的应用依赖模块，即别人要使用这个package，至少需要安装哪些东东==。应用依赖模块会安装到当前模块的node_modules目录下。例如运行时需要的 react vue bootstrap."}),"\n",(0,a.jsx)(n.li,{children:"devDependencies：==package的开发依赖模块，即别人要在这个package上进行开发==。例如 webpack"}),"\n"]}),"\n",(0,a.jsxs)(n.h2,{id:"4版本号",children:["4、版本号",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4版本号",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:'a、"~1.2.3"'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'"~1.2.3" = ">=1.2.3 <1.3.0"\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'"~1.2" = ">=1.2.0 <1.3.0"\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'"~1" = ">=1.0.0 <1.1.0"\n'})}),"\n",(0,a.jsx)(n.p,{children:'b、"1.x.x"'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'"1.2.x" = ">=1.2.0 <1.3.0"\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'"1.x.x" = ">=1.0.0 <2.0.0"\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'"1.2" = "1.2.x"\n"1.x" = "1.x.x"\n"1" = "1.x.x"\n'})}),"\n",(0,a.jsxs)(n.h2,{id:"5npm-升级",children:["5、npm 升级",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#5npm-升级",children:"#"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm install npm@latest -g\n"})}),"\n",(0,a.jsx)(n.p,{children:"通常情况下 npm 会和 nodeJS 同时安装。默认的安装版本是5。有些情况需要手动更新 npm 版本。"}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Since npm and node.js products are managed by different entities, updates and maintenance can become complex. Also, the Node.js installation process installs npm in a directory that only has local permissions. This can cause permissions errors when you attempt to run packages globally."}),"\n"]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"To solve both these issues, many developers opt to use a node version manager, or nvm, to install npm. The version manager will avoid permissions errors, and will solve the complexities of updating Node.js and npm."}),"\n"]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"In addition, developers can use an nvm to test their applications on multiple versions of npm. The nvm enables you to easily switch npm as well as node versions. This makes it easier to ensure that your applications work for most users, even if they are using other versions of npm. If you decide to install a version manager, use the instructions for the version manager you select to learn how to switch versions, and to learn how to keep up-to-date with the latest version of npm."}),"\n"]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"由于npm和node.js产品由不同的实体管理，因此更新和维护可能会变得复杂。此外，Node.js安装过程将npm安装在一个只有本地权限的目录中。当您尝试全局运行程序包时，这可能会导致权限错误。"}),"\n",(0,a.jsx)(n.p,{children:"为了解决这两个问题，许多开发人员选择使用节点版本管理器或nvm来安装npm。版本管理器将避免权限错误，并将解决更新Node.js和npm的复杂性。"}),"\n",(0,a.jsx)(n.p,{children:"此外，开发人员可以使用nvm在多个版本的npm上测试他们的应用程序。nvm使您能够轻松切换npm以及节点版本。这样可以更容易地确保您的应用程序适用于大多数用户，即使他们正在使用其他版本的npm。如果您决定安装版本管理器，请使用所选版本管理器的说明来学习如何切换版本，并学习如何保持最新版本的npm。"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"这个是不同版本下的 node 和 npm，最好使用 nmv 或者 n 等版本管理工具处理不同版本问题"})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(i,{...e})}):i(e)}let d=c;c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["git%2Fnpm%20%E5%AD%A6%E4%B9%A0.md"]={toc:[{text:"1、常规使用",id:"1常规使用",depth:2},{text:"安装",id:"安装",depth:3},{text:"更新",id:"更新",depth:3},{text:"查看",id:"查看",depth:3},{text:"搜索",id:"搜索",depth:3},{text:"发布",id:"发布",depth:3},{text:"2、NPM配置",id:"2npm配置",depth:2},{text:"设置proxy",id:"设置proxy",depth:3},{text:"查看proxy",id:"查看proxy",depth:3},{text:"删除proxy",id:"删除proxy",depth:3},{text:"查看所有配置",id:"查看所有配置",depth:3},{text:"直接修改配置文件",id:"直接修改配置文件",depth:3},{text:"3、package.json字段简介",id:"3packagejson字段简介",depth:2},{text:"4、版本号",id:"4版本号",depth:2},{text:"5、npm 升级",id:"5npm-升级",depth:2}],title:"npm 学习",frontmatter:{}}}}]);