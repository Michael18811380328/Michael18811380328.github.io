"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["1148"],{3149:function(e,r,n){n.r(r),n.d(r,{default:function(){return c}});var t=n(6469),s=n(8809);function a(e){let r=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code"},(0,s.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.h1,{id:"webpack-设置-devserver-为-https-协议",children:["webpack 设置 devServer 为 https 协议",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack-设置-devserver-为-https-协议",children:"#"})]}),"\n",(0,t.jsx)(r.p,{children:"统计信息：字数 1470  阅读3分钟"}),"\n",(0,t.jsx)(r.p,{children:"最近使用另一个第三方库 @zxing/library 需要 https 开发环境才能使用，默认 webpack-dev-server 开启的是 http 协议，所以需要改一下配置，才能调试这个功能。"}),"\n",(0,t.jsxs)(r.h2,{id:"1改动-webpack-配置",children:["1、改动 webpack 配置",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#1改动-webpack-配置",children:"#"})]}),"\n",(0,t.jsx)(r.p,{children:"很简单，我们只需要改webpack的devServer的其中一项配置，即可实现启动项目的时候，默认是https协议"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",children:"devServer: {\n	host: '0.0.0.0',\n	port: 8080,\n	https: true, // 设置默认使用 https\n}\n"})}),"\n",(0,t.jsx)(r.p,{children:"如果上面的更改后无效，那么继续调整环境变量"}),"\n",(0,t.jsxs)(r.h2,{id:"2更改环境变量",children:["2、更改环境变量",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#2更改环境变量",children:"#"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"npm i cross-env -D\n"})}),"\n",(0,t.jsx)(r.p,{children:"更改启动脚本"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-diff",children:'- "start": "node scripts/start.js",\n+ "start-https": "cross-env HTTPS=true REACT_APP_ENV=development node scripts/start.js"\n'})}),"\n",(0,t.jsxs)(r.h2,{id:"3解决浏览器安全链接报错",children:["3、解决浏览器安全链接报错",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#3解决浏览器安全链接报错",children:"#"})]}),"\n",(0,t.jsx)(r.p,{children:"如果我们重新启动 webpack-dev-server 后，打开谷歌浏览器，默认会提示如下报错"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"您的连接不是私密连接 攻击者可能会试图从 localhost 窃取您的信息（例如：密码、通讯内容或信用卡信息）。了解详情 NET::ERR_CERT_INVALID\n"})}),"\n",(0,t.jsxs)(r.p,{children:["我们可以参考这里的方案，让谷歌浏览器不报错 ",(0,t.jsx)(r.a,{href:"https://blog.csdn.net/m15345704381/article/details/130760324",target:"_blank",rel:"noopener noreferrer",children:"https://blog.csdn.net/m15345704381/article/details/130760324"})," 或者我本地开另一个浏览器，不会提示安全问题，也可以解决这个问题。"]}),"\n",(0,t.jsxs)(r.h2,{id:"参考资料",children:["参考资料",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#参考资料",children:"#"})]}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.a,{href:"https://blog.csdn.net/dclnet/article/details/96316401",target:"_blank",rel:"noopener noreferrer",children:"https://blog.csdn.net/dclnet/article/details/96316401"})}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.a,{href:"https://blog.csdn.net/Boale_H/article/details/109264808",target:"_blank",rel:"noopener noreferrer",children:"https://blog.csdn.net/Boale_H/article/details/109264808"})})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,s.ah)(),e.components);return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}let c=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["webpack%2F42-webpack%E8%AE%BE%E7%BD%AEdevServer%E5%90%AF%E5%8A%A8%E9%A1%B9%E7%9B%AE%E4%B8%BAhttps%E5%8D%8F%E8%AE%AE.md"]={toc:[{text:"1、改动 webpack 配置",id:"1改动-webpack-配置",depth:2},{text:"2、更改环境变量",id:"2更改环境变量",depth:2},{text:"3、解决浏览器安全链接报错",id:"3解决浏览器安全链接报错",depth:2},{text:"参考资料",id:"参考资料",depth:2}],title:"webpack 设置 devServer 为 https 协议",frontmatter:{}}}}]);