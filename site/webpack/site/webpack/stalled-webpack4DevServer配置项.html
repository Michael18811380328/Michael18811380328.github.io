<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Rspress v1.38.0">
  <title data-rh="true">深入浅出的webpack构建工具---DevServer配置项(二) - 前端工程化</title><meta data-rh="true" name="description" content="介绍前端工程化常用工具"/>
<script>{;const saved = localStorage.getItem('rspress-theme-appearance');const preferDark = window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = !saved || saved === 'auto' ? preferDark : saved === 'dark';document.documentElement.classList.toggle('dark', isDark);document.documentElement.style.colorScheme = isDark ? 'dark' : 'light';}</script><script defer src="/site/webpack/site/static/js/styles.03324596.js"></script><script defer src="/site/webpack/site/static/js/lib-react.82d8ec79.js"></script><script defer src="/site/webpack/site/static/js/lib-router.fdbdb348.js"></script><script defer src="/site/webpack/site/static/js/index.35af798f.js"></script><link href="/site/webpack/site/static/css/styles.c26b7a64.css" rel="stylesheet"></head>

<body >
  <div id="root"><div><div class="navContainer_f6cde rspress-nav px-6 " style="position:sticky"><div class="container_f6cde flex justify-between items-center h-full"><div class="navBarTitle_f6cde"><a class="link_03735 flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60 cursor-pointer" target="" href="/site/webpack/site/index.html"><span>前端工程化</span></a></div><div class="flex flex-1 justify-end items-center"><div class="rightNav_f6cde"><div class="flex sm:flex-1 items-center sm:pl-4 sm:pr-2"><div class="rspress-nav-search-button navSearchButton_6e282"><button><svg width="18" height="18" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9Z"></path></svg><p class="searchWord_6e282">Search Docs</p><div style="opacity:0"><span></span><span>K</span></div></button></div><div class="mobileNavSearchButton_6e282"><svg width="24" height="24" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9Z"></path></svg></div></div><div class="rspress-nav-menu menu h-14"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/index.html"><div class="rspress-nav-menu-item singleItem_f6cde activeItem_f6cde text-sm font-medium mx-1.5 px-3 py-2 flex items-center">首页</div></a><div class="mx-3 last:mr-0"><div class="relative flex-center h-14"><button class="rspress-nav-menu-group-button flex-center items-center font-medium text-sm text-text-1 hover:text-text-2 transition-colors duration-200"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/rollup/28-rollup完全入门指南.html"><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">rollup<svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></div></a></button><div class="rspress-nav-menu-group-content absolute mx-0.8 transition-opacity duration-300" style="opacity:0;visibility:hidden;right:0;top:52px"><div class="p-3 pr-2 w-full h-full max-h-100vh whitespace-nowrap" style="box-shadow:var(--rp-shadow-3);z-index:100;border:1px solid var(--rp-c-divider-light);border-radius:var(--rp-radius-large);background:var(--rp-c-bg)"><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/rollup/demo01-note.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>Demo 01 Note</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/rollup/demo02-note.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>Demo 02 Note</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/rollup/demo03-note.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>Demo 03 Note</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/rollup/demo04-note.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>Demo 04 Note</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/rollup/28-rollup完全入门指南.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>rollup </span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/rollup/29-rollup打包工具基础配置使用详解.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>rollup </span></div></div></a></div></div></div></div></div></div><div class="mx-3 last:mr-0"><div class="relative flex-center h-14"><button class="rspress-nav-menu-group-button flex-center items-center font-medium text-sm text-text-1 hover:text-text-2 transition-colors duration-200"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/babel/21-Babel is what.html"><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">babel<svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></div></a></button><div class="rspress-nav-menu-group-content absolute mx-0.8 transition-opacity duration-300" style="opacity:0;visibility:hidden;right:0;top:52px"><div class="p-3 pr-2 w-full h-full max-h-100vh whitespace-nowrap" style="box-shadow:var(--rp-shadow-3);z-index:100;border:1px solid var(--rp-c-divider-light);border-radius:var(--rp-radius-large);background:var(--rp-c-bg)"><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/babel/21-Babel is what.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>21-Babel is what</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/babel/22-Babel Usage Guide.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>22-Babel Usage Guide</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/babel/23-Babel-Configure.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>23-Babel-Configure</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/babel/24-Babel-Learn ES2015.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>24-Babel-Learn ES2015</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/babel/25-babel-preset-env.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>25-babel-preset-env使用指南</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/babel/26-babel-preset-env 作用.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>26-babel-preset-env 作用</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/babel/27-babel-plugin-transform-runtime 说明.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>27-babel-plugin-transform-runtime 说明</span></div></div></a></div></div></div></div></div></div><div class="mx-3 last:mr-0"><div class="relative flex-center h-14"><button class="rspress-nav-menu-group-button flex-center items-center font-medium text-sm text-text-1 hover:text-text-2 transition-colors duration-200"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/00-readme.html"><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">webpack<svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></div></a></button><div class="rspress-nav-menu-group-content absolute mx-0.8 transition-opacity duration-300" style="opacity:0;visibility:hidden;right:0;top:52px"><div class="p-3 pr-2 w-full h-full max-h-100vh whitespace-nowrap" style="box-shadow:var(--rp-shadow-3);z-index:100;border:1px solid var(--rp-c-divider-light);border-radius:var(--rp-radius-large);background:var(--rp-c-bg)"><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/00-readme.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>00-readme</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/01-webpack基本概念.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>01-webpack基本概念</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/02-create-react-app入门教程.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>02-create-react-app入门教程</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/03-网易webpack配置解析.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>03-网易webpack配置解析</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/04-网易webpack编译原理分析.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>04-网易webpack编译原理分析</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/05-网易webpack的高级技巧.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>05-网易webpack的高级技巧</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/06-网易 webpack 打包工具使用.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>06-网易 webpack 打包工具使用</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/07-webpack 官方起步.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>07-webpack 官方起步</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/08-webpack5 和 webpack4 的区别有哪些.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>08-webpack5 和 webpack4 的区别有哪些</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/09-webpack主要概念.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>09-webpack主要概念</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/10-深度解锁Webpack系列(基础篇) 01.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>10-深度解锁Webpack系列(基础篇) 01</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/11-深度解锁Webpack系列(进阶篇)02.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>11-深度解锁Webpack系列(进阶篇)02</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/12-深度解锁Webpack系列(优化篇)03.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>12-深度解锁Webpack系列(优化篇)03</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/13-webpack5 SplitChunksPlugin 实用指南.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>13-webpack5 SplitChunksPlugin 实用指南</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/41-webpack更新版本后报错Starting the development server.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>41-webpack更新版本后报错Starting the development server</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/42-webpack设置devServer启动项目为https协议.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>42-webpack设置devServer启动项目为https协议</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/43-webpack 打包 antd-mobile 按需加载样式问题.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>43-webpack 打包 antd-mobile 按需加载样式问题</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/44-TS-React-Webpack.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>44-TS-React-Webpack</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/45-TS项目使用Webpack.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>45-TS项目使用Webpack</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/46-webpack 项目配置学习.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>46-webpack 项目配置学习</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/47-webpack 项目配置学习2.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>47-webpack 项目配置学习2</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/48-webpack 项目配置学习3.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>48-webpack 项目配置学习3</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/Preset files are not allowed to export objects.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>Preset files are not allowed to export objects</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/stalled-webpack3基本使用.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>stalled-webpack3基本使用</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/stalled-webpack4 babel配置文件.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>stalled-webpack4 babel配置文件</span></div></div></a></div></div><div><div class="rounded-2xl my-1 flex" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><span class="text-brand">stalled-webpack4DevServer配置项</span></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/stalled-webpack4入门介绍.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>stalled-webpack4入门介绍</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/stalled-webpack4基本配置.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>stalled-webpack4基本配置</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/stalled-webpack4打包很慢处理.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>stalled-webpack4打包很慢处理</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/webpack-setting.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>webpack-setting</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/webpack04-01README.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>webpack04-01README</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/webpack04-02-README.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>webpack04-02-README</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/webpack04-03-README.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>webpack04-03-README</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/webpack3-readme.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>webpack3-readme</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/插件 mini-css-extract-plugin.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>插件 mini-css-extract-plugin</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/插件 react-webpack-template.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>插件 react-webpack-template</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/插件 webpack Code Splitting.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>插件 webpack Code Splitting</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/插件 webpack HappyPack多个进程处理loader.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>插件 webpack HappyPack多个进程处理loader</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/插件 webpack 常用插件.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>插件 webpack 常用插件</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/插件 webpack-howto.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>插件 webpack-howto</span></div></div></a></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/插件-HappyPack plugin for the loader could not be found.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>插件-HappyPack plugin for the loader could not be found</span></div></div></a></div></div></div></div></div></div></div><div class="flex-center flex-row"><div class="mx-2"><div class="md:mr-2 rspress-nav-appearance"><div class="p-1 border border-solid border-gray-300 text-gray-400  cursor-pointer rounded-md hover:border-gray-600 hover:text-gray-600 dark:hover:border-gray-200 dark:hover:text-gray-200 transition-all duration-300 w-7 h-7"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" class="dark:hidden" width="18" height="18" fill="currentColor"><path d="M12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zM12 4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1zM12 24c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1zM5.6 6.6c-.3 0-.5-.1-.7-.3L3.5 4.9c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.1.2-.4.3-.7.3zM19.8 20.8c-.3 0-.5-.1-.7-.3l-1.4-1.4c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.2.2-.5.3-.7.3zM3 13H1c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1zM23 13h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1zM4.2 20.8c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.4.3-.7.3zM18.4 6.6c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.5.3-.7.3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" class="hidden dark:block" width="18" height="18" fill="currentColor"><path d="M12.1 22h-.9c-5.5-.5-9.5-5.4-9-10.9.4-4.8 4.2-8.6 9-9 .4 0 .8.2 1 .5.2.3.2.8-.1 1.1-2 2.7-1.4 6.4 1.3 8.4 2.1 1.6 5 1.6 7.1 0 .3-.2.7-.3 1.1-.1.3.2.5.6.5 1-.2 2.7-1.5 5.1-3.6 6.8-1.9 1.4-4.1 2.2-6.4 2.2zM9.3 4.4c-2.9 1-5 3.6-5.2 6.8-.4 4.4 2.8 8.3 7.2 8.7 2.1.2 4.2-.4 5.8-1.8 1.1-.9 1.9-2.1 2.4-3.4-2.5.9-5.3.5-7.5-1.1-2.8-2.2-3.9-5.9-2.7-9.2z"></path></svg></div></div></div></div></div><div class="mobileNavMenu_f6cde"><div class="navScreen_457e8 " id="navScreen"><div class="container_457e8"><div class="navMenu_457e8"><div class="navMenuItem_457e8 w-full"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/index.html"><div class="rspress-nav-menu-item singleItem_f6cde activeItem_f6cde text-sm font-medium mx-1.5 px-3 py-2 flex items-center">首页</div></a></div><div class="navMenuItem_457e8 w-full"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/rollup/28-rollup完全入门指南.html"><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">rollup</div></a></div><div class="navMenuItem_457e8 w-full"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/babel/21-Babel is what.html"><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">babel</div></a></div><div class="navMenuItem_457e8 w-full"><a class="link_03735  cursor-pointer" target="" href="/site/webpack/site/webpack/00-readme.html"><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">webpack</div></a></div></div><div class="flex-center flex-col gap-2"><div class="mt-2 navAppearance_457e8 flex justify-center"></div></div></div></div><button aria-label="mobile hamburger" class=" navHamburger_e7b06 text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="currentColor"><circle cx="8" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="24" cy="16" r="2" fill="currentColor"></circle></svg></button></div></div></div></div><section><div class="docLayout_edeb4 pt-0"><div class="rspress-sidebar-menu"><button class="flex-center ml-auto"><span class="text-sm">ON THIS PAGE</span><div class="text-md mr-2" style="transform:rotate(0deg);transition:transform 0.2s ease-out;margin-top:2px"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></button><div class="rspress-local-toc-container "><ul></ul></div></div><div class="content_edeb4 rspress-doc-container flex flex-shrink-0 mx-auto"><div class="w-full flex-1"><div><div class="rspress-doc"><!--$--><h1 id="深入浅出的webpack构建工具---devserver配置项二" class="text-3xl mb-10 leading-10 tracking-tight title_3b154">深入浅出的webpack构建工具---DevServer配置项(二)<a class="link_3b154 header-anchor" aria-hidden="true" href="#深入浅出的webpack构建工具---devserver配置项二">#</a></h1>
<p class="my-4 leading-7">统计信息：字数 19528  阅读40分钟</p>
<p class="my-4 leading-7"><strong class="font-semibold">阅读目录</strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">DevServer配置项</p>
<p class="my-4 leading-7"><a target="_blank" rel="noopener noreferrer" href="https://www.cnblogs.com/tugenhua0707/p/9418526.html#_labe1_0" class="link_03735  link_3b154 inline-link_3b154">1. contentBase</a></p>
<p class="my-4 leading-7"><a target="_blank" rel="noopener noreferrer" href="https://www.cnblogs.com/tugenhua0707/p/9418526.html#_labe1_1" class="link_03735  link_3b154 inline-link_3b154">2. port</a></p>
<p class="my-4 leading-7"><a target="_blank" rel="noopener noreferrer" href="https://www.cnblogs.com/tugenhua0707/p/9418526.html#_labe1_2" class="link_03735  link_3b154 inline-link_3b154">3. host</a></p>
<p class="my-4 leading-7"><a target="_blank" rel="noopener noreferrer" href="https://www.cnblogs.com/tugenhua0707/p/9418526.html#_labe1_3" class="link_03735  link_3b154 inline-link_3b154">4. headers</a></p>
<p class="my-4 leading-7"><a target="_blank" rel="noopener noreferrer" href="https://www.cnblogs.com/tugenhua0707/p/9418526.html#_labe1_4" class="link_03735  link_3b154 inline-link_3b154">5. historyApiFallback</a></p>
<p class="my-4 leading-7"><a target="_blank" rel="noopener noreferrer" href="https://www.cnblogs.com/tugenhua0707/p/9418526.html#_labe1_5" class="link_03735  link_3b154 inline-link_3b154">6. hot</a></p>
<p class="my-4 leading-7"><a target="_blank" rel="noopener noreferrer" href="https://www.cnblogs.com/tugenhua0707/p/9418526.html#_labe1_6" class="link_03735  link_3b154 inline-link_3b154">7. inline</a></p>
<p class="my-4 leading-7"><a target="_blank" rel="noopener noreferrer" href="https://www.cnblogs.com/tugenhua0707/p/9418526.html#_labe1_7" class="link_03735  link_3b154 inline-link_3b154">8. open</a></p>
<p class="my-4 leading-7"><a target="_blank" rel="noopener noreferrer" href="https://www.cnblogs.com/tugenhua0707/p/9418526.html#_labe1_8" class="link_03735  link_3b154 inline-link_3b154">9. overlay</a></p>
<p class="my-4 leading-7"><a target="_blank" rel="noopener noreferrer" href="https://www.cnblogs.com/tugenhua0707/p/9418526.html#_labe1_9" class="link_03735  link_3b154 inline-link_3b154">10. stats(字符串)</a></p>
<p class="my-4 leading-7"><a target="_blank" rel="noopener noreferrer" href="https://www.cnblogs.com/tugenhua0707/p/9418526.html#_labe1_10" class="link_03735  link_3b154 inline-link_3b154">11. compress</a></p>
<p class="my-4 leading-7"><a target="_blank" rel="noopener noreferrer" href="https://www.cnblogs.com/tugenhua0707/p/9418526.html#_labe1_11" class="link_03735  link_3b154 inline-link_3b154">12. proxy 实现跨域</a></p>
</li>
</ul>
<p class="my-4 leading-7">摘要：webpack-dev-server是一个使用了express的Http服务器，它的作用主要是为了监听资源文件的改变，该http服务器和client使用了websocket通信协议，只要资源文件发生改变，webpack-dev-server就会实时的进行编译。</p>
<p class="my-4 leading-7">\1. contentBase</p>
<p class="my-4 leading-7">该配置项指定了服务器资源的根目录，如果不配置contentBase的话，那么contentBase默认是当前执行的目录,一般是项目的根目录。
可能如上解析还不够清晰，没有关系，我们下面还是先看下我整个项目的目录结构，然后进行相关的配置，使用contentBase配置项再来理解下：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>### 目录结构如下：
demo1                                       # 工程名
|   |--- dist                               # dist是打包后生成的目录文件             
|   |--- node_modules                       # 所有的依赖包
|   |--- js                                 # 存放所有js文件
|   | |-- demo1.js  
|   | |-- main.js                           # js入口文件
|   |
|   |--- webpack.config.js                  # webpack配置文件
|   |--- index.html                         # html文件
|   |--- styles                             # 存放所有的css样式文件                              
|   |--- .gitignore  
|   |--- README.md
|   |--- package.json
</code></div></div>
<p class="my-4 leading-7">index.html 代码如下：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;Title&lt;/title&gt;
  &lt;link href=&quot;dist/main.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
  &lt;script src=&quot;dist/bundle.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></div></div>
<p class="my-4 leading-7">main.js 代码如下：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>require(&#x27;../styles/main.css&#x27;);

import demo1 from &#x27;./demo1.js&#x27;;
</code></div></div>
<p class="my-4 leading-7">demo1.js 代码如下：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>console.log(111);
</code></div></div>
<p class="my-4 leading-7">webpack配置代码如下：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>const path = require(&#x27;path&#x27;);
// 提取css的插件
const ExtractTextPlugin = require(&#x27;extract-text-webpack-plugin&#x27;);
module.exports = {
  entry: &#x27;./js/main.js&#x27;,
  output: {
    filename: &#x27;bundle.js&#x27;,
    // 将输出的文件都放在dist目录下
    path: path.resolve(__dirname, &#x27;dist&#x27;),
    publicPath: &#x27;/dist&#x27;
  },
  mode: &#x27;development&#x27;,
  module: {
    rules: [
      {
        // 使用正则去匹配要用该loader转换的css文件
        test: /\.css$/,
        loaders: ExtractTextPlugin.extract({
          // 转换 .css文件需要使用的Loader
          use: [&#x27;css-loader&#x27;]
        })
      },
      {
        test: /\.(png|jpg)$/,
        loader: &#x27;url-loader&#x27;,
        options: {
          limit: 10000,
          name: &#x27;[name].[ext]&#x27;
        }
      }
    ]
  },
  resolve: {
    // modules: [&#x27;plugin&#x27;, &#x27;js&#x27;]
  },
  plugins: [
    new ExtractTextPlugin({
      // 从js文件中提取出来的 .css文件的名称
      filename: `main.css`
    })
  ]
};
</code></div></div>
<p class="my-4 leading-7">package.json 配置代码如下：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>&quot;scripts&quot;: {
  &quot;dev&quot;: &quot;webpack-dev-server --progress --colors --devtool source-map --hot --inline&quot;,
  &quot;build&quot;: &quot;webpack --progress --colors&quot;
}
</code></div></div>
<p class="my-4 leading-7">运行 npm run dev后，一切正常成功后，在浏览器下 运行 <a target="_blank" rel="noopener noreferrer" href="http://localhost:8080/" class="link_03735  link_3b154 inline-link_3b154">http://localhost:8080/</a> 即可在控制台看到 打印出 111 了。</p>
<p class="my-4 leading-7">如上是没有使用devServer配置的情况下。 下面我们来看下使用 devServer配置.</p>
<p class="my-4 leading-7">在webpack配置加上如下配置，即配置项指定了服务器资源的根目录。比如我们打包后的文件放入 dist目录下。</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>module.exports = {
  devServer: {
    contentBase: path.join(__dirname, &quot;dist&quot;)
  },
}
</code></div></div>
<p class="my-4 leading-7">如上配置完成后，我们再运行 npm run dev, 再在地址栏中 运行 <a target="_blank" rel="noopener noreferrer" href="http://localhost:8080/" class="link_03735  link_3b154 inline-link_3b154">http://localhost:8080/</a> 后看到如下信息：</p>
<p class="my-4 leading-7"><img src="https://images2018.cnblogs.com/blog/561794/201808/561794-20180804140528111-70636394.png" alt="img"/></p>
<p class="my-4 leading-7">也就是说 配置了 contentBase后，服务器就指向了资源的根目录，而不再指向项目的根目录。因此再访问 <a target="_blank" rel="noopener noreferrer" href="http://localhost:8080/index.html" class="link_03735  link_3b154 inline-link_3b154">http://localhost:8080/index.html</a> 是访问不到的。但是访问 <a target="_blank" rel="noopener noreferrer" href="http://localhost:8080/bundle.js" class="link_03735  link_3b154 inline-link_3b154">http://localhost:8080/bundle.js</a> 该js文件是可以访问的到的。</p>
<p class="my-4 leading-7">\2. port</p>
<p class="my-4 leading-7">该配置属性指定了开启服务器的端口号，比如如下配置：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>module.exports = {
  devServer: {
    contentBase: path.join(__dirname, &quot;dist&quot;),
    port: 8081
  },
}
</code></div></div>
<p class="my-4 leading-7">配置完成后，再运行打包命令 npm run dev 后，可以看到如下图所示：</p>
<p class="my-4 leading-7"><img src="https://images2018.cnblogs.com/blog/561794/201808/561794-20180804140623918-541733780.png" alt="img"/></p>
<p class="my-4 leading-7">现在我们可以通过 如下地址 <a target="_blank" rel="noopener noreferrer" href="http://localhost:8081/" class="link_03735  link_3b154 inline-link_3b154">http://localhost:8081/</a> 也可以访问了，也就是说 通过port配置，端口号从默认的8080改成8081了。</p>
<p class="my-4 leading-7">\3. host</p>
<p class="my-4 leading-7">该配置项用于配置 DevServer的服务器监听地址。比如想让局域网的其他设备访问自己的本地服务，则可以在启动DevServer时带上 --host 0.0.0.0.
host的默认值是 127.0.0.1, 下面我们也简单的配置下 host 属性。</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>module.exports = {
  devServer: {
    contentBase: path.join(__dirname, &quot;dist&quot;),
    port: 8081,
    host: &#x27;0.0.0.0&#x27;
  }
}
</code></div></div>
<p class="my-4 leading-7">配置完成后，再运行打包命令 npm run dev 后，可以看到如下图所示：</p>
<p class="my-4 leading-7"><img src="https://images2018.cnblogs.com/blog/561794/201808/561794-20180804140722245-1105568247.png" alt="img"/></p>
<p class="my-4 leading-7">我们访问 <a target="_blank" rel="noopener noreferrer" href="http://0.0.0.0:8081/" class="link_03735  link_3b154 inline-link_3b154">http://0.0.0.0:8081/</a> 可以访问的到了，其他局域网的同学应该也能访问的到吧。</p>
<p class="my-4 leading-7">\4. headers</p>
<p class="my-4 leading-7">该配置项可以在HTTP响应中注入一些HTTP响应头。 比如如下：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>module.exports = {
  devServer: {
    contentBase: path.join(__dirname, &quot;dist&quot;),
    port: 8081,
    host: &#x27;0.0.0.0&#x27;,
    headers: {
      &#x27;X-foo&#x27;: &#x27;112233&#x27;
    }
  }
}
</code></div></div>
<p class="my-4 leading-7">如上配置完成后，打包下，刷新下浏览器，可以看到请求头加了上面的信息，如下所示：</p>
<p class="my-4 leading-7"><img src="https://images2018.cnblogs.com/blog/561794/201808/561794-20180804140809199-1325776165.png" alt="img"/></p>
<p class="my-4 leading-7">\5. historyApiFallback</p>
<p class="my-4 leading-7">该配置项属性是用来应对返回404页面时定向跳转到特定页面的。一般是应用在 HTML5中History API 的单页应用，比如在访问路由时候，访问不到该路由的时候，会跳转到index.html页面。
我们现在在dist目录下 新建一个index.html, 代码如下：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id=&quot;app&quot;&gt;欢迎你们来访问我&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></div></div>
<p class="my-4 leading-7">为了使配置项生效，我们只需要设置该 属性值为true即可； 如下配置：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>module.exports = {
  devServer: {
    contentBase: path.join(__dirname, &quot;dist&quot;),
    port: 8081,
    host: &#x27;0.0.0.0&#x27;,
    headers: {
      &#x27;X-foo&#x27;: &#x27;112233&#x27;
    },
    historyApiFallback: true
  },
}
</code></div></div>
<p class="my-4 leading-7">现在我们来访问 <a target="_blank" rel="noopener noreferrer" href="http://0.0.0.0:8081/home" class="link_03735  link_3b154 inline-link_3b154">http://0.0.0.0:8081/home</a> 这个不存在的路由时，会发生什么？如下所示：</p>
<p class="my-4 leading-7"><img src="https://images2018.cnblogs.com/blog/561794/201808/561794-20180804140920426-1335868478.png" alt="img"/></p>
<p class="my-4 leading-7">如上可以看到，当不存在该路由的时候，通过该配置项，设置属性值为true的时候，会自动跳转到 index.html下。</p>
<p class="my-4 leading-7">当然如上只是简单的配置下，当然我们也可以手动通过 正则来匹配路由，比如访问 /user 跳转到 user.html，访问 /home 跳转到 home.html, 如下配置：</p>
<p class="my-4 leading-7">当然我们需要在 dist 目录下 新建 home.html 和 user.html 了，如下基本配置：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>module.exports = {
  devServer: {
    contentBase: path.join(__dirname, &quot;dist&quot;),
    port: 8081,
    host: &#x27;0.0.0.0&#x27;,
    headers: {
      &#x27;X-foo&#x27;: &#x27;112233&#x27;
    },
    historyApiFallback: {
      // 使用正则来匹配路由
      rewrites: [
        { from: /^\/user/, to: &#x27;/user.html&#x27; },
        { from: /^\/home/, to: &#x27;/home.html&#x27; }
      ]
    }
  },
}
</code></div></div>
<p class="my-4 leading-7">重新运行打包下， 继续访问 <a target="_blank" rel="noopener noreferrer" href="http://0.0.0.0:8081/home" class="link_03735  link_3b154 inline-link_3b154">http://0.0.0.0:8081/home</a> 和 <a target="_blank" rel="noopener noreferrer" href="http://0.0.0.0:8081/user" class="link_03735  link_3b154 inline-link_3b154">http://0.0.0.0:8081/user</a> 即可看到能访问得到对应的页面了。</p>
<p class="my-4 leading-7">\6. hot</p>
<p class="my-4 leading-7">该配置项是指模块替换换功能，DevServer 默认行为是在发现源代码被更新后通过自动刷新整个页面来做到实时预览的，
但是开启模块热替换功能后，它是通过在不刷新整个页面的情况下通过使用新模块替换旧模块来做到实时预览的。</p>
<p class="my-4 leading-7">我们可以在 devServer中 配置 hot: true 即可：如下配置代码：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>module.exports = {
  devServer: {
    contentBase: path.join(__dirname, &quot;dist&quot;),
    port: 8081,
    host: &#x27;0.0.0.0&#x27;,
    headers: {
      &#x27;X-foo&#x27;: &#x27;112233&#x27;
    },
    historyApiFallback: {
      // 使用正则来匹配路由
      rewrites: [
        { from: /^\/user/, to: &#x27;/user.html&#x27; },
        { from: /^\/home/, to: &#x27;/home.html&#x27; }
      ]
    },
    hot: true
  }
}
</code></div></div>
<p class="my-4 leading-7">当然我们也可以在scripts命令行中配置，比如我项目中在package.json中的scripts配置如下：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>&quot;scripts&quot;: {
  &quot;dev&quot;: &quot;webpack-dev-server --progress --colors --devtool source-map --hot --inline&quot;,
  &quot;build&quot;: &quot;webpack --progress --colors&quot;
}
</code></div></div>
<p class="my-4 leading-7">\7. inline</p>
<p class="my-4 leading-7">webpack-dev-server 有两种模式可以实现自动刷新和模块热替换机制。
<strong class="font-semibold">1. iframe</strong>
页面是被嵌入到一个iframe页面，并且在模块变化的时候重载页面。</p>
<p class="my-4 leading-7">可能如上解释，我们还不能完全能理解到底是什么意思，没有关系，我们继续来看下配置和实践效果。</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>module.exports = {
  devServer: {
    port: 8081,
    host: &#x27;0.0.0.0&#x27;,
    headers: {
      &#x27;X-foo&#x27;: &#x27;112233&#x27;
    },
    inline: false
  },
}
</code></div></div>
<p class="my-4 leading-7">如上代码配置 inline: false 就是使用iframe模式来重载页面了。我们的目录结构还是上面的那种结构，然后我们只需要在webpack中所有
配置如下：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>const path = require(&#x27;path&#x27;);
// 提取css的插件
const ExtractTextPlugin = require(&#x27;extract-text-webpack-plugin&#x27;);
module.exports = {
  entry: &#x27;./js/main.js&#x27;,
  output: {
    filename: &#x27;bundle.js&#x27;,
    // 将输出的文件都放在dist目录下
    path: path.resolve(__dirname, &#x27;dist&#x27;),
    publicPath: &#x27;/dist&#x27;
  },
  mode: &#x27;development&#x27;,
  module: {
    rules: [
      {
        // 使用正则去匹配要用该loader转换的css文件
        test: /\.css$/,
        loaders: ExtractTextPlugin.extract({
          // 转换 .css文件需要使用的Loader
          use: [&#x27;css-loader&#x27;]
        })
      },
      {
        test: /\.(png|jpg)$/,
        loader: &#x27;url-loader&#x27;,
        options: {
          limit: 10000,
          name: &#x27;[name].[ext]&#x27;
        }
      }
    ]
  },
  resolve: {
    // modules: [&#x27;plugin&#x27;, &#x27;js&#x27;]
  },
  devServer: {
    port: 8081,
    host: &#x27;0.0.0.0&#x27;,
    headers: {
      &#x27;X-foo&#x27;: &#x27;112233&#x27;
    },
    inline: false
  },
  plugins: [
    new ExtractTextPlugin({
      // 从js文件中提取出来的 .css文件的名称
      filename: `main.css`
    })
  ]
};
</code></div></div>
<p class="my-4 leading-7">然后当我们在命令行中，输入 webpack-dev-server 后 回车，可以看到如下图所示：</p>
<p class="my-4 leading-7"><img src="https://images2018.cnblogs.com/blog/561794/201808/561794-20180804141158245-2037841274.png" alt="img"/></p>
<p class="my-4 leading-7">接着我们在浏览器下 输入 <a target="_blank" rel="noopener noreferrer" href="http://0.0.0.0:8081/webpack-dev-server/" class="link_03735  link_3b154 inline-link_3b154">http://0.0.0.0:8081/webpack-dev-server/</a> 地址后 回车，即可看到页面，我们查看源代码的时候，会看到嵌入了一个iframe页面，如下图所示：
<img src="https://images2018.cnblogs.com/blog/561794/201808/561794-20180804141231207-401833272.png" alt="img"/></p>
<p class="my-4 leading-7">当我们重新修改main.js 或 它的依赖文件 demo1.js 的时候，保存后，它也会自动重新加载页面，这就是使用 iframe 模式来配置加载页面的。</p>
<p class="my-4 leading-7"><strong class="font-semibold">iframe 模式的特点有：</strong>
\1. 在网页中嵌入了一个iframe，将我们自己的应用代码注入到 这个 iframe中去了。
\2. 在页面头部会有一个 App ready. 这个提示，用于显示构建过程的状态信息。
\3. 加载了 live.bundle.js文件，还同时包含了 socket.io的client代码，进行了 websocket通讯，从而完成了自动编译打包，页面自动刷新功能。</p>
<p class="my-4 leading-7">我们看下请求的所有文件有如下：</p>
<p class="my-4 leading-7"><img src="https://images2018.cnblogs.com/blog/561794/201808/561794-20180804141316145-533057885.png" alt="img"/></p>
<p class="my-4 leading-7"><strong class="font-semibold">2. inline 模式</strong></p>
<p class="my-4 leading-7">开启模式，只需要把上面的配置代码变为 inline: true即可，它在构建变化后的代码会通过代理客户端来控制网页刷新。
如上配置后，我们运行 webpack-dev-server 命令后，如下所示：</p>
<p class="my-4 leading-7"><img src="https://images2018.cnblogs.com/blog/561794/201808/561794-20180804141346390-1372379506.png" alt="img"/></p>
<p class="my-4 leading-7">接着我们在地址栏中 <a target="_blank" rel="noopener noreferrer" href="http://0.0.0.0:8081/" class="link_03735  link_3b154 inline-link_3b154">http://0.0.0.0:8081/</a> 运行下 就可以访问到 项目中的根目录 index.html了，当我们修改入口文件的代码保存也一样
能实时刷新，其实效果是一样的。</p>
<p class="my-4 leading-7"><strong class="font-semibold">inline模式的特点有：</strong>
\1. 构建的消息在控制台中直接显示出来。
\2. socket.io的client代码被打包进bundle.js当中，这样就能和websocket通讯，从而完成自动编译工作，页面就能实现自动刷新功能。
\3. 以后的每一个入口文件都会插入上面的socket的一段代码，这样会使的打包后的bundle.js文件变得臃肿。</p>
<p class="my-4 leading-7">\8. open</p>
<p class="my-4 leading-7">该属性用于DevServer启动且第一次构建完成时，自动使用我们的系统默认浏览器去打开网页。</p>
<p class="my-4 leading-7">如下配置：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>module.exports = {
  devServer: {
    // contentBase: path.join(__dirname, &quot;dist&quot;),
    port: 8081,
    host: &#x27;0.0.0.0&#x27;,
    headers: {
      &#x27;X-foo&#x27;: &#x27;112233&#x27;
    },
    // hot: true,
    inline: true,
    open: true
  }
}
</code></div></div>
<p class="my-4 leading-7">设置 open: true 即可，当我们运行完成 npm run dev 打包的时候，会自动打开默认的浏览器来查看网页。</p>
<p class="my-4 leading-7">\9. overlay</p>
<p class="my-4 leading-7">该属性是用来在编译出错的时候，在浏览器页面上显示错误。该属性值默认为false，需要的话，设置该参数为true。
为了演示下，我们来在main.js 代码内使用ES6的语法来编写代码，ES6是使用babel-loader 这样的来转化的，但是目前我们的项目先不安装该loader，应该会报错的。比如在main.js 代码加如下一句代码：
<strong class="font-semibold">const a;</strong></p>
<p class="my-4 leading-7">配置 overlay: true即可：如下配置：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>module.exports = {
  devServer: {
    // contentBase: path.join(__dirname, &quot;dist&quot;),
    port: 8081,
    host: &#x27;0.0.0.0&#x27;,
    headers: {
      &#x27;X-foo&#x27;: &#x27;112233&#x27;
    },
    // hot: true,
    inline: true,
    open: true,
    overlay: true
  }
}
</code></div></div>
<p class="my-4 leading-7">运行 npm run dev 后，自动打开网页，显示如下所示：</p>
<p class="my-4 leading-7"><img src="https://images2018.cnblogs.com/blog/561794/201808/561794-20180804141533353-1837443960.png" alt="img"/></p>
<p class="my-4 leading-7">\10. stats(字符串)</p>
<p class="my-4 leading-7">该属性配置是用来在编译的时候再命令行中输出的内容，我们没有设置 stats的时候，输出是如下的样子：如下所示：</p>
<p class="my-4 leading-7"><img src="https://images2018.cnblogs.com/blog/561794/201808/561794-20180804141552438-1613728659.png" alt="img"/></p>
<p class="my-4 leading-7">该属性值可以有如下值：</p>
<p class="my-4 leading-7">stats: &#x27;errors-only&#x27; 表示只打印错误，我们添加下这个配置到devServer中；如下代码配置：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>module.exports = {
  devServer: {
    // contentBase: path.join(__dirname, &quot;dist&quot;),
    port: 8081,
    host: &#x27;0.0.0.0&#x27;,
    headers: {
      &#x27;X-foo&#x27;: &#x27;112233&#x27;
    },
    // hot: true,
    inline: true,
    open: true,
    overlay: true,
    stats: &#x27;errors-only&#x27;
  }
}
</code></div></div>
<p class="my-4 leading-7">现在我们继续 运行 npm run dev 后，会看到命令行中显示如下：</p>
<p class="my-4 leading-7"><img src="https://images2018.cnblogs.com/blog/561794/201808/561794-20180804141627922-1964528088.png" alt="img"/></p>
<p class="my-4 leading-7">该配置的含义是 只有错误的才会被打印，没有错误就不打印，因此多余的信息就不会显示出来了。</p>
<p class="my-4 leading-7">该属性值还有 &#x27;minimal&#x27;, &#x27;normal&#x27;, &#x27;verbose&#x27; 等。</p>
<p class="my-4 leading-7">\11. compress</p>
<p class="my-4 leading-7">该属性是一个布尔型的值，默认为false，当他为true的时候，它会对所有服务器资源采用gzip进行压缩。</p>
<p class="my-4 leading-7">\12. proxy 实现跨域</p>
<p class="my-4 leading-7">有时候我们使用webpack在本地启动服务器的时候，由于我们使用的访问的域名是 <a target="_blank" rel="noopener noreferrer" href="http://localhost:8081" class="link_03735  link_3b154 inline-link_3b154">http://localhost:8081</a> 这样的，但是我们服务端的接口是其他的，</p>
<p class="my-4 leading-7">那么就存在域名或端口号跨域的情况下，但是很幸运的是 devServer有一个叫proxy配置项，可以通过该配置来解决跨域的问题，那是因为 dev-server 使用了 http-proxy-middleware 包<a target="_blank" rel="noopener noreferrer" href="https://github.com/chimurai/http-proxy-middleware#options" class="link_03735  link_3b154 inline-link_3b154">(了解该包的更多用法 )</a>。</p>
<p class="my-4 leading-7">假如现在我们本地访问的域名是 <a target="_blank" rel="noopener noreferrer" href="http://localhost:8081" class="link_03735  link_3b154 inline-link_3b154">http://localhost:8081</a>, 但是我现在调用的是百度页面中的一个接口，该接口地址是：<a target="_blank" rel="noopener noreferrer" href="http://news.baidu.com/widget?ajax=json&amp;id=ad%E3%80%82%E7%8E%B0%E5%9C%A8%E6%88%91%E4%BB%AC%E5%8F%AA%E9%9C%80%E8%A6%81%E5%9C%A8devServer%E4%B8%AD%E7%9A%84proxy%E7%9A%84%E9%85%8D%E7%BD%AE%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BA%86%EF%BC%9A" class="link_03735  link_3b154 inline-link_3b154">http://news.baidu.com/widget?ajax=json&amp;id=ad。现在我们只需要在devServer中的proxy的配置就可以了：</a>
如下配置：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>proxy: {
  &#x27;/api&#x27;: {
    target: &#x27;http://news.baidu.com&#x27;, // 目标接口的域名
    // secure: true,  // https 的时候 使用该参数
    changeOrigin: true,  // 是否跨域
    pathRewrite: {
      &#x27;^/api&#x27; : &#x27;&#x27;  // 重写路径
    }
  }
}
</code></div></div>
<p class="my-4 leading-7">因此所有的配置如下：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>module.exports = {
  devServer: {
    // contentBase: path.join(__dirname, &quot;dist&quot;),
    headers: {
      &#x27;X-foo&#x27;: &#x27;112233&#x27;
    },
    // hot: true,
    port: &#x27;8081&#x27;,
    inline: true,
    open: true,
    overlay: true,
    stats: &#x27;errors-only&#x27;,
    proxy: {
      &#x27;/api&#x27;: {
        target: &#x27;http://news.baidu.com&#x27;, // 目标接口的域名
        // secure: true,  // https 的时候 使用该参数
        changeOrigin: true,  // 是否跨域
        pathRewrite: {
          &#x27;^/api&#x27; : &#x27;&#x27;  // 重写路径
        }
      }
    }
  }
}
</code></div></div>
<p class="my-4 leading-7">然后我们在main.js里面编写如下代码：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>import axios from &#x27;axios&#x27;;

axios.get(&#x27;/api/widget?ajax=json&amp;id=ad&#x27;).then(res =&gt; {
  console.log(res);
});
</code></div></div>
<p class="my-4 leading-7">在这里请求我使用 axios 插件，其实和jquery是一个意思的。为了方便就用了这个。</p>
<p class="my-4 leading-7">下面我们来理解下上面配置的含义：</p>
<p class="my-4 leading-7">\1. 首先是百度的接口地址是这样的：<a target="_blank" rel="noopener noreferrer" href="http://news.baidu.com/widget?ajax=json&amp;id=ad" class="link_03735  link_3b154 inline-link_3b154">http://news.baidu.com/widget?ajax=json&amp;id=ad</a>;
\2. proxy 的配置项 &#x27;/api&#x27; 和 target: &#x27;<a target="_blank" rel="noopener noreferrer" href="http://news.baidu.com" class="link_03735  link_3b154 inline-link_3b154">http://news.baidu.com</a>&#x27; 的含义是，匹配请求中 /api 含有这样的域名 重定向 到 &#x27;<a target="_blank" rel="noopener noreferrer" href="http://news.baidu.com&#x27;%E6%9D%A5%E3%80%82%E5%9B%A0%E6%AD%A4%E6%88%91%E5%9C%A8%E6%8E%A5%E5%8F%A3%E5%9C%B0%E5%9D%80%E4%B8%8A" class="link_03735  link_3b154 inline-link_3b154">http://news.baidu.com&#x27;来。因此我在接口地址上</a> 添加了前缀 &#x27;/api&#x27;, 如： axios.get(&#x27;/api/widget?ajax=json&amp;id=ad&#x27;); 因此会自动补充前缀，也就是说，url: &#x27;/api/widget?ajax=json&amp;id=ad&#x27; 等价
于 url: &#x27;<a target="_blank" rel="noopener noreferrer" href="http://news.baidu.com/api/widget?ajax=json&amp;id=ad" class="link_03735  link_3b154 inline-link_3b154">http://news.baidu.com/api/widget?ajax=json&amp;id=ad</a>&#x27;.
\3. changeOrigin: true/false 还参数值是一个布尔值，含义是 是否需要跨域。
\4. secure: true, 如果是https请求就需要改参数配置，需要ssl证书吧。
\5. pathRewrite: {&#x27;^/api&#x27; : &#x27;&#x27;}的含义是重写url地址，把url的地址里面含有 &#x27;/api&#x27; 这样的 替换成 &#x27;&#x27;,
因此接口地址就变成了 <a target="_blank" rel="noopener noreferrer" href="http://news.baidu.com/widget?ajax=json&amp;id=ad%EF%BC%9B" class="link_03735  link_3b154 inline-link_3b154">http://news.baidu.com/widget?ajax=json&amp;id=ad；</a> 因此就可以请求得到了，最后就返回
接口数据了。</p>
<p class="my-4 leading-7">如下图所示：</p>
<p class="my-4 leading-7"><img src="https://images2018.cnblogs.com/blog/561794/201808/561794-20180804141932073-157113643.png" alt="img"/></p><!--/$--></div><div class="rspress-doc-footer"><footer class="mt-8"><div class="xs:flex pb-5 px-2 justify-end items-center"></div><div class="flex flex-col"></div><div class="flex flex-col sm:flex-row sm:justify-around gap-4 pt-6"><div class="prev_e7091 flex flex-col"></div><div class="next_e7091 flex flex-col"></div></div></footer></div></div></div><div class="aside-container_edeb4"><div><div class="flex flex-col"><div class="hidden"><div id="aside-container" class="relative text-sm font-medium"><div class="leading-7 block text-sm font-semibold pl-3">ON THIS PAGE</div><nav class="mt-1"><ul class="relative"></ul></nav></div></div></div></div></div></div></div></section></div></div>
  <div id="search-container"></div>
</body>

</html>
