
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Michael An">
      
      
        <link rel="canonical" href="https://michael18811380328.github.io/note/JS-%E7%AC%94%E8%AE%B0/">
      
      
        <link rel="prev" href="../H5%2BCSS-%E7%AC%94%E8%AE%B0/">
      
      
        <link rel="next" href="../Java-%E7%AC%94%E8%AE%B0/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>JS-笔记 - Michale An Blog</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#js" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Michale An Blog" class="md-header__button md-logo" aria-label="Michale An Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Michale An Blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              JS-笔记
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/Michael18811380328/Michael18811380328.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Michael18811380328/Michael18811380328.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Michale An Blog" class="md-nav__button md-logo" aria-label="Michale An Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Michale An Blog
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Michael18811380328/Michael18811380328.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Michael18811380328/Michael18811380328.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    AI
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            AI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AI/01-Monica/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01-Monica
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AI/02%20chatGPT%E2%80%94%E2%80%94AI%20%E5%8F%91%E5%B1%95%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02 chatGPT——AI 发展存在的问题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AI/%E5%85%A8%E9%9D%A2%E6%B7%B1%E5%85%A5%E4%BA%86%E8%A7%A3%E5%A4%A7%E6%A8%A1%E5%9E%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    全面深入了解大模型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    changelog
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    class-note
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            class-note
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../class-note/AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AI 大模型-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../class-note/JS%20%E7%BA%A2%E5%AE%9D%E4%B9%A6-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JS 红宝书-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../class-note/MYSQL-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MYSQL-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../class-note/UI%E8%AE%BE%E8%AE%A1-%E7%AC%94%E8%AE%B01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UI设计-笔记1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../class-note/UI%E8%AE%BE%E8%AE%A1-%E7%AC%94%E8%AE%B02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UI设计-笔记2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../class-note/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    机器学习入门-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../class-note/%E7%A8%80%E5%9C%9F%E5%BC%80%E5%8F%91%E8%80%85%E5%A4%A7%E4%BC%9A-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    稀土开发者大会-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../class-note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    计算机组成原理-笔记
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    economy
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            economy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/2019-%E6%97%B6%E4%BA%8B%E7%BB%8F%E6%B5%8E%E6%80%9D%E8%80%83/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2019-时事经济思考
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/2021-%E6%97%B6%E4%BA%8B%E7%BB%8F%E6%B5%8E%E6%80%9D%E8%80%83/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2021-时事经济思考
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/2022-%E6%97%B6%E4%BA%8B%E7%BB%8F%E6%B5%8E%E6%80%9D%E8%80%83/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2022-时事经济思考
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/2023-08%20%E5%AE%8F%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%88%86%E6%9E%90/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2023-08 宏观经济分析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/2023-%E6%97%B6%E4%BA%8B%E7%BB%8F%E6%B5%8E%E6%80%9D%E8%80%83/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2023-时事经济思考
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/2023%E4%BC%9A%E8%AE%AE%E8%AE%B0%E5%BD%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2023会议记录
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/2024-06%E7%83%AD%E7%82%B9%E5%88%86%E6%9E%90/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024-06热点分析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/2024-%E9%87%91%E8%9E%8D%E7%BB%8F%E6%B5%8E%E5%88%86%E6%9E%90/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024-金融经济分析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/My%20Top%2010%20Money%20Rules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    My Top 10 Money Rules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/TIPS%20TO%20BECOME%20A%20MILLIONAIRE%20IF%20YOU%20DESERVE%20TO%20BE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TIPS TO BECOME A MILLIONAIRE IF YOU DESERVE TO BE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/The%20art%20of%20Execution%20%E6%89%A7%E8%A1%8C%E5%8A%9B%E7%9A%84%E8%89%BA%E6%9C%AF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The art of Execution 执行力的艺术
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/Who%20Wants%20to%20Be%20a%20Millionaire/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Who Wants to Be a Millionaire
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E4%B8%AD%E5%9B%BD%E7%9A%84%E6%88%BF%E4%BB%B7%E4%BC%9A%E6%80%8E%E4%B9%88%E6%94%B6%E5%9C%BA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    中国的房价会怎么收场
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E4%B8%AD%E5%9B%BD%E7%BB%8F%E6%B5%8E%E7%9A%84%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    中国经济的数字逻辑
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E4%B8%AD%E5%9B%BD%E7%BB%8F%E6%B5%8E%E7%9A%84%E8%BD%AC%E5%8F%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    中国经济的转变
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E4%BA%BA%E4%BA%BA%E9%83%BD%E8%83%BD%E6%87%82%E7%9A%84%E5%AE%8F%E8%A7%82%E7%BB%8F%E6%B5%8E/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    人人都能懂的宏观经济
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E5%85%B3%E4%BA%8E%E6%88%BF%E5%9C%B0%E4%BA%A7%E7%9A%84%E4%B8%80%E4%BA%9B%E9%9A%8F%E6%84%8F%E7%9A%84%E7%8B%82%E6%83%B3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关于房地产的一些随意的狂想
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E5%9B%9B%E4%B8%AA%E8%B4%A2%E5%AF%8C%E6%B0%B4%E6%B1%A0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    四个财富水池
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E5%9F%BA%E9%87%91%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E5%AE%9E%E8%B7%B5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基金从基础到实践
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E5%9F%BA%E9%87%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基金基础知识-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E5%9F%BA%E9%87%91%E6%8A%95%E8%B5%84%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基金投资法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E5%9F%BA%E9%87%91%E6%B3%95%E8%A7%84-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基金法规-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E5%AE%8F%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%AD%A6-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    宏观经济学-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E5%B0%8F%E7%8B%97%E9%92%B1%E9%92%B1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    小狗钱钱
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E5%B0%8F%E7%8B%97%E9%92%B1%E9%92%B12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    小狗钱钱2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E5%B8%B8%E7%94%A8%E5%9F%BA%E9%87%91%E5%90%8D%E8%AF%8D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常用基金名词
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E5%BE%AE%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%AD%A6-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    微观经济学-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E7%BB%8F%E5%85%B8%E4%B9%A6%E7%B1%8D%E6%8E%A8%E8%8D%90/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    经典书籍推荐
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E7%BB%99%E5%B9%B4%E8%BD%BB%E4%BA%BA%E7%9A%84%E6%9E%81%E7%AE%80%E9%87%91%E8%9E%8D%E8%AF%BE%E7%A8%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    给年轻人的极简金融课程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E8%87%B4%E5%BD%93%E4%B8%8B%E5%A5%8B%E6%96%97%E7%9A%84%E9%9D%92%E5%B9%B4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    致当下奋斗的青年
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E8%B4%A2%E5%8A%A1%E8%87%AA%E7%94%B1%E4%B9%8B%E8%B7%AF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    财务自由之路
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../economy/%E9%99%8D%E5%87%86%E9%A2%84%E6%9C%9F%E4%B8%8B%E7%9A%84%E8%B4%A7%E5%B8%81%E4%BE%9B%E5%BA%94%E9%97%AE%E9%A2%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    降准预期下的货币供应问题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    index
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    new
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            new
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new/2021%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2021年度总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new/2022%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2022年度总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new/github%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    github项目介绍
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new/log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    log
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new/%E4%BA%BA%E7%94%9F%E6%80%9D%E8%80%83-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    人生思考-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new/%E7%AE%97%E6%B3%95%E6%84%9F%E6%82%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    算法感悟
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    note
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            note
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../AI-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AI-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Android-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Android-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../BOM-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BOM-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Go-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../H5%2BCSS-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    H5+CSS-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    JS-笔记
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    JS-笔记
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#0003" class="md-nav__link">
    <span class="md-ellipsis">
      0003 防抖和节流的区别（手写实现）
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0004-setmap" class="md-nav__link">
    <span class="md-ellipsis">
      0004 Set和map的区别方法
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0007-es6" class="md-nav__link">
    <span class="md-ellipsis">
      0007 es6的语法有什么新特点？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0008-settimeout-promise-async-await" class="md-nav__link">
    <span class="md-ellipsis">
      0008 SetTimeOut Promise async await 的区别
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0009-asyncawait" class="md-nav__link">
    <span class="md-ellipsis">
      0009 Async和await如何实现同步和异步？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0010-for" class="md-nav__link">
    <span class="md-ellipsis">
      0010 异步函数执行结果，任务队列或for循环
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0011" class="md-nav__link">
    <span class="md-ellipsis">
      0011 高维数组降维、去重、排序
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0012-js" class="md-nav__link">
    <span class="md-ellipsis">
      0012 JS 异步有几个方法
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0013-promise-then" class="md-nav__link">
    <span class="md-ellipsis">
      0013 Promise 构造函数是同步执行还是异步执行，那么 then 方法呢
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0014-new" class="md-nav__link">
    <span class="md-ellipsis">
      0014 如何实现一个 new 创建类
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0021" class="md-nav__link">
    <span class="md-ellipsis">
      0021 判断数组的三种方法；方法的区别
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0023" class="md-nav__link">
    <span class="md-ellipsis">
      0023 观察者模式和订阅发布者模式
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0027" class="md-nav__link">
    <span class="md-ellipsis">
      0027 声明变量的几个关键词和区别
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0030" class="md-nav__link">
    <span class="md-ellipsis">
      0030 两个数组合并成另一个数组
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0031-settimeout-var-let" class="md-nav__link">
    <span class="md-ellipsis">
      0031 setTimeout 中 var 和 let 区别
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0033-iife" class="md-nav__link">
    <span class="md-ellipsis">
      0033 闭包和 IIFE
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0033 闭包和 IIFE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 闭包的定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 闭包的创建
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 闭包的应用场景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 闭包的内存管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. 常见面试题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0035" class="md-nav__link">
    <span class="md-ellipsis">
      0035 浏览器的缓存读取原则
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0041" class="md-nav__link">
    <span class="md-ellipsis">
      0041 闭包的作用域，和函数中变量的提升
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0042-sleep" class="md-nav__link">
    <span class="md-ellipsis">
      0042 如何实现sleep函数？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0043-sort" class="md-nav__link">
    <span class="md-ellipsis">
      0043 使用sort函数直接对数组进行排序的结果
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0046-length" class="md-nav__link">
    <span class="md-ellipsis">
      0046 一个对象写入length和数组的方法能否变成数组？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0048-callapply" class="md-nav__link">
    <span class="md-ellipsis">
      0048 call和apply的区别是什么？性能怎么样
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0051-objectdefineproperty" class="md-nav__link">
    <span class="md-ellipsis">
      0051 Object.defineProperty 怎么使用？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0055" class="md-nav__link">
    <span class="md-ellipsis">
      0055 一个简单对象转换成数组去掉非法值
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0056" class="md-nav__link">
    <span class="md-ellipsis">
      0056 设计题设计一个对象具有很多的方法。可以进行链式调用
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0058" class="md-nav__link">
    <span class="md-ellipsis">
      0058 箭头函数和普通函数的区别是什么？构造函数又是什么
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0064-promisefinally" class="md-nav__link">
    <span class="md-ellipsis">
      0064 Promise.finally()如何实现
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0065" class="md-nav__link">
    <span class="md-ellipsis">
      0065 获取对象的属性点语法和中括号语法，哪个更好
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0069" class="md-nav__link">
    <span class="md-ellipsis">
      0069 如何把字符串的大小写转换
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0075-11" class="md-nav__link">
    <span class="md-ellipsis">
      0075 获取数组中第1个和第1万个项的时间
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0076" class="md-nav__link">
    <span class="md-ellipsis">
      0076 对象的属性转换
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0079-input" class="md-nav__link">
    <span class="md-ellipsis">
      0079 input 处理防抖和中文输入
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0080-promiseall" class="md-nav__link">
    <span class="md-ellipsis">
      0080 Promise.all 原理
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0084-add123-4" class="md-nav__link">
    <span class="md-ellipsis">
      0084 函数连续执行 add(1)(2)(3, 4)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0086" class="md-nav__link">
    <span class="md-ellipsis">
      0086 判断一个网址是否是正确的
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0089-promiserace" class="md-nav__link">
    <span class="md-ellipsis">
      0089 Promise.race() 如何实现
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0090" class="md-nav__link">
    <span class="md-ellipsis">
      0090 实现模糊查询并关键词高亮
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0092-dom" class="md-nav__link">
    <span class="md-ellipsis">
      0092 找出一个DOM节点所有父节点
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0095" class="md-nav__link">
    <span class="md-ellipsis">
      0095 实现一个深拷贝考虑对象的自引用
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0096" class="md-nav__link">
    <span class="md-ellipsis">
      0096 前端加密有哪些方法？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0098" class="md-nav__link">
    <span class="md-ellipsis">
      0098 函数传参过程中深复制和浅复制
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0100-consolelog" class="md-nav__link">
    <span class="md-ellipsis">
      0100 console.log 同步的还是异步的？怎么调试？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0105-applycall" class="md-nav__link">
    <span class="md-ellipsis">
      0105 Apply和call的区别
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0106-event-loop" class="md-nav__link">
    <span class="md-ellipsis">
      0106 事件流和event loop是什么
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0108-promise" class="md-nav__link">
    <span class="md-ellipsis">
      0108 自己如何实现promise？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0130-dom" class="md-nav__link">
    <span class="md-ellipsis">
      0130 DOM 性能优化
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0132-import" class="md-nav__link">
    <span class="md-ellipsis">
      0132 import 导入命令
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0144-js" class="md-nav__link">
    <span class="md-ellipsis">
      0144 JS上下文执行栈和闭包
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0146-10" class="md-nav__link">
    <span class="md-ellipsis">
      0146 数组常用的10个方法
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0147" class="md-nav__link">
    <span class="md-ellipsis">
      0147 事件绑定有哪些情况
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0148-iframecontentdocument-iframecontentwindow" class="md-nav__link">
    <span class="md-ellipsis">
      0148 iframe.contentDocument 和 iframe.contentWindow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0149-script" class="md-nav__link">
    <span class="md-ellipsis">
      0149 script 脚本阻塞下载问题
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0171-reduce2" class="md-nav__link">
    <span class="md-ellipsis">
      0171 数组的reduce是什么？第2个参数是什么意思？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0177" class="md-nav__link">
    <span class="md-ellipsis">
      0177 原生拖拽事件有哪些?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0180" class="md-nav__link">
    <span class="md-ellipsis">
      0180 阻止事件冒泡的两个方法
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0181-es6-prototype" class="md-nav__link">
    <span class="md-ellipsis">
      0181 ES6 之前使用 prototype 实现继承
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0185-promise" class="md-nav__link">
    <span class="md-ellipsis">
      0185 promise 的特性、优缺点，内部是如何实现的
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0196-eventbus" class="md-nav__link">
    <span class="md-ellipsis">
      0196 eventBus 实现原理
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0340" class="md-nav__link">
    <span class="md-ellipsis">
      0340 正则表达式的特殊符号区别
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0352-jsonp" class="md-nav__link">
    <span class="md-ellipsis">
      0352 jsonp 如何跨域
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0354-export" class="md-nav__link">
    <span class="md-ellipsis">
      0354 export 有多少情况
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0262" class="md-nav__link">
    <span class="md-ellipsis">
      0262 字符串的编码格式有哪些
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0262 字符串的编码格式有哪些">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      字符编码问题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0265-es6" class="md-nav__link">
    <span class="md-ellipsis">
      0265 es6 中扩展字符串，深拷贝还是浅拷贝
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0268-json" class="md-nav__link">
    <span class="md-ellipsis">
      0268 JSON 的格式和方法
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0269" class="md-nav__link">
    <span class="md-ellipsis">
      0269 搜索框中英文搜索
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0271-onchange" class="md-nav__link">
    <span class="md-ellipsis">
      0271 中文输入法 onChange 事件处理
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0307-js" class="md-nav__link">
    <span class="md-ellipsis">
      0307 JS 数据类型
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0327-bigint" class="md-nav__link">
    <span class="md-ellipsis">
      0327 BigInt 是什么？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0309-js-asyncdefer" class="md-nav__link">
    <span class="md-ellipsis">
      0309 js 加载时 async、defer 的区别
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0310" class="md-nav__link">
    <span class="md-ellipsis">
      0310 如何判断一个对象是不是空对象
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0311" class="md-nav__link">
    <span class="md-ellipsis">
      0311 怎么加事件监听
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0312" class="md-nav__link">
    <span class="md-ellipsis">
      0312 原型链和原型链的继承
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0313-api" class="md-nav__link">
    <span class="md-ellipsis">
      0313 数组常用 API
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0314" class="md-nav__link">
    <span class="md-ellipsis">
      0314 变量提升
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0321" class="md-nav__link">
    <span class="md-ellipsis">
      0321 快速的让一个数组乱序
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0382-urlsearchparams" class="md-nav__link">
    <span class="md-ellipsis">
      0382 URLSearchParams 是什么
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0386" class="md-nav__link">
    <span class="md-ellipsis">
      0386 如何判断一个对象或者数组是空
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0391-eventistrusted" class="md-nav__link">
    <span class="md-ellipsis">
      0391 Event.isTrusted 是什么
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0393-dbclick-ios" class="md-nav__link">
    <span class="md-ellipsis">
      0393 dbClick 不支持 IOS 设备怎么办
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0411-setselectionrange" class="md-nav__link">
    <span class="md-ellipsis">
      0411 setSelectionRange
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0420" class="md-nav__link">
    <span class="md-ellipsis">
      0420 判断对象的某个属性是否存在
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0429" class="md-nav__link">
    <span class="md-ellipsis">
      0429 正则表达式怎么使用
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0443-api" class="md-nav__link">
    <span class="md-ellipsis">
      0443 字符串正则表达式相关 API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0443 字符串正则表达式相关 API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#6-api" class="md-nav__link">
    <span class="md-ellipsis">
      字符串查找的 6 个 API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0444-requestanimationframe" class="md-nav__link">
    <span class="md-ellipsis">
      0444 动画性能 requestAnimationFrame
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0445" class="md-nav__link">
    <span class="md-ellipsis">
      0445 循环中异步函数
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0449-lodash" class="md-nav__link">
    <span class="md-ellipsis">
      0449 lodash 作用和使用场景
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0450-stringify" class="md-nav__link">
    <span class="md-ellipsis">
      0450 stringify 函数
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0455" class="md-nav__link">
    <span class="md-ellipsis">
      0455 转换欧洲数字格式设置
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0466-for-in-for-of" class="md-nav__link">
    <span class="md-ellipsis">
      0466 For-in 和 for-of
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0476-web-worker" class="md-nav__link">
    <span class="md-ellipsis">
      0476 web worker 多线程
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0476 web worker 多线程">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      原生语法实现
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comlink" class="md-nav__link">
    <span class="md-ellipsis">
      第三方库 comlink 实现
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#react-webpack" class="md-nav__link">
    <span class="md-ellipsis">
      集成到 react-webpack 开发环境
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0658" class="md-nav__link">
    <span class="md-ellipsis">
      0658 鼠标双击事件
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Java-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Java-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Python-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../VUE%20%E7%9B%B8%E5%85%B3%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VUE 相关第三方库-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nodejs-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nodejs-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../redux-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    redux-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E4%BA%A7%E5%93%81-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    产品-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    奇技淫巧-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%B7%A5%E7%A8%8B%E5%8C%96-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    工程化-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%95%B0%E6%8D%AE%E5%BA%93-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据库-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9C%8D%E5%8A%A1%E5%99%A8-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    服务器-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%A1%AC%E4%BB%B6-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    硬件-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第三方库-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%97%E6%B3%95-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    算法-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    计算机网络-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    软件工程-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%BF%90%E8%90%A5-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    运营-笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%AB%98%E9%A2%91%E5%8D%95%E8%AF%8D%E8%A1%A8-%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    高频单词表-笔记
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    other
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            other
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/40%E9%80%80%E4%BC%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    40退休
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/Create%20A%20Video%20Streaming%20App%20Features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create A Video Streaming App Features
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/Interview%20with%20Ryan%20Dahl%20Creator%20of%20Node.js/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interview with Ryan Dahl Creator of Node.js
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/Less%20is%20more/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Less is more
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/Poor-and-busy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Poor-and-busy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/Reflections%20on%20Pre-Tirement/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reflections on Pre-Tirement
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/Tips%20On%20Prioritizing%20Tech%20Debt%20In%20A%20Healthy%20Way/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tips On Prioritizing Tech Debt In A Healthy Way
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/b%E8%AE%A1%E5%88%92/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    b计划
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E4%B8%93%E4%B8%9A%E6%95%99%E8%82%B2%E7%9A%84%E5%85%B4%E8%B5%B7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    专业教育的兴起
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E4%B8%AA%E4%BA%BA%E9%80%89%E6%8B%A9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    个人选择
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E4%BA%BA%E7%94%9F%E7%9C%9F%E7%9B%B8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    人生真相
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E4%BB%8E%E6%A2%A6%E6%83%B3%E5%80%92%E9%80%BC%E8%AE%A1%E5%88%92/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    从梦想倒逼计划
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E4%BB%BB%E6%AD%A3%E9%9D%9E%E7%9A%84%E7%AE%A1%E7%90%86%E6%80%9D%E6%83%B3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    任正非的管理思想
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E4%BD%A0%E4%B8%BA%E4%BB%80%E4%B9%88%E5%8D%B8%E8%BD%BD%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95%E8%BD%AF%E4%BB%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    你为什么卸载推荐算法软件
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E4%BF%9D%E6%8C%81%E7%B2%BE%E5%8A%9B%E5%85%85%E6%B2%9B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    保持精力充沛
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E5%85%83%E5%AE%87%E5%AE%99-%E6%91%98%E5%BD%95%E4%B8%8E%E8%AF%BB%E5%90%8E%E6%84%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    元宇宙-摘录与读后感
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E5%88%9B%E4%B8%9A%E5%90%8E%E5%92%8C%E5%85%AC%E5%8F%B8%E4%B8%8A%E7%8F%AD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    创业后和公司上班
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E5%88%9B%E4%B8%9A%E8%80%85%E9%9C%80%E8%A6%81%E7%9F%A5%E9%81%93%E7%9A%8450%E5%8F%A5%E8%AF%9D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    创业者需要知道的50句话
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E5%88%B6%E5%AE%9A%E5%A5%BD%E7%9A%84%E8%AE%A1%E5%88%92%E6%80%BB%E6%98%AF%E5%9D%9A%E6%8C%81%E4%B8%8D%E4%B8%8B%E5%8E%BB%E6%80%8E%E4%B9%88%E5%8A%9E/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    制定好的计划总是坚持不下去怎么办
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E5%89%8D%E7%AB%AF%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E7%9A%84%E4%B8%8E%E5%90%8E%E7%AB%AF%E5%8D%8F%E4%BD%9C%E5%BC%80%E5%8F%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    前端如何高效的与后端协作开发
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E5%A4%A7%E5%AD%A6%E6%95%99%E8%82%B2%E5%92%8C%E7%BD%91%E7%BB%9C%E6%96%87%E5%87%AD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    大学教育和网络文凭
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E5%A6%82%E4%BD%95%E5%85%BB%E6%88%90%E8%87%AA%E5%BE%8B%E7%9A%84%E4%B9%A0%E6%83%AF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何养成自律的习惯
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E5%A6%82%E4%BD%95%E5%8F%98%E5%BE%97%E5%BC%BA%E5%A4%A7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何变得强大
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E5%A6%82%E4%BD%95%E6%8F%8F%E8%BF%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%B7%A5%E4%BD%9C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何描述自己的工作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E5%B7%A5%E4%B8%9A%E6%96%87%E6%98%8E%E5%AF%B9%E4%BA%8E%E7%A4%BE%E4%BC%9A%E7%9A%84%E5%86%B2%E5%87%BB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    工业文明对于社会的冲击
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E5%B8%B8%E7%94%A8%E7%BD%91%E7%AB%99%E5%92%8C%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常用网站和友情链接
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E5%88%B0%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    思维导图到深度学习
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E6%8A%80%E6%9C%AF%E5%92%8C%E7%A8%B3%E5%AE%9A%E7%9A%84%E5%B7%A5%E4%BD%9C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    技术和稳定的工作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E6%8E%98%E9%87%91%E6%8A%80%E6%9C%AF%E5%A4%A7%E4%BC%9A/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    掘金技术大会
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E6%8F%90%E5%8D%87%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    提升工作效率
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E6%94%B9%E5%96%84%E7%9D%A1%E7%9C%A0%E5%B0%8F%E6%8A%80%E5%B7%A7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    改善睡眠小技巧
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E6%B5%85%E8%B0%88%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    浅谈知识体系
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E7%86%B5%E5%A2%9E/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    熵增
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E7%A1%95%E5%A3%AB%E5%AD%A6%E4%BD%8D%E7%9A%84%E8%B4%AC%E5%80%BC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    硕士学位的贬值
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E7%A8%8B%E5%BA%8F%E5%91%98%E5%A6%82%E4%BD%95%E5%88%A9%E7%94%A8%E5%91%A8%E6%9C%AB%E6%8F%90%E9%AB%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    程序员如何利用周末提高
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E8%A9%B9%E5%AE%8F%E5%BF%97%E8%AF%BB%E4%B9%A6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    詹宏志读书
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E8%81%8C%E4%B8%9A%E5%BB%BA%E8%AE%AE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    软件工程师的职业建议
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E9%80%9A%E7%94%A8%E8%8B%B1%E8%AF%AD%E5%8D%95%E8%AF%8D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    通用英语单词
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E9%AA%A1%E5%AD%90%E5%92%8C%E4%BA%BA%E7%94%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    骡子和人生
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/%E9%AB%98%E6%95%88%E8%AF%BB%E6%BA%90%E7%A0%81/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    高效读源码
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#0003" class="md-nav__link">
    <span class="md-ellipsis">
      0003 防抖和节流的区别（手写实现）
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0004-setmap" class="md-nav__link">
    <span class="md-ellipsis">
      0004 Set和map的区别方法
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0007-es6" class="md-nav__link">
    <span class="md-ellipsis">
      0007 es6的语法有什么新特点？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0008-settimeout-promise-async-await" class="md-nav__link">
    <span class="md-ellipsis">
      0008 SetTimeOut Promise async await 的区别
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0009-asyncawait" class="md-nav__link">
    <span class="md-ellipsis">
      0009 Async和await如何实现同步和异步？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0010-for" class="md-nav__link">
    <span class="md-ellipsis">
      0010 异步函数执行结果，任务队列或for循环
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0011" class="md-nav__link">
    <span class="md-ellipsis">
      0011 高维数组降维、去重、排序
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0012-js" class="md-nav__link">
    <span class="md-ellipsis">
      0012 JS 异步有几个方法
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0013-promise-then" class="md-nav__link">
    <span class="md-ellipsis">
      0013 Promise 构造函数是同步执行还是异步执行，那么 then 方法呢
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0014-new" class="md-nav__link">
    <span class="md-ellipsis">
      0014 如何实现一个 new 创建类
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0021" class="md-nav__link">
    <span class="md-ellipsis">
      0021 判断数组的三种方法；方法的区别
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0023" class="md-nav__link">
    <span class="md-ellipsis">
      0023 观察者模式和订阅发布者模式
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0027" class="md-nav__link">
    <span class="md-ellipsis">
      0027 声明变量的几个关键词和区别
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0030" class="md-nav__link">
    <span class="md-ellipsis">
      0030 两个数组合并成另一个数组
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0031-settimeout-var-let" class="md-nav__link">
    <span class="md-ellipsis">
      0031 setTimeout 中 var 和 let 区别
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0033-iife" class="md-nav__link">
    <span class="md-ellipsis">
      0033 闭包和 IIFE
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0033 闭包和 IIFE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 闭包的定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 闭包的创建
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 闭包的应用场景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 闭包的内存管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. 常见面试题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0035" class="md-nav__link">
    <span class="md-ellipsis">
      0035 浏览器的缓存读取原则
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0041" class="md-nav__link">
    <span class="md-ellipsis">
      0041 闭包的作用域，和函数中变量的提升
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0042-sleep" class="md-nav__link">
    <span class="md-ellipsis">
      0042 如何实现sleep函数？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0043-sort" class="md-nav__link">
    <span class="md-ellipsis">
      0043 使用sort函数直接对数组进行排序的结果
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0046-length" class="md-nav__link">
    <span class="md-ellipsis">
      0046 一个对象写入length和数组的方法能否变成数组？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0048-callapply" class="md-nav__link">
    <span class="md-ellipsis">
      0048 call和apply的区别是什么？性能怎么样
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0051-objectdefineproperty" class="md-nav__link">
    <span class="md-ellipsis">
      0051 Object.defineProperty 怎么使用？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0055" class="md-nav__link">
    <span class="md-ellipsis">
      0055 一个简单对象转换成数组去掉非法值
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0056" class="md-nav__link">
    <span class="md-ellipsis">
      0056 设计题设计一个对象具有很多的方法。可以进行链式调用
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0058" class="md-nav__link">
    <span class="md-ellipsis">
      0058 箭头函数和普通函数的区别是什么？构造函数又是什么
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0064-promisefinally" class="md-nav__link">
    <span class="md-ellipsis">
      0064 Promise.finally()如何实现
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0065" class="md-nav__link">
    <span class="md-ellipsis">
      0065 获取对象的属性点语法和中括号语法，哪个更好
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0069" class="md-nav__link">
    <span class="md-ellipsis">
      0069 如何把字符串的大小写转换
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0075-11" class="md-nav__link">
    <span class="md-ellipsis">
      0075 获取数组中第1个和第1万个项的时间
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0076" class="md-nav__link">
    <span class="md-ellipsis">
      0076 对象的属性转换
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0079-input" class="md-nav__link">
    <span class="md-ellipsis">
      0079 input 处理防抖和中文输入
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0080-promiseall" class="md-nav__link">
    <span class="md-ellipsis">
      0080 Promise.all 原理
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0084-add123-4" class="md-nav__link">
    <span class="md-ellipsis">
      0084 函数连续执行 add(1)(2)(3, 4)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0086" class="md-nav__link">
    <span class="md-ellipsis">
      0086 判断一个网址是否是正确的
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0089-promiserace" class="md-nav__link">
    <span class="md-ellipsis">
      0089 Promise.race() 如何实现
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0090" class="md-nav__link">
    <span class="md-ellipsis">
      0090 实现模糊查询并关键词高亮
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0092-dom" class="md-nav__link">
    <span class="md-ellipsis">
      0092 找出一个DOM节点所有父节点
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0095" class="md-nav__link">
    <span class="md-ellipsis">
      0095 实现一个深拷贝考虑对象的自引用
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0096" class="md-nav__link">
    <span class="md-ellipsis">
      0096 前端加密有哪些方法？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0098" class="md-nav__link">
    <span class="md-ellipsis">
      0098 函数传参过程中深复制和浅复制
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0100-consolelog" class="md-nav__link">
    <span class="md-ellipsis">
      0100 console.log 同步的还是异步的？怎么调试？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0105-applycall" class="md-nav__link">
    <span class="md-ellipsis">
      0105 Apply和call的区别
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0106-event-loop" class="md-nav__link">
    <span class="md-ellipsis">
      0106 事件流和event loop是什么
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0108-promise" class="md-nav__link">
    <span class="md-ellipsis">
      0108 自己如何实现promise？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0130-dom" class="md-nav__link">
    <span class="md-ellipsis">
      0130 DOM 性能优化
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0132-import" class="md-nav__link">
    <span class="md-ellipsis">
      0132 import 导入命令
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0144-js" class="md-nav__link">
    <span class="md-ellipsis">
      0144 JS上下文执行栈和闭包
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0146-10" class="md-nav__link">
    <span class="md-ellipsis">
      0146 数组常用的10个方法
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0147" class="md-nav__link">
    <span class="md-ellipsis">
      0147 事件绑定有哪些情况
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0148-iframecontentdocument-iframecontentwindow" class="md-nav__link">
    <span class="md-ellipsis">
      0148 iframe.contentDocument 和 iframe.contentWindow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0149-script" class="md-nav__link">
    <span class="md-ellipsis">
      0149 script 脚本阻塞下载问题
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0171-reduce2" class="md-nav__link">
    <span class="md-ellipsis">
      0171 数组的reduce是什么？第2个参数是什么意思？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0177" class="md-nav__link">
    <span class="md-ellipsis">
      0177 原生拖拽事件有哪些?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0180" class="md-nav__link">
    <span class="md-ellipsis">
      0180 阻止事件冒泡的两个方法
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0181-es6-prototype" class="md-nav__link">
    <span class="md-ellipsis">
      0181 ES6 之前使用 prototype 实现继承
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0185-promise" class="md-nav__link">
    <span class="md-ellipsis">
      0185 promise 的特性、优缺点，内部是如何实现的
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0196-eventbus" class="md-nav__link">
    <span class="md-ellipsis">
      0196 eventBus 实现原理
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0340" class="md-nav__link">
    <span class="md-ellipsis">
      0340 正则表达式的特殊符号区别
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0352-jsonp" class="md-nav__link">
    <span class="md-ellipsis">
      0352 jsonp 如何跨域
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0354-export" class="md-nav__link">
    <span class="md-ellipsis">
      0354 export 有多少情况
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0262" class="md-nav__link">
    <span class="md-ellipsis">
      0262 字符串的编码格式有哪些
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0262 字符串的编码格式有哪些">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      字符编码问题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0265-es6" class="md-nav__link">
    <span class="md-ellipsis">
      0265 es6 中扩展字符串，深拷贝还是浅拷贝
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0268-json" class="md-nav__link">
    <span class="md-ellipsis">
      0268 JSON 的格式和方法
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0269" class="md-nav__link">
    <span class="md-ellipsis">
      0269 搜索框中英文搜索
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0271-onchange" class="md-nav__link">
    <span class="md-ellipsis">
      0271 中文输入法 onChange 事件处理
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0307-js" class="md-nav__link">
    <span class="md-ellipsis">
      0307 JS 数据类型
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0327-bigint" class="md-nav__link">
    <span class="md-ellipsis">
      0327 BigInt 是什么？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0309-js-asyncdefer" class="md-nav__link">
    <span class="md-ellipsis">
      0309 js 加载时 async、defer 的区别
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0310" class="md-nav__link">
    <span class="md-ellipsis">
      0310 如何判断一个对象是不是空对象
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0311" class="md-nav__link">
    <span class="md-ellipsis">
      0311 怎么加事件监听
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0312" class="md-nav__link">
    <span class="md-ellipsis">
      0312 原型链和原型链的继承
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0313-api" class="md-nav__link">
    <span class="md-ellipsis">
      0313 数组常用 API
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0314" class="md-nav__link">
    <span class="md-ellipsis">
      0314 变量提升
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0321" class="md-nav__link">
    <span class="md-ellipsis">
      0321 快速的让一个数组乱序
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0382-urlsearchparams" class="md-nav__link">
    <span class="md-ellipsis">
      0382 URLSearchParams 是什么
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0386" class="md-nav__link">
    <span class="md-ellipsis">
      0386 如何判断一个对象或者数组是空
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0391-eventistrusted" class="md-nav__link">
    <span class="md-ellipsis">
      0391 Event.isTrusted 是什么
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0393-dbclick-ios" class="md-nav__link">
    <span class="md-ellipsis">
      0393 dbClick 不支持 IOS 设备怎么办
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0411-setselectionrange" class="md-nav__link">
    <span class="md-ellipsis">
      0411 setSelectionRange
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0420" class="md-nav__link">
    <span class="md-ellipsis">
      0420 判断对象的某个属性是否存在
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0429" class="md-nav__link">
    <span class="md-ellipsis">
      0429 正则表达式怎么使用
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0443-api" class="md-nav__link">
    <span class="md-ellipsis">
      0443 字符串正则表达式相关 API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0443 字符串正则表达式相关 API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#6-api" class="md-nav__link">
    <span class="md-ellipsis">
      字符串查找的 6 个 API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0444-requestanimationframe" class="md-nav__link">
    <span class="md-ellipsis">
      0444 动画性能 requestAnimationFrame
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0445" class="md-nav__link">
    <span class="md-ellipsis">
      0445 循环中异步函数
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0449-lodash" class="md-nav__link">
    <span class="md-ellipsis">
      0449 lodash 作用和使用场景
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0450-stringify" class="md-nav__link">
    <span class="md-ellipsis">
      0450 stringify 函数
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0455" class="md-nav__link">
    <span class="md-ellipsis">
      0455 转换欧洲数字格式设置
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0466-for-in-for-of" class="md-nav__link">
    <span class="md-ellipsis">
      0466 For-in 和 for-of
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0476-web-worker" class="md-nav__link">
    <span class="md-ellipsis">
      0476 web worker 多线程
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0476 web worker 多线程">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      原生语法实现
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comlink" class="md-nav__link">
    <span class="md-ellipsis">
      第三方库 comlink 实现
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#react-webpack" class="md-nav__link">
    <span class="md-ellipsis">
      集成到 react-webpack 开发环境
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0658" class="md-nav__link">
    <span class="md-ellipsis">
      0658 鼠标双击事件
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="js">JS笔记<a class="headerlink" href="#js" title="Permanent link">&para;</a></h1>
<p>2025-4-24</p>
<p>原始笔记链接：<a href="https://cloud.seatable.cn/dtable/external-links/59b453a8639945478de2/">https://cloud.seatable.cn/dtable/external-links/59b453a8639945478de2/</a></p>
<h2 id="0003">0003 防抖和节流的区别（手写实现）<a class="headerlink" href="#0003" title="Permanent link">&para;</a></h2>
<p>防抖表示某一个事件多次高频触发之后，等时间结束后的几百毫秒再触发函数</p>
<p>节流表示当某一个事件高频触发之后，每隔几百毫秒触发一次函数</p>
<p>一般运用于界面滚动等时间触发比较频繁的</p>
<div class="highlight"><pre><span></span><code><span class="cm">/*</span>
<span class="cm"> * @des                               防抖函数</span>
<span class="cm"> * @param  {Number}    delay          延迟时间（ms），不传默认200ms</span>
<span class="cm"> * @param  {Function}  callback       回调函数</span>
<span class="cm"> * @param  {Boolen}    false          触发时是否立即执行一次，默认不执行</span>
<span class="cm"> * @return {Function}                 A new debounce function</span>
<span class="cm"> */</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">debounce</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="w"> </span><span class="nx">delay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">200</span><span class="p">,</span><span class="w"> </span><span class="nx">im</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">timeoutID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 第一次触发时是否立即执行</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">im</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="nx">timeoutID</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">callback</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="nx">arguments</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="c1">// 避免开启过多计时器</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">timeoutID</span><span class="p">)</span><span class="w"> </span><span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timeoutID</span><span class="p">)</span>
<span class="w">    </span><span class="nx">timeoutID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// 借用外部第一个普通函数的this和arguments对象</span>
<span class="w">      </span><span class="nx">callback</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="nx">arguments</span><span class="p">)</span>
<span class="w">      </span><span class="c1">// 执行后将timeoutID置为null</span>
<span class="w">      </span><span class="nx">timeoutID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="nx">delay</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm"> * @des                               节流函数</span>
<span class="cm"> * @param  {Number}    delay          延迟时间（ms），不传默认200ms</span>
<span class="cm"> * @param  {Function}  callback       回调函数</span>
<span class="cm"> * @param  {Boolen}    false          触发时是否立即执行第一次，默认不执行</span>
<span class="cm"> * @return {Function}                 A new throttle function</span>
<span class="cm"> */</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">throttle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="w"> </span><span class="nx">delay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">200</span><span class="p">,</span><span class="w"> </span><span class="nx">im</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">timeoutID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 第一次触发时是否立即执行</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">im</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="nx">timeoutID</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// 立即执行</span>
<span class="w">      </span><span class="nx">callback</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="nx">arguments</span><span class="p">)</span>
<span class="w">      </span><span class="c1">// 执行后立即关闭</span>
<span class="w">      </span><span class="nx">im</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">timeoutID</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">timeoutID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 外部第一个普通函数this和arguments对象</span>
<span class="w">        </span><span class="nx">callback</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="nx">arguments</span><span class="p">)</span>
<span class="w">        </span><span class="c1">// 执行后将timeoutID置为null</span>
<span class="w">        </span><span class="nx">timeoutID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<span class="w">      </span><span class="p">},</span><span class="w"> </span><span class="nx">delay</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="0004-setmap">0004 Set和map的区别方法<a class="headerlink" href="#0004-setmap" title="Permanent link">&para;</a></h2>
<p>Set是一个类数组，可以 add delete has</p>
<p>Map是一个类对象，可以 get set has delete</p>
<p>这两个用于处理某一个没有特定含义的对象或者数组，例如可以用来数据去重复</p>
<p>没有数组的复杂的API，所以说不是很方便存储实际的数据</p>
<h2 id="0007-es6">0007 es6的语法有什么新特点？<a class="headerlink" href="#0007-es6" title="Permanent link">&para;</a></h2>
<p>特点比较多</p>
<p>1 let const 变量声明，块级作用域</p>
<p>2 async await 对于 promise 一步函数的优化，避免了回调地狱</p>
<p>3 数组的新方法 includes Array.isArray </p>
<p>4 类取代了构造函数 new Class</p>
<h2 id="0008-settimeout-promise-async-await">0008 SetTimeOut Promise async await 的区别<a class="headerlink" href="#0008-settimeout-promise-async-await" title="Permanent link">&para;</a></h2>
<p>这个也涉及到宏任务和微任务</p>
<p>setTimeout</p>
<p>Promise(resolve, reject)</p>
<p>async function() { await xxx() }</p>
<h2 id="0009-asyncawait">0009 Async和await如何实现同步和异步？<a class="headerlink" href="#0009-asyncawait" title="Permanent link">&para;</a></h2>
<p>如果函数内部有异步操作，使用 async await 表示异步函数。</p>
<p>当代码执行到 await 一行时，需要等异步操作返回结果后，再继续向下执行，例如</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">fn</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">let</span><span class="w"> </span><span class="nx">res1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">getUser</span><span class="p">();</span>
<span class="w">      </span><span class="kd">let</span><span class="w"> </span><span class="nx">res2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">getUser</span><span class="p">();</span>
<span class="w">      </span><span class="kd">let</span><span class="w"> </span><span class="nx">res3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">getUser</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
</code></pre></div>
<p>​</p>
<h2 id="0010-for">0010 异步函数执行结果，任务队列或for循环<a class="headerlink" href="#0010-for" title="Permanent link">&para;</a></h2>
<p>​</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">10</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="w"> </span><span class="mf">0</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>这里考察的是打印什么？因为 console 或者函数内部是异步执行的，那么先循环10次后，i 变成10，就打印10个10</p>
<p>改变方法是 var 改成 let，变量作用域不同</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">10</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="w"> </span><span class="mf">0</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>​</p>
<h2 id="0011">0011 高维数组降维、去重、排序<a class="headerlink" href="#0011" title="Permanent link">&para;</a></h2>
<p>arr.flat(Infinity) 实现高维数组降维，或者手动实现递归降维</p>
<p>去重 new Set（）</p>
<p>排序 sort 实现</p>
<p>官方实现：Array.from(new Set(arr.flat(Infinity))).sort((a,b)=&gt;{ return a-b })</p>
<h2 id="0012-js">0012 JS 异步有几个方法<a class="headerlink" href="#0012-js" title="Permanent link">&para;</a></h2>
<p>setTimeout</p>
<p>setInterval</p>
<p>Promise.then</p>
<p>async</p>
<p>await</p>
<p>setState</p>
<h2 id="0013-promise-then">0013 Promise 构造函数是同步执行还是异步执行，那么 then 方法呢<a class="headerlink" href="#0013-promise-then" title="Permanent link">&para;</a></h2>
<p>Promise 中代码是同步执行的，then 是异步执行的？</p>
<h2 id="0014-new">0014 如何实现一个 new 创建类<a class="headerlink" href="#0014-new" title="Permanent link">&para;</a></h2>
<p>手写一个 new</p>
<ol>
<li>
<p>创建一个新的空对象。</p>
</li>
<li>
<p>将这个新对象的原型指向构造函数的原型。</p>
</li>
<li>
<p>将构造函数的 <code>this</code> 指向这个新对象，并执行构造函数。</p>
</li>
<li>
<p>如果构造函数返回的是一个对象，那么返回这个对象，否则返回新创建的对象。</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">myNew</span><span class="p">(</span><span class="kr">constructor</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="nx">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 1. 创建一个新的空对象</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>

<span class="w">    </span><span class="c1">// 2. 将这个新对象的原型指向构造函数的原型</span>
<span class="w">    </span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span><span class="w"> </span><span class="kr">constructor</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// 3. 将构造函数的 this 指向这个新对象，并执行构造函数</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">constructor</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span><span class="w"> </span><span class="nx">args</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// 4. 如果构造函数返回的是一个对象，那么返回这个对象，否则返回新创建的对象</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="ow">instanceof</span><span class="w"> </span><span class="nb">Object</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">obj</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// 测试</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">Person</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">name</span><span class="p">;</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">age</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">myNew</span><span class="p">(</span><span class="nx">Person</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Alice&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">30</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span><span class="w"> </span><span class="c1">// Alice</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person</span><span class="p">.</span><span class="nx">age</span><span class="p">);</span><span class="w">  </span><span class="c1">// 30</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person</span><span class="w"> </span><span class="ow">instanceof</span><span class="w"> </span><span class="nx">Person</span><span class="p">);</span><span class="w"> </span><span class="c1">// true</span>
</code></pre></div>
<p>​</p>
<h2 id="0021">0021 判断数组的三种方法；方法的区别<a class="headerlink" href="#0021" title="Permanent link">&para;</a></h2>
<p>第1种 Object.prototype.toString.call(val) </p>
<p>第2种 instanceof</p>
<p>第3种 Array.isArray</p>
<p>第1种 把变量转换成对象，然后把对象调用转换成字符串。这样可以处理各种类型的数据结果进行判断，是否是数组，兼容性比较好，但是判断代码比较繁琐。</p>
<div class="highlight"><pre><span></span><code>Object.prototype.toString.vall({}) == &#39;[object Object]&#39;
Object.prototype.toString.vall([]) == &#39;[object Array]&#39;
</code></pre></div>
<p>第2种 instance of 判断传入的对象或数组的原型上是否有对应的 array or object</p>
<div class="highlight"><pre><span></span><code>[] instanceof Array == true
[] instanceof Object == true
</code></pre></div>
<p>第三种是ES5新加的语法。这个语法比较简单，但是存在兼容问题</p>
<div class="highlight"><pre><span></span><code>Array.isArray([])
</code></pre></div>
<h2 id="0023">0023 观察者模式和订阅发布者模式<a class="headerlink" href="#0023" title="Permanent link">&para;</a></h2>
<p>订阅发布者模式，需要有一个中介对象，来处理整体的订阅和发布；这个对象支持复用</p>
<p>观察者模式不需要中介，只是两个对象之间的观察与被观察；</p>
<p>如果是少数组件关系简单，那么可以使用观察者模式即可完成功能。</p>
<p>如果是多个组件关系复杂，互相发送消息监听事件，那么使用订阅发布者模式更合适——简化代码。</p>
<h2 id="0027">0027 声明变量的几个关键词和区别<a class="headerlink" href="#0027" title="Permanent link">&para;</a></h2>
<p>var 声明变量直接绑定在全局作用当中，直接通过 window.x 可以获取对应的值。</p>
<p>let const 声明的变量都在局部的作用域中, 并没有绑定到全局变量当中，所以在全局变量上无法访问对应的变量。</p>
<p>全名</p>
<p>let: 允许你声明一个作用域被限制在块级中的变量、语句或者表达式 let 绑定不受变量提升的约束，这意味着let声明不会被提升到当前，该变量处于从块开始到初始化处理的"暂存死区"。</p>
<p>var: 声明变量的作用域限制在其声明位置的上下文中，而非声明变量总是全局的, 由于变量声明（以及其他声明）总是在任意代码执行之前处理的，所以在代码中的任意位置声明变量总是等效于在代码开头声明。</p>
<p>const 声明创建一个值的只读引用 (即指针)，</p>
<p>这里就要介绍下 JS 常用类型: String、Number、Boolean、Array、Object、Null、Undefined。其中基本类型有 Undefined、Null、Boolean、Number、String，保存在栈中；复合类型 有 Array、Object ，保存在堆中； 基本数据当值发生改变时，那么其对应的指针也将发生改变，故造成 const申明基本数据类型时，再将其值改变时，将会造成报错， 例如 const a = 3 ; a = 5 时 将会报错；但是如果是复合类型时，如果只改变复合类型的其中某个Value项时， 将还是正常使用；</p>
<h2 id="0030">0030 两个数组合并成另一个数组<a class="headerlink" href="#0030" title="Permanent link">&para;</a></h2>
<p>数组的遍历、去重、排序等，或者 concat 方法</p>
<h2 id="0031-settimeout-var-let">0031 setTimeout 中 var 和 let 区别<a class="headerlink" href="#0031-settimeout-var-let" title="Permanent link">&para;</a></h2>
<p>setTimeout 当中对于 var let 的区别</p>
<p>setTimeout 函数的第3个参数会作为回调函数的第一个函数传入。</p>
<ul>
<li>
<p><code>var</code> 声明的变量在循环中会导致闭包问题，因为它具有函数作用域或全局作用域。</p>
</li>
<li>
<p><code>let</code> 声明的变量在循环中不会导致闭包问题，因为它具有块作用域，每次迭代都会创建一个新的块作用域。</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">3</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// 输出结果：3 3 3</span>

<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">3</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// 输出结果：0 1 2</span>
</code></pre></div>
<p>​</p>
<h2 id="0033-iife">0033 闭包和 IIFE<a class="headerlink" href="#0033-iife" title="Permanent link">&para;</a></h2>
<p>闭包内部执行函数：闭包内部无法访问到全局变量，所以只能打印当前函数对应的函数名称。</p>
<p>闭包打印变量：闭包中可以有局部的内容，然后进行打印也可以直接新生成声明变量，然后再进行打印。</p>
<p>实际当中开发当中使用的情况不多。</p>
<p>​</p>
<p>闭包是 JavaScript 中一个重要的概念，常常出现在面试和考题中。以下是一些常见的闭包考点：</p>
<h4 id="1">1. 闭包的定义<a class="headerlink" href="#1" title="Permanent link">&para;</a></h4>
<p>闭包是指一个函数能够记住并访问它的词法作用域，即使这个函数在其词法作用域之外执行。</p>
<h4 id="2">2. 闭包的创建<a class="headerlink" href="#2" title="Permanent link">&para;</a></h4>
<p>闭包通常在函数内部定义另一个函数时创建。内部函数可以访问外部函数的变量，即使外部函数已经执行完毕。</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">outerFunction</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">outerVariable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;I am outside!&#39;</span><span class="p">;</span>

<span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">innerFunction</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">outerVariable</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">innerFunction</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">closure</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">outerFunction</span><span class="p">();</span>
<span class="nx">closure</span><span class="p">();</span><span class="w"> </span><span class="c1">// 输出: I am outside!</span>
</code></pre></div>
<h4 id="3">3. 闭包的应用场景<a class="headerlink" href="#3" title="Permanent link">&para;</a></h4>
<p><strong>数据隐藏和封装</strong>：通过闭包可以创建私有变量和方法。</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">createCounter</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">increment</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">count</span><span class="o">++</span><span class="p">;</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">count</span><span class="p">;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nx">decrement</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">count</span><span class="o">--</span><span class="p">;</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">count</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">};</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createCounter</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">counter</span><span class="p">.</span><span class="nx">increment</span><span class="p">());</span><span class="w"> </span><span class="c1">// 输出: 1</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">counter</span><span class="p">.</span><span class="nx">decrement</span><span class="p">());</span><span class="w"> </span><span class="c1">// 输出: 0</span>
</code></pre></div>
<p><strong>模拟块级作用域</strong>：在 ES6 之前，JavaScript 没有块级作用域，可以通过闭包来模拟。</p>
<p><strong>回调函数</strong>：闭包常用于回调函数中，特别是在异步编程中。</p>
<p>​</p>
<h4 id="4">4. 闭包的内存管理<a class="headerlink" href="#4" title="Permanent link">&para;</a></h4>
<p>由于闭包会保留对其词法作用域的引用，可能会导致内存泄漏。需要注意在不再需要闭包时，手动解除引用。</p>
<p>​</p>
<h4 id="5">5. 常见面试题<a class="headerlink" href="#5" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">3</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// 输出: 3 3 3</span>
</code></pre></div>
<p>改成</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">3</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// 输出: 0 1 2</span>
</code></pre></div>
<p>或者&#x20;</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">3</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="w">        </span><span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
<span class="w">    </span><span class="p">})(</span><span class="nx">i</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// 输出: 0 1 2</span>
</code></pre></div>
<p>​</p>
<h2 id="0035">0035 浏览器的缓存读取原则<a class="headerlink" href="#0035" title="Permanent link">&para;</a></h2>
<p>浏览器有几种缓存</p>
<p>cookie</p>
<p>session</p>
<p>localStorage</p>
<p>这些分别有什么特点，然后存储什么样的数据？</p>
<p><a href="https://zhuanlan.zhihu.com/p/581426460">https://zhuanlan.zhihu.com/p/581426460</a> </p>
<h2 id="0041">0041 闭包的作用域，和函数中变量的提升<a class="headerlink" href="#0041" title="Permanent link">&para;</a></h2>
<p>在一个函数内部变量声明的话，会提升到函数的开头，但是不会赋值，所以打印会出现 undefined </p>
<div class="highlight"><pre><span></span><code>function fn() {
    console.log(a);
    let a = 10;
}
</code></pre></div>
<p>函数内部直接访问的是函数作用域中的变量，如果没有找到这个属性的话，就是访问全局变量下的一个属性，所以说需要看 console.log 的结果是函数作用域，还是全局作用域。</p>
<h2 id="0042-sleep">0042 如何实现sleep函数？<a class="headerlink" href="#0042-sleep" title="Permanent link">&para;</a></h2>
<p>核心思路是写一个sleep函数，参数是n表示时间，内部返回一个new promise，然后reserve reject Reserve当中设置一个set time out实现延迟执行</p>
<p>Sleep函数外部可以使用then或者async await实现具体的下一步操作</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">sleep</span><span class="p">(</span><span class="nx">fn</span><span class="p">,</span><span class="w"> </span><span class="nx">times</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">fn</span><span class="p">(),</span><span class="w"> </span><span class="nx">times</span><span class="p">)</span>
<span class="w">    </span><span class="p">})</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="0043-sort">0043 使用sort函数直接对数组进行排序的结果<a class="headerlink" href="#0043-sort" title="Permanent link">&para;</a></h2>
<p>sort 函数，如果不传递任何函数，默认会把比较的前两项都转换成字符串，进行比较，然后不同的数字，首先转换成字符串，进行 UTF-16 的比较，所以说这个比较的结果不一定是真实的结果</p>
<h2 id="0046-length">0046 一个对象写入length和数组的方法能否变成数组？<a class="headerlink" href="#0046-length" title="Permanent link">&para;</a></h2>
<p>如果对象写入数组的 length 长度，然后写入 push 和 pop 的方法，是可以变成一个伪数组</p>
<p>但是和真实的数组不一样</p>
<p>push方法的核心 推入一个具体的元素，同时 length+1。</p>
<p>如果默认对象的 length 是一个固定的值，然后继续执行 push pop 操作，只会在后面的元素上面加入，前面的引用都是 null </p>
<h2 id="0048-callapply">0048 call和apply的区别是什么？性能怎么样<a class="headerlink" href="#0048-callapply" title="Permanent link">&para;</a></h2>
<p>call 和 aplly 作用都是一个对象，使用另一个对象的方法</p>
<p>其中 apply 传入的是一个数组或者伪数组，call 是传入多个参数作为使用函数的参数</p>
<p>call 由于传入的是多个参数，性能比 apply 稍微好一点（需要解析数组或者伪数组）</p>
<h2 id="0051-objectdefineproperty">0051 Object.defineProperty 怎么使用？<a class="headerlink" href="#0051-objectdefineproperty" title="Permanent link">&para;</a></h2>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty</a></p>
<p>Object.defineProperty 用于给对象增加或者更改一个新的属性（可以读写，可以只读），例如</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">object1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">object1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;property1&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="mf">42</span><span class="p">,</span>
<span class="w">  </span><span class="nx">writable</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span>
<span class="p">});</span>

<span class="nx">object1</span><span class="p">.</span><span class="nx">property1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">77</span><span class="p">;</span>
<span class="c1">// Throws an error in strict mode</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">object1</span><span class="p">.</span><span class="nx">property1</span><span class="p">);</span>
<span class="c1">// Expected output: 42</span>
</code></pre></div>
<p>实际开发中使用不多，主要在框架中使用</p>
<h2 id="0055">0055 一个简单对象转换成数组去掉非法值<a class="headerlink" href="#0055" title="Permanent link">&para;</a></h2>
<p>遍历对象的键值对，然后判断键是否是有效的数字，parsent isNaN 然后放在数组中即可</p>
<h2 id="0056">0056 设计题设计一个对象具有很多的方法。可以进行链式调用<a class="headerlink" href="#0056" title="Permanent link">&para;</a></h2>
<p>类似中间件的设置原则，对象中的方法，对这个对象进行操作后，返回这个对象</p>
<p>执行对象的方法时，是原地算法（迭代对象的属性）并返回这个对象</p>
<div class="highlight"><pre><span></span><code>class Person()class Person {

  constructor(props) {
    this.name = props.name;
    this.age = props.age;
    this.value = props.value || 0;
  }

  sayHello = () =&gt; {
    console.log(&#39;Hello &#39; + this.name);
    return this;
  }

  sayHi = () =&gt; {
    console.log(&#39;Hi &#39; + this.name);
    return this;
  }

  add = (number) =&gt; {
    this.value = this.value + parseInt(number);
    return this;
  }

  delete = (number) =&gt; {
    this.value = this.value - parseInt(number);
    return this;
  }

  getValue = () =&gt; {
    console.log(this.value);
    return this;
  }
}

let p = new Person({ name: &#39;Mike&#39;, age: 20, value: 10 });
p.sayHello().sayHi();
p.add(4).add(20).delete(10).getValue();
</code></pre></div>
<h2 id="0058">0058 箭头函数和普通函数的区别是什么？构造函数又是什么<a class="headerlink" href="#0058" title="Permanent link">&para;</a></h2>
<p>普通函数 普通的函数</p>
<p>构造函数 ES5用来创建一个组件，es6 使用类进行创建，函数名需要大写</p>
<p>箭头函数 ES6 中类中的箭头函数，改变了实例中 this 的指向。默认 this 指向调用方法的对象，使用 箭头函数，可以让 this 始终指向原始的类（进一步获取其中的属性和方法）</p>
<h2 id="0064-promisefinally">0064 Promise.finally()如何实现<a class="headerlink" href="#0064-promisefinally" title="Permanent link">&para;</a></h2>
<p>Promise 执行后，可能 res 或者 catch 之后都会执行 finally 部分的代码</p>
<p>原理是这样的，实际源码不清楚</p>
<h2 id="0065">0065 获取对象的属性点语法和中括号语法，哪个更好<a class="headerlink" href="#0065" title="Permanent link">&para;</a></h2>
<p>点语法效率稍微高一些，因为点语法，直接获取属性。中括号需要进行变量转换，转换成字符串，然后在获取属性。</p>
<h2 id="0069">0069 如何把字符串的大小写转换<a class="headerlink" href="#0069" title="Permanent link">&para;</a></h2>
<p>最好的办法是一句话，正则转换或者使用循环数组的方式，如果是大写转换成小写，否则转换成大写的形式</p>
<p>let result = '';</p>
<p>for (let i = 0; i \&lt; str.lenght; i++) {</p>
<p>if (str[i].isLower) {</p>
<p>result += str[i].toUpper();</p>
<p>} else {</p>
<p>result += str[i].toLower();</p>
<p>}</p>
<p>}</p>
<h2 id="0075-11">0075 获取数组中第1个和第1万个项的时间<a class="headerlink" href="#0075-11" title="Permanent link">&para;</a></h2>
<p>JS 的数组实际上是对象，那么获取第1个和第10000个，都是通过对象的索引实现查找的，耗时基本相同。</p>
<p>其他语言中数组是真实的数组，获取的时间不一样。</p>
<h2 id="0076">0076 对象的属性转换<a class="headerlink" href="#0076" title="Permanent link">&para;</a></h2>
<p>JS 对象的属性，只能使用 字符串 或者 Symbol</p>
<p>如果设置其他为对象的属性，那么先转换成字符串 toString 然后进行变成对象的属性</p>
<p>Symbol 处理魔法字符串的问题，生成唯一的一个字符串便于处理对象的属性</p>
<div class="highlight"><pre><span></span><code>let key = Symbol(&#39;Mike&#39;)
let dict = {};
dict[key] = 20;
</code></pre></div>
<h2 id="0079-input">0079 input 处理防抖和中文输入<a class="headerlink" href="#0079-input" title="Permanent link">&para;</a></h2>
<p>防抖：键盘事件结束300ms后，再触发对应的提交函数-或者搜索函数，避免频繁输入造成的搜索性能下降</p>
<p>处理中文输入：onCompositionStart 等事件，等 onCompositionEnd 后就是中文输入结束，此时再处理输入框中的内容</p>
<h2 id="0080-promiseall">0080 Promise.all 原理<a class="headerlink" href="#0080-promiseall" title="Permanent link">&para;</a></h2>
<p>Promise.all() 中全部请求返回结果后，才能执行后续的操作，适合很多个请求并行执行</p>
<p>Promise.race() 赛跑，多个请求中，任意一个执行结束，就完成后续的操作</p>
<p>类似数组中 every 和 some 的逻辑</p>
<h2 id="0084-add123-4">0084 函数连续执行 add(1)(2)(3, 4)<a class="headerlink" href="#0084-add123-4" title="Permanent link">&para;</a></h2>
<p>函数 currying 实现</p>
<p>关键是返回值是函数，需要测试，看的不太懂</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">currying</span><span class="p">(</span><span class="nx">fn</span><span class="p">,</span><span class="w"> </span><span class="nx">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">length</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">fn</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kd">function</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nx">length</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">fn</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">args</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">currying</span><span class="p">(</span><span class="nx">fn</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="nx">args</span><span class="p">),</span><span class="w"> </span><span class="nx">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<h2 id="0086">0086 判断一个网址是否是正确的<a class="headerlink" href="#0086" title="Permanent link">&para;</a></h2>
<p>使用 new URL() 构造函数传参，然后捕获错误，就能判断是否正常了</p>
<h2 id="0089-promiserace">0089 Promise.race() 如何实现<a class="headerlink" href="#0089-promiserace" title="Permanent link">&para;</a></h2>
<p>多个 Promise 执行，只要有一个返回，那么立即执行后面的代码</p>
<h2 id="0090">0090 实现模糊查询并关键词高亮<a class="headerlink" href="#0090" title="Permanent link">&para;</a></h2>
<p>第一输入时防抖</p>
<p>第二查询是同步还是异步？是否需要网络请求？</p>
<p>是否通过记忆化查找</p>
<p>高量结果主要使用正则表达式进行处理。满足某个搜索条件，使用正则进行替换，替换后使用 span className="highlight" 包裹一下，显示高亮的背景色即可</p>
<h2 id="0092-dom">0092 找出一个DOM节点所有父节点<a class="headerlink" href="#0092-dom" title="Permanent link">&para;</a></h2>
<p>获取当前节点，然后 while 循环，对每一个父节点判断 ID</p>
<p>数据结构：从叶子结点，递归找到路径上的全部节点。</p>
<div class="highlight"><pre><span></span><code><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nx">dom</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">dom</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
<span class="w">  </span><span class="nx">dom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">dom</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">dom</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>​</p>
<h2 id="0095">0095 实现一个深拷贝考虑对象的自引用<a class="headerlink" href="#0095" title="Permanent link">&para;</a></h2>
<p>深拷贝对象时，如果存在互相引用，也就是深拷贝一个图</p>
<p>每次拷贝一个节点，把节点存储在字典中，下次遍历到节点，就不需要拷贝了，这样实现了深拷贝</p>
<h2 id="0096">0096 前端加密有哪些方法？<a class="headerlink" href="#0096" title="Permanent link">&para;</a></h2>
<p>用户输入时，密码传输（界面验证，验证长度和有效性，是否满足字母数字特殊符号）</p>
<p>发送网络请求时，数据网络传输（HTTPS，POST，加密，JWT token）</p>
<p>数据库存储等（密码加盐，不显示真实信息）</p>
<p>界面展示数据加密，避免爬虫获取信息等</p>
<h2 id="0098">0098 函数传参过程中深复制和浅复制<a class="headerlink" href="#0098" title="Permanent link">&para;</a></h2>
<p>函数传参过程中，普通变量直接复制，对象是浅复制</p>
<p>函数内部可以实现原地算法，直接在参数的基础上修改</p>
<h2 id="0100-consolelog">0100 console.log 同步的还是异步的？怎么调试？<a class="headerlink" href="#0100-consolelog" title="Permanent link">&para;</a></h2>
<p>console.log 是同步执行的</p>
<p>如果打印的是字符串（简单类型数据），没问题。</p>
<p>如果打印的是对象（引用类型数据），可能出错。console.log 只保存指针，当从控制台中展开对象时，才显示对象的详情，可能数据不一致的问题</p>
<p>解决：</p>
<p>1、直接在代码中打断点</p>
<p>2、把对象转换成字符串打印</p>
<h2 id="0105-applycall">0105 Apply和call的区别<a class="headerlink" href="#0105-applycall" title="Permanent link">&para;</a></h2>
<p>参数不一样，一个传递的是数组，一个传递的是多个参数，实际功能一样</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj1</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nx">para1</span><span class="p">,</span><span class="w"> </span><span class="nx">para2</span><span class="p">]);</span>
<span class="kd">function</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj1</span><span class="p">,</span><span class="w"> </span><span class="nx">para1</span><span class="p">,</span><span class="w"> </span><span class="nx">para2</span><span class="p">);</span>
</code></pre></div>
<p><a href="https://www.w3school.com.cn/js/js_function_apply.asp">https://www.w3school.com.cn/js/js_function_apply.asp</a></p>
<h2 id="0106-event-loop">0106 事件流和event loop是什么<a class="headerlink" href="#0106-event-loop" title="Permanent link">&para;</a></h2>
<p><a href="https://juejin.cn/post/7020328988715270157">https://juejin.cn/post/7020328988715270157</a> </p>
<p>事件队列和事件循环</p>
<h2 id="0108-promise">0108 自己如何实现promise？<a class="headerlink" href="#0108-promise" title="Permanent link">&para;</a></h2>
<p><a href="https://juejin.cn/post/6844903625769091079">https://juejin.cn/post/6844903625769091079</a> </p>
<p>通过 promise 的基本使用，说明这是一个类，并且有 then 方法</p>
<div class="highlight"><pre><span></span><code>let p = new Promise();
p.then(() =&gt; {}, () =&gt; {})
</code></pre></div>
<p>参考链接，简化版本的代码如下（不考虑链式调用，finally, Promise.all）</p>
<h2 id="0130-dom">0130 DOM 性能优化<a class="headerlink" href="#0130-dom" title="Permanent link">&para;</a></h2>
<p>DOM 的性能问题（PC端性能不影响，移动端影响很大）</p>
<p>设计层面：移动端屏幕小，设计层面不建议进行大量 DOM 展示和操作</p>
<p>代码层面：</p>
<ul>
<li>
<p>DOM 渲染耗时 =&gt; 减少无用的DOM节点</p>
</li>
<li>
<p>DOM 会拖累 JS 渲染 =&gt; DOM 和 JS请求异步处理</p>
</li>
<li>
<p>浏览器是单线程 =&gt; 未来开发多线程浏览器</p>
</li>
<li>
<p>DOM使用CPU，不能使用GPU加速 =&gt; 使用 canvas 等代替复杂图形和用户交互</p>
</li>
</ul>
<p>未来移动端巨头是主流，类似微信内嵌QQ浏览器，使用内部小程序完成传统界面设计。</p>
<p>国内移动端浏览器网页最终会没落，现在基本是流量入口+内嵌小程序或者网页（安卓端和 ios 类似会没落）。</p>
<h2 id="0132-import">0132 import 导入命令<a class="headerlink" href="#0132-import" title="Permanent link">&para;</a></h2>
<p>​</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">fn1</span><span class="p">,</span><span class="w"> </span><span class="nx">fn2</span><span class="p">,</span><span class="w"> </span><span class="nx">fn3</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;lodash&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">fn1</span><span class="p">,</span><span class="w"> </span><span class="nx">fn2</span><span class="p">,</span><span class="w"> </span><span class="nx">fn3</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">$</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;lodash&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">lodash</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;lodash&#39;</span><span class="p">;</span>

<span class="c1">// 如果一个模块对外暴露很多的方法，可以使用第一行的命令引入几个方法</span>

<span class="c1">// 可以使用第二行的几个命令，把其中的几个方法封装成对象 （$）然后调用其中的某个方法 $.fn1 $.fn2 使用</span>

<span class="c1">// 第三个是直接把全部的方法封装成一个对象，然后调用对象的方法</span>

<span class="c1">// 这个写法适应于函数式编程（对外暴露很多函数，然后使用测试很方便）</span>
</code></pre></div>
<p>​</p>
<h2 id="0144-js">0144 JS上下文执行栈和闭包<a class="headerlink" href="#0144-js" title="Permanent link">&para;</a></h2>
<p>几个概念把，esc、上下文：作用域链，AO/VO，this。esc存储执行的上下文</p>
<p>主要是创建和执行。假设有一个A函数，过程是这样的创建全局执行上下文、压入esc、全局上下文初始化、执行A函数、创建A函数执行上下文，压入esc，A函数上下文初始化，这个初始化过程是这样的：创建作用域链、emm我上面提漏了一个A函数被创建全局上下文被保存到scope中的过程，是复制scpoe创建作用域链,用arguments创建活动对象，初始化活动对于，将活动对象压入链顶，执行完毕，上下文弹出。</p>
<p>“但是全局上下文一直在栈底，而VO和AO的确认，我感觉是取决是是否可访问的。”</p>
<p>“而闭包就是上下文链中上下文scope被销毁了，但因为保持了对scope中某个变量的引用，这应该就是你上面说的回收原理的根节点实现的这个东西把，导致没销毁干净，留存在了内存中，完成了闭包”</p>
<h2 id="0146-10">0146 数组常用的10个方法<a class="headerlink" href="#0146-10" title="Permanent link">&para;</a></h2>
<p>增加减少插入</p>
<p>pop</p>
<p>push</p>
<p>shift</p>
<p>unshift</p>
<p>slice</p>
<p>splice</p>
<p>查找</p>
<p>includes</p>
<p>indexOf</p>
<p>lastIndexOf</p>
<p>find</p>
<p>some</p>
<p>any</p>
<p>遍历数组</p>
<p>map</p>
<p>forEach</p>
<p>reduce</p>
<p>和字符串转化</p>
<p>join</p>
<h2 id="0147">0147 事件绑定有哪些情况<a class="headerlink" href="#0147" title="Permanent link">&para;</a></h2>
<p>某一个节点绑定事件，或者全局绑定事件（document.addeventListener）</p>
<p>适合于不同场景</p>
<p>打开通常在某一个按钮，那么就在节点绑定事件</p>
<p>关闭可能在全屏点击，那么就在 document 绑定事件</p>
<p>事件冒泡和事件捕获，顺序分别是从内部到外部，和从外部到内部</p>
<h2 id="0148-iframecontentdocument-iframecontentwindow">0148 iframe.contentDocument 和 iframe.contentWindow<a class="headerlink" href="#0148-iframecontentdocument-iframecontentwindow" title="Permanent link">&para;</a></h2>
<p>1、这两个都是通过 iframe 获取内部的 document，兼容性不一样，参考下面</p>
<p><a href="https://stackoverflow.com/questions/17197084/difference-between-contentdocument-and-contentwindow-javascript-iframe-frame-acc">https://stackoverflow.com/questions/17197084/difference-between-contentdocument-and-contentwindow-javascript-iframe-frame-acc</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#scripting">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#scripting</a></p>
<div class="highlight"><pre><span></span><code>iframe.contentDocument || iframe.contentWindow.document
</code></pre></div>
<p>2、如何监听 iframe 下载完成？默认使用这个方法</p>
<p>原理：当执行下载后，循环判断 iframe 的下载状态是否完成；如果完成，移除 iframe，然后执行回调函数</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">iframe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;iframe&#39;</span><span class="p">);</span>
<span class="nx">iframe</span><span class="p">.</span><span class="nx">src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">path</span><span class="p">;</span>
<span class="nx">iframe</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;none&#39;</span><span class="p">;</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">iframe</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setInterval</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">iframeDoc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">iframe</span><span class="p">.</span><span class="nx">contentDocument</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">iframe</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nb">document</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">iframeDoc</span><span class="p">.</span><span class="nx">readyState</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;complete&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">iframeDoc</span><span class="p">.</span><span class="nx">readyState</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;interactive&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="p">(</span><span class="nx">iframe</span><span class="p">);</span>
<span class="w">        </span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">timer</span><span class="p">);</span>
<span class="w">        </span><span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;success&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
</code></pre></div>
<p>如果高频触发函数（&lt;1000），可能有 iframe 多次创建并卸载，然后 iframe.contentWindow 是 null 报错的情况，可能性较小。最好在循环外部判断一下是否存在，或者尽量避免使用这个函数。</p>
<h2 id="0149-script">0149 script 脚本阻塞下载问题<a class="headerlink" href="#0149-script" title="Permanent link">&para;</a></h2>
<p>非重点题目</p>
<p>项目中遇到一个问题：</p>
<p>默认下载图片通过 iframe ，然后302重定向下载完毕。当初始化加载10多个JS脚本时，界面用户点击下载图片 iframe 下载，那么下载时显示跨域，无法下载</p>
<p>查阅资料：浏览器并行下载时，script 下载执行会阻塞其他操作，所以造成图片下载失败。</p>
<p>解决：首先避免大量并行下载脚本，从根源上减少script的代码量。然后可以在界面初始化完成后，异步下载这部分脚本，避免脚本和其他功能互相干扰。</p>
<p><a href="https://www.dandelioncloud.cn/article/details/1509921575058092034">https://www.dandelioncloud.cn/article/details/1509921575058092034</a> </p>
<p><a href="https://blog.csdn.net/caihaijiang/article/details/6666520">https://blog.csdn.net/caihaijiang/article/details/6666520</a> </p>
<p><a href="https://stackoverflow.com/questions/1869095/dns-lookup-vs-http-parallel-downloads/1869126#1869126">https://stackoverflow.com/questions/1869095/dns-lookup-vs-http-parallel-downloads/1869126#1869126</a> </p>
<h2 id="0171-reduce2">0171 数组的reduce是什么？第2个参数是什么意思？<a class="headerlink" href="#0171-reduce2" title="Permanent link">&para;</a></h2>
<p>​</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">5</span><span class="p">].</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">b</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span>
</code></pre></div>
<p>reduce 第一个参数是函数，表示对每一项执行的函数，返回值作为下一个项计算的基础值</p>
<p>第二个参数是初始值，表示初始是0</p>
<h2 id="0177">0177 原生拖拽事件有哪些?<a class="headerlink" href="#0177" title="Permanent link">&para;</a></h2>
<p>1、如何设置拖拽对象：设置 div draggable 属性</p>
<p>2、被拖动的元素有哪些事件：dragstart drag dragend 三个事件，分别对应开始拖动，拖动中（高频），拖动结束</p>
<p>3、被释放的元素有哪些事件：dragenter dragover dragleave drop 四个事件</p>
<p>4、从桌面拖动到浏览器的事件：没有 dragstart dragend 事件</p>
<p>5、如何通过拖拽传递数据：</p>
<p>5.1 当一个元素被拖动时，ondragstart, 设置 e.datatransfer.setDate 设置数据</p>
<p>5.2 当元素在另一个对象上释放时，onDrop 事件，获取 e.datatransfer.files 拿到数据，这里可能是某个文件数组，或者是某个字符串。如果是拖动桌面文件并上传到浏览器，那么获取 files 数组（文件路径），然后通过 FileReader 对象，浏览器读取到文件内容，进一步实现上传。</p>
<h2 id="0180">0180 阻止事件冒泡的两个方法<a class="headerlink" href="#0180" title="Permanent link">&para;</a></h2>
<p>stopImmediatePropagation 函数和 stopPropagation 函数的区别</p>
<p>event.stopImmediatePropagation() 方法阻止剩下的事件处理程序被执行。该方法阻止事件在 DOM 树中向上冒泡。停止当前节点，和所有后续节点的事件处理程序的运行。</p>
<p>stopPropagation 会阻止事件向上层元素冒泡。如果同一个元素绑定了多个事件（addEventListener），那么不会阻止其他事件的执行。</p>
<p>stopImmediatePropagation() 会阻止同层级事件的冒泡。</p>
<div class="highlight"><pre><span></span><code><span class="nx">div</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(){</span>
<span class="w">  </span><span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;第一次执行&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="nx">stopImmediatePropagation</span><span class="p">();</span>
<span class="p">}</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>

<span class="nx">div</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(){</span>
<span class="w">  </span><span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;第二次执行&quot;</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span><span class="w"> </span>

<span class="c1">// 点击div，第二次执行不会触发</span>
</code></pre></div>
<h2 id="0181-es6-prototype">0181 ES6 之前使用 prototype 实现继承<a class="headerlink" href="#0181-es6-prototype" title="Permanent link">&para;</a></h2>
<p>Object.create() 会创建一个 “新” 对象，然后将此对象内部的 [[Prototype]] 关联到你指定的对象（Foo.prototype）。</p>
<p>Object.create(null) 创建一个空 [[Prototype]] 链接的对象，这个对象无法进行委托。</p>
<p>​</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">Foo</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">myName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// 继承属性，通过借用构造函数调用</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">Bar</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">label</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">Foo</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="p">);</span>
<span class="w">  </span><span class="k">this</span><span class="p">.</span><span class="nx">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">label</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// 继承方法，创建备份</span>
<span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>

<span class="c1">// 必须设置回正确的构造函数，要不然在会发生判断类型出错</span>
<span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="kr">constructor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Bar</span><span class="p">;</span>

<span class="w"> </span><span class="c1">// 必须在上一步之后</span>
<span class="nx">Bar</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">myLabel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">label</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Bar</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;this is label&quot;</span><span class="p">);</span>

<span class="nx">a</span><span class="p">.</span><span class="nx">myName</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;a&quot;</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">myLabel</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;this is label&quot;</span>
</code></pre></div>
<p>​</p>
<h2 id="0185-promise">0185 promise 的特性、优缺点，内部是如何实现的<a class="headerlink" href="#0185-promise" title="Permanent link">&para;</a></h2>
<p>Promise基本特性</p>
<ul>
<li>
<p>1、Promise有三种状态：pending(进行中)、fulfilled(已成功)、rejected(已失败)</p>
</li>
<li>
<p>2、Promise对象接受一个回调函数作为参数,  该回调函数接受两个参数，分别是成功时的回调resolve和失败时的回调reject；另外resolve的参数除了正常值以外，  还可能是一个Promise对象的实例；reject的参数通常是一个Error对象的实例。</p>
</li>
<li>
<p>3、then方法返回一个新的Promise实例，并接收两个参数onResolved(fulfilled状态的回调)；onRejected(rejected状态的回调，该参数可选)</p>
</li>
<li>
<p>4、catch方法返回一个新的Promise实例</p>
</li>
<li>
<p>5、finally方法不管Promise状态如何都会执行，该方法的回调函数不接受任何参数</p>
</li>
<li>
<p>6、Promise.all()方法将多个多个Promise实例，包装成一个新的Promise实例，该方法接受一个由Promise对象组成的数组作为参数(Promise.all()方法的参数可以不是数组，但必须具有Iterator接口，且返回的每个成员都是Promise实例)，注意参数中只要有一个实例触发catch方法，都会触发Promise.all()方法返回的新的实例的catch方法，如果参数中的某个实例本身调用了catch方法，将不会触发Promise.all()方法返回的新实例的catch方法</p>
</li>
<li>
<p>7、Promise.race()方法的参数与Promise.all方法一样，参数中的实例只要有一个率先改变状态就会将该实例的状态传给Promise.race()方法，并将返回值作为Promise.race()方法产生的Promise实例的返回值</p>
</li>
<li>
<p>8、Promise.resolve()将现有对象转为Promise对象，如果该方法的参数为一个Promise对象，Promise.resolve()将不做任何处理；如果参数thenable对象(即具有then方法)，Promise.resolve()将该对象转为Promise对象并立即执行then方法；如果参数是一个原始值，或者是一个不具有then方法的对象，则Promise.resolve方法返回一个新的Promise对象，状态为fulfilled，其参数将会作为then方法中onResolved回调函数的参数，如果Promise.resolve方法不带参数，会直接返回一个fulfilled状态的 Promise 对象。需要注意的是，立即resolve()的 Promise 对象，是在本轮“事件循环”（event  loop）的结束时执行，而不是在下一轮“事件循环”的开始时。</p>
</li>
<li>
<p>9、Promise.reject()同样返回一个新的Promise对象，状态为rejected，无论传入任何参数都将作为reject()的参数</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">myPromise</span><span class="p">(</span><span class="kr">constructor</span><span class="p">){</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">self</span><span class="o">=</span><span class="k">this</span><span class="p">;</span>
<span class="w">  </span><span class="nx">self</span><span class="p">.</span><span class="nx">status</span><span class="o">=</span><span class="s2">&quot;pending&quot;</span><span class="w"> </span><span class="c1">//定义状态改变前的初始状态 </span>
<span class="w">  </span><span class="nx">self</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="kc">undefined</span><span class="p">;</span><span class="c1">//定义状态为resolved的时候的状态 </span>
<span class="w">  </span><span class="nx">self</span><span class="p">.</span><span class="nx">reason</span><span class="o">=</span><span class="kc">undefined</span><span class="p">;</span><span class="c1">//定义状态为rejected的时候的状态 </span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">resolve</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
<span class="w">    </span><span class="c1">//两个===&quot;pending&quot;，保证了了状态的改变是不不可逆的 </span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">status</span><span class="o">===</span><span class="s2">&quot;pending&quot;</span><span class="p">){</span>
<span class="w">      </span><span class="nx">self</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">value</span><span class="p">;</span>
<span class="w">      </span><span class="nx">self</span><span class="p">.</span><span class="nx">status</span><span class="o">=</span><span class="s2">&quot;resolved&quot;</span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">reject</span><span class="p">(</span><span class="nx">reason</span><span class="p">){</span>
<span class="w">     </span><span class="c1">//两个===&quot;pending&quot;，保证了了状态的改变是不不可逆的</span>
<span class="w">     </span><span class="k">if</span><span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">status</span><span class="o">===</span><span class="s2">&quot;pending&quot;</span><span class="p">){</span>
<span class="w">        </span><span class="nx">self</span><span class="p">.</span><span class="nx">reason</span><span class="o">=</span><span class="nx">reason</span><span class="p">;</span>
<span class="w">        </span><span class="nx">self</span><span class="p">.</span><span class="nx">status</span><span class="o">=</span><span class="s2">&quot;rejected&quot;</span><span class="p">;</span><span class="w"> </span>
<span class="w">      </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">//捕获构造异常 </span>
<span class="w">  </span><span class="k">try</span><span class="p">{</span>
<span class="w">      </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span><span class="nx">reject</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
<span class="w">    </span><span class="nx">reject</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span>
<span class="p">}</span>

<span class="nx">myPromise</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">then</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">onFullfilled</span><span class="p">,</span><span class="nx">onRejected</span><span class="p">){</span><span class="w"> </span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">self</span><span class="o">=</span><span class="k">this</span><span class="p">;</span>
<span class="w">  </span><span class="k">switch</span><span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">status</span><span class="p">){</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;resolved&quot;</span><span class="o">:</span><span class="w"> </span><span class="nx">onFullfilled</span><span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;rejected&quot;</span><span class="o">:</span><span class="w"> </span><span class="nx">onRejected</span><span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">reason</span><span class="p">);</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">default</span><span class="o">:</span><span class="w"> </span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 测试</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">p</span><span class="o">=</span><span class="ow">new</span><span class="w"> </span><span class="nx">myPromise</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span><span class="nx">reject</span><span class="p">){</span><span class="nx">resolve</span><span class="p">(</span><span class="mf">1</span><span class="p">)});</span><span class="w"> </span>
<span class="nx">p</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">){</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">)})</span>
<span class="c1">//输出1</span>
</code></pre></div>
<p>​</p>
<h2 id="0196-eventbus">0196 eventBus 实现原理<a class="headerlink" href="#0196-eventbus" title="Permanent link">&para;</a></h2>
<p>原理：事件绑定和派发。预先全局声明一个事件和对应的处理函数，然后在另一个地方出发事件，执行函数。</p>
<p>使用场景：用于不同层级的组件执行函数，例如两个相隔较远的前端组件执行函数，不能使用 props，可以使用这个方案。</p>
<p>实现代码</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 这个可以基本实现事件派发</span>
<span class="kd">class</span><span class="w"> </span><span class="nx">EventBus</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="nx">eventMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>

<span class="w">  </span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">fn</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">eventMap</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fn</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">dispatch</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="nx">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">eventMap</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">fn</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">fn</span><span class="p">(...</span><span class="nx">params</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">eventBus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">EventBus</span><span class="p">();</span>
<span class="nx">eventBus</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s1">&#39;onclick&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">)</span><span class="w"> </span><span class="p">});</span>
<span class="nx">eventBus</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="s1">&#39;onclick&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">);</span>
</code></pre></div>
<p>多个事件的版本</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 上面代码的不足，一个事件只能对应一个函数，不能对应多个函数；下面是多个函数的版本。</span>
<span class="kd">class</span><span class="w"> </span><span class="nx">EventBus</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">subscribers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>


<span class="w">  </span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span><span class="w"> </span><span class="nx">handler</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">subscribers</span><span class="p">[</span><span class="nx">type</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">subscribers</span><span class="p">[</span><span class="nx">type</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>
<span class="w">    </span><span class="p">}</span>


<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">handlers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">subscribers</span><span class="p">[</span><span class="nx">type</span><span class="p">];</span>
<span class="w">    </span><span class="nx">handlers</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">handler</span><span class="p">);</span>


<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">handlers</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">handler</span><span class="p">);</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">index</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">handlers</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">dispatch</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">handlers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">subscribers</span><span class="p">[</span><span class="nx">type</span><span class="p">];</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">handlers</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">handlers</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">handler</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">handler</span><span class="p">(...</span><span class="nx">data</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>​</p>
<h2 id="0340">0340 正则表达式的特殊符号区别<a class="headerlink" href="#0340" title="Permanent link">&para;</a></h2>
<p>对比 `/^[a-z0-9][a-z]+<span class="arithmatex"><span class="MathJax_Preview">/\`和 \`/^\[a-z0-9]\[a-z]\*</span><script type="math/tex">/\`和 \`/^\[a-z0-9]\[a-z]\*</script></span>/`的区别？</p>
<p>也就是 + 和 * 的区别</p>
<p>星号表示：匹配前面的子表达式零次或多次。</p>
<p>加号表示：匹配前面的子表达式一次或多次。</p>
<p>点表示：匹配除换行符 \n 之外的任何单字符。</p>
<p>详细参考：<a href="https://www.runoob.com/regexp/regexp-syntax.html">https://www.runoob.com/regexp/regexp-syntax.html</a> </p>
<p>这些知识点都记过，最好熟练使用。</p>
<h2 id="0352-jsonp">0352 jsonp 如何跨域<a class="headerlink" href="#0352-jsonp" title="Permanent link">&para;</a></h2>
<p>jsonp 的核心原理：利用script标签没有同源限制的方式，可以发送跨域的get请求（只能发送get请求）。</p>
<p>script标签中的src属性，将请求参数和当前请求的回调函数名。拼接在链接上。</p>
<p>最终由服务端接收到请求之后，拼接成前端可执行的字符串的形式返回。</p>
<p>这个结果字符串，最终会在前端的 script 标签中解析并执行。</p>
<h2 id="0354-export">0354 export 有多少情况<a class="headerlink" href="#0354-export" title="Permanent link">&para;</a></h2>
<p><a href="https://developer.mozilla.org/zh-CN/docs/web/javascript/reference/statements/export">https://developer.mozilla.org/zh-CN/docs/web/javascript/reference/statements/export</a> </p>
<p><a href="https://zh-hans.react.dev/learn/importing-and-exporting-components">https://zh-hans.react.dev/learn/importing-and-exporting-components</a> </p>
<p>组件的导出方式决定了其导入方式。默认导出和具名导出。</p>
<table>
<thead>
<tr>
<th style="text-align: left;">语法</th>
<th style="text-align: left;">导出语句</th>
<th style="text-align: left;">导入语句</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">导出默认组件</td>
<td style="text-align: left;">export default function Button() {}</td>
<td style="text-align: left;">import Button from './Button.js';</td>
</tr>
<tr>
<td style="text-align: left;">导出具名组件</td>
<td style="text-align: left;">export function Button() {}</td>
<td style="text-align: left;">import { Button } from './Button.js';</td>
</tr>
</tbody>
</table>
<h2 id="0262">0262 字符串的编码格式有哪些<a class="headerlink" href="#0262" title="Permanent link">&para;</a></h2>
<h3 id="_1">字符编码问题<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>常见字符串的编码格式：ASCII 码，Unicode，UTF-8 编码，GB2312 编码，这几个的区别</p>
<p>前端和编码相关的函数：escape() encodeURI() encodeURIComponent() 和对应的三个解密函数，区别和适应情况</p>
<p>四种类型编码简单理解：</p>
<p>- ASCII 码是最早的英文和控制码对应的编码，0-127，需要记住大写A-Za-z对应的编码范围(065到090，097到122) 不支持中文</p>
<p>- Unicode：因为 ASCII 无法表示各种编码，所以出现了 Unicode，大概有几万，可以代表世界上很多的语言表情符号等等，有对应的官方介绍全部的编码，也有不少的标准</p>
<p>- UTF-8：是 Unicode 的一个类似子集，也有 UTF-16 UTF-32 等编码。文件声明部分会写 coding=utf-8</p>
<p>- GB2313 是简体字的编码，还有繁体字等等，前端使用不多</p>
<p>前端三个字符串转换函数和加密函数：因为浏览器 URL 中不允许某些特殊符号，所以需要把特殊符号转换成编码，例如 ; 等</p>
<p>根据 MDN 介绍和知乎高赞总结：</p>
<p>- escape 转义字符串，不推荐使用，未来可能废弃</p>
<p>- encodeURI 转义特殊字符串（不转换某些符号，例如 http:// 不转换）</p>
<p>- encodeURIComponennt 转义特殊字符串（特殊符号全部转换，例如 http:// 会转换）</p>
<p>- 具体使用：我们在发送请求时，URL 中可能有参数含有特殊符号（例如文件名用户名等用户输入）需要使用 encodeURIComponent 转义，然后拼接成 URL</p>
<p><a href="https://www.zhihu.com/question/21861899">https://www.zhihu.com/question/21861899</a> </p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/escape">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/escape</a> </p>
<p><a href="https://www.cnblogs.com/luckyuns/p/6396701.html">https://www.cnblogs.com/luckyuns/p/6396701.html</a> </p>
<p><a href="https://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html">https://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html</a> </p>
<h2 id="0265-es6">0265 es6 中扩展字符串，深拷贝还是浅拷贝<a class="headerlink" href="#0265-es6" title="Permanent link">&para;</a></h2>
<p>扩展运算符可以复制数组或者对象。</p>
<p>如果数组的每一项是引用类型，那么不会深复制，只会复制指向数组的指针。所以不能使用扩展运算符对数组或者对象进行深拷贝（深拷贝数组使用 deepcopy）。</p>
<h2 id="0268-json">0268 JSON 的格式和方法<a class="headerlink" href="#0268-json" title="Permanent link">&para;</a></h2>
<p>JSON 的三种格式</p>
<p>1 普通的数值、字符串、布尔值（很少使用）</p>
<p>2 对象（双引号，最后一个键值对不能加逗号）</p>
<p>3 数组（数组每一项可以是简单或者复杂的数据结构）</p>
<p>常用方法：</p>
<p>JSON.parse 把 JSON 转换成 JS</p>
<p>JSON.stringify 把 JS 数据类型转换成 JSON（字符串）</p>
<div class="highlight"><pre><span></span><code><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">5</span><span class="p">]);</span>

<span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">&#39;[1,2,3,4,5]&#39;</span><span class="p">);</span>
</code></pre></div>
<p>注意，JSON.parse 需要 try-catch 避免数据格式错误</p>
<h2 id="0269">0269 搜索框中英文搜索<a class="headerlink" href="#0269" title="Permanent link">&para;</a></h2>
<p>使用下面的函数，根据字符串的 unicode，判断是字母，符号，还是汉字，然后返回实际占用的字节个数。</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 获取字符串实际占用的字节长度</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">getValueLength</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">str</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">code</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">str</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">code</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">str</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">code</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">//solve enter problem</span>
<span class="w">      </span><span class="nx">len</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mf">2</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">code</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mh">0x007f</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">len</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">code</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mh">0x0080</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">code</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">0x07ff</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">len</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mf">2</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="c1">// 汉字 unicode 9968到40869</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">code</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mh">0x0800</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">code</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">0xffff</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">len</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mf">3</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">len</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div>
<p>统一码（Unicode），包括字符集、编码方案等，它为每种语言中的每个字符设定了统一并且唯一的二进制编码，以满足跨语言、跨平台进行文本转换、处理的要求。</p>
<h2 id="0271-onchange">0271 中文输入法 onChange 事件处理<a class="headerlink" href="#0271-onchange" title="Permanent link">&para;</a></h2>
<p>问题：输入中文时，会频繁触发 onChange 事件，如果每次事件都触发 API，性能很差</p>
<p>需求：连续输入中文过程中，不处理；完成输入后，处理</p>
<p>使用 compositionStart 和 compositionEnd 事件，处理中文输入的开始和结束</p>
<p>注意 Chrome 浏览器的兼容性问题</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">isComposition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">isChrome</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;Chrome&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">handleComposition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;compositionend&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">isComposition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">isChrome</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">handleChange</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">isComposition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">handleChange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">isComposition</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">inputValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">inputValue</span><span class="p">)</span><span class="w"> </span><span class="c1">// send API request</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">input</span>
<span class="w">      </span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
<span class="w">      </span><span class="nx">onCompositionStart</span><span class="o">=</span><span class="p">{</span><span class="nx">handleComposition</span><span class="p">}</span>
<span class="w">      </span><span class="nx">onCompositionEnd</span><span class="o">=</span><span class="p">{</span><span class="nx">handleComposition</span><span class="p">}</span>
<span class="w">      </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">handleChange</span><span class="p">}</span>
<span class="w">    </span><span class="o">/&gt;</span>
<span class="w">  </span><span class="p">)</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Input</span>
</code></pre></div>
<p>参考链接：<a href="https://blog.csdn.net/xjun0812/article/details/128440372">https://blog.csdn.net/xjun0812/article/details/128440372</a></p>
<h2 id="0307-js">0307 JS 数据类型<a class="headerlink" href="#0307-js" title="Permanent link">&para;</a></h2>
<p>基本类型：Number、Boolean、String、null、undefined</p>
<p>引用类型：Object，对象子类型（Array，Function）</p>
<p>symbol（ES6 新增的）: 表示独一无二的值，主要用于对象的属性，避免属性冲突，避免魔法字符串。</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Symbol</span><span class="p">();</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">10</span><span class="p">;</span>
</code></pre></div>
<p>BigInt（ES2020） 它提供了一种方法来表示大于 <code>2^53 - 1</code> 的整数，详见另一个知识点</p>
<p>参考链接</p>
<p><a href="https://juejin.im/post/5b2b0a6051882574de4f3d96">https://juejin.im/post/5b2b0a6051882574de4f3d96</a></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures</a></p>
<h2 id="0327-bigint">0327 BigInt 是什么？<a class="headerlink" href="#0327-bigint" title="Permanent link">&para;</a></h2>
<p>BigInt（ES2020） 它提供了一种方法来表示大于 <code>2^53 - 1</code> 的整数（大于 9007 1992 5474 0991）</p>
<p>可以用在一个整数字面量后面加 <code>n</code> 的方式定义一个 <code>BigInt</code> ，如：<code>10n</code>，或者调用函数 <code>BigInt()</code>（但不包含 <code>new</code> 运算符）并传递一个整数值或字符串值。</p>
<div class="highlight"><pre><span></span><code><span class="ow">typeof</span><span class="w"> </span><span class="mi">1n</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;bigint&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// true</span>
<span class="ow">typeof</span><span class="w"> </span><span class="nb">BigInt</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;bigint&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// true</span>
</code></pre></div>
<p>BigInt 在某些方面类似于 Number ，但是也有几个关键的不同点：不能用于 Math 对象中的方法；不能和任何 Number 实例混合运算，两者必须转换成同一种类型。</p>
<p>在两种类型来回转换时要小心，因为 <code>BigInt</code> 变量在转换成 Number 变量时可能会丢失精度。</p>
<p>参考链接</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Glossary/BigInt">https://developer.mozilla.org/zh-CN/docs/Glossary/BigInt</a></p>
<p>实际项目还没有用到这么大的数字</p>
<h2 id="0309-js-asyncdefer">0309 js 加载时 async、defer 的区别<a class="headerlink" href="#0309-js-asyncdefer" title="Permanent link">&para;</a></h2>
<p>如果依赖其他脚本和 DOM 结果，使用 defer，先下载完所有defer再依次执行</p>
<p>如果与 DOM 和其他脚本依赖不强时，使用 async，先下载完先执行</p>
<p><a href="https://mp.weixin.qq.com/s/pw5lfFeNagmjFj45ygl2dQ">https://mp.weixin.qq.com/s/pw5lfFeNagmjFj45ygl2dQ</a> </p>
<p><a href="https://zhuanlan.zhihu.com/p/622763093">https://zhuanlan.zhihu.com/p/622763093</a> </p>
<h2 id="0310">0310 如何判断一个对象是不是空对象<a class="headerlink" href="#0310" title="Permanent link">&para;</a></h2>
<p>判断对象是否为空</p>
<div class="highlight"><pre><span></span><code><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">obj</span><span class="p">).</span><span class="nx">length</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1">// jquery</span>

<span class="cm">/**</span>
<span class="cm"> * Check whether the object is empty.</span>
<span class="cm"> * The true will be returned if the &quot;obj&quot; is invalid.</span>
<span class="cm"> * @param {object} obj</span>
<span class="cm"> * @returns bool</span>
<span class="cm"> */</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">isEmptyObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">name</span><span class="p">;</span>
<span class="w">  </span><span class="c1">// eslint-disable-next-line</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nx">name</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">obj</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div>
<h2 id="0311">0311 怎么加事件监听<a class="headerlink" href="#0311" title="Permanent link">&para;</a></h2>
<p>onclick 和 addEventListener 对比</p>
<h2 id="0312">0312 原型链和原型链的继承<a class="headerlink" href="#0312" title="Permanent link">&para;</a></h2>
<p>标准答案</p>
<p>什么是原型链：当对象查找一个属性的时候，如果没有在自身属性中找到，那么就会查找自身的原型，如果原型还没有找到，那么会继续查找原型的原型，直到找到 Object.prototype 的原型时，此时原型为 null，查找停止。 这种通过原型链接的逐级向上的查找链，被称为原型链。</p>
<p>什么是原型继承：一个对象可以使用另外一个对象的属性或者方法，就称之为继承。具体是通过将这个对象的原型设置为另外一个对象，这样根据原型链的规则，如果查找一个对象属性且在自身不存在时，就会查找另外一个对象，相当于一个对象可以使用另外一个对象的属性和方法了。</p>
<p>实际案例，class App extents React.Component 这样 APP 对象可以使用 Component 原型链的属性和方法</p>
<p><a href="https://zhuanlan.zhihu.com/p/35790971">https://zhuanlan.zhihu.com/p/35790971</a> </p>
<p>其他补充：</p>
<p>所有普通的 [[Prototype]] 链最终都会指向内置的 Object.prototype，其包含了 JavaScript 中许多通用的功能</p>
<p>为什么能创建 “类”，借助一种特殊的属性：所有的函数默认都会拥有一个名为 prototype 的共有且不可枚举的属性，它会指向另外一个对象，这个对象通常被称为函数的原型</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">Person</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">Person</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="kr">constructor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Person</span><span class="p">;</span>
</code></pre></div>
<p>- 在发生 new 构造函数调用时，会将创建的新对象的 [[Prototype]] 链接到 Person.prototype 指向的对象，这个机制就被称为原型链继承</p>
<p>- 方法定义在原型上，属性定义在构造函数上</p>
<p>- 首先要说一下 JS 原型和实例的关系：每个构造函数 （constructor）都有一个原型对象（prototype），这个原型对象包含一个指向此构造函数的指针属性，通过 new 进行构造函数调用生成的实例，此实例包含一个指向原型对象的指针，也就是通过 [[Prototype]] 链接到了这个原型对象</p>
<p>- 然后说一下 JS 中属性的查找：当我们试图引用实例对象的某个属性时，首先查找实例对象上是否有这个属性，如果没有找到，就去构造这个实例对象的构造函数的 prototype 所指向的对象上去查找，如果还找不到，就从这个 prototype 对象所指向的构造函数的 prototype 原型对象上去查找</p>
<p>- 什么是原型链：这样逐级查找形似一个链条，且通过 [[Prototype]] 属性链接，所以被称为原型链</p>
<p>- 什么是原型链继承，类比类的继承：当有两个构造函数 A 和 B，将一个构造函数 A 的原型对象的，通过其 [[Prototype]] 属性链接到另外一个 B 构造函数的原型对象时，这个过程被称之为原型继承。</p>
<h2 id="0313-api">0313 数组常用 API<a class="headerlink" href="#0313-api" title="Permanent link">&para;</a></h2>
<p>基础知识点</p>
<div class="highlight"><pre><span></span><code>push

pop

splice

slice

shift

unshift

sort

find

findIndex

forEach

map

filter

reduce

toString

valudOf

includes

indexOf

lastIndexOf

some

any

every
</code></pre></div>
<h2 id="0314">0314 变量提升<a class="headerlink" href="#0314" title="Permanent link">&para;</a></h2>
<p>函数在运行的时候，会首先创建执行上下文，然后将执行上下文入栈，然后当此执行上下文处于栈顶时，开始运行执行上下文。</p>
<p>在创建执行上下文的过程中会做三件事：创建变量对象，创建作用域链，确定 this 指向</p>
<p>其中创建变量对象的过程中，首先会为 arguments 创建一个属性，值为 arguments，然后会扫码 function 函数声明，创建一个同名属性，值为函数的引用，接着会扫码 var 变量声明，创建一个同名属性，值为 undefined，这就是变量提升</p>
<h2 id="0321">0321 快速的让一个数组乱序<a class="headerlink" href="#0321" title="Permanent link">&para;</a></h2>
<p>乱序数组（伪随机排序）</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">5</span><span class="p">,</span><span class="mf">6</span><span class="p">,</span><span class="mf">7</span><span class="p">,</span><span class="mf">8</span><span class="p">,</span><span class="mf">9</span><span class="p">,</span><span class="mf">10</span><span class="p">].</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">0.5</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
<p>​</p>
<h2 id="0382-urlsearchparams">0382 URLSearchParams 是什么<a class="headerlink" href="#0382-urlsearchparams" title="Permanent link">&para;</a></h2>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/URLSearchParams">https://developer.mozilla.org/zh-CN/docs/Web/API/URLSearchParams</a> </p>
<p>URLSearchParams 是 JS 内置对象</p>
<p>可以取代 qs 第三方库，管理查询字符串</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span><span class="w"> </span><span class="nx">paramsString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;q=URLUtils.searchParams&amp;topic=api&quot;</span><span class="p">;</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">searchParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">URLSearchParams</span><span class="p">(</span><span class="nx">paramsString</span><span class="p">);</span>

<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">p</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">searchParams</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">searchParams</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="s2">&quot;topic&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w"> </span><span class="c1">// true</span>
<span class="nx">searchParams</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;topic&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;api&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// true</span>
<span class="nx">searchParams</span><span class="p">.</span><span class="nx">getAll</span><span class="p">(</span><span class="s2">&quot;topic&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// [&quot;api&quot;]</span>
<span class="nx">searchParams</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w"> </span><span class="c1">// true</span>

<span class="nx">searchParams</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;topic&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;webdev&quot;</span><span class="p">);</span>
<span class="nx">searchParams</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;q=URLUtils.searchParams&amp;topic=api&amp;topic=webdev&quot;</span>

<span class="nx">searchParams</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;topic&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;More webdev&quot;</span><span class="p">);</span>
<span class="nx">searchParams</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;q=URLUtils.searchParams&amp;topic=More+webdev&quot;</span>

<span class="nx">searchParams</span><span class="p">.</span><span class="ow">delete</span><span class="p">(</span><span class="s2">&quot;topic&quot;</span><span class="p">);</span>
<span class="nx">searchParams</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span><span class="w"> </span><span class="c1">// &quot;q=URLUtils.searchParams&quot;</span>
</code></pre></div>
<h2 id="0386">0386 如何判断一个对象或者数组是空<a class="headerlink" href="#0386" title="Permanent link">&para;</a></h2>
<p>判断对象是否为空</p>
<div class="highlight"><pre><span></span><code><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">obj</span><span class="p">).</span><span class="nx">length</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>

<span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">obj</span><span class="p">).</span><span class="nx">length</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">2</span><span class="p">;</span>
</code></pre></div>
<p>判断数组是否为空，直接判断长度即可（已知参数必须为数组的前提）</p>
<h2 id="0391-eventistrusted">0391 Event.isTrusted 是什么<a class="headerlink" href="#0391-eventistrusted" title="Permanent link">&para;</a></h2>
<p>Event 接口的 <strong>isTrusted</strong> 属性是一个只读属性，它是一个布尔值。</p>
<p>当事件是由用户真实行为生成的时候，这个属性的值为 <code>true</code> </p>
<p>而当事件是由脚本创建、修改、通过 EventTarget.dispatchEvent() 派发的时候，这个属性的值为 <code>false</code> 。</p>
<h2 id="0393-dbclick-ios">0393 dbClick 不支持 IOS 设备怎么办<a class="headerlink" href="#0393-dbclick-ios" title="Permanent link">&para;</a></h2>
<p>iOS 兼容性问题，不支持 dbClick 事件，可以用两次单击事件模拟双击事件。</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="nx">onMobileDoubleClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 清空之前的定时器（200内点击，清空第一次的定时器）</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">timer</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">clearTimeout</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">timer</span><span class="p">);</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// 如果是JS模拟事件，直接返回</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">isTrusted</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// 获取当前点击的坐标</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">pageX</span><span class="p">,</span><span class="w"> </span><span class="nx">pageY</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">event</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// 如果已经点了一次（等待第二次点击）</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isWaitingForDoubleClick</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">isWaitingForDoubleClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">      </span><span class="c1">// 判断前后两次点击的位置，如果点击同一个位置，就认为是双击</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">diffX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">pageX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">prevPosition</span><span class="p">.</span><span class="nx">x</span><span class="p">);</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">diffY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">pageY</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">prevPosition</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">diffX</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">5</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">diffY</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">onCellDoubleClick</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// 如果刚开始点击，记录下第一次的位置</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">prevPosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="nx">pageX</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="w"> </span><span class="nx">pageY</span><span class="w"> </span><span class="p">};</span>
<span class="w">      </span><span class="nx">event</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">();</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">isWaitingForDoubleClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>

<span class="w">      </span><span class="c1">// 如果 200ms 内没有再次点击，那么清空第一次的点击事件，就认为是单击</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">isWaitingForDoubleClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">      </span><span class="p">},</span><span class="w"> </span><span class="mf">200</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
</code></pre></div>
<h2 id="0411-setselectionrange">0411 setSelectionRange<a class="headerlink" href="#0411-setselectionrange" title="Permanent link">&para;</a></h2>
<p>setSelectionRange 可以从一个被 focused 的 input 元素中，选中特定范围的内容。</p>
<p>例如下面选中 input 中的第2-5个字符</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="p">.</span><span class="nx">setSelectionRange</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">5</span><span class="p">);</span>
</code></pre></div>
<p>​</p>
<h2 id="0420">0420 判断对象的某个属性是否存在<a class="headerlink" href="#0420" title="Permanent link">&para;</a></h2>
<p>如果给定一个对象 obj，判断某个属性 name 是否存在?</p>
<p>方法1 直接获取对象的属性是否为空</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">obj</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">];</span>

<span class="c1">// 但是复杂的值需要处理</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">value</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;不存在&#39;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>方法2 Object.prototype.hasOwnProperty.call 判断某个属性是否存在</p>
<p>避免判断对象中的值是 null undefined, 0 false ‘’ 这几种情况</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">a</span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">c</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nx">d</span><span class="o">:</span><span class="w"> </span><span class="kc">undefined</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="p">};</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;name&#39;</span><span class="p">);</span>
</code></pre></div>
<p>如果是简单对象使用方法1，如果复杂对象使用方法2更好</p>
<h2 id="0429">0429 正则表达式怎么使用<a class="headerlink" href="#0429" title="Permanent link">&para;</a></h2>
<p>开始符号，结束符号 ^$</p>
<p>通配符 ？.</p>
<p>[0-9][a-z][A-Z] 匹配等</p>
<p>正则表达式，这里循序渐进给出几个题目：<a href="https://regexone.com/lesson/repeating_characters">https://regexone.com/lesson/repeating_characters</a></p>
<p>正则表达式查询：<a href="https://regexr.com/">https://regexr.com/</a></p>
<p>如何避免正则表达式报错？</p>
<p>使用构造函数，创建正则表达式，如果传参有特殊符号，可能报错 ’invalid-regular-expression‘</p>
<p>解决：先把字符串中的特殊符号转义，然后创建正则表达式</p>
<div class="highlight"><pre><span></span><code><span class="c1">// The special symbols should not be used as wildcards in regular expressions, need to be escaped into normal symbols</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">escapeRegExp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">typeof</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">value</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[.\\[\]{}()|^$?*+]/g</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;\\$&amp;&#39;</span><span class="p">);</span>
<span class="p">};</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;[]&#39;</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">reg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">RegExp</span><span class="p">(</span><span class="nx">escapeRegExp</span><span class="p">(</span><span class="nx">value</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;ig&#39;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">reg</span><span class="p">);</span><span class="w"> </span><span class="c1">// /\[\]/gi</span>
</code></pre></div>
<p>​</p>
<p>​</p>
<h2 id="0443-api">0443 字符串正则表达式相关 API<a class="headerlink" href="#0443-api" title="Permanent link">&para;</a></h2>
<p>获取一个字符串中满足条件的全部子字符串（exec） reg.exec(str) 这里的 reg 需要先设置好，不需要每次新建</p>
<p>如果有满足的结果，那么继续循环查看下一个；否则返回 null</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;我今年25岁明年26岁后年27岁前年24岁&quot;</span><span class="p">;</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">reg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/\d+/g</span><span class="p">;</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">tmp</span><span class="p">;</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nx">tmp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">reg</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">str</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tmp</span><span class="p">[</span><span class="mf">0</span><span class="p">])</span>
<span class="p">}</span>
</code></pre></div>
<p>一共有6种方法（看字符串中是否有指定的子字符串）具体看另一篇笔记（判断字符串中是否包含某个字符串）</p>
<ul>
<li>
<p>str.indexOf() return index</p>
</li>
<li>
<p>str.includes() return boolean</p>
</li>
<li>
<p>str.search(str) return index</p>
</li>
<li>
<p>str.match(str) return array or null</p>
</li>
<li>
<p>reg.test(str) return boolean</p>
</li>
<li>
<p>reg.exec(str) return array or null</p>
</li>
</ul>
<h4 id="6-api">字符串查找的 6 个 API<a class="headerlink" href="#6-api" title="Permanent link">&para;</a></h4>
<p>indexOf / lastIndexOf 返回满足的第一个或者最后一个的索引，未找到返回 -1</p>
<div class="highlight"><pre><span></span><code><span class="c1">// str.indexOf(str) === number</span>
<span class="s1">&#39;Hello&#39;</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;e&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">1</span>
<span class="s1">&#39;Hello&#39;</span><span class="p">.</span><span class="nx">lastIndexOf</span><span class="p">(</span><span class="s1">&#39;l&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">3</span>
</code></pre></div>
<p>includes 返回布尔值</p>
<div class="highlight"><pre><span></span><code><span class="c1">// str.includes(str) === bool</span>
<span class="s1">&#39;Hello&#39;</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s1">&#39;lo&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="kc">true</span>
</code></pre></div>
<p>str.search(str | regexp) 返回满足条件的字符的索引</p>
<div class="highlight"><pre><span></span><code><span class="c1">// str.search(str|reg) === number</span>
<span class="s1">&#39;Hello&#39;</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="s1">&#39;e&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">1</span>
<span class="s1">&#39;Hello&#39;</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="sr">/ll/</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">2</span>
</code></pre></div>
<p>str.match(str | regexp)</p>
<p>字符串和正则的返回值不同</p>
<div class="highlight"><pre><span></span><code><span class="s1">&#39;Helo Hello&#39;</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="s1">&#39;Hel&#39;</span><span class="p">)</span><span class="w"> </span>
<span class="c1">// [&#39;Hel&#39;, index: 0, input: &#39;Helo Hello&#39;, groups: undefined]</span>

<span class="s1">&#39;Helo Hello&#39;</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/HEL/ig</span><span class="p">)</span><span class="w"> </span>
<span class="c1">// [&#39;Hel&#39;, &#39;Hel&#39;]</span>
</code></pre></div>
<p>str.matchAll(str | reg) 注意：返回值是一个迭代器，可以使用for…of…，扩展符(…)或Array.from() 处理</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;hello javascript hello css&#39;</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="kr">from</span><span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">matchAll</span><span class="p">(</span><span class="sr">/hello/g</span><span class="p">)));</span>
<span class="c1">// [&#39;hello&#39;, index: 0, input: &#39;hello javascript hello css&#39;, groups: undefined],</span>
<span class="c1">// [&#39;hello&#39;, index: 17, input: &#39;hello javascript hello css&#39;, groups: undefined],</span>
</code></pre></div>
<p>regexp.test(str)</p>
<div class="highlight"><pre><span></span><code><span class="sr">/hel/ig</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="kc">true</span>
</code></pre></div>
<p>regexp.exec(str)</p>
<div class="highlight"><pre><span></span><code><span class="sr">/hel/ig</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;Hel&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">index</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">input</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Hello&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">groups</span><span class="o">:</span><span class="w"> </span><span class="kc">undefined</span><span class="p">]</span>
</code></pre></div>
<p>小结：</p>
<ul>
<li>
<p>indexOf lastIndexOf includes 是一组，字符串中找另一个字符串</p>
</li>
<li>
<p>search match 是字符串的方法，可以传字符串或者正则，一个返回 index，一个返回具体的结果</p>
</li>
<li>
<p>test 和 exec 是正则表达式的方法，返回布尔值或者具体的结果</p>
</li>
<li>
<p>match 和 exec 返回值一致，参数和方法换位</p>
</li>
</ul>
<p>​</p>
<h2 id="0444-requestanimationframe">0444 动画性能 requestAnimationFrame<a class="headerlink" href="#0444-requestanimationframe" title="Permanent link">&para;</a></h2>
<p>为什么使用：默认的动画使用 setInterval 处理，然后浏览器渲染的频率是 60 次每秒，所以代码如下。</p>
<div class="highlight"><pre><span></span><code><span class="k">this</span><span class="p">.</span><span class="nx">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setInterval</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">fn</span><span class="p">();</span>
<span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">60</span><span class="p">);</span>

<span class="c1">// 停止动画</span>
<span class="nx">clearInterval</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">timer</span><span class="p">);</span>
</code></pre></div>
<p>这样写，JS 实际执行的间隔，和浏览器渲染重排的时间不一定完全吻合，性能可能不好。</p>
<p>所以我们引入了 requestAnimationFrame，这样可以让JS执行的时间和浏览器渲染的时间一致，性能增加。</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">fn</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// 动画逻辑 this.div.left = this.div.left + 10</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">time</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">2000</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">requestAnimationFrame</span><span class="p">(</span><span class="nx">fn</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// 两秒内，动画函数内部循环执行动画</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
<span class="nx">fn</span><span class="p">();</span>

<span class="c1">// 也可以外部强制关闭动画（键盘鼠标事件触发）</span>
<span class="nx">cancel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">cancelAnimationFrame</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">timer</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nx">startAnimation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">render</span><span class="p">();</span>
<span class="w">  </span><span class="nx">requestAnimFrame</span><span class="p">(</span><span class="nx">startAnimation</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>参考：</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/requestAnimationFrame">https://developer.mozilla.org/zh-CN/docs/Web/API/Window/requestAnimationFrame</a></p>
<p><a href="https://www.jianshu.com/p/fa5512dfb4f5">https://www.jianshu.com/p/fa5512dfb4f5</a></p>
<p><a href="http://www.ruanyifeng.com/blog/2015/09/web-page-performance-in-depth.html">http://www.ruanyifeng.com/blog/2015/09/web-page-performance-in-depth.html</a></p>
<p><a href="https://javascript.ruanyifeng.com/htmlapi/requestanimationframe.html">https://javascript.ruanyifeng.com/htmlapi/requestanimationframe.html</a></p>
<p>在某些老电脑上，requestAnimationFrame 是 60Hz 进行渲染，那么就是 16.67ms渲染一次，部分设备会卡，可以手动设置渲染时间。</p>
<p>参考：<a href="http://zhangchen915.com/index.php/archives/675/">http://zhangchen915.com/index.php/archives/675/</a> &#x20;</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nx">AnimationFrame</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">fps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">60</span><span class="p">,</span><span class="w"> </span><span class="nx">animate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">requestID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">fps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fps</span><span class="p">;</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">animate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">animate</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">start</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">then</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1000</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">fps</span><span class="p">;</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">tolerance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.1</span><span class="p">;</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">animateLoop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">now</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">requestID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">requestAnimationFrame</span><span class="p">(</span><span class="nx">animateLoop</span><span class="p">);</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">delta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">now</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">then</span><span class="p">;</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">delta</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nx">interval</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">tolerance</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">then</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">now</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="nx">delta</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="nx">interval</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">animate</span><span class="p">(</span><span class="nx">delta</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">requestID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">requestAnimationFrame</span><span class="p">(</span><span class="nx">animateLoop</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">stop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">cancelAnimationFrame</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">requestID</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>​</p>
<h2 id="0445">0445 循环中异步函数<a class="headerlink" href="#0445" title="Permanent link">&para;</a></h2>
<p>循环 forEach map 中，如果有异步函数，需要异步函数的结果，怎么实现？</p>
<p>我们写一个node异步读取文件的例子，使用 async 的语法</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span><span class="w"> </span><span class="nx">fs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">readFile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">fileName</span><span class="p">){</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span><span class="w"> </span><span class="nx">reject</span><span class="p">){</span>
<span class="w">    </span><span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="nx">fileName</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">){</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">reject</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">resolve</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">};</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">asyncReadFile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(){</span>
<span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">f1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;/tmp/b.sh&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">f2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;/tmp/a.sh&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">f1</span><span class="p">.</span><span class="nx">toString</span><span class="p">(),</span><span class="w"> </span><span class="nx">f2</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
<span class="p">};</span>
</code></pre></div>
<p>循环中使用异步方式，有两种方法</p>
<p>第一个：改成 for 循环，内部使用 async await 实现——这个方式更好</p>
<div class="highlight"><pre><span></span><code><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">dbFuc</span><span class="p">(</span><span class="nx">db</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">docs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{},</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="p">{}];</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">doc</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">docs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">db</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">doc</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>第二种：使用 Promise.all 实现</p>
<div class="highlight"><pre><span></span><code><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">dbFuc</span><span class="p">(</span><span class="nx">db</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">docs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{},</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="p">{}];</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">promises</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">docs</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">doc</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">db</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">doc</span><span class="p">));</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span><span class="nx">promises</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// 或者使用下面的写法</span>
<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">dbFuc</span><span class="p">(</span><span class="nx">db</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">docs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{},</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="p">{}];</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">promises</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">docs</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">doc</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">db</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">doc</span><span class="p">));</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">promise</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">promises</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">await</span><span class="w"> </span><span class="nx">promise</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>参考链接：<a href="http://www.ruanyifeng.com/blog/2015/05/async.html">http://www.ruanyifeng.com/blog/2015/05/async.html</a></p>
<h2 id="0449-lodash">0449 lodash 作用和使用场景<a class="headerlink" href="#0449-lodash" title="Permanent link">&para;</a></h2>
<p>lodash 的主要目的是封装了对象和数组的一些方法，主要功能和原生方法一致。</p>
<p>类似于 Jquery 操作 DOM，lodash 操作 object array，主要适应于 ES3 的代码。</p>
<p>在 ES6 中，API已经实现了很多方法，一般不需要用 jquery，太重了。</p>
<p>项目中使用了 throttle 节流函数，deepcopy 深复制对象，求数组的差集，数组均分等操作。</p>
<h2 id="0450-stringify">0450 stringify 函数<a class="headerlink" href="#0450-stringify" title="Permanent link">&para;</a></h2>
<p>作用：把JS对象或者数组，转换成字符串格式</p>
<p>参数：</p>
<p>value是必选参数，表示需要转换的对象或者数组；</p>
<p>replacer 是可选参数，表示把对象转换成JSON的转换函数，可以选择null；</p>
<p>space 表示JSON的缩进或者空格（数字表示空格数量，或者非数字\t）</p>
<div class="highlight"><pre><span></span><code><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">value</span><span class="p">[,</span><span class="w"> </span><span class="nx">replacer</span><span class="p">[,</span><span class="w"> </span><span class="nx">space</span><span class="p">]])</span>
</code></pre></div>
<p>​</p>
<h2 id="0455">0455 转换欧洲数字格式设置<a class="headerlink" href="#0455" title="Permanent link">&para;</a></h2>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat" title="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat</a></p>
<div class="highlight"><pre><span></span><code><span class="nb">Intl</span><span class="p">.</span><span class="nx">NumberFormat</span><span class="p">(</span><span class="nx">locale</span><span class="p">,</span><span class="w"> </span><span class="nx">option</span><span class="p">).</span><span class="nx">format</span><span class="p">(</span><span class="mf">10000</span><span class="p">);</span>
</code></pre></div>
<p>这个内置方法，可以把一个数字转换成不同格式的货币，分隔符，单位，有效数字等。</p>
<p>第一个参数是 locale 语言，例如传入德国，那么小数点和逗号是相反的设置。</p>
<p>第二个参数是 option 可选参数，配置对象。对象的属性有 style currency unit 可以设置货币数字分隔符等。</p>
<p>实际案例：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">123456.789</span><span class="p">;</span>

<span class="c1">// 货币格式</span>
<span class="ow">new</span><span class="w"> </span><span class="nb">Intl</span><span class="p">.</span><span class="nx">NumberFormat</span><span class="p">(</span><span class="s2">&quot;de-DE&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;currency&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">currency</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;EUR&quot;</span><span class="w"> </span><span class="p">}).</span><span class="nx">format</span><span class="p">(</span><span class="nx">number</span><span class="p">);</span>
<span class="c1">// 123.456,79 €</span>

<span class="c1">// 日元不使用小数</span>
<span class="ow">new</span><span class="w"> </span><span class="nb">Intl</span><span class="p">.</span><span class="nx">NumberFormat</span><span class="p">(</span><span class="s2">&quot;ja-JP&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;currency&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">currency</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;JPY&quot;</span><span class="w"> </span><span class="p">}).</span><span class="nx">format</span><span class="p">(</span><span class="nx">number</span><span class="p">,);</span>
<span class="c1">// ￥123,457</span>

<span class="c1">// 限制三位有效数字</span>
<span class="ow">new</span><span class="w"> </span><span class="nb">Intl</span><span class="p">.</span><span class="nx">NumberFormat</span><span class="p">(</span><span class="s2">&quot;en-IN&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">maximumSignificantDigits</span><span class="o">:</span><span class="w"> </span><span class="mf">3</span><span class="w"> </span><span class="p">}).</span><span class="nx">format</span><span class="p">(</span><span class="nx">number</span><span class="p">,);</span>
<span class="c1">// 1,23,000</span>

<span class="c1">// 带有单位的格式化</span>
<span class="ow">new</span><span class="w"> </span><span class="nb">Intl</span><span class="p">.</span><span class="nx">NumberFormat</span><span class="p">(</span><span class="s2">&quot;pt-PT&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;unit&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">unit</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;kilometer-per-hour&quot;</span><span class="p">,</span>
<span class="p">}).</span><span class="nx">format</span><span class="p">(</span><span class="mf">50</span><span class="p">);</span>
<span class="c1">// 50 km/h</span>

<span class="w">  </span><span class="p">(</span><span class="mf">16</span><span class="p">).</span><span class="nx">toLocaleString</span><span class="p">(</span><span class="s2">&quot;en-GB&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;unit&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">unit</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;liter&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">unitDisplay</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;long&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="p">}),</span>
<span class="c1">// 16 litres</span>
</code></pre></div>
<p>​</p>
<h2 id="0466-for-in-for-of">0466 For-in 和 for-of<a class="headerlink" href="#0466-for-in-for-of" title="Permanent link">&para;</a></h2>
<p>For-in 和 for-of 区别</p>
<p>官方文档：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...of">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...of</a></p>
<p>传统的 for 有局限，forEach 和 map 适应数组的循环，所以有了for in 和 for of 循环。</p>
<p>for...of... 循环：可以循环可枚举对象（数组，对象，Map， set， 伪数组，构造器等），循环获取内部元素，可以使用break跳出，不能循环可枚举对象原型链上的属性和方法。</p>
<p>for...in... 可以对象（对象、数组、函数）（包括原型链上的属性），使用前需要注意</p>
<p>结论：遍历数组优先使用 for forEach map 处理，遍历对象优先使用 for...of... 获取对象的属性</p>
<p>hasOwnProperty 可以过滤掉原型链上的属性。</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="nx">key</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">person</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">person</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">key</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">person</span><span class="p">[</span><span class="nx">key</span><span class="p">]);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>参考：<a href="https://blog.csdn.net/tyxjolin/article/details/130091368" title="https://blog.csdn.net/tyxjolin/article/details/130091368">https://blog.csdn.net/tyxjolin/article/details/130091368</a></p>
<h2 id="0476-web-worker">0476 web worker 多线程<a class="headerlink" href="#0476-web-worker" title="Permanent link">&para;</a></h2>
<p>参考这里：<a href="https://juejin.cn/post/7139718200177983524">https://juejin.cn/post/7139718200177983524</a></p>
<h4 id="_2">原生语法实现<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h4>
<p>src/app.js</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">myWorker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Worker</span><span class="p">(</span><span class="s1">&#39;./worker.js&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="nx">myWorker</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="c1">// 给 worker 传递一个较大的数值，用于计算</span>
<span class="w">  </span><span class="nx">myWorker</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">(</span><span class="nx">table</span><span class="p">);</span>
</code></pre></div>
<p>打包后放到 static/bundle.js 目录中</p>
<p>然后 static/worker.js 代码如下</p>
<div class="highlight"><pre><span></span><code><span class="nx">self</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">self</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">(</span><span class="s1">&#39;workder is starting&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// 模拟大运算量（对象转换）</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">time</span><span class="p">();</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">resultArr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">10000</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">resultArr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">table</span><span class="p">))))</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">timeEnd</span><span class="p">();</span>

<span class="w">  </span><span class="nx">self</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">(</span><span class="s1">&#39;workder is ending&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>可以通过浏览器看到实际的计算过程。</p>
<p>注意1：这里 app.js 和 worker.js 是单独打包后到 static 目录下面，打包后的代码互相引用才行，打包前不能直接引用（不能直接放在 src 目录下，否则提示错误）</p>
<p>注意2：只能在浏览器中使用，Node 中不支持会报错，ReferenceError: Worker is not defined</p>
<h4 id="comlink">第三方库 comlink 实现<a class="headerlink" href="#comlink" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/GoogleChromeLabs/comlink" title="https://github.com/GoogleChromeLabs/comlink">https://github.com/GoogleChromeLabs/comlink</a></p>
<h4 id="react-webpack">集成到 react-webpack 开发环境<a class="headerlink" href="#react-webpack" title="Permanent link">&para;</a></h4>
<p>webpack 4和更早的版本，需要 webpack 对应的 worker-loader 实现。webpack5 版本已经不需要 worker-loader，直接使用即可，编译后也正常使用，示例代码如下（self eslint 会报错，不能使用全局变量，忽略这个报错即可）</p>
<p>参考：<a href="https://webpack.js.org/guides/web-workers/" title="https://webpack.js.org/guides/web-workers/">https://webpack.js.org/guides/web-workers/</a></p>
<p>index.js</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">worker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Worker</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nx">URL</span><span class="p">(</span><span class="s1">&#39;./deep-thought.js&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">url</span><span class="p">));</span>

<span class="nx">worker</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span><span class="w"> </span><span class="nx">question</span><span class="w"> </span><span class="p">});</span>

<span class="nx">worker</span><span class="p">.</span><span class="nx">onmessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">answer</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">answer</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
<p>deep-thought.js</p>
<div class="highlight"><pre><span></span><code><span class="nx">self</span><span class="p">.</span><span class="nx">onmessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">question</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">self</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
<span class="w">    </span><span class="nx">answer</span><span class="o">:</span><span class="w"> </span><span class="mf">42</span><span class="p">,</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">};</span>
</code></pre></div>
<p>在浏览器控制条中，可以看到主线程和工作线程的执行情况（下面模拟大量运算）</p>
<p><img alt="" src="https://cloud.seatable.cn/workspace/32/asset/e82c7317-556e-45c4-8b5d-092331cd8977/images/auto-upload/image-1720078532322.png" /></p>
<p>注：import.meta 是全局变量，给 JavaScript 模块暴露特定上下文的元数据属性的对象</p>
<p>参考MDN <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/import.meta" title="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/import.meta">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/import.meta</a></p>
<h2 id="0658">0658 鼠标双击事件<a class="headerlink" href="#0658" title="Permanent link">&para;</a></h2>
<p>前端监听鼠标双击事件，有的同事监听两次 onClick 事件，计算点击的间隔，判断是否是双击，实际上没有必要。</p>
<p>原生 JS 中，参考 MDN，dblclick 直接可以获取事件对象</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/MouseEvent" title="https://developer.mozilla.org/zh-CN/docs/Web/API/MouseEvent">https://developer.mozilla.org/zh-CN/docs/Web/API/MouseEvent</a></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/dblclick_event" title="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/dblclick_event">https://developer.mozilla.org/zh-CN/docs/Web/API/Element/dblclick_event</a></p>
<div class="highlight"><pre><span></span><code><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;buttonId&#39;</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;dblclick&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;双击按钮&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>React 中，可以获取合成事件 onDoubleClick</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">onDoubleClick</span><span class="o">=</span><span class="s">{handleDoubleClick}</span><span class="p">&gt;</span>Double click me!<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p>备注：</p>
<p>双击事件不生效可能的问题：如果某个DOM上同时绑定了单击事件和双击事件，那么可能存在影响，造成双击事件无法生效。不同操作系统和浏览器，对双击的间隔灵敏度，双击前单击的次数处理不一样，可能造成不一致，所以不建议同一个元素同时监听单击和双击事件。详见：</p>
<p>One more suggested read is jQuery's <a href="https://api.jquery.com/dblclick/">dblclick handler</a>:</p>
<blockquote>
<p>It is inadvisable to bind handlers to both the click and dblclick events for the same element. The sequence of events triggered varies from browser to browser, with some receiving two click events before the dblclick and others only one. Double-click sensitivity (maximum time between clicks that is detected as a double click) can vary by operating system and browser, and is often user-configurable.</p>
</blockquote>
<p><a href="https://stackoverflow.com/questions/25777826/onclick-works-but-ondoubleclick-is-ignored-on-react-component" title="https://stackoverflow.com/questions/25777826/onclick-works-but-ondoubleclick-is-ignored-on-react-component">https://stackoverflow.com/questions/25777826/onclick-works-but-ondoubleclick-is-ignored-on-react-component</a></p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">April 24, 2025</span>
  </span>

    
    
    
      
  
  <span class="md-source-file__fact">
    <span class="md-icon" title="Contributors">
      
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 5.5A3.5 3.5 0 0 1 15.5 9a3.5 3.5 0 0 1-3.5 3.5A3.5 3.5 0 0 1 8.5 9 3.5 3.5 0 0 1 12 5.5M5 8c.56 0 1.08.15 1.53.42-.15 1.43.27 2.85 1.13 3.96C7.16 13.34 6.16 14 5 14a3 3 0 0 1-3-3 3 3 0 0 1 3-3m14 0a3 3 0 0 1 3 3 3 3 0 0 1-3 3c-1.16 0-2.16-.66-2.66-1.62a5.54 5.54 0 0 0 1.13-3.96c.45-.27.97-.42 1.53-.42M5.5 18.25c0-2.07 2.91-3.75 6.5-3.75s6.5 1.68 6.5 3.75V20h-13zM0 20v-1.5c0-1.39 1.89-2.56 4.45-2.9-.59.68-.95 1.62-.95 2.65V20zm24 0h-3.5v-1.75c0-1.03-.36-1.97-.95-2.65 2.56.34 4.45 1.51 4.45 2.9z"/></svg>
      
    </span>
    <nav>
      
        <a href="mailto:2331806369@qq.com">Michael An</a>, 
        <a href="mailto:1822852997@qq.com">Michael An</a>
    </nav>
  </span>

    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; Michael An
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../js/baidu-statistics.min.js"></script>
      
        <script src="../../js/history.min.js"></script>
      
    
  </body>
</html>