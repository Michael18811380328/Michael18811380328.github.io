
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Michael An">
      
      
        <link rel="canonical" href="https://michael18811380328.github.io/react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/">
      
      
        <link rel="prev" href="../%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/">
      
      
        <link rel="next" href="../%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>案例-React Testing Library 和 Jest 完成单元测试 - Michale An Blog</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#react-testing-library-jest" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Michale An Blog" class="md-header__button md-logo" aria-label="Michale An Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Michale An Blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              案例-React Testing Library 和 Jest 完成单元测试
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/Michael18811380328/Michael18811380328.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Michael18811380328/Michael18811380328.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Michale An Blog" class="md-nav__button md-logo" aria-label="Michale An Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Michale An Blog
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Michael18811380328/Michael18811380328.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Michael18811380328/Michael18811380328.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    index
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    new-third-part-lib
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            new-third-part-lib
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/%40excalidraw_excalidraw/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    @excalidraw_excalidraw
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/Bootstrap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bootstrap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/JS-Bridge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JS-Bridge
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/JSON%20Server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JSON Server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/JSzip/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JSzip
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/Leaflet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Leaflet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/Mocha/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mocha
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/React%20Image%20Lightbox/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React Image Lightbox
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/React-Sweet-Progress/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React-Sweet-Progress
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/Rxjs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rxjs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/Storybook/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storybook
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/ThreeJS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ThreeJS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/UUID-js/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UUID-js
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/YesPlayMusic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YesPlayMusic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/ant-design-vue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ant-design-vue
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/antd-mobile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    antd-mobile
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/arco-design-vue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    arco-design-vue
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/autoprefixer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    autoprefixer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/awesome-vue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    awesome-vue
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/axios/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    axios
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/babel-cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    babel-cli
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/babel-eslint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    babel-eslint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/babel-jest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    babel-jest
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/babel-loader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    babel-loader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/babel-plugin-named-asset-import/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    babel-plugin-named-asset-import
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/babel-preset-env/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    babel-preset-env
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/babel-preset-react-app/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    babel-preset-react-app
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/babel-preset-react/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    babel-preset-react
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/case-sensitive-paths-webpack-plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    case-sensitive-paths-webpack-plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/chartjs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chartjs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/classnames/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    classnames
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/clean-webpack-plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    clean-webpack-plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/connect-multiparty/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    connect-multiparty
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/copy-to-clipboard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    copy-to-clipboard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/crypto-js/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    crypto-js
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/css-loader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    css-loader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/csv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    csv
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/date-format/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    date-format
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/dayjs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dayjs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/debug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    debug
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/deep-copy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    deep-copy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/detect-character-encoding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    detect-character-encoding
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/dir/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dir
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/docxtemplater/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    docxtemplater
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/dom-helper/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dom-helper
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/dom-helpers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dom-helpers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/dotenv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dotenv
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/editor-js/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    editor-js
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/element-plus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    element-plus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/element-ui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    element-ui
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/enzyme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    enzyme
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/eslint-config-react-app/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    eslint-config-react-app
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/eslint-loader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    eslint-loader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/eslint-plugin-flowtype/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    eslint-plugin-flowtype
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/eslint-plugin-import/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    eslint-plugin-import
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/eslint-plugin-react/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    eslint-plugin-react
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/eslint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    eslint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/etcd3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    etcd3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/excalidraw/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    excalidraw
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/exif-js/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    exif-js
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/express-rate-limit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    express-rate-limit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/express/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    express
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/file-loader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    file-loader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/file-saver/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    file-saver
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/form-data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    form-data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/formik/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    formik
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/github-copilot-resources_copilot-metrics-viewer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    github-copilot-resources_copilot-metrics-viewer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/glamor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    glamor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/gojs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gojs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/html2canvas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    html2canvas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/http-server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    http-server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/i18next-browser-languagedetector/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    i18next-browser-languagedetector
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/i18next-xhr-backend/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    i18next-xhr-backend
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/i18next/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    i18next
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/iconv-lite/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    iconv-lite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/is-hotkey/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    is-hotkey
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/isScroll/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    isScroll
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/jest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jest
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/jison/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jison
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/jsonwebtoken/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jsonwebtoken
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/keymirror/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    keymirror
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/lerna/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lerna
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/lodash-throttle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lodash-throttle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/lodash/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lodash
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/log4js/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    log4js
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/luckysheet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    luckysheet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/mind-map/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mind-map
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/mockjs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mockjs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/moment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    moment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/mysql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mysql
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/number-precision/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    number-precision
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/parcel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    parcel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/postcss-loader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    postcss-loader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/postcss-normalize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    postcss-normalize
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/postcss-preset-env/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    postcss-preset-env
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/postcss-safe-parser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    postcss-safe-parser
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/promise/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    promise
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/puppeteer-print-pdf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    puppeteer-print-pdf
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/pure-admin_vue-pure-admin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pure-admin_vue-pure-admin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/quasar/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    quasar
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/raf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    raf
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/rc-calendar/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rc-calendar
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/react-cookies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react-cookies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/react-dnd-html5-backend/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react-dnd-html5-backend
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/react-dnd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react-dnd
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/react-i18next/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react-i18next
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/react-intl-universal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react-intl-universal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/react-is-deprecated/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react-is-deprecated
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/react-is/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react-is
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/reactstrap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    reactstrap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/redis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    redis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/request/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    request
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/reselect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    reselect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/resolve-url-loader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    resolve-url-loader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/resolve/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    resolve
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/response-time/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    response-time
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/resumablejs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    resumablejs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/ron-react-autocomplete/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ron-react-autocomplete
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/sass-loader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sass-loader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/semver/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    semver
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/shallow-equal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    shallow-equal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/shallowequal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    shallowequal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/simple-statistics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    simple-statistics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/slugid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    slugid
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/socket%20io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    socket io
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/socket-io-client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    socket-io-client
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/socket-io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    socket-io
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/socket.io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    socket.io
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/sortable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sortable
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/streamsaver/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    streamsaver
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/style-loader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    style-loader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/supertest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    supertest
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/terser-webpack-plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    terser-webpack-plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/thingsboard-ui-vue3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    thingsboard-ui-vue3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/throttle-lodash/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    throttle-lodash
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/tiny-vue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tiny-vue
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/ts-jest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ts-jest
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/ts-pnp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ts-pnp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/tui-image-editor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tui-image-editor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/uglyJS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    uglyJS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/url-loader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    url-loader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/uuid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    uuid
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/v-viewer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v-viewer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/vee-validate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vee-validate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/video-js/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    video-js
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/viewerjs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    viewerjs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/vite/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/vue-draggable-resizable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vue-draggable-resizable
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/vue-ruoyi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vue-ruoyi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/vue-virtual-scroller/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vue-virtual-scroller
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/vuecli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vuecli
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/vuepress/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vuepress
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/vuetify/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vuetify
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/vuex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vuex
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/vxe-table/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vxe-table
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/wangeditor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    wangeditor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/watermark/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    watermark
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/webpack-cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webpack-cli
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/webpack-dev-server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webpack-dev-server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/webpack-merge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webpack-merge
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/webpack-node-externals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webpack-node-externals
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/webpack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webpack
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/whatwg-fetch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    whatwg-fetch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/workbox-webpack-plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    workbox-webpack-plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/zyronon_douyin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    zyronon_douyin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../new-third-part-lib/%CE%BCPlot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    μPlot
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    react
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            react
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Create-React-App/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create-React-App
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%20%26%20Webpack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React & Webpack
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%2017%20%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E6%96%B0%E7%89%B9%E6%80%A7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React 17 事件处理新特性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React 18 超全升级指南
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%20FAQ/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React FAQ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%20Fiber%20Architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React Fiber Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React PureComponent 使用指南
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%20data%20grid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React data grid
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React 中的事件处理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React 各种bug 会实时更新
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%20%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React 官方文档笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%20%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD%E5%90%AB%E4%B9%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React 常用术语含义
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%20%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0%E7%9A%84API/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React 操作元素的API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%20%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React 测试入门教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%20%E7%9A%84%20PureComponent%20%E4%B8%8E%20Component/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React 的 PureComponent 与 Component
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React 视频教程-传智播客
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E6%8A%80%E6%9C%AF%E8%83%96/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React 视频教程-技术胖
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React 高阶组件
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React-Design%20Principles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React-Design Principles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React-Suspense%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%8E%A2%E8%AE%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React-Suspense的实现与探讨
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React-性能优化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React.Children%E7%9A%84API/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React.Children的API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React.Component/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React.Component
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ReactRouter-%E9%98%AE%E4%B8%80%E5%B3%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ReactRouter-阮一峰
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%E4%BA%8B%E4%BB%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React事件
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%E6%95%B0%E6%8D%AE%E6%B5%81/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React数据流
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F--getDerivedStateFromProps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React新生命周期--getDerivedStateFromProps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%E6%94%B9%E5%8F%98DOM%E6%96%B9%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React点击事件改变DOM方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React生命周期流程图
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React获取尺寸
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../React%E8%BF%9B%E9%98%B6%E2%80%94%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React进阶—性能优化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Refs%20%26%20DOM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Refs & DOM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    getDerivedStateFromProps的使用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jsx%E8%AF%AD%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jsx语法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react%20%E4%B8%AD%E9%80%9A%E8%BF%87ref%E8%8E%B7%E5%8F%96%E9%AB%98%E9%98%B6%EF%BC%88HOC%EF%BC%89%E5%AD%90%E7%BB%84%E4%BB%B6%E5%AE%9E%E4%BE%8B%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react 中通过ref获取高阶（HOC）子组件实例的解决方案
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react 项目结构及编码规范
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react-redux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react-redux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react-transition-group-动画效果
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react-useRef/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react-useRef
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8A%E7%AF%87%EF%BC%88%E9%A6%96%E6%AC%A1%E6%B8%B2%E6%9F%93%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    reactjs源码分析-上篇（首次渲染实现原理）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8B%E7%AF%87%EF%BC%88%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    reactjs源码分析-下篇（更新机制实现原理）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react生命周期函数源码学习
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stackoverflow-Highlight%20text%20using%20ReactJS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    stackoverflow-Highlight text using ReactJS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../todo-Testing%20React%20components/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-Testing React components
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../todo-VS%20Code%20%E5%BF%AB%E6%8D%B7%E8%BE%93%E5%85%A5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-VS Code 快捷输入
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4Suspense%E6%98%AF%E4%B8%80%E7%A7%8D%E5%B7%A8%E5%A4%A7%E7%9A%84%E7%AA%81%E7%A0%B4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    为什么说Suspense是一种巨大的突破
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    官方文档-React高阶API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    对React children理解
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%8E%8C%E6%8F%A1%E6%8B%96%E6%8B%BD%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%88%E4%BD%BF%E7%94%A8ReactJS%20hooks%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    掌握拖拽的实现（使用ReactJS hooks）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    案例-React Hook+TS4 最佳实践项目
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    案例-React Testing Library 和 Jest 完成单元测试
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    案例-React组件库搭建总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%98%AE%E4%B8%80%E5%B3%B0%20react%20%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    阮一峰 react 系列教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E7%9A%84%20REACT%202015%20%E4%B9%8B%E8%B7%AF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    阿里巴巴的 REACT 2015 之路
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    react-hooks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            react-hooks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-hooks/00%20React%20hook%20%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    00 React hook 笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-hooks/01%20React%20Hooks%20%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B-%E9%98%AE%E4%B8%80%E5%B3%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01 React Hooks 入门教程-阮一峰
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-hooks/02%20%E8%BD%BB%E6%9D%BE%E5%AD%A6%E4%BC%9A%20React%20%E9%92%A9%E5%AD%90-%E4%BB%A5%20useEffect%28%29%20%E4%B8%BA%E4%BE%8B-%E9%98%AE%E4%B8%80%E5%B3%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02 轻松学会 React 钩子-以 useEffect() 为例-阮一峰
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03 从 Class 迁移到 Hook
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-hooks/04%20React%20%E5%86%85%E7%BD%AE%20Hook/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04 React 内置 Hook
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05 React Hooks 详解 + 项目实战
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06 精通React Hooks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-hooks/07%20React%20Hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07 React Hooks 最佳实践
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-hooks/08%20useMemo%E3%80%81useCallback%E3%80%81useContext/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08 useMemo、useCallback、useContext
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-hooks/09%20React-hook%2BTS%E7%B1%BB%E5%9E%8B%E9%AA%8C%E8%AF%81/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09 React-hook+TS类型验证
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    react-third-part-lib
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            react-third-part-lib
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01-CSDN 博客文档链接
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/030-react-is-deprecated/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    030-react-is-deprecated
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/031-react-sweet-progress/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    031-react-sweet-progress
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/032-reactstrap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    032-reactstrap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/044-react-app-polyfill/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    044-react-app-polyfill
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/045-react-dev-utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    045-react-dev-utils
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/046-react-dom/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    046-react-dom
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/069-react-codemirror/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    069-react-codemirror
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/073-react-i18next/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    073-react-i18next
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/101-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-poker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    101-第三方库-react-poker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/103-react-to-print/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    103-react-to-print
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/112-react-select/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    112-react-select
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/113-react-image-lightbox/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    113-react-image-lightbox
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/21-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-window/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    21-第三方库-react-window
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/22-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-mentions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    22-第三方库-react-mentions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/23-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-loading-skeleton/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    23-第三方库-react-loading-skeleton
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/24-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-konva/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    24-第三方库-react-konva
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    25-第三方库-react-canvas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/26-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-image-lightbox/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    26-第三方库-react-image-lightbox
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/React-Select/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React-Select
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/Todo-054-GGEditor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Todo-054-GGEditor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/gojs-react/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gojs-react
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/react-colorful/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react-colorful
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/react-lazy-load/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react-lazy-load
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/todo-00-React%20%E7%AC%94%E8%AE%B0%E7%9B%AE%E5%BD%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-00-React 笔记目录
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/todo-009-html2canvas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-009-html2canvas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/todo-017-qrcode-react/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-017-qrcode-react
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/todo-050-react-custom-scrollbars/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-050-react-custom-scrollbars
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/todo-052-react-select/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-052-react-select
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/todo-053-react-media/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-053-react-media
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/todo-055-DPlayer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-055-DPlayer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-20-React Router 中文文档1-v4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A32/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-20-React Router 中文文档2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/todo-20-react-router/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-20-react-router
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/todo-26-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-use/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-26-第三方库-react-use
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/todo-27-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-motion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-27-第三方库-react-motion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/todo-28-sort-by/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-28-sort-by
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/todo-29-localForage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-29-localForage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/todo-30-match-sorter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-30-match-sorter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/todo-31-zxing-library%20%E5%AE%9E%E7%8E%B0%E5%89%8D%E7%AB%AF%E6%89%AB%E7%A0%81%E5%8A%9F%E8%83%BD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-31-zxing-library 实现前端扫码功能
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/todo-32-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-photoswipe-gallery/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-32-第三方库-react-photoswipe-gallery
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-third-part-lib/todo-33-React-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todo-33-React-第三方库
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    third-part-lib/codemirror
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            third-part-lib/codemirror
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../third-part-lib/codemirror/Code-mirror/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code-mirror
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../third-part-lib/codemirror/codemirror-readme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    codemirror-readme
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../third-part-lib/codemirror/codemirror/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    codemirror
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    third-part-lib/echarts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            third-part-lib/echarts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../third-part-lib/echarts/echarts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    echarts
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    third-part-lib/g2
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            third-part-lib/g2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../third-part-lib/g2/antv-g2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    antv-g2
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    third-part-lib/react-dnd
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            third-part-lib/react-dnd
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../third-part-lib/react-dnd/01-readme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01-readme
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../third-part-lib/react-dnd/02-quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02-quickstart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../third-part-lib/react-dnd/03-Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03-Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../third-part-lib/react-dnd/API/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../third-part-lib/react-dnd/React%20DnD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React DnD
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../third-part-lib/react-dnd/Testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../third-part-lib/react-dnd/Tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../third-part-lib/react-dnd/react-dnd-DragLayer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react-dnd-DragLayer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../third-part-lib/react-dnd/react-dnd-DragSource/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react-dnd-DragSource
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../third-part-lib/react-dnd/react-dnd-DropTarget/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react-dnd-DropTarget
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../third-part-lib/react-dnd/react-dnd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react-dnd
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../third-part-lib/react-dnd/react-dnd%E4%BD%BF%E7%94%A8%E6%89%8B%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    react-dnd使用手记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常用第三方库介绍
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="react-testing-library-jest">使用 React Testing Library 和 Jest 完成单元测试<a class="headerlink" href="#react-testing-library-jest" title="Permanent link">&para;</a></h1>
<p>统计信息：字数 34850  阅读70分钟</p>
<p>原作者 joking_zhang <a href="https://segmentfault.com/u/joking_zhang">https://segmentfault.com/u/joking_zhang</a> 发布于 2020-03-18</p>
<p>原文链接 <a href="https://segmentfault.com/a/1190000022054307">https://segmentfault.com/a/1190000022054307</a></p>
<h1 id="_1">引言<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<p>在2020的今天，构建一个 web 应用对于我们来说，并非什么难事。因为有很多足够多优秀的的前端框架（比如 <code>React</code>，<code>Vue</code> 和 <code>Angular</code>）；以及一些易用且强大的UI库（比如 <code>Ant Design</code>）为我们保驾护航，极大地缩短了应用构建的周期。</p>
<p>但是，互联网时代也急剧地改变了许多软件设计，开发和发布的方式。开发者面临的问题是，需求越来越多，应用越来越复杂，时不时会有一种失控的的感觉，并在心中大喊一句：“我太南了！”。严重的时候甚至会出现我改了一行代码，却不清楚其影响范围情况。这种时候，就需要测试的方式，来保障我们应用的质量和稳定性了。</p>
<p>接下来，让我们学习下，如何给 <code>React</code> 应用写单元测试吧🎁</p>
<h1 id="_2">需要什么样的测试<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h1>
<p>软件测试是有级别的，下面是《Google软件测试之道》一书中，对于测试认证级别的定义，摘录如下：</p>
<ul>
<li>级别1</li>
<li>使用测试覆盖率工具。</li>
<li>使用持续集成。</li>
<li>测试分级为小型、中型、大型。</li>
<li>创建冒烟测试集合（主流程测试用例）。</li>
<li>
<p>标记哪些测试是非确定性的测试（测试结果不唯一）。</p>
</li>
<li>
<p>级别2</p>
</li>
<li>如果有测试运行结果为红色（失败❌）就不会发布。</li>
<li>每次代码提交之前都要求通过冒烟测试。（自测，简单走下主流程）</li>
<li>各种类型的整体代码覆盖率要大于50%。</li>
<li>
<p>小型测试的覆盖率要大于10%。</p>
</li>
<li>
<p>级别3</p>
</li>
<li>所有重要的代码变更都要经过测试。</li>
<li>小型测试的覆盖率大于50%。</li>
<li>
<p>新增重要功能都要通过集成测试的验证。</p>
</li>
<li>
<p>级别4</p>
</li>
<li>在提交任何新代码之前都会自动运行冒烟测试。</li>
<li>冒烟测试必须在30分钟内运行完毕。</li>
<li>没有不确定性的测试。</li>
<li>总体测试覆盖率应该不小于40%。</li>
<li>小型测试的代码覆盖率应该不小于25%。</li>
<li>
<p>所有重要的功能都应该被集成测试验证到。</p>
</li>
<li>
<p>级别5</p>
</li>
<li>对每一个重要的缺陷修复都要增加一个测试用例与之对应。</li>
<li>积极使用可用的代码分析工具。</li>
<li>总体测试覆盖率不低于60%。</li>
<li>小型测试代码覆盖率应该不小于40%。</li>
</ul>
<blockquote>
<p>小型测试，通常也叫单元测试，一般来说都是自动化实现的。用于验证一个单独的函数，组件，独立功能模块是否可以按照预期的方式运行。</p>
</blockquote>
<p>而对于开发者来说，重要的是进行了测试的动作。本篇文章主要围绕着**React组件单元测试**展开的，其目的是为了让开发人员可以站在使用者的角度考虑问题。通过测试的手段，确保组件的每一个功能都可以正常的运行，关注质量，而不是让用户来帮你测试。</p>
<p>在编写单元测试的时候，一定会对之前的代码反复进行调整，虽然过程比较痛苦，可组件的质量，也在一点一点的提高。</p>
<h1 id="_3">技术栈选择<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h1>
<p>当我们想要为 <code>React</code> 应用编写单元测试的时候，官方推荐是使用 <a href="https://testing-library.com/docs/react-testing-library/intro">React Testing Library</a> + <a href="https://jestjs.io/">Jest</a> 的方式。<a href="https://github.com/enzymejs/enzyme">Enzyme</a> 也是十分出色的单元测试库，我们应该选择哪种测试工具呢？</p>
<p>下面让我们看一个简单的计数器的例子，以及两个相应的测试：第一个是使用 <a href="https://github.com/enzymejs/enzyme">Enzyme</a> 编写的，第二个是使用 <a href="https://testing-library.com/docs/react-testing-library/intro">React Testing Library</a> 编写的。</p>
<h5 id="counterjs">counter.js<a class="headerlink" href="#counterjs" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="c1">// counter.js</span>
<span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;react&quot;</span><span class="p">;</span>

<span class="kd">class</span><span class="w"> </span><span class="nx">Counter</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="p">};</span>
<span class="w">  </span><span class="nx">increment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">(({</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">}));</span>
<span class="w">  </span><span class="nx">decrement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">(({</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">}));</span>
<span class="w">  </span><span class="nx">render</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">decrement</span><span class="p">}</span><span class="o">&gt;-&lt;</span><span class="err">/button&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">increment</span><span class="p">}</span><span class="o">&gt;+&lt;</span><span class="err">/button&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Counter</span><span class="p">;</span>
</code></pre></div>
<h5 id="counter-enzymetestjs">counter-enzyme.test.js<a class="headerlink" href="#counter-enzymetestjs" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="c1">// counter-enzyme.test.js</span>
<span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;react&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">shallow</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;enzyme&quot;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="nx">Counter</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;./counter&quot;</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;&lt;Counter /&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">it</span><span class="p">(</span><span class="s2">&quot;properly increments and decrements the counter&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">shallow</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Counter</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">state</span><span class="p">(</span><span class="s2">&quot;count&quot;</span><span class="p">)).</span><span class="nx">toBe</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>

<span class="w">    </span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">instance</span><span class="p">().</span><span class="nx">increment</span><span class="p">();</span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">state</span><span class="p">(</span><span class="s2">&quot;count&quot;</span><span class="p">)).</span><span class="nx">toBe</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>

<span class="w">    </span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">instance</span><span class="p">().</span><span class="nx">decrement</span><span class="p">();</span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">state</span><span class="p">(</span><span class="s2">&quot;count&quot;</span><span class="p">)).</span><span class="nx">toBe</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<h5 id="counter-rtltestjs">counter-rtl.test.js<a class="headerlink" href="#counter-rtltestjs" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="c1">// counter-rtl.test.js</span>
<span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;react&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">render</span><span class="p">,</span><span class="w"> </span><span class="nx">fireEvent</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@testing-library/react&quot;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="nx">Counter</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;./counter&quot;</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;&lt;Counter /&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">it</span><span class="p">(</span><span class="s2">&quot;properly increments and decrements the counter&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">getByText</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Counter</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getByText</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">incrementButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getByText</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">decrementButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getByText</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">incrementButton</span><span class="p">);</span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">counter</span><span class="p">.</span><span class="nx">textContent</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">decrementButton</span><span class="p">);</span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">counter</span><span class="p">.</span><span class="nx">textContent</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<p>比较两个例子，你能看出哪个测试文件是最好的嘛？如果你不是很熟悉单元测试，可能会任务两种都很好。但是实际上 <code>Enzyme</code> 的实现有两个误报的风险：</p>
<ul>
<li>即使代码损坏，测试也会通过。</li>
<li>即使代码正确，测试也会失败。</li>
</ul>
<p>让我们来举例说明这两点。假设您希望重构组件，因为您希望能够设置任何count值。因此，您可以删除递增和递减方法，然后添加一个新的setCount方法。假设你忘记将这个新方法连接到不同的按钮:</p>
<h5 id="counterjs_1">counter.js<a class="headerlink" href="#counterjs_1" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="c1">// counter.js</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">Counter</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="p">};</span>
<span class="w">  </span><span class="nx">setCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="nx">render</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">decrement</span><span class="p">}</span><span class="o">&gt;-&lt;</span><span class="err">/button&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">increment</span><span class="p">}</span><span class="o">&gt;+&lt;</span><span class="err">/button&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>第一个测试(<code>Enzyme</code>)将通过，但第二个测试(<code>RTL</code>)将失败。实际上，第一个并不关心按钮是否正确地连接到方法。它只查看实现本身，也就是说，您的递增和递减方法执行之后，应用的状态是否正确。
这就是**代码损坏，测试也会通过**。</p>
<p>现在是2020年，你也许听说过 <code>React Hooks</code>，并且打算使用 <code>React Hooks</code> 来改写我们的计数器代码：</p>
<h5 id="counterjs_2">counter.js<a class="headerlink" href="#counterjs_2" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="c1">// counter.js</span>
<span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;react&quot;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">Counter</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">count</span><span class="p">,</span><span class="w"> </span><span class="nx">setCount</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">increment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setCount</span><span class="p">(</span><span class="nx">count</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">decrement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setCount</span><span class="p">(</span><span class="nx">count</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">decrement</span><span class="p">}</span><span class="o">&gt;-&lt;</span><span class="err">/button&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">increment</span><span class="p">}</span><span class="o">&gt;+&lt;</span><span class="err">/button&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>这一次，即使您的计数器仍然工作，第一个测试也将被打破。<code>Enzyme</code> 会报错，函数组件中无法使用<code>state</code>:</p>
<div class="highlight"><pre><span></span><code>ShallowWrapper::state() can only be called on class components
</code></pre></div>
<p>接下来，就需要改写单元测试文件了：</p>
<h5 id="counter-enzymetestjs_1">counter-enzyme.test.js<a class="headerlink" href="#counter-enzymetestjs_1" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;react&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">shallow</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;enzyme&quot;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="nx">Counter</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;./counter&quot;</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;&lt;Counter /&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">it</span><span class="p">(</span><span class="s2">&quot;properly increments and decrements the counter&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">setValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">();</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">useStateSpy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jest</span><span class="p">.</span><span class="nx">spyOn</span><span class="p">(</span><span class="nx">React</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;useState&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">useStateSpy</span><span class="p">.</span><span class="nx">mockImplementation</span><span class="p">(</span><span class="nx">initialValue</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">[</span><span class="nx">initialValue</span><span class="p">,</span><span class="w"> </span><span class="nx">setValue</span><span class="p">]);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">wrapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">shallow</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Counter</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">);</span>

<span class="w">    </span><span class="nx">wrapper</span>
<span class="w">      </span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;button&quot;</span><span class="p">)</span>
<span class="w">      </span><span class="p">.</span><span class="nx">last</span><span class="p">()</span>
<span class="w">      </span><span class="p">.</span><span class="nx">props</span><span class="p">()</span>
<span class="w">      </span><span class="p">.</span><span class="nx">onClick</span><span class="p">();</span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">setValue</span><span class="p">).</span><span class="nx">toHaveBeenCalledWith</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// We can&#39;t make any assumptions here on the real count displayed</span>
<span class="w">    </span><span class="c1">// In fact, the setCount setter is mocked!</span>

<span class="w">    </span><span class="nx">wrapper</span>
<span class="w">      </span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;button&quot;</span><span class="p">)</span>
<span class="w">      </span><span class="p">.</span><span class="nx">first</span><span class="p">()</span>
<span class="w">      </span><span class="p">.</span><span class="nx">props</span><span class="p">()</span>
<span class="w">      </span><span class="p">.</span><span class="nx">onClick</span><span class="p">();</span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">setValue</span><span class="p">).</span><span class="nx">toHaveBeenCalledWith</span><span class="p">(</span><span class="o">-</span><span class="mf">1</span><span class="p">);</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<p>而使用 <code>React Testing Library</code> 编写的单元测试还是可以正常运行的，因为它更加关注应用的事件处理，以及展示；而非应用的实现细节，以及状态变化。更加符合我们对于单元测试的原本诉求，以及最佳实践。</p>
<h1 id="_4">可遵循的简单规则<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h1>
<p>也许上文中使用 <code>React Testing Library</code> 编写的单元测试示例，还会给人一种一头雾水的感觉。下面，让我们使用 <strong>AAA</strong> 模式来一步一步的拆解这部分代码。</p>
<p><strong>AAA模式</strong>：编排（Arrange），执行（Act），断言（Assert）。</p>
<p>几乎所有的测试都是这样写的。首先，您要**编排(初始化)<strong>您的代码，以便为接下来的步骤做好一切准备。然后，您**执行**用户应该执行的步骤(例如单击)。最后，您对应该发生的事情进行**断言</strong>。</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;react&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">render</span><span class="p">,</span><span class="w"> </span><span class="nx">fireEvent</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@testing-library/react&quot;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="nx">Counter</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;./app&quot;</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;&lt;Counter /&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">it</span><span class="p">(</span><span class="s2">&quot;properly increments the counter&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Arrange</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">getByText</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Counter</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getByText</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">incrementButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getByText</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">decrementButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getByText</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Act</span>
<span class="w">    </span><span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">incrementButton</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// Assert</span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">counter</span><span class="p">.</span><span class="nx">textContent</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Act</span>
<span class="w">    </span><span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">decrementButton</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// Assert</span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">counter</span><span class="p">.</span><span class="nx">textContent</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<h5 id="arrange">编排（Arrange）<a class="headerlink" href="#arrange" title="Permanent link">&para;</a></h5>
<p>在编排这一步，我们需要完成2项任务：</p>
<ul>
<li>渲染组件</li>
<li>获取所需的DOM的不同元素。</li>
</ul>
<p>渲染组件可以使用 RTL's API 的 <code>render</code> 方法完成。签名如下：</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">render</span><span class="p">(</span>
<span class="w">  </span><span class="nx">ui</span><span class="o">:</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">ReactElement</span><span class="p">,</span>
<span class="w">  </span><span class="nx">options</span><span class="o">?:</span><span class="w"> </span><span class="nx">Omit</span><span class="o">&lt;</span><span class="nx">RenderOptions</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;queries&#39;</span><span class="o">&gt;</span>
<span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">RenderResult</span>
</code></pre></div>
<p><code>ui</code> 是你要加载的组件。<code>options</code> 通常不需要指定选项。<a href="https://testing-library.com/docs/react-testing-library/api#render-options">官方文档在这里</a>，如果要指定的话，如下值是对官方文档的简单摘录：</p>
<ul>
<li>container：React Testing库将创建一个div并将该div附加到文档中。而通过这个参数，可以自定义容器。</li>
<li>baseElement：</li>
</ul>
<p>如果指定了容器，则此值默认为该值，否则此值默认为document.documentElement。这将用作查询的基本元素，以及在使用debug()时打印的内容。</p>
<ul>
<li>hydrate：用于服务端渲染，使用 <code>ReactDOM.hydrate</code> 加载你的组件。</li>
<li>wrapper：传递一个组件作为包裹层，将我们要测试的组件渲染在其中。这通常用于创建可以重用的自定义 render 函数，以便提供常用数据。</li>
<li>queries：查询绑定。除非合并，否则将覆盖DOM测试库中的默认设置。</li>
</ul>
<p>基本上，这个函数所做的就是使用ReactDOM呈现组件。在直接附加到document.body的新创建的div中呈现(或为服务器端呈现提供水合物)。因此，可以从DOM测试库和其他一些有用的方法(如debug、rerender或unmount)获得大量查询。</p>
<p>文档：<a href="https://testing-library.com/docs/dom-testing-library/api-queries#queries">https://testing-library.com/d...</a></p>
<p>但你可能会想，这些问题是什么呢?有些实用程序允许您像用户那样查询DOM:通过标签文本、占位符和标题查找元素。以下是一些来自文档的查询示例:</p>
<ul>
<li>getByLabelText:搜索与作为参数传递的给定文本匹配的标签，然后查找与该标签关联的元素。</li>
<li>getByText:搜索具有文本节点的所有元素，其中的textContent与作为参数传递的给定文本匹配。</li>
<li>getByTitle:返回具有与作为参数传递的给定文本匹配的title属性的元素。</li>
<li>getByPlaceholderText:搜索具有占位符属性的所有元素，并找到与作为参数传递的给定文本相匹配的元素。</li>
</ul>
<p>一个特定的查询有很多变体:</p>
<ul>
<li>getBy:返回查询的第一个匹配节点，如果没有匹配的元素或找到多个匹配，则抛出一个错误。</li>
<li>getAllBy:返回一个查询中所有匹配节点的数组，如果没有匹配的元素，则抛出一个错误。</li>
<li>queryBy:返回查询的第一个匹配节点，如果没有匹配的元素，则返回null。这对于断言不存在的元素非常有用。</li>
<li>queryAllBy:返回一个查询的所有匹配节点的数组，如果没有匹配的元素，则返回一个空数组([])。</li>
<li>findBy：返回一个promise，该promise将在找到与给定查询匹配的元素时解析。如果未找到任何元素，或者在默认超时时间为4500毫秒后找到了多个元素，则承诺将被拒绝。</li>
<li>findAllBy：返回一个promise，当找到与给定查询匹配的任何元素时，该promise将解析为元素数组。</li>
</ul>
<h5 id="act">执行（Act）<a class="headerlink" href="#act" title="Permanent link">&para;</a></h5>
<p>现在一切都准备好了，我们可以行动了。为此，我们大部分时间使用了来自DOM测试库的fireEvent，其签名如下:</p>
<div class="highlight"><pre><span></span><code>fireEvent(node: HTMLElement, event: Event)
</code></pre></div>
<p>简单地说，这个函数接受一个DOM节点(您可以使用上面看到的查询查询它!)并触发DOM事件，如单击、焦点、更改等。您可以在这里找到许多其他可以调度的事件。</p>
<p>我们的例子相当简单，因为我们只是想点击一个按钮，所以我们只需:</p>
<div class="highlight"><pre><span></span><code><span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">incrementButton</span><span class="p">);</span>
<span class="c1">// OR</span>
<span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">decrementButton</span><span class="p">);</span>
</code></pre></div>
<h5 id="assert">断言（Assert）<a class="headerlink" href="#assert" title="Permanent link">&para;</a></h5>
<p>接下来是最后一部分。触发事件通常会触发应用程序中的一些更改，因此我们必须执行一些断言来确保这些更改发生。在我们的测试中，这样做的一个好方法是确保呈现给用户的计数已经更改。因此，我们只需断言textContent属性的计数器是递增或递减:</p>
<div class="highlight"><pre><span></span><code>expect(counter.textContent).toEqual(&quot;1&quot;);
expect(counter.textContent).toEqual(&quot;0&quot;);
</code></pre></div>
<p>恭喜你，到这里你已经将我们的示例拆解成功。 🥳</p>
<blockquote>
<p>注意:这个AAA模式并不特定于测试库。事实上，它甚至是任何测试用例的一般结构。我在这里向您展示这个是因为我发现测试库如何方便地在每个部分中编写测试是一件很有趣的事情。</p>
</blockquote>
<h1 id="8">8个典型的例子<a class="headerlink" href="#8" title="Permanent link">&para;</a></h1>
<p>到这里，就进入实战阶段了，接下来请先下载示例：<a href="https://github.com/jokingzhang/rts-guide-demo">rts-guide-demo</a> 。</p>
<p>安装依赖的同时可以简单看下我们的项目。<code>src/test</code> 目录下存放了所有单元测试相关的文件。让我们清空这个文件夹，再将下面的示例依次手过一遍。🙏（CV也是可以的👌）</p>
<h3 id="1">1.如何创建测试快照<a class="headerlink" href="#1" title="Permanent link">&para;</a></h3>
<p>快照，顾名思义，允许我们保存给定组件的快照。当您进行更新或重构，并希望获取或比较更改时，它会提供很多帮助。</p>
<p>现在，让我们看一下 <code>App.js</code> 文件的快照。</p>
<h5 id="apptestjs">App.test.js<a class="headerlink" href="#apptestjs" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">render</span><span class="p">,</span><span class="w"> </span><span class="nx">cleanup</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@testing-library/react&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">App</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../App&#39;</span>

<span class="w"> </span><span class="nx">afterEach</span><span class="p">(</span><span class="nx">cleanup</span><span class="p">)</span>

<span class="w"> </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should take a snapshot&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">asFragment</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">)</span>

<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">asFragment</span><span class="p">()).</span><span class="nx">toMatchSnapshot</span><span class="p">()</span>
<span class="p">})</span>
</code></pre></div>
<p>要获取快照，我们首先必须导入 <code>render</code> 和 <code>cleanup</code> 。这两种方法将在本文中大量使用。</p>
<p><code>render</code>，顾名思义，有助于渲染React组件。<code>cleanup</code> 作为一个参数传递给 <code>afterEach</code> ，以便在每次测试后清理所有东西，以避免内存泄漏。</p>
<p>接下来，我们可以使用 <code>render</code> 呈现App组件，并从方法中获取 <code>asFragment</code> 作为返回值。最后，确保App组件的片段与快照匹配。</p>
<p>现在，要运行测试，打开您的终端并导航到项目的根目录，并运行以下命令:</p>
<div class="highlight"><pre><span></span><code>npm test
</code></pre></div>
<p>因此，它将创建一个新的文件夹 <code>__snapshots__</code> 和一个文件 <code>App.test.js</code>:</p>
<h5 id="apptestjssnap">App.test.js.snap<a class="headerlink" href="#apptestjssnap" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="c1">// Jest Snapshot v1, https://goo.gl/fbAQLP</span>

<span class="nx">exports</span><span class="p">[</span><span class="sb">`should take a snapshot 1`</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span>
<span class="sb">&lt;DocumentFragment&gt;</span>
<span class="sb">  &lt;div</span>
<span class="sb">    class=&quot;App&quot;</span>
<span class="sb">  &gt;</span>
<span class="sb">    &lt;h1&gt;</span>
<span class="sb">      Testing Updated</span>
<span class="sb">    &lt;/h1&gt;</span>
<span class="sb">  &lt;/div&gt;</span>
<span class="sb">&lt;/DocumentFragment&gt;</span>
<span class="sb">`</span><span class="p">;</span>
</code></pre></div>
<p>如果，你在 <code>App.js</code> 中做出更改，测试将失败，因为快照将不再匹配。更新快照可以按 <code>u</code> ，或者将对应快照文件删除即可。</p>
<h3 id="2dom">2.测试DOM元素<a class="headerlink" href="#2dom" title="Permanent link">&para;</a></h3>
<p>要测试DOM元素，首先必须查看<code>TestElements.js</code>文件。</p>
<h5 id="testelementsjs">TestElements.js<a class="headerlink" href="#testelementsjs" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">TestElements</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">counter</span><span class="p">,</span><span class="w"> </span><span class="nx">setCounter</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">useState</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>

<span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="o">&lt;&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">h1</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;counter&quot;</span><span class="o">&gt;</span><span class="p">{</span><span class="w"> </span><span class="nx">counter</span><span class="w"> </span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;button-up&quot;</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setCounter</span><span class="p">(</span><span class="nx">counter</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">)}</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">Up</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">disabled</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;button-down&quot;</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setCounter</span><span class="p">(</span><span class="nx">counter</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">)}</span><span class="o">&gt;</span><span class="nx">Down</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w"> </span><span class="o">&lt;</span><span class="err">/&gt;</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">TestElements</span>
</code></pre></div>
<p>在这里，您唯一需要保留的是 <code>data-testid</code> 。它将用于从测试文件中选择这些元素。现在，让我们完成单元测试:</p>
<p>测试计数器是否为0，以及按钮的禁用状态:</p>
<h5 id="testelementstestjs">TestElements.test.js<a class="headerlink" href="#testelementstestjs" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s2">&quot;@testing-library/jest-dom/extend-expect&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">render</span><span class="p">,</span><span class="w"> </span><span class="nx">cleanup</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@testing-library/react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">TestElements</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components/TestElements&#39;</span>

<span class="nx">afterEach</span><span class="p">(</span><span class="nx">cleanup</span><span class="p">);</span>

<span class="w">  </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should equal to 0&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">getByTestId</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">TestElements</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;counter&#39;</span><span class="p">)).</span><span class="nx">toHaveTextContent</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<span class="w">   </span><span class="p">});</span>

<span class="w">   </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should be enabled&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">getByTestId</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">TestElements</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;button-up&#39;</span><span class="p">)).</span><span class="nx">not</span><span class="p">.</span><span class="nx">toHaveAttribute</span><span class="p">(</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should be disabled&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">getByTestId</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">TestElements</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;button-down&#39;</span><span class="p">)).</span><span class="nx">toBeDisabled</span><span class="p">()</span>
<span class="w">  </span><span class="p">});</span>
</code></pre></div>
<p>正如您所看到的，语法与前面的测试非常相似。唯一的区别是,我们使用 <code>getByTestId</code> 选择必要的元素(根据 <code>data-testid</code> )并检查是否通过了测试。换句话说，我们检查 <code>&lt;h1 data-testid="counter"&gt;{ counter }&lt;/h1&gt;</code> 中的文本内容是否等于0。</p>
<p>这里,像往常一样,我们使用 <code>getByTestId</code> 选择元素和检查第一个测试如果按钮禁用属性。对于第二个，如果按钮是否被禁用。</p>
<p>如果您保存文件或在终端纱线测试中再次运行，测试将通过。</p>
<h3 id="3">3.测试事件<a class="headerlink" href="#3" title="Permanent link">&para;</a></h3>
<p>在编写单元测试之前，让我们首先看下 <code>TestEvents.js</code> 是什么样子的。</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">TestEvents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">counter</span><span class="p">,</span><span class="w"> </span><span class="nx">setCounter</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">useState</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>

<span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="o">&lt;&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">h1</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;counter&quot;</span><span class="o">&gt;</span><span class="p">{</span><span class="w"> </span><span class="nx">counter</span><span class="w"> </span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;button-up&quot;</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setCounter</span><span class="p">(</span><span class="nx">counter</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">)}</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">Up</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;button-down&quot;</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setCounter</span><span class="p">(</span><span class="nx">counter</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">)}</span><span class="o">&gt;</span><span class="nx">Down</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w"> </span><span class="o">&lt;</span><span class="err">/&gt;</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">TestEvents</span>
</code></pre></div>
<p>现在，让我们编写测试。</p>
<p>当我们点击按钮时，测试计数器的增减是否正确:</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s2">&quot;@testing-library/jest-dom/extend-expect&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">render</span><span class="p">,</span><span class="w"> </span><span class="nx">cleanup</span><span class="p">,</span><span class="w"> </span><span class="nx">fireEvent</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@testing-library/react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">TestEvents</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components/TestEvents&#39;</span>

<span class="w">  </span><span class="nx">afterEach</span><span class="p">(</span><span class="nx">cleanup</span><span class="p">);</span>

<span class="w">  </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;increments counter&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">getByTestId</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">TestEvents</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">);</span><span class="w"> </span>

<span class="w">    </span><span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;button-up&#39;</span><span class="p">))</span>

<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;counter&#39;</span><span class="p">)).</span><span class="nx">toHaveTextContent</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;decrements counter&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">getByTestId</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">TestEvents</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">);</span><span class="w"> </span>

<span class="w">    </span><span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;button-down&#39;</span><span class="p">))</span>

<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;counter&#39;</span><span class="p">)).</span><span class="nx">toHaveTextContent</span><span class="p">(</span><span class="s1">&#39;-1&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">});</span>
</code></pre></div>
<p>可以看到，除了预期的文本内容之外，这两个测试非常相似。</p>
<p>第一个测试使用 <code>fireEvent.click()</code> 触发一个 <code>click</code> 事件，检查单击按钮时计数器是否增加到1。</p>
<p>第二个检查当点击按钮时计数器是否减为-1。</p>
<p><code>fireEvent</code> 有几个可以用来测试事件的方法，因此您可以自由地深入文档了解更多信息。</p>
<p>现在我们已经知道了如何测试事件，接下来我们将在下一节中学习如何处理异步操作。</p>
<h3 id="4">4. 测试异步操作<a class="headerlink" href="#4" title="Permanent link">&para;</a></h3>
<p>异步操作是需要时间才能完成的操作。它可以是HTTP请求、计时器等等。</p>
<p>现在，让我们检查 <code>TestAsync.js</code> 文件。</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">TestAsync</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">counter</span><span class="p">,</span><span class="w"> </span><span class="nx">setCounter</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">useState</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">delayCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">setCounter</span><span class="p">(</span><span class="nx">counter</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="mf">500</span><span class="p">)</span>
<span class="w">  </span><span class="p">)</span>

<span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="o">&lt;&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">h1</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;counter&quot;</span><span class="o">&gt;</span><span class="p">{</span><span class="w"> </span><span class="nx">counter</span><span class="w"> </span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;button-up&quot;</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">delayCount</span><span class="p">}</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">Up</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;button-down&quot;</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setCounter</span><span class="p">(</span><span class="nx">counter</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">)}</span><span class="o">&gt;</span><span class="nx">Down</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w"> </span><span class="o">&lt;</span><span class="err">/&gt;</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">TestAsync</span>
</code></pre></div>
<p>这里，我们使用 <code>setTimeout()</code> 将递增事件延迟0.5秒。</p>
<p>测试计数器在0.5秒后判断是否增加:</p>
<h5 id="testasynctestjs">TestAsync.test.js<a class="headerlink" href="#testasynctestjs" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s2">&quot;@testing-library/jest-dom/extend-expect&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">render</span><span class="p">,</span><span class="w"> </span><span class="nx">cleanup</span><span class="p">,</span><span class="w"> </span><span class="nx">fireEvent</span><span class="p">,</span><span class="w"> </span><span class="nx">waitForElement</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@testing-library/react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">TestAsync</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components/TestAsync&#39;</span>

<span class="nx">afterEach</span><span class="p">(</span><span class="nx">cleanup</span><span class="p">);</span>

<span class="w">  </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;increments counter after 0.5s&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">getByTestId</span><span class="p">,</span><span class="w"> </span><span class="nx">getByText</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">TestAsync</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">);</span><span class="w"> </span>

<span class="w">    </span><span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;button-up&#39;</span><span class="p">))</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">waitForElement</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">getByText</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">))</span><span class="w"> </span>

<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">counter</span><span class="p">).</span><span class="nx">toHaveTextContent</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>

<span class="p">});</span>
</code></pre></div>
<p>要测试递增事件，我们首先必须使用 <code>async/await</code> 来处理操作，因为如前所述，完成它需要时间。</p>
<p>接下来，我们使用一个新的助手方法 <code>getByText()</code>。这类似于<code>getByTestId()</code>。<code>getByText()</code>选择文本内容，而不是id。</p>
<p>现在，在单击按钮之后，我们等待 <code>waitForElement(() =&gt; getByText('1')</code> 来增加计数器。一旦计数器增加到1，我们现在可以移动到条件并检查计数器是否等于1。</p>
<p>也就是说，现在让我们转向更复杂的测试用例。</p>
<p>你准备好了吗?</p>
<h3 id="5-react-redux">5.测试 React Redux<a class="headerlink" href="#5-react-redux" title="Permanent link">&para;</a></h3>
<p>让我们检查一下 <code>TestRedux.js</code> 是什么样子的。</p>
<h5 id="testreduxjs">TestRedux.js<a class="headerlink" href="#testreduxjs" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">connect</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-redux&#39;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">TestRedux</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="nx">counter</span><span class="p">,</span><span class="w"> </span><span class="nx">dispatch</span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">increment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">dispatch</span><span class="p">({</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;INCREMENT&#39;</span><span class="w"> </span><span class="p">})</span>
<span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">decrement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">dispatch</span><span class="p">({</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;DECREMENT&#39;</span><span class="w"> </span><span class="p">})</span>

<span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="o">&lt;&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">h1</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;counter&quot;</span><span class="o">&gt;</span><span class="p">{</span><span class="w"> </span><span class="nx">counter</span><span class="w"> </span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;button-up&quot;</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">increment</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Up</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;button-down&quot;</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">decrement</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Down</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w"> </span><span class="o">&lt;</span><span class="err">/&gt;</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">connect</span><span class="p">(</span><span class="nx">state</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">counter</span><span class="o">:</span><span class="w"> </span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span><span class="w"> </span><span class="p">}))(</span><span class="nx">TestRedux</span><span class="p">)</span>
</code></pre></div>
<h5 id="storereducerjs">store/reducer.js<a class="headerlink" href="#storereducerjs" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">initialState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">reducer</span><span class="p">(</span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">initialState</span><span class="p">,</span><span class="w"> </span><span class="nx">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="s1">&#39;INCREMENT&#39;</span><span class="o">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="s1">&#39;DECREMENT&#39;</span><span class="o">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="k">default</span><span class="o">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">state</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
</code></pre></div>
<p>正如您所看到的，没有什么特别的。
它只是一个由 <code>React Redux</code> 处理的基本计数器组件。</p>
<p>现在，让我们来编写单元测试。</p>
<p>测试初始状态是否为0:</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="s2">&quot;@testing-library/jest-dom/extend-expect&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">createStore</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;redux&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Provider</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-redux&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">render</span><span class="p">,</span><span class="w"> </span><span class="nx">cleanup</span><span class="p">,</span><span class="w"> </span><span class="nx">fireEvent</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@testing-library/react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">initialState</span><span class="p">,</span><span class="w"> </span><span class="nx">reducer</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../store/reducer&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">TestRedux</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components/TestRedux&#39;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">renderWithRedux</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="nx">component</span><span class="p">,</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">initialState</span><span class="p">,</span><span class="w"> </span><span class="nx">store</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createStore</span><span class="p">(</span><span class="nx">reducer</span><span class="p">,</span><span class="w"> </span><span class="nx">initialState</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
<span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">...</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Provider</span><span class="w"> </span><span class="nx">store</span><span class="o">=</span><span class="p">{</span><span class="nx">store</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">component</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Provider&gt;),</span>
<span class="w">    </span><span class="nx">store</span><span class="p">,</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="w"> </span><span class="nx">afterEach</span><span class="p">(</span><span class="nx">cleanup</span><span class="p">);</span>

<span class="nx">it</span><span class="p">(</span><span class="s1">&#39;checks initial state is equal to 0&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">getByTestId</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">renderWithRedux</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">TestRedux</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">)</span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;counter&#39;</span><span class="p">)).</span><span class="nx">toHaveTextContent</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">})</span>

<span class="w">  </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;increments the counter through redux&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">getByTestId</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">renderWithRedux</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">TestRedux</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">,</span><span class="w"> </span>
<span class="w">      </span><span class="p">{</span><span class="nx">initialState</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="mf">5</span><span class="p">}</span>
<span class="w">  </span><span class="p">})</span>
<span class="w">    </span><span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;button-up&#39;</span><span class="p">))</span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;counter&#39;</span><span class="p">)).</span><span class="nx">toHaveTextContent</span><span class="p">(</span><span class="s1">&#39;6&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">})</span>

<span class="w">  </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;decrements the counter through redux&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">getByTestId</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">renderWithRedux</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">TestRedux</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">initialState</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="mf">100</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;button-down&#39;</span><span class="p">))</span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;counter&#39;</span><span class="p">)).</span><span class="nx">toHaveTextContent</span><span class="p">(</span><span class="s1">&#39;99&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">})</span>
</code></pre></div>
<p>我们需要导入一些东西来测试 <code>React Redux</code> 。这里，我们创建了自己的助手函数 <code>renderWithRedux()</code> 来呈现组件，因为它将被多次使用。</p>
<p><code>renderWithRedux()</code> 作为参数接收要呈现的组件、初始状态和存储。如果没有存储，它将创建一个新的存储，如果它没有接收初始状态或存储，它将返回一个空对象。</p>
<p>接下来，我们使用<code>render()</code>来呈现组件并将存储传递给提供者。</p>
<p>也就是说，我们现在可以将组件 <code>TestRedux</code> 传递给 <code>renderWithRedux()</code> 来测试计数器是否等于0。</p>
<p>测试计数器的增减是否正确:</p>
<p>为了测试递增和递减事件，我们将初始状态作为第二个参数传递给<code>renderWithRedux()</code>。现在，我们可以单击按钮并测试预期的结果是否符合条件。</p>
<p>现在，让我们进入下一节并介绍 React Context。</p>
<h3 id="6-react-context">6. 测试 React Context<a class="headerlink" href="#6-react-context" title="Permanent link">&para;</a></h3>
<p>让我们检查一下 <code>TextContext.js</code> 是什么样子的。</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;react&quot;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">CounterContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">createContext</span><span class="p">()</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">CounterProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">counter</span><span class="p">,</span><span class="w"> </span><span class="nx">setCounter</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">useState</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">increment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setCounter</span><span class="p">(</span><span class="nx">counter</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">decrement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setCounter</span><span class="p">(</span><span class="nx">counter</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">CounterContext</span><span class="p">.</span><span class="nx">Provider</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="p">{{</span><span class="w"> </span><span class="nx">counter</span><span class="p">,</span><span class="w"> </span><span class="nx">increment</span><span class="p">,</span><span class="w"> </span><span class="nx">decrement</span><span class="w"> </span><span class="p">}}</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Counter</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/CounterContext.Provider&gt;</span>
<span class="w">  </span><span class="p">)</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">Counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">counter</span><span class="p">,</span><span class="w"> </span><span class="nx">increment</span><span class="p">,</span><span class="w"> </span><span class="nx">decrement</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">useContext</span><span class="p">(</span><span class="nx">CounterContext</span><span class="p">)</span><span class="w">   </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">     </span><span class="o">&lt;&gt;</span>
<span class="w">       </span><span class="o">&lt;</span><span class="nx">h1</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;counter&quot;</span><span class="o">&gt;</span><span class="p">{</span><span class="w"> </span><span class="nx">counter</span><span class="w"> </span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
<span class="w">       </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;button-up&quot;</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">increment</span><span class="p">}</span><span class="o">&gt;</span><span class="w"> </span><span class="nx">Up</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">       </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;button-down&quot;</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">decrement</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Down</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/&gt;</span>
<span class="w">       </span><span class="p">)</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">CounterProvider</span>
</code></pre></div>
<p>现在，通过 React Context 管理计数器状态。让我们编写单元测试来检查它是否按预期运行。</p>
<p>测试初始状态是否为0:</p>
<h5 id="textcontexttestjs">TextContext.test.js<a class="headerlink" href="#textcontexttestjs" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="s2">&quot;@testing-library/jest-dom/extend-expect&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">render</span><span class="p">,</span><span class="w"> </span><span class="nx">cleanup</span><span class="p">,</span><span class="w">  </span><span class="nx">fireEvent</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@testing-library/react&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">CounterProvider</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">CounterContext</span><span class="p">,</span><span class="w"> </span><span class="nx">Counter</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components/TestContext&#39;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">renderWithContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="nx">component</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">...</span><span class="nx">render</span><span class="p">(</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">CounterProvider</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">CounterContext</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="nx">component</span><span class="p">}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/CounterProvider&gt;)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="nx">afterEach</span><span class="p">(</span><span class="nx">cleanup</span><span class="p">);</span>

<span class="nx">it</span><span class="p">(</span><span class="s1">&#39;checks if initial state is equal to 0&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">getByTestId</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">renderWithContext</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Counter</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">)</span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;counter&#39;</span><span class="p">)).</span><span class="nx">toHaveTextContent</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">)</span>
<span class="p">})</span>

<span class="nx">it</span><span class="p">(</span><span class="s1">&#39;increments the counter&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">getByTestId</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">renderWithContext</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Counter</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">)</span>

<span class="w">    </span><span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;button-up&#39;</span><span class="p">))</span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;counter&#39;</span><span class="p">)).</span><span class="nx">toHaveTextContent</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">})</span>

<span class="w">  </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;decrements the counter&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">getByTestId</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">renderWithContext</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Counter</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">)</span>

<span class="w">    </span><span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;button-down&#39;</span><span class="p">))</span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;counter&#39;</span><span class="p">)).</span><span class="nx">toHaveTextContent</span><span class="p">(</span><span class="s1">&#39;-1&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">})</span>
</code></pre></div>
<p>与前面的React Redux部分一样，这里我们使用相同的方法，创建一个助手函数<code>renderWithContext()</code>来呈现组件。但是这一次，它只接收作为参数的组件。为了创建新的上下文，我们将<code>CounterContext</code>传递给 Provider。</p>
<p>现在，我们可以测试计数器最初是否等于0。
那么，计数器的增减是否正确呢？</p>
<p>正如您所看到的，这里我们触发一个 <code>click</code> 事件来测试计数器是否正确地增加到1并减少到-1。</p>
<p>也就是说，我们现在可以进入下一节并介绍React Router。</p>
<h3 id="7-react-router">7. 测试 React Router<a class="headerlink" href="#7-react-router" title="Permanent link">&para;</a></h3>
<p>让我们检查一下 <code>TestRouter.js</code> 是什么样子的。</p>
<h5 id="testrouterjs">TestRouter.js<a class="headerlink" href="#testrouterjs" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Link</span><span class="p">,</span><span class="w"> </span><span class="nx">Route</span><span class="p">,</span><span class="w"> </span><span class="nx">Switch</span><span class="p">,</span><span class="w">  </span><span class="nx">useParams</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">About</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">About</span><span class="w"> </span><span class="nx">page</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Home</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Home</span><span class="w"> </span><span class="nx">page</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">Contact</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useParams</span><span class="p">()</span>

<span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">h1</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;contact-name&quot;</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">TestRouter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;John Doe&#39;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">nav</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;navbar&quot;</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;home-link&quot;</span><span class="w"> </span><span class="nx">to</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="o">&gt;</span><span class="nx">Home</span><span class="o">&lt;</span><span class="err">/Link&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;about-link&quot;</span><span class="w"> </span><span class="nx">to</span><span class="o">=</span><span class="s2">&quot;/about&quot;</span><span class="o">&gt;</span><span class="nx">About</span><span class="o">&lt;</span><span class="err">/Link&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;contact-link&quot;</span><span class="w"> </span><span class="nx">to</span><span class="o">=</span><span class="p">{</span><span class="sb">`/contact/</span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Contact</span><span class="o">&lt;</span><span class="err">/Link&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/nav&gt;</span>

<span class="w">      </span><span class="o">&lt;</span><span class="nx">Switch</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Route</span><span class="w"> </span><span class="nx">exact</span><span class="w"> </span><span class="nx">path</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="w"> </span><span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">Home</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Route</span><span class="w"> </span><span class="nx">path</span><span class="o">=</span><span class="s2">&quot;/about&quot;</span><span class="w"> </span><span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">About</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Route</span><span class="w"> </span><span class="nx">path</span><span class="o">=</span><span class="s2">&quot;/about:name&quot;</span><span class="w"> </span><span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">Contact</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Switch&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/&gt;</span>
<span class="w">  </span><span class="p">)</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">TestRouter</span>
</code></pre></div>
<p>这里，将测试路由对应的页面信息是否正确。</p>
<h5 id="testroutertestjs">TestRouter.test.js<a class="headerlink" href="#testroutertestjs" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="s2">&quot;@testing-library/jest-dom/extend-expect&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Router</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-router-dom&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">render</span><span class="p">,</span><span class="w"> </span><span class="nx">fireEvent</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@testing-library/react&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">createMemoryHistory</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;history&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">TestRouter</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components/TestRouter&#39;</span>


<span class="kd">const</span><span class="w"> </span><span class="nx">renderWithRouter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">component</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">history</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createMemoryHistory</span><span class="p">()</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">    </span><span class="p">...</span><span class="nx">render</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Router</span><span class="w"> </span><span class="nx">history</span><span class="o">=</span><span class="p">{</span><span class="nx">history</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">component</span><span class="p">}</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Router&gt;</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should render the home page&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">container</span><span class="p">,</span><span class="w"> </span><span class="nx">getByTestId</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">renderWithRouter</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">TestRouter</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">)</span><span class="w"> </span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">navbar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;navbar&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;home-link&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="nx">expect</span><span class="p">(</span><span class="nx">container</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">).</span><span class="nx">toMatch</span><span class="p">(</span><span class="s1">&#39;Home page&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="nx">expect</span><span class="p">(</span><span class="nx">navbar</span><span class="p">).</span><span class="nx">toContainElement</span><span class="p">(</span><span class="nx">link</span><span class="p">)</span>
<span class="p">})</span>

<span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should navigate to the about page&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">container</span><span class="p">,</span><span class="w"> </span><span class="nx">getByTestId</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">renderWithRouter</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">TestRouter</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">)</span><span class="w"> </span>
<span class="w">    </span><span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;about-link&#39;</span><span class="p">))</span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">container</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">).</span><span class="nx">toMatch</span><span class="p">(</span><span class="s1">&#39;About page&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">})</span>

<span class="w">  </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should navigate to the contact page with the params&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">container</span><span class="p">,</span><span class="w"> </span><span class="nx">getByTestId</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">renderWithRouter</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">TestRouter</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">)</span><span class="w"> </span>
<span class="w">    </span><span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;contact-link&#39;</span><span class="p">))</span>
<span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">container</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">).</span><span class="nx">toMatch</span><span class="p">(</span><span class="s1">&#39;John Doe&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">})</span>
</code></pre></div>
<p>要测试React Router，我们首先必须有一个导航历史记录。因此，我们使用 <code>createMemoryHistory()</code> 来创建导航历史。</p>
<p>接下来，我们使用助手函数 <code>renderWithRouter()</code> 来呈现组件，并将历史记录传递给路由器组件。这样，我们现在就可以测试在开始时加载的页面是否是主页。以及导航栏是否加载了预期的链接。</p>
<p>测试当我们点击链接时，它是否用参数导航到其他页面:</p>
<p>现在，要检查导航是否工作，我们必须触发导航链接上的单击事件。</p>
<p>对于第一个测试，我们检查内容是否等于About页面中的文本，对于第二个测试，我们测试路由参数并检查它是否正确通过。</p>
<p>现在我们可以进入最后一节，学习如何测试Axios请求。</p>
<h3 id="8-http">8. 测试HTTP请求<a class="headerlink" href="#8-http" title="Permanent link">&para;</a></h3>
<p>让我们检查一下 <code>TestRouter.js</code> 是什么样子的。</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">axios</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;axios&#39;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">TestAxios</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">url</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">setData</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">useState</span><span class="p">()</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">fetchData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span>
<span class="w">    </span><span class="nx">setData</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">greeting</span><span class="p">)</span><span class="w">    </span>
<span class="w"> </span><span class="p">}</span><span class="w">     </span>

<span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="o">&lt;&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">fetchData</span><span class="p">}</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;fetch-data&quot;</span><span class="o">&gt;</span><span class="nx">Load</span><span class="w"> </span><span class="nx">Data</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span>
<span class="w">    </span><span class="nx">data</span><span class="w"> </span><span class="o">?</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;show-data&quot;</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">data</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;:</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">h1</span><span class="w"> </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;loading&quot;</span><span class="o">&gt;</span><span class="nx">Loading</span><span class="p">...</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="o">&lt;</span><span class="err">/&gt;</span>
<span class="w">     </span><span class="p">)</span>

<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">TestAxios</span>
</code></pre></div>
<p>正如您在这里看到的，我们有一个简单的组件，它有一个用于发出请求的按钮。如果数据不可用，它将显示一个加载消息。</p>
<p>现在，让我们编写测试。</p>
<p>来验证数据是否正确获取和显示:</p>
<h5 id="textaxiostestjs">TextAxios.test.js<a class="headerlink" href="#textaxiostestjs" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="s2">&quot;@testing-library/jest-dom/extend-expect&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">render</span><span class="p">,</span><span class="w"> </span><span class="nx">waitForElement</span><span class="p">,</span><span class="w"> </span><span class="nx">fireEvent</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@testing-library/react&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">axiosMock</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;axios&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">TestAxios</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components/TestAxios&#39;</span>

<span class="nx">jest</span><span class="p">.</span><span class="nx">mock</span><span class="p">(</span><span class="s1">&#39;axios&#39;</span><span class="p">)</span>

<span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should display a loading text&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">getByTestId</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">TestAxios</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">)</span>
<span class="w">  </span><span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;loading&#39;</span><span class="p">)).</span><span class="nx">toHaveTextContent</span><span class="p">(</span><span class="s1">&#39;Loading...&#39;</span><span class="p">)</span>
<span class="p">})</span>

<span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should load and display the data&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;/greeting&#39;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">getByTestId</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">TestAxios</span><span class="w"> </span><span class="nx">url</span><span class="o">=</span><span class="p">{</span><span class="nx">url</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">)</span>
<span class="w">  </span><span class="nx">axiosMock</span><span class="p">.</span><span class="nx">get</span><span class="p">.</span><span class="nx">mockResolvedValueOnce</span><span class="p">({</span>
<span class="w">    </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">greeting</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;hello there&#39;</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">})</span>
<span class="w">  </span><span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;fetch-data&#39;</span><span class="p">))</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">greetingData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">waitForElement</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">getByTestId</span><span class="p">(</span><span class="s1">&#39;show-data&#39;</span><span class="p">))</span>
<span class="w">  </span><span class="nx">expect</span><span class="p">(</span><span class="nx">axiosMock</span><span class="p">.</span><span class="nx">get</span><span class="p">).</span><span class="nx">toHaveBeenCalledTimes</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<span class="w">  </span><span class="nx">expect</span><span class="p">(</span><span class="nx">axiosMock</span><span class="p">.</span><span class="nx">get</span><span class="p">).</span><span class="nx">toHaveBeenCalledWith</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span>
<span class="w">  </span><span class="nx">expect</span><span class="p">(</span><span class="nx">greetingData</span><span class="p">).</span><span class="nx">toHaveTextContent</span><span class="p">(</span><span class="s1">&#39;hello there&#39;</span><span class="p">)</span>
<span class="p">})</span>
</code></pre></div>
<p>这个测试用例有点不同，因为我们必须处理HTTP请求。为此，我们必须在<code>jest.mock('axios')</code>的帮助下模拟axios请求。</p>
<p>现在，我们可以使用axiosMock并对其应用<code>get()</code>方法。最后，我们将使用Jest函数<code>mockResolvedValueOnce()</code>来传递模拟数据作为参数。</p>
<p>现在，对于第二个测试，我们可以单击按钮来获取数据并使用<code>async/await</code>来解析它。现在我们要测试三件事:</p>
<ul>
<li>如果HTTP请求已经正确完成</li>
<li>如果使用url完成了HTTP请求</li>
<li>如果获取的数据符合期望。</li>
</ul>
<p>对于第一个测试，我们只检查加载消息在没有数据要显示时是否显示。</p>
<p>也就是说，我们现在已经完成了八个简单的步骤来测试你的React应用程序。</p>
<p>更多例子请参考<a href="https://testing-library.com/docs/example-input-event">React Testing Library官方文档</a>。</p>
<h1 id="_5">结语<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h1>
<p><code>React Testing Library</code> 是用于测试 React 应用的一大利器。它为我们提供了访问 <code>jest-dom</code> 匹配器的机会，以及最佳实践，使得我们可以使用它来更有效地测试我们的组件。希望这篇文章是有用的，它将帮助您在未来构建更加健壮的 React 应用程序。</p>
<h1 id="_6">参考文章<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h1>
<ul>
<li><a href="https://zh-hans.reactjs.org/docs/testing.html">React 官方文档</a></li>
<li><a href="https://testing-library.com/docs/example-input-event">React Testing Library 官方文档</a></li>
<li><a href="https://www.freecodecamp.org/news/8-simple-steps-to-start-testing-react-apps-using-react-testing-library-and-jest/">How to Start Testing Your React Apps Using the React Testing Library and Jest</a></li>
<li><a href="https://thomlom.dev/test-react-testing-library/">Test React apps with React Testing Library</a></li>
</ul>
<p><a href="https://segmentfault.com/t/单元测试">单元测试</a>
<a href="https://segmentfault.com/t/test">test</a>
<a href="https://segmentfault.com/t/react.js">react.js</a>
<a href="https://segmentfault.com/t/jest">jest</a></p>
<p>阅读 8.5k发布于 2020-03-18</p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">July 29, 2025</span>
  </span>

    
    
    
      
  
  <span class="md-source-file__fact">
    <span class="md-icon" title="Contributors">
      
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"/></svg>
      
    </span>
    <nav>
      
        <a href="mailto:1822852997@qq.com">Michael An</a>
    </nav>
  </span>

    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; Michael An
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../js/baidu-statistics.min.js"></script>
      
        <script src="../../js/history.min.js"></script>
      
    
  </body>
</html>