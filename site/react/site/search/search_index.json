{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\u6587\u6863\u7ed3\u6784","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 36  \u9605\u8bfb1\u5206\u949f</p> <p>\u8fd9\u662f React \u7b14\u8bb0</p>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/","title":"\u5e38\u7528\u7b2c\u4e09\u65b9\u5e93\u4ecb\u7ecd","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 17576  \u9605\u8bfb36\u5206\u949f</p> <p>\u8fd9\u90e8\u5206\u7b2c\u4e09\u65b9\u5e93\u662f\u6211\u7ecf\u5e38\u4f7f\u7528\u6216\u8005\u63a5\u89e6\u7684\u7b2c\u4e09\u65b9\u5e93\u3002</p> <p>\u6211\u4eec\u8981\u7ad9\u5728\u5de8\u4eba\u7684\u80a9\u8180\u4e0a\u6458\u82f9\u679c\uff0c\u4e0d\u8981\u91cd\u590d\u9020\u8f6e\u5b50\u3002\u5f53\u7136\uff0c\u8fc7\u591a\u4f7f\u7528\u7b2c\u4e09\u65b9\u8f6e\u5b50\u53ef\u80fd\u9020\u6210\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u9879\u76ee\u4ee3\u7801\u7e41\u6742\uff0c\u7b2c\u4e09\u65b9\u6f5c\u5728\u7684\u98ce\u9669\uff0c\u7b2c\u4e09\u65b9\u4e0d\u80fd\u6ee1\u8db3\u6211\u4eec\u7684\u9700\u6c42\u3002</p>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#ui","title":"UI \u6846\u67b6","text":"<ul> <li>bootstrap</li> <li>Ant-Design</li> <li>Font-awesome</li> <li>iscroll-master</li> </ul>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#react","title":"React \u7cfb\u5217","text":"<ul> <li>react</li> <li>react-data-grid</li> <li>react-mentions</li> <li>react-motion</li> <li>react-responsr</li> <li>react-select</li> <li>react15-modal-demo</li> <li>reactstrap</li> <li>immutable</li> </ul>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#_2","title":"\u7f16\u8f91\u5668","text":"<ul> <li>GGEditor</li> <li>codemirror</li> <li>echarts</li> <li>editorJS</li> <li>slate</li> </ul>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#_3","title":"\u6587\u4ef6\u64cd\u4f5c","text":"<ul> <li>file-upload</li> <li>zipJS</li> </ul>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#_4","title":"\u56fe\u7247\u7f16\u8f91","text":"<p>\u57fa\u672c\u4e0a\u57fa\u4e8ecanvas\uff0c\u662f\u5355\u72ec\u7684\u56fe\u7247\u7f16\u8f91\u5de5\u5177\uff0c\u9002\u5e94\u4e8e PC \u7aef\u7f16\u8f91\u56fe\u7247\uff0c\u79fb\u52a8\u7aef\u4e0d\u786e\u5b9a\u4f7f\u7528\u6548\u679c</p>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#cropper","title":"cropper","text":"<p>cropper.js \u8fd9\u662f\u56fd\u5185\u540c\u884c\u5199\u7684\u7ec4\u4ef6\uff0c\u661f\u6807 7.8K\uff0c\u6bd4\u8f83\u7a33\u5b9a\u3002\u7f3a\u70b9\uff1a\u6700\u65b0\u7248\u672c\u57fa\u4e8eJquery\uff0c\u65e9\u671f\u7248\u672c\u539f\u751fJS\u3002\u4ee3\u7801\u94fe\u63a5\uff1ahttps://fengyuanchen.github.io/cropper/</p>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#fabricjs","title":"fabricjs","text":"<p>\u56fd\u5916\u540c\u884c\u5199\u7684\u7ec4\u4ef6\uff0cgithub stars15K\uff0c\u4ee3\u7801\u6210\u719f\u7a33\u5b9a\u3002\u529f\u80fd\u5f3a\u5927\uff0c\u9002\u5408\u77e2\u91cf\u56fe\u548c\u6805\u683c\u56fe\u7684\u7f16\u8f91\uff0cJavascript Canvas Library, SVG-to-Canvas (&amp; canvas-to-SVG) Parser\u3002\u5b98\u7f51\u94fe\u63a5\uff1ahttp://fabricjs.com/\uff1bhttps://github.com/fabricjs/fabric.js</p>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#easeljs","title":"EaselJS","text":"<p>\u529f\u80fd\u5f3a\u5927\uff0c\u652f\u6301\u590d\u6742\u7684\u56fe\u7247\u7f16\u8f91\u3002github stars 7.5K\u3002Easel Javascript\u5e93\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u5206\u5c42\u663e\u793a\u5217\u8868\uff0c\u6838\u5fc3\u4ea4\u4e92\u6a21\u578b\u548c\u5e2e\u52a9\u7a0b\u5e8f\u7c7b\uff0c\u4f7f\u4f7f\u7528HTML5 Canvas\u5143\u7d20\u66f4\u52a0\u5bb9\u6613\u3002\u8fd9\u662f\u4e00\u4e2a\u7528\u4e8e\u5728HTML5\u4e2d\u6784\u5efa\u9ad8\u6027\u80fd\u4ea4\u4e92\u5f0f2D\u5185\u5bb9\u7684\u5e93\u3002 \u5b83\u63d0\u4f9b\u4e86\u529f\u80fd\u4e30\u5bcc\u7684\u663e\u793a\u5217\u8868\uff0c\u53ef\u8ba9\u60a8\u64cd\u4f5c\u548c\u5236\u4f5c\u56fe\u5f62\u52a8\u753b\u3002 \u5b83\u8fd8\u4e3a\u9f20\u6807\u548c\u89e6\u6478\u4ea4\u4e92\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u4ea4\u4e92\u6a21\u578b\u3002\u5b83\u975e\u5e38\u9002\u5408\u6784\u5efa\u6e38\u620f\uff0c\u751f\u6210\u827a\u672f\uff0c\u5e7f\u544a\uff0c\u6570\u636e\u53ef\u89c6\u5316\u4ee5\u53ca\u5176\u4ed6\u9ad8\u5ea6\u56fe\u5f62\u5316\u7684\u4f53\u9a8c\u3002 \u5b83\u53ef\u4ee5\u5355\u72ec\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u4e0e\u5176\u4ed6CreateJS\u5957\u4ef6\uff08SoundJS\uff0cPreloadJS\u548cTweenJS\uff09\u914d\u5408\u4f7f\u7528\u3002\u5b83\u6ca1\u6709\u5916\u90e8\u4f9d\u8d56\u5173\u7cfb\uff0c\u53ef\u4ee5\u4e0e\u4f7f\u7528\u7684\u4efb\u4f55\u6846\u67b6\u517c\u5bb9\u3002\u652f\u6301\u590d\u6742\u56fe\u7247\u7f16\u8f91\uff1a\u6db2\u5316\u8499\u7248\u6a21\u7cca\u7b49</p> <p>\u5b98\u7f51\u94fe\u63a5\uff1ahttp://createjs.com/\uff1bhttps://www.createjs.com/easeljs\uff1bhttps://github.com/CreateJS/EaselJS</p>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#fabric-photo","title":"fabric-photo","text":"<p>\u8fd9\u4e2a\u662f\u56fd\u5185\u4f5c\u8005\uff0c\u57fa\u4e8e\u601d\u8def2\u7684\u4ee3\u7801\uff0c\u505a\u51fa\u7684React\u517c\u5bb9\u7684\u5e93\u3002\u4f18\u70b9\uff1a\u548cReact\u517c\u5bb9\u3002\u7f3a\u70b9\uff1agithub stars 80 \u8f83\u5c11\u3002https://github.com/ximing/fabric-photo</p>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#_5","title":"\u79fb\u52a8\u7aef\u64cd\u4f5c","text":"<p>\u8bf4\u660e\uff1a\u4e0b\u9762\u662f\u57fa\u4e8e React \u7684\u79fb\u52a8\u7aef UI \u6846\u67b6</p>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#1frozenui","title":"1\u3001frozenUI","text":"<p>stars: 2.9k \u7531\u817e\u8baf\u56e2\u961f\u5f00\u53d1\uff0c\u4f7f\u7528iconfont\u5c55\u793a\u56fe\u6807\uff0c\u5305\u542b\u4e86\u6309\u94ae\uff0c\u5217\u8868\uff0c\u8868\u5355\uff0c\u63d0\u793a\uff0c\u5f39\u7a97\u7b49\u5e38\u7528\u7ec4\u4ef6\u3002\u4f7f\u7528sass\u7f16\u5199css\u4ee3\u7801\u3002\u4f7f\u7528\u7b80\u5355\uff08\u9759\u6001CSS\u4ee3\u7801\uff09\u3002\u5b98\u7f51\u94fe\u63a5\uff1ahttp://frozenui.github.io/</p> <p><code>&lt;link rel=\"stylesheet\" href=\"http://i.gtimg.cn/vipstyle/frozenui/2.0.0/css/frozen.css\"&gt;</code></p>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#2mui","title":"2\u3001MUI","text":"<p>Stars: 12k\u3002MUI\u4e0d\u4f9d\u8d56\u4efb\u4f55\u7b2c\u4e09\u65b9JS\u5e93\uff0c\u538b\u7f29\u540e\u7684JS\u548cCSS\u6587\u4ef6\u4ec5\u6709100+K\u548c60+K\uff1b\u63a5\u8fd1\u539f\u751f APP \u4f53\u9a8c\u3002\u6709\u5f88\u591a\u539f\u751fAPP\u7684\u7ec4\u4ef6\uff0c\u5355\u72ec\u505a\u79fb\u52a8\u7aef\u7684\u7f51\u9875\u7684\u8bdd\u6bd4\u8f83\u9ebb\u70e6\uff0c\u9002\u5408\u505aAPP\u6df7\u5408\u5f00\u53d1\u3002\u5b98\u7f51\u94fe\u63a5\uff1ahttps://dev.dcloud.net.cn/mui/</p>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#3amazeui","title":"3\u3001AmazeUI","text":"<p>stars 13k\uff0c\u56fd\u5185\u9996\u5bb6 UI \u6846\u67b6\uff0c\u5b98\u7f51\u94fe\u63a5 https://amazeui.clouddeep.cn </p>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#4sui","title":"4\u3001SUI","text":"<p>Stars: 6k\u3002\u6dd8\u5b9d\u56e2\u961f \u4e3b\u8981\u501f\u9274 Framework7 \u7684\u5f62\u6001\u5e76\u4ee5\u6b64\u4e3a\u57fa\u7840\uff0c\u6838\u5fc3\u5e93\u538b\u7f29Gzip\u540e\u7684JS\u3001CSS\u7f51\u7edc\u4f20\u8f93\u4f53\u79ef**\u603b\u5171\u53ea\u670952K**\u3002http://m.sui.taobao.org/</p>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#5ant-design","title":"5\u3001Ant-design","text":"<p>stars: 7k \u8682\u8681\u91d1\u670d\u56e2\u961f\u4e3b\u8981\u7528\u4e8e\u6dd8\u5b9d\u652f\u4ed8\u5b9d\uff1bUI \u98ce\u683c\u548c calendar \u7ec4\u4ef6\u7c7b\u4f3c\u3002https://mobile.ant.design/index-cn</p>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#6react-weui","title":"6\u3001React WeUI","text":"<p>\u57fa\u4e8e\u5fae\u4fe1\u548c React \u6846\u67b6\u5236\u4f5c\uff0c\u6ca1\u6709\u5728 github \u4e0a\u5f00\u6e90\u3002\u5b98\u7f51\u94fe\u63a5\uff1ahttps://weui.github.io/react-weui/docs/#/react-weui/docs/page/0/articles/0</p>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#_6","title":"\u5176\u4ed6","text":""},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#_7","title":"\u6253\u5305\u5de5\u5177","text":"<ul> <li>webpack - \u6253\u5305\u9879\u76ee\u3002</li> <li>rollup - \u6253\u5305 npm \u5e93\u3002</li> <li>parcel - webpack \u7ade\u54c1\uff0c\u4f46\u53d1\u5c55\u524d\u666f\u4e0d\u4e50\u89c2\uff0c\u518d\u89c2\u5bdf\u4e00\u6bb5\u65f6\u95f4\u3002</li> <li>systemjs - \u9488\u5bf9\u4e00\u4e9b\u7279\u6b8a\u573a\u666f\u4f1a\u6bd4\u8f83\u6709\u7528\uff0c\u6bd4\u5982\u4e91 ide\uff0c\u652f\u4ed8\u5b9d\u5c0f\u7a0b\u5e8f IDE \u7b49\u3002</li> <li>microbundle - \u57fa\u4e8e rollup\uff0c\u7b80\u5316\u914d\u7f6e\u3002</li> <li>webpack-dev-server</li> <li>webpack-dev-middleware</li> <li>vue-cli</li> <li>create-react-app</li> <li>webpack-merge - \u5408\u5e76 webpack \u914d\u7f6e\u3002</li> <li>webpack-chain - \u901a\u8fc7 chain \u98ce\u683c api \u7684\u65b9\u5f0f\u4fee\u6539 webpack \u914d\u7f6e\u3002</li> </ul>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#webpack-loader","title":"webpack loader \u548c\u63d2\u4ef6","text":"<ul> <li>hard-source-webpack-plugin - \u6027\u80fd\u63d0\u5347 70%\uff0c\u4f46\u6709\u5751\u3002</li> <li>svgr - svg \u8f6c react \u7ec4\u4ef6\u3002</li> <li>postcss - CSS \u754c\u7684 babel\u3002</li> <li>autoprefixer - \u4e3a CSS \u9009\u62e9\u6743\u81ea\u52a8\u52a0 prefix\u3002</li> <li>cssnano - CSS \u538b\u7f29\uff0c\u4e5f\u6709\u7c7b preset \u7684\u6982\u5ff5\u3002</li> <li>mini-css-extract-plugin - \u63d0\u53d6 CSS \u4e3a\u5355\u72ec\u6587\u4ef6\u3002</li> <li>webpackbar - webpack \u8fdb\u5ea6\u6761\u3002</li> <li>webpack-bundle-analyzer - \u6784\u5efa\u4ea7\u7269\u5360\u6bd4\u5206\u6790\u3002</li> <li>uglifyjs-webpack-plugin - JS \u538b\u7f29\uff0c\u4ea7\u7269\u4e3a ES5 \u8bed\u6cd5\u3002</li> <li>terser-webpack-plugin - JS \u538b\u7f29\uff0c\u4ea7\u7269\u4e3a ES6 \u8bed\u6cd5\u3002</li> <li>webpack-manifest-plugin - \u751f\u6210 manifest.json\u3002</li> <li>copy-webpack-plugin - \u590d\u5236\u989d\u5916\u7684\u6587\u4ef6\u5230\u8f93\u51fa\u76ee\u5f55\u3002</li> <li>case-sensitive-paths-webpack-plugin - \u5927\u5c0f\u5199\u654f\u611f\u68c0\u6d4b\uff0c\u80fd\u89c4\u907f\u4e00\u4e9b\u95ee\u9898\uff0c\u4f46\u6784\u5efa\u65f6\u6027\u80fd\u6d88\u8017\u8f83\u5927\u3002</li> <li>css-hot-loader - CSS \u70ed\u66f4\u65b0\uff0c\u642d\u914d mini-css-extract-plugin \u4f7f\u7528\u3002</li> <li>duplicate-package-checker-webpack-plugin - \u91cd\u590d\u4f9d\u8d56\u68c0\u6d4b\u3002</li> </ul>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#_8","title":"\u6d4b\u8bd5","text":"<ul> <li>jest \u9002\u5408\u5355\u5143\u6d4b\u8bd5</li> <li>ts-jest</li> <li>enzyme</li> <li>jsdom</li> <li>puppeteer</li> <li>react-test-rerender - \u5b98\u65b9\u51fa\u54c1\u3002</li> <li>react-testing-library - kentcdodds \u51fa\u54c1\u3002</li> </ul>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#_9","title":"\u6846\u67b6","text":"<ul> <li>react</li> <li>vue</li> <li>next.js</li> <li>nuxt.js</li> <li>gastby</li> <li>umi</li> <li>choo</li> <li>taro</li> <li>after.js</li> </ul>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#react_1","title":"react \u76f8\u5173\u5e93","text":"<ul> <li>preact</li> <li>inferno</li> <li>react-router</li> <li>reach-router</li> <li>router5</li> <li>react-loadable</li> <li>ant-design</li> <li>material-ui</li> <li>react-intl</li> <li>react-dnd</li> <li>react-helmet</li> </ul>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#_10","title":"\u6570\u636e\u6d41","text":"<ul> <li>redux</li> <li>immer</li> <li>mobx</li> <li>unstated</li> <li>rxjs</li> <li>dva</li> <li>rematch - \u57fa\u4e8e redux\u3002</li> </ul>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#redux","title":"redux \u6269\u5c55","text":"<ul> <li>react-redux - \u7ed1\u5b9a react \u548c redux\uff0c\u8fd9\u4e2a\u540d\u5b57\u53d6\u5f97\u4e0d\u597d\uff0creact-redux \u8fd8\u662f redux-react \u8001\u662f\u8bb0\u4e0d\u6e05\u695a\u3002</li> <li>redux-saga</li> <li>redux-persist</li> <li>redux-bundler</li> <li>redux-box</li> </ul>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#_11","title":"\u5de5\u5177\u7c7b","text":"<ul> <li>history</li> <li>path-to-regexp</li> <li>lodash</li> <li>fastclick</li> </ul>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#_12","title":"\u6027\u80fd\u4f18\u5316","text":"<ul> <li>workbox - PWA \u65b9\u6848\uff0cGoogle \u51fa\u54c1\u3002</li> <li>critical - \u63d0\u53d6\u5173\u952e CSS\u3002</li> </ul>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#_13","title":"\u5176\u4ed6\u8bed\u8a00","text":"<ul> <li>typescript</li> <li>flow</li> <li>graphql</li> </ul>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#_14","title":"\u5de5\u7a0b","text":"<ul> <li>lerna - monorepo \u7ba1\u7406\u3002</li> <li>lerna-changelog - \u4e3a lerna \u9879\u76ee\u81ea\u52a8\u751f\u6210 changelog\u3002</li> <li>eslint - JS \u98ce\u683c\u7ea6\u675f\u3002</li> <li>eslint-config-airbnb</li> <li>prettier - \u66f4\u4e3b\u89c2\u7684\u98ce\u683c\u81ea\u52a8\u4fee\u6539\u3002</li> <li>yeoman-generator - \u811a\u624b\u67b6\u5de5\u5177\u3002</li> <li>serve - \u672c\u5730\u9759\u6001\u670d\u52a1\u5668\u3002</li> <li>np - npm publish \u8f85\u52a9\uff0c\u81ea\u52a8 push\u3001\u6253 tag\u3001\u5347\u7248\u672c\u7b49\u3002</li> <li>lint-staged - eslint \u63d0\u901f\uff0c\u53ea lint \u63d0\u4ea4\u7684\u4ee3\u7801\u3002</li> <li>coveralls - \u8986\u76d6\u7387\u3002</li> <li>husky - \u6dfb\u52a0 git hooks\u3002</li> <li>cross-env - \u8de8\u5e73\u53f0\u7684\u73af\u5883\u53d8\u91cf\u58f0\u660e\u3002</li> <li>projj - \u672c\u5730 git \u9879\u76ee\u7ba1\u7406\uff0c\u652f\u6301 github \u548c gitlab\u3002</li> </ul>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#_15","title":"\u7f16\u8f91\u5668","text":"<ul> <li>VSCode</li> <li>IntelliJ IDEA - \u6211\u7528\u8fd9\u4e2a\u3002</li> <li>codesandbox</li> <li>stackblitz</li> </ul>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#_16","title":"\u547d\u4ee4\u884c","text":"<ul> <li>yargs - \u547d\u4ee4\u884c\u5165\u53e3\u5957\u4ef6\u3002</li> <li>yargs-parser - \u547d\u4ee4\u884c\u53c2\u6570\u89e3\u6790\u3002</li> <li>chalk - \u8f93\u51fa\u4e0d\u540c\u989c\u8272\u3002</li> <li>cheerio - \u7528\u7c7b jQuery \u8bed\u6cd5\u5904\u7406 HTML\u3002</li> <li>chokidar - \u6587\u4ef6\u76d1\u542c\u3002</li> <li>clipboardy - \u590d\u5236\u6587\u672c\u5230\u7c98\u8d34\u677f\u3002</li> <li>debug - \u6253\u5370\u8c03\u8bd5\u4fe1\u606f\u3002</li> <li>deprecate - \u7ed9\u8fc7\u671f\u8b66\u544a\u3002</li> <li>glob - \u6587\u4ef6\u67e5\u627e\u3002</li> <li>signale - \u6f02\u4eae\u7684\u65e5\u5fd7\u6253\u5370\u3002</li> <li>semver - semver \u7248\u672c\u5904\u7406\u3002</li> <li>update-notifier - \u66f4\u65b0\u63d0\u9192\u3002</li> <li>rimraf - \u5220\u9664\u6587\u4ef6\u3002</li> </ul>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#_17","title":"\u8bf7\u6c42\u5904\u7406","text":"<ul> <li>whatwg-fetch</li> <li>got</li> <li>axios</li> <li>request</li> <li>reqwest</li> </ul>"},{"location":"%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BB%8B%E7%BB%8D/#_18","title":"\u5176\u4ed6","text":"<p>\u8fd9\u90e8\u5206\u662f nodeJS \u7b49\u7b2c\u4e09\u65b9\u5e93</p> <p>electron async                \u5f02\u6b65\u64cd\u4f5c\u7ba1\u7406           bl                      \u4e8c\u8fdb\u5236\u6570\u636e\u89e3\u6790         bluebird          \u5f02\u6b65\u64cd\u4f5c\u7ba1\u7406           browserify      \u53d1\u5e03\u6d4f\u89c8\u5668\u53ef\u7528\u7684\u5305     bunyan              \u65e5\u5fd7\uff08logging\uff09\u7ba1\u7406    chai                  \u65ad\u8a00                   chalk                \u547d\u4ee4\u884c\u5f69\u8272\u8f93\u51fa         co                      \u5f02\u6b65\u6d41\u7a0b\u7ba1\u7406           colors              \u547d\u4ee4\u884c\u5f69\u8272\u8f93\u51fa         commander        \u547d\u4ee4\u884c\u5de5\u5177             debug                Debug\u8f93\u51fa\u5668            dockerode        Docker\u7ba1\u7406             duplexify        Stream\u6d41\u64cd\u4f5c\u5de5\u5177       event-stream  Stream\u6d41\u64cd\u4f5c\u5de5\u5177       express            Server\u670d\u52a1\u5668\u6846\u67b6       glob                  \u6587\u4ef6\u540d\u5339\u914d             grunt                \u6784\u5efa\u5de5\u5177               gulp                  \u6784\u5efa\u5de5\u5177               hapi                  Server\u670d\u52a1\u5668\u6846\u67b6       hyperquest      \u8f7b\u91cf\u7ea7HTTP\u5ba2\u6237\u7aef       istanbul          \u6d4b\u8bd5\u7528\u4f8b\u8986\u76d6\u7387\u5206\u6790     JSONStream      Stream\u6d41\u7ba1\u7406\u5de5\u5177       koa                    Server\u670d\u52a1\u5668\u6846\u67b6       levelup            LevelDB                lodash              \u51fd\u6570\u5f0f\u7f16\u7a0b\u5de5\u5177         log4js              \u65e5\u5fd7\uff08logging\uff09\u7ba1\u7406\u5de5\u5177  minimatch        \u6587\u4ef6\u540d\u5339\u914d             minimist          \u547d\u4ee4\u884c\u64cd\u4f5c             mocha                \u5355\u5143\u6d4b\u8bd5               moment              \u65e5\u671f\u65f6\u95f4\u8f93\u51fa           mongodb            MongoDB                mysql                MySQL                  nconf                \u914d\u7f6e\u5de5\u5177               needle              \u8f7b\u91cf\u7ea7HTTP\u5ba2\u6237\u7aef       node-fetch      Fetch API              nodemailer      Email\u5ba2\u6237\u7aef            passport          \u767b\u5f55\u548c\u8ba4\u8bc1             pg                      Postgres               pump                  Stream\u6d41\u7ba1\u7406\u5de5\u5177       redis                Redis                  request            HTTP\u5ba2\u6237\u7aef             restify            REST API\u642d\u5efa           socket.io        WebSocket\u5b9e\u65f6\u901a\u4fe1      split2              Stream\u6d41\u7ba1\u7406\u5de5\u5177       tape                  \u5355\u5143\u6d4b\u8bd5               through2          Stream\u6d41\u7ba1\u7406\u5de5\u5177       underscore      \u51fd\u6570\u5f0f\u7f16\u7a0b\u5de5\u5177         ws                      Websockets             xml2js              XML\u8f6c\u6362\u4e3aJavaScript     </p>"},{"location":"new-third-part-lib/%40excalidraw_excalidraw/","title":"@excalidraw/excalidraw","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1238  \u9605\u8bfb3\u5206\u949f</p> <p>\u8fd9\u662f react \u7684\u5e93\uff0c\u4e0d\u662f VUE \u7684\u5e93</p> <p>\u4e0b\u8f7d\u91cf 82,496</p> <p>\u661f\u6807 80K</p> <p>\u4e00\u4e2a React \u5199\u7684\u7ed8\u56fe\u7f16\u8f91\u5668</p> <p>https://github.com/excalidraw/excalidraw</p> <p>https://www.npmjs.com/package/@excalidraw/excalidraw</p> <p>Excalidraw\u00a0is exported as a component to directly embed in your projects.</p> <pre><code>npm install react react-dom @excalidraw/excalidraw\n</code></pre> <p>https://docs.excalidraw.com/docs/@excalidraw/excalidraw/integration</p> <p>https://docs.excalidraw.com/docs/@excalidraw/excalidraw/api</p> <pre><code>import { Excalidraw } from \"@excalidraw/excalidraw\";\n\nfunction App() {\n  return (\n    &lt;&gt;\n      &lt;h1 style={{ textAlign: \"center\" }}&gt;Excalidraw Example&lt;/h1&gt;\n      &lt;div style={{ height: \"500px\" }}&gt;\n        &lt;Excalidraw /&gt;\n      &lt;/div&gt;\n    &lt;/&gt;\n  );\n}\n</code></pre> <p>\u200b</p>"},{"location":"new-third-part-lib/Bootstrap/","title":"bootstrap","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 7463  \u9605\u8bfb15\u5206\u949f</p>"},{"location":"new-third-part-lib/Bootstrap/#button","title":"\u6309\u94ae button","text":"<p>\u6309\u94ae\u53ca\u6309\u94ae\u7ec4\u548c\u4e0b\u62c9\u83dc\u5355\u7684\u5b9e\u73b0\uff08\u6309\u94ae\u7684\u5927\u5c0f\u8bbe\u7f6e\uff0c\u5c45\u4e2d\u8bbe\u7f6e\uff09</p>"},{"location":"new-third-part-lib/Bootstrap/#_1","title":"\u9ed8\u8ba4\u4e03\u4e2a\u6309\u94ae","text":"<p>btn-default primary info success danger warning link</p>"},{"location":"new-third-part-lib/Bootstrap/#_2","title":"\u6309\u94ae\u5c3a\u5bf8","text":"<p>sm-xs-lg btn-lg</p>"},{"location":"new-third-part-lib/Bootstrap/#_3","title":"\u72b6\u6001","text":"<p>\u7c7b\u540d\u52a0\u5165active\u6216\u8005disabled\u8868\u793a\u6fc0\u6d3b\u72b6\u6001\u548c\u7981\u6b62\u72b6\u6001\u2014\u2014H5</p> <p>\u4f7f\u7528input\u6807\u7b7etype=button\u53ef\u4ee5\u5b9e\u73b0\uff0c\u6700\u597d\u4f7f\u7528button\u6807\u7b7e\u3002</p> <pre><code>&lt;a href=\"#\" class='btn btn-default btn-lg' role='button'&gt;Link\u6309\u94ae&lt;/a&gt;\n</code></pre>"},{"location":"new-third-part-lib/Bootstrap/#_4","title":"\u4e0b\u62c9\u83dc\u5355","text":"<p>\u4e0b\u62c9\u83dc\u5355 dropdown-toggle\u7c7b\u540d data-toggle=\u2018dropdown\u2019\u3002 \u5bf9\u5e94\u7684\u4e0b\u62c9\u83dc\u5355\u7ec4\uff08class = dropdown-menu; role=menu \u901a\u5e38\u4f7f\u7528ul+li\u5d4c\u5957\u4e0b\u62c9\u83dc\u5355\uff09</p> <p>\u4e0b\u62c9\u83dc\u5355\u4e2d\u7684\u5206\u5272\u7ebf\u548c\u83dc\u5355\u5934</p> <pre><code>&lt;li role=\"presentation\" class='divider'&gt;&lt;/li&gt;\n&lt;li role='presentation' class='dropdown-header'&gt;&lt;/li&gt;\n</code></pre> <p>\u8fd9\u4e24\u4e2a\u90fd\u4e0d\u80fd\u70b9\u51fb\uff0c\u662f\u4e0b\u62c9\u83dc\u5355\u7684\u5206\u9694\u7b26</p> <p>disabled\u7c7b\uff1a\u7981\u6b62\u9009\u9879\uff08\u548cJS\u94fe\u63a5\uff0c\u5982\u679c\u5728\u67d0\u4e2a\u72b6\u6001\u589e\u52a0disabled \u8fd9\u4e2a\u6309\u94ae\u4e0d\u80fd\u70b9\u51fb\uff09</p>"},{"location":"new-third-part-lib/Bootstrap/#split-button","title":"\u5206\u88c2\u5f0f\u4e0b\u62c9\u83dc\u5355 split button","text":"<p>\u901a\u5e38\u7684\u4e0b\u62c9\u83dc\u5355\u9f20\u6807\u7ecf\u8fc7\u4e0b\u62c9\u83dc\u5355\u81ea\u52a8\u663e\u793a\uff0c\u8fd9\u4e2a\u5206\u88c2\u5f0f\u9700\u8981\u5355\u51fb\u624d\u53ef\u4ee5\u663e\u793a\u4e0b\u62c9\u83dc\u5355\u3002</p> <p>bootstrap\u5305\u542bcss\u548cjs\u6587\u4ef6\uff0c\u9996\u5148\u5f15\u7528JQ\u6587\u4ef6\uff0c\u4e4b\u540e\u5f15\u5165bootstrap.js\u6587\u4ef6</p> <p>\u5728\u76ee\u524d\u7684\u9879\u76ee\u4e2d\uff0c\u4f7f\u7528ReactStrap.css \u6837\u5f0f\u57fa\u672c\u4e00\u81f4\uff0c\u4e0d\u4f7f\u7528jquery\u3002</p>"},{"location":"new-third-part-lib/Bootstrap/#_5","title":"\u4e0a\u5f39\u4e0b\u62c9\u83dc\u5355","text":"<p>dropup</p>"},{"location":"new-third-part-lib/Bootstrap/#_6","title":"\u5b57\u4f53\u56fe\u6807","text":"<p>\u5728BT\u4e2d\u9884\u8bbe\u5b57\u4f53\u56fe\u6807\u7ec4\u4ef6\uff0c\u5c06\u5b57\u4f53\u56fe\u6807\u5bf9\u5e94\u7684\u7c7b\u52a0\u5165\u5176\u4e2d\u5373\u53ef.</p> <pre><code>&lt;span class=\"glyphicon glyphicon-euro\"&gt;&lt;/span&gt;\n&lt;span class=\"glyphicon glyphicon-heart\"&gt;&lt;/span&gt;\n</code></pre>"},{"location":"new-third-part-lib/Bootstrap/#_7","title":"\u6309\u94ae\u7ec4","text":"<p>\u6309\u94ae\u7ec4\uff1a\u6309\u94ae\u6ca1\u6709\u95f4\u8ddd\u3002\u4e2d\u95f4\u7684\u6309\u94ae\u662f\u76f4\u89d2\uff0c\u8fb9\u7f18\u7684\u6309\u94ae\u662f\u5706\u89d2</p> <p>btn-group</p> <p>btn-group-vertical \u5782\u76f4\u6392\u5217</p> <p>btn-group-justified \u4e24\u7aef\u5bf9\u9f50\u6392\u5217\uff08\u548c\u5916\u90e8\u5bb9\u5668\u5bbd\u5ea6\u76f8\u7b49\uff09</p>"},{"location":"new-third-part-lib/Bootstrap/#_8","title":"\u5176\u4ed6\u5e93","text":"<p>html5shiv.min.js \u8ba9\u65e9\u671fie\u6d4f\u89c8\u5668\u8ba4\u8bc6html5\u65b0\u6807\u7b7e</p> <p>respond.min.js \u8ba9\u65e9\u671fie\u6d4f\u89c8\u5668\u5a92\u4f53\u67e5\u8be2\u4fbf\u4e8e\u54cd\u5e94\u5f0f\u5e03\u5c40\uff08\u8054\u7f51\uff09</p>"},{"location":"new-third-part-lib/Bootstrap/#_9","title":"\u5bfc\u822a\u680f","text":"<p>\u5bfc\u822a\u680f\u8bbe\u7f6ebrand image (logo\u56fe\u7247) navbar-header\u7c7b\u3002</p> <p>\u5728navbar\u4e2d\u8bbe\u7f6e\u8868\u5355\uff08\u641c\u7d22\u6846\uff09\u52a0\u5165form\u6807\u7b7e</p> <p>\u5bfc\u822a\u680f\u7684\u6837\u5f0f\u5206\u4e3a\u666e\u901a\u548c\u80f6\u56ca\u5bfc\u822a\u6837\u5f0f\u3002</p>"},{"location":"new-third-part-lib/Bootstrap/#_10","title":"\u7f51\u7ad9\u5c42\u7ea7\uff08\u8def\u5f84\u5bfc\u822a\uff09","text":"<p>breadcrumb\u7c7b\uff0c\u6807\u660e\u7528\u6237\u5728\u591a\u5c11\u5c42\u7ea7\u4e4b\u4e0b\u3002\uff08ul-li\u5d4c\u5957\uff09\u5b98\u65b9\u662fol-li</p>"},{"location":"new-third-part-lib/Bootstrap/#_11","title":"\u5206\u9875","text":"<p>\u5bf9\u4e8e\u6587\u6863\u535a\u5ba2\u578b\u7f51\u7ad9\u9875\u9762\u4f17\u591a\uff0c\u4f7f\u7528\u5206\u9875\u6548\u679c\u5f88\u597d\u3002pagination</p> <p>\u6846\u67b6\u63d2\u4ef6\u7b49\u529f\u80fd\u9700\u8981\u591a\u7ec3\u4e60\uff0c\u7ec3\u5f97\u591a\u81ea\u7136\u5c31\u53ef\u4ee5\u719f\u7ec3\u638c\u63e1\u4e86\u3002\u73b0\u5728\u671f\u671b\u627e\u5230Vue\u7684\u7ec3\u4e60\u9879\u76ee\u3002</p>"},{"location":"new-third-part-lib/Bootstrap/#label","title":"\u6807\u7b7elabel","text":"<p>label-default \u7c7b\u4f3c\u4e8ebutton\u7684\u6837\u5f0f</p> <p>badge \u5fbd\u7ae0\uff08\u5fae\u535a\u7684\u6d4f\u89c8\u91cf\uff09</p> <p>\u9ed1\u9a6c\u7a0b\u5e8f\u5458\u7684\u6559\u5b66\u89c6\u9891\u76f8\u5bf9\u66f4\u5b9e\u9645\u3002</p>"},{"location":"new-third-part-lib/Bootstrap/#_12","title":"\u5de8\u5e55","text":"<p>\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u5927banner\u3002\u5185\u90e8\u5d4c\u5957\u4e00\u4e2aH1\u3002\u53ef\u4ee5\u653e\u7f6e\u80cc\u666f\u56fe\u7247\u3002</p>"},{"location":"new-third-part-lib/Bootstrap/#_13","title":"\u8868\u5355","text":"<p>\u8f93\u5165\u6846\u7ec4\uff08input-group\uff09\uff1a\u901a\u5e38\u60c5\u51b5\u8f93\u5165\u6846\u5916\u90e8\u8fd8\u6709\u4e00\u4e2a\u9009\u9879.</p> <p>\u8f85\u52a9\u7c7b\uff1atext-warning bg-warning \u8bbe\u7f6e\u6587\u672c\u548c\u80cc\u666f\u7684\u989c\u8272\u3002</p> <p>\u5173\u95ed\u6309\u94ae\uff1a\u9700\u8981\u914d\u5408JS\u4ee3\u7801\u4f7f\u7528</p>"},{"location":"new-third-part-lib/Bootstrap/#_14","title":"\u663e\u793a\u9690\u85cf\u5185\u5bb9","text":"<p>\u5728\u7279\u5b9a\u7684\u6807\u7b7e\u4e0a\u52a0\u5165show\u548chidden\u7c7b\u3002</p>"},{"location":"new-third-part-lib/Bootstrap/#_15","title":"\u54cd\u5e94\u5f0f\u5e03\u5c40(\u91cd\u8981)","text":"<p>visible-xs \u5728\u624b\u673a\u4e0a\u663e\u793a  hidden-xs \u5728\u624b\u673a\u4e0a\u9690\u85cf</p> <p>xs-sm-md-lg</p>"},{"location":"new-third-part-lib/Bootstrap/#_16","title":"\u6805\u683c\u7cfb\u7edf","text":"<p>\u6805\u683c\u7cfb\u7edf\u5fc5\u987b\u653e\u5728\u4e00\u4e2a\u5bb9\u5668\u4e2d\uff08container\u6216\u8005container-fluid\u6d41\u5f0f\u5e03\u5c40\u8fd8\u662f\u666e\u901a\u5e03\u5c40\uff09\u4e00\u884c\u53ef\u4ee5\u5206\u621012\u5217\u3002</p> <p>\u5a92\u4f53\u67e5\u8be2\uff1a\u81ea\u52a8\u68c0\u6d4b\u5c4f\u5e55\u7684\u5927\u5c0f\u5e76\u663e\u793a\u9690\u85cf\u90e8\u5206\u5185\u5bb9\u3002</p> <p>container&gt;row&gt; col-md-8 col-md-4</p> <p>\u6574\u4f53container\u5185\u90e8\u653e\u7f6e\u591a\u4e2a\u884crow\uff0c\u6bcf\u4e2a\u884c\u5185\u653e\u7f6ecol\u5217\u5143\u7d20\u3002</p> <p>\u5b9e\u9645\u60c5\u51b5\uff1a\u540c\u4e00\u4e2a\u5143\u7d20\u5728\u4e0d\u540c\u7684\u5c4f\u5e55\u4e0a\u663e\u793a\u4e0d\u540c\u7684\u5bbd\u5ea6\u548c\u6837\u5f0f\u3002</p>"},{"location":"new-third-part-lib/Bootstrap/#_17","title":"\u504f\u79fb","text":"<p>col-md-offset-4 \u5b9e\u73b0\u7a7a\u767d\u504f\u79fb\uff08\u4e0d\u4f7f\u7528padding-margin\uff09</p> <p>\u4e3b\u8981\u638c\u63e1\u6574\u884c\u6392\u5217\u7684\u65b9\u5f0f\u548coffset\u504f\u79fb\u8bbe\u7f6e\u6837\u5f0f\u3002</p> <p>\u8fdb\u5ea6\u6761\u53ef\u4ee5\u8bbe\u7f6e\u52a8\u753b\u6548\u679c\uff08\u8fdb\u5ea6\u6761\u5305\u542b\u6709\u6761\u7eb9\u6837\u5f0f\uff0c\u8bbe\u7f6eactice\u7c7b\u540d\uff09\u6574\u4f53\u4e0a\u8fdb\u5ea6\u6761\u7684\u989c\u8272\u6700\u597d\u4e00\u81f4\uff08\u6216\u8005\u52a8\u6001\u53d8\u5316\uff09\uff0c\u4e2a\u4eba\u89c9\u5f97\u989c\u8272\u5806\u53e0\u6548\u679c\u4e0d\u662f\u5f88\u597d\u770b\u3002</p>"},{"location":"new-third-part-lib/Bootstrap/#_18","title":"\u5a92\u4f53\u5bf9\u8c61\u548c\u5217\u8868\u7ec4","text":"<p>\u5a92\u4f53\u5bf9\u8c61\uff1a\u5c31\u662f\u9879\u76ee\u4e2d\u7684\u4ea7\u54c1\u548c\u5bf9\u5e94\u7684\u8bf4\u660e\u6587\u5b57\u3002\u53ef\u4ee5\u4f7f\u7528\u5728\u7528\u6237\u8bc4\u8bba\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u5728\u4ea7\u54c1\u4ecb\u7ecd\u4e2d\u3002</p>"},{"location":"new-third-part-lib/Bootstrap/#_19","title":"\u9762\u677f\u548c\u4e95","text":"<p>panel\u548cwell\u7c7b\uff1a\u5c06\u4e00\u90e8\u5206\u5143\u7d20\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\u3002</p>"},{"location":"new-third-part-lib/Bootstrap/#bootstrap_1","title":"bootstrap\u5b66\u4e60","text":"<p>\u4e0d\u540c\u89c6\u9891\u6559\u7a0b\u7684\u6559\u5b66\u5185\u5bb9\u5c42\u6b21\u4e0d\u9f50\uff0c\u4ee5\u5b9e\u9645\u5b98\u65b9\u6587\u6863\u4e3a\u51c6\u3002\u6bcf\u6b21\u5b66\u4e60\u90fd\u6709\u65b0\u7684\u6536\u83b7\u3002\u4e0d\u540c\u7684\u7f51\u7ad9\u548c\u4e0d\u540c\u7684\u9879\u76ee\u4e2d\u9700\u8981\u4f7f\u7528\u4e0d\u540c\u7684\u7ec4\u4ef6\u3002</p> <p>v3.bootcss.com \u4e2d\u6587\u6587\u6863</p>"},{"location":"new-third-part-lib/Bootstrap/#button_1","title":"\u6309\u94ae button","text":"<p>\u6309\u94ae\u53ca\u6309\u94ae\u7ec4\u548c\u4e0b\u62c9\u83dc\u5355\u7684\u5b9e\u73b0\uff08\u6309\u94ae\u7684\u5927\u5c0f\u8bbe\u7f6e\uff0c\u5c45\u4e2d\u8bbe\u7f6e\uff09</p>"},{"location":"new-third-part-lib/Bootstrap/#_20","title":"\u9ed8\u8ba4\u4e03\u4e2a\u6309\u94ae","text":"<p>btn-default primary info success danger warning link</p>"},{"location":"new-third-part-lib/Bootstrap/#_21","title":"\u6309\u94ae\u5c3a\u5bf8","text":"<p>sm-xs-lg btn-lg</p>"},{"location":"new-third-part-lib/Bootstrap/#_22","title":"\u72b6\u6001","text":"<p>\u7c7b\u540d\u52a0\u5165active\u6216\u8005disabled\u8868\u793a\u6fc0\u6d3b\u72b6\u6001\u548c\u7981\u6b62\u72b6\u6001\u2014\u2014H5</p> <p>\u4f7f\u7528input\u6807\u7b7etype=button\u53ef\u4ee5\u5b9e\u73b0\uff0c\u6700\u597d\u4f7f\u7528button\u6807\u7b7e\u3002</p> <p>Link\u6309\u94ae</p>"},{"location":"new-third-part-lib/Bootstrap/#_23","title":"\u4e0b\u62c9\u83dc\u5355","text":"<p>\u4e0b\u62c9\u83dc\u5355 dropdown-toggle\u7c7b\u540d data-toggle=\u2018dropdown\u2019\u3002 \u5bf9\u5e94\u7684\u4e0b\u62c9\u83dc\u5355\u7ec4\uff08class = dropdown-menu; role=menu \u901a\u5e38\u4f7f\u7528ul+li\u5d4c\u5957\u4e0b\u62c9\u83dc\u5355\uff09</p> <p>\u89c6\u9891\u6559\u7a0b\u4f7f\u7528DW\u8f6f\u4ef6\uff0c\u81ea\u5df1\u7b80\u5355\u7684DW\u4e5f\u8981\u719f\u6089\uff08\u8f6f\u4ef6\u8f83\u5927\u8f83\u5361\u672a\u7834\u89e3\uff09</p> <p>\u4e0b\u62c9\u83dc\u5355\u4e2d\u7684\u5206\u5272\u7ebf\u548c\u83dc\u5355\u5934</p> <p>\u8fd9\u4e24\u4e2a\u90fd\u4e0d\u80fd\u70b9\u51fb\uff0c\u662f\u4e0b\u62c9\u83dc\u5355\u7684\u5206\u9694\u7b26</p> <p>disabled\u7c7b\uff1a\u7981\u6b62\u9009\u9879\uff08\u548cJS\u94fe\u63a5\uff0c\u5982\u679c\u5728\u67d0\u4e2a\u72b6\u6001\u589e\u52a0disabled \u8fd9\u4e2a\u6309\u94ae\u4e0d\u80fd\u70b9\u51fb\uff09</p>"},{"location":"new-third-part-lib/Bootstrap/#split-button_1","title":"\u5206\u88c2\u5f0f\u4e0b\u62c9\u83dc\u5355 split button","text":"<p>\u901a\u5e38\u7684\u4e0b\u62c9\u83dc\u5355\u9f20\u6807\u7ecf\u8fc7\u4e0b\u62c9\u83dc\u5355\u81ea\u52a8\u663e\u793a\uff0c\u8fd9\u4e2a\u5206\u88c2\u5f0f\u9700\u8981\u5355\u51fb\u624d\u53ef\u4ee5\u663e\u793a\u4e0b\u62c9\u83dc\u5355\u3002\u8fd9\u4e2a\u4e0b\u62c9\u83dc\u5355\u4f7f\u7528\u4e0d\u662f\u5f88\u591a\u3002</p> <p>bootstrap\u5305\u542bcss\u548cjs\u6587\u4ef6\uff0c\u9996\u5148\u5f15\u7528JQ\u6587\u4ef6\uff0c\u4e4b\u540e\u5f15\u5165strap.js\u6587\u4ef6</p>"},{"location":"new-third-part-lib/Bootstrap/#_24","title":"\u4e0a\u5f39\u4e0b\u62c9\u83dc\u5355","text":"<p>dropup</p>"},{"location":"new-third-part-lib/Bootstrap/#_25","title":"\u5b57\u4f53\u56fe\u6807","text":"<p>\u5728BT\u4e2d\u9884\u8bbe\u5b57\u4f53\u56fe\u6807\u7ec4\u4ef6\uff0c\u5c06\u5b57\u4f53\u56fe\u6807\u5bf9\u5e94\u7684\u7c7b\u52a0\u5165\u5176\u4e2d\u5373\u53ef.</p> <p> </p>"},{"location":"new-third-part-lib/Bootstrap/#_26","title":"\u6309\u94ae\u7ec4","text":"<p>\u6309\u94ae\u7ec4\uff1a\u6309\u94ae\u6ca1\u6709\u95f4\u8ddd\u3002\u4e2d\u95f4\u7684\u6309\u94ae\u662f\u76f4\u89d2\uff0c\u8fb9\u7f18\u7684\u6309\u94ae\u662f\u5706\u89d2</p> <p>btn-group</p> <p>btn-group-vertical \u5782\u76f4\u6392\u5217</p> <p>btn-group-justified \u4e24\u7aef\u5bf9\u9f50\u6392\u5217\uff08\u548c\u5916\u90e8\u5bb9\u5668\u5bbd\u5ea6\u76f8\u7b49\uff09</p>"},{"location":"new-third-part-lib/Bootstrap/#_27","title":"\u5176\u4ed6","text":"<p>html5shiv.min.js \u8ba9\u65e9\u671fie\u6d4f\u89c8\u5668\u8ba4\u8bc6html5\u65b0\u6807\u7b7e</p> <p>respond.min.js  \u8ba9\u65e9\u671fie\u6d4f\u89c8\u5668\u5a92\u4f53\u67e5\u8be2\u4fbf\u4e8e\u54cd\u5e94\u5f0f\u5e03\u5c40\uff08\u8054\u7f51\uff09</p>"},{"location":"new-third-part-lib/Bootstrap/#_28","title":"\u5bfc\u822a\u680f","text":"<p>\u5bfc\u822a\u680f\u8bbe\u7f6ebrand image (logo\u56fe\u7247) navbar-header\u7c7b\u3002</p> <p>\u5728navbar\u4e2d\u8bbe\u7f6e\u8868\u5355\uff08\u641c\u7d22\u6846\uff09 \u52a0\u5165form\u6807\u7b7e</p>"},{"location":"new-third-part-lib/Bootstrap/#_29","title":"\u7f51\u7ad9\u5c42\u7ea7\uff08\u8def\u5f84\u5bfc\u822a\uff09","text":"<p>breadcrumb\u7c7b\uff0c\u6807\u660e\u7528\u6237\u5728\u591a\u5c11\u5c42\u7ea7\u4e4b\u4e0b\u3002\uff08ul-li\u5d4c\u5957\uff09\u5b98\u65b9\u662fol-li</p>"},{"location":"new-third-part-lib/Bootstrap/#input","title":"\u8f93\u5165\u6846input","text":""},{"location":"new-third-part-lib/Bootstrap/#_30","title":"\u8f93\u5165\u6846\u7ec4","text":"<p>input-group</p>"},{"location":"new-third-part-lib/Bootstrap/#_31","title":"\u5206\u9875","text":"<p>\u5bf9\u4e8e\u6587\u6863\u535a\u5ba2\u578b\u7f51\u7ad9\u9875\u9762\u4f17\u591a\uff0c\u4f7f\u7528\u5206\u9875\u6548\u679c\u5f88\u597d\u3002pagination</p> <p>\u6846\u67b6\u63d2\u4ef6\u7b49\u529f\u80fd\u9700\u8981\u591a\u7ec3\u4e60\uff0c\u7ec3\u5f97\u591a\u81ea\u7136\u5c31\u53ef\u4ee5\u719f\u7ec3\u638c\u63e1\u4e86\u3002\u73b0\u5728\u671f\u671b\u627e\u5230Vue\u7684\u7ec3\u4e60\u9879\u76ee\u3002</p>"},{"location":"new-third-part-lib/Bootstrap/#label_1","title":"\u6807\u7b7elabel","text":"<p>label-default \u7c7b\u4f3c\u4e8ebutton\u7684\u6837\u5f0f</p> <p>badge \u5fbd\u7ae0\uff08\u5fae\u535a\u7684\u6d4f\u89c8\u91cf\uff09</p> <p>\u9ed1\u9a6c\u7a0b\u5e8f\u5458\u7684\u6559\u5b66\u89c6\u9891\u76f8\u5bf9\u66f4\u5b9e\u9645\u3002</p>"},{"location":"new-third-part-lib/Bootstrap/#_32","title":"\u5de8\u5e55","text":"<p>\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u5927banner\u3002\u5185\u90e8\u5d4c\u5957\u4e00\u4e2aH1\u3002\u53ef\u4ee5\u653e\u7f6e\u80cc\u666f\u56fe\u7247\u3002</p>"},{"location":"new-third-part-lib/Bootstrap/#_33","title":"\u9875\u5934","text":"<p>\u6574\u4e2a\u89c6\u9891\u6709\u7ec6\u8282\u95ee\u9898\u662f\u9519\u8bef\u7684\u3002</p>"},{"location":"new-third-part-lib/Bootstrap/#_34","title":"\u8868\u5355","text":"<p>\u8f93\u5165\u6846\u7ec4\uff08input-group\uff09\uff1a\u901a\u5e38\u60c5\u51b5\u8f93\u5165\u6846\u5916\u90e8\u8fd8\u6709\u4e00\u4e2a\u9009\u9879.</p> <p>\u8f85\u52a9\u7c7b\uff1atext-warning bg-warning \u8bbe\u7f6e\u6587\u672c\u548c\u80cc\u666f\u7684\u989c\u8272\u3002</p> <p>\u5173\u95ed\u6309\u94ae\uff1a\u9700\u8981\u914d\u5408JS\u4ee3\u7801\u4f7f\u7528</p>"},{"location":"new-third-part-lib/Bootstrap/#_35","title":"\u663e\u793a\u9690\u85cf\u5185\u5bb9","text":"<p>\u5728\u7279\u5b9a\u7684\u6807\u7b7e\u4e0a\u52a0\u5165show\u548chidden\u7c7b\u3002</p>"},{"location":"new-third-part-lib/Bootstrap/#_36","title":"\u54cd\u5e94\u5f0f\u5e03\u5c40","text":"<p>visible-xs \u5728\u624b\u673a\u4e0a\u663e\u793a  hidden-xs \u5728\u624b\u673a\u4e0a\u9690\u85cf</p>"},{"location":"new-third-part-lib/JS-Bridge/","title":"JS Bridge","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1210  \u9605\u8bfb3\u5206\u949f</p>"},{"location":"new-third-part-lib/JS-Bridge/#1","title":"1\u3001\u95ee\u9898\u6765\u6e90","text":"<p>\u73b0\u5728\u5f88\u591a\u5f00\u53d1\u90fd\u662f hybrid \u6df7\u5408\u5f0f\u5f00\u53d1\uff0c\u4e5f\u5c31\u662f\u4e00\u5957\u4ee3\u7801\uff0c\u540c\u65f6\u5b9e\u73b0 web Android ios \u5f00\u53d1\u3002\u90a3\u4e48\u9700\u8981 JS \u8c03\u7528\u539f\u751f Java android \u7684\u63a5\u53e3\uff0c\u6216\u8005 Java \u8c03\u7528 JS \u7684\u65b9\u6cd5\u3002JS bridge \u662f\u5b9e\u73b0\u7684\u65b9\u6848\u4e4b\u4e00\uff0c\u4f8b\u5982 react native\u3002\u5c0f\u7a0b\u5e8f\u6bd4\u8f83\u7279\u6b8a\uff0c\u4e5f\u662f JS \u8c03\u7528\u539f\u751f\u73af\u5883\u7684 API\u3002</p>"},{"location":"new-third-part-lib/JS-Bridge/#2js-bridge","title":"2\u3001JS bridge \u529f\u80fd","text":"<p>\u8ba9 JS \u8c03\u7528 Java \u7684\u63a5\u53e3\uff0cJava \u8c03\u7528 JS \u7684\u63a5\u53e3\uff0c\u4e92\u76f8\u8c03\u7528</p>"},{"location":"new-third-part-lib/JS-Bridge/#3","title":"3\u3001\u5b9e\u73b0\u539f\u7406\uff1a","text":"<p>Java \u8c03\u7528 JS \u7684\u63a5\u53e3\uff1a\u56e0\u4e3a JS \u662f\u89e3\u91ca\u6027\u8bed\u8a00\uff0c\u4e5f\u5c31\u662f\u8f93\u5165 JS \u4ee3\u7801\u5373\u53ef\u6267\u884c\uff0c\u90a3\u4e48 Java \u53ef\u4ee5\u5728 JS context \u4e0a\u4e0b\u6587\u4e2d\uff0c\u7c7b\u4f3c\u6267\u884c JS \u4ee3\u7801\uff0cevaluate Javascript \u6765\u6267\u884cJS\u4ee3\u7801\uff0c\u5e76\u4e14\u53ef\u4ee5\u83b7\u53d6\u8fd4\u56de\u503c\u6267\u884c\u56de\u8c03</p> <p>JS \u8c03\u7528 Java \u63a5\u53e3\uff1a</p> <p>3.1 JS \u8bf7\u6c42\u65f6\uff0c\u5199\u5165\u7279\u6b8a\u7684\u5b57\u6bb5\uff0cJava \u5b9e\u73b0\u7279\u5b9a\u5b57\u6bb5\u62e6\u622a\u5e76\u8fd4\u56de\u7ed3\u679c\uff0c\u6b63\u5e38\u5b57\u6bb5\u653e\u884c\u7684\u7b56\u7565</p> <p>3.2 Java \u628a\u63a5\u53e3\u6ce8\u5165 Windows \u6216\u8005 context \u5bf9\u8c61\u4e2d\uff0cJS \u8c03\u7528\u5168\u5c40\u53d8\u91cf\u4e2d\u7684\u65b9\u6cd5(\u76ee\u524d\u9879\u76ee\u4e2d\u662f\u8fd9\u4e2a\u6267\u884c\u601d\u8def\uff0cJS \u90e8\u5206\u901a\u8fc7\u5168\u5c40\u53d8\u91cf\u8c03\u7528 Java \u7684 API\uff0c\u7136\u540e\u6267\u884c\u5bf9\u5e94\u7684\u64cd\u4f5c)</p> <p>\u4ee3\u7801\u94fe\u63a5\uff1a\ufeffhttps://github.com/lzyzsd/JsBridge\ufeff </p> <p>\u53c2\u8003\u535a\u5ba2\uff1a\ufeffhttps://juejin.cn/post/6936814903021797389\ufeff </p>"},{"location":"new-third-part-lib/JSON%20Server/","title":"JSON Server","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 12240  \u9605\u8bfb25\u5206\u949f</p> <p>JsonServer\u4e3b\u8981\u7684\u4f5c\u7528\u5c31\u662f\u642d\u5efa\u672c\u5730\u7684\u6570\u636e\u63a5\u53e3\uff0c\u521b\u5efajson\u6587\u4ef6\uff0c\u4fbf\u4e8e\u8c03\u8bd5\u8c03\u7528</p> <p>\u5982\u679c\u6211\u4eec\u53ea\u662fget\u4e00\u4e9b\u6570\u636e\uff0c\u53ea\u7528\u501f\u52a9 json placeholder\uff08http://jsonplaceholder.typicode.com\uff09\u5c31\u53ef\u4ee5\u5f88\u597d\u7684\u5b9e\u73b0\uff0c\u4f46\u662f\u5982\u679c\u6211\u4eec\u60f3\u8981post\u4e00\u4e9b\u6570\u636e\uff0c\u4f7f\u7528jsonplaceholder\u5c31\u6709\u4e9b\u529b\u4e0d\u4ece\u5fc3\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u4eca\u5929\u5c31\u6765\u804a\u804a\u600e\u4e48\u501f\u52a9\u4e8e json-server \u6765\u642d\u5efa\u6211\u4eec\u7684\u672c\u5730\u7684\u6570\u636e\u63a5\u53e3\uff0c\u5bf9\u6211\u4eec\u7684\u6570\u636e\u8fdb\u884c\u589e\u5220\u6539\u67e5\u3002</p> <p>json-server\u7f51\u5740\uff1ahttps://www.npmjs.com/package/json-server</p>"},{"location":"new-third-part-lib/JSON%20Server/#getting-started","title":"Getting started","text":"<p>Install JSON Server</p> <pre><code>npm install -g json-server\n</code></pre> <p>Create a <code>db.json</code> file with some data</p> <pre><code>{\n  \"posts\": [\n    { \"id\": 1, \"title\": \"json-server\", \"author\": \"typicode\" }\n  ],\n  \"comments\": [\n    { \"id\": 1, \"body\": \"some comment\", \"postId\": 1 }\n  ],\n  \"profile\": { \"name\": \"typicode\" }\n}\n</code></pre> <p>Start JSON Server</p> <pre><code>json-server --watch db.json\n</code></pre> <p>Now if you go to http://localhost:3000/posts/1, you'll get</p> <pre><code>{ \"id\": 1, \"title\": \"json-server\", \"author\": \"typicode\" }\n</code></pre> <p>Also when doing requests, it's good to know that:</p> <ul> <li>If you make POST, PUT, PATCH or DELETE requests, changes will be automatically and safely saved to <code>db.json</code> using lowdb.</li> <li>Your request body JSON should be object enclosed, just like the GET output. (for example <code>{\"name\": \"Foobar\"}</code>)</li> <li>Id values are not mutable. Any <code>id</code> value in the body of your PUT or PATCH request will be ignored. Only a value set in a POST request will be respected, but only if not already taken.</li> <li>A POST, PUT or PATCH request should include a <code>Content-Type: application/json</code> header to use the JSON in the request body. Otherwise it will result in a 200 OK but without changes being made to the data.</li> </ul>"},{"location":"new-third-part-lib/JSON%20Server/#routes","title":"Routes \u8def\u7531","text":"<p>Based on the previous <code>db.json</code> file, here are all the default routes. You can also add other routes using <code>--routes</code>. \u4e0b\u9762\u662f\u9ed8\u8ba4\u7684\u8def\u7531\uff0c\u53ef\u4ee5\u4f7f\u7528 --routes \u589e\u52a0\u5176\u4ed6\u7684\u8def\u7531\u3002</p>"},{"location":"new-third-part-lib/JSON%20Server/#plural-routes","title":"Plural routes \u591a\u8def\u7531","text":"<pre><code>GET    /posts\nGET    /posts/1\nPOST   /posts\nPUT    /posts/1\nPATCH  /posts/1\nDELETE /posts/1\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#singular-routes","title":"Singular routes \u5355\u8def\u7531","text":"<pre><code>GET    /profile\nPOST   /profile\nPUT    /profile\nPATCH  /profile\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#filter","title":"Filter \u8fc7\u6ee4","text":"<p>Use <code>.</code> to access deep properties</p> <pre><code>GET /posts?title=json-server&amp;author=typicode\nGET /posts?id=1&amp;id=2\nGET /comments?author.name=typicode\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#paginate","title":"Paginate \u5206\u9875","text":"<p>Use <code>_page</code> and optionally <code>_limit</code> to paginate returned data.</p> <p>In the <code>Link</code> header you'll get <code>first</code>, <code>prev</code>, <code>next</code> and <code>last</code> links.</p> <pre><code>GET /posts?_page=7\nGET /posts?_page=7&amp;_limit=20\n</code></pre> <p>10 items are returned by default</p>"},{"location":"new-third-part-lib/JSON%20Server/#sort","title":"Sort \u6392\u5e8f","text":"<p>Add <code>_sort</code> and <code>_order</code> (ascending order by default)</p> <pre><code>GET /posts?_sort=views&amp;_order=asc\nGET /posts/1/comments?_sort=votes&amp;_order=asc\n</code></pre> <p>For multiple fields, use the following format:</p> <pre><code>GET /posts?_sort=user,views&amp;_order=desc,asc\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#slice","title":"Slice \u83b7\u53d6\u6570\u636e\u5207\u7247","text":"<p>Add <code>_start</code> and <code>_end</code> or <code>_limit</code> (an <code>X-Total-Count</code> header is included in the response)</p> <pre><code>GET /posts?_start=20&amp;_end=30\nGET /posts/1/comments?_start=20&amp;_end=30\nGET /posts/1/comments?_start=20&amp;_limit=10\n</code></pre> <p>Works exactly as Array.slice (i.e. <code>_start</code> is inclusive and <code>_end</code> exclusive)</p>"},{"location":"new-third-part-lib/JSON%20Server/#operators","title":"Operators \u64cd\u4f5c\u7b26","text":"<p>Add <code>_gte</code> or <code>_lte</code> for getting a range</p> <pre><code>GET /posts?views_gte=10&amp;views_lte=20\n</code></pre> <p>Add <code>_ne</code> to exclude a value</p> <pre><code>GET /posts?id_ne=1\n</code></pre> <p>Add <code>_like</code> to filter (RegExp supported)</p> <pre><code>GET /posts?title_like=server\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#full-text-search","title":"Full-text search \u5168\u6587\u68c0\u7d22","text":"<p>Add <code>q</code></p> <pre><code>GET /posts?q=internet\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#relationships","title":"Relationships \u7236\u5b50\u5173\u7cfb","text":"<p>To include children resources, add <code>_embed</code></p> <pre><code>GET /posts?_embed=comments\nGET /posts/1?_embed=comments\n</code></pre> <p>To include parent resource, add <code>_expand</code></p> <pre><code>GET /comments?_expand=post\nGET /comments/1?_expand=post\n</code></pre> <p>To get or create nested resources (by default one level, add custom routes for more)</p> <pre><code>GET  /posts/1/comments\nPOST /posts/1/comments\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#database","title":"Database \u6570\u636e\u5e93","text":"<pre><code>GET /db\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#homepage","title":"Homepage \u4e3b\u9875","text":"<p>Returns default index file or serves <code>./public</code> directory</p> <pre><code>GET /\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#extras","title":"Extras \u989d\u5916\u529f\u80fd","text":""},{"location":"new-third-part-lib/JSON%20Server/#static-file-server","title":"Static file server \u9759\u6001\u6587\u4ef6\u670d\u52a1\u5668","text":"<p>You can use JSON Server to serve your HTML, JS and CSS, simply create a <code>./public</code> directory or use <code>--static</code> to set a different static files directory.</p> <pre><code>mkdir public\necho 'hello world' &gt; public/index.html\njson-server db.json\njson-server db.json --static ./some-other-dir\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#alternative-port","title":"Alternative port \u53ef\u9009\u62e9\u7684\u7aef\u53e3","text":"<p>You can start JSON Server on other ports with the <code>--port</code> flag:</p> <pre><code>$ json-server --watch db.json --port 3004\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#access-from-anywhere","title":"Access from anywhere","text":"<p>You can access your fake API from anywhere using CORS and JSONP.</p>"},{"location":"new-third-part-lib/JSON%20Server/#remote-schema","title":"Remote schema \u8fdc\u7a0b\u6a21\u5f0f","text":"<p>You can load remote schemas.</p> <pre><code>$ json-server http://example.com/file.json\n$ json-server http://jsonplaceholder.typicode.com/db\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#generate-random-data","title":"Generate random data \u751f\u6210\u968f\u673a\u503c","text":"<p>Using JS instead of a JSON file, you can create data programmatically.</p> <pre><code>// index.js\nmodule.exports = () =&gt; {\n  const data = { users: [] }\n  // Create 1000 users\n  for (let i = 0; i &lt; 1000; i++) {\n    data.users.push({ id: i, name: `user${i}` })\n  }\n  return data\n}\n\n$ json-server index.js\n</code></pre> <p>Tip use modules like Faker, Casual, Chance or JSON Schema Faker.</p>"},{"location":"new-third-part-lib/JSON%20Server/#https","title":"HTTPS","text":"<p>There are many ways to set up SSL in development. One simple way is to use hotel.</p>"},{"location":"new-third-part-lib/JSON%20Server/#add-custom-routes","title":"Add custom routes \u589e\u52a0\u81ea\u5b9a\u4e49\u8def\u7531","text":"<p>Create a <code>routes.json</code> file. Pay attention to start every route with <code>/</code>.</p> <pre><code>{\n  \"/api/*\": \"/$1\",\n  \"/:resource/:id/show\": \"/:resource/:id\",\n  \"/posts/:category\": \"/posts?category=:category\",\n  \"/articles\\\\?id=:id\": \"/posts/:id\"\n}\n</code></pre> <p>Start JSON Server with <code>--routes</code> option.</p> <pre><code>json-server db.json --routes routes.json\n</code></pre> <p>Now you can access resources using additional routes.</p> <pre><code>/api/posts # \u2192 /posts\n/api/posts/1  # \u2192 /posts/1\n/posts/1/show # \u2192 /posts/1\n/posts/javascript # \u2192 /posts?category=javascript\n/articles?id=1 # \u2192 /posts/1\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#add-middlewares","title":"Add middlewares \u4e2d\u95f4\u4ef6","text":"<p>You can add your middlewares from the CLI using <code>--middlewares</code> option:</p> <pre><code>// hello.js\nmodule.exports = (req, res, next) =&gt; {\n  res.header('X-Hello', 'World')\n  next()\n}\n\njson-server db.json --middlewares ./hello.js\njson-server db.json --middlewares ./first.js ./second.js\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#cli-usage","title":"CLI usage","text":"<pre><code>json-server [options] &lt;source&gt;\n\nOptions:\n  --config, -c       Path to config file           [default: \"json-server.json\"]\n  --port, -p         Set port                                    [default: 3000]\n  --host, -H         Set host                             [default: \"localhost\"]\n  --watch, -w        Watch file(s)                                     [boolean]\n  --routes, -r       Path to routes file\n  --middlewares, -m  Paths to middleware files                           [array]\n  --static, -s       Set static files directory\n  --read-only, --ro  Allow only GET requests                           [boolean]\n  --no-cors, --nc    Disable Cross-Origin Resource Sharing             [boolean]\n  --no-gzip, --ng    Disable GZIP Content-Encoding                     [boolean]\n  --snapshots, -S    Set snapshots directory                      [default: \".\"]\n  --delay, -d        Add delay to responses (ms)\n  --id, -i           Set database id property (e.g. _id)         [default: \"id\"]\n  --foreignKeySuffix, --fks  Set foreign key suffix, (e.g. _id as in post_id)\n                                                                 [default: \"Id\"]\n  --quiet, -q        Suppress log messages from output                 [boolean]\n  --help, -h         Show help                                         [boolean]\n  --version, -v      Show version number                               [boolean]\n\nExamples:\n  json-server db.json\n  json-server file.js\n  json-server http://example.com/db.json\n\nhttps://github.com/typicode/json-server\n</code></pre> <p>You can also set options in a <code>json-server.json</code> configuration file.</p> <pre><code>{\n  \"port\": 3000\n}\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#module","title":"Module \u6a21\u5757\u5316","text":"<p>If you need to add authentication, validation, or any behavior, you can use the project as a module in combination with other Express middlewares.</p>"},{"location":"new-third-part-lib/JSON%20Server/#simple-example","title":"Simple example","text":"<pre><code>$ npm install json-server --save-dev\n// server.js\nconst jsonServer = require('json-server')\nconst server = jsonServer.create()\nconst router = jsonServer.router('db.json')\nconst middlewares = jsonServer.defaults()\n\nserver.use(middlewares)\nserver.use(router)\nserver.listen(3000, () =&gt; {\n  console.log('JSON Server is running')\n})\n\n$ node server.js\n</code></pre> <p>The path you provide to the <code>jsonServer.router</code> function is relative to the directory from where you launch your node process. If you run the above code from another directory, it\u2019s better to use an absolute path:</p> <pre><code>const path = require('path')\nconst router = jsonServer.router(path.join(__dirname, 'db.json'))\n</code></pre> <p>For an in-memory database, simply pass an object to <code>jsonServer.router()</code>.</p> <p>Please note also that <code>jsonServer.router()</code> can be used in existing Express projects.</p>"},{"location":"new-third-part-lib/JSON%20Server/#custom-routes-example","title":"Custom routes example","text":"<p>Let's say you want a route that echoes query parameters and another one that set a timestamp on every resource created.</p> <pre><code>const jsonServer = require('json-server')\nconst server = jsonServer.create()\nconst router = jsonServer.router('db.json')\nconst middlewares = jsonServer.defaults()\n\n// Set default middlewares (logger, static, cors and no-cache)\nserver.use(middlewares)\n\n// Add custom routes before JSON Server router\nserver.get('/echo', (req, res) =&gt; {\n  res.jsonp(req.query)\n})\n\n// To handle POST, PUT and PATCH you need to use a body-parser\n// You can use the one used by JSON Server\nserver.use(jsonServer.bodyParser)\nserver.use((req, res, next) =&gt; {\n  if (req.method === 'POST') {\n    req.body.createdAt = Date.now()\n  }\n  // Continue to JSON Server router\n  next()\n})\n\n// Use default router\nserver.use(router)\nserver.listen(3000, () =&gt; {\n  console.log('JSON Server is running')\n})\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#access-control-example","title":"Access control example","text":"<pre><code>const jsonServer = require('json-server')\nconst server = jsonServer.create()\nconst router = jsonServer.router('db.json')\nconst middlewares = jsonServer.defaults()\n\nserver.use(middlewares)\nserver.use((req, res, next) =&gt; {\n if (isAuthorized(req)) { // add your authorization logic here\n   next() // continue to JSON Server router\n } else {\n   res.sendStatus(401)\n }\n})\nserver.use(router)\nserver.listen(3000, () =&gt; {\n  console.log('JSON Server is running')\n})\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#custom-output-example","title":"Custom output example","text":"<p>To modify responses, overwrite <code>router.render</code> method:</p> <pre><code>// In this example, returned resources will be wrapped in a body property\nrouter.render = (req, res) =&gt; {\n  res.jsonp({\n    body: res.locals.data\n  })\n}\n</code></pre> <p>You can set your own status code for the response:</p> <pre><code>// In this example we simulate a server side error response\nrouter.render = (req, res) =&gt; {\n  res.status(500).jsonp({\n    error: \"error message here\"\n  })\n}\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#rewriter-example","title":"Rewriter example","text":"<p>To add rewrite rules, use <code>jsonServer.rewriter()</code>:</p> <pre><code>// Add this before server.use(router)\nserver.use(jsonServer.rewriter({\n  '/api/*': '/$1',\n  '/blog/:resource/:id/show': '/:resource/:id'\n}))\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#mounting-json-server-on-another-endpoint-example","title":"Mounting JSON Server on another endpoint example","text":"<p>Alternatively, you can also mount the router on <code>/api</code>.</p> <pre><code>server.use('/api', router)\n</code></pre>"},{"location":"new-third-part-lib/JSON%20Server/#api","title":"API","text":"<p><code>jsonServer.create()</code></p> <p>Returns an Express server.</p> <p><code>jsonServer.defaults([options])</code></p> <p>Returns middlewares used by JSON Server.</p> <ul> <li>options</li> <li><code>static</code> path to static files</li> <li><code>logger</code> enable logger middleware (default: true)</li> <li><code>bodyParser</code> enable body-parser middleware (default: true)</li> <li><code>noCors</code> disable CORS (default: false)</li> <li><code>readOnly</code> accept only GET requests (default: false)</li> </ul> <p><code>jsonServer.router([path|object])</code></p> <p>Returns JSON Server router.</p> <p>\u53c2\u8003\u94fe\u63a5</p> <p>https://blog.csdn.net/lhjuejiang/article/details/81475993</p>"},{"location":"new-third-part-lib/JSzip/","title":"291 zipjs","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 946  \u9605\u8bfb2\u5206\u949f</p>"},{"location":"new-third-part-lib/JSzip/#_1","title":"\u7528\u9014","text":"<p>JSZip is a javascript library for creating, reading and editing .zip files, with a lovely and simple API.</p>"},{"location":"new-third-part-lib/JSzip/#_2","title":"\u53ef\u9760\u6027","text":"<p>300\u4e07\u4e0b\u8f7d\uff0c7000\u9897\u661f\u661f</p>"},{"location":"new-third-part-lib/JSzip/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://stuk.github.io/jszip/</p> <p>https://www.npmjs.com/package/jszip</p>"},{"location":"new-third-part-lib/JSzip/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>var zip = new JSZip();\n\nzip.file(\"Hello.txt\", \"Hello World\\n\");\n\nvar img = zip.folder(\"images\");\nimg.file(\"smile.gif\", imgData, {base64: true});\n\nzip.generateAsync({type:\"blob\"}).then(function(content) {\n  // see FileSaver.js\n  saveAs(content, \"example.zip\");\n});\n\n/*\nResults in a zip containing\nHello.txt\nimages/\n    smile.gif\n*/\n</code></pre>"},{"location":"new-third-part-lib/JSzip/#_5","title":"\u5176\u4ed6","text":"<p>\u53ef\u4ee5\u628a\u5b57\u7b26\u4e32\u5185\u5bb9\uff0c\u6216\u8005\u591a\u5a92\u4f53\u6587\u4ef6\uff0c\u538b\u7f29\u6210 zip\uff0c\u7136\u540e\u4e0b\u8f7d\u5230\u672c\u5730\u3002\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u5728 node \u73af\u5883\u4e2d\u4f7f\u7528\u3002</p> <p>\u4e5f\u53ef\u4ee5\u7f16\u8f91\u6216\u8005\u8bfb\u53d6 zip \u6587\u4ef6</p> <p>\u8fd9\u662f CSDN \u81ea\u5df1\u535a\u5ba2\u7684\u94fe\u63a5\uff0c\u4ecb\u7ecd\u66f4\u8be6\u7ec6\uff0chttps://blog.csdn.net/weixin_41697143/article/details/89027238</p>"},{"location":"new-third-part-lib/Leaflet/","title":"Leaflet","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 11029  \u9605\u8bfb23\u5206\u949f</p> <p>Leaflet is the leading open-source JavaScript library for mobile-friendly interactive maps. Weighing just about 39 KB of gzipped JS plus 4 KB of gzipped CSS code, it has all the mapping features most developers ever need.</p> <p>Leaflet is designed with simplicity, performance and usability in mind. It works efficiently across all major desktop and mobile platforms out of the box, taking advantage of HTML5 and CSS3 on modern browsers while being accessible on older ones too. It can be extended with a huge amount of plugins, has a beautiful, easy to use and well-documented API and a simple, readable source code that is a joy to contribute to.</p> <p>For more info, docs and tutorials, check out the official website. For Leaflet downloads (including the built master version), check out the download page.</p> <p>We're happy to meet new contributors. If you want to get involved with Leaflet development, check out the contribution guide. Let's make the best mapping library that will ever exist, and push the limits of what's possible with online maps!</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"UTF-8\"&gt;\n  &lt;title&gt;Document&lt;/title&gt;\n   &lt;link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.6.0/dist/leaflet.css\"\n   integrity=\"sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==\"\n   crossorigin=\"\"/&gt;\n   &lt;style type=\"text/css\" media=\"screen\"&gt;\n     #mapid { height: 500px; }\n   &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n   &lt;div id=\"mapid\"&gt;&lt;/div&gt;\n   &lt;!-- Make sure you put this AFTER Leaflet's CSS --&gt;\n   &lt;script src=\"https://unpkg.com/leaflet@1.6.0/dist/leaflet.js\"\n   integrity=\"sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew==\"\n   crossorigin=\"\"&gt;&lt;/script&gt;\n   &lt;script type=\"text/javascript\" charset=\"utf-8\" async defer&gt;\n     var mymap = L.map('mapid').setView([51.505, -0.09], 13);\n     L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {\n      attribution: 'Map data &amp;copy; &lt;a href=\"https://www.openstreetmap.org/\"&gt;OpenStreetMap&lt;/a&gt; contributors, &lt;a href=\"https://creativecommons.org/licenses/by-sa/2.0/\"&gt;CC-BY-SA&lt;/a&gt;, Imagery \u00a9 &lt;a href=\"https://www.mapbox.com/\"&gt;Mapbox&lt;/a&gt;',\n      maxZoom: 18,\n      id: 'mapbox/streets-v11',\n      tileSize: 512,\n      zoomOffset: -1,\n      accessToken: 'pk.eyJ1IjoibWljaGFlbGFuIiwiYSI6ImNrOWNpcjloYjAxd3AzbG9haDkyaHFyYWcifQ.c7kTH74OsNMI9RoWxaTQ_Q'\n      // \u73b0\u5728\u754c\u9762\u4e0a\u662f401\u6ca1\u6709\u6743\u9650\uff08\u5e94\u8be5\u9700\u8981\u9a8c\u8bc1token\uff09\u73b0\u5728\u662f\u52a8\u6001\u7684\u516c\u94a5\uff0c\u5982\u679c\u79c1\u6709\u4f7f\u7528\uff0c\u9700\u8981\u7533\u8bf7\n      // (in order to use tiles from Mapbox, you must also request an access token). \n      // accessToken: 'your.mapbox.access.token'\n      // https://account.mapbox.com/\n    }).addTo(mymap);\n\n   &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"new-third-part-lib/Leaflet/#an-open-source-javascript-library-for-mobile-friendly-interactive-maps","title":"an open-source JavaScript library for mobile-friendly interactive maps","text":"<ul> <li> <p>Overview</p> </li> <li> <p>Tutorials</p> </li> <li> <p>Docs</p> </li> <li> <p>Download</p> </li> <li> <p>Plugins</p> </li> <li> <p>Blog</p> </li> </ul> <p>Nov 17, 2019 \u2014 Leaflet 1.6.0 has been released!</p> <p>Leaflet is the leading open-source JavaScript library for mobile-friendly interactive maps. Weighing just about 38 KB of JS, it has all the mapping features most developers ever need.</p> <p>Leaflet is designed with simplicity, performance and usability in mind. It works efficiently across all major desktop and mobile platforms, can be extended with lots of plugins, has a beautiful, easy to use and well-documented API and a simple, readable source code that is a joy to contribute to.</p> <p></p> <p></p> <p></p> <p>A pretty CSS3 popup. Easily customizable.</p> <p>\u00d7</p> <p>+\u2212</p> <p>Leaflet | \u00a9 OpenStreetMap contributors</p> <p>Here we create a map in the <code>'map'</code> div, add tiles of our choice, and then add a marker with some text in a popup:</p> <pre><code>var map = L.map('map').setView([51.505, -0.09], 13);\n\nL.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n    attribution: '&amp;copy; &lt;a href=\"https://www.openstreetmap.org/copyright\"&gt;OpenStreetMap&lt;/a&gt; contributors'\n}).addTo(map);\n\nL.marker([51.5, -0.09]).addTo(map)\n    .bindPopup('A pretty CSS3 popup.&lt;br&gt; Easily customizable.')\n    .openPopup();\n</code></pre> <p>Learn more with the quick start guide, check out other tutorials, or head straight to the API documentation. If you have any questions, take a look at the FAQ first.</p>"},{"location":"new-third-part-lib/Leaflet/#trusted-by-the-best","title":"Trusted by the best","text":"<p>GitHub foursquare Pinterest Facebook Evernote Etsy Flickr 500px Data.gov European Commission The Washington Post Financial Times NPR USA Today National Park Service IGN.com OpenStreetMap</p>"},{"location":"new-third-part-lib/Leaflet/#features","title":"Features","text":"<p>Leaflet doesn't try to do everything for everyone. Instead it focuses on making the basic things work perfectly.</p>"},{"location":"new-third-part-lib/Leaflet/#layers-out-of-the-box","title":"Layers Out of the Box","text":"<ul> <li>Tile layers, WMS</li> <li>Markers, Popups</li> <li>Vector layers: polylines, polygons, circles, rectangles</li> <li>Image overlays</li> <li>GeoJSON</li> </ul>"},{"location":"new-third-part-lib/Leaflet/#interaction-features","title":"Interaction Features","text":"<ul> <li>Drag panning with inertia</li> <li>Scroll wheel zoom</li> <li>Pinch-zoom on mobile</li> <li>Double click zoom</li> <li>Zoom to area (shift-drag)</li> <li>Keyboard navigation</li> <li>Events: click, mouseover, etc.</li> <li>Marker dragging</li> </ul>"},{"location":"new-third-part-lib/Leaflet/#visual-features","title":"Visual Features","text":"<ul> <li>Zoom and pan animation</li> <li>Tile and popup fade animation</li> <li>Very nice default design for markers, popups and map controls</li> <li>Retina resolution support</li> </ul>"},{"location":"new-third-part-lib/Leaflet/#customization-features","title":"Customization Features","text":"<ul> <li>Pure CSS3 popups and controls for easy restyling</li> <li>Image- and HTML-based markers</li> <li>A simple interface for custom map layers and controls</li> <li>Custom map projections (with <code>EPSG:3857/4326/3395</code> out of the box)</li> <li>Powerful OOP facilities for extending existing classes</li> </ul>"},{"location":"new-third-part-lib/Leaflet/#performance-features","title":"Performance Features","text":"<ul> <li>Hardware acceleration on mobilemakes it feel as smooth as native apps</li> <li>Utilizing CSS3 features to make panning and zooming really smooth</li> <li>Smart polyline/polygon rendering with dynamic clipping and simplification makes it very fast</li> <li>Modular build system for leaving out features you don't need</li> <li>Tap delay elimination on mobile</li> </ul>"},{"location":"new-third-part-lib/Leaflet/#map-controls","title":"Map Controls","text":"<ul> <li>Zoom buttons</li> <li>Attribution</li> <li>Layer switcher</li> <li>Scale</li> </ul>"},{"location":"new-third-part-lib/Leaflet/#browser-support","title":"Browser Support","text":""},{"location":"new-third-part-lib/Leaflet/#desktop","title":"Desktop","text":"<ul> <li>Chrome</li> <li>Firefox</li> <li>Safari 5+</li> <li>Opera 12+</li> <li>IE 7\u201311</li> <li>Edge</li> </ul>"},{"location":"new-third-part-lib/Leaflet/#mobile","title":"Mobile","text":"<ul> <li>Safari for iOS 7+</li> <li>Android browser 2.2+, 3.1+, 4+</li> <li>Chrome for mobile</li> <li>Firefox for mobile</li> <li>IE10+ for Win8 devices</li> </ul>"},{"location":"new-third-part-lib/Leaflet/#misc","title":"Misc","text":"<ul> <li>Extremely lightweight</li> <li>No external dependencies</li> </ul> <p>If you find some feature really missing in Leaflet, first check if there's a plugin for it and if it's been discussed before already on GitHub issues. If not, please open a new GitHub issue.</p>"},{"location":"new-third-part-lib/Leaflet/#getting-involved","title":"Getting Involved","text":"<p>Let's create the best mapping library in the world! Leaflet was originally created by Vladimir Agafonkin, but is now developed by a big community of contributors. Pull requests are always welcome. However, there are many more ways to get involved with the development of Leaflet.</p> <p>You can help the project tremendously by discovering and reporting bugs, improving documentation, helping others on Stack Overflow, GIS Stack Exchange and GitHub issues, tweeting to @LeafletJS and spreading the word about Leaflet among your colleagues and friends.</p> <p>Check out the contribution guide for more information on getting involved with Leaflet development.</p> <p>Follow @LeafletJS </p> <p>\u00a9 2010\u20132019 Vladimir Agafonkin. Maps \u00a9 OpenStreetMap contributors.</p>"},{"location":"new-third-part-lib/Mocha/","title":"Mocha","text":""},{"location":"new-third-part-lib/Mocha/#mocha","title":"Mocha \u5355\u5143\u6d4b\u8bd5","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3530  \u9605\u8bfb8\u5206\u949f</p> <p>\u6458\u81ea\u962e\u4e00\u5cf0\u7b14\u8bb0 2019-3-16</p>"},{"location":"new-third-part-lib/Mocha/#0","title":"0\u3001\u8bf4\u660e","text":"<p>Mocha\u53ef\u4ee5\u5728**\u6d4f\u89c8\u5668\u73af\u5883**\u6216\u8005**Node\u73af\u5883**\u4e2d\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\uff0c\u9002\u5e94\u4e8e**JS**\u6d4b\u8bd5\u3002\u4e3b\u8981\u76ee\u7684\u662f\u6d4b\u8bd5\u5355\u4e2a\u51fd\u6570\u7684\u8fd0\u884c\u60c5\u51b5\uff0c\u786e\u4fdd\u5927\u9879\u76ee\u7684\u6b63\u786e\u8fd0\u884c\u3002\u5355\u5143\u6d4b\u8bd5\u5c5e\u4e8e\u9ed1\u76d2\u6d4b\u8bd5\uff08\u51fd\u6570\u7684\u539f\u7406\u8fd8\u9700\u8981\u8fdb\u884c\u767d\u76d2\u6d4b\u8bd5\uff09\u3002\u6d4b\u8bd5\u7684\u7ed3\u679c\u6700\u597d\u9a8c\u8bc1\u6570\u636e\u7c7b\u578b\u548c\u6570\u503c\u662f\u5426\u7b26\u5408\u8981\u6c42\u3002\u5728 api.js \u4e2d\u4e3b\u8981\u6d4b\u8bd5\u8bf7\u6c42-\u54cd\u5e94\u662f\u5426\u7b26\u5408\u9700\u8981\u3002</p>"},{"location":"new-third-part-lib/Mocha/#1","title":"1\u3001\u5b89\u88c5","text":"<pre><code>git clone https://github.com/ruanyf/mocha-demos.git\ncd mocha-demos\nnpm install\n\nnpm install --global mocha\n# \u5168\u5c40\u5b89\u88c5\u6d4b\u8bd5\n</code></pre>"},{"location":"new-third-part-lib/Mocha/#2","title":"2\u3001\u6d4b\u8bd5\u811a\u672c","text":"<p>\u6d4b\u8bd5\u811a\u672c\uff1a\u7528\u6765\u6d4b\u8bd5\u6e90\u4ee3\u7801\u7684\u811a\u672c\uff08\u6d4b\u8bd5 = \u6e90\u4ee3\u7801+\u6d4b\u8bd5\u811a\u672c\uff09</p> <pre><code>// add.js\nfunction add(x, y) {\n  return x + y;\n}\nmodule.exports = add;\n</code></pre> <p>\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u6d4b\u8bd5\u811a\u672c\u9700\u8981\u4e0e\u539f\u59cb\u6587\u4ef6\u540d\u76f8\u540c\uff0c\u540e\u7f00\u4e3a .test.js</p> <pre><code>// add.test.js\nvar add = require('./add.js');\nvar expect = require('chai').expect;\n\n// descrie \u6d4b\u8bd5\u5957\u4ef6\u2014\u2014\u4e00\u7ec4\u76f8\u5173\u7684\u6d4b\u8bd5\uff0c\u662f\u4e00\u4e2a\u51fd\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6d4b\u8bd5\u7684\u540d\u79f0\uff08\u5b57\u7b26\u4e32\uff09\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6d4b\u8bd5\u7684\u51fd\u6570\uff08\u5b9e\u9645\u6267\u884c\uff09\ndescribe('add function', function(){\n  // it \u6d4b\u8bd5\u7528\u4f8b \u4e00\u4e2a\u5355\u72ec\u7684\u6d4b\u8bd5\uff0c\u662f\u5355\u5143\u6d4b\u8bd5\u7684\u6700\u5c0f\u5355\u4f4d\u3002\u4e24\u4e2a\u53c2\u6570\uff1a\u7b2c\u4e00\u4e2a\u662f\u540d\u79f0\uff0c\u7b2c\u4e8c\u4e2a\u662f\u5b9e\u9645\u7684\u6267\u884c\u51fd\u6570\n  if('1+1', function(){\n    expect(add(1, 1).to.be.equal(2);\n  });\n});\n</code></pre>"},{"location":"new-third-part-lib/Mocha/#3","title":"3\u3001\u65ad\u8a00\u5e93","text":"<p>\u65ad\u8a00\u5e93\uff1a\u5224\u65ad\u6e90\u7801\u6267\u884c\u7ed3\u679c\u548c\u9884\u671f\u7ed3\u679c\u662f\u5426\u4e00\u81f4\uff0c\u5982\u679c\u4e0d\u4e00\u81f4\u629b\u51fa\u9519\u8bef\u3002</p> <p>\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff08it\uff09\u53ef\u4ee5\u6709\u591a\u4e2a\u65ad\u8a00\u3002Mocha \u9700\u8981\u5f15\u5165\u5916\u90e8\u7684\u65ad\u8a00\u5e93 chai\u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u4e2d\u6ca1\u6709\u65ad\u8a00\uff0c\u90a3\u4e48\u51fd\u6570\u6267\u884c\u4e0d\u4f1a\u62a5\u9519\uff0c\u6d4b\u8bd5\u4f1a\u901a\u8fc7\u3002</p> <pre><code>var expect = require('chai').expect;\n</code></pre> <pre><code>// \u76f8\u7b49\nexpect(4, 5).to.be.not.equal(10);\nexpect(foo).to.be.deep.equal({bar: 'bar'});\n\n// \u5e03\u5c14\u503c true\nexpect('Mike').to.be.ok;\n\n// \u6570\u636e\u7c7b\u578b\nexpect({foo, 'foo'}).to.be.an('object');\nexpect(foo).to.be.an.instanceof(Foo);\n\n// \u5305\u542b\nexpect([1,2,3]).to.include(2);\nexpect('foobae').to.contain('foo');\n\n// \u5339\u914d\u6b63\u5219\u8868\u8fbe\u5f0f\nexpect('foolbar').to.match(/^foo/);\n\n// \u5934\u90e8\u662fexpect\u65b9\u6cd5\uff0c\u5c3e\u90e8\u662f\u65ad\u8a00\u65b9\u6cd5 equal a ok match include contain\n</code></pre>"},{"location":"new-third-part-lib/Mocha/#4mocha","title":"4\u3001Mocha \u5355\u5143\u6d4b\u8bd5","text":"<pre><code>mocha add.test.js\n# \u901a\u5e38\u60c5\u51b5\u4e0b\u56de\u81ea\u52a8\u67e5\u627etest\u6587\u4ef6\nmocha\nmocha file1 file2 file3\n# \u5355\u5143\u6d4b\u8bd5\u9ed8\u8ba4\u4f1a\u6267\u884c\u4e0b\u9762\u4e00\u5c42\u7684\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6df1\u5c42\u7684\u5355\u5143\u6d4b\u8bd5\u4e0d\u4f1a\u7ee7\u7eed\u6267\u884c\n\nmocha --recursive \n# \u6d4b\u8bd5\u5b50\u76ee\u5f55\u4e0b\u9762\u7684\u5168\u90e8\u6d4b\u8bd5\u7528\u4f8b\n</code></pre>"},{"location":"new-third-part-lib/Mocha/#5","title":"5\u3001\u6d4b\u8bd5\u6587\u4ef6\u901a\u914d\u7b26","text":"<pre><code>mocha spec/{my, awesome}.js\n# \u6267\u884c my.js \u548c awesome.js \n# \u8fd9\u90e8\u5206\u529f\u80fd\u5728\u5c0f\u578b\u5355\u5143\u6d4b\u8bd5\u4e2d\u4e0d\u4f1a\u4f7f\u7528\uff08\u53ea\u6709\u4e00\u4e2a\u6d4b\u8bd5\u6587\u4ef6\uff09\n</code></pre>"},{"location":"new-third-part-lib/Mocha/#6","title":"6\u3001\u547d\u4ee4\u884c\u53c2\u6570","text":"<pre><code>mocha --help\nmocha --reporter spec\n# \u6d4b\u8bd5\u7684\u683c\u5f0f\u662f\u9ed8\u8ba4\u7684spec\n\nnpm install --save-dev mochawesome\nmocha --reporter mochawesome\n# \u6d4b\u8bd5\u7ed3\u679c\u7684\u683c\u5f0f\u7684HTML\u5f62\u5f0f\n\nmocha --growl \n# \u6d4b\u8bd5\u7ed3\u679c\u663e\u793a\u5728\u684c\u9762\n\nmocha --watch\n# \u76d1\u89c6\u6a21\u5f0f\uff08\u6d4b\u8bd5\u811a\u672c\u53d8\u5316\u540e\uff0c\u81ea\u52a8\u8fd0\u884cMocha\u6d4b\u8bd5\uff09\n\nmocha --bail \n# \u6682\u505c\u6a21\u5f0f\uff08\u5982\u679c\u4e00\u4e2a\u6d4b\u8bd5\u4e0d\u901a\u8fc7\uff0c\u540e\u9762\u7684\u6d4b\u8bd5\u7ec8\u6b62\u8fd0\u884c\uff09\n\nmocha --grep \"1+1\"\n# \u9009\u62e9\u6027\u6d4b\u8bd5 \u53ea\u6d4b\u8bd5\u6d4b\u8bd5\u7528\u4f8b\u4e2d\u5305\u542b\u8fd9\u4e2a\u5b57\u7b26\u4e32\u7684\u6d4b\u8bd5\n</code></pre>"},{"location":"new-third-part-lib/Mocha/#7","title":"7\u3001\u914d\u7f6e\u6587\u4ef6","text":"<pre><code>--reporter tap\n--resursive\n--growl\n// mocha.opts\n</code></pre> <p>\u5c06\u7b2c\u516d\u6761\u4e2d\u7684\u547d\u4ee4\u884c\u53c2\u6570\u5355\u72ec\u653e\u5728\u4e00\u4e2a\u6587\u4ef6\u4e2d\uff0c\u6267\u884cmocha\u4f1a\u81ea\u52a8\u68c0\u6d4b\u914d\u7f6e\u6587\u4ef6</p>"},{"location":"new-third-part-lib/Mocha/#8es6","title":"8\u3001ES6\u6d4b\u8bd5","text":"<p>\u9700\u8981\u5c06 ES6 \u6216 coffeeScript TypeScript \u8f6c\u6362\u6210\u4e3a ES5\u624d\u80fd\u8fdb\u884c\u6d4b\u8bd5</p>"},{"location":"new-third-part-lib/React%20Image%20Lightbox/","title":"React Image Lightbox","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6885  \u9605\u8bfb14\u5206\u949f</p> <p>\u57fa\u4e8e React \u7684\u56fe\u7247\u9884\u89c8\u7ec4\u4ef6\uff08\u652f\u6301\u9009\u62e9\u4e0a\u4e00\u5f20\u4e0b\u4e00\u5f20\uff0c\u652f\u6301\u653e\u5927\u7f29\u5c0f\u7b49\u64cd\u4f5c\uff09</p> <p>A flexible lightbox component for displaying images in a React project.</p> <p>Features</p> <ul> <li>Keyboard shortcuts (with rate limiting)</li> <li>Image Zoom</li> <li>Flexible rendering using src values assigned on the fly</li> <li>Image preloading for smoother viewing</li> <li>Mobile friendly, with pinch to zoom and swipe</li> <li>No external CSS</li> </ul>"},{"location":"new-third-part-lib/React%20Image%20Lightbox/#example","title":"Example","text":"<pre><code>import React, { Component } from 'react';\nimport Lightbox from 'react-image-lightbox';\nimport 'react-image-lightbox/style.css'; // This only needs to be imported once in your app\n\n// \u8fd9\u91cc\u662f\u4e0d\u540c\u56fe\u7247\u7684SRC\u6570\u7ec4\nconst images = [\n  '//placekitten.com/1500/500',\n  '//placekitten.com/4000/3000',\n  '//placekitten.com/800/1200',\n  '//placekitten.com/1500/1500',\n];\n\nexport default class LightboxExample extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      photoIndex: 0,\n      isOpen: false,\n    };\n  }\n\n  render() {\n    const { photoIndex, isOpen } = this.state;\n    return (\n      &lt;div&gt;\n        &lt;button type=\"button\" onClick={() =&gt; this.setState({ isOpen: true })}&gt;\n          Open Lightbox\n        &lt;/button&gt;\n        {isOpen &amp;&amp; (\n          &lt;Lightbox\n            mainSrc={images[photoIndex]}\n            nextSrc={images[(photoIndex + 1) % images.length]}\n            prevSrc={images[(photoIndex + images.length - 1) % images.length]}\n            onCloseRequest={() =&gt; this.setState({ isOpen: false })}\n            onMovePrevRequest={() =&gt;\n              this.setState({\n                photoIndex: (photoIndex + images.length - 1) % images.length,\n              })\n            }\n            onMoveNextRequest={() =&gt;\n              this.setState({\n                photoIndex: (photoIndex + 1) % images.length,\n              })\n            }\n          /&gt;\n        )}\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>"},{"location":"new-third-part-lib/React%20Image%20Lightbox/#options","title":"Options","text":"Property Type Description mainSrc (required) string Main display image url prevSrc string Previous display image url (displayed to the left). If left undefined, <code>onMovePrevRequest</code> will not be called, and the button not displayed nextSrc string Next display image url (displayed to the right). If left undefined, <code>onMoveNextRequest</code> will not be called, and the button not displayed mainSrcThumbnail string Thumbnail image url corresponding to <code>props.mainSrc</code>. Displayed as a placeholder while the full-sized image loads. prevSrcThumbnail string Thumbnail image url corresponding to <code>props.prevSrc</code>. Displayed as a placeholder while the full-sized image loads. nextSrcThumbnail string Thumbnail image url corresponding to <code>props.nextSrc</code>. Displayed as a placeholder while the full-sized image loads. onCloseRequest (required) func Close window event. Should change the parent state such that the lightbox is not rendered onMovePrevRequest func Move to previous image event. Should change the parent state such that <code>props.prevSrc</code> becomes <code>props.mainSrc</code>, <code>props.mainSrc</code> becomes <code>props.nextSrc</code>, etc. onMoveNextRequest func Move to next image event. Should change the parent state such that <code>props.nextSrc</code> becomes <code>props.mainSrc</code>, <code>props.mainSrc</code> becomes <code>props.prevSrc</code>, etc. onImageLoad func Called when an image loads.<code>(imageSrc: string, srcType: string, image: object): void</code> onImageLoadError func Called when an image fails to load.<code>(imageSrc: string, srcType: string, errorEvent: object): void</code> imageLoadErrorMessage node What is rendered in place of an image if it fails to load. Centered in the lightbox viewport. Defaults to the string <code>\"This image failed to load\"</code>. onAfterOpen func Called after the modal has rendered. discourageDownloads bool When <code>true</code>, enables download discouragement (preventing [right-click -&gt; Save Image As...]). Defaults to <code>false</code>. animationDisabled bool When <code>true</code>, image sliding animations are disabled. Defaults to <code>false</code>. animationOnKeyInput bool When <code>true</code>, sliding animations are enabled on actions performed with keyboard shortcuts. Defaults to <code>false</code>. animationDuration number Animation duration (ms). Defaults to <code>300</code>. keyRepeatLimit number Required interval of time (ms) between key actions (prevents excessively fast navigation of images). Defaults to <code>180</code>. keyRepeatKeyupBonus number Amount of time (ms) restored after each keyup (makes rapid key presses slightly faster than holding down the key to navigate images). Defaults to <code>40</code>. imageTitle node Image title (Descriptive element above image) imageCaption node Image caption (Descriptive element below image) imageCrossOrigin string <code>crossorigin</code> attribute to append to <code>img</code> elements (MDN documentation) toolbarButtons node[] Array of custom toolbar buttons reactModalStyle Object Set <code>z-index</code> style, etc., for the parent react-modal (react-modal style format) reactModalProps Object Override props set on react-modal (https://github.com/reactjs/react-modal) imagePadding number Padding (px) between the edge of the window and the lightbox. Defaults to <code>10</code>. clickOutsideToClose bool When <code>true</code>, clicks outside of the image close the lightbox. Defaults to <code>true</code>. enableZoom bool Set to <code>false</code> to disable zoom functionality and hide zoom buttons. Defaults to <code>true</code>. wrapperClassName string Class name which will be applied to root element after React Modal nextLabel string <code>aria-label</code> set on the 'Next' button. Defaults to <code>'Next image'</code>. prevLabel string <code>aria-label</code> set on the 'Previous' button. Defaults to <code>'Previous image'</code>. zoomInLabel string <code>aria-label</code> set on the 'Zoom In' button. Defaults to <code>'Zoom in'</code>. zoomOutLabel string <code>aria-label</code> set on the 'Zoom Out' button. Defaults to <code>'Zoom out'</code>. closeLabel string <code>aria-label</code> set on the 'Close Lightbox' button. Defaults to <code>'Close lightbox'</code>."},{"location":"new-third-part-lib/React-Sweet-Progress/","title":"024 React Sweet Progress","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1180  \u9605\u8bfb3\u5206\u949f</p>"},{"location":"new-third-part-lib/React-Sweet-Progress/#_1","title":"\u7528\u9014","text":"<p>react \u5b9e\u73b0\u7684\u8fdb\u5ea6\u6761\uff08UI\u5c0f\u7ec4\u4ef6\uff09</p> <p>A way to quickly add a react progress bar to your app</p>"},{"location":"new-third-part-lib/React-Sweet-Progress/#_2","title":"\u53ef\u9760\u6027","text":"<p>200\u4e2a\u661f\u661f</p> <p>\u5468\u4e0b\u8f7d\u91cf9000</p>"},{"location":"new-third-part-lib/React-Sweet-Progress/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/react-sweet-progress</p> <p>https://github.com/abraztsov/react-sweet-progress</p>"},{"location":"new-third-part-lib/React-Sweet-Progress/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>import { Progress } from 'react-sweet-progress';\nimport \"react-sweet-progress/lib/style.css\";\n\n&lt;Progress percent={88} status=\"success\" /&gt;\n&lt;Progress type=\"circle\" percent={100} status=\"success\" /&gt;\n</code></pre> <p>\u5b9e\u9645\u4f7f\u7528 <pre><code>&lt;Progress \n      type=\"circle\" \n      percent={props.uploadPercent} \n      width={30}\n      theme={\n        {\n          default: {\n            color: 'rgba(0, 0, 0, 0.6)',\n          },\n          active: {\n            color: '#fff',\n          },\n          success: {\n            symbol: props.tipText,\n            color: '#fff',\n          }\n        }\n      }\n      style={\n        {\n          color: '#fff',\n          fontSize: '12px',\n          transform: 'rotate(-90deg)',\n          position: 'absolute',\n          zIndex: 1000,\n        }\n      }\n      symbolClassName={'file-upload-span'}\n    /&gt;\n</code></pre></p>"},{"location":"new-third-part-lib/React-Sweet-Progress/#_5","title":"\u5176\u4ed6","text":"<p>2018\u5e74\u540e\u672a\u66f4\u65b0</p>"},{"location":"new-third-part-lib/Rxjs/","title":"Rxjs","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1749  \u9605\u8bfb4\u5206\u949f</p> <p>\u5468\u4e0b\u8f7d\u91cf 4000 \u4e07\uff0cstar 30K\uff0c\u4f7f\u7528\u8f83\u591a\u3002https://rxjs.dev/</p> <p>\u8fd9\u662f\u4e00\u4e2a JavaScript \u7684\u53cd\u5e94\u5f0f\u6269\u5c55\u5e93\uff08Reactive Extensions Library for JavaScript\uff09\u3002\u76ee\u524d\u5927\u7248\u672c\u66f4\u65b0\u5230 7.8.1\uff0c\u5b9e\u9645\u9879\u76ee\u4e2d\u6ca1\u6709\u4f7f\u7528\u3002</p> <p>\u4e3b\u8981\u4f5c\u7528\uff1a\u628a\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u7684\u5f62\u5f0f\uff0c\u6539\u6210\u94fe\u5f0f\u8c03\u7528\u7684\u5f62\u5f0f\u3002</p> <p>RxJS is a library for reactive programming using Observables, to make it easier to compose asynchronous or callback-based code. This project is a rewrite of Reactive-Extensions/RxJS with better performance, better modularity, better debuggable call stacks, while staying mostly backwards compatible, with some breaking changes that reduce the API surface\u3002</p> <p>RxJS\u662f\u4e00\u4e2a\u4f7f\u7528Observables\u8fdb\u884c\u53cd\u5e94\u5f0f\u7f16\u7a0b\u7684\u5e93\uff0c\u53ef\u4ee5\u66f4\u5bb9\u6613\u5730\u7f16\u5199\u5f02\u6b65\u6216\u57fa\u4e8e\u56de\u8c03\u7684\u4ee3\u7801\u3002\u8be5\u9879\u76ee\u662f\u5bf9Reactive-Extensions/RxJS\u7684\u91cd\u5199\uff0c\u5177\u6709\u66f4\u597d\u7684\u6027\u80fd\u3001\u66f4\u597d\u7684\u6a21\u5757\u5316\u3001\u66f4\u597d\u7684\u53ef\u8c03\u8bd5\u8c03\u7528\u5806\u6808\uff0c\u540c\u65f6\u4fdd\u6301\u5927\u90e8\u5206\u5411\u540e\u517c\u5bb9\uff0c\u5e76\u8fdb\u884c\u4e86\u4e00\u4e9b\u7a81\u7834\u6027\u7684\u66f4\u6539\uff0c\u51cf\u5c11\u4e86API\u3002\u5b83\u91c7\u7528\u4e86\u8ba2\u9605\u8005\u6a21\u5f0f\uff0c\u5e26\u6709\u7eaf\u51fd\u6570\u5f0f\u7f16\u7a0b\u7684\u601d\u60f3\u3002</p>"},{"location":"new-third-part-lib/Rxjs/#_1","title":"\u6848\u4f8b","text":"<p>\u9ed8\u8ba4\u4e8b\u4ef6\u76d1\u542c\u548c\u56de\u8c03\u51fd\u6570\uff1a</p> <pre><code>document.addEventListener('click', () =&gt; console.log('Clicked!'));\n</code></pre> <p>\u4f7f\u7528 rxjs \u53bb\u6389\u4e86\u56de\u8c03\u51fd\u6570\uff08\u89c2\u5bdf\u8005\u6a21\u5f0f\uff09\uff1a</p> <pre><code>import { fromEvent } from 'rxjs';\n\nfromEvent(document, 'click').subscribe(() =&gt; console.log('Clicked!'));\n</code></pre> <p>\u590d\u6742\u6848\u4f8b\uff08\u8fd9\u4e2a\u5e93\u589e\u52a0\u4e86\u5f88\u591a\u65b0\u7684\u6982\u5ff5\u548c\u4f7f\u7528\u6210\u672c\uff09</p> <pre><code>import { fromEvent, throttleTime, scan } from 'rxjs';\n\nfromEvent(document, 'click')\n  .pipe(\n    throttleTime(1000),\n    scan((count) =&gt; count + 1, 0)\n  )\n  .subscribe((count) =&gt; console.log(`Clicked ${count} times`));\n</code></pre> <p>\u8fd9\u4e2a\u5e93\u9700\u8981\u7684\u65f6\u5019\u518d\u5b66\u4e60\uff0c\u76ee\u524d\u6ca1\u6709\u5b9e\u9645\u4f7f\u7528\u3002</p>"},{"location":"new-third-part-lib/Storybook/","title":"storybook","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1948  \u9605\u8bfb4\u5206\u949f</p>"},{"location":"new-third-part-lib/Storybook/#version","title":"version","text":"<p>8.2.4\u00a0 </p>"},{"location":"new-third-part-lib/Storybook/#downloads","title":"downloads","text":"<p>3,679,163 </p>"},{"location":"new-third-part-lib/Storybook/#repository","title":"repository","text":"<p>github.com/storybookjs/storybook </p>"},{"location":"new-third-part-lib/Storybook/#homepage","title":"homepage","text":"<p>github.com/storybookjs/storybook/tree/next/code/lib/cli </p>"},{"location":"new-third-part-lib/Storybook/#storybook_1","title":"Storybook","text":""},{"location":"new-third-part-lib/Storybook/#cli","title":"CLI","text":"<p>Storybook CLI (Command Line Interface) is the easiest way to add Storybook to your project.</p> <p></p> <p>Go to your project and run:</p> <p>\u200b   \u200b    cd my-app \u200b    npx sb@latest init</p> <p>In addition to <code>init</code>, the CLI also has other commands:</p> <ul> <li><code>add</code> - add an addon and register it</li> <li><code>info</code> - print out system information for bug reports</li> <li><code>upgrade</code> - upgrade to the latest version of Storybook (or a specific version)</li> <li><code>migrate</code> - run codemods to migrate your code</li> </ul> <p>See the command-line help with <code>-h</code> (including other useful commands) for details.</p>"},{"location":"new-third-part-lib/Storybook/#core-apis","title":"Core APIs","text":"<p>This package has multiple sub-exports to can be used to gain access to storybook's APIs.</p>"},{"location":"new-third-part-lib/Storybook/#storybookcomponents","title":"<code>storybook/components</code>","text":"<p>This export contains a list of components very useful for building out addons. We recommend addon-authors to use these components to ensure a consistent look and feel, and to reduce the amount of code they need to write.</p>"},{"location":"new-third-part-lib/Storybook/#storybooktheming","title":"<code>storybook/theming</code>","text":"<p>This export exposes a few utility functions to help writing components that automatically adapt to the current theme. Useful for addon authors who want to make their addons theme-aware.</p>"},{"location":"new-third-part-lib/Storybook/#storybookpreview-api","title":"<code>storybook/preview-api</code>","text":"<p>This export contains the API that is available in the preview iframe.</p>"},{"location":"new-third-part-lib/Storybook/#storybookmanager-api","title":"<code>storybook/manager-api</code>","text":"<p>This export contains the API that is available in the manager iframe.</p>"},{"location":"new-third-part-lib/Storybook/#storybooktypes","title":"<code>storybook/types</code>","text":"<p>This export exposes a lot of TypeScript interfaces used throughout storybook, including for storybook configuration, addons etc.</p> <p>\u200b            </p>"},{"location":"new-third-part-lib/ThreeJS/","title":"ThreeJS","text":""},{"location":"new-third-part-lib/ThreeJS/#threejs","title":"ThreeJS \u6559\u7a0b","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 656  \u9605\u8bfb2\u5206\u949f</p> <p>https://threejs.org/</p> <p>\u8fd9\u662f webgl \u7684\u94fe\u63a5\uff1ahttp://www.hewebgl.com/article/articledir/1</p> <p>three.js\u662fJavaScript\u7f16\u5199\u7684WebGL\u7b2c\u4e09\u65b9\u5e93\u3002\u63d0\u4f9b\u4e86\u975e\u5e38\u591a\u76843D\u663e\u793a\u529f\u80fd\u3002</p> <p>Three.js \u662f\u4e00\u6b3e\u8fd0\u884c\u5728\u6d4f\u89c8\u5668\u4e2d\u7684 3D \u5f15\u64ce\uff0c\u4f60\u53ef\u4ee5\u7528\u5b83\u521b\u5efa\u5404\u79cd\u4e09\u7ef4\u573a\u666f\uff0c\u5305\u62ec\u4e86\u6444\u5f71\u673a\u3001\u5149\u5f71\u3001\u6750\u8d28\u7b49\u5404\u79cd\u5bf9\u8c61\u3002\u4f60\u53ef\u4ee5\u5728\u5b83\u7684\u4e3b\u9875\u4e0a\u770b\u5230\u8bb8\u591a\u7cbe\u5f69\u7684\u6f14\u793a\u3002\u4e0d\u8fc7\uff0c\u8fd9\u6b3e\u5f15\u64ce\u8fd8\u5904\u5728\u6bd4\u8f83\u4e0d\u6210\u719f\u7684\u5f00\u53d1\u9636\u6bb5\uff0c\u5176\u4e0d\u591f\u4e30\u5bcc\u7684 API \u4ee5\u53ca\u532e\u4e4f\u7684\u6587\u6863\u589e\u52a0\u4e86\u521d\u5b66\u8005\u7684\u5b66\u4e60\u96be\u5ea6\uff08\u5c24\u5176\u662f\u6587\u6863\u7684\u532e\u4e4f\uff09\u4ee3\u7801\u6258\u7ba1\u5728github\u4e0a\u9762\u3002</p>"},{"location":"new-third-part-lib/UUID-js/","title":"UUID\u5e93\u4ecb\u7ecd\u548c\u4f7f\u7528","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4967  \u9605\u8bfb10\u5206\u949f</p>"},{"location":"new-third-part-lib/UUID-js/#uuid_1","title":"UUID\u4ecb\u7ecd","text":"<p>UUID\u662fUniversally Unique Identifier\u7684\u7f29\u5199\uff0c\u5b83\u662f\u5728\u4e00\u5b9a\u7684\u8303\u56f4\u5185\u552f\u4e00\u7684\u673a\u5668\u751f\u6210\u7684\u6807\u8bc6\u7b26\uff0c\u4f7f\u7528RFC\u89c4\u8303\u3002</p>"},{"location":"new-third-part-lib/UUID-js/#_1","title":"\u7ed3\u6784","text":"<p>UUID \u662f\u4e00\u4e2a128bit\u7684\u6570\u5b57\uff0c\u4e5f\u53ef\u4ee5\u8868\u73b0\u4e3a32\u4e2a16\u8fdb\u5236\u7684\u5b57\u7b26\uff0c\u4e2d\u95f4\u7528\u201d-\u201d\u5206\u5272</p> <p>3F2504E0-4F89-11D3-9A0C-0305E82C3301</p> <p>\u5176\u4e2d\u7684\u5b57\u6bcd\u662f16\u8fdb\u5236\u8868\u793a\uff0c\u5927\u5c0f\u5199\u65e0\u5173\u3002</p> <p>- \u65f6\u95f4\u6233\uff0bUUID\u7248\u672c\u53f7\uff0c\u5206\u4e09\u6bb5\u536016\u4e2a\u5b57\u7b26(60bit+4bit)\uff0c - Clock Sequence\u53f7\u4e0e\u4fdd\u7559\u5b57\u6bb5\uff0c\u53604\u4e2a\u5b57\u7b26(13bit\uff0b3bit)\uff0c - \u8282\u70b9\u6807\u8bc6\u536012\u4e2a\u5b57\u7b26(48bit)\uff0c</p>"},{"location":"new-third-part-lib/UUID-js/#_2","title":"\u7279\u70b9","text":"<ul> <li> <p>\u7531\u7b97\u6cd5\u673a\u5668\u751f\u6210\uff1a\u89c4\u8303\u5b9a\u4e49\u4e86\u5305\u62ec\u7f51\u5361MAC\u5730\u5740\u3001\u65f6\u95f4\u6233\u3001\u540d\u5b57\u7a7a\u95f4\uff08Namespace\uff09\u3001\u968f\u673a\u6216\u4f2a\u968f\u673a\u6570\u3001\u65f6\u5e8f\u7b49\u5143\u7d20\uff0c\u4ee5\u53ca\u4ece\u8fd9\u4e9b\u5143\u7d20\u751f\u6210UUID\u7684\u7b97\u6cd5\u3002UUID\u7684\u590d\u6742\u7279\u6027\u5728\u4fdd\u8bc1\u4e86\u5176\u552f\u4e00\u6027\u7684\u540c\u65f6\uff0c\u610f\u5473\u7740\u53ea\u80fd\u7531\u8ba1\u7b97\u673a\u751f\u6210\u3002</p> </li> <li> <p>\u975e\u4eba\u5de5\u6307\u5b9a\uff0c\u975e\u4eba\u5de5\u8bc6\u522b\uff1aUUID\u662f\u4e0d\u80fd\u4eba\u5de5\u6307\u5b9a\u7684\uff0cUUID\u7684\u590d\u6742\u6027\u51b3\u5b9a\u4e86\u201c\u4e00\u822c\u4eba\u201c\u4e0d\u80fd\u76f4\u63a5\u4ece\u4e00\u4e2aUUID\u77e5\u9053\u54ea\u4e2a\u5bf9\u8c61\u548c\u5b83\u5173\u8054\u3002</p> </li> <li> <p>\u91cd\u590d\u7684\u53ef\u80fd\u6027\u6781\u5c0f\uff1aUUID\u7684\u751f\u6210\u89c4\u8303\u5b9a\u4e49\u7684\u7b97\u6cd5\u4e3b\u8981\u76ee\u7684\u5c31\u662f\u8981\u4fdd\u8bc1\u5176\u552f\u4e00\u6027\u3002\u4f46\u8fd9\u4e2a\u552f\u4e00\u6027\u662f\u6709\u9650\u7684\uff0c\u53ea\u5728\u7279\u5b9a\u7684\u8303\u56f4\u5185\u624d\u80fd\u5f97\u5230\u4fdd\u8bc1\uff0c\u8fd9\u548cUUID\u7684\u7c7b\u578b\u6709\u5173\uff08\u53c2\u89c1UUID\u7684\u7248\u672c\uff09\u3002</p> </li> </ul>"},{"location":"new-third-part-lib/UUID-js/#uuidjs","title":"UUID.js \u5e93\u4f7f\u7528","text":""},{"location":"new-third-part-lib/UUID-js/#_3","title":"\u6982\u8981","text":"<pre><code>&lt;!-- HTML5 --&gt;\n&lt;script src=\"src/uuid.js\"&gt;&lt;/script&gt;\n&lt;script&gt; var uuid = UUID.generate(); &lt;/script&gt; \n\n// Node.js\nlet UUID = require(\"uuidjs\");\nlet uuid = UUID.generate();\n\n// TypeScript\nimport UUID from 'uuidjs';\nlet str: string = UUID.generate();\nlet obj: UUID = UUID.genV4();\n\n# Command-line \nnpx uuidjs\n</code></pre>"},{"location":"new-third-part-lib/UUID-js/#_4","title":"\u7279\u70b9","text":"<ul> <li>\u652f\u6301\u7248\u672c1\uff08\u57fa\u4e8e\u65f6\u95f4\u7684UUID\uff09\u7248\u672c4\uff08\u57fa\u4e8e\u968f\u673a\u6570\u7684UUID\uff09</li> <li>\u5e76\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9762\u5411\u5bf9\u8c61\u7684\u754c\u9762\uff0c\u53ef\u4ee5\u751f\u6210\u591a\u79cd\u683c\u5f0f\u7684UUID</li> <li>\u4f7f\u7528\u5bc6\u7801\u5b89\u5168\u7684\u4f2a\u968f\u673a\u6570\u751f\u6210\u5668(\u5982\u679c\u53ef\u7528)\uff0c\u5426\u5219\u4f7f\u7528Math.randow()\u751f\u6210\u968f\u673a\u6570</li> <li>\u9644\u52a0\u989d\u5916\u7684\u968f\u673a\u503c\u6765\u8865\u507f JS \u7684\u65f6\u95f4\u6233\u5206\u8fa8\u7387\u4f4e\u4e8e\u7248\u672c1 uuid\u6240\u9700\u7684\u65f6\u95f4\u6233</li> <li>\u5305\u542b\u5f88\u591a\u6d4b\u8bd5\u6848\u4f8b\uff08\u5305\u62ec\u683c\u5f0f\u68c0\u67e5\u548c\u7edf\u8ba1\u6d4b\u8bd5\uff09\u786e\u4fdd\u9ad8\u8d28\u91cf\u7684\u4ee3\u7801</li> <li>\u517c\u5bb9\u6027\uff1a\u652f\u6301\u65e9\u671f\u6d4f\u89c8\u5668\u548c\u73b0\u4ee3\u6d4f\u89c8\u5668\uff0c\u540c\u6837\u652f\u6301\u670d\u52a1\u5668\u73af\u5883\uff0c\u4e0eES3\u7248\u672c\u53ef\u4ee5\u517c\u5bb9\u3002</li> </ul>"},{"location":"new-third-part-lib/UUID-js/#_5","title":"\u5b89\u88c5","text":"<p>\u76f4\u63a5\u4e0b\u8f7d uuid.js \u6587\u4ef6\u6216\u8005\u4f7f\u7528 <code>npm install uuidjs</code> \u8fdb\u884c\u5b89\u88c5\uff1b</p> <p>\u5728HTML\u4e2d\u76f4\u63a5\u5f15\u5165 <code>src/uuid.js</code>.</p> <pre><code>&lt;script src=\"src/uuid.js\"&gt;&lt;/script&gt;\n</code></pre> <p>\u5728 JS \u6587\u4ef6\uff08ES6\uff09\u53ef\u4ee5\u5f15\u5165  <code>uuidjs</code>.</p> <pre><code>const UUID = require(\"uuidjs\");\n</code></pre>"},{"location":"new-third-part-lib/UUID-js/#_6","title":"\u4f7f\u7528","text":"<p><code>UUID.generate()</code> \u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u7248\u672c4\u7684\u5341\u516d\u8fdb\u5236\u7684\u5b57\u7b26\u4e32</p> <pre><code>console.log(UUID.generate());   // fa84cf42-ffdf-4975-b42b-31ab5fb983eb\n</code></pre> <p><code>UUID.genV4()</code>, <code>UUID.genV1()</code>, \u548c <code>UUID.parse()</code> \u8fd4\u56de\u4e00\u4e2a UUID \u5bf9\u8c61\uff0c\u5177\u6709\u591a\u79cd\u5b57\u6bb5\uff08fields\uff09\u548c\u65b9\u6cd5</p> <pre><code>// Create a version 4 (random number-based) UUID object(\u521b\u5efa\u7248\u672c4\u7684UUID\u5bf9\u8c61)\nvar objV4 = UUID.genV4();\n\n// Create a version 1 (time-based) UUID object(\u521b\u5efa\u7248\u672c1\u7684UUID\u5bf9\u8c61)\nvar objV1 = UUID.genV1();\n\n// Create a UUID object from a hexadecimal string (\u4ece\u4e00\u4e2a\u5341\u516d\u8fdb\u5236\u5b57\u7b26\u4e32\u4e2d\u521b\u5efa\u4e00\u4e2aUUID\u5bf9\u8c61)\nvar uuid = UUID.parse(\"a0e0f130-8c21-11df-92d9-95795a3bcd40\");\n\n// Get string representations of a UUID object\nconsole.log(uuid.toString());   // \"a0e0f130-8c21-11df-92d9-95795a3bcd40\"\nconsole.log(uuid.hexString);    // \"a0e0f130-8c21-11df-92d9-95795a3bcd40\"\nconsole.log(uuid.hexNoDelim);   // \"a0e0f1308c2111df92d995795a3bcd40\"\nconsole.log(uuid.bitString);    // \"101000001110000 ... 1100110101000000\"\nconsole.log(uuid.urn);          // \"urn:uuid:a0e0f130-8c21-11df-92d9-95795a3bcd40\"\n\n// Compare UUID objects\nconsole.log(objV4.equals(objV1));   // false\n\n// Get UUID version numbers\nconsole.log(objV4.version); // 4\nconsole.log(objV1.version); // 1\n\n// Get internal field values in 3 different forms via 2 different accessors\nconsole.log(uuid.intFields.timeLow);                // 2699096368\nconsole.log(uuid.bitFields.timeMid);                // \"1000110000100001\"\nconsole.log(uuid.hexFields.timeHiAndVersion);       // \"11df\"\nconsole.log(uuid.intFields.clockSeqHiAndReserved);  // 146\nconsole.log(uuid.bitFields.clockSeqLow);            // \"11011001\"\nconsole.log(uuid.hexFields.node);                   // \"95795a3bcd40\"\n\nconsole.log(uuid.intFields[0]);                     // 2699096368\nconsole.log(uuid.bitFields[1]);                     // \"1000110000100001\"\nconsole.log(uuid.hexFields[2]);                     // \"11df\"\nconsole.log(uuid.intFields[3]);                     // 146\nconsole.log(uuid.bitFields[4]);                     // \"11011001\"\nconsole.log(uuid.hexFields[5]);                     // \"95795a3bcd40\"\n</code></pre> <p>UUID.js \u652f\u6301\u6240\u8c13\u7684 noConflict \u6a21\u5f0f\u6765\u5904\u7406\u540d\u79f0\u7a7a\u95f4\u51b2\u7a81\u3002</p> <pre><code>// Avoid namespace conflicts with other libraries\nvar arbitraryVarName = UUID;\nUUID = UUID.overwrittenUUID;                // Restore the original value\nconsole.log(arbitraryVarName.generate());   // \"cb9a0283-a44c-4e7a-a5b0-9cd2876e952b\"\n</code></pre>"},{"location":"new-third-part-lib/YesPlayMusic/","title":"YesPlayMusic","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1459  \u9605\u8bfb3\u5206\u949f</p> <p>https://github.com/qier222/YesPlayMusic</p> <p>\ufe0f\u4ed3\u5e93\u540d\u79f0\uff1aqier222/YesPlayMusic \u622a\u6b62\u53d1\u7a3f\u661f\u6570: 27413 (\u4eca\u65e5\u65b0\u589e:12) \u4ed3\u5e93\u8bed\u8a00: Vue \u4ed3\u5e93\u5f00\u6e90\u534f\u8bae\uff1aMIT License</p>"},{"location":"new-third-part-lib/YesPlayMusic/#_1","title":"\u5f15\u8a00","text":"<p>YesPlayMusic \u662f\u4e00\u6b3e\u9ad8\u989c\u503c\u7684\u7b2c\u4e09\u65b9\u7f51\u6613\u4e91\u97f3\u4e50\u64ad\u653e\u5668\uff0c\u53ef\u5728 Windows\u3001macOS \u548c Linux \u7cfb\u7edf\u4e0a\u4f7f\u7528\u3002</p>"},{"location":"new-third-part-lib/YesPlayMusic/#_2","title":"\u4ed3\u5e93\u63cf\u8ff0","text":"<p>YesPlayMusic \u7531 Vue.js \u5168\u5bb6\u6876\u5f00\u53d1\uff0c\u4f7f\u7528 Electron \u8fdb\u884c\u6253\u5305\uff0c\u652f\u6301\u591a\u5e73\u53f0\u4f7f\u7528\u3002</p>"},{"location":"new-third-part-lib/YesPlayMusic/#_3","title":"\u5ba2\u89c2\u8bc4\u6d4b\u6216\u5206\u6790","text":"<p>YesPlayMusic \u662f\u4e00\u6b3e\u529f\u80fd\u4e30\u5bcc\u7684\u7b2c\u4e09\u65b9\u7f51\u6613\u4e91\u97f3\u4e50\u64ad\u653e\u5668\uff0c\u5177\u5907\u7b80\u7ea6\u65f6\u5c1a\u7684\u754c\u9762\u548c\u4e30\u5bcc\u7684\u529f\u80fd\u3002\u5b83\u652f\u6301\u591a\u79cd\u65b9\u5f0f\u767b\u5f55\u7f51\u6613\u4e91\u8d26\u53f7\uff0c\u5e76\u53ef\u6d41\u7545\u64ad\u653e MV \u548c\u663e\u793a\u6b4c\u8bcd\u3002\u6b64\u5916\uff0c\u5b83\u8fd8\u63d0\u4f9b\u4e86\u81ea\u52a8\u7b7e\u5230\u3001\u66f4\u6362\u97f3\u6e90\u3001\u81ea\u5b9a\u4e49\u5feb\u6377\u952e\u7b49\u5b9e\u7528\u529f\u80fd\u3002</p>"},{"location":"new-third-part-lib/YesPlayMusic/#_4","title":"\u4f7f\u7528\u5efa\u8bae","text":"<ul> <li> <p>\u63a8\u8350\u4f7f\u7528 Electron \u7248\u672c\uff0c\u529f\u80fd\u66f4\u4e30\u5bcc\u3001\u4f53\u9a8c\u66f4\u6d41\u7545\u3002</p> </li> <li> <p>\u4f7f\u7528\u7f51\u6613\u4e91\u8d26\u53f7\u767b\u5f55\u540e\uff0c\u53ef\u4eab\u53d7\u5b8c\u6574\u7684\u7f51\u6613\u4e91\u97f3\u4e50\u670d\u52a1\u3002</p> </li> <li> <p>\u5f00\u542f\u81ea\u52a8\u7b7e\u5230\u529f\u80fd\uff0c\u53ef\u83b7\u5f97\u7f51\u6613\u4e91\u97f3\u4e50\u7684\u6bcf\u65e5\u7b7e\u5230\u5956\u52b1\u3002</p> </li> <li> <p>\u81ea\u5b9a\u4e49\u5feb\u6377\u952e\u548c\u5168\u5c40\u5feb\u6377\u952e\uff0c\u53ef\u63d0\u9ad8\u4f7f\u7528\u6548\u7387\u3002</p> </li> </ul>"},{"location":"new-third-part-lib/YesPlayMusic/#_5","title":"\u7ed3\u8bba","text":"<p>YesPlayMusic \u662f\u4e00\u4e2a\u4f18\u79c0\u7684\u7b2c\u4e09\u65b9\u7f51\u6613\u4e91\u97f3\u4e50\u64ad\u653e\u5668\uff0c\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u5b9e\u7528\u7684\u529f\u80fd\u548c\u826f\u597d\u7684\u7528\u6237\u4f53\u9a8c\u3002\u65e0\u8bba\u4f60\u662f\u7f51\u6613\u4e91\u97f3\u4e50\u7684\u5fe0\u5b9e\u7528\u6237\uff0c\u8fd8\u662f\u5e0c\u671b\u5bfb\u627e\u4e00\u6b3e\u529f\u80fd\u4e30\u5bcc\u7684\u97f3\u4e50\u64ad\u653e\u5668\uff0cYesPlayMusic \u90fd\u975e\u5e38\u503c\u5f97\u4f60\u4e00\u8bd5\u3002</p>"},{"location":"new-third-part-lib/ant-design-vue/","title":"ant-design-vue","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2322  \u9605\u8bfb5\u5206\u949f</p>"},{"location":"new-third-part-lib/ant-design-vue/#ant-design-vue_1","title":"ant-design-vue","text":"<p>\u963f\u91cc\u5df4\u5df4\u51fa\u54c1\uff0cant-design \u7684 vue \u7248\u672c</p>"},{"location":"new-third-part-lib/ant-design-vue/#version","title":"version","text":"<p>4.2.3</p>"},{"location":"new-third-part-lib/ant-design-vue/#downloads","title":"downloads","text":"<p>104,487 </p>"},{"location":"new-third-part-lib/ant-design-vue/#repository","title":"repository","text":"<p>github.com/vueComponent/ant-design-vue </p>"},{"location":"new-third-part-lib/ant-design-vue/#homepage","title":"homepage","text":"<p>www.antdv.com/ </p>"},{"location":"new-third-part-lib/ant-design-vue/#ant-design-vue_2","title":"Ant Design Vue","text":"<p>Ant Design \u662f\u5168\u7403\u5386\u53f2\u6700\u60a0\u4e45\u548c\u6700\u53d7\u6b22\u8fce\u7684\u7ec4\u4ef6\u5e93\u4e4b\u4e00\uff0c\u5b98\u65b9\u63d0\u4f9b React \u7248\u672c\uff0cAnt Design Vue \u662f\u5b83\u7684 Vue \u7248\u672c\uff0c\u7531\u793e\u533a\u5f00\u53d1\u548c\u7ef4\u62a4\uff0c\u9075\u5faa Ant Design \u8bbe\u8ba1\u89c4\u8303\uff0c\u63d0\u4f9b 67 \u4e2a\u7ec4\u4ef6\u3002</p> <ul> <li> <p>\u5b98\u7f51\uff1aantdv.com/</p> </li> <li> <p>GitHub\uff1agithub.com/vueComponen\u2026</p> </li> <li> <p>NPM\uff1awww.npmjs.com/package/ant\u2026</p> </li> </ul> <p>Ant Design Vue \u4e8e 2017\u5e749\u6708\u521b\u5efa\u4ee3\u7801\u4ed3\u5e93\uff0c2018\u5e748\u6708\u53d1\u5e03\u7b2c\u4e00\u4e2a\u7248\u672c\uff0c2022\u5e744\u6708\u53d1\u5e03 v3.0.0 \u7248\u672c\uff0c\u5f00\u59cb\u652f\u6301 Vue3\uff0c\u76ee\u524d\u4e3b\u8981\u7531 tangjinzhou \u5728\u5f00\u53d1\u548c\u7ef4\u62a4\u3002</p> \u6307\u6807 \u6570\u503c Star 19k NPM \u5468\u4e0b\u8f7d 74,447 Issue 173+5115 PR 36+1619 \u8d21\u732e\u8005 243 \u7ec4\u4ef6\u6570 67"},{"location":"new-third-part-lib/ant-design-vue/#default-readme","title":"default readme","text":"<p>\u57fa\u4e8e Ant Design \u548c Vue 3 \u7684\u4f01\u4e1a\u7ea7 UI \u7ec4\u4ef6\u5e93\u3002https://github.com/vueComponent/ant-design-vue/blob/HEAD/README-zh_CN.md)</p> <ul> <li> <p>\u7279\u6027</p> </li> <li> <p>\u63d0\u70bc\u81ea\u4f01\u4e1a\u7ea7\u4e2d\u540e\u53f0\u4ea7\u54c1\u7684\u4ea4\u4e92\u8bed\u8a00\u548c\u89c6\u89c9\u98ce\u683c\u3002</p> </li> <li> <p>\u5f00\u7bb1\u5373\u7528\u7684\u9ad8\u8d28\u91cf Vue \u7ec4\u4ef6\u3002</p> </li> <li> <p>\u5171\u4eab Ant Design of React \u8bbe\u8ba1\u5de5\u5177\u4f53\u7cfb\u3002</p> </li> </ul>"},{"location":"new-third-part-lib/ant-design-vue/#links","title":"Links","text":"<ul> <li> <p>Home page\uff1ahttps://www.antdv.com/components/overview-cn</p> </li> <li> <p>Vue</p> </li> <li> <p>Ant Design Of React</p> </li> </ul>"},{"location":"new-third-part-lib/ant-design-vue/#_1","title":"\u751f\u6001","text":"Project Description vue-ref \u60a8\u53ef\u4ee5\u4f7f\u7528\u56de\u8c03\u6765\u83b7\u53d6\u7ec4\u4ef6\u7684\u5f15\u7528\uff0c\u7c7b\u4f3c react ant-design-vue-helper ant-design-vue \u7684 vscode \u6269\u5c55 vue-cli-plugin-ant-design \u4f7f\u7528 vue-cli3 \u5feb\u901f\u4f7f\u7528 ant-design-vue \u7ec4\u4ef6\u5e93 vue-dash-event \u5728 DOM \u6a21\u677f\u4e2d\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 ant-design-vue \u7ec4\u4ef6\u7684\u81ea\u5b9a\u4e49\u4e8b\u4ef6\uff08camelCase\uff09 @formily/antdv \u8fd9\u662f\u4e00\u4e2a\u7ed3\u5408\u4e86 Formily \u548c ant-design-vue \u7684\u7ec4\u4ef6\u5e93 @ant-design-vue/nuxt ant-design-vue \u7684 nuxt \u6a21\u5757\u6269\u5c55 <p>\u200b</p> <p>\u200b</p> <p> </p>"},{"location":"new-third-part-lib/antd-mobile/","title":"antd-mobile","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6090  \u9605\u8bfb13\u5206\u949f</p>"},{"location":"new-third-part-lib/antd-mobile/#antd-mobile","title":"antd-mobile","text":""},{"location":"new-third-part-lib/antd-mobile/#version","title":"version","text":"<p>5.37.1\u00a0 </p>"},{"location":"new-third-part-lib/antd-mobile/#downloads","title":"downloads","text":"<p>32,324 </p>"},{"location":"new-third-part-lib/antd-mobile/#repository","title":"repository","text":"<p>github.com/ant-design/ant-design-mobile </p>"},{"location":"new-third-part-lib/antd-mobile/#homepage","title":"homepage","text":"<p>github.com/ant-design/ant-design-mobile#readme </p> <p></p>"},{"location":"new-third-part-lib/antd-mobile/#ant-design-mobile","title":"Ant Design Mobile","text":"<p>Essential UI blocks for building mobile web apps.</p> <p> </p>"},{"location":"new-third-part-lib/antd-mobile/#english-doc","title":"English Doc \u00b7","text":"<p>\u4e2d\u6587\u6587\u6863 \u00b7 Discord \u00b7 \u9489\u9489</p> <p>\u200b       $ npm install --save antd-mobile     # or     $ yarn add antd-mobile     # or     $ pnpm add antd-mobile     # or     $ bun add antd-mobile</p> <ul> <li>Fast : It is carefully optimized for harsh scenes, without configuration, you can have the best package size and ultimate performance.</li> <li>Customizable : Based on CSS variables, you can reliably and efficiently adjust the appearance of components or create your own themes.</li> <li>Atomic : The function of each component, neither more nor less, is exactly what you need.</li> <li>Fluent : With smooth gestures and delicate animation, it helps the product create the ultimate experience.</li> </ul> <p>You can also play with antd-mobile just in browser with Codesandbox. No need to prepare development environment.</p> <p>If you found bugs or would like to request some new features, please consider opening an issue.</p> <p>If you have some question about how to use ant-mobile, you can start a discussion thread.</p> <p>\u200b            </p>"},{"location":"new-third-part-lib/arco-design-vue/","title":"arco-design-vue","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 997  \u9605\u8bfb2\u5206\u949f</p> <p>Arco Design \u662f\u7531\u5b57\u8282\u8df3\u52a8 GIP UED \u56e2\u961f\u548c\u67b6\u6784\u524d\u7aef\u56e2\u961f\u8054\u5408\u63a8\u51fa\u7684\u4f01\u4e1a\u7ea7\u8bbe\u8ba1\u7cfb\u7edf\uff0cArco Design Vue \u662f\u57fa\u4e8e Arco Design \u7684 Vue3 \u7ec4\u4ef6\u5e93\uff0c\u4e8e2021\u5e7410\u6708\u5f00\u6e90\uff0c\u63d0\u4f9b 71 \u4e2a\u7ec4\u4ef6\u3002</p> <p>https://arco.design/vue/docs/start</p> <p>https://github.com/arco-design/arco-design-vue</p> <p>https://www.npmjs.com/package/@arco-design/web-vue</p> <p>Arco Design Vue \u4e8e 2021\u5e741\u6708\u521b\u5efa\u4ee3\u7801\u4ed3\u5e93\uff0c\u5e76\u53d1\u5e03\u7b2c\u4e00\u4e2a\u7248\u672c v2.0.0\uff0c\u76ee\u524d\u4e3b\u8981\u7531 flsion \u5728\u5f00\u53d1\u548c\u7ef4\u62a4\u3002</p> \u6307\u6807 \u6570\u503c Star 2.3k NPM \u5468\u4e0b\u8f7d 4,523 Issue 561+1174 PR 36+1042 \u8d21\u732e\u8005 102 \u7ec4\u4ef6\u6570 71 <p>\u200b</p>"},{"location":"new-third-part-lib/autoprefixer/","title":"autoprefixer","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2090  \u9605\u8bfb5\u5206\u949f</p>"},{"location":"new-third-part-lib/autoprefixer/#autoprefixer","title":"autoprefixer","text":""},{"location":"new-third-part-lib/autoprefixer/#version","title":"version","text":"<p>10.4.19\u00a0 </p>"},{"location":"new-third-part-lib/autoprefixer/#downloads","title":"downloads","text":"<p>19,706,597 </p>"},{"location":"new-third-part-lib/autoprefixer/#repository","title":"repository","text":"<p>github.com/postcss/autoprefixer </p>"},{"location":"new-third-part-lib/autoprefixer/#homepage","title":"homepage","text":"<p>github.com/postcss/autoprefixer#readme </p>"},{"location":"new-third-part-lib/autoprefixer/#autoprefixer-cult-of","title":"Autoprefixer [![Cult Of","text":"<p>Martians](https://camo.githubusercontent.com/253e85a9b7dea62bb3afabae0f6a507f84f685dd389698b504660345d96be072/68747470733a2f2f63756c746f666d61727469616e732e636f6d2f6173736574732f6261646765732f62616467652e737667)](https://cultofmartians.com/tasks/autoprefixer- grid.html)</p> <p></p> <p>PostCSS plugin to parse CSS and add vendor prefixes to CSS rules using values from Can I Use. It is recommended by Google and used in Twitter and Alibaba.</p> <p>Write your CSS rules without vendor prefixes (in fact, forget about them entirely):</p> <p>\u200b   \u200b    ::placeholder { \u200b      color: gray; \u200b    } \u200b       .image {       background-image: url(image@1x.png);     }     @media (min-resolution: 2dppx) {       .image {         background-image: url(image@2x.png);       }     }</p> <p>Autoprefixer will use the data based on current browser popularity and property support to apply prefixes for you. You can try the interactive demo of Autoprefixer.</p> <p>\u200b   \u200b    ::-moz-placeholder { \u200b      color: gray; \u200b    } \u200b    ::placeholder { \u200b      color: gray; \u200b    } \u200b       .image {       background-image: url(image@1x.png);     }     @media (-webkit-min-device-pixel-ratio: 2),            (min-resolution: 2dppx) {       .image {         background-image: url(image@2x.png);       }     }</p>"},{"location":"new-third-part-lib/autoprefixer/#docs","title":"Docs","text":"<p>Read full docs here.</p> <p>\u200b            </p>"},{"location":"new-third-part-lib/awesome-vue/","title":"awesome-vue","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 327  \u9605\u8bfb1\u5206\u949f</p> <p>VUE \u76f8\u5173\u8d44\u6e90\u7684\u5217\u8868\uff08\u7ec4\u4ef6\u5e93\uff0c\u5f00\u53d1\u5de5\u5177\u5e93\u7b49\uff09</p> <p>A curated list of awesome things related to Vue.js </p> <p>https://github.com/vuejs/awesome-vue</p> <p>\u8fd9\u91cc\u5217\u4e3e\u4e86\u5f88\u591a\u5b9e\u7528 VUE \u7684\u9879\u76ee\uff0c\u6216\u8005\u5176\u4ed6\u5de5\u5177\u9879\u76ee\u7b49</p>"},{"location":"new-third-part-lib/axios/","title":"axios","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 57083  \u9605\u8bfb115\u5206\u949f</p>"},{"location":"new-third-part-lib/axios/#version","title":"version","text":"<p>1.7.2</p>"},{"location":"new-third-part-lib/axios/#downloads","title":"downloads","text":"<p>50,937,862 </p>"},{"location":"new-third-part-lib/axios/#repository","title":"repository","text":"<p>github.com/axios/axios </p>"},{"location":"new-third-part-lib/axios/#homepage","title":"homepage","text":"<p>axios-http.com </p>"},{"location":"new-third-part-lib/axios/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Features</li> <li>Browser Support</li> <li>Installing<ul> <li>Package manager</li> <li>CDN</li> </ul> </li> <li>Example</li> <li>Axios API</li> <li>Request method aliases</li> <li>Concurrency \ud83d\udc4e</li> <li>Creating an instance</li> <li>Instance methods</li> <li>Request Config</li> <li>Response Schema</li> <li>Config Defaults<ul> <li>Global axios defaults</li> <li>Custom instance defaults</li> <li>Config order of precedence</li> </ul> </li> <li>Interceptors<ul> <li>Multiple Interceptors</li> </ul> </li> <li>Handling Errors</li> <li>Cancellation<ul> <li>AbortController</li> <li>CancelToken \ud83d\udc4e</li> </ul> </li> <li>Using application/x-www-form-urlencoded format<ul> <li>URLSearchParams</li> <li>Query string</li> <li>Automatic serialization</li> </ul> </li> <li>Using multipart/form-data format<ul> <li>FormData</li> <li>Automatic serialization</li> </ul> </li> <li>Files Posting</li> <li>HTML Form Posting</li> <li>Progress capturing</li> <li>Rate limiting</li> <li>AxiosHeaders</li> <li>Fetch adapter</li> <li>Semver</li> <li>Promises</li> <li>TypeScript</li> <li>Resources</li> <li>Credits</li> <li>License</li> </ul>"},{"location":"new-third-part-lib/axios/#features","title":"Features","text":"<ul> <li>Make XMLHttpRequests from the browser</li> <li>Make http requests from node.js</li> <li>Supports the Promise API</li> <li>Intercept request and response</li> <li>Transform request and response data</li> <li>Cancel requests</li> <li>Automatic transforms for JSON data</li> <li>Automatic data object serialization to <code>multipart/form-data</code> and <code>x-www-form-urlencoded</code> body encodings</li> <li>Client side support for protecting against XSRF</li> </ul>"},{"location":"new-third-part-lib/axios/#browser-support","title":"Browser Support","text":"Latest \u2714 Latest \u2714 Latest \u2714 Latest \u2714 Latest \u2714 11 \u2714"},{"location":"new-third-part-lib/axios/#installing","title":"Installing","text":""},{"location":"new-third-part-lib/axios/#package-manager","title":"Package manager","text":"<p>Using npm:</p> <pre><code>$ npm install axios\n</code></pre> <p>Using bower:</p> <pre><code>$ bower install axios\n</code></pre> <p>Using yarn:</p> <pre><code>$ yarn add axios\n</code></pre> <p>Using pnpm:</p> <pre><code>$ pnpm add axios\n</code></pre> <p>Once the package is installed, you can import the library using <code>import</code> or <code>require</code> approach:</p> <pre><code>import axios, {isCancel, AxiosError} from 'axios';\n</code></pre> <p>You can also use the default export, since the named export is just a re- export from the Axios factory:</p> <pre><code>import axios from 'axios';\n\nconsole.log(axios.isCancel('something'));\n</code></pre> <p>If you use <code>require</code> for importing, only default export is available :</p> <pre><code>const axios = require('axios');\n\nconsole.log(axios.isCancel('something'));\n</code></pre> <p>For cases where something went wrong when trying to import a module into a custom or legacy environment, you can try importing the module package directly:</p> <pre><code>const axios = require('axios/dist/browser/axios.cjs'); // browser commonJS bundle (ES2017)\n// const axios = require('axios/dist/node/axios.cjs'); // node commonJS bundle (ES2017)\n</code></pre>"},{"location":"new-third-part-lib/axios/#cdn","title":"CDN","text":"<p>Using jsDelivr CDN (ES5 UMD browser module):</p> <pre><code>&lt;script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.7/dist/axios.min.js\"&gt;&lt;/script&gt;\n</code></pre> <p>Using unpkg CDN:</p> <pre><code>&lt;script src=\"https://unpkg.com/axios@1.6.7/dist/axios.min.js\"&gt;&lt;/script&gt;\n</code></pre>"},{"location":"new-third-part-lib/axios/#example","title":"Example","text":"<p>Note : CommonJS usage  In order to gain the TypeScript typings (for intellisense / autocomplete) while using CommonJS imports with <code>require()</code>, use the following approach:</p> <pre><code>import axios from 'axios';\n//const axios = require('axios'); // legacy way\n\n// Make a request for a user with a given ID\naxios.get('/user?ID=12345')\n  .then(function (response) {\n    // handle success\n    console.log(response);\n  })\n  .catch(function (error) {\n    // handle error\n    console.log(error);\n  })\n  .finally(function () {\n    // always executed\n  });\n\n// Optionally the request above could also be done as\naxios.get('/user', {\n    params: {\n      ID: 12345\n    }\n  })\n  .then(function (response) {\n    console.log(response);\n  })\n  .catch(function (error) {\n    console.log(error);\n  })\n  .finally(function () {\n    // always executed\n  });\n\n// Want to use async/await? Add the `async` keyword to your outer function/method.\nasync function getUser() {\n  try {\n    const response = await axios.get('/user?ID=12345');\n    console.log(response);\n  } catch (error) {\n    console.error(error);\n  }\n}\n</code></pre> <p>Note : <code>async/await</code> is part of ECMAScript 2017 and is not supported in Internet Explorer and older browsers, so use with caution.</p> <p>Performing a <code>POST</code> request</p> <pre><code>axios.post('/user', {\n    firstName: 'Fred',\n    lastName: 'Flintstone'\n  })\n  .then(function (response) {\n    console.log(response);\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n</code></pre> <p>Performing multiple concurrent requests</p> <pre><code>function getUserAccount() {\n  return axios.get('/user/12345');\n}\n\nfunction getUserPermissions() {\n  return axios.get('/user/12345/permissions');\n}\n\nPromise.all([getUserAccount(), getUserPermissions()])\n  .then(function (results) {\n    const acct = results[0];\n    const perm = results[1];\n  });\n</code></pre>"},{"location":"new-third-part-lib/axios/#axios-api","title":"axios API","text":"<p>Requests can be made by passing the relevant config to <code>axios</code>.</p>"},{"location":"new-third-part-lib/axios/#axiosconfig","title":"axios(config)","text":"<pre><code>// Send a POST request\naxios({\n  method: 'post',\n  url: '/user/12345',\n  data: {\n    firstName: 'Fred',\n    lastName: 'Flintstone'\n  }\n});\n\n\n// GET request for remote image in node.js\naxios({\n  method: 'get',\n  url: 'https://bit.ly/2mTM3nY',\n  responseType: 'stream'\n})\n  .then(function (response) {\n    response.data.pipe(fs.createWriteStream('ada_lovelace.jpg'))\n  });\n</code></pre>"},{"location":"new-third-part-lib/axios/#axiosurl-config","title":"axios(url[, config])","text":"<pre><code>// Send a GET request (default method)\naxios('/user/12345');\n</code></pre>"},{"location":"new-third-part-lib/axios/#request-method-aliases","title":"Request method aliases","text":"<p>For convenience, aliases have been provided for all common request methods.</p>"},{"location":"new-third-part-lib/axios/#axiosrequestconfig","title":"axios.request(config)","text":""},{"location":"new-third-part-lib/axios/#axiosgeturl-config","title":"axios.get(url[, config])","text":""},{"location":"new-third-part-lib/axios/#axiosdeleteurl-config","title":"axios.delete(url[, config])","text":""},{"location":"new-third-part-lib/axios/#axiosheadurl-config","title":"axios.head(url[, config])","text":""},{"location":"new-third-part-lib/axios/#axiosoptionsurl-config","title":"axios.options(url[, config])","text":""},{"location":"new-third-part-lib/axios/#axiosposturl-data-config","title":"axios.post(url[, data[, config]])","text":""},{"location":"new-third-part-lib/axios/#axiosputurl-data-config","title":"axios.put(url[, data[, config]])","text":""},{"location":"new-third-part-lib/axios/#axiospatchurl-data-config","title":"axios.patch(url[, data[, config]])","text":""},{"location":"new-third-part-lib/axios/#note","title":"NOTE","text":"<p>When using the alias methods <code>url</code>, <code>method</code>, and <code>data</code> properties don't need to be specified in config.</p>"},{"location":"new-third-part-lib/axios/#concurrency-deprecated","title":"Concurrency (Deprecated)","text":"<p>Please use <code>Promise.all</code> to replace the below functions.</p> <p>Helper functions for dealing with concurrent requests.</p> <p>axios.all(iterable) axios.spread(callback)</p>"},{"location":"new-third-part-lib/axios/#creating-an-instance","title":"Creating an instance","text":"<p>You can create a new instance of axios with a custom config.</p>"},{"location":"new-third-part-lib/axios/#axioscreateconfig","title":"axios.create([config])","text":"<pre><code>const instance = axios.create({\n  baseURL: 'https://some-domain.com/api/',\n  timeout: 1000,\n  headers: {'X-Custom-Header': 'foobar'}\n});\n</code></pre>"},{"location":"new-third-part-lib/axios/#instance-methods","title":"Instance methods","text":"<p>The available instance methods are listed below. The specified config will be merged with the instance config.</p>"},{"location":"new-third-part-lib/axios/#axiosrequestconfig_1","title":"axios#request(config)","text":""},{"location":"new-third-part-lib/axios/#axiosgeturl-config_1","title":"axios#get(url[, config])","text":""},{"location":"new-third-part-lib/axios/#axiosdeleteurl-config_1","title":"axios#delete(url[, config])","text":""},{"location":"new-third-part-lib/axios/#axiosheadurl-config_1","title":"axios#head(url[, config])","text":""},{"location":"new-third-part-lib/axios/#axiosoptionsurl-config_1","title":"axios#options(url[, config])","text":""},{"location":"new-third-part-lib/axios/#axiosposturl-data-config_1","title":"axios#post(url[, data[, config]])","text":""},{"location":"new-third-part-lib/axios/#axiosputurl-data-config_1","title":"axios#put(url[, data[, config]])","text":""},{"location":"new-third-part-lib/axios/#axiospatchurl-data-config_1","title":"axios#patch(url[, data[, config]])","text":""},{"location":"new-third-part-lib/axios/#axiosgeturiconfig","title":"axios#getUri([config])","text":""},{"location":"new-third-part-lib/axios/#request-config","title":"Request Config","text":"<p>These are the available config options for making requests. Only the <code>url</code> is required. Requests will default to <code>GET</code> if <code>method</code> is not specified.</p> <pre><code>{\n  // `url` is the server URL that will be used for the request\n  url: '/user',\n\n  // `method` is the request method to be used when making the request\n  method: 'get', // default\n\n  // `baseURL` will be prepended to `url` unless `url` is absolute.\n  // It can be convenient to set `baseURL` for an instance of axios to pass relative URLs\n  // to methods of that instance.\n  baseURL: 'https://some-domain.com/api/',\n\n  // `transformRequest` allows changes to the request data before it is sent to the server\n  // This is only applicable for request methods 'PUT', 'POST', 'PATCH' and 'DELETE'\n  // The last function in the array must return a string or an instance of Buffer, ArrayBuffer,\n  // FormData or Stream\n  // You may modify the headers object.\n  transformRequest: [function (data, headers) {\n    // Do whatever you want to transform the data\n\n    return data;\n  }],\n\n  // `transformResponse` allows changes to the response data to be made before\n  // it is passed to then/catch\n  transformResponse: [function (data) {\n    // Do whatever you want to transform the data\n\n    return data;\n  }],\n\n  // `headers` are custom headers to be sent\n  headers: {'X-Requested-With': 'XMLHttpRequest'},\n\n  // `params` are the URL parameters to be sent with the request\n  // Must be a plain object or a URLSearchParams object\n  params: {\n    ID: 12345\n  },\n\n  // `paramsSerializer` is an optional config that allows you to customize serializing `params`. \n  paramsSerializer: {\n\n    //Custom encoder function which sends key/value pairs in an iterative fashion.\n    encode?: (param: string): string =&gt; { /* Do custom operations here and return transformed string */ },\n\n    // Custom serializer function for the entire parameter. Allows user to mimic pre 1.x behaviour.\n    serialize?: (params: Record&lt;string, any&gt;, options?: ParamsSerializerOptions ),\n\n    //Configuration for formatting array indexes in the params. \n    indexes: false // Three available options: (1) indexes: null (leads to no brackets), (2) (default) indexes: false (leads to empty brackets), (3) indexes: true (leads to brackets with indexes).    \n  },\n\n  // `data` is the data to be sent as the request body\n  // Only applicable for request methods 'PUT', 'POST', 'DELETE , and 'PATCH'\n  // When no `transformRequest` is set, must be of one of the following types:\n  // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams\n  // - Browser only: FormData, File, Blob\n  // - Node only: Stream, Buffer, FormData (form-data package)\n  data: {\n    firstName: 'Fred'\n  },\n\n  // syntax alternative to send data into the body\n  // method post\n  // only the value is sent, not the key\n  data: 'Country=Brasil&amp;City=Belo Horizonte',\n\n  // `timeout` specifies the number of milliseconds before the request times out.\n  // If the request takes longer than `timeout`, the request will be aborted.\n  timeout: 1000, // default is `0` (no timeout)\n\n  // `withCredentials` indicates whether or not cross-site Access-Control requests\n  // should be made using credentials\n  withCredentials: false, // default\n\n  // `adapter` allows custom handling of requests which makes testing easier.\n  // Return a promise and supply a valid response (see lib/adapters/README.md)\n  adapter: function (config) {\n    /* ... */\n  },\n  // Also, you can set the name of the built-in adapter, or provide an array with their names\n  // to choose the first available in the environment\n  adapter: 'xhr' // 'fetch' | 'http' | ['xhr', 'http', 'fetch']\n\n  // `auth` indicates that HTTP Basic auth should be used, and supplies credentials.\n  // This will set an `Authorization` header, overwriting any existing\n  // `Authorization` custom headers you have set using `headers`.\n  // Please note that only HTTP Basic auth is configurable through this parameter.\n  // For Bearer tokens and such, use `Authorization` custom headers instead.\n  auth: {\n    username: 'janedoe',\n    password: 's00pers3cret'\n  },\n\n  // `responseType` indicates the type of data that the server will respond with\n  // options are: 'arraybuffer', 'document', 'json', 'text', 'stream'\n  //   browser only: 'blob'\n  responseType: 'json', // default\n\n  // `responseEncoding` indicates encoding to use for decoding responses (Node.js only)\n  // Note: Ignored for `responseType` of 'stream' or client-side requests\n  // options are: 'ascii', 'ASCII', 'ansi', 'ANSI', 'binary', 'BINARY', 'base64', 'BASE64', 'base64url',\n  // 'BASE64URL', 'hex', 'HEX', 'latin1', 'LATIN1', 'ucs-2', 'UCS-2', 'ucs2', 'UCS2', 'utf-8', 'UTF-8',\n  // 'utf8', 'UTF8', 'utf16le', 'UTF16LE'\n  responseEncoding: 'utf8', // default\n\n  // `xsrfCookieName` is the name of the cookie to use as a value for xsrf token\n  xsrfCookieName: 'XSRF-TOKEN', // default\n\n  // `xsrfHeaderName` is the name of the http header that carries the xsrf token value\n  xsrfHeaderName: 'X-XSRF-TOKEN', // default\n\n  // `undefined` (default) - set XSRF header only for the same origin requests\n  withXSRFToken: boolean | undefined | ((config: InternalAxiosRequestConfig) =&gt; boolean | undefined),\n\n  // `onUploadProgress` allows handling of progress events for uploads\n  // browser &amp; node.js\n  onUploadProgress: function ({loaded, total, progress, bytes, estimated, rate, upload = true}) {\n    // Do whatever you want with the Axios progress event\n  },\n\n  // `onDownloadProgress` allows handling of progress events for downloads\n  // browser &amp; node.js\n  onDownloadProgress: function ({loaded, total, progress, bytes, estimated, rate, download = true}) {\n    // Do whatever you want with the Axios progress event\n  },\n\n  // `maxContentLength` defines the max size of the http response content in bytes allowed in node.js\n  maxContentLength: 2000,\n\n  // `maxBodyLength` (Node only option) defines the max size of the http request content in bytes allowed\n  maxBodyLength: 2000,\n\n  // `validateStatus` defines whether to resolve or reject the promise for a given\n  // HTTP response status code. If `validateStatus` returns `true` (or is set to `null`\n  // or `undefined`), the promise will be resolved; otherwise, the promise will be\n  // rejected.\n  validateStatus: function (status) {\n    return status &gt;= 200 &amp;&amp; status &lt; 300; // default\n  },\n\n  // `maxRedirects` defines the maximum number of redirects to follow in node.js.\n  // If set to 0, no redirects will be followed.\n  maxRedirects: 21, // default\n\n  // `beforeRedirect` defines a function that will be called before redirect.\n  // Use this to adjust the request options upon redirecting,\n  // to inspect the latest response headers,\n  // or to cancel the request by throwing an error\n  // If maxRedirects is set to 0, `beforeRedirect` is not used.\n  beforeRedirect: (options, { headers }) =&gt; {\n    if (options.hostname === \"example.com\") {\n      options.auth = \"user:password\";\n    }\n  },\n\n  // `socketPath` defines a UNIX Socket to be used in node.js.\n  // e.g. '/var/run/docker.sock' to send requests to the docker daemon.\n  // Only either `socketPath` or `proxy` can be specified.\n  // If both are specified, `socketPath` is used.\n  socketPath: null, // default\n\n  // `transport` determines the transport method that will be used to make the request. If defined, it will be used. Otherwise, if `maxRedirects` is 0, the default `http` or `https` library will be used, depending on the protocol specified in `protocol`. Otherwise, the `httpFollow` or `httpsFollow` library will be used, again depending on the protocol, which can handle redirects.\n  transport: undefined, // default\n\n  // `httpAgent` and `httpsAgent` define a custom agent to be used when performing http\n  // and https requests, respectively, in node.js. This allows options to be added like\n  // `keepAlive` that are not enabled by default.\n  httpAgent: new http.Agent({ keepAlive: true }),\n  httpsAgent: new https.Agent({ keepAlive: true }),\n\n  // `proxy` defines the hostname, port, and protocol of the proxy server.\n  // You can also define your proxy using the conventional `http_proxy` and\n  // `https_proxy` environment variables. If you are using environment variables\n  // for your proxy configuration, you can also define a `no_proxy` environment\n  // variable as a comma-separated list of domains that should not be proxied.\n  // Use `false` to disable proxies, ignoring environment variables.\n  // `auth` indicates that HTTP Basic auth should be used to connect to the proxy, and\n  // supplies credentials.\n  // This will set an `Proxy-Authorization` header, overwriting any existing\n  // `Proxy-Authorization` custom headers you have set using `headers`.\n  // If the proxy server uses HTTPS, then you must set the protocol to `https`.\n  proxy: {\n    protocol: 'https',\n    host: '127.0.0.1',\n    // hostname: '127.0.0.1' // Takes precedence over 'host' if both are defined\n    port: 9000,\n    auth: {\n      username: 'mikeymike',\n      password: 'rapunz3l'\n    }\n  },\n\n  // `cancelToken` specifies a cancel token that can be used to cancel the request\n  // (see Cancellation section below for details)\n  cancelToken: new CancelToken(function (cancel) {\n  }),\n\n  // an alternative way to cancel Axios requests using AbortController\n  signal: new AbortController().signal,\n\n  // `decompress` indicates whether or not the response body should be decompressed\n  // automatically. If set to `true` will also remove the 'content-encoding' header\n  // from the responses objects of all decompressed responses\n  // - Node only (XHR cannot turn off decompression)\n  decompress: true, // default\n\n  // `insecureHTTPParser` boolean.\n  // Indicates where to use an insecure HTTP parser that accepts invalid HTTP headers.\n  // This may allow interoperability with non-conformant HTTP implementations.\n  // Using the insecure parser should be avoided.\n  // see options https://nodejs.org/dist/latest-v12.x/docs/api/http.html#http_http_request_url_options_callback\n  // see also https://nodejs.org/en/blog/vulnerability/february-2020-security-releases/#strict-http-header-parsing-none\n  insecureHTTPParser: undefined, // default\n\n  // transitional options for backward compatibility that may be removed in the newer versions\n  transitional: {\n    // silent JSON parsing mode\n    // `true`  - ignore JSON parsing errors and set response.data to null if parsing failed (old behaviour)\n    // `false` - throw SyntaxError if JSON parsing failed (Note: responseType must be set to 'json')\n    silentJSONParsing: true, // default value for the current Axios version\n\n    // try to parse the response string as JSON even if `responseType` is not 'json'\n    forcedJSONParsing: true,\n\n    // throw ETIMEDOUT error instead of generic ECONNABORTED on request timeouts\n    clarifyTimeoutError: false,\n  },\n\n  env: {\n    // The FormData class to be used to automatically serialize the payload into a FormData object\n    FormData: window?.FormData || global?.FormData\n  },\n\n  formSerializer: {\n      visitor: (value, key, path, helpers) =&gt; {}; // custom visitor function to serialize form values\n      dots: boolean; // use dots instead of brackets format\n      metaTokens: boolean; // keep special endings like {} in parameter key\n      indexes: boolean; // array indexes format null - no brackets, false - empty brackets, true - brackets with indexes\n  },\n\n  // http adapter only (node.js)\n  maxRate: [\n    100 * 1024, // 100KB/s upload limit,\n    100 * 1024  // 100KB/s download limit\n  ]\n}\n</code></pre>"},{"location":"new-third-part-lib/axios/#response-schema","title":"Response Schema","text":"<p>The response for a request contains the following information.</p> <pre><code>{\n  // `data` is the response that was provided by the server\n  data: {},\n\n  // `status` is the HTTP status code from the server response\n  status: 200,\n\n  // `statusText` is the HTTP status message from the server response\n  statusText: 'OK',\n\n  // `headers` the HTTP headers that the server responded with\n  // All header names are lowercase and can be accessed using the bracket notation.\n  // Example: `response.headers['content-type']`\n  headers: {},\n\n  // `config` is the config that was provided to `axios` for the request\n  config: {},\n\n  // `request` is the request that generated this response\n  // It is the last ClientRequest instance in node.js (in redirects)\n  // and an XMLHttpRequest instance in the browser\n  request: {}\n}\n</code></pre> <p>When using <code>then</code>, you will receive the response as follows:</p> <pre><code>axios.get('/user/12345')\n  .then(function (response) {\n    console.log(response.data);\n    console.log(response.status);\n    console.log(response.statusText);\n    console.log(response.headers);\n    console.log(response.config);\n  });\n</code></pre> <p>When using <code>catch</code>, or passing a rejection callback as second parameter of <code>then</code>, the response will be available through the <code>error</code> object as explained in the Handling Errors section.</p>"},{"location":"new-third-part-lib/axios/#config-defaults","title":"Config Defaults","text":"<p>You can specify config defaults that will be applied to every request.</p>"},{"location":"new-third-part-lib/axios/#global-axios-defaults","title":"Global axios defaults","text":"<pre><code>axios.defaults.baseURL = 'https://api.example.com';\n\n// Important: If axios is used with multiple domains, the AUTH_TOKEN will be sent to all of them.\n// See below for an example using Custom instance defaults instead.\naxios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\n\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n</code></pre>"},{"location":"new-third-part-lib/axios/#custom-instance-defaults","title":"Custom instance defaults","text":"<pre><code>// Set config defaults when creating the instance\nconst instance = axios.create({\n  baseURL: 'https://api.example.com'\n});\n\n// Alter defaults after instance has been created\ninstance.defaults.headers.common['Authorization'] = AUTH_TOKEN;\n</code></pre>"},{"location":"new-third-part-lib/axios/#config-order-of-precedence","title":"Config order of precedence","text":"<p>Config will be merged with an order of precedence. The order is library defaults found in lib/defaults.js, then <code>defaults</code> property of the instance, and finally <code>config</code> argument for the request. The latter will take precedence over the former. Here's an example.</p> <pre><code>// Create an instance using the config defaults provided by the library\n// At this point the timeout config value is `0` as is the default for the library\nconst instance = axios.create();\n\n// Override timeout default for the library\n// Now all requests using this instance will wait 2.5 seconds before timing out\ninstance.defaults.timeout = 2500;\n\n// Override timeout for this request as it's known to take a long time\ninstance.get('/longRequest', {\n  timeout: 5000\n});\n</code></pre>"},{"location":"new-third-part-lib/axios/#interceptors","title":"Interceptors","text":"<p>You can intercept requests or responses before they are handled by <code>then</code> or <code>catch</code>.</p> <pre><code>// Add a request interceptor\naxios.interceptors.request.use(function (config) {\n    // Do something before request is sent\n    return config;\n  }, function (error) {\n    // Do something with request error\n    return Promise.reject(error);\n  });\n\n// Add a response interceptor\naxios.interceptors.response.use(function (response) {\n    // Any status code that lie within the range of 2xx cause this function to trigger\n    // Do something with response data\n    return response;\n  }, function (error) {\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\n    // Do something with response error\n    return Promise.reject(error);\n  });\n</code></pre> <p>If you need to remove an interceptor later you can.</p> <pre><code>const myInterceptor = axios.interceptors.request.use(function () {/*...*/});\naxios.interceptors.request.eject(myInterceptor);\n</code></pre> <p>You can also clear all interceptors for requests or responses.</p> <pre><code>const instance = axios.create();\ninstance.interceptors.request.use(function () {/*...*/});\ninstance.interceptors.request.clear(); // Removes interceptors from requests\ninstance.interceptors.response.use(function () {/*...*/});\ninstance.interceptors.response.clear(); // Removes interceptors from responses\n</code></pre> <p>You can add interceptors to a custom instance of axios.</p> <pre><code>const instance = axios.create();\ninstance.interceptors.request.use(function () {/*...*/});\n</code></pre> <p>When you add request interceptors, they are presumed to be asynchronous by default. This can cause a delay in the execution of your axios request when the main thread is blocked (a promise is created under the hood for the interceptor and your request gets put on the bottom of the call stack). If your request interceptors are synchronous you can add a flag to the options object that will tell axios to run the code synchronously and avoid any delays in request execution.</p> <pre><code>axios.interceptors.request.use(function (config) {\n  config.headers.test = 'I am only a header!';\n  return config;\n}, null, { synchronous: true });\n</code></pre> <p>If you want to execute a particular interceptor based on a runtime check, you can add a <code>runWhen</code> function to the options object. The interceptor will not be executed if and only if the return of <code>runWhen</code> is <code>false</code>. The function will be called with the config object (don't forget that you can bind your own arguments to it as well.) This can be handy when you have an asynchronous request interceptor that only needs to run at certain times.</p> <pre><code>function onGetCall(config) {\n  return config.method === 'get';\n}\naxios.interceptors.request.use(function (config) {\n  config.headers.test = 'special get headers';\n  return config;\n}, null, { runWhen: onGetCall });\n</code></pre>"},{"location":"new-third-part-lib/axios/#multiple-interceptors","title":"Multiple Interceptors","text":"<p>Given you add multiple response interceptors and when the response was fulfilled</p> <ul> <li>then each interceptor is executed</li> <li>then they are executed in the order they were added</li> <li>then only the last interceptor's result is returned</li> <li>then every interceptor receives the result of its predecessor</li> <li>and when the fulfillment-interceptor throws <ul> <li>then the following fulfillment-interceptor is not called</li> <li>then the following rejection-interceptor is called</li> <li>once caught, another following fulfill-interceptor is called again (just like in a promise chain).</li> </ul> </li> </ul> <p>Read the interceptor tests for seeing all this in code.</p>"},{"location":"new-third-part-lib/axios/#error-types","title":"Error Types","text":"<p>There are many different axios error messages that can appear that can provide basic information about the specifics of the error and where opportunities may lie in debugging.</p> <p>The general structure of axios errors is as follows:</p> Property Definition message A quick summary of the error message and the status it failed with. name This defines where the error originated from. For axios, it will always be an 'AxiosError'. stack Provides the stack trace of the error. config An axios config object with specific instance configurations defined by the user from when the request was made code Represents an axios identified error. The table below lists out specific definitions for internal axios error. status HTTP response status code. See here for common HTTP response status code meanings. <p>Below is a list of potential axios identified error</p> Code Definition ERR_BAD_OPTION_VALUE Invalid or unsupported value provided in axios configuration. ERR_BAD_OPTION Invalid option provided in axios configuration. ECONNABORTED Request timed out due to exceeding timeout specified in axios configuration. ETIMEDOUT Request timed out due to exceeding default axios timelimit. ERR_NETWORK Network-related issue. ERR_FR_TOO_MANY_REDIRECTS Request is redirected too many times; exceeds max redirects specified in axios configuration. ERR_DEPRECATED Deprecated feature or method used in axios. ERR_BAD_RESPONSE Response cannot be parsed properly or is in an unexpected format. ERR_BAD_REQUEST Requested has unexpected format or missing required parameters. ERR_CANCELED Feature or method is canceled explicitly by the user. ERR_NOT_SUPPORT Feature or method not supported in the current axios environment. ERR_INVALID_URL Invalid URL provided for axios request."},{"location":"new-third-part-lib/axios/#handling-errors","title":"Handling Errors","text":"<p>the default behavior is to reject every response that returns with a status code that falls out of the range of 2xx and treat it as an error.</p> <pre><code>axios.get('/user/12345')\n  .catch(function (error) {\n    if (error.response) {\n      // The request was made and the server responded with a status code\n      // that falls out of the range of 2xx\n      console.log(error.response.data);\n      console.log(error.response.status);\n      console.log(error.response.headers);\n    } else if (error.request) {\n      // The request was made but no response was received\n      // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n      // http.ClientRequest in node.js\n      console.log(error.request);\n    } else {\n      // Something happened in setting up the request that triggered an Error\n      console.log('Error', error.message);\n    }\n    console.log(error.config);\n  });\n</code></pre> <p>Using the <code>validateStatus</code> config option, you can override the default condition (status &gt;= 200 &amp;&amp; status &lt; 300) and define HTTP code(s) that should throw an error.</p> <pre><code>axios.get('/user/12345', {\n  validateStatus: function (status) {\n    return status &lt; 500; // Resolve only if the status code is less than 500\n  }\n})\n</code></pre> <p>Using <code>toJSON</code> you get an object with more information about the HTTP error.</p> <pre><code>axios.get('/user/12345')\n  .catch(function (error) {\n    console.log(error.toJSON());\n  });\n</code></pre>"},{"location":"new-third-part-lib/axios/#cancellation","title":"Cancellation","text":""},{"location":"new-third-part-lib/axios/#abortcontroller","title":"AbortController","text":"<p>Starting from <code>v0.22.0</code> Axios supports AbortController to cancel requests in fetch API way:</p> <pre><code>const controller = new AbortController();\n\naxios.get('/foo/bar', {\n   signal: controller.signal\n}).then(function(response) {\n   //...\n});\n// cancel the request\ncontroller.abort()\n</code></pre>"},{"location":"new-third-part-lib/axios/#canceltoken-deprecated","title":"CancelToken <code>\ud83d\udc4edeprecated</code>","text":"<p>You can also cancel a request using a CancelToken.</p> <p>The axios cancel token API is based on the withdrawn cancellable promises proposal.</p> <p>This API is deprecated since v0.22.0 and shouldn't be used in new projects</p> <p>You can create a cancel token using the <code>CancelToken.source</code> factory as shown below:</p> <pre><code>const CancelToken = axios.CancelToken;\nconst source = CancelToken.source();\n\naxios.get('/user/12345', {\n  cancelToken: source.token\n}).catch(function (thrown) {\n  if (axios.isCancel(thrown)) {\n    console.log('Request canceled', thrown.message);\n  } else {\n    // handle error\n  }\n});\n\naxios.post('/user/12345', {\n  name: 'new name'\n}, {\n  cancelToken: source.token\n})\n\n// cancel the request (the message parameter is optional)\nsource.cancel('Operation canceled by the user.');\n</code></pre> <p>You can also create a cancel token by passing an executor function to the <code>CancelToken</code> constructor:</p> <pre><code>const CancelToken = axios.CancelToken;\nlet cancel;\n\naxios.get('/user/12345', {\n  cancelToken: new CancelToken(function executor(c) {\n    // An executor function receives a cancel function as a parameter\n    cancel = c;\n  })\n});\n\n// cancel the request\ncancel();\n</code></pre> <p>Note: you can cancel several requests with the same cancel token/abort controller. If a cancellation token is already cancelled at the moment of starting an Axios request, then the request is cancelled immediately, without any attempts to make a real request.</p> <p>During the transition period, you can use both cancellation APIs, even for the same request:</p>"},{"location":"new-third-part-lib/axios/#using-applicationx-www-form-urlencoded-format","title":"Using <code>application/x-www-form-urlencoded</code> format","text":""},{"location":"new-third-part-lib/axios/#urlsearchparams","title":"URLSearchParams","text":"<p>By default, axios serializes JavaScript objects to <code>JSON</code>. To send data in the <code>application/x-www-form-urlencoded</code> format instead, you can use the <code>URLSearchParams</code> API, which is supported in the vast majority of browsers,and  Node starting with v10 (released in 2018).</p> <pre><code>const params = new URLSearchParams({ foo: 'bar' });\nparams.append('extraparam', 'value');\naxios.post('/foo', params);\n</code></pre>"},{"location":"new-third-part-lib/axios/#query-string-older-browsers","title":"Query string (Older browsers)","text":"<p>For compatibility with very old browsers, there is a polyfill available (make sure to polyfill the global environment).</p> <p>Alternatively, you can encode data using the <code>qs</code> library:</p> <pre><code>const qs = require('qs');\naxios.post('/foo', qs.stringify({ 'bar': 123 }));\n</code></pre> <p>Or in another way (ES6),</p> <pre><code>import qs from 'qs';\nconst data = { 'bar': 123 };\nconst options = {\n  method: 'POST',\n  headers: { 'content-type': 'application/x-www-form-urlencoded' },\n  data: qs.stringify(data),\n  url,\n};\naxios(options);\n</code></pre>"},{"location":"new-third-part-lib/axios/#older-nodejs-versions","title":"Older Node.js versions","text":"<p>For older Node.js engines, you can use the <code>querystring</code> module as follows:</p> <pre><code>const querystring = require('querystring');\naxios.post('https://something.com/', querystring.stringify({ foo: 'bar' }));\n</code></pre> <p>You can also use the <code>qs</code> library.</p> <p>Note : The <code>qs</code> library is preferable if you need to stringify nested objects, as the <code>querystring</code> method has known issues with that use case.</p>"},{"location":"new-third-part-lib/axios/#automatic-serialization-to-urlsearchparams","title":"Automatic serialization to URLSearchParams","text":"<p>Axios will automatically serialize the data object to urlencoded format if the content-type header is set to \"application/x-www-form-urlencoded\".</p> <pre><code>const data = {\n  x: 1,\n  arr: [1, 2, 3],\n  arr2: [1, [2], 3],\n  users: [{name: 'Peter', surname: 'Griffin'}, {name: 'Thomas', surname: 'Anderson'}],\n};\n\nawait axios.postForm('https://postman-echo.com/post', data,\n  {headers: {'content-type': 'application/x-www-form-urlencoded'}}\n);\n</code></pre> <p>The server will handle it as:</p> <pre><code>  {\n    x: '1',\n    'arr[]': [ '1', '2', '3' ],\n    'arr2[0]': '1',\n    'arr2[1][0]': '2',\n    'arr2[2]': '3',\n    'arr3[]': [ '1', '2', '3' ],\n    'users[0][name]': 'Peter',\n    'users[0][surname]': 'griffin',\n    'users[1][name]': 'Thomas',\n    'users[1][surname]': 'Anderson'\n  }\n</code></pre> <p>If your backend body-parser (like <code>body-parser</code> of <code>express.js</code>) supports nested objects decoding, you will get the same object on the server-side automatically</p> <pre><code>  var app = express();\n\n  app.use(bodyParser.urlencoded({ extended: true })); // support encoded bodies\n\n  app.post('/', function (req, res, next) {\n     // echo body as JSON\n     res.send(JSON.stringify(req.body));\n  });\n\n  server = app.listen(3000);\n</code></pre>"},{"location":"new-third-part-lib/axios/#using-multipartform-data-format","title":"Using <code>multipart/form-data</code> format","text":""},{"location":"new-third-part-lib/axios/#formdata","title":"FormData","text":"<p>To send the data as a <code>multipart/formdata</code> you need to pass a formData instance as a payload. Setting the <code>Content-Type</code> header is not required as Axios guesses it based on the payload type.</p> <pre><code>const formData = new FormData();\nformData.append('foo', 'bar');\n\naxios.post('https://httpbin.org/post', formData);\n</code></pre> <p>In node.js, you can use the <code>form-data</code> library as follows:</p> <pre><code>const FormData = require('form-data');\n\nconst form = new FormData();\nform.append('my_field', 'my value');\nform.append('my_buffer', new Buffer(10));\nform.append('my_file', fs.createReadStream('/foo/bar.jpg'));\n\naxios.post('https://example.com', form)\n</code></pre>"},{"location":"new-third-part-lib/axios/#automatic-serialization-to-formdata","title":"Automatic serialization to FormData","text":"<p>Starting from <code>v0.27.0</code>, Axios supports automatic object serialization to a FormData object if the request <code>Content-Type</code> header is set to <code>multipart/form-data</code>.</p> <p>The following request will submit the data in a FormData format (Browser &amp; Node.js):</p> <pre><code>import axios from 'axios';\n\naxios.post('https://httpbin.org/post', {x: 1}, {\n  headers: {\n    'Content-Type': 'multipart/form-data'\n  }\n}).then(({data}) =&gt; console.log(data));\n</code></pre> <p>In the <code>node.js</code> build, the (<code>form-data</code>) polyfill is used by default.</p> <p>You can overload the FormData class by setting the <code>env.FormData</code> config variable, but you probably won't need it in most cases:</p> <pre><code>const axios = require('axios');\nvar FormData = require('form-data');\n\naxios.post('https://httpbin.org/post', {x: 1, buf: new Buffer(10)}, {\n  headers: {\n    'Content-Type': 'multipart/form-data'\n  }\n}).then(({data}) =&gt; console.log(data));\n</code></pre> <p>Axios FormData serializer supports some special endings to perform the following operations:</p> <ul> <li><code>{}</code> - serialize the value with JSON.stringify</li> <li><code>[]</code> - unwrap the array-like object as separate fields with the same key</li> </ul> <p>Note : unwrap/expand operation will be used by default on arrays and FileList objects</p> <p>FormData serializer supports additional options via <code>config.formSerializer: object</code> property to handle rare cases:</p> <ul> <li> <p><code>visitor: Function</code> - user-defined visitor function that will be called recursively to serialize the data object to a <code>FormData</code> object by following custom rules.</p> </li> <li> <p><code>dots: boolean = false</code> - use dot notation instead of brackets to serialize arrays and objects;</p> </li> <li> <p><code>metaTokens: boolean = true</code> - add the special ending (e.g <code>user{}: '{\"name\": \"John\"}'</code>) in the FormData key. The back-end body-parser could potentially use this meta-information to automatically parse the value as JSON.</p> </li> <li> <p><code>indexes: null|false|true = false</code> - controls how indexes will be added to unwrapped keys of <code>flat</code> array-like objects</p> <ul> <li><code>null</code> - don't add brackets (<code>arr: 1</code>, <code>arr: 2</code>, <code>arr: 3</code>)</li> <li><code>false</code>(default) - add empty brackets (<code>arr[]: 1</code>, <code>arr[]: 2</code>, <code>arr[]: 3</code>)</li> <li><code>true</code> - add brackets with indexes (<code>arr[0]: 1</code>, <code>arr[1]: 2</code>, <code>arr[2]: 3</code>)</li> </ul> </li> </ul> <p>Let's say we have an object like this one:</p> <pre><code>const obj = {\n  x: 1,\n  arr: [1, 2, 3],\n  arr2: [1, [2], 3],\n  users: [{name: 'Peter', surname: 'Griffin'}, {name: 'Thomas', surname: 'Anderson'}],\n  'obj2{}': [{x:1}]\n};\n</code></pre> <p>The following steps will be executed by the Axios serializer internally:</p> <pre><code>const formData = new FormData();\nformData.append('x', '1');\nformData.append('arr[]', '1');\nformData.append('arr[]', '2');\nformData.append('arr[]', '3');\nformData.append('arr2[0]', '1');\nformData.append('arr2[1][0]', '2');\nformData.append('arr2[2]', '3');\nformData.append('users[0][name]', 'Peter');\nformData.append('users[0][surname]', 'Griffin');\nformData.append('users[1][name]', 'Thomas');\nformData.append('users[1][surname]', 'Anderson');\nformData.append('obj2{}', '[{\"x\":1}]');\n</code></pre> <p>Axios supports the following shortcut methods: <code>postForm</code>, <code>putForm</code>, <code>patchForm</code> which are just the corresponding http methods with the <code>Content- Type</code> header preset to <code>multipart/form-data</code>.</p>"},{"location":"new-third-part-lib/axios/#files-posting","title":"Files Posting","text":"<p>You can easily submit a single file:</p> <pre><code>await axios.postForm('https://httpbin.org/post', {\n  'myVar' : 'foo',\n  'file': document.querySelector('#fileInput').files[0]\n});\n</code></pre> <p>or multiple files as <code>multipart/form-data</code>:</p> <pre><code>await axios.postForm('https://httpbin.org/post', {\n  'files[]': document.querySelector('#fileInput').files\n});\n</code></pre> <p><code>FileList</code> object can be passed directly:</p> <pre><code>await axios.postForm('https://httpbin.org/post', document.querySelector('#fileInput').files)\n</code></pre> <p>All files will be sent with the same field names: <code>files[]</code>.</p>"},{"location":"new-third-part-lib/axios/#html-form-posting-browser","title":"HTML Form Posting (browser)","text":"<p>Pass HTML Form element as a payload to submit it as <code>multipart/form-data</code> content.</p> <pre><code>await axios.postForm('https://httpbin.org/post', document.querySelector('#htmlForm'));\n</code></pre> <p><code>FormData</code> and <code>HTMLForm</code> objects can also be posted as <code>JSON</code> by explicitly setting the <code>Content-Type</code> header to <code>application/json</code>:</p> <pre><code>await axios.post('https://httpbin.org/post', document.querySelector('#htmlForm'), {\n  headers: {\n    'Content-Type': 'application/json'\n  }\n})\n</code></pre> <p>For example, the Form</p> <pre><code>&lt;form id=\"form\"&gt;\n  &lt;input type=\"text\" name=\"foo\" value=\"1\"&gt;\n  &lt;input type=\"text\" name=\"deep.prop\" value=\"2\"&gt;\n  &lt;input type=\"text\" name=\"deep prop spaced\" value=\"3\"&gt;\n  &lt;input type=\"text\" name=\"baz\" value=\"4\"&gt;\n  &lt;input type=\"text\" name=\"baz\" value=\"5\"&gt;\n\n  &lt;select name=\"user.age\"&gt;\n    &lt;option value=\"value1\"&gt;Value 1&lt;/option&gt;\n    &lt;option value=\"value2\" selected&gt;Value 2&lt;/option&gt;\n    &lt;option value=\"value3\"&gt;Value 3&lt;/option&gt;\n  &lt;/select&gt;\n\n  &lt;input type=\"submit\" value=\"Save\"&gt;\n&lt;/form&gt;\n</code></pre> <p>will be submitted as the following JSON object:</p> <pre><code>{\n  \"foo\": \"1\",\n  \"deep\": {\n    \"prop\": {\n      \"spaced\": \"3\"\n    }\n  },\n  \"baz\": [\n    \"4\",\n    \"5\"\n  ],\n  \"user\": {\n    \"age\": \"value2\"\n  }\n}\n</code></pre> <p>Sending <code>Blobs</code>/<code>Files</code> as JSON (<code>base64</code>) is not currently supported.</p>"},{"location":"new-third-part-lib/axios/#progress-capturing","title":"Progress capturing","text":"<p>Axios supports both browser and node environments to capture request upload/download progress. The frequency of progress events is forced to be limited to <code>3</code> times per second.</p> <pre><code>await axios.post(url, data, {\n  onUploadProgress: function (axiosProgressEvent) {\n    /*{\n      loaded: number;\n      total?: number;\n      progress?: number; // in range [0..1]\n      bytes: number; // how many bytes have been transferred since the last trigger (delta)\n      estimated?: number; // estimated time in seconds\n      rate?: number; // upload speed in bytes\n      upload: true; // upload sign\n    }*/\n  },\n\n  onDownloadProgress: function (axiosProgressEvent) {\n    /*{\n      loaded: number;\n      total?: number;\n      progress?: number;\n      bytes: number; \n      estimated?: number;\n      rate?: number; // download speed in bytes\n      download: true; // download sign\n    }*/\n  }\n});\n</code></pre> <p>You can also track stream upload/download progress in node.js:</p> <pre><code>const {data} = await axios.post(SERVER_URL, readableStream, {\n   onUploadProgress: ({progress}) =&gt; {\n     console.log((progress * 100).toFixed(2));\n   },\n\n   headers: {\n    'Content-Length': contentLength\n   },\n\n   maxRedirects: 0 // avoid buffering the entire stream\n});\n</code></pre> <p>Note: Capturing FormData upload progress is not currently supported in node.js environments.</p> <p>\u26a0\ufe0f Warning It is recommended to disable redirects by setting maxRedirects: 0 to upload the stream in the node.js environment, as follow-redirects package will buffer the entire stream in RAM without following the \"backpressure\" algorithm.</p>"},{"location":"new-third-part-lib/axios/#rate-limiting","title":"Rate limiting","text":"<p>Download and upload rate limits can only be set for the http adapter (node.js):</p> <pre><code>const {data} = await axios.post(LOCAL_SERVER_URL, myBuffer, {\n  onUploadProgress: ({progress, rate}) =&gt; {\n    console.log(`Upload [${(progress*100).toFixed(2)}%]: ${(rate / 1024).toFixed(2)}KB/s`)\n  },\n\n  maxRate: [100 * 1024], // 100KB/s limit\n});\n</code></pre>"},{"location":"new-third-part-lib/axios/#axiosheaders","title":"AxiosHeaders","text":"<p>Axios has its own <code>AxiosHeaders</code> class to manipulate headers using a Map-like API that guarantees caseless work. Although HTTP is case-insensitive in headers, Axios will retain the case of the original header for stylistic reasons and for a workaround when servers mistakenly consider the header's case. The old approach of directly manipulating headers object is still available, but deprecated and not recommended for future usage.</p>"},{"location":"new-third-part-lib/axios/#working-with-headers","title":"Working with headers","text":"<p>An AxiosHeaders object instance can contain different types of internal values. that control setting and merging logic. The final headers object with string values is obtained by Axios by calling the <code>toJSON</code> method.</p> <p>Note: By JSON here we mean an object consisting only of string values intended to be sent over the network.</p> <p>The header value can be one of the following types:</p> <ul> <li><code>string</code> - normal string value that will be sent to the server</li> <li><code>null</code> - skip header when rendering to JSON</li> <li><code>false</code> - skip header when rendering to JSON, additionally indicates that <code>set</code> method must be called with <code>rewrite</code> option set to <code>true</code> to overwrite this value (Axios uses this internally to allow users to opt out of installing certain headers like <code>User-Agent</code> or <code>Content-Type</code>)</li> <li><code>undefined</code> - value is not set</li> </ul> <p>Note: The header value is considered set if it is not equal to undefined.</p> <p>The headers object is always initialized inside interceptors and transformers:</p> <pre><code>  axios.interceptors.request.use((request: InternalAxiosRequestConfig) =&gt; {\n      request.headers.set('My-header', 'value');\n\n      request.headers.set({\n        \"My-set-header1\": \"my-set-value1\",\n        \"My-set-header2\": \"my-set-value2\"\n      });\n\n      request.headers.set('User-Agent', false); // disable subsequent setting the header by Axios\n\n      request.headers.setContentType('text/plain');\n\n      request.headers['My-set-header2'] = 'newValue' // direct access is deprecated\n\n      return request;\n    }\n  );\n</code></pre> <p>You can iterate over an <code>AxiosHeaders</code> instance using a <code>for...of</code> statement:</p> <pre><code>const headers = new AxiosHeaders({\n  foo: '1',\n  bar: '2',\n  baz: '3'\n});\n\nfor(const [header, value] of headers) {\n  console.log(header, value);\n}\n\n// foo 1\n// bar 2\n// baz 3\n</code></pre>"},{"location":"new-third-part-lib/axios/#new-axiosheadersheaders","title":"new AxiosHeaders(headers?)","text":"<p>Constructs a new <code>AxiosHeaders</code> instance.</p> <pre><code>constructor(headers?: RawAxiosHeaders | AxiosHeaders | string);\n</code></pre> <p>If the headers object is a string, it will be parsed as RAW HTTP headers.</p> <pre><code>const headers = new AxiosHeaders(`\nHost: www.bing.com\nUser-Agent: curl/7.54.0\nAccept: */*`);\n\nconsole.log(headers);\n\n// Object [AxiosHeaders] {\n//   host: 'www.bing.com',\n//   'user-agent': 'curl/7.54.0',\n//   accept: '*/*'\n// }\n</code></pre>"},{"location":"new-third-part-lib/axios/#axiosheadersset","title":"AxiosHeaders#set","text":"<pre><code>set(headerName, value: Axios, rewrite?: boolean);\nset(headerName, value, rewrite?: (this: AxiosHeaders, value: string, name: string, headers: RawAxiosHeaders) =&gt; boolean);\nset(headers?: RawAxiosHeaders | AxiosHeaders | string, rewrite?: boolean);\n</code></pre> <p>The <code>rewrite</code> argument controls the overwriting behavior:</p> <ul> <li><code>false</code> - do not overwrite if header's value is set (is not <code>undefined</code>)</li> <li><code>undefined</code> (default) - overwrite the header unless its value is set to <code>false</code></li> <li><code>true</code> - rewrite anyway</li> </ul> <p>The option can also accept a user-defined function that determines whether the value should be overwritten or not.</p> <p>Returns <code>this</code>.</p>"},{"location":"new-third-part-lib/axios/#axiosheadersgetheader","title":"AxiosHeaders#get(header)","text":"<pre><code>  get(headerName: string, matcher?: true | AxiosHeaderMatcher): AxiosHeaderValue;\n  get(headerName: string, parser: RegExp): RegExpExecArray | null;\n</code></pre> <p>Returns the internal value of the header. It can take an extra argument to parse the header's value with <code>RegExp.exec</code>, matcher function or internal key- value parser.</p> <pre><code>const headers = new AxiosHeaders({\n  'Content-Type': 'multipart/form-data; boundary=Asrf456BGe4h'\n});\n\nconsole.log(headers.get('Content-Type')); \n// multipart/form-data; boundary=Asrf456BGe4h\n\nconsole.log(headers.get('Content-Type', true)); // parse key-value pairs from a string separated with \\s,;= delimiters:\n// [Object: null prototype] {\n//   'multipart/form-data': undefined,\n//    boundary: 'Asrf456BGe4h'\n// }\n\n\nconsole.log(headers.get('Content-Type', (value, name, headers) =&gt; {\n  return String(value).replace(/a/g, 'ZZZ');\n}));\n// multipZZZrt/form-dZZZtZZZ; boundZZZry=Asrf456BGe4h\n\nconsole.log(headers.get('Content-Type', /boundary=(\\w+)/)?.[0]);\n// boundary=Asrf456BGe4h\n</code></pre> <p>Returns the value of the header.</p>"},{"location":"new-third-part-lib/axios/#axiosheadershasheader-matcher","title":"AxiosHeaders#has(header, matcher?)","text":"<pre><code>has(header: string, matcher?: AxiosHeaderMatcher): boolean;\n</code></pre> <p>Returns <code>true</code> if the header is set (has no <code>undefined</code> value).</p>"},{"location":"new-third-part-lib/axios/#axiosheadersdeleteheader-matcher","title":"AxiosHeaders#delete(header, matcher?)","text":"<pre><code>delete(header: string | string[], matcher?: AxiosHeaderMatcher): boolean;\n</code></pre> <p>Returns <code>true</code> if at least one header has been removed.</p>"},{"location":"new-third-part-lib/axios/#axiosheadersclearmatcher","title":"AxiosHeaders#clear(matcher?)","text":"<pre><code>clear(matcher?: AxiosHeaderMatcher): boolean;\n</code></pre> <p>Removes all headers. Unlike the <code>delete</code> method matcher, this optional matcher will be used to match against the header name rather than the value.</p> <pre><code>const headers = new AxiosHeaders({\n  'foo': '1',\n  'x-foo': '2',\n  'x-bar': '3',\n});\n\nconsole.log(headers.clear(/^x-/)); // true\n\nconsole.log(headers.toJSON()); // [Object: null prototype] { foo: '1' }\n</code></pre> <p>Returns <code>true</code> if at least one header has been cleared.</p>"},{"location":"new-third-part-lib/axios/#axiosheadersnormalizeformat","title":"AxiosHeaders#normalize(format);","text":"<p>If the headers object was changed directly, it can have duplicates with the same name but in different cases. This method normalizes the headers object by combining duplicate keys into one. Axios uses this method internally after calling each interceptor. Set <code>format</code> to true for converting headers name to lowercase and capitalize the initial letters (<code>cOntEnt-type</code> =&gt; <code>Content- Type</code>)</p> <pre><code>const headers = new AxiosHeaders({\n  'foo': '1',\n});\n\nheaders.Foo = '2';\nheaders.FOO = '3';\n\nconsole.log(headers.toJSON()); // [Object: null prototype] { foo: '1', Foo: '2', FOO: '3' }\nconsole.log(headers.normalize().toJSON()); // [Object: null prototype] { foo: '3' }\nconsole.log(headers.normalize(true).toJSON()); // [Object: null prototype] { Foo: '3' }\n</code></pre> <p>Returns <code>this</code>.</p>"},{"location":"new-third-part-lib/axios/#axiosheadersconcattargets","title":"AxiosHeaders#concat(...targets)","text":"<pre><code>concat(...targets: Array&lt;AxiosHeaders | RawAxiosHeaders | string | undefined | null&gt;): AxiosHeaders;\n</code></pre> <p>Merges the instance with targets into a new <code>AxiosHeaders</code> instance. If the target is a string, it will be parsed as RAW HTTP headers.</p> <p>Returns a new <code>AxiosHeaders</code> instance.</p>"},{"location":"new-third-part-lib/axios/#axiosheaderstojsonasstrings","title":"AxiosHeaders#toJSON(asStrings?)","text":"<pre><code>toJSON(asStrings?: boolean): RawAxiosHeaders;\n</code></pre> <p>Resolve all internal headers values into a new null prototype object. Set <code>asStrings</code> to true to resolve arrays as a string containing all elements, separated by commas.</p>"},{"location":"new-third-part-lib/axios/#axiosheadersfromthing","title":"AxiosHeaders.from(thing?)","text":"<pre><code>from(thing?: AxiosHeaders | RawAxiosHeaders | string): AxiosHeaders;\n</code></pre> <p>Returns a new <code>AxiosHeaders</code> instance created from the raw headers passed in, or simply returns the given headers object if it's an <code>AxiosHeaders</code> instance.</p>"},{"location":"new-third-part-lib/axios/#axiosheadersconcattargets_1","title":"AxiosHeaders.concat(...targets)","text":"<pre><code>concat(...targets: Array&lt;AxiosHeaders | RawAxiosHeaders | string | undefined | null&gt;): AxiosHeaders;\n</code></pre> <p>Returns a new <code>AxiosHeaders</code> instance created by merging the target objects.</p>"},{"location":"new-third-part-lib/axios/#shortcuts","title":"Shortcuts","text":"<p>The following shortcuts are available:</p> <ul> <li> <p><code>setContentType</code>, <code>getContentType</code>, <code>hasContentType</code></p> </li> <li> <p><code>setContentLength</code>, <code>getContentLength</code>, <code>hasContentLength</code></p> </li> <li> <p><code>setAccept</code>, <code>getAccept</code>, <code>hasAccept</code></p> </li> <li> <p><code>setUserAgent</code>, <code>getUserAgent</code>, <code>hasUserAgent</code></p> </li> <li> <p><code>setContentEncoding</code>, <code>getContentEncoding</code>, <code>hasContentEncoding</code></p> </li> </ul>"},{"location":"new-third-part-lib/axios/#fetch-adapter","title":"Fetch adapter","text":"<p>Fetch adapter was introduced in <code>v1.7.0</code>. By default, it will be used if <code>xhr</code> and <code>http</code> adapters are not available in the build, or not supported by the environment. To use it by default, it must be selected explicitly:</p> <pre><code>const {data} = axios.get(url, {\n  adapter: 'fetch' // by default ['xhr', 'http', 'fetch']\n})\n</code></pre> <p>You can create a separate instance for this:</p> <pre><code>const fetchAxios = axios.create({\n  adapter: 'fetch'\n});\n\nconst {data} = fetchAxios.get(url);\n</code></pre> <p>The adapter supports the same functionality as <code>xhr</code> adapter, including upload and download progress capturing. Also, it supports additional response types such as <code>stream</code> and <code>formdata</code> (if supported by the environment).</p>"},{"location":"new-third-part-lib/axios/#semver","title":"Semver","text":"<p>Until axios reaches a <code>1.0</code> release, breaking changes will be released with a new minor version. For example <code>0.5.1</code>, and <code>0.5.4</code> will have the same API, but <code>0.6.0</code> will have breaking changes.</p>"},{"location":"new-third-part-lib/axios/#promises","title":"Promises","text":"<p>axios depends on a native ES6 Promise implementation to be supported. If your environment doesn't support ES6 Promises, you can polyfill.</p>"},{"location":"new-third-part-lib/axios/#typescript","title":"TypeScript","text":"<p>axios includes TypeScript definitions and a type guard for axios errors.</p> <pre><code>let user: User = null;\ntry {\n  const { data } = await axios.get('/user?ID=12345');\n  user = data.userDetails;\n} catch (error) {\n  if (axios.isAxiosError(error)) {\n    handleAxiosError(error);\n  } else {\n    handleUnexpectedError(error);\n  }\n}\n</code></pre> <p>Because axios dual publishes with an ESM default export and a CJS <code>module.exports</code>, there are some caveats. The recommended setting is to use <code>\"moduleResolution\": \"node16\"</code> (this is implied by <code>\"module\": \"node16\"</code>). Note that this requires TypeScript 4.7 or greater. If use ESM, your settings should be fine. If you compile TypeScript to CJS and you can\u2019t use <code>\"moduleResolution\": \"node 16\"</code>, you have to enable <code>esModuleInterop</code>. If you use TypeScript to type check CJS JavaScript code, your only option is to use <code>\"moduleResolution\": \"node16\"</code>.</p>"},{"location":"new-third-part-lib/axios/#online-one-click-setup","title":"Online one-click setup","text":"<p>You can use Gitpod, an online IDE(which is free for Open Source) for contributing or running the examples online.</p> <p></p>"},{"location":"new-third-part-lib/axios/#resources","title":"Resources","text":"<ul> <li>Changelog</li> <li>Ecosystem</li> <li>Contributing Guide</li> <li>Code of Conduct</li> </ul>"},{"location":"new-third-part-lib/axios/#credits","title":"Credits","text":"<p>axios is heavily inspired by the [http service](https://docs.angularjs.org/api/ng/service/http) provided in AngularJS. Ultimately axios is an effort to provide a standalone <code>$http</code>-like service for use outside of AngularJS.</p>"},{"location":"new-third-part-lib/axios/#license","title":"License","text":"<p>MIT</p>"},{"location":"new-third-part-lib/babel-cli/","title":"031 @bable/cli","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 509  \u9605\u8bfb2\u5206\u949f</p> <p>\u5f00\u53d1\u4e2d\u4f7f\u7528\u7684\u5e93</p>"},{"location":"new-third-part-lib/babel-cli/#_1","title":"\u7528\u9014","text":"<p>babel \u5185\u7f6e\u7684\u4e00\u4e2a CLI\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u7f16\u8bd1\u6587\u4ef6</p>"},{"location":"new-third-part-lib/babel-cli/#_2","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/@babel/cli</p>"},{"location":"new-third-part-lib/babel-cli/#_3","title":"\u57fa\u672c\u4f7f\u7528","text":"<p>\u5728\u547d\u4ee4\u884c\u6267\u884c\uff08\u6216\u8005\u5728webpack\u4e2d\u5199\u5165\uff09</p> <p>\u53ef\u4ee5\u628a script.js \u4ece es6 \u8f6c\u6362\u6210 es5 \u7684\u683c\u5f0f</p> <pre><code>npm install --save-dev @babel/core @babel/cli\n\nnpx babel script.js --watch --out-file script-compiled.js\n</code></pre> <p>\u5177\u4f53\u53c2\u8003\uff1ahttps://babeljs.io/docs/en/babel-cli</p>"},{"location":"new-third-part-lib/babel-cli/#_4","title":"\u5176\u4ed6","text":"<p>\u9700\u8981\u548c babel/core \u4e00\u8d77\u4f7f\u7528</p>"},{"location":"new-third-part-lib/babel-eslint/","title":"babel-eslint","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4736  \u9605\u8bfb10\u5206\u949f</p>"},{"location":"new-third-part-lib/babel-eslint/#babel-eslint","title":"babel-eslint","text":""},{"location":"new-third-part-lib/babel-eslint/#version","title":"version","text":"<p>10.1.0\u00a0\u2022 </p>"},{"location":"new-third-part-lib/babel-eslint/#downloads","title":"downloads","text":"<p>4,339,278 </p>"},{"location":"new-third-part-lib/babel-eslint/#repository","title":"repository","text":"<p>github.com/babel/babel-eslint </p>"},{"location":"new-third-part-lib/babel-eslint/#homepage","title":"homepage","text":"<p>github.com/babel/babel-eslint </p>"},{"location":"new-third-part-lib/babel-eslint/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/babel-eslint/#babel-eslint-npmhttpsimgshieldsionpmvbabel-","title":"babel-eslint [![npm](https://img.shields.io/npm/v/babel-","text":"<p>eslint.svg)](https://www.npmjs.com/package/babel-eslint)  </p> <p>babel-eslint allows you to lint ALL valid Babel code with the fantastic ESLint.</p>"},{"location":"new-third-part-lib/babel-eslint/#why-use-babel-eslint","title":"Why Use babel-eslint","text":"<p>You only need to use babel-eslint if you are using types (Flow) or experimental features not supported in ESLint itself yet. Otherwise try the default parser (you don't have to use it just because you are using Babel).</p> <p>If there is an issue, first check if it can be reproduced with the regular parser or with the latest versions of <code>eslint</code> and <code>babel-eslint</code>!</p> <p>For questions and support please visit the <code>#discussion</code> babel slack channel (sign up here) or eslint gitter!</p> <p>Note that the <code>ecmaFeatures</code> config property may still be required for ESLint to work properly with features not in ECMAScript 5 by default. Examples are <code>globalReturn</code> and <code>modules</code>).</p>"},{"location":"new-third-part-lib/babel-eslint/#known-issues","title":"Known Issues","text":"<p>Flow:</p> <p>Check out eslint-plugin-flowtype: An <code>eslint</code> plugin that makes flow type annotations global variables and marks declarations as used. Solves the problem of false positives with <code>no-undef</code> and <code>no-unused-vars</code>.</p> <ul> <li><code>no-undef</code> for global flow types: <code>ReactElement</code>, <code>ReactClass</code> #130<ul> <li>Workaround: define types as globals in <code>.eslintrc</code> or define types and import them <code>import type ReactElement from './types'</code></li> </ul> </li> <li><code>no-unused-vars/no-undef</code> with Flow declarations (<code>declare module A {}</code>) #132</li> </ul> <p>Modules/strict mode</p> <ul> <li><code>no-unused-vars: [2, {vars: local}]</code> #136</li> </ul> <p>Please check out eslint-plugin-react for React/JSX issues</p> <ul> <li><code>no-unused-vars</code> with jsx</li> </ul> <p>Please check out eslint-plugin-babel for other issues</p>"},{"location":"new-third-part-lib/babel-eslint/#how-does-it-work","title":"How does it work?","text":"<p>ESLint allows custom parsers. This is great but some of the syntax nodes that Babel supports aren't supported by ESLint. When using this plugin, ESLint is monkeypatched and your code is transformed into code that ESLint can understand. All location info such as line numbers, columns is also retained so you can track down errors with ease.</p> <p>Basically <code>babel-eslint</code> exports an <code>index.js</code> that a linter can use. It just needs to export a <code>parse</code> method that takes in a string of code and outputs an AST.</p>"},{"location":"new-third-part-lib/babel-eslint/#usage","title":"Usage","text":""},{"location":"new-third-part-lib/babel-eslint/#supported-eslint-versions","title":"Supported ESLint versions","text":"ESLint babel-eslint 4.x &gt;= 6.x 3.x &gt;= 6.x 2.x &gt;= 6.x 1.x &gt;= 5.x"},{"location":"new-third-part-lib/babel-eslint/#install","title":"Install","text":"<p>Ensure that you have substituted the correct version lock for <code>eslint</code> and <code>babel-eslint</code> into this command:</p> <pre><code>$\u00a0npm\u00a0install\u00a0eslint@4.x\u00a0babel-eslint@8\u00a0--save-dev\n\n#\u00a0or\n\n$\u00a0yarn\u00a0add\u00a0eslint@4.x\u00a0babel-eslint@8\u00a0-D\n</code></pre>"},{"location":"new-third-part-lib/babel-eslint/#setup","title":"Setup","text":"<p>.eslintrc</p> <pre><code>{\n\n\u00a0\u00a0\"parser\":\u00a0\"babel-eslint\",\n\n\u00a0\u00a0\"rules\":\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\"strict\":\u00a00\n\n\u00a0\u00a0}\n\n}\n</code></pre> <p>Check out the ESLint docs for all possible rules.</p>"},{"location":"new-third-part-lib/babel-eslint/#configuration","title":"Configuration","text":"<ul> <li><code>sourceType</code> can be set to <code>'module'</code>(default) or <code>'script'</code> if your code isn't using ECMAScript modules.</li> <li><code>allowImportExportEverywhere</code> (default <code>false</code>) can be set to <code>true</code> to allow import and export declarations to appear anywhere a statement is allowed if your build environment supports that. Otherwise import and export declarations can only appear at a program's top level.</li> <li><code>codeFrame</code> (default <code>true</code>) can be set to <code>false</code> to disable the code frame in the reporter. This is useful since some eslint formatters don't play well with it.</li> </ul> <p>.eslintrc</p> <pre><code>{\n\n\u00a0\u00a0\"parser\":\u00a0\"babel-eslint\",\n\n\u00a0\u00a0\"parserOptions\":\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\"sourceType\":\u00a0\"module\",\n\n\u00a0\u00a0\u00a0\u00a0\"allowImportExportEverywhere\":\u00a0false,\n\n\u00a0\u00a0\u00a0\u00a0\"codeFrame\":\u00a0true\n\n\u00a0\u00a0}\n\n}\n</code></pre>"},{"location":"new-third-part-lib/babel-eslint/#run","title":"Run","text":"<pre><code>$\u00a0eslint\u00a0your-files-here\n</code></pre>"},{"location":"new-third-part-lib/babel-jest/","title":"babel-jest","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1033  \u9605\u8bfb3\u5206\u949f</p>"},{"location":"new-third-part-lib/babel-jest/#babel-jest","title":"babel-jest","text":""},{"location":"new-third-part-lib/babel-jest/#version","title":"version","text":"<p>29.7.0\u00a0\u2022 </p>"},{"location":"new-third-part-lib/babel-jest/#downloads","title":"downloads","text":"<p>25,641,196 </p>"},{"location":"new-third-part-lib/babel-jest/#repository","title":"repository","text":"<p>github.com/jestjs/jest </p>"},{"location":"new-third-part-lib/babel-jest/#homepage","title":"homepage","text":"<p>github.com/jestjs/jest#readme </p>"},{"location":"new-third-part-lib/babel-jest/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/babel-jest/#babel-jest_1","title":"babel-jest","text":"<p>Babel jest plugin</p>"},{"location":"new-third-part-lib/babel-jest/#usage","title":"Usage","text":"<p>If you are already using <code>jest-cli</code>, add <code>babel-jest</code> and it will automatically compile JavaScript code using Babel.</p> <pre><code>yarn add --dev babel-jest @babel/core\n</code></pre> <p>If you would like to write your own preprocessor, uninstall and delete babel- jest and set the config.transform option to your preprocessor.</p>"},{"location":"new-third-part-lib/babel-jest/#setup","title":"Setup","text":"<p>Note: this step is only required if you are using<code>babel-jest</code> with additional code preprocessors.</p> <p>To explicitly define <code>babel-jest</code> as a transformer for your JavaScript code, map .js files to the <code>babel-jest</code> module. Typescript files are also supported.</p> <pre><code>\"transform\": {\n  \"\\\\.[jt]sx?$\": \"babel-jest\"\n},\n</code></pre>"},{"location":"new-third-part-lib/babel-loader/","title":"babel-loader","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 15092  \u9605\u8bfb31\u5206\u949f</p>"},{"location":"new-third-part-lib/babel-loader/#babel-loader","title":"babel-loader","text":""},{"location":"new-third-part-lib/babel-loader/#version","title":"version","text":"<p>9.1.3\u00a0\u2022 </p>"},{"location":"new-third-part-lib/babel-loader/#downloads","title":"downloads","text":"<p>17,171,239 </p>"},{"location":"new-third-part-lib/babel-loader/#repository","title":"repository","text":"<p>github.com/babel/babel-loader </p>"},{"location":"new-third-part-lib/babel-loader/#homepage","title":"homepage","text":"<p>github.com/babel/babel-loader </p>"},{"location":"new-third-part-lib/babel-loader/#default-readme","title":"default readme","text":"<p>This README is for babel-loader v8/v9 with Babel v7 If you are using legacy Babel v6, see the 7.x branch docs</p> <p> </p> <p> </p>"},{"location":"new-third-part-lib/babel-loader/#babel-loader_1","title":"Babel Loader","text":"<p>This package allows transpiling JavaScript files using Babel and webpack.</p> <p>Note : Issues with the output should be reported on the Babel Issues tracker.</p>"},{"location":"new-third-part-lib/babel-loader/#install","title":"Install","text":"babel-loader supported webpack versions supported Babel versions supported Node.js versions 8.x 4.x or 5.x 7.x &gt;= 8.9 9.x 5.x ^7.12.0 &gt;= 14.15.0 <pre><code>npm install -D babel-loader @babel/core @babel/preset-env webpack\n</code></pre>"},{"location":"new-third-part-lib/babel-loader/#usage","title":"Usage","text":"<p>webpack documentation: Loaders</p> <p>Within your webpack configuration object, you'll need to add the babel-loader to the list of modules, like so:</p> <pre><code>module: {\n  rules: [\n    {\n      test: /\\.(?:js|mjs|cjs)$/,\n      exclude: /node_modules/,\n      use: {\n        loader: 'babel-loader',\n        options: {\n          presets: [\n            ['@babel/preset-env', { targets: \"defaults\" }]\n          ]\n        }\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"new-third-part-lib/babel-loader/#options","title":"Options","text":"<p>See the <code>babel</code> options.</p> <p>You can pass options to the loader by using the <code>options</code> property:</p> <pre><code>module: {\n  rules: [\n    {\n      test: /\\.(?:js|mjs|cjs)$/,\n      exclude: /node_modules/,\n      use: {\n        loader: 'babel-loader',\n        options: {\n          presets: [\n            ['@babel/preset-env', { targets: \"defaults\" }]\n          ],\n          plugins: ['@babel/plugin-proposal-class-properties']\n        }\n      }\n    }\n  ]\n}\n</code></pre> <p>This loader also supports the following loader-specific option:</p> <ul> <li> <p><code>cacheDirectory</code>: Default <code>false</code>. When set, the given directory will be used to cache the results of the loader. Future webpack builds will attempt to read from the cache to avoid needing to run the potentially expensive Babel recompilation process on each run. If the value is set to <code>true</code> in options (<code>{cacheDirectory: true}</code>), the loader will use the default cache directory in <code>node_modules/.cache/babel-loader</code> or fallback to the default OS temporary file directory if no <code>node_modules</code> folder could be found in any root directory.</p> </li> <li> <p><code>cacheIdentifier</code>: Default is a string composed by the <code>@babel/core</code>'s version, the <code>babel-loader</code>'s version, the contents of <code>.babelrc</code> file if it exists, and the value of the environment variable <code>BABEL_ENV</code> with a fallback to the <code>NODE_ENV</code> environment variable. This can be set to a custom value to force cache busting if the identifier changes.</p> </li> <li> <p><code>cacheCompression</code>: Default <code>true</code>. When set, each Babel transform output will be compressed with Gzip. If you want to opt-out of cache compression, set it to <code>false</code> -- your project may benefit from this if it transpiles thousands of files.</p> </li> <li> <p><code>customize</code>: Default <code>null</code>. The path of a module that exports a <code>custom</code> callback like the one that you'd pass to <code>.custom()</code>. Since you already have to make a new file to use this, it is recommended that you instead use <code>.custom</code> to create a wrapper loader. Only use this if you must continue using <code>babel-loader</code> directly, but still want to customize.</p> </li> <li> <p><code>metadataSubscribers</code>: Default <code>[]</code>. Takes an array of context function names. E.g. if you passed ['myMetadataPlugin'], you'd assign a subscriber function to <code>context.myMetadataPlugin</code> within your webpack plugin's hooks &amp; that function will be called with <code>metadata</code>.</p> </li> </ul>"},{"location":"new-third-part-lib/babel-loader/#troubleshooting","title":"Troubleshooting","text":""},{"location":"new-third-part-lib/babel-loader/#babel-loader-is-slow","title":"babel-loader is slow!","text":"<p>Make sure you are transforming as few files as possible. Because you are probably matching <code>/\\.m?js$/</code>, you might be transforming the <code>node_modules</code> folder or other unwanted source.</p> <p>To exclude <code>node_modules</code>, see the <code>exclude</code> option in the <code>loaders</code> config as documented above.</p> <p>You can also speed up babel-loader by as much as 2x by using the <code>cacheDirectory</code> option. This will cache transformations to the filesystem.</p>"},{"location":"new-third-part-lib/babel-loader/#some-files-in-my-node_modules-are-not-transpiled-for-ie-11","title":"Some files in my node_modules are not transpiled for IE 11","text":"<p>Although we typically recommend not compiling <code>node_modules</code>, you may need to when using libraries that do not support IE 11 or any legacy targets.</p> <p>For this, you can either use a combination of <code>test</code> and <code>not</code>, or pass a function to your <code>exclude</code> option. You can also use negative lookahead regex as suggested here.</p> <pre><code>{\n    test: /\\.(?:js|mjs|cjs)$/,\n    exclude: {\n      and: [/node_modules/], // Exclude libraries in node_modules ...\n      not: [\n        // Except for a few of them that needs to be transpiled because they use modern syntax\n        /unfetch/,\n        /d3-array|d3-scale/,\n        /@hapi[\\\\/]joi-date/,\n      ]\n    },\n    use: {\n      loader: 'babel-loader',\n      options: {\n        presets: [\n          ['@babel/preset-env', { targets: \"ie 11\" }]\n        ]\n      }\n    }\n  }\n</code></pre>"},{"location":"new-third-part-lib/babel-loader/#babel-is-injecting-helpers-into-each-file-and-bloating-my-code","title":"Babel is injecting helpers into each file and bloating my code!","text":"<p>Babel uses very small helpers for common functions such as <code>_extend</code>. By default, this will be added to every file that requires it.</p> <p>You can instead require the Babel runtime as a separate module to avoid the duplication.</p> <p>The following configuration disables automatic per-file runtime injection in Babel, requiring <code>@babel/plugin-transform-runtime</code> instead and making all helper references use it.</p> <p>See the docs for more information.</p> <p>NOTE : You must run <code>npm install -D @babel/plugin-transform-runtime</code> to include this in your project and <code>@babel/runtime</code> itself as a dependency with <code>npm install @babel/runtime</code>.</p> <pre><code>rules: [\n  // the 'transform-runtime' plugin tells Babel to\n  // require the runtime instead of inlining it.\n  {\n    test: /\\.(?:js|mjs|cjs)$/,\n    exclude: /node_modules/,\n    use: {\n      loader: 'babel-loader',\n      options: {\n        presets: [\n          ['@babel/preset-env', { targets: \"defaults\" }]\n        ],\n        plugins: ['@babel/plugin-transform-runtime']\n      }\n    }\n  }\n]\n</code></pre>"},{"location":"new-third-part-lib/babel-loader/#note-transform-runtime-custom-polyfills-eg-promise-library","title":"NOTE : transform-runtime &amp; custom polyfills (e.g. Promise library)","text":"<p>Since @babel/plugin-transform- runtime includes a polyfill that includes a custom regenerator- runtime and core-js, the following usual shimming method using <code>webpack.ProvidePlugin</code> will not work:</p> <pre><code>// ...\n        new webpack.ProvidePlugin({\n            'Promise': 'bluebird'\n        }),\n// ...\n</code></pre> <p>The following approach will not work either:</p> <pre><code>require('@babel/runtime/core-js/promise').default = require('bluebird');\n\nvar promise = new Promise;\n</code></pre> <p>which outputs to (using <code>runtime</code>):</p> <pre><code>'use strict';\n\nvar _Promise = require('@babel/runtime/core-js/promise')['default'];\n\nrequire('@babel/runtime/core-js/promise')['default'] = require('bluebird');\n\nvar promise = new _Promise();\n</code></pre> <p>The previous <code>Promise</code> library is referenced and used before it is overridden.</p> <p>One approach is to have a \"bootstrap\" step in your application that would first override the default globals before your application:</p> <pre><code>// bootstrap.js\n\nrequire('@babel/runtime/core-js/promise').default = require('bluebird');\n\n// ...\n\nrequire('./app');\n</code></pre>"},{"location":"new-third-part-lib/babel-loader/#the-nodejs-api-for-babel-has-been-moved-to-babel-core","title":"The Node.js API for <code>babel</code> has been moved to <code>babel-core</code>.","text":"<p>If you receive this message, it means that you have the npm package <code>babel</code> installed and are using the short notation of the loader in the webpack config (which is not valid anymore as of webpack 2.x):</p> <pre><code>  {\n    test: /\\.(?:js|mjs|cjs)$/,\n    loader: 'babel',\n  }\n</code></pre> <p>webpack then tries to load the <code>babel</code> package instead of the <code>babel-loader</code>.</p> <p>To fix this, you should uninstall the npm package <code>babel</code>, as it is deprecated in Babel v6. (Instead, install <code>@babel/cli</code> or <code>@babel/core</code>.) In the case one of your dependencies is installing <code>babel</code> and you cannot uninstall it yourself, use the complete name of the loader in the webpack config:</p> <pre><code>  {\n    test: /\\.(?:js|mjs|cjs)$/,\n    loader: 'babel-loader',\n  }\n</code></pre>"},{"location":"new-third-part-lib/babel-loader/#exclude-libraries-that-should-not-be-transpiled","title":"Exclude libraries that should not be transpiled","text":"<p><code>core-js</code> and <code>webpack/buildin</code> will cause errors if they are transpiled by Babel.</p> <p>You will need to exclude them form <code>babel-loader</code>.</p> <pre><code>{\n  \"loader\": \"babel-loader\",\n  \"options\": {\n    \"exclude\": [\n      // \\\\ for Windows, / for macOS and Linux\n      /node_modules[\\\\/]core-js/,\n      /node_modules[\\\\/]webpack[\\\\/]buildin/,\n    ],\n    \"presets\": [\n      \"@babel/preset-env\"\n    ]\n  }\n}\n</code></pre>"},{"location":"new-third-part-lib/babel-loader/#top-level-function-iife-is-still-arrow-on-webpack-5","title":"Top level function (IIFE) is still arrow (on Webpack 5)","text":"<p>That function is injected by Webpack itself after running <code>babel-loader</code>. By default Webpack asumes that your target environment supports some ES2015 features, but you can overwrite this behavior using the <code>output.environment</code> Webpack option (documentation).</p> <p>To avoid the top-level arrow function, you can use <code>output.environment.arrowFunction</code>:</p> <pre><code>// webpack.config.js\nmodule.exports = {\n  // ...\n  output: {\n    // ...\n    environment: {\n      // ...\n      arrowFunction: false, // &lt;-- this line does the trick\n    },\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/babel-loader/#customize-config-based-on-webpack-target","title":"Customize config based on webpack target","text":"<p>Webpack supports bundling multiple targets. For cases where you may want different Babel configurations for each target (like <code>web</code> and <code>node</code>), this loader provides a <code>target</code> property via Babel's caller API.</p> <p>For example, to change the environment targets passed to <code>@babel/preset-env</code> based on the webpack target:</p> <pre><code>// babel.config.js\n\nmodule.exports = api =&gt; {\n  return {\n    plugins: [\n      \"@babel/plugin-proposal-nullish-coalescing-operator\",\n      \"@babel/plugin-proposal-optional-chaining\"\n    ],\n    presets: [\n      [\n        \"@babel/preset-env\",\n        {\n          useBuiltIns: \"entry\",\n          // caller.target will be the same as the target option from webpack\n          targets: api.caller(caller =&gt; caller &amp;&amp; caller.target === \"node\")\n            ? { node: \"current\" }\n            : { chrome: \"58\", ie: \"11\" }\n        }\n      ]\n    ]\n  }\n}\n</code></pre>"},{"location":"new-third-part-lib/babel-loader/#customized-loader","title":"Customized Loader","text":"<p><code>babel-loader</code> exposes a loader-builder utility that allows users to add custom handling of Babel's configuration for each file that it processes.</p> <p><code>.custom</code> accepts a callback that will be called with the loader's instance of <code>babel</code> so that tooling can ensure that it using exactly the same <code>@babel/core</code> instance as the loader itself.</p> <p>In cases where you want to customize without actually having a file to call <code>.custom</code>, you may also pass the <code>customize</code> option with a string pointing at a file that exports your <code>custom</code> callback function.</p>"},{"location":"new-third-part-lib/babel-loader/#example","title":"Example","text":"<pre><code>// Export from \"./my-custom-loader.js\" or whatever you want.\nmodule.exports = require(\"babel-loader\").custom(babel =&gt; {\n  // Extract the custom options in the custom plugin\n  function myPlugin(api, { opt1, opt2 }) {\n    return {\n      visitor: {},\n    };\n  }\n\n  return {\n    // Passed the loader options.\n    customOptions({ opt1, opt2, ...loader }) {\n      return {\n        // Pull out any custom options that the loader might have.\n        custom: { opt1, opt2 },\n\n        // Pass the options back with the two custom options removed.\n        loader,\n      };\n    },\n\n    // Passed Babel's 'PartialConfig' object.\n    config(cfg, { customOptions }) {\n      if (cfg.hasFilesystemConfig()) {\n        // Use the normal config\n        return cfg.options;\n      }\n\n      return {\n        ...cfg.options,\n        plugins: [\n          ...(cfg.options.plugins || []),\n\n          // Include a custom plugin in the options and passing it the customOptions object.\n          [myPlugin, customOptions],\n        ],\n      };\n    },\n\n    result(result) {\n      return {\n        ...result,\n        code: result.code + \"\\n// Generated by some custom loader\",\n      };\n    },\n  };\n});\n\n\n// And in your Webpack config\nmodule.exports = {\n  // ..\n  module: {\n    rules: [{\n      // ...\n      loader: path.join(__dirname, 'my-custom-loader.js'),\n      // ...\n    }]\n  }\n};\n</code></pre>"},{"location":"new-third-part-lib/babel-loader/#customoptionsoptions-object-custom-object-loader-object","title":"<code>customOptions(options: Object): { custom: Object, loader: Object }</code>","text":"<p>Given the loader's options, split custom options out of <code>babel-loader</code>'s options.</p>"},{"location":"new-third-part-lib/babel-loader/#configcfg-partialconfig-options-source-customoptions-object","title":"<code>config(cfg: PartialConfig, options: { source, customOptions }): Object</code>","text":"<p>Given Babel's <code>PartialConfig</code> object, return the <code>options</code> object that should be passed to <code>babel.transform</code>.</p>"},{"location":"new-third-part-lib/babel-loader/#resultresult-result-result","title":"<code>result(result: Result): Result</code>","text":"<p>Given Babel's result object, allow loaders to make additional tweaks to it.</p>"},{"location":"new-third-part-lib/babel-loader/#license","title":"License","text":"<p>MIT</p>"},{"location":"new-third-part-lib/babel-plugin-named-asset-import/","title":"babel-plugin-named-asset-import","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 402  \u9605\u8bfb1\u5206\u949f</p>"},{"location":"new-third-part-lib/babel-plugin-named-asset-import/#babel-plugin-named-asset-import","title":"babel-plugin-named-asset-import","text":""},{"location":"new-third-part-lib/babel-plugin-named-asset-import/#version","title":"version","text":"<p>0.3.8\u00a0\u2022 </p>"},{"location":"new-third-part-lib/babel-plugin-named-asset-import/#downloads","title":"downloads","text":"<p>3,312,502 </p>"},{"location":"new-third-part-lib/babel-plugin-named-asset-import/#repository","title":"repository","text":"<p>github.com/facebook/create-react-app </p>"},{"location":"new-third-part-lib/babel-plugin-named-asset-import/#homepage","title":"homepage","text":"<p>github.com/facebook/create-react-app#readme </p>"},{"location":"new-third-part-lib/babel-plugin-named-asset-import/#default-readme","title":"default readme","text":"<p>This package does not have a README. Add a README to your package so that users know how to get started.</p>"},{"location":"new-third-part-lib/babel-preset-env/","title":"@babel/preset-env","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 368  \u9605\u8bfb1\u5206\u949f</p> <p>\u5f00\u53d1\u4e2d\u4f7f\u7528\u7684\u5e93</p>"},{"location":"new-third-part-lib/babel-preset-env/#_1","title":"\u7528\u9014","text":"<p>babel \u9884\u8bbe\uff1a\u8bbe\u7f6e\u8f6c\u6362\u540e\u7684 JS \u4ee3\u7801\u9700\u8981\u6ee1\u8db3\u4ec0\u4e48\u7248\u672c\u7b49</p>"},{"location":"new-third-part-lib/babel-preset-env/#_2","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://babeljs.io/docs/en/babel-preset-env</p>"},{"location":"new-third-part-lib/babel-preset-env/#_3","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>{\n  \"presets\": [\n    [\"@babel/preset-env\", { \"targets\": \"defaults\" }]\n  ]\n}\n\n{\n  \"targets\": {\n    \"chrome\": \"58\",\n    \"ie\": \"11\"\n  }\n}\n</code></pre>"},{"location":"new-third-part-lib/babel-preset-env/#_4","title":"\u5176\u4ed6","text":""},{"location":"new-third-part-lib/babel-preset-react-app/","title":"babel-preset-react-app","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2414  \u9605\u8bfb5\u5206\u949f</p>"},{"location":"new-third-part-lib/babel-preset-react-app/#babel-preset-react-app","title":"babel-preset-react-app","text":""},{"location":"new-third-part-lib/babel-preset-react-app/#version","title":"version","text":"<p>10.0.1\u00a0\u2022 </p>"},{"location":"new-third-part-lib/babel-preset-react-app/#downloads","title":"downloads","text":"<p>3,821,950 </p>"},{"location":"new-third-part-lib/babel-preset-react-app/#repository","title":"repository","text":"<p>github.com/facebook/create-react-app </p>"},{"location":"new-third-part-lib/babel-preset-react-app/#homepage","title":"homepage","text":"<p>github.com/facebook/create-react-app#readme </p>"},{"location":"new-third-part-lib/babel-preset-react-app/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/babel-preset-react-app/#babel-preset-react-app_1","title":"babel-preset-react-app","text":"<p>This package includes the Babel preset used by Create React App. Please refer to its documentation:</p> <ul> <li>Getting Started \u2013 How to create a new app.</li> <li>User Guide \u2013 How to develop apps bootstrapped with Create React App.</li> </ul>"},{"location":"new-third-part-lib/babel-preset-react-app/#usage-in-create-react-app-projects","title":"Usage in Create React App Projects","text":"<p>The easiest way to use this configuration is with Create React App, which includes it by default. You don\u2019t need to install it separately in Create React App projects.</p>"},{"location":"new-third-part-lib/babel-preset-react-app/#usage-outside-of-create-react-app","title":"Usage Outside of Create React App","text":"<p>If you want to use this Babel preset in a project not built with Create React App, you can install it with the following steps.</p> <p>First, install Babel.</p> <p>Then install babel-preset-react-app.</p> <pre><code>npm install babel-preset-react-app --save-dev\n</code></pre> <p>Then create a file named <code>.babelrc</code> with following contents in the root folder of your project:</p> <pre><code>{\n  \"presets\": [\"react-app\"]\n}\n</code></pre> <p>This preset uses the <code>useBuiltIns</code> option with transform-object-rest- spread and transform-react-jsx, which assumes that <code>Object.assign</code> is available or polyfilled.</p>"},{"location":"new-third-part-lib/babel-preset-react-app/#usage-with-flow","title":"Usage with Flow","text":"<p>Make sure you have a <code>.flowconfig</code> file at the root directory. You can also use the <code>flow</code> option on <code>.babelrc</code>:</p> <pre><code>{\n  \"presets\": [[\"react-app\", { \"flow\": true, \"typescript\": false }]]\n}\n</code></pre>"},{"location":"new-third-part-lib/babel-preset-react-app/#usage-with-typescript","title":"Usage with TypeScript","text":"<p>Make sure you have a <code>tsconfig.json</code> file at the root directory. You can also use the <code>typescript</code> option on <code>.babelrc</code>:</p> <pre><code>{\n  \"presets\": [[\"react-app\", { \"flow\": false, \"typescript\": true }]]\n}\n</code></pre>"},{"location":"new-third-part-lib/babel-preset-react-app/#absolute-runtime-paths","title":"Absolute Runtime Paths","text":"<p>Absolute paths are enabled by default for imports. To use relative paths instead, set the <code>absoluteRuntime</code> option in <code>.babelrc</code> to <code>false</code>:</p> <pre><code>{\n  \"presets\": [[\"react-app\", { \"absoluteRuntime\": false }]]\n}\n</code></pre>"},{"location":"new-third-part-lib/babel-preset-react/","title":"040 babel/preset-react","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1296  \u9605\u8bfb3\u5206\u949f</p> <p>\u5f00\u53d1\u4e2d\u4f7f\u7528\u7684\u5e93</p>"},{"location":"new-third-part-lib/babel-preset-react/#_1","title":"\u7528\u9014","text":"<p>\u5904\u7406 react \u7684\u9884\u8bbe\uff0c\u5305\u62ec\u4e0b\u9762\u7684\u63d2\u4ef6\uff08\u7f16\u8bd1jsx\uff09</p> <p>This preset always includes the following plugins:</p> <p>@babel/plugin-syntax-jsx @babel/plugin-transform-react-jsx @babel/plugin-transform-react-display-name And with the development option:</p> <p>Classic runtime adds:</p> <p>@babel/plugin-transform-react-jsx-self @babel/plugin-transform-react-jsx-source Automatic runtime (since v7.9.0) adds the functionality for these plugins automatically when the development option is enabled. If you have automatic runtime enabled, adding @babel/plugin-transform-react-jsx-self or @babel/plugin-transform-react-jsx-source will error.</p>"},{"location":"new-third-part-lib/babel-preset-react/#_2","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://babeljs.io/docs/en/babel-preset-react</p>"},{"location":"new-third-part-lib/babel-preset-react/#_3","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>{\n  \"presets\": [\"@babel/preset-react\"]\n}\n\n{\n  \"presets\": [\n    [\n      \"@babel/preset-react\",\n      {\n        \"pragma\": \"dom\", // default pragma is React.createElement (only in classic runtime)\n        \"pragmaFrag\": \"DomFrag\", // default is React.Fragment (only in classic runtime)\n        \"throwIfNamespace\": false, // defaults to true\n        \"runtime\": \"classic\" // defaults to classic\n        // \"importSource\": \"custom-jsx-library\" // defaults to react (only in automatic runtime)\n      }\n    ]\n  ]\n}\n</code></pre>"},{"location":"new-third-part-lib/babel-preset-react/#_4","title":"\u5176\u4ed6","text":""},{"location":"new-third-part-lib/case-sensitive-paths-webpack-plugin/","title":"case-sensitive-paths-webpack-plugin","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2201  \u9605\u8bfb5\u5206\u949f</p>"},{"location":"new-third-part-lib/case-sensitive-paths-webpack-plugin/#case-sensitive-paths-webpack-plugin","title":"case-sensitive-paths-webpack-plugin","text":""},{"location":"new-third-part-lib/case-sensitive-paths-webpack-plugin/#version","title":"version","text":"<p>2.4.0\u00a0\u2022 </p>"},{"location":"new-third-part-lib/case-sensitive-paths-webpack-plugin/#downloads","title":"downloads","text":"<p>7,375,253 </p>"},{"location":"new-third-part-lib/case-sensitive-paths-webpack-plugin/#repository","title":"repository","text":"<p>github.com/Urthen/case-sensitive-paths-webpack-plugin </p>"},{"location":"new-third-part-lib/case-sensitive-paths-webpack-plugin/#homepage","title":"homepage","text":"<p>github.com/Urthen/case-sensitive-paths-webpack-plugin#readme </p>"},{"location":"new-third-part-lib/case-sensitive-paths-webpack-plugin/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/case-sensitive-paths-webpack-plugin/#case-sensitive-paths-webpack-plugin_1","title":"Case Sensitive Paths - Webpack Plugin","text":"<p>This Webpack plugin enforces the entire path of all required modules match the exact case of the actual path on disk. Using this plugin helps alleviate cases where developers working on OSX, which does not follow strict path case sensitivity, will cause conflicts with other developers or build boxes running other operating systems which require correctly cased paths.</p> <p>Previous iterations on this same idea provide the basis for this plugin, but unfortunately do not properly check case on the entire path. This plugin fixes that. Example output:</p> <p>ERROR in ./src/containers/SearchProducts.js Module not found: Error: [CaseSensitivePathsPlugin] <code>/Users/example/yourproject/src/components/searchProducts/searchproducts.js</code> does not match the corresponding path on disk <code>/Users/example/yourproject/src/components/searchproducts</code> @ ./src/containers/SearchProducts.js 9:22-84</p>"},{"location":"new-third-part-lib/case-sensitive-paths-webpack-plugin/#install","title":"Install","text":"<pre><code>npm install --save-dev case-sensitive-paths-webpack-plugin\n</code></pre>"},{"location":"new-third-part-lib/case-sensitive-paths-webpack-plugin/#usage","title":"Usage","text":"<pre><code>var CaseSensitivePathsPlugin = require('case-sensitive-paths-webpack-plugin');\n\nvar webpackConfig = {\n    plugins: [\n        new CaseSensitivePathsPlugin()\n        // other plugins ...\n    ]\n    // other webpack config ...\n}\n</code></pre> <p>Want more information? Pass <code>{debug: true}</code> to the plugin like so:</p> <pre><code>new CaseSensitivePathsPlugin({debug: true})\n</code></pre> <p>It will output every directory it reads, as well as a sum total of filesystem operations. This is mostly useful for internal debugging of the plugin, but if you find it useful, more power to you.</p>"},{"location":"new-third-part-lib/case-sensitive-paths-webpack-plugin/#demo","title":"Demo","text":"<p>Check the <code>/demo</code> directory for a working example of the plugin in action, with tests demonstrating the effect of the plugin. See <code>/demo/README.md</code> for more.</p>"},{"location":"new-third-part-lib/chartjs/","title":"Chart.js","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6679  \u9605\u8bfb14\u5206\u949f</p> <p>\u7b80\u5355\u6613\u7528\u7684 JS \u7ed8\u56fe\u5e93\uff0c\u529f\u80fd\u5f3a\u5ea6\uff0c\u914d\u7f6e\u8f83\u591a\uff0c\u8fd9\u91cc\u4ec5\u7b80\u5355\u4ecb\u7ecd\u3002</p> <p>Simple yet flexible JavaScript charting for designers &amp; developers</p> <p>\u661f\u6807\uff1a56K</p> <p>\u5b98\u7f51\u5730\u5740\uff1ahttps://www.chartjs.org/docs/latest/</p> <p>\uff08React \u4e2d\u4f7f\u7528\u53e6\u4e00\u4e2a\u5e93\uff1ahttps://react-chartjs-2.js.org/\uff0c\u4e24\u4e2a\u5e93\u624d\u80fd\u5de5\u4f5c\uff09</p>"},{"location":"new-third-part-lib/chartjs/#_1","title":"\u5168\u90e8\u6587\u6863","text":"<p>All the links point to the new version 3 of the lib.</p> <ul> <li>Introduction</li> <li>Getting Started</li> <li>General</li> <li>Configuration</li> <li>Charts</li> <li>Axes</li> <li>Developers</li> <li>Popular Extensions</li> <li>Samples</li> </ul> <p>\u7ed8\u56fe\u539f\u7406\uff1a\u5728 DOM \u8282\u70b9\u4e2d\u52a0\u5165\u4e00\u4e2a canvas\uff0c\u7136\u540e JS \u7ed8\u5236\u56fe\u8868</p> <pre><code>const ctx = document.getElementById('myChart').getContext('2d');\nconst myChart = new Chart(ctx, {\n  type: 'bar',\n  data: {\n    labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\n    datasets: [{\n      label: '# of Votes',\n      data: [12, 19, 3, 5, 2, 3],\n      backgroundColor: [\n        'rgba(255, 99, 132, 0.2)',\n        'rgba(54, 162, 235, 0.2)',\n        'rgba(255, 206, 86, 0.2)',\n        'rgba(75, 192, 192, 0.2)',\n        'rgba(153, 102, 255, 0.2)',\n        'rgba(255, 159, 64, 0.2)'\n      ],\n      borderColor: [\n        'rgba(255, 99, 132, 1)',\n        'rgba(54, 162, 235, 1)',\n        'rgba(255, 206, 86, 1)',\n        'rgba(75, 192, 192, 1)',\n        'rgba(153, 102, 255, 1)',\n        'rgba(255, 159, 64, 1)'\n      ],\n      borderWidth: 1\n    }]\n  },\n  options: {\n    scales: {\n      y: {\n        beginAtZero: true\n      }\n    }\n  }\n});\n</code></pre> <p>\u57fa\u672c\u56fe\u8868\u5b9e\u73b0\u7b80\u5355\uff0c\u5173\u952e\u662f\u4e0d\u540c\u56fe\u8868\u7684\u914d\u7f6e\uff0c\u53c2\u6570\u7684\u9009\u62e9\u7b49\uff0c\u5f02\u5e38\u503c\u548c\u5927\u91cf\u6570\u636e\u4e0b\u7684\u6027\u80fd\u95ee\u9898</p>"},{"location":"new-third-part-lib/chartjs/#_2","title":"\u901a\u7528\u914d\u7f6e","text":"<p>\u989c\u8272\uff1a\u6587\u5b57\u989c\u8272\uff0c\u80cc\u666f\u989c\u8272\uff0c\u8fb9\u7ebf\u989c\u8272\uff08\u652f\u6301\u6e10\u53d8\u8272\uff09</p> <p>\u6570\u636e\u7ed3\u6784:</p> Name Type Description <code>label</code> <code>string</code> The label for the dataset which appears in the legend and tooltips. \u2014\u2014\u51fa\u73b0\u5728\u56fe\u4f8b\u548c\u5de5\u5177\u63d0\u793a\u4e2d\u7684\u6570\u636e\u96c6\u6807\u7b7e\u3002 <code>clip</code> <code>number</code> <code>object</code> <code>order</code> <code>number</code> The drawing order of dataset. Also affects order for stacking, tooltip and legend.\u2014\u2014\u6570\u636e\u96c6\u7684\u7ed8\u5236\u987a\u5e8f\u3002 \u8fd8\u4f1a\u5f71\u54cd\u5806\u53e0\u3001\u5de5\u5177\u63d0\u793a\u548c\u56fe\u4f8b\u7684\u987a\u5e8f\u3002 <code>stack</code> <code>string</code> The ID of the group to which this dataset belongs to (when stacked, each group will be a separate stack). Defaults to dataset <code>type</code>. \u2014\u2014\u6b64\u6570\u636e\u96c6\u6240\u5c5e\u7684\u7ec4\u7684 ID\uff08\u5806\u53e0\u65f6\uff0c\u6bcf\u4e2a\u7ec4\u5c06\u662f\u4e00\u4e2a\u5355\u72ec\u7684\u5806\u53e0\uff09\u3002 \u9ed8\u8ba4\u4e3a\u6570\u636e\u96c6\u7c7b\u578b\u3002 <code>parsing</code> <code>boolean</code> <code>object</code> <code>hidden</code> <code>boolean</code> Configure the visibility of the dataset. Using <code>hidden: true</code> will hide the dataset from being rendered in the Chart.\u2014\u2014\u914d\u7f6e\u6570\u636e\u96c6\u7684\u53ef\u89c1\u6027\u3002 \u4f7f\u7528 hidden: true \u5c06\u9690\u85cf\u6570\u636e\u96c6\u4ee5\u9632\u6b62\u5728\u56fe\u8868\u4e2d\u5448\u73b0\u3002 <p>\u793a\u4f8b</p> <pre><code>const data = [\n  {x: 'Jan', net: 100, cogs: 50, gm: 50},\n  {x: 'Feb', net: 120, cogs: 55, gm: 75},\n];\n\nconst config = {\n  type: 'bar',\n  data: {\n    labels: ['Jan', 'Feb'],\n    datasets: [{\n      label: 'Net sales',\n      data: data,\n      parsing: {\n        yAxisKey: 'net'\n      }\n    }, {\n      label: 'Cost of goods sold',\n      data: data,\n      parsing: {\n        yAxisKey: 'cogs'\n      }\n    }, {\n      label: 'Gross margin',\n      data: data,\n      parsing: {\n        yAxisKey: 'gm'\n      }\n    }]\n  },\n};\n</code></pre> <p>\u5b57\u4f53</p> Name Type Default Description <code>family</code> <code>string</code> <code>\"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\"</code> Default font family for all text, follows CSS font-family options. <code>size</code> <code>number</code> <code>12</code> Default font size (in px) for text. Does not apply to radialLinear scale point labels. <code>style</code> <code>string</code> <code>'normal'</code> Default font style. Does not apply to tooltip title or footer. Does not apply to chart title. Follows CSS font-style options (i.e. normal, italic, oblique, initial, inherit). <code>weight</code> <code>string</code> <code>undefined</code> Default font weight (boldness). (see MDN). <code>lineHeight</code> <code>number</code> <code>string</code> <code>1.2</code> <p>\u9009\u9879\uff1a\u4e0d\u540c\u7ea7\u522b\u7684\u5bf9\u8c61\uff0c\u90fd\u652f\u6301\u8bbe\u7f6e\u4e0d\u540c\u7684\u53ef\u9009\u9879\u3002https://www.chartjs.org/docs/latest/general/options.html</p> <p>\u6027\u80fd\uff1aChart.js \u56fe\u8868\u5728\u753b\u5e03\u5143\u7d20\u4e0a\u5448\u73b0\uff0c\u8fd9\u4f7f\u5f97\u5448\u73b0\u901f\u5ea6\u975e\u5e38\u5feb\u3002 \u5bf9\u4e8e\u5927\u578b\u6570\u636e\u96c6\u6216\u6027\u80fd\u654f\u611f\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u60a8\u53ef\u80fd\u5e0c\u671b\u8003\u8651\u4ee5\u4e0b\u63d0\u793a\uff08https://www.chartjs.org/docs/latest/general/performance.html\uff09\u3002\u53ef\u4ee5\u53bb\u6389\u52a8\u753b\u6548\u679c\u7b49\uff0c\u624b\u52a8\u8bbe\u7f6e\u6570\u636e\u8303\u56f4\uff0c\u53bb\u6389\u8d1d\u585e\u5c14\u66f2\u7ebf\u4f7f\u7528 Web Worker \u8fdb\u884c\u5e76\u884c\u6e32\u67d3\u7b49\uff0c\u4ee5\u8282\u7701\u6027\u80fd\u3002</p>"},{"location":"new-third-part-lib/classnames/","title":"classnames","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 11807  \u9605\u8bfb24\u5206\u949f</p>"},{"location":"new-third-part-lib/classnames/#classnames","title":"classnames","text":""},{"location":"new-third-part-lib/classnames/#version","title":"version","text":"<p>2.5.1\u00a0 </p>"},{"location":"new-third-part-lib/classnames/#downloads","title":"downloads","text":"<p>13,448,054 </p>"},{"location":"new-third-part-lib/classnames/#repository","title":"repository","text":"<p>github.com/JedWatson/classnames </p>"},{"location":"new-third-part-lib/classnames/#homepage","title":"homepage","text":"<p>github.com/JedWatson/classnames#readme </p>"},{"location":"new-third-part-lib/classnames/#classnames_1","title":"Classnames","text":"<p>A simple JavaScript utility for conditionally joining classNames together.</p> <p> </p> <p>Install from the npm registry with your package manager:</p> <pre><code>npm install classnames\n</code></pre> <p>Use with Node.js, Browserify, or webpack:</p> <pre><code>const classNames = require('classnames');\nclassNames('foo', 'bar'); // =&gt; 'foo bar'\n</code></pre> <p>Alternatively, you can simply include <code>index.js</code> on your page with a standalone <code>&lt;script&gt;</code> tag and it will export a global <code>classNames</code> method, or define the module if you are using RequireJS.</p>"},{"location":"new-third-part-lib/classnames/#project-philosophy","title":"Project philosophy","text":"<p>We take the stability and performance of this package seriously, because it is run millions of times a day in browsers all around the world. Updates are thoroughly reviewed for performance implications before being released, and we have a comprehensive test suite.</p> <p>Classnames follows the SemVer standard for versioning.</p> <p>There is also a Changelog.</p>"},{"location":"new-third-part-lib/classnames/#usage","title":"Usage","text":"<p>The <code>classNames</code> function takes any number of arguments which can be a string or object. The argument <code>'foo'</code> is short for <code>{ foo: true }</code>. If the value associated with a given key is falsy, that key won't be included in the output.</p> <pre><code>classNames('foo', 'bar'); // =&gt; 'foo bar'\nclassNames('foo', { bar: true }); // =&gt; 'foo bar'\nclassNames({ 'foo-bar': true }); // =&gt; 'foo-bar'\nclassNames({ 'foo-bar': false }); // =&gt; ''\nclassNames({ foo: true }, { bar: true }); // =&gt; 'foo bar'\nclassNames({ foo: true, bar: true }); // =&gt; 'foo bar'\n\n// lots of arguments of various types\nclassNames('foo', { bar: true, duck: false }, 'baz', { quux: true }); // =&gt; 'foo bar baz quux'\n\n// other falsy values are just ignored\nclassNames(null, false, 'bar', undefined, 0, 1, { baz: null }, ''); // =&gt; 'bar 1'\n</code></pre> <p>Arrays will be recursively flattened as per the rules above:</p> <pre><code>const arr = ['b', { c: true, d: false }];\nclassNames('a', arr); // =&gt; 'a b c'\n</code></pre>"},{"location":"new-third-part-lib/classnames/#dynamic-class-names-with-es2015","title":"Dynamic class names with ES2015","text":"<p>If you're in an environment that supports computed keys (available in ES2015 and Babel) you can use dynamic class names:</p> <pre><code>let buttonType = 'primary';\nclassNames({ [`btn-${buttonType}`]: true });\n</code></pre>"},{"location":"new-third-part-lib/classnames/#usage-with-reactjs","title":"Usage with React.js","text":"<p>This package is the official replacement for <code>classSet</code>, which was originally shipped in the React.js Addons bundle.</p> <p>One of its primary use cases is to make dynamic and conditional <code>className</code> props simpler to work with (especially more so than conditional string manipulation). So where you may have the following code to generate a <code>className</code> prop for a <code>&lt;button&gt;</code> in React:</p> <pre><code>import React, { useState } from 'react';\n\nexport default function Button (props) {\n    const [isPressed, setIsPressed] = useState(false);\n    const [isHovered, setIsHovered] = useState(false);\n\n    let btnClass = 'btn';\n    if (isPressed) btnClass += ' btn-pressed';\n    else if (isHovered) btnClass += ' btn-over';\n\n    return (\n        &lt;button\n            className={btnClass}\n            onMouseDown={() =&gt; setIsPressed(true)}\n            onMouseUp={() =&gt; setIsPressed(false)}\n            onMouseEnter={() =&gt; setIsHovered(true)}\n            onMouseLeave={() =&gt; setIsHovered(false)}\n        &gt;\n            {props.label}\n        &lt;/button&gt;\n    );\n}\n</code></pre> <p>You can express the conditional classes more simply as an object:</p> <pre><code>import React, { useState } from 'react';\nimport classNames from 'classnames';\n\nexport default function Button (props) {\n    const [isPressed, setIsPressed] = useState(false);\n    const [isHovered, setIsHovered] = useState(false);\n\n    const btnClass = classNames({\n        btn: true,\n        'btn-pressed': isPressed,\n        'btn-over': !isPressed &amp;&amp; isHovered,\n    });\n\n    return (\n        &lt;button\n            className={btnClass}\n            onMouseDown={() =&gt; setIsPressed(true)}\n            onMouseUp={() =&gt; setIsPressed(false)}\n            onMouseEnter={() =&gt; setIsHovered(true)}\n            onMouseLeave={() =&gt; setIsHovered(false)}\n        &gt;\n            {props.label}\n        &lt;/button&gt;\n    );\n}\n</code></pre> <p>Because you can mix together object, array and string arguments, supporting optional <code>className</code> props is also simpler as only truthy arguments get included in the result:</p> <pre><code>const btnClass = classNames('btn', this.props.className, {\n    'btn-pressed': isPressed,\n    'btn-over': !isPressed &amp;&amp; isHovered,\n});\n</code></pre>"},{"location":"new-third-part-lib/classnames/#alternate-dedupe-version","title":"Alternate <code>dedupe</code> version","text":"<p>There is an alternate version of <code>classNames</code> available which correctly dedupes classes and ensures that falsy classes specified in later arguments are excluded from the result set.</p> <p>This version is slower (about 5x) so it is offered as an opt-in.</p> <p>To use the dedupe version with Node.js, Browserify, or webpack:</p> <pre><code>const classNames = require('classnames/dedupe');\n\nclassNames('foo', 'foo', 'bar'); // =&gt; 'foo bar'\nclassNames('foo', { foo: false, bar: true }); // =&gt; 'bar'\n</code></pre> <p>For standalone (global / AMD) use, include <code>dedupe.js</code> in a <code>&lt;script&gt;</code> tag on your page.</p>"},{"location":"new-third-part-lib/classnames/#alternate-bind-version-for-css-moduleshttpsgithubcomcss-","title":"Alternate <code>bind</code> version (for [css-modules](https://github.com/css-","text":"<p>modules/css-modules))</p> <p>If you are using css-modules, or a similar approach to abstract class 'names' and the real <code>className</code> values that are actually output to the DOM, you may want to use the <code>bind</code> variant.</p> <p>Note that in ES2015 environments, it may be better to use the \"dynamic class names\" approach documented above.</p> <pre><code>const classNames = require('classnames/bind');\n\nconst styles = {\n    foo: 'abc',\n    bar: 'def',\n    baz: 'xyz',\n};\n\nconst cx = classNames.bind(styles);\n\nconst className = cx('foo', ['bar'], { baz: true }); // =&gt; 'abc def xyz'\n</code></pre> <p>Real-world example:</p> <pre><code>/* components/submit-button.js */\nimport { useState } from 'react';\nimport classNames from 'classnames/bind';\nimport styles from './submit-button.css';\n\nconst cx = classNames.bind(styles);\n\nexport default function SubmitButton ({ store, form }) {\n  const [submissionInProgress, setSubmissionInProgress] = useState(store.submissionInProgress);\n  const [errorOccurred, setErrorOccurred] = useState(store.errorOccurred);\n  const [valid, setValid] = useState(form.valid);\n\n  const text = submissionInProgress ? 'Processing...' : 'Submit';\n  const className = cx({\n    base: true,\n    inProgress: submissionInProgress,\n    error: errorOccurred,\n    disabled: valid,\n  });\n\n  return &lt;button className={className}&gt;{text}&lt;/button&gt;;\n}\n</code></pre>"},{"location":"new-third-part-lib/classnames/#polyfills-needed-to-support-older-browsers","title":"Polyfills needed to support older browsers","text":""},{"location":"new-third-part-lib/classnames/#classnames-200","title":"<code>classNames &gt;=2.0.0</code>","text":"<p><code>Array.isArray</code>: see MDN for details about unsupported older browsers (e.g. &lt;= IE8) and a simple polyfill.</p>"},{"location":"new-third-part-lib/classnames/#license-mit","title":"LICENSE MIT","text":"<p>Copyright \u00a9 2018 Jed Watson. Copyright of the Typescript bindings are respective of each contributor listed in the definition file.</p>"},{"location":"new-third-part-lib/clean-webpack-plugin/","title":"clean-webpack-plugin","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6538  \u9605\u8bfb14\u5206\u949f</p>"},{"location":"new-third-part-lib/clean-webpack-plugin/#clean-webpack-plugin","title":"clean-webpack-plugin","text":""},{"location":"new-third-part-lib/clean-webpack-plugin/#version","title":"version","text":"<p>4.0.0\u00a0\u2022 </p>"},{"location":"new-third-part-lib/clean-webpack-plugin/#downloads","title":"downloads","text":"<p>1,900,327 </p>"},{"location":"new-third-part-lib/clean-webpack-plugin/#repository","title":"repository","text":"<p>github.com/johnagan/clean-webpack-plugin </p>"},{"location":"new-third-part-lib/clean-webpack-plugin/#homepage","title":"homepage","text":"<p>github.com/johnagan/clean-webpack-plugin </p>"},{"location":"new-third-part-lib/clean-webpack-plugin/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/clean-webpack-plugin/#clean-plugin-for-webpack","title":"Clean plugin for webpack","text":"<p>A webpack plugin to remove/clean your build folder(s).</p> <p>NOTE: Node v10+ and webpack v4+ are supported and tested.</p>"},{"location":"new-third-part-lib/clean-webpack-plugin/#about","title":"About","text":"<p>By default, this plugin will remove all files inside webpack's <code>output.path</code> directory, as well as all unused webpack assets after every successful rebuild.</p> <p>Coming from <code>v1</code>? Please read about additional v2 information.</p>"},{"location":"new-third-part-lib/clean-webpack-plugin/#installation","title":"Installation","text":"<p><code>npm install --save-dev clean-webpack-plugin</code></p>"},{"location":"new-third-part-lib/clean-webpack-plugin/#usage","title":"Usage","text":"<pre><code>const { CleanWebpackPlugin } = require('clean-webpack-plugin');\n\nconst webpackConfig = {\n    plugins: [\n        /**\n         * All files inside webpack's output.path directory will be removed once, but the\n         * directory itself will not be. If using webpack 4+'s default configuration,\n         * everything under &lt;PROJECT_DIR&gt;/dist/ will be removed.\n         * Use cleanOnceBeforeBuildPatterns to override this behavior.\n         *\n         * During rebuilds, all webpack assets that are not used anymore\n         * will be removed automatically.\n         *\n         * See `Options and Defaults` for information\n         */\n        new CleanWebpackPlugin(),\n    ],\n};\n\nmodule.exports = webpackConfig;\n</code></pre>"},{"location":"new-third-part-lib/clean-webpack-plugin/#options-and-defaults-optional","title":"Options and Defaults (Optional)","text":"<pre><code>new CleanWebpackPlugin({\n    // Simulate the removal of files\n    //\n    // default: false\n    dry: true,\n\n    // Write Logs to Console\n    // (Always enabled when dry is true)\n    //\n    // default: false\n    verbose: true,\n\n    // Automatically remove all unused webpack assets on rebuild\n    //\n    // default: true\n    cleanStaleWebpackAssets: false,\n\n    // Do not allow removal of current webpack assets\n    //\n    // default: true\n    protectWebpackAssets: false,\n\n    // **WARNING**\n    //\n    // Notes for the below options:\n    //\n    // They are unsafe...so test initially with dry: true.\n    //\n    // Relative to webpack's output.path directory.\n    // If outside of webpack's output.path directory,\n    //    use full path. path.join(process.cwd(), 'build/**/*')\n    //\n    // These options extend del's pattern matching API.\n    // See https://github.com/sindresorhus/del#patterns\n    //    for pattern matching documentation\n\n    // Removes files once prior to Webpack compilation\n    //   Not included in rebuilds (watch mode)\n    //\n    // Use !negative patterns to exclude files\n    //\n    // default: ['**/*']\n    cleanOnceBeforeBuildPatterns: [\n        '**/*',\n        '!static-files*',\n        '!directoryToExclude/**',\n    ],\n    cleanOnceBeforeBuildPatterns: [], // disables cleanOnceBeforeBuildPatterns\n\n    // Removes files after every build (including watch mode) that match this pattern.\n    // Used for files that are not created directly by Webpack.\n    //\n    // Use !negative patterns to exclude files\n    //\n    // default: []\n    cleanAfterEveryBuildPatterns: ['static*.*', '!static1.js'],\n\n    // Allow clean patterns outside of process.cwd()\n    //\n    // requires dry option to be explicitly set\n    //\n    // default: false\n    dangerouslyAllowCleanPatternsOutsideProject: true,\n});\n</code></pre>"},{"location":"new-third-part-lib/clean-webpack-plugin/#example-webpack-config","title":"Example Webpack Config","text":"<p>This is a modified version of WebPack's Plugin documentation that includes the Clean Plugin.</p> <pre><code>const { CleanWebpackPlugin } = require('clean-webpack-plugin'); // installed via npm\nconst HtmlWebpackPlugin = require('html-webpack-plugin'); // installed via npm\nconst webpack = require('webpack'); // to access built-in plugins\nconst path = require('path');\n\nmodule.exports = {\n    entry: './path/to/my/entry/file.js',\n    output: {\n        /**\n         * With zero configuration,\n         *   clean-webpack-plugin will remove files inside the directory below\n         */\n        path: path.resolve(process.cwd(), 'dist'),\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.(js|jsx)$/,\n                loader: 'babel-loader',\n            },\n        ],\n    },\n    plugins: [\n        new webpack.ProgressPlugin(),\n        new CleanWebpackPlugin(),\n        new HtmlWebpackPlugin({ template: './src/index.html' }),\n    ],\n};\n</code></pre>"},{"location":"new-third-part-lib/connect-multiparty/","title":"255 connect-multiparty","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1303  \u9605\u8bfb3\u5206\u949f</p>"},{"location":"new-third-part-lib/connect-multiparty/#_1","title":"\u7528\u9014","text":"<p>connect middleware for multiparty.</p> <p>multiparty \u7684\u4e2d\u95f4\u4ef6</p> <p>\u4ec5\u7528\u4e8e\u4e0a\u4f20\u6587\u4ef6\u7684\u4e2d\u95f4\u4ef6\uff0c\u7528\u540e\u6700\u597d\u5220\u9664\u4e34\u65f6\u6587\u4ef6</p>"},{"location":"new-third-part-lib/connect-multiparty/#_2","title":"\u53ef\u9760\u6027","text":"<p>300\u9897\u661f\uff0c\u7528\u7684\u4e0d\u591a</p>"},{"location":"new-third-part-lib/connect-multiparty/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/connect-multiparty</p>"},{"location":"new-third-part-lib/connect-multiparty/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>var multipart = require('connect-multiparty');\nvar multipartMiddleware = multipart();\n\napp.post('/upload', multipartMiddleware, function(req, resp) {\n  console.log(req.body, req.files);\n  // don't forget to delete all req.files when done\n});\n</code></pre>"},{"location":"new-third-part-lib/connect-multiparty/#_5","title":"\u5176\u4ed6","text":"<p>\u6211\u5b9e\u9645\u4e0a\u5efa\u8bae\u4e0d\u8981\u4f7f\u7528\u8fd9\u4e2a\u6a21\u5757\u3002 \u76f4\u63a5\u4f7f\u7528\u591a\u65b9 API \u66f4\u5e72\u51c0\u3002</p> <p>\u8fd9\u4e2a\u4e2d\u95f4\u4ef6\u4f1a\u5728\u4f60\u7684\u670d\u52a1\u5668\u4e0a\u521b\u5efa\u4e34\u65f6\u6587\u4ef6\u5e76\u4e14\u6c38\u8fdc\u4e0d\u4f1a\u6e05\u7406\u5b83\u4eec\u3002 \u56e0\u6b64\uff0c\u60a8\u4e0d\u5e94\u5c06\u6b64\u4e2d\u95f4\u4ef6\u6dfb\u52a0\u5230\u6240\u6709\u8def\u7531\u4e2d\uff1b \u4ec5\u9002\u7528\u4e8e\u60a8\u8981\u63a5\u53d7\u4e0a\u4f20\u7684\u90a3\u4e9b\u3002 \u5728\u8fd9\u4e9b\u7aef\u70b9\u4e2d\uff0c\u8bf7\u52a1\u5fc5\u5220\u9664\u6240\u6709\u4e34\u65f6\u6587\u4ef6\uff0c\u5373\u4f7f\u662f\u60a8\u4e0d\u4f7f\u7528\u7684\u6587\u4ef6\u3002</p> <p>I actually recommend against using this module. It's cleaner to use the multiparty API directly.</p> <p>This middleware will create temp files on your server and never clean them up. Thus you should not add this middleware to all routes; only to the ones in which you want to accept uploads. And in these endpoints, be sure to delete all temp files, even the ones that you don't use.</p>"},{"location":"new-third-part-lib/copy-to-clipboard/","title":"168 copy-to-clipboard","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 473  \u9605\u8bfb1\u5206\u949f</p>"},{"location":"new-third-part-lib/copy-to-clipboard/#_1","title":"\u7528\u9014","text":"<p>\u62f7\u8d1d\u6587\u672c\u5230\u526a\u5207\u677f\u4e0a\uff08\u517c\u5bb9\u4e0d\u540c\u6d4f\u89c8\u5668\uff09</p>"},{"location":"new-third-part-lib/copy-to-clipboard/#_2","title":"\u53ef\u9760\u6027","text":"<p>\u4e0b\u8f7d\u91cf\u4e0a\u4e07\uff0c\u548c\u5176\u4ed6\u5e93\u57fa\u672c\u6ca1\u6709\u51b2\u7a81\uff0c\u653e\u5fc3\u4f7f\u7528</p>"},{"location":"new-third-part-lib/copy-to-clipboard/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/copy-to-clipboard</p> <p>https://github.com/sudodoki/copy-to-clipboard#readme</p>"},{"location":"new-third-part-lib/copy-to-clipboard/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>import copy from 'copy-to-clipboard';\n\ncopy('Text');\n\n// Copy with options\ncopy('Text', {\n  debug: true,\n  message: 'Press #{key} to copy',\n});\n</code></pre>"},{"location":"new-third-part-lib/copy-to-clipboard/#_5","title":"\u5176\u4ed6","text":""},{"location":"new-third-part-lib/crypto-js/","title":"crypto-js","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3917  \u9605\u8bfb8\u5206\u949f</p> <p>JavaScript library of crypto standards. \u52a0\u5bc6\u5e93</p>"},{"location":"new-third-part-lib/crypto-js/#install","title":"Install","text":"<pre><code>npm install crypto-js\n</code></pre>"},{"location":"new-third-part-lib/crypto-js/#usage","title":"Usage","text":"<pre><code>var AES = require(\"crypto-js/aes\");\nvar SHA256 = require(\"crypto-js/sha256\");\n...\nconsole.log(SHA256(\"Message\"));\n</code></pre> <p>Including all libraries, for access to extra methods:</p> <pre><code>var CryptoJS = require(\"crypto-js\");\nconsole.log(CryptoJS.HmacSHA1(\"Message\", \"Key\"));\n</code></pre>"},{"location":"new-third-part-lib/crypto-js/#browser-usage","title":"Browser Usage","text":"<p>Modular include:</p> <pre><code>require.config({\n    packages: [\n        {\n            name: 'crypto-js',\n            location: 'path-to/bower_components/crypto-js',\n            main: 'index'\n        }\n    ]\n});\n\nrequire([\"crypto-js/aes\", \"crypto-js/sha256\"], function (AES, SHA256) {\n    console.log(SHA256(\"Message\"));\n});\n</code></pre> <p>Including all libraries, for access to extra methods:</p> <pre><code>// Above-mentioned will work or use this simple form\nrequire.config({\n    paths: {\n        'crypto-js': 'path-to/bower_components/crypto-js/crypto-js'\n    }\n});\n\nrequire([\"crypto-js\"], function (CryptoJS) {\n    console.log(CryptoJS.HmacSHA1(\"Message\", \"Key\"));\n});\n</code></pre>"},{"location":"new-third-part-lib/crypto-js/#usage-without-requirejs","title":"Usage without RequireJS","text":"<pre><code>&lt;script type=\"text/javascript\" src=\"path-to/bower_components/crypto-js/crypto-js.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    var encrypted = CryptoJS.AES(...);\n    var encrypted = CryptoJS.SHA256(...);\n&lt;/script&gt; \n</code></pre>"},{"location":"new-third-part-lib/crypto-js/#api","title":"API","text":"<p>See: https://code.google.com/p/crypto-js</p>"},{"location":"new-third-part-lib/crypto-js/#aes-encryption","title":"AES Encryption","text":""},{"location":"new-third-part-lib/crypto-js/#plain-text-encryption","title":"Plain text encryption","text":"<pre><code>var CryptoJS = require(\"crypto-js\");\n\n// Encrypt\nvar ciphertext = CryptoJS.AES.encrypt('my message', 'secret key 123');\n\n// Decrypt\nvar bytes  = CryptoJS.AES.decrypt(ciphertext.toString(), 'secret key 123');\nvar plaintext = bytes.toString(CryptoJS.enc.Utf8);\n\nconsole.log(plaintext);\n</code></pre>"},{"location":"new-third-part-lib/crypto-js/#object-encryption","title":"Object encryption","text":"<pre><code>var CryptoJS = require(\"crypto-js\");\n\nvar data = [{id: 1}, {id: 2}]\n\n// Encrypt\nvar ciphertext = CryptoJS.AES.encrypt(JSON.stringify(data), 'secret key 123');\n\n// Decrypt\nvar bytes  = CryptoJS.AES.decrypt(ciphertext.toString(), 'secret key 123');\nvar decryptedData = JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n\nconsole.log(decryptedData);\n</code></pre>"},{"location":"new-third-part-lib/crypto-js/#_1","title":"\u6848\u4f8b","text":"<p>\u6700\u8fd1\u5728\u4f7f\u7528Cookies\u52a0\u5bc6\u4fdd\u5b58\u6570\u636e\u7684\u65f6\u5019\uff0c\u63a5\u89e6\u5230crypto\uff0c\u4f7f\u7528\u8fd8\u7b97\u7b80\u5355\uff0c\u5728\u8fd9\u91cc\u8bb0\u5f55\u4e00\u4e0b\u3002</p> <p>\u53ef\u4ee5\u5728\u8fd9\u4e2aGitHub\u7684https://github.com/brix/crypto-js\u4e0a\u4e0b\u8f7d\u8be5js\uff0c\u5b83\u53ef\u4ee5\u5355\u72ec\u5f15\u5165\u6240\u9700\u8981\u52a0\u5bc6\u65b9\u5f0f\u7684js\uff1b\u4e5f\u53ef\u4ee5\u5f15\u5165\u4e00\u4e2acrypto-js.js \u8fd9\u4e2a\u6587\u4ef6\uff0c\u5b83\u76f8\u5f53\u4e8e\u5f15\u5165\u4e86\u6240\u6709\u7684\u52a0\u5bc6\u65b9\u5f0f\uff0c\u6211\u4f7f\u7528\u7684\u5c31\u662f\u540e\u8005\u4e00\u6b21\u5f15\u5165\u6240\u6709\u7684\u52a0\u5bc6\u6587\u4ef6\uff0c\u8fd9\u4e2a\u6587\u4ef6\u4e5f\u4e0d\u662f\u5f88\u5927\uff0c\u8fd8\u53ef\u4ee5\u63a5\u53d7\u3002</p> <p>\u56e0\u4e3a\u6211\u7684\u9700\u6c42\u662f\u52a0\u5bc6\u53ef\u9006\uff0c\u5177\u6709\u4e00\u5b9a\u7684\u5b89\u5168\u6027(\u5bf9\u5b89\u5168\u6027\u8981\u6c42\u5e76\u4e0d\u662f\u7279\u522b\u9ad8)\uff0c\u6240\u4ee5\u4f7f\u7528DES\u6216AES\u5373\u53ef\uff0c\u6211\u7528\u7684\u662fAES\uff1a</p> <pre><code>function getAesString(data,key,iv){//\u52a0\u5bc6\n  var key = CryptoJS.enc.Utf8.parse(key);\n  var iv = CryptoJS.enc.Utf8.parse(iv);\n  var encrypted = CryptoJS.AES.encrypt(data,key, {\n    iv:iv,\n    mode:CryptoJS.mode.CBC,\n    padding:CryptoJS.pad.Pkcs7\n  });\n  return encrypted.toString();    //\u8fd4\u56de\u7684\u662fbase64\u683c\u5f0f\u7684\u5bc6\u6587\n}\n\nfunction getDAesString(encrypted,key,iv){//\u89e3\u5bc6\n  var key = CryptoJS.enc.Utf8.parse(key);\n  var iv = CryptoJS.enc.Utf8.parse(iv);\n  var decrypted = CryptoJS.AES.decrypt(encrypted,key, {\n    iv:iv,\n    mode:CryptoJS.mode.CBC,\n    padding:CryptoJS.pad.Pkcs7\n  });\n  return decrypted.toString(CryptoJS.enc.Utf8);     \n}\n\nfunction getAES(data){ //\u52a0\u5bc6\n  var key  = 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA';  //\u5bc6\u94a5\n  var iv   = '1234567812345678';\n  var encrypted =getAesString(data,key,iv); //\u5bc6\u6587\n  var encrypted1 =CryptoJS.enc.Utf8.parse(encrypted);\n  return encrypted;\n}\n\nfunction getDAes(data){//\u89e3\u5bc6\n  var key  = 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA';  //\u5bc6\u94a5\n  var iv   = '1234567812345678';\n  var decryptedStr =getDAesString(data,key,iv);\n  return decryptedStr;\n}\n</code></pre> <p>key\u548civ\u6211\u4eec\u90fd\u53ef\u4ee5\u66f4\u6362\uff0c\u4f46\u662f\u9700\u8981\u4fdd\u8bc1\u7684\u662f\u52a0\u89e3\u5bc6\u7684key\u548civ\u4fdd\u6301\u4e00\u81f4</p>"},{"location":"new-third-part-lib/css-loader/","title":"css-loader","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 61013  \u9605\u8bfb123\u5206\u949f</p>"},{"location":"new-third-part-lib/css-loader/#css-loader","title":"css-loader","text":""},{"location":"new-third-part-lib/css-loader/#version","title":"version","text":"<p>7.1.2\u00a0\u2022 </p>"},{"location":"new-third-part-lib/css-loader/#downloads","title":"downloads","text":"<p>18,631,821 </p>"},{"location":"new-third-part-lib/css-loader/#repository","title":"repository","text":"<p>github.com/webpack-contrib/css-loader </p>"},{"location":"new-third-part-lib/css-loader/#homepage","title":"homepage","text":"<p>github.com/webpack-contrib/css-loader </p>"},{"location":"new-third-part-lib/css-loader/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/css-loader/#css-loader_1","title":"css-loader","text":"<p>The <code>css-loader</code> interprets <code>@import</code> and <code>url()</code> like <code>import/require()</code> and will resolve them.</p>"},{"location":"new-third-part-lib/css-loader/#getting-started","title":"Getting Started","text":"<p>Warning</p> <p>To use the latest version of css-loader, webpack@5 is required</p> <p>To begin, you'll need to install <code>css-loader</code>:</p> <pre><code>npm install --save-dev css-loader\n</code></pre> <p>or</p> <pre><code>yarn add -D css-loader\n</code></pre> <p>or</p> <pre><code>pnpm add -D css-loader\n</code></pre> <p>Then add the plugin to your <code>webpack</code> config. For example:</p> <p>file.js</p> <pre><code>import * as css from \"file.css\";\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\"style-loader\", \"css-loader\"],\n      },\n    ],\n  },\n};\n</code></pre> <p>And run <code>webpack</code> via your preferred method.</p> <p>If, for one reason or another, you need to extract CSS as a file (i.e. do not store CSS in a JS module) you might want to check out the recommend example.</p>"},{"location":"new-third-part-lib/css-loader/#options","title":"Options","text":"<ul> <li><code>url</code></li> <li><code>import</code></li> <li><code>modules</code></li> <li><code>sourceMap</code></li> <li><code>importLoaders</code></li> <li><code>esModule</code></li> <li><code>exportType</code></li> </ul>"},{"location":"new-third-part-lib/css-loader/#url","title":"<code>url</code>","text":"<p>Type:</p> <pre><code>type url =\n  | boolean\n  | {\n      filter: (url: string, resourcePath: string) =&gt; boolean;\n    };\n</code></pre> <p>Default: <code>true</code></p> <p>Allow to enable/disables handling the CSS functions <code>url</code> and <code>image-set</code>. If set to <code>false</code>, <code>css-loader</code> will not parse any paths specified in <code>url</code> or <code>image-set</code>. A function can also be passed to control this behavior dynamically based on the path to the asset. Starting with version 4.0.0, absolute paths are parsed based on the server root.</p> <p>Examples resolutions:</p> <pre><code>url(image.png) =&gt; require('./image.png')\nurl('image.png') =&gt; require('./image.png')\nurl(./image.png) =&gt; require('./image.png')\nurl('./image.png') =&gt; require('./image.png')\nurl('http://dontwritehorriblecode.com/2112.png') =&gt; require('http://dontwritehorriblecode.com/2112.png')\nimage-set(url('image2x.png') 1x, url('image1x.png') 2x) =&gt; require('./image1x.png') and require('./image2x.png')\n</code></pre> <p>To import assets from a <code>node_modules</code> path (include <code>resolve.modules</code>) and for <code>alias</code>, prefix it with a <code>~</code>:</p> <pre><code>url(~module/image.png) =&gt; require('module/image.png')\nurl('~module/image.png') =&gt; require('module/image.png')\nurl(~aliasDirectory/image.png) =&gt; require('otherDirectory/image.png')\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#boolean","title":"<code>boolean</code>","text":"<p>Enable/disable <code>url()</code> resolving.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          url: true,\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#object","title":"<code>object</code>","text":"<p>Allow to filter <code>url()</code>. All filtered <code>url()</code> will not be resolved (left in the code as they were written).</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          url: {\n            filter: (url, resourcePath) =&gt; {\n              // resourcePath - path to css file\n\n              // Don't handle `img.png` urls\n              if (url.includes(\"img.png\")) {\n                return false;\n              }\n\n              // Don't handle images under root-relative /external_images/\n              if (/^\\/external_images\\//.test(path)) {\n                return false;\n              }\n\n              return true;\n            },\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#import","title":"<code>import</code>","text":"<p>Type:</p> <pre><code>type importFn =\n  | boolean\n  | {\n      filter: (\n        url: string,\n        media: string,\n        resourcePath: string,\n        supports?: string,\n        layer?: string,\n      ) =&gt; boolean;\n    };\n</code></pre> <p>Default: <code>true</code></p> <p>Allows to enables/disables <code>@import</code> at-rules handling. Control <code>@import</code> resolving. Absolute urls in <code>@import</code> will be moved in runtime code.</p> <p>Examples resolutions:</p> <pre><code>@import 'style.css' =&gt; require('./style.css')\n@import url(style.css) =&gt; require('./style.css')\n@import url('style.css') =&gt; require('./style.css')\n@import './style.css' =&gt; require('./style.css')\n@import url(./style.css) =&gt; require('./style.css')\n@import url('./style.css') =&gt; require('./style.css')\n@import url('http://dontwritehorriblecode.com/style.css') =&gt; @import url('http://dontwritehorriblecode.com/style.css') in runtime\n</code></pre> <p>To import styles from a <code>node_modules</code> path (include <code>resolve.modules</code>) and for <code>alias</code>, prefix it with a <code>~</code>:</p> <pre><code>@import url(~module/style.css) =&gt; require('module/style.css')\n@import url('~module/style.css') =&gt; require('module/style.css')\n@import url(~aliasDirectory/style.css) =&gt; require('otherDirectory/style.css')\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#boolean_1","title":"<code>boolean</code>","text":"<p>Enable/disable <code>@import</code> resolving.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          import: true,\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#object_1","title":"<code>object</code>","text":""},{"location":"new-third-part-lib/css-loader/#filter","title":"<code>filter</code>","text":"<p>Type:</p> <pre><code>type filter = (url: string, media: string, resourcePath: string) =&gt; boolean;\n</code></pre> <p>Default: <code>undefined</code></p> <p>Allow to filter <code>@import</code>. All filtered <code>@import</code> will not be resolved (left in the code as they were written).</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          import: {\n            filter: (url, media, resourcePath) =&gt; {\n              // resourcePath - path to css file\n\n              // Don't handle `style.css` import\n              if (url.includes(\"style.css\")) {\n                return false;\n              }\n\n              return true;\n            },\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#modules","title":"<code>modules</code>","text":"<p>Type:</p> <pre><code>type modules =\n  | boolean\n  | \"local\"\n  | \"global\"\n  | \"pure\"\n  | \"icss\"\n  | {\n      auto: boolean | regExp | ((resourcePath: string) =&gt; boolean);\n      mode:\n        | \"local\"\n        | \"global\"\n        | \"pure\"\n        | \"icss\"\n        | ((resourcePath) =&gt; \"local\" | \"global\" | \"pure\" | \"icss\");\n      localIdentName: string;\n      localIdentContext: string;\n      localIdentHashSalt: string;\n      localIdentHashFunction: string;\n      localIdentHashDigest: string;\n      localIdentRegExp: string | regExp;\n      getLocalIdent: (\n        context: LoaderContext,\n        localIdentName: string,\n        localName: string,\n      ) =&gt; string;\n      namedExport: boolean;\n      exportGlobals: boolean;\n      exportLocalsConvention:\n        | \"as-is\"\n        | \"camel-case\"\n        | \"camel-case-only\"\n        | \"dashes\"\n        | \"dashes-only\"\n        | ((name: string) =&gt; string);\n      exportOnlyLocals: boolean;\n      getJSON: ({\n        resourcePath,\n        imports,\n        exports,\n        replacements,\n      }: {\n        resourcePath: string;\n        imports: object[];\n        exports: object[];\n        replacements: object[];\n      }) =&gt; Promise&lt;void&gt; | void;\n    };\n</code></pre> <p>Default: <code>undefined</code></p> <p>Allows to enable/disable CSS Modules or ICSS and setup configuration:</p> <ul> <li><code>undefined</code> - enable CSS modules for all files matching <code>/\\.module\\.\\w+$/i.test(filename)</code> and <code>/\\.icss\\.\\w+$/i.test(filename)</code> regexp.</li> <li><code>true</code> - enable CSS modules for all files.</li> <li><code>false</code> - disables CSS Modules for all files.</li> <li><code>string</code> - disables CSS Modules for all files and set the <code>mode</code> option, more information you can read here</li> <li><code>object</code> - enable CSS modules for all files, if <code>modules.auto</code> option is not specified, otherwise the <code>modules.auto</code> option will determine whether if it is CSS modules or not, more information you can read here</li> </ul> <p>The <code>modules</code> option enables/disables the CSS Modules specification and setup basic behaviour.</p> <p>Using <code>false</code> value increase performance because we avoid parsing CSS Modules features, it will be useful for developers who use vanilla css or use other technologies.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: true,\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#features","title":"<code>Features</code>","text":""},{"location":"new-third-part-lib/css-loader/#scope","title":"<code>Scope</code>","text":"<p>Using <code>local</code> value requires you to specify <code>:global</code> classes. Using <code>global</code> value requires you to specify <code>:local</code> classes. Using <code>pure</code> value requires selectors must contain at least one local class or id.</p> <p>You can find more information here.</p> <p>Styles can be locally scoped to avoid globally scoping styles.</p> <p>The syntax <code>:local(.className)</code> can be used to declare <code>className</code> in the local scope. The local identifiers are exported by the module.</p> <p>With <code>:local</code> (without brackets) local mode can be switched on for this selector. The <code>:global(.className)</code> notation can be used to declare an explicit global selector. With <code>:global</code> (without brackets) global mode can be switched on for this selector.</p> <p>The loader replaces local selectors with unique identifiers. The chosen unique identifiers are exported by the module.</p> <pre><code>:local(.className) {\n  background: red;\n}\n:local .className {\n  color: green;\n}\n:local(.className .subClass) {\n  color: green;\n}\n:local .className .subClass :global(.global-class-name) {\n  color: blue;\n}\n\n\n._23_aKvs-b8bW2Vg3fwHozO {\n  background: red;\n}\n._23_aKvs-b8bW2Vg3fwHozO {\n  color: green;\n}\n._23_aKvs-b8bW2Vg3fwHozO ._13LGdX8RMStbBE9w-t0gZ1 {\n  color: green;\n}\n._23_aKvs-b8bW2Vg3fwHozO ._13LGdX8RMStbBE9w-t0gZ1 .global-class-name {\n  color: blue;\n}\n</code></pre> <p>Note</p> <p>Identifiers are exported</p> <pre><code>exports.locals = {\n  className: \"_23_aKvs-b8bW2Vg3fwHozO\",\n  subClass: \"_13LGdX8RMStbBE9w-t0gZ1\",\n};\n</code></pre> <p>CamelCase is recommended for local selectors. They are easier to use within the imported JS module.</p> <p>You can use <code>:local(#someId)</code>, but this is not recommended. Use classes instead of ids.</p>"},{"location":"new-third-part-lib/css-loader/#composing","title":"<code>Composing</code>","text":"<p>When declaring a local classname you can compose a local class from another local classname.</p> <pre><code>:local(.className) {\n  background: red;\n  color: yellow;\n}\n\n:local(.subClass) {\n  composes: className;\n  background: blue;\n}\n</code></pre> <p>This doesn't result in any change to the CSS itself but exports multiple classnames.</p> <pre><code>exports.locals = {\n  className: \"_23_aKvs-b8bW2Vg3fwHozO\",\n  subClass: \"_13LGdX8RMStbBE9w-t0gZ1 _23_aKvs-b8bW2Vg3fwHozO\",\n};\n\n\n._23_aKvs-b8bW2Vg3fwHozO {\n  background: red;\n  color: yellow;\n}\n\n._13LGdX8RMStbBE9w-t0gZ1 {\n  background: blue;\n}\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#importing","title":"<code>Importing</code>","text":"<p>To import a local classname from another module.</p> <p>Note</p> <p>We strongly recommend that you specify the extension when importing a file, since it is possible to import a file with any extension and it is not known in advance which file to use.</p> <pre><code>:local(.continueButton) {\n  composes: button from \"library/button.css\";\n  background: red;\n}\n\n\n:local(.nameEdit) {\n  composes: edit highlight from \"./edit.css\";\n  background: red;\n}\n</code></pre> <p>To import from multiple modules use multiple <code>composes:</code> rules.</p> <pre><code>:local(.className) {\n  composes:\n    edit highlight from \"./edit.css\",\n    button from \"module/button.css\",\n    classFromThisModule;\n  background: red;\n}\n</code></pre> <p>or</p> <pre><code>:local(.className) {\n  composes: edit highlight from \"./edit.css\";\n  composes: button from \"module/button.css\";\n  composes: classFromThisModule;\n  background: red;\n}\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#values","title":"<code>Values</code>","text":"<p>You can use <code>@value</code> to specific values to be reused throughout a document.</p> <p>We recommend use prefix <code>v-</code> for values, <code>s-</code> for selectors and <code>m-</code> for media at-rules.</p> <pre><code>@value v-primary: #BF4040;\n@value s-black: black-selector;\n@value m-large: (min-width: 960px);\n\n.header {\n  color: v-primary;\n  padding: 0 10px;\n}\n\n.s-black {\n  color: black;\n}\n\n@media m-large {\n  .header {\n    padding: 0 20px;\n  }\n}\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#boolean_2","title":"<code>boolean</code>","text":"<p>Enable CSS Modules features.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: true,\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#string","title":"<code>string</code>","text":"<p>Enable CSS Modules features and setup <code>mode</code>.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          // Using `local` value has same effect like using `modules: true`\n          modules: \"global\",\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#object_2","title":"<code>object</code>","text":"<p>Enable CSS Modules features and setup options for them.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            mode: \"local\",\n            auto: true,\n            exportGlobals: true,\n            localIdentName: \"[path][name]__[local]--[hash:base64:5]\",\n            localIdentContext: path.resolve(__dirname, \"src\"),\n            localIdentHashSalt: \"my-custom-hash\",\n            namedExport: true,\n            exportLocalsConvention: \"as-is\",\n            exportOnlyLocals: false,\n            getJSON: ({ resourcePath, imports, exports, replacements }) =&gt; {},\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#auto","title":"<code>auto</code>","text":"<p>Type:</p> <pre><code>type auto =\n  | boolean\n  | regExp\n  | ((\n      resourcePath: string,\n      resourceQuery: string,\n      resourceFragment: string,\n    ) =&gt; boolean);\n</code></pre> <p>Default: <code>undefined</code></p> <p>Allows auto enable CSS modules/ICSS based on the filename, query or fragment when <code>modules</code> option is object.</p> <p>Possible values:</p> <ul> <li><code>undefined</code> - enable CSS modules for all files.</li> <li><code>true</code> - enable CSS modules for all files matching <code>/\\.module\\.\\w+$/i.test(filename)</code> and <code>/\\.icss\\.\\w+$/i.test(filename)</code> regexp.</li> <li><code>false</code> - disables CSS Modules.</li> <li><code>RegExp</code> - enable CSS modules for all files matching <code>/RegExp/i.test(filename)</code> regexp.</li> <li><code>function</code> - enable CSS Modules for files based on the filename satisfying your filter function check.</li> </ul>"},{"location":"new-third-part-lib/css-loader/#boolean_3","title":"<code>boolean</code>","text":"<p>Possible values:</p> <ul> <li><code>true</code> - enables CSS modules or interoperable CSS format, sets the <code>modules.mode</code> option to <code>local</code> value for all files which satisfy <code>/\\.module(s)?\\.\\w+$/i.test(filename)</code> condition or sets the <code>modules.mode</code> option to <code>icss</code> value for all files which satisfy <code>/\\.icss\\.\\w+$/i.test(filename)</code> condition</li> <li><code>false</code> - disables CSS modules or interoperable CSS format based on filename</li> </ul> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            auto: true,\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#regexp","title":"<code>RegExp</code>","text":"<p>Enable CSS modules for files based on the filename satisfying your regex check.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            auto: /\\.custom-module\\.\\w+$/i,\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#function","title":"<code>function</code>","text":"<p>Enable CSS modules for files based on the filename, query or fragment satisfying your filter function check.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            auto: (resourcePath, resourceQuery, resourceFragment) =&gt; {\n              return resourcePath.endsWith(\".custom-module.css\");\n            },\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#mode","title":"<code>mode</code>","text":"<p>Type:</p> <pre><code>type mode =\n  | \"local\"\n  | \"global\"\n  | \"pure\"\n  | \"icss\"\n  | ((\n      resourcePath: string,\n      resourceQuery: string,\n      resourceFragment: string,\n    ) =&gt; \"local\" | \"global\" | \"pure\" | \"icss\");\n</code></pre> <p>Default: <code>'local'</code></p> <p>Setup <code>mode</code> option. You can omit the value when you want <code>local</code> mode.</p> <p>Controls the level of compilation applied to the input styles.</p> <p>The <code>local</code>, <code>global</code>, and <code>pure</code> handles <code>class</code> and <code>id</code> scoping and <code>@value</code> values. The <code>icss</code> will only compile the low level <code>Interoperable CSS</code> format for declaring <code>:import</code> and <code>:export</code> dependencies between CSS and other languages.</p> <p>ICSS underpins CSS Module support, and provides a low level syntax for other tools to implement CSS-module variations of their own.</p>"},{"location":"new-third-part-lib/css-loader/#string_1","title":"<code>string</code>","text":"<p>Possible values - <code>local</code>, <code>global</code>, <code>pure</code>, and <code>icss</code>.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            mode: \"global\",\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#function_1","title":"<code>function</code>","text":"<p>Allows set different values for the <code>mode</code> option based on the filename, query or fragment.</p> <p>Possible return values - <code>local</code>, <code>global</code>, <code>pure</code> and <code>icss</code>.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            // Callback must return \"local\", \"global\", or \"pure\" values\n            mode: (resourcePath, resourceQuery, resourceFragment) =&gt; {\n              if (/pure.css$/i.test(resourcePath)) {\n                return \"pure\";\n              }\n\n              if (/global.css$/i.test(resourcePath)) {\n                return \"global\";\n              }\n\n              return \"local\";\n            },\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#localidentname","title":"<code>localIdentName</code>","text":"<p>Type:</p> <pre><code>type localIdentName = string;\n</code></pre> <p>Default: <code>'[hash:base64]'</code></p> <p>Allows to configure the generated local ident name.</p> <p>For more information on options see:</p> <ul> <li>webpack template strings,</li> <li>output.hashDigest,</li> <li>output.hashDigestLength,</li> <li>output.hashFunction,</li> <li>output.hashSalt.</li> </ul> <p>Supported template strings:</p> <ul> <li><code>[name]</code> the basename of the resource</li> <li><code>[folder]</code> the folder the resource relative to the <code>compiler.context</code> option or <code>modules.localIdentContext</code> option.</li> <li><code>[path]</code> the path of the resource relative to the <code>compiler.context</code> option or <code>modules.localIdentContext</code> option.</li> <li><code>[file]</code> - filename and path.</li> <li><code>[ext]</code> - extension with leading <code>.</code>.</li> <li><code>[hash]</code> - the hash of the string, generated based on <code>localIdentHashSalt</code>, <code>localIdentHashFunction</code>, <code>localIdentHashDigest</code>, <code>localIdentHashDigestLength</code>, <code>localIdentContext</code>, <code>resourcePath</code> and <code>exportName</code></li> <li><code>[&lt;hashFunction&gt;:hash:&lt;hashDigest&gt;:&lt;hashDigestLength&gt;]</code> - hash with hash settings.</li> <li><code>[local]</code> - original class.</li> </ul> <p>Recommendations:</p> <ul> <li>use <code>'[path][name]__[local]'</code> for development</li> <li>use <code>'[hash:base64]'</code> for production</li> </ul> <p>The <code>[local]</code> placeholder contains original class.</p> <p>Note: all reserved (<code>&lt;&gt;:\"/\\|?*</code>) and control filesystem characters (excluding characters in the <code>[local]</code> placeholder) will be converted to <code>-</code>.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            localIdentName: \"[path][name]__[local]--[hash:base64:5]\",\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#localidentcontext","title":"<code>localIdentContext</code>","text":"<p>Type:</p> <pre><code>type localIdentContex = string;\n</code></pre> <p>Default: <code>compiler.context</code></p> <p>Allows to redefine basic loader context for local ident name.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            localIdentContext: path.resolve(__dirname, \"src\"),\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#localidenthashsalt","title":"<code>localIdentHashSalt</code>","text":"<p>Type:</p> <pre><code>type localIdentHashSalt = string;\n</code></pre> <p>Default: <code>undefined</code></p> <p>Allows to add custom hash to generate more unique classes. For more information see output.hashSalt.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            localIdentHashSalt: \"hash\",\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#localidenthashfunction","title":"<code>localIdentHashFunction</code>","text":"<p>Type:</p> <pre><code>type localIdentHashFunction = string;\n</code></pre> <p>Default: <code>md4</code></p> <p>Allows to specify hash function to generate classes . For more information see output.hashFunction.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            localIdentHashFunction: \"md4\",\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#localidenthashdigest","title":"<code>localIdentHashDigest</code>","text":"<p>Type:</p> <pre><code>type localIdentHashDigest = string;\n</code></pre> <p>Default: <code>hex</code></p> <p>Allows to specify hash digest to generate classes. For more information see output.hashDigest.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            localIdentHashDigest: \"base64\",\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#localidenthashdigestlength","title":"<code>localIdentHashDigestLength</code>","text":"<p>Type:</p> <pre><code>type localIdentHashDigestLength = number;\n</code></pre> <p>Default: <code>20</code></p> <p>Allows to specify hash digest length to generate classes. For more information see output.hashDigestLength.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            localIdentHashDigestLength: 5,\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#hashstrategy","title":"<code>hashStrategy</code>","text":"<p>Type: <code>'resource-path-and-local-name' | 'minimal-subset'</code> Default: <code>'resource-path-and-local-name'</code></p> <p>Should local name be used when computing the hash.</p> <ul> <li><code>'resource-path-and-local-name'</code> Both resource path and local name are used when hashing. Each identifier in a module gets its own hash digest, always.</li> <li><code>'minimal-subset'</code> Auto detect if identifier names can be omitted from hashing. Use this value to optimize the output for better GZIP or Brotli compression.</li> </ul> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            hashStrategy: \"minimal-subset\",\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#localidentregexp","title":"<code>localIdentRegExp</code>","text":"<p>Type:</p> <pre><code>type localIdentRegExp = string | RegExp;\n</code></pre> <p>Default: <code>undefined</code></p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            localIdentRegExp: /page-(.*)\\.css/i,\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#getlocalident","title":"<code>getLocalIdent</code>","text":"<p>Type:</p> <pre><code>type getLocalIdent = (\n  context: LoaderContext,\n  localIdentName: string,\n  localName: string,\n) =&gt; string;\n</code></pre> <p>Default: <code>undefined</code></p> <p>Allows to specify a function to generate the classname. By default we use built-in function to generate a classname. If the custom function returns <code>null</code> or <code>undefined</code>, we fallback to the built-in function to generate the classname.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            getLocalIdent: (context, localIdentName, localName, options) =&gt; {\n              return \"whatever_random_class_name\";\n            },\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#namedexport","title":"<code>namedExport</code>","text":"<p>Type:</p> <pre><code>type namedExport = boolean;\n</code></pre> <p>Default: Depends on the value of the <code>esModule</code> option. If the value of the <code>esModule</code> options is <code>true</code>, this value will also be <code>true</code>, otherwise it will be <code>false</code>.</p> <p>Enables/disables ES modules named export for locals.</p> <p>Warning</p> <p>Because it is not allowed to use the <code>default</code> class in CSS when the <code>namedExport</code> is <code>true</code> (since ECMA modules have a reserved keyword <code>default</code> for default export), it will be automatically renamed to the <code>_default</code> class.</p> <p>styles.css</p> <pre><code>.foo-baz {\n  color: red;\n}\n.bar {\n  color: blue;\n}\n.default {\n  color: green;\n}\n</code></pre> <p>index.js</p> <pre><code>import * as styles from \"./styles.css\";\n\n// If using `exportLocalsConvention: \"as-is\"` (default value):\nconsole.log(styles[\"foo-baz\"], styles.bar);\n\n// If using `exportLocalsConvention: \"camel-case-only\"`:\nconsole.log(styles.fooBaz, styles.bar);\n\n// For the `default` classname\nconsole.log(styles[\"_default\"]);\n</code></pre> <p>You can enable a ES module named export using:</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          esModule: true,\n          modules: {\n            namedExport: true,\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre> <p>To set a custom name for namedExport, can use <code>exportLocalsConvention</code> option as a function. Example below in the <code>examples</code> section.</p>"},{"location":"new-third-part-lib/css-loader/#exportglobals","title":"<code>exportGlobals</code>","text":"<p>Type:</p> <pre><code>type exportsGLobals = boolean;\n</code></pre> <p>Default: <code>false</code></p> <p>Allow <code>css-loader</code> to export names from global class or id, so you can use that as local name.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            exportGlobals: true,\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#exportlocalsconvention","title":"<code>exportLocalsConvention</code>","text":"<p>Type:</p> <pre><code>type exportLocalsConvention =\n  | \"as-is\"\n  | \"camel-case\"\n  | \"camel-case-only\"\n  | \"dashes\"\n  | \"dashes-only\"\n  | ((name: string) =&gt; string);\n</code></pre> <p>Default: Depends on the value of the <code>modules.namedExport</code> option, if <code>true</code> - <code>as-is</code>, otherwise <code>camel-case-only</code>.</p> <p>Warning</p> <p>Names of locals are converted to camelcase when the named export is <code>false</code>, i.e. the <code>exportLocalsConvention</code> option has <code>camelCaseOnly</code> value by default. You can set this back to any other valid option but selectors which are not valid JavaScript identifiers may run into problems which do not implement the entire modules specification.</p> <p>Style of exported class names.</p>"},{"location":"new-third-part-lib/css-loader/#string_2","title":"<code>string</code>","text":"<p>By default, the exported JSON keys mirror the class names (i.e <code>as-is</code> value).</p> Name Type Description <code>'as-is'</code> <code>string</code> Class names will be exported as is. <code>'camel-case'</code> <code>string</code> Class names will be camelized, the original class name will not to be removed from the locals <code>'camel-case-only'</code> <code>string</code> Class names will be camelized, the original class name will be removed from the locals <code>'dashes'</code> <code>string</code> Only dashes in class names will be camelized <code>'dashes-only'</code> <code>string</code> Dashes in class names will be camelized, the original class name will be removed from the locals <p>file.css</p> <pre><code>.class-name {\n}\n</code></pre> <p>file.js</p> <pre><code>import { className } from \"file.css\";\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            exportLocalsConvention: \"camel-case-only\",\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#function_2","title":"<code>function</code>","text":"<p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            exportLocalsConvention: function (name) {\n              return name.replace(/-/g, \"_\");\n            },\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            exportLocalsConvention: function (name) {\n              return [\n                name.replace(/-/g, \"_\"),\n                // dashesCamelCase\n                name.replace(/-+(\\w)/g, (match, firstLetter) =&gt;\n                  firstLetter.toUpperCase(),\n                ),\n              ];\n            },\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#exportonlylocals","title":"<code>exportOnlyLocals</code>","text":"<p>Type:</p> <pre><code>type exportOnlyLocals = boolean;\n</code></pre> <p>Default: <code>false</code></p> <p>Export only locals.</p> <p>Useful when you use css modules for pre-rendering (for example SSR). For pre-rendering with <code>mini-css-extract-plugin</code> you should use this option instead of <code>style-loader!css-loader</code> in the pre-rendering bundle. It doesn't embed CSS but only exports the identifier mappings.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            exportOnlyLocals: true,\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#getjson","title":"<code>getJSON</code>","text":"<p>Type:</p> <pre><code>type getJSON = ({\n  resourcePath,\n  imports,\n  exports,\n  replacements,\n}: {\n  resourcePath: string;\n  imports: object[];\n  exports: object[];\n  replacements: object[];\n}) =&gt; Promise&lt;void&gt; | void;\n</code></pre> <p>Default: <code>undefined</code></p> <p>Enables a callback to output the CSS modules mapping JSON. The callback is invoked with an object containing the following:</p> <ul> <li> <p><code>resourcePath</code>: the absolute path of the original resource, e.g., <code>/foo/bar/baz.module.css</code></p> </li> <li> <p><code>imports</code>: an array of import objects with data about import types and file paths, e.g.,</p> <p>[   {     \"type\": \"icss_import\",     \"importName\": \"CSS_LOADER_ICSS_IMPORT_0\",     \"url\": \"\\\"-!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[4].use[1]!../../../../../node_modules/postcss-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../baz.module.css\\\"\",     \"icss\": true,     \"index\": 0   } ]</p> </li> </ul> <p>(Note that this will include all imports, not just those relevant to CSS modules.)</p> <ul> <li> <p><code>exports</code>: an array of export objects with exported names and values, e.g.,</p> <p>[   {     \"name\": \"main\",     \"value\": \"D2Oy\"   } ]</p> </li> <li> <p><code>replacements</code>: an array of import replacement objects used for linking <code>imports</code> and <code>exports</code>, e.g.,</p> <p>{   \"replacementName\": \"CSS_LOADER_ICSS_IMPORT_0_REPLACEMENT_0\",   \"importName\": \"CSS_LOADER_ICSS_IMPORT_0\",   \"localName\": \"main\" }</p> </li> </ul> <p>Using <code>getJSON</code>, it's possible to output a files with all CSS module mappings. In the following example, we use <code>getJSON</code> to cache canonical mappings and add stand-ins for any composed values (through <code>composes</code>), and we use a custom plugin to consolidate the values and output them to a file:</p> <p>webpack.config.js</p> <pre><code>const path = require(\"path\");\nconst fs = require(\"fs\");\n\nconst CSS_LOADER_REPLACEMENT_REGEX =\n  /(___CSS_LOADER_ICSS_IMPORT_\\d+_REPLACEMENT_\\d+___)/g;\nconst REPLACEMENT_REGEX = /___REPLACEMENT\\[(.*?)]\\[(.*?)]___/g;\nconst IDENTIFIER_REGEX = /\\[(.*?)]\\[(.*?)]/;\nconst replacementsMap = {};\nconst canonicalValuesMap = {};\nconst allExportsJson = {};\n\nfunction generateIdentifier(resourcePath, localName) {\n  return `[${resourcePath}][${localName}]`;\n}\n\nfunction addReplacements(resourcePath, imports, exportsJson, replacements) {\n  const importReplacementsMap = {};\n\n  // create a dict to quickly identify imports and get their absolute stand-in strings in the currently loaded file\n  // e.g., { '___CSS_LOADER_ICSS_IMPORT_0_REPLACEMENT_0___': '___REPLACEMENT[/foo/bar/baz.css][main]___' }\n  importReplacementsMap[resourcePath] = replacements.reduce(\n    (acc, { replacementName, importName, localName }) =&gt; {\n      const replacementImportUrl = imports.find(\n        (importData) =&gt; importData.importName === importName,\n      ).url;\n      const relativePathRe = /.*!(.*)\"/;\n      const [, relativePath] = replacementImportUrl.match(relativePathRe);\n      const importPath = path.resolve(path.dirname(resourcePath), relativePath);\n      const identifier = generateIdentifier(importPath, localName);\n      return { ...acc, [replacementName]: `___REPLACEMENT${identifier}___` };\n    },\n    {},\n  );\n\n  // iterate through the raw exports and add stand-in variables\n  // ('___REPLACEMENT[&lt;absolute_path&gt;][&lt;class_name&gt;]___')\n  // to be replaced in the plugin below\n  for (const [localName, classNames] of Object.entries(exportsJson)) {\n    const identifier = generateIdentifier(resourcePath, localName);\n\n    if (CSS_LOADER_REPLACEMENT_REGEX.test(classNames)) {\n      // if there are any replacements needed in the concatenated class names,\n      // add them all to the replacements map to be replaced altogether later\n      replacementsMap[identifier] = classNames.replaceAll(\n        CSS_LOADER_REPLACEMENT_REGEX,\n        (_, replacementName) =&gt;\n          importReplacementsMap[resourcePath][replacementName],\n      );\n    } else {\n      // otherwise, no class names need replacements so we can add them to\n      // canonical values map and all exports JSON verbatim\n      canonicalValuesMap[identifier] = classNames;\n\n      allExportsJson[resourcePath] = allExportsJson[resourcePath] || {};\n      allExportsJson[resourcePath][localName] = classNames;\n    }\n  }\n}\n\nfunction replaceReplacements(classNames) {\n  return classNames.replaceAll(\n    REPLACEMENT_REGEX,\n    (_, resourcePath, localName) =&gt; {\n      const identifier = generateIdentifier(resourcePath, localName);\n\n      if (identifier in canonicalValuesMap) {\n        return canonicalValuesMap[identifier];\n      }\n\n      // Recurse through other stand-in that may be imports\n      const canonicalValue = replaceReplacements(replacementsMap[identifier]);\n\n      canonicalValuesMap[identifier] = canonicalValue;\n\n      return canonicalValue;\n    },\n  );\n}\n\nfunction getJSON({ resourcePath, imports, exports, replacements }) {\n  const exportsJson = exports.reduce((acc, { name, value }) =&gt; {\n    return { ...acc, [name]: value };\n  }, {});\n\n  if (replacements.length &gt; 0) {\n    // replacements present --&gt; add stand-in values for absolute paths and local names,\n    // which will be resolved to their canonical values in the plugin below\n    addReplacements(resourcePath, imports, exportsJson, replacements);\n  } else {\n    // no replacements present --&gt; add to canonicalValuesMap verbatim\n    // since all values here are canonical/don't need resolution\n    for (const [key, value] of Object.entries(exportsJson)) {\n      const id = `[${resourcePath}][${key}]`;\n\n      canonicalValuesMap[id] = value;\n    }\n\n    allExportsJson[resourcePath] = exportsJson;\n  }\n}\n\nclass CssModulesJsonPlugin {\n  constructor(options) {\n    this.options = options;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  apply(compiler) {\n    compiler.hooks.emit.tap(\"CssModulesJsonPlugin\", () =&gt; {\n      for (const [identifier, classNames] of Object.entries(replacementsMap)) {\n        const adjustedClassNames = replaceReplacements(classNames);\n\n        replacementsMap[identifier] = adjustedClassNames;\n\n        const [, resourcePath, localName] = identifier.match(IDENTIFIER_REGEX);\n\n        allExportsJson[resourcePath] = allExportsJson[resourcePath] || {};\n        allExportsJson[resourcePath][localName] = adjustedClassNames;\n      }\n\n      fs.writeFileSync(\n        this.options.filepath,\n        JSON.stringify(\n          // Make path to be relative to `context` (your project root)\n          Object.fromEntries(\n            Object.entries(allExportsJson).map((key) =&gt; {\n              key[0] = path\n                .relative(compiler.context, key[0])\n                .replace(/\\\\/g, \"/\");\n\n              return key;\n            }),\n          ),\n          null,\n          2,\n        ),\n        \"utf8\",\n      );\n    });\n  }\n}\n\nmodule.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: { modules: { getJSON } },\n      },\n    ],\n  },\n  plugins: [\n    new CssModulesJsonPlugin({\n      filepath: path.resolve(__dirname, \"./output.css.json\"),\n    }),\n  ],\n};\n</code></pre> <p>In the above, all import aliases are replaced with <code>___REPLACEMENT[&lt;resourcePath&gt;][&lt;localName&gt;]___</code> in <code>getJSON</code>, and they're resolved in the custom plugin. All CSS mappings are contained in <code>allExportsJson</code>:</p> <pre><code>{\n  \"foo/bar/baz.module.css\": {\n    \"main\": \"D2Oy\",\n    \"header\": \"thNN\"\n  },\n  \"foot/bear/bath.module.css\": {\n    \"logo\": \"sqiR\",\n    \"info\": \"XMyI\"\n  }\n}\n</code></pre> <p>This is saved to a local file named <code>output.css.json</code>.</p>"},{"location":"new-third-part-lib/css-loader/#importloaders","title":"<code>importLoaders</code>","text":"<p>Type:</p> <pre><code>type importLoaders = number;\n</code></pre> <p>Default: <code>0</code></p> <p>Allows to enables/disables or setups number of loaders applied before CSS loader for <code>@import</code> at-rules, CSS modules and ICSS imports, i.e. <code>@import</code>/<code>composes</code>/<code>@value value from './values.css'</code>/etc.</p> <p>The option <code>importLoaders</code> allows you to configure how many loaders before <code>css-loader</code> should be applied to <code>@import</code>ed resources and CSS modules/ICSS imports.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          \"style-loader\",\n          {\n            loader: \"css-loader\",\n            options: {\n              importLoaders: 2,\n              // 0 =&gt; no loaders (default);\n              // 1 =&gt; postcss-loader;\n              // 2 =&gt; postcss-loader, sass-loader\n            },\n          },\n          \"postcss-loader\",\n          \"sass-loader\",\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>This may change in the future when the module system (i. e. webpack) supports loader matching by origin.</p>"},{"location":"new-third-part-lib/css-loader/#sourcemap","title":"<code>sourceMap</code>","text":"<p>Type:</p> <pre><code>type sourceMap = boolean;\n</code></pre> <p>Default: depends on the <code>compiler.devtool</code> value</p> <p>By default generation of source maps depends on the <code>devtool</code> option. All values enable source map generation except <code>eval</code> and <code>false</code> value.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          sourceMap: true,\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#esmodule","title":"<code>esModule</code>","text":"<p>Type:</p> <pre><code>type esModule = boolean;\n</code></pre> <p>Default: <code>true</code></p> <p>By default, <code>css-loader</code> generates JS modules that use the ES modules syntax. There are some cases in which using ES modules is beneficial, like in the case of module concatenation and tree shaking.</p> <p>You can enable a CommonJS modules syntax using:</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          esModule: false,\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#exporttype","title":"<code>exportType</code>","text":"<p>Type:</p> <pre><code>type exportType = \"array\" | \"string\" | \"css-style-sheet\";\n</code></pre> <p>Default: <code>'array'</code></p> <p>Allows exporting styles as array with modules, string or constructable stylesheet (i.e. <code>CSSStyleSheet</code>). Default value is <code>'array'</code>, i.e. loader exports array of modules with specific API which is used in <code>style-loader</code> or other.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        assert: { type: \"css\" },\n        loader: \"css-loader\",\n        options: {\n          exportType: \"css-style-sheet\",\n        },\n      },\n    ],\n  },\n};\n</code></pre> <p>src/index.js</p> <pre><code>import sheet from \"./styles.css\" assert { type: \"css\" };\n\ndocument.adoptedStyleSheets = [sheet];\nshadowRoot.adoptedStyleSheets = [sheet];\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#array","title":"<code>'array'</code>","text":"<p>The default export is array of modules with specific API which is used in <code>style-loader</code> or other.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.(sa|sc|c)ss$/i,\n        use: [\"style-loader\", \"css-loader\", \"postcss-loader\", \"sass-loader\"],\n      },\n    ],\n  },\n};\n</code></pre> <p>src/index.js</p> <pre><code>// `style-loader` applies styles to DOM\nimport \"./styles.css\";\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#string_3","title":"<code>'string'</code>","text":"<p>Warning</p> <p>You should not use <code>style-loader</code> or <code>mini-css-extract- plugin</code> with this value.</p> <p>Warning</p> <p>The <code>esModule</code> option should be enabled if you want to use it with <code>CSS modules</code>, by default for locals will be used named export.</p> <p>The default export is <code>string</code>.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.(sa|sc|c)ss$/i,\n        use: [\"css-loader\", \"postcss-loader\", \"sass-loader\"],\n      },\n    ],\n  },\n};\n</code></pre> <p>src/index.js</p> <pre><code>import sheet from \"./styles.css\";\n\nconsole.log(sheet);\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#css-style-sheet","title":"<code>'css-style-sheet'</code>","text":"<p>Warning</p> <p><code>@import</code> rules not yet allowed, more information</p> <p>Warning</p> <p>You don't need <code>style-loader</code> anymore, please remove it.</p> <p>Warning</p> <p>The <code>esModule</code> option should be enabled if you want to use it with <code>CSS modules</code>, by default for locals will be used named export.</p> <p>Warning</p> <p>Source maps are not currently supported in <code>Chrome</code> due bug</p> <p>The default export is a constructable stylesheet (i.e. <code>CSSStyleSheet</code>).</p> <p>Useful for custom elements and shadow DOM.</p> <p>More information:</p> <ul> <li>Using CSS Module Scripts to import stylesheets</li> <li>Constructable Stylesheets: seamless reusable styles</li> </ul> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        assert: { type: \"css\" },\n        loader: \"css-loader\",\n        options: {\n          exportType: \"css-style-sheet\",\n        },\n      },\n\n      // For Sass/SCSS:\n      //\n      // {\n      //   assert: { type: \"css\" },\n      //   rules: [\n      //     {\n      //       loader: \"css-loader\",\n      //       options: {\n      //         exportType: \"css-style-sheet\",\n      //         // Other options\n      //       },\n      //     },\n      //     {\n      //       loader: \"sass-loader\",\n      //       options: {\n      //         // Other options\n      //       },\n      //     },\n      //   ],\n      // },\n    ],\n  },\n};\n</code></pre> <p>src/index.js</p> <pre><code>// Example for Sass/SCSS:\n// import sheet from \"./styles.scss\" assert { type: \"css\" };\n\n// Example for CSS modules:\n// import sheet, { myClass } from \"./styles.scss\" assert { type: \"css\" };\n\n// Example for CSS:\nimport sheet from \"./styles.css\" assert { type: \"css\" };\n\ndocument.adoptedStyleSheets = [sheet];\nshadowRoot.adoptedStyleSheets = [sheet];\n</code></pre> <p>For migration purposes, you can use the following configuration:</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        oneOf: [\n          {\n            assert: { type: \"css\" },\n            loader: \"css-loader\",\n            options: {\n              exportType: \"css-style-sheet\",\n              // Other options\n            },\n          },\n          {\n            use: [\n              \"style-loader\",\n              {\n                loader: \"css-loader\",\n                options: {\n                  // Other options\n                },\n              },\n            ],\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#examples","title":"Examples","text":""},{"location":"new-third-part-lib/css-loader/#recommend","title":"Recommend","text":"<p>For <code>production</code> builds it's recommended to extract the CSS from your bundle being able to use parallel loading of CSS/JS resources later on. This can be achieved by using the mini-css-extract-plugin, because it creates separate css files. For <code>development</code> mode (including <code>webpack-dev-server</code>) you can use style- loader, because it injects CSS into the DOM using multiple <code>&lt;style&gt;&lt;/style&gt;</code> and works faster.</p> <p>Note</p> <p>Do not use <code>style-loader</code> and <code>mini-css-extract-plugin</code> together.</p> <p>webpack.config.js</p> <pre><code>const MiniCssExtractPlugin = require(\"mini-css-extract-plugin\");\nconst devMode = process.env.NODE_ENV !== \"production\";\n\nmodule.exports = {\n  module: {\n    rules: [\n      {\n        // If you enable `experiments.css` or `experiments.futureDefaults`, please uncomment line below\n        // type: \"javascript/auto\",\n        test: /\\.(sa|sc|c)ss$/i,\n        use: [\n          devMode ? \"style-loader\" : MiniCssExtractPlugin.loader,\n          \"css-loader\",\n          \"postcss-loader\",\n          \"sass-loader\",\n        ],\n      },\n    ],\n  },\n  plugins: [].concat(devMode ? [] : [new MiniCssExtractPlugin()]),\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#disable-url-resolving-using-the-webpackignore-true-comment","title":"Disable url resolving using the <code>/* webpackIgnore: true */</code> comment","text":"<p>With the help of the <code>/* webpackIgnore: true */</code>comment, it is possible to disable sources handling for rules and for individual declarations.</p> <pre><code>/* webpackIgnore: true */\n@import url(./basic.css);\n@import /* webpackIgnore: true */ url(./imported.css);\n\n.class {\n  /* Disabled url handling for the all urls in the 'background' declaration */\n  color: red;\n  /* webpackIgnore: true */\n  background: url(\"./url/img.png\"), url(\"./url/img.png\");\n}\n\n.class {\n  /* Disabled url handling for the first url in the 'background' declaration */\n  color: red;\n  background:\n    /* webpackIgnore: true */ url(\"./url/img.png\"), url(\"./url/img.png\");\n}\n\n.class {\n  /* Disabled url handling for the second url in the 'background' declaration */\n  color: red;\n  background:\n    url(\"./url/img.png\"),\n    /* webpackIgnore: true */ url(\"./url/img.png\");\n}\n\n/* prettier-ignore */\n.class {\n  /* Disabled url handling for the second url in the 'background' declaration */\n  color: red;\n  background: url(\"./url/img.png\"),\n    /* webpackIgnore: true */\n    url(\"./url/img.png\");\n}\n\n/* prettier-ignore */\n.class {\n  /* Disabled url handling for third and sixth urls in the 'background-image' declaration */\n  background-image: image-set(\n    url(./url/img.png) 2x,\n    url(./url/img.png) 3x,\n    /* webpackIgnore:  true */ url(./url/img.png) 4x,\n    url(./url/img.png) 5x,\n    url(./url/img.png) 6x,\n    /* webpackIgnore:  true */\n    url(./url/img.png) 7x\n  );\n}\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#assets","title":"Assets","text":"<p>The following <code>webpack.config.js</code> can load CSS files, embed small PNG/JPG/GIF/SVG images as well as fonts as Data URLs and copy larger files to the output directory.</p> <p>For webpack v5:</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\"style-loader\", \"css-loader\"],\n      },\n      {\n        test: /\\.(png|jpe?g|gif|svg|eot|ttf|woff|woff2)$/i,\n        // More information here https://webpack.js.org/guides/asset-modules/\n        type: \"asset\",\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#extract","title":"Extract","text":"<p>For production builds it's recommended to extract the CSS from your bundle being able to use parallel loading of CSS/JS resources later on.</p> <ul> <li> <p>This can be achieved by using the mini-css-extract-plugin to extract the CSS when running in production mode.</p> </li> <li> <p>As an alternative, if seeking better development performance and css outputs that mimic production. extract-css-chunks-webpack-plugin offers a hot module reload friendly, extended version of mini-css-extract-plugin. HMR real CSS files in dev, works like mini-css in non-dev</p> </li> </ul>"},{"location":"new-third-part-lib/css-loader/#pure-css-css-modules-and-postcss","title":"Pure CSS, CSS modules and PostCSS","text":"<p>When you have pure CSS (without CSS modules), CSS modules and PostCSS in your project you can use this setup:</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        // For pure CSS - /\\.css$/i,\n        // For Sass/SCSS - /\\.((c|sa|sc)ss)$/i,\n        // For Less - /\\.((c|le)ss)$/i,\n        test: /\\.((c|sa|sc)ss)$/i,\n        use: [\n          \"style-loader\",\n          {\n            loader: \"css-loader\",\n            options: {\n              // Run `postcss-loader` on each CSS `@import` and CSS modules/ICSS imports, do not forget that `sass-loader` compile non CSS `@import`'s into a single file\n              // If you need run `sass-loader` and `postcss-loader` on each CSS `@import` please set it to `2`\n              importLoaders: 1,\n            },\n          },\n          {\n            loader: \"postcss-loader\",\n            options: { plugins: () =&gt; [postcssPresetEnv({ stage: 0 })] },\n          },\n          // Can be `less-loader`\n          {\n            loader: \"sass-loader\",\n          },\n        ],\n      },\n      // For webpack v5\n      {\n        test: /\\.(png|jpe?g|gif|svg|eot|ttf|woff|woff2)$/i,\n        // More information here https://webpack.js.org/guides/asset-modules/\n        type: \"asset\",\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#resolve-unresolved-urls-using-an-alias","title":"Resolve unresolved URLs using an alias","text":"<p>index.css</p> <pre><code>.class {\n  background: url(/assets/unresolved/img.png);\n}\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\"style-loader\", \"css-loader\"],\n      },\n    ],\n  },\n  resolve: {\n    alias: {\n      \"/assets/unresolved/img.png\": path.resolve(\n        __dirname,\n        \"assets/real-path-to-img/img.png\",\n      ),\n    },\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#named-export-with-custom-export-names","title":"Named export with custom export names","text":"<p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"css-loader\",\n        options: {\n          modules: {\n            namedExport: true,\n            exportLocalsConvention: function (name) {\n              return name.replace(/-/g, \"_\");\n            },\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#separating-interoperable-css-only-and-css-module-features","title":"Separating <code>Interoperable CSS</code>-only and <code>CSS Module</code> features","text":"<p>The following setup is an example of allowing <code>Interoperable CSS</code> features only (such as <code>:import</code> and <code>:export</code>) without using further <code>CSS Module</code> functionality by setting <code>mode</code> option for all files that do not match <code>*.module.scss</code> naming convention. This is for reference as having <code>ICSS</code> features applied to all files was default <code>css-loader</code> behavior before v4. Meanwhile all files matching <code>*.module.scss</code> are treated as <code>CSS Modules</code> in this example.</p> <p>An example case is assumed where a project requires canvas drawing variables to be synchronized with CSS - canvas drawing uses the same color (set by color name in JavaScript) as HTML background (set by class name in CSS).</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      // ...\n      // --------\n      // SCSS ALL EXCEPT MODULES\n      {\n        test: /\\.scss$/i,\n        exclude: /\\.module\\.scss$/i,\n        use: [\n          {\n            loader: \"style-loader\",\n          },\n          {\n            loader: \"css-loader\",\n            options: {\n              importLoaders: 1,\n              modules: {\n                mode: \"icss\",\n              },\n            },\n          },\n          {\n            loader: \"sass-loader\",\n          },\n        ],\n      },\n      // --------\n      // SCSS MODULES\n      {\n        test: /\\.module\\.scss$/i,\n        use: [\n          {\n            loader: \"style-loader\",\n          },\n          {\n            loader: \"css-loader\",\n            options: {\n              importLoaders: 1,\n              modules: {\n                mode: \"local\",\n              },\n            },\n          },\n          {\n            loader: \"sass-loader\",\n          },\n        ],\n      },\n      // --------\n      // ...\n    ],\n  },\n};\n</code></pre> <p>variables.scss</p> <p>File treated as <code>ICSS</code>-only.</p> <pre><code>$colorBackground: red;\n:export {\n  colorBackgroundCanvas: $colorBackground;\n}\n</code></pre> <p>Component.module.scss</p> <p>File treated as <code>CSS Module</code>.</p> <pre><code>@import \"variables.scss\";\n.componentClass {\n  background-color: $colorBackground;\n}\n</code></pre> <p>Component.jsx</p> <p>Using both <code>CSS Module</code> functionality as well as SCSS variables directly in JavaScript.</p> <pre><code>import * as svars from \"variables.scss\";\nimport * as styles from \"Component.module.scss\";\n\n// Render DOM with CSS modules class name\n// &lt;div className={styles.componentClass}&gt;\n//   &lt;canvas ref={mountsCanvas}/&gt;\n// &lt;/div&gt;\n\n// Somewhere in JavaScript canvas drawing code use the variable directly\n// const ctx = mountsCanvas.current.getContext('2d',{alpha: false});\nctx.fillStyle = `${svars.colorBackgroundCanvas}`;\n</code></pre>"},{"location":"new-third-part-lib/css-loader/#contributing","title":"Contributing","text":"<p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p>CONTRIBUTING</p>"},{"location":"new-third-part-lib/css-loader/#license","title":"License","text":"<p>MIT</p>"},{"location":"new-third-part-lib/csv/","title":"256 csv","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1445  \u9605\u8bfb3\u5206\u949f</p>"},{"location":"new-third-part-lib/csv/#_1","title":"\u7528\u9014","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u529f\u80fd\u9f50\u5168\u7684 CSV \u89e3\u6790\u5de5\u5177\uff0c\u5b8c\u5168\u5728\u60a8\u7684\u6d4f\u89c8\u5668\u4e0a\u8fd0\u884c\u3002 \u6ca1\u6709\u6570\u636e\u79bb\u5f00\u60a8\u7684\u8ba1\u7b97\u673a\uff01 \u8fd8\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u5b66\u4e60\u5982\u4f55\u4f7f\u7528\u6211\u4eec\u7684\u8f6f\u4ef6\u5305\u5e76\u4ee5\u4ea4\u4e92\u65b9\u5f0f\u6d4b\u8bd5\u5404\u79cd\u9009\u9879\u3002</p> <p>This is a full-featured CSV parsing tool running entirely on your browser. No data leave your computer ! Use it also to learn how to use our packages and to test the various options interactively.</p>"},{"location":"new-third-part-lib/csv/#_2","title":"\u53ef\u9760\u6027","text":"<p>3000\u661f\u661f</p>"},{"location":"new-third-part-lib/csv/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://csv.js.org/</p> <p>https://github.com/adaltas/node-csv</p>"},{"location":"new-third-part-lib/csv/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<p>\u94fe\u5f0f\u7f16\u7a0b\uff0c\u7528\u4e8e nodeJS \u8f93\u5165\u8f93\u51fa\u89e3\u6790 csv \u6587\u4ef6</p> <pre><code>// Import the package main module\nconst csv = require('csv')\n// Use the module\ncsv\n// Generate 20 records\n.generate({\n  delimiter: '|',\n  length: 20\n})\n// Parse the records\n.pipe(csv.parse({\n  delimiter: '|'\n}))\n// Transform each value into uppercase\n.pipe(csv.transform(function(record){\n   return record.map(function(value){\n     return value.toUpperCase()\n   });\n}))\n// Convert the object into a stream\n.pipe(csv.stringify({\n  quoted: true\n}))\n// Print the CSV stream to stdout\n.pipe(process.stdout)\n</code></pre>"},{"location":"new-third-part-lib/csv/#_5","title":"\u5176\u4ed6","text":"<p>\u6709\u4e0b\u9762\u56db\u4e2a\u5b50\u5e93\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e00\u90e8\u5206</p> <p>csv-generate</p> <p>Write random and user-defined strings, objects and arrays</p> <p>csv-parse</p> <p>Read CSV strings and buffers and write object and arrays</p> <p>stream-transform</p> <p>Read and write objects and arrays</p> <p>csv-stringify</p> <p>Read object and arrays and write CSV strings</p>"},{"location":"new-third-part-lib/date-format/","title":"257 date-format","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 417  \u9605\u8bfb1\u5206\u949f</p>"},{"location":"new-third-part-lib/date-format/#_1","title":"\u7528\u9014","text":"<p>NodeJS \u4e2d\u5427\u65e5\u671f\u5bf9\u8c61\u8f6c\u6362\u6210\u5b57\u7b26\u4e32\u7684\u5de5\u5177</p>"},{"location":"new-third-part-lib/date-format/#_2","title":"\u53ef\u9760\u6027","text":"<p>50\u9897\u661f\uff0c\u4f7f\u7528300\u4e07</p>"},{"location":"new-third-part-lib/date-format/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://github.com/nomiddlename/date-format</p> <p>https://www.npmjs.com/package/date-format</p>"},{"location":"new-third-part-lib/date-format/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>var format = require('date-format');\nformat(); //defaults to ISO8601 format and current date.\nformat(new Date());\nformat('hh:mm:ss.SSS', new Date());\n</code></pre>"},{"location":"new-third-part-lib/date-format/#_5","title":"\u5176\u4ed6","text":""},{"location":"new-third-part-lib/dayjs/","title":"Dayjs","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3425  \u9605\u8bfb7\u5206\u949f</p> <p>\u5468\u4e0b\u8f7d\u91cf 750\u4e07</p> <p>\u661f\u661f 38K</p> <p>\u5b98\u7f51\u94fe\u63a5\uff1ahttps://dayjs.fenxianglu.cn/category/</p>"},{"location":"new-third-part-lib/dayjs/#_1","title":"\u7b80\u4ecb","text":"<p>Day.js \u662f\u4e00\u4e2a\u6781\u7b80\u7684 JavaScript \u5e93\uff0c\u5b83\u89e3\u6790\u3001\u9a8c\u8bc1\u3001\u64cd\u4f5c\u548c\u663e\u793a\u73b0\u4ee3\u6d4f\u89c8\u5668\u7684\u65e5\u671f\u548c\u65f6\u95f4\uff0c\u5177\u6709\u5f88\u5927\u7a0b\u5ea6\u4e0a\u4e0e Moment.js \u517c\u5bb9\u7684 API\u3002 \u5982\u679c\u60a8\u4f7f\u7528 Moment.js\uff0c\u90a3\u4e48\u60a8\u5df2\u7ecf\u77e5\u9053\u5982\u4f55\u4f7f\u7528 Day.js\u3002</p> <p>\u56e0\u4e3a Moment \u5e93\u592a\u5927\u4e86\uff0c\u4f1a\u8ba9\u6253\u5305\u540e\u7684\u4ee3\u7801\u4f53\u79ef\u8fc7\u5927\uff0c\u6240\u4ee5\u4f7f\u7528 DayJS \uff082kb\uff09\u6765\u4ee3\u66ff Moment\u3002</p> <p>\u4e3b\u8981\u7684\u7279\u70b9\uff1a</p> <pre><code>dayjs().startOf('month').add(1, 'day').set('year', 2018).format('YYYY-MM-DD HH:mm:ss');\n</code></pre> <ul> <li>\ud83d\udd52 Familiar Moment.js API &amp; patterns \u4e0e moment API\u76f8\u4f3c\uff0c\u4f7f\u7528\u65b9\u4fbf</li> <li>\ud83d\udcaa Immutable \u4e0d\u53ef\u66f4\u6539\u6570\u636e</li> <li>\ud83d\udd25 Chainable \u51fd\u6570\u94fe\u5f0f\u8c03\u7528</li> <li>\ud83c\udf10 I18n support \u652f\u6301\u56fd\u9645\u5316</li> <li>\ud83d\udce6 2kb mini library \u4ee3\u7801\u4f53\u79ef\u5c0f</li> <li>\ud83d\udc6b All browsers supported \u652f\u6301\u5168\u90e8\u4e3b\u6d41\u6d4f\u89c8\u5668</li> </ul>"},{"location":"new-third-part-lib/dayjs/#api","title":"API","text":"<p>It's easy to use Day.js APIs to parse, validate, manipulate, and display dates and times. \u89e3\u6790\u3001\u5904\u7406\u3001\u6821\u9a8c\u3001\u589e\u51cf\u3001\u5c55\u793a\u65f6\u95f4\u548c\u65e5\u671f</p> <pre><code>dayjs('2018-08-08') // parse \u89e3\u6790\u65f6\u95f4\u5b57\u7b26\u4e32\uff08\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u65f6\u95f4\u5bf9\u8c61\uff09\n\ndayjs().format('{YYYY} MM-DDTHH:mm:ss SSS [Z] A') // display \u5c55\u793a\uff08\u65f6\u95f4\u5bf9\u8c61\u8f6c\u6362\u6210\u89c4\u5b9a\u683c\u5f0f\u5b57\u7b26\u4e32\uff09\n\ndayjs().set('month', 3).month() // get &amp; set \u83b7\u53d6\uff0c\u8bbe\u7f6e\uff08\u83b7\u53d6\u65f6\u95f4\u5bf9\u8c61\u7684\u6708\uff0c\u6216\u8005\u6539\u53d8\u6708\uff09\n\ndayjs().add(1, 'year') // manipulate \u589e\u51cf\uff08\u65f6\u95f4\u5bf9\u8c61\u589e\u51cf\uff09\n\ndayjs().isBefore(dayjs()) // query \u67e5\u8be2\u6bd4\u8f83 \uff08\u5224\u65ad\u4e24\u4e2a\u65f6\u95f4\uff09\n</code></pre> <p>\ud83d\udcdaAPI Reference</p>"},{"location":"new-third-part-lib/dayjs/#i18n","title":"I18n","text":"<p>Day.js has great support for internationalization. But none of them will be included in your build unless you use it.Day.js \u652f\u6301\u56fd\u9645\u5316\u3002\u4f46\u9664\u975e\u624b\u52a8\u52a0\u8f7d\uff0c\u591a\u56fd\u8bed\u8a00\u9ed8\u8ba4\u662f\u4e0d\u4f1a\u88ab\u6253\u5305\u5230\u5de5\u7a0b\u91cc\u7684\u3002</p> <pre><code>import 'dayjs/locale/es' // load on demand \u6309\u9700\u52a0\u8f7d\n\ndayjs.locale('es') // use Spanish locale globally \u5168\u5c40\u4f7f\u7528\u897f\u73ed\u7259\u8bed\u683c\u5f0f\n\ndayjs('2018-05-05').locale('zh-cn').format()\n// use Chinese Simplified locale in a specific instance \u5728\u8fd9\u4e2a\u7279\u6b8a\u6848\u4f8b\u4e2d\u4f7f\u7528\u4e2d\u6587\u683c\u5f0f\n</code></pre> <p>\ud83d\udcdaInternationalization</p>"},{"location":"new-third-part-lib/dayjs/#plugin","title":"Plugin","text":"<p>A plugin is an independent module that can be added to Day.js to extend functionality or add new features.</p> <p>\u63d2\u4ef6\u662f\u4e00\u4e9b\u72ec\u7acb\u7684\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u7ed9 Day.js \u589e\u52a0\u65b0\u529f\u80fd\u548c\u6269\u5c55\u5df2\u6709\u529f\u80fd</p> <p>\u63d2\u4ef6\u53ef\u4ee5\u4f7f\u6838\u5fc3\u5305\u4f53\u79ef\u51cf\u5c0f\uff0c\u6839\u636e\u7279\u5b9a\u9700\u6c42\u5904\u7406\uff08\u65f6\u95f4\u683c\u5f0f\u5316\u56fd\u9645\u5316\u5360\u7528\u6bd4\u8f83\u591a\uff09</p> <pre><code>import advancedFormat from 'dayjs/plugin/advancedFormat' // load on demand \u6309\u9700\u52a0\u8f7d\n\ndayjs.extend(advancedFormat) // use plugin \u4f7f\u7528\u683c\u5f0f\n\ndayjs().format('Q Do k kk X x') // more available formats\n</code></pre>"},{"location":"new-third-part-lib/dayjs/#_2","title":"\u7ec3\u4e60","text":"<pre><code>// npm istall dayjs\nimport dayjs from 'dayjs';\n\n// \u57fa\u672c\u8bed\u6cd5\nlet now = dayjs();\nlet day1 = dayjs('2018-04-04T16:00:00.000');\nlet dayStr = dayjs().format('YYYY-MM-DD');\nlet dayMonth = dayjs().set('month', 3).month();\ndayjs().add(1, 'month');\ndayjs().isBefore(dayjs());\n\n// \u56fd\u9645\u5316\nimport 'dayjs/locale/es';\nimport 'dayjs/locale/zh-cn';\n\ndayjs.locale('es');\ndayjs('2022-01-01').locale('zh-cn').format('YYYY-MM-DD');\n</code></pre>"},{"location":"new-third-part-lib/dayjs/#_3","title":"\u6ce8\u610f\u4e8b\u9879","text":"<p>\u5b9e\u9645\u9879\u76ee\u4e2d\u95ee\u9898\uff1a\u5982\u679cAB\u9879\u76ee\u4f9d\u8d56\u4e86\u4e0d\u540c\u7248\u672c\u7684 react-calendar dayjs\uff0c\u7136\u540e AB \u5f15\u7528\uff0c\u53ef\u80fd\u9020\u6210\u7ffb\u8bd1\u4e0d\u6b63\u786e\u3002\u539f\u56e0\u662f\uff0c\u4e0d\u540c\u7248\u672c\u7684 dayjs \u4f1a\u91cd\u65b0\u521b\u5efa\u5bf9\u8c61\uff0c\u9020\u6210\u65e5\u671f\u683c\u5f0f\u4e22\u5931\u3002\u5982\u679cAB\u9879\u76ee\u53ef\u63a7\uff0c\u6700\u597d\u90fd\u4f7f\u7528\u76f8\u540c\u7684\u7a33\u5b9a\u7248\u672c\u3002</p>"},{"location":"new-third-part-lib/debug/","title":"100 debug","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 14040  \u9605\u8bfb29\u5206\u949f</p>"},{"location":"new-third-part-lib/debug/#_1","title":"\u7528\u9014","text":"<p>Nodejs \u4e2d\u6253\u5370\u65e5\u5fd7\uff0c\u4e5f\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5370\u65e5\u5fd7</p> <p>\u9ed8\u8ba4\u7684 console.log \u53ea\u80fd\u6253\u5370\u9519\u8bef\u4fe1\u606f\u548c\u62a5\u9519\u884c\u6570\uff0cdebug \u53ef\u4ee5\u6253\u5370\u5177\u4f53\u7684\u6a21\u5757\uff0c\u53ef\u4ee5\u663e\u793a\u4e0d\u540c\u7684\u989c\u8272\u548c\u6837\u5f0f</p>"},{"location":"new-third-part-lib/debug/#_2","title":"\u53ef\u9760\u6027","text":"<p>github 9000\u661f \u5468\u4e0b\u8f7d\u4e0a\u4ebf\uff0c\u53ef\u4ee5\u653e\u5fc3\u4f7f\u7528</p>"},{"location":"new-third-part-lib/debug/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://github.com/visionmedia/debug</p> <p>https://www.npmjs.com/package/debug</p>"},{"location":"new-third-part-lib/debug/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>var a = require('debug')('worker:a');\nvar b = require('debug')('worker:b');\n\nfunction work() {\n  a('doing lots of uninteresting work');\n  setTimeout(work, Math.random() * 1000);\n}\n\nwork();\n\nfunction workb() {\n  b('doing some work');\n  setTimeout(workb, Math.random() * 2000);\n}\n\nworkb();\n</code></pre> <p>\u5728 node \u4e2d\u6267\u884c\u540e\uff0c\u53ef\u4ee5\u5206\u522b\u6253\u5370\u4e24\u4e2a\u6a21\u5757\u7684\u65e5\u5fd7\uff08\u907f\u514d\u65e5\u5fd7\u6df7\u4e71\uff0c\u4fbf\u4e8e\u6392\u67e5\u95ee\u9898\u7b49\uff09</p>"},{"location":"new-third-part-lib/debug/#_5","title":"\u5176\u4ed6","text":""},{"location":"new-third-part-lib/debug/#debug","title":"debug","text":""},{"location":"new-third-part-lib/debug/#version","title":"version","text":"<p>4.3.5\u00a0 </p>"},{"location":"new-third-part-lib/debug/#downloads","title":"downloads","text":"<p>270,337,657 </p>"},{"location":"new-third-part-lib/debug/#repository","title":"repository","text":"<p>github.com/debug-js/debug </p>"},{"location":"new-third-part-lib/debug/#homepage","title":"homepage","text":"<p>github.com/debug-js/debug#readme </p>"},{"location":"new-third-part-lib/debug/#debug_1","title":"debug","text":"<p>A tiny JavaScript debugging utility modelled after Node.js core's debugging technique. Works in Node.js and web browsers.</p>"},{"location":"new-third-part-lib/debug/#installation","title":"Installation","text":"<p>\u200b    </p> <pre><code>$ npm install debug\n</code></pre>"},{"location":"new-third-part-lib/debug/#usage","title":"Usage","text":"<p><code>debug</code> exposes a function; simply pass this function the name of your module, and it will return a decorated version of <code>console.error</code> for you to pass debug statements to. This will allow you to toggle the debug output for different parts of your module as well as the module as a whole.</p> <p>Example app.js:</p> <p>\u200b    </p> <pre><code>var debug = require('debug')('http')\n  , http = require('http')\n  , name = 'My App';\n\n// fake app\n\ndebug('booting %o', name);\n\nhttp.createServer(function(req, res){\n  debug(req.method + ' ' + req.url);\n  res.end('hello\\n');\n}).listen(3000, function(){\n  debug('listening');\n});\n\n// fake worker of some kind\n\nrequire('./worker');\n</code></pre> <p>Example worker.js:</p> <p>\u200b    </p> <pre><code>var a = require('debug')('worker:a')\n  , b = require('debug')('worker:b');\n\nfunction work() {\n  a('doing lots of uninteresting work');\n  setTimeout(work, Math.random() * 1000);\n}\n\nwork();\n\nfunction workb() {\n  b('doing some work');\n  setTimeout(workb, Math.random() * 2000);\n}\n\nworkb();\n</code></pre> <p>The <code>DEBUG</code> environment variable is then used to enable these based on space or comma-delimited names.</p> <p>Here are some examples:</p> <p></p> <p></p> <p></p>"},{"location":"new-third-part-lib/debug/#windows-command-prompt-notes","title":"Windows command prompt notes","text":""},{"location":"new-third-part-lib/debug/#cmd","title":"CMD","text":"<p>On Windows the environment variable is set using the <code>set</code> command.</p> <p>\u200b    </p> <pre><code>set DEBUG=*,-not_this\n</code></pre> <p>Example:</p> <p>\u200b    </p> <pre><code>set DEBUG=* &amp; node app.js\n</code></pre>"},{"location":"new-third-part-lib/debug/#powershell-vs-code-default","title":"PowerShell (VS Code default)","text":"<p>PowerShell uses different syntax to set environment variables.</p> <p>\u200b    </p> <pre><code>$env:DEBUG = \"*,-not_this\"\n</code></pre> <p>Example:</p> <p>\u200b    </p> <pre><code>$env:DEBUG='app';node app.js\n</code></pre> <p>Then, run the program to be debugged as usual.</p> <p>npm script example:</p> <p>\u200b    </p> <pre><code>  \"windowsDebug\": \"@powershell -Command $env:DEBUG='*';node app.js\",\n</code></pre>"},{"location":"new-third-part-lib/debug/#namespace-colors","title":"Namespace Colors","text":"<p>Every debug instance has a color generated for it based on its namespace name. This helps when visually parsing the debug output to identify which debug instance a debug line belongs to.</p>"},{"location":"new-third-part-lib/debug/#nodejs","title":"Node.js","text":"<p>In Node.js, colors are enabled when stderr is a TTY. You also should install the <code>supports-color</code> module alongside debug, otherwise debug will only use a small handful of basic colors.</p> <p></p>"},{"location":"new-third-part-lib/debug/#web-browser","title":"Web Browser","text":"<p>Colors are also enabled on \"Web Inspectors\" that understand the <code>%c</code> formatting option. These are WebKit web inspectors, Firefox (since version 31) and the Firebug plugin for Firefox (any version).</p> <p></p>"},{"location":"new-third-part-lib/debug/#millisecond-diff","title":"Millisecond diff","text":"<p>When actively developing an application it can be useful to see when the time spent between one <code>debug()</code> call and the next. Suppose for example you invoke <code>debug()</code> before requesting a resource, and after as well, the \"+NNNms\" will show you how much time was spent between calls.</p> <p></p> <p>When stdout is not a TTY, <code>Date#toISOString()</code> is used, making it more useful for logging the debug information as shown below:</p> <p></p>"},{"location":"new-third-part-lib/debug/#conventions","title":"Conventions","text":"<p>If you're using this in one or more of your libraries, you should use the name of your library so that developers may toggle debugging as desired without guessing names. If you have more than one debuggers you should prefix them with your library name and use \":\" to separate features. For example \"bodyParser\" from Connect would then be \"connect:bodyParser\". If you append a \"*\" to the end of your name, it will always be enabled regardless of the setting of the DEBUG environment variable. You can then use it for normal output as well as debug output.</p>"},{"location":"new-third-part-lib/debug/#wildcards","title":"Wildcards","text":"<p>The <code>*</code> character may be used as a wildcard. Suppose for example your library has debuggers named \"connect:bodyParser\", \"connect:compress\", \"connect:session\", instead of listing all three with <code>DEBUG=connect:bodyParser,connect:compress,connect:session</code>, you may simply do <code>DEBUG=connect:*</code>, or to run everything using this module simply use <code>DEBUG=*</code>.</p> <p>You can also exclude specific debuggers by prefixing them with a \"-\" character. For example, <code>DEBUG=*,-connect:*</code> would include all debuggers except those starting with \"connect:\".</p>"},{"location":"new-third-part-lib/debug/#environment-variables","title":"Environment Variables","text":"<p>When running through Node.js, you can set a few environment variables that will change the behavior of the debug logging:</p> Name Purpose <code>DEBUG</code> Enables/disables specific debugging namespaces. <code>DEBUG_HIDE_DATE</code> Hide date from debug output (non-TTY). <code>DEBUG_COLORS</code> Whether or not to use colors in the debug output. <code>DEBUG_DEPTH</code> Object inspection depth. <code>DEBUG_SHOW_HIDDEN</code> Shows hidden properties on inspected objects. <p>Note: The environment variables beginning with <code>DEBUG_</code> end up being converted into an Options object that gets used with <code>%o</code>/<code>%O</code> formatters. See the Node.js documentation for <code>util.inspect()</code> for the complete list.</p>"},{"location":"new-third-part-lib/debug/#formatters","title":"Formatters","text":"<p>Debug uses printf-style formatting. Below are the officially supported formatters:</p> Formatter Representation <code>%O</code> Pretty-print an Object on multiple lines. <code>%o</code> Pretty-print an Object all on a single line. <code>%s</code> String. <code>%d</code> Number (both integer and float). <code>%j</code> JSON. Replaced with the string '[Circular]' if the argument contains circular references. <code>%%</code> Single percent sign ('%'). This does not consume an argument."},{"location":"new-third-part-lib/debug/#custom-formatters","title":"Custom formatters","text":"<p>You can add custom formatters by extending the <code>debug.formatters</code> object. For example, if you wanted to add support for rendering a Buffer as hex with <code>%h</code>, you could do something like:</p> <p>\u200b    </p> <pre><code>const createDebug = require('debug')\ncreateDebug.formatters.h = (v) =&gt; {\n  return v.toString('hex')\n}\n\n// \u2026elsewhere\nconst debug = createDebug('foo')\ndebug('this is hex: %h', new Buffer('hello world'))\n//   foo this is hex: 68656c6c6f20776f726c6421 +0ms\n</code></pre>"},{"location":"new-third-part-lib/debug/#browser-support","title":"Browser Support","text":"<p>You can build a browser-ready script using browserify, or just use the browserify-as-a-service build, if you don't want to build it yourself.</p> <p>Debug's enable state is currently persisted by <code>localStorage</code>. Consider the situation shown below where you have <code>worker:a</code> and <code>worker:b</code>, and wish to debug both. You can enable this using <code>localStorage.debug</code>:</p> <p>\u200b    </p> <pre><code>localStorage.debug = 'worker:*'\n</code></pre> <p>And then refresh the page.</p> <p>\u200b    </p> <pre><code>a = debug('worker:a');\nb = debug('worker:b');\n\nsetInterval(function(){\n  a('doing some work');\n}, 1000);\n\nsetInterval(function(){\n  b('doing some work');\n}, 1200);\n</code></pre> <p>In Chromium-based web browsers (e.g. Brave, Chrome, and Electron), the JavaScript console will\u2014by default\u2014only show messages logged by <code>debug</code> if the \"Verbose\" log level is enabled.</p> <p></p>"},{"location":"new-third-part-lib/debug/#output-streams","title":"Output streams","text":"<p>By default <code>debug</code> will log to stderr, however this can be configured per- namespace by overriding the <code>log</code> method:</p> <p>Example stdout.js:</p> <p>\u200b    </p> <pre><code>var debug = require('debug');\nvar error = debug('app:error');\n\n// by default stderr is used\nerror('goes to stderr!');\n\nvar log = debug('app:log');\n// set this namespace to log via console.log\nlog.log = console.log.bind(console); // don't forget to bind to console!\nlog('goes to stdout');\nerror('still goes to stderr!');\n\n// set all output to go via console.info\n// overrides all per-namespace log settings\ndebug.log = console.info.bind(console);\nerror('now goes to stdout via console.info');\nlog('still goes to stdout, but via console.info now');\n</code></pre>"},{"location":"new-third-part-lib/debug/#extend","title":"Extend","text":"<p>You can simply extend debugger</p> <p>\u200b    </p> <pre><code>const log = require('debug')('auth');\n\n//creates new debug instance with extended namespace\nconst logSign = log.extend('sign');\nconst logLogin = log.extend('login');\n\nlog('hello'); // auth hello\nlogSign('hello'); //auth:sign hello\nlogLogin('hello'); //auth:login hello\n</code></pre>"},{"location":"new-third-part-lib/debug/#set-dynamically","title":"Set dynamically","text":"<p>You can also enable debug dynamically by calling the <code>enable()</code> method :</p> <p>\u200b    </p> <pre><code>let debug = require('debug');\n\nconsole.log(1, debug.enabled('test'));\n\ndebug.enable('test');\nconsole.log(2, debug.enabled('test'));\n\ndebug.disable();\nconsole.log(3, debug.enabled('test'));\n</code></pre> <p>print :</p> <p>\u200b    </p> <pre><code>1 false\n2 true\n3 false\n</code></pre> <p>Usage : <code>enable(namespaces)</code> <code>namespaces</code> can include modes separated by a colon and wildcards.</p> <p>Note that calling <code>enable()</code> completely overrides previously set DEBUG variable :</p> <p>\u200b    </p> <pre><code>$ DEBUG=foo node -e 'var dbg = require(\"debug\"); dbg.enable(\"bar\"); console.log(dbg.enabled(\"foo\"))'\n=&gt; false\n</code></pre> <p><code>disable()</code></p> <p>Will disable all namespaces. The functions returns the namespaces currently enabled (and skipped). This can be useful if you want to disable debugging temporarily without knowing what was enabled to begin with.</p> <p>For example:</p> <p>\u200b    </p> <pre><code>let debug = require('debug');\ndebug.enable('foo:*,-foo:bar');\nlet namespaces = debug.disable();\ndebug.enable(namespaces);\n</code></pre> <p>Note: There is no guarantee that the string will be identical to the initial enable string, but semantically they will be identical.</p>"},{"location":"new-third-part-lib/debug/#checking-whether-a-debug-target-is-enabled","title":"Checking whether a debug target is enabled","text":"<p>After you've created a debug instance, you can determine whether or not it is enabled by checking the <code>enabled</code> property:</p> <p>\u200b    </p> <pre><code>const debug = require('debug')('http');\n\nif (debug.enabled) {\n  // do stuff...\n}\n</code></pre> <p>You can also manually toggle this property to force the debug instance to be enabled or disabled.</p>"},{"location":"new-third-part-lib/debug/#usage-in-child-processes","title":"Usage in child processes","text":"<p>Due to the way <code>debug</code> detects if the output is a TTY or not, colors are not shown in child processes when <code>stderr</code> is piped. A solution is to pass the <code>DEBUG_COLORS=1</code> environment variable to the child process. For example:</p> <p>\u200b    </p> <pre><code>worker = fork(WORKER_WRAP_PATH, [workerPath], {\n  stdio: [\n    /* stdin: */ 0,\n    /* stdout: */ 'pipe',\n    /* stderr: */ 'pipe',\n    'ipc',\n  ],\n  env: Object.assign({}, process.env, {\n    DEBUG_COLORS: 1 // without this settings, colors won't be shown\n  }),\n});\n\nworker.stderr.pipe(process.stderr, { end: false });\n</code></pre>"},{"location":"new-third-part-lib/debug/#authors","title":"Authors","text":"<ul> <li>TJ Holowaychuk</li> <li>Nathan Rajlich</li> <li>Andrew Rhyne</li> <li>Josh Junon</li> </ul>"},{"location":"new-third-part-lib/deep-copy/","title":"006 deep-copy","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1369  \u9605\u8bfb3\u5206\u949f</p>"},{"location":"new-third-part-lib/deep-copy/#_1","title":"\u7528\u9014","text":"<p>\u6df1\u590d\u5236\u5bf9\u8c61\u548c\u6570\u7ec4</p>"},{"location":"new-third-part-lib/deep-copy/#_2","title":"\u53ef\u9760\u6027","text":"<p>github \u4e0a\u9762 34\u4e2a\u661f\u53f7\uff0c\u6bcf\u5468\u4e0b\u8f7d\u8d85\u51fa 10 \u4e07\u3002\u8fd9\u4e2a\u4f7f\u7528\u9700\u8981\u8003\u8651\u3002</p>"},{"location":"new-third-part-lib/deep-copy/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/deep-copy</p> <p>https://github.com/simov/deep-copy</p>"},{"location":"new-third-part-lib/deep-copy/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<p>\u4f7f\u7528\u7b80\u5355\uff0c\u76f4\u63a5\u4f20\u5165\u5bf9\u8c61\u6216\u8005\u6570\u7ec4\uff0c\u7136\u540e\u8fd4\u56de\u6df1\u62f7\u8d1d\u7684\u5bf9\u8c61\u548c\u6570\u7ec4</p> <pre><code>var dcopy = require('deep-copy')\n\n// deep copy object\nvar copy = dcopy({a: {b: [{c: 5}]}})\n\n// deep copy array\nvar copy = dcopy([1, 2, {a: {b: 5}}])\n</code></pre>"},{"location":"new-third-part-lib/deep-copy/#_5","title":"\u5176\u4ed6","text":"<p>\u590d\u6742\u7684\u5bf9\u8c61\u548c\u6570\u7ec4\uff0c\u6df1\u62f7\u8d1d\u540e\u5360\u7528\u5185\u5b58\u8f83\u5927\u3002\u5982\u679c\u6570\u636e\u91cf\u8f83\u5927\uff0c\u9700\u8981\u8003\u8651\u6027\u80fd\u95ee\u9898\uff0c\u662f\u5426\u6709\u5fc5\u8981\u6df1\u62f7\u8d1d\u6574\u4e2a\u6570\u7ec4\u6216\u8005\u5bf9\u8c61\u3002</p>"},{"location":"new-third-part-lib/deep-copy/#deepcopy","title":"deepcopy \uff08\u7c7b\u4f3c\u7684\u5e93\uff09","text":"<p>\u8fd8\u6709\u4e00\u4e2a deepcopy \u7c7b\u4f3c\uff0c\u6682\u65f6\u5148\u653e\u5728\u4e0b\u9762</p>"},{"location":"new-third-part-lib/deep-copy/#_6","title":"\u7528\u9014","text":"<p>\u590d\u5236\u6570\u636e\uff08\u5404\u79cd\u6570\u636e\u7c7b\u578b\u6df1\u62f7\u8d1d\uff0c\u652f\u6301\u81ea\u5b9a\u4e49\u62f7\u8d1d\u7b49\uff0carrayBuffer\uff0cdataView\uff09</p>"},{"location":"new-third-part-lib/deep-copy/#_7","title":"\u53ef\u9760\u6027","text":"<p>119 \u9897\u661f\uff0c\u6bcf\u5468\u4e0b\u8f7d 15\u4e07\uff0c\u8fd9\u4e2a\u4f7f\u7528\u9700\u8981\u8003\u8651\u3002</p>"},{"location":"new-third-part-lib/deep-copy/#_8","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/deepcopy</p> <p>https://github.com/sasaplus1/deepcopy.js</p> <p>https://sasaplus1.github.io/deepcopy.js/benchmark</p>"},{"location":"new-third-part-lib/deep-copy/#_9","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>const src = {\n  desserts: [\n    { name: 'cake'      },\n    { name: 'ice cream' },\n    { name: 'pudding'   }\n  ]\n};\n\nconst dist = deepcopy(src);\nsrc.desserts = null;\nconsole.log(dist);\n</code></pre>"},{"location":"new-third-part-lib/deep-copy/#_10","title":"\u5176\u4ed6","text":"<p>\u8fd9\u4e2a\u540c\u6837\u5b58\u5728\u6027\u80fd\u95ee\u9898</p>"},{"location":"new-third-part-lib/detect-character-encoding/","title":"258 detect-character-encoding","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 532  \u9605\u8bfb2\u5206\u949f</p>"},{"location":"new-third-part-lib/detect-character-encoding/#_1","title":"\u7528\u9014","text":"<p>Detect character encoding using ICU</p>"},{"location":"new-third-part-lib/detect-character-encoding/#_2","title":"\u53ef\u9760\u6027","text":"<p>73\u661f\u661f\uff0c\u4e0b\u8f7d 2000\uff0c\u5c3d\u91cf\u4e0d\u4f7f\u7528</p>"},{"location":"new-third-part-lib/detect-character-encoding/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://github.com/sonicdoe/detect-character-encoding</p>"},{"location":"new-third-part-lib/detect-character-encoding/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>const fs = require('fs');\nconst detectCharacterEncoding = require('detect-character-encoding');\n\nconst fileBuffer = fs.readFileSync('file.txt');\nconst charsetMatch = detectCharacterEncoding(fileBuffer);\n\nconsole.log(charsetMatch);\n// {\n//   encoding: 'UTF-8',\n//   confidence: 60\n// }\n</code></pre>"},{"location":"new-third-part-lib/detect-character-encoding/#_5","title":"\u5176\u4ed6","text":""},{"location":"new-third-part-lib/dir/","title":"\u524d\u7aef\u5e38\u7528\u7b2c\u4e09\u65b9\u5e93\u4ecb\u7ecd","text":"<p>\u8fd9\u662f\u5e38\u7528\u7684\u7b2c\u4e09\u65b9\u5e93\u8bf4\u660e</p> <p>\u6ce8\u610f\u4e8b\u9879\uff1a\u7b2c\u4e09\u65b9\u5e93\u6ce8\u610f\u7248\u672c\u5dee\u5f02\u3002\u4f8b\u5982 react-dnd \u5f53\u524d\u5df2\u7ecf\u662f8\uff0c\u5b9e\u9645\u9879\u76ee\u4f7f\u7528 2\u3002react-qrcode \u5f53\u524d\u7248\u672c\u662f3\uff0c\u5b9e\u9645\u9879\u76ee\u4f7f\u75281\u3002\u90a3\u4e48\u5b98\u65b9\u6587\u6863\u548c\u5b9e\u9645 API \u5c31\u5bf9\u4e0d\u4e0a\u4e86\uff0c\u9700\u8981\u6ce8\u610f\uff01</p> <p>\u67e5\u9605\u5df2\u6709\u7b14\u8bb0\u548c\u5176\u4ed6\u6587\u6863\u65f6\uff0c\u4e5f\u9700\u8981\u6ce8\u610f\u7248\u672c\u5bf9\u5e94\u3002</p> <p>\u56e0\u4e3a\u79cd\u79cd\u539f\u56e0\uff0c\u5b9e\u9645\u9879\u76ee\u4f7f\u7528\u7684\u7248\u672c\uff0c\u4e0d\u4e00\u5b9a\u662f\u7a33\u5b9a\u7248\uff0c\u4e0d\u4e00\u5b9a\u662f\u6700\u65b0\u7248\uff08\u4e0d\u540c\u5e93\u7684\u517c\u5bb9\u95ee\u9898\u7b49\uff0c\u66f4\u65b0\u6700\u65b0\u7248\u540e\u9700\u8981\u91cd\u6784\u4ee3\u7801\u7b49\uff09\uff0c\u6240\u4ee5\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u5206\u6790\u3002</p> <ul> <li> \u4e0d\u540c\u7684\u6587\u6863\u53ef\u4ee5\u5b8c\u5584\uff08\u4e2d\u6587\uff09</li> <li> \u6700\u597d\u6309\u7167\u4f7f\u7528\u9891\u7387\u6392\u5e8f</li> <li> \u5176\u4ed6\u6587\u6863\u53ef\u4ee5\u7edf\u4e00\u7ef4\u62a4\u5230\u8fd9\u91cc</li> </ul> <p>1 \u5e38\u7528\u7684\u7ec4\u4ef6\u5de5\u5177\u5e93\uff08reactstrap, lodash\uff09</p> <p>100 \u4e0d\u5e38\u7528\u5e93</p> <p>200 \u5f00\u53d1\u4f9d\u8d56\u7684\u5e93\uff08babel\uff09</p> <p>300-\u4e0d\u63a8\u8350\u7684\u5e93\uff08star \u8f83\u5c11\uff0c\u6216\u8005\u957f\u671f\u6ca1\u6709\u7ef4\u62a4\u7b49\uff09\u2014\u2014\u8fd9\u90e8\u5206\u76f4\u63a5\u5220\u9664\u5373\u53ef</p> <p>\u4e0b\u9762\u7684\u5e8f\u53f7\u53ef\u80fd\u6ca1\u6709\u66f4\u65b0</p> \u5e8f\u53f7 \u540d\u79f0 \u4f7f\u7528\u73af\u5883 \u4f7f\u7528\u9891\u7387 \u7528\u9014 \u5176\u4ed6\u8bf4\u660e 001 \"@antv/g2\": \"4.0.12\", \u751f\u4ea7 \u4e2d \u7edf\u8ba1\u56fe 002 \"react-image-lightbox\": \"0.0.9\", \u751f\u4ea7 \u4e2d \u591a\u5f20\u56fe\u7247\u9884\u89c8 003 \"antd-mobile\": \"^2.3.1\", \u751f\u4ea7 \u4e2d \u79fb\u52a8\u7aef UI \u7ec4\u4ef6\u5e93 \u6309\u9700\u52a0\u8f7d 004 \"autoprefixer\": \"^9.5.1\", \u751f\u4ea7 \u4e2d \u81ea\u52a8\u589e\u52a0 css \u524d\u7f00\uff0c\u517c\u5bb9\u4e0d\u540c\u7248\u672c\u6d4f\u89c8\u5668 \u4e0d\u540c\u9879\u76ee\u914d\u7f6e\u4e0d\u540c\u7684\u7248\u672c 005 \"axios\": \"^0.19.0\", \u751f\u4ea7 \u9ad8 \u53d1\u9001\u8bf7\u6c42\uff0c\u662f promise \u7684\u5c01\u88c5 \u529f\u80fd\u7ec4\u4ef6 006 \"deep-copy\": \"^1.4.2\", \u751f\u4ea7 \u9ad8 \u6df1\u62f7\u8d1d\u5f15\u7528\u7c7b\u578b\u53d8\u91cf \u529f\u80fd\u7ec4\u4ef6\uff0c\u5927\u91cf\u4f7f\u7528\u5b58\u5728\u6027\u80fd\u95ee\u9898 007 \"dom-helpers\": \"^5.1.3\", \u751f\u4ea7 \u4f4e \u517c\u5bb9 ie9 \u7684 DOM \u64cd\u4f5c\u65b9\u6cd5 008 \"glamor\": \"^2.20.40\", \u751f\u4ea7 \u4e2d css-in-js \u76f4\u63a5\u5728JS\u4e2d\u5199\u5165css\u7684\u6837\u5f0f 009 \"html2canvas\": \"^1.0.0-rc.7\", \u751f\u4ea7 \u4e2d HTML \u7f51\u9875\u8f6c\u6362\u6210\u622a\u56fe 010 \"i18next\": \"^17.0.13\", \u751f\u4ea7 \u4f4e \u7ffb\u8bd1 011 \"i18next-browser-languagedetector\": \"^3.0.3\", \u751f\u4ea7 \u4f4e \u7ffb\u8bd1\u63d2\u4ef6 012 \"i18next-xhr-backend\": \"^3.1.2\", \u751f\u4ea7 \u4f4e \u7ffb\u8bd1\uff08\u4ece\u540e\u7aef\u83b7\u53d6\u6570\u636e\uff09 013 \"is-hotkey\": \"^0.1.4\", \u751f\u4ea7 \u9ad8 \u952e\u76d8\u4e8b\u4ef6\u517c\u5bb9\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf 014 \"keymirror\": \"^0.1.1\", \u751f\u4ea7 \u4f4e \u521b\u5efa\u952e\u548c\u503c\u76f8\u7b49\u7684\u5bf9\u8c61 015 \"lodash.throttle\": \"4.1.1\", \u751f\u4ea7 \u9ad8 lodash \u7684\u8282\u6d41\u51fd\u6570\u63a5\u53e3 016 \"promise\": \"^8.0.3\", \u751f\u4ea7 \u4f4e \u6587\u4ef6\u4e0a\u4f20\u5f02\u6b65\u8f6c\u6362\u6210\u540c\u6b65\u64cd\u4f5c 017 \"qrcode.react\": \"^1.0.0\", \u751f\u4ea7 \u4e2d react \u4e8c\u7ef4\u7801\u751f\u6210\u5668 018 \"raf\": \"3.4.1\", \u751f\u4ea7 \u4e2d \u52a8\u753b\u6548\u679c 022 \"react-is-deprecated\": \"^0.1.2\", \u751f\u4ea7 \u4f4e \u5f03\u7528\u7684 proptypes 024 \"react-sweet-progress\": \"^1.1.2\", \u751f\u4ea7 \u4f4e \u8fdb\u5ea6\u6761\u7684UI\u7ec4\u4ef6 025 \"reactstrap\": \"8.9.0\", \u751f\u4ea7 \u9ad8 UI \u5e93 026 \"reselect\": \"^4.0.0\", \u751f\u4ea7 \u4f4e \u57fa\u4e8e redux \u7684\u9009\u62e9\u5668\u7ec4\u4ef6 027 \"ron-react-autocomplete\": \"^4.0.9\", \u751f\u4ea7 \u4f4e Autocomplete component for React. 028 \"shallowequal\": \"^1.1.0\", \u751f\u4ea7 \u4e2d \u6d45\u6bd4\u8f83\u4e24\u4e2a\u5bf9\u8c61\u662f\u5426\u76f8\u7b49 030 \"whatwg-fetch\": \"^3.0.0\" \u751f\u4ea7 \u4e2d window.fetch \u7684\u4fbf\u643a\u7248 031 \"@babel/cli\": \"^7.4.4\", \u5f00\u53d1 \u4f4e babel \u6267\u884c\u7684\u547d\u4ee4\u884c\u7684 CLI 032 \"@babel/plugin-proposal-class-properties\": \"^7.4.4\", \u5f00\u53d1 \u4f4e Below is a class with four class properties which will be transformed. This https://babeljs.io/docs/en/babel-plugin-proposal-class-properties 033 \"@babel/plugin-proposal-export-default-from\": \"^7.5.2\", \u5f00\u53d1 \u4f4e Compile export default to ES2015 https://babeljs.io/docs/en/babel-plugin-proposal-export-default-from 034 \"@babel/plugin-proposal-export-namespace-from\": \"^7.5.2\", \u5f00\u53d1 \u4f4e Compile export namespace to ES2015 https://babeljs.io/docs/en/babel-plugin-proposal-export-namespace-from 035 \"@babel/plugin-proposal-object-rest-spread\": \"^7.5.2\", \u5f00\u53d1 \u4f4e Compile object rest and spread to ES5 https://babeljs.io/docs/en/babel-plugin-proposal-object-rest-spread 036 \"@babel/plugin-transform-member-expression-literals\": \"^7.2.0\", \u5f00\u53d1 \u4f4e Ensure that reserved words are quoted in property accesses https://babeljs.io/docs/en/babel-plugin-transform-member-expression-literals 037 \"@babel/plugin-transform-property-literals\": \"^7.2.0\", \u5f00\u53d1 \u4f4e Ensure that reserved words are quoted in object property keys https://babeljs.io/docs/en/babel-plugin-transform-property-literals 038 \"@babel/plugin-transform-runtime\": \"^7.4.4\", \u5f00\u53d1 \u4f4e Externalise references to helpers and builtins, automatically polyfilling your code without polluting globals https://babeljs.io/docs/en/babel-plugin-transform-runtime 039 \"@babel/preset-env\": \"^7.4.5\", \u5f00\u53d1 \u4f4e babel \u9884\u8bbe\u7f16\u8bd1\u540e\u7684JS\u4ee3\u7801\u7684\u73af\u5883 040 \"@babel/preset-react\": \"^7.0.0\", \u5f00\u53d1 \u4f4e babel \u7f16\u8bd1 react \u9884\u8bbe\u7684\u5e93 041 \"@svgr/webpack\": \"4.1.0\", \u5f00\u53d1 \u4f4e svg \u6587\u4ef6loader https://www.npmjs.com/package/@svgr/webpack 044 \"babel-eslint\": \"10.0.1\", \u5f00\u53d1 \u4e2d babel \u4ee3\u7801\u89c4\u8303\u68c0\u67e5 https://www.npmjs.com/package/eslint-plugin-babel 045 \"babel-jest\": \"^24.8.0\", \u5f00\u53d1 \u4f4e Babel jest plugin https://www.npmjs.com/package/babel-jest 046 \"babel-loader\": \"8.0.5\", \u5f00\u53d1 \u9ad8 This package allows transpiling JavaScript files using Babel and webpack. https://www.npmjs.com/package/babel-loader 047 \"babel-plugin-named-asset-import\": \"^0.3.2\", \u5f00\u53d1 \u4f4e babel \u63d2\u4ef6 048 \"babel-preset-react-app\": \"^9.0.0\", \u5f00\u53d1 \u4e2d This package includes the Babel preset used by Create React App. https://www.npmjs.com/package/babel-preset-react-app 049 \"camelcase\": \"^5.2.0\", \u5f00\u53d1 \u4e2d Convert a dash/dot/underscore/space separated string to camelCase or PascalCase: foo-bar \u2192 fooBar https://www.npmjs.com/package/camelcase 050 \"case-sensitive-paths-webpack-plugin\": \"2.2.0\", \u5f00\u53d1 \u4e2d \u8fd9\u4e2a Webpack \u63d2\u4ef6\u5f3a\u5236\u6240\u6709\u5fc5\u9700\u6a21\u5757\u7684\u6574\u4e2a\u8def\u5f84\u4e0e\u78c1\u76d8\u4e0a\u5b9e\u9645\u8def\u5f84\u7684\u786e\u5207\u5927\u5c0f\u5199\u5339\u914d\u3002 \u4f7f\u7528\u6b64\u63d2\u4ef6\u6709\u52a9\u4e8e\u7f13\u89e3\u5728 OSX \u4e0a\u5de5\u4f5c\u7684\u5f00\u53d1\u4eba\u5458\uff08\u4e0d\u9075\u5faa\u4e25\u683c\u7684\u8def\u5f84\u533a\u5206\u5927\u5c0f\u5199\uff09\u4e0e\u5176\u4ed6\u5f00\u53d1\u4eba\u5458\u6216\u8fd0\u884c\u5176\u4ed6\u9700\u8981\u6b63\u786e\u5927\u5c0f\u5199\u8def\u5f84\u7684\u64cd\u4f5c\u7cfb\u7edf\u7684\u6784\u5efa\u6846\u53d1\u751f\u51b2\u7a81\u7684\u60c5\u51b5\u3002 https://www.npmjs.com/package/case-sensitive-paths-webpack-plugin 051 \"css-loader\": \"^3.0.0\", \u5f00\u53d1 \u4e2d css \u52a0\u8f7d\u5668 052 \"debug\": \"^4.1.1\", \u5f00\u53d1 \u4e2d A tiny JavaScript debugging utility modelled after Node.js core's debugging technique. Works in Node.js and web browsers. https://www.npmjs.com/package/debug 053 \"dotenv\": \"6.2.0\", \u5f00\u53d1 \u4e2d Dotenv is a zero-dependency module that loads environment variables from a .env file into process.env. Storing configuration in the environment separate from code is based on The Twelve-Factor App methodology. https://www.npmjs.com/package/dotenv 054 \"dotenv-expand\": \"4.2.0\", \u5f00\u53d1 \u4e2d Dotenv-expand adds variable expansion on top of dotenv. If you find yourself needing to expand environment variables already existing on your machine, then dotenv-expand is your tool. https://www.npmjs.com/package/dotenv-expand 055 \"enzyme\": \"^3.10.0\", \u5f00\u53d1 \u4e2d Enzyme is a JavaScript Testing utility for React that makes it easier to test your React Components' output. https://www.npmjs.com/package/enzyme 056 \"enzyme-adapter-react-16\": \"^1.14.0\", \u5f00\u53d1 \u4e2d \u5bf9 react \u529f\u80fd\u7ec4\u4ef6\u6d4b\u8bd5\uff0cEnzyme is a JavaScript Testing utility for React that makes it easier to test your React Components' output. You can also manipulate, traverse, and in some ways simulate runtime given the output. https://www.npmjs.com/package/enzyme-adapter-react-16 057 \"eslint\": \"^5.16.0\", \u5f00\u53d1 \u9ad8 \u4ee3\u7801\u683c\u5f0f\u68c0\u67e5 https://www.npmjs.com/package/eslint 058 \"eslint-config-react-app\": \"^4.0.1\", \u5f00\u53d1 \u4e2d eslint \u9488\u5bf9 react \u7684\u63d2\u4ef6 059 \"eslint-loader\": \"2.1.2\", \u5f00\u53d1 \u4e2d eslint \u52a0\u8f7d\u5668 060 \"eslint-plugin-flowtype\": \"2.50.1\", \u5f00\u53d1 \u4e2d https://www.npmjs.com/package/eslint-plugin-flowtype ESLint \u7684\u6d41\u7c7b\u578b linting \u89c4\u5219\u3002 061 \"eslint-plugin-import\": \"2.16.0\", \u5f00\u53d1 \u4e2d \u8be5\u63d2\u4ef6\u65e8\u5728\u652f\u6301 ES6+ \u5bfc\u5165/\u5bfc\u51fa\u8bed\u6cd5\u7684 linting\uff0c\u5e76\u9632\u6b62\u6587\u4ef6\u8def\u5f84\u548c\u5bfc\u5165\u540d\u79f0\u62fc\u5199\u9519\u8bef\u7684\u95ee\u9898\u3002 https://www.npmjs.com/package/eslint-plugin-import 062 \"eslint-plugin-jsx-a11y\": \"6.2.1\", \u5f00\u53d1 \u4e2d \u7528\u4e8e JSX \u5143\u7d20\u53ef\u8bbf\u95ee\u6027\u89c4\u5219\u7684\u9759\u6001 AST \u68c0\u67e5\u5668\u3002 https://www.npmjs.com/package/eslint-plugin-jsx-a11y 064 \"eslint-plugin-react-hooks\": \"^1.5.0\", \u5f00\u53d1 \u4e2d This ESLint plugin enforces the Rules of Hooks. https://www.npmjs.com/package/eslint-plugin-react-hooks 067 \"html-webpack-plugin\": \"4.0.0-beta.5\", \u5f00\u53d1 \u4e2d \u7b80\u5316\u521b\u5efa HTML \u6587\u4ef6\u4ee5\u670d\u52a1\u4e8e\u6253\u5305\u7684\u63d2\u4ef6 https://www.npmjs.com/package/html-webpack-plugin 068 \"identity-obj-proxy\": \"3.0.0\", \u5f00\u53d1 \u4e2d \u4f7f\u7528 ES6 \u4ee3\u7406\u7684\u8eab\u4efd\u5bf9\u8c61\u3002 \u7528\u4e8e\u6d4b\u8bd5\u7b80\u5355\u7684 webpack \u5bfc\u5165\u3002 \u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u544a\u8bc9 Jest \u5c06\u6b64\u5bf9\u8c61\u6a21\u62df\u4e3a\u5bfc\u5165\u7684 CSS \u6a21\u5757\uff1b \u90a3\u4e48\u60a8\u5728\u5bfc\u5165\u7684\u6837\u5f0f\u5bf9\u8c61\u4e0a\u7684\u6240\u6709 className \u67e5\u627e\u90fd\u5c06\u6309\u539f\u6837\u8fd4\u56de\u3002 https://www.npmjs.com/package/identity-obj-proxy 069 \"is-wsl\": \"^1.1.0\", \u5f00\u53d1 \u4e2d \u5982\u679c\u60a8\u9700\u8981\u89e3\u51b3 WSL \u4e2d\u672a\u5b9e\u73b0\u6216\u6709\u95ee\u9898\u7684\u529f\u80fd\uff0c\u8fd9\u4f1a\u5f88\u6709\u7528\u3002 \u652f\u6301 WSL 1 \u548c WSL 2\u3002 https://www.npmjs.com/package/is-wsl 071 \"jest-environment-jsdom-fourteen\": \"0.1.0\", \u5f00\u53d1 \u4e2d jest \u63d2\u4ef6\uff0c\u53ef\u4ee5\u5728\u89c2\u5bdf\u6a21\u5f0f\u4e0b\uff0c\u9009\u62e9\u7279\u5b9a\u7684\u5355\u5143\u6d4b\u8bd5\u6267\u884c\uff0c\u5df2\u7ecf\u90e8\u7f72\u5230\u4e2a\u4eba\u9879\u76ee\u4e2d https://www.npmjs.com/package/jest-watch-typeahead 072 \"jest-resolve\": \"24.7.1\", \u5f00\u53d1 \u4e2d \u8bf4\u660e\u6587\u6863\u548c jest \u5728\u4e00\u4e2a\u754c\u9762\u4e0a https://www.npmjs.com/package/jest-resolve 073 \"jest-watch-typeahead\": \"0.3.0\", \u5f00\u53d1 \u4e2d Filter your tests by file name or test name https://www.npmjs.com/package/jest-watch-typeahead 074 \"less\": \"^3.10.3\", \u5f00\u53d1 \u4e2d less \u6837\u5f0f The dynamic stylesheet language. http://lesscss.org. 075 \"less-loader\": \"^5.0.0\", \u5f00\u53d1 \u4e2d less \u52a0\u8f7d\u5668 076 \"mini-css-extract-plugin\": \"0.5.0\", \u5f00\u53d1 \u4e2d css \u6309\u9700\u52a0\u8f7d\uff08\u628aCSS\u63d0\u53d6\u5230\u4e0d\u540c\u7684JS\u6587\u4ef6\u4e2d\uff09 https://www.npmjs.com/package/mini-css-extract-plugin 077 \"optimize-css-assets-webpack-plugin\": \"5.0.1\", \u5f00\u53d1 \u4e2d A Webpack plugin to optimize  minimize CSS assets. https://www.npmjs.com/package/optimize-css-assets-webpack-plugin 078 \"pnp-webpack-plugin\": \"1.2.1\", \u5f00\u53d1 \u4e2d Webpack \u7684\u5373\u63d2\u5373\u7528\u89e3\u6790\u5668 https://www.npmjs.com/package/pnp-webpack-plugin 079 \"postcss-flexbugs-fixes\": \"^4.1.0\", \u5f00\u53d1 \u4e2d PostCSS plugin This project tries to fix all of flexbug's issues. https://www.npmjs.com/package/postcss-flexbugs-fixes 080 \"postcss-loader\": \"^3.0.0\", \u5f00\u53d1 \u4e2d postcss \u52a0\u8f7d\u5668 081 \"postcss-normalize\": \"7.0.1\", \u5f00\u53d1 \u4e2d PostCSS Normalize lets you use the parts of normalize.css or sanitize.css that you need from your browserslist. https://www.npmjs.com/package/postcss-normalize 082 \"postcss-preset-env\": \"6.6.0\", \u5f00\u53d1 \u4e2d CSS \u517c\u5bb9\u4e0d\u7528\u7248\u672c\u65e9\u671f\u7684\u6d4f\u89c8\u5668\u3002PostCSS Preset Env lets you convert modern CSS into something most browsers can understand, determining the polyfills you need based on your targeted browsers or runtime environments. https://www.npmjs.com/package/postcss-preset-env 083 \"postcss-safe-parser\": \"4.0.1\", \u5f00\u53d1 \u4e2d PostCSS \u7684\u5bb9\u9519 CSS \u89e3\u6790\u5668\uff0c\u5b83\u5c06\u53d1\u73b0\u548c\u4fee\u590d\u8bed\u6cd5\u9519\u8bef\uff0c\u80fd\u591f\u89e3\u6790\u4efb\u4f55\u8f93\u5165\u3002 https://www.npmjs.com/package/postcss-safe-parser 084 \"react\": \"^16.8.6\", \u5f00\u53d1 \u9ad8 react 085 \"react-app-polyfill\": \"^1.0.1\", \u5f00\u53d1 \u4e2d This package includes polyfills for various browsers. https://www.npmjs.com/package/react-app-polyfill 086 \"react-dev-utils\": \"^9.0.1\", \u5f00\u53d1 \u4e2d This package includes some utilities used by Create React App. https://www.npmjs.com/package/react-dev-utils 087 \"react-dom\": \"^16.8.6\", \u5f00\u53d1 \u9ad8 react-dom \u548c HTML \u5143\u7d20\u64cd\u4f5c\u5de5\u5177 088 \"resolve\": \"1.10.0\", \u5f00\u53d1 \u4e2d \u5b9e\u73b0\u8282\u70b9 require.resolve() \u7b97\u6cd5\uff0c\u4ee5\u4fbf\u60a8\u53ef\u4ee5\u5f02\u6b65\u548c\u540c\u6b65\u5730\u4ee3\u8868\u6587\u4ef6 require.resolve() https://www.npmjs.com/package/resolve 089 \"sass-loader\": \"^7.1.0\", \u5f00\u53d1 \u4e2d sass \u52a0\u8f7d\u5668 090 \"semver\": \"6.0.0\", \u5f00\u53d1 \u4e2d npm \u7684\u8bed\u4e49\u7248\u672c\u5668 https://www.npmjs.com/package/semver 091 \"style-loader\": \"^0.23.1\", \u5f00\u53d1 \u4e2d \u6837\u5f0f\u52a0\u8f7d\u5668 092 \"terser-webpack-plugin\": \"^1.2.3\", \u5f00\u53d1 \u4e2d This plugin uses terser to minify your JavaScript. \u538b\u7f29JS https://www.npmjs.com/package/terser-webpack-plugin 093 \"ts-pnp\": \"1.1.2\", \u5f00\u53d1 \u4e2d https://www.npmjs.com/package/semver npm \u7684\u8bed\u4e49\u7248\u672c\u5668 094 \"url-loader\": \"^2.0.0\", \u5f00\u53d1 \u4e2d loader for transforms files into base64 URIs. https://www.npmjs.com/package/url-loader 095 \"webpack\": \"4.29.6\", \u5f00\u53d1 \u9ad8 webpack \u6253\u5305\u5de5\u5177 https://www.npmjs.com/package/webpack 096 \"webpack-cli\": \"^3.3.4\", \u5f00\u53d1 \u9ad8 webpack \u547d\u4ee4\u884c\u5de5\u5177 https://www.npmjs.com/package/webpack-cli 097 \"webpack-dev-server\": \"3.2.1\", \u5f00\u53d1 \u9ad8 webpack \u5f00\u53d1\u73af\u5883\u6253\u5305\u670d\u52a1\u5668 https://www.npmjs.com/package/webpack-dev-server 098 \"webpack-manifest-plugin\": \"2.0.4\", \u5f00\u53d1 \u4f4e \u751f\u6210\u8d44\u6e90\u6e05\u5355\u7684\u63d2\u4ef6 https://www.npmjs.com/package/webpack-manifest-plugin 099 \"workbox-webpack-plugin\": \"4.2.0\" \u5f00\u53d1 \u4e2d https://www.npmjs.com/package/workbox-webpack-plugin https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin 100 \"debug\": \"^4.1.1\", node \u9ad8 node \u6253\u5370\u65e5\u5fd7 101 \"number-precision\": \"^1.3.2\", \u751f\u4ea7 \u4e2d \u5c0f\u6570\u7cbe\u786e\u8ba1\u7b97 \u6570\u5b57\u7cbe\u786e\u8ba1\u7b97\uff0c\u5927\u91cf\u4f7f\u7528\u6709\u6027\u80fd\u95ee\u9898 102 \"slugid\": \"^2.0.0\", \u751f\u4ea7 \u4f4e \u751f\u6210 UUID 103 \"socket.io-client\": \"^2.3.0\" node \u9ad8 websocket \u5ba2\u6237\u7aef 109 \"@testing-library/jest-dom\": \"^4.2.4\", \u5f00\u53d1 \u4f4e \u60a8\u60f3\u4f7f\u7528 jest \u7f16\u5199\u6d4b\u8bd5\u6765\u65ad\u8a00\u6709\u5173 DOM \u72b6\u6001\u7684\u5404\u79cd\u4e8b\u60c5\u3002 \u4f5c\u4e3a\u8be5\u76ee\u6807\u7684\u4e00\u90e8\u5206\uff0c\u60a8\u5e0c\u671b\u907f\u514d\u8fd9\u6837\u505a\u65f6\u51fa\u73b0\u7684\u6240\u6709\u91cd\u590d\u6a21\u5f0f\u3002 \u68c0\u67e5\u4e00\u4e2a\u5143\u7d20\u7684\u5c5e\u6027\uff0c\u5b83\u7684\u6587\u672c\u5185\u5bb9\uff0c\u5b83\u7684 css \u7c7b\uff0c\u4f60\u53ef\u4ee5\u547d\u540d\u5b83\u3002 https://www.npmjs.com/package/@testing-library/jest-dom 110 \"@testing-library/react\": \"^9.4.0\", \u5f00\u53d1 \u4e2d \u7b80\u5355\u800c\u5b8c\u6574\u7684 React DOM \u6d4b\u8bd5\u5b9e\u7528\u7a0b\u5e8f\uff0c\u9f13\u52b1\u826f\u597d\u7684\u6d4b\u8bd5\u5b9e\u8df5\u3002 https://www.npmjs.com/package/@testing-library/react 111 \"@testing-library/user-event\": \"^7.2.1\", \u5f00\u53d1 \u4e2d \u4ee5\u4e0e\u7528\u6237\u76f8\u540c\u7684\u65b9\u5f0f\u89e6\u53d1\u4e8b\u4ef6 https://www.npmjs.com/package/@testing-library/user-event 133 \"fs-extra\": \"^8.1.0\", node \u4e2d fs \u7684\u9ad8\u7ea7\u7248\u672c https://www.npmjs.com/package/fs-extra 165 \"@reach/router\": \"^1.2.0\", \u751f\u4ea7 \u4e2d react-router \u7684\u589e\u5f3a\u7248 166 \"resumablejs\": \"^1.1.13\", \u751f\u4ea7 \u4f4e \u5927\u6587\u4ef6\u5206\u5757\u4e0a\u4f20\u4e0b\u8f7d 167 \"chart.js\": \"^2.9.3\", \u751f\u4ea7 \u4e2d \u524d\u7aef canvas \u7ed8\u56fe 168 \"classnames\": \"^2.2.6\", \u751f\u4ea7 \u4e2d \u7ec4\u5408 HTML \u4e2d\u7684\u7c7b\u540d 169 \"copy-to-clipboard\": \"^3.0.8\", \u751f\u4ea7 \u4e2d \u590d\u5236\u5185\u5bb9\u5230\u526a\u5207\u677f 170 \"faker\": \"^4.1.0\", \u751f\u4ea7 \u4e2d \u6a21\u62df\u8bf7\u6c42\u5047\u6570\u636e 171 \"immutability-helper\": \"^3.0.0\", \u751f\u4ea7 \u4f4e react \u4e2d\u4e0d\u53ef\u53d8\u5143\u7d20\u590d\u5236\u7684\u5e93 172 \"konva\": \"3.2.0\", \u751f\u4ea7 \u4f4e canvas \u5728\u7ebf\u56fe\u5f62\u7f16\u8f91\u5de5\u5177 173 \"MD5\": \"^1.3.0\", \u751f\u4ea7 \u4e2d \u751f\u6210\u5b57\u7b26\u4e32\u5bf9\u5e94\u7684 md5 \u52a0\u5bc6\u7ed3\u679c 174 \"merge\": \"^1.2.1\", \u751f\u4ea7 \u4f4e \u5408\u5e76\u5bf9\u8c61\uff08Object.assign\uff09 175 \"moment\": \"^2.22.2\", \u751f\u4ea7 \u4e2d \u65f6\u95f4\u8f6c\u6362\u663e\u793a \u65f6\u95f4\u5904\u7406 176 \"object-assign\": \"4.1.1\", \u751f\u4ea7 \u4f4e \u517c\u5bb9\u65e9\u671f\u6d4f\u89c8\u5668\u4e2d\u7684 Object.assign 177 \"prismjs\": \"^1.15.0\", \u751f\u4ea7 \u4e2d \u4ee3\u7801\u7247\u6bb5\u9ad8\u4eae 178 \"prop-types\": \"^15.6.2\", \u751f\u4ea7 \u4e2d \u7c7b\u578b\u9a8c\u8bc1\uff08react) 179 \"react\": \"^16.8.6\", \u751f\u4ea7 \u4e2d react \u6846\u67b6\uff0c\u5e94\u8be5\u662f\u5f00\u53d1\u73af\u5883 180 \"react-chartjs-2\": \"^2.8.0\", \u751f\u4ea7 \u4e2d react \u7ec4\u4ef6\u5e93\uff08\u5b9e\u73b0 chartjs \u7684\u529f\u80fd\uff09 181 \"react-codemirror\": \"^1.0.0\", \u751f\u4ea7 \u4e2d \u4ee3\u7801\u9884\u89c8\u7f16\u8f91\u9ad8\u4eae 182 \"react-cookies\": \"^0.1.0\", \u751f\u4ea7 \u4f4e react \u5b9e\u73b0\u7684 cookie \u7ba1\u7406 \u4ee3\u7801\u6ca1\u6709\u5f00\u6e90\uff0c\u4e0b\u8f7d\u8f83\u5c11\uff0c\u4e0d\u63a8\u8350\u4f7f\u7528 183 \"react-dnd\": \"^2.6.0\", \u751f\u4ea7 \u9ad8 \u62d6\u62fd\u7ec4\u4ef6 184 \"react-dnd-html5-backend\": \"^2.6.0\", \u751f\u4ea7 \u9ad8 \u62d6\u62fd\u7ec4\u4ef6 186 \"react-i18next\": \"^10.12.2\", \u751f\u4ea7 \u4e2d \u7ffb\u8bd1 187 \"react-image-lightbox\": \"^5.1.0\", \u751f\u4ea7 \u4e2d \u56fe\u7247\u9884\u89c8\u5de5\u5177 188 \"react-konva\": \"16.8.6\", \u751f\u4ea7 \u4f4e react+canvas \u7ed8\u56fe\u5de5\u5177 189 \"react-mentions\": \"^3.0.2\", \u751f\u4ea7 \u4e2d react \u7ec4\u4ef6 \u8bc4\u8bba @ 190 \"react-moment\": \"^0.7.9\", \u751f\u4ea7 \u4f4e react \u7ec4\u4ef6\u5e93\uff08\u5b9e\u73b0 moment \u7684\u529f\u80fd\uff09 191 \"react-responsive\": \"^6.1.2\", \u751f\u4ea7 \u9ad8 \u5a92\u4f53\u67e5\u8be2\u54cd\u5e94\u5f0f\u5f00\u53d1\uff08css\uff09 192 \"react-select\": \"^3.1.0\", \u751f\u4ea7 \u9ad8 react \u9009\u62e9\u5668\u7ec4\u4ef6 195 \"sw-precache-webpack-plugin\": \"0.11.4\", \u5f00\u53d1 \u4f4e SWPrecacheWebpackPlugin \u662f\u4e00\u4e2a webpack \u63d2\u4ef6\uff0c\u7528\u4e8e\u4f7f\u7528 service worker \u7f13\u5b58\u5916\u90e8\u9879\u76ee\u4f9d\u8d56\u9879\u3002 \u5b83\u5c06\u4f7f\u7528 sw-precache \u751f\u6210\u4e00\u4e2a Service Worker \u6587\u4ef6\u5e76\u5c06\u5176\u6dfb\u52a0\u5230\u60a8\u7684\u6784\u5efa\u76ee\u5f55\u4e2d\u3002 https://www.npmjs.com/package/sw-precache-webpack-plugin 196 \"unified\": \"^7.0.0\", \u751f\u4ea7 \u4e2d AST \u8f6c\u6362\u5668 197 \"url-parse\": \"^1.4.3\", \u751f\u4ea7 \u4e2d Url \u5bf9\u8c61\u8f6c\u6362\u5de5\u5177 198 \"vfile\": \"^3.0.0\", \u751f\u4ea7 \u4f4e \u89e3\u6790\u5e8f\u5217\u5316\u8f6c\u6362\u6570\u636e 199 \"video.js\": \"^7.4.1\", \u751f\u4ea7 \u4e2d \u89c6\u9891\u64ad\u653e\u5668 200 \"watermark-dom\": \"^1.0.0\", \u751f\u4ea7 \u4e2d \u751f\u6210\u80cc\u666f\u7684\u6c34\u5370 203 \"@typescript-eslint/eslint-plugin\": \"^2.2.0\", \u5f00\u53d1 \u4e2d An ESLint plugin which provides lint rules for TypeScript codebases. https://www.npmjs.com/package/@typescript-eslint/eslint-plugin 204 \"@typescript-eslint/parser\": \"^2.2.0\", \u5f00\u53d1 \u4e2d An ESLint parser which leverages TypeScript ESTree to allow for ESLint to lint TypeScript source code. https://www.npmjs.com/package/@typescript-eslint/parser 219 \"eslint-plugin-react\": \"^7.16.0\", \u5f00\u53d1 \u4e2d React specific linting rules for ESLint https://www.npmjs.com/package/eslint-plugin-react 221 \"file-loader\": \"^1.1.11\", \u5f00\u53d1 \u4e2d The file-loader resolves import/require() on a file into a url and emits the file into the output directory. https://www.npmjs.com/package/file-loader 243 \"resolve-url-loader\": \"3.1.0\", \u5f00\u53d1 \u4f4e https://www.npmjs.com/package/resolve-url-loader \u8fd9\u4e2a webpack \u52a0\u8f7d\u5668\u5141\u8bb8\u4f60\u62e5\u6709\u4e00\u4e2a\u5206\u5e03\u5f0f\u7684 SCSS \u6587\u4ef6\u96c6\uff0c\u4ee5\u53ca\u4e0e\u8fd9\u4e9b SCSS \u6587\u4ef6\u5171\u5b58\u7684\u8d44\u6e90\u3002 251 \"webpack-bundle-tracker\": \"^0.4.3\", \u5f00\u53d1 \u4f4e \u5c06\u6709\u5173 webpack \u7f16\u8bd1\u8fc7\u7a0b\u7684\u4e00\u4e9b\u7edf\u8ba1\u4fe1\u606f\u5410\u51fa\u5230\u6587\u4ef6\u4e2d\u3002 https://www.npmjs.com/package/webpack-bundle-tracker 255 \"connect-multiparty\": \"^2.2.0\", \u751f\u4ea7 \u4f4e \u4e0a\u4f20\u6587\u4ef6\u7684\u4e2d\u95f4\u4ef6 256 \"csv\": \"^5.3.2\", \u751f\u4ea7 \u4e2d nodeJS \u4e2d\u6570\u636e\u7c7b\u578b\u548c csv \u8f6c\u6362\u5668 257 \"date-format\": \"2.1.0\", \u751f\u4ea7 \u4f4e nodeJS \u65e5\u671f\u5bf9\u8c61\u8f6c\u6362\u6210\u5b57\u7b26\u4e32 258 \"detect-character-encoding\": \"^0.8.0\", \u751f\u4ea7 \u4f4e Detect character encoding using ICU 259 \"etcd3\": \"^1.1.0\", \u751f\u4ea7 \u4f4e \u5206\u5e03\u5f0f\u96c6\u7fa4\u90e8\u7f72 etcd3 260 \"express\": \"^4.16.3\", \u751f\u4ea7 \u4e2d \u4e2d\u95f4\u5c42\u670d\u52a1\u5668 261 \"express-rate-limit\": \"^5.1.3\", \u751f\u4ea7 \u4e2d \u8bf7\u6c42\u6b21\u6570\u9650\u5236 262 \"iconv-lite\": \"^0.5.1\", \u751f\u4ea7 \u4e2d \u5b57\u7b26\u4e32\u4e0d\u540c\u683c\u5f0f\u8f6c\u7801 263 \"jsonwebtoken\": \"^8.5.1\", \u751f\u4ea7 \u4e2d \u670d\u52a1\u7aef JWT \u767b\u5f55\u9a8c\u8bc1 264 \"log4js\": \"^4.5.1\", node \u9ad8 nodeJS \u65e5\u5fd7\u5de5\u5177 265 \"mysql\": \"^2.17.1\", \u751f\u4ea7 \u4e2d mysql \u7684 nodeJS \u5de5\u5177 266 \"redis\": \"^2.8.0\", \u751f\u4ea7 \u4e2d nodeJS \u7684 redis 267 \"request\": \"^2.88.0\", \u751f\u4ea7 \u4e2d http \u7f51\u7edc\u8bf7\u6c42\u5de5\u5177 268 \"response-time\": \"2.3.2\", \u751f\u4ea7 \u4f4e HTTP \u54cd\u5e94\u65f6\u95f4 nodejs \u548c express \u8054\u5408\u4f7f\u7528 269 \"socket.io\": \"^2.2.0\", \u751f\u4ea7 \u9ad8 socket \u670d\u52a1\u7aef\u7a0b\u5e8f 270 \"uuid\": \"^3.3.2\" \u751f\u4ea7 \u9ad8 \u751f\u6210 UUID 271 \"@babel/core\": \"^7.5.0\", \u5f00\u53d1 \u4e2d babel \u6838\u5fc3\u4ee3\u7801\uff08\u7f16\u8bd1es6\uff09 https://babeljs.io/docs/en/babel-core 272 \"@babel/node\": \"^7.5.0\", \u5f00\u53d1 \u4f4e babel-node \u662f\u4e00\u4e2a CLI\uff0c\u5176\u5de5\u4f5c\u65b9\u5f0f\u4e0e Node.js CLI \u5b8c\u5168\u76f8\u540c\uff0c\u5b83\u7684\u989d\u5916\u597d\u5904\u662f\u5728\u8fd0\u884c\u4e4b\u524d\u4f7f\u7528 Babel \u9884\u8bbe\u548c\u63d2\u4ef6\u8fdb\u884c\u7f16\u8bd1\u3002 https://babeljs.io/docs/en/babel-node 273 \"@babel/plugin-transform-modules-commonjs\": \"^7.5.0\", \u5f00\u53d1 \u4f4e This plugin transforms ES2015 modules to CommonJS https://babeljs.io/docs/en/babel-plugin-transform-modules-commonjs 274 \"@babel/register\": \"^7.4.4\", \u5f00\u53d1 \u4f4e babel require hook https://www.npmjs.com/package/@babel/register 275 \"@babel/runtime\": \"^7.8.3\", \u5f00\u53d1 \u4e2d contains Babel modular runtime helpers and a version of regenerator-runtime https://babeljs.io/docs/en/babel-runtime 276 \"babel-register\": \"^6.26.0\", \u5f00\u53d1 \u4f4e The require hook will bind itself to node's require and automatically compile files on the fly. https://www.npmjs.com/package/babel-register 277 \"clean-webpack-plugin\": \"3.0.0\", \u5f00\u53d1 \u4f4e A webpack plugin to remove/clean your build folder(s). https://www.npmjs.com/package/clean-webpack-plugin 278 \"form-data\": \"^2.5.1\", \u5f00\u53d1 \u4f4e A library to create readable \"multipart/form-data\" streams. Can be used to submit forms and file uploads to other web applications. https://www.npmjs.com/package/form-data 279 \"jest\": \"^24.9.0\", \u5f00\u53d1 \u9ad8 \u5355\u5143\u6d4b\u8bd5\u5de5\u5177 https://www.npmjs.com/package/jest 280 \"nodemon\": \"2.0.7\", \u5f00\u53d1 \u4f4e nodemon is a tool that helps develop node.js based applications by automatically restarting the node application when file changes in the directory are detected. https://www.npmjs.com/package/nodemon 281 \"rimraf\": \"3.0.2\", \u5f00\u53d1 \u4f4e The UNIX command rm -rf for node. https://www.npmjs.com/package/rimraf 282 \"supertest\": \"^4.0.2\", \u5f00\u53d1 \u4f4e HTTP assertions made easy via superagent. npmjs.com/package/supertest 286 \"webpack-merge\": \"5.7.3\", \u5f00\u53d1 \u4f4e webpack-merge - Merge designed for Webpack https://www.npmjs.com/package/webpack-merge 287 \"webpack-node-externals\": \"2.5.2\" \u5f00\u53d1 290 \u201clodash\u201d \u751f\u4ea7 \u9ad8 JS \u5de5\u5177\u5e93 291 \"jszip\" node \u4e2d zip\u6587\u4ef6\u538b\u7f29\u7f16\u8f91\u89e3\u538b"},{"location":"new-third-part-lib/docxtemplater/","title":"docxtemplater","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3415  \u9605\u8bfb7\u5206\u949f</p>"},{"location":"new-third-part-lib/docxtemplater/#docxtemplater_1","title":"docxtemplater","text":""},{"location":"new-third-part-lib/docxtemplater/#version","title":"version","text":"<p>3.49.1\u00a0\u2022 </p>"},{"location":"new-third-part-lib/docxtemplater/#downloads","title":"downloads","text":"<p>95,272 </p>"},{"location":"new-third-part-lib/docxtemplater/#repository","title":"repository","text":"<p>github.com/open-xml-templating/docxtemplater </p>"},{"location":"new-third-part-lib/docxtemplater/#homepage","title":"homepage","text":"<p>github.com/open-xml-templating/docxtemplater#readme </p>"},{"location":"new-third-part-lib/docxtemplater/#default-readme","title":"default readme","text":"<p>\u200b</p>"},{"location":"new-third-part-lib/docxtemplater/#docxtemplater_2","title":"docxtemplater","text":"<p>Note If you love docxtemplater, please help us spread your trust in docxtemplater by leaving us a video or text testimonial</p> <p>docxtemplater is a library to generate docx/pptx documents from a docx/pptx template. It can replace {placeholders} with data and also supports loops and conditions. The templates can be edited by non-programmers, for example your clients.</p> <p>docxtemplater is very robust because of the many fixed issues over the years, and the high quality of tests and code.</p>"},{"location":"new-third-part-lib/docxtemplater/#features","title":"Features","text":"<p>Demo Site</p> <ul> <li> <p>Replace a {placeholder} by a value</p> </li> <li> <p>Use loops: {#users} {name} {/users} </p> </li> <li> <p>Use loops in tables to generate columns</p> </li> <li> <p>Use conditions (if users.length&gt;3) with angular Parsing</p> </li> <li> <p>Insert custom XML {@rawXml} (for formatted text for example)</p> </li> </ul>"},{"location":"new-third-part-lib/docxtemplater/#quickstart","title":"Quickstart","text":"<ul> <li> <p>Get started with docxtemplater on nodejs</p> </li> <li> <p>Get started with docxtemplater in the browser (react, angular, vue, nextjs)</p> </li> </ul>"},{"location":"new-third-part-lib/docxtemplater/#documentation","title":"Documentation","text":"<p>The full documentation of the latest version can be found here.</p> <p>See CHANGELOG.md for information about how to migrate from older versions.</p>"},{"location":"new-third-part-lib/docxtemplater/#modules","title":"Modules","text":"<p>Functionality can be added with the following paid modules :</p> <ul> <li> <p>Image module to add a given image with the syntax: {%image};</p> </li> <li> <p>Html Module to insert formatted text in a docx document with the syntax {~html};</p> </li> <li> <p>XLSX Module to be able to do templating on Excel files (xlsx extension), also with loops and conditions;</p> </li> <li> <p>Chart Module to replace a chart by using data from the JSON object that you give with the syntax {$chart};</p> </li> <li> <p>Html-Pptx Module to insert formatted text in a pptx document with the syntax {~html};</p> </li> <li> <p>Error Location Module to show the errors in the template using Word comments</p> </li> <li> <p>Slides Module to create multiple slides dynamically with the syntax {:users};</p> </li> <li> <p>Subtemplate Module to include an external docx file inside a given docx file with the syntax {:include doc};</p> </li> <li> <p>Subsection Module to include subsections (headers/footers) from an other document with the syntax {:subsection doc};</p> </li> <li> <p>Subtemplate-pptx Module to include an external pptx file inside a given pptx file with the syntax {:include doc};</p> </li> <li> <p>Word-Run Module to include raw runs (w:r) inside the document with the syntax {r\\@wrun}. This makes it possible to include styled text without having to remove the enclosing paragraph like in the {@rawXml} tag;</p> </li> <li> <p>QrCode Module to replace an image, keeping any existing properties;</p> </li> <li> <p>Table Module to create tables from two dimensional data using the syntax {:table data};</p> </li> <li> <p>Meta Module to make a document readonly, add a text watermark or update the margins;</p> </li> <li> <p>Styling Module restyle a paragraph, a cell or a table depending on some data using the syntax {:stylepar style};</p> </li> <li> <p>Footnotes Module to be able to add footnotes to a document using the syntax {:footnotes foot}</p> </li> <li> <p>Paragraph Placeholder Module to simplify conditions that should show or hide a given paragraph using the syntax {?tag}</p> </li> </ul>"},{"location":"new-third-part-lib/docxtemplater/#about-docxtemplater","title":"About docxtemplater","text":"<p>Docxtemplater is my main job, and has been maintained for over 8 years. Expect to get great support if you buy any modules, and also good support on the open-source version.</p> <p> </p>"},{"location":"new-third-part-lib/dom-helper/","title":"007 dom-helpers","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 764  \u9605\u8bfb2\u5206\u949f</p>"},{"location":"new-third-part-lib/dom-helper/#_1","title":"\u7528\u9014","text":"<p>\u4ee3\u7801\u5f88\u5c11\uff0c\u6a21\u5757\u5316\u7684 IE9 \u7684 dom \u64cd\u4f5c\u65b9\u6cd5</p> <p>\u56e0\u4e3a IE \u6d4f\u89c8\u5668\u7684 DOM \u65b9\u6cd5\u548c\u5176\u4ed6\u7684\u4e0d\u540c\uff0c\u5982\u679c\u9700\u8981\u517c\u5bb9\u65e7\u6d4f\u89c8\u5668\uff0c\u90a3\u4e48\u9700\u8981\u5199\u4e24\u5957\u4ee3\u7801</p> <p>\u8fd9\u4e2a\u5e93\u7528\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898</p> <pre><code>if (document.addEventListener) {\n  return (node, eventName, handler, capture) =&gt; {\n    node.addEventListener(eventName, handler, capture || false)\n  }\n} \nelse if (document.attachEvent) {\n  return (node, eventName, handler) =&gt; {\n    node.attachEvent('on' + eventName, handler)\n  }\n}\n</code></pre>"},{"location":"new-third-part-lib/dom-helper/#_2","title":"\u53ef\u9760\u6027","text":"<p>300\u4e2a\u661f\u661f\uff0c\u4e0b\u8f7d\u91cf\u8d85\u8fc7 600\u4e07\uff0c\u57fa\u672c\u6ca1\u95ee\u9898</p>"},{"location":"new-third-part-lib/dom-helper/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/dom-helpers</p> <p>https://github.com/react-bootstrap/dom-helpers</p>"},{"location":"new-third-part-lib/dom-helper/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<p>\u5b9e\u9645\u9879\u76ee\u4e2d\u6ca1\u6709\u7528\u5230</p>"},{"location":"new-third-part-lib/dom-helper/#_5","title":"\u5176\u4ed6","text":""},{"location":"new-third-part-lib/dom-helpers/","title":"dom-helpers","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4170  \u9605\u8bfb9\u5206\u949f</p>"},{"location":"new-third-part-lib/dom-helpers/#dom-helpers","title":"dom-helpers","text":""},{"location":"new-third-part-lib/dom-helpers/#version","title":"version","text":"<p>5.2.1\u00a0 </p>"},{"location":"new-third-part-lib/dom-helpers/#downloads","title":"downloads","text":"<p>12,069,269 </p>"},{"location":"new-third-part-lib/dom-helpers/#repository","title":"repository","text":"<p>github.com/react-bootstrap/dom-helpers </p>"},{"location":"new-third-part-lib/dom-helpers/#homepage","title":"homepage","text":"<p>github.com/react-bootstrap/dom-helpers#readme </p>"},{"location":"new-third-part-lib/dom-helpers/#dom-helpers_1","title":"dom-helpers","text":"<p>tiny modular DOM lib for ie9+</p>"},{"location":"new-third-part-lib/dom-helpers/#install","title":"Install","text":"<pre><code>npm i -S dom-helpers\n</code></pre> <p>Mostly just naive wrappers around common DOM API inconsistencies, Cross browser work is minimal and mostly taken from jQuery. This library doesn't do a lot to normalize behavior across browsers, it mostly seeks to provide a common interface, and eliminate the need to write the same damn <code>if (ie9)</code> statements in every project.</p> <p>For example <code>on()</code> works in all browsers ie9+ but it uses the native event system so actual event oddities will continue to exist. If you need robust cross-browser support, use jQuery. If you are just tired of rewriting:</p> <pre><code>if (document.addEventListener)\n  return (node, eventName, handler, capture) =&gt;\n    node.addEventListener(eventName, handler, capture || false)\nelse if (document.attachEvent)\n  return (node, eventName, handler) =&gt;\n    node.attachEvent('on' + eventName, handler)\n</code></pre> <p>over and over again, or you need a ok <code>getComputedStyle</code> polyfill but don't want to include all of jQuery, use this.</p> <p>dom-helpers does expect certain, polyfillable, es5 features to be present for which you can use <code>es5-shim</code> where needed</p> <p>The real advantage to this collection is that any method can be required individually, meaning bundlers like webpack will only include the exact methods you use. This is great for environments where jQuery doesn't make sense, such as <code>React</code> where you only occasionally need to do direct DOM manipulation.</p> <p>All methods are exported as a flat namesapce</p> <pre><code>var helpers = require('dom-helpers')\nvar offset = require('dom-helpers/offset')\n\n// style is a function\nrequire('dom-helpers/css')(node, { width: '40px' })\n</code></pre> <ul> <li>dom-helpers <ul> <li><code>ownerDocument(element)</code>: returns the element's document owner</li> <li><code>ownerWindow(element)</code>: returns the element's document window</li> <li><code>activeElement</code>: return focused element safely</li> <li><code>querySelectorAll(element, selector)</code>: optimized qsa, uses <code>getElementBy{Id|TagName|ClassName}</code> if it can.</li> <li><code>contains(container, element)</code></li> <li><code>height(element, useClientHeight)</code></li> <li><code>width(element, useClientWidth)</code></li> <li><code>matches(element, selector)</code></li> <li><code>offset(element)</code> -&gt; <code>{ top: Number, left: Number, height: Number, width: Number}</code></li> <li><code>offsetParent(element)</code>: return the parent node that the element is offset from</li> <li><code>position(element, [offsetParent]</code>: return \"offset\" of the node to its offsetParent, optionally you can specify the offset parent if different than the \"real\" one</li> <li><code>scrollTop(element, [value])</code></li> <li><code>scrollLeft(element, [value])</code></li> <li><code>scrollParent(element)</code></li> <li><code>addClass(element, className)</code></li> <li><code>removeClass(element, className)</code></li> <li><code>hasClass(element, className)</code></li> <li><code>toggleClass(element, className)</code></li> <li><code>style(element, propName)</code> or <code>style(element, objectOfPropValues)</code></li> <li><code>getComputedStyle(element)</code> -&gt; <code>getPropertyValue(name)</code></li> <li><code>animate(node, properties, duration, easing, callback)</code> programmatically start css transitions</li> <li><code>transitionEnd(node, handler, [duration], [padding])</code> listens for transition end, and ensures that the handler if called even if the transition fails to fire its end event. Will attempt to read duration from the element, otherwise one can be provided</li> <li><code>addEventListener(node, eventName, handler, [options])</code>:</li> <li><code>removeEventListener(node, eventName, handler, [options])</code>:</li> <li><code>listen(node, eventName, handler, [options])</code>: wraps <code>addEventlistener</code> and returns a function that calls <code>removeEventListener</code> for you</li> <li><code>filter(selector, fn)</code>: returns a function handler that only fires when the target matches or is contained in the selector ex: <code>on(list, 'click', filter('li &gt; a', handler))</code></li> <li><code>requestAnimationFrame(cb)</code> returns an ID for canceling</li> <li><code>cancelAnimationFrame(id)</code></li> <li><code>scrollbarSize([recalc])</code> returns the scrollbar's width size in pixels</li> <li><code>scrollTo(element, [scrollParent])</code></li> </ul> </li> </ul>"},{"location":"new-third-part-lib/dotenv/","title":"dotenv","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 28851  \u9605\u8bfb58\u5206\u949f</p>"},{"location":"new-third-part-lib/dotenv/#dotenv","title":"dotenv","text":""},{"location":"new-third-part-lib/dotenv/#version","title":"version","text":"<p>16.4.5\u00a0 </p>"},{"location":"new-third-part-lib/dotenv/#downloads","title":"downloads","text":"<p>39,118,297 </p>"},{"location":"new-third-part-lib/dotenv/#repository","title":"repository","text":"<p>github.com/motdotla/dotenv </p>"},{"location":"new-third-part-lib/dotenv/#homepage","title":"homepage","text":"<p>github.com/motdotla/dotenv#readme </p> <p>\ud83c\udf89 announcing dotenvx. run anywhere, multi-environment, encrypted envs.</p> <p>Dotenv is supported by the community.</p> <p>Special thanks to:  </p> <p> Warp is a blazingly fast, Rust-based terminal reimagined to work like a modern app. Get more done in the CLI with real text editing, block-based output, and AI command search.  Your App, Enterprise Ready. Add Single Sign-On, Multi-Factor Auth, and more, in minutes instead of months.  Launch user-facing integrations faster Easily spin up hundreds of integrations. Sign up free or read our docs first </p>"},{"location":"new-third-part-lib/dotenv/#dotenv-npm","title":"dotenv [![NPM","text":"<p>version](https://camo.githubusercontent.com/1053084e449f13ef512a5f7fc7e2bd21c66ceb67d94a3f0e9fdc079a3e7d8786/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f646f74656e762e7376673f7374796c653d666c61742d737175617265)](https://www.npmjs.com/package/dotenv)</p> <p></p> <p>Dotenv is a zero-dependency module that loads environment variables from a <code>.env</code> file into <code>process.env</code>. Storing configuration in the environment separate from code is based on The Twelve-Factor App methodology.</p> <p> </p> <ul> <li>\ud83c\udf31 Install</li> <li>\ud83c\udfd7\ufe0f Usage (.env)</li> <li>\ud83c\udf34 Multiple Environments </li> <li>\ud83d\ude80 Deploying (.env.vault) </li> <li>\ud83d\udcda Examples</li> <li>\ud83d\udcd6 Docs</li> <li>\u2753 FAQ</li> <li>\u23f1\ufe0f Changelog</li> </ul>"},{"location":"new-third-part-lib/dotenv/#install","title":"\ud83c\udf31 Install","text":"<pre><code># install locally (recommended)\nnpm install dotenv --save\n</code></pre> <p>Or installing with yarn? <code>yarn add dotenv</code></p>"},{"location":"new-third-part-lib/dotenv/#usage","title":"\ud83c\udfd7\ufe0f Usage","text":"<p>Create a <code>.env</code> file in the root of your project:</p> <pre><code>S3_BUCKET=\"YOURS3BUCKET\"\nSECRET_KEY=\"YOURSECRETKEYGOESHERE\"\n</code></pre> <p>As early as possible in your application, import and configure dotenv:</p> <pre><code>require('dotenv').config()\nconsole.log(process.env) // remove this after you've confirmed it is working\n</code></pre> <p>.. or using ES6?</p> <pre><code>import 'dotenv/config'\n</code></pre> <p>That's it. <code>process.env</code> now has the keys and values you defined in your <code>.env</code> file:</p> <pre><code>require('dotenv').config()\n\n...\n\ns3.getBucketCors({Bucket: process.env.S3_BUCKET}, function(err, data) {})\n</code></pre>"},{"location":"new-third-part-lib/dotenv/#multiline-values","title":"Multiline values","text":"<p>If you need multiline variables, for example private keys, those are now supported (<code>&gt;= v15.0.0</code>) with line breaks:</p> <pre><code>PRIVATE_KEY=\"-----BEGIN RSA PRIVATE KEY-----\n...\nKh9NV...\n...\n-----END RSA PRIVATE KEY-----\"\n</code></pre> <p>Alternatively, you can double quote strings and use the <code>\\n</code> character:</p> <pre><code>PRIVATE_KEY=\"-----BEGIN RSA PRIVATE KEY-----\\nKh9NV...\\n-----END RSA PRIVATE KEY-----\\n\"\n</code></pre>"},{"location":"new-third-part-lib/dotenv/#comments","title":"Comments","text":"<p>Comments may be added to your file on their own line or inline:</p> <pre><code># This is a comment\nSECRET_KEY=YOURSECRETKEYGOESHERE # comment\nSECRET_HASH=\"something-with-a-#-hash\"\n</code></pre> <p>Comments begin where a <code>#</code> exists, so if your value contains a <code>#</code> please wrap it in quotes. This is a breaking change from <code>&gt;= v15.0.0</code> and on.</p>"},{"location":"new-third-part-lib/dotenv/#parsing","title":"Parsing","text":"<p>The engine which parses the contents of your file containing environment variables is available to use. It accepts a String or Buffer and will return an Object with the parsed keys and values.</p> <pre><code>const dotenv = require('dotenv')\nconst buf = Buffer.from('BASIC=basic')\nconst config = dotenv.parse(buf) // will return an object\nconsole.log(typeof config, config) // object { BASIC : 'basic' }\n</code></pre>"},{"location":"new-third-part-lib/dotenv/#preload","title":"Preload","text":"<p>Note: Consider using <code>dotenvx</code> instead of preloading. I am now doing (and recommending) so.</p> <p>It serves the same purpose (you do not need to require and load dotenv), adds better debugging, and works with ANY language, framework, or platform. \u2013 motdotla</p> <p>You can use the <code>--require</code> (<code>-r</code>) command line option to preload dotenv. By doing this, you do not need to require and load dotenv in your application code.</p> <pre><code>$ node -r dotenv/config your_script.js\n</code></pre> <p>The configuration options below are supported as command line arguments in the format <code>dotenv_config_&lt;option&gt;=value</code></p> <pre><code>$ node -r dotenv/config your_script.js dotenv_config_path=/custom/path/to/.env dotenv_config_debug=true\n</code></pre> <p>Additionally, you can use environment variables to set configuration options. Command line arguments will precede these.</p> <pre><code>$ DOTENV_CONFIG_&lt;OPTION&gt;=value node -r dotenv/config your_script.js\n\n\n$ DOTENV_CONFIG_ENCODING=latin1 DOTENV_CONFIG_DEBUG=true node -r dotenv/config your_script.js dotenv_config_path=/custom/path/to/.env\n</code></pre>"},{"location":"new-third-part-lib/dotenv/#variable-expansion","title":"Variable Expansion","text":"<p>You need to add the value of another variable in one of your variables? Use dotenv-expand.</p>"},{"location":"new-third-part-lib/dotenv/#syncing","title":"Syncing","text":"<p>You need to keep <code>.env</code> files in sync between machines, environments, or team members? Use dotenv-vault.</p>"},{"location":"new-third-part-lib/dotenv/#multiple-environments","title":"Multiple Environments","text":"<p>You need to manage your secrets across different environments and apply them as needed? Use a <code>.env.vault</code> file with a <code>DOTENV_KEY</code>.</p>"},{"location":"new-third-part-lib/dotenv/#deploying","title":"Deploying","text":"<p>You need to deploy your secrets in a cloud-agnostic manner? Use a <code>.env.vault</code> file. See deploying <code>.env.vault</code> files.</p>"},{"location":"new-third-part-lib/dotenv/#manage-multiple-environments","title":"\ud83c\udf34 Manage Multiple Environments","text":"<p>Use dotenvx or dotenv- vault.</p>"},{"location":"new-third-part-lib/dotenv/#dotenvx","title":"dotenvx","text":"<p>Run any environment locally. Create a <code>.env.ENVIRONMENT</code> file and use <code>--env- file</code> to load it. It's straightforward, yet flexible.</p> <pre><code>$ echo \"HELLO=production\" &gt; .env.production\n$ echo \"console.log('Hello ' + process.env.HELLO)\" &gt; index.js\n\n$ dotenvx run --env-file=.env.production -- node index.js\nHello production\n&gt; ^^\n</code></pre> <p>or with multiple .env files</p> <pre><code>$ echo \"HELLO=local\" &gt; .env.local\n$ echo \"HELLO=World\" &gt; .env\n$ echo \"console.log('Hello ' + process.env.HELLO)\" &gt; index.js\n\n$ dotenvx run --env-file=.env.local --env-file=.env -- node index.js\nHello local\n</code></pre> <p>more environment examples</p>"},{"location":"new-third-part-lib/dotenv/#dotenv-vault","title":"dotenv-vault","text":"<p>Edit your production environment variables.</p> <pre><code>$ npx dotenv-vault open production\n</code></pre> <p>Regenerate your <code>.env.vault</code> file.</p> <pre><code>$ npx dotenv-vault build\n</code></pre> <p>\u2139\ufe0f \ud83d\udd10 Vault Managed vs \ud83d\udcbb Locally Managed: The above example, for brevity's sake, used the \ud83d\udd10 Vault Managed solution to manage your<code>.env.vault</code> file. You can instead use the \ud83d\udcbb Locally Managed solution. Read more here. Our vision is that other platforms and orchestration tools adopt the <code>.env.vault</code> standard as they did the <code>.env</code> standard. We don't expect to be the only ones providing tooling to manage and generate <code>.env.vault</code> files.</p> <p>Learn more at dotenv-vault: Manage Multiple Environments</p>"},{"location":"new-third-part-lib/dotenv/#deploying_1","title":"\ud83d\ude80 Deploying","text":"<p>Use dotenvx or dotenv- vault.</p>"},{"location":"new-third-part-lib/dotenv/#dotenvx_1","title":"dotenvx","text":"<p>Encrypt your secrets to a <code>.env.vault</code> file and load from it (recommended for production and ci).</p> <pre><code>$ echo \"HELLO=World\" &gt; .env\n$ echo \"HELLO=production\" &gt; .env.production\n$ echo \"console.log('Hello ' + process.env.HELLO)\" &gt; index.js\n\n$ dotenvx encrypt\n[dotenvx][info] encrypted to .env.vault (.env,.env.production)\n[dotenvx][info] keys added to .env.keys (DOTENV_KEY_PRODUCTION,DOTENV_KEY_PRODUCTION)\n\n$ DOTENV_KEY='&lt;dotenv_key_production&gt;' dotenvx run -- node index.js\n[dotenvx][info] loading env (1) from encrypted .env.vault\nHello production\n^ :-]\n</code></pre> <p>learn more</p>"},{"location":"new-third-part-lib/dotenv/#dotenv-vault_1","title":"dotenv-vault","text":"<p>Note: Requires dotenv &gt;= 16.1.0</p> <p>Encrypt your <code>.env.vault</code> file.</p> <pre><code>$ npx dotenv-vault build\n</code></pre> <p>Fetch your production <code>DOTENV_KEY</code>.</p> <pre><code>$ npx dotenv-vault keys production\n</code></pre> <p>Set <code>DOTENV_KEY</code> on your server.</p> <pre><code># heroku example\nheroku config:set DOTENV_KEY=dotenv://:key_1234\u2026@dotenvx.com/vault/.env.vault?environment=production\n</code></pre> <p>That's it! On deploy, your <code>.env.vault</code> file will be decrypted and its secrets injected as environment variables \u2013 just in time.</p> <p>\u2139\ufe0f A note fromMot: Until recently, we did not have an opinion on how and where to store your secrets in production. We now strongly recommend generating a <code>.env.vault</code> file. It's the best way to prevent your secrets from being scattered across multiple servers and cloud providers \u2013 protecting you from breaches like the CircleCI breach. Also it unlocks interoperability WITHOUT native third-party integrations. Third-party integrations are increasingly risky to our industry. They may be the 'du jour' of today, but we imagine a better future.</p> <p>Learn more at dotenv-vault: Deploying</p>"},{"location":"new-third-part-lib/dotenv/#examples","title":"\ud83d\udcda Examples","text":"<p>See examples of using dotenv with various frameworks, languages, and configurations.</p> <ul> <li>nodejs</li> <li>nodejs (debug on)</li> <li>nodejs (override on)</li> <li>nodejs (processEnv override)</li> <li>nodejs (DOTENV_KEY override)</li> <li>esm</li> <li>esm (preload)</li> <li>typescript</li> <li>typescript parse</li> <li>typescript config</li> <li>webpack</li> <li>webpack (plugin)</li> <li>react</li> <li>react (typescript)</li> <li>express</li> <li>nestjs</li> <li>fastify</li> </ul>"},{"location":"new-third-part-lib/dotenv/#documentation","title":"\ud83d\udcd6 Documentation","text":"<p>Dotenv exposes four functions:</p> <ul> <li><code>config</code></li> <li><code>parse</code></li> <li><code>populate</code></li> <li><code>decrypt</code></li> </ul>"},{"location":"new-third-part-lib/dotenv/#config","title":"Config","text":"<p><code>config</code> will read your <code>.env</code> file, parse the contents, assign it to <code>process.env</code>, and return an Object with a <code>parsed</code> key containing the loaded content or an <code>error</code> key if it failed.</p> <pre><code>const result = dotenv.config()\n\nif (result.error) {\n  throw result.error\n}\n\nconsole.log(result.parsed)\n</code></pre> <p>You can additionally, pass options to <code>config</code>.</p>"},{"location":"new-third-part-lib/dotenv/#options","title":"Options","text":""},{"location":"new-third-part-lib/dotenv/#path","title":"path","text":"<p>Default: <code>path.resolve(process.cwd(), '.env')</code></p> <p>Specify a custom path if your file containing environment variables is located elsewhere.</p> <pre><code>require('dotenv').config({ path: '/custom/path/to/.env' })\n</code></pre> <p>By default, <code>config</code> will look for a file called .env in the current working directory.</p> <p>Pass in multiple files as an array, and they will be parsed in order and combined with <code>process.env</code> (or <code>option.processEnv</code>, if set). The first value set for a variable will win, unless the <code>options.override</code> flag is set, in which case the last value set will win. If a value already exists in <code>process.env</code> and the <code>options.override</code> flag is NOT set, no changes will be made to that value.</p> <pre><code>require('dotenv').config({ path: ['.env.local', '.env'] })\n</code></pre>"},{"location":"new-third-part-lib/dotenv/#encoding","title":"encoding","text":"<p>Default: <code>utf8</code></p> <p>Specify the encoding of your file containing environment variables.</p> <pre><code>require('dotenv').config({ encoding: 'latin1' })\n</code></pre>"},{"location":"new-third-part-lib/dotenv/#debug","title":"debug","text":"<p>Default: <code>false</code></p> <p>Turn on logging to help debug why certain keys or values are not being set as you expect.</p> <pre><code>require('dotenv').config({ debug: process.env.DEBUG })\n</code></pre>"},{"location":"new-third-part-lib/dotenv/#override","title":"override","text":"<p>Default: <code>false</code></p> <p>Override any environment variables that have already been set on your machine with values from your .env file(s). If multiple files have been provided in <code>option.path</code> the override will also be used as each file is combined with the next. Without <code>override</code> being set, the first value wins. With <code>override</code> set the last value wins.</p> <pre><code>require('dotenv').config({ override: true })\n</code></pre>"},{"location":"new-third-part-lib/dotenv/#processenv","title":"processEnv","text":"<p>Default: <code>process.env</code></p> <p>Specify an object to write your secrets to. Defaults to <code>process.env</code> environment variables.</p> <pre><code>const myObject = {}\nrequire('dotenv').config({ processEnv: myObject })\n\nconsole.log(myObject) // values from .env or .env.vault live here now.\nconsole.log(process.env) // this was not changed or written to\n</code></pre>"},{"location":"new-third-part-lib/dotenv/#dotenv_key","title":"DOTENV_KEY","text":"<p>Default: <code>process.env.DOTENV_KEY</code></p> <p>Pass the <code>DOTENV_KEY</code> directly to config options. Defaults to looking for <code>process.env.DOTENV_KEY</code> environment variable. Note this only applies to decrypting <code>.env.vault</code> files. If passed as null or undefined, or not passed at all, dotenv falls back to its traditional job of parsing a <code>.env</code> file.</p> <pre><code>require('dotenv').config({ DOTENV_KEY: 'dotenv://:key_1234\u2026@dotenvx.com/vault/.env.vault?environment=production' })\n</code></pre>"},{"location":"new-third-part-lib/dotenv/#parse","title":"Parse","text":"<p>The engine which parses the contents of your file containing environment variables is available to use. It accepts a String or Buffer and will return an Object with the parsed keys and values.</p> <pre><code>const dotenv = require('dotenv')\nconst buf = Buffer.from('BASIC=basic')\nconst config = dotenv.parse(buf) // will return an object\nconsole.log(typeof config, config) // object { BASIC : 'basic' }\n</code></pre>"},{"location":"new-third-part-lib/dotenv/#options_1","title":"Options","text":""},{"location":"new-third-part-lib/dotenv/#debug_1","title":"debug","text":"<p>Default: <code>false</code></p> <p>Turn on logging to help debug why certain keys or values are not being set as you expect.</p> <pre><code>const dotenv = require('dotenv')\nconst buf = Buffer.from('hello world')\nconst opt = { debug: true }\nconst config = dotenv.parse(buf, opt)\n// expect a debug message because the buffer is not in KEY=VAL form\n</code></pre>"},{"location":"new-third-part-lib/dotenv/#populate","title":"Populate","text":"<p>The engine which populates the contents of your .env file to <code>process.env</code> is available for use. It accepts a target, a source, and options. This is useful for power users who want to supply their own objects.</p> <p>For example, customizing the source:</p> <pre><code>const dotenv = require('dotenv')\nconst parsed = { HELLO: 'world' }\n\ndotenv.populate(process.env, parsed)\n\nconsole.log(process.env.HELLO) // world\n</code></pre> <p>For example, customizing the source AND target:</p> <pre><code>const dotenv = require('dotenv')\nconst parsed = { HELLO: 'universe' }\nconst target = { HELLO: 'world' } // empty object\n\ndotenv.populate(target, parsed, { override: true, debug: true })\n\nconsole.log(target) // { HELLO: 'universe' }\n</code></pre>"},{"location":"new-third-part-lib/dotenv/#options_2","title":"options","text":""},{"location":"new-third-part-lib/dotenv/#debug_2","title":"Debug","text":"<p>Default: <code>false</code></p> <p>Turn on logging to help debug why certain keys or values are not being populated as you expect.</p>"},{"location":"new-third-part-lib/dotenv/#override_1","title":"override","text":"<p>Default: <code>false</code></p> <p>Override any environment variables that have already been set.</p>"},{"location":"new-third-part-lib/dotenv/#decrypt","title":"Decrypt","text":"<p>The engine which decrypts the ciphertext contents of your .env.vault file is available for use. It accepts a ciphertext and a decryption key. It uses AES-256-GCM encryption.</p> <p>For example, decrypting a simple ciphertext:</p> <pre><code>const dotenv = require('dotenv')\nconst ciphertext = 's7NYXa809k/bVSPwIAmJhPJmEGTtU0hG58hOZy7I0ix6y5HP8LsHBsZCYC/gw5DDFy5DgOcyd18R'\nconst decryptionKey = 'ddcaa26504cd70a6fef9801901c3981538563a1767c297cb8416e8a38c62fe00'\n\nconst decrypted = dotenv.decrypt(ciphertext, decryptionKey)\n\nconsole.log(decrypted) // # development@v6\\nALPHA=\"zeta\"\n</code></pre>"},{"location":"new-third-part-lib/dotenv/#faq","title":"\u2753 FAQ","text":""},{"location":"new-third-part-lib/dotenv/#why-is-the-env-file-not-loading-my-environment-variables-successfully","title":"Why is the <code>.env</code> file not loading my environment variables successfully?","text":"<p>Most likely your <code>.env</code> file is not in the correct place. See this stack overflow.</p> <p>Turn on debug mode and try again..</p> <pre><code>require('dotenv').config({ debug: true })\n</code></pre> <p>You will receive a helpful error outputted to your console.</p>"},{"location":"new-third-part-lib/dotenv/#should-i-commit-my-env-file","title":"Should I commit my <code>.env</code> file?","text":"<p>No. We strongly recommend against committing your <code>.env</code> file to version control. It should only include environment-specific values such as database passwords or API keys. Your production database should have a different password than your development database.</p>"},{"location":"new-third-part-lib/dotenv/#should-i-have-multiple-env-files","title":"Should I have multiple <code>.env</code> files?","text":"<p>We recommend creating on <code>.env</code> file per environment. Use <code>.env</code> for local/development, <code>.env.production</code> for production and so on. This still follows the twelve factor principles as each is attributed individually to its own environment. Avoid custom set ups that work in inheritance somehow (<code>.env.production</code> inherits values form <code>.env</code> for example). It is better to duplicate values if necessary across each <code>.env.environment</code> file.</p> <p>In a twelve-factor app, env vars are granular controls, each fully orthogonal to other env vars. They are never grouped together as \u201cenvironments\u201d, but instead are independently managed for each deploy. This is a model that scales up smoothly as the app naturally expands into more deploys over its lifetime.</p> <p>\u2013 The Twelve-Factor App</p>"},{"location":"new-third-part-lib/dotenv/#what-rules-does-the-parsing-engine-follow","title":"What rules does the parsing engine follow?","text":"<p>The parsing engine currently supports the following rules:</p> <ul> <li><code>BASIC=basic</code> becomes <code>{BASIC: 'basic'}</code></li> <li>empty lines are skipped</li> <li>lines beginning with <code>#</code> are treated as comments</li> <li><code>#</code> marks the beginning of a comment (unless when the value is wrapped in quotes)</li> <li>empty values become empty strings (<code>EMPTY=</code> becomes <code>{EMPTY: ''}</code>)</li> <li>inner quotes are maintained (think JSON) (<code>JSON={\"foo\": \"bar\"}</code> becomes <code>{JSON:\"{\\\"foo\\\": \\\"bar\\\"}\"</code>)</li> <li>whitespace is removed from both ends of unquoted values (see more on <code>trim</code>) (<code>FOO= some value</code> becomes <code>{FOO: 'some value'}</code>)</li> <li>single and double quoted values are escaped (<code>SINGLE_QUOTE='quoted'</code> becomes <code>{SINGLE_QUOTE: \"quoted\"}</code>)</li> <li>single and double quoted values maintain whitespace from both ends (<code>FOO=\" some value \"</code> becomes <code>{FOO: ' some value '}</code>)</li> <li> <p>double quoted values expand new lines (<code>MULTILINE=\"new\\nline\"</code> becomes</p> <p>{MULTILINE: 'new line'}</p> </li> <li> <p>backticks are supported (<code>BACKTICK_KEY=</code>This has 'single' and \"double\" quotes inside of it.``)</p> </li> </ul>"},{"location":"new-third-part-lib/dotenv/#what-happens-to-environment-variables-that-were-already-set","title":"What happens to environment variables that were already set?","text":"<p>By default, we will never modify any environment variables that have already been set. In particular, if there is a variable in your <code>.env</code> file which collides with one that already exists in your environment, then that variable will be skipped.</p> <p>If instead, you want to override <code>process.env</code> use the <code>override</code> option.</p> <pre><code>require('dotenv').config({ override: true })\n</code></pre>"},{"location":"new-third-part-lib/dotenv/#how-come-my-environment-variables-are-not-showing-up-for-react","title":"How come my environment variables are not showing up for React?","text":"<p>Your React code is run in Webpack, where the <code>fs</code> module or even the <code>process</code> global itself are not accessible out-of-the-box. <code>process.env</code> can only be injected through Webpack configuration.</p> <p>If you are using <code>react-scripts</code>, which is distributed through <code>create-react-app</code>, it has dotenv built in but with a quirk. Preface your environment variables with <code>REACT_APP_</code>. See this stack overflow for more details.</p> <p>If you are using other frameworks (e.g. Next.js, Gatsby...), you need to consult their documentation for how to inject environment variables into the client.</p>"},{"location":"new-third-part-lib/dotenv/#can-i-customizewrite-plugins-for-dotenv","title":"Can I customize/write plugins for dotenv?","text":"<p>Yes! <code>dotenv.config()</code> returns an object representing the parsed <code>.env</code> file. This gives you everything you need to continue setting values on <code>process.env</code>. For example:</p> <pre><code>const dotenv = require('dotenv')\nconst variableExpansion = require('dotenv-expand')\nconst myEnv = dotenv.config()\nvariableExpansion(myEnv)\n</code></pre>"},{"location":"new-third-part-lib/dotenv/#how-do-i-use-dotenv-with-import","title":"How do I use dotenv with <code>import</code>?","text":"<p>Simply..</p> <pre><code>// index.mjs (ESM)\nimport 'dotenv/config' // see https://github.com/motdotla/dotenv#how-do-i-use-dotenv-with-import\nimport express from 'express'\n</code></pre> <p>A little background..</p> <p>When you run a module containing an <code>import</code> declaration, the modules it imports are loaded first, then each module body is executed in a depth-first traversal of the dependency graph, avoiding cycles by skipping anything already executed.</p> <p>\u2013 ES6 In Depth: Modules</p> <p>What does this mean in plain language? It means you would think the following would work but it won't.</p> <p><code>errorReporter.mjs</code>:</p> <pre><code>import { Client } from 'best-error-reporting-service'\n\nexport default new Client(process.env.API_KEY)\n</code></pre> <p><code>index.mjs</code>:</p> <pre><code>// Note: this is INCORRECT and will not work\nimport * as dotenv from 'dotenv'\ndotenv.config()\n\nimport errorReporter from './errorReporter.mjs'\nerrorReporter.report(new Error('documented example'))\n</code></pre> <p><code>process.env.API_KEY</code> will be blank.</p> <p>Instead, <code>index.mjs</code> should be written as..</p> <pre><code>import 'dotenv/config'\n\nimport errorReporter from './errorReporter.mjs'\nerrorReporter.report(new Error('documented example'))\n</code></pre> <p>Does that make sense? It's a bit unintuitive, but it is how importing of ES6 modules work. Here is a working example of this pitfall.</p> <p>There are two alternatives to this approach:</p> <ol> <li>Preload dotenv: <code>node --require dotenv/config index.js</code> (Note: you do not need to<code>import</code> dotenv with this approach)</li> <li>Create a separate file that will execute <code>config</code> first as outlined in this comment on #133</li> </ol>"},{"location":"new-third-part-lib/dotenv/#why-am-i-getting-the-error-module-not-found-error-cant-resolve","title":"Why am I getting the error `Module not found: Error: Can't resolve","text":"<p>'crypto|os|path'`?</p> <p>You are using dotenv on the front-end and have not included a polyfill. Webpack &lt; 5 used to include these for you. Do the following:</p> <pre><code>npm install node-polyfill-webpack-plugin\n</code></pre> <p>Configure your <code>webpack.config.js</code> to something like the following.</p> <pre><code>require('dotenv').config()\n\nconst path = require('path');\nconst webpack = require('webpack')\n\nconst NodePolyfillPlugin = require('node-polyfill-webpack-plugin')\n\nmodule.exports = {\n  mode: 'development',\n  entry: './src/index.ts',\n  output: {\n    filename: 'bundle.js',\n    path: path.resolve(__dirname, 'dist'),\n  },\n  plugins: [\n    new NodePolyfillPlugin(),\n    new webpack.DefinePlugin({\n      'process.env': {\n        HELLO: JSON.stringify(process.env.HELLO)\n      }\n    }),\n  ]\n};\n</code></pre> <p>Alternatively, just use dotenv-webpack which does this and more behind the scenes for you.</p>"},{"location":"new-third-part-lib/dotenv/#what-about-variable-expansion","title":"What about variable expansion?","text":"<p>Try dotenv-expand</p>"},{"location":"new-third-part-lib/dotenv/#what-about-syncing-and-securing-env-files","title":"What about syncing and securing .env files?","text":"<p>Use dotenv-vault</p>"},{"location":"new-third-part-lib/dotenv/#what-is-a-envvault-file","title":"What is a <code>.env.vault</code> file?","text":"<p>A <code>.env.vault</code> file is an encrypted version of your development (and ci, staging, production, etc) environment variables. It is paired with a <code>DOTENV_KEY</code> to deploy your secrets more securely than scattering them across multiple platforms and tools. Use dotenv-vault to manage and generate them.</p>"},{"location":"new-third-part-lib/dotenv/#what-if-i-accidentally-commit-my-env-file-to-code","title":"What if I accidentally commit my <code>.env</code> file to code?","text":"<p>Remove it, remove git history and then install the git pre-commit hook to prevent this from ever happening again.</p> <pre><code>brew install dotenvx/brew/dotenvx\ndotenvx precommit --install\n</code></pre>"},{"location":"new-third-part-lib/dotenv/#how-can-i-prevent-committing-my-env-file-to-a-docker-build","title":"How can I prevent committing my <code>.env</code> file to a Docker build?","text":"<p>Use the docker prebuild hook.</p> <pre><code># Dockerfile\n...\nRUN curl -fsS https://dotenvx.sh/ | sh\n...\nRUN dotenvx prebuild\nCMD [\"dotenvx\", \"run\", \"--\", \"node\", \"index.js\"]\n</code></pre>"},{"location":"new-third-part-lib/dotenv/#contributing-guide","title":"Contributing Guide","text":"<p>See CONTRIBUTING.md</p>"},{"location":"new-third-part-lib/dotenv/#changelog","title":"CHANGELOG","text":"<p>See CHANGELOG.md</p>"},{"location":"new-third-part-lib/dotenv/#whos-using-dotenv","title":"Who's using dotenv?","text":"<p>These npm modules depend on it.</p> <p>Projects that expand it often use the keyword \"dotenv\" on npm.</p>"},{"location":"new-third-part-lib/editor-js/","title":"editor-js","text":""},{"location":"new-third-part-lib/editor-js/#editorjs","title":"Editor.js \u5feb\u901f\u5165\u95e8","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3605  \u9605\u8bfb8\u5206\u949f</p> <p>Editor.js \u662f\u4e00\u4e2a\u5728\u7ebf\u5bcc\u6587\u672c\u7f16\u8f91\u5668 \u5b98\u7f51\u94fe\u63a5\uff1ahttps://editorjs.io/</p> <p>star 21K</p> <ol> <li>\u5bfc\u5165\u7f16\u8f91\u5668\u5e93 Install Editor.js </li> <li>\u7f16\u8f91\u5668\u521d\u59cb\u5316 Configure and initialise the Editor</li> <li>\u5b89\u88c5\u5de5\u5177 Install and Tools </li> <li>\u914d\u7f6e\u5de5\u5177 connect tools</li> </ol>"},{"location":"new-third-part-lib/editor-js/#_1","title":"\u5f15\u5165","text":"<p>\u5b89\u88c5\u5206\u4e3a\u4e09\u79cd\uff0cNode\uff0c CDN\uff08\u94fe\u63a5 https://www.jsdelivr.com/package/npm/@editorjs/editorjs\uff09\uff0c\u672c\u5730\u6587\u4ef6\u5b89\u88c5\u3002\u8fd9\u91cc\u53ea\u4ecb\u7ecd node \u73af\u5883\u3002</p> <pre><code>npm i @editorjs/editorjs --save-dev\n</code></pre> <pre><code>import EditorJS from '@editorjs/editorjs';\n</code></pre>"},{"location":"new-third-part-lib/editor-js/#_2","title":"\u521d\u59cb\u5316\u914d\u7f6e","text":"<p>\u521d\u59cb\u5316\u65f6\uff0c\u53ef\u4ee5\u4e0d\u7528\u5305\u542b\u4efb\u4f55\u53c2\u6570</p> <pre><code>import EditorJS from '@editorjs/editorjs';\nconst editor = new EditorJS();\n</code></pre> <p>\u4e0b\u9762\u662f\u589e\u52a0\u914d\u7f6e\u7684\u4ee3\u7801-IE\u6d4f\u89c8\u5668\u9700\u8981\u517c\u5bb9</p> <pre><code>import EditorJS from '@editorjs/editorjs';\nconst editor = new EditorJs('codex-editor');\n</code></pre> <pre><code>import EditorJS from '@editorjs/editorjs';   \nconst editor = new EditorJs({   \n  holderId: 'codex-editor' \n});\n</code></pre> <p>\u8be6\u7ec6\u7684\u914d\u7f6e\u6587\u4ef6\u5728\u540e\u6587\u4ecb\u7ecd\u3002</p>"},{"location":"new-third-part-lib/editor-js/#_3","title":"\u5b89\u88c5\u5de5\u5177","text":"<p>\u6bcf\u4e00\u4e2a\u5757\u7ea7\u8282\u70b9\u662f\u4e00\u4e2a\u63d2\u4ef6\u3002\u521d\u59cb\u5316\u65f6\u6211\u4eec\u4ec5\u63d0\u4f9b\u6bb5\u843d\u5757\u7ea7\u8282\u70b9\u3002\u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc\u4f7f\u7528\u5176\u4ed6\u7684\u5757\u7ea7\u8282\u70b9\u3002\u70b9\u51fb\u4e0d\u540c\u7684\u5757\u7ea7\u8282\u70b9\u53ef\u4ee5\u83b7\u53d6\u5177\u4f53\u7684\u5b89\u88c5\u6307\u5bfc\u3002</p> <ol> <li>Header</li> <li>Link embeds</li> <li>Raw HTML blocks</li> <li>Simple Image (without backend requirement)</li> <li>Image</li> <li>Checklist</li> <li>List</li> <li>Embeds</li> <li>Quote</li> </ol> <p>And some others.</p> <p>\u5b89\u88c5\u5de5\u5177\u540e\uff0c\u4f60\u9700\u8981\u901a\u8fc7\u914d\u7f6e\u5bf9\u8c61\uff0c\u5c06\u7f16\u8f91\u5668\u548c\u5757\u7ea7\u8282\u70b9\u8fde\u63a5\u3002</p>"},{"location":"new-third-part-lib/editor-js/#_4","title":"\u914d\u7f6e\u5de5\u5177","text":"<p>\u5148\u770b\u4e00\u4e0b\u5f00\u59cb\u7684\u6700\u7b80\u5355\u7684\u914d\u7f6e <pre><code>import EditorJs from '@editorjs/editorjs';   \nconst editor = new EditorJs({    \n  holderId: 'codex-editor',  \n})\n</code></pre></p> <p>\u7136\u540e\uff0c\u589e\u52a0\u4e00\u4e9b\u5de5\u5177\u914d\u7f6e\u3002\u53ef\u4ee5\u6dfb\u52a0 <code>tools</code>\u5bf9\u8c61\u3002</p> <pre><code>import EditorJs from '@editorjs/editorjs';  \nimport Header from '@editorjs/header';  \nimport List from '@editorjs/list';   \nconst editor = new EditorJs({    \n  /**     * Id of Element that should contain the Editor     */    \n  holderId: 'codex-editor',       \n/**     \n  * Available Tools list.     \n  * Pass Tool's class or Settings object for each Tool you want to use     */\n  tools: {\n    header: Header,\n    list: List\n  },  \n});\n</code></pre> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u6ca1\u6709\u9009\u9879\u7684\u5de5\u5177\uff08\u53ea\u6709\u5de5\u5177\u540d\u79f0\uff0cheader list\uff09\u3002</p> <p>\u5f53\u7136\uff0c\u8fd9\u4e9b\u5de5\u5177\u53ef\u4ee5\u589e\u52a0\u9009\u9879\u3002\u6211\u4eec\u53ef\u4ee5\u7ed9\u8fd9\u4e9b\u5de5\u5177\u589e\u52a0\u7279\u5b9a\u7684\u9009\u9879\uff08\u4e0b\u9762\u7684class inlineToolbar\uff0c\u8bbe\u5b9a\u4e86\u884c\u5185\u662f\u5426\u663e\u793a\u5de5\u5177\u680f\uff0c\u663e\u793a\u54ea\u4e9b\u5de5\u5177\u680f\uff0c\u5de5\u5177\u7684\u7c7b\u540d\u7b49\uff09\u3002</p> <pre><code>import EditorJs from '@editorjs/editorjs';  \nimport Header from '@editorjs/header';  \nimport List from '@editorjs/list';   \nconst editor = new EditorJs({    \n  /**     * Id of Element that should contain the Editor     */    \n  holderId: 'codex-editor',     \n  /**     * Available Tools list.     * Pass Tool's class or Settings object for each Tool you want to use     */    \n  tools: {      \n    header: {       \n      class: Header,        \n      inlineToolbar: ['link']      \n    },      \n    list: {        \n      class: List,        \n      inlineToolbar: true      \n    }    \n  },  \n})\n</code></pre> <p>\u90a3\u4e48\uff0c\u57fa\u672c\u7684 Editor \u5c31\u642d\u5efa\u597d\u4e86\u3002</p>"},{"location":"new-third-part-lib/editor-js/#_5","title":"\u6ce8\u610f\u4e8b\u9879","text":"<p>Editor.js \u662f\u539f\u751f JS\uff0c \u548c React \u6846\u67b6\u5e76\u4e0d\u901a\u7528\u3002</p>"},{"location":"new-third-part-lib/element-plus/","title":"element-plus","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4131  \u9605\u8bfb9\u5206\u949f</p>"},{"location":"new-third-part-lib/element-plus/#element-plus_1","title":"Element Plus","text":"<p>\u57fa\u4e8e Vue 3\uff0c\u9762\u5411\u8bbe\u8ba1\u5e08\u548c\u5f00\u53d1\u8005\u7684\u7ec4\u4ef6\u5e93</p> <p>Element UI \u662f\u56fd\u5185\u4f7f\u7528\u6700\u5e7f\u6cdb\u7684 Vue2 \u7ec4\u4ef6\u5e93\u4e4b\u4e00\uff0c\u800c Element Plus \u662f Element UI \u7684\u5347\u7ea7\u7248\uff0c\u57fa\u4e8e Vue3 \u548c TypeScript\uff0c\u63d0\u4f9b\u4e86 70 \u591a\u4e2a\u6613\u4e8e\u4f7f\u7528\u7684\u7ec4\u4ef6\u3002</p> <p>https://element-plus.org/zh-CN/</p> <p>https://github.com/element-plus/element-plus</p> <p>https://www.npmjs.com/package/element-plus</p>"},{"location":"new-third-part-lib/element-plus/#version","title":"version","text":"<p>2.7.7\u00a0\u2022 </p>"},{"location":"new-third-part-lib/element-plus/#downloads","title":"downloads","text":"<p>203,422 </p>"},{"location":"new-third-part-lib/element-plus/#repository","title":"repository","text":"<p>github.com/element-plus/element-plus </p>"},{"location":"new-third-part-lib/element-plus/#homepage","title":"homepage","text":"<p>element-plus.org/ </p>"},{"location":"new-third-part-lib/element-plus/#default-readme","title":"default readme","text":"<p>Element Plus - A Vue.js 3 UI library</p> <ul> <li> <p>\ud83d\udcaa Vue 3 Composition API</p> </li> <li> <p>\ud83d\udd25 Written in TypeScript</p> </li> </ul>"},{"location":"new-third-part-lib/element-plus/#getting-started","title":"Getting Started","text":"<p>Alright, for you to get started if you are looking for making Element Plus better you should keep reading. For developers that uses Element Plus to develop your website you should go ahead visit Getting Started.</p> <ul> <li>\u4e2d\u56fd\u5927\u9646\u52a0\u901f\u955c\u50cf\u7ad9\u70b9</li> </ul>"},{"location":"new-third-part-lib/element-plus/#breaking-change-list","title":"Breaking change list","text":"<p>The first stable release of Element Plus suitable for use in production was released on February 07, 2022. The APIs is stable right now, and here's also a full list about how to get upgraded from Element UI to Element Plus.</p> <p>You can find the breaking change list here: Breaking Change List.</p>"},{"location":"new-third-part-lib/element-plus/#migration-tool","title":"Migration Tool \ud83d\udee0\ufe0f","text":"<p>We have made a migration tool for you to migrate your project from Element UI to Element Plus.</p> <p>You can find the gogo code migration tool here.</p> <p>We have tested this on Vue Element Admin. You can find the transpiled code here.</p> <p>Element Plus \u4e8e 2020\u5e749\u6708\u53d1\u5e03\u7b2c\u4e00\u4e2a Beta \u7248\u672c\uff0c2022\u5e742\u6708\u53d1\u5e03\u7b2c\u4e00\u4e2a\u7a33\u5b9a\u7248\u672c v2.0.0\uff0c\u76ee\u524d\u57fa\u4e3b\u8981\u7531\u793e\u533a\u5f00\u53d1\u8005\u5728\u7ef4\u62a4\u3002</p> <p>\u4ee5\u4e0b\u662f\u622a\u6b62\u5230 2023.12.9 \u7684\u6570\u636e\u60c5\u51b5\uff1a</p> \u6307\u6807 \u6570\u503c Star 22k NPM \u5468\u4e0b\u8f7d 155,168 Issue 1251(Open)+4682(Closed) PR 397+6027 \u8d21\u732e\u8005 540 \u7ec4\u4ef6\u6570 70 <p>\u200b</p> <p>https://element-plus.org/zh-CN/component/</p> <p>\u5b8c\u6574\u5f15\u5165</p> <pre><code>// main.ts\nimport { createApp } from 'vue'\nimport ElementPlus from 'element-plus'\nimport 'element-plus/dist/index.css'\nimport App from './App.vue'\n\nconst app = createApp(App)\n\napp.use(ElementPlus)\napp.mount('#app')\n</code></pre> <p>\u6309\u94ae\u7ec4\u4ef6\u4f7f\u7528</p> <pre><code>&lt;template&gt;\n  &lt;el-row class=\"mb-4\"&gt;\n    &lt;el-button&gt;Default&lt;/el-button&gt;\n    &lt;el-button type=\"primary\"&gt;Primary&lt;/el-button&gt;\n    &lt;el-button type=\"success\"&gt;Success&lt;/el-button&gt;\n    &lt;el-button type=\"info\"&gt;Info&lt;/el-button&gt;\n    &lt;el-button type=\"warning\"&gt;Warning&lt;/el-button&gt;\n    &lt;el-button type=\"danger\"&gt;Danger&lt;/el-button&gt;\n  &lt;/el-row&gt;\n\n  &lt;el-row class=\"mb-4\"&gt;\n    &lt;el-button plain&gt;Plain&lt;/el-button&gt;\n    &lt;el-button type=\"primary\" plain&gt;Primary&lt;/el-button&gt;\n    &lt;el-button type=\"success\" plain&gt;Success&lt;/el-button&gt;\n    &lt;el-button type=\"info\" plain&gt;Info&lt;/el-button&gt;\n    &lt;el-button type=\"warning\" plain&gt;Warning&lt;/el-button&gt;\n    &lt;el-button type=\"danger\" plain&gt;Danger&lt;/el-button&gt;\n  &lt;/el-row&gt;\n\n  &lt;el-row class=\"mb-4\"&gt;\n    &lt;el-button round&gt;Round&lt;/el-button&gt;\n    &lt;el-button type=\"primary\" round&gt;Primary&lt;/el-button&gt;\n    &lt;el-button type=\"success\" round&gt;Success&lt;/el-button&gt;\n    &lt;el-button type=\"info\" round&gt;Info&lt;/el-button&gt;\n    &lt;el-button type=\"warning\" round&gt;Warning&lt;/el-button&gt;\n    &lt;el-button type=\"danger\" round&gt;Danger&lt;/el-button&gt;\n  &lt;/el-row&gt;\n\n  &lt;el-row&gt;\n    &lt;el-button :icon=\"Search\" circle /&gt;\n    &lt;el-button type=\"primary\" :icon=\"Edit\" circle /&gt;\n    &lt;el-button type=\"success\" :icon=\"Check\" circle /&gt;\n    &lt;el-button type=\"info\" :icon=\"Message\" circle /&gt;\n    &lt;el-button type=\"warning\" :icon=\"Star\" circle /&gt;\n    &lt;el-button type=\"danger\" :icon=\"Delete\" circle /&gt;\n  &lt;/el-row&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"ts\" setup&gt;\nimport {\n  Check,\n  Delete,\n  Edit,\n  Message,\n  Search,\n  Star,\n} from '@element-plus/icons-vue'\n&lt;/script&gt;\n</code></pre> <p>\u200b</p>"},{"location":"new-third-part-lib/element-ui/","title":"element-ui","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4682  \u9605\u8bfb10\u5206\u949f</p>"},{"location":"new-third-part-lib/element-ui/#element-ui_1","title":"element-ui","text":"<p>Element\uff0c\u4e00\u5957\u4e3a\u5f00\u53d1\u8005\u3001\u8bbe\u8ba1\u5e08\u548c\u4ea7\u54c1\u7ecf\u7406\u51c6\u5907\u7684\u57fa\u4e8e Vue 2.0 \u7684\u684c\u9762\u7aef\u7ec4\u4ef6\u5e93</p> <p>https://element.eleme.cn/#/zh-CN/component/installation</p> <p>\u652f\u6301\u6309\u9700\u5f15\u5165\u548c\u5b8c\u6574\u5f15\u5165</p> <p>\u6309\u9700\u5f15\u5165</p> <pre><code>import Vue from 'vue';\nimport { Button, Select } from 'element-ui';\nimport App from './App.vue';\n\nVue.component(Button.name, Button);\nVue.component(Select.name, Select);\n\n/* \u6216\u5199\u4e3a\n * Vue.use(Button)\n * Vue.use(Select)\n */\n\nnew Vue({\n  el: '#app',\n  render: h =&gt; h(App)\n});\n</code></pre> <p>\u5b8c\u6574\u5f15\u5165\uff0c\u5305\u62ec\u4e0b\u9762\u5e38\u7528\u7ec4\u4ef6</p> <pre><code>import Vue from 'vue';\nimport {\n  Pagination,\n  Dialog,\n  Autocomplete,\n  Dropdown,\n  DropdownMenu,\n  DropdownItem,\n  Menu,\n  Submenu,\n  MenuItem,\n  MenuItemGroup,\n  Input,\n  InputNumber,\n  Radio,\n  RadioGroup,\n  RadioButton,\n  Checkbox,\n  CheckboxButton,\n  CheckboxGroup,\n  Switch,\n  Select,\n  Option,\n  OptionGroup,\n  Button,\n  ButtonGroup,\n  Table,\n  TableColumn,\n  DatePicker,\n  TimeSelect,\n  TimePicker,\n  Popover,\n  Tooltip,\n  Breadcrumb,\n  BreadcrumbItem,\n  Form,\n  FormItem,\n  Tabs,\n  TabPane,\n  Tag,\n  Tree,\n  Alert,\n  Slider,\n  Icon,\n  Row,\n  Col,\n  Upload,\n  Progress,\n  Spinner,\n  Badge,\n  Card,\n  Rate,\n  Steps,\n  Step,\n  Carousel,\n  CarouselItem,\n  Collapse,\n  CollapseItem,\n  Cascader,\n  ColorPicker,\n  Transfer,\n  Container,\n  Header,\n  Aside,\n  Main,\n  Footer,\n  Timeline,\n  TimelineItem,\n  Link,\n  Divider,\n  Image,\n  Calendar,\n  Backtop,\n  PageHeader,\n  CascaderPanel,\n  Loading,\n  MessageBox,\n  Message,\n  Notification\n} from 'element-ui';\n\nVue.use(Pagination);\nVue.use(Dialog);\nVue.use(Autocomplete);\nVue.use(Dropdown);\nVue.use(DropdownMenu);\nVue.use(DropdownItem);\nVue.use(Menu);\nVue.use(Submenu);\nVue.use(MenuItem);\nVue.use(MenuItemGroup);\nVue.use(Input);\nVue.use(InputNumber);\nVue.use(Radio);\nVue.use(RadioGroup);\nVue.use(RadioButton);\nVue.use(Checkbox);\nVue.use(CheckboxButton);\nVue.use(CheckboxGroup);\nVue.use(Switch);\nVue.use(Select);\nVue.use(Option);\nVue.use(OptionGroup);\nVue.use(Button);\nVue.use(ButtonGroup);\nVue.use(Table);\nVue.use(TableColumn);\nVue.use(DatePicker);\nVue.use(TimeSelect);\nVue.use(TimePicker);\nVue.use(Popover);\nVue.use(Tooltip);\nVue.use(Breadcrumb);\nVue.use(BreadcrumbItem);\nVue.use(Form);\nVue.use(FormItem);\nVue.use(Tabs);\nVue.use(TabPane);\nVue.use(Tag);\nVue.use(Tree);\nVue.use(Alert);\nVue.use(Slider);\nVue.use(Icon);\nVue.use(Row);\nVue.use(Col);\nVue.use(Upload);\nVue.use(Progress);\nVue.use(Spinner);\nVue.use(Badge);\nVue.use(Card);\nVue.use(Rate);\nVue.use(Steps);\nVue.use(Step);\nVue.use(Carousel);\nVue.use(CarouselItem);\nVue.use(Collapse);\nVue.use(CollapseItem);\nVue.use(Cascader);\nVue.use(ColorPicker);\nVue.use(Transfer);\nVue.use(Container);\nVue.use(Header);\nVue.use(Aside);\nVue.use(Main);\nVue.use(Footer);\nVue.use(Timeline);\nVue.use(TimelineItem);\nVue.use(Link);\nVue.use(Divider);\nVue.use(Image);\nVue.use(Calendar);\nVue.use(Backtop);\nVue.use(PageHeader);\nVue.use(CascaderPanel);\n\nVue.use(Loading.directive);\n\nVue.prototype.$loading = Loading.service;\nVue.prototype.$msgbox = MessageBox;\nVue.prototype.$alert = MessageBox.alert;\nVue.prototype.$confirm = MessageBox.confirm;\nVue.prototype.$prompt = MessageBox.prompt;\nVue.prototype.$notify = Notification;\nVue.prototype.$message = Message;\n</code></pre>"},{"location":"new-third-part-lib/element-ui/#element-ui_2","title":"element-ui","text":""},{"location":"new-third-part-lib/element-ui/#version","title":"version","text":"<p>2.15.14\u00a0\u2022 </p>"},{"location":"new-third-part-lib/element-ui/#downloads","title":"downloads","text":"<p>192,906 </p>"},{"location":"new-third-part-lib/element-ui/#repository","title":"repository","text":"<p>github.com/ElemeFE/element </p>"},{"location":"new-third-part-lib/element-ui/#homepage","title":"homepage","text":"<p>element.eleme.io </p>"},{"location":"new-third-part-lib/element-ui/#default-readme","title":"default readme","text":"<p>A Vue.js 2.0 UI Toolkit for Web.</p> <p>Element will stay with Vue 2.x</p> <p>For Vue 3.0, we recommend using Element Plus(Element Plus is a community develop project)</p> <p>For MiniProgram development, we recommend using MorJS</p>"},{"location":"new-third-part-lib/element-ui/#links","title":"Links","text":"<ul> <li> <p>Homepage and documentation </p> </li> <li> <p>International users</p> </li> <li> <p>Chinese users</p> </li> <li> <p>Spanish users</p> </li> <li> <p>French users</p> </li> <li> <p>awesome-element</p> </li> <li> <p>FAQ</p> </li> <li> <p>Vue.js 3.0 migration</p> </li> <li> <p>Customize theme</p> </li> <li> <p>Preview and generate theme online</p> </li> <li> <p>Element for React</p> </li> <li> <p>Element for Angular</p> </li> <li> <p>Atom helper</p> </li> <li> <p>Visual Studio Code helper</p> </li> <li> <p>Starter kit </p> </li> <li> <p>element-starter</p> </li> <li> <p>element-in-laravel-starter</p> </li> <li> <p>Design resources</p> </li> <li> <p>Gitter </p> </li> <li> <p>International users</p> </li> <li> <p>Chinese users</p> </li> </ul>"},{"location":"new-third-part-lib/element-ui/#install","title":"Install","text":"<p>\u200b npm install element-ui -S</p>"},{"location":"new-third-part-lib/element-ui/#quick-start","title":"Quick Start\u200b","text":"<pre><code>\u200b    import Vue from 'vue'\n\u200b    import Element from 'element-ui'\n\u200b    \n\u200b    Vue.use(Element)\n\n// or\nimport {\n  Select,\n  Button\n  // ...\n} from 'element-ui'\n\nVue.component(Select.name, Select)\nVue.component(Button.name, Button)\n</code></pre> <p>For more information, please refer to QuickStart in our documentation.</p> <p>https://element.eleme.io/#/en-US/component/quickstart</p> <p>\u200b</p>"},{"location":"new-third-part-lib/enzyme/","title":"enzyme","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 11926  \u9605\u8bfb24\u5206\u949f</p>"},{"location":"new-third-part-lib/enzyme/#enzyme","title":"enzyme","text":""},{"location":"new-third-part-lib/enzyme/#version","title":"version","text":"<p>3.11.0\u00a0\u2022 </p>"},{"location":"new-third-part-lib/enzyme/#downloads","title":"downloads","text":"<p>1,855,231 </p>"},{"location":"new-third-part-lib/enzyme/#repository","title":"repository","text":"<p>github.com/airbnb/enzyme </p>"},{"location":"new-third-part-lib/enzyme/#homepage","title":"homepage","text":"<p>airbnb.io/enzyme/ </p>"},{"location":"new-third-part-lib/enzyme/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/enzyme/#enzyme_1","title":"Enzyme","text":"<p>Enzyme is a JavaScript Testing utility for React that makes it easier to test your React Components' output. You can also manipulate, traverse, and in some ways simulate runtime given the output.</p> <p>Enzyme's API is meant to be intuitive and flexible by mimicking jQuery's API for DOM manipulation and traversal.</p>"},{"location":"new-third-part-lib/enzyme/#upgrading-from-enzyme-2x-or-react-16","title":"Upgrading from Enzyme 2.x or React &lt; 16","text":"<p>Are you here to check whether or not Enzyme is compatible with React 16? Are you currently using Enzyme 2.x? Great! Check out our migration guide for help moving on to Enzyme v3 where React 16 is supported.</p>"},{"location":"new-third-part-lib/enzyme/#_2","title":"enzyme","text":"<p>Installation</p> <p>To get started with enzyme, you can simply install it via npm. You will need to install enzyme along with an Adapter corresponding to the version of react (or other UI Component library) you are using. For instance, if you are using enzyme with React 16, you can run:</p> <pre><code>npm\u00a0i\u00a0--save-dev\u00a0enzyme\u00a0enzyme-adapter-react-16\n</code></pre> <p>Each adapter may have additional peer dependencies which you will need to install as well. For instance, <code>enzyme-adapter-react-16</code> has peer dependencies on <code>react</code> and <code>react-dom</code>.</p> <p>At the moment, Enzyme has adapters that provide compatibility with <code>React 16.x</code>, <code>React 15.x</code>, <code>React 0.14.x</code> and <code>React 0.13.x</code>.</p> <p>The following adapters are officially provided by enzyme, and have the following compatibility with React:</p> Enzyme Adapter Package React semver compatibility <code>enzyme-adapter-react-16</code> <code>^16.4.0-0</code> <code>enzyme-adapter-react-16.3</code> <code>~16.3.0-0</code> <code>enzyme-adapter-react-16.2</code> <code>~16.2</code> <code>enzyme-adapter-react-16.1</code> <code>~16.0.0-0 \\|\\| ~16.1</code> <code>enzyme-adapter-react-15</code> <code>^15.5.0</code> <code>enzyme-adapter-react-15.4</code> <code>15.0.0-0 - 15.4.x</code> <code>enzyme-adapter-react-14</code> <code>^0.14.0</code> <code>enzyme-adapter-react-13</code> <code>^0.13.0</code> <p>Finally, you need to configure enzyme to use the adapter you want it to use. To do this, you can use the top level <code>configure(...)</code> API.</p> <pre><code>import\u00a0Enzyme\u00a0from\u00a0'enzyme';\n\nimport\u00a0Adapter\u00a0from\u00a0'enzyme-adapter-react-16';\n\n\n\nEnzyme.configure({\u00a0adapter:\u00a0new\u00a0Adapter()\u00a0});\n</code></pre>"},{"location":"new-third-part-lib/enzyme/#3rd-party-adapters","title":"3<sup>rd</sup> Party Adapters","text":"<p>It is possible for the community to create additional (non-official) adapters that will make enzyme work with other libraries. If you have made one and it's not included in the list below, feel free to make a PR to this README and add a link to it! The known 3<sup>rd</sup> party adapters are:</p> Adapter Package For Library Status <code>enzyme-adapter-preact-pure</code> <code>preact</code> (stable) <code>enzyme-adapter-inferno</code> <code>inferno</code> (work in progress)"},{"location":"new-third-part-lib/enzyme/#running-enzyme-tests","title":"Running Enzyme Tests","text":"<p>Enzyme is unopinionated regarding which test runner or assertion library you use, and should be compatible with all major test runners and assertion libraries out there. The documentation and examples for enzyme use mocha and chai, but you should be able to extrapolate to your framework of choice.</p> <p>If you are interested in using enzyme with custom assertions and convenience functions for testing your React components, you can consider using:</p> <ul> <li><code>chai-enzyme</code> with Mocha/Chai.</li> <li><code>jasmine-enzyme</code> with Jasmine.</li> <li><code>jest-enzyme</code> with Jest.</li> <li><code>should-enzyme</code> for should.js.</li> <li><code>expect-enzyme</code> for expect.</li> </ul> <p>Using Enzyme with Mocha</p> <p>Using Enzyme with Karma</p> <p>Using Enzyme with Browserify</p> <p>Using Enzyme with SystemJS</p> <p>Using Enzyme with Webpack</p> <p>Using Enzyme with JSDOM</p> <p>Using Enzyme with React Native</p> <p>Using Enzyme with Jest</p> <p>Using Enzyme with Lab</p> <p>Using Enzyme with Tape and AVA</p>"},{"location":"new-third-part-lib/enzyme/#basic-usage","title":"Basic Usage","text":""},{"location":"new-third-part-lib/enzyme/#shallow","title":"[Shallow","text":"<p>Rendering](https://github.com/airbnb/enzyme/blob/HEAD/docs/api/shallow.md)</p> <pre><code>import\u00a0React\u00a0from\u00a0'react';\n\nimport\u00a0{\u00a0expect\u00a0}\u00a0from\u00a0'chai';\n\nimport\u00a0{\u00a0shallow\u00a0}\u00a0from\u00a0'enzyme';\n\nimport\u00a0sinon\u00a0from\u00a0'sinon';\n\n\n\nimport\u00a0MyComponent\u00a0from\u00a0'./MyComponent';\n\nimport\u00a0Foo\u00a0from\u00a0'./Foo';\n\n\n\ndescribe('&lt;MyComponent\u00a0/&gt;',\u00a0()\u00a0=&gt;\u00a0{\n\n\u00a0\u00a0it('renders\u00a0three\u00a0&lt;Foo\u00a0/&gt;\u00a0components',\u00a0()\u00a0=&gt;\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0const\u00a0wrapper\u00a0=\u00a0shallow(&lt;MyComponent\u00a0/&gt;);\n\n\u00a0\u00a0\u00a0\u00a0expect(wrapper.find(Foo)).to.have.lengthOf(3);\n\n\u00a0\u00a0});\n\n\n\n\u00a0\u00a0it('renders\u00a0an\u00a0`.icon-star`',\u00a0()\u00a0=&gt;\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0const\u00a0wrapper\u00a0=\u00a0shallow(&lt;MyComponent\u00a0/&gt;);\n\n\u00a0\u00a0\u00a0\u00a0expect(wrapper.find('.icon-star')).to.have.lengthOf(1);\n\n\u00a0\u00a0});\n\n\n\n\u00a0\u00a0it('renders\u00a0children\u00a0when\u00a0passed\u00a0in',\u00a0()\u00a0=&gt;\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0const\u00a0wrapper\u00a0=\u00a0shallow((\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0&lt;MyComponent&gt;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0&lt;div\u00a0className=\"unique\"\u00a0/&gt;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0&lt;/MyComponent&gt;\n\n\u00a0\u00a0\u00a0\u00a0));\n\n\u00a0\u00a0\u00a0\u00a0expect(wrapper.contains(&lt;div\u00a0className=\"unique\"\u00a0/&gt;)).to.equal(true);\n\n\u00a0\u00a0});\n\n\n\n\u00a0\u00a0it('simulates\u00a0click\u00a0events',\u00a0()\u00a0=&gt;\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0const\u00a0onButtonClick\u00a0=\u00a0sinon.spy();\n\n\u00a0\u00a0\u00a0\u00a0const\u00a0wrapper\u00a0=\u00a0shallow(&lt;Foo\u00a0onButtonClick={onButtonClick}\u00a0/&gt;);\n\n\u00a0\u00a0\u00a0\u00a0wrapper.find('button').simulate('click');\n\n\u00a0\u00a0\u00a0\u00a0expect(onButtonClick).to.have.property('callCount',\u00a01);\n\n\u00a0\u00a0});\n\n});\n</code></pre> <p>Read the full API Documentation</p>"},{"location":"new-third-part-lib/enzyme/#full-dom","title":"[Full DOM","text":"<p>Rendering](https://github.com/airbnb/enzyme/blob/HEAD/docs/api/mount.md)</p> <pre><code>import\u00a0React\u00a0from\u00a0'react';\n\nimport\u00a0sinon\u00a0from\u00a0'sinon';\n\nimport\u00a0{\u00a0expect\u00a0}\u00a0from\u00a0'chai';\n\nimport\u00a0{\u00a0mount\u00a0}\u00a0from\u00a0'enzyme';\n\n\n\nimport\u00a0Foo\u00a0from\u00a0'./Foo';\n\n\n\ndescribe('&lt;Foo\u00a0/&gt;',\u00a0()\u00a0=&gt;\u00a0{\n\n\u00a0\u00a0it('allows\u00a0us\u00a0to\u00a0set\u00a0props',\u00a0()\u00a0=&gt;\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0const\u00a0wrapper\u00a0=\u00a0mount(&lt;Foo\u00a0bar=\"baz\"\u00a0/&gt;);\n\n\u00a0\u00a0\u00a0\u00a0expect(wrapper.props().bar).to.equal('baz');\n\n\u00a0\u00a0\u00a0\u00a0wrapper.setProps({\u00a0bar:\u00a0'foo'\u00a0});\n\n\u00a0\u00a0\u00a0\u00a0expect(wrapper.props().bar).to.equal('foo');\n\n\u00a0\u00a0});\n\n\n\n\u00a0\u00a0it('simulates\u00a0click\u00a0events',\u00a0()\u00a0=&gt;\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0const\u00a0onButtonClick\u00a0=\u00a0sinon.spy();\n\n\u00a0\u00a0\u00a0\u00a0const\u00a0wrapper\u00a0=\u00a0mount((\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0&lt;Foo\u00a0onButtonClick={onButtonClick}\u00a0/&gt;\n\n\u00a0\u00a0\u00a0\u00a0));\n\n\u00a0\u00a0\u00a0\u00a0wrapper.find('button').simulate('click');\n\n\u00a0\u00a0\u00a0\u00a0expect(onButtonClick).to.have.property('callCount',\u00a01);\n\n\u00a0\u00a0});\n\n\n\n\u00a0\u00a0it('calls\u00a0componentDidMount',\u00a0()\u00a0=&gt;\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0sinon.spy(Foo.prototype,\u00a0'componentDidMount');\n\n\u00a0\u00a0\u00a0\u00a0const\u00a0wrapper\u00a0=\u00a0mount(&lt;Foo\u00a0/&gt;);\n\n\u00a0\u00a0\u00a0\u00a0expect(Foo.prototype.componentDidMount).to.have.property('callCount',\u00a01);\n\n\u00a0\u00a0\u00a0\u00a0Foo.prototype.componentDidMount.restore();\n\n\u00a0\u00a0});\n\n});\n</code></pre> <p>Read the full API Documentation</p>"},{"location":"new-third-part-lib/enzyme/#static-rendered","title":"[Static Rendered","text":"<p>Markup](https://github.com/airbnb/enzyme/blob/HEAD/docs/api/render.md)</p> <pre><code>import\u00a0React\u00a0from\u00a0'react';\n\nimport\u00a0{\u00a0expect\u00a0}\u00a0from\u00a0'chai';\n\nimport\u00a0{\u00a0render\u00a0}\u00a0from\u00a0'enzyme';\n\n\n\nimport\u00a0Foo\u00a0from\u00a0'./Foo';\n\n\n\ndescribe('&lt;Foo\u00a0/&gt;',\u00a0()\u00a0=&gt;\u00a0{\n\n\u00a0\u00a0it('renders\u00a0three\u00a0`.foo-bar`s',\u00a0()\u00a0=&gt;\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0const\u00a0wrapper\u00a0=\u00a0render(&lt;Foo\u00a0/&gt;);\n\n\u00a0\u00a0\u00a0\u00a0expect(wrapper.find('.foo-bar')).to.have.lengthOf(3);\n\n\u00a0\u00a0});\n\n\n\n\u00a0\u00a0it('renders\u00a0the\u00a0title',\u00a0()\u00a0=&gt;\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0const\u00a0wrapper\u00a0=\u00a0render(&lt;Foo\u00a0title=\"unique\"\u00a0/&gt;);\n\n\u00a0\u00a0\u00a0\u00a0expect(wrapper.text()).to.contain('unique');\n\n\u00a0\u00a0});\n\n});\n</code></pre> <p>Read the full API Documentation</p>"},{"location":"new-third-part-lib/enzyme/#react-hooks-support","title":"React Hooks support","text":"<p>Enzyme supports react hooks with some limitations in <code>.shallow()</code> due to upstream issues in React's shallow renderer:</p> <ul> <li> <p><code>useEffect()</code> and <code>useLayoutEffect()</code> don't get called in the React shallow renderer. Related issue</p> </li> <li> <p><code>useCallback()</code> doesn't memoize callback in React shallow renderer. Related issue</p> </li> </ul>"},{"location":"new-third-part-lib/enzyme/#reacttestutilsact","title":"<code>ReactTestUtils.act()</code>","text":"<p>wrap</p> <p>If you're using React 16.8+ and <code>.mount()</code>, Enzyme will wrap apis including <code>.simulate()</code>, <code>.setProps()</code>, <code>.setContext()</code>, <code>.invoke()</code> with <code>ReactTestUtils.act()</code> so you don't need to manually wrap it.</p> <p>A common pattern to trigger handlers with <code>.act()</code> and assert is:</p> <pre><code>const\u00a0wrapper\u00a0=\u00a0mount(&lt;SomeComponent\u00a0/&gt;);\n\nact(()\u00a0=&gt;\u00a0wrapper.prop('handler')());\n\nwrapper.update();\n\nexpect(/*\u00a0...\u00a0*/);\n</code></pre> <p>We cannot wrap the result of <code>.prop()</code> (or <code>.props()</code>) with <code>.act()</code> in Enzyme internally since it will break the equality of the returned value. However, you could use <code>.invoke()</code> to simplify the code:</p> <pre><code>const\u00a0wrapper\u00a0=\u00a0mount(&lt;SomeComponent\u00a0/&gt;);\n\nwrapper.invoke('handler')();\n\nexpect(/*\u00a0...\u00a0*/);\n</code></pre>"},{"location":"new-third-part-lib/enzyme/#future","title":"Future","text":"<p>Enzyme Future</p>"},{"location":"new-third-part-lib/enzyme/#contributing","title":"Contributing","text":"<p>See the Contributors Guide</p>"},{"location":"new-third-part-lib/enzyme/#in-the-wild","title":"In the wild","text":"<p>Organizations and projects using <code>enzyme</code> can list themselves here.</p>"},{"location":"new-third-part-lib/enzyme/#license","title":"License","text":"<p>MIT</p>"},{"location":"new-third-part-lib/eslint-config-react-app/","title":"eslint-config-react-app","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4723  \u9605\u8bfb10\u5206\u949f</p>"},{"location":"new-third-part-lib/eslint-config-react-app/#eslint-config-react-app","title":"eslint-config-react-app","text":""},{"location":"new-third-part-lib/eslint-config-react-app/#version","title":"version","text":"<p>7.0.1\u00a0\u2022 </p>"},{"location":"new-third-part-lib/eslint-config-react-app/#downloads","title":"downloads","text":"<p>4,234,792 </p>"},{"location":"new-third-part-lib/eslint-config-react-app/#repository","title":"repository","text":"<p>github.com/facebook/create-react-app </p>"},{"location":"new-third-part-lib/eslint-config-react-app/#homepage","title":"homepage","text":"<p>github.com/facebook/create-react-app#readme </p>"},{"location":"new-third-part-lib/eslint-config-react-app/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/eslint-config-react-app/#eslint-config-react-app_1","title":"eslint-config-react-app","text":"<p>This package includes the shareable ESLint configuration used by Create React App. Please refer to its documentation:</p> <ul> <li>Getting Started \u2013 How to create a new app.</li> <li>User Guide \u2013 How to develop apps bootstrapped with Create React App.</li> </ul>"},{"location":"new-third-part-lib/eslint-config-react-app/#usage-in-create-react-app-projects","title":"Usage in Create React App Projects","text":"<p>The easiest way to use this configuration is with Create React App, which includes it by default.</p> <p>You don\u2019t need to install it separately in Create React App projects.</p>"},{"location":"new-third-part-lib/eslint-config-react-app/#usage-outside-of-create-react-app","title":"Usage Outside of Create React App","text":"<p>If you want to use this ESLint configuration in a project not built with Create React App, you can install it with the following steps.</p> <p>First, install this package and ESLint.</p> <pre><code>npm install --save-dev eslint-config-react-app eslint@^8.0.0\n</code></pre> <p>Then create a file named <code>.eslintrc.json</code> with following contents in the root folder of your project:</p> <pre><code>{\n  \"extends\": \"react-app\"\n}\n</code></pre> <p>That's it! You can override the settings from <code>eslint-config-react-app</code> by editing the <code>.eslintrc.json</code> file. Learn more about configuring ESLint on the ESLint website.</p>"},{"location":"new-third-part-lib/eslint-config-react-app/#jest-rules","title":"Jest rules","text":"<p>This config also ships with optional Jest rules for ESLint (based on <code>eslint- plugin-jest</code>).</p> <p>You can enable these rules by adding the Jest config to the <code>extends</code> array in your ESLint config.</p> <pre><code>{\n  \"extends\": [\"react-app\", \"react-app/jest\"]\n}\n</code></pre>"},{"location":"new-third-part-lib/eslint-config-react-app/#accessibility-checks","title":"Accessibility Checks","text":"<p>The following rules from the eslint-plugin- jsx-a11y plugin are activated:</p> <ul> <li>alt-text</li> <li>anchor-has-content</li> <li>aria-activedescendant-has-tabindex</li> <li>aria-props</li> <li>aria-proptypes</li> <li>aria-role</li> <li>aria-unsupported-elements</li> <li>heading-has-content</li> <li>href-no-hash</li> <li>iframe-has-title</li> <li>img-redundant-alt</li> <li>no-access-key</li> <li>no-distracting-elements</li> <li>no-redundant-roles</li> <li>role-has-required-aria-props</li> <li>role-supports-aria-props</li> <li>scope</li> </ul> <p>If you want to enable even more accessibility rules, you can create an <code>.eslintrc.json</code> file in the root of your project with this content:</p> <pre><code>{\n  \"extends\": [\"react-app\", \"plugin:jsx-a11y/recommended\"],\n  \"plugins\": [\"jsx-a11y\"]\n}\n</code></pre> <p>However, if you are using Create React App and have not ejected, any additional rules will only be displayed in the IDE integrations, but not in the browser or the terminal.</p>"},{"location":"new-third-part-lib/eslint-loader/","title":"eslint-loader","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 13125  \u9605\u8bfb27\u5206\u949f</p>"},{"location":"new-third-part-lib/eslint-loader/#eslint-loader","title":"eslint-loader","text":""},{"location":"new-third-part-lib/eslint-loader/#version","title":"version","text":"<p>4.0.2\u00a0\u2022 </p>"},{"location":"new-third-part-lib/eslint-loader/#downloads","title":"downloads","text":"<p>1,228,234 </p>"},{"location":"new-third-part-lib/eslint-loader/#repository","title":"repository","text":"<p>github.com/webpack-contrib/eslint-loader </p>"},{"location":"new-third-part-lib/eslint-loader/#homepage","title":"homepage","text":"<p>github.com/webpack-contrib/eslint-loader </p>"},{"location":"new-third-part-lib/eslint-loader/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/eslint-loader/#eslint-loader_1","title":"eslint-loader","text":"<p>A ESlint loader for webpack</p>"},{"location":"new-third-part-lib/eslint-loader/#install","title":"Install","text":"<pre><code>npm\u00a0install\u00a0eslint-loader\u00a0--save-dev\n</code></pre> <p>Note : You also need to install <code>eslint</code> from npm, if you haven't already:</p> <pre><code>npm\u00a0install\u00a0eslint\u00a0--save-dev\n</code></pre>"},{"location":"new-third-part-lib/eslint-loader/#usage","title":"Usage","text":"<p>In your webpack configuration:</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0//\u00a0...\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.js$/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0exclude:\u00a0/node_modules/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'eslint-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0eslint\u00a0options\u00a0(if\u00a0necessary)\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n\u00a0\u00a0//\u00a0...\n\n};\n</code></pre> <p>When using with transpiling loaders (like <code>babel-loader</code>), make sure they are in correct order (bottom to top). Otherwise files will be checked after being processed by <code>babel-loader</code>:</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0//\u00a0...\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.js$/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0exclude:\u00a0/node_modules/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0['babel-loader',\u00a0'eslint-loader'],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n\u00a0\u00a0//\u00a0...\n\n};\n</code></pre> <p>To be safe, you can use <code>enforce: 'pre'</code> section to check source files, not modified by other loaders (like <code>babel-loader</code>):</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0//\u00a0...\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enforce:\u00a0'pre',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.js$/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0exclude:\u00a0/node_modules/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'eslint-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.js$/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0exclude:\u00a0/node_modules/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'babel-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n\u00a0\u00a0//\u00a0...\n\n};\n</code></pre>"},{"location":"new-third-part-lib/eslint-loader/#options","title":"Options","text":"<p>You can pass eslint options using standard webpack loader options.</p> <p>Note : That the config option you provide will be passed to the <code>CLIEngine</code>. This is a different set of options than what you'd specify in <code>package.json</code> or <code>.eslintrc</code>. See the eslint docs for more detail.</p>"},{"location":"new-third-part-lib/eslint-loader/#cache","title":"<code>cache</code>","text":"<ul> <li>Type: <code>Boolean|String</code></li> <li>Default: <code>false</code></li> </ul> <p>This option will enable caching of the linting results into a file. This is particularly useful in reducing linting time when doing a full build.</p> <p>This can either be a <code>boolean</code> value or the cache directory path(ex: <code>'./.eslint-loader-cache'</code>).</p> <p>If <code>cache: true</code> is used, the cache is written to the <code>./node_modules/.cache/eslint-loader</code> directory. This is the recommended usage.</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0entry:\u00a0'...',\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.js$/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0exclude:\u00a0/node_modules/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'eslint-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cache:\u00a0true,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/eslint-loader/#eslintpath","title":"<code>eslintPath</code>","text":"<ul> <li>Type: <code>String</code></li> <li>Default: <code>eslint</code></li> </ul> <p>Path to <code>eslint</code> instance that will be used for linting. If the <code>eslintPath</code> is a folder like a official eslint, or specify a <code>formatter</code> option. Now you dont have to install <code>eslint</code>.</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0entry:\u00a0'...',\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.js$/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0exclude:\u00a0/node_modules/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'eslint-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0eslintPath:\u00a0path.join(__dirname,\u00a0'reusable-eslint'),\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/eslint-loader/#fix","title":"<code>fix</code>","text":"<ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>This option will enable ESLint autofix feature.</p> <p>Be careful: this option will change source files.</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0entry:\u00a0'...',\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.js$/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0exclude:\u00a0/node_modules/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'eslint-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0fix:\u00a0true,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/eslint-loader/#formatter","title":"<code>formatter</code>","text":"<ul> <li>Type: <code>String|Function</code></li> <li>Default: <code>stylish</code></li> </ul> <p>This option accepts a function that will have one argument: an array of eslint messages (object). The function must return the output as a string. You can use official eslint formatters.</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0entry:\u00a0'...',\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.js$/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0exclude:\u00a0/node_modules/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'eslint-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0several\u00a0examples\u00a0!\n\n\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0default\u00a0value\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0formatter:\u00a0'stylish',\n\n\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0community\u00a0formatter\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0formatter:\u00a0require('eslint-friendly-formatter'),\n\n\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0custom\u00a0formatter\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0formatter:\u00a0function\u00a0(results)\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0`results`\u00a0format\u00a0is\u00a0available\u00a0here\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0http://eslint.org/docs/developer-guide/nodejs-api.html#executeonfiles()\n\n\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0you\u00a0should\u00a0return\u00a0a\u00a0string\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0DO\u00a0NOT\u00a0USE\u00a0console.*()\u00a0directly\u00a0!\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0'OUTPUT';\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/eslint-loader/#errors-and-warning","title":"Errors and Warning","text":"<p>By default the loader will auto adjust error reporting depending on eslint errors/warnings counts. You can still force this behavior by using <code>emitError</code> or <code>emitWarning</code> options:</p>"},{"location":"new-third-part-lib/eslint-loader/#emiterror","title":"<code>emitError</code>","text":"<ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will always return errors, if this option is set to <code>true</code>.</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0entry:\u00a0'...',\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.js$/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0exclude:\u00a0/node_modules/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'eslint-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0emitError:\u00a0true,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/eslint-loader/#emitwarning","title":"<code>emitWarning</code>","text":"<ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will always return warnings, if option is set to <code>true</code>. If you're using hot module replacement, you may wish to enable this in development, or else updates will be skipped when there's an eslint error.</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0entry:\u00a0'...',\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.js$/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0exclude:\u00a0/node_modules/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'eslint-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0emitWarning:\u00a0true,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/eslint-loader/#failonerror","title":"<code>failOnError</code>","text":"<ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will cause the module build to fail if there are any errors, if option is set to <code>true</code>.</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0entry:\u00a0'...',\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.js$/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0exclude:\u00a0/node_modules/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'eslint-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0failOnError:\u00a0true,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/eslint-loader/#failonwarning","title":"<code>failOnWarning</code>","text":"<ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will cause the module build to fail if there are any warnings, if option is set to <code>true</code>.</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0entry:\u00a0'...',\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.js$/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0exclude:\u00a0/node_modules/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'eslint-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0failOnWarning:\u00a0true,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/eslint-loader/#quiet","title":"<code>quiet</code>","text":"<ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will process and report errors only and ignore warnings, if this option is set to <code>true</code>.</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0entry:\u00a0'...',\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.js$/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0exclude:\u00a0/node_modules/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'eslint-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0quiet:\u00a0true,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/eslint-loader/#outputreport","title":"<code>outputReport</code>","text":"<ul> <li>Type: <code>Boolean|Object</code></li> <li>Default: <code>false</code></li> </ul> <p>Write the output of the errors to a file, for example a checkstyle xml file for use for reporting on Jenkins CI.</p> <p>The <code>filePath</code> is an absolute path or relative to the webpack config: <code>output.path</code>. You can pass in a different <code>formatter</code> for the output file, if none is passed in the default/configured formatter will be used.</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0entry:\u00a0'...',\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.js$/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0exclude:\u00a0/node_modules/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'eslint-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0outputReport:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0filePath:\u00a0'checkstyle.xml',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0formatter:\u00a0'checkstyle',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/eslint-loader/#gotchas","title":"Gotchas","text":""},{"location":"new-third-part-lib/eslint-loader/#noemitonerrorsplugin","title":"NoEmitOnErrorsPlugin","text":"<p><code>NoEmitOnErrorsPlugin</code> is now automatically enabled in webpack 4, when mode is either unset, or set to production. So even ESLint warnings will fail the build. No matter what error settings are used for <code>eslint-loader</code>, except if <code>emitWarning</code> enabled.</p>"},{"location":"new-third-part-lib/eslint-loader/#defining-configfile-or-using-eslint-c-patheslintrc","title":"Defining <code>configFile</code> or using <code>eslint -c path/.eslintrc</code>","text":"<p>Bear in mind that when you define <code>configFile</code>, <code>eslint</code> doesn't automatically look for <code>.eslintrc</code> files in the directory of the file to be linted. More information is available in official eslint documentation in section Using Configuration Files. See #129.</p>"},{"location":"new-third-part-lib/eslint-loader/#changelog","title":"Changelog","text":"<p>Changelog</p>"},{"location":"new-third-part-lib/eslint-loader/#license","title":"License","text":"<p>MIT</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/","title":"eslint-plugin-flowtype","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 190875  \u9605\u8bfb382\u5206\u949f</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#eslint-plugin-flowtype","title":"eslint-plugin-flowtype","text":""},{"location":"new-third-part-lib/eslint-plugin-flowtype/#version","title":"version","text":"<p>8.0.3\u00a0\u2022 </p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#downloads","title":"downloads","text":"<p>4,663,563 </p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#repository","title":"repository","text":"<p>github.com/gajus/eslint-plugin-flowtype </p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#homepage","title":"homepage","text":"<p>github.com/gajus/eslint-plugin-flowtype#readme </p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/eslint-plugin-flowtype/#eslint-plugin-flowtype_1","title":"eslint-plugin-flowtype","text":"<p>Flow type linting rules for ESLint.</p> <ul> <li>eslint-plugin-flowtype<ul> <li>Installation</li> <li>Configuration</li> <li>Shareable configurations</li> <li>Community maintained configurations</li> <li>Settings</li> <li><code>onlyFilesWithFlowAnnotation</code></li> <li>Rules</li> <li><code>array-style-complex-type</code></li> <li><code>array-style-simple-type</code></li> <li><code>arrow-parens</code></li> <li><code>boolean-style</code></li> <li><code>define-flow-type</code></li> <li><code>delimiter-dangle</code></li> <li><code>enforce-line-break</code></li> <li><code>generic-spacing</code></li> <li><code>interface-id-match</code></li> <li><code>newline-after-flow-annotation</code></li> <li><code>no-dupe-keys</code></li> <li><code>no-duplicate-type-union-intersection-members</code></li> <li><code>no-existential-type</code></li> <li><code>no-flow-fix-me-comments</code></li> <li><code>no-internal-flow-type</code></li> <li><code>no-mixed</code></li> <li><code>no-mutable-array</code></li> <li><code>no-primitive-constructor-types</code></li> <li><code>no-types-missing-file-annotation</code></li> <li><code>no-unused-expressions</code></li> <li><code>no-weak-types</code></li> <li><code>object-type-curly-spacing</code></li> <li><code>object-type-delimiter</code></li> <li><code>quotes</code></li> <li><code>require-compound-type-alias</code></li> <li><code>require-exact-type</code></li> <li><code>require-indexer-name</code></li> <li><code>require-inexact-type</code></li> <li><code>require-parameter-type</code></li> <li><code>require-readonly-react-props</code></li> <li><code>require-return-type</code></li> <li><code>require-types-at-top</code></li> <li><code>require-valid-file-annotation</code></li> <li><code>require-variable-type</code></li> <li><code>semi</code></li> <li><code>sort-keys</code></li> <li><code>sort-type-union-intersection-members</code></li> <li><code>space-after-type-colon</code></li> <li><code>space-before-generic-bracket</code></li> <li><code>space-before-type-colon</code></li> <li><code>spread-exact-type</code></li> <li><code>type-id-match</code></li> <li><code>type-import-style</code></li> <li><code>union-intersection-spacing</code></li> <li><code>use-flow-type</code></li> <li><code>use-read-only-spread</code></li> <li><code>valid-syntax</code></li> </ul> </li> </ul>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#installation","title":"Installation","text":"<p>\u200b       npm install eslint --save-dev     npm install @babel/eslint-parser --save-dev     npm install eslint-plugin-flowtype --save-dev</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#configuration","title":"Configuration","text":"<ol> <li>Set <code>parser</code> property to <code>@babel/eslint-parser</code>.</li> <li>Add <code>plugins</code> section and specify <code>eslint-plugin-flowtype</code> as a plugin.</li> <li>Enable rules.</li> </ol> <p>\u200b       {       \"parser\": \"@babel/eslint-parser\",       \"plugins\": [         \"flowtype\"       ],       \"rules\": {         \"flowtype/boolean-style\": [           2,           \"boolean\"         ],         \"flowtype/define-flow-type\": 1,         \"flowtype/delimiter-dangle\": [           2,           \"never\"         ],         \"flowtype/generic-spacing\": [           2,           \"never\"         ],         \"flowtype/interface-id-match\": [           2,           \"^([A-Z][a-z0-9]+)+Type\"         ],         \"flowtype/no-mixed\": 2,         \"flowtype/no-primitive-constructor-types\": 2,         \"flowtype/no-types-missing-file-annotation\": 2,         \"flowtype/no-weak-types\": 2,         \"flowtype/object-type-delimiter\": [           2,           \"comma\"         ],         \"flowtype/require-parameter-type\": 2,         \"flowtype/require-readonly-react-props\": 0,         \"flowtype/require-return-type\": [           2,           \"always\",           {             \"annotateUndefined\": \"never\"           }         ],         \"flowtype/require-valid-file-annotation\": 2,         \"flowtype/semi\": [           2,           \"always\"         ],         \"flowtype/space-after-type-colon\": [           2,           \"always\"         ],         \"flowtype/space-before-generic-bracket\": [           2,           \"never\"         ],         \"flowtype/space-before-type-colon\": [           2,           \"never\"         ],         \"flowtype/type-id-match\": [           2,           \"^([A-Z][a-z0-9]+)+Type\"         ],         \"flowtype/union-intersection-spacing\": [           2,           \"always\"         ],         \"flowtype/use-flow-type\": 1,         \"flowtype/valid-syntax\": 1       },       \"settings\": {         \"flowtype\": {           \"onlyFilesWithFlowAnnotation\": false         }       }     }</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#shareable-configurations","title":"Shareable configurations","text":""},{"location":"new-third-part-lib/eslint-plugin-flowtype/#recommended","title":"Recommended","text":"<p>This plugin exports a recommended configuration that enforces Flow type good practices.</p> <p>To enable this configuration use the extends property in your <code>.eslintrc</code> config file:</p> <p>\u200b       {       \"extends\": [         \"plugin:flowtype/recommended\"       ],       \"plugins\": [         \"flowtype\"       ]     }</p> <p>See ESLint documentation for more information about extending configuration files.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#community-maintained-configurations","title":"Community maintained configurations","text":"<p>The following are third-party submitted/ maintained configurations of <code>eslint- plugin-flowtype</code>:</p> <ul> <li>https://github.com/wemake-services/eslint-config-flowtype-essential</li> </ul>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#settings","title":"Settings","text":""},{"location":"new-third-part-lib/eslint-plugin-flowtype/#onlyfileswithflowannotation","title":"<code>onlyFilesWithFlowAnnotation</code>","text":"<p>When <code>true</code>, only checks files with a <code>@flow</code> annotation in the first comment.</p> <p>\u200b       {       \"settings\": {         \"flowtype\": {           \"onlyFilesWithFlowAnnotation\": true         }       }     }</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#rules","title":"Rules","text":""},{"location":"new-third-part-lib/eslint-plugin-flowtype/#array-style-complex-type","title":"<code>array-style-complex-type</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>Enforces a particular annotation style of complex types.</p> <p>Type is considered complex in these cases:</p> <ul> <li>Maybe type</li> <li>Function type</li> <li>Object type</li> <li>Tuple type</li> <li>Union type</li> <li>Intersection type</li> </ul> <p>This rule takes one argument.</p> <p>If it is <code>'verbose'</code> then a problem is raised when using <code>Type[]</code> instead of <code>Array&lt;Type&gt;</code>.</p> <p>If it is <code>'shorthand'</code> then a problem is raised when using <code>Array&lt;Type&gt;</code> instead of <code>Type[]</code>.</p> <p>The default value is <code>'verbose'</code>.</p> <p>The following patterns are considered problems:</p> <p>\u200b       type X = (?string)[]     // Message: Use \"Array&lt;?string&gt;\", not \"(?string)[]\"</p> <pre><code>// Options: [\"verbose\"]\ntype X = (?string)[]\n// Message: Use \"Array&lt;?string&gt;\", not \"(?string)[]\"\n\n// Options: [\"shorthand\"]\ntype X = Array&lt;?string&gt;\n// Message: Use \"(?string)[]\", not \"Array&lt;?string&gt;\"\n\n// Options: [\"shorthand\"]\ntype X = Array&lt;{foo: string}&gt;\n// Message: Use \"{foo: string}[]\", not \"Array&lt;{foo: string}&gt;\"\n\ntype X = (string | number)[]\n// Message: Use \"Array&lt;string | number&gt;\", not \"(string | number)[]\"\n\ntype X = (string &amp; number)[]\n// Message: Use \"Array&lt;string &amp; number&gt;\", not \"(string &amp; number)[]\"\n\ntype X = [string, number][]\n// Message: Use \"Array&lt;[string, number]&gt;\", not \"[string, number][]\"\n\ntype X = {foo: string}[]\n// Message: Use \"Array&lt;{foo: string}&gt;\", not \"{foo: string}[]\"\n\ntype X = (string =&gt; number)[]\n// Message: Use \"Array&lt;string =&gt; number&gt;\", not \"(string =&gt; number)[]\"\n\ntype X = {\n    foo: string,\n    bar: number\n}[]\n// Message: Use \"Array&lt;{ foo: string, bar: number }&gt;\", not \"{ foo: string, bar: number }[]\"\n\ntype X = {\n    foo: string,\n    bar: number,\n    quo: boolean,\n    hey: Date\n}[]\n// Message: Use \"Array&lt;Type&gt;\", not \"Type[]\"\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type X = Array&lt;?string&gt;</p> <pre><code>// Options: [\"verbose\"]\ntype X = Array&lt;?string&gt;\n\n// Options: [\"shorthand\"]\ntype X = (?string)[]\n\n// Options: [\"shorthand\"]\ntype X = Array&lt;string&gt;\n\n// Options: [\"shorthand\"]\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\ntype X = Array&lt;?string&gt;\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#array-style-simple-type","title":"<code>array-style-simple-type</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>Enforces a particular array type annotation style of simple types.</p> <p>Type is considered simple in these cases:</p> <ul> <li>Primitive types</li> <li>Literal types</li> <li>Mixed type</li> <li>Any type</li> <li>Class type</li> <li>Generic type</li> <li>Array type shorthand notation</li> </ul> <p>This rule takes one argument.</p> <p>If it is <code>'verbose'</code> then a problem is raised when using <code>Type[]</code> instead of <code>Array&lt;Type&gt;</code>.</p> <p>If it is <code>'shorthand'</code> then a problem is raised when using <code>Array&lt;Type&gt;</code> instead of <code>Type[]</code>.</p> <p>The default value is <code>'verbose'</code>.</p> <p>The following patterns are considered problems:</p> <p>\u200b       type X = string[]     // Message: Use \"Array\", not \"string[]\" <pre><code>// Options: [\"verbose\"]\ntype X = string[]\n// Message: Use \"Array&lt;string&gt;\", not \"string[]\"\n\n// Options: [\"shorthand\"]\ntype X = Array&lt;string&gt;\n// Message: Use \"string[]\", not \"Array&lt;string&gt;\"\n\ntype X = Date[]\n// Message: Use \"Array&lt;Date&gt;\", not \"Date[]\"\n\ntype X = Promise&lt;string&gt;[]\n// Message: Use \"Array&lt;Promise&lt;string&gt;&gt;\", not \"Promise&lt;string&gt;[]\"\n\ntype X = $Keys&lt;{foo: string}&gt;[]\n// Message: Use \"Array&lt;$Keys&lt;{foo: string}&gt;&gt;\", not \"$Keys&lt;{foo: string}&gt;[]\"\n\ntype X = any[]\n// Message: Use \"Array&lt;any&gt;\", not \"any[]\"\n\ntype X = mixed[]\n// Message: Use \"Array&lt;mixed&gt;\", not \"mixed[]\"\n\ntype X = void[]\n// Message: Use \"Array&lt;void&gt;\", not \"void[]\"\n\ntype X = null[]\n// Message: Use \"Array&lt;null&gt;\", not \"null[]\"\n\ntype X = Promise&lt;{\n    foo: string,\n    bar: number\n}&gt;[]\n// Message: Use \"Array&lt;Promise&lt;{ foo: string, bar: number }&gt;&gt;\", not \"Promise&lt;{ foo: string, bar: number }&gt;[]\"\n\ntype X = Promise&lt;{\n    foo: string,\n    bar: number,\n    quo: boolean\n}&gt;[]\n// Message: Use \"Array&lt;Type&gt;\", not \"Type[]\"\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type X = Array <pre><code>// Options: [\"verbose\"]\ntype X = Array&lt;string&gt;\n\n// Options: [\"shorthand\"]\ntype X = string[]\n\ntype X = Array&lt;Array&lt;string&gt;&gt;\n\n// Options: [\"verbose\"]\ntype X = (?string)[]\n\n// Options: [\"verbose\"]\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\ntype X = string[]\n\ntype X = Array\n\ntype X = typeof Array\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#arrow-parens","title":"<code>arrow-parens</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>Enforces the consistent use of parentheses in arrow functions.</p> <p>This rule has a string option and an object one.</p> <p>String options are:</p> <ul> <li><code>\"always\"</code> (default) requires parens around arguments in all cases.</li> <li><code>\"as-needed\"</code> enforces no braces where they can be omitted.</li> </ul> <p>Object properties for variants of the <code>\"as-needed\"</code> option:</p> <ul> <li><code>\"requireForBlockBody\": true</code> modifies the as-needed rule in order to require parens if the function body is in an instructions block (surrounded by braces).</li> </ul> <p>The following patterns are considered problems:</p> <p>\u200b       a =&gt; {}     // Message: undefined</p> <pre><code>a =&gt; a\n// Message: undefined\n\na =&gt; {\n}\n// Message: undefined\n\na.then(foo =&gt; {});\n// Message: undefined\n\na.then(foo =&gt; a);\n// Message: undefined\n\na(foo =&gt; { if (true) {}; });\n// Message: undefined\n\na(async foo =&gt; { if (true) {}; });\n// Message: undefined\n\n// Options: [\"as-needed\"]\n(a) =&gt; a\n// Message: undefined\n\n// Options: [\"as-needed\"]\n(a,) =&gt; a\n// Message: undefined\n\n// Options: [\"as-needed\"]\nasync (a) =&gt; a\n// Message: undefined\n\n// Options: [\"as-needed\"]\nasync(a) =&gt; a\n// Message: undefined\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\na =&gt; {}\n// Message: undefined\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\n(a) =&gt; a\n// Message: undefined\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\nasync a =&gt; {}\n// Message: undefined\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\nasync (a) =&gt; a\n// Message: undefined\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\nasync(a) =&gt; a\n// Message: undefined\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       () =&gt; {}</p> <pre><code>(a) =&gt; {}\n\n(a) =&gt; a\n\n(a) =&gt; {\n}\n\na.then((foo) =&gt; {});\n\na.then((foo) =&gt; { if (true) {}; });\n\na.then(async (foo) =&gt; { if (true) {}; });\n\n// Options: [\"always\"]\n() =&gt; {}\n\n// Options: [\"always\"]\n(a) =&gt; {}\n\n// Options: [\"always\"]\n(a) =&gt; a\n\n// Options: [\"always\"]\n(a) =&gt; {\n}\n\n// Options: [\"always\"]\na.then((foo) =&gt; {});\n\n// Options: [\"always\"]\na.then((foo) =&gt; { if (true) {}; });\n\n// Options: [\"always\"]\na.then(async (foo) =&gt; { if (true) {}; });\n\n// Options: [\"as-needed\"]\n() =&gt; {}\n\n// Options: [\"as-needed\"]\na =&gt; {}\n\n// Options: [\"as-needed\"]\na =&gt; a\n\n// Options: [\"as-needed\"]\n([a, b]) =&gt; {}\n\n// Options: [\"as-needed\"]\n({ a, b }) =&gt; {}\n\n// Options: [\"as-needed\"]\n(a = 10) =&gt; {}\n\n// Options: [\"as-needed\"]\n(...a) =&gt; a[0]\n\n// Options: [\"as-needed\"]\n(a, b) =&gt; {}\n\n// Options: [\"as-needed\"]\nasync ([a, b]) =&gt; {}\n\n// Options: [\"as-needed\"]\nasync (a, b) =&gt; {}\n\n// Options: [\"as-needed\"]\n(a: T) =&gt; a\n\n// Options: [\"as-needed\"]\n(a): T =&gt; a\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\n() =&gt; {}\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\na =&gt; a\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\n([a, b]) =&gt; {}\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\n([a, b]) =&gt; a\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\n({ a, b }) =&gt; {}\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\n({ a, b }) =&gt; a + b\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\n(a = 10) =&gt; {}\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\n(...a) =&gt; a[0]\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\n(a, b) =&gt; {}\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\na =&gt; ({})\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\nasync a =&gt; ({})\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\nasync a =&gt; a\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\n(a: T) =&gt; a\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\n(a): T =&gt; a\n\n// Options: [\"always\",{\"requireForBlockBody\":true}]\n&lt;T&gt;(a: T) =&gt; a\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":false}]\n&lt;T&gt;(a: T) =&gt; { return a; }\n\n// Options: [\"always\",{\"requireForBlockBody\":true}]\n&lt;T&gt;(a: T) =&gt; { return a; }\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\n&lt;T&gt;(a: T) =&gt; { return a; }\n\n// Options: [\"as-needed\",{\"requireForBlockBody\":true}]\n(a): %checks =&gt; typeof a === \"number\"\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#boolean-style","title":"<code>boolean-style</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>Enforces a particular style for boolean type annotations. This rule takes one argument.</p> <p>If it is <code>'boolean'</code> then a problem is raised when using <code>bool</code> instead of <code>boolean</code>.</p> <p>If it is <code>'bool'</code> then a problem is raised when using <code>boolean</code> instead of <code>bool</code>.</p> <p>The default value is <code>'boolean'</code>.</p> <p>The following patterns are considered problems:</p> <p>\u200b       type X = bool     // Message: Use \"boolean\", not \"bool\"</p> <pre><code>// Options: [\"boolean\"]\ntype X = bool\n// Message: Use \"boolean\", not \"bool\"\n\n// Options: [\"bool\"]\ntype X = boolean\n// Message: Use \"bool\", not \"boolean\"\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type X = boolean</p> <pre><code>// Options: [\"boolean\"]\ntype X = boolean\n\n// Options: [\"bool\"]\ntype X = bool\n\n// Options: [\"boolean\"]\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\ntype X = bool\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#define-flow-type","title":"<code>define-flow-type</code>","text":"<p>Marks Flow type identifiers as defined.</p> <p>Used to suppress <code>no-undef</code> reporting of type identifiers.</p> <p>The following patterns are not considered problems:</p> <p>\u200b       var a: AType     // Additional rules: {\"no-undef\":2}</p> <pre><code>var a: AType; var b: AType\n// Additional rules: {\"no-undef\":2}\n\nvar a; (a: AType)\n// Additional rules: {\"no-undef\":2}\n\nvar a: AType&lt;BType&gt;\n// Additional rules: {\"no-undef\":2}\n\ntype A = AType\n// Additional rules: {\"no-undef\":2}\n\ndeclare type A = number\n// Additional rules: {\"no-undef\":2}\n\nopaque type A = AType\n// Additional rules: {\"no-undef\":2}\n\nfunction f(a: AType) {}\n// Additional rules: {\"no-undef\":2}\n\nfunction f(a: AType.a) {}\n// Additional rules: {\"no-undef\":2}\n\nfunction f(a: AType.a.b) {}\n// Additional rules: {\"no-undef\":2}\n\nfunction f(a): AType {}; var a: AType\n// Additional rules: {\"no-undef\":2}\n\nfunction f(a): AType {}\n// Additional rules: {\"no-undef\":2}\n\nclass C { a: AType }\n// Additional rules: {\"no-undef\":2}\n\nclass C { a: AType.a }\n// Additional rules: {\"no-undef\":2}\n\nclass C { a: AType.a.b }\n// Additional rules: {\"no-undef\":2}\n\nclass C implements AType {}\n// Additional rules: {\"no-undef\":2}\n\ndeclare interface A {}\n// Additional rules: {\"no-undef\":2}\n\n({ a: ({b() {}}: AType) })\n// Additional rules: {\"no-undef\":2}\n\ntype X = {Y&lt;AType&gt;(): BType}\n// Additional rules: {\"no-undef\":2}\n\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\n\n/**\n* Copyright 2019 no corp\n* @flow\n*/\ntype Foo = $ReadOnly&lt;{}&gt;\n// Additional rules: {\"no-undef\":2}\n\nvar a: AType\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\nvar a: AType; var b: AType\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\nvar a; (a: AType)\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\nvar a: AType&lt;BType&gt;\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\ntype A = AType\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\ndeclare type A = number\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\nopaque type A = AType\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\nfunction f(a: AType) {}\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\nfunction f(a: AType.a) {}\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\nfunction f(a: AType.a.b) {}\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\nfunction f(a): AType {}; var a: AType\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\nfunction f(a): AType {}\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\nclass C { a: AType }\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\nclass C { a: AType.a }\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\nclass C { a: AType.a.b }\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\nclass C implements AType {}\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\ndeclare interface A {}\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\n({ a: ({b() {}}: AType) })\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\ntype X = {Y&lt;AType&gt;(): BType}\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\n\n/**\n* Copyright 2019 no corp\n* @flow\n*/\ntype Foo = $ReadOnly&lt;{}&gt;\n// Additional rules: {\"no-undef\":2,\"no-use-before-define\":[2,\"nofunc\"]}\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#delimiter-dangle","title":"<code>delimiter-dangle</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>Enforces consistent use of trailing commas in Object and Tuple annotations.</p> <p>This rule takes three arguments where the possible values are the same as ESLint's default <code>comma-dangle</code> rule:</p> <ol> <li>The first argument is for Object and Tuple annotations. The default value is <code>'never'</code>.</li> <li>The second argument is used for Interface annotations. This defaults to the value of the first argument.</li> <li>The third argument is used for inexact object notation (trailing <code>...</code>). The default value is <code>'never'</code>.</li> </ol> <p>If it is <code>'never'</code> then a problem is raised when there is a trailing comma.</p> <p>If it is <code>'always'</code> then a problem is raised when there is no trailing comma.</p> <p>If it is <code>'always-multiline'</code> then a problem is raised when there is no trailing comma on a multi-line definition, or there is a trailing comma on a single-line definition.</p> <p>If it is <code>'only-multiline'</code> then a problem is raised when there is a trailing comma on a single-line definition. It allows, but does not enforce, trailing commas on multi-line definitions.</p> <p>The following patterns are considered problems:</p> <p>\u200b       type X = { foo: string, }     // Message: Unexpected trailing delimiter</p> <pre><code>// Options: [\"never\"]\ntype X = { foo: string, }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\"]\ntype X = { foo: string; }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\"]\ntype X = {\nfoo: string,\n}\n// Message: Unexpected trailing delimiter\n\n// Options: [\"always\"]\ntype X = { foo: string }\n// Message: Missing trailing delimiter\n\n// Options: [\"always\"]\ntype X = {\nfoo: string\n}\n// Message: Missing trailing delimiter\n\n// Options: [\"always-multiline\"]\ntype X = { foo: string, }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"always-multiline\"]\ntype X = {\nfoo: string\n}\n// Message: Missing trailing delimiter\n\n// Options: [\"only-multiline\"]\ntype X = { foo: string; }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"always\",\"never\"]\ninterface X { foo: string; }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\"]\ntype X = { [key: string]: number, }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"always\"]\ntype X = { [key: string]: number }\n// Message: Missing trailing delimiter\n\n// Options: [\"always-multiline\"]\ntype X = { [key: string]: number, }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"always-multiline\"]\ntype X = {\n[key: string]: number\n}\n// Message: Missing trailing delimiter\n\n// Options: [\"only-multiline\"]\ntype X = { [key: string]: number; }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\"]\ntype X = { [key: string]: number, foo: string, }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\"]\ntype X = {\n[key: string]: number,\nfoo: string,\n}\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\"]\ntype X = {\n[key: string]: number,\naReallyLongPropertyNameHere: string,\n}\n// Message: Unexpected trailing delimiter\n\n// Options: [\"always\"]\ntype X = { [key: string]: number, foo: string }\n// Message: Missing trailing delimiter\n\n// Options: [\"always\"]\ntype X = {\n[key: string]: number;\nfoo: string\n}\n// Message: Missing trailing delimiter\n\n// Options: [\"always-multiline\"]\ntype X = { [key: string]: number, foo: string, }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"always-multiline\"]\ntype X = {\n[key: string]: number,\nfoo: string\n}\n// Message: Missing trailing delimiter\n\n// Options: [\"only-multiline\"]\ntype X = { [key: string]: number, foo: string, }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\"]\ntype X = { foo: string, [key: string]: number, }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\"]\ntype X = {\nfoo: string,\n[key: string]: number,\n}\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\"]\ntype X = {\naReallyLongPropertyNameHere: string,\n[key: string]: number,\n}\n// Message: Unexpected trailing delimiter\n\n// Options: [\"always\"]\ntype X = { foo: string, [key: string]: number }\n// Message: Missing trailing delimiter\n\n// Options: [\"always\"]\ntype X = { foo: string; [key: string]: number }\n// Message: Missing trailing delimiter\n\n// Options: [\"always-multiline\"]\ntype X = { foo: string, [key: string]: number; }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"always-multiline\"]\ntype X = {\nfoo: string,\n[key: string]: number\n}\n// Message: Missing trailing delimiter\n\n// Options: [\"only-multiline\"]\ntype X = { foo: string, [key: string]: number; }\n// Message: Unexpected trailing delimiter\n\ntype X = { ..., }\n// Message: Unexpected trailing delimiter\n\ntype X = { ...; }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"never\"]\ntype X = { ..., }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"never\"]\ntype X = { ...; }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"always\"]\ntype X = { ... }\n// Message: Missing trailing delimiter\n\n// Options: [\"never\",\"never\",\"always-multiline\"]\ntype X = { ..., }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"always-multiline\"]\ntype X = { ...; }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"only-multiline\"]\ntype X = { ..., }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"only-multiline\"]\ntype X = { ...; }\n// Message: Unexpected trailing delimiter\n\ntype X = {\n...,\n}\n// Message: Unexpected trailing delimiter\n\ntype X = {\n...;\n}\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"never\"]\ntype X = {\n...,\n}\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"never\"]\ntype X = {\n...;\n}\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"always\"]\ntype X = {\n...\n}\n// Message: Missing trailing delimiter\n\n// Options: [\"never\",\"never\",\"always-multiline\"]\ntype X = {\n...\n}\n// Message: Missing trailing delimiter\n\ntype X = { foo: string, ..., }\n// Message: Unexpected trailing delimiter\n\ntype X = { foo: string; ...; }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"never\"]\ntype X = { foo: string, ..., }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"never\"]\ntype X = { foo: string; ...; }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"always\"]\ntype X = { foo: string, ... }\n// Message: Missing trailing delimiter\n\n// Options: [\"never\",\"never\",\"always-multiline\"]\ntype X = { foo: string, ..., }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"always-multiline\"]\ntype X = { foo: string; ...; }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"only-multiline\"]\ntype X = { foo: string, ..., }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"only-multiline\"]\ntype X = { foo: string; ...; }\n// Message: Unexpected trailing delimiter\n\ntype X = {\nfoo: string,\n...,\n}\n// Message: Unexpected trailing delimiter\n\ntype X = {\nfoo: string;\n...;\n}\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"never\"]\ntype X = {\nfoo: string,\n...,\n}\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"never\"]\ntype X = {\nfoo: string;\n...;\n}\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"always\"]\ntype X = {\nfoo: string,\n...\n}\n// Message: Missing trailing delimiter\n\n// Options: [\"never\",\"never\",\"always-multiline\"]\ntype X = {\nfoo: string,\n...\n}\n// Message: Missing trailing delimiter\n\ntype X = { [key: string]: number, ..., }\n// Message: Unexpected trailing delimiter\n\ntype X = { [key: string]: number; ...; }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"never\"]\ntype X = { [key: string]: number, ..., }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"never\"]\ntype X = { [key: string]: number; ...; }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"always\"]\ntype X = { [key: string]: number, ... }\n// Message: Missing trailing delimiter\n\n// Options: [\"never\",\"never\",\"always-multiline\"]\ntype X = { [key: string]: number, ..., }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"always-multiline\"]\ntype X = { [key: string]: number; ...; }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"only-multiline\"]\ntype X = { [key: string]: number, ..., }\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"only-multiline\"]\ntype X = { [key: string]: number; ...; }\n// Message: Unexpected trailing delimiter\n\ntype X = {\n[key: string]: number,\n...,\n}\n// Message: Unexpected trailing delimiter\n\ntype X = {\n[key: string]: number;\n...;\n}\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"never\"]\ntype X = {\n[key: string]: number,\n...,\n}\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"never\"]\ntype X = {\n[key: string]: number;\n...;\n}\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\",\"never\",\"always\"]\ntype X = {\n[key: string]: number,\n...\n}\n// Message: Missing trailing delimiter\n\n// Options: [\"never\",\"never\",\"always-multiline\"]\ntype X = {\n[key: string]: number,\n...\n}\n// Message: Missing trailing delimiter\n\ntype X = [string, number,]\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\"]\ntype X = [string, number,]\n// Message: Unexpected trailing delimiter\n\n// Options: [\"never\"]\ntype X = [\nstring,\nnumber,\n]\n// Message: Unexpected trailing delimiter\n\n// Options: [\"always\"]\ntype X = [string, number]\n// Message: Missing trailing delimiter\n\n// Options: [\"always\"]\ntype X = [\nstring,\nnumber\n]\n// Message: Missing trailing delimiter\n\n// Options: [\"always-multiline\"]\ntype X = [string, number,]\n// Message: Unexpected trailing delimiter\n\n// Options: [\"always-multiline\"]\ntype X = [\nfoo, string\n]\n// Message: Missing trailing delimiter\n\n// Options: [\"only-multiline\"]\ntype X = [ number, string, ]\n// Message: Unexpected trailing delimiter\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type X = { foo: string }</p> <pre><code>// Options: [\"never\"]\ntype X = { foo: string }\n\n// Options: [\"always\"]\ntype X = { foo: string, }\n\n// Options: [\"always\"]\ntype X = { foo: string; }\n\n// Options: [\"never\"]\ntype X = {\nfoo: string\n}\n\n// Options: [\"always\"]\ntype X = {\nfoo: string,\n}\n\n// Options: [\"always-multiline\"]\ntype X = { foo: string }\n\n// Options: [\"always-multiline\"]\ntype X = {\nfoo: string,\n}\n\n// Options: [\"always-multiline\"]\ntype X = {\nfoo: string;\n}\n\n// Options: [\"only-multiline\"]\ntype X = { foo: string }\n\n// Options: [\"only-multiline\"]\ntype X = {\nfoo: string\n}\n\n// Options: [\"only-multiline\"]\ntype X = {\nfoo: string,\n}\n\n// Options: [\"only-multiline\"]\ntype X = {\nfoo: string;\n}\n\n// Options: [\"never\",\"always\"]\ninterface X { foo: string; }\n\n// Options: [\"never\"]\ntype X = {}\n\n// Options: [\"always\"]\ntype X = {}\n\n// Options: [\"always-multiline\"]\ntype X = {}\n\n// Options: [\"only-multiline\"]\ntype X = {}\n\n// Options: [\"never\"]\ntype X = { [key: string]: number }\n\n// Options: [\"always\"]\ntype X = { [key: string]: number, }\n\n// Options: [\"always\"]\ntype X = { [key: string]: number; }\n\n// Options: [\"always-multiline\"]\ntype X = { [key: string]: number }\n\n// Options: [\"always-multiline\"]\ntype X = {\n[key: string]: number,\n}\n\n// Options: [\"only-multiline\"]\ntype X = {\n[key: string]: number,\n}\n\n// Options: [\"only-multiline\"]\ntype X = {\n[key: string]: number\n}\n\n// Options: [\"only-multiline\"]\ntype X = { [key: string]: number }\n\n// Options: [\"never\"]\ntype X = { [key: string]: number, foo: string }\n\n// Options: [\"always\"]\ntype X = { [key: string]: number, foo: string, }\n\n// Options: [\"always\"]\ntype X = { [key: string]: number; foo: string; }\n\n// Options: [\"always-multiline\"]\ntype X = { [key: string]: number, foo: string }\n\n// Options: [\"always-multiline\"]\ntype X = {\n[key: string]: number,\nfoo: string,\n}\n\n// Options: [\"only-multiline\"]\ntype X = {\n[key: string]: number,\nfoo: string,\n}\n\n// Options: [\"only-multiline\"]\ntype X = {\n[key: string]: number;\nfoo: string\n}\n\n// Options: [\"only-multiline\"]\ntype X = { [key: string]: number, foo: string }\n\n// Options: [\"never\"]\ntype X = { foo: string, [key: string]: number }\n\n// Options: [\"always\"]\ntype X = { foo: string, [key: string]: number, }\n\n// Options: [\"always\"]\ntype X = { foo: string; [key: string]: number; }\n\n// Options: [\"always-multiline\"]\ntype X = { foo: string, [key: string]: number }\n\n// Options: [\"always-multiline\"]\ntype X = {\nfoo: string,\n[key: string]: number,\n}\n\n// Options: [\"only-multiline\"]\ntype X = {\nfoo: string,\n[key: string]: number,\n}\n\n// Options: [\"only-multiline\"]\ntype X = {\nfoo: string;\n[key: string]: number\n}\n\n// Options: [\"only-multiline\"]\ntype X = { foo: string, [key: string]: number }\n\ntype X = { ... }\n\n// Options: [\"never\",\"never\",\"never\"]\ntype X = { ... }\n\n// Options: [\"never\",\"never\",\"always\"]\ntype X = { ..., }\n\n// Options: [\"never\",\"never\",\"always-multiline\"]\ntype X = { ... }\n\n// Options: [\"never\",\"never\",\"only-multiline\"]\ntype X = { ... }\n\ntype X = {\n...\n}\n\n// Options: [\"never\",\"never\",\"never\"]\ntype X = {\n...\n}\n\n// Options: [\"never\",\"never\",\"always\"]\ntype X = {\n...,\n }\n\n// Options: [\"never\",\"never\",\"always\"]\ntype X = {\n...;\n }\n\n// Options: [\"never\",\"never\",\"always-multiline\"]\ntype X = {\n...,\n}\n\n// Options: [\"never\",\"never\",\"always-multiline\"]\ntype X = {\n...;\n}\n\n// Options: [\"never\",\"never\",\"only-multiline\"]\ntype X = {\n...\n}\n\n// Options: [\"never\",\"never\",\"only-multiline\"]\ntype X = {\n...,\n}\n\n// Options: [\"never\",\"never\",\"only-multiline\"]\ntype X = {\n...;\n}\n\ntype X = { foo: string, ... }\n\n// Options: [\"never\",\"never\",\"never\"]\ntype X = { foo: string, ... }\n\n// Options: [\"never\",\"never\",\"always\"]\ntype X = { foo: string, ..., }\n\n// Options: [\"never\",\"never\",\"always\"]\ntype X = { foo: string; ...; }\n\n// Options: [\"never\",\"never\",\"always-multiline\"]\ntype X = { foo: string, ... }\n\n// Options: [\"never\",\"never\",\"only-multiline\"]\ntype X = { foo: string, ... }\n\ntype X = {\nfoo: string,\n...\n}\n\n// Options: [\"never\",\"never\",\"never\"]\ntype X = {\nfoo: string,\n...\n}\n\n// Options: [\"never\",\"never\",\"always\"]\ntype X = {\nfoo: string,\n...,\n}\n\n// Options: [\"never\",\"never\",\"always\"]\ntype X = {\nfoo: string;\n...;\n}\n\n// Options: [\"never\",\"never\",\"always-multiline\"]\ntype X = {\nfoo: string,\n...,\n}\n\n// Options: [\"never\",\"never\",\"always-multiline\"]\ntype X = {\nfoo: string;\n...;\n}\n\n// Options: [\"never\",\"never\",\"only-multiline\"]\ntype X = {\nfoo: string,\n...\n}\n\n// Options: [\"never\",\"never\",\"only-multiline\"]\ntype X = {\nfoo: string,\n...,\n}\n\n// Options: [\"never\",\"never\",\"only-multiline\"]\ntype X = {\nfoo: string,\n...;\n}\n\n// Options: [\"never\",\"never\",\"never\"]\ntype X = { [key: string]: number, ... }\n\n// Options: [\"never\",\"never\",\"always\"]\ntype X = { [key: string]: number, ..., }\n\n// Options: [\"never\",\"never\",\"always\"]\ntype X = { [key: string]: number; ...; }\n\n// Options: [\"never\",\"never\",\"always-multiline\"]\ntype X = { [key: string]: number, ... }\n\n// Options: [\"never\",\"never\",\"only-multiline\"]\ntype X = { [key: string]: number, ... }\n\n// Options: [\"never\",\"never\",\"never\"]\ntype X = {\n[key: string]: number,\n...\n}\n\n// Options: [\"never\",\"never\",\"always\"]\ntype X = {\n[key: string]: number,\n...,\n}\n\n// Options: [\"never\",\"never\",\"always\"]\ntype X = {\n[key: string]: number;\n...;\n}\n\n// Options: [\"never\",\"never\",\"always-multiline\"]\ntype X = {\n[key: string]: number,\n...,\n}\n\n// Options: [\"never\",\"never\",\"always-multiline\"]\ntype X = {\n[key: string]: number;\n...;\n}\n\n// Options: [\"never\",\"never\",\"only-multiline\"]\ntype X = {\n[key: string]: number,\n...\n}\n\n// Options: [\"never\",\"never\",\"only-multiline\"]\ntype X = {\n[key: string]: number,\n...,\n}\n\n// Options: [\"never\",\"never\",\"only-multiline\"]\ntype X = {\n[key: string]: number;\n...;\n}\n\ntype X = [string, number]\n\n// Options: [\"never\"]\ntype X = [string, number]\n\n// Options: [\"never\"]\ntype X = [\nstring,\nnumber\n]\n\n// Options: [\"always\"]\ntype X = [string, number,]\n\n// Options: [\"always\"]\ntype X = [\nstring,\nnumber,\n]\n\n// Options: [\"always-multiline\"]\ntype X = [ foo, string ]\n\n// Options: [\"always-multiline\"]\ntype X = [\nfoo, string,\n]\n\n// Options: [\"only-multiline\"]\ntype X = [ number, string ]\n\n// Options: [\"only-multiline\"]\ntype X = [\nnumber,\nstring\n]\n\n// Options: [\"only-multiline\"]\ntype X = [\nnumber,\nstring,\n]\n\n// Options: [\"never\"]\ntype X = []\n\n// Options: [\"always\"]\ntype X = []\n\n// Options: [\"always-multiline\"]\ntype X = []\n\n// Options: [\"only-multiline\"]\ntype X = []\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#enforce-line-break","title":"<code>enforce-line-break</code>","text":"<p>This rule enforces line breaks between type definitions.</p> <p>The following patterns are considered problems:</p> <p>\u200b       type baz = 6;     const hi = 2;     // Message: New line required below type declaration</p> <pre><code>const foo = 6;\ntype hi = 2;\n\n// Message: New line required above type declaration\n\nconst som = \"jes\";\n// a comment\ntype fed = \"hed\";\n\n// Message: New line required above type declaration\n\ntype som = \"jes\";\n// a comment\nconst fed = \"hed\";\n\n// Message: New line required below type declaration\n\ntype hello = 34;\nconst som = \"jes\";\ntype fed = \"hed\";\n\n// Message: New line required below type declaration\n// Message: New line required above type declaration\n\nconst a = 5;\nexport type hello = 34;\n\n// Message: New line required above type declaration\n\nconst a = 5;\n// a comment\nexport type hello = 34;\n\n// Message: New line required above type declaration\n\nconst a = 5;\n/**\n * a jsdoc block\n */\ntype hello = 34;\n// Message: New line required above type declaration\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type gjs = 6;</p> <pre><code>type gjs = 6;\n\ntype hi = 2;\n</code></pre> <p>\u200b       type X = 4;</p> <pre><code>const red = \"serpent\";\nconsole.log(\"hello\");\n\n// number or string\ntype Y = string | number;\n\n// resting + sleep\ntype snooze = \"dreaming\" | \"\";\n\ntype Props = {\n  accountBalance: string | number,\n  accountNumber: string | number,\n};\n\nconst x = 4;\nconst y = 489;\n\n// Some Comment\ntype Props = {\n  accountBalance: string | number,\n  accountNumber: string | number,\n};\n\ntype RoadT = \"grass\" | \"gravel\" | \"cement\";\n\n// @flow\ntype A = string\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#generic-spacing","title":"<code>generic-spacing</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>Enforces consistent spacing within generic type annotation parameters.</p> <p>This rule takes one argument. If it is <code>'never'</code> then a problem is raised when there is a space surrounding the generic type parameters. If it is <code>'always'</code> then a problem is raised when there is no space surrounding the generic type parameters.</p> <p>The default value is <code>'never'</code>.</p> <p>The following patterns are considered problems:</p> <p>\u200b       type X = Promise&lt; string&gt;     // Message: There must be no space at start of \"Promise\" generic type annotation</p> <pre><code>// Options: [\"never\"]\ntype X = Promise&lt;  string&gt;\n// Message: There must be no space at start of \"Promise\" generic type annotation\n\ntype X = FooBar&lt;string &gt;\n// Message: There must be no space at end of \"FooBar\" generic type annotation\n\ntype X = Promise&lt; string &gt;\n// Message: There must be no space at start of \"Promise\" generic type annotation\n// Message: There must be no space at end of \"Promise\" generic type annotation\n\ntype X = Promise&lt; (foo), bar, (((baz))) &gt;\n// Message: There must be no space at start of \"Promise\" generic type annotation\n// Message: There must be no space at end of \"Promise\" generic type annotation\n\n// Options: [\"always\"]\ntype X = Promise&lt;string &gt;\n// Message: There must be a space at start of \"Promise\" generic type annotation\n\n// Options: [\"always\"]\ntype X = FooBar&lt; string&gt;\n// Message: There must be a space at end of \"FooBar\" generic type annotation\n\n// Options: [\"always\"]\ntype X = Promise&lt;string&gt;\n// Message: There must be a space at start of \"Promise\" generic type annotation\n// Message: There must be a space at end of \"Promise\" generic type annotation\n\n// Options: [\"always\"]\ntype X = Promise&lt;(foo), bar, (((baz)))&gt;\n// Message: There must be a space at start of \"Promise\" generic type annotation\n// Message: There must be a space at end of \"Promise\" generic type annotation\n\n// Options: [\"always\"]\ntype X = FooBar&lt;  string &gt;\n// Message: There must be one space at start of \"FooBar\" generic type annotation\n\n// Options: [\"always\"]\ntype X = FooBar&lt; string  &gt;\n// Message: There must be one space at end of \"FooBar\" generic type annotation\n\n// Options: [\"always\"]\ntype X = Promise&lt;  (foo), bar, (((baz)))  &gt;\n// Message: There must be one space at start of \"Promise\" generic type annotation\n// Message: There must be one space at end of \"Promise\" generic type annotation\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type X = Promise <pre><code>type X = Promise&lt;(string)&gt;\n\ntype X = Promise&lt;(foo), bar, (((baz)))&gt;\n\ntype X = Promise&lt;\n  (foo),\n  bar,\n  (((baz)))\n&gt;\n\ntype X =  Promise&lt;\n    (foo),\n    bar,\n    (((baz)))\n&gt;\n\n// Options: [\"always\"]\ntype X = Promise&lt; string &gt;\n\n// Options: [\"always\"]\ntype X = Promise&lt; (string) &gt;\n\n// Options: [\"always\"]\ntype X = Promise&lt; (foo), bar, (((baz))) &gt;\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#interface-id-match","title":"<code>interface-id-match</code>","text":"<p>Enforces a consistent naming pattern for interfaces.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options","title":"Options","text":"<p>This rule requires a text RegExp:</p> <p>\u200b       {         \"rules\": {             \"flowtype/interface-id-match\": [                 2,                 \"^([A-Z][a-z0-9]*)+Type$\"             ]         }     }</p> <p><code>'^([A-Z][a-z0-9]*)+Type$$'</code> is the default pattern.</p> <p>The following patterns are considered problems:</p> <p>\u200b       interface foo{};     // Message: Interface identifier 'foo' does not match pattern '/^([A-Z][a-z0-9]*)+Type$/u'.</p> <pre><code>// Options: [\"^foo$\"]\ninterface FooType{};\n// Message: Interface identifier 'FooType' does not match pattern '/^foo$/u'.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       interface FooType {};</p> <pre><code>// Options: [\"^foo$\"]\ninterface foo {};\n\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\ninterface foo {};\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#newline-after-flow-annotation","title":"<code>newline-after-flow-annotation</code>","text":"<p>This rule requires an empty line after the Flow annotation.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_1","title":"Options","text":"<p>The rule has a string option:</p> <ul> <li><code>\"always\"</code> (default): Enforces that <code>@flow</code> annotations be followed by an empty line, separated by newline (LF)</li> <li><code>\"always-windows\"</code>: Identical to \"always\", but will use a CRLF when autofixing</li> <li> <p><code>\"never\"</code>: Enforces that <code>@flow</code> annotations are not followed by empty lines</p> <p>{   \"rules\": {     \"flowtype/newline-after-flow-annotation\": [       2,       \"always\"     ]   } }</p> </li> </ul> <p>The following patterns are considered problems:</p> <p>\u200b       // @flow     import Foo from './foo';     // Message: Expected newline after flow annotation</p> <pre><code>// Options: [\"always\"]\n// @flow\nimport Foo from './foo';\n// Message: Expected newline after flow annotation\n\n// Options: [\"always-windows\"]\n// @flow\nimport Foo from './foo';\n// Message: Expected newline after flow annotation\n\n// Options: [\"never\"]\n// @flow\n</code></pre> <p>\u200b       // Message: Expected no newline after flow annotation</p> <p>The following patterns are not considered problems:</p> <p>\u200b       // Options: [\"always\"]     // @flow</p> <pre><code>import Foo from './foo';\n\n// Options: [\"always-windows\"]\n// @flow\n\nimport Foo from './foo';\n\n// Options: [\"never\"]\n// @flow\nimport Foo from './foo';\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#no-dupe-keys","title":"<code>no-dupe-keys</code>","text":"<p>Checks for duplicate properties in Object annotations.</p> <p>This rule mirrors ESLint's no-dupe-keys rule.</p> <p>\u200b       {         \"rules\": {             \"flowtype/no-dupe-keys\": 2         }     }</p> <p>The following patterns are considered problems:</p> <p>\u200b       type f = { a: number, b: string, a: number }     // Message: Duplicate property.</p> <pre><code>type f = { a: number, b: string, a: string }\n// Message: Duplicate property.\n\ntype f = { get(key: \"a\"): string, get(key: \"a\"): string }\n// Message: Duplicate property.\n\ntype f = { get(key: 1): string, get(key: 1): string }\n// Message: Duplicate property.\n\ntype f = { get(key: 1.1): string, get(key: 1.1): string }\n// Message: Duplicate property.\n\ntype f = { get(key: true): string, get(key: true): string }\n// Message: Duplicate property.\n\ntype f = { get(key: {a: 1}): string, get(key: {a: 1}):string }\n// Message: Duplicate property.\n\nvar a = \"a\"; type f = { get(key: a): string, get(key: a): string }\n// Message: Duplicate property.\n\nvar b = 1; type f = { get(key: b): string, get(key: b): string }\n// Message: Duplicate property.\n\nvar c = true; type f = { get(key: c): string, get(key: c): string }\n// Message: Duplicate property.\n\nvar d = {}; type f = { get(key: d): string, get(key: d): string }\n// Message: Duplicate property.\n\nvar e = []; type f = { get(key: e): string, get(key: e): string }\n// Message: Duplicate property.\n\nvar e = [1, \"a\"]; type f = { get(key: e): string, get(key: e): string }\n// Message: Duplicate property.\n\nfunction fn() {}; type f = { get(key: fn): string, get(key: fn): string }\n// Message: Duplicate property.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type FooType = { a: number, b: string, c: number }</p> <pre><code>// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\ntype FooType = { a: number, b: string, a: number }\n\ntype f = { get(key: \"a\"): string, get(key: \"b\"): string }\n\ntype f = { get(key: 1): string, get(key: 2): string }\n\ntype f = { get(key: 1.1): string, get(key: 1.2): string }\n\ntype f = { get(key: true): string, get(key: false): string }\n\ntype f = { get(key: [\"a\", 1]): string, get(key: [\"a\", 2]): string }\n\ntype f = { get(key: [\"a\", [\"b\", 1]]): string, get(key: [\"a\", [\"b\", 2]]): string }\n\ntype f = { a: number, b: string, c: number }\n\ntype f = { get(key: \"a\"): string, get(key: \"b\"): string }\n\ntype f = { get(key: \"a\"): string, get(key: \"a\", key2: \"b\"): string }\n\ntype f = { get(key: \"a\"): string, get(key: 1): string }\n\ntype f = { get(key: { a: 1 }): string, get(key: { a: 2 }): string}\n\nvar a = {}; var b = {}; type f = { get(key: a): string, get(key: b): string }\n\nvar a = 1; var b = 1; type f = { get(key: a): string, get(key: b): string }\n\ntype a = { b: &lt;C&gt;(config: { ...C, key: string}) =&gt; C }\n\nexport interface Foo { get foo(): boolean; get bar(): string; }\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#no-duplicate-type-union-intersection-members","title":"<code>no-duplicate-type-union-intersection-members</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>Checks for duplicate members of a type union/intersection.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_2","title":"Options","text":"<p>You can disable checking intersection types using <code>checkIntersections</code>.</p> <ul> <li><code>true</code> (default) - check for duplicate members of intersection members.</li> <li> <p><code>false</code> - do not check for duplicate members of intersection members.</p> <p>{   \"rules\": {     \"flowtype/no-duplicate-type-union-intersection-members\": [       2,       {         \"checkIntersections\": true       }     ]   } }</p> </li> </ul> <p>You can disable checking union types using <code>checkUnions</code>.</p> <ul> <li><code>true</code> (default) - check for duplicate members of union members.</li> <li> <p><code>false</code> - do not check for duplicate members of union members.</p> <p>{   \"rules\": {     \"flowtype/no-duplicate-type-union-intersection-members\": [       2,       {         \"checkUnions\": true       }     ]   } }</p> </li> </ul> <p>The following patterns are considered problems:</p> <p>\u200b       type A = 1 | 2 | 3 | 1;     // Message: Duplicate union member found \"1\".</p> <pre><code>type B = 'foo' | 'bar' | 'foo';\n// Message: Duplicate union member found \"'foo'\".\n\ntype C = A | B | A | B;\n// Message: Duplicate union member found \"A\".\n// Message: Duplicate union member found \"B\".\n\ntype C = A &amp; B &amp; A &amp; B;\n// Message: Duplicate intersection member found \"A\".\n// Message: Duplicate intersection member found \"B\".\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type A = 1 | 2 | 3;</p> <pre><code>type B = 'foo' | 'bar';\n\ntype C = A | B;\n\ntype C = A &amp; B;\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#no-existential-type","title":"<code>no-existential-type</code>","text":"<p>Disallows use of the existential type (*). See more</p> <p>\u200b       {       \"rules\": {         \"flowtype/no-existential-type\": 2       }     }</p> <p>The following patterns are considered problems:</p> <p>\u200b       type T = ;     // Message: Unexpected use of existential type ().</p> <pre><code>type T = U&lt;*, *&gt;;\n// Message: Unexpected use of existential type (*).\n// Message: Unexpected use of existential type (*).\n\nconst f: (*) =&gt; null = () =&gt; null;\n// Message: Unexpected use of existential type (*).\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type T = string | null</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#no-flow-fix-me-comments","title":"<code>no-flow-fix-me-comments</code>","text":"<p>Disallows <code>$FlowFixMe</code> comment suppressions.</p> <p>This is especially useful as a warning to ensure instances of <code>$FlowFixMe</code> in your codebase get fixed over time.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_3","title":"Options","text":"<p>This rule takes an optional RegExp that comments a text RegExp that makes the supression valid.</p> <p>\u200b       {         \"rules\": {             \"flowtype/no-flow-fix-me-comments\": [                 1,                 \"TODO\\s+[0-9]+\"             ]         }     }</p> <p>The following patterns are considered problems:</p> <p>\u200b       // $FlowFixMe I am doing something evil here     const text = 'HELLO';     // Message: $FlowFixMe is treated as <code>any</code> and must be fixed.</p> <pre><code>// Options: [\"TODO [0-9]+\"]\n// $FlowFixMe I am doing something evil here\nconst text = 'HELLO';\n// Message: $FlowFixMe is treated as `any` and must be fixed. Fix it or match `/TODO [0-9]+/u`.\n\n// Options: [\"TODO [0-9]+\"]\n// $FlowFixMe TODO abc 47 I am doing something evil here\nconst text = 'HELLO';\n// Message: $FlowFixMe is treated as `any` and must be fixed. Fix it or match `/TODO [0-9]+/u`.\n\n// $$FlowFixMeProps I am doing something evil here\nconst text = 'HELLO';\n// Message: $FlowFixMe is treated as `any` and must be fixed.\n\n// Options: [\"TODO [0-9]+\"]\n// $FlowFixMeProps I am doing something evil here\nconst text = 'HELLO';\n// Message: $FlowFixMe is treated as `any` and must be fixed. Fix it or match `/TODO [0-9]+/u`.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       const text = 'HELLO';</p> <pre><code>// Options: [\"TODO [0-9]+\"]\n// $FlowFixMe TODO 48\nconst text = 'HELLO';\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#no-internal-flow-type","title":"<code>no-internal-flow-type</code>","text":"<p>Warns against using internal Flow types such as <code>React$Node</code>, <code>React$Ref</code> and others and suggests using public alternatives instead (<code>React.Node</code>, <code>React.Ref</code>, \u2026).</p> <p>The following patterns are considered problems:</p> <p>\u200b       type X = ReactAbstractComponent&lt;Config, Instance&gt;     // Message: Type identifier 'ReactAbstractComponent' is not allowed. Use 'React.AbstractComponent' instead.</p> <pre><code>type X = React$ChildrenArray&lt;string&gt;\n// Message: Type identifier 'React$ChildrenArray' is not allowed. Use 'React.ChildrenArray' instead.\n\ntype X = React$ComponentType&lt;Props&gt;\n// Message: Type identifier 'React$ComponentType' is not allowed. Use 'React.ComponentType' instead.\n\ntype X = React$Config&lt;Prosp, DefaultProps&gt;\n// Message: Type identifier 'React$Config' is not allowed. Use 'React.Config' instead.\n\ntype X = React$Element&lt;typeof Component&gt;\n// Message: Type identifier 'React$Element' is not allowed. Use 'React.Element' instead.\n\ntype X = React$ElementConfig&lt;typeof Component&gt;\n// Message: Type identifier 'React$ElementConfig' is not allowed. Use 'React.ElementConfig' instead.\n\ntype X = React$ElementProps&lt;typeof Component&gt;\n// Message: Type identifier 'React$ElementProps' is not allowed. Use 'React.ElementProps' instead.\n\ntype X = React$ElementRef&lt;typeof Component&gt;\n// Message: Type identifier 'React$ElementRef' is not allowed. Use 'React.ElementRef' instead.\n\ntype X = React$ElementType\n// Message: Type identifier 'React$ElementType' is not allowed. Use 'React.ElementType' instead.\n\ntype X = React$Key\n// Message: Type identifier 'React$Key' is not allowed. Use 'React.Key' instead.\n\ntype X = React$Node\n// Message: Type identifier 'React$Node' is not allowed. Use 'React.Node' instead.\n\ntype X = React$Ref&lt;typeof Component&gt;\n// Message: Type identifier 'React$Ref' is not allowed. Use 'React.Ref' instead.\n\ntype X = React$StatelessFunctionalComponent&lt;Props&gt;\n// Message: Type identifier 'React$StatelessFunctionalComponent' is not allowed. Use 'React.StatelessFunctionalComponent' instead.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type X = React.AbstractComponent <pre><code>type X = React.ChildrenArray&lt;string&gt;\n\ntype X = React.ComponentType&lt;Props&gt;\n\ntype X = React.Config&lt;Props, DefaultProps&gt;\n\ntype X = React.Element&lt;typeof Component&gt;\n\ntype X = React.ElementConfig&lt;typeof Component&gt;\n\ntype X = React.ElementProps&lt;typeof Component&gt;\n\ntype X = React.ElementRef&lt;typeof Component&gt;\n\ntype X = React.ElementType\n\ntype X = React.Key\n\ntype X = React.Node\n\ntype X = React.Ref&lt;typeof Component&gt;\n\ntype X = React.StatelessFunctionalComponent&lt;Props&gt;\n\ntype X = React$Rocks\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#no-mixed","title":"<code>no-mixed</code>","text":"<p>Warns against \"mixed\" type annotations. These types are not strict enough and could often be made more specific.</p> <p>The following patterns are considered problems:</p> <p>The following patterns are considered problems:</p> <p>\u200b       function foo(thing): mixed {}     // Message: Unexpected use of mixed type</p> <pre><code>function foo(thing): Promise&lt;mixed&gt; {}\n// Message: Unexpected use of mixed type\n\nfunction foo(thing): Promise&lt;Promise&lt;mixed&gt;&gt; {}\n// Message: Unexpected use of mixed type\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       function foo(thing): string {}</p> <pre><code>function foo(thing): Promise&lt;string&gt; {}\n\nfunction foo(thing): Promise&lt;Promise&lt;string&gt;&gt; {}\n\n(foo?: string) =&gt; {}\n\n(foo: ?string) =&gt; {}\n\n(foo: { a: string }) =&gt; {}\n\n(foo: { a: ?string }) =&gt; {}\n\n(foo: string[]) =&gt; {}\n\ntype Foo = string\n\ntype Foo = { a: string }\n\ntype Foo = { (a: string): string }\n\nfunction foo(thing: string) {}\n\nvar foo: string\n\nclass Foo { props: string }\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#no-mutable-array","title":"<code>no-mutable-array</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>Requires use of <code>$ReadOnlyArray</code> instead of just <code>Array</code> or array shorthand notation. <code>$ReadOnlyArray</code> is immutable array collection type and the superclass of Array and tuple types in Flow. Use of <code>$ReadOnlyArray</code> instead of <code>Array</code> can solve some \"problems\" in typing with Flow (e.g., 1, 2).</p> <p>General reasons for using immutable data structures:</p> <ul> <li>They are simpler to construct, test, and use</li> <li>They help to avoid temporal coupling</li> <li>Their usage is side-effect free (no defensive copies)</li> <li>Identity mutability problem is avoided</li> <li>They always have failure atomicity</li> <li>They are much easier to cache</li> </ul> <p>Note that initialization of a variable with an empty array is considered valid (e.g., <code>const values: Array&lt;string&gt; = [];</code>). This behavior resembles the behavior of Flow's unsealed objects, as it is assumed that empty array is intended to be mutated.</p> <p>The following patterns are considered problems:</p> <p>\u200b       type X = Array     // Message: Use \"$ReadOnlyArray\" instead of \"Array\" <pre><code>type X = string[]\n// Message: Use \"$ReadOnlyArray\" instead of array shorthand notation\n\nconst values: Array&lt;Array&lt;string&gt;&gt; = [];\n// Message: Use \"$ReadOnlyArray\" instead of \"Array\"\n\nlet values: Array&lt;Array&lt;string&gt;&gt;;\n// Message: Use \"$ReadOnlyArray\" instead of \"Array\"\n// Message: Use \"$ReadOnlyArray\" instead of \"Array\"\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type X = $ReadOnlyArray <pre><code>const values: Array&lt;$ReadOnlyArray&lt;string&gt;&gt; = [];\n\nconst values: $ReadOnlyArray&lt;string&gt;[] = [];\n\nconst values: Array&lt;$ReadOnlyArray&lt;string&gt;&gt; = new Array();\n\nconst values: Array&lt;$ReadOnlyArray&lt;string&gt;&gt; = Array();\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#no-primitive-constructor-types","title":"<code>no-primitive-constructor-types</code>","text":"<p>Disallows use of primitive constructors as types, such as <code>Boolean</code>, <code>Number</code> and <code>String</code>. See more.</p> <p>\u200b       {         \"rules\": {             \"flowtype/no-primitive-constructor-types\": 2         }     }</p> <p>The following patterns are considered problems:</p> <p>\u200b       type x = Number     // Message: Unexpected use of Number constructor type.</p> <pre><code>type x = String\n// Message: Unexpected use of String constructor type.\n\ntype x = Boolean\n// Message: Unexpected use of Boolean constructor type.\n\ntype x = { a: Number }\n// Message: Unexpected use of Number constructor type.\n\ntype x = { a: String }\n// Message: Unexpected use of String constructor type.\n\ntype x = { a: Boolean }\n// Message: Unexpected use of Boolean constructor type.\n\n(x: Number) =&gt; {}\n// Message: Unexpected use of Number constructor type.\n\n(x: String) =&gt; {}\n// Message: Unexpected use of String constructor type.\n\n(x: Boolean) =&gt; {}\n// Message: Unexpected use of Boolean constructor type.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type x = number</p> <pre><code>type x = string\n\ntype x = boolean\n\ntype x = { a: number }\n\ntype x = { a: string }\n\ntype x = { a: boolean }\n\n(x: number) =&gt; {}\n\n(x: string) =&gt; {}\n\n(x: boolean) =&gt; {}\n\ntype x = MyNumber\n\ntype x = MyString\n\ntype x = MyBoolean\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#no-types-missing-file-annotation","title":"<code>no-types-missing-file-annotation</code>","text":"<p>Disallows Flow type imports, aliases, and annotations in files missing a valid Flow file declaration (or a @noflow annotation).</p> <p>\u200b       {         \"rules\": {             \"flowtype/no-types-missing-file-annotation\": 2         }     }</p> <p>The following patterns are considered problems:</p> <p>\u200b       const x: number = 42;     // Message: Type annotations require valid Flow declaration.</p> <pre><code>type FooType = number;\n// Message: Type aliases require valid Flow declaration.\n\nimport type A from \"a\"\n// Message: Type imports require valid Flow declaration.\n\nimport type {A} from \"a\"\n// Message: Type imports require valid Flow declaration.\n\nimport {type A} from \"a\"\n// Message: Type imports require valid Flow declaration.\n\nexport type {A} from \"a\"\n// Message: Type exports require valid Flow declaration.\n\nfunction t&lt;T&gt;(): T{}\n// Message: Type annotations require valid Flow declaration.\n\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\nconst x: number = 42;\n// Message: Type annotations require valid Flow declaration.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       // @flow     const x: number = 42;</p> <pre><code>/* @flow weak */\ntype FooType = number;\n\n/* @noflow */\ntype FooType = number;\n\n/* @noflow */\nimport type A from \"a\"\n\n/* @noflow */\nimport {type A} from \"a\"\n\n/* @noflow */\nexport type {A} from \"a\"\n\n// an unrelated comment\n// @flow\nexport type {A} from \"a\"\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#no-unused-expressions","title":"<code>no-unused-expressions</code>","text":"<p>An extension of ESLint's <code>no-unused- expressions</code>. This rule ignores type cast expressions and optional call expressions, but otherwise behaves the same as ESLint's <code>no-unused-expressions</code>.</p> <p>Bare type casts are useful, for example to assert the exhaustiveness of a <code>switch</code>:</p> <p>\u200b       type Action       = { type: 'FOO', doFoo: (: number) =&gt; void }       | { type: 'BAR', doBar: (: string) =&gt; void };</p> <pre><code>type State = { foo: number, bar: string };\n\nfunction runFooBar(action: Action, state: State): void {\n  switch (action.type) {\n    case 'FOO':\n      doFoo(state.foo);\n      break;\n    case 'BAR':\n      doBar(state.bar);\n      break;\n    default:\n      (action: empty);  // type error when `Action` is extended with new types\n      console.error(`Impossible action: ${action.toString()}`);\n  }\n}\n</code></pre> <p>This rule takes the same arguments as ESLint's <code>no-unused-expressions</code>. See that rule's documentation for details.</p> <p>The following patterns are considered problems:</p> <p>\u200b       foo + 1     // Message: Expected an assignment or function call and instead saw an expression.</p> <pre><code>x?.y\n// Message: Expected an assignment or function call and instead saw an expression.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       (foo: number)</p> <pre><code>x?.y()\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#no-weak-types","title":"<code>no-weak-types</code>","text":"<p>Warns against weak type annotations any , Object and Function. These types can cause flow to silently skip over portions of your code, which would have otherwise caused type errors.</p> <p>This rule optionally takes one argument, an object to configure which type warnings to enable. By default, all of the warnings are enabled. e.g. to disable the <code>any</code> warning (allowing it to exist in your code), while continuing to warn about <code>Object</code> and <code>Function</code>:</p> <p>\u200b       {         \"rules\": {             \"flowtype/no-weak-types\": [2, {                 \"any\": false,                 \"Object\": true,                 \"Function\": true             }]         }     }</p> <pre><code>// or, the following is equivalent as default is true:\n\n{\n    \"rules\": {\n        \"flowtype/no-weak-types\": [2, {\n            \"any\": false\n        }]\n    }\n}\n</code></pre> <p>The following patterns are considered problems:</p> <p>\u200b       function foo(thing): any {}     // Message: Unexpected use of weak type \"any\"</p> <pre><code>function foo(thing): Promise&lt;any&gt; {}\n// Message: Unexpected use of weak type \"any\"\n\nfunction foo(thing): Promise&lt;Promise&lt;any&gt;&gt; {}\n// Message: Unexpected use of weak type \"any\"\n\nfunction foo(thing): Object {}\n// Message: Unexpected use of weak type \"Object\"\n\nfunction foo(thing): Promise&lt;Object&gt; {}\n// Message: Unexpected use of weak type \"Object\"\n\nfunction foo(thing): Promise&lt;Promise&lt;Object&gt;&gt; {}\n// Message: Unexpected use of weak type \"Object\"\n\nfunction foo(thing): Function {}\n// Message: Unexpected use of weak type \"Function\"\n\nfunction foo(thing): Promise&lt;Function&gt; {}\n// Message: Unexpected use of weak type \"Function\"\n\nfunction foo(thing): Promise&lt;Promise&lt;Function&gt;&gt; {}\n// Message: Unexpected use of weak type \"Function\"\n\n(foo: any) =&gt; {}\n// Message: Unexpected use of weak type \"any\"\n\n(foo: Function) =&gt; {}\n// Message: Unexpected use of weak type \"Function\"\n\n(foo?: any) =&gt; {}\n// Message: Unexpected use of weak type \"any\"\n\n(foo?: Function) =&gt; {}\n// Message: Unexpected use of weak type \"Function\"\n\n(foo: { a: any }) =&gt; {}\n// Message: Unexpected use of weak type \"any\"\n\n(foo: { a: Object }) =&gt; {}\n// Message: Unexpected use of weak type \"Object\"\n\n(foo: any[]) =&gt; {}\n// Message: Unexpected use of weak type \"any\"\n\ntype Foo = any\n// Message: Unexpected use of weak type \"any\"\n\ntype Foo = Function\n// Message: Unexpected use of weak type \"Function\"\n\ntype Foo = { a: any }\n// Message: Unexpected use of weak type \"any\"\n\ntype Foo = { a: Object }\n// Message: Unexpected use of weak type \"Object\"\n\ntype Foo = { (a: Object): string }\n// Message: Unexpected use of weak type \"Object\"\n\ntype Foo = { (a: string): Function }\n// Message: Unexpected use of weak type \"Function\"\n\nfunction foo(thing: any) {}\n// Message: Unexpected use of weak type \"any\"\n\nfunction foo(thing: Object) {}\n// Message: Unexpected use of weak type \"Object\"\n\nvar foo: Function\n// Message: Unexpected use of weak type \"Function\"\n\nvar foo: Object\n// Message: Unexpected use of weak type \"Object\"\n\nclass Foo { props: any }\n// Message: Unexpected use of weak type \"any\"\n\nclass Foo { props: Object }\n// Message: Unexpected use of weak type \"Object\"\n\nvar foo: any\n// Message: Unexpected use of weak type \"any\"\n\n// Options: [{\"Function\":false}]\ntype X = any; type Y = Function; type Z = Object\n// Message: Unexpected use of weak type \"any\"\n// Message: Unexpected use of weak type \"Object\"\n\n// Options: [{\"any\":false,\"Object\":false}]\ntype X = any; type Y = Function; type Z = Object\n// Message: Unexpected use of weak type \"Function\"\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       function foo(thing): string {}</p> <pre><code>function foo(thing): Promise&lt;string&gt; {}\n\nfunction foo(thing): Promise&lt;Promise&lt;string&gt;&gt; {}\n\n(foo?: string) =&gt; {}\n\n(foo: ?string) =&gt; {}\n\n(foo: { a: string }) =&gt; {}\n\n(foo: { a: ?string }) =&gt; {}\n\n(foo: string[]) =&gt; {}\n\ntype Foo = string\n\ntype Foo = { a: string }\n\ntype Foo = { (a: string): string }\n\nfunction foo(thing: string) {}\n\nvar foo: string\n\nclass Foo { props: string }\n\n// Options: [{\"any\":false,\"Object\":false}]\ntype X = any; type Y = Object\n\n// Options: [{\"Function\":false}]\ntype X = Function\n\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\nfunction foo(thing): Function {}\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#object-type-curly-spacing","title":"<code>object-type-curly-spacing</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>This rule enforces consistent spacing inside braces of object types.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_4","title":"Options","text":"<p>The rule has a string option:</p> <ul> <li><code>\"never\"</code> (default): disallows spacing inside of braces.</li> <li><code>\"always\"</code>: requires spacing inside of braces.</li> </ul> <p>The following patterns are considered problems:</p> <p>\u200b       type obj = { \"foo\": \"bar\" }     // Message: There must be no space after \"{\".     // Message: There must be no space before \"}\".</p> <pre><code>type obj = {\"foo\": \"bar\" }\n// Message: There must be no space before \"}\".\n\ntype obj = {\"foo\": \"bar\", ... }\n// Message: There must be no space before \"}\".\n\ntype obj = {|\"foo\": \"bar\" |}\n// Message: There must be no space before \"|}\".\n\ntype obj = {\"foo\": \"bar\", [key: string]: string }\n// Message: There must be no space before \"}\".\n\ntype obj = {\n\"foo\": \"bar\", [key: string]: string }\n// Message: There must be no space before \"}\".\n\ntype obj = { baz: {\"foo\": \"qux\"}, bar: 4}\n// Message: There must be no space after \"{\".\n\n// Options: [\"always\"]\ntype obj = {\"foo\": \"bar\"}\n// Message: A space is required after \"{\".\n// Message: A space is required before \"}\".\n\n// Options: [\"always\"]\ntype obj = {\"foo\": \"bar\" }\n// Message: A space is required after \"{\".\n\n// Options: [\"always\"]\ntype obj = { baz: {\"foo\": \"qux\"}, bar: 4}\n// Message: A space is required before \"}\".\n// Message: A space is required after \"{\".\n// Message: A space is required before \"}\".\n\n// Options: [\"always\"]\ntype obj = { baz: { \"foo\": \"qux\" }, bar: 4}\n// Message: A space is required before \"}\".\n\n// Options: [\"always\"]\ntype obj = { \"foo\": \"bar\", ...}\n// Message: A space is required before \"}\".\n\n// Options: [\"always\"]\ntype obj = {|\"foo\": \"bar\" |}\n// Message: A space is required after \"{|\".\n\n// Options: [\"always\"]\ntype obj = {\"foo\": \"bar\", [key: string]: string }\n// Message: A space is required after \"{\".\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type obj = {baz: {\"foo\": \"qux\"}, bar: 4}</p> <pre><code>type obj = {foo: {\"foo\": \"qux\"}}\n\ntype obj = {foo: \"bar\"}\n\ntype obj = {foo: \"bar\"\n}\n\ntype obj = {\nfoo: \"bar\"}\n\ntype obj = {\nfoo: \"bar\"\n}\n\ntype obj = {\nfoo: \"bar\",\nee: \"bar\",\n}\n\ntype obj = {\nfoo: \"bar\",\nee: \"bar\",\n             }\n\ntype obj = {|\"foo\": \"bar\"|}\n\ntype obj = {\"foo\": \"bar\", [key: string]: string}\n\n// Options: [\"always\"]\ntype obj = { baz: { \"foo\": \"qux\" }, bar: 4 }\n\n// Options: [\"always\"]\ntype obj = {}\n\n// Options: [\"always\"]\ntype obj = {\nfoo: \"bar\"\n}\n\n// Options: [\"always\"]\ntype obj = { baz: 4 }\n\n// Options: [\"always\"]\ntype obj = {| \"foo\": \"bar\" |}\n\n// Options: [\"always\"]\ntype obj = { \"foo\": \"bar\", [key: string]: string }\n\n// Options: [\"always\"]\ntype obj = {  baz: { \"foo\": \"qux\" }, bar: 4  }\n\n// Options: [\"always\"]\ntype obj = {\n  baz: { \"foo\": \"qux\" }, bar: 4\n}\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#object-type-delimiter","title":"<code>object-type-delimiter</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>Enforces consistent separators between properties in Flow object types.</p> <p>This rule takes one argument.</p> <p>If it is <code>'comma'</code> then a problem is raised when using <code>;</code> as a separator.</p> <p>If it is <code>'semicolon'</code> then a problem is raised when using <code>,</code> as a separator.</p> <p>The default value is <code>'comma'</code>.</p> <p>This rule is ported from<code>babel/flow-object-type</code>, however the default option was changed.</p> <p>The following patterns are considered problems:</p> <p>\u200b       // Options: [\"semicolon\"]     type Foo = { a: Foo, b: Bar }     // Message: Prefer semicolons to commas in object and class types</p> <pre><code>// Options: [\"comma\"]\ntype Foo = { a: Foo; b: Bar }\n// Message: Prefer commas to semicolons in object and class types\n\n// Options: [\"semicolon\"]\ntype Foo = { [a: string]: Foo, [b: string]: Bar }\n// Message: Prefer semicolons to commas in object and class types\n\n// Options: [\"comma\"]\ntype Foo = { [a: string]: Foo; [b: string]: Bar }\n// Message: Prefer commas to semicolons in object and class types\n\n// Options: [\"semicolon\"]\ntype Foo = { (): Foo, (): Bar }\n// Message: Prefer semicolons to commas in object and class types\n\n// Options: [\"comma\"]\ntype Foo = { (): Foo; (): Bar }\n// Message: Prefer commas to semicolons in object and class types\n\n// Options: [\"semicolon\"]\ndeclare class Foo { a: Foo, }\n// Message: Prefer semicolons to commas in object and class types\n\n// Options: [\"comma\"]\ndeclare class Foo { a: Foo; }\n// Message: Prefer commas to semicolons in object and class types\n\n// Options: [\"semicolon\"]\ndeclare class Foo { [a: string]: Foo, }\n// Message: Prefer semicolons to commas in object and class types\n\n// Options: [\"comma\"]\ndeclare class Foo { a: Foo; }\n// Message: Prefer commas to semicolons in object and class types\n\n// Options: [\"semicolon\"]\ndeclare class Foo { (): Foo, }\n// Message: Prefer semicolons to commas in object and class types\n\n// Options: [\"comma\"]\ndeclare class Foo { (): Foo; }\n// Message: Prefer commas to semicolons in object and class types\n\n// Options: [\"semicolon\"]\ndeclare class Foo { static (): Foo, }\n// Message: Prefer semicolons to commas in object and class types\n\n// Options: [\"comma\"]\ndeclare class Foo { static (): Foo; }\n// Message: Prefer commas to semicolons in object and class types\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       // Options: [\"semicolon\"]     type Foo = { a: Foo; b: Bar }</p> <pre><code>// Options: [\"comma\"]\ntype Foo = { a: Foo, b: Bar }\n\n// Options: [\"semicolon\"]\ntype Foo = { [a: string]: Foo; [b: string]: Bar }\n\n// Options: [\"comma\"]\ntype Foo = { [a: string]: Foo, [b: string]: Bar }\n\n// Options: [\"semicolon\"]\ntype Foo = { (): Foo; (): Bar }\n\n// Options: [\"comma\"]\ntype Foo = { (): Foo, (): Bar }\n\ntype Foo = { a: Foo, b: Bar }\n\ntype Foo = { [a: string]: Foo, [b: string]: Bar }\n\ntype Foo = { (): Foo, (): Bar }\n\n// Options: [\"semicolon\"]\ndeclare class Foo { a: Foo; }\n\n// Options: [\"comma\"]\ndeclare class Foo { a: Foo, }\n\n// Options: [\"semicolon\"]\ndeclare class Foo { [a: string]: Foo; }\n\n// Options: [\"comma\"]\ndeclare class Foo { [a: string]: Foo, }\n\n// Options: [\"semicolon\"]\ndeclare class Foo { (): Foo; }\n\n// Options: [\"comma\"]\ndeclare class Foo { (): Foo, }\n\n// Options: [\"semicolon\"]\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\ntype Foo = { a: Foo, b: Bar }\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#quotes","title":"<code>quotes</code>","text":"<p>Enforces single quotes or double quotes around string literals.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_5","title":"Options","text":"<p>The rule has string options of:</p> <ul> <li><code>\"double\"</code> (default) requires double quotes around string literals.</li> <li><code>\"single\"</code> requires single quotes around string literals.</li> </ul> <p>The following patterns are considered problems:</p> <p>\u200b       type T = 'hi'     // Message: String literals must use double quote.</p> <pre><code>// Options: [\"double\"]\ntype T = { test: 'hello' | 'test' }\n// Message: String literals must use double quote.\n// Message: String literals must use double quote.\n\n// Options: [\"double\"]\ntype T = { test: \"hello\" | 'test', t: 'hello' }\n// Message: String literals must use double quote.\n// Message: String literals must use double quote.\n\n// Options: [\"single\"]\ntype T = \"hi\"\n// Message: String literals must use single quote.\n\n// Options: [\"single\"]\ntype T = { test: \"hello\" | \"test\" }\n// Message: String literals must use single quote.\n// Message: String literals must use single quote.\n\n// Options: [\"single\"]\ntype T = { test: \"hello\" | 'test', t: 'hello' }\n// Message: String literals must use single quote.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       // Options: [\"double\"]     type T = \"hi\"</p> <pre><code>// Options: [\"double\"]\ntype T = { test: \"hello\" | \"test\" }\n\n// Options: [\"double\"]\ntype T = { test: \"hello\" | \"test\", t: \"hello\" }\n\n// Options: [\"single\"]\ntype FooType = 'hi'\n\n// Options: [\"single\"]\ntype T = { test: 'hello' | 'test' }\n\n// Options: [\"single\"]\ntype T = { test: 'hello' | 'test', t: 'hello' }\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#require-compound-type-alias","title":"<code>require-compound-type-alias</code>","text":"<p>Requires to make a type alias for all union and intersection types. If these are used in \"raw\" forms it might be tempting to just copy &amp; paste them around the code. However, this brings sort of a source code pollution and unnecessary changes on several parts when these compound types need to be changed.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_6","title":"Options","text":"<p>The rule has two options:</p> <ol> <li> <p>a string option</p> </li> <li> <p><code>\"always\"</code> (default)</p> </li> <li> <p><code>\"never\"</code></p> </li> <li> <p>an object</p> </li> </ol> <p>\u200b       {       \"rules\": {         \"flowtype/require-compound-type-alias\": [           2,           \"always\",           {             \"allowNull\": true           }         ]       }     }</p> <ul> <li><code>allowNull</code> \u2013 allows compound types where one of the members is a <code>null</code>, e.g. <code>string | null</code>.</li> </ul> <p>The following patterns are considered problems:</p> <p>\u200b       // Options: [\"always\",{\"allowNull\":false}]     const foo: string | null = null;     // Message: All union types must be declared with named type alias.</p> <pre><code>function foo(bar: \"A\" | \"B\") {}\n// Message: All union types must be declared with named type alias.\n\nconst foo: \"A\" | \"B\" = \"A\";\n// Message: All union types must be declared with named type alias.\n\ntype Foo = { bar: \"A\" | \"B\" };\n// Message: All union types must be declared with named type alias.\n\nfunction foo(bar: { n: number } | { s: string }) {}\n// Message: All union types must be declared with named type alias.\n\nfunction foo(bar: { n: number } &amp; { s: string }) {}\n// Message: All intersection types must be declared with named type alias.\n\nconst foo: { n: number } &amp; { s: string } = { n: 0, s: \"\" };\n// Message: All intersection types must be declared with named type alias.\n\ntype Foo = { bar: { n: number } &amp; { s: string } };\n// Message: All intersection types must be declared with named type alias.\n\nfunction foo(bar: { n: number } &amp; { s: string }) {}\n// Message: All intersection types must be declared with named type alias.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       const foo: string | null = null;</p> <pre><code>// Options: [\"always\",{\"allowNull\":true}]\nconst foo: string | null = null;\n\ntype Foo = \"A\" | \"B\";\n\ntype Bar = \"A\" | \"B\"; function foo(bar: Bar) {}\n\ntype Foo = { disjoint: \"A\", n: number } | { disjoint: \"B\", s: string };\n\ntype Foo = { n: number } &amp; { s: string };\n\ntype Bar = { n: number } &amp; { s: string }; function foo(bar: Bar) {}\n\n// Options: [\"never\"]\nfunction foo(bar: \"A\" | \"B\") {}\n\n// Options: [\"never\"]\nfunction foo(bar: { n: number } &amp; { s: string }) {}\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#require-exact-type","title":"<code>require-exact-type</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>This rule enforces exact object types.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_7","title":"Options","text":"<p>The rule has one string option:</p> <ul> <li><code>\"always\"</code> (default): Report all object type definitions that aren't exact.</li> <li> <p><code>\"never\"</code>: Report all object type definitions that are exact.</p> <p>{   \"rules\": {     \"flowtype/require-exact-type\": [       2,       \"always\"     ]   } }</p> <p>{   \"rules\": {     \"flowtype/require-exact-type\": [       2,       \"never\"     ]   } }</p> </li> </ul> <p>The following patterns are considered problems:</p> <p>\u200b       type foo = {};     // Message: Object type must be exact.</p> <pre><code>type foo = { bar: string };\n// Message: Object type must be exact.\n\n// Options: [\"always\"]\ntype foo = Array&lt;{bar: string}&gt;;\n// Message: Object type must be exact.\n\n// Options: [\"always\"]\n(foo: Array&lt;{bar: string}&gt;) =&gt; {};\n// Message: Object type must be exact.\n\n// Options: [\"always\"]\ninterface StackFrame {\n          colno?: number;\n          lineno?: number;\n          filename?: string;\n          function?: { name: string };\n      }\n// Message: Object type must be exact.\n\n// Options: [\"never\"]\ntype foo = {| |};\n// Message: Object type must not be exact.\n\n// Options: [\"never\"]\ntype foo = {| bar: string |};\n// Message: Object type must not be exact.\n\n// Options: [\"never\"]\ntype foo = { bar: {| baz: string |} };\n// Message: Object type must not be exact.\n\n// Options: [\"never\"]\ntype foo = Array&lt;{| bar: string |}&gt;;\n// Message: Object type must not be exact.\n\n// Options: [\"never\"]\n(foo: Array&lt;{| bar: string |}&gt;) =&gt; {};\n// Message: Object type must not be exact.\n\n// Options: [\"never\"]\ninterface StackFrame {\n          colno?: number;\n          lineno?: number;\n          filename?: string;\n          function?: {| name: string |};\n      }\n// Message: Object type must not be exact.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type foo = {| |};</p> <pre><code>type foo = {| bar: string |};\n\ntype foo = { [key: string]: string };\n\ntype foo = number;\n\n// Options: [\"always\"]\ntype foo = {| |};\n\n// Options: [\"always\"]\ntype foo = {| bar: string |};\n\n// Options: [\"always\"]\ntype foo = {| bar: {| baz: string |} |};\n\n// Options: [\"always\"]\ntype foo = Array&lt;{| bar: string |}&gt;;\n\n// Options: [\"always\"]\ntype foo = number;\n\n// Options: [\"always\"]\ninterface StackFrame {\n          colno?: number;\n          lineno?: number;\n          filename?: string;\n          function?: {| name: string |};\n      }\n\n// Options: [\"always\"]\ndeclare class MyEvent extends Event {\n        key: string\n      }\n\n// Options: [\"never\"]\ntype foo = { };\n\n// Options: [\"never\"]\ntype foo = { bar: string };\n\n// Options: [\"never\"]\ntype foo = { bar: { baz: string } };\n\n// Options: [\"never\"]\ntype foo = Array&lt;{bar: string}&gt;;\n\n// Options: [\"never\"]\ntype foo = number;\n\n// Options: [\"always\"]\ninterface StackFrame {\n          colno?: number;\n          lineno?: number;\n          filename?: string;\n          function?: {| name: string |};\n      }\n\ntype A = { a: string, ... }\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#require-indexer-name","title":"<code>require-indexer-name</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>This rule validates Flow object indexer name.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_8","title":"Options","text":"<p>The rule has a string option:</p> <ul> <li><code>\"never\"</code> (default): Never report files that are missing an indexer key name.</li> <li> <p><code>\"always\"</code>: Always report files that are missing an indexer key name.</p> <p>{   \"rules\": {     \"flowtype/require-indexer-name\": [       2,       \"always\"     ]   } }</p> </li> </ul> <p>The following patterns are considered problems:</p> <p>\u200b       type foo = { [string]: number };     // Message: All indexers must be declared with key name.</p> <p>The following patterns are not considered problems:</p> <p>\u200b       type foo = { [key: string]: number };</p> <pre><code>// Options: [\"never\"]\ntype foo = { [key: string]: number };\n\n// Options: [\"never\"]\ntype foo = { [string]: number };\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#require-inexact-type","title":"<code>require-inexact-type</code>","text":"<p>This rule enforces explicit inexact object types.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_9","title":"Options","text":"<p>The rule has one string option:</p> <ul> <li><code>\"always\"</code> (default): Report all object type definitions that aren't explicit inexact, but ignore exact objects.</li> <li> <p><code>\"never\"</code>: Report all object type definitions that are explicit inexact.</p> <p>{   \"rules\": {     \"flowtype/require-inexact-type\": [       2,       \"always\"     ]   } }</p> <p>{   \"rules\": {     \"flowtype/require-inexact-type\": [       2,       \"never\"     ]   } }</p> </li> </ul> <p>The following patterns are considered problems:</p> <p>\u200b       type foo = {};     // Message: Type must be explicit inexact.</p> <pre><code>type foo = { bar: string };\n// Message: Type must be explicit inexact.\n\n// Options: [\"always\"]\ntype foo = {};\n// Message: Type must be explicit inexact.\n\n// Options: [\"always\"]\ntype foo = { bar: string };\n// Message: Type must be explicit inexact.\n\n// Options: [\"never\"]\ntype foo = {...};\n// Message: Type must not be explicit inexact.\n\n// Options: [\"never\"]\ntype foo = { bar: string, ... };\n// Message: Type must not be explicit inexact.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type foo = { foo: string, ... };</p> <pre><code>interface Foo { foo: string }\n\ndeclare class Foo { foo: string }\n\ntype foo = {| |};\n\ntype foo = {| bar: string |};\n\ntype foo = { [key: string]: string, ... };\n\ntype foo = number;\n\n// Options: [\"always\"]\ntype foo = {| |};\n\n// Options: [\"always\"]\ntype foo = {...};\n\n// Options: [\"always\"]\ntype foo = { bar: string, ... };\n\n// Options: [\"always\"]\ntype foo = {| bar: string |};\n\n// Options: [\"always\"]\ntype foo = number;\n\n// Options: [\"never\"]\ntype foo = { };\n\n// Options: [\"never\"]\ntype foo = {| |};\n\n// Options: [\"never\"]\ntype foo = { bar: string };\n\n// Options: [\"never\"]\ntype foo = {| bar: string |};\n\n// Options: [\"never\"]\ntype foo = number;\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#require-parameter-type","title":"<code>require-parameter-type</code>","text":"<p>Requires that all function parameters have type annotations.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_10","title":"Options","text":"<p>You can skip all arrow functions by providing the <code>excludeArrowFunctions</code> option with <code>true</code>.</p> <p>Alternatively, you can want to exclude only concise arrow functions (e.g. <code>x =&gt; x * 2</code>). Provide <code>excludeArrowFunctions</code> with <code>expressionsOnly</code> for this.</p> <p>\u200b       {         \"rules\": {             \"flowtype/require-parameter-type\": [                 2,                 {                   \"excludeArrowFunctions\": true                 }             ]         }     }</p> <pre><code>{\n    \"rules\": {\n        \"flowtype/require-parameter-type\": [\n            2,\n            {\n              \"excludeArrowFunctions\": \"expressionsOnly\"\n            }\n        ]\n    }\n}\n</code></pre> <p>You can exclude parameters that match a certain regex by using <code>excludeParameterMatch</code>.</p> <p>\u200b       {         \"rules\": {             \"flowtype/require-parameter-type\": [                 2,                 {                   \"excludeParameterMatch\": \"^_\"                 }             ]         }     }</p> <p>This excludes all parameters that start with an underscore (<code>_</code>). The default pattern is <code>a^</code>, which doesn't match anything, i.e., all parameters are checked.</p> <p>The following patterns are considered problems:</p> <p>\u200b       (foo) =&gt; {}     // Message: Missing \"foo\" parameter type annotation.</p> <pre><code>function x(foo) {}\n// Message: Missing \"foo\" parameter type annotation.\n\n// Options: [{\"excludeArrowFunctions\":true}]\nfunction x(foo) {}\n// Message: Missing \"foo\" parameter type annotation.\n\n(foo = 'FOO') =&gt; {}\n// Message: Missing \"foo\" parameter type annotation.\n\n(...foo) =&gt; {}\n// Message: Missing \"foo\" parameter type annotation.\n\n({foo}) =&gt; {}\n// Message: Missing \"{foo}\" parameter type annotation.\n\n([foo]) =&gt; {}\n// Message: Missing \"[foo]\" parameter type annotation.\n\n({foo = 1} = {}) =&gt; {}\n// Message: Missing \"{foo = 1}\" parameter type annotation.\n\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\n// @flow\n(foo) =&gt; {}\n// Message: Missing \"foo\" parameter type annotation.\n\n// Options: [{\"excludeArrowFunctions\":\"expressionsOnly\"}]\n(foo) =&gt; {}\n// Message: Missing \"foo\" parameter type annotation.\n\n// Options: [{\"excludeArrowFunctions\":\"expressionsOnly\"}]\nfunction x(foo) {}\n// Message: Missing \"foo\" parameter type annotation.\n\n// Options: [{\"excludeParameterMatch\":\"^_\"}]\n(_foo: number, bar) =&gt; {}\n// Message: Missing \"bar\" parameter type annotation.\n\n// Options: [{\"excludeParameterMatch\":\"^_\"}]\n(_foo, bar) =&gt; {}\n// Message: Missing \"bar\" parameter type annotation.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       (foo: string) =&gt; {}</p> <pre><code>(foo: string = 'FOO') =&gt; {}\n\n(...foo: string) =&gt; {}\n\nconst f: Foo = (a, b) =&gt; 42;\n\n({foo}: {foo: string}) =&gt; {}\n\n([foo]: Array) =&gt; {}\n\ntype fn = (a: string, b: number) =&gt; number;\nconst f: fn = (a, b) =&gt; {}\n\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\n(foo) =&gt; {}\n\n// Options: [{\"excludeArrowFunctions\":true}]\n(foo) =&gt; {}\n\n// Options: [{\"excludeArrowFunctions\":\"expressionsOnly\"}]\n(foo) =&gt; 3\n\n// Options: [{\"excludeParameterMatch\":\"^_\"}]\n(_foo, bar: string) =&gt; {}\n\n// Options: [{\"excludeParameterMatch\":\"^_\"}]\n(_foo: number, bar: string) =&gt; {}\n\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\n(foo) =&gt; {}\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#require-readonly-react-props","title":"<code>require-readonly-react-props</code>","text":"<p>This rule validates that React props are marked as <code>$ReadOnly</code>. React props are immutable and modifying them could lead to unexpected results. Marking prop shapes as <code>$ReadOnly</code> avoids these issues.</p> <p>The rule tries its best to work with both class and functional components. For class components, it does a fuzzy check for one of \"Component\", \"PureComponent\", \"React.Component\" and \"React.PureComponent\". It doesn't actually infer that those identifiers resolve to a proper <code>React.Component</code> object.</p> <p>For example, this will NOT be checked:</p> <p>\u200b       import MyReact from 'react';     class Foo extends MyReact.Component { }</p> <p>As a result, you can safely use other classes without getting warnings from this rule:</p> <p>\u200b       class MyClass extends MySuperClass { }</p> <p>React's functional components are hard to detect statically. The way it's done here is by searching for JSX within a function. When present, a function is considered a React component:</p> <p>\u200b       // this gets checked     type Props = { };     function MyComponent(props: Props) {         return <p></p>;     }</p> <pre><code>// this doesn't get checked since no JSX is present in a function\ntype Options = { };\nfunction SomeHelper(options: Options) {\n    // ...\n}\n\n// this doesn't get checked since no JSX is present directly in a function\nfunction helper() { return &lt;p /&gt; }\nfunction MyComponent(props: Props) {\n    return helper();\n}\n</code></pre> <p>The rule only works for locally defined props that are marked with a <code>$ReadOnly</code> or using covariant notation. It doesn't work with imported props:</p> <p>\u200b       // the rule has no way of knowing whether ImportedProps are read-only     import { type ImportedProps } from './somewhere';     class Foo extends React.Component { } <p>\u200b       // the rule also checks for covariant properties     type Props = {|         +foo: string     |};     class Bar extends React.Component { } <pre><code>// this fails because the object is not fully read-only\ntype Props = {|\n    +foo: string,\n    bar: number,\n|};\nclass Bar extends React.Component&lt;Props&gt; { }\n\n// this fails because spreading makes object mutable (as of Flow 0.98)\n// https://github.com/gajus/eslint-plugin-flowtype/pull/400#issuecomment-489813899\ntype Props = {|\n    +foo: string,\n    ...bar,\n|};\nclass Bar extends React.Component&lt;Props&gt; { }\n</code></pre> <p>\u200b       {         \"rules\": {             \"flowtype/require-readonly-react-props\": 2         }     }</p> <p>Optionally, you can enable support for implicit exact Flow types (useful when using <code>exact_by_default=true</code> Flow option):</p> <p>\u200b       {         \"rules\": {             \"flowtype/require-readonly-react-props\": [                 2,                 {                     \"useImplicitExactTypes\": true                 }             ]         }     }</p> <p>The following patterns are considered problems:</p> <p>\u200b       type Props = { }; class Foo extends React.Component { }     // Message: Props must be $ReadOnly <pre><code>type OtherProps = { foo: string }; class Foo extends React.Component&lt;OtherProps&gt; { }\n// Message: OtherProps must be $ReadOnly\n\nclass Foo extends React.Component&lt;{}&gt; { }\n// Message: Foo class props must be $ReadOnly\n\ntype Props = { bar: {} }; class Foo extends React.Component&lt;Props, State&gt; { }\n// Message: Props must be $ReadOnly\n\ntype Props = { }; class Foo extends Component&lt;Props&gt; { }\n// Message: Props must be $ReadOnly\n\ntype Props = { }; class Foo extends PureComponent&lt;Props&gt; { }\n// Message: Props must be $ReadOnly\n\nexport type Props = {}; class Foo extends Component&lt;Props&gt; { }\n// Message: Props must be $ReadOnly\n\ntype Props = {| foo: string |}; class Foo extends Component&lt;Props&gt; { }\n// Message: Props must be $ReadOnly\n\ntype Props = {| foo: string |} | {| bar: number |}; class Foo extends Component&lt;Props&gt; { }\n// Message: Props must be $ReadOnly\n\n// Options: [{\"useImplicitExactTypes\":true}]\ntype Props = { foo: string } | { bar: number }; class Foo extends Component&lt;Props&gt; { }\n// Message: Props must be $ReadOnly\n\ntype Props = {| +foo: string, ...bar |}; class Foo extends Component&lt;Props&gt; { }\n// Message: Props must be $ReadOnly\n\ntype Props = {| +foo: string, -bar: number |}; class Foo extends Component&lt;Props&gt; { }\n// Message: Props must be $ReadOnly\n\ntype Props = { }; function Foo(props: Props) { return &lt;p /&gt; }\n// Message: Props must be $ReadOnly\n\ntype Props = { }; function Foo(props: Props) { return foo ? &lt;p /&gt; : &lt;span /&gt; }\n// Message: Props must be $ReadOnly\n\nfunction Foo(props: {}) { return &lt;p /&gt; }\n// Message: Foo component props must be $ReadOnly\n\nexport type Props = {}; function Foo(props: Props) { return &lt;p /&gt; }\n// Message: Props must be $ReadOnly\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       class Foo extends React.Component&lt;$ReadOnly&lt;{}&gt;&gt; { }</p> <pre><code>type Props = $ReadOnly&lt;{}&gt;; class Foo extends React.Component&lt;Props&gt; { }\n\ntype Props = $ReadOnly&lt;{}&gt;; class Foo extends React.PureComponent&lt;Props&gt; { }\n\nclass Foo extends React.Component&lt;$ReadOnly&lt;{}, State&gt;&gt; { }\n\ntype Props = $ReadOnly&lt;{}&gt;; class Foo extends React.Component&lt;Props, State&gt; { }\n\ntype Props = $ReadOnly&lt;{}&gt;; class Foo extends Component&lt;Props&gt; { }\n\ntype Props = $ReadOnly&lt;{}&gt;; class Foo extends PureComponent&lt;Props&gt; { }\n\ntype FooType = {}; class Foo extends Bar&lt;FooType&gt; { }\n\nclass Foo { }\n\nexport type Props = $ReadOnly&lt;{}&gt;; class Foo extends Component&lt;Props, State&gt; { }\n\nexport type Props = $ReadOnly&lt;{}&gt;; export class Foo extends Component&lt;Props&gt; { }\n\ntype Props = {| +foo: string |}; class Foo extends Component&lt;Props&gt; { }\n\ntype Props = {| +foo: string, +bar: number |}; class Foo extends Component&lt;Props&gt; { }\n\ntype Props = {| +foo: string |} | {| +bar: number |}; class Foo extends Component&lt;Props&gt; { }\n\n// Options: [{\"useImplicitExactTypes\":true}]\ntype Props = { +foo: string } | { +bar: number }; class Foo extends Component&lt;Props&gt; { }\n\ntype Props = $FlowFixMe; class Foo extends Component&lt;Props&gt; { }\n\ntype Props = {||}; class Foo extends Component&lt;Props&gt; { }\n\n// Options: [{\"useImplicitExactTypes\":true}]\ntype Props = {||}; class Foo extends Component&lt;Props&gt; { }\n\n// Options: [{\"useImplicitExactTypes\":true}]\ntype Props = {}; class Foo extends Component&lt;Props&gt; { }\n\nclass Foo extends Component&lt;{||}&gt; { }\n\n// Options: [{\"useImplicitExactTypes\":true}]\nclass Foo extends Component&lt;{||}&gt; { }\n\n// Options: [{\"useImplicitExactTypes\":true}]\nclass Foo extends Component&lt;{}&gt; { }\n\nclass Foo extends React.Component&lt;UnknownProps&gt; { }\n\nimport { type Props } from \"file\"; class Foo extends React.Component&lt;Props&gt; { }\n\ntype Props = {}; function Foo() { }\n\ntype Props = $ReadOnly&lt;{}&gt;; function Foo(props: Props) { }\n\ntype Props = {}; function Foo(props: OtherProps) { }\n\nfunction Foo() { return &lt;p /&gt; }\n\nfunction Foo(props: $FlowFixMe) { return &lt;p /&gt; }\n\nfunction Foo(props: {||}) { return &lt;p /&gt; }\n\n// Options: [{\"useImplicitExactTypes\":true}]\nfunction Foo(props: {||}) { return &lt;p /&gt; }\n\n// Options: [{\"useImplicitExactTypes\":true}]\nfunction Foo(props: {}) { return &lt;p /&gt; }\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#require-return-type","title":"<code>require-return-type</code>","text":"<p>Requires that functions have return type annotation.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_11","title":"Options","text":"<p>You can skip all arrow functions by providing the <code>excludeArrowFunctions</code> option with <code>true</code>.</p> <p>Alternatively, you can exclude a concise arrow function (e.g. <code>() =&gt; 2</code>). Provide <code>excludeArrowFunctions</code> with <code>expressionsOnly</code> for this.</p> <p>\u200b       {         \"rules\": {             \"flowtype/require-return-type\": [                 2,                 \"always\",                 {                   \"excludeArrowFunctions\": true                 }             ]         }     }</p> <pre><code>{\n    \"rules\": {\n        \"flowtype/require-return-type\": [\n            2,\n            \"always\",\n            {\n              \"excludeArrowFunctions\": \"expressionsOnly\"\n            }\n        ]\n    }\n}\n</code></pre> <p>You can exclude or include specific tests with the <code>includeOnlyMatching</code> and <code>excludeMatching</code> rules.</p> <p>\u200b       {         \"rules\": {             \"flowtype/require-return-type\": [                 2,                 \"always\",                 {                   \"includeOnlyMatching\": [                       \"^F.*\",                       \"Ba(r|z)\"                   ]                 }             ]         }     }</p> <pre><code>{\n    \"rules\": {\n        \"flowtype/require-return-type\": [\n            2,\n            \"always\",\n            {\n              \"excludeMatching\": [\n                  \"^F.*\",\n                  \"Ba(r|z)\"\n              ]\n            }\n        ]\n    }\n}\n</code></pre> <p>Both rules take an array that can contain either strings or valid RegExp statements.</p> <p>The following patterns are considered problems:</p> <p>\u200b       (foo) =&gt; { return \"foo\"; }     // Message: Missing return type annotation.</p> <pre><code>// Options: [\"always\"]\n(foo) =&gt; { return \"foo\"; }\n// Message: Missing return type annotation.\n\n// Options: [\"always\"]\n(foo) =&gt; \"foo\"\n// Message: Missing return type annotation.\n\n(foo) =&gt; ({})\n// Message: Missing return type annotation.\n\n/* @flow */\n(foo) =&gt; { return 1; }\n// Message: Missing return type annotation.\n\n(foo): undefined =&gt; { return; }\n// Message: Must not annotate undefined return type.\n\n(foo): void =&gt; { return; }\n// Message: Must not annotate undefined return type.\n\n(foo): undefined =&gt; { return undefined; }\n// Message: Must not annotate undefined return type.\n\n(foo): void =&gt; { return void 0; }\n// Message: Must not annotate undefined return type.\n\n// Options: [\"always\",{\"annotateUndefined\":\"never\"}]\n(foo): undefined =&gt; { return; }\n// Message: Must not annotate undefined return type.\n\n// Options: [\"always\",{\"annotateUndefined\":\"never\"}]\n(foo): void =&gt; { return; }\n// Message: Must not annotate undefined return type.\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\"}]\n(foo) =&gt; { return; }\n// Message: Must annotate undefined return type.\n\n// Options: [\"always\",{\"annotateUndefined\":\"never\"}]\n(foo): undefined =&gt; { return undefined; }\n// Message: Must not annotate undefined return type.\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\"}]\n(foo) =&gt; { return undefined; }\n// Message: Must annotate undefined return type.\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\"}]\n(foo) =&gt; { return void 0; }\n// Message: Must annotate undefined return type.\n\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\n// @flow\n(foo) =&gt; { return 1; }\n// Message: Missing return type annotation.\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\"}]\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\n// @flow\n (foo) =&gt; { return undefined; }\n// Message: Must annotate undefined return type.\n\n// Options: [\"always\"]\nasync () =&gt; { return 2; }\n// Message: Missing return type annotation.\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\"}]\nasync () =&gt; {}\n// Message: Must annotate undefined return type.\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\"}]\nasync function x() {}\n// Message: Must annotate undefined return type.\n\n// Options: [\"always\",{\"annotateUndefined\":\"never\"}]\nasync (): Promise&lt;void&gt; =&gt; { return; }\n// Message: Must not annotate undefined return type.\n\n// Options: [\"always\",{\"annotateUndefined\":\"never\"}]\nasync (): Promise&lt;undefined&gt; =&gt; { return; }\n// Message: Must not annotate undefined return type.\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\"}]\nclass Test { constructor() { } }\n// Message: Must annotate undefined return type.\n\nclass Test { foo() { return 42; } }\n// Message: Missing return type annotation.\n\nclass Test { foo = () =&gt; { return 42; } }\n// Message: Missing return type annotation.\n\nclass Test { foo = () =&gt; 42; }\n// Message: Missing return type annotation.\n\n// Options: [\"always\"]\nfunction* x() {}\n// Message: Missing return type annotation.\n\n// Options: [\"always\",{\"excludeArrowFunctions\":\"expressionsOnly\"}]\n() =&gt; { return 3; }\n// Message: Missing return type annotation.\n\n// Options: [\"always\",{\"excludeArrowFunctions\":\"expressionsOnly\"}]\nasync () =&gt; { return 4; }\n// Message: Missing return type annotation.\n\n// Options: [\"always\",{\"includeOnlyMatching\":[\"bar\"]}]\nfunction foo() { return 42; }\nfunction bar() { return 42; }\n// Message: Missing return type annotation.\n\n// Options: [\"always\",{\"includeOnlyMatching\":[\"bar\"]}]\nconst foo = () =&gt; { return 42; };\nconst bar = () =&gt; { return 42; }\n// Message: Missing return type annotation.\n\n// Options: [\"always\",{\"includeOnlyMatching\":[\"bar\"]}]\nconst foo = { bar() { return 42; }, foobar: function() { return 42; } }\n// Message: Missing return type annotation.\n// Message: Missing return type annotation.\n\n// Options: [\"always\",{\"excludeMatching\":[\"bar\"]}]\nconst foo = { bar() { return 42; }, baz() { return 42; } }\n// Message: Missing return type annotation.\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\"}]\nfunction * foo() { yield 2; }\n// Message: Missing return type annotation.\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\"}]\nasync function * foo() { yield 2; }\n// Message: Missing return type annotation.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       return;</p> <pre><code>(foo): string =&gt; {}\n\nconst f: Foo = (a, b) =&gt; 42;\n\n// Options: [\"always\"]\n(foo): string =&gt; {}\n\ntype fn = (a: string, b: number) =&gt; number;\nconst f: fn = (a, b) =&gt; { return 42; }\n\n(foo) =&gt; { return; }\n\n(foo): Object =&gt; ( {} )\n\n(foo) =&gt; { return undefined; }\n\n(foo) =&gt; { return void 0; }\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\"}]\n(foo): undefined =&gt; { return; }\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\"}]\n(foo): void =&gt; { return; }\n\n// Options: [\"always\",{\"annotateUndefined\":\"never\"}]\n(foo) =&gt; { return; }\n\n// Options: [\"always\",{\"annotateUndefined\":\"never\"}]\n(foo) =&gt; { return undefined; }\n\n// Options: [\"always\",{\"annotateUndefined\":\"never\"}]\n(foo) =&gt; { return void 0; }\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\"}]\n(foo): undefined =&gt; { return undefined; }\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\"}]\n(foo): void =&gt; { return void 0; }\n\n// Options: [\"always\"]\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\n(foo) =&gt; { return 1; }\n\n// Options: [\"always\"]\n/* @noflow */\n(foo) =&gt; { return 1; }\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\"}]\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\n(foo) =&gt; { return undefined; }\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\"}]\nasync function doThing(): Promise&lt;void&gt; {}\n\n// Options: [\"always\",{\"annotateUndefined\":\"ignore\"}]\nasync function doThing(): Promise&lt;void&gt; {}\n\n// Options: [\"always\",{\"annotateUndefined\":\"ignore\"}]\nasync function doThing() {}\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\"}]\nfunction* doThing(): Generator&lt;number, void, void&gt; { yield 2; }\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\",\"excludeMatching\":[\"constructor\"]}]\nclass Test { constructor() { } }\n\nclass Test { constructor() { } }\n\n// Options: [\"always\",{\"excludeMatching\":[\"foo\"]}]\nclass Test { foo() { return 42; } }\n\n// Options: [\"always\",{\"excludeMatching\":[\"foo\"]}]\nclass Test { foo = () =&gt; { return 42; } }\n\n// Options: [\"always\",{\"excludeMatching\":[\"foo\"]}]\nclass Test { foo = () =&gt; 42; }\n\nclass Test { foo = (): number =&gt; { return 42; } }\n\nclass Test { foo = (): number =&gt; 42; }\n\nasync (foo): Promise&lt;number&gt; =&gt; { return 3; }\n\n// Options: [\"always\",{\"excludeArrowFunctions\":true}]\n() =&gt; 3\n\n// Options: [\"always\",{\"excludeArrowFunctions\":true}]\n() =&gt; { return 4; }\n\n// Options: [\"always\",{\"excludeArrowFunctions\":true}]\n() =&gt; undefined\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\",\"excludeArrowFunctions\":true}]\n() =&gt; undefined\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\",\"excludeArrowFunctions\":true}]\n() =&gt; { return undefined; }\n\n// Options: [\"always\",{\"excludeArrowFunctions\":\"expressionsOnly\"}]\n() =&gt; 3\n\n// Options: [\"always\",{\"excludeArrowFunctions\":\"expressionsOnly\"}]\nasync () =&gt; 3\n\n// Options: [\"always\",{\"excludeMatching\":[\"foo\"]}]\nfunction foo() { return 42; }\n\n// Options: [\"always\",{\"includeOnlyMatching\":[\"bar\"]}]\nfunction foo() { return 42; }\n\n// Options: [\"always\",{\"excludeMatching\":[\"bar\"]}]\nfunction foo(): number { return 42; }\nfunction bar() { return 42; }\n\n// Options: [\"always\",{\"includeOnlyMatching\":[\"foo\",\"baz\"]}]\nfunction foo(): number { return 42; }\nfunction bar() { return 42; }\n\n// Options: [\"always\",{\"excludeMatching\":[\"^b.*\",\"qux\"]}]\nfunction foo(): number { return 42; }\nfunction bar() { return 42; }\n\n// Options: [\"always\",{\"includeOnlyMatching\":[\"^f.*\"]}]\nfunction foo(): number { return 42; }\nfunction bar() { return 42; }\n\n// Options: [\"always\",{\"includeOnlyMatching\":[\"bar\"]}]\nconst foo = { baz() { return 42; } }\n\n// Options: [\"always\",{\"excludeMatching\":[\"bar\"]}]\nconst foo = { bar() { return 42; } }\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\"}]\nfunction * foo(): Iterable&lt;number&gt; { yield 2; }\n\n// Options: [\"always\",{\"annotateUndefined\":\"always\"}]\nasync function * foo(): AsyncIterable&lt;number&gt; { yield 2; }\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#require-types-at-top","title":"<code>require-types-at-top</code>","text":"<p>Requires all type declarations to be at the top of the file, after any import declarations.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_12","title":"Options","text":"<p>The rule has a string option:</p> <ul> <li><code>\"never\"</code></li> <li><code>\"always\"</code></li> </ul> <p>The default value is <code>\"always\"</code>.</p> <p>The following patterns are considered problems:</p> <p>\u200b       const foo = 3;     type Foo = number;     // Message: All type declaration must be at the top of the file, after any import declarations.</p> <pre><code>const foo = 3;\nopaque type Foo = number;\n// Message: All type declaration must be at the top of the file, after any import declarations.\n\nconst foo = 3;\nexport type Foo = number;\n// Message: All type declaration must be at the top of the file, after any import declarations.\n\nconst foo = 3;\nexport opaque type Foo = number;\n// Message: All type declaration must be at the top of the file, after any import declarations.\n\nconst foo = 3;\ntype Foo = number | string;\n// Message: All type declaration must be at the top of the file, after any import declarations.\n\nimport bar from \"./bar\";\nconst foo = 3;\ntype Foo = number;\n// Message: All type declaration must be at the top of the file, after any import declarations.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type Foo = number;     const foo = 3;</p> <pre><code>opaque type Foo = number;\nconst foo = 3;\n\nexport type Foo = number;\nconst foo = 3;\n\nexport opaque type Foo = number;\nconst foo = 3;\n\ntype Foo = number;\nconst foo = 3;\n\nimport bar from \"./bar\";\ntype Foo = number;\n\ntype Foo = number;\nimport bar from \"./bar\";\n\n// Options: [\"never\"]\nconst foo = 3;\ntype Foo = number;\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#require-valid-file-annotation","title":"<code>require-valid-file-annotation</code>","text":"<p>This rule validates Flow file annotations.</p> <p>This rule can optionally report missing or missed placed annotations, common typos (e.g. <code>// @floww</code>), and enforce a consistent annotation style.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_13","title":"Options","text":"<p>The rule has a string option:</p> <ul> <li><code>\"never\"</code> (default): Never report files that are missing an <code>@flow</code> annotation.</li> <li><code>\"always\"</code>: Always report files that are missing an <code>@flow</code> annotation</li> </ul> <p>This rule has an object option:</p> <ul> <li> <p><code>\"annotationStyle\"</code> - Enforce a consistent file annotation style.</p> <ul> <li><code>\"none\"</code> (default): Either annotation style is accepted.</li> <li><code>\"line\"</code>: Require single line annotations (i.e. <code>// @flow</code>).</li> <li><code>\"block\"</code>: Require block annotations (i.e. <code>/* @flow */</code>).</li> <li> <p><code>\"strict\"</code> - Enforce a strict flow file annotation.</p> </li> <li> <p><code>false</code> (default): strict flow annotation is not required.</p> </li> <li><code>true</code>: Require strict flow annotation (i.e. <code>// @flow strict</code>).</li> </ul> <p>{   \"rules\": {     \"flowtype/require-valid-file-annotation\": [       2,       \"always\"     ]   } }</p> <p>{   \"rules\": {     \"flowtype/require-valid-file-annotation\": [       2,       \"always\", {         \"annotationStyle\": \"block\",         \"strict\": true,       }     ]   } }</p> </li> </ul> <p>The following patterns are considered problems:</p> <p>\u200b       // Options: [\"always\"]     #!/usr/bin/env node     // Message: Flow file annotation is missing.</p> <pre><code>// Options: [\"always\"]\n#!/usr/bin/env node\na;\n// Message: Flow file annotation is missing.\n\n;// @flow\n// Message: Flow file annotation not at the top of the file.\n\n;\n// @flow\n// Message: Flow file annotation not at the top of the file.\n\n// @Flow\n// Message: Malformed Flow file annotation.\n\n// @NoFlow\n// Message: Malformed Flow file annotation.\n\n// @Noflow\n// Message: Malformed Flow file annotation.\n\n// @floweeeeeee\n// Message: Misspelled or malformed Flow file annotation.\n\n// @nofloweeeeeee\n// Message: Misspelled or malformed Flow file annotation.\n\n// Options: [\"always\"]\na;\n// Message: Flow file annotation is missing.\n\n// Options: [\"always\",{\"annotationStyle\":\"line\"}]\n/* @flow */\n// Message: Flow file annotation style must be `// @flow`\n\n// Options: [\"always\",{\"annotationStyle\":\"block\"}]\n// @flow\n// Message: Flow file annotation style must be `/* @flow */`\n\n// Options: [\"always\",{\"annotationStyle\":\"block\"}]\n// @flow\n// Message: Flow file annotation style must be `/* @flow */`\n\n// Options: [\"always\",{\"annotationStyle\":\"line\",\"strict\":true}]\n// @flow\n// Message: Strict Flow file annotation is required, must be `// @flow strict`\n\n// Options: [\"always\",{\"annotationStyle\":\"line\"}]\n/* @noflow */\n// Message: Flow file annotation style must be `// @noflow`\n\n// Options: [\"always\",{\"annotationStyle\":\"block\"}]\n// @noflow\n// Message: Flow file annotation style must be `/* @noflow */`\n\n// Options: [\"always\"]\na;\n// Message: Flow file annotation is missing.\n\n// Options: [\"always\",{\"annotationStyle\":\"block\"}]\na;\n// Message: Flow file annotation is missing.\n\n// Options: [\"always\",{\"annotationStyle\":\"line\",\"strict\":true}]\na;\n// Message: Flow file annotation is missing.\n\n// Options: [\"always\",{\"annotationStyle\":\"line\",\"strict\":true}]\n// @flow\na;\nb;\n// Message: Strict Flow file annotation is required, must be `// @flow strict`\n\n// Options: [\"never\",{\"annotationStyle\":\"line\"}]\n/* @flow */\na;\nb;\n// Message: Flow file annotation style must be `// @flow`\n\n// Options: [\"never\",{\"annotationStyle\":\"line\"}]\n/* @flow strict */\na;\nb;\n// Message: Flow file annotation style must be `// @flow strict`\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       a;</p> <pre><code>// @flow\na;\n\n//@flow\na;\n\n//**@flow\na;\n\n/* foo @flow bar */\na;\n</code></pre> <p>\u200b   \u200b       // @flow     a;</p> <pre><code>// @flow\n// @FLow\n\n// @noflow\na;\n\n// Options: [\"always\"]\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\na;\n\n// Options: [\"always\",{\"annotationStyle\":\"line\"}]\n// @flow\n\n// Options: [\"always\",{\"annotationStyle\":\"line\",\"strict\":true}]\n// @noflow\n\n// Options: [\"always\",{\"annotationStyle\":\"line\",\"strict\":true}]\n// @flow strict\n\n// Options: [\"never\",{\"annotationStyle\":\"none\"}]\n// @function\n\n// Options: [\"never\"]\n// @fixable\n\n// Options: [\"always\",{\"annotationStyle\":\"block\"}]\n/* @flow */\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#require-variable-type","title":"<code>require-variable-type</code>","text":"<p>Requires that all variable declarators have type annotations.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_14","title":"Options","text":"<p>You can exclude variables that match a certain regex by using <code>excludeVariableMatch</code>.</p> <p>This excludes all parameters that start with an underscore (<code>_</code>). The default pattern is <code>a^</code>, which doesn't match anything, i.e., all parameters are checked.</p> <p>\u200b       {         \"rules\": {             \"flowtype/require-variable-type\": [                 2,                 {                   \"excludeVariableMatch\": \"^_\"                 }             ]         }     }</p> <p>You can choose specific variable types (<code>var</code>, <code>let</code>, and <code>const</code>) to ignore using <code>excludeVariableTypes</code>.</p> <p>This excludes <code>var</code> and <code>let</code> declarations from needing type annotations, but forces <code>const</code> declarations to have it. By default, all declarations are checked.</p> <p>\u200b       {         \"rules\": {             \"flowtype/require-variable-type\": [                 2,                 {                   \"excludeVariableTypes\": {                     \"var\": true,                     \"let\": true,                     \"const\": false,                   }                 }             ]         }     }</p> <p>The following patterns are considered problems:</p> <p>\u200b       var foo = \"bar\"     // Message: Missing \"foo\" variable type annotation.</p> <pre><code>var foo : string = \"bar\", bar = 1\n// Message: Missing \"bar\" variable type annotation.\n\n// Options: [{\"excludeVariableMatch\":\"^_\"}]\nvar _foo = \"bar\", bar = 1\n// Message: Missing \"bar\" variable type annotation.\n\n// Options: [{\"excludeVariableTypes\":{\"let\":false,\"var\":true}}]\nvar foo = \"bar\", bar = 1; const oob : string = \"oob\"; let hey = \"yah\"\n// Message: Missing \"hey\" variable type annotation.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       var foo : string = \"bar\"</p> <pre><code>var foo : string = \"bar\", bar : number = 1\n\n// Options: [{\"excludeVariableMatch\":\"^_\"}]\nvar _foo = \"bar\", bar : number = 1\n\n// Options: [{\"excludeVariableTypes\":{\"var\":true}}]\nvar foo = \"bar\", bar = 1\n\n// Options: [{\"excludeVariableTypes\":{\"let\":true,\"var\":true}}]\nvar foo = \"bar\", bar = 1; const oob : string = \"oob\"; let hey = \"yah\"\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#semi","title":"<code>semi</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>Enforces consistent use of semicolons after type aliases.</p> <p>This rule takes one argument. If it is <code>'never'</code> then a problem is raised when there is a semicolon after a type alias. If it is <code>'always'</code> then a problem is raised when there is no semicolon after a type alias.</p> <p>The default value is <code>'always'</code>.</p> <p>The following patterns are considered problems:</p> <p>\u200b       // Options: [\"always\"]     class Foo { foo: string }     // Message: Missing semicolon.</p> <pre><code>// Options: [\"never\"]\nclass Foo { foo: string; }\n// Message: Extra semicolon.\n\n// Options: []\ntype FooType = {}\n// Message: Missing semicolon.\n\n// Options: [\"always\"]\ntype FooType = {}\n// Message: Missing semicolon.\n\n// Options: [\"never\"]\ntype FooType = {};\n// Message: Extra semicolon.\n\n// Options: []\nopaque type FooType = {}\n// Message: Missing semicolon.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type FooType = {};</p> <pre><code>// Options: [\"always\"]\ntype FooType = {};\n\n// Options: [\"always\"]\n(foo: string) =&gt; {}\n\n// Options: [\"always\"]\nclass Foo { foo: string; }\n\n// Options: [\"never\"]\nclass Foo { foo: string }\n\n// Options: [\"always\"]\ntype FooType = { a: number;\n b: string;\n };\n\n// Options: [\"never\"]\ntype FooType = { a: number;\n b: string;\n }\n\n// Options: [\"never\"]\ntype FooType = {}\n\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\ntype FooType = {}\n\nopaque type FooType = {};\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#sort-keys","title":"<code>sort-keys</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>Enforces natural, case-insensitive sorting of Object annotations.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_15","title":"Options","text":"<p>The first option specifies sort order.</p> <ul> <li><code>\"asc\"</code> (default) - enforce ascending sort order.</li> <li> <p><code>\"desc\"</code> - enforce descending sort order.</p> <p>{   \"rules\": {     \"flowtype/sort-keys\": [       2,       \"asc\"     ]   } }</p> </li> </ul> <p>The following patterns are considered problems:</p> <p>\u200b       type FooType = { a: number, c: number, b: string }     // Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".</p> <pre><code>// Options: [\"desc\"]\ntype FooType = { a: number, b: number }\n// Message: Expected type annotations to be in descending order. \"b\" must be before \"a\".\n\n// Options: [\"desc\"]\ntype FooType = { b: number, C: number, a: string }\n// Message: Expected type annotations to be in descending order. \"C\" must be before \"b\".\n\n// Options: [\"asc\"]\ntype FooType = { a: number, c: number, C: number, b: string }\n// Message: Expected type annotations to be in ascending order. \"b\" must be before \"C\".\n\n// Options: [\"asc\"]\ntype FooType = { a: number, C: number, c: number, b: string }\n// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n\n// Options: [\"asc\"]\ntype FooType = { 1: number, 10: number, 2: boolean }\n// Message: Expected type annotations to be in ascending order. \"2\" must be before \"10\".\n\ntype FooType = { a: number, c: number, b: string }\n// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               a: number,               c: number,               b: string,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               a: $ReadOnlyArray,               c: $ReadOnlyMap,               b: Map&gt;&gt;,             } <pre><code>// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               ...ErrorsInRecursiveGenericTypeArgsButDoesNotFix&lt;{                 y: boolean,                 x: string,                 z: {                   j: string,                   l: number,                   k: boolean,                 },               }&gt;,               a: number,               c: string,               b: Map&lt;string, Array&lt;ErrorsInRecursiveGenericTypeArgsButDoesNotFix&lt;{                 y: boolean,                 x: string,                 z: {                   j: string,                   l: number,                   k: boolean,                 },               }&gt;&gt;&gt;,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"x\" must be before \"y\".\n// Message: Expected type annotations to be in ascending order. \"k\" must be before \"l\".\n// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n// Message: Expected type annotations to be in ascending order. \"x\" must be before \"y\".\n// Message: Expected type annotations to be in ascending order. \"k\" must be before \"l\".\n</code></pre> <p>\u200b               type FooType = {               ...BPreservesSpreadOrder,               ...APreservesSpreadOrder,               c: string,               b: number,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               ...BPreservesSpreadSpans,               ...APreservesSpreadSpans,               c: string,               b: number,               ...CPreservesSpreadSpans,               e: string,               d: number,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n// Message: Expected type annotations to be in ascending order. \"d\" must be before \"e\".\n</code></pre> <p>\u200b               type FooType = {               ...BPreservesSpreadOrderAndTypeArgs,               ...APreservesSpreadOrderAndTypeArgs,               c: string,               b: number,             } <pre><code>// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               /* preserves block comment before spread BType /               // preserves line comment before spread BType               ... / preserves comment in spread BType / BType / preserves trailing comment in spread AType /,               / preserves block comment before spread AType /               // preserves line comment before spread AType               ... / preserves comment in spread AType / AType / preserves trailing comment in spread AType /,               / preserves block comment before reordered key \"c\" /               // preserves line comment before reordered key \"c\"               c:/ preserves comment and white space or lack of it /string/ preserves trailing comment for key \"c\" */,               b: number,               dWithoutComma: boolean             } <pre><code>// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               +a: number,               c: number,               b: string,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               -a: number,               c: number,               b: string,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               a?: number,               c: ?number,               b: string,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               a: (number) =&gt; void,               c: number,               b: (param: string) =&gt; number,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               a: number | string | boolean,               c: number,               b: (param: string) =&gt; number,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               c: number,               a: number | string | boolean,               b: (param: string) =&gt; number,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"a\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               c: {                 z: number,                 x: string,                 y: boolean,               },               a: number | string | boolean,               b: (param: string) =&gt; number,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"x\" must be before \"z\".\n// Message: Expected type annotations to be in ascending order. \"a\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               c: {                 z: {                   j: string,                   l: number,                   k: boolean,                 },                 x: string,                 y: boolean,               },               a: number | string | boolean,               b: (param: string) =&gt; number,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"k\" must be before \"l\".\n// Message: Expected type annotations to be in ascending order. \"x\" must be before \"z\".\n// Message: Expected type annotations to be in ascending order. \"a\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               +c: number,               -b: number,               a: number,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n// Message: Expected type annotations to be in ascending order. \"a\" must be before \"b\".\n</code></pre> <p>\u200b               type FooType = {|               +c: number,               -b: number,               a: number,             |}</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n// Message: Expected type annotations to be in ascending order. \"a\" must be before \"b\".\n</code></pre> <p>\u200b               type FooType = {               a(number): void,               c: number,               b(param: string): number,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               a: number | string | boolean,               c: number,               b(param: string): number,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               c: number,               a: number | string | boolean,               b(param: string): number,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"a\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               c: {                 z: number,                 x: string,                 y: boolean,               },               a: number | string | boolean,               b(param: string): number,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"x\" must be before \"z\".\n// Message: Expected type annotations to be in ascending order. \"a\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               c: {                 z: {                   j: string,                   l: number,                   k: boolean,                 },                 x: string,                 y: boolean,               },               a: number | string | boolean,               b(param: string): number,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"k\" must be before \"l\".\n// Message: Expected type annotations to be in ascending order. \"x\" must be before \"z\".\n// Message: Expected type annotations to be in ascending order. \"a\" must be before \"c\".\n</code></pre> <p>\u200b               type FooType = {               /* preserves block comment before a /               a: number | string | boolean,               / preserves block comment before c /               c: number,               / preserves block comment before b */               b(param: string): number,             }</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"b\" must be before \"c\".\n</code></pre> <p>\u200b               export type GroupOrdersResponseType = {|               isSuccess: boolean,               code: number,               message?: string,               errorMessage: string,               result: {|                 OrderNumber: string,                 Orders: GroupOrderSummaryType[],                 PlacedOn: string,                 Status: string,                 ReturnText: string,                 IncludesLegacyOrder: boolean               |}             |};</p> <pre><code>// Message: Expected type annotations to be in ascending order. \"code\" must be before \"isSuccess\".\n// Message: Expected type annotations to be in ascending order. \"errorMessage\" must be before \"message\".\n// Message: Expected type annotations to be in ascending order. \"ReturnText\" must be before \"Status\".\n// Message: Expected type annotations to be in ascending order. \"IncludesLegacyOrder\" must be before \"ReturnText\".\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type FooType = { a: number }</p> <pre><code>type FooType = { a: number, b: number, c: (boolean | number) }\n\ntype FooType = { a: string, b: foo, C: number }\n\ntype FooType = { 1: number, 2: boolean, 10: number }\n\n// Options: [\"desc\"]\ntype FooType = { c: number, b: number, a: number }\n\n// Options: [\"desc\"]\ntype FooType = { C: number, b: string, a: {} }\n\n// Options: [\"desc\"]\ntype FooType = { 10: number, 2: number, 1: boolean }\n\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\ntype FooType = { b: number, a: number }\n\ntype FooType = { a: string, b(): number, c: boolean }\n\ntype FooType = { a(): string, b: number, c: boolean }\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#sort-type-union-intersection-members","title":"<code>sort-type-union-intersection-members</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>Enforces that members of a type union/intersection are sorted alphabetically.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_16","title":"Options","text":"<p>You can specify the sort order using <code>order</code>.</p> <ul> <li><code>\"asc\"</code> (default) - enforce ascending sort order.</li> <li> <p><code>\"desc\"</code> - enforce descending sort order.</p> <p>{   \"rules\": {     \"flowtype/sort-type-union-intersection-members\": [       2,       {         \"order\": \"asc\"       }     ]   } }</p> </li> </ul> <p>You can disable checking intersection types using <code>checkIntersections</code>.</p> <ul> <li><code>true</code> (default) - enforce sort order of intersection members.</li> <li> <p><code>false</code> - do not enforce sort order of intersection members.</p> <p>{   \"rules\": {     \"flowtype/sort-type-union-intersection-members\": [       2,       {         \"checkIntersections\": true       }     ]   } }</p> </li> </ul> <p>You can disable checking union types using <code>checkUnions</code>.</p> <ul> <li><code>true</code> (default) - enforce sort order of union members.</li> <li> <p><code>false</code> - do not enforce sort order of union members.</p> <p>{   \"rules\": {     \"flowtype/sort-type-union-intersection-members\": [       2,       {         \"checkUnions\": true       }     ]   } }</p> </li> </ul> <p>You can specify the ordering of groups using <code>groupOrder</code>.</p> <p>Each member of the type is placed into a group, and then the rule sorts alphabetically within each group. The ordering of groups is determined by this option.</p> <ul> <li><code>keyword</code> - Keyword types (<code>any</code>, <code>string</code>, etc)</li> <li><code>named</code> - Named types (<code>A</code>, <code>A['prop']</code>, <code>B[]</code>, <code>Array&lt;C&gt;</code>)</li> <li><code>literal</code> - Literal types (<code>1</code>, <code>'b'</code>, <code>true</code>, etc)</li> <li><code>function</code> - Function types (<code>() =&gt; void</code>)</li> <li><code>object</code> - Object types (<code>{ a: string }</code>, <code>{ [key: string]: number }</code>)</li> <li><code>tuple</code> - Tuple types (<code>[A, B, C]</code>)</li> <li><code>intersection</code> - Intersection types (<code>A &amp; B</code>)</li> <li><code>union</code> - Union types (<code>A | B</code>)</li> <li> <p><code>nullish</code> - <code>null</code> and <code>undefined</code></p> <p>{   \"rules\": {     \"flowtype/sort-type-union-intersection-members\": [       2,       {         \"groupOrder\": [           'keyword',           'named',           'literal',           'function',           'object',           'tuple',           'intersection',           'union',           'nullish',         ]       }     ]   } }</p> </li> </ul> <p>The following patterns are considered problems:</p> <p>\u200b       type T1 = B | A;     // Message: Expected union members to be in ascending order. \"A\" should be before \"B\".</p> <pre><code>type T2 = { b: string } &amp; { a: string };\n// Message: Expected intersection members to be in ascending order. \"{ a: string }\" should be before \"{ b: string }\".\n\ntype T3 = [1, 2, 4] &amp; [1, 2, 3];\n// Message: Expected intersection members to be in ascending order. \"[1, 2, 3]\" should be before \"[1, 2, 4]\".\n</code></pre> <p>\u200b               type T4 =               | [1, 2, 4]               | [1, 2, 3]               | { b: string }               | { a: string }               | (() =&gt; void)               | (() =&gt; string)               | 'b'               | 'a'               | 'b'               | 'a'               | string[]               | number[]               | B               | A               | string               | any;</p> <pre><code>// Message: Expected union members to be in ascending order. \"[1, 2, 3]\" should be before \"[1, 2, 4]\".\n// Message: Expected union members to be in ascending order. \"{ b: string }\" should be before \"[1, 2, 3]\".\n// Message: Expected union members to be in ascending order. \"{ a: string }\" should be before \"{ b: string }\".\n// Message: Expected union members to be in ascending order. \"() =&gt; void\" should be before \"{ a: string }\".\n// Message: Expected union members to be in ascending order. \"() =&gt; string\" should be before \"() =&gt; void\".\n// Message: Expected union members to be in ascending order. \"'b'\" should be before \"() =&gt; string\".\n// Message: Expected union members to be in ascending order. \"'a'\" should be before \"'b'\".\n// Message: Expected union members to be in ascending order. \"'b'\" should be before \"'a'\".\n// Message: Expected union members to be in ascending order. \"'a'\" should be before \"'b'\".\n// Message: Expected union members to be in ascending order. \"string[]\" should be before \"'a'\".\n// Message: Expected union members to be in ascending order. \"number[]\" should be before \"string[]\".\n// Message: Expected union members to be in ascending order. \"B\" should be before \"number[]\".\n// Message: Expected union members to be in ascending order. \"A\" should be before \"B\".\n// Message: Expected union members to be in ascending order. \"string\" should be before \"A\".\n// Message: Expected union members to be in ascending order. \"any\" should be before \"string\".\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type T1 = A | B;</p> <pre><code>type T2 = { a: string } &amp; { b: string };\n\ntype T3 = [1, 2, 3] &amp; [1, 2, 4];\n</code></pre> <p>\u200b               type T4 =               | any               | string               | A               | B               | number[]               | string[]               | 'a'               | 'a'               | 'b'               | 'b'               | (() =&gt; string)               | (() =&gt; void)               | { a: string }               | { b: string }               | [1, 2, 3]               | [1, 2, 4];</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#space-after-type-colon","title":"<code>space-after-type-colon</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>Enforces consistent spacing after the type annotation colon.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_17","title":"Options","text":"<p>This rule has a string argument.</p> <ul> <li><code>\"always\"</code> (default): Require a space after the type annotation colon (e.g. foo: BarType).</li> <li><code>\"never\"</code>: Require no spaces after the type annotation colon (e.g. foo:BarType).</li> </ul> <p>This rule has an option object.</p> <ul> <li><code>\"allowLineBreak\"</code> - Allow a line break to count as a space following the annotation colon. <ul> <li><code>\"true\"</code>: Enable</li> <li><code>\"false\"</code>: Disable</li> </ul> </li> </ul> <p>{ \"rules\": { \"flowtype/space-after-type-colon\": [ 2, \"always\", { \"allowLineBreak\": false } ] } }</p> <p>The following patterns are considered problems:</p> <p>\u200b       // Options: [\"never\"]     (foo: string) =&gt; {}     // Message: There must be no space after \"foo\" parameter type annotation colon.</p> <pre><code>// Options: [\"always\"]\n(foo:  string) =&gt; {}\n// Message: There must be 1 space after \"foo\" parameter type annotation colon.\n\n// Options: [\"always\"]\n(foo:(() =&gt; void)) =&gt; {}\n// Message: There must be a space after \"foo\" parameter type annotation colon.\n\n// Options: [\"never\"]\n(foo: (() =&gt; void)) =&gt; {}\n// Message: There must be no space after \"foo\" parameter type annotation colon.\n\n// Options: [\"always\"]\n(foo:  (() =&gt; void)) =&gt; {}\n// Message: There must be 1 space after \"foo\" parameter type annotation colon.\n\n({ lorem, ipsum, dolor } :   SomeType) =&gt; {}\n// Message: There must be 1 space after \"{ lorem, ipsum, dolor }\" parameter type annotation colon.\n\n(foo:{ a: string, b: number }) =&gt; {}\n// Message: There must be a space after \"foo\" parameter type annotation colon.\n\n({ a, b } :{ a: string, b: number }) =&gt; {}\n// Message: There must be a space after \"{ a, b }\" parameter type annotation colon.\n\n([ a, b ] :string[]) =&gt; {}\n// Message: There must be a space after \"[ a, b ]\" parameter type annotation colon.\n\n(i?:number) =&gt; {}\n// Message: There must be a space after \"i\" parameter type annotation colon.\n\n(i?:  number) =&gt; {}\n// Message: There must be 1 space after \"i\" parameter type annotation colon.\n\n// Options: [\"never\"]\n(i?: number) =&gt; {}\n// Message: There must be no space after \"i\" parameter type annotation colon.\n\n(foo:\n  { a: string, b: number }) =&gt; {}\n// Message: There must not be a line break after \"foo\" parameter type annotation colon.\n\n(foo:\n{ a: string, b: number }) =&gt; {}\n// Message: There must not be a line break after \"foo\" parameter type annotation colon.\n\n(foo: \n{ a: string, b: number }) =&gt; {}\n// Message: There must not be a line break after \"foo\" parameter type annotation colon.\n\n// Options: [\"always\"]\n():Object =&gt; {}\n// Message: There must be a space after return type colon.\n\n// Options: [\"never\"]\n(): Object =&gt; {}\n// Message: There must be no space after return type colon.\n\n// Options: [\"always\"]\n():  Object =&gt; {}\n// Message: There must be 1 space after return type colon.\n\n// Options: [\"always\"]\n():(() =&gt; void) =&gt; {}\n// Message: There must be a space after return type colon.\n\n// Options: [\"never\"]\n(): (() =&gt; void) =&gt; {}\n// Message: There must be no space after return type colon.\n\n// Options: [\"always\"]\n():  (() =&gt; void) =&gt; {}\n// Message: There must be 1 space after return type colon.\n\n// Options: [\"never\"]\nexport default function (foo: string) {}\n// Message: There must be no space after \"foo\" parameter type annotation colon.\n\n// Options: [\"never\"]\nfunction foo (foo: string) {}\n// Message: There must be no space after \"foo\" parameter type annotation colon.\n\n// Options: [\"always\"]\n(foo:string) =&gt; {}\n// Message: There must be a space after \"foo\" parameter type annotation colon.\n\nfunction foo (foo:string) {}\n// Message: There must be a space after \"foo\" parameter type annotation colon.\n\nasync function foo({ lorem, ipsum, dolor }:SomeType) {}\n// Message: There must be a space after \"{ lorem, ipsum, dolor }\" parameter type annotation colon.\n\nfunction x(i?:number) {}\n// Message: There must be a space after \"i\" parameter type annotation colon.\n\nfunction x(i?:  number) {}\n// Message: There must be 1 space after \"i\" parameter type annotation colon.\n\n// Options: [\"never\"]\nfunction x(i?: number) {}\n// Message: There must be no space after \"i\" parameter type annotation colon.\n\nfunction a():x {}\n// Message: There must be a space after return type colon.\n\n// Options: [\"always\"]\nfunction a():  x {}\n// Message: There must be 1 space after return type colon.\n\n// Options: [\"never\"]\nfunction a(): x {}\n// Message: There must be no space after return type colon.\n\ntype X = (foo:number) =&gt; string\n// Message: There must be a space after \"foo\" parameter type annotation colon.\n\n// Options: [\"never\"]\ntype X = (foo: number) =&gt; string\n// Message: There must be no space after \"foo\" parameter type annotation colon.\n\ntype X = (foo:  number) =&gt; string\n// Message: There must be 1 space after \"foo\" parameter type annotation colon.\n\ntype X = (foo:?number) =&gt; string\n// Message: There must be a space after \"foo\" parameter type annotation colon.\n\ntype X = (foo:(number)) =&gt; string\n// Message: There must be a space after \"foo\" parameter type annotation colon.\n\ntype X = (foo:((number))) =&gt; string\n// Message: There must be a space after \"foo\" parameter type annotation colon.\n\ntype X = (foo:  ((number))) =&gt; string\n// Message: There must be 1 space after \"foo\" parameter type annotation colon.\n\n// Options: [\"never\"]\ntype X = (foo: ((number))) =&gt; string\n// Message: There must be no space after \"foo\" parameter type annotation colon.\n\ntype X = (foo:?(number)) =&gt; string\n// Message: There must be a space after \"foo\" parameter type annotation colon.\n\ntype TArrayPredicate = (el: T, i?:number) =&gt; boolean\n// Message: There must be a space after \"i\" parameter type annotation colon.\n\ntype TArrayPredicate = (el: T, i?:  number) =&gt; boolean\n// Message: There must be 1 space after \"i\" parameter type annotation colon.\n\n// Options: [\"never\"]\ntype TArrayPredicate = (el:T, i?: number) =&gt; boolean\n// Message: There must be no space after \"i\" parameter type annotation colon.\n\nclass X { foo:string }\n// Message: There must be a space after \"foo\" class property type annotation colon.\n\n// Options: [\"never\"]\nclass X { foo: string }\n// Message: There must be no space after \"foo\" class property type annotation colon.\n\nclass X { foo:?string }\n// Message: There must be a space after \"foo\" class property type annotation colon.\n\n// Options: [\"never\"]\nclass X { foo: ?string }\n// Message: There must be no space after \"foo\" class property type annotation colon.\n\nclass X { static foo:number }\n// Message: There must be a space after \"foo\" class property type annotation colon.\n\n// Options: [\"never\"]\nclass X { static foo: number }\n// Message: There must be no space after \"foo\" class property type annotation colon.\n\nclass X { static foo :number }\n// Message: There must be a space after \"foo\" class property type annotation colon.\n\n// Options: [\"never\"]\nclass X { static foo : number }\n// Message: There must be no space after \"foo\" class property type annotation colon.\n\ndeclare class X { static foo:number }\n// Message: There must be a space after \"foo\" type annotation colon.\n\n// Options: [\"never\"]\ndeclare class X { static foo: number }\n// Message: There must be no space after \"foo\" type annotation colon.\n\ndeclare class X { static foo :number }\n// Message: There must be a space after \"foo\" type annotation colon.\n\n// Options: [\"never\"]\ndeclare class X { static foo : number }\n// Message: There must be no space after \"foo\" type annotation colon.\n\nclass X { +foo:string }\n// Message: There must be a space after \"foo\" class property type annotation colon.\n\nclass X { +foo:  string }\n// Message: There must be 1 space after \"foo\" class property type annotation colon.\n\n// Options: [\"never\"]\nclass X { +foo: string }\n// Message: There must be no space after \"foo\" class property type annotation colon.\n\nclass X { static +foo:string }\n// Message: There must be a space after \"foo\" class property type annotation colon.\n\nclass X { static +foo:  string }\n// Message: There must be 1 space after \"foo\" class property type annotation colon.\n\n// Options: [\"never\"]\nclass X { static +foo: string }\n// Message: There must be no space after \"foo\" class property type annotation colon.\n\ntype X = { foo:string }\n// Message: There must be a space after \"foo\" type annotation colon.\n\n// Options: [\"always\"]\ntype X = { foo:string }\n// Message: There must be a space after \"foo\" type annotation colon.\n\n// Options: [\"never\"]\ntype X = { foo: string }\n// Message: There must be no space after \"foo\" type annotation colon.\n\ntype X = { foo:  string }\n// Message: There must be 1 space after \"foo\" type annotation colon.\n\ntype X = { foo?:string }\n// Message: There must be a space after \"foo\" type annotation colon.\n\n// Options: [\"never\"]\ntype X = { foo?: string }\n// Message: There must be no space after \"foo\" type annotation colon.\n\ntype X = { foo?:?string }\n// Message: There must be a space after \"foo\" type annotation colon.\n\ntype X = { foo?:  ?string }\n// Message: There must be 1 space after \"foo\" type annotation colon.\n\ntype Foo = { barType:(string | () =&gt; void) }\n// Message: There must be a space after \"barType\" type annotation colon.\n\ntype Foo = { barType:(((string | () =&gt; void))) }\n// Message: There must be a space after \"barType\" type annotation colon.\n\n// Options: [\"never\"]\ntype Foo = { barType: (string | () =&gt; void) }\n// Message: There must be no space after \"barType\" type annotation colon.\n\ntype Foo = { barType:  (string | () =&gt; void) }\n// Message: There must be 1 space after \"barType\" type annotation colon.\n\ntype Foo = { barType:  ((string | () =&gt; void)) }\n// Message: There must be 1 space after \"barType\" type annotation colon.\n\ntype X = { get:() =&gt; A; }\n// Message: There must be a space after \"get\" type annotation colon.\n\ntype X = { get:&lt;X&gt;() =&gt; A; }\n// Message: There must be a space after \"get\" type annotation colon.\n\n// Options: [\"never\"]\ntype X = { get: () =&gt; A; }\n// Message: There must be no space after \"get\" type annotation colon.\n\n// Options: [\"never\"]\ntype X = { get: &lt;X&gt;() =&gt; A; }\n// Message: There must be no space after \"get\" type annotation colon.\n\ntype X = { get:  () =&gt; A; }\n// Message: There must be 1 space after \"get\" type annotation colon.\n\ntype X = { get:  &lt;X&gt;() =&gt; A; }\n// Message: There must be 1 space after \"get\" type annotation colon.\n\ntype X = { +foo:string }\n// Message: There must be a space after \"foo\" type annotation colon.\n\ntype X = { +foo:  string }\n// Message: There must be 1 space after \"foo\" type annotation colon.\n\n// Options: [\"never\"]\ntype X = { +foo: string }\n// Message: There must be no space after \"foo\" type annotation colon.\n\ntype X = { +foo?:string }\n// Message: There must be a space after \"foo\" type annotation colon.\n\ntype X = { +foo?:  string }\n// Message: There must be 1 space after \"foo\" type annotation colon.\n\n// Options: [\"never\"]\ntype X = { +foo?: string }\n// Message: There must be no space after \"foo\" type annotation colon.\n\n// Options: [\"always\"]\ntype X = { [a:b]: c }\n// Message: There must be a space after type annotation colon.\n\n// Options: [\"never\"]\ntype X = { [a: b]:c }\n// Message: There must be no space after type annotation colon.\n\n// Options: [\"always\"]\ntype X = { [a:    b]: c }\n// Message: There must be 1 space after type annotation colon.\n\n// Options: [\"always\"]\ntype X = { +[a:b]: c }\n// Message: There must be a space after type annotation colon.\n\n// Options: [\"never\"]\ntype X = { +[a: b]:c }\n// Message: There must be no space after type annotation colon.\n\n// Options: [\"always\"]\ntype X = { +[a:    b]: c }\n// Message: There must be 1 space after type annotation colon.\n\n// Options: [\"always\"]\ntype X = { [a: b]:c }\n// Message: There must be a space after type annotation colon.\n\n// Options: [\"never\"]\ntype X = { [a:b]: c }\n// Message: There must be no space after type annotation colon.\n\n// Options: [\"always\"]\ntype X = { [a: b]:    c }\n// Message: There must be 1 space after type annotation colon.\n\n// Options: [\"always\"]\ntype X = { [a:b]:c }\n// Message: There must be a space after type annotation colon.\n// Message: There must be a space after type annotation colon.\n\n// Options: [\"never\"]\ntype X = { [a: b]: c }\n// Message: There must be no space after type annotation colon.\n// Message: There must be no space after type annotation colon.\n\n// Options: [\"always\"]\ntype X = { [a:  b]:  c }\n// Message: There must be 1 space after type annotation colon.\n// Message: There must be 1 space after type annotation colon.\n\n// Options: [\"always\"]\ntype X = { [a:(b)]:(c) }\n// Message: There must be a space after type annotation colon.\n// Message: There must be a space after type annotation colon.\n\n// Options: [\"never\"]\ntype X = { [a: (b)]: (c) }\n// Message: There must be no space after type annotation colon.\n// Message: There must be no space after type annotation colon.\n\n// Options: [\"never\"]\nconst x = ({}: {})\n// Message: There must be no space after type cast colon.\n\n// Options: [\"always\"]\nconst x = ({}:{})\n// Message: There must be a space after type cast colon.\n\n// Options: [\"always\"]\nconst x = ({}:  {})\n// Message: There must be 1 space after type cast colon.\n\n// Options: [\"never\"]\n((x): (string))\n// Message: There must be no space after type cast colon.\n\n// Options: [\"always\"]\n((x):(string))\n// Message: There must be a space after type cast colon.\n\n// Options: [\"always\"]\n((x):  (string))\n// Message: There must be 1 space after type cast colon.\n\n// Options: [\"always\"]\nconst x:number = 7;\n// Message: There must be a space after const type annotation colon.\n\n// Options: [\"always\"]\nlet x:number = 42;\n// Message: There must be a space after let type annotation colon.\n\n// Options: [\"always\"]\nvar x:number = 42;\n// Message: There must be a space after var type annotation colon.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       (foo) =&gt; {}</p> <pre><code>(foo: string) =&gt; {}\n\n(foo: (string|number)) =&gt; {}\n\n// Options: [\"never\"]\n(foo:string) =&gt; {}\n\n// Options: [\"always\"]\n(foo: string) =&gt; {}\n\n// Options: [\"never\"]\n(foo:(() =&gt; void)) =&gt; {}\n\n// Options: [\"always\"]\n(foo: (() =&gt; void)) =&gt; {}\n\n({ lorem, ipsum, dolor }: SomeType) =&gt; {}\n\n(foo: { a: string, b: number }) =&gt; {}\n\n({ a, b }: ?{ a: string, b: number }) =&gt; {}\n\n([ a, b ]: string[]) =&gt; {}\n\n(i?: number) =&gt; {}\n\n// Options: [\"never\"]\n(i?:number) =&gt; {}\n\n// Options: [\"always\",{\"allowLineBreak\":true}]\n(foo:\n  { a: string, b: number }) =&gt; {}\n\n// Options: [\"always\",{\"allowLineBreak\":true}]\n(foo:\n  { a: string, b: number }) =&gt; {}\n\n// Options: [\"never\"]\n():Object =&gt; {}\n\n// Options: [\"always\"]\n(): Object =&gt; {}\n\n// Options: [\"never\"]\n():(number | string) =&gt; {}\n\n// Options: [\"always\"]\n(): (number | string) =&gt; {}\n\n// Options: [\"never\"]\n():number|string =&gt; {}\n\n// Options: [\"always\"]\n(): number|string =&gt; {}\n\n// Options: [\"never\"]\n():(() =&gt; void) =&gt; {}\n\n// Options: [\"always\"]\n(): (() =&gt; void) =&gt; {}\n\n// Options: [\"never\"]\n():( () =&gt; void ) =&gt; {}\n\n// Options: [\"always\"]\n(): ( () =&gt; void ) =&gt; {}\n\n(): { a: number, b: string } =&gt; {}\n\n// Options: [\"never\"]\n() :{ a:number, b:string } =&gt; {}\n\nfunction x(foo: string) {}\n\nclass Foo { constructor(foo: string) {} }\n\n// Options: [\"never\"]\nfunction x(foo:string) {}\n\n// Options: [\"never\"]\nclass Foo { constructor(foo:string) {} }\n\nasync function foo({ lorem, ipsum, dolor }: SomeType) {}\n\nfunction x({ a, b }: { a: string, b: number }) {}\n\nfunction x(i?: number) {}\n\n// Options: [\"never\"]\nfunction x(i?:number) {}\n\nfunction a(): x {}\n\n// Options: [\"never\"]\nfunction a():x {}\n\nfunction a(): (number | string) {}\n\n// Options: [\"never\"]\nfunction a() :(number | string) {}\n\ntype X = (foo: number) =&gt; string;\n\ntype X = (foo : number) =&gt; string;\n\ntype X = (foo: ?number) =&gt; string;\n\ntype X = (foo? : ?number) =&gt; string;\n\ntype X = (foo: ?{ x: number }) =&gt; string;\n\n// Options: [\"never\"]\ntype X = (foo:number) =&gt; string;\n\n// Options: [\"never\"]\ntype X = (foo:?{ x:number }) =&gt; string;\n\ntype X = (foo: (number)) =&gt; string\n\ntype X = (foo: ((number))) =&gt; string\n\n// Options: [\"never\"]\ntype X = (foo:((number))) =&gt; string\n\ntype X = ?(foo: ((number))) =&gt; string\n\n// Options: [\"never\"]\ntype X = ?(foo:((number))) =&gt; string\n\ntype TArrayPredicate = (el: T, i?: number) =&gt; boolean\n\n// Options: [\"never\"]\ntype TArrayPredicate = (el:T, i?:number) =&gt; boolean\n\ntype X = (number) =&gt; string;\n\ntype X = (?number) =&gt; string;\n\ntype X = number =&gt; string;\n\ntype X = ?number =&gt; string;\n\ntype X = ({ foo: bar }) =&gt; string;\n\n// Options: [\"always\"]\ntype X = (number) =&gt; string;\n\n// Options: [\"always\"]\ntype X = (?number) =&gt; string;\n\n// Options: [\"always\"]\ntype X = number =&gt; string;\n\n// Options: [\"always\"]\ntype X = ?number =&gt; string;\n\n// Options: [\"always\"]\ntype X = ({ foo: bar }) =&gt; string;\n\nclass Foo { bar }\n\nclass Foo { bar = 3 }\n\nclass Foo { bar: string }\n\nclass Foo { bar: ?string }\n\n// Options: [\"never\"]\nclass Foo { bar:string }\n\n// Options: [\"never\"]\nclass Foo { bar:?string }\n\nclass X { static foo : number }\n\n// Options: [\"never\"]\nclass X { static foo :number }\n\ndeclare class X { static foo : number }\n\n// Options: [\"never\"]\ndeclare class X { static foo :number }\n\nclass X { +foo: string }\n\nclass X { static +foo: string }\n\n// Options: [\"never\"]\nclass X { +foo:string }\n\n// Options: [\"never\"]\nclass X { static +foo:string }\n\ntype X = { foo: string }\n\n// Options: [\"never\"]\ntype X = { foo:string }\n\ntype X = { foo?: string }\n\ntype X = { foo?: ?string }\n\n// Options: [\"never\"]\ntype X = { foo?:?string }\n\ntype Foo = { barType: (string | () =&gt; void) }\n\ntype Foo = { barType: ((string | () =&gt; void)) }\n\n// Options: [\"never\"]\ntype Foo = { barType:(string | () =&gt; void) }\n\n// Options: [\"never\"]\ntype Foo = { barType:((string | () =&gt; void)) }\n\ntype X = { get(): A; }\n\ntype X = { get&lt;X&gt;(): A; }\n\n// Options: [\"never\"]\ntype X = { get(): A; }\n\n// Options: [\"never\"]\ntype X = { get&lt;X&gt;(): A; }\n\ntype X = { get: () =&gt; A; }\n\ntype X = { get: &lt;X&gt;() =&gt; A; }\n\n// Options: [\"never\"]\ntype X = { get:() =&gt; A; }\n\n// Options: [\"never\"]\ntype X = { get:&lt;X&gt;() =&gt; A; }\n\ntype X = { +foo: string }\n\ntype X = { +foo?: string }\n\n// Options: [\"never\"]\ntype X = { +foo:string }\n\n// Options: [\"never\"]\ntype X = { +foo?:string }\n\n// Options: [\"always\"]\ntype X = { [a: b]: c }\n\n// Options: [\"never\"]\ntype X = { [a:b]:c }\n\n// Options: [\"always\"]\ntype X = { +[a: b]: c }\n\n// Options: [\"never\"]\ntype X = { +[a:b]:c }\n\n// Options: [\"always\"]\ntype X = { [string]: c }\n\n// Options: [\"never\"]\ntype X = { [string]:c }\n\n// Options: [\"never\"]\nconst x = ({}:{})\n\n// Options: [\"always\"]\nconst x = ({}: {})\n\n// Options: [\"never\"]\n((x):(string))\n\n// Options: [\"always\"]\n((x): (string))\n\n// Options: [\"always\"]\nconst x: number = 7;\n\n// Options: [\"always\"]\nlet x: number = 42;\n\n// Options: [\"always\"]\nvar x: number = 42;\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#space-before-generic-bracket","title":"<code>space-before-generic-bracket</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>Enforces consistent spacing before the opening <code>&lt;</code> of generic type annotation parameters.</p> <p>This rule takes one argument. If it is <code>'never'</code> then a problem is raised when there is a space before the <code>&lt;</code>. If it is <code>'always'</code> then a problem is raised when there is no space before the <code>&lt;</code>.</p> <p>The default value is <code>'never'</code>.</p> <p>The following patterns are considered problems:</p> <p>\u200b       type X = Promise      // Message: There must be no space before \"Promise\" generic type annotation bracket <pre><code>// Options: [\"never\"]\ntype X = Promise &lt;string&gt;\n// Message: There must be no space before \"Promise\" generic type annotation bracket\n\ntype X = Promise  &lt;string&gt;\n// Message: There must be no space before \"Promise\" generic type annotation bracket\n\n// Options: [\"always\"]\ntype X = Promise&lt;string&gt;\n// Message: There must be a space before \"Promise\" generic type annotation bracket\n\n// Options: [\"always\"]\ntype X = Promise  &lt;string&gt;\n// Message: There must be one space before \"Promise\" generic type annotation bracket\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type X = Promise <pre><code>// Options: [\"always\"]\ntype X = Promise &lt;string&gt;\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#space-before-type-colon","title":"<code>space-before-type-colon</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>Enforces consistent spacing before the type annotation colon.</p> <p>This rule takes one argument. If it is <code>'always'</code> then a problem is raised when there is no space before the type annotation colon. If it is <code>'never'</code> then a problem is raised when there is a space before the type annotation colon. The default value is <code>'never'</code>.</p> <p>The following patterns are considered problems:</p> <p>\u200b       // Options: [\"never\"]     (foo : string) =&gt; {}     // Message: There must be no space before \"foo\" parameter type annotation colon.</p> <pre><code>// Options: [\"never\"]\n(foo ? : string) =&gt; {}\n// Message: There must be no space before \"foo\" parameter type annotation colon.\n\n// Options: [\"always\"]\n(foo: string) =&gt; {}\n// Message: There must be a space before \"foo\" parameter type annotation colon.\n\n// Options: [\"always\"]\n(foo  : string) =&gt; {}\n// Message: There must be 1 space before \"foo\" parameter type annotation colon.\n\n// Options: [\"always\"]\n(foo?: string) =&gt; {}\n// Message: There must be a space before \"foo\" parameter type annotation colon.\n\n// Options: [\"always\"]\n(foo ?  : string) =&gt; {}\n// Message: There must be 1 space before \"foo\" parameter type annotation colon.\n\n// Options: [\"always\"]\n(foo  ?: string) =&gt; {}\n// Message: There must be a space before \"foo\" parameter type annotation colon.\n\n({ lorem, ipsum, dolor } : SomeType) =&gt; {}\n// Message: There must be no space before \"{ lorem, ipsum, dolor }\" parameter type annotation colon.\n\n(foo : { a: string, b: number }) =&gt; {}\n// Message: There must be no space before \"foo\" parameter type annotation colon.\n\n({ a, b } : { a: string, b: number }) =&gt; {}\n// Message: There must be no space before \"{ a, b }\" parameter type annotation colon.\n\n([ a, b ] : string[]) =&gt; {}\n// Message: There must be no space before \"[ a, b ]\" parameter type annotation colon.\n\n() : x =&gt; {}\n// Message: There must be no space before return type colon.\n\n// Options: [\"always\"]\n(): x =&gt; {}\n// Message: There must be a space before return type colon.\n\n// Options: [\"always\"]\n()  : x =&gt; {}\n// Message: There must be 1 space before return type colon.\n\nfunction x(foo : string) {}\n// Message: There must be no space before \"foo\" parameter type annotation colon.\n\n// Options: [\"always\"]\nfunction x(foo: string) {}\n// Message: There must be a space before \"foo\" parameter type annotation colon.\n\nvar x = function (foo : string) {}\n// Message: There must be no space before \"foo\" parameter type annotation colon.\n\n// Options: [\"always\"]\nvar x = function (foo: string) {}\n// Message: There must be a space before \"foo\" parameter type annotation colon.\n\nclass Foo { constructor(foo : string ) {} }\n// Message: There must be no space before \"foo\" parameter type annotation colon.\n\n// Options: [\"always\"]\nclass Foo { constructor(foo: string ) {} }\n// Message: There must be a space before \"foo\" parameter type annotation colon.\n\nasync function foo({ lorem, ipsum, dolor } : SomeType) {}\n// Message: There must be no space before \"{ lorem, ipsum, dolor }\" parameter type annotation colon.\n\nfunction a() : x {}\n// Message: There must be no space before return type colon.\n\n// Options: [\"always\"]\nfunction a(): x {}\n// Message: There must be a space before return type colon.\n\n// Options: [\"always\"]\nfunction a()  : x {}\n// Message: There must be 1 space before return type colon.\n\ntype X = (foo :string) =&gt; string;\n// Message: There must be no space before \"foo\" parameter type annotation colon.\n\n// Options: [\"always\"]\ntype X = (foo:string) =&gt; string;\n// Message: There must be a space before \"foo\" parameter type annotation colon.\n\n// Options: [\"always\"]\ntype X = (foo  :string) =&gt; string;\n// Message: There must be 1 space before \"foo\" parameter type annotation colon.\n\ntype X = (foo? :string) =&gt; string;\n// Message: There must be no space before \"foo\" parameter type annotation colon.\n\ntype X = (foo?     :string) =&gt; string;\n// Message: There must be no space before \"foo\" parameter type annotation colon.\n\n// Options: [\"always\"]\ntype X = (foo?:string) =&gt; string;\n// Message: There must be a space before \"foo\" parameter type annotation colon.\n\ntype X = (foo? :?string) =&gt; string;\n// Message: There must be no space before \"foo\" parameter type annotation colon.\n\nclass X { foo :string }\n// Message: There must be no space before \"foo\" class property type annotation colon.\n\n// Options: [\"always\"]\nclass X { foo: string }\n// Message: There must be a space before \"foo\" class property type annotation colon.\n\nclass X { foo :?string }\n// Message: There must be no space before \"foo\" class property type annotation colon.\n\n// Options: [\"always\"]\nclass X { foo: ?string }\n// Message: There must be a space before \"foo\" class property type annotation colon.\n\nclass X { static foo : number }\n// Message: There must be no space before \"foo\" class property type annotation colon.\n\nclass X { static foo :number }\n// Message: There must be no space before \"foo\" class property type annotation colon.\n\n// Options: [\"always\"]\nclass X { static foo: number }\n// Message: There must be a space before \"foo\" class property type annotation colon.\n\n// Options: [\"always\"]\nclass X { static foo:number }\n// Message: There must be a space before \"foo\" class property type annotation colon.\n\ndeclare class Foo { static bar :number; }\n// Message: There must be no space before \"bar\" type annotation colon.\n\ndeclare class Foo { static bar : number; }\n// Message: There must be no space before \"bar\" type annotation colon.\n\n// Options: [\"always\"]\ndeclare class Foo { static bar:number; }\n// Message: There must be a space before \"bar\" type annotation colon.\n\n// Options: [\"always\"]\ndeclare class Foo { static bar: number; }\n// Message: There must be a space before \"bar\" type annotation colon.\n\n// Options: [\"always\"]\nclass X { +foo: string }\n// Message: There must be a space before \"foo\" class property type annotation colon.\n\n// Options: [\"always\"]\nclass X { +foo  : string }\n// Message: There must be 1 space before \"foo\" class property type annotation colon.\n\n// Options: [\"never\"]\nclass X { +foo : string }\n// Message: There must be no space before \"foo\" class property type annotation colon.\n\n// Options: [\"always\"]\nclass X { static +foo: string }\n// Message: There must be a space before \"foo\" class property type annotation colon.\n\n// Options: [\"always\"]\nclass X { static +foo  : string }\n// Message: There must be 1 space before \"foo\" class property type annotation colon.\n\n// Options: [\"never\"]\nclass X { static +foo : string }\n// Message: There must be no space before \"foo\" class property type annotation colon.\n\ntype X = { foo : string }\n// Message: There must be no space before \"foo\" type annotation colon.\n\n// Options: [\"never\"]\ntype X = { foo : string }\n// Message: There must be no space before \"foo\" type annotation colon.\n\n// Options: [\"always\"]\ntype X = { foo: string }\n// Message: There must be a space before \"foo\" type annotation colon.\n\n// Options: [\"always\"]\ntype X = { foo  : string }\n// Message: There must be 1 space before \"foo\" type annotation colon.\n\ntype X = { foo? : string }\n// Message: There must be no space before \"foo\" type annotation colon.\n\n// Options: [\"always\"]\ntype X = { foo?: string }\n// Message: There must be a space before \"foo\" type annotation colon.\n\n// Options: [\"always\"]\ntype X = { foo?  : string }\n// Message: There must be 1 space before \"foo\" type annotation colon.\n\n// Options: [\"always\"]\ntype X = { foo   ?: string }\n// Message: There must be a space before \"foo\" type annotation colon.\n\n// Options: [\"always\"]\ntype X = { +foo: string }\n// Message: There must be a space before \"foo\" type annotation colon.\n\n// Options: [\"always\"]\ntype X = { +foo  : string }\n// Message: There must be 1 space before \"foo\" type annotation colon.\n\n// Options: [\"never\"]\ntype X = { +foo : string }\n// Message: There must be no space before \"foo\" type annotation colon.\n\n// Options: [\"always\"]\ntype X = { +foo?: string }\n// Message: There must be a space before \"foo\" type annotation colon.\n\n// Options: [\"always\"]\ntype X = { +foo?  : string }\n// Message: There must be 1 space before \"foo\" type annotation colon.\n\n// Options: [\"never\"]\ntype X = { +foo? : string }\n// Message: There must be no space before \"foo\" type annotation colon.\n\n// Options: [\"always\"]\ntype X = { [a: b] : c }\n// Message: There must be a space before type annotation colon.\n\n// Options: [\"never\"]\ntype X = { [a : b]: c }\n// Message: There must be no space before type annotation colon.\n\n// Options: [\"always\"]\ntype X = { [a  : b] : c }\n// Message: There must be 1 space before type annotation colon.\n\n// Options: [\"always\"]\ntype X = { +[a:b] : c }\n// Message: There must be a space before type annotation colon.\n\n// Options: [\"never\"]\ntype X = { +[a : b]: c }\n// Message: There must be no space before type annotation colon.\n\n// Options: [\"always\"]\ntype X = { +[a  : b] : c }\n// Message: There must be 1 space before type annotation colon.\n\n// Options: [\"always\"]\ntype X = { [a : b]: c }\n// Message: There must be a space before type annotation colon.\n\n// Options: [\"never\"]\ntype X = { [a: b] : c }\n// Message: There must be no space before type annotation colon.\n\n// Options: [\"always\"]\ntype X = { [a : b]  : c }\n// Message: There must be 1 space before type annotation colon.\n\n// Options: [\"always\"]\ntype X = { [a:b]:c }\n// Message: There must be a space before type annotation colon.\n// Message: There must be a space before type annotation colon.\n\n// Options: [\"never\"]\ntype X = { [a : b] : c }\n// Message: There must be no space before type annotation colon.\n// Message: There must be no space before type annotation colon.\n\n// Options: [\"always\"]\ntype X = { [a  : b]  : c }\n// Message: There must be 1 space before type annotation colon.\n// Message: There must be 1 space before type annotation colon.\n\n// Options: [\"always\"]\ntype X = { [a:(b)]:(c) }\n// Message: There must be a space before type annotation colon.\n// Message: There must be a space before type annotation colon.\n\n// Options: [\"never\"]\ntype X = { [a : (b)] : (c) }\n// Message: There must be no space before type annotation colon.\n// Message: There must be no space before type annotation colon.\n\n// Options: [\"never\"]\nconst x = ({} :{})\n// Message: There must be no space before type cast colon.\n\n// Options: [\"always\"]\nconst x = ({}:{})\n// Message: There must be a space before type cast colon.\n\n// Options: [\"always\"]\nconst x = ({}  :{})\n// Message: There must be 1 space before type cast colon.\n\n// Options: [\"never\"]\n((x) : string)\n// Message: There must be no space before type cast colon.\n\n// Options: [\"always\"]\n((x): string)\n// Message: There must be a space before type cast colon.\n\n// Options: [\"always\"]\n((x)  : string)\n// Message: There must be 1 space before type cast colon.\n\n// Options: [\"always\"]\nconst x:number = 7;\n// Message: There must be a space before const type annotation colon.\n\n// Options: [\"always\"]\nlet x:number = 42;\n// Message: There must be a space before let type annotation colon.\n\n// Options: [\"always\"]\nvar x:number = 42;\n// Message: There must be a space before var type annotation colon.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       (foo) =&gt; {}</p> <pre><code>(foo: string) =&gt; {}\n\n(foo?: string) =&gt; {}\n\n(foo ?: string) =&gt; {}\n\n// Options: [\"never\"]\n(foo: string) =&gt; {}\n\n// Options: [\"always\"]\n(foo : string) =&gt; {}\n\n// Options: [\"always\"]\n(foo? : string) =&gt; {}\n\n// Options: [\"always\"]\n(foo ? : string) =&gt; {}\n\n// Options: [\"always\"]\n(foo  ? : string) =&gt; {}\n\n({ lorem, ipsum, dolor }: SomeType) =&gt; {}\n\n(foo: { a: string, b: number }) =&gt; {}\n\n({ a, b }: ?{ a: string, b: number }) =&gt; {}\n\n(): { a: number, b: string } =&gt; {}\n\n// Options: [\"always\"]\n() : { a : number, b : string } =&gt; {}\n\n([ a, b ]: string[]) =&gt; {}\n\n(): x =&gt; {}\n\n// Options: [\"always\"]\n() : x =&gt; {}\n\n(): (number | string) =&gt; {}\n\n// Options: [\"always\"]\n() : (number | string) =&gt; {}\n\nfunction x(foo: string) {}\n\n// Options: [\"always\"]\nfunction x(foo : string) {}\n\nvar x = function (foo: string) {}\n\n// Options: [\"always\"]\nvar x = function (foo : string) {}\n\nclass X { foo({ bar }: Props = this.props) {} }\n\nclass Foo { constructor(foo: string ) {} }\n\n// Options: [\"always\"]\nclass Foo { constructor(foo : string ) {} }\n\nasync function foo({ lorem, ipsum, dolor }: SomeType) {}\n\nfunction x({ a, b }: { a: string, b: number }) {}\n\nfunction a(): x {}\n\n// Options: [\"always\"]\nfunction a() : x {}\n\nfunction a(): (number | string) {}\n\n// Options: [\"always\"]\nfunction a() : (number | string) {}\n\ntype X = (foo:string) =&gt; number;\n\ntype X = (foo: string) =&gt; number;\n\ntype X = (foo: ?string) =&gt; number;\n\ntype X = (foo?: string) =&gt; number;\n\ntype X = (foo?: ?string) =&gt; number;\n\ntype X = (foo   ?: string) =&gt; number;\n\n// Options: [\"always\"]\ntype X = (foo? : string) =&gt; number\n\n// Options: [\"always\"]\ntype X = (foo? : ?string) =&gt; number\n\ntype X = (number) =&gt; string;\n\ntype X = (?number) =&gt; string;\n\ntype X = number =&gt; string;\n\ntype X = ?number =&gt; string;\n\ntype X = ({ foo: bar }) =&gt; string;\n\n// Options: [\"always\"]\ntype X = (number) =&gt; string;\n\n// Options: [\"always\"]\ntype X = (?number) =&gt; string;\n\n// Options: [\"always\"]\ntype X = number =&gt; string;\n\n// Options: [\"always\"]\ntype X = ?number =&gt; string;\n\n// Options: [\"always\"]\ntype X = ({ foo : bar }) =&gt; string;\n\nclass Foo { bar }\n\nclass Foo { bar = 3 }\n\nclass Foo { bar: string }\n\nclass Foo { bar: ?string }\n\nclass Foo { bar:?string }\n\n// Options: [\"always\"]\nclass Foo { bar : string }\n\nclass X { static foo:number }\n\nclass X { static foo: number }\n\n// Options: [\"always\"]\nclass X { static foo :number }\n\n// Options: [\"always\"]\nclass X { static foo : number }\n\ndeclare class Foo { static bar:number; }\n\n// Options: [\"always\"]\ndeclare class Foo { static bar :number; }\n\ndeclare class Foo { static bar: number; }\n\n// Options: [\"always\"]\ndeclare class Foo { static bar : number; }\n\nclass X { +foo: string }\n\nclass X { static +foo: string }\n\n// Options: [\"always\"]\nclass X { +foo : string }\n\n// Options: [\"always\"]\nclass X { static +foo : string }\n\ntype X = { foo: string }\n\n// Options: [\"always\"]\ntype X = { foo : string }\n\ntype X = { foo?: string }\n\ntype X = { foo   ?: string }\n\n// Options: [\"always\"]\ntype X = { foo? : string }\n\ntype X = { +foo: string }\n\ntype X = { +foo?: string }\n\n// Options: [\"always\"]\ntype X = { +foo : string }\n\n// Options: [\"always\"]\ntype X = { +foo? : string }\n\n// Options: [\"always\"]\ntype X = { [a : b] : c }\n\n// Options: [\"never\"]\ntype X = { [a:b]:c }\n\n// Options: [\"always\"]\ntype X = { [string] : c }\n\n// Options: [\"never\"]\ntype X = { [string]:c }\n\n// Options: [\"always\"]\ntype X = { +[a : b] : c }\n\n// Options: [\"never\"]\ntype X = { +[a:b]:c }\n\n// Options: [\"always\"]\ntype X = { [a : (b)] : (c) }\n\n// Options: [\"never\"]\ntype X = { [a:(b)]:(c) }\n\n// Options: [\"never\"]\nconst x = ({}:{})\n\n// Options: [\"always\"]\nconst x = ({} :{})\n\n// Options: [\"never\"]\n((x): string)\n\n// Options: [\"always\"]\n((x) : string)\n\n// Options: [\"always\"]\nconst x :number = 7;\n\n// Options: [\"always\"]\nlet x :number = 42;\n\n// Options: [\"always\"]\nvar x :number = 42;\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#spread-exact-type","title":"<code>spread-exact-type</code>","text":"<p>Enforce object types, that are spread to be exact type explicitly.</p> <p>The following patterns are considered problems:</p> <p>\u200b       type bar = {...{test: string}}     // Message: Use $Exact to make type spreading safe.</p> <pre><code>type foo = {test: number}; type bar = {...foo}\n// Message: Use $Exact to make type spreading safe.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type bar = {...$Exact&lt;{test: string}&gt;}</p> <pre><code>type foo = {test: number}; type bar = {...$Exact&lt;foo&gt;}\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#type-id-match","title":"<code>type-id-match</code>","text":"<p>Enforces a consistent naming pattern for type aliases.</p>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_18","title":"Options","text":"<p>This rule requires a text RegExp:</p> <p>\u200b       {         \"rules\": {             \"flowtype/type-id-match\": [                 2,                 \"^([A-Z][a-z0-9]*)+Type$\"             ]         }     }</p> <p><code>'^([A-Z][a-z0-9]*)+Type$$'</code> is the default pattern.</p> <p>The following patterns are considered problems:</p> <p>\u200b       opaque type foo = {};     // Message: Type identifier 'foo' does not match pattern '/^([A-Z][a-z0-9]*)+Type$/u'.</p> <pre><code>type foo = {};\n// Message: Type identifier 'foo' does not match pattern '/^([A-Z][a-z0-9]*)+Type$/u'.\n\n// Options: [\"^foo$\"]\ntype FooType = {};\n// Message: Type identifier 'FooType' does not match pattern '/^foo$/u'.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type FooType = {};</p> <pre><code>// Options: [\"^foo$\"]\ntype foo = {};\n\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\ntype foo = {};\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#type-import-style","title":"<code>type-import-style</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>Enforces a particular style for type imports:</p> <p>\u200b       // 'identifier' style     import {type T, type U, type V} from '...';</p> <pre><code>// 'declaration' style\nimport type {T, U, V} from '...';\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#options_19","title":"Options","text":"<p>The rule has a string option:</p> <ul> <li><code>\"identifier\"</code> (default): Enforces that type imports are all in the 'identifier' style.</li> <li><code>\"declaration\"</code>: Enforces that type imports are all in the 'declaration' style.</li> </ul> <p>This rule has an object option:</p> <ul> <li><code>ignoreTypeDefault</code> - if <code>true</code>, when in \"identifier\" mode, default type imports will be ignored. Default is <code>false</code>.</li> </ul> <p>The following patterns are considered problems:</p> <p>\u200b       import type {A, B} from 'a';     // Message: Unexpected \"import type\"</p> <pre><code>// Options: [\"identifier\"]\nimport type {A, B} from 'a';\n// Message: Unexpected \"import type\"\n\n// Options: [\"identifier\"]\nimport type {A, B as C} from 'a';\n// Message: Unexpected \"import type\"\n\n// Options: [\"identifier\"]\nimport type A from 'a';\n// Message: Unexpected \"import type\"\n\n// Options: [\"declaration\"]\nimport {type A, type B} from 'a';\n// Message: Unexpected type import\n// Message: Unexpected type import\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       import {type A, type B} from 'a';</p> <pre><code>// Options: [\"identifier\"]\nimport {type A, type B} from 'a';\n\n// Options: [\"declaration\"]\nimport type {A, B} from 'a';\n\n// Options: [\"identifier\"]\nimport typeof * as A from 'a';\n\n// Options: [\"identifier\",{\"ignoreTypeDefault\":true}]\nimport type A from 'a';\n\n// Options: [\"identifier\"]\ndeclare module \"m\" { import type A from 'a'; }\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#union-intersection-spacing","title":"<code>union-intersection-spacing</code>","text":"<p>The<code>--fix</code> option on the command line automatically fixes problems reported by this rule.</p> <p>Enforces consistent spacing around union and intersection type separators (<code>|</code> and <code>&amp;</code>).</p> <p>This rule takes one argument. If it is <code>'always'</code> then a problem is raised when there is no space around the separator. If it is <code>'never'</code> then a problem is raised when there is a space around the separator.</p> <p>The default value is <code>'always'</code>.</p> <p>The following patterns are considered problems:</p> <p>\u200b       type X = string| number;     // Message: There must be a space before union type annotation separator</p> <pre><code>// Options: [\"always\"]\ntype X = string| number;\n// Message: There must be a space before union type annotation separator\n\ntype X = string |number;\n// Message: There must be a space after union type annotation separator\n\ntype X = string|number;\n// Message: There must be a space before union type annotation separator\n// Message: There must be a space after union type annotation separator\n\ntype X = {x: string}|{y: number};\n// Message: There must be a space before union type annotation separator\n// Message: There must be a space after union type annotation separator\n\ntype X = string | number |boolean;\n// Message: There must be a space after union type annotation separator\n\ntype X = string|number|boolean;\n// Message: There must be a space before union type annotation separator\n// Message: There must be a space after union type annotation separator\n// Message: There must be a space before union type annotation separator\n// Message: There must be a space after union type annotation separator\n\ntype X = (string)| number;\n// Message: There must be a space before union type annotation separator\n\ntype X = ((string))|(number | foo);\n// Message: There must be a space before union type annotation separator\n// Message: There must be a space after union type annotation separator\n\n// Options: [\"never\"]\ntype X = string |number;\n// Message: There must be no space before union type annotation separator\n\n// Options: [\"never\"]\ntype X = string| number;\n// Message: There must be no space after union type annotation separator\n\ntype X = string&amp; number;\n// Message: There must be a space before intersection type annotation separator\n\n// Options: [\"always\"]\ntype X = string&amp; number;\n// Message: There must be a space before intersection type annotation separator\n\ntype X = string &amp;number;\n// Message: There must be a space after intersection type annotation separator\n\ntype X = {x: string}&amp;{y: number};\n// Message: There must be a space before intersection type annotation separator\n// Message: There must be a space after intersection type annotation separator\n\ntype X = string&amp;number;\n// Message: There must be a space before intersection type annotation separator\n// Message: There must be a space after intersection type annotation separator\n\ntype X = string &amp; number &amp;boolean;\n// Message: There must be a space after intersection type annotation separator\n\ntype X = string&amp;number&amp;boolean;\n// Message: There must be a space before intersection type annotation separator\n// Message: There must be a space after intersection type annotation separator\n// Message: There must be a space before intersection type annotation separator\n// Message: There must be a space after intersection type annotation separator\n\ntype X = (string)&amp; number;\n// Message: There must be a space before intersection type annotation separator\n\ntype X = ((string))&amp;(number &amp; foo);\n// Message: There must be a space before intersection type annotation separator\n// Message: There must be a space after intersection type annotation separator\n\n// Options: [\"never\"]\ntype X = string &amp;number;\n// Message: There must be no space before intersection type annotation separator\n\n// Options: [\"never\"]\ntype X = string&amp; number;\n// Message: There must be no space after intersection type annotation separator\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type X = string | number;</p> <pre><code>type X = string | number | boolean;\n\ntype X = (string) | number;\n\ntype X = ((string)) | (number | foo);\n\n// Options: [\"never\"]\ntype X = string|number\n\ntype X =\n| string\n| number\n\nfunction x() {\ntype X =\n| string\n| number\n}\n\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\ntype X = string| number;\n\ntype X = string &amp; number;\n\ntype X = string &amp; number &amp; boolean;\n\ntype X = (string) &amp; number;\n\ntype X = ((string)) &amp; (number &amp; foo);\n\n// Options: [\"never\"]\ntype X = string&amp;number\n\ntype X =\n&amp; string\n&amp; number\n\nfunction x() {\ntype X =\n&amp; string\n&amp; number\n}\n\n// Settings: {\"flowtype\":{\"onlyFilesWithFlowAnnotation\":true}}\ntype X = string&amp; number;\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#use-flow-type","title":"<code>use-flow-type</code>","text":"<p>Marks Flow type alias declarations as used.</p> <p>Used to suppress <code>no-unused-vars</code> errors that are triggered by type aliases.</p> <p>The following patterns are not considered problems:</p> <p>\u200b       declare class A {}     // Additional rules: {\"no-unused-vars\":1}</p> <pre><code>declare function A(): Y\n// Additional rules: {\"no-unused-vars\":1}\n\ndeclare module A {}\n// Additional rules: {\"no-unused-vars\":1}\n\ndeclare module A { declare var a: Y }\n// Additional rules: {\"no-unused-vars\":1}\n\ndeclare var A: Y\n// Additional rules: {\"no-unused-vars\":1}\n\nimport type A from \"a\"; type X&lt;B = ComponentType&lt;A&gt;&gt; = { b: B }; let x: X; console.log(x);\n// Additional rules: {\"no-unused-vars\":1}\n\nimport type A from \"a\"; type X&lt;B = A&lt;string&gt;&gt; = { b: B }; let x: X; console.log(x);\n// Additional rules: {\"no-unused-vars\":1}\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#use-read-only-spread","title":"<code>use-read-only-spread</code>","text":"<p>Warns against accidentally creating an object which is no longer read-only because of how spread operator works in Flow. Imagine the following code:</p> <p>\u200b       type INode = {|       +type: string,     |};</p> <pre><code>type Identifier = {|\n  ...INode,\n  +name: string,\n|};\n</code></pre> <p>You might expect the identifier name to be read-only, however, that's not true (flow.org/try):</p> <p>\u200b       const x: Identifier = { name: '', type: '' };</p> <pre><code>x.type = 'must NOT be writable!'; // No Flow error\nx.name = 'must NOT be writable!'; // No Flow error\n</code></pre> <p>This rule suggests to use <code>$ReadOnly&lt;\u2026&gt;</code> to prevent accidental loss of readonly-ness:</p> <p>\u200b       type Identifier = $ReadOnly&lt;{|       ...INode,       +name: string,     |}&gt;;</p> <pre><code>const x: Identifier = { name: '', type: '' };\n\nx.type = 'must NOT be writable!'; // $FlowExpectedError[cannot-write]\nx.name = 'must NOT be writable!'; // $FlowExpectedError[cannot-write]\n</code></pre> <p>The following patterns are considered problems:</p> <p>\u200b       type INode = {||};     type Identifier = {|       ...INode,       +aaa: string,     |};     // Message: Flow type with spread property and all readonly properties must be wrapped in '$ReadOnly&lt;\u2026&gt;' to prevent accidental loss of readonly-ness.</p> <pre><code>type INode = {||};\ntype Identifier = {|\n  ...INode,\n  +aaa: string,\n  +bbb: string,\n|};\n// Message: Flow type with spread property and all readonly properties must be wrapped in '$ReadOnly&lt;\u2026&gt;' to prevent accidental loss of readonly-ness.\n</code></pre> <p>The following patterns are not considered problems:</p> <p>\u200b       type INode = {||};     type Identifier = {|       ...INode,       name: string,     |};</p> <pre><code>type INode = {||};\ntype Identifier = {|\n  ...INode,\n  name: string, // writable on purpose\n  +surname: string,\n|};\n\ntype Identifier = {|\n  +name: string,\n|};\n\ntype INode = {||};\ntype Identifier = $ReadOnly&lt;{|\n  ...INode,\n  +name: string,\n|}&gt;;\n\ntype INode = {||};\ntype Identifier = $ReadOnly&lt;{|\n  ...INode,\n  name: string, // writable on purpose\n|}&gt;;\n\ntype INode = {||};\ntype Identifier = $ReadOnly&lt;{|\n  ...INode,\n  -name: string,\n|}&gt;;\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-flowtype/#valid-syntax","title":"<code>valid-syntax</code>","text":"<p>Deprecated Babylon (the Babel parser) v6.10.0 fixes parsing of the invalid syntax this plugin warned against.</p> <p>Checks for simple Flow syntax errors.</p> <p>The following patterns are not considered problems:</p> <p>\u200b       function x(foo: string = \"1\") {}</p> <pre><code>function x(foo: Type = bar()) {}\n</code></pre> <p>\u200b            </p>"},{"location":"new-third-part-lib/eslint-plugin-import/","title":"eslint-plugin-import","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 26404  \u9605\u8bfb53\u5206\u949f</p>"},{"location":"new-third-part-lib/eslint-plugin-import/#eslint-plugin-import","title":"eslint-plugin-import","text":""},{"location":"new-third-part-lib/eslint-plugin-import/#version","title":"version","text":"<p>2.29.1\u00a0\u2022 </p>"},{"location":"new-third-part-lib/eslint-plugin-import/#downloads","title":"downloads","text":"<p>22,682,558 </p>"},{"location":"new-third-part-lib/eslint-plugin-import/#repository","title":"repository","text":"<p>github.com/import-js/eslint-plugin-import </p>"},{"location":"new-third-part-lib/eslint-plugin-import/#homepage","title":"homepage","text":"<p>github.com/import-js/eslint-plugin-import </p>"},{"location":"new-third-part-lib/eslint-plugin-import/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/eslint-plugin-import/#eslint-plugin-import_1","title":"eslint-plugin-import","text":"<p>This plugin intends to support linting of ES2015+ (ES6+) import/export syntax, and prevent issues with misspelling of file paths and import names. All the goodness that the ES2015+ static module syntax intends to provide, marked up in your editor.</p> <p>IF YOU ARE USING THIS WITH SUBLIME : see the bottom section for important info.</p>"},{"location":"new-third-part-lib/eslint-plugin-import/#rules","title":"Rules","text":"<p>\ud83d\udcbc Configurations enabled in. \u26a0\ufe0f Configurations set to warn in. \ud83d\udeab Configurations disabled in. \u2757 Set in the <code>errors</code> configuration. \u2611\ufe0f Set in the <code>recommended</code> configuration. \u2328\ufe0f Set in the <code>typescript</code> configuration. \ud83d\udeb8 Set in the <code>warnings</code> configuration. \ud83d\udd27 Automatically fixable by the <code>--fix</code> CLI option. \ud83d\udca1 Manually fixable by editor suggestions. \u274c Deprecated.</p>"},{"location":"new-third-part-lib/eslint-plugin-import/#helpful-warnings","title":"Helpful warnings","text":"Name Description \ud83d\udcbc \u26a0\ufe0f \ud83d\udeab \ud83d\udd27 \ud83d\udca1 \u274c export Forbid any invalid exports, i.e. re-export of the same name. \u2757 \u2611\ufe0f no-deprecated Forbid imported names marked with <code>@deprecated</code> documentation tag. no-empty-named-blocks Forbid empty named import blocks. \ud83d\udd27 \ud83d\udca1 no-extraneous-dependencies Forbid the use of extraneous packages. no-mutable-exports Forbid the use of mutable exports with <code>var</code> or <code>let</code>. no-named-as-default Forbid use of exported name as identifier of default export. \u2611\ufe0f \ud83d\udeb8 no-named-as-default-member Forbid use of exported name as property of default export. \u2611\ufe0f \ud83d\udeb8 no-unused-modules Forbid modules without exports, or exports without matching import in another module."},{"location":"new-third-part-lib/eslint-plugin-import/#module-systems","title":"Module systems","text":"Name Description \ud83d\udcbc \u26a0\ufe0f \ud83d\udeab \ud83d\udd27 \ud83d\udca1 \u274c no-amd Forbid AMD <code>require</code> and <code>define</code> calls. no-commonjs Forbid CommonJS <code>require</code> calls and <code>module.exports</code> or <code>exports.*</code>. no-import-module-exports Forbid import statements with CommonJS module.exports. \ud83d\udd27 no-nodejs-modules Forbid Node.js builtin modules. unambiguous Forbid potentially ambiguous parse goal (<code>script</code> vs. <code>module</code>)."},{"location":"new-third-part-lib/eslint-plugin-import/#static-analysis","title":"Static analysis","text":"Name Description \ud83d\udcbc \u26a0\ufe0f \ud83d\udeab \ud83d\udd27 \ud83d\udca1 \u274c default Ensure a default export is present, given a default import. \u2757 \u2611\ufe0f named Ensure named imports correspond to a named export in the remote file. \u2757 \u2611\ufe0f \u2328\ufe0f namespace Ensure imported namespaces contain dereferenced properties as they are dereferenced. \u2757 \u2611\ufe0f no-absolute-path Forbid import of modules using absolute paths. \ud83d\udd27 no-cycle Forbid a module from importing a module with a dependency path back to itself. no-dynamic-require Forbid <code>require()</code> calls with expressions. no-internal-modules Forbid importing the submodules of other modules. no-relative-packages Forbid importing packages through relative paths. \ud83d\udd27 no-relative-parent-imports Forbid importing modules from parent directories. no-restricted-paths Enforce which files can be imported in a given folder. no-self-import Forbid a module from importing itself. no-unresolved Ensure imports point to a file/module that can be resolved. \u2757 \u2611\ufe0f no-useless-path-segments Forbid unnecessary path segments in import and require statements. \ud83d\udd27 no-webpack-loader-syntax Forbid webpack loader syntax in imports."},{"location":"new-third-part-lib/eslint-plugin-import/#style-guide","title":"Style guide","text":"Name Description \ud83d\udcbc \u26a0\ufe0f \ud83d\udeab \ud83d\udd27 \ud83d\udca1 \u274c consistent-type-specifier-style Enforce or ban the use of inline type-only markers for named imports. \ud83d\udd27 dynamic-import-chunkname Enforce a leading comment with the webpackChunkName for dynamic imports. exports-last Ensure all exports appear after other statements. extensions Ensure consistent use of file extension within the import path. first Ensure all imports appear before other statements. \ud83d\udd27 group-exports Prefer named exports to be grouped together in a single export declaration imports-first Replaced by <code>import/first</code>. \ud83d\udd27 \u274c max-dependencies Enforce the maximum number of dependencies a module can have. newline-after-import Enforce a newline after import statements. \ud83d\udd27 no-anonymous-default-export Forbid anonymous values as default exports. no-default-export Forbid default exports. no-duplicates Forbid repeated import of the same module in multiple places. \u2611\ufe0f \ud83d\udeb8 \ud83d\udd27 no-named-default Forbid named default exports. no-named-export Forbid named exports. no-namespace Forbid namespace (a.k.a. \"wildcard\" <code>*</code>) imports. \ud83d\udd27 no-unassigned-import Forbid unassigned imports order Enforce a convention in module import order. \ud83d\udd27 prefer-default-export Prefer a default export if module exports a single name or multiple names."},{"location":"new-third-part-lib/eslint-plugin-import/#eslint-plugin-import-for-enterprise","title":"<code>eslint-plugin-import</code> for enterprise","text":"<p>Available as part of the Tidelift Subscription.</p> <p>The maintainers of <code>eslint-plugin-import</code> and thousands of other packages are working with Tidelift to deliver commercial support and maintenance for the open source dependencies you use to build your applications. Save time, reduce risk, and improve code health, while paying the maintainers of the exact dependencies you use. Learn more.</p>"},{"location":"new-third-part-lib/eslint-plugin-import/#installation","title":"Installation","text":"<pre><code># inside your project's working tree\nnpm install eslint-plugin-import --save-dev\n</code></pre> <p>All rules are off by default. However, you may configure them manually in your <code>.eslintrc.(yml|json|js)</code>, or extend one of the canned configs:</p> <pre><code>---\nextends:\n  - eslint:recommended\n  - plugin:import/recommended\n  # alternatively, 'recommended' is the combination of these two rule sets:\n  - plugin:import/errors\n  - plugin:import/warnings\n\n# or configure manually:\nplugins:\n  - import\n\nrules:\n  import/no-unresolved: [2, {commonjs: true, amd: true}]\n  import/named: 2\n  import/namespace: 2\n  import/default: 2\n  import/export: 2\n  # etc...\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-import/#typescript","title":"TypeScript","text":"<p>You may use the following snippet or assemble your own config using the granular settings described below it.</p> <p>Make sure you have installed <code>@typescript- eslint/parser</code> and <code>eslint-import-resolver- typescript</code> which are used in the following configuration.</p> <pre><code>extends:\n  - eslint:recommended\n  - plugin:import/recommended\n# the following lines do the trick\n  - plugin:import/typescript\nsettings:\n  import/resolver:\n    # You will also need to install and configure the TypeScript resolver\n    # See also https://github.com/import-js/eslint-import-resolver-typescript#configuration\n    typescript: true\n    node: true\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-import/#resolvers","title":"Resolvers","text":"<p>With the advent of module bundlers and the current state of modules and module syntax specs, it's not always obvious where <code>import x from 'module'</code> should look to find the file behind <code>module</code>.</p> <p>Up through v0.10ish, this plugin has directly used substack's <code>resolve</code> plugin, which implements Node's import behavior. This works pretty well in most cases.</p> <p>However, webpack allows a number of things in import module source strings that Node does not, such as loaders (<code>import 'file!./whatever'</code>) and a number of aliasing schemes, such as <code>externals</code>: mapping a module id to a global name at runtime (allowing some modules to be included more traditionally via script tags).</p> <p>In the interest of supporting both of these, v0.11 introduces resolvers.</p> <p>Currently Node and webpack resolution have been implemented, but the resolvers are just npm packages, so third party packages are supported (and encouraged!).</p> <p>You can reference resolvers in several ways (in order of precedence):</p> <ul> <li> <p>as a conventional <code>eslint-import-resolver</code> name, like <code>eslint-import-resolver-foo</code>:</p> </li> <li> <p>with a full npm module name, like <code>my-awesome-npm-module</code>:</p> </li> <li> <p>with a filesystem path to resolver, defined in this example as a <code>computed property</code> name:</p> <p>// .eslintrc.js module.exports = {   settings: {     'import/resolver': {       [path.resolve('../../../my-resolver')]: { someConfig: value }     }   } }</p> </li> </ul> <p>Relative paths will be resolved relative to the source's nearest <code>package.json</code> or the process's current working directory if no <code>package.json</code> is found.</p> <p>If you are interesting in writing a resolver, see the spec for more details.</p>"},{"location":"new-third-part-lib/eslint-plugin-import/#eslintrcyml","title":".eslintrc.yml","text":"<p>settings:   # uses 'eslint-import-resolver-foo':   import/resolver: foo</p> <p>// .eslintrc.js module.exports = {   settings: {     'import/resolver': {       foo: { someConfig: value }     }   } }</p>"},{"location":"new-third-part-lib/eslint-plugin-import/#eslintrcyml_1","title":".eslintrc.yml","text":"<p>settings:   import/resolver: 'my-awesome-npm-module'</p> <p>// .eslintrc.js module.exports = {   settings: {     'import/resolver': {       'my-awesome-npm-module': { someConfig: value }     }   } }</p>"},{"location":"new-third-part-lib/eslint-plugin-import/#settings","title":"Settings","text":"<p>You may set the following settings in your <code>.eslintrc</code>:</p>"},{"location":"new-third-part-lib/eslint-plugin-import/#importextensions","title":"<code>import/extensions</code>","text":"<p>A list of file extensions that will be parsed as modules and inspected for <code>export</code>s.</p> <p>This defaults to <code>['.js']</code>, unless you are using the <code>react</code> shared config, in which case it is specified as <code>['.js', '.jsx']</code>. Despite the default, if you are using TypeScript (without the <code>plugin:import/typescript</code> config described above) you must specify the new extensions (<code>.ts</code>, and also <code>.tsx</code> if using React).</p> <pre><code>\"settings\": {\n  \"import/extensions\": [\n    \".js\",\n    \".jsx\"\n  ]\n}\n</code></pre> <p>If you require more granular extension definitions, you can use:</p> <pre><code>\"settings\": {\n  \"import/resolver\": {\n    \"node\": {\n      \"extensions\": [\n        \".js\",\n        \".jsx\"\n      ]\n    }\n  }\n}\n</code></pre> <p>Note that this is different from (and likely a subset of) any <code>import/resolver</code> extensions settings, which may include <code>.json</code>, <code>.coffee</code>, etc. which will still factor into the <code>no-unresolved</code> rule.</p> <p>Also, the following <code>import/ignore</code> patterns will overrule this list.</p>"},{"location":"new-third-part-lib/eslint-plugin-import/#importignore","title":"<code>import/ignore</code>","text":"<p>A list of regex strings that, if matched by a path, will not report the matching module if no <code>export</code>s are found. In practice, this means rules other than <code>no-unresolved</code> will not report on any <code>import</code>s with (absolute filesystem) paths matching this pattern.</p> <p><code>no-unresolved</code> has its own <code>ignore</code> setting.</p> <pre><code>settings:\n  import/ignore:\n    - \\.coffee$          # fraught with parse errors\n    - \\.(scss|less|css)$ # can't parse unprocessed CSS modules, either\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-import/#importcore-modules","title":"<code>import/core-modules</code>","text":"<p>An array of additional modules to consider as \"core\" modules--modules that should be considered resolved but have no path on the filesystem. Your resolver may already define some of these (for example, the Node resolver knows about <code>fs</code> and <code>path</code>), so you need not redefine those.</p> <p>For example, Electron exposes an <code>electron</code> module:</p> <pre><code>import 'electron'  // without extra config, will be flagged as unresolved!\n</code></pre> <p>that would otherwise be unresolved. To avoid this, you may provide <code>electron</code> as a core module:</p> <pre><code># .eslintrc.yml\nsettings:\n  import/core-modules: [ electron ]\n</code></pre> <p>In Electron's specific case, there is a shared config named <code>electron</code> that specifies this for you.</p> <p>Contribution of more such shared configs for other platforms are welcome!</p>"},{"location":"new-third-part-lib/eslint-plugin-import/#importexternal-module-folders","title":"<code>import/external-module-folders</code>","text":"<p>An array of folders. Resolved modules only from those folders will be considered as \"external\". By default - <code>[\"node_modules\"]</code>. Makes sense if you have configured your path or webpack to handle your internal paths differently and want to consider modules from some folders, for example <code>bower_components</code> or <code>jspm_modules</code>, as \"external\".</p> <p>This option is also useful in a monorepo setup: list here all directories that contain monorepo's packages and they will be treated as external ones no matter which resolver is used.</p> <p>If you are using <code>yarn</code> PnP as your package manager, add the <code>.yarn</code> folder and all your installed dependencies will be considered as <code>external</code>, instead of <code>internal</code>.</p> <p>Each item in this array is either a folder's name, its subpath, or its absolute prefix path:</p> <ul> <li> <p><code>jspm_modules</code> will match any file or folder named <code>jspm_modules</code> or which has a direct or non-direct parent named <code>jspm_modules</code>, e.g. <code>/home/me/project/jspm_modules</code> or <code>/home/me/project/jspm_modules/some-pkg/index.js</code>.</p> </li> <li> <p><code>packages/core</code> will match any path that contains these two segments, for example <code>/home/me/project/packages/core/src/utils.js</code>.</p> </li> <li> <p><code>/home/me/project/packages</code> will only match files and directories inside this directory, and the directory itself.</p> </li> </ul> <p>Please note that incomplete names are not allowed here so <code>components</code> won't match <code>bower_components</code> and <code>packages/ui</code> won't match <code>packages/ui-utils</code> (but will match <code>packages/ui/utils</code>).</p>"},{"location":"new-third-part-lib/eslint-plugin-import/#importparsers","title":"<code>import/parsers</code>","text":"<p>A map from parsers to file extension arrays. If a file extension is matched, the dependency parser will require and use the map key as the parser instead of the configured ESLint parser. This is useful if you're inter-op-ing with TypeScript directly using webpack, for example:</p> <pre><code># .eslintrc.yml\nsettings:\n  import/parsers:\n    \"@typescript-eslint/parser\": [ .ts, .tsx ]\n</code></pre> <p>In this case, <code>@typescript- eslint/parser</code> must be installed and require-able from the running <code>eslint</code> module's location (i.e., install it as a peer of ESLint).</p> <p>This is currently only tested with <code>@typescript-eslint/parser</code> (and its predecessor, <code>typescript-eslint-parser</code>) but should theoretically work with any moderately ESTree-compliant parser.</p> <p>It's difficult to say how well various plugin features will be supported, too, depending on how far down the rabbit hole goes. Submit an issue if you find strange behavior beyond here, but steel your heart against the likely outcome of closing with <code>wontfix</code>.</p>"},{"location":"new-third-part-lib/eslint-plugin-import/#importresolver","title":"<code>import/resolver</code>","text":"<p>See resolvers.</p>"},{"location":"new-third-part-lib/eslint-plugin-import/#importcache","title":"<code>import/cache</code>","text":"<p>Settings for cache behavior. Memoization is used at various levels to avoid the copious amount of <code>fs.statSync</code>/module parse calls required to correctly report errors.</p> <p>For normal <code>eslint</code> console runs, the cache lifetime is irrelevant, as we can strongly assume that files should not be changing during the lifetime of the linter process (and thus, the cache in memory)</p> <p>For long-lasting processes, like <code>eslint_d</code> or <code>eslint- loader</code>, however, it's important that there be some notion of staleness.</p> <p>If you never use <code>eslint_d</code> or <code>eslint-loader</code>, you may set the cache lifetime to <code>Infinity</code> and everything should be fine:</p> <pre><code># .eslintrc.yml\nsettings:\n  import/cache:\n    lifetime: \u221e  # or Infinity\n</code></pre> <p>Otherwise, set some integer, and cache entries will be evicted after that many seconds have elapsed:</p> <pre><code># .eslintrc.yml\nsettings:\n  import/cache:\n    lifetime: 5  # 30 is the default\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-import/#importinternal-regex","title":"<code>import/internal-regex</code>","text":"<p>A regex for packages should be treated as internal. Useful when you are utilizing a monorepo setup or developing a set of packages that depend on each other.</p> <p>By default, any package referenced from <code>import/external-module-folders</code> will be considered as \"external\", including packages in a monorepo like yarn workspace or lerna environment. If you want to mark these packages as \"internal\" this will be useful.</p> <p>For example, if your packages in a monorepo are all in <code>@scope</code>, you can configure <code>import/internal-regex</code> like this</p> <pre><code># .eslintrc.yml\nsettings:\n  import/internal-regex: ^@scope/\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-import/#sublimelinter-eslint","title":"SublimeLinter-eslint","text":"<p>SublimeLinter-eslint introduced a change to support <code>.eslintignore</code> files which altered the way file paths are passed to ESLint when linting during editing. This change sends a relative path instead of the absolute path to the file (as ESLint normally provides), which can make it impossible for this plugin to resolve dependencies on the filesystem.</p> <p>This workaround should no longer be necessary with the release of ESLint 2.0, when <code>.eslintignore</code> will be updated to work more like a <code>.gitignore</code>, which should support proper ignoring of absolute paths via <code>--stdin-filename</code>.</p> <p>In the meantime, see roadhump/SublimeLinter- eslint#58 for more details and discussion, but essentially, you may find you need to add the following <code>SublimeLinter</code> config to your Sublime project file:</p> <pre><code>{\n    \"folders\":\n    [\n        {\n            \"path\": \"code\"\n        }\n    ],\n    \"SublimeLinter\":\n    {\n        \"linters\":\n        {\n            \"eslint\":\n            {\n                \"chdir\": \"${project}/code\"\n            }\n        }\n    }\n}\n</code></pre> <p>Note that <code>${project}/code</code> matches the <code>code</code> provided at <code>folders[0].path</code>.</p> <p>The purpose of the <code>chdir</code> setting, in this case, is to set the working directory from which ESLint is executed to be the same as the directory on which SublimeLinter-eslint bases the relative path it provides.</p> <p>See the SublimeLinter docs on <code>chdir</code> for more information, in case this does not work with your project.</p> <p>If you are not using <code>.eslintignore</code>, or don't have a Sublime project file, you can also do the following via a <code>.sublimelinterrc</code> file in some ancestor directory of your code:</p> <pre><code>{\n  \"linters\": {\n    \"eslint\": {\n      \"args\": [\"--stdin-filename\", \"@\"]\n    }\n  }\n}\n</code></pre> <p>I also found that I needed to set <code>rc_search_limit</code> to <code>null</code>, which removes the file hierarchy search limit when looking up the directory tree for <code>.sublimelinterrc</code>:</p> <p>In Package Settings / SublimeLinter / User Settings:</p> <pre><code>{\n  \"user\": {\n    \"rc_search_limit\": null\n  }\n}\n</code></pre> <p>I believe this defaults to <code>3</code>, so you may not need to alter it depending on your project folder max depth.</p>"},{"location":"new-third-part-lib/eslint-plugin-react/","title":"eslint-plugin-react","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 30502  \u9605\u8bfb62\u5206\u949f</p>"},{"location":"new-third-part-lib/eslint-plugin-react/#eslint-plugin-react","title":"eslint-plugin-react","text":""},{"location":"new-third-part-lib/eslint-plugin-react/#version","title":"version","text":"<p>7.35.0\u00a0\u2022 </p>"},{"location":"new-third-part-lib/eslint-plugin-react/#downloads","title":"downloads","text":"<p>19,247,771 </p>"},{"location":"new-third-part-lib/eslint-plugin-react/#repository","title":"repository","text":"<p>github.com/jsx-eslint/eslint-plugin-react </p>"},{"location":"new-third-part-lib/eslint-plugin-react/#homepage","title":"homepage","text":"<p>github.com/jsx-eslint/eslint-plugin-react </p>"},{"location":"new-third-part-lib/eslint-plugin-react/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/eslint-plugin-react/#eslint-plugin-react_1","title":"<code>eslint-plugin-react</code>","text":"<p>React specific linting rules for <code>eslint</code></p>"},{"location":"new-third-part-lib/eslint-plugin-react/#installation","title":"Installation","text":"<pre><code>npm install eslint eslint-plugin-react --save-dev\n</code></pre> <p>It is also possible to install ESLint globally rather than locally (using <code>npm install -g eslint</code>). However, this is not recommended, and any plugins or shareable configs that you use must be installed locally in either case.</p>"},{"location":"new-third-part-lib/eslint-plugin-react/#configuration-legacy-eslintrc","title":"Configuration (legacy: <code>.eslintrc*</code>)","text":"<p>Use our preset to get reasonable defaults:</p> <pre><code>  \"extends\": [\n    \"eslint:recommended\",\n    \"plugin:react/recommended\"\n  ]\n</code></pre> <p>If you are using the new JSX transform from React 17, extend <code>react/jsx- runtime</code> in your eslint config (add <code>\"plugin:react/jsx-runtime\"</code> to <code>\"extends\"</code>) to disable the relevant rules.</p> <p>You should also specify settings that will be shared across all the plugin rules. (More about eslint shared settings)</p> <pre><code>{\n  \"settings\": {\n    \"react\": {\n      \"createClass\": \"createReactClass\", // Regex for Component Factory to use,\n                                         // default to \"createReactClass\"\n      \"pragma\": \"React\",  // Pragma to use, default to \"React\"\n      \"fragment\": \"Fragment\",  // Fragment to use (may be a property of &lt;pragma&gt;), default to \"Fragment\"\n      \"version\": \"detect\", // React version. \"detect\" automatically picks the version you have installed.\n                           // You can also use `16.0`, `16.3`, etc, if you want to override the detected value.\n                           // Defaults to the \"defaultVersion\" setting and warns if missing, and to \"detect\" in the future\n      \"defaultVersion\": \"\", // Default React version to use when the version you have installed cannot be detected.\n                            // If not provided, defaults to the latest React version.\n      \"flowVersion\": \"0.53\" // Flow version\n    },\n    \"propWrapperFunctions\": [\n        // The names of any function used to wrap propTypes, e.g. `forbidExtraProps`. If this isn't set, any propTypes wrapped in a function will be skipped.\n        \"forbidExtraProps\",\n        {\"property\": \"freeze\", \"object\": \"Object\"},\n        {\"property\": \"myFavoriteWrapper\"},\n        // for rules that check exact prop wrappers\n        {\"property\": \"forbidExtraProps\", \"exact\": true}\n    ],\n    \"componentWrapperFunctions\": [\n        // The name of any function used to wrap components, e.g. Mobx `observer` function. If this isn't set, components wrapped by these functions will be skipped.\n        \"observer\", // `property`\n        {\"property\": \"styled\"}, // `object` is optional\n        {\"property\": \"observer\", \"object\": \"Mobx\"},\n        {\"property\": \"observer\", \"object\": \"&lt;pragma&gt;\"} // sets `object` to whatever value `settings.react.pragma` is set to\n    ],\n    \"formComponents\": [\n      // Components used as alternatives to &lt;form&gt; for forms, eg. &lt;Form endpoint={ url } /&gt;\n      \"CustomForm\",\n      {\"name\": \"SimpleForm\", \"formAttribute\": \"endpoint\"},\n      {\"name\": \"Form\", \"formAttribute\": [\"registerEndpoint\", \"loginEndpoint\"]}, // allows specifying multiple properties if necessary\n    ],\n    \"linkComponents\": [\n      // Components used as alternatives to &lt;a&gt; for linking, eg. &lt;Link to={ url } /&gt;\n      \"Hyperlink\",\n      {\"name\": \"MyLink\", \"linkAttribute\": \"to\"},\n      {\"name\": \"Link\", \"linkAttribute\": [\"to\", \"href\"]}, // allows specifying multiple properties if necessary\n    ]\n  }\n}\n</code></pre> <p>If you do not use a preset you will need to specify individual rules and add extra configuration.</p> <p>Add \"react\" to the plugins section.</p> <pre><code>{\n  \"plugins\": [\n    \"react\"\n  ]\n}\n</code></pre> <p>Enable JSX support.</p> <p>With <code>eslint</code> 2+</p> <pre><code>{\n  \"parserOptions\": {\n    \"ecmaFeatures\": {\n      \"jsx\": true\n    }\n  }\n}\n</code></pre> <p>Enable the rules that you would like to use.</p> <pre><code>  \"rules\": {\n    \"react/jsx-uses-react\": \"error\",\n    \"react/jsx-uses-vars\": \"error\",\n  }\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-react/#shareable-configs","title":"Shareable configs","text":""},{"location":"new-third-part-lib/eslint-plugin-react/#recommended","title":"Recommended","text":"<p>This plugin exports a <code>recommended</code> configuration that enforces React good practices.</p> <p>To enable this configuration use the <code>extends</code> property in your <code>.eslintrc</code> config file:</p> <pre><code>{\n  \"extends\": [\"eslint:recommended\", \"plugin:react/recommended\"]\n}\n</code></pre> <p>See <code>eslint</code> documentation for more information about extending configuration files.</p>"},{"location":"new-third-part-lib/eslint-plugin-react/#all","title":"All","text":"<p>This plugin also exports an <code>all</code> configuration that includes every available rule. This pairs well with the <code>eslint:all</code> rule.</p> <pre><code>{\n  \"plugins\": [\n    \"react\"\n  ],\n  \"extends\": [\"eslint:all\", \"plugin:react/all\"]\n}\n</code></pre> <p>Note : These configurations will import <code>eslint-plugin-react</code> and enable JSX in parser options.</p>"},{"location":"new-third-part-lib/eslint-plugin-react/#configuration-new-eslintconfigjs","title":"Configuration (new: <code>eslint.config.js</code>)","text":"<p>From <code>v8.21.0</code>, eslint announced a new config system. In the new system, <code>.eslintrc*</code> is no longer used. <code>eslint.config.js</code> would be the default config file name. In eslint <code>v8</code>, the legacy system (<code>.eslintrc*</code>) would still be supported, while in eslint <code>v9</code>, only the new system would be supported.</p> <p>And from <code>v8.23.0</code>, eslint CLI starts to look up <code>eslint.config.js</code>. So, if your eslint is<code>&gt;=8.23.0</code>, you're 100% ready to use the new config system.</p> <p>You might want to check out the official blog posts,</p> <ul> <li>https://eslint.org/blog/2022/08/new-config-system-part-1/</li> <li>https://eslint.org/blog/2022/08/new-config-system-part-2/</li> <li>https://eslint.org/blog/2022/08/new-config-system-part-3/</li> </ul> <p>and the official docs.</p>"},{"location":"new-third-part-lib/eslint-plugin-react/#plugin","title":"Plugin","text":"<p>The default export of <code>eslint-plugin-react</code> is a plugin object.</p> <pre><code>const react = require('eslint-plugin-react');\nconst globals = require('globals');\n\nmodule.exports = [\n  \u2026\n  {\n    files: ['**/*.{js,jsx,mjs,cjs,ts,tsx}'],\n    plugins: {\n      react,\n    },\n    languageOptions: {\n      parserOptions: {\n        ecmaFeatures: {\n          jsx: true,\n        },\n      },\n      globals: {\n        ...globals.browser,\n      },\n    },\n    rules: {\n      // ... any rules you want\n      'react/jsx-uses-react': 'error',\n      'react/jsx-uses-vars': 'error',\n     },\n    // ... others are omitted for brevity\n  },\n  \u2026\n];\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-react/#configuring-shared-settings","title":"Configuring shared settings","text":"<p>Refer to the official docs.</p> <p>The schema of the <code>settings.react</code> object would be identical to that of what's already described above in the legacy config section.</p>"},{"location":"new-third-part-lib/eslint-plugin-react/#flat-configs","title":"Flat Configs","text":"<p>This plugin exports 3 flat configs:</p> <ul> <li><code>flat.all</code></li> <li><code>flat.recommended</code></li> <li><code>flat['jsx-runtime']</code></li> </ul> <p>The flat configs are available via the root plugin import. They will configure the plugin under the <code>react/</code> namespace and enable JSX in <code>languageOptions.parserOptions</code>.</p> <pre><code>const reactPlugin = require('eslint-plugin-react');\n\nmodule.exports = [\n  \u2026\n  reactPlugin.configs.flat.recommended, // This is not a plugin object, but a shareable config object\n  \u2026\n];\n</code></pre> <p>You can of course add/override some properties.</p> <p>Note : Our shareable configs does not preconfigure <code>files</code> or <code>languageOptions.globals</code>. For most of the cases, you probably want to configure some properties by yourself.</p> <pre><code>const reactPlugin = require('eslint-plugin-react');\nconst globals = require('globals');\n\nmodule.exports = [\n  \u2026\n  {\n    files: ['**/*.{js,mjs,cjs,jsx,mjsx,ts,tsx,mtsx}'],\n    ...reactPlugin.configs.flat.recommended,\n    languageOptions: {\n      ...reactPlugin.configs.flat.recommended.languageOptions,\n      globals: {\n        ...globals.serviceworker,\n        ...globals.browser,\n      },\n    },\n  },\n  \u2026\n];\n</code></pre> <p>The above example is same as the example below, as the new config system is based on chaining.</p> <pre><code>const reactPlugin = require('eslint-plugin-react');\nconst globals = require('globals');\n\nmodule.exports = [\n  \u2026\n  {\n    files: ['**/*.{js,mjs,cjs,jsx,mjsx,ts,tsx,mtsx}'],\n    ...reactPlugin.configs.flat.recommended,\n  },\n  {\n    files: ['**/*.{js,mjs,cjs,jsx,mjsx,ts,tsx,mtsx}'],\n    languageOptions: {\n      globals: {\n        ...globals.serviceworker,\n        ...globals.browser,\n      },\n    },\n  },\n  \u2026\n];\n</code></pre>"},{"location":"new-third-part-lib/eslint-plugin-react/#list-of-supported-rules","title":"List of supported rules","text":"<p>\ud83d\udcbc Configurations enabled in. \ud83d\udeab Configurations disabled in. \ud83c\udfc3 Set in the <code>jsx-runtime</code> configuration. \u2611\ufe0f Set in the <code>recommended</code> configuration. \ud83d\udd27 Automatically fixable by the <code>--fix</code> CLI option. \ud83d\udca1 Manually fixable by editor suggestions. \u274c Deprecated.</p> Name Description \ud83d\udcbc \ud83d\udeab \ud83d\udd27 \ud83d\udca1 \u274c boolean-prop-naming Enforces consistent naming for boolean props button-has-type Disallow usage of <code>button</code> elements without an explicit <code>type</code> attribute checked-requires-onchange-or-readonly Enforce using <code>onChange</code> or <code>readonly</code> attribute when <code>checked</code> is used default-props-match-prop-types Enforce all defaultProps have a corresponding non-required PropType destructuring-assignment Enforce consistent usage of destructuring assignment of props, state, and context \ud83d\udd27 display-name Disallow missing displayName in a React component definition \u2611\ufe0f forbid-component-props Disallow certain props on components forbid-dom-props Disallow certain props on DOM Nodes forbid-elements Disallow certain elements forbid-foreign-prop-types Disallow using another component's propTypes forbid-prop-types Disallow certain propTypes function-component-definition Enforce a specific function type for function components \ud83d\udd27 hook-use-state Ensure destructuring and symmetric naming of useState hook value and setter variables \ud83d\udca1 iframe-missing-sandbox Enforce sandbox attribute on iframe elements jsx-boolean-value Enforce boolean attributes notation in JSX \ud83d\udd27 jsx-child-element-spacing Enforce or disallow spaces inside of curly braces in JSX attributes and expressions jsx-closing-bracket-location Enforce closing bracket location in JSX \ud83d\udd27 jsx-closing-tag-location Enforce closing tag location for multiline JSX \ud83d\udd27 jsx-curly-brace-presence Disallow unnecessary JSX expressions when literals alone are sufficient or enforce JSX expressions on literals in JSX children or attributes \ud83d\udd27 jsx-curly-newline Enforce consistent linebreaks in curly braces in JSX attributes and expressions \ud83d\udd27 jsx-curly-spacing Enforce or disallow spaces inside of curly braces in JSX attributes and expressions \ud83d\udd27 jsx-equals-spacing Enforce or disallow spaces around equal signs in JSX attributes \ud83d\udd27 jsx-filename-extension Disallow file extensions that may contain JSX jsx-first-prop-new-line Enforce proper position of the first property in JSX \ud83d\udd27 jsx-fragments Enforce shorthand or standard form for React fragments \ud83d\udd27 jsx-handler-names Enforce event handler naming conventions in JSX jsx-indent Enforce JSX indentation \ud83d\udd27 jsx-indent-props Enforce props indentation in JSX \ud83d\udd27 jsx-key Disallow missing <code>key</code> props in iterators/collection literals \u2611\ufe0f jsx-max-depth Enforce JSX maximum depth jsx-max-props-per-line Enforce maximum of props on a single line in JSX \ud83d\udd27 jsx-newline Require or prevent a new line after jsx elements and expressions. \ud83d\udd27 jsx-no-bind Disallow <code>.bind()</code> or arrow functions in JSX props jsx-no-comment-textnodes Disallow comments from being inserted as text nodes \u2611\ufe0f jsx-no-constructed-context-values Disallows JSX context provider values from taking values that will cause needless rerenders jsx-no-duplicate-props Disallow duplicate properties in JSX \u2611\ufe0f jsx-no-leaked-render Disallow problematic leaked values from being rendered \ud83d\udd27 jsx-no-literals Disallow usage of string literals in JSX jsx-no-script-url Disallow usage of <code>javascript:</code> URLs jsx-no-target-blank Disallow <code>target=\"_blank\"</code> attribute without <code>rel=\"noreferrer\"</code> \u2611\ufe0f \ud83d\udd27 jsx-no-undef Disallow undeclared variables in JSX \u2611\ufe0f jsx-no-useless-fragment Disallow unnecessary fragments \ud83d\udd27 jsx-one-expression-per-line Require one JSX element per line \ud83d\udd27 jsx-pascal-case Enforce PascalCase for user-defined JSX components jsx-props-no-multi-spaces Disallow multiple spaces between inline JSX props \ud83d\udd27 jsx-props-no-spread-multi Disallow JSX prop spreading the same identifier multiple times jsx-props-no-spreading Disallow JSX prop spreading jsx-sort-default-props Enforce defaultProps declarations alphabetical sorting \u274c jsx-sort-props Enforce props alphabetical sorting \ud83d\udd27 jsx-space-before-closing Enforce spacing before closing bracket in JSX \ud83d\udd27 \u274c jsx-tag-spacing Enforce whitespace in and around the JSX opening and closing brackets \ud83d\udd27 jsx-uses-react Disallow React to be incorrectly marked as unused \u2611\ufe0f \ud83c\udfc3 jsx-uses-vars Disallow variables used in JSX to be incorrectly marked as unused \u2611\ufe0f jsx-wrap-multilines Disallow missing parentheses around multiline JSX \ud83d\udd27 no-access-state-in-setstate Disallow when this.state is accessed within setState no-adjacent-inline-elements Disallow adjacent inline elements not separated by whitespace. no-array-index-key Disallow usage of Array index in keys no-arrow-function-lifecycle Lifecycle methods should be methods on the prototype, not class fields \ud83d\udd27 no-children-prop Disallow passing of children as props \u2611\ufe0f no-danger Disallow usage of dangerous JSX properties no-danger-with-children Disallow when a DOM element is using both children and dangerouslySetInnerHTML \u2611\ufe0f no-deprecated Disallow usage of deprecated methods \u2611\ufe0f no-did-mount-set-state Disallow usage of setState in componentDidMount no-did-update-set-state Disallow usage of setState in componentDidUpdate no-direct-mutation-state Disallow direct mutation of this.state \u2611\ufe0f no-find-dom-node Disallow usage of findDOMNode \u2611\ufe0f no-invalid-html-attribute Disallow usage of invalid attributes \ud83d\udca1 no-is-mounted Disallow usage of isMounted \u2611\ufe0f no-multi-comp Disallow multiple component definition per file no-namespace Enforce that namespaces are not used in React elements no-object-type-as-default-prop Disallow usage of referential-type variables as default param in functional component no-redundant-should-component-update Disallow usage of shouldComponentUpdate when extending React.PureComponent no-render-return-value Disallow usage of the return value of ReactDOM.render \u2611\ufe0f no-set-state Disallow usage of setState no-string-refs Disallow using string references \u2611\ufe0f no-this-in-sfc Disallow <code>this</code> from being used in stateless functional components no-typos Disallow common typos no-unescaped-entities Disallow unescaped HTML entities from appearing in markup \u2611\ufe0f no-unknown-property Disallow usage of unknown DOM property \u2611\ufe0f \ud83d\udd27 no-unsafe Disallow usage of unsafe lifecycle methods \u2611\ufe0f no-unstable-nested-components Disallow creating unstable components inside components no-unused-class-component-methods Disallow declaring unused methods of component class no-unused-prop-types Disallow definitions of unused propTypes no-unused-state Disallow definitions of unused state no-will-update-set-state Disallow usage of setState in componentWillUpdate prefer-es6-class Enforce ES5 or ES6 class for React Components prefer-exact-props Prefer exact proptype definitions prefer-read-only-props Enforce that props are read-only \ud83d\udd27 prefer-stateless-function Enforce stateless components to be written as a pure function prop-types Disallow missing props validation in a React component definition \u2611\ufe0f react-in-jsx-scope Disallow missing React when using JSX \u2611\ufe0f \ud83c\udfc3 require-default-props Enforce a defaultProps definition for every prop that is not a required prop require-optimization Enforce React components to have a shouldComponentUpdate method require-render-return Enforce ES5 or ES6 class for returning value in render function \u2611\ufe0f self-closing-comp Disallow extra closing tags for components without children \ud83d\udd27 sort-comp Enforce component methods order sort-default-props Enforce defaultProps declarations alphabetical sorting sort-prop-types Enforce propTypes declarations alphabetical sorting \ud83d\udd27 state-in-constructor Enforce class component state initialization style static-property-placement Enforces where React component static properties should be positioned. style-prop-object Enforce style prop value is an object void-dom-elements-no-children Disallow void DOM elements (e.g. <code>&lt;img /&gt;</code>, <code>&lt;br /&gt;</code>) from receiving children"},{"location":"new-third-part-lib/eslint-plugin-react/#other-useful-plugins","title":"Other useful plugins","text":"<ul> <li>Rules of Hooks: eslint-plugin-react-hooks</li> <li>JSX accessibility: eslint-plugin-jsx-a11y</li> <li>React Native: eslint-plugin-react-native</li> </ul>"},{"location":"new-third-part-lib/eslint-plugin-react/#license","title":"License","text":"<p><code>eslint-plugin-react</code> is licensed under the MIT License.</p>"},{"location":"new-third-part-lib/eslint/","title":"eslint","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 12171  \u9605\u8bfb25\u5206\u949f</p>"},{"location":"new-third-part-lib/eslint/#eslint","title":"eslint","text":""},{"location":"new-third-part-lib/eslint/#version","title":"version","text":"<p>9.7.0\u00a0\u2022 </p>"},{"location":"new-third-part-lib/eslint/#downloads","title":"downloads","text":"<p>38,811,641 </p>"},{"location":"new-third-part-lib/eslint/#repository","title":"repository","text":"<p>github.com/eslint/eslint </p>"},{"location":"new-third-part-lib/eslint/#homepage","title":"homepage","text":"<p>eslint.org </p>"},{"location":"new-third-part-lib/eslint/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/eslint/#eslint_1","title":"ESLint","text":"<p>Website | Configure ESLint | Rules | Contribute to ESLint | Report Bugs | Code of Conduct | Twitter | Discord | Mastodon</p> <p>ESLint is a tool for identifying and reporting on patterns found in ECMAScript/JavaScript code. In many ways, it is similar to JSLint and JSHint with a few exceptions:</p> <ul> <li>ESLint uses Espree for JavaScript parsing.</li> <li>ESLint uses an AST to evaluate patterns in code.</li> <li>ESLint is completely pluggable, every single rule is a plugin and you can add more at runtime.</li> </ul>"},{"location":"new-third-part-lib/eslint/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Installation and Usage</li> <li>Configuration</li> <li>Code of Conduct</li> <li>Filing Issues</li> <li>Frequently Asked Questions</li> <li>Releases</li> <li>Security Policy</li> <li>Semantic Versioning Policy</li> <li>Stylistic Rule Updates</li> </ol>"},{"location":"new-third-part-lib/eslint/#installation-and-usage","title":"Installation and Usage","text":"<p>Prerequisites: Node.js (<code>^18.18.0</code>, <code>^20.9.0</code>, or <code>&gt;=21.1.0</code>) built with SSL support. (If you are using an official Node.js distribution, SSL is always built in.)</p> <p>You can install and configure ESLint using this command:</p> <p>\u200b       npm init @eslint/config@latest</p> <p>After that, you can run ESLint on any file or directory like this:</p> <p>\u200b       ./node_modules/.bin/eslint yourfile.js</p>"},{"location":"new-third-part-lib/eslint/#configuration","title":"Configuration","text":"<p>After running <code>npm init @eslint/config</code>, you'll have an <code>eslint.config.js</code> (or <code>eslint.config.mjs</code>) file in your directory. In it, you'll see some rules configured like this:</p> <p>\u200b       import pluginJs from \"@eslint/js\";     export default [ pluginJs.configs.recommended, ];</p> <p>The names <code>\"semi\"</code> and <code>\"quotes\"</code> are the names of rules in ESLint. The first value is the error level of the rule and can be one of these values:</p> <ul> <li><code>\"off\"</code> or <code>0</code> - turn the rule off</li> <li><code>\"warn\"</code> or <code>1</code> - turn the rule on as a warning (doesn't affect exit code)</li> <li><code>\"error\"</code> or <code>2</code> - turn the rule on as an error (exit code will be 1)</li> </ul> <p>The three error levels allow you fine-grained control over how ESLint applies rules (for more configuration options and details, see the configuration docs).</p>"},{"location":"new-third-part-lib/eslint/#code-of-conduct","title":"Code of Conduct","text":"<p>ESLint adheres to the JS Foundation Code of Conduct.</p>"},{"location":"new-third-part-lib/eslint/#filing-issues","title":"Filing Issues","text":"<p>Before filing an issue, please be sure to read the guidelines for what you're reporting:</p> <ul> <li>Bug Report</li> <li>Propose a New Rule</li> <li>Proposing a Rule Change</li> <li>Request a Change</li> </ul>"},{"location":"new-third-part-lib/eslint/#frequently-asked-questions","title":"Frequently Asked Questions","text":""},{"location":"new-third-part-lib/eslint/#im-using-jscs-should-i-migrate-to-eslint","title":"I'm using JSCS, should I migrate to ESLint?","text":"<p>Yes. JSCS has reached end of life and is no longer supported.</p> <p>We have prepared a migration guide to help you convert your JSCS settings to an ESLint configuration.</p> <p>We are now at or near 100% compatibility with JSCS. If you try ESLint and believe we are not yet compatible with a JSCS rule/configuration, please create an issue (mentioning that it is a JSCS compatibility issue) and we will evaluate it as per our normal process.</p>"},{"location":"new-third-part-lib/eslint/#does-prettier-replace-eslint","title":"Does Prettier replace ESLint?","text":"<p>No, ESLint and Prettier have different jobs: ESLint is a linter (looking for problematic patterns) and Prettier is a code formatter. Using both tools is common, refer to Prettier's documentation to learn how to configure them to work well with each other.</p>"},{"location":"new-third-part-lib/eslint/#why-cant-eslint-find-my-plugins","title":"Why can't ESLint find my plugins?","text":"<ul> <li>Make sure your plugins (and ESLint) are both in your project's <code>package.json</code> as devDependencies (or dependencies, if your project uses ESLint at runtime).</li> <li>Make sure you have run <code>npm install</code> and all your dependencies are installed.</li> <li>Make sure your plugins' peerDependencies have been installed as well. You can use <code>npm view eslint-plugin-myplugin peerDependencies</code> to see what peer dependencies <code>eslint-plugin-myplugin</code> has.</li> </ul>"},{"location":"new-third-part-lib/eslint/#does-eslint-support-jsx","title":"Does ESLint support JSX?","text":"<p>Yes, ESLint natively supports parsing JSX syntax (this must be enabled in configuration). Please note that supporting JSX syntax is not the same as supporting React. React applies specific semantics to JSX syntax that ESLint doesn't recognize. We recommend using eslint-plugin-react if you are using React and want React semantics.</p>"},{"location":"new-third-part-lib/eslint/#what-ecmascript-versions-does-eslint-support","title":"What ECMAScript versions does ESLint support?","text":"<p>ESLint has full support for ECMAScript 3, 5, and every year from 2015 up until the most recent stage 4 specification (the default). You can set your desired ECMAScript syntax and other settings (like global variables) through configuration.</p>"},{"location":"new-third-part-lib/eslint/#what-about-experimental-features","title":"What about experimental features?","text":"<p>ESLint's parser only officially supports the latest final ECMAScript standard. We will make changes to core rules in order to avoid crashes on stage 3 ECMAScript syntax proposals (as long as they are implemented using the correct experimental ESTree syntax). We may make changes to core rules to better work with language extensions (such as JSX, Flow, and TypeScript) on a case-by-case basis.</p> <p>In other cases (including if rules need to warn on more or fewer cases due to new syntax, rather than just not crashing), we recommend you use other parsers and/or rule plugins. If you are using Babel, you can use @babel/eslint- parser and @babel/eslint-plugin to use any option available in Babel.</p> <p>Once a language feature has been adopted into the ECMAScript standard (stage 4 according to the TC39 process), we will accept issues and pull requests related to the new feature, subject to our contributing guidelines. Until then, please use the appropriate parser and plugin(s) for your experimental feature.</p>"},{"location":"new-third-part-lib/eslint/#which-nodejs-versions-does-eslint-support","title":"Which Node.js versions does ESLint support?","text":"<p>ESLint updates the supported Node.js versions with each major release of ESLint. At that time, ESLint's supported Node.js versions are updated to be:</p> <ol> <li>The most recent maintenance release of Node.js</li> <li>The lowest minor version of the Node.js LTS release that includes the features the ESLint team wants to use.</li> <li>The Node.js Current release</li> </ol> <p>ESLint is also expected to work with Node.js versions released after the Node.js Current release.</p> <p>Refer to the Quick Start Guide for the officially supported Node.js versions for a given ESLint release.</p>"},{"location":"new-third-part-lib/eslint/#where-to-ask-for-help","title":"Where to ask for help?","text":"<p>Open a discussion or stop by our Discord server.</p>"},{"location":"new-third-part-lib/eslint/#why-doesnt-eslint-lock-dependency-versions","title":"Why doesn't ESLint lock dependency versions?","text":"<p>Lock files like <code>package-lock.json</code> are helpful for deployed applications. They ensure that dependencies are consistent between environments and across deployments.</p> <p>Packages like <code>eslint</code> that get published to the npm registry do not include lock files. <code>npm install eslint</code> as a user will respect version constraints in ESLint's <code>package.json</code>. ESLint and its dependencies will be included in the user's lock file if one exists, but ESLint's own lock file would not be used.</p> <p>We intentionally don't lock dependency versions so that we have the latest compatible dependency versions in development and CI that our users get when installing ESLint in a project.</p> <p>The Twilio blog has a deeper dive to learn more.</p>"},{"location":"new-third-part-lib/eslint/#releases","title":"Releases","text":"<p>We have scheduled releases every two weeks on Friday or Saturday. You can follow a release issue for updates about the scheduling of any particular release.</p>"},{"location":"new-third-part-lib/eslint/#security-policy","title":"Security Policy","text":"<p>ESLint takes security seriously. We work hard to ensure that ESLint is safe for everyone and that security issues are addressed quickly and responsibly. Read the full security policy.</p>"},{"location":"new-third-part-lib/eslint/#semantic-versioning-policy","title":"Semantic Versioning Policy","text":"<p>ESLint follows semantic versioning. However, due to the nature of ESLint as a code quality tool, it's not always clear when a minor or major version bump occurs. To help clarify this for everyone, we've defined the following semantic versioning policy for ESLint:</p> <ul> <li>Patch release (intended to not break your lint build) <ul> <li>A bug fix in a rule that results in ESLint reporting fewer linting errors.</li> <li>A bug fix to the CLI or core (including formatters).</li> <li>Improvements to documentation.</li> <li>Non-user-facing changes such as refactoring code, adding, deleting, or modifying tests, and increasing test coverage.</li> <li>Re-releasing after a failed release (i.e., publishing a release that doesn't work for anyone).</li> </ul> </li> <li>Minor release (might break your lint build) <ul> <li>A bug fix in a rule that results in ESLint reporting more linting errors.</li> <li>A new rule is created.</li> <li>A new option to an existing rule that does not result in ESLint reporting more linting errors by default.</li> <li>A new addition to an existing rule to support a newly-added language feature (within the last 12 months) that will result in ESLint reporting more linting errors by default.</li> <li>An existing rule is deprecated.</li> <li>A new CLI capability is created.</li> <li>New capabilities to the public API are added (new classes, new methods, new arguments to existing methods, etc.).</li> <li>A new formatter is created.</li> <li><code>eslint:recommended</code> is updated and will result in strictly fewer linting errors (e.g., rule removals).</li> </ul> </li> <li>Major release (likely to break your lint build) <ul> <li><code>eslint:recommended</code> is updated and may result in new linting errors (e.g., rule additions, most rule option updates).</li> <li>A new option to an existing rule that results in ESLint reporting more linting errors by default.</li> <li>An existing formatter is removed.</li> <li>Part of the public API is removed or changed in an incompatible way. The public API includes: </li> <li>Rule schemas</li> <li>Configuration schema</li> <li>Command-line options</li> <li>Node.js API</li> <li>Rule, formatter, parser, plugin APIs</li> </ul> </li> </ul> <p>According to our policy, any minor update may report more linting errors than the previous release (ex: from a bug fix). As such, we recommend using the tilde (<code>~</code>) in <code>package.json</code> e.g. <code>\"eslint\": \"~3.1.0\"</code> to guarantee the results of your builds.</p>"},{"location":"new-third-part-lib/eslint/#stylistic-rule-updates","title":"Stylistic Rule Updates","text":"<p>Stylistic rules are frozen according to our policy on how we evaluate new rules and rule changes. This means:</p> <ul> <li>Bug fixes : We will still fix bugs in stylistic rules.</li> <li>New ECMAScript features : We will also make sure stylistic rules are compatible with new ECMAScript features.</li> <li>New options : We will not add any new options to stylistic rules unless an option is the only way to fix a bug or support a newly-added ECMAScript feature.</li> </ul>"},{"location":"new-third-part-lib/eslint/#license","title":"License","text":"<p>\u200b            </p>"},{"location":"new-third-part-lib/etcd3/","title":"259 etcd3","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2209  \u9605\u8bfb5\u5206\u949f</p>"},{"location":"new-third-part-lib/etcd3/#_1","title":"\u7528\u9014","text":"<p>etcd3 \u76ee\u6807\u662f\u57fa\u4e8e\u534f\u8bae\u7f13\u51b2\u533a\u7684 etcdv3 API \u7684\u9ad8\u8d28\u91cf\u3001\u751f\u4ea7\u5c31\u7eea\u5ba2\u6237\u7aef\u3002 \u8fd9\u5305\u62ec\uff1a</p> <p>\u8d1f\u8f7d\u5747\u8861 \u6545\u969c\u5904\u7406\u548c\u91cd\u65b0\u8fde\u63a5 \u4ea4\u6613 \u8f6f\u4ef6\u4e8b\u52a1\u5185\u5b58 \u9ad8\u7ea7\u67e5\u8be2\u6784\u5efa\u5668 \u79df\u8d41\u7ba1\u7406 \u89c2\u5bdf\u8005 \u7528\u6237\u548c\u89d2\u8272\u6a21\u62df\u7ba1\u7406 \u9009\u4e3e \u5e76\u4e14\u5bf9\u4e8e TypeScript \u6d88\u8d39\u8005\u6765\u8bf4\u662f\u7c7b\u578b\u5b89\u5168\u7684\u3002 </p>"},{"location":"new-third-part-lib/etcd3/#_2","title":"\u53ef\u9760\u6027","text":"<p>\u5fae\u8f6f\u51fa\u7248\uff0c\u5e94\u8be5\u6ca1\u95ee\u9898</p> <p>https://github.com/microsoft/etcd3</p>"},{"location":"new-third-part-lib/etcd3/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/etcd3</p>"},{"location":"new-third-part-lib/etcd3/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>const { Etcd3 } = require('etcd3');\nconst client = new Etcd3();\n\n(async () =&gt; {\n  await client.put('foo').value('bar');\n\n  const fooValue = await client.get('foo').string();\n  console.log('foo was:', fooValue);\n\n  const allFValues = await client.getAll().prefix('f').keys();\n  console.log('all our keys starting with \"f\":', allFValues);\n\n  await client.delete().all();\n})();\n</code></pre>"},{"location":"new-third-part-lib/etcd3/#_5","title":"\u5176\u4ed6","text":"<p>etcd \u57fa\u672c\u529f\u80fd\u4e0d\u592a\u6e05\u695a\uff0c\u7a0d\u540e\u7b80\u5355\u4e86\u89e3\uff08\u9ad8\u53ef\u7528\u7684\u5206\u5e03\u5f0f\u952e\u503c(key-value)\u6570\u636e\u5e93\uff0c\u7528\u4e8e\u5206\u5e03\u5f0f\u7cfb\u7edf\u90e8\u7f72\uff09</p> <p>\u53ef\u4ee5\u53c2\u8003\uff1ahttps://www.jianshu.com/p/f68028682192</p> <p>etcd\u5e94\u7528\u573a\u666f</p> <p>etcd\u6bd4\u8f83\u591a\u7684\u5e94\u7528\u573a\u666f\u662f\u7528\u4e8e\u670d\u52a1\u53d1\u73b0\uff0c\u670d\u52a1\u53d1\u73b0(Service Discovery)\u8981\u89e3\u51b3\u7684\u662f\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u6700\u5e38\u89c1\u7684\u95ee\u9898\u4e4b\u4e00\uff0c\u5373\u5728\u540c\u4e00\u4e2a\u5206\u5e03\u5f0f\u96c6\u7fa4\u4e2d\u7684\u8fdb\u7a0b\u6216\u670d\u52a1\u5982\u4f55\u624d\u80fd\u627e\u5230\u5bf9\u65b9\u5e76\u5efa\u7acb\u8fde\u63a5\u3002</p> <p>\u4ece\u672c\u8d28\u4e0a\u8bf4\uff0c\u670d\u52a1\u53d1\u73b0\u5c31\u662f\u8981\u4e86\u89e3\u96c6\u7fa4\u4e2d\u662f\u5426\u6709\u8fdb\u7a0b\u5728\u76d1\u542cupd\u6216\u8005tcp\u7aef\u53e3\uff0c\u5e76\u4e14\u901a\u8fc7\u540d\u5b57\u5c31\u53ef\u4ee5\u8fdb\u884c\u67e5\u627e\u548c\u94fe\u63a5\u3002</p> <p>\u8981\u89e3\u51b3\u670d\u52a1\u53d1\u73b0\u7684\u95ee\u9898\uff0c\u9700\u8981\u4e0b\u9762\u4e09\u5927\u652f\u67f1\uff0c\u7f3a\u4e00\u4e0d\u53ef\u3002</p> <p>\u4e00\u4e2a\u5f3a\u4e00\u81f4\u6027\u3001\u9ad8\u53ef\u7528\u7684\u670d\u52a1\u5b58\u50a8\u76ee\u5f55\u3002 \u57fa\u4e8eRalf\u7b97\u6cd5\u7684etcd\u5929\u751f\u5c31\u662f\u8fd9\u6837\u4e00\u4e2a\u5f3a\u4e00\u81f4\u6027\u3001\u9ad8\u53ef\u7528\u7684\u670d\u52a1\u5b58\u50a8\u76ee\u5f55\u3002</p> <p>\u4e00\u79cd\u6ce8\u518c\u670d\u52a1\u548c\u5065\u5eb7\u670d\u52a1\u5065\u5eb7\u72b6\u51b5\u7684\u673a\u5236\u3002 \u7528\u6237\u53ef\u4ee5\u5728etcd\u4e2d\u6ce8\u518c\u670d\u52a1\uff0c\u5e76\u4e14\u5bf9\u6ce8\u518c\u7684\u670d\u52a1\u914d\u7f6ekey TTL\uff0c\u5b9a\u65f6\u4fdd\u6301\u670d\u52a1\u7684\u5fc3\u8df3\u4ee5\u8fbe\u5230\u76d1\u63a7\u5065\u5eb7\u72b6\u6001\u7684\u6548\u679c\u3002</p> <p>\u4e00\u79cd\u67e5\u627e\u548c\u8fde\u63a5\u670d\u52a1\u7684\u673a\u5236\u3002 \u901a\u8fc7\u5728etcd\u6307\u5b9a\u7684\u4e3b\u9898\u4e0b\u6ce8\u518c\u7684\u670d\u52a1\u4e1a\u80fd\u5728\u5bf9\u5e94\u7684\u4e3b\u9898\u4e0b\u67e5\u627e\u5230\u3002\u4e3a\u4e86\u786e\u4fdd\u8fde\u63a5\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u6bcf\u4e2a\u670d\u52a1\u673a\u5668\u4e0a\u90fd\u90e8\u7f72\u4e00\u4e2aproxy\u6a21\u5f0f\u7684etcd\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u786e\u4fdd\u8bbf\u95eeetcd\u96c6\u7fa4\u7684\u670d\u52a1\u90fd\u80fd\u591f\u4e92\u76f8\u8fde\u63a5\u3002</p>"},{"location":"new-third-part-lib/excalidraw/","title":"excalidraw","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 7587  \u9605\u8bfb16\u5206\u949f</p>"},{"location":"new-third-part-lib/excalidraw/#excalidraw","title":"excalidraw","text":""},{"location":"new-third-part-lib/excalidraw/#version","title":"version","text":"<p>0.6.4\u00a0 </p>"},{"location":"new-third-part-lib/excalidraw/#downloads","title":"downloads","text":"<p>43 </p>"},{"location":"new-third-part-lib/excalidraw/#repository","title":"repository","text":"<p>github.com/excalidraw/excalidraw-embed </p>"},{"location":"new-third-part-lib/excalidraw/#homepage","title":"homepage","text":"<p>github.com/excalidraw/excalidraw-embed#readme </p> <p>This library is deprecated. Please use @excalidraw/excalidraw.</p>"},{"location":"new-third-part-lib/excalidraw/#excalidraw_1","title":"Excalidraw","text":"<p>Excalidraw exported as a component to directly embed in your projects</p>"},{"location":"new-third-part-lib/excalidraw/#installation","title":"Installation","text":"<p>You can use npm</p> <pre><code>npm install react react-dom excalidraw\n</code></pre> <p>or via yarn</p> <pre><code>yarn add react react-dom excalidraw\n</code></pre> <p>After installation you will see the below font files in <code>dist</code> directory which you will have to copy to the path from where assets are served. In the demo its served from public folder.</p> <pre><code>Cascadia.woff2\nFG_Virgil.woff2\n</code></pre>"},{"location":"new-third-part-lib/excalidraw/#demo","title":"Demo","text":"<p>Try here</p>"},{"location":"new-third-part-lib/excalidraw/#usage","title":"Usage","text":"<pre><code>import React, { useState } from \"react\";\nimport Excalidraw from \"excalidraw\";\nimport InitialData from \"./initialData\";\n\nimport \"excalidraw/dist/excalidraw.min.css\";\nimport \"./styles.css\";\n\nexport default function App() {\n  const onChange = (elements, state) =&gt; {\n    console.log(\"Elements :\", elements, \"State : \", state);\n  };\n\n  const onUsernameChange = (username) =&gt; {\n    console.log(\"current username\", username);\n  };\n  const [dimensions, setDimensions] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight,\n  });\n\n  const onResize = () =&gt; {\n    setDimensions({\n      width: window.innerWidth,\n      height: window.innerHeight,\n    });\n  };\n\n  useEffect(() =&gt; {\n    window.addEventListener(\"resize\", onResize);\n\n    return () =&gt; window.removeEventListener(\"resize\", onResize);\n  }, []);\n\n  const { width, height } = dimensions;\n  const options = { zenModeEnabled: true, viewBackgroundColor: \"#AFEEEE\" };\n  return (\n    &lt;div className=\"App\"&gt;\n      &lt;Excalidraw\n        width={width}\n        height={height}\n        initialData={InitialData}\n        onChange={onChange}\n        options={options}\n        user={{ name: \"Excalidraw User\" }}\n        onUsernameChange={onUsernameChange}\n      /&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"new-third-part-lib/excalidraw/#props","title":"Props","text":"Name Type Default Description width Number window.innerWidth The width of Excalidraw component height Number window.innerHeight The height of Excalidraw component initialData ExcalidrawElement[] [] The initial data with which app loads. onChange Function This callback is triggered whenever the component updates due to any change. This callback will receive the excalidraw elements and the current app state. options Object Each option has a default value. See options section for more details Options to be passed to Excalidraw user { name?: string } User details. The name refers to the name of the user to be shown onUsernameChange Function This callback is triggered whenever the username change. This callback receives the username."},{"location":"new-third-part-lib/excalidraw/#width","title":"width","text":"<p>This props defines the width of the Excalidraw component. Defaults to <code>window.innerWidth</code> if not passed.</p>"},{"location":"new-third-part-lib/excalidraw/#height","title":"height","text":"<p>This props defines the height of the Excalidraw component. Defaults to <code>window.innerHeight</code> if not passed.</p>"},{"location":"new-third-part-lib/excalidraw/#initialdata","title":"initialData","text":"<p>This helps to load Excalidraw with <code>initialData</code>. Defaults to <code>[]</code>. This should be array of ExcalidrawElement[] as shown below.</p> <pre><code>[\n  {\n    type: \"rectangle\",\n    version: 141,\n    versionNonce: 361174001,\n    isDeleted: false,\n    id: \"oDVXy8D6rom3H1-LLH2-f\",\n    fillStyle: \"hachure\",\n    strokeWidth: 1,\n    strokeStyle: \"solid\",\n    roughness: 1,\n    opacity: 100,\n    angle: 0,\n    x: 100.50390625,\n    y: 93.67578125,\n    strokeColor: \"#000000\",\n    backgroundColor: \"transparent\",\n    width: 186.47265625,\n    height: 141.9765625,\n    seed: 1968410350,\n    groupIds: [],\n  },\n];\n</code></pre> <p>You might want to use this if you are using some backend to store the excalidraw elements and want to preload excalidraw with those elements.</p>"},{"location":"new-third-part-lib/excalidraw/#onchange","title":"onChange","text":"<p>Every time component updates, this callback if passed will get triggered and has the below signature.</p> <pre><code>onChange(ExcalidrawElement[], AppState)\n</code></pre> <p>Here you can try saving the data to your backend or local storage for example.</p>"},{"location":"new-third-part-lib/excalidraw/#options","title":"options","text":"<p>These contains the options object with which you can control the initial rendering of Excalidraw. Currently it only contains the below keys, more to be added in future.</p> Name type default Description zenModeEnabled boolean false Decides whether to enable zen mode viewBackgroundColor string #fff The background color of Excalidraw <p>Here is how you use it</p> <pre><code>{ zenModeEnabled: true, viewBackgroundColor: \"AFEEEE\" }\n</code></pre>"},{"location":"new-third-part-lib/excalidraw/#user","title":"user","text":"<p>This is the user name which shows during collaboration. Defaults to <code>{name: ''}</code>. This is Object as later more attributes like user cursor colors can also be added.</p>"},{"location":"new-third-part-lib/excalidraw/#onusernamechange","title":"onUsernameChange","text":"<p>This callback if passed gets triggered whenever username changes and has the below signature</p> <pre><code>onUserNameChange(username);\n</code></pre>"},{"location":"new-third-part-lib/excalidraw/#local-installation","title":"Local Installation","text":"<p>These instructions will get you a copy of the project up and running on your local machine for development and testing purposes.</p>"},{"location":"new-third-part-lib/excalidraw/#clone-the-repo","title":"Clone the repo","text":"<pre><code>git clone https://github.com/excalidraw/excalidraw-embed.git\n</code></pre>"},{"location":"new-third-part-lib/excalidraw/#commands","title":"Commands","text":"Command Description <code>npm install</code> Install the dependencies <code>npm start</code> Run the project <code>npm run fix</code> Reformat all files with Prettier <code>npm test</code> Run tests <code>npm run test:update</code> Update test snapshots <code>npm run test:code</code> Test for formatting with Prettier"},{"location":"new-third-part-lib/excalidraw/#contributing","title":"Contributing","text":"<p>Currently this is a fork of excalidraw and all the changes for making it an embedable component are done on top of it. So for any changes, please open an issue first to discuss what you would like to change.</p>"},{"location":"new-third-part-lib/exif-js/","title":"exif-js","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5361  \u9605\u8bfb11\u5206\u949f</p>"},{"location":"new-third-part-lib/exif-js/#exif-js","title":"exif-js","text":""},{"location":"new-third-part-lib/exif-js/#version","title":"version","text":"<p>2.3.0\u00a0 </p>"},{"location":"new-third-part-lib/exif-js/#downloads","title":"downloads","text":"<p>135,480 </p>"},{"location":"new-third-part-lib/exif-js/#repository","title":"repository","text":"<p>github.com/exif-js/exif-js </p>"},{"location":"new-third-part-lib/exif-js/#homepage","title":"homepage","text":"<p>github.com/exif-js/exif-js </p>"},{"location":"new-third-part-lib/exif-js/#exifjs","title":"Exif.js","text":"<p>A JavaScript library for reading EXIF meta data from image files.</p> <p>You can use it on images in the browser, either from an image or a file input element. Both EXIF and IPTC metadata are retrieved. This package can also be used in AMD or CommonJS environments.</p> <p>Note : The EXIF standard applies only to <code>.jpg</code> and <code>.tiff</code> images. EXIF logic in this package is based on the EXIF standard v2.2 (JEITA CP-3451, included in this repo).</p>"},{"location":"new-third-part-lib/exif-js/#install","title":"Install","text":"<p>Install <code>exif-js</code> through NPM:</p> <pre><code>npm install exif-js --save\n</code></pre> <p>Or Bower:</p> <pre><code>bower install exif-js --save\n</code></pre> <p>Then add a <code>script</code> tag in your an HTML in the best position referencing your local file.</p> <pre><code>&lt;script src=\"vendors/exif-js/exif-js\"&gt;&lt;/script&gt;\n</code></pre> <p>Note : This repo has no <code>.min.js</code>. Do your own minification if you want that.</p> <p>If you prefer another package manager you will probably manage :D. Or you can clone this GIT repository or download it's ZIP file and extract <code>exif.js</code> to your project.</p>"},{"location":"new-third-part-lib/exif-js/#usage","title":"Usage","text":"<p>The package adds a global <code>EXIF</code> variable (or AMD or CommonJS equivalent).</p> <p>Start with calling the <code>EXIF.getData</code> function. You pass it an image as a parameter:</p> <ul> <li>either an image from a <code>&lt;img src=\"image.jpg\"&gt;</code></li> <li>OR a user selected image in a <code>&lt;file type=\"input\"&gt;</code> element on your page.</li> </ul> <p>As a second parameter you specify a callback function. In the callback function you should use <code>this</code> to access the image with the aforementioned metadata you can then use as you want. That image now has an extra <code>exifdata</code> property which is a Javascript object with the EXIF metadata. You can access it's properties to get data like the image caption , the date a photo was taken or it's orientation.</p> <p>You can get all tages with <code>EXIF.getTag</code>. Or get a single tag with <code>EXIF.getTag</code>, where you specify the tag as the second parameter. The tag names to use are listed in <code>EXIF.Tags</code> in <code>exif.js</code>.</p> <p>Important : Note that you have to wait for the image to be completely loaded, before calling <code>getData</code> or any other function. It will silently fail otherwise. You can implement this wait, by running your exif-extracting logic on the <code>window.onLoad</code> function. Or on an image's own <code>onLoad</code> function. For jQuery users please note that you can NOT (reliably) use jQuery's <code>ready</code> event for this. Because it fires before images are loaded. You could use $(window).load() instead of $(document.ready() (please note that `exif-js has NO dependency on jQuery or any other external library).</p> <p>JavaScript :</p> <pre><code>window.onload=getExif;\n\n\n\nfunction\u00a0getExif()\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0var\u00a0img1\u00a0=\u00a0document.getElementById(\"img1\");\n\n\u00a0\u00a0\u00a0\u00a0EXIF.getData(img1,\u00a0function()\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0var\u00a0make\u00a0=\u00a0EXIF.getTag(this,\u00a0\"Make\");\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0var\u00a0model\u00a0=\u00a0EXIF.getTag(this,\u00a0\"Model\");\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0var\u00a0makeAndModel\u00a0=\u00a0document.getElementById(\"makeAndModel\");\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0makeAndModel.innerHTML\u00a0=\u00a0`${make}\u00a0${model}`;\n\n\u00a0\u00a0\u00a0\u00a0});\n\n\n\n\u00a0\u00a0\u00a0\u00a0var\u00a0img2\u00a0=\u00a0document.getElementById(\"img2\");\n\n\u00a0\u00a0\u00a0\u00a0EXIF.getData(img2,\u00a0function()\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0var\u00a0allMetaData\u00a0=\u00a0EXIF.getAllTags(this);\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0var\u00a0allMetaDataSpan\u00a0=\u00a0document.getElementById(\"allMetaDataSpan\");\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0allMetaDataSpan.innerHTML\u00a0=\u00a0JSON.stringify(allMetaData,\u00a0null,\u00a0\"\\t\");\n\n\u00a0\u00a0\u00a0\u00a0});\n\n}\n</code></pre> <p>HTML :</p> <pre><code>&lt;img\u00a0src=\"image1.jpg\"\u00a0id=\"img1\"\u00a0/&gt;\n\n&lt;pre&gt;Make\u00a0and\u00a0model:\u00a0&lt;span\u00a0id=\"makeAndModel\"&gt;&lt;/span&gt;&lt;/div&gt;\n\n&lt;br/&gt;\n\n&lt;img\u00a0src=\"image2.jpg\"\u00a0id=\"img2\"\u00a0/&gt;\n\n&lt;pre\u00a0id=\"allMetaDataSpan\"&gt;&lt;/pre&gt;\n\n&lt;br/&gt;\n</code></pre> <p>Note there are also alternate tags, such the <code>EXIF.TiffTags</code>. See the source code for the full definition and use. You can also get back a string with all the EXIF information in the image pretty printed by using <code>EXIF.pretty</code>. Check the included index.html.</p> <p>Please refer to the source code for more advanced usages such as getting image data from a File/Blob object (<code>EXIF.readFromBinaryFile</code>).</p>"},{"location":"new-third-part-lib/exif-js/#contributions","title":"Contributions","text":"<p>This is an open source project. Please contribute by forking this repo and issueing a pull request. The project has had notable contributions already, like reading ITPC data.</p> <p>You can also contribute by filing bugs or new features please issue. Or improve the documentation. Please update this README when you do a pull request of proposed changes in base functionality.</p>"},{"location":"new-third-part-lib/express-rate-limit/","title":"261 express-rate-limit","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 800  \u9605\u8bfb2\u5206\u949f</p>"},{"location":"new-third-part-lib/express-rate-limit/#_1","title":"\u7528\u9014","text":"<p>\u9650\u5236 express \u7684\u8bf7\u6c42\u6b21\u6570\uff08\u907f\u514dAPI\u8bf7\u6c42\u6b21\u6570\u592a\u591a\uff09</p>"},{"location":"new-third-part-lib/express-rate-limit/#_2","title":"\u53ef\u9760\u6027","text":"<p>50\u591a\u4e07\u4e0b\u8f7d</p>"},{"location":"new-third-part-lib/express-rate-limit/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/express-rate-limit</p>"},{"location":"new-third-part-lib/express-rate-limit/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<p>For an API-only server where the rate-limiter should be applied to all requests:</p> <pre><code>const rateLimit = require(\"express-rate-limit\");\n\n// Enable if you're behind a reverse proxy (Heroku, Bluemix, AWS ELB, Nginx, etc)\n// see https://expressjs.com/en/guide/behind-proxies.html\n// app.set('trust proxy', 1);\n\nconst limiter = rateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  max: 100 // limit each IP to 100 requests per windowMs\n});\n\n//  apply to all requests\napp.use(limiter);\n</code></pre>"},{"location":"new-third-part-lib/express-rate-limit/#_5","title":"\u5176\u4ed6","text":"<p>\u8fd9\u4e2a\u662f express \u4e0a\u9762\u7684\u4e00\u4e2a\u5de5\u5177\uff0c\u9700\u8981\u5b66\u4f1a nginx \u7b49\u57fa\u672c\u4f7f\u7528\u624d\u884c</p>"},{"location":"new-third-part-lib/express/","title":"260 express","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1182  \u9605\u8bfb3\u5206\u949f</p>"},{"location":"new-third-part-lib/express/#_1","title":"\u7528\u9014","text":"<p>\u5feb\u901f\u3001\u72ec\u7acb\u3001\u7b80\u7ea6\u7684 Web \u6846\u67b6\u3002</p>"},{"location":"new-third-part-lib/express/#_2","title":"\u53ef\u9760\u6027","text":"<p>5w stars</p> <p>\u8fd9\u4e2a\u662f\u4e2d\u95f4\u5c42\u5e38\u7528\u7684\u6846\u67b6\uff0c\u672a\u6765\u9700\u8981\u6df1\u5ea6\u5b66\u4e60</p>"},{"location":"new-third-part-lib/express/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://expressjs.com/</p> <p>https://github.com/expressjs/express</p> <p>https://www.npmjs.com/package/express</p>"},{"location":"new-third-part-lib/express/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>const express = require('express')\nconst app = express()\nconst port = 3000\n\napp.get('/', (req, res) =&gt; {\n  res.send('Hello World!')\n})\n\napp.listen(port, () =&gt; {\n  console.log(`Example app listening at http://localhost:${port}`)\n})\n</code></pre>"},{"location":"new-third-part-lib/express/#_5","title":"\u5176\u4ed6","text":"<p>\u7a33\u5065\u7684\u8def\u7531 \u4e13\u6ce8\u4e8e\u9ad8\u6027\u80fd \u8d85\u9ad8\u7684\u6d4b\u8bd5\u8986\u76d6\u7387 HTTP \u5e2e\u52a9\u7a0b\u5e8f\uff08\u91cd\u5b9a\u5411\u3001\u7f13\u5b58\u7b49\uff09 \u67e5\u770b\u7cfb\u7edf\u652f\u6301 14+ \u6a21\u677f\u5f15\u64ce \u5185\u5bb9\u534f\u5546 \u53ef\u6267\u884c\u4ee5\u5feb\u901f\u751f\u6210\u5e94\u7528\u7a0b\u5e8f</p>"},{"location":"new-third-part-lib/express/#_6","title":"\u811a\u624b\u67b6","text":"<p>https://expressjs.com/en/starter/generator.html</p> <p>\u9879\u76ee\u67b6\u6784</p> <pre><code>.\n\u251c\u2500\u2500 app.js\n\u251c\u2500\u2500 bin\n\u2502   \u2514\u2500\u2500 www\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 public\n\u2502   \u251c\u2500\u2500 images\n\u2502   \u251c\u2500\u2500 javascripts\n\u2502   \u2514\u2500\u2500 stylesheets\n\u2502       \u2514\u2500\u2500 style.css\n\u251c\u2500\u2500 routes\n\u2502   \u251c\u2500\u2500 index.js\n\u2502   \u2514\u2500\u2500 users.js\n\u2514\u2500\u2500 views\n    \u251c\u2500\u2500 error.pug\n    \u251c\u2500\u2500 index.pug\n    \u2514\u2500\u2500 layout.pug\n</code></pre>"},{"location":"new-third-part-lib/file-loader/","title":"file-loader","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 20972  \u9605\u8bfb42\u5206\u949f</p>"},{"location":"new-third-part-lib/file-loader/#file-loader","title":"file-loader","text":""},{"location":"new-third-part-lib/file-loader/#version","title":"version","text":"<p>6.2.0\u00a0\u2022 </p>"},{"location":"new-third-part-lib/file-loader/#downloads","title":"downloads","text":"<p>10,046,080 </p>"},{"location":"new-third-part-lib/file-loader/#repository","title":"repository","text":"<p>github.com/webpack-contrib/file-loader </p>"},{"location":"new-third-part-lib/file-loader/#homepage","title":"homepage","text":"<p>github.com/webpack-contrib/file-loader </p>"},{"location":"new-third-part-lib/file-loader/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/file-loader/#file-loader_1","title":"file-loader","text":"<p>The <code>file-loader</code> resolves <code>import</code>/<code>require()</code> on a file into a url and emits the file into the output directory.</p>"},{"location":"new-third-part-lib/file-loader/#getting-started","title":"Getting Started","text":"<p>To begin, you'll need to install <code>file-loader</code>:</p> <pre><code>$\u00a0npm\u00a0install\u00a0file-loader\u00a0--save-dev\n</code></pre> <p>Import (or <code>require</code>) the target file(s) in one of the bundle's files:</p> <p>file.js</p> <pre><code>import\u00a0img\u00a0from\u00a0'./file.png';\n</code></pre> <p>Then add the loader to your <code>webpack</code> config. For example:</p> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpe?g|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'file-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre> <p>And run <code>webpack</code> via your preferred method. This will emit <code>file.png</code> as a file in the output directory (with the specified naming convention, if options are specified to do so) and returns the public URI of the file.</p> <p>\u2139\ufe0f By default the filename of the resulting file is the hash of the file's contents with the original extension of the required resource.</p>"},{"location":"new-third-part-lib/file-loader/#options","title":"Options","text":""},{"location":"new-third-part-lib/file-loader/#name","title":"<code>name</code>","text":"<p>Type: <code>String|Function</code> Default: <code>'[contenthash].[ext]'</code></p> <p>Specifies a custom filename template for the target file(s) using the query parameter <code>name</code>. For example, to emit a file from your <code>context</code> directory into the output directory retaining the full directory structure, you might use:</p>"},{"location":"new-third-part-lib/file-loader/#string","title":"<code>String</code>","text":"<p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpe?g|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'file-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name:\u00a0'[path][name].[ext]',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/file-loader/#function","title":"<code>Function</code>","text":"<p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpe?g|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'file-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name(resourcePath,\u00a0resourceQuery)\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0`resourcePath`\u00a0-\u00a0`/absolute/path/to/file.js`\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0`resourceQuery`\u00a0-\u00a0`?foo=bar`\n\n\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if\u00a0(process.env.NODE_ENV\u00a0===\u00a0'development')\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0'[path][name].[ext]';\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n\n\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0'[contenthash].[ext]';\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre> <p>\u2139\ufe0f By default the path and name you specify will output the file in that same directory, and will also use the same URI path to access the file.</p>"},{"location":"new-third-part-lib/file-loader/#outputpath","title":"<code>outputPath</code>","text":"<p>Type: <code>String|Function</code> Default: <code>undefined</code></p> <p>Specify a filesystem path where the target file(s) will be placed.</p>"},{"location":"new-third-part-lib/file-loader/#string_1","title":"<code>String</code>","text":"<p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpe?g|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'file-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0outputPath:\u00a0'images',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/file-loader/#function_1","title":"<code>Function</code>","text":"<p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpe?g|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'file-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0outputPath:\u00a0(url,\u00a0resourcePath,\u00a0context)\u00a0=&gt;\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0`resourcePath`\u00a0is\u00a0original\u00a0absolute\u00a0path\u00a0to\u00a0asset\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0`context`\u00a0is\u00a0directory\u00a0where\u00a0stored\u00a0asset\u00a0(`rootContext`)\u00a0or\u00a0`context`\u00a0option\n\n\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0To\u00a0get\u00a0relative\u00a0path\u00a0you\u00a0can\u00a0use\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0const\u00a0relativePath\u00a0=\u00a0path.relative(context,\u00a0resourcePath);\n\n\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if\u00a0(/my-custom-image\\.png/.test(resourcePath))\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0`other_output_path/${url}`;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n\n\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if\u00a0(/images/.test(context))\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0`image_output_path/${url}`;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n\n\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0`output_path/${url}`;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/file-loader/#publicpath","title":"<code>publicPath</code>","text":"<p>Type: <code>String|Function</code> Default: <code>__webpack_public_path__</code>+outputPath</p> <p>Specifies a custom public path for the target file(s).</p>"},{"location":"new-third-part-lib/file-loader/#string_2","title":"<code>String</code>","text":"<p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpe?g|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'file-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0publicPath:\u00a0'assets',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/file-loader/#function_2","title":"<code>Function</code>","text":"<p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpe?g|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'file-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0publicPath:\u00a0(url,\u00a0resourcePath,\u00a0context)\u00a0=&gt;\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0`resourcePath`\u00a0is\u00a0original\u00a0absolute\u00a0path\u00a0to\u00a0asset\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0`context`\u00a0is\u00a0directory\u00a0where\u00a0stored\u00a0asset\u00a0(`rootContext`)\u00a0or\u00a0`context`\u00a0option\n\n\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0To\u00a0get\u00a0relative\u00a0path\u00a0you\u00a0can\u00a0use\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0const\u00a0relativePath\u00a0=\u00a0path.relative(context,\u00a0resourcePath);\n\n\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if\u00a0(/my-custom-image\\.png/.test(resourcePath))\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0`other_public_path/${url}`;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n\n\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if\u00a0(/images/.test(context))\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0`image_output_path/${url}`;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n\n\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0`public_path/${url}`;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/file-loader/#posttransformpublicpath","title":"<code>postTransformPublicPath</code>","text":"<p>Type: <code>Function</code> Default: <code>undefined</code></p> <p>Specifies a custom function to post-process the generated public path. This can be used to prepend or append dynamic global variables that are only available at runtime, like <code>__webpack_public_path__</code>. This would not be possible with just <code>publicPath</code>, since it stringifies the values.</p> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpg|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'file-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0publicPath:\u00a0'/some/path/',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0postTransformPublicPath:\u00a0(p)\u00a0=&gt;\u00a0`__webpack_public_path__\u00a0+\u00a0${p}`,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/file-loader/#context","title":"<code>context</code>","text":"<p>Type: <code>String</code> Default: <code>context</code></p> <p>Specifies a custom file context.</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpe?g|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'file-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0context:\u00a0'project',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/file-loader/#emitfile","title":"<code>emitFile</code>","text":"<p>Type: <code>Boolean</code> Default: <code>true</code></p> <p>If true, emits a file (writes a file to the filesystem). If false, the loader will return a public URI but will not emit the file. It is often useful to disable this option for server-side packages.</p> <p>file.js</p> <pre><code>//\u00a0bundle\u00a0file\n\nimport\u00a0img\u00a0from\u00a0'./file.png';\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.css$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'file-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0emitFile:\u00a0false,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/file-loader/#regexp","title":"<code>regExp</code>","text":"<p>Type: <code>RegExp</code> Default: <code>undefined</code></p> <p>Specifies a Regular Expression to one or many parts of the target file path. The capture groups can be reused in the <code>name</code> property using <code>[N]</code> placeholder.</p> <p>file.js</p> <pre><code>import\u00a0img\u00a0from\u00a0'./customer01/file.png';\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpe?g|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'file-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0regExp:\u00a0/\\/([a-z0-9]+)\\/[a-z0-9]+\\.png$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name:\u00a0'[1]-[name].[ext]',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre> <p>\u2139\ufe0f If <code>[0]</code> is used, it will be replaced by the entire tested string, whereas <code>[1]</code> will contain the first capturing parenthesis of your regex and so on...</p>"},{"location":"new-third-part-lib/file-loader/#esmodule","title":"<code>esModule</code>","text":"<p>Type: <code>Boolean</code> Default: <code>true</code></p> <p>By default, <code>file-loader</code> generates JS modules that use the ES modules syntax. There are some cases in which using ES modules is beneficial, like in the case of module concatenation and tree shaking.</p> <p>You can enable a CommonJS module syntax using:</p> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.css$/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'file-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0esModule:\u00a0false,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/file-loader/#placeholders","title":"Placeholders","text":"<p>Full information about placeholders you can find here.</p>"},{"location":"new-third-part-lib/file-loader/#ext","title":"<code>[ext]</code>","text":"<p>Type: <code>String</code> Default: <code>file.extname</code></p> <p>The file extension of the target file/resource.</p>"},{"location":"new-third-part-lib/file-loader/#name_1","title":"<code>[name]</code>","text":"<p>Type: <code>String</code> Default: <code>file.basename</code></p> <p>The basename of the file/resource.</p>"},{"location":"new-third-part-lib/file-loader/#path","title":"<code>[path]</code>","text":"<p>Type: <code>String</code> Default: <code>file.directory</code></p> <p>The path of the resource relative to the webpack/config <code>context</code>.</p>"},{"location":"new-third-part-lib/file-loader/#folder","title":"<code>[folder]</code>","text":"<p>Type: <code>String</code> Default: <code>file.folder</code></p> <p>The folder of the resource is in.</p>"},{"location":"new-third-part-lib/file-loader/#query","title":"<code>[query]</code>","text":"<p>Type: <code>String</code> Default: <code>file.query</code></p> <p>The query of the resource, i.e. <code>?foo=bar</code>.</p>"},{"location":"new-third-part-lib/file-loader/#emoji","title":"<code>[emoji]</code>","text":"<p>Type: <code>String</code> Default: <code>undefined</code></p> <p>A random emoji representation of <code>content</code>.</p>"},{"location":"new-third-part-lib/file-loader/#emojilength","title":"<code>[emoji:&lt;length&gt;]</code>","text":"<p>Type: <code>String</code> Default: <code>undefined</code></p> <p>Same as above, but with a customizable number of emojis</p>"},{"location":"new-third-part-lib/file-loader/#hash","title":"<code>[hash]</code>","text":"<p>Type: <code>String</code> Default: <code>md4</code></p> <p>Specifies the hash method to use for hashing the file content.</p>"},{"location":"new-third-part-lib/file-loader/#contenthash","title":"<code>[contenthash]</code>","text":"<p>Type: <code>String</code> Default: <code>md4</code></p> <p>Specifies the hash method to use for hashing the file content.</p>"},{"location":"new-third-part-lib/file-loader/#hashtypehashdigesttypelength","title":"<code>[&lt;hashType&gt;:hash:&lt;digestType&gt;:&lt;length&gt;]</code>","text":"<p>Type: <code>String</code></p> <p>The hash of options.content (Buffer) (by default it's the hex digest of the hash).</p>"},{"location":"new-third-part-lib/file-loader/#digesttype","title":"<code>digestType</code>","text":"<p>Type: <code>String</code> Default: <code>'hex'</code></p> <p>The digest that the hash function should use. Valid values include: base26, base32, base36, base49, base52, base58, base62, base64, and hex.</p>"},{"location":"new-third-part-lib/file-loader/#hashtype","title":"<code>hashType</code>","text":"<p>Type: <code>String</code> Default: <code>'md4'</code></p> <p>The type of hash that the has function should use. Valid values include: <code>md4</code>, <code>md5</code>, <code>sha1</code>, <code>sha256</code>, and <code>sha512</code>.</p>"},{"location":"new-third-part-lib/file-loader/#length","title":"<code>length</code>","text":"<p>Type: <code>Number</code> Default: <code>undefined</code></p> <p>Users may also specify a length for the computed hash.</p>"},{"location":"new-third-part-lib/file-loader/#n","title":"<code>[N]</code>","text":"<p>Type: <code>String</code> Default: <code>undefined</code></p> <p>The n-th match obtained from matching the current file name against the <code>regExp</code>.</p>"},{"location":"new-third-part-lib/file-loader/#examples","title":"Examples","text":""},{"location":"new-third-part-lib/file-loader/#names","title":"Names","text":"<p>The following examples show how one might use <code>file-loader</code> and what the result would be.</p> <p>file.js</p> <pre><code>import\u00a0png\u00a0from\u00a0'./image.png';\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpe?g|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'file-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name:\u00a0'dirname/[contenthash].[ext]',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre> <p>Result:</p> <pre><code>#\u00a0result\n\ndirname/0dcbbaa701328ae351f.png\n</code></pre> <p>file.js</p> <pre><code>import\u00a0png\u00a0from\u00a0'./image.png';\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpe?g|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'file-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name:\u00a0'[sha512:hash:base64:7].[ext]',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre> <p>Result:</p> <pre><code>#\u00a0result\n\ngdyb21L.png\n</code></pre> <p>file.js</p> <pre><code>import\u00a0png\u00a0from\u00a0'./path/to/file.png';\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpe?g|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'file-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name:\u00a0'[path][name].[ext]?[contenthash]',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre> <p>Result:</p> <pre><code>#\u00a0result\n\npath/to/file.png?e43b20c069c4a01867c31e98cbce33c9\n</code></pre>"},{"location":"new-third-part-lib/file-loader/#cdn","title":"CDN","text":"<p>The following examples show how to use <code>file-loader</code> for CDN uses query params.</p> <p>file.js</p> <pre><code>import\u00a0png\u00a0from\u00a0'./directory/image.png?width=300&amp;height=300';\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0output:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0publicPath:\u00a0'https://cdn.example.com/',\n\n\u00a0\u00a0},\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpe?g|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'file-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name:\u00a0'[path][name].[ext][query]',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre> <p>Result:</p> <pre><code>#\u00a0result\n\nhttps://cdn.example.com/directory/image.png?width=300&amp;height=300\n</code></pre>"},{"location":"new-third-part-lib/file-loader/#dynamic-public-path-depending-on-environment-variable-at-run-time","title":"Dynamic public path depending on environment variable at run time","text":"<p>An application might want to configure different CDN hosts depending on an environment variable that is only available when running the application. This can be an advantage, as only one build of the application is necessary, which behaves differently depending on environment variables of the deployment environment. Since file-loader is applied when compiling the application, and not when running it, the environment variable cannot be used in the file- loader configuration. A way around this is setting the <code>__webpack_public_path__</code> to the desired CDN host depending on the environment variable at the entrypoint of the application. The option <code>postTransformPublicPath</code> can be used to configure a custom path depending on a variable like <code>__webpack_public_path__</code>.</p> <p>main.js</p> <pre><code>const\u00a0assetPrefixForNamespace\u00a0=\u00a0(namespace)\u00a0=&gt;\u00a0{\n\n\u00a0\u00a0switch\u00a0(namespace)\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0case\u00a0'prod':\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0'https://cache.myserver.net/web';\n\n\u00a0\u00a0\u00a0\u00a0case\u00a0'uat':\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0'https://cache-uat.myserver.net/web';\n\n\u00a0\u00a0\u00a0\u00a0case\u00a0'st':\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0'https://cache-st.myserver.net/web';\n\n\u00a0\u00a0\u00a0\u00a0case\u00a0'dev':\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0'https://cache-dev.myserver.net/web';\n\n\u00a0\u00a0\u00a0\u00a0default:\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0'';\n\n\u00a0\u00a0}\n\n};\n\nconst\u00a0namespace\u00a0=\u00a0process.env.NAMESPACE;\n\n\n\n__webpack_public_path__\u00a0=\u00a0`${assetPrefixForNamespace(namespace)}/`;\n</code></pre> <p>file.js</p> <pre><code>import\u00a0png\u00a0from\u00a0'./image.png';\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpg|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'file-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name:\u00a0'[name].[contenthash].[ext]',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0outputPath:\u00a0'static/assets/',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0publicPath:\u00a0'static/assets/',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0postTransformPublicPath:\u00a0(p)\u00a0=&gt;\u00a0`__webpack_public_path__\u00a0+\u00a0${p}`,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre> <p>Result when run with <code>NAMESPACE=prod</code> env variable:</p> <pre><code>#\u00a0result\n\nhttps://cache.myserver.net/web/static/assets/image.somehash.png\n</code></pre> <p>Result when run with <code>NAMESPACE=dev</code> env variable:</p> <pre><code>#\u00a0result\n\nhttps://cache-dev.myserver.net/web/static/assets/image.somehash.png\n</code></pre>"},{"location":"new-third-part-lib/file-loader/#contributing","title":"Contributing","text":"<p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p>CONTRIBUTING</p>"},{"location":"new-third-part-lib/file-loader/#license","title":"License","text":"<p>MIT</p>"},{"location":"new-third-part-lib/file-saver/","title":"file-saver","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 324  \u9605\u8bfb1\u5206\u949f</p> <p>\u7528\u4e8e\u6587\u4ef6\u4fdd\u5b58</p> <p>https://www.npmjs.com/package/file-saver</p> <pre><code>import { saveAs } from 'file-saver';\n\nFileSaver saveAs(Blob/File/Url, optional DOMString filename, optional Object { autoBom })\n</code></pre> <p>\u5468\u4e0b\u8f7d\u91cf 280W</p>"},{"location":"new-third-part-lib/form-data/","title":"form-data","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 11567  \u9605\u8bfb24\u5206\u949f</p>"},{"location":"new-third-part-lib/form-data/#form-data","title":"form-data","text":""},{"location":"new-third-part-lib/form-data/#version","title":"version","text":"<p>4.0.0\u00a0 </p>"},{"location":"new-third-part-lib/form-data/#downloads","title":"downloads","text":"<p>74,530,616 </p>"},{"location":"new-third-part-lib/form-data/#repository","title":"repository","text":"<p>github.com/form-data/form-data </p>"},{"location":"new-third-part-lib/form-data/#homepage","title":"homepage","text":"<p>github.com/form-data/form-data#readme </p>"},{"location":"new-third-part-lib/form-data/#form-data_1","title":"Form-Data","text":""},{"location":"new-third-part-lib/form-data/#install","title":"Install","text":"<pre><code>npm install --save form-data\n</code></pre>"},{"location":"new-third-part-lib/form-data/#usage","title":"Usage","text":"<p>In this example we are constructing a form with 3 fields that contain a string, a buffer and a file stream.</p> <pre><code>var FormData = require('form-data');\nvar fs = require('fs');\n\nvar form = new FormData();\nform.append('my_field', 'my value');\nform.append('my_buffer', new Buffer(10));\nform.append('my_file', fs.createReadStream('/foo/bar.jpg'));\n</code></pre> <p>Also you can use http-response stream:</p> <pre><code>var FormData = require('form-data');\nvar http = require('http');\n\nvar form = new FormData();\n\nhttp.request('http://nodejs.org/images/logo.png', function(response) {\n  form.append('my_field', 'my value');\n  form.append('my_buffer', new Buffer(10));\n  form.append('my_logo', response);\n});\n</code></pre> <p>Or @mikeal's request stream:</p> <pre><code>var FormData = require('form-data');\nvar request = require('request');\n\nvar form = new FormData();\n\nform.append('my_field', 'my value');\nform.append('my_buffer', new Buffer(10));\nform.append('my_logo', request('http://nodejs.org/images/logo.png'));\n</code></pre> <p>In order to submit this form to a web application, call <code>submit(url, [callback])</code> method:</p> <pre><code>form.submit('http://example.org/', function(err, res) {\n  // res \u2013 response object (http.IncomingMessage)  //\n  res.resume();\n});\n</code></pre> <p>For more advanced request manipulations <code>submit()</code> method returns <code>http.ClientRequest</code> object, or you can choose from one of the alternative submission methods.</p>"},{"location":"new-third-part-lib/form-data/#custom-options","title":"Custom options","text":"<p>You can provide custom options, such as <code>maxDataSize</code>:</p> <pre><code>var FormData = require('form-data');\n\nvar form = new FormData({ maxDataSize: 20971520 });\nform.append('my_field', 'my value');\nform.append('my_buffer', /* something big */);\n</code></pre> <p>List of available options could be found in combined- stream</p>"},{"location":"new-third-part-lib/form-data/#alternative-submission-methods","title":"Alternative submission methods","text":"<p>You can use node's http client interface:</p> <pre><code>var http = require('http');\n\nvar request = http.request({\n  method: 'post',\n  host: 'example.org',\n  path: '/upload',\n  headers: form.getHeaders()\n});\n\nform.pipe(request);\n\nrequest.on('response', function(res) {\n  console.log(res.statusCode);\n});\n</code></pre> <p>Or if you would prefer the <code>'Content-Length'</code> header to be set for you:</p> <pre><code>form.submit('example.org/upload', function(err, res) {\n  console.log(res.statusCode);\n});\n</code></pre> <p>To use custom headers and pre-known length in parts:</p> <pre><code>var CRLF = '\\r\\n';\nvar form = new FormData();\n\nvar options = {\n  header: CRLF + '--' + form.getBoundary() + CRLF + 'X-Custom-Header: 123' + CRLF + CRLF,\n  knownLength: 1\n};\n\nform.append('my_buffer', buffer, options);\n\nform.submit('http://example.com/', function(err, res) {\n  if (err) throw err;\n  console.log('Done');\n});\n</code></pre> <p>Form-Data can recognize and fetch all the required information from common types of streams (<code>fs.readStream</code>, <code>http.response</code> and <code>mikeal's request</code>), for some other types of streams you'd need to provide \"file\"-related information manually:</p> <pre><code>someModule.stream(function(err, stdout, stderr) {\n  if (err) throw err;\n\n  var form = new FormData();\n\n  form.append('file', stdout, {\n    filename: 'unicycle.jpg', // ... or:\n    filepath: 'photos/toys/unicycle.jpg',\n    contentType: 'image/jpeg',\n    knownLength: 19806\n  });\n\n  form.submit('http://example.com/', function(err, res) {\n    if (err) throw err;\n    console.log('Done');\n  });\n});\n</code></pre> <p>The <code>filepath</code> property overrides <code>filename</code> and may contain a relative path. This is typically used when uploading multiple files from a directory.</p> <p>For edge cases, like POST request to URL with query string or to pass HTTP auth credentials, object can be passed to <code>form.submit()</code> as first parameter:</p> <pre><code>form.submit({\n  host: 'example.com',\n  path: '/probably.php?extra=params',\n  auth: 'username:password'\n}, function(err, res) {\n  console.log(res.statusCode);\n});\n</code></pre> <p>In case you need to also send custom HTTP headers with the POST request, you can use the <code>headers</code> key in first parameter of <code>form.submit()</code>:</p> <pre><code>form.submit({\n  host: 'example.com',\n  path: '/surelynot.php',\n  headers: {'x-test-header': 'test-header-value'}\n}, function(err, res) {\n  console.log(res.statusCode);\n});\n</code></pre>"},{"location":"new-third-part-lib/form-data/#methods","title":"Methods","text":"<ul> <li>Void append( String field , Mixed value [, Mixed options] ).</li> <li>Headers getHeaders( [Headers userHeaders] )</li> <li>String getBoundary()</li> <li>Void setBoundary()</li> <li>Buffer getBuffer()</li> <li>Integer getLengthSync()</li> <li>Integer getLength( function callback )</li> <li>Boolean hasKnownLength()</li> <li>Request submit( params , function callback )</li> <li>String toString()</li> </ul>"},{"location":"new-third-part-lib/form-data/#void-append-string-field-mixed-value-mixed","title":"Void append( String field , Mixed value [, Mixed","text":"<p>options] )</p> <p>Append data to the form. You can submit about any format (string, integer, boolean, buffer, etc.). However, Arrays are not supported and need to be turned into strings by the user.</p> <pre><code>var form = new FormData();\nform.append( 'my_string', 'my value' );\nform.append( 'my_integer', 1 );\nform.append( 'my_boolean', true );\nform.append( 'my_buffer', new Buffer(10) );\nform.append( 'my_array_as_json', JSON.stringify( ['bird','cute'] ) )\n</code></pre> <p>You may provide a string for options, or an object.</p> <pre><code>// Set filename by providing a string for options\nform.append( 'my_file', fs.createReadStream('/foo/bar.jpg'), 'bar.jpg' );\n\n// provide an object.\nform.append( 'my_file', fs.createReadStream('/foo/bar.jpg'), {filename: 'bar.jpg', contentType: 'image/jpeg', knownLength: 19806} );\n</code></pre>"},{"location":"new-third-part-lib/form-data/#headers-getheaders-headers-userheaders","title":"Headers getHeaders( [Headers userHeaders] )","text":"<p>This method adds the correct <code>content-type</code> header to the provided array of <code>userHeaders</code>.</p>"},{"location":"new-third-part-lib/form-data/#string-getboundary","title":"String getBoundary()","text":"<p>Return the boundary of the formData. By default, the boundary consists of 26 <code>-</code> followed by 24 numbers for example:</p> <pre><code>--------------------------515890814546601021194782\n</code></pre>"},{"location":"new-third-part-lib/form-data/#void-setboundarystring-boundary","title":"Void setBoundary(String boundary)","text":"<p>Set the boundary string, overriding the default behavior described above.</p> <p>Note: The boundary must be unique and may not appear in the data.</p>"},{"location":"new-third-part-lib/form-data/#buffer-getbuffer","title":"Buffer getBuffer()","text":"<p>Return the full formdata request package, as a Buffer. You can insert this Buffer in e.g. Axios to send multipart data.</p> <pre><code>var form = new FormData();\nform.append( 'my_buffer', Buffer.from([0x4a,0x42,0x20,0x52,0x6f,0x63,0x6b,0x73]) );\nform.append( 'my_file', fs.readFileSync('/foo/bar.jpg') );\n\naxios.post( 'https://example.com/path/to/api',\n            form.getBuffer(),\n            form.getHeaders()\n          )\n</code></pre> <p>Note: Because the output is of type Buffer, you can only append types that are accepted by Buffer: string, Buffer, ArrayBuffer, Array, or Array-like Object. A ReadStream for example will result in an error.</p>"},{"location":"new-third-part-lib/form-data/#integer-getlengthsync","title":"Integer getLengthSync()","text":"<p>Same as <code>getLength</code> but synchronous.</p> <p>Note: getLengthSync**doesn't** calculate streams length.</p>"},{"location":"new-third-part-lib/form-data/#integer-getlength-function-callback","title":"Integer getLength( function callback )","text":"<p>Returns the <code>Content-Length</code> async. The callback is used to handle errors and continue once the length has been calculated</p> <pre><code>this.getLength(function(err, length) {\n  if (err) {\n    this._error(err);\n    return;\n  }\n\n  // add content length\n  request.setHeader('Content-Length', length);\n\n  ...\n}.bind(this));\n</code></pre>"},{"location":"new-third-part-lib/form-data/#boolean-hasknownlength","title":"Boolean hasKnownLength()","text":"<p>Checks if the length of added values is known.</p>"},{"location":"new-third-part-lib/form-data/#request-submit-params-function-callback","title":"Request submit( params , function callback )","text":"<p>Submit the form to a web application.</p> <pre><code>var form = new FormData();\nform.append( 'my_string', 'Hello World' );\n\nform.submit( 'http://example.com/', function(err, res) {\n  // res \u2013 response object (http.IncomingMessage)  //\n  res.resume();\n} );\n</code></pre>"},{"location":"new-third-part-lib/form-data/#string-tostring","title":"String toString()","text":"<p>Returns the form data as a string. Don't use this if you are sending files or buffers, use <code>getBuffer()</code> instead.</p>"},{"location":"new-third-part-lib/form-data/#integration-with-other-libraries","title":"Integration with other libraries","text":""},{"location":"new-third-part-lib/form-data/#request","title":"Request","text":"<p>Form submission using request:</p> <pre><code>var formData = {\n  my_field: 'my_value',\n  my_file: fs.createReadStream(__dirname + '/unicycle.jpg'),\n};\n\nrequest.post({url:'http://service.com/upload', formData: formData}, function(err, httpResponse, body) {\n  if (err) {\n    return console.error('upload failed:', err);\n  }\n  console.log('Upload successful!  Server responded with:', body);\n});\n</code></pre> <p>For more details see request readme.</p>"},{"location":"new-third-part-lib/form-data/#node-fetch","title":"node-fetch","text":"<p>You can also submit a form using node-fetch:</p> <pre><code>var form = new FormData();\n\nform.append('a', 1);\n\nfetch('http://example.com', { method: 'POST', body: form })\n    .then(function(res) {\n        return res.json();\n    }).then(function(json) {\n        console.log(json);\n    });\n</code></pre>"},{"location":"new-third-part-lib/form-data/#axios","title":"axios","text":"<p>In Node.js you can post a file using axios:</p> <pre><code>const form = new FormData();\nconst stream = fs.createReadStream(PATH_TO_FILE);\n\nform.append('image', stream);\n\n// In Node.js environment you need to set boundary in the header field 'Content-Type' by calling method `getHeaders`\nconst formHeaders = form.getHeaders();\n\naxios.post('http://example.com', form, {\n  headers: {\n    ...formHeaders,\n  },\n})\n.then(response =&gt; response)\n.catch(error =&gt; error)\n</code></pre>"},{"location":"new-third-part-lib/form-data/#notes","title":"Notes","text":"<ul> <li><code>getLengthSync()</code> method DOESN'T calculate length for streams, use <code>knownLength</code> options as workaround.</li> <li><code>getLength(cb)</code> will send an error as first parameter of callback if stream length cannot be calculated (e.g. send in custom streams w/o using <code>knownLength</code>).</li> <li><code>submit</code> will not add <code>content-length</code> if form length is unknown or not calculable.</li> <li>Starting version <code>2.x</code> FormData has dropped support for <code>node@0.10.x</code>.</li> <li>Starting version <code>3.x</code> FormData has dropped support for <code>node@4.x</code>.</li> </ul>"},{"location":"new-third-part-lib/form-data/#license","title":"License","text":"<p>Form-Data is released under the MIT license.</p>"},{"location":"new-third-part-lib/formik/","title":"Formik","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5287  \u9605\u8bfb11\u5206\u949f</p> <p>Build forms in React, without the tears.</p> <p>\u5b98\u65b9\u94fe\u63a5\uff1ahttps://github.com/jaredpalmer/formik</p>"},{"location":"new-third-part-lib/formik/#react","title":"React \u4e2d\u8868\u5355\u5df2\u6709\u7684\u95ee\u9898","text":"<p>\u5728 React \u6846\u67b6\u4e2d\uff0c\u72b6\u6001\u9a71\u52a8\u6570\u636e\u6d41\uff0c\u5982\u679c\u8868\u5355\u9879\u6bd4\u8f83\u591a\uff0c\u9700\u8981\u5bf9\u6bcf\u4e00\u4e2a\u8868\u5355\u9879\uff0c\u5355\u72ec\u8bbe\u7f6e\u4e00\u4e2a state\uff0c\u7136\u540e\u8bbe\u7f6e\u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u5982\u679c\u6709\u7279\u522b\u591a\u7684\u8868\u5355\uff0c\u90a3\u4e48\u9700\u8981\u7279\u522b\u591a\u7684\u72b6\u6001\u548c\u56de\u8c03\u51fd\u6570\uff0c\u4ee3\u7801\u5f88\u591a\u3002</p> <p>Formik \u5c31\u662f\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u5e93</p>"},{"location":"new-third-part-lib/formik/#_1","title":"\u5982\u4f55\u4f7f\u7528","text":"<p>\u5bfc\u5165 <code>import { Formik, Field, Form } from 'formik';</code> \u5177\u4f53\u4f7f\u7528\u7c7b\u4f3c\u8868\u5355</p> <p>\u5728\u8868\u5355\u4e2d\u8bbe\u7f6e\u4e00\u4e2a\u63d0\u4ea4\u6309\u94ae\uff0c\u70b9\u51fb\u540e\uff0c\u89e6\u53d1 Formik \u7684\u56de\u8c03\u51fd\u6570\uff0c\u5373\u53ef\u63d0\u4ea4\u8868\u5355\u3002</p> <p>\u5177\u4f53\u89c1\u4e24\u4e2a\u6848\u4f8b\u8bf4\u660e\u3002</p>"},{"location":"new-third-part-lib/formik/#_2","title":"\u4f7f\u7528\u60c5\u51b5","text":"<p>github 30K \u661f\u661f\uff0c\u4f7f\u7528 18K\uff0c\u529f\u80fd\u548c\u7a33\u5b9a\u6027\u6ca1\u95ee\u9898</p> <p>\u7f3a\u70b9\uff1a\u7b80\u5355\u7684\u8868\u5355\u63a7\u4ef6\uff0c\u6837\u5f0f\u4e0d\u662f\u5f88\u7f8e\u89c2\uff0c\u5176\u4ed6\u529f\u80fd\u4e0d\u662f\u5f88\u4e30\u5bcc</p>"},{"location":"new-third-part-lib/formik/#_3","title":"\u5b9e\u9645\u6848\u4f8b","text":"<pre><code>{\n  \"name\": \"formik-example-basic\",\n  \"version\": \"0.1.0\",\n  \"description\": \"This example demonstrates how to use Formik in it's most basic way\",\n  \"main\": \"index.js\",\n  \"dependencies\": {\n    \"react\": \"^16.12.0\",\n    \"react-dom\": \"^16.12.0\",\n    \"react-scripts\": \"3.4.1\",\n    \"formik\": \"latest\"\n  },\n  \"prettier\": {\n    \"trailingComma\": \"es5\",\n    \"singleQuote\": true,\n    \"semi\": true\n  }\n}\n</code></pre> <p>Demo-01</p> <pre><code>import React from 'react';\nimport ReactDOM from 'react-dom';\n// \u5f15\u5165\u8868\u5355\u7ec4\u4ef6\nimport { Formik, Field, Form } from 'formik';\n\nconst Basic = () =&gt; (\n  &lt;div&gt;\n    &lt;h1&gt;Sign Up&lt;/h1&gt;\n    &lt;Formik\n      // \u8bbe\u7f6e\u6bcf\u4e00\u4e2a\u9879\u7684\u521d\u59cb\u503c\n      initialValues={{\n        firstName: '',\n        lastName: '',\n        email: '',\n      }}\n      // \u8bbe\u7f6e\u56de\u8c03\u51fd\u6570\uff08\u70b9\u51fb\u63d0\u4ea4\u6309\u94ae\u540e\uff09\n      onSubmit={async (values) =&gt; {\n        await new Promise((r) =&gt; setTimeout(r, 500));\n        alert(JSON.stringify(values, null, 2));\n      }}\n    &gt;\n      &lt;Form&gt;\n        &lt;label htmlFor=\"firstName\"&gt;First Name&lt;/label&gt;\n        &lt;Field id=\"firstName\" name=\"firstName\" placeholder=\"Jane\" /&gt;\n\n        &lt;label htmlFor=\"lastName\"&gt;Last Name&lt;/label&gt;\n        &lt;Field id=\"lastName\" name=\"lastName\" placeholder=\"Doe\" /&gt;\n\n        &lt;label htmlFor=\"email\"&gt;Email&lt;/label&gt;\n        &lt;Field id=\"email\" name=\"email\" placeholder=\"jane@acme.com\" type=\"email\"/&gt;\n\n        &lt;button type=\"submit\"&gt;Submit&lt;/button&gt;\n      &lt;/Form&gt;\n    &lt;/Formik&gt;\n  &lt;/div&gt;\n);\n\nReactDOM.render(&lt;Basic /&gt;, document.getElementById('root'));\n</code></pre> <p>demo-02</p> <pre><code>import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Formik, Field, Form, ErrorMessage, FieldArray } from 'formik';\n\nconst initialValues = {\n  friends: [\n    {\n      name: '',\n      email: '',\n    },\n  ],\n};\n\nconst InviteFriends = () =&gt; (\n  &lt;div&gt;\n    &lt;h1&gt;Invite friends&lt;/h1&gt;\n    &lt;Formik\n      initialValues={initialValues}\n      onSubmit={async (values) =&gt; {\n        await new Promise((r) =&gt; setTimeout(r, 500));\n        alert(JSON.stringify(values, null, 2));\n      }}\n    &gt;\n      {/* \u8fd9\u91cc\u4f7f\u7528\u533f\u540d\u51fd\u6570\uff0c\u5904\u7406\u6570\u7ec4\u9879 */}\n      {({ values }) =&gt; (\n        &lt;Form&gt;\n          &lt;FieldArray name=\"friends\"&gt;\n            {/* \u8fd9\u91cc\u4e09\u4e2a\u51fd\u6570\uff0c\u79fb\u9664\u63d2\u5165\u65b0\u7684\u503c */}\n            {({ insert, remove, push }) =&gt; (\n              &lt;div&gt;\n                {values.friends.length &gt; 0 &amp;&amp;\n                  values.friends.map((friend, index) =&gt; (\n                    &lt;div className=\"row\" key={index}&gt;\n                      &lt;div className=\"col\"&gt;\n                        &lt;label htmlFor={`friends.${index}.name`}&gt;Name&lt;/label&gt;\n                        &lt;Field\n                          name={`friends.${index}.name`}\n                          placeholder=\"Jane Doe\"\n                          type=\"text\"\n                        /&gt;\n                        &lt;ErrorMessage\n                          name={`friends.${index}.name`}\n                          component=\"div\"\n                          className=\"field-error\"\n                        /&gt;\n                      &lt;/div&gt;\n                      &lt;div className=\"col\"&gt;\n                        &lt;label htmlFor={`friends.${index}.email`}&gt;Email&lt;/label&gt;\n                        &lt;Field\n                          name={`friends.${index}.email`}\n                          placeholder=\"jane@acme.com\"\n                          type=\"email\"\n                        /&gt;\n                        &lt;ErrorMessage\n                          name={`friends.${index}.name`}\n                          component=\"div\"\n                          className=\"field-error\"\n                        /&gt;\n                      &lt;/div&gt;\n                      &lt;div className=\"col\"&gt;\n                        &lt;button\n                          type=\"button\"\n                          className=\"secondary\"\n                          onClick={() =&gt; remove(index)}\n                        &gt;\n                          X\n                        &lt;/button&gt;\n                      &lt;/div&gt;\n                    &lt;/div&gt;\n                  ))}\n                &lt;button\n                  type=\"button\"\n                  className=\"secondary\"\n                  onClick={() =&gt; push({ name: '', email: '' })}\n                &gt;\n                  Add Friend\n                &lt;/button&gt;\n              &lt;/div&gt;\n            )}\n          &lt;/FieldArray&gt;\n          &lt;button type=\"submit\"&gt;Invite&lt;/button&gt;\n        &lt;/Form&gt;\n      )}\n    &lt;/Formik&gt;\n  &lt;/div&gt;\n);\n\nReactDOM.render(&lt;InviteFriends /&gt;, document.getElementById('root'));\n</code></pre>"},{"location":"new-third-part-lib/github-copilot-resources_copilot-metrics-viewer/","title":"github-copilot-resources/copilot-metrics-viewer","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2196  \u9605\u8bfb5\u5206\u949f</p> <p>https://github.com/github-copilot-resources/copilot-metrics-viewer</p> <p>star 200</p> <p>This application displays a set of charts with various metrics related to GitHub Copilot for your\u00a0GitHub Organization\u00a0or\u00a0Enterprise Account. These visualizations are designed to provide clear representations of the data, making it easy to understand and analyze the impact and adoption of GitHub Copilot. This app utilizes the\u00a0GitHub Copilot Metrics API.</p>"},{"location":"new-third-part-lib/github-copilot-resources_copilot-metrics-viewer/#github-copilot","title":"GitHub Copilot \u5f71\u54cd\u529b\u8bc4\u4f30\u5de5\u5177","text":"<p>\u4ed3\u5e93\u540d\u79f0\uff1agithub-copilot-resources/copilot-metrics-viewer \u622a\u6b62\u53d1\u7a3f\u661f\u6570: 185 (\u4eca\u65e5\u65b0\u589e:6) \u4ed3\u5e93\u8bed\u8a00: Vue \u4ed3\u5e93\u5f00\u6e90\u534f\u8bae\uff1aMIT License</p>"},{"location":"new-third-part-lib/github-copilot-resources_copilot-metrics-viewer/#_1","title":"\u5f15\u8a00","text":"<p>\u672c\u6587\u63a2\u8ba8\u4e86\u300cGitHub Copilot Metrics Viewer\u300d\u5de5\u5177\uff0c\u8be5\u5de5\u5177\u53ef\u89c6\u5316 GitHub Copilot \u7684\u4f7f\u7528\u6307\u6807\uff0c\u5e2e\u52a9\u7ec4\u7ec7\u5206\u6790\u5176\u5f71\u54cd\u548c\u91c7\u7528\u60c5\u51b5\u3002</p>"},{"location":"new-third-part-lib/github-copilot-resources_copilot-metrics-viewer/#_2","title":"\u9879\u76ee\u4f5c\u7528","text":"<p>\u8be5\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528 Vue.js \u6784\u5efa\uff0c\u5e76\u8c03\u7528 GitHub Copilot Metrics API \u4ee5\u63d0\u53d6\u6709\u5173\u63a5\u53d7\u7387\u3001\u603b\u5efa\u8bae\u3001\u603b\u63a5\u53d7\u7b49\u5173\u952e\u6307\u6807\u7684\u6570\u636e\u3002\u8fd9\u4e9b\u6307\u6807\u53ef\u7528\u4e8e\u8bc4\u4f30 Copilot \u5bf9\u5f00\u53d1\u4eba\u5458\u5de5\u4f5c\u6d41\u7a0b\u7684\u5f71\u54cd\u3002</p>"},{"location":"new-third-part-lib/github-copilot-resources_copilot-metrics-viewer/#_3","title":"\u4ed3\u5e93\u63cf\u8ff0","text":"<p>\u8981\u542f\u7528\u8be5\u5de5\u5177\uff0c\u9700\u8981\u5728 .env \u6587\u4ef6\u4e2d\u914d\u7f6e\u73af\u5883\u53d8\u91cf\u3002\u5c06 VUE_APP_SCOPE \u8bbe\u7f6e\u4e3a\u300centerprise\u300d\u6216\u300corganization\u300d\uff0c\u5e76\u63d0\u4f9b\u9002\u5f53\u7684\u4ee4\u724c\u548c\u5e10\u6237\u4fe1\u606f\u3002</p>"},{"location":"new-third-part-lib/github-copilot-resources_copilot-metrics-viewer/#_4","title":"\u6848\u4f8b","text":"<p>\u8be5\u5de5\u5177\u88ab\u5e7f\u6cdb\u7528\u4e8e\u8861\u91cf Copilot \u5bf9\u7ec4\u7ec7\u7684\u5f71\u54cd\uff0c\u4ee5\u53ca\u8bc6\u522b\u4fc3\u8fdb\u5176\u91c7\u7528\u7684\u6700\u4f73\u5b9e\u8df5\u3002</p>"},{"location":"new-third-part-lib/github-copilot-resources_copilot-metrics-viewer/#_5","title":"\u5ba2\u89c2\u8bc4\u6d4b\u6216\u5206\u6790","text":"<p>\u6b64\u5de5\u5177\u63d0\u4f9b\u4e86\u5bf9 Copilot \u4f7f\u7528\u60c5\u51b5\u7684\u6df1\u5165\u89c1\u89e3\uff0c\u4f7f\u7ec4\u7ec7\u80fd\u591f\u8ddf\u8e2a\u5176\u6548\u7387\u3001\u7528\u6237\u53c2\u4e0e\u5ea6\u548c\u4ee3\u7801\u751f\u6210\u80fd\u529b\u3002</p>"},{"location":"new-third-part-lib/github-copilot-resources_copilot-metrics-viewer/#_6","title":"\u4f7f\u7528\u5efa\u8bae","text":"<p>\u8be5\u5de5\u5177\u6700\u9002\u5408\u5e0c\u671b\u6df1\u5165\u4e86\u89e3 Copilot \u91c7\u7528\u60c5\u51b5\u548c\u5f71\u54cd\u7684\u7ec4\u7ec7\u548c\u5f00\u53d1\u4eba\u5458\u3002</p>"},{"location":"new-third-part-lib/github-copilot-resources_copilot-metrics-viewer/#_7","title":"\u7ed3\u8bba","text":"<p>GitHub Copilot Metrics Viewer \u662f\u4e00\u6b3e\u5b9d\u8d35\u7684\u5de5\u5177\uff0c\u53ef\u5e2e\u52a9\u7ec4\u7ec7\u638c\u63e1 Copilot \u5bf9\u5176\u5f00\u53d1\u5b9e\u8df5\u7684\u5f71\u54cd\u3002\u901a\u8fc7\u53ef\u89c6\u5316\u5173\u952e\u6307\u6807\uff0c\u8be5\u5de5\u5177\u4f7f\u7ec4\u7ec7\u80fd\u591f\u505a\u51fa\u660e\u667a\u7684\u51b3\u7b56\u5e76\u5b9e\u73b0 Copilot \u7684\u6700\u5927\u6f5c\u529b\u3002</p> <p>\u200b</p>"},{"location":"new-third-part-lib/glamor/","title":"glamor","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5442  \u9605\u8bfb11\u5206\u949f</p>"},{"location":"new-third-part-lib/glamor/#glamor","title":"glamor","text":""},{"location":"new-third-part-lib/glamor/#version","title":"version","text":"<p>2.20.40\u00a0 </p>"},{"location":"new-third-part-lib/glamor/#downloads","title":"downloads","text":"<p>87,101 </p>"},{"location":"new-third-part-lib/glamor/#repository","title":"repository","text":"<p>github.com/threepointone/glamor </p>"},{"location":"new-third-part-lib/glamor/#homepage","title":"homepage","text":"<p>github.com/threepointone/glamor </p>"},{"location":"new-third-part-lib/glamor/#glamor_1","title":"glamor","text":"<p>css in your javascript</p> <p><code>npm install glamor --save</code></p> <p>usage</p> <pre><code>import\u00a0{\u00a0css\u00a0}\u00a0from\u00a0'glamor'\n\n\n\n//\u00a0make\u00a0css\u00a0rules\n\nlet\u00a0rule\u00a0=\u00a0css({\n\n\u00a0\u00a0color:\u00a0'red',\n\n\u00a0\u00a0':hover':\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0color:\u00a0'pink'\n\n\u00a0\u00a0},\n\n\u00a0\u00a0'@media(min-width:\u00a0300px)':\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0color:\u00a0'green',\n\n\u00a0\u00a0\u00a0\u00a0':hover':\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0color:\u00a0'yellow'\n\n\u00a0\u00a0\u00a0\u00a0}\n\n\u00a0\u00a0}\n\n})\n\n\n\n//\u00a0add\u00a0as\u00a0data\u00a0attributes\n\n&lt;div\u00a0{...rule}\u00a0{...another}&gt;\n\n\u00a0\u00a0zomg\n\n&lt;/div&gt;\n\n\n\n//\u00a0or\u00a0as\u00a0classes\n\n&lt;div\u00a0className={`${rule}\u00a0${another}`}&gt;\n\n\u00a0\u00a0zomg\n\n&lt;/div&gt;\n\n\n\n//\u00a0merge\u00a0rules\u00a0for\u00a0great\u00a0justice\n\nlet\u00a0mono\u00a0=\u00a0css({\n\n\u00a0\u00a0fontFamily:\u00a0'monospace'\n\n})\n\n\n\nlet\u00a0bolder\u00a0=\u00a0css({\n\n\u00a0\u00a0fontWeight:\u00a0'bolder'\n\n})\n\n\n\n&lt;div\u00a0{...css(mono,\u00a0bolder)}&gt;\n\n\u00a0\u00a0bold\u00a0code!\n\n&lt;/div&gt;\n</code></pre>"},{"location":"new-third-part-lib/glamor/#motivation","title":"motivation","text":"<p>This expands on ideas from @vjeux's 2014 css-in-js talk. We introduce an api to annotate arbitrary dom nodes with style definitions (\"rules\") for, um, the greater good.</p>"},{"location":"new-third-part-lib/glamor/#features","title":"features","text":"<ul> <li>fast / efficient, with a fluent api</li> <li>framework independent</li> <li>adds vendor prefixes / fallback values</li> <li>supports all the pseudo :classes/::elements</li> <li><code>@media</code> queries</li> <li><code>@supports</code> statements</li> <li><code>@font-face</code> / <code>@keyframes</code></li> <li>escape hatches for parent / child / contextual selectors</li> <li>dev helper to simulate pseudo classes like <code>:hover</code>, etc</li> <li>server side / static rendering</li> <li>tests / coverage</li> <li>experimental - write real css, with syntax highlighting and linting</li> </ul> <p>(thanks to BrowserStack for providing the infrastructure that allows us to run our build in real browsers.)</p>"},{"location":"new-third-part-lib/glamor/#docs","title":"docs","text":"<ul> <li>api documentation</li> <li>howto - a comparison of css techniques in glamor</li> <li>plugins</li> <li>server side rendering</li> <li>performance tips</li> <li>what happens when I call css(...rules)?</li> </ul>"},{"location":"new-third-part-lib/glamor/#extras","title":"extras","text":"<ul> <li><code>glamor/reset</code> - include a css reset</li> <li>use a <code>css</code> prop on all your react elements</li> <li><code>glamor/react</code> - helpers for themes, <code>@vars</code></li> <li><code>glamor/jsxstyle</code> - react integration, \u00e0 la jsxstyle</li> <li><code>glamor/aphrodite</code> - shim for aphrodite stylesheets</li> <li><code>glamor/utils</code> - a port of postcss-utilities</li> <li><code>glamor/ous</code> - a port of the skeleton css framework</li> <li><code>glamor/styled</code> - an experimental port of styled-components</li> </ul>"},{"location":"new-third-part-lib/glamor/#speedy-mode","title":"speedy mode","text":"<p>there are two methods by which the library adds styles to the document -</p> <ul> <li>by appending css 'rules' to a browser backed stylesheet. This is really fast, but has the disadvantage of making the styles uneditable in the devtools sidebar.</li> <li>by appending text nodes to a style tag. This is fairly slow, but doesn't have the editing drawback.</li> </ul> <p>as a compromise, we enable the former 'speedy' mode <code>NODE_ENV=production</code>, and disable it otherwise. You can manually toggle this with the <code>speedy()</code> function.</p>"},{"location":"new-third-part-lib/glamor/#characteristics","title":"characteristics","text":"<p>while glamor shares most common attributes of other inline style / css-in-js systems, here are some key differences -</p> <ul> <li>uses 'real' stylesheets, so you can use all css features.</li> <li>rules can be used as data-attributes or classNames.</li> <li>simulate pseudo-classes with the <code>simulate</code> helper. very useful, especially when combined when hot-loading and/or editing directly in devtools.</li> <li>really fast, by way of deduping rules, and using insertRule in production.</li> </ul>"},{"location":"new-third-part-lib/glamor/#todo","title":"todo","text":"<ul> <li>redo all the docs</li> <li>planned enhancements</li> <li>notes on composition</li> </ul>"},{"location":"new-third-part-lib/glamor/#profit-profit","title":"profit, profit","text":"<p>I get it</p>"},{"location":"new-third-part-lib/gojs/","title":"GoJS \u57fa\u672c\u4f7f\u7528","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3294  \u9605\u8bfb7\u5206\u949f</p> <p>\u5b98\u7f51\u94fe\u63a5 https://gojs.net/latest/index.html</p> <p>A Web Framework for Rapidly Building Interactive Diagrams</p>"},{"location":"new-third-part-lib/gojs/#_1","title":"\u4e00\u3001\u524d\u8a00","text":"<p>GoJS\u662f\u4e00\u4e2a\u7ed8\u5236\u77e2\u91cf\u56fe\u7684\u524d\u7aef\u5e93\u3002Gojs\u63d0\u4f9b\u4e86\u5f88\u591aAPI\u7ed9\u6211\u4eec\u4f7f\u7528\uff0c\u4e0b\u9762\u53ea\u662f\u63d0\u4f9b\u5b8c\u6210\u5173\u7cfb\u56fe\u8868\uff08\u5982\u4e0b\u56fe\uff09\u7684\u67d0\u79cd\u65b9\u6cd5\uff0c\u7528\u5176\u4ed6\u65b9\u6cd5\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u540c\u6837\u7684\u6548\u679c\u3002</p> <p>image.png</p>"},{"location":"new-third-part-lib/gojs/#_2","title":"\u4e8c\u3001\u51c6\u5907\u56fe\u8868\u6570\u636e","text":"<p>1\u3001\u8282\u70b9\u6570\u636e\uff1a</p> <pre><code>let nodeDataArray = [\n  {key: \"iscroll\u5bb9\u5668-1\", name: \"iscroll\u5bb9\u5668-1\", compId: \"111\", color: \"pink\", cursor: \"grab\",loc: \"0 0\"},\n  {key: \"iscroll\u5bb9\u5668-2\", name: \"iscroll\u5bb9\u5668-1\", compId: \"222\", color: \"pink\", cursor: \"grab\",loc: \"0 -100\"},\n  ...\n];\n</code></pre> <p>2\u3001\u5173\u7cfb\u6570\u636e\uff1a</p> <pre><code>let relation = [\n  {from: \"111\", fromNodeType: \"component\", to: \"222\", toNodeType: \"event\"},\n  ...\n];\n</code></pre>"},{"location":"new-third-part-lib/gojs/#_3","title":"\u4e09\u3001\u5f00\u59cb\u753b\u56fe","text":"<p>\u7531\u4e0a\u56fe\u53ef\u4ee5\u5206\u6790\u5f97\u5230\uff0c\u56fe\u8868\u7531\u8282\u70b9\u3001\u6587\u5b57\u3001\u7ebf\u3001\u7bad\u5934\u7ec4\u6210\u3002  1\u3001\u521b\u5efa\u56fe\u8868</p> <pre><code>//'go-graph-diagram'\uff1a dom\u8282\u70b9id\nlet diagram = new go.Diagram('go-graph-diagram');\n</code></pre> <p>2\u3001\u65b0\u5efa\u8282\u70b9</p> <pre><code>let $ = go.GraphObject.make;\n//'Auto'\uff1a\u4e0ecss\u8bbe\u7f6ewidth:auto\u540c\u6837\u6548\u679c\ndiagram.nodeTemplate = $(go.Node, 'Auto',\n        {\n          // \u6dfb\u52a0\u70b9\u51fb\u4e8b\u4ef6\n          click: function(e, obj) {}\n        },\n         // \u5c06\u8282\u70b9\u6570\u636enodeDataArray .loc\u4e0e\u56fe\u8868\u4f4d\u7f6e\u5efa\u7acb\u8054\u7cfb\n         new go.Binding('position', 'loc', go.Point.parse),\n\n         //\u8bbe\u7f6e\u8282\u70b9\u5f62\u72b6\uff1a\u5e26\u5706\u89d2\u7684\u957f\u65b9\u5f62\n         $(go.Shape, 'RoundedRectangle',\n\n          // \u8bbe\u7f6e\u5927\u5c0f\uff0c\u8fb9\u6846\u5927\u5c0f\u3001\u989c\u8272\uff0c\u80cc\u666f\u8272\uff0c\u9f20\u6807\u624b\u52bf\n          {desiredSize: new go.Size(160, NaN), strokeWidth: 0, fill: 'white', cursor: 'grab'},\n          //\u5c06\u8282\u70b9\u6570\u636enodeDataArray .color\u4e0e\u8282\u70b9\u80cc\u666f\u8272\u5efa\u7acb\u8054\u7cfb\n          new go.Binding('fill', 'color'), \n         //\u5c06\u8282\u70b9\u6570\u636enodeDataArray .cursor\u4e0e\u8282\u70b9\u9f20\u6807\u624b\u52bf\u5efa\u7acb\u8054\u7cfb\n          new go.Binding('cursor', 'cursor')\n        ),\n        // \u8bbe\u7f6e\u6587\u672c\u8282\u70b9\n        $(go.TextBlock,\n          // \u8bbe\u7f6e\u6587\u672c\u6837\u5f0f\uff1a\u5927\u5c0f\uff0c\u662f\u5426\u6362\u884c\uff0cmargin\n          {\n            desiredSize: new go.Size(100, NaN),\n            wrap: go.TextBlock.WrapFit,\n            margin: 8\n          }, \n          // bind TextBlock.text to Node.data.name\n          new go.Binding('text', 'name'), \n          new go.Binding('cursor', 'cursor')\n        )\n      );\n</code></pre> <p>3\u3001\u8bbe\u7f6e\u7ebf\u6761\u548c\u7bad\u5934</p> <pre><code>this.diagram.linkTemplate = $(go.Link,\n        $(go.Shape, // the link shape\n          {strokeWidth: 2, stroke: 'white'}),\n        $(go.Shape, // the arrowhead\n          {toArrow: 'OpenTriangle',\n            fill: null, stroke: 'white'})\n      );\n</code></pre> <p>4\u3001\u5176\u4ed6\u8bbe\u7f6e</p> <pre><code>// \u5c06\u56fe\u8868\u5728\u753b\u5e03\u4e2d\u5c45\u4e2d\u663e\u793a\nthis.diagram.initialContentAlignment = go.Spot.Center;\n// \u64cd\u4f5c\u652f\u6301ctrl+z\u3001ctrl+Y \u5b9e\u73b0undo\u548credo\nthis.diagram.undoManager.isEnabled = true;\n</code></pre> <p>5\u3001\u65b0\u5efa\u5173\u7cfb\u56fe</p> <pre><code>// \u901a\u8fc7\u8282\u70b9\u6570\u636e\u548c\u5173\u7cfb\u6570\u7ec4\u5b8c\u6210\u5173\u7cfb\u56fe\u3002\nthis.diagram.model = new go.GraphLinksModel(nodeDataArray, relation); //nodeDataArray:graph, linkDataArray: relation\n</code></pre> <p>\u8fd9\u91cc\u53ea\u662f\u7b80\u5355\u4ecb\u7ecd\u5982\u4f55\u5feb\u901f\u5b8c\u6210\u4e00\u4e2a\u5173\u7cfb\u56fe\uff0c\u5f53\u7136\u5982\u679c\u4f60\u60f3\u6539\u6210\u6811\u5f62\u56fe\u6216\u8005\u6539\u7bad\u5934\u4e3a\u95ed\u5408\uff0c\u6539\u5f62\u72b6\u4e3a\u5706\u5f62\uff0c\u63d2\u5165\u56fe\u7247\u7b49\u7b49\uff0c\u5f3a\u5927\u7684gojs\u90fd\u80fd\u5e2e\u4f60\u5b9e\u73b0\uff0c\u800c\u4e14\u6709\u5b8c\u5584\u7684api\u548c\u4f8b\u5b50\u53ef\u4ee5\u53c2\u8003\u3002</p>"},{"location":"new-third-part-lib/html2canvas/","title":"html2canvas","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4508  \u9605\u8bfb10\u5206\u949f</p>"},{"location":"new-third-part-lib/html2canvas/#html2canvas","title":"html2canvas","text":""},{"location":"new-third-part-lib/html2canvas/#version","title":"version","text":"<p>1.4.1\u00a0 </p>"},{"location":"new-third-part-lib/html2canvas/#downloads","title":"downloads","text":"<p>1,849,229 </p>"},{"location":"new-third-part-lib/html2canvas/#repository","title":"repository","text":"<p>github.com/niklasvh/html2canvas </p>"},{"location":"new-third-part-lib/html2canvas/#homepage","title":"homepage","text":"<p>html2canvas.hertzen.com </p>"},{"location":"new-third-part-lib/html2canvas/#html2canvas_1","title":"html2canvas","text":"<p>Homepage | Downloads | Questions</p> <p> </p>"},{"location":"new-third-part-lib/html2canvas/#javascript-html-renderer","title":"JavaScript HTML renderer","text":"<p>The script allows you to take \"screenshots\" of webpages or parts of it, directly on the users browser. The screenshot is based on the DOM and as such may not be 100% accurate to the real representation as it does not make an actual screenshot, but builds the screenshot based on the information available on the page.</p>"},{"location":"new-third-part-lib/html2canvas/#how-does-it-work","title":"How does it work?","text":"<p>The script renders the current page as a canvas image, by reading the DOM and the different styles applied to the elements.</p> <p>It does not require any rendering from the server , as the whole image is created on the client's browser. However, as it is heavily dependent on the browser, this library is not suitable to be used in nodejs. It doesn't magically circumvent any browser content policy restrictions either, so rendering cross-origin content will require a proxy to get the content to the same origin.</p> <p>The script is still in a very experimental state , so I don't recommend using it in a production environment nor start building applications with it yet, as there will be still major changes made.</p>"},{"location":"new-third-part-lib/html2canvas/#browser-compatibility","title":"Browser compatibility","text":"<p>The library should work fine on the following browsers (with <code>Promise</code> polyfill):</p> <ul> <li>Firefox 3.5+</li> <li>Google Chrome</li> <li>Opera 12+</li> <li>IE9+</li> <li>Safari 6+</li> </ul> <p>As each CSS property needs to be manually built to be supported, there are a number of properties that are not yet supported.</p>"},{"location":"new-third-part-lib/html2canvas/#usage","title":"Usage","text":"<p>The html2canvas library utilizes <code>Promise</code>s and expects them to be available in the global context. If you wish to support older browsers that do not natively support <code>Promise</code>s, please include a polyfill such as es6-promise before including <code>html2canvas</code>.</p> <p>To render an <code>element</code> with html2canvas, simply call: <code>html2canvas(element[, options]);</code></p> <p>The function returns a Promise containing the <code>&lt;canvas&gt;</code> element. Simply add a promise fulfillment handler to the promise using <code>then</code>:</p> <pre><code>html2canvas(document.body).then(function(canvas) {\n    document.body.appendChild(canvas);\n});\n</code></pre>"},{"location":"new-third-part-lib/html2canvas/#building","title":"Building","text":"<p>You can download ready builds here.</p> <p>Clone git repository:</p> <pre><code>$ git clone git://github.com/niklasvh/html2canvas.git\n</code></pre> <p>Install dependencies:</p> <pre><code>$ npm install\n</code></pre> <p>Build browser bundle</p> <pre><code>$ npm run build\n</code></pre>"},{"location":"new-third-part-lib/html2canvas/#examples","title":"Examples","text":"<p>For more information and examples, please visit the homepage or try the test console.</p>"},{"location":"new-third-part-lib/html2canvas/#contributing","title":"Contributing","text":"<p>If you wish to contribute to the project, please send the pull requests to the develop branch. Before submitting any changes, try and test that the changes work with all the support browsers. If some CSS property isn't supported or is incomplete, please create appropriate tests for it as well before submitting any code changes.</p>"},{"location":"new-third-part-lib/http-server/","title":"http-server","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5426  \u9605\u8bfb11\u5206\u949f</p> <p>\u5728\u524d\u7aef\u9875\u9762\u4e2d\uff0c\u7ecf\u5e38\u4f1a\u5728\u6d4f\u89c8\u5668\u8fd0\u884cHTML\u9875\u9762\uff0c\u4ece\u672c\u5730\u6587\u4ef6\u5939\u4e2d\u76f4\u63a5\u6253\u5f00\u7684\u4e00\u822c\u90fd\u662f<code>file</code>\u534f\u8bae\uff0c\u5f53\u4ee3\u7801\u4e2d\u5b58\u5728<code>http</code>\u6216<code>https</code>\u7684\u94fe\u63a5\u65f6\uff0cHTML\u9875\u9762\u5c31\u65e0\u6cd5\u6b63\u5e38\u6253\u5f00\uff0c\u4e3a\u4e86\u89e3\u51b3\u8fd9\u79cd\u60c5\u51b5\uff0c\u9700\u8981\u5728\u5728\u672c\u5730\u5f00\u542f\u4e00\u4e2a\u672c\u5730\u7684\u670d\u52a1\u5668\u3002\u672c\u6587\u662f\u5229\u7528<code>node.js</code>\u4e2d\u7684<code>http-server</code>\uff0c\u5f00\u542f\u672c\u5730\u670d\u52a1\uff0c\u6b65\u9aa4\u5982\u4e0b\uff1a</p>"},{"location":"new-third-part-lib/http-server/#1-http-server","title":"1 \u4e0b\u8f7d http-server","text":"<p><code>npm install http-server -g</code></p>"},{"location":"new-third-part-lib/http-server/#2-http-server","title":"2 \u5f00\u542f http-server \u670d\u52a1","text":"<p>\u7ec8\u7aef\u8fdb\u5165\u76ee\u6807\u6587\u4ef6\u5939\uff1a</p> <pre><code>$ http-server -c-1\n# \uff08\u53ea\u8f93\u5165http-server\u7684\u8bdd\uff0c\u66f4\u65b0\u4e86\u4ee3\u7801\u540e\uff0c\u9875\u9762\u4e0d\u4f1a\u540c\u6b65\u66f4\u65b0\uff09\n# `-c`\u8bbe\u7f6e\u7f13\u5b58\u63a7\u5236\u6700\u5927\u6807\u5934\u7684\u7f13\u5b58\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09\uff0c\u4f8b\u5982\u201c-c10\u201d\u4e3a10\u79d2\uff08\u9ed8\u8ba4\u4e3a\u201c3600\u201d\uff09\u3002\u8981\u7981\u7528\u7f13\u5b58\uff0c\u8bf7\u4f7f\u7528\u201c-c-1\u201d\u3002\n\nStarting up http-server, serving ./\nAvailable on:\n  http://127.0.0.1:8080\n  http://192.168.8.196:8080\nHit CTRL-C to stop the server\n</code></pre>"},{"location":"new-third-part-lib/http-server/#3-http-server","title":"3 \u5173\u95ed <code>http-server</code>\u670d\u52a1","text":"<p>\u6309\u5feb\u6377\u952e CTRL-C\uff0c\u7ec8\u7aef\u663e\u793a<code>^Chttp-server stopped.</code>\u5373\u5173\u95ed\u670d\u52a1\u6210\u529f\u3002</p>"},{"location":"new-third-part-lib/http-server/#_1","title":"\u5b98\u65b9\u6587\u6863","text":"<p><code>http-server</code> is a simple, zero-configuration command-line http server. It is powerful enough for production usage, but it's simple and hackable enough to be used for testing, local development, and learning.</p>"},{"location":"new-third-part-lib/http-server/#installation","title":"Installation:","text":""},{"location":"new-third-part-lib/http-server/#globally-via-npm","title":"Globally via <code>npm</code>","text":"<pre><code>npm install --global http-server\n</code></pre> <p>This will install <code>http-server</code> globally so that it may be run from the command line anywhere.</p>"},{"location":"new-third-part-lib/http-server/#globally-via-homebrew","title":"Globally via Homebrew","text":"<pre><code>brew install http-server\n</code></pre>"},{"location":"new-third-part-lib/http-server/#running-on-demand","title":"Running on-demand:","text":"<p>Using <code>npx</code> you can run the script without installing it first:</p> <pre><code>npx http-server [path] [options]\n</code></pre>"},{"location":"new-third-part-lib/http-server/#usage","title":"Usage:","text":"<pre><code> http-server [path] [options]\n</code></pre> <p><code>[path]</code> defaults to <code>./public</code> if the folder exists, and <code>./</code> otherwise.</p> <p>Now you can visit http://localhost:8080 to view your server</p> <p>Note: Caching is on by default. Add <code>-c-1</code> as an option to disable caching\uff08\u7981\u7528\u7f13\u5b58\uff09.</p>"},{"location":"new-third-part-lib/http-server/#available-options","title":"Available Options:","text":"<p><code>-p</code> or <code>--port</code> Port to use (defaults to 8080)</p> <p><code>-a</code> Address to use (defaults to 0.0.0.0)</p> <p><code>-d</code> Show directory listings (defaults to <code>true</code>)</p> <p><code>-i</code> Display autoIndex (defaults to <code>true</code>)</p> <p><code>-g</code> or <code>--gzip</code> When enabled (defaults to <code>false</code>) it will serve <code>./public/some-file.js.gz</code> in place of <code>./public/some-file.js</code> when a gzipped version of the file exists and the request accepts gzip encoding. If brotli is also enabled, it will try to serve brotli first.</p> <p><code>-b</code> or <code>--brotli</code> When enabled (defaults to <code>false</code>) it will serve <code>./public/some-file.js.br</code> in place of <code>./public/some-file.js</code> when a brotli compressed version of the file exists and the request accepts <code>br</code> encoding. If gzip is also enabled, it will try to serve brotli first.</p> <p><code>-e</code> or <code>--ext</code> Default file extension if none supplied (defaults to <code>html</code>)</p> <p><code>-s</code> or <code>--silent</code> Suppress log messages from output</p> <p><code>--cors</code> Enable CORS via the <code>Access-Control-Allow-Origin</code> header</p> <p><code>-o [path]</code> Open browser window after starting the server. Optionally provide a URL path to open. e.g.: -o /other/dir/</p> <p><code>-c</code> Set cache time (in seconds) for cache-control max-age header, e.g. <code>-c10</code> for 10 seconds (defaults to <code>3600</code>). To disable caching, use <code>-c-1</code>.</p> <p><code>-U</code> or <code>--utc</code> Use UTC time format in log messages.</p> <p><code>--log-ip</code> Enable logging of the client's IP address (default: <code>false</code>).</p> <p><code>-P</code> or <code>--proxy</code> Proxies all requests which can't be resolved locally to the given url. e.g.: -P http://someurl.com</p> <p><code>--username</code> Username for basic authentication [none]</p> <p><code>--password</code> Password for basic authentication [none]</p> <p><code>-S</code> or <code>--ssl</code> Enable https.</p> <p><code>-C</code> or <code>--cert</code> Path to ssl cert file (default: <code>cert.pem</code>).</p> <p><code>-K</code> or <code>--key</code> Path to ssl key file (default: <code>key.pem</code>).</p> <p><code>-r</code> or <code>--robots</code> Provide a /robots.txt (whose content defaults to <code>User-agent: *\\nDisallow: /</code>)</p> <p><code>--no-dotfiles</code> Do not show dotfiles</p> <p><code>-h</code> or <code>--help</code> Print this list and exit.</p> <p><code>-v</code> or <code>--version</code> Print the version and exit.</p>"},{"location":"new-third-part-lib/http-server/#magic-files","title":"Magic Files","text":"<ul> <li><code>index.html</code> will be served as the default file to any directory requests.</li> <li><code>404.html</code> will be served if a file is not found. This can be used for Single-Page App (SPA) hosting to serve the entry page.</li> </ul>"},{"location":"new-third-part-lib/http-server/#catch-all-redirect","title":"Catch-all redirect","text":"<p>To implement a catch-all redirect, use the index page itself as the proxy with:</p> <pre><code>http-server --proxy http://localhost:8080?\n</code></pre> <p>Note the <code>?</code> at the end of the proxy URL. Thanks to @houston3 for this clever hack!</p>"},{"location":"new-third-part-lib/http-server/#tlsssl","title":"TLS/SSL","text":"<p>First, you need to make sure that openssl is installed correctly, and you have <code>key.pem</code> and <code>cert.pem</code> files. You can generate them using this command:</p> <pre><code>openssl req -newkey rsa:2048 -new -nodes -x509 -days 3650 -keyout key.pem -out cert.pem\n</code></pre> <p>You will be prompted with a few questions after entering the command. Use <code>127.0.0.1</code> as value for <code>Common name</code> if you want to be able to install the certificate in your OS's root certificate store or browser so that it is trusted.</p> <p>This generates a cert-key pair and it will be valid for 3650 days (about 10 years).</p> <p>Then you need to run the server with <code>-S</code> for enabling SSL and <code>-C</code> for your certificate file.</p> <pre><code>http-server -S -C cert.pem\n</code></pre> <p>This is what should be output if successful:</p> <pre><code>Starting up http-server, serving ./ through https\nAvailable on:\n  https:127.0.0.1:8080\n  https:192.168.1.101:8080\n  https:192.168.1.104:8080\nHit CTRL-C to stop the server\n</code></pre>"},{"location":"new-third-part-lib/i18next-browser-languagedetector/","title":"i18next-browser-languagedetector","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6157  \u9605\u8bfb13\u5206\u949f</p>"},{"location":"new-third-part-lib/i18next-browser-languagedetector/#i18next-browser-languagedetector","title":"i18next-browser-languagedetector","text":""},{"location":"new-third-part-lib/i18next-browser-languagedetector/#version","title":"version","text":"<p>8.0.0\u00a0 </p>"},{"location":"new-third-part-lib/i18next-browser-languagedetector/#downloads","title":"downloads","text":"<p>1,550,007 </p>"},{"location":"new-third-part-lib/i18next-browser-languagedetector/#repository","title":"repository","text":"<p>github.com/i18next/i18next-browser-languageDetector </p>"},{"location":"new-third-part-lib/i18next-browser-languagedetector/#homepage","title":"homepage","text":"<p>github.com/i18next/i18next-browser-languageDetector </p>"},{"location":"new-third-part-lib/i18next-browser-languagedetector/#introduction","title":"Introduction","text":"<p>This is an i18next language detection plugin used to detect user language in the browser, with support for:</p> <ul> <li>cookie (set cookie i18next=LANGUAGE)</li> <li>sessionStorage (set key i18nextLng=LANGUAGE)</li> <li>localStorage (set key i18nextLng=LANGUAGE)</li> <li>navigator (set browser language)</li> <li>querystring (append <code>?lng=LANGUAGE</code> to URL)</li> <li>htmlTag (add html language tag &lt;html lang=\"LANGUAGE\" ...)</li> <li>path (http://my.site.com/LANGUAGE/...)</li> <li>subdomain (http://LANGUAGE.site.com/...)</li> </ul>"},{"location":"new-third-part-lib/i18next-browser-languagedetector/#getting-started","title":"Getting started","text":"<p>Source can be loaded via npm, bower or downloaded from this repo.</p> <pre><code># npm package\n$ npm install i18next-browser-languagedetector\n\n# bower\n$ bower install i18next-browser-languagedetector\n</code></pre> <ul> <li>If you don't use a module loader it will be added to <code>window.i18nextBrowserLanguageDetector</code></li> </ul> <p>Wiring up:</p> <pre><code>import i18next from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\ni18next.use(LanguageDetector).init({\n  supportedLngs: ['de', 'en', 'fr'],\n  ...i18nextOptions\n});\n</code></pre> <p>As with all modules you can either pass the constructor function (class) to the <code>i18next.use</code> or to a concrete instance.</p> <p><code>supportedLngs</code> is optional, but allows i18next to pick the best match from the list of detected languages. If it's not set then <code>language</code> will be set to the first detected language, regardless of whether your application has translations for that language or not.</p>"},{"location":"new-third-part-lib/i18next-browser-languagedetector/#detector-options","title":"Detector Options","text":"<p>The default options can be foundhere.</p> <pre><code>{\n  // order and from where user language should be detected\n  order: ['querystring', 'cookie', 'localStorage', 'sessionStorage', 'navigator', 'htmlTag', 'path', 'subdomain'],\n\n  // keys or params to lookup language from\n  lookupQuerystring: 'lng',\n  lookupCookie: 'i18next',\n  lookupLocalStorage: 'i18nextLng',\n  lookupSessionStorage: 'i18nextLng',\n  lookupFromPathIndex: 0,\n  lookupFromSubdomainIndex: 0,\n\n  // cache user language on\n  caches: ['localStorage', 'cookie'],\n  excludeCacheFor: ['cimode'], // languages to not persist (cookie, localStorage)\n\n  // optional expiry and domain for set cookie\n  cookieMinutes: 10,\n  cookieDomain: 'myDomain',\n\n  // optional htmlTag with lang attribute, the default is:\n  htmlTag: document.documentElement,\n\n  // optional set cookie options, reference:[MDN Set-Cookie docs](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie)\n  cookieOptions: { path: '/', sameSite: 'strict' },\n\n  // optional conversion function used to modify the detected language code\n  convertDetectedLanguage: 'Iso15897',\n  convertDetectedLanguage: (lng) =&gt; lng.replace('-', '_')\n}\n</code></pre> <p>Options can be passed in:</p> <p>preferred - by setting options.detection in i18next.init:</p> <pre><code>import i18next from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\ni18next.use(LanguageDetector).init({\n  detection: options,\n});\n</code></pre> <p>on construction:</p> <pre><code>import LanguageDetector from 'i18next-browser-languagedetector';\nconst languageDetector = new LanguageDetector(null, options);\n</code></pre> <p>via calling init:</p> <pre><code>import LanguageDetector from 'i18next-browser-languagedetector';\nconst languageDetector = new LanguageDetector();\nlanguageDetector.init(options);\n</code></pre>"},{"location":"new-third-part-lib/i18next-browser-languagedetector/#adding-own-detection-functionality","title":"Adding own detection functionality","text":""},{"location":"new-third-part-lib/i18next-browser-languagedetector/#interface","title":"interface","text":"<pre><code>export default {\n  name: 'myDetectorsName',\n\n  lookup(options) {\n    // options -&gt; are passed in options\n    return 'en';\n  },\n\n  cacheUserLanguage(lng, options) {\n    // options -&gt; are passed in options\n    // lng -&gt; current language, will be called after init and on changeLanguage\n    // store it\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/i18next-browser-languagedetector/#adding-it","title":"adding it","text":"<pre><code>import LanguageDetector from 'i18next-browser-languagedetector';\nconst languageDetector = new LanguageDetector();\nlanguageDetector.addDetector(myDetector);\n\ni18next.use(languageDetector).init({\n  detection: options,\n});\n</code></pre> <p>Don't forget: You have to add the name of your detector (<code>myDetectorsName</code> in this case) to the <code>order</code> array in your <code>options</code> object. Without that, your detector won't be used. See the Detector Options section for more.</p> <p>localization as a service - locize.com</p> <p>Needing a translation management? Want to edit your translations with an InContext Editor? Use the orginal provided to you by the maintainers of i18next!</p> <p></p> <p>With using locize you directly support the future of i18next and react-i18next.</p>"},{"location":"new-third-part-lib/i18next-xhr-backend/","title":"i18next-xhr-backend","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5818  \u9605\u8bfb12\u5206\u949f</p>"},{"location":"new-third-part-lib/i18next-xhr-backend/#i18next-xhr-backend","title":"i18next-xhr-backend","text":""},{"location":"new-third-part-lib/i18next-xhr-backend/#version","title":"version","text":"<p>3.2.2\u00a0 </p>"},{"location":"new-third-part-lib/i18next-xhr-backend/#downloads","title":"downloads","text":"<p>142,420 </p>"},{"location":"new-third-part-lib/i18next-xhr-backend/#repository","title":"repository","text":"<p>github.com/i18next/i18next-xhr-backend </p>"},{"location":"new-third-part-lib/i18next-xhr-backend/#homepage","title":"homepage","text":"<p>github.com/i18next/i18next-xhr-backend </p>"},{"location":"new-third-part-lib/i18next-xhr-backend/#introduction","title":"Introduction","text":"<p>This is a simple i18next backend to be used in the browser. It will load resources from a backend server using the xhr API.</p>"},{"location":"new-third-part-lib/i18next-xhr-backend/#getting-started","title":"Getting started","text":"<p>Source can be loaded via npm, bower or downloaded from this repo.</p> <pre><code># npm package\n$ npm install i18next-xhr-backend\n\n# bower\n$ bower install i18next-xhr-backend\n</code></pre> <p>Wiring up:</p> <pre><code>import\u00a0i18next\u00a0from\u00a0'i18next';\n\nimport\u00a0XHR\u00a0from\u00a0'i18next-xhr-backend';\n\n\n\ni18next.use(XHR).init(i18nextOptions);\n</code></pre> <ul> <li>As with all modules you can either pass the constructor function (class) to the i18next.use or a concrete instance.</li> <li>If you don't use a module loader it will be added to <code>window.i18nextXHRBackend</code></li> </ul>"},{"location":"new-third-part-lib/i18next-xhr-backend/#backend-options","title":"Backend Options","text":"<pre><code>{\n\n\u00a0\u00a0//\u00a0path\u00a0where\u00a0resources\u00a0get\u00a0loaded\u00a0from,\u00a0or\u00a0a\u00a0function\n\n\u00a0\u00a0//\u00a0returning\u00a0a\u00a0path:\n\n\u00a0\u00a0//\u00a0function(lngs,\u00a0namespaces)\u00a0{\u00a0return\u00a0customPath;\u00a0}\n\n\u00a0\u00a0//\u00a0the\u00a0returned\u00a0path\u00a0will\u00a0interpolate\u00a0lng,\u00a0ns\u00a0if\u00a0provided\u00a0like\u00a0giving\u00a0a\u00a0static\u00a0path\n\n\u00a0\u00a0loadPath:\u00a0'/locales/{{lng}}/{{ns}}.json',\n\n\n\n\u00a0\u00a0//\u00a0path\u00a0to\u00a0post\u00a0missing\u00a0resources\n\n\u00a0\u00a0addPath:\u00a0'locales/add/{{lng}}/{{ns}}',\n\n\n\n\u00a0\u00a0//\u00a0your\u00a0backend\u00a0server\u00a0supports\u00a0multiloading\n\n\u00a0\u00a0//\u00a0/locales/resources.json?lng=de+en&amp;ns=ns1+ns2\n\n\u00a0\u00a0//\u00a0Adapter\u00a0is\u00a0needed\u00a0to\u00a0enable\u00a0MultiLoading\u00a0https://github.com/i18next/i18next-multiload-backend-adapter\n\n\u00a0\u00a0//\u00a0Returned\u00a0JSON\u00a0structure\u00a0in\u00a0this\u00a0case\u00a0is\n\n\u00a0\u00a0//\u00a0{\n\n\u00a0\u00a0//\u00a0\u00a0lang\u00a0:\u00a0{\n\n\u00a0\u00a0//\u00a0\u00a0\u00a0namespaceA:\u00a0{},\n\n\u00a0\u00a0//\u00a0\u00a0\u00a0namespaceB:\u00a0{},\n\n\u00a0\u00a0//\u00a0\u00a0\u00a0...etc\n\n\u00a0\u00a0//\u00a0\u00a0}\n\n\u00a0\u00a0//\u00a0}\n\n\u00a0\u00a0allowMultiLoading:\u00a0false,\u00a0//\u00a0set\u00a0loadPath:\u00a0'/locales/resources.json?lng={{lng}}&amp;ns={{ns}}'\u00a0to\u00a0adapt\u00a0to\u00a0multiLoading\n\n\n\n\u00a0\u00a0//\u00a0parse\u00a0data\u00a0after\u00a0it\u00a0has\u00a0been\u00a0fetched\n\n\u00a0\u00a0//\u00a0in\u00a0example\u00a0use\u00a0https://www.npmjs.com/package/json5\n\n\u00a0\u00a0//\u00a0here\u00a0it\u00a0removes\u00a0the\u00a0letter\u00a0a\u00a0from\u00a0the\u00a0json\u00a0(bad\u00a0idea)\n\n\u00a0\u00a0parse:\u00a0function(data)\u00a0{\u00a0return\u00a0data.replace(/a/g,\u00a0'');\u00a0},\n\n\n\n\u00a0\u00a0//parse\u00a0data\u00a0before\u00a0it\u00a0has\u00a0been\u00a0sent\u00a0by\u00a0addPath\n\n\u00a0\u00a0parsePayload:\u00a0function(namespace,\u00a0key,\u00a0fallbackValue)\u00a0{\u00a0return\u00a0{\u00a0key\u00a0}\u00a0},\n\n\n\n\u00a0\u00a0//\u00a0allow\u00a0cross\u00a0domain\u00a0requests\n\n\u00a0\u00a0crossDomain:\u00a0false,\n\n\n\n\u00a0\u00a0//\u00a0allow\u00a0credentials\u00a0on\u00a0cross\u00a0domain\u00a0requests\n\n\u00a0\u00a0withCredentials:\u00a0false,\n\n\n\n\u00a0\u00a0//\u00a0overrideMimeType\u00a0sets\u00a0request.overrideMimeType(\"application/json\")\n\n\u00a0\u00a0overrideMimeType:\u00a0false,\n\n\n\n\u00a0\u00a0//\u00a0custom\u00a0request\u00a0headers\u00a0sets\u00a0request.setRequestHeader(key,\u00a0value)\n\n\u00a0\u00a0customHeaders:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0authorization:\u00a0'foo',\n\n\u00a0\u00a0\u00a0\u00a0//\u00a0...\n\n\u00a0\u00a0},\n\n\n\n\u00a0\u00a0//\u00a0define\u00a0a\u00a0custom\u00a0xhr\u00a0function\n\n\u00a0\u00a0//\u00a0can\u00a0be\u00a0used\u00a0to\u00a0support\u00a0XDomainRequest\u00a0in\u00a0IE\u00a08\u00a0and\u00a09\n\n\u00a0\u00a0//\n\n\u00a0\u00a0//\u00a0'url'\u00a0will\u00a0be\u00a0passed\u00a0the\u00a0value\u00a0of\u00a0'loadPath'\n\n\u00a0\u00a0//\u00a0'options'\u00a0will\u00a0be\u00a0this\u00a0entire\u00a0options\u00a0object\n\n\u00a0\u00a0//\u00a0'callback'\u00a0is\u00a0a\u00a0function\u00a0that\u00a0takes\u00a0two\u00a0parameters,\u00a0'data'\u00a0and\u00a0'xhr'.\n\n\u00a0\u00a0//\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0'data'\u00a0should\u00a0be\u00a0the\u00a0key:value\u00a0translation\u00a0pairs\u00a0for\u00a0the\n\n\u00a0\u00a0//\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0requested\u00a0language\u00a0and\u00a0namespace,\u00a0or\u00a0null\u00a0in\u00a0case\u00a0of\u00a0an\u00a0error.\n\n\u00a0\u00a0//\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0'xhr'\u00a0should\u00a0be\u00a0a\u00a0status\u00a0object,\u00a0e.g.\u00a0{\u00a0status:\u00a0200\u00a0}\n\n\u00a0\u00a0//\u00a0'data'\u00a0will\u00a0be\u00a0a\u00a0key:value\u00a0object\u00a0used\u00a0when\u00a0saving\u00a0missing\u00a0translations\n\n\u00a0\u00a0ajax:\u00a0function\u00a0(url,\u00a0options,\u00a0callback,\u00a0data)\u00a0{},\n\n\n\n\u00a0\u00a0//\u00a0adds\u00a0parameters\u00a0to\u00a0resource\u00a0URL.\u00a0'example.com'\u00a0-&gt;\u00a0'example.com?v=1.3.5'\n\n\u00a0\u00a0queryStringParams:\u00a0{\u00a0v:\u00a0'1.3.5'\u00a0}\n\n}\n</code></pre> <p>Options can be passed in:</p> <p>preferred - by setting options.backend in i18next.init:</p> <pre><code>import\u00a0i18next\u00a0from\u00a0'i18next';\n\nimport\u00a0XHR\u00a0from\u00a0'i18next-xhr-backend';\n\n\n\ni18next.use(XHR).init({\n\n\u00a0\u00a0backend:\u00a0options,\n\n});\n</code></pre> <p>on construction:</p> <pre><code>import\u00a0XHR\u00a0from\u00a0'i18next-xhr-backend';\n\nconst\u00a0xhr\u00a0=\u00a0new\u00a0XHR(null,\u00a0options);\n</code></pre> <p>via calling init:</p> <pre><code>import\u00a0XHR\u00a0from\u00a0'i18next-xhr-backend';\n\nconst\u00a0xhr\u00a0=\u00a0new\u00a0XHR();\n\nxhr.init(null,\u00a0options);\n</code></pre>"},{"location":"new-third-part-lib/i18next-xhr-backend/#misc","title":"Misc","text":""},{"location":"new-third-part-lib/i18next-xhr-backend/#typescript-definitions","title":"TypeScript definitions","text":"<ul> <li> <p>Install from <code>@types</code> (for TypeScript v2 and later):</p> <pre><code>  npm install --save-dev @types/i18next-xhr-backend\n</code></pre> </li> <li> <p>Install from <code>typings</code>:</p> <pre><code>  typings install --save --global dt~i18next-xhr-backend\n</code></pre> </li> </ul>"},{"location":"new-third-part-lib/i18next/","title":"i18next","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5389  \u9605\u8bfb11\u5206\u949f</p>"},{"location":"new-third-part-lib/i18next/#i18next","title":"i18next","text":""},{"location":"new-third-part-lib/i18next/#version","title":"version","text":"<p>23.12.2\u00a0 </p>"},{"location":"new-third-part-lib/i18next/#downloads","title":"downloads","text":"<p>5,415,537 </p>"},{"location":"new-third-part-lib/i18next/#repository","title":"repository","text":"<p>github.com/i18next/i18next </p>"},{"location":"new-third-part-lib/i18next/#homepage","title":"homepage","text":"<p>www.i18next.com </p>"},{"location":"new-third-part-lib/i18next/#i18next-learn-once-translate-everywhere","title":"i18next: learn once - translate everywhere","text":"<p>i18next is a very popular internationalization framework for browser or any other javascript environment (eg. Node.js, Deno).</p> <p></p> <p>i18next provides:</p> <ul> <li>Flexible connection to backend (loading translations via xhr, ...)</li> <li>Optional caching, user language detection, ...</li> <li>Proper pluralizations</li> <li>Translation context</li> <li>Nesting, Variable replacement</li> <li>Flexibility: Use it everywhere</li> <li>Extensibility: eg. sprintf</li> <li>...</li> </ul> <p>For more information visit the website:</p> <ul> <li>Getting started</li> <li>Translation Functionality</li> <li>API</li> </ul> <p>Our focus is providing the core to building a booming ecosystem. Independent of the building blocks you choose, be it react, angular or even good old jquery proper translation capabilities are just one step away.</p>"},{"location":"new-third-part-lib/i18next/#documentation","title":"Documentation","text":"<p>The general i18next documentation is published on www.i18next.com and PR changes can be supplied here.</p> <p>The react specific documentation is published on react.i18next.com and PR changes can be supplied here.</p> <p>From the creators of i18next: localization as a service - locize.com</p> <p>A translation management system built around the i18next ecosystem - locize.com.</p> <p></p> <p>With using locize you directly support the future of i18next.</p>"},{"location":"new-third-part-lib/iconv-lite/","title":"262 iconv-lite","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1184  \u9605\u8bfb3\u5206\u949f</p>"},{"location":"new-third-part-lib/iconv-lite/#_1","title":"\u7528\u9014","text":"<p>JS \u5b57\u7b26\u4e32\u7f16\u7801\u8f6c\u6362</p> <p>Pure JS character encoding conversion No need for native code compilation. Quick to install, works on Windows, Web, and in sandboxed environments.</p> <p>Used in popular projects like Express.js (body_parser), Grunt, Nodemailer, Yeoman and others. Faster than node-iconv (see below for performance comparison).</p> <p>Intuitive encode/decode API, including Streaming support.</p> <p>In-browser usage via browserify or webpack (~180kb gzip compressed with Buffer shim included). Typescript type definition file included.</p> <p>React Native is supported (need to install stream module to enable Streaming API).</p>"},{"location":"new-third-part-lib/iconv-lite/#_2","title":"\u53ef\u9760\u6027","text":"<p>2000\u661f\u661f\uff0c\u4e0b\u8f7d 2000\u4e07</p> <p>\u4e3b\u8981\u662f nodeJS \u4f7f\u7528</p>"},{"location":"new-third-part-lib/iconv-lite/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/iconv-lite</p> <p>https://github.com/ashtuchkin/iconv-lite</p>"},{"location":"new-third-part-lib/iconv-lite/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>var iconv = require('iconv-lite');\n\n// Convert from an encoded buffer to a js string.\nstr = iconv.decode(Buffer.from([0x68, 0x65, 0x6c, 0x6c, 0x6f]), 'win1251');\n\n// Convert from a js string to an encoded buffer.\nbuf = iconv.encode(\"Sample input string\", 'win1251');\n\n// Check if encoding is supported\niconv.encodingExists(\"us-ascii\")\n</code></pre>"},{"location":"new-third-part-lib/iconv-lite/#_5","title":"\u5176\u4ed6","text":""},{"location":"new-third-part-lib/is-hotkey/","title":"is-hotkey","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4353  \u9605\u8bfb9\u5206\u949f</p>"},{"location":"new-third-part-lib/is-hotkey/#is-hotkey","title":"is-hotkey","text":""},{"location":"new-third-part-lib/is-hotkey/#version","title":"version","text":"<p>0.2.0\u00a0 </p>"},{"location":"new-third-part-lib/is-hotkey/#downloads","title":"downloads","text":"<p>969,170 </p>"},{"location":"new-third-part-lib/is-hotkey/#repository","title":"repository","text":"<p>github.com/ianstormtaylor/is-hotkey </p>"},{"location":"new-third-part-lib/is-hotkey/#homepage","title":"homepage","text":"<p>github.com/ianstormtaylor/is-hotkey#readme </p>"},{"location":"new-third-part-lib/is-hotkey/#is-hotkey_1","title":"<code>is-hotkey</code>","text":"<p>A simple way to check whether a browser event matches a hotkey.</p>"},{"location":"new-third-part-lib/is-hotkey/#features","title":"Features","text":"<ul> <li>Uses a simple, natural syntax for expressing hotkeys\u2014<code>mod+s</code>, <code>cmd+alt+space</code>, etc.</li> <li>Accepts <code>mod</code> for the classic \"<code>cmd</code> on Mac, <code>ctrl</code> on Windows\" use case.</li> <li>Can use either <code>event.which</code> (default) or <code>event.key</code> to work regardless of keyboard layout.</li> <li>Can be curried to reduce parsing and increase performance when needed.</li> <li>Is very lightweight, weighing in at <code>&lt; 1kb</code> minified and gzipped.</li> </ul>"},{"location":"new-third-part-lib/is-hotkey/#example","title":"Example","text":"<p>The most basic usage...</p> <pre><code>import\u00a0isHotkey\u00a0from\u00a0'is-hotkey'\n\n\n\nfunction\u00a0onKeyDown(e)\u00a0{\n\n\u00a0\u00a0if\u00a0(isHotkey('mod+s',\u00a0e))\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0...\n\n\u00a0\u00a0}\n\n}\n</code></pre> <p>Or, you can curry the hotkey string for better performance, since it is only parsed once...</p> <pre><code>import\u00a0isHotkey\u00a0from\u00a0'is-hotkey'\n\n\n\nconst\u00a0isSaveHotkey\u00a0=\u00a0isHotkey('mod+s')\n\n\n\nfunction\u00a0onKeyDown(e)\u00a0{\n\n\u00a0\u00a0if\u00a0(isSaveHotkey(e))\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0...\n\n\u00a0\u00a0}\n\n}\n</code></pre> <p>That's it!</p>"},{"location":"new-third-part-lib/is-hotkey/#why","title":"Why?","text":"<p>There are tons of hotkey libraries, but they're often coupled to the view layer, or they bind events globally, or all kinds of weird things. You don't really want them to bind the events for you, you can do that yourself.</p> <p>Instead, you want to just check whether a single event matches a hotkey. And you want to define your hotkeys in the standard-but-non-trivial-to-parse syntax that everyone knows.</p> <p>But most libraries don't expose their parsing logic. And even for the ones that do expose their hotkey parsing logic, pulling in an entire library just to check a hotkey string is overkill.</p> <p>So... this is a simple and lightweight hotkey checker!</p>"},{"location":"new-third-part-lib/is-hotkey/#api","title":"API","text":"<pre><code>import\u00a0isHotkey\u00a0from\u00a0'is-hotkey'\n\n\n\nisHotkey('mod+s')(event)\n\nisHotkey('mod+s',\u00a0{\u00a0byKey:\u00a0true\u00a0})(event)\n\n\n\nisHotkey('mod+s',\u00a0event)\n\nisHotkey('mod+s',\u00a0{\u00a0byKey:\u00a0true\u00a0},\u00a0event)\n</code></pre> <p>You can either pass <code>hotkey, [options], event</code> in which case the hotkey will be parsed and compared immediately. Or you can passed just <code>hotkey, [options]</code> to receive a curried checking function that you can re-use for multiple events.</p> <pre><code>isHotkey('mod+a')\n\nisHotkey('Control+S')\n\nisHotkey('cmd+opt+d')\n\nitHotkey('Meta+DownArrow')\n\nitHotkey('cmd+down')\n</code></pre> <p>The API is case-insentive, and has all of the conveniences you'd expect\u2014<code>cmd</code> vs. <code>Meta</code>, <code>opt</code> vs. <code>Alt</code>, <code>down</code> vs. <code>DownArrow</code>, etc.</p> <p>It also accepts <code>mod</code> for the classic \"<code>cmd</code> on Mac, <code>ctrl</code> on Windows\" use case.</p> <pre><code>import\u00a0isHotkey\u00a0from\u00a0'is-hotkey'\n\nimport\u00a0{\u00a0isCodeHotkey,\u00a0isKeyHotkey\u00a0}\u00a0from\u00a0'is-hotkey'\n\n\n\nisHotkey('mod+s')(event)\n\nisHotkey('mod+s',\u00a0{\u00a0byKey:\u00a0true\u00a0})(event)\n\n\n\nisCodeHotkey('mod+s',\u00a0event)\n\nisKeyHotkey('mod+s',\u00a0event)\n</code></pre> <p>By default the hotkey string is checked using <code>event.which</code>. But you can also pass in <code>byKey: true</code> to compare using the <code>KeyboardEvent.key</code> API, which stays the same regardless of keyboard layout.</p> <p>Or to reduce the noise if you are defining lots of hotkeys, you can use the <code>isCodeHotkey</code> and <code>isKeyHotkey</code> helpers that are exported.</p> <pre><code>import\u00a0{\u00a0toKeyName,\u00a0toKeyCode\u00a0}\u00a0from\u00a0'is-hotkey'\n\n\n\ntoKeyName('cmd')\u00a0//\u00a0\"meta\"\n\ntoKeyName('a')\u00a0//\u00a0\"a\"\n\n\n\ntoKeyCode('shift')\u00a0//\u00a016\n\ntoKeyCode('a')\u00a0//\u00a065\n</code></pre> <p>You can also use the exposed <code>toKeyName</code> and <code>toKeyCode</code> helpers, in case you want to add the same level of convenience to your own APIs.</p> <pre><code>import\u00a0{\u00a0parseHotkey,\u00a0compareHotkey\u00a0}\u00a0from\u00a0'is-hotkey'\n\n\n\nconst\u00a0hotkey\u00a0=\u00a0parseHotkey('mod+s',\u00a0{\u00a0byKey:\u00a0true\u00a0})\n\nconst\u00a0passes\u00a0=\u00a0compareHotkey(hotkey,\u00a0event)\n</code></pre> <p>You can also go even more low-level with the exposed <code>parseHotkey</code> and <code>compareHotkey</code> functions, which are what the default <code>isHotkey</code> export uses under the covers, in case you have more advanced needs.</p>"},{"location":"new-third-part-lib/isScroll/","title":"isScroll","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 32843  \u9605\u8bfb66\u5206\u949f</p> <p>Smooth scrolling for the web</p> <p>\u4f7f\u7528\u4eba\u6570 13K</p> <p>https://github.com/cubiq/iscroll</p>"},{"location":"new-third-part-lib/isScroll/#iscroll-smooth-scrolling-for-the-web","title":"iScroll, smooth scrolling for the web","text":"<p>iScroll is a high performance, small footprint, dependency free, multi-platform javascript scroller.</p> <p>It works on desktop, mobile and smart TV. It has been vigorously optimized for performance and size so to offer the smoothest result on modern and old devices alike.</p> <p>iScroll does not just scroll. It can handle any element that needs to be moved with user interaction. It adds scrolling, zooming, panning, infinite scrolling, parallax scrolling, carousels to your projects and manages to do that in just 4kb. Give it a broom and it will also clean up your office.</p> <p>Even on platforms where native scrolling is good enough, iScroll adds features that wouldn't be possible otherwise. Specifically:</p> <ul> <li>Granular control over the scroll position, even during momentum. You can always get and set the x,y coordinates of the scroller.</li> <li>Animation can be customized with user defined easing functions (bounce, elastic, back, ...).</li> <li>You can easily hook to a plethora of custom events (onBeforeScrollStart, onScrollStart, onScroll, onScrollEnd, flick, ...).</li> <li>Out of the box multi-platform support. From older Android devices to the latest iPhone, from Chrome to Internet Explorer.</li> </ul>"},{"location":"new-third-part-lib/isScroll/#the-many-faces-of-iscroll","title":"The many faces of iScroll","text":"<p>iScroll is all about optimization. To reach the highest performance it has been divided into multiple versions. You can pick the version that better suits your need.</p> <p>Currently we have the following fragrances:</p> <ul> <li>iscroll.js, it is the general purpose script. It includes the most commonly used features and grants very high performance in a small footprint.</li> <li>iscroll-lite.js, it is a stripped down version of the main script. It doesn't support snap, scrollbars, mouse wheel, key bindings. But if all you need is scrolling (especially on mobile) iScroll lite is the smallest, fastest solution.</li> <li>iscroll-probe.js, probing the current scroll position is a demanding task, that's why I decided to build a dedicated version for it. If you need to know the scrolling position at any given time, this is the iScroll for you. (I'm making some more tests, this might end up in the regular <code>iscroll.js</code> script, so keep an eye on it).</li> <li>iscroll-zoom.js, adds zooming to the standard scroll.</li> <li>iscroll-infinite.js, can do infinite and cached scrolling. Handling very long lists of elements is no easy task for mobile devices. iScroll infinite uses a caching mechanism that lets you scroll a potentially infinite number of elements.</li> </ul>"},{"location":"new-third-part-lib/isScroll/#getting-started","title":"Getting started","text":"<p>So you want to be an iScroll master. Cool, because that is what I'll make you into.</p> <p>The best way to learn the iScroll is by looking at the demos. In the archive you'll find a <code>demo</code> folder stuffed with examples. Most of the script features are outlined there.</p> <p><code>IScroll</code> is a class that needs to be initiated for each scrolling area. There's no limit to the number of iScrolls you can have in each page if not that imposed by the device CPU/Memory.</p> <p>Try to keep the DOM as simple as possible. iScroll uses the hardware compositing layer but there's a limit to the elements the hardware can handle.</p> <p>The optimal HTML structure is:</p> <pre><code>&lt;div id=\"wrapper\"&gt;\n    &lt;ul&gt;\n        &lt;li&gt;...&lt;/li&gt;\n        &lt;li&gt;...&lt;/li&gt;\n        ...\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre> <p>iScroll must be applied to the wrapper of the scrolling area. In the above example the <code>UL</code> element will be scrolled. Only the first child of the container element is scrolled, additional children are simply ignored.</p> <p><code>box-shadow</code>, <code>opacity</code>, <code>text-shadow</code> and alpha channels are all properties that don't go very well together with hardware acceleration. Scrolling might look good with few elements but as soon as your DOM becomes more complex you'll start experiencing lag and jerkiness.</p> <p>Sometimes a background image to simulate the shadow performs better than <code>box-shadow</code>. The bottom line is: experiment with CSS properties, you'll be surprised by the difference in performance a small CSS change can do.</p> <p>The minimal call to initiate the script is as follow:</p> <pre><code>&lt;script type=\"text/javascript\"&gt;\nvar myScroll = new IScroll('#wrapper');\n&lt;/script&gt;\n</code></pre> <p>The first parameter can be a string representing the DOM selector of the scroll container element OR a reference to the element itself. The following is a valid syntax too:</p> <pre><code>var wrapper = document.getElementById('wrapper');\nvar myScroll = new IScroll(wrapper);\n</code></pre> <p>So basically either you pass the element directly or a string that will be given to <code>querySelector</code>. Consequently to select a wrapper by its class name instead of the ID, you'd do:</p> <pre><code>var myScroll = new IScroll('.wrapper');\n</code></pre> <p>Note that iScroll uses <code>querySelector</code> not <code>querySelectorAll</code>, so only the first occurrence of the selector is used. If you need to apply iScroll to multiple objects you'll have to build your own cycle.</p> <p>You don't strictly need to assign the instance to a variable (<code>myScroll</code>), but it is handy to keep a reference to the iScroll.</p> <p>For example you could later check the scroller position or unload unnecessary events when you don't need the iScroll anymore.</p>"},{"location":"new-third-part-lib/isScroll/#initialization","title":"Initialization","text":"<p>The iScroll needs to be initiated when the DOM is ready. The safest bet is to start it on window <code>onload</code> event. <code>DOMContentLoaded</code> or inline initialization are also fine but remember that the script needs to know the height/width of the scrolling area. If you have images that don't have explicit width/height declaration, iScroll will most likely end up with a wrong scroller size.</p> <p>Add <code>position:relative</code> or <code>absolute</code> to the scroll container (the wrapper). That alone usually solves most of the problems with wrongly calculated wrapper dimensions.</p> <p>To sum up, the smallest iScroll configuration is:</p> <pre><code>&lt;head&gt;\n...\n&lt;script type=\"text/javascript\" src=\"iscroll.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\nvar myScroll;\nfunction loaded() {\n    myScroll = new IScroll('#wrapper');\n}\n&lt;/script&gt;\n&lt;/head&gt;\n...\n&lt;body onload=\"loaded()\"&gt;\n&lt;div id=\"wrapper\"&gt;\n    &lt;ul&gt;\n        &lt;li&gt;...&lt;/li&gt;\n        &lt;li&gt;...&lt;/li&gt;\n        ...\n    &lt;/ul&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n</code></pre> <p>Refer to the barebone example for more details on the minimal CSS/HTML requirements.</p> <p>If you have a complex DOM it is sometimes smart to add a little delay from the <code>onload</code> event to iScroll initialization. Executing the iScroll with a 100 or 200 milliseconds delay gives the browser that little rest that can save your ass.</p>"},{"location":"new-third-part-lib/isScroll/#configuring-the-iscroll","title":"Configuring the iScroll","text":"<p>iScroll can be configured by passing a second parameter during the initialization phase.</p> <pre><code>var myScroll = new IScroll('#wrapper', {\n    mouseWheel: true,\n    scrollbars: true\n});\n</code></pre> <p>The example above turns on mouse wheel support and scrollbars.</p> <p>After initialization you can access the normalized values from the <code>options</code> object. Eg:</p> <pre><code>console.dir(myScroll.options);\n</code></pre> <p>The above will return the configuration the <code>myScroll</code> instance will run on. By normalized I mean that if you set <code>useTransform:true</code> (for example) but the browser doesn't support CSS transforms, <code>useTransform</code> will be <code>false</code>.</p>"},{"location":"new-third-part-lib/isScroll/#understanding-the-core","title":"Understanding the core","text":"<p>iScroll uses various techniques to scroll based on device/browser capability. Normally you don't need to configure the engine, iScroll is smart enough to pick the best for you.</p> <p>Nonetheless it is important to understand which mechanisms iScroll works on and how to configure them.</p>"},{"location":"new-third-part-lib/isScroll/#optionsusetransform","title":"options.useTransform","text":"<p>By default the engine uses the <code>transform</code> CSS property. Setting this to <code>false</code> scrolls like we were in 2007, ie: using the <code>top</code>/<code>left</code> (and thus the scroller needs to be absolutely positioned).</p> <p>This might be useful when scrolling sensitive content such as Flash, iframes and videos, but be warned: performance loss is huge.</p> <p>Default: <code>true</code></p>"},{"location":"new-third-part-lib/isScroll/#optionsusetransition","title":"options.useTransition","text":"<p>iScroll uses CSS transition to perform animations (momentum and bounce). By setting this to <code>false</code>, <code>requestAnimationFrame</code> is used instead.</p> <p>On modern browsers the difference is barely noticeable. On older devices transitions perform better.</p> <p>Default: <code>true</code></p>"},{"location":"new-third-part-lib/isScroll/#optionshwcompositing","title":"options.HWCompositing","text":"<p>This option tries to put the scroller on the hardware layer by appending <code>translateZ(0)</code> to the transform CSS property. This greatly increases performance especially on mobile, but there are situations where you might want to disable it (notably if you have too many elements and the hardware can't catch up).</p> <p>Default: <code>true</code></p> <p>If unsure leave iScroll decide what's the optimal config. For best performance all the above options should be set to <code>true</code> (or better leave them undefined as they are set to true automatically). You may try to play with them in case you encounter hiccups and memory leaks.</p>"},{"location":"new-third-part-lib/isScroll/#basic-features","title":"Basic features","text":""},{"location":"new-third-part-lib/isScroll/#optionsbounce","title":"options.bounce","text":"<p>When the scroller meets the boundary it performs a small bounce animation. Disabling bounce may help reach smoother results on old or slow devices.</p> <p>Default: <code>true</code></p>"},{"location":"new-third-part-lib/isScroll/#optionsclick","title":"options.click","text":"<p>To override the native scrolling iScroll has to inhibit some default browser behaviors, such as mouse clicks. If you want your application to respond to the click event you have to explicitly set this option to <code>true</code>. Please note that it is suggested to use the custom <code>tap</code> event instead (see below).</p> <p>Default: <code>false</code></p>"},{"location":"new-third-part-lib/isScroll/#optionsdisablemouse-optionsdisablepointer-optionsdisabletouch","title":"options.disableMouse options.disablePointer options.disableTouch","text":"<p>By default iScroll listens to all pointer events and reacts to the first one that occurs. It may seem a waste of resources but feature detection has proven quite unreliable and this listen-to-all approach is our safest bet for wide browser/device compatibility.</p> <p>If you have an internal mechanism for device detection or you know in advance where your script will run on, you may want to disable all event sets you don't need (mouse, pointer or touch events).</p> <p>For example to disable mouse and pointer events:</p> <pre><code>var myScroll = new IScroll('#wrapper', {\n    disableMouse: true,\n    disablePointer: true\n});\n</code></pre> <p>Default: <code>false</code></p>"},{"location":"new-third-part-lib/isScroll/#optionseventpassthrough","title":"options.eventPassthrough","text":"<p>Sometimes you want to preserve native vertical scroll but being able to add an horizontal iScroll (maybe a carousel). Set this to <code>true</code> and the iScroll area will react to horizontal swipes only. Vertical swipes will naturally scroll the whole page.</p> <p>See event passthrough demo on a mobile device. Note that this can be set to <code>'horizontal'</code> to inverse the behavior (native horizontal scroll, vertical iScroll).</p>"},{"location":"new-third-part-lib/isScroll/#optionsfreescroll","title":"options.freeScroll","text":"<p>This is useful mainly on 2D scrollers (when you need to scroll both horizontally and vertically). Normally when you start scrolling in one direction the other is locked.</p> <p>Sometimes you just want to move freely with no constrains. In these cases you can set this option to <code>true</code>. See 2D scroll demo.</p> <p>Default: <code>false</code></p>"},{"location":"new-third-part-lib/isScroll/#optionskeybindings","title":"options.keyBindings","text":"<p>Set this to <code>true</code> to activate keyboard (and remote controls) interaction. See the Key bindings section below for more information.</p> <p>Default: <code>false</code></p>"},{"location":"new-third-part-lib/isScroll/#optionsinvertwheeldirection","title":"options.invertWheelDirection","text":"<p>Meaningful when mouse wheel support is activated, in which case it just inverts the scrolling direction. (ie. going down scrolls up and vice-versa).</p> <p>Default: <code>false</code></p>"},{"location":"new-third-part-lib/isScroll/#optionsmomentum","title":"options.momentum","text":"<p>You can turn on/off the momentum animation performed when the user quickly flicks on screen. Turning this off greatly enhances performance.</p> <p>Default: <code>true</code></p>"},{"location":"new-third-part-lib/isScroll/#optionsmousewheel","title":"options.mouseWheel","text":"<p>Listen to the mouse wheel event.</p> <p>Default: <code>false</code></p>"},{"location":"new-third-part-lib/isScroll/#optionspreventdefault","title":"options.preventDefault","text":"<p>Whether or not to <code>preventDefault()</code> when events are fired. This should be left <code>true</code> unless you really know what you are doing.</p> <p>See <code>preventDefaultException</code> in the Advanced options for more control over the preventDefault behavior.</p> <p>Default: <code>true</code></p>"},{"location":"new-third-part-lib/isScroll/#optionsscrollbars","title":"options.scrollbars","text":"<p>Wheter or not to display the default scrollbars. See more in the Scrollbar section.</p> <p>Default: <code>false</code>.</p>"},{"location":"new-third-part-lib/isScroll/#optionsscrollx-optionsscrolly","title":"options.scrollX options.scrollY","text":"<p>By default only vertical scrolling is enabled. If you need to scroll horizontally you have to set <code>scrollX</code> to <code>true</code>. See horizontal demo.</p> <p>See also the freeScroll option.</p> <p>Default: <code>scrollX: false</code>, <code>scrollY: true</code></p> <p>Note that <code>scrollX/Y: true</code> has the same effect as <code>overflow: auto</code>. Setting one direction to <code>false</code> helps to spare some checks and thus CPU cycles.</p>"},{"location":"new-third-part-lib/isScroll/#optionsstartx-optionsstarty","title":"options.startX options.startY","text":"<p>By default iScroll starts at <code>0, 0</code> (top left) position, you can instruct the scroller to kickoff at a different location.</p> <p>Default: <code>0</code></p>"},{"location":"new-third-part-lib/isScroll/#optionstap","title":"options.tap","text":"<p>Set this to <code>true</code> to let iScroll emit a custom <code>tap</code> event when the scroll area is clicked/tapped but not scrolled.</p> <p>This is the suggested way to handle user interaction with clickable elements. To listen to the tap event you would add an event listener as you would do for a standard event. Example:</p> <pre><code>element.addEventListener('tap', doSomething, false); \\\\ Native\n$('#element').on('tap', doSomething); \\\\ jQuery\n</code></pre> <p>You can also customize the event name by passing a string. Eg:</p> <pre><code>tap: 'myCustomTapEvent'\n</code></pre> <p>In this case you'd listen to <code>myCustomTapEvent</code>.</p> <p>Default: <code>false</code></p>"},{"location":"new-third-part-lib/isScroll/#scrollbars","title":"Scrollbars","text":"<p>The scrollbars are more than just what the name suggests. In fact internally they are referenced as indicators.</p> <p>An indicator listens to the scroller position and normally it just shows its position in relation to whole, but what it can do is so much more.</p> <p>Let's start with the basis.</p>"},{"location":"new-third-part-lib/isScroll/#optionsscrollbars_1","title":"options.scrollbars","text":"<p>As we mentioned in the Basic features section there's only one thing that you got to do to activate the scrollbars in all their splendor, and that one thing is:</p> <pre><code>var myScroll = new IScroll('#wrapper', {\n    scrollbars: true\n});\n</code></pre> <p>Of course the default behavior can be personalized.</p>"},{"location":"new-third-part-lib/isScroll/#optionsfadescrollbars","title":"options.fadeScrollbars","text":"<p>When not in use the scrollbar fades away. Leave this to <code>false</code> to spare resources.</p> <p>Default: <code>false</code></p>"},{"location":"new-third-part-lib/isScroll/#optionsinteractivescrollbars","title":"options.interactiveScrollbars","text":"<p>The scrollbar becomes draggable and user can interact with it.</p> <p>Default: <code>false</code></p>"},{"location":"new-third-part-lib/isScroll/#optionsresizescrollbars","title":"options.resizeScrollbars","text":"<p>The scrollbar size changes based on the proportion between the wrapper and the scroller width/height. Setting this to <code>false</code> makes the scrollbar a fixed size. This might be useful in case of custom styled scrollbars (see below).</p> <p>Default: <code>true</code></p>"},{"location":"new-third-part-lib/isScroll/#optionsshrinkscrollbars","title":"options.shrinkScrollbars","text":"<p>When scrolling outside of the boundaries the scrollbar is shrunk by a small amount.</p> <p>Valid values are: <code>'clip'</code> and <code>'scale'</code>.</p> <p><code>'clip'</code> just moves the indicator outside of its container, the impression is that the scrollbar shrinks but it is simply moving out of the screen. If you can live with the visual effect this option immensely improves overall performance.</p> <p><code>'scale'</code> turns off <code>useTransition</code> hence all animations are served with <code>requestAnimationFrame</code>. The indicator is actually varied in size and the end result is nicer to the eye.</p> <p>Default: <code>false</code></p> <p>Note that resizing can't be performed by the GPU, so <code>scale</code> is all on the CPU.</p> <p>If your application runs on multiple devices my suggestion would be to switch this option to <code>'scale'</code>, <code>'clip'</code> or <code>false</code> based on the platform responsiveness (eg: on older mobile devices you could set this to <code>'clip'</code> and on desktop browser to <code>'scale'</code>).</p> <p>See the scrollbar demo.</p>"},{"location":"new-third-part-lib/isScroll/#styling-the-scrollbar","title":"Styling the scrollbar","text":"<p>So you don't like the default scrollbar styling and you think you could do better. Help yourself! iScroll makes dressing the scrollbar a snap. First of all set the <code>scrollbars</code> option to <code>'custom'</code>:</p> <pre><code>var myScroll = new IScroll('#wrapper', {\n    scrollbars: 'custom'\n});\n</code></pre> <p>Then use the following CSS classes to style the little bastards.</p> <ul> <li>.iScrollHorizontalScrollbar, this is applied to the horizontal container. The element that actually hosts the scrollbar indicator.</li> <li>.iScrollVerticalScrollbar, same as above but for the vertical container.</li> <li>.iScrollIndicator, the actual scrollbar indicator.</li> <li>.iScrollBothScrollbars, this is added to the container elements when both scrollbars are shown. Normally just one (horizontal or vertical) is visible.</li> </ul> <p>The styled scrollbars demo should make things clearer than my lousy explanation.</p> <p>If you set <code>resizeScrollbars: false</code> you could make the scrollbar of a fixed size, otherwise it would be resized based on the scroller length.</p> <p>Please keep reading to the following section for a revelation that will shake your world.</p>"},{"location":"new-third-part-lib/isScroll/#indicators","title":"Indicators","text":"<p>All the scrollbar options above are in reality just wrappers to the low level <code>indicators</code> option. It looks more or less like this:</p> <pre><code>var myScroll = new IScroll('#wrapper', {\n    indicators: {\n        el: [element|element selector]\n        fade: false,\n        ignoreBoundaries: false,\n        interactive: false,\n        listenX: true,\n        listenY: true,\n        resize: true,\n        shrink: false,\n        speedRatioX: 0,\n        speedRatioY: 0,\n    }\n});\n</code></pre>"},{"location":"new-third-part-lib/isScroll/#optionsindicatorsel","title":"options.indicators.el","text":"<p>This is a mandatory parameter which holds a reference to the scrollbar container element. The first child inside the container will be the indicator. Note that the scrollbar can be anywhere on your document, it doesn't need to be inside the scroller wrapper. Do you start perceiving the power of such tool?</p> <p>Valid syntax would be:</p> <pre><code>indicators: {\n    el: document.getElementById('indicator')\n}\n</code></pre> <p>Or simply:</p> <pre><code>indicators: {\n    el: '#indicator'\n}\n</code></pre>"},{"location":"new-third-part-lib/isScroll/#optionsindicatorsignoreboundaries","title":"options.indicators.ignoreBoundaries","text":"<p>This tells the indicator to ignore the boundaries imposed by its container. Since we can alter the speed ratio of the scrollbar, it is useful to just let the scrollbar go. Say you want the indicator to go twice as fast as the scroller, it would reach the end of its run very quickly. This option is used for parallax scrolling.</p> <p>Default: <code>false</code></p>"},{"location":"new-third-part-lib/isScroll/#optionsindicatorslistenx-optionsindicatorslisteny","title":"options.indicators.listenX options.indicators.listenY","text":"<p>To which axis the indicator listens to. It can be just one or both.</p> <p>Default: <code>true</code></p>"},{"location":"new-third-part-lib/isScroll/#optionsindicatorsspeedratiox-optionsindicatorsspeedratioy","title":"options.indicators.speedRatioX options.indicators.speedRatioY","text":"<p>The speed the indicator moves in relation to the main scroller size. By default this is set automatically. You rarely need to alter this value.</p> <p>Default: <code>0</code></p>"},{"location":"new-third-part-lib/isScroll/#optionsindicatorsfade-optionsindicatorsinteractive-optionsindicatorsresize-optionsindicatorsshrink","title":"options.indicators.fade options.indicators.interactive options.indicators.resize options.indicators.shrink","text":"<p>These are the same options we explored in the scrollbars section, I'm not going to insult your intelligence and repeat them here.</p> <p>Do not cross the streams. It would be bad! Do not mix the scrollbars syntax (<code>options.scrollbars</code>, <code>options.fadeScrollbars</code>, <code>options.interactiveScrollbars</code>, ...) with the indicators! Use one or the other.</p> <p>Have a look at the minimap demo to get a glance at the power of the <code>indicators</code> option.</p> <p>The wittiest of you would have noticed that <code>indicators</code> is actually plural... Yes, exactly, passing an array of objects you can have a virtually infinite number of indicators. I don't know what you may need them for, but hey! who am I to argue about your scrollbar preferences?</p>"},{"location":"new-third-part-lib/isScroll/#parallax-scrolling","title":"Parallax scrolling","text":"<p>Parallax scrolling is just a collateral damage of the Indicators functionality.</p> <p>An indicator is just a layer that follows the movement and animation applied to the main scroller. If you see it like that you'll understand the power behind this feature. To this add that you can have any number of indicators and the parallax scrolling is served.</p> <p>Please refer to the parallax demo.</p>"},{"location":"new-third-part-lib/isScroll/#scrolling-programmatically","title":"Scrolling programmatically","text":"<p>You silly! Of course you can scroll programmaticaly!</p>"},{"location":"new-third-part-lib/isScroll/#scrolltox-y-time-easing","title":"scrollTo(x, y, time, easing)","text":"<p>Say your iScroll instance resides into the <code>myScroll</code> variable. You can easily scroll to any position with the following syntax:</p> <pre><code>myScroll.scrollTo(0, -100);\n</code></pre> <p>That would scroll down by 100 pixels. Remember: 0 is always the top left corner. To scroll you have to pass negative numbers.</p> <p><code>time</code> and <code>easing</code> are optional. They regulates the duration (in ms) and the easing function of the animation respectively.</p> <p>The easing functions are available in the <code>IScroll.utils.ease</code> object. For example to apply a 1 second elastic easing you'd do:</p> <pre><code>myScroll.scrollTo(0, -100, 1000, IScroll.utils.ease.elastic);\n</code></pre> <p>The available options are: <code>quadratic</code>, <code>circular</code>, <code>back</code>, <code>bounce</code>, <code>elastic</code>.</p>"},{"location":"new-third-part-lib/isScroll/#scrollbyx-y-time-easing","title":"scrollBy(x, y, time, easing)","text":"<p>Same as above but X and Y are relative to the current position.</p> <pre><code>myScroll.scrollBy(0, -10);\n</code></pre> <p>Would scroll 10 pixels down. If you are at -100, you'll end up at -110.</p>"},{"location":"new-third-part-lib/isScroll/#scrolltoelementel-time-offsetx-offsety-easing","title":"scrollToElement(el, time, offsetX, offsetY, easing)","text":"<p>You're gonna like this. Sit tight.</p> <p>The only mandatory parameter is <code>el</code>. Pass an element or a selector and iScroll will try to scroll to the top/left of that element.</p> <p><code>time</code> is optional and sets the animation duration.</p> <p><code>offsetX</code> and <code>offsetY</code> define an offset in pixels, so that you can scroll to that element plus a the specified offset. Not only that. If you set them to <code>true</code> the element will be centered on screen. Refer to the scroll to element example.</p> <p><code>easing</code> works the same way as per the scrollTo method.</p>"},{"location":"new-third-part-lib/isScroll/#snap","title":"Snap","text":"<p>iScroll can snap to fixed positions and elements.</p>"},{"location":"new-third-part-lib/isScroll/#optionssnap","title":"options.snap","text":"<p>The simplest snap config is as follow:</p> <pre><code>var myScroll = new IScroll('#wrapper', {\n    snap: true\n});\n</code></pre> <p>This would automatically split the scroller into pages the size of the container.</p> <p><code>snap</code> also takes a string as a value. The string will be the selector to the elements the scroller will be snapped to. So the following</p> <pre><code>var myScroll = new IScroll('#wrapper', {\n    snap: 'li'\n});\n</code></pre> <p>would snap to each and every <code>LI</code> tag.</p> <p>To help you navigate through the snap points iScroll grants access to a series of interesting methods.</p>"},{"location":"new-third-part-lib/isScroll/#gotopagex-y-time-easing","title":"goToPage(x, y, time, easing)","text":"<p><code>x</code> and <code>y</code> represent the page number you want to scroll to in the horizontal or vertical axes (yeah, it's the plural of axis, I checked). If the scroller in mono-dimensional, just pass <code>0</code> to the axis you don't need.</p> <p><code>time</code> is the duration of the animation, <code>easing</code> the easing function used to scroll to the point. Refer to the option.bounceEasing in the Advanced options. They are both optional.</p> <pre><code>myScroll.goToPage(10, 0, 1000);\n</code></pre> <p>This would scroll to the 10<sup>th</sup> page on the horizontal axis in 1 second.</p>"},{"location":"new-third-part-lib/isScroll/#next-prev","title":"next() prev()","text":"<p>Go to the next and previous page based on current position.</p>"},{"location":"new-third-part-lib/isScroll/#zoom","title":"Zoom","text":"<p>To use the pinch/zoom functionality you better use the <code>iscroll-zoom.js</code> script.</p>"},{"location":"new-third-part-lib/isScroll/#optionszoom","title":"options.zoom","text":"<p>Set this to <code>true</code> to activate zoom.</p> <p>Default: <code>false</code></p>"},{"location":"new-third-part-lib/isScroll/#optionszoommax","title":"options.zoomMax","text":"<p>Maximum zoom level.</p> <p>Default: <code>4</code></p>"},{"location":"new-third-part-lib/isScroll/#optionszoommin","title":"options.zoomMin","text":"<p>Minimum zoom level.</p> <p>Default: <code>1</code></p>"},{"location":"new-third-part-lib/isScroll/#optionsstartzoom","title":"options.startZoom","text":"<p>Starting zoom level.</p> <p>Default: <code>1</code></p>"},{"location":"new-third-part-lib/isScroll/#optionswheelaction","title":"options.wheelAction","text":"<p>Wheel action can be set to <code>'zoom'</code> to have the wheel regulate the zoom level instead of scrolling position.</p> <p>Default: <code>undefined</code> (ie: the mouse wheel scrolls)</p> <p>To sum up, a nice zoom config would be:</p> <pre><code>myScroll = new IScroll('#wrapper', {\n    zoom: true,\n    mouseWheel: true,\n    wheelAction: 'zoom'\n});\n</code></pre> <p>The zoom is performed with CSS transform. iScroll can zoom only on browsers that support that.</p> <p>Some browsers (notably webkit based ones) take a snapshot of the zooming area as soon as they are placed on the hardware compositing layer (say as soon as you apply a transform to them). This snapshot is used as a texture for the zooming area and it can hardly be updated. This means that your texture will be based on elements at scale 1 and zooming in will result in blurred, low definition text and images.</p> <p>A simple solution is to load content at double (or triple) its actual resolution and scale it down inside a <code>scale(0.5)</code> div. This should be enough to grant you a better result. I hope to be able to post more demos soon</p> <p>Refer to the zoom demo.</p>"},{"location":"new-third-part-lib/isScroll/#zoomscale-x-y-time","title":"zoom(scale, x, y, time)","text":"<p>Juicy method that lets you zoom programmatically.</p> <p><code>scale</code> is the zoom factor.</p> <p><code>x</code> and <code>y</code> the focus point, aka the center of the zoom. If not specified, the center of the screen will be used.</p> <p><code>time</code> is the duration of the animation in milliseconds (optional).</p>"},{"location":"new-third-part-lib/isScroll/#infinite-scrolling","title":"Infinite scrolling","text":"<p>iScroll integrates a smart caching system that allows to handle of a virtually infinite amount of data using (and reusing) just a bunch of elements.</p> <p>Infinite scrolling is in an early stage of development and although it can be considered stable, it is not ready for wide consumption.</p> <p>Please review the infinite demo and send your suggestions and bug reports.</p> <p>I will add more details as soon as the functionality evolves.</p>"},{"location":"new-third-part-lib/isScroll/#advanced-options","title":"Advanced options","text":"<p>For the hardcore developer.</p>"},{"location":"new-third-part-lib/isScroll/#optionsbindtowrapper","title":"options.bindToWrapper","text":"<p>The <code>move</code> event is normally bound to the document and not the scroll container. When you move the cursor/finger out of the wrapper the scrolling keeps going. This is usually what you want, but you can also bind the move event to wrapper itself. Doing so as soon as the pointer leaves the container the scroll stops.</p> <p>Default: <code>false</code></p>"},{"location":"new-third-part-lib/isScroll/#optionsbounceeasing","title":"options.bounceEasing","text":"<p>Easing function performed during the bounce animation. Valid values are: <code>'quadratic'</code>, <code>'circular'</code>, <code>'back'</code>, <code>'bounce'</code>, <code>'elastic'</code>. See the bounce easing demo, drag the scroller down and release.</p> <p><code>bounceEasing</code> is a bit smarter than that. You can also feed a custom easing function, like so:</p> <pre><code>bounceEasing: {\n    style: 'cubic-bezier(0,0,1,1)',\n    fn: function (k) { return k; }\n}\n</code></pre> <p>The above would perform a linear easing. The <code>style</code> option is used every time the animation is executed with CSS transitions, <code>fn</code> is used with <code>requestAnimationFrame</code>. If the easing function is too complex and can't be represented by a cubic bezier just pass <code>''</code> (empty string) as <code>style</code>.</p> <p>Note that <code>bounce</code> and <code>elastic</code> can't be performed by CSS transitions.</p> <p>Default: <code>'circular'</code></p>"},{"location":"new-third-part-lib/isScroll/#optionsbouncetime","title":"options.bounceTime","text":"<p>Duration in millisecond of the bounce animation.</p> <p>Default: <code>600</code></p>"},{"location":"new-third-part-lib/isScroll/#optionsdeceleration","title":"options.deceleration","text":"<p>This value can be altered to change the momentum animation duration/speed. Higher numbers make the animation shorter. Sensible results can be experienced starting with a value of <code>0.01</code>, bigger than that basically doesn't make any momentum at all.</p> <p>Default: <code>0.0006</code></p>"},{"location":"new-third-part-lib/isScroll/#optionsmousewheelspeed","title":"options.mouseWheelSpeed","text":"<p>Set the speed of the mouse wheel.</p> <p>Default: <code>20</code></p>"},{"location":"new-third-part-lib/isScroll/#optionspreventdefaultexception","title":"options.preventDefaultException","text":"<p>These are all the exceptions when <code>preventDefault()</code> would be fired anyway despite the preventDefault option value.</p> <p>This is a pretty powerful option, if you don't want to <code>preventDefault()</code> on all elements with formfield class name for example, you could pass the following:</p> <pre><code>preventDefaultException: { className: /(^|\\s)formfield(\\s|$)/ }\n</code></pre> <p>Default: <code>{ tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/ }</code>.</p>"},{"location":"new-third-part-lib/isScroll/#optionsresizepolling","title":"options.resizePolling","text":"<p>When you resize the window iScroll has to recalculate elements position and dimension. This might be a pretty daunting task for the poor little fella. To give it some rest the polling is set to 60 milliseconds.</p> <p>By reducing this value you get better visual effect but the script becomes more aggressive on the CPU. The default value seems a good compromise.</p> <p>Default: <code>60</code></p>"},{"location":"new-third-part-lib/isScroll/#mastering-the-refresh-method","title":"Mastering the refresh method","text":"<p>iScroll needs to know the exact dimensions of both the wrapper and the scroller. They are computed at start up but if your elements change in size, we need to tell iScroll that you are messing with the DOM.</p> <p>This is achieved by calling the <code>refresh</code> method with the right timing. Please follow me closely, understanding this will save you hours of frustration.</p> <p>Every time you touch the DOM the browser renderer repaints the page. Once this repaint has happened we can safely read the new DOM properties. The repaint phase is not instantaneous and it happens only at the end of the scope that triggered it. That's why we need to give the renderer a little rest before refreshing the iScroll.</p> <p>To ensure that javascript gets the updated properties you should defer the refresh with something like this:</p> <pre><code>ajax('page.php', onCompletion);\n\nfunction onCompletion () {\n    // Update here your DOM\n\n    setTimeout(function () {\n        myScroll.refresh();\n    }, 0);\n};\n</code></pre> <p>We have placed the <code>refresh()</code> call into a zero timeout. That is likely all you need to correctly refresh the iScroll boundaries. There are other ways to wait for the repaint, but the zero-timeout has proven pretty solid.</p> <p>Consider that if you have a very complex HTML structure you may give the browser some more rest and raise the timeout to 100 or 200 milliseconds.</p> <p>This is generally true for all the tasks that have to be done on the DOM. Always give the renderer some rest.</p>"},{"location":"new-third-part-lib/isScroll/#custom-events","title":"Custom events","text":"<p>iScroll also emits some useful custom events you can hook to.</p> <p>To register them you use the <code>on(type, fn)</code> method.</p> <pre><code>myScroll = new IScroll('#wrapper');\nmyScroll.on('scrollEnd', doSomething);\n</code></pre> <p>The above code executes the <code>doSomething</code> function every time the content stops scrolling.</p> <p>The available types are:</p> <ul> <li>beforeScrollStart, executed as soon as user touches the screen but before the scrolling has initiated.</li> <li>scrollCancel, scroll initiated but didn't happen.</li> <li>scrollStart, the scroll started.</li> <li>scroll, the content is scrolling. Available only in <code>scroll-probe.js</code> edition. See onScroll event.</li> <li>scrollEnd, content stopped scrolling.</li> <li>flick, user flicked left/right.</li> <li>zoomStart, user started zooming.</li> <li>zoomEnd, zoom ended.</li> </ul>"},{"location":"new-third-part-lib/isScroll/#onscroll-event","title":"onScroll event","text":"<p>The <code>scroll</code> event is available on iScroll probe edition only (<code>iscroll-probe.js</code>). The probe behavior can be altered through the <code>probeType</code> option.</p>"},{"location":"new-third-part-lib/isScroll/#optionsprobetype","title":"options.probeType","text":"<p>This regulates the probe aggressiveness or the frequency at which the <code>scroll</code> event is fired. Valid values are: <code>1</code>, <code>2</code>, <code>3</code>. The higher the number the more aggressive the probe. The more aggressive the probe the higher the impact on the CPU.</p> <p><code>probeType: 1</code> has no impact on performance. The <code>scroll</code> event is fired only when the scroller is not busy doing its stuff.</p> <p><code>probeType: 2</code> always executes the <code>scroll</code> event except during momentum and bounce. This resembles the native <code>onScroll</code> event.</p> <p><code>probeType: 3</code> emits the <code>scroll</code> event with a to-the-pixel precision. Note that the scrolling is forced to <code>requestAnimationFrame</code> (ie: <code>useTransition:false</code>).</p> <p>Please see the probe demo.</p>"},{"location":"new-third-part-lib/isScroll/#key-bindings","title":"Key bindings","text":"<p>You can activate support for keyboards and remote controls with the <code>keyBindings</code> option. By default iScroll listens to the arrow keys, page up/down, home/end but they are (wait for it) totally customizable.</p> <p>You can pass an object with the list of key codes you want iScroll to react to.</p> <p>The default values are as follow:</p> <pre><code>keyBindings: {\n    pageUp: 33,\n    pageDown: 34,\n    end: 35,\n    home: 36,\n    left: 37,\n    up: 38,\n    right: 39,\n    down: 40\n}\n</code></pre> <p>You can also pass a string (eg: <code>pageUp: 'a'</code>) and iScroll will convert it for you. You could just think of a key code and iScroll would read it out of your mind.</p>"},{"location":"new-third-part-lib/isScroll/#useful-scroller-info","title":"Useful scroller info","text":"<p>iScroll stores many useful information that you can use to augment your application.</p> <p>You will probably find useful:</p> <ul> <li>myScroll.x/y, current position</li> <li>myScroll.directionX/Y, last direction (-1 down/right, 0 still, 1 up/left)</li> <li>myScroll.currentPage, current snap point info</li> </ul> <p>These pieces of information may be useful when dealing with custom events. Eg:</p> <pre><code>myScroll = new IScroll('#wrapper');\nmyScroll.on('scrollEnd', function () {\n    if ( this.x &lt; -1000 ) {\n        // do something\n    }\n});\n</code></pre> <p>The above executes some code if the <code>x</code> position is lower than -1000px when the scroller stops. Note that I used <code>this</code> instead of <code>myScroll</code>, you can use both of course, but iScroll passes itself as <code>this</code> context when firing custom event functions.</p>"},{"location":"new-third-part-lib/isScroll/#destroy","title":"Destroy","text":"<p>The public <code>destroy()</code> method can be used to free some memory when the iScroll is not needed anymore.</p> <pre><code>myScroll.destroy();\nmyScroll = null;\n</code></pre>"},{"location":"new-third-part-lib/jest/","title":"Jest \u5355\u5143\u6d4b\u8bd5","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6760  \u9605\u8bfb14\u5206\u949f</p>"},{"location":"new-third-part-lib/jest/#1","title":"1 \u4ecb\u7ecd","text":"<p>Jest\u662f Facebook \u7684\u4e00\u5957\u5f00\u6e90\u7684 JavaScript \u6d4b\u8bd5\u6846\u67b6\uff0c \u5b83\u81ea\u52a8\u96c6\u6210\u4e86\u65ad\u8a00\u3001JSDom\u3001\u8986\u76d6\u7387\u62a5\u544a\u7b49\u5f00\u53d1\u8005\u6240\u9700\u8981\u7684\u6240\u6709\u6d4b\u8bd5\u5de5\u5177\uff0c\u662f\u4e00\u6b3e\u51e0\u4e4e\u96f6\u914d\u7f6e\u7684\u6d4b\u8bd5\u6846\u67b6\u3002\u5e76\u4e14\u5b83\u5bf9\u540c\u6837\u662f Facebook \u7684\u5f00\u6e90\u524d\u7aef\u6846\u67b6 React \u7684\u6d4b\u8bd5\u5341\u5206\u53cb\u597d\u3002</p>"},{"location":"new-third-part-lib/jest/#2-jest","title":"2 \u5b89\u88c5Jest","text":""},{"location":"new-third-part-lib/jest/#21-packagejson","title":"2.1 \u521d\u59cb\u5316<code>package.json</code>","text":"<p>\u521d\u59cb\u5316\u524d\u7aef\u9879\u76ee\u5e76\u751f\u6210<code>package.json</code>\uff1a</p> <pre><code>npm init -y\n</code></pre>"},{"location":"new-third-part-lib/jest/#22-jest","title":"2.2 \u5b89\u88c5Jest\u53ca\u76f8\u5173\u4f9d\u8d56","text":"<p>\u5b89\u88c5\u6d4b\u8bd5\u6240\u9700\u8981\u7684\u4f9d\u8d56\uff1a</p> <pre><code>npm install -D jest babel-jest babel-core babel-preset-env regenerator-runtime\n</code></pre> <p><code>babel-jest</code>\u3001 <code>babel-core</code>\u3001 <code>regenerator-runtime</code>\u3001<code>babel-preset-env</code>\u8fd9\u51e0\u4e2a\u4f9d\u8d56\u662f\u4e3a\u4e86\u8ba9\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528ES6\u7684\u8bed\u6cd5\u7279\u6027\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\uff0cES6\u63d0\u4f9b\u7684 <code>import</code> \u6765\u5bfc\u5165\u6a21\u5757\u7684\u65b9\u5f0f\uff0cJest\u672c\u8eab\u662f\u4e0d\u652f\u6301\u7684\u3002</p>"},{"location":"new-third-part-lib/jest/#23-babelrc","title":"2.3 \u6dfb\u52a0<code>.babelrc</code>\u6587\u4ef6","text":"<p>\u5728\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\u6dfb\u52a0<code>.babelrc</code>\u6587\u4ef6\uff0c\u5e76\u5728\u6587\u4ef6\u590d\u5236\u5982\u4e0b\u5185\u5bb9:</p> <pre><code>{\n  \"presets\": [\"env\"]\n}\n</code></pre>"},{"location":"new-third-part-lib/jest/#24-packagejsontest","title":"2.4 \u4fee\u6539<code>package.json</code>\u4e2d\u7684<code>test</code>\u811a\u672c","text":"<p>\u6253\u5f00<code>package.json</code>\u6587\u4ef6\uff0c\u5c06<code>script</code>\u4e0b\u7684<code>test</code>\u7684\u503c\u4fee\u6539\u4e3a<code>jest</code>\uff1a</p> <pre><code>\"scripts\": {\n  \"test\": \"jest\"\n}\n</code></pre>"},{"location":"new-third-part-lib/jest/#3-jest","title":"3. \u7f16\u5199\u4f60\u7684\u7b2c\u4e00\u4e2aJest\u6d4b\u8bd5","text":""},{"location":"new-third-part-lib/jest/#srctest","title":"\u521b\u5efa<code>src</code>\u548c<code>test</code>\u76ee\u5f55\u53ca\u76f8\u5173\u6587\u4ef6","text":"<ul> <li>\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u521b\u5efa<code>src</code>\u76ee\u5f55\uff0c\u5e76\u5728<code>src</code>\u76ee\u5f55\u4e0b\u6dfb\u52a0<code>functions.js</code>\u6587\u4ef6</li> <li>\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u521b\u5efa<code>test</code>\u76ee\u5f55\uff0c\u5e76\u5728<code>test</code>\u76ee\u5f55\u4e0b\u521b\u5efa<code>functions.test.js</code>\u6587\u4ef6</li> </ul> <p>Jest\u4f1a\u81ea\u52a8\u627e\u5230\u9879\u76ee\u4e2d\u6240\u6709\u4f7f\u7528<code>.spec.js</code>\u6216<code>.test.js</code>\u6587\u4ef6\u547d\u540d\u7684\u6d4b\u8bd5\u6587\u4ef6\u5e76\u6267\u884c\uff0c\u901a\u5e38\u6211\u4eec\u5728\u7f16\u5199\u6d4b\u8bd5\u6587\u4ef6\u65f6\u9075\u5faa\u7684\u547d\u540d\u89c4\u8303\uff1a\u6d4b\u8bd5\u6587\u4ef6\u7684\u6587\u4ef6\u540d = \u88ab\u6d4b\u8bd5\u6a21\u5757\u540d + <code>.test.js</code>\uff0c\u4f8b\u5982\u88ab\u6d4b\u8bd5\u6a21\u5757\u4e3a<code>functions.js</code>\uff0c\u90a3\u4e48\u5bf9\u5e94\u7684\u6d4b\u8bd5\u6587\u4ef6\u547d\u540d\u4e3a<code>functions.test.js</code>\u3002</p> <p>\u5728<code>src/functions.js</code>\u4e2d\u521b\u5efa\u88ab\u6d4b\u8bd5\u7684\u6a21\u5757</p> <pre><code>export default {\n  sum(a, b) {\n    return a + b;\n  }\n}\n</code></pre> <p>\u5728<code>test/functions.test.js</code>\u6587\u4ef6\u4e2d\u521b\u5efa\u6d4b\u8bd5\u7528\u4f8b</p> <pre><code>import functions from '../src/functions';\n\ntest('sum(2 + 2) \u7b49\u4e8e 4', () =&gt; {\n  expect(functions.sum(2, 2)).toBe(4);\n})\n</code></pre> <p>\u8fd0\u884c<code>npm run test</code>, Jest\u4f1a\u5728<code>shell</code>\u4e2d\u6253\u5370\u51fa\u4ee5\u4e0b\u6d88\u606f\uff1a</p> <pre><code> PASS  test/functions.test.js\n  \u221a sum(2 + 2) \u7b49\u4e8e 4 (7ms)\n\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        4.8s\n</code></pre>"},{"location":"new-third-part-lib/jest/#4jest","title":"4.\u5e38\u7528\u7684\u51e0\u4e2aJest\u65ad\u8a00","text":"<p>\u4e0a\u9762\u6d4b\u8bd5\u7528\u4f8b\u4e2d\u7684<code>expect(functions.sum(2, 2)).toBe(4)</code>\u4e3a\u4e00\u53e5\u65ad\u8a00\uff0cJest\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86<code>expect</code>\u51fd\u6570\u7528\u6765\u5305\u88c5\u88ab\u6d4b\u8bd5\u7684\u65b9\u6cd5\u5e76\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u4e2d\u5305\u542b\u4e00\u7cfb\u5217\u7684\u5339\u914d\u5668\u6765\u8ba9\u6211\u4eec\u66f4\u65b9\u4fbf\u7684\u8fdb\u884c\u65ad\u8a00\uff0c\u4e0a\u9762\u7684<code>toBe</code>\u51fd\u6570\u5373\u4e3a\u4e00\u4e2a\u5339\u914d\u5668\u3002\u6211\u4eec\u6765\u4ecb\u7ecd\u51e0\u79cd\u5e38\u7528\u7684Jest\u65ad\u8a00\uff0c\u5176\u4e2d\u4f1a\u6d89\u53ca\u591a\u4e2a\u5339\u914d\u5668\u3002</p> <p><code>.not</code></p> <pre><code>//functions.test.js\nimport functions  from '../src/functions'\n\ntest('sum(2, 2) \u4e0d\u7b49\u4e8e 5', () =&gt; {\n  expect(functions.sum(2, 2)).not.toBe(5);\n})\n</code></pre> <p><code>.not</code>\u4fee\u9970\u7b26\u5141\u8bb8\u4f60\u6d4b\u8bd5\u7ed3\u679c\u4e0d\u7b49\u4e8e\u67d0\u4e2a\u503c\u7684\u60c5\u51b5\uff0c\u8fd9\u548c\u82f1\u8bed\u7684\u8bed\u6cd5\u51e0\u4e4e\u5b8c\u5168\u4e00\u6837\uff0c\u5f88\u597d\u7406\u89e3\u3002</p> <p><code>.toEqual()</code></p> <pre><code>// functions.js\nexport default {\n  getAuthor() {\n    return {\n      name: 'LITANGHUI',\n      age: 24,\n    }\n  }\n}\n</code></pre> <pre><code>// functions.test.js\nimport functions  from '../src/functions';\n\ntest('getAuthor()\u8fd4\u56de\u7684\u5bf9\u8c61\u6df1\u5ea6\u76f8\u7b49', () =&gt; {\n  expect(functions.getAuthor()).toEqual(functions.getAuthor());\n})\n\ntest('getAuthor()\u8fd4\u56de\u7684\u5bf9\u8c61\u5185\u5b58\u5730\u5740\u4e0d\u540c', () =&gt; {\n  expect(functions.getAuthor()).not.toBe(functions.getAuthor());\n})\n</code></pre> <p><code>.toEqual</code>\u5339\u914d\u5668\u4f1a\u9012\u5f52\u7684\u68c0\u67e5\u5bf9\u8c61\u6240\u6709\u5c5e\u6027\u548c\u5c5e\u6027\u503c\u662f\u5426\u76f8\u7b49\uff0c\u6240\u4ee5\u5982\u679c\u8981\u8fdb\u884c\u5e94\u7528\u7c7b\u578b\u7684\u6bd4\u8f83\u65f6\uff0c\u8bf7\u4f7f\u7528<code>.toEqual</code>\u5339\u914d\u5668\u800c\u4e0d\u662f<code>.toBe</code>\u3002</p> <p><code>.toHaveLength</code></p> <pre><code>// functions.js\nexport default {\n  getIntArray(num) {\n    if (!Number.isInteger(num)) {\n      throw Error('\"getIntArray\"\u53ea\u63a5\u53d7\u6574\u6570\u7c7b\u578b\u7684\u53c2\u6570');\n    }\n\n    let result = [];\n    for (let i = 0, len = num; i &lt; len; i++) {\n      result.push(i);\n    }\n\n    return result;\n  }\n}\n</code></pre> <pre><code>// functions.test.js\nimport functions  from '../src/functions';\n\ntest('getIntArray(3)\u8fd4\u56de\u7684\u6570\u7ec4\u957f\u5ea6\u5e94\u8be5\u4e3a3', () =&gt; {\n  expect(functions.getIntArray(3)).toHaveLength(3);\n})\n</code></pre> <p><code>.toHaveLength</code>\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u7528\u6765\u6d4b\u8bd5\u5b57\u7b26\u4e32\u548c\u6570\u7ec4\u7c7b\u578b\u7684\u957f\u5ea6\u662f\u5426\u6ee1\u8db3\u9884\u671f\u3002</p> <p><code>.toThrow</code></p> <pre><code>// functions.test.js\nimport functions  from '../src/functions';\n\ntest('getIntArray(3.3)\u5e94\u8be5\u629b\u51fa\u9519\u8bef', () =&gt; {\n  function getIntArrayWrapFn() {\n    functions.getIntArray(3.3);\n  }\n  expect(getIntArrayWrapFn).toThrow('\"getIntArray\"\u53ea\u63a5\u53d7\u6574\u6570\u7c7b\u578b\u7684\u53c2\u6570');\n})\n</code></pre> <p><code>.toThorw</code>\u53ef\u80fd\u591f\u8ba9\u6211\u4eec\u6d4b\u8bd5\u88ab\u6d4b\u8bd5\u65b9\u6cd5\u662f\u5426\u6309\u7167\u9884\u671f\u629b\u51fa\u5f02\u5e38\uff0c\u4f46\u662f\u5728\u4f7f\u7528\u65f6\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a\u6211\u4eec\u5fc5\u987b\u4f7f\u7528\u4e00\u4e2a\u51fd\u6570\u5c06\u5c06\u88ab\u6d4b\u8bd5\u7684\u51fd\u6570\u505a\u4e00\u4e2a\u5305\u88c5\uff0c\u6b63\u5982\u4e0a\u9762<code>getIntArrayWrapFn</code>\u6240\u505a\u7684\u90a3\u6837\uff0c\u5426\u5219\u4f1a\u56e0\u4e3a\u51fd\u6570\u629b\u51fa\u5bfc\u81f4\u8be5\u65ad\u8a00\u5931\u8d25\u3002</p> <p><code>.toMatch</code></p> <pre><code>// functions.test.js\nimport functions  from '../src/functions';\n\ntest('getAuthor().name\u5e94\u8be5\u5305\u542b\"li\"\u8fd9\u4e2a\u59d3\u6c0f', () =&gt; {\n  expect(functions.getAuthor().name).toMatch(/li/i);\n})\n</code></pre> <p><code>.toMatch</code>\u4f20\u5165\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u5b83\u5141\u8bb8\u6211\u4eec\u7528\u6765\u8fdb\u884c\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u6b63\u5219\u5339\u914d\u3002</p>"},{"location":"new-third-part-lib/jest/#5","title":"5 \u6d4b\u8bd5\u5f02\u6b65\u51fd\u6570","text":"<p>\u5b89\u88c5<code>axios</code> \u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u6700\u5e38\u7528\u7684http\u8bf7\u6c42\u5e93<code>axios</code>\u6765\u8fdb\u884c\u8bf7\u6c42\u5904\u7406</p> <pre><code>npm install axios\n</code></pre> <p>\u7f16\u5199http\u8bf7\u6c42\u51fd\u6570 \u6211\u4eec\u5c06\u8bf7\u6c42<code>http://jsonplaceholder.typicode.com/users/1</code>\uff0c\u8fd9\u662f\u7531**JSONPlaceholder**\u63d0\u4f9b\u7684mock\u8bf7\u6c42\u5730\u5740</p> <p>JSONPlaceholder</p> <pre><code>// functions.js\nimport axios from 'axios';\n\nexport default {\n  fetchUser() {\n    return axios.get('http://jsonplaceholder.typicode.com/users/1')\n      .then(res =&gt; res.data)\n      .catch(error =&gt; console.log(error));\n  }\n}\n</code></pre> <pre><code>// functions.test.js\nimport functions  from '../src/functions';\n\ntest('fetchUser() \u53ef\u4ee5\u8bf7\u6c42\u5230\u4e00\u4e2a\u542b\u6709name\u5c5e\u6027\u503c\u4e3aLeanne Graham\u7684\u5bf9\u8c61', () =&gt; {\n  expect.assertions(1);\n  return functions.fetchUser()\n    .then(data =&gt; {\n      expect(data.name).toBe('Leanne Graham');\n    });\n})\n</code></pre> <p>\u4e0a\u9762\u6211\u4eec\u8c03\u7528\u4e86<code>expect.assertions(1)</code>\uff0c\u5b83\u80fd\u786e\u4fdd\u5728\u5f02\u6b65\u7684\u6d4b\u8bd5\u7528\u4f8b\u4e2d\uff0c\u6709\u4e00\u4e2a\u65ad\u8a00\u4f1a\u5728\u56de\u8c03\u51fd\u6570\u4e2d\u88ab\u6267\u884c\u3002\u8fd9\u5728\u8fdb\u884c\u5f02\u6b65\u4ee3\u7801\u7684\u6d4b\u8bd5\u4e2d\u5341\u5206\u6709\u6548\u3002</p> <p>\u4f7f\u7528<code>async</code>\u548c<code>await</code>\u7cbe\u7b80\u5f02\u6b65\u4ee3\u7801</p> <pre><code>test('fetchUser() \u53ef\u4ee5\u8bf7\u6c42\u5230\u4e00\u4e2a\u7528\u6237\u540d\u5b57\u4e3aLeanne Graham', async () =&gt; {\n  expect.assertions(1);\n  const data = await functions.fetchUser();\n  expect(data.name).toBe('Leanne Graham')\n})\n</code></pre> <p>\u5f53\u7136\u6211\u4eec\u65e2\u7136\u5b89\u88c5\u4e86<code>Babel</code>\uff0c\u4e3a\u4f55\u4e0d\u4f7f\u7528<code>async</code>\u548c<code>await</code>\u7684\u8bed\u6cd5\u6765\u7cbe\u7b80\u6211\u4eec\u7684\u5f02\u6b65\u6d4b\u8bd5\u4ee3\u7801\u5462? </p> <p>\u4f46\u662f\u522b\u5fd8\u8bb0\u90fd\u9700\u8981\u8c03\u7528<code>expect.assertions</code>\u65b9\u6cd5</p>"},{"location":"new-third-part-lib/jison/","title":"jison","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5377  \u9605\u8bfb11\u5206\u949f</p>"},{"location":"new-third-part-lib/jison/#jison","title":"jison","text":""},{"location":"new-third-part-lib/jison/#version","title":"version","text":"<p>0.4.18\u00a0 </p>"},{"location":"new-third-part-lib/jison/#downloads","title":"downloads","text":"<p>67,768 </p>"},{"location":"new-third-part-lib/jison/#repository","title":"repository","text":"<p>github.com/zaach/jison </p>"},{"location":"new-third-part-lib/jison/#homepage","title":"homepage","text":"<p>jison.org </p>"},{"location":"new-third-part-lib/jison/#jison_1","title":"Jison","text":"<ul> <li>issues</li> <li>discuss</li> </ul>"},{"location":"new-third-part-lib/jison/#an-api-for-creating-parsers-in-javascript","title":"An API for creating parsers in JavaScript","text":"<p>Jison generates bottom-up parsers in JavaScript. Its API is similar to Bison's, hence the name. It supports many of Bison's major features, plus some of its own. If you are new to parser generators such as Bison, and Context- free Grammars in general, a good introduction is found in the Bison manual. If you already know Bison, Jison should be easy to pickup.</p> <p>Briefly, Jison takes a JSON encoded grammar or Bison style grammar and outputs a JavaScript file capable of parsing the language described by that grammar. You can then use the generated script to parse inputs and accept, reject, or perform actions based on the input.</p>"},{"location":"new-third-part-lib/jison/#installation","title":"Installation","text":"<p>Jison can be installed for Node using <code>npm</code></p> <p>Using npm:</p> <pre><code>npm install jison -g\n</code></pre>"},{"location":"new-third-part-lib/jison/#usage-from-the-command-line","title":"Usage from the command line","text":"<p>Clone the github repository for examples:</p> <pre><code>git clone git://github.com/zaach/jison.git\ncd jison/examples\n</code></pre> <p>Now you're ready to generate some parsers:</p> <pre><code>jison calculator.jison\n</code></pre> <p>This will generate <code>calculator.js</code> in your current working directory. This file can be used to parse an input file, like so:</p> <pre><code>echo \"2^32 / 1024\" &gt; testcalc\nnode calculator.js testcalc\n</code></pre> <p>This will print out <code>4194304</code>.</p> <p>Full cli option list:</p> <pre><code>Usage: jison [file] [lexfile] [options]\n\nfile        file containing a grammar\nlexfile     file containing a lexical grammar\n\nOptions:\n   -j, --json                    force jison to expect a grammar in JSON format\n   -o FILE, --outfile FILE       Filename and base module name of the generated parser\n   -t, --debug                   Debug mode\n   -m TYPE, --module-type TYPE   The type of module to generate (commonjs, amd, js)\n   -p TYPE, --parser-type TYPE   The type of algorithm to use for the parser (lr0, slr, lalr, lr)\n   -V, --version                 print version and exit\n</code></pre>"},{"location":"new-third-part-lib/jison/#usage-from-a-commonjs-module","title":"Usage from a CommonJS module","text":"<p>You can generate parsers programatically from JavaScript as well. Assuming Jison is in your commonjs environment's load path:</p> <pre><code>//\u00a0mygenerator.js\n\nvar\u00a0Parser\u00a0=\u00a0require(\"jison\").Parser;\n\n\n\n//\u00a0a\u00a0grammar\u00a0in\u00a0JSON\n\nvar\u00a0grammar\u00a0=\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\"lex\":\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"rules\":\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0[\"\\\\s+\",\u00a0\"/*\u00a0skip\u00a0whitespace\u00a0*/\"],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0[\"[a-f0-9]+\",\u00a0\"return\u00a0'HEX';\"]\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0]\n\n\u00a0\u00a0\u00a0\u00a0},\n\n\n\n\u00a0\u00a0\u00a0\u00a0\"bnf\":\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"hex_strings\"\u00a0:[\u00a0\"hex_strings\u00a0HEX\",\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"HEX\"\u00a0]\n\n\u00a0\u00a0\u00a0\u00a0}\n\n};\n\n\n\n//\u00a0`grammar`\u00a0can\u00a0also\u00a0be\u00a0a\u00a0string\u00a0that\u00a0uses\u00a0jison's\u00a0grammar\u00a0format\n\nvar\u00a0parser\u00a0=\u00a0new\u00a0Parser(grammar);\n\n\n\n//\u00a0generate\u00a0source,\u00a0ready\u00a0to\u00a0be\u00a0written\u00a0to\u00a0disk\n\nvar\u00a0parserSource\u00a0=\u00a0parser.generate();\n\n\n\n//\u00a0you\u00a0can\u00a0also\u00a0use\u00a0the\u00a0parser\u00a0directly\u00a0from\u00a0memory\n\n\n\n//\u00a0returns\u00a0true\n\nparser.parse(\"adfe34bc\u00a0e82a\");\n\n\n\n//\u00a0throws\u00a0lexical\u00a0error\n\nparser.parse(\"adfe34bc\u00a0zxg\");\n</code></pre>"},{"location":"new-third-part-lib/jison/#more-documentation","title":"More Documentation","text":"<p>For more information on creating grammars and using the generated parsers, read the documentation.</p>"},{"location":"new-third-part-lib/jison/#how-to-contribute","title":"How to contribute","text":"<p>See CONTRIBUTING.md for contribution guidelines, how to run the tests, etc.</p>"},{"location":"new-third-part-lib/jison/#projects-using-jison","title":"Projects using Jison","text":"<p>View them on the wiki, or add your own.</p>"},{"location":"new-third-part-lib/jison/#contributors","title":"Contributors","text":"<p>Githubbers</p> <p>Special thanks to Jarred Ligatti, Manuel E. Berm\u00fadez</p>"},{"location":"new-third-part-lib/jison/#license","title":"License","text":"<p>Copyright \u00a9 2009-2014 Zachary Carter</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"new-third-part-lib/jsonwebtoken/","title":"263 jsonwebtoken","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1099  \u9605\u8bfb3\u5206\u949f</p>"},{"location":"new-third-part-lib/jsonwebtoken/#_1","title":"\u7528\u9014","text":"<p>JWT \u5728 nodeJS \u7684\u5b9e\u73b0\uff08\u670d\u52a1\u5668\u7aef\u767b\u5f55\u9a8c\u8bc1\uff09</p>"},{"location":"new-third-part-lib/jsonwebtoken/#_2","title":"\u53ef\u9760\u6027","text":"<p>1w\u661f\u661f</p>"},{"location":"new-third-part-lib/jsonwebtoken/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/jsonwebtoken</p> <p>https://github.com/auth0/node-jsonwebtoken</p>"},{"location":"new-third-part-lib/jsonwebtoken/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>var jwt = require('jsonwebtoken');\nvar token = jwt.sign({ foo: 'bar' }, 'shhhhh');\n</code></pre>"},{"location":"new-third-part-lib/jsonwebtoken/#_5","title":"\u5176\u4ed6","text":"<p>JWT \u5165\u95e8\u6559\u7a0b\uff1ahttps://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html</p> <p>\u4f20\u7edf\u7528\u6237\u767b\u5f55\uff1a\u7528\u6237\u53d1\u9001\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u7136\u540e\u670d\u52a1\u5668\u9a8c\u8bc1\u540e\uff0c\u751f\u6210 session \u8fd4\u56de\u5230\u5ba2\u6237\u7aef\uff0c\u5ba2\u6237\u7aef\u653e\u5728 cookie \u4e2d\u3002</p> <p>\u5ba2\u6237\u7aef\u518d\u6b21\u8bf7\u6c42\u65f6\uff0c\u5e26\u7740\u8fd9\u4e2a cookie \u4e2d\u7684 session\u2014\u2014id \u670d\u52a1\u7aef\u76f4\u63a5\u9a8c\u8bc1\u5373\u53ef\u3002</p> <p>\u5b58\u5728\u7684\u95ee\u9898\uff1a\u5982\u679c\u670d\u52a1\u5668\u96c6\u7fa4\uff0c\u90a3\u4e48 session \u4e0d\u80fd\u5171\u4eab\u3002</p> <p>\u89e3\u51b3\u65b9\u6cd51\uff1a\u5c06 session \u5199\u5165\u6301\u4e45\u5c42\uff0c\u8fd9\u6837\u6bcf\u6b21\u4e0d\u540c\u7684\u670d\u52a1\u5668\u9700\u8981\u5411\u6301\u4e45\u5c42\u8bf7\u6c42\uff0c\u6709\u6027\u80fd\u95ee\u9898\u3002</p> <p>\u89e3\u51b3\u65b9\u6cd52\uff1a\u4f7f\u7528 JWT\uff0c\u8fd4\u56de\u7ed9\u7528\u6237\u4e00\u4e2a Token\uff0c\u7136\u540e\u7528\u6237\u8bf7\u6c42\u65f6\u643a\u5e26 token\uff0c\u7136\u540e Token \u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u5373\u53ef</p> <p>token \u53ef\u4ee5\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff0c\u53ef\u4ee5\u518d\u6b21\u52a0\u5bc6\u7b49\uff08Token\u4e2d\u4e0d\u643a\u5e26\u654f\u611f\u4fe1\u606f\uff09</p>"},{"location":"new-third-part-lib/keymirror/","title":"keymirror","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1061  \u9605\u8bfb3\u5206\u949f</p>"},{"location":"new-third-part-lib/keymirror/#keymirror","title":"keymirror","text":""},{"location":"new-third-part-lib/keymirror/#version","title":"version","text":"<p>0.1.1\u00a0 </p>"},{"location":"new-third-part-lib/keymirror/#downloads","title":"downloads","text":"<p>272,559 </p>"},{"location":"new-third-part-lib/keymirror/#repository","title":"repository","text":"<p>github.com/STRML/keyMirror </p>"},{"location":"new-third-part-lib/keymirror/#homepage","title":"homepage","text":"<p>github.com/STRML/keyMirror </p>"},{"location":"new-third-part-lib/keymirror/#keymirror_1","title":"KeyMirror","text":"<p>Create an object with values equal to its key names.</p> <p>I thought <code>react/lib/keyMirror</code> was useful and wanted to reuse it without any dependencies.</p> <p>This is not my code, this is property of Facebook.</p>"},{"location":"new-third-part-lib/keymirror/#usage","title":"Usage","text":"<p><code>npm install keymirror</code></p> <pre><code>var\u00a0keyMirror\u00a0=\u00a0require('keyMirror');\n\nvar\u00a0COLORS\u00a0=\u00a0keyMirror({blue:\u00a0null,\u00a0red:\u00a0null});\n\nvar\u00a0myColor\u00a0=\u00a0COLORS.blue;\n\nvar\u00a0isColorValid\u00a0=\u00a0!!COLORS[myColor];\n</code></pre> <p>The last line could not be performed if the values of the generated enum were not equal to their keys.</p> <p>Input: <code>{key1: val1, key2: val2}</code></p> <p>Output: <code>{key1: key1, key2: key2}</code></p> <p>I sometimes use this with lodash - use the following upon your first use of lodash to mix it in:</p> <pre><code>var\u00a0_\u00a0=\u00a0require('lodash');\n\n_.mixin({keyMirror:\u00a0require('keyMirror')});\n\n//\u00a0Can\u00a0now\u00a0be\u00a0used\u00a0as\u00a0_.keyMirror(object)\n</code></pre>"},{"location":"new-third-part-lib/lerna/","title":"lerna 2.x \u6587\u6863","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9249  \u9605\u8bfb19\u5206\u949f</p> <p>Lerna \u662f\u4e00\u4e2a\u7528\u6765\u4f18\u5316\u6258\u7ba1\u5728git\\npm\u4e0a\u7684\u591apackage\u4ee3\u7801\u5e93\u7684\u5de5\u4f5c\u6d41\u7684\u4e00\u4e2a\u7ba1\u7406\u5de5\u5177,\u53ef\u4ee5\u8ba9\u4f60\u5728\u4e3b\u9879\u76ee\u4e0b\u7ba1\u7406\u591a\u4e2a\u5b50\u9879\u76ee\uff0c\u4ece\u800c\u89e3\u51b3\u4e86\u591a\u4e2a\u5305\u4e92\u76f8\u4f9d\u8d56\uff0c\u4e14\u53d1\u5e03\u65f6\u9700\u8981\u624b\u52a8\u7ef4\u62a4\u591a\u4e2a\u5305\u7684\u95ee\u9898\u3002</p>"},{"location":"new-third-part-lib/lerna/#lerna","title":"lerna\u9879\u76ee\u793a\u8303","text":"<pre><code>my-lerna-repo/\n  package.json\n  packages/\n    package-1/\n      package.json\n    package-2/\n      package.json\n</code></pre>"},{"location":"new-third-part-lib/lerna/#lerna_1","title":"Lerna \u80fd\u505a\u4ec0\u4e48?","text":"<p>Lerna\u4e2d\u4e3b\u8981\u8981\u7528\u5230 lerna bootstrap\u3001lerna publish\u8fd9\u4e8c\u4e2a\u547d\u4ee4</p> <ul> <li>lerna bootstrap\uff1a \u5b89\u88c5\u4f9d\u8d56</li> <li>lerna publish\uff1a\u53d1\u5e03\u548c\u66f4\u65b0package</li> </ul>"},{"location":"new-third-part-lib/lerna/#_1","title":"\u5f00\u59cb\u6211\u4eec\u7684\u63a2\u7d22\u4e4b\u65c5","text":"<p>\u76ee\u524d\u7684\u6700\u65b0\u7248Lerna 2.x \u662fbeta\u7248</p>"},{"location":"new-third-part-lib/lerna/#_2","title":"\u5b89\u88c5","text":"<pre><code># install the latest 2.x version using the `prerelease` dist-tag \n$ npm install --global lerna@prerelease\n# install version directly \n$ npm install --global lerna@^2.0.0-beta\n</code></pre>"},{"location":"new-third-part-lib/lerna/#gitlerna","title":"\u65b0\u5efagit\u4ed3\u5e93\u5e76\u7528lerna\u521d\u59cb\u5316","text":"<pre><code>$ git init lerna-repo\n$ cd lerna-repo\nlerna init\n</code></pre> <p>\u73b0\u5728\u6211\u4eec\u7684\u9879\u76ee\u770b\u8d77\u6765\u5e94\u8be5\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>lerna-repo/\n  package.json\n  lerna.json\n</code></pre>"},{"location":"new-third-part-lib/lerna/#how-it-works","title":"How it works","text":"<p>Lerna \u63d0\u4f9b\u4e24\u7c7b\u7ba1\u7406\u9879\u76ee\u7684\u6a21\u5f0f: Fixed \u548c Independent.</p> <ol> <li>Fixed/Locked mode (default)    Fixed\u6a21\u5f0f\u4e0b\uff0c\u9879\u76ee\u901a\u8fc7\u5355\u4e00\u7684\u7248\u672c\u8fdb\u884c\u63a7\u5236\u3002\u7248\u672c\u53f7\u653e\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u7684lerna.json\u6587\u4ef6\u7684version\u8fd9\u4e2a\u5b57\u6bb5\u3002\u5f53\u4f60\u6267\u884c lerna publish\uff0c\u5982\u679c\u6709\u6587\u4ef6\u66f4\u65b0\uff0c\u5b83\u5c06\u53d1\u5e03\u65b0\u7684\u7248\u672c\u3002    babel\u9879\u76ee\u91c7\u7528\u7684\u5c31\u662f\u8fd9\u79cd\u6a21\u5f0f</li> <li>Independent mode (--independent)    \u8fd9\u79cd\u6a21\u5f0f\u4e0b\uff0c\u9879\u76ee\u91cc\u7684\u5404\u4e2apackage\u72ec\u7acb\u7ef4\u62a4\u81ea\u5df1\u7684version\uff0c\u5b83\u5c06\u4f1a\u5ffd\u7565lerna.json\u4e2d\u5b9a\u4e49\u7684version</li> </ol>"},{"location":"new-third-part-lib/lerna/#commands","title":"Commands","text":""},{"location":"new-third-part-lib/lerna/#init","title":"init","text":"<pre><code>$ lerna init\n</code></pre> <p>\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6216\u5347\u7ea7\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684lerna\u9879\u76ee</p> <ol> <li>\u5728 package.json\u6587\u4ef6\u7684devDependency\u5b57\u6bb5\u91cc\u589e\u52a0 lerna</li> <li>\u751f\u6210lerna.json</li> </ol>"},{"location":"new-third-part-lib/lerna/#-independent-i","title":"--independent, -i","text":"<pre><code>$ lerna init --independent\n</code></pre>"},{"location":"new-third-part-lib/lerna/#bootstrap","title":"bootstrap","text":"<pre><code>lerna bootstrap\n</code></pre> <p>\u5f15\u5bfcpackages\u5b89\u88c5\u5404\u81ea\u7684\u4f9d\u8d56\uff0c\u5b83\u6709--ignore\u548c--scope\u4e8c\u4e2a\u53ef\u9009\u53c2\u6570 \u5b83\u4e3b\u8981\u505a\u4ee5\u4e0b\u51e0\u4ef6\u4e8b\uff1a</p> <ol> <li>\u4e3a\u6bcf\u4e2apackage npm install \u5b89\u88c5dependencies.</li> <li>\u4e3apackages \u4e2d\u5b58\u5728\u76f8\u4e92 dependencies\u7684\u505aSymlink</li> <li>npm prepublish all bootstrapped packages.</li> </ol>"},{"location":"new-third-part-lib/lerna/#publish","title":"publish","text":"<pre><code>$ lerna publish\n</code></pre> <p>\u53d1\u5e03\u5f53\u524d\u9879\u76ee \u4ed6\u521b\u5efa\u4e00\u4e2a\u65b0\u7684release,\u751f\u6210\u65b0\u7684\u7248\u672c\uff0c\u6267\u884cgit commit/tag\u5e76\u53d1\u5e03\u5230npm</p> <ol> <li>\u53d1\u5e03\u9879\u76ee\u91cc\u7684\u6bcf\u4e2a\u6a21\u5757</li> <li>\u6267\u884clerna updated\u786e\u5b9a\u662f\u5426\u9700\u8981\u53d1\u5e03</li> <li>\u5047\u5982\u9700\u8981\u53d1\u5e03 \u7ed9lerna.json \u7248\u672c\u53f7\u505a\u81ea\u589e</li> <li>\u66f4\u65b0package.json\u91cc\u7684\u7248\u672c\u53f7\u81f3\u6700\u65b0</li> <li>\u4e3a\u65b0\u7248\u672c\u66f4\u65b0dependencies</li> <li>\u4e3a\u65b0\u7248\u672c\u521b\u5efa\u4e00\u4e2agit commit \u548ctag</li> <li>\u53d1\u5e03\u66f4\u65b0\u9879\u76ee\u5230npm</li> <li>\u4e00\u6b21\u53d1\u5e03\u6240\u6709packages,\u5220\u9664lerna-temp tags\u548c\u589e\u52a0tags\u5230latest</li> </ol> <p>\u901a\u8fc7\u5728package.json\u4e2d\u6807\u8bb0 \"private\": true\uff0c\u5c06\u4f7f\u8be5\u5305\u4e0d\u53d1\u5e03</p>"},{"location":"new-third-part-lib/lerna/#-npm-tag-tagname","title":"--npm-tag [tagname]","text":"<pre><code>$ lerna publish --npm-tag=next\n</code></pre> <p>When run with this flag, publish will publish to npm with the given npm dist-tag (defaults to latest ). \u5f53\u52a0\u4e0a\u8fd9\u4e2a\u9009\u9879\uff0c\u53d1\u5e03\u65f6\u9664\u4e86\u53d1\u5e03\u5230npm\uff0c\u540c\u65f6\u4e5f\u4f1a\u540c\u6b65\u5230\u7ed9\u5b9a\u7684dist-tag(\u9ed8\u8ba4\u4e3alatest) This option can be used to publish a prerelease or beta version. \u8fd9\u4e2a\u9009\u9879\u4e00\u822c\u7528\u6765\u53d1\u5e03prerelease\u6216beta\u7248</p> <p>\u901a\u5e38\uff0c\u901a\u8fc7npm install my-package\u8fd9\u4e2a\u547d\u4ee4\u5b89\u88c5\u7684\u5c31\u662flatest tag,\u4f60\u53ef\u4ee5\u901a\u8fc7npm install my-package@prerelease\u6765\u5b89\u88c5prerelease\u7248</p>"},{"location":"new-third-part-lib/lerna/#-canary-c","title":"--canary, -c","text":"<pre><code>$ lerna publish --canary\n</code></pre> <p>When run with this flag, publish publishes packages in a more granular way (per commit). Before publishing to npm, it creates the new version tag by taking the current version and appending the current git sha (ex: 1.0.0-alpha.81e3b443 ).</p> <p>The intended use case for this flag is a per commit level release or nightly release.</p>"},{"location":"new-third-part-lib/lerna/#-skip-git","title":"--skip-git","text":"<pre><code>$ lerna publish --skip-git\n</code></pre> <p>When run with this flag, publish will publish to npm without running any of the git commands.</p> <p>Only publish to npm; skip committing, tagging, and pushing git changes (this only affects publish).</p>"},{"location":"new-third-part-lib/lerna/#-skip-npm","title":"--skip-npm","text":"<pre><code>$ lerna publish --skip-npm\n</code></pre> <p>When run with this flag, publish will update all package.json package versions and dependency versions, but it will not actually publish the packages to npm. This is useful as a workaround for an npm issue which prevents README updates from appearing on npmjs.com when published via Lerna. When publishing with README changes, use --skip-npm and do the final npm publish by hand for each package. This flag can be combined with --skip-git to just update versions and dependencies, without committing, tagging, pushing or publishing.</p> <p>Only update versions and dependencies; don't actually publish (this only affects publish).</p>"},{"location":"new-third-part-lib/lerna/#-force-publish-packages","title":"--force-publish [packages]","text":"<pre><code>$ lerna publish --force-publish=package-2,package-4\n# force publish all packages \n$ lerna publish --force-publish=*\n</code></pre> <p>When run with this flag, publish will force publish the specified packages (comma-separated) or all packages using * .</p> <p>This will skip the lerna updated check for changed packages and forces a package that didn't have a git diff change to be updated.</p>"},{"location":"new-third-part-lib/lerna/#-yes","title":"--yes","text":"<pre><code>$ lerna publish --canary --yes\n# skips `Are you sure you want to publish the above changes?` \n</code></pre> <p>When run with this flag, publish will skip all confirmation prompts. Useful in Continuous integration (CI) to automatically answer the publish confirmation prompt.</p>"},{"location":"new-third-part-lib/lerna/#-repo-version","title":"--repo-version","text":"<pre><code>$ lerna publish --repo-version 1.0.1\n# applies version and skips `Select a new version for...` prompt \n</code></pre> <p>When run with this flag, publish will skip the version selection prompt and use the specified version. Useful for bypassing the user input prompt if you already know which version to publish.</p>"},{"location":"new-third-part-lib/lerna/#updated","title":"updated","text":"<pre><code>$ lerna updated\n</code></pre> <p>Check which packages have changed since the last release (the last git tag).</p> <p>Lerna determines the last git tag created and runs git diff --name-only v6.8.1 to get all files changed since that tag. It then returns an array of packages that have an updated file.</p>"},{"location":"new-third-part-lib/lerna/#clean","title":"clean","text":"<pre><code>$ lerna clean\n</code></pre> <p>Remove the node_modules directory from all packages. lerna clean respects the --ignore and --scope flags (see Flags).</p>"},{"location":"new-third-part-lib/lerna/#diff","title":"diff","text":"<pre><code>$ lerna diff [package?]\n\n$ lerna diff\n# diff a specific package \n$ lerna diff package-name\n</code></pre> <p>Diff all packages or a single package since the last release.</p> <p>Similar to lerna updated. This command runs git diff</p>"},{"location":"new-third-part-lib/lerna/#ls","title":"ls","text":"<pre><code>$ lerna ls\n</code></pre> <p>List all of the public packages in the current Lerna repo. lerna ls respects the --ignore and --scope flags (see Flags).</p>"},{"location":"new-third-part-lib/lerna/#run","title":"run","text":"<pre><code>$ lerna run [script] # runs npm run my-script in all packages that have it \n$ lerna run test\n$ lerna run build\n</code></pre> <p>Run an npm script in each package that contains that script.</p> <p>lerna run respects the --concurrency, --scope and ignore flags (see Flags). <code>$ lerna run --scope my-component test</code></p>"},{"location":"new-third-part-lib/lerna/#exec","title":"exec","text":"<pre><code>$ lerna exec -- [command] # runs the command in all packages \n$ lerna exec -- rm -rf ./node_modules\n$ lerna exec -- protractor conf.js\n</code></pre> <p>Run an arbitrary command in each package. lerna exec respects the --concurrency, --scope and --ignore flags (see Flags). <code>$ lerna exec --scope my-component -- ls -la</code></p> <p>Hint: The commands are spawned in parallel, using the concurrency given. The output is piped through, so not deterministic. If you want to run the command in one package after another, use it like this:</p> <pre><code>$ lerna exec --concurrency 1 -- ls -la\n</code></pre>"},{"location":"new-third-part-lib/lerna/#import","title":"import","text":"<pre><code>$ lerna import &lt;path-to-external-repository&gt;\n</code></pre> <p>Import the package at , with commit history, into packages/. Original commit authors, dates and messages are preserved. Commits are applied to the current branch. This is useful for gathering pre-existing standalone packages into a Lerna repo. Each commit is modified to make changes relative to the package directory. So, for example, the commit that added package.json will instead add packages//package.json."},{"location":"new-third-part-lib/lerna/#misc","title":"Misc","text":"<p>Lerna will log to a lerna-debug.log file (same as npm-debug.log) when it encounters an error running a command. Lerna also has support for scoped packages. Running lerna without arguments will show all commands/options.</p>"},{"location":"new-third-part-lib/lerna/#lernajson","title":"lerna.json","text":"<pre><code>{\n  \"lerna\": \"2.0.0-beta.18\",\n  \"version\": \"1.1.3\",\n  \"publishConfig\": {\n    \"ignore\": [\n      \"ignored-file\",\n      \"*.md\"\n    ]\n  },\n  \"bootstrapConfig\": {\n    \"ignore\": \"component-*\"\n  },\n  \"packages\": [\"packages/*\"]\n}\n</code></pre> <ul> <li>lerna: the current version of Lerna being used.</li> <li>version: the current version of the repository.</li> <li>publishConfig.ignore: an array of globs that won't be included in lerna updated/publish. Use this to prevent publishing a new version unnecessarily for changes, such as fixing a README.md typo.</li> <li>bootstrapConfig.ignore: an glob that won't be bootstrapped when running the lerna bootstrap command.</li> <li>bootstrapConfig.scope: an glob that restricts which packages will be bootstrapped when running the lerna bootstrap command.</li> <li>packages: Array of globs to use as package locations.</li> </ul>"},{"location":"new-third-part-lib/lodash-throttle/","title":"015 lodash","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 264  \u9605\u8bfb1\u5206\u949f</p>"},{"location":"new-third-part-lib/lodash-throttle/#_1","title":"\u7528\u9014","text":"<p>lodash \u7684\u8282\u6d41\u51fd\u6570</p>"},{"location":"new-third-part-lib/lodash-throttle/#_2","title":"\u53ef\u9760\u6027","text":"<p>\u5f88\u53ef\u9760</p>"},{"location":"new-third-part-lib/lodash-throttle/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/lodash.throttle</p>"},{"location":"new-third-part-lib/lodash-throttle/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>var throttle = require('lodash.throttle');\n</code></pre>"},{"location":"new-third-part-lib/lodash-throttle/#_5","title":"\u5176\u4ed6","text":"<p>\u9879\u76ee\u4e2d\u53ef\u4ee5\u81ea\u5df1\u5b9e\u73b0 throttle \u51fd\u6570</p>"},{"location":"new-third-part-lib/lodash/","title":"290 lodash","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1583  \u9605\u8bfb4\u5206\u949f</p>"},{"location":"new-third-part-lib/lodash/#_1","title":"\u7528\u9014","text":"<p>\u5e38\u7528\u51fd\u6570\u548c\u5de5\u5177\u5e93</p> <p>A modern JavaScript utility library delivering modularity, performance, &amp; extras (\u63d0\u4f9b\u6a21\u5757\u5316\u3001\u6027\u80fd\u548c\u9644\u52a0\u529f\u80fd)</p>"},{"location":"new-third-part-lib/lodash/#_2","title":"\u53ef\u9760\u6027","text":"<p>3000\u4e07\u4e0b\u8f7d\uff0c5\u4e07\u661f\u661f</p>"},{"location":"new-third-part-lib/lodash/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://lodash.com/</p> <p>https://www.npmjs.com/package/lodash</p> <p>https://github.com/lodash/lodash</p>"},{"location":"new-third-part-lib/lodash/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":""},{"location":"new-third-part-lib/lodash/#-","title":"\u5f15\u5165\u5168\u90e8-\u5f15\u5165\u90e8\u5206","text":"<pre><code>// Load the full build.\nvar _ = require('lodash');\n\n// Load the core build.\nvar _ = require('lodash/core');\n\n// Load the FP build for immutable auto-curried iteratee-first data-last methods.\n// \u4e3a\u4e0d\u53ef\u53d8\u7684\u81ea\u52a8\u67ef\u91cc\u5316 iteratee first data last \u65b9\u6cd5\u52a0\u8f7d\u51fd\u6570\u5f0f\u7f16\u7a0b\u6784\u5efa\u3002\nvar fp = require('lodash/fp');\n\n// Load method categories.\nvar array = require('lodash/array');\nvar object = require('lodash/fp/object');\n\n// Cherry-pick methods for smaller browserify/rollup/webpack bundles.\nvar at = require('lodash/at');\nvar curryN = require('lodash/fp/curryN');\n</code></pre>"},{"location":"new-third-part-lib/lodash/#_5","title":"\u5176\u4ed6","text":"<p>\u4f18\u70b9\uff1a\u529f\u80fd\u5f3a\u5927\uff0c\u5b89\u5168\u6027\u6ca1\u95ee\u9898\u3002\u6838\u5fc3\u529f\u80fd 4KB \u53ef\u4ee5\u63a5\u53d7\u3002</p> <p>\u7f3a\u70b9\uff1a\u5e93\u6bd4\u8f83\u5927\uff0c\u5982\u679c\u53ea\u4f7f\u7528\u5176\u4e2d\u4e00\u4e2a\u529f\u80fd\uff0c\u53ef\u4ee5\u53ea\u5f15\u5165\u5176\u4e2d\u4e00\u90e8\u5206\uff0c\u5168\u90e8\u5f15\u5165\uff0c\u7f51\u9875\u52a0\u8f7d\u65f6\u8f83\u6162\u3002\u4e00\u90e8\u5206\u529f\u80fd\u5df2\u7ecf\u5728 ES6 \u7684\u8bed\u6cd5\u4e2d\u5b9e\u73b0\u3002</p> <p>FP \u662f\u4ec0\u4e48\uff1alodash/fp \u6a21\u5757\u901a\u8fc7\u5bfc\u51fa\u4e00\u4e2a lodash \u5b9e\u4f8b\u53ca\u5176\u65b9\u6cd5\u5305\u88c5\u6765\u751f\u6210\u4e0d\u53ef\u53d8\u7684\u81ea\u52a8\u67ef\u91cc\u5316 iteratee-first data-last \u65b9\u6cd5\uff0c\u4ece\u800c\u4fc3\u8fdb\u4e86\u5bf9\u51fd\u6570\u5f0f\u7f16\u7a0b (FP) \u66f4\u53cb\u597d\u7684\u98ce\u683c\uff08\u53c2\u8003\uff1ahttps://github.com/lodash/lodash/wiki/FP-Guide\uff09</p> <p>\u7248\u672c\uff1a\u6709 1-4 \u51e0\u4e2a\u5927\u7248\u672c\uff0c\u4f7f\u7528 API \u9700\u8981\u6ce8\u610f\u7248\u672c\u662f\u5426\u652f\u6301\u3002</p>"},{"location":"new-third-part-lib/log4js/","title":"264 log4js","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1140  \u9605\u8bfb3\u5206\u949f</p>"},{"location":"new-third-part-lib/log4js/#_1","title":"\u7528\u9014","text":"<p>nodeJS \u65e5\u5fd7\u8f93\u51fa\u5de5\u5177</p> <p>\u7528\u4e8e\u8c03\u8bd5\u4e0d\u540c\u7ea7\u522b\u7684\u65e5\u5fd7\uff08\u8b66\u544a\uff0c\u65e5\u5fd7\uff0c\u9519\u8bef\u7b49\uff09</p>"},{"location":"new-third-part-lib/log4js/#_2","title":"\u53ef\u9760\u6027","text":"<p>\u5927\u91cf\u4f7f\u7528\uff0c\u53ef\u9760</p>"},{"location":"new-third-part-lib/log4js/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://log4js-node.github.io/log4js-node/</p> <p>https://www.npmjs.com/package/log4js</p> <p>https://github.com/log4js-node/log4js-node</p>"},{"location":"new-third-part-lib/log4js/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>var log4js = require(\"log4js\");\nvar logger = log4js.getLogger();\nlogger.level = \"debug\"; // default level is OFF - which means no logs at all.\nlogger.debug(\"Some debug messages\");\n</code></pre>"},{"location":"new-third-part-lib/log4js/#_5","title":"\u5176\u4ed6","text":"<p>\u5f69\u8272\u63a7\u5236\u53f0\u8bb0\u5f55\u5230 stdout \u6216 stderr \u6587\u4ef6\u9644\u52a0\u7a0b\u5e8f\uff0c\u53ef\u6839\u636e\u6587\u4ef6\u5927\u5c0f\u6216\u65e5\u671f\u8fdb\u884c\u53ef\u914d\u7f6e\u7684\u65e5\u5fd7\u6eda\u52a8 SMTP \u9644\u52a0\u7a0b\u5e8f GELF \u9644\u52a0\u7a0b\u5e8f Loggly appender Logstash UDP \u9644\u52a0\u7a0b\u5e8f logFaces\uff08UDP \u548c HTTP\uff09\u9644\u52a0\u7a0b\u5e8f TCP appender\uff08\u5f53\u4f60\u6709\u591a\u4e2a\u670d\u52a1\u5668\u4f46\u60f3\u8981\u96c6\u4e2d\u65e5\u5fd7\u8bb0\u5f55\u65f6\u5f88\u6709\u7528\uff09 \u7528\u4e8e\u8fde\u63a5/\u5feb\u901f\u670d\u52a1\u5668\u7684\u8bb0\u5f55\u5668 \u53ef\u914d\u7f6e\u7684\u65e5\u5fd7\u6d88\u606f\u5e03\u5c40/\u6a21\u5f0f \u4e0d\u540c\u65e5\u5fd7\u7c7b\u522b\u7684\u4e0d\u540c\u65e5\u5fd7\u7ea7\u522b\uff08\u5c06\u5e94\u7528\u7a0b\u5e8f\u65e5\u5fd7\u7684\u67d0\u4e9b\u90e8\u5206\u8bbe\u4e3a DEBUG\uff0c\u5176\u4ed6\u90e8\u5206\u4ec5\u4e3a ERRORS \u7b49\uff09 \u5185\u7f6e\u652f\u6301\u4f7f\u7528\u8282\u70b9\u6838\u5fc3\u7684\u96c6\u7fa4\u6a21\u5757\u8fdb\u884c\u65e5\u5fd7\u8bb0\u5f55 \u7b2c\u4e09\u65b9 InfluxDB appender</p>"},{"location":"new-third-part-lib/luckysheet/","title":"luckysheet","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 172  \u9605\u8bfb1\u5206\u949f</p> <p>https://www.npmjs.com/package/luckysheet</p> <p>\u5468\u4e0b\u8f7d600</p> <p>\u7ef4\u62a4\u4e0d\u591a</p>"},{"location":"new-third-part-lib/mind-map/","title":"mind-map","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1748  \u9605\u8bfb4\u5206\u949f</p> <p>https://github.com/wanglin2/mind-map</p> <p>star 5K</p> <p>\u4e2d\u6587\u540d\uff1a\u601d\u7eea\u601d\u7ef4\u5bfc\u56fe\u3002\u4e00\u4e2a\u7b80\u5355&amp;\u5f3a\u5927\u7684 Web \u601d\u7ef4\u5bfc\u56fe\u3002</p> <p>\u4ed3\u5e93\u540d\u79f0\uff1awanglin2/mind-map \u622a\u6b62\u53d1\u7a3f\u661f\u6570: 4225 (\u4eca\u65e5\u65b0\u589e:16) \u4ed3\u5e93\u8bed\u8a00: Vue \u4ed3\u5e93\u5f00\u6e90\u534f\u8bae\uff1aMIT License</p>"},{"location":"new-third-part-lib/mind-map/#_1","title":"\u5f15\u8a00","text":"<p>wanglin2/mind-map \u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u7684 Web \u601d\u7ef4\u5bfc\u56fe\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u81ea\u5b9a\u4e49\u3001\u64cd\u4f5c\u7b80\u4fbf\u4e14\u5f3a\u5927\u7684 Web \u601d\u7ef4\u5bfc\u56fe\u3002</p>"},{"location":"new-third-part-lib/mind-map/#_2","title":"\u4ed3\u5e93\u63cf\u8ff0","text":"<p>wanglin2/mind-map \u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u7684 Web \u601d\u7ef4\u5bfc\u56fe\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u81ea\u5b9a\u4e49\u3001\u64cd\u4f5c\u7b80\u4fbf\u4e14\u5f3a\u5927\u7684 Web \u601d\u7ef4\u5bfc\u56fe\u3002</p>"},{"location":"new-third-part-lib/mind-map/#_3","title":"\u6848\u4f8b","text":"<p>\u5728\u7ebf\u601d\u7ef4\u5bfc\u56feMac \u5ba2\u6237\u7aefWindows \u5ba2\u6237\u7aefLinux \u5ba2\u6237\u7aef</p>"},{"location":"new-third-part-lib/mind-map/#_4","title":"\u5ba2\u89c2\u8bc4\u6d4b\u6216\u5206\u6790","text":"<p>wanglin2/mind-map \u56e0\u5176\u5f3a\u5927\u7684\u529f\u80fd\u3001\u53ef\u5b9a\u5236\u6027\u548c\u6613\u7528\u6027\u800c\u53d7\u5230\u5e7f\u6cdb\u8d5e\u8a89\u3002\u5b83\u88ab\u8ba4\u4e3a\u662f\u521b\u5efa\u4ea4\u4e92\u5f0f\u548c\u4fe1\u606f\u4e30\u5bcc\u7684\u601d\u7ef4\u5bfc\u56fe\u7684\u51fa\u8272\u5de5\u5177\u3002</p>"},{"location":"new-third-part-lib/mind-map/#_5","title":"\u4f7f\u7528\u5efa\u8bae","text":"<p>\u8981\u4f7f\u7528 wanglin2/mind-map\uff0c\u53ef\u4ee5\uff1a</p> <ol> <li> <p>\u5b89\u88c5 npm \u5305\uff1anpm install simple-mind-map</p> </li> <li> <p>\u5728\u60a8\u7684 HTML \u4e2d\u5305\u542b\u811a\u672c\uff1a\\</p> </li> <li> <p>\u521b\u5efa\u4e00\u4e2a div \u5143\u7d20\u4f5c\u4e3a\u601d\u7ef4\u5bfc\u56fe\u5bb9\u5668</p> </li> <li> <p>\u5b9e\u4f8b\u5316\u601d\u7ef4\u5bfc\u56fe\uff1aconst mindMap = new MindMap({ el: containerElement });</p> </li> </ol>"},{"location":"new-third-part-lib/mind-map/#_6","title":"\u7ed3\u8bba","text":"<p>wanglin2/mind-map \u662f\u4e00\u4e2a\u529f\u80fd\u9f50\u5168\u4e14\u6613\u4e8e\u4f7f\u7528\u7684 Web \u601d\u7ef4\u5bfc\u56fe\uff0c\u975e\u5e38\u9002\u5408\u5404\u79cd\u573a\u666f\u3002\u5176\u53ef\u5b9a\u5236\u6027\u548c\u63d2\u4ef6\u652f\u6301\u4f7f\u5176\u6210\u4e3a\u5f00\u53d1\u4eba\u5458\u548c\u7528\u6237\u7684\u7406\u60f3\u9009\u62e9\u3002</p> <pre><code>&lt;div id=\"mindMapContainer\"&gt;&lt;/div&gt;\n</code></pre> <pre><code>import MindMap from \"simple-mind-map\";\n\nconst mindMap = new MindMap({\n  el: document.getElementById(\"mindMapContainer\"),\n  data: {\n    data: {\n      text: \"\u6839\u8282\u70b9\",\n    },\n    children: [],\n  },\n});\n</code></pre> <p>\u200b</p>"},{"location":"new-third-part-lib/mockjs/","title":"mockjs","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 945  \u9605\u8bfb2\u5206\u949f</p>"},{"location":"new-third-part-lib/mockjs/#mockjs","title":"mockjs","text":""},{"location":"new-third-part-lib/mockjs/#version","title":"version","text":"<p>1.1.0\u00a0 </p>"},{"location":"new-third-part-lib/mockjs/#downloads","title":"downloads","text":"<p>62,936 </p>"},{"location":"new-third-part-lib/mockjs/#repository","title":"repository","text":"<p>github.com/nuysoft/Mock </p>"},{"location":"new-third-part-lib/mockjs/#homepage","title":"homepage","text":"<p>mockjs.com/ </p>"},{"location":"new-third-part-lib/mockjs/#mockjs_1","title":"Mock.js","text":"<p>Mock.js is a simulation data generator to help the front-end to develop and prototype separate from the back-end progress and reduce some monotony particularly while writing automated tests.</p> <p>The official site: http://mockjs.com</p>"},{"location":"new-third-part-lib/mockjs/#features","title":"Features","text":"<ul> <li>Generate simulated data according to the data template</li> <li>Provide request/response mocking for ajax requests</li> <li>Generate simulated data according to HTML-based templates</li> </ul> <p>This library is loosely inspired by Elijah Manor's post Mocking Introduction, mennovanslooten/mockJSON, appendto/jquery-mockjax and victorquinn/chancejs.</p>"},{"location":"new-third-part-lib/moment/","title":"175 moment","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 959  \u9605\u8bfb2\u5206\u949f</p>"},{"location":"new-third-part-lib/moment/#_1","title":"\u7528\u9014","text":"<p>A JavaScript date library for parsing, validating, manipulating, and formatting dates.</p> <p>\u53ef\u4ee5\u628a\u65e5\u671f\u5bf9\u8c61\u548c\u65e5\u671f\u5b57\u7b26\u4e32\u8fdb\u884c\u51c6\u6362\uff1b\u6807\u51c6\u65f6\u95f4\u548c\u5168\u7403\u4e0d\u540c\u65f6\u533a\u7684\u8f6c\u6362\uff08\u8fd9\u4e2a\u56fd\u9645\u5316\u9879\u76ee\u4e2d\u4f7f\u7528\u8f83\u591a\uff09</p> <p>\u6bd4\u8f83\u4e24\u4e2a\u65e5\u671f\u5bf9\u8c61\u7684\u76f8\u5bf9\u65f6\u95f4\uff1b\u663e\u793a\u6210\u4e0d\u540c\u7684\u8bed\u8a00\u7b49</p>"},{"location":"new-third-part-lib/moment/#_2","title":"\u53ef\u9760\u6027","text":"<p>4\u4e07\u661f\u661f\uff0c\u5468\u4e0b\u8f7d\u91cf\u5343\u4e07\uff0c\u4ee3\u7801\u53ef\u9760</p>"},{"location":"new-third-part-lib/moment/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://momentjs.com/</p> <p>https://www.npmjs.com/package/moment</p> <p>https://github.com/moment/moment</p>"},{"location":"new-third-part-lib/moment/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<p>\u8be6\u89c1\u5b98\u7f51\u6587\u6863</p> <p>https://momentjs.com/docs/#/use-it/</p> <pre><code>moment().format('MMMM Do YYYY, h:mm:ss a'); // August 18th 2021, 5:28:16 pm\nmoment(\"20111031\", \"YYYYMMDD\").fromNow(); // 10 years ago\nmoment().format('LTS');  // 5:28:35 PM\n</code></pre>"},{"location":"new-third-part-lib/moment/#_5","title":"\u5176\u4ed6","text":"<p>\u8fd9\u4e2a\u517c\u5bb9\u4e86\u4e0d\u540c\u7684\u65f6\u533a\uff0c\u64cd\u4f5c\u7cfb\u7edf\u7b49\u7b49</p> <p>\u76f8\u5bf9\u4e8e\u76f4\u63a5\u8f6c\u6362\uff0c\u8fd9\u4e2a\u589e\u52a0\u4e8610\u500d\u7684\u65f6\u95f4</p> <p>\u6240\u4ee5\u4e0d\u5efa\u8bae\u5927\u6279\u91cf\u8f6c\u6362\u65f6\u95f4\uff08\u4f8b\u5982\u8868\u683c\u4e2d\u65f6\u95f4\u7684\u6392\u5e8f\u64cd\u4f5c\u7b49\uff09</p>"},{"location":"new-third-part-lib/mysql/","title":"265 mysql","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 651  \u9605\u8bfb2\u5206\u949f</p>"},{"location":"new-third-part-lib/mysql/#_1","title":"\u7528\u9014","text":"<p>nodeJS \u8fde\u63a5 mysql \u6570\u636e\u5e93\u7684\u5de5\u5177</p>"},{"location":"new-third-part-lib/mysql/#_2","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://github.com/mysqljs/mysql</p> <p>https://www.npmjs.com/package/mysql</p>"},{"location":"new-third-part-lib/mysql/#_3","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>var mysql      = require('mysql');\nvar connection = mysql.createConnection({\n  host     : 'localhost',\n  user     : 'me',\n  password : 'secret',\n  database : 'my_db'\n});\n\nconnection.connect();\n\nconnection.query('SELECT 1 + 1 AS solution', function (error, results, fields) {\n  if (error) throw error;\n  console.log('The solution is: ', results[0].solution);\n});\n\nconnection.end();\n</code></pre>"},{"location":"new-third-part-lib/mysql/#_4","title":"\u5176\u4ed6","text":"<p>\u5185\u5bb9\u5f88\u591a\uff0c\u8fd9\u662f\u4e2d\u95f4\u4ef6\u5fc5\u4e0d\u53ef\u5c11\u7684\u90e8\u5206\uff0c\u9700\u8981\u4ed4\u7ec6\u770b\u6587\u6863</p>"},{"location":"new-third-part-lib/number-precision/","title":"101 number-precision","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 912  \u9605\u8bfb2\u5206\u949f</p>"},{"location":"new-third-part-lib/number-precision/#_1","title":"\u7528\u9014","text":"<p>\u5c0f\u6570\u7cbe\u786e\u8ba1\u7b97\uff08\u9ed8\u8ba4JS\u6d6e\u70b9\u6570\u4f1a\u8ba1\u7b97\u9519\u8bef\uff09</p>"},{"location":"new-third-part-lib/number-precision/#_2","title":"\u53ef\u9760\u6027","text":"<p>\u661f\u68073000\uff0c\u4f7f\u7528\u91cf\u6bcf\u5468\u4e0d\u52301\u4e07\u3002\u5e94\u8be5\u662f\u4f7f\u7528 JS \u8fdb\u884c\u6570\u5b66\u8fd0\u7b97\u7684\u4eba\u6bd4\u8f83\u5c11</p>"},{"location":"new-third-part-lib/number-precision/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://github.com/nefe/number-precision</p> <p>https://www.npmjs.com/package/number-precision</p>"},{"location":"new-third-part-lib/number-precision/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>import NP from 'number-precision'\nNP.strip(0.09999999999999998); // = 0.1\nNP.plus(0.1, 0.2);             // = 0.3, not 0.30000000000000004\nNP.plus(2.3, 2.4);             // = 4.7, not 4.699999999999999\nNP.minus(1.0, 0.9);            // = 0.1, not 0.09999999999999998\nNP.times(3, 0.3);              // = 0.9, not 0.8999999999999999\nNP.times(0.362, 100);          // = 36.2, not 36.199999999999996\nNP.divide(1.21, 1.1);          // = 1.1, not 1.0999999999999999\nNP.round(0.105, 2);            // = 0.11, not 0.1\n</code></pre>"},{"location":"new-third-part-lib/number-precision/#_5","title":"\u5176\u4ed6","text":"<p>\u5982\u679c\u540c\u65f6\u5927\u91cf\u8fdb\u884c\u6570\u5b66\u8fd0\u7b97\uff0c\u6027\u80fd\u4e0d\u597d</p>"},{"location":"new-third-part-lib/parcel/","title":"Parcel","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 285  \u9605\u8bfb1\u5206\u949f</p> <p>\u6781\u901f\u96f6\u914d\u7f6eWeb\u5e94\u7528\u6253\u5305\u5de5\u5177 </p> <p>\u7c7b\u4f3c\u4e8e webpack \u7684\u529f\u80fd\uff0c\u6253\u5305\u901f\u5ea6\u5f88\u5feb\uff0c\u6253\u5305\u540e\u5f88\u5c0f</p> <p>\u4e3b\u8981\u4f7f\u7528\uff1areact-image-lightbox</p> <p>\u5b98\u7f51\u6587\u6863\uff1ahttps://parceljs.org/ </p> <p>https://github.com/parcel-bundler/parcel</p> <p>https://www.cnblogs.com/aaron-pan/p/8032226.html</p>"},{"location":"new-third-part-lib/postcss-loader/","title":"postcss-loader","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 25762  \u9605\u8bfb52\u5206\u949f</p>"},{"location":"new-third-part-lib/postcss-loader/#postcss-loader","title":"postcss-loader","text":""},{"location":"new-third-part-lib/postcss-loader/#version","title":"version","text":"<p>8.1.1\u00a0\u2022 </p>"},{"location":"new-third-part-lib/postcss-loader/#downloads","title":"downloads","text":"<p>14,030,520 </p>"},{"location":"new-third-part-lib/postcss-loader/#repository","title":"repository","text":"<p>github.com/webpack-contrib/postcss-loader </p>"},{"location":"new-third-part-lib/postcss-loader/#homepage","title":"homepage","text":"<p>github.com/webpack-contrib/postcss-loader </p>"},{"location":"new-third-part-lib/postcss-loader/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/postcss-loader/#postcss-loader_1","title":"postcss-loader","text":"<p>Loader to process CSS with <code>PostCSS</code>.</p>"},{"location":"new-third-part-lib/postcss-loader/#getting-started","title":"Getting Started","text":"<p>You need webpack v5 to use the latest version. For Webpack v4, you have to install postcss-loader v4.</p> <p>To begin, you'll need to install <code>postcss-loader</code> and <code>postcss</code>:</p> <pre><code>npm install --save-dev postcss-loader postcss\n</code></pre> <p>or</p> <pre><code>yarn add -D postcss-loader postcss\n</code></pre> <p>or</p> <pre><code>pnpm add -D postcss-loader postcss\n</code></pre> <p>Then add the plugin to your <code>webpack</code> config. For example:</p> <p>In the following configuration the plugin <code>postcss-preset- env</code> is used, which is not installed by default.</p> <p>file.js</p> <pre><code>import css from \"file.css\";\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          \"style-loader\",\n          \"css-loader\",\n          {\n            loader: \"postcss-loader\",\n            options: {\n              postcssOptions: {\n                plugins: [\n                  [\n                    \"postcss-preset-env\",\n                    {\n                      // Options\n                    },\n                  ],\n                ],\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>Alternative use with config files:</p> <p>postcss.config.js</p> <pre><code>module.exports = {\n  plugins: [\n    [\n      \"postcss-preset-env\",\n      {\n        // Options\n      },\n    ],\n  ],\n};\n</code></pre> <p>The loader automatically searches for configuration files.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\"style-loader\", \"css-loader\", \"postcss-loader\"],\n      },\n    ],\n  },\n};\n</code></pre> <p>And run <code>webpack</code> via your preferred method.</p>"},{"location":"new-third-part-lib/postcss-loader/#options","title":"Options","text":"<ul> <li><code>execute</code></li> <li><code>postcssOptions</code></li> <li><code>sourceMap</code></li> <li><code>implementation</code></li> </ul>"},{"location":"new-third-part-lib/postcss-loader/#execute","title":"<code>execute</code>","text":"<p>Type:</p> <pre><code>type execute = boolean;\n</code></pre> <p>Default: <code>undefined</code></p> <p>Enable PostCSS Parser support in <code>CSS-in-JS</code>. If you use JS styles the <code>postcss-js</code> parser, add the <code>execute</code> option.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.style.js$/,\n        use: [\n          \"style-loader\",\n          {\n            loader: \"css-loader\",\n          },\n          {\n            loader: \"postcss-loader\",\n            options: {\n              postcssOptions: {\n                parser: \"postcss-js\",\n              },\n              execute: true,\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/postcss-loader/#postcssoptions","title":"<code>postcssOptions</code>","text":"<p>See the file <code>./src/config.d.ts</code>.</p> <p>Type:</p> <pre><code>import type { Config as PostCSSConfig } from \"postcss-load-config\";\nimport type { LoaderContext } from \"webpack\";\n\ntype PostCSSLoaderContext = LoaderContext&lt;PostCSSConfig&gt;;\n\ninterface PostCSSLoaderAPI {\n  mode: PostCSSLoaderContext[\"mode\"];\n  file: PostCSSLoaderContext[\"resourcePath\"];\n  webpackLoaderContext: PostCSSLoaderContext;\n  env: PostCSSLoaderContext[\"mode\"];\n  options: PostCSSConfig;\n}\n\nexport type PostCSSLoaderOptions =\n  | PostCSSConfig\n  | ((api: PostCSSLoaderAPI) =&gt; PostCSSConfig);\n</code></pre> <p>Default: <code>undefined</code></p> <p>Allows to set <code>PostCSS options</code> and plugins.</p> <p>All <code>PostCSS</code> options are supported. There is the special <code>config</code> option for config files. How it works and how it can be configured is described below.</p> <p>We recommend do not specify <code>from</code>, <code>to</code> and <code>map</code> options, because this can lead to wrong path in source maps. If you need source maps please use the <code>sourcemap</code> option.</p> <p>For large projects, to optimize performance of the loader, it is better to provide <code>postcssOptions</code> in loader config and specify <code>config: false</code>. This approach removes the need to lookup and load external config files multiple times during compilation.</p>"},{"location":"new-third-part-lib/postcss-loader/#object","title":"<code>object</code>","text":"<p>Setup <code>plugins</code>:</p> <p>webpack.config.js (recommended)</p> <pre><code>const myOtherPostcssPlugin = require(\"postcss-my-plugin\");\n\nmodule.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.sss$/i,\n        loader: \"postcss-loader\",\n        options: {\n          postcssOptions: {\n            plugins: [\n              \"postcss-import\",\n              [\"postcss-short\", { prefix: \"x\" }],\n              require.resolve(\"my-postcss-plugin\"),\n              myOtherPostcssPlugin({ myOption: true }),\n              // Deprecated and will be removed in the next major release\n              { \"postcss-nested\": { preserveEmpty: true } },\n            ],\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre> <p>webpack.config.js (deprecated , will be removed in the next major release)</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.sss$/i,\n        loader: \"postcss-loader\",\n        options: {\n          postcssOptions: {\n            plugins: {\n              \"postcss-import\": {},\n              \"postcss-short\": { prefix: \"x\" },\n            },\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre> <p>Setup <code>syntax</code>:</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.sss$/i,\n        loader: \"postcss-loader\",\n        options: {\n          postcssOptions: {\n            // Can be `string`\n            syntax: \"sugarss\",\n            // Can be `object`\n            syntax: require(\"sugarss\"),\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre> <p>Setup <code>parser</code>:</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.sss$/i,\n        loader: \"postcss-loader\",\n        options: {\n          postcssOptions: {\n            // Can be `string`\n            parser: \"sugarss\",\n            // Can be `object`\n            parser: require(\"sugarss\"),\n            // Can be `function`\n            parser: require(\"sugarss\").parse,\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre> <p>Setup <code>stringifier</code>:</p> <p>webpack.config.js</p> <pre><code>const Midas = require(\"midas\");\nconst midas = new Midas();\n\nmodule.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.sss$/i,\n        loader: \"postcss-loader\",\n        options: {\n          postcssOptions: {\n            // Can be `string`\n            stringifier: \"sugarss\",\n            // Can be `object`\n            stringifier: require(\"sugarss\"),\n            // Can be `function`\n            stringifier: midas.stringifier,\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/postcss-loader/#function","title":"<code>function</code>","text":"<p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.(css|sss)$/i,\n        loader: \"postcss-loader\",\n        options: {\n          postcssOptions: (loaderContext) =&gt; {\n            if (/\\.sss$/.test(loaderContext.resourcePath)) {\n              return {\n                parser: \"sugarss\",\n                plugins: [\n                  [\"postcss-short\", { prefix: \"x\" }],\n                  \"postcss-preset-env\",\n                ],\n              };\n            }\n\n            return {\n              plugins: [\n                [\"postcss-short\", { prefix: \"x\" }],\n                \"postcss-preset-env\",\n              ],\n            };\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/postcss-loader/#config","title":"<code>config</code>","text":"<p>Type:</p> <pre><code>type config = boolean | string;\n</code></pre> <p>Default: <code>true</code></p> <p>Allows to set options using config files. Options specified in the config file are combined with options passed to the loader, the loader options overwrite options from config.</p>"},{"location":"new-third-part-lib/postcss-loader/#config-files","title":"Config Files","text":"<p>The loader will search up the directory tree for configuration in the following places:</p> <ul> <li>a <code>postcss</code> property in <code>package.json</code></li> <li>a <code>.postcssrc</code> file in JSON or YAML format</li> <li>a <code>.postcssrc.json</code>, <code>.postcssrc.yaml</code>, <code>.postcssrc.yml</code>, <code>.postcssrc.js</code>, or <code>.postcssrc.cjs</code> file</li> <li>a <code>postcss.config.js</code> or <code>postcss.config.cjs</code> CommonJS module exporting an object (recommended)</li> </ul>"},{"location":"new-third-part-lib/postcss-loader/#examples-of-config-files","title":"Examples of Config Files","text":"<p>Using <code>object</code> notation:</p> <p>postcss.config.js (recommend)</p> <pre><code>module.exports = {\n  // You can specify any options from https://postcss.org/api/#processoptions here\n  // parser: 'sugarss',\n  plugins: [\n    // Plugins for PostCSS\n    [\"postcss-short\", { prefix: \"x\" }],\n    \"postcss-preset-env\",\n  ],\n};\n</code></pre> <p>Using <code>function</code> notation:</p> <p>postcss.config.js (recommend)</p> <pre><code>module.exports = (api) =&gt; {\n  // `api.file` - path to the file\n  // `api.mode` - `mode` value of webpack, please read https://webpack.js.org/configuration/mode/\n  // `api.webpackLoaderContext` - loader context for complex use cases\n  // `api.env` - alias `api.mode` for compatibility with `postcss-cli`\n  // `api.options` - the `postcssOptions` options\n\n  if (/\\.sss$/.test(api.file)) {\n    return {\n      // You can specify any options from https://postcss.org/api/#processoptions here\n      parser: \"sugarss\",\n      plugins: [\n        // Plugins for PostCSS\n        [\"postcss-short\", { prefix: \"x\" }],\n        \"postcss-preset-env\",\n      ],\n    };\n  }\n\n  return {\n    // You can specify any options from https://postcss.org/api/#processoptions here\n    plugins: [\n      // Plugins for PostCSS\n      [\"postcss-short\", { prefix: \"x\" }],\n      \"postcss-preset-env\",\n    ],\n  };\n};\n</code></pre> <p>postcss.config.js (deprecated , will be removed in the next major release)</p> <pre><code>module.exports = {\n  // You can specify any options from https://postcss.org/api/#processoptions here\n  // parser: 'sugarss',\n  plugins: {\n    // Plugins for PostCSS\n    \"postcss-short\": { prefix: \"x\" },\n    \"postcss-preset-env\": {},\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/postcss-loader/#config-cascade","title":"Config Cascade","text":"<p>You can use different <code>postcss.config.js</code> files in different directories. Config lookup starts from <code>path.dirname(file)</code> and walks the file tree upwards until a config file is found.</p> <pre><code>|\u2013 components\n| |\u2013 component\n| | |\u2013 index.js\n| | |\u2013 index.png\n| | |\u2013 style.css (1)\n| | |\u2013 postcss.config.js (1)\n| |\u2013 component\n| | |\u2013 index.js\n| | |\u2013 image.png\n| | |\u2013 style.css (2)\n|\n|\u2013 postcss.config.js (1 &amp;&amp; 2 (recommended))\n|\u2013 webpack.config.js\n|\n|\u2013 package.json\n</code></pre> <p>After setting up your <code>postcss.config.js</code>, add <code>postcss-loader</code> to your <code>webpack.config.js</code>. You can use it standalone or in conjunction with <code>css- loader</code> (recommended).</p> <p>Use it before <code>css-loader</code> and <code>style-loader</code>, but after other preprocessor loaders like e.g <code>sass|less|stylus-loader</code>, if you use any (since webpack loaders evaluate right to left/bottom to top).</p> <p>webpack.config.js (recommended)</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/,\n        use: [\n          \"style-loader\",\n          {\n            loader: \"css-loader\",\n            options: {\n              importLoaders: 1,\n            },\n          },\n          \"postcss-loader\",\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/postcss-loader/#boolean","title":"<code>boolean</code>","text":"<p>Enables/Disables autoloading config.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"postcss-loader\",\n        options: {\n          postcssOptions: {\n            config: false,\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/postcss-loader/#string","title":"String","text":"<p>Allows to specify the path to the config file.</p> <p>webpack.config.js</p> <pre><code>const path = require(\"path\");\n\nmodule.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"postcss-loader\",\n        options: {\n          postcssOptions: {\n            config: path.resolve(__dirname, \"custom.config.js\"),\n          },\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/postcss-loader/#sourcemap","title":"<code>sourceMap</code>","text":"<p>Type:</p> <pre><code>type sourceMap = boolean;\n</code></pre> <p>Default: depends on the <code>compiler.devtool</code> value</p> <p>By default generation of source maps depends on the <code>devtool</code> option. All values enable source map generation except <code>eval</code> and <code>false</code> value.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          { loader: \"style-loader\" },\n          { loader: \"css-loader\", options: { sourceMap: true } },\n          { loader: \"postcss-loader\", options: { sourceMap: true } },\n          { loader: \"sass-loader\", options: { sourceMap: true } },\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>Alternative setup:</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  devtool: \"source-map\",\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          { loader: \"style-loader\" },\n          { loader: \"css-loader\" },\n          { loader: \"postcss-loader\" },\n          { loader: \"sass-loader\" },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/postcss-loader/#implementation","title":"<code>implementation</code>","text":"<p>Type:</p> <pre><code>type implementation = object;\n</code></pre> <p>type of <code>implementation</code> should be the same as postcss.d.ts</p> <p>Default: <code>postcss</code></p> <p>The special <code>implementation</code> option determines which implementation of PostCSS to use. Overrides the locally installed <code>peerDependency</code> version of <code>postcss</code>.</p> <p>This option is only really useful for downstream tooling authors to ease the PostCSS 7-to-8 transition.</p>"},{"location":"new-third-part-lib/postcss-loader/#function_1","title":"<code>function</code>","text":"<p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          { loader: \"style-loader\" },\n          { loader: \"css-loader\" },\n          {\n            loader: \"postcss-loader\",\n            options: { implementation: require(\"postcss\") },\n          },\n          { loader: \"sass-loader\" },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/postcss-loader/#string_1","title":"String","text":"<p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          { loader: \"style-loader\" },\n          { loader: \"css-loader\" },\n          {\n            loader: \"postcss-loader\",\n            options: { implementation: require.resolve(\"postcss\") },\n          },\n          { loader: \"sass-loader\" },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/postcss-loader/#examples","title":"Examples","text":""},{"location":"new-third-part-lib/postcss-loader/#sugarss","title":"SugarSS","text":"<p>You'll need to install <code>sugarss</code>:</p> <pre><code>npm install --save-dev sugarss\n</code></pre> <p>Using <code>SugarSS</code> syntax.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.sss$/i,\n        use: [\n          \"style-loader\",\n          {\n            loader: \"css-loader\",\n            options: { importLoaders: 1 },\n          },\n          {\n            loader: \"postcss-loader\",\n            options: {\n              postcssOptions: {\n                parser: \"sugarss\",\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/postcss-loader/#autoprefixer","title":"Autoprefixer","text":"<p>You'll need to install <code>autoprefixer</code>:</p> <pre><code>npm install --save-dev autoprefixer\n</code></pre> <p>Add vendor prefixes to CSS rules using <code>autoprefixer</code>.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          \"style-loader\",\n          {\n            loader: \"css-loader\",\n            options: { importLoaders: 1 },\n          },\n          {\n            loader: \"postcss-loader\",\n            options: {\n              postcssOptions: {\n                plugins: [\n                  [\n                    \"autoprefixer\",\n                    {\n                      // Options\n                    },\n                  ],\n                ],\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>Warning</p> <p><code>postcss-preset-env</code> includes <code>autoprefixer</code>, so adding it separately is not necessary if you already use the preset. More information</p>"},{"location":"new-third-part-lib/postcss-loader/#postcss-preset-env","title":"PostCSS Preset Env","text":"<p>You'll need to install <code>postcss-preset-env</code>:</p> <pre><code>npm install --save-dev postcss-preset-env\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          \"style-loader\",\n          {\n            loader: \"css-loader\",\n            options: { importLoaders: 1 },\n          },\n          {\n            loader: \"postcss-loader\",\n            options: {\n              postcssOptions: {\n                plugins: [\n                  [\n                    \"postcss-preset-env\",\n                    {\n                      // Options\n                    },\n                  ],\n                ],\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/postcss-loader/#css-modules","title":"CSS Modules","text":"<p>What is <code>CSS Modules</code>? Please read.</p> <p>No additional options required on the <code>postcss-loader</code> side. To make them work properly, either add the <code>css-loader</code>\u2019s <code>importLoaders</code> option.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          \"style-loader\",\n          {\n            loader: \"css-loader\",\n            options: {\n              modules: true,\n              importLoaders: 1,\n            },\n          },\n          \"postcss-loader\",\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/postcss-loader/#css-in-js-and-postcss-js","title":"CSS-in-JS and <code>postcss-js</code>","text":"<p>You'll need to install <code>postcss-js</code>:</p> <pre><code>npm install --save-dev postcss-js\n</code></pre> <p>If you want to process styles written in JavaScript, use the <code>postcss- js</code> parser.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.style.js$/,\n        use: [\n          \"style-loader\",\n          {\n            loader: \"css-loader\",\n            options: {\n              importLoaders: 2,\n            },\n          },\n          {\n            loader: \"postcss-loader\",\n            options: {\n              postcssOptions: {\n                parser: \"postcss-js\",\n              },\n              execute: true,\n            },\n          },\n          \"babel-loader\",\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>As result you will be able to write styles in the following way</p> <pre><code>import colors from \"./styles/colors\";\n\nexport default {\n  \".menu\": {\n    color: colors.main,\n    height: 25,\n    \"&amp;_link\": {\n      color: \"white\",\n    },\n  },\n};\n</code></pre> <p>Warning</p> <p>If you are using Babel you need to do the following in order for the setup to work</p> <ol> <li>Add <code>babel-plugin-add-module- exports</code> to your configuration.</li> <li>You need to have only one default export per style module. </li> </ol>"},{"location":"new-third-part-lib/postcss-loader/#extract-css","title":"Extract CSS","text":"<p>Using <code>mini-css-extract-plugin</code>.</p> <p>webpack.config.js</p> <pre><code>const isProductionMode = process.env.NODE_ENV === \"production\";\n\nconst MiniCssExtractPlugin = require(\"mini-css-extract-plugin\");\n\nmodule.exports = {\n  mode: isProductionMode ? \"production\" : \"development\",\n  module: {\n    rules: [\n      {\n        test: /\\.css$/,\n        use: [\n          isProductionMode ? MiniCssExtractPlugin.loader : \"style-loader\",\n          \"css-loader\",\n          \"postcss-loader\",\n        ],\n      },\n    ],\n  },\n  plugins: [\n    new MiniCssExtractPlugin({\n      filename: isProductionMode ? \"[name].[contenthash].css\" : \"[name].css\",\n    }),\n  ],\n};\n</code></pre>"},{"location":"new-third-part-lib/postcss-loader/#emit-assets","title":"Emit assets","text":"<p>To write a asset from PostCSS plugin to the webpack, need to add a message in <code>result.messages</code>.</p> <p>The message should contain the following fields:</p> <ul> <li><code>type</code> = <code>asset</code> - Message type (require, should be equal <code>asset</code>)</li> <li><code>file</code> - file name (require)</li> <li><code>content</code> - file content (require)</li> <li><code>sourceMap</code> - sourceMap</li> <li><code>info</code> - asset info</li> </ul> <p>webpack.config.js</p> <pre><code>const postcssCustomPlugin = (opts = {}) =&gt; {\n  return {\n    postcssPlugin: \"postcss-custom-plugin\",\n    Once: (root, { result }) =&gt; {\n      result.messages.push({\n        type: \"asset\",\n        file: \"sprite.svg\",\n        content: \"&lt;svg&gt;...&lt;/svg&gt;\",\n      });\n    },\n  };\n};\n\nmodule.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          \"style-loader\",\n          \"css-loader\",\n          {\n            loader: \"postcss-loader\",\n            options: {\n              postcssOptions: {\n                plugins: [postcssCustomPlugin()],\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/postcss-loader/#add-dependencies-contextdependencies-builddependencies","title":"Add dependencies, contextDependencies, buildDependencies,","text":"<p>missingDependencies</p> <p>The dependencies are necessary for webpack to understand when it needs to run recompilation on the changed files.</p> <p>There are two way to add dependencies:</p> <ol> <li>(Recommended). The plugin may emit messages in <code>result.messages</code>.</li> </ol> <p>The message should contain the following fields:</p> <ul> <li><code>type</code> = <code>dependency</code> - Message type (require, should be equal <code>dependency</code>, <code>context-dependency</code>, <code>build-dependency</code> or <code>missing-dependency</code>)</li> <li><code>file</code> - absolute file path (require)</li> </ul> <p>webpack.config.js</p> <pre><code>const path = require(\"path\");\n\nconst postcssCustomPlugin = (opts = {}) =&gt; {\n  return {\n    postcssPlugin: \"postcss-custom-plugin\",\n    Once: (root, { result }) =&gt; {\n      result.messages.push({\n        type: \"dependency\",\n        file: path.resolve(__dirname, \"path\", \"to\", \"file\"),\n      });\n    },\n  };\n};\n\nmodule.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          \"style-loader\",\n          \"css-loader\",\n          {\n            loader: \"postcss-loader\",\n            options: {\n              postcssOptions: {\n                plugins: [postcssCustomPlugin()],\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>Or you can use ready-made plugin postcss-add- dependencies.</p> <ol> <li>Pass <code>loaderContext</code> in plugin.</li> </ol> <p>webpack.config.js</p> <pre><code>const path = require(\"path\");\n\nmodule.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          \"style-loader\",\n          \"css-loader\",\n          {\n            loader: \"postcss-loader\",\n            options: {\n              postcssOptions: {\n                config: path.resolve(__dirname, \"path/to/postcss.config.js\"),\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>postcss.config.js</p> <pre><code>module.exports = (api) =&gt; ({\n  plugins: [\n    require(\"path/to/postcssCustomPlugin.js\")({\n      loaderContext: api.webpackLoaderContext,\n    }),\n  ],\n});\n</code></pre> <p>postcssCustomPlugin.js</p> <pre><code>const path = require(\"path\");\n\nconst postcssCustomPlugin = (opts = {}) =&gt; {\n  return {\n    postcssPlugin: \"postcss-custom-plugin\",\n    Once: (root, { result }) =&gt; {\n      opts.loaderContext.addDependency(\n        path.resolve(__dirname, \"path\", \"to\", \"file\"),\n      );\n    },\n  };\n};\n\npostcssCustomPlugin.postcss = true;\nmodule.exports = postcssCustomPlugin;\n</code></pre>"},{"location":"new-third-part-lib/postcss-normalize/","title":"postcss-normalize","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6696  \u9605\u8bfb14\u5206\u949f</p>"},{"location":"new-third-part-lib/postcss-normalize/#postcss-normalize","title":"postcss-normalize","text":""},{"location":"new-third-part-lib/postcss-normalize/#version","title":"version","text":"<p>10.0.1\u00a0\u2022 </p>"},{"location":"new-third-part-lib/postcss-normalize/#downloads","title":"downloads","text":"<p>3,122,883 </p>"},{"location":"new-third-part-lib/postcss-normalize/#repository","title":"repository","text":"<p>github.com/csstools/postcss-normalize </p>"},{"location":"new-third-part-lib/postcss-normalize/#homepage","title":"homepage","text":"<p>github.com/csstools/postcss-normalize#readme </p>"},{"location":"new-third-part-lib/postcss-normalize/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/postcss-normalize/#postcss-normalize_1","title":"PostCSS Normalize","text":"<p>PostCSS Normalize lets you use the parts of normalize.css or sanitize.css that you need from your browserslist.</p> <pre><code>@import \"normalize.css\";\n\n\n@import \"sanitize.css\";\n</code></pre> <p>PostCSS Normalize uses a non-opinionated version of normalize.css, but an opinionated version may also be used.</p> <pre><code>@import \"normalize.css/opinionated.css\";\n</code></pre>"},{"location":"new-third-part-lib/postcss-normalize/#examples","title":"Examples","text":"<p>Here is a sample of what normalize.css looks like when the browserslist is <code>ie &gt;= 9</code>:</p> <pre><code>/**\n * Add the correct display in IE 9-.\n */\n\naudio,\nvideo {\n  display: inline-block;\n}\n\n/**\n * Remove the border on images inside links in IE 10-.\n */\n\nimg {\n  border-style: none;\n}\n</code></pre> <p>And here is the same sample when the browserslist is <code>ie &gt;= 10</code>:</p> <pre><code>/**\n * Remove the border on images inside links in IE 10-.\n */\n\nimg {\n  border-style: none;\n}\n</code></pre>"},{"location":"new-third-part-lib/postcss-normalize/#usage","title":"Usage","text":"<p>Add PostCSS Normalize to your project:</p> <pre><code>npm install postcss-normalize --save-dev\n</code></pre> <p>Add a browserslist entry in <code>package.json</code>:</p> <pre><code>{\n  \"browserslist\": \"last 2 versions\"\n}\n</code></pre> <p>Use PostCSS Normalize to process your CSS:</p> <pre><code>const postcssNormalize = require('postcss-normalize')\n\npostcssNormalize.process(YOUR_CSS /*, processOptions, pluginOptions */)\n</code></pre> <p>Or use it as a PostCSS plugin:</p> <pre><code>const postcss = require('postcss')\nconst postcssNormalize = require('postcss-normalize')\n\npostcss([\n  postcssNormalize(/* pluginOptions */)\n]).process(YOUR_CSS /*, processOptions */)\n</code></pre> <p>PostCSS Normalize runs in all Node environments, with special instructions for:</p> Node PostCSS CLI Webpack Create React App Gulp Grunt"},{"location":"new-third-part-lib/postcss-normalize/#postcss-import-usage","title":"PostCSS Import Usage","text":"<p>PostCSS Normalize includes a <code>postcssImport</code> function to configure PostCSS Import and allow you to continue using the <code>@import</code> syntax.</p> <pre><code>const postcss = require('postcss')\nconst postcssImport = require('postcss-import')\nconst postcssNormalize = require('postcss-normalize')\n\npostcss([\n  postcssImport(\n    postcssNormalize(\n      /* pluginOptions (for PostCSS Normalize) */\n    ).postcssImport(\n      /* pluginOptions (for PostCSS Import) */\n    )\n  )\n]) // now you can use @import \"normalize.css\", etc. again\n</code></pre> <p>Alternatively, use <code>@import-normalize</code> or <code>@import-sanitize</code> to avoid conflicts with <code>@import</code> transforms.</p> <pre><code>@import-normalize;\n\n\n@import-normalize \"opinionated.css\";\n\n\n@import-sanitize;\n</code></pre>"},{"location":"new-third-part-lib/postcss-normalize/#options","title":"Options","text":""},{"location":"new-third-part-lib/postcss-normalize/#allowduplicates","title":"allowDuplicates","text":"<p>The <code>allowDuplicates</code> option determines whether multiple, duplicate insertions of CSS libraries are allowed. By default, duplicate libraries are omitted.</p> <pre><code>postcssNormalize({ allowDuplicates: true })\n</code></pre>"},{"location":"new-third-part-lib/postcss-normalize/#forceimport","title":"forceImport","text":"<p>The <code>forceImport</code> option defines CSS libraries that will be inserted at the beginning of the CSS file. Unless overriden by <code>allowDuplicates</code>, duplicate CSS libraries would still be omitted.</p> <pre><code>postcssNormalize({ forceImport: true })\n</code></pre> <p>Specific CSS libraries may be defined.</p> <pre><code>postcssNormalize({\n  forceImport: 'sanitize.css'\n})\n</code></pre>"},{"location":"new-third-part-lib/postcss-normalize/#browsers","title":"browsers","text":"<p>The <code>browsers</code> option defines an override of the project\u2019s browserslist for PostCSS Normalize. This option should be avoided in leui of a browserslist file.</p> <pre><code>postcssNormalize({ browsers: 'last 2 versions' })\n</code></pre>"},{"location":"new-third-part-lib/postcss-normalize/#css-libraries","title":"CSS Libraries","text":"<p>PostCSS Normalize can include normalize.css or sanitize.css and configure either with the following combinations:</p> <pre><code>@import \"normalize\"; /* also, @import \"normalize.css\" */\n@import \"normalize/opinionated\"; /* also, @import \"normalize.css/opinionated.css\", @import \"normalize.css/*\" */\n@import \"sanitize\"; /* also, @import \"sanitize.css\" */\n@import \"sanitize/assets\"; /* also, @import \"sanitize.css/assets.css\" */\n@import \"sanitize/forms\"; /* also, @import \"sanitize.css/forms.css\" */\n@import \"sanitize/reduce-motion\"; /* also, @import \"sanitize.css/reduce-motion.css\" */\n@import \"sanitize/system-ui\"; /* also, @import \"sanitize.css/system-ui.css\" */\n@import \"sanitize/typography\"; /* also, @import \"sanitize.css/typography.css\" */\n@import \"sanitize/ui-monospace\"; /* also, @import \"sanitize.css/ui-monospace.css\" */\n@import \"sanitize/*\"; /* also, @import \"sanitize.css/*\" (sanitize + all additions) */\n</code></pre>"},{"location":"new-third-part-lib/postcss-preset-env/","title":"postcss-preset-env","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 22376  \u9605\u8bfb45\u5206\u949f</p>"},{"location":"new-third-part-lib/postcss-preset-env/#postcss-preset-env","title":"postcss-preset-env","text":""},{"location":"new-third-part-lib/postcss-preset-env/#version","title":"version","text":"<p>9.6.0\u00a0\u2022 </p>"},{"location":"new-third-part-lib/postcss-preset-env/#downloads","title":"downloads","text":"<p>5,760,417 </p>"},{"location":"new-third-part-lib/postcss-preset-env/#repository","title":"repository","text":"<p>github.com/csstools/postcss-plugins </p>"},{"location":"new-third-part-lib/postcss-preset-env/#homepage","title":"homepage","text":"<p>github.com/csstools/postcss-plugins/tree/main/plugin-packs/postcss-preset-env#readme </p>"},{"location":"new-third-part-lib/postcss-preset-env/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/postcss-preset-env/#postcss-preset-env_1","title":"PostCSS Preset Env","text":"<p>PostCSS Preset Env lets you convert modern CSS into something most browsers can understand, determining the polyfills you need based on your targeted browsers or runtime environments.</p>"},{"location":"new-third-part-lib/postcss-preset-env/#quick-start","title":"Quick start","text":"<p>PostCSS Preset Env is a PostCSS plugin. If you are already using PostCSS to build your CSS, you can simply add PostCSS Preset Env to your configuration.</p> <ul> <li>Install <code>postcss-preset-env</code> from npm.</li> <li>Add <code>postcss-preset-env</code> to your configuration.</li> <li> <p>Explore the features list.</p> <p>const postcssPresetEnv = require('postcss-preset-env');</p> <p>const yourConfig = {     plugins: [         /* other plugins /         / remove autoprefixer if you had it here, it's part of postcss-preset-env /         postcssPresetEnv({             / pluginOptions */             features: {},         })     ] }</p> </li> </ul> <p>Read more on how to use and install PostCSS Preset Env.</p>"},{"location":"new-third-part-lib/postcss-preset-env/#how-does-it-work","title":"How does it work?","text":"<p>PostCSS Preset Env is a Plugin Pack for PostCSS. It leverages the list of the features we keep an eye from CSSDB and applies plugins, so you can use those new features without having to worry about browser support.</p> <p>CSSDB exposes the browser support that each feature has which can come from Can I Use or from MDN (through mdn/browser-compat-data).</p> <p>By providing a list of browser targets for your project, plugins that aren't needed will be skipped. Over time your targets might change and by updating the settings your CSS bundle will only ever contain the needed fallbacks.</p> <p>What PostCSS Preset Env does is to take the support data that comes from MDN and Can I Use and determine from a browserslist whether those transformations are needed. It also packs Autoprefixer within and shares the list with it, so prefixes are only applied when you're going to need them given your browser support list.</p>"},{"location":"new-third-part-lib/postcss-preset-env/#glossary","title":"Glossary:","text":"<ul> <li>Browser list option : Browserslist is a package that gives you a list of browsers for a given query. For example, <code>chrome &lt; 42</code> will give you a list of every Chrome version that has been released up to, but not including, 42.</li> <li>Browser support stats : Features get introduced on browsers at certain versions. They're often visible on MDN and Can I Use. Comparing these stats with the needed support for your project tells you if it's safe to use a feature or not.</li> <li>CSS Feature : A CSS feature is often part of some spec that enables a specific feature. For example, <code>hwb</code> functional notation lets you express a given color according to its hue, whiteness, and blackness. This is part of the CSS Color 4 Spec.</li> <li>CSS Spec : A Spec is a document that collects new features, what problems are they trying to solve and how it's intended to be solved (generally). This is usually an evolving document that goes over lengthy discussions between several people from different companies.</li> <li>Plugin : A plugin is package that's intended (usually) to enable a new CSS Feature by leveraging PostCSS. This doesn't need to be part of any spec. An example of the latter is PostCSS Mixins, a concept that existed on Less or Sass, but it's not part of any spec. This plugin pack only packs plugins that enable features acknowledged by the World Wide Web Consortium (W3C) which will then be implemented by browsers later.</li> <li>Polyfill : A polyfill is a piece of code (usually JavaScript on the Web) used to provide modern functionality on older browsers that do not natively support it. A polyfill should be indistinguishable from the native behaviour.</li> </ul> <p>Here's a quick example of the syntax you can leverage by using PostCSS Preset Env.</p> <pre><code>@custom-media --viewport-medium (width &lt;= 50rem);\n@custom-selector :--heading h1, h2, h3, h4, h5, h6;\n\n:root {\n  --mainColor: #12345678;\n}\n\nbody {\n  color: var(--mainColor);\n  font-family: system-ui;\n  overflow-wrap: break-word;\n}\n\n:--heading {\n  background-image: image-set(url(img/heading.png) 1x, url(img/heading@2x.png) 2x);\n\n  @media (--viewport-medium) {\n    margin-block: 0;\n  }\n}\n\na {\n  color: rgb(0 0 100% / 90%);\n\n  &amp;:hover {\n    color: rebeccapurple;\n  }\n}\n\n/* becomes */\n\n:root {\n  --mainColor: rgba(18, 52, 86, 0.47059);\n}\n\nbody {\n  color: rgba(18, 52, 86, 0.47059);\n  color: var(--mainColor);\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Droid Sans, Helvetica Neue;\n  word-wrap: break-word;\n}\n\nh1, h2, h3, h4, h5, h6 {\n  background-image: url(img/heading.png);\n}\n\n@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {\n  h1, h2, h3, h4, h5, h6 {\n    background-image: url(img/heading@2x.png)\n  }\n}\n\n@media (max-width: 50rem) {\n  h1, h2, h3, h4, h5, h6 {\n    margin-top: 0;\n    margin-bottom: 0;\n  }\n}\n\na {\n  color: rgba(0, 0, 255, 0.9)\n}\n\na:hover {\n  color: #639;\n}\n</code></pre> <p>Without any configuration options, PostCSS Preset Env enables Stage 2 features and supports all browsers.</p> <p>Try it out in the Playground!</p> <p>[!NOTE] Please note that some features need a companion library that makes the feature work. While we try to avoid this requirement, there are instances in which this isn't possible to polyfill a new behaviour with just CSS.</p> <p>See the list below.</p>"},{"location":"new-third-part-lib/postcss-preset-env/#usage","title":"Usage","text":"<p>Add PostCSS Preset Env to your project:</p> <pre><code>npm install postcss-preset-env --save-dev\n</code></pre> <p>Use PostCSS Preset Env as a PostCSS plugin:</p> <pre><code>const postcss = require('postcss');\nconst postcssPresetEnv = require('postcss-preset-env');\n\npostcss([\n  postcssPresetEnv(/* pluginOptions */)\n]).process(YOUR_CSS /*, processOptions */);\n</code></pre> <p>PostCSS Preset Env runs in all Node environments, with special instructions for:</p> <ul> <li>Node</li> <li>PostCSS CLI</li> <li>PostCSS Load Config</li> <li>Webpack</li> <li>Next.js</li> <li>Gulp</li> <li>Grunt</li> </ul>"},{"location":"new-third-part-lib/postcss-preset-env/#position-in-your-postcss-plugins-list","title":"Position in your PostCSS plugins list","text":"<p>PostCSS Preset Env only contains polyfills and fallbacks for standard CSS features and is unable to handle non-standard features and syntactic sugar.</p> <p>If you also have PostCSS plugins for non-standard features and syntactic sugar, you should place these first in the PostCSS plugins list.</p> <pre><code>module.exports = {\n    plugins: [\n        \"postcss-syntactic-sugar\",\n        \"postcss-non-standard\",\n        // ...\n        [\n            \"postcss-preset-env\",\n            {\n                // plugin options\n            },\n        ],\n        // ...\n        // maybe a minifier?\n    ],\n};\n</code></pre> <p>You can also use the <code>insertBefore</code> / <code>insertAfter</code> plugin options for more fine grained control.</p>"},{"location":"new-third-part-lib/postcss-preset-env/#options","title":"Options","text":""},{"location":"new-third-part-lib/postcss-preset-env/#stage","title":"stage","text":"<p>The <code>stage</code> option determines which CSS features to polyfill, based upon their stability in the process of becoming implemented web standards.</p> <pre><code>postcssPresetEnv({ stage: 0 })\n</code></pre> <p>The <code>stage</code> can be <code>0</code> (experimental) through <code>4</code> (stable), or <code>false</code>. Setting <code>stage</code> to <code>false</code> will disable every polyfill. Doing this would only be useful if you intended to exclusively use the <code>features</code> option.</p> <p>Default: <code>2</code></p> <p>It is very rare for features to progress beyond stage<code>2</code>. Use<code>minimumVendorImplementations</code> if you prefer to keep up with modern features.</p>"},{"location":"new-third-part-lib/postcss-preset-env/#minimumvendorimplementations","title":"minimumVendorImplementations","text":"<p>The <code>minimumVendorImplementations</code> option determines which CSS features to polyfill, based their implementation status. This can be used to enable plugins that are available in browsers regardless of the spec status.</p> <pre><code>postcssPresetEnv({ minimumVendorImplementations: 2 })\n</code></pre> <p><code>minimumVendorImplementations</code> can be <code>0</code> (no vendor has implemented it) through <code>3</code> (all major vendors).  </p> <p>Default: <code>0</code></p> <p>Note:</p> <p>When a feature has not yet been implemented by any vendor it can be considered experimental. Even with a single implementation it might still change in the future. Sometimes issues with a feature/specification are only discovered after it becomes available.</p> <p>A value of <code>2</code> is recommended when you want to use only those features that should be stable.</p> <p>Having 2 independent implementations is a critical step in proposals becoming standards and a good indicator of a feature's stability.</p>"},{"location":"new-third-part-lib/postcss-preset-env/#features","title":"features","text":"<p>The <code>features</code> option enables or disables specific polyfills by ID. Passing <code>true</code> to a specific feature ID will enable its polyfill, while passing <code>false</code> will disable it. List of Features</p> <pre><code>postcssPresetEnv({\n  /* use stage 3 features + css nesting rules */\n  stage: 3,\n  features: {\n    'nesting-rules': true\n  }\n})\n</code></pre> <p>Passing an object to a specific feature ID will both enable and configure it.</p> <pre><code>postcssPresetEnv({\n  /* use stage 3 features + custom-selectors (preserving the original CSS) */\n  stage: 3,\n  features: {\n    'custom-selectors': { preserve: true }\n  }\n})\n</code></pre> <p>If you want to preserve automatic enabling of features based on the stage, implementations and or browserslist, you can pass an array: <code>['auto', { /* plugin options */ }]</code>.</p> <pre><code>postcssPresetEnv({\n  /* use stage 3 features + custom-selectors (preserving the original CSS) */\n  stage: 3,\n  features: {\n    'custom-selectors': ['auto', { preserve: true }]\n  }\n})\n</code></pre> <p>Any polyfills not explicitly enabled or disabled through <code>features</code> are determined by the <code>stage</code> option.</p>"},{"location":"new-third-part-lib/postcss-preset-env/#env","title":"env","text":"<p>PostCSS Preset Env supports standard browserslist configuration, which can be a <code>.browserslistrc</code> file, a <code>browserslist</code> key in <code>package.json</code>, or <code>browserslist</code> environment variables.</p> <p>The <code>env</code> option is used by browserslist to determine the named environment that should be used when you have multiple browserslist environments configured. If not set, Browserslist will use the <code>production</code> environment.</p> <pre><code>/* use the environment named `development`, instead of the default environment of `production` */\npostcssPresetEnv({ env: 'development' })\n</code></pre>"},{"location":"new-third-part-lib/postcss-preset-env/#browsers","title":"browsers","text":"<p>The <code>browsers</code> option overrides any existing browserslist configuration.</p> <p>The <code>browsers</code> option should only be used when a standard browserslist configuration is not available. When the <code>browsers</code> option is used the <code>env</code> option will be ignored.</p> <pre><code>postcssPresetEnv({ browsers: 'last 2 versions' })\n</code></pre> <p>If no valid browserslist configuration is specified, the default browserslist query will be used.</p>"},{"location":"new-third-part-lib/postcss-preset-env/#insertbefore-insertafter","title":"insertBefore / insertAfter","text":"<p>The <code>insertBefore</code> and <code>insertAfter</code> keys allow you to insert other PostCSS plugins into the chain. This is only useful if you are also using sugary PostCSS plugins that must execute before or after certain polyfills. Both <code>insertBefore</code> and <code>insertAfter</code> support chaining one or multiple plugins.</p> <pre><code>import postcssSimpleVars from 'postcss-simple-vars';\n\npostcssPresetEnv({\n  insertBefore: {\n    'all-property': postcssSimpleVars\n  }\n})\n</code></pre>"},{"location":"new-third-part-lib/postcss-preset-env/#autoprefixer","title":"autoprefixer","text":"<p>PostCSS Preset Env includes autoprefixer; the <code>env</code> and <code>browsers</code> options will be passed to it automatically.</p> <p>Specifying the <code>autoprefixer</code> option enables passing additional options into autoprefixer.</p> <pre><code>postcssPresetEnv({\n  autoprefixer: { grid: true }\n})\n</code></pre> <p>Passing <code>autoprefixer: false</code> disables autoprefixer.</p> <p>\u26a0\ufe0f autoprefixer has complex logic to fix CSS Grid in IE and older Edge.</p> <p>This can have unexpected results with certain features and when <code>preserve: true</code> is used. (defaults to <code>true</code>)</p> <pre><code>:root {\n  --grid-gap: 15px;\n}\n\n.test-grid {\n    grid-gap: var(--grid-gap);\n    grid-template-columns: repeat(2, 1fr);\n}\n</code></pre> <p>Becomes :</p> <pre><code>.test-grid {\n    grid-gap: 15px;\n    grid-gap: var(--grid-gap);\n    -ms-grid-columns: 1fr var(--grid-gap) 1fr;\n    grid-template-columns: repeat(2, 1fr);\n}\n</code></pre> <p>The prefixed <code>-ms-grid-columns</code> still has a custom property: <code>1fr var(--grid- gap) 1fr;</code> which won't work. This example shows issues with custom properties but other transforms might have similar issues.</p> <p>If you target IE or older Edge it is best to avoid using other modern features in grid property values. As a last resort you can set <code>preserve: false</code>, we do not advice this as doing so purely to fix issues with CSS grid.</p> <p>older Edge is any version before chromium ( &lt;79)</p>"},{"location":"new-third-part-lib/postcss-preset-env/#preserve","title":"preserve","text":"<p>The <code>preserve</code> option determines whether all plugins should receive a <code>preserve</code> option, which may preserve or remove otherwise-polyfilled CSS. By default, this option is not configured.</p> <pre><code>postcssPresetEnv({\n  preserve: false // instruct all plugins to omit pre-polyfilled CSS\n});\n</code></pre>"},{"location":"new-third-part-lib/postcss-preset-env/#debug","title":"debug","text":"<p>The <code>debug</code> option enables debugging messages to stdout which should be useful to help you debug which features have been enabled/disabled and why.</p>"},{"location":"new-third-part-lib/postcss-preset-env/#enableclientsidepolyfills","title":"enableClientSidePolyfills","text":"<p>The <code>enableClientSidePolyfills</code> enables all features that also need an extra browser library to be loaded into the page for it to work. Defaults to <code>false</code>.</p> <ul> <li>Note that manually enabling/disabling features via the \"feature\" option overrides this flag.</li> <li>This only controls if the PostCSS plugins are enabled. It does not cause the browsers libraries to be included in your bundle.</li> </ul>"},{"location":"new-third-part-lib/postcss-preset-env/#logical","title":"logical","text":"<p>The <code>logical</code> option can hold an object which lets you specify direction of the inline and block axes and will affect the following features:</p> <ul> <li><code>logical-properties-and-values</code>: PostCSS Logical</li> <li><code>float-clear-logical-values</code>: PostCSS Logical Float And Clear</li> <li><code>logical-resize</code>: PostCSS Logical Resize</li> <li><code>logical-viewport-units</code>: PostCSS Logical Viewport Units</li> </ul> <p>It should have <code>blockDirection</code> and/or <code>inlineDirection</code> which can be any of the following:</p> <ul> <li><code>top-to-bottom</code></li> <li><code>bottom-to-top</code></li> <li><code>left-to-right</code></li> <li> <p><code>right-to-left</code></p> <p>postcssPresetEnv({   logical: { // instruct all logical plugins to set inline axis to right to left         inlineDirection: 'right-to-left',     }, });</p> <p>.element {     float: inline-start;     padding-inline-end: 10px; }</p> </li> </ul> <p>Becomes :</p> <pre><code>.element {\n    float: right;\n    padding-left: 10px;\n}\n</code></pre> <p>You can't mix two vertical directions or two horizontal directions so for example <code>top-to-bottom</code> and <code>right-to-left</code> are valid, but <code>top-to-bottom</code> and <code>bottom-to-top</code> are not.</p> <p>You might want to tweak these values if you are using a different writing system, such as Arabic, Hebrew or Chinese for example.</p>"},{"location":"new-third-part-lib/postcss-preset-env/#stability-and-portability","title":"Stability and Portability","text":"<p>PostCSS Preset Env will often include very modern CSS features that are not fully ready yet. This gives users the chance to play around with these features and provide feedback.</p> <p>If the specification changes or is abandoned a new major version of the plugin will be released. This will require you to update your source code so that everything works as expected.</p> <p>To have more stability between updates of PostCSS Preset Env you may set <code>stage: 3</code> and/or <code>minimumVendorImplementations: 2</code>.</p> <p>A side effect of staying close to the standard is that you can more easily migrate your project to other tooling all together.</p>"},{"location":"new-third-part-lib/postcss-preset-env/#plugins-list","title":"Plugins list","text":""},{"location":"new-third-part-lib/postcss-preset-env/#plugins-that-need-client-library","title":"Plugins that need client library","text":"<p>This is the current list of features that need a client library with a link to the polyfill's library.</p> <ul> <li><code>blank-pseudo-class</code>: Plugin / Polyfill</li> <li><code>focus-visible-pseudo-class</code>: Plugin / Polyfill</li> <li><code>focus-within-pseudo-class</code>: Plugin / Polyfill</li> <li><code>has-pseudo-class</code>: Plugin / Polyfill</li> <li><code>prefers-color-scheme-query</code>: Plugin / Polyfill</li> </ul> <p>If you want to enable all these types of features, please check the <code>enableClientSidePolyfills</code> option.</p>"},{"location":"new-third-part-lib/postcss-preset-env/#plugins-not-affected-by-browser-support","title":"Plugins not affected by Browser Support","text":"<p>Given they have no support they will always be enabled if they match by Stage:</p> <ul> <li><code>blank-pseudo-class</code>: Plugin / Polyfill</li> <li><code>custom-media-queries</code>: Plugin</li> <li><code>nesting-rules</code>: Plugin</li> </ul>"},{"location":"new-third-part-lib/postcss-safe-parser/","title":"postcss-safe-parser","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1099  \u9605\u8bfb3\u5206\u949f</p>"},{"location":"new-third-part-lib/postcss-safe-parser/#postcss-safe-parser","title":"postcss-safe-parser","text":""},{"location":"new-third-part-lib/postcss-safe-parser/#version","title":"version","text":"<p>7.0.0\u00a0\u2022 </p>"},{"location":"new-third-part-lib/postcss-safe-parser/#downloads","title":"downloads","text":"<p>6,034,129 </p>"},{"location":"new-third-part-lib/postcss-safe-parser/#repository","title":"repository","text":"<p>github.com/postcss/postcss-safe-parser </p>"},{"location":"new-third-part-lib/postcss-safe-parser/#homepage","title":"homepage","text":"<p>github.com/postcss/postcss-safe-parser#readme </p>"},{"location":"new-third-part-lib/postcss-safe-parser/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/postcss-safe-parser/#postcss-safe-parser_1","title":"PostCSS Safe Parser","text":"<p>A fault-tolerant CSS parser for PostCSS, which will find &amp; fix syntax errors, capable of parsing any input. It is useful for:</p> <ul> <li>Parse legacy code with many hacks. For example, it can parse all examples from Browserhacks.</li> <li>Works with demo tools with live input like Autoprefixer demo.</li> </ul>"},{"location":"new-third-part-lib/postcss-safe-parser/#docs","title":"Docs","text":"<p>Read full docs here.</p>"},{"location":"new-third-part-lib/promise/","title":"promise","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 12803  \u9605\u8bfb26\u5206\u949f</p>"},{"location":"new-third-part-lib/promise/#promise","title":"promise","text":""},{"location":"new-third-part-lib/promise/#version","title":"version","text":"<p>8.3.0\u00a0 </p>"},{"location":"new-third-part-lib/promise/#downloads","title":"downloads","text":"<p>14,507,378 </p>"},{"location":"new-third-part-lib/promise/#repository","title":"repository","text":"<p>github.com/then/promise </p>"},{"location":"new-third-part-lib/promise/#homepage","title":"homepage","text":"<p>github.com/then/promise#readme </p> <p></p>"},{"location":"new-third-part-lib/promise/#promise_1","title":"promise","text":"<p>This is a simple implementation of Promises. It is a super set of ES6 Promises designed to have readable, performant code and to provide just the extensions that are absolutely necessary for using promises today.</p> <p>For detailed tutorials on its use, see www.promisejs.org</p> <p>N.B. This promise exposes internals via underscore (<code>_</code>) prefixed properties. If you use these, your code will break with each new release.</p> <p> </p>"},{"location":"new-third-part-lib/promise/#installation","title":"Installation","text":"<p>Server:</p> <pre><code>$ npm install promise\n</code></pre> <p>Client:</p> <p>You can use browserify on the client, or use the pre-compiled script that acts as a polyfill.</p> <pre><code>&lt;script src=\"https://www.promisejs.org/polyfills/promise-6.1.0.js\"&gt;&lt;/script&gt;\n</code></pre> <p>Note that the es5-shim must be loaded before this library to support browsers pre IE9.</p> <pre><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/es5-shim/3.4.0/es5-shim.min.js\"&gt;&lt;/script&gt;\n</code></pre>"},{"location":"new-third-part-lib/promise/#usage","title":"Usage","text":"<p>The example below shows how you can load the promise library (in a way that works on both client and server using node or browserify). It then demonstrates creating a promise from scratch. You simply call <code>new Promise(fn)</code>. There is a complete specification for what is returned by this method in Promises/A+.</p> <pre><code>var Promise = require('promise');\n\nvar promise = new Promise(function (resolve, reject) {\n  get('http://www.google.com', function (err, res) {\n    if (err) reject(err);\n    else resolve(res);\n  });\n});\n</code></pre> <p>If you need domains support, you should instead use:</p> <pre><code>var Promise = require('promise/domains');\n</code></pre> <p>If you are in an environment that implements <code>setImmediate</code> and don't want the optimisations provided by asap, you can use:</p> <pre><code>var Promise = require('promise/setimmediate');\n</code></pre> <p>If you only want part of the features, e.g. just a pure ES6 polyfill:</p> <pre><code>var Promise = require('promise/lib/es6-extensions');\n// or require('promise/domains/es6-extensions');\n// or require('promise/setimmediate/es6-extensions');\n</code></pre>"},{"location":"new-third-part-lib/promise/#unhandled-rejections","title":"Unhandled Rejections","text":"<p>By default, promises silence any unhandled rejections.</p> <p>You can enable logging of unhandled ReferenceErrors and TypeErrors via:</p> <pre><code>require('promise/lib/rejection-tracking').enable();\n</code></pre> <p>Due to the performance cost, you should only do this during development.</p> <p>You can enable logging of all unhandled rejections if you need to debug an exception you think is being swallowed by promises:</p> <pre><code>require('promise/lib/rejection-tracking').enable(\n  {allRejections: true}\n);\n</code></pre> <p>Due to the high probability of false positives, I only recommend using this when debugging specific issues that you think may be being swallowed. For the preferred debugging method, see <code>Promise#done(onFulfilled, onRejected)</code>.</p> <p><code>rejection-tracking.enable(options)</code> takes the following options:</p> <ul> <li>allRejections (<code>boolean</code>) - track all exceptions, not just reference errors and type errors. Note that this has a high probability of resulting in false positives if your code loads data optimistically</li> <li>whitelist (<code>Array&lt;ErrorConstructor&gt;</code>) - this defaults to <code>[ReferenceError, TypeError]</code> but you can override it with your own list of error constructors to track.</li> <li><code>onUnhandled(id, error)</code> and <code>onHandled(id, error)</code> - you can use these to provide your own customised display for errors. Note that if possible you should indicate that the error was a false positive if <code>onHandled</code> is called. <code>onHandled</code> is only called if <code>onUnhandled</code> has already been called.</li> </ul> <p>To reduce the chance of false-positives there is a delay of up to 2 seconds before errors are logged. This means that if you attach an error handler within 2 seconds, it won't be logged as a false positive. ReferenceErrors and TypeErrors are only subject to a 100ms delay due to the higher likelihood that the error is due to programmer error.</p>"},{"location":"new-third-part-lib/promise/#api","title":"API","text":"<p>Detailed API reference docs are available at https://www.promisejs.org/api/.</p> <p>Before all examples, you will need:</p> <pre><code>var Promise = require('promise');\n</code></pre>"},{"location":"new-third-part-lib/promise/#new-promiseresolver","title":"new Promise(resolver)","text":"<p>This creates and returns a new promise. <code>resolver</code> must be a function. The <code>resolver</code> function is passed two arguments:</p> <ol> <li><code>resolve</code> should be called with a single argument. If it is called with a non-promise value then the promise is fulfilled with that value. If it is called with a promise (A) then the returned promise takes on the state of that new promise (A).</li> <li><code>reject</code> should be called with a single argument. The returned promise will be rejected with that argument.</li> </ol>"},{"location":"new-third-part-lib/promise/#static-functions","title":"Static Functions","text":"<p>These methods are invoked by calling <code>Promise.methodName</code>.</p>"},{"location":"new-third-part-lib/promise/#promiseresolvevalue","title":"Promise.resolve(value)","text":"<p>(deprecated aliases: <code>Promise.from(value)</code>, <code>Promise.cast(value)</code>)</p> <p>Converts values and foreign promises into Promises/A+ promises. If you pass it a value then it returns a Promise for that value. If you pass it something that is close to a promise (such as a jQuery attempt at a promise) it returns a Promise that takes on the state of <code>value</code> (rejected or fulfilled).</p>"},{"location":"new-third-part-lib/promise/#promiserejectvalue","title":"Promise.reject(value)","text":"<p>Returns a rejected promise with the given value.</p>"},{"location":"new-third-part-lib/promise/#promiseallarray","title":"Promise.all(array)","text":"<p>Returns a promise for an array. If it is called with a single argument that <code>Array.isArray</code> then this returns a promise for a copy of that array with any promises replaced by their fulfilled values. e.g.</p> <pre><code>Promise.all([Promise.resolve('a'), 'b', Promise.resolve('c')])\n  .then(function (res) {\n    assert(res[0] === 'a')\n    assert(res[1] === 'b')\n    assert(res[2] === 'c')\n  })\n</code></pre>"},{"location":"new-third-part-lib/promise/#promiseanyarray","title":"Promise.any(array)","text":"<p>Returns a single promise that fulfills as soon as any of the promises in the iterable fulfills, with the value of the fulfilled promise. If no promises in the iterable fulfill (if all of the given promises are rejected), then the returned promise is rejected with an <code>AggregateError</code></p> <pre><code>var rejected = Promise.reject(0);\nvar first = new Promise(function (resolve){ setTimeout(resolve, 100, 'quick') });\nvar second = new Promise(function (resolve){ setTimeout(resolve, 500, 'slow') });\n\nvar promises = [rejected, first, second];\n\nPromise.any(promises) // =&gt; succeeds with `quick`\n</code></pre>"},{"location":"new-third-part-lib/promise/#promiseallsettledarray","title":"Promise.allSettled(array)","text":"<p>Returns a promise that resolves after all of the given promises have either fulfilled or rejected, with an array of objects that each describes the outcome of each promise.</p> <pre><code>Promise.allSettled([Promise.resolve('a'), Promise.reject('error'), Promise.resolve('c')])\n  .then(function (res) {\n    res[0] // { status: \"fulfilled\", value: 'a' }\n    res[1] // { status: \"rejected\", reason: 'error' }\n    res[2] // { status: \"fulfilled\", value: 'c' }\n  })\n</code></pre>"},{"location":"new-third-part-lib/promise/#promiseracearray","title":"Promise.race(array)","text":"<p>Returns a promise that resolves or rejects with the result of the first promise to resolve/reject, e.g.</p> <pre><code>var rejected = Promise.reject(new Error('Whatever'));\nvar fulfilled = new Promise(function (resolve) {\n  setTimeout(() =&gt; resolve('success'), 500);\n});\n\nvar race = Promise.race([rejected, fulfilled]);\n// =&gt; immediately rejected with `new Error('Whatever')`\n\nvar success = Promise.resolve('immediate success');\nvar first = Promise.race([success, fulfilled]);\n// =&gt; immediately succeeds with `immediate success`\n</code></pre>"},{"location":"new-third-part-lib/promise/#promisedenodeifyfn","title":"Promise.denodeify(fn)","text":"<p>Non Standard</p> <p>Takes a function which accepts a node style callback and returns a new function that returns a promise instead.</p> <p>e.g.</p> <pre><code>var fs = require('fs')\n\nvar read = Promise.denodeify(fs.readFile)\nvar write = Promise.denodeify(fs.writeFile)\n\nvar p = read('foo.json', 'utf8')\n  .then(function (str) {\n    return write('foo.json', JSON.stringify(JSON.parse(str), null, '  '), 'utf8')\n  })\n</code></pre>"},{"location":"new-third-part-lib/promise/#promisenodeifyfn","title":"Promise.nodeify(fn)","text":"<p>Non Standard</p> <p>The twin to <code>denodeify</code> is useful when you want to export an API that can be used by people who haven't learnt about the brilliance of promises yet.</p> <pre><code>module.exports = Promise.nodeify(awesomeAPI)\nfunction awesomeAPI(a, b) {\n  return download(a, b)\n}\n</code></pre> <p>If the last argument passed to <code>module.exports</code> is a function, then it will be treated like a node.js callback and not parsed on to the child function, otherwise the API will just return a promise.</p>"},{"location":"new-third-part-lib/promise/#prototype-methods","title":"Prototype Methods","text":"<p>These methods are invoked on a promise instance by calling <code>myPromise.methodName</code></p>"},{"location":"new-third-part-lib/promise/#promisethenonfulfilled-onrejected","title":"Promise#then(onFulfilled, onRejected)","text":"<p>This method follows the Promises/A+ spec. It explains things very clearly so I recommend you read it.</p> <p>Either <code>onFulfilled</code> or <code>onRejected</code> will be called and they will not be called more than once. They will be passed a single argument and will always be called asynchronously (in the next turn of the event loop).</p> <p>If the promise is fulfilled then <code>onFulfilled</code> is called. If the promise is rejected then <code>onRejected</code> is called.</p> <p>The call to <code>.then</code> also returns a promise. If the handler that is called returns a promise, the promise returned by <code>.then</code> takes on the state of that returned promise. If the handler that is called returns a value that is not a promise, the promise returned by <code>.then</code> will be fulfilled with that value. If the handler that is called throws an exception then the promise returned by <code>.then</code> is rejected with that exception.</p>"},{"location":"new-third-part-lib/promise/#promisecatchonrejected","title":"Promise#catch(onRejected)","text":"<p>Sugar for <code>Promise#then(null, onRejected)</code>, to mirror <code>catch</code> in synchronous code.</p>"},{"location":"new-third-part-lib/promise/#promisedoneonfulfilled-onrejected","title":"Promise#done(onFulfilled, onRejected)","text":"<p>Non Standard</p> <p>The same semantics as <code>.then</code> except that it does not return a promise and any exceptions are re-thrown so that they can be logged (crashing the application in non-browser environments)</p>"},{"location":"new-third-part-lib/promise/#promisenodeifycallback","title":"Promise#nodeify(callback)","text":"<p>Non Standard</p> <p>If <code>callback</code> is <code>null</code> or <code>undefined</code> it just returns <code>this</code>. If <code>callback</code> is a function it is called with rejection reason as the first argument and result as the second argument (as per the node.js convention).</p> <p>This lets you write API functions that look like:</p> <pre><code>function awesomeAPI(foo, bar, callback) {\n  return internalAPI(foo, bar)\n    .then(parseResult)\n    .then(null, retryErrors)\n    .nodeify(callback)\n}\n</code></pre> <p>People who use typical node.js style callbacks will be able to just pass a callback and get the expected behavior. The enlightened people can not pass a callback and will get awesome promises.</p>"},{"location":"new-third-part-lib/promise/#enterprise-support","title":"Enterprise Support","text":"<p>Available as part of the Tidelift Subscription</p> <p>The maintainers of promise and thousands of other packages are working with Tidelift to deliver commercial support and maintenance for the open source dependencies you use to build your applications. Save time, reduce risk, and improve code health, while paying the maintainers of the exact dependencies you use. Learn more.</p>"},{"location":"new-third-part-lib/promise/#license","title":"License","text":"<p>MIT</p>"},{"location":"new-third-part-lib/puppeteer-print-pdf/","title":"\u65e0\u5934\u6d4f\u89c8\u5668\u8f6c\u6362\u7f51\u9875\u5230 png","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3354  \u9605\u8bfb7\u5206\u949f</p> <pre><code>// \u4f7f\u7528\u65e0\u5934\u6d4f\u89c8\u5668\u6253\u5370\u7f51\u9875\uff08\u628a\u7f51\u9875\u8f6c\u6362\u6210 PDF \u6216\u8005 png \u683c\u5f0f\u8f93\u51fa\uff09\n// \u9700\u8981\u672c\u5730\u5b89\u88c5 puppeteer nodejs \u811a\u672c\nconst puppeteer = require('puppeteer');\n\n  // \u9875\u9762\u81ea\u52a8\u6eda\u52a8\n  const autoScroll = (page) =&gt; {\n  return page.evaluate(() =&gt; {\n    return new Promise(resolve =&gt; {\n      let totalHeight = 0\n      const distance = 100\n      // \u6bcf200\u6beb\u79d2\u8ba9\u9875\u9762\u4e0b\u6ed1100\u50cf\u7d20\u7684\u8ddd\u79bb\n      const timer = setInterval(() =&gt; {\n        const scrollDiv = document.getElementsByClassName('activity-container')[0];\n        const scrollHeight = scrollDiv.scrollHeight;\n        scrollDiv.scrollBy(0, distance)\n        totalHeight += distance\n        if (totalHeight &gt;= scrollHeight) {\n          clearInterval(timer)\n          resolve()\n        }\n      }, 200)\n    })\n  })\n}\n\n\nconst getUrl = async () =&gt; {\n  const brower = await puppeteer.launch();\n  const page = await brower.newPage();\n\n  // await page.setCookie({\n  //   name: `vol`,\n  //   domain: `https://console.volcengine.com`,\n  //   url: `https://console.volcengine.com/datarangers/org/84/app/list`,\n  //   value: `vcloudWebId=7959d7d7-be5e-4b82-b168-483c5f34e31e;`\n  // });\n\n  /* pdf\u4e2d\uff0cpx\u8f6cinch */\n  const convertPxToInches = (value) =&gt; {\n    let inches = Math.ceil(value / 96 * 1000) / 1000;\n    return `${parseFloat(inches).toFixed(3)}in`\n  }\n\n    /* \u83b7\u53d6\u9875\u9762\u9ad8\u5ea6 */\n  const realPageHeight = await page.evaluate(() =&gt; {\n    const body = document.getElementsByClassName('activity-container')[0] || document.body,\n    html = document.documentElement;\n    const pageHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n    return pageHeight;\n  })\n\n  /* \u83b7\u53d6\u9875\u9762\u5bbd\u5ea6 */\n  const realPageWidth = await page.evaluate(() =&gt; {\n    const body = document.getElementsByClassName('activity-container')[0] || document.body,\n    html = document.documentElement;\n    const pageWidth = Math.max(body.scrollWidth, body.offsetWidth, html.clientWidth, html.scrollWidth, html.offsetWidth);\n    return pageWidth;\n  })\n\n  const pageWidth = convertPxToInches(realPageWidth);\n  const pageHeight = convertPxToInches(realPageHeight);\n\n  const divHeight = await page.evaluate(() =&gt; {\n    const divContainer = document.getElementsByClassName('activity-container')[0]\n    const divContainerHeight = divContainer.scrollHeight;\n    return divContainerHeight;\n  })\n\n  const divWidth = await page.evaluate(() =&gt; {\n    const divContainer = document.getElementsByClassName('activity-container')[0]\n    const divContainerWidth = divContainer.scrollWidth;\n    return divContainerWidth;\n  })\n\n\n  await page.setViewport({\n    width: divWidth + 100,\n    height: divHeight + 100\n  })\n  await page.goto('https://chat.chengxinsong.cn/activity', {\n    timeout: 600000,\n    waitUntil: 'networkidle0',\n    // networkidle2 \u4f1a\u4e00\u76f4\u7b49\u5f85\uff0c\u76f4\u5230\u9875\u9762\u52a0\u8f7d\u540e\u4e0d\u5b58\u5728 2 \u4e2a\u4ee5\u4e0a\u7684\u8d44\u6e90\u8bf7\u6c42\uff0c\u8fd9\u79cd\u72b6\u6001\u6301\u7eed\u81f3\u5c11 500 ms\n  });\n\n  await autoScroll(page)\n\n  /* png\u56fe */\n  await page.screenshot({\n    path: `happy_chat_${new Date().getTime()}.png`\n  });\n\n  // page.emulateMediaType('screen');\n  // await page.pdf({\n  //   height: pageHeight,\n  //   width: pageHeight,\n  //   path: `happy_chat_${new Date().getTime()}.pdf`,\n  //   // format: 'a4'\n  // })\n  await brower.close();\n}\n\ngetUrl();\n</code></pre>"},{"location":"new-third-part-lib/pure-admin_vue-pure-admin/","title":"pure-admin/vue-pure-admin","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1500  \u9605\u8bfb3\u5206\u949f</p> <p>https://github.com/pure-admin/vue-pure-admin</p> <p>16K</p> <p>\u4e00\u4e2a\u540e\u53f0\u7ba1\u7406\u9879\u76ee\uff0c\u5f88\u591a\u9879\u76ee\u57fa\u4e8e\u8fd9\u4e2a\u642d\u5efa</p>"},{"location":"new-third-part-lib/pure-admin_vue-pure-admin/#_1","title":"\u9879\u76ee\u4f5c\u7528","text":"<p>\u8be5\u9879\u76ee\u91c7\u7528\u4e86\u5355\u4e00\u5165\u53e3\u6587\u4ef6\uff0c\u9879\u76ee\u4ee3\u7801\u57fa\u4e8e ESM \u6807\u51c6\u7ec4\u7ec7\uff0c\u5e76\u4f7f\u7528 Vite \u8fdb\u884c\u6784\u5efa\u4f18\u5316\u3002\u4ee3\u7801\u5e93\u4e2d\u5305\u542b\u4e30\u5bcc\u7684 UI \u7ec4\u4ef6\u3001\u56fe\u8868\u3001\u8868\u5355\u548c\u6570\u636e\u8868\uff0c\u53ef\u4ee5\u5feb\u901f\u642d\u5efa\u5404\u7c7b\u4e2d\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf\u3002</p>"},{"location":"new-third-part-lib/pure-admin_vue-pure-admin/#_2","title":"\u4ed3\u5e93\u63cf\u8ff0","text":"<p>\u8be5\u4ed3\u5e93\u5305\u542b vue-pure-admin \u9879\u76ee\u7684\u5b8c\u6574\u4ee3\u7801\u5e93\uff0c\u5305\u62ec\u524d\u7aef\u4ee3\u7801\u3001\u540e\u7aef\u63a5\u53e3\u793a\u4f8b\u548c\u6587\u6863\u3002\u9879\u76ee\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u914d\u7f6e\u9009\u9879\uff0c\u7528\u6237\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8fdb\u884c\u5b9a\u5236\u3002</p>"},{"location":"new-third-part-lib/pure-admin_vue-pure-admin/#_3","title":"\u6848\u4f8b","text":"<p>\u76ee\u524d vue-pure-admin \u5df2\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5404\u7c7b\u4e2d\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf\u9879\u76ee\u4e2d\uff0c\u5305\u62ec\u4f01\u4e1a\u7ba1\u7406\u3001\u7535\u5b50\u5546\u52a1\u548c\u6559\u80b2\u5e73\u53f0\u7b49\u3002</p>"},{"location":"new-third-part-lib/pure-admin_vue-pure-admin/#_4","title":"\u5ba2\u89c2\u8bc4\u6d4b\u6216\u5206\u6790","text":"<p>vue-pure-admin \u4ee5\u5176\u6a21\u5757\u5316\u3001\u53ef\u5b9a\u5236\u548c\u6613\u7528\u6027\u800c\u53d7\u5230\u597d\u8bc4\u3002\u5b83\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u7ec4\u4ef6\u548c\u793a\u4f8b\uff0c\u5e2e\u52a9\u5f00\u53d1\u8005\u5feb\u901f\u6784\u5efa\u590d\u6742\u7684\u4e2d\u540e\u53f0\u7cfb\u7edf\u3002</p>"},{"location":"new-third-part-lib/pure-admin_vue-pure-admin/#_5","title":"\u4f7f\u7528\u5efa\u8bae","text":"<p>\u5bf9\u4e8e\u9700\u8981\u6784\u5efa\u4e2d\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf\u7684\u5f00\u53d1\u8005\uff0cvue-pure-admin \u662f\u4e00\u4e2a\u503c\u5f97\u8003\u8651\u7684\u9879\u76ee\u3002\u5176\u4e30\u5bcc\u7684\u529f\u80fd\u548c\u6587\u6863\u53ef\u4ee5\u52a0\u901f\u5f00\u53d1\u8fdb\u7a0b\uff0c\u8282\u7701\u65f6\u95f4\u548c\u7cbe\u529b\u3002</p>"},{"location":"new-third-part-lib/pure-admin_vue-pure-admin/#_6","title":"\u7ed3\u8bba","text":"<p>vue-pure-admin \u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u3001\u6613\u4e8e\u4f7f\u7528\u7684\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf\u6a21\u7248\uff0c\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u8005\u5feb\u901f\u6784\u5efa\u5b9a\u5236\u5316\u7684\u7cfb\u7edf\u3002\u5176\u5f00\u6e90\u6027\u548c\u5b8c\u5584\u7684\u6587\u6863\u4e5f\u8ba9\u5f00\u53d1\u8005\u80fd\u591f\u6df1\u5165\u4e86\u89e3\u9879\u76ee\u5e76\u6839\u636e\u9700\u8981\u8fdb\u884c\u6269\u5c55\u548c\u4fee\u6539\u3002</p>"},{"location":"new-third-part-lib/quasar/","title":"quasar","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2283  \u9605\u8bfb5\u5206\u949f</p>"},{"location":"new-third-part-lib/quasar/#quasar_1","title":"quasar","text":"<p>https://github.com/quasarframework/quasar</p> <p>https://quasar.dev/</p> <p>https://www.npmjs.com/package/quasar</p>"},{"location":"new-third-part-lib/quasar/#version","title":"version","text":"<p>2.16.6\u00a0\u2022 </p>"},{"location":"new-third-part-lib/quasar/#downloads","title":"downloads","text":"<p>127,108 </p>"},{"location":"new-third-part-lib/quasar/#repository","title":"repository","text":"<p>github.com/quasarframework/quasar </p>"},{"location":"new-third-part-lib/quasar/#homepage","title":"homepage","text":"<p>quasar.dev </p>"},{"location":"new-third-part-lib/quasar/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/quasar/#quasar-framework-ui-package","title":"Quasar Framework UI Package","text":"<p>Build high-performance VueJS user interfaces in record time: responsive Single Page Apps, SSR Apps, PWAs, Browser extensions, Hybrid Mobile Apps and Electron Apps. If you want, all using the same codebase!</p>"},{"location":"new-third-part-lib/quasar/#supporting-quasar","title":"Supporting Quasar","text":"<p>Quasar Framework is an MIT-licensed open source project. Its ongoing development is made possible thanks to the support by these awesome backers.</p> <p>Please read our manifest onWhy donations are important. If you'd like to become a donator, check out Quasar Framework's Donator campaign.</p>"},{"location":"new-third-part-lib/quasar/#documentation","title":"Documentation","text":"<p>Head on to the Quasar Framework official website: https://quasar.dev</p> <p>\u200b</p> <p>Quasar \u4e0d\u4ec5\u4ec5\u662f\u4e00\u4e2a\u7ec4\u4ef6\u5e93\uff0c\u800c\u662f\u4e00\u4e2a\u57fa\u4e8e Vue \u7684\u5f00\u6e90\u6846\u67b6\uff0c\u53ef\u4ee5\u5e2e\u52a9 Web \u5f00\u53d1\u4eba\u5458\u5feb\u901f\u521b\u5efa\u591a\u79cd\u98ce\u683c\u7684\u54cd\u5e94\u5f0f ++ \u7f51\u7ad9/\u5e94\u7528\u7a0b\u5e8f\uff1a</p> <ul> <li> <p>SPA\uff08\u5355\u9875\u5e94\u7528\u7a0b\u5e8f\uff09</p> </li> <li> <p>SSR\uff08\u670d\u52a1\u5668\u7aef\u6e32\u67d3\u5e94\u7528\u7a0b\u5e8f\uff09\uff08+\u53ef\u9009\u7684 PWA \u5ba2\u6237\u7aef\u63a5\u7ba1\uff09</p> </li> <li> <p>PWA\uff08\u6e10\u8fdb\u5f0f Web \u5e94\u7528\u7a0b\u5e8f\uff09</p> </li> <li> <p>BEX\uff08\u6d4f\u89c8\u5668\u6269\u5c55\uff09</p> </li> <li> <p>\u901a\u8fc7 Cordova \u6216 Capacitor \u7684\u79fb\u52a8\u5e94\u7528\u7a0b\u5e8f\uff08Android\u3001iOS \u7b49\uff09</p> </li> <li> <p>\u591a\u5e73\u53f0\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\uff08\u4f7f\u7528 Electron\uff09</p> </li> </ul> <p>Quasar \u63d0\u4f9b 71 \u4e2a\u7ec4\u4ef6\u548c\u4e30\u5bcc\u7684\u5de5\u5177\uff0c\u5b9e\u73b0\u7f16\u5199\u4e00\u6b21\u4ee3\u7801\uff0c\u540c\u65f6\u5c06\u5176\u90e8\u7f72\u4e3a\u7f51\u7ad9\u3001\u79fb\u52a8\u5e94\u7528\u7a0b\u5e8f\u548c\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u8005\u5feb\u901f\u5f00\u53d1\u4e00\u6b3e\u8de8\u5e73\u53f0\u7684\u5e94\u7528\u7a0b\u5e8f\u3002</p> <p>Quasar \u4e8e 2015\u5e7410\u6708\u521b\u5efa\u4ee3\u7801\u4ed3\u5e93\uff0c2019\u5e747\u6708\u53d1\u5e03\u7b2c\u4e00\u4e2a\u7a33\u5b9a\u7248\u672c v1.0.0\uff0c2021\u5e746\u6708\u53d1\u5e03 v2.0.0 \u7248\u672c\uff0c\u5f00\u59cb\u652f\u6301 Vue3\uff0c\u76ee\u524d\u4e3b\u8981\u7531 rstoenescu \u5728\u5f00\u53d1\u548c\u7ef4\u62a4\u3002</p> \u6307\u6807 \u6570\u503c Star 24.6k NPM \u5468\u4e0b\u8f7d 102,106 Issue 428+7050 PR 99+4429 \u8d21\u732e\u8005 674 \u7ec4\u4ef6\u6570 71 <p>\u200b</p> <p>\u200b</p>"},{"location":"new-third-part-lib/raf/","title":"raf","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2766  \u9605\u8bfb6\u5206\u949f</p>"},{"location":"new-third-part-lib/raf/#raf","title":"raf","text":""},{"location":"new-third-part-lib/raf/#version","title":"version","text":"<p>3.4.1\u00a0 </p>"},{"location":"new-third-part-lib/raf/#downloads","title":"downloads","text":"<p>7,046,551 </p>"},{"location":"new-third-part-lib/raf/#repository","title":"repository","text":"<p>github.com/chrisdickinson/raf </p>"},{"location":"new-third-part-lib/raf/#homepage","title":"homepage","text":"<p>github.com/chrisdickinson/raf#readme </p>"},{"location":"new-third-part-lib/raf/#raf_1","title":"raf","text":"<p>requestAnimationFrame polyfill for node and the browser.</p> <pre><code>var\u00a0raf\u00a0=\u00a0require('raf')\n\n\n\nraf(function\u00a0tick()\u00a0{\n\n\u00a0\u00a0//\u00a0Animation\u00a0logic\n\n\u00a0\u00a0raf(tick)\n\n})\n</code></pre> <p>Note: The stream/event emitter logic found in versions prior to 1.0.0 can be found in raf-stream.</p>"},{"location":"new-third-part-lib/raf/#getting-started","title":"Getting started","text":""},{"location":"new-third-part-lib/raf/#commonjs-node-browserify-webpack-etc","title":"CommonJS (Node, Browserify, Webpack, etc.)","text":"<p>Install <code>raf</code> from npm:</p> <pre><code>npm\u00a0install\u00a0--save\u00a0raf\n</code></pre> <p>Require it like you would any other module:</p> <pre><code>const\u00a0raf\u00a0=\u00a0require('raf')\n</code></pre>"},{"location":"new-third-part-lib/raf/#amd-requirejs-etc","title":"AMD (require.js, etc)","text":"<p>Download the UMD-bundle from wzrd.in (remember to include the current version number in the filename).</p> <p>Add it to your AMD module loader config and require it like you would any other module:</p> <pre><code>define(['raf'],\u00a0raf\u00a0=&gt;\u00a0{...})\n</code></pre>"},{"location":"new-third-part-lib/raf/#script","title":"<code>&lt;script&gt;</code>","text":"<p>Download the UMD-bundle from wzrd.in (remember to include the current version number in the filename).</p> <p>Then include it via a script tag:</p> <pre><code>&lt;script\u00a0src=\"raf-x.x.x.js\"&gt;&lt;/script&gt;\n</code></pre> <p>The API will be available on <code>window.raf</code>.</p>"},{"location":"new-third-part-lib/raf/#api","title":"API","text":"<p>Documentation at Mozilla Developer Network, W3 Specification</p>"},{"location":"new-third-part-lib/raf/#var-handle-rafcallback","title":"var handle = raf(callback)","text":"<p><code>callback</code> is the function to invoke in the next frame. <code>handle</code> is a long integer value that uniquely identifies the entry in the callback list. This is a non-zero value, but you may not make any other assumptions about its value.</p>"},{"location":"new-third-part-lib/raf/#rafcancelhandle","title":"raf.cancel(handle)","text":"<p><code>handle</code> is the entry identifier returned by <code>raf()</code>. Removes the queued animation frame callback (other queued callbacks will still be invoked unless cancelled).</p>"},{"location":"new-third-part-lib/raf/#rafpolyfillobject","title":"raf.polyfill([object])","text":"<p>Shorthand to polyfill <code>window.requestAnimationFrame</code> and <code>window.cancelAnimationFrame</code> if necessary (Polyfills <code>global</code> in node).</p> <p>Alternatively you can require <code>raf/polyfill</code> which will act the same as <code>require('raf').polyfill()</code>.</p> <p>If you provide <code>object</code> the polyfills are attached to that given object, instead of the inferred global. Useful if you have an instance of a fake <code>window</code> object, and want to add <code>raf</code> and <code>caf</code> to it.</p>"},{"location":"new-third-part-lib/raf/#acknowledgments","title":"Acknowledgments","text":"<p>Based on work by Erik M\u00f6ller, Paul Irish, and Tino Zijdel (https://gist.github.com/paulirish/1579671)</p>"},{"location":"new-third-part-lib/raf/#license","title":"License","text":"<p>MIT</p>"},{"location":"new-third-part-lib/rc-calendar/","title":"rc-calendar \u8bbe\u7f6e\u8bed\u8a00-\u65e5\u671f-\u73af\u5883\u95ee\u9898","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 7388  \u9605\u8bfb15\u5206\u949f</p>"},{"location":"new-third-part-lib/rc-calendar/#_1","title":"\u9879\u76ee\u80cc\u666f","text":"<p>rc-calendar \u662f\u963f\u91cc\u5df4\u5df4\u51fa\u54c1\u7684\u79fb\u52a8\u7aef\u65e5\u5386\u7684\u5c0f\u7ec4\u4ef6\uff0c\u94fe\u63a5\u5982\u4e0b\u3002</p> <p>https://www.npmjs.com/package/rc-calendar</p> <p>https://github.com/react-component/calendar</p> <p>\u8fd9\u4e2a\u5e93\u5728 2018-2019 \u5e74\u95f4\u8fd8\u8fdb\u884c\u5927\u91cf\u66f4\u65b0\uff08\u5f53\u65f6\u8fd8\u662f\u4f55\u4e00\u9e23\u5927\u4f6c\u8d1f\u8d23\u8fd9\u4e2a\u9879\u76ee\uff09\uff0c2021\u5e74\u540e\u5c31\u57fa\u672c\u6ca1\u6709\u66f4\u65b0\u7ef4\u62a4\u4e86\uff0c\u6bd4\u8f83\u53ef\u60dc\u3002\u6211\u5728\u5b9e\u9645\u9879\u76ee\u5f00\u53d1\u4e2d\uff0c\u4f7f\u7528\u4e86\u8fd9\u4e2a\u5e93\u5e76\u5728 UI \u5c42\u9762\u8fdb\u884c\u6539\u52a8\uff0c\u529f\u80fd\u65b9\u9762\u8fdb\u884c\u5fae\u8c03\u3002</p> <p>\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u9047\u5230\u4e0b\u9762\u51e0\u4e2a\u95ee\u9898\uff0c\u7b80\u5355\u8bb0\u5f55\u4e00\u4e0b\u3002</p>"},{"location":"new-third-part-lib/rc-calendar/#_2","title":"\u95ee\u9898\uff1a\u8bed\u8a00\u548c\u56fd\u9645\u5316","text":"<p>rc-calendar \u4e5f\u662f\u57fa\u4e8e moment \u8fdb\u884c\u4e8c\u6b21\u5f00\u53d1\uff0c\u652f\u6301\u4e0d\u540c\u7684\u8bed\u8a00\uff08\u652f\u6301\u56fd\u9645\u5316 en_US and zh_CN\uff09\u3002</p> <p>\u7ffb\u8bd1\u662f\u4e24\u90e8\u5206\u5b8c\u6210\uff0c\u4e00\u90e8\u5206\u56fd\u9645\u5316\u662f\u7ec4\u4ef6\u5185\u90e8\u63d0\u4f9b\uff0c\u53e6\u4e00\u90e8\u5206\u7684\u7ffb\u8bd1\u662f moment \u63d0\u4f9b\uff0c\u6240\u4ee5\u9700\u8981\u540c\u65f6\u5f15\u5165\u4e24\u4e2a\u7ffb\u8bd1\u6587\u4ef6\u3002\u4e0b\u9762\u662f\u9ed8\u8ba4\u7684\u56fd\u9645\u5316\u914d\u7f6e\u3002</p> <pre><code>// \u5f15\u5165\u65e5\u5386\u7ec4\u4ef6\u7ffb\u8bd1\nvar Calendar = require('rc-calendar');\nvar zhCN = require('rc-calendar/lib/locale/zh_CN');\n\n// \u5f15\u5165 moment \u90e8\u5206\u7684\u7ffb\u8bd1\nimport moment from 'moment';\nrequire('moment/locale/zh-cn');\n</code></pre> <p>\u6211\u4eec\u5b9e\u9645\u9879\u76ee\u4e2d\uff0c\u56e0\u4e3a moment \u517c\u5bb9\u5404\u79cd\u60c5\u51b5\uff0c\u4ee3\u7801\u591a\uff0c\u6253\u5305\u540e\u5f88\u5927\uff0c\u6240\u4ee5\u7528 dayjs \u66ff\u6362\u4e86 moment\uff0c\u5b9e\u9645\u4ee3\u7801\u5982\u4e0b\uff0c\u540c\u6837\u9700\u8981\u5f15\u5165 dayjs \u7684\u7ffb\u8bd1\u3002</p> <pre><code>import dayjs from 'dayjs';\n\nimport 'dayjs/locale/zh-cn';\nimport 'dayjs/locale/en-gb';\n</code></pre>"},{"location":"new-third-part-lib/rc-calendar/#_3","title":"\u95ee\u9898\uff1a\u65f6\u95f4\u5e93","text":"<p>\u8bbe\u7f6e\u65f6\u533a\uff1a<code>use moment.utcOffset to set timezone</code></p> <p>\u4e0d\u4f7f\u7528 moment\uff1a\u56e0\u4e3a moment \u6bd4\u8f83\u91cd\uff0c\u53ef\u4ee5\u4f7f\u7528 dayjs \u66ff\u4ee3\uff0c\u5176\u4ed6\u7684\u6837\u5f0f\u548c\u7ffb\u8bd1\u4e5f\u9700\u8981\u5904\u7406</p> <pre><code>import dayjs from 'dayjs';\n\nlet now = dayjs();\nlet time = iszhcn ? dayjs(value).locale('zh-cn') : dayjs(value).locale('en-gb');\nlet timeStr = dayjs(time).format('HH:mm:dd');\n</code></pre>"},{"location":"new-third-part-lib/rc-calendar/#_4","title":"\u95ee\u9898\uff1a\u65e9\u671f\u7248\u672c\u5f00\u53d1\u73af\u5883","text":"<p>\u65e9\u671f rc-calendar \u4f7f\u7528\u4e86\u963f\u91cc\u5df4\u5df4\u7684 rc-tools \u96c6\u6210\u5de5\u5177\u5f00\u53d1\uff0c\u5c01\u88c5\u7684\u662f gulp 3 \u7248\u672c\uff0c\u8fd9\u4e2a\u7248\u672c\u53ea\u80fd\u548c node 10 \u4e00\u4e0b\u517c\u5bb9\uff0c\u5982\u679c\u662f node14 \u6216\u8005 node16 \u5c31\u65e0\u6cd5\u542f\u52a8\u5f00\u53d1\u73af\u5883\u3002</p> <p>\u5177\u4f53\u95ee\u9898\u548c\u89e3\u51b3\u529e\u6cd5\uff0c\u53c2\u8003\u8fd9\u91cc\uff1ahttps://blog.csdn.net/weixin_41697143/article/details/126764263</p>"},{"location":"new-third-part-lib/rc-calendar/#_5","title":"\u95ee\u9898\uff1a\u591a\u4e2a\u5b50\u9879\u76ee\u5f00\u53d1","text":"<p>\u5982\u679c\u4e00\u4e2a\u5927\u9879\u76ee\u4e2d\uff0c\u4e0d\u540c\u5b50\u9879\u76ee\u4f7f\u7528\u4e0d\u540c\u7248\u672c\u7684 rc-calendar \u90a3\u4e48\u53ef\u80fd\u9020\u6210\u65f6\u95f4\u6216\u8005\u7ffb\u8bd1\u6709\u95ee\u9898\u3002</p> <p>\u56e0\u4e3a\u4e0d\u540c\u7248\u672c\u7684 calendar \u4f9d\u8d56\u4e0d\u540c\u7248\u672c\u7684\u65f6\u95f4\u5e93\uff0c\u540c\u65f6\u4f7f\u7528\u4f1a\u663e\u793a\u9519\u8bef\u3002</p> <p>\u89e3\u51b3\u5c31\u662f\u5168\u90e8\u7edf\u4e00\u4f7f\u7528\u4e00\u4e2a\u7248\u672c\u3002</p>"},{"location":"new-third-part-lib/rc-calendar/#_6","title":"\u8be6\u7ec6\u53c2\u6570","text":"name type description prefixCls String prefixCls of this component className String additional css class of root dom node style Object additional style of root dom node dateRender (current, value) =&gt; React.Node date cell renderSidebar () =&gt; React.Node side bar renderFooter (mode) =&gt; React.Node extra footer value moment current value like input's value defaultValue moment defaultValue like input's defaultValue locale Object calendar locale format String | String[] use to format/parse date(without time) value to/from input. When an array is provided, all values are used for parsing and first value for display. disabledDate Function(current:moment):Boolean whether to disable select of current date disabledTime Function(current:moment):Object a function which return a object with member of disabledHours/disabledMinutes/disabledSeconds according to rc-time-picker showDateInput Boolean whether to show input on top of calendar panel showWeekNumber Boolean whether to show week number of year showToday Boolean whether to show today button showOk Boolean whether has ok button in footer timePicker React Element rc-timer-picker/lib/module/panel element onSelect Function(date: moment) called when a date is selected from calendar onClear Function() called when a date is cleared from calendar onChange Function(date: moment) called when a date is changed inside calendar (next year/next month/keyboard) onOk Function(date: moment) called when ok button is pressed, only if it's visible dateInputPlaceholder String date input's placeholder mode enum('time', 'date', 'month', 'year', 'decade') control which kind of panel should be shown onPanelChange Function(date: moment, mode) called when panel changed clearIcon ReactNode specific the clear icon."},{"location":"new-third-part-lib/rc-calendar/#_7","title":"\u5b9e\u9645\u6848\u4f8b","text":"<pre><code>import moment from 'moment';\nimport Calendar from 'rc-calendar';\nimport DatePicker from 'rc-calendar/lib/Picker';\nimport TimePickerPanel from 'rc-time-picker/lib/Panel';\n\nimport 'rc-calendar/assets/index.css';\nimport 'rc-time-picker/assets/index.css';\n\nimport 'moment/locale/zh-cn';\nimport 'moment/locale/en-gb';\nconst zhCN = require('rc-calendar/lib/locale/zh_CN');\nconst enUS = require('rc-calendar/lib/locale/en_US');\n\nconst format = 'YYYY-MM-DD HH:mm:ss';\nconst now = moment();\nconst defaultCalendarValue = now.clone();\n\nclass {\n  translateCalendar = (locale) =&gt; {\n    let language = enUS;\n    if (locale) {\n      switch (locale) {\n        case 'zh-ch':\n          language = zhCN;\n          break;\n        case 'en':\n          language = enUS;\n          break;\n      }\n    }\n    return language;\n  }\n\n  render() {\n    const locale = this.translateCalendar(this.props.locale);\n    const calendar = (\n      &lt;Calendar\n        ...\n        locale={locale}\n      /&gt;\n    );\n  }\n}\n</code></pre>"},{"location":"new-third-part-lib/react-cookies/","title":"react-cookies","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5366  \u9605\u8bfb11\u5206\u949f</p> <p>Load and save cookies with React</p> <p>react cookies \u5e93</p> <pre><code>import cookie from 'react-cookies';\n\ncookie.load('last_visiter') \ncookie.save('view_mode', value);\n</code></pre>"},{"location":"new-third-part-lib/react-cookies/#install","title":"Install","text":"<pre><code>$ npm install react-cookies --save\n</code></pre>"},{"location":"new-third-part-lib/react-cookies/#usage","title":"Usage","text":"<pre><code>import { Component } from 'react'\nimport cookie from 'react-cookies'\n\nimport LoginPanel from './LoginPanel'\nimport Dashboard from './Dashboard'\n\nclass MyApp extends Component {\n  constructor () {\n    super()\n\n    this.onLogin = this.onLogin.bind(this)\n    this.onLogout = this.onLogout.bind(this)\n  }\n\n  componentWillMount() {\n    this.state =  { userId: cookie.load('userId') }\n  }\n\n  onLogin(userId) {\n    this.setState({ userId })\n    cookie.save('userId', userId, { path: '/' })\n  }\n\n  onLogout() {\n    cookie.remove('userId', { path: '/' })\n  }\n\n  render() {\n    const { userId } = this.state;\n    if (!userId) {\n      return &lt;LoginPanel onSuccess={this.onLogin} /&gt;\n    }\n    return &lt;Dashboard userId={userId} /&gt;\n  }\n}\n</code></pre> <p>React cookies is the v1.0.4 of react-cookie with a couple changes.</p>"},{"location":"new-third-part-lib/react-cookies/#isomorphic-cookies","title":"Isomorphic cookies!","text":"<p>To be able to access user cookies while doing server-rendering, you can use <code>plugToRequest</code> or <code>setRawCookie</code>.</p>"},{"location":"new-third-part-lib/react-cookies/#api","title":"API","text":""},{"location":"new-third-part-lib/react-cookies/#loadname-donotparse","title":".load(name, [doNotParse])","text":"<p>Load the cookie value. Returns <code>undefined</code> if the cookie does not exist. Deserialize any cookie starting with <code>{</code> or <code>[</code> unless <code>dotNotParse</code> is <code>true</code>.</p>"},{"location":"new-third-part-lib/react-cookies/#name","title":"name","text":"<p>Type: <code>string</code> Required</p>"},{"location":"new-third-part-lib/react-cookies/#donotparse","title":"doNotParse","text":"<p>Type: <code>boolean</code> Default: false</p>"},{"location":"new-third-part-lib/react-cookies/#example","title":"Example","text":"<pre><code>import cookie from 'react-cookies'\n\ncomponentWillMount() {\n  this.state =  { token: cookie.load('token') }\n  // =&gt; 123456789\n}\n</code></pre>"},{"location":"new-third-part-lib/react-cookies/#loadall","title":".loadAll()","text":"<p>Load all available cookies. Returns an <code>object</code> containing all cookies.</p>"},{"location":"new-third-part-lib/react-cookies/#example_1","title":"Example","text":"<pre><code>import cookie from 'react-cookies'\n\ncomponentWillMount() {\n  this.state =  { cookies: cookie.loadAll() }\n  // =&gt; { cookies: { token: 123456789, _ga: GA198712 } }\n}\n</code></pre>"},{"location":"new-third-part-lib/react-cookies/#selectregex","title":".select([regex])","text":"<p>Find all the cookies with a name that match the regex. Returns an <code>object</code> with the cookie name as the key.</p>"},{"location":"new-third-part-lib/react-cookies/#example_2","title":"Example","text":"<pre><code>import cookie from 'react-cookies'\n\ncomponentWillMount() {\n  this.state =  { tests: cookie.select(/\\btest(er|ing|ed|s)?\\b/g) }\n  // =&gt; { tests: { test: 'test', 'testing': 'testing' } }\n}\n</code></pre>"},{"location":"new-third-part-lib/react-cookies/#savename-value-options","title":".save(name, value, [options])","text":"<p>Set a cookie.</p>"},{"location":"new-third-part-lib/react-cookies/#name_1","title":"name","text":"<p>Type: <code>string</code> Required</p>"},{"location":"new-third-part-lib/react-cookies/#value","title":"value","text":"<p>Type: <code>string</code>||<code>number</code>||<code>object</code> Required</p>"},{"location":"new-third-part-lib/react-cookies/#options","title":"options","text":"<p>Support all the cookie options from the RFC 6265.</p> <p>Type: <code>object</code></p>"},{"location":"new-third-part-lib/react-cookies/#path","title":"path","text":"<p>Cookie path. Use <code>/</code> as the path if you want your cookie to be accessible on all pages.</p> <p>Type: <code>string</code></p>"},{"location":"new-third-part-lib/react-cookies/#expires","title":"expires","text":"<p>Absolute expiration date for the cookie.</p> <p>Type: <code>object (date)</code></p>"},{"location":"new-third-part-lib/react-cookies/#maxage","title":"maxAge","text":"<p>Relative max age of the cookie from when the client receives it in <code>seconds</code>.</p> <p>Type: <code>number</code></p>"},{"location":"new-third-part-lib/react-cookies/#domain","title":"domain","text":"<p>Domain for the cookie. Use <code>https://*.yourdomain.com</code> if you want to access the cookie in all your subdomains.</p> <p>Type: <code>string</code></p>"},{"location":"new-third-part-lib/react-cookies/#secure","title":"secure","text":"<p>If set <code>true</code> it will only be accessible through https.</p> <p>Type: <code>boolean</code></p>"},{"location":"new-third-part-lib/react-cookies/#httponly","title":"httpOnly","text":"<p>If set <code>true</code> it will only be accessible on the server.</p> <p>Type: <code>boolean</code></p>"},{"location":"new-third-part-lib/react-cookies/#example_3","title":"Example","text":"<pre><code>import cookie from 'react-cookies'\n\nhandleButtonClick() {\n  const expires = new Date()\n   expires.setDate(Date.now() + 1000 * 60 * 60 * 24 * 14)\n\n  cookie.save(\n    'userId',\n    '1234',\n    {\n      path: '/',\n      expires,\n      maxAge: 1000,\n      domain: 'https://play.bukinoshita.io',\n      secure: true\n      httpOnly: true\n    }\n  )\n}\n</code></pre>"},{"location":"new-third-part-lib/react-cookies/#removename-options","title":".remove(name, [options])","text":"<p>Remove a cookie.</p>"},{"location":"new-third-part-lib/react-cookies/#name_2","title":"name","text":"<p>Type: <code>string</code> Required</p>"},{"location":"new-third-part-lib/react-cookies/#options_1","title":"options","text":"<p>Support all the cookie options from the RFC 6265.</p> <p>Type: <code>object</code></p>"},{"location":"new-third-part-lib/react-cookies/#path_1","title":"path","text":"<p>Cookie path. Use <code>/</code> as the path if you want your cookie to be accessible on all pages.</p> <p>Type: <code>string</code></p>"},{"location":"new-third-part-lib/react-cookies/#expires_1","title":"expires","text":"<p>Absolute expiration date for the cookie.</p> <p>Type: <code>object (date)</code></p>"},{"location":"new-third-part-lib/react-cookies/#maxage_1","title":"maxAge","text":"<p>Relative max age of the cookie from when the client receives it in <code>seconds</code>.</p> <p>Type: <code>number</code></p>"},{"location":"new-third-part-lib/react-cookies/#domain_1","title":"domain","text":"<p>Domain for the cookie. Use <code>https://*.yourdomain.com</code> if you want to access the cookie in all your subdomains.</p> <p>Type: <code>string</code></p>"},{"location":"new-third-part-lib/react-cookies/#secure_1","title":"secure","text":"<p>If set <code>true</code> it will only be accessible through https.</p> <p>Type: <code>boolean</code></p>"},{"location":"new-third-part-lib/react-cookies/#httponly_1","title":"httpOnly","text":"<p>If set <code>true</code> it will only be accessible on the server.</p> <p>Type: <code>boolean</code></p>"},{"location":"new-third-part-lib/react-cookies/#example_4","title":"Example","text":"<pre><code>import cookie from 'react-cookies'\n\nhandleButtonClick() {\n  cookie.remove('userId', { path: '/' })\n}\n</code></pre>"},{"location":"new-third-part-lib/react-cookies/#plugtorequestreq-res-unplug","title":".plugToRequest(req, res): unplug()","text":"<p>Load the user cookies so you can do server-rendering and match the same result. Also send back to the user the new cookies. Work with connect or express.js by using the cookieParser middleware first. Use <code>const unplug = plugToRequest(req, res)</code> just before your <code>renderToString</code>.</p> <p>Returns <code>unplug()</code> function so it stops setting cookies on the response.</p>"},{"location":"new-third-part-lib/react-cookies/#setrawcookiecookies","title":".setRawCookie(cookies)","text":"<p>Load the user cookies so you can do server-rendering and match the same result. Use <code>setRawCookie(headers.cookie)</code> just before your <code>renderToString</code>. Make sure it is the raw string from the request headers.</p>"},{"location":"new-third-part-lib/react-dnd-html5-backend/","title":"184 react-dnd-html5-backend","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 559  \u9605\u8bfb2\u5206\u949f</p>"},{"location":"new-third-part-lib/react-dnd-html5-backend/#_1","title":"\u7528\u9014","text":"<p>The officially supported HTML5 backend for React DnD. </p>"},{"location":"new-third-part-lib/react-dnd-html5-backend/#_2","title":"\u53ef\u9760\u6027","text":""},{"location":"new-third-part-lib/react-dnd-html5-backend/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/react-dnd-html5-backend</p> <p>https://react-dnd.github.io/react-dnd/docs/backends/html5</p>"},{"location":"new-third-part-lib/react-dnd-html5-backend/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>import { HTML5Backend } from 'react-dnd-html5-backend'\nimport { DndProvider } from 'react-dnd'\n\nexport default function MyReactApp() {\n  return (\n    &lt;DndProvider backend={HTML5Backend}&gt;\n      /* your drag-and-drop application */\n    &lt;/DndProvider&gt;\n  )\n}\n</code></pre>"},{"location":"new-third-part-lib/react-dnd-html5-backend/#_5","title":"\u5176\u4ed6","text":"<p>\u548c 183 \u8054\u5408\u4f7f\u7528</p>"},{"location":"new-third-part-lib/react-dnd/","title":"183 react-dnd","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1032  \u9605\u8bfb3\u5206\u949f</p>"},{"location":"new-third-part-lib/react-dnd/#_1","title":"\u7528\u9014","text":"<p>react \u62d6\u62fd\u7ec4\u4ef6</p>"},{"location":"new-third-part-lib/react-dnd/#_2","title":"\u53ef\u9760\u6027","text":"<p>\u4e0b\u8f7d\u91cf80\u4e07</p>"},{"location":"new-third-part-lib/react-dnd/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://react-dnd.github.io/react-dnd/</p> <p>https://www.npmjs.com/package/react-dnd</p>"},{"location":"new-third-part-lib/react-dnd/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<p>npm install react-dnd react-dnd-html5-backend</p> <pre><code>// Let's make &lt;Card text='Write the docs' /&gt; draggable!\n\nimport React from 'react'\nimport { useDrag } from 'react-dnd'\nimport { ItemTypes } from './Constants'\n\n/**\n * Your Component\n */\nexport default function Card({ isDragging, text }) {\n  const [{ opacity }, dragRef] = useDrag(\n    () =&gt; ({\n      type: ItemTypes.CARD,\n      item: { text },\n      collect: (monitor) =&gt; ({\n        opacity: monitor.isDragging() ? 0.5 : 1\n      })\n    }),\n    []\n  )\n  return (\n    &lt;div ref={dragRef} style={{ opacity }}&gt;\n      {text}\n    &lt;/div&gt;\n  )\n}\n</code></pre> <p>Hooks API</p> <p>useDrag useDrop useDragLayer useDragDropManager</p>"},{"location":"new-third-part-lib/react-dnd/#_5","title":"\u5176\u4ed6","text":"<p>\u4e3b\u8981\u4f7f\u7528\u9ad8\u9636\u51fd\u6570\u5199\u7684\uff0c\u6240\u4ee5\u8fd9\u91cc\u9700\u8981\u719f\u7ec3\u4f7f\u7528\u9ad8\u9636\u51fd\u6570</p> <p>\u5904\u7406\u6570\u636e\u5bf9\u8c61\u4e5f\u8981\u719f\u6089\uff08\u6570\u636e\u4f20\u503c\uff09</p> <p>\u62d6\u62fd\u5c42\u3001\u91ca\u653e\u5c42\u3001\u6574\u4f53\u7684\u62d6\u62fd\u76d2\u5b50</p>"},{"location":"new-third-part-lib/react-i18next/","title":"186 react-i18next","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 582  \u9605\u8bfb2\u5206\u949f</p>"},{"location":"new-third-part-lib/react-i18next/#_1","title":"\u7528\u9014","text":"<p>\u7ffb\u8bd1\u7ec4\u4ef6</p>"},{"location":"new-third-part-lib/react-i18next/#_2","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://react.i18next.com/</p>"},{"location":"new-third-part-lib/react-i18next/#_3","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>&lt;div&gt;{t('simpleContent')}&lt;/div&gt;\n&lt;Trans i18nKey=\"userMessagesUnread\" count={count}&gt;\n  Hello &lt;strong title={t('nameTitle')}&gt;{{name}}&lt;/strong&gt;, you have {{count}} unread message. &lt;Link to=\"/msgs\"&gt;Go to messages&lt;/Link&gt;.\n&lt;/Trans&gt;\n</code></pre> <p>\u652f\u6301 HOC</p> <pre><code>import React from 'react';\nimport { withTranslation } from 'react-i18next';\n\nfunction MyComponent({ t, i18n }) {\n  return &lt;p&gt;{t('my translated text')}&lt;/p&gt;\n}\n\nexport default withTranslation()(MyComponent);\n</code></pre>"},{"location":"new-third-part-lib/react-i18next/#_4","title":"\u5176\u4ed6","text":""},{"location":"new-third-part-lib/react-intl-universal/","title":"react-intl-universal","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 16350  \u9605\u8bfb33\u5206\u949f</p> <p>react-intl-universal is a React internationalization package developed by Alibaba Group.</p>"},{"location":"new-third-part-lib/react-intl-universal/#features","title":"Features","text":"<ul> <li>\u652f\u6301 React \u6846\u67b6</li> <li>\u64cd\u4f5c\u7b80\u5355\uff0c3\u4e2a\u4e3b\u8981API</li> <li>\u6570\u5b57\u65e5\u671f\u8d27\u5e01\u65f6\u95f4\u53ef\u4ee5\u652f\u6301\u4e0d\u540c\u5730\u533a</li> <li>Pluralize labels in strings\uff08\u5b57\u7b26\u4e32\u4e2d\u7684\u6807\u7b7e\u590d\u6570\uff09</li> <li>\u652f\u6301\u7ffb\u8bd1\u4e2d\u4f20\u53c2\u3001\u652f\u6301\u4f20\u5165 HTML\u3001\u652f\u6301 150 \u79cd\u8bed\u8a00</li> <li>\u5728\u6d4f\u89c8\u5668\u548c node \u73af\u5883\u4e0b\u53ef\u4ee5\u8fd0\u884c</li> <li>\u8bed\u8a00\u6570\u636e\u652f\u6301\u5d4c\u5957\u7684 JSON \u683c\u5f0f</li> </ul>"},{"location":"new-third-part-lib/react-intl-universal/#get-started","title":"Get Started","text":""},{"location":"new-third-part-lib/react-intl-universal/#install","title":"Install","text":"<pre><code>npm install react-intl-universal --save\n</code></pre>"},{"location":"new-third-part-lib/react-intl-universal/#basic-example","title":"Basic Example","text":"<p>In the following example, we initialize <code>intl</code> with app locale data (<code>locales</code>) and determine which locale is used dynamically (<code>currentLocale</code>). Then use <code>intl.get(...)</code> to get the internationalized message. That's all. Pretty simple!</p> <p>Note that you are not necessary to load all locale data, just load the current locale data on demand. Please refer the example for more detail.</p> <p>\u5e94\u7528\u7a0b\u5e8f\u7684\u8bed\u8a00\u73af\u5883\u6570\u636e(locale)\u521d\u59cb\u5316intl\uff0c\u5e76\u786e\u5b9a\u52a8\u6001\u4f7f\u7528\u54ea\u4e2a\u8bed\u8a00\u73af\u5883(currentLocale)\u3002\u7136\u540e\u4f7f\u7528intl.get(\u2026)\u6765\u83b7\u53d6\u56fd\u9645\u5316\u6d88\u606f\u3002\u6ce8\u610f\uff0c\u4e0d\u9700\u8981\u52a0\u8f7d\u6240\u6709\u533a\u57df\u8bbe\u7f6e\u6570\u636e\uff0c\u53ea\u9700\u6839\u636e\u9700\u8981\u52a0\u8f7d\u5f53\u524d\u533a\u57df\u8bbe\u7f6e\u6570\u636e\u3002</p> <pre><code>import intl from 'react-intl-universal';\n\n// common locale data\nrequire('intl/locale-data/jsonp/en.js');\nrequire('intl/locale-data/jsonp/zh.js');\n\n// app locale data\nconst locales = {\n  \"en-US\": require('./locales/en-US.js'),\n  \"zh-CN\": require('./locales/zh-CN.js'),\n};\n\nclass App extends Component {\n\n  state = {\n    initDone: false\n  }\n\n  componentDidMount() {\n    this.loadLocales();\n  }\n\n  loadLocales() {\n    // init method will load CLDR locale data according to currentLocale\n    // react-intl-universal is singleton, so you should init it only once in your app\n    intl.init({\n      currentLocale: 'en-US', // TODO: determine locale here\n      locales,\n    })\n    .then(() =&gt; {\n      // After loading CLDR locale data, start to render\n        this.setState({initDone: true});\n    });\n  }\n\n  render() {\n    return (\n      this.state.initDone &amp;&amp;\n      &lt;div&gt;\n        {intl.get('SIMPLE')}\n      &lt;/div&gt;\n    );\n  }\n\n}\n</code></pre>"},{"location":"new-third-part-lib/react-intl-universal/#message-with-variables","title":"Message With Variables","text":"<p>If the message contains variables the <code>{variable_name}</code> is substituted directly into the string. In the example below, there are two variables <code>{name}</code> and <code>{where}</code>, the second argument representing the variables in <code>get</code> method are substituted into the string.</p> <p>\u5982\u679c\u6d88\u606f\u5305\u542b\u53d8\u91cf\uff0c{variable_name}\u5c06\u88ab\u76f4\u63a5\u66ff\u6362\u5230\u5b57\u7b26\u4e32\u4e2d\u3002\u5728\u4e0b\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6709\u4e24\u4e2a\u53d8\u91cf{name}\u548c{where}\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u8868\u793aget\u65b9\u6cd5\u4e2d\u7684\u53d8\u91cf\u88ab\u66ff\u6362\u5230\u5b57\u7b26\u4e32\u4e2d\u3002</p> <p>Locale data:</p> <pre><code>{ \"HELLO\": \"Hello, {name}. Welcome to {where}!\" }\n</code></pre> <p>JS code:</p> <pre><code>intl.get('HELLO', { name: 'Michael', where: 'China' })\n// \"Hello, Michael. Welcome to China!\"\n</code></pre>"},{"location":"new-third-part-lib/react-intl-universal/#plural-form-and-number-thousands-separators","title":"Plural Form and Number Thousands Separators","text":"<p>Locale data:</p> <pre><code>{ \"PHOTO\": \"You have {num, plural, =0 {no photos.} =1 {one photo.} other {# photos.}}\" }\n</code></pre> <p>JS code:</p> <pre><code>intl.get('PHOTO', { num: 0 }); // \"You have no photos.\"\nintl.get('PHOTO', { num: 1 }); // \"You have one photo.\"\nintl.get('PHOTO', { num: 1000000 }); // \"You have 1,000,000 photos.\"\n</code></pre> <p>Plural label supports standard ICU Message syntax.</p> <p>Number thousands separators also varies according to the user's locale. According to this document, United States use a period to indicate the decimal place. Many other countries use a comma instead.</p>"},{"location":"new-third-part-lib/react-intl-universal/#display-currency","title":"Display Currency","text":"<p>Locale data:</p> <pre><code>{ \"SALE_PRICE\": \"The price is {price, number, USD}\" }\n</code></pre> <p>JS code:</p> <pre><code>intl.get('SALE_PRICE', { price: 123456.78 }); // The price is $123,456.78\n</code></pre> <p>As mentioned, the locale data is in ICU Message format.</p> <p>The syntax is {name, type, format}. Here is description:</p> <ul> <li>name is the variable name in the message. In this case, it's <code>price</code>.</li> <li>type is the type of value such as <code>number</code>, <code>date</code>, and <code>time</code>.</li> <li>format is optional, and is additional information for the displaying format of the value. In this case, it's <code>USD</code>.</li> </ul> <p>if <code>type</code> is <code>number</code> and <code>format</code> is omitted, the result is formatted number with thousands separators. If <code>format</code> is one of currency code, it will show in corresponding currency format.</p>"},{"location":"new-third-part-lib/react-intl-universal/#display-dates","title":"Display Dates","text":"<p>Locale data:</p> <pre><code>{\n  \"SALE_START\": \"Sale begins {start, date}\",\n  \"SALE_END\": \"Sale ends {end, date, long}\"\n}\n</code></pre> <p>JS code:</p> <pre><code>intl.get('SALE_START', {start:new Date()}); // Sale begins 4/19/2017\nintl.get('SALE_END', {end:new Date()}); // Sale ends April 19, 2017\n</code></pre> <p>If <code>type</code> is <code>date</code>, <code>format</code> has the following values:</p> <ul> <li><code>short</code> shows date as shortest as possible</li> <li><code>medium</code> shows short textual representation of the month</li> <li><code>long</code> shows long textual representation of the month</li> <li><code>full</code> shows dates with the most detail</li> </ul>"},{"location":"new-third-part-lib/react-intl-universal/#display-times","title":"Display Times","text":"<p>Locale data:</p> <pre><code>{\n  \"COUPON\": \"Coupon expires at {expires, time, medium}\"\n}\n</code></pre> <p>JS code:</p> <pre><code>intl.get('COUPON', {expires:new Date()}); // Coupon expires at 6:45:44 PM\n</code></pre> <p>if <code>type</code> is <code>time</code>, <code>format</code> has the following values:</p> <ul> <li><code>short</code> shows times with hours and minutes</li> <li><code>medium</code> shows times with hours, minutes, and seconds</li> <li><code>long</code> shows times with hours, minutes, seconds, and timezone</li> </ul>"},{"location":"new-third-part-lib/react-intl-universal/#default-message","title":"Default Message","text":"<p>When the specific key does't exist in current locale, you may want to make it return a default message. Use <code>defaultMessage</code> method after <code>get</code> method. For example,</p> <p>Locale data:</p> <pre><code>{ \"HELLO\": \"Hello, {name}\" }\n</code></pre> <p>JS code:</p> <pre><code>const name = 'Tony';\nintl.get('HELLO', { name }).defaultMessage(`Hello, ${name}`); // \"Hello, Tony\"\n</code></pre> <p>Or using <code>d</code> for short:</p> <pre><code>const name = 'Tony';\nintl.get('HELLO', { name }).d(`Hello, ${name}`); // \"Hello, Tony\"\n</code></pre> <p>And <code>getHTML</code> also supports default message.</p> <pre><code>const name = 'Tony';\nintl.getHTML('HELLO').d(&lt;div&gt;Hello, {name}&lt;/div&gt;) // React.Element with \"&lt;div&gt;Hello, Tony&lt;/div&gt;\"\n</code></pre>"},{"location":"new-third-part-lib/react-intl-universal/#html-message","title":"HTML Message","text":"<p>The <code>get</code> method returns string message. For HTML message, use <code>getHTML</code> instead. For example,</p> <p>Locale data:</p> <pre><code>{ \"TIP\": \"This is &lt;span style='color:red'&gt;HTML&lt;/span&gt;\" }\n</code></pre> <p>JS code:</p> <pre><code>intl.getHTML('TIP'); // {React.Element}\n</code></pre>"},{"location":"new-third-part-lib/react-intl-universal/#helper","title":"Helper","text":"<p>react-intl-universal provides a utility helping developer determine the user's <code>currentLocale</code>. As the running examples, when user select a new locale, it redirect user new location like <code>http://localhost:3000?lang=en-US</code>. Then, we can use <code>intl.determineLocale</code> to get the locale from URL. It can also support determine user's locale via cookie, localStorage, and browser default language. Refer to the APIs section for more detail.</p>"},{"location":"new-third-part-lib/react-intl-universal/#app-examples","title":"App Examples","text":"<ul> <li>Browser Apps</li> <li>Server-side App</li> <li>Component</li> </ul>"},{"location":"new-third-part-lib/react-intl-universal/#apis-definition","title":"APIs Definition","text":"<pre><code>  /**\n   * Initialize properties and load CLDR locale data according to currentLocale\n   * @param {Object} options\n   * @param {string} options.escapeHtml To escape html. Default value is true.\n   * @param {string} options.currentLocale Current locale such as 'en-US'\n   * @param {Object} options.locales App locale data like {\"en-US\":{\"key1\":\"value1\"},\"zh-CN\":{\"key1\":\"\u503c1\"}}\n   * @param {Object} options.warningHandler Ability to accumulate missing messages using third party services. See https://github.com/alibaba/react-intl-universal/releases/tag/1.11.1\n   * @param {string} options.fallbackLocale Fallback locale such as 'zh-CN' to use if a key is not found in the current locale\n   * @returns {Promise}\n   */\n  init(options)\n\n\n  /**\n   * Load more locales after init\n   * @param {Object} locales App locale data \n   */\n  load(locales)\n\n\n  /**\n   * Get the formatted message by key\n   * @param {string} key The string representing key in locale data file\n   * @param {Object} variables Variables in message\n   * @returns {string} message\n   */\n  get(key, variables)\n\n  /**\n   * Get the formatted html message by key.\n   * @param {string} key The string representing key in locale data file\n   * @param {Object} variables Variables in message\n   * @returns {React.Element} message\n  */\n  getHTML(key, options)\n\n  /**\n   * Helper: determine user's locale via URL, cookie, and browser's language.\n   * You may not need this API, if you have other rules to determine user's locale.\n   * @param {string} options.urlLocaleKey URL's query Key to determine locale. Example: if URL=http://localhost?lang=en-US, then set it 'lang'\n   * @param {string} options.cookieLocaleKey Cookie's Key to determine locale. Example: if cookie=lang:en-US, then set it 'lang'\n   * @param {string} options.localStorageLocaleKey LocalStorage's Key to determine locale such as 'lang'\n   * @returns {string} determined locale such as 'en-US'\n   */\n  determineLocale(options)\n\n  /**\n   * Get the inital options \n   * @returns {Object} options includes currentLocale and locales\n   */\n  getInitOptions()\n</code></pre> <p>\u4e0e\u5176\u4ed6\u8bed\u8a00\u5e93\u7684\u517c\u5bb9\uff1b\u6d4f\u89c8\u5668\u517c\u5bb9\u7b49</p>"},{"location":"new-third-part-lib/react-intl-universal/#compatibility-with-react-intl","title":"Compatibility with react-intl","text":"<p>As mentioned in the issue Mirror react-intl API, to make people switch their existing React projects from react-intl to react-intl-universal. We provide two compatible APIs as following.</p> <pre><code>  /**\n   * As same as get(...) API\n   * @param {Object} options \n   * @param {string} options.id \n   * @param {string} options.defaultMessage\n   * @param {Object} variables Variables in message\n   * @returns {string} message\n  */\n  formatMessage(options, variables)\n  /**\n   * As same as getHTML(...) API\n   * @param {Object} options \n   * @param {string} options.id \n   * @param {React.Element} options.defaultMessage\n   * @param {Object} variables Variables in message\n   * @returns {React.Element} message\n  */\n  formatHTMLMessage(options, variables)\n</code></pre> <p>For example, the <code>formatMessage</code> API</p> <pre><code>const name = 'Tony';\nintl.formatMessage({ id:'hello', defaultMessage: `Hello, ${name}`}, {name});\n</code></pre> <p>is equivalent to <code>get</code> API</p> <pre><code>const name = 'Tony';\nintl.get('hello', {name}).d(`Hello, ${name}`);\n</code></pre> <p>And the <code>formatHTMLMessage</code> API</p> <pre><code>const name = 'Tony';\nintl.formatHTMLMessage({ id:'hello', defaultMessage: &lt;div&gt;Hello&lt;/div&gt;}, {name});\n</code></pre> <p>is equivalent to <code>getHTML</code> API</p> <pre><code>const name = 'Tony';\nintl.getHTML('hello', {name}).d(&lt;div&gt;Hello&lt;/div&gt;);\n</code></pre>"},{"location":"new-third-part-lib/react-intl-universal/#browser-compatibility","title":"Browser Compatibility","text":"<p>Before using react-intl-universal, you need to include scripts below in HTML to support older browser.</p> <pre><code>&lt;!--[if lt IE 9]&gt;\n&lt;script src=\"//f.alicdn.com/es5-shim/4.5.7/es5-shim.min.js\"&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n&lt;script&gt;\nif(typeof Promise!==\"function\"){document.write('&lt;script src=\"//f.alicdn.com/es6-shim/0.35.1/??es6-shim.min.js,es6-sham.min.js\"&gt;&lt;\\/script&gt;')}\n&lt;/script&gt;\n</code></pre>"},{"location":"new-third-part-lib/react-intl-universal/#tools","title":"Tools","text":"<ul> <li>react-intl-universal-extract: Extract default messages in application. This package will generate a json file which contains the extracted messages.</li> <li>react-intl-universal-pseudo-converter: A pseudo-localization tool for testing internationalization.</li> </ul>"},{"location":"new-third-part-lib/react-intl-universal/#live-demo","title":"Live Demo","text":"<ul> <li>react-intl-universal demo</li> <li>CodeSandbox</li> </ul>"},{"location":"new-third-part-lib/react-intl-universal/#why-another-internationalization-solution-for-react","title":"Why Another Internationalization Solution for React?","text":"<p>react-intl \u4e5f\u662f\u4e00\u4e2a\u7ffb\u8bd1\u5e93\uff0c\u6709\u4e24\u4e2a\u7f3a\u70b9</p> <p>In case of internationalizing React apps, react-intl is one of most popular package in industry. react-intl decorate your React.Component with wrapped component which is injected internationalized message dynamically so that the locale data is able to be loaded dynamically without reloading page. The following is the example code using react-intl.</p> <p>\u5728React\u5e94\u7528\u7684\u56fd\u9645\u5316\u65b9\u9762\uff0cReact -intl\u662f\u4e1a\u754c\u6700\u6d41\u884c\u7684\u5305\u4e4b\u4e00\u3002\u7ec4\u4ef6\u4e0e\u5c01\u88c5\u7ec4\u4ef6\uff0c\u5c01\u88c5\u7ec4\u4ef6\u52a8\u6001\u6ce8\u5165\u56fd\u9645\u5316\u6d88\u606f\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u52a8\u6001\u52a0\u8f7d\u533a\u57df\u8bbe\u7f6e\u6570\u636e\uff0c\u800c\u65e0\u9700\u91cd\u65b0\u52a0\u8f7d\u9875\u9762\u3002\u4e0b\u9762\u662f\u4f7f\u7528react-intl\u7684\u793a\u4f8b\u4ee3\u7801\u3002</p> <pre><code>import { injectIntl } from 'react-intl';\n\nclass MyComponent extends Component {\n  render() {\n    const intl = this.props;\n    const title = intl.formatMessage({ id: 'title' });\n    return (&lt;div&gt;{title}&lt;/div&gt;);\n  }\n};\n\nexport default injectIntl(MyComponent);\n</code></pre> <p>However, this approach introduces two major issues.</p> <p>Firstly, Internationalizing can be applied only in view layer such as React.Component. For Vanilla JS file, there's no way to internationalize it. For example, the following snippet is general form validator used by many React.Component in our apps. We definitely will not have such code separated in different React.Component in order to internationalize the warning message. Sadly, react-intl can't be used in Vanilla JS.</p> <p>\u9996\u5148\uff0c\u56fd\u9645\u5316\u53ea\u80fd\u5e94\u7528\u4e8e\u89c6\u56fe\u5c42\uff0c\u5982React.Component\u3002\u4f8b\u5982\uff0c\u4e0b\u9762\u7684\u4ee3\u7801\u7247\u6bb5\u662f\u8bb8\u591aReact\u4f7f\u7528\u7684\u901a\u7528\u8868\u5355\u9a8c\u8bc1\u5668\u3002\u7ec4\u4ef6\u5728\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u6211\u4eec\u7edd\u5bf9\u4e0d\u4f1a\u5728\u4e0d\u540c\u7684React\u4e2d\u5206\u79bb\u8fd9\u6837\u7684\u4ee3\u7801\u3002\u7ec4\u4ef6\uff0c\u4ee5\u4fbf\u56fd\u9645\u5316\u8b66\u544a\u6d88\u606f\u3002\u9057\u61be\u7684\u662f\uff0creact-intl\u4e0d\u80fd\u5728 Vanilla JS\u4e2d\u4f7f\u7528\u3002</p> <pre><code>export default const rules = {\n  noSpace(value) {\n    if (value.includes(' ')) {\n      return 'Space is not allowed.';\n    }\n  }\n};\n</code></pre> <p>Secondly, since your React.Component is wrapped by another class, the behavior is not as expected in many way. For example, to get the instance of React.Component, you can't use the normal way like:</p> <p>\u7b2c\u4e8c\uff0c\u81ea\u4ece\u4f60\u7684React\u3002\u7ec4\u4ef6\u88ab\u53e6\u4e00\u4e2a\u7c7b\u5305\u88c5\uff0c\u5176\u884c\u4e3a\u5728\u5f88\u591a\u65b9\u9762\u90fd\u4e0d\u7b26\u5408\u9884\u671f\u3002\u4f8b\u5982\uff0c\u83b7\u53d6React\u7684\u5b9e\u4f8b\u3002\u7ec4\u4ef6\uff0c\u4f60\u4e0d\u80fd\u4f7f\u7528\u6b63\u5e38\u7684\u65b9\u5f0f\uff0c\u5982:</p> <pre><code>class App {\n  render() {\n    &lt;MyComponent ref=\"my\"/&gt;\n  }\n  getMyInstance() {\n    console.log('getMyInstance', this.refs.my);\n  }\n}\n</code></pre> <p>Instead, you need to use the method <code>getWrappedInstance()</code> to get that.</p> <pre><code>class MyComponent {...}\nexport default injectIntl(MyComponent, {withRef: true});\n\n\nclass App {\n  render() {\n    &lt;MyComponent ref=\"my\"/&gt;\n  }\n  getMyInstance() {\n    console.log('getMyInstance', this.refs.my.getWrappedInstance());\n  }\n}\n</code></pre> <p>Furthermore, your React.Component's properties are not inherited in subclass since component is injected by react-intl.</p> <p>Due to the problem above, we create react-intl-universal to internationalize React app using simple but powerful API.</p> <p>\u6b64\u5916,\u4f60\u7684\u7ec4\u4ef6\u7684\u5c5e\u6027\u4e0d\u4f1a\u5728\u5b50\u7c7b\u4e2d\u7ee7\u627f\uff0c\u56e0\u4e3a\u7ec4\u4ef6\u662f\u901a\u8fc7react-intl\u6ce8\u5165\u7684\u3002</p> <p>\u7531\u4e8e\u4e0a\u9762\u7684\u95ee\u9898\uff0c\u6211\u4eec\u521b\u5efa\u4e86React -intl-universal\u6765\u4f7f\u7528\u7b80\u5355\u4f46\u5f3a\u5927\u7684API\u6765\u56fd\u9645\u5316React\u5e94\u7528\u3002</p> <p>\u4e2a\u4eba\u7ec3\u4e60\uff1a\u53ea\u5904\u7406\u4e86\u76f4\u63a5\u7ffb\u8bd1\u548c\u53c2\u6570\u7ffb\u8bd1\uff0c\u65e5\u671f\u6570\u5b57\u7b49\u6ca1\u6709\u5904\u7406</p> <pre><code>import intl from 'react-intl-universal';\n\nrequire('intl/locale-data/en.js');\nrequire('intl/locale-data/zh.js');\n\n// app locale data\nconst locales = {\n  \"en-US\": require('./locales/en-US.js'),\n  \"zh-CN\": require('./locales/zh-CN.js'),\n};\n\nclass App extends Component {\n\n  componentDidMount() {\n    this.initLocales();\n  }\n\n  initLocales() {\n    intl.init({\n      currentLocale: 'en-US',\n      locales,\n    })\n    .then(() =&gt; {\n      console.log('load success');\n    });\n  }\n\n  render() {\n    return (\n      {intl.get('Name')}\n      {intl.get('Hello', {\n        name: 'Mike',\n        age: '20'\n      })}\n    );\n  }\n}\n</code></pre>"},{"location":"new-third-part-lib/react-is-deprecated/","title":"022 react-is-deprecated","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 283  \u9605\u8bfb1\u5206\u949f</p>"},{"location":"new-third-part-lib/react-is-deprecated/#_1","title":"\u7528\u9014","text":"<p>\u5c06 isDeprecated \u6dfb\u52a0\u5230\u60a8\u7684 React PropTypes?</p>"},{"location":"new-third-part-lib/react-is-deprecated/#_2","title":"\u53ef\u9760\u6027","text":"<p>44\u9897\u661f\u661f\uff0c\u6700\u597d\u4e0d\u7528</p>"},{"location":"new-third-part-lib/react-is-deprecated/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://github.com/Aweary/react-is-deprecated</p> <p>https://www.npmjs.com/package/react-is-deprecated</p>"},{"location":"new-third-part-lib/react-is-deprecated/#_4","title":"\u5176\u4ed6","text":"<p>\u5f53\u524d\u9879\u76ee\u4e2d\u672a\u7528\u5230</p>"},{"location":"new-third-part-lib/react-is/","title":"react-is","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2662  \u9605\u8bfb6\u5206\u949f</p> <p>facebook \u5b98\u65b9\u7684 react \u5e93\uff0c\u8fd9\u4e2a\u5305\u5141\u8bb8\u4f60\u6d4b\u8bd5\u4efb\u610f\u503c\u5e76\u67e5\u770b\u5b83\u4eec\u662f\u5426\u662f\u7279\u5b9a\u7684 React \u5143\u7d20\u7c7b\u578b\u3002</p> <p>This package allows you to test arbitrary values and see if they're a particular React element type.</p> <p>\u4f5c\u7528\uff1a\u5982\u679c\u8981\u6e32\u67d3\u4e00\u4e2a\u672a\u786e\u5b9a\u7684\u7ec4\u4ef6\uff08\u5176\u4ed6\u5730\u65b9\u4f20\u7684\u7ec4\u4ef6\u7b49\uff09\uff0c\u53ef\u4ee5\u5148\u5224\u65ad\u662f\u5426\u662f\u5408\u6cd5\u7684\u7ec4\u4ef6\uff0c\u7136\u540e\u8fdb\u884c\u6e32\u67d3\u3002</p>"},{"location":"new-third-part-lib/react-is/#installation","title":"Installation","text":"<pre><code>npm install react-is\n</code></pre>"},{"location":"new-third-part-lib/react-is/#usage","title":"Usage","text":""},{"location":"new-third-part-lib/react-is/#determining-if-a-component-is-valid","title":"Determining if a Component is Valid \u786e\u5b9a\u7ec4\u4ef6\u662f\u5426\u6709\u6548","text":"<pre><code>import React from \"react\";\nimport * as ReactIs from \"react-is\";\n\nclass ClassComponent extends React.Component {\n  render() {\n    return React.createElement(\"div\");\n  }\n}\n\nconst FunctionComponent = () =&gt; React.createElement(\"div\");\n\nconst ForwardRefComponent = React.forwardRef((props, ref) =&gt;\n  React.createElement(Component, { forwardedRef: ref, ...props })\n);\n\nconst Context = React.createContext(false);\n\nReactIs.isValidElementType(\"div\"); // true\nReactIs.isValidElementType(ClassComponent); // true\nReactIs.isValidElementType(FunctionComponent); // true\nReactIs.isValidElementType(ForwardRefComponent); // true\nReactIs.isValidElementType(Context.Provider); // true\nReactIs.isValidElementType(Context.Consumer); // true\nReactIs.isValidElementType(React.createFactory(\"div\")); // true\n</code></pre>"},{"location":"new-third-part-lib/react-is/#determining-an-elements-type","title":"Determining an Element's Type \u786e\u5b9a\u7ec4\u4ef6\u7c7b\u578b","text":""},{"location":"new-third-part-lib/react-is/#context","title":"Context","text":"<pre><code>import React from \"react\";\nimport * as ReactIs from 'react-is';\n\nconst ThemeContext = React.createContext(\"blue\");\n\nReactIs.isContextConsumer(&lt;ThemeContext.Consumer /&gt;); // true\nReactIs.isContextProvider(&lt;ThemeContext.Provider /&gt;); // true\nReactIs.typeOf(&lt;ThemeContext.Provider /&gt;) === ReactIs.ContextProvider; // true\nReactIs.typeOf(&lt;ThemeContext.Consumer /&gt;) === ReactIs.ContextConsumer; // true\n</code></pre>"},{"location":"new-third-part-lib/react-is/#element","title":"Element","text":"<pre><code>import React from \"react\";\nimport * as ReactIs from 'react-is';\n\nReactIs.isElement(&lt;div /&gt;); // true\nReactIs.typeOf(&lt;div /&gt;) === ReactIs.Element; // true\n</code></pre>"},{"location":"new-third-part-lib/react-is/#fragment","title":"Fragment","text":"<pre><code>import React from \"react\";\nimport * as ReactIs from 'react-is';\n\nReactIs.isFragment(&lt;&gt;&lt;/&gt;); \n// true\nReactIs.typeOf(&lt;&gt;&lt;/&gt;) === ReactIs.Fragment;\n// true\n</code></pre>"},{"location":"new-third-part-lib/react-is/#portal","title":"Portal","text":"<pre><code>import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as ReactIs from 'react-is';\n\nconst div = document.createElement(\"div\");\nconst portal = ReactDOM.createPortal(&lt;div /&gt;, div);\n\nReactIs.isPortal(portal); // true\nReactIs.typeOf(portal) === ReactIs.Portal; // true\n</code></pre>"},{"location":"new-third-part-lib/react-is/#strictmode","title":"StrictMode","text":"<pre><code>import React from \"react\";\nimport * as ReactIs from 'react-is';\n\nReactIs.isStrictMode(&lt;React.StrictMode /&gt;); // true\nReactIs.typeOf(&lt;React.StrictMode /&gt;) === ReactIs.StrictMode; // true\n</code></pre>"},{"location":"new-third-part-lib/reactstrap/","title":"reactstrap","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9981  \u9605\u8bfb20\u5206\u949f</p>"},{"location":"new-third-part-lib/reactstrap/#_1","title":"\u7528\u9014","text":"<p>PC \u7aef UI\u5e93</p>"},{"location":"new-third-part-lib/reactstrap/#_2","title":"\u53ef\u9760\u6027","text":"<p>react + bootstrap\uff0c\u653e\u5fc3\u4f7f\u7528</p>"},{"location":"new-third-part-lib/reactstrap/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://reactstrap.github.io/</p> <p>https://www.npmjs.com/package/reactstrap</p>"},{"location":"new-third-part-lib/reactstrap/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>import React from 'react';\nimport { Button } from 'reactstrap';\n\nexport default (props) =&gt; {\n  return (\n    &lt;Button color=\"danger\"&gt;Danger!&lt;/Button&gt;\n  );\n};\n</code></pre>"},{"location":"new-third-part-lib/reactstrap/#_5","title":"\u5176\u4ed6","text":"<p>\u6ce8\u610f\u4e0d\u7528\u7248\u672c\u7684\u914d\u7f6e\u6587\u4ef6\u4e0d\u540c\uff1b\u8fd9\u4e2a UI \u548c\u5176\u4ed6\u7684 UI \u5e93\u6837\u5f0f\u662f\u5426\u51b2\u7a81\u7b49</p>"},{"location":"new-third-part-lib/reactstrap/#readme","title":"Readme","text":""},{"location":"new-third-part-lib/reactstrap/#tooltip-api","title":"Tooltip API \u8bf4\u660e","text":"<p>Tooltip\uff08\u63d0\u793a\u6846\uff09\u662f Bootstrap \u5e38\u89c1\u7684\u7ec4\u4ef6\u4e4b\u4e00\uff0c\u901a\u5e38\u663e\u793a\u6309\u94ae\u7684\u8bf4\u660e\u6587\u672c\u6216\u8005\u6587\u4ef6\u540d\u7b49\u4fe1\u606f\u3002</p> \u9009\u9879\u540d\u79f0 \u7c7b\u578b/\u9ed8\u8ba4\u503c Data \u5c5e\u6027\u540d\u79f0 \u63cf\u8ff0 animation boolean \u9ed8\u8ba4\u503c\uff1atrue data-animation \u63d0\u793a\u5de5\u5177\u4f7f\u7528 CSS \u6e10\u53d8\u6ee4\u955c\u6548\u679c\u3002 html boolean \u9ed8\u8ba4\u503c\uff1afalse data-html \u5411\u63d0\u793a\u5de5\u5177\u63d2\u5165 HTML\u3002\u5982\u679c\u4e3a false\uff0cjQuery \u7684 text \u65b9\u6cd5\u5c06\u88ab\u7528\u4e8e\u5411 dom \u63d2\u5165\u5185\u5bb9\u3002\u5982\u679c\u60a8\u62c5\u5fc3 XSS \u653b\u51fb\uff0c\u8bf7\u4f7f\u7528 text\u3002 placement string|function \u9ed8\u8ba4\u503c\uff1atop data-placement \u89c4\u5b9a\u5982\u4f55\u5b9a\u4f4d\u63d0\u793a\u5de5\u5177\uff08\u5373 top|bottom|left|right|auto\uff09\u3002 \u5f53\u6307\u5b9a\u4e3a auto \u65f6\uff0c\u4f1a\u52a8\u6001\u8c03\u6574\u63d0\u793a\u5de5\u5177\u3002\u4f8b\u5982\uff0c\u5982\u679c placement \u662f \"auto left\"\uff0c\u63d0\u793a\u5de5\u5177\u5c06\u4f1a\u5c3d\u53ef\u80fd\u663e\u793a\u5728\u5de6\u8fb9\uff0c\u5728\u60c5\u51b5\u4e0d\u5141\u8bb8\u7684\u60c5\u51b5\u4e0b\u5b83\u624d\u4f1a\u663e\u793a\u5728\u53f3\u8fb9\u3002\u8fd9\u4e2a\u5f88\u91cd\u8981 selector string \u9ed8\u8ba4\u503c\uff1afalse data-selector \u5982\u679c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9009\u62e9\u5668\uff0c\u63d0\u793a\u5de5\u5177\u5bf9\u8c61\u5c06\u88ab\u59d4\u6d3e\u5230\u6307\u5b9a\u7684\u76ee\u6807\u3002 title string | function \u9ed8\u8ba4\u503c\uff1a'' data-title \u5982\u679c\u672a\u6307\u5b9a title \u5c5e\u6027\uff0c\u5219 title \u9009\u9879\u662f\u9ed8\u8ba4\u7684 title \u503c\u3002 trigger string \u9ed8\u8ba4\u503c\uff1a'hover focus' data-trigger \u5b9a\u4e49\u5982\u4f55\u89e6\u53d1\u63d0\u793a\u5de5\u5177\uff1a click| hover | focus | manual\u3002\u60a8\u53ef\u4ee5\u4f20\u9012\u591a\u4e2a\u89e6\u53d1\u5668\uff0c\u6bcf\u4e2a\u89e6\u53d1\u5668\u4e4b\u95f4\u7528\u7a7a\u683c\u5206\u9694\u3002\u9ed8\u8ba4\u662fhover\u89e6\u53d1\u63d0\u793a\u5de5\u5177 delay number | object \u9ed8\u8ba4\u503c\uff1a0 data-delay \u5ef6\u8fdf\u663e\u793a\u548c\u9690\u85cf\u63d0\u793a\u5de5\u5177\u7684\u6beb\u79d2\u6570 - \u5bf9 manual \u624b\u52a8\u89e6\u53d1\u7c7b\u578b\u4e0d\u9002\u7528\u3002\u5982\u679c\u63d0\u4f9b\u7684\u662f\u4e00\u4e2a\u6570\u5b57\uff0c\u90a3\u4e48\u5ef6\u8fdf\u5c06\u4f1a\u5e94\u7528\u4e8e\u663e\u793a\u548c\u9690\u85cf\u3002\u5982\u679c\u63d0\u4f9b\u7684\u662f\u5bf9\u8c61\uff0c\u7ed3\u6784\u5982\u4e0b\u6240\u793a\uff1a<code>delay: { show: 500, hide: 100 }</code>\u5982\u679c\u591a\u4e2a\u63d0\u793a\u5de5\u5177\uff0c\u6700\u597d\u8bbe\u7f6e\u5ef6\u8fdf\u65f6\u95f4\u4e3a100 container string | false \u9ed8\u8ba4\u503c\uff1afalse data-container \u5411\u6307\u5b9a\u5143\u7d20\u8ffd\u52a0\u63d0\u793a\u5de5\u5177\u3002 \u5b9e\u4f8b\uff1a container: 'body' <p>\u4e0b\u9762\u662f\u8be6\u7ec6\u7684\u8bf4\u660e</p> <pre><code>Tooltip.propTypes = {\n  // space separated list of triggers (e.g. \"click hover focus\")\n  trigger: PropTypes.string,\n  // boundaries for popper, can be scrollParent, window, viewport, or any DOM element(\u8fb9\u754c\u5143\u7d20\uff0c\u53ef\u4ee5\u7a97\u53e3\uff0c\u6eda\u52a8\u7684\u7236\u5143\u7d20\uff0cDOM\u5143\u7d20\uff0c\u89c6\u53e3)\n  boundariesElement: PropTypes.oneOfType([PropTypes.string, DOMElement]),\n  // boolean to control the state of the tooltip\n  isOpen: PropTypes.bool,\n  hideArrow: PropTypes.bool,\n\n  // callback for toggling isOpen in the controlling component. It will receive an object with info about the event that triggered it\n  toggle: PropTypes.func,\n  // target element or element ID, popover is attached to this element(\u76ee\u6807\u5143\u7d20\u6216\u8005\u5143\u7d20ID\uff0c\u9f20\u6807\u7ecf\u8fc7\u76ee\u6807\u5143\u7d20\uff0c\u5bf9\u5e94\u7684\u63d0\u793a\u6587\u672c\u663e\u793a)\n  target:  PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n    DOMElement, // instanceof Element (https://developer.mozilla.org/en-US/docs/Web/API/Element)\n  ]).isRequired,\n\n  // Where to inject the popper DOM node, default to body\n  container: PropTypes.oneOfType([PropTypes.string, PropTypes.func, DOMElement]),\n  // optionally override show/hide delays - default { show: 0, hide: 250 }\n  delay: PropTypes.oneOfType([\n    PropTypes.shape({ show: PropTypes.number, hide: PropTypes.number }),\n    PropTypes.number\n  ]),\n  className: PropTypes.string,\n  // Apply class to the inner-tooltip\n  innerClassName: PropTypes.string,\n  // Apply class to the arrow-tooltip ('arrow' by default)\n  arrowClassName: PropTypes.string,\n  // optionally hide tooltip when hovering over tooltip content - default true\n  autohide: PropTypes.bool,\n  // convenience attachments for popover \u901a\u5e38\u8bbe\u7f6e\u4f4d\u7f6e\u4e3a\u81ea\u52a8\uff0c\u7ec4\u4ef6\u4f1a\u81ea\u52a8\u9009\u62e9\u5408\u9002\u7684\u4f4d\u7f6e\u3002\n  placement: PropTypes.oneOf([\n    'auto',\n    'auto-start',\n    'auto-end',\n    'top',\n    'top-start',\n    'top-end',\n    'right',\n    'right-start',\n    'right-end',\n    'bottom',\n    'bottom-start',\n    'bottom-end',\n    'left',\n    'left-start',\n    'left-end',\n  ]),\n  // Custom modifiers that are passed to Popper.js, see https://popper.js.org/popper-documentation.html#modifiers\n  modifiers: PropTypes.object,\n  offset: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n  ]),\n  // Custom ref handler that will be assigned to the \"ref\" of the &lt;div&gt; wrapping the tooltip elements\n  innerRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object\n  ])\n}\n</code></pre> <pre><code>let delay = {show: 100, hide: 300};\n\nreturn(\n    &lt;Tooltip delay={delay} isOpen={this.state.showToolTip} toggle={this.toggleToolTip} target={textTip} placement=\"bottom\" &gt;TextName&lt;/Tooltip&gt;\n);\n</code></pre>"},{"location":"new-third-part-lib/reactstrap/#layout-components-container-row-col","title":"Layout Components (Container, Row, Col)","text":"<pre><code>import React from 'react';\nimport { Container, Row, Col } from 'reactstrap';\n\nexport default class Example extends React.Component {\n  render() {\n    return (\n      &lt;Container&gt;\n        &lt;Row&gt;\n          &lt;Col&gt;.col&lt;/Col&gt;\n        &lt;/Row&gt;\n        &lt;Row&gt;\n          &lt;Col&gt;.col&lt;/Col&gt;\n          &lt;Col&gt;.col&lt;/Col&gt;\n          &lt;Col&gt;.col&lt;/Col&gt;\n          &lt;Col&gt;.col&lt;/Col&gt;\n        &lt;/Row&gt;\n        &lt;Row&gt;\n          &lt;Col xs=\"3\"&gt;.col-3&lt;/Col&gt;\n          &lt;Col xs=\"auto\"&gt;.col-auto - variable width content&lt;/Col&gt;\n          &lt;Col xs=\"3\"&gt;.col-3&lt;/Col&gt;\n        &lt;/Row&gt;\n        &lt;Row&gt;\n          &lt;Col xs=\"6\"&gt;.col-6&lt;/Col&gt;\n          &lt;Col xs=\"6\"&gt;.col-6&lt;/Col&gt;\n        &lt;/Row&gt;\n        &lt;Row&gt;\n          &lt;Col xs=\"6\" sm=\"4\"&gt;.col-6 .col-sm-4&lt;/Col&gt;\n          &lt;Col xs=\"6\" sm=\"4\"&gt;.col-6 .col-sm-4&lt;/Col&gt;\n          &lt;Col sm=\"4\"&gt;.col-sm-4&lt;/Col&gt;\n        &lt;/Row&gt;\n        &lt;Row&gt;\n          &lt;Col sm={{ size: 6, order: 2, offset: 1 }}&gt;.col-sm-6 .order-sm-2 .offset-sm-1&lt;/Col&gt;\n        &lt;/Row&gt;\n        &lt;Row&gt;\n          &lt;Col sm=\"12\" md={{ size: 6, offset: 3 }}&gt;.col-sm-12 .col-md-6 .offset-md-3&lt;/Col&gt;\n        &lt;/Row&gt;\n        &lt;Row&gt;\n          &lt;Col sm={{ size: 'auto', offset: 1 }}&gt;.col-sm-auto .offset-sm-1&lt;/Col&gt;\n          &lt;Col sm={{ size: 'auto', offset: 1 }}&gt;.col-sm-auto .offset-sm-1&lt;/Col&gt;\n        &lt;/Row&gt;\n      &lt;/Container&gt;\n    );\n  }\n}\n</code></pre>"},{"location":"new-third-part-lib/reactstrap/#container-properties","title":"Container Properties","text":"<pre><code>Container.propTypes = {\n  fluid:  PropTypes.bool\n  // applies .container-fluid class\n}\n</code></pre>"},{"location":"new-third-part-lib/reactstrap/#row-properties","title":"Row Properties","text":"<pre><code>Row.propTypes = {\n  noGutters: PropTypes.bool,\n  // see https://reactstrap.github.io/components/form Form Grid with Form Row\n  form: PropTypes.bool\n}\n</code></pre>"},{"location":"new-third-part-lib/reactstrap/#col-properties","title":"Col Properties","text":"<pre><code>const stringOrNumberProp = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nconst columnProps = PropTypes.oneOfType([\n  PropTypes.string,\n  PropTypes.number,\n  PropTypes.bool,\n  PropTypes.shape({\n    size: PropTypes.oneOfType([PropTypes.bool, PropTypes.number, PropTypes.string]),\n    // example size values:\n    // 12 || \"12\" =&gt; col-12 or col-`width`-12\n    // auto =&gt; col-auto or col-`width`-auto\n    // true =&gt; col or col-`width`\n    order: stringOrNumberProp,\n    offset: stringOrNumberProp\n  })\n]);\n\nCol.propTypes = {\n  xs: columnProps,\n  sm: columnProps,\n  md: columnProps,\n  lg: columnProps,\n  xl: columnProps,\n  // override the predefined width (the ones above) with your own custom widths.\n  // see https://github.com/reactstrap/reactstrap/issues/297#issuecomment-273556116\n  widths: PropTypes.array,\n}\n</code></pre>"},{"location":"new-third-part-lib/reactstrap/#alert","title":"alert","text":"<pre><code>&lt;Alert color=\"primary\"&gt;\n  This is a primary alert \u2014 check it out!\n  \u53ef\u4ee5\u4e00\u53e5\u8bdd\uff0c\u53ef\u4ee5\u8bbe\u7f6eh\u548cp\n&lt;/Alert&gt;\n</code></pre> <pre><code>Alert.propTypes = {\n  className: PropTypes.string,\n  closeClassName: PropTypes.string,\n  color: PropTypes.string, // default: 'success'\n  isOpen: PropTypes.bool,  // default: true\n  toggle: PropTypes.func,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  // Controls the transition of the alert fading in and out\n  // See Fade for more details\n  transition: PropTypes.shape(Fade.propTypes),\n}\n</code></pre> <pre><code>import React from 'react';\nimport { Alert } from 'reactstrap';\n\nclass AlertExample extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      visible: true\n    };\n\n    this.onDismiss = this.onDismiss.bind(this);\n  }\n\n  onDismiss() {\n    this.setState({ visible: false });\n  }\n\n  render() {\n    return (\n      &lt;Alert color=\"info\" isOpen={this.state.visible} toggle={this.onDismiss}&gt;\n        I am an alert and I can be dismissed!\n      &lt;/Alert&gt;\n    );\n  }\n}\n\nexport default AlertExample;\n</code></pre>"},{"location":"new-third-part-lib/reactstrap/#demo","title":"demo","text":"<pre><code>ReactModal.setAppElement('#main');\n\nclass ExampleApp extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      showModal: false\n    };\n\n    this.handleOpenModal = this.handleOpenModal.bind(this);\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n  }\n\n  handleOpenModal () {\n    this.setState({ showModal: true });\n  }\n\n  handleCloseModal () {\n    this.setState({ showModal: false });\n  }\n\n  render () {\n    return (\n      &lt;div&gt;\n        &lt;button onClick={this.handleOpenModal}&gt;Trigger Modal&lt;/button&gt;\n        &lt;ReactModal \n           isOpen={this.state.showModal}\n           contentLabel=\"onRequestClose Example\"\n           onRequestClose={this.handleCloseModal}\n           shouldCloseOnOverlayClick={false}\n        &gt;\n          &lt;p&gt;Modal text!&lt;/p&gt;\n          &lt;button onClick={this.handleCloseModal}&gt;Close Modal&lt;/button&gt;\n        &lt;/ReactModal&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nconst props = {};\n\nReactDOM.render(&lt;ExampleApp {...props} /&gt;, document.getElementById('main'))\n</code></pre>"},{"location":"new-third-part-lib/redis/","title":"266 redis","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1551  \u9605\u8bfb4\u5206\u949f</p>"},{"location":"new-third-part-lib/redis/#_1","title":"\u7528\u9014","text":"<p>nodejs \u7248\u672c redis \u5ba2\u6237\u7aef</p>"},{"location":"new-third-part-lib/redis/#_2","title":"\u53ef\u9760\u6027","text":""},{"location":"new-third-part-lib/redis/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://redis.js.org/</p> <p>https://www.npmjs.com/package/redis</p> <p>https://github.com/NodeRedis/node-redis</p>"},{"location":"new-third-part-lib/redis/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>const redis = require(\"redis\");\nconst client = redis.createClient();\n\nclient.on(\"error\", function(error) {\n  console.error(error);\n});\n\nclient.set(\"key\", \"value\", redis.print);\nclient.get(\"key\", redis.print);\n</code></pre>"},{"location":"new-third-part-lib/redis/#_5","title":"\u5176\u4ed6","text":"<p>Connection and other Events client will emit some events about the state of the connection to the Redis server.</p> <p>\"ready\" client will emit ready once a connection is established. Commands issued before the ready event are queued, then replayed just before this event is emitted.</p> <p>\"connect\" client will emit connect as soon as the stream is connected to the server.</p> <p>\"reconnecting\" client will emit reconnecting when trying to reconnect to the Redis server after losing the connection. Listeners are passed an object containing delay (in ms from the previous try) and attempt (the attempt #) attributes.</p> <p>\"error\" client will emit error when encountering an error connecting to the Redis server or when any other in Node Redis occurs. If you use a command without callback and encounter a ReplyError it is going to be emitted to the error listener.</p> <p>So please attach the error listener to Node Redis.</p> <p>\"end\" client will emit end when an established Redis server connection has closed.</p> <p>\"warning\" client will emit warning when password was set but none is needed and if a deprecated option / function / similar is used.</p>"},{"location":"new-third-part-lib/request/","title":"267 request","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 741  \u9605\u8bfb2\u5206\u949f</p>"},{"location":"new-third-part-lib/request/#_1","title":"\u7528\u9014","text":"<p>\u4fbf\u4e8e\u53d1\u51fa HTTP \u8bf7\u6c42</p>"},{"location":"new-third-part-lib/request/#_2","title":"\u53ef\u9760\u6027","text":"<p>25000\u661f\u661f\uff0c\u5f88\u53ef\u9760</p>"},{"location":"new-third-part-lib/request/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://github.com/request/request</p>"},{"location":"new-third-part-lib/request/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<p>\u652f\u6301\u6700\u7b80\u5355\u7684 http \u548c https \u8bf7\u6c42\u64cd\u4f5c</p> <pre><code>const request = require('request');\nrequest('http://www.google.com', function (error, response, body) {\n  console.error('error:', error); // Print the error if one occurred\n  console.log('statusCode:', response &amp;&amp; response.statusCode); // Print the response status code if a response was received\n  console.log('body:', body); // Print the HTML for the Google homepage.\n});\n</code></pre>"},{"location":"new-third-part-lib/request/#_5","title":"\u5176\u4ed6","text":"<p>\u81ea\u5df1\u7684\u7f51\u7edc\u57fa\u7840\u77e5\u8bc6\u9700\u8981\u66f4\u65b0</p> <p>\u4f5c\u8005\u4e0d\u4f1a\u8fdb\u884c\u7834\u574f\u5f0f\u7684\u7248\u672c\u66f4\u65b0\u4e86</p> <p>https://github.com/request/request/issues/3142</p>"},{"location":"new-third-part-lib/reselect/","title":"reselect","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 10928  \u9605\u8bfb22\u5206\u949f</p>"},{"location":"new-third-part-lib/reselect/#reselect","title":"reselect","text":""},{"location":"new-third-part-lib/reselect/#version","title":"version","text":"<p>5.1.1\u00a0 </p>"},{"location":"new-third-part-lib/reselect/#downloads","title":"downloads","text":"<p>7,590,045 </p>"},{"location":"new-third-part-lib/reselect/#repository","title":"repository","text":"<p>github.com/reduxjs/reselect </p>"},{"location":"new-third-part-lib/reselect/#homepage","title":"homepage","text":"<p>github.com/reduxjs/reselect#readme </p>"},{"location":"new-third-part-lib/reselect/#reselect_1","title":"Reselect","text":"<p>A library for creating memoized \"selector\" functions. Commonly used with Redux, but usable with any plain JS immutable data as well.</p> <ul> <li>Selectors can compute derived data, allowing Redux to store the minimal possible state.</li> <li>Selectors are efficient. A selector is not recomputed unless one of its arguments changes.</li> <li>Selectors are composable. They can be used as input to other selectors.</li> </ul> <p>The Redux docs usage page onDeriving Data with Selectors covers the purpose and motivation for selectors, why memoized selectors are useful, typical Reselect usage patterns, and using selectors with React- Redux.</p>"},{"location":"new-third-part-lib/reselect/#installation","title":"Installation","text":""},{"location":"new-third-part-lib/reselect/#redux-toolkit","title":"Redux Toolkit","text":"<p>While Reselect is not exclusive to Redux, it is already included by default in the official Redux Toolkit package - no further installation needed.</p> <pre><code>import { createSelector } from '@reduxjs/toolkit'\n</code></pre>"},{"location":"new-third-part-lib/reselect/#standalone","title":"Standalone","text":"<p>For standalone usage, install the <code>reselect</code> package:</p> <pre><code># NPM\nnpm install reselect\n\n# Yarn\nyarn add reselect\n</code></pre>"},{"location":"new-third-part-lib/reselect/#documentation","title":"Documentation","text":"<p>The Reselect docs are available at https://reselect.js.org , and include usage guides and API references:</p> <ul> <li>Introduction</li> <li>How Does Reselect Work?</li> <li>API Reference : <ul> <li><code>createSelector</code></li> <li><code>createSelectorCreator</code></li> <li><code>createStructuredSelector</code></li> <li>Development-Only Stability Checks</li> <li><code>lruMemoize</code></li> <li><code>weakMapMemoize</code></li> </ul> </li> <li>FAQ</li> </ul>"},{"location":"new-third-part-lib/reselect/#basic-usage","title":"Basic Usage","text":"<p>Reselect exports a <code>createSelector</code> API, which generates memoized selector functions. <code>createSelector</code> accepts one or more input selectors, which extract values from arguments, and a result function function that receives the extracted values and should return a derived value. If the generated output selector is called multiple times, the output will only be recalculated when the extracted values have changed.</p> <p>You can play around with the following example in this CodeSandbox:</p> <pre><code>import { createSelector } from 'reselect'\n\ninterface RootState {\n  todos: { id: number; completed: boolean }[]\n  alerts: { id: number; read: boolean }[]\n}\n\nconst state: RootState = {\n  todos: [\n    { id: 0, completed: false },\n    { id: 1, completed: true }\n  ],\n  alerts: [\n    { id: 0, read: false },\n    { id: 1, read: true }\n  ]\n}\n\nconst selectCompletedTodos = (state: RootState) =&gt; {\n  console.log('selector ran')\n  return state.todos.filter(todo =&gt; todo.completed === true)\n}\n\nselectCompletedTodos(state) // selector ran\nselectCompletedTodos(state) // selector ran\nselectCompletedTodos(state) // selector ran\n\nconst memoizedSelectCompletedTodos = createSelector(\n  [(state: RootState) =&gt; state.todos],\n  todos =&gt; {\n    console.log('memoized selector ran')\n    return todos.filter(todo =&gt; todo.completed === true)\n  }\n)\n\nmemoizedSelectCompletedTodos(state) // memoized selector ran\nmemoizedSelectCompletedTodos(state)\nmemoizedSelectCompletedTodos(state)\n\nconsole.log(selectCompletedTodos(state) === selectCompletedTodos(state)) //=&gt; false\n\nconsole.log(\n  memoizedSelectCompletedTodos(state) === memoizedSelectCompletedTodos(state)\n) //=&gt; true\n</code></pre> <p>As you can see from the example above, <code>memoizedSelectCompletedTodos</code> does not run the second or third time, but we still get the same return value as last time.</p> <p>In addition to skipping unnecessary recalculations, <code>memoizedSelectCompletedTodos</code> returns the existing result reference if there is no recalculation. This is important for libraries like React- Redux or React that often rely on reference equality checks to optimize UI updates.</p>"},{"location":"new-third-part-lib/reselect/#terminology","title":"Terminology","text":"<ul> <li>Selector Function: A function that accepts one or more JavaScript values as arguments, and derives a result. When used with Redux, the first argument is typically the entire Redux store state.</li> <li>input selectors: Basic selector functions used as building blocks for creating a memoized selector. They are passed as the first argument(s) to <code>createSelector</code>, and are called with all selector arguments. They are responsible for extracting and providing necessary values to the result function.</li> <li>Output Selector: The actual memoized selectors created by <code>createSelector</code>.</li> <li>Result Function: The function that comes after the input selectors. It takes the input selectors' return values as arguments and returns a result.</li> <li><code>Dependencies</code>: Same as input selectors. They are what the output selector \"depends\" on.</li> </ul> <p>The below example serves as a visual aid:</p> <pre><code>const outputSelector = createSelector(\n  [inputSelector1, inputSelector2, inputSelector3], // synonymous with `dependencies`.\n  resultFunc // Result function\n)\n</code></pre>"},{"location":"new-third-part-lib/reselect/#whats-new-in-500","title":"What's New in 5.0.0?","text":"<p>Version 5.0.0 introduces several new features and improvements:</p> <ul> <li> <p>Customization Enhancements :</p> <ul> <li>Added the ability to pass an options object to <code>createSelectorCreator</code>, allowing for customized <code>memoize</code> and <code>argsMemoize</code> functions, alongside their respective options (<code>memoizeOptions</code> and <code>argsMemoizeOptions</code>).</li> <li>The <code>createSelector</code> function now supports direct customization of <code>memoize</code> and <code>argsMemoize</code> within its options object.</li> <li> <p>Memoization Functions :</p> </li> <li> <p>Introduced new experimental memoization functions: <code>weakMapMemoize</code> and <code>unstable_autotrackMemoize</code>.</p> </li> <li>Incorporated <code>memoize</code> and <code>argsMemoize</code> into the output selector fields for debugging purposes.</li> <li> <p>TypeScript Support and Performance :</p> </li> <li> <p>Discontinued support for TypeScript versions below 4.7, aligning with modern TypeScript features.</p> </li> <li>Significantly improved TypeScript performance for nesting output selectors. The nesting limit has increased from approximately 8 to around 30 output selectors, greatly reducing the occurrence of the infamous <code>Type instantiation is excessively deep and possibly infinite</code> error.</li> <li> <p>Selector API Enhancements :</p> </li> <li> <p>Removed the second overload of <code>createStructuredSelector</code> due to its susceptibility to runtime errors.</p> </li> <li> <p>Additional Functionalities :</p> </li> <li> <p>Added <code>dependencyRecomputations</code> and <code>resetDependencyRecomputations</code> to the output selector fields. These additions provide greater control and insight over input selectors, complementing the new <code>argsMemoize</code> API.</p> </li> <li>Introduced <code>inputStabilityCheck</code>, a development tool that runs the input selectors twice using the same arguments and triggers a warning If they return differing results for the same call.</li> <li>Introduced <code>identityFunctionCheck</code>, a development tool that checks to see if the result function returns its own input.</li> </ul> </li> </ul> <p>These updates aim to enhance flexibility, performance, and developer experience. For detailed usage and examples, refer to the updated documentation sections for each feature.</p> <ul> <li> <p>Breaking Changes :</p> <ul> <li>Removed <code>ParametricSelector</code> and <code>OutputParametricSelector</code> types. Their functionalities are now integrated into <code>Selector</code> and <code>OutputSelector</code> respectively, which inherently support additional parameters.</li> </ul> </li> </ul> <p>[ \u2191 Back to top \u2191 ]</p>"},{"location":"new-third-part-lib/reselect/#license","title":"License","text":"<p>MIT</p>"},{"location":"new-third-part-lib/reselect/#references","title":"References","text":"<p>Click to Expand</p> <p>Originally inspired by getters in NuclearJS, subscriptions in re-frame and this proposal from speedskater.</p>"},{"location":"new-third-part-lib/resolve-url-loader/","title":"resolve-url-loader","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5910  \u9605\u8bfb12\u5206\u949f</p>"},{"location":"new-third-part-lib/resolve-url-loader/#resolve-url-loader","title":"resolve-url-loader","text":""},{"location":"new-third-part-lib/resolve-url-loader/#version","title":"version","text":"<p>5.0.0\u00a0\u2022 </p>"},{"location":"new-third-part-lib/resolve-url-loader/#downloads","title":"downloads","text":"<p>7,309,909 </p>"},{"location":"new-third-part-lib/resolve-url-loader/#repository","title":"repository","text":"<p>github.com/bholloway/resolve-url-loader </p>"},{"location":"new-third-part-lib/resolve-url-loader/#homepage","title":"homepage","text":"<p>github.com/bholloway/resolve-url-loader/tree/v3-maintenance/packages/resolve-url-loader </p>"},{"location":"new-third-part-lib/resolve-url-loader/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/resolve-url-loader/#resolve-url-loader_1","title":"Resolve URL Loader","text":"<p>This webpack loader allows you to have a distributed set SCSS files and assets co-located with those SCSS files.</p>"},{"location":"new-third-part-lib/resolve-url-loader/#do-you-organise-your-scss-and-assets-by-feature","title":"Do you organise your SCSS and assets by feature?","text":"<p>Where are your assets?</p> <ul> <li>\u2705 I want my assets all over the place, next to my SCSS files.</li> <li>\u274c My assets are in a single directory.</li> </ul> <p>How complicated is your SASS?</p> <ul> <li>\u2705 I have a deep SASS composition with partials importing other partials.</li> <li>\u2705 My asset paths are constructed by functions or <code>@mixin</code>s.</li> <li>\u274c I have a single SCSS file. The asset paths are just explicit in that.</li> </ul> <p>What asset paths are you using?</p> <ul> <li>\u2705 Fully relative <code>url(./foo.png)</code> or <code>url(foo.png)</code></li> <li>\u274c Root relative <code>url(/foo.png)</code></li> <li>\u274c Relative to some package or webpack root <code>url(~stuff/foo.png</code>)</li> <li>\u274c Relative to some variable which is your single asset directory <code>url($variable/foo.png)</code></li> </ul> <p>What webpack errors are you getting?</p> <ul> <li>\u2705 Webpack can't find the relative asset <code>foo.png</code> \ud83d\ude1e</li> <li>\u274c Webpack says it doesn't have a loader for <code>fully/resolved/path/foo.png</code> \ud83d\ude15</li> </ul> <p>If you can tick at least 1 item in all of these questions then use this loader. It will allow webpack to find assets with fully relative paths.</p> <p>If for any question you can't tick any items then webpack should be able to already find your assets. You don't need this loader. \ud83e\udd37</p> <p>Once webpack resolves your assets (even if it complains about loading them) then this loading is working correctly. \ud83d\udc4d</p>"},{"location":"new-third-part-lib/resolve-url-loader/#whats-the-problem-with-sass","title":"What's the problem with SASS?","text":"<p>When you use fully relative paths in <code>url()</code> statements then Webpack expects to find those assets next to the root SCSS file, regardless of where you specify the <code>url()</code>.</p> <p>To illustrate here are 3 simple examples of SASS and Webpack without <code>resolve-url-loader</code>.</p> <p></p> <p>The first 2 cases are trivial and work fine. The asset is specified in the root SCSS file and Webpack finds it.</p> <p>But any practical SASS composition will have nested SCSS files, as in the 3<sup>rd</sup> case. Here Webpack cannot find the asset.</p> <pre><code>Module not found: Can't resolve './cool.png' in '/absolute/path/.../my-project/src/styles.scss'\n</code></pre> <p>The path we present to Webpack really needs to be <code>./subdir/cool.png</code> but we don't want to write that in our SCSS. \ud83d\ude12</p> <p>Luckily we can use <code>resolve-url-loader</code> to do the url re-writing and make it work. \ud83d\ude0a\ud83c\udf89</p> <p>With functions and mixins and multiple nesting it gets more complicated. Read more detail in how the loader works. \ud83e\udd13</p>"},{"location":"new-third-part-lib/resolve-url-loader/#getting-started","title":"Getting started","text":"<p>Upgrading? the changelog shows how to migrate your webpack config.</p>"},{"location":"new-third-part-lib/resolve-url-loader/#install","title":"Install","text":"<p>via npm</p> <pre><code>npm install resolve-url-loader --save-dev\n</code></pre> <p>via yarn</p> <pre><code>yarn add resolve-url-loader --dev\n</code></pre>"},{"location":"new-third-part-lib/resolve-url-loader/#configure-webpack","title":"Configure Webpack","text":"<p>The typical use case is <code>resolve-url-loader</code> between <code>sass-loader</code> and <code>css- loader</code>.</p> <p>\u26a0\ufe0f IMPORTANT</p> <ul> <li>source-maps required for loaders preceding <code>resolve-url-loader</code> (regardless of <code>devtool</code>).</li> <li> <p>Always use full loader package name (don't omit <code>-loader</code>) otherwise you can get errors that are hard to debug.</p> <p>rules: [   {     test: /.scss$/,     use: [       ...       {         loader: 'css-loader',         options: {...}       }, {         loader: 'resolve-url-loader',         options: {...}       }, {         loader: 'sass-loader',         options: {           sourceMap: true, // \u2190 !!IMPORTANT!!         }       }     ]   },   ... ]</p> </li> </ul>"},{"location":"new-third-part-lib/resolve-url-loader/#options","title":"Options","text":"<p>The loader should work without options but use these as required.</p> option type default description <code>sourceMap</code> boolean <code>false</code> Generate an outgoing source-map. <code>removeCR</code> boolean <code>true</code> Windows OS <code>false</code> otherwise Convert orphan CR to whitespace. See known issues below. <code>debug</code> boolean <code>false</code> Display debug information. <code>silent</code> boolean <code>false</code> Do not display warnings or deprecation messages. <code>root</code> string unset Similar to the (now defunct) option in <code>css-loader</code>. This string, possibly empty, is prepended to absolute URIs. Absolute URIs are only processed if this option is set. <code>join</code> function inbuilt advanced Custom join function. Use custom javascript to fix asset paths on a per-case basis. Refer to the [advanced features](https://github.com/bholloway/resolve-url- loader/blob/HEAD/packages/resolve-url-loader/docs/advanced-features.md) docs."},{"location":"new-third-part-lib/resolve-url-loader/#limitations","title":"Limitations","text":""},{"location":"new-third-part-lib/resolve-url-loader/#compatibility","title":"Compatibility","text":"<p>Tested <code>macOS</code> and <code>Windows</code>.</p> <p>All <code>webpack@4</code>-<code>webpack@5</code> with contemporaneous loaders/plugins using <code>node@12</code>.</p> <p>Refer to <code>test</code> directory for full webpack configurations as used in automated tests.</p>"},{"location":"new-third-part-lib/resolve-url-loader/#known-issues","title":"Known issues","text":"<p>Read the troubleshooting docs before raising an issue.</p>"},{"location":"new-third-part-lib/resolve/","title":"resolve","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 10827  \u9605\u8bfb22\u5206\u949f</p>"},{"location":"new-third-part-lib/resolve/#resolve","title":"resolve","text":""},{"location":"new-third-part-lib/resolve/#version","title":"version","text":"<p>1.22.8\u00a0 </p>"},{"location":"new-third-part-lib/resolve/#downloads","title":"downloads","text":"<p>75,863,655 </p>"},{"location":"new-third-part-lib/resolve/#repository","title":"repository","text":"<p>github.com/browserify/resolve </p>"},{"location":"new-third-part-lib/resolve/#homepage","title":"homepage","text":"<p>github.com/browserify/resolve#readme </p>"},{"location":"new-third-part-lib/resolve/#resolve_1","title":"resolve","text":""},{"location":"new-third-part-lib/resolve/#example","title":"example","text":"<p>asynchronously resolve:</p> <pre><code>var resolve = require('resolve/async'); // or, require('resolve')\nresolve('tap', { basedir: __dirname }, function (err, res) {\n    if (err) console.error(err);\n    else console.log(res);\n});\n\n\n$ node example/async.js\n/home/substack/projects/node-resolve/node_modules/tap/lib/main.js\n</code></pre> <p>synchronously resolve:</p> <pre><code>var resolve = require('resolve/sync'); // or, `require('resolve').sync\nvar res = resolve('tap', { basedir: __dirname });\nconsole.log(res);\n\n\n$ node example/sync.js\n/home/substack/projects/node-resolve/node_modules/tap/lib/main.js\n</code></pre>"},{"location":"new-third-part-lib/resolve/#methods","title":"methods","text":"<pre><code>var resolve = require('resolve');\nvar async = require('resolve/async');\nvar sync = require('resolve/sync');\n</code></pre> <p>For both the synchronous and asynchronous methods, errors may have any of the following <code>err.code</code> values:</p> <ul> <li><code>MODULE_NOT_FOUND</code>: the given path string (<code>id</code>) could not be resolved to a module</li> <li><code>INVALID_BASEDIR</code>: the specified <code>opts.basedir</code> doesn't exist, or is not a directory</li> <li><code>INVALID_PACKAGE_MAIN</code>: a <code>package.json</code> was encountered with an invalid <code>main</code> property (eg. not a string)</li> </ul>"},{"location":"new-third-part-lib/resolve/#resolveid-opts-cb","title":"resolve(id, opts={}, cb)","text":"<p>Asynchronously resolve the module path string <code>id</code> into <code>cb(err, res [, pkg])</code>, where <code>pkg</code> (if defined) is the data from <code>package.json</code>.</p> <p>options are:</p> <ul> <li> <p>opts.basedir - directory to begin resolving from</p> </li> <li> <p>opts.package - <code>package.json</code> data applicable to the module being loaded</p> </li> <li> <p>opts.extensions - array of file extensions to search in order</p> </li> <li> <p>opts.includeCoreModules - set to <code>false</code> to exclude node core modules (e.g. <code>fs</code>) from the search</p> </li> <li> <p>opts.readFile - how to read files asynchronously</p> </li> <li> <p>opts.isFile - function to asynchronously test whether a file exists</p> </li> <li> <p>opts.isDirectory - function to asynchronously test whether a file exists and is a directory</p> </li> <li> <p>opts.realpath - function to asynchronously resolve a potential symlink to its real path</p> </li> <li> <p><code>opts.readPackage(readFile, pkgfile, cb)</code> - function to asynchronously read and parse a package.json file</p> <ul> <li>readFile - the passed <code>opts.readFile</code> or <code>fs.readFile</code> if not specified</li> <li>pkgfile - path to package.json</li> <li>cb - callback</li> <li> <p><code>opts.packageFilter(pkg, pkgfile, dir)</code> - transform the parsed package.json contents before looking at the \"main\" field</p> </li> <li> <p>pkg - package data</p> </li> <li>pkgfile - path to package.json</li> <li>dir - directory that contains package.json</li> <li> <p><code>opts.pathFilter(pkg, path, relativePath)</code> - transform a path within a package</p> </li> <li> <p>pkg - package data</p> </li> <li>path - the path being resolved</li> <li>relativePath - the path relative from the package.json location</li> <li>returns - a relative path that will be joined from the package.json location</li> <li>opts.paths - require.paths array to use if nothing is found on the normal <code>node_modules</code> recursive walk (probably don't use this)</li> </ul> </li> </ul> <p>For advanced users, <code>paths</code> can also be a <code>opts.paths(request, start, opts)</code> function</p> <pre><code>* request - the import specifier being resolved\n* start - lookup path\n* getNodeModulesDirs - a thunk (no-argument function) that returns the paths using standard `node_modules` resolution\n* opts - the resolution options\n</code></pre> <ul> <li> <p><code>opts.packageIterator(request, start, opts)</code> - return the list of candidate paths where the packages sources may be found (probably don't use this)</p> <ul> <li>request - the import specifier being resolved</li> <li>start - lookup path</li> <li>getPackageCandidates - a thunk (no-argument function) that returns the paths using standard <code>node_modules</code> resolution</li> <li>opts - the resolution options</li> <li>opts.moduleDirectory - directory (or directories) in which to recursively look for modules. default: <code>\"node_modules\"</code></li> </ul> </li> <li> <p>opts.preserveSymlinks - if true, doesn't resolve <code>basedir</code> to real path before resolving. This is the way Node resolves dependencies when executed with the --preserve-symlinks flag. Note: this property is currently <code>true</code> by default but it will be changed to <code>false</code> in the next major version because Node's resolution algorithm does not preserve symlinks by default.</p> </li> </ul> <p>default <code>opts</code> values:</p> <pre><code>{\n    paths: [],\n    basedir: __dirname,\n    extensions: ['.js'],\n    includeCoreModules: true,\n    readFile: fs.readFile,\n    isFile: function isFile(file, cb) {\n        fs.stat(file, function (err, stat) {\n            if (!err) {\n                return cb(null, stat.isFile() || stat.isFIFO());\n            }\n            if (err.code === 'ENOENT' || err.code === 'ENOTDIR') return cb(null, false);\n            return cb(err);\n        });\n    },\n    isDirectory: function isDirectory(dir, cb) {\n        fs.stat(dir, function (err, stat) {\n            if (!err) {\n                return cb(null, stat.isDirectory());\n            }\n            if (err.code === 'ENOENT' || err.code === 'ENOTDIR') return cb(null, false);\n            return cb(err);\n        });\n    },\n    realpath: function realpath(file, cb) {\n        var realpath = typeof fs.realpath.native === 'function' ? fs.realpath.native : fs.realpath;\n        realpath(file, function (realPathErr, realPath) {\n            if (realPathErr &amp;&amp; realPathErr.code !== 'ENOENT') cb(realPathErr);\n            else cb(null, realPathErr ? file : realPath);\n        });\n    },\n    readPackage: function defaultReadPackage(readFile, pkgfile, cb) {\n        readFile(pkgfile, function (readFileErr, body) {\n            if (readFileErr) cb(readFileErr);\n            else {\n                try {\n                    var pkg = JSON.parse(body);\n                    cb(null, pkg);\n                } catch (jsonErr) {\n                    cb(null);\n                }\n            }\n        });\n    },\n    moduleDirectory: 'node_modules',\n    preserveSymlinks: true\n}\n</code></pre>"},{"location":"new-third-part-lib/resolve/#resolvesyncid-opts","title":"resolve.sync(id, opts)","text":"<p>Synchronously resolve the module path string <code>id</code>, returning the result and throwing an error when <code>id</code> can't be resolved.</p> <p>options are:</p> <ul> <li> <p>opts.basedir - directory to begin resolving from</p> </li> <li> <p>opts.extensions - array of file extensions to search in order</p> </li> <li> <p>opts.includeCoreModules - set to <code>false</code> to exclude node core modules (e.g. <code>fs</code>) from the search</p> </li> <li> <p>opts.readFileSync - how to read files synchronously</p> </li> <li> <p>opts.isFile - function to synchronously test whether a file exists</p> </li> <li> <p>opts.isDirectory - function to synchronously test whether a file exists and is a directory</p> </li> <li> <p>opts.realpathSync - function to synchronously resolve a potential symlink to its real path</p> </li> <li> <p><code>opts.readPackageSync(readFileSync, pkgfile)</code> - function to synchronously read and parse a package.json file</p> <ul> <li>readFileSync - the passed <code>opts.readFileSync</code> or <code>fs.readFileSync</code> if not specified</li> <li>pkgfile - path to package.json</li> <li> <p><code>opts.packageFilter(pkg, dir)</code> - transform the parsed package.json contents before looking at the \"main\" field</p> </li> <li> <p>pkg - package data</p> </li> <li>dir - directory that contains package.json (Note: the second argument will change to \"pkgfile\" in v2)</li> <li> <p><code>opts.pathFilter(pkg, path, relativePath)</code> - transform a path within a package</p> </li> <li> <p>pkg - package data</p> </li> <li>path - the path being resolved</li> <li>relativePath - the path relative from the package.json location</li> <li>returns - a relative path that will be joined from the package.json location</li> <li>opts.paths - require.paths array to use if nothing is found on the normal <code>node_modules</code> recursive walk (probably don't use this)</li> </ul> </li> </ul> <p>For advanced users, <code>paths</code> can also be a <code>opts.paths(request, start, opts)</code> function</p> <pre><code>* request - the import specifier being resolved\n* start - lookup path\n* getNodeModulesDirs - a thunk (no-argument function) that returns the paths using standard `node_modules` resolution\n* opts - the resolution options\n</code></pre> <ul> <li> <p><code>opts.packageIterator(request, start, opts)</code> - return the list of candidate paths where the packages sources may be found (probably don't use this)</p> <ul> <li>request - the import specifier being resolved</li> <li>start - lookup path</li> <li>getPackageCandidates - a thunk (no-argument function) that returns the paths using standard <code>node_modules</code> resolution</li> <li>opts - the resolution options</li> <li>opts.moduleDirectory - directory (or directories) in which to recursively look for modules. default: <code>\"node_modules\"</code></li> </ul> </li> <li> <p>opts.preserveSymlinks - if true, doesn't resolve <code>basedir</code> to real path before resolving. This is the way Node resolves dependencies when executed with the --preserve-symlinks flag. Note: this property is currently <code>true</code> by default but it will be changed to <code>false</code> in the next major version because Node's resolution algorithm does not preserve symlinks by default.</p> </li> </ul> <p>default <code>opts</code> values:</p> <pre><code>{\n    paths: [],\n    basedir: __dirname,\n    extensions: ['.js'],\n    includeCoreModules: true,\n    readFileSync: fs.readFileSync,\n    isFile: function isFile(file) {\n        try {\n            var stat = fs.statSync(file);\n        } catch (e) {\n            if (e &amp;&amp; (e.code === 'ENOENT' || e.code === 'ENOTDIR')) return false;\n            throw e;\n        }\n        return stat.isFile() || stat.isFIFO();\n    },\n    isDirectory: function isDirectory(dir) {\n        try {\n            var stat = fs.statSync(dir);\n        } catch (e) {\n            if (e &amp;&amp; (e.code === 'ENOENT' || e.code === 'ENOTDIR')) return false;\n            throw e;\n        }\n        return stat.isDirectory();\n    },\n    realpathSync: function realpathSync(file) {\n        try {\n            var realpath = typeof fs.realpathSync.native === 'function' ? fs.realpathSync.native : fs.realpathSync;\n            return realpath(file);\n        } catch (realPathErr) {\n            if (realPathErr.code !== 'ENOENT') {\n                throw realPathErr;\n            }\n        }\n        return file;\n    },\n    readPackageSync: function defaultReadPackageSync(readFileSync, pkgfile) {\n        var body = readFileSync(pkgfile);\n        try {\n            var pkg = JSON.parse(body);\n            return pkg;\n        } catch (jsonErr) {}\n    },\n    moduleDirectory: 'node_modules',\n    preserveSymlinks: true\n}\n</code></pre>"},{"location":"new-third-part-lib/resolve/#install","title":"install","text":"<p>With npm do:</p> <pre><code>npm install resolve\n</code></pre>"},{"location":"new-third-part-lib/resolve/#license","title":"license","text":"<p>MIT</p>"},{"location":"new-third-part-lib/response-time/","title":"268 response-time","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 996  \u9605\u8bfb2\u5206\u949f</p>"},{"location":"new-third-part-lib/response-time/#_1","title":"\u7528\u9014","text":"<p>\u54cd\u5e94\u65f6\u95f4</p> <p>\u6d4b\u8bd5 NodeJS \u4e2d http \u54cd\u5e94\u7684\u65f6\u95f4\uff0c\u5c5e\u4e8e\u4e2d\u95f4\u4ef6</p>"},{"location":"new-third-part-lib/response-time/#_2","title":"\u53ef\u9760\u6027","text":"<p>400\u661f\u661f</p> <p>\u4e0b\u8f7d\u91cf20\u4e07</p> <p>\u662f express \u56e2\u961f\u5236\u4f5c\u7684</p>"},{"location":"new-third-part-lib/response-time/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://github.com/expressjs/response-time</p> <p>https://www.npmjs.com/package/response-time</p>"},{"location":"new-third-part-lib/response-time/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>var express = require('express')\nvar responseTime = require('response-time')\n\nvar app = express()\n\napp.use(responseTime())\n\napp.get('/', function (req, res) {\n  res.send('hello, world!')\n})\n</code></pre>"},{"location":"new-third-part-lib/response-time/#_5","title":"\u5176\u4ed6","text":"<p>\u8be5\u6a21\u5757\u521b\u5efa\u4e86\u4e00\u4e2a\u4e2d\u95f4\u4ef6\uff0c\u7528\u4e8e\u8bb0\u5f55 HTTP \u670d\u52a1\u5668\u4e2d\u8bf7\u6c42\u7684\u54cd\u5e94\u65f6\u95f4\u3002 \u201c\u54cd\u5e94\u65f6\u95f4\u201d\u5728\u6b64\u5904\u5b9a\u4e49\u4e3a\u4ece\u8bf7\u6c42\u8fdb\u5165\u6b64\u4e2d\u95f4\u4ef6\u5230\u5c06\u6807\u5934\u5199\u51fa\u5230\u5ba2\u6237\u7aef\u6240\u7ecf\u8fc7\u7684\u65f6\u95f4\u3002</p> <p>Response time for Node.js servers.</p> <p>This module creates a middleware that records the response time for requests in HTTP servers. The \"response time\" is defined here as the elapsed time from when a request enters this middleware to when the headers are written out to the client.</p>"},{"location":"new-third-part-lib/resumablejs/","title":"resumablejs","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 16738  \u9605\u8bfb34\u5206\u949f</p>"},{"location":"new-third-part-lib/resumablejs/#resumablejs","title":"resumablejs","text":""},{"location":"new-third-part-lib/resumablejs/#version","title":"version","text":"<p>1.1.0\u00a0 </p>"},{"location":"new-third-part-lib/resumablejs/#downloads","title":"downloads","text":"<p>25,077 </p>"},{"location":"new-third-part-lib/resumablejs/#repository","title":"repository","text":"<p>github.com/23/resumable.js </p>"},{"location":"new-third-part-lib/resumablejs/#homepage","title":"homepage","text":"<p>github.com/23/resumable.js#readme </p>"},{"location":"new-third-part-lib/resumablejs/#what-is-resumablejs","title":"What is Resumable.js","text":"<p>Resumable.js is a JavaScript library providing multiple simultaneous, stable and resumable uploads via the <code>HTML5 File API</code>.</p> <p>The library is designed to introduce fault-tolerance into the upload of large files through HTTP. This is done by splitting each file into small chunks. Then, whenever the upload of a chunk fails, uploading is retried until the procedure completes. This allows uploads to automatically resume uploading after a network connection is lost either locally or to the server. Additionally, it allows for users to pause, resume and even recover uploads without losing state because only the currently uploading chunks will be aborted, not the entire upload.</p> <p>Resumable.js does not have any external dependencies other than the <code>HTML5 File API</code>. This is relied on for the ability to chunk files into smaller pieces. Currently, this means that support is widely available in to Firefox 4+, Chrome 11+, Safari 6+ and Internet Explorer 10+.</p> <p>Samples and examples are available in the <code>samples/</code> folder. Please push your own as Markdown to help document the project.</p>"},{"location":"new-third-part-lib/resumablejs/#how-can-i-use-it","title":"How can I use it?","text":"<p>A new <code>Resumable</code> object is created with information of what and where to post:</p> <pre><code>var r = new Resumable({\n  target:'/api/photo/redeem-upload-token',\n  query:{upload_token:'my_token'}\n});\n// Resumable.js isn't supported, fall back on a different method\nif(!r.support) location.href = '/some-old-crappy-uploader';\n</code></pre> <p>To allow files to be selected and drag-dropped, you need to assign a drop target and a DOM item to be clicked for browsing:</p> <pre><code>r.assignBrowse(document.getElementById('browseButton'));\nr.assignDrop(document.getElementById('dropTarget'));\n</code></pre> <p>It is recommended to use an HTML span for the browse button. Using an actual button does not work reliably across all browsers, because Resumable.js creates the file input as a child of this control, and this may be invalid in the case of an HTML button.</p> <p>After this, interaction with Resumable.js is done by listening to events:</p> <pre><code>r.on('fileAdded', function(file, event){\n    ...\n  });\nr.on('fileSuccess', function(file, message){\n    ...\n  });\nr.on('fileError', function(file, message){\n    ...\n  });\n</code></pre>"},{"location":"new-third-part-lib/resumablejs/#how-do-i-set-it-up-with-my-server","title":"How do I set it up with my server?","text":"<p>Most of the magic for Resumable.js happens in the user's browser, but files still need to be reassembled from chunks on the server side. This should be a fairly simple task, which and can be achieved using any web framework or language that is capable of handling file uploads.</p> <p>To handle the state of upload chunks, a number of extra parameters are sent along with all requests:</p> <ul> <li><code>resumableChunkNumber</code>: The index of the chunk in the current upload. First chunk is <code>1</code> (no base-0 counting here).</li> <li><code>resumableTotalChunks</code>: The total number of chunks.</li> <li><code>resumableChunkSize</code>: The general chunk size. Using this value and <code>resumableTotalSize</code> you can calculate the total number of chunks. Please note that the size of the data received in the HTTP might be lower than <code>resumableChunkSize</code> of this for the last chunk for a file.</li> <li><code>resumableTotalSize</code>: The total file size.</li> <li><code>resumableIdentifier</code>: A unique identifier for the file contained in the request.</li> <li><code>resumableFilename</code>: The original file name (since a bug in Firefox results in the file name not being transmitted in chunk multipart posts).</li> <li><code>resumableRelativePath</code>: The file's relative path when selecting a directory (defaults to file name in all browsers except Chrome).</li> </ul> <p>You should allow for the same chunk to be uploaded more than once; this isn't standard behaviour, but on an unstable network environment it could happen, and this case is exactly what Resumable.js is designed for.</p> <p>For every request, you can confirm reception in HTTP status codes (can be change through the <code>permanentErrors</code> option):</p> <ul> <li><code>200</code>: The chunk was accepted and correct. No need to re-upload.</li> <li><code>404</code>, <code>415</code>. <code>500</code>, <code>501</code>: The file for which the chunk was uploaded is not supported, cancel the entire upload.</li> <li>Anything else : Something went wrong, but try reuploading the file.</li> </ul>"},{"location":"new-third-part-lib/resumablejs/#handling-get-or-test-requests","title":"Handling GET (or <code>test()</code> requests)","text":"<p>Enabling the <code>testChunks</code> option will allow uploads to be resumed after browser restarts and even across browsers (in theory you could even run the same file upload across multiple tabs or different browsers). The <code>POST</code> data requests listed are required to use Resumable.js to receive data, but you can extend support by implementing a corresponding <code>GET</code> request with the same parameters:</p> <ul> <li>If this request returns a <code>200</code> HTTP code, the chunks is assumed to have been completed.</li> <li>If the request returns anything else, the chunk will be uploaded in the standard fashion. (It is recommended to return 204 No Content in these cases if possible to avoid unwarranted notices in browser consoles.)</li> </ul> <p>After this is done and <code>testChunks</code> enabled, an upload can quickly catch up even after a browser restart by simply verifying already uploaded chunks that do not need to be uploaded again.</p>"},{"location":"new-third-part-lib/resumablejs/#full-documentation","title":"Full documentation","text":""},{"location":"new-third-part-lib/resumablejs/#resumable","title":"Resumable","text":""},{"location":"new-third-part-lib/resumablejs/#configuration","title":"Configuration","text":"<p>The object is loaded with a configuration hash:</p> <pre><code>var r = new Resumable({opt1:'val', ...});\n</code></pre> <p>All POST parameters can be omitted by setting them to a falsy value (e.g. <code>null</code>, <code>false</code> or empty string). Available configuration options are:</p> <ul> <li><code>target</code> The target URL for the multipart POST request. This can be a <code>string</code> or a <code>function</code> that allows you you to construct and return a value, based on supplied <code>params</code>. (Default: <code>/</code>)</li> <li><code>testTarget</code> The target URL for the GET request to the server for each chunk to see if it already exists. This can be a <code>string</code> or a <code>function</code> that allows you you to construct and return a value, based on supplied <code>params</code>. (Default: <code>null</code>)</li> <li><code>chunkSize</code> The size in bytes of each uploaded chunk of data. The last uploaded chunk will be at least this size and up to two the size, see Issue #51 for details and reasons. (Default: <code>1*1024*1024</code>)</li> <li><code>forceChunkSize</code> Force all chunks to be less or equal than chunkSize. Otherwise, the last chunk will be greater than or equal to <code>chunkSize</code>. (Default: <code>false</code>)</li> <li><code>simultaneousUploads</code> Number of simultaneous uploads (Default: <code>3</code>)</li> <li><code>fileParameterName</code> The name of the multipart request parameter to use for the file chunk (Default: <code>file</code>)</li> <li><code>chunkNumberParameterName</code> The name of the chunk index (base-1) in the current upload POST parameter to use for the file chunk (Default: <code>resumableChunkNumber</code>)</li> <li><code>totalChunksParameterName</code> The name of the total number of chunks POST parameter to use for the file chunk (Default: <code>resumableTotalChunks</code>)</li> <li><code>chunkSizeParameterName</code> The name of the general chunk size POST parameter to use for the file chunk (Default: <code>resumableChunkSize</code>)</li> <li><code>totalSizeParameterName</code> The name of the total file size number POST parameter to use for the file chunk (Default: <code>resumableTotalSize</code>)</li> <li><code>identifierParameterName</code> The name of the unique identifier POST parameter to use for the file chunk (Default: <code>resumableIdentifier</code>)</li> <li><code>fileNameParameterName</code> The name of the original file name POST parameter to use for the file chunk (Default: <code>resumableFilename</code>)</li> <li><code>relativePathParameterName</code> The name of the file's relative path POST parameter to use for the file chunk (Default: <code>resumableRelativePath</code>)</li> <li><code>currentChunkSizeParameterName</code> The name of the current chunk size POST parameter to use for the file chunk (Default: <code>resumableCurrentChunkSize</code>)</li> <li><code>typeParameterName</code> The name of the file type POST parameter to use for the file chunk (Default: <code>resumableType</code>)</li> <li><code>query</code> Extra parameters to include in the multipart request with data. This can be an object or a function. If a function, it will be passed a ResumableFile and a ResumableChunk object (Default: <code>{}</code>)</li> <li><code>testMethod</code> Method for chunk test request. (Default: <code>'GET'</code>)</li> <li><code>uploadMethod</code> HTTP method to use when sending chunks to the server (<code>POST</code>, <code>PUT</code>, <code>PATCH</code>) (Default: <code>POST</code>)</li> <li><code>parameterNamespace</code> Extra prefix added before the name of each parameter included in the multipart POST or in the test GET. (Default: <code>''</code>)</li> <li><code>headers</code> Extra headers to include in the multipart POST with data. This can be an <code>object</code> or a <code>function</code> that allows you to construct and return a value, based on supplied <code>file</code> (Default: <code>{}</code>)</li> <li><code>method</code> Method to use when sending chunks to the server (<code>multipart</code> or <code>octet</code>) (Default: <code>multipart</code>)</li> <li><code>prioritizeFirstAndLastChunk</code> Prioritize first and last chunks of all files. This can be handy if you can determine if a file is valid for your service from only the first or last chunk. For example, photo or video meta data is usually located in the first part of a file, making it easy to test support from only the first chunk. (Default: <code>false</code>)</li> <li><code>testChunks</code> Make a GET request to the server for each chunks to see if it already exists. If implemented on the server-side, this will allow for upload resumes even after a browser crash or even a computer restart. (Default: <code>true</code>)</li> <li><code>preprocess</code> Optional function to process each chunk before testing &amp; sending. Function is passed the chunk as parameter, and should call the <code>preprocessFinished</code> method on the chunk when finished. (Default: <code>null</code>)</li> <li><code>generateUniqueIdentifier(file, event)</code> Override the function that generates unique identifiers for each file. May return Promise-like object with <code>then()</code> method for asynchronous id generation. Parameters are the ES <code>File</code> object and the event that led to adding the file. (Default: <code>null</code>)</li> <li><code>maxFiles</code> Indicates how many files can be uploaded in a single session. Valid values are any positive integer and <code>undefined</code> for no limit. (Default: <code>undefined</code>)</li> <li><code>maxFilesErrorCallback(files, errorCount)</code> A function which displays the please upload n file(s) at a time message. (Default: displays an alert box with the message Please n one file(s) at a time.)</li> <li><code>minFileSize</code> The minimum allowed file size. (Default: <code>undefined</code>)</li> <li><code>minFileSizeErrorCallback(file, errorCount)</code> A function which displays an error a selected file is smaller than allowed. (Default: displays an alert for every bad file.)</li> <li><code>maxFileSize</code> The maximum allowed file size. (Default: <code>undefined</code>)</li> <li><code>maxFileSizeErrorCallback(file, errorCount)</code> A function which displays an error a selected file is larger than allowed. (Default: displays an alert for every bad file.)</li> <li><code>fileType</code> The file types allowed to upload. An empty array allow any file type. (Default: <code>[]</code>)</li> <li><code>fileTypeErrorCallback(file, errorCount)</code> A function which displays an error a selected file has type not allowed. (Default: displays an alert for every bad file.)</li> <li><code>maxChunkRetries</code> The maximum number of retries for a chunk before the upload is failed. Valid values are any positive integer and <code>undefined</code> for no limit. (Default: <code>undefined</code>)</li> <li><code>chunkRetryInterval</code> The number of milliseconds to wait before retrying a chunk on a non-permanent error. Valid values are any positive integer and <code>undefined</code> for immediate retry. (Default: <code>undefined</code>)</li> <li><code>withCredentials</code> Standard CORS requests do not send or set any cookies by default. In order to include cookies as part of the request, you need to set the <code>withCredentials</code> property to true. (Default: <code>false</code>)</li> <li><code>xhrTimeout</code> The timeout in milliseconds for each request (Default: <code>0</code>)</li> <li><code>setChunkTypeFromFile</code> Set chunk content-type from original file.type. (Default: <code>false</code>, if <code>false</code> default Content-Type: <code>application/octet-stream</code>)</li> </ul>"},{"location":"new-third-part-lib/resumablejs/#properties","title":"Properties","text":"<ul> <li><code>.support</code> A boolean value indicator whether or not Resumable.js is supported by the current browser.</li> <li><code>.opts</code> A hash object of the configuration of the Resumable.js instance.</li> <li><code>.files</code> An array of <code>ResumableFile</code> file objects added by the user (see full docs for this object type below).</li> </ul>"},{"location":"new-third-part-lib/resumablejs/#methods","title":"Methods","text":"<ul> <li><code>.assignBrowse(domNodes, isDirectory)</code> Assign a browse action to one or more DOM nodes. Pass in <code>true</code> to allow directories to be selected (Chrome only). See the note above about using an HTML span instead of an actual button.</li> <li><code>.assignDrop(domNodes)</code> Assign one or more DOM nodes as a drop target.</li> <li><code>.on(event, callback)</code> Listen for event from Resumable.js (see below)</li> <li><code>.upload()</code> Start or resume uploading.</li> <li><code>.pause()</code> Pause uploading.</li> <li><code>.cancel()</code> Cancel upload of all <code>ResumableFile</code> objects and remove them from the list.</li> <li><code>.progress()</code> Returns a float between 0 and 1 indicating the current upload progress of all files.</li> <li><code>.isUploading()</code> Returns a boolean indicating whether or not the instance is currently uploading anything.</li> <li><code>.addFile(file)</code> Add a HTML5 File object to the list of files.</li> <li><code>.addFiles(files)</code> Add an Array of HTML5 File objects to the list of files.</li> <li><code>.removeFile(file)</code> Cancel upload of a specific <code>ResumableFile</code> object on the list from the list.</li> <li><code>.getFromUniqueIdentifier(uniqueIdentifier)</code> Look up a <code>ResumableFile</code> object by its unique identifier.</li> <li><code>.getSize()</code> Returns the total size of the upload in bytes.</li> </ul>"},{"location":"new-third-part-lib/resumablejs/#events","title":"Events","text":"<ul> <li><code>.fileSuccess(file, message)</code> A specific file was completed. <code>message</code> is the response body from the server.</li> <li><code>.fileProgress(file)</code> Uploading progressed for a specific file.</li> <li><code>.fileAdded(file, event)</code> A new file was added. Optionally, you can use the browser <code>event</code> object from when the file was added.</li> <li><code>.filesAdded(arrayAdded, arraySkipped)</code> New files were added (and maybe some have been skipped).</li> <li><code>.fileRetry(file)</code> Something went wrong during upload of a specific file, uploading is being retried.</li> <li><code>.fileError(file, message)</code> An error occurred during upload of a specific file.</li> <li><code>.uploadStart()</code> Upload has been started on the Resumable object.</li> <li><code>.complete()</code> Uploading completed.</li> <li><code>.progress()</code> Uploading progress.</li> <li><code>.error(message, file)</code> An error, including fileError, occurred.</li> <li><code>.pause()</code> Uploading was paused.</li> <li><code>.beforeCancel()</code> Triggers before the items are cancelled allowing to do any processing on uploading files.</li> <li><code>.cancel()</code> Uploading was canceled.</li> <li><code>.chunkingStart(file)</code> Started preparing file for upload</li> <li><code>.chunkingProgress(file,ratio)</code> Show progress in file preparation</li> <li><code>.chunkingComplete(file)</code> File is ready for upload</li> <li><code>.catchAll(event, ...)</code> Listen to all the events listed above with the same callback function.</li> </ul>"},{"location":"new-third-part-lib/resumablejs/#resumablefile","title":"ResumableFile","text":""},{"location":"new-third-part-lib/resumablejs/#properties_1","title":"Properties","text":"<ul> <li><code>.resumableObj</code> A back-reference to the parent <code>Resumable</code> object.</li> <li><code>.file</code> The correlating HTML5 <code>File</code> object.</li> <li><code>.fileName</code> The name of the file.</li> <li><code>.relativePath</code> The relative path to the file (defaults to file name if relative path doesn't exist)</li> <li><code>.size</code> Size in bytes of the file.</li> <li><code>.uniqueIdentifier</code> A unique identifier assigned to this file object. This value is included in uploads to the server for reference, but can also be used in CSS classes etc when building your upload UI.</li> <li><code>.chunks</code> An array of <code>ResumableChunk</code> items. You shouldn't need to dig into these.</li> </ul>"},{"location":"new-third-part-lib/resumablejs/#methods_1","title":"Methods","text":"<ul> <li><code>.progress(relative)</code> Returns a float between 0 and 1 indicating the current upload progress of the file. If <code>relative</code> is <code>true</code>, the value is returned relative to all files in the Resumable.js instance.</li> <li><code>.abort()</code> Abort uploading the file.</li> <li><code>.cancel()</code> Abort uploading the file and delete it from the list of files to upload.</li> <li><code>.retry()</code> Retry uploading the file.</li> <li><code>.bootstrap()</code> Rebuild the state of a <code>ResumableFile</code> object, including reassigning chunks and XMLHttpRequest instances.</li> <li><code>.isUploading()</code> Returns a boolean indicating whether file chunks is uploading.</li> <li><code>.isComplete()</code> Returns a boolean indicating whether the file has completed uploading and received a server response.</li> </ul>"},{"location":"new-third-part-lib/resumablejs/#alternatives","title":"Alternatives","text":"<p>This library is explicitly designed for modern browsers supporting advanced HTML5 file features, and the motivation has been to provide stable and resumable support for large files (allowing uploads of several GB files through HTTP in a predictable fashion).</p> <p>If your aim is just to support progress indications during upload/uploading multiple files at once, Resumable.js isn't for you. In those cases, something like Plupload provides the same features with wider browser support.</p>"},{"location":"new-third-part-lib/ron-react-autocomplete/","title":"027 ron-react-autocomplete","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 286  \u9605\u8bfb1\u5206\u949f</p>"},{"location":"new-third-part-lib/ron-react-autocomplete/#_1","title":"\u7528\u9014","text":"<p>Autocomplete component for React.</p> <p>\u81ea\u52a8\u5b8c\u6210\u7ec4\u4ef6\uff08react\uff09</p>"},{"location":"new-third-part-lib/ron-react-autocomplete/#_2","title":"\u53ef\u9760\u6027","text":"<p>37\u4e2a\u661f\u661f\uff0c\u5c3d\u91cf\u522b\u7528</p>"},{"location":"new-third-part-lib/ron-react-autocomplete/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://github.com/prometheusresearch-archive/react-autocomplete</p> <p>https://www.npmjs.com/package/ron-react-autocomplete</p>"},{"location":"new-third-part-lib/sass-loader/","title":"sass-loader","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 24929  \u9605\u8bfb50\u5206\u949f</p>"},{"location":"new-third-part-lib/sass-loader/#sass-loader","title":"sass-loader","text":""},{"location":"new-third-part-lib/sass-loader/#version","title":"version","text":"<p>14.2.1\u00a0\u2022 </p>"},{"location":"new-third-part-lib/sass-loader/#downloads","title":"downloads","text":"<p>12,870,184 </p>"},{"location":"new-third-part-lib/sass-loader/#repository","title":"repository","text":"<p>github.com/webpack-contrib/sass-loader </p>"},{"location":"new-third-part-lib/sass-loader/#homepage","title":"homepage","text":"<p>github.com/webpack-contrib/sass-loader </p>"},{"location":"new-third-part-lib/sass-loader/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/sass-loader/#sass-loader_1","title":"sass-loader","text":"<p>Loads a Sass/SCSS file and compiles it to CSS.</p>"},{"location":"new-third-part-lib/sass-loader/#getting-started","title":"Getting Started","text":"<p>To begin, you'll need to install <code>sass-loader</code>:</p> <pre><code>npm install sass-loader sass webpack --save-dev\n</code></pre> <p>or</p> <pre><code>yarn add -D sass-loader sass webpack\n</code></pre> <p>or</p> <pre><code>pnpm add -D sass-loader sass webpack\n</code></pre> <p><code>sass-loader</code> requires you to install either Dart Sass, Node Sass on your own (more documentation can be found below) or Sass Embedded.</p> <p>This allows you to control the versions of all your dependencies, and to choose which Sass implementation to use.</p> <p>Note</p> <p>We highly recommend using Dart Sass.</p> <p>Warning</p> <p>Node Sass does not work with Yarn PnP feature and doesn't support @use rule.</p> <p>Warning</p> <p>Sass Embedded is experimental and in <code>beta</code>, therefore some features may not work</p> <p>Chain the <code>sass-loader</code> with the css-loader and the style-loader to immediately apply all styles to the DOM or the mini- css-extract-plugin to extract it into a separate file.</p> <p>Then add the loader to your Webpack configuration. For example:</p> <p>app.js</p> <pre><code>import \"./style.scss\";\n</code></pre> <p>style.scss</p> <pre><code>$body-color: red;\n\nbody {\n  color: $body-color;\n}\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.s[ac]ss$/i,\n        use: [\n          // Creates `style` nodes from JS strings\n          \"style-loader\",\n          // Translates CSS into CommonJS\n          \"css-loader\",\n          // Compiles Sass to CSS\n          \"sass-loader\",\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>Finally run <code>webpack</code> via your preferred method.</p>"},{"location":"new-third-part-lib/sass-loader/#the-outputstyle-old-api-and-style-new-api-options-in-production","title":"The <code>outputStyle</code> (old API) and <code>style</code> (new API) options in <code>production</code>","text":"<p>mode</p> <p>For <code>production</code> mode, the <code>outputStyle</code> (old API) and <code>style</code> (new API) options default to <code>compressed</code> unless otherwise specified in <code>sassOptions</code>.</p>"},{"location":"new-third-part-lib/sass-loader/#resolving-import-at-rules","title":"Resolving <code>import</code> at-rules","text":"<p>Webpack provides an advanced mechanism to resolve files.</p> <p>The <code>sass-loader</code> uses Sass's custom importer feature to pass all queries to the Webpack resolving engine. Thus you can import your Sass modules from <code>node_modules</code>.</p> <pre><code>@import \"bootstrap\";\n</code></pre> <p>Using <code>~</code> is deprecated and can be removed from your code (we recommend it), but we still support it for historical reasons. Why can you remove it? The loader will first try to resolve <code>@import</code> as a relative path. If it cannot be resolved, then the loader will try to resolve <code>@import</code> inside <code>node_modules</code>.</p> <p>Prepending module paths with a <code>~</code> tells webpack to search through <code>node_modules</code>.</p> <pre><code>@import \"~bootstrap\";\n</code></pre> <p>It's important to prepend it with only <code>~</code>, because <code>~/</code> resolves to the home directory. Webpack needs to distinguish between <code>bootstrap</code> and <code>~bootstrap</code> because CSS and Sass files have no special syntax for importing relative files. Writing <code>@import \"style.scss\"</code> is the same as <code>@import \"./style.scss\";</code></p>"},{"location":"new-third-part-lib/sass-loader/#problems-with-url","title":"Problems with <code>url(...)</code>","text":"<p>Since Sass implementations don't provide url rewriting, all linked assets must be relative to the output.</p> <ul> <li>If you pass the generated CSS on to the <code>css-loader</code>, all urls must be relative to the entry-file (e.g. <code>main.scss</code>).</li> <li>If you're just generating CSS without passing it to the <code>css-loader</code>, it must be relative to your web root.</li> </ul> <p>You will be disrupted by this first issue. It is natural to expect relative references to be resolved against the <code>.sass</code>/<code>.scss</code> file in which they are specified (like in regular <code>.css</code> files).</p> <p>Thankfully there are a two solutions to this problem:</p> <ul> <li>Add the missing url rewriting using the resolve-url-loader. Place it before <code>sass-loader</code> in the loader chain.</li> <li>Library authors usually provide a variable to modify the asset path. bootstrap-sass for example has an <code>$icon-font-path</code>.</li> </ul>"},{"location":"new-third-part-lib/sass-loader/#options","title":"Options","text":"<ul> <li><code>implementation</code></li> <li><code>sassOptions</code></li> <li><code>sourceMap</code></li> <li><code>additionalData</code></li> <li><code>webpackImporter</code></li> <li><code>warnRuleAsWarning</code></li> </ul>"},{"location":"new-third-part-lib/sass-loader/#implementation","title":"<code>implementation</code>","text":"<p>Type:</p> <pre><code>type implementation = object | string;\n</code></pre> <p>Default: <code>sass</code></p> <p>The special <code>implementation</code> option determines which implementation of Sass to use.</p> <p>By default the loader resolve the implementation based on your dependencies. Just add required implementation to <code>package.json</code> (<code>sass</code> or <code>node-sass</code> package) and install dependencies.</p> <p>Example where the <code>sass-loader</code> loader uses the <code>sass</code> (<code>dart-sass</code>) implementation:</p> <p>package.json</p> <pre><code>{\n  \"devDependencies\": {\n    \"sass-loader\": \"^7.2.0\",\n    \"sass\": \"^1.22.10\"\n  }\n}\n</code></pre> <p>Example where the <code>sass-loader</code> loader uses the <code>node-sass</code> implementation:</p> <p>package.json</p> <pre><code>{\n  \"devDependencies\": {\n    \"sass-loader\": \"^7.2.0\",\n    \"node-sass\": \"^5.0.0\"\n  }\n}\n</code></pre> <p>Beware the situation when <code>node-sass</code> and <code>sass</code> were installed! By default the <code>sass-loader</code> prefers <code>sass</code>. In order to avoid this situation you can use the <code>implementation</code> option.</p> <p>The <code>implementation</code> options either accepts <code>sass</code> (<code>Dart Sass</code>) or <code>node- sass</code> as a module.</p>"},{"location":"new-third-part-lib/sass-loader/#object","title":"<code>object</code>","text":"<p>For example, to use Dart Sass, you'd pass:</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.s[ac]ss$/i,\n        use: [\n          \"style-loader\",\n          \"css-loader\",\n          {\n            loader: \"sass-loader\",\n            options: {\n              // Prefer `dart-sass`\n              implementation: require(\"sass\"),\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/sass-loader/#string","title":"<code>string</code>","text":"<p>For example, to use Dart Sass, you'd pass:</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.s[ac]ss$/i,\n        use: [\n          \"style-loader\",\n          \"css-loader\",\n          {\n            loader: \"sass-loader\",\n            options: {\n              // Prefer `dart-sass`\n              implementation: require.resolve(\"sass\"),\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/sass-loader/#sassoptions","title":"<code>sassOptions</code>","text":"<p>Type:</p> <pre><code>type sassOptions =\n  | import(\"sass\").LegacyOptions&lt;\"async\"&gt;\n  | ((\n      content: string | Buffer,\n      loaderContext: LoaderContext,\n      meta: any,\n    ) =&gt; import(\"sass\").LegacyOptions&lt;\"async\"&gt;);\n</code></pre> <p>Default: defaults values for Sass implementation</p> <p>Options for Dart Sass or Node Sass implementation.</p> <p>Note</p> <p>The <code>charset</code> option has <code>true</code> value by default for <code>dart-sass</code>, we strongly discourage change value to <code>false</code>, because webpack doesn't support files other than <code>utf-8</code>.</p> <p>Note</p> <p>The <code>indentedSyntax</code> option has <code>true</code> value for the <code>sass</code> extension.</p> <p>Note</p> <p>Options such as <code>data</code> and <code>file</code> are unavailable and will be ignored.</p> <p>\u2139 We strongly discourage change <code>outFile</code>, <code>sourceMapContents</code>, <code>sourceMapEmbed</code>, <code>sourceMapRoot</code> options because <code>sass-loader</code> automatically sets these options when the <code>sourceMap</code> option is <code>true</code>.</p> <p>Note</p> <p>Access to the loader context inside the custom importer can be done using the <code>this.webpackLoaderContext</code> property.</p> <p>There is a slight difference between the <code>sass</code> (<code>dart-sass</code>) and <code>node-sass</code> options.</p> <p>Please consult documentation before using them:</p> <ul> <li>Dart Sass documentation for all available <code>sass</code> options.</li> <li>Node Sass documentation for all available <code>node-sass</code> options.</li> </ul>"},{"location":"new-third-part-lib/sass-loader/#object_1","title":"<code>object</code>","text":"<p>Use an object for the Sass implementation setup.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.s[ac]ss$/i,\n        use: [\n          \"style-loader\",\n          \"css-loader\",\n          {\n            loader: \"sass-loader\",\n            options: {\n              sassOptions: {\n                indentWidth: 4,\n                includePaths: [\"absolute/path/a\", \"absolute/path/b\"],\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/sass-loader/#function","title":"<code>function</code>","text":"<p>Allows to setup the Sass implementation by setting different options based on the loader context.</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.s[ac]ss$/i,\n        use: [\n          \"style-loader\",\n          \"css-loader\",\n          {\n            loader: \"sass-loader\",\n            options: {\n              sassOptions: (content, loaderContext) =&gt; {\n                // More information about available properties https://webpack.js.org/api/loaders/\n                const { resourcePath, rootContext } = loaderContext;\n                const relativePath = path.relative(rootContext, resourcePath);\n\n                if (relativePath === \"styles/foo.scss\") {\n                  return {\n                    includePaths: [\"absolute/path/c\", \"absolute/path/d\"],\n                  };\n                }\n\n                return {\n                  includePaths: [\"absolute/path/a\", \"absolute/path/b\"],\n                };\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/sass-loader/#sourcemap","title":"<code>sourceMap</code>","text":"<p>Type:</p> <pre><code>type sourceMap = boolean;\n</code></pre> <p>Default: depends on the <code>compiler.devtool</code> value</p> <p>Enables/Disables generation of source maps.</p> <p>By default generation of source maps depends on the <code>devtool</code> option. All values enable source map generation except <code>eval</code> and <code>false</code> value.</p> <p>\u2139 If a <code>true</code> the <code>sourceMap</code>, <code>sourceMapRoot</code>, <code>sourceMapEmbed</code>, <code>sourceMapContents</code> and <code>omitSourceMapUrl</code> from <code>sassOptions</code> will be ignored.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.s[ac]ss$/i,\n        use: [\n          \"style-loader\",\n          {\n            loader: \"css-loader\",\n            options: {\n              sourceMap: true,\n            },\n          },\n          {\n            loader: \"sass-loader\",\n            options: {\n              sourceMap: true,\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>\u2139 In some rare cases <code>node-sass</code> can output invalid source maps (it is a <code>node-sass</code> bug).</p> <p>In order to avoid this, you can try to update <code>node-sass</code> to latest version or you can try to set within <code>sassOptions</code> the <code>outputStyle</code> option to <code>compressed</code>.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.s[ac]ss$/i,\n        use: [\n          \"style-loader\",\n          \"css-loader\",\n          {\n            loader: \"sass-loader\",\n            options: {\n              sourceMap: true,\n              sassOptions: {\n                outputStyle: \"compressed\",\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/sass-loader/#additionaldata","title":"<code>additionalData</code>","text":"<p>Type:</p> <pre><code>type additionalData =\n  | string\n  | ((content: string | Buffer, loaderContext: LoaderContext) =&gt; string);\n</code></pre> <p>Default: <code>undefined</code></p> <p>Prepends <code>Sass</code>/<code>SCSS</code> code before the actual entry file. In this case, the <code>sass-loader</code> will not override the <code>data</code> option but just prepend the entry's content.</p> <p>This is especially useful when some of your Sass variables depend on the environment:</p>"},{"location":"new-third-part-lib/sass-loader/#string_1","title":"<code>string</code>","text":"<pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.s[ac]ss$/i,\n        use: [\n          \"style-loader\",\n          \"css-loader\",\n          {\n            loader: \"sass-loader\",\n            options: {\n              additionalData: \"$env: \" + process.env.NODE_ENV + \";\",\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/sass-loader/#function_1","title":"<code>function</code>","text":""},{"location":"new-third-part-lib/sass-loader/#sync","title":"Sync","text":"<pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.s[ac]ss$/i,\n        use: [\n          \"style-loader\",\n          \"css-loader\",\n          {\n            loader: \"sass-loader\",\n            options: {\n              additionalData: (content, loaderContext) =&gt; {\n                // More information about available properties https://webpack.js.org/api/loaders/\n                const { resourcePath, rootContext } = loaderContext;\n                const relativePath = path.relative(rootContext, resourcePath);\n\n                if (relativePath === \"styles/foo.scss\") {\n                  return \"$value: 100px;\" + content;\n                }\n\n                return \"$value: 200px;\" + content;\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/sass-loader/#async","title":"Async","text":"<pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.s[ac]ss$/i,\n        use: [\n          \"style-loader\",\n          \"css-loader\",\n          {\n            loader: \"sass-loader\",\n            options: {\n              additionalData: async (content, loaderContext) =&gt; {\n                // More information about available properties https://webpack.js.org/api/loaders/\n                const { resourcePath, rootContext } = loaderContext;\n                const relativePath = path.relative(rootContext, resourcePath);\n\n                if (relativePath === \"styles/foo.scss\") {\n                  return \"$value: 100px;\" + content;\n                }\n\n                return \"$value: 200px;\" + content;\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/sass-loader/#webpackimporter","title":"<code>webpackImporter</code>","text":"<p>Type:</p> <pre><code>type webpackImporter = boolean;\n</code></pre> <p>Default: <code>true</code></p> <p>Enables/Disables the default Webpack importer.</p> <p>This can improve performance in some cases. Use it with caution because aliases and <code>@import</code> at-rules starting with <code>~</code> will not work. You can pass own <code>importer</code> to solve this (see <code>importer docs</code>).</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.s[ac]ss$/i,\n        use: [\n          \"style-loader\",\n          \"css-loader\",\n          {\n            loader: \"sass-loader\",\n            options: {\n              webpackImporter: false,\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/sass-loader/#warnruleaswarning","title":"<code>warnRuleAsWarning</code>","text":"<p>Type:</p> <pre><code>type warnRuleAsWarning = boolean;\n</code></pre> <p>Default: <code>true</code></p> <p>Treats the <code>@warn</code> rule as a webpack warning.</p> <p>style.scss</p> <pre><code>$known-prefixes: webkit, moz, ms, o;\n\n@mixin prefix($property, $value, $prefixes) {\n  @each $prefix in $prefixes {\n    @if not index($known-prefixes, $prefix) {\n      @warn \"Unknown prefix #{$prefix}.\";\n    }\n\n    -#{$prefix}-#{$property}: $value;\n  }\n  #{$property}: $value;\n}\n\n.tilt {\n  // Oops, we typo'd \"webkit\" as \"wekbit\"!\n  @include prefix(transform, rotate(15deg), wekbit ms);\n}\n</code></pre> <p>The presented code will throw webpack warning instead logging.</p> <p>To ignore unnecessary warnings you can use the ignoreWarnings option.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.s[ac]ss$/i,\n        use: [\n          \"style-loader\",\n          \"css-loader\",\n          {\n            loader: \"sass-loader\",\n            options: {\n              warnRuleAsWarning: true,\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/sass-loader/#api","title":"<code>api</code>","text":"<p>Type:</p> <pre><code>type api = \"legacy\" | \"modern\" | \"modern-compiler\";\n</code></pre> <p>Default: <code>\"legacy\"</code></p> <p>Allows you to switch between <code>legacy</code> and <code>modern</code> API. You can find more information here. The <code>modern- compiler</code> option enables the modern API with support for Shared Resources.</p> <p>Note</p> <p>Using <code>modern-compiler</code> and <code>sass-embedded</code> together significantly improve performance and decrease built time. We strongly recommend their use. We will enable them by default in a future major release.</p> <p>Warning</p> <p>The sass options are different for <code>modern</code> and <code>old</code> APIs. Please look at docs how to migrate on new options.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.s[ac]ss$/i,\n        use: [\n          \"style-loader\",\n          \"css-loader\",\n          {\n            loader: \"sass-loader\",\n            options: {\n              api: \"modern\",\n              sassOptions: {\n                // Your sass options\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/sass-loader/#how-to-enable-debug-output","title":"How to enable <code>@debug</code> output","text":"<p>Defaults, the output of <code>@debug</code> messages is disabled. To enable it, add to webpack.config.js following:</p> <pre><code>module.exports = {\n  stats: {\n    loggingDebug: [\"sass-loader\"],\n  },\n  // ...\n};\n</code></pre>"},{"location":"new-third-part-lib/sass-loader/#examples","title":"Examples","text":""},{"location":"new-third-part-lib/sass-loader/#extracts-css-into-separate-files","title":"Extracts CSS into separate files","text":"<p>For production builds it's recommended to extract the CSS from your bundle being able to use parallel loading of CSS/JS resources later on.</p> <p>There are four possibilities to extract a style sheet from the bundle:</p>"},{"location":"new-third-part-lib/sass-loader/#1-mini-css-extract-pluginhttpsgithubcomwebpack-contribmini-","title":"1. [mini-css-extract-plugin](https://github.com/webpack-contrib/mini-","text":"<p>css-extract-plugin)</p> <p>webpack.config.js</p> <pre><code>const MiniCssExtractPlugin = require(\"mini-css-extract-plugin\");\n\nmodule.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.s[ac]ss$/i,\n        use: [\n          // fallback to style-loader in development\n          process.env.NODE_ENV !== \"production\"\n            ? \"style-loader\"\n            : MiniCssExtractPlugin.loader,\n          \"css-loader\",\n          \"sass-loader\",\n        ],\n      },\n    ],\n  },\n  plugins: [\n    new MiniCssExtractPlugin({\n      // Options similar to the same options in webpackOptions.output\n      // both options are optional\n      filename: \"[name].css\",\n      chunkFilename: \"[id].css\",\n    }),\n  ],\n};\n</code></pre>"},{"location":"new-third-part-lib/sass-loader/#2-asset-modules","title":"2. Asset Modules","text":"<p>webpack.config.js</p> <pre><code>module.exports = {\n  entry: [__dirname + \"/src/scss/app.scss\"],\n  module: {\n    rules: [\n      {\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        use: [],\n      },\n      {\n        test: /\\.scss$/,\n        exclude: /node_modules/,\n        type: \"asset/resource\",\n        generator: {\n          filename: \"bundle.css\",\n        },\n        use: [\"sass-loader\"],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/sass-loader/#3-extract-loader","title":"3. extract-loader","text":"<p>(simpler, but specialized on the css-loader's output)</p>"},{"location":"new-third-part-lib/sass-loader/#4-file-loader","title":"4. file-loader","text":"<p>(deprecated--should only be used in Webpack v4)</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  entry: [__dirname + \"/src/scss/app.scss\"],\n  module: {\n    rules: [\n      {\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        use: [],\n      },\n      {\n        test: /\\.scss$/,\n        exclude: /node_modules/,\n        use: [\n          {\n            loader: \"file-loader\",\n            options: { outputPath: \"css/\", name: \"[name].min.css\" },\n          },\n          \"sass-loader\",\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>(source: https://stackoverflow.com/a/60029923/2969615)</p>"},{"location":"new-third-part-lib/sass-loader/#source-maps","title":"Source maps","text":"<p>Enables/Disables generation of source maps.</p> <p>To enable CSS source maps, you'll need to pass the <code>sourceMap</code> option to the <code>sass-loader</code> and the css-loader.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  devtool: \"source-map\", // any \"source-map\"-like devtool is possible\n  module: {\n    rules: [\n      {\n        test: /\\.s[ac]ss$/i,\n        use: [\n          \"style-loader\",\n          {\n            loader: \"css-loader\",\n            options: {\n              sourceMap: true,\n            },\n          },\n          {\n            loader: \"sass-loader\",\n            options: {\n              sourceMap: true,\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>If you want to edit the original Sass files inside Chrome, there's a good blog post. Checkout test/sourceMap for a running example.</p>"},{"location":"new-third-part-lib/sass-loader/#contributing","title":"Contributing","text":"<p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p>CONTRIBUTING</p>"},{"location":"new-third-part-lib/sass-loader/#license","title":"License","text":"<p>MIT</p>"},{"location":"new-third-part-lib/semver/","title":"semver","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 25067  \u9605\u8bfb51\u5206\u949f</p>"},{"location":"new-third-part-lib/semver/#semver","title":"semver","text":""},{"location":"new-third-part-lib/semver/#version","title":"version","text":"<p>7.6.3\u00a0 </p>"},{"location":"new-third-part-lib/semver/#downloads","title":"downloads","text":"<p>323,368,689 </p>"},{"location":"new-third-part-lib/semver/#repository","title":"repository","text":"<p>github.com/npm/node-semver </p>"},{"location":"new-third-part-lib/semver/#homepage","title":"homepage","text":"<p>github.com/npm/node-semver#readme </p>"},{"location":"new-third-part-lib/semver/#semver1-the-semantic-versioner-for-npm","title":"semver(1) -- The semantic versioner for npm","text":""},{"location":"new-third-part-lib/semver/#install","title":"Install","text":"<pre><code>npm install semver\n</code></pre>"},{"location":"new-third-part-lib/semver/#usage","title":"Usage","text":"<p>As a node module:</p> <pre><code>const semver = require('semver')\n\nsemver.valid('1.2.3') // '1.2.3'\nsemver.valid('a.b.c') // null\nsemver.clean('  =v1.2.3   ') // '1.2.3'\nsemver.satisfies('1.2.3', '1.x || &gt;=2.5.0 || 5.0.0 - 7.2.3') // true\nsemver.gt('1.2.3', '9.8.7') // false\nsemver.lt('1.2.3', '9.8.7') // true\nsemver.minVersion('&gt;=1.0.0') // '1.0.0'\nsemver.valid(semver.coerce('v2')) // '2.0.0'\nsemver.valid(semver.coerce('42.6.7.9.3-alpha')) // '42.6.7'\n</code></pre> <p>You can also just load the module for the function that you care about if you'd like to minimize your footprint.</p> <pre><code>// load the whole API at once in a single object\nconst semver = require('semver')\n\n// or just load the bits you need\n// all of them listed here, just pick and choose what you want\n\n// classes\nconst SemVer = require('semver/classes/semver')\nconst Comparator = require('semver/classes/comparator')\nconst Range = require('semver/classes/range')\n\n// functions for working with versions\nconst semverParse = require('semver/functions/parse')\nconst semverValid = require('semver/functions/valid')\nconst semverClean = require('semver/functions/clean')\nconst semverInc = require('semver/functions/inc')\nconst semverDiff = require('semver/functions/diff')\nconst semverMajor = require('semver/functions/major')\nconst semverMinor = require('semver/functions/minor')\nconst semverPatch = require('semver/functions/patch')\nconst semverPrerelease = require('semver/functions/prerelease')\nconst semverCompare = require('semver/functions/compare')\nconst semverRcompare = require('semver/functions/rcompare')\nconst semverCompareLoose = require('semver/functions/compare-loose')\nconst semverCompareBuild = require('semver/functions/compare-build')\nconst semverSort = require('semver/functions/sort')\nconst semverRsort = require('semver/functions/rsort')\n\n// low-level comparators between versions\nconst semverGt = require('semver/functions/gt')\nconst semverLt = require('semver/functions/lt')\nconst semverEq = require('semver/functions/eq')\nconst semverNeq = require('semver/functions/neq')\nconst semverGte = require('semver/functions/gte')\nconst semverLte = require('semver/functions/lte')\nconst semverCmp = require('semver/functions/cmp')\nconst semverCoerce = require('semver/functions/coerce')\n\n// working with ranges\nconst semverSatisfies = require('semver/functions/satisfies')\nconst semverMaxSatisfying = require('semver/ranges/max-satisfying')\nconst semverMinSatisfying = require('semver/ranges/min-satisfying')\nconst semverToComparators = require('semver/ranges/to-comparators')\nconst semverMinVersion = require('semver/ranges/min-version')\nconst semverValidRange = require('semver/ranges/valid')\nconst semverOutside = require('semver/ranges/outside')\nconst semverGtr = require('semver/ranges/gtr')\nconst semverLtr = require('semver/ranges/ltr')\nconst semverIntersects = require('semver/ranges/intersects')\nconst semverSimplifyRange = require('semver/ranges/simplify')\nconst semverRangeSubset = require('semver/ranges/subset')\n</code></pre> <p>As a command-line utility:</p> <pre><code>$ semver -h\n\nA JavaScript implementation of the https://semver.org/ specification\nCopyright Isaac Z. Schlueter\n\nUsage: semver [options] &lt;version&gt; [&lt;version&gt; [...]]\nPrints valid versions sorted by SemVer precedence\n\nOptions:\n-r --range &lt;range&gt;\n        Print versions that match the specified range.\n\n-i --increment [&lt;level&gt;]\n        Increment a version by the specified level.  Level can\n        be one of: major, minor, patch, premajor, preminor,\n        prepatch, or prerelease.  Default level is 'patch'.\n        Only one version may be specified.\n\n--preid &lt;identifier&gt;\n        Identifier to be used to prefix premajor, preminor,\n        prepatch or prerelease version increments.\n\n-l --loose\n        Interpret versions and ranges loosely\n\n-n &lt;0|1&gt;\n        This is the base to be used for the prerelease identifier.\n\n-p --include-prerelease\n        Always include prerelease versions in range matching\n\n-c --coerce\n        Coerce a string into SemVer if possible\n        (does not imply --loose)\n\n--rtl\n        Coerce version strings right to left\n\n--ltr\n        Coerce version strings left to right (default)\n\nProgram exits successfully if any valid version satisfies\nall supplied ranges, and prints all satisfying versions.\n\nIf no satisfying versions are found, then exits failure.\n\nVersions are printed in ascending order, so supplying\nmultiple versions to the utility will just sort them.\n</code></pre>"},{"location":"new-third-part-lib/semver/#versions","title":"Versions","text":"<p>A \"version\" is described by the <code>v2.0.0</code> specification found at https://semver.org/.</p> <p>A leading <code>\"=\"</code> or <code>\"v\"</code> character is stripped off and ignored.</p>"},{"location":"new-third-part-lib/semver/#ranges","title":"Ranges","text":"<p>A <code>version range</code> is a set of <code>comparators</code> that specify versions that satisfy the range.</p> <p>A <code>comparator</code> is composed of an <code>operator</code> and a <code>version</code>. The set of primitive <code>operators</code> is:</p> <ul> <li><code>&lt;</code> Less than</li> <li><code>&lt;=</code> Less than or equal to</li> <li><code>&gt;</code> Greater than</li> <li><code>&gt;=</code> Greater than or equal to</li> <li><code>=</code> Equal. If no operator is specified, then equality is assumed, so this operator is optional but MAY be included.</li> </ul> <p>For example, the comparator <code>&gt;=1.2.7</code> would match the versions <code>1.2.7</code>, <code>1.2.8</code>, <code>2.5.3</code>, and <code>1.3.9</code>, but not the versions <code>1.2.6</code> or <code>1.1.0</code>. The comparator <code>&gt;1</code> is equivalent to <code>&gt;=2.0.0</code> and would match the versions <code>2.0.0</code> and <code>3.1.0</code>, but not the versions <code>1.0.1</code> or <code>1.1.0</code>.</p> <p>Comparators can be joined by whitespace to form a <code>comparator set</code>, which is satisfied by the intersection of all of the comparators it includes.</p> <p>A range is composed of one or more comparator sets, joined by <code>||</code>. A version matches a range if and only if every comparator in at least one of the <code>||</code>-separated comparator sets is satisfied by the version.</p> <p>For example, the range <code>&gt;=1.2.7 &lt;1.3.0</code> would match the versions <code>1.2.7</code>, <code>1.2.8</code>, and <code>1.2.99</code>, but not the versions <code>1.2.6</code>, <code>1.3.0</code>, or <code>1.1.0</code>.</p> <p>The range <code>1.2.7 || &gt;=1.2.9 &lt;2.0.0</code> would match the versions <code>1.2.7</code>, <code>1.2.9</code>, and <code>1.4.6</code>, but not the versions <code>1.2.8</code> or <code>2.0.0</code>.</p>"},{"location":"new-third-part-lib/semver/#prerelease-tags","title":"Prerelease Tags","text":"<p>If a version has a prerelease tag (for example, <code>1.2.3-alpha.3</code>) then it will only be allowed to satisfy comparator sets if at least one comparator with the same <code>[major, minor, patch]</code> tuple also has a prerelease tag.</p> <p>For example, the range <code>&gt;1.2.3-alpha.3</code> would be allowed to match the version <code>1.2.3-alpha.7</code>, but it would not be satisfied by <code>3.4.5-alpha.9</code>, even though <code>3.4.5-alpha.9</code> is technically \"greater than\" <code>1.2.3-alpha.3</code> according to the SemVer sort rules. The version range only accepts prerelease tags on the <code>1.2.3</code> version. Version <code>3.4.5</code> would satisfy the range because it does not have a prerelease flag, and <code>3.4.5</code> is greater than <code>1.2.3-alpha.7</code>.</p> <p>The purpose of this behavior is twofold. First, prerelease versions frequently are updated very quickly, and contain many breaking changes that are (by the author's design) not yet fit for public consumption. Therefore, by default, they are excluded from range-matching semantics.</p> <p>Second, a user who has opted into using a prerelease version has indicated the intent to use that specific set of alpha/beta/rc versions. By including a prerelease tag in the range, the user is indicating that they are aware of the risk. However, it is still not appropriate to assume that they have opted into taking a similar risk on the next set of prerelease versions.</p> <p>Note that this behavior can be suppressed (treating all prerelease versions as if they were normal versions, for range-matching) by setting the <code>includePrerelease</code> flag on the options object to any functions that do range matching.</p>"},{"location":"new-third-part-lib/semver/#prerelease-identifiers","title":"Prerelease Identifiers","text":"<p>The method <code>.inc</code> takes an additional <code>identifier</code> string argument that will append the value of the string as a prerelease identifier:</p> <pre><code>semver.inc('1.2.3', 'prerelease', 'beta')\n// '1.2.4-beta.0'\n</code></pre> <p>command-line example:</p> <pre><code>$ semver 1.2.3 -i prerelease --preid beta\n1.2.4-beta.0\n</code></pre> <p>Which then can be used to increment further:</p> <pre><code>$ semver 1.2.4-beta.0 -i prerelease\n1.2.4-beta.1\n</code></pre>"},{"location":"new-third-part-lib/semver/#prerelease-identifier-base","title":"Prerelease Identifier Base","text":"<p>The method <code>.inc</code> takes an optional parameter 'identifierBase' string that will let you let your prerelease number as zero-based or one-based. Set to <code>false</code> to omit the prerelease number altogether. If you do not specify this parameter, it will default to zero-based.</p> <pre><code>semver.inc('1.2.3', 'prerelease', 'beta', '1')\n// '1.2.4-beta.1'\n\n\nsemver.inc('1.2.3', 'prerelease', 'beta', false)\n// '1.2.4-beta'\n</code></pre> <p>command-line example:</p> <pre><code>$ semver 1.2.3 -i prerelease --preid beta -n 1\n1.2.4-beta.1\n\n\n$ semver 1.2.3 -i prerelease --preid beta -n false\n1.2.4-beta\n</code></pre>"},{"location":"new-third-part-lib/semver/#advanced-range-syntax","title":"Advanced Range Syntax","text":"<p>Advanced range syntax desugars to primitive comparators in deterministic ways.</p> <p>Advanced ranges may be combined in the same way as primitive comparators using white space or <code>||</code>.</p>"},{"location":"new-third-part-lib/semver/#hyphen-ranges-xyz-abc","title":"Hyphen Ranges <code>X.Y.Z - A.B.C</code>","text":"<p>Specifies an inclusive set.</p> <ul> <li><code>1.2.3 - 2.3.4</code> := <code>&gt;=1.2.3 &lt;=2.3.4</code></li> </ul> <p>If a partial version is provided as the first version in the inclusive range, then the missing pieces are replaced with zeroes.</p> <ul> <li><code>1.2 - 2.3.4</code> := <code>&gt;=1.2.0 &lt;=2.3.4</code></li> </ul> <p>If a partial version is provided as the second version in the inclusive range, then all versions that start with the supplied parts of the tuple are accepted, but nothing that would be greater than the provided tuple parts.</p> <ul> <li><code>1.2.3 - 2.3</code> := <code>&gt;=1.2.3 &lt;2.4.0-0</code></li> <li><code>1.2.3 - 2</code> := <code>&gt;=1.2.3 &lt;3.0.0-0</code></li> </ul>"},{"location":"new-third-part-lib/semver/#x-ranges-12x-1x-12","title":"X-Ranges <code>1.2.x</code> <code>1.X</code> <code>1.2.*</code> <code>*</code>","text":"<p>Any of <code>X</code>, <code>x</code>, or <code>*</code> may be used to \"stand in\" for one of the numeric values in the <code>[major, minor, patch]</code> tuple.</p> <ul> <li><code>*</code> := <code>&gt;=0.0.0</code> (Any non-prerelease version satisfies, unless <code>includePrerelease</code> is specified, in which case any version at all satisfies)</li> <li><code>1.x</code> := <code>&gt;=1.0.0 &lt;2.0.0-0</code> (Matching major version)</li> <li><code>1.2.x</code> := <code>&gt;=1.2.0 &lt;1.3.0-0</code> (Matching major and minor versions)</li> </ul> <p>A partial version range is treated as an X-Range, so the special character is in fact optional.</p> <ul> <li><code>\"\"</code> (empty string) := <code>*</code> := <code>&gt;=0.0.0</code></li> <li><code>1</code> := <code>1.x.x</code> := <code>&gt;=1.0.0 &lt;2.0.0-0</code></li> <li><code>1.2</code> := <code>1.2.x</code> := <code>&gt;=1.2.0 &lt;1.3.0-0</code></li> </ul>"},{"location":"new-third-part-lib/semver/#tilde-ranges-123-12-1","title":"Tilde Ranges <code>~1.2.3</code> <code>~1.2</code> <code>~1</code>","text":"<p>Allows patch-level changes if a minor version is specified on the comparator. Allows minor-level changes if not.</p> <ul> <li><code>~1.2.3</code> := <code>&gt;=1.2.3 &lt;1.(2+1).0</code> := <code>&gt;=1.2.3 &lt;1.3.0-0</code></li> <li><code>~1.2</code> := <code>&gt;=1.2.0 &lt;1.(2+1).0</code> := <code>&gt;=1.2.0 &lt;1.3.0-0</code> (Same as <code>1.2.x</code>)</li> <li><code>~1</code> := <code>&gt;=1.0.0 &lt;(1+1).0.0</code> := <code>&gt;=1.0.0 &lt;2.0.0-0</code> (Same as <code>1.x</code>)</li> <li><code>~0.2.3</code> := <code>&gt;=0.2.3 &lt;0.(2+1).0</code> := <code>&gt;=0.2.3 &lt;0.3.0-0</code></li> <li><code>~0.2</code> := <code>&gt;=0.2.0 &lt;0.(2+1).0</code> := <code>&gt;=0.2.0 &lt;0.3.0-0</code> (Same as <code>0.2.x</code>)</li> <li><code>~0</code> := <code>&gt;=0.0.0 &lt;(0+1).0.0</code> := <code>&gt;=0.0.0 &lt;1.0.0-0</code> (Same as <code>0.x</code>)</li> <li><code>~1.2.3-beta.2</code> := <code>&gt;=1.2.3-beta.2 &lt;1.3.0-0</code> Note that prereleases in the <code>1.2.3</code> version will be allowed, if they are greater than or equal to <code>beta.2</code>. So, <code>1.2.3-beta.4</code> would be allowed, but <code>1.2.4-beta.2</code> would not, because it is a prerelease of a different <code>[major, minor, patch]</code> tuple.</li> </ul>"},{"location":"new-third-part-lib/semver/#caret-ranges-123-025-004","title":"Caret Ranges <code>^1.2.3</code> <code>^0.2.5</code> <code>^0.0.4</code>","text":"<p>Allows changes that do not modify the left-most non-zero element in the <code>[major, minor, patch]</code> tuple. In other words, this allows patch and minor updates for versions <code>1.0.0</code> and above, patch updates for versions `0.X</p> <p>=0.1.0<code>, and _no_ updates for versions</code>0.0.X`.</p> <p>Many authors treat a <code>0.x</code> version as if the <code>x</code> were the major \"breaking- change\" indicator.</p> <p>Caret ranges are ideal when an author may make breaking changes between <code>0.2.4</code> and <code>0.3.0</code> releases, which is a common practice. However, it presumes that there will not be breaking changes between <code>0.2.4</code> and <code>0.2.5</code>. It allows for changes that are presumed to be additive (but non-breaking), according to commonly observed practices.</p> <ul> <li><code>^1.2.3</code> := <code>&gt;=1.2.3 &lt;2.0.0-0</code></li> <li><code>^0.2.3</code> := <code>&gt;=0.2.3 &lt;0.3.0-0</code></li> <li><code>^0.0.3</code> := <code>&gt;=0.0.3 &lt;0.0.4-0</code></li> <li><code>^1.2.3-beta.2</code> := <code>&gt;=1.2.3-beta.2 &lt;2.0.0-0</code> Note that prereleases in the <code>1.2.3</code> version will be allowed, if they are greater than or equal to <code>beta.2</code>. So, <code>1.2.3-beta.4</code> would be allowed, but <code>1.2.4-beta.2</code> would not, because it is a prerelease of a different <code>[major, minor, patch]</code> tuple.</li> <li><code>^0.0.3-beta</code> := <code>&gt;=0.0.3-beta &lt;0.0.4-0</code> Note that prereleases in the <code>0.0.3</code> version only will be allowed, if they are greater than or equal to <code>beta</code>. So, <code>0.0.3-pr.2</code> would be allowed.</li> </ul> <p>When parsing caret ranges, a missing <code>patch</code> value desugars to the number <code>0</code>, but will allow flexibility within that value, even if the major and minor versions are both <code>0</code>.</p> <ul> <li><code>^1.2.x</code> := <code>&gt;=1.2.0 &lt;2.0.0-0</code></li> <li><code>^0.0.x</code> := <code>&gt;=0.0.0 &lt;0.1.0-0</code></li> <li><code>^0.0</code> := <code>&gt;=0.0.0 &lt;0.1.0-0</code></li> </ul> <p>A missing <code>minor</code> and <code>patch</code> values will desugar to zero, but also allow flexibility within those values, even if the major version is zero.</p> <ul> <li><code>^1.x</code> := <code>&gt;=1.0.0 &lt;2.0.0-0</code></li> <li><code>^0.x</code> := <code>&gt;=0.0.0 &lt;1.0.0-0</code></li> </ul>"},{"location":"new-third-part-lib/semver/#range-grammar","title":"Range Grammar","text":"<p>Putting all this together, here is a Backus-Naur grammar for ranges, for the benefit of parser authors:</p> <pre><code>range-set  ::= range ( logical-or range ) *\nlogical-or ::= ( ' ' ) * '||' ( ' ' ) *\nrange      ::= hyphen | simple ( ' ' simple ) * | ''\nhyphen     ::= partial ' - ' partial\nsimple     ::= primitive | partial | tilde | caret\nprimitive  ::= ( '&lt;' | '&gt;' | '&gt;=' | '&lt;=' | '=' ) partial\npartial    ::= xr ( '.' xr ( '.' xr qualifier ? )? )?\nxr         ::= 'x' | 'X' | '*' | nr\nnr         ::= '0' | ['1'-'9'] ( ['0'-'9'] ) *\ntilde      ::= '~' partial\ncaret      ::= '^' partial\nqualifier  ::= ( '-' pre )? ( '+' build )?\npre        ::= parts\nbuild      ::= parts\nparts      ::= part ( '.' part ) *\npart       ::= nr | [-0-9A-Za-z]+\n</code></pre>"},{"location":"new-third-part-lib/semver/#functions","title":"Functions","text":"<p>All methods and classes take a final <code>options</code> object argument. All options in this object are <code>false</code> by default. The options supported are:</p> <ul> <li><code>loose</code>: Be more forgiving about not-quite-valid semver strings. (Any resulting output will always be 100% strict compliant, of course.) For backwards compatibility reasons, if the <code>options</code> argument is a boolean value instead of an object, it is interpreted to be the <code>loose</code> param.</li> <li><code>includePrerelease</code>: Set to suppress the default behavior of excluding prerelease tagged versions from ranges unless they are explicitly opted into.</li> </ul> <p>Strict-mode Comparators and Ranges will be strict about the SemVer strings that they parse.</p> <ul> <li><code>valid(v)</code>: Return the parsed version, or null if it's not valid.</li> <li><code>inc(v, release, options, identifier, identifierBase)</code>: Return the version incremented by the release type (<code>major</code>, <code>premajor</code>, <code>minor</code>, <code>preminor</code>, <code>patch</code>, <code>prepatch</code>, or <code>prerelease</code>), or null if it's not valid <ul> <li><code>premajor</code> in one call will bump the version up to the next major version and down to a prerelease of that major version. <code>preminor</code>, and <code>prepatch</code> work the same way.</li> <li>If called from a non-prerelease version, <code>prerelease</code> will work the same as <code>prepatch</code>. It increments the patch version and then makes a prerelease. If the input version is already a prerelease it simply increments it.</li> <li><code>identifier</code> can be used to prefix <code>premajor</code>, <code>preminor</code>, <code>prepatch</code>, or <code>prerelease</code> version increments. <code>identifierBase</code> is the base to be used for the <code>prerelease</code> identifier.</li> </ul> </li> <li><code>prerelease(v)</code>: Returns an array of prerelease components, or null if none exist. Example: <code>prerelease('1.2.3-alpha.1') -&gt; ['alpha', 1]</code></li> <li><code>major(v)</code>: Return the major version number.</li> <li><code>minor(v)</code>: Return the minor version number.</li> <li><code>patch(v)</code>: Return the patch version number.</li> <li><code>intersects(r1, r2, loose)</code>: Return true if the two supplied ranges or comparators intersect.</li> <li><code>parse(v)</code>: Attempt to parse a string as a semantic version, returning either a <code>SemVer</code> object or <code>null</code>.</li> </ul>"},{"location":"new-third-part-lib/semver/#comparison","title":"Comparison","text":"<ul> <li><code>gt(v1, v2)</code>: <code>v1 &gt; v2</code></li> <li><code>gte(v1, v2)</code>: <code>v1 &gt;= v2</code></li> <li><code>lt(v1, v2)</code>: <code>v1 &lt; v2</code></li> <li><code>lte(v1, v2)</code>: <code>v1 &lt;= v2</code></li> <li><code>eq(v1, v2)</code>: <code>v1 == v2</code> This is true if they're logically equivalent, even if they're not the same string. You already know how to compare strings.</li> <li><code>neq(v1, v2)</code>: <code>v1 != v2</code> The opposite of <code>eq</code>.</li> <li><code>cmp(v1, comparator, v2)</code>: Pass in a comparison string, and it'll call the corresponding function above. <code>\"===\"</code> and <code>\"!==\"</code> do simple string comparison, but are included for completeness. Throws if an invalid comparison string is provided.</li> <li><code>compare(v1, v2)</code>: Return <code>0</code> if <code>v1 == v2</code>, or <code>1</code> if <code>v1</code> is greater, or <code>-1</code> if <code>v2</code> is greater. Sorts in ascending order if passed to <code>Array.sort()</code>.</li> <li><code>rcompare(v1, v2)</code>: The reverse of <code>compare</code>. Sorts an array of versions in descending order when passed to <code>Array.sort()</code>.</li> <li><code>compareBuild(v1, v2)</code>: The same as <code>compare</code> but considers <code>build</code> when two versions are equal. Sorts in ascending order if passed to <code>Array.sort()</code>.</li> <li><code>compareLoose(v1, v2)</code>: Short for <code>compare(v1, v2, { loose: true })</code>.</li> <li><code>diff(v1, v2)</code>: Returns the difference between two versions by the release type (<code>major</code>, <code>premajor</code>, <code>minor</code>, <code>preminor</code>, <code>patch</code>, <code>prepatch</code>, or <code>prerelease</code>), or null if the versions are the same.</li> </ul>"},{"location":"new-third-part-lib/semver/#sorting","title":"Sorting","text":"<ul> <li><code>sort(versions)</code>: Returns a sorted array of versions based on the <code>compareBuild</code> function.</li> <li><code>rsort(versions)</code>: The reverse of <code>sort</code>. Returns an array of versions based on the <code>compareBuild</code> function in descending order.</li> </ul>"},{"location":"new-third-part-lib/semver/#comparators","title":"Comparators","text":"<ul> <li><code>intersects(comparator)</code>: Return true if the comparators intersect</li> </ul>"},{"location":"new-third-part-lib/semver/#ranges_1","title":"Ranges","text":"<ul> <li><code>validRange(range)</code>: Return the valid range or null if it's not valid</li> <li><code>satisfies(version, range)</code>: Return true if the version satisfies the range.</li> <li><code>maxSatisfying(versions, range)</code>: Return the highest version in the list that satisfies the range, or <code>null</code> if none of them do.</li> <li><code>minSatisfying(versions, range)</code>: Return the lowest version in the list that satisfies the range, or <code>null</code> if none of them do.</li> <li><code>minVersion(range)</code>: Return the lowest version that can match the given range.</li> <li><code>gtr(version, range)</code>: Return <code>true</code> if the version is greater than all the versions possible in the range.</li> <li><code>ltr(version, range)</code>: Return <code>true</code> if the version is less than all the versions possible in the range.</li> <li><code>outside(version, range, hilo)</code>: Return true if the version is outside the bounds of the range in either the high or low direction. The <code>hilo</code> argument must be either the string <code>'&gt;'</code> or <code>'&lt;'</code>. (This is the function called by <code>gtr</code> and <code>ltr</code>.)</li> <li><code>intersects(range)</code>: Return true if any of the range comparators intersect.</li> <li><code>simplifyRange(versions, range)</code>: Return a \"simplified\" range that matches the same items in the <code>versions</code> list as the range specified. Note that it does not guarantee that it would match the same versions in all cases, only for the set of versions provided. This is useful when generating ranges by joining together multiple versions with <code>||</code> programmatically, to provide the user with something a bit more ergonomic. If the provided range is shorter in string-length than the generated range, then that is returned.</li> <li><code>subset(subRange, superRange)</code>: Return <code>true</code> if the <code>subRange</code> range is entirely contained by the <code>superRange</code> range.</li> </ul> <p>Note that, since ranges may be non-contiguous, a version might not be greater than a range, less than a range, or satisfy a range! For example, the range <code>1.2 &lt;1.2.9 || &gt;2.0.0</code> would have a hole from <code>1.2.9</code> until <code>2.0.0</code>, so version <code>1.2.10</code> would not be greater than the range (because <code>2.0.1</code> satisfies, which is higher), nor less than the range (since <code>1.2.8</code> satisfies, which is lower), and it also does not satisfy the range.</p> <p>If you want to know if a version satisfies or does not satisfy a range, use the <code>satisfies(version, range)</code> function.</p>"},{"location":"new-third-part-lib/semver/#coercion","title":"Coercion","text":"<ul> <li><code>coerce(version, options)</code>: Coerces a string to semver if possible</li> </ul> <p>This aims to provide a very forgiving translation of a non-semver string to semver. It looks for the first digit in a string and consumes all remaining characters which satisfy at least a partial semver (e.g., <code>1</code>, <code>1.2</code>, <code>1.2.3</code>) up to the max permitted length (256 characters). Longer versions are simply truncated (<code>4.6.3.9.2-alpha2</code> becomes <code>4.6.3</code>). All surrounding text is simply ignored (<code>v3.4 replaces v3.3.1</code> becomes <code>3.4.0</code>). Only text which lacks digits will fail coercion (<code>version one</code> is not valid). The maximum length for any semver component considered for coercion is 16 characters; longer components will be ignored (<code>10000000000000000.4.7.4</code> becomes <code>4.7.4</code>). The maximum value for any semver component is <code>Number.MAX_SAFE_INTEGER || (2**53 - 1)</code>; higher value components are invalid (<code>9999999999999999.4.7.4</code> is likely invalid).</p> <p>If the <code>options.rtl</code> flag is set, then <code>coerce</code> will return the right-most coercible tuple that does not share an ending index with a longer coercible tuple. For example, <code>1.2.3.4</code> will return <code>2.3.4</code> in rtl mode, not <code>4.0.0</code>. <code>1.2.3/4</code> will return <code>4.0.0</code>, because the <code>4</code> is not a part of any other overlapping SemVer tuple.</p> <p>If the <code>options.includePrerelease</code> flag is set, then the <code>coerce</code> result will contain prerelease and build parts of a version. For example, <code>1.2.3.4-rc.1+rev.2</code> will preserve prerelease <code>rc.1</code> and build <code>rev.2</code> in the result.</p>"},{"location":"new-third-part-lib/semver/#clean","title":"Clean","text":"<ul> <li><code>clean(version)</code>: Clean a string to be a valid semver if possible</li> </ul> <p>This will return a cleaned and trimmed semver version. If the provided version is not valid a null will be returned. This does not work for ranges.</p> <p>ex.</p> <ul> <li><code>s.clean(' = v 2.1.5foo')</code>: <code>null</code></li> <li><code>s.clean(' = v 2.1.5foo', { loose: true })</code>: <code>'2.1.5-foo'</code></li> <li><code>s.clean(' = v 2.1.5-foo')</code>: <code>null</code></li> <li><code>s.clean(' = v 2.1.5-foo', { loose: true })</code>: <code>'2.1.5-foo'</code></li> <li><code>s.clean('=v2.1.5')</code>: <code>'2.1.5'</code></li> <li><code>s.clean(' =v2.1.5')</code>: <code>'2.1.5'</code></li> <li><code>s.clean(' 2.1.5 ')</code>: <code>'2.1.5'</code></li> <li><code>s.clean('~1.0.0')</code>: <code>null</code></li> </ul>"},{"location":"new-third-part-lib/semver/#constants","title":"Constants","text":"<p>As a convenience, helper constants are exported to provide information about what <code>node-semver</code> supports:</p>"},{"location":"new-third-part-lib/semver/#release_types","title":"<code>RELEASE_TYPES</code>","text":"<ul> <li>major</li> <li>premajor</li> <li>minor</li> <li>preminor</li> <li>patch</li> <li>prepatch</li> <li> <p>prerelease</p> <p>const semver = require('semver');</p> <p>if (semver.RELEASE_TYPES.includes(arbitraryUserInput)) {   console.log('This is a valid release type!'); } else {   console.warn('This is NOT a valid release type!'); }</p> </li> </ul>"},{"location":"new-third-part-lib/semver/#semver_spec_version","title":"<code>SEMVER_SPEC_VERSION</code>","text":"<p>2.0.0</p> <pre><code>const semver = require('semver');\n\nconsole.log('We are currently using the semver specification version:', semver.SEMVER_SPEC_VERSION);\n</code></pre>"},{"location":"new-third-part-lib/semver/#exported-modules","title":"Exported Modules","text":"<p>You may pull in just the part of this semver utility that you need if you are sensitive to packing and tree-shaking concerns. The main <code>require('semver')</code> export uses getter functions to lazily load the parts of the API that are used.</p> <p>The following modules are available:</p> <ul> <li><code>require('semver')</code></li> <li><code>require('semver/classes')</code></li> <li><code>require('semver/classes/comparator')</code></li> <li><code>require('semver/classes/range')</code></li> <li><code>require('semver/classes/semver')</code></li> <li><code>require('semver/functions/clean')</code></li> <li><code>require('semver/functions/cmp')</code></li> <li><code>require('semver/functions/coerce')</code></li> <li><code>require('semver/functions/compare')</code></li> <li><code>require('semver/functions/compare-build')</code></li> <li><code>require('semver/functions/compare-loose')</code></li> <li><code>require('semver/functions/diff')</code></li> <li><code>require('semver/functions/eq')</code></li> <li><code>require('semver/functions/gt')</code></li> <li><code>require('semver/functions/gte')</code></li> <li><code>require('semver/functions/inc')</code></li> <li><code>require('semver/functions/lt')</code></li> <li><code>require('semver/functions/lte')</code></li> <li><code>require('semver/functions/major')</code></li> <li><code>require('semver/functions/minor')</code></li> <li><code>require('semver/functions/neq')</code></li> <li><code>require('semver/functions/parse')</code></li> <li><code>require('semver/functions/patch')</code></li> <li><code>require('semver/functions/prerelease')</code></li> <li><code>require('semver/functions/rcompare')</code></li> <li><code>require('semver/functions/rsort')</code></li> <li><code>require('semver/functions/satisfies')</code></li> <li><code>require('semver/functions/sort')</code></li> <li><code>require('semver/functions/valid')</code></li> <li><code>require('semver/ranges/gtr')</code></li> <li><code>require('semver/ranges/intersects')</code></li> <li><code>require('semver/ranges/ltr')</code></li> <li><code>require('semver/ranges/max-satisfying')</code></li> <li><code>require('semver/ranges/min-satisfying')</code></li> <li><code>require('semver/ranges/min-version')</code></li> <li><code>require('semver/ranges/outside')</code></li> <li><code>require('semver/ranges/simplify')</code></li> <li><code>require('semver/ranges/subset')</code></li> <li><code>require('semver/ranges/to-comparators')</code></li> <li><code>require('semver/ranges/valid')</code></li> </ul>"},{"location":"new-third-part-lib/shallow-equal/","title":"028 shallowequal","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2065  \u9605\u8bfb5\u5206\u949f</p>"},{"location":"new-third-part-lib/shallow-equal/#_1","title":"\u7528\u9014","text":"<p>\u5bf9\u8c61\u6d45\u5bf9\u6bd4\u76f8\u7b49</p> <p>\u6bd4\u8f83\u4e24\u4e2a\u5bf9\u8c61\u7684\u952e\u662f\u5426\u76f8\u7b49\uff0c\u4e24\u4e2a\u5bf9\u8c61\u7684\u6bcf\u4e00\u4e2a\u952e\u5bf9\u5e94\u7684\u5c5e\u6027\uff0c\u662f\u5426\u5168\u7b49</p> <p>\u9002\u5408\u4e8e\u4e24\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\u90fd\u662f\u7b80\u5355\u7c7b\u578b\u7684\u60c5\u51b5\uff0c\u6216\u8005\u590d\u6742\u7c7b\u578b\uff0c\u6307\u5411\u4e00\u4e2a\u5185\u5b58\u5730\u5740\u7684\u60c5\u51b5</p>"},{"location":"new-third-part-lib/shallow-equal/#_2","title":"\u53ef\u9760\u6027","text":"<p>150 \u661f\u661f\uff0c50\u4e07\u4eba\u4f7f\u7528</p>"},{"location":"new-third-part-lib/shallow-equal/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://github.com/dashed/shallowequal</p> <p>https://www.npmjs.com/package/shallowequal</p>"},{"location":"new-third-part-lib/shallow-equal/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>const shallowequal = require(\"shallowequal\");\n\nconst object = { user: \"fred\" };\nconst other = { user: \"fred\" };\n\nobject == other;\n// \u2192 false\n\nshallowequal(object, other);\n// \u2192 true\n</code></pre>"},{"location":"new-third-part-lib/shallow-equal/#_5","title":"\u6e90\u7801","text":"<pre><code>module.exports = function shallowEqual(objA, objB, compare, compareContext) {\n\n  // \u5982\u679c\u7528\u6237\u81ea\u5b9a\u4e49\u4e86\u6bd4\u8f83\u51fd\u6570 compare\uff0c\u76f4\u63a5\u4f7f\u7528\u5e76\u8fd4\u56de\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/is]\n  // \u6bd4\u8f83\u4e24\u4e2a\u503c\u662f\u5426\u76f8\u7b49\uff0c\u7b80\u5355\u7c7b\u578b\u76f8\u7b49\uff0c\u6216\u8005\u590d\u6742\u7c7b\u578b\uff08\u5bf9\u8c61\uff09\u5185\u5b58\u76f8\u7b49\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n\n  // \u5982\u679c\u4e0d\u662f\u5bf9\u8c61\uff0c\u4e0d\u7b49\u4e8e\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  // \u83b7\u53d6\u5bf9\u8c61\u7684\u952e\u6570\u7ec4\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  // \u5148\u6bd4\u8f83\u952e\u7684\u957f\u5ea6\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  // \u5224\u65ad\u4e24\u4e2a\u5bf9\u8c61\u7684\u6bcf\u4e00\u4e2a\u952e\u503c\u5bf9\u662f\u5426\u76f8\u7b49\n  for (var idx = 0; idx &lt; keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || (ret === void 0 &amp;&amp; !Object.is(valueA, valueB))) {\n      return false;\n    }\n  }\n\n  return true;\n};\n</code></pre>"},{"location":"new-third-part-lib/shallowequal/","title":"shallowequal","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2119  \u9605\u8bfb5\u5206\u949f</p>"},{"location":"new-third-part-lib/shallowequal/#shallowequal","title":"shallowequal","text":""},{"location":"new-third-part-lib/shallowequal/#version","title":"version","text":"<p>1.1.0\u00a0 </p>"},{"location":"new-third-part-lib/shallowequal/#downloads","title":"downloads","text":"<p>7,380,400 </p>"},{"location":"new-third-part-lib/shallowequal/#repository","title":"repository","text":"<p>github.com/dashed/shallowequal </p>"},{"location":"new-third-part-lib/shallowequal/#homepage","title":"homepage","text":"<p>github.com/dashed/shallowequal#readme </p>"},{"location":"new-third-part-lib/shallowequal/#shallowequal_1","title":"shallowequal","text":"<p><code>shallowequal</code> is like lodash's <code>isEqualWith</code> but for shallow (strict) equal.</p> <p><code>shallowequal(value, other, [customizer], [thisArg])</code></p> <p>Performs a shallow equality comparison between two values (i.e. <code>value</code> and <code>other</code>) to determine if they are equivalent.</p> <p>The equality is performed by iterating through keys on the given <code>value</code>, and returning <code>false</code> whenever any key has values which are not strictly equal between <code>value</code> and <code>other</code>. Otherwise, return <code>true</code> whenever the values of all keys are strictly equal.</p> <p>If <code>customizer</code> (expected to be a function) is provided it is invoked to compare values. If <code>customizer</code> returns <code>undefined</code> (i.e. <code>void 0</code>), then comparisons are handled by the <code>shallowequal</code> function instead.</p> <p>The <code>customizer</code> is bound to <code>thisArg</code> and invoked with three arguments: <code>(value, other, key)</code>.</p> <p>NOTE: Docs are (shamelessly) adapted from lodash's v3.x docs</p>"},{"location":"new-third-part-lib/shallowequal/#install","title":"Install","text":"<pre><code>$\u00a0yarn\u00a0add\u00a0shallowequal\n\n#\u00a0npm\u00a0v5+\u00a0\n\n$\u00a0npm\u00a0install\u00a0shallowequal\n\n#\u00a0before\u00a0npm\u00a0v5\u00a0\n\n$\u00a0npm\u00a0install\u00a0--save\u00a0shallowequal\n</code></pre>"},{"location":"new-third-part-lib/shallowequal/#usage","title":"Usage","text":"<pre><code>const\u00a0shallowequal\u00a0=\u00a0require('shallowequal');\n\nconst\u00a0object\u00a0=\u00a0{\u00a0'user':\u00a0'fred'\u00a0};\n\nconst\u00a0other\u00a0=\u00a0{\u00a0'user':\u00a0'fred'\u00a0};\n\nobject\u00a0==\u00a0other;\n\n//\u00a0\u2192\u00a0false\n\nshallowequal(object,\u00a0other);\n\n//\u00a0\u2192\u00a0true\n</code></pre>"},{"location":"new-third-part-lib/shallowequal/#credit","title":"Credit","text":"<p>Code for <code>shallowEqual</code> originated from https://github.com/gaearon/react- pure-render/ and has since been refactored to have the exact same API as <code>lodash.isEqualWith</code> (as of <code>v4.17.4</code>).</p>"},{"location":"new-third-part-lib/shallowequal/#development","title":"Development","text":"<ul> <li><code>node.js</code> and <code>npm</code>. See: https://github.com/creationix/nvm#installation</li> <li><code>yarn</code>. See: https://yarnpkg.com/en/docs/install</li> <li><code>npm</code> dependencies. Run: <code>yarn install</code></li> </ul>"},{"location":"new-third-part-lib/shallowequal/#chores","title":"Chores","text":"<ul> <li>Lint: <code>yarn lint</code></li> <li>Test: <code>yarn test</code></li> <li>Pretty: <code>yarn pretty</code></li> <li>Pre-publish: <code>yarn prepublish</code></li> </ul> <p>\u200b        </p>"},{"location":"new-third-part-lib/simple-statistics/","title":"simple-statistics","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2673  \u9605\u8bfb6\u5206\u949f</p>"},{"location":"new-third-part-lib/simple-statistics/#_1","title":"\u4ecb\u7ecd","text":"<p>A JavaScript implementation of descriptive, regression, and inference statistics.It helps coders harness the power of statistics and statisticians understand code. The library is exhaustively documented, written in a simple and friendly style, and thoroughly tested.</p> <p>\u7b80\u5355\u7edf\u8ba1\uff0c\u4f7f\u7528 JS \u5b9e\u73b0\u63cf\u8ff0\u3001\u56de\u5f52\u3001\u63a8\u6d4b\u7684\u7b80\u5355\u7edf\u8ba1\u63d2\u4ef6</p> <p>\u4e3b\u8981\u529f\u80fd</p> <p>Descriptive Statistics \u63cf\u8ff0\u6027\u7edf\u8ba1</p> <p>Bayesian Classifier \u8d1d\u53f6\u65af\u5206\u7c7b</p> <p>Distributions \u5206\u5e03</p> <p>Linear Regression \u7ebf\u6027\u56de\u5f52</p> <p>\u5177\u4f53\u4f7f\u7528\u89c1\u8bf4\u660e\u6587\u6863</p>"},{"location":"new-third-part-lib/simple-statistics/#_2","title":"\u5b89\u88c5","text":"<p>\u5728npm\u73af\u5883\u4e2d</p> <pre><code>npm install --save simple-statistics\n</code></pre> <p>\u4f7f\u7528 CDN </p> <pre><code>&lt;script src='https://unpkg.com/simple-statistics@7.0.2/dist/simple-statistics.min.js'&gt;&lt;/script&gt;\n</code></pre> <pre><code>var ss = require('simple-statistics')\nimport {min} from 'simple-statistics'\n</code></pre>"},{"location":"new-third-part-lib/simple-statistics/#_3","title":"\u5176\u4ed6\u7edf\u8ba1\u5e93","text":"<p>\u5176\u4ed6\u8bed\u8a00\u7684\u7edf\u8ba1\u5e93</p> <ul> <li> <p>Python: simplestatistics</p> </li> <li> <p>stream-statistics, a sister project that implements   many of the same measures for streaming data - as online algorithms</p> </li> </ul> <p>Javascript</p> <ul> <li>R-js port of r core libRmath and BLAS to typescript</li> <li>science.js</li> <li>atoll.js</li> <li>jStat</li> <li>classifier is a naive bayesian classifier (though specialized for the words-spam case)</li> <li>underscore.math</li> <li>regression-js has many methods for linear regression</li> <li>math.js</li> <li>Jerzy</li> <li>vega-statistics</li> <li>datalib</li> <li>d3-regression</li> </ul> <p>Ruby</p> <ul> <li>descriptive_statistics</li> </ul> <p>C</p> <ul> <li>apophenia</li> </ul> <p>Python</p> <ul> <li>Python 3's built-in statistics module</li> <li>Pandas</li> <li>SciPy</li> </ul> <p>Their Own Language</p> <ul> <li>Julia Language</li> <li>R language</li> </ul>"},{"location":"new-third-part-lib/simple-statistics/#_4","title":"\u53c2\u8003\u94fe\u63a5","text":"<p>\u5b98\u7f51\u94fe\u63a5 https://simplestatistics.org</p> <p>\u5b98\u65b9\u6587\u6863 https://simplestatistics.org/docs/</p> <p>github \u94fe\u63a5 https://github.com/simple-statistics/simple-statistics</p> <p>npm \u94fe\u63a5 https://www.npmjs.com/package/simple-statistics</p>"},{"location":"new-third-part-lib/slugid/","title":"102 slugid","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 889  \u9605\u8bfb2\u5206\u949f</p>"},{"location":"new-third-part-lib/slugid/#_1","title":"\u7528\u9014","text":"<p>A node.js module for generating v4 UUIDs and encoding them into 22 character URL-safe base64 slug representation </p> <p>\u751f\u6210 V4 \u7248\u672c\u7684UUID\u5e76\u538b\u7f29\u6210 22 \u4f4d</p>"},{"location":"new-third-part-lib/slugid/#_2","title":"\u53ef\u9760\u6027","text":"<p>59\u4e2a\u661f\u661f</p> <p>\u4f7f\u7528\u4e24\u4e07</p>"},{"location":"new-third-part-lib/slugid/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/slugid</p> <p>https://github.com/taskcluster/slugid</p>"},{"location":"new-third-part-lib/slugid/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>var slugid = require('slugid');\n\n// Generate URL-safe base64 encoded UUID version 4 (random)\nvar slug = slugid.v4();\n\n// Get UUID on the form xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\nvar uuid = slugid.decode(slug);\n\n// Compress to slug again\nassert(slug == slugid.encode(uuid));\n</code></pre>"},{"location":"new-third-part-lib/slugid/#_5","title":"\u5176\u4ed6","text":"<p>\u9879\u76ee\u4e2d\u4e3b\u8981\u4f7f\u7528\u8fd9\u4e2a\u751f\u6210\u884c\u7684 id\u3002\u884c\u6570\u91cf\u7ea7\u662f 10\u4e07\u4ee5\u4e0a\uff0c\u6240\u4ee5\u9700\u8981\u907f\u514d\u884cID\u4e25\u683c\u4e0d\u540c</p> <p>\u5176\u4ed6\u7684 ID \u53ef\u4ee5\u624b\u5199\u968f\u673a\u6570\u51fd\u6570\u751f\u6210\uff08\u6570\u91cf\u7ea7\u4e0d\u8d85\u8fc7100\uff09</p> <p>\u6216\u8005\uff0c\u80fd\u5426\u628a\u957f\u94fe\u63a5\u538b\u7f29\u6210\u77ed\u94fe\u63a5\uff0c\u4fbf\u4e8e\u590d\u5236\u7c98\u8d34</p>"},{"location":"new-third-part-lib/socket%20io/","title":"socket io","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 22185  \u9605\u8bfb45\u5206\u949f</p>"},{"location":"new-third-part-lib/socket%20io/#how-to-use","title":"How to use","text":"<p>A standalone build of <code>socket.io-client</code> is exposed automatically by the socket.io server as <code>/socket.io/socket.io.js</code>. Alternatively you can serve the file <code>socket.io.js</code> found in the <code>dist</code> folder.</p> <pre><code>&lt;script src=\"/socket.io/socket.io.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  var socket = io('http://localhost');\n  socket.on('connect', function(){});\n  socket.on('event', function(data){});\n  socket.on('disconnect', function(){});\n&lt;/script&gt;\n</code></pre> <p>JS</p> <pre><code>// with ES6 import\nimport io from 'socket.io-client';\nconst socket = io('http://localhost');\n</code></pre> <p>Socket.IO is compatible with browserify and webpack (see example there).</p>"},{"location":"new-third-part-lib/socket%20io/#nodejs-server-side-usage","title":"Node.JS (server-side usage)","text":"<p>Add <code>socket.io-client</code> to your <code>package.json</code> and then:</p> <pre><code>var socket = require('socket.io-client')('http://localhost');\nsocket.on('connect', function(){});\nsocket.on('event', function(data){});\nsocket.on('disconnect', function(){});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#api","title":"API","text":""},{"location":"new-third-part-lib/socket%20io/#table-of-contents","title":"Table of Contents","text":"<ul> <li>IO</li> <li>io.protocol</li> <li>io([url][, options])<ul> <li>Initialization examples</li> <li>With multiplexing</li> <li>With custom path</li> <li>With query parameters</li> <li>With query option</li> <li>With extraHeaders</li> <li>With websocket transport only</li> <li>With a custom parser</li> </ul> </li> <li>Class: io.Manager<ul> <li>[new Manager(url, options])</li> <li>[manager.reconnection(value])</li> <li>[manager.reconnectionAttempts(value])</li> <li>[manager.reconnectionDelay(value])</li> <li>[manager.reconnectionDelayMax(value])</li> <li>[manager.timeout(value])</li> <li>[manager.open(callback])</li> <li>[manager.connect(callback])</li> <li>manager.socket(nsp, options)</li> <li>Event: 'connect_error'</li> <li>Event: 'connect_timeout'</li> <li>Event: 'reconnect'</li> <li>Event: 'reconnect_attempt'</li> <li>Event: 'reconnecting'</li> <li>Event: 'reconnect_error'</li> <li>Event: 'reconnect_failed'</li> <li>Event: 'ping'</li> <li>Event: 'pong'</li> </ul> </li> <li>Class: io.Socket<ul> <li>socket.id</li> <li>socket.connected</li> <li>socket.disconnected</li> <li>socket.open()</li> <li>socket.connect()</li> <li>[socket.send(...args][, ack])</li> <li>[socket.emit(eventName, ...args][, ack])</li> <li>socket.on(eventName, callback)</li> <li>socket.compress(value)</li> <li>socket.binary(value)</li> <li>socket.close()</li> <li>socket.disconnect()</li> <li>Event: 'connect'</li> <li>Event: 'connect_error'</li> <li>Event: 'connect_timeout'</li> <li>Event: 'error'</li> <li>Event: 'disconnect'</li> <li>Event: 'reconnect'</li> <li>Event: 'reconnect_attempt'</li> <li>Event: 'reconnecting'</li> <li>Event: 'reconnect_error'</li> <li>Event: 'reconnect_failed'</li> <li>Event: 'ping'</li> <li>Event: 'pong'</li> </ul> </li> </ul>"},{"location":"new-third-part-lib/socket%20io/#io","title":"IO","text":"<p>Exposed as the <code>io</code> namespace in the standalone build, or the result of calling <code>require('socket.io-client')</code>.</p> <pre><code>&lt;script src=\"/socket.io/socket.io.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  const socket = io('http://localhost');\n&lt;/script&gt;\n</code></pre> <pre><code>const io = require('socket.io-client');\n// or with import syntax\nimport io from 'socket.io-client';\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#ioprotocol","title":"io.protocol","text":"<ul> <li>(Number)</li> </ul> <p>The protocol revision number.</p>"},{"location":"new-third-part-lib/socket%20io/#iourl-options","title":"io([url][, options])","text":"<ul> <li> <p><code>url</code> (String) (defaults to <code>window.location</code>)</p> </li> <li> <p><code>options</code></p> </li> </ul> <p>(Object)</p> <ul> <li> <p><code>forceNew</code> (Boolean) whether to reuse an existing connection</p> </li> <li> <p>Returns <code>Socket</code></p> </li> </ul> <p>Creates a new <code>Manager</code> for the given URL, and attempts to reuse an existing <code>Manager</code> for subsequent calls, unless the <code>multiplex</code> option is passed with <code>false</code>. Passing this option is the equivalent of passing <code>'force new connection': true</code> or <code>forceNew: true</code>.</p> <p>A new <code>Socket</code> instance is returned for the namespace specified by the pathname in the URL, defaulting to <code>/</code>. For example, if the <code>url</code> is <code>http://localhost/users</code>, a transport connection will be established to <code>http://localhost</code> and a Socket.IO connection will be established to <code>/users</code>.</p> <p>Query parameters can also be provided, either with the <code>query</code> option or directly in the url (example: <code>http://localhost/users?token=abc</code>).</p> <p>See [new Manager(url, options]) for available <code>options</code>.</p>"},{"location":"new-third-part-lib/socket%20io/#initialization-examples","title":"Initialization examples","text":""},{"location":"new-third-part-lib/socket%20io/#with-multiplexing","title":"With multiplexing","text":"<p>By default, a single connection is used when connecting to different namespaces (to minimize resources):</p> <pre><code>const socket = io();\nconst adminSocket = io('/admin');\n// a single connection will be established\n</code></pre> <p>That behaviour can be disabled with the <code>forceNew</code> option:</p> <pre><code>const socket = io();\nconst adminSocket = io('/admin', { forceNew: true });\n// will create two distinct connections\n</code></pre> <p>Note: reusing the same namespace will also create two connections</p> <pre><code>const socket = io();\nconst socket2 = io();\n// will also create two distinct connections\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#with-custom-path","title":"With custom <code>path</code>","text":"<pre><code>const socket = io('http://localhost', {\n  path: '/myownpath'\n});\n\n// server-side\nconst io = require('socket.io')({\n  path: '/myownpath'\n});\n</code></pre> <p>The request URLs will look like: <code>localhost/myownpath/?EIO=3&amp;transport=polling&amp;sid=</code></p> <pre><code>const socket = io('http://localhost/admin', {\n  path: '/mypath'\n});\n</code></pre> <p>Here, the socket connects to the <code>admin</code> namespace, with the custom path <code>mypath</code>.</p> <p>The request URLs will look like: <code>localhost/mypath/?EIO=3&amp;transport=polling&amp;sid=</code> (the namespace is sent as part of the payload).</p>"},{"location":"new-third-part-lib/socket%20io/#with-query-parameters","title":"With query parameters","text":"<pre><code>const socket = io('http://localhost?token=abc');\n\n// server-side\nconst io = require('socket.io')();\n\n// middleware\nio.use((socket, next) =&gt; {\n  let token = socket.handshake.query.token;\n  if (isValid(token)) {\n    return next();\n  }\n  return next(new Error('authentication error'));\n});\n\n// then\nio.on('connection', (socket) =&gt; {\n  let token = socket.handshake.query.token;\n  // ...\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#with-query-option","title":"With query option","text":"<pre><code>const socket = io({\n  query: {\n    token: 'cde'\n  }\n});\n</code></pre> <p>The query content can also be updated on reconnection:</p> <pre><code>socket.on('reconnect_attempt', () =&gt; {\n  socket.io.opts.query = {\n    token: 'fgh'\n  }\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#with-extraheaders","title":"With <code>extraHeaders</code>","text":"<p>This only works if <code>polling</code> transport is enabled (which is the default). Custom headers will not be appended when using <code>websocket</code> as the transport. This happens because the WebSocket handshake does not honor custom headers. (For background see the WebSocket protocol RFC)</p> <pre><code>const socket = io({\n  transportOptions: {\n    polling: {\n      extraHeaders: {\n        'x-clientid': 'abc'\n      }\n    }\n  }\n});\n\n// server-side\nconst io = require('socket.io')();\n\n// middleware\nio.use((socket, next) =&gt; {\n  let clientId = socket.handshake.headers['x-clientid'];\n  if (isValid(clientId)) {\n    return next();\n  }\n  return next(new Error('authentication error'));\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#with-websocket-transport-only","title":"With <code>websocket</code> transport only","text":"<p>By default, a long-polling connection is established first, then upgraded to \"better\" transports (like WebSocket). If you like to live dangerously, this part can be skipped:</p> <pre><code>const socket = io({\n  transports: ['websocket']\n});\n\n// on reconnection, reset the transports option, as the Websocket\n// connection may have failed (caused by proxy, firewall, browser, ...)\nsocket.on('reconnect_attempt', () =&gt; {\n  socket.io.opts.transports = ['polling', 'websocket'];\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#with-a-custom-parser","title":"With a custom parser","text":"<p>The default parser promotes compatibility (support for <code>Blob</code>, <code>File</code>, binary check) at the expense of performance. A custom parser can be provided to match the needs of your application. Please see the example here.</p> <pre><code>const parser = require('socket.io-msgpack-parser'); // or require('socket.io-json-parser')\nconst socket = io({\n  parser: parser\n});\n\n// the server-side must have the same parser, to be able to communicate\nconst io = require('socket.io')({\n  parser: parser\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#manager","title":"Manager","text":""},{"location":"new-third-part-lib/socket%20io/#new-managerurl-options","title":"new Manager(url[, options])","text":"<ul> <li> <p><code>url</code> (String)</p> </li> <li> <p><code>options</code></p> </li> </ul> <p>(Object)</p> <ul> <li><code>path</code> (String) name of the path that is captured on the server side (<code>/socket.io</code>)</li> <li><code>reconnection</code> (Boolean) whether to reconnect automatically (<code>true</code>)</li> <li><code>reconnectionAttempts</code> (Number) number of reconnection attempts before giving up (<code>Infinity</code>)</li> <li><code>reconnectionDelay</code> (Number) how long to initially wait before attempting a new reconnection (<code>1000</code>). Affected by \u00b1 <code>randomizationFactor</code>, for example the default initial delay will be between 500 to 1500ms.</li> <li><code>reconnectionDelayMax</code> (Number) maximum amount of time to wait between reconnections (<code>5000</code>). Each attempt increases the reconnection delay by 2x along with a randomization as above</li> <li><code>randomizationFactor</code> (Number) (<code>0.5</code>), 0 &lt;= randomizationFactor &lt;= 1</li> <li><code>timeout</code> (Number) connection timeout before a <code>connect_error</code> and <code>connect_timeout</code> events are emitted (<code>20000</code>)</li> <li><code>autoConnect</code> (Boolean) by setting this false, you have to call <code>manager.open</code> whenever you decide it's appropriate</li> <li><code>query</code> (Object): additional query parameters that are sent when connecting a namespace (then found in <code>socket.handshake.query</code> object on the server-side)</li> <li> <p><code>parser</code> (Parser): the parser to use. Defaults to an instance of the <code>Parser</code> that ships with socket.io. See socket.io-parser.</p> </li> <li> <p>Returns <code>Manager</code></p> </li> </ul> <p>The <code>options</code> are also passed to <code>engine.io-client</code> upon initialization of the underlying <code>Socket</code>. See the available <code>options</code> here.</p>"},{"location":"new-third-part-lib/socket%20io/#managerreconnectionvalue","title":"manager.reconnection([value])","text":"<ul> <li><code>value</code> (Boolean)</li> <li>Returns <code>Manager|Boolean</code></li> </ul> <p>Sets the <code>reconnection</code> option, or returns it if no parameters are passed.</p>"},{"location":"new-third-part-lib/socket%20io/#managerreconnectionattemptsvalue","title":"manager.reconnectionAttempts([value])","text":"<ul> <li><code>value</code> (Number)</li> <li>Returns <code>Manager|Number</code></li> </ul> <p>Sets the <code>reconnectionAttempts</code> option, or returns it if no parameters are passed.</p>"},{"location":"new-third-part-lib/socket%20io/#managerreconnectiondelayvalue","title":"manager.reconnectionDelay([value])","text":"<ul> <li><code>value</code> (Number)</li> <li>Returns <code>Manager|Number</code></li> </ul> <p>Sets the <code>reconnectionDelay</code> option, or returns it if no parameters are passed.</p>"},{"location":"new-third-part-lib/socket%20io/#managerreconnectiondelaymaxvalue","title":"manager.reconnectionDelayMax([value])","text":"<ul> <li><code>value</code> (Number)</li> <li>Returns <code>Manager|Number</code></li> </ul> <p>Sets the <code>reconnectionDelayMax</code> option, or returns it if no parameters are passed.</p>"},{"location":"new-third-part-lib/socket%20io/#managertimeoutvalue","title":"manager.timeout([value])","text":"<ul> <li><code>value</code> (Number)</li> <li>Returns <code>Manager|Number</code></li> </ul> <p>Sets the <code>timeout</code> option, or returns it if no parameters are passed.</p>"},{"location":"new-third-part-lib/socket%20io/#manageropencallback","title":"manager.open([callback])","text":"<ul> <li><code>callback</code> (Function)</li> <li>Returns <code>Manager</code></li> </ul> <p>If the manager was initiated with <code>autoConnect</code> to <code>false</code>, launch a new connection attempt.</p> <p>The <code>callback</code> argument is optional and will be called once the attempt fails/succeeds.</p>"},{"location":"new-third-part-lib/socket%20io/#managerconnectcallback","title":"manager.connect([callback])","text":"<p>Synonym of [manager.open(callback]).</p>"},{"location":"new-third-part-lib/socket%20io/#managersocketnsp-options","title":"manager.socket(nsp, options)","text":"<ul> <li><code>nsp</code> (String)</li> <li><code>options</code> (Object)</li> <li>Returns <code>Socket</code></li> </ul> <p>Creates a new <code>Socket</code> for the given namespace.</p>"},{"location":"new-third-part-lib/socket%20io/#event-connect_error","title":"Event: 'connect_error'","text":"<ul> <li><code>error</code> (Object) error object</li> </ul> <p>Fired upon a connection error.</p>"},{"location":"new-third-part-lib/socket%20io/#event-connect_timeout","title":"Event: 'connect_timeout'","text":"<p>Fired upon a connection timeout.</p>"},{"location":"new-third-part-lib/socket%20io/#event-reconnect","title":"Event: 'reconnect'","text":"<ul> <li><code>attempt</code> (Number) reconnection attempt number</li> </ul> <p>Fired upon a successful reconnection.</p>"},{"location":"new-third-part-lib/socket%20io/#event-reconnect_attempt","title":"Event: 'reconnect_attempt'","text":"<p>Fired upon an attempt to reconnect.</p>"},{"location":"new-third-part-lib/socket%20io/#event-reconnecting","title":"Event: 'reconnecting'","text":"<ul> <li><code>attempt</code> (Number) reconnection attempt number</li> </ul> <p>Fired upon a successful reconnection.</p>"},{"location":"new-third-part-lib/socket%20io/#event-reconnect_error","title":"Event: 'reconnect_error'","text":"<ul> <li><code>error</code> (Object) error object</li> </ul> <p>Fired upon a reconnection attempt error.</p>"},{"location":"new-third-part-lib/socket%20io/#event-reconnect_failed","title":"Event: 'reconnect_failed'","text":"<p>Fired when couldn't reconnect within <code>reconnectionAttempts</code>.</p>"},{"location":"new-third-part-lib/socket%20io/#event-ping","title":"Event: 'ping'","text":"<p>Fired when a ping packet is written out to the server.</p>"},{"location":"new-third-part-lib/socket%20io/#event-pong","title":"Event: 'pong'","text":"<ul> <li><code>ms</code> (Number) number of ms elapsed since <code>ping</code> packet (i.e.: latency).</li> </ul> <p>Fired when a pong is received from the server.</p>"},{"location":"new-third-part-lib/socket%20io/#socket","title":"Socket","text":""},{"location":"new-third-part-lib/socket%20io/#socketid","title":"socket.id","text":"<ul> <li>(String)</li> </ul> <p>An unique identifier for the socket session. Set after the <code>connect</code> event is triggered, and updated after the <code>reconnect</code> event.</p> <pre><code>const socket = io('http://localhost');\n\nconsole.log(socket.id); // undefined\n\nsocket.on('connect', () =&gt; {\n  console.log(socket.id); // 'G5p5...'\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#socketconnected","title":"socket.connected","text":"<ul> <li>(Boolean)</li> </ul> <p>Whether or not the socket is connected to the server.</p> <pre><code>const socket = io('http://localhost');\n\nsocket.on('connect', () =&gt; {\n  console.log(socket.connected); // true\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#socketdisconnected","title":"socket.disconnected","text":"<ul> <li>(Boolean)</li> </ul> <p>Whether or not the socket is disconnected from the server.</p> <pre><code>const socket = io('http://localhost');\n\nsocket.on('connect', () =&gt; {\n  console.log(socket.disconnected); // false\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#socketopen","title":"socket.open()","text":"<ul> <li>Returns <code>Socket</code></li> </ul> <p>Manually opens the socket.</p> <pre><code>const socket = io({\n  autoConnect: false\n});\n\n// ...\nsocket.open();\n</code></pre> <p>It can also be used to manually reconnect:</p> <pre><code>socket.on('disconnect', () =&gt; {\n  socket.open();\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#socketconnect","title":"socket.connect()","text":"<p>Synonym of socket.open().</p>"},{"location":"new-third-part-lib/socket%20io/#socketsendargs-ack","title":"socket.send([...args][, ack])","text":"<ul> <li><code>args</code></li> <li><code>ack</code> (Function)</li> <li>Returns <code>Socket</code></li> </ul> <p>Sends a <code>message</code> event. See [socket.emit(eventName, ...args][, ack]).</p>"},{"location":"new-third-part-lib/socket%20io/#socketemiteventname-args-ack","title":"socket.emit(eventName[, ...args][, ack])","text":"<ul> <li><code>eventName</code> (String)</li> <li><code>args</code></li> <li><code>ack</code> (Function)</li> <li>Returns <code>Socket</code></li> </ul> <p>Emits an event to the socket identified by the string name. Any other parameters can be included. All serializable datastructures are supported, including <code>Buffer</code>.</p> <pre><code>socket.emit('hello', 'world');\nsocket.emit('with-binary', 1, '2', { 3: '4', 5: new Buffer(6) });\n</code></pre> <p>The <code>ack</code> argument is optional and will be called with the server answer.</p> <pre><code>socket.emit('ferret', 'tobi', (data) =&gt; {\n  console.log(data); // data will be 'woot'\n});\n\n// server:\n//  io.on('connection', (socket) =&gt; {\n//    socket.on('ferret', (name, fn) =&gt; {\n//      fn('woot');\n//    });\n//  });\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#socketoneventname-callback","title":"socket.on(eventName, callback)","text":"<ul> <li><code>eventName</code> (String)</li> <li><code>callback</code> (Function)</li> <li>Returns <code>Socket</code></li> </ul> <p>Register a new handler for the given event.</p> <pre><code>socket.on('news', (data) =&gt; {\n  console.log(data);\n});\n\n// with multiple arguments\nsocket.on('news', (arg1, arg2, arg3, arg4) =&gt; {\n  // ...\n});\n// with callback\nsocket.on('news', (cb) =&gt; {\n  cb(0);\n});\n</code></pre> <p>The socket actually inherits every method of the Emitter class, like <code>hasListeners</code>, <code>once</code> or <code>off</code> (to remove an event listener).</p>"},{"location":"new-third-part-lib/socket%20io/#socketcompressvalue","title":"socket.compress(value)","text":"<ul> <li><code>value</code> (Boolean)</li> <li>Returns <code>Socket</code></li> </ul> <p>Sets a modifier for a subsequent event emission that the event data will only be compressed if the value is <code>true</code>. Defaults to <code>true</code> when you don't call the method.</p> <pre><code>socket.compress(false).emit('an event', { some: 'data' });\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#socketbinaryvalue","title":"socket.binary(value)","text":"<p>Specifies whether the emitted data contains binary. Increases performance when specified. Can be <code>true</code> or <code>false</code>.</p> <pre><code>socket.binary(false).emit('an event', { some: 'data' });\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#socketclose","title":"socket.close()","text":"<ul> <li>Returns <code>Socket</code></li> </ul> <p>Disconnects the socket manually.</p>"},{"location":"new-third-part-lib/socket%20io/#socketdisconnect","title":"socket.disconnect()","text":"<p>Synonym of socket.close().</p>"},{"location":"new-third-part-lib/socket%20io/#event-connect","title":"Event: 'connect'","text":"<p>Fired upon a connection including a successful reconnection.</p> <pre><code>socket.on('connect', () =&gt; {\n  // ...\n});\n\n// note: you should register event handlers outside of connect,\n// so they are not registered again on reconnection\nsocket.on('myevent', () =&gt; {\n  // ...\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#event-connect_error_1","title":"Event: 'connect_error'","text":"<ul> <li><code>error</code> (Object) error object</li> </ul> <p>Fired upon a connection error.</p> <pre><code>socket.on('connect_error', (error) =&gt; {\n  // ...\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#event-connect_timeout_1","title":"Event: 'connect_timeout'","text":"<p>Fired upon a connection timeout.</p> <pre><code>socket.on('connect_timeout', (timeout) =&gt; {\n  // ...\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#event-error","title":"Event: 'error'","text":"<ul> <li><code>error</code> (Object) error object</li> </ul> <p>Fired when an error occurs.</p> <pre><code>socket.on('error', (error) =&gt; {\n  // ...\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#event-disconnect","title":"Event: 'disconnect'","text":"<ul> <li><code>reason</code> (String) either 'io server disconnect' or 'io client disconnect'</li> </ul> <p>Fired upon a disconnection.</p> <pre><code>socket.on('disconnect', (reason) =&gt; {\n  if (reason === 'io server disconnect') {\n    // the disconnection was initiated by the server, you need to reconnect manually\n    socket.connect();\n  }\n  // else the socket will automatically try to reconnect\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#event-reconnect_1","title":"Event: 'reconnect'","text":"<ul> <li><code>attempt</code> (Number) reconnection attempt number</li> </ul> <p>Fired upon a successful reconnection.</p> <pre><code>socket.on('reconnect', (attemptNumber) =&gt; {\n  // ...\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#event-reconnect_attempt_1","title":"Event: 'reconnect_attempt'","text":"<ul> <li><code>attempt</code> (Number) reconnection attempt number</li> </ul> <p>Fired upon an attempt to reconnect.</p> <pre><code>socket.on('reconnect_attempt', (attemptNumber) =&gt; {\n  // ...\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#event-reconnecting_1","title":"Event: 'reconnecting'","text":"<ul> <li><code>attempt</code> (Number) reconnection attempt number</li> </ul> <p>Fired upon an attempt to reconnect.</p> <pre><code>socket.on('reconnecting', (attemptNumber) =&gt; {\n  // ...\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#event-reconnect_error_1","title":"Event: 'reconnect_error'","text":"<ul> <li><code>error</code> (Object) error object</li> </ul> <p>Fired upon a reconnection attempt error.</p> <pre><code>socket.on('reconnect_error', (error) =&gt; {\n  // ...\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#event-reconnect_failed_1","title":"Event: 'reconnect_failed'","text":"<p>Fired when couldn't reconnect within <code>reconnectionAttempts</code>.</p> <pre><code>socket.on('reconnect_failed', () =&gt; {\n  // ...\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#event-ping_1","title":"Event: 'ping'","text":"<p>Fired when a ping packet is written out to the server.</p> <pre><code>socket.on('ping', () =&gt; {\n  // ...\n});\n</code></pre>"},{"location":"new-third-part-lib/socket%20io/#event-pong_1","title":"Event: 'pong'","text":"<ul> <li><code>ms</code> (Number) number of ms elapsed since <code>ping</code> packet (i.e.: latency).</li> </ul> <p>Fired when a pong is received from the server.</p> <pre><code>socket.on('pong', (latency) =&gt; {\n  // ...\n});\n</code></pre>"},{"location":"new-third-part-lib/socket-io-client/","title":"103 socket-io client","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4478  \u9605\u8bfb9\u5206\u949f</p>"},{"location":"new-third-part-lib/socket-io-client/#_1","title":"\u7528\u9014","text":"<p>socket \u534f\u8bae\u4ecb\u7ecd\uff1ahttps://socket.io/docs/v4/</p> <p>\u4e3b\u8981\u7528\u4e8e socket \u670d\u52a1\u5668\u548c\u6d4f\u89c8\u5668\uff08\u6216\u8005 socket \u5ba2\u6237\u7aef\uff09\u7684\u901a\u4fe1</p> <p>Socket.IO is a library that enables real-time, bidirectional and event-based communication between the browser and the server. It consists of: a Node.js server and a Javascript client library for the browser (which can be also run from Node.js\uff09</p> <p>WebSocket is a communication protocol which provides a full-duplex and low-latency channel between the server and the browser. More information can be found here.</p>"},{"location":"new-third-part-lib/socket-io-client/#_2","title":"\u53ef\u9760\u6027","text":"<p>400\u591a\u4e07\u4e0b\u8f7d\uff0c9000\u9897\u661f\uff0c\u53ef\u4ee5\u7a33\u5b9a\u4f7f\u7528</p>"},{"location":"new-third-part-lib/socket-io-client/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://socket.io/docs/v4/client-initialization/</p> <p>https://github.com/socketio/socket.io-client</p> <p>https://www.npmjs.com/package/socket.io-client</p>"},{"location":"new-third-part-lib/socket-io-client/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<p>\u5b98\u7f51\u6848\u4f8b</p> <p>server \u7aef</p> <pre><code>const socket = new WebSocket(\"ws://localhost:3000\");\n\nsocket.onopen = () =&gt; {\n  socket.send(\"Hello!\");\n};\n\nsocket.onmessage = (data) =&gt; {\n  console.log(data);\n};\n</code></pre> <p>\u5ba2\u6237\u7aef</p> <pre><code>const socket = io(\"ws://localhost:3000\");\n\nsocket.on(\"connect\", () =&gt; {\n  // either with send()\n  socket.send(\"Hello!\");\n\n  // or with emit() and custom event names\n  socket.emit(\"salutations\", \"Hello!\", { \"mr\": \"john\" }, Uint8Array.from([1, 2, 3, 4]));\n});\n\n// handle the event sent with socket.send()\nsocket.on(\"message\", data =&gt; {\n  console.log(data);\n});\n\n// handle the event sent with socket.emit()\nsocket.on(\"greetings\", (elem1, elem2, elem3) =&gt; {\n  console.log(elem1, elem2, elem3);\n});\n</code></pre> <p>\u670d\u52a1\u7aef\u53ef\u4ee5\u662f\u539f\u751f\u7684 http-server \u4e5f\u53ef\u4ee5\u652f\u6301\u5176\u4ed6\u7684\u6846\u67b6\uff08\u8be6\u89c1\uff1ahttps://socket.io/docs/v4/server-initialization/\uff09</p> <p>\u5b9e\u9645\u4f7f\u7528</p> <pre><code>import io from 'socket.io-client';\n\n// \u521d\u59cb\u5316\u5ba2\u6237\u7aef\uff08\u914d\u7f6e\u53c2\u6570\uff09\nthis.socket = io(commentSocket, {\n  reconnect: true,\n  query: { 'comment_uuid': commentUuid }\n});\n\n// \u4e8b\u4ef6\u9a71\u52a8\uff0c\u8fd9\u91cc\u8bbe\u7f6e\u4e0d\u540c\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\nthis.socket.on('connect', () =&gt; { this.onConnected(); }); \nthis.socket.on('reconnect', (data) =&gt; { this.onReconnect(data); }); \nthis.socket.on('reconnecting', (data) =&gt; { this.onReconnecting(data); }); \nthis.socket.on('disconnect', (data) =&gt; { this.onDisconnect(data); });\n\n// \u4e0b\u9762\u662f\u81ea\u5b9a\u4e49\u4e8b\u4ef6\uff08\u7528\u4e8e\u804a\u5929\u5ba4\u7684\u8bc4\u8bba\u66f4\u65b0\u3001\u901a\u77e5\u66f4\u65b0\u3001\u5171\u4eab\u8d44\u6e90\uff09\nthis.socket.on('update-comment', (operation, version) =&gt; this.onUpdateComment(operation, version));\nthis.socket.on('new-notification', (notification) =&gt; this.onNewNotification(notification));\nthis.socket.on('comment-share-changed', () =&gt; this.onCommentShareChanged());\n\n// refresh borwer\nwindow.onbeforeunload = () =&gt; this.close();\n\n// \u94fe\u63a5\u670d\u52a1\u5668\nconnect() {\n  this.socket.open();\n}\n\n// \u5173\u95ed\u670d\u52a1\u5668\uff0c\u5e76\u53d1\u51fa\u6d88\u606f leave\nclose() {\n  this.socket.emit('leave room');\n}\n\n// \u5df2\u8fde\u63a5\u7684\u56de\u8c03\u51fd\u6570\nonConnected() {\n  /* eslint-disable */\n  debug('connected to server');\n\n  // \u8fdb\u5165\u804a\u5929\u5ba4\n  this.socket.emit('join-room', this.commentUuid, this.accessToken, (msg) =&gt; {\n\n    // \u5224\u65ad\u804a\u5929\u5ba4\u8fdb\u5165\u662f\u5426\u6210\u529f\n    if (msg.status) {\n      debug('join room success.');\n      this.tableStore.dispatchConnectState('connect', msg);\n    } else {\n      debug('join room failed.');\n      this.socket.disconnect();\n      this.tableStore.dispatchConnectState('connect-error', msg);\n    }\n  });\n}\n\n// \u518d\u6b21\u8fde\u63a5\nonReconnect(data) {\n  debug('reconnect.');\n  this.dispatchConnectState('reconnect');\n}\n\n// \u6b63\u5728\u8fde\u63a5\u4e2d\nonReconnecting(attemptNumber) {\n  debug('reconnecting.', attemptNumber);\n  this.dispatchConnectState('reconnecting', attemptNumber);\n}\n\n// \u81ea\u5b9a\u4e49\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\nonUpdateComment(operation, version) {\n  this.executeRemoteOperation(JSON.parse(operation), version);\n}\n\nonNewNotification(notification) {\n  debug('Received new notification from server: %s' + notification.toString());\n  this.tableStore.onNewNotification(JSON.parse(notification));\n}\n\nonCommentShareChanged() {\n  debug('Received comment share signal from server');\n  this.tableStore.onCommentShareChanged();\n}\n\n// \u94fe\u63a5\u65ad\u5f00\uff083\u79d2\u540e\u91cd\u65b0\u94fe\u63a5\uff09\nonDisconnect(data) {\n  this.dispatchConnectState('disconnect');\n  if (data === 'io server disconnect') {\n    setTimeout(() =&gt; {\n      this.connect();\n    }, 3000);\n  }\n}\n\n\u53d1\u9001\u901a\u77e5\nsendOperation(operation, callback) {\n  let commentUuid = this.commentUuid;\n  this.socket.emit('update-comment', commentUuid, operation, (msg) =&gt; {\n    callback &amp;&amp; callback(msg);  // reconnect\n  });\n}\n</code></pre>"},{"location":"new-third-part-lib/socket-io-client/#_5","title":"\u5176\u4ed6","text":""},{"location":"new-third-part-lib/socket-io/","title":"socket-io","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 528  \u9605\u8bfb2\u5206\u949f</p>"},{"location":"new-third-part-lib/socket-io/#socket-io","title":"socket-io","text":""},{"location":"new-third-part-lib/socket-io/#version","title":"version","text":"<p>1.0.0\u00a0 </p>"},{"location":"new-third-part-lib/socket-io/#downloads","title":"downloads","text":"<p>1,375 </p>"},{"location":"new-third-part-lib/socket-io/#repository","title":"repository","text":"<p>github.com/npm/deprecate-holder </p>"},{"location":"new-third-part-lib/socket-io/#homepage","title":"homepage","text":"<p>github.com/npm/deprecate-holder#readme </p>"},{"location":"new-third-part-lib/socket-io/#deprecated-package","title":"Deprecated Package","text":"<p>This package is no longer supported and has been deprecated. To avoid malicious use, npm is hanging on to the package name.</p> <p>Please use the socket.io pacakge instead.</p> <p>Please contact support@npmjs.com if you have questions about this package.</p>"},{"location":"new-third-part-lib/socket.io/","title":"269 socket.io","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 761  \u9605\u8bfb2\u5206\u949f</p>"},{"location":"new-third-part-lib/socket.io/#_1","title":"\u7528\u9014","text":"<p>Realtime application framework (Node.JS server)</p> <p>socket.io</p> <p>Socket.IO \u652f\u6301\u57fa\u4e8e\u4e8b\u4ef6\u7684\u5b9e\u65f6\u53cc\u5411\u901a\u4fe1\u3002 \u5b83\u5305\u62ec\uff1a</p> <p>\u4e00\u4e2a Node.js \u670d\u52a1\u5668\uff08\u8fd9\u4e2a\u5b58\u50a8\u5e93\uff09 \u6d4f\u89c8\u5668\u7684 Javascript \u5ba2\u6237\u7aef\u5e93\uff08\u6216 Node.js \u5ba2\u6237\u7aef\uff09</p>"},{"location":"new-third-part-lib/socket.io/#_2","title":"\u53ef\u9760\u6027","text":"<p>50000\u9897\u661f\uff0c\u7ecf\u5e38\u4f7f\u7528</p> <p>\u804a\u5929\u5ba4\u6216\u8005\u591a\u4eba\u534f\u4f5c\u4f7f\u7528\u8fd9\u4e2a\u5e93\uff0c\u4e0e\u5ba2\u6237\u7aef\u9700\u8981\u4e00\u8d77\u4f7f\u7528</p>"},{"location":"new-third-part-lib/socket.io/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/socket.io</p> <p>https://github.com/socketio/socket.io</p>"},{"location":"new-third-part-lib/socket.io/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>const server = require('http').createServer();\nconst io = require('socket.io')(server);\n\nio.on('connection', client =&gt; {\n  client.on('event', data =&gt; { /* \u2026 */ });\n  client.on('disconnect', () =&gt; { /* \u2026 */ });\n});\n\nserver.listen(3000);\n</code></pre>"},{"location":"new-third-part-lib/socket.io/#_5","title":"\u5176\u4ed6","text":""},{"location":"new-third-part-lib/sortable/","title":"sortable","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1346  \u9605\u8bfb3\u5206\u949f</p> <p>\u8fd9\u662f\u4e00\u4e2aList\u5217\u8868\u62d6\u62fd\u7ec4\u4ef6\uff0c\u200c\u7528\u4e8e\u5b9e\u73b0\u5217\u8868\u9879\u7684\u62d6\u62fd\u6392\u5e8f\u529f\u80fd\uff0c\u200c\u9002\u7528\u4e8e\u9700\u8981\u7528\u6237\u5bf9\u5217\u8868\u5185\u5bb9\u8fdb\u884c\u7075\u6d3b\u64cd\u4f5c\u7684\u5e94\u7528\u3002</p>"},{"location":"new-third-part-lib/sortable/#sortable_1","title":"sortable","text":""},{"location":"new-third-part-lib/sortable/#version","title":"version","text":"<p>2.0.0\u00a0\u2022 </p>"},{"location":"new-third-part-lib/sortable/#downloads","title":"downloads","text":"<p>796 </p>"},{"location":"new-third-part-lib/sortable/#repository","title":"repository","text":"<p>github.com/dominictarr/sortable </p>"},{"location":"new-third-part-lib/sortable/#homepage","title":"homepage","text":"<p>github.com/dominictarr/sortable </p>"},{"location":"new-third-part-lib/sortable/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/sortable/#drag-sortable","title":"drag-sortable","text":"<p>Create a list that is can be sorted by dragging ui elements.</p> <p> </p> <pre><code>var\u00a0Sortable\u00a0=\u00a0require('./')\n\nvar\u00a0array\u00a0=\u00a0['Apple',\u00a0'Banana',\u00a0'Cherry',\u00a0'Durian',\u00a0'ElderBerry']\n\nvar\u00a0emitter\u00a0=\u00a0Sortable(array,\u00a0function\u00a0template\u00a0(s)\u00a0{\n\n\u00a0\u00a0//return\u00a0html\u00a0Element.\n\n\u00a0\u00a0var\u00a0e\u00a0=\u00a0document.createElement('h1')\n\n\u00a0\u00a0e.innerText\u00a0=\u00a0s\n\n\u00a0\u00a0return\u00a0e\n\n},\u00a0document.createElement('ol'))\n\n//listen\u00a0to\u00a0changes\u00a0(newArray,\u00a0splices)\n\nemitter.on('change',\u00a0console.log.bind(console))\n</code></pre> <p> </p> <p>Change events is the new state of the array, and the splices that changed the array.</p> <p>template is just a function that takes any thing and returns an HTMLElement</p> <p>\u200b</p>"},{"location":"new-third-part-lib/sortable/#known-issues","title":"known issues:","text":"<p>Dragging goes funny when zoomed on Chrome Android. Be sure to use viewport:    </p> <pre><code>&lt;meta name=\"viewport\"\n  content=\"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1\"&gt;\n</code></pre> <p>To disable zoom.</p> <p>\u200b</p> <p>\u200b</p> <p> </p> <p>\u200b</p>"},{"location":"new-third-part-lib/streamsaver/","title":"streamsaver","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1715  \u9605\u8bfb4\u5206\u949f</p> <p>\u7528\u4e8e\u6587\u4ef6\u4fdd\u5b58</p> <p>https://www.npmjs.com/package/streamsaver</p> <p>https://github.com/jimmywarting/StreamSaver.js</p> <p>4K stars</p> <p>\u5468\u4e0b\u8f7d\u91cf3\u4e07</p> <pre><code>&lt;script src=\"https://cdn.jsdelivr.net/npm/web-streams-polyfill@2.0.2/dist/ponyfill.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdn.jsdelivr.net/npm/streamsaver@2.0.3/StreamSaver.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  import streamSaver from 'streamsaver'\n  const streamSaver = require('streamsaver')\n  const streamSaver = window.streamSaver\n&lt;/script&gt;\n&lt;script&gt;\n  const uInt8 = new TextEncoder().encode('StreamSaver is awesome')\n\n  // streamSaver.createWriteStream() returns a writable byte stream\n  // The WritableStream only accepts Uint8Array chunks\n  // (no other typed arrays, arrayBuffers or strings are allowed)\n  const fileStream = streamSaver.createWriteStream('filename.txt', {\n    size: uInt8.byteLength, // (optional filesize) Will show progress\n    writableStrategy: undefined, // (optional)\n    readableStrategy: undefined  // (optional)\n  })\n\n  if (manual) {\n    const writer = fileStream.getWriter()\n    writer.write(uInt8)\n    writer.close()\n  } else {\n    // using Response can be a great tool to convert\n    // mostly anything (blob, string, buffers) into a byte stream\n    // that can be piped to StreamSaver\n    //\n    // You could also use a transform stream that would sit\n    // between and convert everything to Uint8Arrays\n    new Response('StreamSaver is awesome').body\n      .pipeTo(fileStream)\n      .then(success, error)\n  }\n&lt;/script&gt;\n</code></pre> <p>\u200b</p>"},{"location":"new-third-part-lib/style-loader/","title":"style-loader","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 30972  \u9605\u8bfb62\u5206\u949f</p>"},{"location":"new-third-part-lib/style-loader/#style-loader","title":"style-loader","text":""},{"location":"new-third-part-lib/style-loader/#version","title":"version","text":"<p>4.0.0\u00a0\u2022 </p>"},{"location":"new-third-part-lib/style-loader/#downloads","title":"downloads","text":"<p>14,540,651 </p>"},{"location":"new-third-part-lib/style-loader/#repository","title":"repository","text":"<p>github.com/webpack-contrib/style-loader </p>"},{"location":"new-third-part-lib/style-loader/#homepage","title":"homepage","text":"<p>github.com/webpack-contrib/style-loader </p>"},{"location":"new-third-part-lib/style-loader/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/style-loader/#style-loader_1","title":"Style Loader","text":""},{"location":"new-third-part-lib/style-loader/#style-loader_2","title":"style-loader","text":"<p>Inject CSS into the DOM.</p>"},{"location":"new-third-part-lib/style-loader/#getting-started","title":"Getting Started","text":"<p>To begin, you'll need to install <code>style-loader</code>:</p> <pre><code>npm install --save-dev style-loader\n</code></pre> <p>or</p> <pre><code>yarn add -D style-loader\n</code></pre> <p>or</p> <pre><code>pnpm add -D style-loader\n</code></pre> <p>It's recommended to combine <code>style-loader</code> with the <code>css- loader</code></p> <p>Then add the loader to your <code>webpack</code> config. For example:</p> <p>style.css</p> <pre><code>body {\n  background: green;\n}\n</code></pre> <p>component.js</p> <pre><code>import \"./style.css\";\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\"style-loader\", \"css-loader\"],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#security-warning","title":"Security Warning","text":"<p>This loader is primarily meant for development. The default settings are not safe for production environments. See the recommended example configuration and the section on nonces for details.</p>"},{"location":"new-third-part-lib/style-loader/#options","title":"Options","text":"<ul> <li><code>injectType</code></li> <li><code>attributes</code></li> <li><code>insert</code></li> <li><code>styleTagTransform</code></li> <li><code>base</code></li> <li><code>esModule</code></li> </ul>"},{"location":"new-third-part-lib/style-loader/#injecttype","title":"<code>injectType</code>","text":"<p>Type:</p> <pre><code>type injectType =\n  | \"styleTag\"\n  | \"singletonStyleTag\"\n  | \"autoStyleTag\"\n  | \"lazyStyleTag\"\n  | \"lazySingletonStyleTag\"\n  | \"lazyAutoStyleTag\"\n  | \"linkTag\";\n</code></pre> <p>Default: <code>styleTag</code></p> <p>Allows to setup how styles will be injected into the DOM.</p> <p>Possible values:</p>"},{"location":"new-third-part-lib/style-loader/#styletag","title":"<code>styleTag</code>","text":"<p>Automatically injects styles into the DOM using multiple <code>&lt;style&gt;&lt;/style&gt;</code>. It is default behaviour.</p> <p>component.js</p> <pre><code>import \"./styles.css\";\n</code></pre> <p>Example with Locals (CSS Modules):</p> <p>component-with-css-modules.js</p> <pre><code>import * as styles from \"./styles.css\";\n\nconst divElement = document.createElement(\"div\");\ndivElement.className = styles[\"my-class\"];\n</code></pre> <p>All local variables (class names) are exported as named exports. To achieve this behaviour you also have to setup <code>modules</code> option for <code>css-loader</code>. For more information consult with <code>css-loader</code> <code>documentation</code>.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          // The `injectType`  option can be avoided because it is default behaviour\n          { loader: \"style-loader\", options: { injectType: \"styleTag\" } },\n          {\n            loader: \"css-loader\",\n            // Uncomment it if you want to use CSS modules\n            // options: { modules: true }\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>The loader inject styles like:</p> <pre><code>&lt;style&gt;\n  .foo {\n    color: red;\n  }\n&lt;/style&gt;\n&lt;style&gt;\n  .bar {\n    color: blue;\n  }\n&lt;/style&gt;\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#singletonstyletag","title":"<code>singletonStyleTag</code>","text":"<p>Automatically injects styles into the DOM using one <code>&lt;style&gt;&lt;/style&gt;</code>.</p> <p>Warning</p> <p>Source maps do not work.</p> <p>component.js</p> <pre><code>import \"./styles.css\";\n</code></pre> <p>component-with-css-modules.js</p> <pre><code>import * as styles from \"./styles.css\";\n\nconst divElement = document.createElement(\"div\");\ndivElement.className = styles[\"my-class\"];\n</code></pre> <p>All local variables (class names) are exported as named exports. To achieve this behaviour you also have to setup <code>modules</code> option for <code>css-loader</code>. For more information consult with <code>css-loader</code> <code>documentation</code>.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          {\n            loader: \"style-loader\",\n            options: { injectType: \"singletonStyleTag\" },\n          },\n          {\n            loader: \"css-loader\",\n            // Uncomment it if you want to use CSS modules\n            // options: { modules: true }\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>The loader inject styles like:</p> <pre><code>&lt;style&gt;\n  .foo {\n    color: red;\n  }\n  .bar {\n    color: blue;\n  }\n&lt;/style&gt;\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#autostyletag","title":"<code>autoStyleTag</code>","text":"<p>Works the same as a <code>styleTag</code>, but if the code is executed in IE6-9, turns on the <code>singletonStyleTag</code> mode.</p>"},{"location":"new-third-part-lib/style-loader/#lazystyletag","title":"<code>lazyStyleTag</code>","text":"<p>Injects styles into the DOM using multiple <code>&lt;style&gt;&lt;/style&gt;</code> on demand. We recommend following <code>.lazy.css</code> naming convention for lazy styles and the <code>.css</code> for basic <code>style-loader</code> usage (similar to other file types, i.e. <code>.lazy.less</code> and <code>.less</code>). When you <code>lazyStyleTag</code> value the <code>style-loader</code> injects the styles lazily making them useable on-demand via <code>style.use()</code> / <code>style.unuse()</code>.</p> <p>\u26a0\ufe0f Behavior is undefined when <code>unuse</code> is called more often than <code>use</code>. Don't do that.</p> <p>component.js</p> <pre><code>import styles from \"./styles.lazy.css\";\n\nstyles.use();\n// For removing styles you can use\n// styles.unuse();\n</code></pre> <p>component-with-css-modules.js</p> <pre><code>import styles, { \"my-class\" as myClass } from \"./styles.lazy.css\";\n\nstyles.use();\n\nconst divElement = document.createElement(\"div\");\ndivElement.className = myClass;\n</code></pre> <p>All local variables (class names) are exported as named exports. To achieve this behaviour you also have to setup <code>modules</code> option for <code>css-loader</code>. For more information consult with <code>css-loader</code> <code>documentation</code>.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        exclude: /\\.lazy\\.css$/i,\n        use: [\"style-loader\", \"css-loader\"],\n      },\n      {\n        test: /\\.lazy\\.css$/i,\n        use: [\n          { loader: \"style-loader\", options: { injectType: \"lazyStyleTag\" } },\n          {\n            loader: \"css-loader\",\n            // Uncomment it if you want to use CSS modules\n            // options: { modules: true }\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>The loader inject styles like:</p> <pre><code>&lt;style&gt;\n  .foo {\n    color: red;\n  }\n&lt;/style&gt;\n&lt;style&gt;\n  .bar {\n    color: blue;\n  }\n&lt;/style&gt;\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#lazysingletonstyletag","title":"<code>lazySingletonStyleTag</code>","text":"<p>Injects styles into the DOM using one <code>&lt;style&gt;&lt;/style&gt;</code> on demand. We recommend following <code>.lazy.css</code> naming convention for lazy styles and the <code>.css</code> for basic <code>style-loader</code> usage (similar to other file types, i.e. <code>.lazy.less</code> and <code>.less</code>). When you <code>lazySingletonStyleTag</code> value the <code>style- loader</code> injects the styles lazily making them useable on-demand via <code>style.use()</code> / <code>style.unuse()</code>.</p> <p>\u26a0\ufe0f Source maps do not work.</p> <p>\u26a0\ufe0f Behavior is undefined when <code>unuse</code> is called more often than <code>use</code>. Don't do that.</p> <p>component.js</p> <pre><code>import styles from \"./styles.css\";\n\nstyles.use();\n// For removing styles you can use\n// styles.unuse();\n</code></pre> <p>component-with-css-modules.js</p> <pre><code>import styles, { \"my-class\" as myClass } from \"./styles.lazy.css\";\n\nstyles.use();\n\nconst divElement = document.createElement(\"div\");\ndivElement.className = myClass;\n</code></pre> <p>All local variables (class names) are exported as named exports. To achieve this behaviour you also have to setup <code>modules</code> option for <code>css-loader</code>. For more information consult with <code>css-loader</code> <code>documentation</code>.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        exclude: /\\.lazy\\.css$/i,\n        use: [\"style-loader\", \"css-loader\"],\n      },\n      {\n        test: /\\.lazy\\.css$/i,\n        use: [\n          {\n            loader: \"style-loader\",\n            options: { injectType: \"lazySingletonStyleTag\" },\n          },\n          {\n            loader: \"css-loader\",\n            // Uncomment it if you want to use CSS modules\n            // options: { modules: true }\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>The loader generate this:</p> <pre><code>&lt;style&gt;\n  .foo {\n    color: red;\n  }\n  .bar {\n    color: blue;\n  }\n&lt;/style&gt;\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#lazyautostyletag","title":"<code>lazyAutoStyleTag</code>","text":"<p>Works the same as a <code>lazyStyleTag</code>, but if the code is executed in IE6-9, turns on the <code>lazySingletonStyleTag</code> mode.</p>"},{"location":"new-third-part-lib/style-loader/#linktag","title":"<code>linkTag</code>","text":"<p>Injects styles into the DOM using multiple <code>&lt;link rel=\"stylesheet\" href=\"path/to/file.css\"&gt;</code> .</p> <p>\u2139\ufe0f The loader will dynamically insert the <code>&lt;link href=\"path/to/file.css\" rel=\"stylesheet\"&gt;</code> tag at runtime via JavaScript. You should use MiniCssExtractPlugin if you want to include a static <code>&lt;link href=\"path/to/file.css\" rel=\"stylesheet\"&gt;</code>.</p> <pre><code>import \"./styles.css\";\nimport \"./other-styles.css\";\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.link\\.css$/i,\n        use: [\n          { loader: \"style-loader\", options: { injectType: \"linkTag\" } },\n          { loader: \"file-loader\" },\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>The loader generate this:</p> <pre><code>&lt;link rel=\"stylesheet\" href=\"path/to/style.css\" /&gt;\n&lt;link rel=\"stylesheet\" href=\"path/to/other-styles.css\" /&gt;\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#attributes","title":"<code>attributes</code>","text":"<p>Type:</p> <pre><code>type attributes = HTMLAttributes;\n</code></pre> <p>Default: <code>{}</code></p> <p>If defined, the <code>style-loader</code> will attach given attributes with their values on <code>&lt;style&gt;</code> / <code>&lt;link&gt;</code> element.</p> <p>component.js</p> <pre><code>import \"./file.css\";\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          { loader: \"style-loader\", options: { attributes: { id: \"id\" } } },\n          { loader: \"css-loader\" },\n        ],\n      },\n    ],\n  },\n};\n\n\n&lt;style id=\"id\"&gt;&lt;/style&gt;\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#insert","title":"<code>insert</code>","text":"<p>Type:</p> <pre><code>type insert = string;\n</code></pre> <p>Default: <code>head</code></p> <p>By default, the <code>style-loader</code> appends <code>&lt;style&gt;</code>/<code>&lt;link&gt;</code> elements to the end of the style target, which is the <code>&lt;head&gt;</code> tag of the page unless specified by <code>insert</code>. This will cause CSS created by the loader to take priority over CSS already present in the target. You can use other values if the standard behavior is not suitable for you, but we do not recommend doing this. If you target an iframe make sure you have sufficient access rights, the styles will be injected into the content document head.</p>"},{"location":"new-third-part-lib/style-loader/#selector","title":"<code>Selector</code>","text":"<p>Allows to setup custom query selector where styles inject into the DOM.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          {\n            loader: \"style-loader\",\n            options: {\n              insert: \"body\",\n            },\n          },\n          \"css-loader\",\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#absolute-path-to-function","title":"<code>Absolute path to function</code>","text":"<p>Allows to setup absolute path to custom function that allows to override default behavior and insert styles at any position.</p> <p>Warning</p> <p>Do not forget that this code will be used in the browser and not all browsers support latest ECMA features like <code>let</code>, <code>const</code>, <code>arrow function expression</code> and etc. We recommend using <code>babel- loader</code> for support latest ECMA features.</p> <p>Warning</p> <p>Do not forget that some DOM methods may not be available in older browsers, we recommended use only DOM core level 2 properties, but it is depends what browsers you want to support</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          {\n            loader: \"style-loader\",\n            options: {\n              insert: require.resolve(\"./path-to-insert-module\"),\n            },\n          },\n          \"css-loader\",\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>A new <code>&lt;style&gt;</code>/<code>&lt;link&gt;</code> elements will be inserted into at bottom of <code>body</code> tag.</p> <p>Examples:</p> <p>Insert styles at top of <code>head</code> tag:</p> <p>insert-function.js</p> <pre><code>function insertAtTop(element) {\n  var parent = document.querySelector(\"head\");\n  // eslint-disable-next-line no-underscore-dangle\n  var lastInsertedElement = window._lastElementInsertedByStyleLoader;\n\n  if (!lastInsertedElement) {\n    parent.insertBefore(element, parent.firstChild);\n  } else if (lastInsertedElement.nextSibling) {\n    parent.insertBefore(element, lastInsertedElement.nextSibling);\n  } else {\n    parent.appendChild(element);\n  }\n\n  // eslint-disable-next-line no-underscore-dangle\n  window._lastElementInsertedByStyleLoader = element;\n}\n\nmodule.exports = insertAtTop;\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          {\n            loader: \"style-loader\",\n            options: {\n              insert: require.resolve(\"./insert-function\"),\n            },\n          },\n          \"css-loader\",\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>You can pass any parameters to <code>style.use(options)</code> and this value will be passed to <code>insert</code> and <code>styleTagTransform</code> functions.</p> <p>insert-function.js</p> <pre><code>function insertIntoTarget(element, options) {\n  var parent = options.target || document.head;\n\n  parent.appendChild(element);\n}\n\nmodule.exports = insertIntoTarget;\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          {\n            loader: \"style-loader\",\n            options: {\n              injectType: \"lazyStyleTag\",\n              // Do not forget that this code will be used in the browser and\n              // not all browsers support latest ECMA features like `let`, `const`, `arrow function expression` and etc,\n              // we recommend use only ECMA 5 features,\n              // but it depends what browsers you want to support\n              insert: require.resolve(\"./insert-function.js\"),\n            },\n          },\n          \"css-loader\",\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>Insert styles to the provided element or to the <code>head</code> tag if target isn't provided. Now you can inject styles into Shadow DOM (or any other element).</p> <p>custom-square.css</p> <pre><code>div {\n  width: 50px;\n  height: 50px;\n  background-color: red;\n}\n</code></pre> <p>custom-square.js</p> <pre><code>import customSquareStyles from \"./custom-square.css\";\n\nclass CustomSquare extends HTMLElement {\n  constructor() {\n    super();\n\n    this.attachShadow({ mode: \"open\" });\n\n    const divElement = document.createElement(\"div\");\n\n    divElement.textContent = \"Text content.\";\n\n    this.shadowRoot.appendChild(divElement);\n\n    customSquareStyles.use({ target: this.shadowRoot });\n\n    // You can override injected styles\n    const bgPurple = new CSSStyleSheet();\n    const width = this.getAttribute(\"w\");\n    const height = this.getAttribute(\"h\");\n\n    bgPurple.replace(`div { width: ${width}px; height: ${height}px; }`);\n\n    this.shadowRoot.adoptedStyleSheets = [bgPurple];\n\n    // `divElement` will have `100px` width, `100px` height and `red` background color\n  }\n}\n\ncustomElements.define(\"custom-square\", CustomSquare);\n\nexport default CustomSquare;\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#styletagtransform","title":"<code>styleTagTransform</code>","text":"<p>Type:</p> <pre><code>type styleTagTransform = string;\n</code></pre> <p>Default: <code>undefined</code></p>"},{"location":"new-third-part-lib/style-loader/#string","title":"<code>string</code>","text":"<p>Allows to setup absolute path to custom function that allows to override default behavior styleTagTransform.</p> <p>Warning</p> <p>Do not forget that this code will be used in the browser and not all browsers support latest ECMA features like <code>let</code>, <code>const</code>, <code>arrow function expression</code> and etc, we recommend use only ECMA 5 features, but it is depends what browsers you want to support</p> <p>Warning</p> <p>Do not forget that some DOM methods may not be available in older browsers, we recommended use only DOM core level 2 properties, but it depends what browsers you want to support</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          {\n            loader: \"style-loader\",\n            options: {\n              injectType: \"styleTag\",\n              styleTagTransform: require.resolve(\"style-tag-transform-code\"),\n            },\n          },\n          \"css-loader\",\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#base","title":"<code>base</code>","text":"<pre><code>type base = number;\n</code></pre> <p>This setting is primarily used as a workaround for css clashes when using one or more DllPlugin's. <code>base</code> allows you to prevent either the app 's css (or DllPlugin2 's css) from overwriting DllPlugin1 's css by specifying a css module id base which is greater than the range used by DllPlugin1 e.g.:</p> <p>webpack.dll1.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\"style-loader\", \"css-loader\"],\n      },\n    ],\n  },\n};\n</code></pre> <p>webpack.dll2.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          { loader: \"style-loader\", options: { base: 1000 } },\n          \"css-loader\",\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>webpack.app.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          { loader: \"style-loader\", options: { base: 2000 } },\n          \"css-loader\",\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#esmodule","title":"<code>esModule</code>","text":"<p>Type:</p> <pre><code>type esModule = boolean;\n</code></pre> <p>Default: <code>true</code></p> <p>By default, <code>style-loader</code> generates JS modules that use the ES modules syntax. There are some cases in which using ES modules is beneficial, like in the case of module concatenation and tree shaking.</p> <p>You can enable a CommonJS modules syntax using:</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        loader: \"style-loader\",\n        options: {\n          esModule: false,\n        },\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#examples","title":"Examples","text":""},{"location":"new-third-part-lib/style-loader/#recommend","title":"Recommend","text":"<p>For <code>production</code> builds it's recommended to extract the CSS from your bundle being able to use parallel loading of CSS/JS resources later on. This can be achieved by using the mini-css-extract-plugin, because it creates separate css files. For <code>development</code> mode (including <code>webpack-dev-server</code>) you can use <code>style- loader</code>, because it injects CSS into the DOM using multiple <code>&lt;style&gt;&lt;/style&gt;</code> and works faster.</p> <p>Warning</p> <p>Do not use together <code>style-loader</code> and <code>mini-css-extract-plugin</code>.</p> <p>webpack.config.js</p> <pre><code>const MiniCssExtractPlugin = require(\"mini-css-extract-plugin\");\nconst devMode = process.env.NODE_ENV !== \"production\";\n\nmodule.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.(sa|sc|c)ss$/,\n        use: [\n          devMode ? \"style-loader\" : MiniCssExtractPlugin.loader,\n          \"css-loader\",\n          \"postcss-loader\",\n          \"sass-loader\",\n        ],\n      },\n    ],\n  },\n  plugins: [].concat(devMode ? [] : [new MiniCssExtractPlugin()]),\n};\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#named-export-for-css-modules","title":"Named export for CSS Modules","text":"<p>Warning</p> <p>It is not allowed to use JavaScript reserved words in css class names.</p> <p>Warning</p> <p>Options <code>esModule</code> and <code>modules.namedExport</code> in <code>css-loader</code> should be enabled (by default for <code>css-loader@7</code> it is true).</p> <p>styles.css</p> <pre><code>.fooBaz {\n  color: red;\n}\n.bar {\n  color: blue;\n}\n.my-class {\n  color: green;\n}\n</code></pre> <p>index.js</p> <pre><code>import { fooBaz, bar, \"my-class\" as myClass } from \"./styles.css\";\n\nconsole.log(fooBaz, bar, myClass);\n</code></pre> <p>Or:</p> <p>index.js</p> <pre><code>import * as styles from \"./styles.css\";\n\nconsole.log(styles.fooBaz, styles.bar, styles[\"my-class\"]);\n</code></pre> <p>You can enable a ES module named export using:</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/,\n        use: [\n          {\n            loader: \"style-loader\",\n          },\n          {\n            loader: \"css-loader\",\n            options: {\n              modules: {\n                namedExport: true,\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#source-maps","title":"Source maps","text":"<p>The loader automatically inject source maps when previous loader emit them. Therefore, to generate source maps, set the <code>sourceMap</code> option to <code>true</code> for the previous loader.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          \"style-loader\",\n          { loader: \"css-loader\", options: { sourceMap: true } },\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#nonce","title":"Nonce","text":"<p>If you are using a Content Security Policy (CSP), the injected code will usually be blocked. A workaround is to use a nonce. Note, however, that using a nonce significantly reduces the protection provided by the CSP. You can read more about the security impact in the specification. The better solution is not to use this loader in production.</p> <p>There are two ways to work with <code>nonce</code>:</p> <ul> <li>using the <code>attributes</code> option</li> <li>using the <code>__webpack_nonce__</code> variable</li> </ul> <p>Warning</p> <p>the <code>attributes</code> option takes precedence over the <code>__webpack_nonce__</code> variable</p>"},{"location":"new-third-part-lib/style-loader/#attributes_1","title":"<code>attributes</code>","text":"<p>component.js</p> <pre><code>import \"./style.css\";\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          {\n            loader: \"style-loader\",\n            options: {\n              attributes: {\n                nonce: \"12345678\",\n              },\n            },\n          },\n          \"css-loader\",\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>The loader generate:</p> <pre><code>&lt;style nonce=\"12345678\"&gt;\n  .foo {\n    color: red;\n  }\n&lt;/style&gt;\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#__webpack_nonce__","title":"<code>__webpack_nonce__</code>","text":"<p>create-nonce.js</p> <pre><code>__webpack_nonce__ = \"12345678\";\n</code></pre> <p>component.js</p> <pre><code>import \"./create-nonce.js\";\nimport \"./style.css\";\n</code></pre> <p>Alternative example for <code>require</code>:</p> <p>component.js</p> <pre><code>__webpack_nonce__ = \"12345678\";\n\nrequire(\"./style.css\");\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\"style-loader\", \"css-loader\"],\n      },\n    ],\n  },\n};\n</code></pre> <p>The loader generate:</p> <pre><code>&lt;style nonce=\"12345678\"&gt;\n  .foo {\n    color: red;\n  }\n&lt;/style&gt;\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#insert-styles-at-top","title":"Insert styles at top","text":"<p>Insert styles at top of <code>head</code> tag.</p> <p>insert-function.js</p> <pre><code>function insertAtTop(element) {\n  var parent = document.querySelector(\"head\");\n  var lastInsertedElement = window._lastElementInsertedByStyleLoader;\n\n  if (!lastInsertedElement) {\n    parent.insertBefore(element, parent.firstChild);\n  } else if (lastInsertedElement.nextSibling) {\n    parent.insertBefore(element, lastInsertedElement.nextSibling);\n  } else {\n    parent.appendChild(element);\n  }\n\n  window._lastElementInsertedByStyleLoader = element;\n}\n\nmodule.exports = insertAtTop;\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          {\n            loader: \"style-loader\",\n            options: {\n              insert: require.resolve(\"./insert-function.js\"),\n            },\n          },\n          \"css-loader\",\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#insert-styles-before-target-element","title":"Insert styles before target element","text":"<p>Inserts styles before <code>#id</code> element.</p> <p>insert-function.js</p> <pre><code>function insertBeforeAt(element) {\n  const parent = document.querySelector(\"head\");\n  const target = document.querySelector(\"#id\");\n\n  const lastInsertedElement = window._lastElementInsertedByStyleLoader;\n\n  if (!lastInsertedElement) {\n    parent.insertBefore(element, target);\n  } else if (lastInsertedElement.nextSibling) {\n    parent.insertBefore(element, lastInsertedElement.nextSibling);\n  } else {\n    parent.appendChild(element);\n  }\n\n  window._lastElementInsertedByStyleLoader = element;\n}\n\nmodule.exports = insertBeforeAt;\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          {\n            loader: \"style-loader\",\n            options: {\n              insert: require.resolve(\"./insert-function.js\"),\n            },\n          },\n          \"css-loader\",\n        ],\n      },\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#custom-elements-shadow-dom","title":"Custom Elements (Shadow DOM)","text":"<p>You can define custom target for your styles for the <code>lazyStyleTag</code> type.</p> <p>insert-function.js</p> <pre><code>function insertIntoTarget(element, options) {\n  var parent = options.target || document.head;\n\n  parent.appendChild(element);\n}\n\nmodule.exports = insertIntoTarget;\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          {\n            loader: \"style-loader\",\n            options: {\n              injectType: \"lazyStyleTag\",\n              // Do not forget that this code will be used in the browser and\n              // not all browsers support latest ECMA features like `let`, `const`, `arrow function expression` and etc,\n              // we recommend use only ECMA 5 features,\n              // but it is depends what browsers you want to support\n              insert: require.resolve(\"./insert-function.js\"),\n            },\n          },\n          \"css-loader\",\n        ],\n      },\n    ],\n  },\n};\n</code></pre> <p>Insert styles to the provided element or to the <code>head</code> tag if target isn't provided.</p> <p>custom-square.css</p> <pre><code>div {\n  width: 50px;\n  height: 50px;\n  background-color: red;\n}\n</code></pre> <p>custom-square.js</p> <pre><code>import customSquareStyles from \"./custom-square.css\";\n\nclass CustomSquare extends HTMLElement {\n  constructor() {\n    super();\n\n    this.attachShadow({ mode: \"open\" });\n\n    const divElement = document.createElement(\"div\");\n\n    divElement.textContent = \"Text content.\";\n\n    this.shadowRoot.appendChild(divElement);\n\n    customSquareStyles.use({ target: this.shadowRoot });\n\n    // You can override injected styles\n    const bgPurple = new CSSStyleSheet();\n    const width = this.getAttribute(\"w\");\n    const height = this.getAttribute(\"h\");\n\n    bgPurple.replace(`div { width: ${width}px; height: ${height}px; }`);\n\n    this.shadowRoot.adoptedStyleSheets = [bgPurple];\n\n    // `divElement` will have `100px` width, `100px` height and `red` background color\n  }\n}\n\ncustomElements.define(\"custom-square\", CustomSquare);\n\nexport default CustomSquare;\n</code></pre>"},{"location":"new-third-part-lib/style-loader/#contributing","title":"Contributing","text":"<p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p>CONTRIBUTING</p>"},{"location":"new-third-part-lib/style-loader/#license","title":"License","text":"<p>MIT</p>"},{"location":"new-third-part-lib/supertest/","title":"supertest","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9163  \u9605\u8bfb19\u5206\u949f</p>"},{"location":"new-third-part-lib/supertest/#version","title":"version","text":"<p>7.0.0\u00a0 </p>"},{"location":"new-third-part-lib/supertest/#downloads","title":"downloads","text":"<p>4,699,191 </p>"},{"location":"new-third-part-lib/supertest/#repository","title":"repository","text":"<p>github.com/ladjs/supertest </p>"},{"location":"new-third-part-lib/supertest/#homepage","title":"homepage","text":"<p>github.com/ladjs/supertest#readme </p>"},{"location":"new-third-part-lib/supertest/#supertest_1","title":"SuperTest","text":"<p>HTTP assertions made easy via superagent. Maintained for Forward Email and Lad.</p>"},{"location":"new-third-part-lib/supertest/#about","title":"About","text":"<p>The motivation with this module is to provide a high-level abstraction for testing HTTP, while still allowing you to drop down to the lower-level API provided by superagent.</p>"},{"location":"new-third-part-lib/supertest/#getting-started","title":"Getting Started","text":"<p>Install SuperTest as an npm module and save it to your package.json file as a development dependency:</p> <p>npm install supertest --save-dev</p> <p>Once installed it can now be referenced by simply calling <code>require('supertest');</code></p>"},{"location":"new-third-part-lib/supertest/#example","title":"Example","text":"<p>You may pass an <code>http.Server</code>, or a <code>Function</code> to <code>request()</code> - if the server is not already listening for connections then it is bound to an ephemeral port for you so there is no need to keep track of ports.</p> <p>SuperTest works with any test framework, here is an example without using any test framework at all:</p> <p><pre><code>    const request = require('supertest');\n    const express = require('express');\n\n    const app = express();\n\n    app.get('/user', function(req, res) {\n      res.status(200).json({ name: 'john' });\n    });\n\n    request(app)\n      .get('/user')\n      .expect('Content-Type', /json/)\n      .expect('Content-Length', '15')\n      .expect(200)\n      .end(function(err, res) {\n        if (err) throw err;\n      });\n</code></pre> To enable http2 protocol, simply append an options to <code>request</code> or <code>request.agent</code>:</p> <pre><code>    const request = require('supertest');\n    const express = require('express');\n\n    const app = express();\n\n    app.get('/user', function(req, res) {\n      res.status(200).json({ name: 'john' });\n    });\n\n    request(app, { http2: true })\n      .get('/user')\n      .expect('Content-Type', /json/)\n      .expect('Content-Length', '15')\n      .expect(200)\n      .end(function(err, res) {\n        if (err) throw err;\n      });\n\n    request.agent(app, { http2: true })\n      .get('/user')\n      .expect('Content-Type', /json/)\n      .expect('Content-Length', '15')\n      .expect(200)\n      .end(function(err, res) {\n        if (err) throw err;\n      });\n</code></pre> <p>Here's an example with mocha, note how you can pass <code>done</code> straight to any of the <code>.expect()</code> calls:</p> <p><pre><code>    describe('GET /user', function() {\n      it('responds with json', function(done) {\n        request(app)\n          .get('/user')\n          .set('Accept', 'application/json')\n          .expect('Content-Type', /json/)\n          .expect(200, done);\n      });\n    });\n</code></pre> You can use <code>auth</code> method to pass HTTP username and password in the same way as in the superagent:</p> <pre><code>    describe('GET /user', function() {\n      it('responds with json', function(done) {\n        request(app)\n          .get('/user')\n          .auth('username', 'password')\n          .set('Accept', 'application/json')\n          .expect('Content-Type', /json/)\n          .expect(200, done);\n      });\n    });\n</code></pre> <p>One thing to note with the above statement is that superagent now sends any HTTP error (anything other than a 2XX response code) to the callback as the first argument if you do not add a status code expect (i.e. <code>.expect(302)</code>).</p> <p>If you are using the <code>.end()</code> method <code>.expect()</code> assertions that fail will not throw - they will return the assertion as an error to the <code>.end()</code> callback. In order to fail the test case, you will need to rethrow or pass <code>err</code> to <code>done()</code>, as follows:</p> <pre><code>    describe('POST /users', function() {\n      it('responds with json', function(done) {\n        request(app)\n          .post('/users')\n          .send({name: 'john'})\n          .set('Accept', 'application/json')\n          .expect('Content-Type', /json/)\n          .expect(200)\n          .end(function(err, res) {\n            if (err) return done(err);\n            return done();\n          });\n      });\n    });\n</code></pre> <p>You can also use promises:</p> <p><pre><code>    describe('GET /users', function() {\n      it('responds with json', function() {\n        return request(app)\n          .get('/users')\n          .set('Accept', 'application/json')\n          .expect('Content-Type', /json/)\n          .expect(200)\n          .then(response =&gt; {\n             expect(response.body.email).toEqual('foo@bar.com');\n          })\n      });\n    });\n</code></pre> Or async/await syntax:</p> <pre><code>    describe('GET /users', function() {\n      it('responds with json', async function() {\n        const response = await request(app)\n          .get('/users')\n          .set('Accept', 'application/json')\n        expect(response.headers[\"Content-Type\"]).toMatch(/json/);\n        expect(response.status).toEqual(200);\n        expect(response.body.email).toEqual('foo@bar.com');\n      });\n    });\n</code></pre> <p>Expectations are run in the order of definition. This characteristic can be used to modify the response body or headers before executing an assertion.</p> <pre><code>    describe('POST /user', function() {\n      it('user.name should be an case-insensitive match for \"john\"', function(done) {\n        request(app)\n          .post('/user')\n          .send('name=john') // x-www-form-urlencoded upload\n          .set('Accept', 'application/json')\n          .expect(function(res) {\n            res.body.id = 'some fixed id';\n            res.body.name = res.body.name.toLowerCase();\n          })\n          .expect(200, {\n            id: 'some fixed id',\n            name: 'john'\n          }, done);\n      });\n    });\n</code></pre> <p>Anything you can do with superagent, you can do with supertest - for example multipart file uploads!</p> <pre><code>    request(app)\n      .post('/')\n      .field('name', 'my awesome avatar')\n      .field('complex_object', '{\"attribute\": \"value\"}', {contentType: 'application/json'})\n      .attach('avatar', 'test/fixtures/avatar.jpg')\n      ...\n</code></pre> <p>Passing the app or url each time is not necessary, if you're testing the same host you may simply re-assign the request variable with the initialization app or url, a new <code>Test</code> is created per <code>request.VERB()</code> call.</p> <pre><code>    request = request('http://localhost:5555');\n\n    request.get('/').expect(200, function(err){\n      console.log(err);\n    });\n\n    request.get('/').expect('heya', function(err){\n      console.log(err);\n    });\n</code></pre> <p>Here's an example with mocha that shows how to persist a request and its cookies:</p> <pre><code>    const request = require('supertest');\n    const should = require('should');\n    const express = require('express');\n    const cookieParser = require('cookie-parser');\n\n    describe('request.agent(app)', function() {\n      const app = express();\n      app.use(cookieParser());\n\n      app.get('/', function(req, res) {\n        res.cookie('cookie', 'hey');\n        res.send();\n      });\n\n      app.get('/return', function(req, res) {\n        if (req.cookies.cookie) res.send(req.cookies.cookie);\n        else res.send(':(')\n      });\n\n      const agent = request.agent(app);\n\n      it('should save cookies', function(done) {\n        agent\n        .get('/')\n        .expect('set-cookie', 'cookie=hey; Path=/', done);\n      });\n\n      it('should send cookies', function(done) {\n        agent\n        .get('/return')\n        .expect('hey', done);\n      });\n    });\n</code></pre> <p>There is another example that is introduced by the file agency.js</p> <p>Here is an example where 2 cookies are set on the request.</p> <pre><code>    agent(app)\n      .get('/api/content')\n      .set('Cookie', ['nameOne=valueOne;nameTwo=valueTwo'])\n      .send()\n      .expect(200)\n      .end((err, res) =&gt; {\n        if (err) {\n          return done(err);\n        }\n        expect(res.text).to.be.equal('hey');\n        return done();\n      });\n</code></pre>"},{"location":"new-third-part-lib/supertest/#api","title":"API","text":"<p>You may use any superagent methods, including <code>.write()</code>, <code>.pipe()</code> etc and perform assertions in the <code>.end()</code> callback for lower-level needs.</p>"},{"location":"new-third-part-lib/supertest/#expectstatus-fn","title":".expect(status[, fn])","text":"<p>Assert response <code>status</code> code.</p>"},{"location":"new-third-part-lib/supertest/#expectstatus-body-fn","title":".expect(status, body[, fn])","text":"<p>Assert response <code>status</code> code and <code>body</code>.</p>"},{"location":"new-third-part-lib/supertest/#expectbody-fn","title":".expect(body[, fn])","text":"<p>Assert response <code>body</code> text with a string, regular expression, or parsed body object.</p>"},{"location":"new-third-part-lib/supertest/#expectfield-value-fn","title":".expect(field, value[, fn])","text":"<p>Assert header <code>field</code> <code>value</code> with a string or regular expression.</p>"},{"location":"new-third-part-lib/supertest/#expectfunctionres","title":".expect(function(res) {})","text":"<p>Pass a custom assertion function. It'll be given the response object to check. If the check fails, throw an error.</p> <pre><code>    request(app)\n      .get('/')\n      .expect(hasPreviousAndNextKeys)\n      .end(done);\n\n    function hasPreviousAndNextKeys(res) {\n      if (!('next' in res.body)) throw new Error(\"missing next key\");\n      if (!('prev' in res.body)) throw new Error(\"missing prev key\");\n    }\n</code></pre>"},{"location":"new-third-part-lib/supertest/#endfn","title":".end(fn)","text":"<p>Perform the request and invoke <code>fn(err, res)</code>.</p>"},{"location":"new-third-part-lib/supertest/#notes","title":"Notes","text":"<p>Inspired by api-easy minus vows coupling.</p>"},{"location":"new-third-part-lib/terser-webpack-plugin/","title":"terser-webpack-plugin","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 24244  \u9605\u8bfb49\u5206\u949f</p>"},{"location":"new-third-part-lib/terser-webpack-plugin/#version","title":"version","text":"<p>5.3.10\u00a0\u2022 </p>"},{"location":"new-third-part-lib/terser-webpack-plugin/#downloads","title":"downloads","text":"<p>26,667,186 </p>"},{"location":"new-third-part-lib/terser-webpack-plugin/#repository","title":"repository","text":"<p>github.com/webpack-contrib/terser-webpack-plugin </p>"},{"location":"new-third-part-lib/terser-webpack-plugin/#homepage","title":"homepage","text":"<p>github.com/webpack-contrib/terser-webpack-plugin </p>"},{"location":"new-third-part-lib/terser-webpack-plugin/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/terser-webpack-plugin/#terser-webpack-plugin_1","title":"terser-webpack-plugin","text":"<p>This plugin uses terser to minify/minimize your JavaScript.</p>"},{"location":"new-third-part-lib/terser-webpack-plugin/#getting-started","title":"Getting Started","text":"<p>Webpack v5 comes with the latest <code>terser-webpack-plugin</code> out of the box. If you are using Webpack v5 or above and wish to customize the options, you will still need to install <code>terser-webpack-plugin</code>. Using Webpack v4, you have to install <code>terser-webpack-plugin</code> v4.</p> <p>To begin, you'll need to install <code>terser-webpack-plugin</code>:</p> <p>npm install terser-webpack-plugin --save-dev</p> <p>Then add the plugin to your <code>webpack</code> config. For example:</p> <p>webpack.config.js</p> <pre><code>    const TerserPlugin = require(\"terser-webpack-plugin\");\n\n    module.exports = {\n      optimization: {\n        minimize: true,\n        minimizer: [new TerserPlugin()],\n      },\n    };\n</code></pre> <p>And run <code>webpack</code> via your preferred method.</p>"},{"location":"new-third-part-lib/terser-webpack-plugin/#note-about-source-maps","title":"Note about source maps","text":"<p>Works only with<code>source-map</code>, <code>inline-source-map</code>, <code>hidden-source-map</code> and <code>nosources-source-map</code> values for the <code>devtool</code> option.</p> <p>Why?</p> <ul> <li><code>eval</code> wraps modules in <code>eval(\"string\")</code> and the minimizer does not handle strings.</li> <li><code>cheap</code> has not column information and minimizer generate only a single line, which leave only a single mapping.</li> </ul> <p>Using supported <code>devtool</code> values enable source map generation.</p>"},{"location":"new-third-part-lib/terser-webpack-plugin/#options","title":"Options","text":"<ul> <li><code>test</code></li> <li><code>include</code></li> <li><code>exclude</code></li> <li><code>parallel</code></li> <li><code>minify</code></li> <li><code>terserOptions</code></li> <li><code>extractComments</code></li> </ul>"},{"location":"new-third-part-lib/terser-webpack-plugin/#test","title":"<code>test</code>","text":"<p>Type:</p> <p><pre><code>    type test = string | RegExp | Array&lt;string | RegExp&gt;;\n</code></pre> Default: <code>/\\.m?js(\\?.*)?$/i</code></p> <p>Test to match files against.</p> <p>webpack.config.js</p> <pre><code>    module.exports = {\n      optimization: {\n        minimize: true,\n        minimizer: [\n          new TerserPlugin({\n            test: /\\.js(\\?.*)?$/i,\n          }),\n        ],\n      },\n    };\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#include","title":"<code>include</code>","text":"<p>Type:</p> <p><pre><code>    type include = string | RegExp | Array&lt;string | RegExp&gt;;\n</code></pre> Default: <code>undefined</code></p> <p>Files to include.</p> <p>webpack.config.js</p> <pre><code>    module.exports = {\n      optimization: {\n        minimize: true,\n        minimizer: [\n          new TerserPlugin({\n            include: /\\/includes/,\n          }),\n        ],\n      },\n    };\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#exclude","title":"<code>exclude</code>","text":"<p>Type:</p> <p><pre><code>    type exclude = string | RegExp | Array&lt;string | RegExp&gt;;\n</code></pre> Default: <code>undefined</code></p> <p>Files to exclude.</p> <p>webpack.config.js</p> <pre><code>    module.exports = {\n      optimization: {\n        minimize: true,\n        minimizer: [\n          new TerserPlugin({\n            exclude: /\\/excludes/,\n          }),\n        ],\n      },\n    };\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#parallel","title":"<code>parallel</code>","text":"<p>Type:</p> <p><pre><code>    type parallel = boolean | number;\n</code></pre> Default: <code>true</code></p> <p>Use multi-process parallel running to improve the build speed. Default number of concurrent runs: <code>os.cpus().length - 1</code>.</p> <p>Note</p> <p>Parallelization can speedup your build significantly and is therefore highly recommended.</p> <p>Warning</p> <p>If you use Circle CI or any other environment that doesn't provide real available count of CPUs then you need to setup explicitly number of CPUs to avoid <code>Error: Call retries were exceeded</code> (see #143, #202).</p>"},{"location":"new-third-part-lib/terser-webpack-plugin/#boolean","title":"<code>boolean</code>","text":"<p>Enable/disable multi-process parallel running.</p> <p>webpack.config.js</p> <pre><code>    module.exports = {\n      optimization: {\n        minimize: true,\n        minimizer: [\n          new TerserPlugin({\n            parallel: true,\n          }),\n        ],\n      },\n    };\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#number","title":"<code>number</code>","text":"<p>Enable multi-process parallel running and set number of concurrent runs.</p> <p>webpack.config.js</p> <pre><code>    module.exports = {\n      optimization: {\n        minimize: true,\n        minimizer: [\n          new TerserPlugin({\n            parallel: 4,\n          }),\n        ],\n      },\n    };\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#minify","title":"<code>minify</code>","text":"<p>Type:</p> <p><pre><code>    type minify = (\n      input: {\n        [file: string]: string;\n      },\n      sourceMap: import(\"@jridgewell/trace-mapping\").SourceMapInput | undefined,\n      minifyOptions: {\n        module?: boolean | undefined;\n        ecma?: import(\"terser\").ECMA | undefined;\n      },\n      extractComments:\n        | boolean\n        | \"all\"\n        | \"some\"\n        | RegExp\n        | ((\n            astNode: any,\n            comment: {\n              value: string;\n              type: \"comment1\" | \"comment2\" | \"comment3\" | \"comment4\";\n              pos: number;\n              line: number;\n              col: number;\n            }\n          ) =&gt; boolean)\n        | {\n            condition?:\n              | boolean\n              | \"all\"\n              | \"some\"\n              | RegExp\n              | ((\n                  astNode: any,\n                  comment: {\n                    value: string;\n                    type: \"comment1\" | \"comment2\" | \"comment3\" | \"comment4\";\n                    pos: number;\n                    line: number;\n                    col: number;\n                  }\n                ) =&gt; boolean)\n              | undefined;\n            filename?: string | ((fileData: any) =&gt; string) | undefined;\n            banner?:\n              | string\n              | boolean\n              | ((commentsFile: string) =&gt; string)\n              | undefined;\n          }\n        | undefined\n    ) =&gt; Promise&lt;{\n      code: string;\n      map?: import(\"@jridgewell/trace-mapping\").SourceMapInput | undefined;\n      errors?: (string | Error)[] | undefined;\n      warnings?: (string | Error)[] | undefined;\n      extractedComments?: string[] | undefined;\n    }&gt;;\n</code></pre> Default: <code>TerserPlugin.terserMinify</code></p> <p>Allows you to override default minify function. By default plugin uses terser package. Useful for using and testing unpublished versions or forks.</p> <p>Warning</p> <p>Always use<code>require</code> inside <code>minify</code> function when <code>parallel</code> option enabled.</p> <p>webpack.config.js</p> <pre><code>// Can be async\nconst minify = (input, sourceMap, minimizerOptions, extractsComments) =&gt; {\n  // The `minimizerOptions` option contains option from the `terserOptions` option\n  // You can use `minimizerOptions.myCustomOption`\n\n  // Custom logic for extract comments\n  const { map, code } = require(\"uglify-module\") // Or require('./path/to/uglify-module')\n  .minify(input, {\n    /* Your options for minification */\n  });\n\n  return { map, code, warnings: [], errors: [], extractedComments: [] };\n};\n\n// Used to regenerate `fullhash`/`chunkhash` between different implementation\n// Example: you fix a bug in custom minimizer/custom function, but unfortunately webpack doesn't know about it, so you will get the same fullhash/chunkhash\n// to avoid this you can provide version of your custom minimizer\n// You don't need if you use only `contenthash`\nminify.getMinimizerVersion = () =&gt; {\n  let packageJson;\n\n  try {\n    // eslint-disable-next-line global-require, import/no-extraneous-dependencies\n    packageJson = require(\"uglify-module/package.json\");\n  } catch (error) {\n    // Ignore\n  }\n\n  return packageJson &amp;&amp; packageJson.version;\n};\n\nmodule.exports = {\n  optimization: {\n    minimize: true,\n    minimizer: [\n      new TerserPlugin({\n        terserOptions: {\n          myCustomOption: true,\n        },\n        minify,\n      }),\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#terseroptions","title":"<code>terserOptions</code>","text":"<p>Type:</p> <pre><code>    type terserOptions = {\n      compress?: boolean | CompressOptions;\n      ecma?: ECMA;\n      enclose?: boolean | string;\n      ie8?: boolean;\n      keep_classnames?: boolean | RegExp;\n      keep_fnames?: boolean | RegExp;\n      mangle?: boolean | MangleOptions;\n      module?: boolean;\n      nameCache?: object;\n      format?: FormatOptions;\n      /** @deprecated */\n      output?: FormatOptions;\n      parse?: ParseOptions;\n      safari10?: boolean;\n      sourceMap?: boolean | SourceMapOptions;\n      toplevel?: boolean;\n    };\n</code></pre> <p>Default: default</p> <p>Terser options.</p> <p>webpack.config.js</p> <pre><code>    module.exports = {\n      optimization: {\n        minimize: true,\n        minimizer: [\n          new TerserPlugin({\n            terserOptions: {\n              ecma: undefined,\n              parse: {},\n              compress: {},\n              mangle: true, // Note `mangle.properties` is `false` by default.\n              module: false,\n              // Deprecated\n              output: null,\n              format: null,\n              toplevel: false,\n              nameCache: null,\n              ie8: false,\n              keep_classnames: undefined,\n              keep_fnames: false,\n              safari10: false,\n            },\n          }),\n        ],\n      },\n    };\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#extractcomments","title":"<code>extractComments</code>","text":"<p>Type:</p> <pre><code>    type extractComments =\n      | boolean\n      | string\n      | RegExp\n      | ((\n          astNode: any,\n          comment: {\n            value: string;\n            type: \"comment1\" | \"comment2\" | \"comment3\" | \"comment4\";\n            pos: number;\n            line: number;\n            col: number;\n          }\n        ) =&gt; boolean)\n      | {\n          condition?:\n            | boolean\n            | \"all\"\n            | \"some\"\n            | RegExp\n            | ((\n                astNode: any,\n                comment: {\n                  value: string;\n                  type: \"comment1\" | \"comment2\" | \"comment3\" | \"comment4\";\n                  pos: number;\n                  line: number;\n                  col: number;\n                }\n              ) =&gt; boolean)\n            | undefined;\n          filename?: string | ((fileData: any) =&gt; string) | undefined;\n          banner?:\n            | string\n            | boolean\n            | ((commentsFile: string) =&gt; string)\n            | undefined;\n        };\n</code></pre> <p>Default: <code>true</code></p> <p>Whether comments shall be extracted to a separate file, (see details). By default extract only comments using <code>/^\\**!|@preserve|@license|@cc_on/i</code> regexp condition and remove remaining comments. If the original file is named <code>foo.js</code>, then the comments will be stored to <code>foo.js.LICENSE.txt</code>. The <code>terserOptions.format.comments</code> option specifies whether the comment will be preserved, i.e. it is possible to preserve some comments (e.g. annotations) while extracting others or even preserving comments that have been extracted.</p>"},{"location":"new-third-part-lib/terser-webpack-plugin/#boolean_1","title":"<code>boolean</code>","text":"<p>Enable/disable extracting comments.</p> <p>webpack.config.js</p> <pre><code>    module.exports = {\n      optimization: {\n        minimize: true,\n        minimizer: [\n          new TerserPlugin({\n            extractComments: true,\n          }),\n        ],\n      },\n    };\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#string","title":"<code>string</code>","text":"<p>Extract <code>all</code> or <code>some</code> (use <code>/^\\**!|@preserve|@license|@cc_on/i</code> RegExp) comments.</p> <p>webpack.config.js</p> <pre><code>    module.exports = {\n      optimization: {\n        minimize: true,\n        minimizer: [\n          new TerserPlugin({\n            extractComments: \"all\",\n          }),\n        ],\n      },\n    };\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#regexp","title":"<code>RegExp</code>","text":"<p>All comments that match the given expression will be extracted to the separate file.</p> <p>webpack.config.js</p> <pre><code>    module.exports = {\n      optimization: {\n        minimize: true,\n        minimizer: [\n          new TerserPlugin({\n            extractComments: /@extract/i,\n          }),\n        ],\n      },\n    };\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#function","title":"<code>function</code>","text":"<p>All comments that match the given expression will be extracted to the separate file.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  optimization: {\n    minimize: true,\n    minimizer: [\n      new TerserPlugin({\n        extractComments: (astNode, comment) =&gt; {\n          if (/@extract/i.test(comment.value)) {\n            return true;\n          }\n\n          return false;\n        },\n      }),\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#object","title":"<code>object</code>","text":"<p>Allow to customize condition for extract comments, specify extracted file name and banner.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  optimization: {\n    minimize: true,\n    minimizer: [\n      new TerserPlugin({\n        extractComments: {\n          condition: /^\\**!|@preserve|@license|@cc_on/i,\n          filename: (fileData) =&gt; {\n            // The \"fileData\" argument contains object with \"filename\", \"basename\", \"query\" and \"hash\"\n            return `${fileData.filename}.LICENSE.txt${fileData.query}`;\n          },\n          banner: (licenseFile) =&gt; {\n            return `License information can be found in ${licenseFile}`;\n          },\n        },\n      }),\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#condition","title":"<code>condition</code>","text":"<p>Type:</p> <p><pre><code>    type condition =\n      | boolean\n      | \"all\"\n      | \"some\"\n      | RegExp\n      | ((\n          astNode: any,\n          comment: {\n            value: string;\n            type: \"comment1\" | \"comment2\" | \"comment3\" | \"comment4\";\n            pos: number;\n            line: number;\n            col: number;\n          }\n        ) =&gt; boolean)\n      | undefined;\n</code></pre> Condition what comments you need extract.</p> <p>webpack.config.js</p> <pre><code>    module.exports = {\n      optimization: {\n        minimize: true,\n        minimizer: [\n          new TerserPlugin({\n            extractComments: {\n              condition: \"some\",\n              filename: (fileData) =&gt; {\n                // The \"fileData\" argument contains object with \"filename\", \"basename\", \"query\" and \"hash\"\n                return `${fileData.filename}.LICENSE.txt${fileData.query}`;\n              },\n              banner: (licenseFile) =&gt; {\n                return `License information can be found in ${licenseFile}`;\n              },\n            },\n          }),\n        ],\n      },\n    };\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#filename","title":"<code>filename</code>","text":"<p>Type:</p> <p><pre><code>    type filename = string | ((fileData: any) =&gt; string) | undefined;\n</code></pre> Default: <code>[file].LICENSE.txt[query]</code></p> <p>Available placeholders: <code>[file]</code>, <code>[query]</code> and <code>[filebase]</code> (<code>[base]</code> for webpack 5).</p> <p>The file where the extracted comments will be stored. Default is to append the suffix <code>.LICENSE.txt</code> to the original filename.</p> <p>Warning</p> <p>We highly recommend using the <code>txt</code> extension. Using <code>js</code>/<code>cjs</code>/<code>mjs</code> extensions may conflict with existing assets which leads to broken code.</p> <p>webpack.config.js</p> <pre><code>    module.exports = {\n      optimization: {\n        minimize: true,\n        minimizer: [\n          new TerserPlugin({\n            extractComments: {\n              condition: /^\\**!|@preserve|@license|@cc_on/i,\n              filename: \"extracted-comments.js\",\n              banner: (licenseFile) =&gt; {\n                return `License information can be found in ${licenseFile}`;\n              },\n            },\n          }),\n        ],\n      },\n    };\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#banner","title":"<code>banner</code>","text":"<p>Type:</p> <p><pre><code>    type banner = string | boolean | ((commentsFile: string) =&gt; string) | undefined;\n</code></pre> Default: <code>/*! For license information please see ${commentsFile} */</code></p> <p>The banner text that points to the extracted file and will be added on top of the original file. Can be <code>false</code> (no banner), a <code>String</code>, or a <code>Function&lt;(string) -&gt; String&gt;</code> that will be called with the filename where extracted comments have been stored. Will be wrapped into comment.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  optimization: {\n    minimize: true,\n    minimizer: [\n      new TerserPlugin({\n        extractComments: {\n          condition: true,\n          filename: (fileData) =&gt; {\n            // The \"fileData\" argument contains object with \"filename\", \"basename\", \"query\" and \"hash\"\n            return `${fileData.filename}.LICENSE.txt${fileData.query}`;\n          },\n          banner: (commentsFile) =&gt; {\n            return `My custom banner about license information ${commentsFile}`;\n          },\n        },\n      }),\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#examples","title":"Examples","text":""},{"location":"new-third-part-lib/terser-webpack-plugin/#preserve-comments","title":"Preserve Comments","text":"<p>Extract all legal comments (i.e. <code>/^\\**!|@preserve|@license|@cc_on/i</code>) and preserve <code>/@license/i</code> comments.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  optimization: {\n    minimize: true,\n    minimizer: [\n      new TerserPlugin({\n        terserOptions: {\n          format: {\n            comments: /@license/i,\n          },\n        },\n        extractComments: true,\n      }),\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#remove-comments","title":"Remove Comments","text":"<p>If you avoid building with comments, use this config:</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  optimization: {\n    minimize: true,\n    minimizer: [\n      new TerserPlugin({\n        terserOptions: {\n          format: {\n            comments: false,\n          },\n        },\n        extractComments: false,\n      }),\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#uglify-js","title":"<code>uglify-js</code>","text":"<p><code>UglifyJS</code> is a JavaScript parser, minifier, compressor and beautifier toolkit.</p> <p>webpack.config.js</p> <pre><code>    module.exports = {\n      optimization: {\n        minimize: true,\n        minimizer: [\n          new TerserPlugin({\n            minify: TerserPlugin.uglifyJsMinify,\n            // `terserOptions` options will be passed to `uglify-js`\n            // Link to options - https://github.com/mishoo/UglifyJS#minify-options\n            terserOptions: {},\n          }),\n        ],\n      },\n    };\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#swc","title":"<code>swc</code>","text":"<p><code>swc</code> is a super-fast compiler written in rust; producing widely-supported javascript from modern standards and typescript.</p> <p>Warning</p> <p>the <code>extractComments</code> option is not supported and all comments will be removed by default, it will be fixed in future</p> <p>webpack.config.js</p> <pre><code>    module.exports = {\n      optimization: {\n        minimize: true,\n        minimizer: [\n          new TerserPlugin({\n            minify: TerserPlugin.swcMinify,\n            // `terserOptions` options will be passed to `swc` (`@swc/core`)\n            // Link to options - https://swc.rs/docs/config-js-minify\n            terserOptions: {},\n          }),\n        ],\n      },\n    };\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#esbuild","title":"<code>esbuild</code>","text":"<p><code>esbuild</code> is an extremely fast JavaScript bundler and minifier.</p> <p>Warning</p> <p>the <code>extractComments</code> option is not supported and all legal comments (i.e. copyright, licenses and etc) will be preserved</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  optimization: {\n    minimize: true,\n    minimizer: [\n      new TerserPlugin({\n        minify: TerserPlugin.esbuildMinify,\n        // `terserOptions` options will be passed to `esbuild`\n        // Link to options - https://esbuild.github.io/api/#minify\n        // Note: the `minify` options is true by default (and override other `minify*` options), so if you want to disable the `minifyIdentifiers` option (or other `minify*` options) please use:\n        // terserOptions: {\n        //   minify: false,\n        //   minifyWhitespace: true,\n        //   minifyIdentifiers: false,\n        //   minifySyntax: true,\n        // },\n        terserOptions: {},\n      }),\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#custom-minify-function","title":"Custom Minify Function","text":"<p>Override default minify function - use <code>uglify-js</code> for minification.</p> <p>webpack.config.js</p> <pre><code>module.exports = {\n  optimization: {\n    minimize: true,\n    minimizer: [\n      new TerserPlugin({\n        minify: (file, sourceMap) =&gt; {\n          // https://github.com/mishoo/UglifyJS2#minify-options\n          const uglifyJsOptions = {\n            /* your `uglify-js` package options */\n          };\n\n          if (sourceMap) {\n            uglifyJsOptions.sourceMap = {\n              content: sourceMap,\n            };\n          }\n\n          return require(\"uglify-js\").minify(file, uglifyJsOptions);\n        },\n      }),\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/terser-webpack-plugin/#typescript","title":"Typescript","text":"<p>With default terser minify function:</p> <p><pre><code>module.exports = {\n  optimization: {\n    minimize: true,\n    minimizer: [\n      new TerserPlugin({\n        terserOptions: {\n          compress: true,\n        },\n      }),\n    ],\n  },\n};\n</code></pre> With built-in minify functions:</p> <pre><code>import type { JsMinifyOptions as SwcOptions } from \"@swc/core\";\nimport type { MinifyOptions as UglifyJSOptions } from \"uglify-js\";\nimport type { TransformOptions as EsbuildOptions } from \"esbuild\";\nimport type { MinifyOptions as TerserOptions } from \"terser\";\n\nmodule.exports = {\n  optimization: {\n    minimize: true,\n    minimizer: [\n      new TerserPlugin&lt;SwcOptions&gt;({\n        minify: TerserPlugin.swcMinify,\n        terserOptions: {\n          // `swc` options\n        },\n      }),\n      new TerserPlugin&lt;UglifyJSOptions&gt;({\n        minify: TerserPlugin.uglifyJsMinify,\n        terserOptions: {\n          // `uglif-js` options\n        },\n      }),\n      new TerserPlugin&lt;EsbuildOptions&gt;({\n        minify: TerserPlugin.esbuildMinify,\n        terserOptions: {\n          // `esbuild` options\n        },\n      }),\n\n      // Alternative usage:\n      new TerserPlugin&lt;TerserOptions&gt;({\n        minify: TerserPlugin.terserMinify,\n        terserOptions: {\n          // `terser` options\n        },\n      }),\n    ],\n  },\n};\n</code></pre>"},{"location":"new-third-part-lib/thingsboard-ui-vue3/","title":"thingsboard-ui-vue3","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1633  \u9605\u8bfb4\u5206\u949f</p> <p>https://github.com/oliver225/thingsboard-ui-vue3</p> <p>http://thingsboard.yantsing.com/</p> <p>\u4ed3\u5e93\u540d\u79f0\uff1aoliver225/thingsboard-ui-vue3 \u622a\u6b62\u53d1\u7a3f\u661f\u6570: 144 (\u4eca\u65e5\u65b0\u589e:5) \u4ed3\u5e93\u8bed\u8a00: Vue \u4ed3\u5e93\u5f00\u6e90\u534f\u8bae\uff1aApache License 2.0</p> <p>\u200b</p>"},{"location":"new-third-part-lib/thingsboard-ui-vue3/#_1","title":"\u5f15\u8a00","text":"<p>\u672c\u9879\u76ee\u63d0\u4f9b\u4e86\u57fa\u4e8e Vue3 \u5f00\u53d1\u7684 ThingsBoard \u524d\u7aef\uff0c\u65e8\u5728\u4e3a\u7528\u6237\u63d0\u4f9b\u66f4\u597d\u7684\u4ea4\u4e92\u4f53\u9a8c\u548c\u5f00\u53d1\u4fbf\u5229\u3002</p>"},{"location":"new-third-part-lib/thingsboard-ui-vue3/#_2","title":"\u9879\u76ee\u4f5c\u7528","text":"<p>\u672c\u9879\u76ee\u91c7\u7528\u4e86 Vue3\u3001AntDesignVue\u3001JeeSite Vue3 \u7b49\u6280\u672f\uff0c\u63d0\u4f9b\u4e86\u54cd\u5e94\u5f0f\u5e03\u5c40\u3001\u4e30\u5bcc\u7684\u7ec4\u4ef6\u5e93\u548c\u5b8c\u5584\u7684\u4ee3\u7801\u7ed3\u6784\u3002</p>"},{"location":"new-third-part-lib/thingsboard-ui-vue3/#_3","title":"\u4ed3\u5e93\u63cf\u8ff0","text":"<p>\u672c\u4ed3\u5e93\u5305\u542b\u4e86\u5b8c\u6574\u7684\u524d\u7aef\u4ee3\u7801\u3001\u914d\u7f6e\u548c\u6587\u6863\uff0c\u53ef\u4f9b\u7528\u6237\u8f7b\u677e\u90e8\u7f72\u548c\u4f7f\u7528\u3002</p>"},{"location":"new-third-part-lib/thingsboard-ui-vue3/#_4","title":"\u6848\u4f8b","text":"<ul> <li>\u5df2\u90e8\u7f72\u4e8e Thingsbox\uff0c\u63d0\u4f9b\u5b8c\u6574\u7684 ThingsBoard \u524d\u7aef\u529f\u80fd\u3002</li> </ul>"},{"location":"new-third-part-lib/thingsboard-ui-vue3/#_5","title":"\u5ba2\u89c2\u8bc4\u6d4b\u6216\u5206\u6790","text":"<p>\u4e0e\u57fa\u4e8e Angular \u7684 ThingsBoard \u524d\u7aef\u76f8\u6bd4\uff0c\u672c\u9879\u76ee\u5177\u6709\u4ee5\u4e0b\u4f18\u52bf\uff1a</p> <ul> <li> <p>\u57fa\u4e8e Vue3\uff0c\u63d0\u4f9b\u66f4\u6d41\u7545\u7684\u7528\u6237\u4f53\u9a8c\u548c\u66f4\u5feb\u7684\u5f00\u53d1\u901f\u5ea6\u3002</p> </li> <li> <p>\u91c7\u7528 AntDesignVue\uff0c\u63d0\u4f9b\u7f8e\u89c2\u548c\u6613\u7528\u7684 UI \u7ec4\u4ef6\u3002</p> </li> <li> <p>\u5f00\u653e\u89c4\u5219\u94fe\u4ee3\u7801\uff0c\u65b9\u4fbf\u7528\u6237\u81ea\u5b9a\u4e49\u548c\u6269\u5c55\u3002</p> </li> </ul>"},{"location":"new-third-part-lib/thingsboard-ui-vue3/#_6","title":"\u4f7f\u7528\u5efa\u8bae","text":"<ol> <li> <p>\u514b\u9686\u6216\u4e0b\u8f7d\u4ed3\u5e93\u4ee3\u7801\u3002</p> </li> <li> <p>\u6253\u5f00 .env.development \u6587\u4ef6\uff0c\u4fee\u6539\u540e\u53f0\u63a5\u53e3\u3002</p> </li> <li> <p>\u8fd0\u884c yarn serve \u4ee5\u542f\u52a8\u5f00\u53d1\u73af\u5883\u3002</p> </li> <li> <p>\u4fee\u6539\u4ee3\u7801\u548c\u81ea\u5b9a\u4e49\u914d\u7f6e\u4ee5\u6ee1\u8db3\u60a8\u7684\u9700\u6c42\u3002</p> </li> </ol>"},{"location":"new-third-part-lib/thingsboard-ui-vue3/#_7","title":"\u7ed3\u8bba","text":"<p>\u672c\u9879\u76ee\u4e3a ThingsBoard \u63d0\u4f9b\u4e86\u73b0\u4ee3\u5316\u4e14\u9ad8\u6548\u7684\u524d\u7aef\u89e3\u51b3\u65b9\u6848\uff0c\u5e2e\u52a9\u7528\u6237\u8f7b\u677e\u6784\u5efa\u5b9a\u5236\u5316\u4eea\u8868\u677f\u3001\u8bbe\u5907\u7ba1\u7406\u548c\u89c4\u5219\u5f15\u64ce\u7b49\u529f\u80fd\u3002</p>"},{"location":"new-third-part-lib/throttle-lodash/","title":"throttle","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1401  \u9605\u8bfb3\u5206\u949f</p> <p>_.throttle(func, [wait=0], [options])</p> <p>\u521b\u5efa\u4e00\u4e2a\u8282\u6d41\u51fd\u6570\uff0c\u5728 <code>wait</code> \u79d2\u5185\u6700\u591a\u6267\u884c <code>func</code> \u4e00\u6b21\u7684\u51fd\u6570\u3002 \u8be5\u51fd\u6570\u63d0\u4f9b\u4e00\u4e2a cancel \u65b9\u6cd5\u53d6\u6d88\u5ef6\u8fdf\u7684\u51fd\u6570\u8c03\u7528\u4ee5\u53ca flush \u65b9\u6cd5\u7acb\u5373\u8c03\u7528\u3002 \u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a options \u5bf9\u8c61\u51b3\u5b9a\u5982\u4f55\u8c03\u7528 func \u65b9\u6cd5\uff0c options.leading \u4e0e|\u6216 options.trailing \u51b3\u5b9a <code>wait</code> \u524d\u540e\u5982\u4f55\u89e6\u53d1\u3002 func \u4f1a\u4f20\u5165\u6700\u540e\u4e00\u6b21\u4f20\u5165\u7684\u53c2\u6570\u7ed9\u8fd9\u4e2a\u51fd\u6570\u3002 \u968f\u540e\u8c03\u7528\u7684\u51fd\u6570\u8fd4\u56de\u662f\u6700\u540e\u4e00\u6b21 func \u8c03\u7528\u7684\u7ed3\u679c\u3002</p> <p>\u6ce8\u610f: \u5982\u679c leading \u548c trailing \u90fd\u8bbe\u5b9a\u4e3a true\u3002 \u5219 func \u5141\u8bb8 trailing \u65b9\u5f0f\u8c03\u7528\u7684\u6761\u4ef6\u4e3a: \u5728 wait \u671f\u95f4\u591a\u6b21\u8c03\u7528\u3002</p>"},{"location":"new-third-part-lib/throttle-lodash/#_1","title":"\u53c2\u6570","text":"<ol> <li>func</li> </ol> <p>(Function)</p> <p>\u8981\u8282\u6d41\u7684\u51fd\u6570</p> <ol> <li>[wait=0]</li> </ol> <p>(number)</p> <p>\u9700\u8981\u8282\u6d41\u7684\u6beb\u79d2</p> <ol> <li>[options]</li> </ol> <p>(Object)</p> <p>\u9009\u9879\u5bf9\u8c61</p> <ol> <li>[options.leading=true]</li> </ol> <p>(boolean)</p> <p>\u6307\u5b9a\u8c03\u7528\u5728\u8282\u6d41\u5f00\u59cb\u524d</p> <ol> <li>[options.trailing=true]</li> </ol> <p>(boolean)</p> <p>\u6307\u5b9a\u8c03\u7528\u5728\u8282\u6d41\u7ed3\u675f\u540e</p>"},{"location":"new-third-part-lib/throttle-lodash/#function","title":"\u8fd4\u56de\u503c (Function)","text":"<p>\u8fd4\u56de\u8282\u6d41\u7684\u51fd\u6570</p>"},{"location":"new-third-part-lib/throttle-lodash/#_2","title":"\u793a\u4f8b","text":"<pre><code>// \u907f\u514d\u5728\u6eda\u52a8\u65f6\u8fc7\u5206\u7684\u66f4\u65b0\u5b9a\u4f4d\njQuery(window).on('scroll', _.throttle(updatePosition, 100));\n\n// \u70b9\u51fb\u540e\u5c31\u8c03\u7528 `renewToken`\uff0c\u4f465\u5206\u949f\u5185\u8d85\u8fc71\u6b21\u3002\nvar throttled = _.throttle(renewToken, 300000, {\n  'trailing': false\n});\n\njQuery(element).on('click', throttled);\n\n// \u53d6\u6d88\u4e00\u4e2a trailing \u7684\u8282\u6d41\u8c03\u7528\njQuery(window).on('popstate', throttled.cancel);\n</code></pre>"},{"location":"new-third-part-lib/tiny-vue/","title":"tiny-vue","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1515  \u9605\u8bfb4\u5206\u949f</p>"},{"location":"new-third-part-lib/tiny-vue/#tinyvue","title":"TinyVue","text":"<p>https://opentiny.design/tiny-vue/zh-CN/smb-theme/overview</p> <p>https://github.com/opentiny/tiny-vue</p> <p>https://www.npmjs.com/package/@opentiny/vue</p> <p>TinyVue \u662f\u4e00\u5957\u8de8\u7aef\u3001\u8de8\u6846\u67b6\u7684\u4f01\u4e1a\u7ea7 UI \u7ec4\u4ef6\u5e93\uff0c\u57fa\u4e8e Renderless \u65e0\u6e32\u67d3\u7ec4\u4ef6\u8bbe\u8ba1\u6784\u67b6\uff0c\u5b9e\u73b0\u4e86\u4e00\u5957\u4ee3\u7801\u540c\u65f6\u652f\u6301 Vue 2 \u548c Vue 3\uff0c\u652f\u6301 PC \u7aef\u548c\u79fb\u52a8\u7aef\uff0c\u5305\u542b 84 \u4e2a\u529f\u80fd\u4e30\u5bcc\u7684\u7ec4\u4ef6\uff0c\u5185\u7f6e 4 \u5957\u7cbe\u7f8e\u4e3b\u9898\u3002</p> <p>TinyVue \u6700\u5927\u7684\u7279\u70b9\u5c31\u662f\u57fa\u4e8e Renderless \u65e0\u6e32\u67d3\u7ec4\u4ef6\u8bbe\u8ba1\u67b6\u6784\u5b9e\u73b0\u4e86\u8de8\u7aef\u8de8\u6846\u67b6\uff0c\u8ba9\u5404\u6846\u67b6\u7ec4\u4ef6\u5e93\u5171\u7528\u540c\u4e00\u5957\u7ec4\u4ef6\u903b\u8f91\uff0c\u8ba9\u7ec4\u4ef6\u5e93\u5728\u5404\u6846\u67b6\u4e4b\u95f4\u5e73\u6ed1\u8fc1\u79fb\u3002</p> <p>\u77ed\u671f\u6765\u770b\uff0c\u4e00\u4e2a\u5177\u4f53\u7684\u4e1a\u52a1\u4e00\u822c\u5df2\u7ecf\u9009\u5b9a\u4e86\u524d\u7aef\u6846\u67b6\uff0c\u4e0d\u5bb9\u6613\u5728\u6846\u67b6\u4e4b\u95f4\u8fc1\u79fb\uff1b</p> <p>\u4f46\u4ece\u957f\u8fdc\u6765\u770b\uff0c\u6280\u672f\u4f1a\u6f14\u8fdb\uff0c\u524d\u7aef\u6846\u67b6\u4f1a\u53d8\u8fc1\uff0c\u6bd4\u5982\u65e9\u671f\u7684 jQuery \u53d8\u8fc1\u5230\u73b0\u5728\u7684\u4e09\u5927\u6846\u67b6\uff0c\u672a\u6765\u53ef\u80fd\u4e09\u5927\u6846\u67b6\u4e0d\u6d41\u884c\u4e86\uff0c\u5927\u5bb6\u90fd\u4f7f\u7528\u65b0\u6846\u67b6\uff0c\u6211\u4eec\u4e5f\u5e0c\u671b\u80fd\u8ba9\u4f7f\u7528 TinyVue \u7684\u4e1a\u52a1\u80fd\u591f\u5feb\u901f\u8fc1\u79fb\u5230\u65b0\u6846\u67b6\uff0c\u771f\u6b63\u5b9e\u73b0\u9762\u5411\u672a\u6765\u3002</p> \u6307\u6807 \u6570\u503c Star 1.1k NPM \u5468\u4e0b\u8f7d 1,548 Issue 85+204 PR 11+759 \u8d21\u732e\u8005 60 \u7ec4\u4ef6\u6570 84"},{"location":"new-third-part-lib/ts-jest/","title":"ts-jest","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1417  \u9605\u8bfb3\u5206\u949f</p> <p>\u7b2c\u4e09\u65b9\u5e93 ts-jest \u6d4b\u8bd5 TS \u9879\u76ee</p> <p>\u5b98\u65b9\u94fe\u63a5\uff1ahttps://www.npmjs.com/package/ts-jest</p> <p>\u5468\u4e0b\u8f7d\u91cf1000W\uff0c\u53ef\u4ee5\u653e\u5fc3\u4f7f\u7528</p> <p><code>ts-jest</code> is a Typescript preprocessor for Jest pre-processor. You\u2019ll need both Jest and TypeScript installed inside your project.</p> <p>Tip: If you get an error with the following <code>npm</code> commands such as <code>npx: command not found</code>, you can replace <code>npx XXX</code> with <code>node node_modules/.bin/XXX</code> from the root of your project.</p>"},{"location":"new-third-part-lib/ts-jest/#dependencies","title":"Dependencies","text":"<p>You can install <code>ts-jest</code> and dependencies all at once with the following commands.</p> <p>Using <code>npm</code>:</p> <pre><code>npm install --save-dev jest typescript ts-jest\n</code></pre>"},{"location":"new-third-part-lib/ts-jest/#jest-config-file","title":"Jest config file","text":""},{"location":"new-third-part-lib/ts-jest/#creating","title":"Creating","text":"<p>By default Jest can run without any config files, but it will not compile <code>.ts</code> files. To make it transpile TypeScript with <code>ts-jest</code>, we will need to create a configuration file.</p> <p><code>ts-jest</code> can create the configuration file for you automatically:</p> <p>Using <code>npm</code>:</p> <pre><code>npx ts-jest config:init\n</code></pre> <p>This will create a basic Jest configuration file which will make Jest know about your <code>.ts</code> files and handle them correctly.</p> <p>You can also use the <code>jest --init</code> command (prefixed with either <code>npx</code> or <code>yarn</code> depending on what you\u2019re using) to have more options related to Jest. However, answer <code>no</code> to the Jest question about whether or not to enable Typescript. Instead, add the line: <code>preset: \"ts-jest\"</code> to the <code>jest.config.js</code> file afterwards.</p>"},{"location":"new-third-part-lib/ts-pnp/","title":"ts-pnp","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3892  \u9605\u8bfb8\u5206\u949f</p>"},{"location":"new-third-part-lib/ts-pnp/#ts-pnp","title":"ts-pnp","text":""},{"location":"new-third-part-lib/ts-pnp/#version","title":"version","text":"<p>1.2.0\u00a0 </p>"},{"location":"new-third-part-lib/ts-pnp/#downloads","title":"downloads","text":"<p>4,226,427 </p>"},{"location":"new-third-part-lib/ts-pnp/#repository","title":"repository","text":"<p>github.com/arcanis/ts-pnp </p>"},{"location":"new-third-part-lib/ts-pnp/#homepage","title":"homepage","text":"<p>github.com/arcanis/ts-pnp </p>"},{"location":"new-third-part-lib/ts-pnp/#httpwwwtypescriptlangorgassetsimagesiconsapple-touch-","title":"![](http://www.typescriptlang.org/assets/images/icons/apple-touch-","text":"<p>icon-180x180.png) Plug'n'Play resolver for TypeScript</p> <p> </p> <p>This plugin is also available for Webpack (pnp-webpack- plugin), Jest (jest-pnp- resolver), and Rollup (rollup- plugin-pnp-resolve)</p>"},{"location":"new-third-part-lib/ts-pnp/#installation","title":"Installation","text":"<pre><code>yarn add -D ts-pnp\n</code></pre>"},{"location":"new-third-part-lib/ts-pnp/#usage","title":"Usage","text":"<p>Note that<code>ts-pnp</code> is a low-level package - you shouldn't have to use it unless you're writing a TS compiler host. If you just want to write TypeScript and have it Just Work\u2122, take a look at <code>pnp-webpack- plugin</code> instead.</p> <p>This package exports a function that can be used to implement the <code>resolveModuleName</code> hook from <code>CompilerHost</code>. It mimics the interface from the one you'd typically use and, as all other PnP plugins, works just fine whether your application is actually running under PnP or not.</p> <pre><code>import\u00a0{resolveModuleName}\u00a0from\u00a0'ts-pnp';\n\nimport\u00a0*\u00a0as\u00a0ts\u00a0from\u00a0'typescript';\n\n\n\nfunction\u00a0createCompilerHost(\n\n\u00a0\u00a0compilerOptions:\u00a0ts.CompilerOptions,\n\n):\u00a0ts.CompilerHost\u00a0{\n\n\u00a0\u00a0const\u00a0compilerHost\u00a0=\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0resolveModuleNames,\n\n\u00a0\u00a0\u00a0\u00a0resolveTypeReferenceDirectives,\n\n\u00a0\u00a0};\n\n\n\n\u00a0\u00a0return\u00a0compilerHost;\n\n\n\n\u00a0\u00a0function\u00a0resolveModuleNames(moduleNames:\u00a0string[],\u00a0containingFile:\u00a0string)\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0return\u00a0moduleNames.map(moduleName\u00a0=&gt;\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0resolveModuleName(moduleName,\u00a0containingFile,\u00a0compilerOptions,\u00a0compilerHost,\u00a0ts.resolveModuleName).resolvedModule;\n\n\u00a0\u00a0\u00a0\u00a0});\n\n\u00a0\u00a0}\n\n\n\n\u00a0\u00a0function\u00a0resolveTypeReferenceDirectives(typeDirectiveNames:\u00a0string[],\u00a0containingFile:\u00a0string)\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0return\u00a0typeDirectiveNames.map(typeDirectiveName\u00a0=&gt;\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0resolveModuleName(typeDirectiveName,\u00a0containingFile,\u00a0compilerOptions,\u00a0compilerHost,\u00a0ts.resolveTypeReferenceDirective).resolvedTypeReferenceDirective;\n\n\u00a0\u00a0\u00a0\u00a0});\n\n\u00a0\u00a0}\n\n}\n</code></pre>"},{"location":"new-third-part-lib/ts-pnp/#license-mit","title":"License (MIT)","text":"<p>Copyright \u00a9 2016 Ma\u00ebl Nison</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"new-third-part-lib/tui-image-editor/","title":"tui-image-editor","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1244  \u9605\u8bfb3\u5206\u949f</p> <p>tui.image-editor 6K stars</p> <p>\u4e00\u4e2a\u529f\u80fd\u5b8c\u6574\u7684\u56fe\u7247\u7f16\u8f91\u5de5\u5177</p> <p>Full-featured photo image editor using canvas. It is really easy, and it comes with great filters.</p> <p>https://github.com/nhn/tui.image-editor</p> <p>https://nhn.github.io/tui.image-editor/latest/ImageEditor</p> <p>https://blog.csdn.net/black_cat7/article/details/120886794</p> <ul> <li> <p>toast-ui.image-editor\u00a0- Plain JavaScript component implemented by\u00a0NHN Cloud.</p> </li> <li> <p>toast-ui.vue-image-editor\u00a0-\u00a0Vue\u00a0wrapper component is powered by\u00a0NHN Cloud.</p> </li> <li> <p>toast-ui.react-image-editor\u00a0-\u00a0React\u00a0wrapper component is powered by\u00a0NHN Cloud.</p> </li> </ul>"},{"location":"new-third-part-lib/uglyJS/","title":"uglyJS","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 10184  \u9605\u8bfb21\u5206\u949f</p> <p>\u529f\u80fd\uff1a\u4e11\u5316 JS \u6587\u4ef6\uff0c\u6709\u6548\u51cf\u5c0f js \u6587\u4ef6\u5927\u5c0f\uff1b</p>"},{"location":"new-third-part-lib/uglyJS/#_1","title":"\u57fa\u672c\u4f7f\u7528","text":""},{"location":"new-third-part-lib/uglyJS/#0","title":"0\u3001\u73af\u5883\u914d\u7f6e","text":"<p>\u5982\u679c\u6709 es6 \u4ee3\u7801\uff0c\u5047\u8bbe\u5df2\u7ecf\u5b89\u88c5\u4e86 babel \u5e76\u53ef\u4ee5\u6210\u529f\u5c06ES6\u8f6c\u6362\u6210ES5\u4ee3\u7801\u3002(\u6ca1\u6709\u4f7f\u7528webpack\u8fdb\u884c\u6253\u5305)</p>"},{"location":"new-third-part-lib/uglyJS/#1","title":"1\u3001\u5b89\u88c5\u5e93","text":"<pre><code>npm install uglify-js --save-dev\n</code></pre>"},{"location":"new-third-part-lib/uglyJS/#2","title":"2\u3001\u4fee\u6539\u914d\u7f6e","text":"<p>package.json \u6539\u6210\u4e0b\u9762\u7684\u914d\u7f6e</p> <pre><code>\"scripts\": {\n  \"build\": \"./node_modules/.bin/babel src --out-dir dist\",\n  \"ugly\": \"uglifyjs dist/**.js --output lib/leetcode.min.js --compress --mangle\",\n  \"prepublish\": \"npm run build &amp;&amp; npm run ugly\"\n},\n</code></pre> <p>\u5e38\u7528\u914d\u7f6e\u8bf4\u660e</p> <p>--output \u8f93\u51fa\u76ee\u5f55\uff08\u9ed8\u8ba4\u4e3a\u7a7a\uff0c\u76f4\u63a5\u8f93\u51fa\u5230\u7ec8\u7aef\uff09</p> <p>--compress \u538b\u7f29\u6587\u4ef6</p> <p>--mangle \u538b\u7f29\u540d\u79f0</p>"},{"location":"new-third-part-lib/uglyJS/#3","title":"3\u3001\u4e11\u5316","text":"<p>\u8fd0\u884c npm run prepublish \u5373\u53ef\u7f16\u8f91\u6210ES5\uff08dist\uff09\u548c\u4e11\u5316\uff08lib\uff09leetcode.min.js\uff08\u8be6\u7ec6\u6b65\u9aa4\u5982\u4e0b\uff09</p> <p>3.1\u4f7f\u7528 babel \u7f16\u8bd1 src \u4e0b\u9762\u7684\u5168\u90e8\u6587\u4ef6\uff0c\u5e76\u653e\u5728 dist \u76ee\u5f55\u4e0b\u9762</p> <p>3.3 \u4f7f\u7528 uglyfyjs \u5c06 dist \u76ee\u5f55\u4e0b\u9762\u7684\u4e11\u5316\u6210 lib/leetcode.min.js \u6587\u4ef6</p>"},{"location":"new-third-part-lib/uglyJS/#4","title":"4\u3001\u4f18\u7f3a\u70b9","text":"<p>\u9002\u5408\u573a\u5408\uff1a</p> <p>\u8f93\u51fa\u5355\u4e00\u6587\u4ef6\uff1b\u538b\u7f29\u4e11\u5316\u9002\u5e94ES5\uff08ES6\u9996\u5148\u4f7f\u7528babel\u7f16\u8bd1\u540e\u624d\u80fd\u4f7f\u7528\uff09</p> <p>\u4e0d\u9002\u5e94\u573a\u5408\uff1a</p> <p>\u5982\u679c src \u4e0b\u9762\u6709\u591a\u4e2a\u6587\u4ef6\uff0c\u90a3\u4e48\u7ed3\u679c\u53ea\u4f1a\u538b\u7f29\u6210\u4e00\u4e2a\u6587\u4ef6\uff08\u5148\u540e\u6b21\u5e8f\u4e0d\u786e\u5b9a\uff09\uff1b</p> <p>\u6240\u4ee5\u8fd9\u79cd\u65b9\u6cd5\u4e0d\u4f7f\u7528\u591a\u6a21\u5757\u591a\u51fa\u53e3\u538b\u7f29\uff08\u4f7f\u7528webpack\u5904\u7406\u591a\u6a21\u5757\u538b\u7f29\uff09</p> <p>\u4e0b\u9762\u662f\u5b98\u7f51\u4e2d\u8be6\u7ec6\u7684\u8bf4\u660e</p> <pre><code>    -p, --parse &lt;options&gt;       Specify parser options:\n                                `acorn`  Use Acorn for parsing.\n                                `bare_returns`  Allow return outside of functions.\n                                                Useful when minifying CommonJS\n                                                modules and Userscripts that may\n                                                be anonymous function wrapped (IIFE)\n                                                by the .user.js engine `caller`.\n                                `expression`  Parse a single expression, rather than\n                                              a program (for parsing JSON).\n                                `spidermonkey`  Assume input files are SpiderMonkey\n                                                AST format (as JSON).\n    -c, --compress [options]    Enable compressor/specify compressor options:\n                                `pure_funcs`  List of functions that can be safely\n                                              removed when their return values are\n                                              not used.\n    -m, --mangle [options]      Mangle names/specify mangler options:\n                                `reserved`  List of names that should not be mangled.\n    --mangle-props [options]    Mangle properties/specify mangler options:\n                                `builtins`  Mangle property names that overlaps\n                                            with standard JavaScript globals.\n                                `debug`  Add debug prefix and suffix.\n                                `domprops`  Mangle property names that overlaps\n                                            with DOM properties.\n                                `keep_quoted`  Only mangle unquoted properties.\n                                `regex`  Only mangle matched property names.\n                                `reserved`  List of names that should not be mangled.\n    -b, --beautify [options]    Beautify output/specify output options:\n                                `beautify`  Enabled with `--beautify` by default.\n                                `preamble`  Preamble to prepend to the output. You\n                                            can use this to insert a comment, for\n                                            example for licensing information.\n                                            This will not be parsed, but the source\n                                            map will adjust for its presence.\n                                `quote_style`  Quote style:\n                                               0 - auto\n                                               1 - single\n                                               2 - double\n                                               3 - original\n                                `wrap_iife`  Wrap IIFEs in parenthesis. Note: you may\n                                             want to disable `negate_iife` under\n                                             compressor options.\n    -o, --output &lt;file&gt;         Output file path (default STDOUT). Specify `ast` or\n                                `spidermonkey` to write UglifyJS or SpiderMonkey AST\n                                as JSON to STDOUT respectively.\n    --comments [filter]         Preserve copyright comments in the output. By\n                                default this works like Google Closure, keeping\n                                JSDoc-style comments that contain \"@license\" or\n                                \"@preserve\". You can optionally pass one of the\n                                following arguments to this flag:\n                                - \"all\" to keep all comments\n                                - a valid JS RegExp like `/foo/` or `/^!/` to\n                                keep only matching comments.\n                                Note that currently not *all* comments can be\n                                kept when compression is on, because of dead\n                                code removal or cascading statements into\n                                sequences.\n    --config-file &lt;file&gt;        Read `minify()` options from JSON file.\n    -d, --define &lt;expr&gt;[=value] Global definitions.\n    -e, --enclose [arg[:value]] Embed everything in a big function, with configurable\n                                argument(s) &amp; value(s).\n    --keep-fnames               Do not mangle/drop function names.  Useful for\n                                code relying on Function.prototype.name.\n    --name-cache &lt;file&gt;         File to hold mangled name mappings.\n    --self                      Build UglifyJS as a library (implies --wrap UglifyJS)\n    --source-map [options]      Enable source map/specify source map options:\n                                `base`  Path to compute relative paths from input files.\n                                `content`  Input source map, useful if you're compressing\n                                           JS that was generated from some other original\n                                           code. Specify \"inline\" if the source map is\n                                           included within the sources.\n                                `filename`  Filename and/or location of the output source\n                                            (sets `file` attribute in source map).\n                                `includeSources`  Pass this flag if you want to include\n                                                  the content of source files in the\n                                                  source map as sourcesContent property.\n                                `root`  Path to the original source to be included in\n                                        the source map.\n                                `url`  If specified, path to the source map to append in\n                                       `//# sourceMappingURL`.\n    --timings                   Display operations run time on STDERR.\n    --toplevel                  Compress and/or mangle variables in top level scope.\n    --verbose                   Print diagnostic messages.\n    --warn                      Print warning messages.\n    --wrap &lt;name&gt;               Embed everything in a big function, making the\n                                \u201cexports\u201d and \u201cglobal\u201d variables available. You\n                                need to pass an argument to this option to\n                                specify the name that your module will take\n                                when included in, say, a browser.\n</code></pre>"},{"location":"new-third-part-lib/uglyJS/#_2","title":"\u53c2\u8003\u94fe\u63a5","text":"<p>\u5b98\u7f51</p> <p>http://lisperator.net/uglifyjs/</p> <p>https://github.com/mishoo/UglifyJS2</p> <p>\u5176\u4ed6\u6587\u6863</p> <p>https://www.jianshu.com/p/dd847647b7e4</p>"},{"location":"new-third-part-lib/uglyJS/#_3","title":"\u9644\u5f55","text":"<p>\u53e6\u4e00\u4e2a\u538b\u7f29\u5de5\u5177 babel-plugin-uglify\uff0cbabel \u63d2\u4ef6\u3002\u4f7f\u7528\u4eba\u6570\u4e0d\u591a\uff08\u4e09\u5e74\u6ca1\u6709\u66f4\u65b0\uff09\uff0c\u4ee3\u7801\u7b80\u5355\uff0c\u53ef\u4ee5\u53c2\u8003\u3002</p> <p>UglifyJS integration for Babel.</p> <p>It will allow you to integrate UglifyJS minifier into Babel pipeline without a need for generating code from Babel and parsing back into UglifyJS just to minify it and generate back again. You can find a bit more detailed article on this in my blog.</p>"},{"location":"new-third-part-lib/uglyJS/#_4","title":"\u5b89\u88c5","text":"<pre><code>$ npm install babel-plugin-uglify --save-dev\n</code></pre>"},{"location":"new-third-part-lib/uglyJS/#_5","title":"\u4f7f\u7528","text":"<p>Note that plugin should be always runned after any ES6 transformers (use <code>:after</code> suffix as shown below), as UglifyJS doesn't understand ES6 at all, and thus will just break if you have anything left untransformed.</p>"},{"location":"new-third-part-lib/uglyJS/#via-babelrc","title":"Via <code>.babelrc</code> (\u63a8\u8350)","text":"<p>.babelrc</p> <pre><code>{\n  \"plugins\": [\"uglify:after\"]\n}\n</code></pre>"},{"location":"new-third-part-lib/uglyJS/#cli","title":"CLI","text":"<pre><code>$ babel --plugins uglify:after script.js\n</code></pre>"},{"location":"new-third-part-lib/uglyJS/#node-api","title":"Node API","text":"<pre><code>require('babel').transform('code', {\n  plugins: ['uglify:after']\n});\n</code></pre>"},{"location":"new-third-part-lib/uglyJS/#indexjs","title":"\u6838\u5fc3\u4ee3\u7801 Index.js","text":"<pre><code>import { AST_Node, Compressor, TreeWalker } from 'uglify-js';\n\nvar compressor = Compressor();\n\nclass LocationFixer extends TreeWalker {\n    constructor(path) {\n        var filename = path.hub.file.opts.filenameRelative;\n        super(node =&gt; {\n            node.start.file = node.end.file = filename;\n        });\n    }\n}\n\nexport default ({ types: t }) =&gt; ({\n    visitor: {\n        Program(ast) {\n            // Convert to UglifyJS AST\n            var uAST = AST_Node.from_mozilla_ast(ast);\n\n            // Fix locations (Babel doesn't insert `loc.source` into nodes for some reason)\n            uAST.walk(new LocationFixer(this));\n\n            // Compress\n            uAST.figure_out_scope();\n            uAST = uAST.transform(compressor);\n\n            // Mangle names\n            uAST.figure_out_scope();\n            uAST.compute_char_frequency();\n            uAST.mangle_names();\n\n            // Convert back to ESTree AST\n            return uAST.to_mozilla_ast();\n        }\n    }\n});\n</code></pre> <p>\u5b98\u7f51\u94fe\u63a5</p> <p>https://github.com/rreverser/babel-plugin-uglify</p>"},{"location":"new-third-part-lib/url-loader/","title":"url-loader","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 13255  \u9605\u8bfb27\u5206\u949f</p>"},{"location":"new-third-part-lib/url-loader/#url-loader","title":"url-loader","text":""},{"location":"new-third-part-lib/url-loader/#version","title":"version","text":"<p>4.1.1\u00a0 </p>"},{"location":"new-third-part-lib/url-loader/#downloads","title":"downloads","text":"<p>5,561,744 </p>"},{"location":"new-third-part-lib/url-loader/#repository","title":"repository","text":"<p>github.com/webpack-contrib/url-loader </p>"},{"location":"new-third-part-lib/url-loader/#homepage","title":"homepage","text":"<p>github.com/webpack-contrib/url-loader </p> <p> </p> <p> </p>"},{"location":"new-third-part-lib/url-loader/#url-loader_1","title":"url-loader","text":"<p>A loader for webpack which transforms files into base64 URIs.</p>"},{"location":"new-third-part-lib/url-loader/#getting-started","title":"Getting Started","text":"<p>To begin, you'll need to install <code>url-loader</code>:</p> <pre><code>$\u00a0npm\u00a0install\u00a0url-loader\u00a0--save-dev\n</code></pre> <p><code>url-loader</code> works like <code>file-loader</code>, but can return a DataURL if the file is smaller than a byte limit.</p> <p>index.js</p> <pre><code>import\u00a0img\u00a0from\u00a0'./image.png';\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpg|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'url-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0limit:\u00a08192,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre> <p>And run <code>webpack</code> via your preferred method.</p>"},{"location":"new-third-part-lib/url-loader/#options","title":"Options","text":"Name Type Default Description <code>limit</code> <code>{Boolean\\|Number\\|String}</code> <code>true</code> Specifying the maximum size of a file in bytes. <code>mimetype</code> <code>{Boolean\\|String}</code> based from mime-types Sets the MIME type for the file to be transformed. <code>encoding</code> <code>{Boolean\\|String}</code> <code>base64</code> Specify the encoding which the file will be inlined with. <code>generator</code> <code>{Function}</code> <code>() =&gt; type/subtype;encoding,base64_data</code> You can create you own custom implementation for encoding data. <code>fallback</code> <code>{String}</code> <code>file-loader</code> Specifies an alternative loader to use when a target file's size exceeds the limit. <code>esModule</code> <code>{Boolean}</code> <code>true</code> Use ES modules syntax."},{"location":"new-third-part-lib/url-loader/#limit","title":"<code>limit</code>","text":"<p>Type: <code>Boolean|Number|String</code> Default: <code>undefined</code></p> <p>The limit can be specified via loader options and defaults to no limit.</p>"},{"location":"new-third-part-lib/url-loader/#boolean","title":"<code>Boolean</code>","text":"<p>Enable or disable transform files into base64.</p> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpg|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'url-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0limit:\u00a0false,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/url-loader/#numberstring","title":"<code>Number|String</code>","text":"<p>A <code>Number</code> or <code>String</code> specifying the maximum size of a file in bytes. If the file size is equal or greater than the limit <code>file- loader</code> will be used (by default) and all query parameters are passed to it.</p> <p>Using an alternative to <code>file-loader</code> is enabled via the <code>fallback</code> option.</p> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpg|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'url-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0limit:\u00a08192,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/url-loader/#mimetype","title":"<code>mimetype</code>","text":"<p>Type: <code>Boolean|String</code> Default: based from mime- types</p> <p>Specify the <code>mimetype</code> which the file will be inlined with. If unspecified the <code>mimetype</code> value will be used from mime- types.</p>"},{"location":"new-third-part-lib/url-loader/#boolean_1","title":"<code>Boolean</code>","text":"<p>The <code>true</code> value allows to generation the <code>mimetype</code> part from mime- types. The <code>false</code> value removes the <code>mediatype</code> part from a Data URL (if omitted, defaults to <code>text/plain;charset=US-ASCII</code>).</p> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpg|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'url-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mimetype:\u00a0false,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/url-loader/#string","title":"<code>String</code>","text":"<p>Sets the MIME type for the file to be transformed.</p> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpg|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'url-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mimetype:\u00a0'image/png',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/url-loader/#encoding","title":"<code>encoding</code>","text":"<p>Type: <code>Boolean|String</code> Default: <code>base64</code></p> <p>Specify the <code>encoding</code> which the file will be inlined with. If unspecified the <code>encoding</code> will be <code>base64</code>.</p>"},{"location":"new-third-part-lib/url-loader/#boolean_2","title":"<code>Boolean</code>","text":"<p>If you don't want to use any encoding you can set <code>encoding</code> to <code>false</code> however if you set it to <code>true</code> it will use the default encoding <code>base64</code>.</p> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.svg$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'url-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0encoding:\u00a0false,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/url-loader/#string_1","title":"<code>String</code>","text":"<p>It supports Node.js Buffers and Character Encodings which are <code>[\"utf8\",\"utf16le\",\"latin1\",\"base64\",\"hex\",\"ascii\",\"binary\",\"ucs2\"]</code>.</p> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.svg$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'url-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0encoding:\u00a0'utf8',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/url-loader/#generator","title":"<code>generator</code>","text":"<p>Type: <code>Function</code> Default: <code>(mimetype, encoding, content, resourcePath) =&gt; mimetype;encoding,base64_content</code></p> <p>You can create you own custom implementation for encoding data.</p> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|html)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'url-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0The\u00a0`mimetype`\u00a0and\u00a0`encoding`\u00a0arguments\u00a0will\u00a0be\u00a0obtained\u00a0from\u00a0your\u00a0options\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0The\u00a0`resourcePath`\u00a0argument\u00a0is\u00a0path\u00a0to\u00a0file.\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0generator:\u00a0(content,\u00a0mimetype,\u00a0encoding,\u00a0resourcePath)\u00a0=&gt;\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if\u00a0(/\\.html$/i.test(resourcePath))\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0`data:${mimetype},${content.toString()}`;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n\n\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0`data:${mimetype}${\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0encoding\u00a0?\u00a0`;${encoding}`\u00a0:\u00a0''\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},${content.toString(encoding)}`;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/url-loader/#fallback","title":"<code>fallback</code>","text":"<p>Type: <code>String</code> Default: <code>'file-loader'</code></p> <p>Specifies an alternative loader to use when a target file's size exceeds the limit set in the <code>limit</code> option.</p> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpg|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'url-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0fallback:\u00a0require.resolve('responsive-loader'),\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre> <p>The fallback loader will receive the same configuration options as url-loader.</p> <p>For example, to set the quality option of a responsive-loader above use:</p> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.(png|jpg|gif)$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'url-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0fallback:\u00a0require.resolve('responsive-loader'),\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0quality:\u00a085,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/url-loader/#esmodule","title":"<code>esModule</code>","text":"<p>Type: <code>Boolean</code> Default: <code>true</code></p> <p>By default, <code>file-loader</code> generates JS modules that use the ES modules syntax. There are some cases in which using ES modules is beneficial, like in the case of module concatenation and tree shaking.</p> <p>You can enable a CommonJS module syntax using:</p> <p>webpack.config.js</p> <pre><code>module.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.css$/,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'url-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0esModule:\u00a0false,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/url-loader/#examples","title":"Examples","text":""},{"location":"new-third-part-lib/url-loader/#svg","title":"SVG","text":"<p>SVG can be compressed into a more compact output, avoiding <code>base64</code>. You can read about it more here. You can do it using mini-svg-data-uri package.</p> <p>webpack.config.js</p> <pre><code>const\u00a0svgToMiniDataURI\u00a0=\u00a0require('mini-svg-data-uri');\n\n\n\nmodule.exports\u00a0=\u00a0{\n\n\u00a0\u00a0module:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0rules:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0test:\u00a0/\\.svg$/i,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use:\u00a0[\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loader:\u00a0'url-loader',\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0options:\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0generator:\u00a0(content)\u00a0=&gt;\u00a0svgToMiniDataURI(content.toString()),\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0],\n\n\u00a0\u00a0},\n\n};\n</code></pre>"},{"location":"new-third-part-lib/url-loader/#contributing","title":"Contributing","text":"<p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p>CONTRIBUTING</p>"},{"location":"new-third-part-lib/url-loader/#license","title":"License","text":"<p>MIT</p>"},{"location":"new-third-part-lib/uuid/","title":"270 uuid","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 909  \u9605\u8bfb2\u5206\u949f</p>"},{"location":"new-third-part-lib/uuid/#_1","title":"\u7528\u9014","text":"<p>For the creation of RFC4122 UUIDs</p>"},{"location":"new-third-part-lib/uuid/#_2","title":"\u53ef\u9760\u6027","text":"<p>10000 \u661f\u661f</p> <p>\u9002\u5e94\u4e8e\u6d4f\u89c8\u5668\u6216\u8005\u670d\u52a1\u5668</p>"},{"location":"new-third-part-lib/uuid/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/uuid</p> <p>https://github.com/uuidjs/uuid</p>"},{"location":"new-third-part-lib/uuid/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>import { v4 as uuidv4 } from 'uuid';\nuuidv4(); // \u21e8 '9b1deb4d-3b7d-4bad-9bdd-2b0d7b3dcb6d'\n</code></pre>"},{"location":"new-third-part-lib/uuid/#_5","title":"\u5176\u4ed6","text":"<p>\u53ef\u4ee5\u751f\u6210\u4e0d\u540c\u7c7b\u578b\u7684 ID</p> <p>uuid.NIL    The nil UUID string (all zeros) New in uuid@8.3</p> <p>uuid.parse()    Convert UUID string to array of bytes   New in uuid@8.3</p> <p>uuid.stringify()    Convert array of bytes to UUID string   New in uuid@8.3</p> <p>uuid.v1()   Create a version 1 (timestamp) UUID </p> <p>uuid.v3()   Create a version 3 (namespace w/ MD5) UUID  </p> <p>uuid.v4()   Create a version 4 (random) UUID    </p> <p>uuid.v5()   Create a version 5 (namespace w/ SHA-1) UUID    </p> <p>uuid.validate() Test a string to see if it is a valid UUID  New in uuid@8.3</p> <p>uuid.version()  Detect RFC version of a UUID    New in uuid@8.3</p>"},{"location":"new-third-part-lib/v-viewer/","title":"v-viewer","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 10521  \u9605\u8bfb22\u5206\u949f</p> <p>\u200c\u7528\u4e8e\u56fe\u7247\u67e5\u770b\u5668\uff0c\u200c\u63d0\u4f9b\u56fe\u7247\u7684\u7f29\u653e\u3001\u200c\u65cb\u8f6c\u7b49\u64cd\u4f5c\uff0c\u200c\u9002\u7528\u4e8e\u9700\u8981\u5c55\u793a\u5927\u91cf\u56fe\u7247\u6216\u8fdb\u884c\u56fe\u7247\u7f16\u8f91\u7684\u5e94\u7528</p>"},{"location":"new-third-part-lib/v-viewer/#v-viewer_1","title":"v-viewer","text":""},{"location":"new-third-part-lib/v-viewer/#version","title":"version","text":"<p>3.0.13\u00a0\u2022 </p>"},{"location":"new-third-part-lib/v-viewer/#downloads","title":"downloads","text":"<p>24,731 </p>"},{"location":"new-third-part-lib/v-viewer/#repository","title":"repository","text":"<p>github.com/mirari/v-viewer </p>"},{"location":"new-third-part-lib/v-viewer/#homepage","title":"homepage","text":"<p>github.com/mirari/v-viewer#readme </p>"},{"location":"new-third-part-lib/v-viewer/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/v-viewer/#v-viewer_2","title":"v-viewer","text":"<p>Image viewer component for vue, supports rotation, scale, zoom and so on, based on viewer.js</p>"},{"location":"new-third-part-lib/v-viewer/#v-viewer-for-vue2","title":"v-viewer for vue2","text":""},{"location":"new-third-part-lib/v-viewer/#quick-example","title":"Quick Example","text":"<ul> <li> <p>directive</p> </li> <li> <p>component</p> </li> <li> <p>api</p> </li> <li> <p>thumbnail &amp; source</p> </li> <li> <p>viewer callback</p> </li> <li> <p>custom toolbar</p> </li> <li> <p>filter images</p> </li> <li> <p>change images</p> </li> </ul> <p>\u4e2d\u6587\u6587\u6863\uff1ahttps://mirari.cc/posts/vue3-viewer</p>"},{"location":"new-third-part-lib/v-viewer/#installation","title":"Installation","text":"<p>Install from NPM</p> <pre><code>npm install v-viewer viewerjs\n</code></pre>"},{"location":"new-third-part-lib/v-viewer/#usage","title":"Usage","text":"<p>To use v-viewer, simply import it and the css file, and call app.use() to install.</p> <p>The component, directive and api will be installed together in the global.</p> <p>Two different API styles are both supported: Options API and Composition API.</p> <p> </p> <pre><code>import { createApp } from 'vue'\nimport App from './App.vue'\nimport 'viewerjs/dist/viewer.css'\nimport VueViewer from 'v-viewer'\nconst app = createApp(App)\napp.use(VueViewer)\napp.mount('#app')\n</code></pre> <p> </p> <pre><code>&lt;template&gt;\n  &lt;div&gt;\n    &lt;!-- directive --&gt;\n    &lt;div class=\"images\" v-viewer&gt;\n      &lt;img v-for=\"src in images\" :key=\"src\" :src=\"src\"&gt;\n    &lt;/div&gt;\n    &lt;!-- component --&gt;\n    &lt;viewer :images=\"images\"&gt;\n      &lt;img v-for=\"src in images\" :key=\"src\" :src=\"src\"&gt;\n    &lt;/viewer&gt;\n    &lt;!-- api --&gt;\n    &lt;button type=\"button\" @click=\"show\"&gt;Click to show&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n&lt;!-- Options API --&gt;\n&lt;script lang=\"ts\"&gt;\n  import { defineComponent } from 'vue'\n  export default defineComponent({\n    data() {\n      return {\n        images: [\n          \"https://picsum.photos/200/200\",\n          \"https://picsum.photos/300/200\",\n          \"https://picsum.photos/250/200\"\n        ]\n      }\n    },\n    methods: {\n      show() {\n        this.$viewerApi({\n          images: this.images\n        })\n      }\n    }\n  })\n&lt;/script&gt;\n&lt;!-- Composition API --&gt;\n&lt;!-- &lt;script lang=\"ts\" setup&gt;\n  import { api as viewerApi } from 'v-viewer'\n  const images = [\n    \"https://picsum.photos/200/200\",\n    \"https://picsum.photos/300/200\",\n    \"https://picsum.photos/250/200\"\n  ]\n  const show = () =&gt; {\n    viewerApi({\n      images\n    })\n  }\n&lt;/script&gt; --&gt;\n</code></pre>"},{"location":"new-third-part-lib/v-viewer/#support-umd","title":"Support UMD","text":""},{"location":"new-third-part-lib/v-viewer/#browser","title":"Browser","text":"<pre><code>&lt;link href=\"//unpkg.com/viewerjs/dist/viewer.css\" rel=\"stylesheet\"&gt;\n&lt;script src=\"//unpkg.com/vue\"&gt;&lt;/script&gt;\n&lt;script src=\"//unpkg.com/viewerjs/dist/viewer.js\"&gt;&lt;/script&gt;\n&lt;script src=\"//unpkg.com/v-viewer/dist/index.umd.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  app.use(VueViewer.default)\n&lt;/script&gt;\n</code></pre>"},{"location":"new-third-part-lib/v-viewer/#commonjs","title":"CommonJS","text":"<pre><code>var VueViewer = require('VueViewer')\n</code></pre>"},{"location":"new-third-part-lib/v-viewer/#amd","title":"AMD","text":"<pre><code>require(['VueViewer'], function (VueViewer) {});\n</code></pre>"},{"location":"new-third-part-lib/v-viewer/#usage-of-directive","title":"Usage of directive","text":"<p>Just add the directive v-viewer to any element, then all img elements in it will be handled by viewer.</p> <p>You can set the options like this: v-viewer=\"{inline: true}\"</p> <p>Get the element by selector and then use el.$viewer to get the viewer instance if you need.</p> <p> </p> <pre><code>&lt;template&gt;\n  &lt;div&gt;\n    &lt;div class=\"images\" v-viewer=\"{movable: false}\"&gt;\n      &lt;img v-for=\"src in images\" :src=\"src\" :key=\"src\"&gt;\n    &lt;/div&gt;\n    &lt;button type=\"button\" @click=\"show\"&gt;Show&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n&lt;!-- Options API --&gt;\n&lt;script lang=\"ts\"&gt;\n  import { defineComponent } from 'vue'\n  import 'viewerjs/dist/viewer.css'\n  import { directive as viewer } from \"v-viewer\"\n  export default defineComponent({\n    directives: {\n      viewer: viewer({\n        debug: true\n      })\n    },\n    data() {\n      return {\n        images: [\n          \"https://picsum.photos/200/200\",\n          \"https://picsum.photos/300/200\",\n          \"https://picsum.photos/250/200\"\n        ]\n      }\n    },\n    methods: {\n      show () {\n        const viewer = this.$el.querySelector('.images').$viewer\n        viewer.show()\n      }\n    }\n  })\n&lt;/script&gt;\n&lt;!-- Composition API --&gt;\n&lt;!-- &lt;script lang=\"ts\" setup&gt;\n  import 'viewerjs/dist/viewer.css'\n  import { directive as viewer } from \"v-viewer\"\n  const vViewer = viewer({\n    debug: true\n  })\n  const images = [\n    \"https://picsum.photos/200/200\",\n    \"https://picsum.photos/300/200\",\n    \"https://picsum.photos/250/200\"\n  ]\n  const show = () =&gt; {\n    const viewer = document.querySelector('.images').$viewer\n    viewer.show()\n  }\n&lt;/script&gt; --&gt;\n</code></pre>"},{"location":"new-third-part-lib/v-viewer/#directive-modifiers","title":"Directive modifiers","text":""},{"location":"new-third-part-lib/v-viewer/#static","title":"static","text":"<p>The viewer instance will be created only once after the directive binded.</p> <p>If you're sure the images inside this element won't change again, use it to avoid unnecessary re-render.</p> <p> </p> <pre><code>&lt;div class=\"images\" v-viewer.static=\"{inline: true}\"&gt;\n  &lt;img v-for=\"src in images\" :src=\"src\" :key=\"src\"&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"new-third-part-lib/v-viewer/#rebuild","title":"rebuild","text":"<p>The viewer instance will be updated by update method when the source images changed (added, removed or sorted) by default.</p> <p>If you encounter any display problems, try rebuilding instead of updating.</p> <p> </p> <pre><code>&lt;div class=\"images\" v-viewer.rebuild=\"{inline: true}\"&gt;\n  &lt;img v-for=\"src in images\" :src=\"src\" :key=\"src\"&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"new-third-part-lib/v-viewer/#usage-of-component","title":"Usage of component","text":"<p>You can simply import the component and register it locally too.</p> <p> </p> <pre><code>&lt;template&gt;\n  &lt;div&gt;\n    &lt;viewer :images=\"images\"\n            @inited=\"inited\"\n            class=\"viewer\"\n            ref=\"viewer\"\n            &gt;\n      &lt;template #default=\"scope\"&gt;\n        &lt;img v-for=\"src in scope.images\" :src=\"src\" :key=\"src\"&gt;\n        {{scope.options}}\n      &lt;/template&gt;\n    &lt;/viewer&gt;\n    &lt;button type=\"button\" @click=\"show\"&gt;Show&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n&lt;!-- Options API --&gt;\n&lt;script lang=\"ts\"&gt;\n  import { defineComponent } from 'vue'\n  import 'viewerjs/dist/viewer.css'\n  import { component as Viewer } from \"v-viewer\"\n  export default defineComponent({\n    components: {\n      Viewer,\n    },\n    data() {\n      return {\n        images: [\n          \"https://picsum.photos/200/200\",\n          \"https://picsum.photos/300/200\",\n          \"https://picsum.photos/250/200\"\n        ]\n      }\n    },\n    methods: {\n      inited (viewer) {\n        this.$viewer = viewer\n      },\n      show () {\n        this.$viewer.show()\n      }\n    }\n  })\n&lt;/script&gt;\n&lt;!-- Composition API --&gt;\n&lt;!-- &lt;script lang=\"ts\" setup&gt;\n  import 'viewerjs/dist/viewer.css'\n  import { component as Viewer } from \"v-viewer\"\n  const images = [\n    \"https://picsum.photos/200/200\",\n    \"https://picsum.photos/300/200\",\n    \"https://picsum.photos/250/200\"\n  ]\n  let $viewer:any = null\n  const inited = (viewer) =&gt; {\n    $viewer = viewer\n  }\n  const show = () =&gt; {\n    $viewer.show()\n  }\n&lt;/script&gt; --&gt;\n</code></pre>"},{"location":"new-third-part-lib/v-viewer/#component-props","title":"Component props","text":""},{"location":"new-third-part-lib/v-viewer/#images","title":"images","text":"<ul> <li>Type: Array</li> </ul>"},{"location":"new-third-part-lib/v-viewer/#trigger","title":"trigger","text":"<ul> <li>Type: Object</li> </ul> <p>You can replace images with trigger, to accept any type of prop. when the trigger changes, the component will re-render the viewer.</p> <pre><code>&lt;viewer :trigger=\"externallyGeneratedHtmlWithImages\"&gt;\n  &lt;div v-html=\"externallyGeneratedHtmlWithImages\"/&gt;\n&lt;/viewer&gt;\n</code></pre>"},{"location":"new-third-part-lib/v-viewer/#rebuild_1","title":"rebuild","text":"<ul> <li> <p>Type: Boolean</p> </li> <li> <p>Default: false</p> </li> </ul> <p>The viewer instance will be updated by update method when the source images changed (added, removed or sorted) by default.</p> <p>If you encounter any display problems, try rebuilding instead of updating.</p> <p> </p> <pre><code>&lt;viewer\n  ref=\"viewer\"\n  :options=\"options\"\n  :images=\"images\"\n  rebuild\n  class=\"viewer\"\n  @inited=\"inited\"\n&gt;\n  &lt;template #default=\"scope\"&gt;\n    &lt;img v-for=\"src in scope.images\" :src=\"src\" :key=\"src\"&gt;\n    {{scope.options}}\n  &lt;/template&gt;\n&lt;/viewer&gt;\n</code></pre>"},{"location":"new-third-part-lib/v-viewer/#component-events","title":"Component events","text":""},{"location":"new-third-part-lib/v-viewer/#inited","title":"inited","text":"<ul> <li>viewer: Viewer</li> </ul> <p>Listen for the inited event to get the viewer instance, or use this.refs.xxx.$viewer.</p>"},{"location":"new-third-part-lib/v-viewer/#usage-of-api","title":"Usage of api","text":"<p>Only available in modal mode.</p> <p>You can call the function: this.$viewerApi({options: {}, images: []}) to show gallery without rendering the img elements yourself.</p> <p>The function returns the current viewer instance.</p> <p> </p> <pre><code>&lt;template&gt;\n  &lt;div&gt;\n    &lt;button type=\"button\" class=\"button\" @click=\"previewURL\"&gt;URL Array&lt;/button&gt;\n    &lt;button type=\"button\" class=\"button\" @click=\"previewImgObject\"&gt;Img-Object Array&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n&lt;!-- Options API --&gt;\n&lt;script lang=\"ts\"&gt;\n  import { defineComponent } from 'vue'\n  import 'viewerjs/dist/viewer.css'\n  import { api as viewerApi } from \"v-viewer\"\n  export default defineComponent({\n    data() {\n      return {\n        sourceImageURLs: [\n          'https://picsum.photos/200/200?random=1',\n          'https://picsum.photos/200/200?random=2'\n        ],\n        sourceImageObjects: [\n          {\n            'src': 'https://picsum.photos/200/200?random=3',\n            'data-source': 'https://picsum.photos/800/800?random=3'\n          },\n          {\n            'src': 'https://picsum.photos/200/200?random=4',\n            'data-source': 'https://picsum.photos/800/800?random=4'\n          }\n        ]\n      }\n    },\n    methods: {\n      previewURL () {\n        // If you use the `app.use` full installation, you can use `this.$viewerApi` directly like this\n        const $viewer = this.$viewerApi({\n          images: this.sourceImageURLs\n        })\n      },\n      previewImgObject () {\n        // Or you can just import the api method and call it.\n        const $viewer = viewerApi({\n          options: {\n            toolbar: true,\n            url: 'data-source',\n            initialViewIndex: 1\n          },\n          images: this.sourceImageObjects\n        })\n      }\n    }\n  })\n&lt;/script&gt;\n&lt;!-- Composition API --&gt;\n&lt;!-- &lt;script lang=\"ts\" setup&gt;\nimport 'viewerjs/dist/viewer.css'\nimport { api as viewerApi } from 'v-viewer'\nconst sourceImageURLs = [\n  'https://picsum.photos/200/200?random=1',\n  'https://picsum.photos/200/200?random=2'\n]\nconst sourceImageObjects = [\n  {\n    src: 'https://picsum.photos/200/200?random=3',\n    'data-source': 'https://picsum.photos/800/800?random=3'\n  },\n  {\n    src: 'https://picsum.photos/200/200?random=4',\n    'data-source': 'https://picsum.photos/800/800?random=4'\n  }\n]\nconst previewURL = () =&gt; {\n  // If you use the `app.use` full installation, you can use `this.$viewerApi` directly like this\n  const $viewer = this.$viewerApi({\n    images: sourceImageURLs\n  })\n}\nconst previewImgObject = () =&gt; {\n  // Or you can just import the api method and call it.\n  const $viewer = viewerApi({\n    options: {\n      toolbar: true,\n      url: 'data-source',\n      initialViewIndex: 1\n    },\n    images: sourceImageObjects\n  })\n}\n&lt;/script&gt; --&gt;\n</code></pre> <p>\u200b</p> <p> </p>"},{"location":"new-third-part-lib/vee-validate/","title":"vee-validate","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3758  \u9605\u8bfb8\u5206\u949f</p> <p>\u200c\u4e00\u4e2a\u57fa\u4e8eVue\u7684\u8868\u5355\u9a8c\u8bc1\u5e93\uff0c\u200c\u5e2e\u52a9\u5f00\u53d1\u8005\u5b9e\u73b0\u8868\u5355\u6570\u636e\u7684\u9a8c\u8bc1\u529f\u80fd\u3002\u200c</p>"},{"location":"new-third-part-lib/vee-validate/#vee-validate_1","title":"vee-validate","text":""},{"location":"new-third-part-lib/vee-validate/#version","title":"version","text":"<p>4.13.2\u00a0\u2022 </p>"},{"location":"new-third-part-lib/vee-validate/#downloads","title":"downloads","text":"<p>528,506 </p>"},{"location":"new-third-part-lib/vee-validate/#repository","title":"repository","text":"<p>github.com/logaretm/vee-validate </p>"},{"location":"new-third-part-lib/vee-validate/#homepage","title":"homepage","text":"<p>vee-validate.logaretm.com/ </p>"},{"location":"new-third-part-lib/vee-validate/#default-readme","title":"default readme","text":"<p>Painless Vue forms</p>"},{"location":"new-third-part-lib/vee-validate/#features","title":"Features","text":"<ul> <li> <p>\ud83c\udf5e Easy: Declarative validation that is familiar and easy to setup</p> </li> <li> <p>\ud83e\uddd8\u200d\u2640\ufe0f Flexible: Synchronous, Asynchronous, field-level or form-level validation</p> </li> <li> <p>\u26a1\ufe0f Fast: Build faster forms faster with intuitive API and small footprint</p> </li> <li> <p>\ud83c\udfcf Minimal: Only handles the complicated form concerns, gives you full control over everything else</p> </li> <li> <p>\ud83d\ude0e UI Agnostic: Works with native HTML elements or your favorite UI library components</p> </li> <li> <p>\ud83e\uddbe Progressive: Works whether you use Vue.js as a progressive enhancement or in a complex setup</p> </li> <li> <p>\u2705 Built-in Rules: Companion lib with 25+ Rules that covers most needs in most web applications</p> </li> <li> <p>\ud83c\udf10 i18n: 45+ locales for built-in rules contributed by developers from all over the world</p> </li> </ul>"},{"location":"new-third-part-lib/vee-validate/#getting-started","title":"Getting Started","text":""},{"location":"new-third-part-lib/vee-validate/#installation","title":"Installation","text":"<p>\u200b</p> <pre><code># Install with yarn\n</code></pre>"},{"location":"new-third-part-lib/vee-validate/#vue-version-support","title":"Vue version support","text":"<p>The main v4 version supports Vue 3.x only, for previous versions of Vue, check the following the table</p> vue Version vee-validate version Documentation Link 2.x 2.x or 3.x v2 or v3 3.x 4.x v4"},{"location":"new-third-part-lib/vee-validate/#usage","title":"Usage","text":"<p>vee-validate offers two styles to integrate form validation into your Vue.js apps.</p>"},{"location":"new-third-part-lib/vee-validate/#composition-api","title":"Composition API","text":"<p>The fastest way to create a form and manage its validation, behavior, and values is with the composition API.</p> <p>Create your form with useForm and then use defineField to create your field model and props/attributes and handleSubmit to use the values and send them to an API.</p> <pre><code>&lt;script setup&gt;\nimport { useForm } from 'vee-validate';// Validation, or use `yup` or `zod`\n\nfunction required(value) {\n  return value ? true : 'This field is required';\n}\n\n// Create the form\nconst { defineField, handleSubmit, errors } = useForm({\n  validationSchema: {\n    field: required,\n  },\n});\n\n// Define fields\nconst [field, fieldProps] = defineField('field');\n\n// Submit handler\nconst onSubmit = handleSubmit(values =&gt; {\n  // Submit to API\n  console.log(values);\n});\n&lt;/script&gt;\n\n&lt;template&gt;\n  &lt;form @submit=\"onSubmit\"&gt;\n    &lt;input v-model=\"field\" v-bind=\"fieldProps\" /&gt;\n    &lt;span&gt;{{ errors.field }}&lt;/span&gt;\n\n    &lt;button&gt;Submit&lt;/button&gt;\n  &lt;/form&gt;\n&lt;/template&gt;\n</code></pre> <p>You can do so much more than this, for more info check the composition API documentation.</p>"},{"location":"new-third-part-lib/vee-validate/#declarative-components","title":"Declarative Components","text":"<p>Higher-order components can also be used to build forms. Register the Field and Form components and create a simple required validator:     </p> <pre><code>&lt;script setup&gt;\nimport { Field, Form } from 'vee-validate';\n\n// Validation, or use `yup` or `zod`\nfunction required(value) {\n  return value ? true : 'This field is required';\n}\n\n// Submit handler\nfunction onSubmit(values) {\n  // Submit to API\n  console.log(values);\n}\n&lt;/script&gt;\n\n&lt;template&gt;\n  &lt;Form v-slot=\"{ errors }\" @submit=\"onSubmit\"&gt;\n    &lt;Field name=\"field\" :rules=\"required\" /&gt;\n\n    &lt;span&gt;{{ errors.field }}&lt;/span&gt;\n\n    &lt;button&gt;Submit&lt;/button&gt;\n  &lt;/Form&gt;\n&lt;/template&gt;\n</code></pre> <p>The Field component renders an input of type text by default but you can control that</p>"},{"location":"new-third-part-lib/vee-validate/#documentation","title":"\ud83d\udcda Documentation","text":"<p>Read the documentation and demos. https://vee-validate.logaretm.com/v4</p>"},{"location":"new-third-part-lib/vee-validate/#credits","title":"Credits","text":"<ul> <li> <p>Inspired by Laravel's validation syntax</p> </li> <li> <p>v4 API Inspired by Formik's</p> </li> <li> <p>Nested path types by react-hook-form</p> </li> <li> <p>Logo by Baianat</p> </li> </ul> <p>\u200b</p>"},{"location":"new-third-part-lib/video-js/","title":"video-js \u8bf4\u660e","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3110  \u9605\u8bfb7\u5206\u949f</p> <p>Video.js is a web video player built from the ground up for an HTML5 world. It supports HTML5 and Flash video, as well as YouTube and Vimeo (through plugins). It supports video playback on desktops and mobile devices. </p> <p>video.js \u662f\u4e00\u4e2a\u57fa\u4e8eH5\u7684\u7f51\u9875\u89c6\u9891\u64ad\u653e\u5668\uff08\u652f\u6301H5\u548cflsah\uff0c\u9700\u8981\u901a\u8fc7\u63d2\u4ef6\u652f\u6301Youtube\u548cVimeo\uff0c\u56fd\u5185\u8c8c\u4f3c\u4e0d\u9700\u8981\uff09\u3002\u53ef\u4ee5\u5728\u684c\u9762\u7aef\u6216\u8005\u79fb\u52a8\u7aef\u4f7f\u7528\u3002</p>"},{"location":"new-third-part-lib/video-js/#_1","title":"\u57fa\u672c\u4f7f\u7528","text":"<p>Next, using Video.js is as simple as creating a <code>&lt;video&gt;</code> element, but with an additional <code>data-setup</code> attribute. At a minimum, this attribute must have a value of <code>'{}'</code>, but it can include any Video.js options - just make sure it contains valid JSON!</p> <p>\u57fa\u672c\u4f7f\u7528\uff1a\u81ea\u52a8\u521b\u5efa\u4e00\u4e2a video \u6807\u7b7e\uff0c\u5177\u6709\u4e00\u4e2a\u989d\u5916\u7684\u5c5e\u6027 data-setup\u3002\u8fd9\u4e2a\u5c5e\u6027\u5fc5\u987b\u662f\u4e00\u4e2aJSON\u5bf9\u8c61\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u9009\u9879\uff08\u89c6\u9891\u81ea\u52a8\u64ad\u653e\uff0c\u5bbd\u5ea6\u9ad8\u5ea6\u3001\u5a92\u4f53\u6d41\u3001\u54cd\u5e94\u5f0f\u3001\u8bed\u8a00\u3001\u5faa\u73af\u3001\u6d77\u62a5\u7b49\u9009\u9879\uff0c\u8be6\u89c1\u5b98\u7f51\uff09\u3002</p> <p>\u5b98\u7f51\u914d\u7f6e\u94fe\u63a5\uff1ahttps://github.com/videojs/video.js/blob/master/docs/guides/options.md</p> <pre><code>&lt;head&gt;\n  &lt;link href=\"https://vjs.zencdn.net/7.5.4/video-js.css\" rel=\"stylesheet\"&gt;\n  &lt;!-- If you'd like to support IE8 (for Video.js versions prior to v7) --&gt;\n  &lt;script src=\"https://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;video id='my-video' class='video-js' controls preload='auto' width='640' height='264'\n  poster='MY_VIDEO_POSTER.jpg' data-setup='{}'&gt;\n    &lt;source src='MY_VIDEO.mp4' type='video/mp4'&gt;\n    &lt;source src='MY_VIDEO.webm' type='video/webm'&gt;\n    &lt;p class='vjs-no-js'&gt;\n      To view this video please enable JavaScript, and consider upgrading to a web browser that\n      &lt;a href='https://videojs.com/html5-video-support/' target='_blank'&gt;supports HTML5 video&lt;/a&gt;\n    &lt;/p&gt;\n  &lt;/video&gt;\n\n  &lt;script src='https://vjs.zencdn.net/7.5.4/video.js'&gt;&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>"},{"location":"new-third-part-lib/video-js/#_2","title":"\u9ad8\u7ea7\u4f7f\u7528","text":"<p>If you don't want to use automatic setup, you can leave off the <code>data-setup</code> attribute and initialize a <code>&lt;video&gt;</code> element manually using the <code>videojs</code> function</p> <p>\u5982\u679c\u4f60\u4e0d\u60f3\u4f7f\u7528\u81ea\u52a8\u521b\u5efa(\u60f3\u8981\u81ea\u5b9a\u4e49\u5b89\u88c5)\uff0c\u4f60\u53ef\u4ee5\u4e0d\u9700\u8981\u5728 video \u6807\u7b7e\u4e0a\u8bbe\u7f6e data-setup \u5c5e\u6027\uff0c\u53ea\u5728\u540e\u9762\u4f7f\u7528\u4e00\u4e2a videojs \u51fd\u6570\u3002\u8fd9\u4e2a\u51fd\u6570\u4e5f\u63a5\u53d7\u4e00\u4e2a\u9009\u9879optins\u548c\u4e00\u4e2a\u56de\u8c03\u51fd\u6570(\u5f53\u64ad\u653e\u5668\u51c6\u5907\u5c31\u7eea\u3001\u64ad\u653e\u7ed3\u675f\u7684\u56de\u8c03\u51fd\u6570)\u3002</p> <p>The <code>videojs</code> function also accepts an <code>options</code> object and a callback to be invoked when the player is ready:</p> <pre><code>var player = videojs('my-player');\n\nvar options = {};\nvar player = videojs('my-player', options, function onPlayerReady() {\n  videojs.log('Your player is ready!');\n\n  // In this context, `this` is the player that was created by Video.js.\n  this.play();\n\n  // How about an event listener?\n  this.on('ended', function() {\n    videojs.log('Awww...over so soon?!');\n  });\n});\n</code></pre>"},{"location":"new-third-part-lib/video-js/#_3","title":"\u539f\u59cb\u94fe\u63a5","text":"<p>Github \u94fe\u63a5</p> <p>https://github.com/videojs/video.js</p> <p>\u5b98\u7f51\u5165\u95e8\u94fe\u63a5</p> <p>https://videojs.com/getting-started/</p> <p>\u5f00\u53d1\u6587\u6863\u94fe\u63a5</p> <p>https://docs.videojs.com/</p>"},{"location":"new-third-part-lib/viewerjs/","title":"viewerjs","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2738  \u9605\u8bfb6\u5206\u949f</p> <p>\u200c\u7528\u4e8e\u56fe\u7247\u67e5\u770b\u5668\uff0c\u200c\u63d0\u4f9b\u56fe\u7247\u7684\u7f29\u653e\u3001\u200c\u65cb\u8f6c\u7b49\u64cd\u4f5c\uff0c\u200c\u9002\u7528\u4e8e\u9700\u8981\u5c55\u793a\u5927\u91cf\u56fe\u7247\u6216\u8fdb\u884c\u56fe\u7247\u7f16\u8f91\u7684\u5e94\u7528</p>"},{"location":"new-third-part-lib/viewerjs/#viewerjs_1","title":"viewerjs","text":""},{"location":"new-third-part-lib/viewerjs/#version","title":"version","text":"<p>1.11.6\u00a0\u2022 </p>"},{"location":"new-third-part-lib/viewerjs/#downloads","title":"downloads","text":"<p>49,583 </p>"},{"location":"new-third-part-lib/viewerjs/#repository","title":"repository","text":"<p>github.com/fengyuanchen/viewerjs </p>"},{"location":"new-third-part-lib/viewerjs/#homepage","title":"homepage","text":"<p>fengyuanchen.github.io/viewerjs </p>"},{"location":"new-third-part-lib/viewerjs/#default-readme","title":"default readme","text":"<p>\u200b</p>"},{"location":"new-third-part-lib/viewerjs/#viewerjs_2","title":"Viewer.js","text":"<p>JavaScript image viewer.</p> <ul> <li> <p>Website</p> </li> <li> <p>jquery-viewer - A jQuery plugin wrapper for Viewer.js.</p> </li> </ul>"},{"location":"new-third-part-lib/viewerjs/#table-of-contents","title":"Table of contents","text":"<ul> <li> <p>Features</p> </li> <li> <p>Main</p> </li> <li> <p>Getting started</p> </li> <li> <p>Keyboard support</p> </li> <li> <p>Options</p> </li> <li> <p>Methods</p> </li> <li> <p>Events</p> </li> <li> <p>No conflict</p> </li> <li> <p>Browser support</p> </li> <li> <p>Contributing</p> </li> <li> <p>Versioning</p> </li> <li> <p>License</p> </li> </ul>"},{"location":"new-third-part-lib/viewerjs/#features","title":"Features","text":"<ul> <li> <p>Supports 53 options</p> </li> <li> <p>Supports 23 methods</p> </li> <li> <p>Supports 17 events</p> </li> <li> <p>Supports modal and inline modes</p> </li> <li> <p>Supports touch</p> </li> <li> <p>Supports move</p> </li> <li> <p>Supports zoom</p> </li> <li> <p>Supports rotation</p> </li> <li> <p>Supports scale (flip)</p> </li> <li> <p>Supports keyboard</p> </li> <li> <p>Cross-browser support</p> </li> </ul>"},{"location":"new-third-part-lib/viewerjs/#main-files","title":"Main files","text":"<pre><code>dist/\n\u251c\u2500\u2500 viewer.css\n\u251c\u2500\u2500 viewer.min.css   (compressed)\n\u251c\u2500\u2500 viewer.js        (UMD)\n\u251c\u2500\u2500 viewer.min.js    (UMD, compressed)\n\u251c\u2500\u2500 viewer.common.js (CommonJS, default)\n\u2514\u2500\u2500 viewer.esm.js    (ES Module)\n</code></pre>"},{"location":"new-third-part-lib/viewerjs/#getting-started","title":"Getting started","text":""},{"location":"new-third-part-lib/viewerjs/#installation","title":"Installation","text":"<pre><code>npm install viewerjs\n</code></pre> <p>In browser:</p> <p> </p> <pre><code>&lt;link  href=\"/path/to/viewer.css\" rel=\"stylesheet\"&gt;\n&lt;script src=\"/path/to/viewer.js\"&gt;&lt;/script&gt;\n</code></pre> <p>The cdnjs provides CDN support for Viewer.js's CSS and JavaScript. You can find the links here.</p>"},{"location":"new-third-part-lib/viewerjs/#usage","title":"Usage","text":""},{"location":"new-third-part-lib/viewerjs/#syntax","title":"Syntax","text":"<pre><code>new Viewer(element[, options])\n</code></pre> <ul> <li> <p>element</p> </li> <li> <p>Type: HTMLElement</p> </li> <li> <p>The target image or container of images for viewing.</p> </li> <li> <p>options (optional)</p> </li> <li> <p>Type: Object</p> </li> <li> <p>The options for viewing. Check out the available options.</p> </li> </ul>"},{"location":"new-third-part-lib/viewerjs/#example","title":"Example","text":"<pre><code>&lt;!-- a block container is required --&gt;\n&lt;div&gt;\n  &lt;img id=\"image\" src=\"picture.jpg\" alt=\"Picture\"&gt;\n&lt;/div&gt;\n\n&lt;div&gt;\n  &lt;ul id=\"images\"&gt;\n    &lt;li&gt;&lt;img src=\"picture-1.jpg\" alt=\"Picture 1\"&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;img src=\"picture-2.jpg\" alt=\"Picture 2\"&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;img src=\"picture-3.jpg\" alt=\"Picture 3\"&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre> <pre><code>// You should import the CSS file.\n// import 'viewerjs/dist/viewer.css';\nimport Viewer from 'viewerjs';\n\n// View an image.\nconst viewer = new Viewer(document.getElementById('image'), {\n  inline: true,\n  viewed() {\n    viewer.zoomTo(1);\n  },\n});\n// Then, show the image by clicking it, or call `viewer.show()`.\n\n// View a list of images.\n// Note: All images within the container will be found by calling `element.querySelectorAll('img')`.\nconst gallery = new Viewer(document.getElementById('images'));\n// Then, show one image by click it, or call `gallery.show()`.            \n</code></pre> <p>\u200b</p>"},{"location":"new-third-part-lib/vite/","title":"vite","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1709  \u9605\u8bfb4\u5206\u949f</p>"},{"location":"new-third-part-lib/vite/#vite_1","title":"vite","text":"<p>Vite \u662f Vue \u5f00\u53d1\u5de5\u5177\uff0chttps://cn.vitejs.dev/</p>"},{"location":"new-third-part-lib/vite/#_1","title":"\u7279\u70b9","text":"<p>\u6781\u901f\u7684\u670d\u52a1\u542f\u52a8\u4f7f\u7528\u539f\u751f ESM \u6587\u4ef6\uff0c\u65e0\u9700\u6253\u5305!</p> <p>\u8f7b\u91cf\u5feb\u901f\u7684\u70ed\u91cd\u8f7d\u65e0\u8bba\u5e94\u7528\u7a0b\u5e8f\u5927\u5c0f\u5982\u4f55\uff0c\u90fd\u59cb\u7ec8\u6781\u5feb\u7684\u6a21\u5757\u70ed\u66ff\u6362\uff08HMR\uff09</p> <p>\u4e30\u5bcc\u7684\u529f\u80fd\u5bf9 TypeScript\u3001JSX\u3001CSS \u7b49\u652f\u6301\u5f00\u7bb1\u5373\u7528\u3002</p> <p>\u4f18\u5316\u7684\u6784\u5efa\u53ef\u9009 \u201c\u591a\u9875\u5e94\u7528\u201d \u6216 \u201c\u5e93\u201d \u6a21\u5f0f\u7684\u9884\u914d\u7f6e Rollup \u6784\u5efa</p> <p>\u901a\u7528\u7684\u63d2\u4ef6\u5728\u5f00\u53d1\u548c\u6784\u5efa\u4e4b\u95f4\u5171\u4eab Rollup-superset \u63d2\u4ef6\u63a5\u53e3\u3002</p> <p>\u5b8c\u5168\u7c7b\u578b\u5316\u7684API\u7075\u6d3b\u7684 API \u548c\u5b8c\u6574\u7684 TypeScript \u7c7b\u578b\u3002</p>"},{"location":"new-third-part-lib/vite/#_2","title":"\u4f7f\u7528","text":"<p>https://cn.vitejs.dev/guide/</p> <p>\u200b</p>"},{"location":"new-third-part-lib/vite/#version","title":"version","text":"<p>5.3.4\u00a0\u2022 </p>"},{"location":"new-third-part-lib/vite/#downloads","title":"downloads","text":"<p>13,829,301 </p>"},{"location":"new-third-part-lib/vite/#repository","title":"repository","text":"<p>github.com/vitejs/vite </p>"},{"location":"new-third-part-lib/vite/#homepage","title":"homepage","text":"<p>vitejs.dev </p>"},{"location":"new-third-part-lib/vite/#vite_2","title":"vite \u26a1","text":"<p>Next Generation Frontend Tooling</p> <ul> <li> <p>\ud83d\udca1 Instant Server Start</p> </li> <li> <p>\u26a1\ufe0f Lightning Fast HMR</p> </li> <li> <p>\ud83d\udee0\ufe0f Rich Features</p> </li> <li> <p>\ud83d\udce6 Optimized Build</p> </li> <li> <p>\ud83d\udd29 Universal Plugin Interface</p> </li> <li> <p>\ud83d\udd11 Fully Typed APIs</p> </li> </ul> <p>Vite (French word for \"fast\", pronounced /vit/) is a new breed of frontend build tool that significantly improves the frontend development experience. It consists of two major parts:</p> <ul> <li> <p>A dev server that serves your source files over native ES modules, with rich built-in features and astonishingly fast Hot Module Replacement (HMR).</p> </li> <li> <p>A build command that bundles your code with Rollup, pre-configured to output highly optimized static assets for production.</p> </li> </ul> <p>In addition, Vite is highly extensible via its Plugin API and JavaScript API with full typing support.</p> <p>Read the Docs to Learn More.</p> <p>\u200b</p> <p>\u200b</p> <p> </p>"},{"location":"new-third-part-lib/vue-draggable-resizable/","title":"vue-draggable-resizable","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2078  \u9605\u8bfb5\u5206\u949f</p> <p>\u8fd9\u662f\u4e00\u4e2aVue2\u7684\u53ef\u62d6\u52a8\u548c\u53ef\u8c03\u6574\u5927\u5c0f\u7684\u5143\u7d20\u7ec4\u4ef6\uff0c\u200c\u5141\u8bb8\u5f00\u53d1\u8005\u521b\u5efa\u53ef\u62d6\u52a8\u548c\u53ef\u8c03\u6574\u5927\u5c0f\u7684\u5143\u7d20\uff0c\u200c\u9002\u7528\u4e8e\u9700\u8981\u7528\u6237\u4ea4\u4e92\u548c\u754c\u9762\u81ea\u5b9a\u4e49\u7684\u573a\u666f</p>"},{"location":"new-third-part-lib/vue-draggable-resizable/#version","title":"version","text":"<p>3.0.0\u00a0\u2022 </p>"},{"location":"new-third-part-lib/vue-draggable-resizable/#downloads","title":"downloads","text":"<p>26,148 </p>"},{"location":"new-third-part-lib/vue-draggable-resizable/#repository","title":"repository","text":"<p>github.com/mauricius/vue-draggable-resizable </p>"},{"location":"new-third-part-lib/vue-draggable-resizable/#homepage","title":"homepage","text":"<p>github.com/mauricius/vue-draggable-resizable </p>"},{"location":"new-third-part-lib/vue-draggable-resizable/#vuedraggableresizable-3","title":"VueDraggableResizable 3","text":"<p>Vue Component for draggable and resizable elements.</p> <p>If you are looking for the version 1 of the component, it is available on the v1 branch.</p>"},{"location":"new-third-part-lib/vue-draggable-resizable/#table-of-contents","title":"Table of Contents","text":"<ul> <li> <p>Features</p> </li> <li> <p>Live Playground</p> </li> <li> <p>Install and basic usage</p> </li> <li> <p>Props</p> </li> <li> <p>Events</p> </li> <li> <p>Styling</p> </li> <li> <p>Contributing</p> </li> <li> <p>License</p> </li> </ul>"},{"location":"new-third-part-lib/vue-draggable-resizable/#features","title":"Features","text":"<ul> <li> <p>No dependencies</p> </li> <li> <p>Use draggable, resizable or both</p> </li> <li> <p>Define handles for resizing</p> </li> <li> <p>Restrict size and movement to parent element</p> </li> <li> <p>Snap element to custom grid</p> </li> <li> <p>Restrict drag to vertical or horizontal axis</p> </li> <li> <p>Maintain aspect ratio</p> </li> <li> <p>Touch enabled</p> </li> <li> <p>Use your own classes</p> </li> <li> <p>Provide your own markup for handles</p> </li> </ul> <p>Register the component globally</p> <pre><code>npm install --save vue-draggable-resizable\n</code></pre> <p>\u57fa\u672c\u4f7f\u7528</p> <pre><code>\u200b    // main.js\n\u200b    import { createApp } from 'vue'\n\u200b    import VueDraggableResizable from 'vue-draggable-resizable'\n\u200b    import App from './App.vue'\n\u200b    \n\u200b    createApp(App)\n\u200b      .component(\"vue-draggable-resizable\", VueDraggableResizable)\n\u200b      .mount('#app')\n</code></pre> <pre><code>    // App.vue\n    &lt;template&gt;\n      &lt;div style=\"height: 500px; width: 500px; border: 1px solid red; position: relative;\"&gt;\n        &lt;vue-draggable-resizable :w=\"100\" :h=\"100\" :parent=\"true\"&gt;\n          &lt;p&gt;Hello! I'm a flexible component. You can drag me around and you can resize me.&lt;/p&gt;\n        &lt;/vue-draggable-resizable&gt;\n      &lt;/div&gt;\n    &lt;/template&gt;\n</code></pre> <pre><code>    &lt;style&gt;\n    @import \"vue-draggable-resizable/style.css\";\n    &lt;/style&gt;\n</code></pre> <p>You may now use the component in your markup. The component itself does not include any CSS. You'll need to include it</p> <p>separately in your `App.vue`:</p> <p>\u200b</p> <p>\u200b</p>"},{"location":"new-third-part-lib/vue-ruoyi/","title":"vue-ruoyi","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 740  \u9605\u8bfb2\u5206\u949f</p> <p>\u82e5\u4f9d\u662f\u57fa\u4e8eSpring Boot\u7684\u5feb\u901f\u5f00\u53d1\u5e73\u53f0\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e00\u5957\u5b8c\u6574\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u5305\u62ec\u6570\u636e\u6a21\u578b\u3001\u7528\u6237\u6743\u9650\u3001\u5de5\u4f5c\u6d41\u3001\u4efb\u52a1\u8c03\u5ea6\u7b49\u529f\u80fd\u3002\u82e5\u4f9d\u524d\u7aefUI\u6846\u67b6\u652f\u6301Vue.js\uff0c\u8fd9\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u4f7f\u7528Vue.js\u6765\u5f00\u53d1\u524d\u7aef\u754c\u9762\uff0c\u5e76\u4e0e\u540e\u7aef\u7684\u82e5\u4f9d\u5e73\u53f0\u8fdb\u884c\u4ea4\u4e92\u3002</p> <p>\u8fd9\u4e2a\u5e93\u56fd\u5185\u5c0f\u5382\u4f7f\u7528\u591a\uff0c\u5728 npm \u4e0a\u6ca1\u6709</p> <pre><code>npm install vue-ruoyi --save\n</code></pre> <pre><code>// main.js \u6216\u5176\u4ed6\u5165\u53e3\u6587\u4ef6\nimport Vue from 'vue'\nimport App from './App.vue'\nimport RuoYi from 'vue-ruoyi'\n\nVue.use(RuoYi)\n\nnew Vue({\n  render: h =&gt; h(App),\n}).$mount('#app')\n</code></pre> <pre><code>&lt;template&gt;\n  &lt;ruo-yi-component&gt;&lt;/ruo-yi-component&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default {\n  // ...\n}\n&lt;/script&gt;\n</code></pre> <p>\u200b</p>"},{"location":"new-third-part-lib/vue-virtual-scroller/","title":"vue-virtual-scroller","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1519  \u9605\u8bfb4\u5206\u949f</p> <p>\ufe0f\u4ed3\u5e93\u540d\u79f0\uff1aAkryum/vue-virtual-scroller</p> <p>\u865a\u62df\u6eda\u52a8\u5217\u8868\u6e32\u67d3</p> <p>https://vue-virtual-scroller-demo.netlify.app/</p> <p>https://github.com/Akryum/vue-virtual-scroller</p> <p>\u622a\u6b62\u53d1\u7a3f\u661f\u6570: 9149 (\u4eca\u65e5\u65b0\u589e:1)</p> <p>\u4ed3\u5e93\u8bed\u8a00: Vue\u5f15\u8a00\u9879\u76ee\u4f5c\u7528\u4ed3\u5e93\u63cf\u8ff0\u5ba2\u89c2\u8bc4\u6d4b\u6216\u5206\u6790\u4f7f\u7528\u5efa\u8bae\u7ed3\u8bba</p>"},{"location":"new-third-part-lib/vue-virtual-scroller/#_1","title":"\u5f15\u8a00","text":"<p>vue-virtual-scroller \u662f\u4e00\u6b3e Vue \u7ec4\u4ef6\uff0c\u53ef\u5b9e\u73b0\u5bf9\u6d77\u91cf\u6570\u636e\u7684\u6781\u901f\u6eda\u52a8\u3002</p>"},{"location":"new-third-part-lib/vue-virtual-scroller/#_2","title":"\u9879\u76ee\u4f5c\u7528","text":"<p>\u8be5\u7ec4\u4ef6\u5229\u7528\u865a\u62df\u5316\u6280\u672f\uff0c\u4ec5\u6e32\u67d3\u5f53\u524d\u53ef\u89c1\u7684\u6570\u636e\u9879\uff0c\u5927\u5e45\u63d0\u5347\u6eda\u52a8\u6027\u80fd\u3002</p>"},{"location":"new-third-part-lib/vue-virtual-scroller/#_3","title":"\u4ed3\u5e93\u63cf\u8ff0","text":"<ul> <li> <p>GitHub \u4ed3\u5e93\uff1ahttps://github.com/Akryum/vue-virtual-scroller</p> </li> <li> <p>npm \u5305\uff1avue-virtual-scroller</p> </li> <li> <p>Vue 3.x \u517c\u5bb9\u7248\u672c</p> </li> </ul>"},{"location":"new-third-part-lib/vue-virtual-scroller/#_4","title":"\u5ba2\u89c2\u8bc4\u6d4b\u6216\u5206\u6790","text":"<ul> <li> <p>\u6027\u80fd\u5353\u8d8a\uff1a\u53ef\u5904\u7406\u6570\u5341\u4e07\u4e2a\u6570\u636e\u9879\uff0c\u540c\u65f6\u4fdd\u6301\u6d41\u7545\u6eda\u52a8\u3002</p> </li> <li> <p>\u9ad8\u5ea6\u53ef\u5b9a\u5236\uff1a\u53ef\u81ea\u5b9a\u4e49\u6eda\u52a8\u6761\u3001\u5355\u5143\u683c\u6837\u5f0f\u548c\u7f13\u5b58\u5927\u5c0f\u7b49\u8bbe\u7f6e\u3002</p> </li> <li> <p>\u5f00\u7bb1\u5373\u7528\uff1a\u6613\u4e8e\u96c6\u6210\u5230 Vue.js \u9879\u76ee\u4e2d\u3002</p> </li> </ul>"},{"location":"new-third-part-lib/vue-virtual-scroller/#_5","title":"\u4f7f\u7528\u5efa\u8bae","text":"<ul> <li> <p>\u9002\u7528\u4e8e\u5927\u578b\u6570\u636e\u5217\u8868\u3001\u65e0\u9650\u6eda\u52a8\u6216\u4efb\u4f55\u9700\u8981\u4f18\u5316\u6eda\u52a8\u6027\u80fd\u7684\u573a\u666f\u3002</p> </li> <li> <p>\u786e\u4fdd\u5408\u7406\u8bbe\u7f6e\u7f13\u5b58\u5927\u5c0f\u4ee5\u5e73\u8861\u6027\u80fd\u548c\u5185\u5b58\u6d88\u8017\u3002</p> </li> </ul>"},{"location":"new-third-part-lib/vue-virtual-scroller/#_6","title":"\u7ed3\u8bba","text":"<p>vue-virtual-scroller \u662f\u4f18\u5316 Vue.js \u6570\u636e\u5bc6\u96c6\u578b\u5e94\u7528\u6eda\u52a8\u6027\u80fd\u7684\u4e00\u6b3e\u51fa\u8272\u7ec4\u4ef6\u3002\u5176\u6781\u901f\u6eda\u52a8\u3001\u9ad8\u5b9a\u5236\u6027\u548c\u6613\u7528\u6027\u4f7f\u5176\u6210\u4e3a\u63d0\u5347\u7528\u6237\u4f53\u9a8c\u7684\u7406\u60f3\u9009\u62e9\u3002</p> <p>\u200b</p>"},{"location":"new-third-part-lib/vuecli/","title":"vuecli","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 560  \u9605\u8bfb2\u5206\u949f</p> <p>\u5b98\u65b9\u5f00\u53d1\u6587\u6863\uff1ahttps://cli.vuejs.org/zh/guide/</p> <p>\u5168\u5c40\u5b89\u88c5</p> <pre><code>sudo npm install -g @vue/cli\nsudo npm install @vue/cli-service-global\n</code></pre> <p>\u521b\u5efa\u9879\u76ee</p> <pre><code># \u521d\u59cb\u5316\u9879\u76ee\u9700\u8981\u8bbe\u7f6e\u914d\u7f6e\u4f9d\u8d56\uff1atypescript\u3001babel\u3001eslint \u7b49\nvue create my-project\n\n# \u56fe\u5f62\u5316\u754c\u9762\u5f00\u53d1\nvue ui\n</code></pre> <p>\u542f\u52a8\u9879\u76ee</p> <pre><code>npm install\nnpm run serve\nnpm run build\n</code></pre>"},{"location":"new-third-part-lib/vuecli/#todo","title":"TODO","text":"<p>\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e\uff0c\u4f8b\u5982\u5982\u4f55\u591a\u5165\u53e3\u6587\u4ef6\u7b49</p> <p>https://cli.vuejs.org/zh/config/#pages</p>"},{"location":"new-third-part-lib/vuepress/","title":"vuepress","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1482  \u9605\u8bfb3\u5206\u949f</p> <p>\u200cVue\u9a71\u52a8\u7684\u9759\u6001\u7f51\u7ad9\u751f\u6210\u5668\uff0c\u200c\u9002\u7528\u4e8e\u6587\u6863\u3001\u200c\u535a\u5ba2\u7b49\u9759\u6001\u9875\u9762\u7684\u751f\u6210\u3002\u200c</p> <p>https://www.vuepress.cn/guide/basic-config.html</p> <p>https://www.vuepress.cn/guide/directory-structure.html</p>"},{"location":"new-third-part-lib/vuepress/#vuepress_1","title":"vuepress","text":""},{"location":"new-third-part-lib/vuepress/#version","title":"version","text":"<p>1.9.10\u00a0\u2022 </p>"},{"location":"new-third-part-lib/vuepress/#downloads","title":"downloads","text":"<p>49,224 </p>"},{"location":"new-third-part-lib/vuepress/#repository","title":"repository","text":"<p>github.com/vuejs/vuepress </p>"},{"location":"new-third-part-lib/vuepress/#homepage","title":"homepage","text":"<p>github.com/vuejs/vuepress#readme </p>"},{"location":"new-third-part-lib/vuepress/#default-readme","title":"default readme","text":"<p>\u200b</p>"},{"location":"new-third-part-lib/vuepress/#vuepress_2","title":"VuePress","text":"<p>\ud83d\udcdd Minimalistic Vue-powered static site generator</p>"},{"location":"new-third-part-lib/vuepress/#installation","title":"Installation","text":"<p>Use the package manager yarn to install VuePress as a dev dependency.</p> <pre><code>yarn add vuepress -D\n</code></pre>"},{"location":"new-third-part-lib/vuepress/#documentation","title":"Documentation","text":"<p>The docs are available at https://vuepress.vuejs.org</p>"},{"location":"new-third-part-lib/vuepress/#contributing","title":"Contributing","text":"<p>Want to contribute? Check our issues for beginners!    </p> <pre><code>yarn # Install and link dependencies for this monorepo\nyarn dev  # serves VuePress' own docs with itself\nyarn test # make sure your code change pass the test\n</code></pre> <p>If you don't have a local checkout, you can also open VuePress in Gitpod, a free online IDE for GitHub.</p> <p>If you intend to make \"substantial\" changes to VuePress or its documentation, please checkout VuePress RFCs.</p> <p>If you have a VuePress-related project/component/tool, add it with a pull request to this curated list!</p>"},{"location":"new-third-part-lib/vuetify/","title":"vuetify","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1521  \u9605\u8bfb4\u5206\u949f</p> <p>\u8fd9\u662f\u4e00\u4e2a\u57fa\u4e8e Vue.js \u7684 Material Design \u7ec4\u4ef6\u6846\u67b6\uff0c\u200c\u63d0\u4f9b\u4e8680\u591a\u79cd\u9884\u5236UI\u7ec4\u4ef6\uff0c\u200c\u5305\u62ec\u6309\u94ae\u3001\u200c\u8868\u5355\u3001\u200c\u6570\u636e\u8868\u683c\u3001\u200c\u5bfc\u822a\u62bd\u5c49\u7b49\uff0c\u200c\u652f\u6301\u54cd\u5e94\u5f0f\u8bbe\u8ba1\u3001\u200c\u4e3b\u9898\u5316\u548c\u56fd\u9645\u5316\u3002\u200cVuetify\u7684\u4e30\u5bcc\u7ec4\u4ef6\u96c6\u5408\u548c\u7075\u6d3b\u7684\u4e3b\u9898\u7cfb\u7edf\u4f7f\u5176\u6210\u4e3a\u6784\u5efa\u73b0\u4ee3Web\u5e94\u7528\u7684\u7406\u60f3\u9009\u62e9\u3002</p>"},{"location":"new-third-part-lib/vuetify/#version","title":"version","text":"<p>3.6.13\u00a0\u2022 </p>"},{"location":"new-third-part-lib/vuetify/#downloads","title":"downloads","text":"<p>511,138 </p>"},{"location":"new-third-part-lib/vuetify/#repository","title":"repository","text":"<p>https://www.npmjs.com/package/vuetify</p> <p>https://github.com/vuetifyjs/vuetify</p> <p>https://vuetifyjs.com/en/</p>"},{"location":"new-third-part-lib/vuetify/#vuetify_1","title":"vuetify","text":"<p>VUE \u7ec4\u4ef6\u5e93\uff0cVue Component Framework</p> <p>Vuetify \u57fa\u4e8e Material Design \u8bbe\u8ba1\u89c4\u8303\uff0c\u63d0\u4f9b 80 \u591a\u4e2a\u7ec4\u4ef6\uff0c\u62e5\u6709\u52a8\u6001\u4e3b\u9898\u3001\u5168\u5c40\u9ed8\u8ba4\u503c\u3001\u5e94\u7528\u6846\u67b6\u7b49\u4e30\u5bcc\u800c\u5f3a\u5927\u7684\u7279\u6027\uff0c\u5b83\u4ee5\u63d0\u4f9b\u7ed9\u5f00\u53d1\u8005\u4e30\u5bcc\u7684\u5de5\u5177\uff0c\u7ed9\u7528\u6237\u826f\u597d\u800c\u4e30\u5bcc\u7684\u4f7f\u7528\u4f53\u9a8c\u4e3a\u6700\u7ec8\u76ee\u6807\u3002</p> <p>Vuetify \u662f\u4e00\u4e2a\u56fd\u5916\u7684\u8001\u724c Vue \u7ec4\u4ef6\u5e93\uff0c2016\u5e747\u6708\u53d1\u5e03\u7b2c\u4e00\u4e2a\u7248\u672c\uff0c2018\u5e742\u6708\u53d1\u5e03 v1.0.0 \u7a33\u5b9a\u7248\u672c\uff0c2022\u5e7411\u6708\u53d1\u5e03 v3.0.0 \u6b63\u5f0f\u7248\u672c\uff0c\u5f00\u59cb\u652f\u6301 Vue3\u3002\u76ee\u524d\u4e3b\u8981\u7531 John Leider \u548c KaelWD \u5728\u5f00\u53d1\u548c\u7ef4\u62a4\u3002</p> \u6307\u6807 \u6570\u503c Star 38.4k NPM \u5468\u4e0b\u8f7d 426,429 Issue 665+12443 PR 125+4792 \u8d21\u732e\u8005 898 \u7ec4\u4ef6\u6570 80 <p>\u200b</p>"},{"location":"new-third-part-lib/vuex/","title":"vuex","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1791  \u9605\u8bfb4\u5206\u949f</p>"},{"location":"new-third-part-lib/vuex/#vuex_1","title":"vuex","text":"<p>https://github.com/vuejs/vuex</p> <p>VUE \u96c6\u4e2d\u5f0f\u72b6\u6001\u7ba1\u7406\uff0cCentralized State Management for Vue.js</p> <p>vuex.vuejs.org</p>"},{"location":"new-third-part-lib/vuex/#version","title":"version","text":"<p>4.1.0\u00a0\u2022 </p>"},{"location":"new-third-part-lib/vuex/#downloads","title":"downloads","text":"<p>1,618,636 </p>"},{"location":"new-third-part-lib/vuex/#repository","title":"repository","text":"<p>github.com/vuejs/vuex </p>"},{"location":"new-third-part-lib/vuex/#homepage","title":"homepage","text":"<p>github.com/vuejs/vuex#readme </p>"},{"location":"new-third-part-lib/vuex/#default-readme","title":"default readme","text":"<p>\u200b</p>"},{"location":"new-third-part-lib/vuex/#vuex_2","title":"Vuex","text":"<p>Pinia is now the new default</p> <p>The official state management library for Vue has changed to Pinia. Pinia has almost the exact same or enhanced API as Vuex 5, described in Vuex 5 RFC. You could simply consider Pinia as Vuex 5 with a different name. Pinia also works with Vue 2.x as well.</p> <p>Vuex 3 and 4 will still be maintained. However, it's unlikely to add new functionalities to it. Vuex and Pinia can be installed in the same project. If you're migrating existing Vuex app to Pinia, it might be a suitable option. However, if you're planning to start a new project, we highly recommend using Pinia instead.</p> <p>\u200b</p> <p>Vuex is a state management pattern + library for Vue.js applications. It serves as a centralized store for all the components in an application, with rules ensuring that the state can only be mutated in a predictable fashion. It also integrates with Vue's official devtools extension to provide advanced features such as zero-config time-travel debugging and state snapshot export / import.</p> <p>Learn more about Vuex at \"What is Vuex?\", or get started by looking into full documentation.</p>"},{"location":"new-third-part-lib/vuex/#documentation","title":"Documentation","text":"<p>To check out docs, visit vuex.vuejs.org.</p>"},{"location":"new-third-part-lib/vuex/#examples","title":"Examples","text":"<p>You may find example applications built with Vuex under the examples directory.</p> <p>Running the examples:</p> <pre><code>$ npm install\n$ npm run dev # serve examples at localhost:8080\n</code></pre> <p>\u200b</p>"},{"location":"new-third-part-lib/vxe-table/","title":"vxe-table","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3852  \u9605\u8bfb8\u5206\u949f</p> <p>\u57fa\u4e8eVue\u7684table\u914d\u7f6e\u7ec4\u4ef6\uff0c\u200c\u63d0\u4f9b\u5f3a\u5927\u7684\u8868\u683c\u529f\u80fd\uff0c\u200c\u5305\u62ec\u6570\u636e\u5c55\u793a\u3001\u200c\u6392\u5e8f\u3001\u200c\u7b5b\u9009\u7b49\u3002\u200c</p>"},{"location":"new-third-part-lib/vxe-table/#vxe-table_1","title":"vxe-table","text":""},{"location":"new-third-part-lib/vxe-table/#version","title":"version","text":"<p>4.6.18\u00a0\u2022 </p>"},{"location":"new-third-part-lib/vxe-table/#downloads","title":"downloads","text":"<p>23,550 </p>"},{"location":"new-third-part-lib/vxe-table/#repository","title":"repository","text":"<p>github.com/x-extends/vxe-table </p>"},{"location":"new-third-part-lib/vxe-table/#homepage","title":"homepage","text":"<p>vxetable.cn/ </p>"},{"location":"new-third-part-lib/vxe-table/#default-readme","title":"default readme","text":"<p>\u200b</p>"},{"location":"new-third-part-lib/vxe-table/#vxe-table_2","title":"vxe-table","text":"<p>\u7b80\u4f53\u4e2d\u6587 | \u7e41\u9ad4\u4e2d\u6587 | English</p> <p>\u200b</p> <p>\u4e00\u4e2a\u57fa\u4e8e vue \u7684 PC \u7aef\u8868\u5355/\u8868\u683c\u7ec4\u4ef6\uff0c\u652f\u6301\u589e\u5220\u6539\u67e5\u3001\u865a\u62df\u6811\u3001\u5217\u62d6\u62fd\u3001\u61d2\u52a0\u8f7d\u3001\u5feb\u6377\u83dc\u5355\u3001\u6570\u636e\u6821\u9a8c\u3001\u6253\u5370\u5bfc\u51fa\u3001\u8868\u5355\u6e32\u67d3\u3001\u81ea\u5b9a\u4e49\u6a21\u677f\u3001\u6e32\u67d3\u5668\u3001JSON \u914d\u7f6e\u5f0f...</p> <ul> <li> <p>\u8bbe\u8ba1\u7406\u5ff5 </p> </li> <li> <p>\u9762\u5411\u73b0\u4ee3\u6d4f\u89c8\u5668\uff0c\u9ad8\u6548\u7684\u7b80\u6d01 API \u8bbe\u8ba1</p> </li> <li> <p>\u6a21\u5757\u5316\u8868\u683c\u3001\u6309\u9700\u52a0\u8f7d</p> </li> <li> <p>\u4e3a\u5355\u884c\u7f16\u8f91\u8868\u683c\u800c\u8bbe\u8ba1\uff0c\u652f\u6301\u589e\u5220\u6539\u67e5\u53ca\u66f4\u591a\u6269\u5c55\uff0c\u5f3a\u5927\u7684\u529f\u80fd\u7684\u540c\u65f6\u517c\u5177\u6027\u80fd</p> </li> </ul> <p>\u200b</p>"},{"location":"new-third-part-lib/vxe-table/#_1","title":"\u529f\u80fd\u70b9","text":"<ul> <li> <p> \u57fa\u7840\u8868\u683c</p> </li> <li> <p> \u914d\u7f6e\u5f0f\u8868\u683c</p> </li> <li> <p> \u6591\u9a6c\u7ebf\u6761\u7eb9</p> </li> <li> <p> \u591a\u79cd\u8fb9\u6846</p> </li> <li> <p> \u5355\u5143\u683c\u6837\u5f0f</p> </li> <li> <p> \u5217\u5bbd\u62d6\u52a8</p> </li> <li> <p> \u6700\u5c0f/\u6700\u5927\u9ad8\u5ea6</p> </li> <li> <p> \u81ea\u9002\u5e94\u5bbd\u9ad8</p> </li> <li> <p> \u56fa\u5b9a\u5217</p> </li> <li> <p> \u591a\u7ea7\u8868\u5934</p> </li> <li> <p> \u8868\u5c3e\u6570\u636e</p> </li> <li> <p> \u9ad8\u4eae\u884c\u6216\u5217</p> </li> <li> <p> \u5e8f\u53f7</p> </li> <li> <p> \u5355\u9009\u6846</p> </li> <li> <p> \u590d\u9009\u6846</p> </li> <li> <p> \u6392\u5e8f</p> </li> <li> <p> \u591a\u5b57\u6bb5\u6392\u5e8f</p> </li> <li> <p> \u7b5b\u9009</p> </li> <li> <p> \u5408\u5e76\u5355\u5143\u683c</p> </li> <li> <p> \u5408\u5e76\u8868\u5c3e</p> </li> <li> <p> \u5bfc\u5165/\u5bfc\u51fa/\u6253\u5370</p> </li> <li> <p> \u663e\u793a/\u9690\u85cf\u5217</p> </li> <li> <p> \u62d6\u62fd/\u81ea\u5b9a\u4e49\u5217\u6392\u5e8f</p> </li> <li> <p> \u52a0\u8f7d\u4e2d</p> </li> <li> <p> \u683c\u5f0f\u5316\u5185\u5bb9</p> </li> <li> <p> \u81ea\u5b9a\u4e49\u63d2\u69fd - \u6a21\u677f</p> </li> <li> <p> \u5feb\u6377\u83dc\u5355</p> </li> <li> <p> \u5c55\u5f00\u884c</p> </li> <li> <p> \u5de5\u5177\u680f</p> </li> <li> <p> \u865a\u62df\u6811</p> </li> <li> <p> \u589e\u5220\u6539\u67e5</p> </li> <li> <p> \u6570\u636e\u6821\u9a8c</p> </li> <li> <p> \u6570\u636e\u4ee3\u7406</p> </li> <li> <p> \u952e\u76d8\u5bfc\u822a</p> </li> <li> <p> \u6e32\u67d3\u5668</p> </li> <li> <p> \u865a\u62df\u6eda\u52a8</p> </li> <li> <p> \u865a\u62df\u5408\u5e76</p> </li> <li> <p> CSS \u53d8\u91cf\u4e3b\u9898</p> </li> <li> <p> (\u4f01\u4e1a\u7248) \u5355\u5143\u683c\u533a\u57df\u9009\u53d6</p> </li> <li> <p> (\u4f01\u4e1a\u7248) \u5355\u5143\u683c\u590d\u5236/\u7c98\u8d34</p> </li> <li> <p> (\u4f01\u4e1a\u7248) \u5355\u5143\u683c\u67e5\u627e\u548c\u66ff\u6362</p> </li> <li> <p> (\u4f01\u4e1a\u7248) \u5168\u952e\u76d8\u64cd\u4f5c</p> </li> </ul>"},{"location":"new-third-part-lib/vxe-table/#_2","title":"\u5b89\u88c5","text":"<pre><code>npm install vxe-table\n</code></pre> <pre><code>\u200b    import { createApp } from 'vue'\n\u200b    import VXETable from 'vxe-table'\n\u200b    import 'vxe-table/lib/style.css'\n\u200b    \n\u200b    createApp(App).use(VXETable).mount('#app')\n</code></pre>"},{"location":"new-third-part-lib/vxe-table/#cdn","title":"CDN","text":"<p>\u4f7f\u7528\u7b2c\u4e09\u65b9 CDN \u65b9\u5f0f\u8bb0\u5f97\u9501\u5b9a\u7248\u672c\u53f7\uff0c\u907f\u514d\u53d7\u5230\u975e\u517c\u5bb9\u6027\u66f4\u65b0\u7684\u5f71\u54cd   \u4e0d\u5efa\u8bae\u5c06\u7b2c\u4e09\u65b9\u7684 CDN \u5730\u5740\u7528\u4e8e\u6b63\u5f0f\u73af\u5883\uff0c\u56e0\u4e3a\u8be5\u8fde\u63a5\u968f\u65f6\u90fd\u53ef\u80fd\u4f1a\u5931\u6548</p> <pre><code>\u200b    &lt;!-- \u5f15\u5165\u6837\u5f0f --&gt;\n\u200b    &lt;link rel=\"stylesheet\" href=\"https://unpkg.com/vxe-table/lib/style.css\"&gt;\n\u200b    &lt;!-- \u5f15\u5165\u811a\u672c --&gt;\n\u200b    &lt;script src=\"https://unpkg.com/xe-utils\"&gt;&lt;/script&gt;\n\u200b    &lt;script src=\"https://unpkg.com/vxe-table\"&gt;&lt;/script&gt;\n</code></pre>"},{"location":"new-third-part-lib/vxe-table/#_3","title":"\u793a\u4f8b","text":"<pre><code>&lt;template&gt;\n\u200b      &lt;div&gt;\n\u200b        &lt;vxe-table :data=\"tableData\"&gt;\n\u200b          &lt;vxe-column type=\"seq\" title=\"Seq\" width=\"60\"&gt;&lt;/vxe-column&gt;\n\u200b          &lt;vxe-column field=\"name\" title=\"Name\"&gt;&lt;/vxe-column&gt;\n\u200b          &lt;vxe-column field=\"role\" title=\"Role\"&gt;&lt;/vxe-column&gt;\n\u200b          &lt;vxe-colgroup title=\"Group1\"&gt;\n\u200b            &lt;vxe-column field=\"sex\" title=\"Sex\"&gt;&lt;/vxe-column&gt;\n\u200b            &lt;vxe-column field=\"address\" title=\"Address\"&gt;&lt;/vxe-column&gt;\n\u200b          &lt;/vxe-colgroup&gt;\n\u200b        &lt;/vxe-table&gt;\n\u200b      &lt;/div&gt;\n\u200b    &lt;/template&gt;\n\u200b    \n\u200b    &lt;script lang=\"ts\" setup&gt;\n\u200b    import { ref } from 'vue'\n\u200b    \n    const tableData = ref([\n      { id: 10001, name: 'Test1', role: 'Develop', sex: 'Man', address: 'Shenzhen' },\n      { id: 10002, name: 'Test2', role: 'Test', sex: 'Man', address: 'Guangzhou' },\n      { id: 10003, name: 'Test3', role: 'PM', sex: 'Man', address: 'Shanghai' }\n    ])\n    &lt;/script&gt;\n</code></pre>"},{"location":"new-third-part-lib/vxe-table/#_4","title":"\u5728\u7ebf\u6587\u6863","text":"<p>https://vxetable.cn/</p>"},{"location":"new-third-part-lib/vxe-table/#_5","title":"\u8fd0\u884c\u9879\u76ee","text":"<p>\u5b89\u88c5\u4f9d\u8d56</p> <p>\u200b</p> <p>    npm run update</p> <p>\u542f\u52a8\u672c\u5730\u8c03\u8bd5</p> <p>     \u200b    npm run serve</p> <p>\u7f16\u8bd1\u6253\u5305\uff0c\u751f\u6210\u7f16\u8bd1\u540e\u7684\u76ee\u5f55\uff1aes,lib</p> <p>     \u200b    npm run lib</p> <p>\u200b</p> <p>\u200b</p> <p> </p>"},{"location":"new-third-part-lib/wangeditor/","title":"wangeditor","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 910  \u9605\u8bfb2\u5206\u949f</p> <p>\u8fd9\u662f\u4e00\u4e2a\u5bcc\u6587\u672c\u7f16\u8f91\u5668\u7ec4\u4ef6\uff0c\u200c\u9002\u7528\u4e8e\u9700\u8981\u7528\u6237\u8f93\u5165\u6587\u672c\u5e76\u683c\u5f0f\u5316\u7684\u573a\u666f\u3002\u200c</p> <p>https://www.npmjs.com/package/@wangeditor/editor</p> <p>\u5f00\u6e90 Web \u5bcc\u6587\u672c\u7f16\u8f91\u5668\uff0c\u5f00\u7bb1\u5373\u7528\uff0c\u914d\u7f6e\u7b80\u5355\u3002\u652f\u6301 JS Vue React \u3002</p> <ul> <li>\u6587\u6863</li> </ul> <p>www.wangeditor.com/</p> <p>github.com/wangeditor-team/wangEditor</p> <p>18K stars</p> <pre><code>npm i @wangeditor/editor\n</code></pre> <pre><code>import '@wangeditor/editor/dist/css/style.css'\nimport { createEditor, createToolbar } from '@wangeditor/editor'\n\n// \u521b\u5efa\u7f16\u8f91\u5668\nconst editor = createEditor({\n  selector: '#editor-container'\n})\n// \u521b\u5efa\u5de5\u5177\u680f\nconst toolbar = createToolbar({\n  editor,\n  selector: '#toolbar-container'\n})\n</code></pre> <p>\u200b</p>"},{"location":"new-third-part-lib/watermark/","title":"\u6c34\u5370\u63d2\u4ef6\u5b66\u4e60","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4731  \u9605\u8bfb10\u5206\u949f</p> <p>\u672c\u5730\u5f15\u7528\uff1a\u76f4\u63a5\u5c06\u5e93\u4ee5script\u5f62\u5f0f\u5bfc\u5165\uff0c\u8fdb\u884c\u5982\u4e0b\u914d\u7f6e\uff0c\u5373\u53ef\u5728\u754c\u9762\u4e2d\u663e\u793a\u6c34\u5370\u6548\u679c\u3002</p> <pre><code>        watermark.init({\n            watermark_txt: \"\u6d4b\u8bd5\u6c34\u5370\",\n            watermark_x_space: 20,\n            watermark_y_space: 20,\n            watermark_parent_width: 1045\n        });\n</code></pre> <p>npm install watermark-dom \u9879\u76ee\u4e2d\u8fdb\u884c\u5f15\u7528</p> <pre><code>if (enableWatermark) {\n  // \u5916\u90e8\u4f20\u5165\u53c2\u6570\uff0c\u5224\u65ad\u662f\u5426\u663e\u793a\u6c34\u5370\n  let watermark_txt;\n  if (loginUser) {\n    watermark_txt = siteName + \"  \" + loginUser;\n    // \u5982\u679c\u662f\u767b\u5f55\u7528\u6237\uff0c\u663e\u793a\u7ad9\u70b9\u540d\u79f0\u548c\u767b\u9646\u8005\u7684\u4fe1\u606f\n  } else {\n    watermark_txt = gettext(\"Anonymous User\");\n    // \u5982\u679c\u662f\u975e\u767b\u5f55\u7528\u6237\uff0c\u663e\u793a\u9ed8\u8ba4\u767b\u9646\u8005\n  }\n  watermark.init({\n    watermark_txt: watermark_txt\n  });\n  // \u5c06\u6587\u5b57\u4fe1\u606f\u663e\u793a\u5230\u754c\u9762\u4e0a\n}\n\n// \u662f\u5426\u663e\u793a\u6c34\u5370\u53ef\u4ee5\u540e\u7aef\u83b7\u53d6\u6216\u8005\u754c\u9762JS\u63a7\u5236\uff1b\n</code></pre>"},{"location":"new-third-part-lib/watermark/#watermark","title":"watermark","text":"<p>https://github.com/saucxs/watermark</p> <p><code>watermark.js</code>\u662f\u4e00\u4e2a\u7ed9B/S\u7f51\u7ad9\u7cfb\u7edf\u52a0\u4e00\u4e2a\u5f88\u6d45\u7684\u6c34\u5370\u63d2\u4ef6\uff0c\u786e\u4fdd\u7cfb\u7edf\u7684\u4fdd\u5bc6\u6027\uff0c\u5b89\u5168\u6027\uff0c\u964d\u4f4e\u6570\u636e\u6cc4\u5bc6\u98ce\u9669\u3002</p> <p>\u6c34\u5370\u63d2\u4ef6\u5185\u5bb9\uff0c\u5305\u542b</p> <p>1\u3001\u6c34\u5370\u63d2\u4ef6-\u4f7f\u7528\uff0c</p> <p>2\u3001\u6c34\u5370\u63d2\u4ef6-testTool\uff08\u6d4b\u8bd5\u5de5\u5177\uff09\uff0c</p> <p>3\u3001API\u4ecb\u7ecd\uff0c</p> <p>4\u3001\u652f\u6301\u6d4f\u89c8\u5668</p> <p>\u6ce8\u610f\uff1a\u57fa\u4e8e\u672c\u9879\u76ee\u6e90\u7801\u4ece\u4e8b\u79d1\u7814\u3001\u8bba\u6587\u3001\u7cfb\u7edf\u5f00\u53d1\uff0c\"\u6700\u597d\"\u5728\u6587\u4e2d\u6216\u7cfb\u7edf\u4e2d\u8868\u660e\u6765\u81ea\u4e8e\u672c\u9879\u76ee\u7684\u5185\u5bb9\u548c\u521b\u610f\uff0c\u5426\u5219\u6240\u6709\u8d21\u732e\u8005\u53ef\u80fd\u4f1a\u9119\u89c6\u4f60\u548c\u4f60\u7684\u9879\u76ee\u3002 \u4f7f\u7528\u672c\u9879\u76ee\u6e90\u7801\u8bf7\u5c0a\u91cd\u7a0b\u5e8f\u5458\u804c\u4e1a\u548c\u52b3\u52a8</p>"},{"location":"new-third-part-lib/watermark/#1-","title":"1\u3001\u6c34\u5370\u63d2\u4ef6-\u4f7f\u7528","text":""},{"location":"new-third-part-lib/watermark/#11-js","title":"1.1 \u672c\u5730\u5f15\u5165\u5c01\u88c5\u7684js\u6587\u4ef6","text":"<p>\u53ea\u662f\u7b80\u5355\u7684\u52a0\u4e00\u4e2a\u5f88\u6d45\u7684\u6c34\u5370\uff0c\u5b9e\u73b0\u8d77\u6765\u5f88\u5bb9\u6613\u3002\u4e0d\u9700\u8981\u5f15\u5165jquery\u63d2\u4ef6\u3002</p> <p><code>watermark.js</code>\u662f\u5fc5\u987b\u8981\u5f15\u8fdb\u7684\u7ec4\u4ef6</p> <p>\u7b2c\u4e00\u6b65\uff1a\u83b7\u53d6\u7ec4\u4ef6\u65b9\u5f0f\uff1a<code>git clone https://github.com/saucxs/watermark.git</code></p> <p>\u7b2c\u4e8c\u6b65\uff1aclone\u540e\uff0c\u5728\u9700\u8981\u52a0\u6c34\u5370\u7684\u76f8\u5173\u9875\u9762\u5f15\u5165\u6c34\u5370\u6587\u4ef6\"watermark.js\": <pre><code>        script type=\"text/javascript\" src=\"./watermark/watermark.js\"&gt;&lt;/script&gt;\n</code></pre></p> <p>\u7b2c\u4e09\u6b65\uff1a\u5728\u786e\u4fdd\u9875\u9762DOM\u52a0\u8f7d\u5b8c\u6bd5\u4e4b\u540e\uff0c\u8c03\u7528watermark\u7684load\u65b9\u6cd5: <pre><code>        &lt;!--watermark start--&gt;\n                  &lt;script&gt;watermark.load({ watermark_txt: \"\u6d4b\u8bd5\u6c34\u5370\uff0c1021002301\uff0c\u6d4b\u8bd5\u6c34\u5370\uff0c100101010111101\" })&lt;/script&gt;\n         &lt;!--watermark end--&gt;\n</code></pre></p> <p>\u4f7f\u7528\u63d2\u4ef6\u7684\u6548\u679c\u5730\u57401\uff1ahttps://www.chengxinsong.cn</p> <p>\u4f7f\u7528\u63d2\u4ef6\u7684\u6548\u679c\u5730\u57402\uff1ahttp://www.mwcxs.top/static/mybs/sinaweibo/index.html</p> <p></p> <p>\u83b7\u53d6\u4e00\u4e2awatermark_demo1\u7684\u6e90\u7801\uff08watermark_demo1\u6587\u4ef6\u5939\uff09</p>"},{"location":"new-third-part-lib/watermark/#12-npm","title":"1.2 npm\u5305\u5f15\u5165","text":"<p>\u7b2c\u4e00\u6b65\uff1anpm\u83b7\u53d6\u6c34\u5370\u7ec4\u4ef6\u5305\uff1a  <pre><code>npm install watermark-dom\n</code></pre> \u7b2c\u4e8c\u6b65\uff1a\u5f15\u5165\u6c34\u5370\u6a21\u5757\uff1a <pre><code>import watermark from 'watermark-dom'\n\u6216\u8005\nvar watermarkDom = require(\"watermark-dom\")\n</code></pre> \u7b2c\u4e09\u6b65\uff1a\u5728\u9700\u8981\u4f7f\u7528\u6c34\u5370\u7684\u9875\u9762js\u4e2d\u8c03\u7528\u6c34\u5370\u521d\u59cb\u5316\u65b9\u6cd5 <pre><code>watermark.init({ watermark_txt: \"\u6d4b\u8bd5\u6c34\u5370\"});\n</code></pre></p>"},{"location":"new-third-part-lib/watermark/#2-testtool","title":"2\u3001\u6c34\u5370\u63d2\u4ef6-testTool\uff08\u6d4b\u8bd5\u5de5\u5177\uff09","text":"<p>\u83b7\u53d6\u65b9\u5f0f\uff1a<code>git clone https://github.com/saucxs/watermark.git</code></p> <p>\u7528\u6d4f\u89c8\u5668\u6253\u5f00index.html</p> <p>\u67e5\u770b\u5730\u5740\uff1ahttp://blog.mwcxs.top/static/testTool/index.html</p> <p>\u770b\u5230\u6c34\u5370\u63d2\u4ef6-\u6d4b\u8bd5demo\u7684\u6548\u679c </p>"},{"location":"new-third-part-lib/watermark/#3api","title":"3\u3001API\u4ecb\u7ecd","text":"<p>\u683c\u5f0f\uff1a[\u8bf7\u6c42\u7c7b\u578b:]URL\u5730\u5740</p> <p>\u4f8b\u5982\uff1a</p> <pre><code> get:/api/watermark    //\u83b7\u53d6\u6c34\u5370\u53c2\u6570\n post:/api/watermark   //\u53d1\u5e03\u6c34\u5370\u53c2\u6570\n put:/api/watermark    //\u66f4\u65b0\u6c34\u5370\u53c2\u6570\n delete:/api/watermark   //\u5220\u9664\u6c34\u5370\u53c2\u6570\n</code></pre> <p>PS\uff1a\u5982\u679c\u6ca1\u6709\u6dfb\u52a0\u8bf7\u6c42\u7c7b\u578b\u7684\u8bdd\uff0c\u9ed8\u8ba4\u4e3aget\u8bf7\u6c42\u3002</p> <p>\u8fd4\u56de\u7ed3\u679c\u5b9a\u4e49\uff1a</p> <p>\u8fd4\u56de\u7ed3\u679c\u6839\u636e\u4e0d\u540c\u7684\u72b6\u6001\u9700\u8981\u5b9a\u4e49\uff0c\u8fd4\u56de\u7ed3\u679c<code>&lt;&lt;&lt;</code>\u6807\u8bc6\uff0c\u4f8b\u5982\uff1a</p> <pre><code>&lt;&lt;&lt;\nsuccess\n{\n    \"errNum\":0,\n    \"retMsg\":\"success\",\n    \"retData\":{\n          \"watermark_txt\":\"\u6d4b\u8bd5\u6c34\u5370\",\n          \"watermark_x\":20,//\u6c34\u5370\u8d77\u59cb\u4f4d\u7f6ex\u8f74\u5750\u6807\n          \"watermark_y\":20,//\u6c34\u5370\u8d77\u59cb\u4f4d\u7f6eY\u8f74\u5750\u6807\n          \"watermark_rows\":0,//\u6c34\u5370\u884c\u6570\n          \"watermark_cols\":0,//\u6c34\u5370\u5217\u6570\n          \"watermark_x_space\":100,//\u6c34\u5370x\u8f74\u95f4\u9694\n          \"watermark_y_space\":50,//\u6c34\u5370y\u8f74\u95f4\u9694\n          \"watermark_font\":'\u5fae\u8f6f\u96c5\u9ed1',//\u6c34\u5370\u5b57\u4f53\n          \"watermark_color\":'black',//\u6c34\u5370\u5b57\u4f53\u989c\u8272\n          \"watermark_fontsize\":'18px',//\u6c34\u5370\u5b57\u4f53\u5927\u5c0f\n          \"watermark_alpha\":0.15,//\u6c34\u5370\u900f\u660e\u5ea6\uff0c\u8981\u6c42\u8bbe\u7f6e\u5728\u5927\u4e8e\u7b49\u4e8e0.003\n          \"watermark_width\":150,//\u6c34\u5370\u5bbd\u5ea6\n          \"watermark_height\":100,//\u6c34\u5370\u957f\u5ea6\n          \"watermark_angle\":15,//\u6c34\u5370\u503e\u659c\u5ea6\u6570\n    }\n}\n\n&lt;&lt;&lt;\nerror\n{\n    \"errNum\":0,\n    \"retMsg\":\"success\",\n    \"retData\":[]\n}\n</code></pre>"},{"location":"new-third-part-lib/watermark/#4","title":"4\u3001\u652f\u6301\u6d4f\u89c8\u5668","text":"<p>Chrome,FireFox,IE6\u30017\u30018\u30019\u300110\u300111\u6d4f\u89c8\u5668\uff08\u9f20\u6807\u4e8b\u4ef6\u5411\u4e0b\u4f20\u5bfc\uff0c\u4e0d\u652f\u6301select\u63a7\u4ef6\uff09 IE6\u30017\u30018\u4e0d\u652f\u6301\u65cb\u8f6c</p>"},{"location":"new-third-part-lib/webpack-cli/","title":"webpack-cli","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 7218  \u9605\u8bfb15\u5206\u949f</p>"},{"location":"new-third-part-lib/webpack-cli/#webpack-cli","title":"webpack-cli","text":""},{"location":"new-third-part-lib/webpack-cli/#version","title":"version","text":"<p>5.1.4\u00a0\u2022 </p>"},{"location":"new-third-part-lib/webpack-cli/#downloads","title":"downloads","text":"<p>7,324,228 </p>"},{"location":"new-third-part-lib/webpack-cli/#repository","title":"repository","text":"<p>github.com/webpack/webpack-cli </p>"},{"location":"new-third-part-lib/webpack-cli/#homepage","title":"homepage","text":"<p>github.com/webpack/webpack-cli/tree/master/packages/webpack-cli </p>"},{"location":"new-third-part-lib/webpack-cli/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/webpack-cli/#webpack-cli_1","title":"webpack CLI","text":"<p>The official CLI of webpack</p>"},{"location":"new-third-part-lib/webpack-cli/#about","title":"About","text":"<p>webpack CLI provides a flexible set of commands for developers to increase speed when setting up a custom webpack project. As of webpack v4, webpack is not expecting a configuration file, but often developers want to create a more custom webpack configuration based on their use-cases and needs. webpack CLI addresses these needs by providing a set of tools to improve the setup of custom webpack configuration.</p>"},{"location":"new-third-part-lib/webpack-cli/#how-to-install","title":"How to install","text":"<p>When you have followed the Getting Started guide of webpack then webpack CLI is already installed!</p> <p>Otherwise</p> <pre><code>npm install --save-dev webpack-cli\n</code></pre> <p>or</p> <pre><code>yarn add webpack-cli --dev\n</code></pre>"},{"location":"new-third-part-lib/webpack-cli/#supported-arguments-and-commands","title":"Supported arguments and commands","text":""},{"location":"new-third-part-lib/webpack-cli/#usage","title":"Usage","text":"<p>All interactions with webpack-cli are of the form</p> <pre><code>npx webpack-cli [command] [options]\n</code></pre> <p>If no command is specified then <code>bundle</code> command is used by default</p>"},{"location":"new-third-part-lib/webpack-cli/#help-usage","title":"Help Usage","text":"<p>To display basic commands and arguments -</p> <pre><code>npx webpack-cli --help\n</code></pre> <p>To display all supported commands and arguments -</p> <pre><code>npx webpack-cli --help=verbose\n</code></pre> <p>or</p> <pre><code>npx webpack-cli --help verbose\n</code></pre>"},{"location":"new-third-part-lib/webpack-cli/#available-commands","title":"Available Commands","text":"<pre><code>  build|bundle|b [entries...] [options]                 Run webpack (default command, can be omitted).\n  configtest|t [config-path]                            Validate a webpack configuration.\n  help|h [command] [option]                             Display help for commands and options.\n  info|i [options]                                      Outputs information about your system.\n  init|create|new|c|n [generation-path] [options]       Initialize a new webpack project.\n  loader|l [output-path] [options]                      Scaffold a loader.\n  plugin|p [output-path] [options]                      Scaffold a plugin.\n  serve|server|s [entries...] [options]                 Run the webpack dev server.\n  version|v [commands...]                               Output the version number of 'webpack', 'webpack-cli' and 'webpack-dev-server' and commands.\n  watch|w [entries...] [options]                        Run webpack and watch for files changes.\n</code></pre>"},{"location":"new-third-part-lib/webpack-cli/#available-options","title":"Available Options","text":"<pre><code>Options:\n  -c, --config &lt;value...&gt;                          Provide path to a webpack configuration file e.g. ./webpack.config.js.\n  --config-name &lt;value...&gt;                         Name of the configuration to use.\n  -m, --merge                                      Merge two or more configurations using 'webpack-merge'.\n  --disable-interpret                              Disable interpret for loading the config file.\n  --env &lt;value...&gt;                                 Environment passed to the configuration when it is a function.\n  --node-env &lt;value&gt;                               Sets process.env.NODE_ENV to the specified value.\n  --define-process-env-node-env &lt;value&gt;            Sets process.env.NODE_ENV to the specified value. (Currently an alias for `--node-env`)\n  --analyze                                        It invokes webpack-bundle-analyzer plugin to get bundle information.\n  --progress [value]                               Print compilation progress during build.\n  -j, --json [value]                               Prints result as JSON or store it in a file.\n  --fail-on-warnings                               Stop webpack-cli process with non-zero exit code on warnings from webpack\n  -d, --devtool &lt;value&gt;                            A developer tool to enhance debugging (false | eval | [inline-|hidden-|eval-][nosources-][cheap-[module-]]source-map).\n  --no-devtool                                     Negative 'devtool' option.\n  --entry &lt;value...&gt;                               A module that is loaded upon startup. Only the last one is exported.\n  --mode &lt;value&gt;                                   Enable production optimizations or development hints.\n  --name &lt;value&gt;                                   Name of the configuration. Used when loading multiple configurations.\n  -o, --output-path &lt;value&gt;                        The output directory as **absolute path** (required).\n  --stats [value]                                  Stats options object or preset name.\n  --no-stats                                       Negative 'stats' option.\n  -t, --target &lt;value...&gt;                          Environment to build for. Environment to build for. An array of environments to build for all of them when possible.\n  --no-target                                      Negative 'target' option.\n  -w, --watch                                      Enter watch mode, which rebuilds on file change.\n  --no-watch                                       Negative 'watch' option.\n  --watch-options-stdin                            Stop watching when stdin stream has ended.\n  --no-watch-options-stdin                         Negative 'watch-options-stdin' option.\n\nGlobal options:\n  --color                                          Enable colors on console.\n  --no-color                                       Disable colors on console.\n  -v, --version                                    Output the version number of 'webpack', 'webpack-cli' and 'webpack-dev-server' and commands.\n  -h, --help [verbose]                             Display help for commands and options.\n</code></pre> <p>Checkout <code>OPTIONS.md</code> to see list of all available options.</p>"},{"location":"new-third-part-lib/webpack-cli/#exit-codes-and-their-meanings","title":"Exit codes and their meanings","text":"Exit Code Description <code>0</code> Success <code>1</code> Errors from webpack <code>2</code> Configuration/options problem or an internal error"},{"location":"new-third-part-lib/webpack-cli/#cli-environment-variables","title":"CLI Environment Variables","text":"Environment Variable Description <code>WEBPACK_CLI_SKIP_IMPORT_LOCAL</code> when <code>true</code> it will skip using the local instance of <code>webpack-cli</code>. <code>WEBPACK_CLI_FORCE_LOAD_ESM_CONFIG</code> when <code>true</code> it will force load the ESM config. <code>WEBPACK_PACKAGE</code> Use a custom webpack version in CLI. <code>WEBPACK_DEV_SERVER_PACKAGE</code> Use a custom webpack-dev-server version in CLI. <code>WEBPACK_CLI_HELP_WIDTH</code> Use custom width for help output."},{"location":"new-third-part-lib/webpack-cli/#configuration-environment-variables","title":"Configuration Environment Variables","text":"<p>You can use the following environment variables inside your webpack configuration:</p> Environment Variable Description <code>WEBPACK_SERVE</code> <code>true</code> if <code>serve|s</code> is being used. <code>WEBPACK_BUILD</code> <code>true</code> if <code>build|bundle|b</code> is being used. <code>WEBPACK_WATCH</code> <code>true</code> if <code>--watch|watch|w</code> is being used. <p>Checkout webpack.js.org for more detailed documentation of <code>webpack-cli</code>.</p>"},{"location":"new-third-part-lib/webpack-dev-server/","title":"webpack-dev-server","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 18840  \u9605\u8bfb38\u5206\u949f</p>"},{"location":"new-third-part-lib/webpack-dev-server/#webpack-dev-server","title":"webpack-dev-server","text":""},{"location":"new-third-part-lib/webpack-dev-server/#version","title":"version","text":"<p>5.0.4\u00a0\u2022 </p>"},{"location":"new-third-part-lib/webpack-dev-server/#downloads","title":"downloads","text":"<p>12,293,707 </p>"},{"location":"new-third-part-lib/webpack-dev-server/#repository","title":"repository","text":"<p>github.com/webpack/webpack-dev-server </p>"},{"location":"new-third-part-lib/webpack-dev-server/#homepage","title":"homepage","text":"<p>github.com/webpack/webpack-dev-server#readme </p>"},{"location":"new-third-part-lib/webpack-dev-server/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/webpack-dev-server/#webpack-dev-server_1","title":"webpack-dev-server","text":"<p>Use webpack with a development server that provides live reloading. This should be used for development only.</p> <p>It uses webpack-dev-middleware under the hood, which provides fast in-memory access to the webpack assets.</p>"},{"location":"new-third-part-lib/webpack-dev-server/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Getting Started</li> <li>Usage<ul> <li>With the CLI</li> <li>With NPM Scripts</li> <li>With the API</li> <li>With TypeScript</li> <li>The Result</li> </ul> </li> <li>Browser Support</li> <li>Support</li> <li>Contributing</li> <li>Attribution</li> <li>License</li> </ul>"},{"location":"new-third-part-lib/webpack-dev-server/#getting-started","title":"Getting Started","text":"<p>First things first, install the module:</p> <p>\u200b       npm install webpack-dev-server --save-dev</p> <p>or</p> <p>\u200b       yarn add -D webpack-dev-server</p> <p>or</p> <p>\u200b       pnpm add -D webpack-dev-server</p> <p>Note: While you can install and run webpack-dev-server globally, we recommend installing it locally. webpack-dev-server will always use a local installation over a global one.</p>"},{"location":"new-third-part-lib/webpack-dev-server/#usage","title":"Usage","text":"<p>There are two main, recommended methods of using the module:</p>"},{"location":"new-third-part-lib/webpack-dev-server/#with-the-cli","title":"With the CLI","text":"<p>The easiest way to use it is with the webpack CLI. In the directory where your <code>webpack.config.js</code> is, run:</p> <p>\u200b       npx webpack serve</p> <p>Following options are available with <code>webpack serve</code>:</p> <p>\u200b       Usage: webpack serve|server|s [entries...] [options]</p> <pre><code>Run the webpack dev server.\n\nOptions:\n  -c, --config &lt;value...&gt;                             Provide path to a webpack configuration file e.g. ./webpack.config.js.\n  --config-name &lt;value...&gt;                            Name of the configuration to use.\n  -m, --merge                                         Merge two or more configurations using 'webpack-merge'.\n  --disable-interpret                                 Disable interpret for loading the config file.\n  --env &lt;value...&gt;                                    Environment passed to the configuration when it is a function.\n  --node-env &lt;value&gt;                                  Sets process.env.NODE_ENV to the specified value.\n  --define-process-env-node-env &lt;value&gt;               Sets process.env.NODE_ENV to the specified value. (Currently an alias for `--node-env`)\n  --analyze                                           It invokes webpack-bundle-analyzer plugin to get bundle information.\n  --progress [value]                                  Print compilation progress during build.\n  -j, --json [value]                                  Prints result as JSON or store it in a file.\n  --fail-on-warnings                                  Stop webpack-cli process with non-zero exit code on warnings from webpack\n  -d, --devtool &lt;value&gt;                               A developer tool to enhance debugging (false | eval | [inline-|hidden-|eval-][nosources-][cheap-[module-]]source-map).\n  --no-devtool                                        Negative 'devtool' option.\n  --entry &lt;value...&gt;                                  A module that is loaded upon startup. Only the last one is exported.\n  --mode &lt;value&gt;                                      Enable production optimizations or development hints.\n  --name &lt;value&gt;                                      Name of the configuration. Used when loading multiple configurations.\n  -o, --output-path &lt;value&gt;                           The output directory as **absolute path** (required).\n  --stats [value]                                     Stats options object or preset name.\n  --no-stats                                          Negative 'stats' option.\n  -t, --target &lt;value...&gt;                             Environment to build for. Environment to build for. An array of environments to build for all of them when possible.\n  --no-target                                         Negative 'target' option.\n  --watch-options-stdin                               Stop watching when stdin stream has ended.\n  --no-watch-options-stdin                            Negative 'watch-options-stdin' option.\n  --allowed-hosts &lt;value...&gt;                          Allows to enumerate the hosts from which access to the dev server are allowed (useful when you are proxying dev server, by default is 'auto').\n  --allowed-hosts-reset                               Clear all items provided in 'allowedHosts' configuration. Allows to enumerate the hosts from which access to the dev server are allowed (useful when you are proxying dev server, by default is 'auto').\n  --bonjour                                           Allows to broadcasts dev server via ZeroConf networking on start.\n  --no-bonjour                                        Disallows to broadcasts dev server via ZeroConf networking on start.\n  --no-client                                         Disables client script.\n  --client-logging &lt;value&gt;                            Allows to set log level in the browser.\n  --client-overlay                                    Enables a full-screen overlay in the browser when there are compiler errors or warnings.\n  --no-client-overlay                                 Disables the full-screen overlay in the browser when there are compiler errors or warnings.\n  --client-overlay-errors                             Enables a full-screen overlay in the browser when there are compiler errors.\n  --no-client-overlay-errors                          Disables the full-screen overlay in the browser when there are compiler errors.\n  --client-overlay-warnings                           Enables a full-screen overlay in the browser when there are compiler warnings.\n  --no-client-overlay-warnings                        Disables the full-screen overlay in the browser when there are compiler warnings.\n  --client-overlay-runtime-errors                     Enables a full-screen overlay in the browser when there are uncaught runtime errors.\n  --no-client-overlay-runtime-errors                  Disables the full-screen overlay in the browser when there are uncaught runtime errors.\n  --client-overlay-trusted-types-policy-name &lt;value&gt;  The name of a Trusted Types policy for the overlay. Defaults to 'webpack-dev-server#overlay'.\n  --client-progress                                   Prints compilation progress in percentage in the browser.\n  --no-client-progress                                Does not print compilation progress in percentage in the browser.\n  --client-reconnect [value]                          Tells dev-server the number of times it should try to reconnect the client.\n  --no-client-reconnect                               Tells dev-server to not to try to reconnect the client.\n  --client-web-socket-transport &lt;value&gt;               Allows to set custom web socket transport to communicate with dev server.\n  --client-web-socket-url &lt;value&gt;                     Allows to specify URL to web socket server (useful when you're proxying dev server and client script does not always know where to connect to).\n  --client-web-socket-url-hostname &lt;value&gt;            Tells clients connected to devServer to use the provided hostname.\n  --client-web-socket-url-pathname &lt;value&gt;            Tells clients connected to devServer to use the provided path to connect.\n  --client-web-socket-url-password &lt;value&gt;            Tells clients connected to devServer to use the provided password to authenticate.\n  --client-web-socket-url-port &lt;value&gt;                Tells clients connected to devServer to use the provided port.\n  --client-web-socket-url-protocol &lt;value&gt;            Tells clients connected to devServer to use the provided protocol.\n  --client-web-socket-url-username &lt;value&gt;            Tells clients connected to devServer to use the provided username to authenticate.\n  --compress                                          Enables gzip compression for everything served.\n  --no-compress                                       Disables gzip compression for everything served.\n  --history-api-fallback                              Allows to proxy requests through a specified index page (by default 'index.html'), useful for Single Page Applications that utilise the HTML5 History API.\n  --no-history-api-fallback                           Disallows to proxy requests through a specified index page.\n  --host &lt;value&gt;                                      Allows to specify a hostname to use.\n  --hot [value]                                       Enables Hot Module Replacement.\n  --no-hot                                            Disables Hot Module Replacement.\n  --ipc [value]                                       Listen to a unix socket.\n  --live-reload                                       Enables reload/refresh the page(s) when file changes are detected (enabled by default).\n  --no-live-reload                                    Disables reload/refresh the page(s) when file changes are detected (enabled by default).\n  --open [value...]                                   Allows to configure dev server to open the browser(s) and page(s) after server had been started (set it to true to open your default browser).\n  --no-open                                           Does not open the default browser.\n  --open-target &lt;value...&gt;                            Opens specified page in browser.\n  --open-app-name &lt;value...&gt;                          Open specified browser.\n  --open-reset                                        Clear all items provided in 'open' configuration. Allows to configure dev server to open the browser(s) and page(s) after server had been started (set it to true to open your default browser).\n  --open-target-reset                                 Clear all items provided in 'open.target' configuration. Opens specified page in browser.\n  --open-app-name-reset                               Clear all items provided in 'open.app.name' configuration. Open specified browser.\n  --port &lt;value&gt;                                      Allows to specify a port to use.\n  --server-type &lt;value&gt;                               Allows to set server and options (by default 'http').\n  --server-options-passphrase &lt;value&gt;                 Passphrase for a pfx file.\n  --server-options-request-cert                       Request for an SSL certificate.\n  --no-server-options-request-cert                    Does not request for an SSL certificate.\n  --server-options-ca &lt;value...&gt;                      Path to an SSL CA certificate or content of an SSL CA certificate.\n  --server-options-ca-reset                           Clear all items provided in 'server.options.ca' configuration. Path to an SSL CA certificate or content of an SSL CA certificate.\n  --server-options-cert &lt;value...&gt;                    Path to an SSL certificate or content of an SSL certificate.\n  --server-options-cert-reset                         Clear all items provided in 'server.options.cert' configuration. Path to an SSL certificate or content of an SSL certificate.\n  --server-options-crl &lt;value...&gt;                     Path to PEM formatted CRLs (Certificate Revocation Lists) or content of PEM formatted CRLs (Certificate Revocation Lists).\n  --server-options-crl-reset                          Clear all items provided in 'server.options.crl' configuration. Path to PEM formatted CRLs (Certificate Revocation Lists) or content of PEM formatted CRLs (Certificate Revocation Lists).\n  --server-options-key &lt;value...&gt;                     Path to an SSL key or content of an SSL key.\n  --server-options-key-reset                          Clear all items provided in 'server.options.key' configuration. Path to an SSL key or content of an SSL key.\n  --server-options-pfx &lt;value...&gt;                     Path to an SSL pfx file or content of an SSL pfx file.\n  --server-options-pfx-reset                          Clear all items provided in 'server.options.pfx' configuration. Path to an SSL pfx file or content of an SSL pfx file.\n  --static [value...]                                 Allows to configure options for serving static files from directory (by default 'public' directory).\n  --no-static                                         Disallows to configure options for serving static files from directory.\n  --static-directory &lt;value...&gt;                       Directory for static contents.\n  --static-public-path &lt;value...&gt;                     The static files will be available in the browser under this public path.\n  --static-serve-index                                Tells dev server to use serveIndex middleware when enabled.\n  --no-static-serve-index                             Does not tell dev server to use serveIndex middleware.\n  --static-watch                                      Watches for files in static content directory.\n  --no-static-watch                                   Does not watch for files in static content directory.\n  --static-reset                                      Clear all items provided in 'static' configuration. Allows to configure options for serving static files from directory (by default 'public' directory).\n  --static-public-path-reset                          Clear all items provided in 'static.publicPath' configuration. The static files will be available in the browser under this public path.\n  --watch-files &lt;value...&gt;                            Allows to configure list of globs/directories/files to watch for file changes.\n  --watch-files-reset                                 Clear all items provided in 'watchFiles' configuration. Allows to configure list of globs/directories/files to watch for file changes.\n  --no-web-socket-server                              Disallows to set web socket server and options.\n  --web-socket-server-type &lt;value&gt;                    Allows to set web socket server and options (by default 'ws').\n\nGlobal options:\n  --color                                             Enable colors on console.\n  --no-color                                          Disable colors on console.\n  -v, --version                                       Output the version number of 'webpack', 'webpack-cli' and 'webpack-dev-server' and commands.\n  -h, --help [verbose]                                Display help for commands and options.\n\nTo see list of all supported commands and options run 'webpack --help=verbose'.\n\nWebpack documentation: https://webpack.js.org/.\nCLI documentation: https://webpack.js.org/api/cli/.\nMade with \u2665 by the webpack team.\n</code></pre> <p>Note</p> <p>Detailed documentation for above options is available on thislink.</p>"},{"location":"new-third-part-lib/webpack-dev-server/#with-npm-scripts","title":"With NPM Scripts","text":"<p>NPM package.json scripts are a convenient and useful means to run locally installed binaries without having to be concerned about their full paths. Simply define a script as such:</p> <p>\u200b       {       \"scripts\": {         \"serve\": \"webpack serve\"       }     }</p> <p>And run the following in your terminal/console:</p> <p>\u200b       npm run serve</p> <p>NPM will automatically refer to the the binary in <code>node_modules</code> for you, and execute the file or command.</p>"},{"location":"new-third-part-lib/webpack-dev-server/#with-the-api","title":"With the API","text":"<p>While it's recommended to run webpack-dev-server via the CLI, you may also choose to start a server via the API.</p> <p>See the related API documentation for <code>webpack-dev- server</code>.</p>"},{"location":"new-third-part-lib/webpack-dev-server/#with-typescript","title":"With TypeScript","text":"<p>If you use TypeScript in the webpack config, you'll need to properly type <code>devServer</code> property in order to avoid TS errors (e.g. <code>'devServer' does not exist in type 'Configuration'</code>). For that use either:</p> <p>\u200b       ///      import type { Configuration } from \"webpack\";</p> <pre><code>// Your logic\n</code></pre> <p>Or you can import the type from <code>webpack-dev-server</code>, i.e.</p> <p>\u200b       import type { Configuration as DevServerConfiguration } from \"webpack-dev-server\";     import type { Configuration } from \"webpack\";</p> <pre><code>const devServer: DevServerConfiguration = {};\nconst config: Configuration = { devServer };\n\n// module.exports\nexport default config;\n</code></pre>"},{"location":"new-third-part-lib/webpack-dev-server/#the-result","title":"The Result","text":"<p>Either method will start a server instance and begin listening for connections from <code>localhost</code> on port <code>8080</code>.</p> <p>webpack-dev-server is configured by default to support live-reload of files as you edit your assets while the server is running.</p> <p>See the documentation for more use cases and options.</p>"},{"location":"new-third-part-lib/webpack-dev-server/#browser-support","title":"Browser Support","text":"<p>While <code>webpack-dev-server</code> transpiles the client (browser) scripts to an ES5 state, the project only officially supports the last two versions of major browsers. We simply don't have the resources to support every whacky browser out there.</p> <p>If you find a bug with an obscure / old browser, we would actively welcome a Pull Request to resolve the bug.</p>"},{"location":"new-third-part-lib/webpack-dev-server/#support","title":"Support","text":"<p>We do our best to keep issues in the repository focused on bugs, features, and needed modifications to the code for the module. Because of that, we ask users with general support, \"how-to\", or \"why isn't this working\" questions to try one of the other support channels that are available.</p> <p>Your first-stop-shop for support for webpack-dev-server should be the excellent documentation for the module. If you see an opportunity for improvement of those docs, please head over to the webpack.js.org repo and open a pull request.</p> <p>From there, we encourage users to visit the webpack discussions and talk to the fine folks there. If your quest for answers comes up dry in chat, head over to StackOverflow and do a quick search or open a new question. Remember; It's always much easier to answer questions that include your <code>webpack.config.js</code> and relevant files!</p> <p>If you're twitter-savvy you can tweet #webpack with your question and someone should be able to reach out and lend a hand.</p> <p>If you have discovered a \ud83d\udc1b, have a feature suggestion, or would like to see a modification, please feel free to create an issue on Github. Note: The issue template isn't optional, so please be sure not to remove it, and please fill it out completely.</p>"},{"location":"new-third-part-lib/webpack-dev-server/#_2","title":"webpack-dev-server","text":"<p>\u200b            </p>"},{"location":"new-third-part-lib/webpack-merge/","title":"webpack-merge","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 14162  \u9605\u8bfb29\u5206\u949f</p>"},{"location":"new-third-part-lib/webpack-merge/#webpack-merge","title":"webpack-merge","text":""},{"location":"new-third-part-lib/webpack-merge/#version","title":"version","text":"<p>6.0.1\u00a0\u2022 </p>"},{"location":"new-third-part-lib/webpack-merge/#downloads","title":"downloads","text":"<p>11,772,342 </p>"},{"location":"new-third-part-lib/webpack-merge/#repository","title":"repository","text":"<p>github.com/survivejs/webpack-merge </p>"},{"location":"new-third-part-lib/webpack-merge/#homepage","title":"homepage","text":"<p>github.com/survivejs/webpack-merge </p>"},{"location":"new-third-part-lib/webpack-merge/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/webpack-merge/#webpack-merge-merge-designed-for-webpack","title":"webpack-merge - Merge designed for Webpack","text":"<p>webpack-merge provides a <code>merge</code> function that concatenates arrays and merges objects creating a new object. If functions are encountered, it will execute them, run the results through the algorithm, and then wrap the returned values within a function again.</p> <p>This behavior is particularly useful in configuring webpack although it has uses beyond it. Whenever you need to merge configuration objects, webpack- merge can come in handy.</p>"},{"location":"new-third-part-lib/webpack-merge/#mergeconfiguration-configuration","title":"<code>merge(...configuration | [...configuration])</code>","text":"<p><code>merge</code> is the core, and the most important idea, of the API. Often this is all you need unless you want further customization.</p> <pre><code>const { merge } = require('webpack-merge');\n\n// Default API\nconst output = merge(object1, object2, object3, ...);\n\n// You can pass an array of objects directly.\n// This works with all available functions.\nconst output = merge([object1, object2, object3]);\n\n// Keys matching to the right take precedence:\nconst output = merge(\n  { fruit: \"apple\", color: \"red\" },\n  { fruit: \"strawberries\" }\n);\nconsole.log(output);\n// { color: \"red\", fruit: \"strawberries\"}\n</code></pre>"},{"location":"new-third-part-lib/webpack-merge/#limitations","title":"Limitations","text":"<p>Note that <code>Promise</code>s are not supported! If you want to return a configuration wrapped within a <code>Promise</code>, <code>merge</code> inside one. Example: <code>Promise.resolve(merge({ ... }, { ... }))</code>.</p> <p>The same goes for configuration level functions as in the example below:</p> <p>webpack.config.js</p> <pre><code>const commonConfig = { ... };\n\nconst productionConfig = { ... };\n\nconst developmentConfig = { ... };\n\nmodule.exports = (env, args) =&gt; {\n  switch(args.mode) {\n    case 'development':\n      return merge(commonConfig, developmentConfig);\n    case 'production':\n      return merge(commonConfig, productionConfig);\n    default:\n      throw new Error('No matching configuration was found!');\n  }\n}\n</code></pre> <p>You can choose the configuration you want by using <code>webpack --mode development</code> assuming you are using webpack-cli.</p>"},{"location":"new-third-part-lib/webpack-merge/#mergewithcustomize-customizearray-customizeobject-configuration-configuration","title":"<code>mergeWithCustomize({ customizeArray, customizeObject })(...configuration | [...configuration])</code>","text":"<p>In case you need more flexibility, <code>merge</code> behavior can be customized per field as below:</p> <pre><code>const { mergeWithCustomize } = require('webpack-merge');\n\nconst output = mergeWithCustomize(\n  {\n    customizeArray(a, b, key) {\n      if (key === 'extensions') {\n        return _.uniq([...a, ...b]);\n      }\n\n      // Fall back to default merging\n      return undefined;\n    },\n    customizeObject(a, b, key) {\n      if (key === 'module') {\n        // Custom merging\n        return _.merge({}, a, b);\n      }\n\n      // Fall back to default merging\n      return undefined;\n    }\n  }\n)(object1, object2, object3, ...);\n</code></pre> <p>For example, if the previous code was invoked with only <code>object1</code> and <code>object2</code> with <code>object1</code> as:</p> <pre><code>{\n    foo1: ['object1'],\n    foo2: ['object1'],\n    bar1: { object1: {} },\n    bar2: { object1: {} },\n}\n</code></pre> <p>and <code>object2</code> as:</p> <pre><code>{\n    foo1: ['object2'],\n    foo2: ['object2'],\n    bar1: { object2: {} },\n    bar2: { object2: {} },\n}\n</code></pre> <p>then <code>customizeArray</code> will be invoked for each property of <code>Array</code> type, i.e:</p> <pre><code>customizeArray([\"object1\"], [\"object2\"], \"foo1\");\ncustomizeArray([\"object1\"], [\"object2\"], \"foo2\");\n</code></pre> <p>and <code>customizeObject</code> will be invoked for each property of <code>Object</code> type, i.e:</p> <pre><code>customizeObject({ object1: {} }, { object2: {} }, bar1);\ncustomizeObject({ object1: {} }, { object2: {} }, bar2);\n</code></pre>"},{"location":"new-third-part-lib/webpack-merge/#customizearray-and-customizeobject","title":"<code>customizeArray</code> and <code>customizeObject</code>","text":"<p><code>customizeArray</code> and <code>customizeObject</code> provide small strategies to for <code>mergeWithCustomize</code>. They support <code>append</code>, <code>prepend</code>, <code>replace</code>, and wildcards for field names.</p> <pre><code>const { mergeWithCustomize, customizeArray, customizeObject } = require('webpack-merge');\n\nconst output = mergeWithCustomize({\n  customizeArray: customizeArray({\n    'entry.*': 'prepend'\n  }),\n  customizeObject: customizeObject({\n    entry: 'prepend'\n  })\n})(object1, object2, object3, ...);\n</code></pre>"},{"location":"new-third-part-lib/webpack-merge/#uniquefield-fields-field-field","title":"<code>unique(&lt;field&gt;, &lt;fields&gt;, field =&gt; field)</code>","text":"<p><code>unique</code> is a strategy used for forcing uniqueness within configuration. It's most useful with plugins when you want to make sure there's only one in place.</p> <p>The first <code>&lt;field&gt;</code> is the config property to look through for duplicates.</p> <p><code>&lt;fields&gt;</code> represents the values that should be unique when you run the field =&gt; field function on each duplicate.</p> <p>When the order of elements of the <code>&lt;field&gt;</code> in the first configuration differs from the order in the second configuration, the latter is preserved.</p> <pre><code>const { mergeWithCustomize, unique } = require(\"webpack-merge\");\n\nconst output = mergeWithCustomize({\n  customizeArray: unique(\n    \"plugins\",\n    [\"HotModuleReplacementPlugin\"],\n    (plugin) =&gt; plugin.constructor &amp;&amp; plugin.constructor.name,\n  ),\n})(\n  {\n    plugins: [new webpack.HotModuleReplacementPlugin()],\n  },\n  {\n    plugins: [new webpack.HotModuleReplacementPlugin()],\n  },\n);\n\n// Output contains only single HotModuleReplacementPlugin now and it's\n// going to be the last plugin instance.\n</code></pre>"},{"location":"new-third-part-lib/webpack-merge/#mergewithrules","title":"<code>mergeWithRules</code>","text":"<p>To support advanced merging needs (i.e. merging within loaders), <code>mergeWithRules</code> includes additional syntax that allows you to match fields and apply strategies to match. Consider the full example below:</p> <pre><code>const a = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/,\n        use: [{ loader: \"style-loader\" }, { loader: \"sass-loader\" }],\n      },\n    ],\n  },\n};\nconst b = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/,\n        use: [\n          {\n            loader: \"style-loader\",\n            options: {\n              modules: true,\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\nconst result = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/,\n        use: [\n          {\n            loader: \"style-loader\",\n            options: {\n              modules: true,\n            },\n          },\n          { loader: \"sass-loader\" },\n        ],\n      },\n    ],\n  },\n};\n\nassert.deepStrictEqual(\n  mergeWithRules({\n    module: {\n      rules: {\n        test: \"match\",\n        use: {\n          loader: \"match\",\n          options: \"replace\",\n        },\n      },\n    },\n  })(a, b),\n  result,\n);\n</code></pre> <p>The way it works is that you should annotate fields to match using <code>match</code> (or <code>CustomizeRule.Match</code> if you are using TypeScript) matching your configuration structure and then use specific strategies to define how particular fields should be transformed. If a match doesn't exist above a rule, then it will apply the rule automatically.</p> <p>Supported annotations:</p> <ul> <li><code>match</code> (<code>CustomizeRule.Match</code>) - Optional matcher that scopes merging behavior to a specific part based on similarity (think DOM or jQuery selectors)</li> <li><code>append</code> (<code>CustomizeRule.Append</code>) - Appends items</li> <li><code>prepend</code> (<code>CustomizeRule.Prepend</code>) - Prepends items</li> <li><code>replace</code> (<code>CustomizeRule.Replace</code>) - Replaces items</li> <li><code>merge</code> (<code>CustomizeRule.Merge</code>) - Merges objects (shallow merge)</li> </ul>"},{"location":"new-third-part-lib/webpack-merge/#using-with-typescript","title":"Using with TypeScript","text":"<p>webpack-merge supports TypeScript out of the box. You should pass <code>Configuration</code> type from webpack to it as follows:</p> <pre><code>import { Configuration } from \"webpack\";\nimport { merge } from \"webpack-merge\";\n\nconst config = merge&lt;Configuration&gt;({...}, {...});\n\n...\n</code></pre>"},{"location":"new-third-part-lib/webpack-merge/#development","title":"Development","text":"<ol> <li><code>nvm use</code></li> <li><code>npm i</code></li> <li><code>npm run build -- --watch</code> in one terminal</li> <li><code>npm t -- --watch</code> in another one</li> </ol> <p>Before contributing, please open an issue where to discuss.</p>"},{"location":"new-third-part-lib/webpack-merge/#further-information-and-support","title":"Further Information and Support","text":"<p>Check out SurviveJS - Webpack 5 to dig deeper into webpack. The free book uses webpack-merge extensively and shows you how to compose your configuration to keep it maintainable.</p> <p>I am also available as a consultant in case you require specific assistance. I can contribute particularly in terms of improving maintainability of the setup while speeding it up and pointing out better practices. In addition to improving developer productivity, the work has impact on the end users of the product in terms of reduced application size and loading times.</p>"},{"location":"new-third-part-lib/webpack-merge/#contributors","title":"Contributors","text":""},{"location":"new-third-part-lib/webpack-merge/#code-contributors","title":"Code Contributors","text":"<p>This project exists thanks to all the people who contribute. [Contribute]. </p>"},{"location":"new-third-part-lib/webpack-merge/#financial-contributors","title":"Financial Contributors","text":"<p>Become a financial contributor and help us sustain our community. [Contribute]</p>"},{"location":"new-third-part-lib/webpack-merge/#individuals","title":"Individuals","text":""},{"location":"new-third-part-lib/webpack-merge/#organizations","title":"Organizations","text":"<p>Support this project with your organization. Your logo will show up here with a link to your website. [Contribute]</p> <p> </p>"},{"location":"new-third-part-lib/webpack-merge/#license","title":"License","text":"<p>webpack-merge is available under MIT. See LICENSE for more details.</p>"},{"location":"new-third-part-lib/webpack-node-externals/","title":"webpack-node-externals","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 7487  \u9605\u8bfb15\u5206\u949f</p>"},{"location":"new-third-part-lib/webpack-node-externals/#webpack-node-externals","title":"webpack-node-externals","text":""},{"location":"new-third-part-lib/webpack-node-externals/#version","title":"version","text":"<p>3.0.0\u00a0\u2022 </p>"},{"location":"new-third-part-lib/webpack-node-externals/#downloads","title":"downloads","text":"<p>3,728,373 </p>"},{"location":"new-third-part-lib/webpack-node-externals/#repository","title":"repository","text":"<p>github.com/liady/webpack-node-externals </p>"},{"location":"new-third-part-lib/webpack-node-externals/#homepage","title":"homepage","text":"<p>github.com/liady/webpack-node-externals </p>"},{"location":"new-third-part-lib/webpack-node-externals/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/webpack-node-externals/#webpack-node-modules-externals","title":"Webpack node modules externals","text":"<p>Easily exclude node modules in Webpack</p> <p> </p> <p>Webpack allows you to define externals - modules that should not be bundled.</p> <p>When bundling with Webpack for the backend - you usually don't want to bundle its <code>node_modules</code> dependencies. This library creates an externals function that ignores <code>node_modules</code> when bundling in Webpack. (Inspired by the great Backend apps with Webpack series)</p>"},{"location":"new-third-part-lib/webpack-node-externals/#quick-usage","title":"Quick usage","text":"<pre><code>npm install webpack-node-externals --save-dev\n</code></pre> <p>In your <code>webpack.config.js</code>:</p> <pre><code>const nodeExternals = require('webpack-node-externals');\n...\nmodule.exports = {\n    ...\n    target: 'node', // in order to ignore built-in modules like path, fs, etc.\n    externals: [nodeExternals()], // in order to ignore all modules in node_modules folder\n    ...\n};\n</code></pre> <p>And that's it. All node modules will no longer be bundled but will be left as <code>require('module')</code>.</p> <p>Note : For Webpack 5, replace <code>target: 'node'</code> with the <code>externalsPreset</code> object:</p> <pre><code>// Webpack 5\n\nconst nodeExternals = require('webpack-node-externals');\n...\nmodule.exports = {\n    ...\n    externalsPresets: { node: true }, // in order to ignore built-in modules like path, fs, etc.\n    externals: [nodeExternals()], // in order to ignore all modules in node_modules folder\n    ...\n};\n</code></pre>"},{"location":"new-third-part-lib/webpack-node-externals/#detailed-overview","title":"Detailed overview","text":""},{"location":"new-third-part-lib/webpack-node-externals/#description","title":"Description","text":"<p>This library scans the <code>node_modules</code> folder for all node_modules names, and builds an externals function that tells Webpack not to bundle those modules, or any sub-modules of theirs.</p>"},{"location":"new-third-part-lib/webpack-node-externals/#configuration","title":"Configuration","text":"<p>This library accepts an <code>options</code> object.</p>"},{"location":"new-third-part-lib/webpack-node-externals/#optionsallowlist","title":"<code>options.allowlist (=[])</code>","text":"<p>An array for the <code>externals</code> to allow, so they will be included in the bundle. Can accept exact strings (<code>'module_name'</code>), regex patterns (<code>/^module_name/</code>), or a function that accepts the module name and returns whether it should be included. Important - if you have set aliases in your webpack config with the exact same names as modules in node_modules , you need to allowlist them so Webpack will know they should be bundled.</p>"},{"location":"new-third-part-lib/webpack-node-externals/#optionsimporttype-commonjs","title":"<code>options.importType (='commonjs')</code>","text":"<p>The method in which unbundled modules will be required in the code. Best to leave as <code>commonjs</code> for node modules. May be one of documented options or function <code>callback(moduleName)</code> which returns custom code to be returned as import type, e.g:</p> <pre><code>options.importType = function (moduleName) {\n    return 'amd ' + moduleName;\n}\n</code></pre>"},{"location":"new-third-part-lib/webpack-node-externals/#optionsmodulesdir-node_modules","title":"<code>options.modulesDir (='node_modules')</code>","text":"<p>The folder in which to search for the node modules.</p>"},{"location":"new-third-part-lib/webpack-node-externals/#optionsadditionalmoduledirs","title":"<code>options.additionalModuleDirs (='[]')</code>","text":"<p>Additional folders to look for node modules.</p>"},{"location":"new-third-part-lib/webpack-node-externals/#optionsmodulesfromfile-false","title":"<code>options.modulesFromFile (=false)</code>","text":"<p>Read the modules from the <code>package.json</code> file instead of the <code>node_modules</code> folder. Accepts a boolean or a configuration object:</p> <pre><code>{\n    modulesFromFile: true,\n    /* or */\n    modulesFromFile: {\n        fileName: /* path to package.json to read from */,\n        includeInBundle: [/* whole sections to include in the bundle, i.e 'devDependencies' */],\n        excludeFromBundle: [/* whole sections to explicitly exclude from the bundle, i.e only 'dependencies' */]\n    }\n}\n</code></pre>"},{"location":"new-third-part-lib/webpack-node-externals/#usage-example","title":"Usage example","text":"<pre><code>var nodeExternals = require('webpack-node-externals');\n...\nmodule.exports = {\n    ...\n    target: 'node', // important in order not to bundle built-in modules like path, fs, etc.\n    externals: [nodeExternals({\n        // this WILL include `jquery` and `webpack/hot/dev-server` in the bundle, as well as `lodash/*`\n        allowlist: ['jquery', 'webpack/hot/dev-server', /^lodash/]\n    })],\n    ...\n};\n</code></pre> <p>For most use cases, the defaults of <code>importType</code> and <code>modulesDir</code> should be used.</p>"},{"location":"new-third-part-lib/webpack-node-externals/#qa","title":"Q&amp;A","text":""},{"location":"new-third-part-lib/webpack-node-externals/#why-not-just-use-a-regex-in-the-webpack-config","title":"Why not just use a regex in the Webpack config?","text":"<p>Webpack allows inserting regex in the externals array, to capture non-relative modules:</p> <pre><code>{\n    externals: [\n        // Every non-relative module is external\n        // abc -&gt; require(\"abc\")\n        /^[a-z\\-0-9]+$/\n    ]\n}\n</code></pre> <p>However, this will leave unbundled all non-relative requires , so it does not account for aliases that may be defined in webpack itself. This library scans the <code>node_modules</code> folder, so it only leaves unbundled the actual node modules that are being used.</p>"},{"location":"new-third-part-lib/webpack-node-externals/#how-can-i-bundle-required-assets-ie-css-files-from-node_modules","title":"How can I bundle required assets (i.e css files) from node_modules?","text":"<p>Using the <code>allowlist</code> option, this is possible. We can simply tell Webpack to bundle all files with extensions that are not js/jsx/json, using this regex:</p> <pre><code>...\nnodeExternals({\n  // load non-javascript files with extensions, presumably via loaders\n  allowlist: [/\\.(?!(?:jsx?|json)$).{1,5}$/i],\n}),\n...\n</code></pre> <p>Thanks @wmertens for this idea.</p>"},{"location":"new-third-part-lib/webpack-node-externals/#why-is-not-bundling-node_modules-a-good-thing","title":"Why is not bundling node_modules a good thing?","text":"<p>When writing a node library, for instance, you may want to split your code to several files, and use Webpack to bundle them. However - you wouldn't want to bundle your code with its entire node_modules dependencies, for two reasons:</p> <ol> <li>It will bloat your library on npm.</li> <li>It goes against the entire npm dependencies management. If you're using Lodash, and the consumer of your library also has the same Lodash dependency, npm makes sure that it will be added only once. But bundling Lodash in your library will actually make it included twice, since npm is no longer managing this dependency.</li> </ol> <p>As a consumer of a library, I want the library code to include only its logic, and just state its dependencies so they could me merged/resolved with the rest of the dependencies in my project. Bundling your code with your dependencies makes it virtually impossible.</p> <p>In short: It's useful if your code is used by something that has dependencies managed by npm</p>"},{"location":"new-third-part-lib/webpack-node-externals/#contribute","title":"Contribute","text":"<p>Contributions and pull requests are welcome. Please run the tests to make sure nothing breaks.</p>"},{"location":"new-third-part-lib/webpack-node-externals/#test","title":"Test","text":"<pre><code>npm run test\n</code></pre>"},{"location":"new-third-part-lib/webpack-node-externals/#license","title":"License","text":"<p>MIT</p>"},{"location":"new-third-part-lib/webpack/","title":"webpack","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 33544  \u9605\u8bfb68\u5206\u949f</p>"},{"location":"new-third-part-lib/webpack/#webpack","title":"webpack","text":""},{"location":"new-third-part-lib/webpack/#version","title":"version","text":"<p>5.93.0\u00a0\u2022 </p>"},{"location":"new-third-part-lib/webpack/#downloads","title":"downloads","text":"<p>26,491,544 </p>"},{"location":"new-third-part-lib/webpack/#repository","title":"repository","text":"<p>github.com/webpack/webpack </p>"},{"location":"new-third-part-lib/webpack/#homepage","title":"homepage","text":"<p>github.com/webpack/webpack </p>"},{"location":"new-third-part-lib/webpack/#default-readme","title":"default readme","text":""},{"location":"new-third-part-lib/webpack/#webpack_1","title":"webpack","text":"<p>Webpack is a module bundler. Its main purpose is to bundle JavaScript files for usage in a browser, yet it is also capable of transforming, bundling, or packaging just about any resource or asset.</p>"},{"location":"new-third-part-lib/webpack/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Install</li> <li>Introduction</li> <li>Concepts</li> <li>Contributing</li> <li>Support</li> </ol>"},{"location":"new-third-part-lib/webpack/#install","title":"Install","text":"<p>Install with npm:</p> <p>\u200b       npm install --save-dev webpack</p> <p>Install with yarn:</p> <p>\u200b       yarn add webpack --dev</p>"},{"location":"new-third-part-lib/webpack/#introduction","title":"Introduction","text":"<p>Webpack is a bundler for modules. The main purpose is to bundle JavaScript files for usage in a browser, yet it is also capable of transforming, bundling, or packaging just about any resource or asset.</p> <p>TL;DR</p> <ul> <li>Bundles ES Modules, CommonJS, and AMD modules (even combined).</li> <li>Can create a single bundle or multiple chunks that are asynchronously loaded at runtime (to reduce initial loading time).</li> <li>Dependencies are resolved during compilation, reducing the runtime size.</li> <li>Loaders can preprocess files while compiling, e.g. TypeScript to JavaScript, Handlebars strings to compiled functions, images to Base64, etc.</li> <li>Highly modular plugin system to do whatever else your application requires.</li> </ul>"},{"location":"new-third-part-lib/webpack/#get-started","title":"Get Started","text":"<p>Check out webpack's quick Get Started guide and the other guides.</p>"},{"location":"new-third-part-lib/webpack/#browser-compatibility","title":"Browser Compatibility","text":"<p>Webpack supports all browsers that are ES5-compliant (IE8 and below are not supported). Webpack also needs <code>Promise</code> for <code>import()</code> and <code>require.ensure()</code>. If you want to support older browsers, you will need to load a polyfill before using these expressions.</p>"},{"location":"new-third-part-lib/webpack/#concepts","title":"Concepts","text":""},{"location":"new-third-part-lib/webpack/#plugins","title":"Plugins","text":"<p>Webpack has a rich plugin interface. Most of the features within webpack itself use this plugin interface. This makes webpack very flexible.</p> Name Description mini-css-extract-plugin Extracts CSS into separate files. It creates a CSS file per JS file which contains CSS. compression-webpack-plugin Prepares compressed versions of assets to serve them with Content-Encoding html-webpack-plugin Simplifies creation of HTML files (<code>index.html</code>) to serve your bundles pug-plugin Renders Pug files to HTML, extracts JS and CSS from sources specified directly in Pug."},{"location":"new-third-part-lib/webpack/#loaders","title":"Loaders","text":"<p>Webpack enables the use of loaders to preprocess files. This allows you to bundle any static resource way beyond JavaScript. You can easily write your own loaders using Node.js.</p> <p>Loaders are activated by using <code>loadername!</code> prefixes in <code>require()</code> statements, or are automatically applied via regex from your webpack configuration.</p>"},{"location":"new-third-part-lib/webpack/#files","title":"Files","text":"Name Status Install Size Description val-loader Executes code as module and considers exports as JS code"},{"location":"new-third-part-lib/webpack/#json","title":"JSON","text":"Name Status Install Size Description Loads and transpiles a CSON file"},{"location":"new-third-part-lib/webpack/#transpiling","title":"Transpiling","text":"Name Status Install Size Description Loads ES2015+ code and transpiles to ES5 using Babel Loads TypeScript like JavaScript Loads CoffeeScript like JavaScript"},{"location":"new-third-part-lib/webpack/#templating","title":"Templating","text":"Name Status Install Size Description Exports HTML as string, requires references to static resources Loads Pug templates and returns a function Compiles Pug to a function or HTML string, useful for use with Vue, React, Angular Compiles Markdown to HTML Loads and transforms a HTML file using PostHTML Compiles Handlebars to HTML"},{"location":"new-third-part-lib/webpack/#styling","title":"Styling","text":"Name Status Install Size Description <code>&lt;style&gt;</code> Add exports of a module as style to DOM Loads CSS file with resolved imports and returns CSS code Loads and compiles a LESS file Loads and compiles a Sass/SCSS file Loads and compiles a Stylus file Loads and transforms a CSS/SSS file using PostCSS"},{"location":"new-third-part-lib/webpack/#frameworks","title":"Frameworks","text":"Name Status Install Size Description Loads and compiles Vue Components Process HTML &amp; CSS with preprocessor of choice and <code>require()</code> Web Components like first-class modules Loads and compiles Angular 2 Components Riot official webpack loader Official Svelte loader"},{"location":"new-third-part-lib/webpack/#performance","title":"Performance","text":"<p>Webpack uses async I/O and has multiple caching levels. This makes webpack fast and incredibly fast on incremental compilations.</p>"},{"location":"new-third-part-lib/webpack/#module-formats","title":"Module Formats","text":"<p>Webpack supports ES2015+, CommonJS and AMD modules out of the box. It performs clever static analysis on the AST of your code. It even has an evaluation engine to evaluate simple expressions. This allows you to support most existing libraries out of the box.</p>"},{"location":"new-third-part-lib/webpack/#code-splitting","title":"Code Splitting","text":"<p>Webpack allows you to split your codebase into multiple chunks. Chunks are loaded asynchronously at runtime. This reduces the initial loading time.</p>"},{"location":"new-third-part-lib/webpack/#optimizations","title":"Optimizations","text":"<p>Webpack can do many optimizations to reduce the output size of your JavaScript by deduplicating frequently used modules, minifying, and giving you full control of what is loaded initially and what is loaded at runtime through code splitting. It can also make your code chunks cache friendly by using hashes.</p>"},{"location":"new-third-part-lib/webpack/#contributing","title":"Contributing","text":"<p>We want contributing to webpack to be fun, enjoyable, and educational for anyone, and everyone. We have a vibrant ecosystem that spans beyond this single repo. We welcome you to check out any of the repositories in our organization or webpack-contrib organization which houses all of our loaders and plugins.</p> <p>Contributions go far beyond pull requests and commits. Although we love giving you the opportunity to put your stamp on webpack, we also are thrilled to receive a variety of other contributions including:</p> <ul> <li>Documentation updates, enhancements, designs, or bugfixes</li> <li>Spelling or grammar fixes</li> <li>README.md corrections or redesigns</li> <li>Adding unit, or functional tests</li> <li>Triaging GitHub issues -- especially determining whether an issue still persists or is reproducible.</li> <li>Searching #webpack on twitter and helping someone else who needs help</li> <li>Teaching others how to contribute to one of the many webpack's repos!</li> <li>Blogging, speaking about, or creating tutorials about one of webpack's many features.</li> <li>Helping others in our webpack gitter channel.</li> </ul> <p>To get started have a look at our documentation on contributing.</p> <p>If you are worried or don't know where to start, you can always reach out to Sean Larkin (@TheLarkInn) on Twitter or simply submit an issue and a maintainer can help give you guidance!</p> <p>We have also started a series on our Medium Publication called The Contributor's Guide to webpack. We welcome you to read it and post any questions or responses if you still need help.</p> <p>Looking to speak about webpack? We'd love to review your talk abstract/CFP! You can email it to webpack [at] opencollective [dot] com and we can give pointers or tips!!!</p>"},{"location":"new-third-part-lib/webpack/#creating-your-own-plugins-and-loaders","title":"Creating your own plugins and loaders","text":"<p>If you create a loader or plugin, we would &lt;3 for you to open source it, and put it on npm. We follow the <code>x-loader</code>, <code>x-webpack-plugin</code> naming convention.</p>"},{"location":"new-third-part-lib/webpack/#support","title":"Support","text":"<p>We consider webpack to be a low-level tool used not only individually but also layered beneath other awesome tools. Because of its flexibility, webpack isn't always the easiest entry-level solution, however we do believe it is the most powerful. That said, we're always looking for ways to improve and simplify the tool without compromising functionality. If you have any ideas on ways to accomplish this, we're all ears!</p> <p>If you're just getting started, take a look at our new docs and concepts page. This has a high level overview that is great for beginners!!</p> <p>Looking for webpack 1 docs? Please check out the old wiki, but note that this deprecated version is no longer supported.</p> <p>If you want to discuss something or just need help, here is our Gitter room where there are always individuals looking to help out!</p> <p>If you are still having difficulty, we would love for you to post a question to StackOverflow with the webpack tag. It is much easier to answer questions that include your webpack.config.js and relevant files! So if you can provide them, we'd be extremely grateful (and more likely to help you find the answer!)</p> <p>If you are twitter savvy you can tweet #webpack with your question and someone should be able to reach out and help also.</p> <p>If you have discovered a \ud83d\udc1c or have a feature suggestion, feel free to create an issue on GitHub.</p>"},{"location":"new-third-part-lib/webpack/#license","title":"License","text":""},{"location":"new-third-part-lib/whatwg-fetch/","title":"whatwg-fetch","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 11134  \u9605\u8bfb23\u5206\u949f</p>"},{"location":"new-third-part-lib/whatwg-fetch/#whatwg-fetch","title":"whatwg-fetch","text":""},{"location":"new-third-part-lib/whatwg-fetch/#version","title":"version","text":"<p>3.6.20\u00a0 </p>"},{"location":"new-third-part-lib/whatwg-fetch/#downloads","title":"downloads","text":"<p>11,954,356 </p>"},{"location":"new-third-part-lib/whatwg-fetch/#repository","title":"repository","text":"<p>github.com/github/fetch </p>"},{"location":"new-third-part-lib/whatwg-fetch/#homepage","title":"homepage","text":"<p>github.com/github/fetch#readme </p>"},{"location":"new-third-part-lib/whatwg-fetch/#windowfetch-polyfill","title":"window.fetch polyfill","text":"<p>The <code>fetch()</code> function is a Promise-based mechanism for programmatically making web requests in the browser. This project is a polyfill that implements a subset of the standard Fetch specification, enough to make <code>fetch</code> a viable replacement for most uses of XMLHttpRequest in traditional web applications.</p>"},{"location":"new-third-part-lib/whatwg-fetch/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Read this first</li> <li>Installation</li> <li>Usage<ul> <li>Importing</li> <li>HTML</li> <li>JSON</li> <li>Response metadata</li> <li>Post form</li> <li>Post JSON</li> <li>File upload</li> <li>Caveats</li> <li>Handling HTTP error statuses</li> <li>Sending cookies</li> <li>Receiving cookies</li> <li>Redirect modes</li> <li>Obtaining the Response URL</li> <li>Aborting requests</li> </ul> </li> <li>Browser Support</li> </ul>"},{"location":"new-third-part-lib/whatwg-fetch/#read-this-first","title":"Read this first","text":"<ul> <li> <p>If you believe you found a bug with how <code>fetch</code> behaves in your browser, please don't open an issue in this repository unless you are testing in an old version of a browser that doesn't support <code>window.fetch</code> natively. Make sure you read this entire readme, especially the Caveats section, as there's probably a known work-around for an issue you've found. This project is a polyfill , and since all modern browsers now implement the <code>fetch</code> function natively, no code from this project actually takes any effect there. See Browser support for detailed information.</p> </li> <li> <p>If you have trouble making a request to another domain (a different subdomain or port number also constitutes another domain), please familiarize yourself with all the intricacies and limitations of CORS requests. Because CORS requires participation of the server by implementing specific HTTP response headers, it is often nontrivial to set up or debug. CORS is exclusively handled by the browser's internal mechanisms which this polyfill cannot influence.</p> </li> <li> <p>This project doesn't work under Node.js environments. It's meant for web browsers only. You should ensure that your application doesn't try to package and run this on the server.</p> </li> <li> <p>If you have an idea for a new feature of <code>fetch</code>, submit your feature requests to the specification's repository. We only add features and APIs that are part of the Fetch specification.</p> </li> </ul>"},{"location":"new-third-part-lib/whatwg-fetch/#installation","title":"Installation","text":"<pre><code>npm install whatwg-fetch --save\n</code></pre> <p>You will also need a Promise polyfill for older browsers. We recommend taylorhakes/promise- polyfill for its small size and Promises/A+ compatibility.</p>"},{"location":"new-third-part-lib/whatwg-fetch/#usage","title":"Usage","text":""},{"location":"new-third-part-lib/whatwg-fetch/#importing","title":"Importing","text":"<p>Importing will automatically polyfill <code>window.fetch</code> and related APIs:</p> <pre><code>import 'whatwg-fetch'\n\nwindow.fetch(...)\n</code></pre> <p>If for some reason you need to access the polyfill implementation, it is available via exports:</p> <pre><code>import {fetch as fetchPolyfill} from 'whatwg-fetch'\n\nwindow.fetch(...)   // use native browser version\nfetchPolyfill(...)  // use polyfill implementation\n</code></pre> <p>This approach can be used to, for example, use abort functionality in browsers that implement a native but outdated version of fetch that doesn't support aborting.</p> <p>For use with webpack, add this package in the <code>entry</code> configuration option before your application entry point:</p> <pre><code>entry: ['whatwg-fetch', ...]\n</code></pre>"},{"location":"new-third-part-lib/whatwg-fetch/#html","title":"HTML","text":"<pre><code>fetch('/users.html')\n  .then(function(response) {\n    return response.text()\n  }).then(function(body) {\n    document.body.innerHTML = body\n  })\n</code></pre>"},{"location":"new-third-part-lib/whatwg-fetch/#json","title":"JSON","text":"<pre><code>fetch('/users.json')\n  .then(function(response) {\n    return response.json()\n  }).then(function(json) {\n    console.log('parsed json', json)\n  }).catch(function(ex) {\n    console.log('parsing failed', ex)\n  })\n</code></pre>"},{"location":"new-third-part-lib/whatwg-fetch/#response-metadata","title":"Response metadata","text":"<pre><code>fetch('/users.json').then(function(response) {\n  console.log(response.headers.get('Content-Type'))\n  console.log(response.headers.get('Date'))\n  console.log(response.status)\n  console.log(response.statusText)\n})\n</code></pre>"},{"location":"new-third-part-lib/whatwg-fetch/#post-form","title":"Post form","text":"<pre><code>var form = document.querySelector('form')\n\nfetch('/users', {\n  method: 'POST',\n  body: new FormData(form)\n})\n</code></pre>"},{"location":"new-third-part-lib/whatwg-fetch/#post-json","title":"Post JSON","text":"<pre><code>fetch('/users', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({\n    name: 'Hubot',\n    login: 'hubot',\n  })\n})\n</code></pre>"},{"location":"new-third-part-lib/whatwg-fetch/#file-upload","title":"File upload","text":"<pre><code>var input = document.querySelector('input[type=\"file\"]')\n\nvar data = new FormData()\ndata.append('file', input.files[0])\ndata.append('user', 'hubot')\n\nfetch('/avatars', {\n  method: 'POST',\n  body: data\n})\n</code></pre>"},{"location":"new-third-part-lib/whatwg-fetch/#caveats","title":"Caveats","text":"<ul> <li> <p>The Promise returned from <code>fetch()</code> won't reject on HTTP error status even if the response is an HTTP 404 or 500. Instead, it will resolve normally, and it will only reject on network failure or if anything prevented the request from completing.</p> </li> <li> <p>For maximum browser compatibility when it comes to sending &amp; receiving cookies, always supply the <code>credentials: 'same-origin'</code> option instead of relying on the default. See Sending cookies.</p> </li> <li> <p>Not all Fetch standard options are supported in this polyfill. For instance, <code>redirect</code> and <code>cache</code> directives are ignored.</p> </li> <li> <p><code>keepalive</code> is not supported because it would involve making a synchronous XHR, which is something this project is not willing to do. See issue #700 for more information.</p> </li> </ul>"},{"location":"new-third-part-lib/whatwg-fetch/#handling-http-error-statuses","title":"Handling HTTP error statuses","text":"<p>To have <code>fetch</code> Promise reject on HTTP error statuses, i.e. on any non-2xx status, define a custom response handler:</p> <pre><code>function checkStatus(response) {\n  if (response.status &gt;= 200 &amp;&amp; response.status &lt; 300) {\n    return response\n  } else {\n    var error = new Error(response.statusText)\n    error.response = response\n    throw error\n  }\n}\n\nfunction parseJSON(response) {\n  return response.json()\n}\n\nfetch('/users')\n  .then(checkStatus)\n  .then(parseJSON)\n  .then(function(data) {\n    console.log('request succeeded with JSON response', data)\n  }).catch(function(error) {\n    console.log('request failed', error)\n  })\n</code></pre>"},{"location":"new-third-part-lib/whatwg-fetch/#sending-cookies","title":"Sending cookies","text":"<p>For CORS requests, use <code>credentials: 'include'</code> to allow sending credentials to other domains:</p> <pre><code>fetch('https://example.com:1234/users', {\n  credentials: 'include'\n})\n</code></pre> <p>The default value for <code>credentials</code> is \"same-origin\".</p> <p>The default for <code>credentials</code> wasn't always the same, though. The following versions of browsers implemented an older version of the fetch specification where the default was \"omit\":</p> <ul> <li>Firefox 39-60</li> <li>Chrome 42-67</li> <li>Safari 10.1-11.1.2</li> </ul> <p>If you target these browsers, it's advisable to always specify <code>credentials: 'same-origin'</code> explicitly with all fetch requests instead of relying on the default:</p> <pre><code>fetch('/users', {\n  credentials: 'same-origin'\n})\n</code></pre> <p>Note: due to limitations of XMLHttpRequest, using <code>credentials: 'omit'</code> is not respected for same domains in browsers where this polyfill is active. Cookies will always be sent to same domains in older browsers.</p>"},{"location":"new-third-part-lib/whatwg-fetch/#receiving-cookies","title":"Receiving cookies","text":"<p>As with XMLHttpRequest, the <code>Set-Cookie</code> response header returned from the server is a forbidden header name and therefore can't be programmatically read with <code>response.headers.get()</code>. Instead, it's the browser's responsibility to handle new cookies being set (if applicable to the current URL). Unless they are HTTP-only, new cookies will be available through <code>document.cookie</code>.</p>"},{"location":"new-third-part-lib/whatwg-fetch/#redirect-modes","title":"Redirect modes","text":"<p>The Fetch specification defines these values for the <code>redirect</code> option: \"follow\" (the default), \"error\", and \"manual\".</p> <p>Due to limitations of XMLHttpRequest, only the \"follow\" mode is available in browsers where this polyfill is active.</p>"},{"location":"new-third-part-lib/whatwg-fetch/#obtaining-the-response-url","title":"Obtaining the Response URL","text":"<p>Due to limitations of XMLHttpRequest, the <code>response.url</code> value might not be reliable after HTTP redirects on older browsers.</p> <p>The solution is to configure the server to set the response HTTP header <code>X-Request-URL</code> to the current URL after any redirect that might have happened. It should be safe to set it unconditionally.</p> <pre><code># Ruby on Rails controller example\nresponse.headers['X-Request-URL'] = request.url\n</code></pre> <p>This server workaround is necessary if you need reliable <code>response.url</code> in Firefox &lt; 32, Chrome &lt; 37, Safari, or IE.</p>"},{"location":"new-third-part-lib/whatwg-fetch/#aborting-requests","title":"Aborting requests","text":"<p>This polyfill supports the abortable fetch API. However, aborting a fetch requires use of two additional DOM APIs: AbortController and AbortSignal. Typically, browsers that do not support fetch will also not support AbortController or AbortSignal. Consequently, you will need to include an additional polyfill for these APIs to abort fetches:</p> <pre><code>import 'yet-another-abortcontroller-polyfill'\nimport {fetch} from 'whatwg-fetch'\n\n// use native browser implementation if it supports aborting\nconst abortableFetch = ('signal' in new Request('')) ? window.fetch : fetch\n\nconst controller = new AbortController()\n\nabortableFetch('/avatars', {\n  signal: controller.signal\n}).catch(function(ex) {\n  if (ex.name === 'AbortError') {\n    console.log('request aborted')\n  }\n})\n\n// some time later...\ncontroller.abort()\n</code></pre>"},{"location":"new-third-part-lib/whatwg-fetch/#browser-support","title":"Browser Support","text":"<ul> <li>Chrome</li> <li>Firefox</li> <li>Safari 6.1+</li> <li>Internet Explorer 10+</li> </ul> <p>Note: modern browsers such as Chrome, Firefox, Microsoft Edge, and Safari contain native implementations of <code>window.fetch</code>, therefore the code from this polyfill doesn't have any effect on those browsers. If you believe you've encountered an error with how <code>window.fetch</code> is implemented in any of these browsers, you should file an issue with that browser vendor instead of this project.</p>"},{"location":"new-third-part-lib/workbox-webpack-plugin/","title":"workbox-webpack-plugin","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 338  \u9605\u8bfb1\u5206\u949f</p>"},{"location":"new-third-part-lib/workbox-webpack-plugin/#workbox-webpack-plugin","title":"workbox-webpack-plugin","text":""},{"location":"new-third-part-lib/workbox-webpack-plugin/#version","title":"version","text":"<p>7.1.0\u00a0\u2022 </p>"},{"location":"new-third-part-lib/workbox-webpack-plugin/#downloads","title":"downloads","text":"<p>3,675,847 </p>"},{"location":"new-third-part-lib/workbox-webpack-plugin/#repository","title":"repository","text":"<p>github.com/googlechrome/workbox </p>"},{"location":"new-third-part-lib/workbox-webpack-plugin/#homepage","title":"homepage","text":"<p>github.com/GoogleChrome/workbox </p>"},{"location":"new-third-part-lib/workbox-webpack-plugin/#default-readme","title":"default readme","text":"<p>This module's documentation can be found at https://developer.chrome.com/docs/workbox/modules/workbox-webpack-plugin/</p>"},{"location":"new-third-part-lib/zyronon_douyin/","title":"zyronon/douyin","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1553  \u9605\u8bfb4\u5206\u949f</p> <p>https://github.com/zyronon/douyin</p> <p>Douyin-Vue\uff1a\u79fb\u52a8\u7aef\u77ed\u89c6\u9891\u9879\u76ee</p> <p>\ufe0f\u4ed3\u5e93\u540d\u79f0\uff1azyronon/douyin \u622a\u6b62\u53d1\u7a3f\u661f\u6570: 8032 (\u4eca\u65e5\u65b0\u589e:16) \u4ed3\u5e93\u8bed\u8a00: Vue \u4ed3\u5e93\u5f00\u6e90\u534f\u8bae\uff1aGNU General Public License v3.0</p> <p>\u200b</p>"},{"location":"new-third-part-lib/zyronon_douyin/#_1","title":"\u5f15\u8a00","text":"<p>\u672c\u9879\u76ee\u662f\u4e00\u4e2a\u57fa\u4e8e Vue3 \u7684\u79fb\u52a8\u7aef\u77ed\u89c6\u9891\u9879\u76ee\uff0c\u65e8\u5728\u6a21\u4eff\u6296\u97f3\uff0c\u63d0\u4f9b\u79fb\u52a8\u7aef\u5e94\u7528\u7684\u6700\u4f73\u5b9e\u8df5\u3002</p>"},{"location":"new-third-part-lib/zyronon_douyin/#_2","title":"\u9879\u76ee\u4f5c\u7528","text":"<p>Douyin-Vue \u91c7\u7528 Vue3\u3001Vite5 \u548c Pinia \u6784\u5efa\u3002\u5b83\u4f7f\u7528\u672c\u5730\u6570\u636e\u6765\u6a21\u62df\u540e\u7aef\u8bf7\u6c42\uff0c\u63d0\u4f9b\u4e1d\u6ed1\u6d41\u7545\u7684\u79fb\u52a8\u7aef\u4f53\u9a8c\u3002</p>"},{"location":"new-third-part-lib/zyronon_douyin/#_3","title":"\u4ed3\u5e93\u63cf\u8ff0","text":"<p>\u8be5\u4ed3\u5e93\u5305\u542b\u9879\u76ee\u6e90\u4ee3\u7801\u3001\u6587\u6863\u548c\u76f8\u5173\u8d44\u6e90\u3002\u5177\u4f53\u5185\u5bb9\u5305\u62ec\uff1a</p> <ul> <li> <p>\u4ee3\u7801\u5e93\uff1a\u5305\u542b\u6e90\u4ee3\u7801\u548c\u914d\u7f6e\u6587\u4ef6</p> </li> <li> <p>\u6587\u6863\uff1a\u63d0\u4f9b\u9879\u76ee\u4ecb\u7ecd\u3001\u4f7f\u7528\u8bf4\u660e\u548c\u6280\u672f\u7ec6\u8282</p> </li> <li> <p>\u793a\u4f8b\u6570\u636e\uff1a\u6a21\u62df\u6296\u97f3\u89c6\u9891\u548c\u8bc4\u8bba\u7b49\u6570\u636e</p> </li> </ul>"},{"location":"new-third-part-lib/zyronon_douyin/#_4","title":"\u6848\u4f8b","text":"<p>\u6b64\u9879\u76ee\u5df2\u6210\u529f\u7528\u4e8e\u5f00\u53d1\u548c\u90e8\u7f72\u79fb\u52a8\u7aef\u77ed\u89c6\u9891\u5e94\u7528\u3002</p>"},{"location":"new-third-part-lib/zyronon_douyin/#_5","title":"\u5ba2\u89c2\u8bc4\u6d4b\u6216\u5206\u6790","text":"<p>\u8be5\u9879\u76ee\u5177\u6709\u4ee5\u4e0b\u4f18\u70b9\uff1a</p> <ul> <li> <p>\u4f7f\u7528\u6700\u65b0\u7684 Vue3 \u6280\u672f\uff0c\u6027\u80fd\u5353\u8d8a</p> </li> <li> <p>\u6a21\u5757\u5316\u8bbe\u8ba1\uff0c\u6613\u4e8e\u6269\u5c55\u548c\u7ef4\u62a4</p> </li> <li> <p>\u9075\u5faa\u79fb\u52a8\u7aef\u6700\u4f73\u5b9e\u8df5\uff0c\u63d0\u4f9b\u6d41\u7545\u7684\u7528\u6237\u4f53\u9a8c</p> </li> </ul>"},{"location":"new-third-part-lib/zyronon_douyin/#_6","title":"\u4f7f\u7528\u5efa\u8bae","text":"<p>\u672c\u9879\u76ee\u53ef\u7528\u4e8e\uff1a</p> <ul> <li> <p>\u79fb\u52a8\u7aef\u77ed\u89c6\u9891\u5e94\u7528\u5f00\u53d1</p> </li> <li> <p>Vue3 \u5728\u79fb\u52a8\u7aef\u7684\u5b9e\u8df5\u5b66\u4e60</p> </li> <li> <p>\u79fb\u52a8\u7aef\u5e94\u7528\u6027\u80fd\u4f18\u5316</p> </li> </ul>"},{"location":"new-third-part-lib/zyronon_douyin/#_7","title":"\u7ed3\u8bba","text":"<p>Douyin-Vue \u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u79fb\u52a8\u7aef\u77ed\u89c6\u9891\u9879\u76ee\uff0c\u5b83\u5c55\u793a\u4e86 Vue3 \u5728\u79fb\u52a8\u7aef\u5f00\u53d1\u4e2d\u7684\u5f3a\u5927\u529f\u80fd\u3002\u901a\u8fc7\u4f7f\u7528\u672c\u5730\u6570\u636e\u548c\u5148\u8fdb\u7684\u5f00\u53d1\u6280\u672f\uff0c\u8be5\u9879\u76ee\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5ab2\u7f8e\u539f\u751f\u5e94\u7528\u7684\u79fb\u52a8\u7aef\u4f53\u9a8c\u3002</p> <p>\u200b</p>"},{"location":"new-third-part-lib/%CE%BCPlot/","title":"\ud83d\udcc8 \u03bcPlot","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 7519  \u9605\u8bfb16\u5206\u949f</p> <p>A small (&lt; 25 KB min), fast chart for time series, lines, areas, ohlc &amp; bars (MIT Licensed)</p>"},{"location":"new-third-part-lib/%CE%BCPlot/#introduction","title":"Introduction","text":"<p>\u03bcPlot is a fast, memory-efficient Canvas 2D-based chart for plotting time series, lines, areas, ohlc &amp; bars; from a cold start it can create an interactive chart containing 150,000 data points in 135ms, scaling linearly at ~25,000 pts/ms. In addition to fast initial render, the zooming and cursor performance is by far the best of any similar charting lib; at &lt; 25 KB, it's likely the smallest and fastest time series plotter that doesn't make use of context-limited WebGL shaders or WASM, both of which have much higher startup cost and code size.</p>"},{"location":"new-third-part-lib/%CE%BCPlot/#166650-point-bench-httpsleeoniyagithubiouplotbenchuplothtml","title":"166,650 point bench: https://leeoniya.github.io/uPlot/bench/uPlot.html","text":"<p>However, if you're looking for true real-time 60fps performance with massive datasets, uPlot can only get you so far. WebGL should still be the tool of choice for applications like realtime signal or waveform visualizations: Try danchitnis/webgl-plot or huww98/TimeChart.</p> <p></p>"},{"location":"new-third-part-lib/%CE%BCPlot/#features","title":"Features","text":"<ul> <li>Multiple series w/toggle</li> <li>Multiple y-axes, scales &amp; grids</li> <li>Temporal or numeric x-axis</li> <li>Linear, uniform or logarithmic scales</li> <li>Line &amp; Area styles (stroke, fill, width, dash)</li> <li>Zoom with auto-rescale</li> <li>Legend with live values</li> <li>Support for IANA Time Zone Names &amp; DST</li> <li>Support for missing data</li> <li>Cursor sync for multiple charts</li> <li>Focus closest series</li> <li>Data streaming (live update)</li> <li>High / Low bands</li> <li>A lean, consistent, and powerful API with hooks &amp; plugins</li> </ul>"},{"location":"new-third-part-lib/%CE%BCPlot/#non-features","title":"Non-Features","text":"<p>In order to stay lean, fast and focused the following features will not be added:</p> <ul> <li>No data parsing, aggregation, summation or statistical processing - just do it in advance. e.g. https://simplestatistics.org/, https://www.papaparse.com/</li> <li>No transitions or animations - they're always pure distractions.</li> <li>No collision avoidance for axis tick labels, so may require manual tweaking of spacing metrics if label customization signficiantly increases default label widths.</li> <li>No stacked series or line smoothing. See links for how these are each terrible at actually communicating information. While neither will be part of the core, uPlot's API makes it easy to implement both: stacked-series, line-smoothing.</li> <li>No built-in drag scrolling/panning. Maintaining good perf with huge datasets would require a lot of extra code &amp; multiple <code>&lt;canvas&gt;</code> elements to avoid continuous redraw and rescaling on each dragged pixel. If you have fewer than tens of thousands of datapoints, you can use uPlot's API to implement smooth zooming or panning. e.g. zoom-wheel, zoom-touch. Pagination of data also works well.</li> </ul>"},{"location":"new-third-part-lib/%CE%BCPlot/#documentation-wip","title":"Documentation (WIP)","text":"<p>The docs are a perpetual work in progress, it seems. Start with /docs/README.md for a conceptual overview. The full API is further documented via comments in /dist/uPlot.d.ts. Additionally, an ever-expanding collection of runnable /demos covers the vast majority of uPlot's API.</p>"},{"location":"new-third-part-lib/%CE%BCPlot/#performance","title":"Performance","text":"<p>Benchmarks done on a ThinkPad T480S:</p> <ul> <li>Date: 2020-08-01</li> <li>Windows 10 x64, Chrome 84.0.4147.105 (Official Build) (64-bit)</li> <li>Core i5-8350U @ 1.70GHz, 8GB RAM</li> <li>Intel HD 620 GPU, 2560x1440 res</li> </ul> <p></p> <p>Full size: https://leeoniya.github.io/uPlot/demos/multi-bars.html</p> <p>Raw data: https://github.com/leeoniya/uPlot/blob/master/bench/results.json</p> <pre><code>| lib            | size    | done    | js,rend,paint,sys | heap peak,final | interact (10s)      |\n| -------------- | ------- | ------- | ----------------- | --------------- | ------------------- |\n| uPlot          |   26 KB |   68 ms |   99   3   4   68 |  12 MB   4 MB   |  196  458  135  264 |\n| Chart.js-next  |  222 KB |  189 ms |  275   3   3   95 |  32 MB  21 MB   | 3411   35  112 6322 |\n| LightningChart |  964 KB |  --- ms |  378   4   2   70 |  24 MB  18 MB   | 9647   32   59  113 |\n| dygraphs       |  125 KB |  190 ms |  286   5   3  174 |  57 MB  46 MB   | 2329  272  333  415 |\n| CanvasJS       |  477 KB |  320 ms |  400   4   2  103 |  40 MB  25 MB   | 2282  541  337  481 |\n| Flot           |  494 KB |  320 ms |  205   7   6  307 |  24 MB  24 MB   | ---                 |\n| dvxcharts      |  369 KB |  347 ms |  633  41  45   72 |  42 MB  24 MB   | 1476  891  294  280 |\n| Highcharts     |  381 KB |  --- ms |  757   9   2   63 |  27 MB  23 MB   | 1986  780  207  311 |\n| Chart.js       |  245 KB |  668 ms |  747   6   7  174 |  82 MB  76 MB   | 5565    5   13 4111 |\n| Plotly.js      | 3400 KB |  483 ms |  849  10   4   87 |  39 MB  24 MB   | 1601  216   58  203 |\n| ECharts        |  781 KB |  --- ms |  789   4   9 1119 |  79 MB  79 MB   | 2027   64   59 7696 |\n| ApexCharts     |  459 KB |  --- ms | 2298  30 135   61 | 151 MB 151 MB   | 2223  259 7802   66 |\n| ZingChart      |  857 KB | 2632 ms | 2934   8   1   68 | 121 MB  97 MB   | ---                 |\n| amCharts       | 1200 KB | 6147 ms | 7159  56  15  112 | 251 MB 251 MB   | 6244 1163  598  448 |\n</code></pre> <ul> <li><code>size</code> includes the lib itself plus any dependencies required to render the benchmark, e.g. Moment, jQuery, etc.</li> <li>Flot does not make available any minified assets and all their examples use the uncompressed sources; they also use an uncompressed version of jQuery :/</li> </ul> <p>TODO (all of these use SVG, so performance should be similar to Highcharts):</p> <ul> <li>Chartist.js</li> <li>d3-based</li> <li>C3.js</li> <li>dc.js</li> <li>MetricsGraphics</li> <li>rickshaw</li> </ul>"},{"location":"new-third-part-lib/%CE%BCPlot/#acknowledgements","title":"Acknowledgements","text":"<ul> <li>Dan Vanderkam's dygraphs was a big inspiration; in fact, my stale pull request #948 was a primary motivator for \u03bcPlot's inception.</li> <li>Adam Pearce for #15 - remove redundant lineTo commands.</li> </ul>"},{"location":"react/Create-React-App/","title":"Create React App","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4228  \u9605\u8bfb9\u5206\u949f</p> <p>\u539f\u6587\u94fe\u63a5\uff1ahttps://create-react-app.dev/docs/getting-started</p> <p>Create React App is an officially supported way to create single-page React applications. It offers a modern build setup with no configuration.</p> <p>Create React App \u662f\u5b98\u65b9\u63a8\u8350\u7684\u521b\u5efa\u5e93\u3002\u4e0d\u9700\u8981\u4efb\u4f55\u7684\u914d\u7f6e\uff0c\u76f4\u63a5\u5b8c\u6210\u521b\u5efa\u6253\u5305\u3002\u9879\u76ee\u4e2d\u76f4\u63a5\u628ascript\u811a\u672c\u5355\u72ec\u62ff\u51fa\u6765\uff0c\u8fdb\u884c\u81ea\u5b9a\u4e49\u7684\u914d\u7f6e\u3002</p>"},{"location":"react/Create-React-App/#_1","title":"\u5feb\u901f\u5f00\u59cb","text":"<pre><code>npx create-react-app my-app\ncd my-app\nnpm start\n</code></pre> <p>If you've previously installed <code>create-react-app</code> globally via <code>npm install -g create-react-app</code>, we recommend you uninstall the package using <code>npm uninstall -g create-react-app</code> to ensure that <code>npx</code> always uses the latest version. \u5982\u679c\u5df2\u7ecf\u5168\u5c40\u5b89\u88c5\uff0c\u90a3\u4e48\u6700\u597d\u5378\u8f7d\u5168\u5c40\u5b89\u88c5\u7684\u5e93\uff0c\u786e\u4fdd\u73b0\u5728\u4f7f\u7528\u7684\u662f\u6700\u65b0\u7684\u7248\u672c\u3002</p> <p>Then open http://localhost:3000/ to see your app. When you\u2019re ready to deploy to production, create a minified bundle with <code>npm run build</code>.</p> <p>\u6d4b\u8bd5\u73af\u5883\u4f7f\u7528 npm run start, \u751f\u4ea7\u73af\u5883\u7528 npm run build.</p> <p>You don\u2019t need to install or configure tools like Webpack or Babel. They are preconfigured and hidden so that you can focus on the code.Just create a project, and you\u2019re good to go.</p> <p>\u4e0d\u9700\u8981\u5b89\u88c5\u914d\u7f6e\u5de5\u5177\uff08webpack+babel\uff09\u6784\u5efa\u5de5\u5177\u5df2\u7ecf\u914d\u7f6e\u597d\uff0c\u53ef\u4ee5\u76f4\u63a5\u5f00\u59cbReact\u9879\u76ee\u3002</p> <p>You\u2019ll need to have Node &gt;= 8.10 on your local development machine (but it\u2019s not required on the server). You can use nvm (macOS/Linux) or nvm-windows to easily switch Node versions between different projects.To create a new app, you may choose one of the following methods:</p> <p>\u9700\u8981\u5728node\u73af\u5883\u4e0b\u8fd0\u884c\uff08&gt;8s\uff09\u652f\u6301 npm npx yarn ts \u73af\u5883</p> <pre><code>npm init react-app my-app\n</code></pre>"},{"location":"react/Create-React-App/#selecting-a-package-manager","title":"Selecting a package manager \u9009\u62e9\u5305\u7ba1\u7406\u5de5\u5177","text":"<p>\u5982\u679c\u540c\u65f6\u5b89\u88c5\u4e86yarn npm \u90a3\u4e48\u4f1a\u9ed8\u8ba4\u4f7f\u7528 yarn \u7ba1\u7406\u3002\u5982\u679c\u9700\u8981 npm \u5b89\u88c5\uff0c\u5c31\u9700\u8981\u52a0\u4e0a\u914d\u7f6e\u3002</p> <p>When you create a new app, the CLI will use Yarn to install dependencies (when available). If you have Yarn installed, but would prefer to use npm, you can append --use-npm to the creation command. For example:</p> <pre><code>npx create-react-app my-app --use-npm\n</code></pre>"},{"location":"react/Create-React-App/#output","title":"Output","text":"<p>Running any of these commands will create a directory called <code>my-app</code> inside the current folder. Inside that directory, it will generate the initial project structure and install the transitive dependencies:</p> <p>\u8f93\u51fa\u6587\u4ef6\u7ed3\u6784</p> <pre><code>my-app\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 node_modules\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 public\n\u2502   \u251c\u2500\u2500 favicon.ico\n\u2502   \u251c\u2500\u2500 index.html\n\u2502   \u2514\u2500\u2500 manifest.json\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 App.css\n    \u251c\u2500\u2500 App.js\n    \u251c\u2500\u2500 App.test.js\n    \u251c\u2500\u2500 index.css\n    \u251c\u2500\u2500 index.js\n    \u251c\u2500\u2500 logo.svg\n    \u2514\u2500\u2500 serviceWorker.js\n</code></pre> <p>No configuration or complicated folder structures, just the files you need to build your app. Once the installation is done, you can open your project folder:</p> <p>\u4e0d\u9700\u8981\u914d\u7f6e\u73af\u5883\u548c\u6587\u4ef6\u5939\uff0c\u76f4\u63a5\u8fd0\u884c\u5373\u53ef\u5b8c\u6210\u6587\u4ef6\u7ba1\u7406</p> <pre><code>cd my-app\n</code></pre>"},{"location":"react/Create-React-App/#scripts","title":"Scripts","text":"<p>Inside the newly created project, you can run some built-in commands:</p> <p>\u5728\u65b0\u521b\u5efa\u7684\u9879\u76ee\u4e2d\uff0c\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4</p>"},{"location":"react/Create-React-App/#npm-start","title":"npm start","text":"<p>Runs the app in development mode. Open http://localhost:3000 to view it in the browser.</p> <p>The page will automatically reload if you make changes to the code. You will see the build errors and lint warnings in the console.</p> <p>\u8fd9\u4e2a\u754c\u9762\u4f1a\u70ed\u52a0\u8f7d\uff08\u6539\u53d8\u6587\u4ef6\u540e\uff09\u53ef\u4ee5\u770b\u5230\u9519\u8bef\u548c\u683c\u5f0f\u8b66\u544a</p>"},{"location":"react/Create-React-App/#npm-test","title":"<code>npm test</code>","text":"<p>Runs the test watcher in an interactive mode. By default, runs tests related to files changed since the last commit.</p> <p>\u5728\u4ea4\u4e92\u6a21\u5f0f\u4e0b\u8fd0\u884c\u6d4b\u8bd5\uff08\u9ed8\u8ba4\u6d4b\u8bd5\u6700\u8fd1\u4e00\u6b21\u63d0\u4ea4\u7684\u90e8\u5206\uff09</p>"},{"location":"react/Create-React-App/#npm-run-build","title":"<code>npm run build</code>","text":"<p>Builds the app for production to the <code>build</code> folder. It correctly bundles React in production mode and optimizes the build for the best performance.The build is minified and the filenames include the hashes.Your app is ready to be deployed.</p> <p>\u5728build\u4e2d\u521b\u5efa\u751f\u4ea7\u6a21\u5f0f\uff08\u6700\u4f73\u7684\u6027\u80fd\uff09</p>"},{"location":"react/React%20%26%20Webpack/","title":"React &amp; Webpack","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 8178  \u9605\u8bfb17\u5206\u949f</p> <p>\u8fd9\u7bc7\u6307\u5357\u5c06\u4f1a\u6559\u4f60\u5982\u4f55\u5c06TypeScript\u548cReact\u8fd8\u6709webpack\u7ed3\u5408\u5728\u4e00\u8d77\u4f7f\u7528\u3002</p> <p>\u5982\u679c\u4f60\u6b63\u5728\u505a\u4e00\u4e2a\u5168\u65b0\u7684\u5de5\u7a0b\uff0c\u53ef\u4ee5\u5148\u9605\u8bfb\u8fd9\u7bc7React\u5feb\u901f\u4e0a\u624b\u6307\u5357\u3002</p> <p>\u5426\u5219\uff0c\u6211\u4eec\u5047\u8bbe\u5df2\u7ecf\u5728\u4f7f\u7528Node.js\u548cnpm\u3002</p>"},{"location":"react/React%20%26%20Webpack/#_1","title":"\u521d\u59cb\u5316\u9879\u76ee\u7ed3\u6784","text":"<p>\u8ba9\u6211\u4eec\u65b0\u5efa\u4e00\u4e2a\u76ee\u5f55\u3002 \u5c06\u4f1a\u547d\u540d\u4e3a <code>proj</code>\uff0c\u4f46\u662f\u4f60\u53ef\u4ee5\u6539\u6210\u4efb\u4f55\u4f60\u559c\u6b22\u7684\u540d\u5b57\u3002</p> <pre><code>mkdir proj\ncd proj\n</code></pre> <p>\u6211\u4eec\u4f1a\u50cf\u4e0b\u9762\u7684\u7ed3\u6784\u7ec4\u7ec7\u6211\u4eec\u7684\u5de5\u7a0b\uff1a</p> <pre><code>proj/\n\u251c\u2500 dist/\n\u2514\u2500 src/\n   \u2514\u2500 components/\n</code></pre> <p>TypeScript\u6587\u4ef6\u4f1a\u653e\u5728<code>src</code>\u6587\u4ef6\u5939\u91cc\uff0c\u901a\u8fc7TypeScript\u7f16\u8bd1\u5668\u7f16\u8bd1\uff0c\u7136\u540e\u7ecfwebpack\u5904\u7406\uff0c\u6700\u540e\u751f\u6210\u4e00\u4e2a<code>bundle.js</code>\u6587\u4ef6\u653e\u5728<code>dist</code>\u76ee\u5f55\u4e0b\u3002 \u6211\u4eec\u81ea\u5b9a\u4e49\u7684\u7ec4\u4ef6\u5c06\u4f1a\u653e\u5728 <code>src/components</code>\u6587\u4ef6\u5939\u4e0b\u3002</p> <p>\u4e0b\u9762\u6765\u521b\u5efa\u57fa\u672c\u7ed3\u6784\uff1a</p> <pre><code>mkdir src\ncd src\nmkdir components\ncd ..\n</code></pre> <p>Webpack\u4f1a\u5e2e\u52a9\u6211\u4eec\u751f\u6210<code>dist</code>\u76ee\u5f55\u3002</p>"},{"location":"react/React%20%26%20Webpack/#_2","title":"\u521d\u59cb\u5316\u5de5\u7a0b","text":"<p>\u73b0\u5728\u628a\u8fd9\u4e2a\u76ee\u5f55\u53d8\u6210npm\u5305\u3002</p> <pre><code>npm init\n</code></pre> <p>\u4f60\u4f1a\u770b\u5230\u4e00\u4e9b\u63d0\u793a\uff0c\u653e\u5fc3\u5730\u4f7f\u7528\u9ed8\u8ba4\u503c\u5c31\u53ef\u4ee5\u4e86\u3002 \u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u968f\u65f6\u5230\u751f\u6210\u7684 <code>package.json</code>\u6587\u4ef6\u91cc\u4fee\u6539\u3002</p>"},{"location":"react/React%20%26%20Webpack/#_3","title":"\u5b89\u88c5\u4f9d\u8d56","text":"<p>\u9996\u5148\u786e\u4fdd\u5df2\u7ecf\u5168\u5c40\u5b89\u88c5\u4e86Webpack\u3002</p> <pre><code>npm install -g webpack\n</code></pre> <p>Webpack\u8fd9\u4e2a\u5de5\u5177\u53ef\u4ee5\u5c06\u4f60\u7684\u6240\u6709\u4ee3\u7801\u548c\u53ef\u9009\u62e9\u5730\u5c06\u4f9d\u8d56\u6346\u7ed1\u6210\u4e00\u4e2a\u5355\u72ec\u7684<code>.js</code>\u6587\u4ef6\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u6dfb\u52a0React\u548cReact-DOM\u4ee5\u53ca\u5b83\u4eec\u7684\u58f0\u660e\u6587\u4ef6\u5230<code>package.json</code>\u6587\u4ef6\u91cc\u505a\u4e3a\u4f9d\u8d56\uff1a</p> <pre><code>npm install --save react react-dom @types/react @types/react-dom\n</code></pre> <p>\u4f7f\u7528<code>@types/</code>\u524d\u7f00\u8868\u793a\u6211\u4eec\u989d\u5916\u8981\u83b7\u53d6React\u548cReact-DOM\u7684\u58f0\u660e\u6587\u4ef6\u3002 \u901a\u5e38\u5f53\u4f60\u5bfc\u5165\u50cf <code>\"react\"</code>\u8fd9\u6837\u7684\u8def\u5f84\uff0c\u5b83\u4f1a\u67e5\u770b<code>react</code>\u5305\uff1b \u7136\u800c\uff0c\u5e76\u4e0d\u662f\u6240\u6709\u7684\u5305\u90fd\u5305\u542b\u4e86\u58f0\u660e\u6587\u4ef6\uff0c\u6240\u4ee5TypeScript\u8fd8\u4f1a\u67e5\u770b <code>@types/react</code>\u5305\u3002 \u4f60\u4f1a\u53d1\u73b0\u6211\u4eec\u4ee5\u540e\u5c06\u4e0d\u5fc5\u5728\u610f\u8fd9\u4e9b\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u8981\u6dfb\u52a0\u5f00\u53d1\u65f6\u4f9d\u8d56awesome-typescript-loader\u548csource-map-loader\u3002</p> <pre><code>npm install --save-dev typescript awesome-typescript-loader source-map-loader\n</code></pre> <p>\u8fd9\u4e9b\u4f9d\u8d56\u4f1a\u8ba9TypeScript\u548cwebpack\u5728\u4e00\u8d77\u826f\u597d\u5730\u5de5\u4f5c\u3002 awesome-typescript-loader\u53ef\u4ee5\u8ba9Webpack\u4f7f\u7528TypeScript\u7684\u6807\u51c6\u914d\u7f6e\u6587\u4ef6 <code>tsconfig.json</code>\u7f16\u8bd1TypeScript\u4ee3\u7801\u3002 source-map-loader\u4f7f\u7528TypeScript\u8f93\u51fa\u7684sourcemap\u6587\u4ef6\u6765\u544a\u8bc9webpack\u4f55\u65f6\u751f\u6210 *\u81ea\u5df1\u7684*sourcemaps\u3002 \u8fd9\u5c31\u5141\u8bb8\u4f60\u5728\u8c03\u8bd5\u6700\u7ec8\u751f\u6210\u7684\u6587\u4ef6\u65f6\u5c31\u597d\u50cf\u5728\u8c03\u8bd5TypeScript\u6e90\u7801\u4e00\u6837\u3002</p> <p>\u6ce8\u610f\u6211\u4eec\u5b89\u88c5TypeScript\u4e3a\u4e00\u4e2a\u5f00\u53d1\u4f9d\u8d56\u3002 \u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528 <code>npm link typescript</code>\u6765\u94fe\u63a5TypeScript\u5230\u4e00\u4e2a\u5168\u5c40\u62f7\u8d1d\uff0c\u4f46\u8fd9\u4e0d\u662f\u5e38\u89c1\u7528\u6cd5\u3002</p>"},{"location":"react/React%20%26%20Webpack/#typescript","title":"\u6dfb\u52a0TypeScript\u914d\u7f6e\u6587\u4ef6","text":"<p>\u6211\u4eec\u60f3\u5c06TypeScript\u6587\u4ef6\u6574\u5408\u5230\u4e00\u8d77 - \u8fd9\u5305\u62ec\u6211\u4eec\u5199\u7684\u6e90\u7801\u548c\u5fc5\u8981\u7684\u58f0\u660e\u6587\u4ef6\u3002</p> <p>\u6211\u4eec\u9700\u8981\u521b\u5efa\u4e00\u4e2a<code>tsconfig.json</code>\u6587\u4ef6\uff0c\u5b83\u5305\u542b\u4e86\u8f93\u5165\u6587\u4ef6\u5217\u8868\u4ee5\u53ca\u7f16\u8bd1\u9009\u9879\u3002 \u5728\u5de5\u7a0b\u6839\u76ee\u5f55\u4e0b\u65b0\u5efa\u6587\u4ef6<code>tsconfig.json</code>\u6587\u4ef6\uff0c\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>{\n    \"compilerOptions\": {\n        \"outDir\": \"./dist/\",\n        \"sourceMap\": true,\n        \"noImplicitAny\": true,\n        \"module\": \"commonjs\",\n        \"target\": \"es5\",\n        \"jsx\": \"react\"\n    },\n    \"include\": [\n        \"./src/**/*\"\n    ]\n}\n</code></pre> <p>\u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc\u4e86\u89e3\u66f4\u591a\u5173\u4e8e<code>tsconfig.json</code>\u6587\u4ef6\u7684\u8bf4\u660e\u3002</p>"},{"location":"react/React%20%26%20Webpack/#_4","title":"\u5199\u4e9b\u4ee3\u7801","text":"<p>\u4e0b\u9762\u4f7f\u7528React\u5199\u4e00\u6bb5TypeScript\u4ee3\u7801\u3002 \u9996\u5148\uff0c\u5728 <code>src/components</code>\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a<code>Hello.tsx</code>\u7684\u6587\u4ef6\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>import * as React from \"react\";\n\nexport interface HelloProps { compiler: string; framework: string; }\n\nexport const Hello = (props: HelloProps) =&gt; &lt;h1&gt;Hello from {props.compiler} and {props.framework}!&lt;/h1&gt;;\n</code></pre> <p>\u6ce8\u610f\u8fd9\u4e2a\u4f8b\u5b50\u4f7f\u7528\u4e86\u65e0\u72b6\u6001\u7684\u529f\u80fd\u7ec4\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u8ba9\u5b83\u66f4\u50cf\u4e00\u70b9*\u7c7b*\u3002</p> <pre><code>import * as React from \"react\";\n\nexport interface HelloProps { compiler: string; framework: string; }\n\n// 'HelloProps' describes the shape of props.\n// State is never set so we use the '{}' type.\nexport class Hello extends React.Component&lt;HelloProps, {}&gt; {\n    render() {\n        return &lt;h1&gt;Hello from {this.props.compiler} and {this.props.framework}!&lt;/h1&gt;;\n    }\n}\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u5728<code>src</code>\u4e0b\u521b\u5efa<code>index.tsx</code>\u6587\u4ef6\uff0c\u6e90\u7801\u5982\u4e0b\uff1a</p> <pre><code>import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\n\nimport { Hello } from \"./components/Hello\";\n\nReactDOM.render(\n    &lt;Hello compiler=\"TypeScript\" framework=\"React\" /&gt;,\n    document.getElementById(\"example\")\n);\n</code></pre> <p>\u6211\u4eec\u4ec5\u4ec5\u5c06<code>Hello</code>\u7ec4\u4ef6\u5bfc\u5165<code>index.tsx</code>\u3002 \u6ce8\u610f\uff0c\u4e0d\u540c\u4e8e <code>\"react\"</code>\u6216<code>\"react-dom\"</code>\uff0c\u6211\u4eec\u4f7f\u7528<code>Hello.tsx</code>\u7684*\u76f8\u5bf9\u8def\u5f84* - \u8fd9\u5f88\u91cd\u8981\u3002 \u5982\u679c\u4e0d\u8fd9\u6837\u505a\uff0cTypeScript\u53ea\u4f1a\u5c1d\u8bd5\u5728 <code>node_modules</code>\u6587\u4ef6\u5939\u91cc\u67e5\u627e\u3002</p> <p>\u6211\u4eec\u8fd8\u9700\u8981\u4e00\u4e2a\u9875\u9762\u6765\u663e\u793a<code>Hello</code>\u7ec4\u4ef6\u3002 \u5728\u6839\u76ee\u5f55 <code>proj</code>\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a<code>index.html</code>\u7684\u6587\u4ef6\uff0c\u5982\u4e0b\uff1a</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\" /&gt;\n        &lt;title&gt;Hello React!&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=\"example\"&gt;&lt;/div&gt;\n\n        &lt;!-- Dependencies --&gt;\n        &lt;script src=\"./node_modules/react/umd/react.development.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"./node_modules/react-dom/umd/react-dom.development.js\"&gt;&lt;/script&gt;\n\n        &lt;!-- Main --&gt;\n        &lt;script src=\"./dist/bundle.js\"&gt;&lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u9700\u8981\u6ce8\u610f\u4e00\u70b9\u6211\u4eec\u662f\u4ece<code>node_modules</code>\u5f15\u5165\u7684\u6587\u4ef6\u3002 React\u548cReact-DOM\u7684npm\u5305\u91cc\u5305\u542b\u4e86\u72ec\u7acb\u7684 <code>.js</code>\u6587\u4ef6\uff0c\u4f60\u53ef\u4ee5\u5728\u9875\u9762\u4e0a\u5f15\u5165\u5b83\u4eec\uff0c\u8fd9\u91cc\u6211\u4eec\u4e3a\u4e86\u5feb\u6377\u5c31\u76f4\u63a5\u5f15\u7528\u4e86\u3002 \u53ef\u4ee5\u968f\u610f\u5730\u5c06\u5b83\u4eec\u62f7\u8d1d\u5230\u5176\u5b83\u76ee\u5f55\u4e0b\uff0c\u6216\u8005\u4eceCDN\u4e0a\u5f15\u7528\u3002 Facebook\u5728CND\u4e0a\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u53ef\u7528\u7684React\u7248\u672c\uff0c\u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc\u67e5\u770b \u66f4\u591a\u5185\u5bb9\u3002</p>"},{"location":"react/React%20%26%20Webpack/#webpack","title":"\u521b\u5efa\u4e00\u4e2awebpack\u914d\u7f6e\u6587\u4ef6","text":"<p>\u5728\u5de5\u7a0b\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a<code>webpack.config.js</code>\u6587\u4ef6\u3002</p> <pre><code>module.exports = {\n    entry: \"./src/index.tsx\",\n    output: {\n        filename: \"bundle.js\",\n        path: __dirname + \"/dist\"\n    },\n\n    // Enable sourcemaps for debugging webpack's output.\n    devtool: \"source-map\",\n\n    resolve: {\n        // Add '.ts' and '.tsx' as resolvable extensions.\n        extensions: [\".ts\", \".tsx\", \".js\", \".json\"]\n    },\n\n    module: {\n        rules: [\n            // All files with a '.ts' or '.tsx' extension will be handled by 'awesome-typescript-loader'.\n            { test: /\\.tsx?$/, loader: \"awesome-typescript-loader\" },\n\n            // All output '.js' files will have any sourcemaps re-processed by 'source-map-loader'.\n            { enforce: \"pre\", test: /\\.js$/, loader: \"source-map-loader\" }\n        ]\n    },\n\n    // When importing a module whose path matches one of the following, just\n    // assume a corresponding global variable exists and use that instead.\n    // This is important because it allows us to avoid bundling all of our\n    // dependencies, which allows browsers to cache those libraries between builds.\n    externals: {\n        \"react\": \"React\",\n        \"react-dom\": \"ReactDOM\"\n    }\n};\n</code></pre> <p>\u5927\u5bb6\u53ef\u80fd\u5bf9<code>externals</code>\u5b57\u6bb5\u6709\u6240\u7591\u60d1\u3002 \u6211\u4eec\u60f3\u8981\u907f\u514d\u628a\u6240\u6709\u7684React\u90fd\u653e\u5230\u4e00\u4e2a\u6587\u4ef6\u91cc\uff0c\u56e0\u4e3a\u4f1a\u589e\u52a0\u7f16\u8bd1\u65f6\u95f4\u5e76\u4e14\u6d4f\u89c8\u5668\u8fd8\u80fd\u591f\u7f13\u5b58\u6ca1\u6709\u53d1\u751f\u6539\u53d8\u7684\u5e93\u6587\u4ef6\u3002</p> <p>\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u6d4f\u89c8\u5668\u91cc\u5f15\u5165React\u6a21\u5757\uff0c\u4f46\u662f\u5927\u90e8\u5206\u6d4f\u89c8\u5668\u8fd8\u6ca1\u6709\u652f\u6301\u6a21\u5757\u3002 \u56e0\u6b64\u5927\u90e8\u5206\u4ee3\u7801\u5e93\u4f1a\u628a\u81ea\u5df1\u5305\u88f9\u5728\u4e00\u4e2a\u5355\u72ec\u7684\u5168\u5c40\u53d8\u91cf\u5185\uff0c\u6bd4\u5982\uff1a <code>jQuery</code>\u6216<code>_</code>\u3002 \u8fd9\u53eb\u505a\u201c\u547d\u540d\u7a7a\u95f4\u201d\u6a21\u5f0f\uff0cwebpack\u4e5f\u5141\u8bb8\u6211\u4eec\u7ee7\u7eed\u4f7f\u7528\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u5199\u7684\u4ee3\u7801\u5e93\u3002 \u901a\u8fc7\u6211\u4eec\u7684\u8bbe\u7f6e <code>\"react\": \"React\"</code>\uff0cwebpack\u4f1a\u795e\u5947\u5730\u5c06\u6240\u6709\u5bf9<code>\"react\"</code>\u7684\u5bfc\u5165\u8f6c\u6362\u6210\u4ece<code>React</code>\u5168\u5c40\u53d8\u91cf\u4e2d\u52a0\u8f7d\u3002</p> <p>\u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc\u4e86\u89e3\u66f4\u591a\u5982\u4f55\u914d\u7f6ewebpack\u3002</p>"},{"location":"react/React%20%26%20Webpack/#_5","title":"\u6574\u5408\u5728\u4e00\u8d77","text":"<p>\u6267\u884c\uff1a</p> <pre><code>webpack\n</code></pre> <p>\u5728\u6d4f\u89c8\u5668\u91cc\u6253\u5f00<code>index.html</code>\uff0c\u5de5\u7a0b\u5e94\u8be5\u5df2\u7ecf\u53ef\u4ee5\u7528\u4e86\uff01 \u4f60\u53ef\u4ee5\u770b\u5230\u9875\u9762\u4e0a\u663e\u793a\u7740\u201cHello from TypeScript and React!\u201d</p>"},{"location":"react/React%2017%20%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E6%96%B0%E7%89%B9%E6%80%A7/","title":"React 17 \u4e8b\u4ef6\u5904\u7406\u65b0\u7279\u6027","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2151  \u9605\u8bfb5\u5206\u949f</p> <p>React 16 \u5347\u7ea7\u5230 React 17 \u540e\uff0c\u4e8b\u4ef6\u5904\u7406\u53d1\u751f\u53d8\u5316\uff0c\u8be6\u60c5\u5982\u4e0b\uff1a</p>"},{"location":"react/React%2017%20%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E6%96%B0%E7%89%B9%E6%80%A7/#1react-17","title":"1\u3001React 17 \u4e2d\u7ed1\u5b9a\u7684\u4f4d\u7f6e\u53d8\u5316","text":"<p>React 16\uff1aReact \u4e8b\u4ef6\u7ed1\u5b9a\u7684\u4f4d\u7f6e\u662f\u771f\u5b9e\u7684 document \u8282\u70b9\uff0c\u5982\u679c\u9875\u9762\u4e2d\u5b58\u5728\u591a\u4e2a React \u5e94\u7528\uff0c\u90a3\u4e48\u6240\u6709\u4e8b\u4ef6\u90fd\u4f1a\u53d1\u5230\u6587\u6863\u7684 document \u8282\u70b9\uff0c\u8fd9\u6837\u4e0d\u540c\u7684 React \u5e94\u7528\u53ef\u80fd\u5e72\u6270\u3002</p> <p>React 17: \u4e8b\u4ef6\u7ed1\u5b9a\u90fd\u5728\u5f53\u524d React \u6811\u7684\u6839\u8282\u70b9\uff08\u865a\u62df\u8282\u70b9\uff09\u3002\u8fd9\u6837\u4e0d\u540c\u7684 react \u5e94\u7528\u4e8b\u4ef6\u4e0d\u4f1a\u5e72\u6270\u3002</p>"},{"location":"react/React%2017%20%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E6%96%B0%E7%89%B9%E6%80%A7/#2","title":"2\u3001\u4e8b\u4ef6\u5904\u7406\u8fc7\u7a0b","text":"<p>\u5728React16\u4e2d\uff1a\u5bf9document\u7684\u4e8b\u4ef6\u59d4\u6258\u90fd\u59d4\u6258\u5728\u5192\u6ce1\u9636\u6bb5\uff0c\u5f53\u4e8b\u4ef6\u5192\u6ce1\u5230document\u4e4b\u540e\u89e6\u53d1\u7ed1\u5b9a\u7684\u56de\u8c03\u51fd\u6570\uff0c\u5728\u56de\u8c03\u51fd\u6570\u4e2d\u91cd\u65b0\u6a21\u62df\u4e00\u6b21 \u6355\u83b7-\u5192\u6ce1 \u7684\u884c\u4e3a\uff0c\u6240\u4ee5React\u4e8b\u4ef6\u4e2d\u7684<code>e.stopPropagation()</code>\u65e0\u6cd5\u963b\u6b62\u539f\u751f\u4e8b\u4ef6\u7684\u6355\u83b7\u548c\u5192\u6ce1\uff0c\u56e0\u4e3a\u539f\u751f\u4e8b\u4ef6\u7684\u6355\u83b7\u548c\u5192\u6ce1\u5df2\u7ecf\u6267\u884c\u5b8c\u4e86\u3002</p> <p>\u5728React17\u4e2d\uff1a\u5bf9React\u5e94\u7528\u6839DOM\u5bb9\u5668\u7684\u4e8b\u4ef6\u59d4\u6258\u5206\u522b\u5728\u6355\u83b7\u9636\u6bb5\u548c\u5192\u6ce1\u9636\u6bb5\u3002\u5373\uff1a</p> <ul> <li> <p>\u5f53\u6839\u5bb9\u5668\u63a5\u6536\u5230\u6355\u83b7\u4e8b\u4ef6\u65f6\uff0c\u5148\u89e6\u53d1\u4e00\u6b21React\u4e8b\u4ef6\u7684\u6355\u83b7\u9636\u6bb5\uff0c\u7136\u540e\u518d\u6267\u884c\u539f\u751f\u4e8b\u4ef6\u7684\u6355\u83b7\u4f20\u64ad\u3002\u6240\u4ee5React\u4e8b\u4ef6\u7684\u6355\u83b7\u9636\u6bb5\u8c03\u7528<code>e.stopPropagation()</code>\u80fd\u963b\u6b62\u539f\u751f\u4e8b\u4ef6\u7684\u4f20\u64ad\u3002</p> </li> <li> <p>\u5f53\u6839\u5bb9\u5668\u63a5\u53d7\u5230\u5192\u6ce1\u4e8b\u4ef6\u65f6\uff0c\u4f1a\u89e6\u53d1\u4e00\u6b21React\u4e8b\u4ef6\u7684\u5192\u6ce1\u9636\u6bb5\uff0c\u6b64\u65f6\u539f\u751f\u4e8b\u4ef6\u7684\u5192\u6ce1\u4f20\u64ad\u5df2\u7ecf\u4f20\u64ad\u5230\u6839\u4e86\uff0c\u6240\u4ee5React\u4e8b\u4ef6\u7684\u5192\u6ce1\u9636\u6bb5\u8c03\u7528<code>e.stopPropagation()</code>\u4e0d\u80fd\u963b\u6b62\u539f\u751f\u4e8b\u4ef6\u5411\u6839\u5bb9\u5668\u7684\u4f20\u64ad\uff0c\u4f46\u662f\u80fd\u963b\u6b62\u6839\u5bb9\u5668\u5230\u9875\u9762\u9876\u5c42 document \u7684\u4f20\u64ad\u3002</p> </li> </ul>"},{"location":"react/React%2017%20%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E6%96%B0%E7%89%B9%E6%80%A7/#3","title":"3\u3001\u53bb\u6389\u4e8b\u4ef6\u6c60","text":"<p>React 16: \u5728 setTimeout \u4e2d\u662f\u5f02\u6b65\u64cd\u4f5c\uff0c\u53ef\u4ee5\u4f7f\u7528 e.persist() \u4fdd\u6301\u539f\u6709\u65f6\u95f4\uff0c\u7136\u540e\u5728\u5f02\u6b65\u64cd\u4f5c\u4e2d\u83b7\u53d6\u4e8b\u4ef6\u7684\u5c5e\u6027</p> <p>React 17\uff1a\u53bb\u6389\u4e86\u4e8b\u4ef6\u6c60\uff0c\u76f4\u63a5\u53ef\u4ee5\u8c03\u7528</p>"},{"location":"react/React%2017%20%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E6%96%B0%E7%89%B9%E6%80%A7/#4scroll","title":"4\u3001scroll \u4e8b\u4ef6\u4e0d\u518d\u5192\u6ce1","text":"<p>React 16: scroll \u4e8b\u4ef6\u5192\u6ce1\u5230\u4e0a\u5c42\u8282\u70b9\uff0c\u53ef\u80fd\u5f71\u54cd\u5176\u4ed6 React \u5e94\u7528\u3002</p> <p>React 17 \u53bb\u6389\u8fd9\u90e8\u5206\u7684\u4e8b\u4ef6\u5192\u6ce1\u3002</p>"},{"location":"react/React%2017%20%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E6%96%B0%E7%89%B9%E6%80%A7/#_1","title":"\u53c2\u8003\u94fe\u63a5","text":"<p>https://zhuanlan.zhihu.com/p/380941094</p> <p>https://juejin.cn/post/7164583106920316941</p> <p>https://zh-hans.legacy.reactjs.org/blog/2020/08/10/react-v17-rc.html#no-event-pooling</p> <p>https://zh-hans.legacy.reactjs.org/docs/legacy-event-pooling.html</p>"},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/","title":"React 18 \u8d85\u5168\u5347\u7ea7\u6307\u5357","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 18543  \u9605\u8bfb38\u5206\u949f</p>"},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#_1","title":"\u5347\u7ea7\u6b65\u9aa4","text":"<p>1\u3001\u786e\u5b9a\u5347\u7ea7\u7248\u672c\u53f7\u3002\u4ece 16-17 \u53d8\u5316\u8f83\u5c0f\uff0c17-18 \u53d8\u5316\u8f83\u5927\u3002\u5efa\u8bae\u9010\u6b65\u5347\u7ea7\u3002</p> <p>2\u3001\u5df2\u6709\u9879\u76ee\u4ee3\u7801\u62c6\u5206\u3002\u5c0f\u9879\u76ee\u4e0d\u9700\u8981\u62c6\u5206\uff0c\u5927\u9879\u76ee\u6700\u597d\u62c6\u5206\u6210\u591a\u4e2a\u5c0f\u9879\u76ee\uff0c\u4fbf\u4e8e\u8c03\u8bd5\u5206\u522b\u5347\u7ea7\u7b49\u3002</p> <p>3\u3001\u5347\u7ea7 react \u548c react-dom \u7248\u672c\uff0c\u5347\u7ea7 react-router, react-dnd, react-rudux \u7b49\u5b98\u65b9\u7b2c\u4e09\u65b9\u5e93\u3002</p> <p>4\u3001\u4fdd\u7559\u6838\u5fc3\u4ee3\u7801\uff0c\u6ce8\u91ca\u63d2\u4ef6\uff0c\u7b2c\u4e09\u65b9\u5e93\u7b49\u8fdb\u884c\u6d4b\u8bd5\u3002</p> <p>5\u3001\u9010\u6b65\u5347\u7ea7\u63d2\u4ef6\uff0c\u7b2c\u4e09\u65b9\u5e93\uff08ant-design\uff09\uff0c\u5e76\u66f4\u65b0\u4f9d\u8d56\u7248\u672c\u3002</p> <p>6\u3001\u6574\u4f53\u8054\u8c03\uff0c\u6d4b\u8bd5\u6574\u4e2a\u9879\u76ee\u7248\u672c\u3002</p> <p>\u5982\u679c\u5b58\u5728\u591a\u4e2a\u5b50\u9879\u76ee\uff0c\u4f9d\u8d56\u5173\u7cfb\u5c42\u7ea7\u5f88\u591a\uff0c\u5148\u6574\u7406\u4f9d\u8d56\u6811\uff0c\u4ece\u4f9d\u8d56\u6811\u7684\u53f6\u5b50\u7ed3\u70b9\uff08\u4f8b\u5982 lodash \u7b49\u5de5\u5177\u5e93\uff0cUI \u5e93\uff09\u8fdb\u884c\u5347\u7ea7\uff0c\u7136\u540e\u5347\u7ea7\u6838\u5fc3\u7ec4\u4ef6\u3002</p> <p>\u5177\u4f53\u53c2\u8003\u8fd9\u7bc7\u77ed\u6587\uff08React17 \u5347\u7ea7\u5230 React18 \u4ecb\u7ecd\uff09\uff1ahttps://juejin.cn/post/7078511027091931167</p>"},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#_2","title":"\u5347\u7ea7","text":"<p>\u4f7f\u7528 <code>yarn</code> \u8981\u5b89\u88c5\u6700\u65b0\u7684 <code>React 18</code>\uff1a</p> <pre><code>yarn add react react-dom\n</code></pre>"},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#_3","title":"\u53d8\u66f4","text":""},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#createroot","title":"createRoot","text":"<p><code>React 18</code> \u63d0\u4f9b\u4e86\u4e24\u4e2a\u6839 API\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a <code>Legacy Root API</code> \u548c <code>New Root API</code>\u3002</p> <ul> <li><code>Legacy root API</code>\uff1a \u5373 <code>ReactDOM.render</code>\u3002\u8fd9\u5c06\u521b\u5efa\u4e00\u4e2a\u4ee5\u201c\u9057\u7559\u201d\u6a21\u5f0f\u8fd0\u884c\u7684 <code>root</code>\uff0c\u5176\u5de5\u4f5c\u65b9\u5f0f\u4e0e <code>React 17</code> \u5b8c\u5168\u76f8\u540c\u3002\u4f7f\u7528\u6b64 API \u4f1a\u6709\u4e00\u4e2a\u8b66\u544a\uff0c\u8868\u660e\u5b83\u5df2\u88ab\u5f03\u7528\u5e76\u5207\u6362\u5230 <code>New Root API</code>\u3002</li> <li><code>New Root API</code>\uff1a \u5373 <code>createRoot</code>\u3002 \u8fd9\u5c06\u521b\u5efa\u4e00\u4e2a\u5728 <code>React 18</code> \u4e2d\u8fd0\u884c\u7684 <code>root</code>\uff0c\u5b83\u6dfb\u52a0\u4e86 <code>React 18</code> \u7684\u6240\u6709\u6539\u8fdb\u5e76\u5141\u8bb8\u4f7f\u7528\u5e76\u53d1\u529f\u80fd\u3002</li> </ul> <p>\u6211\u4eec\u4ee5 <code>Vite + TS</code> \u4f5c\u4e3a\u811a\u624b\u67b6\u542f\u52a8\u9879\u76ee\u3002\u9879\u76ee\u542f\u52a8\u540e\u4f60\u4f1a\u5728\u63a7\u5236\u53f0\u4e2d\u770b\u5230\u4e00\u4e2a\u8b66\u544a\uff1a</p> <p></p> <p>\u4e5f\u5c31\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u76f4\u63a5\u5c06\u9879\u76ee\u5347\u7ea7\u5230 <code>React 18</code> \u7248\u672c\u800c\u4e0d\u4f1a\u76f4\u63a5\u9020\u6210 <code>break change</code>\u3002\u56e0\u4e3a\u5b83\u4ec5\u4ec5\u7ed9\u4e88\u4e86\u4e00\u4e2a\u8b66\u544a\uff0c\u5e76\u4e14\u5728\u6574\u4e2a <code>18</code> \u7248\u672c\u4e2d\u90fd\u4e3a\u53ef\u7528\u517c\u5bb9\u72b6\u6001\uff0c\u5e76\u4fdd\u6301\u7740 <code>React 17</code> \u7248\u672c\u7684\u7279\u6027\u3002</p> <p>\u4e3a\u4ec0\u4e48\u8981\u8fd9\u6837\u505a\u5462\uff1f \u56e0\u4e3a\u4ec5\u4ec5\u4e3a\u9879\u76ee\u5347\u7ea7\u7684\u8bdd\u6bd4\u8f83\u5e72\u8106\u5229\u843d\uff0c\u9047\u89c1\u4e00\u4e2a\u5730\u65b9\u6539\u4e00\u4e2a\u5730\u65b9\uff0c\u65e0\u5386\u53f2\u5305\u88b1\u3002\u4f46\u662f <code>React</code> \u7ec4\u4ef6\u751f\u6001\u975e\u5e38\u5e9e\u5927\uff0c\u5f88\u591a\u7ec4\u4ef6\u4f1a\u7528\u5230 <code>ReactDOM.render</code> \u76f4\u63a5\u6e32\u67d3\uff0c\u6bd4\u5982\u5e38\u89c1 UI \u5e93\u4e2d\u7684 <code>Modal.confirm</code> \u7c7b\u4f3c\u7684 API\uff0c\u8fd9\u65f6\u5c31\u9700\u8981\u4e00\u4e2a\u7248\u672c\u7684\u5468\u671f\u8ba9\u8fd9\u4e9b\u751f\u6001\u7ec4\u4ef6\u5347\u7ea7\u4e0a\u6765\u3002</p> <pre><code>// React 17\nimport ReactDOM from 'react-dom';\nconst container = document.getElementById('app');\n// \u88c5\u8f7d\nReactDOM.render(&lt;App tab=\"home\" /&gt;, container);\n// \u5378\u8f7d\nReactDOM.unmountComponentAtNode(container);\n\n\n// React 18\nimport { createRoot } from 'react-dom/client';\nconst container = document.getElementById('app');\nconst root = createRoot(container);\n// \u88c5\u8f7d\nroot.render(&lt;App tab=\"home\" /&gt;);\n// \u5378\u8f7d\nroot.unmount();\n</code></pre> <p>\u8fd8\u4e0d\u5f97\u4e0d\u8bf4 <code>createRoot</code> API \u548c <code>Vue3</code> \u7684 <code>createApp</code> \u5f62\u5f0f\u4e00\u6a21\u4e00\u6837\u3002</p> <p>FAQ: \u5728 <code>TypeScript</code>\uff0c <code>createRoot</code> \u4e2d\u53c2\u6570 <code>container</code> \u53ef\u63a5\u6536 <code>HTMLElement</code> \uff0c\u4f46\u4e0d\u80fd\u4e3a\u7a7a\u3002\u4f7f\u7528\u8981\u4e48\u65ad\u8a00\uff0c\u8981\u4e48\u52a0\u5224\u65ad\u5427~</p>"},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#_4","title":"\u670d\u52a1\u7aef\u6e32\u67d3","text":""},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#hydrateroot","title":"hydrateRoot","text":"<p>\u5982\u679c\u7684\u5e94\u7528\u4f7f\u7528\u5e26\u6ce8\u6c34\u7684\u670d\u52a1\u7aef\u6e32\u67d3\uff0c\u8bf7\u5347\u7ea7 <code>hydrate</code> \u5230 <code>hydrateRoot</code></p> <pre><code>const root = hydrateRoot(container, &lt;App tab=\"home\" /&gt;);\n// \u8fd9\u91cc\u65e0\u9700\u6267\u884c root.render\n</code></pre> <p>\u5728\u6b64\u7248\u672c\u4e2d\uff0c\u4e5f\u6539\u8fdb\u4e86 <code>react-dom/serverAPI</code> \u4ee5\u5b8c\u5168\u652f\u6301\u670d\u52a1\u5668\u4e0a\u7684 <code>Suspense</code> \u548c\u6d41\u5f0f <code>SSR</code>\u3002\u4f5c\u4e3a\u8fd9\u4e9b\u66f4\u6539\u7684\u4e00\u90e8\u5206\uff0c\u5c06\u5f03\u7528\u65e7\u7684 <code>Node</code> \u6d41\u5f0f <code>API</code>\uff0c\u5b83\u4e0d\u652f\u6301\u670d\u52a1\u5668\u4e0a\u7684\u589e\u91cf <code>Suspense</code> \u6d41\u5f0f\u4f20\u8f93\u3002</p> <ul> <li><code>renderToNodeStream</code> =&gt; <code>renderToPipeableStream</code></li> <li>\u65b0\u589e <code>renderToReadableStream</code> \u4ee5\u652f\u6301 <code>Deno</code></li> <li>\u7ee7\u7eed\u4f7f\u7528 <code>renderToString</code> (\u5bf9 <code>Suspense</code> \u652f\u6301\u6709\u9650)</li> <li>\u7ee7\u7eed\u4f7f\u7528 <code>renderToStaticMarkup</code> (\u5bf9 <code>Suspense</code> \u652f\u6301\u6709\u9650)</li> </ul>"},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#setstate","title":"setState \u540c\u6b65/\u5f02\u6b65","text":"<p>\u8fd9\u662f <code>React</code> \u6b64\u6b21\u7248\u672c\u4e2d\u6700\u5927\u7684\u7834\u574f\u6027\u66f4\u65b0\uff0c\u5e76\u4e14**\u65e0\u6cd5\u5411\u4e0b\u517c\u5bb9**\u3002</p> <p><code>React</code> \u4e2d\u7684\u6279\u5904\u7406\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u5c06\u591a\u4e2a\u72b6\u6001\u66f4\u65b0\u5408\u5e76\u4e3a\u4e00\u6b21\u91cd\u65b0\u6e32\u67d3\uff0c\u4ee5\u83b7\u5f97\u66f4\u597d\u7684\u6027\u80fd\uff0c\u5728 <code>React 18</code> \u4e4b\u524d\uff0c<code>React</code> \u53ea\u80fd\u5728\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\u6216\u8005\u5408\u6210\u4e8b\u4ef6\u51fd\u6570\u4e2d\u8fdb\u884c\u6279\u5904\u7406\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c<code>Promise</code>\u3001<code>setTimeout</code> \u4ee5\u53ca\u539f\u751f\u4e8b\u4ef6\u4e2d\u662f\u4e0d\u4f1a\u5bf9\u5176\u8fdb\u884c\u6279\u5904\u7406\u7684\u3002\u5982\u679c\u9700\u8981\u4fdd\u6301\u6279\u5904\u7406\uff0c\u5219\u53ef\u4ee5\u7528 <code>unstable_batchedUpdates</code> \u6765\u5b9e\u73b0\uff0c\u4f46\u5b83\u4e0d\u662f\u4e00\u4e2a\u6b63\u5f0f\u7684 API\u3002</p> <p><code>React 18</code> \u4e4b\u524d\uff1a</p> <pre><code>function handleClick() {\n  setCount(1);\n  setFlag(true);\n  // \u6279\u5904\u7406\uff1a\u4f1a\u5408\u5e76\u4e3a\u4e00\u6b21 render\n}\n\nfunction handleClick() {\n  Promise.resolve().then(() =&gt; {\n    setCount(2);\n  });\n  setFlag(false);\n  // \u540c\u6b65\u6a21\u5f0f\uff1a\u4f1a\u6267\u884c\u4e24\u6b21 render\n  // \u5e76\u4e14\u5728 setCount \u540e\uff0c\u5728 setFlag \u4e4b\u524d\u80fd\u901a\u8fc7 Ref \u83b7\u53d6\u5230\u6700\u65b0\u7684 count \u503c\n}\n</code></pre> <p>\u5728 <code>React 18</code> \u4e0a\u9762\u7684\u7b2c\u4e8c\u4e2a\u4f8b\u5b50\u53ea\u4f1a\u6709\u4e00\u6b21 <code>render</code>\uff0c\u56e0\u4e3a\u6240\u6709\u7684\u66f4\u65b0\u90fd\u5c06\u81ea\u52a8\u6279\u5904\u7406\u3002\u8fd9\u6837\u65e0\u7591\u662f\u5f88\u597d\u7684\u63d0\u9ad8\u4e86\u5e94\u7528\u7684\u6574\u4f53\u6027\u80fd\u3002\u4e0d\u8fc7\u4ee5\u4e0b\u4f8b\u5b50\u4f1a\u5728 <code>React 18</code> \u4e2d\u6267\u884c\u4e24\u6b21 render\uff1a</p> <pre><code>async function handleClick() {\n  await setCount(2);\n  setFlag(false);\n  // React 18\uff1a\u4f1a\u6267\u884c\u4e24\u6b21 render\n}\n</code></pre>"},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#flushsync","title":"flushSync","text":"<p>\u5982\u679c\u6211\u60f3\u5728 <code>React 18</code> \u9000\u51fa\u6279\u5904\u7406\u8be5\u600e\u4e48\u505a\u5462\uff1f\u5b98\u65b9\u63d0\u4f9b\u4e86\u4e00\u4e2a API <code>flushSync</code>\u3002</p> <p><code>flushSync&lt;R&gt;(fn: () =&gt; R): R</code> \u5b83\u63a5\u6536\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u5e76\u4e14\u5141\u8bb8\u6709\u8fd4\u56de\u503c\u3002</p> <pre><code>function handleClick() {\n  flushSync(() =&gt; {\n    setCount(3);\n  });\n  // \u4f1a\u5728 setCount \u5e76 render \u4e4b\u540e\u518d\u6267\u884c setFlag\n  setFlag(true);\n}\n</code></pre> <p>\u6ce8\u610f\uff1a<code>flushSync</code> \u4f1a\u4ee5\u51fd\u6570\u4e3a\u4f5c\u7528\u57df\uff0c\u51fd\u6570\u5185\u90e8\u7684\u591a\u4e2a <code>setState</code> \u4ecd\u7136\u4e3a\u6279\u91cf\u66f4\u65b0\uff0c\u8fd9\u6837\u53ef\u4ee5\u7cbe\u51c6\u63a7\u5236\u54ea\u4e9b\u4e0d\u9700\u8981\u7684\u6279\u91cf\u66f4\u65b0\uff1a</p> <pre><code>function handleClick() {\n  flushSync(() =&gt; {\n    setCount(3);\n    setFlag(true);\n  });\n  // setCount \u548c setFlag \u4e3a\u6279\u91cf\u66f4\u65b0\uff0c\u7ed3\u675f\u540e\n  setLoading(false);\n  // \u6b64\u65b9\u6cd5\u4f1a\u89e6\u53d1\u4e24\u6b21 render\n}\n</code></pre> <p>\u8fd9\u79cd\u65b9\u5f0f\u4f1a\u6bd4 <code>React 17</code> \u53ca\u4ee5\u524d\u7684\u65b9\u5f0f\u66f4\u4f18\u96c5\u7684\u9897\u7c92\u5ea6\u63a7\u5236 <code>rerender</code>\u3002</p> <p><code>flushSync</code> \u518d\u67d0\u4e9b\u573a\u666f\u4e2d\u975e\u5e38\u6709\u7528\uff0c\u6bd4\u5982\u5728\u70b9\u51fb\u4e00\u4e2a\u8868\u5355\u4e2d\u70b9\u51fb\u4fdd\u5b58\u6309\u94ae\uff0c\u5e76\u89e6\u53d1\u5b50\u8868\u5355\u5173\u95ed\uff0c\u5e76\u540c\u6b65\u5230\u5168\u5c40 <code>state</code>\uff0c\u72b6\u6001\u66f4\u65b0\u540e\u518d\u8c03\u7528\u4fdd\u5b58\u65b9\u6cd5\uff1a</p> <p>\u5b50\u8868\u5355\uff1a</p> <pre><code>js\n\nexport default function ChildForm({ storeTo }) {\n  const [form] = Form.useForm();\n\n  // \u5f53\u524d\u7ec4\u4ef6\u5378\u8f7d\u65f6\u5c06\u5b50\u8868\u5355\u7684\u503c\u540c\u6b65\u5230\u5168\u5c40\n  // \u82e5\u8981\u89e6\u53d1\u7236\u7ec4\u4ef6\u540c\u6b65 setState\uff0c\u5fc5\u987b\u4f7f\u7528 useLayoutEffect\n  useLayoutEffect(() =&gt; {\n    return () =&gt; {\n      storeTo(form.getFieldsValue());\n    };\n  }, []);\n\n  return (\n    &lt;Form form={form}&gt;\n      &lt;Form.Item name=\"email\"&gt;\n        &lt;Input /&gt;\n      &lt;/Form.Item&gt;\n    &lt;/Form&gt;\n  );\n}\n</code></pre> <p>\u5916\u90e8\u5bb9\u5668\uff1a</p> <pre><code>&lt;div\n  onClick={() =&gt; {\n    // \u89e6\u53d1\u5b50\u8868\u5355\u5378\u8f7d\u5173\u95ed\n    flushSync(() =&gt; setVisible(false));\n    // \u5b50\u8868\u5355\u503c\u66f4\u65b0\u5230\u5168\u5c40\u540e\uff0c\u89e6\u53d1\u4fdd\u5b58\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4fdd\u8bc1 onSave \u83b7\u53d6\u5230\u6700\u65b0\u586b\u5199\u7684\u8868\u5355\u503c\n    onSave();\n  }}\n&gt;\n  \u4fdd\u5b58\n&lt;/div&gt;\n&lt;div&gt;{visible &amp;&amp; &lt;ChildForm storeTo={updateState} /&gt;}&lt;/div&gt;\n</code></pre> <p>\u4e0d\u8fc7 <code>unstable_batchedUpdates</code> \u5728 <code>React 18</code> \u4e2d\u5c06\u7ee7\u7eed\u4fdd\u7559\u6574\u4e2a\u7248\u672c\uff0c\u56e0\u4e3a\u8bb8\u591a\u5f00\u6e90\u5e93\u7528\u4e86\u5b83\u3002</p>"},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#_5","title":"\u5df2\u5378\u8f7d\u7ec4\u4ef6\u66f4\u65b0\u72b6\u6001\u8b66\u544a","text":"<p>\u6211\u4eec\u5728\u6b63\u5e38\u5f00\u53d1\u65f6\u96be\u514d\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u9519\u8bef\uff1a</p> <p></p> <p>\u8fd9\u4e2a\u8b66\u544a\u88ab\u5e7f\u6cdb\u8bef\u89e3\u5e76\u4e14\u6709\u4e9b\u8bef\u5bfc\u3002\u539f\u672c\u65e8\u5728\u9488\u5bf9\u5982\u4e0b\u573a\u666f\uff1a</p> <pre><code>js\n\nuseEffect(() =&gt; {\n  function handleChange() {\n    setState(store.getState());\n  }\n  store.subscribe(handleChange);\n  return () =&gt; store.unsubscribe(handleChange);\n}, []);\n</code></pre> <p>\u5982\u679c\u60a8\u5fd8\u8bb0\u4e86 <code>unsubscribe</code> \u6548\u679c\u6e05\u7406\u4e2d\u7684\u8c03\u7528\uff0c\u5219\u4f1a\u53d1\u751f\u5185\u5b58\u6cc4\u6f0f\u3002\u5728\u5b9e\u8df5\u4e2d\uff0c\u4e0a\u8ff0\u60c5\u51b5\u5e76\u4e0d\u5e38\u89c1\u3002\u8fd9\u5728\u6211\u4eec\u7684\u4ee3\u7801\u4e2d\u66f4\u4e3a\u5e38\u89c1\uff1a</p> <pre><code>js\n\nasync function handleSubmit() {\n  setLoading(true);\n  // \u5728\u6211\u4eec\u7b49\u5f85\u65f6\u7ec4\u4ef6\u53ef\u80fd\u4f1a\u5378\u8f7d\n  await post('/some-api');\n  setLoading(false);\n}\n</code></pre> <p>\u5728\u8fd9\u91cc\uff0c\u8b66\u544a\u4e5f\u4f1a\u89e6\u53d1\u3002\u4f46\u662f\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8b66\u544a\u5177\u6709\u8bef\u5bfc\u6027\u3002</p> <p>\u8fd9\u91cc\u6ca1\u6709\u5b9e\u9645\u7684\u5185\u5b58\u6cc4\u6f0f\uff0c<code>Promise</code> \u4f1a\u5f88\u5feb <code>resolve</code>\uff0c\u4e4b\u540e\u5b83\u53ef\u4ee5\u88ab\u5783\u573e\u56de\u6536\u3002\u4e3a\u4e86\u6291\u5236\u8fd9\u4e2a\u8b66\u544a\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u5199\u5f88\u591a <code>isMounted</code> \u65e0\u7528\u7684\u5224\u65ad\uff0c\u4f1a\u4f7f\u4ee3\u7801\u53d8\u5f97\u66f4\u52a0\u590d\u6742\u3002</p> <p>\u5728 <code>React 18</code> \u4e2d\u8fd9\u4e2a\u8b66\u544a\u5df2\u7ecf\u88ab\u79fb\u9664\u6389\u4e86\u3002</p>"},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#null","title":"\u7ec4\u4ef6\u8fd4\u56de null","text":"<p>\u5728 <code>React 17</code> \u4e2d\uff0c\u5982\u679c\u7ec4\u4ef6\u5728 <code>render</code> \u4e2d\u8fd4\u56de\u4e86 <code>undefined</code>\uff0c<code>React</code> \u4f1a\u5728\u8fd0\u884c\u65f6\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\uff1a</p> <pre><code>js\n\nfunction Demo() {\n  return undefined;\n}\n</code></pre> <p></p> <p>\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u628a <code>undefined</code> \u6362\u6210 <code>null</code>\uff0c\u7a0b\u5e8f\u5c06\u7ee7\u7eed\u8fd0\u884c\u3002\u6b64\u884c\u4e3a\u7684\u76ee\u7684\u662f\u5e2e\u52a9\u7528\u6237\u53d1\u73b0\u610f\u5916\u5fd8\u8bb0 <code>return</code> \u8bed\u53e5\u7684\u5e38\u89c1\u95ee\u9898\u3002\u5bf9\u4e8e <code>React 18</code> \u7684 <code>Suspense fallback</code> \u4f1a\u51fa\u73b0 <code>undefined</code> \u800c\u4e0d\u62a5\u9519\u4ece\u800c\u5bfc\u81f4\u51fa\u73b0\u4e0d\u4e00\u81f4\u3002</p> <p>\u73b0\u5728\u7c7b\u578b\u7cfb\u7edf\u548c <code>Eslint</code> \u90fd\u975e\u5e38\u5065\u58ee\u53ef\u4ee5\u5f88\u597d\u907f\u514d\u8fd9\u7c7b\u4f4e\u7ea7\u9519\u8bef\uff0c\u56e0\u6b64 <code>React 18</code> \u4e0d\u518d\u68c0\u67e5\u56e0\u8fd4\u56de <code>undefined</code> \u800c\u5bfc\u81f4\u5d29\u6e83\u3002</p>"},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#strictmode","title":"StrictMode","text":"<p>\u4ece React 17 \u5f00\u59cb\uff0cReact \u4f1a\u81ea\u52a8\u4fee\u6539\u63a7\u5236\u53f0\u65b9\u6cd5\uff0c\u4f8b\u5982 console.log() \u5728\u7b2c\u4e8c\u6b21\u8c03\u7528\u751f\u547d\u5468\u671f\u51fd\u6570\u65f6\u4f7f\u65e5\u5fd7\u9759\u97f3\u3002\u4f46\u662f\uff0c\u5728\u67d0\u4e9b\u53ef\u4ee5\u4f7f\u7528\u53d8\u901a\u65b9\u6cd5\u7684\u60c5\u51b5\u4e0b\uff0c\u5b83\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e0d\u826f\u884c\u4e3a\u3002</p> <p>\u8fd9\u8fd9\u79cd\u884c\u4e3a\u5728 <code>React 18</code> \u4e2d\u5df2\u7ecf\u79fb\u9664\uff0c\u5982\u679c\u5b89\u88c5\u4e86 <code>React DevTools &gt; 4.18.0</code>\uff0c\u90a3\u4e48\u7b2c\u4e8c\u6b21\u6e32\u67d3\u671f\u95f4\u7684\u65e5\u5fd7\u73b0\u5728\u5c06\u4ee5\u67d4\u548c\u7684\u989c\u8272\u663e\u793a\u5728\u63a7\u5236\u53f0\u4e2d\u3002</p> <p></p>"},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#api","title":"\u65b0 API","text":""},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#usesyncexternalstore","title":"useSyncExternalStore","text":"<p><code>useSyncExternalStore</code> \u7ecf\u5386\u4e86\u4e00\u6b21\u4fee\u6539\uff0c\u7531 <code>unstable_useMutableSource</code> \u6539\u53d8\u800c\u6765\uff0c\u7528\u4e8e\u8ba2\u9605\u5916\u90e8\u6570\u636e\u6e90\u3002\u4e3b\u8981\u5e2e\u52a9\u6709\u5916\u90e8 <code>store</code> \u9700\u6c42\u7684\u5f00\u53d1\u8005\u89e3\u51b3\u6495\u88c2\u95ee\u9898\u3002</p> <p>\u4e00\u4e2a\u76d1\u542c <code>innerWidth</code> \u53d8\u5316\u7684 <code>hook</code> \u6700\u7b80\u5355\u4f8b\u5b50\uff1a</p> <pre><code>tsx\n\nimport { useMemo, useSyncExternalStore } from 'react';\n\nfunction useInnerWidth(): number {\n  // \u4fdd\u6301 subscribe \u56fa\u5b9a\u5f15\u7528\uff0c\u907f\u514d resize \u76d1\u542c\u5668\u91cd\u590d\u6267\u884c\n  const [subscribe, getSnapshot] = useMemo(() =&gt; {\n    return [\n      (notify: () =&gt; void) =&gt; {\n        // \u771f\u5b9e\u60c5\u51b5\u8fd9\u91cc\u4f1a\u7528\u5230\u8282\u6d41\n        window.addEventListener('resize', notify);\n        return () =&gt; {\n          window.removeEventListener('resize', notify);\n        };\n      },\n      // \u8fd4\u56de resize \u540e\u9700\u8981\u7684\u5feb\u7167\n      () =&gt; window.innerWidth,\n    ];\n  }, []);\n  return useSyncExternalStore(subscribe, getSnapshot);\n}\ntsx\n\nfunction WindowInnerWidthExample() {\n  const width = useInnerWidth();\n\n  return &lt;p&gt;\u5bbd\u5ea6: {width}&lt;/p&gt;;\n}\n</code></pre> <p>Demo \u5730\u5740\uff1acodesandbox.io/s/usesyncex\u2026</p> <p><code>React</code> \u81ea\u8eab <code>state</code> \u5df2\u7ecf\u539f\u751f\u7684\u89e3\u51b3\u7684\u5e76\u53d1\u7279\u6027\u4e0b\u7684\u6495\u88c2(tear) \u95ee\u9898\u3002<code>useSyncExternalStore</code> \u4e3b\u8981\u5bf9\u4e8e\u6846\u67b6\u5f00\u53d1\u8005\uff0c\u6bd4\u5982 <code>redux</code>\uff0c\u5b83\u5728\u63a7\u5236\u72b6\u6001\u65f6\u53ef\u80fd\u5e76\u975e\u76f4\u63a5\u4f7f\u7528\u7684 <code>React</code> \u7684 <code>state</code>\uff0c\u800c\u662f\u81ea\u5df1\u5728\u5916\u90e8\u7ef4\u62a4\u4e86\u4e00\u4e2a <code>store</code> \u5bf9\u8c61\uff0c\u8131\u79bb\u4e86 <code>React</code> \u7684\u7ba1\u7406\uff0c\u4e5f\u5c31\u65e0\u6cd5\u4f9d\u9760 <code>React</code> \u81ea\u52a8\u89e3\u51b3\u6495\u88c2\u95ee\u9898\u3002\u56e0\u6b64 <code>React</code> \u5bf9\u5916\u63d0\u4f9b\u4e86\u8fd9\u6837\u4e00\u4e2a API\u3002</p> <p>\u76ee\u524d <code>React-Redux 8.0</code> \u5df2\u7ecf\u57fa\u4e8e <code>useSyncExternalStore</code> \u5b9e\u73b0\u3002</p>"},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#useinsertioneffect","title":"useInsertionEffect","text":"<p><code>useInsertionEffect</code> \u7684\u5de5\u4f5c\u539f\u7406\u5927\u81f4 <code>useLayoutEffect</code> \u76f8\u540c\uff0c\u53ea\u662f\u6b64\u65f6\u65e0\u6cd5\u8bbf\u95ee <code>DOM</code> \u8282\u70b9\u7684\u5f15\u7528\u3002</p> <p>\u56e0\u6b64\u63a8\u8350\u7684\u89e3\u51b3\u65b9\u6848\u662f\u4f7f\u7528\u8fd9\u4e2a <code>Hook</code> \u6765\u63d2\u5165\u6837\u5f0f\u8868\uff08\u6216\u8005\u5982\u679c\u4f60\u9700\u8981\u5220\u9664\u5b83\u4eec\uff0c\u53ef\u4ee5\u5f15\u7528\u5b83\u4eec\uff09\uff1a</p> <pre><code>js\n\nfunction useCSS(rule) {\n  useInsertionEffect(() =&gt; {\n    if (!isInserted.has(rule)) {\n      isInserted.add(rule);\n      document.head.appendChild(getStyleForRule(rule));\n    }\n  });\n  return rule;\n}\nfunction Component() {\n  let className = useCSS(rule);\n  return &lt;div className={className} /&gt;;\n}\n</code></pre>"},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#useid","title":"useId","text":"<p><code>useId</code> \u662f\u4e00\u4e2a API\uff0c\u7528\u4e8e\u5728\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e0a\u751f\u6210\u552f\u4e00 ID\uff0c\u540c\u65f6\u907f\u514d\u6c34\u5408\u4e0d\u5339\u914d\u3002\u4f7f\u7528\u793a\u4f8b\uff1a</p> <pre><code>js\n\nfunction Checkbox() {\n  const id = useId();\n  return (\n    &lt;div&gt;\n      &lt;label htmlFor={id}&gt;\u9009\u62e9\u6846&lt;/label&gt;\n      &lt;input type=\"checkbox\" name=\"sex\" id={id} /&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#concurrent","title":"Concurrent\uff08\u5e76\u53d1\uff09 \u6a21\u5f0f","text":"<p><code>Concurrent</code> \u6a21\u5f0f\u662f\u4e00\u7ec4 <code>React</code> \u7684\u65b0\u529f\u80fd\uff0c\u53ef\u5e2e\u52a9\u5e94\u7528\u4fdd\u6301\u54cd\u5e94\uff0c\u5e76\u6839\u636e\u7528\u6237\u7684\u8bbe\u5907\u6027\u80fd\u548c\u7f51\u901f\u8fdb\u884c\u9002\u5f53\u7684\u8c03\u6574\uff0c\u8be5\u6a21\u5f0f\u901a\u8fc7\u4f7f\u6e32\u67d3\u53ef\u4e2d\u65ad\u6765\u4fee\u590d\u963b\u585e\u6e32\u67d3\u9650\u5236\u3002\u5728 <code>Concurrent</code> \u6a21\u5f0f\u4e2d\uff0c<code>React</code> \u53ef\u4ee5\u540c\u65f6\u66f4\u65b0\u591a\u4e2a\u72b6\u6001\u3002</p> <p>\u901a\u5e38\uff0c\u5f53\u6211\u4eec\u66f4\u65b0 <code>state</code> \u7684\u65f6\u5019\uff0c\u6211\u4eec\u4f1a\u671f\u671b\u8fd9\u4e9b\u53d8\u5316\u7acb\u523b\u53cd\u6620\u5230\u5c4f\u5e55\u4e0a\u3002\u6211\u4eec\u671f\u671b\u5e94\u7528\u80fd\u591f\u6301\u7eed\u54cd\u5e94\u7528\u6237\u7684\u8f93\u5165\uff0c\u8fd9\u662f\u7b26\u5408\u5e38\u7406\u7684\u3002\u4f46\u662f\uff0c\u6709\u65f6\u6211\u4eec\u4f1a\u671f\u671b\u66f4\u65b0\u5ef6\u8fdf\u54cd\u5e94\u5728\u5c4f\u5e55\u4e0a\u3002\u5728 <code>React</code> \u4e2d\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u5728\u4e4b\u524d\u662f\u5f88\u96be\u505a\u5230\u7684\u3002<code>Concurrent</code> \u6a21\u5f0f\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7684\u65b0\u5de5\u5177\u4f7f\u4e4b\u6210\u4e3a\u53ef\u80fd\u3002</p>"},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#transition","title":"Transition","text":"<p>\u5728 <code>React 18</code> \u4e2d\uff0c\u5f15\u5165\u7684\u4e00\u4e2a\u65b0\u7684 API <code>startTransition</code>\uff0c\u4e3b\u8981\u4e3a\u4e86\u80fd\u5728\u5927\u91cf\u7684\u4efb\u52a1\u4e0b\u4e5f\u80fd\u4fdd\u6301 UI \u54cd\u5e94\u3002\u8fd9\u4e2a\u65b0\u7684 API \u53ef\u4ee5\u901a\u8fc7\u5c06\u7279\u5b9a\u66f4\u65b0\u6807\u8bb0\u4e3a\u201c\u8fc7\u6e21\u201d\u6765\u663e\u7740\u6539\u5584\u7528\u6237\u4ea4\u4e92\u3002</p> <p>\u6982\u89c8\uff1a</p> <pre><code>js\n\nimport { startTransition } from 'react';\n\n// \u7d27\u6025\uff1a\u663e\u793a\u8f93\u5165\u7684\u5185\u5bb9\nsetInputValue(input);\n\n// \u6807\u8bb0\u56de\u8c03\u51fd\u6570\u5185\u7684\u66f4\u65b0\u4e3a\u975e\u7d27\u6025\u66f4\u65b0\nstartTransition(() =&gt; {\n  setSearchQuery(input);\n});\n</code></pre> <p>\u7b80\u5355\u6765\u8bf4\uff0c\u5c31\u662f\u88ab <code>startTransition</code> \u56de\u8c03\u5305\u88f9\u7684 <code>setState</code> \u89e6\u53d1\u7684\u6e32\u67d3 \u88ab\u6807\u8bb0\u4e3a\u4e0d\u7d27\u6025\u6e32\u67d3\uff0c\u8fd9\u4e9b\u6e32\u67d3\u53ef\u80fd\u88ab\u5176\u4ed6\u7d27\u6025\u6e32\u67d3\u6240\u62a2\u5360\u3002</p> <p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u901a\u77e5\u7528\u6237\u540e\u53f0\u6b63\u5728\u5de5\u4f5c\u3002\u4e3a\u6b64\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5e26\u6709 <code>isPending</code> \u8f6c\u6362\u6807\u5fd7\u7684 <code>useTransition</code>\uff0c<code>React</code> \u5c06\u5728\u72b6\u6001\u8f6c\u6362\u671f\u95f4\u63d0\u4f9b\u89c6\u89c9\u53cd\u9988\uff0c\u5e76\u5728\u8f6c\u6362\u53d1\u751f\u65f6\u4fdd\u6301\u6d4f\u89c8\u5668\u54cd\u5e94\u3002</p> <pre><code>js\n\nimport { useTransition } from 'react';\n\nconst [isPending, startTransition] = useTransition();\n</code></pre> <p>\u8be5 <code>isPending</code> \u503c\u5728\u8f6c\u6362\u6302\u8d77\u65f6\u4e3a <code>true</code>\uff0c\u8fd9\u65f6\u53ef\u4ee5\u5728\u9875\u9762\u4e2d\u653e\u7f6e\u4e00\u4e2a\u52a0\u8f7d\u5668\u3002</p> <p>\u666e\u901a\u60c5\u51b5\u4e0b\uff1a</p> <p></p> <p>\u4f7f\u7528 <code>useTransition</code> \u8868\u73b0\uff1a</p> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>startTransition</code> \u5305\u88c5\u4efb\u4f55\u8981\u79fb\u81f3\u540e\u53f0\u7684\u66f4\u65b0\uff0c\u901a\u5e38\uff0c\u8fd9\u4e9b\u7c7b\u578b\u7684\u66f4\u65b0\u5206\u4e3a\u4e24\u7c7b\uff1a</p> <ol> <li>\u6e32\u67d3\u7f13\u6162\uff1a\u8fd9\u4e9b\u66f4\u65b0\u9700\u8981\u65f6\u95f4\uff0c\u56e0\u4e3a <code>React</code> \u9700\u8981\u6267\u884c\u5927\u91cf\u5de5\u4f5c\u624d\u80fd\u8f6c\u6362 UI \u4ee5\u663e\u793a\u7ed3\u679c</li> <li>\u7f51\u7edc\u6162\uff1a\u8fd9\u4e9b\u66f4\u65b0\u9700\u8981\u65f6\u95f4\uff0c\u56e0\u4e3a <code>React</code> \u6b63\u5728\u7b49\u5f85\u6765\u81ea\u7f51\u7edc\u7684\u4e00\u4e9b\u6570\u636e\u3002\u8fd9\u4e2a\u65b9\u5f0f\u4e0e <code>Suspense</code> \u7d27\u5bc6\u96c6\u6210</li> </ol> <p>\u7f51\u7edc\u6162\u573a\u666f\uff1a\u4e00\u4e2a\u5217\u8868\u9875\uff0c\u5f53\u6211\u4eec\u70b9\u51fb \u201c\u4e0b\u4e00\u9875\u201d\uff0c\u73b0\u5b58\u7684\u5217\u8868\u7acb\u523b\u6d88\u5931\u4e86\uff0c\u7136\u540e\u6211\u4eec\u770b\u5230\u6574\u4e2a\u9875\u9762\u53ea\u6709\u4e00\u4e2a\u52a0\u8f7d\u63d0\u793a\u3002\u53ef\u4ee5\u8bf4\u8fd9\u662f\u4e00\u4e2a\u201c\u4e0d\u53d7\u6b22\u8fce\u201d\u7684\u52a0\u8f7d\u72b6\u6001\u3002\u5982\u679c\u6211\u4eec\u53ef\u4ee5\u201c\u8df3\u8fc7\u201d\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u5e76\u4e14\u7b49\u5230\u5185\u5bb9\u52a0\u8f7d\u540e\u518d\u8fc7\u6e21\u5230\u65b0\u7684\u9875\u9762\uff0c\u6548\u679c\u4f1a\u66f4\u597d\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u7ed3\u5408 <code>Suspense</code> \u505a\u52a0\u8f7d\u8fb9\u754c\u5904\u7406\uff1a</p> <pre><code>js\n\nimport React, { useState, useTransition, Suspense } from 'react';\nimport { fetchMockData, MockItem } from './utils';\nimport styles from './DemoList.module.less';\n\nconst mockResource = fetchMockData(1);\n\nexport default function DemoList() {\n  const [resource, setResource] = useState(mockResource);\n  const [isPending, startTransition] = useTransition();\n\n  return (\n    &lt;Suspense fallback=\"\u52a0\u8f7d\u4e2d\"&gt;\n      &lt;UserList resource={resource} /&gt;\n      &lt;button\n        className={styles.button}\n        type=\"button\"\n        onClick={() =&gt;\n          startTransition(() =&gt; {\n            setResource(fetchMockData(2));\n          })\n        }\n      &gt;\n        \u4e0b\u4e00\u9875\n      &lt;/button&gt;\n      {isPending &amp;&amp; &lt;div className={styles.loading}&gt;\u52a0\u8f7d\u4e2d&lt;/div&gt;}\n    &lt;/Suspense&gt;\n  );\n}\n\nfunction UserList({ resource }: UserListProps) {\n  const mockList = resource.read();\n  return (\n    &lt;div className={styles.list}&gt;\n      {mockList.map((item) =&gt; (\n        &lt;div key={item.id} className={styles.row}&gt;\n          &lt;div className={styles.col}&gt;{item.id}&lt;/div&gt;\n          &lt;div className={styles.col}&gt;{item.name}&lt;/div&gt;\n          &lt;div className={styles.col}&gt;{item.age} \u5c81&lt;/div&gt;\n        &lt;/div&gt;\n      ))}\n    &lt;/div&gt;\n  );\n}\n</code></pre> <p>\u7ed3\u679c\u5c55\u793a\uff1a</p> <p></p> <p>Demo \u5730\u5740\uff1acodesandbox.io/s/usetransi\u2026</p>"},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#transition_1","title":"\u628a <code>Transition</code> \u878d\u5408\u5230\u5e94\u7528\u7684\u8bbe\u8ba1\u7cfb\u7edf","text":"<p><code>useTransition</code> \u662f\u975e\u5e38\u5e38\u89c1\u7684\u9700\u6c42\u3002\u51e0\u4e4e\u6240\u6709\u53ef\u80fd\u5bfc\u81f4\u7ec4\u4ef6\u6302\u8d77\u7684\u70b9\u51fb\u6216\u4ea4\u4e92\u64cd\u4f5c\u90fd\u9700\u8981\u4f7f\u7528 <code>useTransition</code>\uff0c\u4ee5\u907f\u514d\u610f\u5916\u9690\u85cf\u7528\u6237\u6b63\u5728\u4ea4\u4e92\u7684\u5185\u5bb9\u3002</p> <p>\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u5b58\u5728\u5927\u91cf\u91cd\u590d\u4ee3\u7801\u3002\u901a\u5e38**\u5efa\u8bae\u628a <code>useTransition</code> \u878d\u5408\u5230\u5e94\u7528\u7684\u8bbe\u8ba1\u7cfb\u7edf\u7ec4\u4ef6\u4e2d**\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u628a <code>useTransition</code> \u903b\u8f91\u62bd\u53d6\u5230\u6211\u4eec\u81ea\u5df1\u7684 <code>&lt;Button&gt;</code> \u7ec4\u4ef6\uff1a</p> <pre><code>js\n\nfunction Button({ children, onClick }) {\n  const [isPending, startTransition] = useTransition();\n\n  function handleClick() {\n    startTransition(() =&gt; {\n      onClick();\n    });\n  }\n\n  return (\n    &lt;button onClick={handleClick} disabled={isPending}&gt;\n      {children} {isPending ? '\u52a0\u8f7d\u4e2d' : null}\n    &lt;/button&gt;\n  );\n}\n</code></pre> <p>FAQ\uff1a <code>useTransition</code> \u6709\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u53ef\u4ee5\u8bbe\u5b9a\u8d85\u65f6\u65f6\u95f4 <code>timeoutMs</code>\uff0c\u4f46\u76ee\u524d\u7684 TS \u7c7b\u578b\u6ca1\u6709\u5f00\u653e\u3002</p>"},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#usedeferredvalue","title":"useDeferredValue","text":"<p>\u8fd4\u56de\u4e00\u4e2a\u5ef6\u8fdf\u54cd\u5e94\u7684\u503c\uff0c\u8fd9\u901a\u5e38\u7528\u4e8e\u5728\u5177\u6709\u57fa\u4e8e\u7528\u6237\u8f93\u5165\u7acb\u5373\u6e32\u67d3\u7684\u5185\u5bb9\uff0c\u4ee5\u53ca\u9700\u8981\u7b49\u5f85\u6570\u636e\u83b7\u53d6\u7684\u5185\u5bb9\u65f6\uff0c\u4fdd\u6301\u63a5\u53e3\u7684\u53ef\u54cd\u5e94\u6027\u3002</p> <pre><code>js\n\nimport { useDeferredValue } from 'react';\n\nconst deferredValue = useDeferredValue(value);\n</code></pre> <p>\u4ece\u4ecb\u7ecd\u4e0a\u6765\u770b <code>useDeferredValue</code> \u4e0e <code>useTransition</code> \u662f\u5426\u611f\u89c9\u5f88\u76f8\u4f3c\u5462\uff1f</p> <ul> <li>\u76f8\u540c\uff1a<code>useDeferredValue</code> \u672c\u8d28\u4e0a\u548c\u5185\u90e8\u5b9e\u73b0\u4e0e <code>useTransition</code> \u4e00\u6837\u90fd\u662f\u6807\u8bb0\u6210\u4e86\u5ef6\u8fdf\u66f4\u65b0\u4efb\u52a1\u3002</li> <li>\u4e0d\u540c\uff1a<code>useTransition</code> \u662f\u628a\u66f4\u65b0\u4efb\u52a1\u53d8\u6210\u4e86\u5ef6\u8fdf\u66f4\u65b0\u4efb\u52a1\uff0c\u800c <code>useDeferredValue</code> \u662f\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u503c\uff0c\u8fd9\u4e2a\u503c\u4f5c\u4e3a\u5ef6\u65f6\u72b6\u6001\u3002</li> </ul> <p>\u90a3\u5b83\u548c <code>debounce</code> \u6709\u4ec0\u4e48\u533a\u522b\u5462\uff1f</p> <p><code>debounce</code> \u5373 <code>setTimeout</code> \u603b\u662f\u4f1a\u6709\u4e00\u4e2a\u56fa\u5b9a\u7684\u5ef6\u8fdf\uff0c\u800c <code>useDeferredValue</code> \u7684\u503c\u53ea\u4f1a\u5728\u6e32\u67d3\u8017\u8d39\u7684\u65f6\u95f4\u4e0b\u6ede\u540e\uff0c\u5728\u6027\u80fd\u597d\u7684\u673a\u5668\u4e0a\uff0c\u5ef6\u8fdf\u4f1a\u53d8\u5c11\uff0c\u53cd\u4e4b\u5219\u53d8\u957f\u3002</p>"},{"location":"react/React%2018%20%E8%B6%85%E5%85%A8%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/#_6","title":"\u7ed3\u8bed","text":"<p>\u4ee5\u4e0a\u662f\u672c\u6b21 <code>React</code> \u6240\u5347\u7ea7\u7684\u5927\u81f4\u5185\u5bb9\uff0c\u4e3b\u8981\u56f4\u7ed5\u7740\u5e76\u53d1\u6a21\u5f0f\u800c\u5c55\u5f00\u3002\u8d76\u5feb\u63d0\u524d\u51c6\u5907\u8d77\u6765\u53d1\u5e03\u6b63\u5f0f\u7248\u540e\u5347\u7ea7\u5427~</p>"},{"location":"react/React%20FAQ/","title":"React FAQ","text":""},{"location":"react/React%20FAQ/#_1","title":"\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u7684\u6027\u80fd","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4333  \u9605\u8bfb9\u5206\u949f</p> <p>\u5982\u679c\u5728render\u9636\u6bb5\u6267\u884c\u7ed1\u5b9a\uff0c\u4e0d\u7ba1\u4f7f\u7528 bind(this) \u8fd8\u662f\u7bad\u5934\u51fd\u6570\uff0c\u90fd\u4e0d\u5229\u4e8e\u6027\u80fd\uff08\u4f1a\u5728\u6e32\u67d3\u65f6\u521b\u5efa\u4e00\u4e2a\u65b0\u51fd\u6570\uff09</p> <p>\u73b0\u5728\u5f88\u591a\u4ee3\u7801\u5728render\u9636\u6bb5\u8bbe\u7f6e\u7bad\u5934\u51fd\u6570\u5904\u7406\uff0c\u8fd9\u6837\u4e0d\u5229\u4e8e\u6027\u80fd\uff0c\u5e94\u5f53\u907f\u514d\u8fd9\u79cd\u5199\u6cd5\u2014\u2014\u5b9e\u9645\u4e0a\u5f88\u591a\u9879\u76ee\u90fd\u662f\u8fd9\u6837\uff0c\u8fd9\u4e2a\u6027\u80fd\u5dee\u7684\u4e0d\u7b97\u591a\u3002</p> <pre><code>&lt;button onClick={this.handleClick.bind(this)}&gt;&lt;/button&gt;\n&lt;button onClick={() =&gt; this.handleClick()}&gt;&lt;/button&gt;\n</code></pre> <p>\u6ce8\u610f\uff1a\u5728\u7ed1\u5b9a\u4e8b\u4ef6\u65f6\uff0c\u5982\u679c\u4f7f\u7528\u7bad\u5934\u51fd\u6570\uff0c\u540e\u9762\u9700\u8981\u52a0\u4e0a\u62ec\u53f7\uff1b\u5426\u5219\u4e0d\u80fd\u52a0\u4e0a\u62ec\u53f7\uff0c\u4f1a\u76f4\u63a5\u8c03\u7528\u51fd\u6570\u3002</p> <pre><code>&lt;button onClick={this.handleClick()}&gt;&lt;/button&gt;\n// \u9519\u8bef\u4f7f\u7528\uff0c\u8fd9\u6837\u5728\u6e32\u67d3\u65f6\uff0c\u76f4\u63a5\u6267\u884c\u51fd\u6570\n</code></pre>"},{"location":"react/React%20FAQ/#_2","title":"\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u7684\u4f20\u53c2","text":"<p>\u7ed9\u4e8b\u4ef6\u5904\u7406\u7684\u56de\u8c03\u51fd\u6570\u4f20\u9012\u53c2\u6570\u7684\u4e24\u79cd\u65b9\u6cd5\uff08\u901a\u5e38\u9700\u8981\u4f20\u9012\u6570\u7ec4\u4e2d\u7684\u67d0\u9879\u53c2\u6570\uff09</p> <p>\u65b9\u6cd5\u4e00\uff1a\u901a\u8fc7\u7bad\u5934\u51fd\u6570\u4f20\u9012\u53c2\u6570\uff08\u5e38\u7528\uff09</p> <pre><code>{this.state.array.map((item, index) =&gt; {\n  return (\n    &lt;Fragment&gt;\n      &lt;button key={index} onClick={this.handleClick.bind(this, item)}&gt;&lt;/button&gt;\n      &lt;span key={index} onClick={(e) =&gt; this.handleClick(e, item)}&gt;&lt;/span&gt;\n    &lt;/Fragment&gt;\n  );\n})}\n// \u4e24\u4e2a\u65b9\u6cd5\u90fd\u53ef\u4ee5\u3002\u5982\u679c\u4f7f\u7528\u7b2c\u4e00\u79cd\uff0c\u51fd\u6570\u7684\u5b9e\u53c2\u662fitem\uff0c\u800c\u4e0d\u662f this and item\u3002\n</code></pre> <p>\u65b9\u6cd5\u4e8c\uff1a\u901a\u8fc7data\u5c5e\u6027\u4f20\u9012\u53c2\u6570\uff1b\u8fd9\u79cd\u60c5\u51b5\u5bf9\u4e8e PureComponent \u53ef\u80fd\u4ea7\u751f\u6027\u80fd\u95ee\u9898</p> <pre><code>&lt;span data-test={item} onClick={this.handleClick}&gt;&lt;/span&gt;\n\nhandleClick = (event) =&gt; {\n  console.log(event.targte.data-test.item);\n}\n</code></pre>"},{"location":"react/React%20FAQ/#_3","title":"\u907f\u514d\u51fd\u6570\u591a\u6b21\u8c03\u7528","text":"<p>\u4f8b\u5982\u60f3\u8981\u9632\u6b62<code>onClick</code>\u6216\u8005<code>onScroll</code>\u8fd9\u6837\u7684\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u7684\u56de\u8c03\u88ab\u89e6\u53d1\u7684\u592a\u5feb\uff0c\u90a3\u4e48\u53ef\u4ee5\u9650\u5236\u6267\u884c\u56de\u8c03\u7684\u901f\u5ea6\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u51e0\u79cd\u65b9\u5f0f\u505a\u5230\u8fd9\u70b9\uff1a</p> <ul> <li>throttling: \u57fa\u4e8e\u65f6\u95f4\u7684\u9891\u7387\u6765\u8fdb\u884c\u66f4\u6539 (\u4f8b\u5982 <code>_.throttle</code>)</li> <li>debouncing: \u4e00\u6bb5\u65f6\u95f4\u7684\u4e0d\u6d3b\u52a8\u4e4b\u540e\u8fdb\u884c\u66f4\u6539 (\u4f8b\u5982 <code>_.debounce</code>)</li> <li>requestAnimationFrame:\u57fa\u4e8e<code>requestAnimationFrame</code>\u6765\u8fdb\u884c\u66f4\u6539 (\u4f8b\u5982 <code>raf-schd</code>)</li> </ul> <p>\u53ef\u4ee5\u770b\u8fd9\u4e2a\u6bd4\u8f83<code>throttle</code>\u548c<code>debounce</code>\u7684\u53ef\u89c6\u5316\u9875\u9762</p>"},{"location":"react/React%20FAQ/#_4","title":"\u8282\u6d41\u51fd\u6570\u548c\u9632\u6296\u51fd\u6570","text":"<p>lodash\u5e93</p> <p>\u8282\u6d41\u662f\u963b\u6b62\u51fd\u6570\u5728\u7ed9\u5b9a\u65f6\u95f4\u5185\u88ab\u591a\u6b21\u8c03\u7528\u3002\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4f1a\u963b\u6b62\u201cclick\u201d\u4e8b\u4ef6\u6bcf\u79d2\u949f\u7684\u591a\u6b21\u8c03\u7528\u3002</p> <pre><code>import throttle from 'lodash.throttle';\n\nclass LoadMoreButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleClickThrottled = throttle(this.handleClick, 1000);\n  }\n\n  componentWillUnmount() {\n    this.handleClickThrottled.cancel();\n  }\n\n  render() {\n    return &lt;button onClick={this.handleClickThrottled}&gt;Load More&lt;/button&gt;;\n  }\n\n  handleClick() {\n    this.props.loadMore();\n  }\n}\n</code></pre> <p>\u9632\u6296\u786e\u4fdd\u51fd\u6570\u4e0a\u6b21\u6267\u884c\u540e\u7684\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u4e0d\u4f1a\u518d\u6b21\u6267\u884c\u3002\u5f53\u5fc5\u987b\u8fdb\u884c\u4e00\u4e9b\u6602\u8d35\u7684\u8ba1\u7b97\u6765\u54cd\u5e94\u5feb\u901f\u6d3e\u53d1\u7684\u4e8b\u4ef6\u65f6\uff08\u6bd4\u5982\u9f20\u6807\u6eda\u52a8\u6216\u952e\u76d8\u4e8b\u4ef6\u65f6\uff09\uff0c\u9632\u6296\u662f\u975e\u5e38\u6709\u7528\u7684\u3002\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4ee5250ms\u7684\u5ef6\u8fdf\u6765\u6539\u53d8\u6587\u672c\u8f93\u5165\u3002</p> <pre><code>import debounce from 'lodash.debounce';\n\nclass Searchbox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.emitChangeDebounced = debounce(this.emitChange, 250);\n  }\n\n  componentWillUnmount() {\n    this.emitChangeDebounced.cancel();\n  }\n\n  render() {\n    return (\n      &lt;input\n        type=\"text\"\n        onChange={this.handleChange}\n        placeholder=\"Search...\"\n        defaultValue={this.props.value}\n      /&gt;\n    );\n  }\n\n  handleChange(e) {\n    // React pools events, so we read the value before debounce.\n    // Alternately we could call `event.persist()` and pass the entire event.\n    // For more info see reactjs.org/docs/events.html#event-pooling\n    this.emitChangeDebounced(e.target.value);\n  }\n\n  emitChange(value) {\n    this.props.onChange(value);\n  }\n}\n</code></pre> <p>\u6837\u5f0f</p> <p>\u901a\u5e38\u60c5\u51b5\u4e0b\u4f7f\u7528css\u5916\u90e8\u6587\u4ef6\u94fe\u63a5\u5f62\u5f0f\u589e\u52a0\u6837\u5f0f\u3002\u52a8\u753b\uff1a\u67e5\u770b\u00a0React Transition Group\u00a0\u548c\u00a0React Motion\u3002</p>"},{"location":"react/React%20Fiber%20Architecture/","title":"React Fiber Architecture","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 18922  \u9605\u8bfb38\u5206\u949f</p> <p>source: https://github.com/acdlite/react-fiber-architecture</p>"},{"location":"react/React%20Fiber%20Architecture/#introduction","title":"Introduction","text":"<p>\u4ecb\u7ecd\uff1aReact Fiber \u67b6\u6784\u662f React \u6838\u5fc3\u7b97\u6cd5\u7684\u91cd\u6784\u3002Fiber \u8bbe\u8ba1\u76ee\u7684\uff1a\u63d0\u9ad8\u52a8\u753b\uff0c\u5c42\u7ea7\uff0c\u624b\u52bf\u7b49\u7684\u9002\u7528\u6027\u3002\u4e3b\u8981\u529f\u80fd\u662f\u589e\u91cf\u6e32\u67d3\uff0c\u53ef\u4ee5\u628a\u6e32\u67d3\u7684\u5de5\u4f5c\u5206\u6210\u4e0d\u540c\u7684 trunks\uff0c\u7136\u540e\u5728\u6d4f\u89c8\u5668\u4e0d\u540c\u5e27\u4e2d\u6e32\u67d3\u3002\u5176\u4ed6\u5173\u952e\u66f4\u65b0\uff1a\u5728\u66f4\u65b0\u7ec4\u4ef6\u65f6\uff0c\u5982\u4f55\u6682\u505c\u7ec8\u7aef\u91cd\u7528\u539f\u6765\u7684\u5185\u5bb9\u3002\u5bf9\u4e0d\u540c\u7684\u66f4\u65b0\u5212\u5206\u4f18\u5148\u7ea7\u3002</p> <p>React Fiber is an ongoing reimplementation of React's core algorithm. It is the culmination of over two years of research by the React team.</p> <p>The goal of React Fiber is to increase its suitability for areas like animation, layout, and gestures. Its headline feature is incremental rendering: the ability to split rendering work into chunks and spread it out over multiple frames.</p> <p>Other key features include the ability to pause, abort, or reuse work as new updates come in; the ability to assign priority to different types of updates; and new concurrency primitives.</p>"},{"location":"react/React%20Fiber%20Architecture/#about-this-document","title":"About this document","text":"<p>\u5173\u4e8e\u672c\u6587\uff1aFiber \u5f15\u5165\u4e86\u5f88\u591a\u65b0\u672f\u8bed\uff0c\u5982\u679c\u76f4\u63a5\u8bfb\u6e90\u7801\u6bd4\u8f83\u96be\u61c2\uff0c\u8fd9\u4e2a\u6587\u6863\u662f\u539f\u4f5c\u8005\uff08Andrew Clark\uff09\u7684\u7b14\u8bb0\u6574\u7406\uff0c\u4e0d\u662f\u5b98\u65b9\u6587\u6863\u3002Fiber \u8fd8\u662f\u4e00\u4e2a\u6b63\u5728\u8fdb\u884c\u7684\u9879\u76ee\uff0c\u53ef\u80fd\u5728\u9879\u76ee\u5b8c\u6210\u524d\uff0c\u8fd8\u9700\u8981\u7ecf\u8fc7\u91cd\u8981\u7684\u91cd\u6784\u5de5\u4f5c\u3002</p> <p>Fiber introduces several novel concepts that are difficult to grok solely by looking at code. This document began as a collection of notes I took as I followed along with Fiber's implementation in the React project. As it grew, I realized it may be a helpful resource for others, too.</p> <p>I'll attempt to use the plainest language possible, and to avoid jargon by explicitly defining key terms. I'll also link heavily to external resources when possible.</p> <p>Please note that I am not on the React team, and do not speak from any authority. This is not an official document. I have asked members of the React team to review it for accuracy.</p> <p>This is also a work in progress. Fiber is an ongoing project that will likely undergo significant refactors before it's completed. Also ongoing are my attempts at documenting its design here. Improvements and suggestions are highly welcome.</p> <p>My goal is that after reading this document, you will understand Fiber well enough to follow along as it's implemented, and eventually even be able to contribute back to React.</p>"},{"location":"react/React%20Fiber%20Architecture/#prerequisites","title":"Prerequisites","text":"<p>\u51c6\u5907\u77e5\u8bc6\uff1a\u5b66\u4e60 Fiber \u524d\u9700\u8981\u719f\u6089\uff0c\u7ec4\u4ef6\u5143\u7d20\u5b9e\u4f8b\uff08Component\uff0cElement\uff0cInstance\uff09\uff0cReconciliation \u7b97\u6cd5\uff08\u534f\u8c03\u7b97\u6cd5\uff0cDIFF \u7b97\u6cd5\uff09\uff0cReact \u57fa\u672c\u7406\u8bba\u6982\u5ff5\uff1bReact \u8bbe\u8ba1\u539f\u5219\uff08\u72b6\u6001\u9a71\u52a8\uff0cscheduling \u8ba1\u5212\uff0c\u4e0e Fiber \u5f88\u91cd\u8981\uff09</p> <p>I strongly suggest that you are familiar with the following resources before continuing:</p> <ul> <li>React Components, Elements, and Instances - \"Component\" is often an overloaded term. A firm grasp of these terms is crucial.</li> <li>Reconciliation - A high-level description of React's reconciliation algorithm.</li> <li>React Basic Theoretical Concepts - A description of the conceptual model of React without implementation burden. Some of this may not make sense on first reading. That's okay, it will make more sense with time.</li> <li>React Design Principles - Pay special attention to the section on scheduling. It does a great job of explaining the why of React Fiber.</li> </ul>"},{"location":"react/React%20Fiber%20Architecture/#review","title":"Review","text":"<p>\u590d\u4e60\uff1a\u5b66\u4e60\u65b0\u6982\u5ff5\u524d\uff0c\u9700\u8981\u590d\u4e60 reconciliation \u548c Scheduling</p> <p>Please check out the prerequisites section if you haven't already.</p> <p>Before we dive into the new stuff, let's review a few concepts.</p>"},{"location":"react/React%20Fiber%20Architecture/#what-is-reconciliation","title":"What is reconciliation?","text":"<ul> <li>reconciliation</li> </ul> <p>The algorithm React uses to diff one tree with another to determine which parts need to be changed.\uff08\u534f\u8c03\u7b97\u6cd5\uff1aReact \u4f7f\u7528 reconciliation \u7b97\u6cd5\u5b9e\u73b0\u4e24\u4e2a\u6811\u7684 diff \uff0c\u5224\u65ad\u54ea\u4e00\u90e8\u5206\u6539\u53d8\uff09</p> <ul> <li>update</li> </ul> <p>A change in the data used to render a React app. Usually the result of <code>setState</code>. Eventually results in a re-render.\uff08\u72b6\u6001\u6539\u53d8\uff0c\u9a71\u52a8\u7ec4\u4ef6\u66f4\u65b0\uff0c\u9020\u6210\u91cd\u65b0\u6e32\u67d3\uff09</p> <p>React \u4e2d\u5fc3\u5c31\u662f\u628a\u6574\u4e2a\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\uff08render\uff09\uff0c\u8fd9\u6837\u7a0b\u5e8f\u5458\u4e0d\u9700\u8981\u8003\u8651\u5982\u4f55\u628a\u4e00\u4e2a\u5143\u7d20\u6539\u6210\u53e6\u4e00\u4e2a\u5143\u7d20\uff0c\u800c\u662f\u76f4\u63a5\u5173\u6ce8\u72b6\u6001\u7684\u53d8\u5316\uff08\u8fdb\u884c\u58f0\u660e\u5f0f\u63a8\u7406\uff09</p> <p>The central idea of React's API is to think of updates as if they cause the entire app to re-render. This allows the developer to reason declaratively, rather than worry about how to efficiently transition the app from any particular state to another (A to B, B to C, C to A, and so on).</p> <p>\u5b9e\u9645\u4e0a\uff0c\u91cd\u65b0\u66f4\u65b0\u6574\u4e2a APP \u4ec5\u9002\u5e94\u4e8e\u5c11\u6570\u7684\u6d4b\u8bd5\u7ec4\u4ef6\uff0c\u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u8fd9\u4f1a\u9020\u6210\u5927\u91cf\u6027\u80fd\u6d6a\u8d39\u3002React \u5728\u66f4\u65b0\u7ec4\u4ef6\u4e2d\uff0c\u53ef\u4ee5\u505a\u5230\u66f4\u65b0\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f46\u662f\u4fdd\u6301\u8f83\u9ad8\u7684\u6027\u80fd\u3002\u8fd9\u90e8\u5206\u4f18\u5316\u5c31\u662f\u4f7f\u7528 reconciliation \u7b97\u6cd5\u3002</p> <p>Actually re-rendering the entire app on each change only works for the most trivial apps; in a real-world app, it's prohibitively costly in terms of performance. React has optimizations which create the appearance of whole app re-rendering while maintaining great performance. The bulk of these optimizations are part of a process called reconciliation.</p> <p>Reconciliation is the algorithm behind what is popularly understood as the \"virtual DOM.\" A high-level description goes something like this: when you render a React application, a tree of nodes that describes the app is generated and saved in memory. This tree is then flushed to the rendering environment \u2014 for example, in the case of a browser application, it's translated to a set of DOM operations. When the app is updated (usually via <code>setState</code>), a new tree is generated. The new tree is diffed with the previous tree to compute which operations are needed to update the rendered app.</p> <p>Although Fiber is a ground-up rewrite of the reconciler, the high-level algorithm described in the React docs will be largely the same. The key points are:</p> <ul> <li>Different component types are assumed to generate substantially different trees. React will not attempt to diff them, but rather replace the old tree completely.</li> <li>Diffing of lists is performed using keys. Keys should be \"stable, predictable, and unique.\"</li> </ul>"},{"location":"react/React%20Fiber%20Architecture/#reconciliation-versus-rendering","title":"Reconciliation versus rendering","text":"<p>The DOM is just one of the rendering environments React can render to, the other major targets being native iOS and Android views via React Native. (This is why \"virtual DOM\" is a bit of a misnomer.)</p> <p>The reason it can support so many targets is because React is designed so that reconciliation and rendering are separate phases. The reconciler does the work of computing which parts of a tree have changed; the renderer then uses that information to actually update the rendered app.</p> <p>This separation means that React DOM and React Native can use their own renderers while sharing the same reconciler, provided by React core.</p> <p>Fiber reimplements the reconciler. It is not principally concerned with rendering, though renderers will need to change to support (and take advantage of) the new architecture.</p>"},{"location":"react/React%20Fiber%20Architecture/#scheduling","title":"Scheduling","text":"<ul> <li>scheduling</li> </ul> <p>the process of determining when work should be performed.</p> <ul> <li>work</li> </ul> <p>any computations that must be performed. Work is usually the result of an update (e.g. <code>setState</code>).</p> <p>React's Design Principles document is so good on this subject that I'll just quote it here:</p> <p>In its current implementation React walks the tree recursively and calls render functions of the whole updated tree during a single tick. However in the future it might start delaying some updates to avoid dropping frames.</p> <p>This is a common theme in React design. Some popular libraries implement the \"push\" approach where computations are performed when the new data is available. React, however, sticks to the \"pull\" approach where computations can be delayed until necessary.</p> <p>React is not a generic data processing library. It is a library for building user interfaces. We think that it is uniquely positioned in an app to know which computations are relevant right now and which are not.</p> <p>If something is offscreen, we can delay any logic related to it. If data is arriving faster than the frame rate, we can coalesce and batch updates. We can prioritize work coming from user interactions (such as an animation caused by a button click) over less important background work (such as rendering new content just loaded from the network) to avoid dropping frames.</p> <p>The key points are:</p> <ul> <li>In a UI, it's not necessary for every update to be applied immediately; in fact, doing so can be wasteful, causing frames to drop and degrading the user experience.</li> <li>Different types of updates have different priorities \u2014 an animation update needs to complete more quickly than, say, an update from a data store.</li> <li>A push-based approach requires the app (you, the programmer) to decide how to schedule work. A pull-based approach allows the framework (React) to be smart and make those decisions for you.</li> </ul> <p>React doesn't currently take advantage of scheduling in a significant way; an update results in the entire subtree being re-rendered immediately. Overhauling React's core algorithm to take advantage of scheduling is the driving idea behind Fiber.</p> <p>Now we're ready to dive into Fiber's implementation. The next section is more technical than what we've discussed so far. Please make sure you're comfortable with the previous material before moving on.</p>"},{"location":"react/React%20Fiber%20Architecture/#what-is-a-fiber","title":"What is a fiber?","text":"<p>We're about to discuss the heart of React Fiber's architecture. Fibers are a much lower-level abstraction than application developers typically think about. If you find yourself frustrated in your attempts to understand it, don't feel discouraged. Keep trying and it will eventually make sense. (When you do finally get it, please suggest how to improve this section.)</p> <p>Here we go!</p> <p>We've established that a primary goal of Fiber is to enable React to take advantage of scheduling. Specifically, we need to be able to</p> <ul> <li>pause work and come back to it later.</li> <li>assign priority to different types of work.</li> <li>reuse previously completed work.</li> <li>abort work if it's no longer needed.</li> </ul> <p>In order to do any of this, we first need a way to break work down into units. In one sense, that's what a fiber is. A fiber represents a unit of work.</p> <p>To go further, let's go back to the conception of React components as functions of data, commonly expressed as</p> <pre><code>v = f(d)\n</code></pre> <p>It follows that rendering a React app is akin to calling a function whose body contains calls to other functions, and so on. This analogy is useful when thinking about fibers.</p> <p>The way computers typically track a program's execution is using the call stack. When a function is executed, a new stack frame is added to the stack. That stack frame represents the work that is performed by that function.</p> <p>When dealing with UIs, the problem is that if too much work is executed all at once, it can cause animations to drop frames and look choppy. What's more, some of that work may be unnecessary if it's superseded by a more recent update. This is where the comparison between UI components and function breaks down, because components have more specific concerns than functions in general.</p> <p>Newer browsers (and React Native) implement APIs that help address this exact problem: <code>requestIdleCallback</code> schedules a low priority function to be called during an idle period, and <code>requestAnimationFrame</code> schedules a high priority function to be called on the next animation frame. The problem is that, in order to use those APIs, you need a way to break rendering work into incremental units. If you rely only on the call stack, it will keep doing work until the stack is empty.</p> <p>Wouldn't it be great if we could customize the behavior of the call stack to optimize for rendering UIs? Wouldn't it be great if we could interrupt the call stack at will and manipulate stack frames manually?</p> <p>That's the purpose of React Fiber. Fiber is reimplementation of the stack, specialized for React components. You can think of a single fiber as a virtual stack frame.</p> <p>The advantage of reimplementing the stack is that you can keep stack frames in memory and execute them however (and whenever) you want. This is crucial for accomplishing the goals we have for scheduling.</p> <p>Aside from scheduling, manually dealing with stack frames unlocks the potential for features such as concurrency and error boundaries. We will cover these topics in future sections.</p> <p>In the next section, we'll look more at the structure of a fiber.</p>"},{"location":"react/React%20Fiber%20Architecture/#structure-of-a-fiber","title":"Structure of a fiber","text":"<p>Note: as we get more specific about implementation details, the likelihood that something may change increases. Please file a PR if you notice any mistakes or outdated information.</p> <p>In concrete terms, a fiber is a JavaScript object that contains information about a component, its input, and its output.</p> <p>A fiber corresponds to a stack frame, but it also corresponds to an instance of a component.</p> <p>Here are some of the important fields that belong to a fiber. (This list is not exhaustive.)</p>"},{"location":"react/React%20Fiber%20Architecture/#type-and-key","title":"<code>type</code> and <code>key</code>","text":"<p>The type and key of a fiber serve the same purpose as they do for React elements. (In fact, when a fiber is created from an element, these two fields are copied over directly.)</p> <p>The type of a fiber describes the component that it corresponds to. For composite components, the type is the function or class component itself. For host components (<code>div</code>, <code>span</code>, etc.), the type is a string.</p> <p>Conceptually, the type is the function (as in <code>v = f(d)</code>) whose execution is being tracked by the stack frame.</p> <p>Along with the type, the key is used during reconciliation to determine whether the fiber can be reused.</p>"},{"location":"react/React%20Fiber%20Architecture/#child-and-sibling","title":"<code>child</code> and <code>sibling</code>","text":"<p>These fields point to other fibers, describing the recursive tree structure of a fiber.</p> <p>The child fiber corresponds to the value returned by a component's <code>render</code> method. So in the following example</p> <pre><code>function Parent() {\n  return &lt;Child /&gt;\n}\n</code></pre> <p>The child fiber of <code>Parent</code> corresponds to <code>Child</code>.</p> <p>The sibling field accounts for the case where <code>render</code> returns multiple children (a new feature in Fiber!):</p> <pre><code>function Parent() {\n  return [&lt;Child1 /&gt;, &lt;Child2 /&gt;]\n}\n</code></pre> <p>The child fibers form a singly-linked list whose head is the first child. So in this example, the child of <code>Parent</code> is <code>Child1</code> and the sibling of <code>Child1</code> is <code>Child2</code>.</p> <p>Going back to our function analogy, you can think of a child fiber as a tail-called function.</p>"},{"location":"react/React%20Fiber%20Architecture/#return","title":"<code>return</code>","text":"<p>The return fiber is the fiber to which the program should return after processing the current one. It is conceptually the same as the return address of a stack frame. It can also be thought of as the parent fiber.</p> <p>If a fiber has multiple child fibers, each child fiber's return fiber is the parent. So in our example in the previous section, the return fiber of <code>Child1</code> and <code>Child2</code> is <code>Parent</code>.</p>"},{"location":"react/React%20Fiber%20Architecture/#pendingprops-and-memoizedprops","title":"<code>pendingProps</code> and <code>memoizedProps</code>","text":"<p>Conceptually, props are the arguments of a function. A fiber's <code>pendingProps</code> are set at the beginning of its execution, and <code>memoizedProps</code> are set at the end.</p> <p>When the incoming <code>pendingProps</code> are equal to <code>memoizedProps</code>, it signals that the fiber's previous output can be reused, preventing unnecessary work.</p>"},{"location":"react/React%20Fiber%20Architecture/#pendingworkpriority","title":"<code>pendingWorkPriority</code>","text":"<p>A number indicating the priority of the work represented by the fiber. The ReactPriorityLevel module lists the different priority levels and what they represent.</p> <p>With the exception of <code>NoWork</code>, which is 0, a larger number indicates a lower priority. For example, you could use the following function to check if a fiber's priority is at least as high as the given level:</p> <pre><code>function matchesPriority(fiber, priority) {\n  return fiber.pendingWorkPriority !== 0 &amp;&amp;\n         fiber.pendingWorkPriority &lt;= priority\n}\n</code></pre> <p>This function is for illustration only; it's not actually part of the React Fiber codebase.</p> <p>The scheduler uses the priority field to search for the next unit of work to perform. This algorithm will be discussed in a future section.</p>"},{"location":"react/React%20Fiber%20Architecture/#alternate","title":"<code>alternate</code>","text":"<ul> <li>flush</li> </ul> <p>To flush a fiber is to render its output onto the screen.</p> <ul> <li>work-in-progress</li> </ul> <p>A fiber that has not yet completed; conceptually, a stack frame which has not yet returned.</p> <p>At any time, a component instance has at most two fibers that correspond to it: the current, flushed fiber, and the work-in-progress fiber.</p> <p>The alternate of the current fiber is the work-in-progress, and the alternate of the work-in-progress is the current fiber.</p> <p>A fiber's alternate is created lazily using a function called <code>cloneFiber</code>. Rather than always creating a new object, <code>cloneFiber</code> will attempt to reuse the fiber's alternate if it exists, minimizing allocations.</p> <p>You should think of the <code>alternate</code> field as an implementation detail, but it pops up often enough in the codebase that it's valuable to discuss it here.</p>"},{"location":"react/React%20Fiber%20Architecture/#output","title":"<code>output</code>","text":"<ul> <li>host component</li> </ul> <p>The leaf nodes of a React application. They are specific to the rendering environment (e.g., in a browser app, they are <code>div</code>, <code>span</code>, etc.). In JSX, they are denoted using lowercase tag names.</p> <p>Conceptually, the output of a fiber is the return value of a function.</p> <p>Every fiber eventually has output, but output is created only at the leaf nodes by host components. The output is then transferred up the tree.</p> <p>The output is what is eventually given to the renderer so that it can flush the changes to the rendering environment. It's the renderer's responsibility to define how the output is created and updated.</p>"},{"location":"react/React%20Fiber%20Architecture/#future-sections","title":"Future sections","text":"<p>That's all there is for now, but this document is nowhere near complete. Future sections will describe the algorithms used throughout the lifecycle of an update. Topics to cover include:</p> <ul> <li>how the scheduler finds the next unit of work to perform.</li> <li>how priority is tracked and propagated through the fiber tree.</li> <li>how the scheduler knows when to pause and resume work.</li> <li>how work is flushed and marked as complete.</li> <li>how side-effects (such as lifecycle methods) work.</li> <li>what a coroutine is and how it can be used to implement features like context and layout.</li> </ul>"},{"location":"react/React%20Fiber%20Architecture/#related-videos","title":"Related Videos","text":"<ul> <li>What's Next for React (ReactNext 2016)</li> </ul>"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","title":"React PureComponent \u4f7f\u7528\u6307\u5357","text":""},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#react-purecomponent","title":"React PureComponent \u4f7f\u7528\u6307\u5357","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6635  \u9605\u8bfb14\u5206\u949f</p>"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_1","title":"\u4e3a\u4ec0\u4e48\u4f7f\u7528\uff1f","text":"<p>React15.3\u4e2d\u65b0\u52a0\u4e86\u4e00\u4e2a <code>PureComponent</code> \u7c7b\uff0c\u987e\u540d\u601d\u4e49\uff0c <code>pure</code> \u662f\u7eaf\u7684\u610f\u601d\uff0c <code>PureComponent</code> \u4e5f\u5c31\u662f\u7eaf\u7ec4\u4ef6\uff0c\u53d6\u4ee3\u5176\u524d\u8eab <code>PureRenderMixin</code> , <code>PureComponent</code> \u662f\u4f18\u5316 <code>React</code> \u5e94\u7528\u7a0b\u5e8f\u6700\u91cd\u8981\u7684\u65b9\u6cd5\u4e4b\u4e00\uff0c\u6613\u4e8e\u5b9e\u65bd\uff0c\u53ea\u8981\u628a\u7ee7\u627f\u7c7b\u4ece <code>Component</code> \u6362\u6210 <code>PureComponent</code> \u5373\u53ef\uff0c\u53ef\u4ee5\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684 <code>render</code> \u64cd\u4f5c\u7684\u6b21\u6570\uff0c\u4ece\u800c\u63d0\u9ad8\u6027\u80fd\uff0c\u800c\u4e14\u53ef\u4ee5\u5c11\u5199 <code>shouldComponentUpdate</code> \u51fd\u6570\uff0c\u8282\u7701\u4e86\u70b9\u4ee3\u7801\u3002</p>"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_2","title":"\u539f\u7406","text":"<p>\u5f53\u7ec4\u4ef6\u66f4\u65b0\u65f6\uff0c\u5982\u679c\u7ec4\u4ef6\u7684 <code>props</code> \u548c <code>state</code> \u90fd\u6ca1\u53d1\u751f\u6539\u53d8\uff0c <code>render</code> \u65b9\u6cd5\u5c31\u4e0d\u4f1a\u89e6\u53d1\uff0c\u7701\u53bb <code>Virtual DOM</code> \u7684\u751f\u6210\u548c\u6bd4\u5bf9\u8fc7\u7a0b\uff0c\u8fbe\u5230\u63d0\u5347\u6027\u80fd\u7684\u76ee\u7684\u3002\u5177\u4f53\u5c31\u662f <code>React</code> \u81ea\u52a8\u5e2e\u6211\u4eec\u505a\u4e86\u4e00\u5c42\u6d45\u6bd4\u8f83\uff1a</p> <pre><code>if (this._compositeType === CompositeTypes.PureClass) {\n  shouldUpdate = !shallowEqual(prevProps, nextProps)\n  || !shallowEqual(inst.state, nextState);\n}\n</code></pre> <p>\u800c <code>shallowEqual</code> \u53c8\u505a\u4e86\u4ec0\u4e48\u5462\uff1f\u4f1a\u6bd4\u8f83 <code>Object.keys(state | props)</code> \u7684\u957f\u5ea6\u662f\u5426\u4e00\u81f4\uff0c\u6bcf\u4e00\u4e2a <code>key</code> \u662f\u5426\u4e24\u8005\u90fd\u6709\uff0c\u5e76\u4e14\u662f\u5426\u662f\u4e00\u4e2a\u5f15\u7528\uff0c\u4e5f\u5c31\u662f\u53ea\u6bd4\u8f83\u4e86\u7b2c\u4e00\u5c42\u7684\u503c\uff0c\u786e\u5b9e\u5f88\u6d45\uff0c\u6240\u4ee5\u6df1\u5c42\u7684\u5d4c\u5957\u6570\u636e\u662f\u5bf9\u6bd4\u4e0d\u51fa\u6765\u7684\u3002</p>"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_3","title":"\u4f7f\u7528\u6307\u5357","text":""},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_4","title":"\u6613\u53d8\u6570\u636e\u4e0d\u80fd\u4f7f\u7528\u4e00\u4e2a\u5f15\u7528","text":"<p>\u6848\u4f8b\uff1a</p> <pre><code>class App extends PureComponent {\n  state = {\n    items: [1, 2, 3]\n  }\n  handleClick = () =&gt; {\n    const { items } = this.state;\n    items.pop();\n    this.setState({ items });\n  }\n  render() {\n    return (&lt;div&gt;\n      &lt;ul&gt;\n        {this.state.items.map(i =&gt; &lt;li key={i}&gt;{i}&lt;/li&gt;)}\n      &lt;/ul&gt;\n      &lt;button onClick={this.handleClick}&gt;delete&lt;/button&gt;\n    &lt;/div&gt;)\n  }\n}\n</code></pre> <p>\u4f1a\u53d1\u73b0\uff0c\u65e0\u8bba\u600e\u4e48\u70b9 <code>delete</code> \u6309\u94ae\uff0c <code>li</code> \u90fd\u4e0d\u4f1a\u53d8\u5c11\uff0c\u56e0\u4e3a <code>items</code> \u7528\u7684\u662f\u4e00\u4e2a\u5f15\u7528\uff0c <code>shallowEqual</code> \u7684\u7ed3\u679c\u4e3a <code>true</code> \u3002\u6539\u6b63\uff1a</p> <pre><code>handleClick = () =&gt; {\n  const { items } = this.state;\n  items.pop();\n  this.setState({ items: [].concat(items) });\n}\n</code></pre> <p>\u8fd9\u6837\u6bcf\u6b21\u6539\u53d8\u90fd\u4f1a\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\uff0c\u4e5f\u5c31\u53ef\u4ee5 <code>render</code> \u4e86\u3002</p>"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_5","title":"\u4e0d\u53d8\u6570\u636e\u4f7f\u7528\u4e00\u4e2a\u5f15\u7528","text":""},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_6","title":"\u5b50\u7ec4\u4ef6\u6570\u636e","text":"<p>\u4e0a\u9762\u6613\u53d8\u6570\u636e\u4e0d\u80fd\u4f7f\u7528\u4e00\u4e2a\u5f15\u7528\u7684\u6848\u4f8b\u4e2d\u6709\u4e00\u4e2a\u70b9\u51fb\u5220\u9664\u64cd\u4f5c\uff0c\u5982\u679c\u6211\u4eec\u5220\u9664\u7684\u4ee3\u7801\u8fd9\u4e48\u5199\uff1a</p> <pre><code>handleClick = () =&gt; {\n  const { items } = this.state;\n  items.splice(items.length - 1, 1);\n  this.setState({ items });\n}\n</code></pre> <p><code>items</code> \u7684\u5f15\u7528\u4e5f\u662f\u6539\u53d8\u7684\uff0c\u4f46\u5982\u679c <code>items</code> \u91cc\u9762\u662f\u5f15\u7528\u7c7b\u578b\u6570\u636e\uff1a</p> <pre><code>items: [{a: 1}, {a: 2}, {a: 3}]\n</code></pre> <p>\u8fd9\u4e2a\u65f6\u5019</p> <pre><code>state.items[0] === nextState.items[0] // false\n</code></pre> <p>\u5b50\u7ec4\u4ef6\u91cc\u8fd8\u662f<code>re-render</code>\u4e86\u3002\u8fd9\u6837\u5c31\u9700\u8981\u6211\u4eec\u4fdd\u8bc1\u4e0d\u53d8\u7684\u5b50\u7ec4\u4ef6\u6570\u636e\u7684\u5f15\u7528\u4e0d\u80fd\u6539\u53d8\u3002\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u4f7f\u7528immutable-js\u51fd\u6570\u5e93\u3002</p>"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_7","title":"\u51fd\u6570\u5c5e\u6027","text":"<p>\u6211\u4eec\u5728\u7ed9\u7ec4\u4ef6\u4f20\u4e00\u4e2a\u51fd\u6570\u7684\u65f6\u5019\uff0c\u6709\u65f6\u5019\u603b\u559c\u6b22:</p> <pre><code>// 1\n&lt;MyInput onChange={e =&gt; this.props.update(e.target.value)} /&gt;\n// 2\nupdate(e) {\n  this.props.update(e.target.value)\n}\nrender() {\n  return &lt;MyInput onChange={this.update.bind(this)} /&gt;\n}\n</code></pre> <p>\u7531\u4e8e\u6bcf\u6b21 <code>render</code> \u64cd\u4f5c <code>MyInput</code> \u7ec4\u4ef6\u7684 <code>onChange</code> \u5c5e\u6027\u90fd\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\uff0c\u7531\u4e8e\u5f15\u7528\u4e0d\u4e00\u6837\uff0c\u6240\u4ee5\u7236\u7ec4\u4ef6\u7684 <code>render</code> \u4e5f\u4f1a\u5bfc\u81f4 <code>MyInput</code> \u7ec4\u4ef6\u7684 <code>render</code> \uff0c\u5373\u4f7f\u6ca1\u6709\u4efb\u4f55\u6539\u52a8\uff0c\u6240\u4ee5\u9700\u8981\u5c3d\u91cf\u907f\u514d\u8fd9\u6837\u7684\u5199\u6cd5\uff0c\u6700\u597d\u8fd9\u6837\u5199\uff1a</p> <pre><code>// 1,2\nupdate = (e) =&gt; {\n  this.props.update(e.target.value)\n}\nrender() {\n  return &lt;MyInput onChange={this.update} /&gt;\n}\n</code></pre>"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_8","title":"\u7a7a\u5bf9\u8c61\u3001\u7a7a\u6570\u7ec4\u6216\u56fa\u5b9a\u5bf9\u8c61","text":"<p>\u6709\u65f6\u5019\u540e\u53f0\u8fd4\u56de\u7684\u6570\u636e\u4e2d\uff0c\u6570\u7ec4\u957f\u5ea6\u4e3a0\u6216\u8005\u5bf9\u8c61\u6ca1\u6709\u5c5e\u6027\u4f1a\u76f4\u63a5\u7ed9\u4e00\u4e2a <code>null</code> \uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u9700\u8981\u505a\u4e00\u4e9b\u5bb9\u9519\uff1a</p> <pre><code>class App extends PureComponent {\n  state = {\n    items: [{ name: 'test1' }, null, { name: 'test3'  }]\n  }\n  store = (id, value) =&gt; {\n    const { items } = this.state;\n    items[id]  = assign({}, items[id], { name: value });\n    this.setState({ items: [].concat(items) });\n  }\n  render() {\n    return (&lt;div&gt;\n      &lt;ul&gt;\n        {this.state.items.map((i, k) =&gt;\n          &lt;Item style={{ color: 'red' }} store={this.store} key={k} id={k} data={i || {}} /&gt;)\n        }\n      &lt;/ul&gt;\n    &lt;/div&gt;)\n  }\n}\n</code></pre> <p>\u5f53\u67d0\u4e00\u4e2a\u5b50\u7ec4\u4ef6\u8c03\u7528 <code>store</code> \u51fd\u6570\u6539\u53d8\u4e86\u81ea\u5df1\u7684\u90a3\u6761\u5c5e\u6027\uff0c\u89e6\u53d1 <code>render</code> \u64cd\u4f5c\uff0c\u5982\u679c\u6570\u636e\u662f <code>null</code> \u7684\u8bdd <code>data</code> \u5c5e\u6027\u6bcf\u6b21\u90fd\u662f\u4e00\u4e2a <code>{}</code>\uff0c<code>{} ==== {}</code> \u662f <code>false</code> \u7684\uff0c\u8fd9\u6837\u65e0\u7aef\u7684\u8ba9\u8fd9\u51e0\u4e2a\u5b50\u7ec4\u4ef6\u91cd\u65b0 <code>render</code> \u4e86\u3002<code>{ color: 'red' }</code>\u4e5f\u662f\u4e00\u6837\u3002</p> <p>\u6700\u597d\u8bbe\u7f6e\u4e00\u4e2a <code>defaultValue</code> \u4e3a <code>{}</code>,\u5982\u4e0b\uff1a</p> <pre><code>static defaultValue = {}\nconst style = { color: 'red' };\n&lt;Item style={style} store={this.store} key={k} id={k} data={i || defaultValue} /&gt;\n</code></pre>"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_9","title":"\u590d\u6742\u72b6\u6001\u4e0e\u7b80\u5355\u72b6\u6001\u4e0d\u8981\u5171\u7528\u4e00\u4e2a\u7ec4\u4ef6","text":"<p>\u8fd9\u70b9\u53ef\u80fd\u548c <code>PureComponent</code> \u6ca1\u591a\u5c11\u5173\u7cfb\uff0c\u4f46\u505a\u7684\u4e0d\u597d\u53ef\u80fd\u4f1a\u6d6a\u8d39\u5f88\u591a\u6027\u80fd\uff0c\u6bd4\u5982\u4e00\u4e2a\u9875\u9762\u4e0a\u9762\u4e00\u90e8\u5206\u662f\u4e00\u4e2a\u590d\u6742\u7684\u5217\u8868\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u8f93\u5165\u6846\uff0c\u62bd\u8c61\u4ee3\u7801\uff1a</p> <pre><code>change = (e) =&gt; {\n  this.setState({ value: e.target.value });\n}\nrender() {\n  return (&lt;div&gt;\n    &lt;ul&gt;\n      {this.state.items.map((i, k) =&gt; &lt;li key={k}&gt; {...}&lt;/li&gt;)}\n    &lt;/ul&gt;\n    &lt;input value={this.state.value} onChange={this.change} /&gt;\n  &lt;/div&gt;)\n}\n</code></pre> <p>\u8868\u5355\u548c\u5217\u8868\u5176\u5b9e\u662f\u6ca1\u6709\u4ec0\u4e48\u5173\u8054\u7684\uff0c\u8868\u5355\u7684\u503c\u4e5f\u53ef\u80fd\u7ecf\u5e38\u53d8\u52a8\uff0c\u4f46\u5b83\u7684\u4f1a\u7ed9\u5217\u8868\u4e5f\u5e26\u6765\u5fc5\u7136\u7684 <code>diff</code>\u64cd\u4f5c\uff0c\u8fd9\u662f\u6ca1\u5fc5\u8981\u7684\uff0c\u6700\u597d\u662f\u7ed9\u5217\u8868\u62bd\u51fa\u6210\u4e00\u4e2a\u5355\u72ec\u7684 <code>PureComponent</code> \u7ec4\u4ef6\uff0c\u8fd9\u6837 <code>state.items</code>\u4e0d\u53d8\u7684\u8bdd\uff0c\u5217\u8868\u5c31\u4e0d\u4f1a\u91cd\u65b0 <code>render</code> \u4e86\u3002</p>"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#shouldcomponentupdate","title":"\u4e0e <code>shouldComponentUpdate</code> \u5171\u5b58","text":"<p>\u5982\u679c <code>PureComponent</code> \u91cc\u6709 <code>shouldComponentUpdate</code> \u51fd\u6570\u7684\u8bdd\uff0c\u76f4\u63a5\u4f7f\u7528 <code>shouldComponentUpdate</code> \u7684\u7ed3\u679c\u4f5c\u4e3a\u662f\u5426\u66f4\u65b0\u7684\u4f9d\u636e\uff0c\u6ca1\u6709 <code>shouldComponentUpdate</code> \u51fd\u6570\u7684\u8bdd\uff0c\u624d\u4f1a\u53bb\u5224\u65ad\u662f\u4e0d\u662f <code>PureComponent</code> \uff0c\u662f\u7684\u8bdd\u518d\u53bb\u505a <code>shallowEqual</code> \u6d45\u6bd4\u8f83\u3002</p> <pre><code>// \u8fd9\u4e2a\u53d8\u91cf\u7528\u6765\u63a7\u5236\u7ec4\u4ef6\u662f\u5426\u9700\u8981\u66f4\u65b0\nvar shouldUpdate = true;\n// inst \u662f\u7ec4\u4ef6\u5b9e\u4f8b\nif (inst.shouldComponentUpdate) {\n  shouldUpdate = inst.shouldComponentUpdate(nextProps, nextState, nextContext);\n} else {\n  if (this._compositeType === CompositeType.PureClass) {\n    shouldUpdate = !shallowEqual(prevProps, nextProps) ||\n      !shallowEqual(inst.state, nextState);\n  }\n}\n</code></pre>"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_10","title":"\u8001\u7248\u672c\u517c\u5bb9\u5199\u6cd5","text":"<pre><code>import React { PureComponent, Component } from 'react';\n\nclass Foo extends (PureComponent || Component) {\n  //...\n}\n</code></pre> <p>\u8fd9\u6837\u5728\u8001\u7248\u672c\u7684 <code>React</code> \u91cc\u4e5f\u4e0d\u4f1a\u6302\u6389\u3002</p>"},{"location":"react/React%20PureComponent%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/#_11","title":"\u603b\u7ed3","text":"<p><code>PureComponent</code> \u771f\u6b63\u8d77\u4f5c\u7528\u7684\uff0c\u53ea\u662f\u5728\u4e00\u4e9b\u7eaf\u5c55\u793a\u7ec4\u4ef6\u4e0a\uff0c\u590d\u6742\u7ec4\u4ef6\u7528\u4e86\u4e5f\u6ca1\u5173\u7cfb\uff0c\u53cd\u6b63 <code>shallowEqual</code> \u90a3\u4e00\u5173\u5c31\u8fc7\u4e0d\u4e86\uff0c\u4e0d\u8fc7\u8bb0\u5f97 <code>props</code> \u548c <code>state</code> \u4e0d\u80fd\u4f7f\u7528\u540c\u4e00\u4e2a\u5f15\u7528\u54e6\u3002</p>"},{"location":"react/React%20data%20grid/","title":"React data grid","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 15047  \u9605\u8bfb31\u5206\u949f</p> <p>\u4e3b\u8981\u529f\u80fd\uff1a\u754c\u9762\u663e\u793a Excel \u9884\u89c8\uff0c\u53ef\u4ee5\u5c06\u4e00\u4e2a\u5bf9\u8c61\u6216\u8005 json \u683c\u5f0f\u5316\u6210\u4e3a\u754c\u9762\u3002</p>"},{"location":"react/React%20data%20grid/#_1","title":"\u5b89\u88c5","text":"<pre><code>npm install react-data-grid --save\n</code></pre>"},{"location":"react/React%20data%20grid/#_2","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>import React from 'react';\nimport ReactDataGrid from 'react-data-grid';\n\nconst columns = [\n  { key: 'id', name: 'ID' },\n  { key: 'title', name: 'Title' },\n  { key: 'count', name: 'Count' } ];\n\nconst rows = [\n  {id: 0, title: 'row1', count: 20},\n  {id: 1, title: 'row1', count: 40},\n  {id: 2, title: 'row1', count: 60}\n];\n\n// \u5b9e\u9645\u7684\u6807\u9898\u548c\u5217\u90fd\u662f\u5b9e\u65f6\u83b7\u53d6\u7684\nfunction HelloWorld() {\n  return (\n    &lt;ReactDataGrid\n      columns={columns}\n      rowGetter={i =&gt; rows[i]}\n      rowsCount={3}\n      minHeight={150}\n    /&gt;\n  );\n}\n</code></pre>"},{"location":"react/React%20data%20grid/#_3","title":"\u63d2\u4ef6\u5b89\u88c5","text":"<pre><code>npm install react-data-grid-addons --save\n</code></pre> <p>\u5927\u90e8\u5206\u7684\u529f\u80fd\u4f1a\u96c6\u6210\u5728\u63d2\u4ef6\u4e2d\uff0c\u4f8b\u5982\u5bcc\u8868\u683c\u7f16\u8f91\u3001\u53f3\u952e\u83dc\u5355\u3001\u62d6\u62fd\u529f\u80fd\u3001\u884c\u5206\u7ec4\u7ba1\u7406\u7b49\u3002\u672a\u6765\u8fd9\u90e8\u5206\u529f\u80fd\u5c06\u5206\u6210\u591a\u4e2a\u5305\u4ee5\u4f9b\u4e0d\u540c\u5ba2\u6237\u4f7f\u7528\u3002</p>"},{"location":"react/React%20data%20grid/#quick-start","title":"Quick Start","text":"<p>React Data Grid is an excel like data grid component powered by React.</p>"},{"location":"react/React%20data%20grid/#installing-react-data-grid","title":"Installing react-data-grid","text":"<pre><code>$ npm install react-data-grid --save\n</code></pre>"},{"location":"react/React%20data%20grid/#importing-data-grid-component","title":"Importing Data Grid Component","text":"<p>Below is the minimum configuration required to import ReactDataGrid into your application.</p> <pre><code>import React from 'react';\nimport ReactDataGrid from 'react-data-grid';\n\nconst columns = [\n  { key: 'id', name: 'ID' },\n  { key: 'title', name: 'Title' },\n  { key: 'count', name: 'Count' } ];\n\nconst rows = [{id: 0, title: 'row1', count: 20}, {id: 1, title: 'row1', count: 40}, {id: 2, title: 'row1', count: 60}];\n\nfunction HelloWorld() {\n  return (&lt;ReactDataGrid\n  columns={columns}\n  rowGetter={i =&gt; rows[i]}\n  rowsCount={3}\n  minHeight={150} /&gt;);\n}\n</code></pre>"},{"location":"react/React%20data%20grid/#react-data-grid-addons","title":"React Data Grid Addons","text":""},{"location":"react/React%20data%20grid/#mono-respository-structure","title":"Mono respository structure","text":"<p>ReactDataGrid is intended to be a lightweight grid capable of rendering large amounts of data. It is also meant to be fully extendable and customizable. Rather than have these customization options available as a single npm package, many customization options for the grid are available as separate npm packages. This allows the consumer of the grid to opt in to specific features, and only output the necessary scripts into their application. To achieve this, the respository is structured as a mono repository using Lerna.</p>"},{"location":"react/React%20data%20grid/#installing-react-data-grid-addons-package","title":"Installing react-data-grid-addons package","text":"<p>Currently the main addons package is available in npm as react-data-grid-addons. This package contains many components such as rich cell editors, a context menu, drag and drop functionality, row grouping etc. Future work will see these features all moved to their own separate npm packages, in order to allow users to opt in to the features they need and keep applications more lightweight.</p> <pre><code>$ npm install react-data-grid-addons --save\n</code></pre>"},{"location":"react/React%20data%20grid/#reactdatagrid","title":"ReactDataGrid","text":"<p>Main API Component to render a data grid of rows and columns</p>"},{"location":"react/React%20data%20grid/#example-code","title":"Example code","text":"<pre><code>&lt;ReactDataGrid\n  columns={columns}\n  rowGetter={i =&gt; rows[i]}\n  rowsCount={3} /&gt;\n</code></pre>"},{"location":"react/React%20data%20grid/#props","title":"Props","text":""},{"location":"react/React%20data%20grid/#columns-required","title":"<code>columns</code> (required)","text":"<p>An array of objects representing each column on the grid. Can also be an ImmutableJS object</p> <p>type: arrayOf</p> Name Type Required Description name node true The name of the column. By default it will be displayed in the header cell key string true A unique key to distinguish each column width number false Column width. If not specified, it will be determined automatically based on grid width and specified widths of other columns filterable bool false Enable filtering of a column filterRenderer node false Component to be used to filter the data of the column resizable bool false Enable resizing of a column sortable bool false Enable sorting of a column sortDescendingFirst bool false Sets the column sort order to be descending instead of ascending the first time the column is sorted dragable bool false Enable dragging of a column editable node false Enables cell editing. If set and no editor property specified, then a textinput will be used as the cell editor editor node false Editor to be rendered when cell of column is being edited. If set, then the column is automatically set to be editable formatter node false Formatter to be used to render the cell content headerRenderer node false Header renderer for each header cell frozen bool false Determines whether column is frozen or not events object false By adding an event object with callbacks for the native react events you can bind events to a specific column. That will not break the default behaviour of the grid and will run only for the specified column"},{"location":"react/React%20data%20grid/#rowgetter-required","title":"<code>rowGetter</code> (required)","text":"<p>A function called for each rendered row that should return a plain key/value pair object</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#rowscount-required","title":"<code>rowsCount</code> (required)","text":"<p>The number of rows to be rendered</p> <p>type: number</p>"},{"location":"react/React%20data%20grid/#cellnavigationmode","title":"<code>cellNavigationMode</code>","text":"<p>type: enum ('none'|'loopOverRow'|'changeRow')</p> <p>defaultValue: <code>CellNavigationMode.NONE</code></p>"},{"location":"react/React%20data%20grid/#cellrangeselection","title":"<code>cellRangeSelection</code>","text":"<p>Object used to configure cell range selection</p> <p>type: shape</p> Name Type Required Description onStart func false Function called whenever cell range selection begins onUpdate func false Function called whenever cell selection range is updated onComplete func false Function called whenever cell selection range has been completed"},{"location":"react/React%20data%20grid/#columnequality","title":"<code>columnEquality</code>","text":"<p>defaultValue: <code>ColumnMetrics.sameColumn</code></p>"},{"location":"react/React%20data%20grid/#contextmenu","title":"<code>contextMenu</code>","text":"<p>Component used to render a context menu. react-data-grid-addons provides a default context menu which may be used</p> <p>type: element</p>"},{"location":"react/React%20data%20grid/#draggableheadercell","title":"<code>draggableHeaderCell</code>","text":"<p>Component used to render a draggable header cell</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#enablecellautofocus","title":"<code>enableCellAutoFocus</code>","text":"<p>Toggles whether cells should be autofocused</p> <p>type: bool</p> <p>defaultValue: <code>true</code></p>"},{"location":"react/React%20data%20grid/#enablecellselect","title":"<code>enableCellSelect</code>","text":"<p>Used to toggle whether cells can be selected or not</p> <p>type: bool</p> <p>defaultValue: <code>false</code></p>"},{"location":"react/React%20data%20grid/#enabledraganddrop","title":"<code>enableDragAndDrop</code>","text":"<p>Enables drag and drop on the grid</p> <p>type: bool</p>"},{"location":"react/React%20data%20grid/#enablerowselect","title":"<code>enableRowSelect</code>","text":"<p>Deprecated: Legacy prop to turn on row selection. Use rowSelection props instead</p> <p>type: custom</p> <p>defaultValue: <code>false</code></p>"},{"location":"react/React%20data%20grid/#getcellactions","title":"<code>getCellActions</code>","text":"<p>Function called on each cell render to render a list of actions for each cell</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#getvalidfiltervalues","title":"<code>getValidFilterValues</code>","text":"<p>type: func</p>"},{"location":"react/React%20data%20grid/#headerfiltersheight","title":"<code>headerFiltersHeight</code>","text":"<p>The height of the header row in pixels</p> <p>type: number</p> <p>defaultValue: <code>45</code></p>"},{"location":"react/React%20data%20grid/#headerrowheight","title":"<code>headerRowHeight</code>","text":"<p>The height of the header row in pixels</p> <p>type: number</p>"},{"location":"react/React%20data%20grid/#mincolumnwidth","title":"<code>minColumnWidth</code>","text":"<p>Minimum column width in pixels</p> <p>type: number</p> <p>defaultValue: <code>80</code></p>"},{"location":"react/React%20data%20grid/#minheight","title":"<code>minHeight</code>","text":"<p>The minimum height of the grid in pixels</p> <p>type: number</p> <p>defaultValue: <code>350</code></p>"},{"location":"react/React%20data%20grid/#minwidth","title":"<code>minWidth</code>","text":"<p>The minimum width of the grid in pixels</p> <p>type: number</p>"},{"location":"react/React%20data%20grid/#onaddfilter","title":"<code>onAddFilter</code>","text":"<p>Callback</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#onaddsubrow","title":"<code>onAddSubRow</code>","text":"<p>Called whenever a sub row is added to the grid</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#onbeforeedit","title":"<code>onBeforeEdit</code>","text":"<p>Called just before a cell is about to be edited</p> <p>type: func</p> <p>defaultValue: <code>() =&gt; {}</code></p>"},{"location":"react/React%20data%20grid/#oncellcopypaste","title":"<code>onCellCopyPaste</code>","text":"<p>Deprecated: Function called when grid is updated via a copy/paste. Use onGridRowsUpdated instead</p> <p>type: custom</p>"},{"location":"react/React%20data%20grid/#oncelldeselected","title":"<code>onCellDeSelected</code>","text":"<p>Function called whenever a cell is deselected</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#oncellexpand","title":"<code>onCellExpand</code>","text":"<p>Function called whenever a cell has been expanded</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#oncellselected","title":"<code>onCellSelected</code>","text":"<p>Function called whenever a cell is selected</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#oncellsdragged","title":"<code>onCellsDragged</code>","text":"<p>Deprecated: Function called when grid is updated via a cell drag. Use onGridRowsUpdated instead</p> <p>type: custom</p>"},{"location":"react/React%20data%20grid/#oncheckcelliseditable","title":"<code>onCheckCellIsEditable</code>","text":"<p>called before cell is set active, returns a boolean to determine whether cell is editable</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#onclearfilters","title":"<code>onClearFilters</code>","text":"<p>Function called whenever filters are cleared</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#oncolumnresize","title":"<code>onColumnResize</code>","text":"<p>Called when a column is resized</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#ondeletesubrow","title":"<code>onDeleteSubRow</code>","text":"<p>Called whenever a sub row is deleted from the grid</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#ondraghandledoubleclick","title":"<code>onDragHandleDoubleClick</code>","text":"<p>Deprecated: Function called when grid is updated via double clicking the cell drag handle. Use onGridRowsUpdated instead</p> <p>type: custom</p>"},{"location":"react/React%20data%20grid/#onfilter","title":"<code>onFilter</code>","text":"<p>Callback whenever grid is filtered via FilterableHeaderCell</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#ongridkeydown","title":"<code>onGridKeyDown</code>","text":"<p>Function called whenever keyboard key is pressed down</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#ongridkeyup","title":"<code>onGridKeyUp</code>","text":"<p>Function called whenever keyboard key is pressed up</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#ongridrowsupdated","title":"<code>onGridRowsUpdated</code>","text":"<p>Callback called whenever row data is updated When editing is enabled, this callback will be called for the following scenarios</p> <ol> <li>Using the supplied editor of the column. The default editor is the SimpleTextEditor.</li> <li>Copy/pasting the value from one cell to another CTRL+C, CTRL+V</li> <li>Update multiple cells by dragging the fill handle of a cell up or down to a destination cell.</li> <li>Update all cells under a given cell by double clicking the cell's fill handle.</li> </ol> <p>type: func</p>"},{"location":"react/React%20data%20grid/#ongridsort","title":"<code>onGridSort</code>","text":"<p>Function called whenever grid is sorted</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#onrowclick","title":"<code>onRowClick</code>","text":"<p>Function called whenever row is clicked</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#onrowdoubleclick","title":"<code>onRowDoubleClick</code>","text":"<p>Function called whenever row is double clicked</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#onrowexpandtoggle","title":"<code>onRowExpandToggle</code>","text":"<p>type: func</p>"},{"location":"react/React%20data%20grid/#onrowselect","title":"<code>onRowSelect</code>","text":"<p>Function called whenever row is selected</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#onrowupdated","title":"<code>onRowUpdated</code>","text":"<p>Deprecated: Function called when grid is updated via a cell commit. Use onGridRowsUpdated instead</p> <p>type: custom</p>"},{"location":"react/React%20data%20grid/#onscroll","title":"<code>onScroll</code>","text":"<p>Called when the grid is scrolled</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#overscan","title":"<code>overScan</code>","text":"<p>defaultValue: <code>{ colsStart: 2, colsEnd: 2, rowsStart: 2, rowsEnd: 2 }</code></p>"},{"location":"react/React%20data%20grid/#rowactionscell","title":"<code>rowActionsCell</code>","text":"<p>Component to render row actions cell when present</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#rowgrouprenderer","title":"<code>rowGroupRenderer</code>","text":"<p>Function called whenever keyboard key is pressed down</p> <p>type: func</p>"},{"location":"react/React%20data%20grid/#rowheight","title":"<code>rowHeight</code>","text":"<p>The height of each row in pixels</p> <p>type: number</p> <p>defaultValue: <code>35</code></p>"},{"location":"react/React%20data%20grid/#rowkey","title":"<code>rowKey</code>","text":"<p>The primary key property of each row</p> <p>type: string</p> <p>defaultValue: <code>'id'</code></p>"},{"location":"react/React%20data%20grid/#rowscrolltimeout","title":"<code>rowScrollTimeout</code>","text":"<p>Deprecated</p> <p>type: custom</p> <p>defaultValue: <code>0</code></p>"},{"location":"react/React%20data%20grid/#rowselection","title":"<code>rowSelection</code>","text":"<p>type: shape</p> Name Type Required Description enableShiftSelect bool false undefined onRowsSelected func false Function called whenever rows are selected onRowsDeselected func false Function called whenever rows are deselected showCheckbox bool false toggle whether to show a checkbox in first column to select rows selectBy union true Method by which rows should be selected"},{"location":"react/React%20data%20grid/#scrolltorowindex","title":"<code>scrollToRowIndex</code>","text":"<p>When set, grid will scroll to this row index</p> <p>type: number</p> <p>defaultValue: <code>0</code></p>"},{"location":"react/React%20data%20grid/#selectallrenderer","title":"<code>selectAllRenderer</code>","text":"<p>Component to render the UI in the header row for selecting all rows</p> <p>type: object</p>"},{"location":"react/React%20data%20grid/#sortcolumn","title":"<code>sortColumn</code>","text":"<p>The key of the column which is currently being sorted</p> <p>type: string</p>"},{"location":"react/React%20data%20grid/#sortdirection","title":"<code>sortDirection</code>","text":"<p>The direction to sort the sortColumn</p> <p>type: enum Object.keys(DEFINE_SORT)</p>"},{"location":"react/React%20data%20grid/#toolbar","title":"<code>toolbar</code>","text":"<p>Component used to render toolbar above the grid</p> <p>type: element</p>"},{"location":"react/React%20data%20grid/#row","title":"Row","text":""},{"location":"react/React%20data%20grid/#props_1","title":"Props","text":""},{"location":"react/React%20data%20grid/#coloverscanendidx-required","title":"<code>colOverscanEndIdx</code> (required)","text":"<p>The index of the last overscan column on the grid</p> <p>type: number</p>"},{"location":"react/React%20data%20grid/#coloverscanstartidx-required","title":"<code>colOverscanStartIdx</code> (required)","text":"<p>The index of the first overscan column on the grid</p> <p>type: number</p>"},{"location":"react/React%20data%20grid/#colvisibleendidx-required","title":"<code>colVisibleEndIdx</code> (required)","text":"<p>The index of the last visible column on the grid</p> <p>type: number</p>"},{"location":"react/React%20data%20grid/#colvisiblestartidx-required","title":"<code>colVisibleStartIdx</code> (required)","text":"<p>The index of the first visible column on the grid</p> <p>type: number</p>"},{"location":"react/React%20data%20grid/#columns-required_1","title":"<code>columns</code> (required)","text":"<p>Array of columns to render</p> <p>type: union (object|array)</p>"},{"location":"react/React%20data%20grid/#idx-required","title":"<code>idx</code> (required)","text":"<p>The index of the row in the grid</p> <p>type: number</p>"},{"location":"react/React%20data%20grid/#isscrolling-required","title":"<code>isScrolling</code> (required)","text":"<p>Flag to determine whether the grid is being scrolled</p> <p>type: bool</p>"},{"location":"react/React%20data%20grid/#row-required","title":"<code>row</code> (required)","text":"<p>JS object represeting row data</p> <p>type: object</p>"},{"location":"react/React%20data%20grid/#cellmetadata","title":"<code>cellMetaData</code>","text":"<p>Object used to listen for cell events</p> <p>type: object</p>"},{"location":"react/React%20data%20grid/#cellrenderer","title":"<code>cellRenderer</code>","text":"<p>React component used to render cell content</p> <p>type: func</p> <p>defaultValue: <code>Cell</code></p>"},{"location":"react/React%20data%20grid/#expandedrows","title":"<code>expandedRows</code>","text":"<p>Array of all rows that have been expanded</p> <p>type: arrayOf [object Object]</p>"},{"location":"react/React%20data%20grid/#extraclasses","title":"<code>extraClasses</code>","text":"<p>Space separated list of extra css classes to apply to row</p> <p>type: string</p>"},{"location":"react/React%20data%20grid/#forceupdate","title":"<code>forceUpdate</code>","text":"<p>Will force an update to the row if true</p> <p>type: bool</p>"},{"location":"react/React%20data%20grid/#height","title":"<code>height</code>","text":"<p>The height of the row in pixels</p> <p>type: number</p> <p>defaultValue: <code>35</code></p>"},{"location":"react/React%20data%20grid/#isrowhovered","title":"<code>isRowHovered</code>","text":"<p>Determines whether row is hovered or not</p> <p>type: bool</p>"},{"location":"react/React%20data%20grid/#isselected","title":"<code>isSelected</code>","text":"<p>Determines whether row is selected or not</p> <p>type: bool</p> <p>defaultValue: <code>false</code></p>"},{"location":"react/React%20data%20grid/#lastfrozencolumnindex","title":"<code>lastFrozenColumnIndex</code>","text":"<p>Index of last frozen column index</p> <p>type: number</p>"},{"location":"react/React%20data%20grid/#scrollleft","title":"<code>scrollLeft</code>","text":"<p>scrollLeft in pixels</p> <p>type: number</p>"},{"location":"react/React%20data%20grid/#subrowdetails","title":"<code>subRowDetails</code>","text":"<p>type: object</p>"},{"location":"react/React%20data%20grid/#cell","title":"Cell","text":""},{"location":"react/React%20data%20grid/#props_2","title":"Props","text":""},{"location":"react/React%20data%20grid/#cellmetadata-required","title":"<code>cellMetaData</code> (required)","text":"<p>type: object</p>"},{"location":"react/React%20data%20grid/#column-required","title":"<code>column</code> (required)","text":"<p>type: object</p>"},{"location":"react/React%20data%20grid/#expandableoptions-required","title":"<code>expandableOptions</code> (required)","text":"<p>type: object</p>"},{"location":"react/React%20data%20grid/#idx-required_1","title":"<code>idx</code> (required)","text":"<p>type: number</p>"},{"location":"react/React%20data%20grid/#rowdata-required","title":"<code>rowData</code> (required)","text":"<p>type: object</p>"},{"location":"react/React%20data%20grid/#rowidx-required","title":"<code>rowIdx</code> (required)","text":"<p>type: number</p>"},{"location":"react/React%20data%20grid/#scrollleft-required","title":"<code>scrollLeft</code> (required)","text":"<p>type: number</p>"},{"location":"react/React%20data%20grid/#cellcontrols","title":"<code>cellControls</code>","text":"<p>type: any</p>"},{"location":"react/React%20data%20grid/#children","title":"<code>children</code>","text":"<p>type: union (arrayOf|node)</p>"},{"location":"react/React%20data%20grid/#classname","title":"<code>className</code>","text":"<p>type: string</p>"},{"location":"react/React%20data%20grid/#forceupdate_1","title":"<code>forceUpdate</code>","text":"<p>type: bool</p>"},{"location":"react/React%20data%20grid/#handledragstart","title":"<code>handleDragStart</code>","text":"<p>type: func</p>"},{"location":"react/React%20data%20grid/#height_1","title":"<code>height</code>","text":"<p>type: number</p>"},{"location":"react/React%20data%20grid/#iscellvaluechanging","title":"<code>isCellValueChanging</code>","text":"<p>type: func</p> <p>defaultValue: <code>(value, nextValue) =&gt; value !== nextValue</code></p>"},{"location":"react/React%20data%20grid/#iseditorenabled","title":"<code>isEditorEnabled</code>","text":"<p>type: bool</p>"},{"location":"react/React%20data%20grid/#isexpanded","title":"<code>isExpanded</code>","text":"<p>type: bool</p> <p>defaultValue: <code>false</code></p>"},{"location":"react/React%20data%20grid/#isrowselected","title":"<code>isRowSelected</code>","text":"<p>type: bool</p>"},{"location":"react/React%20data%20grid/#isscrolling","title":"<code>isScrolling</code>","text":"<p>type: bool</p>"},{"location":"react/React%20data%20grid/#isselected_1","title":"<code>isSelected</code>","text":"<p>type: bool</p>"},{"location":"react/React%20data%20grid/#selectedcolumn","title":"<code>selectedColumn</code>","text":"<p>type: object</p>"},{"location":"react/React%20data%20grid/#tooltip","title":"<code>tooltip</code>","text":"<p>type: string</p>"},{"location":"react/React%20data%20grid/#value","title":"<code>value</code>","text":"<p>type: union (string|number|object|bool)</p> <p>defaultValue: <code>''</code></p>"},{"location":"react/React%20data%20grid/#waspreviouslyselected","title":"<code>wasPreviouslySelected</code>","text":"<p>type: bool</p>"},{"location":"react/React%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/","title":"React \u4e2d\u7684\u4e8b\u4ef6\u5904\u7406","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9544  \u9605\u8bfb20\u5206\u949f</p>"},{"location":"react/React%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/#_1","title":"\u57fa\u672c\u4f7f\u7528","text":"<p><code>React</code>\u6846\u67b6\u81ea\u8eab\u5b9e\u73b0\u4e86\u4e00\u5957\u4e8b\u4ef6\u5904\u7406\u673a\u5236\uff0c\u5b83\u7684\u57fa\u672c\u7528\u6cd5\u548c<code>DOM</code>\u4e8b\u4ef6\u5f88\u76f8\u4f3c\u3002\u4f8b\u5982\uff0c\u7ed9\u67d0\u4e2a<code>react</code>\u5143\u7d20\u7ed1\u5b9a\u70b9\u51fb\u4e8b\u4ef6\uff1a</p> <pre><code>import React from 'react';\nimport ReactDOM from 'react-dom';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  onClick = () =&gt; {\n    //\n  }\n  render() {\n    return (&lt;button onClick={this.onClick}&gt;&lt;/button&gt;);\n  }\n}\n</code></pre> <ul> <li>\u4e8b\u4ef6\u7c7b\u578b\u91c7\u7528\u5c0f\u9a7c\u5cf0\u547d\u540d\u6cd5\uff0c\u56e0\u6b64\u662f <code>onClick</code>\uff0c\u800c\u4e0d\u662f <code>onclick</code>\uff0c\u5176\u4ed6\u4e8b\u4ef6\u7c7b\u578b\u76f8\u540c\u3002</li> <li>\u76f4\u63a5\u5c06\u51fd\u6570\u7684\u58f0\u660e(this.onClick)\u5f53\u6210\u4e8b\u4ef6\u53e5\u67c4\u4f20\u9012</li> </ul> <p>\u6211\u4eec\u5c06\u5b83\u7684\u8fd9\u5957\u4e8b\u4ef6\u5904\u7406\u673a\u5236\u79f0\u4e4b\u4e3a<code>SyntheticEvent</code>\uff0c\u5373**\u5408\u6210\u4e8b\u4ef6**</p>"},{"location":"react/React%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/#synthetic-event","title":"\u5408\u6210\u4e8b\u4ef6\uff08Synthetic Event\uff09","text":""},{"location":"react/React%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/#_2","title":"\u4e8b\u4ef6\u5192\u6ce1","text":"<p><code>React</code>\u4e2d\uff0c\u9ed8\u8ba4\u7684\u4e8b\u4ef6\u4f20\u64ad\u65b9\u5f0f\u4e3a**\u5192\u6ce1**\uff1a</p> <pre><code>import React, { Component } from \"react\"\nimport ReactDOM from \"react-dom\"\n\nclass App extends Component {\n  render() {\n    return (\n      &lt;div onClick={() =&gt; {console.log(\"ancestor\");}}&gt;\n        &lt;div onClick={() =&gt; {console.log(\"parent\");}}&gt;\n          &lt;div onClick={() =&gt; {console.log(\"child\");}}&gt;&lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nReactDOM.render(&lt;App /&gt;, document.querySelector(\"#root\"));\n</code></pre> <p>\u5728\u8be5\u793a\u4f8b\u4e2d\uff0c<code>3</code>\u4e2a<code>div</code>\u5d4c\u5957\u663e\u793a\uff0c\u5e76\u4e14\u6bcf\u4e2a\u5143\u7d20\u4e0a\u5747\u7ed1\u5b9a<code>onClick</code>\u4e8b\u4ef6\uff1a</p> <p>\u5f53\u7528\u6237\u70b9\u51fb <code>div</code>\u5143\u7d20\u65f6\uff0c\u53ef\u4ee5\u770b\u5230\uff0c\u63a7\u5236\u53f0\u5148\u540e\u8f93\u51fa\u4e86<code>child -&gt; parent -&gt; ancestor</code>\uff0c\u8fd9\u662f\u56e0\u4e3a\u5728React\u7684\u4e8b\u4ef6\u5904\u7406\u7cfb\u7edf\u4e2d\uff0c\u9ed8\u8ba4\u7684\u4e8b\u4ef6\u6d41\u5c31\u662f\u5192\u6ce1\uff0c\u5982\u679c\u8bf4\u6211\u4eec\u5e0c\u671b\u4ee5\u6355\u83b7\u7684\u65b9\u5f0f\u6765\u89e6\u53d1\u4e8b\u4ef6\u7684\u8bdd\uff0c\u53ef\u4ee5\u4f7f\u7528<code>onClickCapture</code>\u6765\u7ed1\u5b9a\u4e8b\u4ef6\uff0c\u4e5f\u5c31\u662f\u5728\u4e8b\u4ef6\u7c7b\u578b\u540e\u9762\u52a0\u4e00\u4e2a\u540e\u7f00<code>Capture</code>\uff1a</p> <pre><code>import React, { Component } from \"react\"\nimport ReactDOM from \"react-dom\"\n\nclass App extends Component {\n  render() {\n    return (\n      &lt;div onClickCapture={() =&gt; {console.log(\"ancestor\");}}&gt;\n        &lt;div onClickCapture={() =&gt; {console.log(\"parent\");}}&gt;\n          &lt;div onClickCapture={() =&gt; {console.log(\"child\");}}&gt;&lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nReactDOM.render(&lt;App /&gt;, document.querySelector(\"#root\"));\n</code></pre> <p>\u8fd9\u65f6\uff0c\u8fd8\u662f\u70b9\u51fb<code>div</code>\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u4e8b\u4ef6\u6d41\u662f\u4ece<code>ancestor -&gt; parent -&gt; child</code>\u4f20\u64ad\u4e86\u3002</p>"},{"location":"react/React%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/#_3","title":"\u4e8b\u4ef6\u59d4\u6258","text":"<p>\u5728\u5408\u6210\u4e8b\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u6240\u6709\u7684\u4e8b\u4ef6\u90fd\u662f\u7ed1\u5b9a\u5728<code>document</code>\u5143\u7d20\u4e0a\uff0c\u5373\uff0c\u867d\u7136\u6211\u4eec\u5728\u67d0\u4e2a<code>react</code>\u5143\u7d20\u4e0a\u7ed1\u5b9a\u4e86\u4e8b\u4ef6\uff0c\u4f46\u662f\uff0c\u6700\u540e\u4e8b\u4ef6\u90fd\u59d4\u6258\u7ed9<code>document</code>\u7edf\u4e00\u89e6\u53d1\u3002</p> <p></p>"},{"location":"react/React%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/#_4","title":"\u5728\u5408\u6210\u4e8b\u4ef6\u4e2d\u53ea\u80fd\u963b\u6b62\u5408\u6210\u4e8b\u4ef6\u4e2d\u7684\u4e8b\u4ef6\u4f20\u64ad","text":"<p>\u6211\u4eec\u5728\u7ea2\u8272\u533a\u57df\u7684<code>div</code>\u91cc\uff0c\u4e5f\u5c31\u662f\u6700\u91cc\u5c42\u7684\u90a3\u4e2a\u5143\u7d20\u4e0a\uff0c\u4f7f\u7528<code>e.stopPropagation()</code>\u65b9\u6cd5\u6765\u963b\u6b62\u4e8b\u4ef6\u6d41\u7684\u4f20\u64ad\uff1a</p> <pre><code>&lt;div onClick={() =&gt; {console.log(\"ancestor\")}}&gt;\n    &lt;div onClick={() =&gt; {console.log(\"parent\");}}&gt;\n        &lt;div onClick={e =&gt; { console.log(\"child\"); e.stopPropagation();}}&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre> <p>\u70b9\u51fb\u7ea2\u8272\u533a\u57df\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u63a7\u5236\u53f0\u4e0a\u53ea\u8f93\u51fa\u4e86<code>child</code>\uff0c\u8bf4\u660e\u8fd9\u65f6\u5df2\u7ecf\u6210\u529f\u963b\u6b62\u4e86\u5192\u6ce1\u3002\u6267\u884c\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <p></p> <p>\u4ece\u56fe\u4e2d\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c<code>react</code> \u963b\u6b62\u7684\u4e8b\u4ef6\u6d41\uff0c\u5e76\u6ca1\u6709\u963b\u6b62\u771f\u6b63<code>DOM</code>\u5143\u7d20\u7684\u4e8b\u4ef6\u89e6\u53d1\uff0c\u5f53\u7ea2\u8272<code>div</code>\u5143\u7d20\u88ab\u70b9\u51fb\u65f6\uff0c\u771f\u6b63\u7684\u5143\u7d20\u8fd8\u662f\u6309\u7167\u5192\u6ce1\u7684\u65b9\u5f0f\uff0c\u5c42\u5c42\u5c06\u4e8b\u4ef6\u4ea4\u7ed9\u4e0a\u7ea7\u5143\u7d20\u8fdb\u884c\u5904\u7406\uff0c\u6700\u540e\u4e8b\u4ef6\u4f20\u64ad\u5230<code>docuement</code>\uff0c\u89e6\u53d1\u5408\u6210\u4e8b\u4ef6\uff0c\u5728\u5408\u6210\u4e8b\u4ef6\u4e2d\uff0c<code>child</code>\u89e6\u53d1\u65f6\uff0c<code>e.stopPropagation();</code>\u88ab\u8c03\u7528\uff0c\u5408\u6210\u4e8b\u4ef6\u4e2d\u7684\u4e8b\u4ef6\u88ab\u7ec8\u6b62\u3002\u56e0\u6b64\uff0c==\u5408\u6210\u4e8b\u4ef6\u4e2d\u7684<code>stopPropagation</code>\u65e0\u6cd5\u963b\u6b62\u4e8b\u4ef6\u5728\u771f\u6b63\u5143\u7d20\u4e0a\u7684\u4f20\u9012\uff0c\u5b83\u53ea\u963b\u6b62\u5408\u6210\u4e8b\u4ef6\u4e2d\u7684\u4e8b\u4ef6\u6d41\u3002==\u76f8\u53cd\uff0c\u5982\u679c\u6211\u4eec\u5728\u7ea2\u8272\u7684<code>div</code>\u4e0a\uff0c\u7ed1\u5b9a\u4e00\u4e2a\u771f\u6b63\u7684\u4e8b\u4ef6\uff0c\u90a3\u4e48\uff0c\u5408\u6210\u4e8b\u4ef6\u5219\u4f1a\u88ab\u7ec8\u6b62\u3002</p> <p></p>"},{"location":"react/React%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/#_5","title":"\u4e8b\u4ef6\u5bf9\u8c61","text":"<p>\u5728<code>SyntheticEvent</code>\u4e2d\uff0c\u6211\u4eec\u4f9d\u7136\u53ef\u4ee5\u83b7\u53d6\u5230\u4e8b\u4ef6\u53d1\u751f\u65f6\u7684<code>event</code>\u5bf9\u8c61\uff1a</p> <pre><code>import React, { Component } from \"react\"\nimport ReactDOM from \"react-dom\"\n\nclass App extends Component {\n\n  state = {\n    x: 0,\n    y: 0\n  }\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;div\n          style={styles[\"DEBUG_DISPLAY\"]}\n          onClick={e =&gt; {\n            console.log(e)\n          }}\n          &gt;\n          x: {this.state.x}\uff0cy: {this.state.y}\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nReactDOM.render(&lt;App /&gt;, document.querySelector(\"#root\"));\n</code></pre> <p>\u4ee5\u4e0a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u7ed9<code>div</code>\u5143\u7d20\u7ed1\u5b9a\u4e86\u4e00\u4e2a<code>click</code>\u4e8b\u4ef6\uff0c\u5728\u7528\u6237\u70b9\u51fb\u65f6\uff0c\u5728\u63a7\u5236\u53f0\u8f93\u51fa<code>event</code>\u5bf9\u8c61\uff1a</p> <p>\u63a5\u4e0b\u6765\u5c06\u7528\u6237\u70b9\u51fb\u65f6\u7684\u5750\u6807\u5728<code>div</code>\u5143\u7d20\u4e2d\u663e\u793a\u51fa\u6765\uff0c\u53ef\u4ee5\u901a\u8fc7<code>clientX</code>\u548c<code>clientY</code>\u6765\u8bbf\u95ee\uff1a</p> <pre><code>&lt;div\n    style={styles[\"DEBUG_DISPLAY\"]}\n    onClick={e =&gt; {\n        this.setState({\n            x: e.clientX,\n            y: e.clientY\n        });\n    }}\n    &gt;\n    x: {this.state.x}\uff0cy: {this.state.y}\n&lt;/div&gt;\n</code></pre> <p>\u5408\u6210\u4e8b\u4ef6\u4e2d\u7684<code>event</code>\u5bf9\u8c61\uff0c\u5e76\u4e0d\u662f\u539f\u751f\u7684<code>event</code>\uff0c\u53ea\u662f\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5b83\u83b7\u53d6\u5230\u539f\u751f<code>event</code>\u5bf9\u8c61\u4e0a\u7684\u67d0\u4e9b\u5c5e\u6027\uff0c\u6bd4\u5982\u4ee5\u4e0a\u793a\u4f8b\u4e2d\u7684<code>clientX</code>\u548c<code>clientY</code>\u3002\u800c\u4e14\uff0c\u5bf9\u4e8e\u8fd9\u4e2a<code>event</code>\u5bf9\u8c61\uff0c\u5728\u6574\u4e2a\u5408\u6210\u4e8b\u4ef6\u4e2d\uff0c\u53ea\u6709\u4e00\u4e2a\uff0c\u88ab\u5168\u5c40\u5171\u4eab\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u8fd9\u6b21\u4e8b\u4ef6\u8c03\u7528\u5b8c\u6210\u4e4b\u540e\uff0c\u8fd9\u4e2a<code>event</code>\u5bf9\u8c61\u4f1a\u88ab\u6e05\u7a7a\uff0c\u7b49\u5f85\u4e0b\u4e00\u6b21\u7684\u4e8b\u4ef6\u89e6\u53d1\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u65e0\u6cd5\u5728\u5f02\u6b65\u7684\u64cd\u4f5c\u4e2d\u83b7\u53d6\u5230<code>event</code>\uff1a</p> <pre><code>&lt;div\n    style={styles[\"DEBUG_DISPLAY\"]}\n    onClick={e =&gt; {\n        setTimeout(() =&gt; {\n            this.setState({\n                x: e.clientX,\n                y: e.clientY\n            });\n        }, 1000);\n    }}\n    &gt;\n    x: {this.state.x}\uff0cy: {this.state.y}\n&lt;/div&gt;\n</code></pre> <p>\u5f53\u7528\u6237\u70b9\u51fb<code>div</code>\uff0c<code>1</code>\u79d2\u4e4b\u540e\u83b7\u53d6\u70b9\u51fb\u65f6\u7684\u5750\u6807\uff0c\u8fd9\u65f6\uff0c\u53ef\u4ee5\u770b\u5230\u63a7\u5236\u53f0\u629b\u51fa\u9519\u8bef\uff1a</p> <p></p> <p>\u5728\u5f02\u6b65\u64cd\u4f5c\u4e2d\u60f3\u8981\u83b7\u53d6<code>event</code>\u5bf9\u8c61\u4e2d\u7684\u6570\u636e\uff0c\u5728\u4e8b\u4ef6\u53d1\u751f\u65f6\u5c31\u9700\u8981\u5c06\u6570\u636e\u901a\u8fc7\u53d8\u91cf\u4fdd\u5b58\u4e0b\u6765\uff1a</p> <pre><code>&lt;div\n    style={styles[\"DEBUG_DISPLAY\"]}\n    onClick={e =&gt; {\n        const { clientX, clientY } = e;\n        setTimeout(() =&gt; {\n            this.setState({\n                x: clientX,\n                y: clientY\n            });\n        }, 1000);\n    }}\n    &gt;\n    x: {this.state.x}\uff0cy: {this.state.y}\n&lt;/div&gt;\n</code></pre>"},{"location":"react/React%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/#_6","title":"\u6df7\u5408\u4f7f\u7528","text":"<p><code>react</code>\u9f13\u52b1\u6211\u4eec\u4f7f\u7528\u5408\u6210\u4e8b\u4ef6\uff0c\u4f46\u662f\uff0c\u5728\u67d0\u4e9b\u9700\u6c42\u4e2d\uff0c\u8fd8\u662f\u9700\u8981\u901a\u8fc7\u539f\u751f\u4e8b\u4ef6\u6765\u8fdb\u884c\u5904\u7406\uff0c\u8fd9\u65f6\uff0c\u5c31\u6d89\u53ca\u5230\u5408\u6210\u4e8b\u4ef6\u548c\u539f\u751f\u4e8b\u4ef6\u7684\u6df7\u5408\u4f7f\u7528\uff0c\u4f8b\u5982\u4ee5\u4e0b\u793a\u4f8b\uff1a</p> <pre><code>import React, { Component } from \"react\"\nimport ReactDOM from \"react-dom\"\n\nclass App extends Component {\n\n  state = {\n    isShow: \"none\"\n  }\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;button\n          onClick={() =&gt; {\n            this.setState({\n              isShow: \"block\"\n            });\n          }}\n        &gt;\u70b9\u51fb\u663e\u793a&lt;/button&gt;\n        &lt;div style={{\n          display: this.state.isShow,\n          width: \"100px\",\n          height: \"100px\",\n          backgroundColor: \"red\"\n        }}&gt;&lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nReactDOM.render(&lt;App /&gt;, document.querySelector(\"#root\"));\n</code></pre> <p>\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u63d0\u4f9b\u4e00\u4e2a\u6309\u94ae\u548c\u4e00\u4e2a<code>div</code>\u5143\u7d20\uff0c\u5f53\u7528\u6237\u70b9\u51fb\u6309\u94ae\u65f6\uff0c\u663e\u793a<code>div</code>\uff0c\u5f53\u70b9\u51fb\u9875\u9762\u5176\u4ed6\u533a\u57df\u65f6\uff0c\u5219\u9690\u85cf\u3002\u4ee5\u4e0a\u4ee3\u7801\u5df2\u7ecf\u5b9e\u73b0\u70b9\u51fb\u6309\u94ae\u663e\u793a<code>div</code>\u7684\u529f\u80fd\uff1a</p> <p></p> <p>\u8981\u5b9e\u73b0 \u70b9\u51fb\u5176\u4ed6\u533a\u57df\u9690\u85cf<code>div</code>\u5143\u7d20 \u7684\u529f\u80fd\uff0c\u9700\u8981\u5c06\u4e8b\u4ef6\u7ed1\u5b9a\u5728<code>document</code>\u5143\u7d20\u4e0a\uff0c\u63a5\u4e0b\u6765\uff0c\u5728<code>compnentDidMount</code>\u751f\u547d\u5468\u671f\u51fd\u6570\u4e2d\uff0c\u6765\u7ed1\u5b9a\u8be5\u4e8b\u4ef6\uff1a</p> <pre><code>class App extends Component {\n\n  state = {\n    ...\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"click\", e =&gt; {\n        this.setState({\n            isShow: \"none\"\n        });\n    })\n  }\n\n  render() {\n    ...\n  }\n}\n</code></pre> <p>\u5f53\u70b9\u51fb\u6309\u94ae\u65f6\uff0c<code>isShow: \"block\"</code>\uff0c\u5f53\u70b9\u51fb\u5176\u4ed6\u533a\u57df\u65f6\uff0c<code>isShow: \"none\"</code>\u3002\u8fd9\u65f6\u6211\u4eec\u53d1\u73b0\uff0c\u70b9\u51fb\u6309\u94ae\u65f6\uff0c<code>div</code>\u663e\u793a\u4e0d\u51fa\u6765\u4e86\u3002</p> <p></p> <p>\u8fd9\u4e2a\u73b0\u8c61\u7684\u539f\u56e0\u662f\uff0c\u5b9e\u9645\u4e0a\uff0c\u5728<code>document</code>\u5143\u7d20\u8eab\u4e0a\uff0c\u73b0\u5728\u5df2\u7ecf\u5b58\u5728<code>2</code>\u4e2a<code>click</code>\u4e8b\u4ef6\uff0c\u4e00\u4e2a\u662f\u5408\u6210\u4e8b\u4ef6\u7ed1\u5b9a\u7684<code>click</code>\uff0c\u53e6\u5916\u4e00\u4e2a\u662f\u6211\u4eec\u81ea\u5df1\u6dfb\u52a0\u7684\u76d1\u542c\u5668\u3002\u5f53\u7528\u6237\u70b9\u51fb\u6309\u94ae\u65f6\uff0c<code>synthetic</code>\u4e2d\u7684<code>click</code>\u9996\u5148\u88ab\u89e6\u53d1\uff0c\u8fd9\u65f6\uff0c<code>isShow</code>\u72b6\u6001\u88ab\u8bbe\u7f6e\u6210<code>block</code>\uff0c\u9875\u9762\u5143\u7d20\u88ab\u663e\u793a\u51fa\u6765\uff0c\u7d27\u8ddf\u7740\uff0c<code>native</code>\u4e2d\u7684<code>click</code>\u4e8b\u4ef6\u88ab\u89e6\u53d1\uff0c\u53c8\u628a<code>isShow</code>\u7684\u72b6\u6001\u6539\u4e3a<code>none</code>\uff0c<code>div</code>\u5143\u7d20\u53c8\u88ab\u9690\u85cf\u4e86\u8d77\u6765\u3002</p> <p>\u5904\u7406\u65b9\u6cd5\uff1a</p> <pre><code>import React, { Component } from \"react\"\nimport ReactDOM from \"react-dom\"\n\nclass App extends Component {\n\n  state = {\n    isShow: \"none\"\n  }\n\n  button = React.createRef();\n\n  componentDidMount() {\n    document.addEventListener(\"click\", e =&gt; {\n      // \u5f53 native \u4e8b\u4ef6\u88ab\u89e6\u53d1\u65f6\uff0c\u6211\u4eec\u5224\u65ad\u4e00\u4e0b\u5f53\u524d\u76ee\u6807\u5143\u7d20\u662f\u5426\u4e3a button\uff0c\n      // \u5982\u679c\u4e0d\u662f\u70b9\u51fb\u7684\u6309\u94ae\uff0c\u5219\u5c31\u610f\u5473\u7740\u5c06\u5143\u7d20\u9690\u85cf\n      if (e.target !== this.button.current) {\n        this.setState({\n          isShow: \"none\"\n        });\n      }\n    })\n  }\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;button\n          ref={this.button}\n          onClick={() =&gt; {\n            this.setState({\n              isShow: \"block\"\n            });\n          }}\n        &gt;\u70b9\u51fb\u663e\u793a&lt;/button&gt;\n        &lt;div style={{\n          display: this.state.isShow,\n          width: \"100px\",\n          height: \"100px\",\n          backgroundColor: \"red\"\n        }}&gt;&lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nReactDOM.render(&lt;App /&gt;, document.querySelector(\"#root\"));\n</code></pre>"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/","title":"React \u5404\u79cdbug\u548c\u89e3\u7b54","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 14950  \u9605\u8bfb30\u5206\u949f</p>"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug2","title":"BUG2","text":"<pre><code>Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n</code></pre> <p>\u8fd9\u4e2a\u9519\u8bef\u4ece\u7f51\u4e0a\u641c\u7d22\u8bf4\u662f\u56e0\u4e3a\u4f60\u5bfc\u51fa\u7684\u7c7b\u6216\u8005\u51fd\u6570\u5728\u5bfc\u5165\u7684\u65f6\u5019\u65b9\u5f0f\u4e0d\u6b63\u786e\u9020\u6210\u7684\uff0c\u800c\u6211\u4eca\u5929\u9020\u6210\u8fd9\u4e2a\u9519\u8bef\u7684\u539f\u56e0\u662f\uff1a</p> <pre><code>static propTypes = {\n  noDataImgShow:PropTypes.boolean.isRequired\n}\n</code></pre> <p>\u6211\u5199\u7684<code>PropTypes.boolean</code>\u57fa\u672c\u7c7b\u578b\u5f15\u7528\u9519\u8bef\u4e86\uff0cboolean -bool \u9020\u6210\u7684\u3002\u8bb0\u5f97<code>PropTypes</code>\u7684\u57fa\u672c\u7c7b\u578b\u6709\uff1a</p> <pre><code>type = {\n  optionalArray: PropTypes.array,\n  optionalBool: PropTypes.bool,\n  optionalFunc: PropTypes.func,\n  optionalNumber: PropTypes.number,\n  optionalObject: PropTypes.object,\n  optionalString: PropTypes.string,\n  optionalSymbol: PropTypes.symbol,\n};\n</code></pre>"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug4","title":"BUG4","text":"<pre><code>Build failed: The 'decorators' plugin requires a 'decoratorsBeforeExport' option, whose value must be a boolean. If you are migrating from Babylon/Babel 6 or want to use the old decorators proposal, you should use the 'decorators-legacy' plugin instead of 'decorators'.\n</code></pre> <p>https://github.com/ant-design/ant-design-pro/issues/2043</p> <p>\u5b89\u88c5\u5236\u5b9a\u7248\u672c\u7684<code>roadhog</code></p> <pre><code>npm install --save 2.5.0-beta.1\n</code></pre>"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug5","title":"BUG5","text":"<pre><code>Module build failed: ReferenceError: Unknown plugin \"transform-runtime\" specified in \"base\" at 2, attempted to resolve relative to \"C:\\Users\\michael\\Desktop\\company_work\\vitark-web-ui\\src\"\n</code></pre> <p>\u5b89\u88c5\u4f9d\u8d56\uff1a</p> <pre><code> npm install --save babel-plugin-transform-runtime\n</code></pre>"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug6","title":"BUG6","text":"<pre><code>Module build failed: ReferenceError: Unknown plugin \"transform-class-properties\" specified in \"base\" at 4, attempted to resolve relative to \"C:\\Users\\michael\\Desktop\\company_work\\vitark-web-ui\\src\"\n</code></pre> <p>\u9700\u8981\u5b89\u88c5\u4f9d\u8d56\uff1a</p> <pre><code>npm install \nbabel-plugin-transform-class-properties\nbabel-plugin-transform-decorators-legacy\nbabel-plugin-transform-export-extensions\nbabel-plugin-transform-object-rest-spread\nbabel-preset-env\n--save-dev\n</code></pre>"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug7","title":"BUG7","text":"<pre><code>Module not found:Error:Can't resolve '@babel/runtime/helpers/esm/extends'\n</code></pre> <p>\u8fd9\u4e2a\u9519\u8bef\u5751\u7684\u5730\u65b9\u5728\u54ea\u91cc\u5462\uff1f\u662f\u5b83\u7684\u8fd9\u4e2a\u65b9\u6cd5\u53ea\u6709\u8fc7\u53bb\u7684<code>npm</code>\u5305\u91cc\u53ef\u4ee5\u627e\u5230\uff0c\u5982\u679c\u4f60\u7528</p> <pre><code>npm install @babel/runtime --save\nyarn add @babel/runtime\n</code></pre> <p>\u6765\u5b89\u88c5\uff0c\u5b89\u88c5\u7684\u662f\u6700\u65b0\u7684\u5305\uff0c\u7136\u540e\u65b0\u7684\u5305\u91cc\u9762\u5e76\u6ca1\u6709\u8fd9\u4e2a\u5b83\u8981\u627e\u7684\u65b9\u6cd5\uff0c\u6240\u4ee5\u4ecd\u7136\u4f1a\u62a5\u9519\uff0c\u8fd9\u4e2a\u65f6\u5019\u4f60\u5c31\u4f1a\u60f3\uff0c\u6211\u5df2\u7ecf\u5b89\u88c5\u4e86\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u627e\u4e0d\u5230\u3002</p> <p>\u601d\u8def\u6765\u4e86\uff1a\u5982\u679c\u4f60\u5b89\u88c5\u4e86\u5305\u4e86\uff0c\u7136\u540e\u8fd8\u662f\u8bf4\u627e\u4e0d\u5230\u5305\u91cc\u7684\u65b9\u6cd5\u7684\u8bdd\uff0c\u5c31\u8bf4\u660e\u4f60\u9700\u8981\u964d\u7ea7\uff0c\u5b89\u88c5\u5b83\u4e4b\u524d\u7684\u5305</p> <pre><code>npm i @babel/runtime@7.0.0-beta.55 --save\n</code></pre> <p>\u6211\u89c9\u7684\u8fd9\u6761\u601d\u8def\u53ef\u4ee5\u5e94\u5bf9\u6240\u6709\u627e\u4e0d\u5230\u5305\u5185\u90e8\u65b9\u6cd5\u7684\u95ee\u9898\u3002</p>"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug8","title":"BUG8","text":"<pre><code>Failed to minify the bundle. Error: 0.0f3f4c41.async.js from UglifyJs\n</code></pre> <p>\u901a\u5e38 webpack \u5728\u6784\u5efa\u65f6\uff0c\u662f\u4e0d\u4f1a\u8ba9 node_modules \u4e0b\u7684\u6587\u4ef6\u8d70 babel tranpile \u7684\uff0c\u4e00\u662f\u4f1a\u6162\u5f88\u591a\uff0c\u4e8c\u662f babel@6 \u65f6\u7f16\u8bd1\u7f16\u8bd1\u8fc7\u7684\u4ee3\u7801\u4f1a\u4e0d\u5b89\u5168\uff08\u636e\u8bf4 babel@7 \u4e0b\u6ca1\u95ee\u9898\u4e86\uff09\uff0c\u6240\u4ee5\u4e1a\u754c\u6709\u4e2a\u6f5c\u5728\u7684\u7ea6\u5b9a\uff0cnpm \u5305\u53d1\u5e03\u524d\u9700\u8981\u5148\u7528 babel \u8f6c\u51fa\u4e00\u4efd es5 \u7684\u4ee3\u7801\u3002</p> <p>\u4f46\u662f\u6709\u4e9b npm \u5305\u4e0d\u9075\u5b88\u8fd9\u4e2a\u7ea6\u5b9a\uff0c\u6ca1\u6709\u8f6c\u6210 es5 \u5c31\u53d1\u4e0a\u53bb\uff0c\u6bd4\u5982 query-string@6\u3002\u7136\u540e\u538b\u7f29\u5de5\u5177 uglify \u53c8\u53ea\u652f\u6301 es5 \u7684\u8bed\u6cd5\uff0c\u9047\u5230 <code>const</code>\u3001<code>let</code>\u3001<code>()=&gt;</code> \u7c7b\u4f3c\u7684\u8bed\u6cd5\uff0c\u5c31\u629b\u9519\u4e86\u3002</p> <p>\u539f\u6587\u770b\u8fd9\u91cc\u7684async.js from UglifyJs</p>"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug","title":"BUG","text":"<pre><code>doctor_third.bundle.js:55 Uncaught TypeError: Cannot read property 'call' of undefined\n    at __webpack_require__ (doctor_third.bundle.js:55)\n    at Object.&lt;anonymous&gt; (zrk_doctor_doctor_root.bundle.js:22679)\n    at __webpack_require__ (doctor_third.bundle.js:55)\n    at webpackJsonpCallback (doctor_third.bundle.js:26)\n    at zrk_doctor_doctor_root.bundle.js:1\n__webpack_require__ @ doctor_third.bundle.js:55\n(anonymous) @ zrk_doctor_doctor_root.bundle.js:22679\n__webpack_require__ @ doctor_third.bundle.js:55\nwebpackJsonpCallback @ doctor_third.bundle.js:26\n(anonymous) @ zrk_doctor_doctor_root.bundle.js:1\n</code></pre> <p>\u9020\u6210\u7684\u539f\u56e0\u548c\u4e0a\u9762\u7684\u9519\u8bef\u5b8c\u5168\u6ca1\u6709\u5173\u7cfb\uff0c\u662f\u56e0\u4e3a<code>/public/index.html</code>\u4e0b\u9762<code>js</code>\u6587\u4ef6\u7684\u5f15\u7528\u4e0d\u5bf9\u3002</p> <pre><code>&lt;script type=\"text/javascript\"&gt;\n    document.write(\"&lt;script language='javascript' src='\"+getStaticFileHost()+\"/static/js/jquery-2.1.4.min.js'&gt;&lt;\\/script&gt;\");\n    document.write(\"&lt;script language='javascript' src='\"+getStaticFileHost()+\"/static/js/mobiscroll.custom-3.0.0-beta2.min.js'&gt;&lt;\\/script&gt;\");\n    document.write(\"&lt;script language='javascript' src='\"+getStaticFileHost()+\"/static/js/jweixin-1.2.0.js'&gt;&lt;\\/script&gt;\");\n    document.write(\"&lt;script language='javascript' src='\"+getStaticFileHost()+\"/static/js/react/zrk_doctor_commons.bundle.js'&gt;&lt;\\/script&gt;\");\n    document.write(\"&lt;script language='javascript' src='\"+getStaticFileHost()+\"/static/js/react/zrk_doctor_doctor_root.bundle.js'&gt;&lt;\\/script&gt;\");\n&lt;/script&gt;\n</code></pre>"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_1","title":"BUG","text":"<pre><code>Uncaught (in promise) Error: Objects are not valid as a React child (found: object with keys {status}). If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.\n    at invariant (invariant.js:44)\n    at traverseAllChildrenImpl (traverseAllChildren.js:144)\n    at traverseAllChildren (traverseAllChildren.js:172)\n    at Object.instantiateChildren (ReactChildReconciler.js:70)\n    at ReactDOMComponent._reconcilerInstantiateChildren (ReactMultiChild.js:187)\n    at ReactDOMComponent.mountChildren (ReactMultiChild.js:226)\n    at ReactDOMComponent._createInitialChildren (ReactDOMComponent.js:697)\n    at ReactDOMComponent.mountComponent (ReactDOMComponent.js:516)\n    at Object.mountComponent (ReactReconciler.js:46)\n    at ReactDOMComponent.mountChildren (ReactMultiChild.js:238)\n</code></pre> <p>\u89e3\u51b3\u529e\u6cd5\uff1a</p> <pre><code>https://stackoverflow.com/questions/34919111/how-to-debug-this-error-uncaught-in-promise-error-objects-are-not-valid-as-a\n</code></pre>"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_2","title":"BUG","text":"<p>Babel 6 regeneratorRuntime is not defined</p> <p>\u89e3\u51b3\u529e\u6cd5\uff1a</p> <p>\u9996\u5148babel\u57fa\u7840\u5305(\u4e0d\u5b89\u88c5\u989d\u5916\u4e1c\u897f)\u5e76\u4e0d\u662f\u652f\u6301\u5b8c\u6574\u7684es6\u8bed\u8a00\uff0c\u52a0\u4e0a\u6d4f\u89c8\u5668\u4e5f\u4e0d\u662f\u652f\u6301\u6240\u6709\u7684es6\u8bed\u8a00\uff0c\u5982\u679c\u4f60\u5199\u7684es6\u8bed\u8a00\u521a\u597d\u649e\u4e0a\u8fd9\u6837\u7684\u60c5\u51b5\u4e86.</p> <pre><code>\u90a3\u4e48\u5c31\u9700\u8981babel\u7684\u62d3\u5c55\u5305(Polyfill),\u7f51\u5740\u94fe\u63a5\u63cf\u8ff0\n\n\u8fd9\u662f\u4e00\u4e2a\u8865\u5b8cbabel\u652f\u6301es6\u7684\u62d3\u5c55\u5305\uff0c\u914d\u7f6e\u6b65\u9aa4\u4e3a3\u4e2a\n1.\u6253\u5f00\u547d\u4ee4\u884c\u952e\u5165 npm install --save-dev babel-polyfill \u5b89\u88c5polyfill\n2.\u5728webpack.config.js\u4e2d\u6700\u4e0a\u9762\u5199\u4e0avar babelpolyfill = require(\"babel-polyfill\");\n3.\u5728\u81ea\u5df1\u7684\u9879\u76eejs\u6587\u4ef6\u4e2d\u6700\u5f00\u5934\u5199\u4e0aimport \"babel-polyfill\";\n</code></pre> <p>\u4e0a\u9762\u662f\u7f51\u4e0a\u7684\u89e3\u51b3\u7248\u672c\u3002 \u94fe\u63a5: ES6 \u5199\u6cd5\u62a5\u9519regeneratorRuntime is not defined \u6269\u5c55: StackOverFlow Babel 6 regeneratorRuntime is not defined \u6211\u8fd9\u8fb9\u7684\u89e3\u51b3\u529e\u6cd5</p> <pre><code>        recordPatientBitrth: [\"regenerator-runtime/runtime\", path.join(PATHS.entry, 'RecordPatientBirth.js')],\n</code></pre> <p>\u5728\u5165\u53e3\u7684\u5730\u65b9\u6dfb\u52a0regenerator-runtime/runtime\u4ee5\u7533\u660e\uff01</p>"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_3","title":"BUG","text":"<p>Cannot read property 'split' of undefine</p> <p>\u8fd9\u4e2a\u95ee\u9898\u4f60\u5e94\u8be5\u8c03\u7528\u8c03\u7528\u7684split\u662f\u5426\u4e3a\u7a7a\uff0c\u7a7a\u7684\u8bdd\u5c31\u4f1a\u62a5\u9519\uff0c\u5c31\u50cf\u4e0b\u9762\u7684\u4f8b\u5b50\uff0citem.body\u4e3a\u7a7a\u5c31\u4f1a\u62a5\u8fd9\u4e2a\u9519\uff0c\u6069\uff0c\u4f4e\u7ea7\u9519\u8bef\u3002</p> <pre><code>let arr = item.body.splic(',');\n</code></pre>"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_4","title":"BUG","text":"<pre><code>rror: Couldn't find preset \"env\" relative to directory \"/Users/name/plugin/7ada6103-7315-4c24-93f3-4a3a6a0fa7ee\"\n    at /Users/name/project/node_modules/babel-core/lib/transformation/file/options/option-manager.js:293:19\n    at Array.map (native)\n    at OptionManager.resolvePresets (/Users/name/project/node_modules/babel-core/lib/transformation/file/options/option-manager.js:275:20)\n    at OptionManager.mergePresets (/Users/name/project/node_modules/babel-core/lib/transformation/file/options/option-manager.js:264:10)\n    at OptionManager.mergeOptions (/Users/name/project/node_modules/babel-core/lib/transformation/file/options/option-manager.js:249:14)\n    at OptionManager.init (/Users/name/project/node_modules/babel-core/lib/transformation/file/options/option-manager.js:368:12)\n    at File.initOptions (/Users/name/project/node_modules/babel-core/lib/transformation/file/index.js:216:65)\n    at new File (/Users/name/project/node_modules/babel-core/lib/transformation/file/index.js:139:24)\n    at Pipeline.transform (/Users/name/project/node_modules/babel-core/lib/transformation/pipeline.js:46:16)\n    at BabelCompiler.compileSync (/Users/name/project/node_modules/electron-compilers/lib/js/babel.js:76:26)\n</code></pre> <p>\u89e3\u51b3\u65b9\u6848\uff1astackOverFlow</p>"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#bug_5","title":"BUG","text":"<p>VM20008:7 Warning: setState(...): Cannot update during an existing state transition (such as within <code>render</code> or another component's constructor). Render methods should be a pure function of props and state; constructor side-effects are an anti-pattern, but can be moved to <code>componentWillMount</code>.</p> <p>\u8fd9\u4e2a\u9519\u8bef\u7684\u51fa\u73b0\u5f80\u5f80\u90fd\u662f\u76f4\u63a5\u6d4f\u89c8\u5668\u76f4\u63a5\u5361\u7206\u4e86\uff0c\u51fa\u73b0\u95ee\u9898\u7684\u539f\u56e0\u5176\u5b9e\u975e\u5e38\u7b80\u5355\u3002</p> <p>\u4f60\u5728render\u65b9\u6cd5\u91cc\u9762\u8fdb\u884c\u4e86state\u7684\u64cd\u4f5c\uff0c\u9020\u6210\u7684\u7ed3\u679c\u5c31\u662f\u4e00\u76f4\u5728\u4e0d\u65ad\u7684render\uff0c\u503c\u5f97\u5361\u7206\uff01</p> <p>\u8fd8\u6709\u4e00\u4e2a\u9519\u8bef\u4e5f\u662f\u63cf\u8ff0\u8fd9\u4e2a\u7684\u3002</p> <pre><code>ReactDebugTool.js:173 Uncaught (in promise) RangeError: Maximum call stack size exceeded\n   at resumeCurrentLifeCycleTimer (ReactDebugTool.js:173)\n   at ReactReconcileTransaction.onEndFlush (ReactDebugTool.js:280)\n   at ReactReconcileTransaction.closeAll (Transaction.js:206)\n   at ReactReconcileTransaction.perform (Transaction.js:153)\n   at ReactUpdatesFlushTransaction.perform (Transaction.js:140)\n   at ReactUpdatesFlushTransaction.perform (ReactUpdates.js:89)\n   at flushBatchedUpdates (ReactUpdates.js:172)\n   at ReactUpdatesFlushTransaction.close (ReactUpdates.js:47)\n   at ReactUpdatesFlushTransaction.closeAll (Transaction.js:206)\n   at ReactUpdatesFlushTransaction.perform (Transaction.js:153)\n</code></pre> <p>\u4e0b\u9762\u662f\u9519\u8bef\u4ee3\u7801\uff1a</p> <pre><code>&lt;Modal\n       visible={this.state.visible}\n       onClose={this.onClickCloseImage()}\n       transparent\n       className = 'doctor_show_layout'\n       &lt;div className=\"doctor_show_layout\"&gt;\n           &lt;img src={default_avatar}/&gt;\n      &lt;/div&gt;\n&lt;/Modal&gt;\n</code></pre> <p>\u6bd4\u5982\u4f60\u5728\u4e00\u4e2aModal\u91cc\u76f4\u63a5\u8c03\u7528\u65b9\u6cd5<code>onClose={this.onClickCloseImage()}</code>,\u7136\u540e\u5728\u8fd9\u4e2a\u65b9\u6cd5\u91cc\u8fd8\u4fee\u6539\u4e86<code>state</code>:</p> <pre><code>onClickCloseImage(){\n    this.setState({\n      visible: false\n    });\n  }\n</code></pre> <p>\u63a5\u7740\u5c31\u662f\u7206\u70b8\u4e86\u3002\u89e3\u51b3\u7684\u529e\u6cd5\u5f88\u7b80\u5355\u3002</p> <pre><code>onClose={this.onClickCloseImage.bind(this)}\n</code></pre> <p>\u6539\u8c03\u7528\u4e3a\u7ed1\u5b9a\uff0c\u6216\u8005\u5982\u679c\u4f60\u5728\u6784\u9020\u51fd\u6570<code>constructor</code>\u91cc\u8fdb\u884c\u4e86\u7ed1\u5b9a</p> <pre><code>this.onClickCloseImage = this.onClickCloseImage.bind(this)\n</code></pre> <p>\u90a3\u4e0b\u9762\u8c03\u7528\u7684\u5730\u65b9\u5c31\u6539\u6210\u4f20\u51fd\u6570\u540d.</p> <pre><code>&lt;Modal\n       visible={this.state.visible}\n       onClose={this.onClickCloseImage}\n       transparent\n       className = 'doctor_show_layout'&gt;\n       &lt;div className=\"doctor_show_layout\"&gt;\n             &lt;img src={default_avatar}/&gt;\n       &lt;/div&gt;\n&lt;/Modal&gt;\n</code></pre>"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#typeerror","title":"TypeError","text":"<p>undefined is not a function (evaluating '_iteratortypeof Symbol === 'function' ? Symbol.iterator : '@@iterator'')</p> <p>\u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\u662f\u56e0\u4e3a<code>react native</code>\u4e0d\u652f\u6301\u904d\u5386\u7684\u95ee\u9898\uff0c\u4f8b\u5982\u4e0b\u9762\u7684\u4ee3\u7801\uff1a</p> <pre><code>for (let [index, data] of current_month_data.entries()) {\n            for (let value of data) {\n                if ( value.day === this.props.day &amp;&amp;\n                    value.month === this.props.month ) {\n                    return index;\n                }\n            }\n        }\n</code></pre> <p>\u4f60\u9700\u8981\u628a\u5b83\u6539\u6210\u4f20\u7edf\u7684<code>for</code>\u5faa\u73af\u5c31\u597d\u4e86\uff1a</p> <pre><code>for(let i = 0;i&lt;current_month_data.length;i++){\n            let value = current_month_data[i];\n            if(value.day === this.props.day &amp;&amp; value.month === this.props.month){\n                return i;\n            }\n        }\n</code></pre>"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#error-command-failed-yarn-add-react-native-exact","title":"Error: Command failed: yarn add react-native --exact \u521d\u59cb\u5316\u9519\u8bef","text":"<p>\u89e3\u51b3\u65b9\u6848\uff1a</p> <pre><code>npm config set registry https://registry.npm.taobao.org\nnpm config set disturl https://npm.taobao.org/dist\n</code></pre> <p>\u5982\u679c\u4e0d\u884c\uff0c\u6211\u4eec\u53ef\u4ee5\u5728init\u7684\u65f6\u5019\u5236\u5b9a\u7248\u672c\u53f7\uff0c\u5c31\u50cf\u8fd9\u6837\uff1a</p> <pre><code>react-native init demo --verbose --version 0.38.0\n</code></pre>"},{"location":"react/React%20%E5%90%84%E7%A7%8Dbug%20%E4%BC%9A%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0/#error","title":"Error","text":"<p>JSON value '' of type NSNull cannot be converted to NSString <p>google\u641c\u7d22\u51fa\u6765\u7684\u7b54\u6848</p> <p>\u8bdd\u8bf4\u73b0\u5728\u767e\u5ea6\u771f\u662f\u8d8a\u6765\u8d8a\u5815\u843d\u4e86\uff0c\u7b80\u76f4\u4e0d\u80fd\u5fcd\u554a\u3002</p> <p>\u51fa\u8fd9\u4e2a\u95ee\u9898\u662f\u6211\u4eec\u4e0d\u80fd\u628a\u503c<code>null</code>\u8f6c\u4e3a<code>string</code>,\u6240\u4ee5\u62a5\u9519\u4e86\uff0c\u5904\u7406\u4e5f\u975e\u5e38\u7b80\u5355\uff0c\u53ea\u9700\u8981\u5224\u65ad\u662f\u5426\u4e3a\u7a7a\uff0c\u5c31\u53ef\u4ee5\u641e\u5b9a\uff0c\u6211\u4eec \u7ecf\u5e38\u53d1\u751f\u8fd9\u4e2a\u9519\u8bef\u7684\u5730\u65b9\u5c31\u662f:</p> <pre><code> &lt;Image style={styles.image_style} source={{uri:avatar}}&gt;&lt;/Image&gt;\n</code></pre> <p>\u5982\u679c\u8fd9\u4e2a\u503c\u662f<code>null</code>,\u90a3\u4e48\u5c31\u4f1a\u62a5\u8fd9\u4e2a\u9519\u8bef\u3002 \u8fd9\u91cc\u4e5f\u5206\u4eab\u7ed9\u5927\u5bb6\u4e00\u4e2a\u6211\u4eec\u7528\u7684\u5de5\u5177\uff0c\u53ef\u4ee5\u7528\u6765\u5224\u65ad\u662f\u5426\u4e3a\u7a7a\uff1a</p> <pre><code>/**\n * \u5224\u65ad\u662f\u5426\u4e3a\u7a7a\n */\nexport default class StringUtils {\n\n  isEmpty(str) {\n    let flag = false;\n    if (!str || str &amp;&amp; this.isNull(str) || !this.removeAllSpaces(str)) {\n      flag = true;\n    }\n    return flag;\n  }\n\n  //\u5224\u65ad\u662f\u5426\u6709\u7a7a\n  isNull(str) {\n    if (str === \"\") return true;\n    let regu = \"^[ ]+$\";\n    let re = new RegExp(regu);\n    return re.test(str);\n  }\n\n  //\u83b7\u53d6\u4e2d\u6587\u72b6\u6001\u4e0b\u83b7\u53d6\u540e\u4e24\u4f4d\u5426\u5219\u524d\u4e24\u4f4d\n  getNameSubstr(str) {\n    if (str) {\n\n      if (!this.isChinese(str)) {\n        if (str.length &gt;= 2) {\n          return str.substr(str.length - 2, 2)\n        } else {\n          return str.substr(str.length - 1, 1)\n        }\n      } else {\n        if (str.length &gt;= 2) {\n          return str.substr(0, 2)\n        } else {\n          return str.substr(0, 1)\n        }\n      }\n    } else {\n      return '';\n    }\n  }\n\n  //\u5224\u65ad\u662f\u5426\u4e2d\u6587\u548c\u82f1\u6587\n  isChinese(str) {\n    if (/.*[\\u4e00-\\u9fa5]+.*$/.test(str)) {\n      return false;\n    }\n    return true;\n  }\n\n  /***\n     * \u53bb\u9664\u6240\u6709\u7a7a\u683c\n     * @param str\n     * @returns {string}\n     */\n  removeAllSpaces(str) {\n    try {\n      return str.replace(/\\s+/g, \"\")\n    } catch (e) {\n      return ''\n    }\n  }\n\n  /***\n     * \u53bb\u9664\u4e24\u5934\u7a7a\u683c\n     * @param str\n     * @returns {string}\n     */\n  removeBothSpaces(str) {\n    try {\n      return str.replace(/^\\s+|\\s+$/g, \"\")\n    } catch (e) {\n      return ''\n    }\n  }\n}\n\nglobal.StringUtils = new StringUtils();\n</code></pre>"},{"location":"react/React%20%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E7%AC%94%E8%AE%B0/","title":"React \u5b98\u65b9\u6587\u6863\u7b14\u8bb0","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6141  \u9605\u8bfb13\u5206\u949f</p> <p>2024-01 \u518d\u6b21\u5b66\u4e60</p> <p>\u5728\u7ebf\u6587\u6863\u94fe\u63a5\uff1ahttps://zh-hans.react.dev/learn/installation</p> <p>\u4e2d\u6587\u6587\u6863\u4e0b\u8f7d\uff1ahttps://github.com/reactjs/zh-hans.react.dev</p> <p>\u6700\u65b0\u7a33\u5b9a\u7248\u7248\u672c\uff1a18.2.0 (June 14, 2022)</p> <p>React \u662f\u4e00\u4e2a UI view \u6e32\u67d3\u6846\u67b6\uff0c\u4e0d\u5904\u7406\u6570\u636e\u7ba1\u7406\u548c\u5b58\u50a8\uff0c\u8fd9\u90e8\u5206\u9700\u8981\u5176\u4ed6\u7684\u5e93\u5b9e\u73b0\u3002</p> <p>\u901a\u8fc7\u6700\u65b0\u6587\u6863\uff0c\u5206\u6790\u73b0\u5728\u81ea\u5df1\u9700\u8981\u5b66\u7684\u4e1c\u897f\uff0c\u5206\u6790\u73b0\u5728\u9879\u76ee\u4e2d\u9700\u8981\u6539\u8fdb\u7684\u4e1c\u897f\u3002</p>"},{"location":"react/React%20%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E7%AC%94%E8%AE%B0/#_1","title":"\u5feb\u901f\u5165\u95e8","text":"<p>\u5b98\u65b9\u5df2\u7ecf\u9ed8\u8ba4\u4f7f\u7528 \u51fd\u6570\u7ec4\u4ef6 + hook \u5b9e\u73b0\u7ec4\u4ef6\u5185\u90e8\u72b6\u6001\uff0c\u6ca1\u6709\u4f7f\u7528\u7c7b\u7ec4\u4ef6\u3002</p> <p>Hook \u6bd4\u666e\u901a\u51fd\u6570\u66f4\u4e3a\u4e25\u683c\u3002\u4f60\u53ea\u80fd\u5728\u4f60\u7684\u7ec4\u4ef6\uff08\u6216\u5176\u4ed6 Hook\uff09\u7684 \u9876\u5c42 \u8c03\u7528 Hook\u3002\u5982\u679c\u4f60\u60f3\u5728\u4e00\u4e2a\u6761\u4ef6\u6216\u5faa\u73af\u4e2d\u4f7f\u7528 <code>useState</code>\uff0c\u8bf7\u63d0\u53d6\u4e00\u4e2a\u65b0\u7684\u7ec4\u4ef6\u5e76\u5728\u7ec4\u4ef6\u5185\u90e8\u4f7f\u7528\u5b83\u3002</p> <p>\u5728\u7b80\u5355\u7684\u4f8b\u5b50\u4e2d\uff0c\u81ea\u4e0a\u800c\u4e0b\u6784\u5efa\u901a\u5e38\u66f4\u7b80\u5355\uff1b\u800c\u5728\u5927\u578b\u9879\u76ee\u4e2d\uff0c\u81ea\u4e0b\u800c\u4e0a\u6784\u5efa\u66f4\u7b80\u5355\u3002</p> <p>\u5982\u4f55\u8fdb\u884c\u529f\u80fd\u5f00\u53d1\uff1f\u539f\u578b\u8bbe\u8ba1\u7a3f\u2014\u2014\u9759\u6001\u7ec4\u4ef6\u2014\u2014\u81ea\u8eabstate\u5b8c\u5584\u2014\u2014props \u4ea4\u4e92\u4fee\u6539</p>"},{"location":"react/React%20%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E7%AC%94%E8%AE%B0/#_2","title":"\u5b89\u88c5","text":"<p>\u5982\u679c\u4f60\u60f3\u5b8c\u5168\u7528 React \u6784\u5efa\u4e00\u4e2a\u65b0\u7684\u5e94\u7528\u6216\u7f51\u7ad9\uff0c\u6211\u4eec\u5efa\u8bae\u9009\u62e9\u793e\u533a\u4e2d\u6d41\u884c\u7684\u3001\u7531 React \u9a71\u52a8\u7684\u6846\u67b6\u3002\u8fd9\u4e9b\u6846\u67b6\u63d0\u4f9b\u5927\u591a\u6570\u5e94\u7528\u548c\u7f51\u7ad9\u6700\u7ec8\u9700\u8981\u7684\u529f\u80fd\uff0c\u5305\u62ec\u8def\u7531\u3001\u6570\u636e\u83b7\u53d6\u548c\u751f\u6210 HTML\u3002</p> <p>Next.js \uff1aNext.js \u662f\u4e00\u4e2a\u5168\u6808\u5f0f\u7684 React \u6846\u67b6\u3002\u5b83\u7528\u9014\u5e7f\u6cdb\uff0c\u53ef\u4ee5\u8ba9\u4f60\u521b\u5efa\u4efb\u610f\u89c4\u6a21\u7684 React \u5e94\u7528\u2014\u2014\u53ef\u4ee5\u662f\u9759\u6001\u535a\u5ba2\uff0c\u4e5f\u53ef\u4ee5\u662f\u590d\u6742\u7684\u52a8\u6001\u5e94\u7528\u3002\u8bf7\u67e5\u770b Next.js \u8bfe\u7a0b\u3002Next.js \u56e2\u961f\u5df2\u7ecf\u540c\u610f\u4e0e\u6211\u4eec\u5408\u4f5c\uff0c\u7814\u7a76\u3001\u5f00\u53d1\u3001\u96c6\u6210\u548c\u6d4b\u8bd5\u4e0e\u6846\u67b6\u65e0\u5173\u7684 React \u524d\u6cbf\u529f\u80fd\uff0c\u5982 React \u670d\u52a1\u5668\u7ec4\u4ef6\u3002\u5b98\u65b9\u63a8\u8350\u3002\u5176\u4ed6\u7684\u8fd8\u6709 remix\u3001Gatsby \u6846\u67b6\uff0c\u4f7f\u7528\u4e0d\u591a\u3002</p> <p>\u6211\u53ef\u4ee5\u5728\u6ca1\u6709\u6846\u67b6\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528 React \u5417\uff1f\u4f60\u5f53\u7136\u53ef\u4ee5\u5728\u6ca1\u6709\u6846\u67b6\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528 React\u2014\u2014\u8fd9\u5c31\u662f \u5c06 React \u7528\u4e8e\u4f60\u9875\u9762\u7684\u4e00\u90e8\u5206\u3002\u4f46\u662f\uff0c\u5982\u679c\u4f60\u8981\u7528 React \u6784\u5efa\u4e00\u4e2a\u65b0\u7684\u5e94\u7528\u6216\u7f51\u7ad9\uff0c\u6211\u4eec\u5efa\u8bae\u4f7f\u7528\u4e00\u4e2a\u6846\u67b6\u3002</p>"},{"location":"react/React%20%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E7%AC%94%E8%AE%B0/#ui","title":"\u63cf\u8ff0 UI","text":"<p>\u9ed8\u8ba4\u503c\uff0c\u9ed8\u8ba4\u503c\u4ec5\u5728\u7f3a\u5c11 <code>size</code> prop \u6216 <code>size={undefined}</code> \u65f6\u751f\u6548\u3002 \u4f46\u662f\u5982\u679c\u4f60\u4f20\u9012\u4e86 <code>size={null}</code> \u6216 <code>size={0}</code>\uff0c\u9ed8\u8ba4\u503c\u5c06 \u4e0d \u88ab\u4f7f\u7528\u3002</p> <pre><code>function Avatar({ person, size = 100 }) {\n  // ...\n}\n</code></pre> <p>\u591a\u5c42\u4f20\u503c\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 ...props \u5c55\u5f00\u8bed\u6cd5\uff0c\u8bf7\u514b\u5236\u5730\u4f7f\u7528\u5c55\u5f00\u8bed\u6cd5\u3002 \u5982\u679c\u4f60\u5728\u6240\u6709\u5176\u4ed6\u7ec4\u4ef6\u4e2d\u90fd\u4f7f\u7528\u5b83\uff0c\u90a3\u5c31\u6709\u95ee\u9898\u4e86\u3002 \u901a\u5e38\uff0c\u5b83\u8868\u793a\u4f60\u5e94\u8be5\u62c6\u5206\u7ec4\u4ef6\uff0c\u5e76\u5c06\u5b50\u7ec4\u4ef6\u4f5c\u4e3a JSX \u4f20\u9012\u3002 \u63a5\u4e0b\u6765\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\uff01</p> <pre><code>function Profile(props) {\n  return (\n    &lt;div className=\"card\"&gt;\n      &lt;Avatar {...props} /&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre> <p>\u5982\u679c\u4f60\u7684\u7ec4\u4ef6\u91cc\u6709\u5f88\u591a\u7684\u5d4c\u5957\u5f0f\u4e09\u76ee\u6761\u4ef6\u8868\u8fbe\u5f0f\uff0c\u5219\u9700\u8981\u8003\u8651\u901a\u8fc7\u63d0\u53d6\u4e3a\u5b50\u7ec4\u4ef6\u6765\u7b80\u5316\u8fd9\u4e9b\u5d4c\u5957\u8868\u8fbe\u5f0f\u3002</p> <ul> <li>\u4f9d\u8d56\u6811\u8868\u793a React \u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u6a21\u5757\u4f9d\u8d56\u5173\u7cfb\u3002</li> <li>\u6784\u5efa\u5de5\u5177\u4f7f\u7528\u4f9d\u8d56\u6811\u6765\u6346\u7ed1\u5fc5\u8981\u7684\u4ee3\u7801\u4ee5\u90e8\u7f72\u5e94\u7528\u7a0b\u5e8f\u3002</li> <li>\u4f9d\u8d56\u6811\u6709\u52a9\u4e8e\u8c03\u8bd5\u5927\u578b\u6346\u7ed1\u5305\u5e26\u6765\u7684\u6e32\u67d3\u901f\u5ea6\u8fc7\u6162\u7684\u95ee\u9898\uff0c\u4ee5\u53ca\u53d1\u73b0\u54ea\u4e9b\u6346\u7ed1\u4ee3\u7801\u53ef\u4ee5\u88ab\u4f18\u5316\u3002</li> </ul>"},{"location":"react/React%20%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E7%AC%94%E8%AE%B0/#_3","title":"\u6dfb\u52a0\u4ea4\u4e92","text":""},{"location":"react/React%20%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E7%AC%94%E8%AE%B0/#_4","title":"\u72b6\u6001\u7ba1\u7406","text":""},{"location":"react/React%20%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E7%AC%94%E8%AE%B0/#escape-hatches","title":"\u8131\u56f4\u673a\u5236 Escape Hatches","text":"<p>\u4f7f\u7528\u975e react \u5185\u90e8\u65b9\u6cd5\uff0c\u5904\u7406\u9700\u8981\u7684\u529f\u80fd\uff08\u4f8b\u5982\u5904\u7406\u754c\u9762\u6eda\u52a8\uff0c\u5904\u7406\u89c6\u9891\u64ad\u653e\uff0c\u9700\u8981\u4f7f\u7528\u539f\u751f JS \u5b9e\u73b0\uff09</p> <pre><code>// video \u5143\u7d20\nif (isPlaying) {\n  ref.current.play();\n} else {\n  ref.current.pause();\n}\n</code></pre> <p>\u5b9e\u9645\u4e0a\uff0c\u4e0d\u4f7f\u7528 React \u7684\u65b9\u6cd5\uff0c\u5982\u4f55\u5b9e\u73b0\u5176\u4ed6\u529f\u80fd\uff1f</p> <p>1\u3001\u7ec4\u4ef6\u5c5e\u6027\uff1f\u4f7f\u7528 useRef \u5b58\u50a8</p> <p>2\u3001\u64cd\u4f5c DOM \u8282\u70b9\uff08\u83b7\u53d6\u8ba1\u7b97\u5c3a\u5bf8\u4f4d\u7f6e\u7b49\uff09\uff1b\u5f53State\u53d8\u5316\u65f6\uff0c\u64cd\u4f5c DOM \u8282\u70b9</p> <p>\u5728\u6e32\u67d3\u65f6\uff0c\u5c3d\u91cf\u8ba1\u7b97\uff0c\u4e0d\u8981\u4f7f\u7528\u65b0\u7684 State\uff08name = firstName + lastName\uff09</p> <p>React \u4e0d\u5141\u8bb8\u7ec4\u4ef6\u8bbf\u95ee\u5176\u4ed6\u7ec4\u4ef6\u7684 DOM \u8282\u70b9\u3002\u751a\u81f3\u81ea\u5df1\u7684\u5b50\u7ec4\u4ef6\u4e5f\u4e0d\u884c \u4f7f\u7528 forwardRef API \u53ef\u4ee5\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd</p> <pre><code>const MyInput = forwardRef((props, ref) =&gt; {\n return &lt;input {...props} ref={ref} /&gt;;\n});\n</code></pre> <p>\u6ca1\u6709\u4f9d\u8d56\u6570\u7ec4\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u4e0e\u4f9d\u8d56\u6570\u7ec4\u4f4d\u7a7a\u6570\u7ec4 [] \u7684\u884c\u4e3a\u662f\u4e0d\u4e00\u81f4\u7684\uff1a</p> <pre><code>useEffect(() =&gt; {\n // \u8fd9\u91cc\u7684\u4ee3\u7801\u4f1a\u5728\u6bcf\u6b21\u6e32\u67d3\u540e\u6267\u884c\n});\n\nuseEffect(() =&gt; {\n // \u8fd9\u91cc\u7684\u4ee3\u7801\u53ea\u4f1a\u5728\u7ec4\u4ef6\u6302\u8f7d\u540e\u6267\u884c\n}, []);\n\nuseEffect(() =&gt; {\n //\u8fd9\u91cc\u7684\u4ee3\u7801\u53ea\u4f1a\u5728\u6bcf\u6b21\u6e32\u67d3\u540e\uff0c\u5e76\u4e14 a \u6216 b \u7684\u503c\u4e0e\u4e0a\u6b21\u6e32\u67d3\u4e0d\u4e00\u81f4\u65f6\u6267\u884c\n}, [a, b]);\n</code></pre> <p>\u8fd9\u90e8\u5206\u5199\u7684\u6bd4\u8f83\u5570\u55e6\uff0c\u786e\u5b9e\u6848\u4f8b\u548c\u7ec6\u8282\u5f88\u591a\uff0c\u6709\u4e9b\u4e13\u6709\u540d\u8bcd\u6bd4\u8f83\u591a\u3002</p> <p>\u770b\u4e86\u524d4\u5c0f\u8282</p>"},{"location":"react/React%20%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E7%AC%94%E8%AE%B0/#hooks","title":"Hooks \u76f8\u5173","text":"<p>\u8bf7\u786e\u4fdd\u4f60\u5df2\u7ecf\u4e3a\u4f60\u7684\u9879\u76ee\u542f\u7528\u4e86 <code>eslint-plugin-react-hooks</code> \u89c4\u5219\u3002\u8fd9\u5728 React \u9879\u76ee\u4e2d\u662f\u5fc5\u5907\u7684\uff0c\u540c\u65f6\u80fd\u5e2e\u52a9\u4f60\u53ca\u65e9\u7684\u6355\u83b7\u8f83\u4e3a\u4e25\u91cd\u7684 bug\u3002\u6211\u4eec\u63a8\u8350\u7684 <code>eslint-config-react-app</code> preset \u4e2d\u5df2\u7ecf\u96c6\u6210\u4e86\u8be5\u89c4\u5219\u3002</p>"},{"location":"react/React%20%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E7%AC%94%E8%AE%B0/#ts","title":"TS \u76f8\u5173","text":"<p>\u8fd9\u90e8\u5206\u5728 TS_hooks \u6839\u636e\u9700\u8981\u5b66\u4e60</p> <p>https://zh-hans.react.dev/learn/typescript</p> <p>hooks\uff1auseState, useEffect, useCallback, useMomo, useContext</p> <p>type interface \u9a8c\u8bc1\u53c2\u6570\u7c7b\u578b</p>"},{"location":"react/React%20%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E7%AC%94%E8%AE%B0/#_5","title":"\u5b9e\u7528\u5de5\u5177","text":"<p>1\u3001\u5982\u679c\u4f60\u6709 HTML \u9700\u8981\u79fb\u690d\u5230 JSX \u4e2d\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 \u5728\u7ebf\u8f6c\u6362\u5668\u3002\u8fd9\u4e2a\u7f51\u7ad9\u4e5f\u652f\u6301\u5176\u4ed6\u683c\u5f0f\u8f6c\u6362\u3002</p>"},{"location":"react/React%20%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E7%AC%94%E8%AE%B0/#_6","title":"\u4ee3\u7801\u7ec6\u8282","text":"<p>1\u3001JSX \u4e2d\u6761\u4ef6\u8bed\u53e5\uff0c\u5b98\u65b9\u5efa\u8bae\u52a0\u4e0a\u62ec\u53f7</p> <pre><code>&lt;div&gt;\n  {isLoggedIn ? (\n    &lt;AdminPanel /&gt;\n  ) : (\n    &lt;LoginForm /&gt;\n  )}\n&lt;/div&gt;\n</code></pre> <p>2\u3001\u5728 React \u4e2d\uff0c\u901a\u5e38\u4f7f\u7528 <code>onSomething</code> \u547d\u540d\u4ee3\u8868\u4e8b\u4ef6\u7684 props\uff0c\u4f7f\u7528 <code>handleSomething</code> \u547d\u540d\u5904\u7406\u8fd9\u4e9b\u4e8b\u4ef6\u7684\u51fd\u6570\u3002</p> <pre><code>&lt;Square value={squares[0]} onSquareClick={() =&gt; handleClick(0)} /&gt;\n</code></pre> <p>3\u3001react-scripts CLI \u53ef\u4ee5\u521d\u59cb\u5316\u9879\u76ee\uff0c\u5f88\u591a\u914d\u7f6e\u662f\u5185\u90e8\u8bbe\u7f6e\u7684\uff0c\u4f8b\u5982 babelrc\uff0c\u5982\u679c\u81ea\u5b9a\u4e49\u914d\u7f6e \u90fd\u662f\u4e0d\u751f\u6548\u7684\u3002\u5982\u679c\u9700\u8981\u81ea\u5b9a\u4e49\uff0c\u9700\u8981 npm eject \u540e\u3002</p>"},{"location":"react/React%20%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E7%AC%94%E8%AE%B0/#api","title":"\u5b98\u65b9\u5168\u90e8API\u53c2\u8003","text":"<p>https://zh-hans.react.dev/reference/react/memo</p>"},{"location":"react/React%20%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD%E5%90%AB%E4%B9%89/","title":"React \u5e38\u7528\u672f\u8bed\u542b\u4e49","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 7664  \u9605\u8bfb16\u5206\u949f</p> <p>2023</p> <p>\u5728 React \u4e2d\u6587\u5e73\u53f0\u4e0a\u770b\u5230\u8fd9\u4e9b\u672f\u8bed\u8868\uff0c\u7ed3\u5408\u81ea\u8eab\u7684\u7406\u89e3\uff0c\u7b80\u5355\u63cf\u8ff0\u4e00\u4e0b\u542b\u4e49\u3002</p> <p>\u6ce8\uff1a\u5f53\u524d react \u7248\u672c\u662f 18.2 \u7248\u672c</p> \u672f\u8bed \u8bd1\u6587 Declarative \u58f0\u660e\u5f0f Component \u7ec4\u4ef6 Stateful Component \u6709\u72b6\u6001\u7ec4\u4ef6 controlled components \u53d7\u63a7\u7ec4\u4ef6 uncontrolled components \u975e\u53d7\u63a7\u7ec4\u4ef6 render \u6e32\u67d3 Application \u5e94\u7528 External Plugins \u5916\u90e8\u63d2\u4ef6 Third Plugins \u7b2c\u4e09\u65b9\u63d2\u4ef6 syntax \u8bed\u6cd5 Embedding Expressions \u5d4c\u5165\u8868\u8fbe\u5f0f: JSX \u4e2d\u628a html \u5d4c\u5165 jsx \u4e2d\u7684\u5199\u6cd5 Attributes \u5c5e\u6027 Elements \u5143\u7d20 Functional Components \u51fd\u6570\u5f0f\u7ec4\u4ef6 function component \u51fd\u6570\u7ec4\u4ef6 Class Components class \u7ec4\u4ef6 Composition \u7ec4\u5408 Inheritance \u7ee7\u627f Lifecycle \u751f\u547d\u5468\u671f Handling Events \u4e8b\u4ef6\u5904\u7406 Conditional Rendering \u6761\u4ef6\u6e32\u67d3 Operator \u8fd0\u7b97\u7b26 reuse \u590d\u7528 mock \u8bbe\u8ba1\u7a3f\uff1b\u8bbe\u8ba1\u624b\u7a3f\uff08\u6d4b\u8bd5\u6a21\u62df\u6570\u636e\uff0cmock data\uff09 callback \u56de\u8c03\u51fd\u6570 shallow rendering \u6d45\u5c42\u6e32\u67d3 deprecated \u5e9f\u5f03 Legacy \u8fc7\u65f6 Cross-Cutting Concerns \u6a2a\u5207\u5173\u6ce8\u70b9 HOC \u9ad8\u9636\u51fd\u6570\uff08HOC\uff09 higher-order-component \u9ad8\u9636\u51fd\u6570 Reconciliation \u534f\u8c03 local state \u5185\u90e8 state asserts \u65ad\u8a00 reusable \u53ef\u590d\u7528 Vendor Prefix \u6d4f\u89c8\u5668\u5f15\u64ce fallback \u964d\u7ea7 derived state \u6d3e\u751f\u72b6\u6001 breaking change \u7834\u574f\u6027\u66f4\u6539 function signature \u51fd\u6570\u7b7e\u540d escape hatches \u5e94\u6025\u65b9\u6848"},{"location":"react/React%20%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD%E5%90%AB%E4%B9%89/#_1","title":"\u5e38\u89c1\u672f\u8bed","text":""},{"location":"react/React%20%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD%E5%90%AB%E4%B9%89/#props","title":"Props","text":"<p>Properties \u7236\u7ec4\u4ef6\u7ed9\u5b50\u7ec4\u4ef6\u901a\u4fe1\uff0c\u4f20\u9012\u7684\u53c2\u6570\u6216\u8005\u5c5e\u6027</p>"},{"location":"react/React%20%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD%E5%90%AB%E4%B9%89/#state","title":"state","text":"<p>\u5f53\u524d\u7ec4\u4ef6\u7ef4\u62a4\u5728\u81ea\u8eab\u5185\u90e8\u7684\u72b6\u6001\uff0c\u72b6\u6001\u9a71\u52a8</p>"},{"location":"react/React%20%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD%E5%90%AB%E4%B9%89/#ref","title":"ref","text":"<p>Refrence \u901a\u8fc7 ref \u53ef\u4ee5\u83b7\u53d6\u771f\u5b9e DOM \u8282\u70b9\u3002\u521b\u5efa\u4e09\u79cd REF \u7684\u65b9\u6cd5\uff08\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u56de\u8c03\u51fd\u6570\u5f62\u5f0f\uff0cReact.createRef\uff09\u3002</p>"},{"location":"react/React%20%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD%E5%90%AB%E4%B9%89/#context","title":"context","text":"<p> \u4e0a\u4e0b\u6587\uff0c\u53c2\u8003\uff1ahttps://react.docschina.org/docs/context.html \u5982\u679c\u6709\u4e9b props \u9700\u8981\u4f20\u9012\u5f88\u591a\u5c42\uff0c\u53ef\u4ee5\u901a\u8fc7 context \u8de8\u8d8a\u5c42\u7ea7\u4f20\u9012\uff08\u7c7b\u4f3c Provider Cumtomer \u6982\u5ff5\uff09</p>"},{"location":"react/React%20%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD%E5%90%AB%E4%B9%89/#portal","title":"portal","text":"<p> \u5165\u53e3\uff0c\u53c2\u8003\uff1ahttps://zh-hans.reactjs.org/docs/portals.html#gatsby-focus-wrapper \u901a\u5e38\u7ec4\u4ef6\u6302\u8f7d\u5230\u6700\u8fd1\u7684\u7236\u7ec4\u4ef6\u4e0a\uff0c\u8fd9\u4e2a portal \u53ef\u4ee5\u628a\u7ec4\u4ef6\u6302\u8f7d\u5230\u4efb\u610f\u7684\u7ec4\u4ef6\u4e0a\u3002\u5bf9\u4e8e\u7ec4\u4ef6\u591a\u5c42\u7ea7\u5f88\u4f7f\u7528\uff08\u4f8b\u5982\u4e0b\u62c9\u6846\u9700\u8981\u5f39\u51fa\u5230\u5bf9\u8bdd\u6846\u5916\u90e8\uff0c\u90a3\u4e48\u5c1d\u8bd5\u628a\u4e0b\u62c9\u6846\u6302\u8f7d\u5230\u53e6\u4e00\u4e2a\u6839\u7ec4\u4ef6\u4e0a\uff09\u53ef\u4ee5\u628a\u5bf9\u8bdd\u6846\u5355\u72ec\u6302\u8f7d\u5230\u5bf9\u8bdd\u6846\u5c42\u7ea7\uff08modal-portal \u4e2d\uff09</p>"},{"location":"react/React%20%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD%E5%90%AB%E4%B9%89/#fragments","title":"fragments","text":"<p>\u6587\u6863\u788e\u7247\uff0c\u7528\u4e8e\u5305\u88f9\u591a\u4e2a JSX \u7247\u6bb5\u3002render \u51fd\u6570\u53ea\u5141\u8bb8\u6709\u4e00\u4e2a\u6839\u6807\u7b7e</p>"},{"location":"react/React%20%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD%E5%90%AB%E4%B9%89/#bundle","title":"bundle","text":"<p>\u5305\uff1b\u6346\uff0c\u8868\u793a webpack \u6253\u5305\u5de5\u5177\u628a\u4ee3\u7801\u6253\u5305\u6210\u82e5\u5e72\u5305</p>"},{"location":"react/React%20%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD%E5%90%AB%E4%B9%89/#_2","title":"\u5176\u4ed6\u672f\u8bed","text":""},{"location":"react/React%20%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD%E5%90%AB%E4%B9%89/#tick","title":"Tick","text":"<p>\u505a\u6807\u8bb0\uff0c\u6253\u5bf9\u52fe\uff08\u6587\u6863\u4e2d\uff1a\u8fd9\u91cc\u6807\u8bb0\u4e00\u4e0b\uff0c\u7c7b\u4f3c Note\uff09</p> \u672f\u8bed \u542b\u4e49 package \u5305\uff0c\u8fd9\u4e2a\u91cd\u70b9\u53ea\u7b2c\u4e09\u65b9\u4f9d\u8d56\u7684\u5305\uff08package.json\uff09 Create React App \u521b\u5efa react \u7684 CLI\uff08\u5185\u7f6e\u4e86 webpack \u548c babel \u6253\u5305\u5f00\u53d1\u5de5\u5177\uff09\uff0c\u7b80\u79f0 cra Consumer \u6d88\u8d39\u8005\uff0c\u7528\u4e8e redux \u4e2d\u6d88\u8d39 state \u7684\u7ec4\u4ef6 Provider \u63d0\u4f9b\u8005\uff0c\u7528\u4e8e redux \u4e2d\u63d0\u4f9b state \u7684\u7ec4\u4ef6 PropTypes Props \u7c7b\u578b\u9a8c\u8bc1 Hook \u94a9\u5b50\uff08\u7c7b\u7ec4\u4ef6 state \u548c\u751f\u547d\u5468\u671f\u51fd\u6570\u7684\u7b80\u5316\u8bed\u6cd5\uff09\u7528\u4e8e\u51fd\u6570\u5f0f\u7ec4\u4ef6 useEffect \u7b80\u5316\u7c7b\u7ec4\u4ef6 Promise \u627f\u8bfa\uff0c\u5904\u7406\u5f02\u6b65\u6570\u636e\uff0c\u53ef\u4ee5\u4f20\u53c2 resolve reject \u8868\u793a\u63a5\u53d7\u6216\u8005\u62d2\u7edd\u5f02\u6b65\u6570\u636e\uff0casync await \u662f\u8bed\u6cd5\u7cd6 polyfill \u57ab\u7247\uff0c\u4e3b\u8981\u5904\u7406\u517c\u5bb9\u6027\u95ee\u9898\uff0cbabel-preset-env \u7b49\u5904\u7406\u4e0d\u540c\u7248\u672c\u7684\u6d4f\u89c8\u5668\uff0c\u517c\u5bb9\u65e9\u671f\u6570\u636e\u7b49 Mixins \u6df7\u5165\uff0c\u5728\u88c5\u9970\u5668\u4e2d\u4f7f\u7528\uff0c\u628a\u4e00\u4e2a\u7c7b\u4e2d\u7684\u65b9\u6cd5\u6df7\u5165\u53e6\u4e00\u4e2a\u7c7b\uff0creact \u5b98\u65b9\u4e0d\u63a8\u8350\uff0credux \u4e2d\u901a\u8fc7 connect \u628a\u4e00\u4e2a\u7ec4\u4ef6\u6df7\u5165\u53e6\u4e00\u4e2a\u7ec4\u4ef6 Web Components \u5b9e\u73b0\u7ec4\u4ef6\u590d\u7528\u7684\u53e6\u4e00\u4e2a\u65b9\u5f0f\uff08\u7c7b\u4f3cReact\u6846\u67b6\uff09\u8c37\u6b4c\u51fa\u54c1\u7684\u4e00\u4e2a\u5de5\u5177\uff0c\u57fa\u4e8e\u7c7b\u7684\u7ee7\u627f\u548c\u521b\u5efa\uff0c\u8be6\u89c1\u53c2\u8003\uff0c\u4e5f\u53ef\u4ee5\u548c react \u7ed3\u5408\u4f7f\u7528 wrapper wrapper \u5305\u88f9\u5c42\uff0c\u53ef\u4ee5\u6302\u8f7d\u67d0\u4e00\u4e2a react \u7ec4\u4ef6\u7684\u6839\u8282\u70b9 Fiber React \u6838\u5fc3\u7b97\u6cd5 Mutation \u6539\u53d8\uff0c\u7a81\u53d8\u3002\u5728 DIFF \u7b97\u6cd5\u4e2d\uff0c\u4e24\u4e2a Tree key \u4e0d\u4e00\u81f4\u65f6\u4ea7\u751f\u7684 mutation \u6539\u53d8\uff0c\u7136\u540e\u9700\u8981\u5378\u8f7d\u65e7\u7ec4\u4ef6\uff0c\u7136\u540e\u91cd\u65b0\u65b0\u5efa\u65b0\u7ec4\u4ef6\u3002"},{"location":"react/React%20%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD%E5%90%AB%E4%B9%89/#fiber","title":"Fiber \u7b97\u6cd5\u4ecb\u7ecd","text":"<p>\u8fd9\u4e2a\u4ecb\u7ecd\u4e86 fiber \u7b97\u6cd5\u548c reconciliation \u7b97\u6cd5\uff0c\u5199\u7684\u4e0d\u9519\uff0c\u81ea\u5df1\u7a0d\u540e\u770b\u4e00\u4e0b https://github.com/acdlite/react-fiber-architecture</p> <ul> <li>reconciliation\uff1aThe algorithm React uses to diff one tree with another to determine which parts need to be changed. React \u4f7f\u7528\u7684\u7b97\u6cd5\u5c06\u4e00\u68f5\u6811\u4e0e\u53e6\u4e00\u68f5\u6811\u8fdb\u884c\u6bd4\u8f83\uff0c\u4ee5\u786e\u5b9a\u9700\u8981\u66f4\u6539\u54ea\u4e9b\u90e8\u5206\u3002</li> <li>Reconciliation is the algorithm behind what is popularly understood as the \"virtual DOM.\" A high-level description goes something like this: when you render a React application, a tree of nodes that describes the app is generated and saved in memory. This tree is then flushed to the rendering environment \u2014 for example, in the case of a browser application, it's translated to a set of DOM operations. When the app is updated (usually via setState), a new tree is generated. The new tree is diffed with the previous tree to compute which operations are needed to update the rendered app.</li> <li>Reconciliation \u662f\u88ab\u666e\u904d\u7406\u89e3\u4e3a\u201c\u865a\u62df DOM\u201d\u7684\u7b97\u6cd5\u3002\u4e00\u4e2a\u9ad8\u7ea7\u63cf\u8ff0\u662f\u8fd9\u6837\u7684\uff1a\u5f53\u4f60\u6e32\u67d3\u4e00\u4e2a React \u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u4e00\u4e2a\u63cf\u8ff0\u5e94\u7528\u7a0b\u5e8f\u7684\u8282\u70b9\u6811\u88ab\u751f\u6210\u5e76\u4fdd\u5b58\u5728\u5185\u5b58\u4e2d\u3002\u7136\u540e\u5c06\u8be5\u6811\u5237\u65b0\u5230\u6e32\u67d3\u73af\u5883\u2014\u2014\u4f8b\u5982\uff0c\u5728\u6d4f\u89c8\u5668\u5e94\u7528\u7a0b\u5e8f\u7684\u60c5\u51b5\u4e0b\uff0c\u5b83\u88ab\u8f6c\u6362\u4e3a\u4e00\u7ec4 DOM \u64cd\u4f5c\u3002\u5f53\u5e94\u7528\u7a0b\u5e8f\u66f4\u65b0\u65f6\uff08\u901a\u5e38\u901a\u8fc7 setState\uff09\uff0c\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u6811\u3002\u65b0\u6811\u4e0e\u4e4b\u524d\u7684\u6811\u8fdb\u884c\u6bd4\u8f83\uff0c\u4ee5\u8ba1\u7b97\u66f4\u65b0\u6e32\u67d3\u5e94\u7528\u7a0b\u5e8f\u6240\u9700\u7684\u64cd\u4f5c\u3002</li> </ul> <p>\u4f20\u7edf\u7684 reconciliation \u7b97\u6cd5\u662f diff tree\uff0creact fiber \u67b6\u6784\u628a tree-diff \u6539\u6210\u4e86 link-node diff\u2014\u2014\u8fd9\u4e2a\u5728 react 16 \u4e2d\u6838\u5fc3\u4f18\u5316\u3002</p>"},{"location":"react/React%20%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD%E5%90%AB%E4%B9%89/#_3","title":"\u53c2\u8003\u94fe\u63a5","text":"<p>\u672f\u8bed\u8868\uff1ahttps://github.com/reactjs/zh-hans.reactjs.org/issues/2</p> <p>\u962e\u4e00\u5cf0 ES6 \u88c5\u9970\u5668\uff08mixin\uff09:https://es6.ruanyifeng.com/#docs/decorator</p> <p>Web Component \u5b98\u65b9\u4ecb\u7ecd\uff1ahttps://developer.mozilla.org/zh-CN/docs/Web/Web_Components</p> <p>Web Component \u5176\u4ed6\u535a\u5ba2\uff1ahttps://zhuanlan.zhihu.com/p/268732230</p>"},{"location":"react/React%20%E5%BC%BA%E5%88%B6%E6%9B%B4%E6%96%B0%E7%BB%84%E4%BB%B6/","title":"React \u5f3a\u5236\u66f4\u65b0\u7ec4\u4ef6","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1111  \u9605\u8bfb3\u5206\u949f</p> <p>\u901a\u5e38\u7ec4\u4ef6\u7684\u66f4\u65b0\u662f state \u6216\u8005 props \u6539\u53d8\u9020\u6210\u7684\uff0c\u6709\u65f6\u5019\u6570\u636e\u6ca1\u6709\u6539\u53d8\uff0c\u5982\u4f55\u5f3a\u5236\u66f4\u65b0\u7ec4\u4ef6\uff1f</p> <p>\u5982\u679c render() \u65b9\u6cd5\u4f9d\u8d56\u4e8e\u5176\u4ed6\u6570\u636e\uff0c\u5219\u53ef\u4ee5\u8c03\u7528 forceUpdate() \u5f3a\u5236\u8ba9\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\u3002</p> <p>\u8c03\u7528 forceUpdate() \u5c06\u81f4\u4f7f\u7ec4\u4ef6\u8c03\u7528 render() \u65b9\u6cd5\uff0c\u6b64\u64cd\u4f5c\u4f1a\u8df3\u8fc7\u8be5\u7ec4\u4ef6\u7684 shouldComponentUpdate()\u3002</p> <p>\u4f46\u5176\u5b50\u7ec4\u4ef6\u4f1a\u89e6\u53d1\u6b63\u5e38\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u5305\u62ec shouldComponentUpdate() \u65b9\u6cd5\u3002\u5982\u679c\u6807\u8bb0\u53d1\u751f\u53d8\u5316\uff0cReact \u4ecd\u5c06\u53ea\u66f4\u65b0 DOM\u3002</p> <p>\u901a\u5e38\u4f60\u5e94\u8be5\u907f\u514d\u4f7f\u7528 forceUpdate()\uff0c\u5c3d\u91cf\u5728 render() \u4e2d\u4f7f\u7528 this.props \u548c this.state\u3002</p> <pre><code>class menu extends React.Component {\n\n  // \u7b2c\u4e00\u6b21\u52a0\u8f7d\u7ec4\u4ef6\u8c03\u7528\n  componentDidMount = () =&gt; {\n    this.getInfo(this.props.xxx);\n    this.hasInfo();\n  }\n\n  // \u6bcf\u6b21\u63a5\u6536\u5230\u65b0props\u8c03\u7528\n  componentWillReceiveProps = (nextProps) =&gt; {\n    if (nextProps !== this.props) {\n      this.getInfo(nextProps);\n      this.haveInfo();\n    }\n  }\n\n  // \u5f3a\u5236\u66f4\u65b0\u7ec4\u4ef6\n  update = () =&gt; {\n    this.forceUpdate();\n  }\n\n  render() {\n    return (&lt;div&gt;&lt;/div&gt;);\n  }\n}\n</code></pre>"},{"location":"react/React%20%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0%E7%9A%84API/","title":"React \u64cd\u4f5c\u5143\u7d20\u7684API","text":""},{"location":"react/React%20%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0%E7%9A%84API/#react-api","title":"React \u64cd\u4f5c\u5143\u7d20\u7684API","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1789  \u9605\u8bfb4\u5206\u949f</p> <p>React \u4e2d\uff0cJSX \u6807\u7b7e\u4f1a\u8f6c\u6362\u6210\u539f\u751f\u7684JavaScript\u4ee3\u7801\u3002\u6240\u4ee5\uff0c\u53ef\u4ee5\u4f7f\u7528JSX\u6807\u7b7e\u521b\u5efa\u7ec4\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528React\u63d0\u4f9b\u7684API\u521b\u5efa\u7ec4\u4ef6\u3002</p> <p>\u4e0b\u9762\u662f\u5e38\u89c1\u7684\u5143\u7d20\u64cd\u4f5c\u548c\u7ec4\u4ef6\u64cd\u4f5c\u7684API</p>"},{"location":"react/React%20%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0%E7%9A%84API/#1-createelement","title":"1\u3001\u521b\u5efa\u5143\u7d20 createElement","text":"<pre><code>// API \u5177\u6709\u4e09\u4e2a\u53c2\u6570\n// \u7b2c\u4e00\u4e2a\u662f\u5143\u7d20\u7684\u7c7b\u578b\uff08\u5fc5\u9009\uff09\n// \u7b2c\u4e8c\u4e2a\u662f\u5143\u7d20\u7684\u5c5e\u6027\n// \u7b2c\u4e09\u4e2a\u662f\u5143\u7d20\u7684\u5b50\u8282\u70b9\nvar React = require('react');\n\nlet dom = React.createElement(type, [props], [children]);\nlet dom2 = React.createElement('div', {className: 'wrapper'}, dom, React.createElement('hr'));\n// \u5feb\u6377\u521b\u5efa\u5143\u7d20\n// React.createElement('div') === React.DOM.div()\n</code></pre>"},{"location":"react/React%20%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0%E7%9A%84API/#2-cloneelement","title":"2\u3001\u590d\u5236 cloneElement","text":"<p>\u53c2\u6570\u548ccreateElement\u4e00\u81f4</p> <pre><code>let div = React.createElement('div');\nlet dom3 = React.cloneElement(div, {className: 'wrapper'}, dom);\n</code></pre>"},{"location":"react/React%20%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0%E7%9A%84API/#3-isvalidelement","title":"3\u3001\u9a8c\u8bc1 isValidElement","text":"<pre><code>function checkValid() {\n  let div = React.createElement('div');\n  React.isValidElement(div); // true;\n  let div2 = document.getElementById('wrapper');\n  React.isValidElement(div2); // false\n}\n</code></pre>"},{"location":"react/React%20%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0%E7%9A%84API/#4-apicomponent-class","title":"4\u3001\u7ec4\u4ef6\u64cd\u4f5c API\uff08Component class\uff09","text":"<p>\u521b\u5efa\u7ec4\u4ef6\uff1acreateClass() \u521b\u5efa\u5e76\u8fd4\u56de\u4e00\u4e2a\u7ec4\u4ef6\u7c7b\uff0c\u5185\u90e8\u9700\u8981\u5b9e\u73b0render\u65b9\u6cd5</p> <p><pre><code>let App = React.createClass({\n  displayName: 'App',\n  render: function() {\n    let hr = React.createElement('hr');\n    let h2 = React.createElement('h2', null, this.props.children);\n    return (React.createElement('div', null, h2, hr));\n  }\n});\n</code></pre> \u73b0\u5728\u5c31\u8fd4\u56de\u4e00\u4e2aAPP\u7684\u7c7b\uff08\u7ec4\u4ef6\uff09\u5927\u578b\u7ec4\u4ef6\u9700\u8981\u5355\u72ec\u5199\uff0cclass App extends React.Component\uff0c\u5982\u679c\u662f\u5c0f\u7ec4\u4ef6\uff0c\u6ca1\u6709\u590d\u6742\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2aAPI</p> <p>\u8fd9\u51e0\u4e2a\u4e3b\u8981\u7684\u533a\u522b\uff1ahttps://www.zhihu.com/question/27602269/answer/40168594</p> <p>\u57fa\u672c\u4e0a\uff0c\u4f7f\u7528JSX\u53ef\u4ee5\u5b8c\u6210\u4e0a\u9762API\u7684\u5de5\u4f5c</p>"},{"location":"react/React%20%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/","title":"React \u6d4b\u8bd5\u5165\u95e8\u6559\u7a0b","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 16728  \u9605\u8bfb34\u5206\u949f</p> <p>\u4f5c\u8005\uff1a \u962e\u4e00\u5cf0</p> <p>\u65e5\u671f\uff1a 2016\u5e742\u670813\u65e5</p> <p>\u8d8a\u6765\u8d8a\u591a\u7684\u4eba\uff0c\u4f7f\u7528React\u5f00\u53d1Web\u5e94\u7528\u3002\u5b83\u7684\u6d4b\u8bd5\u5c31\u6210\u4e86\u4e00\u4e2a\u5927\u95ee\u9898\u3002</p> <p>React\u7684\u7ec4\u4ef6\u7ed3\u6784\u548cJSX\u8bed\u6cd5\uff0c\u4e0d\u9002\u7528\u4f20\u7edf\u7684\u6d4b\u8bd5\u5de5\u5177\uff0c\u5fc5\u987b\u6709\u65b0\u7684\u6d4b\u8bd5\u65b9\u6cd5\u548c\u5de5\u5177\u3002</p> <p>\u672c\u6587\u603b\u7ed3\u76ee\u524dReact\u6d4b\u8bd5\u7684\u57fa\u672c\u505a\u6cd5\u548c\u6700\u4f73\u5b9e\u8df5\uff0c\u624b\u628a\u624b\u6559\u4f60\u5982\u4f55\u5199React\u6d4b\u8bd5\u3002</p> <p></p>"},{"location":"react/React%20%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#demo","title":"\u4e00\u3001Demo\u5e94\u7528","text":"<p>\u8bf7\u5148\u5b89\u88c5Demo\u3002</p> <pre><code>$ git clone https://github.com/ruanyf/react-testing-demo.git\n$ cd react-testing-demo &amp;&amp; npm install\n$ npm start\n</code></pre> <p>\u7136\u540e\uff0c\u6253\u5f00 http://127.0.0.1:8080/\uff0c\u4f60\u4f1a\u770b\u5230\u4e00\u4e2a Todo \u5e94\u7528\u3002</p> <p></p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c31\u8981\u6d4b\u8bd5\u8fd9\u4e2a\u5e94\u7528\uff0c\u4e00\u5171\u67095\u4e2a\u6d4b\u8bd5\u70b9\u3002</p> <ol> <li>\u5e94\u7528\u6807\u9898\u5e94\u4e3a\"Todos\"</li> <li>Todo\u9879\u7684\u521d\u59cb\u72b6\u6001\uff08\"\u672a\u5b8c\u6210\"\u6216\"\u5df2\u5b8c\u6210\"\uff09\u5e94\u8be5\u6b63\u786e</li> <li>\u70b9\u51fb\u4e00\u4e2aTodo\u9879\uff0c\u5b83\u5c31\u53cd\u8f6c\u72b6\u6001\uff08\"\u672a\u5b8c\u6210\"\u53d8\u4e3a\"\u5df2\u5b8c\u6210\"\uff0c\u53cd\u4e4b\u4ea6\u7136\uff09</li> <li>\u70b9\u51fb\u5220\u9664\u6309\u94ae\uff0c\u8be5Todo\u9879\u5c31\u88ab\u5220\u9664</li> <li>\u70b9\u51fb\u6dfb\u52a0\u6309\u94ae\uff0c\u4f1a\u65b0\u589e\u4e00\u4e2aTodo\u9879</li> </ol> <p>\u8fd95\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u90fd\u5df2\u7ecf\u5199\u597d\u4e86\uff0c\u6267\u884c\u4e00\u4e0b\u5c31\u53ef\u4ee5\u770b\u5230\u7ed3\u679c\u3002</p> <pre><code>$ npm test\n</code></pre> <p>\u4e0b\u9762\u5c31\u6765\u770b\uff0c\u6d4b\u8bd5\u7528\u4f8b\u5e94\u8be5\u600e\u4e48\u5199\u3002\u6d4b\u8bd5\u6846\u67b6\u6211\u7528\u7684\u662fMocha\uff0c\u5982\u679c\u4f60\u4e0d\u719f\u6089\uff0c\u53ef\u4ee5\u5148\u8bfb\u6211\u5199\u7684\u300aMocha\u6559\u7a0b\u300b\u3002</p>"},{"location":"react/React%20%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#_1","title":"\u4e8c\u3001\u6d4b\u8bd5\u5de5\u5177\u5e93","text":"<p>React\u6d4b\u8bd5\u5fc5\u987b\u4f7f\u7528\u5b98\u65b9\u7684\u6d4b\u8bd5\u5de5\u5177\u5e93\uff0c\u4f46\u662f\u5b83\u7528\u8d77\u6765\u4e0d\u591f\u65b9\u4fbf\uff0c\u6240\u4ee5\u6709\u4eba\u505a\u4e86\u5c01\u88c5\uff0c\u63a8\u51fa\u4e86\u4e00\u4e9b\u7b2c\u4e09\u65b9\u5e93\uff0c\u5176\u4e2dAirbnb\u516c\u53f8\u7684Enzyme\u6700\u5bb9\u6613\u4e0a\u624b\u3002</p> <p>\u8fd9\u5c31\u662f\u8bf4\uff0c\u540c\u6837\u7684\u6d4b\u8bd5\u7528\u4f8b\u81f3\u5c11\u6709\u4e24\u79cd\u5199\u6cd5\uff0c\u672c\u6587\u90fd\u5c06\u4ecb\u7ecd\u3002</p> <ul> <li>\u5b98\u65b9\u6d4b\u8bd5\u5de5\u5177\u5e93\u7684\u5199\u6cd5</li> <li>Enzyme\u7684\u5199\u6cd5</li> </ul>"},{"location":"react/React%20%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#_2","title":"\u4e09\u3001\u5b98\u65b9\u6d4b\u8bd5\u5de5\u5177\u5e93","text":"<p>\u6211\u4eec\u77e5\u9053\uff0c\u4e00\u4e2aReact\u7ec4\u4ef6\u6709\u4e24\u79cd\u5b58\u5728\u5f62\u5f0f\uff1a\u865a\u62dfDOM\u5bf9\u8c61\uff08\u5373<code>React.Component</code>\u7684\u5b9e\u4f8b\uff09\u548c\u771f\u5b9eDOM\u8282\u70b9\u3002\u5b98\u65b9\u6d4b\u8bd5\u5de5\u5177\u5e93\u5bf9\u8fd9\u4e24\u79cd\u5f62\u5f0f\uff0c\u90fd\u63d0\u4f9b\u6d4b\u8bd5\u89e3\u51b3\u65b9\u6848\u3002</p> <ul> <li>Shallow Rendering\uff1a\u6d4b\u8bd5\u865a\u62dfDOM\u7684\u65b9\u6cd5</li> <li>DOM Rendering: \u6d4b\u8bd5\u771f\u5b9eDOM\u7684\u65b9\u6cd5</li> </ul>"},{"location":"react/React%20%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#31-shallow-rendering","title":"3.1 Shallow Rendering","text":"<p>Shallow Rendering \uff08\u6d45\u6e32\u67d3\uff09\u6307\u7684\u662f\uff0c\u5c06\u4e00\u4e2a\u7ec4\u4ef6\u6e32\u67d3\u6210\u865a\u62dfDOM\u5bf9\u8c61\uff0c\u4f46\u662f\u53ea\u6e32\u67d3\u7b2c\u4e00\u5c42\uff0c\u4e0d\u6e32\u67d3\u6240\u6709\u5b50\u7ec4\u4ef6\uff0c\u6240\u4ee5\u5904\u7406\u901f\u5ea6\u975e\u5e38\u5feb\u3002\u5b83\u4e0d\u9700\u8981DOM\u73af\u5883\uff0c\u56e0\u4e3a\u6839\u672c\u6ca1\u6709\u52a0\u8f7d\u8fdbDOM\u3002</p> <p>\u9996\u5148\uff0c\u5728\u6d4b\u8bd5\u811a\u672c\u4e4b\u4e2d\uff0c\u5f15\u5165\u5b98\u65b9\u6d4b\u8bd5\u5de5\u5177\u5e93\u3002</p> <pre><code>import TestUtils from 'react-addons-test-utils';\n</code></pre> <p>\u7136\u540e\uff0c\u5199\u4e00\u4e2a Shallow Rendering \u51fd\u6570\uff0c\u8be5\u51fd\u6570\u8fd4\u56de\u7684\u5c31\u662f\u4e00\u4e2a\u6d45\u6e32\u67d3\u7684\u865a\u62dfDOM\u5bf9\u8c61\u3002</p> <pre><code>import TestUtils from 'react-addons-test-utils';\n\nfunction shallowRender(Component) {\n  const renderer = TestUtils.createRenderer();\n  renderer.render(&lt;Component/&gt;);\n  return renderer.getRenderOutput();\n}\n</code></pre> <p>\u7b2c\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u662f\u6d4b\u8bd5\u6807\u9898\u662f\u5426\u6b63\u786e\u3002\u8fd9\u4e2a\u7528\u4f8b\u4e0d\u9700\u8981\u4e0eDOM\u4e92\u52a8\uff0c\u4e0d\u6d89\u53ca\u5b50\u7ec4\u4ef6\uff0c\u6240\u4ee5\u4f7f\u7528\u6d45\u6e32\u67d3\u975e\u5e38\u5408\u9002\u3002</p> <pre><code>describe('Shallow Rendering', function () {\n  it('App\\'s title should be Todos', function () {\n    const app = shallowRender(App);\n    expect(app.props.children[0].type).to.equal('h1');\n    expect(app.props.children[0].props.children).to.equal('Todos');\n  });\n});\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>const app = shallowRender(App)</code>\u8868\u793a\u5bf9<code>App</code>\u7ec4\u4ef6\u8fdb\u884c\"\u6d45\u6e32\u67d3\"\uff0c\u7136\u540e<code>app.props.children[0].props.children</code>\u5c31\u662f\u7ec4\u4ef6\u7684\u6807\u9898\u3002</p> <p>\u4f60\u5927\u6982\u4f1a\u89c9\u5f97\uff0c\u8fd9\u4e2a\u5c5e\u6027\u7684\u5199\u6cd5\u592a\u53e4\u602a\u4e86\uff0c\u4f46\u5b9e\u9645\u4e0a\u662f\u6709\u89c4\u5f8b\u7684\u3002\u6bcf\u4e00\u4e2a\u865a\u62dfDOM\u5bf9\u8c61\u90fd\u6709<code>props.children</code>\u5c5e\u6027\uff0c\u5b83\u5305\u542b\u4e00\u4e2a\u6570\u7ec4\uff0c\u91cc\u9762\u662f\u6240\u6709\u7684\u5b50\u7ec4\u4ef6\u3002<code>app.props.children[0]</code>\u5c31\u662f\u7b2c\u4e00\u4e2a\u5b50\u7ec4\u4ef6\uff0c\u5728\u6211\u4eec\u7684\u4f8b\u5b50\u4e2d\u5c31\u662f<code>h1</code>\u5143\u7d20\uff0c\u5b83\u7684<code>props.children</code>\u5c5e\u6027\u5c31\u662f<code>h1</code>\u7684\u6587\u672c\u3002</p> <p>\u7b2c\u4e8c\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u662f\u6d4b\u8bd5<code>Todo</code>\u9879\u7684\u521d\u59cb\u72b6\u6001\u3002</p> <p>\u9996\u5148\uff0c\u9700\u8981\u4fee\u6539<code>shallowRender</code>\u51fd\u6570\uff0c\u8ba9\u5b83\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002</p> <pre><code>import TestUtils from 'react-addons-test-utils';\n\nfunction shallowRender(Component, props) {\n  const renderer = TestUtils.createRenderer();\n  renderer.render(&lt;Component {...props}/&gt;);\n  return renderer.getRenderOutput();\n}\n</code></pre> <p>\u4e0b\u9762\u5c31\u662f\u6d4b\u8bd5\u7528\u4f8b\u3002</p> <pre><code>import TodoItem from '../app/components/TodoItem';\n\ndescribe('Shallow Rendering', function () {\n  it('Todo item should not have todo-done class', function () {\n    const todoItemData = { id: 0, name: 'Todo one', done: false };\n    const todoItem = shallowRender(TodoItem, {todo: todoItemData});\n    expect(todoItem.props.children[0].props.className.indexOf('todo-done')).to.equal(-1);\n  });\n});\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e<code>TodoItem</code>\u662f<code>App</code>\u7684\u5b50\u7ec4\u4ef6\uff0c\u6240\u4ee5\u6d45\u6e32\u67d3\u5fc5\u987b\u5728<code>TodoItem</code>\u4e0a\u8c03\u7528\uff0c\u5426\u5219\u6e32\u67d3\u4e0d\u51fa\u6765\u3002\u5728\u6211\u4eec\u7684\u4f8b\u5b50\u4e2d\uff0c\u521d\u59cb\u72b6\u6001\u53cd\u6620\u5728\u7ec4\u4ef6\u7684<code>Class</code>\u5c5e\u6027\uff08<code>props.className</code>\uff09\u662f\u5426\u5305\u542b<code>todo-done</code>\u3002</p>"},{"location":"react/React%20%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#32-renderintodocument","title":"3.2 renderIntoDocument","text":"<p>\u5b98\u65b9\u6d4b\u8bd5\u5de5\u5177\u5e93\u7684\u7b2c\u4e8c\u79cd\u6d4b\u8bd5\u65b9\u6cd5\uff0c\u662f\u5c06\u7ec4\u4ef6\u6e32\u67d3\u6210\u771f\u5b9e\u7684DOM\u8282\u70b9\uff0c\u518d\u8fdb\u884c\u6d4b\u8bd5\u3002\u8fd9\u65f6\u5c31\u9700\u8981\u8c03\u7528<code>renderIntoDocument</code> \u65b9\u6cd5\u3002</p> <pre><code>import TestUtils from 'react-addons-test-utils';\nimport App from '../app/components/App';\n\nconst app = TestUtils.renderIntoDocument(&lt;App/&gt;);\n</code></pre> <p><code>renderIntoDocument</code> \u65b9\u6cd5\u8981\u6c42\u5b58\u5728\u4e00\u4e2a\u771f\u5b9e\u7684DOM\u73af\u5883\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002\u56e0\u6b64\uff0c\u6d4b\u8bd5\u7528\u4f8b\u4e4b\u4e2d\uff0cDOM\u73af\u5883\uff08\u5373<code>window</code>, <code>document</code> \u548c <code>navigator</code> \u5bf9\u8c61\uff09\u5fc5\u987b\u662f\u5b58\u5728\u7684\u3002jsdom \u5e93\u63d0\u4f9b\u8fd9\u9879\u529f\u80fd\u3002</p> <pre><code>import jsdom from 'jsdom';\n\nif (typeof document === 'undefined') {\n  global.document = jsdom.jsdom('&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;');\n  global.window = document.defaultView;\n  global.navigator = global.window.navigator;\n}\n</code></pre> <p>\u5c06\u4e0a\u9762\u8fd9\u6bb5\u4ee3\u7801\uff0c\u4fdd\u5b58\u5728<code>test</code>\u5b50\u76ee\u5f55\u4e0b\uff0c\u53d6\u540d\u4e3a <code>setup.js</code>\u3002\u7136\u540e\uff0c\u4fee\u6539<code>package.json</code>\u3002</p> <pre><code>{\n  \"scripts\": {\n    \"test\": \"mocha --compilers js:babel-core/register --require ./test/setup.js\",\n  },\n}\n</code></pre> <p>\u73b0\u5728\uff0c\u6bcf\u6b21\u8fd0\u884c<code>npm test</code>\uff0c<code>setup.js</code> \u5c31\u4f1a\u5305\u542b\u5728\u6d4b\u8bd5\u811a\u672c\u4e4b\u4e2d\u4e00\u8d77\u6267\u884c\u3002</p> <p>\u7b2c\u4e09\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u662f\u6d4b\u8bd5\u5220\u9664\u6309\u94ae\u3002</p> <pre><code>describe('DOM Rendering', function () {\n  it('Click the delete button, the Todo item should be deleted', function () {\n    const app = TestUtils.renderIntoDocument(&lt;App/&gt;);\n    let todoItems = TestUtils.scryRenderedDOMComponentsWithTag(app, 'li');\n    let todoLength = todoItems.length;\n    let deleteButton = todoItems[0].querySelector('button');\n    TestUtils.Simulate.click(deleteButton);\n    let todoItemsAfterClick = TestUtils.scryRenderedDOMComponentsWithTag(app, 'li');\n    expect(todoItemsAfterClick.length).to.equal(todoLength - 1);\n  });\n});\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u6b65\u662f\u5c06<code>App</code>\u6e32\u67d3\u6210\u771f\u5b9e\u7684DOM\u8282\u70b9\uff0c\u7136\u540e\u4f7f\u7528<code>scryRenderedDOMComponentsWithTag</code>\u65b9\u6cd5\u627e\u51fa<code>app</code>\u91cc\u9762\u6240\u6709\u7684<code>li</code>\u5143\u7d20\u3002\u7136\u540e\uff0c\u53d6\u51fa\u7b2c\u4e00\u4e2a<code>li</code>\u5143\u7d20\u91cc\u9762\u7684<code>button</code>\u5143\u7d20\uff0c\u4f7f\u7528<code>TestUtils.Simulate.click</code>\u65b9\u6cd5\u5728\u8be5\u5143\u7d20\u4e0a\u6a21\u62df\u7528\u6237\u70b9\u51fb\u3002\u6700\u540e\uff0c\u5224\u65ad\u5269\u4e0b\u7684<code>li</code>\u5143\u7d20\u5e94\u8be5\u5c11\u4e86\u4e00\u4e2a\u3002</p> <p>\u8fd9\u79cd\u6d4b\u8bd5\u65b9\u6cd5\u7684\u57fa\u672c\u601d\u8def\uff0c\u5c31\u662f\u627e\u5230\u76ee\u6807\u8282\u70b9\uff0c\u7136\u540e\u89e6\u53d1\u67d0\u79cd\u52a8\u4f5c\u3002\u5b98\u65b9\u6d4b\u8bd5\u5de5\u5177\u5e93\u63d0\u4f9b\u591a\u79cd\u65b9\u6cd5\uff0c\u5e2e\u52a9\u7528\u6237\u627e\u5230\u6240\u9700\u7684DOM\u8282\u70b9\u3002</p> <ul> <li>scryRenderedDOMComponentsWithClass\uff1a\u627e\u51fa\u6240\u6709\u5339\u914d\u6307\u5b9a<code>className</code>\u7684\u8282\u70b9</li> <li>findRenderedDOMComponentWithClass\uff1a\u4e0e<code>scryRenderedDOMComponentsWithClass</code>\u7528\u6cd5\u76f8\u540c\uff0c\u4f46\u53ea\u8fd4\u56de\u4e00\u4e2a\u8282\u70b9\uff0c\u5982\u6709\u96f6\u4e2a\u6216\u591a\u4e2a\u5339\u914d\u7684\u8282\u70b9\u5c31\u62a5\u9519</li> <li>scryRenderedDOMComponentsWithTag\uff1a\u627e\u51fa\u6240\u6709\u5339\u914d\u6307\u5b9a\u6807\u7b7e\u7684\u8282\u70b9</li> <li>findRenderedDOMComponentWithTag\uff1a\u4e0e<code>scryRenderedDOMComponentsWithTag</code>\u7528\u6cd5\u76f8\u540c\uff0c\u4f46\u53ea\u8fd4\u56de\u4e00\u4e2a\u8282\u70b9\uff0c\u5982\u6709\u96f6\u4e2a\u6216\u591a\u4e2a\u5339\u914d\u7684\u8282\u70b9\u5c31\u62a5\u9519</li> <li>scryRenderedComponentsWithType\uff1a\u627e\u51fa\u6240\u6709\u7b26\u5408\u6307\u5b9a\u5b50\u7ec4\u4ef6\u7684\u8282\u70b9</li> <li>findRenderedComponentWithType\uff1a\u4e0e<code>scryRenderedComponentsWithType</code>\u7528\u6cd5\u76f8\u540c\uff0c\u4f46\u53ea\u8fd4\u56de\u4e00\u4e2a\u8282\u70b9\uff0c\u5982\u6709\u96f6\u4e2a\u6216\u591a\u4e2a\u5339\u914d\u7684\u8282\u70b9\u5c31\u62a5\u9519</li> <li>findAllInRenderedTree\uff1a\u904d\u5386\u5f53\u524d\u7ec4\u4ef6\u6240\u6709\u7684\u8282\u70b9\uff0c\u53ea\u8fd4\u56de\u90a3\u4e9b\u7b26\u5408\u6761\u4ef6\u7684\u8282\u70b9</li> </ul> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u4e0a\u9762\u8fd9\u4e9b\u65b9\u6cd5\u5f88\u96be\u62fc\u5199\uff0c\u597d\u5728\u8fd8\u6709\u53e6\u4e00\u79cd\u627e\u5230DOM\u8282\u70b9\u7684\u66ff\u4ee3\u65b9\u6cd5\u3002</p>"},{"location":"react/React%20%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#33-finddomnode","title":"3.3 findDOMNode","text":"<p>\u5982\u679c\u4e00\u4e2a\u7ec4\u4ef6\u5df2\u7ecf\u52a0\u8f7d\u8fdb\u5165DOM\uff0c<code>react-dom</code>\u6a21\u5757\u7684<code>findDOMNode</code>\u65b9\u6cd5\u4f1a\u8fd4\u56de\u8be5\u7ec4\u4ef6\u6240\u5bf9\u5e94\u7684DOM\u8282\u70b9\u3002</p> <p>\u6211\u4eec\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\u6765\u5199\u7b2c\u56db\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u7528\u6237\u70b9\u51fbTodo\u9879\u65f6\u7684\u884c\u4e3a\u3002</p> <pre><code>import {findDOMNode} from 'react-dom';\n\ndescribe('DOM Rendering', function (done) {\n  it('When click the Todo item\uff0cit should become done', function () {\n    const app = TestUtils.renderIntoDocument(&lt;App/&gt;);\n    const appDOM = findDOMNode(app);\n    const todoItem = appDOM.querySelector('li:first-child span');\n    let isDone = todoItem.classList.contains('todo-done');\n    TestUtils.Simulate.click(todoItem);\n    expect(todoItem.classList.contains('todo-done')).to.be.equal(!isDone);\n  });\n});\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>findDOMNode</code>\u65b9\u6cd5\u8fd4\u56de<code>App</code>\u6240\u5728\u7684DOM\u8282\u70b9\uff0c\u7136\u540e\u627e\u51fa\u7b2c\u4e00\u4e2a<code>li</code>\u8282\u70b9\uff0c\u5728\u5b83\u4e0a\u9762\u6a21\u62df\u7528\u6237\u70b9\u51fb\u3002\u6700\u540e\uff0c\u5224\u65ad<code>classList</code>\u5c5e\u6027\u91cc\u9762\u7684<code>todo-done</code>\uff0c\u662f\u5426\u51fa\u73b0\u6216\u6d88\u5931\u3002</p> <p>\u7b2c\u4e94\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u662f\u6dfb\u52a0\u65b0\u7684Todo\u9879\u3002</p> <pre><code>describe('DOM Rendering', function (done) {\n  it('Add an new Todo item, when click the new todo button', function () {\n    const app = TestUtils.renderIntoDocument(&lt;App/&gt;);\n    const appDOM = findDOMNode(app);\n    let todoItemsLength = appDOM.querySelectorAll('.todo-text').length;\n    let addInput = appDOM.querySelector('input');\n    addInput.value = 'Todo four';\n    let addButton = appDOM.querySelector('.add-todo button');\n    TestUtils.Simulate.click(addButton);\n    expect(appDOM.querySelectorAll('.todo-text').length).to.be.equal(todoItemsLength + 1);\n  });\n});\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5148\u627e\u5230<code>input</code>\u8f93\u5165\u6846\uff0c\u6dfb\u52a0\u4e00\u4e2a\u503c\u3002\u7136\u540e\uff0c\u627e\u5230<code>Add Todo</code>\u6309\u94ae\uff0c\u5728\u5b83\u4e0a\u9762\u6a21\u62df\u7528\u6237\u70b9\u51fb\u3002\u6700\u540e\uff0c\u5224\u65ad\u65b0\u7684Todo\u9879\u662f\u5426\u51fa\u73b0\u5728Todo\u5217\u8868\u4e4b\u4e2d\u3002</p> <p><code>findDOMNode</code>\u65b9\u6cd5\u7684\u6700\u5927\u4f18\u70b9\uff0c\u5c31\u662f\u652f\u6301\u590d\u6742\u7684CSS\u9009\u62e9\u5668\u3002\u8fd9\u662f<code>TestUtils</code>\u672c\u8eab\u4e0d\u63d0\u4f9b\u7684\u3002</p>"},{"location":"react/React%20%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#enzyme","title":"\u56db\u3001Enzyme\u5e93","text":"<p>Enzyme\u662f\u5b98\u65b9\u6d4b\u8bd5\u5de5\u5177\u5e93\u7684\u5c01\u88c5\uff0c\u5b83\u6a21\u62df\u4e86jQuery\u7684API\uff0c\u975e\u5e38\u76f4\u89c2\uff0c\u6613\u4e8e\u4f7f\u7528\u548c\u5b66\u4e60\u3002</p> <p>\u5b83\u63d0\u4f9b\u4e09\u79cd\u6d4b\u8bd5\u65b9\u6cd5\u3002</p> <ul> <li><code>shallow</code></li> <li><code>render</code></li> <li><code>mount</code></li> </ul>"},{"location":"react/React%20%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#41-shallow","title":"4.1 shallow","text":"<p>shallow\u65b9\u6cd5\u5c31\u662f\u5b98\u65b9\u7684shallow rendering\u7684\u5c01\u88c5\u3002</p> <p>\u4e0b\u9762\u662f\u7b2c\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6d4b\u8bd5<code>App</code>\u7684\u6807\u9898\u3002</p> <pre><code>import {shallow} from 'enzyme';\n\ndescribe('Enzyme Shallow', function () {\n  it('App\\'s title should be Todos', function () {\n    let app = shallow(&lt;App/&gt;);\n    expect(app.find('h1').text()).to.equal('Todos');\n  });\n};\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>shallow</code>\u65b9\u6cd5\u8fd4\u56de<code>App</code>\u7684\u6d45\u6e32\u67d3\uff0c\u7136\u540e<code>app.find</code>\u65b9\u6cd5\u627e\u51fa<code>h1</code>\u5143\u7d20\uff0c<code>text</code>\u65b9\u6cd5\u53d6\u51fa\u8be5\u5143\u7d20\u7684\u6587\u672c\u3002</p> <p>\u5173\u4e8e<code>find</code>\u65b9\u6cd5\uff0c\u6709\u4e00\u4e2a\u6ce8\u610f\u70b9\uff0c\u5c31\u662f\u5b83\u53ea\u652f\u6301\u7b80\u5355\u9009\u62e9\u5668\uff0c\u7a0d\u5fae\u590d\u6742\u7684\u4e00\u70b9\u7684CSS\u9009\u62e9\u5668\u90fd\u4e0d\u652f\u6301\u3002</p> <pre><code>component.find('.my-class'); // by class name\ncomponent.find('#my-id'); // by id\ncomponent.find('td'); // by tag\ncomponent.find('div.custom-class'); // by compound selector\ncomponent.find(TableRow); // by constructor\ncomponent.find('TableRow'); // by display name\n</code></pre>"},{"location":"react/React%20%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#42-render","title":"4.2 render","text":"<p><code>render</code>\u65b9\u6cd5\u5c06React\u7ec4\u4ef6\u6e32\u67d3\u6210\u9759\u6001\u7684HTML\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u5206\u6790\u8fd9\u6bb5HTML\u4ee3\u7801\u7684\u7ed3\u6784\uff0c\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u3002\u5b83\u8ddf<code>shallow</code>\u65b9\u6cd5\u975e\u5e38\u50cf\uff0c\u4e3b\u8981\u7684\u4e0d\u540c\u662f\u91c7\u7528\u4e86\u7b2c\u4e09\u65b9HTML\u89e3\u6790\u5e93Cheerio\uff0c\u5b83\u8fd4\u56de\u7684\u662f\u4e00\u4e2aCheerio\u5b9e\u4f8b\u5bf9\u8c61\u3002</p> <p>\u4e0b\u9762\u662f\u7b2c\u4e8c\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6d4b\u8bd5\u6240\u6709Todo\u9879\u7684\u521d\u59cb\u72b6\u6001\u3002</p> <pre><code>import {render} from 'enzyme';\n\ndescribe('Enzyme Render', function () {\n  it('Todo item should not have todo-done class', function () {\n    let app = render(&lt;App/&gt;);\n    expect(app.find('.todo-done').length).to.equal(0);\n  });\n});\n</code></pre> <p>\u5728\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4f60\u53ef\u4ee5\u770b\u5230\uff0c<code>render</code>\u65b9\u6cd5\u4e0e<code>shallow</code>\u65b9\u6cd5\u7684API\u57fa\u672c\u662f\u4e00\u81f4\u7684\u3002 Enzyme\u7684\u8bbe\u8ba1\u5c31\u662f\uff0c\u8ba9\u4e0d\u540c\u7684\u5e95\u5c42\u5904\u7406\u5f15\u64ce\uff0c\u90fd\u5177\u6709\u540c\u6837\u7684API\uff08\u6bd4\u5982<code>find</code>\u65b9\u6cd5\uff09\u3002</p>"},{"location":"react/React%20%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#43-mount","title":"4.3 mount","text":"<p><code>mount</code>\u65b9\u6cd5\u7528\u4e8e\u5c06React\u7ec4\u4ef6\u52a0\u8f7d\u4e3a\u771f\u5b9eDOM\u8282\u70b9\u3002</p> <p>\u4e0b\u9762\u662f\u7b2c\u4e09\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6d4b\u8bd5\u5220\u9664\u6309\u94ae\u3002</p> <pre><code>import {mount} from 'enzyme';\n\ndescribe('Enzyme Mount', function () {\n  it('Delete Todo', function () {\n    let app = mount(&lt;App/&gt;);\n    let todoLength = app.find('li').length;\n    app.find('button.delete').at(0).simulate('click');\n    expect(app.find('li').length).to.equal(todoLength - 1);\n  });\n});\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>find</code>\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5305\u542b\u4e86\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u5b50\u7ec4\u4ef6\u3002\u5728\u5b83\u7684\u57fa\u7840\u4e0a\uff0c<code>at</code>\u65b9\u6cd5\u8fd4\u56de\u6307\u5b9a\u4f4d\u7f6e\u7684\u5b50\u7ec4\u4ef6\uff0c<code>simulate</code>\u65b9\u6cd5\u5c31\u5728\u8fd9\u4e2a\u7ec4\u4ef6\u4e0a\u89e6\u53d1\u67d0\u79cd\u884c\u4e3a\u3002</p> <p>\u4e0b\u9762\u662f\u7b2c\u56db\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6d4b\u8bd5Todo\u9879\u7684\u70b9\u51fb\u884c\u4e3a\u3002</p> <pre><code>import {mount} from 'enzyme';\n\ndescribe('Enzyme Mount', function () {\n  it('Turning a Todo item into Done', function () {\n    let app = mount(&lt;App/&gt;);\n    let todoItem = app.find('.todo-text').at(0);\n    todoItem.simulate('click');\n    expect(todoItem.hasClass('todo-done')).to.equal(true);\n  });\n});\n</code></pre> <p>\u4e0b\u9762\u662f\u7b2c\u4e94\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6d4b\u8bd5\u6dfb\u52a0\u65b0\u7684Todo\u9879\u3002</p> <pre><code>import {mount} from 'enzyme';\n\ndescribe('Enzyme Mount', function () {\n  it('Add a new Todo', function () {\n    let app = mount(&lt;App/&gt;);\n    let todoLength = app.find('li').length;\n    let addInput = app.find('input').get(0);\n    addInput.value = 'Todo Four';\n    app.find('.add-button').simulate('click');\n    expect(app.find('li').length).to.equal(todoLength + 1);\n  });\n});\n</code></pre>"},{"location":"react/React%20%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#44-api","title":"4.4 API","text":"<p>\u4e0b\u9762\u662fEnzyme\u7684\u4e00\u90e8\u5206API\uff0c\u4f60\u53ef\u4ee5\u4ece\u4e2d\u4e86\u89e3\u5b83\u7684\u5927\u6982\u7528\u6cd5\u3002</p> <ul> <li><code>.get(index)</code>\uff1a\u8fd4\u56de\u6307\u5b9a\u4f4d\u7f6e\u7684\u5b50\u7ec4\u4ef6\u7684DOM\u8282\u70b9</li> <li><code>.at(index)</code>\uff1a\u8fd4\u56de\u6307\u5b9a\u4f4d\u7f6e\u7684\u5b50\u7ec4\u4ef6</li> <li><code>.first()</code>\uff1a\u8fd4\u56de\u7b2c\u4e00\u4e2a\u5b50\u7ec4\u4ef6</li> <li><code>.last()</code>\uff1a\u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u5b50\u7ec4\u4ef6</li> <li><code>.type()</code>\uff1a\u8fd4\u56de\u5f53\u524d\u7ec4\u4ef6\u7684\u7c7b\u578b</li> <li><code>.text()</code>\uff1a\u8fd4\u56de\u5f53\u524d\u7ec4\u4ef6\u7684\u6587\u672c\u5185\u5bb9</li> <li><code>.html()</code>\uff1a\u8fd4\u56de\u5f53\u524d\u7ec4\u4ef6\u7684HTML\u4ee3\u7801\u5f62\u5f0f</li> <li><code>.props()</code>\uff1a\u8fd4\u56de\u6839\u7ec4\u4ef6\u7684\u6240\u6709\u5c5e\u6027</li> <li><code>.prop(key)</code>\uff1a\u8fd4\u56de\u6839\u7ec4\u4ef6\u7684\u6307\u5b9a\u5c5e\u6027</li> <li><code>.state([key])</code>\uff1a\u8fd4\u56de\u6839\u7ec4\u4ef6\u7684\u72b6\u6001</li> <li><code>.setState(nextState)</code>\uff1a\u8bbe\u7f6e\u6839\u7ec4\u4ef6\u7684\u72b6\u6001</li> <li><code>.setProps(nextProps)</code>\uff1a\u8bbe\u7f6e\u6839\u7ec4\u4ef6\u7684\u5c5e\u6027</li> </ul> <p>\uff08\u5b8c\uff09</p>"},{"location":"react/React%20%E7%9A%84%20PureComponent%20%E4%B8%8E%20Component/","title":"React \u7684 PureComponent \u4e0e Component","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 12219  \u9605\u8bfb25\u5206\u949f</p>"},{"location":"react/React%20%E7%9A%84%20PureComponent%20%E4%B8%8E%20Component/#1","title":"1\u3001\u5b98\u65b9\u6587\u6863\u89e3\u91ca","text":"<p>\u5728 React \u4e2d\uff0cComponent \u548c PureComponent \u6709\u4e00\u4e9b\u533a\u522b\uff0c\u5b98\u65b9\u7684\u89e3\u91ca\u5982\u4e0b\uff1a</p> <p><code>React.Component</code> is the base class for React components when they are defined using ES6 classes:</p> <p><pre><code>class Greeting extends React.Component {\n      render() {\n         return &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;;\n      }\n}\n</code></pre> </p> <p>See the React.Component API Reference for a list of methods and properties related to the base <code>React.Component</code> class.</p> <p>\u4e2d\u6587\u7684\u610f\u601d\u662f\uff1aReact.Component \u57fa\u4e8e React \u7684\u7ec4\u4ef6\uff0c\u4f7f\u7528 ES6 \u7684\u7c7b\u8bed\u6cd5\uff08class\uff09\u53ef\u4ee5\u70b9\u51fb\u94fe\u63a5\u67e5\u770b\u4e00\u7cfb\u5217\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\u3002</p> <p>\u4e2d\u6587\u610f\u601d\uff1aReact.PureComponent \u4e0e React.Component \u57fa\u672c\u76f8\u540c\u3002</p> <p>\u533a\u522b\uff1aComponent \u6ca1\u6709\u76f4\u63a5\u5b9e\u73b0 shouldComponentUpdate \u8fd9\u4e2a\u65b9\u6cd5\uff1b\u4f46\u662f PureComponent\u901a\u8fc7\u6d45\u5c42\u7684Porps \u548c state \u7684\u5bf9\u6bd4\uff0c\u5185\u90e8\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\u3002</p> <p>\u5982\u679c\u4f60\u7684\u7ec4\u4ef6 render \u51fd\u6570\u6e32\u67d3\u65f6\u5177\u6709\u76f8\u540c\u7684 props \u548c state\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528 PureComponent \u6765\u63d0\u9ad8\u6027\u80fd\u3002</p> <p>\u6ce8\u610f\uff1aPureComponent\u4ec5\u4ec5\u5b9e\u73b0\u5bf9\u8c61\u7684\u6d45\u5bf9\u6bd4\u3002\u5982\u679c\u5bf9\u8c61\u4e2d\u5305\u542b\u590d\u6742\u7684\u6570\u636e\u7ed3\u6784\uff0c\u4f1a\u4ea7\u751f\u8f83\u5927\u7684\u533a\u522b\u3002\u9664\u975e\u4f60\u7684state \u548c props \u662f\u7b80\u5355\u7684\uff0c\u6216\u8005\u5f53\u4f60\u7684\u6df1\u5c42\u6570\u636e\u7ed3\u6784\u53d8\u5316\u65f6\u4f7f\u7528 forceUpdate\uff0c\u6216\u8005\u4f7f\u7528 immutable \u5bf9\u8c61\u6765\u5feb\u901f\u6bd4\u8f83\u5d4c\u5957\uff08\u590d\u6742\uff09\u7684\u6570\u636e\u3002</p> <p>\u6b64\u5916\uff1aPureComponent\u4f1a\u8df3\u8fc7\u6574\u4e2a\u7ec4\u4ef6\u5b50\u6811\u7684props\u66f4\u65b0\uff0c\u8981\u786e\u4fdd\u5168\u90e8\u7684\u5b50\u7ec4\u4ef6\u4e5f\u662f pure \u7684\u5f62\u5f0f\u3002</p>"},{"location":"react/React%20%E7%9A%84%20PureComponent%20%E4%B8%8E%20Component/#reactpurecomponent","title":"<code>React.PureComponent</code>","text":"<p><code>React.PureComponent</code> is similar to <code>React.Component</code>. The difference between them is that <code>React.Component</code> doesn\u2019t implement <code>shouldComponentUpdate()</code>, but <code>React.PureComponent</code> implements it with a shallow prop and state comparison.</p> <p>If your React component\u2019s <code>render()</code> function renders the same result given the same props and state, you can use <code>React.PureComponent</code> for a performance boost in some cases.</p> <p>Note</p> <p><code>React.PureComponent</code>\u2019s <code>shouldComponentUpdate()</code> only shallowly compares the objects. If these contain complex data structures, it may produce false-negatives for deeper differences. Only extend <code>PureComponent</code> when you expect to have simple props and state, or use <code>forceUpdate()</code> when you know deep data structures have changed. Or, consider using immutable objects to facilitate fast comparisons of nested data.</p> <p>Furthermore, <code>React.PureComponent</code>\u2019s <code>shouldComponentUpdate()</code> skips prop updates for the whole component subtree. Make sure all the children components are also \u201cpure\u201d.</p>"},{"location":"react/React%20%E7%9A%84%20PureComponent%20%E4%B8%8E%20Component/#2","title":"2\u3001\u533a\u522b\u5177\u4f53\u8bf4\u660e","text":""},{"location":"react/React%20%E7%9A%84%20PureComponent%20%E4%B8%8E%20Component/#21","title":"2.1 \u6027\u80fd\u4e0d\u540c","text":"<p>\u5b83\u4eec\u51e0\u4e4e\u76f8\u540c\uff0cPureComponent \u901a\u8fc7prop\u3001state\u7684\u6d45\u6bd4\u8f83\u6765\u5b9e\u73b0 shouldComponentUpdate\uff0c\u67d0\u4e9b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u7528 PureComponen t\u63d0\u5347\u6027\u80fd.</p> <p>1.\u6d45\u5bf9\u6bd4(shallowEqual)\uff0c\u5373 react \u4e2d\u7684\u4e00\u4e2a\u51fd\u6570\uff0c\u7136\u540e\u6839\u636e\u4e0b\u9762\u7684\u65b9\u6cd5\u8fdb\u884c\u662f\u4e0d\u662f<code>PureComponent</code>\u7684\u5224\u65ad\uff0c\u5e2e\u6211\u4eec\u505a\u4e86\u672c\u6765\u5e94\u8be5\u6211\u4eec\u5728<code>shouldComponentUpdate</code>\u4e2d\u505a\u7684\u4e8b\u60c5\u3002</p> <p>\u5c0f\u7ed3\uff1aComponent \u4e2d\u9700\u8981\u624b\u52a8\u6267\u884c\u7684 ComponentShouldUpdate \u51fd\u6570\uff0c\u5728PureComponent\u4e2d\u5df2\u7ecf\u81ea\u52a8\u5b8c\u6210\u4e86\uff08\u81ea\u52a8\u6d45\u5bf9\u6bd4\uff09\u3002</p> <pre><code>if (this._compositeType === CompositeTypes.PureClass) {\n  shouldUpdate = !shallowEqual(prevProps, nextProps) || ! shallowEqual(inst.state, nextState);\n}\n</code></pre> <p>\u800c\u672c\u6765\u6211\u4eec\u505a\u7684\u4e8b\u60c5\u5982\u4e0b\uff0c\u8fd9\u91cc\u5224\u65ad\u4e86<code>state</code>\u6709\u6ca1\u6709\u53d1\u751f\u53d8\u5316\uff08prop\u540c\u7406\uff09\uff0c\u4ece\u800c\u51b3\u5b9a\u8981\u4e0d\u8981\u91cd\u65b0\u6e32\u67d3\uff0c\u8fd9\u91cc\u7684\u51fd\u6570\u5728\u4e00\u4e2a\u7ee7\u627f\u4e86<code>Component</code>\u7684\u7ec4\u4ef6\u4e2d\uff0c\u800c\u8fd9\u91cc<code>this.state.person</code>\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4f60\u4f1a\u53d1\u73b0\uff0c\u5728\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\u6ca1\u6709\u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019\u662f\u4e0d\u4f1a\u91cd\u65b0<code>render</code>\u7684\uff08\u5373\u4e0b\u9762\u63d0\u5230\u7684\u7b2c\u4e09\u70b9\uff09\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7528<code>shouldComponentUpdate</code>\u8fdb\u884c\u4f18\u5316\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u5982\u679c\u8fd4\u56de<code>false</code>\uff0c\u8868\u793a\u4e0d\u9700\u8981\u91cd\u65b0\u8fdb\u884c\u6e32\u67d3\uff0c\u8fd4\u56de<code>true</code>\u5219\u91cd\u65b0\u6e32\u67d3\uff0c\u9ed8\u8ba4\u8fd4\u56de<code>true</code></p> <pre><code>shouldComponentUpdate(nextProps, nextState) {\n  return (nextState.person !== this.state.person);\n}\n</code></pre> <p>2.\u5982\u4e0b\u663e\u793a\u7684\u662f\u4e00\u4e2a Test \u7ec4\u4ef6\uff0c\u8bbe\u7f6e\u4e86\u4e00\u4e2a<code>state</code>\u662f<code>isShow</code>\uff0c\u901a\u8fc7\u4e00\u4e2a\u6309\u94ae\u70b9\u51fb\u53ef\u4ee5\u6539\u53d8\u5b83\u7684\u503c\uff0c\u7ed3\u679c\u662f\uff1a\u521d\u59cb\u5316\u7684\u65f6\u5019\u8f93\u51fa\u7684\u662f<code>constructor</code>\uff0c<code>render</code>\uff0c\u800c\u7b2c\u4e00\u6b21\u70b9\u51fb\u6309\u94ae\uff0c\u4f1a\u8f93\u51fa\u4e00\u6b21render\uff0c\u5373\u91cd\u65b0\u6e32\u67d3\u4e86\u4e00\u6b21\uff0c\u754c\u9762\u4e5f\u4f1a\u4ece\u663e\u793a<code>false</code>\u53d8\u6210\u663e\u793a<code>true</code>\uff0c\u4f46\u662f\u5f53\u8fd9\u4e2a\u7ec4\u4ef6\u662f\u7ee7\u627f\u81ea<code>PureComponent</code>\u7684\u65f6\u5019\uff0c\u518d\u70b9\u51fb\u7684\u65f6\uff0c\u4e0d\u4f1a\u518d\u8f93\u51fa<code>render</code>\uff0c\u5373\u4e0d\u4f1a\u518d\u91cd\u65b0\u6e32\u67d3\u4e86\uff0c\u800c\u5f53\u8fd9\u4e2a\u7ec4\u4ef6\u662f\u7ee7\u627f\u81ea<code>Component</code>\u65f6\uff0c\u8fd8\u662f\u4f1a\u8f93\u51fa<code>render</code>\uff0c\u8fd8\u662f\u4f1a\u91cd\u65b0\u6e32\u67d3\uff0c\u8fd9\u65f6\u5019\u5c31\u662f<code>PureComponent</code>\u5185\u90e8\u505a\u4e86\u4f18\u5316\u7684\u4f53\u73b0\u3002\u540c\u7406\u4e5f\u9002\u7528\u4e8e<code>string</code>\uff0c<code>number</code>\u7b49\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0c\u56e0\u4e3a\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0c\u503c\u6539\u53d8\u4e86\u5c31\u7b97\u6539\u53d8\u4e86\u3002</p> <p>\u5c0f\u7ed3\uff1a\u5982\u679c\u4f20\u503c\u90fd\u662f\u7b80\u5355\u5bf9\u8c61\uff0c\u53ef\u4ee5\u653e\u5fc3\u4f7f\u7528\uff1b\u5982\u679c\u4f20\u503c\u6709\u590d\u6742\u5bf9\u8c61\uff0c\u9700\u8981\u614e\u91cd\u4f7f\u7528\u3002</p> <pre><code>import React, { PureComponent } from 'react';\n\nclass Test extends PureComponent{\n  constructor() {\n    super();\n    this.state = {\n      isShow: false\n    };\n  }\n\n  changeState = () =&gt; {\n    this.setState({ isShow: true });\n  };\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;button onClick={this.changeState}&gt;Click it&lt;/button&gt;\n        &lt;div&gt;{this.state.isShow.toString()}&lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre> <p>5.\u5f53\u8fd9\u4e2a<code>this.state.arr</code>\u662f\u4e00\u4e2a\u6570\u7ec4\u65f6\uff0c\u4e14\u8fd9\u4e2a\u7ec4\u4ef6\u662f\u7ee7\u627f\u81ea<code>PureComponent</code>\u65f6\uff0c\u521d\u59cb\u5316\u4f9d\u65e7\u662f\u8f93\u51fa<code>constructor</code>\u548c<code>render</code>\uff0c\u4f46\u662f\u5f53\u70b9\u51fb\u6309\u94ae\u65f6\uff0c\u754c\u9762\u4e0a\u6ca1\u6709\u53d8\u5316\uff0c\u4e5f\u6ca1\u6709\u8f93\u51fa<code>render</code>\uff0c\u8bc1\u660e\u6ca1\u6709\u6e32\u67d3\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u4ece\u4e0b\u9762\u7684\u6ce8\u91ca\u4e2d\u770b\u5230\uff0c\u6bcf\u70b9\u51fb\u4e00\u6b21\u6309\u94ae\uff0c\u6211\u4eec\u60f3\u8981\u4fee\u6539\u7684<code>arr</code>\u7684\u503c\u5df2\u7ecf\u6539\u53d8\uff0c\u800c\u8fd9\u4e2a\u503c\u5c06\u53bb\u4fee\u6539<code>this.state.arr</code>,\u4f46\u662f\u56e0\u4e3a\u5728<code>PureComponent</code>\u4e2d<code>\u6d45\u6bd4\u8f83</code>\u8fd9\u4e2a\u6570\u7ec4\u7684\u5f15\u7528\u6ca1\u6709\u53d8\u5316\u6240\u4ee5\u6ca1\u6709\u6e32\u67d3\uff0c<code>this.state.arr</code>\u4e5f\u6ca1\u6709\u66f4\u65b0\uff0c\u56e0\u4e3a\u5728<code>this.setState()</code>\u4ee5\u540e\uff0c\u503c\u662f\u5728<code>render</code>\u7684\u65f6\u5019\u66f4\u65b0\u7684\u3002</p> <p>\u5c0f\u7ed3\uff1a\u5982\u679c\u662f\u590d\u6742\u6570\u636e\u7c7b\u578b\uff0c\u8fd9\u91cc\u4f1a\u9020\u6210\u9519\u8bef\u7684\u663e\u793a\uff08setState\u6d45\u590d\u5236\u66f4\u65b0\uff0c\u4f46\u662f\u754c\u9762\u4e0d\u4f1a\u91cd\u65b0\u6e32\u67d3\uff09</p> <p>6.\u4f46\u662f\u5f53\u8fd9\u4e2a\u7ec4\u4ef6\u662f\u7ee7\u627f\u81ea<code>Component</code>\u7684\u65f6\u5019\uff0c\u521d\u59cb\u5316\u4f9d\u65e7\u662f\u8f93\u51fa<code>constructor</code>\u548c<code>render</code>\uff0c\u4f46\u662f\u5f53\u70b9\u51fb\u6309\u94ae\u65f6\uff0c\u754c\u9762\u4e0a\u51fa\u73b0\u4e86\u53d8\u5316\uff0c\u5373\u6211\u4eec\u6253\u5370\u5904\u7406\u7684<code>arr</code>\u7684\u503c\u8f93\u51fa\uff0c\u800c\u4e14\u6bcf\u70b9\u51fb\u4e00\u6b21\u6309\u94ae\u90fd\u4f1a\u8f93\u51fa\u4e00\u6b21<code>render</code>\uff0c\u8bc1\u660e\u5df2\u7ecf\u91cd\u65b0\u6e32\u67d3\uff0c<code>this.state.arr</code>\u7684\u503c\u5df2\u7ecf\u66f4\u65b0\u3002</p> <p>\u5c0f\u7ed3\uff1a\u5982\u679c\u662f\u590d\u6742\u6570\u636e\u7c7b\u578b\uff0c\u4f7f\u7528Component\u53ef\u4ee5\u6b63\u786e\u663e\u793a</p> <pre><code>import React, { PureComponent } from 'react';\n\nclass Test extends PureComponent {\n  constructor() {\n    super();\n    this.state = {\n      arr:['1']\n    };\n  }\n\n  changeState = () =&gt; {\n    let { arr } = this.state;\n    arr.push('2');\n    console.log(arr);\n    // [\"1\", \"2\"]\n    // [\"1\", \"2\", \"2\"]\n    // [\"1\", \"2\", \"2\", \"2\"] \n    this.setState({ arr });\n  };\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;button onClick={this.changeState}&gt;\u70b9\u51fb&lt;/button&gt;\n        &lt;div&gt;\n          {this.state.arr.map((item) =&gt; { return item; })}\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre> <p>7.\u4e0b\u9762\u7684\u4f8b\u5b50\u7528<code>\u6269\u5c55\u8fd0\u7b97\u7b26</code>\u4ea7\u751f\u65b0\u6570\u7ec4\uff0c\u4f7f<code>this.state.arr</code>\u7684\u5f15\u7528\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u6240\u4ee5\u521d\u59cb\u5316\u7684\u65f6\u5019\u8f93\u51fa<code>constructor</code>\u548c<code>render</code>\u540e\uff0c\u6bcf\u6b21\u70b9\u51fb\u6309\u94ae\u90fd\u4f1a\u8f93\u51fa<code>render</code>\uff0c\u754c\u9762\u4e5f\u4f1a\u53d8\u5316\uff0c\u4e0d\u7ba1\u8be5\u7ec4\u4ef6\u662f\u7ee7\u627f\u81ea<code>Component</code>\u8fd8\u662f<code>PureComponent</code>\u7684</p> <p>\u5c0f\u7ed3\uff1a\u5982\u679cstate\u6216\u8005Props\u662f\u6df1\u590d\u5236\uff0c\u90a3\u4e48\u4e24\u79cd\u65b9\u6cd5\u90fd\u53ef\u4ee5\u5b9e\u73b0\u66f4\u65b0</p> <pre><code>import React, { PureComponent } from 'react';\n\nclass Test extends PureComponent{\n\n  constructor() {\n    super();\n    this.state = {\n      arr:['1']\n    };\n  }\n\n  changeState = () =&gt; {\n    let { arr } = this.state;\n    this.setState({\n      arr: [...arr, '2']\n    })\n  };\n\n  render() {\n    console.log('render');\n    return (\n      &lt;div&gt;\n        &lt;button onClick={this.changeState}&gt;\u70b9\u51fb&lt;/button&gt;\n        &lt;div&gt;\n          {this.state.arr.map((item) =&gt; {\n            return item;\n          })}\n          &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>"},{"location":"react/React%20%E7%9A%84%20PureComponent%20%E4%B8%8E%20Component/#22","title":"2.2. \u5bf9\u5b50\u7ec4\u4ef6\u7684\u5f71\u54cd","text":"<p>PureComponent\u4e0d\u4ec5\u4f1a\u5f71\u54cd\u672c\u8eab\uff0c\u800c\u4e14\u4f1a\u5f71\u54cd\u5b50\u7ec4\u4ef6\uff0c\u6240\u4ee5PureComponent\u6700\u597d\u7528\u5728\u6570\u636e\u5c55\u793a\u7ec4\u4ef6\u4e2d</p> <p>1.\u6211\u4eec\u8ba9<code>IndexPage</code>\u7ec4\u4ef6\u91cc\u9762\u5305\u542b\u4e00\u4e2a\u5b50\u7ec4\u4ef6<code>Example</code>\u6765\u5c55\u793a<code>PureComponent</code>\u662f\u5982\u4f55\u5f71\u54cd\u5b50\u7ec4\u4ef6\u7684</p> <p>2.\u7236\u7ec4\u4ef6\u7ee7\u627f<code>PureComponent</code>\uff0c\u5b50\u7ec4\u4ef6\u7ee7\u627f<code>Component</code>\u65f6\uff1a\u4e0b\u9762\u7684\u7ed3\u679c\u521d\u59cb\u5316\u65f6\u8f93\u51fa\u4e3a<code>constructor</code>\uff0c<code>IndexPage render</code>\uff0c<code>example render</code>\uff0c\u4f46\u662f\u5f53\u6211\u4eec\u70b9\u51fb\u6309\u94ae\u65f6\uff0c\u754c\u9762\u6ca1\u6709\u53d8\u5316\uff0c\u56e0\u4e3a\u8fd9\u4e2a<code>this.state.person</code>\u5bf9\u8c61\u7684\u5f15\u7528\u6ca1\u6709\u6539\u53d8\uff0c\u53ea\u662f\u6539\u53d8\u4e86\u5b83\u91cc\u9762\u7684\u5c5e\u6027\u503c\u6240\u4ee5\u5c3d\u7ba1\u5b50\u7ec4\u4ef6\u662f\u7ee7\u627f<code>Component</code>\u7684\u4e5f\u6ca1\u6709\u529e\u6cd5\u6e32\u67d3\uff0c\u56e0\u4e3a\u7236\u7ec4\u4ef6\u662f<code>PureComponent</code>\uff0c\u7236\u7ec4\u4ef6\u6839\u672c\u6ca1\u6709\u6e32\u67d3\uff0c\u6240\u4ee5\u5b50\u7ec4\u4ef6\u4e5f\u4e0d\u4f1a\u6e32\u67d3</p> <p>3.\u7236\u7ec4\u4ef6\u7ee7\u627f<code>PureComponent</code>\uff0c\u5b50\u7ec4\u4ef6\u7ee7\u627f<code>PureComponent</code>\u65f6\uff1a\u56e0\u4e3a\u6e32\u67d3\u5728\u7236\u7ec4\u4ef6\u7684\u65f6\u5019\u5c31\u6ca1\u6709\u8fdb\u884c\uff0c\u76f8\u5f53\u4e8e\u88ab\u62e6\u622a\u4e86\uff0c\u6240\u4ee5\u5b50\u7ec4\u4ef6\u662f<code>PureComponent</code>\u8fd8\u662f<code>Component</code>\u6839\u672c\u4e0d\u4f1a\u5f71\u54cd\u7ed3\u679c\uff0c\u754c\u9762\u4f9d\u65e7\u6ca1\u6709\u53d8\u5316</p> <p>4.\u7236\u7ec4\u4ef6\u7ee7\u627f<code>Component</code>\uff0c\u5b50\u7ec4\u4ef6\u7ee7\u627f<code>PureComponent</code>\u65f6\uff1a\u7ed3\u679c\u548c\u6211\u4eec\u9884\u671f\u7684\u4e00\u6837\uff0c\u5373\u521d\u59cb\u5316\u662f\u4f1a\u8f93\u51fa<code>constructor</code>\uff0c<code>IndexPage render</code>\uff0c<code>example render</code>\uff0c\u4f46\u662f\u70b9\u51fb\u7684\u65f6\u5019\u53ea\u4f1a\u51fa\u73b0<code>IndexPage render</code>\uff0c\u56e0\u4e3a\u7236\u7ec4\u4ef6\u662f<code>Component</code>\uff0c\u6240\u4ee5\u7236\u7ec4\u4ef6\u4f1a\u6e32\u67d3\uff0c\u4f46\u662f  \u5f53\u7236\u7ec4\u4ef6\u628a\u503c\u4f20\u7ed9\u5b50\u7ec4\u4ef6\u7684\u65f6\u5019\uff0c\u56e0\u4e3a\u5b50\u7ec4\u4ef6\u662f<code>PureComponent</code>\uff0c\u6240\u4ee5\u5b83\u4f1a\u5bf9<code>prop</code>\u8fdb\u884c\u6d45\u6bd4\u8f83\uff0c\u53d1\u73b0\u8fd9\u4e2a<code>person</code>\u5bf9\u8c61\u7684\u5f15\u7528\u6ca1\u6709\u53d1\u751f\u53d8\u5316\uff0c\u6240\u4ee5\u4e0d\u4f1a\u91cd\u65b0\u6e32\u67d3\uff0c\u800c\u754c\u9762\u663e\u793a\u662f\u7531\u5b50\u7ec4\u4ef6\u663e\u793a\u7684\uff0c\u6240\u4ee5\u754c\u9762\u4e5f\u4e0d\u4f1a\u53d8\u5316</p> <p>5.\u7236\u7ec4\u4ef6\u7ee7\u627f<code>Component</code>\uff0c\u5b50\u7ec4\u4ef6\u7ee7\u627f<code>Component</code>\u65f6\uff1a\u521d\u59cb\u5316\u662f\u4f1a\u8f93\u51fa<code>constructor</code>\uff0c<code>IndexPage render</code>\uff0c<code>example render</code>\uff0c\u5f53\u6211\u4eec\u7b2c\u4e00\u6b21\u70b9\u51fb\u6309\u94ae\u4ee5\u540e\uff0c\u754c\u9762\u53d1\u751f\u53d8\u5316\uff0c\u540e\u9762\u5c31\u4e0d\u518d\u6539\u53d8\uff0c\u56e0\u4e3a\u6211\u4eec\u4e00\u76f4\u628a\u5b83\u8bbe\u7f6e\u4e3asxt2\uff0c\u4f46\u662f\u6bcf\u70b9\u51fb\u4e00\u6b21\u90fd\u4f1a\u8f93\u51fa<code>IndexPage render</code>\uff0c<code>example render</code>\uff0c\u56e0\u4e3a\u6bcf\u6b21\u4e0d\u7ba1\u7236\u7ec4\u4ef6\u8fd8\u662f\u5b50\u7ec4\u4ef6\u90fd\u4f1a\u6e32\u67d3</p> <p>6.\u6240\u4ee5\u6b63\u5982\u4e0b\u9762\u7b2c\u56db\u6761\u8bf4\u7684\uff0c\u5982\u679c<code>state</code>\u548c<code>prop</code>\u4e00\u76f4\u53d8\u5316\u7684\u8bdd\uff0c\u8fd8\u662f\u5efa\u8bae\u4f7f\u7528<code>Component</code>\uff0c\u5e76\u4e14<code>PureComponent</code>\u7684\u6700\u597d\u4f5c\u4e3a\u5c55\u793a\u7ec4\u4ef6</p> <pre><code>import React, { PureComponent, Component } from 'react';\nimport Example from \"../components/Example\";\n\nclass Test extends PureComponent{\n\n  constructor() {\n    super();\n    this.state = {\n      person: {\n        name: 'sxt'\n      }\n    };\n  }\n\n  changeState = () =&gt; {\n    let { person } = this.state;\n    person.name = 'sxt2';\n    this.setState({ person });\n  };\n\n  render() {\n    const { person } = this.state;\n    return (\n      &lt;div&gt;\n        &lt;button onClick={this.changeState}&gt;\u70b9\u51fb&lt;/button&gt;\n        &lt;Example person={person} /&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\n\nimport React, { Component } from 'react';\nclass Example extends Component {\n  render() {\n    const { person } = this.props;\n    return(\n      &lt;div&gt;{person.name}&lt;/div&gt;\n    );\n  }\n}\n</code></pre> <p>\u5c0f\u7ed3\uff1a\u5982\u679c state props \u662f\u590d\u6742\uff08\u5f15\u7528\uff09\u7c7b\u578b\uff0c\u5219\u8981\u5f15\u7528\u5185\u5b58\u5730\u5740\u4e0d\u540c\uff0c\u624d\u4f1a\u6b63\u786e\u6e32\u67d3\u7ec4\u4ef6</p> <p>\u5982\u679cprop\u548cstate\u6bcf\u6b21\u90fd\u4f1a\u53d8\uff0c\u90a3\u4e48PureComponent\u7684\u6548\u7387\u8fd8\u4e0d\u5982Component\uff0c\u56e0\u4e3a\u4f60\u77e5\u9053\u7684\uff0c\u8fdb\u884c\u6d45\u6bd4\u8f83\u4e5f\u662f\u9700\u8981\u65f6\u95f4</p> <p>\u82e5\u6709shouldComponentUpdate\uff0c\u5219\u6267\u884c\u5b83\uff0c\u82e5\u6ca1\u6709\u8fd9\u4e2a\u65b9\u6cd5\u4f1a\u5224\u65ad\u662f\u4e0d\u662fPureComponent\uff0c\u82e5\u662f\uff0c\u8fdb\u884c\u6d45\u6bd4\u8f83\u7ee7\u627f\u81ea<code>Component</code>\u7684\u7ec4\u4ef6\uff0c\u82e5\u662f<code>shouldComponentUpdate</code>\u8fd4\u56de<code>false</code>\uff0c\u5c31\u4e0d\u4f1a\u6e32\u67d3\u4e86\uff0c\u7ee7\u627f\u81ea<code>PureComponent</code>\u7684\u7ec4\u4ef6\u4e0d\u7528\u6211\u4eec\u624b\u52a8\u53bb\u5224\u65ad<code>prop</code>\u548c<code>state</code>\uff0c\u6240\u4ee5\u5728<code>PureComponent</code>\u4e2d\u4f7f\u7528<code>shouldComponentUpdate</code>\u4f1a\u6709\u5982\u4e0b\u8b66\u544a:</p> <p>Test has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.</p> <p>\u4e5f\u662f\u6bd4\u8f83\u597d\u7406\u89e3\u7684\uff0c\u5c31\u662f\u4e0d\u8981\u5728<code>PureComponent</code>\u4e2d\u4f7f\u7528<code>shouldComponentUpdate</code>\uff0c\u56e0\u4e3a\u6839\u672c\u6ca1\u6709\u5fc5\u8981.</p>"},{"location":"react/React%20%E7%9A%84%20PureComponent%20%E4%B8%8E%20Component/#3","title":"3\u3001\u53c2\u8003\u8d44\u6599","text":"<p>\u5b98\u65b9\u6587\u6863 https://reactjs.org/docs/react-api.html</p> <p>https://www.jianshu.com/p/c41bbbc20e65</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/","title":"\u4f20\u667a\u64ad\u5ba2 React \u5165\u95e8 \u4e09\u5929\u8bfe\u7a0b","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 13093  \u9605\u8bfb27\u5206\u949f</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#_1","title":"\u7b2c\u4e00\u5929 \u7406\u8bba\u548c\u914d\u7f6e","text":""},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#domdiff","title":"\u865a\u62dfDOM\u548cDIFF\u7b97\u6cd5","text":"<p>React \u7684\u6838\u5fc3\u662f\u865a\u62dfDOM\u548cDIFF\u7b97\u6cd5\u3002DIFF \u7b97\u6cd5\u786e\u4fdd\u865a\u62dfDOM\u9ad8\u6548\u8fd0\u884c\uff08\u4ece\u4e0a\u5230\u4e0b\u5206\u522b\u662f tree-diff\u3001componentDiff elementDiff\uff09\u3002\u5982\u679c\u865a\u62df\u6811\u524d\u540e\u5bf9\u6bd4\u76f8\u540c\uff0c\u90a3\u4e48\u4fdd\u7559\u8fd9\u4e2a\u8282\u70b9\uff1b\u5982\u679c\u4e0d\u540c\uff0c\u90a3\u4e48\u4f7f\u7528\u65b0\u7684\u8282\u70b9\u53d6\u4ee3\u65e7\u7684\u8282\u70b9\u3002\uff08\u5185\u90e8\u5177\u4f53\u4f7f\u7528\u6df1\u5ea6\u4f18\u5148\u8fd8\u662f\u5e7f\u5ea6\u4f18\u5148\u4e0d\u786e\u5b9a\uff09\u3002\u865a\u62dfDOM\u4e0d\u662fHTML\uff0c\u800c\u662f\u4f7f\u7528JS\u6a21\u62df\u51fa\u6765\u7684\u4e00\u4e2a DOM \u7ed3\u6784\u5173\u7cfb\uff08\u662fJS\uff09\u3002</p> <p>\u865a\u62dfDOM\u7684\u76ee\u7684\uff1a\u5b9e\u73b0\u754c\u9762\u4e2d\u771f\u5b9eDOM\u7684\u9ad8\u6548\u66f4\u65b0</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#webpack","title":"webpack \u914d\u7f6e","text":"<ul> <li>\u8fd0\u884c npm init -y \u521d\u59cb\u5316\u9879\u76ee</li> <li>mkdir src &amp;&amp; mkdir dist &amp;&amp; cd src &amp;&amp; touch index.html &amp;&amp; cd ../</li> <li>npm install webpack webpack-cli -D</li> <li>\u9ed8\u8ba4\u7684\u6253\u5305\u5165\u53e3\u662f ./src/index.js \u51fa\u53e3\u662f ./dist/main.js</li> </ul> <p>webpack.config.js : \u56e0\u4e3a webpack \u5728 Node \u73af\u5883\u4e2d\u8fd0\u884c\uff0c\u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528 Node \u7684API</p> <p>\u6240\u4ee5 <code>export default {}</code> \u8fd9\u4e2a\u8bed\u6cd5\u73b0\u5728\u4e0d\u652f\u6301 <code>module.exports = {}</code> \u8fd9\u4e2a\u8bed\u6cd5\u652f\u6301</p> <pre><code>module.exports = {\n  mode: 'development', // production\n  // \u5728 webpack 4.x \u7248\u672c\u4e2d\uff0c\u9ed8\u8ba4\u7684\u5165\u53e3\u6587\u4ef6\u662f ./src/index.js\n};\n</code></pre> <p>webpack 3.X \u7248\u672c\u4e2d\uff0c\u8fd9\u4e00\u4e2a\u5305\u63d0\u4f9b\u4e86\u547d\u4ee4\u884c\u5de5\u5177</p> <p>webpack 4.X \u7248\u672c\u4e2d\uff0cwebpack \u63d0\u4f9b\u6838\u5fc3\u6253\u5305\u529f\u80fd\uff0c webpack-cli \u63d0\u4f9b\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u6240\u4ee5\u9700\u8981\u88c5\u8fd9\u4e24\u4e2a\u5305</p> <p>npm run dev \u5b9e\u9645\u4e0a\u4f7f\u7528 webpack \u547d\u4ee4\u548c\u5bf9\u5e94\u7684\u914d\u7f6e\u8fdb\u884c\u6253\u5305</p> <p>\u5728 dtable \u9879\u76ee\u4e2d\uff0cwebpack \u4e0d\u80fd\u76f4\u63a5\u6253\u5305</p> <p>\u9996\u5148\u9700\u8981\u4f7f\u7528 babel \u5c06 JSX \u8f6c\u6362\u6210 JS\uff0c\u7136\u540e\u518d\u8fdb\u884c webpack \u6253\u5305</p> <pre><code>\"scripts\": {\n  \"start\": \"export DEBUG=dtable* &amp;&amp; node scripts/start.js\",\n  \"build\": \"node scripts/build.js\",\n  \"pub:esm\": \"npm run clean:esm &amp;&amp; export BABEL_ENV=production &amp;&amp; ./node_modules/.bin/babel src --out-dir es --copy-files\",\n  \"pub:lib\": \"npm run clean:lib &amp;&amp; export BABEL_ENV=node &amp;&amp; ./node_modules/.bin/babel src --out-dir lib --copy-files\",\n  \"pub:umd\": \"npm run clean:dist &amp;&amp; export BABEL_ENV=production &amp;&amp; webpack --config ./config/webpack.config.pub.js\",\n  \"prepublishOnly\": \"npm run pub:lib &amp;&amp; npm run pub:esm &amp;&amp; npm run pub:umd\"\n}\n</code></pre>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#10-node-chrome","title":"10 Node \u548c Chrome \u7684\u5173\u7cfb","text":"<p>mode: \u5f00\u53d1\u73af\u5883\u8fd8\u662f\u751f\u4ea7\u73af\u5883\uff08\u53bb\u6389\u7a7a\u683c\u6ce8\u91ca\uff0c\u538b\u7f29\u4ee3\u7801\uff0c\u51cf\u5c0f\u4f53\u79ef\uff09\uff0c\u5fc5\u9009\u9879</p> <p>export import \u662f ES6 \u7684\uff0c\u5728 node \u73af\u5883\u4e2d\u4e0d\u80fd\u652f\u6301\u3002\u6240\u4ee5 export default { } \u4e0d\u80fd\u6267\u884c\u3002Node \u662f\u6d4f\u89c8\u5668\u4e2d\u62ff\u51fa\u6765\u7684\uff08V8\u5f15\u64ce\uff09\uff0c\u6240\u4ee5\u8c37\u6b4c\u6d4f\u89c8\u5668\u652f\u6301\u7684\u4ee3\u7801\uff0cNode \u5c31\u80fd\u6267\u884c\u3002</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#11-webpack-dev-server","title":"11 webpack-dev-server","text":"<p>webpack \u5185\u7f6e\u7684\u670d\u52a1\u5668\uff0c\u4f1a\u628aJS\u4ee3\u7801\u66f4\u6539\u8fc7\u540e\uff0c\u81ea\u52a8\u6253\u5305\u5e76\u8fd0\u884c\u5728\u5185\u7f6e\u670d\u52a1\u4e0a</p> <p>'dev': 'webpack-dev-server'</p> <p>Project is runnint at http://localhost:8080 \u9879\u76ee\u8fd0\u884c\u5728\u5bf9\u5e94\u7684\u57df\u540d\u548c\u7aef\u53e3</p> <p>webpack output is served from / \u8bf4\u660e\u8f93\u51fa\u6587\u4ef6\u5728\u6839\u76ee\u5f55\u4e2d\uff08main.js\uff09\uff0c\u6253\u5305\u597d\u7684 main.js \u6258\u7ba1\u5230\u5185\u5b58\u4e2d\uff0c\u6240\u4ee5\u5728\u9879\u76ee\u76ee\u5f55\u4e2d\u770b\u4e0d\u5230\u8fd9\u4e2a\u6587\u4ef6\u3002</p> <p>Webpack-dev-server --open --port 3000 --hot --progress --compress</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#12-html-webpack-plugin","title":"12 html-webpack-plugin","text":"<p>webpack \u6253\u5305 HTML \u7684\u5de5\u5177\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u63d2\u4ef6\u653e\u5728 webpack \u914d\u7f6e\u6587\u4ef6\u4e2d</p> <pre><code>const path = require('path');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\n\n// \u914d\u7f6e\u6e90\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u548c\u751f\u6210\u9996\u9875\u7684\u540d\u79f0\u548c\u8def\u5f84\nconst htmlPlugin = new HtmlWebpackPlugin({\n  template: path.join(__dirname, './src/index.html'),\n  filename: 'index.html'\n});\n\nmodule.exports = {\n  mode: 'development',\n  plugins: [\n    htmlPlugin,\n  ]\n};\n</code></pre>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#13-reactdom","title":"13 ReactDOM","text":"<p>npm install react react-dom --save</p> <pre><code>import React from 'react';\nimport ReactDOM from 'react-dom';\n</code></pre> <p>ReactDOM\u7684\u4f5c\u7528\u662f\u64cd\u4f5cDOM\uff08\u5e76\u628arender\u540e\u7684\u8282\u70b9\u6e32\u67d3\u5230\u754c\u9762\u4e0a\uff09</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#15-jsxbabel","title":"15 JSX\u8bed\u6cd5\u548cBabel\u914d\u7f6e","text":"<p>Babel \u4e0d\u662f\u5fc5\u987b\u914d\u7f6e\u7684\uff1b\u56e0\u4e3a react \u4e2d\u4f7f\u7528\u4e86JSX\uff0c\u6d4f\u89c8\u5668\u4e0d\u80fd\u76f4\u63a5\u8bc6\u522b\uff0c\u6240\u4ee5\u9700\u8981\u4f7f\u7528 babel \u8fdb\u884c\u8f6c\u6362\u3002</p> <p>\u5982\u679c\u4e0d\u4f7f\u7528JSX\uff0c\u6bd4\u5982\u4e0b\u9762\u7684\u4f8b\u5b50\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c</p> <pre><code>import React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst mydom = React.createElement('div', {id: 'wrapper', title: 'layer'}, 'test');\nReactDOM.render(mydom, document.getElementById('app'));\n</code></pre> <p>JSX =  JS + XML \u6240\u4ee5\u8bed\u6cd5\u89c4\u5219\u6bd4 HTML \u4e25\u683c</p> <p>\u4f7f\u7528 JSX \u53ef\u4ee5\u540e\u53ef\u4ee5\u7b80\u5316\u4ee3\u7801\uff0c\u9996\u5148\u9700\u8981\u5b89\u88c5\u4f9d\u8d56</p> <pre><code>npm install babel-core babel-loader babel-plugin-transform-runtime -D\nnpm install babel-preset-env babel-preset-stage-0 babel-preset-react -D\n</code></pre> <p>\u589e\u52a0\u914d\u7f6e\u6587\u4ef6\uff08preset \u9884\u5904\u7406\uff0cplugin \u63d2\u4ef6\uff09\u5bf9\u5e94\u4e0a\u9762\u7684\u5b89\u88c5\u4f9d\u8d56</p> <pre><code>{\n    \"presets\": [\"env\", \"stage-0\", \"react\"],\n    \"plugins\": [\"transform-runtime\"]\n}\n</code></pre> <p>\u4e4b\u540e\u5728 webpack \u4e2d\u8bbe\u7f6e\u89c4\u5219\uff0c\u5bf9 JS \u4ee3\u7801\u4f7f\u7528 babel \u5904\u7406</p> <pre><code>const path = require('path');\nconst HtmlWebPackPlugin = require('html-webpack-plugin');\n\nconst htmlPlugin = new HtmlWebPackPlugin({\n  template: path.join(__dirname, './src/index.html'),\n  filename: 'index.html'\n});\n\nmodule.exports = {\n  mode: 'development', //production\n  plugins: [\n    htmlPlugin\n  ],\n  // \u8981\u6253\u5305\u7684\u7b2c\u4e09\u65b9\u6a21\u5757\uff08\u4e0d\u540c\u7c7b\u578b\u7684\u6587\u4ef6\u4f7f\u7528\u4e0d\u540c\u7684loader\u5904\u7406\uff09\n  module: {\n    rules: [\n      {\n        test: /\\.js|jsx$/,\n        use: 'babel-loader',\n        exclude: /node_modules/,\n      }\n    ]\n  }\n};\n</code></pre>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#_2","title":"\u7b2c\u4e8c\u5929 \u57fa\u672c\u4f7f\u7528","text":"<p>\u53ef\u4ee5\u4f7f\u7528\u51fd\u6570\u7684\u5f62\u5f0f\u521b\u5efa\u7ec4\u4ef6</p> <ul> <li>\u5faa\u73af\u6e32\u67d3\u4e2d\u589e\u52a0 key</li> <li>JSX \u8bed\u6cd5\u6ce8\u610f\uff1a\u6ce8\u91ca for class Fragment </li> <li>\u521b\u5efa\u7ec4\u4ef6 props \u4f20\u9012\u6570\u636e state \u72b6\u6001 \u5c5e\u6027</li> <li>\u6269\u5c55\u8fd0\u7b97\u7b26\u5904\u7406\u591a\u4e2a\u6570\u636e</li> <li>\u7ec4\u4ef6\u53ef\u4ee5\u5355\u72ec\u62bd\u79bb\u6210\u4e00\u4e2a jsx \u6587\u4ef6\u3002\u6ce8\u610f\uff0c\u5982\u679c\u4e0d\u505a\u914d\u7f6e\uff0c\u4e0d\u80fd\u5728 import \u65f6\u7701\u7565 jsx \u7684\u6587\u4ef6\u540e\u7f00\u540d</li> </ul> <pre><code>&lt;div id=\"app\"&gt;\n  &lt;input v-modal=\"uname\" /&gt;\n  &lt;button @click=\"add\"&gt;&lt;/button&gt;\n  &lt;ul&gt;\n    &lt;li v-for=\"item in list\" :key=\"item.id\"&gt;\n      {(item.id)} + {(item.name)}\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n  const vm = new Vue({\n    el: '#app',\n    data: {\n      list: [\n        {id: 0, name: 'Mike'},\n        {id: 1, name: 'Amy'},\n        {id: 2, name: 'Tony'}\n      ]\n    },\n    methods: {\n      add() {\n        var newuser = {\n          id: this.list.length,\n          name: this.uname\n        };\n        this.list.push(newuser);\n      }\n    }\n  })\n&lt;/script&gt;\n</code></pre> <ul> <li>\u5982\u4f55\u8bbe\u7f6e\u5bfc\u5165\u6587\u4ef6\u7701\u7565\u540e\u7f00\u540d\uff1f\u8bbe\u7f6e webpack.config.js \u4e2d\u5e76\u5728\u8f93\u51fa\u914d\u7f6e\u4e2d\u589e\u52a0\uff08JSON \u548c JS \u9ed8\u8ba4\u652f\u6301\u7701\u7565\u6587\u4ef6\u540e\u7f00\uff0cJSX \u9700\u8981\u589e\u52a0\uff1b\u6ce8\u610f\uff0c\u8fd9\u51e0\u4e2a\u662f\u6709\u987a\u5e8f\u7684\uff0c\u9996\u5148\u5339\u914d\u7b2c\u4e00\u4e2aJS\uff09</li> </ul> <pre><code>module.exports = {\n  ..\n  resolve: {\n      extensions: ['js', 'jsx', 'json'],\n  }\n};\n</code></pre> <ul> <li>\u914d\u7f6e webpack \u8bbe\u7f6e\u9879\u76ee\u6839\u76ee\u5f55\uff1a\u6211\u4eec\u5f15\u5165\u4e00\u4e2a\u5305\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\u3002\u5f53\u76f8\u5bf9\u8def\u5f84\u5f88\u590d\u6742\u65f6\uff0c\u6216\u8005\u67d0\u4e2a\u7ec4\u4ef6\u7684\u8def\u5f84\u66f4\u6539\u65f6\uff0c\u90a3\u4e48\u76f8\u5bf9\u8def\u5f84\u90fd\u9700\u8981\u66f4\u6539\u3002\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u589e\u52a0\u4e00\u4e2a\u6839\u8def\u5f84\uff0c\u8fd9\u6837\u6539\u53d8\u7ec4\u4ef6\u7684\u4f4d\u7f6e\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5185\u90e8\u7684\u5f15\u7528\u3002\u9700\u8981\u5728 webpack.config.js \u4e2d\u589e\u52a0\u4e0b\u9762\u914d\u7f6e\uff0c\u8fd9\u6837 @ \u5c31\u8868\u793a src \u4e0b\u9762\u7684\u6839\u76ee\u5f55</li> </ul> <pre><code>import path from 'path;'\n\nmodule.exports = {\n  ..\n  resolve: {\n      extensions: ['js', 'jsx', 'json'],  \n    alias: {\n      \"@\": path.join(__dirname, './src')\n    }\n  }\n};\n</code></pre> <pre><code>import Utils from '@/utils';\n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528 class \u521b\u5efa\u7ec4\u4ef6\uff1a\u8bbe\u7f6e\u5b9e\u4f8b\u5c5e\u6027\uff0c\u8bbe\u7f6e static \u9759\u6001\u5c5e\u6027\uff1b</p> <p>\u5b9e\u4f8b\u5c5e\u6027\u9700\u8981\u8bbf\u95ee\u7c7b\u7684\u5b9e\u4f8b\uff1b\u9759\u6001\u5c5e\u6027\u76f4\u63a5\u901a\u8fc7\u7c7b\u5373\u53ef\u8bbf\u95ee\u3002\u540c\u65f6\u6709\u5b9e\u4f8b\u65b9\u6cd5\u548c\u9759\u6001\u65b9\u6cd5\uff0c\u4f7f\u7528\u65b9\u6cd5\u548c\u4e0a\u9762\u7c7b\u4f3c.</p> <pre><code>class Animal {\n  constructor(name, age) {\n    this.name = name; \n    this.age = age;\n  }\n\n  static gender = 'male';\n\n    say() {\n    // \n  }\n\n    static tall() {\n    // \n  }\n}\n</code></pre> <p>class \u5b9e\u9645\u4e0a\u548c\u6784\u9020\u51fd\u6570\u521b\u5efa\u5b9e\u4f8b\u7684\u539f\u7406\u662f\u4e00\u6837\u7684\uff0c\u662f\u4e00\u4e2a\u8bed\u6cd5\u7cd6\uff0c\u5e76\u4e0d\u662f\u5b8c\u5168\u98a0\u8986\u6027\u7684\u63a8\u7ffb\u4e86ES5\u7684\u65b9\u6cd5\u3002</p> <p>class \u4e0d\u540c\u7684\u5730\u65b9\uff1a\u7ee7\u627f: class Child extends Father {}</p> <p>\u5b50\u7c7b\u7ee7\u627f\u81ea\u7236\u7c7b\uff0c\u90a3\u4e48\u5b50\u7c7b\u53ef\u4ee5\u8bbf\u95ee\u7236\u7c7b\u4e0a\u9762\u7684\u65b9\u6cd5\uff1bsuper() \u662f\u7236\u7c7b\u7684\u6784\u9020\u5668\uff0c\u5b50\u7c7b\u5728\u6784\u9020\u5668\u4e2d\u5fc5\u987b\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u5668\uff0c\u8fd9\u6837\u624d\u80fd\u5b9e\u9645\u4e0a\u5c5e\u6027\u3002</p> <p>\u4f7f\u7528\u6784\u9020\u51fd\u6570\u521b\u5efa\u7684\u7ec4\u4ef6\u6210\u4e3a\u65e0\u72b6\u6001\u7ec4\u4ef6\uff0c\u4e0d\u542b\u6709state\uff0c\u4e0d\u542b\u6709\u751f\u547d\u5468\u671f\u51fd\u6570\uff1b\u4f7f\u7528class\u521b\u5efa\u7684\u7ec4\u4ef6\u662f\u6709\u72b6\u6001\u7ec4\u4ef6\u3002\u6839\u636e\u5b9e\u9645\u9700\u6c42\u4f7f\u7528\u8fd9\u4e24\u4e2a\u7ec4\u4ef6\uff08\u73b0\u5728\u4f18\u5148\u4f7f\u7528\u6709\u72b6\u6001\u7ec4\u4ef6\uff09\uff1bReact\u5b98\u7f51\u8bf4\uff0c\u65e0\u72b6\u6001\u7ec4\u4ef6\u6ca1\u6709state\u548c\u751f\u547d\u5468\u671f\u51fd\u6570\uff0c\u6240\u4ee5\u8fd0\u884c\u7684\u72b6\u6001\u6bd4\u6709\u72b6\u6001\u7ec4\u4ef6\u6548\u7387\u7a0d\u5fae\u9ad8\u4e00\u70b9\u3002\u5982\u679c\u786e\u5b9a\u8fd9\u4e2a\u7ec4\u4ef6\u662f\u53f6\u8282\u70b9\u5355\u5411\u6570\u636e\u6d41\uff0c\u90a3\u4e48\u53ef\u4ee5\u786e\u5b9a\u4f7f\u7528\u65e0\u72b6\u6001\u7ec4\u4ef6\u3002\u5982\u679c\u4e0d\u786e\u5b9a\uff0c\u540e\u671f\u53ef\u80fd\u53d8\u6210\u6709\u72b6\u6001\uff0c\u90a3\u4e48\u5c31\u4f7f\u7528\u6709\u72b6\u6001\u7ec4\u4ef6\u3002</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#_3","title":"\u7b2c\u4e09\u5929 \u751f\u547d\u5468\u671f\u51fd\u6570","text":""},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#1","title":"1 \u884c\u5185\u6837\u5f0f","text":"<p>React\u7684\u884c\u5185\u6837\u5f0f\u9700\u8981\u6ce8\u610f\uff1a\u662f\u4e00\u4e2amap\uff0c\u4f7f\u7528\u9a7c\u5cf0\u547d\u540d\u6cd5\u8bbe\u7f6e\u6837\u5f0f\u5c5e\u6027\uff1b</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#2","title":"2 \u5916\u90e8\u6837\u5f0f","text":"<p>webpack \u65e0\u6cd5\u76f4\u63a5\u6253\u5305\u6837\u5f0f\uff0c\u6240\u4ee5\u9700\u8981\u4f7f\u7528\u5bf9\u5e94\u7684 loader \u5904\u7406\u5916\u90e8\u6837\u5f0f\uff08loader \u4ece\u53f3\u5411\u5de6\u52a0\u8f7d\uff09</p> <pre><code>npm install style-loader css-loader -D\n</code></pre> <p>webpack.config.js</p> <pre><code>module.exports = {\n  mode,\n  plugins,\n  module: {\n    rules: [\n      {test: /\\.js|jsx$/, use: 'babel-loader', exclude: /node_modules/},\n      {test: /\\.css$/, use: ['style-loader', 'css-loader']},\n      {test: /\\.less/, use: ['style-loader', 'css-loader', 'less-loader']},\n    ]\n  },\n  resolve,\n};\n</code></pre>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#3","title":"3 \u5916\u90e8\u6837\u5f0f\u8868\u4f5c\u7528\u57df\u95ee\u9898","text":"<p>\u5bf9\u4e8e JS \u6587\u4ef6\uff0c\u5177\u6709\u4f5c\u7528\u57df\uff0c\u53ef\u4ee5\u901a\u8fc7\u6a21\u5757 export import \u8fdb\u884c\u5bfc\u5165\u5bfc\u51fa\uff1bCSS \u6ca1\u6709\u6a21\u5757\u7684\u5b9a\u4e49\uff0c\u6240\u4ee5\u65e0\u6cd5\u901a\u8fc7 import \u6267\u884c\u5bfc\u5165\uff0c\u901a\u8fc7 webpack \u6253\u5305\u540e\u7684 css \u4f1a\u5f71\u54cd\u5168\u5c40\u7684\u6837\u5f0f\uff1b\u5728 Vue \u4e2d\uff0c\u5982\u679c\u6837\u5f0f\u8868\u51b2\u7a81\uff0c\u90a3\u4e48\u4f7f\u7528 <code>&lt;style scoped&gt;&lt;/style&gt;</code> \u6307\u4ee4\u52a0\u4e0a\u5bf9\u5e94\u7684\u524d\u7f00\uff1b\u4f46\u662f\u5728 react \u4e2d\uff0c\u6ca1\u6709\u6307\u4ee4\u8fd9\u4e2a\u6982\u5ff5\u3002</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#4-css","title":"4 css \u6a21\u5757\u5316\u5904\u7406\u6837\u5f0f\u51b2\u7a81","text":"<p>\u9488\u5bf9 3 \u7684\u95ee\u9898\uff0creact \u53ef\u4ee5\u4f7f\u7528 CSS \u6a21\u5757\u5316\uff0c\u7c7b\u4f3c JS \u7684\u5bfc\u5165\u5bfc\u51fa\uff0c\u628aCSS\u6587\u4ef6\u4f5c\u4e3a\u4e00\u4e2a\u5bf9\u8c61\u5bfc\u5165\u5230\u6307\u5b9a\u7684\u6587\u4ef6\u4e2d\uff0c\u4e0d\u4f1a\u4ea7\u751f\u5168\u5c40\u5f71\u54cd\u3002</p> <p>\u9996\u5148\u8bbe\u7f6e webpack\uff0c\u5728 loader \u4e0a\u9762\u52a0\u4e0a\u53c2\u6570\uff08\u5176\u4ed6loader\u4e0d\u652f\u6301\uff09\uff0c\u666e\u901a\u7684\u6837\u5f0f\u8868\u542f\u7528\u6a21\u5757\u5316</p> <pre><code>{test: /\\.css$/, use: ['style-loader', 'css-loader?modules']}\n</code></pre> <p>\u7136\u540e\u5199 CSS \u6587\u4ef6\uff08\u652f\u6301\u7c7b\u540d\u9009\u62e9\u5668\u548cID\u9009\u62e9\u5668\uff0c\u4e0d\u652f\u6301\u6807\u7b7e\u9009\u62e9\u5668\uff09</p> <pre><code>.title {\n  color: red;\n}\n.article {\n  margin: 10px;\n}\n#wrapper {\n  margin: 0px;\n}\n</code></pre> <p>\u7136\u540e\u5728\u7279\u5b9a\u7684\u6a21\u5757\u4e2d\u5f15\u5165\u5e76\u4f7f\u7528\u6837\u5f0f</p> <pre><code>import React from 'react';\nimport cssObj from '../css/test.css';\n\nexport default function Comment(props) {\n  return (\n    &lt;div id={cssObj.wraopper}&gt;\n      &lt;h1 className={cssObj.title}&gt;&lt;/h1&gt;\n      &lt;p className={cssObj.article}&gt;&lt;/p&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre> <p>\u8fd9\u6837\u5355\u72ec\u7684CSS\u6587\u4ef6\u53ef\u4ee5\u6a21\u5757\u5316\uff0c\u5e76\u4f5c\u7528\u5728\u6307\u5b9a\u7684\u6a21\u5757\u4e0a\u9762\u3002\u539f\u7406\u5c31\u662f\uff1a\u628a\u539f\u6765\u7684CSS\u7c7b\u540d\uff0c\u8f6c\u6362\u6210webpack\u52a0\u5de5\u540e\u7684\u7c7b\u540d\uff0c\u7136\u540e\u4e0d\u4f1a\u9020\u6210\u7c7b\u540d\u51b2\u7a81\u3002</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#5-modules","title":"5 modules \u914d\u7f6e\u7684\u6269\u5c55","text":"<p>\u5728 css-loader \u4e2d\u5df2\u7ecf\u914d\u7f6e modules \u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u589e\u52a0 localIndentName \u81ea\u5b9a\u4e49\u751f\u6210\u7c7b\u540d\u7684\u540d\u79f0\u548c\u683c\u5f0f\uff0c\u793a\u4f8b\u5982\u4e0b</p> <pre><code>{\n  test: /\\.css$/,\n  use: ['style-loader', 'css-loader?modules&amp;localIndentName=[path][name]-[local]-[hash:5]']\n}\n</code></pre> <p>\u8fd9\u6837\u751f\u6210\u7684\u7c7b\u540d\uff0c\u5c31\u662f \u6587\u4ef6\u8def\u5f84+\u6587\u4ef6\u540d+\u539f\u59cb\u7c7b\u540d+\u54c8\u5e0c\u503c\uff085\u8868\u793a\u54c8\u5e0c\u503c\u957f\u5ea6\uff09</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#6","title":"6 \u5168\u5c40\u7c7b\u540d\u548c\u5c40\u90e8\u7c7b\u540d","text":"<p>\u4f7f\u7528 :local(className)  :global(className) \u53ef\u4ee5\u628a\u5f53\u524d\u7c7b\u540d\u8f6c\u6362\u6210\u5168\u5c40\u7c7b\u540d\u3002\u9ed8\u8ba4\u662f local (\u6240\u4ee5\u8fd9\u4e2a\u5b9e\u9645\u4e2d\u4e0d\u4f7f\u7528\uff0c className={cssObj.\u7c7b\u540d} \u53ef\u4ee5\u4f7f\u7528)\uff1b\u5168\u5c40\u7c7b\u540d\u4f1a\u4f7f\u7528\u540e\u9762\u7684\u5199\u6cd5\u3002</p> <pre><code>.title {\n  color: red;\n}\n:local(.title) {\n  color: red;\n}\n/* \u524d\u4e24\u79cd\u5199\u6cd5\u7b49\u4ef7 */\n:global(.wrapper) {\n  color: #fff;\n}\n/* \u6700\u540e\u7684\u7c7b\u540d\u662f\u5168\u5c40\u751f\u6548\u7684 */\n</code></pre>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#7-scss-less","title":"7 scss less \u5904\u7406","text":"<p>\u5982\u679c\u5f15\u7528\u67d0\u4e2a\u5305\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u5305\u5df2\u7ecf\u5b89\u88c5\u5230\u4e86 node_modules \u76ee\u5f55\u4e2d\uff0c\u90a3\u4e48\u4e0d\u9700\u8981\u5199 node?modules \u8def\u5f84\uff0c\u9879\u76ee\u4f1a\u81ea\u52a8\u641c\u7d22\u8fd9\u4e2a\u76ee\u5f55\uff0c\u76f4\u63a5\u5199\u9879\u76ee\u540d\u79f0\u5373\u53ef\u3002</p> <p>\u5982\u679c\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u6216\u8005\u63d2\u5165\u56fe\u7247\uff0c\u5bf9\u4e8e\u5b57\u4f53\u56fe\u6807\u6587\u4ef6\u6216\u8005\u56fe\u7247\u6587\u4ef6\uff0c\u9700\u8981\u914d\u7f6e webpack</p> <pre><code>{ test: /\\.ttf|woff|woff2|eot|svg$/, use: ['url-loader'] },\n{ test: /\\.jpg|png|jpeg|gif$/, use: ['url-loader'] },\n{ test: /\\.scss/, use: ['style-loader', 'css-loader', 'sass-loader'] },\n</code></pre> <p>\u5bf9\u4e8e\u7b2c\u4e09\u65b9\u6837\u5f0f\u8868\uff0c\u6211\u4eec\u53ef\u4ee5\u4e0d\u4f7f\u7528 modules \u6a21\u5757\u5316\u5bfc\u5165\u5bf9\u8c61\uff0c\u76f4\u63a5\u4f7f\u7528\u7c7b\u540d\u5373\u53ef\u3002\u7b2c\u4e09\u65b9\u6837\u5f0f\u8868\u901a\u5e38\u662fcss\u6587\u4ef6\uff08ant-mobile \u662f less \u6309\u9700\u52a0\u8f7d\uff0c\u8fd9\u4e2a\u9700\u8981\u6ce8\u610f\uff09\u3002\u5728\u8f83\u7b80\u5355\u7684\u9879\u76ee\u4e2d\uff0c\u7b2c\u4e09\u65b9\u5e93css\u6587\u4ef6\u4f7f\u7528 modules \u6a21\u5757\u5316\u5904\u7406\uff0c\u81ea\u5df1\u7684\u6837\u5f0f\u4f7f\u7528 less or sass \u8bed\u6cd5\uff0c\u7136\u540e\u6a21\u5757\u5316\u5bfc\u5165\u5904\u7406\u3002</p> <p>\u9700\u8981\u5b89\u88c5\u5bf9\u5e94\u7684 loader </p> <p>npm install sass-loader node-sass file-loader -D</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#8","title":"8 \u4e8b\u4ef6\u5904\u7406","text":"<p>\u4f7f\u7528\u6700\u591a\u7684\u4e8b\u4ef6\u5904\u7406\uff1a\u5728JSX\u4e2d\u5199\u4e00\u4e2a\u7bad\u5934\u51fd\u6570\uff0c\u5bf9\u5e94\u7684\u51fd\u6570\u4e5f\u662f\u7bad\u5934\u51fd\u6570</p> <pre><code>&lt;button onClick={(e) =&gt; this.onClick(e)} &gt;&lt;/button&gt;\n\nonClick = (e) =&gt; {\n  console.log(e);\n}\n</code></pre>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2/#09-setstate","title":"09 setState","text":"<p>\u8bbe\u7f6e\u72b6\u6001\uff0c\u53ea\u66f4\u6539\u4e00\u90e8\u5206\u503c\uff0c\u4e0d\u4f1a\u5168\u90e8\u66f4\u6539\u72b6\u6001\uff0c\u8fd9\u662f\u5f02\u6b65\u64cd\u4f5c</p> <p>\u5c0f\u63d0\u793a\uff1a\u5728 VSCODE \u4e2d\uff0c\u4e24\u4e2a\u4ee3\u7801\u95f4\u589e\u52a0 //#region //#endregion \u8fd9\u4e24\u4e2a\u90e8\u5206\u4e4b\u95f4\u7684\u4ee3\u7801\u53ef\u4ee5\u88ab\u76f4\u63a5\u6298\u53e0\u3002\uff08\u9ed8\u8ba4\u51fd\u6570\u53ef\u4ee5\u6298\u53e0\uff09\u8fd9\u4e2a\u53ef\u4ee5\u6298\u53e0\u4efb\u4f55\u60f3\u8981\u6298\u53e0\u7684\u90e8\u5206\u3002</p> <p>\u83b7\u53d6\u6587\u672c\u6846\u7684\u503c\uff0c\u7136\u540e\u6539\u53d8\u72b6\u6001\uff0c\u7136\u540e\u6539\u53d8\u6587\u672c\u6846\u7684\u503c\u3002</p> <p>\u751f\u547d\u5468\u671f\u51fd\u6570\uff1a\u6ce8\u610f React \u548c VUE \u7684\u5bf9\u6bd4\uff1b\u4e0d\u540c\u751f\u547d\u5468\u671f\u51fd\u6570\u9700\u8981\u5904\u7406\u7684\u5185\u5bb9\u4e0d\u540c</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E6%8A%80%E6%9C%AF%E8%83%96/","title":"React 16\u5165\u95e8\u6559\u7a0b","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5908  \u9605\u8bfb12\u5206\u949f</p> <p>\u6280\u672f\u80d6\uff0c\u8bb2\u7684\u4e00\u822c\uff0c React16.8\u7248\u672c</p> <p>https://jspang.com/posts/2019/05/04/new-react-base.html#%E7%AC%AC01%E8%8A%82%EF%BC%9Areact%E8%AF%BE%E7%A8%8B%E5%89%8D%E8%A8%80</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E6%8A%80%E6%9C%AF%E8%83%96/#_1","title":"\u57fa\u7840","text":""},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E6%8A%80%E6%9C%AF%E8%83%96/#react","title":"React\u4ecb\u7ecd","text":"<p>\u51fd\u6570\u5f0f\u7f16\u7a0b\uff08\u7ec4\u4ef6\u5316\uff09</p> <p>React\u5b98\u65b9\u6587\u6863</p> <p>VScode</p> <p>React \u9002\u5408\u5927\u578b\u56e2\u961f\u5f00\u53d1\uff08\u7ec4\u4ef6\u5316\u5f88\u591a\u4eba\u53c2\u4e0e\uff09Vue\u63d2\u4ef6\u6846\u67b6\u4e30\u5bcc\uff0c\u7b80\u5355\u5feb\u901f\uff1b</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E6%8A%80%E6%9C%AF%E8%83%96/#_2","title":"\u642d\u5efa\u73af\u5883","text":"<p>\u8fd9\u91cc\u7684\u6784\u5efa\u5de5\u5177\u4f7f\u7528React\u7684\u5b98\u65b9\u6784\u5efa\u5de5\u5177\uff08\u5176\u4ed6\u7684\u6784\u5efa\u5de5\u5177\u4e5f\u53ef\u4ee5\uff09\u4f7f\u7528\u6dd8\u5b9d\u6e90\u66f4\u5feb</p> <p>\u5e38\u7528\u7684\u6784\u5efa\u5de5\u5177\u662fwebpack gulp </p> <pre><code>mkdir demo\ncd demo\nnpm install create-react-app -g\ncreate-react-app demo01\n# \u8fd9\u91cc\u59cb\u7ec8\u88c5\u4e0d\u4e0a\uff08\u663e\u793a\u7f51\u7edc\u539f\u56e0\uff09\ncd demo01\nnpm start\n</code></pre> <p>\u6ce8\u610f</p> <pre><code>create-react-app \u6267\u884c\u6162\u7684\u89e3\u51b3\u65b9\u6cd5\uff1a\n\u5728\u4f7f\u7528 create-react-app my-app \u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u7684React\u5e94\u7528\uff0c\u5728\u62c9\u53d6\u5404\u79cd\u8d44\u6e90\u65f6,\u5f80\u5f80\u4f1a\u975e\u5e38\u6162,\u4e00\u76f4\u5361\u5728\u90a3\uff1a\n\nfetchMetadata: sill mapToRegistry uri http://registry.npmjs.org/whatwg-fetch\n\u53ef\u4ee5\u770b\u5230\u8d44\u6e90\u8fd8\u662f\u4f7f\u7528\u4e86 npmjs.org\uff0c\u89e3\u51b3\u65b9\u6cd5\u662f\u6362\u6210\u6dd8\u5b9d\u7684\u8d44\u6e90\uff1a\n\n$ npm config set registry https://registry.npm.taobao.org\nhttps://registry.npmjs.org/\n-- \u914d\u7f6e\u540e\u53ef\u901a\u8fc7\u4e0b\u9762\u65b9\u5f0f\u6765\u9a8c\u8bc1\u662f\u5426\u6210\u529f\n$ npm config get registry\n-- \u6216 npm info express\n\n\u9ed8\u8ba4\u7684\u662f\nnpm config set registry https://registry.npmjs.org/\n</code></pre> <p>\u6ce8\u610f\u4e8c</p> <p>\u8fd9\u6837\u5b89\u88c5\u540e\uff0cnpm start \u53ef\u4ee5\u76f4\u63a5\u770b\u5230\u754c\u9762\uff0c\u4e0d\u9700\u8981\u624b\u52a8\u5b89\u88c5 webpack. </p> <p>\u5982\u679c\u624b\u52a8\u5b89\u88c5 webpack \u540e\uff0c\u6267\u884c npm start \u5c31\u4f1a\u62a5\u9519(create-react-app \u548c webpack \u51b2\u7a81)</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E6%8A%80%E6%9C%AF%E8%83%96/#_3","title":"\u6587\u4ef6\u8def\u5f84\u4ecb\u7ecd","text":"<p>Package-lock.json \u7b2c\u4e09\u65b9\u5305\u7248\u672c\u63a7\u5236\uff08\u786e\u4fdd\u4e0d\u540c\u4eba\u7f16\u8f91\u4ee3\u7801\uff0c\u5b89\u88c5\u540c\u6837\u7684\u7b2c\u4e09\u65b9\u4f9d\u8d56\uff09</p> <p>index.html</p> <p>noscript \u5bb9\u9519\u4ee3\u7801\uff1a\u5982\u679c\u754c\u9762\u6ca1\u6709\u6210\u529f\u8fd0\u884c\uff08nodeJS\uff09\u663e\u793a\u4e0b\u9762\u7684\u4ee3\u7801\uff1bwrapper \u4e0b\u9762\u662f\u63d2\u5165\u7684\u8282\u70b9(dtable)</p> <pre><code>&lt;noscript&gt;\n  You need to enable JavaScript to run this app.\n&lt;/noscript&gt;\n&lt;div id=\"wrapper\"&gt;&lt;/div&gt;\n&lt;div id=\"modal-wrapper\"&gt;&lt;/div&gt;\n</code></pre> <p>\u79fb\u52a8\u7aef\u7f51\u9875\u914d\u7f6e manifest.json \u8fd9\u91cc\u4fdd\u6301\u9ed8\u8ba4\u5373\u53ef</p> <pre><code>{\n  \"short_name\": \"React App\",\n  \"name\": \"Create React App Sample\",\n  \"icons\": [\n    {\n      \"src\": \"favicon.ico\",\n      \"sizes\": \"64x64 32x32 24x24 16x16\",\n      \"type\": \"image/x-icon\"\n    }\n  ],\n  \"start_url\": \"./index.html\",\n  \"display\": \"standalone\",\n  \"theme_color\": \"#000000\",\n  \"background_color\": \"#ffffff\"\n}\n</code></pre> <p>PWA \u79fb\u52a8\u7aef\u7f51\u9875\uff1a\u9996\u6b21\u52a0\u8f7d\u53ef\u4ee5\u663e\u793a\u754c\u9762\uff0c\u7136\u540e\u7b2c\u4e8c\u6b21\u5982\u679c\u6ca1\u6709\u7f51\u7edc\u4e5f\u53ef\u4ee5\u663e\u793a\u7f51\u9875\uff08\u7c7b\u4f3c\u4e8e\u7f13\u51b2\u6587\u4ef6\uff0c\u79bb\u7ebf\u6d4f\u89c8\u7684\u529f\u80fd\uff09\u3002</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E6%8A%80%E6%9C%AF%E8%83%96/#_4","title":"\u7ec4\u4ef6\u7ba1\u7406","text":"<p>\u5165\u53e3\u6587\u4ef6 index.js</p> <pre><code>import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(&lt;App/&gt;, document.getElementById('wrapper'));\n</code></pre> <p>App.js</p> <pre><code>import React, { Component, Fragment } from 'react';\nclass App extends Component{\n  render() {\n    return (&lt;span&gt;&lt;/span&gt;);\n  }\n}\nexport default APP;\n</code></pre>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E6%8A%80%E6%9C%AF%E8%83%96/#js","title":"js","text":"<pre><code>import React, { Component, Fragment } from 'react';\nreturn (\n  &lt;div className=\"top-bar\"&gt;\n    &lt;div&gt;test123&lt;/div&gt;\n  &lt;/div&gt;\n);\n\n// \u76f8\u5f53\u4e8e\u4e0b\u9762\u7684\nlet child1 = React.createElement('div', null, 'test123');\nlet parent = React.createElement('div', { className: 'top-bar' }, child1);\n// \u7b2c\u4e00\u4e2a\u8868\u793a\u521b\u5efa\u7684\u6807\u7b7e\uff0c\u7b2c\u4e8c\u4e2a\u662f\u7c7b\u540d\uff0c\u7b2c\u4e09\u4e2a\u662f\u5185\u90e8\u7684\u8282\u70b9\n// \u76f4\u63a5\u4f7f\u7528js\u5c31\u53ef\u4ee5\u4ee3\u66ff\u4e0a\u9762\u7684\u5199\u6cd5(\u8fd9\u662fjs\u7684\u672c\u8d28\uff0c\u4f7f\u7528JS\u521b\u5efaHTML)\n</code></pre> <p>js \u4e2d</p> <p>\u6ce8\u91ca {/*  */}</p> <p>className htmlFor</p> <p>DangersoulySetInnerHTML \u53ef\u4ee5\u76f4\u63a5\u628a\u5c5e\u6027\u5f53\u505a\u5185\u90e8\u4ee3\u7801\u663e\u793a\u3002\u4f46\u662f\u8fd9\u6837\u7528\u6237\u8f93\u5165\u53ef\u80fd\u9020\u6210\u653b\u51fb\u3002</p> <p>dangerouslySetInnerHTML:{{ --html--: value}}</p> <p>label for=\"id\" \u7136\u540e\u8bbe\u7f6e\u5185\u90e8input ID \u5c5e\u6027\uff0c\u70b9\u51fb\u5916\u90e8\u7684label\uff0c\u5185\u90e8\u8f93\u5165\u6846\u5c31\u88ab\u6fc0\u6d3b\uff08focus\uff09</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E6%8A%80%E6%9C%AF%E8%83%96/#_5","title":"\u521b\u5efa\u5b9e\u4f8b","text":"<p>\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684\u7ec4\u4ef6\uff1a\u4e00\u4e2a\u8868\u5355\u548c\u5217\u8868\u7ec4\u4ef6\uff0cFragment \u53ef\u4ee5\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684DIV\uff0c\u540c\u65f6\u4fbf\u4e8eflex\u5e03\u5c40</p> <p>state \u6570\u636e\u9a71\u52a8 \u4e8b\u4ef6\u7ed1\u5b9a\uff08bind(this)\uff09setState()</p> <p>\u4f7f\u7528\u6269\u5c55\u7528\u7b97\u7b26\u64cd\u4f5c\u6570\u636e</p> <p>\u6570\u7ec4\u8fdb\u884c\u6e32\u67d3\u65f6\uff0ckey \u6700\u597d\u4e0d\u8981\u76f4\u63a5\u4f7f\u7528 index\uff0c\u6700\u597d\u52a0\u4e00\u4e2a\u5176\u4ed6\u53d8\u91cf\u3002\u754c\u9762\u4e2d\u53ef\u80fd\u5f88\u591akey\uff0c\u4e3a\u4e86\u907f\u514d\u91cd\u590d\uff0c\u6240\u4ee5\u4f7f\u7528\u52a0\u4e00\u4e2a\u5b57\u7b26\u7684\u65b9\u6cd5\u3002</p> <pre><code>this.setState({\n  list: [...this.state.list, mewList]\n});\n</code></pre> <p>\u4e0d\u80fd\u76f4\u63a5\u6539\u53d8this.state.value\uff0cReact \u5b98\u7f51\u660e\u786e\u4e0d\u5141\u8bb8\uff08\u76f4\u63a5\u6539\u53d8state\u53ef\u4ee5\u5b9e\u73b0\u754c\u9762\u6548\u679c\uff0c\u540e\u671f\u4f18\u5316\u4f1a\u4ea7\u751f\u6027\u80fd\u95ee\u9898\uff09\uff1b\u53ef\u4ee5\u5148\u58f0\u660e\u53d8\u91cf\uff0c\u7136\u540e\u628astate\u8d4b\u503c\uff0c\u64cd\u4f5c\u53d8\u91cf\u3002</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E6%8A%80%E6%9C%AF%E8%83%96/#vscode","title":"VScode\u63d2\u4ef6","text":"<p>Simple React Snippets</p> <p>\u4ecb\u7ecd\u63d2\u4ef6\uff1a\u5feb\u6377\u952e</p> <p>Imr import React from 'react';</p> <p>cc class XX extends Component</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E6%8A%80%E6%9C%AF%E8%83%96/#_6","title":"\u6d4b\u8bd5\u5de5\u5177","text":"<p>React developer tools chrome\u6269\u5c55\u7a0b\u5e8f</p> <p>\u53ef\u4ee5\u76f4\u63a5\u770b\u5230\u7ec4\u4ef6\u7684\u6570\u636e\u6d41\uff0c\u4e0d\u9700\u8981console</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E6%8A%80%E6%9C%AF%E8%83%96/#shouldcomponentupdate","title":"shouldComponentUpdate","text":"<p>\u8fd9\u65f6\u5019\u4f60\u5728\u6d4f\u89c8\u5668\u7684\u6587\u672c\u6846\u4e2d\u8f93\u5165\u4e00\u4e0b\u5185\u5bb9\uff0c\u4f60\u53ef\u4ee5\u6e05\u695a\u7684\u770b\u5230\u5b50\u7ec4\u4ef6\u4e5f\u53d1\u751f\u4e86\u91cd\u65b0<code>render</code>\u7684\u60c5\u51b5\u3002</p> <p>\u6709\u5f88\u591a\u7a0b\u5e8f\u5458\u4f1a\u5ffd\u7565\u8fd9\u6837\u7684\u6027\u80fd\u635f\u8017\uff0c\u8ba4\u4e3a\u6ca1\u6709\u4ec0\u4e48\u5927\u4e0d\u4e86\u7684\uff0c\u4f46\u662f\u8f6f\u4ef6\u7684\u5361\u987f\u662f\u4e00\u70b9\u70b9\u4ea7\u751f\u7684\uff0c\u6240\u4ee5\u5fc5\u987b\u8981\u51cf\u5c11\u6027\u80fd\u635f\u8017\u3002</p> <p>shouldComponentUpdate\u6709\u4e24\u4e2a\u53c2\u6570\uff1a</p> <ul> <li>nextProps:\u53d8\u5316\u540e\u7684\u5c5e\u6027;</li> <li>nextState:\u53d8\u5316\u540e\u7684\u72b6\u6001;</li> </ul> <p>\u8fd9\u91cc\u4e3b\u8981\u4f18\u5316\u6027\u80fd\uff0c\u907f\u514d\u9891\u7e41\u6e32\u67d3</p> <p>\u7ec4\u4ef6\u4f18\u5316\uff08\u9879\u76ee\u7ecf\u9a8c\u4e30\u5bcc\uff09\uff1b</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E6%8A%80%E6%9C%AF%E8%83%96/#axios","title":"axios","text":"<p>\u6570\u636e\u8bf7\u6c42</p> <p>ajax \u662f\u539f\u751f\u7684\u5199\u6cd5\uff1breact \u4e2d\u4f7f\u7528 axios\uff08ajax\u5c01\u88c5\u540e\u7684\u5e93\uff09</p> <pre><code>npm install axios --save\n\n# --save --save-dev \u7684\u533a\u522b\n- \u4e0d\u52a0save\u4e0d\u52a0dev\uff0c\u8fd9\u6837\u4e0d\u4f1a\u6539\u53d8package.json\u5185\u5bb9\uff0c\u4e00\u822c\u4e0d\u7528\n-dev \u5f00\u53d1\u73af\u5883\u4f7f\u7528\uff08\u4f8b\u5982jest\u6d4b\u8bd5\uff0creact\u5f00\u53d1\uff09\n--save \u751f\u4ea7\u73af\u5883\u4f7f\u7528\uff08\u7528\u6237\u4e0d\u9700\u8981\u4f7f\u7528jest\u6d4b\u8bd5\uff0c\u7528\u6237\u4e0d\u9700\u8981react\u5f00\u53d1\uff0c\u7528\u6237\u9700\u8981axios, react-strap \u7ec4\u4ef6\u5e93\uff09\n</code></pre>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E6%8A%80%E6%9C%AF%E8%83%96/#easymock","title":"EasyMock","text":"<p>\u6a21\u62df\u63a5\u53e3\uff1a\u4f7f\u7528\u6293\u5305\uff1b\u6216\u8005\u7f51\u7edc\u6a21\u62df\uff08\u540e\u7aef\u6ca1\u5199\u597d\uff0c\u6240\u4ee5\u6a21\u62df\u6570\u636e\uff09</p>"},{"location":"react/React%20%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E6%8A%80%E6%9C%AF%E8%83%96/#_7","title":"\u52a8\u753b","text":"<p>react-transition-group</p> <p>react \u63a8\u8350\u7684\u7b2c\u4e09\u65b9\u52a8\u753b\u5e93</p> <p>\u53ef\u4ee5\u5b9e\u73b0\u57fa\u672c\u7684\u663e\u793a\u9690\u85cf\u6548\u679c\uff0c\u4e0d\u9700\u8981\u76f4\u63a5\u64cd\u4f5cCSS</p>"},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/","title":"React\u8fdb\u9636\u4e4b\u9ad8\u9636\u7ec4\u4ef6","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 16632  \u9605\u8bfb34\u5206\u949f</p>"},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/#_1","title":"\u524d\u8a00","text":"<p>\u6211\u4eec\u90fd\u77e5\u9053\u9ad8\u9636\u51fd\u6570\u662f\u4ec0\u4e48, \u9ad8\u9636\u7ec4\u4ef6\u5dee\u4e0d\u591a\u7684\u7528\u6cd5\uff0c\u4f20\u5165\u7684\u53c2\u6570\u53d8\u6210\u4e86react\u7ec4\u4ef6\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u7ec4\u4ef6</p> <p>A higher-order component is a function that takes a component and returns a new component.</p> <p>\u5f62\u5982:</p> <pre><code>const EnhancedComponent = higherOrderComponent(WrappedComponent);\n</code></pre> <p>\u9ad8\u9636\u7ec4\u4ef6\u662freact\u5e94\u7528\u4e2d\u5f88\u91cd\u8981\u7684\u4e00\u90e8\u5206\uff0c\u6700\u5927\u7684\u7279\u70b9\u5c31\u662f\u91cd\u7528\u7ec4\u4ef6\u903b\u8f91\u3002\u5b83\u5e76\u4e0d\u662f\u7531React API\u5b9a\u4e49\u51fa\u6765\u7684\u529f\u80fd\uff0c\u800c\u662f\u7531React\u7684\u7ec4\u5408\u7279\u6027\u884d\u751f\u51fa\u6765\u7684\u4e00\u79cd\u8bbe\u8ba1\u6a21\u5f0f\u3002\u5982\u679c\u4f60\u7528\u8fc7redux\uff0c\u90a3\u4f60\u5c31\u4e00\u5b9a\u63a5\u89e6\u8fc7\u9ad8\u9636\u7ec4\u4ef6\uff0c\u56e0\u4e3areact-redux\u4e2d\u7684connect\u5c31\u662f\u4e00\u4e2a\u9ad8\u9636\u7ec4\u4ef6\u3002</p> <p>\u539f\u6587https://github.com/sunyongjian/blog/issues/25 \u53e6\u5916\u672c\u6b21demo\u4ee3\u7801\u90fd\u653e\u5728 https://github.com/sunyongjian/hoc-demo</p> <p>\u5148\u6765\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u9ad8\u9636\u7ec4\u4ef6</p> <pre><code>import React, { Component } from 'react';\nimport simpleHoc from './simple-hoc';\n\nclass Usual extends Component {\n  render() {\n    console.log(this.props, 'props');\n    return (\n      &lt;div&gt;Usual&lt;/div&gt;\n    )\n  }\n}\nexport default simpleHoc(Usual);\n</code></pre> <pre><code>import React, { Component } from 'react';\n\nconst simpleHoc = WrappedComponent =&gt; {\n  return class extends Component {\n    render() {\n      return &lt;WrappedComponent {...this.props}/&gt;\n    }\n  }\n}\n\n// \u9ad8\u9636\u7ec4\u4ef6\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u7ec4\u4ef6(WrappedComponent)\uff0c\u5c06\u4f20\u5165\u7684 props \u4f5c\u4e3a\u8fd9\u4e2a\u7ec4\u4ef6\u7684 props\nexport default simpleHoc;\n</code></pre> <p>\u7ec4\u4ef6Usual\u901a\u8fc7simpleHoc\u7684\u5305\u88c5\uff0c\u6253\u4e86\u4e00\u4e2alog... \u90a3\u4e48\u5f62\u5982simpleHoc\u5c31\u662f\u4e00\u4e2a\u9ad8\u9636\u7ec4\u4ef6\u4e86\uff0c\u901a\u8fc7\u63a5\u6536\u4e00\u4e2a\u7ec4\u4ef6class Usual\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u7ec4\u4ef6class\u3002 \u5176\u5b9e\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u5728\u8fd9\u4e2a\u51fd\u6570\u91cc\uff0c\u6211\u4eec\u53ef\u4ee5\u505a\u5f88\u591a\u64cd\u4f5c\u3002 \u800c\u4e14return\u7684\u7ec4\u4ef6\u540c\u6837\u6709\u81ea\u5df1\u7684\u751f\u547d\u5468\u671f\uff0cfunction\uff0c\u53e6\u5916\uff0c\u6211\u4eec\u770b\u5230\u4e5f\u53ef\u4ee5\u628aprops\u4f20\u7ed9WrappedComponent(\u88ab\u5305\u88c5\u7684\u7ec4\u4ef6)\u3002 \u9ad8\u9636\u7ec4\u4ef6\u7684\u5b9a\u4e49\u6211\u90fd\u662f\u7528\u7bad\u5934\u51fd\u6570\u53bb\u5199\u7684\uff0c\u5982\u6709\u4e0d\u9002\u8bf7\u53c2\u7167arrow function</p>"},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/#_2","title":"\u88c5\u9970\u5668\u6a21\u5f0f","text":"<p>\u9ad8\u9636\u7ec4\u4ef6\u53ef\u4ee5\u770b\u505a\u662f\u88c5\u9970\u5668\u6a21\u5f0f(Decorator Pattern)\u5728React\u7684\u5b9e\u73b0\u3002\u5373\u5141\u8bb8\u5411\u4e00\u4e2a\u73b0\u6709\u7684\u5bf9\u8c61\u6dfb\u52a0\u65b0\u7684\u529f\u80fd\uff0c\u540c\u65f6\u53c8\u4e0d\u6539\u53d8\u5176\u7ed3\u6784\uff0c\u5c5e\u4e8e\u5305\u88c5\u6a21\u5f0f(Wrapper Pattern)\u7684\u4e00\u79cd\u3002</p> <p>ES7\u4e2d\u6dfb\u52a0\u4e86\u4e00\u4e2adecorator\u7684\u5c5e\u6027\uff0c\u4f7f\u7528@\u7b26\u8868\u793a\uff0c\u53ef\u4ee5\u66f4\u7cbe\u7b80\u7684\u4e66\u5199\u3002\u90a3\u4e0a\u9762\u7684\u4f8b\u5b50\u5c31\u53ef\u4ee5\u6539\u6210\uff1a</p> <pre><code>import React, { Component } from 'react';\nimport simpleHoc from './simple-hoc';\n\n@simpleHoc\n\nexport default class Usual extends Component {\n  render() {\n    return (\n      &lt;div&gt;\n        Usual\n      &lt;/div&gt;\n    )\n  }\n}\n</code></pre> <p>\u662f\u540c\u6837\u7684\u6548\u679c\u3002 \u5f53\u7136\u517c\u5bb9\u6027\u662f\u5b58\u5728\u95ee\u9898\u7684\uff0c\u901a\u5e38\u90fd\u662f\u901a\u8fc7babel\u53bb\u7f16\u8bd1\u7684\u3002 babel\u63d0\u4f9b\u4e86plugin\uff0c\u9ad8\u9636\u7ec4\u4ef6\u7528\u7684\u662f\u7c7b\u88c5\u9970\u5668\uff0c\u6240\u4ee5\u7528<code>transform-decorators-legacy</code> babel</p>"},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/#_3","title":"\u4e24\u79cd\u5f62\u5f0f","text":""},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/#_4","title":"\u5c5e\u6027\u4ee3\u7406","text":"<p>\u5f15\u5165\u91cc\u6211\u4eec\u5199\u7684\u6700\u7b80\u5355\u7684\u5f62\u5f0f\uff0c\u5c31\u662f\u5c5e\u6027\u4ee3\u7406(Props Proxy)\u7684\u5f62\u5f0f\u3002\u901a\u8fc7hoc\u5305\u88c5wrappedComponent\uff0c\u4e5f\u5c31\u662f\u4f8b\u5b50\u4e2d\u7684Usual\uff0c\u672c\u6765\u4f20\u7ed9Usual\u7684props\uff0c\u90fd\u5728hoc\u4e2d\u63a5\u53d7\u5230\u4e86\uff0c\u4e5f\u5c31\u662fprops proxy\u3002 \u7531\u6b64\u6211\u4eec\u53ef\u4ee5\u505a\u4e00\u4e9b\u64cd\u4f5c</p> <ul> <li>\u64cd\u4f5cprops   \u6700\u76f4\u89c2\u7684\u5c31\u662f\u63a5\u53d7\u5230props\uff0c\u6211\u4eec\u53ef\u4ee5\u505a\u4efb\u4f55\u8bfb\u53d6\uff0c\u7f16\u8f91\uff0c\u5220\u9664\u7684\u5f88\u591a\u81ea\u5b9a\u4e49\u64cd\u4f5c\u3002\u5305\u62echoc\u4e2d\u5b9a\u4e49\u7684\u81ea\u5b9a\u4e49\u4e8b\u4ef6\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7props\u518d\u4f20\u4e0b\u53bb\u3002</li> </ul> <pre><code>import React, { Component } from 'react';\n\nconst propsProxyHoc = WrappedComponent =&gt; class extends Component {\n\n  handleClick() {\n    console.log('click');\n  }\n\n  render() {\n    return (&lt;WrappedComponent\n      {...this.props}\n      handleClick={this.handleClick}\n    /&gt;);\n  }\n};\nexport default propsProxyHoc;\n</code></pre> <p>\u7136\u540e\u6211\u4eec\u7684Usual\u7ec4\u4ef6render\u7684\u65f6\u5019, <code>console.log(this.props)</code> \u4f1a\u5f97\u5230handleClick.</p> <ul> <li>refs\u83b7\u53d6\u7ec4\u4ef6\u5b9e\u4f8b   \u5f53\u6211\u4eec\u5305\u88c5Usual\u7684\u65f6\u5019\uff0c\u60f3\u83b7\u53d6\u5230\u5b83\u7684\u5b9e\u4f8b\u600e\u4e48\u529e\uff0c\u53ef\u4ee5\u901a\u8fc7\u5f15\u7528(ref),\u5728Usual\u7ec4\u4ef6\u6302\u8f7d\u7684\u65f6\u5019\uff0c\u4f1a\u6267\u884cref\u7684\u56de\u8c03\u51fd\u6570\uff0c\u5728hoc\u4e2d\u53d6\u5230\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u3002\u901a\u8fc7\u6253\u5370\uff0c\u53ef\u4ee5\u770b\u5230\u5b83\u7684props\uff0c state\uff0c\u90fd\u662f\u53ef\u4ee5\u53d6\u5230\u7684\u3002</li> </ul> <pre><code>import React, { Component } from 'react';\n\nconst refHoc = WrappedComponent =&gt; class extends Component {\n\n  componentDidMount() {\n    console.log(this.instanceComponent, 'instanceComponent');\n  }\n\n  render() {\n    return (&lt;WrappedComponent\n      {...this.props}\n      ref={instanceComponent =&gt; this.instanceComponent = instanceComponent}\n    /&gt;);\n  }\n};\n\nexport default refHoc;\n</code></pre> <ul> <li>\u62bd\u79bbstate</li> </ul> <p>\u8fd9\u91cc\u4e0d\u662f\u901a\u8fc7ref\u83b7\u53d6state\uff0c \u800c\u662f\u901a\u8fc7 { props, \u56de\u8c03\u51fd\u6570 } \u4f20\u9012\u7ed9wrappedComponent\u7ec4\u4ef6\uff0c\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u83b7\u53d6state\u3002\u8fd9\u91cc\u7528\u7684\u6bd4\u8f83\u591a\u7684\u5c31\u662freact\u5904\u7406\u8868\u5355\u7684\u65f6\u5019\u3002\u901a\u5e38react\u5728\u5904\u7406\u8868\u5355\u7684\u65f6\u5019\uff0c\u4e00\u822c\u4f7f\u7528\u7684\u662f\u53d7\u63a7\u7ec4\u4ef6\uff08\u6587\u6863\uff09\uff0c\u5373\u628ainput\u90fd\u505a\u6210\u53d7\u63a7\u7684\uff0c\u6539\u53d8value\u7684\u65f6\u5019\uff0c\u7528onChange\u4e8b\u4ef6\u540c\u6b65\u5230state\u4e2d\u3002\u5f53\u7136\u8fd9\u79cd\u64cd\u4f5c\u901a\u8fc7Container\u7ec4\u4ef6\u4e5f\u53ef\u4ee5\u505a\u5230\uff0c\u5177\u4f53\u7684\u533a\u522b\u653e\u5230\u540e\u9762\u53bb\u6bd4\u8f83\u3002\u770b\u4e00\u4e0b\u4ee3\u7801\u5c31\u77e5\u9053\u600e\u4e48\u56de\u4e8b\u4e86\uff1a</p> <pre><code>// \u666e\u901a\u7ec4\u4ef6Login\nimport React, { Component } from 'react';\nimport formCreate from './form-create';\n\n@formCreate\nexport default class Login extends Component {\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;div&gt;\n          &lt;label id=\"username\"&gt;\n            \u8d26\u6237\n          &lt;/label&gt;\n          &lt;input name=\"username\" {...this.props.getField('username')}/&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          &lt;label id=\"password\"&gt;\n            \u5bc6\u7801\n          &lt;/label&gt;\n          &lt;input name=\"password\" {...this.props.getField('password')}/&gt;\n        &lt;/div&gt;\n        &lt;div onClick={this.props.handleSubmit}&gt;\u63d0\u4ea4&lt;/div&gt;\n        &lt;div&gt;other content&lt;/div&gt;\n      &lt;/div&gt;\n    )\n  }\n}\n</code></pre> <pre><code>//HOC\nimport React, { Component } from 'react';\n\nconst formCreate = WrappedComponent =&gt; class extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      fields: {},\n    }\n  }\n  onChange = key =&gt; e =&gt; {\n    const { fields } = this.state;\n    fields[key] = e.target.value;\n    this.setState({\n      fields,\n    })\n  }\n  handleSubmit = () =&gt; {\n    console.log(this.state.fields);\n  }\n  getField = fieldName =&gt; {\n    return {\n      onChange: this.onChange(fieldName),\n    }\n  }\n  render() {\n    const props = {\n      ...this.props,\n      handleSubmit: this.handleSubmit,\n      getField: this.getField,\n    }\n    return (&lt;WrappedComponent\n      {...props}\n    /&gt;);\n  }\n};\nexport default formCreate;\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u628astate\uff0conChange\u7b49\u65b9\u6cd5\u90fd\u653e\u5230HOC\u91cc\uff0c\u5176\u5b9e\u662f\u9075\u4ece\u7684react\u7ec4\u4ef6\u7684\u4e00\u79cd\u89c4\u8303\uff0c\u5b50\u7ec4\u4ef6\u7b80\u5355\uff0c\u50bb\u74dc\uff0c\u8d1f\u8d23\u5c55\u793a\uff0c\u903b\u8f91\u4e0e\u64cd\u4f5c\u653e\u5230Container\u3002\u6bd4\u5982\u8bf4\u6211\u4eec\u5728HOC\u83b7\u53d6\u5230\u7528\u6237\u540d\u5bc6\u7801\u4e4b\u540e\uff0c\u518d\u53bb\u505a\u5176\u4ed6\u64cd\u4f5c\uff0c\u5c31\u65b9\u4fbf\u591a\u4e86\uff0c\u800cstate\uff0c\u5904\u7406\u51fd\u6570\u653e\u5230Form\u7ec4\u4ef6\u91cc\uff0c\u53ea\u4f1a\u8ba9Form\u66f4\u52a0\u7b28\u91cd\uff0c\u627f\u62c5\u4e86\u672c\u4e0d\u5c5e\u4e8e\u5b83\u7684\u5de5\u4f5c\uff0c\u8fd9\u6837\u6211\u4eec\u53ef\u80fd\u5176\u4ed6\u5730\u65b9\u4e5f\u9700\u8981\u7528\u5230\u8fd9\u4e2a\u7ec4\u4ef6\uff0c\u4f46\u662f\u5904\u7406\u65b9\u5f0f\u7a0d\u5fae\u4e0d\u540c\uff0c\u5c31\u5f88\u9ebb\u70e6\u4e86\u3002</p>"},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/#_5","title":"\u53cd\u5411\u7ee7\u627f","text":"<p>\u53cd\u5411\u7ee7\u627f(Inheritance Inversion)\uff0c\u7b80\u79f0II\uff0c\u672c\u6765\u6211\u662f\u53eb\u7ee7\u627f\u53cd\u8f6c\u7684...\u56e0\u4e3a\u6709\u4e2a\u6a21\u5f0f\u53eb\u63a7\u5236\u53cd\u8f6c\u561b... \u8ddf\u5c5e\u6027\u4ee3\u7406\u7684\u65b9\u5f0f\u4e0d\u540c\u7684\u662f\uff0cII\u91c7\u7528\u901a\u8fc7 \u53bb\u7ee7\u627fWrappedComponent\uff0c\u672c\u6765\u662f\u4e00\u79cd\u5d4c\u5957\u7684\u5173\u7cfb\uff0c\u7ed3\u679cII\u8fd4\u56de\u7684\u7ec4\u4ef6\u5374\u7ee7\u627f\u4e86WrappedComponent\uff0c\u8fd9\u770b\u8d77\u6765\u662f\u4e00\u79cd\u53cd\u8f6c\u7684\u5173\u7cfb\u3002 \u901a\u8fc7\u7ee7\u627fWrappedComponent\uff0c\u9664\u4e86\u4e00\u4e9b\u9759\u6001\u65b9\u6cd5\uff0c\u5305\u62ec\u751f\u547d\u5468\u671f\uff0cstate\uff0c\u5404\u79cdfunction\uff0c\u6211\u4eec\u90fd\u53ef\u4ee5\u5f97\u5230\u3002\u4e0a\u6817\u5b50\uff1a</p> <pre><code> // usual\nimport React, { Component } from 'react';\nimport iiHoc from './ii-hoc';\n\n@iiHoc\nexport default class Usual extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      usual: 'usual',\n    }\n  }\n\n  componentDidMount() {\n    console.log('didMount')\n  }\n\n  render() {\n    return (&lt;div&gt;Usual&lt;/div&gt;)\n  }\n}\n</code></pre> <pre><code>//IIHOC\nimport React from 'react';\n\nconst iiHoc = WrappedComponent =&gt; class extends WrappedComponent {\n    render() {\n      console.log(this.state, 'state');\n      return super.render();\n    }\n}\n\nexport default iiHoc;\n</code></pre> <p>iiHoc return\u7684\u7ec4\u4ef6\u901a\u8fc7\u7ee7\u627f\uff0c\u62e5\u6709\u4e86Usual\u7684\u751f\u547d\u5468\u671f\u53ca\u5c5e\u6027\uff0c\u6240\u4ee5didMount\u4f1a\u6253\u5370\uff0cstate\u4e5f\u901a\u8fc7constructor\u6267\u884c\uff0c\u5f97\u5230state.usual\u3002 \u5176\u5b9e\uff0c\u4f60\u8fd8\u53ef\u4ee5\u901a\u8fc7II\uff1a</p>"},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/#_6","title":"\u6e32\u67d3\u52ab\u6301","text":"<p>\u8fd9\u91ccHOC\u91cc\u5b9a\u4e49\u7684\u7ec4\u4ef6\u7ee7\u627f\u4e86WrappedComponent\u7684render(\u6e32\u67d3)\uff0c\u6211\u4eec\u53ef\u4ee5\u4ee5\u6b64\u8fdb\u884chijack(\u52ab\u6301)\uff0c\u4e5f\u5c31\u662f\u63a7\u5236\u5b83\u7684render\u51fd\u6570\u3002\u6817\u5b50\uff1a</p> <pre><code>  //hijack-hoc\n  import React from 'react';\n\n  const hijackRenderHoc = config =&gt; WrappedComponent =&gt; class extends WrappedComponent {\n    render() {\n      const { style = {} } = config;\n      const elementsTree = super.render();\n      console.log(elementsTree, 'elementsTree');\n      if (config.type === 'add-style') {\n        return &lt;div style={{...style}}&gt;\n          {elementsTree}\n        &lt;/div&gt;;\n      }\n      return elementsTree;\n    }\n  };\n\n  export default hijackRenderHoc;\n</code></pre> <pre><code>  //usual\n  @hijackRenderHoc({type: 'add-style', style: { color: 'red'}})\n  class Usual extends Component {\n    ...\n  }\n</code></pre> <p>\u6211\u8fd9\u91cc\u901a\u8fc7\u4e8c\u9636\u51fd\u6570\uff0c\u628aconfig\u53c2\u6570\u9884\u5236\u8fdbHOC\uff0c \u7b97\u662f\u4e00\u79cd\u67ef\u7406\u5316\u7684\u601d\u60f3\u3002 \u6817\u5b50\u5f88\u7b80\u5355\uff0c\u8fd9\u4e2ahoc\u5c31\u662f\u6dfb\u52a0\u6837\u5f0f\u7684\u529f\u80fd\u3002\u4f46\u662f\u5b83\u66b4\u9732\u51fa\u6765\u7684\u4fe1\u606f\u5374\u4e0d\u5c11\u3002\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7config\u53c2\u6570\u8fdb\u884c\u903b\u8f91\u5224\u65ad\uff0c\u6709\u6761\u4ef6\u7684\u6e32\u67d3\uff0c\u5f53\u7136\u8fd9\u4e2a\u53c2\u6570\u7684\u4f5c\u7528\u5f88\u591a\uff0creact-redux\u4e2d\u7684connect\u4e0d\u5c31\u662f\u4f20\u5165\u4e86props-key \u561b\u3002\u518d\u5c31\u662f\u6211\u4eec\u8fd8\u53ef\u4ee5\u62ff\u5230WrappedComponent\u7684\u5143\u7d20\u6811\uff0c\u53ef\u4ee5\u8fdb\u884c\u4fee\u6539\u64cd\u4f5c\u3002\u6700\u540e\u5c31\u662f\u6211\u4eec\u901a\u8fc7div\u5305\u88f9\uff0c\u8bbe\u7f6e\u4e86style\u3002\u4f46\u5176\u5b9e\u5177\u4f53\u5982\u4f55\u64cd\u4f5c\u8fd8\u662f\u6839\u636e\u4e1a\u52a1\u903b\u8f91\u53bb\u5904\u7406\u7684...</p> <p></p>"},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/#_7","title":"\u6211\u7684\u5e94\u7528\u573a\u666f","text":"<ul> <li> <p>\u901a\u5e38\u6211\u4f1a\u901a\u8fc7\u9ad8\u9636\u7ec4\u4ef6\u53bb\u4f18\u5316\u4e4b\u524d\u8001\u9879\u76ee\u5199\u7684\u4e0d\u597d\u7684\u5730\u65b9\uff0c\u6bd4\u5982\u4e24\u4e2a\u9875\u9762UI\u51e0\u4e4e\u4e00\u6837\uff0c\u529f\u80fd\u51e0\u4e4e\u76f8\u540c\uff0c\u4ec5\u4ec5\u51e0\u4e2a\u64cd\u4f5c\u4e0d\u592a\u4e00\u6837\uff0c\u5374\u5199\u4e86\u4e24\u4e2a\u8026\u5408\u5f88\u591a\u7684\u9875\u9762\u7ea7\u7ec4\u4ef6\u3002\u5f53\u6211\u53bb\u7ef4\u62a4\u5b83\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u5b83\u7684\u8026\u5408\u6027\u8fc7\u591a\uff0c\u7ecf\u5e38\u4f1a\u6dfb\u52a0\u4e00\u4e2a\u529f\u80fd(\u8fd9\u4e24\u4e2a\u7ec4\u4ef6\u90fd\u8981\u6dfb\u52a0)\uff0c\u6211\u8981\u53bb\u6539\u5b8c\u7b2c\u4e00\u4e2a\u7684\u65f6\u5019\uff0c\u8fd8\u8981\u6539\u7b2c\u4e8c\u4e2a\u3002\u800c\u4e14\u6709\u65f6\u5019\u7531\u4e8e\u6211\u7684\u8bb0\u6027\u4e0d\u597d\uff0c\u4f1a\u5fd8\u6389\u7b2c\u4e8c\u4e2a... \u5c31\u4f1a\u51fa\u73b0bug\u518d\u8fd4\u5de5\u3002\u66f4\u91cd\u8981\u7684\u662f\u7531\u4e8e\u4e2a\u4eba\u6bd4\u8f83\u61d2\uff0c\u4e0d\u60f3\u53bb\u91cd\u6784\u8fd9\u90e8\u5206\u7684\u4ee3\u7801\uff0c\u56e0\u4e3a\u4e1c\u897f\u592a\u591a\u4e86\uff0c\u82b1\u8d39\u592a\u591a\u65f6\u95f4\u3002\u6240\u4ee5\u52a0\u65b0\u529f\u80fd\u7684\u65f6\u5019\uff0c\u6211\u4f1a\u5199\u4e00\u4e2a\u9ad8\u9636\u7ec4\u4ef6\uff0c\u5f80HOC\u91cc\u6dfb\u52a0\u65b9\u6cd5\uff0c\u628a\u90a3\u4e24\u4e2a\u7ec4\u4ef6\u5305\u88c5\u4e00\u4e0b\uff0c\u4e5f\u5c31\u662f\u5c5e\u6027\u4ee3\u7406\u3002\u8fd9\u6837\u65b0\u4ee3\u7801\u5c31\u4e0d\u4f1a\u518d\u51fa\u73b0\u8026\u5408\uff0c\u65e7\u7684\u903b\u8f91\u5e76\u4e0d\u4f1a\u6539\u53d8\uff0c\u8bf4\u4e0d\u5b9a\u54ea\u5929\u5fc3\u60c5\u597d\u5c31\u4f1a\u62bd\u79bb\u4e00\u90e8\u5206\u529f\u80fd\u5230HOC\u91cc\uff0c\u76f4\u5230\u7406\u60f3\u7684\u72b6\u6001\u3002</p> </li> <li> <p>\u53e6\u4e00\u79cd\u60c5\u51b5\u5c31\u662f\u4e4b\u524d\u5199\u8fc7\u4e00\u4e2a\u7ec4\u4ef6A\uff0c\u505a\u5b8c\u4e0a\u7ebf\uff0c\u4e4b\u540e\u4ea7\u54c1\u52a0\u4e86\u4e00\u4e2a\u65b0\u9700\u6c42\uff0c\u5f88\u5947\u602a\u8981\u505a\u7684\u7ec4\u4ef6B\u8ddfA\u51e0\u4e4e\u4e00\u6a21\u4e00\u6837\uff0c\u4f46\u7a0d\u5fae\u6709\u533a\u522b\u3002\u90a3\u6211\u53ef\u80fd\u5c31\u901a\u8fc7II\u7684\u65b9\u5f0f\u53bb\u7ee7\u627f\u4e4b\u524d\u7684\u7ec4\u4ef6A\uff0c\u6bd4\u5982\u5b83\u5728didMount\u53bbfetch\u8bf7\u6c42\uff0c\u9700\u8981\u7684\u6570\u636e\u662f\u4e00\u6837\u7684\u3002\u4e0d\u540c\u7684\u5730\u65b9\u6211\u5c31\u4f1a\u653e\u5230HOC\u91cc\uff0c\u5b58\u50a8\u65b0\u7684state\u8fd9\u6837\uff0c\u518d\u901a\u8fc7\u52ab\u6301\u6e32\u67d3\uff0c\u628a\u4e0d\u540c\u7684\u5730\u65b9\uff0c\u6dfb\u52a0\u7684\u5730\u65b9\u8fdb\u884c\u5904\u7406\u3002\u4f46\u5176\u5b9e\u8fd9\u7b97Hack\u7684\u4e00\u79cd\u65b9\u5f0f\uff0c\u80fd\u5feb\u901f\u89e3\u51b3\u95ee\u9898\uff0c\u4e5f\u53cd\u6620\u4e86\u7ec4\u4ef6\u8bbe\u8ba1\u89c4\u5212\u4e4b\u521d\u6709\u6240\u4e0d\u8db3(\u539f\u56e0\u6bd4\u8f83\u591a)\u3002</p> </li> <li> <p>Container\u89e3\u51b3\u4e0d\u4e86\u7684\u65f6\u5019\u751a\u81f3\u4e0d\u592a\u4f18\u96c5\u7684\u65f6\u5019\u3002\u5176\u5b9e\u5927\u90e8\u5206\u65f6\u5019\u5305\u4e00\u5c42Container\u7ec4\u4ef6\u4e5f\u80fd\u505a\u5230\u5dee\u4e0d\u591a\u7684\u6548\u679c\uff0c\u6bd4\u5982\u64cd\u4f5cprops\uff0c\u6e32\u67d3\u52ab\u6301\u3002\u4f46\u5176\u5b9e\u8fd8\u662f\u6709\u5f88\u5927\u533a\u522b\u7684\u3002\u6bd4\u5982\u6211\u4eec\u73b0\u5728\u6709\u4e24\u4e2a\u529f\u80fd\u7684container\uff0c\u6dfb\u52a0\u6837\u5f0f\u548c\u6dfb\u52a0\u5904\u7406\u51fd\u6570\u7684\uff0c\u5bf9Usual\u8fdb\u884c\u5305\u88c5\u3002\u6817\u5b50\uff1a</p> </li> </ul> <pre><code>//usual\nclass Usual extends Component {\n\n  render() {\n    console.log(this.props, 'props');\n    return &lt;div&gt;\n      Usual\n    &lt;/div&gt;\n  }\n};\nexport default Usual;\n//console - Object {handleClick: function}  \"props\"\n</code></pre> <pre><code>import React, { Component } from 'react';\nimport Usual from './usual';\n\nclass StyleContainer extends Component {\n\n  render() {\n    return (&lt;div style={{ color: '#76d0a3' }}&gt;\n      &lt;div&gt;container&lt;/div&gt;\n      &lt;Usual {...this.props} /&gt;\n    &lt;/div&gt;);\n  }\n}\n\nexport default StyleContainer;\n</code></pre> <pre><code>import React, { Component } from 'react';\nimport StyleContainer from './container-add-style';\n\nclass FuncContainer extends Component {\n  handleClick() {\n    console.log('click');\n  }\n\n  render() {\n    const props = {\n      ...this.props,\n      handleClick: this.handleClick,\n    };\n    return (&lt;StyleContainer {...props} /&gt;);\n  }\n}\n\nexport default FuncContainer;\n</code></pre> <p>\u5916\u5c42Container\u5fc5\u987b\u8981\u5f15\u5165\u5185\u5c42Container\uff0c\u8fdb\u884c\u5305\u88c5\uff0c\u8fd8\u6709props\u7684\u4f20\u9012\uff0c\u540c\u6837\u8981\u6ce8\u610f\u5305\u88c5\u7684\u987a\u5e8f\u3002\u5f53\u7136\u4f60\u53ef\u4ee5\u628a\u6240\u6709\u7684\u5904\u7406\u90fd\u653e\u5230\u4e00\u4e2aContainer\u91cc\u3002\u90a3\u7528HOC\u600e\u4e48\u5904\u7406\u5462\uff0c\u76f8\u4fe1\u5927\u5bb6\u6709\u6e05\u6670\u7684\u7b54\u6848\u4e86\u3002</p> <pre><code>const addFunc = WrappedComponent =&gt; class extends Component {\n  handleClick() {\n    console.log('click');\n  }\n\n  render() {\n    const props = {\n      ...this.props,\n      handleClick: this.handleClick,\n    };\n    return &lt;WrappedComponent {...props} /&gt;;\n  }\n};\n</code></pre> <pre><code>const addStyle = WrappedComponent =&gt; class extends Component {\n\n  render() {\n    return (&lt;div style={{ color: '#76d0a3' }}&gt;\n      &lt;WrappedComponent {...this.props} /&gt;\n    &lt;/div&gt;);\n  }\n};\n</code></pre> <pre><code>const WrappenComponent = addStyle(addFunc(Usual));\n\nclass WrappedUsual extends Component {\n\n  render() {\n    console.log(this.props, 'props');\n    return (&lt;div&gt;\n      &lt;WrappedComponent /&gt;\n    &lt;/div&gt;);\n  }\n}\n</code></pre> <p>\u663e\u7136HOC\u662f\u66f4\u4f18\u96c5\u4e00\u4e9b\u7684\uff0c\u6bcf\u4e2aHOC\u90fd\u5b9a\u4e49\u81ea\u5df1\u72ec\u6709\u7684\u5904\u7406\u903b\u8f91\uff0c\u9700\u8981\u7684\u65f6\u5019\u53ea\u9700\u8981\u53bb\u5305\u88c5\u4f60\u7684\u7ec4\u4ef6\u3002\u76f8\u8f83\u4e8eContainer\u7684\u65b9\u5f0f\uff0cHOC\u8026\u5408\u6027\u66f4\u4f4e\uff0c\u7075\u6d3b\u6027\u66f4\u9ad8\uff0c\u53ef\u4ee5\u81ea\u7531\u7ec4\u5408\uff0c\u66f4\u9002\u5408\u5e94\u4ed8\u590d\u6742\u7684\u4e1a\u52a1\u3002\u5f53\u7136\u5f53\u4f60\u7684\u9700\u6c42\u5f88\u7b80\u5355\u7684\u65f6\u5019\uff0c\u8fd8\u662f\u7528Container\u53bb\u81ea\u7531\u7ec4\u5408\uff0c\u5e94\u7528\u573a\u666f\u9700\u8981\u4f60\u6e05\u695a\u3002</p>"},{"location":"react/React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/#_8","title":"\u6ce8\u610f\u70b9(\u7ea6\u675f)","text":"<p>\u5176\u5b9e\u5b98\u7f51\u6709\u5f88\u591a\uff0c\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u3002</p> <ul> <li> <p>\u6700\u91cd\u8981\u7684\u539f\u5219\u5c31\u662f\uff0c\u6ce8\u610f\u9ad8\u9636\u7ec4\u4ef6\u4e0d\u4f1a\u4fee\u6539\u5b50\u7ec4\u4ef6\uff0c\u4e5f\u4e0d\u62f7\u8d1d\u5b50\u7ec4\u4ef6\u7684\u884c\u4e3a\u3002\u9ad8\u9636\u7ec4\u4ef6\u53ea\u662f\u901a\u8fc7\u7ec4\u5408\u7684\u65b9\u5f0f\u5c06\u5b50\u7ec4\u4ef6\u5305\u88c5\u5728\u5bb9\u5668\u7ec4\u4ef6\u4e2d\uff0c\u662f\u4e00\u4e2a\u65e0\u526f\u4f5c\u7528\u7684\u7eaf\u51fd\u6570</p> </li> <li> <p>\u8981\u7ed9hoc\u6dfb\u52a0class\u540d\uff0c\u4fbf\u4e8edebugger\u3002\u6211\u4e0a\u9762\u7684\u597d\u591a\u6817\u5b50\u7ec4\u4ef6\u90fd\u6ca1\u5199class \u540d\uff0c\u8bf7\u4e0d\u8981\u5b66\u6211\uff0c\u56e0\u4e3a\u6211\u5b9e\u5728\u60f3\u4e0d\u51fa\u53eb\u4ec0\u4e48\u540d\u4e86... \u5f53\u6211\u4eec\u5728chrome\u91cc\u5e94\u7528React-Developer-Tools\u7684\u65f6\u5019\uff0c\u7ec4\u4ef6\u7ed3\u6784\u53ef\u4ee5\u4e00\u76ee\u4e86\u7136\uff0c\u6240\u4ee5DisplayName\u6700\u597d\u8fd8\u662f\u52a0\u4e0a\u3002   </p> </li> <li> <p>\u9759\u6001\u65b9\u6cd5\u8981\u590d\u5236   \u65e0\u8bbaPP\u8fd8\u662fII\u7684\u65b9\u5f0f\uff0cWrappedComponent\u7684\u9759\u6001\u65b9\u6cd5\u90fd\u4e0d\u4f1a\u590d\u5236\uff0c\u5982\u679c\u8981\u7528\u9700\u8981\u6211\u4eec\u5355\u72ec\u590d\u5236\u3002</p> </li> <li> <p>refs\u4e0d\u4f1a\u4f20\u9012\u3002 \u610f\u601d\u5c31\u662fHOC\u91cc\u6307\u5b9a\u7684ref\uff0c\u5e76\u4e0d\u4f1a\u4f20\u9012\u5230\u5b50\u7ec4\u4ef6\uff0c\u5982\u679c\u4f60\u8981\u4f7f\u7528\u6700\u597d\u5199\u56de\u8c03\u51fd\u6570\u901a\u8fc7props\u4f20\u4e0b\u53bb\u3002</p> </li> <li> <p>\u4e0d\u8981\u5728render\u65b9\u6cd5\u5185\u90e8\u4f7f\u7528\u9ad8\u9636\u7ec4\u4ef6\u3002\u7b80\u5355\u6765\u8bf4react\u7684\u5dee\u5206\u7b97\u6cd5\u4f1a\u53bb\u6bd4\u8f83 NowElement === OldElement, \u6765\u51b3\u5b9a\u8981\u4e0d\u8981\u66ff\u6362\u8fd9\u4e2aelementTree\u3002\u4e5f\u5c31\u662f\u5982\u679c\u4f60\u6bcf\u6b21\u8fd4\u56de\u7684\u7ed3\u679c\u90fd\u4e0d\u662f\u4e00\u4e2a\u5f15\u7528\uff0creact\u4ee5\u4e3a\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u53bb\u66f4\u66ff\u8fd9\u4e2a\u7ec4\u4ef6\u4f1a\u5bfc\u81f4\u4e4b\u524d\u7ec4\u4ef6\u7684\u72b6\u6001\u4e22\u5931\u3002</p> </li> </ul> <pre><code> // HOC\u4e0d\u8981\u653e\u5230render\u51fd\u6570\u91cc\u9762\n\n class WrappedUsual extends Component {\n\n  render() {\n    const WrappenComponent = addStyle(addFunc(Usual));\n\n    console.log(this.props, 'props');\n    return (&lt;div&gt;\n      &lt;WrappedComponent /&gt;\n    &lt;/div&gt;);\n  }\n}\n</code></pre> <ul> <li>\u4f7f\u7528compose\u7ec4\u5408HOC\u3002\u51fd\u6570\u5f0f\u7f16\u7a0b\u7684\u5957\u8def... \u4f8b\u5982\u5e94\u7528redux\u4e2d\u7684middleware\u4ee5\u589e\u5f3a\u529f\u80fd\u3002redux-middleware\u89e3\u6790</li> </ul> <pre><code>const addFuncHOC = ...\nconst addStyleHOC = ...//\u7701\u7565\n\nconst compose = (...funcs) =&gt; component =&gt; {\n  if (funcs.lenght === 0) {\n    return component;\n  }\n  const last = funcs[funcs.length - 1];\n  return funcs.reduceRight((res, cur) =&gt; cur(res), last(component));\n};\n\nconst WrappedComponent = compose(addFuncHOC, addStyleHOC)(Usual);\n</code></pre>"},{"location":"react/React-Design%20Principles/","title":"React Design Principles","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 24572  \u9605\u8bfb50\u5206\u949f</p> <p>We wrote this document so that you have a better idea of how we decide what React does and what React doesn\u2019t do, and what our development philosophy is like. While we are excited to see community contributions, we are not likely to choose a path that violates one or more of these principles.</p> <p>\u5199\u8fd9\u7bc7\u6587\u6863\u7684\u76ee\u7779\u662f\u4ecb\u7ecdReact\u505a\u4e86\u4ec0\u4e48\u3002\u6211\u4eec\u5efa\u8bae\u4f7f\u7528React\u65f6\u4e0d\u8981\u8fdd\u80cc\u8fd9\u6837\u7684\u539f\u5219\u3002\u8fd9\u4e2a\u6587\u6863\u5728\u4e8e\u5bf9React\u7684\u7406\u89e3\uff0c\u5e76\u4e0d\u662fReact\u7684\u5e94\u7528\u6216\u8005\u7ec4\u4ef6\u3002</p> <p>Note:</p> <p>This document assumes a strong understanding of React. It describes the design principles of React itself, not React components or applications.</p> <p>For an introduction to React, check out Thinking in React instead.</p>"},{"location":"react/React-Design%20Principles/#composition","title":"Composition","text":"<p>The key feature of React is composition of components. Components written by different people should work well together. It is important to us that you can add functionality to a component without causing rippling changes throughout the codebase.</p> <p>React\u7684\u6838\u5fc3\u7279\u70b9\u662f\u7531\u7ec4\u4ef6\u7ec4\u6210\u3002\u4e0d\u540c\u4eba\u7f16\u5199\u7684\u7ec4\u4ef6\u5e94\u8be5\u5171\u540c\u5de5\u4f5c\uff08\u6ca1\u6709\u51b2\u7a81\uff09\u3002\u5bf9\u4e8e\u4e00\u4e2a\u7ec4\u4ef6\u51fd\u6570\u5316\u7684\u8bbe\u8ba1\uff0c\u4f60\u4e0d\u9700\u8981\u8003\u8651\u5185\u90e8\u7684\u53d8\u5316\u3002</p> <p>For example, it should be possible to introduce some local state into a component without changing any of the components using it. Similarly, it should be possible to add some initialization and teardown code to any component when necessary.</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u4e0d\u9700\u8981\u6539\u53d8\u4efb\u4f55\u4f7f\u7528\u7684\u7ec4\u4ef6\uff0c\u800c\u53ea\u9700\u8981\u4f20\u5165\u4e00\u4e9b\u672c\u5730\u7684state\u53c2\u6570\u3002\uff08React\u7ec4\u4ef6\u5bf9\u5916\u66b4\u9732\u7684\u63a5\u53e3\u9700\u8981\u5b8c\u6574\uff0c\u53ea\u9700\u8981\u7ed9\u51fa\u63a5\u53e3\uff0c\u5176\u4ed6\u4eba\u5373\u53ef\u6b63\u786e\u4f7f\u7528\uff09\u3002\u540c\u7406\uff0c\u5982\u679c\u5fc5\u987b\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u7ed9\u7ec4\u4ef6\u589e\u52a0\u4e00\u4e9b\u521d\u59cb\u5316\u7684\u6570\u636e\u548c\u5378\u8f7d\u7684\u4ee3\u7801\u3002</p> <p>There is nothing \u201cbad\u201d about using state or lifecycle hooks in components. Like any powerful feature, they should be used in moderation, but we have no intention to remove them. On the contrary, we think they are integral parts of what makes React useful. We might enable more functional patterns in the future, but both local state and lifecycle hooks will be a part of that model.</p> <p>\u5728\u4e00\u4e2a\u7ec4\u4ef6\u4e2d\uff0c\u4f7f\u7528state\u6216\u8005\u751f\u547d\u5468\u671f\u51fd\u6570\u5e76\u4e0d\u662f\u574f\u4e8b\u3002\u5c31\u50cf\u4efb\u4f55\u4e00\u4e2a\u5f3a\u5927\u7684\u7279\u70b9\uff0c\u4ed6\u4eec\u9700\u8981\u9002\u5ea6\u4f7f\u7528\uff0c\u4f46\u662f\u6211\u4eec\u65e0\u610f\u5220\u9664\u8fd9\u90e8\u5206\u3002\u76f8\u53cd\uff0c\u6211\u4eec\u8ba4\u4e3a\uff0c\u8fd9\u90e8\u5206\u4ee3\u7801\u662f\u7684React\u66f4\u6709\u7528\u3002\u5c06\u6765\u6211\u4eec\u4f1a\u4f7f\u7528\u51fd\u6570\u5f0f\u7f16\u7a0b\uff0c\u4f46\u662f\uff0c\u5728\u8fd9\u4e2a\u6a21\u578b\u4e2d\u4ecd\u7136\u4f1a\u4fdd\u7559\u672c\u5730\u7684state\u548c\u751f\u547d\u5468\u671f\u51fd\u6570\u3002</p> <p>Components are often described as \u201cjust functions\u201d but in our view they need to be more than that to be useful. In React, components describe any composable behavior, and this includes rendering, lifecycle, and state. Some external libraries like Relay augment components with other responsibilities such as describing data dependencies. It is possible that those ideas might make it back into React too in some form.</p> <p>\u7ec4\u4ef6\u7ecf\u5e38\u88ab\u63cf\u8ff0\u4e3a\u201c\u53ea\u662f\u7b80\u5355\u7684\u51fd\u6570\u201d\uff0c\u4f46\u662f\u6211\u4eec\u8ba4\u4e3a\u4ed6\u7684\u7528\u5904\u66f4\u5927\u3002\u5728React\u4e2d\uff0c\u7ec4\u4ef7\u63cf\u8ff0\u4efb\u4f55\u4efb\u4f55\u53ef\u7ec4\u5408\u7684\u884c\u4e3a\uff0c\u8fd9\u5305\u62ecrender\uff0clifestyle\uff0cstate\u3002</p>"},{"location":"react/React-Design%20Principles/#common-abstraction","title":"Common Abstraction","text":"<p>In general we resist adding features that can be implemented in userland. We don\u2019t want to bloat your apps with useless library code. However, there are exceptions to this.</p> <p>For example, if React didn\u2019t provide support for local state or lifecycle hooks, people would create custom abstractions for them. When there are multiple abstractions competing, React can\u2019t enforce or take advantage of the properties of either of them. It has to work with the lowest common denominator.</p> <p>This is why sometimes we add features to React itself. If we notice that many components implement a certain feature in incompatible or inefficient ways, we might prefer to bake it into React. We don\u2019t do it lightly. When we do it, it\u2019s because we are confident that raising the abstraction level benefits the whole ecosystem. State, lifecycle hooks, cross-browser event normalization are good examples of this.</p> <p>\u901a\u5e38\uff0c\u6211\u4eec\u62d2\u7edd\u6dfb\u52a0\u53ef\u4ee5\u5728\u7528\u6237\u73af\u5883\u4e2d\u5b9e\u73b0\u7684\u529f\u80fd\u3002\u6211\u4eec\u4e0d\u60f3\u4f7f\u7528\u65e0\u7528\u7684\u5e93\u4ee3\u7801\u6765\u5938\u5927\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u4f46\u662f\uff0c\u4e5f\u6709\u4f8b\u5916\u3002</p> <p>\u4f8b\u5982\uff0c\u5982\u679cReact\u4e0d\u63d0\u4f9b\u5bf9\u672c\u5730\u72b6\u6001\u6216\u751f\u547d\u5468\u671f\u6302\u94a9\u7684\u652f\u6301\uff0c\u4eba\u4eec\u5c06\u4e3a\u5176\u521b\u5efa\u81ea\u5b9a\u4e49\u62bd\u8c61\u3002\u5f53\u6709\u591a\u4e2a\u62bd\u8c61\u7ade\u4e89\u65f6\uff0cReact\u65e0\u6cd5\u5f3a\u5236\u6216\u5229\u7528\u5176\u4e2d\u4efb\u4f55\u4e00\u4e2a\u7684\u5c5e\u6027\u3002\u5b83\u5fc5\u987b\u4f7f\u7528\u6700\u4f4e\u516c\u5206\u6bcd\u6765\u5de5\u4f5c\u3002</p> <p>\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6709\u65f6\u6211\u4eec\u5411React\u672c\u8eab\u6dfb\u52a0\u529f\u80fd\u7684\u539f\u56e0\u3002\u5982\u679c\u6211\u4eec\u6ce8\u610f\u5230\u8bb8\u591a\u7ec4\u4ef6\u4ee5\u4e0d\u517c\u5bb9\u6216\u4f4e\u6548\u7684\u65b9\u5f0f\u5b9e\u73b0\u4e86\u67d0\u4e2a\u529f\u80fd\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u80fd\u66f4\u559c\u6b22\u5c06\u5176\u70d8\u7119\u5230React\u4e2d\u3002\u6211\u4eec\u4e0d\u80fd\u8f7b\u6613\u505a\u5230\u3002\u5f53\u6211\u4eec\u8fd9\u6837\u505a\u65f6\uff0c\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u6709\u4fe1\u5fc3\u63d0\u9ad8\u62bd\u8c61\u7ea7\u522b\u4f1a\u4f7f\u6574\u4e2a\u751f\u6001\u7cfb\u7edf\u53d7\u76ca\u3002\u72b6\u6001\uff0c\u751f\u547d\u5468\u671f\u6302\u94a9\uff0c\u8de8\u6d4f\u89c8\u5668\u4e8b\u4ef6\u89c4\u8303\u5316\u5c31\u662f\u5f88\u597d\u7684\u4f8b\u5b50\u3002</p>"},{"location":"react/React-Design%20Principles/#escape-hatches","title":"Escape Hatches","text":"<p>React is pragmatic. It is driven by the needs of the products written at Facebook. While it is influenced by some paradigms that are not yet fully mainstream such as functional programming, staying accessible to a wide range of developers with different skills and experience levels is an explicit goal of the project.</p> <p>If we want to deprecate a pattern that we don\u2019t like, it is our responsibility to consider all existing use cases for it and educate the community about the alternatives before we deprecate it. If some pattern that is useful for building apps is hard to express in a declarative way, we will provide an imperative API for it. If we can\u2019t figure out a perfect API for something that we found necessary in many apps, we will provide a temporary subpar working API as long as it is possible to get rid of it later and it leaves the door open for future improvements.</p> <p>React\u662f\u7a0b\u5e8f\u5316\u7684\u3002 \u5b83\u7531\u5728Facebook\u4e0a\u7f16\u5199\u7684\u4ea7\u54c1\u7684\u9700\u6c42\u9a71\u52a8\u3002 \u5c3d\u7ba1\u5b83\u53d7\u5230\u5c1a\u672a\u5b8c\u5168\u6210\u4e3a\u4e3b\u6d41\u7684\u4e00\u4e9b\u8303\u4f8b\uff08\u4f8b\u5982\u51fd\u6570\u5f0f\u7f16\u7a0b\uff09\u7684\u5f71\u54cd\uff0c\u4f46\u4f7f\u5177\u6709\u4e0d\u540c\u6280\u80fd\u548c\u7ecf\u9a8c\u6c34\u5e73\u7684\u4f17\u591a\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u4f7f\u7528\u5b83\u662f\u8be5\u9879\u76ee\u7684\u660e\u786e\u76ee\u6807\u3002</p> <p>\u5982\u679c\u6211\u4eec\u8981\u5f03\u7528\u6211\u4eec\u4e0d\u559c\u6b22\u7684\u6a21\u5f0f\uff0c\u5219\u6211\u4eec\u6709\u8d23\u4efb\u8003\u8651\u5b83\u7684\u6240\u6709\u73b0\u6709\u7528\u4f8b\uff0c\u5e76\u5728\u5f03\u7528\u4e4b\u524d\u5bf9\u793e\u533a\u8fdb\u884c\u66ff\u4ee3\u6559\u80b2\u3002 \u5982\u679c\u5f88\u96be\u4ee5\u58f0\u660e\u7684\u65b9\u5f0f\u8868\u8fbe\u4e00\u4e9b\u5bf9\u6784\u5efa\u5e94\u7528\u6709\u7528\u7684\u6a21\u5f0f\uff0c\u90a3\u4e48\u6211\u4eec\u5c06\u4e3a\u5176\u63d0\u4f9b\u547d\u4ee4\u6027\u7684API\u3002 \u5982\u679c\u6211\u4eec\u65e0\u6cd5\u4e3a\u8bb8\u591a\u5e94\u7528\u7a0b\u5e8f\u4e2d\u9700\u8981\u7684\u4e1c\u897f\u627e\u5230\u7406\u60f3\u7684API\uff0c\u6211\u4eec\u5c06\u63d0\u4f9b\u4e00\u4e2a\u4e34\u65f6\u7684\uff0c\u4f4e\u4e8e\u6807\u51c6\u7684API\uff0c\u53ea\u8981\u6709\u53ef\u80fd\u7a0d\u540e\u5c06\u5176\u6dd8\u6c70\uff0c\u5e76\u4e3a\u5c06\u6765\u7684\u6539\u8fdb\u6253\u5f00\u65b9\u4fbf\u4e4b\u95e8\u3002</p>"},{"location":"react/React-Design%20Principles/#stability","title":"Stability","text":"<p>We value API stability. At Facebook, we have more than 20 thousand components using React. Many other companies, including Twitter and Airbnb, are also heavy users of React. This is why we are usually reluctant to change public APIs or behavior.</p> <p>However we think stability in the sense of \u201cnothing changes\u201d is overrated. It quickly turns into stagnation. Instead, we prefer the stability in the sense of \u201cIt is heavily used in production, and when something changes, there is a clear (and preferably automated) migration path.\u201d</p> <p>When we deprecate a pattern, we study its internal usage at Facebook and add deprecation warnings. They let us assess the impact of the change. Sometimes we back out if we see that it is too early, and we need to think more strategically about getting the codebases to the point where they are ready for this change.</p> <p>If we are confident that the change is not too disruptive and the migration strategy is viable for all use cases, we release the deprecation warning to the open source community. We are closely in touch with many users of React outside of Facebook, and we monitor popular open source projects and guide them in fixing those deprecations.</p> <p>Given the sheer size of the Facebook React codebase, successful internal migration is often a good indicator that other companies won\u2019t have problems either. Nevertheless sometimes people point out additional use cases we haven\u2019t thought of, and we add escape hatches for them or rethink our approach.</p> <p>We don\u2019t deprecate anything without a good reason. We recognize that sometimes deprecations warnings cause frustration but we add them because deprecations clean up the road for the improvements and new features that we and many people in the community consider valuable.</p> <p>For example, we added a warning about unknown DOM props in React 15.2.0. Many projects were affected by this. However fixing this warning is important so that we can introduce the support for custom attributes to React. There is a reason like this behind every deprecation that we add.</p> <p>When we add a deprecation warning, we keep it for the rest of the current major version, and change the behavior in the next major version. If there is a lot of repetitive manual work involved, we release a codemod script that automates most of the change. Codemods enable us to move forward without stagnation in a massive codebase, and we encourage you to use them as well.</p> <p>You can find the codemods that we released in the react-codemod repository.</p> <p>\u6211\u4eec\u91cd\u89c6API\u7684\u7a33\u5b9a\u6027\u3002\u5728Facebook\uff0c\u6211\u4eec\u6709\u8d85\u8fc72\u4e07\u4e2a\u4f7f\u7528React\u7684\u7ec4\u4ef6\u3002\u5176\u4ed6\u8bb8\u591a\u516c\u53f8\uff0c\u5305\u62ecTwitter\u548cAirbnb\uff0c\u4e5f\u662fReact\u7684\u91cd\u5ea6\u7528\u6237\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u901a\u5e38\u4e0d\u613f\u66f4\u6539\u516c\u5171API\u6216\u884c\u4e3a\u7684\u539f\u56e0\u3002</p> <p>\u4f46\u662f\uff0c\u6211\u4eec\u8ba4\u4e3a\u201c\u6ca1\u6709\u4efb\u4f55\u53d8\u5316\u201d\u610f\u4e49\u4e0a\u7684\u7a33\u5b9a\u6027\u88ab\u9ad8\u4f30\u4e86\u3002\u5b83\u5f88\u5feb\u53d8\u6210\u505c\u6ede\u72b6\u6001\u3002\u53d6\u800c\u4ee3\u4e4b\u7684\u662f\uff0c\u6211\u4eec\u66f4\u559c\u6b22\u201c\u5728\u751f\u4ea7\u4e2d\u5927\u91cf\u4f7f\u7528\u5b83\uff0c\u5e76\u4e14\u5f53\u67d0\u4e9b\u4e8b\u60c5\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u4f1a\u6709\u4e00\u6761\u6e05\u6670\u7684\uff08\u6700\u597d\u662f\u81ea\u52a8\u5316\u7684\uff09\u8fc1\u79fb\u8def\u5f84\u3002\u201d</p> <p>\u5f03\u7528\u6a21\u5f0f\u65f6\uff0c\u6211\u4eec\u4f1a\u5728Facebook\u4e0a\u7814\u7a76\u5176\u5185\u90e8\u7528\u6cd5\u5e76\u6dfb\u52a0\u5f03\u7528\u8b66\u544a\u3002\u4ed6\u4eec\u8ba9\u6211\u4eec\u8bc4\u4f30\u4e86\u53d8\u5316\u7684\u5f71\u54cd\u3002\u6709\u65f6\uff0c\u5982\u679c\u6211\u4eec\u53d1\u73b0\u4e3a\u65f6\u8fc7\u65e9\uff0c\u6211\u4eec\u4f1a\u9000\u540e\u4e00\u6b65\uff0c\u6211\u4eec\u9700\u8981\u66f4\u7b56\u7565\u6027\u5730\u8003\u8651\u4f7f\u4ee3\u7801\u5e93\u8fbe\u5230\u53ef\u4ee5\u8fdb\u884c\u6b64\u66f4\u6539\u7684\u7a0b\u5ea6\u3002</p> <p>\u5982\u679c\u6211\u4eec\u786e\u4fe1\u66f4\u6539\u4e0d\u4f1a\u5e26\u6765\u592a\u5927\u7834\u574f\uff0c\u5e76\u4e14\u8fc1\u79fb\u7b56\u7565\u5bf9\u6240\u6709\u7528\u4f8b\u90fd\u53ef\u884c\uff0c\u90a3\u4e48\u6211\u4eec\u5c06\u5411\u5f00\u6e90\u793e\u533a\u53d1\u5e03\u5f03\u7528\u8b66\u544a\u3002\u6211\u4eec\u4e0eFacebook\u4ee5\u5916\u7684React\u7684\u8bb8\u591a\u7528\u6237\u4fdd\u6301\u7740\u5bc6\u5207\u8054\u7cfb\uff0c\u5e76\u4e14\u6211\u4eec\u76d1\u89c6\u6d41\u884c\u7684\u5f00\u6e90\u9879\u76ee\u5e76\u6307\u5bfc\u4ed6\u4eec\u89e3\u51b3\u8fd9\u4e9b\u8fc7\u65f6\u7684\u95ee\u9898\u3002</p> <p>\u8003\u8651\u5230Facebook React\u4ee3\u7801\u5e93\u7684\u5e9e\u5927\u89c4\u6a21\uff0c\u6210\u529f\u8fdb\u884c\u5185\u90e8\u8fc1\u79fb\u901a\u5e38\u53ef\u4ee5\u5f88\u597d\u5730\u8868\u660e\u5176\u4ed6\u516c\u53f8\u4e5f\u4e0d\u4f1a\u9047\u5230\u95ee\u9898\u3002\u4e0d\u8fc7\uff0c\u6709\u65f6\u4eba\u4eec\u4f1a\u6307\u51fa\u6211\u4eec\u6ca1\u6709\u60f3\u5230\u7684\u5176\u4ed6\u7528\u4f8b\uff0c\u56e0\u6b64\u6211\u4eec\u4e3a\u5b83\u4eec\u6dfb\u52a0\u4e86\u9003\u751f\u8231\u53e3\uff0c\u6216\u8005\u91cd\u65b0\u8003\u8651\u4e86\u6211\u4eec\u7684\u65b9\u6cd5\u3002</p> <p>\u6ca1\u6709\u5145\u5206\u7684\u7406\u7531\uff0c\u6211\u4eec\u4e0d\u4f1a\u5f03\u7528\u4efb\u4f55\u4e1c\u897f\u3002\u6211\u4eec\u8ba4\u8bc6\u5230\u6709\u65f6\u5f03\u7528\u8b66\u544a\u4f1a\u9020\u6210\u632b\u8d25\u611f\uff0c\u4f46\u6211\u4eec\u6dfb\u52a0\u5b83\u4eec\u662f\u56e0\u4e3a\u5f03\u7528\u8b66\u544a\u4e3a\u6211\u4eec\u548c\u793e\u533a\u4e2d\u8bb8\u591a\u4eba\u8ba4\u4e3a\u6709\u4ef7\u503c\u7684\u6539\u8fdb\u548c\u65b0\u529f\u80fd\u626b\u6e05\u4e86\u9053\u8def\u3002</p> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u5728React 15.2.0\u4e2d\u6dfb\u52a0\u4e86\u6709\u5173\u672a\u77e5DOM\u9053\u5177\u7684\u8b66\u544a\u3002\u8bb8\u591a\u9879\u76ee\u53d7\u6b64\u5f71\u54cd\u3002\u4f46\u662f\u4fee\u590d\u6b64\u8b66\u544a\u5f88\u91cd\u8981\uff0c\u8fd9\u6837\u6211\u4eec\u624d\u80fd\u5c06\u5bf9\u81ea\u5b9a\u4e49\u5c5e\u6027\u7684\u652f\u6301\u5f15\u5165\u5230React\u4e2d\u3002\u5728\u6211\u4eec\u6dfb\u52a0\u7684\u6bcf\u4e2a\u4e0d\u8d5e\u6210\u4f7f\u7528\u884c\u4e3a\u80cc\u540e\u90fd\u6709\u8fd9\u6837\u7684\u539f\u56e0\u3002</p> <p>\u6dfb\u52a0\u5f03\u7528\u8b66\u544a\u65f6\uff0c\u6211\u4eec\u4f1a\u5c06\u5176\u4fdd\u7559\u5728\u5f53\u524d\u4e3b\u8981\u7248\u672c\u7684\u5176\u4f59\u90e8\u5206\u4e2d\uff0c\u5e76\u5728\u4e0b\u4e00\u4e2a\u4e3b\u8981\u7248\u672c\u4e2d\u66f4\u6539\u5176\u884c\u4e3a\u3002\u5982\u679c\u6d89\u53ca\u5927\u91cf\u91cd\u590d\u7684\u624b\u52a8\u5de5\u4f5c\uff0c\u6211\u4eec\u5c06\u53d1\u5e03\u4e00\u4e2a\u4f7f\u5927\u591a\u6570\u66f4\u6539\u81ea\u52a8\u5316\u7684codemod\u811a\u672c\u3002 Codemods\u4f7f\u6211\u4eec\u80fd\u591f\u5728\u5e9e\u5927\u7684\u4ee3\u7801\u5e93\u4e2d\u524d\u8fdb\u800c\u4e0d\u4f1a\u505c\u6ede\u4e0d\u524d\uff0c\u5e76\u4e14\u6211\u4eec\u9f13\u52b1\u60a8\u4e5f\u4f7f\u7528\u5b83\u4eec\u3002</p> <p>\u60a8\u53ef\u4ee5\u5728react-codemod\u5b58\u50a8\u5e93\u4e2d\u627e\u5230\u6211\u4eec\u53d1\u5e03\u7684codemod\u3002</p>"},{"location":"react/React-Design%20Principles/#interoperability","title":"Interoperability","text":"<p>We place high value in interoperability with existing systems and gradual adoption. Facebook has a massive non-React codebase. Its website uses a mix of a server-side component system called XHP, internal UI libraries that came before React, and React itself. It is important to us that any product team can start using React for a small feature rather than rewrite their code to bet on it.</p> <p>This is why React provides escape hatches to work with mutable models, and tries to work well together with other UI libraries. You can wrap an existing imperative UI into a declarative component, and vice versa. This is crucial for gradual adoption.</p>"},{"location":"react/React-Design%20Principles/#scheduling","title":"Scheduling","text":"<p>Even when your components are described as functions, when you use React you don\u2019t call them directly. Every component returns a description of what needs to be rendered, and that description may include both user-written components like <code>&lt;LikeButton&gt;</code> and platform-specific components like <code>&lt;div&gt;</code>. It is up to React to \u201cunroll\u201d <code>&lt;LikeButton&gt;</code> at some point in the future and actually apply changes to the UI tree according to the render results of the components recursively.</p> <p>This is a subtle distinction but a powerful one. Since you don\u2019t call that component function but let React call it, it means React has the power to delay calling it if necessary. In its current implementation React walks the tree recursively and calls render functions of the whole updated tree during a single tick. However in the future it might start delaying some updates to avoid dropping frames.</p> <p>This is a common theme in React design. Some popular libraries implement the \u201cpush\u201d approach where computations are performed when the new data is available. React, however, sticks to the \u201cpull\u201d approach where computations can be delayed until necessary.</p> <p>React is not a generic data processing library. It is a library for building user interfaces. We think that it is uniquely positioned in an app to know which computations are relevant right now and which are not.</p> <p>If something is offscreen, we can delay any logic related to it. If data is arriving faster than the frame rate, we can coalesce and batch updates. We can prioritize work coming from user interactions (such as an animation caused by a button click) over less important background work (such as rendering new content just loaded from the network) to avoid dropping frames.</p> <p>To be clear, we are not taking advantage of this right now. However the freedom to do something like this is why we prefer to have control over scheduling, and why <code>setState()</code> is asynchronous. Conceptually, we think of it as \u201cscheduling an update\u201d.</p> <p>The control over scheduling would be harder for us to gain if we let the user directly compose views with a \u201cpush\u201d based paradigm common in some variations of Functional Reactive Programming. We want to own the \u201cglue\u201d code.</p> <p>It is a key goal for React that the amount of the user code that executes before yielding back into React is minimal. This ensures that React retains the capability to schedule and split work in chunks according to what it knows about the UI.</p> <p>There is an internal joke in the team that React should have been called \u201cSchedule\u201d because React does not want to be fully \u201creactive\u201d.</p>"},{"location":"react/React-Design%20Principles/#developer-experience","title":"Developer Experience","text":"<p>Providing a good developer experience is important to us.</p> <p>For example, we maintain React DevTools which let you inspect the React component tree in Chrome and Firefox. We have heard that it brings a big productivity boost both to the Facebook engineers and to the community.</p> <p>We also try to go an extra mile to provide helpful developer warnings. For example, React warns you in development if you nest tags in a way that the browser doesn\u2019t understand, or if you make a common typo in the API. Developer warnings and the related checks are the main reason why the development version of React is slower than the production version.</p> <p>The usage patterns that we see internally at Facebook help us understand what the common mistakes are, and how to prevent them early. When we add new features, we try to anticipate the common mistakes and warn about them.</p> <p>We are always looking out for ways to improve the developer experience. We love to hear your suggestions and accept your contributions to make it even better.</p>"},{"location":"react/React-Design%20Principles/#debugging","title":"Debugging","text":"<p>When something goes wrong, it is important that you have breadcrumbs to trace the mistake to its source in the codebase. In React, props and state are those breadcrumbs.</p> <p>If you see something wrong on the screen, you can open React DevTools, find the component responsible for rendering, and then see if the props and state are correct. If they are, you know that the problem is in the component\u2019s <code>render()</code> function, or some function that is called by <code>render()</code>. The problem is isolated.</p> <p>If the state is wrong, you know that the problem is caused by one of the <code>setState()</code> calls in this file. This, too, is relatively simple to locate and fix because usually there are only a few <code>setState()</code> calls in a single file.</p> <p>If the props are wrong, you can traverse the tree up in the inspector, looking for the component that first \u201cpoisoned the well\u201d by passing bad props down.</p> <p>This ability to trace any UI to the data that produced it in the form of current props and state is very important to React. It is an explicit design goal that state is not \u201ctrapped\u201d in closures and combinators, and is available to React directly.</p> <p>While the UI is dynamic, we believe that synchronous <code>render()</code> functions of props and state turn debugging from guesswork into a boring but finite procedure. We would like to preserve this constraint in React even though it makes some use cases, like complex animations, harder.</p>"},{"location":"react/React-Design%20Principles/#configuration","title":"Configuration","text":"<p>We find global runtime configuration options to be problematic.</p> <p>For example, it is occasionally requested that we implement a function like <code>React.configure(options)</code> or <code>React.register(component)</code>. However this poses multiple problems, and we are not aware of good solutions to them.</p> <p>What if somebody calls such a function from a third-party component library? What if one React app embeds another React app, and their desired configurations are incompatible? How can a third-party component specify that it requires a particular configuration? We think that global configuration doesn\u2019t work well with composition. Since composition is central to React, we don\u2019t provide global configuration in code.</p> <p>We do, however, provide some global configuration on the build level. For example, we provide separate development and production builds. We may also add a profiling build in the future, and we are open to considering other build flags.</p>"},{"location":"react/React-Design%20Principles/#beyond-the-dom","title":"Beyond the DOM","text":"<p>We see the value of React in the way it allows us to write components that have fewer bugs and compose together well. DOM is the original rendering target for React but React Native is just as important both to Facebook and the community.</p> <p>Being renderer-agnostic is an important design constraint of React. It adds some overhead in the internal representations. On the other hand, any improvements to the core translate across platforms.</p> <p>Having a single programming model lets us form engineering teams around products instead of platforms. So far the tradeoff has been worth it for us.</p>"},{"location":"react/React-Design%20Principles/#implementation","title":"Implementation","text":"<p>We try to provide elegant APIs where possible. We are much less concerned with the implementation being elegant. The real world is far from perfect, and to a reasonable extent we prefer to put the ugly code into the library if it means the user does not have to write it. When we evaluate new code, we are looking for an implementation that is correct, performant and affords a good developer experience. Elegance is secondary.</p> <p>We prefer boring code to clever code. Code is disposable and often changes. So it is important that it doesn\u2019t introduce new internal abstractions unless absolutely necessary. Verbose code that is easy to move around, change and remove is preferred to elegant code that is prematurely abstracted and hard to change.</p>"},{"location":"react/React-Design%20Principles/#optimized-for-tooling","title":"Optimized for Tooling","text":"<p>Some commonly used APIs have verbose names. For example, we use <code>componentDidMount()</code> instead of <code>didMount()</code> or <code>onMount()</code>. This is intentional. The goal is to make the points of interaction with the library highly visible.</p> <p>In a massive codebase like Facebook, being able to search for uses of specific APIs is very important. We value distinct verbose names, and especially for the features that should be used sparingly. For example, <code>dangerouslySetInnerHTML</code> is hard to miss in a code review.</p> <p>Optimizing for search is also important because of our reliance on codemods to make breaking changes. We want it to be easy and safe to apply vast automated changes across the codebase, and unique verbose names help us achieve this. Similarly, distinctive names make it easy to write custom lint rules about using React without worrying about potential false positives.</p> <p>JSX plays a similar role. While it is not required with React, we use it extensively at Facebook both for aesthetic and pragmatic reasons.</p> <p>In our codebase, JSX provides an unambiguous hint to the tools that they are dealing with a React element tree. This makes it possible to add build-time optimizations such as hoisting constant elements, safely lint and codemod internal component usage, and include JSX source location into the warnings.</p>"},{"location":"react/React-Design%20Principles/#dogfooding","title":"Dogfooding","text":"<p>We try our best to address the problems raised by the community. However we are likely to prioritize the issues that people are also experiencing internally at Facebook. Perhaps counter-intuitively, we think this is the main reason why the community can bet on React.</p> <p>Heavy internal usage gives us the confidence that React won\u2019t disappear tomorrow. React was created at Facebook to solve its problems. It brings tangible business value to the company and is used in many of its products. Dogfooding it means that our vision stays sharp and we have a focused direction going forward.</p> <p>This doesn\u2019t mean that we ignore the issues raised by the community. For example, we added support for web components and SVG to React even though we don\u2019t rely on either of them internally. We are actively listening to your pain points and address them to the best of our ability. The community is what makes React special to us, and we are honored to contribute back.</p> <p>After releasing many open source projects at Facebook, we have learned that trying to make everyone happy at the same time produced projects with poor focus that didn\u2019t grow well. Instead, we found that picking a small audience and focusing on making them happy brings a positive net effect. That\u2019s exactly what we did with React, and so far solving the problems encountered by Facebook product teams has translated well to the open source community.</p> <p>The downside of this approach is that sometimes we fail to give enough focus to the things that Facebook teams don\u2019t have to deal with, such as the \u201cgetting started\u201d experience. We are acutely aware of this, and we are thinking of how to improve in a way that would benefit everyone in the community without making the same mistakes we did with open source projects before.</p>"},{"location":"react/React-Suspense%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%8E%A2%E8%AE%A8/","title":"React\uff1aSuspense\u7684\u5b9e\u73b0\u4e0e\u63a2\u8ba8","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 7491  \u9605\u8bfb15\u5206\u949f</p> <p>Suspense\u7684\u5b9e\u73b0\u5f88\u8be1\u5f02\uff0c\u4e5f\u5907\u53d7\u4e89\u8bae\u3002\u7528Dan\u7684\u539f\u8bdd\u8bb2\uff1a\u4f60\u5c06\u4f1a\u6068\u6b7b\u5b83\uff0c\u7136\u540e\u4f60\u4f1a\u7231\u4e0a\u4ed6\u3002</p>"},{"location":"react/React-Suspense%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%8E%A2%E8%AE%A8/#suspense","title":"\u4ecb\u7ecdSuspense","text":"<p>\u8fd9\u4e2a\u4e3b\u8981\u89e3\u51b3\u7f51\u7edc\u7684IO\u95ee\u9898</p> <ul> <li>\u5728render\u51fd\u6570\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5199\u5165\u4e00\u4e2a\u5f02\u6b65\u8bf7\u6c42\uff0c\u8bf7\u6c42\u6570\u636e</li> <li>react\u4f1a\u4ece\u6211\u4eec\u7f13\u5b58\u4e2d\u8bfb\u53d6\u8fd9\u4e2a\u7f13\u5b58</li> <li>\u5982\u679c\u6709\u7f13\u5b58\u4e86\uff0c\u76f4\u63a5\u8fdb\u884c\u6b63\u5e38\u7684render</li> <li>\u5982\u679c\u6ca1\u6709\u7f13\u5b58\uff0c\u90a3\u4e48\u4f1a\u629b\u51fa\u4e00\u4e2a\u5f02\u5e38\uff0c\u8fd9\u4e2a\u5f02\u5e38\u662f\u4e00\u4e2apromise</li> <li>\u5f53\u8fd9\u4e2apromise\u5b8c\u6210\u540e\uff08\u8bf7\u6c42\u6570\u636e\u5b8c\u6210\uff09\uff0creact\u4f1a\u7ee7\u7eed\u56de\u5230\u539f\u6765\u7684render\u4e2d\uff08\u5b9e\u9645\u4e0a\u662f\u91cd\u65b0\u6267\u884c\u4e00\u904drender\uff09\uff0c\u628a\u6570\u636erender\u51fa\u6765</li> <li>\u5b8c\u5168\u540c\u6b65\u5199\u6cd5\uff0c\u6ca1\u6709\u4efb\u4f55\u5f02\u6b65callback\u4e4b\u7c7b\u7684\u4e1c\u897f</li> </ul> <p>\u5982\u679c\u4f60\u8fd8\u6ca1\u6709\u660e\u767d\u8fd9\u662f\u4ec0\u4e48\u610f\u601d\u90a3\u6211\u7b80\u5355\u7684\u8868\u8ff0\u6210\u4e0b\u9762\u8fd9\u53e5\u8bdd\uff1a</p> <p>\u8c03\u7528render\u51fd\u6570-&gt;\u53d1\u73b0\u6709\u5f02\u6b65\u8bf7\u6c42-&gt;\u60ac\u505c\uff0c\u7b49\u5f85\u5f02\u6b65\u8bf7\u6c42\u7ed3\u679c-&gt;\u518d\u6e32\u67d3\u5c55\u793a\u6570\u636e</p> <p>\u770b\u7740\u662f\u975e\u5e38\u795e\u5947\u7684\uff0c**\u7528\u540c\u6b65\u65b9\u6cd5\u5199\u5f02\u6b65\uff0c\u800c\u4e14\u6ca1\u6709yield/async/await\uff0c**\u7b80\u76f4\u80fd\u628a\u4eba\u770b\u50bb\u773c\u4e86\u3002\u8fd9\u4e48\u505a\u7684\u597d\u5904\u81ea\u7136\u5c31\u662f\uff0c\u6211\u4eec\u7684\u601d\u7ef4\u903b\u8f91\u975e\u5e38\u7684\u7b80\u5355\uff0c\u6e05\u695a\uff0c\u6ca1\u6709callback\uff0c\u6ca1\u6709\u5176\u4ed6\u4efb\u4f55\u73a9\u610f\u3002</p>"},{"location":"react/React-Suspense%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%8E%A2%E8%AE%A8/#react-16suspense","title":"\u4e00\uff09\u7528\u73b0\u5728\u7684React 16+\u5b9e\u73b0Suspense","text":"<p>\u8fd9\u4e2asuspense\u5f88\u795e\u5947\uff0c\u4f46\u662f\u5f53\u4f60\u77e5\u9053\u4e86\u5177\u4f53\u7ec6\u8282\u4e86\u4ee5\u540e\uff0c\u4f60\u5c31\u89c9\u5f97\uff0c\u5662\uff5e\uff5e\uff5e\uff5e\uff5e\uff5e\u539f\u6765\u662f\u8fd9\u6837\uff0c\u90a3\u4e48\u6839\u636e\u4e4b\u524d\u6211\u4eec\u7684\u4ecb\u7ecd\uff0c\u5168\u6587\u7684\u6700\u5173\u952e\u7684\u4e00\u4e2a\u5730\u65b9\u5c31\u662f\uff1a\u5982\u679c\u6ca1\u6709\u7f13\u5b58\uff0c\u90a3\u4e48\u4f1a\u629b\u51fa\u4e00\u4e2a\u5f02\u5e38\uff0c\u8fd9\u4e2a\u5f02\u5e38\u662f\u4e00\u4e2apromise</p> <p>\u6211\u4eec\u77e5\u9053\uff0c\u65e0\u8bba\u662f\u4ec0\u4e48\u5f02\u5e38\uff0cJavaScript\u90fd\u80fd\u6355\u83b7\uff0cReact\u5c31\u662f\u5229\u7528\u4e86\u8fd9\u4e2a\u8bed\u8a00\u7279\u6027\uff0c\u6355\u83b7\u4e86\u6240\u6709\u751f\u547d\u5468\u671f\u51fd\u6570\uff0crender\u51fd\u6570\uff0c\u4ee5\u53ca\u4e8b\u4ef6\u56de\u8c03\u4e2d\u7684\u4efb\u4f55\u9519\u8bef\uff0c\u5c01\u88c5\u8fdb\u4e00\u4e2a\u7279\u6b8a\u7684\u751f\u547d\u5468\u671f\u91cc\uff1aComponentDidCatch</p> <p>\u90a3\u4e48\u5b9e\u9645\u4e0a\uff0cSuspense\u5c31\u662f\u4f9d\u8d56ComponentDidCatch\u5b9e\u73b0\u7684\u3002</p> <p>1.1 createFetcher\u5b9e\u73b0</p> <pre><code>var cached = {};\n\nexport const createFetcher = (promiseTask) =&gt; {\n  let ref = cached;\n  return () =&gt; {\n    const task = promiseTask();\n    task.then(res =&gt; {\n      ref = res\n    });\n    if (ref === cached) {\n      throw task\n    }\n    return ref\n  }\n}\n</code></pre> <p>\u8fd9\u4e2a\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u8fd4\u56de\u4e00\u4e2aPromise\u3002\u8fd9\u91cc\u5e72\u7684\u5f88\u7b80\u5355\uff0c\u5229\u7528\u95ed\u5305\uff0c\u7f13\u5b58\u4e00\u4e2a\u53d8\u91cfref\uff0c\u7136\u540e\u5728\u6700\u540e\u8fd4\u56de\u7684\u51fd\u6570\u4e2d\uff0c\u8fdb\u884cthen\u64cd\u4f5c\uff0c\u5c06\u5f97\u5230\u7684\u7ed3\u679c\u8bbe\u7f6e\u7ed9\u7f13\u5b58ref\u3002</p> <p>\u770b\u5230\u8fd9\u91cc\u7684\u65f6\u5019\uff0c\u6211\u76f8\u4fe1\u4f60\u8fd8\u662f\u6a21\u7cca\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u90fd\u77e5\u9053\uff0c\u8fd9\u4e2a\u51fd\u6570\u5728\u7b2c\u4e00\u6b21\u8c03\u7528\u7684\u65f6\u5019\uff0c\u5fc5\u5b9a\u629b\u51fa\u4e00\u4e2atask(Promise\uff09\uff0c\u63a5\u4e0b\u6765\u770b\u3002</p> <p>1.2\u5b9e\u73b0Placeholder</p> <pre><code>export class Placeholder extends React.Component {\n  state = {\n    isLoading: false\n  };\n\ncomponentDidCatch(error) {\n  if (this._mounted) {\n    if (typeof error.then === 'function') {\n      this.setState({ isLoading: true });\n      error.then(() =&gt; {\n        if (this._mounted) {\n          this.setState({ isLoading: false })\n        }\n      });\n    }\n  }\n}\ncomponentDidMount() {\n  this._mounted = true;\n}\ncomponentWillUnmount() {\n  console.log('unm')\n  this._mounted = false;\n}\n\nrender() {\n  const { children } = this.props;\n  const { isLoading } = this.state;\n  return isLoading ? '\u52a0\u8f7d\u6570\u636e\u4e2d\uff0c\u8bf7\u7a0d\u540e...' : children;\n}\n}\n</code></pre> <p>\u8fd9\u91cc\u770b\u5230\uff0c\u6211\u4eec\u7684\u5173\u952e\u6027\u51fd\u6570\uff0c**componentDidCatch\uff0c**\u8fd9\u4e2a\u51fd\u6570\u4e3b\u8981\u5e72\u4e86\u4e09\u4ef6\u4e8b\u60c5</p> <ul> <li>\u5f53\u6211\u4eec\u8c03\u7528\u4e00\u4e2a\u5e26\u6709createFetcher\u7684render\u51fd\u6570\u65f6\uff0c\u6355\u83b7\u629b\u51fa\u7684Promise\u5e76\u6e32\u67d3\u300c\u52a0\u8f7d\u4e2d...\u300d\u5b57\u6837</li> <li>\u6267\u884cPromise.then\u64cd\u4f5c\uff0c\u5207\u6362loading\u6001\uff0c\u6e32\u67d3\u6211\u4eec\u5e26\u6709createFetcher\u7684render\u51fd\u6570</li> <li>\u53cd\u590d\u6267\u884c1\u30012\u6b65\u9aa4\uff0c\u76f4\u5230createFetcher\u4e2d\u7684promise resolve</li> </ul> <p>\u4e0d\u80fd\u4e0d\u8bf4\uff0c**\u975e\u5e38\u5de7\u5999\u7684\u5236\u9020\u4e86\u4e00\u4e2a\u5c0f\u5faa\u73af\uff0c\u68c0\u67e5\u76f4\u5230**promise resolve\u4ee5\u540e\uff0c\u6e32\u67d3\u5b50\u7ec4\u4ef6</p> <p>1.3\u6d4b\u8bd5\u7528\u4f8b</p> <pre><code>export var fetchSometingApi = () =&gt; {\n  return new Promise((resolve, reject) =&gt; {\n    setTimeout(() =&gt; {\n      resolve(\"\u52a0\u8f7d\u5b8c\u6bd5\uff0c\u8fd9\u662f\u4f60\u8981\u7684\u4e00\u6bb5\u6570\u636e\");\n    }, 3000);\n  });\n}\nconst getData = createFetcher(fetchSometingApi);\n\nconst FangZheng = ({ name }) =&gt; {\n  return &lt;h1&gt;{getData()}!&lt;/h1&gt;\n}\n\nclass App extends React.Component {\n\n  render() {\n    return (\n      &lt;Placeholder&gt;\n        &lt;FangZheng /&gt;\n      &lt;/Placeholder&gt;\n    );\n  }\n}\n\nReactDOM.render(\n  &lt;App /&gt;,\n  document.getElementById('root')\n);\n</code></pre> <p>1.4\u4f7f\u7528render prop\u5199\u4e00\u4e2aloading</p> <pre><code>//\u53ea\u9700\u8981\u5c06\u521a\u521a\u7684placeholder\u4e2d\u7684render\u6539\u6210\nrender() {\n        const { children } = this.props;\n        const { isLoading } = this.state;\n\n        return children(isLoading)\n }\n</code></pre> <p>\u5728\u5916\u90e8\u7684\u65f6\u5019\u8fd9\u4e48\u4f7f\u7528</p> <pre><code>const getData = createFetcher(fetchSometingApi);\n\nconst FangZheng = ({ name }) =&gt; {\n  return &lt;h1&gt;{getData()}!&lt;/h1&gt;\n}\n\nclass App extends React.Component {\n  state = {\n    show: false\n  }\n\nhandleClick = () =&gt; {\n  this.setState({\n    show: true\n  })\n}\n\nhandleClickBack = () =&gt; {\n  this.setState({\n    show: false\n  })\n}\nhandleClickClear = () =&gt; {\n  location.reload();\n}\n\nrender() {\n  return (\n    &lt;div&gt;\n      &lt;button onClick={this.handleClick}&gt;\u52a0\u8f7d&lt;/button&gt;\n      &lt;button onClick={this.handleClickBack}&gt;\u56de\u9000&lt;/button&gt;\n      &lt;button onClick={this.handleClickClear}&gt;\u6e05\u9664\u7f13\u5b58&lt;/button&gt;\n      &lt;div&gt;\n        {this.state.show ?\n          &lt;Loading&gt;\n            {isLoading =&gt; isLoading ? &lt;Spin /&gt; : &lt;FangZheng /&gt;}\n          &lt;/Loading&gt; :\n        null\n        }\n      &lt;/div&gt;\n    &lt;/div&gt;\n  );\n}\n}\n</code></pre> <p>\u7b2c\u4e00\u6b21\u8bfb\u53d6\u4ee5\u540e\uff0c\u7ed3\u679c\u7f13\u5b58\uff0c\u7b2c\u4e8c\u6b21\u52a0\u8f7d\u76f4\u63a5\u51fa\u73b0</p>"},{"location":"react/React-Suspense%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%8E%A2%E8%AE%A8/#_1","title":"\u4e8c\uff09\u4e00\u4e9b\u601d\u8003","text":"<p>\u8fd9\u4e00\u79cd\u7ec4\u4ef6\u7684\u4e66\u5199\u65b9\u5f0f\uff0c\u53ef\u4ee5\u8bf4\u5b8c\u5168\u7834\u574f\u4e86\u6211\u4eec\u4e4b\u524d\u7684\u56fa\u6709\u601d\u7ef4\uff1arender\u5fc5\u987b\u662f\u7eaf\u51fd\u6570</p> <p>\u6211\u4eec\u6765\u8bf4\u8bf4\u597d\u5904\uff1a</p> <ol> <li>\u975e\u5e38\u5b9e\u7528\uff0c\u8fd9\u4e00\u90e8\u5206\u5570\u5570\u55e6\u55e6\u7684\u903b\u8f91\u5728redux\u4e2d\u641e\u7684\u8bdd\uff0c\u5fc5\u987b\u5f97\u6307\u5b9a\u591a\u4e2a\u72b6\u6001\u7136\u540e\u624d\u80fd\u5b8c\u4e8b</li> <li>**\u5728Jsx\u5c42**\u89e3\u51b3\u8fd9\u79cd\u5e38\u89c1\u7684\u526f\u4f5c\u7528\uff0c\u5728\u540c\u6784\u5e94\u7528\u4e2d\u53d1\u6325\u66f4\u5927\u7684\u6548\u679c\uff0c\u56e0\u4e3a\u4ee3\u7801\u53ef\u4ee5\u66f4\u7edf\u4e00\uff0c\u6211\u4e2a\u4eba\u8ba4\u4e3a\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u4f18\u96c5\u7684\u65b9\u5f0f</li> <li>\u5f02\u6b65\u540c\u6b65\u5316\u3002\u5f02\u6b65\u7684\u540c\u6b65\u5316\u8fd9\u51e0\u5e74\u4e00\u76f4\u90fd\u5728\u505a\uff0c\u800c\u4e14\u8fd9\u4e00\u6b21\u53ef\u4ee5\u8bf4\u89e3\u51b3\u5f97\u66f4\u52a0\u5f7b\u5e95\uff0c\u8fde\u4e4b\u524d\u7684yield async/await\u90fd\u6ca1\u4e86</li> <li>\u526f\u4f5c\u7528\u7c92\u5ea6\u5c0f\uff0c\u672c\u6765\u4e00\u4e2a\u7ec4\u4ef6\u7684\u300c\u81ea\u66f4\u65b0\u300d\u5c31\u662f\u4ed6\u81ea\u5df1\u7684\u4e8b\u60c5\uff0c\u5f97\u76ca\u4e8e\u8fd9\u6837\u7684\u8bbe\u8ba1\uff0c\u6211\u4eec\u7684\u7ec4\u4ef6\u53ef\u4ee5\u91cd\u65b0\u56de\u5f52\uff0c\u81ea\u5df1\u72b6\u6001\u81ea\u5df1\u7ba1\u7406\u8fd9\u79cd\u597d\u4e8b\u4e2d\u53bb\u3002</li> </ol> <p>\u518d\u6765\u8bf4\u8bf4\u574f\u5904\uff1a</p> <ol> <li>Hack\uff0c\u4e0d\u5f97\u4e0d\u8bf4\uff0c\u867d\u7136\u5de7\u5999\uff0c\u4f46\u662f\u7528throw promise\u662f\u4e00\u4e2ahack\uff0c\u5229\u7528\u8bed\u8a00\u7279\u6027\u5236\u9020\u7684\u8fd9\u79cdhack\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u67d0\u4e9b\u95ee\u9898\u96be\u4ee5\u6392\u67e5\u3002\u6211\u60f3\u8fd9\u4e5f\u5c31\u662f\u4e3a\u4ec0\u4e48react team\u628a\u4e00\u4e2a\u300c\u672c\u6765\u53ef\u4ee5\u653e\u5728\u5916\u9762\u5b9e\u73b0\u7684\u529f\u80fd\uff0c\u5199\u8fdb\u4e86react\u300d\uff0c\u4ed6\u4eec\u4e00\u5b9a\u4e5f\u5728\u6478\u7d22\u5230\u5e95\u4f1a\u6709\u4ec0\u4e48\u5947\u602a\u7684bug\u3002</li> <li>render \u51fd\u6570\u4e0d\u518d\u7eaf\uff1a\u4e00\u4e2a\u7eaf\u51fd\u6570\u7684\u6700\u5927\u597d\u5904\u5c31\u662f\uff0c\u4ed6\u7684\u4e00\u5207\u7ed3\u679c\u6211\u4eec\u90fd\u80fd\u9884\u77e5\uff0c\u5e26\u6709\u526f\u4f5c\u7528\u7684\u51fd\u6570\u4e00\u4e24\u4e2a\u8fd8\u597d\uff0c\u591a\u4e86\u5c31\u53ef\u80fd\u4f1a\u5bfc\u81f4bug\u3002\u51b5\u4e14\uff0crender\u51fd\u6570\u5e76\u4e0d\u662f\u4e00\u4e2a\u666e\u901a\u7684\u51fd\u6570\uff0c\u800c\u662fReact\u7684\u6839\u57fa\uff0c\u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u90fd\u5fc5\u987b\u8981\u6709\u4e00\u4e2arender\uff08\u65e0\u72b6\u6001\u7ec4\u4ef6\u4e5f\u53ebrender\uff09 \u51fd\u6570\u3002</li> </ol>"},{"location":"react/React-Suspense%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%8E%A2%E8%AE%A8/#_2","title":"\u4e09\uff09\u6700\u540e\u603b\u7ed3","text":"<p>\u5b9e\u9645\u4e0asuspense\u5df2\u7ecf\u53ef\u4ee5\u5728\u6211\u4eec\u7684\u65e5\u5e38\u751f\u6d3b\u4e2d\u4f7f\u7528\u4e86\uff0c\u4e5f\u5c31\u662f\u50cf\u6211\u4e00\u6837\u53bb\u81ea\u5df1\u5b9e\u73b0\u4e00\u4e2a\u3002\u4ece\u7b2c\u4e00\u76f4\u89c9\u6765\u770b\uff0csuspense\u662f\u4e00\u4e2a\u4f18\u70b9\u8d3c\u591a\uff0c\u7f3a\u70b9\u611f\u89c9\u53c8\u53ef\u4ee5\u5ffd\u7565\u4e0d\u8ba1\u7684\u65b0\u7279\u6027\u3002</p> <p>\u5f53\u7136\uff0c\u76ee\u524d\u6765\u8bf4\uff0csuspense\u5e76\u6ca1\u6709\u6295\u5165\u5927\u89c4\u6a21\u4f7f\u7528\uff0c\u6709\u4ec0\u4e48\u795e\u5947\u7684bug\u8fd8\u4e0d\u597d\u8bf4\uff0c\u4f46\u662f\u5c31\u51b2throw promise\u8fd9\u4e00\u70b9\uff0c\u6211\u51b3\u5b9a\u4e0b\u5468\u5c31\u518d\u9879\u76ee\u4e2d\u5199\u4e00\u4e2a\u5c0f\u7ec4\u4ef6\u8bd5\u8bd5\u624b....</p> <p>\u6700\u540e\uff0c\u4eca\u5929\u7684\u5206\u6790\u4ee3\u7801\u6211\u653e\u5728\u4e86\uff1ahttps://github.com/215566435/think-in-suspense</p>"},{"location":"react/React-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/","title":"React \u907f\u514d\u91cd\u65b0\u6e32\u67d3 \u6027\u80fd\u4f18\u5316","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2527  \u9605\u8bfb6\u5206\u949f</p> <p>React\u6846\u67b6\u8fd0\u884c\u7684\u539f\u7406\uff1a\u754c\u9762\u53d7\u5230\u6570\u636e\u9a71\u52a8\uff0cstate \u548c props \u7684\u6539\u52a8\u4f1a\u9020\u6210\u754c\u9762\u7684\u6539\u52a8\u3002\u5176\u4e2d\uff0cstate \u662f\u81ea\u8eab\u7684\u5c5e\u6027\uff0cprops \u662f\u7236\u7ec4\u4ef6\u63d0\u4f9b\u7684\u53c2\u6570\u3002\u5982\u679c\u754c\u9762\u5185\u5bb9\u5f88\u591a\uff0c\u5f88\u5c0f\u7684\u6570\u636e\u53d8\u5316\u4f1a\u9020\u6210\u754c\u9762\u7684\u91cd\u7ed8\uff0c\u90a3\u4e48\u9020\u6210\u6027\u80fd\u7684\u6d6a\u8d39\u3002\u4e0b\u9762\u4ece\u51e0\u4e2a\u65b9\u9762\u603b\u7ed3\u4e00\u4e0b\u5982\u4f55\u907f\u514d\u91cd\u65b0\u6e32\u67d3\u3002</p>"},{"location":"react/React-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#state","title":"State","text":"<p>state\u662f\u4e00\u4e2a\u7ec4\u4ef6\u5185\u90e8\u7684\u5c5e\u6027\u3002\u5982\u679cstate\u53d8\u5316\uff0c\u90a3\u4e48\u7ec4\u4ef6\u5fc5\u7136\u4f1a render\u3002\u5982\u679c\u4e00\u4e2a\u7ec4\u4ef6\u662f\u9759\u6001\u5355\u9879\u7ec4\u4ef6\uff08\u4e0d\u6d89\u53ca\u7528\u6237\u8f93\u5165\u64cd\u4f5c\uff09\uff0c\u907f\u514d state \u4f7f\u7528\u3002\u5982\u679c\u754c\u9762\u4e2d\u9700\u8981\u4f7f\u7528\u53d8\u91cf\u8fdb\u884c\u8ba1\u7b97\uff0c\u53ef\u4ee5\u4f7f\u7528\u5c5e\u6027\uff08this.name\uff09\u6765\u4ee3\u66ffstate\u7b49\u3002\u5982\u679c\u4e0d\u4f7f\u7528 state \u53ef\u4ee5\u8ba1\u7b97\u5f97\u51fa\uff0c\u76f4\u63a5\u8ba1\u7b97\uff0c\u5c3d\u91cf\u51cf\u5c11 state \u7684\u6570\u91cf\u3002\u53ea\u6709\u6d89\u53ca\u7528\u6237\u4ea4\u4e92\u7684\u5730\u65b9\u6216\u8005\u4e0a\u4e0b\u7ec4\u4ef6\u4f20\u503c\u7684\u5730\u65b9\u624d\u4f7f\u7528 state\u3002</p> <p>\u603b\u4e4b\uff0cstate \u8d8a\u5c11\u8d8a\u597d\u3002</p>"},{"location":"react/React-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#props","title":"Props","text":"<p>props \u662f\u7236\u7ec4\u4ef6\u5411\u5b50\u7ec4\u4ef6\u4f20\u503c\u7684\u65b9\u5f0f\u3002\u5982\u679c\u7236\u7ec4\u4ef6\u4f20\u9012\u7684 props \u53d1\u751f\u53d8\u5316\uff0c\u90a3\u4e48\u5b50\u7ec4\u4ef6\u4f1a\u91cd\u65b0\u6e32\u67d3\u3002\u6240\u4ee5\uff0c\u7236\u7ec4\u4ef6\u4f20\u9012\u7684props\u53ef\u4ee5\u4f18\u5316\uff0c\u5b50\u7ec4\u4ef6\u9700\u8981\u4ec0\u4e48\uff0c\u7236\u7ec4\u4ef6\u518d\u4f20\u9012\u4ec0\u4e48props\u3002</p>"},{"location":"react/React-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#component","title":"Component","text":"<p>\u7ec4\u4ef6\u5316\u662freact\u7684\u91cd\u8981\u601d\u60f3\u3002\u7ec4\u4ef6\u5316\u4e0d\u4ec5\u53ef\u4ee5\u4f7f\u5f97\u4ee3\u7801\u590d\u7528\uff0c\u540c\u65f6\u53ef\u4ee5\u4f18\u5316\u6027\u80fd\u3002\u5c06\u754c\u9762\u4e0a\u7684\u529f\u80fd\u533a\u5206\u6210\u4e0d\u540c\u7684\u7ec4\u4ef6\u3002\u5f53\u67d0\u4e2a\u6570\u636e\u53d1\u751f\u53d8\u5316\uff0c\u53ea\u66f4\u65b0\u4e00\u90e8\u5206\u7ec4\u4ef6\uff0c\u5176\u4ed6\u7ec4\u4ef6\u4e0d\u53d7\u5f71\u54cd\uff0c\u8fd9\u6837\u53ef\u4ee5\u4f18\u5316\u6027\u80fd\u3002</p> <p>\u5c3d\u91cf\u4f7f\u7528\u65e0\u72b6\u6001\u7ec4\u4ef6\uff08\u6570\u636e\u7531\u5916\u90e8\u63d0\u4f9b\uff0c\u5185\u90e8\u6ca1\u6709\u7528\u6237\u6570\u636e\u4ea4\u4e92\u884c\u4e3a\u7b49\uff09\u3002\u8fd9\u90e8\u5206\u7ec4\u4ef6\u5c31\u662f\u5355\u72ec\u7684\u4e00\u90e8\u5206\uff0c\u4e0d\u53d7\u5230\u5916\u754c\u7684\u6570\u636e\u6539\u53d8\u7684\u5f71\u54cd\u3002</p>"},{"location":"react/React-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#_1","title":"\u751f\u547d\u5468\u671f\u51fd\u6570","text":"<p>\u5728 componentWillUpdate \u548c componentDidUpdate \u9636\u6bb5\uff0c\u754c\u9762\u6570\u636e\u7684\u5904\u7406\u53ef\u80fd\u4f1a\u9020\u6210\u754c\u9762\u518d\u6b21\u6e32\u67d3\u3002\u5982\u679c\u6d89\u53ca\u9012\u5f52\u7b49\u4ee3\u7801\u4f1a\u9020\u6210\u5f88\u5927\u7684\u6027\u80fd\u6d6a\u8d39\u3002</p> <p>\u5728componentDidMount \u9636\u6bb5\u53ef\u4ee5\u5904\u7406\u5f88\u591a\u6570\u636e\uff08\u754c\u9762\u9996\u6b21\u52a0\u8f7d\u540e\uff0c\u5411\u670d\u52a1\u5668\u53d1\u51fa\u8bf7\u6c42\u7b49\uff09\u3002</p> <p>\u901a\u8fc7 shouldComponentUpdate \u4e2d\u5224\u65ad\uff0c\u5982\u679c\u7ec4\u4ef6\u4f20\u6765\u7684props\u76f8\u540c\uff0c\u90a3\u4e48\u8fd4\u56de false \u4e0d\u9700\u8981\u8fdb\u884c\u754c\u9762\u91cd\u65b0\u6e32\u67d3\u3002\u524d\u540e\u4e0d\u6539\u53d8state\u503c\u7684setState\uff08\u7406\u8bba\u4e0a\uff09\u548c\u65e0\u6570\u636e\u4ea4\u6362\u7684\u7236\u7ec4\u4ef6\u7684\u91cd\u6e32\u67d3\u90fd\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u7684\u91cd\u6e32\u67d3\uff0c\u4f46\u4f60\u53ef\u4ee5\u5728shouldComponentUpdate\u8fd9\u9053\u4e24\u8005\u5fc5\u7ecf\u7684\u5173\u53e3\u963b\u6b62\u8fd9\u79cd\u6d6a\u8d39\u6027\u80fd\u7684\u884c\u4e3a\u3002</p>"},{"location":"react/React-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#purecomponent","title":"PureComponent","text":"<p>React.PureComponent \u7684\u57fa\u7840\u7c7b\u53ef\u4ee5\u5bf9\u6bd4props\u7684\u5dee\u5f02\u3002</p>"},{"location":"react/React-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#immutablejs","title":"immutable.js","text":"<p>\u4f7f\u7528immutable.js \u7684\u4e0d\u53ef\u53d8\u6570\u636e</p> <p>\u6216\u8005\u4f7f\u7528 ES6 \u4e2d\u7684 Map \u6216\u8005 Set \u4ee3\u66ff Array \u548c Object\uff08\u8868\u793a\u65e0\u5b9e\u9645\u610f\u4e49\u7684\u5bf9\u8c61\u6216\u8005\u6570\u7ec4\uff09\u3002</p>"},{"location":"react/React.Children%E7%9A%84API/","title":"React.Children \u8be6\u89e3","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4894  \u9605\u8bfb10\u5206\u949f</p> <p>React.Children\u63d0\u4f9b\u4e86\u5904\u7406 this.props.children \u7684 API\uff0cthis.props.children \u652f\u6301\u4efb\u4f55\u6570\u636e\uff08\u7ec4\u4ef6\u3001\u5b57\u7b26\u4e32\u3001\u51fd\u6570\u7b49\u7b49\uff09\u3002React.children\u67095\u4e2a\u65b9\u6cd5\uff1aReact.Children.map()\uff0cReact.Children.forEach()\u3001React.Children.count()\u3001React.Children.only()\u3001React.Children.toArray()\uff0c\u901a\u5e38\u4e0eReact.cloneElement()\u7ed3\u5408\u4f7f\u7528\u6765\u64cd\u4f5cthis.props.children\u3002</p>"},{"location":"react/React.Children%E7%9A%84API/#reactchildrenmap","title":"React.Children.map()","text":"<p>React.Children.map()\u6709\u4e9b\u7c7b\u4f3cArray.prototype.map()\u3002\u5982\u679cchildren\u662f\u6570\u7ec4\uff0c\u5219\u6b64\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5982\u679c\u662fnull \u6216 undefined \u5219\u8fd4\u56denull\u6216undefined\u3002\u7b2c\u4e00\u53c2\u6570\u662fchildren\uff0c\u5373\u793a\u4f8b\u4e2d\u7684Father\u7ec4\u4ef6\u91cc\u7684 'hello world!' \u548c<code>() =&gt; &lt;p&gt;2333&lt;/p&gt;</code>\u51fd\u6570\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662ffucntion\uff0cfunction\u7684\u53c2\u6570\u7b2c\u4e00\u4e2a\u662f\u904d\u5386\u7684\u6bcf\u4e00\u9879\uff0c\u7b2c\u4e8c\u4e2a\u662f\u5bf9\u5e94\u7684\u7d22\u5f15\u3002</p> <pre><code>function Father({children}) {\n  return(\n    &lt;div&gt;\n      {React.Children.map(children, (child, index) =&gt; {\n        ...\n      })}\n    &lt;/div&gt;\n  )        \n }\n\n&lt;Father&gt;\n  hello world!\n  {() =&gt; &lt;p&gt;2333&lt;/p&gt;}\n&lt;/Father&gt;\n</code></pre>"},{"location":"react/React.Children%E7%9A%84API/#reactchildrenforeach","title":"React.Children.forEach()","text":"<p>\u8ddfReact.Children.map()\u4e00\u6837\uff0c\u533a\u522b\u5728\u4e8e\u65e0\u8fd4\u56de\u3002</p>"},{"location":"react/React.Children%E7%9A%84API/#reactchildrencount","title":"React.Children.count()","text":"<p>React.Children.count()\u7528\u6765\u8ba1\u6570\uff0c\u8fd4\u56dechild\u4e2a\u6570\u3002\u4e0d\u8981\u7528children.length\u6765\u8ba1\u6570\uff0c\u5982\u679cFather\u7ec4\u4ef6\u91cc\u53ea\u6709'hello world!'\u4f1a\u8fd4\u56de12\uff0c\u663e\u7136\u662f\u9519\u8bef\u7684\u7ed3\u679c\u3002</p> <pre><code>function Father({children}) {\n    return(\n      &lt;div&gt;\n      {React.Children.count(children)}\n      &lt;/div&gt;    \n    )        \n }\n&lt;Father&gt;\n    hello world!\n    {() =&gt; &lt;p&gt;2333&lt;/p&gt;}\n&lt;/Father&gt;\n</code></pre>"},{"location":"react/React.Children%E7%9A%84API/#reactchildrenonly","title":"React.Children.only()","text":"<p>\u9a8c\u8bc1children\u91cc\u53ea\u6709\u552f\u4e00\u7684\u5b69\u5b50\u5e76\u8fd4\u56de\u4ed6\u3002\u5426\u5219\u8fd9\u4e2a\u65b9\u6cd5\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002</p> <pre><code>function Father({children}) {\n  return(\n    &lt;div&gt;\n      {React.Children.only(children)}\n    &lt;/div&gt;    \n  )\n}\n\n&lt;Father&gt;\n  hello world!\n&lt;/Father&gt;\n</code></pre>"},{"location":"react/React.Children%E7%9A%84API/#reactchildrentoarray","title":"React.Children.toArray()","text":"<p>\u5c06children\u8f6c\u6362\u6210Array\uff0c\u5bf9children\u6392\u5e8f\u65f6\u9700\u8981\u4f7f\u7528</p> <pre><code>function Father({children}) {\n  let children1 = React.Children.toArray(children);\n  return(\n    &lt;div&gt;\n      {children1.sort().join(' ')}\n    &lt;/div&gt;    \n  )        \n}\n\n\n&lt;Father&gt;\n  {'ccc'}\n  {'aaa'}\n  {'bbb'}\n&lt;/Father&gt;\n\n//\u6e32\u67d3\u7ed3\u679c\uff1a aaa bbb ccc\n</code></pre> <p>\u5982\u679c\u4e0d\u7528React.Children.toArray()\u65b9\u6cd5\uff0c\u76f4\u63a5\u5199children.sort()\u5c31\u4f1a\u62a5\u9519</p> <p></p> <p>Example\uff1a</p> <p>\u4f8b\u5982\u6709\u8fd9\u6837\u7684\u9700\u6c42\uff0c\u5b8c\u6210\u4e00\u4e2a\u64cd\u4f5c\u9700\u89813\u4e2a\u6b65\u9aa4\uff0c\u6bcf\u5b8c\u6210\u4e00\u4e2a\u6b65\u9aa4\uff0c\u5bf9\u5e94\u7684\u6307\u793a\u706f\u5c31\u4f1a\u70b9\u4eae\u3002</p> <p>index.jsx</p> <pre><code>import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport {Steps, Step} from './Steps';\n\nfunction App() {\n  return (\n    &lt;div&gt;\n      &lt;Steps currentStep={1}&gt;  //\u5b8c\u6210\u76f8\u5e94\u7684\u6b65\u9aa4\uff0c\u6539\u53d8currentStep\u7684\u503c\u3002\u5982\uff0c\u5b8c\u6210\u7b2c\u4e00\u6b65currentStep\u8d4b\u503c\u4e3a1\uff0c\u5b8c\u6210\u7b2c\u4e8c\u90e8\u8d4b\u503c\u4e3a2\n        &lt;Step /&gt;\n        &lt;Step /&gt;\n        &lt;Step /&gt;\n      &lt;/Steps&gt;\n    &lt;/div&gt;\n  );\n}\nReactDOM.render(&lt;App /&gt;, document.getElementById('root')); \n</code></pre> <p>Steps.jsx</p> <pre><code>import * as React from 'react';\nimport './step.less';\n\nfunction Steps({currentStep, children}) {\n  return (\n    &lt;div&gt;\n      {React.Children.map(children, (child, index) =&gt; {\n        return React.cloneElement(child, {\n          index: index,\n          currentStep: currentStep\n        });\n      })}\n    &lt;/div&gt;\n  );\n}\n\nfunction Step({index, currentStep}: any) {\n  return &lt;div className={`indicator${currentStep &gt;= index + 1 ? ' active' : ''}`} /&gt;;\n}\nexport {Steps, Step};\n</code></pre> <p>steps.less</p> <pre><code>.indicator {\n  display: inline-block;\n  width: 100px;\n  height: 20px;\n  margin-right: 10px;\n  margin-top: 200px;\n  background: #f3f3f3;\n  &amp;.active {\n    background: orange;\n  }\n</code></pre>"},{"location":"react/React.Children%E7%9A%84API/#reactchildren_1","title":"React.children\u7b80\u4ecb","text":"<p>React.Children \u662f React \u7684\u5185\u7f6e\u5bf9\u8c61\uff0c\u5177\u6709\u5f88\u591a\u65b9\u6cd5\u3002</p> <p>this.props.children \u6216\u8005 props.children \u8868\u793a\u67d0\u4e2a\u7ec4\u4ef6\u7684\u5b50\u7ec4\u4ef6\u3002\u6ce8\u610f\u6570\u636e\u7c7b\u578b\uff1a\u5982\u679c\u6ca1\u6709\u5b50\u7ec4\u4ef6\uff0cnull\uff1b\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u5b50\u7ec4\u4ef6\uff0cobject\uff1b\u5982\u679c\u6709\u591a\u4e2a\u5b50\u7ec4\u4ef6\uff0c\u5c31\u662f array\u3002\u6240\u4ee5\u76f4\u63a5\u5904\u7406 this.props.children \u6bd4\u8f83\u9ebb\u70e6\u3002</p> <p>\u4f7f\u7528 React.Children \u5904\u7406 this.props.children \u53ef\u4ee5\u89e3\u51b3\u6570\u636e\u7c7b\u578b\u7684\u95ee\u9898\u3002\u4e0b\u9762\u662f\u4e3b\u8981\u65b9\u6cd5</p>"},{"location":"react/React.Children%E7%9A%84API/#map","title":"map","text":"<p>\u7c7b\u4f3c\u4e8e\u6570\u7ec4\u7684 map\uff0c\u53ef\u4ee5\u83b7\u53d6\u6bcf\u4e00\u4e2a\u5b50\u7ec4\u4ef6\u5e76\u5904\u7406</p> <pre><code>function handleChildren() {\n  React.Children.map(this.props.children, function(child) {\n    return &lt;li&gt;{child}&lt;/li&gt;\n  });\n}\n</code></pre> <p>\u8fd9\u6837\u53ef\u4ee5\u6279\u91cf\u5904\u7406\u5b50\u7ec4\u4ef6</p> <pre><code>let NodeList = React.createClass({\n  render: function() {\n    return (\n      &lt;ul&gt;{this.handleChildren()}&lt;/ul&gt;\n    );\n  }\n});\n\nReact.render(\n  &lt;NotesList&gt;\n    &lt;span&gt;hello&lt;/span&gt;\n    &lt;span&gt;Michael&lt;/span&gt;\n  &lt;/NotesList&gt;,\ndocument.body);\n</code></pre> <pre><code>&lt;ul&gt;\n  &lt;li&gt;&lt;span&gt;hello&lt;/span&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;span&gt;Michael&lt;/span&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>"},{"location":"react/React.Children%E7%9A%84API/#foreach","title":"forEach","text":"<p>\u4e0d\u8fd4\u56de\u5bf9\u8c61\uff0c\u53ea\u5b9e\u73b0 this.props.children \u6570\u636e\u5904\u7406\uff1b\u901a\u5e38\u4f7f\u7528 map \u65b9\u6cd5\uff1b</p>"},{"location":"react/React.Children%E7%9A%84API/#count","title":"count","text":"<p>React.Children.count(this.props.children) \u8fd4\u56de\u5b50\u7ec4\u4ef6\u7684\u6570\u91cf\uff08012\uff09</p>"},{"location":"react/React.Component/","title":"React.Component","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 20717  \u9605\u8bfb42\u5206\u949f</p> <p>\u7ec4\u4ef6 \u80fd\u591f\u8ba9\u4f60\u5c06UI\u5206\u5272\u6210\u72ec\u7acb\u7684\u3001\u53ef\u91cd\u7528\u7684\u90e8\u5206\uff0c\u5e76\u5bf9\u6bcf\u4e00\u90e8\u5206\u5355\u72ec\u8003\u91cf\u3002<code>React</code>\u63d0\u4f9b\u4e86<code>React.Component</code> \u3002</p>"},{"location":"react/React.Component/#_1","title":"\u6982\u89c8","text":"<p><code>React.Component</code>\u662f\u4e00\u4e2a\u62bd\u8c61\u57fa\u7840\u7c7b\uff0c\u56e0\u6b64\u76f4\u63a5\u5f15\u7528<code>React.Component</code>\u51e0\u4e4e\u6ca1\u610f\u4e49\u3002\u76f8\u53cd\uff0c\u4f60\u901a\u5e38\u4f1a\u7ee7\u627f\u81ea\u5b83\uff0c\u5e76\u81f3\u5c11\u5b9a\u4e49\u4e00\u4e2a<code>render()</code>\u65b9\u6cd5\u3002</p> <p>\u901a\u5e38\u4f60\u5b9a\u4e49\u4e00\u4e2aReact\u7ec4\u4ef6\u76f8\u5f53\u4e8e\u4e00\u4e2a\u7eafJavaScript\u7c7b\uff1a</p> <pre><code>class Greeting extends React.Component {\n  render() {\n    return &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;;\n  }\n}\n</code></pre> <p>\u82e5\u4f60\u4ecd\u672a\u4f7f\u7528 ES6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>create-react-class</code>\u6a21\u5757\u3002</p>"},{"location":"react/React.Component/#_2","title":"\u7ec4\u4ef6\u751f\u547d\u5468\u671f","text":"<p>\u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u90fd\u6709\u51e0\u4e2a\u4f60\u53ef\u4ee5\u91cd\u5199\u4ee5\u8ba9\u4ee3\u7801\u5728\u5904\u7406\u73af\u8282\u7684\u7279\u5b9a\u65f6\u671f\u8fd0\u884c\u7684\u201c\u751f\u547d\u5468\u671f\u65b9\u6cd5\u201d\u3002\u65b9\u6cd5\u4e2d\u5e26\u6709\u524d\u7f00 will \u7684\u5728\u7279\u5b9a\u73af\u8282\u4e4b\u524d\u88ab\u8c03\u7528\uff0c\u800c\u5e26\u6709\u524d\u7f00 did \u7684\u65b9\u6cd5\u5219\u4f1a\u5728\u7279\u5b9a\u73af\u8282\u4e4b\u540e\u88ab\u8c03\u7528\u3002</p>"},{"location":"react/React.Component/#_3","title":"\u88c5\u914d","text":"<p>\u8fd9\u4e9b\u65b9\u6cd5\u4f1a\u5728\u7ec4\u4ef6\u5b9e\u4f8b\u88ab\u521b\u5efa\u548c\u63d2\u5165DOM\u4e2d\u65f6\u88ab\u8c03\u7528\uff1a</p> <ul> <li><code>constructor()</code></li> <li><code>static getDerivedStateFromProps()</code></li> <li><code>componentWillMount()</code> / <code>UNSAFE_componentWillMount()</code></li> <li><code>render()</code></li> <li><code>componentDidMount()</code></li> </ul>"},{"location":"react/React.Component/#_4","title":"\u66f4\u65b0","text":"<p>\u5c5e\u6027\u6216\u72b6\u6001\u7684\u6539\u53d8\u4f1a\u89e6\u53d1\u4e00\u6b21\u66f4\u65b0\u3002\u5f53\u4e00\u4e2a\u7ec4\u4ef6\u5728\u88ab\u91cd\u6e32\u65f6\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u5c06\u4f1a\u88ab\u8c03\u7528\uff1a</p> <ul> <li><code>componentWillReceiveProps()</code> / <code>UNSAFE_componentWillReceiveProps()</code></li> <li><code>static getDerivedStateFromProps()</code></li> <li><code>shouldComponentUpdate()</code></li> <li><code>componentWillUpdate()</code> / <code>UNSAFE_componentWillUpdate()</code></li> <li><code>render()</code></li> <li><code>getSnapshotBeforeUpdate()</code></li> <li><code>componentDidUpdate()</code></li> </ul>"},{"location":"react/React.Component/#_5","title":"\u5378\u8f7d","text":"<p>\u5f53\u4e00\u4e2a\u7ec4\u4ef6\u88ab\u4eceDOM\u4e2d\u79fb\u9664\u65f6\uff0c\u8be5\u65b9\u6cd5\u88ab\u8c03\u7528\uff1a</p> <ul> <li><code>componentWillUnmount()</code></li> </ul>"},{"location":"react/React.Component/#_6","title":"\u9519\u8bef\u5904\u7406","text":"<p>\u5728\u6e32\u67d3\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef\u65f6\u4f1a\u88ab\u8c03\u7528\uff1a</p> <ul> <li><code>componentDidCatch()</code></li> </ul>"},{"location":"react/React.Component/#api","title":"\u5176\u4ed6API","text":"<p>\u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u8fd8\u63d0\u4f9b\u4e86\u5176\u4ed6\u7684API\uff1a</p> <ul> <li><code>setState()</code></li> <li><code>forceUpdate()</code></li> </ul>"},{"location":"react/React.Component/#_7","title":"\u7c7b\u5c5e\u6027","text":"<ul> <li><code>defaultProps</code></li> <li><code>displayName</code></li> </ul>"},{"location":"react/React.Component/#_8","title":"\u5b9e\u4f8b\u5c5e\u6027","text":"<ul> <li><code>props</code></li> <li><code>state</code></li> </ul>"},{"location":"react/React.Component/#_9","title":"\u53c2\u8003","text":""},{"location":"react/React.Component/#render","title":"<code>render()</code>","text":"<pre><code>render()\n</code></pre> <p><code>render()</code>\u65b9\u6cd5\u662f\u5fc5\u987b\u7684\u3002</p> <p>\u5f53\u88ab\u8c03\u7528\u65f6\uff0c\u5176\u5e94\u8be5\u68c0\u67e5<code>this.props</code> \u548c <code>this.state</code>\u5e76\u8fd4\u56de\u4ee5\u4e0b\u7c7b\u578b\u4e2d\u7684\u4e00\u4e2a:</p> <ul> <li>React\u5143\u7d20\u3002 \u901a\u5e38\u662f\u7531 JSX \u521b\u5efa\u3002\u8be5\u5143\u7d20\u53ef\u80fd\u662f\u4e00\u4e2a\u539f\u751fDOM\u7ec4\u4ef6\u7684\u8868\u793a\uff0c\u5982<code>&lt;div /&gt;</code>\uff0c\u6216\u8005\u662f\u4e00\u4e2a\u4f60\u5b9a\u4e49\u7684\u5408\u6210\u7ec4\u4ef6\u3002</li> <li>\u5b57\u7b26\u4e32\u548c\u6570\u5b57\u3002 \u8fd9\u4e9b\u5c06\u88ab\u6e32\u67d3\u4e3a DOM \u4e2d\u7684 text node\u3002</li> <li>Portals\u3002 \u7531 <code>ReactDOM.createPortal</code> \u521b\u5efa\u3002</li> <li><code>null</code>\u3002 \u4ec0\u4e48\u90fd\u4e0d\u6e32\u67d3\u3002</li> <li>\u5e03\u5c14\u503c\u3002 \u4ec0\u4e48\u90fd\u4e0d\u6e32\u67d3\u3002\uff08\u901a\u5e38\u5b58\u5728\u4e8e <code>return test &amp;&amp; &lt;Child /&gt;</code>\u5199\u6cd5\uff0c\u5176\u4e2d <code>test</code> \u662f\u5e03\u5c14\u503c\u3002\uff09</li> </ul> <p>\u5f53\u8fd4\u56de<code>null</code> \u6216 <code>false</code>\u65f6\uff0c<code>ReactDOM.findDOMNode(this)</code> \u5c06\u8fd4\u56de <code>null</code>\u3002</p> <p><code>render()</code>\u51fd\u6570\u5e94\u8be5\u7eaf\u51c0\uff0c\u610f\u5473\u7740\u5176\u4e0d\u5e94\u8be5\u6539\u53d8\u7ec4\u4ef6\u7684\u72b6\u6001\uff0c\u5176\u6bcf\u6b21\u8c03\u7528\u90fd\u5e94\u8fd4\u56de\u76f8\u540c\u7684\u7ed3\u679c\uff0c\u540c\u65f6\u4e0d\u76f4\u63a5\u548c\u6d4f\u89c8\u5668\u4ea4\u4e92\u3002\u82e5\u9700\u8981\u548c\u6d4f\u89c8\u5668\u4ea4\u4e92\uff0c\u5c06\u4efb\u52a1\u653e\u5728<code>componentDidMount()</code>\u9636\u6bb5\u6216\u5176\u4ed6\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u3002\u4fdd\u6301<code>render()</code> \u65b9\u6cd5\u7eaf\u51c0\u4f7f\u5f97\u7ec4\u4ef6\u66f4\u5bb9\u6613\u601d\u8003\u3002</p> <p>\u6ce8\u610f</p> <p>\u82e5 <code>shouldComponentUpdate()</code>\u8fd4\u56defalse\uff0c<code>render()</code>\u51fd\u6570\u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002</p>"},{"location":"react/React.Component/#constructor","title":"<code>constructor()</code>","text":"<pre><code>constructor(props)\n</code></pre> <p>React\u7ec4\u4ef6\u7684\u6784\u9020\u51fd\u6570\u5c06\u4f1a\u5728\u88c5\u914d\u4e4b\u524d\u88ab\u8c03\u7528\u3002\u5f53\u4e3a\u4e00\u4e2a<code>React.Component</code>\u5b50\u7c7b\u5b9a\u4e49\u6784\u9020\u51fd\u6570\u65f6\uff0c\u4f60\u5e94\u8be5\u5728\u4efb\u4f55\u5176\u4ed6\u7684\u8868\u8fbe\u5f0f\u4e4b\u524d\u8c03\u7528<code>super(props)</code>\u3002\u5426\u5219\uff0c<code>this.props</code>\u5728\u6784\u9020\u51fd\u6570\u4e2d\u5c06\u662f\u672a\u5b9a\u4e49\uff0c\u5e76\u53ef\u80fd\u5f15\u53d1\u5f02\u5e38\u3002</p> <p>\u6784\u9020\u51fd\u6570\u662f\u521d\u59cb\u5316\u72b6\u6001\u7684\u5408\u9002\u4f4d\u7f6e\u3002\u82e5\u4f60\u4e0d\u521d\u59cb\u5316\u72b6\u6001\u4e14\u4e0d\u7ed1\u5b9a\u65b9\u6cd5\uff0c\u90a3\u4f60\u4e5f\u4e0d\u9700\u8981\u4e3a\u4f60\u7684React\u7ec4\u4ef6\u5b9a\u4e49\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u3002</p> <p>\u53ef\u4ee5\u57fa\u4e8e\u5c5e\u6027\u6765\u521d\u59cb\u5316\u72b6\u6001\u3002\u8fd9\u6837\u6709\u6548\u5730\u201c\u5206\u79bb\uff08forks\uff09\u201d\u5c5e\u6027\u5e76\u6839\u636e\u521d\u59cb\u5c5e\u6027\u8bbe\u7f6e\u72b6\u6001\u3002\u8fd9\u6709\u4e00\u4e2a\u6709\u6548\u7684<code>React.Component</code>\u5b50\u7c7b\u6784\u9020\u51fd\u6570\u7684\u4f8b\u5b50\uff1a</p> <pre><code>constructor(props) {\n  super(props);\n  this.state = {\n    color: props.initialColor\n  };\n}\n</code></pre> <p>\u5f53\u5fc3\u8fd9\u79cd\u6a21\u5f0f\uff0c\u56e0\u4e3a\u72b6\u6001\u5c06\u4e0d\u4f1a\u968f\u7740\u5c5e\u6027\u7684\u66f4\u65b0\u800c\u66f4\u65b0\u3002\u4fdd\u8bc1\u5c5e\u6027\u548c\u72b6\u6001\u540c\u6b65\uff0c\u4f60\u901a\u5e38\u60f3\u8981\u72b6\u6001\u63d0\u5347\u3002</p> <p>\u82e5\u4f60\u901a\u8fc7\u4f7f\u7528\u5b83\u4eec\u4e3a\u72b6\u6001\u201c\u5206\u79bb\u201d\u5c5e\u6027\uff0c\u4f60\u53ef\u80fd\u4e5f\u60f3\u8981\u5b9e\u73b0<code>UNSAFE_componentWillReceiveProps(nextProps)</code>\u4ee5\u4fdd\u6301\u6700\u65b0\u7684\u72b6\u6001\u3002\u4f46\u72b6\u6001\u63d0\u5347\u901a\u5e38\u6765\u8bf4\u66f4\u5bb9\u6613\u4ee5\u53ca\u66f4\u5c11\u7684\u5f02\u5e38\u3002</p>"},{"location":"react/React.Component/#static-getderivedstatefromprops","title":"<code>static getDerivedStateFromProps()</code>","text":"<pre><code>static getDerivedStateFromProps(nextProps, prevState)\n</code></pre> <p>\u7ec4\u4ef6\u5b9e\u4f8b\u5316\u540e\u548c\u63a5\u53d7\u65b0\u5c5e\u6027\u65f6\u5c06\u4f1a\u8c03\u7528<code>getDerivedStateFromProps</code>\u3002\u5b83\u5e94\u8be5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u6765\u66f4\u65b0\u72b6\u6001\uff0c\u6216\u8005\u8fd4\u56denull\u6765\u8868\u660e\u65b0\u5c5e\u6027\u4e0d\u9700\u8981\u66f4\u65b0\u4efb\u4f55\u72b6\u6001\u3002</p> <p>\u6ce8\u610f\uff0c\u5982\u679c\u7236\u7ec4\u4ef6\u5bfc\u81f4\u4e86\u7ec4\u4ef6\u7684\u91cd\u65b0\u6e32\u67d3\uff0c\u5373\u4f7f\u5c5e\u6027\u6ca1\u6709\u66f4\u65b0\uff0c\u8fd9\u4e00\u65b9\u6cd5\u4e5f\u4f1a\u88ab\u8c03\u7528\u3002\u5982\u679c\u4f60\u53ea\u60f3\u5904\u7406\u53d8\u5316\uff0c\u4f60\u53ef\u80fd\u60f3\u53bb\u6bd4\u8f83\u65b0\u65e7\u503c\u3002</p> <p>\u8c03\u7528<code>this.setState()</code> \u901a\u5e38\u4e0d\u4f1a\u89e6\u53d1 <code>getDerivedStateFromProps()</code>\u3002</p>"},{"location":"react/React.Component/#unsafe_componentwillmount","title":"<code>UNSAFE_componentWillMount()</code>","text":"<pre><code>UNSAFE_componentWillMount()\n</code></pre> <p><code>UNSAFE_componentWillMount()</code>\u5728\u88c5\u914d\u53d1\u751f\u524d\u88ab\u7acb\u523b\u8c03\u7528\u3002\u5176\u5728<code>render()</code>\u4e4b\u524d\u88ab\u8c03\u7528\uff0c\u56e0\u6b64\u5728\u8fd9\u65b9\u6cd5\u91cc\u540c\u6b65\u5730\u8bbe\u7f6e\u72b6\u6001\u5c06\u4e0d\u4f1a\u89e6\u53d1\u91cd\u6e32\u3002</p> <p>\u907f\u514d\u5728\u8be5\u65b9\u6cd5\u4e2d\u5f15\u5165\u4efb\u4f55\u7684\u526f\u4f5c\u7528\u6216\u8ba2\u9605\u3002\u5bf9\u4e8e\u8fd9\u4e9b\u4f7f\u7528\u573a\u666f\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528<code>constructor()</code>\u6765\u66ff\u4ee3\u3002</p> <p>\u8fd9\u662f\u552f\u4e00\u7684\u4f1a\u5728\u670d\u52a1\u7aef\u6e32\u67d3\u8c03\u8d77\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570\u3002</p> <p>\u6ce8\u610f</p> <p>\u8fd9\u4e00\u751f\u547d\u5468\u671f\u4e4b\u524d\u53eb\u505a<code>componentWillMount</code>\u3002\u8fd9\u4e00\u540d\u5b57\u572817\u7248\u524d\u90fd\u6709\u6548\u3002\u53ef\u4ee5\u4f7f\u7528<code>rename-unsafe-lifecycles</code> codemod\u6765\u81ea\u52a8\u66f4\u65b0\u4f60\u7684\u7ec4\u4ef6\u3002</p>"},{"location":"react/React.Component/#componentdidmount","title":"<code>componentDidMount()</code>","text":"<pre><code>componentDidMount()\n</code></pre> <p><code>componentDidMount()</code>\u5728\u7ec4\u4ef6\u88ab\u88c5\u914d\u540e\u7acb\u5373\u8c03\u7528\u3002\u521d\u59cb\u5316\u4f7f\u5f97DOM\u8282\u70b9\u5e94\u8be5\u8fdb\u884c\u5230\u8fd9\u91cc\u3002\u82e5\u4f60\u9700\u8981\u4ece\u8fdc\u7aef\u52a0\u8f7d\u6570\u636e\uff0c\u8fd9\u662f\u4e00\u4e2a\u9002\u5408\u5b9e\u73b0\u7f51\u7edc\u8bf7\u6c42\u7684\u5730\u65b9\u3002\u5728\u8be5\u65b9\u6cd5\u91cc\u8bbe\u7f6e\u72b6\u6001\u5c06\u4f1a\u89e6\u53d1\u91cd\u6e32\u3002</p> <p>\u8fd9\u4e00\u65b9\u6cd5\u662f\u4e00\u4e2a\u53d1\u8d77\u4efb\u4f55\u8ba2\u9605\u7684\u597d\u5730\u65b9\u3002\u5982\u679c\u4f60\u8fd9\u4e48\u505a\u4e86\uff0c\u522b\u5fd8\u4e86\u5728<code>componentWillUnmount()</code>\u9000\u8ba2\u3002</p> <p>\u5728\u8fd9\u4e2a\u65b9\u6cd5\u4e2d\u8c03\u7528<code>setState()</code>\u5c06\u4f1a\u89e6\u53d1\u4e00\u6b21\u989d\u5916\u7684\u6e32\u67d3\uff0c\u4f46\u662f\u5b83\u5c06\u5728\u6d4f\u89c8\u5668\u5237\u65b0\u5c4f\u5e55\u4e4b\u524d\u53d1\u751f\u3002\u8fd9\u4fdd\u8bc1\u4e86\u5373\u4f7f<code>render()</code>\u5c06\u4f1a\u8c03\u7528\u4e24\u6b21\uff0c\u4f46\u7528\u6237\u4e0d\u4f1a\u770b\u5230\u4e2d\u95f4\u72b6\u6001\u3002\u8c28\u614e\u4f7f\u7528\u8fd9\u4e00\u6a21\u5f0f\uff0c\u56e0\u4e3a\u5b83\u5e38\u5bfc\u81f4\u6027\u80fd\u95ee\u9898\u3002\u7136\u800c\uff0c\u5b83\u5bf9\u4e8e\u50cf\u6a21\u6001\u6846\u548c\u5de5\u5177\u63d0\u793a\u6846\u8fd9\u6837\u7684\u4f8b\u5b50\u662f\u5fc5\u987b\u7684\u3002\u8fd9\u65f6\uff0c\u5728\u6e32\u67d3\u4f9d\u8d56DOM\u8282\u70b9\u7684\u5c3a\u5bf8\u6216\u8005\u4f4d\u7f6e\u7684\u89c6\u56fe\u524d\uff0c\u4f60\u9700\u8981\u5148\u6d4b\u91cf\u8fd9\u4e9b\u8282\u70b9\u3002</p>"},{"location":"react/React.Component/#unsafe_componentwillreceiveprops","title":"<code>UNSAFE_componentWillReceiveProps()</code>","text":"<pre><code>UNSAFE_componentWillReceiveProps(nextProps)\n</code></pre> <p>\u6ce8\u610f</p> <p>\u63a8\u8350\u4f60\u4f7f\u7528<code>getDerivedStateFromProps</code>\u751f\u547d\u5468\u671f\u800c\u4e0d\u662f<code>UNSAFE_componentWillReceiveProps</code>\u3002</p> <p><code>UNSAFE_componentWillReceiveProps()</code>\u5728\u88c5\u914d\u4e86\u7684\u7ec4\u4ef6\u63a5\u6536\u5230\u65b0\u5c5e\u6027\u524d\u8c03\u7528\u3002\u82e5\u4f60\u9700\u8981\u66f4\u65b0\u72b6\u6001\u54cd\u5e94\u5c5e\u6027\u6539\u53d8\uff08\u4f8b\u5982\uff0c\u91cd\u7f6e\u5b83\uff09\uff0c\u4f60\u53ef\u80fd\u9700\u5bf9\u6bd4<code>this.props</code>\u548c<code>nextProps</code>\u5e76\u5728\u8be5\u65b9\u6cd5\u4e2d\u4f7f\u7528<code>this.setState()</code>\u5904\u7406\u72b6\u6001\u6539\u53d8\u3002</p> <p>\u6ce8\u610f\u5373\u4f7f\u5c5e\u6027\u672a\u6709\u4efb\u4f55\u6539\u53d8\uff0cReact\u53ef\u80fd\u4e5f\u4f1a\u8c03\u7528\u8be5\u65b9\u6cd5\uff0c\u56e0\u6b64\u82e5\u4f60\u60f3\u8981\u5904\u7406\u6539\u53d8\uff0c\u8bf7\u786e\u4fdd\u6bd4\u8f83\u5f53\u524d\u548c\u4e4b\u540e\u7684\u503c\u3002\u8fd9\u53ef\u80fd\u4f1a\u53d1\u751f\u5728\u5f53\u7236\u7ec4\u4ef6\u5f15\u8d77\u4f60\u7684\u7ec4\u4ef6\u91cd\u6e32\u3002</p> <p>\u5728 \u88c5\u914d\u671f\u95f4\uff0cReact\u5e76\u4e0d\u4f1a\u8c03\u7528\u5e26\u6709\u521d\u59cb\u5c5e\u6027\u7684<code>UNSAFE_componentWillReceiveProps</code>\u65b9\u6cd5\u3002\u5176\u4ec5\u4f1a\u8c03\u7528\u8be5\u65b9\u6cd5\u5982\u679c\u67d0\u4e9b\u7ec4\u4ef6\u7684\u5c5e\u6027\u53ef\u80fd\u66f4\u65b0\u3002\u8c03\u7528<code>this.setState</code>\u901a\u5e38\u4e0d\u4f1a\u89e6\u53d1<code>UNSAFE_componentWillReceiveProps</code>\u3002</p> <p>\u6ce8\u610f</p> <p>\u8fd9\u4e00\u751f\u547d\u5468\u671f\u4e4b\u524d\u53eb\u505a<code>componentWillReceiveProps</code>\u3002\u8fd9\u4e00\u540d\u5b57\u572817\u7248\u524d\u90fd\u6709\u6548\u3002\u53ef\u4ee5\u4f7f\u7528<code>rename-unsafe-lifecycles</code> codemod\u6765\u81ea\u52a8\u66f4\u65b0\u4f60\u7684\u7ec4\u4ef6\u3002</p>"},{"location":"react/React.Component/#shouldcomponentupdate","title":"<code>shouldComponentUpdate()</code>","text":"<pre><code>shouldComponentUpdate(nextProps, nextState)\n</code></pre> <p>\u4f7f\u7528<code>shouldComponentUpdate()</code>\u4ee5\u8ba9React\u77e5\u9053\u5f53\u524d\u72b6\u6001\u6216\u5c5e\u6027\u7684\u6539\u53d8\u662f\u5426\u4e0d\u5f71\u54cd\u7ec4\u4ef6\u7684\u8f93\u51fa\u3002\u9ed8\u8ba4\u884c\u4e3a\u662f\u5728\u6bcf\u4e00\u6b21\u72b6\u6001\u7684\u6539\u53d8\u91cd\u6e32\uff0c\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u4f60\u5e94\u8be5\u4f9d\u8d56\u4e8e\u9ed8\u8ba4\u884c\u4e3a\u3002</p> <p>\u5f53\u63a5\u6536\u5230\u65b0\u5c5e\u6027\u6216\u72b6\u6001\u65f6\uff0c<code>shouldComponentUpdate()</code> \u5728\u6e32\u67d3\u524d\u88ab\u8c03\u7528\u3002\u9ed8\u8ba4\u4e3a<code>true</code>\u3002\u8be5\u65b9\u6cd5\u5e76\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u6216\u5f53\u4f7f\u7528<code>forceUpdate()</code>\u65f6\u88ab\u8c03\u7528\u3002</p> <p>\u5f53\u4ed6\u4eec\u72b6\u6001\u6539\u53d8\u65f6\uff0c\u8fd4\u56de<code>false</code> \u5e76\u4e0d\u80fd\u963b\u6b62\u5b50\u7ec4\u4ef6\u91cd\u6e32\u3002</p> <p>\u5f53\u524d\uff0c\u82e5<code>shouldComponentUpdate()</code>\u8fd4\u56de<code>false</code>\uff0c\u800c\u540e<code>UNSAFE_componentWillUpdate()</code>\uff0c<code>render()</code>\uff0c \u548c <code>componentDidUpdate()</code>\u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002\u6ce8\u610f\uff0c\u5728\u672a\u6765React\u53ef\u80fd\u4f1a\u5c06<code>shouldComponentUpdate()</code>\u4f5c\u4e3a\u4e00\u4e2a\u7ebf\u7d22\u800c\u4e0d\u662f\u4e00\u4e2a\u4e25\u683c\u6307\u4ee4\uff0c\u8fd4\u56de<code>false</code>\u53ef\u80fd\u4ecd\u7136\u4f7f\u5f97\u7ec4\u4ef6\u91cd\u6e32\u3002</p> <p>\u5728\u89c2\u5bdf\u540e\uff0c\u82e5\u4f60\u5224\u5b9a\u4e00\u4e2a\u5177\u4f53\u7684\u7ec4\u4ef6\u5f88\u6162\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u8c03\u6574\u5176\u4ece<code>React.PureComponent</code>\u7ee7\u627f\uff0c\u5176\u5b9e\u73b0\u4e86\u5e26\u6709\u6d45\u5c5e\u6027\u548c\u72b6\u6001\u6bd4\u8f83\u7684<code>shouldComponentUpdate()</code>\u3002\u82e5\u4f60\u786e\u4fe1\u60f3\u8981\u624b\u5199\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u7528<code>this.props</code>\u548c<code>nextProps</code>\u4ee5\u53ca<code>this.state</code> \u548c <code>nextState</code>\u6bd4\u8f83\uff0c\u5e76\u8fd4\u56de<code>false</code>\u4ee5\u544a\u8bc9React\u66f4\u65b0\u53ef\u4ee5\u88ab\u5ffd\u7565\u3002</p>"},{"location":"react/React.Component/#unsafe_componentwillupdate","title":"<code>UNSAFE_componentWillUpdate()</code>","text":"<pre><code>UNSAFE_componentWillUpdate(nextProps, nextState)\n</code></pre> <p>\u5f53\u63a5\u6536\u5230\u65b0\u5c5e\u6027\u6216\u72b6\u6001\u65f6\uff0c<code>UNSAFE_componentWillUpdate()</code>\u4e3a\u5728\u6e32\u67d3\u524d\u88ab\u7acb\u5373\u8c03\u7528\u3002\u5728\u66f4\u65b0\u53d1\u751f\u524d\uff0c\u4f7f\u7528\u8be5\u65b9\u6cd5\u662f\u4e00\u6b21\u51c6\u5907\u673a\u4f1a\u3002\u8be5\u65b9\u6cd5\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u65f6\u8c03\u7528\u3002</p> <p>\u6ce8\u610f\u4f60\u4e0d\u80fd\u5728\u8fd9\u8c03\u7528<code>this.setState()</code>\uff0c\u82e5\u4f60\u9700\u8981\u66f4\u65b0\u72b6\u6001\u54cd\u5e94\u5c5e\u6027\u7684\u8c03\u6574\uff0c\u4f7f\u7528<code>getDerivedStateFromProps()</code> \u4ee3\u66ff\u3002</p> <p>\u6ce8\u610f</p> <p>\u8fd9\u4e00\u751f\u547d\u5468\u671f\u4e4b\u524d\u53eb\u505a<code>componentWillUpdate</code>\u3002\u8fd9\u4e00\u540d\u5b57\u572817\u7248\u524d\u90fd\u6709\u6548\u3002\u53ef\u4ee5\u4f7f\u7528<code>rename-unsafe-lifecycles</code> codemod\u6765\u81ea\u52a8\u66f4\u65b0\u4f60\u7684\u7ec4\u4ef6\u3002</p> <p>\u6ce8\u610f</p> <p>\u82e5<code>shouldComponentUpdate()</code>\u8fd4\u56defalse\uff0c<code>UNSAFE_componentWillUpdate()</code>\u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002</p>"},{"location":"react/React.Component/#getsnapshotbeforeupdate","title":"<code>getSnapshotBeforeUpdate()</code>","text":"<p><code>getSnapshotBeforeUpdate()</code>\u5728\u6700\u65b0\u7684\u6e32\u67d3\u8f93\u51fa\u63d0\u4ea4\u7ed9DOM\u524d\u5c06\u4f1a\u7acb\u5373\u8c03\u7528\u3002\u5b83\u8ba9\u4f60\u7684\u7ec4\u4ef6\u80fd\u5728\u5f53\u524d\u7684\u503c\u53ef\u80fd\u8981\u6539\u53d8\u524d\u83b7\u5f97\u5b83\u4eec\u3002\u8fd9\u4e00\u751f\u547d\u5468\u671f\u8fd4\u56de\u7684\u4efb\u4f55\u503c\u5c06\u4f1a \u4f5c\u4e3a\u53c2\u6570\u88ab\u4f20\u9012\u7ed9<code>componentDidUpdate()</code>\u3002</p> <p>\u4f8b\u5982\uff1a</p> <pre><code>class ScrollingList extends React.Component {\n  listRef = React.createRef();\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    // Are we adding new items to the list?\n    // Capture the current height of the list so we can adjust scroll later.\n    if (prevProps.list.length &lt; this.props.list.length) {\n      return this.listRef.current.scrollHeight;\n    }\n    return null;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    // If we have a snapshot value, we've just added new items.\n    // Adjust scroll so these new items don't push the old ones out of view.\n    if (snapshot !== null) {\n      this.listRef.current.scrollTop += this.listRef.current.scrollHeight - snapshot;\n    }\n  }\n\n  render() {\n    return (\n      &lt;div ref={this.listRef}&gt;{/* ...contents... */}&lt;/div&gt;\n    );\n  }\n}\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u4e3a\u4e86\u652f\u6301\u5f02\u6b65\u6e32\u67d3\uff0c\u5728<code>getSnapshotBeforeUpdate</code> \u4e2d\u8bfb\u53d6<code>scrollHeight</code>\u800c\u4e0d\u662f<code>componentWillUpdate</code>\uff0c\u8fd9\u70b9\u5f88\u91cd\u8981\u3002\u7531\u4e8e\u5f02\u6b65\u6e32\u67d3\uff0c\u5728\u201c\u6e32\u67d3\u201d\u65f6\u671f\uff08\u5982<code>componentWillUpdate</code>\u548c<code>render</code>\uff09\u548c\u201c\u63d0\u4ea4\u201d\u65f6\u671f\uff08\u5982<code>getSnapshotBeforeUpdate</code>\u548c<code>componentDidUpdate</code>\uff09\u95f4\u53ef\u80fd\u4f1a\u5b58\u5728\u5ef6\u8fdf\u3002\u5982\u679c\u4e00\u4e2a\u7528\u6237\u5728\u8fd9\u671f\u95f4\u505a\u4e86\u50cf\u6539\u53d8\u6d4f\u89c8\u5668\u5c3a\u5bf8\u7684\u4e8b\uff0c\u4ece<code>componentWillUpdate</code>\u4e2d\u8bfb\u51fa\u7684<code>scrollHeight</code>\u503c\u5c06\u662f\u6ede\u540e\u7684\u3002</p>"},{"location":"react/React.Component/#componentdidupdate","title":"<code>componentDidUpdate()</code>","text":"<pre><code>componentDidUpdate(prevProps, prevState)\n</code></pre> <p><code>componentDidUpdate()</code>\u4f1a\u5728\u66f4\u65b0\u53d1\u751f\u540e\u7acb\u5373\u88ab\u8c03\u7528\u3002\u8be5\u65b9\u6cd5\u5e76\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u65f6\u8c03\u7528\u3002</p> <p>\u5f53\u7ec4\u4ef6\u88ab\u66f4\u65b0\u65f6\uff0c\u4f7f\u7528\u8be5\u65b9\u6cd5\u662f\u64cd\u4f5cDOM\u7684\u4e00\u6b21\u673a\u4f1a\u3002\u8fd9\u4e5f\u662f\u4e00\u4e2a\u9002\u5408\u53d1\u9001\u8bf7\u6c42\u7684\u5730\u65b9\uff0c\u8981\u662f\u4f60\u5bf9\u6bd4\u4e86\u5f53\u524d\u5c5e\u6027\u548c\u4e4b\u524d\u5c5e\u6027\uff08\u4f8b\u5982\uff0c\u5982\u679c\u5c5e\u6027\u6ca1\u6709\u6539\u53d8\u90a3\u4e48\u8bf7\u6c42\u4e5f\u5c31\u6ca1\u5fc5\u8981\u4e86\uff09\u3002</p> <p>\u6ce8\u610f</p> <p>\u82e5<code>shouldComponentUpdate()</code>\u8fd4\u56defalse\uff0c<code>componentDidUpdate()</code>\u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002</p>"},{"location":"react/React.Component/#componentwillunmount","title":"<code>componentWillUnmount()</code>","text":"<pre><code>componentWillUnmount()\n</code></pre> <p><code>componentWillUnmount()</code>\u5728\u7ec4\u4ef6\u88ab\u5378\u8f7d\u548c\u9500\u6bc1\u4e4b\u524d\u7acb\u523b\u8c03\u7528\u3002\u53ef\u4ee5\u5728\u8be5\u65b9\u6cd5\u91cc\u5904\u7406\u4efb\u4f55\u5fc5\u8981\u7684\u6e05\u7406\u5de5\u4f5c\uff0c\u4f8b\u5982\u89e3\u7ed1\u5b9a\u65f6\u5668\uff0c\u53d6\u6d88\u7f51\u7edc\u8bf7\u6c42\uff0c\u6e05\u7406\u4efb\u4f55\u5728<code>componentDidMount</code>\u73af\u8282\u521b\u5efa\u7684DOM\u5143\u7d20\u3002</p>"},{"location":"react/React.Component/#componentdidcatch","title":"<code>componentDidCatch()</code>","text":"<pre><code>componentDidCatch(error, info)\n</code></pre> <p>\u9519\u8bef\u8fb9\u754c\u662fReact\u7ec4\u4ef6\uff0c\u5e76\u4e0d\u662f\u635f\u574f\u7684\u7ec4\u4ef6\u6811\u3002\u9519\u8bef\u8fb9\u754c\u6355\u6349\u53d1\u751f\u5728\u5b50\u7ec4\u4ef6\u6811\u4e2d\u4efb\u610f\u5730\u65b9\u7684JavaScript\u9519\u8bef\uff0c\u6253\u5370\u9519\u8bef\u65e5\u5fd7\uff0c\u5e76\u4e14\u663e\u793a\u56de\u9000\u7684\u7528\u6237\u754c\u9762\u3002\u9519\u8bef\u8fb9\u754c\u6355\u6349\u6e32\u67d3\u671f\u95f4\u3001\u5728\u751f\u547d\u5468\u671f\u65b9\u6cd5\u4e2d\u548c\u5728\u5b83\u4eec\u4e4b\u4e0b\u6574\u68f5\u6811\u7684\u6784\u9020\u51fd\u6570\u4e2d\u7684\u9519\u8bef\u3002</p> <p>\u5982\u679c\u5b9a\u4e49\u4e86\u8fd9\u4e00\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u4e00\u4e2a\u7c7b\u7ec4\u4ef6\u5c06\u6210\u4e3a\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u3002\u5728\u9519\u8bef\u8fb9\u754c\u4e2d\u8c03\u7528<code>setState()</code>\u8ba9\u4f60\u6355\u6349\u5f53\u524d\u6811\u4e4b\u4e0b\u672a\u5904\u7406\u7684JavaScript\u9519\u8bef\uff0c\u5e76\u663e\u793a\u56de\u9000\u7684\u7528\u6237\u754c\u9762\u3002\u53ea\u4f7f\u7528\u9519\u8bef\u8fb9\u754c\u6765\u6062\u590d\u5f02\u5e38\uff0c\u800c\u4e0d\u8981\u5c1d\u8bd5\u5c06\u5b83\u4eec\u7528\u4e8e\u63a7\u5236\u6d41\u3002</p> <p>\u8be6\u60c5\u8bf7\u89c1React 16\u4e2d\u7684\u9519\u8bef\u5904\u7406\u3002</p> <p>\u6ce8\u610f</p> <p>\u9519\u8bef\u8fb9\u754c\u53ea\u6355\u6349\u6811\u4e2d\u53d1\u751f\u5728\u5b83\u4eec**\u4e4b\u4e0b**\u7ec4\u4ef6\u91cc\u7684\u9519\u8bef\u3002\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u5e76\u4e0d\u80fd\u6355\u6349\u5b83\u81ea\u5df1\u5185\u90e8\u7684\u9519\u8bef\u3002</p>"},{"location":"react/React.Component/#setstate","title":"<code>setState()</code>","text":"<pre><code>setState(updater, [callback])\n</code></pre> <p><code>setState()</code>\u5c06\u9700\u8981\u5904\u7406\u7684\u53d8\u5316\u585e\u5165\uff08\u8bd1\u8005\u6ce8\uff1asetState\u6e90\u7801\u4e2d\u5c06\u4e00\u4e2a\u9700\u8981\u6539\u53d8\u7684\u53d8\u5316\u5b58\u653e\u5230\u7ec4\u4ef6\u7684state\u5bf9\u8c61\u4e2d\uff0c\u91c7\u7528\u961f\u5217\u5904\u7406\uff09\u7ec4\u4ef6\u7684state\u5bf9\u8c61\u4e2d\uff0c \u5e76\u544a\u8bc9\u8be5\u7ec4\u4ef6\u53ca\u5176\u5b50\u7ec4\u4ef6\u9700\u8981\u7528\u66f4\u65b0\u7684\u72b6\u6001\u6765\u91cd\u65b0\u6e32\u67d3\u3002\u8fd9\u662f\u7528\u4e8e\u54cd\u5e94\u4e8b\u4ef6\u5904\u7406\u548c\u670d\u52a1\u7aef\u54cd\u5e94\u7684\u66f4\u65b0\u7528\u6237\u754c\u9762\u7684\u4e3b\u8981\u65b9\u5f0f\u3002</p> <p>\u5c06<code>setState()</code>\u8ba4\u4e3a\u662f\u4e00\u6b21*\u8bf7\u6c42*\u800c\u4e0d\u662f\u4e00\u6b21\u7acb\u5373\u6267\u884c\u66f4\u65b0\u7ec4\u4ef6\u7684\u547d\u4ee4\u3002\u4e3a\u4e86\u66f4\u4e3a\u53ef\u89c2\u7684\u6027\u80fd\uff0cReact\u53ef\u80fd\u4f1a\u63a8\u8fdf\u5b83\uff0c\u7a0d\u540e\u4f1a\u4e00\u6b21\u6027\u66f4\u65b0\u8fd9\u4e9b\u7ec4\u4ef6\u3002React\u4e0d\u4f1a\u4fdd\u8bc1\u5728setState\u4e4b\u540e\uff0c\u80fd\u591f\u7acb\u523b\u62ff\u5230\u6539\u53d8\u7684\u7ed3\u679c\u3002</p> <p><code>setState()</code>\u4e0d\u662f\u7acb\u523b\u66f4\u65b0\u7ec4\u4ef6\u3002\u5176\u53ef\u80fd\u662f\u6279\u5904\u7406\u6216\u63a8\u8fdf\u66f4\u65b0\u3002\u8fd9\u4f7f\u5f97\u5728\u8c03\u7528<code>setState()</code>\u540e\u7acb\u523b\u8bfb\u53d6<code>this.state</code>\u7684\u4e00\u4e2a\u6f5c\u5728\u9677\u9631\u3002\u4ee3\u66ff\u5730\uff0c\u4f7f\u7528<code>componentDidUpdate</code>\u6216\u4e00\u4e2a<code>setState</code>\u56de\u8c03\uff08<code>setState(updater, callback)</code>\uff09\uff0c\u5f53\u4e2d\u7684\u6bcf\u4e2a\u65b9\u6cd5\u90fd\u4f1a\u4fdd\u8bc1\u5728\u66f4\u65b0\u88ab\u5e94\u7528\u4e4b\u540e\u89e6\u53d1\u3002\u82e5\u4f60\u9700\u8981\u57fa\u4e8e\u4e4b\u524d\u7684\u72b6\u6001\u6765\u8bbe\u7f6e\u72b6\u6001\uff0c\u9605\u8bfb\u4e0b\u9762\u5173\u4e8e<code>updater</code>\u53c2\u6570\u7684\u4ecb\u7ecd\u3002</p> <p>\u9664\u975e<code>shouldComponentUpdate()</code> \u8fd4\u56de<code>false</code>\uff0c\u5426\u5219<code>setState()</code>\u6c38\u8fdc\u90fd\u4f1a\u5bfc\u81f4\u91cd\u6e32\u3002\u82e5\u4f7f\u7528\u53ef\u53d8\u5bf9\u8c61\u540c\u65f6\u6761\u4ef6\u6e32\u67d3\u903b\u8f91\u65e0\u6cd5\u5728<code>shouldComponentUpdate()</code>\u4e2d\u5b9e\u73b0\uff0c\u4ec5\u5f53\u65b0\u72b6\u6001\u4e0d\u540c\u4e8e\u4e4b\u524d\u72b6\u6001\u65f6\u8c03\u7528<code>setState()</code>\uff0c\u5c06\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u91cd\u6e32\u3002</p> <p>\u7b2c\u4e00\u4e2a\u51fd\u6570\u662f\u5e26\u7b7e\u540d\u7684<code>updater</code>\u51fd\u6570\uff1a</p> <pre><code>(prevState, props) =&gt; stateChange\n</code></pre> <p><code>prevState</code>\u662f\u4e4b\u524d\u72b6\u6001\u7684\u5f15\u7528\u3002\u5176\u4e0d\u5e94\u8be5\u88ab\u76f4\u63a5\u6539\u53d8\u3002\u4ee3\u66ff\u5730\uff0c\u6539\u53d8\u5e94\u8be5\u901a\u8fc7\u6784\u5efa\u4e00\u4e2a\u6765\u81ea\u4e8e<code>prevState</code> \u548c <code>props</code>\u8f93\u5165\u7684\u65b0\u5bf9\u8c61\u6765\u8868\u793a\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u6211\u4eec\u60f3\u901a\u8fc7<code>props.step</code>\u5728\u72b6\u6001\u4e2d\u589e\u52a0\u4e00\u4e2a\u503c\uff1a</p> <pre><code>this.setState((prevState, props) =&gt; {\n  return {counter: prevState.counter + props.step};\n});\n</code></pre> <p>updater\u51fd\u6570\u63a5\u6536\u5230\u7684<code>prevState</code> \u548c <code>props</code>\u4fdd\u8bc1\u90fd\u662f\u6700\u65b0\u7684\u3002updater\u7684\u8f93\u51fa\u662f\u548c<code>prevState</code>\u7684\u6d45\u5408\u5e76\u3002</p> <p><code>setState()</code>\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u53ef\u9009\u5730\u56de\u8c03\u51fd\u6570\uff0c\u5176\u5c06\u4f1a\u5728<code>setState</code>\u6267\u884c\u5b8c\u6210\u540c\u65f6\u7ec4\u4ef6\u88ab\u91cd\u6e32\u4e4b\u540e\u6267\u884c\u3002\u901a\u5e38\uff0c\u5bf9\u4e8e\u8fd9\u7c7b\u903b\u8f91\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528<code>componentDidUpdate</code>\u3002</p> <p>\u4f60\u53ef\u4ee5\u9009\u62e9\u6027\u5730\u4f20\u9012\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a <code>setState()</code>\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u800c\u4e0d\u662f\u4e00\u4e2a\u51fd\u6570\uff1a</p> <pre><code>setState(stateChange, [callback])\n</code></pre> <p>\u5176\u4ec5\u662f\u5c06<code>stateChange</code>\u6d45\u5408\u5e76\u5230\u65b0\u72b6\u6001\u4e2d\u3002\u4f8b\u5982\uff0c\u8c03\u6574\u8d2d\u7269\u8f66\u4e2d\u7269\u54c1\u6570\u91cf\uff1a</p> <pre><code>this.setState({quantity: 2})\n</code></pre> <p>\u8fd9\u4e00\u5f62\u5f0f\u7684<code>setState()</code>\u4e5f\u662f\u5f02\u6b65\u7684\uff0c\u5e76\u5728\u76f8\u540c\u7684\u5468\u671f\u4e2d\u591a\u6b21\u8c03\u7528\u53ef\u80fd\u4f1a\u88ab\u5408\u5e76\u5230\u4e00\u8d77\u3002\u4f8b\u5982\uff0c\u82e5\u4f60\u5728\u76f8\u540c\u7684\u5468\u671f\u4e2d\u5c1d\u8bd5\u591a\u6b21\u589e\u52a0\u4e00\u4ef6\u7269\u54c1\u7684\u6570\u91cf\uff0c\u5176\u7b49\u4ef7\u4e8e\uff1a</p> <pre><code>Object.assign(\n  previousState,\n  {quantity: state.quantity + 1},\n  {quantity: state.quantity + 1},\n  ...\n)\n</code></pre> <p>\u4e4b\u540e\u7684\u8c03\u7528\u5728\u540c\u4e00\u5468\u671f\u4e2d\u5c06\u4f1a\u91cd\u5199\u4e4b\u524d\u8c03\u7528\u7684\u503c\uff0c\u56e0\u6b64\u6570\u91cf\u4ec5\u4f1a\u88ab\u52a0\u4e00\u3002\u82e5\u4e4b\u540e\u7684\u72b6\u6001\u4f9d\u8d56\u4e8e\u4e4b\u524d\u7684\u72b6\u6001\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528updater\u51fd\u6570\u5f62\u5f0f\uff1a</p> <pre><code>this.setState((prevState) =&gt; {\n  return {counter: prevState.quantity + 1};\n});\n</code></pre>"},{"location":"react/React.Component/#forceupdate","title":"<code>forceUpdate()</code>","text":"<pre><code>component.forceUpdate(callback)\n</code></pre> <p>\u9ed8\u8ba4\u60c5\u51b5\uff0c\u5f53\u4f60\u7684\u7ec4\u4ef6\u6216\u72b6\u6001\u53d1\u751f\u6539\u53d8\uff0c\u4f60\u7684\u7ec4\u4ef6\u5c06\u4f1a\u91cd\u6e32\u3002\u82e5\u4f60\u7684<code>render()</code>\u65b9\u6cd5\u4f9d\u8d56\u5176\u4ed6\u6570\u636e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528<code>forceUpdate()</code>\u6765\u544a\u8bc9React\u7ec4\u4ef6\u9700\u8981\u91cd\u6e32\u3002</p> <p>\u8c03\u7528<code>forceUpdate()</code>\u5c06\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u7684 <code>render()</code>\u65b9\u6cd5\u88ab\u8c03\u7528\uff0c\u5e76\u5ffd\u7565<code>shouldComponentUpdate()</code>\u3002\u8fd9\u5c06\u4f1a\u89e6\u53d1\u6bcf\u4e00\u4e2a\u5b50\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u6db5\u76d6\uff0c\u6bcf\u4e2a\u5b50\u7ec4\u4ef6\u7684<code>shouldComponentUpdate()</code> \u65b9\u6cd5\u3002\u82e5\u5f53\u6807\u7b7e\u6539\u53d8\uff0cReact\u4ec5\u4f1a\u66f4\u65b0DOM\u3002</p> <p>\u901a\u5e38\u4f60\u5e94\u8be5\u5c1d\u8bd5\u907f\u514d\u6240\u6709<code>forceUpdate()</code> \u7684\u7528\u6cd5\u5e76\u4ec5\u5728<code>render()</code>\u51fd\u6570\u91cc\u4ece<code>this.props</code>\u548c<code>this.state</code>\u8bfb\u53d6\u6570\u636e\u3002</p>"},{"location":"react/React.Component/#_10","title":"\u7c7b\u5c5e\u6027","text":""},{"location":"react/React.Component/#defaultprops","title":"<code>defaultProps</code>","text":"<p><code>defaultProps</code>\u53ef\u4ee5\u88ab\u5b9a\u4e49\u4e3a\u7ec4\u4ef6\u7c7b\u7684\u4e00\u4e2a\u5c5e\u6027\uff0c\u7528\u4ee5\u4e3a\u7c7b\u8bbe\u7f6e\u9ed8\u8ba4\u7684\u5c5e\u6027\u3002\u8fd9\u5bf9\u4e8e\u672a\u5b9a\u4e49\uff08undefined\uff09\u7684\u5c5e\u6027\u6765\u8bf4\u6709\u7528\uff0c\u800c\u5bf9\u4e8e\u8bbe\u4e3a\u7a7a\uff08null\uff09\u7684\u5c5e\u6027\u5e76\u6ca1\u7528\u3002\u4f8b\u5982\uff1a</p> <pre><code>class CustomButton extends React.Component {\n  // ...\n}\n\nCustomButton.defaultProps = {\n  color: 'blue'\n};\n</code></pre> <p>\u82e5\u672a\u8bbe\u7f6e<code>props.color</code>\uff0c\u5176\u5c06\u88ab\u8bbe\u7f6e\u9ed8\u8ba4\u4e3a<code>'blue'</code>:</p> <pre><code>  render() {\n    return &lt;CustomButton /&gt; ; // props.color will be set to blue\n  }\n</code></pre> <p>\u82e5<code>props.color</code>\u8bbe\u4e3anull\uff0c\u5219\u5176\u503c\u5219\u4e3anull\uff1a</p> <pre><code>  render() {\n    return &lt;CustomButton color={null} /&gt; ; // props.color will remain null\n  }\n</code></pre>"},{"location":"react/React.Component/#displayname","title":"<code>displayName</code>","text":"<p><code>displayName</code>\u88ab\u7528\u5728\u8c03\u8bd5\u4fe1\u606f\u4e2d\u3002JSX\u4f1a\u81ea\u52a8\u8bbe\u7f6e\u8be5\u503c</p>"},{"location":"react/React.Component/#_11","title":"\u5b9e\u4f8b\u5c5e\u6027","text":""},{"location":"react/React.Component/#props","title":"<code>props</code>","text":"<p><code>this.props</code>\u5305\u542b\u4e86\u7ec4\u4ef6\u8be5\u8c03\u7528\u8005\u5b9a\u4e49\u7684\u5c5e\u6027\u3002</p> <p>\u7279\u522b\u5730\uff0c<code>this.props.children</code>\u662f\u4e00\u4e2a\u7279\u522b\u5c5e\u6027\uff0c\u5176\u901a\u5e38\u7531JSX\u8868\u8fbe\u5f0f\u4e2d\u7684\u5b50\u6807\u7b7e\u5b9a\u4e49\uff0c\u800c\u4e0d\u662f\u6807\u7b7e\u672c\u8eab\u3002</p>"},{"location":"react/React.Component/#state","title":"<code>state</code>","text":"<p>\u72b6\u6001\u662f\u8be5\u7ec4\u4ef6\u7684\u7279\u5b9a\u6570\u636e\uff0c\u5176\u53ef\u80fd\u6539\u53d8\u591a\u6b21\u3002\u72b6\u6001\u7531\u7528\u6237\u5b9a\u4e49\uff0c\u4e14\u5176\u5e94\u4e3a\u7eafJavaScript\u5bf9\u8c61\u3002</p> <p>\u82e5\u4f60\u4e0d\u5728<code>render()</code>\u65b9\u6cd5\u4e2d\u4f7f\u7528\u5b83\uff0c\u5176\u4e0d\u5e94\u8be5\u8be5\u88ab\u653e\u5728\u72b6\u6001\u4e0a\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u76f4\u63a5\u5c06timer IDs\u653e\u5728\u5b9e\u4f8b\u4e0a\u3002</p> <p>\u6c38\u8fdc\u4e0d\u8981\u76f4\u63a5\u6539\u53d8<code>this.state</code>\uff0c\u56e0\u4e3a\u8c03\u7528<code>setState()</code>\u4f1a\u66ff\u6362\u4f60\u4e4b\u524d\u505a\u7684\u6539\u53d8\u3002\u5c06<code>this.state</code>\u5f53\u6210\u4e0d\u53ef\u53d8\u7684\u3002</p>"},{"location":"react/ReactRouter-%E9%98%AE%E4%B8%80%E5%B3%B0/","title":"\u962e\u4e00\u5cf0 React Router \u6559\u7a0b","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 16747  \u9605\u8bfb34\u5206\u949f</p> <p>\u672c\u6587\u4ecb\u7ecd React \u4f53\u7cfb\u7684\u4e00\u4e2a\u91cd\u8981\u90e8\u5206\uff1a\u8def\u7531\u5e93 React-Router\u3002\u5b83\u662f\u5b98\u65b9\u7ef4\u62a4\u7684\uff0c\u4e8b\u5b9e\u4e0a\u4e5f\u662f\u552f\u4e00\u53ef\u9009\u7684\u8def\u7531\u5e93\u3002\u5b83\u901a\u8fc7\u7ba1\u7406 URL\uff0c\u5b9e\u73b0\u7ec4\u4ef6\u7684\u5207\u6362\u548c\u72b6\u6001\u7684\u53d8\u5316\uff0c\u5f00\u53d1\u590d\u6742\u7684\u5e94\u7528\u51e0\u4e4e\u80af\u5b9a\u4f1a\u7528\u5230\u3002</p> <p>\u53e6\u5916\uff0c\u6211\u6ca1\u6709\u51c6\u5907\u793a\u4f8b\u5e93\uff0c\u56e0\u4e3a\u5b98\u65b9\u7684\u793a\u4f8b\u5e93\u975e\u5e38\u68d2\uff0c\u7531\u6d45\u5165\u6df1\uff0c\u5206\u621014\u6b65\uff0c\u6bcf\u4e00\u6b65\u90fd\u6709\u8be6\u7ec6\u7684\u4ee3\u7801\u89e3\u91ca\u3002\u6211\u5f3a\u70c8\u5efa\u8bae\u4f60\u5148\u8ddf\u7740\u505a\u4e00\u904d\uff0c\u7136\u540e\u518d\u770b\u4e0b\u9762\u7684API\u8bb2\u89e3\u3002</p> <p>\uff08[\u8bf4\u660e] \u672c\u6587\u5199\u4f5c\u65f6\uff0cReact-router \u662f 2.x \u7248\uff0c\u672c\u6587\u7684\u5185\u5bb9\u53ea\u9002\u5408\u8fd9\u4e2a\u7248\u672c\uff0c\u4e0e\u6700\u65b0\u7684 4.x \u7248\u4e0d\u517c\u5bb9\u3002\u76ee\u524d\uff0c\u5b98\u65b9\u540c\u65f6\u7ef4\u62a4 2.x \u548c 4.x \u4e24\u4e2a\u7248\u672c\uff0c\u6240\u4ee5\u524d\u8005\u4f9d\u7136\u53ef\u4ee5\u7528\u5728\u9879\u76ee\u4e2d\u30022017\u5e743\u6708\uff09</p>"},{"location":"react/ReactRouter-%E9%98%AE%E4%B8%80%E5%B3%B0/#_1","title":"\u4e00\u3001\u57fa\u672c\u7528\u6cd5","text":"<p>React Router \u5b89\u88c5\u547d\u4ee4\u5982\u4e0b\u3002</p> <pre><code>$ npm install -S react-router\n</code></pre> <p>\u4f7f\u7528\u65f6\uff0c\u8def\u7531\u5668<code>Router</code>\u5c31\u662fReact\u7684\u4e00\u4e2a\u7ec4\u4ef6\u3002</p> <pre><code>import { Router } from 'react-router';\nrender(&lt;Router/&gt;, document.getElementById('app'));\n</code></pre> <p><code>Router</code>\u7ec4\u4ef6\u672c\u8eab\u53ea\u662f\u4e00\u4e2a\u5bb9\u5668\uff0c\u771f\u6b63\u7684\u8def\u7531\u8981\u901a\u8fc7<code>Route</code>\u7ec4\u4ef6\u5b9a\u4e49\u3002</p> <pre><code>import { Router, Route, hashHistory } from 'react-router';\n\nrender((\n  &lt;Router history={hashHistory}&gt;\n    &lt;Route path=\"/\" component={App}/&gt;\n  &lt;/Router&gt;\n), document.getElementById('app'));\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7528\u6237\u8bbf\u95ee\u6839\u8def\u7531<code>/</code>\uff08\u6bd4\u5982<code>http://www.example.com/</code>\uff09\uff0c\u7ec4\u4ef6<code>APP</code>\u5c31\u4f1a\u52a0\u8f7d\u5230<code>document.getElementById('app')</code>\u3002</p> <p>\u4f60\u53ef\u80fd\u8fd8\u6ce8\u610f\u5230\uff0c<code>Router</code>\u7ec4\u4ef6\u6709\u4e00\u4e2a\u53c2\u6570<code>history</code>\uff0c\u5b83\u7684\u503c<code>hashHistory</code>\u8868\u793a\uff0c\u8def\u7531\u7684\u5207\u6362\u7531URL\u7684hash\u53d8\u5316\u51b3\u5b9a\uff0c\u5373URL\u7684<code>#</code>\u90e8\u5206\u53d1\u751f\u53d8\u5316\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u7528\u6237\u8bbf\u95ee<code>http://www.example.com/</code>\uff0c\u5b9e\u9645\u4f1a\u770b\u5230\u7684\u662f<code>http://www.example.com/#/</code>\u3002</p> <p><code>Route</code>\u7ec4\u4ef6\u5b9a\u4e49\u4e86URL\u8def\u5f84\u4e0e\u7ec4\u4ef6\u7684\u5bf9\u5e94\u5173\u7cfb\u3002\u4f60\u53ef\u4ee5\u540c\u65f6\u4f7f\u7528\u591a\u4e2a<code>Route</code>\u7ec4\u4ef6\u3002</p> <pre><code>&lt;Router history={hashHistory}&gt;\n  &lt;Route path=\"/\" component={App}/&gt;\n  &lt;Route path=\"/repos\" component={Repos}/&gt;\n  &lt;Route path=\"/about\" component={About}/&gt;\n&lt;/Router&gt;\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7528\u6237\u8bbf\u95ee<code>/repos</code>\uff08\u6bd4\u5982<code>http://localhost:8080/#/repos</code>\uff09\u65f6\uff0c\u52a0\u8f7d<code>Repos</code>\u7ec4\u4ef6\uff1b\u8bbf\u95ee<code>/about</code>\uff08<code>http://localhost:8080/#/about</code>\uff09\u65f6\uff0c\u52a0\u8f7d<code>About</code>\u7ec4\u4ef6\u3002</p>"},{"location":"react/ReactRouter-%E9%98%AE%E4%B8%80%E5%B3%B0/#_2","title":"\u4e8c\u3001\u5d4c\u5957\u8def\u7531","text":"<p><code>Route</code>\u7ec4\u4ef6\u8fd8\u53ef\u4ee5\u5d4c\u5957\u3002</p> <pre><code>&lt;Router history={hashHistory}&gt;\n  &lt;Route path=\"/\" component={App}&gt;\n    &lt;Route path=\"/repos\" component={Repos}/&gt;\n    &lt;Route path=\"/about\" component={About}/&gt;\n  &lt;/Route&gt;\n&lt;/Router&gt;\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7528\u6237\u8bbf\u95ee<code>/repos</code>\u65f6\uff0c\u4f1a\u5148\u52a0\u8f7d<code>App</code>\u7ec4\u4ef6\uff0c\u7136\u540e\u5728\u5b83\u7684\u5185\u90e8\u518d\u52a0\u8f7d<code>Repos</code>\u7ec4\u4ef6\u3002</p> <pre><code>&lt;App&gt;\n  &lt;Repos/&gt;\n&lt;/App&gt;\n</code></pre> <p><code>App</code>\u7ec4\u4ef6\u8981\u5199\u6210\u4e0b\u9762\u7684\u6837\u5b50\u3002</p> <pre><code>export default React.createClass({\n  render() {\n    return &lt;div&gt;\n      {this.props.children}\n    &lt;/div&gt;\n  }\n})\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>App</code>\u7ec4\u4ef6\u7684<code>this.props.children</code>\u5c5e\u6027\u5c31\u662f\u5b50\u7ec4\u4ef6\u3002</p> <p>\u5b50\u8def\u7531\u4e5f\u53ef\u4ee5\u4e0d\u5199\u5728<code>Router</code>\u7ec4\u4ef6\u91cc\u9762\uff0c\u5355\u72ec\u4f20\u5165<code>Router</code>\u7ec4\u4ef6\u7684<code>routes</code>\u5c5e\u6027\u3002</p> <pre><code>let routes = &lt;Route path=\"/\" component={App}&gt;\n  &lt;Route path=\"/repos\" component={Repos}/&gt;\n  &lt;Route path=\"/about\" component={About}/&gt;\n&lt;/Route&gt;;\n\n&lt;Router routes={routes} history={browserHistory}/&gt;\n</code></pre>"},{"location":"react/ReactRouter-%E9%98%AE%E4%B8%80%E5%B3%B0/#path","title":"\u4e09\u3001 path \u5c5e\u6027","text":"<p><code>Route</code>\u7ec4\u4ef6\u7684<code>path</code>\u5c5e\u6027\u6307\u5b9a\u8def\u7531\u7684\u5339\u914d\u89c4\u5219\u3002\u8fd9\u4e2a\u5c5e\u6027\u662f\u53ef\u4ee5\u7701\u7565\u7684\uff0c\u8fd9\u6837\u7684\u8bdd\uff0c\u4e0d\u7ba1\u8def\u5f84\u662f\u5426\u5339\u914d\uff0c\u603b\u662f\u4f1a\u52a0\u8f7d\u6307\u5b9a\u7ec4\u4ef6\u3002</p> <p>\u8bf7\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\u3002</p> <pre><code>&lt;Route path=\"inbox\" component={Inbox}&gt;\n   &lt;Route path=\"messages/:id\" component={Message} /&gt;\n&lt;/Route&gt;\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5f53\u7528\u6237\u8bbf\u95ee<code>/inbox/messages/:id</code>\u65f6\uff0c\u4f1a\u52a0\u8f7d\u4e0b\u9762\u7684\u7ec4\u4ef6\u3002</p> <pre><code>&lt;Inbox&gt;\n  &lt;Message/&gt;\n&lt;/Inbox&gt;\n</code></pre> <p>\u5982\u679c\u7701\u7565\u5916\u5c42<code>Route</code>\u7684<code>path</code>\u53c2\u6570\uff0c\u5199\u6210\u4e0b\u9762\u7684\u6837\u5b50\u3002</p> <pre><code>&lt;Route component={Inbox}&gt;\n  &lt;Route path=\"inbox/messages/:id\" component={Message} /&gt;\n&lt;/Route&gt;\n</code></pre> <p>\u73b0\u5728\u7528\u6237\u8bbf\u95ee<code>/inbox/messages/:id</code>\u65f6\uff0c\u7ec4\u4ef6\u52a0\u8f7d\u8fd8\u662f\u539f\u6765\u7684\u6837\u5b50\u3002</p> <pre><code>&lt;Inbox&gt;\n  &lt;Message/&gt;\n&lt;/Inbox&gt;\n</code></pre>"},{"location":"react/ReactRouter-%E9%98%AE%E4%B8%80%E5%B3%B0/#_3","title":"\u56db\u3001\u901a\u914d\u7b26","text":"<p><code>path</code>\u5c5e\u6027\u53ef\u4ee5\u4f7f\u7528\u901a\u914d\u7b26\u3002</p> <pre><code>&lt;Route path=\"/hello/:name\"&gt;\n// \u5339\u914d /hello/michael\n// \u5339\u914d /hello/ryan\n\n&lt;Route path=\"/hello(/:name)\"&gt;\n// \u5339\u914d /hello\n// \u5339\u914d /hello/michael\n// \u5339\u914d /hello/ryan\n\n&lt;Route path=\"/files/*.*\"&gt;\n// \u5339\u914d /files/hello.jpg\n// \u5339\u914d /files/hello.html\n\n&lt;Route path=\"/files/*\"&gt;\n// \u5339\u914d /files/ \n// \u5339\u914d /files/a\n// \u5339\u914d /files/a/b\n\n&lt;Route path=\"/**/*.jpg\"&gt;\n// \u5339\u914d /files/hello.jpg\n// \u5339\u914d /files/path/to/file.jpg\n</code></pre> <p>\u901a\u914d\u7b26\u7684\u89c4\u5219\u5982\u4e0b\u3002</p> <p>\uff081\uff09:paramName</p> <p><code>:paramName</code>\u5339\u914dURL\u7684\u4e00\u4e2a\u90e8\u5206\uff0c\u76f4\u5230\u9047\u5230\u4e0b\u4e00\u4e2a<code>/</code>\u3001<code>?</code>\u3001<code>#</code>\u4e3a\u6b62\u3002\u8fd9\u4e2a\u8def\u5f84\u53c2\u6570\u53ef\u4ee5\u901a\u8fc7<code>this.props.params.paramName</code>\u53d6\u51fa\u3002</p> <p>\uff082\uff09()</p> <p><code>()</code>\u8868\u793aURL\u7684\u8fd9\u4e2a\u90e8\u5206\u662f\u53ef\u9009\u7684\u3002</p> <p>\uff083\uff09*</p> <p><code>*</code>\u5339\u914d\u4efb\u610f\u5b57\u7b26\uff0c\u76f4\u5230\u6a21\u5f0f\u91cc\u9762\u7684\u4e0b\u4e00\u4e2a\u5b57\u7b26\u4e3a\u6b62\u3002\u5339\u914d\u65b9\u5f0f\u662f\u975e\u8d2a\u5a6a\u6a21\u5f0f\u3002</p> <p>\uff084\uff09 **</p> <p><code>**</code> \u5339\u914d\u4efb\u610f\u5b57\u7b26\uff0c\u76f4\u5230\u4e0b\u4e00\u4e2a<code>/</code>\u3001<code>?</code>\u3001<code>#</code>\u4e3a\u6b62\u3002\u5339\u914d\u65b9\u5f0f\u662f\u8d2a\u5a6a\u6a21\u5f0f\u3002</p> <p><code>path</code>\u5c5e\u6027\u4e5f\u53ef\u4ee5\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\uff08\u4e0d\u4ee5<code>/</code>\u5f00\u5934\uff09\uff0c\u5339\u914d\u65f6\u5c31\u4f1a\u76f8\u5bf9\u4e8e\u7236\u7ec4\u4ef6\u7684\u8def\u5f84\uff0c\u53ef\u4ee5\u53c2\u8003\u4e0a\u4e00\u8282\u7684\u4f8b\u5b50\u3002\u5d4c\u5957\u8def\u7531\u5982\u679c\u60f3\u6446\u8131\u8fd9\u4e2a\u89c4\u5219\uff0c\u53ef\u4ee5\u4f7f\u7528\u7edd\u5bf9\u8def\u7531\u3002</p> <p>\u8def\u7531\u5339\u914d\u89c4\u5219\u662f\u4ece\u4e0a\u5230\u4e0b\u6267\u884c\uff0c\u4e00\u65e6\u53d1\u73b0\u5339\u914d\uff0c\u5c31\u4e0d\u518d\u5176\u4f59\u7684\u89c4\u5219\u4e86\u3002</p> <pre><code>&lt;Route path=\"/comments\" ... /&gt;\n&lt;Route path=\"/comments\" ... /&gt;\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8def\u5f84<code>/comments</code>\u540c\u65f6\u5339\u914d\u4e24\u4e2a\u89c4\u5219\uff0c\u7b2c\u4e8c\u4e2a\u89c4\u5219\u4e0d\u4f1a\u751f\u6548\u3002</p> <p>\u8bbe\u7f6e\u8def\u5f84\u53c2\u6570\u65f6\uff0c\u9700\u8981\u7279\u522b\u5c0f\u5fc3\u8fd9\u4e00\u70b9\u3002</p> <pre><code>&lt;Router&gt;\n  &lt;Route path=\"/:userName/:id\" component={UserPage}/&gt;\n  &lt;Route path=\"/about/me\" component={About}/&gt;\n&lt;/Router&gt;\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7528\u6237\u8bbf\u95ee<code>/about/me</code>\u65f6\uff0c\u4e0d\u4f1a\u89e6\u53d1\u7b2c\u4e8c\u4e2a\u8def\u7531\u89c4\u5219\uff0c\u56e0\u4e3a\u5b83\u4f1a\u5339\u914d<code>/:userName/:id</code>\u8fd9\u4e2a\u89c4\u5219\u3002\u56e0\u6b64\uff0c\u5e26\u53c2\u6570\u7684\u8def\u5f84\u4e00\u822c\u8981\u5199\u5728\u8def\u7531\u89c4\u5219\u7684\u5e95\u90e8\u3002</p> <p>\u6b64\u5916\uff0cURL\u7684\u67e5\u8be2\u5b57\u7b26\u4e32<code>/foo?bar=baz</code>\uff0c\u53ef\u4ee5\u7528<code>this.props.location.query.bar</code>\u83b7\u53d6\u3002</p>"},{"location":"react/ReactRouter-%E9%98%AE%E4%B8%80%E5%B3%B0/#indexroute","title":"\u4e94\u3001IndexRoute \u7ec4\u4ef6","text":"<p>\u4e0b\u9762\u7684\u4f8b\u5b50\uff0c\u4f60\u4f1a\u4e0d\u4f1a\u89c9\u5f97\u6709\u4e00\u70b9\u95ee\u9898\uff1f</p> <pre><code>&lt;Router&gt;\n  &lt;Route path=\"/\" component={App}&gt;\n    &lt;Route path=\"accounts\" component={Accounts}/&gt;\n    &lt;Route path=\"statements\" component={Statements}/&gt;\n  &lt;/Route&gt;\n&lt;/Router&gt;\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8bbf\u95ee\u6839\u8def\u5f84<code>/</code>\uff0c\u4e0d\u4f1a\u52a0\u8f7d\u4efb\u4f55\u5b50\u7ec4\u4ef6\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c<code>App</code>\u7ec4\u4ef6\u7684<code>this.props.children</code>\uff0c\u8fd9\u65f6\u662f<code>undefined</code>\u3002</p> <p>\u56e0\u6b64\uff0c\u901a\u5e38\u4f1a\u91c7\u7528<code>{this.props.children || &lt;Home/&gt;}</code>\u8fd9\u6837\u7684\u5199\u6cd5\u3002\u8fd9\u65f6\uff0c<code>Home</code>\u660e\u660e\u662f<code>Accounts</code>\u548c<code>Statements</code>\u7684\u540c\u7ea7\u7ec4\u4ef6\uff0c\u5374\u6ca1\u6709\u5199\u5728<code>Route</code>\u4e2d\u3002</p> <p><code>IndexRoute</code>\u5c31\u662f\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u663e\u5f0f\u6307\u5b9a<code>Home</code>\u662f\u6839\u8def\u7531\u7684\u5b50\u7ec4\u4ef6\uff0c\u5373\u6307\u5b9a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u52a0\u8f7d\u7684\u5b50\u7ec4\u4ef6\u3002\u4f60\u53ef\u4ee5\u628a<code>IndexRoute</code>\u60f3\u8c61\u6210\u67d0\u4e2a\u8def\u5f84\u7684<code>index.html</code>\u3002</p> <pre><code>&lt;Router&gt;\n  &lt;Route path=\"/\" component={App}&gt;\n    &lt;IndexRoute component={Home}/&gt;\n    &lt;Route path=\"accounts\" component={Accounts}/&gt;\n    &lt;Route path=\"statements\" component={Statements}/&gt;\n  &lt;/Route&gt;\n&lt;/Router&gt;\n</code></pre> <p>\u73b0\u5728\uff0c\u7528\u6237\u8bbf\u95ee<code>/</code>\u7684\u65f6\u5019\uff0c\u52a0\u8f7d\u7684\u7ec4\u4ef6\u7ed3\u6784\u5982\u4e0b\u3002</p> <pre><code>&lt;App&gt;\n  &lt;Home/&gt;\n&lt;/App&gt;\n</code></pre> <p>\u8fd9\u79cd\u7ec4\u4ef6\u7ed3\u6784\u5c31\u5f88\u6e05\u6670\u4e86\uff1a<code>App</code>\u53ea\u5305\u542b\u4e0b\u7ea7\u7ec4\u4ef6\u7684\u5171\u6709\u5143\u7d20\uff0c\u672c\u8eab\u7684\u5c55\u793a\u5185\u5bb9\u5219\u7531<code>Home</code>\u7ec4\u4ef6\u5b9a\u4e49\u3002\u8fd9\u6837\u6709\u5229\u4e8e\u4ee3\u7801\u5206\u79bb\uff0c\u4e5f\u6709\u5229\u4e8e\u4f7f\u7528React Router\u63d0\u4f9b\u7684\u5404\u79cdAPI\u3002</p> <p>\u6ce8\u610f\uff0c<code>IndexRoute</code>\u7ec4\u4ef6\u6ca1\u6709\u8def\u5f84\u53c2\u6570<code>path</code>\u3002</p>"},{"location":"react/ReactRouter-%E9%98%AE%E4%B8%80%E5%B3%B0/#redirect","title":"\u516d\u3001Redirect \u7ec4\u4ef6","text":"<p><code>&lt;Redirect&gt;</code>\u7ec4\u4ef6\u7528\u4e8e\u8def\u7531\u7684\u8df3\u8f6c\uff0c\u5373\u7528\u6237\u8bbf\u95ee\u4e00\u4e2a\u8def\u7531\uff0c\u4f1a\u81ea\u52a8\u8df3\u8f6c\u5230\u53e6\u4e00\u4e2a\u8def\u7531\u3002</p> <pre><code>&lt;Route path=\"inbox\" component={Inbox}&gt;\n  {/* \u4ece /inbox/messages/:id \u8df3\u8f6c\u5230 /messages/:id */}\n  \uff1cRedirect from=\"messages/:id\" to=\"/messages/:id\" /&gt;\n&lt;/Route&gt;\n</code></pre> <p>\u73b0\u5728\u8bbf\u95ee<code>/inbox/messages/5</code>\uff0c\u4f1a\u81ea\u52a8\u8df3\u8f6c\u5230<code>/messages/5</code>\u3002</p>"},{"location":"react/ReactRouter-%E9%98%AE%E4%B8%80%E5%B3%B0/#indexredirect","title":"\u4e03\u3001IndexRedirect \u7ec4\u4ef6","text":"<p><code>IndexRedirect</code>\u7ec4\u4ef6\u7528\u4e8e\u8bbf\u95ee\u6839\u8def\u7531\u7684\u65f6\u5019\uff0c\u5c06\u7528\u6237\u91cd\u5b9a\u5411\u5230\u67d0\u4e2a\u5b50\u7ec4\u4ef6\u3002</p> <pre><code>&lt;Route path=\"/\" component={App}&gt;\n  \uff1cIndexRedirect to=\"/welcome\" /&gt;\n  &lt;Route path=\"welcome\" component={Welcome} /&gt;\n  &lt;Route path=\"about\" component={About} /&gt;\n&lt;/Route&gt;\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7528\u6237\u8bbf\u95ee\u6839\u8def\u5f84\u65f6\uff0c\u5c06\u81ea\u52a8\u91cd\u5b9a\u5411\u5230\u5b50\u7ec4\u4ef6<code>welcome</code>\u3002</p>"},{"location":"react/ReactRouter-%E9%98%AE%E4%B8%80%E5%B3%B0/#link","title":"\u516b\u3001Link","text":"<p><code>Link</code>\u7ec4\u4ef6\u7528\u4e8e\u53d6\u4ee3<code>&lt;a&gt;</code>\u5143\u7d20\uff0c\u751f\u6210\u4e00\u4e2a\u94fe\u63a5\uff0c\u5141\u8bb8\u7528\u6237\u70b9\u51fb\u540e\u8df3\u8f6c\u5230\u53e6\u4e00\u4e2a\u8def\u7531\u3002\u5b83\u57fa\u672c\u4e0a\u5c31\u662f<code>&lt;a&gt;</code>\u5143\u7d20\u7684React \u7248\u672c\uff0c\u53ef\u4ee5\u63a5\u6536<code>Router</code>\u7684\u72b6\u6001\u3002</p> <pre><code>render() {\n  return &lt;div&gt;\n    &lt;ul role=\"nav\"&gt;\n      &lt;li&gt;&lt;Link to=\"/about\"&gt;About&lt;/Link&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;Link to=\"/repos\"&gt;Repos&lt;/Link&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n}\n</code></pre> <p>\u5982\u679c\u5e0c\u671b\u5f53\u524d\u7684\u8def\u7531\u4e0e\u5176\u4ed6\u8def\u7531\u6709\u4e0d\u540c\u6837\u5f0f\uff0c\u8fd9\u65f6\u53ef\u4ee5\u4f7f\u7528<code>Link</code>\u7ec4\u4ef6\u7684<code>activeStyle</code>\u5c5e\u6027\u3002</p> <pre><code>&lt;Link to=\"/about\" activeStyle={{color: 'red'}}&gt;About&lt;/Link&gt;\n&lt;Link to=\"/repos\" activeStyle={{color: 'red'}}&gt;Repos&lt;/Link&gt;\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5f53\u524d\u9875\u9762\u7684\u94fe\u63a5\u4f1a\u7ea2\u8272\u663e\u793a\u3002</p> <p>\u53e6\u4e00\u79cd\u505a\u6cd5\u662f\uff0c\u4f7f\u7528<code>activeClassName</code>\u6307\u5b9a\u5f53\u524d\u8def\u7531\u7684<code>Class</code>\u3002</p> <pre><code>&lt;Link to=\"/about\" activeClassName=\"active\"&gt;About&lt;/Link&gt;\n&lt;Link to=\"/repos\" activeClassName=\"active\"&gt;Repos&lt;/Link&gt;\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5f53\u524d\u9875\u9762\u7684\u94fe\u63a5\u7684<code>class</code>\u4f1a\u5305\u542b<code>active</code>\u3002</p> <p>\u5728<code>Router</code>\u7ec4\u4ef6\u4e4b\u5916\uff0c\u5bfc\u822a\u5230\u8def\u7531\u9875\u9762\uff0c\u53ef\u4ee5\u4f7f\u7528\u6d4f\u89c8\u5668\u7684History API\uff0c\u50cf\u4e0b\u9762\u8fd9\u6837\u5199\u3002</p> <pre><code>import { browserHistory } from 'react-router';\nbrowserHistory.push('/some/path');\n</code></pre>"},{"location":"react/ReactRouter-%E9%98%AE%E4%B8%80%E5%B3%B0/#indexlink","title":"\u4e5d\u3001IndexLink","text":"<p>\u5982\u679c\u94fe\u63a5\u5230\u6839\u8def\u7531<code>/</code>\uff0c\u4e0d\u8981\u4f7f\u7528<code>Link</code>\u7ec4\u4ef6\uff0c\u800c\u8981\u4f7f\u7528<code>IndexLink</code>\u7ec4\u4ef6\u3002</p> <p>\u8fd9\u662f\u56e0\u4e3a\u5bf9\u4e8e\u6839\u8def\u7531\u6765\u8bf4\uff0c<code>activeStyle</code>\u548c<code>activeClassName</code>\u4f1a\u5931\u6548\uff0c\u6216\u8005\u8bf4\u603b\u662f\u751f\u6548\uff0c\u56e0\u4e3a<code>/</code>\u4f1a\u5339\u914d\u4efb\u4f55\u5b50\u8def\u7531\u3002\u800c<code>IndexLink</code>\u7ec4\u4ef6\u4f1a\u4f7f\u7528\u8def\u5f84\u7684\u7cbe\u786e\u5339\u914d\u3002</p> <pre><code>&lt;IndexLink to=\"/\" activeClassName=\"active\"&gt;\n  Home\n&lt;/IndexLink&gt;\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6839\u8def\u7531\u53ea\u4f1a\u5728\u7cbe\u786e\u5339\u914d\u65f6\uff0c\u624d\u5177\u6709<code>activeClassName</code>\u3002</p> <p>\u53e6\u4e00\u79cd\u65b9\u6cd5\u662f\u4f7f\u7528<code>Link</code>\u7ec4\u4ef6\u7684<code>onlyActiveOnIndex</code>\u5c5e\u6027\uff0c\u4e5f\u80fd\u8fbe\u5230\u540c\u6837\u6548\u679c\u3002</p> <pre><code>&lt;Link to=\"/\" activeClassName=\"active\" onlyActiveOnIndex={true}&gt;\n  Home\n&lt;/Link&gt;\n</code></pre> <p>\u5b9e\u9645\u4e0a\uff0c<code>IndexLink</code>\u5c31\u662f\u5bf9<code>Link</code>\u7ec4\u4ef6\u7684<code>onlyActiveOnIndex</code>\u5c5e\u6027\u7684\u5305\u88c5\u3002</p>"},{"location":"react/ReactRouter-%E9%98%AE%E4%B8%80%E5%B3%B0/#histroy","title":"\u5341\u3001histroy \u5c5e\u6027","text":"<p><code>Router</code>\u7ec4\u4ef6\u7684<code>history</code>\u5c5e\u6027\uff0c\u7528\u6765\u76d1\u542c\u6d4f\u89c8\u5668\u5730\u5740\u680f\u7684\u53d8\u5316\uff0c\u5e76\u5c06URL\u89e3\u6790\u6210\u4e00\u4e2a\u5730\u5740\u5bf9\u8c61\uff0c\u4f9b React Router \u5339\u914d\u3002</p> <p><code>history</code>\u5c5e\u6027\uff0c\u4e00\u5171\u53ef\u4ee5\u8bbe\u7f6e\u4e09\u79cd\u503c\u3002</p> <ul> <li>browserHistory</li> <li>hashHistory</li> <li>createMemoryHistory</li> </ul> <p>\u5982\u679c\u8bbe\u4e3a<code>hashHistory</code>\uff0c\u8def\u7531\u5c06\u901a\u8fc7URL\u7684hash\u90e8\u5206\uff08<code>#</code>\uff09\u5207\u6362\uff0cURL\u7684\u5f62\u5f0f\u7c7b\u4f3c<code>example.com/#/some/path</code>\u3002</p> <pre><code>import { hashHistory } from 'react-router'\n\nrender(\n  &lt;Router history={hashHistory} routes={routes} /&gt;,\n  document.getElementById('app')\n)\n</code></pre> <p>\u5982\u679c\u8bbe\u4e3a<code>browserHistory</code>\uff0c\u6d4f\u89c8\u5668\u7684\u8def\u7531\u5c31\u4e0d\u518d\u901a\u8fc7<code>Hash</code>\u5b8c\u6210\u4e86\uff0c\u800c\u663e\u793a\u6b63\u5e38\u7684\u8def\u5f84<code>example.com/some/path</code>\uff0c\u80cc\u540e\u8c03\u7528\u7684\u662f\u6d4f\u89c8\u5668\u7684History API\u3002</p> <pre><code>import { browserHistory } from 'react-router'\n\nrender(\n  &lt;Router history={browserHistory} routes={routes} /&gt;,\n  document.getElementById('app')\n)\n</code></pre> <p>\u4f46\u662f\uff0c\u8fd9\u79cd\u60c5\u51b5\u9700\u8981\u5bf9\u670d\u52a1\u5668\u6539\u9020\u3002\u5426\u5219\u7528\u6237\u76f4\u63a5\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u67d0\u4e2a\u5b50\u8def\u7531\uff0c\u4f1a\u663e\u793a\u7f51\u9875\u627e\u4e0d\u5230\u7684404\u9519\u8bef\u3002</p> <p>\u5982\u679c\u5f00\u53d1\u670d\u52a1\u5668\u4f7f\u7528\u7684\u662f<code>webpack-dev-server</code>\uff0c\u52a0\u4e0a<code>--history-api-fallback</code>\u53c2\u6570\u5c31\u53ef\u4ee5\u4e86\u3002</p> <pre><code>$ webpack-dev-server --inline --content-base . --history-api-fallback\n</code></pre> <p><code>createMemoryHistory</code>\u4e3b\u8981\u7528\u4e8e\u670d\u52a1\u5668\u6e32\u67d3\u3002\u5b83\u521b\u5efa\u4e00\u4e2a\u5185\u5b58\u4e2d\u7684<code>history</code>\u5bf9\u8c61\uff0c\u4e0d\u4e0e\u6d4f\u89c8\u5668URL\u4e92\u52a8\u3002</p> <pre><code>const history = createMemoryHistory(location)\n</code></pre>"},{"location":"react/ReactRouter-%E9%98%AE%E4%B8%80%E5%B3%B0/#_4","title":"\u5341\u4e00\u3001\u8868\u5355\u5904\u7406","text":"<p><code>Link</code>\u7ec4\u4ef6\u7528\u4e8e\u6b63\u5e38\u7684\u7528\u6237\u70b9\u51fb\u8df3\u8f6c\uff0c\u4f46\u662f\u6709\u65f6\u8fd8\u9700\u8981\u8868\u5355\u8df3\u8f6c\u3001\u70b9\u51fb\u6309\u94ae\u8df3\u8f6c\u7b49\u64cd\u4f5c\u3002\u8fd9\u4e9b\u60c5\u51b5\u600e\u4e48\u8ddfReact Router\u5bf9\u63a5\u5462\uff1f</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u8868\u5355\u3002</p> <pre><code>&lt;form onSubmit={this.handleSubmit}&gt;\n  &lt;input type=\"text\" placeholder=\"userName\"/&gt;\n  &lt;input type=\"text\" placeholder=\"repo\"/&gt;\n  &lt;button type=\"submit\"&gt;Go&lt;/button&gt;\n&lt;/form&gt;\n</code></pre> <p>\u7b2c\u4e00\u79cd\u65b9\u6cd5\u662f\u4f7f\u7528<code>browserHistory.push</code></p> <pre><code>import { browserHistory } from 'react-router'\n\n// ...\n  handleSubmit(event) {\n    event.preventDefault()\n    const userName = event.target.elements[0].value\n    const repo = event.target.elements[1].value\n    const path = `/repos/${userName}/${repo}`\n    browserHistory.push(path)\n  },\n</code></pre> <p>\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u662f\u4f7f\u7528<code>context</code>\u5bf9\u8c61\u3002</p> <pre><code>export default React.createClass({\n\n  // ask for `router` from context\n  contextTypes: {\n    router: React.PropTypes.object\n  },\n\n  handleSubmit(event) {\n    // ...\n    this.context.router.push(path)\n  },\n})\n</code></pre>"},{"location":"react/ReactRouter-%E9%98%AE%E4%B8%80%E5%B3%B0/#_5","title":"\u5341\u4e8c\u3001\u8def\u7531\u7684\u94a9\u5b50","text":"<p>\u6bcf\u4e2a\u8def\u7531\u90fd\u6709<code>Enter</code>\u548c<code>Leave</code>\u94a9\u5b50\uff0c\u7528\u6237\u8fdb\u5165\u6216\u79bb\u5f00\u8be5\u8def\u7531\u65f6\u89e6\u53d1\u3002</p> <pre><code>&lt;Route path=\"about\" component={About} /&gt;\n\uff1cRoute path=\"inbox\" component={Inbox}&gt;\n  \uff1cRedirect from=\"messages/:id\" to=\"/messages/:id\" /&gt;\n&lt;/Route&gt;\n</code></pre> <p>\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u7528\u6237\u79bb\u5f00<code>/messages/:id</code>\uff0c\u8fdb\u5165<code>/about</code>\u65f6\uff0c\u4f1a\u4f9d\u6b21\u89e6\u53d1\u4ee5\u4e0b\u7684\u94a9\u5b50\u3002</p> <ul> <li><code>/messages/:id</code>\u7684<code>onLeave</code></li> <li><code>/inbox</code>\u7684<code>onLeave</code></li> <li><code>/about</code>\u7684<code>onEnter</code></li> </ul> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u4f7f\u7528<code>onEnter</code>\u94a9\u5b50\u66ff\u4ee3<code>&lt;Redirect&gt;</code>\u7ec4\u4ef6\u3002</p> <pre><code>&lt;Route path=\"inbox\" component={Inbox}&gt;\n  &lt;Route\n    path=\"messages/:id\"\n    onEnter={\n      ({params}, replace) =&gt; replace(`/messages/${params.id}`)\n    } \n  /&gt;\n&lt;/Route&gt;\n</code></pre> <p><code>onEnter</code>\u94a9\u5b50\u8fd8\u53ef\u4ee5\u7528\u6765\u505a\u8ba4\u8bc1\u3002</p> <pre><code>const requireAuth = (nextState, replace) =&gt; {\n    if (!auth.isAdmin()) {\n        // Redirect to Home page if not an Admin\n        replace({ pathname: '/' })\n    }\n}\nexport const AdminRoutes = () =&gt; {\n  return (\n     &lt;Route path=\"/admin\" component={Admin} onEnter={requireAuth} /&gt;\n  )\n}\n</code></pre> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u9ad8\u7ea7\u5e94\u7528\uff0c\u5f53\u7528\u6237\u79bb\u5f00\u4e00\u4e2a\u8def\u5f84\u7684\u65f6\u5019\uff0c\u8df3\u51fa\u4e00\u4e2a\u63d0\u793a\u6846\uff0c\u8981\u6c42\u7528\u6237\u786e\u8ba4\u662f\u5426\u79bb\u5f00\u3002</p> <pre><code>const Home = withRouter(\n  React.createClass({\n    componentDidMount() {\n      this.props.router.setRouteLeaveHook(\n        this.props.route, \n        this.routerWillLeave\n      )\n    },\n\n    routerWillLeave(nextLocation) {\n      // \u8fd4\u56de false \u4f1a\u7ee7\u7eed\u505c\u7559\u5f53\u524d\u9875\u9762\uff0c\n      // \u5426\u5219\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4f1a\u663e\u793a\u7ed9\u7528\u6237\uff0c\u8ba9\u5176\u81ea\u5df1\u51b3\u5b9a\n      if (!this.state.isSaved)\n        return '\u786e\u8ba4\u8981\u79bb\u5f00\uff1f';\n    },\n  })\n)\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>setRouteLeaveHook</code>\u65b9\u6cd5\u4e3a<code>Leave</code>\u94a9\u5b50\u6307\u5b9a<code>routerWillLeave</code>\u51fd\u6570\u3002\u8be5\u65b9\u6cd5\u5982\u679c\u8fd4\u56de<code>false</code>\uff0c\u5c06\u963b\u6b62\u8def\u7531\u7684\u5207\u6362\uff0c\u5426\u5219\u5c31\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u63d0\u793a\u7528\u6237\u51b3\u5b9a\u662f\u5426\u8981\u5207\u6362\u3002</p> <p>\uff08\u5b8c\uff09</p>"},{"location":"react/ReactRouter-%E9%98%AE%E4%B8%80%E5%B3%B0/#react-router_1","title":"React-Router","text":"<p>React-router \u89e3\u51b3\u95ee\u9898\uff1aUI\u4e0eURL\u89e3\u8026</p> <p>\u95ee\u9898\uff1a\u539f\u59cb\u540c\u4e00\u4e2a\u754c\u9762\u5185\u90e8\u4f7f\u7528 a \u8fdb\u884c\u8df3\u8f6c\uff0c\u4e0d\u540c\u754c\u9762\u4e2d\u4f7f\u7528 # hash \u8df3\u8f6c\u3002\u5982\u679c\u5728React\u6846\u67b6\u4e0b\uff0c\u5bf9\u4e8eSPA\uff0c\u9700\u8981\u83b7\u53d6\u754c\u9762\u7684 hash \u518d\u5224\u65ad\u754c\u9762\u4e2d\u52a0\u8f7d\u4ec0\u4e48\u90e8\u5206\uff08setState\uff09\uff0c\u8fd9\u6837\u6548\u7387\u4f4e\u4e0b\uff0cUI \u4e0e URL \u4e0d\u5206\u79bb\u3002</p> <p>\u89e3\u51b3\uff1a\u9996\u5148\u4f7f\u7528 <code>&lt;Link to={path}&gt;</code> \u4f5c\u4e3a\u8d85\u94fe\u63a5\uff0c\u70b9\u51fb\u540e\u754c\u9762URL\u6539\u53d8\u3002React-touter \u6839\u636eURL\u53d8\u5316\uff0c\u4e0d\u9700\u8981\u5224\u65ad\uff0c\u76f4\u63a5\u6839\u636e <code>&lt;Router&gt;&lt;Component to={path}&gt;</code> \u6e32\u67d3\u90e8\u5206\u5185\u5bb9\uff0c\u6574\u4f53\u754c\u9762\u4e0d\u4f1a\u91cd\u65b0\u52a0\u8f7d\u3002</p>"},{"location":"react/ReactRouter-%E9%98%AE%E4%B8%80%E5%B3%B0/#link_1","title":"Link","text":"<p>\u539f\u59cbHTML\u754c\u9762\u4e2d\uff0c\u4e0d\u540c\u754c\u9762\u95f4\u8fdb\u884c\u5207\u6362\uff0c\u754c\u9762\u9700\u8981\u91cd\u8f7d\u3002</p> <p>\u4f7f\u7528Link\u7ec4\u4ef6\u540e\uff0cURL\u4f1a\u66f4\u65b0\uff0c\u754c\u9762\u4e0d\u9700\u8981\u91cd\u8f7d\uff0cReact\u7ec4\u4ef6\u4f1a\u88ab\u91cd\u65b0\u6e32\u67d3\u3002</p> <p>Link \u7ec4\u4ef6\u901a\u8fc7 to \u5c5e\u6027\u8bbe\u7f6e\u754c\u9762\u7684\u5207\u6362\u3002\u5b9e\u9645\u4e0a\uff0cLink\u6e32\u67d3\u6210 A \u6807\u7b7e\uff0cto\u5c5e\u6027\u53ef\u4ee5\u4f5c\u4e3ahref\u3002Link \u7ec4\u4ef6\u6700\u7ec8\u4f1a\u6e32\u67d3\u4e3a HTML \u6807\u7b7e \uff0c\u5b83\u7684 to\u3001query\u3001hash \u5c5e\u6027\u4f1a\u88ab\u7ec4\u5408\u5728\u4e00\u8d77\u5e76\u6e32\u67d3\u4e3a href \u5c5e\u6027\u3002\u867d\u7136 Link \u88ab\u6e32\u67d3\u4e3a\u8d85\u94fe\u63a5\uff0c\u4f46\u5728\u5185\u90e8\u5b9e\u73b0\u4e0a\u4f7f\u7528\u811a\u672c\u62e6\u622a\u4e86\u6d4f\u89c8\u5668\u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u7136\u540e\u8c03\u7528\u4e86history.pushState \u65b9\u6cd5\u3002 <p>To \u901a\u5e38\u53ef\u4ee5\u4f7f\u5b57\u7b26\u4e32\u6216\u8005\u5bf9\u8c61</p> <pre><code>&lt;Link to=\"/about\"&gt;\u5173\u4e8e&lt;/Link&gt;\n// \u5728\u5f53\u524dURL\u7684\u57fa\u7840\u4e0a\u589e\u52a0\u4e00\u4e2a/about\n\n&lt;Link to=\"http://www.xxx.com/org/about\" replace={true}&gt;&lt;/Link&gt;\n// replace \u5c5e\u6027\uff1atrue \u8868\u793a\u7528\u65b0\u7684\u5730\u5740\u66ff\u6362\u539f\u59cb\u5730\u5740\uff0cfalse\u8868\u793a\u5728\u65e7\u5730\u5740\u4e0a\u6dfb\u52a0\u5b57\u7b26\u4e32\u3002\u9ed8\u8ba4\u662ffalse\u3002\n\n&lt;Link to={{\n    pathname: '/about',\n  search: '?name=name&amp;password=123456',\n  hash: '#content-1',\n  state: { fromDashboard: true }\n}} /&gt;\n// \u8fd9\u6837\u53ef\u4ee5\u6574\u4f53\u5b9a\u4f4d\u754c\u9762\u7684\u5c5e\u6027\n</code></pre>"},{"location":"react/React%E4%B8%AD%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/","title":"React\u4e2d\u6570\u636e\u4f20\u8f93","text":""},{"location":"react/React%E4%B8%AD%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/#react","title":"React\u4e2d\u6570\u636e\u4f20\u8f93","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5211  \u9605\u8bfb11\u5206\u949f</p>"},{"location":"react/React%E4%B8%AD%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/#_1","title":"\u7236\u7ec4\u4ef6\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6","text":"<p>\u6982\u8ff0\uff1aReact\u4e2d\u4e3b\u8981\u4f7f\u7528\u7ec4\u4ef6\u8fdb\u884c\u6570\u636e\u4f20\u8f93\uff0c\u7ec4\u4ef6\u7684\u6570\u636e\u5b58\u50a8\u5728props\u548cstate\u4e2d\uff0c\u8fdb\u884c**\u81ea\u4e0a\u800c\u4e0b**\u5355\u5411\u6570\u636e\u4f20\u9012\u3002</p>"},{"location":"react/React%E4%B8%AD%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/#props","title":"props","text":"<p>React\u6838\u5fc3\u601d\u60f3\uff1a\u7ec4\u4ef6\u5316\uff0c\u9875\u9762\u88ab\u5207\u6210\u4e00\u4e2a\u4e2a\u53ef\u4ee5\u590d\u7528\u7684\u72ec\u7acb\u7684\u7ec4\u4ef6\u3002\u6bcf\u4e2a\u7ec4\u4ef6\u662f\u4e00\u4e2a\u5185\u90e8\u5c01\u95ed\u7684\u73af\u5883\uff0c\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u51fd\u6570\uff0cprops\u5c31\u662f\u4f20\u5165\u7684\u53c2\u6570\u3002</p> <p>1.\u7528\u6cd5</p> <p>\u5728\u7236\u7ec4\u4ef6\u4e2d\uff0crender \u4e2d\u5c31\u662f\u8c03\u7528\u5b50\u51fd\u6570\u7684\u8fc7\u7a0b\uff0c\u5e76\u628a\u5b9e\u9645\u53c2\u6570\u4f20\u5165\u3002\u5728\u5b50\u7ec4\u4ef6\u4e2d\uff0c\u9700\u8981\u4f7f\u7528props\u4f5c\u4e3a\u5f62\u5f0f\u53c2\u6570\uff0c\u4f20\u9012\u7236\u7ec4\u4ef6\u4f20\u5165\u7684\u53c2\u6570\u3002 <pre><code>//\u7236\u7ec4\u4ef6\nimport Item from \"./item\";\nexport default class ItemList extends       React.Component{\n  const itemList = data.map(item =&gt; &lt;Item item=item /&gt;);\n  render(){\n    return (\n      { itemList }\n    );\n  }\n}\n//map \u51fd\u6570\u8fd4\u56de\u6bcf\u4e00\u9879\u90fd\u662f&lt;Item item=\"\u6570\u636e\"&gt;\u7684\u6570\u7ec4\n\n// \u5b50\u7ec4\u4ef6\nexport default class Item extends React.Component{\n  render{\n    return (\n      &lt;li&gt;{this.props.item}&lt;/li&gt;\n    )\n  }\n}\n// this.props\u83b7\u53d6\u5230\u7ec4\u4ef6\u7684\u6240\u6709\u6570\u636e(\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5305\u62ec\u8fd9\u4e2a\u7ec4\u4ef6\u7684\u914d\u7f6e)\u6839\u636e\u7236\u7ec4\u4ef6\uff0c\u73b0\u5728\u53ea\u6709item = item \u5c5e\u6027\uff0c\u6240\u6709\u76f4\u63a5\u83b7\u53d6this.props.item\u5373\u53ef\u83b7\u5f97\u5168\u90e8\u6570\u636e\u3002\n</code></pre> <p>2.\u53ea\u8bfb\u6027\u4e0d\u53d8\u6027</p> <p>props\u7528\u4e8e**\u521d\u59cb\u5316\u72b6\u6001\u548c\u6e32\u67d3\u7ec4\u4ef6**\u4e24\u4e2a\u529f\u80fd\u3002\u6240\u4ee5\u5f53\u7ec4\u4ef6\u5b9e\u4f8b\u5316\u4ee5\u540e\uff0cprops\u662f\u4e0d\u80fd\u6539\u53d8\u7684\u3002\u53ea\u6709\u901a\u8fc7\u7236\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\u7684\u65b9\u5f0f\u624d\u80fd\u5c06\u65b0\u7684props\u4f20\u5165\u5b50\u7ec4\u4ef6\u4e2d\u3002\uff08\u5b50\u7ec4\u4ef6\u4e2d\u65e0\u6cd5\u5bf9this.props\u8fdb\u884c\u4fee\u6539\uff09\u3002props\u7c7b\u4f3c\u4e8e\u4ece\u4e0a\u9762\u4f20\u6765\u7684\u5e38\u91cf\u3002</p> <p>3.\u9ed8\u8ba4\u53c2\u6570\u548c\u6570\u636e\u7c7b\u578b</p> <pre><code>Item.defaultProps = {\n    item: \"React\"\n}\n// \u9ed8\u8ba4\u53c2\u6570\nItem.propTypes = {\n    item: PropTypes.string\n}\n// \u9ed8\u8ba4\u6570\u636e\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32(\u6216\u8005\u5176\u4ed6\u6570\u636e\u7c7b\u578b)\n</code></pre>"},{"location":"react/React%E4%B8%AD%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/#state","title":"State","text":"<p>state: state is similar to props, but it is private and fully controlled by the component.</p> <p>State\u662f\u4e0eprops\u76f8\u540c\u70b9\u90fd\u662f\u6570\u636e\uff08\u53c2\u6570\uff09\uff0c\u4f46\u662fstate\u662f\u5b50\u7ec4\u4ef6\u79c1\u6709\u7684\u53d8\u91cf\uff0c\u800c\u4e14\u7531\u5b50\u7ec4\u4ef6\u5b8c\u5168\u63a7\u5236\u3002</p> <p>1.\u7528\u6cd5</p> <pre><code>export default class ItemList extends React.Component{\n  constructor(){\n    super();\n    this.state = {\n      itemList:true\n    }\n  }\n  //\u6211\u4eec\u4f1a\u901a\u8fc7\u5f02\u6b65\u64cd\u4f5c\u83b7\u53d6\u6570\u636e\uff0c\u9700\u8981\u5728didMount\u9636\u6bb5\u6267\u884c\u5f02\u6b65\u64cd\u4f5c\n  componentDidMount(){\n    fetch(\"url\").then((response) =&gt; response.json()).then((data) =&gt; {\n      this.setState({\n        itemList:item\n      });\n    })\n  }\n  render{\n    return (\n      { this.state.itemList }\n    )\n  }\n}\n\n\u91cd\u8981\u63d0\u793a\uff1a\u5f53\u6211\u4eec\u8c03\u7528this.setState\u7684\u65b9\u6cd5\u65f6\uff0cReact\u4f1a\u66f4\u65b0\u7ec4\u4ef6\u7684\u6570\u636e\u72b6\u6001state\uff0c\u5e76\u4e14\u4f1a\u91cd\u65b0\u8c03\u7528render\u65b9\u6cd5\uff0c\u4f1a\u5bf9\u7ec4\u4ef6\u8fdb\u884c\u91cd\u65b0\u6e32\u67d3\u3002\n\nconstructor\u662f\u552f\u4e00\u521d\u59cb\u5316state\u7684\u5730\u65b9\uff0cthis.state\u6765\u521d\u59cb\u5316state\uff0cthis.setState\u4e00\u79cd\u65b9\u6cd5\u4fee\u6539state\u53c2\u6570\u3002\n\n\u603b\u7ed3\uff1astate\u7528\u4e8e\u7ec4\u4ef6\u5b58\u50a8\u81ea\u5df1\u7684\u5c5e\u6027\u548c\u72b6\u6001\uff0c\u4e0d\u80fd\u901a\u8fc7\u7236\u7ec4\u4ef6\u8bbf\u95ee\uff0c\u53ef\u4ee5\u4f20\u7ed9\u5b50\u7ec4\u4ef6\uff0c\u53ea\u80fd\u901a\u8fc7this.setState\u6765\u4fee\u6539\u3002~~\u4fee\u6539state\u5c5e\u6027\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\u3002~~\n\n  \u6ca1\u6709state\u53eb\u505a\u65e0\u72b6\u6001\u7ec4\u4ef6\uff0c\u6709state\u53eb\u505a\u6709\u72b6\u6001\u7ec4\u4ef6\u3002\n\u591a\u7528props\uff0c\u5c11\u7528state\uff0cprops\u53ef\u4ee5\u9010\u5c42\u5411\u4e0b\u4f20\u9012\u3002\n\nReact\u4e2d\u7684\u540c\u4e00\u4e2a\u7ec4\u4ef6\u5185\u90e8\u6807\u7b7e\u6761\u4ef6\u6e32\u67d3\uff1a\u4e0d\u9700\u8981\u8bbe\u7f6e\u67d0\u4e2a\u6807\u7b7e\u7684show-hide\u5c5e\u6027\uff0c\u76f4\u63a5\u4f7f\u7528JSX\u4e2d\u7684\u4e09\u76ee\u8ba1\u7b97\u8fdb\u884c\u6e32\u67d3\n{\u6761\u4ef6\uff08\u5c5e\u6027==true\uff09\uff1f&lt;Form1/&gt;:null} \n\n//fetch \u65b0\u7684\u8bf7\u6c42\u65b9\u6cd5(\u517c\u5bb9\u6027)\u2014\u2014\u9644\u52a0\nfetch(url, options).then(function(response){\n  //handle http response\n},function(error){\n  //handle network error\n})\n\noptions \u53ef\u9009\u53c2\u6570(\u662f\u4e00\u4e2a\u5bf9\u8c61)\u5305\u62ec\u5bf9\u4e8e\u8bf7\u6c42\u7684\u8bbe\u7f6e\n{\n  method:\"POST\",\n    body:JSON.stringity(data)\n}\n\u5305\u62ec\uff1a\n\u8bf7\u6c42\u65b9\u6cd5\uff1aPOST-GET\n\u8bf7\u6c42\u5934\u4fe1\u606f\uff1aheader\u5bf9\u8c61\n\u8bf7\u6c42\u4f53\u4fe1\u606f\uff1abody\uff1aBlob\u3001FormData\u7b49\n\n\u76f8\u5e94response\u662f\u4e00\u4e2aPromise\u5bf9\u8c61\n\nPromise\u5bf9\u8c61\u5c5e\u6027\uff1a\nstatus\uff1a\u8bf7\u6c42\u53c2\u6570\u7ed3\u679c200\nstatustext:\u670d\u52a1\u5668\u8fd4\u56de\u7684\u72b6\u6001\u62a5\u6587\nheaders:\u8fd4\u56de\u7684\u5934\u90e8\u4fe1\u606f\nurl\u8bf7\u6c42\u7684\u5730\u5740\n\nPromise\u5bf9\u8c61\u65b9\u6cd5\uff1a\ntext\uff1a\u4ee5string\u5f62\u5f0f\u751f\u6210\u8bf7\u6c42text\njson() \u751f\u6210JOSN.parse(responseText)\u7684\u7ed3\u679c\nblob() \u751f\u6210\u4e00\u4e2aBlob\narrayBuffer() \u751f\u6210\u4e00\u4e2aArrayBuffer\nformData() \u751f\u6210\u683c\u5f0f\u5316\u7684\u6570\u636e \u53ef\u7528\u4e8e\u5176\u4ed6\u7684\u8bf7\u6c42\n\n\u53c2\u8003\u6587\u4ef6\uff1aJavaScript\u5229\u7528fetch\u5b9e\u73b0\u5f02\u6b65\u8bf7\u6c42\u7684\u65b9\u6cd5\u6848\u4f8b\n</code></pre>"},{"location":"react/React%E4%B8%AD%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/#_2","title":"\u5b50\u7ec4\u4ef6\u4f20\u9012\u7ed9\u7236\u7ec4\u4ef6","text":""},{"location":"react/React%E4%B8%AD%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/#_3","title":"\u56de\u8c03\u51fd\u6570","text":"<p>\u5f53\u5b50\u7ec4\u4ef6\u7684\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u53ef\u4ee5\u7528\u6237\u89e6\u53d1\u6216\u8005JS\u89e6\u53d1\u56de\u8c03\u51fd\u6570\uff0c\u628a\u5b50\u7ec4\u4ef6\u7684\u4fe1\u606f\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u8fd4\u56de\u7236\u7ec4\u4ef6\uff0c\u4e4b\u540e\u7236\u7ec4\u4ef6\u5904\u7406\u5e76setState\u3002\u8fd9\u662f\u5e38\u7528\u7684\u65b9\u6cd5\u3002</p>"},{"location":"react/React%E4%B8%AD%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/#_4","title":"\u4e8b\u4ef6\u76d1\u542c","text":"<p>\u5982\u679c\u5b50\u7ec4\u4ef6\u5f88\u591a\u6216\u8005\u5c42\u7ea7\u5f88\u6df1\uff0c\u90a3\u4e48\u5e95\u5c42\u5b50\u7ec4\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u4f1a\u4f9d\u6b21\u4e0a\u4f20\uff0c\u6216\u8005\u9700\u8981\u5904\u7406\u591a\u4e2a\u4e8b\u4ef6\uff0c\u90a3\u4e48\u56de\u8c03\u51fd\u6570\u4e0d\u9002\u5408\u5904\u7406\u3002\u6240\u4ee5\u4f7f\u7528\u4e8b\u4ef6\u76d1\u542c\uff08eg eventbus\uff09\u4efb\u4f55\u4f4d\u7f6e\u7684\u5b50\u7ec4\u4ef6\u89e6\u53d1\u4e8b\u4ef6\uff0c\u5728\u9876\u7ea7\u7ec4\u4ef6\u6216\u8005\u6307\u5b9a\u7ec4\u4ef6\u76d1\u542c\u4e8b\u4ef6\uff0c\u7edf\u4e00\u5904\u7406\uff0c\u7136\u540e\u7edf\u4e00\u8bbe\u7f6e\u72b6\u6001\uff0c\u8fd9\u6837\u66f4\u597d\u7ba1\u7406\u7ec4\u4ef6\u3002\u5927\u578b\u9879\u76ee\u4e2d\u66f4\u5408\u9002\u3002</p>"},{"location":"react/React%E4%B8%AD%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/#ref","title":"Ref","text":"<p>\u4e0a\u9762\u4e24\u79cd\u65b9\u5f0f\u9002\u5e94\u4e8e\u5b50\u7ec4\u4ef6\u53d1\u51fa\u4fe1\u53f7\uff0c\u7136\u540e\u7236\u7ec4\u4ef6\u88ab\u52a8\u63a5\u6536\u3002\u5982\u679c\u7236\u7ec4\u4ef6\u5411\u4e3b\u52a8\u83b7\u53d6\u5b50\u7ec4\u4ef6\u7684\u4fe1\u606f\uff0c\u9700\u8981\u901a\u8fc7 ref \u8bbf\u95ee\u5b50\u7ec4\u4ef6\u7684 DOM \u5c5e\u6027\u72b6\u6001\u3002\u5b50\u7ec4\u4ef6\u4e2d\u8bbe\u7f6e <code>ref={(node) =&gt; {this.ref = node}}</code> \u628a\u5b50\u7ec4\u4ef6\u901a\u8fc7ref\u4f20\u51fa\u53bb\u3002\u7236\u7ec4\u4ef6\u4e2d\u4f7f\u7528 ref \u5c5e\u6027\u53ef\u4ee5\u83b7\u53d6\u5b50\u7ec4\u4ef6\uff08\u9ad8\u9636\u7ec4\u4ef6\u4e2d\u4e0d\u80fd\u76f4\u63a5\u83b7\u53d6ref\uff0c\u9700\u8981\u8f6c\u6362\uff09\u3002</p>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/","title":"React.js\u5b66\u4e60\u7b14\u8bb0\u4e4b\u4e8b\u4ef6","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 12085  \u9605\u8bfb25\u5206\u949f</p>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_1","title":"\u4e8b\u4ef6\u7cfb\u7edf","text":"<p>React \u6807\u51c6\u5316\u4e86\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u56e0\u6b64\u5728\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u4e2d\u90fd\u4f1a\u6709\u76f8\u540c\u7684\u5c5e\u6027\u3002</p> <p>\u7ec4\u4ef6createClass\u540e\u521b\u5efa\u7684\u662f\u8bb8\u591a\u65b9\u6cd5\u7ec4\u6210\u7684\u5bf9\u8c61\u3002\u7ec4\u4ef6\u4e2d\u4f7f\u7528\u7684\u65b9\u6cd5\u5206\u4e3aReact\u81ea\u6709\u7684\u65b9\u6cd5\u4e0e\u7528\u6237\u5b9a\u4e49\u7684\u65b9\u6cd5\u3002\u5176\u4e2dReact\u81ea\u6709\u65b9\u6cd5\u662f\u7ec4\u4ef6\u751f\u547d\u5468\u671f\u4e2d\u7684\u65b9\u6cd5\uff0c\u5982\uff1a<code>render</code>\u3001<code>componentWillUpdate</code>\u3001<code>componentDidMount</code>\u7b49\u3002\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u65b9\u6cd5\u53ef\u4ee5\u8d77\u7b26\u5408JS\u547d\u540d\u89c4\u8303\u7684\u65b9\u6cd5\u5c31\u53ef\u4ee5\uff08\u6700\u597d\u4f7f\u7528\u9a7c\u5cf0\u547d\u540d\uff09\uff0c\u5982\uff1a<code>handleClick</code>\u3001<code>handleChange</code>\u3001<code>handleMouseover</code>\u7b49\u3002</p> <p>\u4e8b\u4ef6\u7ed1\u5b9a\u8bed\u6cd5\uff1aonClick = {this.handleClick}</p>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_2","title":"\u7ed1\u5b9a\u4e8b\u4ef6\u5904\u7406\u51fd\u6570","text":""},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_3","title":"\u9f20\u6807\u7c7b","text":"<ul> <li>onClick</li> <li>onContextMenu</li> <li>onDoubleClick</li> <li>onMouseDown</li> <li>onMouseEnter</li> <li>onMouseLeave</li> <li>onMouseMove</li> <li>onMouseOut</li> <li>onMouseOver</li> <li>onMouseUp</li> </ul> <p>\u62d6\u62fd\u4e8b\u4ef6\uff1a</p> <ul> <li>onDrop</li> <li>onDrag</li> <li>onDragEnd</li> <li>onDragEnter</li> <li>onDragExit</li> <li>onDragLeave</li> <li>onDragOver</li> <li>onDragStart</li> </ul>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_4","title":"\u89e6\u6478","text":"<ul> <li>onTouchCancel</li> <li>onTouchEnd</li> <li>onTouchMove</li> <li>onTouchStart</li> </ul> <p>\u89e6\u6478\u53ea\u4f1a\u5728\u79fb\u52a8\u8bbe\u5907\u4e0a\u4ea7\u751f</p>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_5","title":"\u952e\u76d8","text":"<p><code>onKeyPress</code>\u662f<code>onKeyDown</code>\u548c<code>onKeyUp</code>\u7684\u7ec4\u5408</p> <ul> <li>onKeyDown</li> <li>onKeyPress</li> <li>onKeyUp</li> </ul>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_6","title":"\u526a\u5207\u7c7b","text":"<ul> <li>onCopy</li> <li>onCut</li> <li>onPaste</li> </ul> <p>\u5bf9\u5e94\u7684\u662f\u6211\u4eec\u5e38\u5e38\u4f7f\u7528\u7684\u590d\u5236\u3001\u526a\u5207\u548c\u7c98\u8d34</p>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_7","title":"\u8868\u5355\u7c7b","text":"<p>(\u4f1a\u4e13\u95e8\u603b\u7ed3\u8868\u5355\u7c7b\u4e8b\u4ef6\uff0c\u5728\u6b64\u4ec5\u4ec5\u7b80\u5355\u5217\u51fa)</p> <ul> <li>onChange</li> <li>onInput</li> <li>onSubmit</li> </ul> <p><code>onChange</code>\u53ef\u4ee5\u7528\u5728\u8f93\u5165\u6846\u3001\u5355\u9009\u6846\u3001\u4e0b\u62c9\u5217\u8868\u91cc\uff0c\u6bcf\u5f53\u5185\u5bb9\u53d1\u751f\u53d8\u5316\u65f6\u6211\u4eec\u90fd\u80fd\u83b7\u5f97\u901a\u77e5\u3002<code>onInput</code>\u4f7f\u7528\u5728\u6587\u5b57\u8f93\u5165\u3002<code>onSubmit</code>\u662f\u7528\u5728\u6574\u4e2a\u8868\u5355\u7684\u8f93\u5165\u63d0\u4ea4\uff0c\u5e38\u7528\u5728\u7981\u6b62\u8868\u5355\u7684\u9ed8\u8ba4\u64cd\u4f5c\u3002</p>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_8","title":"\u7126\u70b9\u4e8b\u4ef6","text":"<ul> <li>onFocus</li> <li>onBlur</li> </ul>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#ui","title":"UI\u5143\u7d20\u7c7b","text":"<ul> <li>onScroll</li> </ul> <p>\u6eda\u52a8\u4e8b\u4ef6\u89e6\u53d1\u7684\u65f6\u5019\u4f1a\u89e6\u53d1onScroll\u4e8b\u4ef6</p>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_9","title":"\u6eda\u52a8","text":"<ul> <li>onWheel</li> </ul> <p>\u9f20\u6807\u6eda\u8f6e\u89e6\u53d1\u7684\u4e8b\u4ef6\uff0c\u76d1\u542c\u6eda\u52a8\u5e45\u5ea6\uff0c\u6eda\u52a8\u65b9\u4f4d</p>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_10","title":"\u7ec4\u6210\u4e8b\u4ef6","text":"<ul> <li>onCompositionEnd</li> <li>onCompositionStart</li> <li>onCompositionUpdate</li> </ul>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_11","title":"\u56fe\u7247\u7c7b","text":"<ul> <li>onLoad</li> <li>onError</li> </ul>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_12","title":"\u591a\u5a92\u4f53\u7c7b","text":"<p>onAbort onCanPlay onCanPlayThrough onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting</p>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_13","title":"\u5b9e\u4f8b\u6f14\u793a","text":"<pre><code>var HelloDada = React.createClass({\n  getInitialState:function(){\n    return{\n      name:''\n    };\n  },\n  handleChange:function(e){\n    this.setState({\n      name:e.target.value\n    });\n  },\n  render:function(){\n    return &lt;div&gt;\n      &lt;input onChange={this.handleChange} /&gt;\n    &lt;/div&gt;\n  }\n});\nReactDom.render(&lt;HelloDada/&gt;,document.body);\n</code></pre>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_14","title":"\u4e8b\u4ef6\u6c60","text":"<p>\u865a\u62df\u4e8b\u4ef6\u5bf9\u8c61\u5df2\u7ecf\u88ab\u5408\u5e76\u3002\u8fd9\u610f\u5473\u7740\u865a\u62df\u4e8b\u4ef6\u5bf9\u8c61\u5c06\u88ab\u91cd\u65b0\u4f7f\u7528\uff0c\u800c\u8be5\u4e8b\u4ef6\u56de\u8c03\u88ab\u8c03\u7528\u4e4b\u540e\u6240\u6709\u7684\u5c5e\u6027\u5c06\u65e0\u6548\u3002\u8fd9\u662f\u51fa\u4e8e\u6027\u80fd\u7684\u8003\u8651\u3002\u56e0\u6b64\uff0c\u60a8\u4e0d\u80fd\u4ee5\u5f02\u6b65\u7684\u65b9\u5f0f\u8bbf\u95ee\u4e8b\u4ef6\u3002</p> <pre><code>function onClick(event) {\n  console.log(event); // =&gt;\u65e0\u6548\u7684\u5bf9\u8c61\n  console.log(event.type); // =&gt; \"click\"\n  var eventType = event.type; // =&gt; \"click\"\n\n  setTimeout(function() {\n    console.log(event.type); // =&gt; null\n    console.log(eventType); // =&gt; \"click\"\n  }, 0);\n\n  this.setState({clickEvent: event}); // \u4e0d\u8d77\u4f5c\u7528.this.state.clickEvent \u5c06\u53ea\u5305\u542b\u7a7a\u503c.\n  this.setState({eventType: event.type}); // \u60a8\u4f9d\u7136\u53ef\u4ee5\u5bfc\u51fa\u4e8b\u4ef6\u5c5e\u6027\n}\n</code></pre> <p>\u5982\u679c\u60a8\u60f3\u4ee5\u4e00\u4e2a\u5f02\u6b65\u7684\u65b9\u5f0f\u6765\u8bbf\u95ee\u4e8b\u4ef6\u5c5e\u6027\uff0c\u60a8\u5e94\u8be5\u5bf9\u4e8b\u4ef6\u8c03\u7528<code>event.persist()</code>\u3002\u8fd9\u5c06\u4ece\u4e8b\u4ef6\u6c60\u4e2d\u53d6\u51fa\u5408\u6210\u7684\u4e8b\u4ef6\uff0c\u5e76\u5141\u8bb8\u8be5\u4e8b\u4ef6\u7684\u5f15\u7528\uff0c\u4f7f\u7528\u6237\u7684\u4ee3\u7801\u88ab\u4fdd\u7559\u3002</p>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_15","title":"\u4e8b\u4ef6\u5bf9\u8c61","text":"<p>\u4e8b\u4ef6\u5904\u7406\u5668\u5c06\u4f1a\u4f20\u5165<code>SyntheticEvent</code>\u7684\u5b9e\u4f8b\uff0c\u4e00\u4e2a\u5bf9\u6d4f\u89c8\u5668\u672c\u5730\u4e8b\u4ef6\u7684\u8de8\u6d4f\u89c8\u5668\u5c01\u88c5\u3002\u5b83\u6709\u548c\u6d4f\u89c8\u5668\u672c\u5730\u4e8b\u4ef6\u76f8\u540c\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u5305\u62ec<code>stopPropagation()</code>\u548c<code>preventDefault()</code>\uff0c\u4f46\u662f\u6ca1\u6709\u6d4f\u89c8\u5668\u517c\u5bb9\u95ee\u9898\u3002 \u5982\u679c\u56e0\u4e3a\u4e00\u4e9b\u56e0\u7d20\uff0c\u9700\u8981\u5e95\u5c42\u7684\u6d4f\u89c8\u5668\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u53ea\u8981\u4f7f\u7528<code>nativeEvent</code>\u5c5e\u6027\u5c31\u53ef\u4ee5\u83b7\u53d6\u5230\u5b83\u4e86\u3002</p> <p>\u5bf9\u4e8e v0.14\uff0c\u5728\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u4e2d\u8fd4\u56de false \u5c06\u4e0d\u4f1a\u963b\u6b62\u4e8b\u4ef6\u5192\u6ce1\u3002\u53d6\u800c\u4ee3\u4e4b\u7684\u662f\u5728\u5408\u9002\u7684\u5e94\u7528\u573a\u666f\u4e0b\uff0c\u624b\u52a8\u8c03\u7528<code>e.stopPropagation()</code>\u6216\u8005<code>e.preventDefault()</code>\u3002</p> <pre><code>    handleChange:function(e){\n        console.log(e.target.value);\n    }\n</code></pre> <p>\u5176\u4e2d<code>e</code>\u662f\u4e8b\u4ef6\u5bf9\u8c61<code>target</code>\u662f\u4e8b\u4ef6\u5bf9\u8c61\u7684\u5c5e\u6027</p> <p>(\u4ee5\u4e0b\u5185\u5bb9\u62ec\u53f7\u5185\u4e3a\u7c7b\u578b)</p>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_16","title":"\u901a\u7528\u5c5e\u6027","text":"<ul> <li>bubbles (boolean) \u8868\u793a\u4e8b\u4ef6\u662f\u5426\u5192\u6ce1</li> <li>cancelable(boolean) \u8868\u793a\u4e8b\u4ef6\u662f\u5426\u53ef\u4ee5\u53d6\u6d88</li> <li>currentTarget(DOMEventTarget) \u4e0eTarget\u7c7b\u4f3c\uff0c\u7531\u4e8e\u4e8b\u4ef6\u53ef\u4ee5\u5192\u6ce1\uff0c\u6240\u4ee5\u4e24\u8005\u8868\u793a\u7684\u5185\u5bb9\u662f\u4e0d\u540c\u7684</li> <li>defaultPrevented(boolean) \u8868\u793a\u4e8b\u4ef6\u662f\u5426\u7981\u6b62\u4e86\u9ed8\u8ba4\u884c\u4e3a</li> <li>eventPhase(number) \u8868\u793a\u4e8b\u4ef6\u6240\u5904\u7684\u9636\u6bb5</li> <li>isTrusted(boolean) \u8868\u793a\u4e8b\u4ef6\u662f\u5426\u53ef\u4fe1\u3002\u6240\u8c13\u7684\u53ef\u4fe1\u4e8b\u4ef6\u8868\u793a\u7684\u662f\u7528\u6237\u64cd\u4f5c\u7684\u4e8b\u4ef6\uff0c\u4e0d\u53ef\u4fe1\u4e8b\u4ef6\u5c31\u662f\u901a\u8fc7JS\u4ee3\u7801\u6765\u89e6\u53d1\u7684\u4e8b\u4ef6\u3002</li> <li>nativeEvent(DOMEvent)</li> <li>preventDefault() (void) \u5bf9\u5e94\u7684defaultPrevented\uff0c\u8868\u793a\u7684\u662f\u7981\u6b62\u9ed8\u8ba4\u884c\u4e3a</li> <li>stopPropagaTion() (void) \u5bf9\u5e94\u7684\u662fbubbles\uff0c\u8868\u793a\u7684\u662fsh</li> <li>target(DOMEventTarget)</li> <li>timeStamp(number) \u65f6\u95f4\u6233\uff0c\u4e5f\u5c31\u662f\u4e8b\u4ef6\u89e6\u53d1\u7684\u4e8b\u4ef6</li> <li>type(string) \u4e8b\u4ef6\u7684\u7c7b\u578b</li> </ul>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_17","title":"\u4e0d\u540c\u4e8b\u4ef6\u5bf9\u8c61\u7684\u7279\u6709\u5c5e\u6027","text":""},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_18","title":"\u526a\u5207\u4e8b\u4ef6","text":"<ul> <li>clipboardData(DOMDataTransfer)\u8868\u793a\u62ff\u5230\u7684\u6570\u636e</li> </ul>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_19","title":"\u952e\u76d8\u4e8b\u4ef6","text":"<ul> <li>altKey(boolean) \u8868\u793a\u662f\u5426\u6309\u4e0balt\u952e</li> <li>charCode(Number) \u8868\u793a\u7684\u662f\u6309\u952e\u7684\u5b57\u7b26\u7f16\u7801\uff0c\u53ef\u4ee5\u901a\u8fc7\u7f16\u7801\u6765\u5224\u65ad\u6309\u4e0b\u7684\u662f\u4ec0\u4e48\u952e</li> <li>ctrlKey(boolean) \u8868\u793a\u662f\u5426\u6309\u4e0bctrl\u952e</li> <li>getModifierState(key) (function) \u8868\u793a\u662f\u5426\u6309\u4e0b\u8f85\u52a9\u6309\u952e\uff08\u8f85\u52a9\u6309\u952e\u5c31\u662f\u96f7\u58ebctrl\u3001shift\u7b49\u8f85\u52a9\u6309\u952e\uff09\u53ef\u4ee5\u4f20\u5165\u6309\u952e\u7f16\u7801\u6765\u5224\u65ad\u662f\u5426\u6309\u4e0b</li> <li>key(string) \u5b57\u7b26\u4e32\uff0c\u6309\u4e0b\u7684\u952e</li> <li>keyCode(Number) \u8868\u793a\u90a3\u4e9b\u4e0d\u662f\u5b57\u7b26\u7f16\u7801\u7684\u6309\u952e</li> <li>locale(String) \u8868\u793a\u672c\u5730\u5316\u5f97\u4e00\u4e9b\u5b57\u7b26\u4e32</li> <li>location(number) \u8868\u793a\u4f4d\u7f6e</li> <li>metaKey(boolean) \u8868\u793a\u7684\u662fwin\u7cfb\u7edf\u4e0b\u7684win\u952e\uff0cmac\u7cfb\u7edf\u4e0b\u5bf9\u5e94\u7684command\u952e</li> <li>repeat(boolean) \u8868\u793a\u6309\u952e\u662f\u5426\u91cd\u590d</li> <li>shiftKey(boolean) \u8868\u793a\u662f\u5426\u6309\u4e0bshift</li> <li>which(Number) \u8868\u793a\u7ecf\u8fc7\u901a\u7528\u5316\u5f97charCode\u548ckeyCode</li> </ul>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_20","title":"\u7126\u70b9\u4e8b\u4ef6","text":"<ul> <li>relatedTarget(DOMEventTarget) \u76f8\u5173\u7126\u70b9\u5bf9\u8c61</li> </ul>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_21","title":"\u9f20\u6807\u4e8b\u4ef6","text":"<ul> <li>altKey(boolean)</li> <li>button(Number)</li> <li>buttons(Number)</li> <li>clientX(Number) \u539f\u70b9\u4e3a\u6d4f\u89c8\u5668\u5de6\u4e0a\u89d2</li> <li>clinetY(Number) \u539f\u70b9\u4e3a\u6d4f\u89c8\u5668\u5de6\u4e0a\u89d2</li> <li>ctrlKey(boolean)</li> <li>getModifierState(key) (function)</li> <li>metaKey(boolean)</li> <li>pageX(Number) \u539f\u70b9\u4e3aHTML\u9875\u9762\u7684\u5de6\u4e0a\u89d2</li> <li>pageY(Number) \u539f\u70b9\u4e3aHTML\u9875\u9762\u7684\u5de6\u4e0a\u89d2</li> <li>relatedTarget(DOMEventTarget)</li> <li>screenX(Number) \u539f\u70b9\u4e3a\u663e\u793a\u5668\u7684\u5de6\u4e0a\u89d2</li> <li>screenY(Number) \u539f\u70b9\u4e3a\u663e\u793a\u5668\u7684\u5de6\u4e0a\u89d2</li> <li>shiftKey(boolean)</li> </ul>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_22","title":"\u89e6\u6478\u4e8b\u4ef6","text":"<p>\u4e3a\u4e86\u4f7f\u89e6\u6478\u4e8b\u4ef6\u751f\u6548\uff0c\u5728\u6e32\u67d3\u6240\u6709\u7ec4\u4ef6\u4e4b\u524d\u8c03\u7528 <code>React.initializeTouchEvents(true)</code>\u3002</p> <ul> <li>altKey(boolean)</li> <li>ctrlKey(boolean)</li> <li>getModifierState(key)</li> <li>metaKey(boolean)</li> <li>shiftKey(boolean)</li> <li>changedTouches(DOMTouchList) \u5224\u65ad\u624b\u52bf\u64cd\u4f5c</li> <li>targetTouches(DOMTouchList) \u5224\u65ad\u624b\u52bf\u64cd\u4f5c</li> <li>touches(DOMTouchList) \u5224\u65ad\u624b\u52bf\u64cd\u4f5c</li> </ul>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#ui_1","title":"UI\u5143\u7d20\u4e8b\u4ef6","text":"<ul> <li>detail(Number) \u6eda\u52a8\u7684\u8ddd\u79bb</li> <li>view(DOMAbstractView) \u754c\u9762\uff0c\u89c6\u7a97</li> </ul>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_23","title":"\u9f20\u6807\u6eda\u52a8","text":"<ul> <li>deltaMode(Number) \u53ef\u4ee5\u7406\u89e3\u4e3a\u79fb\u52a8\u7684\u5355\u4f4d</li> <li>deltaX(Number) X\u8f74\u79fb\u52a8\u7684\u76f8\u5bf9\u8ddd\u79bb\u56fa\u5b9a\u503c</li> <li>deltaY(Number) Y\u8f74\u79fb\u52a8\u7684\u76f8\u5bf9\u8ddd\u79bb\u56fa\u5b9a\u503c</li> <li>deltaZ(Number) Z\u8f74\u79fb\u52a8\u7684\u76f8\u5bf9\u8ddd\u79bb\u56fa\u5b9a\u503c</li> </ul>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_24","title":"\u5b9e\u4f8b","text":"<ol> <li>\u6eda\u52a8\u4e8b\u4ef6\u5bf9\u8c61</li> </ol> <pre><code>var HelloDada = React.creatClass({\n  getInitialState:function(){\n    return {\n      backgroundColor:'#FFFFFF'\n    }\n  },\n  handleWheel:function(e){\n    var newColor = (parseInt(this.state.backgroundColor.substr(1),16)+e.deltaY*997).tiString(16);\n    this.setState({\n      backgroundColor:newColor\n    })\n  },\n  render:function(){\n    return &lt;div onWheel={this.handleWheel} style={this.state}&gt;\n      &lt;p&gt;Dada Shuaige&lt;/p&gt;\n    &lt;/div&gt;\n  }\n});\nReactDOM.render(&lt;HelloDada /&gt;,document.body)\n</code></pre> <p>2.\u952e\u76d8\u4e8b\u4ef6\u5bf9\u8c61</p> <pre><code>var Dada =React.creatClass{\n  getInitialState:function(){\n    return{\n      password:''\n    }\n  },\n    handleKeyPress:function(e){\n      this.setState({\n        paddword:this.state.password+e.which\n      });\n    },\n      handleChange:function(e){\n        e.target.value='';\n      },\n        render:function(){\n          return &lt;div&gt;\n            &lt;input onKeyPress={this.handleKeyPress} onChange={this.handleChange} /&gt;\n            &lt;p style={{\n                'display':this.state.password.indexOf('495051') &gt;=0?'block':'none'\n              }}&gt;Dada handsomeboy&lt;/p&gt;\n          &lt;/div&gt;\n        }\n};\nReactDOM.render(&lt;Dada /&gt;,document.body)\n</code></pre>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_25","title":"\u4e8b\u4ef6\u4e0e\u72b6\u6001\u5173\u8054","text":"<p>\u72b6\u6001\u4e0d\u4ec5\u4ec5\u5b9e\u73b0\u4e86\u7ec4\u4ef6\u5185\u90e8\u7ed3\u679c\u7684\u6e05\u6670\u5bf9\u5e94\uff0c\u8fd8\u5b9e\u73b0\u4e86\u7ec4\u4ef6\u4e0e\u7528\u6237\u4e4b\u95f4\u7684\u4ea4\u4e92\uff0c\u4f7f\u7528\u6237\u4e0e\u7ec4\u4ef6\u7684\u884c\u4e3a\u7d27\u7d27\u7ed3\u5408\u8d77\u6765</p> <pre><code>handleChange:function(e){\n    this.setState({Dada:e.target.value});\n}\n</code></pre> <p>this.setState\u8bbe\u7f6e\u72b6\u6001</p>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_26","title":"\u5b9e\u4f8b","text":"<pre><code>var Dada =React.creatClass({\n  getInitialState:function(){\n    return{\n      x:0,\n      y:0\n    }\n  },\n  handleMouseMove:function(e){\n    this.setState({\n      x:e.clientX,\n      y:e.clientY\n    });\n  },\n  render:function(){\n    return &lt;div onMouseMove={this.handleMouseMove} style={{width:'200px',height:'200px',backgroundColor:'#999'}}&gt;\n      {this.state.x+'.'+this.state.y}\n    &lt;/div&gt;\n  }\n});\nReactDOM.render(&lt;Dada /&gt;,document.body)\n</code></pre>"},{"location":"react/React%E4%BA%8B%E4%BB%B6/#_27","title":"\u5c0f\u7ed3","text":"<p>\u672c\u8282\u4e3b\u8981\u4ecb\u7ecd\u4e86React\u7684\u4e8b\u4ef6\u7cfb\u7edf\uff0c\u5f88\u8be6\u7ec6\u7684\u5217\u51fa\u4e86\u6bcf\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\u4e0e\u4e8b\u4ef6\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u67e5\u627e\u7684\u53c2\u8003\u3002</p> <p>react\u5bf9\u4e8e\u6bcf\u4e2ahtml\u5143\u7d20\u90fd\u6dfb\u52a0\u4e86\u5f88\u591a\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\uff0c\u8fd9\u4e9b\u4e8b\u4ef6\u7f51\u4e0a\u4e00\u641c\u5c31\u90fd\u51fa\u6765\u4e86\uff0c\u8fd9\u91cc\u7b80\u5355\u8bf4\u4e0b\u5728react\u4e2d\u5229\u7528js\u8fdb\u884c\u64cd\u4f5c\u7c7b\u4f3c\u4e8ecss\u91cc\u7684hover\u6240\u4f7f\u7528\u7684\u4e8b\u4ef6\u3002</p> <p>\u6bd4\u5982\u8fd9\u6837\u4e00\u4e2a\u9700\u6c42\uff0c\u6709\u4ee5\u4e0b3\u4e2adiv\uff1a</p> <pre><code>&lt;div class=\"a abc\"&gt;a&lt;/div&gt;\n&lt;div class=\"b abc\"&gt;b&lt;/div&gt;\n&lt;div class=\"c abc\"&gt;c&lt;/div&gt;123\n</code></pre> <p>\u7f51\u4e0a\u5f88\u591a\u4f8b\u5b50\u53ea\u662f\u7b80\u5355\u8bf4\u4e86\u4e0b\u4e00\u4e2a\u7ec4\u4ef6\u662f\u5982\u4f55\u64cd\u4f5c\u7c7b\u4f3c\u4e8e:hover\u9009\u62e9\u5668\uff0c\u6ca1\u9519\u5c31\u662f\u4f7f\u7528onMouseEnter\u548conMouseLeave\uff0c\u90a3\u4e48\u73b0\u5728\u6211\u8981\u5b9e\u73b0\u8fd9\u6837\u4e00\u4e2a\u6548\u679c\uff1a  \\1. \u9f20\u6807\u4e0d\u5728\u8fd9\u4e09\u4e2adiv\u4e0a\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u4e09\u4e2adiv\u91cc\u7684\u5b57\u4f53\u663e\u793a\u7ea2\u8272  \\2. \u9f20\u6807\u653e\u5728class\u4e3aa\u7684\u7ec4\u4ef6\u4e0a\u7684\u65f6\u5019\uff0c\u5b83\u91cc\u9762\u7684\u5b57\u4f53\u989c\u8272\u4e0d\u53d8\uff0c\u5176\u4ed6\u7684div\u53d8\u6210\u7eff\u8272</p> <p>\u4e5f\u8bb8\u662f\u6211\u4ee5\u524d\u5199\u524d\u7aef\u7684\u65f6\u5019\u7528\u4e60\u60ef\u4e86JQuery\uff0c\u5904\u5904\u90fd\u662fdom\u64cd\u4f5c\uff0c\u73b0\u5728\u4f7f\u7528react\u7684\u65f6\u5019\uff0c\u4e00\u65f6\u4e4b\u95f4\u8f6c\u4e0d\u8fc7\u6765\u5f2f\uff0c\u5c31\u597d\u50cf\u4ece\u9762\u5411\u8fc7\u7a0b\u7f16\u7a0b\u8fc7\u5ea6\u5230\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u4e00\u6837\uff0c\u6211\u60f3\u4e86\u4e00\u4e0b\uff0c\u60f3\u60f3react\u6539\u53d8\u9875\u9762\u7684\u5185\u5bb9\u662f\u6839\u636e\u72b6\u6001\uff0c\u4e8e\u662f\u6211\u5229\u7528onMouseEnter\u548conMouseLeave\u4e8b\u4ef6\u6765\u52a8\u6001\u6539\u53d8\u72b6\u6001hover\uff0c\u7136\u540e\u6839\u636ehover\u7684\u72b6\u6001\u503c\u53bb\u7ed9\u8fd9\u4e09\u4e2adiv\u5206\u522b\u6dfb\u52a0\u4e00\u4e2aclass\uff0c\u8fd9\u91cc\u7684class\u6837\u5f0f\u5728css\u6587\u672c\u4e2d\u8981\u5199\u5728\u5176\u4ed6class\u7684\u4e0b\u9762\uff0c\u56e0\u4e3acss\u662f\u81ea\u4e0a\u800c\u4e0b\u7684\u3002</p> <p>\u6211\u7684\u4ee3\u7801\u5982\u4e0b\uff1a  reactjs\u4e2d\u7684\u90e8\u5206\u4ee3\u7801</p> <pre><code>construction(props){\n  super(props);\n  this.state={\n    hover: false,\n  }\n  this.onMouseEnter = this.onMouseEnter.bind(this);\n  this.onMouseLeave = this.onMouseLeave.bind(this);\n}\n\nonMouseEnter(){\n  this.setState({\n    hover: true,\n  });\n}\n\nonMouseLeave(){\n  this.setState({\n    hover: false,\n  })\n}\n\nrender(){\n  return &lt;div&gt;\n    &lt;div className={style.a + ' ' + style.abc + ' ' + (this.state.hover?style.aHover:'')}&gt;a&lt;/div&gt;\n    &lt;div className={style.b + ' ' + style.abc + ' ' + (this.state.hover?style.bHover:'')}&gt;b&lt;/div&gt;\n    &lt;div className={style.c + ' ' + style.abc + ' ' + (this.state.hover?style.b=cHover:'')}&gt;c&lt;/div&gt;\n  &lt;/div&gt;;\n}\n</code></pre> <p>css\u7684\u76f8\u5173\u6837\u5f0f</p> <pre><code>.abc{\n  //\u516c\u5171\u7684\u6837\u5f0f\n  color: red;\n}\n\n//\u5199\u5728\u5176\u4ed6class\u7684\u6837\u5f0f\u8868\u7684\u4e0b\u9762\n.aHover,.bHover,.cHover{\n  color: green;\n}\n\n.aHover:hover,.bHover:hover,.cHover:hover{\n  color: red;\n}\n</code></pre> <p>\u4e5f\u8bb8\u6709\u7684\u4eba\u4f1a\u60f3\u5230\u7528css\u4e2d\u7684+\u9009\u62e9\u5668\uff0c\u6bd4\u5982\uff1a.abc:hover + .abc{}\uff0c\u662f\u7684\uff0c\u5982\u679c\u53ea\u662f\u50cf\u8fd9\u91cc\u5199\u7684\u9700\u6c42\u7684\u8bdd\u662f\u53ef\u4ee5\u5b9e\u73b0\uff0c\u5982\u679c\u6362\u4e00\u4e0b\uff0c\u6211\u9f20\u6807\u653e\u5728b\u4e0a\uff0cb\u663e\u793a\u7ea2\u8272\uff0c\u5176\u4ed6\u663e\u793a\u7eff\u8272\uff0c\u90a3\u4e48+\u9009\u62e9\u5668\u5c31\u65e0\u529b\u4e86\uff0c\u56e0\u4e3acss\u662f\u81ea\u4e0a\u800c\u4e0b\uff0c\u4e0d\u53ef\u9006\u7684\uff0c\u8bf4\u662f+\u662f\u5144\u5f1f\u7ea7\u9009\u62e9\u5668\uff0c\u6211\u770b\u4e5f\u5c31\u662f\u5f1f\u5f1f\u7ea7\u9009\u62e9\u5668\uff0c\u5b83\u53ea\u80fd\u5b9a\u4f4d\u5230\u4f60\u5f53\u524d\u6807\u7b7e\u540e\u9762\u540c\u7ea7\u7684\u6807\u7b7e\u5143\u7d20\u3002</p> <p>*\u6ce8\uff1a\u56e0\u4e3a\u662freact\uff0c\u6240\u4ee5\u4e0d\u5efa\u8bae\u4f7f\u7528js\u5bf9dom\u8fdb\u884c\u76f4\u63a5\u64cd\u4f5c\u3001\u5229\u7528css\u7684expression</p>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/","title":"React\u7ec4\u4ef6\u521b\u5efa","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6966  \u9605\u8bfb14\u5206\u949f</p>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#reactcreateclass","title":"React.createClass","text":"<p>\u8fd9\u662f\u65e7\u7248\u672c\u7684api\uff0c\u4f7f\u7528React.createClass\u521b\u5efa\u7ec4\u4ef6\uff0c\u914d\u5957\u7684\u4e00\u4e9bapi\uff0c\u6709getDefaultProps, getinitialstate\u3002\u5b98\u65b9\u5df2\u7ecf\u4e0d\u5efa\u8bae\u4f7f\u7528\u4e86\uff0c\u4f7f\u7528\u4e0b\u9762\u65b0\u7684api\u66ff\u4ee3\u3002</p>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#es6-classes","title":"ES6 classes","text":"<pre><code>import * as React from 'react';\n\nclass Page extends React.Component {  \n  render() {    \n    return (&lt;div&gt;      home    &lt;/div&gt;)  \n  }\n}\n</code></pre> <p>\u8fd9\u662f\u4e00\u4e2a\u5b9e\u73b0\u4e86render\u65b9\u6cd5\u7684class\u3002\u4e5f\u662f\u4e00\u4e2a\u57fa\u672c\u7684react\u7ec4\u4ef6\u3002</p>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_1","title":"\u65e0\u72b6\u6001\u51fd\u6570","text":"<pre><code>function Button(props, context) {    \n  return (        \n    &lt;button&gt;            \n      &lt;em&gt;{props.text}&lt;/em&gt;            \n      &lt;span&gt;{context.name}&lt;/span&gt;        \n    &lt;/button&gt;    \n  );\n}\n</code></pre> <p>\u7eaf\u51fd\u6570,\u4e0d\u5b58\u5728state\uff0c\u53ea\u63a5\u53d7props\u548ccontext\u3002\u7eaf\u51fd\u6570\u6709\u4f18\u70b9\uff0c\u4f18\u70b9\u5c31\u662f\u6613\u4e8e\u6d4b\u8bd5\uff0c\u65e0\u526f\u4f5c\u7528\u3002</p>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#react_1","title":"React\u6570\u636e\u6d41","text":"<p>State \u548c props \u5df2\u7ecf\u719f\u6089\uff0c\u6240\u4ee5\u4e0d\u4ecb\u7ecd\u4e86\u3002</p>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_2","title":"\u4e8b\u4ef6","text":"<p>react\u91cc\u9762\u7684\u7528\u6237\u4e8b\u4ef6\u90fd\u662f\u5408\u6210\u4e8b\u4ef6\uff0c\u88abReact\u5c01\u88c5\u8fc7\u3002\u5185\u90e8\u4f7f\u7528\u7684\u8fd8\u662f\u4e8b\u4ef6\u7684\u59d4\u6258\u673a\u5236\u3002 \u5e38\u7528\u7684\u4e8b\u4ef6\u6709\u70b9\u51fb\u4e8b\u4ef6onClick\uff0cinput\u7684onChange\u4e8b\u4ef6\u7b49\uff0c\u5b98\u7f51\u90fd\u53ef\u4ee5\u67e5\u5230\u3002</p>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#this","title":"\u5408\u6210\u4e8b\u4ef6\u7684this\u6307\u5411\u95ee\u9898","text":"<p>\u5c31\u50cf\u4e0a\u6587\u4e00\u6837\uff0c\u6211\u4eec\u7ed1\u5b9a\u4e8b\u4ef6\u7684\u65b9\u5f0f\u5f88\u5947\u602a\uff0c\u4f7f\u7528\u4e86bind\u6765\u663e\u793a\u7ed1\u5b9athis\u7684\u6307\u5411\u3002\u56e0\u4e3a\u4f20\u9012\u5230\u7ec4\u4ef6\u5185\u90e8\u7684\u53ea\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u800c\u8131\u79bb\u4e86\u5f53\u524d\u5bf9\u8c61\u7684\u51fd\u6570\u7684this\u6307\u5411\u662f\u4e0d\u80fd\u6307\u5230\u5f53\u524d\u7ec4\u4ef6\u7684\uff0c\u9700\u8981\u663e\u793a\u6307\u5b9a\u3002</p>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#bind","title":"\u901a\u8fc7bind","text":"<pre><code>&lt;button onClick={this.update.bind(this)}&gt;\u66f4\u65b0&lt;/button&gt;\n</code></pre>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_3","title":"\u6784\u9020\u5668\u5185\u90e8\u6307\u5b9a","text":"<pre><code>import * as React from 'react';\n\nclass Child extends React.Component {  \n  constructor(props) {     \n    super(props)      \n    this.update = this.update.bind(this)  \n  }\n\n  update() {      \n    this.props.onChange('\u5c0f\u660e\u540d\u5b57\u6539\u4e86')  \n  }  \n\n  render() {    \n    return (\n      &lt;div&gt;      \n        {this.props.parentName}      \n        &lt;button onClick={this.update}&gt;\u66f4\u65b0&lt;/button&gt;    \n      &lt;/div&gt;\n    )  \n  }\n}\n</code></pre>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_4","title":"\u7bad\u5934\u51fd\u6570","text":"<pre><code>import * as React from 'react';\n\nclass Child extends React.Component {  \n  update =&gt; e = {      \n    this.props.onChange('\u5c0f\u660e\u540d\u5b57\u6539\u4e86')  \n    } \n    render() {    \n    return (&lt;div&gt;      \n        {this.props.parentName}      \n        &lt;button onClick={this.update}&gt;\u66f4\u65b0&lt;/button&gt;    \n     &lt;/div&gt;)  \n  }\n}\n</code></pre>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_5","title":"\u88c5\u9970\u5668","text":"<pre><code>import * as React from 'react'\n\nclass Child extends React.Component {  \n  constructor(props) {     \n    super(props)   \n  }\n\n  @autoBind  \n\n  update() {      \n    this.props.onChange('\u5c0f\u660e\u540d\u5b57\u6539\u4e86')  \n  }  \n\n  render() {    \n    return (&lt;div&gt;      \n        {this.props.parentName}      \n        &lt;button onClick={this.update}&gt;\u66f4\u65b0&lt;/button&gt;    \n      &lt;/div&gt;\n        )  \n  }\n}\n</code></pre> <p>\u88c5\u9970\u5668\u662fes7\u8bed\u6cd5\uff0c\u5982\u679c\u9700\u8981\u4f7f\u7528\u9700\u8981\u5b89\u88c5\u5bf9\u5e94\u7684babel\uff1apresent\u7248\u672c\u3002\u800ctypescript\u5219\u539f\u751f\u652f\u6301\u3002</p> <p>autoBind\u539f\u7406\u5927\u6982\u5c31\u662f\u52ab\u6301get\u65b9\u6cd5\uff0cget\u65f6\u6539\u53d8this\u6307\u5411</p>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#evnt","title":"\u5982\u4f55\u83b7\u5f97evnt\u539f\u751f\u4e8b\u4ef6","text":"<p>\u901a\u8fc7e.nativeEvent\u83b7\u53d6\u539f\u751f\u4e8b\u4ef6\u5bf9\u8c61</p> <pre><code>import * as React from 'react'\n\nclass Child extends React.Component {  \n  constructor(props) {     \n    super(props)      \n    this.update = this.update.bind(this)  \n  }  \n\n  update(e) {      \n    console.log(e.nativeEvent)  \n  }  \n\n  render() {    \n    return (\n      &lt;div&gt;      \n        &lt;button onClick={this.update}&gt;\u66f4\u65b0&lt;/button&gt;    \n      &lt;/div&gt;\n    )  \n  }\n}\n</code></pre>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_6","title":"\u89e3\u51b3\u5192\u6ce1\u548c\u53d6\u6d88\u9ed8\u8ba4\u4e8b\u4ef6","text":"<pre><code>e.preventDefault() //\u53d6\u6d88\u9ed8\u8ba4\u884c\u4e3a\n</code></pre> <pre><code>e.stopPropagation() //\u53d6\u6d88\u5192\u6ce1\n</code></pre> <p>\u8fd9\u4e2a\u548c\u6d4f\u89c8\u5668\u539f\u751f\u4e8b\u4ef6\u5904\u7406\u65b9\u6848\u662f\u4e00\u81f4\u7684\u3002\u95ee\u9898\u662f\u6211\u4eec\u53ea\u53ef\u4ee5\u8c03\u5408\u6210\u4e8b\u4ef6\u7684 <code>e</code>\u7684\u65b9\u6cd5\uff0c\u4e0d\u53ef\u4ee5\u901a\u8fc7 <code>e.nativeEvent</code>\u65b9\u6cd5\u505a\u8fd9\u4e9b\u64cd\u4f5c\uff0c\u539f\u56e0\u662f\u4e0a\u6587\u8bb2\u8fc7\u7684\u59d4\u6258\u3002</p>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_7","title":"\u5224\u65ad\u56de\u6587\u5b57\u7b26\u4e32 \ud83d\udc1b","text":"<p>\u56de\u6587\uff1a\u56de\u6587\u5b57\u7b26\u4e32\u662f\u6307\u6b63\u7740\u8bfb\u548c\u53cd\u7740\u8bfb\u8be5\u5b57\u7b26\u4e32\u90fd\u662f\u76f8\u540c\u62fc\u5199</p> <pre><code>function palindrome(str){\n    // \\W\u5339\u914d\u4efb\u4f55\u975e\u5355\u8bcd\u5b57\u7b26\u3002\u7b49\u4ef7\u4e8e\u201c[^A-Za-z0-9_]\u201d\u3002\n    var re = /[\\W_]/g;\n    // \u5c06\u5b57\u7b26\u4e32\u53d8\u6210\u5c0f\u5199\u5b57\u7b26,\u5e76\u5e72\u6389\u9664\u5b57\u6bcd\u6570\u5b57\u5916\u7684\u5b57\u7b26\n    var lowRegStr = str.toLowerCase().replace(re,'');\n    // \u5982\u679c\u5b57\u7b26\u4e32lowRegStr\u7684length\u957f\u5ea6\u4e3a0\u65f6\uff0c\u5b57\u7b26\u4e32\u5373\u662fpalindrome\n    if(lowRegStr.length===0)\n        return true;\n    // \u5982\u679c\u5b57\u7b26\u4e32\u7684\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u4e0d\u76f8\u540c\uff0c\u90a3\u4e48\u5b57\u7b26\u4e32\u5c31\u4e0d\u662fpalindrome\n    if(lowRegStr[0]!=lowRegStr[lowRegStr.length-1])\n        return false;\n    //\u9012\u5f52\n    return palindrome(lowRegStr.slice(1,lowRegStr.length-1));\n}\n</code></pre>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_8","title":"\u6570\u7ec4\u53bb\u91cd \ud83d\udc1b","text":"<pre><code>function unique(arr) {\n    var obj = {}\n    var data = []\n    for (var i in arr) {\n        if (!obj[arr[i]]) {\n            obj[arr[i]] = true;\n            data.push(arr[i]);\n        }\n    }\n    return data;\n}\n</code></pre>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#reactdom","title":"ReactDom","text":""},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#ref","title":"ref","text":"<p>\u7279\u6b8a\u7684props\uff0cref\u7ec4\u4ef6\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u73b0\u5728\u5b98\u65b9\u4e5f\u4e0d\u5efa\u8bae\u76f4\u63a5\u7ed9ref\u8d4b\u503c\uff0c\u9700\u8981\u901a\u8fc7\u51fd\u6570\u6765\u8d4b\u503c\u3002</p> <pre><code>ReactDOM.render((  \n  &lt;div&gt;    \n    &lt;Calendar ref={ref =&gt; this.c = ref} any-ss=\"text\"/&gt;  \n  &lt;/div&gt;), document.getElementById('root'))\n</code></pre>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#render","title":"render","text":"<p>\u9876\u5c42api,\u53ea\u6709\u5728\u6839\u7ec4\u4ef6\u65f6\u5019\u624d\u9700\u8981\u4f7f\u7528\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662fComponent,\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662fdom\u8282\u70b9</p>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#finddomnode","title":"findDOMNode","text":"<p>\u901a\u8fc7\u4f20\u5165component\u5b9e\u4f8b\u83b7\u53d6\u6b64component\u6839dom\u8282\u70b9\uff0c\u5728\u8fd9\u91cc\u53ef\u4ee5\u53bbdom\u8282\u70b9\u8fdb\u884c\u64cd\u4f5c\u4e86\uff0c\u867d\u7136\u6781\u5176\u4e0d\u5efa\u8bae\u8fd9\u4e48\u505a\uff0c\u4f46\u662f\u4f60\u786e\u5b9e\u53ef\u4ee5\u505a\u3002</p>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#unmountcomponentatnode","title":"unmountComponentAtNode","text":"<p>\u5378\u8f7d\u6b64\u7ec4\u4ef6\uff0c\u5e76\u9500\u6bc1\u7ec4\u4ef6state\u548c\u4e8b\u4ef6</p> <p>\u63a5\u6536\u7ec4\u4ef6\u7684\u5f15\u7528\uff0c\u4e5f\u5c31\u662fref\u3002\u4ec5\u4ec5\u662f\u53d6\u6d88\u6302\u8f7d\uff0c\u7ec4\u4ef6\u8fd8\u5728\uff0c\u5982\u679c\u9700\u8981\u5f7b\u5e95\u6e05\u9664\u7684\u8bdd\uff0c\u9700\u8981\u624b\u52a8\u5220\u6389\u6b64dom\u3002</p>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_9","title":"\u7ec4\u4ef6\u4e4b\u95f4\u901a\u8baf","text":""},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_10","title":"\u7236\u5b50\u4e4b\u95f4\u901a\u8baf","text":"<p>\u7236\u5b50\u4e4b\u95f4\u901a\u8baf\u53c8\u5206\u4e3a\u7236-&gt;\u5b50\uff0c\u5b50-&gt;\u7236\u3002</p> <p>\u56e0\u4e3areact\u5355\u5411\u6570\u636e\u6d41\u5411\u7684\u7f18\u6545\uff0c\u7236-&gt;\u5b50\u901a\u4fe1\u7684\u8bdd\u76f4\u63a5\u901a\u8fc7props\u3002\u7236\u7ec4\u4ef6\u6570\u636e\u53d8\u52a8\uff0c\u76f4\u63a5\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\u3002</p> <p>\u5b50-&gt;\u7236\u7ec4\u4ef6\u4e4b\u95f4\u5c31\u8981\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u6765\u901a\u4fe1\u4e86\uff0c\u7236\u7ec4\u4ef6\u4f20\u9012\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u7ed9\u5b50\u7ec4\u4ef6\uff0c\u5b50\u7ec4\u4ef6\u901a\u8fc7\u8c03\u7528\u6b64\u51fd\u6570\u7684\u65b9\u5f0f\u901a\u77e5\u7236\u7ec4\u4ef6\u901a\u4fe1\u3002</p>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_11","title":"\u8de8\u7ea7\u7ec4\u4ef6\u901a\u4fe1","text":"<p>react\u4e3a\u4e86\u5b9e\u73b0\u7956\u5148\u7ec4\u4ef6\u548c\u540e\u8f88\u7ec4\u4ef6\u4e4b\u95f4\u7684\u901a\u4fe1\u95ee\u9898\uff0c\u5f15\u5165\u4e86contextApi\u3002</p> <p>MessageList\u4e2d\u7684color\u4f1a\u81ea\u52a8\u66f4\u65b0\u5230\u513f\u5b59\u7ec4\u4ef6\u91cc\u9762\u53bb\uff0c\u5b9e\u73b0\u8de8\u7ea7\u901a\u4fe1\u3002\u5982\u679c\u9700\u8981\u53cd\u8fc7\u6765\u901a\u4fe1\uff0c\u5219\u9700\u8981\u501f\u52a9\u5176\u4ed6\u5de5\u5177\uff0c\u6bd4\u5982\u4e8b\u4ef6\u7cfb\u7edf(Pub/Sub)\u3002</p>"},{"location":"react/React%E6%95%B0%E6%8D%AE%E6%B5%81/#_12","title":"\u6ca1\u6709\u5d4c\u5957\u5173\u7cfb\u7ec4\u4ef6\u4e4b\u95f4\u901a\u4fe1","text":"<p>\u7ec4\u4ef6\u4e4b\u95f4\u901a\u4fe1\u6700\u4e3b\u6d41\u7684\u4e24\u79cd\u65b9\u5f0f\u8131\u80ce\u4e8e\u89c2\u5bdf\u8fd9\u6a21\u5f0f\u548c\u4e2d\u4ecb\u8005\u6a21\u5f0f\u8fd9\u4e24\u79cd\u3002</p> <p>\u8de8\u7ea7\u4e4b\u95f4\u901a\u4fe1\u73b0\u5728\u6700\u4e3b\u6d41\u7684\u65b9\u5f0f\u5c31\u662f\u89c2\u5bdf\u8fd9\u6a21\u5f0f\u7684\u5b9e\u73b0Pub/Sub\uff0creact\u793e\u533a\u4e2d\u7684redux\u4e5f\u662f\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u5b9e\u73b0\u7684\u3002</p> <p>vue2.X\u7248\u672c\u4e5f\u53bb\u6389\u4e86\u8de8\u7ec4\u4ef6\u901a\u4fe1\u7684\u529f\u80fd\u3002\u90a3\u5982\u4f55\u57282.x\u4e2d\u505a\u8de8\u7ec4\u4ef6\u901a\u4fe1\u5462\uff1f\u5982\u679c\u4e0d\u501f\u52a9\u5916\u529b\u7684\u8bdd\uff0c\u662f\u4e0d\u662f\u53ef\u4ee5\u4f7f\u7528 <code>$ parent</code> \u548c <code>$ childen</code> \u7684\u9012\u5f52\u8c03\u7528\u5b9e\u73b0\u5168\u5c40\u7ec4\u4ef6\u901a\u4fe1\u5462\uff1f\u6bd4\u5982\u6211\u60f3\u5e7f\u64ad\u4e00\u4e2a\u4e8b\u4ef6\uff0c\u6211\u5c31\u67e5\u627e\u5230\u6240\u6709\u7684\u5b50\u7ec4\u4ef6\uff0c\u6328\u4e2a\u89e6\u53d1<code>$emit(xx)</code>\uff0c\u4e0a\u62a5\u4e00\u4e2a\u4e8b\u4ef6\u4e5f\u662f\u540c\u7406\uff0c\u53ea\u4e0d\u8fc7\u9700\u8981\u67e5\u627e\u6240\u6709\u7684$parent\u3002\u7ed3\u5408\u8d77\u6765\u5c31\u53ef\u4ee5\u5b9e\u73b0\u7ec4\u4ef6\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u79cd\u67e5\u627e\u6548\u7387\u6bd4\u8f83\u4f4e\uff0c\u9700\u8981\u614e\u7528\u548c\u4f18\u5316</p>"},{"location":"react/React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F--getDerivedStateFromProps/","title":"React\u65b0\u751f\u547d\u5468\u671f--getDerivedStateFromProps","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9566  \u9605\u8bfb20\u5206\u949f</p>"},{"location":"react/React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F--getDerivedStateFromProps/#_1","title":"\u65b0\u7684\u751f\u547d\u5468\u671f\u8fc7\u7a0b","text":"<p>\u5148\u6765\u770b\u770b\u6700\u65b0\u7248\u672creact\u7684\u751f\u547d\u5468\u671f\u56fe\uff1a</p> <p></p> <p>image.png</p> <p>\u770b\u770b\u5b83\u7684\u53d8\u5316</p> <p>\u65b0\u589e\uff1agetDerivedStateFromProps\uff0cgetSnapshotBeforeUpdate UNSAFE\uff1aUNSAFE_componentWillMount\uff0cUNSAFE_componentWillUpdate\uff0cUNSAFE_componentWillReceiveProps</p>"},{"location":"react/React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F--getDerivedStateFromProps/#getderivedstatefromprops","title":"getDerivedStateFromProps","text":"<p>React\u751f\u547d\u5468\u671f\u7684\u547d\u540d\u4e00\u76f4\u90fd\u662f\u975e\u5e38\u8bed\u4e49\u5316\u7684\uff0c\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u7684\u610f\u601d\u5c31\u662f<code>\u4eceprops\u4e2d\u83b7\u53d6state</code>\uff0c\u53ef\u4ee5\u8bf4\u662f\u592a\u7b80\u5355\u6613\u61c2\u4e86\u3002</p> <p>\u53ef\u4ee5\u8bf4\uff0c\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u7684\u529f\u80fd\u5b9e\u9645\u4e0a\u5c31\u662f\u5c06<code>\u4f20\u5165\u7684props\u6620\u5c04\u5230state\u4e0a\u9762</code>\u3002</p> <p>\u7531\u4e8e16.4\u7684\u4fee\u6539\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f1a\u5728<code>\u6bcf\u6b21re-rendering\u4e4b\u524d\u88ab\u8c03\u7528</code>\uff0c\u8fd9\u610f\u5473\u7740\u4ec0\u4e48\u5462\uff1f</p> <p>\u610f\u5473\u7740\u5373\u4f7f\u4f60\u7684props\u6ca1\u6709\u4efb\u4f55\u53d8\u5316\uff0c\u800c\u662f\u7236state\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u5bfc\u81f4\u5b50\u7ec4\u4ef6\u53d1\u751f\u4e86re-render\uff0c\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\u4f9d\u7136\u4f1a\u88ab\u8c03\u7528\u3002\u770b\u4f3c\u4e00\u4e2a\u975e\u5e38\u5c0f\u7684\u4fee\u6539\uff0c\u5374\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5f88\u591a\u9690\u542b\u7684\u95ee\u9898\u3002</p>"},{"location":"react/React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F--getDerivedStateFromProps/#_2","title":"\u4f7f\u7528","text":"<p>\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\u662f\u4e3a\u4e86\u66ff\u4ee3<code>componentWillReceiveProps</code>\u5b58\u5728\u7684\uff0c\u6240\u4ee5\u5728\u4f60\u9700\u8981\u4f7f\u7528<code>componentWillReceiveProps</code>\u7684\u65f6\u5019\uff0c\u5c31\u53ef\u4ee5\u8003\u8651\u4f7f\u7528<code>getDerivedStateFromProps</code>\u6765\u8fdb\u884c\u66ff\u4ee3\u4e86\u3002</p> <p>\u4e24\u8005\u7684\u53c2\u6570\u662f\u4e0d\u76f8\u540c\u7684\uff0c\u800c<code>getDerivedStateFromProps</code>\u662f\u4e00\u4e2a\u9759\u6001\u51fd\u6570\uff0c\u4e5f\u5c31\u662f\u8fd9\u4e2a\u51fd\u6570\u4e0d\u80fd\u901a\u8fc7this\u8bbf\u95ee\u5230class\u7684\u5c5e\u6027\uff0c\u4e5f\u5e76\u4e0d\u63a8\u8350\u76f4\u63a5\u8bbf\u95ee\u5c5e\u6027\u3002\u800c\u662f\u5e94\u8be5\u901a\u8fc7\u53c2\u6570\u63d0\u4f9b\u7684nextProps\u4ee5\u53caprevState\u6765\u8fdb\u884c\u5224\u65ad\uff0c\u6839\u636e\u65b0\u4f20\u5165\u7684props\u6765\u6620\u5c04\u5230state\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679cprops\u4f20\u5165\u7684\u5185\u5bb9\u4e0d\u9700\u8981\u5f71\u54cd\u5230\u4f60\u7684state\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u8fd4\u56de\u4e00\u4e2anull\uff0c\u8fd9\u4e2a\u8fd4\u56de\u503c\u662f\u5fc5\u987b\u7684\uff0c\u6240\u4ee5\u5c3d\u91cf\u5c06\u5176\u5199\u5230\u51fd\u6570\u7684\u672b\u5c3e\u3002</p> <pre><code>static getDerivedStateFromProps(nextProps, prevState) {\n    const {type} = nextProps;\n    // \u5f53\u4f20\u5165\u7684type\u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019\uff0c\u66f4\u65b0state\n    if (type !== prevState.type) {\n        return {\n            type,\n        };\n    }\n    // \u5426\u5219\uff0c\u5bf9\u4e8estate\u4e0d\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c\n    return null;\n}\n</code></pre>"},{"location":"react/React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F--getDerivedStateFromProps/#case1-","title":"Case1 -- \u591a\u6765\u6e90\u7684\u4e0d\u540c\u72b6\u6001","text":"<p>\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u5217\u8868\uff0c\u8fd9\u4e2a\u5217\u8868\u53d7\u5230\u9875\u9762\u4e3b\u4f53\uff0c\u4e5f\u5c31\u662f\u6839\u7ec4\u4ef6\u7684\u9a71\u52a8\uff0c\u4e5f\u53d7\u5230\u5176\u672c\u8eab\u6570\u636e\u52a0\u8f7d\u7684\u9a71\u52a8\u3002</p> <p>\u56e0\u4e3a\u8fd9\u4e2a\u9875\u9762\u5728\u5f00\u59cb\u6e32\u67d3\u7684\u65f6\u5019\uff0c\u6240\u6709\u7684\u6570\u636e\u8bf7\u6c42\u53ef\u80fd\u662f\u901a\u8fc7batch\u8fdb\u884c\u7684\uff0c\u6240\u4ee5\u8981\u5728\u6839\u7ec4\u4ef6\u8fdb\u884c\u7edf\u4e00\u5904\u7406\uff0c\u800c\u5176\u5217\u8868\u7684\u5206\u9875\u64cd\u4f5c\uff0c\u5219\u662f\u7531\u5176\u672c\u8eab\u63a7\u5236\u3002</p> <p>\u8fd9\u4f1a\u51fa\u73b0\u4ec0\u4e48\u95ee\u9898\u5462\uff1f\u8be5\u5217\u8868\u7684\u72b6\u6001\u53d7\u5230\u4e24\u65b9\u9762\u7684\u63a7\u5236\uff0c\u4e5f\u5c31\u662fre-render\u53ef\u80fd\u7531props\u9a71\u52a8\uff0c\u4e5f\u53ef\u80fd\u7531state\u9a71\u52a8\u3002\u8fd9\u5c31\u5bfc\u81f4\u4e86getDerivedStateFromProps\u4f1a\u5728\u4e24\u79cd\u9a71\u52a8\u72b6\u6001\u4e0b\u88ab\u91cd\u65b0\u6e32\u67d3\u3002</p> <p>\u5f53\u8fd9\u4e2a\u51fd\u6570\u88ab\u591a\u6b21\u8c03\u7528\u7684\u65f6\u5019\uff0c\u5c31\u9700\u8981\u6ce8\u610f\u5230\uff0cstate\u548cprops\u7684\u53d8\u5316\u5c06\u4f1a\u600e\u6837\u5f71\u54cd\u5230\u4f60\u7684\u7ec4\u4ef6\u53d8\u5316\u3002</p> <pre><code>// \u7ec4\u4ef6\u63a5\u6536\u4e00\u4e2atype\u53c2\u6570\nstatic propTypes = {\n  type: PropTypes.number\n}\n\n// \u7ec4\u4ef6\u8fd8\u5177\u6709\u81ea\u5df1\u7684\u72b6\u6001\u6765\u6e32\u67d3\u5217\u8868\nclass List extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n      type: 0,\n    }\n  }\n}\n</code></pre> <p>\u5982\u4e0a\u9762\u4ee3\u7801\u7684\u4f8b\u5b50\u6240\u793a\uff0c\u7ec4\u4ef6\u65e2\u53d7\u63a7\uff0c\u53c8\u63a7\u5236\u81ea\u5df1\u3002\u5f53type\u53d1\u751f\u53d8\u5316\uff0c\u4f1a\u89e6\u53d1\u4e00\u6b21<code>getDerivedStateFromProps</code>\uff0c\u5728\u8fd9\u91cc\u66f4\u65b0\u7ec4\u4ef6\u7684type\u72b6\u6001\uff0c\u7136\u800c\uff0c\u5728\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\u4e4b\u540e\uff0c\u7ec4\u4ef6\u53c8\u4f1a\u66f4\u65b0list\u72b6\u6001\uff0c\u8fd9\u65f6\u4f60\u7684<code>getDerivedStateFromProps</code>\u51fd\u6570\u5c31\u9700\u8981\u6ce8\u610f\uff0c\u4e0d\u80fd\u591f\u4ec5\u4ec5\u5224\u65adtype\u662f\u5426\u53d8\u5316\u6765\u66f4\u65b0\u72b6\u6001\uff0c\u56e0\u4e3alist\u7684\u53d8\u5316\u4e5f\u4f1a\u66f4\u65b0\u5230\u7ec4\u4ef6\u7684\u72b6\u6001\u3002\u8fd9\u65f6\u5c31\u5fc5\u987b\u8fd4\u56de\u4e00\u4e2anull\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u65e0\u6cd5\u66f4\u65b0\u5e76\u4e14\u62a5\u9519\u3002</p>"},{"location":"react/React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F--getDerivedStateFromProps/#case2-","title":"Case2 -- \u7ec4\u7ec7\u597d\u4f60\u7684\u7ec4\u4ef6","text":"<p>\u8003\u8651\u4e00\u4e0b\uff0c\u5982\u679c\u4f60\u7684\u7ec4\u4ef6\u5185\u90e8\u65e2\u9700\u8981\u4fee\u6539\u81ea\u5df1\u7684type\uff0c\u53c8\u9700\u8981\u63a5\u6536\u4ece\u5916\u90e8\u4fee\u6539\u7684type\u3002</p> <p>\u662f\u4e0d\u662f\u975e\u5e38\u6df7\u4e71\uff1fgetDerivedStateFromProps\u4e2d\u4f60\u6839\u672c\u4e0d\u77e5\u9053\u8be5\u505a\u4ec0\u4e48\u3002</p> <pre><code>static getDerivedStateFromProps(nextProps, prevState) {\n  const {type} = nextProps;\n  // type\u53ef\u80fd\u7531props\u9a71\u52a8\uff0c\u4e5f\u53ef\u80fd\u7531state\u9a71\u52a8\uff0c\u8fd9\u6837\u5224\u65ad\u4f1a\u5bfc\u81f4state\u9a71\u52a8\u7684type\u88ab\u56de\u6eda\n  if (type !== prevState.type) {\n    return {\n      type,\n    };\n  }\n  // \u5426\u5219\uff0c\u5bf9\u4e8estate\u4e0d\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c\n  return null;\n}\n</code></pre> <p>\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u68d8\u624b\u7684\u95ee\u9898\u5462\uff1f</p> <p>\u597d\u597d\u7ec4\u7ec7\u4f60\u7684\u7ec4\u4ef6\uff0c\u5728\u975e\u5fc5\u987b\u7684\u65f6\u5019\uff0c\u6452\u5f03\u8fd9\u79cd\u5199\u6cd5\u3002type\u8981\u4e48\u7531props\u9a71\u52a8\uff0c\u8981\u4e48\u5b8c\u5168\u7531state\u9a71\u52a8\u3002 \u5982\u679c\u5b9e\u5728\u6ca1\u6709\u529e\u6cd5\u89e3\u8026\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u4e00\u4e2ahack\u6765\u8f85\u52a9\uff1a\u7ed1\u5b9aprops\u5230state\u4e0a\u3002</p> <pre><code>constructor(props) {\n  super(props);\n  this.state = {\n    type: 0,\n    props,\n  }\n}\nstatic getDerivedStateFromProps(nextProps, prevState) {\n  const {type, props} = nextProps;\n  // \u8fd9\u6bb5\u4ee3\u7801\u53ef\u80fd\u770b\u8d77\u6765\u975e\u5e38\u6df7\u4e71\uff0c\u8fd9\u4e2aprops\u53ef\u4ee5\u88ab\u5f53\u505a\u7f13\u5b58\uff0c\u4ec5\u7528\u4f5c\u5224\u65ad\n  if (type !== props.type) {\n    return {\n      type,\n      props: {\n        type,\n      },\n    };\n  }\n  // \u5426\u5219\uff0c\u5bf9\u4e8estate\u4e0d\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c\n  return null;\n}\n</code></pre> <p>\u4e0a\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u4fdd\u8bc1\u5728\u8fdb\u884c\u591a\u6570\u636e\u6e90\u9a71\u52a8\u7684\u65f6\u5019\uff0c\u72b6\u6001\u80fd\u591f\u6b63\u786e\u6539\u53d8\u3002\u5f53\u7136\uff0c\u8fd9\u6837\u7684\u4ee3\u7801\u5f88\u591a\u60c5\u51b5\u4e0b\u662f\u4f1a\u5f71\u54cd\u5230\u522b\u4eba\u9605\u8bfb\u4f60\u7684\u4ee3\u7801\u7684\uff0c\u5bf9\u4e8e\u7ef4\u62a4\u9020\u6210\u4e86\u975e\u5e38\u5927\u7684\u56f0\u96be\u3002</p> <p>\u4ece\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u7684\u66f4\u65b0\u6765\u770b\uff0creact\u66f4\u5e0c\u671b\u5c06\u53d7\u63a7\u7684<code>props</code>\u548c<code>state</code>\u8fdb\u884c\u5206\u79bb\uff0c\u5c31\u5982\u540c<code>Redux</code>\u4f5c\u8005Dan Abramov\u5728redux\u6587\u6863\u5f53\u4e2d\u5199\u7684\u4e00\u6837Presentational and Container Components\uff0c\u5c06\u6240\u6709\u7684\u7ec4\u4ef6\u5206\u79bb\u79f0\u4e3a\u5c55\u793a\u578b\u7ec4\u4ef6\u548c\u5bb9\u5668\u578b\u7ec4\u4ef6\uff0c\u4e00\u4e2a\u53ea\u8d1f\u8d23\u63a5\u6536<code>props</code>\u6765\u6539\u53d8\u81ea\u5df1\u7684\u6837\u5f0f\uff0c\u4e00\u4e2a\u8d1f\u8d23\u4fdd\u6301\u5176\u6574\u4e2a\u6a21\u5757\u7684<code>state</code>\u3002\u8fd9\u6837\u53ef\u4ee5\u8ba9\u4ee3\u7801\u66f4\u52a0\u6e05\u6670\u3002\u4f46\u662f\u5728\u5b9e\u9645\u7684\u4e1a\u52a1\u903b\u8f91\u4e2d\uff0c\u6211\u4eec\u6709\u65f6\u5f88\u96be\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u800c\u4e14\u8fd9\u6837\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5bb9\u5668\u578b\u7ec4\u4ef6\u53d8\u5f97\u975e\u5e38\u5e9e\u5927\u4ee5\u81f4\u96be\u4ee5\u7ba1\u7406\uff0c\u5982\u4f55\u8fdb\u884c\u53d6\u820d\u8fd8\u662f\u9700\u8981\u6839\u636e\u5b9e\u9645\u573a\u666f\u51b3\u5b9a\u7684\u3002</p>"},{"location":"react/React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F--getDerivedStateFromProps/#case3-","title":"Case3 -- \u5f02\u6b65","text":"<p>\u4ee5\u524d\uff0c\u6211\u4eec\u53ef\u4ee5\u5728props\u53d1\u751f\u6539\u53d8\u7684\u65f6\u5019\uff0c\u5728componentWillReceiveProps\u4e2d\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\uff0c\u5c06props\u7684\u6539\u53d8\u9a71\u52a8\u5230state\u7684\u6539\u53d8\u3002</p> <pre><code>componentWillReceiveProps(nextProps) {\n  if (props.type !== nextProps.type) {\n    // \u5728\u8fd9\u91cc\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\u6216\u8005\u66f4\u65b0\u72b6\u6001\n    this.setState({\n      type: props.type,\n    });\n    this._doAsyncOperation();\n  }\n}\n</code></pre> <p>\u8fd9\u6837\u7684\u5199\u6cd5\u5df2\u7ecf\u4f7f\u7528\u4e86\u5f88\u4e45\uff0c\u5e76\u4e14\u5e76\u4e0d\u4f1a\u5b58\u5728\u4ec0\u4e48\u529f\u80fd\u4e0a\u7684\u95ee\u9898\uff0c\u4f46\u662f\u5c06componentWillReceiveProps\u6807\u8bb0\u4e3adeprecated\u7684\u539f\u56e0\u4e5f\u5e76\u4e0d\u662f\u56e0\u4e3a\u529f\u80fd\u95ee\u9898\uff0c\u800c\u662f\u6027\u80fd\u95ee\u9898\u3002</p> <p>\u5f53\u5916\u90e8\u591a\u4e2a\u5c5e\u6027\u5728\u5f88\u77ed\u7684\u65f6\u95f4\u95f4\u9694\u4e4b\u5185\u591a\u6b21\u53d8\u5316\uff0c\u5c31\u4f1a\u5bfc\u81f4componentWillReceiveProps\u88ab\u591a\u6b21\u8c03\u7528\u3002\u8fd9\u4e2a\u8c03\u7528\u5e76\u4e0d\u4f1a\u88ab\u5408\u5e76\uff0c\u5982\u679c\u8fd9\u6b21\u5185\u5bb9\u90fd\u4f1a\u89e6\u53d1\u5f02\u6b65\u8bf7\u6c42\uff0c\u90a3\u4e48\u53ef\u80fd\u4f1a\u5bfc\u81f4\u591a\u4e2a\u5f02\u6b65\u8bf7\u6c42\u963b\u585e\u3002</p> <p>getDerivedStateFromProps is invoked right before calling the render method, both on the initial mount and on subsequent updates. It should return an object to update the state, or null to update nothing.</p> <p>\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\u4f1a\u5728\u6bcf\u6b21\u8c03\u7528render\u4e4b\u524d\u88ab\u89e6\u53d1\uff0c\u800c\u8bfb\u8fc7\u4e00\u70b9react\u6e90\u7801\u7684\u7ae5\u978b\u90fd\u4f1a\u4e86\u89e3\uff0creactsetState\u64cd\u4f5c\u662f\u4f1a\u901a\u8fc7transaction\u8fdb\u884c\u5408\u5e76\u7684\uff0c\u7531\u6b64\u5bfc\u81f4\u7684\u66f4\u65b0\u8fc7\u7a0b\u662fbatch\u7684\uff0c\u800creact\u4e2d\u5927\u90e8\u5206\u7684\u66f4\u65b0\u8fc7\u7a0b\u7684\u89e6\u53d1\u6e90\u90fd\u662fsetState\uff0c\u6240\u4ee5render\u89e6\u53d1\u7684\u9891\u7387\u5e76\u4e0d\u4f1a\u975e\u5e38\u9891\u7e41(\u611f\u8c22 @leeenx20 \u7684\u63d0\u9192\uff0c\u8fd9\u91cc\u63cf\u8ff0\u8fdb\u884c\u4e86\u4fee\u6539)\u3002</p> <p>\u5728\u4f7f\u7528getDerivedStateFromProps\u7684\u65f6\u5019\uff0c\u9047\u5230\u4e86\u4e0a\u9762\u8bf4\u7684props\u5728\u5f88\u77ed\u7684\u65f6\u95f4\u5185\u591a\u6b21\u53d8\u5316\uff0c\u4e5f\u53ea\u4f1a\u89e6\u53d1\u4e00\u6b21render\uff0c\u4e5f\u5c31\u662f\u53ea\u89e6\u53d1\u4e00\u6b21getDerivedStateFromProps\u3002\u8fd9\u6837\u7684\u4f18\u70b9\u4e0d\u8a00\u800c\u55bb\u3002</p> <p>\u90a3\u4e48\u5982\u4f55\u4f7f\u7528getDerivedStateFromProps\u8fdb\u884c\u5f02\u6b65\u7684\u5904\u7406\u5462\uff1f</p> <p>If you need to perform a side effect (for example, data fetching or an animation) in response to a change in props, use componentDidUpdate lifecycle instead.</p> <p>\u5b98\u65b9\u6559\u4f60\u600e\u4e48\u5199\u4ee3\u7801\u7cfb\u5217\uff0c\u4f46\u662f\u5176\u5b9e\u4e5f\u6ca1\u6709\u5176\u4ed6\u53ef\u4ee5\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\u7684\u5730\u65b9\u4e86\u3002\u4e3a\u4e86\u54cd\u5e94props\u7684\u53d8\u5316\uff0c\u5c31\u9700\u8981\u5728componentDidUpdate\u4e2d\u6839\u636e\u65b0\u7684props\u548cstate\u6765\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\uff0c\u6bd4\u5982\u4ece\u670d\u52a1\u7aef\u62c9\u53d6\u6570\u636e\u3002</p> <pre><code>// \u5728getDerivedStateFromProps\u4e2d\u8fdb\u884cstate\u7684\u6539\u53d8\nstatic getDerivedStateFromProps(nextProps, prevState) {\n  if (nextProps.type !== prevState.type) {\n    return {\n      type: nextProps.type,\n    };\n  }\n  return null;\n}\n// \u5728componentDidUpdate\u4e2d\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\uff0c\u9a71\u52a8\u6570\u636e\u7684\u53d8\u5316\ncomponentDidUpdate() {\n  this._loadAsyncData({...this.state});\n}\n</code></pre>"},{"location":"react/React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F--getDerivedStateFromProps/#_3","title":"\u5c0f\u7ed3","text":"<p>\u4ee5\u4e0a\u662f\u672c\u671f\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u65b0\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\u7684\u65f6\u5019\u9047\u5230\u7684\u4e00\u70b9\u5c0f\u95ee\u9898\u548c\u4e00\u4e9b\u76f8\u5173\u601d\u8003\u3002react\u4e3a\u4e86\u9632\u6b62\u90e8\u5206\u5f00\u53d1\u8005\u6ee5\u7528\u751f\u547d\u5468\u671f\uff0c\u53ef\u8c13\u975e\u5e38\u5c3d\u5fc3\u5c3d\u529b\u4e86\u3002\u65e2\u7136\u4f60\u7528\u4e0d\u597d\uff0c\u6211\u5c31\u5e72\u8106\u4e0d\u8ba9\u4f60\u7528\u3002\u4e00\u4e2a\u9759\u6001\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\u53ef\u4ee5\u8ba9\u72b6\u6001\u7684\u4fee\u6539\u66f4\u52a0\u89c4\u8303\u548c\u5408\u7406\u3002</p> <p>\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u5168\u6587\u6ca1\u6709\u63d0\u5230<code>getSnapshotBeforeUpdate</code>\uff0c\u56e0\u4e3a\u81ea\u5df1\u5e76\u6ca1\u6709\u7528\u5230#\u8bda\u5b9e\u8138\u3002\u7b80\u5355\u770b\u4e86\u4e00\u4e0b\uff0c\u8fd9\u4e2a\u51fd\u6570\u8fd4\u56de\u4e00\u4e2aupdate\u4e4b\u524d\u7684\u5feb\u7167\uff0c\u5e76\u4e14\u4f20\u5165\u5230<code>componentDidUpdate</code>\u4e2d\uff0c\u7ec4\u4ef6\u66f4\u65b0\u524d\u540e\u7684\u72b6\u6001\u90fd\u53ef\u4ee5\u5728<code>componentDidUpdate</code>\u4e2d\u83b7\u53d6\u4e86\u3002\u4e00\u4e9b\u9700\u8981\u5728\u7ec4\u4ef6\u66f4\u65b0\u5b8c\u6210\u4e4b\u540e\u8fdb\u884c\u7684\u64cd\u4f5c\u6240\u9700\u8981\u7684\u6570\u636e\uff0c\u5c31\u53ef\u4ee5\u4e0d\u9700\u8981\u6302\u8f7d\u5230<code>state</code>\u6216\u8005\u662fcache\u4e0b\u6765\u4e86\u3002\u6bd4\u5982\u5b98\u65b9\u4f8b\u5b50\u4e2d\u6240\u4e3e\u4f8b\u7684\u4fdd\u7559\u66f4\u65b0\u4e4b\u524d\u7684\u9875\u9762\u6eda\u52a8\u8ddd\u79bb\uff0c\u4ee5\u4fbf\u5728\u7ec4\u4ef6update\u5b8c\u6210\u4e4b\u540e\u6062\u590d\u5176\u6eda\u52a8\u4f4d\u7f6e\u3002\u4e5f\u662f\u4e00\u4e2a\u975e\u5e38\u65b9\u4fbf\u7684\u5468\u671f\u51fd\u6570\u3002</p>"},{"location":"react/React%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%E6%94%B9%E5%8F%98DOM%E6%96%B9%E6%B3%95/","title":"\u600e\u6837\u5728 React \u4e2d\u4f7f\u7528\u4e8b\u4ef6\u5904\u7406\uff1f","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4856  \u9605\u8bfb10\u5206\u949f</p> <p>\u539f\u6587\u94fe\u63a5\uff1ahttps://stackoverflow.com/questions/28511207/react-js-onclick-event-handler</p>"},{"location":"react/React%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%E6%94%B9%E5%8F%98DOM%E6%96%B9%E6%B3%95/#_1","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>I have</p> <pre><code>var TestApp = React.createClass({\n\n  getComponent: function(){\n    console.log(this.props);\n  },\n\n  render: function(){\n    return(\n      &lt;div&gt;\n        &lt;ul&gt;\n          &lt;li onClick={this.getComponent}&gt;Component 1&lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/div&gt;\n    );\n  }\n});\n\nReact.renderComponent(&lt;TestApp /&gt;, document.body);\n</code></pre> <p>I want to color the background of the clicked list element. How can I do this in React ?</p> <p>Something like</p> <pre><code>$('li').on('click', function(){\n  $(this).css({'background-color': '#ccc'});\n});\n</code></pre>"},{"location":"react/React%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%E6%94%B9%E5%8F%98DOM%E6%96%B9%E6%B3%95/#answers","title":"Answers","text":""},{"location":"react/React%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%E6%94%B9%E5%8F%98DOM%E6%96%B9%E6%B3%95/#1","title":"1","text":"<p>\u76f4\u63a5\u8bbe\u7f6e\u76ee\u6807\u5143\u7d20\u7684\u989c\u8272\uff0c\u6216\u8005\u8bbe\u7f6estate\u72b6\u6001\uff0c\u7136\u540e\u6539\u53d8\u7c7b\u540d\u6539\u53d8\u989c\u8272\u3002</p> <p>Why not just:</p> <pre><code>onItemClick: function (event) {\n  event.currentTarget.style.backgroundColor = '#ccc';\n},\n\n  render: function() {\n    return (\n      &lt;div&gt;\n        &lt;ul&gt;\n          &lt;li onClick={this.onItemClick}&gt;Component 1&lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/div&gt;\n    );\n  }\n</code></pre> <p>And if you want to be more React-ive about it, you might want to set the selected item as state of its containing React component, then reference that state to determine the item's color within <code>render</code>:</p> <pre><code>onItemClick: function (event) {\n  this.setState({\n    selectedItem: event.currentTarget.dataset.id\n  });\n  //where 'id' =  whatever suffix you give the data-* li attribute\n},\n\n  render: function() {\n    return (\n      &lt;div&gt;\n        &lt;ul&gt;\n          &lt;li onClick={this.onItemClick} data-id=\"1\" className={this.state.selectedItem == 1 ? \"on\" : \"off\"}&gt;Component 1&lt;/li&gt;\n          &lt;li onClick={this.onItemClick} data-id=\"2\" className={this.state.selectedItem == 2 ? \"on\" : \"off\"}&gt;Component 2&lt;/li&gt;\n          &lt;li onClick={this.onItemClick} data-id=\"3\" className={this.state.selectedItem == 3 ? \"on\" : \"off\"}&gt;Component 3&lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/div&gt;\n    );\n  },\n</code></pre> <p>Of course, you'd want to put those into a loop, and you need to make the <code>li.on</code> and <code>li.off</code> styles set your <code>background-color</code>.</p>"},{"location":"react/React%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%E6%94%B9%E5%8F%98DOM%E6%96%B9%E6%B3%95/#2","title":"2","text":"<p>\u9996\u5148\u4f7f\u7528JQ\u83b7\u53d6\u5143\u7d20\u8282\u70b9</p> <p>Two ways I can think of are</p> <pre><code>var TestApp = React.createClass({\n  getComponent: function(index) {\n    $(this.getDOMNode()).find('li:nth-child(' + index + ')').css({\n      'background-color': '#ccc'\n    });\n  },\n  render: function() {\n    return (\n      &lt;div&gt;\n        &lt;ul&gt;\n          &lt;li onClick={this.getComponent.bind(this, 1)}&gt;Component 1&lt;/li&gt;\n          &lt;li onClick={this.getComponent.bind(this, 2)}&gt;Component 2&lt;/li&gt;\n          &lt;li onClick={this.getComponent.bind(this, 3)}&gt;Component 3&lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/div&gt;\n    );\n  }\n});\nReact.renderComponent(&lt;TestApp /&gt; , document.getElementById('soln1'));\n</code></pre> <p>This is my personal favorite.</p> <pre><code>var ListItem = React.createClass({\n  getInitialState: function() {\n    return {\n      isSelected: false\n    };\n  },\n  handleClick: function() {\n    this.setState({\n      isSelected: true\n    })\n  },\n  render: function() {\n    var isSelected = this.state.isSelected;\n    var style = {'background-color': ''};\n    if (isSelected) {\n      style = {\n        'background-color': '#ccc'\n      };\n    }\n    return (\n      &lt;li onClick={this.handleClick} style={style}&gt;{this.props.content}&lt;/li&gt;\n    );\n  }\n});\n\nvar TestApp2 = React.createClass({\n  getComponent: function(index) {\n    $(this.getDOMNode()).find('li:nth-child(' + index + ')').css({\n      'background-color': '#ccc'\n    });\n  },\n  render: function() {\n    return (\n      &lt;div&gt;\n        &lt;ul&gt;\n          &lt;ListItem content=\"Component 1\" /&gt;\n          &lt;ListItem content=\"Component 2\" /&gt;\n          &lt;ListItem content=\"Component 3\" /&gt;\n        &lt;/ul&gt;\n      &lt;/div&gt;\n    );\n  }\n});\nReact.renderComponent(&lt;TestApp2 /&gt; , document.getElementById('soln2'));\n</code></pre> <p>I hope this helps.</p>"},{"location":"react/React%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%E6%94%B9%E5%8F%98DOM%E6%96%B9%E6%B3%95/#3","title":"3","text":"<p>\u4f7f\u7528ES6\u7684\u7bad\u5934\u51fd\u6570\u5904\u7406\u4e8b\u4ef6</p> <p>Here is how you define a react onClick event handler, which was answering the question title... using es6 syntax</p> <pre><code>import React, { Component } from 'react';\n\nexport default class Test extends Component {\n  handleClick(e) {\n    e.preventDefault()\n    console.log(e.target)\n  }\n\n  render() {\n    return (\n      &lt;a href='#' onClick={e =&gt; this.handleClick(e)}&gt;click me&lt;/a&gt;\n    )\n  }\n}\n</code></pre>"},{"location":"react/React%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%E6%94%B9%E5%8F%98DOM%E6%96%B9%E6%B3%95/#4","title":"4","text":"<p>Use ECMA2015. Arrow functions make \"this\" a lot more intuitive.</p> <pre><code>import React from 'react';\n\nclass TestApp extends React.Component {\n  getComponent(e, index) {\n    $(e.target).css({\n      'background-color': '#ccc'\n    });\n  }\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;ul&gt;\n          &lt;li onClick={(e) =&gt; this.getComponent(e, 1)}&gt;Component 1&lt;/li&gt;\n          &lt;li onClick={(e) =&gt; this.getComponent(e, 2)}&gt;Component 2&lt;/li&gt;\n          &lt;li onClick={(e) =&gt; this.getComponent(e, 3)}&gt;Component 3&lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/div&gt;\n    );\n  }\n});\nReact.renderComponent(&lt;TestApp /&gt; , document.getElementById('soln1'));`\n</code></pre>"},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/","title":"React\u751f\u547d\u5468\u671f\u6d41\u7a0b\u56fe","text":""},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/#_1","title":"\u7ec4\u4ef6\u521b\u5efa\u65f6\u7684\u751f\u547d\u5468\u671f","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4066  \u9605\u8bfb9\u5206\u949f</p>"},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/#static-getderivedstatefrompropsnextprops-prevstate","title":"static getDerivedStateFromProps(nextProps, prevState)","text":"<p>\u8be5\u5468\u671f\u51fd\u6570\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff0c\u65b0\u7684\u5c5e\u6027\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u5148\u524d\u7684\u72b6\u6001\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002\u5f53\u51fd\u6570\u8fd4\u56de null \u65f6\uff0c\u4ee3\u8868\u65b0\u7684\u5c5e\u6027\u4e0d\u9700\u8981\u66f4\u65b0\u72b6\u6001\uff1b\u5f53\u51fd\u6570\u8fd4\u56de\u4e86\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u4e2d\u7684\u5c5e\u6027\u5219\u4f1a\u88ab\u66f4\u65b0\u5230 State \u4e2d\u3002\u5982\u4e0b\uff1a</p> <pre><code>static getDerivedStateFromProps(nextProps, prevState) {\n  if (prevState.currentId \uff01== nextProps.itemId) {\n    return {\n      currentId: nextProps.itemId\n    };\n  }\n  return null;\n}\n</code></pre> <p>\u4e0a\u56fe\u610f\u601d\u662f\uff0c\u5f53\u65b0\u5c5e\u6027\u4e2d\u7684 itemId \u4e0e\u5f53\u524d State \u7684 currentId \u4e0d\u4e00\u81f4\u65f6\uff0c\u5219\u6267\u884c currentId \u72b6\u6001\u7684\u66f4\u65b0\uff0c\u5426\u5219\u8fd4\u56de null\uff0c\u4e0d\u6267\u884c\u4efb\u4f55\u7684\u66f4\u65b0\u3002  \u7b80\u5355\u6765\u8bf4\uff0c\u5982\u679c\u4f60\u7684\u7ec4\u4ef6\u4e2d\uff0c\u63a5\u6536\u65b0\u7684\u5c5e\u6027\u4e0d\u9700\u8981\u89e6\u53d1\u72b6\u6001\u7684\u66f4\u65b0\uff0c\u53ef\u4ee5\u5ffd\u7565\u8be5\u51fd\u6570\uff0c\u6216\u5728\u8be5\u51fd\u6570\u4e2d\u76f4\u63a5\u8fd4\u56de null\u3002  \u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u8be5\u5468\u671f\u51fd\u6570<code>getDerivedStateFromProps(){...}</code>\u662f\u4e00\u4e2a\u9759\u6001\u51fd\u6570\uff0c\u65e0\u6cd5\u8bbf\u95ee\u7ec4\u4ef6\u7684\u5b9e\u4f8b this\uff0c\u6240\u4ee5\u5728\u8be5\u51fd\u6570\u4e2d\u6ca1\u529e\u6cd5\u8bbf\u95ee this.props \u548c this.state\u3002</p>"},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/#_2","title":"\u7ec4\u4ef6\u66f4\u65b0\u65f6\u7684\u751f\u547d\u5468\u671f","text":""},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/#static-getderivedstatefromprops","title":"static getDerivedStateFromProps","text":"<p>\u8be5\u5468\u671f\u51fd\u6570\u5728\u7ec4\u4ef6\u7684\u5c5e\u6027\u548c\u72b6\u6001\u66f4\u65b0\u65f6\u90fd\u4f1a\u88ab\u89e6\u53d1\uff0c\u7528\u6cd5\u7b49\u540c\u7ec4\u4ef6\u521b\u5efa\u65f6\u7684 <code>getDerivedStateFromProps</code> \u51fd\u6570\u3002</p>"},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/#shouldcomponentupdatenextporps-nextstate","title":"shouldComponentUpdate(nextPorps, nextState)","text":"<p>\u8be5\u51fd\u6570\u63a5\u6536\u65b0\u7684\u5c5e\u6027\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u65b0\u7684\u72b6\u6001\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002\u5f53\u51fd\u6570\u8fd4\u56de true \u7684\u65f6\u5019\uff0c\u5468\u671f\u51fd\u6570\u4f1a\u7ee7\u7eed\u5f80\u4e0b\u6267\u884c render \u6e32\u67d3\uff1b\u5f53\u51fd\u6570\u8fd4\u56de false\uff0c\u5468\u671f\u51fd\u6570\u5219\u4f1a\u4e2d\u6b62\u4e8e\u6b64\uff0c\u5e76\u505c\u6b62\u4e0b\u9762\u7684\u6e32\u67d3\u3002\u5982\u679c\u4e0d\u8bbe\u7f6e\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f1a\u9ed8\u8ba4\u8fd4\u56de true\u3002  \u5229\u7528\u597d\u8fd9\u4e2a\u5468\u671f\u51fd\u6570\u7684\u7279\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u907f\u514d\u65e0\u7528\u7684\u6e32\u67d3\uff0c\u63d0\u5347\u9875\u9762\u7684\u6027\u80fd\u3002</p>"},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/#getsnapshotbeforeupdateprevprops-prevstate","title":"getSnapshotBeforeUpdate(prevProps, prevState)","text":"<p>\u8be5\u5468\u671f\u51fd\u6570\u7684\u65f6\u671f\u5904\u5728 <code>render</code> \u51fd\u6570\u6267\u884c\u4e4b\u540e\u548c\u7ec4\u4ef6 DOM \u6e32\u67d3\u4e4b\u524d\u3002\u5b83\u8ba9\u4f60\u7684\u7ec4\u4ef6\u80fd\u5728\u5f53\u524d\u7684\u503c\u53ef\u80fd\u8981\u6539\u53d8\u524d\u83b7\u5f97\u5b83\u4eec\u3002\u8be5\u51fd\u6570\u8fd4\u56de\u7684\u4efb\u4f55\u503c\u5c06\u4f5c\u4e3a <code>componentDidUpdate</code> \u5468\u671f\u51fd\u6570\u7684\u7b2c\u4e09\u4e2a\u53c2\u6570\u3002</p>"},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/#componentdidupdateprevprops-prevstate-snapshot","title":"componentDidUpdate(prevProps, prevState, snapshot)","text":"<p><code>componentDidUpdate</code> \u51fd\u6570\u4f1a\u5728\u66f4\u65b0\u53d1\u751f\u540e\u7acb\u5373\u88ab\u8c03\u7528\u3002  \u6211\u4eec\u53ef\u4ee5\u5728\u8be5\u65b9\u6cd5\u4e2d\u4fee\u6539\u7ec4\u4ef6\u7684\u72b6\u6001\u4ee5\u8fdb\u884c DOM \u7684\u66f4\u65b0\u3002\u540c\u65f6\uff0c\u8fd9\u4e5f\u662f\u4e00\u4e2a\u9002\u5408\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42(Ajax)\u7684\u5730\u65b9\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5bf9\u6bd4\u5f53\u524d\u5c5e\u6027\u548c\u65e7\u5c5e\u6027\u6765\u5224\u65ad\u662f\u5426\u9700\u8981\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42\u3002</p>"},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/#_3","title":"\u5f02\u5e38\u5904\u7406\u7684\u5468\u671f\u51fd\u6570","text":""},{"location":"react/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE/#componentdidcatch","title":"componentDidCatch","text":"<p>\u9519\u8bef\u8fb9\u754c\u662f\u4e00\u4e2a React \u7ec4\u4ef6\u3002\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6\u6355\u6349\u53d1\u751f\u5728\u5b50\u7ec4\u4ef6\u6811\u4e2d\u4efb\u610f\u5730\u65b9\u7684 JavaScript \u9519\u8bef\uff0c\u6253\u5370\u9519\u8bef\u65e5\u5fd7\uff0c\u5e76\u4e14\u663e\u793a\u56de\u9000\u7684\u7528\u6237\u754c\u9762\u3002\u9519\u8bef\u8fb9\u754c\u53ef\u4ee5\u6355\u6349\u7ec4\u4ef6\u6e32\u67d3\u671f\u95f4\u3001\u751f\u547d\u5468\u671f\u65b9\u6cd5\u4e2d\u548c\u5b50\u7ec4\u4ef6\u6784\u9020\u51fd\u6570\u4e2d\u7684\u9519\u8bef\u3002</p> <p>\u5982\u679c\u5b9a\u4e49\u4e86\u8fd9\u4e00\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u4e00\u4e2a\u7c7b\u7ec4\u4ef6\u5c06\u6210\u4e3a\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6\u3002\u6211\u4eec\u53ef\u4ee5\u5728\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6\u6355\u83b7\u5230 JavaScript \u9519\u8bef\u7684\u65f6\u5019\uff0c\u663e\u793a\u56de\u9000\u7684\u7528\u6237\u754c\u9762\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6</p> <pre><code>class ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  componentDidCatch(error, info) {\n    // \u663e\u793a\u9519\u8bef\u53d1\u751f\u7684\u56de\u9000\u89c6\u56fe\n    this.setState({ hasError: true });\n    // \u4e5f\u53ef\u4ee5\u4e0a\u62a5\u9519\u8bef\u5230\u670d\u52a1\u5668\n    logErrorToMyService(error, info);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // \u5b9a\u5236\u4efb\u610f\u7684\u56de\u9000\u89c6\u56fe\n      return &lt;h1&gt;\u9875\u9762\u88ab\u5916\u661f\u4eba\u5077\u8d70\u4e86&lt;/h1&gt;;\n    }\n    return this.props.children;\n  }\n}\n</code></pre> <p>\u7136\u540e\u5c06\u5b83\u4f5c\u4e3a\u5e38\u89c4\u7ec4\u4ef6</p> <pre><code>&lt;ErrorBoundary&gt;\n  &lt;MyWidget /&gt;\n&lt;/ErrorBoundary&gt;\n</code></pre> <p>\u8be5 componentDidCatch \u65b9\u6cd5\u7684\u5de5\u4f5c\u65b9\u5f0f\u7c7b\u4f3c\u4e8e JavaScript catch {} \u5757\uff0c\u4f46\u5b83\u4e00\u4e2a\u9002\u7528\u4e8e\u7ec4\u4ef6\u7684 catch \u5757\u3002\u5b9e\u9645\u4e0a\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ea\u9700\u8981\u58f0\u660e\u4e00\u6b21\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6\uff0c\u5e76\u5728\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u5b83\u3002  \u8bf7\u6ce8\u610f\uff0c\u9519\u8bef\u8fb9\u754c\u4ec5\u6355\u83b7\u7ec4\u4ef6\u6811\u4e2d\u5904\u4e8e\u5b83\u4eec\u5b50\u5c42\u7ea7\u7ec4\u4ef6\u4e2d\u7684\u9519\u8bef\uff0c\u9519\u8bef\u8fb9\u754c\u672c\u8eab\u7684\u9519\u8bef\u65e0\u6cd5\u6355\u83b7\u3002\u5982\u679c\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6\u81ea\u8eab\u62a5\u9519\uff0c\u5219\u9519\u8bef\u5c06\u4f20\u64ad\u5230\u5176\u4e0a\u65b9\u6700\u63a5\u8fd1\u7684\u9519\u8bef\u8fb9\u754c\u3002</p>"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/","title":"React\u83b7\u53d6\u5c3a\u5bf8","text":""},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#react","title":"React \u4e0b\u83b7\u53d6\u5143\u7d20\u7684\u5c3a\u5bf8\u7684\u65b9\u6cd5","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 8182  \u9605\u8bfb17\u5206\u949f</p> <p>\u5728react\u4e2d\u83b7\u53d6\u5143\u7d20\u4e0d\u4f7f\u7528\u539f\u751f\u7684getElementBy\u65b9\u6cd5\uff0c\u600e\u6837\u83b7\u53d6\u5230\u5143\u7d20\u7684\u4f4d\u7f6e\u548c\u5bbd\u5ea6\u9ad8\u5ea6\u5462\uff1f</p> <p>\u5728react\u4e2d\uff0c\u6709\u4e00\u4e2aJSX\u7684\u8bed\u6cd5\u7cd6\uff0c\u53ef\u4ee5\u5c06\u6e32\u67d3\u597d\u7684dom\u8282\u70b9\u8fdb\u884c\u4f20\u9012\uff0c\u5c31\u662fref\u3002</p> <pre><code>import React, { Component } from 'react';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.saveRef = (ref) =&gt; {this.refDom = ref};\n  }\n\n  handleClick = (e) =&gt; {\n    consele.log(this.refDom);\n    const {clientWidth, clientHeight} = this.refDom;\n    console.log(clientWidth, clientHeight);\n  }\n\n  render() {\n    return (\n      &lt;div ref={this.saveRef} onClick={this.handleClick} &gt; Loading...&lt;/div&gt;\n    );\n  }\n}\n\nexport default App;\n// \u4f7f\u7528ref={this.saveRef}\u63a5\u6536div\u6e32\u67d3\u7684DOM\uff0c\u4f7f\u7528refDom\u8fdb\u884c\u63a5\u6536\u3002\u5f53\u70b9\u51fb\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u8fd9\u4e2a\u5bf9\u8c61\u3002\n</code></pre>"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#ref","title":"ref\u7684\u7528\u6cd5","text":"<p>\u5728react\u5178\u578b\u7684\u6570\u636e\u6d41\u4e2d\uff0c<code>props</code>\u4f20\u9012\u662f\u7236\u5b50\u7ec4\u4ef6\u4ea4\u4e92\u7684\u552f\u4e00\u65b9\u5f0f\uff1b\u901a\u8fc7\u4f20\u9012\u4e00\u4e2a\u65b0\u7684<code>props</code>\u503c\u6765\u4f7f\u5b50\u7ec4\u4ef6\u91cd\u65b0<code>re-render</code>,\u4ece\u800c\u8fbe\u5230\u7236\u5b50\u7ec4\u4ef6\u901a\u4fe1\u3002\u5f53\u7136\uff0c\u5c31\u50cfreact\u5b98\u7f51\u6240\u63cf\u8ff0\u7684\u4e00\u6837\uff0c\u5728react\u5178\u578b\u7684\u6570\u636e\u91cf\u4e4b\u5916\uff0c\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff08\u4f8b\u5982\u548c\u7b2c\u4e09\u65b9\u7684dom\u5e93\u6574\u5408\uff0c\u6216\u8005\u67d0\u4e2adom\u5143\u7d20focus\u7b49\uff09\u4e3a\u4e86\u4fee\u6539\u5b50\u7ec4\u4ef6\u6211\u4eec\u53ef\u80fd\u9700\u8981\u53e6\u4e00\u79cd\u65b9\u5f0f\uff0c\u8fd9\u5c31\u662f<code>ref</code>\u65b9\u5f0f\u3002</p>"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#ref_1","title":"ref \u7b80\u4ecb","text":"<p>React\u63d0\u4f9b\u7684\u8fd9\u4e2a<code>ref</code>\u5c5e\u6027\uff0c\u8868\u793a\u4e3a\u5bf9\u7ec4\u4ef6\u771f\u6b63\u5b9e\u4f8b\u7684\u5f15\u7528\uff0c\u5176\u5b9e\u5c31\u662fReactDOM.render()\u8fd4\u56de\u7684\u7ec4\u4ef6\u5b9e\u4f8b\uff1b\u9700\u8981\u533a\u5206\u4e00\u4e0b\uff0c<code>ReactDOM.render()</code>\u6e32\u67d3\u7ec4\u4ef6\u65f6\u8fd4\u56de\u7684\u662f\u7ec4\u4ef6\u5b9e\u4f8b\uff1b\u800c\u6e32\u67d3dom\u5143\u7d20\u65f6\uff0c\u8fd4\u56de\u662f\u5177\u4f53\u7684dom\u8282\u70b9\u3002</p> <p>\u4f8b\u5982\uff0c\u4e0b\u9762\u4ee3\u7801:</p> <pre><code>const domCom = &lt;button type=\"button\"&gt;button&lt;/button&gt;;\nconst refDom = ReactDOM.render(domCom\uff0ccontainer);\n//ConfirmPass\u7684\u7ec4\u4ef6\u5185\u5bb9\u7701\u7565\nconst refCom = ReactDOM.render(&lt;ConfirmPass/&gt;,container);\nconsole.log(refDom);\nconsole.log(refCom);\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u8fd4\u56de\u63a7\u5236\u53f0\u7ed3\u679c\u5982\u4e0b\u56fe\u6240\u793a\uff1a\u3002</p> <p></p> <p><code>ref</code>\u53ef\u4ee5\u6302\u5230\u4efb\u4f55\u7ec4\u4ef6\u4e0a\uff0c\u53ef\u4ee5\u6302\u5230\u7ec4\u4ef6\u4e0a\u4e5f\u53ef\u4ee5\u662fdom\u5143\u7d20\u4e0a\uff1b\u4e8c\u8005\u4e0d\u540c\u662f\u4e0e\u4e0a\u56fe\u7b54\u6848\u4e00\u6837\uff1a</p> <p>\u6302\u5230\u7ec4\u4ef6\uff08\u8fd9\u91cc\u7ec4\u4ef6\u6307\u7684\u662f\u6709\u72b6\u6001\u7ec4\u4ef6\uff09\u4e0a\u7684ref\u8868\u793a\u5bf9\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u5f15\u7528\uff0c\u800c\u6302\u8f7d\u5230dom\u5143\u7d20\u4e0a\u65f6\u8868\u793a\u5177\u4f53\u7684dom\u5143\u7d20\u8282\u70b9\u3002</p>"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#ref_2","title":"ref\u53ef\u4ee5\u8bbe\u7f6e\u56de\u8c03\u51fd\u6570","text":"<p>ref\u5c5e\u6027\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u8fd9\u4e5f\u662f\u5b98\u65b9\u5f3a\u70c8\u63a8\u8350\u7684\u7528\u6cd5\uff1b\u8fd9\u4e2a\u51fd\u6570\u6267\u884c\u7684\u65f6\u673a\u4e3a\uff1a</p> <ul> <li><code>\u7ec4\u4ef6\u88ab\u6302\u8f7d\u540e</code>\uff0c\u56de\u8c03\u51fd\u6570\u88ab\u7acb\u5373\u6267\u884c\uff0c\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u4e3a\u8be5\u7ec4\u4ef6\u7684\u5177\u4f53\u5b9e\u4f8b\u3002</li> <li><code>\u7ec4\u4ef6\u88ab\u5378\u8f7d\u6216\u8005\u539f\u6709\u7684ref\u5c5e\u6027\u672c\u8eab\u53d1\u751f\u53d8\u5316\u65f6</code>\uff0c\u56de\u8c03\u4e5f\u4f1a\u88ab\u7acb\u5373\u6267\u884c\uff0c\u6b64\u65f6\u56de\u8c03\u51fd\u6570\u53c2\u6570\u4e3a<code>null</code>\uff0c\u4ee5\u786e\u4fdd\u5185\u5b58\u6cc4\u9732\u3002</li> </ul> <p>\u4f8b\u5982\u4e0b\u9762\u4ee3\u7801\uff1a</p> <pre><code>RegisterStepTwo = React.createClass({\n  getInitialState(){\n    return {visible: true};\n  },\n  changeVisible(){\n    this.setState({visible: !this.state.visible});\n  },\n  refCb(instance){\n    console.log(instance);\n  },\n  render(){\n    return(\n      &lt;div&gt;\n        &lt;button type=\"button\" onClick={this.changeVisible}&gt;{this.state.visible ? '\u5378\u8f7d' : '\u6302\u8f7d'}ConfirmPass&lt;/button&gt;\n        {this.state.visible ? &lt;ConfirmPass ref={this.refCb} onChange={this.handleChange}/&gt;: null}\n  &lt;/div&gt;\n)\n}\n});\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\uff0c\u6e32\u67d3\u5230\u9875\u9762\u65f6\u53ef\u4ee5\u53d1\u73b0console.log\u51fa\u5bf9\u5e94\u7684\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u5207\u6362\u6309\u94ae\u65f6\uff0c<code>ConfirmPass</code>\u4e5f\u5728\u6302\u8f7d\u4e0e\u5378\u8f7d\u4e4b\u95f4\u5207\u6362\uff0c\u6240\u4ee5\u80fd\u770b\u5230\u4e0d\u540c\u7684console.log\u7ed3\u679c\u3002</p>"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#ref_3","title":"ref\u53ef\u4ee5\u8bbe\u7f6e\u5b57\u7b26\u4e32","text":"<p>\u6700\u65b0\u7248\u672c\u4e0d\u63a8\u8350\u8fd9\u79cd\u65b9\u6cd5</p> <p>ref\u8fd8\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u5b57\u7b26\u4e32\u503c\uff0c\u800c\u4e0d\u662f\u56de\u8c03\u51fd\u6570\uff1b\u8fd9\u79cd\u65b9\u5f0f\u57fa\u672c\u4e0d\u63a8\u8350\u4f7f\u7528\uff0c\u6216\u8005\u5728\u672a\u6765\u7684react\u7248\u672c\u4e2d\u4e0d\u4f1a\u518d\u652f\u6301\u8be5\u65b9\u5f0f\uff0c\u4f46\u662f\u53ef\u4ee5\u4e86\u89e3\u4e00\u4e0b\u3002</p> <p>\u4f8b\u5982\u4e0b\u9762<code>input</code>\u8bbe\u7f6eref\u7684\u503c\u4e3a\u5b57\u7b26\u4e32\u3002</p> <pre><code>&lt;input ref=\"input\" /&gt;\n</code></pre> <p>\u7136\u540e\u5728\u5176\u4ed6\u5730\u65b9\u5982\u4e8b\u4ef6\u56de\u8c03\u4e2d\u901a\u8fc7<code>this.refs.input</code>\u53ef\u4ee5\u8bbf\u95ee\u5230\u8be5\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u5176\u5b9e\u5c31\u662fdom\u5143\u7d20\u8282\u70b9\u3002</p> <pre><code>let inputEl = this.refs.input;\n//\u7136\u540e\u901a\u8fc7inputEl\u6765\u5b8c\u6210\u540e\u7eed\u7684\u903b\u8f91\uff0c\u5982focus\u3001\u83b7\u53d6\u5176\u503c\u7b49\u7b49\n</code></pre>"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#refdom","title":"\u83b7\u53d6ref\u5f15\u7528\u7ec4\u4ef6\u5bf9\u5e94\u7684dom\u8282\u70b9","text":"<p>\u4e0d\u7ba1ref\u8bbe\u7f6e\u503c\u662f\u56de\u8c03\u51fd\u6570\u8fd8\u662f\u5b57\u7b26\u4e32\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7<code>ReactDOM.findDOMNode(ref)</code>\u6765\u83b7\u53d6\u7ec4\u4ef6\u6302\u8f7d\u540e\u771f\u6b63\u7684dom\u8282\u70b9\u3002</p> <p>\u4f46\u662f\u5bf9\u4e8ehtml\u5143\u7d20\u4f7f\u7528ref\u7684\u60c5\u51b5\uff0cref\u672c\u8eab\u5f15\u7528\u7684\u5c31\u662f\u8be5\u5143\u7d20\u7684\u5b9e\u9645dom\u8282\u70b9\uff0c\u65e0\u9700\u4f7f\u7528<code>ReactDOM.findDOMNode(ref)</code>\u6765\u83b7\u53d6\uff0c\u8be5\u65b9\u6cd5\u5e38\u7528\u4e8eReact\u7ec4\u4ef6\u4e0a\u7684ref\u3002</p>"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#ref_4","title":"ref\u5728\u6709\u72b6\u6001\u7ec4\u4ef6\u4e2d\u7684\u4f7f\u7528","text":"<p>\u4e0a\u6587\u8bf4\u5230\u8fc7<code>ref</code>\u7528\u5230react\u6709\u72b6\u6001\u7ec4\u4ef6\u65f6\uff0cref\u5f15\u7528\u7684\u662f\u7ec4\u4ef6\u7684\u5b9e\u4f8b\uff1b\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7\u5b50\u7ec4\u4ef6\u7684<code>ref</code>\u53ef\u4ee5\u8bbf\u95ee\u5230\u5b50\u7ec4\u4ef6\u5b9e\u4f8b\u7684<code>props</code>\u3001<code>state</code>\u3001<code>refs</code>\u3001\u5b9e\u4f8b\u65b9\u6cd5(\u975e\u7ee7\u627f\u800c\u6765\u7684\u65b9\u6cd5)\u7b49\u7b49\u3002</p> <p>\u4f7f\u7528ref\u8bbf\u95ee\u5b50\u7ec4\u4ef6\u60c5\u51b5\u53ef\u80fd\u662f\u4ee5\u4e0bcase\uff1a</p> <ul> <li>\u8bbf\u95ee\u5b50\u7ec4\u4ef6\u7684\u67d0\u4e2a\u5177\u4f53\u7684dom\u8282\u70b9\u5b8c\u6210\u67d0\u4e9b\u903b\u8f91\uff0c\u901a\u8fc7<code>this.refs.childComponentRefName.refs.someDomRefName</code>\u6765\u5b8c\u6210\uff0c\u4f8b\u5982segmentfault\u4e0a\u63d0\u95ee\u8005\u63d0\u51fa\u7684\u95ee\u9898\u3002</li> <li>\u53ef\u4ee5\u8bbf\u95ee\u5b50\u7ec4\u4ef6\u7684\u516c\u5171\u5b9e\u4f8b\u65b9\u6cd5\u5b8c\u6210\u67d0\u5199\u903b\u8f91\u3002\u4f8b\u5982\u5b50\u7ec4\u4ef6\u5b9a\u4e49\u4e86\u4e00\u4e2a<code>reset</code>\u65b9\u6cd5\u7528\u6765\u91cd\u7f6e\u5b50\u7ec4\u4ef6\u8868\u5355\u5143\u7d20\u503c\uff0c\u8fd9\u65f6\u7236\u7ec4\u4ef6\u53ef\u4ee5\u901a\u8fc7<code>this.refs.childComponentRefName.reset()</code>\u6765\u5b8c\u6210\u5b50\u7ec4\u4ef6\u8868\u5355\u5143\u7d20\u7684\u91cd\u7f6e\u3002</li> <li>...</li> </ul> <p>\u4e0d\u8fc7\u8bdd\u8bf4\u56de\u6765\uff0creact\u4e0d\u5efa\u8bae\u5728\u7236\u7ec4\u4ef6\u4e2d\u76f4\u63a5\u8bbf\u95ee\u5b50\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u65b9\u6cd5\u6765\u5b8c\u6210\u67d0\u4e9b\u903b\u8f91\uff0c\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u8bf7\u4f7f\u7528\u6807\u51c6\u7684react\u6570\u636e\u6d41\u7684\u65b9\u5f0f\u6765\u4ee3\u66ff\u5219\u66f4\u4e3a\u6e05\u6670\uff1b</p> <p>\u53e6\u5916\uff0c\u4e0a\u8ff0case\u5728\u7ec4\u4ef6\u5173\u7cfb\u5d4c\u5957\u5f88\u6df1\u65f6\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5c31\u663e\u5f97\u6781\u4e3a\u4e11\u964b\u3002</p>"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#ref_5","title":"ref\u5728\u65e0\u72b6\u6001\u7ec4\u4ef6\u4e2d\u7684\u4f7f\u7528","text":"<p>\u4e0a\u6587\u8bf4\u5230\u7684react\u7ec4\u4ef6\u90fd\u662f\u6307\u6709\u72b6\u6001\u7684\uff0c\u5bf9\u4e8e\u65e0\u72b6\u6001\u7ec4\u4ef6<code>stateless component</code>\u800c\u8a00\uff0c\u6b63\u5982\u8fd9\u7bc7\u6587\u7ae0React\u521b\u5efa\u7ec4\u4ef6\u7684\u4e09\u79cd\u65b9\u5f0f\u53ca\u5176\u533a\u522b\u91cc\u63cf\u8ff0\u7684\u4e00\u6837\uff0c\u65e0\u72b6\u6001\u7ec4\u4ef6\u662f\u4e0d\u4f1a\u88ab\u5b9e\u4f8b\u5316\u7684\uff0c\u5728\u7236\u7ec4\u4ef6\u4e2d\u901a\u8fc7<code>ref</code>\u6765\u83b7\u53d6\u65e0\u72b6\u6001\u5b50\u7ec4\u4ef6\u65f6\uff0c\u5176\u503c\u4e3a<code>null</code>\uff0c\u6240\u4ee5\uff1a</p> <p>\u65e0\u6cd5\u901a\u8fc7<code>ref</code>\u6765\u83b7\u53d6\u65e0\u72b6\u6001\u7ec4\u4ef6\u5b9e\u4f8b\u3002</p> <p>\u867d\u7136\u65e0\u6cd5\u901a\u8fc7ref\u83b7\u53d6\u65e0\u72b6\u6001\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u4f46\u662f\u53ef\u4ee5\u7ed3\u5408\u590d\u5408\u7ec4\u4ef6\u6765\u5305\u88c5\u65e0\u72b6\u6001\u7ec4\u4ef6\u6765\u5728\u5176\u4e0a\u4f7f\u7528ref\u5f15\u7528\u3002</p> <p>\u53e6\u5916\uff0c\u5bf9\u4e8e\u65e0\u72b6\u6001\u7ec4\u4ef6\u6211\u4eec\u60f3\u8bbf\u95ee\u7684\u65e0\u975e\u662f\u5176\u4e2d\u5305\u542b\u7684\u7ec4\u4ef6\u6216\u8005dom\u5143\u7d20\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u53d8\u91cf\u6765\u4fdd\u5b58\u6211\u4eec\u60f3\u8981\u7684\u7ec4\u4ef6\u6216\u8005dom\u5143\u7d20\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u5f15\u7528\u3002\u4f8b\u5982\u4e0b\u9762\u4ee3\u7801\uff1a</p> <pre><code>function TestComp(props){\n    let refDom;\n    return (&lt;div&gt;\n        &lt;div ref={(node) =&gt; refDom = node}&gt;\n            ...\n        &lt;/div&gt;\n    &lt;/div&gt;)\n}\n</code></pre> <p>\u8fd9\u6837\uff0c\u53ef\u4ee5\u901a\u8fc7\u53d8\u91cf<code>refDom</code>\u6765\u8bbf\u95ee\u5230\u65e0\u72b6\u6001\u7ec4\u4ef6\u4e2d\u7684\u6307\u5b9adom\u5143\u7d20\u4e86\uff0c\u8bbf\u95ee\u5176\u4e2d\u7684\u5176\u4ed6\u7ec4\u4ef6\u5b9e\u4f8b\u7c7b\u4f3c\u3002</p>"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#refhoc","title":"ref\u5728HOC\u4e2d\u5b58\u5728\u95ee\u9898","text":"<p>react\u7684<code>HOC</code>\u662f\u9ad8\u9636\u7ec4\u4ef6\uff0c\u7b80\u5355\u7406\u89e3\u5c31\u662f\u5305\u88c5\u4e86\u4e00\u4e2a\u4f4e\u9636\u7684\u7ec4\u4ef6\uff0c\u6700\u540e\u8fd4\u56de\u4e00\u4e2a\u9ad8\u9636\u7684\u7ec4\u4ef6\uff1b\u9ad8\u9636\u7ec4\u4ef6\u5176\u5b9e\u662f\u5728\u4f4e\u9636\u7ec4\u4ef6\u57fa\u7840\u4e0a\u505a\u4e86\u4e00\u4e9b\u4e8b\u60c5\uff0c\u6bd4\u65b9\u8bf4<code>antd</code>\u7ec4\u4ef6\u7684<code>Form create</code>\u7684\u65b9\u6cd5\uff0c\u5b83\u5c31\u662f\u5728\u4e3a\u4f4e\u9636\u7ec4\u4ef6\u5c01\u88c5\u4e86\u4e00\u4e9b\u7279\u6b8a\u7684\u5c5e\u6027\uff0c\u6bd4\u5982<code>form</code>\u5c5e\u6027\u3002</p> <p>\u65e2\u7136<code>HOC</code>\u4f1a\u57fa\u4e8e\u4f4e\u9636\u7ec4\u4ef6\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u9ad8\u9636\u7ec4\u4ef6\uff0c\u82e5\u7528<code>ref</code>\u5c31\u4e0d\u80fd\u8bbf\u95ee\u5230\u6211\u4eec\u771f\u6b63\u9700\u8981\u7684\u4f4e\u9636\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u6211\u4eec\u8bbf\u95ee\u5230\u7684\u5176\u5b9e\u662f\u9ad8\u9636\u7ec4\u4ef6\u5b9e\u4f8b\u3002\u6240\u4ee5:</p> <p>\u82e5HOC\u4e0d\u505a\u7279\u6b8a\u5904\u7406\uff0cref\u662f\u65e0\u6cd5\u8bbf\u95ee\u5230\u4f4e\u9636\u7ec4\u4ef6\u5b9e\u4f8b\u7684</p> <p>\u8981\u60f3\u7528<code>ref</code>\u8bbf\u95ee\u4f4e\u9636\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u5c31\u5fc5\u987b\u5f97HOC\u652f\u6301\uff0c\u5c31\u50cf<code>Redux</code>\u7684connect\u65b9\u6cd5\u63d0\u4f9b\u7684<code>withRef</code>\u5c5e\u6027\u6765\u8bbf\u95ee\u4f4e\u9636\u7ec4\u4ef6\u4e00\u6837\u3002\u5177\u4f53\u53ef\u4ee5\u53c2\u8003\u8fd9\u91cc\u3002</p>"},{"location":"react/React%E8%8E%B7%E5%8F%96%E5%B0%BA%E5%AF%B8/#_1","title":"\u603b\u7ed3","text":"<p><code>ref</code>\u63d0\u4f9b\u4e86\u4e00\u79cd\u5bf9\u4e8ereact\u6807\u51c6\u7684\u6570\u636e\u6d41\u4e0d\u592a\u9002\u7528\u7684\u60c5\u51b5\u4e0b\u7ec4\u4ef6\u95f4\u4ea4\u4e92\u7684\u65b9\u5f0f\uff0c\u4f8b\u5982\u7ba1\u7406dom\u5143\u7d20focus\u3001text selection\u4ee5\u53ca\u4e0e\u7b2c\u4e09\u65b9\u7684dom\u5e93\u6574\u5408\u7b49\u7b49\u3002 \u4f46\u662f\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u5e94\u8be5\u4f7f\u7528react\u54cd\u5e94\u6570\u636e\u6d41\u90a3\u79cd\u65b9\u5f0f\uff0c\u4e0d\u8981\u8fc7\u5ea6\u4f7f\u7528ref\u3002</p> <p>\u53e6\u5916\uff0c\u5728\u4f7f\u7528ref\u65f6\uff0c\u4e0d\u7528\u62c5\u5fc3\u4f1a\u5bfc\u81f4\u5185\u5b58\u6cc4\u9732\u7684\u95ee\u9898\uff0creact\u4f1a\u81ea\u52a8\u5e2e\u4f60\u7ba1\u7406\u597d\uff0c\u5728\u7ec4\u4ef6\u5378\u8f7d\u65f6ref\u503c\u4e5f\u4f1a\u88ab\u9500\u6bc1\u3002</p> <p>\u6700\u540e\u8865\u5145\u4e00\u70b9\uff1a</p> <p>\u4e0d\u8981\u5728\u7ec4\u4ef6\u7684<code>render</code>\u65b9\u6cd5\u4e2d\u8bbf\u95ee<code>ref</code>\u5f15\u7528\uff0c<code>render</code>\u65b9\u6cd5\u53ea\u662f\u8fd4\u56de\u4e00\u4e2a\u865a\u62dfdom\uff0c\u8fd9\u65f6\u7ec4\u4ef6\u4e0d\u4e00\u5b9a\u6302\u8f7d\u5230dom\u4e2d\u6216\u8005render\u8fd4\u56de\u7684\u865a\u62dfdom\u4e0d\u4e00\u5b9a\u4f1a\u66f4\u65b0\u5230dom\u4e2d\u3002</p>"},{"location":"react/React%E8%BF%9B%E9%98%B6%E2%80%94%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/","title":"React\u8fdb\u9636\u2014\u6027\u80fd\u4f18\u5316","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9736  \u9605\u8bfb20\u5206\u949f</p>"},{"location":"react/React%E8%BF%9B%E9%98%B6%E2%80%94%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#react_1","title":"React\u6027\u80fd\u4f18\u5316\u601d\u8def","text":"<p>\u8f6f\u4ef6\u7684\u6027\u80fd\u4f18\u5316\u601d\u8def\u5c31\u50cf\u751f\u6d3b\u4e2d\u53bb\u770b\u75c5\uff0c\u5927\u81f4\u662f\u8fd9\u6837\u7684\uff1a</p> <ol> <li>\u4f7f\u7528\u5de5\u5177\u6765\u5206\u6790\u6027\u80fd\u74f6\u9888\uff08\u627e\u75c5\u6839\uff09</li> <li>\u5c1d\u8bd5\u4f7f\u7528\u4f18\u5316\u6280\u5de7\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff08\u670d\u836f\uff09</li> <li>\u4f7f\u7528\u5de5\u5177\u6d4b\u8bd5\u6027\u80fd\u662f\u5426\u786e\u5b9e\u6709\u63d0\u5347\uff08\u7597\u6548\u786e\u8ba4\uff09</li> </ol>"},{"location":"react/React%E8%BF%9B%E9%98%B6%E2%80%94%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#react_2","title":"React\u6027\u80fd\u4f18\u5316\u7684\u7279\u6b8a\u6027","text":"<p>\u770b\u8fc7\u300a\u9ad8\u6027\u80fdJavaScript\u300b\u8fd9\u672c\u4e66\u7684\u5c0f\u4f19\u4f34\u90fd\u77e5\u9053\uff0cJavaScipt\u7684\u8bed\u8a00\u7279\u6027\u3001\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u3001\u6d4f\u89c8\u5668\u673a\u7406\u3001\u7f51\u7edc\u4f20\u8f93\u7b49\u90fd\u53ef\u80fd\u5bfc\u81f4\u6027\u80fd\u95ee\u9898\u3002\u540c\u6837\u662fweb\u5b9e\u73b0\uff0c\u8ddf\u4f20\u7edf\u7684\u6280\u672f\uff08\u5982\u539f\u751fjs\u3001jQuery\uff09\u76f8\u6bd4, react\u7684\u6027\u80fd\u4f18\u5316\u6709\u4ec0\u4e48\u4e0d\u540c\u5462\uff1f</p> <p>\u4f7f\u7528jQuery\u65f6\uff0c\u8981\u8003\u8651\u600e\u4e48\u4f7f\u7528\u9009\u62e9\u5668\u6765\u63d0\u9ad8\u5143\u7d20\u67e5\u627e\u6548\u7387\u3001\u4e0d\u8981\u5728\u5faa\u73af\u4f53\u5185\u8fdb\u884cDOM\u64cd\u4f5c\u3001\u4f7f\u7528\u4e8b\u4ef6\u59d4\u6258\u5440\u7b49\u7b49\u3002\u5230\u4e86React\u8fd9\u91cc\uff0c\u8fd9\u4e9b\u4e1c\u897f\u597d\u50cf\u90fd\u7528\u4e0d\u4e0a\u4e86\u3002\u662f\u7684\uff0c\u56e0\u4e3aReact\u6709\u4e00\u4e2a\u5f88\u5927\u7684\u4e0d\u540c\u70b9\uff0c\u5b83\u5b9e\u73b0\u4e86\u865a\u62dfDOM\uff0c\u5e76\u4e14\u63a5\u7ba1\u4e86DOM\u7684\u64cd\u4f5c\u3002\u4f60\u4e0d\u80fd\u76f4\u63a5\u53bb\u64cd\u4f5cDOM\u6765\u6539\u53d8UI\uff0c\u4f60\u53ea\u80fd\u901a\u8fc7\u6539\u53d8\u6570\u636e\u6e90\uff08props\u548cstate\uff09\u6765\u9a71\u52a8UI\u7684\u53d8\u5316\u3002</p> <p>\u8bf4\u8d77React\u7684\u6027\u80fd\u5206\u6790\uff0c\u8fd8\u5f97\u4ece\u5b83\u7684\u751f\u547d\u5468\u671f\u548c\u6e32\u67d3\u673a\u5236\u8bf4\u8d77\uff1a</p>"},{"location":"react/React%E8%BF%9B%E9%98%B6%E2%80%94%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#react_3","title":"React\u7ec4\u4ef6\u751f\u547d\u5468\u671f","text":"<p>\u5f53 props \u548c state \u53d1\u751f\u53d8\u5316\u65f6\uff0cReact\u4f1a\u6839\u636eshouldComponentUpdate\u65b9\u6cd5\u6765\u51b3\u5b9a\u662f\u5426\u91cd\u65b0\u6e32\u67d3\u6574\u4e2a\u7ec4\u4ef6\u3002</p>"},{"location":"react/React%E8%BF%9B%E9%98%B6%E2%80%94%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#react_4","title":"React\u7ec4\u4ef6\u6811\u6e32\u67d3\u673a\u5236","text":"<p>\u7236\u4eb2\u7ec4\u4ef6\u7684props \u548c state\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u5b83\u548c\u5b83\u7684\u5b50\u7ec4\u4ef6\u3001\u5b59\u5b50\u7ec4\u4ef6\u7b49\u6240\u6709\u540e\u4ee3\u7ec4\u4ef6\u90fd\u4f1a\u91cd\u65b0\u6e32\u67d3\u3002</p> <p>\u7efc\u4e0a\u6240\u8ff0\uff0c\u53ef\u4ee5\u5f97\u51faReact\u7684\u6027\u80fd\u4f18\u5316\u5c31\u662f\u56f4\u7ed5shouldComponentUpdate\u65b9\u6cd5\uff08SCU\uff09\u6765\u8fdb\u884c\u7684\uff0c\u65e0\u5916\u4e4e\u4e24\u70b9\uff1a</p> <ol> <li>\u7f29\u77edSCU\u65b9\u6cd5\u7684\u6267\u884c\u65f6\u95f4(\u6216\u8005\u4e0d\u6267\u884c)\u3002</li> <li>\u6ca1\u5fc5\u8981\u7684\u6e32\u67d3\uff0cSCU\u5e94\u8be5\u8fd4\u56defalse\u3002</li> </ol>"},{"location":"react/React%E8%BF%9B%E9%98%B6%E2%80%94%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#react_5","title":"React \u6027\u80fd\u5206\u6790\u5de5\u5177","text":""},{"location":"react/React%E8%BF%9B%E9%98%B6%E2%80%94%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#webchrome-devtools","title":"Web\u901a\u7528\u5de5\u5177\uff1aChrome DevTools","text":"<p>\u6700\u5e38\u7528\u5230\u7684\u662fChrome DevTools\u7684Timeline\u548cProfiles\u3002</p> <ul> <li>Timeline\u5de5\u5177\u680f\u63d0\u4f9b\u4e86\u5bf9\u4e8e\u5728\u88c5\u8f7d\u4f60\u7684Web\u5e94\u7528\u7684\u8fc7\u7a0b\u4e2d\uff0c\u65f6\u95f4\u82b1\u8d39\u60c5\u51b5\u7684\u6982\u89c8\uff0c\u8fd9\u4e9b\u5e94\u7528\u5305\u62ec\u5904\u7406DOM\u4e8b\u4ef6, \u9875\u9762\u5e03\u5c40\u6e32\u67d3\u6216\u8005\u5411\u5c4f\u5e55\u7ed8\u5236\u5143\u7d20\u3002</li> <li>\u901a\u8fc7Timeline\u53d1\u73b0\u662f\u811a\u672c\u95ee\u9898\u65f6\uff0c\u4f7f\u7528Profiles\u4f5c\u8fdb\u4e00\u6b65\u5206\u6790\u3002Profiles\u53ef\u4ee5\u63d0\u4f9b\u66f4\u52a0\u8be6\u7ec6\u7684\u811a\u672c\u4fe1\u606f\u3002</li> </ul>"},{"location":"react/React%E8%BF%9B%E9%98%B6%E2%80%94%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#reactperf","title":"React\u7279\u8272\u5de5\u5177\uff1aPerf","text":"<p>Perf \u662freact\u5b98\u65b9\u63d0\u4f9b\u7684\u6027\u80fd\u5206\u6790\u5de5\u5177\u3002Perf\u6700\u6838\u5fc3\u7684\u65b9\u6cd5\u83ab\u8fc7\u4e8e<code>Perf.printWasted(measurements)</code>\u4e86\uff0c\u8be5\u65b9\u6cd5\u4f1a\u5217\u51fa\u90a3\u4e9b\u6ca1\u5fc5\u8981\u7684\u7ec4\u4ef6\u6e32\u67d3\u3002\u5f88\u5927\u7a0b\u5ea6\u4e0a\uff0cReact\u7684\u6027\u80fd\u4f18\u5316\u5c31\u662f\u5e72\u6389\u8fd9\u4e9b\u65e0\u8c13\u7684\u6e32\u67d3\u3002</p> <p>\u6709\u7ae5\u978b\u5f00\u53d1\u4e86Chrome\u6269\u5c55\u7a0b\u5e8f\u201cReact Perf\u201d\uff08\u6233\u8fd9\u91cc\uff09\u3002\u76f8\u6bd4\u81ea\u5df1\u5728\u4ee3\u7801\u4e2d\u63d2\u5165Perf\u65b9\u6cd5\u8fdb\u884c\u5206\u6790\uff0c\u8fd9\u4e2a\u5c0f\u5de5\u5177\u66f4\u52a0\u7075\u6d3b\u65b9\u4fbf\uff0c\u5899\u88c2\u63a8\u8350\uff01</p>"},{"location":"react/React%E8%BF%9B%E9%98%B6%E2%80%94%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#todolist","title":"\u6848\u4f8b\u5206\u6790\uff1aTodoList","text":"<p>TodoList\u7684\u529f\u80fd\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u5bf9\u5f85\u529e\u4e8b\u9879\u8fdb\u884c\u589e\u52a0\u548c\u5220\u9664\u64cd\u4f5c\uff1a </p> <pre><code>import React, {PropTypes, Component} from 'react';\n\nclass TodoItem extends Component {\n\n  static propTypes = {\n    deleteItem: PropTypes.func.isRequired,\n    item: PropTypes.shape({\n      text: PropTypes.string.isRequired,\n      id: PropTypes.number.isRequired,\n    }).isRequired,\n  };\n\ndeleteItem = ()=&gt;{\n  let id = this.props.item.id;\n  this.props.deleteItem(id);\n};\n\nrender() {\n  return (\n    &lt;div&gt;\n      &lt;button style={{width: 30}} onClick={this.deleteItem}&gt;X&lt;/button&gt;\n      &amp;nbsp;\n      &lt;span&gt;{this.props.item.text}&lt;/span&gt;\n    &lt;/div&gt;\n  );\n}\n\n}\n\nclass Todos extends Component {\n\n  // \u6784\u9020\n  constructor(props) {\n    super(props);\n    // \u521d\u59cb\u72b6\u6001\n    this.state = {\n      items: this.props.initialItems,\n      text: '',\n    };\n  }\n\n  static propTypes = {\n    initialItems: PropTypes.arrayOf(PropTypes.shape({\n      text: PropTypes.string.isRequired,\n      id: PropTypes.number.isRequired,\n    }).isRequired).isRequired,\n  };\n\naddTask = (e)=&gt; {\n  e.preventDefault();\n  this.setState({\n    items: [{id: ID++, text: this.state.text}].concat(this.state.items),\n    text: '',\n  });\n};\n\ndeleteItem = (itemId)=&gt; {\n  this.setState({\n    items: this.state.items.filter((item) =&gt; item.id !== itemId),\n  });\n};\n\nrender() {\n  return (\n    &lt;div&gt;\n      &lt;h1&gt;\u5f85\u529e\u4e8b\u9879&lt;/h1&gt;\n      &lt;form onSubmit={this.addTask}&gt;\n        &lt;input value={this.state.text} onChange={(v)=&gt;{this.setState({text:v.target.value});}}/&gt;\n        &lt;button&gt;\u6dfb\u52a0&lt;/button&gt;\n      &lt;/form&gt;\n      {this.state.items.map((item) =&gt; {\n        return (\n          &lt;TodoItem key={item.id}\n            item={item}\n            deleteItem={this.deleteItem}/&gt;\n        );\n      })}\n    &lt;/div&gt;\n  );\n}\n}\n\nlet ID = 0;\nconst items = [];\nfor (let i = 0; i &lt; 1000; i++) {\n  items.push({id: ID++, text: '\u4e8b\u9879' + i});\n}\n\nclass TodoList extends Component {\n  render() {\n    return (\n      &lt;Todos initialItems={items}/&gt;\n    );\n  }\n}\n\nexport default TodoList;\n</code></pre> <p>\u5728\u5f85\u529e\u4e8b\u9879\u8f93\u5165\u6846\u91cc\u8f93\u5165\u4e00\u4e2a\u5b57\u6bcd\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u4ee5\u8fd9\u4e2a\u884c\u4e3a\u4e3a\u4f8b\u6765\u8fdb\u884c\u6027\u80fd\u5206\u6790\u548c\u4f18\u5316\u3002</p>"},{"location":"react/React%E8%BF%9B%E9%98%B6%E2%80%94%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#_1","title":"\u7b2c\u4e00\u6b21\u4f18\u5316","text":"<p>\u4f7f\u7528Chrome\u5f00\u53d1\u8005\u5de5\u5177\u7684Timeline\u8bb0\u5f55\u4e0b\u8fd9\u4e2a\u8fc7\u7a0b\uff1a </p> <p>\u91cd\u70b9\u5173\u6ce8\u51fa\u73b0\u7684\u7ea2\u8272\u5757\uff0c\u4ee3\u8868\u8fd9\u4e2a\u884c\u4e3a\u5b58\u5728\u6027\u80fd\u95ee\u9898\u3002\u4ece\u4e0a\u56fe\u6211\u4eec\u53ef\u4ee5\u770b\u51fa\uff0c\u8017\u65f6\u7684<code>Event(keypress)</code>\u957f\u6761\u82b1\u4e8698.8ms,\u5176\u4e2d98.5ms\u7528\u4e8e\u811a\u672c\u5904\u7406\uff0c\u53ef\u89c1\u811a\u672c\u95ee\u9898\u662f\u7f6a\u9b41\u7978\u9996\u3002</p> <p>\u63a5\u7740\uff0c\u6211\u4eec\u4f7f\u7528Profiles\u6765\u8fdb\u4e00\u6b65\u5206\u6790\u811a\u672c\u95ee\u9898\uff1a </p> <p>\u5bf9Total Time\u8fdb\u884c\u964d\u5e8f\u6392\u5217\uff0c\u53d1\u73b0\u8017\u65f6\u6700\u957f\u7684\u662fdispatchEvent\uff0c\u6765\u81eareact\u6e90\u7801\u3002\u8fd9\u65f6\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u786e\u5b9a\u662freact\u8fd9\u4e00\u5c42\u51fa\u73b0\u4e86\u6027\u80fd\u95ee\u9898\u3002</p> <p>\u55ef\uff0c\u8f6e\u5230Perf\u51fa\u573a\u4e86\uff1a </p> <p>\u4e0a\u56fe\u8868\u793a\uff0c\u67091000\u6b21\u4e0d\u5fc5\u8981\u7684\u6e32\u67d3\u53d1\u751f\u5728TodoItem\u7ec4\u4ef6\u4e0a.</p> <p>\u6253\u5f00react\u9762\u677f\uff0c\u6211\u4eec\u6765\u770b\u770b\u7ec4\u4ef6\u7684\u5c42\u6b21\u548c\u76f8\u5e94\u7684state\u3001props\u503c\uff1a </p> <p>TodoItem\u662fTodos\u7684\u5b50\u7ec4\u4ef6\uff0c\u5f53\u6211\u4eec\u5728\u8f93\u5165\u6846\u8f93\u5165\u5b57\u6bcd\u201cs\u201d\u65f6\uff0cTodos\u7684state\u503c\u53d1\u751f\u6539\u53d8\u65f6\uff0c\u6587\u7ae0\u5f00\u5934\u6240\u8bf4\u7684react\u7684\u6e32\u67d3\u673a\u5236\u5bfc\u81f4Todos\u4e0b\u76841000\u4e2aTodoItem\u7ec4\u4ef6\u90fd\u4f1a\u91cd\u65b0\u6e32\u67d3\u4e00\u6b21\u3002\u4f46\u662f\uff0cTodoItem\u7684\u5c55\u73b0\u5176\u5b9e\u6ca1\u6709\u4efb\u4f55\u53d8\u5316\u3002 \u4ece\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u51fa\uff0cTodoItem\u7ec4\u4ef6\u5c55\u73b0\u53ea\u8ddfprops\uff08deleteItem\u3001item\uff09\u76f8\u5173\u3002props\u6ca1\u6709\u53d8\u5316\uff0cTodoItem\u5c31\u6ca1\u5fc5\u8981\u6e32\u67d3\u3002</p> <p>\u6240\u4ee5\uff0c\u6211\u4eec\u5e94\u8be5\u4f18\u5316\u4e0bTodoItem\u7684SCU\u65b9\u6cd5\uff1a</p> <pre><code>class TodoItem extends Component {\n\n    ...\n\n    //\u5728props\u6ca1\u6709\u53d8\u5316\u7684\u65f6\u5019\u8fd4\u56defalse\uff0c\u4e0d\u91cd\u65b0\u6e32\u67d3\n    shouldComponentUpdate(nextState,nextProps) {\n        if(this.props.item == nextProps.item &amp;&amp; this.props.deleteItem == nextProps.deleteItem){\n            return false;\n        }\n        return true;\n    }\n\n    render() {\n       ... \n    }\n\n}\n</code></pre> <p>(PS: TodoItem\u4e2d\u7684SCU\u65b9\u6cd5\uff0c\u4f7f\u7528\u7684\u662f\u6d45\u6bd4\u8f83\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528PureComponent\u4ee3\u66ff\u3002\u5b9e\u9645\u9879\u76ee\u4e2d\uff0c\u5f80\u5f80\u9700\u8981\u4f7f\u7528\u590d\u6742\u7684\u6df1\u6bd4\u8f83\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528Immutable.js)</p> <p>\u9a8c\u8bc1\u4e0b\u4f18\u5316\u6548\u679c\uff0c\u4f7f\u7528Perf\u6d4b\u8bd5\uff0c\u53d1\u73b01000\u4e2a\u591a\u4f59\u7684\u6e32\u67d3\u88ab\u5e72\u6389\u4e86\uff01 \u518d\u6b21\u4f7f\u7528Timeline\u5206\u6790\uff0c<code>Event(keypress)</code>\u8017\u65f6\u4ece98.5ms\u964d\u5230\u4e8626.49ms\uff0c\u6027\u80fd\u63d0\u5347\u4e862.7\u500d\uff1a </p> <p>\u7597\u6548\u8fd8\u4e0d\u9519\uff01</p>"},{"location":"react/React%E8%BF%9B%E9%98%B6%E2%80%94%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#_2","title":"\u7b2c\u4e8c\u6b21\u4f18\u5316","text":"<p>\u901a\u8fc7SCU\u8fd4\u56defalse\uff0c\u6211\u4eec\u907f\u514d\u4e86\u65e0\u8c13\u7684\u6e32\u67d3\u3002\u4f46\u662f\uff0c\u6211\u4eec\u8fd8\u662f\u8c03\u7528\u4e861000\u6b21TodoItem\u7684SCU\u65b9\u6cd5\uff0c\u8fd9\u4e5f\u662f\u4e00\u7b14\u4e0d\u5c0f\u7684\u6027\u80fd\u5f00\u652f\u3002</p> <p>\u662f\u5426\u53ef\u4ee5\u4e0d\u7528\u8c03\u7528\u5462\uff1f\u901a\u8fc7\u5408\u7406\u5730\u89c4\u5212\u7ec4\u4ef6\u7c92\u5ea6\uff0c\u53ef\u4ee5\u505a\u5230\uff1a</p> <pre><code>//\u5c06\u589e\u52a0\u5f85\u529e\u4e8b\u9879\u62bd\u8c61\u6210\u4e00\u4e2a\u7ec4\u4ef6\nclass AddItem extends Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      text:\"\"\n    };\n  }\n\n  static PropTypes = {\n    addTask:PropTypes.func.isRequired\n  };\n\naddTask = (e)=&gt;{\n  e.preventDefault();\n  this.props.addTask(this.state.text);\n};\n\nrender(){\n  return (\n    &lt;form onSubmit={this.addTask}&gt;\n      &lt;input value={this.state.text} onChange={(v)=&gt;{this.setState({text:v.target.value});}}/&gt;\n      &lt;button&gt;\u6dfb\u52a0&lt;/button&gt;\n    &lt;/form&gt;\n  );\n\n}\n}\n\nclass Todos extends Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: this.props.initialItems,\n    };\n  }\n\n  static propTypes = {\n    initialItems: PropTypes.arrayOf(PropTypes.shape({\n      text: PropTypes.string.isRequired,\n      id: PropTypes.number.isRequired,\n    }).isRequired).isRequired,\n  };\n\naddTask = (text)=&gt;{\n  this.setState({\n    items: [{id: ID++, text:text}].concat(this.state.items),\n    text: '',\n  });\n};\n\ndeleteItem = (itemId)=&gt;{\n  this.setState({\n    items: this.state.items.filter((item) =&gt; item.id !== itemId),\n  });\n};\n\nrender() {\n  return (\n    &lt;div&gt;\n      &lt;h1&gt;\u5f85\u529e\u4e8b\u9879V3&lt;/h1&gt;\n      &lt;AddItem addTask={this.addTask}/&gt;\n      {this.state.items.map((item) =&gt; {\n        return (\n          &lt;TodoItem key={item.id}\n            item={item}\n            deleteItem={this.deleteItem}/&gt;\n        );\n      })}\n    &lt;/div&gt;\n  );\n}\n}\n</code></pre> <p>\u628a\u589e\u52a0\u5f85\u529e\u4e8b\u9879\u62bd\u8c61\u6210\u4e00\u4e2aAddItem\u7ec4\u4ef6\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u7ec4\u4ef6\u6811\u4ece\u539f\u6765\u7684 </p> <p>\u53d8\u6210</p> <p></p> <p>\u8f93\u5165\u4fe1\u606f\u65f6\u89e6\u53d1\u53d8\u5316\u7684text\u8fd9\u4e2astate\u503c\uff0c\u88ab\u4e0b\u653e\u5230AddItem\u7ec4\u4ef6\u6765\u7ba1\u7406\uff0c\u56e0\u6b64\u4e0d\u4f1a\u5bfc\u81f4\u5144\u5f1f\u7ec4\u4ef6\uff08TodoItem\uff09\u7684\u91cd\u65b0\u6e32\u67d3\u3002</p> <p>\u518d\u6b21\u8fd0\u884cTimeline\u6d4b\u8bd5\uff0c\u8fd9\u65f6<code>Event(keypress)</code>\u8017\u65f6\u4ece26.49ms\u964d\u5230\u4e867.98ms,\u6027\u80fd\u63d0\u5347\u4e862.3\u500d\uff1a </p> <p>\u81f3\u6b64\uff0c\u6027\u80fd\u4f18\u5316\u5b8c\u6bd5~</p>"},{"location":"react/Refs%20%26%20DOM/","title":"Refs &amp; DOM","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 10283  \u9605\u8bfb21\u5206\u949f</p> <p>Refs \u63d0\u4f9b\u4e86\u4e00\u79cd\u65b9\u5f0f\uff0c\u7528\u4e8e\u8bbf\u95ee\u5728 render \u65b9\u6cd5\u4e2d\u521b\u5efa\u7684 DOM \u8282\u70b9\u6216 React \u5143\u7d20\u3002</p> <p>\u5728\u5178\u578b\u7684 React \u6570\u636e\u6d41\u4e2d, \u5c5e\u6027\uff08props\uff09\u662f\u7236\u7ec4\u4ef6\u4e0e\u5b50\u7ec4\u4ef6\u4ea4\u4e92\u7684\u552f\u4e00\u65b9\u5f0f\u3002\u8981\u4fee\u6539\u5b50\u7ec4\u4ef6\uff0c\u4f60\u9700\u8981\u4f7f\u7528\u65b0\u7684 props \u91cd\u65b0\u6e32\u67d3\u5b83\u3002\u4f46\u662f\uff0c\u67d0\u4e9b\u60c5\u51b5\u4e0b\u4f60\u9700\u8981\u5728\u5178\u578b\u6570\u636e\u6d41\u5916\u5f3a\u5236\u4fee\u6539\u5b50\u7ec4\u4ef6\u3002\u8981\u4fee\u6539\u7684\u5b50\u7ec4\u4ef6\u53ef\u4ee5\u662f React \u7ec4\u4ef6\u7684\u5b9e\u4f8b\uff0c\u4e5f\u53ef\u4ee5\u662f DOM \u5143\u7d20\u3002\u5bf9\u4e8e\u8fd9\u4e24\u79cd\u60c5\u51b5\uff0cReact \u63d0\u4f9b\u4e86\u89e3\u51b3\u529e\u6cd5\u3002</p>"},{"location":"react/Refs%20%26%20DOM/#refs","title":"\u4f55\u65f6\u4f7f\u7528 Refs","text":"<p>\u4e0b\u9762\u662f\u51e0\u4e2a\u9002\u5408\u4f7f\u7528 refs \u7684\u60c5\u51b5\uff1a</p> <ul> <li>\u5904\u7406\u7126\u70b9\u3001\u6587\u672c\u9009\u62e9\u6216\u5a92\u4f53\u63a7\u5236\u3002</li> <li>\u89e6\u53d1\u5f3a\u5236\u52a8\u753b\u3002</li> <li>\u96c6\u6210\u7b2c\u4e09\u65b9 DOM \u5e93</li> </ul> <p>\u5982\u679c\u53ef\u4ee5\u901a\u8fc7\u58f0\u660e\u5f0f\u5b9e\u73b0\uff0c\u5219\u5c3d\u91cf\u907f\u514d\u4f7f\u7528 refs\u3002</p> <p>\u4f8b\u5982\uff0c\u4e0d\u8981\u5728 <code>Dialog</code> \u7ec4\u4ef6\u4e0a\u76f4\u63a5\u66b4\u9732 <code>open()</code> \u548c <code>close()</code> \u65b9\u6cd5\uff0c\u6700\u597d\u4f20\u9012 <code>isOpen</code> \u5c5e\u6027\u3002</p>"},{"location":"react/Refs%20%26%20DOM/#refs_1","title":"\u4e0d\u8981\u8fc7\u5ea6\u4f7f\u7528 Refs","text":"<p>\u4f60\u53ef\u80fd\u9996\u5148\u4f1a\u60f3\u5230\u5728\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528 refs \u6765\u66f4\u65b0\u7ec4\u4ef6\u3002\u5982\u679c\u662f\u8fd9\u79cd\u60c5\u51b5\uff0c\u8bf7\u82b1\u4e00\u70b9\u65f6\u95f4\uff0c\u91cd\u65b0\u601d\u8003\u4e00\u4e0b state \u5c5e\u6027\u5728\u7ec4\u4ef6\u5c42\u4e2d\u4f4d\u7f6e\u3002\u901a\u5e38\u4f60\u4f1a\u60f3\u660e\u767d\uff0c\u63d0\u5347 state \u6240\u5728\u7684\u7ec4\u4ef6\u5c42\u7ea7\u4f1a\u662f\u66f4\u5408\u9002\u7684\u505a\u6cd5\u3002\u6709\u5173\u793a\u4f8b\uff0c\u8bf7\u53c2\u8003\u72b6\u6001\u63d0\u5347.</p> <p>Note</p> <p>\u4e0b\u9762\u7684\u4f8b\u5b50\u5df2\u7ecf\u7528 React v16.3 \u5f15\u5165\u7684 <code>React.createRef()</code> API \u66f4\u65b0\u3002\u5982\u679c\u4f60\u6b63\u5728\u4f7f\u7528 React \u66f4\u65e9\u7684\u53d1\u5e03\u7248\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528\u56de\u8c03\u5f62\u5f0f\u7684 refs\u3002</p>"},{"location":"react/Refs%20%26%20DOM/#refs_2","title":"\u521b\u5efa Refs","text":"<p>\u4f7f\u7528 <code>React.createRef()</code> \u521b\u5efa refs\uff0c\u901a\u8fc7 <code>ref</code> \u5c5e\u6027\u6765\u83b7\u5f97 React \u5143\u7d20\u3002\u5f53\u6784\u9020\u7ec4\u4ef6\u65f6\uff0crefs \u901a\u5e38\u88ab\u8d4b\u503c\u7ed9\u5b9e\u4f8b\u7684\u4e00\u4e2a\u5c5e\u6027\uff0c\u8fd9\u6837\u4f60\u53ef\u4ee5\u5728\u7ec4\u4ef6\u4e2d\u4efb\u610f\u4e00\u5904\u4f7f\u7528\u5b83\u4eec.</p> <pre><code>class MyComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.myRef = React.createRef();\n  }\n  render() {\n    return &lt;div ref={this.myRef} /&gt;;\n  }\n}\n</code></pre>"},{"location":"react/Refs%20%26%20DOM/#refs_3","title":"\u8bbf\u95ee Refs","text":"<p>\u5f53\u4e00\u4e2a ref \u5c5e\u6027\u88ab\u4f20\u9012\u7ed9\u4e00\u4e2a <code>render</code> \u51fd\u6570\u4e2d\u7684\u5143\u7d20\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 ref \u4e2d\u7684 <code>current</code> \u5c5e\u6027\u5bf9\u8282\u70b9\u7684\u5f15\u7528\u8fdb\u884c\u8bbf\u95ee\u3002</p> <pre><code>const node = this.myRef.current;\n</code></pre> <p>ref\u7684\u503c\u53d6\u51b3\u4e8e\u8282\u70b9\u7684\u7c7b\u578b:</p> <ul> <li>\u5f53 <code>ref</code> \u5c5e\u6027\u88ab\u7528\u4e8e\u4e00\u4e2a\u666e\u901a\u7684 HTML \u5143\u7d20\u65f6\uff0c<code>React.createRef()</code> \u5c06\u63a5\u6536\u5e95\u5c42 DOM \u5143\u7d20\u4f5c\u4e3a\u5b83\u7684 <code>current</code> \u5c5e\u6027\u4ee5\u521b\u5efa <code>ref</code> \u3002</li> <li>\u5f53 <code>ref</code> \u5c5e\u6027\u88ab\u7528\u4e8e\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u7ec4\u4ef6\u65f6\uff0c<code>ref</code> \u5bf9\u8c61\u5c06\u63a5\u6536\u8be5\u7ec4\u4ef6\u5df2\u6302\u8f7d\u7684\u5b9e\u4f8b\u4f5c\u4e3a\u5b83\u7684 <code>current</code>\u3002</li> <li>\u4f60\u4e0d\u80fd\u5728\u51fd\u6570\u5f0f\u7ec4\u4ef6\u4e0a\u4f7f\u7528 ref \u5c5e\u6027\uff0c\u56e0\u4e3a\u5b83\u4eec\u6ca1\u6709\u5b9e\u4f8b\u3002</li> </ul> <p>\u4e0b\u9762\u7684\u4f8b\u5b50\u8bf4\u660e\u4e86\u8fd9\u4e9b\u5dee\u5f02\u3002</p>"},{"location":"react/Refs%20%26%20DOM/#dom-ref","title":"\u4e3a DOM \u5143\u7d20\u6dfb\u52a0 Ref","text":"<p>\u4ee5\u4e0b\u4ee3\u7801\u4f7f\u7528 <code>ref</code> \u5b58\u50a8\u5bf9 DOM \u8282\u70b9\u7684\u5f15\u7528\uff1a</p> <pre><code>class CustomTextInput extends React.Component {\n  constructor(props) {\n    super(props);\n    // \u521b\u5efa ref \u5b58\u50a8 textInput DOM \u5143\u7d20\n    this.textInput = React.createRef();\n    this.focusTextInput = this.focusTextInput.bind(this);\n  }\n\n  focusTextInput() {\n    // \u76f4\u63a5\u4f7f\u7528\u539f\u751f API \u4f7f text \u8f93\u5165\u6846\u83b7\u5f97\u7126\u70b9\n    // \u6ce8\u610f\uff1a\u901a\u8fc7 \"current\" \u53d6\u5f97 DOM \u8282\u70b9\n    this.textInput.current.focus();\n  }\n\n  render() {\n    // \u544a\u8bc9 React \u6211\u4eec\u60f3\u628a &lt;input&gt; ref \u5173\u8054\u5230\u6784\u9020\u5668\u91cc\u521b\u5efa\u7684 `textInput` \u4e0a\n    return (\n      &lt;div&gt;\n        &lt;input\n          type=\"text\"\n          ref={this.textInput} \n         /&gt; \n        &lt;input\n          type=\"button\"\n          value=\"Focus the text input\"\n          onClick={this.focusTextInput}\n        /&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre> <p>React \u4f1a\u5728\u7ec4\u4ef6\u52a0\u8f7d\u65f6\u5c06 DOM \u5143\u7d20\u4f20\u5165 <code>current</code> \u5c5e\u6027\uff0c\u5728\u5378\u8f7d\u65f6\u5219\u4f1a\u6539\u56de <code>null</code>\u3002<code>ref</code> \u7684\u66f4\u65b0\u4f1a\u53d1\u751f\u5728<code>componentDidMount</code> \u6216 <code>componentDidUpdate</code> \u751f\u547d\u5468\u671f\u94a9\u5b50\u4e4b\u524d\u3002</p>"},{"location":"react/Refs%20%26%20DOM/#ref","title":"\u4e3a\u7c7b\u7ec4\u4ef6\u6dfb\u52a0 Ref","text":"<p>\u5982\u679c\u6211\u4eec\u60f3\u8981\u5305\u88c5\u4e0a\u9762\u7684 <code>CustomTextInput</code> \uff0c\u6765\u6a21\u62df\u6302\u8f7d\u4e4b\u540e\u7acb\u5373\u88ab\u70b9\u51fb\u7684\u8bdd\uff0c\u4f7f\u7528 ref \u6765\u8bbf\u95ee\u81ea\u5b9a\u4e49\u8f93\u5165\uff0c\u5e76\u624b\u52a8\u8c03\u7528\u5b83\u7684 <code>focusTexInput</code> \u65b9\u6cd5\uff1a</p> <pre><code>class AutoFocusTextInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.textInput = React.createRef();\n  }\n\n  componentDidMount() {\n    this.textInput.current.focusTextInput();\n  }\n\n  render() {\n    return (\n      &lt;CustomTextInput ref={this.textInput} /&gt;\n    );\n  }\n}\n</code></pre> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u79cd\u65b9\u6cd5\u4ec5\u5bf9 <code>class</code> \u58f0\u660e\u7684 <code>CustomTextInput</code> \u6709\u6548\uff1a</p> <pre><code>class CustomTextInput extends React.Component {\n  // ...\n}\n</code></pre>"},{"location":"react/Refs%20%26%20DOM/#refs_4","title":"Refs \u4e0e\u51fd\u6570\u5f0f\u7ec4\u4ef6","text":"<p>\u4f60\u4e0d\u80fd\u5728\u51fd\u6570\u5f0f\u7ec4\u4ef6\u4e0a\u4f7f\u7528 ref \u5c5e\u6027\uff0c\u56e0\u4e3a\u5b83\u4eec\u6ca1\u6709\u5b9e\u4f8b\uff1a</p> <pre><code>function MyFunctionalComponent() {\n  return &lt;input /&gt;;\n}\n\nclass Parent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.textInput = React.createRef();\n  }\n  render() {\n    // \u8fd9\u5c06 *\u4e0d\u4f1a* \u5de5\u4f5c\uff01\n    return (\n      &lt;MyFunctionalComponent ref={this.textInput} /&gt;\n    );\n  }\n}\n</code></pre> <p>\u5982\u679c\u4f60\u60f3\u4f7f\u7528 <code>ref</code>\uff0c\u5c31\u50cf\u4f60\u60f3\u4f7f\u7528\u751f\u547d\u5468\u671f\u65b9\u6cd5\u6216\u8005 state \u4e00\u6837\uff0c\u5e94\u8be5\u5c06\u5176\u8f6c\u6362\u4e3a <code>class</code> \u7ec4\u4ef6\u3002</p> <p>\u4f46\u662f\uff0c\u4f60\u53ef\u4ee5\u5728\u51fd\u6570\u5f0f\u7ec4\u4ef6\u5185\u90e8\u4f7f\u7528 <code>ref</code>\uff0c\u53ea\u8981\u5b83\u6307\u5411\u4e00\u4e2a DOM \u5143\u7d20\u6216\u8005 class \u7ec4\u4ef6\uff1a</p> <pre><code>function CustomTextInput(props) {\n  // \u8fd9\u91cc\u5fc5\u987b\u58f0\u660e textInput\uff0c\u8fd9\u6837 ref \u56de\u8c03\u624d\u53ef\u4ee5\u5f15\u7528\u5b83\n  let textInput = null;\n\n  function handleClick() {\n    textInput.focus();\n  }\n\n  return (\n    &lt;div&gt;\n      &lt;input\n        type=\"text\"\n        ref={(input) =&gt; { textInput = input; }} /&gt;\n      &lt;input\n        type=\"button\"\n        value=\"Focus the text input\"\n        onClick={handleClick}\n      /&gt;\n    &lt;/div&gt;\n  );  \n}\n</code></pre>"},{"location":"react/Refs%20%26%20DOM/#dom","title":"\u5bf9\u7236\u7ec4\u4ef6\u66b4\u9732 DOM \u8282\u70b9","text":"<p>\u5728\u6781\u5c11\u6570\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u80fd\u5e0c\u671b\u4ece\u7236\u7ec4\u4ef6\u8bbf\u95ee\u5b50\u8282\u70b9\u7684 DOM \u8282\u70b9\u3002\u901a\u5e38\u4e0d\u5efa\u8bae\u8fd9\u6837\u505a\uff0c\u56e0\u4e3a\u5b83\u4f1a\u7834\u574f\u7ec4\u4ef6\u7684\u5c01\u88c5\uff0c\u4f46\u5076\u5c14\u4e5f\u53ef\u7528\u4e8e\u89e6\u53d1\u7126\u70b9\u6216\u6d4b\u91cf\u5b50 DOM \u8282\u70b9\u7684\u5927\u5c0f\u6216\u4f4d\u7f6e\u3002</p> <p>\u867d\u7136\u4f60\u53ef\u4ee5\u5411\u5b50\u7ec4\u4ef6\u6dfb\u52a0 ref\uff0c\u4f46\u8fd9\u4e0d\u662f\u4e00\u4e2a\u7406\u60f3\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u56e0\u4e3a\u4f60\u53ea\u80fd\u83b7\u53d6\u7ec4\u4ef6\u5b9e\u4f8b\u800c\u4e0d\u662f DOM \u8282\u70b9\u3002\u5e76\u4e14\uff0c\u5b83\u8fd8\u5728\u51fd\u6570\u5f0f\u7ec4\u4ef6\u4e0a\u65e0\u6548\u3002</p> <p>\u5982\u679c\u4f60\u4f7f\u7528 React 16.3 \u6216\u66f4\u9ad8, \u8fd9\u79cd\u60c5\u51b5\u4e0b\u6211\u4eec\u63a8\u8350\u4f7f\u7528 ref \u8f6c\u53d1\u3002 Ref \u8f6c\u53d1\u4f7f\u7ec4\u4ef6\u53ef\u4ee5\u50cf\u66b4\u9732\u81ea\u5df1\u7684 ref \u4e00\u6837\u66b4\u9732\u5b50\u7ec4\u4ef6\u7684 ref\u3002\u5173\u4e8e\u600e\u6837\u5bf9\u7236\u7ec4\u4ef6\u66b4\u9732\u5b50\u7ec4\u4ef6\u7684 DOM \u8282\u70b9\uff0c\u5728 ref \u8f6c\u53d1\u6587\u6863 \u4e2d\u6709\u4e00\u4e2a\u8be6\u7ec6\u7684\u4f8b\u5b50\u3002</p> <p>\u5982\u679c\u4f60\u4f7f\u7528 React 16.2 \u6216\u66f4\u4f4e\uff0c\u6216\u8005\u4f60\u9700\u8981\u6bd4 ref \u8f6c\u53d1\u66f4\u9ad8\u7684\u7075\u6d3b\u6027\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 \u8fd9\u4e2a\u66ff\u4ee3\u65b9\u6848 \u5c06 ref \u4f5c\u4e3a\u7279\u6b8a\u540d\u5b57\u7684 prop \u76f4\u63a5\u4f20\u9012\u3002</p> <p>\u53ef\u80fd\u7684\u8bdd\uff0c\u6211\u4eec\u4e0d\u5efa\u8bae\u66b4\u9732 DOM \u8282\u70b9\uff0c\u4f46\u6709\u65f6\u5019\u5b83\u4f1a\u6210\u4e3a\u6551\u547d\u7a3b\u8349\u3002\u6ce8\u610f\u8fd9\u4e9b\u65b9\u6848\u9700\u8981\u4f60\u5728\u5b50\u7ec4\u4ef6\u4e2d\u589e\u52a0\u4e00\u4e9b\u4ee3\u7801\u3002\u5982\u679c\u4f60\u5bf9\u5b50\u7ec4\u4ef6\u7684\u5b9e\u73b0\u6ca1\u6709\u63a7\u5236\u6743\u7684\u8bdd\uff0c\u4f60\u5269\u4e0b\u7684\u9009\u62e9\u662f\u4f7f\u7528 <code>findDOMNode()</code>\uff0c\u4f46\u662f\u4e0d\u63a8\u8350\u3002</p>"},{"location":"react/Refs%20%26%20DOM/#refs_5","title":"\u56de\u8c03 Refs","text":"<p>React \u4e5f\u652f\u6301\u53e6\u4e00\u79cd\u8bbe\u7f6e ref \u7684\u65b9\u5f0f\uff0c\u79f0\u4e3a\u201c\u56de\u8c03 ref\u201d\uff0c\u66f4\u52a0\u7ec6\u81f4\u5730\u63a7\u5236\u4f55\u65f6 ref \u88ab\u8bbe\u7f6e\u548c\u89e3\u9664\u3002</p> <p>\u4e0d\u540c\u4e8e\u4f20\u9012 <code>createRef()</code> \u521b\u5efa\u7684 <code>ref</code> \u5c5e\u6027\uff0c\u4f60\u4f1a\u4f20\u9012\u4e00\u4e2a\u51fd\u6570\u3002\u8fd9\u4e2a\u51fd\u6570\u63a5\u53d7 React \u7ec4\u4ef6\u7684\u5b9e\u4f8b\u6216 HTML DOM \u5143\u7d20\u4f5c\u4e3a\u53c2\u6570\uff0c\u4ee5\u5b58\u50a8\u5b83\u4eec\u5e76\u4f7f\u5b83\u4eec\u80fd\u88ab\u5176\u4ed6\u5730\u65b9\u8bbf\u95ee\u3002</p> <p>\u4e0b\u9762\u7684\u4f8b\u5b50\u63cf\u8ff0\u4e86\u4e00\u79cd\u901a\u7528\u7684\u8303\u4f8b\uff1a\u4f7f\u7528 <code>ref</code> \u56de\u8c03\u51fd\u6570\uff0c\u5728\u5b9e\u4f8b\u7684\u5c5e\u6027\u4e2d\u5b58\u50a8\u5bf9 DOM \u8282\u70b9\u7684\u5f15\u7528\u3002</p> <pre><code>class CustomTextInput extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.textInput = null;\n    this.setTextInputRef = element =&gt; {\n      this.textInput = element;\n    };\n\n    this.focusTextInput = () =&gt; {\n      // \u76f4\u63a5\u4f7f\u7528\u539f\u751f API \u4f7f text \u8f93\u5165\u6846\u83b7\u5f97\u7126\u70b9\n      if (this.textInput) this.textInput.focus();\n    };\n  }\n\n  componentDidMount() {\n    // \u6e32\u67d3\u540e\u6587\u672c\u6846\u81ea\u52a8\u83b7\u5f97\u7126\u70b9\n    this.focusTextInput();\n  }\n\n  render() {\n    // \u4f7f\u7528 `ref` \u7684\u56de\u8c03\u5c06 text \u8f93\u5165\u6846\u7684 DOM \u8282\u70b9\u5b58\u50a8\u5230 React\n    // \u5b9e\u4f8b\u4e0a\uff08\u6bd4\u5982 this.textInput\uff09\n    return (\n      &lt;div&gt;\n        &lt;input\n          type=\"text\"\n          ref={this.setTextInputRef}\n        /&gt;\n        &lt;input\n          type=\"button\"\n          value=\"Focus the text input\"\n          onClick={this.focusTextInput}\n        /&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre> <p>React \u5c06\u5728\u7ec4\u4ef6\u6302\u8f7d\u65f6\u5c06 DOM \u5143\u7d20\u4f20\u5165<code>ref</code> \u56de\u8c03\u51fd\u6570\u5e76\u8c03\u7528\uff0c\u5f53\u5378\u8f7d\u65f6\u4f20\u5165 <code>null</code> \u5e76\u8c03\u7528\u5b83\u3002<code>ref</code> \u56de\u8c03\u51fd\u6570\u4f1a\u5728 <code>componentDidMout</code> \u548c <code>componentDidUpdate</code> \u751f\u547d\u5468\u671f\u51fd\u6570\u524d\u88ab\u8c03\u7528</p> <p>\u4f60\u53ef\u4ee5\u5728\u7ec4\u4ef6\u95f4\u4f20\u9012\u56de\u8c03\u5f62\u5f0f\u7684 refs\uff0c\u5c31\u50cf\u4f60\u53ef\u4ee5\u4f20\u9012\u901a\u8fc7 <code>React.createRef()</code> \u521b\u5efa\u7684\u5bf9\u8c61 refs \u4e00\u6837\u3002</p> <pre><code>function CustomTextInput(props) {\n  return (\n    &lt;div&gt;\n      &lt;input ref={props.inputRef} /&gt;\n    &lt;/div&gt;\n  );\n}\n\nclass Parent extends React.Component {\n  render() {\n    return (\n      &lt;CustomTextInput\n        inputRef={el =&gt; this.inputElement = el}\n      /&gt;\n    );\n  }\n}\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c<code>Parent</code> \u4f20\u9012\u7ed9\u5b83\u7684 ref \u56de\u8c03\u51fd\u6570\u4f5c\u4e3a <code>inputRef</code> \u4f20\u9012\u7ed9 <code>CustomTextInput</code>\uff0c\u7136\u540e <code>CustomTextInput</code> \u901a\u8fc7 <code>ref</code>\u5c5e\u6027\u5c06\u5176\u4f20\u9012\u7ed9 <code>&lt;input&gt;</code>\u3002\u6700\u7ec8\uff0c<code>Parent</code> \u4e2d\u7684 <code>this.inputElement</code> \u5c06\u88ab\u8bbe\u7f6e\u4e3a\u4e0e <code>CustomTextIput</code> \u4e2d\u7684 <code>&lt;input&gt;</code> \u5143\u7d20\u76f8\u5bf9\u5e94\u7684 DOM \u8282\u70b9</p>"},{"location":"react/Refs%20%26%20DOM/#apistring-refs","title":"\u65e7\u7248 API\uff1aString \u7c7b\u578b\u7684 Refs","text":"<p>\u5982\u679c\u4f60\u4e4b\u524d\u4f7f\u7528\u8fc7 React \uff0c\u4f60\u53ef\u80fd\u4e86\u89e3\u8fc7\u4e4b\u524d\u7684API\u4e2d\u7684 string \u7c7b\u578b\u7684 ref \u5c5e\u6027\uff0c\u6bd4\u5982 \u201ctextInput\u201d \uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 this.refs.textInput \u8bbf\u95eeDOM\u8282\u70b9\u3002\u6211\u4eec\u4e0d\u5efa\u8bae\u4f7f\u7528\u5b83\uff0c\u56e0\u4e3a String \u7c7b\u578b\u7684 refs \u5b58\u5728\u95ee\u9898\u3002\u5b83\u5df2\u8fc7\u65f6\u5e76**\u53ef\u80fd\u4f1a\u5728\u672a\u6765\u7684\u7248\u672c\u88ab\u79fb\u9664**\u3002\u5982\u679c\u4f60\u76ee\u524d\u8fd8\u5728\u4f7f\u7528 this.refs.textInput \u8fd9\u79cd\u65b9\u5f0f\u8bbf\u95ee refs \uff0c\u6211\u4eec\u5efa\u8bae\u7528\u56de\u8c03\u51fd\u6570\u7684\u65b9\u5f0f\u4ee3\u66ff\u3002</p>"},{"location":"react/Refs%20%26%20DOM/#_1","title":"\u6ce8\u610f","text":"<p>\u5982\u679c ref \u56de\u8c03\u4ee5\u5185\u8054\u51fd\u6570\u7684\u65b9\u5f0f\u5b9a\u4e49\uff0c\u5728\u66f4\u65b0\u671f\u95f4\u5b83\u4f1a\u88ab\u8c03\u7528\u4e24\u6b21\uff0c\u7b2c\u4e00\u6b21\u53c2\u6570\u662f null \uff0c\u4e4b\u540e\u53c2\u6570\u662f DOM \u5143\u7d20\u3002\u8fd9\u662f\u56e0\u4e3a\u5728\u6bcf\u6b21\u6e32\u67d3\u4e2d\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\u5b9e\u4f8b\u3002\u56e0\u6b64\uff0cReact \u9700\u8981\u6e05\u7406\u65e7\u7684 ref \u5e76\u4e14\u8bbe\u7f6e\u65b0\u7684\u3002\u901a\u8fc7\u5c06 ref \u7684\u56de\u8c03\u51fd\u6570\u5b9a\u4e49\u6210\u7c7b\u7684\u7ed1\u5b9a\u51fd\u6570\u7684\u65b9\u5f0f\u53ef\u4ee5\u907f\u514d\u4e0a\u8ff0\u95ee\u9898\uff0c\u4f46\u662f\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u65e0\u5173\u7d27\u8981\u3002</p>"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/","title":"React16 \u65b0\u7684 getDerivedStateFromProps","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 16983  \u9605\u8bfb34\u5206\u949f</p> <p>\u5728\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c<code>componentWillReceiveProps</code>\u662f\u5728\u6ca1\u6709\u9644\u52a0\u6e32\u67d3\u7684\u60c5\u51b5\u4e0b\u66f4\u65b0\u72b6\u6001\u7684\u552f\u4e00\u65b9\u6cd5\u3002\u5728\u7248\u672c16.3\u4e2d\uff0c\u6211\u4eec\u5f15\u5165\u4e86\u4e00\u4e2a\u5168\u65b0\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\u2014\u2014<code>getDerivedStateFromProps</code>\u2014\u2014\u7528\u6765\u66ff\u6362<code>componentWillReceiveProps</code>\uff0c\u5e76\u7528\u66f4\u5b89\u5168\u7684\u65b9\u5f0f\u5904\u7406\u76f8\u540c\u7684\u573a\u666f\u3002\u4e0e\u6b64\u540c\u65f6\uff0c\u6211\u4eec\u610f\u8bc6\u5230\u4eba\u4eec\u5bf9\u5982\u4f55\u4f7f\u7528\u8fd9\u4e24\u79cd\u65b9\u6cd5\u6709\u5f88\u591a\u8bef\u89e3\uff0c\u6211\u4eec\u53d1\u73b0\u4e86\u4e00\u4e9b\u53cd\u6a21\u5f0f\uff0c\u8fd9\u4e9b\u9519\u8bef\u5bfc\u81f4\u4e86\u5fae\u5999\u800c\u4ee4\u4eba\u56f0\u60d1\u7684bug\u3002\u572816.4\u4e2d\uff0c\u6709\u5173<code>getDerivedStateFromProps</code>\u7684\u4fee\u590d\u4f7f\u5f97\u6d3e\u751f\u72b6\u6001\u66f4\u52a0\u53ef\u9884\u6d4b\uff0c\u56e0\u6b64\u9519\u8bef\u4f7f\u7528\u7684\u7ed3\u679c\u66f4\u5bb9\u6613\u88ab\u6ce8\u610f\u5230\u3002</p> <p>\u6ce8\u610f</p> <p>\u8fd9\u7bc7\u6587\u7ae0\u4e2d\u63cf\u8ff0\u7684\u6240\u6709\u53cd\u6a21\u5f0f\u90fd\u9002\u7528\u4e8e\u8f83\u8001\u7684<code>componentWillReceiveProps</code>\u548c\u8f83\u65b0\u7684<code>getDerivedStateFromProps</code>.</p> <p>\u8fd9\u7bc7\u535a\u5ba2\u6587\u7ae0\u5c06\u4ecb\u7ecd\u4ee5\u4e0b\u4e3b\u9898\uff1a</p> <ul> <li>\u4f55\u65f6\u4f7f\u7528\u6d3e\u751f\u72b6\u6001</li> <li>\u4f7f\u7528\u6d3e\u751f\u7c7b\u9047\u5230\u7684\u5e38\u89c1bug</li> <li>\u53cd\u6a21\u5f0f\uff1a\u65e0\u6761\u4ef6\u5f97\u4f7f\u7528props\u5bf9state\u8d4b\u503c</li> <li>\u53cd\u6a21\u5f0f\uff1a\u5f53props\u6539\u53d8\u65f6\u6e05\u9664state</li> <li>\u9996\u9009\u65b9\u6848</li> <li>\u4ec0\u4e48\u662fmemoization?</li> </ul>"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#_1","title":"\u4f55\u65f6\u4f7f\u7528\u6d3e\u751f\u72b6\u6001","text":"<p><code>getDerivedStateFromProps</code>\u7684\u5b58\u5728\u53ea\u6709\u4e00\u4e2a\u76ee\u7684\u3002\u5b83\u4f7f\u7ec4\u4ef6\u80fd\u591f\u6839\u636e**changes in props**\u7684\u7ed3\u679c\u66f4\u65b0\u5176\u5185\u90e8\u72b6\u6001\u3002</p> <p>\u6839\u636e\u4e00\u822c\u89c4\u5219\u2014\u2014\u8c28\u614e\u4f7f\u7528\u6d3e\u751f\u72b6\u6001\uff0c\u6211\u4eec\u6ca1\u6709\u63d0\u4f9b\u5f88\u591a\u4f8b\u5b50\u3002\u6211\u4eec\u6240\u770b\u5230\u7684\u6709\u5173\u6d3e\u751f\u72b6\u6001\u7684\u6240\u6709\u95ee\u9898\u6700\u7ec8\u90fd\u53ef\u4ee5\u5f52\u7ed3\u4e3a\uff081\uff09\u65e0\u6761\u4ef6\u5730\u66f4\u65b0\u72b6\u6001\uff0c\u6216\u8005\uff082\uff09\u5f53props\u548cstate\u4e0d\u5339\u914d\u65f6\u66f4\u65b0state\u3002\uff08\u6211\u4eec\u5c06\u5728\u4e0b\u9762\u8be6\u7ec6\u8ba8\u8bba\u8fd9\u4e24\u4e2a\u95ee\u9898\u3002\uff09</p>"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#bug","title":"\u4f7f\u7528\u6d3e\u751f\u72b6\u6001\u9047\u5230\u7684\u5e38\u89c1bug","text":"<p>\u201c\u53d7\u63a7\u201d\u548c\u201c\u4e0d\u53d7\u63a7\u5236\u201d\u7684\u672f\u8bed\u901a\u5e38\u6307\u7684\u662f\u8868\u5355\u8f93\u5165\uff0c\u4f46\u4ed6\u4eec\u8fd8\u53ef\u4ee5\u63cf\u8ff0\u4efb\u4f55\u7ec4\u4ef6\u6570\u636e\u7684\u4f4d\u7f6e\u3002\u4f5c\u4e3aprops\u4f20\u9012\u8fdb\u7ec4\u4ef6\u7684\u6570\u636e\u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f**\u53d7\u63a7\u7684**\uff08\u56e0\u4e3a\u7236\u7ec4\u4ef6\u63a7\u5236\u6570\u636e\uff09\u3002\u53ea\u5b58\u5728\u4e8e\u5185\u90e8\u72b6\u6001\u7684\u6570\u636e\u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f**\u4e0d\u53d7\u63a7\u5236\u7684**\uff08\u56e0\u4e3a\u7236\u7c7b\u4e0d\u80fd\u76f4\u63a5\u66f4\u6539\u5b83\uff09\u3002</p> <p>\u6d3e\u751f\u72b6\u6001\u6700\u5e38\u89c1\u7684\u9519\u8bef\u662f\u6df7\u5408\u8fd9\u4e24\u4e2a;\u5f53\u4e00\u4e2a\u6d3e\u751f\u72b6\u6001\u503c\u4e5f\u901a\u8fc7<code>setState</code>\u88ab\u66f4\u65b0\u65f6\uff0c\u6570\u636e\u5c31\u6ca1\u6709\u5355\u4e00\u7684\u771f\u5b9e\u6765\u6e90\u3002</p> <p>\u5f53\u8fd9\u4e9b\u7ea6\u675f\u88ab\u6539\u53d8\u65f6\uff0c\u5c31\u4f1a\u51fa\u73b0\u95ee\u9898\u3002\u8fd9\u901a\u5e38\u6709\u4e24\u79cd\u5f62\u5f0f\u3002\u8ba9\u6211\u4eec\u6765\u770b\u770b\u8fd9\u4e24\u79cd\u60c5\u51b5\u3002</p>"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#propsstate","title":"\u53cd\u6a21\u5f0f\uff1a\u65e0\u6761\u4ef6\u5f97\u4f7f\u7528props\u5bf9state\u8d4b\u503c","text":"<p>\u4e00\u4e2a\u5e38\u89c1\u7684\u8bef\u89e3\u662f\uff0c\u5f53props\u201c\u6539\u53d8\u201d\u65f6\uff0c<code>getDerivedStateFromProps</code>\u548c<code>componentWillReceiveProps</code>\u624d\u4f1a\u88ab\u8c03\u7528\u3002\u4e8b\u5b9e\u4e0a\uff0c\u53ea\u8981\u7236\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\uff0c\u8fd9\u4e9b\u751f\u547d\u5468\u671f\u51fd\u6570\u5c31\u4f1a\u88ab\u8c03\u7528\uff0c\u4e0d\u7ba1\u8fd9\u4e9bprops\u662f\u5426\u4e0e\u4ee5\u524d\u201c\u4e0d\u540c\u201d\u3002\u6b63\u56e0\u4e3a\u5982\u6b64\uff0c\u4f7f\u7528\u4efb\u4f55\u4e00\u4e2a\u53bb \u65e0\u6761\u4ef6 \u5730\u8986\u76d6\u8986\u76d6state\u90fd\u662f\u4e0d\u5b89\u5168\u7684\u3002\u8fd9\u6837\u505a\u4f1a\u5bfc\u81f4\u72b6\u6001\u66f4\u65b0\u4e22\u5931\u3002</p> <p>\u8ba9\u6211\u4eec\u770b\u4e2a\u4f8b\u5b50\u6765\u8bf4\u660e\u8fd9\u4e2a\u95ee\u9898\u3002\u8fd9\u662f\u4e00\u4e2a<code>EmailInput</code>\u7ec4\u4ef6\uff0c\u8be5\u7ec4\u4ef6\u901a\u8fc7props \u201cemail\u201d \u6765\u6620\u5c04state \u201cemail\u201d\uff1a</p> <pre><code>class EmailInput extends Component {\n  state = { \n    email: this.props.email \n  };\n\n  render() {\n    return &lt;input onChange={this.handleChange} value={this.state.email} /&gt;;\n  }\n\n  handleChange = event =&gt; {\n    this.setState({ email: event.target.value });\n  };\n\n  componentWillReceiveProps(nextProps) {\n    // This will erase any local state updates!\n    // Do not do this.\n    this.setState({ email: nextProps.email });\n  }\n}\n</code></pre> <p>\u8fd9\u4e2a\u7ec4\u4ef6\u53ef\u80fd\u770b\u8d77\u6765\u4e0d\u9519\u3002state\u88ab\u521d\u59cb\u5316\u4e3a\u7531props\u6307\u5b9a\u7684\u503c\uff0c\u5e76\u4e14\u5728\u8f93\u5165<code>\u65f6\u5b9e\u65f6\u66f4\u65b0state\u3002\u4f46\u662f\uff0c\u5982\u679c\u6211\u4eec\u7684\u7ec4\u4ef6\u7684\u7236\u7c7b\u91cd\u65b0\u6e32\u67d3\uff0c\u6211\u4eec\u5728</code>\u8f93\u5165\u7684\u4efb\u4f55\u4e1c\u897f\u90fd\u5c06\u4e22\u5931\uff01\uff08\u53c2\u89c1\u8fd9\u4e2a\u6f14\u793a\u793a\u4f8b\u3002\uff09\u5373\u4f7f\u6211\u4eec\u5728\u91cd\u7f6e\u4e4b\u524d\u6bd4\u8f83<code>nextProps.email !== this.state.email</code>\uff0c\u4e5f\u4e00\u6837\u3002</p> <p>\u5728\u8fd9\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u4e2d\uff0c\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5fc5\u987b\u901a\u8fc7\u6dfb\u52a0<code>shouldComponentUpdate</code>\uff0c\u5e76\u5224\u65ad\u53ea\u6709prop email\u53d1\u751f\u6539\u53d8\u65f6\u624d\u91cd\u65b0\u6e32\u67d3\u3002\u7136\u800c\u5728\u5b9e\u9645\u60c5\u51b5\u4e2d\uff0c\u7ec4\u4ef6\u901a\u5e38\u63a5\u53d7\u591a\u4e2aprop;\u4efb\u4f55\u4e00\u4e2aprop\u53d1\u751f\u6539\u53d8\u90fd\u4f1a\u5bfc\u81f4\u91cd\u65b0\u8fd0\u884c\u548c\u4e0d\u6b63\u786e\u7684\u91cd\u7f6e\u3002\u800c\u4e14\u5bf9\u4e8eFunction\u548cobject\u7c7b\u578b\u7684prop\uff0c<code>shouldComponentUpdate</code>\u5f88\u96be\u5224\u65ad\u662f\u5426\u53d1\u751f\u4e86\u5b9e\u8d28\u6027\u7684\u53d8\u5316\u3002\u8fd9\u91cc\u6709\u4e00\u4e2a\u6f14\u793a\uff0c<code>shouldComponentUpdate</code>\u6700\u597d\u4f5c\u4e3a\u6027\u80fd\u4f18\u5316\u4f7f\u7528\uff0c\u800c\u4e0d\u662f\u4e3a\u4e86\u786e\u4fdd\u6d3e\u751f\u72b6\u6001\u7684\u6b63\u786e\u6027\u3002</p> <p>\u5e0c\u671b\u4f60\u73b0\u5728\u53ef\u4ee5\u6e05\u695a\u5730\u77e5\u9053\u4e3a\u4ec0\u4e48**\u65e0\u6761\u4ef6\u5f97\u4f7f\u7528props\u5bf9state\u8d4b\u503c\u662f\u4e00\u4e2a\u574f\u4e3b\u610f**\u3002\u5728\u56de\u987e\u53ef\u80fd\u7684\u89e3\u51b3\u65b9\u6848\u4e4b\u524d\uff0c\u8ba9\u6211\u4eec\u770b\u770b\u4e00\u4e2a\u4e8e\u6b64\u76f8\u5173\u7684\u53e6\u5916\u4e00\u4e2a\u95ee\u9898\u6a21\u5f0f\uff1a\u5982\u679c\u6211\u4eec\u53ea\u5728\u5c5e\u6027email\u6539\u53d8\u65f6\u66f4\u65b0\u72b6\u6001\u4f1a\u600e\u6837\uff1f</p>"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#propsstate_1","title":"\u53cd\u6a21\u5f0f\uff1a\u5f53props\u6539\u53d8\u65f6\u6e05\u9664state","text":"<p>\u7ee7\u7eed\u4e0a\u8fb9\u7684\u4f8b\u5b50\uff0c\u6211\u4eec\u5224\u65ad\u53ea\u6709\u5f53<code>props.email</code>\u53d1\u751f\u6539\u53d8\u65f6\u624d\u53bb\u6267\u884c\u66f4\u65b0\uff0c\u4ee5\u6b64\u6765\u907f\u514d\u72b6\u6001\u88ab\u6e05\u9664\uff1a</p> <pre><code>class EmailInput extends Component {\n  state = {\n    email: this.props.email\n  };\n\n  componentWillReceiveProps(nextProps) {\n    // Any time props.email changes, update state.\n    if (nextProps.email !== this.props.email) {\n      this.setState({\n        email: nextProps.email\n      });\n    }\n  }\n\n  // ...\n}\n</code></pre> <p>\u6ce8\u610f</p> <p>\u5c3d\u7ba1\u4e0a\u9762\u7684\u793a\u4f8b\u663e\u793a\u4e86<code>componentWillReceiveProps</code>\uff0c\u4f46\u540c\u6837\u7684\u53cd\u6a21\u5f0f\u4e5f\u9002\u7528\u4e8e<code>getDerivedStateFromProps</code></p> <p>\u6211\u4eec\u521a\u521a\u53d6\u5f97\u4e86\u5f88\u5927\u7684\u8fdb\u6b65\u3002\u73b0\u5728\uff0c\u53ea\u6709\u5f53props\u771f\u6b63\u6539\u53d8\u7684\u65f6\u5019,\u7ec4\u4ef6\u624d\u4f1a\u64e6\u9664\u6211\u4eec\u8f93\u5165\u7684\u5185\u5bb9\u3002</p> <p>\u73b0\u5728\u51fa\u73b0\u4e86\u4e00\u4e2a\u5fae\u5999\u7684\u95ee\u9898\u3002\u60f3\u8c61\u4e00\u4e2a\u4f7f\u7528\u4e0a\u8ff0\u8f93\u5165\u7ec4\u4ef6\u7684\u5bc6\u7801\u7ba1\u7406\u5668\u5e94\u7528\u7a0b\u5e8f\u3002\u5f53\u4f7f\u7528\u76f8\u540c\u7684\u7535\u5b50\u90ae\u4ef6\u5728\u4e24\u4e2a\u5e10\u6237\u7684\u8be6\u7ec6\u4fe1\u606f\u4e4b\u95f4\u5bfc\u822a\u65f6\uff0c\u8f93\u5165\u5c06\u65e0\u6cd5\u91cd\u7f6e\u3002\u8fd9\u662f\u56e0\u4e3a\u4f20\u9012\u7ed9\u7ec4\u4ef6\u7684\u5c5e\u6027\u503c\u5bf9\u4e8e\u4e24\u4e2a\u5e10\u6237\u90fd\u662f\u76f8\u540c\u7684\uff01\u8fd9\u5bf9\u7528\u6237\u6765\u8bf4\u662f\u4e00\u4e2a\u60ca\u559c\uff0c\u56e0\u4e3a\u4e00\u4e2a\u8d26\u6237\u7684\u672a\u4fdd\u5b58\u7684\u53d8\u66f4\u4f3c\u4e4e\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u7684\u5e10\u6237\uff0c\u8fd9\u4e9b\u5e10\u6237\u78b0\u5de7\u5171\u4eab\u76f8\u540c\u7684\u7535\u5b50\u90ae\u4ef6\u3002</p> <p>\u8fd9\u79cd\u8bbe\u8ba1\u4ece\u6839\u672c\u4e0a\u6765\u8bf4\u662f\u6709\u7f3a\u9677\u7684\uff0c\u4f46\u8fd9\u5374\u662f\u4e00\u4e2a\u6781\u6613\u72af\u7684\u9519\u8bef\u3002\u5e78\u8fd0\u7684\u662f\uff0c\u6709\u4e24\u79cd\u66ff\u4ee3\u65b9\u6848\u53ef\u4ee5\u66f4\u597d\u5730\u5de5\u4f5c\u3002\u4e24\u79cd\u65b9\u6848\u7684\u5173\u952e\u5728\u4e8e\u2014\u2014\u5bf9\u4e8e\u4efb\u4f55\u6570\u636e\uff0c\u60a8\u90fd\u9700\u8981\u786e\u4fdd\u53ea\u6709\u4e00\u4e2a\u7ec4\u4ef6\u4f5c\u4e3a\u5b9e\u9645\u7684\u6765\u6e90\uff0c\u5e76\u907f\u514d\u5728\u5176\u4ed6\u7ec4\u4ef6\u4e2d\u590d\u5236\u5b83\u3002\u73b0\u5728\u6765\u770b\u4e00\u4e0b\u8fd9\u4e24\u79cd\u65b9\u6848\u3002</p>"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#_2","title":"\u9996\u9009\u65b9\u6848","text":""},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#_3","title":"\u63a8\u8350: \u5b8c\u5168\u53d7\u63a7\u7ec4\u4ef6","text":"<p>\u907f\u514d\u4e0a\u9762\u63d0\u5230\u7684\u95ee\u9898\u7684\u4e00\u79cd\u65b9\u6cd5\u662f\u5f7b\u5e95\u4ece\u7ec4\u4ef6\u4e2d\u5220\u9664\u72b6\u6001\u3002\u5982\u679c\"\u90ae\u4ef6\u5730\u5740\"\u53ea\u662f\u4f5c\u4e3a\u5c5e\u6027\u5b58\u5728\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u4e0d\u5fc5\u62c5\u5fc3\u4e0e\u72b6\u6001\u7684\u51b2\u7a81\u3002\u6211\u4eec\u751a\u81f3\u53ef\u4ee5\u628a<code>EmailInput</code>\u8f6c\u6362\u6210\u8f7b\u91cf\u7684\u51fd\u6570\u7ec4\u4ef6\uff1a</p> <pre><code>function EmailInput(props) {\n  return &lt;input onChange={props.onChange} value={props.email} /&gt;;\n}\n123\n</code></pre> <p>\u8fd9\u79cd\u65b9\u6cd5\u7b80\u5316\u4e86\u7ec4\u4ef6\u7684\u5b9e\u73b0\uff0c\u4f46\u662f\u5982\u679c\u6211\u4eec\u4ecd\u7136\u60f3\u8981\u50a8\u5b58\u4e00\u4e2a\u4e2d\u95f4\u503c\uff08draft value\uff09\uff0c\u90a3\u4e48\u7236\u8868\u5355\u7ec4\u4ef6\u73b0\u5728\u5c31\u53ea\u80fd\u624b\u52a8\u5b8c\u6210\u8fd9\u4ef6\u4e8b\u3002</p>"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#key","title":"\u63a8\u8350: \u6709\"key\"\u7684\u5b8c\u5168\u975e\u53d7\u63a7\u7ec4\u4ef6","text":"<p>\u53e6\u4e00\u79cd\u65b9\u6848\u662f\uff0c\u8ba9\u7ec4\u4ef6\u5b8c\u5168\u62e5\u6709\u4e2d\u95f4\u7684email\u72b6\u6001\uff08draft email state\uff09\u3002\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u7684\u7ec4\u4ef6\u4ecd\u7136\u63a5\u6536\u4e00\u4e2a\u5c5e\u6027\u7528\u6765\u8bbe\u7f6eemail\u7684\u521d\u59cb\u503c\uff0c\u4f46\u662f\u5374\u65e0\u6cd5\u63a5\u6536\u8fd9\u4e2a\u5c5e\u6027\u4e4b\u540e\u7684\u53d8\u5316\uff1a</p> <pre><code>class EmailInput extends Component {\n  state = { email: this.props.defaultEmail };\n\n  handleChange = event =&gt; {\n    this.setState({ email: event.target.value });\n  };\n\n  render() {\n    return &lt;input onChange={this.handleChange} value={this.state.email} /&gt;;\n  }\n}\n</code></pre> <p>\u4e3a\u4e86\u5728\u79fb\u52a8\u5230\u53e6\u4e00\u9879\uff08\u5982\u5bc6\u7801\u7ba1\u7406\u5668\u573a\u666f\uff09\u65f6\u53ef\u4ee5\u91cd\u65b0\u8d4b\u503c\uff0c\u4f7f\u7528\u201ckey\u201d\u8fd9\u4e2aReact\u7684\u7279\u6b8a\u5c5e\u6027\u3002\u5f53\u4e00\u4e2a\u201ckey\u201d\u53d1\u751f\u53d8\u5316\u65f6\uff0cReact\u5c06\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u800c\u4e0d\u662f\u66f4\u65b0\u5f53\u524d\u7684\u4e00\u4e2a\u5b9e\u4f8b\u3002\u201ckey\u201d\u901a\u5e38\u7528\u4e8e\u52a8\u6001\u5217\u8868\uff0c\u4f46\u5728\u8fd9\u91cc\u4e5f\u5f88\u6709\u7528\u3002\u5728\u6211\u4eec\u7684\u4f8b\u5b50\u4e2d\uff0c\u4f7f\u7528\u7528\u6237ID\u5728\u65b0\u7528\u6237\u88ab\u9009\u4e2d\u65f6\u91cd\u65b0\u521b\u5efa\"EmailInput\"\uff1a</p> <pre><code>&lt;EmailInput\n  defaultEmail={this.props.user.email}\n  key={this.props.user.id}\n/&gt;\n</code></pre> <p>\u6bcf\u5f53ID\u6539\u53d8\u65f6\uff0c<code>EmailInput</code>\u5c06\u88ab\u91cd\u65b0\u521b\u5efa\uff0c\u5b83\u7684\u72b6\u6001\u5c06\u88ab\u91cd\u7f6e\u4e3a\u6700\u65b0\u7684<code>defaultEmail</code>\u503c(\u793a\u4f8b)\u3002\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\uff0c\u60a8\u4e0d\u9700\u8981\u5411\u6bcf\u4e2a\u8f93\u5165\u9879\u6dfb\u52a0<code>key</code>\u3002\u628a<code>key</code>\u653e\u5728\u6574\u4e2a\u8868\u5355\u4e0a\u53ef\u80fd\u66f4\u6709\u610f\u4e49\u3002\u6bcf\u6b21\u6539\u53d8\u65f6\uff0c\u8868\u5355\u4e2d\u7684\u6240\u6709\u7ec4\u4ef6\u90fd\u5c06\u7528\u4e00\u4e2a\u65b0\u521d\u59cb\u5316\u7684\u72b6\u6001\u91cd\u65b0\u521b\u5efa\u3002</p> <p>\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8fd9\u662f\u5904\u7406\u6709\u91cd\u7f6e\u8981\u6c42\u7684\u72b6\u6001\u7684\u6700\u597d\u65b9\u6cd5\u3002</p> <p>\u6ce8\u610f</p> <p>\u8fd9\u770b\u8d77\u6765\u4f3c\u4e4e\u4f1a\u53d8\u6162\uff0c\u4e0d\u8fc7\u8fd9\u70b9\u6027\u80fd\u5dee\u5f02\u901a\u5e38\u60c5\u51b5\u662f\u65e0\u5173\u7d27\u8981\u7684\uff08\u539f\u6587\uff1aWhile this may sound slow, the performance difference is usually insignificant\uff09\u3002\u76f8\u53cd\uff0c\u5982\u679c\u7ec4\u4ef6\u5177\u6709\u5728\u66f4\u65b0\u4e0a\u8fd0\u884c\u7684\u91cd\u903b\u8f91\uff0c\u5219\u4f7f\u7528\u201ckey\u201d\u751a\u81f3\u53ef\u4ee5\u66f4\u5feb\uff0c\u56e0\u4e3a\u8be5\u5b50\u6811\u7684diff\u8fd0\u7b97\u88ab\u7701\u7565\u4e86\u3002</p>"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#1-id","title":"\u5907\u9009 1: \u901a\u8fc7ID\u5c5e\u6027\u91cd\u7f6e\u975e\u53d7\u63a7\u7ec4\u4ef6","text":"<p>\u5982\u679c<code>key</code>\u65b9\u6848\u7531\u4e8e\u67d0\u4e9b\u539f\u56e0\u4e0d\u4fbf\u4f7f\u7528\uff08\u6bd4\u5982\u7ec4\u4ef6\u7684\u521d\u59cb\u5316\u975e\u5e38\u6602\u8d35\uff09\uff0c\u4e00\u4e2a\u53ef\u884c\u4f46\u6709\u70b9\u9ebb\u70e6\u7684\u89e3\u51b3\u65b9\u6848\u662f\u5728<code>getDerivedStateFromProps</code>\u4e2d\u89c2\u5bdf\u201cuserID\u201d\u7684\u53d8\u5316\uff1a</p> <pre><code>class EmailInput extends Component {\n  state = {\n    email: this.props.defaultEmail,\n    prevPropsUserID: this.props.userID\n  };\n\n  static getDerivedStateFromProps(props, state) {\n    // Any time the current user changes,\n    // Reset any parts of state that are tied to that user.\n    // In this simple example, that's just the email.\n    if (props.userID !== state.prevPropsUserID) {\n      return {\n        prevPropsUserID: props.userID,\n        email: props.defaultEmail\n      };\n    }\n    return null;\n  }\n\n  // ...\n}\n123456789101112131415161718192021\n</code></pre> <p>\u8fd9\u4e5f\u63d0\u4f9b\u4e86\u53e6\u4e00\u79cd\u7075\u6d3b\u7684\u5904\u7406\u65b9\u6848\uff0c\u6211\u4eec\u53ef\u4ee5\u6709\u9009\u62e9\u7684\uff0c\u53ea\u91cd\u7f6e\u7ec4\u4ef6\u5185\u90e8\u7684\u67d0\u4e9b\u72b6\u6001\u3002(\u793a\u4f8b)</p> <p>\u6ce8\u610f</p> <p>\u867d\u7136\u4e0a\u8fb9\u7684\u793a\u4f8b\u4f7f\u7528\u7684\u662f<code>getDerivedStateFromProps</code>\uff0c\u5bf9\u4e8e<code>componentWillReceiveProps</code>\u4e5f\u540c\u6837\u6709\u6548</p>"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#2","title":"\u5907\u9009 2: \u901a\u8fc7\u5b9e\u4f8b\u65b9\u6cd5\u91cd\u7f6e\u975e\u53d7\u63a7\u7ec4\u4ef6","text":"<p>\u6bd4\u8f83\u4e0d\u5e38\u89c1\u7684\u60c5\u51b5\u662f\uff0c\u60a8\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\u72b6\u6001\uff0c\u5374\u6ca1\u6709\u5408\u9002\u7684ID\u4f5c\u4e3a<code>key</code>\u3002\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\u662f\u5728\u6bcf\u6b21\u60f3\u8981\u91cd\u7f6e\u7684\u65f6\u5019\uff0c\u5c06\u201ckey\u201d\u91cd\u7f6e\u4e3a\u4e00\u4e2a\u968f\u673a\u503c\u6216\u81ea\u52a8\u9012\u589e\u7684\u6570\u5b57\u3002\u53e6\u4e00\u79cd\u53ef\u884c\u7684\u66ff\u4ee3\u65b9\u6cd5\u662f\u516c\u5f00\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u4ee5\u5f3a\u5236\u91cd\u7f6e\u5185\u90e8\u72b6\u6001\uff1a</p> <pre><code>class EmailInput extends Component {\n  state = {\n    email: this.props.defaultEmail\n  };\n\n  resetEmailForNewUser(newEmail) {\n    this.setState({ email: newEmail });\n  }\n\n  // ...\n}\n</code></pre> <p>\u7236\u7ea7\u8868\u5355\u7ec4\u4ef6\u53ef\u4ee5\u901a\u8fc7ref\u8c03\u7528\u8be5\u65b9\u6cd5</p> <p>\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0cRefs\u53ef\u80fd\u4f1a\u5f88\u6709\u7528\uff0c\u4f46\u4e00\u822c\u6765\u8bf4\uff0c\u6211\u4eec\u5efa\u8bae\u60a8\u8c28\u614e\u5730\u4f7f\u7528\u5b83\u4eec\u3002\u5373\u4f7f\u5728\u793a\u4f8b\u4e2d\uff0c\u8fd9\u79cd\u547d\u4ee4\u5f0f\u65b9\u6cd5\u4e5f\u662f\u4e0d\u7406\u60f3\u7684\uff0c\u56e0\u4e3a\u8981\u53d1\u751f\u4e24\u6b21\u6e32\u67d3\u3002</p>"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#_4","title":"\u56de\u987e","text":"<p>\u56de\u987e\u4e00\u4e0b\uff0c\u5728\u8bbe\u8ba1\u7ec4\u4ef6\u65f6\uff0c\u6700\u91cd\u8981\u7684\u662f\u51b3\u5b9a\u5b83\u7684\u6570\u636e\u662f\u5426\u9700\u8981\u88ab\u63a7\u5236\u3002</p> <p>\u4e0e\u5176\u5c1d\u8bd5\u5728\u72b6\u6001\u4e2d**\u955c\u50cf\u4e00\u4e2a\u5c5e\u6027\u503c\uff0c\u4e0d\u5982\u8ba9\u7ec4\u4ef6\u88ab\u63a7\u5236**\uff0c\u5e76\u5728\u67d0\u4e9b\u7236\u7ec4\u4ef6\u7684\u72b6\u6001\u4e2d\u5408\u5e76\u4e24\u4e2a\u4e0d\u540c\u7684\u503c\u3002\u4f8b\u5982\uff0c\u4e0e\u5176\u8ba9\u5b50\u7ec4\u4ef6\u65e2\u63a5\u6536\u4e00\u4e2a\u201ccommitted\u201d\u5c5e\u6027\u53c8\u8981\u7ef4\u62a4\u4e00\u4e2a\u201cdraft\u201d\u7684\u72b6\u6001\uff0c\u4e0d\u5982\u8ba9\u7236\u7ea7\u7ec4\u4ef6\u540c\u65f6\u7ba1\u7406\u4e24\u4e2a\u72b6\u6001\u2014\u2014<code>state.committedValue</code>\u548c<code>state.draftValue</code>\u2014\u2014\u76f4\u63a5\u63a7\u5236\u5b50\u7ec4\u4ef6\u7684\u503c\u3002\u8fd9\u4f7f\u5f97\u6570\u636e\u6d41\u66f4\u52a0\u6e05\u6670\u548c\u53ef\u9884\u6d4b\u3002</p> <p>\u5bf9\u4e8e**\u975e\u53d7\u63a7**\u7684\u7ec4\u4ef6\uff0c\u5982\u679c\u60a8\u8bd5\u56fe\u5728\u67d0\u7279\u5b9a\u7684\u5c5e\u6027\uff08\u901a\u5e38\u662fID\uff09\u66f4\u6539\u65f6\u91cd\u7f6e\u72b6\u6001\uff0c\u90a3\u4e48\u60a8\u6709\u51e0\u4e2a\u9009\u9879\uff1a</p> <ul> <li>\u63a8\u8350\uff1a\u5982\u679c\u8981\u91cd\u7f6e\u5168\u90e8\u5185\u90e8\u72b6\u6001\uff0c\u4f7f\u7528<code>key</code>\u7279\u6027</li> <li>\u5907\u9009 1\uff1a\u53ea\u91cd\u7f6e\u67d0\u4e9b\u7279\u5b9a\u7684\u72b6\u6001\u5b57\u6bb5\uff0c\u5173\u6ce8\u7279\u5b9a\u5c5e\u6027\u7684\u66f4\u6539\uff08\u4f8b\u5982<code>props.userID</code>)\u3002</li> <li>\u5907\u9009 2\uff1a\u60a8\u8fd8\u53ef\u4ee5\u8003\u8651\u4f7f\u7528refs\u8c03\u7528\u4e00\u4e2a\u547d\u4ee4\u5f0f\u5b9e\u4f8b\u65b9\u6cd5\u3002</li> </ul>"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#memoization","title":"\u4ec0\u4e48\u662fmemoization?","text":"<p>\u6d3e\u751f\u72b6\u6001\u53ef\u7528\u4e8e\u786e\u4fdd\u6267\u884c<code>render</code>\u65f6\u4f7f\u7528\u7684\u503c\u4ec5\u5728\u8f93\u5165\u53d1\u751f\u53d8\u5316\u65f6\u624d\u4f1a\u91cd\u65b0\u8ba1\u7b97\u3002\u8fd9\u79cd\u6280\u672f\u88ab\u79f0\u4e3amemoization\u3002</p> <p>\u4f7f\u7528\u6d3e\u751f\u72b6\u6001\u8fdb\u884c\u8bb0\u5fc6\u5e76\u4e0d\u4e00\u5b9a\u662f\u4e0d\u597d\u7684\uff0c\u4f46\u5b83\u901a\u5e38\u4e0d\u662f\u6700\u597d\u7684\u89e3\u51b3\u65b9\u6848\u3002\u7ba1\u7406\u6d3e\u751f\u72b6\u6001\u5b58\u5728\u4e00\u5b9a\u7684\u590d\u6742\u6027\uff0c\u5e76\u4e14\u8fd9\u79cd\u590d\u6742\u6027\u4f1a\u968f\u7740\u9644\u52a0\u5c5e\u6027\u800c\u589e\u52a0\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6211\u4eec\u5411\u7ec4\u4ef6\u72b6\u6001\u6dfb\u52a0\u7b2c\u4e8c\u4e2a\u6d3e\u751f\u5b57\u6bb5\uff0c\u90a3\u4e48\u6211\u4eec\u7684\u5b9e\u73b0\u5c06\u9700\u8981\u5206\u522b\u8ddf\u8e2a\u4e24\u8005\u7684\u66f4\u6539\u3002</p> <p>\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u4f8b\u5b50\uff0c\u8fd9\u4e2a\u7ec4\u4ef6\u5e26\u6709\u4e00\u4e2aprop\uff08\u4e00\u4e2a\u9879\u76ee\u5217\u8868\uff09\uff0c\u5e76\u5448\u73b0\u4e0e\u7528\u6237\u8f93\u5165\u7684\u641c\u7d22\u67e5\u8be2\u5339\u914d\u7684\u9879\u76ee\u3002 \u4f7f\u7528\u6d3e\u751f\u72b6\u6001\u6765\u5b58\u50a8\u8fc7\u6ee4\u540e\u7684\u5217\u8868\uff1a</p> <pre><code>class Example extends Component {\n  state = {\n    filterText: \"\",\n  };\n\n  // *******************************************************\n  // NOTE: this example is NOT the recommended approach.\n  // See the examples below for our recommendations instead.\n  // *******************************************************\n\n  static getDerivedStateFromProps(props, state) {\n    // Re-run the filter whenever the list array or filter text change.\n    // Note we need to store prevPropsList and prevFilterText to detect changes.\n    if (\n      props.list !== state.prevPropsList ||\n      state.prevFilterText !== state.filterText\n    ) {\n      return {\n        prevPropsList: props.list,\n        prevFilterText: state.filterText,\n        filteredList: props.list.filter(item =&gt; item.text.includes(state.filterText))\n      };\n    }\n    return null;\n  }\n\n  handleChange = event =&gt; {\n    this.setState({ filterText: event.target.value });\n  };\n\n  render() {\n    return (\n      &lt;Fragment&gt;\n        &lt;input onChange={this.handleChange} value={this.state.filterText} /&gt;\n        &lt;ul&gt;{this.state.filteredList.map(item =&gt; &lt;li key={item.id}&gt;{item.text}&lt;/li&gt;)}&lt;/ul&gt;\n      &lt;/Fragment&gt;\n    );\n  }\n}\n</code></pre> <p>\u8fd9\u4e2a\u5b9e\u73b0\u907f\u514d\u4e86\u4e0d\u5fc5\u8981\u7684\u91cd\u65b0\u8ba1\u7b97<code>filteredList</code>\u3002\u4f46\u6211\u4eec\u5374\u505a\u5f88\u591a\u5570\u55e6\u7684\u5de5\u4f5c\uff0c\u56e0\u4e3a\u5b83\u5fc5\u987b\u5206\u522b\u8ddf\u8e2a\u548c\u68c0\u6d4b\u9053\u5177\u548c\u72b6\u6001\u7684\u53d8\u5316\uff0c\u4ee5\u4fbf\u6b63\u786e\u66f4\u65b0\u8fc7\u6ee4\u5217\u8868\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528<code>PureComponent</code>\u5e76\u5c06\u8fc7\u6ee4\u5668\u64cd\u4f5c\u79fb\u52a8\u5230\u6e32\u67d3\u65b9\u6cd5\u6765\u7b80\u5316\uff1a</p> <pre><code>// PureComponents only rerender if at least one state or prop value changes.\n// Change is determined by doing a shallow comparison of state and prop keys.\nclass Example extends PureComponent {\n  // State only needs to hold the current filter text value:\n  state = {\n    filterText: \"\"\n  };\n\n  handleChange = event =&gt; {\n    this.setState({ filterText: event.target.value });\n  };\n\n  render() {\n    // The render method on this PureComponent is called only if\n    // props.list or state.filterText has changed.\n    const filteredList = this.props.list.filter(\n      item =&gt; item.text.includes(this.state.filterText)\n    )\n\n    return (\n      &lt;Fragment&gt;\n        &lt;input onChange={this.handleChange} value={this.state.filterText} /&gt;\n        &lt;ul&gt;{filteredList.map(item =&gt; &lt;li key={item.id}&gt;{item.text}&lt;/li&gt;)}&lt;/ul&gt;\n      &lt;/Fragment&gt;\n    );\n  }\n}\n</code></pre> <p>\u4e0a\u9762\u7684\u65b9\u6cd5\u6bd4\u6d3e\u751f\u72b6\u6001\u7248\u672c\u66f4\u6e05\u6d01\u548c\u7b80\u5355\u3002 \u4f46\u662f\u6709\u65f6\uff0c\u8fd9\u6837\u5e76\u4e0d\u597d\u2014\u2014\u5bf9\u4e8e\u5927\u578b\u5217\u8868\uff0c\u8fc7\u6ee4\u53ef\u80fd\u4f1a\u5f88\u6162\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5c5e\u6027\u6539\u53d8\uff0c\u201cPureComponent\u201d\u4e0d\u4f1a\u963b\u6b62\u91cd\u65b0\u6e32\u67d3\u3002 \u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e24\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e2a\u8bb0\u5fc6\u5e2e\u52a9\u5668\uff0c\u4ee5\u907f\u514d\u4e0d\u5fc5\u8981\u5730\u91cd\u65b0\u8fc7\u6ee4\u6211\u4eec\u7684\u5217\u8868\uff1a</p> <pre><code>import memoize from \"memoize-one\";\n\nclass Example extends Component {\n  // State only needs to hold the current filter text value:\n  state = { filterText: \"\" };\n\n  // Re-run the filter whenever the list array or filter text changes:\n  filter = memoize(\n    (list, filterText) =&gt; list.filter(item =&gt; item.text.includes(filterText))\n  );\n\n  handleChange = event =&gt; {\n    this.setState({ filterText: event.target.value });\n  };\n\n  render() {\n    // Calculate the latest filtered list. If these arguments haven't changed\n    // since the last render, `memoize-one` will reuse the last return value.\n    const filteredList = this.filter(this.props.list, this.state.filterText);\n\n    return (\n      &lt;Fragment&gt;\n        &lt;input onChange={this.handleChange} value={this.state.filterText} /&gt;\n        &lt;ul&gt;{filteredList.map(item =&gt; &lt;li key={item.id}&gt;{item.text}&lt;/li&gt;)}&lt;/ul&gt;\n      &lt;/Fragment&gt;\n    );\n  }\n}\n</code></pre> <p>\u8fd9\u975e\u5e38\u7b80\u5355\uff0c\u5e76\u4e14\u4e0e\u6d3e\u751f\u72b6\u6001\u7248\u672c\u4e00\u6837\u597d\uff01</p> <p>\u5728\u4f7f\u7528memoization\u65f6\uff0c\u9700\u8981\u6ce8\u610f\u4e00\u4e9b\u7ea6\u675f\uff1a</p> <ol> <li>\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u60a8\u9700\u8981**\u5c06memoized\u51fd\u6570\u9644\u52a0\u5230\u7ec4\u4ef6\u5b9e\u4f8b**\u3002\u8fd9\u53ef\u4ee5\u9632\u6b62\u7ec4\u4ef6\u7684\u591a\u4e2a\u5b9e\u4f8b\u91cd\u7f6e\u5f7c\u6b64\u7684memoized key\u3002</li> <li>\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u60a8\u9700\u8981\u4f7f\u7528\u5177\u6709**\u53ef\u63a7\u7f13\u5b58\u5927\u5c0f**\u7684\u8bb0\u5fc6\u8f85\u52a9\u7a0b\u5e8f\uff0c\u4ee5\u9632\u6b62\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u5185\u5b58\u6cc4\u6f0f\u3002 \uff08\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86<code>memoize-one</code>\uff0c\u56e0\u4e3a\u5b83\u53ea\u7f13\u5b58\u6700\u8fd1\u7684\u53c2\u6570\u548c\u7ed3\u679c\u3002\uff09</li> <li>\u5982\u679c\u7236\u7ec4\u4ef6\u6bcf\u6b21\u6e32\u67d3\u65f6\u90fd\u91cd\u65b0\u521b\u5efa\u4e86\u201cprops.list\u201d\uff0c\u672c\u8282\u4e2d\u663e\u793a\u7684\u4efb\u4f55\u5b9e\u73b0\u90fd\u4e0d\u8d77\u4f5c\u7528\u3002\u4f46\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8fd9\u79cd\u8bbe\u7f6e\u662f\u5408\u9002\u7684\u3002</li> </ol>"},{"location":"react/getDerivedStateFromProps%E7%9A%84%E4%BD%BF%E7%94%A8/#_5","title":"\u6700\u540e","text":"<p>\u5728\u73b0\u5b9e\u4e16\u754c\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u7ec4\u4ef6\u901a\u5e38\u5305\u542b\u53d7\u63a7\u548c\u975e\u53d7\u63a7\u884c\u4e3a\u7684\u6df7\u5408\u3002\u5982\u679c\u6bcf\u4e2a\u503c\u90fd\u6709\u660e\u786e\u7684\u771f\u76f8\u6765\u6e90\uff0c\u5219\u53ef\u4ee5\u907f\u514d\u4e0a\u8ff0\u7684\u53cd\u6a21\u5f0f\u3002</p> <p>\u503c\u5f97\u91cd\u65b0\u601d\u8003\u7684\u662fgetDerivedStateFromProps\uff08\u548c\u901a\u5e38\u7684\u6d3e\u751f\u72b6\u6001\uff09\u662f\u4e00\u4e2a\u9ad8\u7ea7\u7279\u6027\uff0c\u4e5f\u56e0\u4e3a\u8fd9\u79cd\u590d\u6742\u6027\uff0c\u4f7f\u7528\u65f6\u52a1\u5fc5\u8c28\u614e\u3002</p>"},{"location":"react/jsx%E8%AF%AD%E6%B3%95/","title":"jsx\u8bed\u6cd5","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3619  \u9605\u8bfb8\u5206\u949f</p> <p>\u524d\u7aefMVVM\u4e3b\u6d41\u6846\u67b6\u90fd\u6709\u4e00\u5957\u81ea\u5df1\u7684\u6a21\u677f\u5904\u7406\u65b9\u6cd5\uff0creact\u5219\u4f7f\u7528\u5b83\u72ec\u7279\u7684jsx\u8bed\u6cd5\u3002\u5728\u7ec4\u4ef6\u4e2d\u63d2\u5165html\u7c7b\u4f3c\u7684\u8bed\u6cd5\uff0c\u7b80\u5316\u521b\u5efaview\u7684\u6d41\u7a0b\u3002</p>"},{"location":"react/jsx%E8%AF%AD%E6%B3%95/#_1","title":"\u539f\u751f\u5143\u7d20","text":"<pre><code>ReactDOM.render(\n  (&lt;div&gt;&lt;h1&gt;\u6807\u9898&lt;/h1&gt;&lt;/div&gt;),\n  document.getElementById('root')\n)\uff1b\n</code></pre> <p>\u901a\u8fc7\u7b80\u5355\u7684\u8bed\u6cd5\u9875\u9762\u5c31\u4f1a\u88ab\u63d2\u5165\u4e00\u4e2adiv+\u4e00\u4e2ah1\u6807\u7b7e\u3002\u539f\u751f\u7684html\u5143\u7d20\u53ef\u4ee5\u88ab\u76f4\u63a5\u4f7f\u7528\u3002\u4ee5\u4e0a\u7684\u8bed\u6cd5\u5e76\u4e0d\u662fjs\u652f\u6301\u7684\u8bed\u6cd5\uff0c\u9700\u8981\u88ab\u8f6c\u6362\u4e4b\u540e\u624d\u80fd\u8fd0\u884c\u3002</p>"},{"location":"react/jsx%E8%AF%AD%E6%B3%95/#_2","title":"\u81ea\u5b9a\u4e49\u5143\u7d20","text":"<p>react\u5f3a\u5927\u4e4b\u5904\u5c31\u5728\u4e8e\u53ef\u4ee5\u7ec4\u4ef6\u7684\u81ea\u5b9a\u4e49\uff0c\u5b9e\u73b0\u7ec4\u4ef6\u7684\u590d\u7528\u3002\u5982\u679c\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2a\u7ec4\u4ef6\u3002\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7jsx\u8bed\u6cd5\u8c03\u7528\u3002</p> <pre><code>import * as React from 'react'\n\nclass Page extends React.Component {\n  render() {    \n    return (&lt;div&gt;      home111 &amp;copy; \u00a9 \\ua9    &lt;/div&gt;)\n  }\n}\n\nReactDOM.render((&lt;div&gt;&lt;Page/&gt;&lt;/div&gt;), document.getElementById('root'));\n</code></pre> <p>\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2aPage\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u5728jsx\u91cc\u9762\u50cf\u8c03\u7528html\u4e00\u6837\u76f4\u63a5\u8c03\u7528\u3002</p>"},{"location":"react/jsx%E8%AF%AD%E6%B3%95/#_3","title":"\u63d2\u5165\u52a8\u6001\u6570\u636e","text":"<pre><code>let name = 'hi'\nReactDOM.render((  &lt;div&gt;    {name}  &lt;/div&gt;), document.getElementById('root'))\n</code></pre> <p>\u4f7f\u7528{}\u5c31\u53ef\u4ee5\u63d2\u5165\u6570\u636e\uff0c\u4f46\u662f{}\u4e2d\u95f4\u7684\u5fc5\u987b\u662fjs\u8868\u8fbe\u5f0f\uff0c\u4e0d\u80fd\u662f\u8bed\u53e5\u3002\u5982\u679c\u8868\u8fbe\u5f0f\u7684\u6267\u884c\u7ed3\u679c\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u5219\u4f1a\u81ea\u52a8join\u3002</p>"},{"location":"react/jsx%E8%AF%AD%E6%B3%95/#_4","title":"\u6ce8\u91ca","text":"<p>jsx\u8bed\u6cd5\u548chtml\u8bed\u6cd5\u4e00\u6837\uff0c\u4e5f\u662f\u53ef\u4ee5\u63d2\u5165\u6ce8\u91ca\uff0c\u53ea\u4e0d\u8fc7\u5199\u7684\u65f6\u5019\u6709\u4e00\u4e9b\u533a\u522b</p>"},{"location":"react/jsx%E8%AF%AD%E6%B3%95/#_5","title":"\u5b50\u7ec4\u4ef6\u6ce8\u91ca","text":"<pre><code>let name = 'hi'\nReactDOM.render((&lt;div&gt;{/* \u6ce8\u91ca */}{name}&lt;/div&gt;), document.getElementById('root'))\n</code></pre> <p>\u5728\u5b50\u7ec4\u4ef6\u4e2d\u63d2\u5165\u6ce8\u91ca\uff0c\u9700\u8981\u4f7f\u7528{}\u5305\u88f9\u8d77\u6765\uff0c\u5728//\u4e4b\u95f4\u63d2\u5165\u6ce8\u91ca\u6587\u5b57\u3002</p>"},{"location":"react/jsx%E8%AF%AD%E6%B3%95/#_6","title":"\u5c5e\u6027\u6ce8\u91ca","text":"<pre><code>let name = 'hi'\nReactDOM.render((  &lt;div&gt;    {name}    &lt;img /*         \u591a\u884c\u6ce8\u91ca    */ src=\"1.jpg\"/&gt;  &lt;/div&gt;), document.getElementById('root'))\n</code></pre> <p>\u5728\u6807\u7b7e\u4e2d\u95f4\uff0c\u53ef\u4ee5\u63d2\u5165\u4e00\u4e2a\u591a\u884c\u6ce8\u91ca\uff0c\u7c7b\u4f3c\u4e0a\u9762\u7684\u4ee3\u7801\u3002</p>"},{"location":"react/jsx%E8%AF%AD%E6%B3%95/#props","title":"\u5c5e\u6027props","text":"<ol> <li>\u53ef\u4ee5\u5411\u4f7f\u7528html\u7684attr\u4e00\u6837\u4f7f\u7528\u5c5e\u6027\uff0c\u5c31\u50cf\u4e0b\u9762img\u7684src\u4e00\u6837</li> </ol> <pre><code>let name = 'hi'\nReactDOM.render((  &lt;div&gt;    &lt;img src=\"1.png\"/&gt;  &lt;/div&gt;), document.getElementById('root'))\n</code></pre> <ol> <li>\u5982\u679c\u9700\u8981\u4f20\u9012\u52a8\u6001\u5c5e\u6027\uff0c\u4f7f\u7528{}\uff0c\u591a\u4e2a\u5c5e\u6027\uff0c\u4f7f\u7528\u5c55\u5f00\u8fd0\u7b97\u7b26</li> </ol> <pre><code>let props = {    src: '1.png',    alt: '1\u56fe\u7247'}\nReactDOM.render((  &lt;div&gt;    &lt;img src={\"1.png\"}/&gt;    &lt;img {...props}/&gt;  &lt;/div&gt;), document.getElementById('root'))\n</code></pre> <ol> <li>\u4e24\u4e2a\u8f6c\u6362,class\u2192className for\u2192htmlFor</li> </ol> <p>\u56e0\u4e3aclass\u548cfor\u662fjavascript\u5173\u952e\u5b57\uff0c\u6240\u4ee5\u8fd9\u91cc\u9700\u8981\u7528\u8f6c\u6362\u4e4b\u540e\u540d\u79f0</p> <pre><code>ReactDOM.render((  &lt;div className=\"tab\"&gt;    &lt;label htmlFor=\"name\"&gt;\u59d3\u540d:&lt;/label&gt;&lt;input id=\"name\"/&gt;  &lt;/div&gt;), document.getElementById('root'))\n</code></pre> <ol> <li>\u5e03\u5c14\u5c5e\u6027</li> </ol> <p>\u5982\u679c\u4e00\u4e2a\u5c5e\u6027\u7684\u503c\u662f\u5e03\u5c14\u503c\uff0c\u5f53\u8fd9\u4e2a\u503c\u662ftrue\u7684\u65f6\u5019\u5219\u53ef\u4ee5\u7701\u7565=\u540e\u9762\u7684\u503c\uff0c\u53ea\u4fdd\u7559key\u3002</p> <pre><code>ReactDOM.render((  \n  &lt;div className=\"tab\"&gt;    \n    &lt;input type=\"text\" required/&gt;    \n    &lt;input type=\"text\" required={true}/&gt;  \n  &lt;/div&gt;), document.getElementById('root'))\n</code></pre> <ol> <li>\u539f\u751f\u5143\u7d20\u7684\u81ea\u5b9a\u4e49\u5c5e\u6027</li> </ol> <p>react\u5bf9\u5143\u7d20\u5c5e\u6027\u505a\u4e86\u6821\u9a8c\uff0c\u5982\u679c\u5728\u539f\u751f\u5c5e\u6027\u4e0a\u4f7f\u7528\u6b64\u5143\u7d20\u4e0d\u652f\u6301\u7684\u5c5e\u6027\uff0c\u5219\u4e0d\u80fd\u7f16\u8bd1\u6210\u529f\u3002\u5fc5\u987b\u4f7f\u7528data-\u524d\u7f00</p> <pre><code>ReactDOM.render((  \n  &lt;div className=\"tab\"&gt;    \n    &lt;input type=\"text\" data-init=\"22\"/&gt;  \n  &lt;/div&gt;), document.getElementById('root'))\n</code></pre>"},{"location":"react/jsx%E8%AF%AD%E6%B3%95/#html","title":"\u63d2\u5165html","text":"<p>\u5982\u679c\u52a8\u6001\u7684\u63d2\u5165html\u5143\u7d20,react\u51fa\u4e8e\u5b89\u5168\u6027\u8003\u8651\u4f1a\u81ea\u52a8\u5e2e\u6211\u4eec\u8f6c\u4e49\u3002\u6240\u4ee5\u4e00\u5b9a\u8981\u52a8\u6001\u7684\u63d2\u5165\u5143\u7d20\u7684\u8bdd\uff0c\u4f7f\u7528dangerouslySetInnerHTML</p> <pre><code>ReactDOM.render((  \n  &lt;div className=\"tab\"&gt;    \n    &lt;div dangerouslySetInnerHTML={{__html: '&lt;span&gt;test&lt;/span&gt;'}}&gt;&lt;/div&gt;\n  &lt;/div&gt;),\ndocument.getElementById('root'))\n</code></pre>"},{"location":"react/react%20%E4%B8%AD%E9%80%9A%E8%BF%87ref%E8%8E%B7%E5%8F%96%E9%AB%98%E9%98%B6%EF%BC%88HOC%EF%BC%89%E5%AD%90%E7%BB%84%E4%BB%B6%E5%AE%9E%E4%BE%8B%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/","title":"react \u4e2d\u901a\u8fc7ref\u83b7\u53d6\u9ad8\u9636\uff08HOC\uff09\u5b50\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u89e3\u51b3\u65b9\u6848","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5757  \u9605\u8bfb12\u5206\u949f</p> <p>\u4eca\u5929\u5199react\u9879\u76ee\u9047\u5230\u4e00\u4e2a\u7236\u5b50\u7ec4\u4ef6\u901a\u4fe1\u7684\u95ee\u9898\u3002\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u5e38\u89c4\u7684\u95ee\u9898\u4e86\uff0c\u968f\u4fbf\u641c\u4e00\u4e0b\u5c31\u80fd\u5f97\u5230\u89e3\u51b3\u65b9\u6848\u3002\u603b\u4f53\u6765\u8bf4\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b\uff1a</p> <ol> <li>\u5b50\u7ec4\u4ef6\u9700\u8981\u83b7\u53d6\u7236\u7ec4\u4ef6\u7684\u4fe1\u606f\uff0c\u8fd9\u901a\u8fc7<code>props</code>\u5c31\u53ef\u4ee5\u89e3\u51b3\uff1b</li> <li>\u7236\u7ec4\u4ef6\u9700\u8981\u77e5\u9053\u5b50\u7ec4\u4ef6\u7684\u4fe1\u606f\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7<code>ref</code>\u89e3\u51b3\u3002</li> </ol> <p>\u6211\u4eec\u8fd9\u91cc\u8bb2\u7684\u5c5e\u4e8e\u540e\u8005\uff0c\u4f46\u662f\u53c8\u6709\u4e9b\u7279\u6b8a\uff0c\u7279\u6b8a\u5c31\u5728\u4e8e\u5b50\u7ec4\u4ef6\u662f\u4e2a\u9ad8\u9636\u7ec4\u4ef6\uff0c\u6bd4\u5982\u4f7f\u7528<code>@connect</code> <code>@withRouter</code>\u5305\u88f9\u8fc7\u7684\u7ec4\u4ef6\uff08\u5176\u5b9e\u5927\u90e8\u5206\u7ec4\u4ef6\u90fd\u4f1a\u88ab\u8fd9\u4e24\u4e2a\u5305\u88f9\uff09\uff0c\u5177\u4f53\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>@withRouter\nexport default class childComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  render() {\n    return (&lt;div&gt;this is childComponent&lt;/div&gt;)\n  }\n}\n\n@withRouter\nexport default class parentComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {}; \n  }\n  render () {\n    return &lt;childComponent ref={(v) =&gt; { this.childCp = v; }}/&gt;\n  }\n }\n</code></pre> <p>\u4e0a\u9762\u7684childComponent\u88abwithRouter\u5305\u88f9\u8fc7\u4e00\u904d\u540e\uff0c\u8fd9\u65f6\u5019\u4f60\u5728<code>parentComponent</code>\u4e2d\u901a\u8fc7<code>ref</code>\u83b7\u53d6\u5230\u7684\u662f\u5e76\u4e0d\u4f1a\u662f<code>childComponent</code>\uff0c\u800c\u662f<code>withRouter</code>\u7ec4\u4ef6\u3002\u8fd9\u5c31\u6bd4\u8f83\u5c34\u5c2c\u4e86\uff0c\u6211\u4eec\u5927\u591a\u6570\u60c5\u51b5\u80af\u5b9a\u662f\u9700\u8981\u83b7\u53d6\u81ea\u5df1\u5199\u7684\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u3002\u6709\u4e00\u70b9\u9700\u8981\u8bb2\u660e\u767d\uff1a\u5c31\u662f\u901a\u8fc7<code>ref</code>\u83b7\u53d6\u5230\u7684\u4e0d\u662f<code>childComponent</code>\uff0c\u5728\u539f\u7406\u4e0a\u662f\u5bf9\u7684\uff0c\u5982\u679c\u83b7\u53d6\u5230\u662f<code>childComponent</code>\u7ec4\u4ef6\u90a3\u624d\u662f\u6709\u95ee\u9898\u7684\uff0c\u6709\u6096\u4f26\u7406\u77e5\u9053\u54c7\u3002</p> <p>\u65e2\u7136\u901a\u8fc7\u5b98\u65b9\u63d0\u4f9b\u7684<code>ref</code>\u65e0\u6cd5\u83b7\u53d6\u5230\u6211\u4eec\u60f3\u8981\u7684<code>ref</code>\uff0c\u90a3\u6211\u4eec\u5c31\u6765\u4ed4\u7ec6\u60f3\u4e0b<code>ref</code>\u83b7\u53d6\u5230\u7684\u662f\u5565\uff1f\u6211\u4eec\u56de\u5f52\u5230javascript\u8bed\u8a00\u5c42\u9762\u6765\u770b\uff0c\u90a3\u4e0d\u5c31\u662f\u7ec4\u4ef6\u4e2d\u7684this\u4e48\u3002</p> <pre><code>@withRouter\nexport default class childComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {}; // \u6211\u4eec\u9700\u8981\u83b7\u53d6\u5230\u7684\u5c31\u662f\u8fd9\u4e2athis\u800c\u5df2\n  }\n  render() {\n    return (&lt;div&gt;this is childComponent&lt;/div&gt;)\n  }\n}\n</code></pre> <p>\u77e5\u9053\u6211\u4eec\u9700\u8981\u83b7\u53d6\u5230\u7684\u662f\u5565\u4e86\uff0c\u90a3\u5c31\u597d\u529e\u4e86\uff0c\u6211\u7ed9<code>childComponent</code>\u4f20\u4e00\u4e2a<code>prop</code>\u4e13\u95e8\u6765get\u8fd9\u4e2athis\u4e0d\u5c31\u597d\u4e86\uff0c\u6bd4\u5982\u4f7f\u7528<code>getInstance</code>\uff1a</p> <pre><code>@withRouter\nexport default class childComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    const { getInstance } = props;\n    if (typeof getInstance === 'function') {\n      getInstance(this); // \u5728\u8fd9\u91cc\u628athis\u66b4\u9732\u7ed9`parentComponent`\n    }\n  }\n  render() {\n    return (&lt;div&gt;this is childComponent&lt;/div&gt;)\n  }\n}\n@withRouter\nexport default class parentComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {}; \n  }\n  render () {\n    return (\n     &lt;childComponent \n       ref={(withRouter) =&gt; { this.childCpWrapper = withRouter; }}  // \u8fd9\u91cc\u83b7\u53d6\u7684\u662f`withRouter`\u7ec4\u4ef6\uff0c\u4e00\u822c\u6ca1\u5565\u7528\uff0c\u8fd9\u91cc\u5199\u51fa\u6765\u53ea\u662f\u4e3a\u4e86\u5bf9\u6bd4\n       getInstance={(childCp) =&gt; { this.childCp = childCp; }} // \u8fd9\u91cc\u901a\u8fc7`getInstance`\u4f20\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u63a5\u6536`childComponent`\u5b9e\u4f8b\u5373\u53ef\n    /&gt;\n    );\n  }\n }\n</code></pre> <p>perfect ! \u95ee\u9898\u89e3\u51b3\u4e86\uff0c\u8fd9\u6837\u6211\u4e0d\u7ba1\u4f60\u600e\u4e48\u7528\u5565\u9ad8\u9636\u7ec4\u4ef6\u3001\u7528\u591a\u5c11\u4e2a\u9ad8\u9636\u7ec4\u4ef6\u5305\u88f9\u6211\u4eec<code>childComponent</code>\uff0c\u6211\u4eec\u90fd\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a<code>getInstance</code>\uff0c\u7a7f\u8d8a\u5343\u5c71\u4e07\u6c34\u76f4\u63a5\u83b7\u53d6<code>childComponent</code>\u5b9e\u4f8b\u3002</p> <p>\u5f53\u7136\u5b8c\u7f8e\u4e5f\u662f\u76f8\u5bf9\u7684\uff0c\u6bd4\u5982\u4e0a\u9762\u7684\u65b9\u6848\u4e2d\uff0c\u6211\u4eec\u5f97\u5728\u6bcf\u4e00\u4e2a<code>childComponent</code>\u7684\u6784\u9020\u51fd\u6570\u4e2d\u5199\u90a3\u6bb5\u66b4\u9732<code>this</code>\u7684\u4ee3\u7801\uff0c\u9ebb\u70e6\u3001\u8d39\u52b2\u3002\u8fd9\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u5199\u4e00\u4e2aHOC\u4e13\u95e8\u6765\u505a\u8fd9\u4ef6\u4e8b\u60c5\uff0c\u6bd4\u5982<code>withRef</code>:</p> <pre><code>// \u53ea\u505a\u4e00\u4ef6\u4e8b\uff0c\u628a`WrappedComponent`\u56de\u4f20\u4e2a`getInstance`\uff08\u5982\u679c\u6709\u7684\u8bdd\uff09\nexport default (WrappedComponent) =&gt; {\n  return class withRef extends Component {\n    static displayName = `withRef(${WrappedComponent.displayName || WrappedComponent.name || 'Component'})`;\n    render() {\n      // \u8fd9\u91cc\u91cd\u65b0\u5b9a\u4e49\u4e00\u4e2aprops\u7684\u539f\u56e0\u662f:\n      // \u4f60\u76f4\u63a5\u53bb\u4fee\u6539this.props.ref\u5728react\u5f00\u53d1\u6a21\u5f0f\u4e0b\u4f1a\u62a5\u9519\uff0c\u4e0d\u5141\u8bb8\u4f60\u53bb\u4fee\u6539\n      const props = {\n        ...this.props,\n      };\n      // \u5728\u8fd9\u91cc\u628agetInstance\u8d4b\u503c\u7ed9ref\uff0c\n      // \u4f20\u7ed9`WrappedComponent`\uff0c\u8fd9\u6837\u5c31getInstance\u80fd\u83b7\u53d6\u5230`WrappedComponent`\u5b9e\u4f8b\n      // \u611f\u8c22\u8bc4\u8bba\u533a\u7684[yangshenghaha]\u540c\u5b66\u7684\u5b8c\u5584\n      props.ref = (el)=&gt;{\n          this.props.getInstance &amp;&amp; this.props.getInstance(el);this.props.ref &amp;&amp; this.props.ref(el);\n      }\n      return (\n        &lt;WrappedComponent {...props} /&gt;\n      );\n    }\n  };\n};\n</code></pre> <p>\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u4f7f\u7528<code>withRef</code></p> <pre><code>@withRouter\n@withRef  // \u8fd9\u6837\u4f7f\u7528\u662f\u4e0d\u662f\u65b9\u4fbf\u591a\u4e86\uff0c\u6ce8\u610f\uff1a\u8fd9\u53e5\u5fc5\u987b\u5199\u5728\u6700\u63a5\u8fd1`childComponent`\u7684\u5730\u65b9\nexport default class childComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  render() {\n    return (&lt;div&gt;this is childComponent&lt;/div&gt;)\n  }\n}\n@withRouter\nexport default class parentComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {}; \n  }\n  render () {\n    return (\n     &lt;childComponent \n       // \u8fd9\u91cc\u83b7\u53d6\u7684\u662f`withRouter`\u7ec4\u4ef6\uff0c\u4e00\u822c\u6ca1\u5565\u7528\uff0c\u8fd9\u91cc\u5199\u51fa\u6765\u53ea\u662f\u4e3a\u4e86\u5bf9\u6bd4\n       ref={(withRouter) =&gt; { this.childCpWrapper = withRouter; }}  \n      // \u8fd9\u91cc\u901a\u8fc7`getInstance`\u4f20\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u63a5\u6536`childComponent`\u5b9e\u4f8b\u5373\u53ef\n       getInstance={(childCp) =&gt; { this.childCp = childCp; }} \n    /&gt;\n    );\n  }\n }\n</code></pre> <p>\u901a\u8fc7\u8fd9\u4e2a\u5c0f\u95ee\u9898\uff0c\u5bf9\u9ad8\u9636\u7ec4\u4ef6\u7684\u7406\u89e3\u662f\u4e0d\u662f\u4e5f\u66f4\u6df1\u4e86\u4e9b\uff0c\u95ee\u9898\u624d\u662f\u6700\u597d\u7684\u6559\u6750\u554a\u3002\u6700\u540e\u8bf4\u4e00\u70b9\u5427\uff0c\u901a\u4fe1\u65b9\u5f0f\u6709\u5f88\u591a(\u66b4\u9732\u7ed9\u5168\u5c40\uff0cEventEmmiter, Props, ref...)\uff0c\u4f46\u662f\u6211\u5efa\u8bae\uff1a\u9047\u5230\u901a\u4fe1\u95ee\u9898\u8fd8\u662f\u4f18\u5148\u8003\u8651redux action\u9a71\u52a8\uff0c\u6570\u636e\u4f18\u5148\uff0c\u80fd\u901a\u8fc7\u6570\u636e\u9a71\u52a8\u89e3\u51b3\u7684\u5c3d\u91cf\u7528\u6570\u636e\u9a71\u52a8\uff0c\u6bd5\u7adf\u8fd9\u624d\u662f\u6211\u4eec\u7528react\u7684\u91cd\u8981\u539f\u56e0</p>"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/","title":"react \u9879\u76ee\u7ed3\u6784\u53ca\u7f16\u7801\u89c4\u8303","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 22630  \u9605\u8bfb46\u5206\u949f</p>"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#_1","title":"\u9879\u76ee\u7ed3\u6784","text":"<pre><code>project-name ---------------------------------- \u9879\u76ee\u540d\u5b57\n  build --------------------------------------- \u6253\u5305\u540e\u6587\u4ef6\u5939\n  config -------------------------------------- webpack\u914d\u7f6e\u6587\u4ef6\n  node-modules -------------------------------- \u9879\u76ee\u4f9d\u8d56\u7b2c\u4e09\u65b9\u5e93\n  scripts ------------------------------------- \u6253\u5305\uff0c\u8fd0\u884c\uff0c\u6d4b\u8bd5\u811a\u672c\n  src ----------------------------------------- \u9879\u76ee\u6e90\u7801\u6587\u4ef6\u5939\n    assets ------------------------------------ \u516c\u5171\u6837\u5f0f\uff0c\u5b57\u4f53\u7b49\u6587\u4ef6\u5939\n    common ------------------------------------ \u5b9a\u4e49\u7684\u5de5\u5177\u51fd\u6570\u3001\u901a\u7528\u5e38\u91cf\u3001ajax\u8bf7\u6c42\u7b49\u516c\u7528\u7ec4\u4ef6\n    components -------------------------------- \u516c\u7528\u7ec4\u4ef6\u6587\u4ef6\u5939\uff08\u63d0\u5347\u4e3a\u901a\u7528\u7ec4\u4ef6\uff0c\u4ee5\u6570\u636e\u9a71\u52a8\u4e3a\u4e3b\uff09\n    css --------------------------------------- \u7ec4\u4ef6\u81ea\u5b9a\u4e49\u6837\u5f0f\u6587\u4ef6\u5939\n    pages ------------------------------------- \u5b8c\u6210\u754c\u9762\u6587\u4ef6\u5939\uff08\u7ec4\u6210\u9879\u76ee\u4e2d\u6574\u4e2a\u754c\u9762\uff09\n      module1 --------------------------------- \u6a21\u5757\u4e00\n      module2 --------------------------------- \u6a21\u5757\u4e8c\n    **.js ------------------------------------- \u9879\u76ee\u5165\u53e3\u6587\u4ef6\n  test ---------------------------------------- \u6d4b\u8bd5\u6587\u4ef6\u5939\n  .babelrc ------------------------------------ \u662fbabel\u914d\u7f6e\u6587\u4ef6\n  package.json -------------------------------- \u9879\u76ee\u4f9d\u8d56\u5e93\u6587\u4ef6\n</code></pre> <p>\u200b       </p>"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#_2","title":"\u7f16\u7801\u89c4\u8303","text":""},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Basic Rules</li> <li>Class vs <code>React.createClass</code> vs stateless</li> <li>Mixins</li> <li>Naming</li> <li>Declaration</li> <li>Alignment</li> <li>Quotes</li> <li>Spacing</li> <li>Props</li> <li>Refs</li> <li>Parentheses</li> <li>Tags</li> <li>Methods</li> <li>Ordering</li> <li><code>isMounted</code></li> </ol>"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#basic-rules","title":"Basic Rules","text":"<ul> <li>Only include one React component per file. \u4e00\u4e2a\u6587\u4ef6\u5305\u542b\u4e00\u4e2a React Component \u7ec4\u4ef6\u3002<ul> <li>However, multiple Stateless, or Pure, Components are allowed per file. eslint: <code>react/no-multi-comp</code>. \u7279\u6b8a\u60c5\u51b5\uff1a\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u7eaf\u7ec4\u4ef6</li> </ul> </li> <li>Always use JSX syntax. \u4f7f\u7528 JSX \u8bed\u6cd5</li> <li>Do not use <code>React.createElement</code> unless you\u2019re initializing the app from a file that is not JSX.\uff08\u4e0d\u8981\u4f7f\u7528 React.createElement \u65b9\u6cd5\uff0c\u9664\u975e\u4f60\u5728\u521d\u59cb\u5316APP\u65f6\u7684 index.js \u4e2d\u4e0d\u4f7f\u7528 JSX \u8bed\u6cd5\uff09</li> </ul>"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#class-vs-reactcreateclass-vs-stateless","title":"Class vs <code>React.createClass</code> vs stateless","text":"<ul> <li> <p>If you have internal state and/or refs, prefer <code>class extends React.Component</code> over <code>React.createClass</code>. eslint: <code>react/prefer-es6-class</code> <code>react/prefer-stateless-function</code></p> <p>\u5c06 React \u7c7b\u653e\u5728\u4e00\u4e2a\u53d8\u91cf\u4e2d\uff08const Name = React.createClass\uff09\uff0c\u8fd8\u662f\u76f4\u63a5\u7ee7\u627f\u81ea\u7ec4\u4ef6\uff08class Name  extends React.Component\uff09\uff1f\u5982\u679c\u5185\u90e8\u542b\u6709state \u6216\u8005refs \u7b49\uff0c\u6700\u597d\u8bbe\u7f6e React.Component. \u5982\u679c\u4ec5\u4ec5\u662f\u5355\u5411\u7ec4\u4ef6\uff0c\u53ea\u6709props, \u6ca1\u6709\u590d\u6742\u7528\u6237\u4ea4\u4e92\uff0c\u53ef\u4ee5\u8bbe\u7f6e createClass \u6216\u8005 Purecomponent.</p> <pre><code>// bad\nconst Listing = React.createClass({\n  // ...\n  render() {\n    return &lt;div&gt;{this.state.hello}&lt;/div&gt;;\n  }\n});\n\n// good\nclass Listing extends React.Component {\n  // ...\n  render() {\n    return &lt;div&gt;{this.state.hello}&lt;/div&gt;;\n  }\n}\n</code></pre> <p>And if you don\u2019t have state or refs, prefer normal functions (not arrow functions) over classes\u3002\u5982\u679c\u6ca1\u6709 state \u548c refs\uff0c\u53ea\u6709 props \u4e0d\u9700\u8981\u4f7f\u7528\u7bad\u5934\u51fd\u6570\uff0c\u76f4\u63a5\u4f7f\u7528\u666e\u901a\u51fd\u6570\u4f20\u503c\u5373\u53ef\u3002</p> <pre><code>// bad\nclass Listing extends React.Component {\n  render() {\n    return &lt;div&gt;{this.props.hello}&lt;/div&gt;;\n  }\n}\n\n// bad (relying on function name inference is discouraged)\nconst Listing = ({ hello }) =&gt; (\n  &lt;div&gt;{hello}&lt;/div&gt;\n);\n\n// good\nfunction Listing({ hello }) {\n  return &lt;div&gt;{hello}&lt;/div&gt;;\n}\n</code></pre> </li> </ul>"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#mixins","title":"Mixins","text":"<ul> <li>Do not use mixins.</li> </ul> <p>Why? Mixins introduce implicit dependencies, cause name clashes, and cause snowballing complexity. Most use cases for mixins can be accomplished in better ways via components, higher-order components, or utility modules.</p> <p>\u4e0d\u8981\u4f7f\u7528\u6df7\u5408\u7ec4\u4ef6\uff1amixins \u5f15\u5165\u4e86\u6df1\u5c42\u4f9d\u8d56\u5173\u7cfb\uff0c\u53ef\u80fd\u540d\u79f0\u51b2\u7a81\uff0c\u5e76\u5bfc\u81f4\u6eda\u96ea\u7403\u5f0f\u590d\u6742\u6027\u3002mixin\u7684\u5927\u591a\u6570\u7528\u4f8b\u90fd\u53ef\u4ee5\u901a\u8fc7\u7ec4\u4ef6\u3001\u9ad8\u9636\u7ec4\u4ef6\u3001\u5b9e\u7528\u7a0b\u5e8f\u6a21\u5757\u4ee5\u66f4\u597d\u7684\u65b9\u5f0f\u5b8c\u6210\u3002</p> <p>\u5212\u91cd\u70b9\uff1a\u6743\u8d23\u5206\u660e\uff0c\u907f\u514d\u6df1\u5c42\u5f15\u7528\u3002\u4e00\u4e2a\u51fd\u6570\u5bf9\u5e94\u4e00\u4e2a\u4e3b\u8981\u529f\u80fd\uff0c\u4e00\u4e2a\u7ec4\u4ef6\u5bf9\u5e94\u754c\u9762\u7684\u4e00\u4e2a UI \u90e8\u5206\u3002\u5c3d\u91cf\u5b9e\u73b0\u7ec4\u4ef6\u7684\u7ee7\u627f\u548c\u590d\u7528\u3002</p>"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#naming","title":"Naming","text":"<ul> <li> <p>Extensions: Use <code>.js</code> extension for React components.</p> </li> <li> <p>Filename: Use reservation-card for filenames. E.g., <code>reservation-card.js</code>.</p> <p>\u6587\u4ef6\u540d\u4f7f\u7528\u5c0f\u5199\u5f00\u5934\uff08\u8fde\u63a5\u7b26\uff09</p> <pre><code>// bad\nimport reservationCard from './reservation-card';\n\n// good\nimport ReservationCard from './reservation-card';\n\n// bad\nconst ReservationItem = &lt;ReservationCard /&gt;;\n\n// good\nconst reservationItem = &lt;ReservationCard /&gt;;\n</code></pre> </li> <li> <p>Component Naming: Use the filename as the component name. For example, <code>ReservationCard.jsx</code> should have a reference name of <code>ReservationCard</code>. However, for root components of a directory, use <code>index.jsx</code> as the filename and use the directory name as the component name:</p> <p>React \u7ec4\u4ef6\u4f7f\u7528\u5927\u5199\u5f00\u5934\uff0c\u7ec4\u4ef6\u540d\u548c\u6587\u4ef6\u540d\u76f8\u540c\uff08\u4fbf\u4e8e\u8c03\u7528\uff09\u3002\u53d8\u91cf\u540d\u4f7f\u7528\u5c0f\u5199\u5f00\u5934\uff08\u9a7c\u5cf0\uff09</p> <pre><code>// bad\nimport Footer from './Footer/Footer';\n\n// bad\nimport Footer from './Footer/index';\n\n// good\nimport Footer from './Footer';\n</code></pre> </li> <li> <p>Higher-order Component Naming: Use a composite of the higher-order component\u2019s name and the passed-in component\u2019s name as the <code>displayName</code> on the generated component. For example, the higher-order component <code>withFoo()</code>, when passed a component <code>Bar</code> should produce a component with a <code>displayName</code> of <code>withFoo(Bar)</code>.</p> <p>Why? A component\u2019s <code>displayName</code> may be used by developer tools or in error messages, and having a value that clearly expresses this relationship helps people understand what is happening.</p> <pre><code>// bad\nexport default function withFoo(WrappedComponent) {\n  return function WithFoo(props) {\n    return &lt;WrappedComponent {...props} foo /&gt;;\n  }\n}\n\n// good\nexport default function withFoo(WrappedComponent) {\n  function WithFoo(props) {\n    return &lt;WrappedComponent {...props} foo /&gt;;\n  }\n\n  const wrappedComponentName = WrappedComponent.displayName\n    || WrappedComponent.name\n    || 'Component';\n\n  WithFoo.displayName = `withFoo(${wrappedComponentName})`;\n  return WithFoo;\n}\n</code></pre> </li> <li> <p>Props Naming: Avoid using DOM component prop names for different purposes.</p> <p>Why? People expect props like <code>style</code> and <code>className</code> to mean one specific thing. Varying this API for a subset of your app makes the code less readable and less maintainable, and may cause bugs.</p> </li> </ul> <p>props\u4e0d\u80fd\u548c\u5df2\u6709 HTML \u5c5e\u6027\u91cd\u590d</p> <pre><code>// bad\n&lt;MyComponent style=\"fancy\" /&gt;\n\n// bad\n&lt;MyComponent className=\"fancy\" /&gt;\n\n// good\n&lt;MyComponent variant=\"fancy\" /&gt;\n</code></pre>"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#declaration","title":"Declaration","text":"<ul> <li> <p>Do not use <code>displayName</code> for naming components. Instead, name the component by reference.</p> <pre><code>// bad\nexport default React.createClass({\n  displayName: 'ReservationCard',\n  // stuff goes here\n});\n\n// good\nexport default class ReservationCard extends React.Component {\n}\n</code></pre> </li> </ul>"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#alignment","title":"Alignment","text":"<ul> <li> <p>Follow these alignment styles for JSX syntax. eslint: <code>react/jsx-closing-bracket-location</code> <code>react/jsx-closing-tag-location</code> JSX \u5bf9\u9f50\u89c4\u5219</p> <pre><code>// bad\n&lt;Foo superLongParam=\"bar\"\n     anotherSuperLongParam=\"baz\" /&gt;\n\n// good \u591a\u884c\u5206\u5f00\u663e\u793a\n&lt;Foo\n  superLongParam=\"bar\"\n  anotherSuperLongParam=\"baz\"\n/&gt;\n\n// if props fit in one line then keep it on the same line \u4e00\u884c\u5185\u663e\u793a\n&lt;Foo bar=\"bar\" /&gt;\n\n// children get indented normally\n&lt;Foo\n  superLongParam=\"bar\"\n  anotherSuperLongParam=\"baz\"\n&gt;\n  &lt;Quux /&gt;\n&lt;/Foo&gt;\n\n// bad\n{showButton &amp;&amp;\n  &lt;Button /&gt;\n}\n\n// bad\n{\n  showButton &amp;&amp;\n    &lt;Button /&gt;\n}\n\n// good \u591a\u884c\u663e\u793aJSX\n{showButton &amp;&amp; (\n  &lt;Button /&gt;\n)}\n\n// good\n{showButton &amp;&amp; &lt;Button /&gt;}\n</code></pre> </li> </ul>"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#quotes","title":"Quotes","text":"<ul> <li> <p>Always use double quotes (<code>\"</code>) for JSX attributes, but single quotes (<code>'</code>) for all other JS. eslint: <code>jsx-quotes</code></p> <p>Why? Regular HTML attributes also typically use double quotes instead of single, so JSX attributes mirror this convention.</p> <pre><code>// bad\n&lt;Foo bar='bar' /&gt;\n\n// good\n&lt;Foo bar=\"bar\" /&gt;\n\n// bad\n&lt;Foo style={{ left: \"20px\" }} /&gt;\n\n// good\n&lt;Foo style={{ left: '20px' }} /&gt;\n</code></pre> </li> </ul>"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#spacing","title":"Spacing","text":"<ul> <li> <p>Always include a single space in your self-closing tag. eslint: <code>no-multi-spaces</code>, <code>react/jsx-tag-spacing</code></p> <pre><code>// bad\n&lt;Foo/&gt;\n\n// very bad\n&lt;Foo                 /&gt;\n\n// bad\n&lt;Foo\n /&gt;\n\n// good\n&lt;Foo /&gt;\n</code></pre> </li> <li> <p>Do not pad JSX curly braces with spaces. eslint: <code>react/jsx-curly-spacing</code></p> <pre><code>// bad\n&lt;Foo bar={ baz } /&gt;\n\n// good\n&lt;Foo bar={baz} /&gt;\n</code></pre> </li> </ul>"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#props","title":"Props","text":"<ul> <li> <p>Always use camelCase for prop names.</p> <pre><code>// bad\n&lt;Foo\n  UserName=\"hello\"\n  phone_number={12345678}\n/&gt;\n\n// good\n&lt;Foo\n  userName=\"hello\"\n  phoneNumber={12345678}\n/&gt;\n</code></pre> </li> <li> <p>Omit the value of the prop when it is explicitly <code>true</code>. eslint: <code>react/jsx-boolean-value</code></p> <p>\u5982\u679c\u4f20\u503c\u662f true \u53ef\u4ee5\u7701\u7565</p> <pre><code>// bad\n&lt;Foo\n  hidden={true}\n/&gt;\n\n// good\n&lt;Foo\n  hidden\n/&gt;\n\n// good\n&lt;Foo hidden /&gt;\n</code></pre> </li> <li> <p>Always include an <code>alt</code> prop on <code>&lt;img&gt;</code> tags. If the image is presentational, <code>alt</code> can be an empty string or the <code>&lt;img&gt;</code> must have <code>role=\"presentation\"</code>. eslint: <code>jsx-a11y/alt-text</code></p> <pre><code>// bad\n&lt;img src=\"hello.jpg\" /&gt;\n\n// good\n&lt;img src=\"hello.jpg\" alt=\"Me waving hello\" /&gt;\n\n// good\n&lt;img src=\"hello.jpg\" alt=\"\" /&gt;\n\n// good\n&lt;img src=\"hello.jpg\" role=\"presentation\" /&gt;\n</code></pre> </li> <li> <p>Do not use words like \"image\", \"photo\", or \"picture\" in <code>&lt;img&gt;</code> <code>alt</code> props. eslint: <code>jsx-a11y/img-redundant-alt</code></p> <p>Why? Screenreaders already announce <code>img</code> elements as images, so there is no need to include this information in the alt text.</p> <pre><code>// bad\n&lt;img src=\"hello.jpg\" alt=\"Picture of me waving hello\" /&gt;\n\n// good\n&lt;img src=\"hello.jpg\" alt=\"Me waving hello\" /&gt;\n</code></pre> </li> <li> <p>Use only valid, non-abstract ARIA roles. eslint: <code>jsx-a11y/aria-role</code></p> <pre><code>// bad - not an ARIA role\n&lt;div role=\"datepicker\" /&gt;\n\n// bad - abstract ARIA role\n&lt;div role=\"range\" /&gt;\n\n// good\n&lt;div role=\"button\" /&gt;\n</code></pre> </li> <li> <p>Do not use <code>accessKey</code> on elements. eslint: <code>jsx-a11y/no-access-key</code></p> </li> </ul> <p>Why? Inconsistencies between keyboard shortcuts and keyboard commands used by people using screenreaders and keyboards complicate accessibility.</p> <pre><code>// bad\n&lt;div accessKey=\"h\" /&gt;\n\n// good\n&lt;div /&gt;\n</code></pre> <ul> <li>Avoid using an array index as <code>key</code> prop, prefer a stable ID.</li> </ul> <p>Why? Not using a stable ID is an anti-pattern because it can negatively impact performance and cause issues with component state.</p> <p>We don\u2019t recommend using indexes for keys if the order of items may change.</p> <p>\u6ce8\u610f\uff1a\u907f\u514d\u4f7f\u7528\u7bad\u5934\u51fd\u6570\u7684 index \u4f5c\u4e3a\u5b50\u7ec4\u4ef6\u7684 key \u503c\u3002\u4e0d\u4f7f\u7528\u7a33\u5b9aID\u662f\u4e00\u79cd\u53cd\u6a21\u5f0f\uff0c\u56e0\u4e3a\u5b83\u4f1a\u5bf9\u6027\u80fd\u4ea7\u751f\u8d1f\u9762\u5f71\u54cd\uff0c\u5e76\u5bfc\u81f4\u7ec4\u4ef6\u72b6\u6001\u95ee\u9898\u3002\u5982\u679c\u5b50\u7ec4\u4ef6item\u53ef\u80fd\u53d8\u5316\u662f\uff0c\u4f8b\u5982\u8bc4\u8bba\uff0c\u6700\u597d\u4f7f\u7528id\u4e0d\u4f7f\u7528index\u3002</p> <pre><code>// bad\n{todos.map((todo, index) =&gt;\n  &lt;Todo\n    {...todo}\n    key={index}\n  /&gt;\n)}\n\n// good\n{todos.map(todo =&gt; (\n  &lt;Todo\n    {...todo}\n    key={todo.id}\n  /&gt;\n))}\n</code></pre> <ul> <li>Always define explicit defaultProps for all non-required props.</li> </ul> <p>Why? propTypes are a form of documentation, and providing defaultProps means the reader of your code doesn\u2019t have to assume as much. In addition, it can mean that your code can omit certain type checks.</p> <p>\u4f7f\u7528  SFC.defaultProps  \u53ef\u4ee5\u8ba9\u4f7f\u7528\u7ec4\u4ef6\u7684\u4eba\u77e5\u9053\u9700\u8981\u4f20\u5165\u7684\u53c2\u6570\u548c\u7c7b\u578b\uff1b\u540c\u65f6\u5199 propTypes \u4e5f\u66f4\u597d</p> <pre><code>// bad\nfunction SFC({ foo, bar, children }) {\n  return &lt;div&gt;{foo}{bar}{children}&lt;/div&gt;;\n}\nSFC.propTypes = {\n  foo: PropTypes.number.isRequired,\n  bar: PropTypes.string,\n  children: PropTypes.node,\n};\n\n// good\nfunction SFC({ foo, bar, children }) {\n  return &lt;div&gt;{foo}{bar}{children}&lt;/div&gt;;\n}\nSFC.propTypes = {\n  foo: PropTypes.number.isRequired,\n  bar: PropTypes.string,\n  children: PropTypes.node,\n};\nSFC.defaultProps = {\n  bar: '',\n  children: null,\n};\n</code></pre> <ul> <li>Use spread props sparingly. \u5c3d\u91cf\u5c11\u7528 props \u4e0d\u8981\u4f20\u6ca1\u5fc5\u8981\u7684 props <p>Why? Otherwise you\u2019re more likely to pass unnecessary props down to components. And for React v15.6.1 and older, you could pass invalid HTML attributes to the DOM.</p> </li> </ul> <p>Exceptions:</p> <ul> <li>HOCs that proxy down props and hoist propTypes</li> </ul> <pre><code>function HOC(WrappedComponent) {\n  return class Proxy extends React.Component {\n    Proxy.propTypes = {\n      text: PropTypes.string,\n      isLoading: PropTypes.bool\n    };\n\n    render() {\n      return &lt;WrappedComponent {...this.props} /&gt;\n    }\n  }\n}\n</code></pre> <ul> <li>Spreading objects with known, explicit props. This can be particularly useful when testing React components with Mocha\u2019s beforeEach construct.</li> </ul> <pre><code>export default function Foo {\n  const props = {\n    text: '',\n    isPublished: false\n  }\n\n  return (&lt;div {...props} /&gt;);\n}\n</code></pre> <p>Notes for use:   Filter out unnecessary props when possible. Also, use prop-types-exact to help prevent bugs.</p> <pre><code>// bad\nrender() {\n  const { irrelevantProp, ...relevantProps  } = this.props;\n  return &lt;WrappedComponent {...this.props} /&gt;\n}\n\n// good\nrender() {\n  const { irrelevantProp, ...relevantProps  } = this.props;\n  return &lt;WrappedComponent {...relevantProps} /&gt;\n}\n</code></pre>"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#refs","title":"Refs","text":"<ul> <li> <p>Always use ref callbacks. eslint: <code>react/no-string-refs</code></p> <p>\u4f7f\u7528\u7bad\u5934\u51fd\u6570\u5c06refs\u7ed1\u5b9a\u5230\u5c5e\u6027\u4e0a\uff0c\u907f\u514d\u76f4\u63a5\u4f7f\u7528\u5b57\u7b26\u4e32\u3002</p> <pre><code>// bad\n&lt;Foo\n  ref=\"myRef\"\n/&gt;\n\n// good\n&lt;Foo\n  ref={(ref) =&gt; { this.myRef = ref; }}\n/&gt;\n</code></pre> </li> </ul>"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#parentheses","title":"Parentheses","text":"<ul> <li> <p>Wrap JSX tags in parentheses when they span more than one line. eslint: <code>react/jsx-wrap-multilines</code></p> <p>return \u591a\u884c\u52a0\u62ec\u53f7\uff0c\u5355\u884c\u4e0d\u9700\u8981\u52a0\u62ec\u53f7</p> <pre><code>// bad\nrender() {\n  return &lt;MyComponent variant=\"long body\" foo=\"bar\"&gt;\n           &lt;MyChild /&gt;\n         &lt;/MyComponent&gt;;\n}\n\n// good\nrender() {\n  return (\n    &lt;MyComponent variant=\"long body\" foo=\"bar\"&gt;\n      &lt;MyChild /&gt;\n    &lt;/MyComponent&gt;\n  );\n}\n\n// good, when single line\nrender() {\n  const body = &lt;div&gt;hello&lt;/div&gt;;\n  return &lt;MyComponent&gt;{body}&lt;/MyComponent&gt;;\n}\n</code></pre> </li> </ul>"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#tags","title":"Tags","text":"<ul> <li> <p>Always self-close tags that have no children. eslint: <code>react/self-closing-comp</code></p> <pre><code>// bad\n&lt;Foo variant=\"stuff\"&gt;&lt;/Foo&gt;\n\n// good\n&lt;Foo variant=\"stuff\" /&gt;\n</code></pre> </li> <li> <p>If your component has multi-line properties, close its tag on a new line. eslint: <code>react/jsx-closing-bracket-location</code></p> <pre><code>// bad\n&lt;Foo\n  bar=\"bar\"\n  baz=\"baz\" /&gt;\n\n// good\n&lt;Foo\n  bar=\"bar\"\n  baz=\"baz\"\n/&gt;\n</code></pre> </li> </ul>"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#methods","title":"Methods","text":"<ul> <li> <p>Use arrow functions to close over local variables.</p> <pre><code>function ItemList(props) {\n  return (\n    &lt;ul&gt;\n      {props.items.map((item, index) =&gt; (\n        &lt;Item\n          key={item.key}\n          onClick={() =&gt; doSomethingWith(item.name, index)}\n        /&gt;\n      ))}\n    &lt;/ul&gt;\n  );\n}\n</code></pre> </li> <li> <p>Bind event handlers for the render method in the constructor. eslint: <code>react/jsx-no-bind</code></p> <p>Why? A bind call in the render path creates a brand new function on every single render.</p> <pre><code>// bad\nclass extends React.Component {\n  onClickDiv() {\n    // do stuff\n  }\n\n  render() {\n    return &lt;div onClick={this.onClickDiv.bind(this)} /&gt;;\n  }\n}\n\n// good\nclass extends React.Component {\n\n  onClickDiv = () =&gt; {\n    // do stuff\n  }\n\n  render() {\n    return &lt;div onClick={this.onClickDiv} /&gt;;\n  }\n}\n</code></pre> </li> <li> <p>Do not use underscore prefix for internal methods of a React component. \u7ec4\u4ef6\u5185\u90e8\u7684\u51fd\u6570\u540d\u4e0d\u8981\u4ee5\u4e0b\u5212\u7ebf\u5f00\u5934\u3002     &gt; Why? Underscore prefixes are sometimes used as a convention in other languages to denote privacy. But, unlike those languages, there is no native support for privacy in JavaScript, everything is public. Regardless of your intentions, adding underscore prefixes to your properties does not actually make them private, and any property (underscore-prefixed or not) should be treated as being public. See issues #1024, and #490 for a more in-depth discussion.</p> <pre><code>// bad\nReact.createClass({\n  _onClickSubmit() {\n    // do stuff\n  },\n\n  // other stuff\n});\n\n// good\nclass extends React.Component {\n  onClickSubmit() {\n    // do stuff\n  }\n\n  // other stuff\n}\n</code></pre> </li> <li> <p>Be sure to return a value in your <code>render</code> methods. eslint: <code>react/require-render-return</code></p> <p>render \u4e2d\u5fc5\u987b\u6709 return \u65b9\u6cd5\u3002</p> <pre><code>// bad\nrender() {\n  (&lt;div /&gt;);\n}\n\n// good\nrender() {\n  return (&lt;div /&gt;);\n}\n</code></pre> </li> </ul>"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#ordering","title":"Ordering","text":"<ul> <li> <p>Ordering for <code>class extends React.Component</code>:</p> </li> <li> <p>optional <code>static</code> methods</p> </li> <li><code>constructor</code></li> <li><code>getChildContext</code></li> <li><code>componentWillMount</code></li> <li><code>componentDidMount</code></li> <li><code>componentWillReceiveProps</code></li> <li><code>shouldComponentUpdate</code></li> <li><code>componentWillUpdate</code></li> <li><code>componentDidUpdate</code></li> <li><code>componentWillUnmount</code></li> <li>clickHandlers or eventHandlers like <code>onClickSubmit()</code> or <code>onChangeDescription()</code></li> <li>getter methods for <code>render</code> like <code>getSelectReason()</code> or <code>getFooterContent()</code></li> <li>optional render methods like <code>renderNavigation()</code> or <code>renderProfilePicture()</code></li> <li> <p><code>render</code></p> </li> <li> <p>How to define <code>propTypes</code>, <code>defaultProps</code>, <code>contextTypes</code>, etc...</p> <p>\u751f\u547d\u5468\u671f\u51fd\u6570+\u4e8b\u4ef6\u5904\u7406\u51fd\u6570+\u83b7\u53d6\u4fe1\u606f\u51fd\u6570+\u6e32\u67d3\u51fd\u6570</p> <pre><code>import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  id: PropTypes.number.isRequired,\n  url: PropTypes.string.isRequired,\n  text: PropTypes.string,\n};\n\nconst defaultProps = {\n  text: 'Hello World',\n};\n\nclass Link extends React.Component {\n  static methodsAreOk() {\n    return true;\n  }\n\n  render() {\n    return &lt;a href={this.props.url} data-id={this.props.id}&gt;{this.props.text}&lt;/a&gt;;\n  }\n}\n\nLink.propTypes = propTypes;\nLink.defaultProps = defaultProps;\n\nexport default Link;\n</code></pre> </li> <li> <p>Ordering for <code>React.createClass</code>: eslint: <code>react/sort-comp</code></p> </li> <li> <p><code>displayName</code></p> </li> <li><code>propTypes</code></li> <li><code>contextTypes</code></li> <li><code>childContextTypes</code></li> <li><code>mixins</code></li> <li><code>statics</code></li> <li><code>defaultProps</code></li> <li><code>getDefaultProps</code></li> <li><code>getInitialState</code></li> <li><code>getChildContext</code></li> <li><code>componentWillMount</code></li> <li><code>componentDidMount</code></li> <li><code>componentWillReceiveProps</code></li> <li><code>shouldComponentUpdate</code></li> <li><code>componentWillUpdate</code></li> <li><code>componentDidUpdate</code></li> <li><code>componentWillUnmount</code></li> <li>clickHandlers or eventHandlers like <code>onClickSubmit()</code> or <code>onChangeDescription()</code></li> <li>getter methods for <code>render</code> like <code>getSelectReason()</code> or <code>getFooterContent()</code></li> <li>optional render methods like <code>renderNavigation()</code> or <code>renderProfilePicture()</code></li> <li><code>render</code></li> </ul>"},{"location":"react/react%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/#ismounted","title":"<code>isMounted</code>","text":"<ul> <li>Do not use <code>isMounted</code>. eslint: <code>react/no-is-mounted</code></li> </ul> <p>Why? <code>isMounted</code> is an anti-pattern, is not available when using ES6 classes, and is on its way to being officially deprecated.</p>"},{"location":"react/react-redux/","title":"\u7406\u89e3 React\uff0c\u8be5\u5982\u4f55\u901a\u4fd7\u6613\u61c2\u7684\u7406\u89e3 Redux\uff1f","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3760  \u9605\u8bfb8\u5206\u949f</p> <p>\u89e3\u7b54\u8fd9\u4e2a\u95ee\u9898\u5e76\u4e0d\u56f0\u96be\uff1a\u552f\u4e00\u7684\u8981\u6c42\u662f\u4f60\u719f\u6089React\u3002</p> <p>\u4ece\u9700\u6c42\u51fa\u53d1\uff0c\u770b\u770b\u4f7f\u7528React\u9700\u8981\u4ec0\u4e48\uff1a</p> <ol> <li> <p>React\u6709props\u548cstate: props\u610f\u5473\u7740\u7236\u7ea7\u5206\u53d1\u4e0b\u6765\u7684\u5c5e\u6027\uff0cstate\u610f\u5473\u7740\u7ec4\u4ef6\u5185\u90e8\u53ef\u4ee5\u81ea\u884c\u7ba1\u7406\u7684\u72b6\u6001\uff0c\u5e76\u4e14\u6574\u4e2aReact\u6ca1\u6709\u6570\u636e\u5411\u4e0a\u56de\u6eaf\u7684\u80fd\u529b\uff0c\u4e5f\u5c31\u662f\u8bf4\u6570\u636e\u53ea\u80fd\u5355\u5411\u5411\u4e0b\u5206\u53d1\uff0c\u6216\u8005\u81ea\u884c\u5185\u90e8\u6d88\u5316\u3002\u7406\u89e3\u8fd9\u4e2a\u662f\u7406\u89e3React\u548cRedux\u7684\u524d\u63d0\u3002</p> </li> <li> <p>\u4e00\u822c\u6784\u5efa\u7684React\u7ec4\u4ef6\u5185\u90e8\u53ef\u80fd\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u5e94\u7528\uff0c\u5b83\u81ea\u5df1\u5de5\u4f5c\u826f\u597d\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5c5e\u6027\u4f5c\u4e3aAPI\u63a7\u5236\u5b83\u3002\u4f46\u662f\u66f4\u591a\u7684\u65f6\u5019\u53d1\u73b0React\u6839\u672c\u65e0\u6cd5\u8ba9\u4e24\u4e2a\u7ec4\u4ef6\u4e92\u76f8\u4ea4\u6d41\uff0c\u4f7f\u7528\u5bf9\u65b9\u7684\u6570\u636e\u3002\u7136\u540e\u8fd9\u65f6\u5019\u4e0d\u901a\u8fc7DOM\u6c9f\u901a\uff08\u4e5f\u5c31\u662fReact\u4f53\u5236\u5185\uff09\u89e3\u51b3\u7684\u552f\u4e00\u529e\u6cd5\u5c31\u662f\u63d0\u5347state\uff0c\u5c06state\u653e\u5230\u5171\u6709\u7684\u7236\u7ec4\u4ef6\u4e2d\u6765\u7ba1\u7406\uff0c\u518d\u4f5c\u4e3aprops\u5206\u53d1\u56de\u5b50\u7ec4\u4ef6\u3002</p> </li> <li> <p>\u5b50\u7ec4\u4ef6\u6539\u53d8\u7236\u7ec4\u4ef6state\u7684\u529e\u6cd5\u53ea\u80fd\u662f\u901a\u8fc7onClick\u89e6\u53d1\u7236\u7ec4\u4ef6\u58f0\u660e\u597d\u7684\u56de\u8c03\uff0c\u4e5f\u5c31\u662f\u7236\u7ec4\u4ef6\u63d0\u524d\u58f0\u660e\u597d\u51fd\u6570\u6216\u65b9\u6cd5\u4f5c\u4e3a\u5951\u7ea6\u63cf\u8ff0\u81ea\u5df1\u7684state\u5c06\u5982\u4f55\u53d8\u5316\uff0c\u518d\u5c06\u5b83\u540c\u6837\u4f5c\u4e3a\u5c5e\u6027\u4ea4\u7ed9\u5b50\u7ec4\u4ef6\u4f7f\u7528\u3002\u8fd9\u6837\u5c31\u51fa\u73b0\u4e86\u4e00\u4e2a\u6a21\u5f0f\uff1a\u6570\u636e\u603b\u662f\u5355\u5411\u4ece\u9876\u5c42\u5411\u4e0b\u5206\u53d1\u7684\uff0c\u4f46\u662f\u53ea\u6709\u5b50\u7ec4\u4ef6\u56de\u8c03\u5728\u6982\u5ff5\u4e0a\u53ef\u4ee5\u56de\u5230state\u9876\u5c42\u5f71\u54cd\u6570\u636e\u3002\u8fd9\u6837state\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u662f\u54cd\u5e94\u5f0f\u7684\u3002</p> </li> <li> <p>\u4e3a\u4e86\u9762\u4e34\u6240\u6709\u53ef\u80fd\u7684\u6269\u5c55\u95ee\u9898\uff0c\u6700\u5bb9\u6613\u60f3\u5230\u7684\u529e\u6cd5\u5c31\u662f\u628a\u6240\u6709state\u96c6\u4e2d\u653e\u5230\u6240\u6709\u7ec4\u4ef6\u9876\u5c42\uff0c\u7136\u540e\u5206\u53d1\u7ed9\u6240\u6709\u7ec4\u4ef6\u3002</p> </li> <li> <p>\u4e3a\u4e86\u6709\u66f4\u597d\u7684state\u7ba1\u7406\uff0c\u5c31\u9700\u8981\u4e00\u4e2a\u5e93\u6765\u4f5c\u4e3a\u66f4\u4e13\u4e1a\u7684\u9876\u5c42state\u5206\u53d1\u7ed9\u6240\u6709React\u5e94\u7528\uff0c\u8fd9\u5c31\u662fRedux\u3002\u8ba9\u6211\u4eec\u56de\u6765\u770b\u770b\u91cd\u73b0\u4e0a\u9762\u7ed3\u6784\u7684\u9700\u6c42\uff1a</p> </li> </ol> <p>a. \u9700\u8981\u56de\u8c03\u901a\u77e5state (\u7b49\u540c\u4e8e\u56de\u8c03\u53c2\u6570) -&gt; action</p> <p>b. \u9700\u8981\u6839\u636e\u56de\u8c03\u5904\u7406 (\u7b49\u540c\u4e8e\u7236\u7ea7\u65b9\u6cd5) -&gt; reducer</p> <p>c. \u9700\u8981state (\u7b49\u540c\u4e8e\u603b\u72b6\u6001) -&gt; store</p> <p>\u5bf9Redux\u6765\u8bf4\u53ea\u6709\u8fd9\u4e09\u4e2a\u8981\u7d20\uff1a</p> <p>a. action\u662f\u7eaf\u58f0\u660e\u5f0f\u7684\u6570\u636e\u7ed3\u6784\uff0c\u53ea\u63d0\u4f9b\u4e8b\u4ef6\u7684\u6240\u6709\u8981\u7d20\uff0c\u4e0d\u63d0\u4f9b\u903b\u8f91\u3002</p> <p>b. reducer\u662f\u4e00\u4e2a\u5339\u914d\u51fd\u6570\uff0caction\u7684\u53d1\u9001\u662f\u5168\u5c40\u7684\uff1a\u6240\u6709\u7684reducer\u90fd\u53ef\u4ee5\u6355\u6349\u5230\u5e76\u5339\u914d\u4e0e\u81ea\u5df1\u76f8\u5173\u4e0e\u5426\uff0c\u76f8\u5173\u5c31\u62ff\u8d70action\u4e2d\u7684\u8981\u7d20\u8fdb\u884c\u903b\u8f91\u5904\u7406\uff0c\u4fee\u6539store\u4e2d\u7684\u72b6\u6001\uff0c\u4e0d\u76f8\u5173\u5c31\u4e0d\u5bf9state\u505a\u5904\u7406\u539f\u6837\u8fd4\u56de\u3002</p> <p>c. store\u8d1f\u8d23\u5b58\u50a8\u72b6\u6001\u5e76\u53ef\u4ee5\u88abreact api\u56de\u8c03\uff0c\u53d1\u5e03action.</p> <p>\u5f53\u7136\u4e00\u822c\u4e0d\u4f1a\u76f4\u63a5\u628a\u4e24\u4e2a\u5e93\u62ff\u6765\u7528\uff0c\u8fd8\u6709\u4e00\u4e2abinding\u53ebreact-redux, \u63d0\u4f9b\u4e00\u4e2aProvider\u548cconnect\u3002\u5f88\u591a\u4eba\u5176\u5b9e\u770b\u61c2\u4e86redux\u5361\u5728\u8fd9\u91cc\u3002</p> <p>a. Provider\u662f\u4e00\u4e2a\u666e\u901a\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u9876\u5c42app\u7684\u5206\u53d1\u70b9\uff0c\u5b83\u53ea\u9700\u8981store\u5c5e\u6027\u5c31\u53ef\u4ee5\u4e86\u3002\u5b83\u4f1a\u5c06state\u5206\u53d1\u7ed9\u6240\u6709\u88abconnect\u7684\u7ec4\u4ef6\uff0c\u4e0d\u7ba1\u5b83\u5728\u54ea\u91cc\uff0c\u88ab\u5d4c\u5957\u591a\u5c11\u5c42\u3002</p> <p>b. connect\u662f\u771f\u6b63\u7684\u91cd\u70b9\uff0c\u5b83\u662f\u4e00\u4e2a\u79d1\u91cc\u5316\u51fd\u6570\uff0c\u610f\u601d\u662f\u5148\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff08\u6570\u636e\u7ed1\u5b9amapStateToProps\u548c\u4e8b\u4ef6\u7ed1\u5b9amapDispatchToProps\uff09\uff0c\u518d\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff08\u5c06\u8981\u7ed1\u5b9a\u7684\u7ec4\u4ef6\u672c\u8eab\uff09\uff1a</p> <p>mapStateToProps\uff1a\u6784\u5efa\u597dRedux\u7cfb\u7edf\u7684\u65f6\u5019\uff0c\u5b83\u4f1a\u88ab\u81ea\u52a8\u521d\u59cb\u5316\uff0c\u4f46\u662f\u4f60\u7684React\u7ec4\u4ef6\u5e76\u4e0d\u77e5\u9053\u5b83\u7684\u5b58\u5728\uff0c\u56e0\u6b64\u4f60\u9700\u8981\u5206\u62e3\u51fa\u4f60\u9700\u8981\u7684Redux\u72b6\u6001\uff0c\u6240\u4ee5\u4f60\u9700\u8981\u7ed1\u5b9a\u4e00\u4e2a\u51fd\u6570\uff0c\u5b83\u7684\u53c2\u6570\u662fstate\uff0c\u7b80\u5355\u8fd4\u56de\u4f60\u5173\u5fc3\u7684\u51e0\u4e2a\u503c\u3002</p> <p>mapDispatchToProps\uff1a\u58f0\u660e\u597d\u7684action\u4f5c\u4e3a\u56de\u8c03\uff0c\u4e5f\u53ef\u4ee5\u88ab\u6ce8\u5165\u5230\u7ec4\u4ef6\u91cc\uff0c\u5c31\u662f\u901a\u8fc7\u8fd9\u4e2a\u51fd\u6570\uff0c\u5b83\u7684\u53c2\u6570\u662fdispatch\uff0c\u901a\u8fc7redux\u7684\u8f85\u52a9\u65b9\u6cd5bindActionCreator\u7ed1\u5b9a\u6240\u6709action\u4ee5\u53ca\u53c2\u6570\u7684dispatch\uff0c\u5c31\u53ef\u4ee5\u4f5c\u4e3a\u5c5e\u6027\u5728\u7ec4\u4ef6\u91cc\u9762\u4f5c\u4e3a\u51fd\u6570\u7b80\u5355\u4f7f\u7528\u4e86\uff0c\u4e0d\u9700\u8981\u624b\u52a8dispatch\u3002\u8fd9\u4e2a mapDispatchToProps \u662f\u53ef\u9009\u7684\uff0c\u5982\u679c\u4e0d\u4f20\u8fd9\u4e2a\u53c2\u6570redux\u4f1a\u7b80\u5355\u628adispatch\u4f5c\u4e3a\u5c5e\u6027\u6ce8\u5165\u7ed9\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u624b\u52a8\u5f53\u505astore.dispatch\u4f7f\u7528\u3002\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u8981\u79d1\u91cc\u5316\u7684\u539f\u56e0\u3002</p> <p>\u505a\u597d\u4ee5\u4e0a\u6d41\u7a0bRedux\u548cReact\u5c31\u53ef\u4ee5\u5de5\u4f5c\u4e86\u3002</p>"},{"location":"react/react-responsive/","title":"react-responsive","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1167  \u9605\u8bfb3\u5206\u949f</p> <p>\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u5e93\u4ee3\u66ff css \u7684\u5a92\u4f53\u67e5\u8be2\uff0c\u66f4\u65b9\u4fbf\u7684\u5904\u7406\u79fb\u52a8\u7aef\u7f51\u9875\u3002</p> <pre><code># install\nnpm install react-responsive --save\n</code></pre> <p>\u57fa\u672c\u4f7f\u7528</p> <pre><code>import MediaQuery form 'react-responsive';\n\nconst Example = () =&gt; (\n  &lt;div&gt;\n    &lt;MediaQuery query=\"(min-device-width: 1224px)\"&gt;\n        &lt;span&gt;You are a desktop&lt;/span&gt;\n    &lt;/MediaQuery&gt;\n    &lt;MediaQuery query=\"(max-device-width: 1224px)\"&gt;\n        &lt;span&gt;You are sized a mobile phone though&lt;/span&gt;\n    &lt;/MediaQuery&gt;\n  &lt;/div&gt;\n);\n\n// 1224 means 1224px\nconst Example2 = () =&gt; (\n  &lt;MediaQuery minDeviceWidth={1224}&gt;&lt;/MediaQuery&gt;\n  &lt;MediaQuery maxDeviceWidth={1224}&gt;&lt;/MediaQuery&gt;\n);\n</code></pre> <p>common use case</p> <pre><code>import Respnosive from 'react-responsive';\n\nconst Desktop = props =&gt; (&lt;Responsive {...props} minWidth={992}/&gt;);\nconst Tablet = props =&gt; &lt;Responsive {...props} minWidth={768} maxWidth={991}/&gt;;\nconst Mobile = props =&gt; &lt;Responsive {...props} maxWidth={767}/&gt;;\nconst Default = props =&gt; &lt;Responsive {...props} minWidth={768}/&gt;;\n\nconst Example = () =&gt; {\n  &lt;div&gt;\n    &lt;Desktop&gt;&lt;/Desktop&gt;\n    &lt;Tablet&gt;&lt;/Tablet&gt;\n    &lt;Mobile&gt;&lt;/Mobile&gt;\n    &lt;Default&gt;&lt;/Default&gt;\n  &lt;/div&gt;\n};\n\nexport default Example;\n</code></pre>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/","title":"\u4f7f\u7528react-transition-group\u5b9e\u73b0\u52a8\u753b\u6548\u679c\u8fdb\u9636","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 25344  \u9605\u8bfb51\u5206\u949f</p> <p>\u8fd9\u6b21\u7528react-transition-group\u505a\u4e00\u4e2atogglebutton\u63a7\u5236div\u663e\u793a\u548c\u9690\u85cf\u7684\u4f8b\u5b50</p> <p>\u9996\u5148\u6211\u4eec\u9700\u8981\u5b89\u88c5react-transition-group\uff0c\u8f93\u5165\uff1a</p> <pre><code>npm install react-transition-group --save\n</code></pre> <p>\u7ec4\u4ef6\u4e2d\u5f15\u5165CSSTransition\u6a21\u5757\uff1a</p> <pre><code>import { CSSTransition } from 'react-transition-group'\n</code></pre> <p>\u5c06CSSTransition\u6807\u7b7e\u5305\u88f9\u5728\u9700\u8981\u5b9e\u73b0\u52a8\u753b\u6548\u679c\u7684\u5143\u7d20\u5916\uff0c\u7136\u540e\u8fdb\u884c\u76f8\u5173\u5c5e\u6027\u7684\u914d\u7f6e\uff1a</p> <pre><code>constructor(props){\n  super(props);\n  this.state = {\n    show: true\n  };\n}\n\nhandleToggole: ()=&gt; {\n  this.setState({show: !this.state.show});\n}\n\nrender() {\n  return (\n    &lt;Fragment&gt;\n      &lt;CSSTransition\n        in={this.state.show} // \u5982\u679cthis.state.show\u4ecefalse\u53d8\u4e3atrue\uff0c\u5219\u52a8\u753b\u5165\u573a\uff0c\u53cd\u4e4bout\u51fa\u573a\n        timeout={1000} //\u52a8\u753b\u6267\u884c1\u79d2\n        classNames='fade' //\u81ea\u5b9a\u4e49\u7684class\u540d\u524d\u7f00\n        unMountOnExit //\u53ef\u9009\uff0c\u5f53\u52a8\u753b\u51fa\u573a\u540e\u5728\u9875\u9762\u4e0a\u79fb\u9664\u5305\u88f9\u7684dom\u8282\u70b9\n        onEntered={(el) =&gt; {\n          el.style.color='blue'   //\u53ef\u9009\uff0c\u52a8\u753b\u5165\u573a\u4e4b\u540e\u7684\u56de\u8c03\uff0cel\u6307\u88ab\u5305\u88f9\u7684dom\uff0c\u8ba9div\u5185\u7684\u5b57\u4f53\u7b49\u4e8e\u84dd\u8272\n        }}\n        onExited={() =&gt; {\n          xxxxx   //\u540c\u7406\uff0c\u52a8\u753b\u51fa\u573a\u4e4b\u540e\u7684\u56de\u8c03\uff0c\u4e5f\u53ef\u4ee5\u5728\u8fd9\u91cc\u6765\u4e2asetState\u5565\u7684\u64cd\u4f5c\n        }}\n        &gt;\n        &lt;div&gt;hello&lt;/div&gt;\n      &lt;/CSSTransition&gt;\n      &lt;button onClick={this.handleToggole}&gt;toggle&lt;/button&gt;\n    &lt;/Fragment&gt;\n  )\n}\n</code></pre> <p>\u4e00\u65e6\u52a8\u753b\u5165\u573a\uff0c\u63d2\u4ef6\u5c06\u4f1a\u81ea\u52a8\u7684\u5728\u5305\u88f9\u4f4f\u7684\u6807\u7b7e\u4e0a\u6dfb\u52a0\u5f88\u591acss\u6837\u5f0f\uff0c\u9ed8\u8ba4class\u540d\u662ffade\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u7ed9CSSTransition\u6807\u7b7e\u52a0\u4e0aclassNames='fade'\uff0c\u7136\u540e\u53bbcss\u6587\u4ef6\u8fdb\u884c\u914d\u7f6e\uff1a</p> <pre><code>//enter\u662f\u5165\u573a\u524d\u7684\u5239\u90a3\uff08\u70b9\u51fb\u6309\u94ae\uff09\uff0cappear\u6307\u9875\u9762\u7b2c\u4e00\u6b21\u52a0\u8f7d\u524d\u7684\u4e00\u5239\u90a3\uff08\u81ea\u52a8\uff09\n.fade-enter, .fade-appear {\n    opacity: 0;\n}\n//enter-active\u6307\u5165\u573a\u540e\u5230\u5165\u573a\u7ed3\u675f\u7684\u8fc7\u7a0b\uff0cappear-active\u5219\u662f\u9875\u9762\u7b2c\u4e00\u6b21\u52a0\u8f7d\u81ea\u52a8\u6267\u884c\n.fade-enter-active, .fade-appear-active { \n    opacity: 1;\n    transition: opacity 1s ease-in;\n}\n//\u5165\u573a\u52a8\u753b\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u4fdd\u6301\u72b6\u6001\n.fade-enter-done {\n    opacity: 1;\n}\n//\u540c\u7406\uff0c\u51fa\u573a\u524d\u7684\u4e00\u5239\u90a3\uff0c\u4ee5\u4e0b\u5c31\u4e0d\u8be6\u7ec6\u89e3\u91ca\u4e86\uff0c\u4e00\u6837\u7684\u9053\u7406\n.fade-exit {\n    opacity: 1;\n}\n\n.fade-exit-active {\n    opacity: 0;\n    transition: opacity 1s ease-in;\n}\n\n.fade-exit-done {\n    opacity: 0;\n}\n</code></pre> <p>\u5982\u679c\u9875\u9762\u4e0a\u4e00\u7ec4dom\u90fd\u9700\u8981\u6dfb\u52a0\u52a8\u753b\u6548\u679c\u65f6\u6211\u4eec\u9700\u8981\u5728\u6700\u5916\u9762\u518d\u52a0\u4e00\u4e2aTransitionGroup</p> <pre><code>import React, { Component, Fragment } from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport './style.css';\n\nclass App extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      list: []\n    }\n    this.handleAddItem = this.handleAddItem.bind(this);\n  }\n\n  render() {\n    return (\n      &lt;Fragment&gt;\n        &lt;TransitionGroup&gt;\n          {\n            this.state.list.map((item, index) =&gt; {\n              return (\n                &lt;CSSTransition\n                  timeout={1000}\n                  classNames='fade'\n                  unmountOnExit\n                  onEntered={(el) =&gt; {el.style.color='blue'}}\n                  appear={true}\n                  key={index}\n                  &gt;\n                  &lt;div&gt;{item}&lt;/div&gt;\n                &lt;/CSSTransition&gt;\n              )\n            })\n          }\n        &lt;/TransitionGroup&gt;\n        &lt;button onClick={this.handleAddItem}&gt;toggle&lt;/button&gt;\n      &lt;/Fragment&gt;\n    )\n  }\n\n  handleAddItem() {\n    this.setState((prevState) =&gt; {\n      return {\n        list: [...prevState.list, 'item']\n      }\n    })\n  }\n}\n\nexport default App;\n</code></pre> <p>\u4e0b\u9762\u662f\u5b98\u65b9\u6587\u6863</p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#react-transition-group_1","title":"react-transition-group","text":"<p>ATTENTION! To address many issues that have come up over the years, the API in v2 and above is not backwards compatible with the original <code>React addon (v1-stable)</code>.</p> <p>For a drop-in replacement for <code>react-addons-transition-group</code> and <code>react-addons-css-transition-group</code>, use the v1 release. Documentation and code for that release are available on the <code>v1-stable</code> branch.</p> <p>We are no longer updating the v1 codebase, please upgrade to the latest version when possible</p> <p>A set of components for managing component states (including mounting and unmounting) over time, specifically designed with animation in mind.</p> <p>\u6ce8\u610f\uff1a\u7248\u672c2\u548c\u7248\u672c1\u4e0d\u517c\u5bb9\uff0c\u73b0\u5728\u7248\u672c1\u4ee3\u7801\u4e0d\u4f1a\u66f4\u65b0\uff0c\u8bf7\u5347\u7ea7\u5230\u6700\u65b0\u7248\u672c\u3002\u5f88\u591a\u7ba1\u7406\u7ec4\u4ef6\u72b6\u6001\u7684\u7ec4\u4ef6\u5df2\u7ecf\u8fc7\u65f6\u4e86\uff08\u7279\u522b\u662f\u4e3a\u52a8\u753b\u8bbe\u8ba1\u7684\u7ec4\u4ef6\uff09</p> <p>\u5b98\u7f51\u94fe\u63a5\uff1ahttps://github.com/reactjs/react-transition-group</p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#1examples","title":"1\u3001Examples","text":"<p>Clone the repo first:</p> <pre><code>git@github.com:reactjs/react-transition-group.git\n</code></pre> <p>Then run <code>npm install</code> (or <code>yarn</code>), and finally <code>npm run storybook</code> to start a storybook instance that you can navigate to in your browser to see the examples.</p> <p>\u514b\u9686\u4ee3\u7801\uff0c\u5b89\u88c5\u4f9d\u8d56\uff0cnpm run storybook \u5373\u53ef\u5c55\u793a\u6848\u4f8b</p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#2getting-started","title":"2\u3001Getting Started","text":""},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#installation","title":"Installation","text":"<p>\u901a\u8fc7 npm yarn cdn \u53ef\u4ee5\u5b89\u88c5</p> <pre><code># npm\nnpm install react-transition-group --save\n\n# yarn\nyarn add react-transition-group\n</code></pre>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#cdn-external","title":"CDN / External","text":"<p>Since react-transition-group is fairly small, the overhead of including the library in your application is negligible. However, in situations where it may be useful to benefit from an external CDN when bundling, link to the following CDN: https://unpkg.com/react-transition-group/dist/react-transition-group.js</p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#components","title":"Components","text":"<ul> <li>Transition</li> <li>CSSTransition</li> <li>SwitchTransition</li> <li>TransitionGroup</li> </ul> <p>\u6709\u4e0b\u9762\u56db\u4e2a\u4e3b\u8981\u7ec4\u4ef6\uff1a\u628a\u9700\u8981\u52a0\u5165\u52a8\u753b\u7684\u5143\u7d20\u653e\u5728\u7ec4\u4ef6\u5185\u90e8\uff0c\u7136\u540e\u8bbe\u7f6e\u5916\u90e8\u7ec4\u4ef6\u7684\u72b6\u6001\u548c\u63a7\u5236\u51fd\u6570\uff0c\u8fd9\u6837\u5c31\u589e\u52a0\u4e86\u8fdb\u5165\u9000\u51fa\u7684\u52a8\u753b\u6548\u679c\u3002</p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#3transition","title":"3\u3001Transition","text":"<p>The Transition component lets you describe a transition from one component state to another over time with a simple declarative API. Most commonly it's used to animate the mounting and unmounting of a component, but can also be used to describe in-place transition states as well.</p> <p>Note: <code>Transition</code> is a platform-agnostic base component. If you're using transitions in CSS, you'll probably want to use <code>CSSTransition</code> instead. It inherits all the features of <code>Transition</code>, but contains additional features necessary to play nice with CSS transitions (hence the name of the component).</p> <p>By default the <code>Transition</code> component does not alter the behavior of the component it renders, it only tracks \"enter\" and \"exit\" states for the components. It's up to you to give meaning and effect to those states. For example we can add styles to a component when it enters or exits:</p> <pre><code>import { Transition } from 'react-transition-group';\n\nconst duration = 300;\n\nconst defaultStyle = {\n  transition: `opacity ${duration}ms ease-in-out`,\n  opacity: 0,\n}\n\nconst transitionStyles = {\n  entering: { opacity: 1 },\n  entered:  { opacity: 1 },\n  exiting:  { opacity: 0 },\n  exited:  { opacity: 0 },\n};\n\nconst Fade = ({ in: inProp }) =&gt; (\n  &lt;Transition in={inProp} timeout={duration}&gt;\n    {state =&gt; (\n      &lt;div style={{\n        ...defaultStyle,\n        ...transitionStyles[state]\n      }}&gt;\n        I'm a fade Transition!\n      &lt;/div&gt;\n    )}\n  &lt;/Transition&gt;\n);\n</code></pre> <p>There are 4 main states a Transition can be in:</p> <ul> <li><code>'entering'</code></li> <li><code>'entered'</code></li> <li><code>'exiting'</code></li> <li><code>'exited'</code></li> </ul> <p>Transition state is toggled via the <code>in</code> prop. When <code>true</code> the component begins the \"Enter\" stage. During this stage, the component will shift from its current transition state, to <code>'entering'</code> for the duration of the transition and then to the <code>'entered'</code> stage once it's complete. Let's take the following example (we'll use the useState hook):</p> <pre><code>function App() {\n  const [inProp, setInProp] = useState(false);\n  return (\n    &lt;div&gt;\n      &lt;Transition in={inProp} timeout={500}&gt;\n        {state =&gt; (\n          // ...\n        )}\n      &lt;/Transition&gt;\n      &lt;button onClick={() =&gt; setInProp(true)}&gt;\n        Click to Enter\n      &lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre> <p>When the button is clicked the component will shift to the <code>'entering'</code> state and stay there for 500ms (the value of <code>timeout</code>) before it finally switches to <code>'entered'</code>.</p> <p>When <code>in</code> is <code>false</code> the same thing happens except the state moves from <code>'exiting'</code> to <code>'exited'</code>.</p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#props","title":"Props","text":""},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#children","title":"<code>children</code>","text":"<p>A <code>function</code> child can be used instead of a React element. This function is called with the current transition status (<code>'entering'</code>, <code>'entered'</code>, <code>'exiting'</code>, <code>'exited'</code>), which can be used to apply context specific props to a component.</p> <pre><code>&lt;Transition in={this.state.in} timeout={150}&gt;\n  {state =&gt; (\n    &lt;MyComponent className={`fade fade-${state}`} /&gt;\n  )}\n&lt;/Transition&gt;\n</code></pre> <p>type: <code>Function | element</code></p> <p>required</p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#in","title":"<code>in</code>","text":"<p>Show the component; triggers the enter or exit states</p> <p>type: <code>boolean</code></p> <p>default: <code>false</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#mountonenter","title":"<code>mountOnEnter</code>","text":"<p>By default the child component is mounted immediately along with the parent <code>Transition</code> component. If you want to \"lazy mount\" the component on the first <code>in={true}</code> you can set <code>mountOnEnter</code>. After the first enter transition the component will stay mounted, even on \"exited\", unless you also specify <code>unmountOnExit</code>.</p> <p>type: <code>boolean</code></p> <p>default: <code>false</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#unmountonexit","title":"<code>unmountOnExit</code>","text":"<p>By default the child component stays mounted after it reaches the <code>'exited'</code> state. Set <code>unmountOnExit</code> if you'd prefer to unmount the component after it finishes exiting.</p> <p>type: <code>boolean</code></p> <p>default: <code>false</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#appear","title":"<code>appear</code>","text":"<p>Normally a component is not transitioned if it is shown when the <code>component mounts. If you want to transition on the first mount set `appear` to `true`, and the component will transition in as soon as the</code> mounts.</p> <p>Note: there are no special appear states like <code>appearing</code>/<code>appeared</code>, this prop only adds an additional enter transition. However, in the <code>` component that first enter transition does result in additional</code>.appear-*` classes, that way you can choose to style it differently.</p> <p>type: <code>boolean</code></p> <p>default: <code>false</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#enter","title":"<code>enter</code>","text":"<p>Enable or disable enter transitions.</p> <p>type: <code>boolean</code></p> <p>default: <code>true</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#exit","title":"<code>exit</code>","text":"<p>Enable or disable exit transitions.</p> <p>type: <code>boolean</code></p> <p>default: <code>true</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#timeout","title":"<code>timeout</code>","text":"<p>The duration of the transition, in milliseconds. Required unless <code>addEndListener</code> is provided.</p> <p>You may specify a single timeout for all transitions:</p> <pre><code>timeout={500}\n</code></pre> <p>or individually:</p> <pre><code>timeout={{\n appear: 500,\n enter: 300,\n exit: 500,\n}}\n</code></pre> <ul> <li><code>appear</code> defaults to the value of <code>enter</code></li> <li><code>enter</code> defaults to <code>0</code></li> <li><code>exit</code> defaults to <code>0</code></li> </ul> <p>type: <code>number | { enter?: number, exit?: number, appear?: number }</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#addendlistener","title":"<code>addEndListener</code>","text":"<p>Add a custom transition end trigger. Called with the transitioning DOM node and a <code>done</code> callback. Allows for more fine grained transition end logic. Note: Timeouts are still used as a fallback if provided.</p> <pre><code>addEndListener={(node, done) =&gt; {\n  // use the css transitionend event to mark the finish of a transition\n  node.addEventListener('transitionend', done, false);\n}}\n</code></pre> <p>type: <code>Function</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#onenter","title":"<code>onEnter</code>","text":"<p>Callback fired before the \"entering\" status is applied. An extra parameter <code>isAppearing</code> is supplied to indicate if the enter stage is occurring on the initial mount</p> <p>type: <code>Function(node: HtmlElement, isAppearing: bool) -&gt; void</code></p> <p>default: <code>function noop() {}</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#onentering","title":"<code>onEntering</code>","text":"<p>Callback fired after the \"entering\" status is applied. An extra parameter <code>isAppearing</code> is supplied to indicate if the enter stage is occurring on the initial mount</p> <p>type: <code>Function(node: HtmlElement, isAppearing: bool)</code></p> <p>default: <code>function noop() {}</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#onentered","title":"<code>onEntered</code>","text":"<p>Callback fired after the \"entered\" status is applied. An extra parameter <code>isAppearing</code> is supplied to indicate if the enter stage is occurring on the initial mount</p> <p>type: <code>Function(node: HtmlElement, isAppearing: bool) -&gt; void</code></p> <p>default: <code>function noop() {}</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#onexit","title":"<code>onExit</code>","text":"<p>Callback fired before the \"exiting\" status is applied.</p> <p>type: <code>Function(node: HtmlElement) -&gt; void</code></p> <p>default: <code>function noop() {}</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#onexiting","title":"<code>onExiting</code>","text":"<p>Callback fired after the \"exiting\" status is applied.</p> <p>type: <code>Function(node: HtmlElement) -&gt; void</code></p> <p>default: <code>function noop() {}</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#onexited","title":"<code>onExited</code>","text":"<p>Callback fired after the \"exited\" status is applied.</p> <p>type: <code>Function(node: HtmlElement) -&gt; void</code></p> <p>default: <code>function noop() {}</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#4csstransition","title":"4\u3001CSSTransition","text":"<p>A transition component inspired by the excellent ng-animate library, you should use it if you're using CSS transitions or animations. It's built upon the <code>Transition</code> component, so it inherits all of its props.</p> <p><code>CSSTransition</code> applies a pair of class names during the <code>appear</code>, <code>enter</code>, and <code>exit</code> states of the transition. The first class is applied and then a second <code>*-active</code> class in order to activate the CSS transition. After the transition, matching <code>*-done</code> class names are applied to persist the transition state.</p> <pre><code>function App() {\n  const [inProp, setInProp] = useState(false);\n  return (\n    &lt;div&gt;\n      &lt;CSSTransition in={inProp} timeout={200} classNames=\"my-node\"&gt;\n        &lt;div&gt;\n          {\"I'll receive my-node-* classes\"}\n        &lt;/div&gt;\n      &lt;/CSSTransition&gt;\n      &lt;button type=\"button\" onClick={() =&gt; setInProp(true)}&gt;\n        Click to Enter\n      &lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre> <p>When the <code>in</code> prop is set to <code>true</code>, the child component will first receive the class <code>example-enter</code>, then the <code>example-enter-active</code> will be added in the next tick. <code>CSSTransition</code> forces a reflow between before adding the <code>example-enter-active</code>. This is an important trick because it allows us to transition between <code>example-enter</code> and <code>example-enter-active</code> even though they were added immediately one after another. Most notably, this is what makes it possible for us to animate appearance.</p> <pre><code>.my-node-enter {\n  opacity: 0;\n}\n.my-node-enter-active {\n  opacity: 1;\n  transition: opacity 200ms;\n}\n.my-node-exit {\n  opacity: 1;\n}\n.my-node-exit-active {\n  opacity: 0;\n  transition: opacity 200ms;\n}\n</code></pre> <p><code>*-active</code> classes represent which styles you want to animate to.</p> <p>Note: If you're using the <code>appear</code> prop, make sure to define styles for <code>.appear-*</code> classes as well.</p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#example","title":"Example","text":""},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#props-accepts-all-props-from-unless-otherwise-noted","title":"Props Accepts all props from `` unless otherwise noted.","text":""},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#classnames","title":"<code>classNames</code>","text":"<p>The animation classNames applied to the component as it appears, enters, exits or has finished the transition. A single name can be provided and it will be suffixed for each stage: e.g.</p> <p><code>classNames=\"fade\"</code> applies <code>fade-appear</code>, <code>fade-appear-active</code>, <code>fade-appear-done</code>, <code>fade-enter</code>, <code>fade-enter-active</code>, <code>fade-enter-done</code>, <code>fade-exit</code>, <code>fade-exit-active</code>, and <code>fade-exit-done</code>.</p> <p>Note: <code>fade-appear-done</code> and <code>fade-enter-done</code> will both be applied. This allows you to define different behavior for when appearing is done and when regular entering is done, using selectors like <code>.fade-enter-done:not(.fade-appear-done)</code>. For example, you could apply an epic entrance animation when element first appears in the DOM using Animate.css. Otherwise you can simply use <code>fade-enter-done</code> for defining both cases.</p> <p>Each individual classNames can also be specified independently like:</p> <pre><code>classNames={{\n appear: 'my-appear',\n appearActive: 'my-active-appear',\n appearDone: 'my-done-appear',\n enter: 'my-enter',\n enterActive: 'my-active-enter',\n enterDone: 'my-done-enter',\n exit: 'my-exit',\n exitActive: 'my-active-exit',\n exitDone: 'my-done-exit',\n}}\n</code></pre> <p>If you want to set these classes using CSS Modules:</p> <pre><code>import styles from './styles.css';\n</code></pre> <p>you might want to use camelCase in your CSS file, that way could simply spread them instead of listing them one by one:</p> <pre><code>classNames={{ ...styles }}\n</code></pre> <p>type: <code>string | { appear?: string, appearActive?: string, appearDone?: string, enter?: string, enterActive?: string, enterDone?: string, exit?: string, exitActive?: string, exitDone?: string, }</code></p> <p>default: <code>''</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#onenter_1","title":"<code>onEnter</code>","text":"<p>A `` callback fired immediately after the 'enter' or 'appear' class is applied.</p> <p>type: <code>Function(node: HtmlElement, isAppearing: bool)</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#onentering_1","title":"<code>onEntering</code>","text":"<p>A `` callback fired immediately after the 'enter-active' or 'appear-active' class is applied.</p> <p>type: <code>Function(node: HtmlElement, isAppearing: bool)</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#onentered_1","title":"<code>onEntered</code>","text":"<p>A <code>` callback fired immediately after the 'enter' or 'appear' classes are **removed** and the</code>done` class is added to the DOM node.</p> <p>type: <code>Function(node: HtmlElement, isAppearing: bool)</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#onexit_1","title":"<code>onExit</code>","text":"<p>A `` callback fired immediately after the 'exit' class is applied.</p> <p>type: <code>Function(node: HtmlElement)</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#onexiting_1","title":"<code>onExiting</code>","text":"<p>A `` callback fired immediately after the 'exit-active' is applied.</p> <p>type: <code>Function(node: HtmlElement)</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#onexited_1","title":"<code>onExited</code>","text":"<p>A <code>` callback fired immediately after the 'exit' classes are **removed** and the</code>exit-done` class is added to the DOM node.</p> <p>type: <code>Function(node: HtmlElement)</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#5switchtransition","title":"5\u3001SwitchTransition","text":"<p>A transition component inspired by the vue transition modes. You can use it when you want to control the render between state transitions. Based on the selected mode and the child's key which is the <code>Transition</code> or <code>CSSTransition</code> component, the <code>SwitchTransition</code> makes a consistent transition between them.</p> <p>If the <code>out-in</code> mode is selected, the <code>SwitchTransition</code> waits until the old child leaves and then inserts a new child. If the <code>in-out</code> mode is selected, the <code>SwitchTransition</code> inserts a new child first, waits for the new child to enter and then removes the old child</p> <pre><code>function App() {\n const [state, setState] = useState(false);\n return (\n   &lt;SwitchTransition&gt;\n     &lt;FadeTransition key={state ? \"Goodbye, world!\" : \"Hello, world!\"}\n       addEndListener={(node, done) =&gt; node.addEventListener(\"transitionend\", done, false)}\n       classNames='fade' &gt;\n       &lt;button onClick={() =&gt; setState(state =&gt; !state)}&gt;\n         {state ? \"Goodbye, world!\" : \"Hello, world!\"}\n       &lt;/button&gt;\n     &lt;/FadeTransition&gt;\n   &lt;/SwitchTransition&gt;\n )\n}\n</code></pre>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#props_1","title":"Props","text":""},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#mode","title":"<code>mode</code>","text":"<p>Transition modes. <code>out-in</code>: Current element transitions out first, then when complete, the new element transitions in. <code>in-out: New element transitions in first, then when complete, the current element transitions out.</code></p> <p>type: <code>'out-in'|'in-out'</code></p> <p>default: <code>'out-in'</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#children_1","title":"<code>children</code>","text":"<p>Any <code>Transition</code> or <code>CSSTransition</code> component</p> <p>type: <code>element</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#6transitiongroup","title":"6\u3001TransitionGroup","text":"<p>The <code>component manages a set of transition components (</code> and <code>) in a list. Like with the transition components,</code> is a state machine for managing the mounting and unmounting of components over time.</p> <p>Consider the example below. As items are removed or added to the TodoList the <code>in</code> prop is toggled automatically by the ``.</p> <p>Note that `` does not define any animation behavior! Exactly how a list item animates is up to the individual transition component. This means you can mix and match animations across different list items.</p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#example_1","title":"Example","text":"<p>https://reactcommunity.org/react-transition-group/transition-group</p> <p>\u8fd9\u91cc\u662f\u8be6\u7ec6\u7684\u4ee3\u7801\u548c\u6c99\u7bb1</p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#props_2","title":"Props","text":""},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#component","title":"<code>component</code>","text":"<p><code>renders a</code> by default. You can change this behavior by providing a <code>component</code> prop. If you use React v16+ and would like to avoid a wrapping <code>` element you can pass in</code>component={null}`. This is useful if the wrapping div borks your css styles.</p> <p>type: <code>any</code></p> <p>default: <code>'div'</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#children_2","title":"<code>children</code>","text":"<p>A set of <code>components, that are toggled `in` and out as they leave. the</code> will inject specific transition props, so remember to spread them through if you are wrapping the <code>as with our</code> example.</p> <p>While this component is meant for multiple <code>Transition</code> or <code>CSSTransition</code> children, sometimes you may want to have a single transition child with content that you want to be transitioned out and in when you change it (e.g. routes, images etc.) In that case you can change the <code>key</code> prop of the transition child as you change its content, this will cause <code>TransitionGroup</code> to transition the child out and back in.</p> <p>type: <code>any</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#appear_1","title":"<code>appear</code>","text":"<p>A convenience prop that enables or disables appear animations for all children. Note that specifying this will override any defaults set on individual children Transitions.</p> <p>type: <code>boolean</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#enter_1","title":"<code>enter</code>","text":"<p>A convenience prop that enables or disables enter animations for all children. Note that specifying this will override any defaults set on individual children Transitions.</p> <p>type: <code>boolean</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#exit_1","title":"<code>exit</code>","text":"<p>A convenience prop that enables or disables exit animations for all children. Note that specifying this will override any defaults set on individual children Transitions.</p> <p>type: <code>boolean</code></p>"},{"location":"react/react-transition-group-%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/#childfactory","title":"<code>childFactory</code>","text":"<p>You may need to apply reactive updates to a child as it is exiting. This is generally done by using <code>cloneElement</code> however in the case of an exiting child the element has already been removed and not accessible to the consumer.</p> <p>If you do need to update a child as it leaves you can provide a <code>childFactory</code> to wrap every child, even the ones that are leaving.</p> <p>type: <code>Function(child: ReactElement) -&gt; ReactElement</code></p> <p>default: <code>child =&gt; child</code></p>"},{"location":"react/react-useRef/","title":"react useRef","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4445  \u9605\u8bfb9\u5206\u949f</p> <p>\u76f8\u4fe1\u6709\u8fc7React\u4f7f\u7528\u7ecf\u9a8c\u7684\u4eba\u5bf9ref\u90fd\u4f1a\u719f\u6089\uff0c\u5b83\u53ef\u4ee5\u7528\u6765\u83b7\u53d6\u7ec4\u4ef6\u5b9e\u4f8b\u5bf9\u8c61\u6216\u8005\u662fDOM\u5bf9\u8c61\u3002</p> <p>\u800cuseRef\u8fd9\u4e2ahooks\u51fd\u6570\uff0c\u9664\u4e86\u4f20\u7edf\u7684\u7528\u6cd5\u4e4b\u5916\uff0c\u5b83\u8fd8\u53ef\u4ee5\u201c\u8de8\u6e32\u67d3\u5468\u671f\u201d\u4fdd\u5b58\u6570\u636e\u3002</p> <p>\u5728\u963f\u91cc\u7684\u9879\u76ee\u4e2d</p> <pre><code>import React from 'react';\nimport PortalWrapper from '../src/PortalWrapper';\n\nexport default () =&gt; {\n  // React.useRef \u662f hook \u51fd\u6570\uff0c\u7c7b\u4f3c\u4e8e React.createRef \u51fd\u6570\uff0c\u53ef\u4ee5\u521b\u5efa ref \u83b7\u53d6 DOM \u8282\u70b9\n  const divRef = React.useRef();\n  const outerRef = React.useRef();\n\n  React.useEffect(() =&gt; {\n    console.log('&gt;&gt;&gt;', divRef.current);\n  }, []);\n\n  // \u83b7\u53d6\u5916\u90e8\u5bb9\u5668ref\uff0c\u4ee5\u53ca\u83b7\u53d6\u5185\u90e8 DIV \u7684 ref\n  return (\n    &lt;&gt;\n      &lt;PortalWrapper visible getContainer={() =&gt; outerRef.current}&gt;\n        {() =&gt; &lt;div ref={divRef}&gt;2333&lt;/div&gt;}\n      &lt;/PortalWrapper&gt;\n      &lt;div style={{ background: 'red', height: 20 }} ref={outerRef} /&gt;\n    &lt;/&gt;\n  );\n};\n</code></pre> <p>\u4e0e\u5176\u4ed6 hook \u51fd\u6570\u4f7f\u7528\uff1a <pre><code>import React, { useState, useEffect, useMemo, useRef } from 'react';\n\nexport default function App(props){\n  const [count, setCount] = useState(0);\n\n  const doubleCount = useMemo(() =&gt; {\n    return 2 * count;\n  }, [count]);\n\n  const couterRef = useRef();\n\n  useEffect(() =&gt; {\n    document.title = `The value is ${count}`;\n    console.log(couterRef.current);\n  }, [count]);\n\n  return (\n    &lt;button\n      ref={couterRef}\n      onClick={() =&gt; {setCount(count + 1)}}&gt;Count: {count}, double: {doubleCount}\n    &lt;/button&gt;\n  );\n}\n</code></pre></p> <p>\u4ee3\u7801\u4e2d\u7528useRef\u521b\u5efa\u4e86couterRef\u5bf9\u8c61\uff0c\u5e76\u5c06\u5176\u8d4b\u7ed9\u4e86button\u7684ref\u5c5e\u6027\u3002\u8fd9\u6837\uff0c\u901a\u8fc7\u8bbf\u95eecouterRef.current\u5c31\u53ef\u4ee5\u8bbf\u95ee\u5230button\u5bf9\u5e94\u7684DOM\u5bf9\u8c61\u3002</p> <p>\u7136\u540e\u518d\u6765\u770b\u770b\u5b83\u4fdd\u5b58\u6570\u636e\u7684\u7528\u6cd5\u3002</p> <p>\u5728\u4e00\u4e2a\u7ec4\u4ef6\u4e2d\u6709\u4ec0\u4e48\u4e1c\u897f\u53ef\u4ee5\u8de8\u6e32\u67d3\u5468\u671f\uff0c\u4e5f\u5c31\u662f\u5728\u7ec4\u4ef6\u88ab\u591a\u6b21\u6e32\u67d3\u4e4b\u540e\u4f9d\u65e7\u4e0d\u53d8\u7684\u5c5e\u6027\uff1f\u7b2c\u4e00\u4e2a\u60f3\u5230\u7684\u5e94\u8be5\u662fstate\u3002\u6ca1\u9519\uff0c\u4e00\u4e2a\u7ec4\u4ef6\u7684state\u53ef\u4ee5\u5728\u591a\u6b21\u6e32\u67d3\u4e4b\u540e\u4f9d\u65e7\u4e0d\u53d8\u3002\u4f46\u662f\uff0cstate\u7684\u95ee\u9898\u5728\u4e8e\u4e00\u65e6\u4fee\u6539\u4e86\u5b83\u5c31\u4f1a\u9020\u6210\u7ec4\u4ef6\u7684\u91cd\u65b0\u6e32\u67d3\u3002</p> <p>\u90a3\u4e48\u8fd9\u4e2a\u65f6\u5019\u5c31\u53ef\u4ee5\u4f7f\u7528useRef\u6765\u8de8\u8d8a\u6e32\u67d3\u5468\u671f\u5b58\u50a8\u6570\u636e\uff0c\u800c\u4e14\u5bf9\u5b83\u4fee\u6539\u4e5f\u4e0d\u4f1a\u5f15\u8d77\u7ec4\u4ef6\u6e32\u67d3\u3002</p> <pre><code>import React, { useState, useEffect, useMemo, useRef } from 'react';\n\nexport default function App(props){\n  const [count, setCount] = useState(0);\n\n  const doubleCount = useMemo(() =&gt; {\n    return 2 * count;\n  }, [count]);\n\n  const timerID = useRef();\n\n  useEffect(() =&gt; {\n    timerID.current = setInterval(()=&gt;{\n      setCount(count =&gt; count + 1);\n    }, 1000); \n  }, []);\n\n  useEffect(()=&gt;{\n    if(count &gt; 10){\n      clearInterval(timerID.current);\n    }\n  });\n\n  return (\n    &lt;button\n      ref={couterRef}\n      onClick={() =&gt; {setCount(count + 1)}}\n      &gt;\n      Count: {count}, double: {doubleCount}\n    &lt;/button&gt;\n  );\n}\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u7528ref\u5bf9\u8c61\u7684current\u5c5e\u6027\u6765\u5b58\u50a8\u5b9a\u65f6\u5668\u7684ID\uff0c\u8fd9\u6837\u4fbf\u53ef\u4ee5\u5728\u591a\u6b21\u6e32\u67d3\u4e4b\u540e\u4f9d\u65e7\u4fdd\u5b58\u5b9a\u65f6\u5668ID\uff0c\u4ece\u800c\u80fd\u6b63\u5e38\u6e05\u9664\u5b9a\u65f6\u5668\u3002</p> <p>\u53c2\u8003\uff1ahttps://blog.csdn.net/hjc256/article/details/102587037</p> <p>Demo</p> <pre><code>import React, { useState, useEffect, useMemo, useRef }from 'react';\nimport PortalWrapper from './src/PortalWrapper';\n\nfunction App() {\n  const divRef = React.useRef();\n  const outerRef = React.useRef();\n\n  React.useEffect(() =&gt; {\n    console.log(divRef.current);\n  }, []);\n\n  return (\n    &lt;&gt;\n      &lt;PortalWrapper visible getContainer={() =&gt; outerRef.current}&gt;\n        {() =&gt; &lt;div ref={divRef}&gt;innerDiv&lt;/div&gt;}\n      &lt;/PortalWrapper&gt;\n      &lt;div ref={outerRef}&gt;outerDiv&lt;/div&gt;\n    &lt;/&gt;\n  );\n};\n\nfunction App2(props) {\n  const [count, setCount] = useState(0);\n  const doubleCount = useMemo(() =&gt; {\n    return 2 * count;\n  }, [count]);\n  const outerRef = useRef();\n  useEffect(() =&gt; {\n    console.log(count);\n    console.log(outerRef.current);\n  }, [count]);\n  return (\n    &lt;button\n      ref={outerRef}\n      onClick={() =&gt; {setCount(count + 1)}}\n    /&gt;\n  );\n}\n\nfunction App3(props) {\n  const [count, setCount] = useState(0);\n  const doubleCount = useMemo(() =&gt; {\n    return 2 * count;\n  }, [count]);\n  const timerID = useRef();\n  const couterRef = useRef();\n  useEffect(() =&gt; {\n    timerID.current = setInterval(() =&gt; {\n      setCount(count =&gt; count++);\n    }, 1000);\n  }, []);\n  useEffect(() =&gt; {\n    if (count &gt; 10) {\n      clearInterval(timerID.current);\n    }\n  });\n  return (\n    &lt;button\n      ref={counterRef}\n      onClick={() =&gt; { setCount(count + 1) }}\n    /&gt;\n  );\n}\n\nexport { App, App2, App3 };\n</code></pre>"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8A%E7%AF%87%EF%BC%88%E9%A6%96%E6%AC%A1%E6%B8%B2%E6%9F%93%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/","title":"reactjs\u6e90\u7801\u5206\u6790-\u4e0a\u7bc7\uff08\u9996\u6b21\u6e32\u67d3\u5b9e\u73b0\u539f\u7406\uff09","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 20221  \u9605\u8bfb41\u5206\u949f</p> <p>reactjs\u662f\u76ee\u524d\u6bd4\u8f83\u706b\u7684\u524d\u7aef\u6846\u67b6\uff0c\u4f46\u662f\u76ee\u524d\u5e76\u6ca1\u6709\u5f88\u597d\u7684\u89e3\u91ca\u539f\u7406\u7684\u9879\u76ee\u3002reactjs\u6e90\u7801\u6bd4\u8f83\u590d\u6742\u4e0d\u9002\u5408\u521d\u5b66\u8005\u53bb\u5b66\u4e60\u3002\u6240\u4ee5\u672c\u6587\u901a\u8fc7\u5b9e\u73b0\u4e00\u5957\u7b80\u6613\u7248\u7684reactjs\uff0c\u4f7f\u5f97\u7406\u89e3\u539f\u7406\u66f4\u52a0\u5bb9\u6613\u3002</p> <p>\u6240\u6709\u5b9e\u4f8b\u6e90\u7801\u90fd\u6258\u7ba1\u5728github\u3002\u70b9\u8fd9\u91cc\u91cc\u9762\u6709\u5206\u6b65\u9aa4\u7684\u4f8b\u5b50\uff0c\u53ef\u4ee5\u4e00\u8fb9\u770b\u4e00\u8fb9\u8fd0\u884c\u4f8b\u5b50\u3002</p> <p>\u8fd9\u4e2a\u5e16\u5b50\u662f2015\u5e74\uff0c\u9700\u8981\u8003\u8651\u662f\u5426\u7b26\u5408\u6700\u65b0\u7684\u7248\u672c\uff0c\u77e5\u8bc6\u662f\u5426\u8fc7\u65f6</p>"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8A%E7%AF%87%EF%BC%88%E9%A6%96%E6%AC%A1%E6%B8%B2%E6%9F%93%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#_1","title":"\u524d\u8a00","text":"<p>\u524d\u7aef\u7684\u53d1\u5c55\u7279\u522b\u5feb\uff0c\u7ecf\u5386\u8fc7jQuery\u4e00\u7edf\u5929\u4e0b\u7684\u5de5\u5177\u5e93\u65f6\u4ee3\u540e\uff0c\u73b0\u5728\u5404\u79cd\u6846\u67b6\u53c8\u5f00\u59cb\u767e\u5bb6\u4e89\u9e23\u4e86\u3002angular\uff0cember\uff0cbackbone\uff0cvue\uff0cavalon\uff0cploymer\u8fd8\u6709reactjs\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u524d\u7aef\u771f\u662f\u7a0d\u4e0d\u7559\u795e\u5c31\u611f\u89c9\u8981\u88ab\u6dd8\u6c70\u4e86\uff0c\u5c31\u5728\u53bb\u5e74\u5927\u5bb6\u8fd8\u90fd\u662fangularjs\u7684\u7c89\u4e1d\uff0c\u5230\u4e86\u4eca\u5e74\u53c8\u5f00\u59cb\u5404\u79cd\u72c2\u8ffdreactjs\u4e86\u3002\u524d\u7aef\u90fd\u662f\u559c\u65b0\u538c\u65e7\u7684\uff0c\u4e0d\u77e5\u9053\u6700\u540e\u8fd9\u4e9b\u6846\u67b6\u7531\u8c01\u6765\u4e00\u7edf\u5929\u4e0b\uff0c\u7528\u53e5\u5f88\u4fd7\u7684\u8bdd\u8bf4\uff0c\u8fd9\u662f\u6700\u597d\u7684\u65f6\u4ee3\u4e5f\u662f\u6700\u574f\u7684\u65f6\u4ee3\u3002\u4f5c\u4e3a\u4e00\u4e2a\u524d\u7aef\uff0c\u53ea\u80fd\u591a\u5b66\u70b9\uff0c\u5c3d\u91cf\u591a\u7684\u4e86\u89e3\u4ed6\u4eec\u7684\u539f\u7406\u3002</p> <p>reactjs\u7684\u4ee3\u7801\u975e\u5e38\u7ed5\uff0c\u5bf9\u4e8e\u6ca1\u6709\u540e\u53f0\u5f00\u53d1\u7ecf\u9a8c\u7684\u524d\u7aef\u6765\u8bf4\u770b\u8d77\u6765\u4f1a\u6bd4\u8f83\u5403\u529b\u3002\u5176\u5b9ereactjs\u7684\u6838\u5fc3\u5185\u5bb9\u5e76\u4e0d\u591a\uff0c\u4e3b\u8981\u662f\u4e0b\u9762\u8fd9\u4e9b\uff1a</p> <ul> <li>\u865a\u62dfdom\u5bf9\u8c61(Virtual DOM)</li> <li>\u865a\u62dfdom\u5dee\u5f02\u5316\u7b97\u6cd5\uff08diff algorithm\uff09</li> <li>\u5355\u5411\u6570\u636e\u6d41\u6e32\u67d3\uff08Data Flow\uff09</li> <li>\u7ec4\u4ef6\u751f\u547d\u5468\u671f</li> <li>\u4e8b\u4ef6\u5904\u7406</li> </ul> <p>\u4e0b\u9762\u6211\u4eec\u5c06\u4e00\u70b9\u70b9\u7684\u6765\u5b9e\u73b0\u4e00\u4e2a\u7b80\u6613\u7248\u7684reactjs\uff0c\u5b9e\u73b0\u4e0a\u9762\u7684\u90a3\u4e9b\u529f\u80fd\uff0c\u6700\u540e\u7528\u8fd9\u4e2areactjs\u505a\u4e00\u4e2atodolist\u7684\u5c0f\u5e94\u7528\uff0c\u770b\u5b8c\u8fd9\u4e2a\uff0c\u6216\u8005\u8ddf\u7740\u6572\u4e00\u904d\u4ee3\u7801\u3002\u5e0c\u671b\u8ba9\u5927\u5bb6\u80fd\u591f\u66f4\u597d\u7684\u7406\u89e3reactjs\u7684\u8fd0\u884c\u539f\u7406\u3002</p>"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8A%E7%AF%87%EF%BC%88%E9%A6%96%E6%AC%A1%E6%B8%B2%E6%9F%93%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#_2","title":"\u5165\u95e8","text":"<p>\u6211\u4eec\u5148\u4ece\u6e32\u67d3hello world\u5f00\u59cb\u5427\u3002</p> <p>\u6211\u4eec\u770b\u4e0b\u9762\u7684\u4ee3\u7801\uff1a</p> <pre><code>&lt;script type=\"text/javascript\"&gt;\n  React.render('hello world',document.getElementById(\"container\"))\n&lt;/script&gt;\n\n/**\n\u5bf9\u5e94\u7684html\u4e3a\n\n&lt;div id=\"container\"&gt;&lt;/div&gt;\n\n\n\u751f\u6210\u540e\u7684html\u4e3a\uff1a\n\n&lt;div id=\"container\"&gt;\n    &lt;span data-reactid=\"0\"&gt;hello world&lt;/span&gt;\n&lt;/div&gt;\n\n*/\n</code></pre> <p>\u5047\u5b9a\u8fd9\u4e00\u884c\u4ee3\u7801,\u5c31\u53ef\u4ee5\u628a<code>hello world</code>\u6e32\u67d3\u5230\u5bf9\u5e94\u7684div\u91cc\u9762\u3002</p> <p>\u6211\u4eec\u6765\u770b\u770b\u6211\u4eec\u9700\u8981\u4e3a\u6b64\u505a\u4e9b\u4ec0\u4e48\uff1a</p> <pre><code>//component\u7c7b\uff0c\u7528\u6765\u8868\u793a\u6587\u672c\u5728\u6e32\u67d3\uff0c\u66f4\u65b0\uff0c\u5220\u9664\u65f6\u5e94\u8be5\u505a\u4e9b\u4ec0\u4e48\u4e8b\u60c5\nfunction ReactDOMTextComponent(text) {\n  //\u5b58\u4e0b\u5f53\u524d\u7684\u5b57\u7b26\u4e32\n  this._currentElement = '' + text;\n  //\u7528\u6765\u6807\u8bc6\u5f53\u524dcomponent\n  this._rootNodeID = null;\n}\n\n//component\u6e32\u67d3\u65f6\u751f\u6210\u7684dom\u7ed3\u6784\nReactDOMTextComponent.prototype.mountComponent = function(rootID) {\n  this._rootNodeID = rootID;\n  return '&lt;span data-reactid=\"' + rootID + '\"&gt;' + this._currentElement + '&lt;/span&gt;';\n}\n\n//component\u5de5\u5382  \u7528\u6765\u8fd4\u56de\u4e00\u4e2acomponent\u5b9e\u4f8b\nfunction instantiateReactComponent(node){\n  if(typeof node === 'string' || typeof node === 'number'){\n    return new ReactDOMTextComponent(node)\n  }\n}\n\nReact = {\n  nextReactRootIndex:0,\n  render:function(element,container){\n    var componentInstance = instantiateReactComponent(element);\n    var markup = componentInstance.mountComponent(React.nextReactRootIndex++);\n    $(container).html(markup);\n    //\u89e6\u53d1\u5b8c\u6210mount\u7684\u4e8b\u4ef6\n    $(document).trigger('mountReady');    }\n}\n</code></pre> <p>\u4ee3\u7801\u5206\u4e3a\u4e09\u4e2a\u90e8\u5206\uff1a</p> <ol> <li>React.render \u4f5c\u4e3a\u5165\u53e3\u8d1f\u8d23\u8c03\u7528\u6e32\u67d3</li> <li>\u6211\u4eec\u5f15\u5165\u4e86component\u7c7b\u7684\u6982\u5ff5\uff0cReactDOMTextComponent\u662f\u4e00\u4e2acomponent\u7c7b\u5b9a\u4e49\uff0c\u5b9a\u4e49\u5bf9\u4e8e\u8fd9\u79cd<code>\u6587\u672c\u7c7b\u578b</code>\u7684\u8282\u70b9\uff0c\u5728\u6e32\u67d3\uff0c\u66f4\u65b0\uff0c\u5220\u9664\u65f6\u5e94\u8be5\u505a\u4ec0\u4e48\u64cd\u4f5c\uff0c\u8fd9\u8fb9\u6682\u65f6\u53ea\u7528\u5230\u6e32\u67d3\uff0c\u53e6\u5916\u4e24\u4e2a\u53ef\u4ee5\u5148\u5ffd\u7565</li> <li>instantiateReactComponent\u7528\u6765\u6839\u636eelement\u7684\u7c7b\u578b\uff08\u73b0\u5728\u53ea\u6709\u4e00\u79cdstring\u7c7b\u578b\uff09\uff0c\u8fd4\u56de\u4e00\u4e2acomponent\u7684\u5b9e\u4f8b\u3002\u5176\u5b9e\u5c31\u662f\u4e2a\u7c7b\u5de5\u5382\u3002</li> </ol> <p>nextReactRootIndex\u4f5c\u4e3a\u6bcf\u4e2acomponent\u7684\u6807\u8bc6id\uff0c\u4e0d\u65ad\u52a01\uff0c\u786e\u4fdd\u552f\u4e00\u6027\u3002\u8fd9\u6837\u6211\u4eec\u4ee5\u540e\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u6807\u8bc6\u627e\u5230\u8fd9\u4e2a\u5143\u7d20\u3002</p> <p>\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u628a\u903b\u8f91\u5206\u4e3a\u51e0\u4e2a\u90e8\u5206\uff0c\u4e3b\u8981\u7684\u6e32\u67d3\u903b\u8f91\u653e\u5728\u4e86\u5177\u4f53\u7684componet\u7c7b\u53bb\u5b9a\u4e49\u3002React.render\u8d1f\u8d23\u8c03\u5ea6\u6574\u4e2a\u6d41\u7a0b\uff0c\u8fd9\u91cc\u662f\u8c03\u7528instantiateReactComponent\u751f\u6210\u4e00\u4e2a\u5bf9\u5e94component\u7c7b\u578b\u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u7136\u540e\u8c03\u7528\u6b64\u5bf9\u8c61\u7684mountComponent\u83b7\u53d6\u751f\u6210\u7684\u5185\u5bb9\u3002\u6700\u540e\u5199\u5230\u5bf9\u5e94\u7684container\u8282\u70b9\u4e2d\u3002</p> <p>\u53ef\u80fd\u6709\u4eba\u95ee\uff0c\u8fd9\u4e48p\u5927\u70b9\u529f\u80fd\uff0c\u6709\u5fc5\u8981\u8fd9\u4e48\u590d\u6742\u561b\uff0c\u522b\u6025\u3002\u5f80\u4e0b\u770b\u624d\u80fd\u4f53\u4f1a\u8fd9\u79cd\u5206\u5c42\u7684\u597d\u5904\u3002</p>"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8A%E7%AF%87%EF%BC%88%E9%A6%96%E6%AC%A1%E6%B8%B2%E6%9F%93%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#elemetnt","title":"\u5f15\u5165\u57fa\u672celemetnt","text":"<p>\u6211\u4eec\u77e5\u9053reactjs\u6700\u5927\u7684\u5356\u70b9\u5c31\u662f\u5b83\u7684\u865a\u62dfdom\u6982\u5ff5\uff0c\u6211\u4eec\u4e00\u822c\u4f7f\u7528<code>React.createElement</code>\u6765\u521b\u5efa\u4e00\u4e2a\u865a\u62dfdom\u5143\u7d20\u3002</p> <p>\u865a\u62dfdom\u5143\u7d20\u5206\u4e3a\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u6d4f\u89c8\u5668\u81ea\u5e26\u7684\u57fa\u672c\u5143\u7d20\u6bd4\u5982 div p input form \u8fd9\u79cd\uff0c\u4e00\u79cd\u662f\u81ea\u5b9a\u4e49\u7684\u5143\u7d20\u3002</p> <p>\u8fd9\u8fb9\u9700\u8981\u8bf4\u4e00\u4e0b\u6211\u4eec\u4e0a\u8282\u63d0\u5230\u7684\u6587\u672c\u8282\u70b9\uff0c\u5b83\u4e0d\u7b97\u865a\u62dfdom\uff0c\u4f46\u662freacjs\u4e3a\u4e86\u4fdd\u6301\u6e32\u67d3\u7684\u4e00\u81f4\u6027\u3002\u6587\u672c\u8282\u70b9\u662f\u5728\u5916\u9762\u5305\u4e86\u4e00\u5c42span\u6807\u8bb0\uff0c\u4e5f\u7ed9\u5b83\u914d\u4e86\u4e2a\u7b80\u5316\u7248component\uff08ReactDOMTextComponent\uff09\u3002</p> <p>\u8fd9\u8282\u6211\u4eec\u5148\u8ba8\u8bba\u6d4f\u89c8\u5668\u7684\u57fa\u672c\u5143\u7d20\u3002</p> <p>\u5728reactjs\u91cc\uff0c\u5f53\u6211\u4eec\u5e0c\u671b\u5728hello world\u5916\u9762\u5305\u4e00\u5c42div,\u5e76\u4e14\u5e26\u4e0a\u4e00\u4e9b\u5c5e\u6027\uff0c\u751a\u81f3\u4e8b\u4ef6\u65f6\u6211\u4eec\u53ef\u4ee5\u8fd9\u4e48\u5199\uff1a</p> <pre><code>//\u6f14\u793a\u4e8b\u4ef6\u76d1\u542c\u600e\u4e48\u7528\nfunction hello(){\n  alert('hello')\n}\nvar element = React.createElement('div',{id:'test',onclick:hello},'click me')\nReact.render(element,document.getElementById(\"container\"))\n\n/**\n\n//\u751f\u6210\u7684html\u4e3a\uff1a\n\n&lt;div data-reactid=\"0\" id=\"test\"&gt;\n    &lt;span data-reactid=\"0.0\"&gt;click me&lt;/span&gt;\n&lt;/div&gt;\n//\u70b9\u51fb\u6587\u5b57\uff0c\u4f1a\u5f39\u51fahello\u7684\u5bf9\u8bdd\u6846\n*/\n</code></pre> <p>\u4e0a\u9762\u4f7f\u7528<code>React.createElement</code>\u521b\u5efa\u4e86\u4e00\u4e2a\u57fa\u672c\u5143\u7d20\uff0c\u6211\u4eec\u6765\u770b\u770b\u7b80\u6613\u7248\u672c<code>React.createElement</code>\u7684\u5b9e\u73b0\uff1a</p> <pre><code>//ReactElement\u5c31\u662f\u865a\u62dfdom\u7684\u6982\u5ff5\uff0c\u5177\u6709\u4e00\u4e2atype\u5c5e\u6027\u4ee3\u8868\u5f53\u524d\u7684\u8282\u70b9\u7c7b\u578b\uff0c\u8fd8\u6709\u8282\u70b9\u7684\u5c5e\u6027props\n//\u6bd4\u5982\u5bf9\u4e8ediv\u8fd9\u6837\u7684\u8282\u70b9type\u5c31\u662fdiv\uff0cprops\u5c31\u662f\u90a3\u4e9battributes\n//\u53e6\u5916\u8fd9\u91cc\u7684key,\u53ef\u4ee5\u7528\u6765\u6807\u8bc6\u8fd9\u4e2aelement\uff0c\u7528\u4e8e\u4f18\u5316\u4ee5\u540e\u7684\u66f4\u65b0\uff0c\u8fd9\u91cc\u53ef\u4ee5\u5148\u4e0d\u7ba1\uff0c\u77e5\u9053\u6709\u8fd9\u4e48\u4e2a\u4e1c\u897f\u5c31\u597d\u4e86\nfunction ReactElement(type,key,props){\n  this.type = type;\n  this.key = key;\n  this.props = props;\n}\n\n\nReact = {\n  nextReactRootIndex:0,\n  createElement:function(type,config,children){\n    var props = {},propName;\n    config = config || {}\n    //\u770b\u6709\u6ca1\u6709key\uff0c\u7528\u6765\u6807\u8bc6element\u7684\u7c7b\u578b\uff0c\u65b9\u4fbf\u4ee5\u540e\u9ad8\u6548\u7684\u66f4\u65b0\uff0c\u8fd9\u91cc\u53ef\u4ee5\u5148\u4e0d\u7ba1\n    var key = config.key || null;\n\n    //\u590d\u5236config\u91cc\u7684\u5185\u5bb9\u5230props\n    for (propName in config) {\n      if (config.hasOwnProperty(propName) &amp;&amp; propName !== 'key') {\n        props[propName] = config[propName];\n      }\n    }\n\n    //\u5904\u7406children,\u5168\u90e8\u6302\u8f7d\u5230props\u7684children\u5c5e\u6027\u4e0a\n    //\u652f\u6301\u4e24\u79cd\u5199\u6cd5\uff0c\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u53c2\u6570\uff0c\u76f4\u63a5\u8d4b\u503c\u7ed9children\uff0c\u5426\u5219\u505a\u5408\u5e76\u5904\u7406\n    var childrenLength = arguments.length - 2;\n    if (childrenLength === 1) {\n      props.children = $.isArray(children) ? children : [children] ;\n    } else if (childrenLength &gt; 1) {\n      var childArray = Array(childrenLength);\n      for (var i = 0; i &lt; childrenLength; i++) {\n        childArray[i] = arguments[i + 2];\n      }\n      props.children = childArray;\n    }\n\n    return new ReactElement(type, key,props);\n\n  },\n  render:function(element,container){\n    var componentInstance = instantiateReactComponent(element);\n    var markup = componentInstance.mountComponent(React.nextReactRootIndex++);\n    $(container).html(markup);\n    //\u89e6\u53d1\u5b8c\u6210mount\u7684\u4e8b\u4ef6\n    $(document).trigger('mountReady');\n  }\n}\n</code></pre> <p>createElement\u53ea\u662f\u505a\u4e86\u7b80\u5355\u7684\u53c2\u6570\u4fee\u6b63\uff0c\u6700\u7ec8\u8fd4\u56de\u4e00\u4e2aReactElement\u5b9e\u4f8b\u5bf9\u8c61\u4e5f\u5c31\u662f\u6211\u4eec\u8bf4\u7684\u865a\u62df\u5143\u7d20\u7684\u5b9e\u4f8b\u3002</p> <p>\u8fd9\u91cc\u6ce8\u610fkey\u7684\u5b9a\u4e49\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u4ee5\u540e\u66f4\u65b0\u65f6\u4f18\u5316\u6548\u7387\uff0c\u8fd9\u8fb9\u53ef\u4ee5\u5148\u4e0d\u7ba1\u5ffd\u7565\u3002</p> <p>\u597d\u4e86\u6709\u4e86\u5143\u7d20\u5b9e\u4f8b\uff0c\u6211\u4eec\u5f97\u628a\u4ed6\u6e32\u67d3\u51fa\u6765\uff0c\u6b64\u65f6render\u63a5\u53d7\u7684\u662f\u4e00\u4e2aReactElement\u800c\u4e0d\u662f\u6587\u672c\uff0c\u6211\u4eec\u5148\u6539\u9020\u4e0binstantiateReactComponent\uff1a</p> <pre><code>function instantiateReactComponent(node){\n  //\u6587\u672c\u8282\u70b9\u7684\u60c5\u51b5\n  if(typeof node === 'string' || typeof node === 'number'){\n    return new ReactDOMTextComponent(node);\n  }\n  //\u6d4f\u89c8\u5668\u9ed8\u8ba4\u8282\u70b9\u7684\u60c5\u51b5\n  if(typeof node === 'object' &amp;&amp; typeof node.type === 'string'){\n    //\u6ce8\u610f\u8fd9\u91cc\uff0c\u4f7f\u7528\u4e86\u4e00\u79cd\u65b0\u7684component\n    return new ReactDOMComponent(node);\n\n  }\n}\n</code></pre> <p>\u6211\u4eec\u589e\u52a0\u4e86\u4e00\u4e2a\u5224\u65ad\uff0c\u8fd9\u6837\u5f53render\u7684\u4e0d\u662f\u6587\u672c\u800c\u662f\u6d4f\u89c8\u5668\u7684\u57fa\u672c\u5143\u7d20\u65f6\u3002\u6211\u4eec\u4f7f\u7528\u53e6\u5916\u4e00\u79cdcomponent\u6765\u5904\u7406\u5b83\u6e32\u67d3\u65f6\u5e94\u8be5\u8fd4\u56de\u7684\u5185\u5bb9\u3002\u8fd9\u91cc\u5c31\u4f53\u73b0\u4e86\u5de5\u5382\u65b9\u6cd5instantiateReactComponent\u7684\u597d\u5904\u4e86\uff0c\u4e0d\u7ba1\u6765\u4e86\u4ec0\u4e48\u7c7b\u578b\u7684node\uff0c\u90fd\u53ef\u4ee5\u8d1f\u8d23\u751f\u4ea7\u51fa\u4e00\u4e2a\u8d1f\u8d23\u6e32\u67d3\u7684component\u5b9e\u4f8b\u3002\u8fd9\u6837render\u5b8c\u5168\u4e0d\u9700\u8981\u505a\u4efb\u4f55\u4fee\u6539\uff0c\u53ea\u9700\u8981\u518d\u505a\u4e00\u79cd\u5bf9\u5e94\u7684component\u7c7b\u578b\uff08\u8fd9\u91cc\u662fReactDOMComponent\uff09\u5c31\u884c\u4e86\u3002</p> <p>\u6240\u4ee5\u91cd\u70b9\u6211\u4eec\u6765\u770b\u770b<code>ReactDOMComponent</code>\u7684\u5177\u4f53\u5b9e\u73b0\uff1a</p> <pre><code>//component\u7c7b\uff0c\u7528\u6765\u8868\u793a\u6587\u672c\u5728\u6e32\u67d3\uff0c\u66f4\u65b0\uff0c\u5220\u9664\u65f6\u5e94\u8be5\u505a\u4e9b\u4ec0\u4e48\u4e8b\u60c5\nfunction ReactDOMComponent(element){\n  //\u5b58\u4e0b\u5f53\u524d\u7684element\u5bf9\u8c61\u5f15\u7528\n  this._currentElement = element;\n  this._rootNodeID = null;\n}\n\n//component\u6e32\u67d3\u65f6\u751f\u6210\u7684dom\u7ed3\u6784\nReactDOMComponent.prototype.mountComponent = function(rootID){\n  //\u8d4b\u503c\u6807\u8bc6\n  this._rootNodeID = rootID;\n  var props = this._currentElement.props;\n  var tagOpen = '&lt;' + this._currentElement.type;\n  var tagClose = '&lt;/' + this._currentElement.type + '&gt;';\n\n  //\u52a0\u4e0areactid\u6807\u8bc6\n  tagOpen += ' data-reactid=' + this._rootNodeID;\n\n  //\u62fc\u51d1\u51fa\u5c5e\u6027\n  for (var propKey in props) {\n\n    //\u8fd9\u91cc\u8981\u505a\u4e00\u4e0b\u4e8b\u4ef6\u7684\u76d1\u542c\uff0c\u5c31\u662f\u4ece\u5c5e\u6027props\u91cc\u9762\u89e3\u6790\u62ff\u51faon\u5f00\u5934\u7684\u4e8b\u4ef6\u5c5e\u6027\u7684\u5bf9\u5e94\u4e8b\u4ef6\u76d1\u542c\n    if (/^on[A-Za-z]/.test(propKey)) {\n      var eventType = propKey.replace('on', '');\n      //\u9488\u5bf9\u5f53\u524d\u7684\u8282\u70b9\u6dfb\u52a0\u4e8b\u4ef6\u4ee3\u7406,\u4ee5_rootNodeID\u4e3a\u547d\u540d\u7a7a\u95f4\n      $(document).delegate('[data-reactid=\"' + this._rootNodeID + '\"]', eventType + '.' + this._rootNodeID, props[propKey]);\n    }\n\n    //\u5bf9\u4e8echildren\u5c5e\u6027\u4ee5\u53ca\u4e8b\u4ef6\u76d1\u542c\u7684\u5c5e\u6027\u4e0d\u9700\u8981\u8fdb\u884c\u5b57\u7b26\u4e32\u62fc\u63a5\n    //\u4e8b\u4ef6\u4f1a\u4ee3\u7406\u5230\u5168\u5c40\u3002\u8fd9\u8fb9\u4e0d\u80fd\u62fc\u5230dom\u4e0a\u4e0d\u7136\u4f1a\u4ea7\u751f\u539f\u751f\u7684\u4e8b\u4ef6\u76d1\u542c\n    if (props[propKey] &amp;&amp; propKey != 'children' &amp;&amp; !/^on[A-Za-z]/.test(propKey)) {\n      tagOpen += ' ' + propKey + '=' + props[propKey];\n    }\n  }\n  //\u83b7\u53d6\u5b50\u8282\u70b9\u6e32\u67d3\u51fa\u7684\u5185\u5bb9\n  var content = '';\n  var children = props.children || [];\n\n  var childrenInstances = []; //\u7528\u4e8e\u4fdd\u5b58\u6240\u6709\u7684\u5b50\u8282\u70b9\u7684componet\u5b9e\u4f8b\uff0c\u4ee5\u540e\u4f1a\u7528\u5230\n  var that = this;\n  $.each(children, function(key, child) {\n    //\u8fd9\u91cc\u518d\u6b21\u8c03\u7528\u4e86instantiateReactComponent\u5b9e\u4f8b\u5316\u5b50\u8282\u70b9component\u7c7b\uff0c\u62fc\u63a5\u597d\u8fd4\u56de\n    var childComponentInstance = instantiateReactComponent(child);\n    childComponentInstance._mountIndex = key;\n\n    childrenInstances.push(childComponentInstance);\n    //\u5b50\u8282\u70b9\u7684rootId\u662f\u7236\u8282\u70b9\u7684rootId\u52a0\u4e0a\u65b0\u7684key\u4e5f\u5c31\u662f\u987a\u5e8f\u7684\u503c\u62fc\u6210\u7684\u65b0\u503c\n    var curRootId = that._rootNodeID + '.' + key;\n    //\u5f97\u5230\u5b50\u8282\u70b9\u7684\u6e32\u67d3\u5185\u5bb9\n    var childMarkup = childComponentInstance.mountComponent(curRootId);\n    //\u62fc\u63a5\u5728\u4e00\u8d77\n    content += ' ' + childMarkup;\n  })\n\n  //\u7559\u7ed9\u4ee5\u540e\u66f4\u65b0\u65f6\u7528\u7684\u8fd9\u8fb9\u5148\u4e0d\u7528\u7ba1\n  this._renderedChildren = childrenInstances;\n\n  //\u62fc\u51fa\u6574\u4e2ahtml\u5185\u5bb9\n  return tagOpen + '&gt;' + content + tagClose;\n}\n</code></pre> <p>\u6211\u4eec\u589e\u52a0\u4e86\u865a\u62dfdom reactElement\u7684\u5b9a\u4e49\uff0c\u589e\u52a0\u4e86\u4e00\u4e2a\u65b0\u7684componet\u7c7bReactDOMComponent\u3002 \u8fd9\u6837\u6211\u4eec\u5c31\u5b9e\u73b0\u4e86\u6e32\u67d3\u6d4f\u89c8\u5668\u57fa\u672c\u5143\u7d20\u7684\u529f\u80fd\u4e86\u3002</p> <p>\u5bf9\u4e8e\u865a\u62dfdom\u7684\u6e32\u67d3\u903b\u8f91\uff0c\u672c\u8d28\u4e0a\u8fd8\u662f\u4e2a\u9012\u5f52\u6e32\u67d3\u7684\u4e1c\u897f\uff0creactElement\u4f1a\u9012\u5f52\u6e32\u67d3\u81ea\u5df1\u7684\u5b50\u8282\u70b9\u3002\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u901a\u8fc7instantiateReactComponent\u5c4f\u853d\u4e86\u5b50\u8282\u70b9\u7684\u5dee\u5f02\uff0c\u53ea\u9700\u8981\u4f7f\u7528\u4e0d\u540c\u7684componet\u7c7b\uff0c\u8fd9\u6837\u90fd\u80fd\u4fdd\u8bc1\u901a\u8fc7mountComponent\u6700\u7ec8\u62ff\u5230\u6e32\u67d3\u540e\u7684\u5185\u5bb9\u3002</p> <p>\u53e6\u5916\u8fd9\u8fb9\u7684\u4e8b\u4ef6\u4e5f\u8981\u8bf4\u4e0b\uff0c\u53ef\u4ee5\u5728\u4f20\u9012props\u7684\u65f6\u5019\u4f20\u5165{onClick:function(){}}\u8fd9\u6837\u7684\u53c2\u6570\uff0c\u8fd9\u6837\u5c31\u4f1a\u5728\u5f53\u524d\u5143\u7d20\u4e0a\u6dfb\u52a0\u4e8b\u4ef6\uff0c\u4ee3\u7406\u5230document\u3002\u7531\u4e8ereactjs\u672c\u8eab\u5168\u662f\u5728\u5199js\uff0c\u6240\u4ee5\u76d1\u542c\u7684\u51fd\u6570\u7684\u4f20\u9012\u53d8\u5f97\u7279\u522b\u7b80\u5355\u3002</p> <p>\u8fd9\u91cc\u5f88\u591a\u4e1c\u897f\u6ca1\u6709\u8003\u8651\uff0c\u6bd4\u5982\u4e00\u4e9b\u7279\u6b8a\u7684\u7c7b\u578binput select\u7b49\u7b49\uff0c\u518d\u6bd4\u5982img\u4e0d\u9700\u8981\u6709\u5bf9\u5e94\u7684tagClose\u7b49\u3002\u8fd9\u91cc\u4e3a\u4e86\u4fdd\u6301\u7b80\u5355\u5c31\u4e0d\u518d\u6269\u5c55\u4e86\u3002\u53e6\u5916reactjs\u7684\u4e8b\u4ef6\u5904\u7406\u5176\u5b9e\u5f88\u590d\u6742\uff0c\u5b9e\u73b0\u4e86\u4e00\u5957\u6807\u51c6\u7684w3c\u4e8b\u4ef6\u3002\u8fd9\u91cc\u5077\u61d2\u76f4\u63a5\u4f7f\u7528jQuery\u7684\u4e8b\u4ef6\u4ee3\u7406\u5230document\u4e0a\u4e86\u3002</p>"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8A%E7%AF%87%EF%BC%88%E9%A6%96%E6%AC%A1%E6%B8%B2%E6%9F%93%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#_3","title":"\u81ea\u5b9a\u4e49\u5143\u7d20","text":"<p>\u4e0a\u9762\u5b9e\u73b0\u4e86\u57fa\u672c\u7684\u5143\u7d20\u5185\u5bb9\uff0c\u6211\u4eec\u4e0b\u9762\u5b9e\u73b0\u81ea\u5b9a\u4e49\u5143\u7d20\u7684\u529f\u80fd\u3002</p> <p>\u968f\u7740\u524d\u7aef\u6280\u672f\u7684\u53d1\u5c55\u6d4f\u89c8\u5668\u7684\u90a3\u4e9b\u57fa\u672c\u5143\u7d20\u5df2\u7ecf\u6ee1\u8db3\u4e0d\u4e86\u6211\u4eec\u7684\u9700\u6c42\u4e86\uff0c\u5982\u679c\u4f60\u5bf9webcomponents\u6709\u4e00\u5b9a\u7684\u4e86\u89e3\uff0c\u5c31\u4f1a\u77e5\u9053\u4eba\u4eec\u4e00\u76f4\u5728\u5c1d\u8bd5\u6269\u5c55\u4e00\u4e9b\u81ea\u5df1\u7684\u6807\u8bb0\u3002</p> <p>reactjs\u901a\u8fc7\u865a\u62dfdom\u505a\u5230\u4e86\u7c7b\u4f3c\u7684\u529f\u80fd\uff0c\u8fd8\u8bb0\u5f97\u6211\u4eec\u4e0a\u9762element.type\u53ea\u662f\u4e2a\u7b80\u5355\u7684\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u662f\u4e2a\u7c7b\u5462\uff1f\u5982\u679c\u8fd9\u4e2a\u7c7b\u6070\u597d\u8fd8\u6709\u81ea\u5df1\u7684\u751f\u547d\u5468\u671f\u7ba1\u7406\uff0c\u90a3\u6269\u5c55\u6027\u5c31\u5f88\u9ad8\u4e86\u3002</p> <p>\u5982\u679c\u5bf9\u751f\u547d\u5468\u671f\u7b49\u6982\u5ff5\u4e0d\u662f\u5f88\u7406\u89e3\u7684\uff0c\u53ef\u4ee5\u770b\u770b\u6211\u4ee5\u524d\u7684\u53e6\u4e00\u7247\u6587\u7ae0\uff1ajavascript\u7ec4\u4ef6\u5316</p> <p>\u6211\u4eec\u770b\u4e0breactjs\u600e\u4e48\u4f7f\u7528\u81ea\u5b9a\u4e49\u5143\u7d20\uff1a</p> <pre><code>var HelloMessage = React.createClass({\n  getInitialState: function() {\n    return {type: 'say:'};\n  },\n  componentWillMount: function() {\n    console.log('\u6211\u5c31\u8981\u5f00\u59cb\u6e32\u67d3\u4e86\u3002\u3002\u3002')\n  },\n  componentDidMount: function() {\n    console.log('\u6211\u5df2\u7ecf\u6e32\u67d3\u597d\u4e86\u3002\u3002\u3002')\n  },\n  render: function() {\n    return React.createElement(\"div\", null,this.state.type, \"Hello \", this.props.name);\n  }\n});\n\n\nReact.render(React.createElement(HelloMessage, {name: \"John\"}), document.getElementById(\"container\"));\n\n/**\n\u7ed3\u679c\u4e3a\uff1a\n\nhtml:\n&lt;div data-reactid=\"0\"&gt;\n    &lt;span data-reactid=\"0.0\"&gt;say:&lt;/span&gt;\n    &lt;span data-reactid=\"0.1\"&gt;Hello &lt;/span&gt;\n    &lt;span data-reactid=\"0.2\"&gt;John&lt;/span&gt;\n&lt;/div&gt;\n\nconsole:\n\u6211\u5c31\u8981\u5f00\u59cb\u6e32\u67d3\u4e86\u3002\u3002\u3002\n\u6211\u5df2\u7ecf\u6e32\u67d3\u597d\u4e86\u3002\u3002\u3002\n\n*/\n</code></pre> <p><code>React.createElement</code>\u63a5\u53d7\u7684\u4e0d\u518d\u662f\u5b57\u7b26\u4e32\uff0c\u800c\u662f\u4e00\u4e2aclass\u3002</p> <p><code>React.createClass</code>\u751f\u6210\u4e00\u4e2a\u81ea\u5b9a\u4e49\u6807\u8bb0\u7c7b\uff0c\u5e26\u6709\u57fa\u672c\u7684\u751f\u547d\u5468\u671f\uff1a</p> <ul> <li>getInitialState \u83b7\u53d6\u6700\u521d\u7684\u5c5e\u6027\u503cthis.state</li> <li>componentWillmount \u5728\u7ec4\u4ef6\u51c6\u5907\u6e32\u67d3\u65f6\u8c03\u7528</li> <li>componentDidMount \u5728\u7ec4\u4ef6\u6e32\u67d3\u5b8c\u6210\u540e\u8c03\u7528</li> </ul> <p>\u5bf9reactjs\u7a0d\u5fae\u6709\u70b9\u4e86\u89e3\u7684\u5e94\u8be5\u90fd\u53ef\u4ee5\u660e\u767d\u4e0a\u9762\u7684\u7528\u6cd5\u3002</p> <p>\u6211\u4eec\u5148\u6765\u770b\u770bReact.createClass\u7684\u5b9e\u73b0\uff1a</p> <pre><code>//\u5b9a\u4e49ReactClass\u7c7b,\u6240\u6709\u81ea\u5b9a\u4e49\u7684\u8d85\u7ea7\u7236\u7c7b\nvar ReactClass = function(){\n}\n//\u7559\u7ed9\u5b50\u7c7b\u53bb\u7ee7\u627f\u8986\u76d6\nReactClass.prototype.render = function(){}\n\n\n\nReact = {\n  nextReactRootIndex:0,\n  createClass:function(spec){\n    //\u751f\u6210\u4e00\u4e2a\u5b50\u7c7b\n    var Constructor = function (props) {\n      this.props = props;\n      this.state = this.getInitialState ? this.getInitialState() : null;\n    }\n    //\u539f\u578b\u7ee7\u627f\uff0c\u7ee7\u627f\u8d85\u7ea7\u7236\u7c7b\n    Constructor.prototype = new ReactClass();\n    Constructor.prototype.constructor = Constructor;\n    //\u6df7\u5165spec\u5230\u539f\u578b\n    $.extend(Constructor.prototype,spec);\n    return Constructor;\n\n  },\n  createElement:function(type,config,children){\n    ...\n  },\n    render:function(element,container){\n      ...\n    }\n    }\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230createClass\u751f\u6210\u4e86\u4e00\u4e2a\u7ee7\u627fReactClass\u7684\u5b50\u7c7b\uff0c\u5728\u6784\u9020\u51fd\u6570\u91cc\u8c03\u7528this.getInitialState\u83b7\u5f97\u6700\u521d\u7684state\u3002</p> <p>\u4e3a\u4e86\u6f14\u793a\u65b9\u4fbf,\u6211\u4eec\u8fd9\u8fb9\u7684ReactClass\u76f8\u5f53\u7b80\u5355\uff0c\u5b9e\u9645\u4e0a\u539f\u59cb\u7684\u4ee3\u7801\u5904\u7406\u4e86\u5f88\u591a\u4e1c\u897f\uff0c\u6bd4\u5982\u7c7b\u7684mixin\u7684\u7ec4\u5408\u7ee7\u627f\u652f\u6301,\u6bd4\u5982componentDidMount\u7b49\u53ef\u4ee5\u5b9a\u4e49\u591a\u6b21\uff0c\u9700\u8981\u5408\u5e76\u8c03\u7528\u7b49\u7b49\uff0c\u6709\u5174\u8da3\u7684\u53bb\u7ffb\u6e90\u7801\u5427\uff0c\u4e0d\u662f\u672c\u6587\u7684\u4e3b\u8981\u76ee\u7684\uff0c\u8fd9\u91cc\u5c31\u4e0d\u8be6\u7ec6\u5c55\u5f00\u4e86\u3002</p> <p>\u6211\u4eec\u8fd9\u91cc\u53ea\u662f\u8fd4\u56de\u4e86\u4e00\u4e2a\u7ee7\u627f\u7c7b\u7684\u5b9a\u4e49\uff0c\u90a3\u4e48\u5177\u4f53\u7684componentWillmount\uff0c\u8fd9\u4e9b\u751f\u547d\u5468\u671f\u51fd\u6570\u5728\u54ea\u91cc\u8c03\u7528\u5462\u3002</p> <p>\u770b\u770b\u6211\u4eec\u4e0a\u9762\u7684\u4e24\u79cd\u7c7b\u578b\u5c31\u77e5\u9053\uff0c\u6211\u4eec\u662f\u65f6\u5019\u4e3a\u81ea\u5b9a\u4e49\u5143\u7d20\u4e5f\u63d0\u4f9b\u4e00\u4e2acomponet\u7c7b\u4e86\uff0c\u5728\u90a3\u4e2a\u7c7b\u91cc\u6211\u4eec\u4f1a\u5b9e\u4f8b\u5316ReactClass\uff0c\u5e76\u4e14\u7ba1\u7406\u751f\u547d\u5468\u671f\uff0c\u8fd8\u6709\u7236\u5b50\u7ec4\u4ef6\u4f9d\u8d56\u3002</p> <p>\u597d\uff0c\u6211\u4eec\u8001\u89c4\u77e9\u5148\u6539\u9020instantiateReactComponent</p> <pre><code>function instantiateReactComponent(node){\n  //\u6587\u672c\u8282\u70b9\u7684\u60c5\u51b5\n  if(typeof node === 'string' || typeof node === 'number'){\n    return new ReactDOMTextComponent(node);\n  }\n  //\u6d4f\u89c8\u5668\u9ed8\u8ba4\u8282\u70b9\u7684\u60c5\u51b5\n  if(typeof node === 'object' &amp;&amp; typeof node.type === 'string'){\n    //\u6ce8\u610f\u8fd9\u91cc\uff0c\u4f7f\u7528\u4e86\u4e00\u79cd\u65b0\u7684component\n    return new ReactDOMComponent(node);\n\n  }\n  //\u81ea\u5b9a\u4e49\u7684\u5143\u7d20\u8282\u70b9\n  if(typeof node === 'object' &amp;&amp; typeof node.type === 'function'){\n    //\u6ce8\u610f\u8fd9\u91cc\uff0c\u4f7f\u7528\u65b0\u7684component,\u4e13\u95e8\u9488\u5bf9\u81ea\u5b9a\u4e49\u5143\u7d20\n    return new ReactCompositeComponent(node);\n\n  }\n}\n</code></pre> <p>\u5f88\u7b80\u5355\u6211\u4eec\u589e\u52a0\u4e86\u4e00\u4e2a\u5224\u65ad\uff0c\u4f7f\u7528\u65b0\u7684component\u7c7b\u5f62\u6765\u5904\u7406\u81ea\u5b9a\u4e49\u7684\u8282\u70b9\u3002\u6211\u4eec\u770b\u4e0b ReactCompositeComponent\u7684\u5177\u4f53\u5b9e\u73b0:</p> <pre><code>function ReactCompositeComponent(element){\n  //\u5b58\u653e\u5143\u7d20element\u5bf9\u8c61\n  this._currentElement = element;\n  //\u5b58\u653e\u552f\u4e00\u6807\u8bc6\n  this._rootNodeID = null;\n  //\u5b58\u653e\u5bf9\u5e94\u7684ReactClass\u7684\u5b9e\u4f8b\n  this._instance = null;\n}\n\n//\u7528\u4e8e\u8fd4\u56de\u5f53\u524d\u81ea\u5b9a\u4e49\u5143\u7d20\u6e32\u67d3\u65f6\u5e94\u8be5\u8fd4\u56de\u7684\u5185\u5bb9\nReactCompositeComponent.prototype.mountComponent = function(rootID){\n  this._rootNodeID = rootID;\n  //\u62ff\u5230\u5f53\u524d\u5143\u7d20\u5bf9\u5e94\u7684\u5c5e\u6027\u503c\n  var publicProps = this._currentElement.props;\n  //\u62ff\u5230\u5bf9\u5e94\u7684ReactClass\n  var ReactClass = this._currentElement.type;\n  // Initialize the public class\n  var inst = new ReactClass(publicProps);\n  this._instance = inst;\n  //\u4fdd\u7559\u5bf9\u5f53\u524dcomonent\u7684\u5f15\u7528\uff0c\u4e0b\u9762\u66f4\u65b0\u4f1a\u7528\u5230\n  inst._reactInternalInstance = this;\n\n  if (inst.componentWillMount) {\n    inst.componentWillMount();\n    //\u8fd9\u91cc\u5728\u539f\u59cb\u7684reactjs\u5176\u5b9e\u8fd8\u6709\u4e00\u5c42\u5904\u7406\uff0c\u5c31\u662f  componentWillMount\u8c03\u7528setstate\uff0c\u4e0d\u4f1a\u89e6\u53d1rerender\u800c\u662f\u81ea\u52a8\u63d0\u524d\u5408\u5e76\uff0c\u8fd9\u91cc\u4e3a\u4e86\u4fdd\u6301\u7b80\u5355\uff0c\u5c31\u7565\u53bb\u4e86\n  }\n  //\u8c03\u7528ReactClass\u7684\u5b9e\u4f8b\u7684render\u65b9\u6cd5,\u8fd4\u56de\u4e00\u4e2aelement\u6216\u8005\u4e00\u4e2a\u6587\u672c\u8282\u70b9\n  var renderedElement = this._instance.render();\n  //\u5f97\u5230renderedElement\u5bf9\u5e94\u7684component\u7c7b\u5b9e\u4f8b\n  var renderedComponentInstance = instantiateReactComponent(renderedElement);\n  this._renderedComponent = renderedComponentInstance; //\u5b58\u8d77\u6765\u7559\u4f5c\u540e\u7528\n\n  //\u62ff\u5230\u6e32\u67d3\u4e4b\u540e\u7684\u5b57\u7b26\u4e32\u5185\u5bb9\uff0c\u5c06\u5f53\u524d\u7684_rootNodeID\u4f20\u7ed9render\u51fa\u7684\u8282\u70b9\n  var renderedMarkup = renderedComponentInstance.mountComponent(this._rootNodeID);\n\n  //\u4e4b\u524d\u6211\u4eec\u5728React.render\u65b9\u6cd5\u6700\u540e\u89e6\u53d1\u4e86mountReady\u4e8b\u4ef6\uff0c\u6240\u4ee5\u8fd9\u91cc\u53ef\u4ee5\u76d1\u542c\uff0c\u5728\u6e32\u67d3\u5b8c\u6210\u540e\u4f1a\u89e6\u53d1\u3002\n  $(document).on('mountReady', function() {\n    //\u8c03\u7528inst.componentDidMount\n    inst.componentDidMount &amp;&amp; inst.componentDidMount();\n  });\n\n  return renderedMarkup;\n}\n</code></pre> <p>\u5b9e\u73b0\u5e76\u4e0d\u96be\uff0cReactClass\u7684render\u4e00\u5b9a\u662f\u8fd4\u56de\u4e00\u4e2a\u865a\u62df\u8282\u70b9(\u5305\u62ecelement\u548ctext)\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u4f7f\u7528instantiateReactComponent\u53bb\u5f97\u5230\u5b9e\u4f8b\uff0c\u518d\u4f7f\u7528mountComponent\u62ff\u5230\u7ed3\u679c\u4f5c\u4e3a\u5f53\u524d\u81ea\u5b9a\u4e49\u5143\u7d20\u7684\u7ed3\u679c\u3002</p> <p>\u5e94\u8be5\u8bf4\u672c\u8eab\u81ea\u5b9a\u4e49\u5143\u7d20\u4e0d\u8d1f\u8d23\u5177\u4f53\u7684\u5185\u5bb9\uff0c\u4ed6\u66f4\u591a\u7684\u662f\u8d1f\u8d23\u751f\u547d\u5468\u671f\u3002\u5177\u4f53\u7684\u5185\u5bb9\u662f\u7531\u5b83\u7684render\u65b9\u6cd5\u8fd4\u56de\u7684\u865a\u62df\u8282\u70b9\u6765\u8d1f\u8d23\u6e32\u67d3\u7684\u3002</p> <p>\u672c\u8d28\u4e0a\u4e5f\u662f\u9012\u5f52\u7684\u53bb\u6e32\u67d3\u5185\u5bb9\u7684\u8fc7\u7a0b\u3002\u540c\u65f6\u56e0\u4e3a\u8fd9\u79cd\u9012\u5f52\u7684\u7279\u6027\uff0c\u7236\u7ec4\u4ef6\u7684componentWillMount\u4e00\u5b9a\u5728\u67d0\u4e2a\u5b50\u7ec4\u4ef6\u7684componentWillMount\u4e4b\u524d\u8c03\u7528\uff0c\u800c\u7236\u7ec4\u4ef6\u7684componentDidMount\u80af\u5b9a\u5728\u5b50\u7ec4\u4ef6\u4e4b\u540e\uff0c\u56e0\u4e3a\u76d1\u542cmountReady\u4e8b\u4ef6\uff0c\u80af\u5b9a\u662f\u5b50\u7ec4\u4ef6\u5148\u76d1\u542c\u7684\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\u81ea\u5b9a\u4e49\u5143\u7d20\u5e76\u4e0d\u4f1a\u5904\u7406\u6211\u4eeccreateElement\u65f6\u4f20\u5165\u7684\u5b50\u8282\u70b9\uff0c\u5b83\u53ea\u4f1a\u5904\u7406\u81ea\u5df1render\u8fd4\u56de\u7684\u8282\u70b9\u4f5c\u4e3a\u81ea\u5df1\u7684\u5b50\u8282\u70b9\u3002\u4e0d\u8fc7\u6211\u4eec\u5728render\u65f6\u53ef\u4ee5\u4f7f\u7528this.props.children\u62ff\u5230\u90a3\u4e9b\u4f20\u5165\u7684\u5b50\u8282\u70b9\uff0c\u53ef\u4ee5\u81ea\u5df1\u5904\u7406\u3002\u5176\u5b9e\u6709\u70b9\u7c7b\u4f3cwebcomponents\u91cc\u9762\u7684shadow dom\u7684\u4f5c\u7528\u3002</p> <p>\u4e0a\u9762\u5b9e\u73b0\u4e86\u4e09\u79cd\u7c7b\u578b\u7684\u5143\u7d20\uff0c\u5176\u5b9e\u6211\u4eec\u53d1\u73b0\u672c\u8d28\u4e0a\u6ca1\u6709\u592a\u5927\u7684\u533a\u522b\uff0c\u90fd\u662f\u6709\u81ea\u5df1\u5bf9\u5e94component\u7c7b\u6765\u5904\u7406\u81ea\u5df1\u7684\u6e32\u67d3\u8fc7\u7a0b\u3002</p> <p>\u5927\u6982\u7684\u5173\u7cfb\u662f\u4e0b\u9762\u8fd9\u6837\u3002</p> <p></p> <p>\u4e8e\u662f\u6211\u4eec\u53d1\u73b0\u521d\u59cb\u5316\u7684\u6e32\u67d3\u6d41\u7a0b\u90fd\u5df2\u7ecf\u5b8c\u6210\u4e86\u3002</p>"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8A%E7%AF%87%EF%BC%88%E9%A6%96%E6%AC%A1%E6%B8%B2%E6%9F%93%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#_4","title":"\u7ed3\u8bed","text":"<p>\u6574\u4e2a\u521d\u6b21\u6e32\u67d3\u7684\u6d41\u7a0b\u57fa\u672c\u5c31\u5206\u6790\u5b8c\u6bd5\u4e86\u3002\u770b\u770b\u6211\u4eec\u76ee\u524d\u7684\u8fdb\u5c55\uff0c\u4e8b\u4ef6\u76d1\u542c\u505a\u4e86\uff0c\u865a\u62dfdom\u6709\u4e86\u3002\u57fa\u672c\u7684\u7ec4\u4ef6\u751f\u547d\u5468\u671f\u4e5f\u6709\u4e86\u3002\u6211\u4eec\u8fd9\u4e2a\u5c0f\u73a9\u5177\u5df2\u7ecf\u53ef\u4ee5\u7b80\u5355\u8dd1\u8dd1\u4e86\u3002\u4e0b\u7bc7\u6587\u7ae0\u6211\u4eec\u5c06\u4e00\u8d77\u53bb\u5b9e\u73b0reactjs\u7684\u66f4\u65b0\u673a\u5236\uff0c\u770b\u770b\u5b83\u6700\u6838\u5fc3\u7684diff\u7b97\u6cd5\u662f\u600e\u4e48\u56de\u4e8b\u3002</p>"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8B%E7%AF%87%EF%BC%88%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/","title":"reactjs\u6e90\u7801\u5206\u6790-\u4e0b\u7bc7\uff08\u66f4\u65b0\u673a\u5236\u5b9e\u73b0\u539f\u7406\uff09","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 31722  \u9605\u8bfb64\u5206\u949f</p>"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8B%E7%AF%87%EF%BC%88%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#_1","title":"\u524d\u8a00","text":"<p>\u7d27\u63a5\u4e0a\u6587\uff0c\u865a\u62dfdom\u5dee\u5f02\u5316\u7b97\u6cd5\uff08diff algorithm\uff09\u662freactjs\u6700\u6838\u5fc3\u7684\u4e1c\u897f\uff0c\u6309\u7167\u5b98\u65b9\u7684\u8bf4\u6cd5\u3002\u4ed6\u975e\u5e38\u5feb\uff0c\u975e\u5e38\u9ad8\u6548\u3002\u76ee\u524d\u5df2\u7ecf\u6709\u4e00\u4e9b\u5206\u6790\u6b64\u7b97\u6cd5\u7684\u6587\u7ae0\uff0c\u4f46\u662f\u4ec5\u4ec5\u505c\u7559\u5728\u8868\u9762\u3002\u5927\u90e8\u5206\u5c0f\u767d\u770b\u5b8c\u5e76\u4e0d\u80fd\u4e86\u89e3\u3002\u6240\u4ee5\u6211\u4eec\u4e0b\u9762\u81ea\u5df1\u52a8\u624b\u5b9e\u73b0\u4e00\u904d\uff0c\u7b49\u4f60\u5b8c\u5168\u5b9e\u73b0\u4e86\uff0c\u518d\u53bb\u770b\u90a3\u4e9b\u6587\u5b57\u56fe\u7247\u6d41\u7684\u4ecb\u7ecd\u6587\u7ae0\uff0c\u5c31\u4f1a\u53d1\u73b0\u5bb9\u6613\u7406\u89e3\u591a\u4e86\u3002</p>"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8B%E7%AF%87%EF%BC%88%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#_2","title":"\u5b9e\u73b0\u66f4\u65b0\u673a\u5236","text":"<p>\u4e0b\u9762\u6211\u4eec\u63a2\u8ba8\u4e0b\u66f4\u65b0\u7684\u673a\u5236\u3002</p> <p>\u4e00\u822c\u5728reactjs\u4e2d\u6211\u4eec\u9700\u8981\u66f4\u65b0\u65f6\u90fd\u662f\u8c03\u7528\u7684setState\u3002\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a</p> <pre><code>var HelloMessage = React.createClass({\n  getInitialState: function() {\n    return {type: 'say:'};\n  },\n  changeType:function(){\n    this.setState({type:'shout:'})\n  },\n  render: function() {\n    return React.createElement(\"div\", {onclick:this.changeType},this.state.type, \"Hello \", this.props.name);\n  }\n});\n\nReact.render(React.createElement(HelloMessage, {name: \"John\"}), document.getElementById(\"container\"));\n\n/**\n\n//\u751f\u6210\u7684html\u4e3a\uff1a\n\n&lt;div data-reactid=\"0\" id=\"test\"&gt;\n    &lt;span data-reactid=\"0.0\"&gt;hello world&lt;/span&gt;\n&lt;/div&gt;\n\n\u70b9\u51fb\u6587\u5b57\uff0csay\u4f1a\u53d8\u6210shout\n\n*/\n</code></pre> <p>\u70b9\u51fb\u6587\u5b57\uff0c\u8c03\u7528setState\u5c31\u4f1a\u66f4\u65b0\uff0c\u6240\u4ee5\u6211\u4eec\u6269\u5c55\u4e0bReactClass\uff0c\u770b\u4e0bsetState\u7684\u5b9e\u73b0\uff1a</p> <pre><code>//\u5b9a\u4e49ReactClass\u7c7b\nvar ReactClass = function(){\n}\n\nReactClass.prototype.render = function(){}\n\n//setState\nReactClass.prototype.setState = function(newState) {\n\n  //\u8fd8\u8bb0\u5f97\u6211\u4eec\u5728ReactCompositeComponent\u91cc\u9762mount\u7684\u65f6\u5019 \u505a\u4e86\u8d4b\u503c\n  //\u6240\u4ee5\u8fd9\u91cc\u53ef\u4ee5\u62ff\u5230 \u5bf9\u5e94\u7684ReactCompositeComponent\u7684\u5b9e\u4f8b_reactInternalInstance\n  this._reactInternalInstance.receiveComponent(null, newState);\n}\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230setState\u4e3b\u8981\u8c03\u7528\u4e86\u5bf9\u5e94\u7684component\u7684receiveComponent\u6765\u5b9e\u73b0\u66f4\u65b0\u3002\u6240\u6709\u7684\u6302\u8f7d\uff0c\u66f4\u65b0\u90fd\u5e94\u8be5\u4ea4\u7ed9\u5bf9\u5e94\u7684component\u6765\u7ba1\u7406\u3002</p> <p>\u5c31\u50cf\u6240\u6709\u7684component\u90fd\u5b9e\u73b0\u4e86mountComponent\u6765\u5904\u7406\u7b2c\u4e00\u6b21\u6e32\u67d3\uff0c\u6240\u6709\u7684componet\u7c7b\u90fd\u5e94\u8be5\u5b9e\u73b0receiveComponent\u7528\u6765\u5904\u7406\u81ea\u5df1\u7684\u66f4\u65b0\u3002</p>"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8B%E7%AF%87%EF%BC%88%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#receivecomponent","title":"\u81ea\u5b9a\u4e49\u5143\u7d20\u7684receiveComponent","text":"<p>\u6240\u4ee5\u6211\u4eec\u7167\u846b\u82a6\u753b\u74e2\u6765\u7ed9\u81ea\u5b9a\u4e49\u5143\u7d20\u7684\u5bf9\u5e94component\u7c7b\uff08ReactCompositeComponent\uff09\u5b9e\u73b0\u4e00\u4e2areceiveComponent\u65b9\u6cd5\uff1a</p> <pre><code>//\u66f4\u65b0\nReactCompositeComponent.prototype.receiveComponent = function(nextElement, newState) {\n\n  //\u5982\u679c\u63a5\u53d7\u4e86\u65b0\u7684\uff0c\u5c31\u4f7f\u7528\u6700\u65b0\u7684element\n  this._currentElement = nextElement || this._currentElement\n\n  var inst = this._instance;\n  //\u5408\u5e76state\n  var nextState = $.extend(inst.state, newState);\n  var nextProps = this._currentElement.props;\n\n\n  //\u6539\u5199state\n  inst.state = nextState;\n\n\n  //\u5982\u679cinst\u6709shouldComponentUpdate\u5e76\u4e14\u8fd4\u56defalse\u3002\u8bf4\u660e\u7ec4\u4ef6\u672c\u8eab\u5224\u65ad\u4e0d\u8981\u66f4\u65b0\uff0c\u5c31\u76f4\u63a5\u8fd4\u56de\u3002\n  if (inst.shouldComponentUpdate &amp;&amp; (inst.shouldComponentUpdate(nextProps, nextState) === false)) return;\n\n  //\u751f\u547d\u5468\u671f\u7ba1\u7406\uff0c\u5982\u679c\u6709componentWillUpdate\uff0c\u5c31\u8c03\u7528\uff0c\u8868\u793a\u5f00\u59cb\u8981\u66f4\u65b0\u4e86\u3002\n  if (inst.componentWillUpdate) inst.componentWillUpdate(nextProps, nextState);\n\n\n  var prevComponentInstance = this._renderedComponent;\n  var prevRenderedElement = prevComponentInstance._currentElement;\n  //\u91cd\u65b0\u6267\u884crender\u62ff\u5230\u5bf9\u5e94\u7684\u65b0element;\n  var nextRenderedElement = this._instance.render();\n\n\n  //\u5224\u65ad\u662f\u9700\u8981\u66f4\u65b0\u8fd8\u662f\u76f4\u63a5\u5c31\u91cd\u65b0\u6e32\u67d3\n  //\u6ce8\u610f\u8fd9\u91cc\u7684_shouldUpdateReactComponent\u8ddf\u4e0a\u9762\u7684\u4e0d\u540c\u54e6 \u8fd9\u4e2a\u662f\u5168\u5c40\u7684\u65b9\u6cd5\n  if (_shouldUpdateReactComponent(prevRenderedElement, nextRenderedElement)) {\n    //\u5982\u679c\u9700\u8981\u66f4\u65b0\uff0c\u5c31\u7ee7\u7eed\u8c03\u7528\u5b50\u8282\u70b9\u7684receiveComponent\u7684\u65b9\u6cd5\uff0c\u4f20\u5165\u65b0\u7684element\u66f4\u65b0\u5b50\u8282\u70b9\u3002\n    prevComponentInstance.receiveComponent(nextRenderedElement);\n    //\u8c03\u7528componentDidUpdate\u8868\u793a\u66f4\u65b0\u5b8c\u6210\u4e86\n    inst.componentDidUpdate &amp;&amp; inst.componentDidUpdate();\n\n  } else {\n    //\u5982\u679c\u53d1\u73b0\u5b8c\u5168\u662f\u4e0d\u540c\u7684\u4e24\u79cdelement\uff0c\u90a3\u5c31\u5e72\u8106\u91cd\u65b0\u6e32\u67d3\u4e86\n    var thisID = this._rootNodeID;\n    //\u91cd\u65b0new\u4e00\u4e2a\u5bf9\u5e94\u7684component\uff0c\n    this._renderedComponent = this._instantiateReactComponent(nextRenderedElement);\n    //\u91cd\u65b0\u751f\u6210\u5bf9\u5e94\u7684\u5143\u7d20\u5185\u5bb9\n    var nextMarkup = _renderedComponent.mountComponent(thisID);\n    //\u66ff\u6362\u6574\u4e2a\u8282\u70b9\n    $('[data-reactid=\"' + this._rootNodeID + '\"]').replaceWith(nextMarkup);\n\n  }\n\n}\n\n//\u7528\u6765\u5224\u5b9a\u4e24\u4e2aelement\u9700\u4e0d\u9700\u8981\u66f4\u65b0\n//\u8fd9\u91cc\u7684key\u662f\u6211\u4eeccreateElement\u7684\u65f6\u5019\u53ef\u4ee5\u9009\u62e9\u6027\u7684\u4f20\u5165\u7684\u3002\u7528\u6765\u6807\u8bc6\u8fd9\u4e2aelement\uff0c\u5f53\u53d1\u73b0key\u4e0d\u540c\u65f6\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u76f4\u63a5\u91cd\u65b0\u6e32\u67d3\uff0c\u4e0d\u9700\u8981\u53bb\u66f4\u65b0\u4e86\u3002\nvar _shouldUpdateReactComponent \uff1d function(prevElement, nextElement){\n  if (prevElement != null &amp;&amp; nextElement != null) {\n    var prevType = typeof prevElement;\n    var nextType = typeof nextElement;\n    if (prevType === 'string' || prevType === 'number') {\n      return nextType === 'string' || nextType === 'number';\n    } else {\n      return nextType === 'object' &amp;&amp; prevElement.type === nextElement.type &amp;&amp; prevElement.key === nextElement.key;\n    }\n  }\n  return false;\n}\n</code></pre> <p>\u4e0d\u8981\u88ab\u8fd9\u4e48\u591a\u4ee3\u7801\u5413\u5230\uff0c\u5176\u5b9e\u6d41\u7a0b\u5f88\u7b80\u5355\u3002 \u5b83\u4e3b\u8981\u505a\u4e86\u4ec0\u4e48\u4e8b\u5462\uff1f\u9996\u5148\u4f1a\u5408\u5e76\u6539\u52a8\uff0c\u751f\u6210\u6700\u65b0\u7684state,props\u7136\u540e\u62ff\u4ee5\u524d\u7684render\u8fd4\u56de\u7684element\u8ddf\u73b0\u5728\u6700\u65b0\u8c03\u7528render\u751f\u6210\u7684element\u8fdb\u884c\u5bf9\u6bd4\uff08_shouldUpdateReactComponent\uff09\uff0c\u770b\u770b\u9700\u4e0d\u9700\u8981\u66f4\u65b0\uff0c\u5982\u679c\u8981\u66f4\u65b0\u5c31\u7ee7\u7eed\u8c03\u7528\u5bf9\u5e94\u7684component\u7c7b\u5bf9\u5e94\u7684receiveComponent\u5c31\u597d\u5566\uff0c\u5176\u5b9e\u5c31\u662f\u76f4\u63a5\u5f53\u7529\u624b\u638c\u67dc\uff0c\u4e8b\u60c5\u76f4\u63a5\u4e22\u7ed9\u624b\u4e0b\u53bb\u529e\u4e86\u3002\u5f53\u7136\u8fd8\u6709\u79cd\u60c5\u51b5\u662f\uff0c\u4e24\u6b21\u751f\u6210\u7684element\u5dee\u522b\u592a\u5927\uff0c\u5c31\u4e0d\u662f\u4e00\u4e2a\u7c7b\u578b\u7684\uff0c\u90a3\u597d\u529e\u76f4\u63a5\u91cd\u65b0\u751f\u6210\u4e00\u4efd\u65b0\u7684\u4ee3\u7801\u91cd\u65b0\u6e32\u67d3\u4e00\u6b21\u5c31o\u4e86\u3002</p> <p>\u672c\u8d28\u4e0a\u8fd8\u662f\u9012\u5f52\u8c03\u7528receiveComponent\u7684\u8fc7\u7a0b\u3002</p> <p>\u8fd9\u91cc\u6ce8\u610f\u4e24\u4e2a\u51fd\u6570\uff1a</p> <ul> <li>inst.shouldComponentUpdate\u662f\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u5f53\u6211\u4eec\u4e0d\u5e0c\u671b\u67d0\u6b21setState\u540e\u66f4\u65b0\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u91cd\u5199\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u8fd4\u56defalse\u5c31\u597d\u4e86\u3002</li> <li>_shouldUpdateReactComponent\u662f\u4e00\u4e2a\u5168\u5c40\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u662f\u4e00\u79cdreactjs\u7684\u4f18\u5316\u673a\u5236\u3002\u7528\u6765\u51b3\u5b9a\u662f\u76f4\u63a5\u5168\u90e8\u66ff\u6362\uff0c\u8fd8\u662f\u4f7f\u7528\u5f88\u7ec6\u5fae\u7684\u6539\u52a8\u3002\u5f53\u4e24\u6b21render\u51fa\u6765\u7684\u5b50\u8282\u70b9key\u4e0d\u540c\uff0c\u76f4\u63a5\u5168\u90e8\u91cd\u65b0\u6e32\u67d3\u4e00\u904d\uff0c\u66ff\u6362\u5c31\u597d\u4e86\u3002\u5426\u5219\uff0c\u6211\u4eec\u5c31\u5f97\u6765\u4e2a\u9012\u5f52\u7684\u66f4\u65b0\uff0c\u4fdd\u8bc1\u6700\u5c0f\u5316\u7684\u66f4\u65b0\u673a\u5236\uff0c\u8fd9\u6837\u53ef\u4ee5\u4e0d\u4f1a\u6709\u592a\u5927\u7684\u95ea\u70c1\u3002</li> </ul> <p>\u53e6\u5916\u53ef\u4ee5\u770b\u5230\u8fd9\u91cc\u8fd8\u5904\u7406\u4e86\u4e00\u5957\u66f4\u65b0\u7684\u751f\u547d\u5468\u671f\u8c03\u7528\u673a\u5236\u3002</p>"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8B%E7%AF%87%EF%BC%88%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#receivecomponent_1","title":"\u6587\u672c\u8282\u70b9\u7684receiveComponent","text":"<p>\u6211\u4eec\u518d\u770b\u770b\u6587\u672c\u8282\u70b9\u7684\uff0c\u6bd4\u8f83\u7b80\u5355\uff1a</p> <pre><code>ReactDOMTextComponent.prototype.receiveComponent = function(nextText) {\n  var nextStringText = '' + nextText;\n  //\u8ddf\u4ee5\u524d\u4fdd\u5b58\u7684\u5b57\u7b26\u4e32\u6bd4\u8f83\n  if (nextStringText !== this._currentElement) {\n    this._currentElement = nextStringText;\n    //\u66ff\u6362\u6574\u4e2a\u8282\u70b9\n    $('[data-reactid=\"' + this._rootNodeID + '\"]').html(this._currentElement);\n\n  }\n}\n</code></pre> <p>\u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\uff0c\u5982\u679c\u4e0d\u540c\u7684\u8bdd\uff0c\u76f4\u63a5\u627e\u5230\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u66f4\u65b0\u5c31\u597d\u4e86\u3002</p>"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8B%E7%AF%87%EF%BC%88%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#elementreceivecomponent","title":"\u57fa\u672c\u5143\u7d20element\u7684receiveComponent","text":"<p>\u6700\u540e\u6211\u4eec\u5f00\u59cb\u770b\u6bd4\u8f83\u590d\u6742\u7684\u6d4f\u89c8\u5668\u57fa\u672c\u5143\u7d20\u7684\u66f4\u65b0\u673a\u5236\u3002 \u6bd4\u5982\u6211\u4eec\u770b\u770b\u4e0b\u9762\u7684html:</p> <pre><code>&lt;div id=\"test\" name=\"hello\"&gt;\n    &lt;span&gt;&lt;/span&gt;\n    &lt;span&gt;&lt;/span&gt;\n&lt;/div&gt;\n</code></pre> <p>\u60f3\u4e00\u4e0b\u6211\u4eec\u600e\u4e48\u4ee5\u6700\u5c0f\u4ee3\u4ef7\u53bb\u66f4\u65b0\u8fd9\u6bb5html\u5462\u3002\u4e0d\u96be\u53d1\u73b0\u5176\u5b9e\u4e3b\u8981\u5305\u62ec\u4e24\u4e2a\u90e8\u5206\uff1a</p> <ol> <li>\u5c5e\u6027\u7684\u66f4\u65b0\uff0c\u5305\u62ec\u5bf9\u7279\u6b8a\u5c5e\u6027\u6bd4\u5982\u4e8b\u4ef6\u7684\u5904\u7406</li> <li>\u5b50\u8282\u70b9\u7684\u66f4\u65b0,\u8fd9\u4e2a\u6bd4\u8f83\u590d\u6742\uff0c\u4e3a\u4e86\u5f97\u5230\u6700\u597d\u7684\u6548\u7387\uff0c\u6211\u4eec\u9700\u8981\u5904\u7406\u4e0b\u9762\u8fd9\u4e9b\u95ee\u9898\uff1a</li> <li>\u62ff\u65b0\u7684\u5b50\u8282\u70b9\u6811\u8ddf\u4ee5\u524d\u8001\u7684\u5b50\u8282\u70b9\u6811\u5bf9\u6bd4\uff0c\u627e\u51fa\u4ed6\u4eec\u4e4b\u95f4\u7684\u5dee\u522b\u3002\u6211\u4eec\u79f0\u4e4b\u4e3adiff</li> <li>\u6240\u6709\u5dee\u522b\u627e\u51fa\u540e\uff0c\u518d\u4e00\u6b21\u6027\u7684\u53bb\u66f4\u65b0\u3002\u6211\u4eec\u79f0\u4e4b\u4e3apatch</li> </ol> <p>\u6240\u4ee5\u66f4\u65b0\u4ee3\u7801\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>ReactDOMComponent.prototype.receiveComponent = function(nextElement) {\n  var lastProps = this._currentElement.props;\n  var nextProps = nextElement.props;\n\n  this._currentElement = nextElement;\n  //\u9700\u8981\u5355\u72ec\u7684\u66f4\u65b0\u5c5e\u6027\n  this._updateDOMProperties(lastProps, nextProps);\n  //\u518d\u66f4\u65b0\u5b50\u8282\u70b9\n  this._updateDOMChildren(nextElement.props.children);\n}\n</code></pre> <p>\u6574\u4f53\u4e0a\u4e5f\u4e0d\u590d\u6742\uff0c\u5148\u662f\u5904\u7406\u5f53\u524d\u8282\u70b9\u5c5e\u6027\u7684\u53d8\u52a8\uff0c\u540e\u9762\u518d\u53bb\u5904\u7406\u5b50\u8282\u70b9\u7684\u53d8\u52a8</p> <p>\u6211\u4eec\u4e00\u6b65\u6b65\u6765\uff0c\u5148\u770b\u770b\uff0c\u66f4\u65b0\u5c5e\u6027\u600e\u4e48\u53d8\u66f4\uff1a</p> <pre><code>ReactDOMComponent.prototype._updateDOMProperties = function(lastProps, nextProps) {\n  var propKey;\n  //\u904d\u5386\uff0c\u5f53\u4e00\u4e2a\u8001\u7684\u5c5e\u6027\u4e0d\u5728\u65b0\u7684\u5c5e\u6027\u96c6\u5408\u91cc\u65f6\uff0c\u9700\u8981\u5220\u9664\u6389\u3002\n\n  for (propKey in lastProps) {\n    //\u65b0\u7684\u5c5e\u6027\u91cc\u6709\uff0c\u6216\u8005propKey\u662f\u5728\u539f\u578b\u4e0a\u7684\u76f4\u63a5\u8df3\u8fc7\u3002\u8fd9\u6837\u5269\u4e0b\u7684\u90fd\u662f\u4e0d\u5728\u65b0\u5c5e\u6027\u96c6\u5408\u91cc\u7684\u3002\u9700\u8981\u5220\u9664\n    if (nextProps.hasOwnProperty(propKey) || !lastProps.hasOwnProperty(propKey)) {\n      continue;\n    }\n    //\u5bf9\u4e8e\u90a3\u79cd\u7279\u6b8a\u7684\uff0c\u6bd4\u5982\u8fd9\u91cc\u7684\u4e8b\u4ef6\u76d1\u542c\u7684\u5c5e\u6027\u6211\u4eec\u9700\u8981\u53bb\u6389\u76d1\u542c\n    if (/^on[A-Za-z]/.test(propKey)) {\n      var eventType = propKey.replace('on', '');\n      //\u9488\u5bf9\u5f53\u524d\u7684\u8282\u70b9\u53d6\u6d88\u4e8b\u4ef6\u4ee3\u7406\n      $(document).undelegate('[data-reactid=\"' + this._rootNodeID + '\"]', eventType, lastProps[propKey]);\n      continue;\n    }\n\n    //\u4ecedom\u4e0a\u5220\u9664\u4e0d\u9700\u8981\u7684\u5c5e\u6027\n    $('[data-reactid=\"' + this._rootNodeID + '\"]').removeAttr(propKey)\n  }\n\n  //\u5bf9\u4e8e\u65b0\u7684\u5c5e\u6027\uff0c\u9700\u8981\u5199\u5230dom\u8282\u70b9\u4e0a\n  for (propKey in nextProps) {\n    //\u5bf9\u4e8e\u4e8b\u4ef6\u76d1\u542c\u7684\u5c5e\u6027\u6211\u4eec\u9700\u8981\u7279\u6b8a\u5904\u7406\n    if (/^on[A-Za-z]/.test(propKey)) {\n      var eventType = propKey.replace('on', '');\n      //\u4ee5\u524d\u5982\u679c\u5df2\u7ecf\u6709\uff0c\u8bf4\u660e\u6709\u4e86\u76d1\u542c\uff0c\u9700\u8981\u5148\u53bb\u6389\n      lastProps[propKey] &amp;&amp; $(document).undelegate('[data-reactid=\"' + this._rootNodeID + '\"]', eventType, lastProps[propKey]);\n      //\u9488\u5bf9\u5f53\u524d\u7684\u8282\u70b9\u6dfb\u52a0\u4e8b\u4ef6\u4ee3\u7406,\u4ee5_rootNodeID\u4e3a\u547d\u540d\u7a7a\u95f4\n      $(document).delegate('[data-reactid=\"' + this._rootNodeID + '\"]', eventType + '.' + this._rootNodeID, nextProps[propKey]);\n      continue;\n    }\n\n    if (propKey == 'children') continue;\n\n    //\u6dfb\u52a0\u65b0\u7684\u5c5e\u6027\uff0c\u6216\u8005\u662f\u66f4\u65b0\u8001\u7684\u540c\u540d\u5c5e\u6027\n    $('[data-reactid=\"' + this._rootNodeID + '\"]').prop(propKey, nextProps[propKey])\n  }\n\n}\n</code></pre> <p>\u5c5e\u6027\u7684\u53d8\u66f4\u5e76\u4e0d\u662f\u7279\u522b\u590d\u6742\uff0c\u4e3b\u8981\u5c31\u662f\u627e\u5230\u4ee5\u524d\u8001\u7684\u4e0d\u7528\u7684\u5c5e\u6027\u76f4\u63a5\u53bb\u6389\uff0c\u65b0\u7684\u5c5e\u6027\u8d4b\u503c\uff0c\u5e76\u4e14\u6ce8\u610f\u5176\u4e2d\u7279\u6b8a\u7684\u4e8b\u4ef6\u5c5e\u6027\u505a\u51fa\u7279\u6b8a\u5904\u7406\u5c31\u884c\u4e86\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u770b\u5b50\u8282\u70b9\u7684\u66f4\u65b0\uff0c\u4e5f\u662f\u6700\u590d\u6742\u7684\u90e8\u5206\u3002</p> <pre><code>ReactDOMComponent.prototype.receiveComponent = function(nextElement){\n  var lastProps = this._currentElement.props;\n  var nextProps = nextElement.props;\n  this._currentElement = nextElement;\n  //\u9700\u8981\u5355\u72ec\u7684\u66f4\u65b0\u5c5e\u6027\n  this._updateDOMProperties(lastProps,nextProps);\n  //\u518d\u66f4\u65b0\u5b50\u8282\u70b9\n  this._updateDOMChildren(nextProps.children);\n}\n\n//\u5168\u5c40\u7684\u66f4\u65b0\u6df1\u5ea6\u6807\u8bc6\nvar updateDepth = 0;\n//\u5168\u5c40\u7684\u66f4\u65b0\u961f\u5217\uff0c\u6240\u6709\u7684\u5dee\u5f02\u90fd\u5b58\u5728\u8fd9\u91cc\nvar diffQueue = [];\n\nReactDOMComponent.prototype._updateDOMChildren = function(nextChildrenElements){\n  updateDepth++\n  //_diff\u7528\u6765\u9012\u5f52\u627e\u51fa\u5dee\u522b,\u7ec4\u88c5\u5dee\u5f02\u5bf9\u8c61,\u6dfb\u52a0\u5230\u66f4\u65b0\u961f\u5217diffQueue\u3002\n  this._diff(diffQueue,nextChildrenElements);\n  updateDepth--\n  if(updateDepth == 0){\n    //\u5728\u9700\u8981\u7684\u65f6\u5019\u8c03\u7528patch\uff0c\u6267\u884c\u5177\u4f53\u7684dom\u64cd\u4f5c\n    this._patch(diffQueue);\n    diffQueue = [];\n  }\n}\n</code></pre> <p>\u5c31\u50cf\u6211\u4eec\u4e4b\u524d\u8bf4\u7684\u4e00\u6837\uff0c\u66f4\u65b0\u5b50\u8282\u70b9\u5305\u542b\u4e24\u4e2a\u90e8\u5206\uff0c\u4e00\u4e2a\u662f\u9012\u5f52\u7684\u5206\u6790\u5dee\u5f02\uff0c\u628a\u5dee\u5f02\u6dfb\u52a0\u5230\u961f\u5217\u4e2d\u3002\u7136\u540e\u5728\u5408\u9002\u7684\u65f6\u673a\u8c03\u7528<code>_patch</code>\u628a\u5dee\u5f02\u5e94\u7528\u5230dom\u4e0a\u3002</p> <p>\u90a3\u4e48\u4ec0\u4e48\u662f\u5408\u9002\u7684\u65f6\u673a\uff0cupdateDepth\u53c8\u662f\u5e72\u561b\u7684\uff1f</p> <p>\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c<code>_diff</code>\u5185\u90e8\u4e5f\u4f1a\u9012\u5f52\u8c03\u7528\u5b50\u8282\u70b9\u7684receiveComponent\u4e8e\u662f\u5f53\u67d0\u4e2a\u5b50\u8282\u70b9\u4e5f\u662f\u6d4f\u89c8\u5668\u666e\u901a\u8282\u70b9\uff0c\u5c31\u4e5f\u4f1a\u8d70_updateDOMChildren\u8fd9\u4e00\u6b65\u3002\u6240\u4ee5\u8fd9\u91cc\u4f7f\u7528\u4e86updateDepth\u6765\u8bb0\u5f55\u9012\u5f52\u7684\u8fc7\u7a0b\uff0c\u53ea\u6709\u7b49\u9012\u5f52\u56de\u6765updateDepth\u4e3a0\u65f6\uff0c\u4ee3\u8868\u6574\u4e2a\u5dee\u5f02\u5df2\u7ecf\u5206\u6790\u5b8c\u6bd5\uff0c\u53ef\u4ee5\u5f00\u59cb\u4f7f\u7528patch\u6765\u5904\u7406\u5dee\u5f02\u961f\u5217\u4e86\u3002</p> <p>\u6240\u4ee5\u6211\u4eec\u5173\u952e\u662f\u5b9e\u73b0<code>_diff</code>\u4e0e<code>_patch</code>\u4e24\u4e2a\u65b9\u6cd5\u3002</p> <p>\u6211\u4eec\u5148\u770b_diff\u7684\u5b9e\u73b0\uff1a</p> <pre><code>//\u5dee\u5f02\u66f4\u65b0\u7684\u51e0\u79cd\u7c7b\u578b\nvar UPATE_TYPES = {\n  MOVE_EXISTING: 1,\n  REMOVE_NODE: 2,\n  INSERT_MARKUP: 3\n}\n\n\n//\u666e\u901a\u7684children\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u6b64\u65b9\u6cd5\u628a\u5b83\u8f6c\u6362\u6210\u4e00\u4e2amap,key\u5c31\u662felement\u7684key,\u5982\u679c\u662ftext\u8282\u70b9\u6216\u8005element\u521b\u5efa\u65f6\u5e76\u6ca1\u6709\u4f20\u5165key,\u5c31\u76f4\u63a5\u7528\u5728\u6570\u7ec4\u91cc\u7684index\u6807\u8bc6\nfunction flattenChildren(componentChildren) {\n  var child;\n  var name;\n  var childrenMap = {};\n  for (var i = 0; i &lt; componentChildren.length; i++) {\n    child = componentChildren[i];\n    name = child &amp;&amp; child._currentelement &amp;&amp; child._currentelement.key ? child._currentelement.key : i.toString(36);\n    childrenMap[name] = child;\n  }\n  return childrenMap;\n}\n\n\n//\u4e3b\u8981\u7528\u6765\u751f\u6210\u5b50\u8282\u70b9elements\u7684component\u96c6\u5408\n//\u8fd9\u8fb9\u6ce8\u610f\uff0c\u6709\u4e2a\u5224\u65ad\u903b\u8f91\uff0c\u5982\u679c\u53d1\u73b0\u662f\u66f4\u65b0\uff0c\u5c31\u4f1a\u7ee7\u7eed\u4f7f\u7528\u4ee5\u524d\u7684componentInstance,\u8c03\u7528\u5bf9\u5e94\u7684receiveComponent\u3002\n//\u5982\u679c\u662f\u65b0\u7684\u8282\u70b9\uff0c\u5c31\u4f1a\u91cd\u65b0\u751f\u6210\u4e00\u4e2a\u65b0\u7684componentInstance\uff0c\nfunction generateComponentChildren(prevChildren, nextChildrenElements) {\n  var nextChildren = {};\n  nextChildrenElements = nextChildrenElements || [];\n  $.each(nextChildrenElements, function(index, element) {\n    var name = element.key ? element.key : index;\n    var prevChild = prevChildren &amp;&amp; prevChildren[name];\n    var prevElement = prevChild &amp;&amp; prevChild._currentElement;\n    var nextElement = element;\n\n    //\u8c03\u7528_shouldUpdateReactComponent\u5224\u65ad\u662f\u5426\u662f\u66f4\u65b0\n    if (_shouldUpdateReactComponent(prevElement, nextElement)) {\n      //\u66f4\u65b0\u7684\u8bdd\u76f4\u63a5\u9012\u5f52\u8c03\u7528\u5b50\u8282\u70b9\u7684receiveComponent\u5c31\u597d\u4e86\n      prevChild.receiveComponent(nextElement);\n      //\u7136\u540e\u7ee7\u7eed\u4f7f\u7528\u8001\u7684component\n      nextChildren[name] = prevChild;\n    } else {\n      //\u5bf9\u4e8e\u6ca1\u6709\u8001\u7684\uff0c\u90a3\u5c31\u91cd\u65b0\u65b0\u589e\u4e00\u4e2a\uff0c\u91cd\u65b0\u751f\u6210\u4e00\u4e2acomponent\n      var nextChildInstance = instantiateReactComponent(nextElement, null);\n      //\u4f7f\u7528\u65b0\u7684component\n      nextChildren[name] = nextChildInstance;\n    }\n  })\n\n  return nextChildren;\n}\n\n\n\n//_diff\u7528\u6765\u9012\u5f52\u627e\u51fa\u5dee\u522b,\u7ec4\u88c5\u5dee\u5f02\u5bf9\u8c61,\u6dfb\u52a0\u5230\u66f4\u65b0\u961f\u5217diffQueue\u3002\nReactDOMComponent.prototype._diff = function(diffQueue, nextChildrenElements) {\n  var self = this;\n  //\u62ff\u5230\u4e4b\u524d\u7684\u5b50\u8282\u70b9\u7684 component\u7c7b\u578b\u5bf9\u8c61\u7684\u96c6\u5408,\u8fd9\u4e2a\u662f\u5728\u521a\u5f00\u59cb\u6e32\u67d3\u65f6\u8d4b\u503c\u7684\uff0c\u8bb0\u4e0d\u5f97\u7684\u53ef\u4ee5\u7ffb\u4e0a\u9762\n  //_renderedChildren \u672c\u6765\u662f\u6570\u7ec4\uff0c\u6211\u4eec\u641e\u6210map\n  var prevChildren = flattenChildren(self._renderedChildren);\n  //\u751f\u6210\u65b0\u7684\u5b50\u8282\u70b9\u7684component\u5bf9\u8c61\u96c6\u5408\uff0c\u8fd9\u91cc\u6ce8\u610f\uff0c\u4f1a\u590d\u7528\u8001\u7684component\u5bf9\u8c61\n  var nextChildren = generateComponentChildren(prevChildren, nextChildrenElements);\n  //\u91cd\u65b0\u8d4b\u503c_renderedChildren\uff0c\u4f7f\u7528\u6700\u65b0\u7684\u3002\n  self._renderedChildren = []\n  $.each(nextChildren, function(key, instance) {\n    self._renderedChildren.push(instance);\n  })\n\n\n  var nextIndex = 0; //\u4ee3\u8868\u5230\u8fbe\u7684\u65b0\u7684\u8282\u70b9\u7684index\n  //\u901a\u8fc7\u5bf9\u6bd4\u4e24\u4e2a\u96c6\u5408\u7684\u5dee\u5f02\uff0c\u7ec4\u88c5\u5dee\u5f02\u8282\u70b9\u6dfb\u52a0\u5230\u961f\u5217\u4e2d\n  for (name in nextChildren) {\n    if (!nextChildren.hasOwnProperty(name)) {\n      continue;\n    }\n    var prevChild = prevChildren &amp;&amp; prevChildren[name];\n    var nextChild = nextChildren[name];\n    //\u76f8\u540c\u7684\u8bdd\uff0c\u8bf4\u660e\u662f\u4f7f\u7528\u7684\u540c\u4e00\u4e2acomponent,\u6240\u4ee5\u6211\u4eec\u9700\u8981\u505a\u79fb\u52a8\u7684\u64cd\u4f5c\n    if (prevChild === nextChild) {\n      //\u6dfb\u52a0\u5dee\u5f02\u5bf9\u8c61\uff0c\u7c7b\u578b\uff1aMOVE_EXISTING\n      diffQueue.push({\n        parentId: self._rootNodeID,\n        parentNode: $('[data-reactid=' + self._rootNodeID + ']'),\n        type: UPATE_TYPES.MOVE_EXISTING,\n        fromIndex: prevChild._mountIndex,\n        toIndex: nextIndex\n      })\n    } else { //\u5982\u679c\u4e0d\u76f8\u540c\uff0c\u8bf4\u660e\u662f\u65b0\u589e\u52a0\u7684\u8282\u70b9\n      //\u4f46\u662f\u5982\u679c\u8001\u7684\u8fd8\u5b58\u5728\uff0c\u5c31\u662felement\u4e0d\u540c\uff0c\u4f46\u662fcomponent\u4e00\u6837\u3002\u6211\u4eec\u9700\u8981\u628a\u5b83\u5bf9\u5e94\u7684\u8001\u7684element\u5220\u9664\u3002\n      if (prevChild) {\n        //\u6dfb\u52a0\u5dee\u5f02\u5bf9\u8c61\uff0c\u7c7b\u578b\uff1aREMOVE_NODE\n        diffQueue.push({\n          parentId: self._rootNodeID,\n          parentNode: $('[data-reactid=' + self._rootNodeID + ']'),\n          type: UPATE_TYPES.REMOVE_NODE,\n          fromIndex: prevChild._mountIndex,\n          toIndex: null\n        })\n\n        //\u5982\u679c\u4ee5\u524d\u5df2\u7ecf\u6e32\u67d3\u8fc7\u4e86\uff0c\u8bb0\u5f97\u5148\u53bb\u6389\u4ee5\u524d\u6240\u6709\u7684\u4e8b\u4ef6\u76d1\u542c\uff0c\u901a\u8fc7\u547d\u540d\u7a7a\u95f4\u5168\u90e8\u6e05\u7a7a\n        if (prevChild._rootNodeID) {\n          $(document).undelegate('.' + prevChild._rootNodeID);\n        }\n\n      }\n      //\u65b0\u589e\u52a0\u7684\u8282\u70b9\uff0c\u4e5f\u7ec4\u88c5\u5dee\u5f02\u5bf9\u8c61\u653e\u5230\u961f\u5217\u91cc\n      //\u6dfb\u52a0\u5dee\u5f02\u5bf9\u8c61\uff0c\u7c7b\u578b\uff1aINSERT_MARKUP\n      diffQueue.push({\n        parentId: self._rootNodeID,\n        parentNode: $('[data-reactid=' + self._rootNodeID + ']'),\n        type: UPATE_TYPES.INSERT_MARKUP,\n        fromIndex: null,\n        toIndex: nextIndex,\n        markup: nextChild.mountComponent() //\u65b0\u589e\u7684\u8282\u70b9\uff0c\u591a\u4e00\u4e2a\u6b64\u5c5e\u6027\uff0c\u8868\u793a\u65b0\u8282\u70b9\u7684dom\u5185\u5bb9\n      })\n    }\n    //\u66f4\u65b0mount\u7684index\n    nextChild._mountIndex = nextIndex;\n    nextIndex++;\n  }\n\n\n\n  //\u5bf9\u4e8e\u8001\u7684\u8282\u70b9\u91cc\u6709\uff0c\u65b0\u7684\u8282\u70b9\u91cc\u6ca1\u6709\u7684\u90a3\u4e9b\uff0c\u4e5f\u5168\u90fd\u5220\u9664\u6389\n  for (name in prevChildren) {\n    if (prevChildren.hasOwnProperty(name) &amp;&amp; !(nextChildren &amp;&amp; nextChildren.hasOwnProperty(name))) {\n      //\u6dfb\u52a0\u5dee\u5f02\u5bf9\u8c61\uff0c\u7c7b\u578b\uff1aREMOVE_NODE\n      diffQueue.push({\n        parentId: self._rootNodeID,\n        parentNode: $('[data-reactid=' + self._rootNodeID + ']'),\n        type: UPATE_TYPES.REMOVE_NODE,\n        fromIndex: prevChild._mountIndex,\n        toIndex: null\n      })\n      //\u5982\u679c\u4ee5\u524d\u5df2\u7ecf\u6e32\u67d3\u8fc7\u4e86\uff0c\u8bb0\u5f97\u5148\u53bb\u6389\u4ee5\u524d\u6240\u6709\u7684\u4e8b\u4ef6\u76d1\u542c\n      if (prevChildren[name]._rootNodeID) {\n        $(document).undelegate('.' + prevChildren[name]._rootNodeID);\n      }\n    }\n  }\n}\n</code></pre> <p>\u6211\u4eec\u5206\u6790\u4e0b\u4e0a\u9762\u7684\u4ee3\u7801\uff0c\u548b\u4e00\u770b\u597d\u591a\uff0c\u597d\u590d\u6742\uff0c\u4e0d\u6025\u6211\u4eec\u4ece\u5165\u53e3\u5f00\u59cb\u770b\u3002</p> <p>\u9996\u5148\u6211\u4eec\u62ff\u5230\u4e4b\u524d\u7684component\u7684\u96c6\u5408\uff0c\u5982\u679c\u662f\u7b2c\u4e00\u6b21\u66f4\u65b0\u7684\u8bdd\uff0c\u8fd9\u4e2a\u503c\u662f\u6211\u4eec\u5728\u6e32\u67d3\u65f6\u8d4b\u503c\u7684\u3002\u7136\u540e\u6211\u4eec\u8c03\u7528generateComponentChildren\u751f\u6210\u6700\u65b0\u7684component\u96c6\u5408\u3002\u6211\u4eec\u77e5\u9053component\u662f\u7528\u6765\u653eelement\u7684\uff0c\u4e00\u4e2a\u841d\u535c\u4e00\u4e2a\u5751\u3002</p> <p>\u6ce8\u610fflattenChildren\u6211\u4eec\u8fd9\u91cc\u628a\u6570\u7ec4\u96c6\u5408\u8f6c\u6210\u4e86\u5bf9\u8c61map,\u4ee5element\u7684key\u4f5c\u4e3a\u6807\u8bc6\uff0c\u5f53\u7136\u5bf9\u4e8etext\u6587\u672c\u6216\u8005\u6ca1\u6709\u4f20\u5165key\u7684element,\u76f4\u63a5\u7528index\u4f5c\u4e3a\u6807\u8bc6\u3002\u901a\u8fc7\u8fd9\u4e9b\u6807\u8bc6\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u7c7b\u578b\u7684\u89d2\u5ea6\u6765\u5224\u65ad\u4e24\u4e2acomponent\u662f\u5426\u662f\u4e00\u6837\u7684\u3002</p> <p>generateComponentChildren\u4f1a\u5c3d\u91cf\u7684\u590d\u7528\u4ee5\u524d\u7684component\uff0c\u4e5f\u5c31\u662f\u90a3\u4e9b\u5751\uff0c\u5f53\u53d1\u73b0\u53ef\u4ee5\u590d\u7528component\uff08\u4e5f\u5c31\u662fkey\u4e00\u81f4\uff09\u65f6\uff0c\u5c31\u8fd8\u7528\u4ee5\u524d\u7684\uff0c\u53ea\u9700\u8981\u8c03\u7528\u4ed6\u5bf9\u5e94\u7684\u66f4\u65b0\u65b9\u6cd5receiveComponent\u5c31\u884c\u4e86\uff0c\u8fd9\u6837\u5c31\u4f1a\u9012\u5f52\u7684\u53bb\u83b7\u53d6\u5b50\u8282\u70b9\u7684\u5dee\u5f02\u5bf9\u8c61\u7136\u540e\u653e\u5230\u961f\u5217\u4e86\u3002\u5982\u679c\u53d1\u73b0\u4e0d\u80fd\u590d\u7528\u90a3\u5c31\u662f\u65b0\u7684\u8282\u70b9\uff0c\u6211\u4eec\u5c31\u9700\u8981instantiateReactComponent\u91cd\u65b0\u751f\u6210\u4e00\u4e2a\u65b0\u7684component\u3002</p> <p>\u8fd9\u91cc\u7684flattenChildren\u9700\u8981\u7ed9\u4e88\u5f88\u5927\u7684\u5173\u6ce8\uff0c\u6bd4\u5982\u5bf9\u4e8e\u4e00\u4e2a\u8868\u683c\u5217\u8868\uff0c\u6211\u4eec\u5728\u6700\u524d\u9762\u63d2\u5165\u4e86\u4e00\u6761\u6570\u636e\uff0c\u60f3\u4e00\u4e0b\u5982\u679c\u6211\u4eec\u521b\u5efaelement\u65f6\u6ca1\u6709\u4f20\u5165key\uff0c\u6240\u6709\u7684key\u90fd\u662fnull,\u8fd9\u6837reactjs\u5728generateComponentChildren\u65f6\u5c31\u4f1a\u9ed8\u8ba4\u901a\u8fc7\u987a\u5e8f\uff08index\uff09\u6765\u4e00\u4e00\u5bf9\u5e94\u6539\u53d8\u524d\u8ddf\u6539\u53d8\u540e\u7684\u5b50\u8282\u70b9\uff0c\u8fd9\u6837\u53d8\u66f4\u524d\u4e0e\u53d8\u66f4\u540e\u7684\u5bf9\u5e94\u8282\u70b9\u5224\u65ad\uff08_shouldUpdateReactComponent\uff09\u5176\u5b9e\u662f\u4e0d\u5408\u9002\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\u5bf9\u4e8e\u8fd9\u79cd\u5217\u8868\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u6700\u597d\u7ed9\u4e88\u552f\u4e00\u7684\u6807\u8bc6key\uff0c\u8fd9\u6837reactjs\u627e\u5bf9\u5e94\u5173\u7cfb\u65f6\u4f1a\u66f4\u65b9\u4fbf\u4e00\u70b9\u3002</p> <p>\u5f53\u6211\u4eec\u751f\u6210\u597d\u65b0\u7684component\u96c6\u5408\u4ee5\u540e\uff0c\u6211\u4eec\u9700\u8981\u505a\u51fa\u5bf9\u6bd4\u3002\u7ec4\u88c5\u5dee\u5f02\u5bf9\u8c61\u3002</p> <p>\u5bf9\u6bd4\u8001\u7684\u96c6\u5408\u548c\u65b0\u7684\u96c6\u5408\u3002\u6211\u4eec\u9700\u8981\u627e\u51fa\u6db5\u76d6\u56db\u79cd\u60c5\u51b5\uff0c\u5305\u62ec\u4e09\u79cd\u7c7b\u578b\uff08UPATE_TYPES\uff09\u7684\u53d8\u52a8\uff1a</p> \u7c7b\u578b \u60c5\u51b5 MOVE_EXISTING \u65b0\u7684component\u7c7b\u578b\u5728\u8001\u7684\u96c6\u5408\u91cc\u4e5f\u6709\uff0c\u5e76\u4e14element\u662f\u53ef\u4ee5\u66f4\u65b0\u7684\u7c7b\u578b\uff0c\u5728generateComponentChildren\u6211\u4eec\u5df2\u7ecf\u8c03\u7528\u4e86receiveComponent\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0bprevChild=nextChild,\u90a3\u6211\u4eec\u5c31\u9700\u8981\u505a\u51fa\u79fb\u52a8\u7684\u64cd\u4f5c\uff0c\u53ef\u4ee5\u590d\u7528\u4ee5\u524d\u7684dom\u8282\u70b9\u3002 INSERT_MARKUP \u65b0\u7684component\u7c7b\u578b\u4e0d\u5728\u8001\u7684\u96c6\u5408\u91cc\uff0c\u90a3\u4e48\u5c31\u662f\u5168\u65b0\u7684\u8282\u70b9\uff0c\u6211\u4eec\u9700\u8981\u63d2\u5165\u65b0\u7684\u8282\u70b9 REMOVE_NODE \u8001\u7684component\u7c7b\u578b\uff0c\u5728\u65b0\u7684\u96c6\u5408\u91cc\u4e5f\u6709\uff0c\u4f46\u662f\u5bf9\u5e94\u7684element\u4e0d\u540c\u4e86\u4e0d\u80fd\u76f4\u63a5\u590d\u7528\u76f4\u63a5\u66f4\u65b0\uff0c\u90a3\u6211\u4eec\u4e5f\u5f97\u5220\u9664\u3002 REMOVE_NODE \u8001\u7684component\u4e0d\u5728\u65b0\u7684\u96c6\u5408\u91cc\u7684\uff0c\u6211\u4eec\u9700\u8981\u5220\u9664 <p>\u6240\u4ee5\u6211\u4eec\u627e\u51fa\u4e86\u8fd9\u4e09\u79cd\u7c7b\u578b\u7684\u5dee\u5f02\uff0c\u7ec4\u88c5\u6210\u5177\u4f53\u7684\u5dee\u5f02\u5bf9\u8c61\uff0c\u7136\u540e\u52a0\u5230\u4e86\u5dee\u5f02\u961f\u5217\u91cc\u9762\u3002</p> <p>\u6bd4\u5982\u6211\u4eec\u770b\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u5047\u8bbe\u4e0b\u9762\u8fd9\u4e9b\u662f\u67d0\u4e2a\u7236\u5143\u7d20\u7684\u5b50\u5143\u7d20\u96c6\u5408\uff0c\u4e0a\u9762\u5230\u4e0b\u9762\u4ee3\u8868\u4e86\u53d8\u52a8\u6d41\u7a0b\uff1a</p> <p></p> <p>\u6570\u5b57\u6211\u4eec\u53ef\u4ee5\u7406\u89e3\u4e3a\u7ed9element\u7684key\u3002</p> <p>\u6b63\u65b9\u5f62\u4ee3\u8868element\u3002\u5706\u5f62\u4ee3\u8868\u4e86component\u3002\u5f53\u7136\u4e5f\u662f\u5b9e\u9645\u4e0a\u7684dom\u8282\u70b9\u7684\u4f4d\u7f6e\u3002</p> <p>\u4ece\u4e0a\u5230\u4e0b\uff0c\u6211\u4eec\u76844 2 1\u91cc 2 \uff0c1\u53ef\u4ee5\u590d\u7528\u4e4b\u524d\u7684component,\u8ba9\u4ed6\u4eec\u901a\u77e5\u81ea\u5df1\u7684\u5b50\u8282\u70b9\u66f4\u65b0\u540e\uff0c\u518d\u544a\u8bc92\u548c1\uff0c\u4ed6\u4eec\u5728\u65b0\u7684\u96c6\u5408\u91cc\u9700\u8981\u79fb\u52a8\u7684\u4f4d\u7f6e\uff08\u5728\u6211\u4eec\u8fd9\u91cc\u5c31\u662f\u7ec4\u88c5\u5dee\u5f02\u5bf9\u8c61\u52a0\u5230\u961f\u5217\uff09\u30023\u9700\u8981\u5220\u9664\uff0c4\u9700\u8981\u65b0\u589e\u3002</p> <p>\u597d\u4e86\uff0c\u6574\u4e2a\u7684diff\u5c31\u5b8c\u6210\u4e86\uff0c\u8fd9\u4e2a\u65f6\u5019\u5f53\u9012\u5f52\u5b8c\u6210\uff0c\u6211\u4eec\u5c31\u9700\u8981\u5f00\u59cb\u505apatch\u7684\u52a8\u4f5c\u4e86\uff0c\u628a\u8fd9\u4e9b\u5dee\u5f02\u5bf9\u8c61\u5b9e\u6253\u5b9e\u7684\u53cd\u6620\u5230\u5177\u4f53\u7684dom\u8282\u70b9\u4e0a\u3002</p> <p>\u6211\u4eec\u770b\u4e0b_patch\u7684\u5b9e\u73b0\uff1a</p> <pre><code>//\u7528\u4e8e\u5c06childNode\u63d2\u5165\u5230\u6307\u5b9a\u4f4d\u7f6e\nfunction insertChildAt(parentNode, childNode, index) {\n  var beforeChild = parentNode.children().get(index);\n  beforeChild ? childNode.insertBefore(beforeChild) : childNode.appendTo(parentNode);\n}\n\nReactDOMComponent.prototype._patch = function(updates) {\n  var update;\n  var initialChildren = {};\n  var deleteChildren = [];\n  for (var i = 0; i &lt; updates.length; i++) {\n    update = updates[i];\n    if (update.type === UPATE_TYPES.MOVE_EXISTING || update.type === UPATE_TYPES.REMOVE_NODE) {\n      var updatedIndex = update.fromIndex;\n      var updatedChild = $(update.parentNode.children().get(updatedIndex));\n      var parentID = update.parentID;\n      //\u6240\u6709\u9700\u8981\u66f4\u65b0\u7684\u8282\u70b9\u90fd\u4fdd\u5b58\u4e0b\u6765\uff0c\u65b9\u4fbf\u540e\u9762\u4f7f\u7528\n      initialChildren[parentID] = initialChildren[parentID] || [];\n      //\u4f7f\u7528parentID\u4f5c\u4e3a\u7b80\u6613\u547d\u540d\u7a7a\u95f4\n      initialChildren[parentID][updatedIndex] = updatedChild;\n      //\u6240\u6709\u9700\u8981\u4fee\u6539\u7684\u8282\u70b9\u5148\u5220\u9664,\u5bf9\u4e8emove\u7684\uff0c\u540e\u9762\u518d\u91cd\u65b0\u63d2\u5165\u5230\u6b63\u786e\u7684\u4f4d\u7f6e\u5373\u53ef\n      deleteChildren.push(updatedChild)\n    }\n  }\n\n  //\u5220\u9664\u6240\u6709\u9700\u8981\u5148\u5220\u9664\u7684\n  $.each(deleteChildren, function(index, child) {\n    $(child).remove();\n  })\n\n\n  //\u518d\u904d\u5386\u4e00\u6b21\uff0c\u8fd9\u6b21\u5904\u7406\u65b0\u589e\u7684\u8282\u70b9\uff0c\u8fd8\u6709\u4fee\u6539\u7684\u8282\u70b9\u8fd9\u91cc\u4e5f\u8981\u91cd\u65b0\u63d2\u5165\n  for (var k = 0; k &lt; updates.length; k++) {\n    update = updates[k];\n    switch (update.type) {\n      case UPATE_TYPES.INSERT_MARKUP:\n        insertChildAt(update.parentNode, $(update.markup), update.toIndex);\n        break;\n      case UPATE_TYPES.MOVE_EXISTING:\n        insertChildAt(update.parentNode, initialChildren[update.parentID][update.fromIndex], update.toIndex);\n        break;\n      case UPATE_TYPES.REMOVE_NODE:\n        // \u4ec0\u4e48\u90fd\u4e0d\u9700\u8981\u505a\uff0c\u56e0\u4e3a\u4e0a\u9762\u5df2\u7ecf\u5e2e\u5fd9\u5220\u9664\u6389\u4e86\n        break;\n    }\n  }\n}\n</code></pre> <p><code>_patch</code>\u4e3b\u8981\u5c31\u662f\u6328\u4e2a\u904d\u5386\u5dee\u5f02\u961f\u5217\uff0c\u904d\u5386\u4e24\u6b21\uff0c\u7b2c\u4e00\u6b21\u5220\u9664\u6389\u6240\u6709\u9700\u8981\u53d8\u52a8\u7684\u8282\u70b9\uff0c\u7136\u540e\u7b2c\u4e8c\u6b21\u63d2\u5165\u65b0\u7684\u8282\u70b9\u8fd8\u6709\u4fee\u6539\u7684\u8282\u70b9\u3002\u8fd9\u91cc\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u76f4\u63a5\u6328\u4e2a\u7684\u63d2\u5165\u5462\uff1f\u539f\u56e0\u5c31\u662f\u6211\u4eec\u5728diff\u9636\u6bb5\u6dfb\u52a0\u5dee\u5f02\u8282\u70b9\u5230\u5dee\u5f02\u961f\u5217\u65f6\uff0c\u672c\u8eab\u5c31\u662f\u6709\u5e8f\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u5bf9\u4e8e\u65b0\u589e\u8282\u70b9\uff08\u5305\u62ecmove\u548cinsert\u7684\uff09\u5728\u961f\u5217\u91cc\u7684\u987a\u5e8f\u5c31\u662f\u6700\u7ec8dom\u7684\u987a\u5e8f\uff0c\u6240\u4ee5\u6211\u4eec\u624d\u53ef\u4ee5\u6328\u4e2a\u7684\u76f4\u63a5\u6839\u636eindex\u53bb\u585e\u5165\u8282\u70b9\u3002</p> <p>\u4f46\u662f\u5176\u5b9e\u4f60\u4f1a\u53d1\u73b0\u8fd9\u91cc\u6709\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u6240\u6709\u7684\u8282\u70b9\u90fd\u4f1a\u88ab\u5220\u9664\uff0c\u5305\u62ec\u590d\u7528\u4ee5\u524d\u7684component\u7c7b\u578b\u4e3a<code>UPATE_TYPES.MOVE_EXISTING</code>\u7684\uff0c\u6240\u4ee5\u95ea\u70c1\u4f1a\u5f88\u4e25\u91cd\u3002\u5176\u5b9e\u6211\u4eec\u518d\u770b\u770b\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u5176\u5b9e2\u662f\u4e0d\u9700\u8981\u8bb0\u5f55\u5230\u5dee\u5f02\u961f\u5217\u7684\u3002\u8fd9\u6837\u540e\u9762patch\u4e5f\u662fok\u7684\u3002\u60f3\u60f3\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f</p> <p>\u6211\u4eec\u6765\u6539\u9020\u4e0b\u4ee3\u7801\uff1a</p> <pre><code>//_diff\u7528\u6765\u9012\u5f52\u627e\u51fa\u5dee\u522b,\u7ec4\u88c5\u5dee\u5f02\u5bf9\u8c61,\u6dfb\u52a0\u5230\u66f4\u65b0\u961f\u5217diffQueue\u3002\nReactDOMComponent.prototype._diff = function(diffQueue, nextChildrenElements){\n  \u3002\u3002\u3002\n  /**\u6ce8\u610f\u65b0\u589e\u4ee3\u7801**/\n  var lastIndex = 0;//\u4ee3\u8868\u8bbf\u95ee\u7684\u6700\u540e\u4e00\u6b21\u7684\u8001\u7684\u96c6\u5408\u7684\u4f4d\u7f6e\n  var nextIndex = 0;//\u4ee3\u8868\u5230\u8fbe\u7684\u65b0\u7684\u8282\u70b9\u7684index\n  //\u901a\u8fc7\u5bf9\u6bd4\u4e24\u4e2a\u96c6\u5408\u7684\u5dee\u5f02\uff0c\u7ec4\u88c5\u5dee\u5f02\u8282\u70b9\u6dfb\u52a0\u5230\u961f\u5217\u4e2d\n  for (name in nextChildren) {\n    if (!nextChildren.hasOwnProperty(name)) {\n      continue;\n    }\n    var prevChild = prevChildren &amp;&amp; prevChildren[name];\n    var nextChild = nextChildren[name];\n    //\u76f8\u540c\u7684\u8bdd\uff0c\u8bf4\u660e\u662f\u4f7f\u7528\u7684\u540c\u4e00\u4e2acomponent,\u6240\u4ee5\u6211\u4eec\u9700\u8981\u505a\u79fb\u52a8\u7684\u64cd\u4f5c\n    if (prevChild === nextChild) {\n      //\u6dfb\u52a0\u5dee\u5f02\u5bf9\u8c61\uff0c\u7c7b\u578b\uff1aMOVE_EXISTING\n      \u3002\u3002\u3002\u3002\n      /**\u6ce8\u610f\u65b0\u589e\u4ee3\u7801**/\n      prevChild._mountIndex &lt; lastIndex &amp;&amp; diffQueue.push({\n        parentId:this._rootNodeID,\n        parentNode:$('[data-reactid='+this._rootNodeID+']'),\n        type: UPATE_TYPES.REMOVE_NODE,\n        fromIndex: prevChild._mountIndex,\n        toIndex:null\n      })\n      lastIndex = Math.max(prevChild._mountIndex, lastIndex);\n    } else {\n      //\u5982\u679c\u4e0d\u76f8\u540c\uff0c\u8bf4\u660e\u662f\u65b0\u589e\u52a0\u7684\u8282\u70b9\uff0c\n      if (prevChild) {\n        //\u4f46\u662f\u5982\u679c\u8001\u7684\u8fd8\u5b58\u5728\uff0c\u5c31\u662felement\u4e0d\u540c\uff0c\u4f46\u662fcomponent\u4e00\u6837\u3002\u6211\u4eec\u9700\u8981\u628a\u5b83\u5bf9\u5e94\u7684\u8001\u7684element\u5220\u9664\u3002\n        //\u6dfb\u52a0\u5dee\u5f02\u5bf9\u8c61\uff0c\u7c7b\u578b\uff1aREMOVE_NODE\n        \u3002\u3002\u3002\u3002\u3002\n        /**\u6ce8\u610f\u65b0\u589e\u4ee3\u7801**/\n        lastIndex = Math.max(prevChild._mountIndex, lastIndex);\n      }\n      \u3002\u3002\u3002\n    }\n    //\u66f4\u65b0mount\u7684inddex\n    nextChild._mountIndex = nextIndex;\n    nextIndex++;\n  }\n\n  //\u5bf9\u4e8e\u8001\u7684\u8282\u70b9\u91cc\u6709\uff0c\u65b0\u7684\u8282\u70b9\u91cc\u6ca1\u6709\u7684\u90a3\u4e9b\uff0c\u4e5f\u5168\u90fd\u5220\u9664\u6389\n  \u3002\u3002\u3002\n}\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u591a\u52a0\u4e86\u4e2alastIndex\uff0c\u8fd9\u4e2a\u4ee3\u8868\u6700\u540e\u4e00\u6b21\u8bbf\u95ee\u7684\u8001\u96c6\u5408\u8282\u70b9\u7684\u6700\u5927\u7684\u4f4d\u7f6e\u3002 \u800c\u6211\u4eec\u52a0\u4e86\u4e2a\u5224\u65ad\uff0c\u53ea\u6709_mountIndex\u5c0f\u4e8e\u8fd9\u4e2alastIndex\u7684\u624d\u4f1a\u9700\u8981\u52a0\u5165\u5dee\u5f02\u961f\u5217\u3002\u6709\u4e86\u8fd9\u4e2a\u5224\u65ad\u4e0a\u9762\u7684\u4f8b\u5b502\u5c31\u4e0d\u9700\u8981move\u3002\u800c\u7a0b\u5e8f\u4e5f\u53ef\u4ee5\u597d\u597d\u7684\u8fd0\u884c\uff0c\u5b9e\u9645\u4e0a\u5927\u90e8\u5206\u90fd\u662f2\u8fd9\u79cd\u60c5\u51b5\u3002</p> <p>\u8fd9\u662f\u4e00\u79cd\u987a\u5e8f\u4f18\u5316\uff0clastIndex\u4e00\u76f4\u5728\u66f4\u65b0\uff0c\u4ee3\u8868\u4e86\u5f53\u524d\u8bbf\u95ee\u7684\u6700\u53f3\u7684\u8001\u7684\u96c6\u5408\u7684\u5143\u7d20\u3002 \u6211\u4eec\u5047\u8bbe\u4e0a\u4e00\u4e2a\u5143\u7d20\u662fA,\u6dfb\u52a0\u540e\u66f4\u65b0\u4e86lastIndex\u3002 \u5982\u679c\u6211\u4eec\u8fd9\u65f6\u5019\u6765\u4e2a\u65b0\u5143\u7d20B\uff0c\u6bd4lastIndex\u8fd8\u5927\u8bf4\u660e\u5f53\u524d\u5143\u7d20\u5728\u8001\u7684\u96c6\u5408\u91cc\u9762\u5c31\u6bd4\u4e0a\u4e00\u4e2aA\u9760\u540e\u3002\u6240\u4ee5\u8fd9\u4e2a\u5143\u7d20\u5c31\u7b97\u4e0d\u52a0\u5165\u5dee\u5f02\u961f\u5217\uff0c\u4e5f\u4e0d\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u4eba\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5230\u540e\u9762\u7684path\u63d2\u5165\u8282\u70b9\u3002\u56e0\u4e3a\u6211\u4eec\u4ecepatch\u91cc\u9762\u77e5\u9053\uff0c\u65b0\u7684\u96c6\u5408\u90fd\u662f\u6309\u987a\u5e8f\u4ece\u5934\u5f00\u59cb\u63d2\u5165\u5143\u7d20\u7684\uff0c\u53ea\u6709\u5f53\u65b0\u5143\u7d20\u6bd4lastIndex\u5c0f\u65f6\u624d\u9700\u8981\u53d8\u66f4\u3002\u5176\u5b9e\u53ea\u8981\u4ed4\u7ec6\u63a8\u6572\u4e0b\u4e0a\u9762\u90a3\u4e2a\u4f8b\u5b50\uff0c\u5c31\u53ef\u4ee5\u7406\u89e3\u8fd9\u79cd\u4f18\u5316\u624b\u6bb5\u4e86\u3002</p> <p>\u8fd9\u6837\u6574\u4e2a\u7684\u66f4\u65b0\u673a\u5236\u5c31\u5b8c\u6210\u4e86\u3002\u6211\u4eec\u518d\u6765\u7b80\u5355\u56de\u987e\u4e0breactjs\u7684\u5dee\u5f02\u7b97\u6cd5\uff1a</p> <p>\u9996\u5148\u662f\u6240\u6709\u7684component\u90fd\u5b9e\u73b0\u4e86receiveComponent\u6765\u8d1f\u8d23\u81ea\u5df1\u7684\u66f4\u65b0\uff0c\u800c\u6d4f\u89c8\u5668\u9ed8\u8ba4\u5143\u7d20\u7684\u66f4\u65b0\u6700\u4e3a\u590d\u6742\uff0c\u4e5f\u5c31\u662f\u7ecf\u5e38\u8bf4\u7684 diff algorithm\u3002</p> <p>react\u6709\u4e00\u4e2a\u5168\u5c40_shouldUpdateReactComponent\u7528\u6765\u6839\u636eelement\u7684key\u6765\u5224\u65ad\u662f\u66f4\u65b0\u8fd8\u662f\u91cd\u65b0\u6e32\u67d3\uff0c\u8fd9\u662f\u7b2c\u4e00\u4e2a\u5dee\u5f02\u5224\u65ad\u3002\u6bd4\u5982\u81ea\u5b9a\u4e49\u5143\u7d20\u91cc\uff0c\u5c31\u4f7f\u7528\u8fd9\u4e2a\u5224\u65ad\uff0c\u901a\u8fc7\u8fd9\u79cd\u6807\u8bc6\u5224\u65ad\uff0c\u4f1a\u53d8\u5f97\u7279\u522b\u9ad8\u6548\u3002</p> <p>\u6bcf\u4e2a\u7c7b\u578b\u7684\u5143\u7d20\u90fd\u8981\u5904\u7406\u597d\u81ea\u5df1\u7684\u66f4\u65b0\uff1a</p> <ol> <li>\u81ea\u5b9a\u4e49\u5143\u7d20\u7684\u66f4\u65b0\uff0c\u4e3b\u8981\u662f\u66f4\u65b0render\u51fa\u7684\u8282\u70b9\uff0c\u505a\u7529\u624b\u638c\u67dc\u4ea4\u7ed9render\u51fa\u7684\u8282\u70b9\u7684\u5bf9\u5e94component\u53bb\u7ba1\u7406\u66f4\u65b0\u3002</li> <li>text\u8282\u70b9\u7684\u66f4\u65b0\u5f88\u7b80\u5355\uff0c\u76f4\u63a5\u66f4\u65b0\u6587\u6848\u3002</li> <li>\u6d4f\u89c8\u5668\u57fa\u672c\u5143\u7d20\u7684\u66f4\u65b0\uff0c\u5206\u4e3a\u4e24\u5757\uff1a</li> <li>\u5148\u662f\u66f4\u65b0\u5c5e\u6027\uff0c\u5bf9\u6bd4\u51fa\u524d\u540e\u5c5e\u6027\u7684\u4e0d\u540c\uff0c\u5c40\u90e8\u66f4\u65b0\u3002\u5e76\u4e14\u5904\u7406\u7279\u6b8a\u5c5e\u6027\uff0c\u6bd4\u5982\u4e8b\u4ef6\u7ed1\u5b9a\u3002</li> <li>\u7136\u540e\u662f\u5b50\u8282\u70b9\u7684\u66f4\u65b0\uff0c\u5b50\u8282\u70b9\u66f4\u65b0\u4e3b\u8981\u662f\u627e\u51fa\u5dee\u5f02\u5bf9\u8c61\uff0c\u627e\u5dee\u5f02\u5bf9\u8c61\u7684\u65f6\u5019\u4e5f\u4f1a\u4f7f\u7528\u4e0a\u9762\u7684_shouldUpdateReactComponent\u6765\u5224\u65ad\uff0c\u5982\u679c\u662f\u53ef\u4ee5\u76f4\u63a5\u66f4\u65b0\u7684\u5c31\u4f1a\u9012\u5f52\u8c03\u7528\u5b50\u8282\u70b9\u7684\u66f4\u65b0\uff0c\u8fd9\u6837\u4e5f\u4f1a\u9012\u5f52\u67e5\u627e\u5dee\u5f02\u5bf9\u8c61\uff0c\u8fd9\u91cc\u8fd8\u4f1a\u4f7f\u7528lastIndex\u8fd9\u79cd\u505a\u4e00\u79cd\u4f18\u5316\uff0c\u4f7f\u4e00\u4e9b\u8282\u70b9\u4fdd\u7559\u4f4d\u7f6e\uff0c\u4e4b\u540e\u6839\u636e\u5dee\u5f02\u5bf9\u8c61\u64cd\u4f5cdom\u5143\u7d20\uff08\u4f4d\u7f6e\u53d8\u52a8\uff0c\u5220\u9664\uff0c\u6dfb\u52a0\u7b49\uff09\u3002</li> </ol> <p>\u6574\u4e2areactjs\u7684\u5dee\u5f02\u7b97\u6cd5\u5c31\u662f\u8fd9\u4e2a\u6837\u5b50\u3002\u6700\u6838\u5fc3\u7684\u4e24\u4e2a_shouldUpdateReactComponent\u4ee5\u53cadiff,patch\u7b97\u6cd5\u3002</p>"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8B%E7%AF%87%EF%BC%88%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#_3","title":"\u5c0f\u8bd5\u725b\u5200","text":"<p>\u6709\u4e86\u4e0a\u9762\u7b80\u6613\u7248\u7684reaactjs\uff0c\u6211\u4eec\u6765\u5b9e\u73b0\u4e00\u4e2a\u7b80\u5355\u7684todolist\u5427\u3002</p> <pre><code>var TodoList = React.createClass({\n  getInitialState: function() {\n    return {items: []};\n  },\n  add:function(){\n    var nextItems = this.state.items.concat([this.state.text]);\n    this.setState({items: nextItems, text: ''});\n  },\n  onChange: function(e) {\n    this.setState({text: e.target.value});\n  },\n  render: function() {\n    var createItem = function(itemText) {\n      return React.createElement(\"div\", null, itemText);\n    };\n    var lists = this.state.items.map(createItem);\n    var input = React.createElement(\"input\", {onkeyup: this.onChange.bind(this),value: this.state.text});\n    var button = React.createElement(\"p\", {onclick: this.add.bind(this)}, 'Add#' + (this.state.items.length + 1))\n    var children = lists.concat([input,button])\n    return React.createElement(\"div\", null,children);\n  }\n});\n\n\nReact.render(React.createElement(TodoList), document.getElementById(\"container\"));\n</code></pre> <p>\u6548\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u6574\u4e2a\u7684\u6d41\u7a0b\u662f\u8fd9\u6837\uff1a</p> <ul> <li>\u521d\u6b21\u6e32\u67d3\u65f6\u5148\u4f7f\u7528<code>ReactCompositeComponent</code>\u6e32\u67d3\u81ea\u5b9a\u4e49\u5143\u7d20TodoList\uff0c\u8c03\u7528getInitialState\u62ff\u5230\u521d\u59cb\u503c\uff0c\u7136\u540e\u4f7f\u7528<code>ReactDOMComponent</code>\u6e32\u67d3render\u8fd4\u56de\u7684div\u57fa\u672c\u5143\u7d20\u8282\u70b9\u3002div\u57fa\u672c\u5143\u7d20\u518d\u4e00\u5c42\u5c42\u7684\u4f7f\u7528<code>ReactDOMComponent</code>\u53bb\u6e32\u67d3\u5404\u4e2a\u5b50\u8282\u70b9,\u5305\u62ecinput,\u8fd8\u6709p\u3002</li> <li>\u5728input\u6846\u8f93\u5165\u6587\u5b57\u89e6\u53d1onchange\u4e8b\u4ef6\uff0c\u5f00\u59cb\u8c03\u7528setState\u505a\u51fa\u53d8\u66f4\uff0c\u76f4\u63a5\u53d8\u66f4render\u51fa\u6765\u7684\u8282\u70b9\uff0c\u7ecf\u8fc7\u5dee\u5f02\u7b97\u6cd5\uff0c\u4e00\u5c42\u5c42\u7684\u5f80\u4e0b\u3002\u6700\u540e\u6539\u53d8value\u503c\u3002</li> <li>\u70b9\u51fb\u6309\u94ae\uff0c\u89e6\u53d1add\u7136\u540e\u5f00\u59cb\u66f4\u65b0\uff0c\u7ecf\u8fc7\u5dee\u5f02\u7b97\u6cd5\uff0c\u6dfb\u52a0\u4e00\u4e2a\u8282\u70b9\u3002\u540c\u65f6\u66f4\u65b0\u6309\u94ae\u4e0a\u9762\u7684\u6587\u6848\u3002</li> </ul> <p>\u57fa\u672c\u4e0a\uff0c\u6574\u4e2a\u6d41\u7a0b\u90fd\u68b3\u7406\u6e05\u695a\u4e86</p>"},{"location":"react/reactjs%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%8B%E7%AF%87%EF%BC%88%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%89/#_4","title":"\u7ed3\u8bed","text":"<p>\u8fd9\u53ea\u662f\u4e2a\u73a9\u5177\uff0c\u4f46\u5b9e\u73b0\u4e86reactjs\u6700\u6838\u5fc3\u7684\u529f\u80fd\uff0c\u865a\u62df\u8282\u70b9\uff0c\u5dee\u5f02\u7b97\u6cd5\uff0c\u5355\u5411\u6570\u636e\u66f4\u65b0\u90fd\u5728\u8fd9\u91cc\u4e86\u3002\u8fd8\u6709\u5f88\u591areactjs\u4f18\u79c0\u7684\u4e1c\u897f\u6ca1\u6709\u5b9e\u73b0\uff0c\u6bd4\u5982\u5bf9\u8c61\u751f\u6210\u65f6\u5185\u5b58\u7684\u7ebf\u7a0b\u6c60\u7ba1\u7406\uff0c\u6279\u91cf\u66f4\u65b0\u673a\u5236\uff0c\u4e8b\u4ef6\u7684\u4f18\u5316\uff0c\u670d\u52a1\u7aef\u7684\u6e32\u67d3\uff0cimmutable data\u7b49\u7b49\u3002\u8fd9\u4e9b\u4e1c\u897f\u53d7\u9650\u4e8e\u7bc7\u5e45\u5c31\u4e0d\u5177\u4f53\u5c55\u5f00\u4e86\u3002</p> <p>reactjs\u4f5c\u4e3a\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\uff0c\u865a\u62df\u8282\u70b9\u7684\u60f3\u6cd5\u6bd4\u8f83\u65b0\u5947\uff0c\u4e0d\u8fc7\u4e2a\u4eba\u8fd8\u662f\u4e0d\u80fd\u63a5\u53d7\u8fd9\u79cd\u522b\u626d\u7684\u5199\u6cd5\u3002\u4f7f\u7528reactjs\uff0c\u5c31\u8981\u4f7f\u7528\u4ed6\u90a3\u4e00\u6574\u5957\u7684\u5f00\u53d1\u65b9\u5f0f\uff0c\u800c\u4ed6\u6838\u5fc3\u7684\u529f\u80fd\u5176\u5b9e\u53ea\u662f\u4e00\u4e2a\u5dee\u5f02\u7b97\u6cd5\uff0c\u800c\u8fd9\u79cd\u5176\u5b9e\u5df2\u7ecf\u6709\u76f8\u5173\u7684\u5e93\u5b9e\u73b0\u4e86\u3002</p> <p>\u6700\u540e\u518d\u5410\u69fd\u4e0b\u524d\u7aef\u771f\u662f\u82e6\u547d\uff0c\u5404\u79cd\u65b0\u6280\u672f\uff0c\u5404\u79cd\u65b0\u77e5\u8bc6\u8111\u7ec6\u80de\u4e0d\u591f\u7528\u4e86\u3002\u4e5f\u96be\u602a\u524d\u7aef\u6c38\u8fdc\u90fd\u7f3a\u4eba\u3002</p> <p>\u76f8\u5173\u8d44\u6599\uff1a</p> <ol> <li>http://freestyle21.cn/2015/06/21/react-diff-%E7%AE%97%E6%B3%95/</li> <li>https://github.com/Matt-Esch/virtual-dom</li> <li>http://zjumty.iteye.com/blog/2207030</li> <li>http://hao.jser.com/archive/7871/</li> <li>https://github.com/miniflycn/qvd/issues/1</li> <li>http://fluentconf.com/fluent2014/public/schedule/detail/32395</li> <li>http://calendar.perfplanet.com/2013/diff/</li> <li>http://segmentfault.com/a/1190000000606216</li> <li>http://hulufei.gitbooks.io/react-tutorial/content/introduction.html</li> <li>http://reactjs.cn/react/docs/multiple-components.html</li> <li>http://facebook.github.io/react/docs/multiple-components.html</li> </ol>"},{"location":"react/react%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/","title":"React \u751f\u547d\u5468\u671f\u51fd\u6570\u6e90\u7801\u5b66\u4e60","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 8533  \u9605\u8bfb18\u5206\u949f</p> <p>Component Specs and Lifecycle \u7ec4\u4ef6\u89c4\u683c\u548c\u751f\u547d\u5468\u671f</p> <p>This should actually be something like <code>Lifecycle&lt;P, S&gt; | DeprecatedLifecycle&lt;P, S&gt;</code>, as React will not call the deprecated lifecycle methods if any of the new lifecycle methods are present.</p> <p>\u8fd9\u5b9e\u9645\u4e0a\u5e94\u8be5\u7c7b\u4f3c\u4e8e <code>Lifecycle&lt;P, S&gt; | \u4e0d\u63a8\u8350\u4f7f\u7528\u7684 Lifecycle&lt;P, S&gt;</code> \u56e0\u4e3a\u5982\u679c\u5b58\u5728\u4efb\u4f55\u65b0\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0cReact \u5c06\u4e0d\u4f1a\u8c03\u7528\u5df2\u5f03\u7528\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u3002</p>"},{"location":"react/react%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/#_1","title":"\u5b9a\u4e49\u751f\u547d\u5468\u671f\u63a5\u53e3","text":"<p>\u7ec4\u4ef6\u751f\u547d\u5468\u671f \u7ee7\u627f\u81ea \u65b0\u7684\u751f\u547d\u5468\u671f \u548c \u5e9f\u5f03\u7684\u751f\u547d\u5468\u671f</p> <pre><code>interface ComponentLifecycle&lt;P, S, SS = any&gt; extends NewLifecycle&lt;P, S, SS&gt;, DeprecatedLifecycle&lt;P, S&gt; {\n\n  // Called immediately after a component is mounted. Setting state here will trigger re-rendering.\n  componentDidMount?(): void;\n\n  /**\n   * Called to determine whether the change in props and state should trigger a re-render.\n   * `Component` always returns true.\n   * `PureComponent` implements a shallow comparison on props and state and returns true if any props or states have changed.\n   * If false is returned, `Component#render`, `componentWillUpdate` and `componentDidUpdate` will not be called.\n   */\n  shouldComponentUpdate?(nextProps: Readonly&lt;P&gt;, nextState: Readonly&lt;S&gt;, nextContext: any): boolean;\n\n  /* Called immediately before a component is destroyed. Perform any necessary cleanup in this method, such as\n   cancelled network requests, or cleaning up any DOM elements created in `componentDidMount`. */\n  componentWillUnmount?(): void;\n\n  /* Catches exceptions generated in descendant components. Unhandled exceptions will cause\n   * the entire component tree to unmount.*/\n  componentDidCatch?(error: Error, errorInfo: ErrorInfo): void;\n}\n</code></pre>"},{"location":"react/react%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/#_2","title":"\u9759\u6001\u63a5\u53e3","text":"<pre><code>// Unfortunately, we have no way of declaring that the component constructor must implement this\n// \u6211\u4eec\u65e0\u6cd5\u58f0\u660e\u7ec4\u4ef6\u6784\u9020\u51fd\u6570\u5fc5\u987b\u5b9e\u73b0\u8fd9\u4e2a\ninterface StaticLifecycle&lt;P, S&gt; {\n  getDerivedStateFromProps?: GetDerivedStateFromProps&lt;P, S&gt;;\n  getDerivedStateFromError?: GetDerivedStateFromError&lt;P, S&gt;;\n}\n\ntype GetDerivedStateFromProps&lt;P, S&gt; =\n  /**\n   * Returns an update to a component's state based on its new props and old state.\n   * Note: its presence prevents any of the deprecated lifecycle methods from being invoked */\n  (nextProps: Readonly&lt;P&gt;, prevState: S) =&gt; Partial&lt;S&gt; | null;\n\ntype GetDerivedStateFromError&lt;P, S&gt; =\n  /**\n   * This lifecycle is invoked after an error has been thrown by a descendant component.\n   * It receives the error that was thrown as a parameter and should return a value to update state.\n   * Note: its presence prevents any of the deprecated lifecycle methods from being invoked\n   */\n  (error: any) =&gt; Partial&lt;S&gt; | null;\n</code></pre>"},{"location":"react/react%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/#_3","title":"\u65b0\u7684\u751f\u547d\u5468\u671f\u63a5\u53e3","text":"<pre><code>// This should be \"infer SS\" but can't use it yet\ninterface NewLifecycle&lt;P, S, SS&gt; {\n  /**\n   * Runs before React applies the result of `render` to the document, and\n   * returns an object to be given to componentDidUpdate. Useful for saving\n   * things such as scroll position before `render` causes changes to it.\n   *\n   * Note: the presence of getSnapshotBeforeUpdate prevents any of the deprecated lifecycle events from running.\n   */\n  getSnapshotBeforeUpdate?(prevProps: Readonly&lt;P&gt;, prevState: Readonly&lt;S&gt;): SS | null;\n  /**\n   * Called immediately after updating occurs. Not called for the initial render.\n   * The snapshot is only present if getSnapshotBeforeUpdate is present and returns non-null.\n   */\n  componentDidUpdate?(prevProps: Readonly&lt;P&gt;, prevState: Readonly&lt;S&gt;, snapshot?: SS): void;\n}\n</code></pre>"},{"location":"react/react%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/#_4","title":"\u5e9f\u5f03\u7684\u751f\u547d\u5468\u671f","text":"<pre><code>interface DeprecatedLifecycle&lt;P, S&gt; {\n  /**\n   * Called immediately before mounting occurs, and before `Component#render`.\n   * Avoid introducing any side-effects or subscriptions in this method.\n   *\n   * Note: the presence of getSnapshotBeforeUpdate or getDerivedStateFromProps prevents this from being invoked.\n   *\n   * @deprecated 16.3, use componentDidMount or the constructor instead; will stop working in React 17\n   * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#initializing-state\n   * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#gradual-migration-path\n   */\n  componentWillMount?(): void;\n  /**\n   * Called immediately before mounting occurs, and before `Component#render`.\n   * Avoid introducing any side-effects or subscriptions in this method.\n   *\n   * This method will not stop working in React 17.\n   *\n   * Note: the presence of getSnapshotBeforeUpdate or getDerivedStateFromProps prevents this from being invoked.\n   *\n   * @deprecated 16.3, use componentDidMount or the constructor instead\n   * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#initializing-state\n   * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#gradual-migration-path\n   */\n  UNSAFE_componentWillMount?(): void;\n  /**\n   * Called when the component may be receiving new props.\n   * React may call this even if props have not changed, so be sure to compare new and existing\n   * props if you only want to handle changes.\n   *\n   * Calling `Component#setState` generally does not trigger this method.\n   *\n   * Note: the presence of getSnapshotBeforeUpdate or getDerivedStateFromProps prevents this from being invoked.\n   *\n   * @deprecated 16.3, use static getDerivedStateFromProps instead; will stop working in React 17\n   * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#updating-state-based-on-props\n   * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#gradual-migration-path\n   */\n  componentWillReceiveProps?(nextProps: Readonly&lt;P&gt;, nextContext: any): void;\n  /**\n   * Called when the component may be receiving new props.\n   * React may call this even if props have not changed, so be sure to compare new and existing\n   * props if you only want to handle changes.\n   *\n   * Calling `Component#setState` generally does not trigger this method.\n   *\n   * This method will not stop working in React 17.\n   *\n   * Note: the presence of getSnapshotBeforeUpdate or getDerivedStateFromProps prevents this from being invoked.\n   *\n   * @deprecated 16.3, use static getDerivedStateFromProps instead\n   * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#updating-state-based-on-props\n   * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#gradual-migration-path\n   */\n  UNSAFE_componentWillReceiveProps?(nextProps: Readonly&lt;P&gt;, nextContext: any): void;\n  /**\n   * Called immediately before rendering when new props or state is received. Not called for the initial render.\n   *\n   * Note: You cannot call `Component#setState` here.\n   *\n   * Note: the presence of getSnapshotBeforeUpdate or getDerivedStateFromProps prevents this from being invoked.\n   *\n   * @deprecated 16.3, use getSnapshotBeforeUpdate instead; will stop working in React 17\n   * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#reading-dom-properties-before-an-update\n   * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#gradual-migration-path\n   */\n  componentWillUpdate?(nextProps: Readonly&lt;P&gt;, nextState: Readonly&lt;S&gt;, nextContext: any): void;\n  /**\n   * Called immediately before rendering when new props or state is received. Not called for the initial render.\n   * Note: You cannot call `Component#setState` here.\n   * This method will not stop working in React 17.\n   * Note: the presence of getSnapshotBeforeUpdate or getDerivedStateFromProps prevents this from being invoked.\n   * @deprecated 16.3, use getSnapshotBeforeUpdate instead\n   * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#reading-dom-properties-before-an-update\n   * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#gradual-migration-path\n   */\n  UNSAFE_componentWillUpdate?(nextProps: Readonly&lt;P&gt;, nextState: Readonly&lt;S&gt;, nextContext: any): void;\n}\n</code></pre>"},{"location":"react/react%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/#_5","title":"\u7ec4\u5408\u540e\u63a5\u53e3","text":"<pre><code>// \u6df7\u5408\u7c7b\u578b\ninterface Mixin&lt;P, S&gt; extends ComponentLifecycle&lt;P, S&gt; {\n  mixins?: Array&lt;Mixin&lt;P, S&gt;&gt;;\n  statics?: {\n      [key: string]: any;\n  };\n  displayName?: string;\n  // ValidationMap \u9a8c\u8bc1\u6620\u5c04\n  propTypes?: ValidationMap&lt;any&gt;;\n  contextTypes?: ValidationMap&lt;any&gt;;\n  childContextTypes?: ValidationMap&lt;any&gt;;\n  getDefaultProps?(): P;\n  getInitialState?(): S;\n}\n\ninterface ComponentSpec&lt;P, S&gt; extends Mixin&lt;P, S&gt; {\n  render(): ReactNode;\n  [propertyName: string]: any;\n}\n</code></pre>"},{"location":"react/stackoverflow-Highlight%20text%20using%20ReactJS/","title":"Highlight text using ReactJS","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1669  \u9605\u8bfb4\u5206\u949f</p> <p>https://stackoverflow.com/questions/29652862/highlight-text-using-reactjs</p> <p>I'm trying to highlight text matching the query but I can't figure out how to get the tags to display as HTML instead of text.</p> <pre><code>var Component = React.createClass({\n  _highlightQuery: function(name, query) {\n    var regex = new RegExp(\"(\" + query + \")\", \"gi\");\n    return name.replace(regex, \"&lt;strong&gt;$1&lt;/strong&gt;\");\n  },\n  render: function() {\n    var name = \"Javascript\";\n    var query = \"java\"\n    return (\n      &lt;div&gt;\n        &lt;input type=\"checkbox\" /&gt; {this._highlightQuery(name, query)}\n      &lt;/div&gt;\n    );\n  }\n});\n</code></pre>"},{"location":"react/stackoverflow-Highlight%20text%20using%20ReactJS/#answer","title":"Answer","text":"<p>Here is my simple twoliner helper method:</p> <pre><code>getHighlightedText(text, highlight) {\n  // Split text on highlight term, include term itself into parts, ignore case\n  const parts = text.split(new RegExp(`(${highlight})`, 'gi'));\n  return &lt;span&gt;{parts.map(part =&gt; part.toLowerCase() === highlight.toLowerCase() ? &lt;b&gt;{part}&lt;/b&gt; : part)}&lt;/span&gt;;\n}\n</code></pre> <p>It returns a span, where the requested parts are highlighted with <code>&lt;b&gt; &lt;/b&gt;</code> tags. This can be simply modified to use another tag if needed.</p> <p>UPDATE: To avoid unique key missing warning, here is a solution based on spans and setting fontWeight style for matching parts:</p> <pre><code>getHighlightedText(text, highlight) {\n    // Split on highlight term and include term into parts, ignore case\n    const parts = text.split(new RegExp(`(${highlight})`, 'gi'));\n    return &lt;span&gt; { parts.map((part, i) =&gt; \n        &lt;span key={i} style={part.toLowerCase() === highlight.toLowerCase() ? { fontWeight: 'bold' } : {} }&gt;\n            { part }\n        &lt;/span&gt;)\n    } &lt;/span&gt;;\n}\n</code></pre>"},{"location":"react/todo-Testing%20React%20components/","title":"Testing React components","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6906  \u9605\u8bfb14\u5206\u949f</p>"},{"location":"react/todo-Testing%20React%20components/#test-your-first-react-component-using-jest-and-react-testing-library","title":"Test your first React component using Jest and <code>react-testing-library</code>","text":"<p>Published Jan 05, 2019</p> <p>Limited time offer: Get 10 free Adobe Stock images.ADS VIA CARBON</p> <p>The easiest way to start with testing React components is doing snapshot testing, a testing technique that lets you test components in isolation.</p> <p>If you are familiar with testing software, it\u2019s just like unit testing you do for classes: you test each component functionality.</p> <p>I assume you created a React app with <code>create-react-app</code>, which already comes with Jest installed, the testing package we\u2019ll need.</p> <p>Let\u2019s start with a simple test. CodeSandbox is a great environment to try this out. Start with a React sandbox, and create an <code>App.js</code> component in a <code>components</code> folder, and add an <code>App.test.js</code> file.</p> <pre><code>import React from 'react'\n\nexport default function App() {\n  return (\n    &lt;div className=\"App\"&gt;\n      &lt;h1&gt;Hello CodeSandbox&lt;/h1&gt;\n      &lt;h2&gt;Start editing to see some magic happen!&lt;/h2&gt;\n    &lt;/div&gt;\n  )\n}\n</code></pre> <p>Our first test is dumb:</p> <pre><code>test('First test', () =&gt; {\n  expect(true).toBeTruthy()\n})\n</code></pre> <p>When CodeSandbox detects test files, it automatically runs them for you, and you can click the Tests button in the bottom of the view to show your test results:</p> <p></p> <p>A test file can contain multiple tests:</p> <p></p> <p>Let\u2019s do something a bit more useful now, to actually test a React component. We only have App now, which is not doing anything really useful, so let\u2019s first set up the environment with a little application with more functionality: the counter app we built previously. If you skipped it, you can go back and read how we built it, but for easier reference I add it here again.</p> <p>It\u2019s just 2 components: App and Button. Create the <code>App.js</code> file:</p> <pre><code>import React, { useState } from 'react'\nimport Button from './Button'\n\nconst App = () =&gt; {\n  const [count, setCount] = useState(0)\n\n  const incrementCount = increment =&gt; {\n    setCount(count + increment)\n  }\n\n  return (\n    &lt;div&gt;\n      &lt;Button increment={1} onClickFunction={incrementCount} /&gt;\n      &lt;Button increment={10} onClickFunction={incrementCount} /&gt;\n      &lt;Button increment={100} onClickFunction={incrementCount} /&gt;\n      &lt;Button increment={1000} onClickFunction={incrementCount} /&gt;\n      &lt;span&gt;{count}&lt;/span&gt;\n    &lt;/div&gt;\n  )\n}\n\nexport default App\n</code></pre> <p>and the <code>Button.js</code> file:</p> <pre><code>import React from 'react'\n\nconst Button = ({ increment, onClickFunction }) =&gt; {\n  const handleClick = () =&gt; {\n    onClickFunction(increment)\n  }\n  return &lt;button onClick={handleClick}&gt;+{increment}&lt;/button&gt;\n}\n\nexport default Button\n</code></pre> <p>We are going to use the <code>react-testing-library</code>, which is a great help as it allows us to inspect the output of every component and to apply events on them. You can read more about it on https://github.com/kentcdodds/react-testing-library or by watching this video.</p> <p>Let\u2019s test the Button component first.</p> <p>We start by importing <code>render</code> and <code>fireEvent</code> from <code>react-testing-library</code>, two helpers. The first lets us render JSX. The second lets us emit events on a component.</p> <p>Create a <code>Button.test.js</code> and put it in the same folder as <code>Button.js</code>.</p> <pre><code>import React from 'react'\nimport { render, fireEvent } from 'react-testing-library'\nimport Button from './Button'\n</code></pre> <p>Buttons are used in the app to accept a click event and then they call a function passed to the <code>onClickFunction</code> prop. We add a <code>count</code> variable and we create a function that increments it:</p> <pre><code>let count\n\nconst incrementCount = increment =&gt; {\n  count += increment\n}\n</code></pre> <p>Now off to the actual tests. We first initialize count to 0, and we render a <code>+1</code> <code>Button</code> component passing a <code>1</code> to <code>increment</code> and our <code>incrementCount</code> function to <code>onClickFunction</code>.</p> <p>Then we get the content of the first child of the component, and we check it outputs <code>+1</code>.</p> <p>We then proceed to clicking the button, and we check that the count got from 0 to 1:</p> <pre><code>test('+1 Button works', () =&gt; {\n  count = 0\n  const { container } = render(\n    &lt;Button increment={1} onClickFunction={incrementCount} /&gt;\n  )\n  const button = container.firstChild\n  expect(button.textContent).toBe('+1')\n  expect(count).toBe(0)\n  fireEvent.click(button)\n  expect(count).toBe(1)\n})\n</code></pre> <p>Similarly we test a +100 button, this time checking the output is <code>+100</code> and the button click increments the count of 100.</p> <pre><code>test('+100 Button works', () =&gt; {\n  count = 0\n  const { container } = render(\n    &lt;Button increment={100} onClickFunction={incrementCount} /&gt;\n  )\n  const button = container.firstChild\n  expect(button.textContent).toBe('+100')\n  expect(count).toBe(0)\n  fireEvent.click(button)\n  expect(count).toBe(100)\n})\n</code></pre> <p>Let\u2019s test the App component now. It shows 4 buttons and the result in the page. We can inspect each button and see if the result increases when we click them, clicking multiple times as well:</p> <pre><code>import React from 'react'\nimport { render, fireEvent } from 'react-testing-library'\nimport App from './App'\n\ntest('App works', () =&gt; {\n  const { container } = render(&lt;App /&gt;)\n  console.log(container)\n  const buttons = container.querySelectorAll('button')\n\n  expect(buttons[0].textContent).toBe('+1')\n  expect(buttons[1].textContent).toBe('+10')\n  expect(buttons[2].textContent).toBe('+100')\n  expect(buttons[3].textContent).toBe('+1000')\n\n  const result = container.querySelector('span')\n  expect(result.textContent).toBe('0')\n  fireEvent.click(buttons[0])\n  expect(result.textContent).toBe('1')\n  fireEvent.click(buttons[1])\n  expect(result.textContent).toBe('11')\n  fireEvent.click(buttons[2])\n  expect(result.textContent).toBe('111')\n  fireEvent.click(buttons[3])\n  expect(result.textContent).toBe('1111')\n  fireEvent.click(buttons[2])\n  expect(result.textContent).toBe('1211')\n  fireEvent.click(buttons[1])\n  expect(result.textContent).toBe('1221')\n  fireEvent.click(buttons[0])\n  expect(result.textContent).toBe('1222')\n})\n</code></pre> <p>Check the code working on this CodeSandbox: https://codesandbox.io/s/pprl4y0wq</p> <p>Download my free React Handbook and check out my React Masterclass!</p>"},{"location":"react/todo-VS%20Code%20%E5%BF%AB%E6%8D%B7%E8%BE%93%E5%85%A5/","title":"ES7 React/Redux/React-Native/JS snippets","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 12705  \u9605\u8bfb26\u5206\u949f</p> <p>Version Install Downloads Ratings</p> <p>This extension provides you JavaScript and React/Redux snippets in ES7 with Babel plugin features for VS Code</p> <p>Search command You can search through snippets with ES7 snippet search command which can be run with CMD + Shift + P or just use CMD + Shift + R keybinding.</p> <p>Here is direct link to marketplace ES7 React/Redux/React-Native/JS Snippets</p> <p>Supported languages (file extensions) JavaScript (.js) JavaScript React (.jsx) TypeScript (.ts) TypeScript React (.tsx) Snippets info Every space inside { } and ( ) means that this is pushed into next line :) $ represent each step after tab.</p> <p>TypeScript has own components and own snippets. Use search or just type ts before every component snippet.</p> <p>ES6 \u57fa\u672c\u65b9\u6cd5</p> <pre><code>Prefix  Method\nimp\u2192    import moduleName from 'module'\nimn\u2192    import 'module'\nimd\u2192    import { destructuredModule } from 'module'\nime\u2192    import * as alias from 'module'\nima\u2192    import { originalName as aliasName} from 'module'\nexp\u2192    export default moduleName\nexd\u2192    export { destructuredModule } from 'module'\nexa\u2192    export { originalName as aliasName} from 'module'\nenf\u2192    export const functionName = (params) =&gt; { }\nedf\u2192    export default (params) =&gt; { }\nmet\u2192    methodName = (params) =&gt; { }\nfre\u2192    arrayName.forEach(element =&gt; { }\nfof\u2192    for(let itemName of objectName { }\nfin\u2192    for(let itemName in objectName { }\nanfn\u2192   (params) =&gt; { }\nnfn\u2192    const functionName = (params) =&gt; { }\ndob\u2192    const {propName} = objectToDescruct\ndar\u2192    const [propName] = arrayToDescruct\nsti\u2192    setInterval(() =&gt; { }, intervalTime\nsto\u2192    setTimeout(() =&gt; { }, delayTime\nprom\u2192   return new Promise((resolve, reject) =&gt; { }\ncmmb\u2192   comment block\ncp\u2192 const { } = this.props\ncs\u2192 const { } = this.state\n</code></pre> <p>React</p> <pre><code>Prefix  Method\nimr\u2192    import React from 'react'\nimrd\u2192   import ReactDOM from 'react-dom'\nimrc\u2192   import React, { Component } from 'react'\nimrcp\u2192  import React, { Component } from 'react' &amp; import PropTypes from 'prop-types'\nimrpc\u2192  import React, { PureComponent } from 'react'\nimrpcp\u2192 import React, { PureComponent } from 'react' &amp; import PropTypes from 'prop-types'\nimrm\u2192   import React, { memo } from 'react'\nimrmp\u2192  import React, { memo } from 'react' &amp; import PropTypes from 'prop-types'\nimpt\u2192   import PropTypes from 'prop-types'\nimrr\u2192   import { BrowserRouter as Router, Route, Link } from 'react-router-dom'\nredux\u2192  import { connect } from 'react-redux'\nrconst\u2192 constructor(props) with this.state\nrconc\u2192  constructor(props, context) with this.state\nest\u2192    this.state = { }\ncwm\u2192    componentWillMount = () =&gt; { } DEPRECATED!!!\ncdm\u2192    componentDidMount = () =&gt; { }\ncwr\u2192    componentWillReceiveProps = (nextProps) =&gt; { } DEPRECATED!!!\nscu\u2192    shouldComponentUpdate = (nextProps, nextState) =&gt; { }\ncwup\u2192   componentWillUpdate = (nextProps, nextState) =&gt; { } DEPRECATED!!!\ncdup\u2192   componentDidUpdate = (prevProps, prevState) =&gt; { }\ncwun\u2192   componentWillUnmount = () =&gt; { }\ngdsfp\u2192  static getDerivedStateFromProps(nextProps, prevState) { }\ngsbu\u2192   getSnapshotBeforeUpdate = (prevProps, prevState) =&gt; { }\nren\u2192    render() { return( ) }\nsst\u2192    this.setState({ })\nssf\u2192    this.setState((state, props) =&gt; return { })\nprops\u2192  this.props.propName\nstate\u2192  this.state.stateName\nrcontext\u2192   const {1:contextName} = React.createContext()\ncref\u2192   this.{1:refName}Ref = React.createRef()\nfref\u2192   const ref = React.createRef()\nbnd\u2192    this.methodName = this.methodName.bind(this)\nReact Hooks\nAll hooks from official docs are added with hook name prefix.\n</code></pre> <p>React Native</p> <pre><code>Prefix  Method\nimrn\u2192   import { 1 } from 'react-native'\nrnstyle\u2192    const styles = StyleSheet.create({})\n</code></pre> <p>Redux</p> <pre><code>Prefix  Method\nrxaction\u2192   redux action template\nrxconst\u2192    export const 1 = '$1'\nrxreducer\u2192  redux reducer template\nrxselect\u2192   redux selector template\n</code></pre> <p>PropTypes</p> <pre><code>Prefix  Method\npta\u2192    PropTypes.array\nptar\u2192   PropTypes.array.isRequired\nptb\u2192    PropTypes.bool\nptbr\u2192   PropTypes.bool.isRequired\nptf\u2192    PropTypes.func\nptfr\u2192   PropTypes.func.isRequired\nptn\u2192    PropTypes.number\nptnr\u2192   PropTypes.number.isRequired\npto\u2192    PropTypes.object\nptor\u2192   PropTypes.object.isRequired\npts\u2192    PropTypes.string\nptsr\u2192   PropTypes.string.isRequired\nptnd\u2192   PropTypes.node\nptndr\u2192  PropTypes.node.isRequired\nptel\u2192   PropTypes.element\nptelr\u2192  PropTypes.element.isRequired\npti\u2192    PropTypes.instanceOf(name)\nptir\u2192   PropTypes.instanceOf(name).isRequired\npte\u2192    PropTypes.oneOf([name])\npter\u2192   PropTypes.oneOf([name]).isRequired\nptet\u2192   PropTypes.oneOfType([name])\nptetr\u2192  PropTypes.oneOfType([name]).isRequired\nptao\u2192   PropTypes.arrayOf(name)\nptaor\u2192  PropTypes.arrayOf(name).isRequired\nptoo\u2192   PropTypes.objectOf(name)\nptoor\u2192  PropTypes.objectOf(name).isRequired\nptsh\u2192   PropTypes.shape({ })\nptshr\u2192  PropTypes.shape({ }).isRequired\nptany\u2192  PropTypes.any\nptypes\u2192 static propTypes = {}\n</code></pre> <p>\u5176\u4ed6</p> <p>Console</p> <pre><code>Prefix  Method\nclg\u2192    console.log(object)\nclo\u2192    console.log(\"object\", object)\nctm\u2192    console.time(\"timeId\")\ncte\u2192    console.timeEnd(\"timeId\")\ncas\u2192    console.assert(expression,object)\nccl\u2192    console.clear()\ncco\u2192    console.count(label)\ncdi\u2192    console.dir\ncer\u2192    console.error(object)\ncgr\u2192    console.group(label)\ncge\u2192    console.groupEnd()\nctr\u2192    console.trace(object)\ncwa\u2192    console.warn\ncin\u2192    console.info\n</code></pre> <pre><code>GraphQL\n|graphql\u2192|import { compose, graphql } from 'react-apollo'|\n\nexpgql\nexport default compose(graphql($1, { name: $2 }))($3)\n\n\n\nReact Components\nrcc\nimport React, { Component } from 'react'\n\nexport default class FileName extends Component {\n  render() {\n    return &lt;div&gt;$2&lt;/div&gt;\n  }\n}\nrce\nimport React, { Component } from 'react'\n\nexport class FileName extends Component {\n  render() {\n    return &lt;div&gt;$2&lt;/div&gt;\n  }\n}\n\nexport default $1\nrcep\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nexport class FileName extends Component {\n  static propTypes = {}\n\n  render() {\n    return &lt;div&gt;$2&lt;/div&gt;\n  }\n}\n\nexport default $1\nrpc\nimport React, { PureComponent } from 'react'\n\nexport default class FileName extends PureComponent {\n  render() {\n    return &lt;div&gt;$2&lt;/div&gt;\n  }\n}\nrpcp\nimport React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\n\nexport default class FileName extends PureComponent {\n  static propTypes = {}\n\n  render() {\n    return &lt;div&gt;$2&lt;/div&gt;\n  }\n}\nrpce\nimport React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\n\nexport class FileName extends PureComponent {\n  static propTypes = {}\n\n  render() {\n    return &lt;div&gt;$2&lt;/div&gt;\n  }\n}\n\nexport default FileName\nrccp\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nexport default class FileName extends Component {\n  static propTypes = {\n    $2: $3\n  }\n\n  render() {\n    return &lt;div&gt;$4&lt;/div&gt;\n  }\n}\nrfcp\nimport React from 'react'\nimport PropTypes from 'prop-types'\n\nfunction $1(props) {\n  return &lt;div&gt;$0&lt;/div&gt;\n}\n\n$1.propTypes = {}\n\nexport default $1\nrfc\nimport React from 'react'\n\nexport default function $1() {\n  return &lt;div&gt;$0&lt;/div&gt;\n}\nrfce\nimport React from 'react'\n\nfunction $1() {\n  return &lt;div&gt;$0&lt;/div&gt;\n}\n\nexport default $1\nrafcp\nimport React from 'react'\nimport PropTypes from 'prop-types'\n\nconst $1 = props =&gt; {\n  return &lt;div&gt;$0&lt;/div&gt;\n}\n\n$1.propTypes = {}\n\nexport default $1\nrafc\nimport React from 'react'\n\nconst $1 = () =&gt; {\n  return &lt;div&gt;$0&lt;/div&gt;\n}\n\nexport default $1\nrafce\nimport React from 'react'\n\nconst $1 = () =&gt; {\n  return &lt;div&gt;$0&lt;/div&gt;\n}\n\nexport default $1\nrmc\nimport React, { memo } from 'react'\n\nexport default memo(function $1() {\n  return &lt;div&gt;$0&lt;/div&gt;\n})\nrmcp\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst $1 = memo(function $1(props) {\n  return &lt;div&gt;$0&lt;/div&gt;\n})\n\n$1.propTypes = {}\n\nexport default $1\nrcredux\nimport React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nexport class FileName extends Component {\n  render() {\n    return &lt;div&gt;$4&lt;/div&gt;\n  }\n}\n\nconst mapStateToProps = state =&gt; ({})\n\nconst mapDispatchToProps = {}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(FileName)\nrcreduxp\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nexport class FileName extends Component {\n  static propTypes = {\n    $2: $3\n  }\n\n  render() {\n    return &lt;div&gt;$4&lt;/div&gt;\n  }\n}\n\nconst mapStateToProps = state =&gt; ({})\n\nconst mapDispatchToProps = {}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(FileName)\nreduxmap\nconst mapStateToProps = state =&gt; ({})\n\nconst mapDispatchToProps = {}\nReact Native Components\nrnc\nimport React, { Component } from 'react'\nimport { Text, View } from 'react-native'\n\nexport default class FileName extends Component {\n  render() {\n    return (\n      &lt;View&gt;\n        &lt;Text&gt; $2 &lt;/Text&gt;\n      &lt;/View&gt;\n    )\n  }\n}\nrnf\nimport React from 'react'\nimport { View, Text } from 'react-native'\n\nconst $1 = () =&gt; {\n  return (\n    &lt;View&gt;\n      &lt;Text&gt; $2 &lt;/Text&gt;\n    &lt;/View&gt;\n  )\n}\n\nexport default $1\nrncs\nimport React, { Component } from 'react'\nimport { Text, StyleSheet, View } from 'react-native'\n\nexport default class FileName extends Component {\n  render() {\n    return (\n      &lt;View&gt;\n        &lt;Text&gt; $2 &lt;/Text&gt;\n      &lt;/View&gt;\n    )\n  }\n}\n\nconst styles = StyleSheet.create({})\nrnce\nimport React, { Component } from 'react'\nimport { Text, View } from 'react-native'\n\nexport class FileName extends Component {\n  render() {\n    return (\n      &lt;View&gt;\n        &lt;Text&gt; $2 &lt;/Text&gt;\n      &lt;/View&gt;\n    )\n  }\n}\n\nexport default $1\nrncredux\nimport React, { Component } from 'react'\nimport { View, Text } from 'react-native'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nexport class FileName extends Component {\n  static propTypes = {\n    $2: $3\n  }\n\n  render() {\n    return (\n      &lt;View&gt;\n        &lt;Text&gt; $2 &lt;/Text&gt;\n      &lt;/View&gt;\n    )\n  }\n}\n\nconst mapStateToProps = state =&gt; ({})\n\nconst mapDispatchToProps = {}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(FileName)\nOthers\ncmmb\n/**\n|--------------------------------------------------\n| $1\n|--------------------------------------------------\n*/\ndesc\ndescribe('$1', () =&gt; {\n  $2\n})\ntest\ntest('should $1', () =&gt; {\n  $2\n})\ntit\nit('should $1', () =&gt; {\n  $2\n})\nstest\nimport React from 'react'\nimport renderer from 'react-test-renderer'\n\nimport { ${1:ComponentName} } from '../${1:ComponentName}'\n\ndescribe('&lt;${1:ComponentName} /&gt;', () =&gt; {\n  const defaultProps = {}\n  const wrapper = renderer.create(&lt;${1:ComponentName} {...defaultProps} /&gt;)\n\n  test('render', () =&gt; {\n    expect(wrapper).toMatchSnapshot()\n  })\n})\nsrtest\nimport React from 'react'\nimport renderer from 'react-test-renderer'\nimport { Provider } from 'react-redux'\n\nimport store from 'src/store'\nimport { ${1:ComponentName} } from '../${1:ComponentName}'\n\ndescribe('&lt;${1:ComponentName} /&gt;', () =&gt; {\n  const defaultProps = {}\n  const wrapper = renderer.create(\n    &lt;Provider store={store}&gt;\n      &lt;${1:${TM_FILENAME_BASE}} {...defaultProps} /&gt;)\n    &lt;/Provider&gt;,\n  )\n\n  test('render', () =&gt; {\n    expect(wrapper).toMatchSnapshot()\n  })\n})\nsntest\nimport 'react-native'\nimport React from 'react'\nimport renderer from 'react-test-renderer'\n\nimport ${1:ComponentName} from '../${1:ComponentName}'\n\ndescribe('&lt;${1:ComponentName} /&gt;', () =&gt; {\n  const defaultProps = {\n\n  }\n\n  const wrapper = renderer.create(&lt;${1:ComponentName} {...defaultProps} /&gt;)\n\n  test('render', () =&gt; {\n    expect(wrapper).toMatchSnapshot()\n  })\n})\n\nsnrtest\n</code></pre> <pre><code>import 'react-native'\nimport React from 'react'\nimport renderer from 'react-test-renderer'\nimport { Provider } from 'react-redux'\n\nimport store from 'src/store/configureStore'\nimport {1:ComponentName} from '../{1:ComponentName}'\n\ndescribe('&lt;${1:ComponentName} /&gt;', () =&gt; {\n  const defaultProps = {}\n  const wrapper = renderer.create(\n    &lt;Provider store={store}&gt;\n      &lt;${1:ComponentName} {...defaultProps} /&gt;\n    &lt;/Provider&gt;,\n  )\n\n  test('render', () =&gt; {\n    expect(wrapper).toMatchSnapshot()\n  })\n})\n</code></pre> <p>hocredux</p> <pre><code>import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nexport const mapStateToProps = state =&gt; ({\n})\n\nexport const mapDispatchToProps = {\n}\n\nexport const ${1:hocComponentName} = (WrappedComponent) =&gt; {\n  const hocComponent = ({ ...props }) =&gt; &lt;WrappedComponent {...props} /&gt;\n  hocComponent.propTypes = {\n  }\n  return hocComponent\n}\n\nexport default WrapperComponent =&gt; connect(mapStateToProps, mapDispatchToProps)(${1:hocComponentName}(WrapperComponent))\n</code></pre> <p>hoc</p> <pre><code>import React from 'react'\nimport PropTypes from 'prop-types'\n\nexport default WrappedComponent =&gt; {\n  const hocComponent = ({ ...props }) =&gt; &lt;WrappedComponent {...props} /&gt;\n  hocComponent.propTypes = {}\n  return hocComponent\n}\n</code></pre>"},{"location":"react/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4Suspense%E6%98%AF%E4%B8%80%E7%A7%8D%E5%B7%A8%E5%A4%A7%E7%9A%84%E7%AA%81%E7%A0%B4/","title":"\u4e3a\u4ec0\u4e48\u8bf4Suspense\u662f\u4e00\u79cd\u5de8\u5927\u7684\u7a81\u7834","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 21964  \u9605\u8bfb44\u5206\u949f</p> <p>\u6765\u6e90\uff1a</p> <p>https://medium.com/react-in-depth/why-react-suspense-will-be-a-game-changer-37b40fea71ecmedium.com/react-in-depth/why-react-suspense-will-be-a-game-changer-37b40fea71ec</p> <p>\u8fd9\u7bc7\u6587\u7ae0\u4e0d\u4f1a\u6df1\u5165\u7814\u7a76React Suspense\u7684\u6280\u672f\u7ec6\u8282\u4ee5\u53ca\u5b83\u5982\u4f55\u5728\u5e55\u540e\u5de5\u4f5c\uff0c\u5df2\u7ecf\u6709\u5f88\u591a\u5f88\u68d2\u7684\u535a\u5ba2\u6587\u7ae0\uff0c\u89c6\u9891\u548c\u4f1a\u8bae\u6f14\u8bb2\u3002\u76f8\u53cd\uff0c\u6211\u60f3\u66f4\u591a\u5730\u5173\u6ce8Suspense\u5bf9\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u4eba\u5458\u7684\u5f71\u54cd\uff0c\u5c31\u50cf\u6211\u4eec\u5982\u4f55\u8003\u8651\u5e94\u7528\u4e2d\u7684\u52a0\u8f7d\u72b6\u6001\u548c\u67b6\u6784\u4e00\u6837\u3002</p>"},{"location":"react/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4Suspense%E6%98%AF%E4%B8%80%E7%A7%8D%E5%B7%A8%E5%A4%A7%E7%9A%84%E7%AA%81%E7%A0%B4/#_1","title":"\u7b80\u5355\u7684\u4ecb\u7ecd","text":"<p>\u4e3a\u4e86\u8ba9\u6240\u6709\u6ca1\u6709\u542c\u8bf4\u8fc7Suspense\u6216\u8005\u4e0d\u77e5\u9053\u5b83\u662f\u4ec0\u4e48\u7684\u4eba\u66f4\u597d\u7684\u7406\u89e3\uff0c\u6211\u4ecd\u7136\u60f3\u8981\u7b80\u5355\u7684\u4ecb\u7ecd\u4e00\u4e0bSuspense\u3002</p> <p>\u53bb\u5e74\uff0cDan Abramov\u5728JSConf\u51b0\u5c9b\u63d0\u51faSuspense\uff0c\u5728\u5904\u7406React\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u5f02\u6b65\u6570\u636e\u83b7\u53d6\u65f6\uff0cSuspense\u88ab\u8ba4\u4e3a\u662f\u4e00\u79cd\u63d0\u5347\u5f00\u53d1\u8005\u5f00\u53d1\u4f53\u9a8c\u7684\u5de8\u5927\u6539\u8fdb\u3002\u8fd9\u662f\u4e00\u4e2a\u5de8\u5927\u7684\u53d8\u5316\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u6b63\u5728\u6784\u5efa\u52a8\u6001Web\u5e94\u7528\u7a0b\u5e8f\u7684\u4eba\u90fd\u77e5\u9053\uff0c\u8fd9\u4ecd\u7136\u662f\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u4e3b\u8981\u7684\u75db\u70b9\u4e4b\u4e00\uff0c\u540c\u6837\u4e5f\u4f1a\u4ea7\u751f\u8bb8\u591a\u7684\u6837\u677f\u4ee3\u7801\u3002</p> <p>\u540c\u65f6\uff0cSuspense\u4e5f\u6539\u53d8\u4e86\u6211\u4eec\u601d\u8003\u52a0\u8f7d\u72b6\u6001\u7684\u65b9\u5f0f\uff0c\u5373\u6211\u4eec\u4e0d\u5e94\u8be5\u5c06fetching component\u6216data source\u8026\u5408\uff0c\u800c\u662f\u5e94\u8be5\u66f4\u591a\u7684\u5173\u6ce8UI(\u5c06\u6570\u636e\u83b7\u53d6\u8fd9\u4e9b\u5185\u5bb9\u4ea4\u7ed9React\u6846\u67b6\u53bb\u5904\u7406)\u3002\u4e3a\u4e86\u63d0\u5347\u7528\u6237\u4f53\u9a8c\uff0c\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u5e94\u8be5\u5728\u5408\u9002\u7684\u65f6\u673a\u5c55\u793aspinners(loading)\uff0cSuspense\u5c06\u6709\u52a9\u4e8e\u5c06\u8fd9\u90e8\u5206\u5185\u5bb9\u89e3\u8026\u3002</p> <p></p> <p>Suspense\u4e0d\u4ec5\u80fd\u7528\u4e8eAPI\u6570\u636e\u63d0\u53d6\u8303\u56f4\uff0c\u8fd8\u53ef\u4ee5\u5e94\u7528\u4e8e\u4efb\u4f55\u5f02\u6b65\u6570\u636e\u6d41\uff0c\u4f8b\u5982\uff0ccode split\u6216assents loading\u3002 React.lazy\u4e0eSuspense\u7279\u6027\u5df2\u7ecf\u5728React\u7a33\u5b9a\u7248\u672c\u4e2d\u53d1\u5e03\uff0c\u5176\u5141\u8bb8\u7528\u6237\u8f7b\u677e\u5bf9\u52a8\u6001\u52a0\u8f7dbundle\u8fdb\u884c\u62c6\u5206\uff0c\u800c\u65e0\u9700\u624b\u52a8\u5904\u7406\u52a0\u8f7d\u72b6\u6001\u3002\u5305\u542b\u6570\u636e\u83b7\u53d6\u529f\u80fd\u7684Suspense\u5b8c\u5168\u7248\u672c\u5fc5\u987b\u7b49\u5230\u4eca\u5e74\u665a\u4e9b\u65f6\u5019\uff0c\u4f46\u5df2\u7ecf\u53ef\u4ee5\u901a\u8fc7\u5f53\u524d\u7684alpha\u7248\u672c\u8fdb\u884c\u4f53\u9a8c\u3002</p> <p>\u901a\u5e38\u7684\u60f3\u6cd5\u662f\uff0c Suspense\u5141\u8bb8\u7ec4\u4ef6\u201csuspend\u201d\u5b83\u4eec\u7684\u6e32\u67d3\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4ed6\u4eec\u9700\u8981\u4ece\u5916\u90e8\u6765\u6e90\u52a0\u8f7d\u989d\u5916\u6570\u636e\uff0c\u4e00\u65e6\u6240\u6709\u4f9d\u8d56\u7684\u8d44\u6e90(\u6570\u636e\u6216\u8d44\u6e90\u6587\u4ef6)\u90fd\u5b58\u5728\u4e86\uff0cReact\u5c06\u91cd\u65b0\u5c1d\u8bd5\u6e32\u67d3\u7ec4\u4ef6\u3002</p> <p>\u4e3a\u4e86\u5b9e\u73b0\u4e0a\u9762\u63cf\u8ff0\u7684\u529f\u80fd\uff0cReact\u4f7f\u7528Promises\u3002\u7ec4\u4ef6\u53ef\u4ee5\u5728\u5176render\u65b9\u6cd5\u4e2d\u629b\u51faPromise\uff08\u6216\u8005\u5728\u7ec4\u4ef6\u6e32\u67d3\u671f\u95f4\u8c03\u7528\u7684\u4efb\u4f55\u4e1c\u897f\uff0c\u4f8b\u5982\u65b0\u7684\u9759\u6001\u65b9\u6cd5getDerivedStateFromProps); React\u6355\u83b7\u629b\u51fa\u7684Promise\u5e76\u5728\u7ec4\u4ef6\u6811\u4e0a\u67e5\u627e\u6700\u63a5\u8fd1\u7684Suspense\u7ec4\u4ef6\uff0c\u5b83\u5145\u5f53\u4e00\u79cd\u8fb9\u754c\uff1bSuspense\u7ec4\u4ef6\u63a5\u53d7\u4e00\u4e2a\u7ec4\u4ef6\u4f5c\u4e3afallback prop\uff0c\u5f53\u5176\u5b50\u6811\u4e2d\u7684\u4efb\u4f55\u5b50\u9879\u88ab\u6302\u8d77\u65f6\uff0c\u90fd\u4f1a\u5448\u73b0\u8be5\u5143\u7d20\u3002</p> <p>React\u8fd8\u4f1a\u8ddf\u8e2a\u629b\u51fa\u7684Promise\u3002\u4e00\u65e6promise\u88abresolve\u4e86\uff0c\u5c31\u4f1a\u518d\u6b21\u6e32\u67d3\u7ec4\u4ef6\u3002\u8fd9\u5047\u5b9a\u7531\u4e8ePromise\u88abresolve\uff0c\u88absuspend\u7684\u7ec4\u4ef6\u73b0\u5728\u5df2\u7ecf\u83b7\u53d6\u4e86\u80fd\u591f\u6b63\u786e\u6e32\u67d3\u6240\u9700\u7684\u6240\u6709\u4fe1\u606f\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u4f7f\u7528\u67d0\u79cd\u5f62\u5f0f\u7684\u7f13\u5b58\u6765\u5b58\u50a8\u6570\u636e\uff0c\u5728\u6bcf\u6b21\u6e32\u67d3\u65f6\uff0c\u6211\u4eec\u901a\u8fc7\u8fd9\u4e2a\u7f13\u5b58\u6765\u786e\u5b9a\u6570\u636e\u662f\u5426\u5df2\u7ecf\u53ef\u7528\uff08\u7136\u540e\u5b83\u53ea\u662f\u4ece\u53d8\u91cf\u4e2d\u8bfb\u53d6\u5b83), \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5b83\u4f1a\u89e6\u53d1fetch,\u5e76\u629b\u51faPromise\u7684\u7ed3\u679c\u6765\u8ba9React\u6355\u83b7\u3002\u5982\u4e0a\u6240\u8ff0\uff0c\u8fd9\u4e0d\u4ec5\u9002\u7528\u4e8edata fetching\uff0c\u4efb\u4f55\u53ef\u4ee5\u4f7f\u7528Promise\u63cf\u8ff0\u7684\u5f02\u6b65\u64cd\u4f5c\u90fd\u9002\u7528\uff0ccode split\u662f\u4e00\u4e2a\u975e\u5e38\u660e\u663e\u548c\u6d41\u884c\u7684\u4f8b\u5b50\u3002</p> <p>Suspense\u7684\u6838\u5fc3\u6982\u5ff5\u4e0eerror boundaries\u975e\u5e38\u76f8\u4f3c\uff0cerror boundaries\u5728React 16\u4e2d\u5f15\u5165\uff0c\u5141\u8bb8\u5728\u5e94\u7528\u7a0b\u5e8f\u5185\u7684\u4efb\u4f55\u4f4d\u7f6e\u6355\u83b7\u672a\u6355\u83b7\u7684\u5f02\u5e38\uff0c\u7136\u540e\u5728\u7ec4\u4ef6\u6811\u4e2d\u5c55\u793a\u8ddf\u9519\u8bef\u4fe1\u606f\u76f8\u5173\u7684\u7ec4\u4ef6\u3002\u4ee5\u540c\u6837\u7684\u65b9\u5f0f\uff0cSuspense\u7ec4\u4ef6\u4ece\u5176\u5b50\u8282\u70b9\u6355\u83b7\u4efb\u4f55\u629b\u51fa\u7684Promises\uff0c\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u5bf9\u4e8eSuspense\u6211\u4eec\u4e0d\u5fc5\u4f7f\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u5145\u5f53\u8fb9\u754c\uff0cSuspense\u7ec4\u4ef6\u5c31\u662f\u90a3\u4e2a\u8fb9\u754c\uff1b\u800c\u5728error boundary\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u4e3a\u8fb9\u754c\u7ec4\u4ef6\u5b9a\u4e49(componentDidCatch)\u65b9\u6cd5\u3002</p> <p>\u8fd9\u4e00\u6574\u5957\u65b9\u6cd5\u5927\u5927\u7b80\u5316\u4e86\u6211\u4eec\u8003\u8651\u5e94\u7528\u7a0b\u5e8f\u52a0\u8f7d\u72b6\u6001\u7684\u65b9\u5f0f\uff0c\u964d\u4f4e\u4e86\u5f00\u53d1\u4eba\u5458\u7684\u5fc3\u667a\u8d1f\u62c5\u3002</p> <p>\u5bf9\u4e8e\u5927\u591a\u6570\u5e94\u7528\u5f00\u53d1\u8005\u800c\u8a00\uff0c\u4ed6\u4eec\u901a\u5e38\u4e0d\u8003\u8651\u6570\u636e\u6e90\uff0c\u800c\u662f\u8003\u8651\u63a5\u53e3\u6216\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u903b\u8f91\u548c\u4fe1\u606f\u5c42\u6b21\u7ed3\u6784\u3002\u800c\u4e14\u60a8\u77e5\u9053\u8fd8\u6709\u8c01\u4e0d\u5173\u5fc3\u60a8\u7684\u6570\u636e\u6765\u6e90\u5417\uff1f\u7528\u6237\u3002\u6ca1\u6709\u4eba\u559c\u6b22\u5177\u6709\u6570\u5343\u4e2a\u72ec\u7acbloading\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u5176\u4e2d\u4e00\u4e9b\u53ea\u95ea\u70c1\u51e0\u6beb\u79d2\uff0c\u9875\u9762\u5185\u5bb9\u5728\u6570\u636e\u8bf7\u6c42\u7684\u8fc7\u7a0b\u4e2d\u4f1a\u53d1\u751f\u8df3\u52a8\u3002</p>"},{"location":"react/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4Suspense%E6%98%AF%E4%B8%80%E7%A7%8D%E5%B7%A8%E5%A4%A7%E7%9A%84%E7%AA%81%E7%A0%B4/#suspense_1","title":"\u6240\u4ee5\u4e3a\u4ec0\u4e48Suspense\u662f\u4e00\u79cd\u5de8\u5927\u7684\u7a81\u7834\u5462\uff1f","text":"<p>\u8981\u4e86\u89e3\u8fd9\u4e2a\u95ee\u9898\uff0c\u8ba9\u6211\u4eec\u6765\u770b\u770b\uff0c\u76ee\u524d\u5982\u4f55\u5728\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5904\u7406\u6570\u636e\u63d0\u53d6\u3002 \u6700\u539f\u59cb\u7684\u65b9\u6cd5\u662f\u5c06\u6240\u6709\u5fc5\u9700\u7684\u4fe1\u606f\u5b58\u50a8\u4e3a\u672c\u5730\u72b6\u6001\uff0c\u8fd9\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a</p> <pre><code>class DynamicData extends Component {\n  state = {\n    loading: true,\n    error: null,\n    data: null\n  };\n\n  componentDidMount () {\n    fetchData(this.props.id)\n      .then((data) =&gt; {\n        this.setState({\n          loading: false,\n          data\n        });\n      })\n      .catch((error) =&gt; {\n        this.setState({\n          loading: false,\n          error: error.message\n        });\n      });\n  }\n\n  componentDidUpdate (prevProps) {\n    if (this.props.id !== prevProps.id) {\n      this.setState({ loading: true }, () =&gt; {\n        fetchData(this.props.id)\n          .then((data) =&gt; {\n            this.setState({\n              loading: false,\n              data\n            });\n          })\n          .catch((error) =&gt; {\n            this.setState({\n              loading: false,\n              error: error.message\n            });\n          });\n      });\n    }\n  }\n\n  render () {\n    const { loading, error, data } = this.state;\n    return loading ? (\n      &lt;p&gt;Loading...&lt;/p&gt;\n    ) : error ? (\n      &lt;p&gt;Error: {error}&lt;/p&gt;\n    ) : (\n      &lt;p&gt;Data loaded  &lt;/p&gt;\n    );\n  }\n}\n</code></pre> <p>\u6211\u4eec\u5728\u7ec4\u4ef6mount\u65f6\u83b7\u53d6\u6570\u636e\uff0c\u5e76\u4fee\u6539state\uff1b\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u901a\u8fc7local state\u6765\u8ddf\u8e2a\u9519\u8bef\u548c\u52a0\u8f7d\u72b6\u6001\u3002\u8fd9\u770b\u8d77\u6765\u5f88\u719f\u6089\u5417\uff1f\u5373\u4f7f\u4f60\u6ca1\u6709\u4f7f\u7528\u672c\u5730\u7684state\uff0c\u4e5f\u53ef\u80fd\u662f\u67d0\u79cd\u62bd\u8c61\uff0c\u4f46\u4f60\u4ecd\u7136\u9700\u8981\u5199\u5f88\u591a\u7684\u4e09\u5143\u8868\u8fbe\u5f0f\u6765\u5904\u7406\u8fd9\u4e9b\u72b6\u6001\u3002</p> <p>\u6211\u4e0d\u4f1a\u8bf4\u8fd9\u79cd\u65b9\u6cd5\u672c\u8eab\u662f\u4e0d\u597d\u7684\uff08\u5b83\u80fd\u591f\u6ee1\u8db3\u7b80\u5355\u7528\u4f8b\u7684\u9700\u8981\uff0c\u800c\u4e14\u6211\u4eec\u663e\u7136\u53ef\u4ee5\u8f7b\u677e\u5730\u5bf9\u5176\u8fdb\u884c\u4f18\u5316\uff0c\u4f8b\u5982\u5c06\u5b9e\u9645\u7684data fetcing\u62bd\u8c61\u5230\u5355\u72ec\u7684\u65b9\u6cd5\u4e2d\uff09\u3002\u4f46\u662f\u8fd9\u79cd\u65b9\u5f0f\u8981\u60f3\u89c4\u6a21\u5316(scale)\u975e\u5e38\u96be\uff0c\u5f00\u53d1\u4f53\u9a8c\u4e5f\u5f88\u7cdf\u7cd5\u3002\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u8fd9\u79cd\u65b9\u5f0f\u6709\u5982\u4e0b\u51e0\u4e2a\u95ee\u9898\uff1a</p> <ul> <li>\u4e11\u964b\u7684\u4e09\u5143\u8868\u8fbe\u5f0f\u2192\u7cdf\u7cd5\u7684DX\uff1a \u52a0\u8f7d\u548c\u9519\u8bef\u72b6\u6001\u662f\u901a\u8fc7\u6e32\u67d3\u4e2d\u7684\u4e09\u5143\u7ec4\u5b9a\u4e49\u7684\uff0c\u4ece\u800c\u4f7f\u4ee3\u7801\u4e0d\u5fc5\u8981\u5730\u590d\u6742\u5316\u3002\u6211\u4eec\u4e0d\u662f\u63cf\u8ff0\u4e86\u4e00\u4e2a\u6e32\u67d3\u51fd\u6570\uff0c\u6211\u4eec\u63cf\u8ff0\u4e86\u4e09\u4e2a\u3002</li> <li>\u6837\u677f\u4ee3\u7801\u2192\u574fDX\uff1a \u5904\u7406\u6240\u6709\u8fd9\u4e9b\u72b6\u6001\u5e26\u6765\u4e86\u8bb8\u591a\u6837\u677f\u4ee3\u7801\uff1a\u5728mount\u7684\u65f6\u5019\u89e6\u53d1fetch\uff0c\u66f4\u65b0loading\u72b6\u6001\uff1b\u5e76\u5728\u6210\u529f\u65f6\u5c06\u6570\u636e\u5b58\u50a8\u5728state\u4e2d\uff0c\u6216\u5728\u5931\u8d25\u65f6\u5b58\u50a8\u9519\u8bef\u4fe1\u606f\u3002\u6211\u4eec\u9700\u8981\u4e3a\u4f7f\u7528\u5916\u90e8\u6570\u636e\u7684\u6bcf\u4e2a\u7ec4\u4ef6\u91cd\u590d\u6b64\u64cd\u4f5c\u3002</li> <li>\u53d7\u9650\u6570\u636e\u548c\u52a0\u8f7d\u72b6\u6001\u2192\u7cdf\u7cd5\u7684DX\u548cUX\uff1a \u72b6\u6001\u88ab\u5904\u7406\u5e76\u5b58\u50a8\u5728\u7ec4\u4ef6\u4e2d\uff0c\u8fd9\u610f\u5473\u7740\u6211\u4eec\u5c06\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5c55\u793a\u5927\u91cf\u7684loading\uff1b\u5e76\u4e14\u5982\u679c\u6211\u4eec\u6709\u4f9d\u8d56\u4e8e\u76f8\u540c\u6570\u636e\u7684\u4e0d\u540c\u7ec4\u4ef6\uff0c\u5219\u4f1a\u5bf9\u76f8\u540c\u7684endpoint\u8fdb\u884c\u591a\u6b21\u4e0d\u5fc5\u8981\u7684\u91cd\u590d\u8c03\u7528\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u6cd5\uff0c\u52a0\u8f7d\u72b6\u6001\u4e0e\u6570\u636e\u63d0\u53d6\u53ca\u5176\u7ec4\u4ef6\u76f8\u5173\u8054\uff0c\u8fd9\u79cd\u9650\u5236\u4f7f\u5f97\uff0c\u6211\u4eec\u53ea\u80fd\u5728\u7279\u5b9a\u7684\u7ec4\u4ef6\u5185\u5904\u7406\u5b83\uff0c\u800c\u4e0d\u80fd\u5728\u66f4\u5e7f\u6cdb\u7684\u5e94\u7528\u7a0b\u5e8f\u73af\u5883\u4e2d\u5904\u7406\u5b83\u3002</li> <li>\u91cd\u65b0\u83b7\u53d6\u6570\u636e\u2192\u574fDX   \u66f4\u6539\u9875\u9762\u7684id\uff0c\u7136\u540e\u89e6\u53d1\u91cd\u65b0\u83b7\u53d6\u6570\u636e\u903b\u8f91\u5f88\u96be\u5b9e\u73b0\u3002\u6211\u4eec\u5fc5\u987b\u5728componentDidMount\u4e2d\u8fdb\u884c\u521d\u59cb\u7684data fetching\uff0c\u53e6\u5916\u8fd8\u8981\u68c0\u67e5componentDidUpdate\u4e2d\u7684id\u662f\u5426\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u6765\u51b3\u5b9a\u662f\u5426\u9700\u8981\u518d\u6b21\u6267\u884cdata fetching\u3002</li> <li>\u95ea\u70c1\u7684loading\u2192\u7cdf\u7cd5\u7684\u7528\u6237\u4f53\u9a8c   \u5982\u679c\u7528\u6237\u7684\u4e92\u8054\u7f51\u8fde\u63a5\u8db3\u591f\u5feb\uff0c\u663e\u793aloading\u53ea\u6709\u51e0\u6beb\u79d2\u751a\u81f3\u6bd4\u5b8c\u5168\u6ca1\u6709\u663e\u793a\u4efb\u4f55\u4e1c\u897f\u66f4\u7cdf\u7cd5\uff0c\u8fd9\u4f1a\u4f7f\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u611f\u89c9\u66f4\u52a0\u7b28\u62d9\u548c\u6162\u3002</li> </ul> <p>\u4f60\u80fd\u770b\u5230\u8fd9\u79cd\u6a21\u5f0f\u5417\uff1f\u5bf9\u4e8e\u8bb8\u591a\u4eba\u6765\u8bf4\uff0c\u8fd9\u53ef\u80fd\u5e76\u4e0d\u4ee4\u4eba\u611f\u5230\u60ca\u8bb6\uff0c\u4f46\u5bf9\u6211\u800c\u8a00\uff0c\u5b9e\u9645\u4e0a\u5e76\u975e\u5982\u6b64\u6e05\u6670\u5730\u8bf4\u660e\u4e86\u5b9e\u9645\u5f00\u53d1\u4eba\u5458\u548c\u7528\u6237\u4f53\u9a8c\u7684\u5b9e\u9645\u60c5\u51b5\u3002</p> <p>\u56e0\u6b64\uff0c\u5728\u786e\u5b9a\u95ee\u9898\u4e4b\u540e\uff0c\u6211\u4eec\u5982\u4f55\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff1f</p>"},{"location":"react/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4Suspense%E6%98%AF%E4%B8%80%E7%A7%8D%E5%B7%A8%E5%A4%A7%E7%9A%84%E7%AA%81%E7%A0%B4/#context","title":"Context","text":"<p>\u957f\u671f\u4ee5\u6765\uff0cRedux\u4e00\u76f4\u662f\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u7684\u4f18\u79c0\u65b9\u6848\u3002\u501f\u52a9React 16\u4e2d\u7684\u201c\u65b0\u201dContext API\uff0c\u6211\u4eec\u83b7\u5f97\u4e86\u53e6\u4e00\u4e2a\u5f88\u68d2\u7684\u5de5\u5177\uff0c\u53ef\u5e2e\u52a9\u6211\u4eec\u5728\u5168\u5c40\u7ea7\u522b\u5b9a\u4e49\u548c\u516c\u5f00\u6570\u636e\uff0c\u540c\u65f6\u4f7f\u5176\u53ef\u4ee5\u5728\u6df1\u5c42\u5d4c\u5957\u7684\u7ec4\u4ef6\u6811\u4e2d\u8f7b\u677e\u8bbf\u95ee\u3002\u6240\u4ee5\u4e3a\u4e86\u7b80\u5355\u8d77\u89c1\uff0c\u6211\u4eec\u5c06\u5728\u8fd9\u91cc\u4f7f\u7528\u540e\u8005\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u8f7b\u677e\u5730\u5c06\u4e4b\u524d\u5b58\u50a8\u5728state\u7684\u6240\u6709\u4fe1\u606f\u63d0\u53d6\u5230context\u4e2d\uff0c\u8fd9\u5c06\u5141\u8bb8\u6211\u4eec\u4e0e\u5176\u4ed6\u7ec4\u4ef6\u5171\u4eab\u5b83\u3002\u6b64\u5916\uff0c\u8fd8\u80fd\u901a\u8fc7provider\u5bf9\u5916\u66b4\u9732\u7684\u65b9\u6cd5\u6765\u6267\u884cdata fetching\uff0c\u4ee5\u4fbf\u6211\u4eec\u7684\u7ec4\u4ef6\u53ea\u8981\u8c03\u7528\u4e86\u8be5\u65b9\u6cd5\uff0c\u5c31\u80fd\u66f4\u65b0context\u4e2d\u5b58\u50a8\u7684\u4fe1\u606f\u3002\u5728React 16.6\u4e2d\u53d1\u5e03\u7684contextType\u4f7f\u5f97\u5b83\u66f4\u52a0\u4f18\u96c5\uff0c\u4e0d\u90a3\u4e48\u5197\u957f\u3002</p> <p>provider\u8fd8\u53ef\u4ee5\u4f5c\u4e3a\u7f13\u5b58\u7684\u4e00\u79cd\u5f62\u5f0f\uff0c\u5982\u679c\u6570\u636e\u5df2\u7ecf\u5b58\u5728\u6216\u52a0\u8f7d\uff0c\u5219\u963b\u6b62\u6211\u4eec\u591a\u6b21\u8bf7\u6c42\u76f8\u540c\u7684\u6570\u636e\uff0c\u4f8b\u5982\uff0c\u7531\u53e6\u4e00\u4e2a\u7ec4\u4ef6\u89e6\u53d1\u3002</p> <pre><code>const DataContext = React.createContext();\n\nclass DataContextProvider extends Component {\n  // We want to be able to store multiple sources in the provider,\n  // so we store an object with unique keys for each data set +\n  // loading state\n  state = {\n    data: {},\n    fetch: this.fetch.bind(this)\n  };\n\n  fetch (key) {\n    if (this.state[key] &amp;&amp; (this.state[key].data || this.state[key].loading)) {\n      // Data is either already loaded or loading, so no need to fetch!\n      return;\n    }\n\n    this.setState(\n      {\n        [key]: {\n          loading: true,\n          error: null,\n          data: null\n        }\n      },\n      () =&gt; {\n        fetchData(key)\n          .then((data) =&gt; {\n            this.setState({\n              [key]: {\n                loading: false,\n                data\n              }\n            });\n          })\n          .catch((e) =&gt; {\n            this.setState({\n              [key]: {\n                loading: false,\n                error: e.message\n              }\n            });\n          });\n      }\n    );\n  }\n\n  render () {\n    return &lt;DataContext.Provider value={this.state} {...this.props} /&gt;;\n  }\n}\n\nclass DynamicData extends Component {\n  static contextType = DataContext;\n\n  componentDidMount () {\n    this.context.fetch(this.props.id);\n  }\n\n  componentDidUpdate (prevProps) {\n    if (this.props.id !== prevProps.id) {\n      this.context.fetch(this.props.id);\n    }\n  }\n\n  render () {\n    const { id } = this.props;\n    const { data } = this.context;\n\n    const idData = data[id];\n\n    return idData.loading ? (\n      &lt;p&gt;Loading...&lt;/p&gt;\n    ) : idData.error ? (\n      &lt;p&gt;Error: {idData.error}&lt;/p&gt;\n    ) : (\n      &lt;p&gt;Data loaded  &lt;/p&gt;\n    );\n  }\n}\n</code></pre> <p>\u6211\u4eec\u751a\u81f3\u53ef\u4ee5\u5c1d\u8bd5\u5220\u9664\u7ec4\u4ef6\u4e2d\u7684\u4e09\u5143\u7ec4\u3002\u5047\u8bbe\u6211\u4eec\u5e0c\u671bloading\u7ec4\u4ef6\u5728\u7ec4\u4ef6\u6811\u4e2d\u66f4\u9ad8\u7684\u5c42\u7ea7\uff0c\u8986\u76d6\u7684\u4e0d\u4ec5\u4ec5\u662f\u8fd9\u4e2a\u7ec4\u4ef6\u3002\u65e2\u7136\u6211\u4eec\u5728context\u4e2d\u6709\u52a0\u8f7d\u72b6\u6001\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u6211\u4eec\u60f3\u8981\u7684\u5730\u65b9\u7b80\u5355\u5730\u8bbf\u95ee\u5b83\uff0c\u5e76\u5728\u90a3\u91cc\u663e\u793aloading\uff0c\u5bf9\u5427\uff1f</p> <p>\u8fd9\u4ecd\u7136\u662f\u6709\u95ee\u9898\u7684\uff0c\u56e0\u4e3aAsyncData\u7ec4\u4ef6\u9700\u8981\u88ab\u6e32\u67d3\uff0c\u4ee5\u4fbf\u9996\u5148\u89e6\u53d1data fetching\u3002\u5f53\u7136\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728\u7ec4\u4ef6\u6811\u7684\u66f4\u9ad8\u4e00\u4e2a\u5c42\u6b21\u6765\u6267\u884cdata fetching\uff0c\u800c\u4e0d\u662f\u5728\u7ec4\u4ef6\u4e2d\u89e6\u53d1\u5b83\uff0c\u4f46\u8fd9\u5e76\u6ca1\u6709\u771f\u6b63\u89e3\u51b3\u95ee\u9898\uff0c\u5b83\u53ea\u662f\u5c06\u5176\u79fb\u52a8\u5230\u5176\u4ed6\u5730\u65b9\u3002\u5b83\u5bf9\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u548c\u53ef\u7ef4\u62a4\u6027\u4e5f\u5f88\u4e0d\u5229\uff0c\u56e0\u4e3aAsyncData\u4f9d\u8d56\u4e8e\u5176\u4ed6\u4e00\u4e9b\u7ec4\u4ef6\u6765\u4e3a\u5b83\u8fdb\u884c\u6570\u636e\u52a0\u8f7d\u3002\u8fd9\u79cd\u4f9d\u8d56\u65e2\u4e0d\u660e\u786e\u4e5f\u4e0d\u597d\u3002\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u7684\u7ec4\u4ef6\u53ef\u4ee5\u72ec\u7acb\u5de5\u4f5c\uff0c\u56e0\u6b64\u53ef\u4ee5\u5c06\u5b83\u4eec\u653e\u5728\u4efb\u4f55\u4f4d\u7f6e\uff0c\u800c\u4e0d\u5fc5\u4f9d\u8d56\u4e8e\u5176\u5468\u56f4\u7ec4\u4ef6\u6811\u4e2d\u7279\u5b9a\u4f4d\u7f6e\u7684\u5176\u4ed6\u7ec4\u4ef6\u3002 \u4f46\u81f3\u5c11\u73b0\u5728\u6211\u4eec\u5c06\u6240\u6709\u6570\u636e\u548c\u52a0\u8f7d\u72b6\u6001\u653e\u5728\u4e00\u4e2a\u4e2d\u5fc3\u4f4d\u7f6e\uff0c\u8fd9\u662f\u4e00\u79cd\u6539\u8fdb\u3002\u7531\u4e8e\u6211\u4eec\u80fd\u591f\u5c06provider\u653e\u5728\u4efb\u4f55\u5730\u65b9\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u4efb\u4f55\u6211\u4eec\u60f3\u8981\u7684\u5730\u65b9\u4f7f\u7528\u8fd9\u4e9b\u4fe1\u606f\u548c\u529f\u80fd\uff0c\u8fd9\u610f\u5473\u7740\u5176\u4ed6\u7ec4\u4ef6\u53ef\u4ee5\u5229\u7528\u5b83\uff08\u4e0d\u518d\u9700\u8981\u5197\u4f59\u4ee3\u7801\uff09\uff0c\u5e76\u4e14\u53ef\u4ee5\u91cd\u7528\u5df2\u7ecf\u52a0\u8f7d\u7684\u6570\u636e\uff0c\u4ece\u800c\u6d88\u9664\u4e86\u4e0d\u5fc5\u8981\u7684API\u8c03\u7528\u3002</p> <p>\u6211\u4eec\u6765\u603b\u7ed3\u4e00\u4e0b\u8fd9\u79cd\u65b9\u5f0f\u7684\u4f18\u7f3a\u70b9\uff1a</p> <ul> <li>**\u4e11\u964b\u7684\u4e09\u5143\u7ec4\uff1a**\u8fd9\u91cc\u6ca1\u6709\u4efb\u4f55\u6539\u53d8\uff0c\u73b0\u5728\u6211\u4eec\u6240\u80fd\u505a\u7684\u5c31\u662f\u5c06\u4e09\u5143\u7ec4\u79fb\u5230\u5176\u4ed6\u5730\u65b9\uff0c\u8fd9\u5e76\u6ca1\u6709\u771f\u6b63\u89e3\u51b3DX\u95ee\u9898\u3002</li> <li>**\u6837\u677f\u4ee3\u7801\uff1a**\u6211\u4eec\u5220\u9664\u4e86\u4e4b\u524d\u6240\u9700\u7684\u6240\u6709\u6837\u677f\u3002\u6211\u4eec\u53ea\u9700\u89e6\u53d1\u4ece\u4e0a\u4e0b\u6587\u4e2d\u83b7\u53d6\u548c\u8bfb\u53d6\u6570\u636e\u4ee5\u53ca\u52a0\u8f7d\u72b6\u6001\uff0c\u4ece\u800c\u51cf\u5c11\u91cd\u590d\u4ee3\u7801\uff0c\u4ece\u800c\u63d0\u9ad8\u5269\u4f59\u53ef\u8bfb\u6027\u548c\u53ef\u7ef4\u62a4\u6027\u3002   **\u53d7\u9650\u6570\u636e\u548c\u52a0\u8f7d\u72b6\u6001\uff1a**\u6211\u4eec\u73b0\u5728\u6709\u4e00\u4e2a\u53ef\u4ee5\u5728\u5e94\u7528\u7a0b\u5e8f\u7684\u4efb\u4f55\u5730\u65b9\u8bbf\u95ee\u7684\u5168\u5c40\u72b6\u6001\u3002\u6240\u4ee5\u6211\u4eec\u663e\u7740\u6539\u5584\u4e86\u8fd9\u79cd\u60c5\u51b5\uff0c\u4f46\u662f\u65e0\u6cd5\u89e3\u51b3\u6240\u6709\u95ee\u9898\uff1a\u5982\u679c\u6211\u4eec\u60f3\u8981\u663e\u793a\u52a0\u8f7d\u72b6\u6001\uff0c\u52a0\u8f7d\u72b6\u6001\u4ecd\u7136\u4f1a\u8026\u5408\u5230\u6570\u636e\u6e90\uff08\u5373\u4f7f\u6211\u4eec\u53d1\u73b0\u8fd9\u4e9b\u4f9d\u8d56\u5173\u7cfb\u7684\u4f5c\u5f0a\uff09\u52a0\u8f7d\u5404\u81ea\u4fe1\u606f\u7684\u591a\u4e2a\u7ec4\u4ef6\uff0c\u6211\u4eec\u4ecd\u7136\u5fc5\u987b\u660e\u786e\u77e5\u9053\u54ea\u4e9b\u6765\u6e90\u5e76\u624b\u52a8\u68c0\u67e5\u6240\u6709\u5355\u72ec\u7684\u52a0\u8f7d\u72b6\u6001\u3002</li> <li>\u91cd\u65b0\u83b7\u53d6\u6570\u636e: \u8fd9\u91cc\u4ec0\u4e48\u90fd\u6ca1\u6539\u53d8......</li> <li>\u95ea\u70c1\u7684loading\uff1a \u8fd9\u91cc\u4ecd\u7136\u6709\u95ee\u9898</li> </ul>"},{"location":"react/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4Suspense%E6%98%AF%E4%B8%80%E7%A7%8D%E5%B7%A8%E5%A4%A7%E7%9A%84%E7%AA%81%E7%A0%B4/#suspense_2","title":"Suspense","text":"<p>\u6240\u4ee5Suspense\u5982\u4f55\u6765\u89e3\u51b3\u4e0a\u9762\u8fd9\u4e9b\u95ee\u9898\u5462\uff1f</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u6446\u8131context\uff0c\u6570\u636e\u83b7\u53d6\u548c\u7f13\u5b58\u5c06\u7531cache provider\u5b8c\u6210\uff0c\u5b83\u5b9e\u9645\u4e0a\u53ef\u4ee5\u662f\u4efb\u4f55\u4e1c\u897f: context\uff0clocalStorage\uff0cwindow\u5bf9\u8c61\uff08\u5982\u679c\u4f60\u771f\u7684\u60f3\u8981\u751a\u81f3\u662fRedux\uff09\uff0c\u4f60\u53ef\u4ee5\u547d\u540d\u5b83\u3002\u6240\u6709\u8fd9\u4e9bprovider\u57fa\u672c\u4e0a\u90fd\u5b58\u50a8\u4e86\u6211\u4eec\u8981\u6c42\u7684\u4fe1\u606f\u3002\u5728\u6bcf\u4e2a\u8bf7\u6c42\u4e2d\uff0c\u5b83\u9996\u5148\u68c0\u67e5\u4fe1\u606f\u662f\u5426\u5df2\u7ecf\u5b58\u5728\u4e86\uff0c\u5982\u679c\u662f\u8fd9\u6837\uff0c\u76f4\u63a5return\uff1b\u5982\u679c\u6ca1\u6709\uff0c\u83b7\u53d6\u6570\u636e\uff0c\u5e76\u629b\u51faPromise\u3002\u5728\u89e3\u6790Promise\u4e4b\u524d\uff0c\u5b83\u5c06\u83b7\u53d6\u7684\u6570\u636e\u5b58\u50a8\u5728\u5b83\u7528\u4e8e\u7f13\u5b58\u7684\u4efb\u4f55\u5185\u5bb9\u4e2d\uff0c\u8fd9\u6837\u5f53React\u89e6\u53d1\u91cd\u65b0\u6e32\u67d3\u65f6\uff0c\u4e00\u5207\u90fd\u590d\u7528\u3002\u663e\u7136\uff0c\u8003\u8651\u5230\u7f13\u5b58\u5931\u6548\u548cSSR\u7b49\u95ee\u9898\uff0c\u4f7f\u7528\u66f4\u590d\u6742\u7684\u7528\u4f8b\u4f1a\u53d8\u5f97\u66f4\u590d\u6742\uff0c\u4f46\u8fd9\u662f\u5b83\u7684\u4e00\u822c\u8981\u70b9\u3002</p> <p>\u8fd9\u79cd\u7f13\u5b58\u529f\u80fd\u4e5f\u662f\u5305\u542bdata fetching\u7684\u5b8c\u5168\u7248Suspense\u5c1a\u672a\u6b63\u5f0frelease\u7684\u539f\u56e0\u4e4b\u4e00\u3002\u5982\u679c\u4f60\u60f3\u8981\u4e00\u4e2a\u5b9e\u9a8c\u6027\u7684\u7f13\u5b58\u529f\u80fd\uff0c\u53ef\u4ee5\u4f7f\u7528\u540d\u4e3areact-cache\u7684\u5b9e\u9a8cpackage\u3002\u4f46\u8bf7\u6ce8\u610f\uff0c\u5728\u65e9\u671f\u9636\u6bb5\uff0cAPI\u80af\u5b9a\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u8bb8\u591a\u5e38\u89c1\u7528\u4f8b\u5c1a\u672a\u6db5\u76d6\u3002</p> <p></p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u6446\u8131\u6240\u6709\u52a0\u8f7d\u72b6\u6001\u4e09\u5143\u7ec4\u3002\u66f4\u91cd\u8981\u7684\u662f\uff0c\u4e0d\u662f\u5728\u7ec4\u4ef6mount\u548cupdate\u7684\u65f6\u5019\u83b7\u53d6\uff0c\u800c\u662f\u501f\u52a9Suspense\u5728render\u9636\u6bb5\u6765\u6267\u884c\uff0c\u5982\u679c\u6570\u636e\u8fd8\u4e0d\u53ef\u7528\uff0c\u5219\u6267\u884csuspend\u3002\u8fd9\u53ef\u80fd\u770b\u8d77\u6765\u50cf\u4e00\u4e2a\u53cd\u6a21\u5f0f\uff08\u6bd5\u7adf\u6211\u4eec\u603b\u662f\u88ab\u544a\u77e5\u4e0d\u8981\u8fd9\u6837\u505a\uff09\uff0c\u4f46\u8003\u8651\u5230\u5982\u679c\u6570\u636e\u5728\u7f13\u5b58\u4e2d\uff0cprovider\u5c06\u53ea\u9700\u8981\u8fd4\u56de\u5b83\u5e76\u4e14\u6e32\u67d3\u5c31\u53ef\u4ee5\u4e86\u3002</p> <pre><code>import createResource from './magical-cache-provider';\nconst dataResource = createResource((id) =&gt; fetchData(id));\n\nclass DynamicData extends Component {\n  render () {\n    const data = dataResource.read(this.props.id);\n    return &lt;p&gt;Data loaded  &lt;/p&gt;;\n  }\n}\n</code></pre> <p>\u6700\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u653e\u7f6esuspend\u7ec4\u4ef6\u5e76\u5b9a\u4e49\u6211\u4eec\u60f3\u8981\u5728\u83b7\u53d6\u6570\u636e\u65f6\u5c55\u73b0\u7684fallback\u7ec4\u4ef6\u3002</p> <pre><code>class App extends Component {\n  render () {\n    return (\n      &lt;Suspense fallback={&lt;p&gt;Loading...&lt;/p&gt;}&gt;\n        &lt;DeepNesting&gt;\n          &lt;ThereMightBeSeveralAsyncComponentsHere /&gt;\n        &lt;/DeepNesting&gt;\n      &lt;/Suspense&gt;\n    );\n  }\n}\n\n// We can also be very specific with multiple boundaries\n// They don't need to know what components might be suspending\n// their render or why, they just catch whatever bubbles up and\n// handle it as intended\nclass App extends Component {\n  render () {\n    return (\n      &lt;Suspense fallback={&lt;p&gt;Loading...&lt;/p&gt;}&gt;\n        &lt;DeepNesting&gt;\n          &lt;MaybeSomeAsycComponent /&gt;\n          &lt;Suspense fallback={&lt;p&gt;Loading content...&lt;/p&gt;}&gt;\n            &lt;ThereMightBeSeveralAsyncComponentsHere /&gt;\n          &lt;/Suspense&gt;\n          &lt;Suspense fallback={&lt;p&gt;Loading footer...&lt;/p&gt;}&gt;\n            &lt;DeeplyNestedFooterTree /&gt;\n          &lt;/Suspense&gt;\n        &lt;/DeepNesting&gt;\n      &lt;/Suspense&gt;\n    );\n  }\n}\n</code></pre> <p>\u7136\u540e\u6211\u4eec\u6765\u603b\u7ed3\u4e00\u4e0bSuspense\u7684\u7279\u70b9\uff1a</p> <ul> <li>\u2764\ufe0f**\u4e11\u964b\u7684\u4e09\u5143\u7ec4\uff1a**\u4e0d\u89c1\u4e86\u3002fallback\u6e32\u67d3\u73b0\u5728\u7531suspense\u5904\u7406\uff0c\u8fd9\u4f7f\u4ee3\u7801\u66f4\u76f4\u89c2\uff0c\u52a0\u8f7d\u72b6\u6001\u5df2\u6210\u4e3aUI\u5173\u6ce8\u70b9\uff0c\u4e0e\u5b9e\u9645data fetching\u5206\u79bb\u3002</li> <li>\u2764\ufe0f**\u6837\u677f\u4ee3\u7801\uff1a**\u6211\u4eec\u5b8c\u5168\u4e0d\u9700\u8981\u751f\u547d\u5468\u671f\u65b9\u6cd5\u6765\u89e6\u53d1\u83b7\u53d6\uff0c\u5e76\u4e14\u8fdb\u4e00\u6b65\u6539\u8fdb\u4e86\u8fd9\u4e2a\u3002\u6b64\u5916\uff0c\u672a\u6765\u7684\u5c06\u4f1a\u7531package\u6765\u5145\u5f53cache provider\uff0c\u53ea\u9700\u8981\u5728\u66f4\u6539\u5b58\u50a8\u89e3\u51b3\u65b9\u6848\u65f6\u5207\u6362\u5b83\u4eec\u3002</li> <li>\u2764\ufe0f**\u9650\u5236\u6570\u636e\u548c\u52a0\u8f7d\u72b6\u6001\uff1a**\u89e3\u51b3\u4e86\u3002\u73b0\u5728\u6211\u4eec\u6709\u660e\u786e\u7684\u52a0\u8f7d\u72b6\u6001\u8fb9\u754c\uff0c\u5176\u5e76\u4e0d\u5173\u5fc3\u89e6\u53d1\u52a0\u8f7d\u7684\u6765\u6e90\u6216\u539f\u56e0\u3002\u6bcf\u5f53boundary\u5185\u7684\u4efb\u4f55\u7ec4\u4ef6\u88absuspend\u65f6\uff0c\u5c06\u5448\u73b0\u52a0\u8f7d\u72b6\u6001\u3002</li> <li>\u2764\ufe0f\u91cd\u590d\u83b7\u53d6\u6570\u636e\uff1a**\u7531\u4e8e\u6211\u4eec\uff08\u53ef\u4ee5\uff09\u5728render\u65b9\u6cd5\u4e2d\u76f4\u63a5\u4f20\u9012\u6e90\uff0c\u5f53props\u66f4\u65b0\u65f6\uff0c\u5982\u679c\u6570\u636e\u83b7\u53d6\u4f9d\u8d56\u4e8e\u6539props\uff0c\u5c06\u4f1a\u89e6\u53d1\u91cd\u65b0\u83b7\u53d6\u6570\u636e\uff0c\u800c\u65e0\u9700\u6211\u4eec\u6267\u884c\u4efb\u4f55\u64cd\u4f5c\u3002cache provider\u8d1f\u8d23\u8fd9\u4e00\u70b9\u3002   **\u95ea\u70c1\u7684loading: \u55ef\uff0c\u8fd9\u8fd8\u662f\u4e2a\u95ee\u9898 \u3002</li> </ul>"},{"location":"react/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4Suspense%E6%98%AF%E4%B8%80%E7%A7%8D%E5%B7%A8%E5%A4%A7%E7%9A%84%E7%AA%81%E7%A0%B4/#concurrent-mode","title":"Concurrent mode\u5f7b\u5e95\u89e3\u51b3\u6240\u6709\u95ee\u9898","text":"<p>Concurrent\u6a21\u5f0f\uff0c\u4ee5\u524d\u79f0\u4e3aAsync React\uff0c\u662f\u53e6\u4e00\u4e2a\u5373\u5c06\u63a8\u51fa\u7684\u529f\u80fd\uff0c\u5b83\u5141\u8bb8React\u4e00\u6b21\u5904\u7406\u591a\u4e2a\u4efb\u52a1\uff0c\u6839\u636e\u5b9a\u4e49\u7684\u4f18\u5148\u7ea7\u5728\u5b83\u4eec\u4e4b\u95f4\u5207\u6362\uff0c\u6709\u6548\u5730\u5141\u8bb8\u5b83\u8fdb\u884c\u591a\u4efb\u52a1\u3002\u5b89\u5fb7\u9c81\u00b7\u514b\u62c9\u514b\u5728\u6700\u540e\u4e00\u6b21ReactConf\u4e0a\u505a\u4e86\u4e00\u6b21\u7cbe\u5f69\u7684\u6f14\u8bb2\uff0c\u5305\u62ec\u4e00\u4e2a\u5bf9\u7528\u6237\u4ea7\u751f\u6df1\u8fdc\u5f71\u54cd\u7684\u7cbe\u5f69\u6f14\u793a\u3002\u6211\u4e0d\u60f3\u5728\u8fd9\u91cc\u8be6\u7ec6\u4ecb\u7ecd\u6240\u6709\u7ec6\u8282\uff0c\u4f46\u8fd9\u786e\u5b9e\u503c\u5f97\u4e00\u63d0\u3002</p> <p>\u4f46\u662f\uff0c\u901a\u8fc7\u5411\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u6dfb\u52a0\u5e76\u53d1\u6a21\u5f0f\uff0cSuspense\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u65b0\u529f\u80fd\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7Suspense\u7ec4\u4ef6\u4e0a\u7684prop\u6765\u63a7\u5236\u3002\u5982\u679c\u6211\u4eec\u73b0\u5728\u4f20\u5165maxDuration\uff0cboundary\u5c06\u5ef6\u8fdf\u663e\u793aloading\u4e00\u6bb5\u65f6\u95f4\uff0c\u4ece\u800c\u9632\u6b62loading\u4e0d\u5fc5\u8981\u5730\u95ea\u70c1\uff0c\u6765\u5b9e\u73b0\u826f\u597d\u7684\u7528\u6237\u4f53\u9a8c\u3002</p> <pre><code>// Instead of this...\nReactDOM.render(&lt;App /&gt;, document.getElementById('root'));\n\n// ...we do this\nReactDOM.createRoot(document.getElementById(\u2018root\u2019)).render(&lt;App /&gt;);\n</code></pre> <p>\u8981\u660e\u786e\u7684\u662f\uff0c\u8fd9\u4e0d\u4f1a\u4f7f\u6570\u636e\u83b7\u53d6\u7684\u901f\u5ea6\u66f4\u5feb\uff0c\u4f46\u5728\u7528\u6237\u5c42\u9762\u4f1a\u6709\u8fd9\u6837\u7684\u611f\u53d7\uff0c\u5e76\u4e14\u7528\u6237\u4f53\u9a8c\u5c06\u5f97\u5230\u663e\u7740\u6539\u5584\u3002</p> <p>\u6b64\u5916\uff0cSuspense\u5e76\u4e0d\u5f3a\u4f9d\u8d56\u4e8e\u5e76\u53d1\u6a21\u5f0f\u3002\u6b63\u5982\u6211\u4eec\u4e4b\u524d\u770b\u5230\u7684\u90a3\u6837\uff0c\u4e00\u822c\u7684\u529f\u80fd\u5728\u6ca1\u6709\u5e76\u53d1\u6a21\u5f0f\u7684\u60c5\u51b5\u4e0b\uff0c\u80fd\u591f\u5b8c\u7f8e\u5730\u5de5\u4f5c\u5e76\u4e14\u5df2\u7ecf\u89e3\u51b3\u4e86\u8bb8\u591a\u95ee\u9898\uff0c\u5e76\u53d1\u6a21\u5f0f\u66f4\u591a\u7684\u662f\u9526\u4e0a\u6dfb\u82b1\uff0c\u4e0d\u662f\u7edd\u5bf9\u5fc5\u8981\u4f46\u5982\u679c\u6709\u7684\u8bdd\u5f88\u68d2\u3002</p> <p>\u603b\u7ed3\u4e00\u4e0b\uff1aSuspense\u7684\u63d0\u51fa\uff0c\u6700\u5927\u7684\u4f18\u52bf\u662f\u63d0\u5347\u5f00\u53d1\u4f53\u9a8c\uff0c\u51cf\u5c11\u6837\u677f\u4ee3\u7801\uff0c\u4f7f\u5f97\u4ee3\u7801\u66f4\u597d\u7ef4\u62a4\uff0c\u5e76\u4e14\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u5e26\u6765\u66f4\u597d\u7684\u7528\u6237\u4f53\u9a8c\u3002</p>"},{"location":"react/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4Suspense%E6%98%AF%E4%B8%80%E7%A7%8D%E5%B7%A8%E5%A4%A7%E7%9A%84%E7%AA%81%E7%A0%B4/#suspense_3","title":"Suspense","text":"<pre><code>// \u4f20\u7edf\u4ee3\u7801\u95ee\u9898\uff1a\u9996\u6b21\u52a0\u8f7d\u5168\u90e8\u7ec4\u4ef6\uff0c\u9020\u6210\u6e32\u67d3\u6811\u7684\u4f9d\u8d56\u5173\u7cfb\u6bd4\u8f83\u590d\u6742\uff0c\u9996\u6b21\u52a0\u8f7d\u5185\u5bb9\u8f83\u591a\n// \u89e3\u51b3\uff1a\u4f7f\u7528 React.lazy() \u6309\u7167\u9700\u8981\u52a0\u8f7d\u7ec4\u4ef6\uff08\u6570\u636e\u83b7\u53d6\u5230\u518d\u6e32\u67d3\u7ec4\u4ef6\uff09\n// \u7136\u540e Suspense \u662f React.lazy \u7684\u914d\u5957\u8bed\u6cd5\uff08\u5728\u61d2\u52a0\u8f7d\u8fc7\u7a0b\u4e2d\uff0c\u9876\u5c42\u663e\u793a\u4e00\u4e2a fallback loading \u72b6\u6001\uff09\nconst AComponent = React.lazy(() =&gt; import('./AComponent'));\nconst BComponent = React.lazy(() =&gt; import('./BComponent'));\n\nfunction MyComponent () {\n  return (\n    &lt;Suspense fallback={&lt;div&gt;&lt;Loading/&gt;&lt;/div&gt;}&gt;\n      &lt;section&gt;\n        &lt;AComponent/&gt;\n        &lt;BComponent/&gt;\n      &lt;/section&gt;\n    &lt;/Suspense&gt;\n  );\n}\n</code></pre>"},{"location":"react/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4Suspense%E6%98%AF%E4%B8%80%E7%A7%8D%E5%B7%A8%E5%A4%A7%E7%9A%84%E7%AA%81%E7%A0%B4/#reactsuspense","title":"<code>React.Suspense</code>","text":"<p><code>React.Suspense</code> \u53ef\u4ee5\u6307\u5b9a\u52a0\u8f7d\u6307\u793a\u5668\uff08loading indicator\uff09\uff0c\u4ee5\u9632\u5176\u7ec4\u4ef6\u6811\u4e2d\u7684\u67d0\u4e9b\u5b50\u7ec4\u4ef6\u5c1a\u672a\u5177\u5907\u6e32\u67d3\u6761\u4ef6\u3002\u5728\u672a\u6765\uff0c\u6211\u4eec\u8ba1\u5212\u8ba9 <code>Suspense</code> \u5904\u7406\u66f4\u591a\u7684\u573a\u666f\uff0c\u5982\u6570\u636e\u83b7\u53d6\u7b49\u3002\u4f60\u53ef\u4ee5\u5728 \u6211\u4eec\u7684\u8def\u7ebf\u56fe \u4e86\u89e3\u8fd9\u4e00\u70b9\u3002</p> <p>\u5982\u4eca\uff0c\u61d2\u52a0\u8f7d\u7ec4\u4ef6\u662f <code>&lt;React.Suspense&gt;</code> \u652f\u6301\u7684\u552f\u4e00\u7528\u4f8b\uff1a</p> <pre><code>// \u8be5\u7ec4\u4ef6\u662f\u52a8\u6001\u52a0\u8f7d\u7684\nconst OtherComponent = React.lazy(() =&gt; import('./OtherComponent'));\n\nfunction MyComponent() {\n  return (\n    // \u663e\u793a &lt;Spinner&gt; \u7ec4\u4ef6\u76f4\u81f3 OtherComponent \u52a0\u8f7d\u5b8c\u6210\n    &lt;React.Suspense fallback={&lt;Spinner /&gt;}&gt;\n      &lt;div&gt;\n        &lt;OtherComponent /&gt;\n      &lt;/div&gt;\n    &lt;/React.Suspense&gt;\n  );\n}\n</code></pre> <p>\u5b83\u5df2\u88ab\u6536\u5f55\u5728\u4e86\u6211\u4eec\u7684\u4ee3\u7801\u5206\u5272\u6307\u5357\u4e2d\u3002\u8bf7\u6ce8\u610f\uff0c<code>lazy</code> \u7ec4\u4ef6\u53ef\u4ee5\u4f4d\u4e8e <code>Suspense</code> \u7ec4\u4ef6\u6811\u7684\u6df1\u5904\u2014\u2014\u5b83\u4e0d\u5fc5\u5305\u88c5\u6811\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5ef6\u8fdf\u52a0\u8f7d\u7ec4\u4ef6\u3002\u6700\u4f73\u5b9e\u8df5\u662f\u5c06 <code>&lt;Suspense&gt;</code> \u7f6e\u4e8e\u4f60\u60f3\u5c55\u793a\u52a0\u8f7d\u6307\u793a\u5668\uff08loading indicator\uff09\u7684\u4f4d\u7f6e\uff0c\u800c <code>lazy()</code> \u5219\u53ef\u88ab\u653e\u7f6e\u4e8e\u4efb\u4f55\u4f60\u60f3\u8981\u505a\u4ee3\u7801\u5206\u5272\u7684\u5730\u65b9\u3002</p> <p>\u6ce8\u610f</p> <p>\u5bf9\u4e8e\u5df2\u7ecf\u5c55\u793a\u7ed9\u7528\u6237\u7684\u5185\u5bb9\u6765\u8bf4\uff0c\u5728\u5207\u6362\u56de\u53bb\u65f6\uff0c\u5c55\u793a\u52a0\u8f7d\u6307\u793a\u5668\u53ef\u80fd\u4f1a\u8ba9\u4eba\u56f0\u60d1\u3002\u6709\u65f6\uff0c\u5728\u51c6\u5907\u65b0\u7684 UI \u65f6\uff0c\u5c55\u793a \u201c\u65e7\u201d \u7684 UI \u53ef\u80fd\u4f1a\u66f4\u52a0\u53cb\u597d\u3002\u8981\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u65b0\u7684 transition API <code>startTransition</code> \u548c <code>useTransition</code> \u6765\u5c06\u6807\u8bb0\u66f4\u65b0\u4e3a transitions\uff0c\u540c\u65f6\u907f\u514d\u610f\u5916\u7684\u515c\u5e95\u65b9\u6848\u3002</p>"},{"location":"react/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4Suspense%E6%98%AF%E4%B8%80%E7%A7%8D%E5%B7%A8%E5%A4%A7%E7%9A%84%E7%AA%81%E7%A0%B4/#_2","title":"\u4e3a\u4ec0\u4e48\u8bf4Suspense\u662f\u4e00\u79cd\u5de8\u5927\u7684\u7a81\u7834","text":""},{"location":"react/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4Suspense%E6%98%AF%E4%B8%80%E7%A7%8D%E5%B7%A8%E5%A4%A7%E7%9A%84%E7%AA%81%E7%A0%B4/#reactlazy","title":"<code>React.lazy</code>","text":"<p><code>React.lazy()</code> \u5141\u8bb8\u4f60\u5b9a\u4e49\u4e00\u4e2a\u52a8\u6001\u52a0\u8f7d\u7684\u7ec4\u4ef6\u3002\u8fd9\u6709\u52a9\u4e8e\u7f29\u51cf bundle \u7684\u4f53\u79ef\uff0c\u5e76\u5ef6\u8fdf\u52a0\u8f7d\u5728\u521d\u6b21\u6e32\u67d3\u65f6\u672a\u7528\u5230\u7684\u7ec4\u4ef6\u3002</p> <p>\u4f60\u53ef\u4ee5\u5728\u4ee3\u7801\u5206\u5272\u6587\u6863\u4e2d\u5b66\u4e60\u5982\u4f55\u4f7f\u7528\u5b83\u3002\u67e5\u9605\u6b64\u6587\u7ae0\u53ef\u4ee5\u4e86\u89e3\u66f4\u591a\u7528\u6cd5\u7ec6\u8282\u3002</p> <pre><code>// \u8fd9\u4e2a\u7ec4\u4ef6\u662f\u52a8\u6001\u52a0\u8f7d\u7684\nconst SomeComponent = React.lazy(() =&gt; import('./SomeComponent'));\n</code></pre> <p>\u8bf7\u6ce8\u610f\uff0c\u6e32\u67d3 <code>lazy</code> \u7ec4\u4ef6\u4f9d\u8d56\u8be5\u7ec4\u4ef6\u6e32\u67d3\u6811\u4e0a\u5c42\u7684 <code>&lt;React.Suspense&gt;</code> \u7ec4\u4ef6\u3002\u8fd9\u662f\u6307\u5b9a\u52a0\u8f7d\u6307\u793a\u5668\uff08loading indicator\uff09\u7684\u65b9\u5f0f\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/","title":"React \u9ad8\u9636 API","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 73770  \u9605\u8bfb148\u5206\u949f</p> <p>\u4f7f\u7528\u65b9\u6cd5\uff1a<code>react</code> \u662fReact\u5e93\u7684\u5165\u53e3\u70b9\u3002\u5982\u679c\u4f60\u901a\u8fc7 <code>&lt;script&gt;</code> \u6807\u7b7e\u52a0\u8f7dReact\uff0c\u8fd9\u4e9b\u9ad8\u9636API\u53ef\u7528\u4e8e <code>React</code> \u5168\u5c40\u3002\u5982\u679c\u4f60\u4f7f\u7528ES6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>import React from 'react'</code> \u3002\u5982\u679c\u4f60\u4f7f\u7528ES5\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>var React = require('react')</code> \u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_1","title":"\u6982\u89c8","text":""},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#components","title":"Components","text":"<p>React \u7ec4\u4ef6\u53ef\u4ee5\u8ba9\u4f60\u628aUI\u5206\u5272\u4e3a\u72ec\u7acb\u3001\u53ef\u590d\u7528\u7684\u7247\u6bb5\uff0c\u5e76\u5c06\u6bcf\u4e00\u7247\u6bb5\u89c6\u4e3a\u76f8\u4e92\u72ec\u7acb\u7684\u90e8\u5206\u3002</p> <p>React\u7ec4\u4ef6\u53ef\u4ee5\u901a\u8fc7\u7ee7\u627f <code>React.Component</code> \u6216 <code>React.PureComponent</code> \u6765\u5b9a\u4e49\u3002</p> <ul> <li><code>React.Component</code></li> <li><code>React.PureComponent</code></li> </ul> <p>\u5982\u679c\u4e0d\u7528ES6\u7c7b\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>create-react-class</code> \u6a21\u5757\u3002\u53c2\u9605 Using React without JSX \u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#creating-react-elements","title":"Creating React Elements","text":"<p>\u63a8\u8350 \u4f7f\u7528JSX \u63cf\u8ff0\u4f60\u7684UI\u5916\u89c2\u3002\u6bcf\u4e2aJSX\u5143\u7d20\u4ec5\u662f\u8c03\u7528 <code>React.createElement</code> \u7684\u8bed\u6cd5\u7cd6\u3002\u5982\u679c\u4f7f\u7528\u4e86JSX\uff0c\u4f60\u901a\u5e38\u4e0d\u4f1a\u76f4\u63a5\u8c03\u7528\u4ee5\u4e0b\u65b9\u6cd5\u3002</p> <ul> <li><code>createElement()</code></li> <li><code>createFactory()</code></li> </ul> <p>\u53c2\u9605 Using React without JSX \u4e86\u89e3\u66f4\u591a\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#transforming-elements","title":"Transforming Elements","text":"<p><code>\bReact</code> \u540c\u65f6\u4e5f\u63d0\u4f9b\u4e86\u5176\u4ed6API\uff1a</p> <ul> <li><code>cloneElement()</code></li> <li><code>isValidElement()</code></li> <li><code>React.Children</code></li> </ul>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#fragments","title":"Fragments","text":"<p><code>React</code> also provides a component for rendering multiple elements without a wrapper.</p> <ul> <li><code>React.Fragment</code></li> </ul>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#other","title":"Other","text":"<ul> <li><code>React.forwardRef</code></li> </ul>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#reference","title":"Reference","text":""},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#reactcomponent","title":"<code>React.Component</code>","text":"<p>\u7528 ES6 \u7c7b \u5b9a\u4e49\u65f6\uff0c<code>React.Component</code>\u662fReact\u7ec4\u4ef6\u7684\u57fa\u7c7b\u3002</p> <pre><code>class Greeting extends React.Component {\n  render() {\n    return &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;;\n  }\n}\n</code></pre> <p>\u6709\u5173 <code>React.Component</code> \u7684\u65b9\u6cd5\u548c\u5c5e\u6027\u5217\u8868\uff0c\u8bf7\u53c2\u9605 <code>React.Component API Reference</code>\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#reactpurecomponent","title":"<code>React.PureComponent</code>","text":"<p><code>React.PureComponent</code> \u4e0e <code>React.Component</code> \u51e0\u4e4e\u5b8c\u5168\u76f8\u540c\uff0c\u4f46 <code>React.PureComponent</code>\u901a\u8fc7\bprop\u548cstate\u7684\u6d45\u5bf9\u6bd4\u6765\u5b9e\u73b0 <code>shouldComponentUpdate()</code>\u3002</p> <p>\u5982\u679cReact\u7ec4\u4ef6\u7684 <code>render()</code> \u51fd\u6570\u5728\u7ed9\u5b9a\u76f8\u540c\u7684props\u548cstate\u4e0b\u6e32\u67d3\u4e3a\u76f8\u540c\u7684\u7ed3\u679c\uff0c\u5728\u67d0\u4e9b\u573a\u666f\u4e0b\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>React.PureComponent</code> \u6765\u63d0\u5347\u6027\u80fd\u3002</p> <p>Note</p> <p><code>React.PureComponent</code> \u7684 <code>shouldComponentUpdate()</code> \u53ea\u4f1a\u5bf9\u5bf9\u8c61\u8fdb\u884c\u6d45\u5bf9\u6bd4\u3002\u5982\u679c\u5bf9\u8c61\u5305\u542b\u590d\u6742\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5b83\u53ef\u80fd\u4f1a\u56e0\u6df1\u5c42\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u800c\u4ea7\u751f\u9519\u8bef\u7684\u5426\u5b9a\u5224\u65ad(\u8868\u73b0\u4e3a\u5bf9\u8c61\u6df1\u5c42\u7684\b\u6570\u636e\u5df2\u6539\u53d8\u89c6\u56fe\u5374\u6ca1\u6709\u66f4\u65b0, \u539f\u6587\uff1afalse-negatives)\u3002\u5f53\u4f60\u671f\u671b\u53ea\u62e5\u6709\u7b80\u5355\u7684props\u548cstate\u65f6\uff0c\u624d\u53bb\u7ee7\u627f <code>PureComponent</code> \uff0c\u6216\u8005\u5728\u4f60\u77e5\u9053\u6df1\u5c42\u7684\u6570\u636e\u7ed3\u6784\u5df2\u7ecf\u53d1\u751f\u6539\u53d8\u65f6\u4f7f\u7528 <code>forceUpdate()</code> \u3002\u6216\u8005\uff0c\u8003\u8651\u4f7f\u7528 \u4e0d\u53ef\u53d8\u5bf9\u8c61 \u6765\u4fc3\u8fdb\u5d4c\u5957\u6570\u636e\u7684\u5feb\u901f\u6bd4\u8f83\u3002</p> <p>\u6b64\u5916,<code>React.PureComponent</code> \u7684 <code>shouldComponentUpate()</code> \u4f1a\u5ffd\u7565\u6574\u4e2a\u7ec4\u4ef6\u7684\u5b50\u7ea7\u3002\u8bf7\u786e\u4fdd\u6240\u6709\u7684\u5b50\u7ea7\u7ec4\u4ef6\b\u4e5f\u662f\u201dPure\u201d\u7684\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#createelement","title":"<code>createElement()</code>","text":"<pre><code>React.createElement(\n  type,\n  [props],\n  [...children]\n)\n</code></pre> <p>\u6839\u636e\u7ed9\u5b9a\u7684\u7c7b\u578b\u521b\u5efa\u5e76\u8fd4\u56de\u65b0\u7684 <code>React element</code> \u3002\u53c2\u6570type\u65e2\u53ef\u4ee5\u662f\u4e00\u4e2ahtml\u6807\u7b7e\u540d\u79f0\u5b57\u7b26\u4e32(\u4f8b\u5982<code>'div'</code> \u6216 <code>'span'</code> )\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a <code>React component</code> \u7c7b\u578b(\u4e00\u4e2a\u7c7b\u6216\u4e00\u4e2a\u51fd\u6570)\u3002</p> <p><code>React.DOM</code> \u63d0\u4f9b\u4e86DOM\u7ec4\u4ef6\u7684 <code>React.createElement()</code> \u7684\u4fbf\u6377\u5305\u88c5\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c<code>React.DOM.a(...)</code> \u662f <code>React.createELement('a', ...)</code> \u7684\u4e00\u4e2a\u4fbf\u6377\u5305\u88c5\u3002\u8fd9\u4e2a\u7528\u6cd5\u88ab\u8ba4\u4e3a\u662f\u8fc7\u65f6\u7684\uff0c\u6211\u4eec\u63a8\u8350\u60a8\u4f7f\u7528JSX\uff0c\u6216\u8005\u76f4\u63a5\u4f7f\u7528 <code>React.createElement()</code> \u3002</p> <p>\u7528\b <code>JSX</code> \u7f16\u5199\u7684\u4ee3\u7801\u4f1a\u88ab\u8f6c\u6362\u6210\u7528 <code>React.createElement()</code> \u5b9e\u73b0\u3002\u5982\u679c\u4f7f\u7528\u4e86JSX\uff0c\u4f60\b\u901a\u5e38\u4e0d\u4f1a\u76f4\u63a5\u8c03\u7528 <code>React.createElement()</code> \u3002\u53c2\u9605 <code>React Without JSX</code> \u4e86\u89e3\u66f4\u591a\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#cloneelement","title":"<code>cloneElement()</code>","text":"<pre><code>React.cloneElement(\n  element,\n  [props],\n  [...children]\n)\n</code></pre> <p>\u4ee5 <code>element</code> \u4f5c\u4e3a\u8d77\u70b9\uff0c\u514b\u9686\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684React\u5143\u7d20(React Element)\u3002\u751f\u6210\u7684\u5143\u7d20\u5c06\u4f1a\u62e5\u6709\u539f\u59cb\u5143\u7d20props\b\u4e0e\u65b0props\u7684\u6d45\u5408\u5e76\u3002\u65b0\u7684\u5b50\u7ea7\u4f1a\u66ff\u6362\u73b0\u6709\u7684\u5b50\u7ea7\u3002\u6765\u81ea\u539f\u59cb\u5143\u7d20\u7684 <code>key</code> \u548c <code>ref</code> \u5c06\u4f1a\u4fdd\u7559\u3002</p> <p><code>React.cloneElement()</code> \u51e0\u4e4e\u76f8\u5f53\u4e8e\uff1a</p> <pre><code>&lt;element.type {...element.props} {...props}&gt;{children}&lt;/element.type&gt;\n</code></pre> <p>\u7136\u800c\uff0c\u5b83\u4e5f\u4fdd\u7559\u4e86\b <code>ref</code>\u3002\u8fd9\u610f\u5473\u7740\uff0c\u5982\u679c\u4f60\u901a\u8fc7 <code>ref</code> \u83b7\u53d6\u5230\u5b50\u7ea7\u7ec4\u4ef6\u65f6\uff0c\u4e0d\u4f1a\u4e00\u4e0d\u5c0f\u5fc3\u4ece\u7956\u5148\u7ec4\u4ef6\u91cc\b\u7a83\u53d6\b\u4e86\u5b83\u3002\u4f60\u5c06\u83b7\u5f97\u4e0e\u4f60\u65b0\u5143\u7d20\u76f8\u540c\u7684 \b<code>ref</code> \u3002</p> <p>\u8fd9\u4e2aAPI\u662f\u4e00\u4e2a\u66ff\u6362\u5df2\u5f03\u7528\u7684 <code>React.addons.cloneWithProps()</code> \u7684\u65b9\u6848\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#createfactory","title":"<code>createFactory()</code>","text":"<pre><code>React.createFactory(type)\n</code></pre> <p>\u6839\u636e\u7ed9\u5b9a\u7684\u7c7b\u578b\u8fd4\u56de\u4e00\u4e2a\u521b\u5efaReact\u5143\u7d20\u7684\u51fd\u6570\u3002\u7c7b\u4f3c <code>React.createElement</code> \uff0c\u53c2\u6570type\u65e2\u53ef\u4ee5\u4e00\u4e2ahtml\u6807\u7b7e\b\u540d\u79f0\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a <code>React component</code> \u7c7b\u578b(\u4e00\u4e2a\u7c7b\u6216\u65f6\u4e00\u4e2a\u51fd\u6570)\u3002</p> <p>\u8fd9\u4e2a\u65b9\u6cd5\u8fc7\u65f6\u4e86\uff0c\u6211\u4eec\u63a8\u8350\u4f60\u4f7f\u7528JSX\u6216\u76f4\u63a5\u4f7f\u7528 <code>React.createElement()</code> \u6765\u66ff\u4ee3\u5b83\u3002</p> <p>\u5982\u679c\u4f7f\u7528\u4e86JSX\uff0c\u4f60\u901a\u5e38\u4e0d\u4f1a\u76f4\u63a5\u8c03\u7528\b <code>React.createFactory()</code> \u3002\u53c2\u9605 <code>React Without JSX</code>\u4e86\u89e3\u66f4\u591a \u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#isvalidelement","title":"<code>isValidElement()</code>","text":"<pre><code>React.isValidElement(object)\n</code></pre> <p>\u9a8c\u8bc1\u5bf9\u8c61\u662f\u5426\u662f\u4e00\u4e2aReact\u5143\u7d20\u3002\u8fd4\u56de <code>true</code> \u6216 <code>false</code> \u3002</p> <p>\u904d\u5386\u6570\u7ec4\u7684\u5f88\u91cd\u8981\u7684\u90e8\u5206</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#reactchildren","title":"<code>React.Children</code>","text":"<p><code>React.Children</code> \u63d0\u4f9b\u4e86\u5904\u7406 <code>this.props.children</code> \u8fd9\u4e2a\u4e0d\u900f\u660e\u6570\u636e\u7ed3\u6784\u7684\u5de5\u5177\u3002</p> <p><code>React.Children.map</code></p> <pre><code>React.Children.map(children, function[(thisArg)])\n</code></pre> <p>\u5728\b\u5305\u542b\u5728 <code>children</code> \u91cc\u7684\u6bcf\u4e2a\u5b50\u7ea7\u4e0a\u8c03\u7528\u51fd\u6570\uff0c\u8c03\u7528\u7684\u51fd\u6570\u7684 <code>this</code> \u8bbe\u7f6e\u4e3a <code>thisArg</code> \u3002\u5982\u679c <code>children</code> \u662f\u4e00\u4e2a\u5d4c\u5957\u7684\u5bf9\u8c61\u6216\u6570\u7ec4\uff0c\u5b83\u5c06\u88ab\u904d\u5386\u3002\u5982\u679c <code>children</code> \u662f <code>null</code> \u6216 <code>undefined</code>\uff0c\u8fd4\u56de <code>null</code> \u6216 <code>undefined</code> \u800c\u4e0d\u662f\u4e00\u4e2a\u7a7a\u6570\u7ec4\u3002</p> <p><code>React.Children.forEach</code></p> <pre><code>React.Children.forEach(children, function[(thisArg)])\n</code></pre> <p>\u7c7b\u4f3c <code>React.Children.map()</code> \uff0c\u4f46\u662f\u4e0d\u8fd4\u56de\u6570\u7ec4\u3002</p> <p><code>React.Children.count</code></p> <pre><code>React.Children.count(children)\n</code></pre> <p>\u8fd4\u56de <code>children</code> \u4e2d\u7684\u7ec4\u4ef6\u603b\u6570\uff0c\u76f8\u7b49\u4e8e\u4f20\u7ed9 <code>map</code> \u6216 <code>forEach</code> \u65f6\uff0c\u56de\u8c03\u51fd\u6570\u88ab\u8c03\u7528\u6b21\u6570\u3002</p> <p><code>React.Children.only</code></p> <pre><code>React.Children.only(children)\n</code></pre> <p>\u8fd4\u56de<code>children</code>\u91cc\u4ec5\u6709\u7684\u5b50\u7ea7\u3002\u5426\u5219\u629b\u51fa\u5f02\u5e38\u3002</p> <p><code>React.Children.toArray</code></p> <pre><code>React.Children.toArray(children)\n</code></pre> <p>\u8fd4\u56de\u4ee5\u8d4bkey\u7ed9\u6bcf\u4e2a\u5b50\u7ea7 <code>child</code> \u7684\u6241\u5e73\u6570\u7ec4\u5f62\u5f0f\u6765\u7ec4\u6210\u4e0d\u900f\u660e\u7684 <code>children</code> \u6570\u636e\u7ed3\u6784\u3002\u5982\u679c\u4f60\u6253\u7b97\u5728\u4f60\u7684\u6e32\u67d3\u65b9\u6cd5\u91cc\u64cd\u7eb5\u5b50\u7ea7\u96c6\u5408\u8fd9\u5f88\u6709\u7528\uff0c\u7279\u522b\u662f\u4f60\u60f3\u5728 <code>this.props.children</code> \u4f20\u4e0b\u4e4b\u524d\u5bf9\u5b83\u91cd\u65b0\u6392\u5e8f\u6216\u5207\u5272\u3002</p> <p>Note:</p> <p>\u5f53children\u662f\u6241\u5e73\u5217\u8868\u65f6\uff0c<code>React.Children.toArray()</code> \u6539\u53d8\bkey\u6765\u4fdd\u7559\u5d4c\u5957\u6570\u7ec4\u7684\u8bed\u4e49\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e3a\u4e86\u5728\u5c55\u5f00\u65f6\u4fdd\u7559\u5d4c\u5957\u6570\u7ec4\u7684\u8bed\u4e49\uff0c<code>toArray</code> \u4f1a\u81ea\u52a8\u7684\u7ed9\u6570\u7ec4\u4e2d\u6bcf\u4e2a key \u52a0\u4e86\u4e0a\u524d\u7f00\uff0c\u4ee5\u4fbf\u5c06\u6bcf\u4e2a\u5143\u7d20\u7684key\u88ab\u9650\u5b9a\u5230\u5305\u542b\u5b83\u7684\u8f93\u5165\u6570\u7ec4\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#reactforwardref","title":"<code>React.forwardRef</code>","text":"<p><code>React.forwardRef</code> accepts a render function that receives <code>props</code> and <code>ref</code> parameters and returns a React node. Ref forwarding is a technique for passing a ref through a component to one of its descendants. This technique can be particularly useful with higher-order components:</p> <pre><code>function enhance(Component) {\n  class Enhanced extends React.Component {\n    // ...\n\n    render() {\n      const {forwardedRef, ...rest} = this.props;\n\n      // Assign the custom prop \"forwardedRef\" as a ref\n      return &lt;Component ref={forwardedRef} {...rest} /&gt;;\n    }\n  }\n\n  // Intercept the \"ref\" and pass it as a custom prop, e.g. \"forwardedRef\"\n  function enhanceForwardRef(props, ref) {\n    return &lt;Enhanced {...props} forwardedRef={ref} /&gt;;\n  }\n\n  // These next lines are not necessary,\n  // But they do give the component a better display name in DevTools,\n  // e.g. \"ForwardRef(withTheme(MyComponent))\"\n  const name = Component.displayName || Component.name;\n  enhanceForwardRef.displayName = `enhance(${name})`;\n\n  return React.forwardRef(enhanceForwardRef);\n}\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#reactcomponent_1","title":"React.Component","text":"<p>\u7ec4\u4ef6\u80fd\u591f\u8ba9\u4f60\u5c06UI\u5206\u5272\u6210\u72ec\u7acb\u7684\u3001\u53ef\u91cd\u7528\u7684\u90e8\u5206\uff0c\u5e76\u5bf9\u6bcf\u4e00\u90e8\u5206\u5355\u72ec\u8003\u91cf\u3002<code>React</code>\u63d0\u4f9b\u4e86<code>React.Component</code> \u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_2","title":"\u6982\u89c8","text":"<p><code>React.Component</code>\u662f\u4e00\u4e2a\u62bd\u8c61\u57fa\u7840\u7c7b\uff0c\u56e0\u6b64\u76f4\u63a5\u5f15\u7528<code>React.Component</code>\u51e0\u4e4e\u6ca1\u610f\u4e49\u3002\u76f8\u53cd\uff0c\u4f60\u901a\u5e38\u4f1a\u7ee7\u627f\u81ea\u5b83\uff0c\u5e76\u81f3\u5c11\u5b9a\u4e49\u4e00\u4e2a<code>render()</code>\u65b9\u6cd5\u3002</p> <p>\u901a\u5e38\u4f60\u5b9a\u4e49\u4e00\u4e2aReact\u7ec4\u4ef6\u76f8\u5f53\u4e8e\u4e00\u4e2a\u7eafJavaScript\u7c7b\uff1a</p> <pre><code>class Greeting extends React.Component {\n  render() {\n    return &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;;\n  }\n}\n</code></pre> <p>\u82e5\u4f60\u4ecd\u672a\u4f7f\u7528 ES6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>create-react-class</code>\u6a21\u5757\u3002\u67e5\u770b Using React without ES6\u4e86\u89e3\u66f4\u591a\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_3","title":"\u7ec4\u4ef6\u751f\u547d\u5468\u671f","text":"<p>\u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u90fd\u6709\u51e0\u4e2a\u4f60\u53ef\u4ee5\u91cd\u5199\u4ee5\u8ba9\u4ee3\u7801\u5728\u5904\u7406\u73af\u8282\u7684\u7279\u5b9a\u65f6\u671f\u8fd0\u884c\u7684\u201c\u751f\u547d\u5468\u671f\u65b9\u6cd5\u201d\u3002\u65b9\u6cd5\u4e2d\u5e26\u6709\u524d\u7f00 will \u7684\u5728\u7279\u5b9a\u73af\u8282\u4e4b\u524d\u88ab\u8c03\u7528\uff0c\u800c\u5e26\u6709\u524d\u7f00 did \u7684\u65b9\u6cd5\u5219\u4f1a\u5728\u7279\u5b9a\u73af\u8282\u4e4b\u540e\u88ab\u8c03\u7528\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_4","title":"\u88c5\u914d","text":"<p>\u8fd9\u4e9b\u65b9\u6cd5\u4f1a\u5728\u7ec4\u4ef6\u5b9e\u4f8b\u88ab\u521b\u5efa\u548c\u63d2\u5165DOM\u4e2d\u65f6\u88ab\u8c03\u7528\uff1a</p> <ul> <li><code>constructor()</code></li> <li><code>static getDerivedStateFromProps()</code></li> <li><code>componentWillMount()</code> / <code>UNSAFE_componentWillMount()</code></li> <li><code>render()</code></li> <li><code>componentDidMount()</code></li> </ul>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_5","title":"\u66f4\u65b0","text":"<p>\u5c5e\u6027\u6216\u72b6\u6001\u7684\u6539\u53d8\u4f1a\u89e6\u53d1\u4e00\u6b21\u66f4\u65b0\u3002\u5f53\u4e00\u4e2a\u7ec4\u4ef6\u5728\u88ab\u91cd\u6e32\u65f6\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u5c06\u4f1a\u88ab\u8c03\u7528\uff1a</p> <ul> <li><code>componentWillReceiveProps()</code> / <code>UNSAFE_componentWillReceiveProps()</code></li> <li><code>static getDerivedStateFromProps()</code></li> <li><code>shouldComponentUpdate()</code></li> <li><code>componentWillUpdate()</code> / <code>UNSAFE_componentWillUpdate()</code></li> <li><code>render()</code></li> <li><code>getSnapshotBeforeUpdate()</code></li> <li><code>componentDidUpdate()</code></li> </ul>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_6","title":"\u5378\u8f7d","text":"<p>\u5f53\u4e00\u4e2a\u7ec4\u4ef6\u88ab\u4eceDOM\u4e2d\u79fb\u9664\u65f6\uff0c\u8be5\u65b9\u6cd5\u88ab\u8c03\u7528\uff1a</p> <ul> <li><code>componentWillUnmount()</code></li> </ul>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_7","title":"\u9519\u8bef\u5904\u7406","text":"<p>\u5728\u6e32\u67d3\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef\u65f6\u4f1a\u88ab\u8c03\u7528\uff1a</p> <ul> <li><code>componentDidCatch()</code></li> </ul>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#api","title":"\u5176\u4ed6API","text":"<p>\u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u8fd8\u63d0\u4f9b\u4e86\u5176\u4ed6\u7684API\uff1a</p> <ul> <li><code>setState()</code></li> <li><code>forceUpdate()</code></li> </ul>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_8","title":"\u7c7b\u5c5e\u6027","text":"<ul> <li><code>defaultProps</code></li> <li><code>displayName</code></li> </ul>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_9","title":"\u5b9e\u4f8b\u5c5e\u6027","text":"<ul> <li><code>props</code></li> <li><code>state</code></li> </ul>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_10","title":"\u53c2\u8003","text":""},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#render","title":"<code>render()</code>","text":"<pre><code>render()\n</code></pre> <p><code>render()</code>\u65b9\u6cd5\u662f\u5fc5\u987b\u7684\u3002</p> <p>\u5f53\u88ab\u8c03\u7528\u65f6\uff0c\u5176\u5e94\u8be5\u68c0\u67e5<code>this.props</code> \u548c <code>this.state</code>\u5e76\u8fd4\u56de\u4ee5\u4e0b\u7c7b\u578b\u4e2d\u7684\u4e00\u4e2a:</p> <ul> <li>React\u5143\u7d20\u3002 \u901a\u5e38\u662f\u7531 JSX \u521b\u5efa\u3002\u8be5\u5143\u7d20\u53ef\u80fd\u662f\u4e00\u4e2a\u539f\u751fDOM\u7ec4\u4ef6\u7684\u8868\u793a\uff0c\u5982<code>&lt;div /&gt;</code>\uff0c\u6216\u8005\u662f\u4e00\u4e2a\u4f60\u5b9a\u4e49\u7684\u5408\u6210\u7ec4\u4ef6\u3002</li> <li>\u5b57\u7b26\u4e32\u548c\u6570\u5b57\u3002 \u8fd9\u4e9b\u5c06\u88ab\u6e32\u67d3\u4e3a DOM \u4e2d\u7684 text node\u3002</li> <li>Portals\u3002 \u7531 <code>ReactDOM.createPortal</code> \u521b\u5efa\u3002</li> <li><code>null</code>\u3002 \u4ec0\u4e48\u90fd\u4e0d\u6e32\u67d3\u3002</li> <li>\u5e03\u5c14\u503c\u3002 \u4ec0\u4e48\u90fd\u4e0d\u6e32\u67d3\u3002\uff08\u901a\u5e38\u5b58\u5728\u4e8e <code>return test &amp;&amp; &lt;Child /&gt;</code>\u5199\u6cd5\uff0c\u5176\u4e2d <code>test</code> \u662f\u5e03\u5c14\u503c\u3002\uff09</li> </ul> <p>\u5f53\u8fd4\u56de<code>null</code> \u6216 <code>false</code>\u65f6\uff0c<code>ReactDOM.findDOMNode(this)</code> \u5c06\u8fd4\u56de <code>null</code>\u3002</p> <p><code>render()</code>\u51fd\u6570\u5e94\u8be5\u7eaf\u51c0\uff0c\u610f\u5473\u7740\u5176\u4e0d\u5e94\u8be5\u6539\u53d8\u7ec4\u4ef6\u7684\u72b6\u6001\uff0c\u5176\u6bcf\u6b21\u8c03\u7528\u90fd\u5e94\u8fd4\u56de\u76f8\u540c\u7684\u7ed3\u679c\uff0c\u540c\u65f6\u4e0d\u76f4\u63a5\u548c\u6d4f\u89c8\u5668\u4ea4\u4e92\u3002\u82e5\u9700\u8981\u548c\u6d4f\u89c8\u5668\u4ea4\u4e92\uff0c\u5c06\u4efb\u52a1\u653e\u5728<code>componentDidMount()</code>\u9636\u6bb5\u6216\u5176\u4ed6\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u3002\u4fdd\u6301<code>render()</code> \u65b9\u6cd5\u7eaf\u51c0\u4f7f\u5f97\u7ec4\u4ef6\u66f4\u5bb9\u6613\u601d\u8003\u3002</p> <p>\u6ce8\u610f</p> <p>\u82e5 <code>shouldComponentUpdate()</code>\u8fd4\u56defalse\uff0c<code>render()</code>\u51fd\u6570\u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#constructor","title":"<code>constructor()</code>","text":"<pre><code>constructor(props)\n</code></pre> <p>React\u7ec4\u4ef6\u7684\u6784\u9020\u51fd\u6570\u5c06\u4f1a\u5728\u88c5\u914d\u4e4b\u524d\u88ab\u8c03\u7528\u3002\u5f53\u4e3a\u4e00\u4e2a<code>React.Component</code>\u5b50\u7c7b\u5b9a\u4e49\u6784\u9020\u51fd\u6570\u65f6\uff0c\u4f60\u5e94\u8be5\u5728\u4efb\u4f55\u5176\u4ed6\u7684\u8868\u8fbe\u5f0f\u4e4b\u524d\u8c03\u7528<code>super(props)</code>\u3002\u5426\u5219\uff0c<code>this.props</code>\u5728\u6784\u9020\u51fd\u6570\u4e2d\u5c06\u662f\u672a\u5b9a\u4e49\uff0c\u5e76\u53ef\u80fd\u5f15\u53d1\u5f02\u5e38\u3002</p> <p>\u6784\u9020\u51fd\u6570\u662f\u521d\u59cb\u5316\u72b6\u6001\u7684\u5408\u9002\u4f4d\u7f6e\u3002\u82e5\u4f60\u4e0d\u521d\u59cb\u5316\u72b6\u6001\u4e14\u4e0d\u7ed1\u5b9a\u65b9\u6cd5\uff0c\u90a3\u4f60\u4e5f\u4e0d\u9700\u8981\u4e3a\u4f60\u7684React\u7ec4\u4ef6\u5b9a\u4e49\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u3002</p> <p>\u53ef\u4ee5==\u57fa\u4e8e\u5c5e\u6027\u6765\u521d\u59cb\u5316\u72b6\u6001==\u3002\u8fd9\u6837\u6709\u6548\u5730\u201c\u5206\u79bb\uff08forks\uff09\u201d\u5c5e\u6027\u5e76\u6839\u636e\u521d\u59cb\u5c5e\u6027\u8bbe\u7f6e\u72b6\u6001\u3002\u8fd9\u6709\u4e00\u4e2a\u6709\u6548\u7684<code>React.Component</code>\u5b50\u7c7b\u6784\u9020\u51fd\u6570\u7684\u4f8b\u5b50\uff1a</p> <pre><code>constructor(props) {\n  super(props);\n  this.state = {\n    color: props.initialColor\n  };\n}\n</code></pre> <p>\u5f53\u5fc3\u8fd9\u79cd\u6a21\u5f0f\uff0c\u56e0\u4e3a\u72b6\u6001\u5c06\u4e0d\u4f1a\u968f\u7740\u5c5e\u6027\u7684\u66f4\u65b0\u800c\u66f4\u65b0\u3002\u4fdd\u8bc1\u5c5e\u6027\u548c\u72b6\u6001\u540c\u6b65\uff0c\u4f60\u901a\u5e38\u60f3\u8981\u72b6\u6001\u63d0\u5347\u3002</p> <p>\u82e5\u4f60\u901a\u8fc7\u4f7f\u7528\u5b83\u4eec\u4e3a\u72b6\u6001\u201c\u5206\u79bb\u201d\u5c5e\u6027\uff0c\u4f60\u53ef\u80fd\u4e5f\u60f3\u8981\u5b9e\u73b0<code>UNSAFE_componentWillReceiveProps(nextProps)</code>\u4ee5\u4fdd\u6301\u6700\u65b0\u7684\u72b6\u6001\u3002\u4f46\u72b6\u6001\u63d0\u5347\u901a\u5e38\u6765\u8bf4\u66f4\u5bb9\u6613\u4ee5\u53ca\u66f4\u5c11\u7684\u5f02\u5e38\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#static-getderivedstatefromprops","title":"<code>static getDerivedStateFromProps()</code>","text":"<pre><code>static getDerivedStateFromProps(nextProps, prevState)\n</code></pre> <p>\u7ec4\u4ef6\u5b9e\u4f8b\u5316\u540e\u548c\u63a5\u53d7\u65b0\u5c5e\u6027\u65f6\u5c06\u4f1a\u8c03\u7528<code>getDerivedStateFromProps</code>\u3002\u5b83\u5e94\u8be5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u6765\u66f4\u65b0\u72b6\u6001\uff0c\u6216\u8005\u8fd4\u56denull\u6765\u8868\u660e\u65b0\u5c5e\u6027\u4e0d\u9700\u8981\u66f4\u65b0\u4efb\u4f55\u72b6\u6001\u3002</p> <p>\u6ce8\u610f\uff0c\u5982\u679c\u7236\u7ec4\u4ef6\u5bfc\u81f4\u4e86\u7ec4\u4ef6\u7684\u91cd\u65b0\u6e32\u67d3\uff0c\u5373\u4f7f\u5c5e\u6027\u6ca1\u6709\u66f4\u65b0\uff0c\u8fd9\u4e00\u65b9\u6cd5\u4e5f\u4f1a\u88ab\u8c03\u7528\u3002\u5982\u679c\u4f60\u53ea\u60f3\u5904\u7406\u53d8\u5316\uff0c\u4f60\u53ef\u80fd\u60f3\u53bb\u6bd4\u8f83\u65b0\u65e7\u503c\u3002</p> <p>\u8c03\u7528<code>this.setState()</code> \u901a\u5e38\u4e0d\u4f1a\u89e6\u53d1 <code>getDerivedStateFromProps()</code>\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#unsafe_componentwillmount","title":"<code>UNSAFE_componentWillMount()</code>","text":"<pre><code>UNSAFE_componentWillMount()\n</code></pre> <p><code>UNSAFE_componentWillMount()</code>\u5728\u88c5\u914d\u53d1\u751f\u524d\u88ab\u7acb\u523b\u8c03\u7528\u3002\u5176\u5728<code>render()</code>\u4e4b\u524d\u88ab\u8c03\u7528\uff0c\u56e0\u6b64\u5728\u8fd9\u65b9\u6cd5\u91cc\u540c\u6b65\u5730\u8bbe\u7f6e\u72b6\u6001\u5c06\u4e0d\u4f1a\u89e6\u53d1\u91cd\u6e32\u3002</p> <p>\u907f\u514d\u5728\u8be5\u65b9\u6cd5\u4e2d\u5f15\u5165\u4efb\u4f55\u7684\u526f\u4f5c\u7528\u6216\u8ba2\u9605\u3002\u5bf9\u4e8e\u8fd9\u4e9b\u4f7f\u7528\u573a\u666f\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528<code>constructor()</code>\u6765\u66ff\u4ee3\u3002</p> <p>\u8fd9\u662f\u552f\u4e00\u7684\u4f1a\u5728\u670d\u52a1\u7aef\u6e32\u67d3\u8c03\u8d77\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570\u3002</p> <p>\u6ce8\u610f</p> <p>\u8fd9\u4e00\u751f\u547d\u5468\u671f\u4e4b\u524d\u53eb\u505a<code>componentWillMount</code>\u3002\u8fd9\u4e00\u540d\u5b57\u572817\u7248\u524d\u90fd\u6709\u6548\u3002\u53ef\u4ee5\u4f7f\u7528<code>rename-unsafe-lifecycles</code> codemod\u6765\u81ea\u52a8\u66f4\u65b0\u4f60\u7684\u7ec4\u4ef6\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#componentdidmount","title":"<code>componentDidMount()</code>","text":"<pre><code>componentDidMount()\n</code></pre> <p><code>componentDidMount()</code>\u5728\u7ec4\u4ef6\u88ab\u88c5\u914d\u540e\u7acb\u5373\u8c03\u7528\u3002\u521d\u59cb\u5316\u4f7f\u5f97DOM\u8282\u70b9\u5e94\u8be5\u8fdb\u884c\u5230\u8fd9\u91cc\u3002\u82e5\u4f60\u9700\u8981\u4ece\u8fdc\u7aef\u52a0\u8f7d\u6570\u636e\uff0c\u8fd9\u662f\u4e00\u4e2a\u9002\u5408\u5b9e\u73b0\u7f51\u7edc\u8bf7\u6c42\u7684\u5730\u65b9\u3002\u5728\u8be5\u65b9\u6cd5\u91cc\u8bbe\u7f6e\u72b6\u6001\u5c06\u4f1a\u89e6\u53d1\u91cd\u6e32\u3002</p> <p>\u8fd9\u4e00\u65b9\u6cd5\u662f\u4e00\u4e2a\u53d1\u8d77\u4efb\u4f55\u7ed1\u5b9a\u7684\u597d\u5730\u65b9\uff08addeventlistener\uff09,\u522b\u5fd8\u4e86\u5728<code>componentWillUnmount()\u53d6\u6d88</code>\u3002</p> <p>\u5728\u8fd9\u4e2a\u65b9\u6cd5\u4e2d\u8c03\u7528<code>setState()</code>\u5c06\u4f1a\u89e6\u53d1\u4e00\u6b21\u989d\u5916\u7684\u6e32\u67d3\uff0c\u4f46\u662f\u5b83\u5c06\u5728\u6d4f\u89c8\u5668\u5237\u65b0\u5c4f\u5e55\u4e4b\u524d\u53d1\u751f\u3002\u8fd9\u4fdd\u8bc1\u4e86\u5373\u4f7f<code>render()</code>\u5c06\u4f1a\u8c03\u7528\u4e24\u6b21\uff0c\u4f46\u7528\u6237\u4e0d\u4f1a\u770b\u5230\u4e2d\u95f4\u72b6\u6001\u3002\u8c28\u614e\u4f7f\u7528\u8fd9\u4e00\u6a21\u5f0f\uff0c\u56e0\u4e3a\u5b83\u5e38==\u5bfc\u81f4\u6027\u80fd\u95ee\u9898==\u3002</p> <p>\u7136\u800c\uff0c\u5b83\u5bf9\u4e8e\u50cf==\u6a21\u6001\u6846(Modal)\u548c\u5de5\u5177\u63d0\u793a\u6846==\u8fd9\u6837\u7684\u4f8b\u5b50\u662f\u5fc5\u987b\u7684\u3002\u8fd9\u65f6\uff0c\u5728\u6e32\u67d3\u4f9d\u8d56==DOM\u8282\u70b9\u7684\u5c3a\u5bf8\u6216\u8005\u4f4d\u7f6e\u7684\u89c6\u56fe==\u524d\uff0c\u4f60\u9700\u8981\u5148\u6d4b\u91cf\u8fd9\u4e9b\u8282\u70b9\u3002(\u83b7\u53d6\u5f53\u524d\u6309\u94ae\u7684\u4f4d\u7f6e \u9700\u8981\u901a\u8fc7ref\u83b7\u53d6\u8282\u70b9\u7684\u5c3a\u5bf8\u6216\u8005\u4f4d\u7f6e\uff0c\u7136\u540e\u8fdb\u4e00\u6b65\u8ba1\u7b97)</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#unsafe_componentwillreceiveprops","title":"<code>UNSAFE_componentWillReceiveProps()</code>","text":"<pre><code>UNSAFE_componentWillReceiveProps(nextProps)\n</code></pre> <p>\u6ce8\u610f</p> <p>\u63a8\u8350\u4f60\u4f7f\u7528<code>getDerivedStateFromProps</code>\u751f\u547d\u5468\u671f\u800c\u4e0d\u662f<code>UNSAFE_componentWillReceiveProps</code>\u3002\u5173\u4e8e\u6b64\u5efa\u8bae\u5728\u6b64\u4e86\u89e3\u8be6\u60c5\u3002</p> <p><code>UNSAFE_componentWillReceiveProps()</code>\u5728\u88c5\u914d\u4e86\u7684\u7ec4\u4ef6\u63a5\u6536\u5230\u65b0\u5c5e\u6027\u524d\u8c03\u7528\u3002\u82e5\u4f60\u9700\u8981\u66f4\u65b0\u72b6\u6001\u54cd\u5e94\u5c5e\u6027\u6539\u53d8\uff08\u4f8b\u5982\uff0c\u91cd\u7f6e\u5b83\uff09\uff0c\u4f60\u53ef\u80fd\u9700\u5bf9\u6bd4<code>this.props</code>\u548c<code>nextProps</code>\u5e76\u5728\u8be5\u65b9\u6cd5\u4e2d\u4f7f\u7528<code>this.setState()</code>\u5904\u7406\u72b6\u6001\u6539\u53d8\u3002</p> <p>\u6ce8\u610f==\u5373\u4f7f\u5c5e\u6027\u672a\u6709\u4efb\u4f55\u6539\u53d8\uff0cReact\u53ef\u80fd\u4e5f\u4f1a\u8c03\u7528\u8be5\u65b9\u6cd5==\uff0c\u56e0\u6b64\u82e5\u4f60\u60f3\u8981\u5904\u7406\u6539\u53d8\uff0c\u8bf7\u786e\u4fdd\u6bd4\u8f83\u5f53\u524d\u548c\u4e4b\u540e\u7684\u503c\u3002\u8fd9\u53ef\u80fd\u4f1a\u53d1\u751f\u5728\u5f53\u7236\u7ec4\u4ef6\u5f15\u8d77\u4f60\u7684\u7ec4\u4ef6\u91cd\u6e32\u3002</p> <p>\u5728 \u88c5\u914d\u671f\u95f4\uff0cReact\u5e76\u4e0d\u4f1a\u8c03\u7528\u5e26\u6709\u521d\u59cb\u5c5e\u6027\u7684<code>UNSAFE_componentWillReceiveProps</code>\u65b9\u6cd5\u3002\u5176\u4ec5\u4f1a\u8c03\u7528\u8be5\u65b9\u6cd5\u5982\u679c\u67d0\u4e9b\u7ec4\u4ef6\u7684\u5c5e\u6027\u53ef\u80fd\u66f4\u65b0\u3002\u8c03\u7528<code>this.setState</code>\u901a\u5e38\u4e0d\u4f1a\u89e6\u53d1<code>UNSAFE_componentWillReceiveProps</code>\u3002</p> <p>\u6ce8\u610f</p> <p>\u8fd9\u4e00\u751f\u547d\u5468\u671f\u4e4b\u524d\u53eb\u505a<code>componentWillReceiveProps</code>\u3002\u8fd9\u4e00\u540d\u5b57\u572817\u7248\u524d\u90fd\u6709\u6548\u3002\u53ef\u4ee5\u4f7f\u7528<code>rename-unsafe-lifecycles</code> codemod\u6765\u81ea\u52a8\u66f4\u65b0\u4f60\u7684\u7ec4\u4ef6\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#shouldcomponentupdate","title":"<code>shouldComponentUpdate()</code>","text":"<pre><code>shouldComponentUpdate(nextProps, nextState)\n</code></pre> <p>\u4f7f\u7528<code>shouldComponentUpdate()</code>\u4ee5\u8ba9React\u77e5\u9053\u5f53\u524d\u72b6\u6001\u6216\u5c5e\u6027\u7684\u6539\u53d8\u662f\u5426\u4e0d\u5f71\u54cd\u7ec4\u4ef6\u7684\u8f93\u51fa\u3002\u9ed8\u8ba4\u884c\u4e3a\u662f\u5728\u6bcf\u4e00\u6b21\u72b6\u6001\u7684\u6539\u53d8\u91cd\u6e32\uff0c\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u4f60\u5e94\u8be5\u4f9d\u8d56\u4e8e\u9ed8\u8ba4\u884c\u4e3a\u3002</p> <p>\u5f53\u63a5\u6536\u5230\u65b0\u5c5e\u6027\u6216\u72b6\u6001\u65f6\uff0c<code>shouldComponentUpdate()</code> \u5728\u6e32\u67d3\u524d\u88ab\u8c03\u7528\u3002\u9ed8\u8ba4\u4e3a<code>true</code>\u3002\u8be5\u65b9\u6cd5\u5e76\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u6216\u5f53\u4f7f\u7528<code>forceUpdate()</code>\u65f6\u88ab\u8c03\u7528\u3002</p> <p>\u5f53\u4ed6\u4eec\u72b6\u6001\u6539\u53d8\u65f6\uff0c\u8fd4\u56de<code>false</code> \u5e76\u4e0d\u80fd\u963b\u6b62\u5b50\u7ec4\u4ef6\u91cd\u6e32\u3002</p> <p>\u5f53\u524d\uff0c\u82e5<code>shouldComponentUpdate()</code>\u8fd4\u56de<code>false</code>\uff0c\u800c\u540e<code>UNSAFE_componentWillUpdate()</code>\uff0c<code>render()</code>\uff0c \u548c <code>componentDidUpdate()</code>\u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002\u6ce8\u610f\uff0c\u5728\u672a\u6765React\u53ef\u80fd\u4f1a\u5c06<code>shouldComponentUpdate()</code>\u4f5c\u4e3a\u4e00\u4e2a\u7ebf\u7d22\u800c\u4e0d\u662f\u4e00\u4e2a\u4e25\u683c\u6307\u4ee4\uff0c\u8fd4\u56de<code>false</code>\u53ef\u80fd\u4ecd\u7136\u4f7f\u5f97\u7ec4\u4ef6\u91cd\u6e32\u3002</p> <p>\u5728\u89c2\u5bdf\u540e\uff0c\u82e5\u4f60\u5224\u5b9a\u4e00\u4e2a\u5177\u4f53\u7684\u7ec4\u4ef6\u5f88\u6162\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u8c03\u6574\u5176\u4ece<code>React.PureComponent</code>\u7ee7\u627f\uff0c\u5176\u5b9e\u73b0\u4e86\u5e26\u6709\u6d45\u5c5e\u6027\u548c\u72b6\u6001\u6bd4\u8f83\u7684<code>shouldComponentUpdate()</code>\u3002\u82e5\u4f60\u786e\u4fe1\u60f3\u8981\u624b\u5199\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u7528<code>this.props</code>\u548c<code>nextProps</code>\u4ee5\u53ca<code>this.state</code> \u548c <code>nextState</code>\u6bd4\u8f83\uff0c\u5e76\u8fd4\u56de<code>false</code>\u4ee5\u544a\u8bc9React\u66f4\u65b0\u53ef\u4ee5\u88ab\u5ffd\u7565\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#unsafe_componentwillupdate","title":"<code>UNSAFE_componentWillUpdate()</code>","text":"<pre><code>UNSAFE_componentWillUpdate(nextProps, nextState)\n</code></pre> <p>\u5f53\u63a5\u6536\u5230\u65b0\u5c5e\u6027\u6216\u72b6\u6001\u65f6\uff0c<code>UNSAFE_componentWillUpdate()</code>\u4e3a\u5728\u6e32\u67d3\u524d\u88ab\u7acb\u5373\u8c03\u7528\u3002\u5728\u66f4\u65b0\u53d1\u751f\u524d\uff0c\u4f7f\u7528\u8be5\u65b9\u6cd5\u662f\u4e00\u6b21\u51c6\u5907\u673a\u4f1a\u3002\u8be5\u65b9\u6cd5\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u65f6\u8c03\u7528\u3002</p> <p>\u6ce8\u610f\u4f60\u4e0d\u80fd\u5728\u8fd9\u8c03\u7528<code>this.setState()</code>\uff0c\u82e5\u4f60\u9700\u8981\u66f4\u65b0\u72b6\u6001\u54cd\u5e94\u5c5e\u6027\u7684\u8c03\u6574\uff0c\u4f7f\u7528<code>getDerivedStateFromProps()</code> \u4ee3\u66ff\u3002</p> <p>\u6ce8\u610f</p> <p>\u8fd9\u4e00\u751f\u547d\u5468\u671f\u4e4b\u524d\u53eb\u505a<code>componentWillUpdate</code>\u3002\u8fd9\u4e00\u540d\u5b57\u572817\u7248\u524d\u90fd\u6709\u6548\u3002\u53ef\u4ee5\u4f7f\u7528<code>rename-unsafe-lifecycles</code> codemod\u6765\u81ea\u52a8\u66f4\u65b0\u4f60\u7684\u7ec4\u4ef6\u3002</p> <p>\u6ce8\u610f</p> <p>\u82e5<code>shouldComponentUpdate()</code>\u8fd4\u56defalse\uff0c<code>UNSAFE_componentWillUpdate()</code>\u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#getsnapshotbeforeupdate","title":"<code>getSnapshotBeforeUpdate()</code>","text":"<p><code>getSnapshotBeforeUpdate()</code>\u5728\u6700\u65b0\u7684\u6e32\u67d3\u8f93\u51fa\u63d0\u4ea4\u7ed9DOM\u524d\u5c06\u4f1a\u7acb\u5373\u8c03\u7528\u3002\u5b83\u8ba9\u4f60\u7684\u7ec4\u4ef6\u80fd\u5728\u5f53\u524d\u7684\u503c\u53ef\u80fd\u8981\u6539\u53d8\u524d\u83b7\u5f97\u5b83\u4eec\u3002\u8fd9\u4e00\u751f\u547d\u5468\u671f\u8fd4\u56de\u7684\u4efb\u4f55\u503c\u5c06\u4f1a \u4f5c\u4e3a\u53c2\u6570\u88ab\u4f20\u9012\u7ed9<code>componentDidUpdate()</code>\u3002</p> <p>\u4f8b\u5982\uff1a</p> <pre><code>class ScrollingList extends React.Component {\n  listRef = React.createRef();\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    // Are we adding new items to the list?\n    // Capture the current height of the list so we can adjust scroll later.\n    if (prevProps.list.length &lt; this.props.list.length) {\n      return this.listRef.current.scrollHeight;\n    }\n    return null;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    // If we have a snapshot value, we've just added new items.\n    // Adjust scroll so these new items don't push the old ones out of view.\n    if (snapshot !== null) {\n      this.listRef.current.scrollTop +=\n        this.listRef.current.scrollHeight - snapshot;\n    }\n  }\n\n  render() {\n    return (\n      &lt;div ref={this.listRef}&gt;{/* ...contents... */}&lt;/div&gt;\n    );\n  }\n}\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u4e3a\u4e86\u652f\u6301\u5f02\u6b65\u6e32\u67d3\uff0c\u5728<code>getSnapshotBeforeUpdate</code> \u4e2d\u8bfb\u53d6<code>scrollHeight</code>\u800c\u4e0d\u662f<code>componentWillUpdate</code>\uff0c\u8fd9\u70b9\u5f88\u91cd\u8981\u3002\u7531\u4e8e\u5f02\u6b65\u6e32\u67d3\uff0c\u5728\u201c\u6e32\u67d3\u201d\u65f6\u671f\uff08\u5982<code>componentWillUpdate</code>\u548c<code>render</code>\uff09\u548c\u201c\u63d0\u4ea4\u201d\u65f6\u671f\uff08\u5982<code>getSnapshotBeforeUpdate</code>\u548c<code>componentDidUpdate</code>\uff09\u95f4\u53ef\u80fd\u4f1a\u5b58\u5728\u5ef6\u8fdf\u3002\u5982\u679c\u4e00\u4e2a\u7528\u6237\u5728\u8fd9\u671f\u95f4\u505a\u4e86\u50cf\u6539\u53d8\u6d4f\u89c8\u5668\u5c3a\u5bf8\u7684\u4e8b\uff0c\u4ece<code>componentWillUpdate</code>\u4e2d\u8bfb\u51fa\u7684<code>scrollHeight</code>\u503c\u5c06\u662f\u6ede\u540e\u7684\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#componentdidupdate","title":"<code>componentDidUpdate()</code>","text":"<pre><code>componentDidUpdate(prevProps, prevState)\n</code></pre> <p><code>componentDidUpdate()</code>\u4f1a\u5728\u66f4\u65b0\u53d1\u751f\u540e\u7acb\u5373\u88ab\u8c03\u7528\u3002\u8be5\u65b9\u6cd5\u5e76\u4e0d\u4f1a\u5728\u521d\u59cb\u5316\u6e32\u67d3\u65f6\u8c03\u7528\u3002</p> <p>\u5f53\u7ec4\u4ef6\u88ab\u66f4\u65b0\u65f6\uff0c\u4f7f\u7528\u8be5\u65b9\u6cd5\u662f\u64cd\u4f5cDOM\u7684\u4e00\u6b21\u673a\u4f1a\u3002\u8fd9\u4e5f\u662f\u4e00\u4e2a\u9002\u5408\u53d1\u9001\u8bf7\u6c42\u7684\u5730\u65b9\uff0c\u8981\u662f\u4f60\u5bf9\u6bd4\u4e86\u5f53\u524d\u5c5e\u6027\u548c\u4e4b\u524d\u5c5e\u6027\uff08\u4f8b\u5982\uff0c\u5982\u679c\u5c5e\u6027\u6ca1\u6709\u6539\u53d8\u90a3\u4e48\u8bf7\u6c42\u4e5f\u5c31\u6ca1\u5fc5\u8981\u4e86\uff09\u3002</p> <p>\u6ce8\u610f</p> <p>\u82e5<code>shouldComponentUpdate()</code>\u8fd4\u56defalse\uff0c<code>componentDidUpdate()</code>\u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#componentwillunmount","title":"<code>componentWillUnmount()</code>","text":"<pre><code>componentWillUnmount()\n</code></pre> <p><code>componentWillUnmount()</code>\u5728\u7ec4\u4ef6\u88ab\u5378\u8f7d\u548c\u9500\u6bc1\u4e4b\u524d\u7acb\u523b\u8c03\u7528\u3002\u53ef\u4ee5\u5728\u8be5\u65b9\u6cd5\u91cc\u5904\u7406\u4efb\u4f55\u5fc5\u8981\u7684\u6e05\u7406\u5de5\u4f5c\uff0c\u4f8b\u5982\u89e3\u7ed1\u5b9a\u65f6\u5668\uff0c\u53d6\u6d88\u7f51\u7edc\u8bf7\u6c42\uff0c\u6e05\u7406\u4efb\u4f55\u5728<code>componentDidMount</code>\u73af\u8282\u521b\u5efa\u7684DOM\u5143\u7d20\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#componentdidcatch","title":"<code>componentDidCatch()</code>","text":"<pre><code>componentDidCatch(error, info)\n</code></pre> <p>\u9519\u8bef\u8fb9\u754c\u662fReact\u7ec4\u4ef6\uff0c\u5e76\u4e0d\u662f\u635f\u574f\u7684\u7ec4\u4ef6\u6811\u3002\u9519\u8bef\u8fb9\u754c\u6355\u6349\u53d1\u751f\u5728\u5b50\u7ec4\u4ef6\u6811\u4e2d\u4efb\u610f\u5730\u65b9\u7684JavaScript\u9519\u8bef\uff0c\u6253\u5370\u9519\u8bef\u65e5\u5fd7\uff0c\u5e76\u4e14\u663e\u793a\u56de\u9000\u7684\u7528\u6237\u754c\u9762\u3002\u9519\u8bef\u8fb9\u754c\u6355\u6349\u6e32\u67d3\u671f\u95f4\u3001\u5728\u751f\u547d\u5468\u671f\u65b9\u6cd5\u4e2d\u548c\u5728\u5b83\u4eec\u4e4b\u4e0b\u6574\u68f5\u6811\u7684\u6784\u9020\u51fd\u6570\u4e2d\u7684\u9519\u8bef\u3002</p> <p>\u5982\u679c\u5b9a\u4e49\u4e86\u8fd9\u4e00\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u4e00\u4e2a\u7c7b\u7ec4\u4ef6\u5c06\u6210\u4e3a\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u3002\u5728\u9519\u8bef\u8fb9\u754c\u4e2d\u8c03\u7528<code>setState()</code>\u8ba9\u4f60\u6355\u6349\u5f53\u524d\u6811\u4e4b\u4e0b\u672a\u5904\u7406\u7684JavaScript\u9519\u8bef\uff0c\u5e76\u663e\u793a\u56de\u9000\u7684\u7528\u6237\u754c\u9762\u3002\u53ea\u4f7f\u7528\u9519\u8bef\u8fb9\u754c\u6765\u6062\u590d\u5f02\u5e38\uff0c\u800c\u4e0d\u8981\u5c1d\u8bd5\u5c06\u5b83\u4eec\u7528\u4e8e\u63a7\u5236\u6d41\u3002</p> <p>\u8be6\u60c5\u8bf7\u89c1React 16\u4e2d\u7684\u9519\u8bef\u5904\u7406\u3002</p> <p>\u6ce8\u610f</p> <p>\u9519\u8bef\u8fb9\u754c\u53ea\u6355\u6349\u6811\u4e2d\u53d1\u751f\u5728\u5b83\u4eec**\u4e4b\u4e0b**\u7ec4\u4ef6\u91cc\u7684\u9519\u8bef\u3002\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u5e76\u4e0d\u80fd\u6355\u6349\u5b83\u81ea\u5df1\u5185\u90e8\u7684\u9519\u8bef\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#setstate","title":"<code>setState()</code>","text":"<pre><code>setState(updater, [callback])\n</code></pre> <p><code>setState()</code>\u5c06\u9700\u8981\u5904\u7406\u7684\u53d8\u5316\u585e\u5165\uff08\u8bd1\u8005\u6ce8\uff1asetState\u6e90\u7801\u4e2d\u5c06\u4e00\u4e2a\u9700\u8981\u6539\u53d8\u7684\u53d8\u5316\u5b58\u653e\u5230\u7ec4\u4ef6\u7684state\u5bf9\u8c61\u4e2d\uff0c\u91c7\u7528\u961f\u5217\u5904\u7406\uff09\u7ec4\u4ef6\u7684state\u5bf9\u8c61\u4e2d\uff0c \u5e76\u544a\u8bc9\u8be5\u7ec4\u4ef6\u53ca\u5176\u5b50\u7ec4\u4ef6\u9700\u8981\u7528\u66f4\u65b0\u7684\u72b6\u6001\u6765\u91cd\u65b0\u6e32\u67d3\u3002\u8fd9\u662f\u7528\u4e8e==\u54cd\u5e94\u4e8b\u4ef6\u5904\u7406\u548c\u670d\u52a1\u7aef\u54cd\u5e94\u7684\u66f4\u65b0\u7528\u6237\u754c\u9762\u7684\u4e3b\u8981\u65b9\u5f0f==\u3002</p> <p>\u5c06<code>setState()</code>\u8ba4\u4e3a\u662f\u4e00\u6b21*\u8bf7\u6c42*\u800c\u4e0d\u662f\u4e00\u6b21\u7acb\u5373\u6267\u884c\u66f4\u65b0\u7ec4\u4ef6\u7684\u547d\u4ee4\u3002\u4e3a\u4e86\u66f4\u4e3a\u53ef\u89c2\u7684\u6027\u80fd\uff0cReact\u53ef\u80fd\u4f1a\u63a8\u8fdf\u5b83\uff0c\u7a0d\u540e\u4f1a\u4e00\u6b21\u6027\u66f4\u65b0\u8fd9\u4e9b\u7ec4\u4ef6\u3002React\u4e0d\u4f1a\u4fdd\u8bc1\u5728setState\u4e4b\u540e\uff0c\u80fd\u591f\u7acb\u523b\u62ff\u5230\u6539\u53d8\u7684\u7ed3\u679c\u3002</p> <p><code>setState()</code>\u4e0d\u662f\u7acb\u523b\u66f4\u65b0\u7ec4\u4ef6\u3002\u5176\u53ef\u80fd\u662f==\u6279\u5904\u7406\u6216\u63a8\u8fdf\u66f4\u65b0==\u3002\u8fd9\u4f7f\u5f97\u5728\u8c03\u7528<code>setState()</code>\u540e\u7acb\u523b\u8bfb\u53d6<code>this.state</code>\u7684\u4e00\u4e2a\u6f5c\u5728\u9677\u9631\u3002\u4ee3\u66ff\u5730\uff0c\u4f7f\u7528<code>componentDidUpdate</code>\u6216\u4e00\u4e2a<code>setState</code>\u56de\u8c03\uff08<code>setState(updater, callback)</code>\uff09\uff0c\u5f53\u4e2d\u7684\u6bcf\u4e2a\u65b9\u6cd5\u90fd\u4f1a\u4fdd\u8bc1\u5728\u66f4\u65b0\u88ab\u5e94\u7528\u4e4b\u540e\u89e6\u53d1\u3002\u82e5\u4f60\u9700\u8981\u57fa\u4e8e\u4e4b\u524d\u7684\u72b6\u6001\u6765\u8bbe\u7f6e\u72b6\u6001\uff0c\u9605\u8bfb\u4e0b\u9762\u5173\u4e8e<code>updater</code>\u53c2\u6570\u7684\u4ecb\u7ecd\u3002</p> <p>\u9664\u975e<code>shouldComponentUpdate()</code> \u8fd4\u56de<code>false</code>\uff0c\u5426\u5219<code>setState()</code>\u6c38\u8fdc\u90fd\u4f1a\u5bfc\u81f4\u91cd\u6e32\u3002\u82e5\u4f7f\u7528\u53ef\u53d8\u5bf9\u8c61\u540c\u65f6\u6761\u4ef6\u6e32\u67d3\u903b\u8f91\u65e0\u6cd5\u5728<code>shouldComponentUpdate()</code>\u4e2d\u5b9e\u73b0\uff0c\u4ec5\u5f53\u65b0\u72b6\u6001\u4e0d\u540c\u4e8e\u4e4b\u524d\u72b6\u6001\u65f6\u8c03\u7528<code>setState()</code>\uff0c\u5c06\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u91cd\u6e32\u3002</p> <p>\u7b2c\u4e00\u4e2a\u51fd\u6570\u662f\u5e26\u7b7e\u540d\u7684<code>updater</code>\u51fd\u6570\uff1a</p> <pre><code>(prevState, props) =&gt; stateChange\n</code></pre> <p><code>prevState</code>\u662f\u4e4b\u524d\u72b6\u6001\u7684\u5f15\u7528\u3002\u5176\u4e0d\u5e94\u8be5\u88ab\u76f4\u63a5\u6539\u53d8\u3002\u4ee3\u66ff\u5730\uff0c\u6539\u53d8\u5e94\u8be5\u901a\u8fc7\u6784\u5efa\u4e00\u4e2a\u6765\u81ea\u4e8e<code>prevState</code> \u548c <code>props</code>\u8f93\u5165\u7684\u65b0\u5bf9\u8c61\u6765\u8868\u793a\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u6211\u4eec\u60f3\u901a\u8fc7<code>props.step</code>\u5728\u72b6\u6001\u4e2d\u589e\u52a0\u4e00\u4e2a\u503c\uff1a</p> <pre><code>this.setState((prevState, props) =&gt; {\n  return {counter: prevState.counter + props.step};\n});\n</code></pre> <p>updater\u51fd\u6570\u63a5\u6536\u5230\u7684<code>prevState</code> \u548c <code>props</code>\u4fdd\u8bc1\u90fd\u662f\u6700\u65b0\u7684\u3002updater\u7684\u8f93\u51fa\u662f\u548c<code>prevState</code>\u7684\u6d45\u5408\u5e76\u3002</p> <p><code>setState()</code>\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u53ef\u9009\u5730\u56de\u8c03\u51fd\u6570\uff0c\u5176\u5c06\u4f1a\u5728<code>setState</code>\u6267\u884c\u5b8c\u6210\u540c\u65f6\u7ec4\u4ef6\u88ab\u91cd\u6e32\u4e4b\u540e\u6267\u884c\u3002\u901a\u5e38\uff0c\u5bf9\u4e8e\u8fd9\u7c7b\u903b\u8f91\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528<code>componentDidUpdate</code>\u3002</p> <p>\u4f60\u53ef\u4ee5\u9009\u62e9\u6027\u5730\u4f20\u9012\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a <code>setState()</code>\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u800c\u4e0d\u662f\u4e00\u4e2a\u51fd\u6570\uff1a</p> <pre><code>setState(stateChange, [callback])\n</code></pre> <p>\u5176\u4ec5\u662f\u5c06<code>stateChange</code>\u6d45\u5408\u5e76\u5230\u65b0\u72b6\u6001\u4e2d\u3002\u4f8b\u5982\uff0c\u8c03\u6574\u8d2d\u7269\u8f66\u4e2d\u7269\u54c1\u6570\u91cf\uff1a</p> <pre><code>this.setState({quantity: 2})\n</code></pre> <p>\u8fd9\u4e00\u5f62\u5f0f\u7684<code>setState()</code>\u4e5f\u662f\u5f02\u6b65\u7684\uff0c\u5e76\u5728\u76f8\u540c\u7684\u5468\u671f\u4e2d\u591a\u6b21\u8c03\u7528\u53ef\u80fd\u4f1a\u88ab\u5408\u5e76\u5230\u4e00\u8d77\u3002\u4f8b\u5982\uff0c\u82e5\u4f60\u5728\u76f8\u540c\u7684\u5468\u671f\u4e2d\u5c1d\u8bd5\u591a\u6b21\u589e\u52a0\u4e00\u4ef6\u7269\u54c1\u7684\u6570\u91cf\uff0c\u5176\u7b49\u4ef7\u4e8e\uff1a</p> <pre><code>Object.assign(\n  previousState,\n  {quantity: state.quantity + 1},\n  {quantity: state.quantity + 1},\n  ...\n)\n</code></pre> <p>\u4e4b\u540e\u7684\u8c03\u7528\u5728\u540c\u4e00\u5468\u671f\u4e2d\u5c06\u4f1a\u91cd\u5199\u4e4b\u524d\u8c03\u7528\u7684\u503c\uff0c\u56e0\u6b64\u6570\u91cf\u4ec5\u4f1a\u88ab\u52a0\u4e00\u3002\u82e5\u4e4b\u540e\u7684\u72b6\u6001\u4f9d\u8d56\u4e8e\u4e4b\u524d\u7684\u72b6\u6001\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528updater\u51fd\u6570\u5f62\u5f0f\uff1a</p> <pre><code>this.setState((prevState) =&gt; {\n  return {counter: prevState.quantity + 1};\n});\n</code></pre> <p>\u66f4\u591a\u7ec6\u8282\uff0c\u67e5\u770bState &amp; \u751f\u547d\u5468\u671f\u6307\u5357\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#forceupdate","title":"<code>forceUpdate()</code>","text":"<pre><code>component.forceUpdate(callback)\n</code></pre> <p>\u9ed8\u8ba4\u60c5\u51b5\uff0c\u5f53\u4f60\u7684\u7ec4\u4ef6\u6216\u72b6\u6001\u53d1\u751f\u6539\u53d8\uff0c\u4f60\u7684\u7ec4\u4ef6\u5c06\u4f1a\u91cd\u6e32\u3002\u82e5\u4f60\u7684<code>render()</code>\u65b9\u6cd5\u4f9d\u8d56\u5176\u4ed6\u6570\u636e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528<code>forceUpdate()</code>\u6765\u544a\u8bc9React\u7ec4\u4ef6\u9700\u8981\u91cd\u6e32\u3002</p> <p>\u8c03\u7528<code>forceUpdate()</code>\u5c06\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u7684 <code>render()</code>\u65b9\u6cd5\u88ab\u8c03\u7528\uff0c\u5e76\u5ffd\u7565<code>shouldComponentUpdate()</code>\u3002\u8fd9\u5c06\u4f1a\u89e6\u53d1\u6bcf\u4e00\u4e2a\u5b50\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u6db5\u76d6\uff0c\u6bcf\u4e2a\u5b50\u7ec4\u4ef6\u7684<code>shouldComponentUpdate()</code> \u65b9\u6cd5\u3002\u82e5\u5f53\u6807\u7b7e\u6539\u53d8\uff0cReact\u4ec5\u4f1a\u66f4\u65b0DOM\u3002</p> <p>\u901a\u5e38\u4f60\u5e94\u8be5\u5c1d\u8bd5\u907f\u514d\u6240\u6709<code>forceUpdate()</code> \u7684\u7528\u6cd5\u5e76\u4ec5\u5728<code>render()</code>\u51fd\u6570\u91cc\u4ece<code>this.props</code>\u548c<code>this.state</code>\u8bfb\u53d6\u6570\u636e\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_11","title":"\u7c7b\u5c5e\u6027","text":""},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#defaultprops","title":"<code>defaultProps</code>","text":"<p><code>defaultProps</code>\u53ef\u4ee5\u88ab\u5b9a\u4e49\u4e3a\u7ec4\u4ef6\u7c7b\u7684\u4e00\u4e2a\u5c5e\u6027\uff0c\u7528\u4ee5\u4e3a\u7c7b\u8bbe\u7f6e\u9ed8\u8ba4\u7684\u5c5e\u6027\u3002\u8fd9\u5bf9\u4e8e\u672a\u5b9a\u4e49\uff08undefined\uff09\u7684\u5c5e\u6027\u6765\u8bf4\u6709\u7528\uff0c\u800c\u5bf9\u4e8e\u8bbe\u4e3a\u7a7a\uff08null\uff09\u7684\u5c5e\u6027\u5e76\u6ca1\u7528\u3002\u4f8b\u5982</p> <p>defaultProps</p> <pre><code>class CustomButton extends React.Component {\n  // ...\n}\n\nCustomButton.defaultProps = {\n  color: 'blue'\n};\n</code></pre> <p>\u82e5\u672a\u8bbe\u7f6e<code>props.color</code>\uff0c\u5176\u5c06\u88ab\u8bbe\u7f6e\u9ed8\u8ba4\u4e3a<code>'blue'</code>:</p> <pre><code>  render() {\n    return &lt;CustomButton /&gt; ; // props.color will be set to blue\n  }\n</code></pre> <p>\u82e5<code>props.color</code>\u8bbe\u4e3anull\uff0c\u5219\u5176\u503c\u5219\u4e3anull\uff1a</p> <pre><code>  render() {\n    return &lt;CustomButton color={null} /&gt; ; // props.color will remain null\n  }\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#displayname","title":"<code>displayName</code>","text":"<p><code>displayName</code>\u88ab\u7528\u5728\u8c03\u8bd5\u4fe1\u606f\u4e2d\u3002JSX\u4f1a\u81ea\u52a8\u8bbe\u7f6e\u8be5\u503c\uff1b\u67e5\u770b\u6df1\u5165JSX\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_12","title":"\u5b9e\u4f8b\u5c5e\u6027","text":""},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#props","title":"<code>props</code>","text":"<p><code>this.props</code>\u5305\u542b\u4e86\u7ec4\u4ef6\u8be5\u8c03\u7528\u8005\u5b9a\u4e49\u7684\u5c5e\u6027\u3002\u67e5\u770b\u7ec4\u4ef6 &amp; Props\u5173\u4e8e\u5c5e\u6027\u7684\u4ecb\u7ecd\u3002</p> <p>\u7279\u522b\u5730\uff0c<code>this.props.children</code>\u662f\u4e00\u4e2a\u7279\u522b\u5c5e\u6027\uff0c\u5176\u901a\u5e38\u7531JSX\u8868\u8fbe\u5f0f\u4e2d\u7684\u5b50\u6807\u7b7e\u5b9a\u4e49\uff0c\u800c\u4e0d\u662f\u6807\u7b7e\u672c\u8eab\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#state","title":"<code>state</code>","text":"<p>\u72b6\u6001\u662f\u8be5\u7ec4\u4ef6\u7684\u7279\u5b9a\u6570\u636e\uff0c\u5176\u53ef\u80fd\u6539\u53d8\u591a\u6b21\u3002\u72b6\u6001\u7531\u7528\u6237\u5b9a\u4e49\uff0c\u4e14\u5176\u5e94\u4e3a\u7eafJavaScript\u5bf9\u8c61\u3002</p> <p>\u82e5\u4f60\u4e0d\u5728<code>render()</code>\u65b9\u6cd5\u4e2d\u4f7f\u7528\u5b83\uff0c\u5176\u4e0d\u5e94\u8be5\u8be5\u88ab\u653e\u5728\u72b6\u6001\u4e0a\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u76f4\u63a5\u5c06timer IDs\u653e\u5728\u5b9e\u4f8b\u4e0a\u3002</p> <p>\u67e5\u770bState &amp; \u751f\u547d\u5468\u671f\u4e86\u89e3\u66f4\u591a\u5173\u4e8e\u72b6\u6001\u7684\u4fe1\u606f\u3002</p> <p>\u6c38\u8fdc\u4e0d\u8981\u76f4\u63a5\u6539\u53d8<code>this.state</code>\uff0c\u56e0\u4e3a\u8c03\u7528<code>setState()</code>\u4f1a\u66ff\u6362\u4f60\u4e4b\u524d\u505a\u7684\u6539\u53d8\u3002\u5c06<code>this.state</code>\u5f53\u6210\u4e0d\u53ef\u53d8\u7684\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#reactdom","title":"ReactDOM","text":"<p>\u5982\u679c\u4f60\u7528\u4e00\u4e2a<code>&lt;script&gt;</code>\u6807\u7b7e\u5bfc\u5165React, \u6240\u6709\u7684\u9876\u9636\u7684API\u90fd\u80fd\u5728<code>ReactDOM</code>\u7684\u5168\u5c40\u8303\u56f4\u5185\u88ab\u8c03\u7528\u3002 \u5982\u679c\u4f60\u7528\u7684\u662f npm\u642d\u914dES6\u6807\u51c6\uff0c\u4f60\u53ef\u4ee5\u7528<code>import ReactDOM from 'react-dom'</code>\u3002\u5982\u679c\u662fnpm\u548cES5\uff0c\u4f60\u53ef\u4ee5\u7528<code>var ReactDOM = require('react-dom')</code>\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_13","title":"\u603b\u89c8","text":"<p><code>react-dom</code>\u8fd9\u4e2a\u8f6f\u4ef6\u5305\u63d0\u4f9b\u4e86\u9488\u5bf9DOM\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728\u4f60\u5e94\u7528\u7684\u9876\u7ea7\u57df\u4e2d\u8c03\u7528\uff0c\u4e5f\u53ef\u4ee5\u5728\u6709\u9700\u8981\u7684\u60c5\u51b5\u4e0b\u7528\u4f5c\u8df3\u51faReact\u6a21\u578b\u7684\u51fa\u53e3\u3002\u4f60\u7684\u5927\u90e8\u5206\u7ec4\u4ef6\u90fd\u4e0d\u5e94\u8be5\u9700\u8981\u4f7f\u7528\u8fd9\u4e2a\u5305\u3002</p> <ul> <li><code>render()</code></li> <li><code>unmountComponentAtNode()</code></li> <li><code>findDOMNode()</code></li> </ul>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_14","title":"\u6d4f\u89c8\u5668\u517c\u5bb9","text":"<p>React\u517c\u5bb9\u6240\u6709\u5e38\u7528\u7684\u6d4f\u89c8\u5668\uff0c\u5305\u62ecIE9\u53ca\u4ee5\u4e0a\u7684\u7248\u672c\u3002</p> <p>\u6ce8\u610f</p> <p>\u6211\u4eec\u4e0d\u652f\u6301\u90a3\u4e9b\u4e0d\u517c\u5bb9ES5\u65b9\u6cd5\u7684\u8001\u7248\u6d4f\u89c8\u5668\uff0c\u4f46\u5982\u679c\u4f60\u7684\u5e94\u7528\u5305\u542b\u4e86polyfill\uff0c\u4f8b\u5982es5-shim \u548c es5-sham\uff0c\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u4f60\u7684\u5e94\u7528\u4ecd\u7136\u53ef\u4ee5\u5728\u8fd9\u4e9b\u6d4f\u89c8\u5668\u4e2d\u6b63\u5e38\u8fd0\u884c\u3002\u5982\u679c\u4f60\u9009\u62e9\u8fd9\u4e48\u5e72\uff0c\u4f60\u5c31\u53ea\u80fd\u5b64\u519b\u594b\u6218\u4e86\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#api_1","title":"\u5e38\u7528API","text":""},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#render_1","title":"<code>render()</code>","text":"<pre><code>ReactDOM.render(\n  element,\n  container,\n  [callback]\n)\n</code></pre> <p>\u6e32\u67d3\u4e00\u4e2aReact\u5143\u7d20\uff0c\u6dfb\u52a0\u5230\u4f4d\u4e8e\u63d0\u4f9b\u7684<code>container</code>\u91cc\u7684DOM\u5143\u7d20\u4e2d\uff0c\u5e76\u8fd4\u56de\u8fd9\u4e2a\u7ec4\u4ef6\u7684\u4e00\u4e2a \u5f15\u7528 (\u6216\u8005\u5bf9\u4e8e\u65e0\u72b6\u6001\u7ec4\u4ef6\u8fd4\u56de<code>null</code>).</p> <p>\u5982\u679c\u8fd9\u4e2aReact\u5143\u7d20\u4e4b\u524d\u5df2\u7ecf\u88ab\u6e32\u67d3\u5230<code>container</code>\u91cc\u53bb\u4e86\uff0c\u8fd9\u6bb5\u4ee3\u7801\u5c31\u4f1a\u8fdb\u884c\u4e00\u6b21\u66f4\u65b0\uff0c\u5e76\u4e14\u53ea\u4f1a\u6539\u53d8\u90a3\u4e9b\u53cd\u6620\u5143\u7d20\u6700\u65b0\u72b6\u6001\u6240\u5fc5\u987b\u7684DOM\u5143\u7d20\u3002</p> <p>\u56de\u8c03\u51fd\u6570\u662f\u53ef\u9009\u7684\u3002\u5982\u679c\u4f60\u63d0\u4f9b\u4e86\uff0c\u7a0b\u5e8f\u4f1a\u5728\u6e32\u67d3\u6216\u66f4\u65b0\u4e4b\u540e\u6267\u884c\u8fd9\u4e2a\u51fd\u6570\u3002</p> <p>\u6ce8\u610f:</p> <p><code>ReactDOM.render()</code> \u63a7\u5236\u4f60\u4f20\u8fdb\u6765\u7684\u5bb9\u5668\u8282\u70b9\u91cc\u7684\u7684\u5185\u5bb9\u3002\u7b2c\u4e00\u6b21\u88ab\u8c03\u7528\u65f6\uff0c\u5185\u90e8\u6240\u6709\u5df2\u7ecf\u5b58\u5728\u7684DOM\u5143\u7d20\u90fd\u4f1a\u88ab\u66ff\u6362\u6389\u3002\u4e4b\u540e\u7684\u8c03\u7528\u4f1a\u4f7f\u7528React\u7684DOM\u6bd4\u8f83\u7b97\u6cd5\u8fdb\u884c\u9ad8\u6548\u7684\u66f4\u65b0\u3002</p> <p><code>ReactDOM.render()</code>\u4e0d\u4f1a\u4fee\u6539\u5bb9\u5668\u8282\u70b9\uff08\u53ea\u4fee\u6539\u5bb9\u5668\u7684\u5b50\u9879\uff09\u3002\u4f60\u53ef\u4ee5\u5728\u4e0d\u8986\u76d6\u5df2\u6709\u5b50\u8282\u70b9\u7684\u60c5\u51b5\u4e0b\u6dfb\u52a0\u4e00\u4e2a\u7ec4\u4ef6\u5230\u5df2\u6709\u7684DOM\u8282\u70b9\u4e2d\u53bb\u3002</p> <p><code>ReactDOM.render()</code> \u76ee\u524d\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5f15\u7528\uff0c \u6307\u5411 <code>ReactComponent</code>\u7684\u6839\u5b9e\u4f8b\u3002\u4f46\u662f\u8fd9\u4e2a\u8fd4\u56de\u503c\u662f\u5386\u53f2\u9057\u7559\uff0c\u5e94\u8be5\u907f\u514d\u4f7f\u7528\u3002\u56e0\u4e3a\u672a\u6765\u7248\u672c\u7684React\u53ef\u80fd\u4f1a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u8fdb\u884c\u5f02\u6b65\u6e32\u67d3\u3002\u5982\u679c\u4f60\u771f\u7684\u9700\u8981\u4e00\u4e2a\u6307\u5411 <code>ReactComponent</code> \u7684\u6839\u5b9e\u4f8b\u7684\u5f15\u7528\uff0c\u63a8\u8350\u7684\u65b9\u6cd5\u662f\u6dfb\u52a0\u4e00\u4e2a callback ref \u5230\u6839\u5143\u7d20\u4e0a\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#unmountcomponentatnode","title":"<code>unmountComponentAtNode()</code>","text":"<pre><code>ReactDOM.unmountComponentAtNode(container)\n</code></pre> <p>\u4eceDOM\u5143\u7d20\u4e2d\u79fb\u9664\u5df2\u6302\u8f7d\u7684React\u7ec4\u4ef6\uff0c\u6e05\u9664\u5b83\u7684\u4e8b\u4ef6\u5904\u7406\u5668\u548cstate\u3002\u5982\u679c\u5bb9\u5668\u5185\u6ca1\u6709\u6302\u8f7d\u4efb\u4f55\u7ec4\u4ef6\uff0c\u8fd9\u4e2a\u51fd\u6570\u4ec0\u4e48\u90fd\u4e0d\u4f1a\u5e72\u3002 \u6709\u7ec4\u4ef6\u88ab\u5378\u8f7d\u7684\u65f6\u5019\u8fd4\u56de<code>true</code>\uff0c\u6ca1\u6709\u7ec4\u4ef6\u53ef\u4f9b\u5378\u8f7d\u65f6\u8fd4\u56de <code>false</code>\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#finddomnode","title":"<code>findDOMNode()</code>","text":"<pre><code>ReactDOM.findDOMNode(component)\n</code></pre> <p>\u5982\u679c\u8fd9\u4e2a\u7ec4\u4ef6\u5df2\u7ecf\u88ab\u6302\u8f7d\u5230DOM\u4e2d\uff0c\u51fd\u6570\u4f1a\u8fd4\u56de\u5bf9\u5e94\u7684\u6d4f\u89c8\u5668\u4e2d\u751f\u6210\u7684DOM\u5143\u7d20 \u3002 \u5f53\u4f60\u9700\u8981\u4eceDOM\u4e2d\u8bfb\u53d6\u503c\u65f6\uff0c\u6bd4\u5982\u8868\u5355\u7684\u503c\uff0c\u6216\u8005\u8ba1\u7b97DOM\u5143\u7d20\u7684\u5c3a\u5bf8\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f1a\u975e\u5e38\u6709\u7528\u3002 \u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e2a\u6307\u5411DOM\u8282\u70b9\u7684\u5f15\u7528\uff0c\u4ece\u800c\u5b8c\u5168\u907f\u514d\u4f7f\u7528findDOMNode \u8fd9\u4e2a\u51fd\u6570. \u5f53 <code>render</code> \u8fd4\u56de <code>null</code> \u6216\u8005 <code>false</code> \u65f6, <code>findDOMNode</code> \u4e5f\u8fd4\u56de <code>null</code>.</p> <p>\u6ce8\u610f:</p> <p><code>findDOMNode</code> \u662f\u7528\u4e8e\u64cd\u4f5c\u5e95\u5c42DOM\u8282\u70b9\u7684\u5907\u7528\u65b9\u6848\u3002\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u90fd\u4e0d\u63d0\u5021\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6848\uff0c\u56e0\u4e3a\u5b83\u7834\u574f\u4e86\u7ec4\u4ef6\u7684\u62bd\u8c61\u5316\u3002</p> <p><code>findDOMNode</code> \u53ea\u5bf9\u6302\u8f7d\u8fc7\u7684\u7ec4\u4ef6\u6709\u6548\uff08\u4e5f\u5c31\u662f\u5df2\u7ecf\u6dfb\u52a0\u5230DOM\u4e2d\u53bb\u7684\u7ec4\u4ef6\uff09\u3002\u5982\u679c\u4f60\u8bd5\u56fe\u5bf9\u4e00\u4e2a\u672a\u6302\u8f7d\u7684\u7ec4\u4ef6\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570 \uff08\u6bd4\u5982\u5728\u4e00\u4e2a\u8fd8\u672a\u521b\u5efa\u7684\u7ec4\u4ef6\u7684 <code>render()</code> \u51fd\u6570\u4e2d\u4e2d\u8c03\u7528 <code>findDOMNode()</code>\uff09\uff0c\u7a0b\u5e8f\u4f1a\u629b\u51fa\u4e00\u4e2a\u5f02\u5e38\u3002</p> <p><code>findDOMNode</code> \u4e0d\u80fd\u7528\u4e8e\u51fd\u6570\u5f0f\u7684\u7ec4\u4ef6\u4e2d\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#reactdomserver","title":"ReactDOMServer","text":"<p>\u5982\u679c\u4f60\u901a\u8fc7 <code>&lt;script&gt;</code> \u6807\u7b7e\u52a0\u8f7dReact\uff0c\u8fd9\u4e9b\u9ad8\u9636API\u53ef\u7528\u4e8e <code>ReactDOMServer</code> \u5168\u5c40\u3002\u5982\u679c\u4f60\u4f7f\u7528ES6\uff0c\u4f60\u53ef\u4ee5\u5199\u6210 <code>import ReactDOMServer from 'react-dom/server'</code>\u3002\u5982\u679c\u4f60\u4f7f\u7528ES5\uff0c\u4f60\u53ef\u4ee5\u5199\u6210 <code>var ReactDOMServer = require('react-dom/server')</code>\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_15","title":"\u6982\u89c8","text":"<p><code>ReactDOMServer</code> \u7c7b\u53ef\u4ee5\u8ba9\u4f60==\u5728\u670d\u52a1\u7aef\u6e32\u67d3\u4f60\u7684\u7ec4\u4ef6==\u3002</p> <p>PS\uff1acomponentWillMount\u7684\u5185\u5bb9\u5728\u670d\u52a1\u7aef\u6e32\u67d3\u4ee3\u7801\u3002ComponentDidMount\u5728\u6d4f\u89c8\u5668\u6e32\u67d3\u4ee3\u7801\u3002\u5c3d\u91cf\u4f7f\u7528\u540e\u9762\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\u3002</p> <ul> <li><code>renderToString()</code></li> <li><code>renderToStaticMarkup()</code></li> </ul>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#reference_1","title":"Reference","text":""},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#rendertostring","title":"<code>renderToString()</code>","text":"<pre><code>ReactDOMServer.renderToString(element)\n</code></pre> <p>\u628a\u4e00\u4e2aReact\u5143\u7d20\u6e32\u67d3\u4e3a\u539f\u59cb\u7684HTML\u3002\u8fd9\u4e2a\u65b9\u6cd5\u6700\u597d\u53ea\u5728\u670d\u52a1\u7aef\u4f7f\u7528\u3002React\u5c06\u4f1a\u8fd4\u56de\u4e00\u6bb5HTML\u5b57\u7b26\u4e32\u3002\u4f60\u53ef\u4ee5\u7528\u8fd9\u4e2a\u65b9\u6cd5\u5728\u670d\u52a1\u7aef\u751f\u6210HTML\uff0c\u5e76\u6839\u636e\u521d\u59cb\u8bf7\u6c42\u53d1\u9001\u6807\u8bb0\u6765\u52a0\u5feb\u9875\u9762\u7684\u52a0\u8f7d\u901f\u5ea6\uff0c\u540c\u65f6\u8ba9\u641c\u7d22\u5f15\u64ce\u53ef\u4ee5\u6293\u53d6\u4f60\u7684\u9875\u9762\u6765\u8fbe\u5230\u4f18\u5316SEO\u7684\u76ee\u7684\u3002</p> <p>\u5982\u679c\u5728\u4e00\u4e2a\u5df2\u7ecf\u6709\u4e86\u670d\u52a1\u7aef\u6e32\u67d3\u6807\u8bb0\u7684\u8282\u70b9\u4e0a\u8c03\u7528 <code>ReactDOM.render()</code> \uff0cReact\u5c06\u4fdd\u7559\u8be5\u8282\u70b9\uff0c\u4ec5\u4f5c\u7ed1\u5b9a\u4e8b\u4ef6\u5904\u7406\uff0c\u8fd9\u4f1a\u8ba9\u4f60\u6709\u4e00\u4e2a\u975e\u5e38\u9ad8\u6548\u7684\u521d\u6b21\u52a0\u8f7d\u4f53\u9a8c\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#rendertostaticmarkup","title":"<code>renderToStaticMarkup()</code>","text":"<pre><code>ReactDOMServer.renderToStaticMarkup(element)\n</code></pre> <p>\u7c7b\u4f3c <code>renderToString</code>\uff0c\u4f46\u662f\u4e0d\u4f1a\u521b\u5efa\u989d\u5916\u7684DOM\u5c5e\u6027\uff0c\u4f8b\u5982 <code>data-reactid</code> \u8fd9\u4e9b\u4ec5\u5728React\u5185\u90e8\u4f7f\u7528\u7684\u5c5e\u6027\u3002\u5982\u679c\u4f60\u5e0c\u671b\u628aReact\u5f53\u4f5c\u4e00\u4e2a\u7b80\u5355\u7684\u9759\u6001\u9875\u9762\u751f\u6210\u5668\u6765\u4f7f\u7528\uff0c\u8fd9\u5f88\u6709\u7528\uff0c\u56e0\u4e3a\u53bb\u6389\u989d\u5916\u7684\u5c5e\u6027\u53ef\u4ee5\u8282\u7701\u5f88\u591a\u5b57\u8282\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#dom-elements","title":"DOM Elements","text":"<p>React\u5b9e\u73b0\u4e86\u4e00\u5957\u4e0e\u6d4f\u89c8\u5668\u65e0\u5173\u7684DOM\u7cfb\u7edf\uff0c\u517c\u987e\u4e86\u6027\u80fd\u548c\u8de8\u6d4f\u89c8\u5668\u7684\u517c\u5bb9\u6027\u3002\u501f\u6b64\u673a\u4f1a\uff0c\u6211\u4eec\u6e05\u7406\u4e86\u6d4f\u89c8\u5668DOM\u5b9e\u73b0\u4e2d\u4e00\u4e9b\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\u3002</p> <p>\u5728React\u4e2d\uff0c\u6240\u6709\u7684DOM\u7279\u6027\u548c\u5c5e\u6027\uff08\u5305\u62ec\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\uff09\u90fd\u662f\u5c0f\u9a7c\u5cf0\u547d\u540d\u6cd5\u547d\u540d\u3002\u6bd4\u5982\u8bf4\uff0c\u4e0eHTML\u4e2d\u7684<code>tabindex</code>\u5c5e\u6027\u5bf9\u5e94\u7684React\u5b9e\u73b0\u547d\u540d\u5219\u662f<code>tabIndex</code>\u3002<code>aria-*</code>\u548c<code>data-*</code>\u5c5e\u6027\u662f\u4f8b\u5916\u7684\uff0c\u4e00\u5f8b\u4f7f\u7528\u5c0f\u5199\u5b57\u6bcd\u547d\u540d\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#reacthtml-dom","title":"React\u548cHTML DOM\u5c5e\u6027\u7684\u533a\u522b","text":"<p>\u6709\u8bb8\u591a\u7684\u5c5e\u6027\u5728React\u548cHtml\u4e4b\u95f4\u884c\u4e3a\u662f\u4e0d\u4e00\u6837\u7684</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#checked","title":"checked\u5c5e\u6027","text":"<p><code>&lt;input&gt;</code>\u6807\u7b7etype\u5c5e\u6027\u503c\u4e3a<code>checkbox</code>\u6216<code>radio</code>\u65f6\uff0c\u652f\u6301<code>checked</code>\u5c5e\u6027\u3002\u8fd9\u5bf9\u4e8e\u6784\u5efa\u53d7\u63a7\u7ec4\u4ef6\u5f88\u6709\u7528\u3002\u4e0e\u4e4b\u76f8\u5bf9<code>defaultChecked</code>\u8fd9\u662f\u975e\u53d7\u63a7\u7ec4\u4ef6\u7684\u5c5e\u6027\uff0c\u7528\u6765\u8bbe\u5b9a\u5bf9\u5e94\u7ec4\u4ef6\u9996\u6b21\u52a0\u8f7d\u65f6\u662f\u5426\u9009\u4e2d\u72b6\u6001\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_16","title":"\u7c7b\u540d\u5c5e\u6027","text":"<p>\u5728React\u4e2d\uff0c\u4f7f\u7528<code>className</code>\u5c5e\u6027\u6307\u5b9a\u4e00\u4e2aCSS\u7c7b\u3002\u8fd9\u4e2a\u7279\u6027\u9002\u7528\u4e8e\u6240\u6709\u7684\u5e38\u89c4DOM\u8282\u70b9\u548cSVG\u5143\u7d20\uff0c\u6bd4\u5982<code>&lt;div&gt;</code>\uff0c<code>&lt;a&gt;</code>\u548c\u5176\u5b83\u7684\u5143\u7d20\u3002</p> <p>\u5982\u679c\u4f60\u5728React\u4e2d\u4f7f\u7528Web\u7ec4\u4ef6\uff08\u8fd9\u662f\u4e00\u79cd\u4e0d\u5e38\u89c1\u7684\u4f7f\u7528\u65b9\u5f0f\uff09\uff0c\u8bf7\u4f7f\u7528<code>class</code>\u5c5e\u6027\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#dangerouslysetinnerhtml","title":"dangerouslySetInnerHTML\u51fd\u6570","text":"<p><code>dangerouslySetInnerHTML</code>\u662fReact\u63d0\u4f9b\u7684\u66ff\u6362\u6d4f\u89c8\u5668DOM\u4e2d\u7684<code>innerHTML</code>\u63a5\u53e3\u7684\u4e00\u4e2a\u51fd\u6570\u3002\u4e00\u822c\u800c\u8a00\uff0c\u4f7f\u7528JS\u4ee3\u7801\u8bbe\u7f6eHTML\u6587\u6863\u7684\u5185\u5bb9\u662f\u5371\u9669\u7684\uff0c\u56e0\u4e3a\u8fd9\u6837\u5f88\u5bb9\u6613\u628a\u4f60\u7684\u7528\u6237\u4fe1\u606f\u66b4\u9732\u7ed9\u8de8\u7ad9\u811a\u672c\u653b\u51fb.\u6240\u4ee5\uff0c\u4f60\u867d\u7136\u53ef\u4ee5\u76f4\u63a5\u5728React\u4e2d\u8bbe\u7f6ehtml\u7684\u5185\u5bb9\uff0c\u4f46\u4f60\u8981\u4f7f\u7528 <code>dangerouslySetInnerHTML</code> \u5e76\u5411\u8be5\u51fd\u6570\u4f20\u9012\u4e00\u4e2a\u542b\u6709<code>__html</code>\u952e\u7684\u5bf9\u8c61\uff0c\u7528\u6765\u63d0\u9192\u4f60\u81ea\u5df1\u8fd9\u6837\u505a\u5f88\u5371\u9669\u3002\u4f8b\u5982\uff1a</p> <pre><code>function createMarkup() {\n  return {__html: 'First &amp;middot; Second'};\n}\n\nfunction MyComponent() {\n  return &lt;div dangerouslySetInnerHTML={createMarkup()} /&gt;;\n}\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#htmlfor","title":"htmlFor","text":"<p>\u56e0\u4e3a\u5728javascript\u4e2d<code>for</code>\u662f\u4e00\u4e2a\u4fdd\u7559\u5b57\uff0c\u6240\u4ee5React\u5143\u7d20\u4f7f\u7528 <code>htmlFor</code>\u4ee3\u66ff\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#onchange","title":"onChange\u51fd\u6570","text":"<p><code>onChange</code>\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u7684\u8868\u73b0\u6b63\u5982\u4f60\u6240\u671f\u671b\u7684\uff1a\u65e0\u8bbaform\u8868\u5355\u4f55\u65f6\u53d1\u751f\u53d8\u5316\uff0c\u8fd9\u4e2a\u4e8b\u4ef6\u90fd\u4f1a\u88ab\u89e6\u53d1\u3002\u6211\u4eec\u7279\u610f\u4e0d\u4f7f\u7528\u6d4f\u89c8\u5668\u5df2\u6709\u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u56e0\u4e3a<code>onChange</code>\u5728\u6d4f\u89c8\u5668\u4e2d\u7684\u8868\u73b0\u548c\u8fd9\u4e2a\u540d\u5b57\u4e0d\u76f8\u79f0\uff0c\u800c\u4e14==React\u771f\u5b9e\u4f9d\u9760\u8fd9\u4e2a\u4e8b\u4ef6\u5b9e\u73b0\u4e86\u5bf9\u7528\u6237\u8f93\u5165\u7684\u5b9e\u65f6\u54cd\u5e94\u5904\u7406==\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#selected","title":"selected","text":"<p>The <code>selected</code> attribute is supported by <code>&lt;option&gt;</code> components. You can use it to set whether the component is selected. This is useful for building controlled components.<code>&lt;option&gt;</code>\u7ec4\u4ef6\u652f\u6301<code>selected</code>\u5c5e\u6027\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u8be5\u5c5e\u6027\u8bbe\u5b9a\u7ec4\u4ef6\u662f\u5426\u9009\u4e2d\u7684\u72b6\u6001\u3002\u8fd9\u5bf9\u6784\u5efa\u53d7\u63a7\u7ec4\u4ef6\u5f88\u6709\u7528\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#style","title":"style\u5c5e\u6027","text":"<p><code>style</code>\u5c5e\u6027\u63a5\u53d7\u4e00\u4e2a\u952e\u4e3a\u5c0f\u9a7c\u5cf0\u547d\u540d\u6cd5\u547d\u540d\u7684javascript\u5bf9\u8c61\u4f5c\u4e3a\u503c\uff0c\u800c\u4e0d\u662f\u50cfcss\u5b57\u7b26\u4e32\u3002\u8fd9\u548cDOM\u4e2dstyle\u5c5e\u6027\u63a5\u53d7javascript\u5bf9\u8c61\u5bf9\u8c61key\u7684\u547d\u540d\u65b9\u5f0f\u4fdd\u6301\u4e00\u81f4\u6027\uff0c\u66f4\u9ad8\u6548\u800c\u4e14\u80fd\u591f\u9632\u6b62\u8de8\u7ad9\u811a\u672c\uff08XSS\uff09\u7684\u5b89\u5168\u6f0f\u6d1e\u3002\u4f8b\u5982\uff1a</p> <pre><code>const divStyle = {\n  color: 'blue',\n  backgroundImage: 'url(' + imgUrl + ')',\n};\n\nfunction HelloWorldComponent() {\n  return &lt;div style={divStyle}&gt;Hello World!&lt;/div&gt;;\n}\n</code></pre> <p>\u8981\u6ce8\u610f\uff0c\u6837\u5f0f\u5c5e\u6027\u4e0d\u4f1a\u81ea\u52a8\u8865\u9f50\u524d\u7f00\u7684\u3002\u4e3a\u4e86\u652f\u6301\u65e7\u7684\u6d4f\u89c8\u5668\uff0c\u4f60\u9700\u8981\u624b\u52a8\u652f\u6301\u76f8\u5173\u7684\u6837\u5f0f\u7279\u6027\uff1a</p> <pre><code>const divStyle = {\n  WebkitTransition: 'all', // note the capital 'W' here\n  msTransition: 'all' // 'ms' is the only lowercase vendor prefix\n};\n\nfunction ComponentWithTransition() {\n  return &lt;div style={divStyle}&gt;This should work cross-browser&lt;/div&gt;;\n}\n</code></pre> <p>\u6837\u5f0fkey\u4f7f\u7528\u5c0f\u9a7c\u5cf0\u547d\u540d\u6cd5\u662f\u4e3a\u4e86\u548cJS\u8bbf\u95eeDOM\u7279\u6027\u5bf9\u5bf9\u8c61\u7684\u5904\u7406\u4fdd\u6301\u4e00\u81f4\u6027\uff08\u4f8b\u5982 <code>node.style.backgroundImage</code>\uff09\u3002\u6d4f\u89c8\u5668\u540e\u7f00\u9664\u4e86<code>ms</code>\u4ee5\u5916\uff0c\u90fd\u5e94\u8be5\u4ee5\u5927\u5199\u5b57\u6bcd\u5f00\u5934\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48<code>WebkitTransition</code>\u6709\u4e00\u4e2a\u5927\u5199\u5b57\u6bcd<code>W</code>\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#suppresscontenteditablewarning","title":"suppressContentEditableWarning","text":"<p>\u4e00\u822c\u6765\u8bf4\uff0c\u5f53\u4e00\u4e2a\u62e5\u6709\u5b50\u8282\u70b9\u7684\u5143\u7d20\u88ab\u6807\u8bb0\u4e3a<code>contentEditable</code>\u65f6\uff0cReact\u4f1a\u53d1\u51fa\u4e00\u4e2a\u8b66\u544a\u4fe1\u606f\uff0c\u56e0\u4e3a\u6b64\u65f6<code>contentEditable</code>\u662f\u65e0\u6548\u7684\u3002\u8fd9\u4e2a\u5c5e\u6027\u4f1a\u89e6\u53d1\u8fd9\u6837\u7684\u8b66\u544a\u4fe1\u606f\u3002\u4e00\u822c\u4e0d\u8981\u4f7f\u7528\u8fd9\u4e2a\u5c5e\u6027\uff0c\u9664\u975e\u4f60\u8981\u6784\u5efa\u4e00\u4e2a\u7c7b\u4f3cDraft.js\u8fd9\u6837\u9700\u8981\u624b\u52a8\u5904\u7406<code>contentEditable</code>\u5c5e\u6027\u7684\u5e93\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#value","title":"value","text":"<p><code>&lt;input&gt;</code> \u548c <code>&lt;textarea&gt;</code> \u7ec4\u4ef6\u90fd\u652f\u6301<code>value</code>\u5c5e\u6027\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u8be5\u5c5e\u6027\u8bbe\u7f6e\u7ec4\u4ef6\u7684\u503c\u3002\u8fd9\u5bf9\u6784\u5efa\u53d7\u63a7\u7ec4\u4ef6\u975e\u5e38\u6709\u7528\u3002<code>defaultValue</code>\u5c5e\u6027\u5bf9\u5e94\u7684\u662f\u975e\u53d7\u63a7\u7ec4\u4ef6\u7684\u5c5e\u6027\uff0c\u7528\u6765\u8bbe\u7f6e\u7ec4\u4ef6\u7b2c\u4e00\u6b21\u52a0\u8f7d\u65f6\u7684\u503c\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#html","title":"\u6240\u6709\u53d7\u652f\u6301\u7684HTML\u5c5e\u6027","text":"<p>React\u652f\u6301\u4ee5\u4e0b\u6240\u6709\u7684\u5c5e\u6027\uff0c\u540c\u65f6\u4e5f==\u652f\u6301\u6240\u6709\u7684<code>data-*</code> \u548c <code>aria-*</code>\u5c5e\u6027==\uff1a</p> <p>React\u4e5f\u652f\u6301\u4ee5\u4e0b\u8fd9\u4e9bRDFa\u5c5e\u6027\uff08\u6709\u51e0\u4e2aRDFa\u5c5e\u6027\u548cHTML\u5c5e\u6027\u91cd\u53e0\uff0c\u6240\u4ee5\u4e0d\u5305\u542b\u5728\u4ee5\u4e0b\u5217\u8868\u4e2d\uff09\uff1a</p> <pre><code>about datatype inlist prefix property resource typeof vocab\n</code></pre> <p>\u800c\u4e14\uff0cReact\u4e5f\u652f\u6301\u4e0b\u5217\u975e\u6807\u51c6\u5c5e\u6027\uff1a</p> <ul> <li><code>autoCapitalize autoCorrect</code> for Mobile Safari.</li> <li><code>color</code> for <code>&lt;link rel=\"mask-icon\" /&gt;</code> in Safari.</li> <li><code>itemProp itemScope itemType itemRef itemID</code> for HTML5 microdata.</li> <li><code>security</code> for older versions of Internet Explorer.</li> <li><code>unselectable</code> for Internet Explorer.</li> <li><code>results autoSave</code> for WebKit/Blink input fields of type <code>search</code>.</li> </ul>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_17","title":"\u5408\u6210\u4e8b\u4ef6","text":"<p>\u6b64\u53c2\u8003\u6307\u5357\u8bb0\u5f55\u4e86\u6784\u6210React\u4e8b\u4ef6\u7cfb\u7edf\u7684\u4e00\u90e8\u5206\u7684<code>SyntheticEvent</code>\u5c01\u88c5\u5668\u3002</p> <p>\u60a8\u7684\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u5c06\u4f1a\u63a5\u6536<code>SyntheticEvent</code>\u7684\u5b9e\u4f8b\uff0c\u4e00\u4e2a\u57fa\u4e8e\u6d4f\u89c8\u5668\u539f\u751f\u4e8b\u4ef6\u7684\u8de8\u6d4f\u89c8\u5668\u5b9e\u73b0\u3002\u5b83\u62e5\u6709\u548c\u6d4f\u89c8\u5668\u539f\u751f\u4e8b\u4ef6\u4e00\u6837\u7684\u63a5\u53e3\uff0c\u5305\u62ec<code>stopPropagation()</code>\u548c<code>preventDefault()</code>\uff0c\u9664\u4e86\u90a3\u4e9b\u6240\u6709\u6d4f\u89c8\u5668\u529f\u80fd\u4e00\u6837\u7684\u4e8b\u4ef6\u3002</p> <p>\u5982\u679c\u7531\u4e8e\u67d0\u4e9b\u539f\u56e0\uff0c\u4f60\u5f97\u4f7f\u7528\u4e00\u4e9b\u5e95\u5c42\u7684\u6d4f\u89c8\u5668\u4e8b\u4ef6\uff0c\u53ea\u9700\u7528<code>nativeEvent</code>\u7684\u5c5e\u6027\u5c31\u80fd\u627e\u5230\u3002\u6bcf\u4e2a<code>SyntheicEvent</code>\u5bf9\u8c61\u90fd\u6709\u5982\u4e0b\u5c5e\u6027\uff1a</p> <p>\u6572\u9ed1\u677f\uff1a \u7531\u4e8e\u5728v0.14\u7248\u672c\u4e2d\uff0c\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u8fd4\u56de<code>false</code>\u4e0d\u4f1a\u518d\u963b\u6b62\u4e8b\u4ef6\u4f20\u64ad, \u6240\u4ee5\u5fc5\u987b\u5f97\u624b\u52a8\u89e6\u53d1<code>e.stopPropagation()</code>\u548c<code>e.preventDefault()</code> \u65b9\u6cd5\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_18","title":"\u4e8b\u4ef6\u6c60","text":"<p><code>SyntheticEvent</code>\u662f\u5171\u4eab\u7684\u3002\u90a3\u5c31\u610f\u5473\u7740\u5728\u8c03\u7528\u4e8b\u4ef6\u56de\u8c03\u4e4b\u540e\uff0c<code>SyntheticEvent</code>\u5bf9\u8c61\u5c06\u4f1a\u88ab\u91cd\u7528\uff0c\u5e76\u4e14\u6240\u6709\u5c5e\u6027\u4f1a\u88ab\u7f6e\u7a7a\u3002\u8fd9\u662f\u51fa\u4e8e\u6027\u80fd\u56e0\u7d20\u8003\u8651\u7684\u3002 \u56e0\u6b64\uff0c\u60a8\u65e0\u6cd5\u4ee5\u5f02\u6b65\u65b9\u5f0f\u8bbf\u95ee\u4e8b\u4ef6\u3002</p> <pre><code>function onClick(event) {\n  console.log(event); // =&gt; nullified object.\n  console.log(event.type); // =&gt; \"click\"\n  const eventType = event.type; // =&gt; \"click\"\n\n  setTimeout(function() {\n    console.log(event.type); // =&gt; null\n    console.log(eventType); // =&gt; \"click\"\n  }, 0);\n\n  // Won't work. this.state.clickEvent will only contain null values.\n  this.setState({clickEvent: event});\n\n  // You can still export event properties.\n  this.setState({eventType: event.type});\n}\n</code></pre> <p>\u6572\u9ed1\u677f\uff1a</p> <p>\u5982\u679c\u60a8\u60f3\u4ee5\u5f02\u6b65\u7684\u65b9\u5f0f\u8bbf\u95ee\u4e8b\u4ef6\u7684\u5c5e\u6027\u503c\uff0c\u4f60\u5fc5\u987b\u5728\u4e8b\u4ef6\u56de\u8c03\u4e2d\u8c03\u7528<code>event.persist()</code>\u65b9\u6cd5\uff0c\u8fd9\u6837\u4f1a\u5728\u6c60\u4e2d\u5220\u9664\u5408\u6210\u4e8b\u4ef6\uff0c\u5e76\u4e14\u5728\u7528\u6237\u4ee3\u7801\u4e2d\u4fdd\u7559\u5bf9\u4e8b\u4ef6\u7684\u5f15\u7528\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_19","title":"\u652f\u6301\u7684\u4e8b\u4ef6","text":"<p>React\u6807\u51c6\u5316\u4e86\u4e8b\u4ef6\uff0c\u4f7f\u5176\u5728\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u4e2d\u62e5\u6709\u4e00\u81f4\u7684\u5c5e\u6027\u3002</p> <p>\u4e0b\u9762\u7684\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u7531\u5192\u6ce1\u9636\u6bb5\u7684\u4e8b\u4ef6\u89e6\u53d1\u3002\u5728\u4e8b\u4ef6\u540d\u540e\u9762\u52a0<code>Capture</code>\u5c31\u80fd\u5728\u4e8b\u4ef6\u6355\u83b7\u9636\u6bb5\u6ce8\u518c\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528<code>onClickCapture</code>\u4ee3\u66ff<code>onClick</code>\u5728\u4e8b\u4ef6\u6355\u83b7\u9636\u6bb5\u6765\u5904\u7406\u70b9\u51fb\u4e8b\u4ef6\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#clipboard-events","title":"Clipboard Events","text":"<p>\u4e8b\u4ef6\u540d:</p> <pre><code>onCopy onCut onPaste\n</code></pre> <p>\u5c5e\u6027:</p> <pre><code>DOMDataTransfer clipboardData\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#composition-events","title":"Composition Events","text":"<p>\u4e8b\u4ef6\u540d:</p> <pre><code>onCompositionEnd onCompositionStart onCompositionUpdate\n</code></pre> <p>\u5c5e\u6027:</p> <pre><code>string data\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#keyboard-events","title":"Keyboard Events","text":"<p>\u4e8b\u4ef6\u540d:</p> <pre><code>onKeyDown onKeyPress onKeyUp\n</code></pre> <p>\u5c5e\u6027:</p> <pre><code>boolean altKey\nnumber charCode\nboolean ctrlKey\nboolean getModifierState(key)\nstring key\nnumber keyCode\nstring locale\nnumber location\nboolean metaKey\nboolean repeat\nboolean shiftKey\nnumber which\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#focus-events","title":"Focus Events","text":"<p>\u4e8b\u4ef6\u540d:</p> <pre><code>onFocus onBlur\n</code></pre> <p>\u8fd9\u4e9b\u7126\u70b9\u4e8b\u4ef6\u9002\u7528\u4e8eReact DOM\u4e2d\u7684\u6240\u6709\u5143\u7d20\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u8868\u5355\u5143\u7d20\u3002</p> <p>\u5c5e\u6027:</p> <pre><code>DOMEventTarget relatedTarget\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#form-events","title":"Form Events","text":"<p>\u4e8b\u4ef6\u540d:</p> <pre><code>onChange onInput onSubmit\n</code></pre> <p>\u67e5\u9605\u8868\u5355\u4e86\u89e3\u5173\u4e8eonChange\u4e8b\u4ef6\u7684\u66f4\u591a\u7ec6\u8282.</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#mouse-events","title":"Mouse Events","text":"<p>\u4e8b\u4ef6\u540d:</p> <pre><code>onClick onContextMenu onDoubleClick onDrag onDragEnd onDragEnter onDragExit\nonDragLeave onDragOver onDragStart onDrop onMouseDown onMouseEnter onMouseLeave\nonMouseMove onMouseOut onMouseOver onMouseUp\n</code></pre> <p><code>onMouseEnter</code> \u548c <code>onMouseLeave</code> \u4e8b\u4ef6\u7531\u5931\u53bb\u7126\u70b9\u7684\u5143\u7d20\u5230\u6b63\u5728\u8f93\u5165\u7684\u5143\u7d20\u4f20\u64ad\uff0c\u5e76\u4e0d\u662f\u666e\u901a\u7684\u5192\u6ce1\uff0c\u4e5f\u6ca1\u6709\u6355\u83b7\u9636\u6bb5\u3002</p> <p>\u5c5e\u6027:</p> <pre><code>boolean altKey\nnumber button\nnumber buttons\nnumber clientX\nnumber clientY\nboolean ctrlKey\nboolean getModifierState(key)\nboolean metaKey\nnumber pageX\nnumber pageY\nDOMEventTarget relatedTarget\nnumber screenX\nnumber screenY\nboolean shiftKey\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#selection-events","title":"Selection Events","text":"<p>\u4e8b\u4ef6\u540d:</p> <pre><code>onSelect\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#touch-events","title":"Touch Events","text":"<p>\u4e8b\u4ef6\u540d:</p> <pre><code>onTouchCancel onTouchEnd onTouchMove onTouchStart\n</code></pre> <p>\u5c5e\u6027:</p> <pre><code>boolean altKey\nDOMTouchList changedTouches\nboolean ctrlKey\nboolean getModifierState(key)\nboolean metaKey\nboolean shiftKey\nDOMTouchList targetTouches\nDOMTouchList touches\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#ui-events","title":"UI Events","text":"<p>\u4e8b\u4ef6\u540d:</p> <pre><code>onScroll\n</code></pre> <p>\u5c5e\u6027:</p> <pre><code>number detail\nDOMAbstractView view\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#wheel-events","title":"Wheel Events","text":"<p>\u4e8b\u4ef6\u540d:</p> <pre><code>onWheel\n</code></pre> <p>\u5c5e\u6027:</p> <pre><code>number deltaMode\nnumber deltaX\nnumber deltaY\nnumber deltaZ\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#media-events","title":"Media Events","text":"<p>\u4e8b\u4ef6\u540d:</p> <pre><code>onAbort onCanPlay onCanPlayThrough onDurationChange onEmptied onEncrypted \nonEnded onError onLoadedData onLoadedMetadata onLoadStart onPause onPlay \nonPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend \nonTimeUpdate onVolumeChange onWaiting\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#image-events","title":"Image Events","text":"<p>\u4e8b\u4ef6\u540d:</p> <pre><code>onLoad onError\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#animation-events","title":"Animation Events","text":"<p>\u4e8b\u4ef6\u540d:</p> <pre><code>onAnimationStart onAnimationEnd onAnimationIteration\n</code></pre> <p>\u5c5e\u6027:</p> <pre><code>string animationName\nstring pseudoElement\nfloat elapsedTime\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#transition-events","title":"Transition Events","text":"<p>\u4e8b\u4ef6\u540d:</p> <pre><code>onTransitionEnd\n</code></pre> <p>\u5c5e\u6027:</p> <pre><code>string propertyName\nstring pseudoElement\nfloat elapsedTime\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#other-events","title":"Other Events","text":"<p>\u4e8b\u4ef6\u540d:</p> <pre><code>onToggle\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#test-utilities","title":"Test Utilities","text":"<p>Importing</p> <pre><code>import ReactTestUtils from 'react-dom/test-utils'; // ES6\nvar ReactTestUtils = require('react-dom/test-utils'); // ES5 with npm\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#overview","title":"Overview","text":"<p><code>ReactTestUtils</code> makes it easy to test React components in the testing framework of your choice. At Facebook we use Jest for painless JavaScript testing. Learn how to get started with Jest through the Jest website\u2019s React Tutorial.</p> <p>Note:</p> <p>Airbnb has released a testing utility called Enzyme, which makes it easy to assert, manipulate, and traverse your React Components\u2019 output. If you\u2019re deciding on a unit testing utility to use together with Jest, or any other test runner, it\u2019s worth checking out: http://airbnb.io/enzyme/</p> <ul> <li><code>Simulate</code></li> <li><code>renderIntoDocument()</code></li> <li><code>mockComponent()</code></li> <li><code>isElement()</code></li> <li><code>isElementOfType()</code></li> <li><code>isDOMComponent()</code></li> <li><code>isCompositeComponent()</code></li> <li><code>isCompositeComponentWithType()</code></li> <li><code>findAllInRenderedTree()</code></li> <li><code>scryRenderedDOMComponentsWithClass()</code></li> <li><code>findRenderedDOMComponentWithClass()</code></li> <li><code>scryRenderedDOMComponentsWithTag()</code></li> <li><code>findRenderedDOMComponentWithTag()</code></li> <li><code>scryRenderedComponentsWithType()</code></li> <li><code>findRenderedComponentWithType()</code></li> </ul>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#reference_2","title":"Reference","text":""},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#shallow-rendering","title":"Shallow Rendering","text":"<p>When writing unit tests for React, shallow rendering can be helpful. Shallow rendering lets you render a component \u201cone level deep\u201d and assert facts about what its render method returns, without worrying about the behavior of child components, which are not instantiated or rendered. This does not require a DOM.</p> <p>Note:</p> <p>The shallow renderer has moved to <code>react-test-renderer/shallow</code>. Learn more about shallow rendering on its reference page.</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#other-utilities","title":"Other Utilities","text":""},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#simulate","title":"<code>Simulate</code>","text":"<pre><code>Simulate.{eventName}(\n  element,\n  [eventData]\n)\n</code></pre> <p>Simulate an event dispatch on a DOM node with optional <code>eventData</code> event data.</p> <p><code>Simulate</code> has a method for every event that React understands.</p> <p>Clicking an element</p> <pre><code>// &lt;button ref=\"button\"&gt;...&lt;/button&gt;\nconst node = this.refs.button;\nReactTestUtils.Simulate.click(node);\n</code></pre> <p>Changing the value of an input field and then pressing ENTER.</p> <pre><code>// &lt;input ref=\"input\" /&gt;\nconst node = this.refs.input;\nnode.value = 'giraffe';\nReactTestUtils.Simulate.change(node);\nReactTestUtils.Simulate.keyDown(node, {key: \"Enter\", keyCode: 13, which: 13});\n</code></pre> <p>Note</p> <p>You will have to provide any event property that you\u2019re using in your component (e.g. keyCode, which, etc\u2026) as React is not creating any of these for you.</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#renderintodocument","title":"<code>renderIntoDocument()</code>","text":"<pre><code>renderIntoDocument(element)\n</code></pre> <p>Render a React element into a detached DOM node in the document. This function requires a DOM.</p> <p>Note:</p> <p>You will need to have <code>window</code>, <code>window.document</code> and <code>window.document.createElement</code>globally available before you import <code>React</code>. Otherwise React will think it can\u2019t access the DOM and methods like <code>setState</code> won\u2019t work.</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#mockcomponent","title":"<code>mockComponent()</code>","text":"<pre><code>mockComponent(\n  componentClass,\n  [mockTagName]\n)\n</code></pre> <p>Pass a mocked component module to this method to augment it with useful methods that allow it to be used as a dummy React component. Instead of rendering as usual, the component will become a simple <code>&lt;div&gt;</code> (or other tag if <code>mockTagName</code> is provided) containing any provided children.</p> <p>Note:</p> <p><code>mockComponent()</code> is a legacy API. We recommend using shallow rendering or <code>jest.mock()</code> instead.</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#iselement","title":"<code>isElement()</code>","text":"<pre><code>isElement(element)\n</code></pre> <p>Returns <code>true</code> if <code>element</code> is any React element.</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#iselementoftype","title":"<code>isElementOfType()</code>","text":"<pre><code>isElementOfType(\n  element,\n  componentClass\n)\n</code></pre> <p>Returns <code>true</code> if <code>element</code> is a React element whose type is of a React <code>componentClass</code>.</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#isdomcomponent","title":"<code>isDOMComponent()</code>","text":"<pre><code>isDOMComponent(instance)\n</code></pre> <p>Returns <code>true</code> if <code>instance</code> is a DOM component (such as a <code>&lt;div&gt;</code> or <code>&lt;span&gt;</code>).</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#iscompositecomponent","title":"<code>isCompositeComponent()</code>","text":"<pre><code>isCompositeComponent(instance)\n</code></pre> <p>Returns <code>true</code> if <code>instance</code> is a user-defined component, such as a class or a function.</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#iscompositecomponentwithtype","title":"<code>isCompositeComponentWithType()</code>","text":"<pre><code>isCompositeComponentWithType(\n  instance,\n  componentClass\n)\n</code></pre> <p>Returns <code>true</code> if <code>instance</code> is a component whose type is of a React <code>componentClass</code>.</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#findallinrenderedtree","title":"<code>findAllInRenderedTree()</code>","text":"<pre><code>findAllInRenderedTree(\n  tree,\n  test\n)\n</code></pre> <p>Traverse all components in <code>tree</code> and accumulate all components where <code>test(component)</code>is <code>true</code>. This is not that useful on its own, but it\u2019s used as a primitive for other test utils.</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#scryrendereddomcomponentswithclass","title":"<code>scryRenderedDOMComponentsWithClass()</code>","text":"<pre><code>scryRenderedDOMComponentsWithClass(\n  tree,\n  className\n)\n</code></pre> <p>Finds all DOM elements of components in the rendered tree that are DOM components with the class name matching <code>className</code>.</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#findrendereddomcomponentwithclass","title":"<code>findRenderedDOMComponentWithClass()</code>","text":"<pre><code>findRenderedDOMComponentWithClass(\n  tree,\n  className\n)\n</code></pre> <p>Like <code>scryRenderedDOMComponentsWithClass()</code> but expects there to be one result, and returns that one result, or throws exception if there is any other number of matches besides one.</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#scryrendereddomcomponentswithtag","title":"<code>scryRenderedDOMComponentsWithTag()</code>","text":"<pre><code>scryRenderedDOMComponentsWithTag(\n  tree,\n  tagName\n)\n</code></pre> <p>Finds all DOM elements of components in the rendered tree that are DOM components with the tag name matching <code>tagName</code>.</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#findrendereddomcomponentwithtag","title":"<code>findRenderedDOMComponentWithTag()</code>","text":"<pre><code>findRenderedDOMComponentWithTag(\n  tree,\n  tagName\n)\n</code></pre> <p>Like <code>scryRenderedDOMComponentsWithTag()</code> but expects there to be one result, and returns that one result, or throws exception if there is any other number of matches besides one.</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#scryrenderedcomponentswithtype","title":"<code>scryRenderedComponentsWithType()</code>","text":"<pre><code>scryRenderedComponentsWithType(\n  tree,\n  componentClass\n)\n</code></pre> <p>Finds all instances of components with type equal to <code>componentClass</code>.</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#findrenderedcomponentwithtype","title":"<code>findRenderedComponentWithType()</code>","text":"<pre><code>findRenderedComponentWithType(\n  tree,\n  componentClass\n)\n</code></pre> <p>Same as <code>scryRenderedComponentsWithType()</code> but expects there to be one result and returns that one result, or throws exception if there is any other number of matches besides one.</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_20","title":"\u6d45\u5c42\u6e32\u67d3","text":"<p>Importing</p> <pre><code>import ShallowRenderer from 'react-test-renderer/shallow'; // ES6\nvar ShallowRenderer = require('react-test-renderer/shallow'); // ES5 with npm\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_21","title":"\u6982\u8ff0","text":"<p>\u5f53\u4e3a React \u5199\u5355\u5143\u6d4b\u8bd5\u65f6, \u6d45\u6e32\u67d3\u4f1a\u53d8\u5f97\u5341\u5206\u6709\u7528\u3002\u6d45\u6e32\u67d3\u4f7f\u60a8\u6e32\u67d3\u7ec4\u4ef6\u7684\u201c\u7b2c\u4e00\u5c42\u201d\uff0c\u5e76\u4e14\u5bf9\u7ec4\u4ef6\u7684 render \u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u8fdb\u884c\u65ad\u8a00\uff0c\u4e0d\u7528\u62c5\u5fc3\u5b50\u7ec4\u4ef6\u7684\u884c\u4e3a\uff0c\u7ec4\u4ef6\u5e76\u6ca1\u6709\u5b9e\u4f8b\u5316\u6216\u88ab\u6e32\u67d3\u3002\u6d45\u6e32\u67d3\u5e76\u4e0d\u9700\u8981 DOM\u3002</p> <p>\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u6709\u5982\u4e0b\u7684\u7ec4\u4ef6\uff1a</p> <pre><code>function MyComponent() {\n  return (\n    &lt;div&gt;\n      &lt;span className=\"heading\"&gt;Title&lt;/span&gt;\n      &lt;Subcomponent foo=\"bar\" /&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre> <p>\u4f60\u53ef\u4ee5\u65ad\u8a00(assert)\uff1a</p> <pre><code>import ShallowRenderer from 'react-test-renderer/shallow';\n\n// in your test:\nconst renderer = new ShallowRenderer();\nrenderer.render(&lt;MyComponent /&gt;);\nconst result = renderer.getRenderOutput();\n\nexpect(result.type).toBe('div');\nexpect(result.props.children).toEqual([\n  &lt;span className=\"heading\"&gt;Title&lt;/span&gt;,\n  &lt;Subcomponent foo=\"bar\" /&gt;\n]);\n</code></pre> <p>\u6d45\u6d4b\u8bd5\uff08Shallow testing\uff09\u5f53\u524d\u8fd8\u6709\u4e00\u4e9b\u5c40\u9650, \u5373\u4e0d\u652f\u6301 refs\u3002</p> <p>\u6ce8\u610f\uff1a</p> <p>\u6211\u4eec\u8fd8\u5efa\u8bae\u770b\u770b Enzyme Shallow Rendering API\u3002\u5b83\u5728\u76f8\u540c\u7684\u529f\u80fd\u4e0a\u63d0\u4f9b\u4e86\u4e00\u4e2a\u66f4\u68d2\u7684\u9ad8\u7ea7 API\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_22","title":"\u53c2\u8003","text":""},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#shallowrendererrender","title":"<code>shallowRenderer.render()</code>","text":"<p>\u4f60\u53ef\u4ee5\u628a shallowRenderer \u60f3\u8c61\u6210\u4e00\u4e2a\u7528\u6765\u6e32\u67d3\u4f60\u6b63\u5728\u6d4b\u8bd5\u7684\u7ec4\u4ef6\u7684\u201c\u5730\u65b9\u201d\uff0c\u5e76\u4e14\u4f60\u53ef\u4ee5\u4ece\u90a3\u91cc\u53d6\u5230\u8be5\u7ec4\u4ef6\u7684\u8f93\u51fa\u3002</p> <p><code>shallowRenderer.render()</code> \u548c <code>ReactDOM.render()</code>\u5f88\u50cf\u3002\u4f46\u662f\u5b83\u4e0d\u9700\u8981 DOM \u5e76\u4e14\u53ea\u6e32\u67d3\u4e00\u5c42\u3002\u8fd9\u5c31\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u6d4b\u8bd5\u4e0e\u5b50\u7ec4\u4ef6\u884c\u4e3a\u9694\u79bb\u7684\u7ec4\u4ef6\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#shallowrenderergetrenderoutput","title":"<code>shallowRenderer.getRenderOutput()</code>","text":"<p>\u5728 <code>shallowRenderer.render()</code> \u88ab\u8c03\u7528\u540e, \u4f60\u53ef\u4ee5\u8c03\u7528 <code>shallowRenderer.getRenderOutput()</code> \u6765\u83b7\u53d6\u6d45\u6e32\u67d3\u7684\u8f93\u51fa.</p> <p>\u7136\u540e\uff0c\u60a8\u5c31\u53ef\u4ee5\u5f00\u59cb\u5f00\u59cb\u5bf9\u8f93\u51fa\u8fdb\u884c\u65ad\u8a00\u4e86\u3002</p> <p>\u7f16\u8f91\u672c\u9875\u9762</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#test-renderer","title":"Test Renderer","text":"<p>Importing</p> <pre><code>import TestRenderer from 'react-test-renderer'; // ES6\nconst TestRenderer = require('react-test-renderer'); // ES5 with npm\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_23","title":"\u6982\u89c8","text":"<p>\u8be5\u5305\u63d0\u4f9b\u4e86\u4e00\u4e2aReact\u7684\u6e32\u67d3\u5668\uff0c\u53ef\u4ee5\u7528\u6765\u5c06 React \u7ec4\u4ef6\u6e32\u67d3\u6210\u7eaf JavaScript \u5bf9\u8c61\uff0c\u4e0d\u9700\u8981\u4f9d\u8d56\u4e8e DOM \u548c\u539f\u751f\u79fb\u52a8\u73af\u5883\u3002</p> <p>\u672c\u8d28\u4e0a\uff0c\u8be5\u5305\u53ef\u4ee5\u5728\u65e0\u9700\u4f7f\u7528\u6d4f\u89c8\u5668\u6216jsdom\u7684\u60c5\u51b5\u4e0b\uff0c\u8f7b\u677e\u5730\u6293\u53d6\u7531 React DOM \u6216 React Native\u6e32\u67d3\u51fa\u7684\u5e73\u53f0\u89c6\u56fe\u5c42\u6b21\u7ed3\u6784\uff08\u7c7b\u4f3c\u4e8eDOM\u6811\uff09\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>import TestRenderer from 'react-test-renderer';\n\nfunction Link(props) {\n  return &lt;a href={props.page}&gt;{props.children}&lt;/a&gt;;\n}\n\nconst testRenderer = TestRenderer.create(\n  &lt;Link page=\"https://www.facebook.com/\"&gt;Facebook&lt;/Link&gt;\n);\n\nconsole.log(testRenderer.toJSON());\n// { type: 'a',\n//   props: { href: 'https://www.facebook.com/' },\n//   children: [ 'Facebook' ] }\n</code></pre> <p>\u60a8\u53ef\u4ee5\u4f7f\u7528 Jest \u7684\u5feb\u7167\u6d4b\u8bd5\u6765\u81ea\u52a8\u4fdd\u5b58\u4e00\u4e2a\u8be5 JSON \u6811\u6587\u4ef6\u7684\u526f\u672c\uff0c\u5e76\u4e14\u5728\u60a8\u7684\u6d4b\u8bd5\u4e2d\u68c0\u67e5\u5b83\u662f\u5426\u88ab\u66f4\u6539\u3002\u4e86\u89e3\u66f4\u591a.</p> <p>\u60a8\u540c\u6837\u53ef\u4ee5\u901a\u8fc7\u904d\u5386\u8f93\u51fa\u6765\u67e5\u627e\u7279\u6b8a\u8282\u70b9\uff0c\u5e76\u5bf9\u76f8\u5e94\u7684\u8282\u70b9\u8fdb\u884c\u65ad\u8a00\u3002</p> <pre><code>import TestRenderer from 'react-test-renderer';\n\nfunction MyComponent() {\n  return (\n    &lt;div&gt;\n      &lt;SubComponent foo=\"bar\" /&gt;\n      &lt;p className=\"my\"&gt;Hello&lt;/p&gt;\n    &lt;/div&gt;\n  )\n}\n\nfunction SubComponent() {\n  return (\n    &lt;p className=\"sub\"&gt;Sub&lt;/p&gt;\n  );\n}\n\nconst testRenderer = TestRenderer.create(&lt;MyComponent /&gt;);\nconst testInstance = testRenderer.root;\n\nexpect(testInstance.findByType(SubComponent).props.foo).toBe('bar');\nexpect(testInstance.findByProps({className: \"sub\"}).children).toEqual(['Sub']);\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testrenderer","title":"TestRenderer","text":"<ul> <li><code>TestRenderer.create()</code></li> </ul>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testrenderer-instance","title":"TestRenderer instance","text":"<ul> <li><code>testRenderer.toJSON()</code></li> <li><code>testRenderer.toTree()</code></li> <li><code>testRenderer.update()</code></li> <li><code>testRenderer.unmount()</code></li> <li><code>testRenderer.getInstance()</code></li> <li><code>testRenderer.root</code></li> </ul>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testinstance","title":"TestInstance","text":"<ul> <li><code>testInstance.find()</code></li> <li><code>testInstance.findByType()</code></li> <li><code>testInstance.findByProps()</code></li> <li><code>testInstance.findAll()</code></li> <li><code>testInstance.findAllByType()</code></li> <li><code>testInstance.findAllByProps()</code></li> <li><code>testInstance.instance</code></li> <li><code>testInstance.type</code></li> <li><code>testInstance.props</code></li> <li><code>testInstance.parent</code></li> <li><code>testInstance.children</code></li> </ul>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_24","title":"\u53c2\u8003","text":""},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testrenderercreate","title":"<code>TestRenderer.create()</code>","text":"<pre><code>TestRenderer.create(element, options);\n</code></pre> <p>\u901a\u8fc7\u4f20\u6765\u7684 React \u5143\u7d20\u521b\u5efa\u4e00\u4e2a <code>TestRenderer</code> \u7684\u5b9e\u4f8b\u3002\u5b83\u5e76\u4e0d\u4f7f\u7528\u771f\u5b9e\u7684 DOM\uff0c\u4f46\u662f\u5b83\u4f9d\u7136\u5c06\u7ec4\u4ef6\u6811\u5b8c\u6574\u5730\u6e32\u67d3\u5230\u5185\u5b58\uff0c\u6240\u4ee5\u60a8\u53ef\u4ee5\u5bf9\u5b83\u8fdb\u884c\u65ad\u8a00\u3002\u8fd4\u56de\u7684\u5b9e\u4f8b\u62e5\u6709\u4ee5\u4e0b\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testrenderertojson","title":"<code>testRenderer.toJSON()</code>","text":"<pre><code>testRenderer.toJSON()\n</code></pre> <p>\u8fd4\u56de\u4e00\u4e2a\u8868\u793a\u6e32\u67d3\u540e\u7684 \u6811 \u7684\u5bf9\u8c61\u3002\u8be5\u6811\u4ec5\u5305\u542b\u7279\u5b9a\u5e73\u53f0\u7684\u8282\u70b9\uff0c\u50cf<code>&lt;div&gt;</code> \u6216 <code>&lt;View&gt;</code>\u548c\u4ed6\u4eec\u7684\u5c5e\u6027\uff08props\uff09\uff0c\u4f46\u662f\u5e76\u4e0d\u5305\u542b\u4efb\u4f55\u7528\u6237\u7f16\u5199\u7684\u7ec4\u4ef6\u3002\u8fd9\u5bf9\u4e8e\u5feb\u7167\u6d4b\u8bd5\u975e\u5e38\u65b9\u4fbf\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testrenderertotree","title":"<code>testRenderer.toTree()</code>","text":"<pre><code>testRenderer.toTree()\n</code></pre> <p>\u8fd4\u56de\u4e00\u4e2a\u8868\u793a\u6e32\u67d3\u540e\u7684 \u6811 \u7684\u5bf9\u8c61\u3002\u548c <code>toJSON()</code> \u4e0d\u540c\uff0c\u5b83\u8868\u793a\u7684\u5185\u5bb9\u6bd4 <code>toJSON()</code> \u63d0\u4f9b\u7684\u5185\u5bb9\u8981\u66f4\u52a0\u8be6\u7ec6\uff0c\u5e76\u4e14\u5305\u542b\u7528\u6237\u7f16\u5199\u7684\u7ec4\u4ef6\u3002\u9664\u975e\u60a8\u6b63\u5728\u6d4b\u8bd5\u6e32\u67d3\u5668\uff08test rendererer\uff09\u4e4b\u4e0a\u7f16\u5199\u60a8\u81ea\u5df1\u7684\u65ad\u8a00\u5e93\uff0c\u5426\u5219\u60a8\u53ef\u80fd\u5e76\u4e0d\u9700\u8981\u8fd9\u4e2a\u65b9\u6cd5\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testrendererupdate","title":"<code>testRenderer.update()</code>","text":"<pre><code>testRenderer.update(element)\n</code></pre> <p>\u4f7f\u7528\u65b0\u7684\u6839\u5143\u7d20\u91cd\u65b0\u6e32\u67d3\u5185\u5b58\u4e2d\u7684\u6811\u3002\u5b83\u6a21\u62df\u6839\u5143\u7d20\u7684\u4e00\u6b21React\u66f4\u65b0\u3002\u5982\u679c\u65b0\u7684\u5143\u7d20\u548c\u4e4b\u524d\u7684\u5143\u7d20\u6709\u76f8\u540c\u7684 type \u548c key\uff0c\u8be5\u6811\u5c06\u4f1a\u88ab\u66f4\u65b0\uff1b\u5426\u5219\uff0c\u5b83\u5c06\u91cd\u6302\u8f7d\u4e00\u4e2a\u65b0\u6811\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testrendererunmount","title":"<code>testRenderer.unmount()</code>","text":"<pre><code>testRenderer.unmount()\n</code></pre> <p>\u5378\u8f7d\u5185\u5b58\u4e2d\u7684\u6811\uff0c\u89e6\u53d1\u76f8\u5e94\u7684\u751f\u547d\u5468\u671f\u4e8b\u4ef6\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testrenderergetinstance","title":"<code>testRenderer.getInstance()</code>","text":"<pre><code>testRenderer.getInstance()\n</code></pre> <p>\u5982\u679c\u53ef\u7528\u7684\u8bdd\uff0c\u8fd4\u56de\u4e0e\u6839\u5143\u7d20\u76f8\u5bf9\u5e94\u7684\u5b9e\u4f8b\u3002\u5982\u679c\u6839\u5143\u7d20\u662f\u51fd\u6570\u7ec4\u4ef6\uff08functional component\uff09\uff0c\u8be5\u65b9\u6cd5\u65e0\u6548\uff0c\u56e0\u4e3a\u51fd\u6570\u7ec4\u4ef6\u6ca1\u6709\u5b9e\u4f8b\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testrendererroot","title":"<code>testRenderer.root</code>","text":"<pre><code>testRenderer.root\n</code></pre> <p>\u8fd4\u56de\u6839\u5143\u7d20\u201c\u6d4b\u8bd5\u5b9e\u4f8b\uff08test instance\uff09\u201d\u5bf9\u8c61\uff0c\u5bf9\u4e8e\u65ad\u8a00\u6811\u4e2d\u7684\u7279\u6b8a\u8282\u70b9\u5341\u5206\u6709\u7528\u3002\u60a8\u53ef\u4ee5\u5229\u7528\u5b83\u6765\u67e5\u627e\u5176\u4ed6\u66f4\u6df1\u5c42\u7684\u201c\u6d4b\u8bd5\u5b9e\u4f8b\uff08test instance\uff09\u201d\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testinstancefind","title":"<code>testInstance.find()</code>","text":"<pre><code>testInstance.find(test)\n</code></pre> <p>\u627e\u5230\u4e00\u4e2a test(testInstance) \u8fd4\u56de true \u7684\u540e\u4ee3 \u6d4b\u8bd5\u5b9e\u4f8b\u3002\u5982\u679c test(testInstance) \u6ca1\u6709\u6b63\u597d\u53ea\u5bf9\u4e00\u4e2a \u6d4b\u8bd5\u5b9e\u4f8b \u8fd4\u56de true\uff0c\u5c06\u4f1a\u62a5\u9519\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testinstancefindbytype","title":"<code>testInstance.findByType()</code>","text":"<pre><code>testInstance.findByType(type)\n</code></pre> <p>\u627e\u5230\u4e00\u4e2a\u5339\u914d\u6307\u5b9a \u7c7b\u578b\uff08type\uff09\u7684 \u540e\u4ee3 \u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstances\uff09\uff0c\u5982\u679c\u4e0d\u662f\u6b63\u597d\u53ea\u6709\u4e00\u4e2a\u6d4b\u8bd5\u5b9e\u4f8b\u5339\u914d\u6307\u5b9a\u7684 \u7c7b\u578b\uff08type\uff09\uff0c\u5c06\u4f1a\u62a5\u9519\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testinstancefindbyprops","title":"<code>testInstance.findByProps()</code>","text":"<pre><code>testInstance.findByProps(props)\n</code></pre> <p>\u627e\u5230\u5339\u914d\u6307\u5b9a \u5c5e\u6027\uff08props\uff09\u7684 \u540e\u4ee3 \u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstances\uff09\uff0c\u5982\u679c\u4e0d\u662f\u6b63\u597d\u53ea\u6709\u4e00\u4e2a\u6d4b\u8bd5\u5b9e\u4f8b\u5339\u914d\u6307\u5b9a\u7684 \u7c7b\u578b\uff08type\uff09\uff0c\u5c06\u4f1a\u62a5\u9519\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testinstancefindall","title":"<code>testInstance.findAll()</code>","text":"<pre><code>testInstance.findAll(test)\n</code></pre> <p>\u627e\u5230\u6240\u6709 <code>test(testInstance)</code> \u7b49\u4e8e <code>true</code> \u7684\u540e\u4ee3 \u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstances\uff09\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testinstancefindallbytype","title":"<code>testInstance.findAllByType()</code>","text":"<pre><code>testInstance.findAllByType(type)\n</code></pre> <p>\u627e\u5230\u6240\u6709\u5339\u914d\u6307\u5b9a \u7c7b\u578b\uff08type\uff09\u7684 \u540e\u4ee3 \u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstances\uff09\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testinstancefindallbyprops","title":"<code>testInstance.findAllByProps()</code>","text":"<pre><code>testInstance.findAllByProps(props)\n</code></pre> <p>\u627e\u5230\u6240\u6709\u5339\u914d\u6307\u5b9a \u5c5e\u6027\uff08props\uff09\u7684 \u540e\u4ee3 \u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstances\uff09\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testinstanceinstance","title":"<code>testInstance.instance</code>","text":"<pre><code>testInstance.instance\n</code></pre> <p>\u8be5\u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstances\uff09\u76f8\u5bf9\u5e94\u7684\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u3002\u5b83\u53ea\u80fd\u7528\u4e8e \u7c7b\u7ec4\u4ef6\uff08class components\uff09\uff0c\u56e0\u4e3a\u51fd\u6570\u7ec4\u4ef6\uff08functional components\uff09\u6ca1\u6709\u5b9e\u4f8b\u3002\u5b83\u5339\u914d\u7ed9\u5b9a\u7684\u7ec4\u4ef6\u5185\u90e8\u7684 <code>this</code> \u7684\u503c\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testinstancetype","title":"<code>testInstance.type</code>","text":"<pre><code>testInstance.type\n</code></pre> <p>\u8be5\u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstance\uff09\u76f8\u5bf9\u5e94\u7684\u7ec4\u4ef6\u7684\u7c7b\u578b\uff08type\uff09\uff0c\u4f8b\u5982\uff0c\u4e00\u4e2a <code>&lt;Button /&gt;</code> \u7ec4\u4ef6\u6709\u4e00\u4e2a <code>Button</code> \u7c7b\u578b\uff08type\uff09\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testinstanceprops","title":"<code>testInstance.props</code>","text":"<pre><code>testInstance.props\n</code></pre> <p>\u8be5\u6d4b\u8bd5\u5b9e\u4f8b\uff08testInstance\uff09\u76f8\u5bf9\u5e94\u7684\u7ec4\u4ef6\u7684\u5c5e\u6027\uff08props\uff09\uff0c\u4f8b\u5982\uff0c\u4e00\u4e2a <code>&lt;Button size=\"small\" /&gt;</code> \u7ec4\u4ef6\u7684\u5c5e\u6027\uff08props\uff09\u4e3a <code>{size: 'small'}</code>\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testinstanceparent","title":"<code>testInstance.parent</code>","text":"<pre><code>testInstance.parent\n</code></pre> <p>\u8be5\u6d4b\u8bd5\u5b9e\u4f8b\u7684\u7236\u6d4b\u8bd5\u5b9e\u4f8b\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#testinstancechildren","title":"<code>testInstance.children</code>","text":"<pre><code>testInstance.children\n</code></pre> <p>\u8be5\u6d4b\u8bd5\u5b9e\u4f8b\u7684\u5b50\u6d4b\u8bd5\u5b9e\u4f8b\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#ideas","title":"Ideas","text":"<p>\u60a8\u53ef\u4ee5\u5c06 <code>createNodeMock</code> \u51fd\u6570\u4f5c\u4e3a\u9009\u9879\uff08option\uff09\u4f20\u9012\u7ed9 <code>TestRenderer.create</code>\uff0c\u53ef\u4ee5\u81ea\u884c\u6a21\u62dfrefs\u3002<code>createNodeMock</code> \u63a5\u53d7\u5f53\u524d\u5143\u7d20\u4f5c\u4e3a\u53c2\u6570\uff0c\u5e76\u4e14\u8fd4\u56de\u4e00\u4e2a\u6a21\u62df\u7684 ref \u5bf9\u8c61\u3002\u5f53\u60a8\u8981\u6d4b\u8bd5\u4e00\u4e2a\u4f9d\u8d56\u4e8e refs \u7684\u7ec4\u4ef6\u65f6\uff0c\u5b83\u5341\u5206\u6709\u7528\u3002</p> <pre><code>import TestRenderer from 'react-test-renderer';\n\nclass MyComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.input = null;\n  }\n  componentDidMount() {\n    this.input.focus();\n  }\n  render() {\n    return &lt;input type=\"text\" ref={el =&gt; this.input = el} /&gt;\n  }\n}\n\nlet focused = false;\nTestRenderer.create(\n  &lt;MyComponent /&gt;,\n  {\n    createNodeMock: (element) =&gt; {\n      if (element.type === 'input') {\n        // mock a focus function\n        return {\n          focus: () =&gt; {\n            focused = true;\n          }\n        };\n      }\n      return null;\n    }\n  }\n);\nexpect(focused).toBe(true);\n</code></pre> <p>\u7f16\u8f91\u672c\u9875\u9762</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#javascript","title":"JavaScript \u73af\u5883\u8981\u6c42","text":"<p>React 16 \u4f9d\u8d56\u96c6\u5408\u7c7b\u578b Map \u548c Set\u3002\u82e5\u4f60\u8981\u652f\u6301\u8001\u5f0f\u7684\u53ef\u80fd\u672a\u63d0\u4f9b\u539f\u751f\u652f\u6301\u7684\u6d4f\u89c8\u5668\u548c\u8bbe\u5907\uff08\u4f8b\u5982 IE &lt; 11\uff09\uff0c\u8003\u8651\u5728\u4f60\u7684\u5e94\u7528\u5e93\u4e2d\u5305\u542b\u4e00\u4e2a\u5168\u5c40\u7684 polyfill\uff0c\u4f8b\u5982 core-js \u6216 babel-polyfill\u3002</p> <p>\u4e00\u4e2a\u4f7f\u7528 core-js \u652f\u6301\u8001\u7248\u6d4f\u89c8\u5668\u7684 React 16 polyfill \u73af\u5883\u5927\u81f4\u5982\u4e0b\uff1a</p> <pre><code>import 'core-js/es6/map';\nimport 'core-js/es6/set';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nReactDOM.render(\n  &lt;h1&gt;Hello, world!&lt;/h1&gt;,\n  document.getElementById('root')\n);\n</code></pre> <p>React \u4e5f\u4f9d\u8d56\u4e8e <code>requestAnimationFrame</code> \uff08\u751a\u81f3\u5305\u62ec\u6d4b\u8bd5\u73af\u5883\uff09\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528raf \u5305\u53bb shim <code>requestAnimationFrame</code>\uff1a</p> <pre><code>import 'raf/polyfill';\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#react","title":"React \u672f\u8bed\u8868","text":""},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#es6-es2015-es2016","title":"ES6, ES2015, ES2016\u7b49","text":"<p>\u8fd9\u4e9b\u7f29\u7565\u8bcd\u90fd\u662f\u6307\u6700\u65b0\u7248\u672c\u7684ECMAScript\u8bed\u8a00\u89c4\u8303\u6807\u51c6\uff0c\u800cJavaScript\u8bed\u8a00\u662f\u5b83\u4eec\u7684\u4e00\u4e2a\u5b9e\u73b0\u3002ES6\u7248\u672c\uff08\u4e5f\u88ab\u79f0\u4e3aES2015\uff09\u5305\u62ec\u8bb8\u591a\u65b0\u7279\u6027\uff0c\u5982\uff1a\u7bad\u5934\u51fd\u6570\u3001\u7c7b(class)\u3001\u6a21\u677f\u5b57\u9762\u91cf\u3001<code>let</code> \u548c <code>const</code> \u53d8\u91cf\u58f0\u660e\u7b49\u3002\u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc\u4e86\u89e3\u66f4\u591a\u7248\u672c\u65b0\u7279\u6027\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#compilers","title":"\u7f16\u8bd1\u5668 Compilers","text":"<p>JavaScript\u7f16\u8bd1\u5668\u7528\u4e8e\u8f6c\u6362JavaScript\u4ee3\u7801\uff0c\u5e76\u7528\u5176\u5b83\u683c\u5f0f\u8fd4\u56deJavaScript\u4ee3\u7801\u3002\u6700\u5e38\u89c1\u7684\u7528\u4f8b\u662f\u91c7\u7528ES6\u8bed\u6cd5\u7f16\u5199\u4ee3\u7801\u5e76\u5c06\u5176\u8f6c\u6362\u4e3a\u65e7\u7248\u6d4f\u89c8\u5668\u80fd\u591f\u8bc6\u522b\u7684\u8bed\u6cd5\u3002 React\u6700\u5e38\u7528\u7684\u7f16\u8bd1\u5668\u662fBabel\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#bundlers","title":"\u6253\u5305\u5de5\u5177 Bundlers","text":"<p>\u5f00\u53d1\u4e2d\u5c06JavaScript\u548cCSS\u4ee3\u7801\u7f16\u5199\u4e3a\u5355\u72ec\u7684\u6a21\u5757\uff08\u901a\u5e38\u4e3a\u6570\u767e\u4e2a\uff09\uff0c\u6253\u5305\u5de5\u5177\u4f1a\u9488\u5bf9\u6d4f\u89c8\u5668\u5c06\u5b83\u4eec\u7ec4\u5408\u5e76\u4f18\u5316\u4e3a\u51e0\u4e2a\u6587\u4ef6\u3002Webpack\u548cBrowserify\u662f\u5728React\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5e38\u7528\u7684\u6253\u5305\u5de5\u5177\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#elements","title":"\u5143\u7d20 Elements","text":"<p>React\u5143\u7d20\u662fReact\u5e94\u7528\u7a0b\u5e8f\u7684\u6700\u5c0f\u5355\u4f4d\u3002\u521d\u5b66\u8005\u5f88\u53ef\u80fd\u628a\u5143\u7d20\u7684\u5b9a\u4e49\u548c\u5b9a\u4e49\u5185\u6db5\u66f4\u5e7f\u7684\u201c\u7ec4\u4ef6\u201d\u7ed9\u641e\u6df7\u4e86\u3002\u5143\u7d20\u7528\u6765\u63cf\u8ff0\u754c\u9762\u4e0a\u7684\u4efb\u4f55\u4e1c\u897f\u3002 React \u5143\u7d20\u90fd\u662fimmutable\u4e0d\u53ef\u53d8\u7684\u3002</p> <pre><code>const element = &lt;h1&gt;Hello, world&lt;/h1&gt;;\n</code></pre> <p>\u901a\u5e38\u4e0d\u76f4\u63a5\u4f7f\u7528\u5143\u7d20\uff0c\u800c\u662f\u4ece\u7ec4\u4ef6\u8fd4\u56de\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#components_1","title":"\u7ec4\u4ef6 Components","text":"<p>React\u7ec4\u4ef6\u662f\u5c0f\u7684\uff0c\u53ef\u590d\u7528\u7684\u4ee3\u7801\u7247\u6bb5\uff0c\u5b83\u8fd4\u56de\u4e00\u4e2aReact\u5143\u7d20\u7528\u4e8e\u6e32\u67d3\u9875\u9762\u3002 \u5b9a\u4e49\u4e00\u4e2a\u7ec4\u4ef6\u6700\u7b80\u5355\u7684\u65b9\u5f0f\u662f\u4f7f\u7528JavaScript\u51fd\u6570\uff0c\u5b83\u8fd4\u56de\u4e00\u4e2aReact\u5143\u7d20\uff1a</p> <pre><code>function Welcome(props) {\n  return &lt;h1&gt;Hello, {props.name}&lt;/h1&gt;;\n}\n</code></pre> <p>\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 ES6 class \u6765\u5b9a\u4e49\u4e00\u4e2a\u7ec4\u4ef6:</p> <pre><code>class Welcome extends React.Component {\n  render() {\n    return &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;;\n  }\n}\n</code></pre> <p>\u7ec4\u4ef6\u53ef\u4ee5\u6309\u7167\u529f\u80fd\u5206\u89e3\u6210\u4e0d\u540c\u7684\u90e8\u4ef6\uff0c\u5e76\u5728\u5176\u4ed6\u7ec4\u4ef6\u4e2d\u4f7f\u7528\u3002\u7ec4\u4ef6\u53ef\u4ee5\u8fd4\u56de\u5176\u4ed6\u7ec4\u4ef6\uff0c\u6570\u7ec4\uff0c\u5b57\u7b26\u4e32\u6216\u6570\u5b57\u3002\u5f53\u4f60\u7684UI\u4e2d\u6709\u4e00\u90e8\u5206\u91cd\u590d\u4f7f\u7528\u4e86\u597d\u51e0\u6b21\uff08\u6bd4\u5982\uff0cButton\u3001Panel\u3001Avatar\uff09\uff0c\u6216\u8005\u5176\u81ea\u8eab\u5c31\u8db3\u591f\u590d\u6742\uff08\u6bd4\u5982\uff0cApp\u3001FeedStory\u3001Comment\uff09\uff0c\u7c7b\u4f3c\u8fd9\u4e9b\u90fd\u662f\u62bd\u8c61\u6210\u4e00\u4e2a\u53ef\u590d\u7528\u7ec4\u4ef6\u7684\u7edd\u4f73\u9009\u62e9\uff0c\u8fd9\u4e5f\u662f\u4e00\u4e2a\u6bd4\u8f83\u597d\u7684\u505a\u6cd5\u3002 \u7ec4\u4ef6\u540d\u79f0\u5e94\u59cb\u7ec8\u4ee5\u5927\u5199\u5b57\u6bcd\u5f00\u5934 (<code>&lt;Wrapper/&gt;</code> \u800c\u4e0d\u662f <code>&lt;wrapper/&gt;</code>)\u3002\u53c2\u89c1 \u8fd9\u91cc\u83b7\u53d6\u66f4\u591a\u6709\u5173\u6e32\u67d3\u7ec4\u4ef6\u7684\u4fe1\u606f\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#props_1","title":"<code>props</code>","text":"<p><code>props</code>\u662fReact\u7ec4\u4ef6\u7684\u8f93\u5165\u5185\u5bb9\u3002 \u5b83\u4eec\u662f\u4ece\u7236\u7ec4\u4ef6\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\u7684\u6570\u636e\u3002</p> <p>\u8bf7\u8bb0\u4f4f\uff0c<code>props</code> \u662f\u53ea\u8bfb\u7684\u3002 \u4e0d\u5e94\u8be5\u4ee5\u4efb\u4f55\u65b9\u5f0f\u4fee\u6539\u5b83\u4eec\uff1a</p> <pre><code>// \u9519\u8bef!\nprops.number = 42;\n</code></pre> <p>\u5982\u679c\u4f60\u9700\u8981\u4fee\u6539\u67d0\u4e9b\u503c\u4ee5\u54cd\u5e94\u7528\u6237\u8f93\u5165\u6216\u7f51\u7edc\u54cd\u5e94\uff0c\u8bf7\u4f7f\u7528<code>state</code>\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#propschildren","title":"<code>props.children</code>","text":"<p><code>props.children</code>\u5728\u6bcf\u4e2a\u7ec4\u4ef6\u4e0a\u90fd\u53ef\u7528\u3002 \u5b83\u4f1a\u5305\u542b\u7ec4\u4ef6\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u6807\u8bb0\u4e4b\u95f4\u7684\u5185\u5bb9\u3002 \u4f8b\u5982\uff1a</p> <pre><code>&lt;Welcome&gt;Hello world!&lt;/Welcome&gt;\n</code></pre> <p>\u5728<code>Welcome</code>\u7ec4\u4ef6\u4e2d\u7684<code>props.children</code>\u4e2d\u53ef\u4ee5\u83b7\u53d6\u5b57\u7b26\u4e32<code>Hello world\uff01</code>\uff1a</p> <pre><code>function Welcome(props) {\n  return &lt;p&gt;{props.children}&lt;/p&gt;;\n}\n</code></pre> <p>\u5b9a\u4e49\u6210\u7c7b\u7ec4\u4ef6\u65f6\uff0c\u4f7f\u7528<code>this.props.children</code>\uff1a</p> <pre><code>class Welcome extends React.Component {\n  render() {\n    return &lt;p&gt;{this.props.children}&lt;/p&gt;;\n  }\n}\n</code></pre>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_25","title":"\u72b6\u6001","text":"<p>\u5f53\u67d0\u4e2a\u7ec4\u4ef6\u4e0e\u5176\u5173\u8054\u7684\u67d0\u4e9b\u6570\u636e\u968f\u65f6\u95f4\u800c\u6539\u53d8\u65f6\uff0c\u7ec4\u4ef6\u4e2d\u9700\u8981\u4f7f\u7528<code>state</code>\u3002\u4f8b\u5982\uff0c<code>Checkbox</code>\u7ec4\u4ef6\u4e2d\u7684\u72b6\u6001\u9700\u8981\u8f6c\u53d8\u4e3a<code>isChecked</code>\uff0c\u6216\u8005<code>NewsFeed</code> \u7ec4\u4ef6\u53ef\u80fd\u5e0c\u671b\u8ffd\u8e2a\u5176\u72b6\u6001\u4e2d\u7684<code>fetchedPosts</code>\u3002</p> <p><code>state</code>\u548c<code>props</code>\u4e4b\u95f4\u6700\u91cd\u8981\u7684\u533a\u522b\u662f<code>props</code>\u662f\u4ece\u7236\u7ec4\u4ef6\u4f20\u9012\u7684\uff0c\u800c<code>state</code>\u662f\u7531\u7ec4\u4ef6\u672c\u8eab\u7ba1\u7406\u7684\u3002\u7ec4\u4ef6\u4e0d\u80fd\u6539\u53d8\u5176<code>props</code>\uff0c\u4f46\u53ef\u4ee5\u6539\u53d8<code>state</code>\u3002 \u901a\u8fc7\u4f7f\u7528<code>this.setState()</code>\u3002 \u53ea\u6709\u5b9a\u4e49\u4e3a\u7c7b\u7684\u7ec4\u4ef6\u624d\u53ef\u4ee5\u5177\u6709\u72b6\u6001\u3002</p> <p>\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u7279\u5b9a\u7684\u53d8\u5316\u6570\u636e\uff0c\u5e94\u8be5\u53ea\u6709\u4e00\u4e2a\u201c\u62e5\u6709\u201d\u5b83\u7684\u72b6\u6001\u7684\u7ec4\u4ef6\u3002\u4e0d\u8981\u5c1d\u8bd5\u540c\u6b65\u4e24\u4e2a\u4e0d\u540c\u7ec4\u4ef6\u7684\u72b6\u6001\u3002\u72b6\u6001\u5206\u4eab\u901a\u8fc7\u72b6\u6001\u63d0\u5347\u81f3\u6700\u8fd1\u7684\u7236\u7ec4\u4ef6\u6765\u5b8c\u6210\uff0c\u5e76\u901a\u8fc7<code>props</code>\u4f20\u9012\u7ed9\u4ed6\u4eec\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_26","title":"\u751f\u547d\u5468\u671f\u51fd\u6570","text":"<p>\u751f\u547d\u5468\u671f\u51fd\u6570\u662f\u5728\u7ec4\u4ef6\u7684\u4e0d\u540c\u9636\u6bb5\u53ef\u6267\u884c\u81ea\u5b9a\u4e49\u529f\u80fd\u7684\u94a9\u5b50\u3002\u5f53\u7ec4\u4ef6\u88ab\u521b\u5efa\u5e76\u63d2\u5165\u5230DOM\u4e2d\u65f6\uff0c\u53ef\u7528\u51fd\u6570(mounting)\uff0c\u7ec4\u4ef6\u66f4\u65b0\uff0c\u4ee5\u53ca\u4eceDOM\u5378\u8f7d\u6216\u79fb\u9664\u7ec4\u4ef6\u65f6\u53ef\u4ee5\u4f7f\u7528\u5bf9\u5e94\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_27","title":"\u53d7\u63a7 &amp; \u975e\u53d7\u63a7\u7ec4\u4ef6","text":"<p>React\u6709\u4e24\u79cd\u4e0d\u540c\u7684\u65b9\u6cd5\u6765\u5904\u7406\u8868\u5355\u8f93\u5165\u3002</p> <p>\u503c\u7531React\u63a7\u5236\u7684\u8f93\u5165\u8868\u5355\u5143\u7d20\u79f0\u4e3a*\u53d7\u63a7\u7ec4\u4ef6*\u3002\u5f53\u7528\u6237\u5c06\u6570\u636e\u8f93\u5165\u5230\u53d7\u63a7\u7ec4\u4ef6\u4e2d\u65f6\uff0c\u4f1a\u89e6\u53d1\u72b6\u6001\u6539\u53d8\u7684\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff0c\u5e76\u4e14\u4f60\u7684\u4ee3\u7801\u5c06\u51b3\u5b9a\u8f93\u5165\u662f\u5426\u6709\u6548\uff08\u4f7f\u7528\u66f4\u65b0\u7684\u503c\u91cd\u65b0\u6e32\u67d3\uff09\u3002\u5982\u679c\u4f60\u4e0d\u91cd\u65b0\u6e32\u67d3\uff0c\u90a3\u4e48\u8868\u5355\u5143\u7d20\u5c06\u4fdd\u6301\u4e0d\u53d8\u3002</p> <p>*\u975e\u53d7\u63a7\u5236\u7ec4\u4ef6*\u7684\u8868\u5355\u5143\u7d20\u5728React\u4e4b\u5916\u5de5\u4f5c\u3002\u5f53\u7528\u6237\u5c06\u6570\u636e\u8f93\u5165\u5230\u8868\u5355\u57df\uff08\u8f93\u5165\u6846\uff0c\u4e0b\u62c9\u83dc\u5355\u7b49\uff09\u65f6\uff0c\u4e0d\u9700\u8981React\u505a\u4efb\u4f55\u4e8b\u60c5\uff0c\u66f4\u65b0\u7684\u6570\u636e\u5c31\u4f1a\u88ab\u5448\u73b0\u51fa\u6765\u3002\u8fd9\u4e5f\u610f\u5473\u7740\u4f60\u4e0d\u80fd\u5f3a\u8feb\u8868\u5355\u57df\u90fd\u6709\u4e00\u4e2a\u786e\u5b9a\u7684\u503c\u3002</p> <p>\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528\u53d7\u63a7\u7ec4\u4ef6\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_28","title":"\u952e\u503c","text":"<p>\u201c\u952e\u503c\u201d\u662f\u521b\u5efa\u5143\u7d20\u6570\u7ec4\u65f6\u9700\u8981\u5305\u542b\u7684\u7279\u6b8a\u5b57\u7b26\u4e32\u5c5e\u6027\u3002\u952e\u503c\u53ef\u4ee5\u5e2e\u52a9React\u8bc6\u522b\u54ea\u4e9b\u5143\u7d20\u88ab\u66f4\u6539\uff0c\u6dfb\u52a0\u6216\u5220\u9664\u3002\u56e0\u6b64\u4f60\u5e94\u5f53\u7ed9\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u8d4b\u4e88\u4e00\u4e2a\u786e\u5b9a\u7684\u6807\u8bc6\u3002</p> <p>\u786e\u5b9a\u7684\u6807\u8bc6\u952e\u503c\u5bf9\u4e8e\u91cd\u65b0\u6e32\u67d3\u5f88\u91cd\u8981\uff0c\u8fd9\u6837React\u624d\u53ef\u4ee5\u786e\u5b9a\u4f55\u65f6\u6dfb\u52a0\uff0c\u5220\u9664\u6216\u91cd\u65b0\u6392\u5e8f\u5143\u7d20\u3002\u4e0d\u8981\u628a\u7c7b\u4f3c\u7531<code>Math.random()</code>\u751f\u6210\u7684\u503c\u8d4b\u7ed9\u952e\u503c\u3002\u5728\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u952e\u503c\u5e94\u8be5\u5bf9\u5e94\u4e8e\u6765\u81ea\u6570\u636e\u7684\u552f\u4e00\u4e14\u7a33\u5b9a\u7684\u6807\u8bc6\u7b26\uff0c\u4f8b\u5982<code>post.id</code>\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#refs","title":"Refs","text":"<p>React\u652f\u6301\u4e00\u4e2a\u53ef\u4ee5\u9644\u52a0\u5230\u4efb\u4f55\u7ec4\u4ef6\u7684\u7279\u6b8a\u5c5e\u6027<code>ref</code>\u3002<code>ref</code>\u5c5e\u6027\u53ef\u4ee5\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u6216\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u3002\u5f53<code>ref</code>\u5c5e\u6027\u662f\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u65f6\uff0c\u51fd\u6570\u63a5\u6536\u5e95\u5c42DOM\u5143\u7d20\u6216\u7c7b\u5b9e\u4f8b\uff08\u53d6\u51b3\u4e8e\u5143\u7d20\u7684\u7c7b\u578b\uff09\u4f5c\u4e3a\u53c2\u6570\u3002\u8fd9\u4f7f\u4f60\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95eeDOM\u5143\u7d20\u6216\u7ec4\u4ef6\u5b9e\u4f8b\u3002</p> <p>\u4e0d\u8981\u8fc7\u5ea6\u4f7f\u7528 Refs\u3002\u5982\u679c\u4f60\u53d1\u73b0\u81ea\u5df1\u7ecf\u5e38\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528refs\u6765\u201c\u641e\u4e8b\u60c5\u201d\uff0c\u8bf7\u8003\u8651\u4f7f\u7528\u72b6\u6001\u63d0\u5347\u3002</p>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_29","title":"\u4e8b\u4ef6","text":"<p>React\u5143\u7d20\u7684\u4e8b\u4ef6\u5904\u7406\u548cDOM\u5143\u7d20\u7684\u5f88\u76f8\u4f3c\u3002\u4f46\u662f\u6709\u4e00\u70b9\u8bed\u6cd5\u4e0a\u7684\u4e0d\u540c:</p> <ul> <li>React\u4e8b\u4ef6\u7ed1\u5b9a\u5c5e\u6027\u7684\u547d\u540d\u91c7\u7528\u9a7c\u5cf0\u5f0f\u5199\u6cd5\uff0c\u800c\u4e0d\u662f\u5c0f\u5199\u3002</li> <li>\u5982\u679c\u91c7\u7528 JSX \u7684\u8bed\u6cd5\u4f60\u9700\u8981\u4f20\u5165\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32(DOM\u5143\u7d20\u7684\u5199\u6cd5)</li> </ul>"},{"location":"react/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-React%E9%AB%98%E9%98%B6API/#_30","title":"\u534f\u8c03","text":"<p>\u5f53\u4e00\u4e2a\u7ec4\u4ef6\u7684props\u6216\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6\uff0cReact\u901a\u8fc7\u6bd4\u8f83\u65b0\u8fd4\u56de\u7684\u5143\u7d20\u548c\u5148\u524d\u6e32\u67d3\u7684\u5143\u7d20\u6765\u51b3\u5b9a\u662f\u5426\u9700\u8981\u5b9e\u9645\u7684DOM\u66f4\u65b0\u3002\u5f53\u5b83\u4eec\u4e0d\u76f8\u7b49\u65f6\uff0cReact\u5c06\u66f4\u65b0DOM\u3002 \u8fd9\u4e2a\u8fc7\u7a0b\u88ab\u79f0\u4e3a\u201c\u534f\u8c03\u201d\u3002</p>"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/","title":"\u5bf9React children \u7684\u6df1\u5165\u7406\u89e3","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 10449  \u9605\u8bfb21\u5206\u949f</p> <p>\u672c\u6587\u4e3a\u7ffb\u8bd1\u6587\u7ae0\uff0c\u539f\u6587\u94fe\u63a5</p> <p>React\u7684\u6838\u5fc3\u4e3a\u7ec4\u4ef6\u3002\u4f60\u53ef\u4ee5\u50cf\u5d4c\u5957HTML\u6807\u7b7e\u4e00\u6837\u5d4c\u5957\u4f7f\u7528\u8fd9\u4e9b\u7ec4\u4ef6\uff0c\u8fd9\u4f7f\u5f97\u7f16\u5199JSX\u66f4\u52a0\u5bb9\u6613\uff0c\u56e0\u4e3a\u5b83\u7c7b\u4f3c\u4e8e\u6807\u8bb0\u8bed\u8a00\u3002</p> <p>\u5f53\u6211\u521a\u5f00\u59cb\u5b66\u4e60React\u65f6\uff0c\u5f53\u65f6\u6211\u8ba4\u4e3a\u201c\u4f7f\u7528 <code>props.children</code> \u5c31\u8fd9\u4e48\u56de\u4e8b\uff0c\u6211\u77e5\u9053\u5b83\u7684\u4e00\u5207\u201d\u3002\u6211\u9519\u4e86\u3002</p> <p>\u56e0\u4e3a\u6211\u4eec\u4f7f\u7528\u7684\u662f JavaScript\uff0c\u6211\u4eec\u4f1a\u6539\u53d8children\u3002==\u6211\u4eec\u80fd\u591f\u7ed9\u5b83\u4eec\u53d1\u9001\u7279\u6b8a\u7684\u5c5e\u6027\uff0c\u4ee5\u6b64\u6765\u51b3\u5b9a\u5b83\u4eec\u662f\u5426\u8fdb\u884c\u6e32\u67d3\u3002==\u8ba9\u6211\u4eec\u6765\u63a2\u7a76\u4e00\u4e0bReact\u4e2dchildren\u7684\u4f5c\u7528\u3002</p>"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#child","title":"child \u5b50\u7ec4\u4ef6","text":"<p>\u6211\u4eec\u6709\u4e00\u4e2a\u7ec4\u4ef6 <code>\u5305\u542b\u4e86\u51e0\u4e2a\u7ec4\u4ef6</code> \u3002\u4f60\u53ef\u80fd\u4f1a\u8fd9\u4e48\u4f7f\u7528\u5b83\uff1a</p> <pre><code>&lt;Grid&gt;\n  &lt;Row /&gt;\n  &lt;Row /&gt;\n  &lt;Row /&gt;\n&lt;/Grid&gt;\n</code></pre> <p>\u8fd9\u4e09\u4e2a <code>Row</code> \u7ec4\u4ef6\u90fd\u6210\u4e3a\u4e86 <code>Grid</code> \u7684 <code>props.children</code> \u3002\u4f7f\u7528\u4e00\u4e2a\u8868\u8fbe\u5f0f\u5bb9\u5668\uff0c\u7236\u7ec4\u4ef6\u5c31\u80fd\u591f\u6e32\u67d3\u5b83\u4eec\u7684\u5b50\u7ec4\u4ef6\uff1a</p> <pre><code>class Grid extends React.Component {\n  render() {\n    return (&lt;div&gt;{this.props.children}&lt;/div&gt;);\n  }\n}\n</code></pre> <p>\u7236\u7ec4\u4ef6\u4e5f\u80fd\u591f\u51b3\u5b9a\u4e0d\u6e32\u67d3\u4efb\u4f55\u7684\u5b50\u7ec4\u4ef6\u6216\u8005\u5728\u6e32\u67d3\u4e4b\u524d\u5bf9\u5b83\u4eec\u8fdb\u884c\u64cd\u4f5c\u3002\u4f8b\u5982 Fullstop \u7ec4\u4ef6\u5c31\u6ca1\u6709\u6e32\u67d3\u5b50\u7ec4\u4ef6\u3002</p> <pre><code>class Fullstop extends React.Component {\n  render() {\n    return &lt;h1&gt;Hello world!&lt;/h1&gt;\n  }\n}\n</code></pre> <p>\u4e0d\u7ba1\u4f60\u5c06\u4ec0\u4e48\u5b50\u7ec4\u4ef6\u4f20\u9012\u7ed9\u8fd9\u4e2a\u7ec4\u4ef6\uff0c\u5b83\u90fd\u53ea\u4f1a\u663e\u793a\u201cHello world!\u201d</p> <p>\u5c0f\u7ed3\uff1aReact \u7684\u7236\u7ec4\u4ef6\u53ef\u4ee5\u6e32\u67d3\u5185\u5d4c\u7684\u82e5\u5e72\u5b50\u7ec4\u4ef6\uff0c\u6216\u8005\u9009\u62e9\u4e0d\u6e32\u67d3\u3002</p>"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#child_1","title":"child \u6570\u636e\u7c7b\u578b","text":"<p>React\u4e2d\u7684Children\u4e0d\u4e00\u5b9a\u662f\u7ec4\u4ef6\uff0c\u5b83\u4eec\u53ef\u4ee5\u4f7f\u4efb\u4f55\u4e1c\u897f\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u80fd\u591f\u5c06\u4e0a\u9762\u7684\u5b57\u7b26\u4e32\u4f5c\u4e3achildren\u4f20\u9012\u6211\u4eec\u7684\u7ec4\u4ef6\u3002\uff08\u5b9e\u9645\u7684\u5b50\u7ec4\u4ef6\u6570\u636e\u7c7b\u578b\u53ef\u4ee5\u662f\u7ec4\u4ef6\u3001\u6570\u7ec4\u3001\u5b57\u7b26\u4e32\u7b49\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\uff09</p> <pre><code>&lt;Grid&gt;Hello world!&lt;/Grid&gt;\n</code></pre> <p>\u6ce8\u610f\uff1a\u5982\u679c\u662f\u4f20\u53c2\u662f\u5b57\u7b26\u4e32\uff0cJSX \u5c06\u4f1a\u81ea\u52a8\u5220\u9664\u6bcf\u884c\u5f00\u5934\u548c\u7ed3\u5c3e\u7684\u7a7a\u683c\uff0c\u4ee5\u53ca\u7a7a\u884c\u3002\u5b83\u8fd8\u4f1a\u628a\u5b57\u7b26\u4e32\u4e2d\u95f4\u7684\u7a7a\u767d\u884c\u538b\u7f29\u4e3a\u4e00\u4e2a\u7a7a\u683c\u3002</p> <p>\u8fd9\u610f\u5473\u7740\u4ee5\u4e0b\u7684\u8fd9\u4e9b\u4f8b\u5b50\u90fd\u4f1a\u6e32\u67d3\u51fa\u4e00\u6837\u7684\u60c5\u51b5\uff1a</p> <pre><code>&lt;Grid&gt;Hello world!&lt;/Grid&gt;\n\n&lt;Grid&gt;\n  Hello world!\n&lt;/Grid&gt;\n\n&lt;Grid&gt;\n  Hello\n  world!\n&lt;/Grid&gt;\n\n&lt;Grid&gt;\n\n  Hello world!\n&lt;/Grid&gt;\n</code></pre> <p>\u4f60\u4e5f\u53ef\u4ee5\u5c06\u591a\u79cd\u7c7b\u578b\u7684children\u5b8c\u7f8e\u7684\u7ed3\u5408\u5728\u4e00\u8d77\uff1a</p> <pre><code>&lt;Grid&gt;\n  Here is a row:\n  &lt;Row /&gt;\n  Here is another row:\n  &lt;Row /&gt;\n&lt;/Grid&gt;\n</code></pre>"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#child_2","title":"child \u7684\u529f\u80fd","text":"<p>\u6211\u4eec\u80fd\u591f\u4f20\u9012\u4efb\u4f55\u7684 JavaScript \u8868\u8fbe\u5f0f\u4f5c\u4e3achildren\uff0c\u5305\u62ec\u51fd\u6570\u3002</p> <p>\u4e3a\u4e86\u8bf4\u660e\u8fd9\u79cd\u60c5\u51b5\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u5b83\u5c06\u6267\u884c\u4e00\u4e2a\u4f20\u9012\u8fc7\u6765\u7684\u4f5c\u4e3achild\u7684\u51fd\u6570\uff1a</p> <pre><code>class Executioner extends React.Component {\n  render() {\n    // See how we're calling the child as a function?\n    // \u8fd9\u91cc\u5e94\u8be5\u8fdb\u884c\u5224\u65ad\uff0c\u5982\u679cchildren\u7684\u6570\u636e\u7c7b\u578b\u662f\u51fd\u6570\uff0c\u7136\u540e\u6267\u884c\u4e0b\u9762\u7684\u64cd\u4f5c\n    return this.props.children()\n  }\n}\n</code></pre> <p>\u4f60\u4f1a\u50cf\u8fd9\u6837\u7684\u4f7f\u7528\u8fd9\u4e2a\u7ec4\u4ef6</p> <pre><code>&lt;Executioner&gt;\n  {() =&gt; &lt;h1&gt;Hello World!&lt;/h1&gt;}\n&lt;/Executioner&gt;\n</code></pre> <p>\u5f53\u7136\uff0c\u8fd9\u4e2a\u4f8b\u5b50\u5e76\u6ca1\u4ec0\u4e48\u7528\uff0c\u53ea\u662f\u5c55\u793a\u4e86\u8fd9\u4e2a\u60f3\u6cd5\u3002</p> <p>\u5047\u8bbe\u4f60\u60f3\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u4e00\u4e9b\u6570\u636e\u3002\u4f60\u80fd\u4f7f\u7528\u591a\u79cd\u65b9\u6cd5\u5b9e\u73b0\uff0c\u50cf\u8fd9\u79cd\u5c06\u51fd\u6570\u4f5c\u4e3achild\u7684\u65b9\u6cd5\u4e5f\u662f\u53ef\u884c\u7684\uff08\u53ef\u4ee5\u65b9\u4fbf\u7684\u4f20\u53c2\uff0c\u4e0d\u9700\u8981\u4f7f\u7528\u5355\u72ec\u7684 props \u4f20\u503c\uff09\u3002</p> <pre><code>&lt;Fetch url=\"api.myself.com\"&gt;\n  {(result) =&gt; &lt;p&gt;{result}&lt;/p&gt;}\n&lt;/Fetch&gt;\n</code></pre> <p>\u4e0d\u8981\u62c5\u5fc3\u8fd9\u4e9b\u8d85\u51fa\u4e86\u4f60\u7684\u8111\u5bb9\u91cf\u3002\u6211\u60f3\u8981\u7684\u662f\u5f53\u4f60\u4ee5\u540e\u9047\u5230\u8fd9\u79cd\u60c5\u51b5\u65f6\u4e0d\u518d\u60ca\u8bb6\u3002\u6709\u4e86children\u4ec0\u4e48\u4e8b\u90fd\u4f1a\u53d1\u751f\u3002</p>"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#children-api","title":"children API","text":"<p>\u5982\u679c\u4f60\u770b\u8fc7React\u7684\u6587\u6863\u4f60\u5c31\u4f1a\u8bf4\u201cchildren\u662f\u4e00\u4e2a\u4e0d\u900f\u660e\u7684\u6570\u636e\u7ed3\u6784\u201d\u3002\u4ece\u672c\u8d28\u4e0a\u6765\u8bb2\uff0c <code>props.children</code> \u53ef\u4ee5\u4f7f\u4efb\u4f55\u7684\u7c7b\u578b\uff0c\u6bd4\u5982\u6570\u7ec4\u3001\u51fd\u6570\u3001\u5bf9\u8c61\u7b49\u7b49\u3002</p> <p>React\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7684\u51fd\u6570\u52a9\u624b\u6765\u4f7f\u5f97\u64cd\u4f5cchildren\u66f4\u52a0\u65b9\u4fbf\u3002</p>"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#map-foreach","title":"Map + forEach","text":"<p>\u4e24\u4e2a\u6700\u663e\u773c\u7684\u51fd\u6570\u52a9\u624b\u5c31\u662f <code>React.Children.map</code> \u4ee5\u53ca <code>React.Children.forEach</code> \u3002\u5b83\u4eec\u5728\u5bf9\u5e94\u6570\u7ec4\u7684\u60c5\u51b5\u4e0b\u80fd\u8d77\u4f5c\u7528\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u5f53\u51fd\u6570\u3001\u5bf9\u8c61\u6216\u8005\u4efb\u4f55\u4e1c\u897f\u4f5c\u4e3achildren\u4f20\u9012\u65f6\uff0c\u5b83\u4eec\u4e5f\u4f1a\u8d77\u4f5c\u7528\u3002</p> <pre><code>class IgnoreFirstChild extends React.Component {\n  render() {\n    return (\n      &lt;React.Fragment&gt;\n        {React.Children.map(this.props.children, (child, index) =&gt; {\n          // Ignore the first child\n          if (index &lt; 1) return\n          return child\n        })}\n      &lt;/React.Fragment&gt;\n    )\n  }\n}\n</code></pre> <p><code>IgnoreFirstChild</code> \u7ec4\u4ef6\u5728\u8fd9\u91cc\u4f1a\u904d\u5386\u6240\u6709\u7684children\uff0c\u5ffd\u7565\u7b2c\u4e00\u4e2achild\u7136\u540e\u8fd4\u56de\u5176\u4ed6\u7684\u3002</p> <pre><code>&lt;IgnoreFirstChild&gt;\n  &lt;h1&gt;First&lt;/h1&gt;\n  &lt;h1&gt;Second&lt;/h1&gt; // &lt;- Only this is rendered\n&lt;/IgnoreFirstChild&gt;\n</code></pre> <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>this.props.children.map</code> \u7684\u65b9\u6cd5\u3002\u4f46\u8981\u662f\u6709\u4eba\u8bb2\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3achild\u4f20\u9012\u8fc7\u6765\u5c06\u4f1a\u53d1\u751f\u4ec0\u4e48\u5462\uff1f<code>this.props.children</code> \u4f1a\u662f\u4e00\u4e2a\u51fd\u6570\u800c\u4e0d\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u63a5\u7740\u6211\u4eec\u5c31\u4f1a\u4ea7\u751f\u4e00\u4e2aerror\uff01</p> <p>\u7136\u800c\u4f7f\u7528 <code>React.Children.map</code> \u51fd\u6570\uff0c\u65e0\u8bba\u4ec0\u4e48\u53c2\u6570\u90fd\u4e0d\u4f1a\u62a5\u9519\u3002</p> <pre><code>&lt;IgnoreFirstChild&gt;\n  {() =&gt; &lt;h1&gt;First&lt;/h1&gt;} // &lt;- Ignored \ud83d\udcaa\n&lt;/IgnoreFirstChild&gt;\n</code></pre>"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#count","title":"Count","text":"<p>\u56e0\u4e3a<code>this.props.children</code> \u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\u7684\uff0c\u68c0\u67e5\u4e00\u4e2a\u7ec4\u4ef6\u6709\u591a\u5c11\u4e2achildren\u662f\u975e\u5e38\u56f0\u96be\u7684\u3002\u5929\u771f\u7684\u4f7f\u7528 <code>this.props.children.length</code> \uff0c\u5f53\u4f20\u9012\u4e86\u5b57\u7b26\u4e32\u6216\u8005\u51fd\u6570\u65f6\u7a0b\u5e8f\u4fbf\u4f1a\u4e2d\u65ad\u3002\u5047\u8bbe\u6211\u4eec\u6709\u4e2achild\uff1a<code>\"Hello World!\"</code> \uff0c\u4f46\u662f\u4f7f\u7528 <code>.length</code> \u7684\u65b9\u6cd5\u5c06\u4f1a\u663e\u793a\u4e3a12\u3002</p> <p>\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u6709 <code>React.Children.count</code> \u65b9\u6cd5\u7684\u539f\u56e0</p> <pre><code>class ChildrenCounter extends React.Component {\n  render() {\n    return &lt;p&gt;React.Children.count(this.props.children)&lt;/p&gt;\n  }\n}\n</code></pre> <p>\u65e0\u8bba\u65f6\u4ec0\u4e48\u7c7b\u578b\u5b83\u90fd\u4f1a\u8fd4\u56dechildren\u7684\u6570\u91cf</p> <pre><code>// Renders \"1\"\n&lt;ChildrenCounter&gt;\n  Second!\n&lt;/ChildrenCounter&gt;\n\n// Renders \"2\"\n&lt;ChildrenCounter&gt;\n  &lt;p&gt;First&lt;/p&gt;\n  &lt;ChildComponent /&gt;\n&lt;/ChildrenCounter&gt;\n\n// Renders \"3\"\n&lt;ChildrenCounter&gt;\n  {() =&gt; &lt;h1&gt;First!&lt;/h1&gt;}\n  Second!\n  &lt;p&gt;Third!&lt;/p&gt;\n&lt;/ChildrenCounter&gt;\n</code></pre>"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#_1","title":"\u8f6c\u6362\u4e3a\u6570\u7ec4","text":"<p>\u5982\u679c\u4ee5\u4e0a\u7684\u65b9\u6cd5\u4f60\u90fd\u4e0d\u9002\u5408\uff0c\u4f60\u80fd\u5c06children\u8f6c\u6362\u4e3a\u6570\u7ec4\u901a\u8fc7 <code>React.Children.toArray</code> \u65b9\u6cd5\u3002\u5982\u679c\u4f60\u9700\u8981\u5bf9\u5b83\u4eec\u8fdb\u884c\u6392\u5e8f\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u662f\u975e\u5e38\u6709\u7528\u7684\u3002</p> <pre><code>class Sort extends React.Component {\n  render() {\n    const children = React.Children.toArray(this.props.children)\n    // Sort and render the children\n    return &lt;p&gt;{children.sort().join(' ')}&lt;/p&gt;\n  }\n}\n</code></pre> <pre><code>&lt;Sort&gt;\n  // We use expression containers to make sure our strings\n  // are passed as three children, not as one string\n  {'bananas'}{'oranges'}{'apples'}\n&lt;/Sort&gt;\n</code></pre> <p>\u4e0a\u4f8b\u4f1a\u6e32\u67d3\u4e3a\u4e09\u4e2a\u6392\u597d\u5e8f\u7684\u5b57\u7b26\u4e32\u3002</p>"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#onlychild","title":"onlychild","text":"<p>\u5982\u679c\u4f60\u56de\u8fc7\u6765\u60f3\u521a\u624d\u7684\u7ec4\u4ef6\uff0c\u5b83\u53ea\u80fd\u5728\u4f20\u9012\u5355\u4e00child\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528\uff0c\u800c\u4e14child\u5fc5\u987b\u4e3a\u51fd\u6570\u3002</p> <pre><code>class Executioner extends React.Component {\n  render() {\n    return this.props.children()\n  }\n}\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u8bd5\u7740\u53bb\u5f3a\u5236\u6267\u884c <code>propTypes</code> \uff0c\u5c31\u50cf\u4e0b\u9762\u8fd9\u6837</p> <pre><code>Executioner.propTypes = {\n  children: React.PropTypes.func.isRequired,\n}\n</code></pre> <p>\u8fd9\u4f1a\u4f7f\u63a7\u5236\u53f0\u6253\u5370\u51fa\u4e00\u6761\u6d88\u606f\uff0c\u90e8\u5206\u7684\u5f00\u53d1\u8005\u5c06\u4f1a\u628a\u5b83\u5ffd\u89c6\u3002\u76f8\u53cd\u7684\uff0c\u4f7f\u7528\u5728 <code>render</code> \u91cc\u9762\u4f7f\u7528 <code>React.Children.only</code></p> <pre><code>class Executioner extends React.Component {\n  render() {\n    return React.Children.only(this.props.children)()\n  }\n}\n</code></pre> <p>\u8fd9\u6837\u53ea\u4f1a\u8fd4\u56de\u4e00\u4e2achild\u3002\u5982\u679c\u4e0d\u6b62\u4e00\u4e2achild\uff0c\u5b83\u5c31\u4f1a\u629b\u51fa\u9519\u8bef\uff0c\u8ba9\u6574\u4e2a\u7a0b\u5e8f\u9677\u5165\u4e2d\u65ad\u2014\u2014\u5b8c\u7f8e\u7684\u907f\u5f00\u4e86\u8bd5\u56fe\u7834\u574f\u7ec4\u4ef6\u7684\u61d2\u60f0\u7684\u5f00\u53d1\u8005\u3002</p>"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#children","title":"\u7f16\u8f91 children","text":"<p>\u6211\u4eec\u53ef\u4ee5\u5c06\u4efb\u610f\u7684\u7ec4\u4ef6\u5448\u73b0\u4e3achildren\uff0c\u4f46\u662f\u4efb\u7136\u53ef\u4ee5\u7528\u7236\u7ec4\u4ef6\u53bb\u63a7\u5236\u5b83\u4eec\uff0c\u800c\u4e0d\u662f\u7528\u6e32\u67d3\u7684\u7ec4\u4ef6\u3002\u4e3a\u4e86\u8bf4\u660e\u8fd9\u70b9\uff0c\u8ba9\u6211\u4eec\u4e3e\u4f8b\u4e00\u4e2a \u80fd\u591f\u62e5\u6709\u5f88\u591a <code>RadioButton</code> \u7ec4\u4ef6\u7684 <code>RadiaGroup</code> \u7ec4\u4ef6\u3002</p> <p><code>RadioButtons</code> \u4e0d\u4f1a\u4ece <code>RadioGroup</code> \u672c\u8eab\u4e0a\u8fdb\u884c\u6e32\u67d3\uff0c\u5b83\u4eec\u53ea\u662f\u4f5c\u4e3achildren\u4f7f\u7528\u3002\u8fd9\u610f\u5473\u7740\u6211\u4eec\u5c06\u4f1a\u6709\u8fd9\u6837\u7684\u4ee3\u7801\u3002</p> <pre><code>render() {\n  return(\n    &lt;RadioGroup&gt;\n      &lt;RadioButton value=\"first\"&gt;First&lt;/RadioButton&gt;\n      &lt;RadioButton value=\"second\"&gt;Second&lt;/RadioButton&gt;\n      &lt;RadioButton value=\"third\"&gt;Third&lt;/RadioButton&gt;\n    &lt;/RadioGroup&gt;\n  )\n}\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u6709\u4e00\u4e2a\u95ee\u9898\u3002<code>input</code> \u6ca1\u6709\u88ab\u5206\u7ec4\uff0c\u5bfc\u81f4\u4e86\u8fd9\u6837\uff1a</p> <p>\u4e3a\u4e86\u628a <code>input</code> \u6807\u7b7e\u5f04\u5230\u540c\u7ec4\uff0c\u5fc5\u987b\u62e5\u6709\u76f8\u540c\u7684<code>name</code> \u5c5e\u6027\u3002\u5f53\u7136\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u7ed9\u6bcf\u4e2a<code>RadioButton</code> \u7684<code>name</code> \u8d4b\u503c</p> <pre><code>&lt;RadioGroup&gt;\n  &lt;RadioButton name=\"g1\" value=\"first\"&gt;First&lt;/RadioButton&gt;\n  &lt;RadioButton name=\"g1\" value=\"second\"&gt;Second&lt;/RadioButton&gt;\n  &lt;RadioButton name=\"g1\" value=\"third\"&gt;Third&lt;/RadioButton&gt;\n&lt;/RadioGroup&gt;\n</code></pre> <p>\u4f46\u662f\u8fd9\u4e2a\u662f\u65e0\u804a\u7684\u5e76\u4e14\u5bb9\u6613\u51fa\u9519\u3002\u6211\u4eec\u53ef\u662f\u62e5\u6709JavaScript\u7684\u6240\u6709\u529f\u80fd\u7684\uff01</p>"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#children_1","title":"\u6539\u53d8children\u7684\u5c5e\u6027","text":"<p>\u5728<code>RadioGroup</code> \u4e2d\u6211\u4eec\u5c06\u4f1a\u6dfb\u52a0\u4e00\u4e2a\u53eb\u505a <code>renderChildren</code> \u7684\u65b9\u6cd5\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u7f16\u8f91children\u7684\u5c5e\u6027</p> <pre><code>class RadioGroup extends React.Component {\n  renderChildren = () =&gt; {\n    // TODO: Change the name prop of all children\n    // to this.props.name\n    return this.props.children\n  }\n  render() {\n    return (\n      &lt;div className=\"group\"&gt;\n        {this.renderChildren()}\n      &lt;/div&gt;\n    )\n  }\n}\n</code></pre> <p>\u8ba9\u6211\u4eec\u5f00\u59cb\u904d\u5386children\u83b7\u5f97\u6bcf\u4e2achild</p> <pre><code>renderChildren() {\n  return React.Children.map(this.props.children, child =&gt; {\n    // child.name = 'g1'\n    // &lt;RadioButton name=\"g1\" value=\"first\"&gt;First&lt;/RadioButton&gt;\n    // \u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u6b63\u786e\uff0c\u9700\u8981 React.cloneElement \u8bbe\u7f6e\u5b50\u7ec4\u4ef6\u7684\u5c5e\u6027\n    // TODO: Change the name prop to this.props.name\n    return child\n  })\n}\n</code></pre> <p>\u6211\u4eec\u5982\u4f55\u7f16\u8f91\u5b83\u4eec\u7684\u5c5e\u6027\u5462\uff1f</p>"},{"location":"react/%E5%AF%B9React%20children%E7%90%86%E8%A7%A3/#_2","title":"\u6c38\u6052\u5730\u514b\u9686\u5143\u7d20","text":"<p>\u8fd9\u662f\u4eca\u5929\u5c55\u793a\u7684\u6700\u540e\u4e00\u4e2a\u8f85\u52a9\u65b9\u6cd5\u3002\u987e\u540d\u601d\u4e49\uff0c<code>React.cloneElement</code> \u4f1a\u514b\u9686\u4e00\u4e2a\u5143\u7d20\u3002\u6211\u4eec\u5c06\u60f3\u8981\u514b\u9686\u7684\u5143\u7d20\u5f53\u4f5c\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u7136\u540e\u5c06\u60f3\u8981\u8bbe\u7f6e\u7684\u5c5e\u6027\u4ee5\u5bf9\u8c61\u7684\u65b9\u5f0f\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002</p> <pre><code>const cloned = React.cloneElement(element, {\n  new: 'yes!'\n})\n</code></pre> <p>\u73b0\u5728\uff0c<code>clone</code> \u5143\u7d20\u6709\u4e86\u8bbe\u7f6e\u4e3a <code>\"yes!\"</code> \u7684\u5c5e\u6027 <code>new</code></p> <p>\u8fd9\u6b63\u662f\u6211\u4eec\u7684 <code>RadioGroup</code> \u6240\u9700\u7684\u3002\u6211\u4eec\u514b\u9686\u6240\u6709\u7684child\u5e76\u4e14\u8bbe\u7f6e<code>name</code> \u5c5e\u6027</p> <pre><code>renderChildren() {\n  return React.Children.map(this.props.children, child =&gt; {\n    return React.cloneElement(child, {\n      name: this.props.name\n    })\n  })\n}\n</code></pre> <p>\u6700\u540e\u4e00\u6b65\u5c31\u662f\u4f20\u9012\u4e00\u4e2a\u552f\u4e00\u7684 <code>name</code> \u7ed9<code>RadioGroup</code></p> <pre><code>&lt;RadioGroup name=\"g1\"&gt;\n  &lt;RadioButton value=\"first\"&gt;First&lt;/RadioButton&gt;\n  &lt;RadioButton value=\"second\"&gt;Second&lt;/RadioButton&gt;\n  &lt;RadioButton value=\"third\"&gt;Third&lt;/RadioButton&gt;\n&lt;/RadioGroup&gt;\n</code></pre> <p>\u6ca1\u6709\u624b\u52a8\u6dfb\u52a0 <code>name</code> \u5c5e\u6027\u7ed9\u6240\u6709\u7684 <code>RadioButton</code> \uff0c\u6211\u4eec\u53ea\u662f\u544a\u8bc9\u4e86 <code>RadioGroup</code> \u6240\u9700\u7684name\u800c\u5df2\u3002</p>"},{"location":"react/%E6%8E%8C%E6%8F%A1%E6%8B%96%E6%8B%BD%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%88%E4%BD%BF%E7%94%A8ReactJS%20hooks%EF%BC%89/","title":"\u638c\u63e1\u62d6\u62fd\u7684\u5b9e\u73b0\uff08\u4f7f\u7528ReactJS hooks\uff09","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 8411  \u9605\u8bfb17\u5206\u949f</p> <p>\u539f\u6587\uff1aMastering Drag &amp; Drop using ReactJS hooks</p> <p>\u6211\u4ecb\u7ecd\u4e86\u901a\u7528\u7684\u5f00\u6e90\u62d6\u62fd\u5e93\uff0c\u4f8b\u5982React-dnd\u548cReact-beautiful-dnd\uff0c\u5e76\u4f7f\u7528React\u7c7b\u7ec4\u4ef6\u7684\u65b9\u5f0f\u6784\u5efa\u4e86\u4e00\u4e2a\u53ef\u62d6\u62fd\u7ec4\u4ef6\u3002\u73b0\u5728\u6211\u8981\u4f7f\u7528React Hooks\u5b9e\u73b0\u62d6\u62fd\uff0c\u5e76\u5236\u4f5c\u4e00\u4e2a\u53ef\u6392\u5e8f\u5217\u8868\u3002</p> <p>\u4f7f\u7528React hook\u5b8c\u6210\u7684\u53ef\u6392\u5e8f\u5217\u8868</p> <p>\u548c\u4ee5\u5f80\u4e00\u6837\uff0c\u8fd9\u91cc\u7ed9\u51fa\u4e86\u5b8c\u6574\u7684\u4ee3\u7801\u548c\u7528\u4f8b\u3002\u8981\u4f7f\u7528\u8fd9\u4e9b\u793a\u4f8b\u4ee3\u7801\uff0c\u9700\u5b89\u88c5styled-components\u548clodash\u3002</p> <p>\u57fa\u672c\u7528\u4f8b\uff1a</p> <pre><code>import React from 'react';\nimport Draggable from './Draggble';\n\nconst App = () =&gt; {\n  return (\n    &lt;div&gt;\n      &lt;Draggable onDrag={console.log} id=\"uniqueId\"&gt;\n        &lt;h2&gt;Drag me&lt;/h2&gt;\n      &lt;/Draggable&gt;\n    &lt;/div&gt;\n  );\n};\n</code></pre> <p>\u53ef\u62d6\u62fd\u7ec4\u4ef6\uff1a</p> <pre><code>import React, {useState, useCallback, useMemo, useEffect} from 'react';\n\nconst POSITION = {x: 0, y: 0};\n\nconst Draggable = ({children, id, onDrag, onDragEnd}) =&gt; {\n  const [state, setState] = useState({\n    isDragging: false,\n    origin: POSITION,\n    translation: POSITION\n  });\n\n  const handleMouseDown = useCallback(({clientX, clientY}) =&gt; {\n    setState(state =&gt; ({\n      ...state,\n      isDragging: true,\n      origin: {x: clientX, y: clientY}\n    }));\n  }, []);\n\n  const handleMouseMove = useCallback(({clientX, clientY}) =&gt; {\n    const translation = {x: clientX - state.origin.x, y: clientY - state.origin.y};\n\n    setState(state =&gt; ({\n      ...state,\n      translation\n    }));\n\n    onDrag({translation, id});\n  }, [state.origin, onDrag, id]);\n\n  const handleMouseUp = useCallback(() =&gt; {\n    setState(state =&gt; ({\n      ...state,\n      isDragging: false\n    }));\n\n    onDragEnd();\n  }, [onDragEnd]);\n\n  useEffect(() =&gt; {\n    if (state.isDragging) {\n      window.addEventListener('mousemove', handleMouseMove);\n      window.addEventListener('mouseup', handleMouseUp);\n    } else {\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('mouseup', handleMouseUp);\n\n      setState(state =&gt; ({...state, translation: {x: 0, y: 0}}));\n    }\n  }, [state.isDragging, handleMouseMove, handleMouseUp]);\n\n  const styles = useMemo(() =&gt; ({\n    cursor: state.isDragging ? '-webkit-grabbing' : '-webkit-grab',\n    transform: `translate(${state.translation.x}px, ${state.translation.y}px)`,\n    transition: state.isDragging ? 'none' : 'transform 500ms',\n    zIndex: state.isDragging ? 2 : 1,\n    position: state.isDragging ? 'absolute' : 'relative'\n  }), [state.isDragging, state.translation]);\n\n  return (\n    &lt;div style={styles} onMouseDown={handleMouseDown}&gt;\n    {children}\n&lt;/div&gt;\n);\n};\n\nexport default Draggable;\n</code></pre> <p>\u53ef\u6392\u5e8f\u5217\u8868\uff1a</p> <pre><code>import React, {useState, useCallback} from 'react';\nimport styled from 'styled-components';\nimport {range, inRange} from 'lodash';\nimport Draggable from './Draggable';\n\nconst MAX = 5;\nconst HEIGHT = 80;\n\nconst App = () =&gt; {\n  const items = range(MAX);\n  const [state, setState] = useState({\n    order: items,\n    dragOrder: items, // items order while dragging\n    draggedIndex: null\n  });\n\n  const handleDrag = useCallback(({translation, id}) =&gt; {\n    const delta = Math.round(translation.y / HEIGHT);\n    const index = state.order.indexOf(id);\n    const dragOrder = state.order.filter(index =&gt; index !== id);\n\n    if (!inRange(index + delta, 0, items.length)) {\n      return;\n    }\n\n    dragOrder.splice(index + delta, 0, id);\n\n    setState(state =&gt; ({\n      ...state,\n      draggedIndex: id,\n      dragOrder\n    }));\n  }, [state.order, items.length]);\n\n  const handleDragEnd = useCallback(() =&gt; {\n    setState(state =&gt; ({\n      ...state,\n      order: state.dragOrder,\n      draggedIndex: null\n    }));\n  }, []);\n\n  return (\n    &lt;Container&gt;\n      {items.map(index =&gt; {\n        const isDragging = state.draggedIndex === index;\n        const top = state.dragOrder.indexOf(index) * (HEIGHT + 10);\n        const draggedTop = state.order.indexOf(index) * (HEIGHT + 10);\n\n        return (\n          &lt;Draggable\n            key={index}\n            id={index}\n            onDrag={handleDrag}\n            onDragEnd={handleDragEnd}\n          &gt;\n            &lt;Rect\n              isDragging={isDragging}\n              top={isDragging ? draggedTop : top}\n            &gt;\n             {index}\n            &lt;/Rect&gt;\n          &lt;/Draggable&gt;\n        );\n      })}\n    &lt;/Container&gt;\n  );\n};\n\nexport default App;\n\nconst Container = styled.div`\n  width: 100vw;\n  min-height: 100vh;\n`;\n\nconst Rect = styled.div.attrs(props =&gt; ({\n  style: {\n    transition: props.isDragging ? 'none' : 'all 500ms'\n  }\n}))`\n  width: 300px;\n  user-select: none;\n  height: ${HEIGHT}px;\n  background: #fff;\n  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: ${({top}) =&gt; 100 + top}px;\n  left: calc(50vw - 150px);\n  font-size: 20px;\n  color: #777;\n`;\n</code></pre>"},{"location":"react/%E6%8E%8C%E6%8F%A1%E6%8B%96%E6%8B%BD%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%88%E4%BD%BF%E7%94%A8ReactJS%20hooks%EF%BC%89/#_1","title":"\u53ef\u62d6\u62fd\u7ec4\u4ef6","text":"<p>mouseDown\u4e8b\u4ef6\u662f\u6211\u4eec\u7ec4\u4ef6\u7684\u5165\u53e3\u70b9\u2014\u2014\u6211\u4eec\u5c06\u9f20\u6807\u4f4d\u7f6e{x, y}\u50a8\u5b58\u5728state.origin\u4e0b\uff0c\u5e76\u4e3amouseMove \u548c mouseUp\u6dfb\u52a0\u4e24\u4e2a\u4e8b\u4ef6\u76d1\u542c\u5668\u3002</p> <p>\u5728\u9f20\u6807\u79fb\u52a8\u65f6\uff0c\u4f7f\u7528\u5f53\u524d\u7684\u9f20\u6807\u4f4d\u7f6e\u8ba1\u7b97\u9f20\u6807\u7684\u79fb\u52a8\u8ddd\u79bb\u3002</p> <pre><code>const translation = {\n    x: clientX - state.origin.x, \n    y: clientY - state.origin.y\n  };\n</code></pre> <p>\u5f53\u7528\u6237\u677e\u5f00\u9f20\u6807\u6309\u952e\uff08mouseUp\uff09\uff0c\u5c06\u4e8b\u4ef6\u76d1\u542c\u5668\u79fb\u9664\uff0c\u5e76\u91cd\u7f6e\u79fb\u52a8\u8ddd\u79bb\u3002</p> <p>\u4f7f\u7528useMemo hook\u7f13\u5b58\u7ec4\u4ef6\u7684\u6837\u5f0f\uff1a</p> <pre><code>const styles = useMemo(() =&gt; ({\n    cursor: state.isDragging ? '-webkit-grabbing' : '-webkit-grab',\n    transform: `translate(${state.translation.x}px, ${state.translation.y}px)`,\n    transition: state.isDragging ? 'none' : 'transform 500ms',\n    zIndex: state.isDragging ? 2 : 1,\n    position: state.isDragging ? 'absolute' : 'relative'\n  }), [state.isDragging, state.translation]);\n</code></pre>"},{"location":"react/%E6%8E%8C%E6%8F%A1%E6%8B%96%E6%8B%BD%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%88%E4%BD%BF%E7%94%A8ReactJS%20hooks%EF%BC%89/#_2","title":"\u521b\u5efa\u53ef\u6392\u5e8f\u5217\u8868","text":"<p>\u6211\u4eec\u6765\u7528\u8be5\u53ef\u62d6\u62fd\u7ec4\u4ef6\u521b\u5efa\u4e00\u4e2a\u53ef\u6392\u5e8f\u5217\u8868\u3002\u60f3\u6cd5\u662f\u4f9d\u636e\u4e00\u4e2a\u6570\u7ec4\u5bf9\u6240\u6709\u5217\u8868\u9879\u8fdb\u884c\u5b9a\u4f4d\uff0c\u56e0\u6b64\u5728\u6570\u7ec4\u4e2d\u50a8\u5b58\u7684\u662f\u5217\u8868\u9879\u7684id\u3002\u4f8b\u5982</p> <pre><code>const order = [1, 0, 2, 3, 4];\n</code></pre> <p>\u8868\u793a\u7b2c\u4e00\u4e2a\u5217\u8868\u9879\uff08id\u4e3a0\uff09\u5904\u4e8e\u7b2c\u4e8c\u4f4d\u3002\u7b2c\u4e8c\u4e2a\u5217\u8868\u9879\uff08id\u4e3a1\uff09\u4f4d\u4e8e\u7b2c\u4e00\u4f4d\uff0c\u7b49\u7b49\u3002</p> <p>\u6bcf\u6b21\u62d6\u62fd\u4e8b\u4ef6\u89e6\u53d1\u65f6\uff0c\u6211\u4eec\u83b7\u53d6\u5143\u7d20\u7684\u79fb\u52a8\u8ddd\u79bb{x, y}\u548cid\u3002\u6839\u636eY\u8f74\u7684\u4f4d\u79fb\u91cd\u6392\u6570\u7ec4\u3002</p> <p>\u4e3a\u4e86\u8ba9\u88ab\u62d6\u62fd\u5217\u8868\u9879\u5728\u62d6\u62fd\u8fc7\u7a0b\u65f6\u4ecd\u4ee5\u539f\u4f4d\u7f6e\u4e3a\u57fa\u7840\u8ba1\u7b97\u4f4d\u79fb\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u52a8\u753b\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u4e24\u4e2a\u6570\u7ec4</p> <p>order\u2014\u88ab\u62d6\u62fd\u5217\u8868\u9879\u5728\u62d6\u62fd\u4e2d\u4f7f\u7528\u5b83\u5b9a\u4f4d\uff0c\u5728\u9759\u6b62\u65f6\u6240\u6709\u5217\u8868\u9879\u4f7f\u7528\u5b83\u5b9a\u4f4d\u3002</p> <p>dragOrder\u2014\u5728\u62d6\u62fd\u8fc7\u7a0b\u4e2d\uff0c\u9664\u4e86\u88ab\u62d6\u62fd\u5217\u8868\u9879\uff0c\u5176\u4f59\u5217\u8868\u9879\u4f7f\u7528\u5b83\u5b9a\u4f4d\u3002</p> <pre><code>const handleDrag = useCallback(({translation, id}) =&gt; {\n  const delta = Math.round(translation.y / HEIGHT);\n  const index = state.order.indexOf(id);\n  const dragOrder = state.order.filter(index =&gt; index !== id);\n\n  if (!inRange(index + delta, 0, items.length)) {\n    return;\n  }\n\n  dragOrder.splice(index + delta, 0, id);\n\n  setState(state =&gt; ({\n    ...state,\n    draggedIndex: id,\n    dragOrder\n  }));\n}, [state.order, items.length]);\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\u5728onDrag\u4e8b\u4ef6\u89e6\u53d1\u65f6\uff0c\u6211\u4eec\u83b7\u53d6\u4f4d\u79fb\u548c\u5217\u8868\u9879\u7684id\uff0c\u8fd9\u6837\u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97\u4e0b\u4e00\u6b65\u7684dragOrder\u6570\u7ec4\uff0c\u5e76\u68c0\u67e5\u7ec4\u4ef6\u662f\u5426\u88ab\u653e\u5728\u5408\u6cd5\u7684\u4f4d\u7f6e\uff0c\u5373\u57280\u548c\u5217\u8868\u9879\u603b\u6570\u4e4b\u95f4\u3002</p> <p>\u6700\u540e\uff0c\u5728dragEnd\u4e8b\u4ef6\u89e6\u53d1\u65f6\uff0c\u66f4\u65b0order\u6570\u7ec4</p> <pre><code>  const handleDragEnd = useCallback(() =&gt; {\n    setState(state =&gt; ({\n      ...state,\n      order: state.dragOrder,\n      draggedIndex: null\n    }));\n  }, []);\n</code></pre> <p>\u73b0\u5728\uff0c\u6211\u4eec\u5df2\u7ecf\u8bf4\u660e\u4e86\u5982\u4f55\u5b9e\u73b0\u53ef\u62d6\u653e\u5217\u8868\uff0c\u8fd8\u53ef\u4ee5\u8fdb\u4e00\u6b65\u6539\u5584\u7528\u6237\u4f53\u9a8c\u548c\u6027\u80fd</p> <p>\u8981\u751f\u6210\u66f4\u5e73\u6ed1\u7684\u52a8\u753b\uff08\u8fd9\u6837\u5728\u677e\u5f00\u9f20\u6807\u65f6zIndex\u4e0d\u4f1a\u6539\u53d8\uff09\uff0c\u9700\u8981\u5728\u91cd\u7f6etranslation\u540e\uff0c\u7b49\u5f85X ms\u624d\u5c06isDragging\u6807\u5fd7\u4f4d\u6539\u4e3afalse\u3002</p> <p>\u5728\u672c\u4f8b\u4e2d\u6211\u4eec\u5904\u7406\u7684\u5217\u8868\u9879\u9ad8\u5ea6\u662f\u56fa\u5b9a\u7684\uff0c\u8981\u4f7f\u7528\u52a8\u6001\u7684\u9ad8\u5ea6\uff0c\u53ef\u4ee5\u5c06\u9ad8\u5ea6\u50a8\u5b58\u5728\u4e00\u4e2a\u5f15\u7528map\u4e2d\uff0c\u5728\u8ba1\u7b97\u5b9a\u4f4d\u65f6\u4f7f\u7528\u3002</p> <p>\u8981\u6539\u5584\u6027\u80fd\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9handleDrag\u51fd\u6570\u8fdb\u884c\u8282\u6d41\uff0c\u4f8b\u5982\u6bcf200ms\u8ba1\u7b97\u4e00\u6b21\u65b0\u7684dragOrder\u3002</p> <p>\u8fd9\u5c31\u662f\u5982\u4f55\u7528hook\u5b9e\u73b0\u62d6\u62fd\u7684\u7b80\u8981\u89e3\u91ca\u3002\u5e0c\u671b\u5bf9\u4f60\u6709\u5e2e\u52a9\u3002Cheers! Shay</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/","title":"React+Hook+TS \u6700\u4f73\u5b9e\u8df5-\u4eff Jira\u9879\u76ee","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 83932  \u9605\u8bfb168\u5206\u949f</p> <p>2023-03</p> <p>\u5b66\u4e60\u5185\u5bb9\u6765\u6e90\uff1aReact + React Hook + TS \u6700\u4f73\u5b9e\u8df5-\u6155\u8bfe\u7f51</p> <p>\u535a\u5ba2\u539f\u59cb\u94fe\u63a5\uff1ahttps://iseeu.blog.csdn.net/article/details/132747686</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#_1","title":"\u8bf4\u660e","text":"<p>\u8fd9\u4e2a\u662f\u6211\u770b\u5230\u7684\u4e00\u4e2a\u7ec3\u624b\u9879\u76ee\u7684\u7b14\u8bb0\u3002\u6ca1\u6709\u63a5\u89e6\u8fc7\u201cJira\u201d\u8fd9\u4e2a\u4ea7\u54c1\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#_2","title":"\u76ee\u5f55","text":"<p>\u4e00\u3001\u9879\u76ee\u8d77\u822a\uff1a\u9879\u76ee\u521d\u59cb\u5316\u4e0e\u914d\u7f6e</p> <p>\u4e8c\u3001React \u4e0e Hook \u5e94\u7528\uff1a\u5b9e\u73b0\u9879\u76ee\u5217\u8868</p> <p>\u4e09\u3001TS \u5e94\u7528\uff1aJS\u795e\u52a9\u653b - \u5f3a\u7c7b\u578b</p> <p>\u56db\u3001JWT\u3001\u7528\u6237\u8ba4\u8bc1\u4e0e\u5f02\u6b65\u8bf7\u6c42</p> <p>\u4e94\u3001CSS \u5176\u5b9e\u5f88\u7b80\u5355 - \u7528 CSS-in-JS \u6dfb\u52a0\u6837\u5f0f</p> <p>\u516d\u3001\u7528\u6237\u4f53\u9a8c\u4f18\u5316 - \u52a0\u8f7d\u4e2d\u548c\u9519\u8bef\u72b6\u6001\u5904\u7406</p> <p>\u4e03\u3001Hook\uff0c\u8def\u7531\uff0c\u4e0e URL \u72b6\u6001\u7ba1\u7406</p> <p>\u516b\u3001\u7528\u6237\u9009\u62e9\u5668\u4e0e\u9879\u76ee\u7f16\u8f91\u529f\u80fd</p> <p>\u4e5d\u3001\u6df1\u5165React \u72b6\u6001\u7ba1\u7406\u4e0eRedux\u673a\u5236</p> <p>\u5341\u3001\u7528 react-query \u83b7\u53d6\u6570\u636e\uff0c\u7ba1\u7406\u7f13\u5b58</p> <p>\u5341\u4e00\u3001\u770b\u677f\u9875\u9762\u53ca\u4efb\u52a1\u7ec4\u9875\u9762\u5f00\u53d1</p> <p>\u5341\u4e8c\u3001\u81ea\u52a8\u5316\u6d4b\u8bd5</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#_3","title":"\u7b2c\u4e09\u65b9\u4f9d\u8d56\u7248\u672c","text":"<p>\u76f8\u5bf9\u539f\u6559\u7a0b\uff0c\u5728\u5b66\u4e60\u5f00\u59cb\u65f6\u91c7\u7528\u7684\u662f\u5f53\u524d\u6700\u65b0\u7248\u672c\uff1a</p> <pre><code>react &amp; react-dom   ^18.2.0\nreact-router &amp; react-router-dom ^6.11.2\nantd    ^4.24.8\n@commitlint/cli &amp; @commitlint/config-conventional   ^17.4.4\neslint-config-prettier  ^8.6.0\nhusky   ^8.0.3\nlint-staged ^13.1.2\nprettier    2.8.4\njson-server 0.17.2\ncraco-less  ^2.0.0\n@craco/craco    ^7.1.0\nqs  ^6.11.0\ndayjs   ^1.11.7\nreact-helmet    ^6.1.0\n@types/react-helmet ^6.1.6\nreact-query ^6.1.0\n@welldone-software/why-did-you-render   ^7.0.1\n@emotion/react &amp; @emotion/styled    ^11.10.6\n</code></pre> <p>\u5177\u4f53\u914d\u7f6e\u3001\u64cd\u4f5c\u548c\u5185\u5bb9\u4f1a\u6709\u5dee\u5f02\uff0c\u201c\u5751\u201d\u4e5f\u4f1a\u6709\u6240\u4e0d\u540c\u3002\u3002\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#_4","title":"\u4e00\u3001\u9879\u76ee\u521d\u59cb\u5316\u4e0e\u914d\u7f6e","text":"<p>1.\u9879\u76ee\u521d\u59cb\u5316 \u2014\u2014 create-react-app 2.\u683c\u5f0f\u5316 \u2014\u2014 Prettier 3.\u63d0\u4ea4\u89c4\u8303 \u2014\u2014 commitlint 4.Mock \u2014\u2014 json-server</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#1-cra","title":"1.\u9879\u76ee\u521d\u59cb\u5316 \u2014\u2014 cra","text":"<pre><code>npx create-react-app jira --template typescript\n</code></pre> <p>baseUrl \u914d\u7f6e <pre><code>{\n  \"compilerOptions\": {\n    \"baseUrl\": \"./src\",\n    ...\n  }\n  ...\n}\n</code></pre></p> <p>\u91cd\u65b0\u914d\u7f6e\u540e\uff0c\u82e5\u662f\u9879\u76ee\u5df2\u542f\u52a8\uff0c\u5219\u9700\u8981\u91cd\u542f\u624d\u80fd\u751f\u6548</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#2-prettier","title":"2.\u683c\u5f0f\u5316 \u2014\u2014 Prettier","text":"<p>\u8fd9\u91cc\u6ca1\u6709\u4f7f\u7528 react \u63d0\u4f9b\u7684\u9ed8\u8ba4\u7684 eslint\uff0c\u800c\u662f\u4f7f\u7528 prettier \u4f1a\u8986\u76d6\u6389\u51b2\u7a81\u7684\u539f\u6709 eslint \u89c4\u5219\u3002\u5177\u4f53\u64cd\u4f5c\u5982\u4e0b\uff1a</p> <p>\u4e3a\u786e\u4fdd\u6240\u6709\u9879\u76ee\u53c2\u4e0e\u4eba\u5458\u7edf\u4e00\u683c\u5f0f\u5316\u4ee3\u7801\uff0c\u9879\u76ee\u4e2d\u5f15\u5165 Prettier \u4f9d\u8d56</p> <pre><code>npm install --save-dev --save-exact prettier\n</code></pre> <p>Prettier \u4e2d\u6587\u7f51 \u00b7 Prettier \u662f\u4e00\u4e2a\u201c\u6709\u6001\u5ea6\u201d\u7684\u4ee3\u7801\u683c\u5f0f\u5316\u5de5\u5177\u2014\u2014https://www.prettier.cn/</p> <p>\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a<code>.prettierrc.json</code></p> <pre><code>{}\n</code></pre> <p>\u521b\u5efa\u683c\u5f0f\u5316\u5ffd\u7565\u6587\u4ef6\uff1a<code>.prettierignore</code></p> <pre><code># Ignore artifacts:\\nbuild\\ncoverage\n</code></pre> <p>prettierignore \u76f4\u63a5\u8f93\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code># Ignore artifacts:\nbuild\ncoverage\n</code></pre> <p>\u4e3a\u4e86\u4f7f\u683c\u5f0f\u5316\u64cd\u4f5c\u5728\u6bcf\u6b21\u63d0\u4ea4\u4ee3\u7801\u65f6\uff08pre-commit\uff09\u81ea\u52a8\u6267\u884c\uff0c\u9700\u8981\u5b89\u88c5\u4f9d\u8d56\uff1ahusky &amp; lint-staged</p> <pre><code>npx mrm@2 lint-staged\n</code></pre> <p>\u6267\u884c\u8fd9\u884c\u547d\u4ee4\u4f1a\u540c\u65f6\u5b89\u88c5 husky \u548c lint-stage\uff0c\u5e76\u81ea\u52a8\u914d\u7f6e <code>package.json: \"prepare\": \"husky install\"</code> \u751f\u6210 .husky/pre-commit \u548c .husky/_/husky.sh \u6587\u4ef6\uff0c\u514d\u9664\u4e86\u624b\u52a8\u914d\u7f6e</p> <p>Pre-commit Hook \u00b7 Prettier \u4e2d\u6587\u7f51\u2014\u2014https://www.prettier.cn/docs/precommit.html</p> <p>\u4e3a\u907f\u514d prettier \u4e0e\u9879\u76ee\u539f\u6709 eslint \u7684\u51b2\u7a81\uff0c\u8fd8\u9700\u8981\u5b89\u88c5\u4f9d\u8d56\uff1aeslint-config-prettier</p> <pre><code>npm install --save-dev eslint-config-prettier\n</code></pre> <p>\u5728 package.json \u7684 eslint \u914d\u7f6e\u5c3e\u90e8\u6dfb\u52a0 \"prettier\" (\u82e5\u6709 eslintrc \u5355\u72ec\u914d\u7f6e\u6587\u4ef6\uff0c\u540c)\uff1a</p> <pre><code>  ...\n  \"eslintConfig\": {\n    \"extends\": [\n      \"react-app\",\n      \"react-app/jest\",\n      \"prettier\"\n    ]\n  },\n  ...\n</code></pre> <p>prettier \u4f1a\u8986\u76d6\u6389\u51b2\u7a81\u7684\u539f\u6709 eslint \u89c4\u5219</p> <ul> <li>Prettier \u548c ESLint \u51b2\u7a81\u89e3\u51b3\u65b9\u6848 eslint-config-prettier eslint-plugin-prettier - \u5f6d\u6210\u521a - \u535a\u5ba2\u56ed</li> </ul> <p>\u6b65\u9aa4\u5b8c\u6210\u540e\uff0c\u5c1d\u8bd5\u6539\u52a8\u4e00\u4e9b\u4ee3\u7801\uff08\u6bd4\u5982\u968f\u673a\u5220\u53bbtsx\u6587\u4ef6\u7684\u51e0\u4e2a\u6362\u884c\uff09\uff0c\u8fdb\u884c\u4e00\u6b21\u4ee3\u7801\u63d0\u4ea4\uff0c\u63d0\u4ea4\u4fe1\u606f\u968f\u610f\u5c1d\u8bd5\uff0c\u67e5\u770b\u63d0\u4ea4\u540e\u4ee3\u7801\u662f\u5426\u88ab\u683c\u5f0f\u5316\u8fd8\u539f\u4e4b\u524d\u6b63\u5e38\u683c\u5f0f</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#3-commitlint","title":"3.\u63d0\u4ea4\u89c4\u8303 \u2014\u2014 commitlint","text":"<p>\u63a5\u4e0b\u6765\u89c4\u8303 commit message:</p> <pre><code>npm install --save-dev @commitlint/config-conventional @commitlint/cli\n</code></pre> <p>\u751f\u6210 commitlint.config.js\uff0c\u5e76\u914d\u7f6e\u5185\u5bb9:</p> <pre><code>module.exports = { \n  extends: [\n    '@commitlint/config-conventional'\n  ]\n};\n</code></pre> <p>\u6fc0\u6d3b husky</p> <pre><code>npx husky install\n</code></pre> <p>\u5728 husky \u4e2d\u6dfb\u52a0 hook \u2014\u2014 commit-msg</p> <pre><code># bash\nnpx husky add .husky/commit-msg  'npx --no -- commitlint --edit ${1}'\n</code></pre> <p>windows \u7684 cmd \u6216 powershell \u4e2d\u4f1a\u62a5\u9519\uff0c\u5177\u4f53\u53ef\u53c2\u8003\uff1a\u3010\u5df2\u89e3\u51b3\u3011npx husky add \u6267\u884c\u5931\u8d25</p> <p>\u7ecf\u8fc7\u8fd9\u4e00\u6b65\u540e\uff0c\u4ee3\u7801\u63d0\u4ea4\u5982\u679c\u4e0d\u89c4\u8303\u5c31\u4f1a\u63d0\u4ea4\u5931\u8d25\u5566\uff0c\u7ed3\u679c\u65e5\u5fd7\u5982\u4e0b\uff1a</p> <pre><code>&gt; git -c user.useConfigOnly=true commit --quiet --allow-empty-message --file -\n[34m\u2192[39m No staged files match any configured task.\n\u29d7   input: \u6211\u6390\u6307\u4e00\u7b97\uff0c\u8fd9\u6b21\u63d0\u4ea4\u4f1a\u62a5\u9519\n\u2716   subject may not be empty [subject-empty]\n\u2716   type may not be empty [type-empty]\n\n\u2716   found 2 problems, 0 warnings\n\u24d8   Get help: https://github.com/conventional-changelog/commitlint/#what-is-commitlint\n\nhusky - commit-msg hook exited with code 1 (error)\n</code></pre> <p>\u5177\u4f53\u63d0\u4ea4\u89c4\u8303\u53ef\u53c2\u8003\u6587\u7ae0\uff1a</p> <p>\u3010\u7b14\u8bb0\u3011\u9879\u76ee\u4f18\u5316\u4ee3\u7801\u63d0\u4ea4\u89c4\u8303 \u2014\u2014 commitlint+husky</p> <ul> <li> <p>commitlint - Lint commit messages</p> </li> <li> <p>conventional-changelog/commitlint: \ud83d\udcd3 Lint commit messagesdetails/129241273)</p> </li> </ul>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#4mock-json-server","title":"4.Mock \u2014\u2014 json-server","text":"<p>\u4e00\u822c\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u524d\u540e\u7aef\u662f\u5e76\u884c\u7684\uff0c\u8fd9\u5c31\u610f\u5473\u7740\u524d\u7aef\u5f00\u53d1\u65f6\u662f\u6ca1\u6709\u63a5\u53e3\u8c03\u7528\u7684\uff0c\u8fd9\u65f6\u5c31\u6d89\u53ca\u5230\u4e86 Mock \u7684\u95ee\u9898\uff0c\u4e0d\u540c\u65b9\u6848\u5bf9\u6bd4\u53ef\u53c2\u8003\uff1a</p> <p>\u3010\u7b14\u8bb0\u3011\u4e0d\u540c Mock \u65b9\u6848\u7684\u5bf9\u6bd4\u53ca\u9009\u62e9</p> <p>\u8fd9\u91cc\u9009\u7528 json-server</p> <pre><code>npm i -g json-server\n</code></pre> <p>\u521b\u5efa\u6570\u636e\u6e90\u6587\u4ef6</p> <pre><code>mkdir __json_server_mock__\ncd ./__json_server_mock__\n\n# bash\ntouch db.json\n</code></pre> <p>\u5728 package.json \u4e2d\u65b0\u589e scripts \u914d\u7f6e\uff1a</p> <pre><code>  \"scripts\": {\n    \"json-server\": \"json-server __json_server_mock__/db.json -w -p 3001\"\n  },\n</code></pre> <p>\u9879\u76ee\u542f\u52a8\u9ed8\u8ba4\u5728 3000 \u7aef\u53e3\uff0c\u56e0\u6b64\u628a json-server \u7aef\u53e3\u6539\u4e3a\u5176\u4ed6: 3001</p> <p>\u547d\u4ee4\u884c\u4e2d\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8 json-server\uff1a</p> <pre><code>npm run json-server\n</code></pre> <p>\u63a5\u4e0b\u6765\u53ef\u4ee5\u81ea\u884c\u5c1d\u8bd5 json-server \u7684\u5999\u7528\uff0c\u53ef\u53c2\u8003\uff1a\u3010\u7b14\u8bb0\u3011json-server\u5b9e\u6218</p> <p>\u9879\u76ee\u521d\u59cb\u5316\u548c\u914d\u7f6e\u5b8c\u6210\uff0c\u53ef\u4ee5\u8fdb\u884c\u540e\u7eed\u6b63\u5f0f\u5f00\u53d1\u4e86\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#react-hook","title":"\u4e8c\u3001React-hook \u641c\u7d22\u5c55\u793a\u7ec4\u4ef6","text":"<p>\u8fd9\u91cc\u5b9e\u73b0\u4e00\u4e2a\u641c\u7d22\u5e76\u5c55\u793a\u7ed3\u679c\u5217\u8868\u7684\u7ec4\u4ef6</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#1","title":"1.\u65b0\u5efa\u6587\u4ef6","text":"<ul> <li>\u9879\u76ee\u5217\u8868\u7ec4\u4ef6\uff08\u5165\u53e3\u7ec4\u4ef6\uff09\uff1asrc\\screens\\ProjectList\\index.jsx</li> </ul> <pre><code>import { SearchPanel } from \"./components/SearchPanel\"\nimport { List } from \"./components/List\"\n\nexport const ProjectListScreen = () =&gt; {\n  return (\n    &lt;div&gt;\n      &lt;SearchPanel/&gt;\n      &lt;List/&gt;\n    &lt;/div&gt;\n  )\n}\n</code></pre> <ul> <li>\u5217\u8868\u7ec4\u4ef6\uff1asrc\\screens\\ProjectList\\components\\List.jsx</li> </ul> <pre><code>export const List = () =&gt; {\n  return (\n    &lt;table&gt;&lt;/table&gt;\n  )\n}\n</code></pre> <ul> <li>\u641c\u7d22\u7ec4\u4ef6\uff1asrc\\screens\\ProjectList\\components\\SearchPanel.jsx</li> </ul> <pre><code>import { useEffect, useState } from \"react\"\n\nexport const SearchPanel = () =&gt; {\n\n  // \u641c\u7d22\u53c2\u6570\uff08\u540d\u79f0\uff0c\u7528\u6237ID\uff09\n  const [param, setParam] = useState({\n    name: '',\n    personId: ''\n  })\n\n  // \u7528\u6237\u5217\u8868\n  const [users, setUsers] = useState([])\n\n  // \u641c\u7d22\u5217\u8868\n  const [list, setList] = useState([])\n\n  useEffect(() =&gt; {\n    // \u4ece\u540e\u7aef\u83b7\u53d6\u641c\u7d22\u7684\u7ed3\u679c\uff0c\u5e76\u5199\u5165 list \u72b6\u6001\u4e2d\n    fetch('').then(async res =&gt; {\n      if (res.ok) {\n        setList(await res.json())\n      }\n    })\n  }, [param])\n\n  return (\n    &lt;form&gt;\n      &lt;div&gt;\n        {/* setParam(Object.assign({}, param, { name: evt.target.value })) */}\n        &lt;input type=\"text\" value={param.name} onChange={evt =&gt; setParam({\n          ...param,\n          name: evt.target.value\n        })}/&gt;\n        &lt;select value={param.personId} onChange={evt =&gt; setParam({\n          ...param,\n          personId: evt.target.value\n        })}&gt;\n          &lt;option value=\"\"&gt;\u8d1f\u8d23\u4eba&lt;/option&gt;\n          {users.map(user =&gt; (\n            &lt;option key={user.id} value={user.id}&gt;{user.name}&lt;/option&gt;\n          ))}\n        &lt;/select&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n  )\n}\n</code></pre> <p>vscode \u5728 JS \u6587\u4ef6\u4e2d\u4e0d\u4f1a\u81ea\u52a8\u8865\u5168 HTML\u6807\u7b7e\u53ef\u53c2\u8003\uff1a\u3010\u5c0f\u6280\u5de7\u3011vscode \u5728 JS \u6587\u4ef6\u4e2d\u8865\u5168 HTML\u6807\u7b7e</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#2","title":"2.\u72b6\u6001\u63d0\u5347","text":"<p>\u7531\u4e8e <code>list</code> \u548c <code>param</code> \u6d89\u53ca\u4e24\u4e2a\u4e0d\u540c\u7ec4\u4ef6\uff0c\u56e0\u6b64\u9700\u8981\u5c06\u8fd9\u4e24\u4e2a <code>state</code> \u63d0\u5347\u5230\u4ed6\u4eec\u5171\u540c\u7684\u7236\u7ec4\u4ef6\u4e2d\uff0c\u5b50\u7ec4\u4ef6\u901a\u8fc7\u89e3\u6784 <code>props</code> \u4f7f\u7528:</p> <ul> <li><code>list</code> \u7531 <code>List</code> \u6d88\u8d39\uff1b</li> <li><code>list</code> \u6839\u636e <code>param</code> \u83b7\u53d6\uff1b</li> <li><code>param</code> \u7531 <code>SearchPanel</code> \u6d88\u8d39\uff1b</li> </ul> <p>\u6309\u7167\u6570\u636e\u5e93\u8303\u5f0f\u601d\u7ef4\uff0cproject\u3001users \u5404\u81ea\u5355\u72ec\u4e00\u5f20\u8868\u3001\u800c list \u53ea\u662f\u5173\u8054\u67e5\u8be2\u7684\u4e2d\u95f4\u4ea7\u7269\uff0chard \u6a21\u5f0f\u4e2d\u901a\u8fc7 project \u53ea\u80fd\u5f97\u5230 users \u7684\u4e3b\u952e\uff0c\u5373 personId\uff0c\u9700\u8981\u6839\u636e personId \u518d\u53bb\u83b7\u53d6 personName\uff0c\u56e0\u6b64 users \u4e5f\u9700\u8981\u505a\u72b6\u6001\u63d0\u5347\u3002</p> <p>\u4e3a\u4e86 <code>DRY</code> \u539f\u5219\uff0c\u5c06\u63a5\u53e3\u8c03\u7528URL\u4e2d\u7684 <code>http://host:port</code> \u63d0\u53d6\u5230\u9879\u76ee\u5168\u5c40\u73af\u5883\u53d8\u91cf \u4e2d\uff1a</p> <p><code>.env</code></p> <pre><code>REACT_APP_API_URL=http://online.com\n</code></pre> <p><code>.env.development</code></p> <pre><code>REACT_APP_API_URL=http://localhost:3001\n</code></pre> <p><code>webpack</code> \u73af\u5883\u53d8\u91cf\u8bc6\u522b\u89c4\u5219\u7684\u7406\u89e3\u2014\u2014\u6839\u636e\u4e0d\u540c webpack \u7248\u672c\u548c\u914d\u7f6e\u51b3\u5b9a\u3002</p> <ul> <li>\u6267\u884c <code>npm run start</code> \u65f6\uff0c<code>webpack</code> \u8bfb\u53d6 <code>.env.development</code> \u4e2d\u7684\u73af\u5883\u53d8\u91cf\uff1b</li> <li>\u6267\u884c <code>npm run build</code> \u65f6\uff0c<code>webpack</code> \u8bfb\u53d6 <code>.env</code> \u4e2d\u7684\u73af\u5883\u53d8\u91cf\uff1b</li> </ul>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#3","title":"3.\u5de5\u5177\u51fd\u6570","text":"<p>\u5e38\u7528\u5de5\u5177\u65b9\u6cd5\u7edf\u4e00\u653e\u5230 <code>utils/index.js</code> \u4e2d</p> <ul> <li>\u7531\u4e8e\u5728fetch\u4f20\u53c2\u8fc7\u7a0b\u4e2d\uff0c\u591a\u4e2a\u53ef\u4f20\u53c2\u6570\u5355\u53ea\u4f20\u4e00\u4e2a\uff0c\u90a3\u4e48\u7a7a\u53c2\u9700\u8981\u8fc7\u6ee4(\u8fc7\u6ee4\u8fc7\u7a0b\u4e2d\u8003\u8651\u5230 <code>0</code> \u662f\u6709\u6548\u53c2\u6570\uff0c\u56e0\u6b64\u7279\u6b8a\u5904\u7406)\uff1a</li> </ul> <pre><code>// \u5224\u65ad\u53d8\u91cf\u662f\u5426\u662f false\nexport const isFalsy = val =&gt; {\n  return val === 0 ? false : !val;\n}\n\n// \u5220\u9664\u67d0\u4e2a\u5bf9\u8c61\u4e2d\u7684\u7a7a\u5c5e\u6027\nexport const cleanObject = obj =&gt; {\n  // \u5728\u51fd\u6570\u91cc\uff0c\u4e0d\u53ef\u7528\u76f4\u63a5\u8d4b\u503c\u7684\u65b9\u5f0f\u6539\u53d8\u4f20\u5165\u7684\u5f15\u7528\u7c7b\u578b\u53d8\u91cf\n  const res = { ...obj }\n  Object.keys(res).forEach(key =&gt; {\n    const val = res[key]\n    if (isFalsy(val)) {\n      delete res[key]\n    }\n  })\n  return res\n}\n</code></pre> <ul> <li>Falsy - MDN Web \u6587\u6863\u672f\u8bed\u8868\uff1aWeb \u76f8\u5173\u672f\u8bed\u7684\u5b9a\u4e49 | MDN</li> </ul> <ul> <li>\u5728url\u540e\u62fc\u53c2\u65f6\uff0c\u53c2\u6570\u8f83\u591a\u4f1a\u663e\u5f97\u7e41\u7410\uff0c\u56e0\u6b64\u5f15\u5165 <code>qs</code> qs - npm</li> </ul> <p>\u7ecf\u8fc7\u524d\u9762\u4e24\u6b65\uff0c\u72b6\u6001\u63d0\u5347\u5e76\u4f7f\u7528 <code>cleanObject</code> \u548c <code>qs</code> \u5904\u7406\u53c2\u6570\u540e\uff0c\u6e90\u7801\u5982\u4e0b\uff1a</p> <pre><code>import { SearchPanel } from \"./components/SearchPanel\";\nimport { List } from \"./components/List\";\nimport { useEffect, useState } from \"react\";\nimport { cleanObject } from \"utils\";\nimport * as qs from 'qs'\n\nconst apiUrl = process.env.REACT_APP_API_URL;\n\nexport const ProjectListScreen = () =&gt; {\n\n  const [param, setParam] = useState({ name: \"\", personId: \"\", });\n  const [users, setUsers] = useState([]);\n  const [list, setList] = useState([]);\n\n  // \u901a\u8fc7\u8f93\u5165\u7684\u540d\u79f0\u548c\u7528\u6237\uff0c\u67e5\u8be2\u5230\u5217\u8868\u5185\u5bb9\uff08\u5b9e\u65f6\u67e5\u8be2\uff09\n  useEffect(() =&gt; {\n    fetch(\n      // name=${param.name}&amp;personId=${param.personId}\n      `${apiUrl}/projects?${qs.stringify(cleanObject(param))}`\n    ).then(async (res) =&gt; {\n      if (res.ok) {\n        setList(await res.json());\n      }\n    });\n  }, [param]);\n\n  // \u67e5\u8be2\u7528\u6237\u5217\u8868\n  useEffect(() =&gt; {\n    fetch(`${apiUrl}/users`).then(async (res) =&gt; {\n      if (res.ok) {\n        setUsers(await res.json());\n      }\n    });\n  }, []);\n\n  return (\n    &lt;div&gt;\n      &lt;SearchPanel users={users} param={param} setParam={setParam} /&gt;\n      &lt;List users={users} list={list} /&gt;\n    &lt;/div&gt;\n  );\n};\n</code></pre> <ul> <li><code>src\\screens\\ProjectList\\components\\List.jsx</code></li> </ul> <pre><code>export const List = ({ users, list }) =&gt; {\n  return (\n    &lt;table&gt;\n      &lt;thead&gt;\n        &lt;tr&gt;\n          &lt;th&gt;\u540d\u79f0&lt;/th&gt;\n          &lt;th&gt;\u8d1f\u8d23\u4eba&lt;/th&gt;\n        &lt;/tr&gt;\n      &lt;/thead&gt;\n      &lt;tbody&gt;\n        {list.map((project) =&gt; (\n          &lt;tr key={project.id}&gt;\n            &lt;td&gt;{project.name}&lt;/td&gt;\n            &lt;td&gt;\n              {users.find((user) =&gt; user.id === project.personId)?.name || \"\u672a\u77e5\"}\n            &lt;/td&gt;\n          &lt;/tr&gt;\n        ))}\n      &lt;/tbody&gt;\n    &lt;/table&gt;\n  );\n};\n</code></pre> <ul> <li><code>src\\screens\\ProjectList\\components\\SearchPanel.jsx</code></li> </ul> <pre><code>export const SearchPanel = ({ users, param, setParam }) =&gt; {\n  return (\n    &lt;form&gt;\n      &lt;div&gt;\n        &lt;input\n          type=\"text\"\n          value={param.name}\n          onChange={(evt) =&gt;\n            setParam({\n              ...param,\n              name: evt.target.value,\n            })\n          }\n        /&gt;\n        &lt;select\n          value={param.personId}\n          onChange={(evt) =&gt;\n            setParam({\n              ...param,\n              personId: evt.target.value,\n            })\n          }\n        &gt;\n          &lt;option value=\"\"&gt;\u8d1f\u8d23\u4eba&lt;/option&gt;\n          {users.map((user) =&gt; (\n            &lt;option key={user.id} value={user.id}&gt;\n              {user.name}\n            &lt;/option&gt;\n          ))}\n        &lt;/select&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n  );\n};\n</code></pre> <ul> <li><code>src\\App.tsx</code></li> </ul> <pre><code>import { ProjectListScreen } from \"screens/ProjectList\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    &lt;div className=\"App\"&gt;\n      &lt;ProjectListScreen /&gt;\n    &lt;/div&gt;\n  );\n}\n\nexport default App;\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#4-hook","title":"4.\u81ea\u5b9a\u4e49 Hook","text":"<p>Custom Hook \u53ef\u662f\u4ee3\u7801\u590d\u7528\u5229\u5668</p> <ul> <li>useMount\uff1a\u751f\u547d\u5468\u671f\u6a21\u62df \u2014\u2014 componentDidMount</li> </ul> <pre><code>export const useMount = cb =&gt; {\n  useEffect(() =&gt; cb(), [])\n}\n</code></pre> <p>\u6b63\u5e38\u60c5\u51b5\u4e0b useEffect \u53ea\u6267\u884c\u4e00\u6b21\uff0c\u4f46\u662f react@v18 \u4e25\u683c\u6a21\u5f0f\u4e0b useEffect \u9ed8\u8ba4\u6267\u884c\u4e24\u904d\uff0c\u5177\u4f53\u8be6\u89c1\uff1a\u3010\u5df2\u89e3\u51b3\u3011react@v18 \u4e25\u683c\u6a21\u5f0f\u4e0b useEffect \u9ed8\u8ba4\u6267\u884c\u4e24\u904d</p> <ul> <li>useDebounce\uff1a\u9632\u6296</li> </ul> <pre><code>/**\n * @param { \u503c } val \n * @param { \u5ef6\u65f6\uff1a\u9ed8\u8ba4 1000 } delay \n * @returns \u5728\u67d0\u6bb5\u65f6\u95f4\u5185\u591a\u6b21\u53d8\u52a8\u540e\u6700\u7ec8\u62ff\u5230\u7684\u503c\uff08delay \u5ef6\u8fdf\u7684\u662f\u5b58\u50a8\u5728\u961f\u5217\u4e2d\u7684\u4e0a\u4e00\u6b21\u53d8\u5316\uff09\n */\nexport const useDebounce = (val, delay = 1000) =&gt; {\n\n  const [tempVal, setTempVal] = useState(val)\n\n  useEffect(() =&gt; {\n    // \u6bcf\u6b21\u5728 val \u53d8\u5316\u540e\uff0c\u8bbe\u7f6e\u4e00\u4e2a\u5b9a\u65f6\u5668\n    const timeout = setTimeout(() =&gt; setTempVal(val), delay)\n\n    // \u6bcf\u6b21\u5728\u4e0a\u4e00\u4e2a useEffect \u5904\u7406\u5b8c\u4ee5\u540e\u518d\u8fd0\u884c\uff08useEffect \u7684\u5929\u7136\u529f\u80fd\u5373\u662f\u5728\u8fd0\u884c\u7ed3\u675f\u7684 return \u51fd\u6570\u4e2d\u6e05\u9664\u4e0a\u4e00\u4e2a\uff08\u540c\u4e00\uff09 useEffect\uff09\n    return () =&gt; clearTimeout(timeout)\n  }, [val, delay])\n\n  return tempVal\n}\n\n// \u65e5\u5e38\u6848\u4f8b\uff0c\u5bf9\u6bd4\u7406\u89e3\n\n// const debounce = (func, delay) =&gt; {\n//   let timeout;\n//   return () =&gt; {\n//     if (timeout) {\n//       clearTimeout(timeout);\n//     }\n//     timeout = setTimeout(function () {\n//       func()\n//     }, delay)\n//   }\n// }\n\n// const log = debounce(() =&gt; console.log('call'), 5000)\n// log()\n// log()\n// log()\n//   ...5s\n// \u6267\u884c\uff01\n\n// debounce \u539f\u7406\u8bb2\u89e3\uff1a\n// 0s ---------&gt; 1s ---------&gt; 2s --------&gt; ...\n//     \u8fd9\u4e09\u4e2a\u51fd\u6570\u662f\u540c\u6b65\u64cd\u4f5c\uff0c\u5b83\u4eec\u4e00\u5b9a\u662f\u5728 0~1s \u8fd9\u4e2a\u65f6\u95f4\u6bb5\u5185\u77ac\u95f4\u5b8c\u6210\u7684\uff1b\n//     log()#1 // timeout#1\n//     log()#2 // \u53d1\u73b0 timeout#1\uff01\u53d6\u6d88\u4e4b\uff0c\u7136\u540e\u8bbe\u7f6etimeout#2\n//     log()#3 // \u53d1\u73b0 timeout#2! \u53d6\u6d88\u4e4b\uff0c\u7136\u540e\u8bbe\u7f6etimeout#3\n//             // \u6240\u4ee5\uff0clog()#3 \u7ed3\u675f\u540e\uff0c\u5c31\u53ea\u6709\u6700\u540e\u4e00\u4e2a \u2014\u2014 timeout#3 \u4fdd\u7559\n</code></pre> <p>\u62d3\u5c55\u5b66\u4e60\uff1a\u3010\u7b14\u8bb0\u3011\u6df1\u5ea6\u7406\u89e3\u5e76 js \u624b\u5199\u4e0d\u540c\u573a\u666f\u4e0b\u7684\u9632\u6296\u51fd\u6570</p> <ul> <li>\u4f7f\u7528\u4e86 <code>Custom Hook</code> \u540e\u7684 <code>src\\screens\\ProjectList\\index.js</code>(<code>lastParam</code> \u5b9a\u4e49\u5728\u7d27\u6328 <code>param</code> \u540e)</li> </ul> <pre><code>// \u5bf9 param \u8fdb\u884c\u9632\u6296\u5904\u7406\nconst lastParam = useDebounce(param)\nconst [list, setList] = useState([]);\n\nuseEffect(() =&gt; {\n  fetch(\n    // name=${param.name}&amp;personId=${param.personId}\n    `${apiUrl}/projects?${qs.stringify(cleanObject(lastParam))}`\n  ).then(async (res) =&gt; {\n    if (res.ok) {\n      setList(await res.json());\n    }\n  });\n}, [lastParam]);\n\nuseMount(() =&gt; {\n  fetch(`${apiUrl}/users`).then(async (res) =&gt; {\n    if (res.ok) {\n      setUsers(await res.json());\n    }\n  });\n});\n</code></pre> <p>\u8fd9\u6837\u4fbf\u53ef <code>1s</code> \u5185\u518d\u6b21\u8f93\u5165\u4e0d\u4f1a\u89e6\u53d1\u5bf9 <code>projects</code> \u7684 <code>fetch</code> \u8bf7\u6c42</p> <p>\u62d3\u5c55\u5b66\u4e60\uff1a\u3010\u7b14\u8bb0\u3011Custom Hook</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#ts-","title":"\u4e09\u3001TS \u5e94\u7528- \u5f3a\u7c7b\u578b","text":""},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#1ts","title":"1.TS \u7684\u5fc5\u8981\u6027","text":"<p>\u4f5c\u4e3a\u6b63\u5e38\u4eba\uff0c\u6211\u4eec\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u96be\u514d\u4f1a\u72af\u4ee5\u4e0b\u9519\u8bef\uff1a</p> <pre><code>\u53d8\u91cf\u540d\u5199\u9519\n\u53c2\u6570\u5c11\u4f20\u3001\u591a\u4f20\n\u6570\u7ec4\u6216\u5bf9\u8c61\u53d8\u91cf\u5c42\u6b21\u5f04\u9519\n\u76f8\u5bf9 JS \u5728\u8fd0\u884c\u65f6\uff08runtime\uff09\u624d\u4f1a\u53d1\u73b0\u9519\u8bef\uff0cTS \u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5728 \u9759\u6001\u4ee3\u7801 \u4e2d\u53ca\u65f6\u5b9a\u4f4d\u9519\u8bef\uff0c\u5c06 \u5f31\u7c7b\u578b \u7684 JS \u8f6c\u4e3a \u5f3a\u7c7b\u578b \u7684 TS \u80fd\u591f\u6781\u5927\u5730\u964d\u4f4e\u6211\u4eec\u7f16\u7801\u8fc7\u7a0b\u4e2d\u7684\u8bef\u7801\u7387\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#2_1","title":"2.\u4ee3\u7801\u66f4\u6539","text":"<p>\u5c06\u9879\u76ee\u4e2d src \u4e0b js \u6587\u4ef6\u540e\u7f00\u6539\u4e3a ts\uff0cjsx \u6587\u4ef6\u540e\u7f00\u6539\u4e3a tsx\uff0c\u5e76\u5bf9\u6587\u4ef6\u4ee3\u7801\u505a\u5982\u4e0b\u4fee\u6539\uff1a</p> <pre><code>\u6709\u53c2\u6570\u7684\u7ec4\u4ef6\u4f7f\u7528 interface \u58f0\u660e\u53c2\u6570\u7c7b\u578b\n\u516c\u7528\u7c7b\u578b\u7684\u53ef\u4ee5\u5bfc\u51fa+\u5f15\u5165\n\u4e0d\u660e\u786e\u7c7b\u578b\u7684\u663e\u6027\u8d4b\u4e88 unknow \u7c7b\u578b (\u4e25\u683c\u7248 any)\n\u4e0d\u786e\u5b9a\u53c2\u6570\u662f\u5426\u4f1a\u4f20\u7684\u4f7f\u7528 ?: \u8d4b\u4e88\u7c7b\u578b\n\u7528\u6cdb\u578b\u6765\u89c4\u8303\u7c7b\u578b\n</code></pre> <ul> <li><code>src\\utils\\index.ts</code></li> </ul> <pre><code>import { useEffect, useState } from \"react\";\n\nexport const isFalsy = (val: unknown) =&gt; (val === 0 ? false : !val);\n\n// \u5728\u51fd\u6570\u91cc\uff0c\u4e0d\u53ef\u7528\u76f4\u63a5\u8d4b\u503c\u7684\u65b9\u5f0f\u6539\u53d8\u4f20\u5165\u7684\u5f15\u7528\u7c7b\u578b\u53d8\u91cf\uff0c\u6e05\u7a7a\u4e00\u4e2a\u5bf9\u8c61\u7684\u7a7a\u5c5e\u6027\nexport const cleanObject = (obj: object) =&gt; {\n  const res = { ...obj };\n  Object.keys(res).forEach((key) =&gt; {\n    // \u5ffd\u7565\u4e0b\u4e00\u884c\u7684\u7c7b\u578b\u68c0\u67e5\n    //@ts-ignore \n    const val = res[key];\n    if (isFalsy(val)) {\n      //@ts-ignore\n      delete res[key];\n    }\n  });\n  return res;\n};\n\nexport const useMount = (cbk: () =&gt; void) =&gt; useEffect(() =&gt; cbk(), []);\n\n/**\n * @param { \u503c } val\n * @param { \u5ef6\u65f6\uff1a\u9ed8\u8ba4 1000 } delay\n * @returns \u5728\u67d0\u6bb5\u65f6\u95f4\u5185\u591a\u6b21\u53d8\u52a8\u540e\u6700\u7ec8\u62ff\u5230\u7684\u503c\uff08delay \u5ef6\u8fdf\u7684\u662f\u5b58\u50a8\u5728\u961f\u5217\u4e2d\u7684\u4e0a\u4e00\u6b21\u53d8\u5316\uff09\n */\nexport const useDebounce = &lt;V&gt;(val: V, delay: number = 1000) =&gt; {\n  // V \u6cdb\u578b\uff0c\u8868\u793a\u4f20\u5165\u4e0e\u8fd4\u56de\u7c7b\u578b\u76f8\u540c\n\n  const [tempVal, setTempVal] = useState(val);\n\n  useEffect(() =&gt; {\n    // \u6bcf\u6b21\u5728 val \u53d8\u5316\u540e\uff0c\u8bbe\u7f6e\u4e00\u4e2a\u5b9a\u65f6\u5668\n    const timeout = setTimeout(() =&gt; setTempVal(val), delay);\n    // \u6bcf\u6b21\u5728\u4e0a\u4e00\u4e2a useEffect \u5904\u7406\u5b8c\u4ee5\u540e\u518d\u8fd0\u884c\uff08useEffect \u7684\u5929\u7136\u529f\u80fd\u5373\u662f\u5728\u8fd0\u884c\u7ed3\u675f\u7684 return \u51fd\u6570\u4e2d\u6e05\u9664\u4e0a\u4e00\u4e2a\uff08\u540c\u4e00\uff09 useEffect\uff09\n    return () =&gt; clearTimeout(timeout);\n  }, [val, delay]);\n\n  return tempVal;\n};\n</code></pre> <ul> <li><code>src\\screens\\ProjectList\\index.jsx</code></li> </ul> <pre><code>import { SearchPanel } from \"./components/SearchPanel\";\nimport { List } from \"./components/List\";\nimport { useEffect, useState } from \"react\";\nimport { cleanObject, useDebounce, useMount } from \"utils\";\nimport * as qs from \"qs\";\n\nconst apiUrl = process.env.REACT_APP_API_URL;\n\nexport const ProjectListScreen = () =&gt; {\n  const [users, setUsers] = useState([]);\n  const [param, setParam] = useState({\n    name: \"\",\n    personId: \"\",\n  });\n  // \u5bf9 param \u8fdb\u884c\u9632\u6296\u5904\u7406\n  const lastParam = useDebounce(param);\n  const [list, setList] = useState([]);\n\n  useEffect(() =&gt; {\n    fetch(\n      // name=${param.name}&amp;personId=${param.personId}\n      `${apiUrl}/projects?${qs.stringify(cleanObject(lastParam))}`\n    ).then(async (res) =&gt; {\n      if (res.ok) {\n        setList(await res.json());\n      }\n    });\n  }, [lastParam]);\n\n  useMount(() =&gt; {\n    fetch(`${apiUrl}/users`).then(async (res) =&gt; {\n      if (res.ok) {\n        setUsers(await res.json());\n      }\n    });\n  });\n\n  return (\n    &lt;div&gt;\n      &lt;SearchPanel users={users} param={param} setParam={setParam} /&gt;\n      &lt;List users={users} list={list} /&gt;\n    &lt;/div&gt;\n  );\n};\n</code></pre> <ul> <li><code>src\\screens\\ProjectList\\components\\List.jsx</code></li> </ul> <pre><code>import { User } from \"./SearchPanel\";\n\ninterface Project {\n  id: string;\n  name: string;\n  personId: string;\n  star: boolean;\n  organization: string;\n}\n\ninterface ListProps {\n  users: User[];\n  list: Project[];\n}\n\nexport const List = ({ users, list }: ListProps) =&gt; {\n  return (\n    &lt;table&gt;\n      &lt;thead&gt;\n        &lt;tr&gt;\n          &lt;th&gt;\u540d\u79f0&lt;/th&gt;\n          &lt;th&gt;\u8d1f\u8d23\u4eba&lt;/th&gt;\n        &lt;/tr&gt;\n      &lt;/thead&gt;\n      &lt;tbody&gt;\n        {list.map((project) =&gt; (\n          &lt;tr key={project.id}&gt;\n            &lt;td&gt;{project.name}&lt;/td&gt;\n            {/* undefined.name */}\n            &lt;td&gt;\n              {users.find((user) =&gt; user.id === project.personId)?.name || \"\u672a\u77e5\"}\n            &lt;/td&gt;\n          &lt;/tr&gt;\n        ))}\n      &lt;/tbody&gt;\n    &lt;/table&gt;\n  );\n};\n</code></pre> <ul> <li><code>src\\screens\\ProjectList\\components\\SearchPanel.jsx</code></li> </ul> <pre><code>export interface User {\n  id: string;\n  name: string;\n  email: string;\n  title: string;\n  organization: string;\n}\ninterface SearchPanelProps {\n  users: User[];\n  param: {\n    name: string;\n    personId: string;\n  };\n  setParam: (param: SearchPanelProps[\"param\"]) =&gt; void;\n}\n\nexport const SearchPanel = ({ users, param, setParam }: SearchPanelProps) =&gt; {\n  return (\n    &lt;form&gt;\n      &lt;div&gt;\n        {/* setParam(Object.assign({}, param, { name: evt.target.value })) */}\n        &lt;input\n          type=\"text\"\n          value={param.name}\n          onChange={(evt) =&gt;\n            setParam({\n              ...param,\n              name: evt.target.value,\n            })\n          }\n        /&gt;\n        &lt;select\n          value={param.personId}\n          onChange={(evt) =&gt;\n            setParam({\n              ...param,\n              personId: evt.target.value,\n            })\n          }\n        &gt;\n          &lt;option value=\"\"&gt;\u8d1f\u8d23\u4eba&lt;/option&gt;\n          {users.map((user) =&gt; (\n            &lt;option key={user.id} value={user.id}&gt;\n              {user.name}\n            &lt;/option&gt;\n          ))}\n        &lt;/select&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n  );\n};\n</code></pre> <ul> <li><code>src\\App.tsx</code></li> </ul> <pre><code>import \"./App.css\";\nimport { ProjectListScreen } from \"screens/ProjectList\";\n\nfunction App() {\n  return (\n    &lt;div className=\"App\"&gt;\n      &lt;ProjectListScreen /&gt;\n    &lt;/div&gt;\n  );\n}\n\nexport default App;\n</code></pre> <ul> <li>\u3010\u5b9e\u6218\u3011\u7528 Custom Hook + TS\u6cdb\u578b\u5b9e\u73b0 useArray</li> </ul>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#jwt","title":"\u56db\u3001JWT\u3001\u7528\u6237\u8ba4\u8bc1\u4e0e\u5f02\u6b65\u8bf7\u6c42","text":""},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#1login","title":"1.login","text":"<p>\u589e\u52a0\u767b\u5f55\u7684\u9875\u9762\u548c\u903b\u8f91</p> <ul> <li>\u65b0\u5efa\u6587\u4ef6\uff1a<code>src\\screens\\login\\index.tsx</code>\uff1a</li> </ul> <pre><code>import { FormEvent } from \"react\";\n\nconst apiUrl = process.env.REACT_APP_API_URL;\n\nexport const Login = () =&gt; {\n  const login = (param: { username: string; password: string }) =&gt; {\n    fetch(`${apiUrl}/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(param),\n    }).then(async (res) =&gt; {\n      if (res.ok) {\n        // \u767b\u5f55\u6210\u529f\n      }\n    });\n  };\n\n  // HTMLFormElement extends Element (\u5b50\u7c7b\u578b\u7ee7\u627f\u6027\u517c\u5bb9\u6240\u6709\u7236\u7c7b\u578b)\n  // (\u9e2d\u5b50\u7c7b\u578b\uff1aduck typing: \u9762\u5411\u63a5\u53e3\u7f16\u7a0b \u800c\u975e \u9762\u5411\u5bf9\u8c61\u7f16\u7a0b)\n  const handleSubmit = (event: FormEvent&lt;HTMLFormElement&gt;) =&gt; {\n    event.preventDefault();\n    const username = (event.currentTarget.elements[0] as HTMLFormElement).value;\n    const password = (event.currentTarget.elements[1] as HTMLFormElement).value;\n    login({ username, password });\n  };\n\n  return (\n    &lt;form onSubmit={handleSubmit}&gt;\n      &lt;div&gt;\n        &lt;label htmlFor=\"username\"&gt;\u7528\u6237\u540d&lt;/label&gt;\n        &lt;input type=\"text\" id=\"username\" /&gt;\n      &lt;/div&gt;\n      &lt;div&gt;\n        &lt;label htmlFor=\"password\"&gt;\u5bc6\u7801&lt;/label&gt;\n        &lt;input type=\"password\" id=\"password\" /&gt;\n      &lt;/div&gt;\n      &lt;button type=\"submit\"&gt;\u767b\u5f55&lt;/button&gt;\n    &lt;/form&gt;\n  );\n};\n</code></pre> <p><code>src\\App.tsx</code> \u4e2d\u5f15\u5165:</p> <pre><code>import \"./App.css\";\nimport { Login } from \"screens/login\";\n\nfunction App() {\n  return (\n    &lt;div className=\"App\"&gt;\n      &lt;Login /&gt;\n    &lt;/div&gt;\n  );\n}\n\nexport default App;\n</code></pre> <p>\u76ee\u524d\u9875\u9762\u70b9\u51fb\u767b\u5f55 404\uff0c\u4e0b\u4e00\u6b65\u914d\u7f6e <code>json-server</code> \u4e2d\u95f4\u4ef6\uff0c\u4f7f\u5176\u53ef\u4ee5\u6a21\u62df \u975e restful \u63a5\u53e3</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#2middleware-of-json-server","title":"2.middleware of json-server","text":"<p>json-server \u4e2d\u95f4\u4ef6\uff0c\u6a21\u62df\u8bf7\u6c42\u548c\u8fd4\u56de\u6570\u636e</p> <ul> <li>\u65b0\u5efa\u6587\u4ef6\uff1a<code>__json_server_mock__\\middleware.js</code>\uff1a</li> </ul> <pre><code>module.exports = (req, res, next) =&gt; {\n  if (req.method === \"POST\" &amp;&amp; req.path === \"/login\") {\n    if (req.body.username === \"user\" &amp;&amp; req.body.password === \"123\") {\n      return res.status(200).json({\n        user: {\n          token: \"token123\",\n        },\n      });\n    } else {\n      return res.status(400).json({ message: \"\u7528\u6237\u540d\u6216\u8005\u5bc6\u7801\u9519\u8bef\" });\n    }\n  }\n  next();\n};\n</code></pre> <ul> <li>\u914d\u7f6e <code>package.json</code> \u4e2d <code>json-server</code> \u7684 <code>script</code>\uff1a</li> </ul> <pre><code>\"json-server\": \"json-server __json_server_mock__/db.json -w -p 3001 --middlewares ./__json_server_mock__/middleware.js\"\n</code></pre> <ul> <li>\u914d\u7f6e\u5b8c\u540e\u91cd\u65b0\u542f\u52a8 <code>json-server</code> ,\u8f93\u5165\u4e2d\u95f4\u4ef6\u9884\u7f6e\u7528\u6237\u540d\u548c\u5bc6\u7801\u5373\u53ef\u6b63\u5e38\u8bbf\u95ee\uff08200\uff09\uff0c\u5426\u5219\uff08400\uff1abad request\uff09</li> </ul>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#3jira-dev-toolimooc-jira-tool","title":"3.jira-dev-tool\uff08imooc-jira-tool\uff09","text":"<p>jira-dev-tool - npm</p> <ul> <li>\u9996\u5148\u786e\u8ba4 git \u5de5\u4f5c\u533a clean\uff0c\u5b89\u88c5 jira-dev-tool\uff08imooc-jira-tool\uff09</li> <li>\u5f15\u5165\u5230 <code>src\\index.tsx</code></li> </ul> <pre><code>import { loadDevTools } from \"jira-dev-tool\";\n\nloadDevTools(() =&gt; {\n  ReactDOM.render(\n    &lt;React.StrictMode&gt;\n      &lt;AppProviders&gt;\n        &lt;App /&gt;\n      &lt;/AppProviders&gt;\n    &lt;/React.StrictMode&gt;,\n    document.getElementById(\"root\")\n  );\n});\n</code></pre> <p>\u95ee\u98981: \u5b89\u88c5 jira-dev-tool\uff08imooc-jira-tool\uff09\u540e\u542f\u52a8\u9879\u76ee\u8054\u8c03\u53ef\u80fd\u4f1a\u51fa\u73b0\u7684\u95ee\u9898</p> <ul> <li>\u62a5\u9519\uff1a<code>request (TypeError: Failed to fetch). This is probably not a problem with Mock Service Worker. There is likely an additional logging output above.</code></li> <li>\u89e3\u51b3\uff1anpx msw init ./public/ --save</li> </ul> <p>\u95ee\u9898\u4e8c: \u7531\u4e8e jira-dev-tool \u5df2\u7ecf\u4e24\u5e74\u6ca1\u6709\u66f4\u65b0\u4e86\uff0c\u4e14\u4f9d\u8d56 react@\u201c^16.0.0\u201d, \u82e5\u8981\u7ee7\u7eed\u4f7f\u7528\uff0c\u5728 npm i \u65f6\u4f1a\u6709\u5982\u4e0b\u62a5\u9519\uff1a</p> <pre><code>npm ERR! code ERESOLVE\nnpm ERR! ERESOLVE unable to resolve dependency tree\nnpm ERR! \nnpm ERR! While resolving: jira@0.1.0\nnpm ERR! Found: react@18.2.0\nnpm ERR! node_modules/react\nnpm ERR!   react@\"^18.2.0\" from the root project\nnpm ERR!\nnpm ERR! Could not resolve dependency:\nnpm ERR! peer react@\"^16.0.0\" from jira-dev-tool@1.7.61       \nnpm ERR! node_modules/jira-dev-tool\nnpm ERR!   jira-dev-tool@\"^1.7.61\" from the root project      \nnpm ERR!\nnpm ERR! Fix the upstream dependency conflict, or retry       \nnpm ERR! this command with --force or --legacy-peer-deps      \nnpm ERR! to accept an incorrect (and potentially broken) dependency resolution.\nnpm ERR!\nnpm ERR!\nnpm ERR! For a full report see:\nnpm ERR! C:\\...\\npm-cache\\_logs\\2023-03-08T09_11_24_998Z-eresolve-report.txt\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! C:\\...\\npm-cache\\_logs\\2023-03-08T09_11_24_998Z-debug-0.log\n</code></pre> <p>\u89e3\u51b3\u65b9\u6848\u4e00\uff1a</p> <ul> <li>\u5220\u6389\u6587\u4ef6 yarn.lock\uff0c\u4ee5\u53capackage.json \u4e2d\u7684 <code>\"jira-dev-tool\": \"^1.7.61\",</code> \u90e8\u5206\uff0cjira-dev-tool \u624b\u52a8\u5b89\u88c5</li> </ul> <p>\u89e3\u51b3\u65b9\u6848\u4e8c\uff08\u63a8\u8350\uff09</p> <ul> <li>\u4f7f\u7528 <code>yarn</code> \u4ee3\u66ff <code>npm i</code></li> </ul> <p>\u4f7f\u7528</p> <p>\u5f00\u53d1\u8005\u5de5\u5177\u7528 MSW \u4ee5 Service Worker \u4e3a\u539f\u7406\u5b9e\u73b0\u4e86\"\u5206\u5e03\u5f0f\u540e\u7aef\"\u3002\u540e\u7aef\u903b\u8f91\u5904\u7406\u540e\uff0c\u4ee5localStorage\u4e3a\u6570\u636e\u5e93\u8fdb\u884c\u589e\u5220\u6539\u67e5\u64cd\u4f5c\u3002\u6d4f\u89c8\u5668\u4e0a\u5b89\u88c5\u4e86\u4e00\u4e2a\u72ec\u7acb\u7684\u540e\u7aef\u670d\u52a1\u548c\u6570\u636e\u5e93\uff0c\u518d\u4e5f\u4e0d\u53d7\u4efb\u4f55\u4e2d\u5fc3\u5316\u670d\u52a1\u7684\u5f71\u54cd \u70b9\u51fb\u2019\u6e05\u7a7a\u6570\u636e\u5e93\u2019\u4fbf\u53ef\u4ee5\u91cd\u7f6e\u540e\u7aef\u670d\u52a1\u3002\u53ef\u4ee5\u7cbe\u51c6\u5730\u63a7\u5236 HTTP\u8bf7\u6c42\u7684\u65f6\u95f4\u3001\u5931\u8d25\u6982\u7387\u3001\u5931\u8d25\u89c4\u5219</p> <p>Service Worker + localStorage\u867d\u7136\u672c\u8d28\u4e0a\u4e0e\u4f20\u7edf\u540e\u7aef\u670d\u52a1\u5e76\u4e0d\u540c\uff0c\u4f46\u4e1d\u6beb\u4e0d\u4f1a\u5f71\u54cd\u524d\u7aef\u5f00\u53d1</p> <p>\u5176\u4ed6\u5177\u4f53\u64cd\u4f5c\u53ef\u89c1\u6587\u6863\u4ee5\u53ca\u63a5\u4e0b\u6765\u7684\u64cd\u4f5c\uff1ajira-dev-tool - npm</p> <p>Service Worker API - Web API \u63a5\u53e3\u53c2\u8003 | MDN</p> <p>\u5b89\u88c5\u597d\u540e\u8fdb\u5165<code>/login</code>,\u8bf7\u6c42login\u63a5\u53e3\uff0c\u53ef\u4ee5\u770b\u5230\u72b6\u6001\u7801\u540e\u5e26\u6709\uff08from service worker\uff09\u5b57\u6837\u5373\u6210\u529f\u8fde\u63a5\uff1a</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#4jwtauth-provider","title":"4.JWT\u539f\u7406\u4e0eauth-provider\u5b9e\u73b0","text":"<p>\u6ce8\u518c\u4e00\u4e2a\u65b0\u7528\u6237</p> <ul> <li>\u4fee\u6539\uff1a</li> </ul> <pre><code>src\\screens\\login\\index.tsx\n</code></pre> <ul> <li>\u8c03\u7528\u63a5\u53e3 <code>login</code> \u6539\u4e3a <code>register</code>\uff1b</li> <li>\u6309\u94ae \u767b\u5f55 \u6539\u4e3a \u6ce8\u518c</li> </ul> <p>\u6ce8\u518c\u4e00\u4e2a\u65b0\u7528\u6237 jira\uff08\u5bc6\u7801\uff1ajira\uff09\uff0c\u63a5\u53e3\u8fd4\u56de\uff1a</p> <pre><code>{\n  \"user\": {\n    \"id\": 2087569429,\n    \"name\": \"jira\",\n    \"token\": \"MjA4NzU2OTQyOQ==\"\n  }\n}\n</code></pre> <p>token \u5373\u662f JWT(JSON Web Tokens) \u7684\u4ea7\u7269</p> <ul> <li>JSON Web Tokens - jwt.io</li> </ul> <p>auth-provider</p> <p>\u4fee\u6539 <code>src\\screens\\ProjectList\\components\\SearchPanel.tsx</code>\uff0c\u4e3a <code>User</code> \u65b0\u589e <code>token</code>:</p> <pre><code>export interface User {\n  id: string;\n  name: string;\n  email: string;\n  title: string;\n  organization: string;\n  token: string; // \u65b0\u589e\u5b57\u6bb5\n}\n</code></pre> <p>\u65b0\u5efa <code>src\\auth-provider.ts</code>\uff1a</p> <p>\u6a21\u62df\u7b2c\u4e09\u65b9\u670d\u52a1</p> <pre><code>// \u5728\u771f\u5b9e\u73af\u5883\u4e2d\uff0c\u5982\u679c\u4f7f\u7528\u4e86 firebase \u8fd9\u79cd\u7b2c\u4e09\u65b9 auth \u670d\u52a1\u7684\u8bdd\uff0c\u672c\u6587\u4ef6\u4e0d\u9700\u8981\u5f00\u53d1\u8005\u5f00\u53d1\n\nimport { User } from \"screens/ProjectList/components/SearchPanel\"\n\nconst localStorageKey = '__auth_provider_token__'\nconst apiUrl = process.env.REACT_APP_API_URL;\n\nexport const getToken = () =&gt; window.localStorage.getItem(localStorageKey)\n\n// \u5904\u7406\u7528\u6237\u54cd\u5e94\u2014\u2014\u5b58\u50a8\u5230\u6d4f\u89c8\u5668\u672c\u5730\nexport const handleUserResponse = ({user} : { user: User }) =&gt; {\n  window.localStorage.setItem(localStorageKey, user.token || '')\n  return user\n}\n\n// \u767b\u5f55\u903b\u8f91\nexport const login = (data: { username: string, password: string }) =&gt; {\n  return fetch(`${apiUrl}/login`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  }).then(async (res) =&gt; {\n    if (res.ok) {\n      return handleUserResponse(await res.json())\n    } else {\n      return Promise.reject(data)\n    }\n  });\n}\n\n// \u6ce8\u518c\u903b\u8f91\nexport const register = (data: { username: string, password: string }) =&gt; {\n  return fetch(`${apiUrl}/register`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  }).then(async (res) =&gt; {\n    if (res.ok) {\n      return handleUserResponse(await res.json())\n    } else {\n      return Promise.reject(data)\n    }\n  });\n}\n\n// \u767b\u51fa\u903b\u8f91-\u76f4\u63a5\u66f4\u6539\u672c\u5730\u914d\u7f6e\nexport const logout = async () =&gt; window.localStorage.removeItem(localStorageKey)\n</code></pre> <p>\u7ec6\u8282\u70b9\uff1a</p> <p>\u51fd\u6570\u5b9a\u4e49\u65f6\uff0c\u503c\u524d\u6dfb\u52a0 async \u4f7f\u5176\u8fd4\u56de\u4e00\u4e2a Promise \u5bf9\u8c61</p> <p>\u56de\u8c03\u51fd\u6570\u5165\u53c2\u548c\u56de\u8c03\u51fd\u6570\u5185\u6709\u4e14\u53ea\u6709\u4e00\u4e2a\u51fd\u6570\u8c03\u7528\u4e14\u5b83\u7684\u5165\u53c2\u4e0e\u56de\u8c03\u51fd\u6570\u5165\u53c2\u4e00\u81f4\uff0c\u8be5\u56de\u8c03\u51fd\u6570\u53ef\u76f4\u63a5\u7b80\u5199\u4e3a\u5176\u5185\u90e8\u7684\u51fd\u6570\u8c03\u7528\u4e14\u4e0d\u5e26\u53c2\uff08\u8fd9\u662f\u51fd\u6570\u5f0f\u7f16\u7a0b-PointFree\u7684\u4e00\u79cd\u5e94\u7528\uff09\uff1a</p> <pre><code>const login = (form: AuthForm) =&gt; {\n  return auth.login(form).then(user =&gt; setUser(user));\n}\nconst login = (form: AuthForm) =&gt; {\n  return auth.login(form).then(setUser);\n}\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#5usecontextuserloginregisterlogout","title":"5.useContext(user,login,register,logout)","text":"<p>\u4e0a\u4e0b\u6587\u7ec4\u4ef6</p> <p>\u65b0\u5efa <code>src\\context\\auth-context.tsx</code>\uff1a</p> <pre><code>import React, { ReactNode, useState } from \"react\"\nimport * as auth from 'auth-provider'\nimport { User } from \"screens/ProjectList/components/SearchPanel\"\n\n// \u8868\u5355\u6388\u6743\u63a5\u53e3\uff08auth\uff09\ninterface AuthForm {\n  username: string,\n  password: string\n}\n\n// \u6388\u6743\u4e0a\u4e0b\u6587\uff08\u5305\u62ec\u767b\u5f55\uff0c\u6ce8\u518c\uff0c\u767b\u51fa\u63a5\u53e3\uff09\nconst AuthContext = React.createContext&lt;{\n  user: User | null,\n  login: (form : AuthForm) =&gt; Promise&lt;void&gt;,\n  register: (form : AuthForm) =&gt; Promise&lt;void&gt;,\n  logout: () =&gt; Promise&lt;void&gt;,\n} | undefined&gt;(undefined)\n\nAuthContext.displayName = 'AuthContext'\n\n// \u63d0\u4f9b\u6388\u6743\u7ec4\u4ef6\uff08\u53c2\u6570\u662f children\uff09\nexport const AuthProvider = ({children}:{children: ReactNode}) =&gt; {\n  // \u8fd9\u91cc\u8981\u8003\u8651\u5230\u521d\u59cb\u503c\u7684\u7c7b\u578b\u4e0e\u540e\u7eed\u503c\u7c7b\u578b\uff0c\u53d6\u5e76\u7ec4\u6210\u4e00\u4e2a\u6cdb\u578b\n  const [user, setUser] = useState&lt;User | null&gt;(null)\n\n  const login = (form: AuthForm) =&gt; auth.login(form).then(user =&gt; setUser(user))\n  const register = (form: AuthForm) =&gt; auth.register(form).then(user =&gt; setUser(user))\n  const logout = () =&gt; auth.logout().then(() =&gt; setUser(null))\n\n  return &lt;AuthContext.Provider children={children} value={{ user, login, register, logout }}/&gt;\n}\n\nexport const useAuth = () =&gt; {\n  const context = React.useContext(AuthContext)\n  if (!context) {\n    throw new Error('useAuth \u5fc5\u987b\u5728 AuthProvider \u4e2d\u4f7f\u7528')\n  }\n  return context\n}\n</code></pre> <p>\u65b0\u5efa <code>src\\context\\index.tsx</code>\uff1a</p> <pre><code>import { ReactNode } from \"react\";\nimport { AuthProvider } from \"./auth-context\";\n\nexport const AppProvider = ({children}:{children: ReactNode}) =&gt; {\n  return (\n    &lt;AuthProvider&gt;\n      {children}\n    &lt;/AuthProvider&gt;\n  )\n}\n</code></pre> <p>\u5728\u9879\u76ee\u4e2d\u4f7f\u7528 <code>AppProvider</code>\uff0c\u4fee\u6539 <code>src\\index.tsx</code>\uff1a</p> <pre><code>import { AppProvider } from \"context\";\n\nloadDevTools(() =&gt; {\n  root.render(\n    // &lt;React.StrictMode&gt;\n    &lt;AppProvider&gt;\n      &lt;App /&gt;\n    &lt;/AppProvider&gt;\n    // &lt;/React.StrictMode&gt;\n  );\n});\n</code></pre> <p>\u4fee\u6539 <code>src\\screens\\login\\index.tsx</code>\uff0c\u8c03\u7528 <code>useAuth</code> \u4e2d\u7684 <code>login</code>\uff0c\u5e76\u4f7f\u7528\u4e4b\u524d\u6ce8\u518c\u7684\u8d26\u53f7 <code>jira(jira)</code> \u9a8c\u8bc1\uff1a</p> <pre><code>import { useAuth } from \"context/auth-context\";\nimport { FormEvent } from \"react\";\n\nexport const Login = () =&gt; {\n  const {login, user} = useAuth()\n  // HTMLFormElement extends Element (\u5b50\u7c7b\u578b\u7ee7\u627f\u6027\u517c\u5bb9\u6240\u6709\u7236\u7c7b\u578b)\n  const handleSubmit = (event: FormEvent&lt;HTMLFormElement&gt;) =&gt; {...};\n  return (\n    &lt;form onSubmit={handleSubmit}&gt;\n      &lt;div&gt;\n        {user ? &lt;div&gt;\u767b\u5f55\u6210\u529f\uff0c\u7528\u6237\u540d{user?.name}&lt;/div&gt; : null}\n      &lt;/div&gt;\n      &lt;div&gt;\n        &lt;label htmlFor=\"username\"&gt;\u7528\u6237\u540d&lt;/label&gt;\n        &lt;input type=\"text\" id=\"username\" /&gt;\n      &lt;/div&gt;\n      &lt;div&gt;\n        &lt;label htmlFor=\"password\"&gt;\u5bc6\u7801&lt;/label&gt;\n        &lt;input type=\"password\" id=\"password\" /&gt;\n      &lt;/div&gt;\n      &lt;button type=\"submit\"&gt;\u767b\u5f55&lt;/button&gt;\n    &lt;/form&gt;\n  );\n};\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#6useauth","title":"6.\u7528useAuth\u5207\u6362\u767b\u5f55\u4e0e\u975e\u767b\u5f55\u72b6\u6001","text":"<p>\u5c06 \u767b\u5f55\u6001 \u9875\u9762\u548c \u975e\u767b\u5f55\u6001 \u9875\u9762\u5206\u522b\u6574\u5408\uff08\u8fc7\u7a0b\u7a00\u788e\u3002\u3002\uff09\uff1a</p> <ul> <li>\u65b0\u5efa\u6587\u4ef6\u5939\u53ca\u4e0b\u9762\u6587\u4ef6\uff1a<code>unauthenticated-app</code></li> <li><code>index.tsx</code></li> </ul> <pre><code>import { useState } from \"react\";\nimport { Login } from \"./login\";\nimport { Register } from \"./register\";\n\nexport const UnauthenticatedApp = () =&gt; {\n  const [isRegister, setIsRegister] = useState(false);\n  return (\n    &lt;div&gt;\n      {isRegister ? &lt;Register /&gt; : &lt;Login /&gt;}\n      &lt;button onClick={() =&gt; setIsRegister(!isRegister)}&gt;\n        \u5207\u6362\u5230{isRegister ? \"\u767b\u5f55\" : \"\u6ce8\u518c\"}\n      &lt;/button&gt;\n    &lt;/div&gt;\n  );\n};\n</code></pre> <ul> <li><code>login.tsx</code>\uff08\u628a <code>src\\screens\\login\\index.tsx</code> \u526a\u5207\u5e76\u66f4\u540d\uff09</li> </ul> <pre><code>import { useAuth } from \"context/auth-context\";\nimport { FormEvent } from \"react\";\n\nexport const Login = () =&gt; {\n  const { login, user } = useAuth();\n  const handleSubmit = (event: FormEvent&lt;HTMLFormElement&gt;) =&gt; {\n    event.preventDefault();\n    const username = (event.currentTarget.elements[0] as HTMLFormElement).value;\n    const password = (event.currentTarget.elements[1] as HTMLFormElement).value;\n    login({ username, password });\n  };\n  return (\n    &lt;form onSubmit={handleSubmit}&gt;\n      &lt;div&gt;\n        &lt;label htmlFor=\"username\"&gt;\u7528\u6237\u540d&lt;/label&gt;\n        &lt;input type=\"text\" id=\"username\" /&gt;\n      &lt;/div&gt;\n      &lt;div&gt;\n        &lt;label htmlFor=\"password\"&gt;\u5bc6\u7801&lt;/label&gt;\n        &lt;input type=\"password\" id=\"password\" /&gt;\n      &lt;/div&gt;\n      &lt;button type=\"submit\"&gt;\u767b\u5f55&lt;/button&gt;\n    &lt;/form&gt;\n  );\n};\n</code></pre> <ul> <li><code>register.tsx</code>\uff08\u628a <code>src\\screens\\login\\index.tsx</code> \u526a\u5207\u5e76\u66f4\u540d\uff0c\u4ee3\u7801\u4e2d <code>login</code> \u76f8\u5173\u6539\u4e3a <code>register</code>\uff09</li> </ul> <pre><code>import { useAuth } from \"context/auth-context\";\nimport { FormEvent } from \"react\";\n\nexport const Register = () =&gt; {\n  const { register, user } = useAuth();\n  const handleSubmit = (event: FormEvent&lt;HTMLFormElement&gt;) =&gt; {\n    event.preventDefault();\n    const username = (event.currentTarget.elements[0] as HTMLFormElement).value;\n    const password = (event.currentTarget.elements[1] as HTMLFormElement).value;\n    register({ username, password });\n  };\n  return (\n    &lt;form onSubmit={handleSubmit}&gt;\n      &lt;div&gt;\n        &lt;label htmlFor=\"username\"&gt;\u7528\u6237\u540d&lt;/label&gt;\n        &lt;input type=\"text\" id=\"username\" /&gt;\n      &lt;/div&gt;\n      &lt;div&gt;\n        &lt;label htmlFor=\"password\"&gt;\u5bc6\u7801&lt;/label&gt;\n        &lt;input type=\"password\" id=\"password\" /&gt;\n      &lt;/div&gt;\n      &lt;button type=\"submit\"&gt;\u6ce8\u518c&lt;/button&gt;\n    &lt;/form&gt;\n  );\n};\n</code></pre> <ul> <li>\u5220\u6389\u76ee\u5f55\uff1a<code>src\\screens\\login</code></li> <li>\u65b0\u5efa\u6587\u4ef6\uff1a<code>authenticated-app.tsx</code></li> </ul> <pre><code>import { useAuth } from \"context/auth-context\";\nimport { ProjectList } from \"screens/ProjectList\";\n\nexport const AuthenticatedApp = () =&gt; {\n  const { logout } = useAuth();\n  return (\n    &lt;div&gt;\n      &lt;button onClick={logout}&gt;\u767b\u51fa&lt;/button&gt;\n      &lt;ProjectList /&gt;\n    &lt;/div&gt;\n  );\n};\n</code></pre> <ul> <li>\u4fee\u6539 <code>src\\App.tsx</code>\uff08\u6839\u636e\u662f\u5426\u53ef\u4ee5\u83b7\u53d6\u5230 <code>user</code> \u4fe1\u606f\uff0c\u51b3\u5b9a\u5c55\u793a \u767b\u5f55\u6001 \u8fd8\u662f \u975e\u767b\u5f55\u6001 \u9875\u9762\uff09</li> </ul> <pre><code>import { AuthenticatedApp } from \"authenticated-app\";\nimport { useAuth } from \"context/auth-context\";\nimport { UnauthenticatedApp } from \"unauthenticated-app\";\nimport \"./App.css\";\n\nfunction App() {\n  const { user } = useAuth();\n  return (\n    &lt;div className=\"App\"&gt;\n      {user ? &lt;AuthenticatedApp /&gt; : &lt;UnauthenticatedApp /&gt;}\n    &lt;/div&gt;\n  );\n}\n\nexport default App;\n</code></pre> <p>\u67e5\u770b\u9875\u9762\uff0c\u5c1d\u8bd5\u529f\u80fd\uff1a\u5207\u6362\u767b\u5f55/\u6ce8\u518c\uff0c\u6b63\u5e38/\u767b\u5f55\uff1alogin \u6b63\u5e38\uff0c\u4f46\u662f projects \u548c users \u63a5\u53e3 401\uff08A token must be provided\uff09 F12 \u63a7\u5236\u53f0\u67e5\u770b auth_provider_token (Application - Storage - Local Storage - http://localhost:3000)\uff1a\u6ce8\u518c\uff1a\u6b63\u5e38\uff0c\u9ed8\u8ba4\u76f4\u63a5\u767b\u5f55\uff08\u540c\u767b\u5f55\uff0c\u5b58\u50a8 <code>user</code>\uff09</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#7fetchhttp","title":"7.\u7528fetch\u62bd\u8c61\u901a\u7528HTTP\u8bf7\u6c42\u65b9\u6cd5\uff0c\u589e\u5f3a\u901a\u7528\u6027","text":"<ul> <li>\u65b0\u5efa\uff1a<code>src\\utils\\http.ts</code></li> </ul> <pre><code>import qs from \"qs\";\nimport * as auth from 'auth-provider'\n\nconst apiUrl = process.env.REACT_APP_API_URL;\n\ninterface HttpConfig extends RequestInit {\n  data?: object,\n  token?: string\n}\n\nexport const http = async (funcPath: string, { data, token, headers, ...customConfig }: HttpConfig) =&gt; {\n  const httpConfig = {\n    method: 'GET',\n    headers: {\n      Authorization: token ? `Bearer ${token}` : '',\n      'Content-Type': data ? 'application/json' : ''\n    },\n    ...customConfig\n  }\n\n  if (httpConfig.method.toUpperCase() === 'GET') {\n    funcPath += `?${qs.stringify(data)}`\n  } else {\n    httpConfig.body = JSON.stringify(data || {})\n  }\n\n  // axios \u548c fetch \u4e0d\u540c\uff0caxios \u4f1a\u5728 \u72b6\u6001\u7801 \u4e0d\u4e3a 2xx \u65f6\uff0c\u81ea\u52a8\u629b\u51fa\u5f02\u5e38\uff0cfetch \u9700\u8981 \u624b\u52a8\u5904\u7406\n  return window.fetch(`${apiUrl}/${funcPath}`, httpConfig).then(async res =&gt; {\n    if (res.status === 401) {\n      // \u81ea\u52a8\u9000\u51fa \u5e76 \u91cd\u8f7d\u9875\u9762\n      await auth.logout()\n      window.location.reload()\n      return Promise.reject({message: '\u8bf7\u91cd\u65b0\u767b\u5f55\uff01'})\n    }\n    const data = await res.json()\n    if (res.ok) {\n      return data\n    } else {\n      return Promise.reject(data)\n    }\n  })\n}\n</code></pre> <p>\u7c7b\u578b\u5b9a\u4e49\u601d\u8def\uff1a\u6309\u4f4f Ctrl \uff0c\u70b9\u8fdb fetch\uff0c\u53ef\u89c1\uff1a<code>fetch(input: RequestInfo | URL, init?: RequestInit): Promise&lt;Response&gt;;</code>\uff0c\u56e0\u6b64\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5373\u4e3a RequestInit \u7c7b\u578b\uff0c\u4f46\u7531\u4e8e\u6709\u81ea\u5b9a\u4e49\u5165\u53c2\uff0c\u56e0\u6b64\u81ea\u5b9a\u4e49\u4e2a\u7ee7\u627f RequestInit \u7684\u7c7b\u578b</p> <p>customConfig \u4f1a\u8986\u76d6\u524d\u9762\u5df2\u6709\u5c5e\u6027</p> <p>\u9700\u8981\u624b\u52a8\u533a\u522b get \u548c post \u4e0d\u540c\u7684\u643a\u53c2\u65b9\u5f0f</p> <p>axios \u548c fetch \u4e0d\u540c\uff0caxios \u4f1a\u5728 \u72b6\u6001\u7801 \u4e0d\u4e3a 2xx \u65f6\uff0c\u81ea\u52a8\u629b\u51fa\u5f02\u5e38\uff0cfetch \u9700\u8981 \u624b\u52a8\u5904\u7406</p> <p>\u7559\u5fc3 Authorization (\u6388\u6743)\u4e0d\u8981\u5199\u6210 Authentication (\u8ba4\u8bc1)\uff0c\u5426\u5219\u540e\u9762\u4f1a\u62a5401\uff0c\u4e14\u5f88\u96be\u627e\u51fa\u95ee\u9898\u6240\u5728</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#8usehttpjwt","title":"8.\u7528useHttp\u7ba1\u7406JWT\u548c\u767b\u5f55\u72b6\u6001\uff0c\u4fdd\u6301\u767b\u5f55\u72b6\u6001","text":"<ul> <li>\u4e3a\u4e86\u4f7f\u8bf7\u6c42\u63a5\u53e3\u65f6\u80fd\u591f\u81ea\u52a8\u643a\u5e26 token \u5b9a\u4e49 useHttp: <code>src\\utils\\http.ts</code></li> </ul> <pre><code>export const http = async (\n  funcPath: string,\n  { data, token, headers, ...customConfig }: HttpConfig = {} // \u53c2\u6570\u6709 \u9ed8\u8ba4\u503c \u4f1a\u81ea\u52a8\u53d8\u4e3a \u53ef\u9009\u53c2\u6570\n) =&gt; {...}\n\nexport const useHttp = () =&gt; {\n  const { user } = useAuth()\n  // TODO \u5b66\u4e60 TS \u64cd\u4f5c\u7b26\n  return (...[funcPath, customConfig]: Parameters&lt;typeof http&gt;) =&gt; http(funcPath, { ...customConfig, token: user?.token })\n}\n</code></pre> <ul> <li>\u51fd\u6570\u5b9a\u4e49\u65f6\u53c2\u6570\u8bbe\u5b9a \u9ed8\u8ba4\u503c\uff0c\u8be5\u53c2\u6570\u5373\u4e3a \u53ef\u9009\u53c2\u6570</li> <li>\u53c2\u6570\u53ef\u4ee5\u89e3\u6784\u8d4b\u503c\u540e\u4f7f\u7528 rest \u64cd\u4f5c\u7b26\u964d\u7ef4\uff0c\u5b9e\u73b0\u591a\u53c2</li> <li> <p><code>Parameters</code> \u64cd\u4f5c\u7b26\u53ef\u4ee5\u5c06\u51fd\u6570\u5165\u53c2\u7c7b\u578b\u590d\u7528</p> </li> <li> <p>\u5728 <code>src\\screens\\ProjectList\\index.tsx</code> \u4e2d\u4f7f\u7528 <code>useHttp</code>(\u90e8\u5206\u539f\u6709\u4ee3\u7801\u7701\u7565)\uff1a</p> </li> </ul> <pre><code>import { useHttp } from \"utils/http\";\n\nexport const ProjectList = () =&gt; {\n  const client = useHttp()\n\n  useEffect(() =&gt; {\n    // React Hook \"useHttp\" cannot be called inside a callback. React Hooks must be called in a React function component or a custom React Hook function.\n    client('projects', { data: cleanObject(lastParam)}).then(setList)\n    // React Hook useEffect has a missing dependency: 'client'. Either include it or remove the dependency array.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [lastParam]); \n\n  useMount(() =&gt; client('users').then(setUsers));\n\n  return (...);\n};\n</code></pre> <p>useHttp \u4e0d\u80fd\u5728 useEffect \u7684 callback \u4e2d\u76f4\u63a5\u4f7f\u7528\uff0c\u5426\u5219\u4f1a\u62a5\u9519\uff1aReact Hook \"useHttp\" cannot be called inside a callback. React Hooks must be called in a React function component or a custom React Hook function.\uff0c\u5efa\u8bae\u5982\u4ee3\u7801\u4e2d\u6240\u793a\u4f7f\u7528\uff08client \u5373 \u643a\u5e26 token \u7684 http \u51fd\u6570\uff09</p> <p>\u4f9d\u8d56\u4e2d\u53ea\u6709 lastParam \uff0c\u4f1a\u8b66\u544a\uff1aReact Hook useEffect has a missing dependency: 'client'. Either include it or remove the dependency array.\uff0c\u4f46\u662f\u6dfb\u52a0 client \u4f1a\u65e0\u6cd5\u901a\u8fc7\u76f8\u7b49\u68c0\u67e5\u5e76\u5bfc\u81f4\u65e0\u9650\u7684\u91cd\u65b0\u6e32\u67d3\u5faa\u73af\u3002\uff08\u5f53\u524d\u4ee3\u7801\u4e2d\u6700\u4f18\u89e3\u662f\u6dfb\u52a0 eslint \u6ce8\u91ca\uff0c\u5176\u4ed6\u53ef\u53c2\u8003\u4f46\u4e0d\u9002\u7528\uff1ahttps://www.cnblogs.com/chuckQu/p/16608977.html\uff09</p> <ul> <li>\u68c0\u9a8c\u6210\u679c\uff1a\u767b\u5f55\u5373\u53ef\u89c1 <code>projects</code> \u548c <code>users</code> \u63a5\u53e3 <code>200</code>\uff0c\u5373\u6b63\u5e38\u643a\u5e26 <code>token</code>\uff0c\u4f46\u662f\u5f53\u524d\u9875\u9762\u5237\u65b0\u5c31\u4f1a\u9000\u51fa\u767b\u5f55\uff08<code>user</code> \u521d\u59cb\u503c\u4e3a <code>null</code>\uff09\uff0c\u63a5\u4e0b\u6765\u4f18\u5316\u521d\u59cb\u5316 <code>user</code>(<code>src\\context\\auth-context.tsx</code>)\uff1a</li> </ul> <pre><code>import { http } from \"utils/http\";\nimport { useMount } from \"utils\";\n\ninterface AuthForm {...}\n\nconst initUser = async () =&gt; {\n  let user = null\n  const token = auth.getToken()\n  if (token) {\n    // \u7531\u4e8e\u8981\u81ea\u5b9a\u4e49 token \uff0c\u8fd9\u91cc\u4f7f\u7528 http \u800c\u975e useHttp\n    const data = await http('me', { token })\n    user = data.user\n  }\n  return user\n}\n\nexport const AuthProvider = ({ children }: { children: ReactNode }) =&gt; {\n  ...\n  useMount(() =&gt; initUser().then(setUser))\n  return (...);\n};\n</code></pre> <p>\u601d\u8def\u5206\u6790\uff1a\u5b9a\u4e49 <code>initUser</code> \uff0c\u5e76\u5728 <code>AuthProvider</code> \u7ec4\u4ef6 \u6302\u8f7d\u65f6\u8c03\u7528\uff0c\u4ee5\u786e\u4fdd\u53ea\u8981\u5728 <code>localStorage</code> \u4e2d\u5b58\u5728 <code>token</code>\uff08\u672a\u767b\u51fa\u6216\u6e05\u9664\uff09\uff0c\u5373\u53ef\u83b7\u53d6\u5e76\u901a\u8fc7\u9884\u8bbe\u63a5\u53e3 <code>me</code> \u62ff\u5230 <code>user</code> \uff0c\u5b8c\u6210\u521d\u59cb\u5316</p> <p>\u81f3\u6b64\u4e3a\u6b62\uff0c\u6ce8\u518c\u767b\u5f55\u7cfb\u7edf\uff08\u529f\u80fd\uff09\u95ed\u73af</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#9tspartialomit","title":"9.TS\u7684\u8054\u5408\u7c7b\u578b\u3001Partial\u548cOmit\u4ecb\u7ecd","text":"<p>\u8054\u5408\u7c7b\u578b\uff1atype1 | type2</p> <p>\u4ea4\u53c9\u7c7b\u578b\uff1atype1 &amp; type2</p> <p>\u7c7b\u578b\u522b\u540d\uff1a type typeName = typeValue</p> <p>\u7c7b\u578b\u522b\u540d\u5728\u5f88\u591a\u60c5\u51b5\u4e0b\u53ef\u4ee5\u548c interface \u4e92\u6362\uff0c\u4f46\u662f\u4e24\u79cd\u60c5\u51b5\u4f8b\u5916\uff1a</p> <pre><code>typeValue \u6d89\u53ca\u4ea4\u53c9/\u8054\u5408\u7c7b\u578b\ntypeValue \u6d89\u53ca Utility Types (\u5de5\u5177\u7c7b\u578b)\n</code></pre> <p>TS \u4e2d\u7684 typeof \u7528\u6765\u64cd\u4f5c\u7c7b\u578b\uff0c\u5728\u9759\u6001\u4ee3\u7801\u4e2d\u4f7f\u7528\uff08JS \u7684 typeof \u5728\u4ee3\u7801\u8fd0\u884c\u65f6(runtime)\u8d77\u4f5c\u7528\uff09\uff0c\u6700\u7ec8\u7f16\u8bd1\u6210\u7684 JS \u4ee3\u7801\u4e0d\u4f1a\u5305\u542b typeof \u5b57\u6837</p> <p>Utility Types(\u5de5\u5177\u7c7b\u578b) \u7684\u7528\u6cd5\uff1a\u7528\u6cdb\u578b\u7684\u5f62\u5f0f\u4f20\u5165\u4e00\u4e2a\u7c7b\u578b\uff08typeName \u6216 typeof functionName\uff09\u7136\u540e\u8fdb\u884c\u7c7b\u578b\u64cd\u4f5c</p> <p>\u5e38\u7528 Utility Types \uff1a</p> <ul> <li>Partial\uff1a\u5c06\u6bcf\u4e2a\u5b50\u7c7b\u578b\u8f6c\u6362\u4e3a\u53ef\u9009\u7c7b\u578b</li> </ul> <pre><code>/**\n * Make all properties in T optional\n */\ntype Partial&lt;T&gt; = {\n    [P in keyof T]?: T[P];\n};\n</code></pre> <ul> <li><code>Omit</code>\uff1a\u5220\u9664\u7236\u7c7b\u578b\u4e2d\u7684\u6307\u5b9a\u5b50\u7c7b\u578b\u5e76\u8fd4\u56de\u65b0\u7c7b\u578b</li> </ul> <pre><code>/**\n * Construct a type with the properties of T except for those in type K.\n */\ntype Omit&lt;T, K extends keyof any&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;;\n</code></pre> <p>\u6848\u4f8b\uff1a</p> <pre><code>type Person = {\n  name: string,\n  age: number,\n  job: {\n    salary: number\n  }\n}\n\nconst CustomPerson: Partial&lt;Person&gt; = {}\nconst OnlyJobPerson: Omit&lt;Person, 'name' | 'age'&gt; = { job: { salary: 3000 } }\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#10ts-utility-types-pickexcludepartial-omit","title":"10.TS \u7684 Utility Types-Pick\u3001Exclude\u3001Partial \u548c Omit \u5b9e\u73b0","text":"<ul> <li><code>Pick</code>\uff1a\u7ecf\u8fc7 \u6cdb\u578b\u7ea6\u675f \u751f\u6210\u4e00\u4e2a\u65b0\u7c7b\u578b\uff08\u7406\u89e3\u4e3a\u5b50\u7c7b\u578b\uff1f\uff09</li> </ul> <pre><code>/**\n * From T, pick a set of properties whose keys are in the union K\n */\ntype Pick&lt;T, K extends keyof T&gt; = {\n    [P in K]: T[P];\n};\n</code></pre> <ul> <li><code>Exclude</code>\uff1a \u5982\u679c <code>T</code> \u662f <code>U</code> \u7684\u5b50\u7c7b\u578b\u5219\u8fd4\u56de <code>never</code> \u4e0d\u662f\u5219\u8fd4\u56de <code>T</code></li> </ul> <pre><code>/**\n * Exclude from T those types that are assignable to U\n */\ntype Exclude&lt;T, U&gt; = T extends U ? never : T;\n</code></pre> <ul> <li><code>keyof</code>\uff1a\u7d22\u5f15\u7c7b\u578b\u67e5\u8be2\u64cd\u4f5c\u7b26(\u5bf9\u4e8e\u4efb\u4f55\u7c7b\u578b <code>T</code>\uff0c<code>keyof T</code>\u7684\u7ed3\u679c\u4e3a <code>T</code> \u4e0a\u5df2\u77e5\u7684\u516c\u5171\u5c5e\u6027\u540d\u7684\u8054\u5408\u3002)</li> </ul> <pre><code>let man: keyof Person\n// \u76f8\u5f53\u4e8e let man: 'name' | 'age' | 'job'\n// keyof Man === 'name' | 'age' | 'job' // true ???\n</code></pre> <p><code>T[K]</code>\uff1a\u7d22\u5f15\u8bbf\u95ee\u64cd\u4f5c\u7b26\uff08\u9700\u8981\u786e\u4fdd\u7c7b\u578b\u53d8\u91cf <code>K extends keyof T</code>\uff09</p> <p><code>in</code>\uff1a\u904d\u5386</p> <p><code>extends</code>\uff1a\u6cdb\u578b\u7ea6\u675f</p> <p><code>TS</code> \u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u53ef\u4ee5\u7406\u89e3\u4e3a\uff1a\u7c7b\u578b\u7ea6\u675f\u7cfb\u7edf</p> <p>\u2014\u2014\u770b\u5230\u8fd9\u91cc\u2014\u2014</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#css-in-js","title":"\u4e94\u3001\u7528 CSS-in-JS \u6dfb\u52a0\u6837\u5f0f","text":""},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#1antdemotion","title":"1.antd+emotion","text":"<pre><code>npm i antd --force\n</code></pre> <ul> <li><code>jira-dev-tool</code> \u4f9d\u8d56\u6811\u4e2d\u5305\u542b antd\uff0c\u53ef\u5c1d\u8bd5\u4e0d\u5b89\u88c5\u76f4\u63a5\u4f7f\u7528</li> <li> <p>\u9274\u4e8e <code>jira-dev-tool</code> \u957f\u65f6\u95f4\u6ca1\u6709\u66f4\u65b0\uff0c\u4f9d\u8d56\u6811\u6709\u8f83\u591a\u95ee\u9898\uff0c\u5efa\u8bae\u6e05\u7406 <code>node_modules</code>\uff0c\u6267\u884c <code>npm i --force</code> \u91cd\u65b0\u5b89\u88c5\u4f9d\u8d56</p> </li> <li> <p>\u5728 <code>src\\index.tsx</code> \u4e2d\u5f15\u5165 <code>antd.less</code>\uff08\u4e00\u5b9a\u8981\u5728 <code>jira-dev-tool</code> \u4e4b\u540e\u5f15\u5165\uff0c\u4ee5\u4fbf\u540e\u7eed\u4fee\u6539\u4e3b\u9898\u6837\u5f0f\u80fd\u591f\u8986\u76d6\u5230 <code>jira-dev-tool</code>\uff09</p> </li> </ul> <pre><code>import { loadDevTools } from \"jira-dev-tool\";\nimport 'antd/dist/antd.less'\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#craco","title":"\u5b89\u88c5 craco","text":"<p>\u4e3a\u5bf9 <code>create-react-app</code> \u8fdb\u884c\u81ea\u5b9a\u4e49\u914d\u7f6e\uff0c\u9700\u8981\u5b89\u88c5 <code>craco</code> \u548c\u5b83\u7684\u5b50\u4f9d\u8d56 <code>craco-less</code>:</p> <pre><code>npm i @craco/craco --force\nnpm i -D craco-less --force\n</code></pre> <p>https://4x.ant.design/docs/react/use-with-create-react-app-cn#\u9ad8\u7ea7\u914d\u7f6e</p> <ul> <li>\u6309\u6587\u6863\u4e2d\uff0c\u66ff\u6362 <code>package.json</code> \u4e2d\u811a\u672c\u6307\u4ee4</li> </ul> <pre><code>\"scripts\": {\n-   \"start\": \"react-scripts start\",\n-   \"build\": \"react-scripts build\",\n-   \"test\": \"react-scripts test\",\n+   \"start\": \"craco start\",\n+   \"build\": \"craco build\",\n+   \"test\": \"craco test\",\n}\n</code></pre> <p>\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u65b0\u5efa\u6587\u4ef6 <code>craco.config.js</code>\uff0c\u590d\u5236\u6587\u6863\u4e2d\u5bf9\u5e94\u90e8\u5206\u4ee3\u7801\uff0c\u5e76\u914d\u7f6e\u9700\u8981\u4fee\u6539\u7684\u4e3b\u9898\u53d8\u91cf\uff1a</p> <pre><code>const CracoLessPlugin = require('craco-less');\n\nmodule.exports = {\n  plugins: [\n    {\n      plugin: CracoLessPlugin,\n      options: {\n        lessLoaderOptions: {\n          lessOptions: {\n            modifyVars: { '@primary-color': 'rgb(0, 82, 204)', '@font-size-base': '16px' },\n            javascriptEnabled: true,\n          },\n        },\n      },\n    },\n  ],\n};\n</code></pre> <ul> <li><code>npm start</code> \u91cd\u65b0\u542f\u52a8\u9879\u76ee</li> </ul>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#antd","title":"antd \u7ec4\u4ef6\u66ff\u6362\u539f\u751f\u7ec4\u4ef6","text":"<ul> <li>\u5148\u4fee\u6539\u767b\u5f55\u9875\u9762 <code>src\\unauthenticated-app\\login.tsx</code>:</li> </ul> <pre><code>import { useAuth } from \"context/auth-context\";\nimport { Form, Button, Input } from \"antd\"\n\nexport const Login = () =&gt; {\n  const { login, user } = useAuth();\n  const handleSubmit = (values: { username: string, password: string }) =&gt; {\n    login(values);\n  };\n  return (\n    &lt;Form onFinish={handleSubmit}&gt;\n      &lt;Form.Item name='username' rules={[{ required: true, message: '\u8bf7\u8f93\u5165\u7528\u6237\u540d' }]}&gt;\n        &lt;Input placeholder=\"\u7528\u6237\u540d\" type=\"text\" id=\"username\" /&gt;\n      &lt;/Form.Item&gt;\n      &lt;Form.Item name='password' rules={[{ required: true, message: '\u8bf7\u8f93\u5165\u5bc6\u7801' }]}&gt;\n        &lt;Input placeholder=\"\u5bc6\u7801\" type=\"password\" id=\"password\" /&gt;\n      &lt;/Form.Item&gt;\n      &lt;Form.Item&gt;\n        &lt;Button htmlType=\"submit\" type=\"primary\"&gt;\u767b\u5f55&lt;/Button&gt;\n      &lt;/Form.Item&gt;\n    &lt;/Form&gt;\n  );\n};\n</code></pre> <ul> <li>\u67e5\u770b\u9875\u9762\u6548\u679c\uff0c\u5e76\u5c1d\u8bd5 \u767b\u5f55 \u529f\u80fd</li> <li>\u4fee\u6539\u6ce8\u518c\u9875\u9762 <code>src\\unauthenticated-app\\register.tsx</code>:</li> </ul> <pre><code>import { useAuth } from \"context/auth-context\";\nimport { Form, Button, Input } from \"antd\"\n\nexport const Register = () =&gt; {\n  const { register, user } = useAuth();\n  const handleSubmit = (values: { username: string, password: string }) =&gt; {\n    register(values);\n  };\n  return (\n    &lt;Form onFinish={handleSubmit}&gt;\n      &lt;Form.Item name='username' rules={[{ required: true, message: '\u8bf7\u8f93\u5165\u7528\u6237\u540d' }]}&gt;\n        &lt;Input placeholder=\"\u7528\u6237\u540d\" type=\"text\" id=\"username\" /&gt;\n      &lt;/Form.Item&gt;\n      &lt;Form.Item name='password' rules={[{ required: true, message: '\u8bf7\u8f93\u5165\u5bc6\u7801' }]}&gt;\n        &lt;Input placeholder=\"\u5bc6\u7801\" type=\"password\" id=\"password\" /&gt;\n      &lt;/Form.Item&gt;\n      &lt;Form.Item&gt;\n        &lt;Button htmlType=\"submit\" type=\"primary\"&gt;\u6ce8\u518c&lt;/Button&gt;\n      &lt;/Form.Item&gt;\n    &lt;/Form&gt;\n  );\n};\n</code></pre> <ul> <li>\u4ece\u767b\u5f55\u9875\u5207\u6362\u5230\u6ce8\u518c\u9875\uff0c\u67e5\u770b\u9875\u9762\u6548\u679c\uff0c\u5e76\u5c1d\u8bd5 \u6ce8\u518c \u529f\u80fd</li> <li>\u63a5\u4e0b\u6765\u4fee\u6539 <code>src\\unauthenticated-app\\index.tsx</code>\uff1a</li> </ul> <pre><code>import { useState } from \"react\";\nimport { Login } from \"./login\";\nimport { Register } from \"./register\";\nimport { Card, Button } from 'antd';\n\nexport const UnauthenticatedApp = () =&gt; {\n  const [isRegister, setIsRegister] = useState(false);\n  return (&lt;Card style={{ display: 'flex', justifyContent: 'center' }}&gt;\n      {isRegister ? &lt;Register /&gt; : &lt;Login /&gt;}\n      &lt;Button type='primary' onClick={() =&gt; setIsRegister(!isRegister)}&gt;\n        \u5207\u6362\u5230{isRegister ? \"\u767b\u5f55\" : \"\u6ce8\u518c\"}\n      &lt;/Button&gt;\n    &lt;/Card&gt;\n  );\n};\n</code></pre> <p>\u73b0\u5728\u8f83\u4e4b\u524d\u9875\u9762\u597d\u770b\u591a\u4e86</p> <ul> <li>\u4fee\u6539 <code>src\\screens\\ProjectList\\components\\List.tsx</code>(\u90e8\u5206\u672a\u6539\u52a8\u7701\u7565)\uff1a</li> </ul> <pre><code>import { Table } from \"antd\";\nimport { User } from \"./SearchPanel\";\n...\nexport const List = ({ users, list }: ListProps) =&gt; {\n  return &lt;Table pagination={false} columns={[{\n    title: '\u540d\u79f0',\n    dataIndex: 'name',\n    sorter: (a, b) =&gt; a.name.localeCompare(b.name)\n  }, {\n    title: '\u8d1f\u8d23\u4eba',\n    render: (text, project) =&gt; &lt;span&gt;{users.find((user) =&gt; user.id === project.personId)?.name || \"\u672a\u77e5\"}&lt;/span&gt;\n  }]} dataSource={list}&gt;&lt;/Table&gt;\n};\n</code></pre> <p>localeCompare \u53ef\u6392\u5e8f\u4e2d\u6587\u5b57\u7b26 \u5728\u5f15\u5165 antd \u7684 Table \u540e\uff0c\u5148\u4e0d\u7ed9 columns \u5c5e\u6027\u8d4b\u503c\uff0c\u800c\u662f\u5148\u8d4b\u503c dataSource\uff0c\u7136\u540e\u5c06\u9f20\u6807\u653e\u4e8e columns \u4e0a\uff0c\u8fd9\u65f6\u4fbf\u53ef\u89c1\uff1a (property) TableProps.columns?: ColumnsType | undefined TS \u7684\u7c7b\u578b\u63a8\u65ad\u8d77\u4f5c\u7528\u4e86\uff1a <p>\u901a\u8fc7 list \u7684\u503c\u7c7b\u578b\u4e3a Project[] \uff0c\u63a8\u65ad\u51fa dataSource?: RcTableProps['data'] \u4e2d data \u7c7b\u578b\u4e3a Project[] \u63a8\u65ad\u51fa dataSource?: RcTableProps['data'] \u4e2d RecordType \u7c7b\u578b\u4e3a Project[] \u63a8\u65ad\u51fa columns \u7c7b\u578b\u4e3a (property) TableProps.columns?: ColumnsType | undefined <ul> <li>\u4fee\u6539 <code>src\\screens\\ProjectList\\components\\SearchPanel.tsx</code></li> </ul> <pre><code>import { Form, Input, Select } from \"antd\";\n...\nexport const SearchPanel = ({ users, param, setParam }: SearchPanelProps) =&gt; {\n  return (\n    &lt;Form&gt;\n      &lt;Input\n        type=\"text\"\n        value={param.name}\n        onChange={(evt) =&gt;\n          setParam({\n            ...param,\n            name: evt.target.value,\n          })\n        }\n      /&gt;\n      &lt;Select\n        value={param.personId}\n        onChange={value =&gt;\n          setParam({\n            ...param,\n            personId: value,\n          })\n        }\n      &gt;\n        &lt;Select.Option value=\"\"&gt;\u8d1f\u8d23\u4eba&lt;/Select.Option&gt;\n        {users.map((user) =&gt; (\n          &lt;Select.Option key={user.id} value={user.id}&gt;\n            {user.name}\n          &lt;/Select.Option&gt;\n        ))}\n      &lt;/Select&gt;\n    &lt;/Form&gt;\n  );\n};\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#2css-in-js","title":"2.CSS-in-JS","text":"<p>CSS-in-JS \u4e0d\u662f\u6307\u67d0\u4e00\u4e2a\u5177\u4f53\u7684\u5e93\uff0c\u662f\u6307\u7ec4\u7ec7CSS\u4ee3\u7801\u7684\u4e00\u79cd\u65b9\u5f0f\uff0c\u4ee3\u8868\u5e93\u6709 styled-component \u548c emotion</p> <p>(1)\u4f20\u7edfCSS\u7684\u7f3a\u9677</p> <p>\u2460\u7f3a\u4e4f\u6a21\u5757\u7ec4\u7ec7 \u4f20\u7edf\u7684JS\u548cCSS\u90fd\u6ca1\u6709\u6a21\u5757\u7684\u6982\u5ff5\uff0c\u540e\u6765\u5728JS\u754c\u9646\u7eed\u6709\u4e86 CommonJS \u548c ECMAScript Module\uff0cCSS-in-JS\u53ef\u4ee5\u7528\u6a21\u5757\u5316\u7684\u65b9\u5f0f\u7ec4\u7ec7CSS\uff0c\u4f9d\u6258\u4e8eJS\u7684\u6a21\u5757\u5316\u65b9\u6848\uff0c\u6bd4\u5982\uff1a</p> <pre><code>// button1.ts\nimport styled from '@emotion/styled'\n\nexport const Button = styled.button`\n  color: turquoise;\n`\n\n\n// button2.ts\nimport styled from '@emotion/styled'\nexport const Button = styled.button`\n  font-size: 16px;\n`\n</code></pre> <p>\u2461\u7f3a\u4e4f\u4f5c\u7528\u57df</p> <p>\u4f20\u7edf\u7684CSS\u53ea\u6709\u4e00\u4e2a\u5168\u5c40\u4f5c\u7528\u57df\uff0c\u6bd4\u5982\u8bf4\u4e00\u4e2aclass\u53ef\u4ee5\u5339\u914d\u5168\u5c40\u7684\u4efb\u610f\u5143\u7d20\u3002\u968f\u7740\u9879\u76ee\u6210\u957f\uff0cCSS\u4f1a\u53d8\u5f97\u8d8a\u6765\u8d8a\u96be\u4ee5\u7ec4\u7ec7\uff0c\u6700\u7ec8\u5bfc\u81f4\u5931\u63a7\u3002CSS-in-JS\u53ef\u4ee5\u901a\u8fc7\u751f\u6210\u72ec\u7279\u7684\u9009\u62e9\u7b26\uff0c\u6765\u5b9e\u73b0\u4f5c\u7528\u57df\u7684\u6548\u679c</p> <pre><code>const css = styleBlock =&gt; {\n  const className = someHash(styleBlock);\n  const styleEl = document.createElement('style');\n  styleEl.textContent = `\n    .${className} {\n      ${styleBlock}\n    }\n  `;\n  document.head.appendChild(styleEl);\n  return className;\n};\nconst className = css(`\n  color: red;\n  padding: 20px;\n`); // 'c23j4'\n</code></pre> <p>\u2462\u9690\u5f0f\u4f9d\u8d56\uff0c\u8ba9\u6837\u5f0f\u96be\u4ee5\u8ffd\u8e2a</p> <p>\u6bd4\u5982\u8fd9\u4e2aCSS\u6837\u5f0f\uff1a</p> <pre><code>.target .name h1 {\n  color: red\n}\n\nbody #container h1 {\n  color: green\n}\n</code></pre> <p>\u2463\u6ca1\u6709\u53d8\u91cf</p> <p>\u4f20\u7edf\u7684CSS\u89c4\u5219\u91cc\u6ca1\u6709\u53d8\u91cf\uff0c\u4f46\u662f\u5728 CSS-in-JS \u4e2d\u53ef\u4ee5\u65b9\u4fbf\u5730\u63a7\u5236\u53d8\u91cf</p> <pre><code>const Container = styled.div(props =&gt; ({\n  display: 'flex',\n  flexDirection: props.column &amp;&amp; 'column'\n}))\n</code></pre> <p>\u2464CSS\u9009\u62e9\u5668\u4e0eHTML\u5143\u7d20\u8026\u5408</p> <pre><code>.target .name h1 {\n  color: red\n}\n\nbody #container h1 {\n  color: green\n}\n</code></pre> <p>\u5982\u679c\u4f60\u60f3\u628a h1 \u6539\u6210h2\uff0c\u5fc5\u987b\u8981\u540c\u65f6\u6539\u52a8 CSS \u548c HTML\u3002\u800c\u5728CSS-in-JS\u4e2d\uff0cHTML\u548cCSS\u662f\u7ed3\u5408\u5728\u4e00\u8d77\u7684\uff0c\u6613\u4e8e\u4fee\u6539</p> <p>(2)Emotion \u4ecb\u7ecd Emotion \u662f\u76ee\u524d\u6700\u53d7\u6b22\u8fce\u7684 CSS-in-JS \u5e93\u4e4b\u4e00\uff0c\u5b83\u8fd8\u5bf9 React \u4f5c\u4e86\u5f88\u597d\u7684\u9002\u5e94\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5730\u521b\u5efa styled component\uff0c\u4e5f\u652f\u6301\u5199\u884c\u5185\u6837\u5f0f\uff1a</p> <pre><code>/** @jsx jsx */\nimport { jsx } from '@emotion/react'\n\nrender(\n  &lt;div\n    css={{\n      backgroundColor: 'hotpink',\n      '&amp;:hover': {\n        color: 'lightgreen'\n      }\n    }}\n  &gt;\n    This has a hotpink background.\n  &lt;/div&gt;\n)\n</code></pre> <p>\u8fd9\u79cd\u5199\u6cd5\u6bd4\u8d77React\u81ea\u5e26\u7684style\u7684\u5199\u6cd5\u529f\u80fd\u66f4\u5f3a\u5927\uff0c\u6bd4\u5982\u53ef\u4ee5\u5904\u7406\u7ea7\u8054\u3001\u4f2a\u7c7b\u7b49style\u5904\u7406\u7684\u4e0d\u4e86\u7684\u60c5\u51b5</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#3emotion","title":"3.emotion &amp; \u767b\u5f55\u6ce8\u518c\u9875\u7f8e\u5316","text":""},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#_5","title":"\u5168\u5c40\u6837\u5f0f","text":"<ul> <li>\u7f16\u8f91 <code>src\\App.css</code> \u6e05\u9664\u539f\u6709\u6837\u5f0f\uff0c\u586b\u5165\u5982\u4e0b\u5185\u5bb9\uff1a</li> </ul> <pre><code>html {\n  /* rem em */\n  /* em \u76f8\u5bf9\u4e8e\u7236\u5143\u7d20\u7684 font-size */\n  /* rem \u76f8\u5bf9\u4e8e\u6839\u5143\u7d20\u7684 font-size\uff0cr root */\n  /* \u6d4f\u89c8\u5668\u9ed8\u8ba4 font-size 16px */\n  /* 16px * 62.5% = 10px */\n  /* 1rem === 10px */\n  font-size: 62.5%;\n}\n\nhtml body #root .App {\n  min-height: 100vh;\n}\n</code></pre> <p>\u5220\u6389\u6587\u4ef6 <code>src\\index.css</code> \u5e76\u53bb\u6389\u5728 <code>src\\index.tsx</code> \u4e2d\u7684\u5f15\u7528\uff0c\u540e\u7eed\u5168\u5c40\u6837\u5f0f\u90fd\u5728 <code>src\\App.css</code> \u4e2d\u6dfb\u52a0</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#emotion","title":"\u5b89\u88c5 emotion","text":"<pre><code>npm i @emotion/react @emotion/styled --force\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#emotion_1","title":"\u539f\u751f\u6807\u7b7e\u4f7f\u7528 emotion","text":"<p>\u7f16\u8f91 <code>src\\unauthenticated-app\\index.tsx</code>(\u90e8\u5206\u539f\u6709\u5185\u5bb9\u7701\u7565)</p> <pre><code>...\nimport { Card, Button } from \"antd\";\nimport styled from \"@emotion/styled\";\n\nexport const UnauthenticatedApp = () =&gt; {\n  ...\n  return (\n    &lt;Container&gt;\n      &lt;Card&gt;\n        ...\n      &lt;/Card&gt;\n    &lt;/Container&gt;\n  );\n};\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-height: 100vh;\n  justify-content: center;\n`\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#antd-emotion","title":"antd \u6807\u7b7e\u4f7f\u7528 emotion","text":"<p>\u7ee7\u7eed\u7f16\u8f91 <code>src\\unauthenticated-app\\index.tsx</code>(\u90e8\u5206\u539f\u6709\u5185\u5bb9\u7701\u7565)</p> <pre><code>...\nimport { Card, Button } from \"antd\";\nimport styled from \"@emotion/styled\";\n\nexport const UnauthenticatedApp = () =&gt; {\n  ...\n  return (\n    &lt;Container&gt;\n      &lt;ShadowCard&gt;\n        ...\n      &lt;/ShadowCard&gt;\n    &lt;/Container&gt;\n  );\n};\n\nconst ShadowCard = styled(Card)`\n  width: 40rem;\n  min-height: 56rem;\n  padding: 3.2rem 4rem;\n  border-radius: 0.3rem;\n  box-sizing: border-box;\n  box-shadow: rgba(0,0,0,0.1) 0 0 10px;\n  text-align: center; \n`\n...\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#_6","title":"\u8fdb\u4e00\u6b65\u7f8e\u5316","text":"<p>\u65b0\u5efa <code>src\\assets</code>\uff0c\u5c06\u9884\u7f6e svg \u6587\u4ef6\u653e\u5165(left.svg\u3001logo.svg\u3001right.svg)</p> <p>\u7ee7\u7eed\u7f16\u8f91 <code>src\\unauthenticated-app\\index.tsx</code>(\u90e8\u5206\u539f\u6709\u5185\u5bb9\u7701\u7565)\uff1a\u5207\u6362\u6587\u6848\u4fee\u6539\u5e76\u4f7f\u7528 <code>link</code> \u7c7b\u578b <code>button</code>\uff1b\u6dfb\u52a0 logo\u3001\u6807\u9898\u548c\u80cc\u666f\u56fe</p> <pre><code>...\nimport { Card, Button, Divider } from \"antd\";\nimport styled from \"@emotion/styled\";\nimport left from 'assets/left.svg'\nimport logo from 'assets/logo.svg'\nimport right from 'assets/right.svg'\n\nexport const UnauthenticatedApp = () =&gt; {\n  ...\n  return (\n    &lt;Container&gt;\n      &lt;Header/&gt;\n      &lt;Background/&gt;\n      &lt;ShadowCard&gt;\n        &lt;Title&gt;\n          {isRegister ? '\u8bf7\u6ce8\u518c' : '\u8bf7\u767b\u5f55'}\n        &lt;/Title&gt;\n        {isRegister ? &lt;Register /&gt; : &lt;Login /&gt;}\n        &lt;Divider/&gt;\n        &lt;Button type=\"link\" onClick={() =&gt; setIsRegister(!isRegister)}&gt;\n          \u5207\u6362\u5230{isRegister ? \"\u5df2\u7ecf\u6709\u8d26\u53f7\u4e86\uff1f\u76f4\u63a5\u767b\u5f55\" : \"\u6ca1\u6709\u8d26\u53f7\uff1f\u6ce8\u518c\u65b0\u8d26\u53f7\"}\n        &lt;/Button&gt; \n      &lt;/ShadowCard&gt;\n    &lt;/Container&gt;\n  );\n};\n\nconst Title = styled.h2`\n  margin-bottom: 2.4rem;\n  color: rgb(94, 108, 132);\n`\n\nconst Background = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-repeat: no-repeat;\n  background-attachment: fixed; // \u80cc\u666f\u56fe\u7247\u662f\u5426\u4f1a\u968f\u7740\u9875\u9762\u6ed1\u52a8\n  background-position: left bottom, right bottom;\n  background-size: calc(((100vw - 40rem) / 2) - 3.2rem), calc(((100vw - 40rem) / 2) - 3.2rem), cover;\n  background-image: url(${left}), url(${right});\n`\n\nconst Header = styled.header`\n  background: url(${logo}) no-repeat center;\n  padding: 5rem 0;\n  background-size: 8rem;\n  width: 100%;\n`\n...\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#4gridflexbox","title":"4.\u7528Grid\u548cFlexbox\u5e03\u5c40\u4f18\u5316\u9879\u76ee\u5217\u8868\u9875\u9762","text":"<p>\u7f16\u8f91 <code>src\\authenticated-app.tsx</code></p> <pre><code>import styled from \"@emotion/styled\";\nimport { useAuth } from \"context/auth-context\";\nimport { ProjectList } from \"screens/ProjectList\";\n\n/**\n * grid \u548c flex \u5404\u81ea\u7684\u5e94\u7528\u573a\u666f\n * 1. \u8981\u8003\u8651\uff0c\u662f\u4e00\u7ef4\u5e03\u5c40 \u8fd8\u662f \u4e8c\u7ef4\u5e03\u5c40\n * \u4e00\u822c\u6765\u8bf4\uff0c\u4e00\u7ef4\u5e03\u5c40\u7528flex\uff0c\u4e8c\u7ef4\u5e03\u5c40\u7528grid\n * 2. \u662f\u4ece\u5185\u5bb9\u51fa\u53d1\u8fd8\u662f\u4ece\u5e03\u5c40\u51fa\u53d1\uff1f\n * \u4ece\u5185\u5bb9\u51fa\u53d1\uff1a\u4f60\u5148\u6709\u4e00\u7ec4\u5185\u5bb9(\u6570\u91cf\u4e00\u822c\u4e0d\u56fa\u5b9a),\u7136\u540e\u5e0c\u671b\u4ed6\u4eec\u5747\u5300\u7684\u5206\u5e03\u5728\u5bb9\u5668\u4e2d\uff0c\u7531\u5185\u5bb9\u81ea\u5df1\u7684\u5927\u5c0f\u51b3\u5b9a\u5360\u636e\u7684\u7a7a\u95f4\n * \u4ece\u5e03\u5c40\u51fa\u53d1\uff1a\u5148\u89c4\u5212\u7f51\u683c(\u6570\u91cf\u4e00\u822c\u6bd4\u8f83\u56fa\u5b9a)\uff0c\u7136\u540e\u518d\u628a\u5143\u7d20\u5f80\u91cc\u586b\u5145\n * \u4ece\u5185\u5bb9\u51fa\u53d1\uff0c\u7528flex\n * \u4ece\u5e03\u5c40\u51fa\u53d1\uff0c\u7528grid\n */\n\nexport const AuthenticatedApp = () =&gt; {\n  const { logout } = useAuth();\n  return (\n    &lt;Container&gt;\n      &lt;Header&gt;\n        &lt;HeaderLeft&gt;\n          &lt;h3&gt;Logo&lt;/h3&gt;\n          &lt;h3&gt;\u9879\u76ee&lt;/h3&gt;\n          &lt;h3&gt;\u7528\u6237&lt;/h3&gt;\n        &lt;/HeaderLeft&gt;\n        &lt;HeaderRight&gt;\n          &lt;button onClick={logout}&gt;\u767b\u51fa&lt;/button&gt;\n        &lt;/HeaderRight&gt;\n      &lt;/Header&gt;\n      &lt;Nav&gt;Nav&lt;/Nav&gt;\n      &lt;Main&gt;\n        &lt;ProjectList /&gt;\n      &lt;/Main&gt;\n      &lt;Aside&gt;Aside&lt;/Aside&gt;\n      &lt;Footer&gt;Footer&lt;/Footer&gt;\n    &lt;/Container&gt;\n  );\n};\nconst Container = styled.div`\n  display: grid;\n  grid-template-rows: 6rem 1fr 6rem; // 3\u884c\u6bcf\u884c\u9ad8\u5ea6\uff08fr \u5355\u4f4d\u662f\u4e00\u4e2a\u81ea\u9002\u5e94\u5355\u4f4d\uff0c\u8868\u793a\u5269\u4f59\u7a7a\u95f4\u4e2d\u6240\u5360\u6bd4\u4f8b\uff09\n  grid-template-columns: 20rem 1fr 20rem;\n  grid-template-areas:\n    \"header header header\"\n    \"nav main aside\"\n    \"footer footer footer\";\n  /* grid-gap: 10rem; // \u6bcf\u90e8\u5206\u4e4b\u95f4\u7684\u95f4\u9694 */\n  height: 100vh;\n`;\n\n// grid-area \u7528\u6765\u7ed9 grid \u5b50\u5143\u7d20\u8d77\u540d\u5b57\nconst Header = styled.header`\n  grid-area: header;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n`;\nconst HeaderLeft = styled.div`\n  display: flex;\n  align-items: center;\n`;\nconst HeaderRight = styled.div``;\nconst Main = styled.main`\n  grid-area: main;\n  /* height: calc(100vh - 6rem); */\n`;\nconst Nav = styled.nav`\n  grid-area: nav;\n`;\nconst Aside = styled.aside`\n  grid-area: aside;\n`;\nconst Footer = styled.footer`\n  grid-area: footer;\n`;\n</code></pre> <p>grid \u548c flex \u5404\u81ea\u7684\u5e94\u7528\u573a\u666f</p> <p>1.\u8981\u8003\u8651\uff0c\u662f\u4e00\u7ef4\u5e03\u5c40 \u8fd8\u662f \u4e8c\u7ef4\u5e03\u5c40</p> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u4e00\u7ef4\u5e03\u5c40\u7528flex\uff0c\u4e8c\u7ef4\u5e03\u5c40\u7528grid 2.\u662f\u4ece\u5185\u5bb9\u51fa\u53d1\u8fd8\u662f\u4ece\u5e03\u5c40\u51fa\u53d1\uff1f</p> <p>\u4ece\u5185\u5bb9\u51fa\u53d1\uff1a\u4f60\u5148\u6709\u4e00\u7ec4\u5185\u5bb9(\u6570\u91cf\u4e00\u822c\u4e0d\u56fa\u5b9a),\u7136\u540e\u5e0c\u671b\u4ed6\u4eec\u5747\u5300\u7684\u5206\u5e03\u5728\u5bb9\u5668\u4e2d\uff0c\u7531\u5185\u5bb9\u81ea\u5df1\u7684\u5927\u5c0f\u51b3\u5b9a\u5360\u636e\u7684\u7a7a\u95f4 \u4ece\u5e03\u5c40\u51fa\u53d1\uff1a\u5148\u89c4\u5212\u7f51\u683c(\u6570\u91cf\u4e00\u822c\u6bd4\u8f83\u56fa\u5b9a)\uff0c\u7136\u540e\u518d\u628a\u5143\u7d20\u5f80\u91cc\u586b\u5145 \u4ece\u5185\u5bb9\u51fa\u53d1\uff0c\u7528flex \u4ece\u5e03\u5c40\u51fa\u53d1\uff0c\u7528grid</p> <ul> <li>CSS Grid: Holy Grail Layout | DigitalOcean</li> </ul>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#5-emotion","title":"5.\u4f7f\u7528 emotion \u81ea\u5b9a\u4e49\u6837\u5f0f\u7ec4\u4ef6","text":"<p>\u533a\u522b\u4e8e <code>react</code> \u7684\u529f\u80fd\u7ec4\u4ef6 <code>emotion</code> \u7ec4\u4ef6\u6211\u4eec\u79f0\u5176\u4e3a \u6837\u5f0f\u7ec4\u4ef6</p> <p>\u65b0\u5efa <code>src\\components\\lib.tsx</code>(emotion \u81ea\u5b9a\u4e49\u6837\u5f0f\u7ec4\u4ef6\u5e93):</p> <pre><code>import styled from '@emotion/styled'\n\nexport const Row = styled.div&lt;{\n  gap?: number | boolean,\n  butween?: boolean,\n  marginBottom?: number\n}&gt;`\n  display: flex;\n  align-items: center;\n  justify-content: ${props =&gt; props.butween ? 'space-between' : undefined };\n  margin-bottom: ${ props =&gt; props.marginBottom + 'rem' };\n  &gt; * {\n    /* \u76f4\u63a5\u5b50\u5143\u7d20\u5f3a\u5236\u63a7\u5236\u6837\u5f0f */\n    margin-top: 0 !important;\n    margin-bottom: 0 !important;\n    margin-right: ${ props =&gt; typeof props.gap === 'number' ? props.gap + 'rem' : props.gap ? '2rem' : undefined };\n  }\n`\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#6","title":"6.\u5b8c\u5584\u9879\u76ee\u5217\u8868\u9875\u9762\u6837\u5f0f","text":"<p>\u7f16\u8f91 <code>src\\screens\\ProjectList\\components\\SearchPanel.tsx</code>\uff08\u4f7f\u7528<code>Form.Item</code>\u3001 <code>emotion</code> \u7684 <code>css</code> \u5c5e\u6027\uff09:</p> <pre><code>// /** @jsx jsx */\n// import { jsx } from '@emotion/react'\n/** @jsxImportSource @emotion/react */\n...\nexport const SearchPanel = ({ users, param, setParam }: SearchPanelProps) =&gt; {\n  return (\n    &lt;Form css={{ marginBottom: '2rem', '&gt;*': '' }} layout=\"inline\"&gt;\n      &lt;Form.Item&gt;\n        &lt;Input placeholder='\u9879\u76ee\u540d' ... /&gt;\n      &lt;/Form.Item&gt;\n      &lt;Form.Item&gt;\n        &lt;Select&gt;...&lt;/Select&gt;\n      &lt;/Form.Item&gt;\n    &lt;/Form&gt;\n  );\n};\n</code></pre> <p>\u5728\u4f7f\u7528 emotion \u7684 css \u5c5e\u6027\u65f6 \u9700\u8981\u6ce8\u610f\uff0c\u7531\u4e8e React 17 \u7684\u81ea\u52a8\u5bfc\u5165\u7834\u574f\u4e86 @emotion \u81ea\u8eab\u8fd0\u884c\u65f6\u7684\u652f\u6301\uff0c\u4ece\u800c\u5c06\u5bfc\u81f4 emotion \u7684 jsx \u8fd0\u884c\u65f6\u5bfc\u5165\u540e\u672a\u4f7f\u7528\uff0c\u4e5f\u5c31\u65e0\u6cd5\u4f7f\u7528 emotion \u7684 css \u5c5e\u6027\u5c06 /** @jsx jsx / \u6539\u4e3a /* @jsxImportSource @emotion/react / \u5373\u53ef \u622a\u6b622023.05.04\uff0c\u5b98\u65b9\u6587\u6863\u4e2d\u4f9d\u65e7\u662f /* @jsx jsx */ \u7684\u5bfc\u5165\u65b9\u5f0f\uff1aEmotion \u2013 The css Prop</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#7","title":"7.\u9057\u7559\u95ee\u9898\u5904\u7406","text":"<pre><code>src\\utils\\index.ts\n</code></pre> <p>\u89e3\u5f00 <code>@ts-ignore</code> \"\u5c01\u5370\"\u7684\u62a5\u9519</p> <pre><code>...\nexport const isVoid = (val: unknown) =&gt; val === undefined || val === null || val === ''\n\nexport const cleanObject = (obj: { [key: string]: unknown }) =&gt; {\n  const res = { ...obj };\n  Object.keys(res).forEach((key) =&gt; {\n    const val = res[key];\n    if (isVoid(val)) {\n      delete res[key];\n    }\n  });\n  return res;\n};  \n\nexport const useMount = (cbk: () =&gt; void) =&gt;\n  useEffect(() =&gt; {\n    // TODO \u4f9d\u8d56\u9879\u91cc\u52a0\u4e0acallback \u4f1a\u9020\u6210\u65e0\u9650\u5faa\u73af\uff0c\u8fd9\u4e2a\u548c useCallback \u4ee5\u53ca useMemo \u76f8\u5173\n    cbk();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n...\n</code></pre> <p>object \u7c7b\u578b\u6db5\u76d6\u5f88\u5e7f(function\u3001new RegExp('')\u2026)\uff0c\u82e5\u53ea\u662f\u60f3\u7528\u952e\u503c\u5bf9\u7684\u5f62\u5f0f\u53ef\u4ee5\u4f7f\u7528\u4e0a\u9762\u6240\u793a\u7684\u5f62\u5f0f { [key: string]: unknown } \u82e5 val = res[key] \u7684\u503c\u662f false \u6216\u662f false \u7684\u5b57\u9762\u91cf\uff0cisFalsy \u4e5f\u4f1a\u8bc6\u522b\uff0c\u7136\u540e\u5c31\u4f1a\u6709 bug\uff0c\u6bd4\u5982 checked\uff0cvisible \u7b49</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#-","title":"\u516d\u3001\u7528\u6237\u4f53\u9a8c\u4f18\u5316 - \u52a0\u8f7d\u4e2d\u548c\u9519\u8bef\u72b6\u6001\u5904\u7406","text":""},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#1-loading-error","title":"1.\u7ed9\u9875\u9762\u6dfb\u52a0 Loading \u548c Error \u72b6\u6001\uff0c\u589e\u52a0\u9875\u9762\u53cb\u597d\u6027","text":"<p>\u4fee\u6539 <code>src\\screens\\ProjectList\\index.tsx</code>\uff08\u65b0\u589e loading \u72b6\u6001 \u548c \u8bf7\u6c42\u9519\u8bef\u63d0\u793a\uff09\uff08\u90e8\u5206\u672a\u4fee\u6539\u5185\u5bb9\u7701\u7565\uff09\uff1a</p> <pre><code>...\nimport { Typography } from \"antd\";\n\nexport const ProjectList = () =&gt; {\n  const [users, setUsers] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState&lt;null | Error&gt;(null);\n\n  ...\n\n  useEffect(() =&gt; {\n    setIsLoading(true)\n    // React Hook \"useHttp\" cannot be called inside a callback. React Hooks must be called in a React function component or a custom React Hook function.\n    client(\"projects\", { data: cleanObject(lastParam) }).then(setList)\n      .catch(error =&gt; {\n        setList([])\n        setError(error)\n      })\n      .finally(() =&gt; setIsLoading(false));\n    // React Hook useEffect has a missing dependency: 'client'. Either include it or remove the dependency array.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [lastParam]);\n\n  ...\n\n  return (\n    &lt;Container&gt;\n      &lt;h1&gt;\u9879\u76ee\u5217\u8868&lt;/h1&gt;\n      &lt;SearchPanel users={users} param={param} setParam={setParam} /&gt;\n      {error ? &lt;Typography.Text type=\"danger\"&gt;{error.message}&lt;/Typography.Text&gt; : null}\n      &lt;List loading={isLoading} users={users} dataSource={list} /&gt;\n    &lt;/Container&gt;\n  );\n};\n\n...\n</code></pre> <p>\u4fee\u6539 <code>src\\screens\\ProjectList\\components\\List.tsx</code>\uff08<code>ListProps</code> \u7ee7\u627f <code>TableProps</code>, <code>Table</code> \u7684\u5c5e\u6027\uff08\u900f\u4f20\uff09\uff09\uff08\u90e8\u5206\u672a\u4fee\u6539\u5185\u5bb9\u7701\u7565\uff09\uff1a</p> <pre><code>import { Table, TableProps } from \"antd\";\n...\n\ninterface ListProps extends TableProps&lt;Project&gt; {\n  users: User[];\n}\n\n// type PropsType = Omit&lt;ListProps, 'users'&gt;\nexport const List = ({ users, ...props }: ListProps) =&gt; {\n  return (\n    &lt;Table\n      pagination={false}\n      columns={...}\n      { ...props }\n    &gt;&lt;/Table&gt;\n  );\n};\n</code></pre> <p>\u4e3a\u65b9\u4fbf\u540e\u7eed\u5728\u7ec4\u4ef6\u5916\u518d\u6b21\u914d\u7f6e <code>Table</code> \u7684\u5c5e\u6027\uff08\u900f\u4f20\uff09\uff0c\u76f4\u63a5\u8ba9 <code>ListProps</code> \u7ee7\u627f <code>TableProps</code>, <code>TableProps</code> \u5355\u72ec\u62bd\u51fa\u5230 <code>props</code></p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#2-hook-useasync-loading-error","title":"2.\u7528\u9ad8\u7ea7 Hook-useAsync \u7edf\u4e00\u5904\u7406 Loading \u548c Error \u72b6\u6001","text":"<p>\u65b0\u5efa <code>src\\utils\\use-async.ts</code> (\u7edf\u4e00\u5bf9 \u5f02\u6b65\u72b6\u6001 \u548c \u8bf7\u6c42\u6570\u636e \u7684\u7ba1\u7406)\uff1a</p> <pre><code>import { useState } from \"react\";\n\ninterface State&lt;D&gt; {\n  error: Error | null;\n  data: D | null;\n  stat: 'ready' | 'loading' | 'error' | 'success'\n}\n\nconst defaultInitialState: State&lt;null&gt; = {\n  stat: 'ready',\n  data: null,\n  error: null\n}\n\nexport const useAsync = &lt;D&gt;(initialState?: State&lt;D&gt;) =&gt; {\n  const [state, setState] = useState&lt;State&lt;D&gt;&gt;({\n    ...defaultInitialState,\n    ...initialState\n  })\n\n  const setData = (data: D) =&gt; setState({\n    data,\n    stat: 'success',\n    error: null\n  })\n\n  const setError = (error: Error) =&gt; setState({\n    error,\n    stat: 'error',\n    data: null\n  })\n\n  // run \u6765\u89e6\u53d1\u5f02\u6b65\u8bf7\u6c42\n  const run = (promise: Promise&lt;D&gt;) =&gt; {\n    if(!promise || !promise.then) {\n      throw new Error('\u8bf7\u4f20\u5165 Promise \u7c7b\u578b\u6570\u636e')\n    }\n    setState({...state, stat: 'loading'})\n    return promise.then(data =&gt; {\n      setData(data)\n      return data\n    }).catch(error =&gt; {\n      setError(error)\n      return error\n    })\n  }\n\n  return {\n    isReady: state.stat === 'ready',\n    isLoading: state.stat === 'loading',\n    isError: state.stat === 'error',\n    isSuccess: state.stat === 'success',\n    run,\n    setData,\n    setError,\n    ...state\n  }\n}\n</code></pre> <p>\u4fee\u6539 <code>src\\screens\\ProjectList\\components\\List.tsx</code> (\u5c06 <code>Project</code> \u5bfc\u51fa\uff0c\u4ee5\u4fbf\u540e\u7eed\u5f15\u7528)\uff08\u90e8\u5206\u672a\u4fee\u6539\u5185\u5bb9\u7701\u7565\uff09\uff1a</p> <p>\u4fee\u6539 <code>src\\screens\\ProjectList\\index.tsx</code> \uff08\u90e8\u5206\u672a\u4fee\u6539\u5185\u5bb9\u7701\u7565\uff09\uff1a</p> <ul> <li>\u5220\u53bb\u4e4b\u524d <code>loading</code> \u548c <code>error</code> \u76f8\u5173\u5185\u5bb9\uff1b</li> <li>\u5220\u53bb <code>client</code> \u5f02\u6b65\u8bf7\u6c42 <code>then</code> \u53ca\u540e\u7eed\u64cd\u4f5c\uff1b</li> <li>\u4f7f\u7528 <code>useAsync</code> \u7edf\u4e00\u5904\u7406 \u5f02\u6b65\u72b6\u6001 \u548c \u8bf7\u6c42\u6570\u636e\uff1b</li> </ul> <pre><code>...\nimport { List, Project } from \"./components/List\";\n...\nimport { useAsync } from \"utils/use-async\";\n\nexport const ProjectList = () =&gt; {\n  const [users, setUsers] = useState([]);\n  const [param, setParam] = useState({\n    name: \"\",\n    personId: \"\",\n  });\n\n  // \u5bf9 param \u8fdb\u884c\u9632\u6296\u5904\u7406\n  const lastParam = useDebounce(param);\n  const client = useHttp();\n  const { run, isLoading, error, data: list } = useAsync&lt;Project[]&gt;();\n\n  useEffect(() =&gt; {\n    run(client(\"projects\", { data: cleanObject(lastParam) }))\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [lastParam]);\n\n  useMount(() =&gt; client(\"users\").then(setUsers));\n\n  return (\n    &lt;Container&gt;\n      ...\n      &lt;List loading={isLoading} users={users} dataSource={list || []} /&gt;\n    &lt;/Container&gt;\n  );\n};\n...\n</code></pre> <p>\u65b0\u5efa <code>src\\utils\\project.ts</code> (\u5355\u72ec\u5904\u7406 Project \u6570\u636e\u7684\u5f02\u6b65\u8bf7\u6c42)\uff1a</p> <pre><code>import { cleanObject } from \"utils\";\nimport { useHttp } from \"./http\";\nimport { useAsync } from \"./use-async\";\nimport { useEffect } from \"react\";\nimport { Project } from \"screens/ProjectList/components/List\";\n\nexport const useProjects = (param?: Partial&lt;Project&gt;) =&gt; {\n  const client = useHttp();\n  const { run, ...result } = useAsync&lt;Project[]&gt;();\n\n  useEffect(() =&gt; {\n    run(client(\"projects\", { data: cleanObject(param || {}) }))\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [param]);\n\n  return result\n}\n</code></pre> <p>\u65b0\u5efa <code>src\\utils\\use-users.ts</code> (\u5355\u72ec\u5904\u7406 User \u6570\u636e\u7684\u5f02\u6b65\u8bf7\u6c42)\uff1a</p> <pre><code>import { cleanObject } from \"utils\";\nimport { useHttp } from \"./http\";\nimport { useAsync } from \"./use-async\";\nimport { useEffect } from \"react\";\nimport { User } from \"screens/ProjectList/components/SearchPanel\";\n\nexport const useUsers = (param?: Partial&lt;User&gt;) =&gt; {\n  const client = useHttp();\n  const { run, ...result } = useAsync&lt;User[]&gt;();\n\n  useEffect(() =&gt; {\n    run(client(\"users\", { data: cleanObject(param || {}) }))\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [param]);\n\n  return result\n}\n</code></pre> <p>\u518d\u6b21\u4fee\u6539 <code>src\\screens\\ProjectList\\index.tsx</code> \uff08\u90e8\u5206\u672a\u4fee\u6539\u5185\u5bb9\u7701\u7565\uff09\uff1a</p> <ul> <li><code>Project</code> \u548c <code>User</code> \u6570\u636e\u83b7\u53d6\u5206\u522b\u5355\u72ec\u62bd\u79bb</li> </ul> <pre><code>import { SearchPanel } from \"./components/SearchPanel\";\nimport { List } from \"./components/List\";\nimport { useState } from \"react\";\nimport { useDebounce } from \"utils\";\nimport styled from \"@emotion/styled\";\nimport { Typography } from \"antd\";\nimport { useProjects } from \"utils/project\";\nimport { useUsers } from \"utils/use-users\";\n\nexport const ProjectList = () =&gt; {\n  const [param, setParam] = useState({\n    name: \"\",\n    personId: \"\",\n  });\n\n  // \u5bf9 param \u8fdb\u884c\u9632\u6296\u5904\u7406\u540e\u63a5\u5165\u8bf7\u6c42\n  const { isLoading, error, data: list } = useProjects(useDebounce(param));\n  const { data: users } = useUsers();\n\n  return (\n    &lt;Container&gt;\n      &lt;h1&gt;\u9879\u76ee\u5217\u8868&lt;/h1&gt;\n      &lt;SearchPanel users={users || []} param={param} setParam={setParam} /&gt;\n      {error ? (\n        &lt;Typography.Text type=\"danger\"&gt;{error.message}&lt;/Typography.Text&gt;\n      ) : null}\n      &lt;List loading={isLoading} users={users || []} dataSource={list || []} /&gt;\n    &lt;/Container&gt;\n  );\n};\n...\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#3-loading-error-event-loop","title":"3.\u767b\u5f55\u6ce8\u518c\u9875\u9762 Loading \u548c Error \u72b6\u6001\u5904\u7406\uff0c\u4e0e Event Loop \u8be6\u89e3","text":"<p>\u5217\u8868\u9875\u7684 \u5f02\u6b65\u72b6\u6001 \u5f04\u5b8c\uff0c\u63a5\u4e0b\u6765\u662f\u767b\u5f55\u6ce8\u518c\u9875\u4e86</p> <p>\u4fee\u6539 src\\unauthenticated-app\\index.tsx\uff08\u65b0\u589e error \u72b6\u6001\u5904\u7406\uff0c\u5c06 error j\u76d1\u542c\u64cd\u4f5c \u4ea4\u7ed9 \u767b\u5f55\u6ce8\u518c\u9875\uff09\uff1a</p> <pre><code>...\nimport { Card, Button, Divider, Typography } from \"antd\";\n...\n\nexport const UnauthenticatedApp = () =&gt; {\n  ...\n  const [error, setError] = useState&lt;Error | null&gt;(null);\n  return (\n    &lt;Container&gt;\n      ...\n      &lt;ShadowCard&gt;\n        &lt;Title&gt;{isRegister ? \"\u8bf7\u6ce8\u518c\" : \"\u8bf7\u767b\u5f55\"}&lt;/Title&gt;\n        { error ? &lt;Typography.Text type=\"danger\"&gt;{error.message}&lt;/Typography.Text&gt; : null }\n        {isRegister ? &lt;Register onError={setError}/&gt; : &lt;Login onError={setError}/&gt;}\n        &lt;Divider /&gt;\n        ...\n      &lt;/ShadowCard&gt;\n    &lt;/Container&gt;\n  );\n};\n...\n</code></pre> <p>\u4fee\u6539 <code>src\\unauthenticated-app\\login.tsx</code>\uff08\u4f20\u5165 <code>onError</code> \u5e76\u5728\u5f02\u6b65\u64cd\u4f5c\u540e <code>catch</code> \u4e2d\u4f7f\u7528\uff09\uff1a</p> <pre><code>...\nexport const Login = ({onError}: { onError: (error: Error) =&gt; void }) =&gt; {\n  ...\n  const handleSubmit = (values: { username: string; password: string }) =&gt; {\n    login(values).catch(e =&gt; onError(e))\n  };\n  ...\n};\n...\n</code></pre> <p>\u540c\u7406\u4fee\u6539 <code>src\\unauthenticated-app\\register.tsx</code>\uff1a</p> <pre><code>...\nexport const Register = ({onError}: { onError: (error: Error) =&gt; void }) =&gt; {\n  ...\n  const handleSubmit = (values: { username: string; password: string }) =&gt; {\n    register(values).catch(e =&gt; onError(e))\n  };\n  ...\n};\n...\n</code></pre> <p>\u4f7f\u7528\u975e\u9884\u8bbe\u7528\u6237\u540d\u5bc6\u7801\u68c0\u9a8c\uff1a\u6ca1\u53cd\u5e94\u3002\u3002\u3002\u4f46\u662f\u63a7\u5236\u53f0\u6253\u5370\u51fa\u4e86\u521a\u8f93\u5165\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002\u3002\u3002</p> <p>\u901a\u8fc7\u767b\u5f55\u7684\u8c03\u7528\u94fe\u53ef\u4ee5\u627e\u5230 \u5bfc\u81f4\u8fd9\u4e2a\u95ee\u9898\u7684\u539f\u56e0\uff1asrc\\auth-provider.ts</p> <p>!res.ok \u65f6\uff0c\u8fd4\u56de\u4e86 Promise.reject(data) \uff0c\u800c data \u662f\u8bf7\u6c42\u5165\u53c2\uff0c\u8fd9\u663e\u7136\u4e0d\u662f\u9884\u60f3\u7684\u6548\u679c\uff08\u6ce8\u518c\u540c\u7406\uff09\uff0c\u4fee\u6539\u8fd9\u90e8\u5206\u4e3a Promise.reject(await res.json()) \u4fee\u6539\u540e\u518d\u6b21\u68c0\u9a8c\uff0c\u6210\u4e86\uff01</p> <p>Promise.catch \u56fa\u7136\u597d\u7528\uff0c\u4f46\u63a5\u4e0b\u6765\u6362\u4e2a\u601d\u8def\uff0c\u4f7f\u7528 try..catch \u5e76\u5f15\u51fa Event Loop\u3002</p> <p>\u5148\u4fee\u6539 src\\unauthenticated-app\\login.tsx \u8bd5\u8bd5\u6c34\uff1a</p> <pre><code>...\nexport const Login = ({onError}: { onError: (error: Error) =&gt; void }) =&gt; {\n  ...\n  const handleSubmit = (values: { username: string; password: string }) =&gt; {\n    try {\n      // login(values).catch(e =&gt; onError(e))\n      login(values);\n    } catch(e: Error | any) {\n      onError(e)\n    }\n  };\n  ...\n};\n...\n</code></pre> <p>\u63a7\u5236\u53f0\u8f93\u51fa\u6b63\u5e38\uff0c\u4f46\u662f\u754c\u9762\u6ca1\u6709\u6548\u679c\u3002\u3002\u3002</p> <p>\u95ee\u9898\u51fa\u5728 login \u662f\u5f02\u6b65\u64cd\u4f5c\uff0c\u7a0b\u5e8f\u4e2d\u4f1a\u4f18\u5148\u6267\u884c\u540c\u6b65\u64cd\u4f5c\uff0c\u7136\u540e\u624d\u4f1a\u5f02\u6b65\u64cd\u4f5c\uff0c\u6240\u4ee5 onError \u4f18\u5148\u6267\u884c\uff0c\u5e76\u6ca1\u6709\u62ff\u5230\u540e\u7aef\u8fd4\u56de\u7684\u62a5\u9519\u4fe1\u606f</p> <p>\u518d\u6b21\u4fee\u6539 src\\unauthenticated-app\\login.tsx \uff08\u4f7f\u7528 async await \u5904\u7406\u5f02\u6b65\u64cd\u4f5c\uff09\uff1a \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014</p> <pre><code>...\nexport const Login = ({onError}: { onError: (error: Error) =&gt; void }) =&gt; {\n  ...\n  const handleSubmit = async (values: { username: string; password: string }) =&gt; {\n    try {\n      // login(values).catch(e =&gt; onError(e))\n      await login(values);\n    } catch(e: Error | any) {\n      onError(e)\n    }\n  };\n  ...\n};\n...\n</code></pre> <p>\u8fd9\u6837\u4fbf\u6b63\u5e38\u5566!</p> <p>\u63a5\u4e0b\u6765\u7ed9\u6ce8\u518c\u9875\u65b0\u589e\u786e\u8ba4\u5bc6\u7801\u529f\u80fd</p> <p>\u4fee\u6539 <code>src\\unauthenticated-app\\register.tsx</code> \uff08\u65b0\u589e\u786e\u8ba4\u5bc6\u7801\u7684 <code>Form.Item</code> \u548c \u76f8\u5173\u5904\u7406\u903b\u8f91\uff09\uff1a</p> <pre><code>...\nexport const Register = ({onError}: { onError: (error: Error) =&gt; void }) =&gt; {\n  const { register, user } = useAuth();\n  const handleSubmit = ({ cpassword, ...values }: { username: string, password: string, cpassword: string }) =&gt; {\n    if (cpassword === values.password) {\n      register(values).catch(e =&gt; onError(e));\n    } else {\n      onError(new Error('\u8bf7\u786e\u8ba4\u4e24\u6b21\u7684\u8f93\u5165\u5bc6\u7801\u76f8\u540c'))\n      return\n    }\n  };\n  return (\n    &lt;Form onFinish={handleSubmit}&gt;\n      &lt;Form.Item\n        name=\"username\"\n        rules={[{ required: true, message: \"\u8bf7\u8f93\u5165\u7528\u6237\u540d\" }]}\n      &gt;\n        &lt;Input placeholder=\"\u7528\u6237\u540d\" type=\"text\" id=\"username\" /&gt;\n      &lt;/Form.Item&gt;\n      &lt;Form.Item\n        name=\"password\"\n        rules={[{ required: true, message: \"\u8bf7\u8f93\u5165\u5bc6\u7801\" }]}\n      &gt;\n        &lt;Input placeholder=\"\u5bc6\u7801\" type=\"password\" id=\"password\" /&gt;\n      &lt;/Form.Item&gt;\n      &lt;Form.Item\n        name=\"cpassword\"\n        rules={[{ required: true, message: \"\u8bf7\u786e\u8ba4\u5bc6\u7801\" }]}\n      &gt;\n        &lt;Input placeholder=\"\u786e\u8ba4\u5bc6\u7801\" type=\"password\" id=\"cpassword\" /&gt;\n      &lt;/Form.Item&gt;\n      &lt;Form.Item&gt;\n        &lt;LongButton htmlType=\"submit\" type=\"primary\"&gt;\n          \u6ce8\u518c\n        &lt;/LongButton&gt;\n      &lt;/Form.Item&gt;\n    &lt;/Form&gt;\n  );\n};\n</code></pre> <p>\u518d\u63a5\u7740\u4e3a \u767b\u5f55\u6ce8\u518c\u9875 \u6dfb\u52a0\u5f02\u6b65\u72b6\u6001 <code>Loading</code> \u7684\u5904\u7406\uff1a</p> <pre><code>...\nimport { useAsync } from \"utils/use-async\";\n\nexport const Login = ({onError}: { onError: (error: Error) =&gt; void }) =&gt; {\n  const { login, user } = useAuth();\n  const { run, isLoading } = useAsync()\n\n  const handleSubmit = async (values: { username: string; password: string }) =&gt; {\n    try {\n      // login(values).catch(e =&gt; onError(e))\n      await run(login(values))\n    } catch(e: Error | any) {\n      onError(e)\n    }\n  };\n  return (\n    &lt;Form onFinish={handleSubmit}&gt;\n      ...\n      &lt;Form.Item&gt;\n        &lt;LongButton loading={isLoading} htmlType=\"submit\" type=\"primary\"&gt;\n          \u767b\u5f55\n        &lt;/LongButton&gt;\n      &lt;/Form.Item&gt;\n    &lt;/Form&gt;\n  );\n};\n...\n</code></pre> <p>\u68c0\u9a8c\u4e00\u4e0b\uff0c\u6ca1\u6709\u6548\u679c\uff0c\u4f46\u662f\u63a7\u5236\u53f0\u629b\u51fa 400 \u9519\u8bef\u4e86\uff0c\u6392\u67e5\u4e00\u4e0b</p> <p>try..catch \u4e2d\u7684 onError \u6ca1\u63a5\u6536\u5230\uff0c\u552f\u4e00\u7684\u53d8\u6570\u5c31\u662f\u8fd9\u4e2a run \u4e86 \u67e5\u770b\u4e00\u4e0b\uff0c\u679c\u7136\u62a5\u9519\u88ab run \u5185\u90e8\u6d88\u5316\u4e86\uff0c\u6ca1\u6709\u6b63\u5e38\u629b\u51fa\uff08\u5c06 catch \u5230\u7684 error throw \u6216\u662f\u7528 Promise.reject \u5305\u88f9\u8fd4\u56de\u90fd\u662f\u53ef\u4ee5\u7684\uff0c\u5efa\u8bae\u4f7f\u7528\u540e\u8005\uff09 \u4fee\u6539 src\\utils\\use-async.ts\uff1a</p> <pre><code>...\nexport const useAsync = &lt;D&gt;(initialState?: State&lt;D&gt;) =&gt; {\n  ...\n  // run \u6765\u89e6\u53d1\u5f02\u6b65\u8bf7\u6c42\n  const run = (promise: Promise&lt;D&gt;) =&gt; {\n    ...\n    return promise\n      .then(...)\n      .catch((error) =&gt; {\n        // catch \u4f1a\u6d88\u5316\u5f02\u5e38\uff0c\u5982\u679c\u4e0d\u4e3b\u52a8\u629b\u51fa\uff0c\u5916\u9762\u662f\u63a5\u6536\u4e0d\u5230\u5f02\u5e38\u7684\n        setError(error);\n        // return error; // \u539f\u4ee3\u7801\n        // throw error;\n        return Promise.reject(error);\n      });\n  };\n  ...\n};\n</code></pre> <p>\u68c0\u9a8c\u4e00\u4e0b\uff0c\u6b63\u5e38 catch \u5e76 \u5c55\u793a\u62a5\u9519\u4fe1\u606f</p> <p>try\u2026catch only works for runtime errors (try\u2026catch \u53ea\u80fd\u5904\u7406\u6709\u6548\u4ee3\u7801\u4e4b\u4e2d\u7684\u5f02\u5e38) try\u2026catch works synchronously(try\u2026catch \u53ea\u80fd\u5904\u7406\u540c\u6b65\u4ee3\u7801\u4e4b\u4e2d\u7684\u5f02\u5e38) \u95ee\u9898\u662f\u89e3\u51b3\u4e86\uff0c\u4f46\u8fd9\u6837 try\u2026catch \u8fd8\u662f\u6709\u4e9b\u62d6\u6ce5\u5e26\u6c34\u7684\u611f\u89c9\uff0c\u7ee7\u7eed\u4f18\u5316\uff1a</p> <p>\u4fee\u6539 src\\utils\\use-async.ts\uff08\u589e\u52a0\u662f\u5426\u629b\u51fa\u5f02\u5e38\u7684\u914d\u7f6e\uff0c\u6765\u5408\u7406\u5316\u903b\u8f91\uff09\uff1a \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014</p> <pre><code>...\nconst defaultConfig = {\n  throwOnError: false\n}\n\nexport const useAsync = &lt;D&gt;(initialState?: State&lt;D&gt;, initialConfig?: typeof defaultConfig) =&gt; {\n  const config = {...defaultConfig, ...initialConfig}\n  ...\n\n  // run \u6765\u89e6\u53d1\u5f02\u6b65\u8bf7\u6c42\n  const run = (promise: Promise&lt;D&gt;) =&gt; {\n    ...\n    return promise\n      .then((data) =&gt; {\n        setData(data);\n        return data;\n      })\n      .catch((error) =&gt; {\n        // catch \u4f1a\u6d88\u5316\u5f02\u5e38\uff0c\u5982\u679c\u4e0d\u4e3b\u52a8\u629b\u51fa\uff0c\u5916\u9762\u662f\u63a5\u6536\u4e0d\u5230\u5f02\u5e38\u7684\n        setError(error);\n        return config.throwOnError ? Promise.reject(error) : error;\n      });\n  };\n  ...\n};\n</code></pre> <p>\u4fee\u6539 <code>src\\unauthenticated-app\\login.tsx</code> \uff08\u4f20\u5165 <code>{ throwOnError: true }</code>\uff09\uff1a</p> <pre><code>...\nexport const Login = ({onError}: { onError: (error: Error) =&gt; void }) =&gt; {\n  ...\n  const { run, isLoading } = useAsync(undefined, { throwOnError: true })\n  ...\n};\n...\n</code></pre> <p>\u540c\u7406\u4fee\u6539 <code>src\\unauthenticated-app\\register.tsx</code> \uff1a</p> <pre><code>...\nexport const Register = ({onError}: { onError: (error: Error) =&gt; void }) =&gt; {\n  ...\n  const { run, isLoading } = useAsync(undefined, { throwOnError: true })\n\n  const handleSubmit = async ({ cpassword, ...values }: { username: string, password: string, cpassword: string }) =&gt; {\n    if (cpassword === values.password) {\n      try {\n        await run(register(values))\n      } catch (e: Error | any) {\n        onError(e)\n      }\n    } else {\n      onError(new Error('\u8bf7\u786e\u8ba4\u4e24\u6b21\u7684\u8f93\u5165\u5bc6\u7801\u76f8\u540c'))\n      return\n    }\n  };\n  return (\n    &lt;Form onFinish={handleSubmit}&gt;\n      ...\n      &lt;Form.Item&gt;\n        &lt;LongButton loading={isLoading} htmlType=\"submit\" type=\"primary\"&gt;\n          \u6ce8\u518c\n        &lt;/LongButton&gt;\n      &lt;/Form.Item&gt;\n    &lt;/Form&gt;\n  );\n};\n</code></pre> <p>\u6700\u540e\u6536\u5c3e\uff0c\u4fee\u6539 <code>src\\unauthenticated-app\\index.tsx</code> \uff08\u5207\u6362\u767b\u5f55\u548c\u6ce8\u518c\u65f6\uff0c<code>error</code> \u6e05\u7a7a\uff09\uff1a</p> <pre><code>...\nexport const UnauthenticatedApp = () =&gt; {\n  const [isRegister, setIsRegister] = useState(false);\n  const [error, setError] = useState&lt;Error | null&gt;(null);\n  return (\n    &lt;Container&gt;\n      ...\n      &lt;ShadowCard&gt;\n        ...\n        &lt;Button type=\"link\" onClick={() =&gt; { setIsRegister(!isRegister); setError(null) }}&gt;\n          \u5207\u6362\u5230{isRegister ? \"\u5df2\u7ecf\u6709\u8d26\u53f7\u4e86\uff1f\u76f4\u63a5\u767b\u5f55\" : \"\u6ca1\u6709\u8d26\u53f7\uff1f\u6ce8\u518c\u65b0\u8d26\u53f7\"}\n        &lt;/Button&gt;\n      &lt;/ShadowCard&gt;\n    &lt;/Container&gt;\n  );\n};\n...\n</code></pre> <p>\u68c0\u9a8c\u6548\u679c\uff0c\u5b8c\u7f8e\uff01</p> <p>\u62d3\u5c55\u5b66\u4e60\uff08\u5f15\u7528\u81ea\uff1a\u9ad8\u85aa\u4e4b\u8def\u2014\u524d\u7aef\u9762\u8bd5\u7cbe\u9009\u96c6-\u6155\u8bfe\u4e13\u680f\uff09</p> <p>js \u662f\u5355\u7ebf\u7a0b\u7684\uff0c\u5f02\u6b65\u5728 js \u4e2d\u662f\u53cd\u76f4\u89c9\u7684\u5b58\u5728</p> <p>\u5224\u65ad\u6253\u5370\u987a\u5e8f\uff1a</p> <pre><code>console.log('script start')\nsetTimeout(function(){\n  console.log('setTimeout');\n},0);\nnew Promise(function(resolve){\n  console.log('promise1');\n  resolve();\n  console.log('promise2');\n}).then(function(){\n  console.log('promise then');\n});\nconsole log('script end');\n\nscript start\npromise1\npromise2\nscript end\npromise then\nsetTimeout\n</code></pre> <p>\u56e0\u4e3aJavaScript\u4e2d\u67092\u79cd\u4efb\u52a1\uff1a</p> <p>\u5b8f\u4efb\u52a1(macro-task)\uff1a\u540c\u6b65 script(\u6574\u4f53\u4ee3\u7801)\uff0csetTimeout \u56de\u8c03\u51fd\u6570\uff0csetlnterval \u56de\u8c03\u51fd\u6570\uff0cl/O\uff0cUl rendering; \u5fae\u4efb\u52a1(micro-task)\uff1aprocess.nextTick\uff0cPromise \u56de\u8c03\u51fd\u6570\uff0c Object.observe\uff0cMutationObserver \u5176\u6267\u884c\u7684\u987a\u5e8f\u662f\u8fd9\u6837\u7684:</p> <p>\u9996\u5148 JavaScript \u5f15\u64ce\u4f1a\u6267\u884c\u4e00\u4e2a\u5b8f\u4efb\u52a1\uff0c\u6ce8\u610f\u8fd9\u4e2a\u5b8f\u4efb\u52a1\u4e00\u822c\u662f\u6307\u4e3b\u5e72\u4ee3\u7801\u672c\u8eab\uff0c\u4e5f\u5c31\u662f\u76ee\u524d\u7684\u540c\u6b65\u4ee3\u7801\uff1b \u6267\u884c\u8fc7\u7a0b\u4e2d\u5982\u679c\u9047\u5230\u5fae\u4efb\u52a1\uff0c\u5c31\u628a\u5b83\u6dfb\u52a0\u5230\u5fae\u4efb\u52a1\u4efb\u52a1\u961f\u5217\u4e2d\uff1b \u5b8f\u4efb\u52a1\u6267\u884c\u5b8c\u6210\u540e\uff0c\u7acb\u5373\u6267\u884c\u5f53\u524d\u5fae\u4efb\u52a1\u961f\u5217\u4e2d\u7684\u5fae\u4efb\u52a1\uff0c\u76f4\u5230\u5fae\u4efb\u52a1\u961f\u5217\u88ab\u6e05\u7a7a\uff1b \u5fae\u4efb\u52a1\u6267\u884c\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u6267\u884c\u4e0b\u4e00\u4e2a\u5b8f\u4efb\u52a1\uff1b \u5982\u6b64\u5faa\u73af\u5f80\u590d\uff0c\u76f4\u5230\u5b8f\u4efb\u52a1\u548c\u5fae\u4efb\u52a1\u88ab\u6e05\u7a7a\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#4useasync","title":"4.\u7528useAsync\u83b7\u53d6\u7528\u6237\u4fe1\u606f","text":"<p>\u4fee\u6539 <code>src\\components\\lib.tsx</code>\uff08\u65b0\u589e\u5168\u5c4f Loading \u7ec4\u4ef6 \u548c \u5168\u5c4f Error \u5c55\u793a\u7ec4\u4ef6\uff09\uff1a</p> <pre><code>import { Spin, Typography } from \"antd\";\nimport { DevTools } from \"jira-dev-tool\";\n\n...\nconst FullPage = styled.div`\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const FullPageLoading = () =&gt; &lt;FullPage&gt;\n  &lt;Spin size=\"large\"/&gt;\n&lt;/FullPage&gt;\n\nexport const FullPageErrorFallback = ({error}: {error: Error | null}) =&gt; &lt;FullPage&gt;\n  &lt;DevTools/&gt;\n  &lt;Typography.Text type=\"danger\"&gt;{error?.message}&lt;/Typography.Text&gt;\n&lt;/FullPage&gt;\n</code></pre> <ul> <li>\u4e3a\u4e86\u5c55\u793a\u62a5\u9519\u4fe1\u606f\u7684\u540c\u65f6\uff0cDevTools \u4f9d\u65e7\u5c55\u793a\uff0c\u9700\u8981\u5f15\u5165</li> </ul> <p>\u4fee\u6539 <code>src\\context\\auth-context.tsx</code>\uff08\u4f7f\u7528 <code>useAsync</code> \u6539\u9020\uff0c\u5e76\u65b0\u589e\u5168\u5c4f <code>Loading</code> \u7ec4\u4ef6 \u548c \u5168\u5c4f <code>Error</code> \u5c55\u793a\u7ec4\u4ef6\uff09\uff08\u90e8\u5206\u672a\u4fee\u6539\u5185\u5bb9\u7701\u7565\uff09\uff1a</p> <pre><code>...\nimport { useAsync } from \"utils/use-async\";\nimport { FullPageErrorFallback, FullPageLoading } from \"components/lib\";\n\n...\n\nexport const AuthProvider = ({ children }: { children: ReactNode }) =&gt; {\n  // \u8fd9\u91cc\u8981\u8003\u8651\u5230\u521d\u59cb\u503c\u7684\u7c7b\u578b\u4e0e\u540e\u7eed\u503c\u7c7b\u578b\uff0c\u53d6\u5e76\u7ec4\u6210\u4e00\u4e2a\u6cdb\u578b\n  // const [user, setUser] = useState&lt;User | null&gt;(null);\n  const { data: user, error, isLoading, isReady, isSuccess, isError, run, setData: setUser } = useAsync&lt;User | null&gt;()\n\n  ...\n\n  useMount(() =&gt; run(initUser()));\n\n  if (isReady || isLoading) {\n    return &lt;FullPageLoading/&gt;\n  }\n\n  if (isError) {\n    return &lt;FullPageErrorFallback error={error}/&gt;\n  }\n\n  return (...);\n};\n...\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#5-error-boundaries","title":"5.\u5b9e\u73b0 Error Boundaries\uff0c\u6355\u83b7\u8fb9\u754c\u9519\u8bef","text":"<p>\u4fee\u6539 <code>src\\unauthenticated-app\\index.tsx</code>\uff08\u65b0\u589e\u4e00\u4e2a\u201c\u629b\u51fa\u5f02\u5e38\u201d\u6309\u94ae\uff09\uff1a</p> <pre><code>...\nexport const UnauthenticatedApp = () =&gt; {\n  ...\n  return (\n    &lt;Container&gt;\n      &lt;Header /&gt;\n      &lt;Background /&gt;\n      &lt;Button onClick={() =&gt; {\n        throw new Error('\u70b9\u51fb\u629b\u51fa\u4e00\u4e2a\u5f02\u5e38')\n      }}&gt;\u629b\u51fa\u5f02\u5e38&lt;/Button&gt;\n      &lt;ShadowCard&gt;...&lt;/ShadowCard&gt;\n    &lt;/Container&gt;\n  );\n};\n...\n</code></pre> <p>\u4fee\u6539 <code>src\\authenticated-app.tsx</code>\uff08\u65b0\u589e\u4e00\u4e2a\u53d8\u91cf\u5c55\u793a\u5b83\u4e0d\u5b58\u5728\u7684\u4e00\u4e2a\u5c5e\u6027\uff09\uff1a</p> <pre><code>...\nexport const AuthenticatedApp = () =&gt; {\n  ...\n  const value: any = undefined;\n  ...\n  return (\n    &lt;Container&gt;\n      { value.notExist }\n      ...\n    &lt;/Container&gt;\n  );\n};\n...\n</code></pre> <p>\u7f16\u8bd1\u4ee3\u7801\u5e76\u5168\u5c40\u5b89\u88c5\u63a8\u8350\u7684 <code>serve</code> \u5e93\uff0c\u7136\u540e\u542f\u52a8\u5e76\u8bbf\u95ee\uff1a</p> <pre><code>npm run build\nyarn global add serve\nserve -s build\n</code></pre> <p>\u70b9\u51fb\u201c\u629b\u51fa\u5f02\u5e38\u201d\u6309\u94ae\uff1a</p> <p>\u6d4b\u8bd5\u73af\u5883\uff1a\u9875\u9762\u5c55\u793a\u629b\u51fa\u5f02\u5e38 \u751f\u4ea7\u73af\u5883\uff1a\u9875\u9762\u4e0d\u53d8\uff0c\u63a7\u5236\u53f0\u629b\u51fa\u5f02\u5e38 \u767b\u5f55\u540e\uff1a</p> <p>\u6d4b\u8bd5\u73af\u5883\uff1a\u9875\u9762\u5c55\u793a\u5f02\u5e38\u4fe1\u606f \u751f\u4ea7\u73af\u5883\uff1a\u9875\u9762\u7a7a\u767d\uff0c\u63a7\u5236\u53f0\u6253\u5370\u51fa\u5f02\u5e38\u4fe1\u606f \u8fd9\u4e24\u79cd\u5f02\u5e38\u5bf9\u6bd4\u53ef\u770b\u51fa\uff1a\u5728\u6e32\u67d3\u9636\u6bb5\u51fa\u73b0\u672a\u88ab\u6355\u83b7\u7684\u5f02\u5e38\uff0c\u6574\u4e2a\u7ec4\u4ef6\u6811\u90fd\u4f1a\u88ab\u5378\u8f7d\uff08\u9519\u8bef\u7684\u5c55\u793a\u5185\u5bb9\u6bd4\u7a7a\u767d\u5185\u5bb9\u66f4\u53ef\u6015\uff09</p> <p>\u9519\u8bef\u8fb9\u754c \u2013 React \u63a5\u4e0b\u6765\u5199\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u6355\u83b7\u7ec4\u4ef6 \u2014\u2014 \u65b0\u5efa\uff1asrc\\components\\error-boundary.tsx\uff1a</p> <pre><code>import React, { ReactNode } from \"react\";\n\ntype FallbackRender = (props: { error: Error | null }) =&gt; React.ReactElement\n\n// children: ReactNode\nexport class ErrorBoundary extends React.Component&lt;React.PropsWithChildren&lt;{fallbackRender: FallbackRender}&gt;, { error: Error | null }&gt; {\n  state = { error: null }\n\n  // \u5f53\u5b50\u7ec4\u4ef6\u629b\u51fa\u5f02\u5e38\uff0c\u8fd9\u91cc\u4f1a\u63a5\u53d7\u5230\u5e76\u66f4\u6539 state\n  static getDerivedStateFromError(error: Error) {\n    return { error }\n  }\n\n  render() {\n    const { error } = this.state\n    const { fallbackRender, children } = this.props\n    return error ? fallbackRender({ error }) : children\n  }\n}\n</code></pre> <p>\u5982\u679c\u4e00\u4e2a class \u7ec4\u4ef6\u4e2d\u5b9a\u4e49\u4e86 static getDerivedStateFromError() \u6216 componentDidCatch() \u8fd9\u4e24\u4e2a\u751f\u547d\u5468\u671f\u65b9\u6cd5\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\uff08\u6216\u4e24\u4e2a\uff09\u65f6\uff0c\u90a3\u4e48\u5b83\u5c31\u53d8\u6210\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c React.PropsWithChildren \u662f React \u4e2d\u7684\u4e00\u4e2a Utility Types (\u5de5\u5177\u7c7b\u578b) \u7c7b\u578b\u5904\u7406\u5668\uff0c\u5c06\u4f20\u5165\u5c5e\u6027\u4ee5\u7c7b\u4f3c Object.assign \u7684\u65b9\u5f0f\u5408\u5e76: type PropsWithChildren<p> = P &amp; { children?: ReactNode | undefined }; \u4fee\u6539\uff1asrc\\App.tsx(\u4f7f\u7528\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6 ErrorBoundary \u5305\u88f9\uff0c\u5e76\u5c06\u5f02\u5e38\u5c55\u793a\u5728 FullPageErrorFallback \u4e2d)\uff1a</p> <pre><code>...\nimport { ErrorBoundary } from \"components/error-boundary\";\nimport { FullPageErrorFallback } from \"components/lib\";\n\nfunction App() {\n  ...\n  return (\n    &lt;div className=\"App\"&gt;\n      &lt;ErrorBoundary fallbackRender={FullPageErrorFallback}&gt;\n       {user ? &lt;AuthenticatedApp /&gt; : &lt;UnauthenticatedApp /&gt;}\n      &lt;/ErrorBoundary&gt;\n    &lt;/div&gt;\n  );\n}\n...\n</code></pre> <p>\u91cd\u65b0\u7f16\u8bd1\u4ee3\u7801\u5e76\u91cd\u542fserve,\u7136\u540e\u8bbf\u95ee\uff1a</p> <pre><code>npm run build\nserve -s build\n12\n</code></pre> <p>\u624b\u52a8\u629b\u51fa\u9519\u8bef\u8fd8\u662f\u539f\u6837\uff0c\u6e32\u67d3\u5f02\u5e38\u5bfc\u81f4\u7684\u8fb9\u754c\u9519\u8bef\u88ab\u622a\u83b7\u5e76\u5c55\u793a\uff01</p> <pre><code>Cannot read property 'notExist' of undefined\n</code></pre> <p>\u6d4b\u8bd5\u7ed3\u675f\u540e\u6e05\u9664\u4ee5\u4e0b\u4e24\u4e2a\u6587\u4ef6\u4e2d\u7684\u6d4b\u8bd5\u5185\u5bb9\uff08\u201c\u629b\u51fa\u5f02\u5e38\u201d\u6309\u94ae \u548c \u201cvalue\u201d\uff09\uff1a</p> <ul> <li><code>src\\unauthenticated-app\\index.tsx</code></li> <li><code>src\\authenticated-app.tsx</code></li> </ul>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Hook%2BTS4%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%A1%B9%E7%9B%AE/#7-12","title":"7-12\u8282\u540e\u7eed\u7684\u7b14\u8bb0","text":"<p>\u8fd9\u6b21\u6ca1\u6709\u6574\u7406\u5b8c\uff0c\u8fd9\u662f\u540e\u9762\u7b14\u8bb0\u7684\u94fe\u63a5\uff0c\u6574\u4f53\u7b14\u8bb0\u7ec6\u8282\u5f88\u591a</p> <p>https://iseeu.blog.csdn.net/article/details/132747686</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/","title":"\u4f7f\u7528 React Testing Library \u548c Jest \u5b8c\u6210\u5355\u5143\u6d4b\u8bd5","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 34850  \u9605\u8bfb70\u5206\u949f</p> <p>\u539f\u4f5c\u8005 joking_zhang https://segmentfault.com/u/joking_zhang \u53d1\u5e03\u4e8e 2020-03-18</p> <p>\u539f\u6587\u94fe\u63a5 https://segmentfault.com/a/1190000022054307</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_1","title":"\u5f15\u8a00","text":"<p>\u57282020\u7684\u4eca\u5929\uff0c\u6784\u5efa\u4e00\u4e2a web \u5e94\u7528\u5bf9\u4e8e\u6211\u4eec\u6765\u8bf4\uff0c\u5e76\u975e\u4ec0\u4e48\u96be\u4e8b\u3002\u56e0\u4e3a\u6709\u5f88\u591a\u8db3\u591f\u591a\u4f18\u79c0\u7684\u7684\u524d\u7aef\u6846\u67b6\uff08\u6bd4\u5982 <code>React</code>\uff0c<code>Vue</code> \u548c <code>Angular</code>\uff09\uff1b\u4ee5\u53ca\u4e00\u4e9b\u6613\u7528\u4e14\u5f3a\u5927\u7684UI\u5e93\uff08\u6bd4\u5982 <code>Ant Design</code>\uff09\u4e3a\u6211\u4eec\u4fdd\u9a7e\u62a4\u822a\uff0c\u6781\u5927\u5730\u7f29\u77ed\u4e86\u5e94\u7528\u6784\u5efa\u7684\u5468\u671f\u3002</p> <p>\u4f46\u662f\uff0c\u4e92\u8054\u7f51\u65f6\u4ee3\u4e5f\u6025\u5267\u5730\u6539\u53d8\u4e86\u8bb8\u591a\u8f6f\u4ef6\u8bbe\u8ba1\uff0c\u5f00\u53d1\u548c\u53d1\u5e03\u7684\u65b9\u5f0f\u3002\u5f00\u53d1\u8005\u9762\u4e34\u7684\u95ee\u9898\u662f\uff0c\u9700\u6c42\u8d8a\u6765\u8d8a\u591a\uff0c\u5e94\u7528\u8d8a\u6765\u8d8a\u590d\u6742\uff0c\u65f6\u4e0d\u65f6\u4f1a\u6709\u4e00\u79cd\u5931\u63a7\u7684\u7684\u611f\u89c9\uff0c\u5e76\u5728\u5fc3\u4e2d\u5927\u558a\u4e00\u53e5\uff1a\u201c\u6211\u592a\u5357\u4e86\uff01\u201d\u3002\u4e25\u91cd\u7684\u65f6\u5019\u751a\u81f3\u4f1a\u51fa\u73b0\u6211\u6539\u4e86\u4e00\u884c\u4ee3\u7801\uff0c\u5374\u4e0d\u6e05\u695a\u5176\u5f71\u54cd\u8303\u56f4\u60c5\u51b5\u3002\u8fd9\u79cd\u65f6\u5019\uff0c\u5c31\u9700\u8981\u6d4b\u8bd5\u7684\u65b9\u5f0f\uff0c\u6765\u4fdd\u969c\u6211\u4eec\u5e94\u7528\u7684\u8d28\u91cf\u548c\u7a33\u5b9a\u6027\u4e86\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u8ba9\u6211\u4eec\u5b66\u4e60\u4e0b\uff0c\u5982\u4f55\u7ed9 <code>React</code> \u5e94\u7528\u5199\u5355\u5143\u6d4b\u8bd5\u5427\ud83c\udf81</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_2","title":"\u9700\u8981\u4ec0\u4e48\u6837\u7684\u6d4b\u8bd5","text":"<p>\u8f6f\u4ef6\u6d4b\u8bd5\u662f\u6709\u7ea7\u522b\u7684\uff0c\u4e0b\u9762\u662f\u300aGoogle\u8f6f\u4ef6\u6d4b\u8bd5\u4e4b\u9053\u300b\u4e00\u4e66\u4e2d\uff0c\u5bf9\u4e8e\u6d4b\u8bd5\u8ba4\u8bc1\u7ea7\u522b\u7684\u5b9a\u4e49\uff0c\u6458\u5f55\u5982\u4e0b\uff1a</p> <ul> <li>\u7ea7\u522b1</li> <li>\u4f7f\u7528\u6d4b\u8bd5\u8986\u76d6\u7387\u5de5\u5177\u3002</li> <li>\u4f7f\u7528\u6301\u7eed\u96c6\u6210\u3002</li> <li>\u6d4b\u8bd5\u5206\u7ea7\u4e3a\u5c0f\u578b\u3001\u4e2d\u578b\u3001\u5927\u578b\u3002</li> <li>\u521b\u5efa\u5192\u70df\u6d4b\u8bd5\u96c6\u5408\uff08\u4e3b\u6d41\u7a0b\u6d4b\u8bd5\u7528\u4f8b\uff09\u3002</li> <li> <p>\u6807\u8bb0\u54ea\u4e9b\u6d4b\u8bd5\u662f\u975e\u786e\u5b9a\u6027\u7684\u6d4b\u8bd5\uff08\u6d4b\u8bd5\u7ed3\u679c\u4e0d\u552f\u4e00\uff09\u3002</p> </li> <li> <p>\u7ea7\u522b2</p> </li> <li>\u5982\u679c\u6709\u6d4b\u8bd5\u8fd0\u884c\u7ed3\u679c\u4e3a\u7ea2\u8272\uff08\u5931\u8d25\u274c\uff09\u5c31\u4e0d\u4f1a\u53d1\u5e03\u3002</li> <li>\u6bcf\u6b21\u4ee3\u7801\u63d0\u4ea4\u4e4b\u524d\u90fd\u8981\u6c42\u901a\u8fc7\u5192\u70df\u6d4b\u8bd5\u3002\uff08\u81ea\u6d4b\uff0c\u7b80\u5355\u8d70\u4e0b\u4e3b\u6d41\u7a0b\uff09</li> <li>\u5404\u79cd\u7c7b\u578b\u7684\u6574\u4f53\u4ee3\u7801\u8986\u76d6\u7387\u8981\u5927\u4e8e50%\u3002</li> <li> <p>\u5c0f\u578b\u6d4b\u8bd5\u7684\u8986\u76d6\u7387\u8981\u5927\u4e8e10%\u3002</p> </li> <li> <p>\u7ea7\u522b3</p> </li> <li>\u6240\u6709\u91cd\u8981\u7684\u4ee3\u7801\u53d8\u66f4\u90fd\u8981\u7ecf\u8fc7\u6d4b\u8bd5\u3002</li> <li>\u5c0f\u578b\u6d4b\u8bd5\u7684\u8986\u76d6\u7387\u5927\u4e8e50%\u3002</li> <li> <p>\u65b0\u589e\u91cd\u8981\u529f\u80fd\u90fd\u8981\u901a\u8fc7\u96c6\u6210\u6d4b\u8bd5\u7684\u9a8c\u8bc1\u3002</p> </li> <li> <p>\u7ea7\u522b4</p> </li> <li>\u5728\u63d0\u4ea4\u4efb\u4f55\u65b0\u4ee3\u7801\u4e4b\u524d\u90fd\u4f1a\u81ea\u52a8\u8fd0\u884c\u5192\u70df\u6d4b\u8bd5\u3002</li> <li>\u5192\u70df\u6d4b\u8bd5\u5fc5\u987b\u572830\u5206\u949f\u5185\u8fd0\u884c\u5b8c\u6bd5\u3002</li> <li>\u6ca1\u6709\u4e0d\u786e\u5b9a\u6027\u7684\u6d4b\u8bd5\u3002</li> <li>\u603b\u4f53\u6d4b\u8bd5\u8986\u76d6\u7387\u5e94\u8be5\u4e0d\u5c0f\u4e8e40%\u3002</li> <li>\u5c0f\u578b\u6d4b\u8bd5\u7684\u4ee3\u7801\u8986\u76d6\u7387\u5e94\u8be5\u4e0d\u5c0f\u4e8e25%\u3002</li> <li> <p>\u6240\u6709\u91cd\u8981\u7684\u529f\u80fd\u90fd\u5e94\u8be5\u88ab\u96c6\u6210\u6d4b\u8bd5\u9a8c\u8bc1\u5230\u3002</p> </li> <li> <p>\u7ea7\u522b5</p> </li> <li>\u5bf9\u6bcf\u4e00\u4e2a\u91cd\u8981\u7684\u7f3a\u9677\u4fee\u590d\u90fd\u8981\u589e\u52a0\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u4e0e\u4e4b\u5bf9\u5e94\u3002</li> <li>\u79ef\u6781\u4f7f\u7528\u53ef\u7528\u7684\u4ee3\u7801\u5206\u6790\u5de5\u5177\u3002</li> <li>\u603b\u4f53\u6d4b\u8bd5\u8986\u76d6\u7387\u4e0d\u4f4e\u4e8e60%\u3002</li> <li>\u5c0f\u578b\u6d4b\u8bd5\u4ee3\u7801\u8986\u76d6\u7387\u5e94\u8be5\u4e0d\u5c0f\u4e8e40%\u3002</li> </ul> <p>\u5c0f\u578b\u6d4b\u8bd5\uff0c\u901a\u5e38\u4e5f\u53eb\u5355\u5143\u6d4b\u8bd5\uff0c\u4e00\u822c\u6765\u8bf4\u90fd\u662f\u81ea\u52a8\u5316\u5b9e\u73b0\u7684\u3002\u7528\u4e8e\u9a8c\u8bc1\u4e00\u4e2a\u5355\u72ec\u7684\u51fd\u6570\uff0c\u7ec4\u4ef6\uff0c\u72ec\u7acb\u529f\u80fd\u6a21\u5757\u662f\u5426\u53ef\u4ee5\u6309\u7167\u9884\u671f\u7684\u65b9\u5f0f\u8fd0\u884c\u3002</p> <p>\u800c\u5bf9\u4e8e\u5f00\u53d1\u8005\u6765\u8bf4\uff0c\u91cd\u8981\u7684\u662f\u8fdb\u884c\u4e86\u6d4b\u8bd5\u7684\u52a8\u4f5c\u3002\u672c\u7bc7\u6587\u7ae0\u4e3b\u8981\u56f4\u7ed5\u7740**React\u7ec4\u4ef6\u5355\u5143\u6d4b\u8bd5**\u5c55\u5f00\u7684\uff0c\u5176\u76ee\u7684\u662f\u4e3a\u4e86\u8ba9\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u7ad9\u5728\u4f7f\u7528\u8005\u7684\u89d2\u5ea6\u8003\u8651\u95ee\u9898\u3002\u901a\u8fc7\u6d4b\u8bd5\u7684\u624b\u6bb5\uff0c\u786e\u4fdd\u7ec4\u4ef6\u7684\u6bcf\u4e00\u4e2a\u529f\u80fd\u90fd\u53ef\u4ee5\u6b63\u5e38\u7684\u8fd0\u884c\uff0c\u5173\u6ce8\u8d28\u91cf\uff0c\u800c\u4e0d\u662f\u8ba9\u7528\u6237\u6765\u5e2e\u4f60\u6d4b\u8bd5\u3002</p> <p>\u5728\u7f16\u5199\u5355\u5143\u6d4b\u8bd5\u7684\u65f6\u5019\uff0c\u4e00\u5b9a\u4f1a\u5bf9\u4e4b\u524d\u7684\u4ee3\u7801\u53cd\u590d\u8fdb\u884c\u8c03\u6574\uff0c\u867d\u7136\u8fc7\u7a0b\u6bd4\u8f83\u75db\u82e6\uff0c\u53ef\u7ec4\u4ef6\u7684\u8d28\u91cf\uff0c\u4e5f\u5728\u4e00\u70b9\u4e00\u70b9\u7684\u63d0\u9ad8\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_3","title":"\u6280\u672f\u6808\u9009\u62e9","text":"<p>\u5f53\u6211\u4eec\u60f3\u8981\u4e3a <code>React</code> \u5e94\u7528\u7f16\u5199\u5355\u5143\u6d4b\u8bd5\u7684\u65f6\u5019\uff0c\u5b98\u65b9\u63a8\u8350\u662f\u4f7f\u7528 React Testing Library + Jest \u7684\u65b9\u5f0f\u3002Enzyme \u4e5f\u662f\u5341\u5206\u51fa\u8272\u7684\u5355\u5143\u6d4b\u8bd5\u5e93\uff0c\u6211\u4eec\u5e94\u8be5\u9009\u62e9\u54ea\u79cd\u6d4b\u8bd5\u5de5\u5177\u5462\uff1f</p> <p>\u4e0b\u9762\u8ba9\u6211\u4eec\u770b\u4e00\u4e2a\u7b80\u5355\u7684\u8ba1\u6570\u5668\u7684\u4f8b\u5b50\uff0c\u4ee5\u53ca\u4e24\u4e2a\u76f8\u5e94\u7684\u6d4b\u8bd5\uff1a\u7b2c\u4e00\u4e2a\u662f\u4f7f\u7528 Enzyme \u7f16\u5199\u7684\uff0c\u7b2c\u4e8c\u4e2a\u662f\u4f7f\u7528 React Testing Library \u7f16\u5199\u7684\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#counterjs","title":"counter.js","text":"<pre><code>// counter.js\nimport React from \"react\";\n\nclass Counter extends React.Component {\n  state = { count: 0 };\n  increment = () =&gt; this.setState(({ count }) =&gt; ({ count: count + 1 }));\n  decrement = () =&gt; this.setState(({ count }) =&gt; ({ count: count - 1 }));\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;button onClick={this.decrement}&gt;-&lt;/button&gt;\n        &lt;p&gt;{this.state.count}&lt;/p&gt;\n        &lt;button onClick={this.increment}&gt;+&lt;/button&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default Counter;\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#counter-enzymetestjs","title":"counter-enzyme.test.js","text":"<pre><code>// counter-enzyme.test.js\nimport React from \"react\";\nimport { shallow } from \"enzyme\";\n\nimport Counter from \"./counter\";\n\ndescribe(\"&lt;Counter /&gt;\", () =&gt; {\n  it(\"properly increments and decrements the counter\", () =&gt; {\n    const wrapper = shallow(&lt;Counter /&gt;);\n    expect(wrapper.state(\"count\")).toBe(0);\n\n    wrapper.instance().increment();\n    expect(wrapper.state(\"count\")).toBe(1);\n\n    wrapper.instance().decrement();\n    expect(wrapper.state(\"count\")).toBe(0);\n  });\n});\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#counter-rtltestjs","title":"counter-rtl.test.js","text":"<pre><code>// counter-rtl.test.js\nimport React from \"react\";\nimport { render, fireEvent } from \"@testing-library/react\";\n\nimport Counter from \"./counter\";\n\ndescribe(\"&lt;Counter /&gt;\", () =&gt; {\n  it(\"properly increments and decrements the counter\", () =&gt; {\n    const { getByText } = render(&lt;Counter /&gt;);\n    const counter = getByText(\"0\");\n    const incrementButton = getByText(\"+\");\n    const decrementButton = getByText(\"-\");\n\n    fireEvent.click(incrementButton);\n    expect(counter.textContent).toEqual(\"1\");\n\n    fireEvent.click(decrementButton);\n    expect(counter.textContent).toEqual(\"0\");\n  });\n});\n</code></pre> <p>\u6bd4\u8f83\u4e24\u4e2a\u4f8b\u5b50\uff0c\u4f60\u80fd\u770b\u51fa\u54ea\u4e2a\u6d4b\u8bd5\u6587\u4ef6\u662f\u6700\u597d\u7684\u561b\uff1f\u5982\u679c\u4f60\u4e0d\u662f\u5f88\u719f\u6089\u5355\u5143\u6d4b\u8bd5\uff0c\u53ef\u80fd\u4f1a\u4efb\u52a1\u4e24\u79cd\u90fd\u5f88\u597d\u3002\u4f46\u662f\u5b9e\u9645\u4e0a <code>Enzyme</code> \u7684\u5b9e\u73b0\u6709\u4e24\u4e2a\u8bef\u62a5\u7684\u98ce\u9669\uff1a</p> <ul> <li>\u5373\u4f7f\u4ee3\u7801\u635f\u574f\uff0c\u6d4b\u8bd5\u4e5f\u4f1a\u901a\u8fc7\u3002</li> <li>\u5373\u4f7f\u4ee3\u7801\u6b63\u786e\uff0c\u6d4b\u8bd5\u4e5f\u4f1a\u5931\u8d25\u3002</li> </ul> <p>\u8ba9\u6211\u4eec\u6765\u4e3e\u4f8b\u8bf4\u660e\u8fd9\u4e24\u70b9\u3002\u5047\u8bbe\u60a8\u5e0c\u671b\u91cd\u6784\u7ec4\u4ef6\uff0c\u56e0\u4e3a\u60a8\u5e0c\u671b\u80fd\u591f\u8bbe\u7f6e\u4efb\u4f55count\u503c\u3002\u56e0\u6b64\uff0c\u60a8\u53ef\u4ee5\u5220\u9664\u9012\u589e\u548c\u9012\u51cf\u65b9\u6cd5\uff0c\u7136\u540e\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684setCount\u65b9\u6cd5\u3002\u5047\u8bbe\u4f60\u5fd8\u8bb0\u5c06\u8fd9\u4e2a\u65b0\u65b9\u6cd5\u8fde\u63a5\u5230\u4e0d\u540c\u7684\u6309\u94ae:</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#counterjs_1","title":"counter.js","text":"<pre><code>// counter.js\nexport default class Counter extends React.Component {\n  state = { count: 0 };\n  setCount = count =&gt; this.setState({ count });\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;button onClick={this.decrement}&gt;-&lt;/button&gt;\n        &lt;p&gt;{this.state.count}&lt;/p&gt;\n        &lt;button onClick={this.increment}&gt;+&lt;/button&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre> <p>\u7b2c\u4e00\u4e2a\u6d4b\u8bd5(<code>Enzyme</code>)\u5c06\u901a\u8fc7\uff0c\u4f46\u7b2c\u4e8c\u4e2a\u6d4b\u8bd5(<code>RTL</code>)\u5c06\u5931\u8d25\u3002\u5b9e\u9645\u4e0a\uff0c\u7b2c\u4e00\u4e2a\u5e76\u4e0d\u5173\u5fc3\u6309\u94ae\u662f\u5426\u6b63\u786e\u5730\u8fde\u63a5\u5230\u65b9\u6cd5\u3002\u5b83\u53ea\u67e5\u770b\u5b9e\u73b0\u672c\u8eab\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u60a8\u7684\u9012\u589e\u548c\u9012\u51cf\u65b9\u6cd5\u6267\u884c\u4e4b\u540e\uff0c\u5e94\u7528\u7684\u72b6\u6001\u662f\u5426\u6b63\u786e\u3002 \u8fd9\u5c31\u662f**\u4ee3\u7801\u635f\u574f\uff0c\u6d4b\u8bd5\u4e5f\u4f1a\u901a\u8fc7**\u3002</p> <p>\u73b0\u5728\u662f2020\u5e74\uff0c\u4f60\u4e5f\u8bb8\u542c\u8bf4\u8fc7 <code>React Hooks</code>\uff0c\u5e76\u4e14\u6253\u7b97\u4f7f\u7528 <code>React Hooks</code> \u6765\u6539\u5199\u6211\u4eec\u7684\u8ba1\u6570\u5668\u4ee3\u7801\uff1a</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#counterjs_2","title":"counter.js","text":"<pre><code>// counter.js\nimport React, { useState } from \"react\";\n\nexport default function Counter() {\n  const [count, setCount] = useState(0);\n  const increment = () =&gt; setCount(count =&gt; count + 1);\n  const decrement = () =&gt; setCount(count =&gt; count - 1);\n  return (\n    &lt;div&gt;\n      &lt;button onClick={decrement}&gt;-&lt;/button&gt;\n      &lt;p&gt;{count}&lt;/p&gt;\n      &lt;button onClick={increment}&gt;+&lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre> <p>\u8fd9\u4e00\u6b21\uff0c\u5373\u4f7f\u60a8\u7684\u8ba1\u6570\u5668\u4ecd\u7136\u5de5\u4f5c\uff0c\u7b2c\u4e00\u4e2a\u6d4b\u8bd5\u4e5f\u5c06\u88ab\u6253\u7834\u3002<code>Enzyme</code> \u4f1a\u62a5\u9519\uff0c\u51fd\u6570\u7ec4\u4ef6\u4e2d\u65e0\u6cd5\u4f7f\u7528<code>state</code>:</p> <pre><code>ShallowWrapper::state() can only be called on class components\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u5c31\u9700\u8981\u6539\u5199\u5355\u5143\u6d4b\u8bd5\u6587\u4ef6\u4e86\uff1a</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#counter-enzymetestjs_1","title":"counter-enzyme.test.js","text":"<pre><code>import React from \"react\";\nimport { shallow } from \"enzyme\";\n\nimport Counter from \"./counter\";\n\ndescribe(\"&lt;Counter /&gt;\", () =&gt; {\n  it(\"properly increments and decrements the counter\", () =&gt; {\n    const setValue = jest.fn();\n    const useStateSpy = jest.spyOn(React, \"useState\");\n    useStateSpy.mockImplementation(initialValue =&gt; [initialValue, setValue]);\n    const wrapper = shallow(&lt;Counter /&gt;);\n\n    wrapper\n      .find(\"button\")\n      .last()\n      .props()\n      .onClick();\n    expect(setValue).toHaveBeenCalledWith(1);\n    // We can't make any assumptions here on the real count displayed\n    // In fact, the setCount setter is mocked!\n\n    wrapper\n      .find(\"button\")\n      .first()\n      .props()\n      .onClick();\n    expect(setValue).toHaveBeenCalledWith(-1);\n  });\n});\n</code></pre> <p>\u800c\u4f7f\u7528 <code>React Testing Library</code> \u7f16\u5199\u7684\u5355\u5143\u6d4b\u8bd5\u8fd8\u662f\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\u7684\uff0c\u56e0\u4e3a\u5b83\u66f4\u52a0\u5173\u6ce8\u5e94\u7528\u7684\u4e8b\u4ef6\u5904\u7406\uff0c\u4ee5\u53ca\u5c55\u793a\uff1b\u800c\u975e\u5e94\u7528\u7684\u5b9e\u73b0\u7ec6\u8282\uff0c\u4ee5\u53ca\u72b6\u6001\u53d8\u5316\u3002\u66f4\u52a0\u7b26\u5408\u6211\u4eec\u5bf9\u4e8e\u5355\u5143\u6d4b\u8bd5\u7684\u539f\u672c\u8bc9\u6c42\uff0c\u4ee5\u53ca\u6700\u4f73\u5b9e\u8df5\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_4","title":"\u53ef\u9075\u5faa\u7684\u7b80\u5355\u89c4\u5219","text":"<p>\u4e5f\u8bb8\u4e0a\u6587\u4e2d\u4f7f\u7528 <code>React Testing Library</code> \u7f16\u5199\u7684\u5355\u5143\u6d4b\u8bd5\u793a\u4f8b\uff0c\u8fd8\u4f1a\u7ed9\u4eba\u4e00\u79cd\u4e00\u5934\u96fe\u6c34\u7684\u611f\u89c9\u3002\u4e0b\u9762\uff0c\u8ba9\u6211\u4eec\u4f7f\u7528 AAA \u6a21\u5f0f\u6765\u4e00\u6b65\u4e00\u6b65\u7684\u62c6\u89e3\u8fd9\u90e8\u5206\u4ee3\u7801\u3002</p> <p>AAA\u6a21\u5f0f\uff1a\u7f16\u6392\uff08Arrange\uff09\uff0c\u6267\u884c\uff08Act\uff09\uff0c\u65ad\u8a00\uff08Assert\uff09\u3002</p> <p>\u51e0\u4e4e\u6240\u6709\u7684\u6d4b\u8bd5\u90fd\u662f\u8fd9\u6837\u5199\u7684\u3002\u9996\u5148\uff0c\u60a8\u8981**\u7f16\u6392(\u521d\u59cb\u5316)\u60a8\u7684\u4ee3\u7801\uff0c\u4ee5\u4fbf\u4e3a\u63a5\u4e0b\u6765\u7684\u6b65\u9aa4\u505a\u597d\u4e00\u5207\u51c6\u5907\u3002\u7136\u540e\uff0c\u60a8**\u6267\u884c**\u7528\u6237\u5e94\u8be5\u6267\u884c\u7684\u6b65\u9aa4(\u4f8b\u5982\u5355\u51fb)\u3002\u6700\u540e\uff0c\u60a8\u5bf9\u5e94\u8be5\u53d1\u751f\u7684\u4e8b\u60c5\u8fdb\u884c**\u65ad\u8a00\u3002</p> <pre><code>import React from \"react\";\nimport { render, fireEvent } from \"@testing-library/react\";\n\nimport Counter from \"./app\";\n\ndescribe(\"&lt;Counter /&gt;\", () =&gt; {\n  it(\"properly increments the counter\", () =&gt; {\n    // Arrange\n    const { getByText } = render(&lt;Counter /&gt;);\n    const counter = getByText(\"0\");\n    const incrementButton = getByText(\"+\");\n    const decrementButton = getByText(\"-\");\n\n    // Act\n    fireEvent.click(incrementButton);\n    // Assert\n    expect(counter.textContent).toEqual(\"1\");\n\n    // Act\n    fireEvent.click(decrementButton);\n    // Assert\n    expect(counter.textContent).toEqual(\"0\");\n  });\n});\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#arrange","title":"\u7f16\u6392\uff08Arrange\uff09","text":"<p>\u5728\u7f16\u6392\u8fd9\u4e00\u6b65\uff0c\u6211\u4eec\u9700\u8981\u5b8c\u62102\u9879\u4efb\u52a1\uff1a</p> <ul> <li>\u6e32\u67d3\u7ec4\u4ef6</li> <li>\u83b7\u53d6\u6240\u9700\u7684DOM\u7684\u4e0d\u540c\u5143\u7d20\u3002</li> </ul> <p>\u6e32\u67d3\u7ec4\u4ef6\u53ef\u4ee5\u4f7f\u7528 RTL's API \u7684 <code>render</code> \u65b9\u6cd5\u5b8c\u6210\u3002\u7b7e\u540d\u5982\u4e0b\uff1a</p> <pre><code>function render(\n  ui: React.ReactElement,\n  options?: Omit&lt;RenderOptions, 'queries'&gt;\n): RenderResult\n</code></pre> <p><code>ui</code> \u662f\u4f60\u8981\u52a0\u8f7d\u7684\u7ec4\u4ef6\u3002<code>options</code> \u901a\u5e38\u4e0d\u9700\u8981\u6307\u5b9a\u9009\u9879\u3002\u5b98\u65b9\u6587\u6863\u5728\u8fd9\u91cc\uff0c\u5982\u679c\u8981\u6307\u5b9a\u7684\u8bdd\uff0c\u5982\u4e0b\u503c\u662f\u5bf9\u5b98\u65b9\u6587\u6863\u7684\u7b80\u5355\u6458\u5f55\uff1a</p> <ul> <li>container\uff1aReact Testing\u5e93\u5c06\u521b\u5efa\u4e00\u4e2adiv\u5e76\u5c06\u8be5div\u9644\u52a0\u5230\u6587\u6863\u4e2d\u3002\u800c\u901a\u8fc7\u8fd9\u4e2a\u53c2\u6570\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5bb9\u5668\u3002</li> <li>baseElement\uff1a</li> </ul> <p>\u5982\u679c\u6307\u5b9a\u4e86\u5bb9\u5668\uff0c\u5219\u6b64\u503c\u9ed8\u8ba4\u4e3a\u8be5\u503c\uff0c\u5426\u5219\u6b64\u503c\u9ed8\u8ba4\u4e3adocument.documentElement\u3002\u8fd9\u5c06\u7528\u4f5c\u67e5\u8be2\u7684\u57fa\u672c\u5143\u7d20\uff0c\u4ee5\u53ca\u5728\u4f7f\u7528debug()\u65f6\u6253\u5370\u7684\u5185\u5bb9\u3002</p> <ul> <li>hydrate\uff1a\u7528\u4e8e\u670d\u52a1\u7aef\u6e32\u67d3\uff0c\u4f7f\u7528 <code>ReactDOM.hydrate</code> \u52a0\u8f7d\u4f60\u7684\u7ec4\u4ef6\u3002</li> <li>wrapper\uff1a\u4f20\u9012\u4e00\u4e2a\u7ec4\u4ef6\u4f5c\u4e3a\u5305\u88f9\u5c42\uff0c\u5c06\u6211\u4eec\u8981\u6d4b\u8bd5\u7684\u7ec4\u4ef6\u6e32\u67d3\u5728\u5176\u4e2d\u3002\u8fd9\u901a\u5e38\u7528\u4e8e\u521b\u5efa\u53ef\u4ee5\u91cd\u7528\u7684\u81ea\u5b9a\u4e49 render \u51fd\u6570\uff0c\u4ee5\u4fbf\u63d0\u4f9b\u5e38\u7528\u6570\u636e\u3002</li> <li>queries\uff1a\u67e5\u8be2\u7ed1\u5b9a\u3002\u9664\u975e\u5408\u5e76\uff0c\u5426\u5219\u5c06\u8986\u76d6DOM\u6d4b\u8bd5\u5e93\u4e2d\u7684\u9ed8\u8ba4\u8bbe\u7f6e\u3002</li> </ul> <p>\u57fa\u672c\u4e0a\uff0c\u8fd9\u4e2a\u51fd\u6570\u6240\u505a\u7684\u5c31\u662f\u4f7f\u7528ReactDOM\u5448\u73b0\u7ec4\u4ef6\u3002\u5728\u76f4\u63a5\u9644\u52a0\u5230document.body\u7684\u65b0\u521b\u5efa\u7684div\u4e2d\u5448\u73b0(\u6216\u4e3a\u670d\u52a1\u5668\u7aef\u5448\u73b0\u63d0\u4f9b\u6c34\u5408\u7269)\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u4eceDOM\u6d4b\u8bd5\u5e93\u548c\u5176\u4ed6\u4e00\u4e9b\u6709\u7528\u7684\u65b9\u6cd5(\u5982debug\u3001rerender\u6216unmount)\u83b7\u5f97\u5927\u91cf\u67e5\u8be2\u3002</p> <p>\u6587\u6863\uff1ahttps://testing-library.com/d...</p> <p>\u4f46\u4f60\u53ef\u80fd\u4f1a\u60f3\uff0c\u8fd9\u4e9b\u95ee\u9898\u662f\u4ec0\u4e48\u5462?\u6709\u4e9b\u5b9e\u7528\u7a0b\u5e8f\u5141\u8bb8\u60a8\u50cf\u7528\u6237\u90a3\u6837\u67e5\u8be2DOM:\u901a\u8fc7\u6807\u7b7e\u6587\u672c\u3001\u5360\u4f4d\u7b26\u548c\u6807\u9898\u67e5\u627e\u5143\u7d20\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u6765\u81ea\u6587\u6863\u7684\u67e5\u8be2\u793a\u4f8b:</p> <ul> <li>getByLabelText:\u641c\u7d22\u4e0e\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7684\u7ed9\u5b9a\u6587\u672c\u5339\u914d\u7684\u6807\u7b7e\uff0c\u7136\u540e\u67e5\u627e\u4e0e\u8be5\u6807\u7b7e\u5173\u8054\u7684\u5143\u7d20\u3002</li> <li>getByText:\u641c\u7d22\u5177\u6709\u6587\u672c\u8282\u70b9\u7684\u6240\u6709\u5143\u7d20\uff0c\u5176\u4e2d\u7684textContent\u4e0e\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7684\u7ed9\u5b9a\u6587\u672c\u5339\u914d\u3002</li> <li>getByTitle:\u8fd4\u56de\u5177\u6709\u4e0e\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7684\u7ed9\u5b9a\u6587\u672c\u5339\u914d\u7684title\u5c5e\u6027\u7684\u5143\u7d20\u3002</li> <li>getByPlaceholderText:\u641c\u7d22\u5177\u6709\u5360\u4f4d\u7b26\u5c5e\u6027\u7684\u6240\u6709\u5143\u7d20\uff0c\u5e76\u627e\u5230\u4e0e\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7684\u7ed9\u5b9a\u6587\u672c\u76f8\u5339\u914d\u7684\u5143\u7d20\u3002</li> </ul> <p>\u4e00\u4e2a\u7279\u5b9a\u7684\u67e5\u8be2\u6709\u5f88\u591a\u53d8\u4f53:</p> <ul> <li>getBy:\u8fd4\u56de\u67e5\u8be2\u7684\u7b2c\u4e00\u4e2a\u5339\u914d\u8282\u70b9\uff0c\u5982\u679c\u6ca1\u6709\u5339\u914d\u7684\u5143\u7d20\u6216\u627e\u5230\u591a\u4e2a\u5339\u914d\uff0c\u5219\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002</li> <li>getAllBy:\u8fd4\u56de\u4e00\u4e2a\u67e5\u8be2\u4e2d\u6240\u6709\u5339\u914d\u8282\u70b9\u7684\u6570\u7ec4\uff0c\u5982\u679c\u6ca1\u6709\u5339\u914d\u7684\u5143\u7d20\uff0c\u5219\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002</li> <li>queryBy:\u8fd4\u56de\u67e5\u8be2\u7684\u7b2c\u4e00\u4e2a\u5339\u914d\u8282\u70b9\uff0c\u5982\u679c\u6ca1\u6709\u5339\u914d\u7684\u5143\u7d20\uff0c\u5219\u8fd4\u56denull\u3002\u8fd9\u5bf9\u4e8e\u65ad\u8a00\u4e0d\u5b58\u5728\u7684\u5143\u7d20\u975e\u5e38\u6709\u7528\u3002</li> <li>queryAllBy:\u8fd4\u56de\u4e00\u4e2a\u67e5\u8be2\u7684\u6240\u6709\u5339\u914d\u8282\u70b9\u7684\u6570\u7ec4\uff0c\u5982\u679c\u6ca1\u6709\u5339\u914d\u7684\u5143\u7d20\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u7a7a\u6570\u7ec4([])\u3002</li> <li>findBy\uff1a\u8fd4\u56de\u4e00\u4e2apromise\uff0c\u8be5promise\u5c06\u5728\u627e\u5230\u4e0e\u7ed9\u5b9a\u67e5\u8be2\u5339\u914d\u7684\u5143\u7d20\u65f6\u89e3\u6790\u3002\u5982\u679c\u672a\u627e\u5230\u4efb\u4f55\u5143\u7d20\uff0c\u6216\u8005\u5728\u9ed8\u8ba4\u8d85\u65f6\u65f6\u95f4\u4e3a4500\u6beb\u79d2\u540e\u627e\u5230\u4e86\u591a\u4e2a\u5143\u7d20\uff0c\u5219\u627f\u8bfa\u5c06\u88ab\u62d2\u7edd\u3002</li> <li>findAllBy\uff1a\u8fd4\u56de\u4e00\u4e2apromise\uff0c\u5f53\u627e\u5230\u4e0e\u7ed9\u5b9a\u67e5\u8be2\u5339\u914d\u7684\u4efb\u4f55\u5143\u7d20\u65f6\uff0c\u8be5promise\u5c06\u89e3\u6790\u4e3a\u5143\u7d20\u6570\u7ec4\u3002</li> </ul>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#act","title":"\u6267\u884c\uff08Act\uff09","text":"<p>\u73b0\u5728\u4e00\u5207\u90fd\u51c6\u5907\u597d\u4e86\uff0c\u6211\u4eec\u53ef\u4ee5\u884c\u52a8\u4e86\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u5927\u90e8\u5206\u65f6\u95f4\u4f7f\u7528\u4e86\u6765\u81eaDOM\u6d4b\u8bd5\u5e93\u7684fireEvent\uff0c\u5176\u7b7e\u540d\u5982\u4e0b:</p> <pre><code>fireEvent(node: HTMLElement, event: Event)\n</code></pre> <p>\u7b80\u5355\u5730\u8bf4\uff0c\u8fd9\u4e2a\u51fd\u6570\u63a5\u53d7\u4e00\u4e2aDOM\u8282\u70b9(\u60a8\u53ef\u4ee5\u4f7f\u7528\u4e0a\u9762\u770b\u5230\u7684\u67e5\u8be2\u67e5\u8be2\u5b83!)\u5e76\u89e6\u53d1DOM\u4e8b\u4ef6\uff0c\u5982\u5355\u51fb\u3001\u7126\u70b9\u3001\u66f4\u6539\u7b49\u3002\u60a8\u53ef\u4ee5\u5728\u8fd9\u91cc\u627e\u5230\u8bb8\u591a\u5176\u4ed6\u53ef\u4ee5\u8c03\u5ea6\u7684\u4e8b\u4ef6\u3002</p> <p>\u6211\u4eec\u7684\u4f8b\u5b50\u76f8\u5f53\u7b80\u5355\uff0c\u56e0\u4e3a\u6211\u4eec\u53ea\u662f\u60f3\u70b9\u51fb\u4e00\u4e2a\u6309\u94ae\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u9700:</p> <pre><code>fireEvent.click(incrementButton);\n// OR\nfireEvent.click(decrementButton);\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#assert","title":"\u65ad\u8a00\uff08Assert\uff09","text":"<p>\u63a5\u4e0b\u6765\u662f\u6700\u540e\u4e00\u90e8\u5206\u3002\u89e6\u53d1\u4e8b\u4ef6\u901a\u5e38\u4f1a\u89e6\u53d1\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u4e00\u4e9b\u66f4\u6539\uff0c\u56e0\u6b64\u6211\u4eec\u5fc5\u987b\u6267\u884c\u4e00\u4e9b\u65ad\u8a00\u6765\u786e\u4fdd\u8fd9\u4e9b\u66f4\u6539\u53d1\u751f\u3002\u5728\u6211\u4eec\u7684\u6d4b\u8bd5\u4e2d\uff0c\u8fd9\u6837\u505a\u7684\u4e00\u4e2a\u597d\u65b9\u6cd5\u662f\u786e\u4fdd\u5448\u73b0\u7ed9\u7528\u6237\u7684\u8ba1\u6570\u5df2\u7ecf\u66f4\u6539\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ea\u9700\u65ad\u8a00textContent\u5c5e\u6027\u7684\u8ba1\u6570\u5668\u662f\u9012\u589e\u6216\u9012\u51cf:</p> <pre><code>expect(counter.textContent).toEqual(\"1\");\nexpect(counter.textContent).toEqual(\"0\");\n</code></pre> <p>\u606d\u559c\u4f60\uff0c\u5230\u8fd9\u91cc\u4f60\u5df2\u7ecf\u5c06\u6211\u4eec\u7684\u793a\u4f8b\u62c6\u89e3\u6210\u529f\u3002 \ud83e\udd73</p> <p>\u6ce8\u610f:\u8fd9\u4e2aAAA\u6a21\u5f0f\u5e76\u4e0d\u7279\u5b9a\u4e8e\u6d4b\u8bd5\u5e93\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5b83\u751a\u81f3\u662f\u4efb\u4f55\u6d4b\u8bd5\u7528\u4f8b\u7684\u4e00\u822c\u7ed3\u6784\u3002\u6211\u5728\u8fd9\u91cc\u5411\u60a8\u5c55\u793a\u8fd9\u4e2a\u662f\u56e0\u4e3a\u6211\u53d1\u73b0\u6d4b\u8bd5\u5e93\u5982\u4f55\u65b9\u4fbf\u5730\u5728\u6bcf\u4e2a\u90e8\u5206\u4e2d\u7f16\u5199\u6d4b\u8bd5\u662f\u4e00\u4ef6\u5f88\u6709\u8da3\u7684\u4e8b\u60c5\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#8","title":"8\u4e2a\u5178\u578b\u7684\u4f8b\u5b50","text":"<p>\u5230\u8fd9\u91cc\uff0c\u5c31\u8fdb\u5165\u5b9e\u6218\u9636\u6bb5\u4e86\uff0c\u63a5\u4e0b\u6765\u8bf7\u5148\u4e0b\u8f7d\u793a\u4f8b\uff1arts-guide-demo \u3002</p> <p>\u5b89\u88c5\u4f9d\u8d56\u7684\u540c\u65f6\u53ef\u4ee5\u7b80\u5355\u770b\u4e0b\u6211\u4eec\u7684\u9879\u76ee\u3002<code>src/test</code> \u76ee\u5f55\u4e0b\u5b58\u653e\u4e86\u6240\u6709\u5355\u5143\u6d4b\u8bd5\u76f8\u5173\u7684\u6587\u4ef6\u3002\u8ba9\u6211\u4eec\u6e05\u7a7a\u8fd9\u4e2a\u6587\u4ef6\u5939\uff0c\u518d\u5c06\u4e0b\u9762\u7684\u793a\u4f8b\u4f9d\u6b21\u624b\u8fc7\u4e00\u904d\u3002\ud83d\ude4f\uff08CV\u4e5f\u662f\u53ef\u4ee5\u7684\ud83d\udc4c\uff09</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#1","title":"1.\u5982\u4f55\u521b\u5efa\u6d4b\u8bd5\u5feb\u7167","text":"<p>\u5feb\u7167\uff0c\u987e\u540d\u601d\u4e49\uff0c\u5141\u8bb8\u6211\u4eec\u4fdd\u5b58\u7ed9\u5b9a\u7ec4\u4ef6\u7684\u5feb\u7167\u3002\u5f53\u60a8\u8fdb\u884c\u66f4\u65b0\u6216\u91cd\u6784\uff0c\u5e76\u5e0c\u671b\u83b7\u53d6\u6216\u6bd4\u8f83\u66f4\u6539\u65f6\uff0c\u5b83\u4f1a\u63d0\u4f9b\u5f88\u591a\u5e2e\u52a9\u3002</p> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u770b\u4e00\u4e0b <code>App.js</code> \u6587\u4ef6\u7684\u5feb\u7167\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#apptestjs","title":"App.test.js","text":"<pre><code>import React from 'react'\nimport {render, cleanup} from '@testing-library/react'\nimport App from '../App'\n\n afterEach(cleanup)\n\n it('should take a snapshot', () =&gt; {\n    const { asFragment } = render(&lt;App /&gt;)\n\n    expect(asFragment()).toMatchSnapshot()\n})\n</code></pre> <p>\u8981\u83b7\u53d6\u5feb\u7167\uff0c\u6211\u4eec\u9996\u5148\u5fc5\u987b\u5bfc\u5165 <code>render</code> \u548c <code>cleanup</code> \u3002\u8fd9\u4e24\u79cd\u65b9\u6cd5\u5c06\u5728\u672c\u6587\u4e2d\u5927\u91cf\u4f7f\u7528\u3002</p> <p><code>render</code>\uff0c\u987e\u540d\u601d\u4e49\uff0c\u6709\u52a9\u4e8e\u6e32\u67d3React\u7ec4\u4ef6\u3002<code>cleanup</code> \u4f5c\u4e3a\u4e00\u4e2a\u53c2\u6570\u4f20\u9012\u7ed9 <code>afterEach</code> \uff0c\u4ee5\u4fbf\u5728\u6bcf\u6b21\u6d4b\u8bd5\u540e\u6e05\u7406\u6240\u6709\u4e1c\u897f\uff0c\u4ee5\u907f\u514d\u5185\u5b58\u6cc4\u6f0f\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>render</code> \u5448\u73b0App\u7ec4\u4ef6\uff0c\u5e76\u4ece\u65b9\u6cd5\u4e2d\u83b7\u53d6 <code>asFragment</code> \u4f5c\u4e3a\u8fd4\u56de\u503c\u3002\u6700\u540e\uff0c\u786e\u4fddApp\u7ec4\u4ef6\u7684\u7247\u6bb5\u4e0e\u5feb\u7167\u5339\u914d\u3002</p> <p>\u73b0\u5728\uff0c\u8981\u8fd0\u884c\u6d4b\u8bd5\uff0c\u6253\u5f00\u60a8\u7684\u7ec8\u7aef\u5e76\u5bfc\u822a\u5230\u9879\u76ee\u7684\u6839\u76ee\u5f55\uff0c\u5e76\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4:</p> <pre><code>npm test\n</code></pre> <p>\u56e0\u6b64\uff0c\u5b83\u5c06\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6587\u4ef6\u5939 <code>__snapshots__</code> \u548c\u4e00\u4e2a\u6587\u4ef6 <code>App.test.js</code>:</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#apptestjssnap","title":"App.test.js.snap","text":"<pre><code>// Jest Snapshot v1, https://goo.gl/fbAQLP\n\nexports[`should take a snapshot 1`] = `\n&lt;DocumentFragment&gt;\n  &lt;div\n    class=\"App\"\n  &gt;\n    &lt;h1&gt;\n      Testing Updated\n    &lt;/h1&gt;\n  &lt;/div&gt;\n&lt;/DocumentFragment&gt;\n`;\n</code></pre> <p>\u5982\u679c\uff0c\u4f60\u5728 <code>App.js</code> \u4e2d\u505a\u51fa\u66f4\u6539\uff0c\u6d4b\u8bd5\u5c06\u5931\u8d25\uff0c\u56e0\u4e3a\u5feb\u7167\u5c06\u4e0d\u518d\u5339\u914d\u3002\u66f4\u65b0\u5feb\u7167\u53ef\u4ee5\u6309 <code>u</code> \uff0c\u6216\u8005\u5c06\u5bf9\u5e94\u5feb\u7167\u6587\u4ef6\u5220\u9664\u5373\u53ef\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#2dom","title":"2.\u6d4b\u8bd5DOM\u5143\u7d20","text":"<p>\u8981\u6d4b\u8bd5DOM\u5143\u7d20\uff0c\u9996\u5148\u5fc5\u987b\u67e5\u770b<code>TestElements.js</code>\u6587\u4ef6\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#testelementsjs","title":"TestElements.js","text":"<pre><code>import React from 'react'\n\nconst TestElements = () =&gt; {\n const [counter, setCounter] = React.useState(0)\n\n return (\n  &lt;&gt;\n    &lt;h1 data-testid=\"counter\"&gt;{ counter }&lt;/h1&gt;\n    &lt;button data-testid=\"button-up\" onClick={() =&gt; setCounter(counter + 1)}&gt; Up&lt;/button&gt;\n    &lt;button disabled data-testid=\"button-down\" onClick={() =&gt; setCounter(counter - 1)}&gt;Down&lt;/button&gt;\n &lt;/&gt;\n    )\n  }\n\n  export default TestElements\n</code></pre> <p>\u5728\u8fd9\u91cc\uff0c\u60a8\u552f\u4e00\u9700\u8981\u4fdd\u7559\u7684\u662f <code>data-testid</code> \u3002\u5b83\u5c06\u7528\u4e8e\u4ece\u6d4b\u8bd5\u6587\u4ef6\u4e2d\u9009\u62e9\u8fd9\u4e9b\u5143\u7d20\u3002\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u5b8c\u6210\u5355\u5143\u6d4b\u8bd5:</p> <p>\u6d4b\u8bd5\u8ba1\u6570\u5668\u662f\u5426\u4e3a0\uff0c\u4ee5\u53ca\u6309\u94ae\u7684\u7981\u7528\u72b6\u6001:</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#testelementstestjs","title":"TestElements.test.js","text":"<pre><code>import React from 'react';\nimport \"@testing-library/jest-dom/extend-expect\";\nimport { render, cleanup } from '@testing-library/react';\nimport TestElements from '../components/TestElements'\n\nafterEach(cleanup);\n\n  it('should equal to 0', () =&gt; {\n    const { getByTestId } = render(&lt;TestElements /&gt;); \n    expect(getByTestId('counter')).toHaveTextContent(0)\n   });\n\n   it('should be enabled', () =&gt; {\n    const { getByTestId } = render(&lt;TestElements /&gt;);\n    expect(getByTestId('button-up')).not.toHaveAttribute('disabled')\n  });\n\n  it('should be disabled', () =&gt; {\n    const { getByTestId } = render(&lt;TestElements /&gt;); \n    expect(getByTestId('button-down')).toBeDisabled()\n  });\n</code></pre> <p>\u6b63\u5982\u60a8\u6240\u770b\u5230\u7684\uff0c\u8bed\u6cd5\u4e0e\u524d\u9762\u7684\u6d4b\u8bd5\u975e\u5e38\u76f8\u4f3c\u3002\u552f\u4e00\u7684\u533a\u522b\u662f,\u6211\u4eec\u4f7f\u7528 <code>getByTestId</code> \u9009\u62e9\u5fc5\u8981\u7684\u5143\u7d20(\u6839\u636e <code>data-testid</code> )\u5e76\u68c0\u67e5\u662f\u5426\u901a\u8fc7\u4e86\u6d4b\u8bd5\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u6211\u4eec\u68c0\u67e5 <code>&lt;h1 data-testid=\"counter\"&gt;{ counter }&lt;/h1&gt;</code> \u4e2d\u7684\u6587\u672c\u5185\u5bb9\u662f\u5426\u7b49\u4e8e0\u3002</p> <p>\u8fd9\u91cc,\u50cf\u5f80\u5e38\u4e00\u6837,\u6211\u4eec\u4f7f\u7528 <code>getByTestId</code> \u9009\u62e9\u5143\u7d20\u548c\u68c0\u67e5\u7b2c\u4e00\u4e2a\u6d4b\u8bd5\u5982\u679c\u6309\u94ae\u7981\u7528\u5c5e\u6027\u3002\u5bf9\u4e8e\u7b2c\u4e8c\u4e2a\uff0c\u5982\u679c\u6309\u94ae\u662f\u5426\u88ab\u7981\u7528\u3002</p> <p>\u5982\u679c\u60a8\u4fdd\u5b58\u6587\u4ef6\u6216\u5728\u7ec8\u7aef\u7eb1\u7ebf\u6d4b\u8bd5\u4e2d\u518d\u6b21\u8fd0\u884c\uff0c\u6d4b\u8bd5\u5c06\u901a\u8fc7\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#3","title":"3.\u6d4b\u8bd5\u4e8b\u4ef6","text":"<p>\u5728\u7f16\u5199\u5355\u5143\u6d4b\u8bd5\u4e4b\u524d\uff0c\u8ba9\u6211\u4eec\u9996\u5148\u770b\u4e0b <code>TestEvents.js</code> \u662f\u4ec0\u4e48\u6837\u5b50\u7684\u3002</p> <pre><code>import React from 'react'\n\nconst TestEvents = () =&gt; {\n  const [counter, setCounter] = React.useState(0)\n\nreturn (\n  &lt;&gt;\n    &lt;h1 data-testid=\"counter\"&gt;{ counter }&lt;/h1&gt;\n    &lt;button data-testid=\"button-up\" onClick={() =&gt; setCounter(counter + 1)}&gt; Up&lt;/button&gt;\n    &lt;button data-testid=\"button-down\" onClick={() =&gt; setCounter(counter - 1)}&gt;Down&lt;/button&gt;\n &lt;/&gt;\n    )\n  }\n\n  export default TestEvents\n</code></pre> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u7f16\u5199\u6d4b\u8bd5\u3002</p> <p>\u5f53\u6211\u4eec\u70b9\u51fb\u6309\u94ae\u65f6\uff0c\u6d4b\u8bd5\u8ba1\u6570\u5668\u7684\u589e\u51cf\u662f\u5426\u6b63\u786e:</p> <pre><code>import React from 'react';\nimport \"@testing-library/jest-dom/extend-expect\";\nimport { render, cleanup, fireEvent } from '@testing-library/react';\nimport TestEvents from '../components/TestEvents'\n\n  afterEach(cleanup);\n\n  it('increments counter', () =&gt; {\n    const { getByTestId } = render(&lt;TestEvents /&gt;); \n\n    fireEvent.click(getByTestId('button-up'))\n\n    expect(getByTestId('counter')).toHaveTextContent('1')\n  });\n\n  it('decrements counter', () =&gt; {\n    const { getByTestId } = render(&lt;TestEvents /&gt;); \n\n    fireEvent.click(getByTestId('button-down'))\n\n    expect(getByTestId('counter')).toHaveTextContent('-1')\n  });\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u9664\u4e86\u9884\u671f\u7684\u6587\u672c\u5185\u5bb9\u4e4b\u5916\uff0c\u8fd9\u4e24\u4e2a\u6d4b\u8bd5\u975e\u5e38\u76f8\u4f3c\u3002</p> <p>\u7b2c\u4e00\u4e2a\u6d4b\u8bd5\u4f7f\u7528 <code>fireEvent.click()</code> \u89e6\u53d1\u4e00\u4e2a <code>click</code> \u4e8b\u4ef6\uff0c\u68c0\u67e5\u5355\u51fb\u6309\u94ae\u65f6\u8ba1\u6570\u5668\u662f\u5426\u589e\u52a0\u52301\u3002</p> <p>\u7b2c\u4e8c\u4e2a\u68c0\u67e5\u5f53\u70b9\u51fb\u6309\u94ae\u65f6\u8ba1\u6570\u5668\u662f\u5426\u51cf\u4e3a-1\u3002</p> <p><code>fireEvent</code> \u6709\u51e0\u4e2a\u53ef\u4ee5\u7528\u6765\u6d4b\u8bd5\u4e8b\u4ef6\u7684\u65b9\u6cd5\uff0c\u56e0\u6b64\u60a8\u53ef\u4ee5\u81ea\u7531\u5730\u6df1\u5165\u6587\u6863\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u4e86\u5982\u4f55\u6d4b\u8bd5\u4e8b\u4ef6\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u5728\u4e0b\u4e00\u8282\u4e2d\u5b66\u4e60\u5982\u4f55\u5904\u7406\u5f02\u6b65\u64cd\u4f5c\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#4","title":"4. \u6d4b\u8bd5\u5f02\u6b65\u64cd\u4f5c","text":"<p>\u5f02\u6b65\u64cd\u4f5c\u662f\u9700\u8981\u65f6\u95f4\u624d\u80fd\u5b8c\u6210\u7684\u64cd\u4f5c\u3002\u5b83\u53ef\u4ee5\u662fHTTP\u8bf7\u6c42\u3001\u8ba1\u65f6\u5668\u7b49\u7b49\u3002</p> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u68c0\u67e5 <code>TestAsync.js</code> \u6587\u4ef6\u3002</p> <pre><code>import React from 'react'\n\nconst TestAsync = () =&gt; {\n  const [counter, setCounter] = React.useState(0)\n\n  const delayCount = () =&gt; (\n    setTimeout(() =&gt; {\n      setCounter(counter + 1)\n    }, 500)\n  )\n\nreturn (\n  &lt;&gt;\n    &lt;h1 data-testid=\"counter\"&gt;{ counter }&lt;/h1&gt;\n    &lt;button data-testid=\"button-up\" onClick={delayCount}&gt; Up&lt;/button&gt;\n    &lt;button data-testid=\"button-down\" onClick={() =&gt; setCounter(counter - 1)}&gt;Down&lt;/button&gt;\n &lt;/&gt;\n    )\n  }\n\n  export default TestAsync\n</code></pre> <p>\u8fd9\u91cc\uff0c\u6211\u4eec\u4f7f\u7528 <code>setTimeout()</code> \u5c06\u9012\u589e\u4e8b\u4ef6\u5ef6\u8fdf0.5\u79d2\u3002</p> <p>\u6d4b\u8bd5\u8ba1\u6570\u5668\u57280.5\u79d2\u540e\u5224\u65ad\u662f\u5426\u589e\u52a0:</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#testasynctestjs","title":"TestAsync.test.js","text":"<pre><code>import React from 'react';\nimport \"@testing-library/jest-dom/extend-expect\";\nimport { render, cleanup, fireEvent, waitForElement } from '@testing-library/react';\nimport TestAsync from '../components/TestAsync'\n\nafterEach(cleanup);\n\n  it('increments counter after 0.5s', async () =&gt; {\n    const { getByTestId, getByText } = render(&lt;TestAsync /&gt;); \n\n    fireEvent.click(getByTestId('button-up'))\n\n    const counter = await waitForElement(() =&gt; getByText('1')) \n\n    expect(counter).toHaveTextContent('1')\n\n});\n</code></pre> <p>\u8981\u6d4b\u8bd5\u9012\u589e\u4e8b\u4ef6\uff0c\u6211\u4eec\u9996\u5148\u5fc5\u987b\u4f7f\u7528 <code>async/await</code> \u6765\u5904\u7406\u64cd\u4f5c\uff0c\u56e0\u4e3a\u5982\u524d\u6240\u8ff0\uff0c\u5b8c\u6210\u5b83\u9700\u8981\u65f6\u95f4\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u4e00\u4e2a\u65b0\u7684\u52a9\u624b\u65b9\u6cd5 <code>getByText()</code>\u3002\u8fd9\u7c7b\u4f3c\u4e8e<code>getByTestId()</code>\u3002<code>getByText()</code>\u9009\u62e9\u6587\u672c\u5185\u5bb9\uff0c\u800c\u4e0d\u662fid\u3002</p> <p>\u73b0\u5728\uff0c\u5728\u5355\u51fb\u6309\u94ae\u4e4b\u540e\uff0c\u6211\u4eec\u7b49\u5f85 <code>waitForElement(() =&gt; getByText('1')</code> \u6765\u589e\u52a0\u8ba1\u6570\u5668\u3002\u4e00\u65e6\u8ba1\u6570\u5668\u589e\u52a0\u52301\uff0c\u6211\u4eec\u73b0\u5728\u53ef\u4ee5\u79fb\u52a8\u5230\u6761\u4ef6\u5e76\u68c0\u67e5\u8ba1\u6570\u5668\u662f\u5426\u7b49\u4e8e1\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u73b0\u5728\u8ba9\u6211\u4eec\u8f6c\u5411\u66f4\u590d\u6742\u7684\u6d4b\u8bd5\u7528\u4f8b\u3002</p> <p>\u4f60\u51c6\u5907\u597d\u4e86\u5417?</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#5-react-redux","title":"5.\u6d4b\u8bd5 React Redux","text":"<p>\u8ba9\u6211\u4eec\u68c0\u67e5\u4e00\u4e0b <code>TestRedux.js</code> \u662f\u4ec0\u4e48\u6837\u5b50\u7684\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#testreduxjs","title":"TestRedux.js","text":"<pre><code>import React from 'react'\nimport { connect } from 'react-redux'\n\nconst TestRedux = ({counter, dispatch}) =&gt; {\n\n const increment = () =&gt; dispatch({ type: 'INCREMENT' })\n const decrement = () =&gt; dispatch({ type: 'DECREMENT' })\n\n return (\n  &lt;&gt;\n    &lt;h1 data-testid=\"counter\"&gt;{ counter }&lt;/h1&gt;\n    &lt;button data-testid=\"button-up\" onClick={increment}&gt;Up&lt;/button&gt;\n    &lt;button data-testid=\"button-down\" onClick={decrement}&gt;Down&lt;/button&gt;\n &lt;/&gt;\n    )\n  }\n\nexport default connect(state =&gt; ({ counter: state.count }))(TestRedux)\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#storereducerjs","title":"store/reducer.js","text":"<pre><code>export const initialState = {\n    count: 0,\n  }\n\n  export function reducer(state = initialState, action) {\n    switch (action.type) {\n      case 'INCREMENT':\n        return {\n          count: state.count + 1,\n        }\n      case 'DECREMENT':\n        return {\n          count: state.count - 1,\n        }\n      default:\n        return state\n    }\n  }\n</code></pre> <p>\u6b63\u5982\u60a8\u6240\u770b\u5230\u7684\uff0c\u6ca1\u6709\u4ec0\u4e48\u7279\u522b\u7684\u3002 \u5b83\u53ea\u662f\u4e00\u4e2a\u7531 <code>React Redux</code> \u5904\u7406\u7684\u57fa\u672c\u8ba1\u6570\u5668\u7ec4\u4ef6\u3002</p> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u6765\u7f16\u5199\u5355\u5143\u6d4b\u8bd5\u3002</p> <p>\u6d4b\u8bd5\u521d\u59cb\u72b6\u6001\u662f\u5426\u4e3a0:</p> <pre><code>import React from 'react'\nimport \"@testing-library/jest-dom/extend-expect\";\nimport { createStore } from 'redux'\nimport { Provider } from 'react-redux'\nimport { render, cleanup, fireEvent } from '@testing-library/react';\nimport { initialState, reducer } from '../store/reducer'\nimport TestRedux from '../components/TestRedux'\n\nconst renderWithRedux = (\n  component,\n  { initialState, store = createStore(reducer, initialState) } = {}\n) =&gt; {\n  return {\n    ...render(&lt;Provider store={store}&gt;{component}&lt;/Provider&gt;),\n    store,\n  }\n}\n\n afterEach(cleanup);\n\nit('checks initial state is equal to 0', () =&gt; {\n    const { getByTestId } = renderWithRedux(&lt;TestRedux /&gt;)\n    expect(getByTestId('counter')).toHaveTextContent('0')\n  })\n\n  it('increments the counter through redux', () =&gt; {\n    const { getByTestId } = renderWithRedux(&lt;TestRedux /&gt;, \n      {initialState: {count: 5}\n  })\n    fireEvent.click(getByTestId('button-up'))\n    expect(getByTestId('counter')).toHaveTextContent('6')\n  })\n\n  it('decrements the counter through redux', () =&gt; {\n    const { getByTestId} = renderWithRedux(&lt;TestRedux /&gt;, {\n      initialState: { count: 100 },\n    })\n    fireEvent.click(getByTestId('button-down'))\n    expect(getByTestId('counter')).toHaveTextContent('99')\n  })\n</code></pre> <p>\u6211\u4eec\u9700\u8981\u5bfc\u5165\u4e00\u4e9b\u4e1c\u897f\u6765\u6d4b\u8bd5 <code>React Redux</code> \u3002\u8fd9\u91cc\uff0c\u6211\u4eec\u521b\u5efa\u4e86\u81ea\u5df1\u7684\u52a9\u624b\u51fd\u6570 <code>renderWithRedux()</code> \u6765\u5448\u73b0\u7ec4\u4ef6\uff0c\u56e0\u4e3a\u5b83\u5c06\u88ab\u591a\u6b21\u4f7f\u7528\u3002</p> <p><code>renderWithRedux()</code> \u4f5c\u4e3a\u53c2\u6570\u63a5\u6536\u8981\u5448\u73b0\u7684\u7ec4\u4ef6\u3001\u521d\u59cb\u72b6\u6001\u548c\u5b58\u50a8\u3002\u5982\u679c\u6ca1\u6709\u5b58\u50a8\uff0c\u5b83\u5c06\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5b58\u50a8\uff0c\u5982\u679c\u5b83\u6ca1\u6709\u63a5\u6536\u521d\u59cb\u72b6\u6001\u6216\u5b58\u50a8\uff0c\u5b83\u5c06\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528<code>render()</code>\u6765\u5448\u73b0\u7ec4\u4ef6\u5e76\u5c06\u5b58\u50a8\u4f20\u9012\u7ed9\u63d0\u4f9b\u8005\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u73b0\u5728\u53ef\u4ee5\u5c06\u7ec4\u4ef6 <code>TestRedux</code> \u4f20\u9012\u7ed9 <code>renderWithRedux()</code> \u6765\u6d4b\u8bd5\u8ba1\u6570\u5668\u662f\u5426\u7b49\u4e8e0\u3002</p> <p>\u6d4b\u8bd5\u8ba1\u6570\u5668\u7684\u589e\u51cf\u662f\u5426\u6b63\u786e:</p> <p>\u4e3a\u4e86\u6d4b\u8bd5\u9012\u589e\u548c\u9012\u51cf\u4e8b\u4ef6\uff0c\u6211\u4eec\u5c06\u521d\u59cb\u72b6\u6001\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u9012\u7ed9<code>renderWithRedux()</code>\u3002\u73b0\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u5355\u51fb\u6309\u94ae\u5e76\u6d4b\u8bd5\u9884\u671f\u7684\u7ed3\u679c\u662f\u5426\u7b26\u5408\u6761\u4ef6\u3002</p> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u8fdb\u5165\u4e0b\u4e00\u8282\u5e76\u4ecb\u7ecd React Context\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#6-react-context","title":"6. \u6d4b\u8bd5 React Context","text":"<p>\u8ba9\u6211\u4eec\u68c0\u67e5\u4e00\u4e0b <code>TextContext.js</code> \u662f\u4ec0\u4e48\u6837\u5b50\u7684\u3002</p> <pre><code>import React from \"react\"\n\nexport const CounterContext = React.createContext()\n\nconst CounterProvider = () =&gt; {\n  const [counter, setCounter] = React.useState(0)\n  const increment = () =&gt; setCounter(counter + 1)\n  const decrement = () =&gt; setCounter(counter - 1)\n\n  return (\n    &lt;CounterContext.Provider value={{ counter, increment, decrement }}&gt;\n      &lt;Counter /&gt;\n    &lt;/CounterContext.Provider&gt;\n  )\n}\n\nexport const Counter = () =&gt; {  \n    const { counter, increment, decrement } = React.useContext(CounterContext)   \n    return (\n     &lt;&gt;\n       &lt;h1 data-testid=\"counter\"&gt;{ counter }&lt;/h1&gt;\n       &lt;button data-testid=\"button-up\" onClick={increment}&gt; Up&lt;/button&gt;\n       &lt;button data-testid=\"button-down\" onClick={decrement}&gt;Down&lt;/button&gt;\n    &lt;/&gt;\n       )\n}\n\nexport default CounterProvider\n</code></pre> <p>\u73b0\u5728\uff0c\u901a\u8fc7 React Context \u7ba1\u7406\u8ba1\u6570\u5668\u72b6\u6001\u3002\u8ba9\u6211\u4eec\u7f16\u5199\u5355\u5143\u6d4b\u8bd5\u6765\u68c0\u67e5\u5b83\u662f\u5426\u6309\u9884\u671f\u8fd0\u884c\u3002</p> <p>\u6d4b\u8bd5\u521d\u59cb\u72b6\u6001\u662f\u5426\u4e3a0:</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#textcontexttestjs","title":"TextContext.test.js","text":"<pre><code>import React from 'react'\nimport \"@testing-library/jest-dom/extend-expect\";\nimport { render, cleanup,  fireEvent } from '@testing-library/react'\nimport CounterProvider, { CounterContext, Counter } from '../components/TestContext'\n\nconst renderWithContext = (\n  component) =&gt; {\n  return {\n    ...render(\n        &lt;CounterProvider value={CounterContext}&gt;\n            {component}\n        &lt;/CounterProvider&gt;)\n  }\n}\n\nafterEach(cleanup);\n\nit('checks if initial state is equal to 0', () =&gt; {\n    const { getByTestId } = renderWithContext(&lt;Counter /&gt;)\n    expect(getByTestId('counter')).toHaveTextContent('0')\n})\n\nit('increments the counter', () =&gt; {\n    const { getByTestId } = renderWithContext(&lt;Counter /&gt;)\n\n    fireEvent.click(getByTestId('button-up'))\n    expect(getByTestId('counter')).toHaveTextContent('1')\n  })\n\n  it('decrements the counter', () =&gt; {\n    const { getByTestId} = renderWithContext(&lt;Counter /&gt;)\n\n    fireEvent.click(getByTestId('button-down'))\n    expect(getByTestId('counter')).toHaveTextContent('-1')\n  })\n</code></pre> <p>\u4e0e\u524d\u9762\u7684React Redux\u90e8\u5206\u4e00\u6837\uff0c\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u76f8\u540c\u7684\u65b9\u6cd5\uff0c\u521b\u5efa\u4e00\u4e2a\u52a9\u624b\u51fd\u6570<code>renderWithContext()</code>\u6765\u5448\u73b0\u7ec4\u4ef6\u3002\u4f46\u662f\u8fd9\u4e00\u6b21\uff0c\u5b83\u53ea\u63a5\u6536\u4f5c\u4e3a\u53c2\u6570\u7684\u7ec4\u4ef6\u3002\u4e3a\u4e86\u521b\u5efa\u65b0\u7684\u4e0a\u4e0b\u6587\uff0c\u6211\u4eec\u5c06<code>CounterContext</code>\u4f20\u9012\u7ed9 Provider\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u6d4b\u8bd5\u8ba1\u6570\u5668\u6700\u521d\u662f\u5426\u7b49\u4e8e0\u3002 \u90a3\u4e48\uff0c\u8ba1\u6570\u5668\u7684\u589e\u51cf\u662f\u5426\u6b63\u786e\u5462\uff1f</p> <p>\u6b63\u5982\u60a8\u6240\u770b\u5230\u7684\uff0c\u8fd9\u91cc\u6211\u4eec\u89e6\u53d1\u4e00\u4e2a <code>click</code> \u4e8b\u4ef6\u6765\u6d4b\u8bd5\u8ba1\u6570\u5668\u662f\u5426\u6b63\u786e\u5730\u589e\u52a0\u52301\u5e76\u51cf\u5c11\u5230-1\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u73b0\u5728\u53ef\u4ee5\u8fdb\u5165\u4e0b\u4e00\u8282\u5e76\u4ecb\u7ecdReact Router\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#7-react-router","title":"7. \u6d4b\u8bd5 React Router","text":"<p>\u8ba9\u6211\u4eec\u68c0\u67e5\u4e00\u4e0b <code>TestRouter.js</code> \u662f\u4ec0\u4e48\u6837\u5b50\u7684\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#testrouterjs","title":"TestRouter.js","text":"<pre><code>import React from 'react'\n\nimport { Link, Route, Switch,  useParams } from 'react-router-dom'\n\nconst About = () =&gt; &lt;h1&gt;About page&lt;/h1&gt;\n\nconst Home = () =&gt; &lt;h1&gt;Home page&lt;/h1&gt;\n\nconst Contact = () =&gt; {\n const { name } = useParams()\n\n return &lt;h1 data-testid=\"contact-name\"&gt;{name}&lt;/h1&gt;\n}\n\nconst TestRouter = () =&gt; {\n    const name = 'John Doe'\n    return (\n    &lt;&gt;\n    &lt;nav data-testid=\"navbar\"&gt;\n      &lt;Link data-testid=\"home-link\" to=\"/\"&gt;Home&lt;/Link&gt;\n      &lt;Link data-testid=\"about-link\" to=\"/about\"&gt;About&lt;/Link&gt;\n      &lt;Link data-testid=\"contact-link\" to={`/contact/${name}`}&gt;Contact&lt;/Link&gt;\n    &lt;/nav&gt;\n\n      &lt;Switch&gt;\n        &lt;Route exact path=\"/\" component={Home} /&gt;\n        &lt;Route path=\"/about\" component={About} /&gt;\n        &lt;Route path=\"/about:name\" component={Contact} /&gt;\n      &lt;/Switch&gt;\n    &lt;/&gt;\n  )\n}\n\nexport default TestRouter\n</code></pre> <p>\u8fd9\u91cc\uff0c\u5c06\u6d4b\u8bd5\u8def\u7531\u5bf9\u5e94\u7684\u9875\u9762\u4fe1\u606f\u662f\u5426\u6b63\u786e\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#testroutertestjs","title":"TestRouter.test.js","text":"<pre><code>import React from 'react'\nimport \"@testing-library/jest-dom/extend-expect\";\nimport { Router } from 'react-router-dom'\nimport { render, fireEvent } from '@testing-library/react'\nimport { createMemoryHistory } from 'history'\nimport TestRouter from '../components/TestRouter'\n\n\nconst renderWithRouter = (component) =&gt; {\n    const history = createMemoryHistory()\n    return { \n    ...render (\n    &lt;Router history={history}&gt;\n        {component}\n    &lt;/Router&gt;\n    )\n  }\n}\n\nit('should render the home page', () =&gt; {\n  const { container, getByTestId } = renderWithRouter(&lt;TestRouter /&gt;) \n  const navbar = getByTestId('navbar')\n  const link = getByTestId('home-link')\n  expect(container.innerHTML).toMatch('Home page')\n  expect(navbar).toContainElement(link)\n})\n\nit('should navigate to the about page', ()=&gt; {\n    const { container, getByTestId } = renderWithRouter(&lt;TestRouter /&gt;) \n    fireEvent.click(getByTestId('about-link'))\n    expect(container.innerHTML).toMatch('About page')\n  })\n\n  it('should navigate to the contact page with the params', ()=&gt; {\n    const { container, getByTestId } = renderWithRouter(&lt;TestRouter /&gt;) \n    fireEvent.click(getByTestId('contact-link'))\n    expect(container.innerHTML).toMatch('John Doe')\n  })\n</code></pre> <p>\u8981\u6d4b\u8bd5React Router\uff0c\u6211\u4eec\u9996\u5148\u5fc5\u987b\u6709\u4e00\u4e2a\u5bfc\u822a\u5386\u53f2\u8bb0\u5f55\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u4f7f\u7528 <code>createMemoryHistory()</code> \u6765\u521b\u5efa\u5bfc\u822a\u5386\u53f2\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u52a9\u624b\u51fd\u6570 <code>renderWithRouter()</code> \u6765\u5448\u73b0\u7ec4\u4ef6\uff0c\u5e76\u5c06\u5386\u53f2\u8bb0\u5f55\u4f20\u9012\u7ed9\u8def\u7531\u5668\u7ec4\u4ef6\u3002\u8fd9\u6837\uff0c\u6211\u4eec\u73b0\u5728\u5c31\u53ef\u4ee5\u6d4b\u8bd5\u5728\u5f00\u59cb\u65f6\u52a0\u8f7d\u7684\u9875\u9762\u662f\u5426\u662f\u4e3b\u9875\u3002\u4ee5\u53ca\u5bfc\u822a\u680f\u662f\u5426\u52a0\u8f7d\u4e86\u9884\u671f\u7684\u94fe\u63a5\u3002</p> <p>\u6d4b\u8bd5\u5f53\u6211\u4eec\u70b9\u51fb\u94fe\u63a5\u65f6\uff0c\u5b83\u662f\u5426\u7528\u53c2\u6570\u5bfc\u822a\u5230\u5176\u4ed6\u9875\u9762:</p> <p>\u73b0\u5728\uff0c\u8981\u68c0\u67e5\u5bfc\u822a\u662f\u5426\u5de5\u4f5c\uff0c\u6211\u4eec\u5fc5\u987b\u89e6\u53d1\u5bfc\u822a\u94fe\u63a5\u4e0a\u7684\u5355\u51fb\u4e8b\u4ef6\u3002</p> <p>\u5bf9\u4e8e\u7b2c\u4e00\u4e2a\u6d4b\u8bd5\uff0c\u6211\u4eec\u68c0\u67e5\u5185\u5bb9\u662f\u5426\u7b49\u4e8eAbout\u9875\u9762\u4e2d\u7684\u6587\u672c\uff0c\u5bf9\u4e8e\u7b2c\u4e8c\u4e2a\u6d4b\u8bd5\uff0c\u6211\u4eec\u6d4b\u8bd5\u8def\u7531\u53c2\u6570\u5e76\u68c0\u67e5\u5b83\u662f\u5426\u6b63\u786e\u901a\u8fc7\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u8fdb\u5165\u6700\u540e\u4e00\u8282\uff0c\u5b66\u4e60\u5982\u4f55\u6d4b\u8bd5Axios\u8bf7\u6c42\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#8-http","title":"8. \u6d4b\u8bd5HTTP\u8bf7\u6c42","text":"<p>\u8ba9\u6211\u4eec\u68c0\u67e5\u4e00\u4e0b <code>TestRouter.js</code> \u662f\u4ec0\u4e48\u6837\u5b50\u7684\u3002</p> <pre><code>import React from 'react'\nimport axios from 'axios'\n\nconst TestAxios = ({ url }) =&gt; {\n  const [data, setData] = React.useState()\n\n  const fetchData = async () =&gt; {\n    const response = await axios.get(url)\n    setData(response.data.greeting)    \n }     \n\n return (\n  &lt;&gt;\n    &lt;button onClick={fetchData} data-testid=\"fetch-data\"&gt;Load Data&lt;/button&gt;\n    { \n    data ?\n    &lt;div data-testid=\"show-data\"&gt;{data}&lt;/div&gt;:\n    &lt;h1 data-testid=\"loading\"&gt;Loading...&lt;/h1&gt;\n    }\n  &lt;/&gt;\n     )\n\n}\n\nexport default TestAxios\n</code></pre> <p>\u6b63\u5982\u60a8\u5728\u8fd9\u91cc\u770b\u5230\u7684\uff0c\u6211\u4eec\u6709\u4e00\u4e2a\u7b80\u5355\u7684\u7ec4\u4ef6\uff0c\u5b83\u6709\u4e00\u4e2a\u7528\u4e8e\u53d1\u51fa\u8bf7\u6c42\u7684\u6309\u94ae\u3002\u5982\u679c\u6570\u636e\u4e0d\u53ef\u7528\uff0c\u5b83\u5c06\u663e\u793a\u4e00\u4e2a\u52a0\u8f7d\u6d88\u606f\u3002</p> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u7f16\u5199\u6d4b\u8bd5\u3002</p> <p>\u6765\u9a8c\u8bc1\u6570\u636e\u662f\u5426\u6b63\u786e\u83b7\u53d6\u548c\u663e\u793a:</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#textaxiostestjs","title":"TextAxios.test.js","text":"<pre><code>import React from 'react'\nimport \"@testing-library/jest-dom/extend-expect\";\nimport { render, waitForElement, fireEvent } from '@testing-library/react'\nimport axiosMock from 'axios'\nimport TestAxios from '../components/TestAxios'\n\njest.mock('axios')\n\nit('should display a loading text', () =&gt; {\n  const { getByTestId } = render(&lt;TestAxios /&gt;)\n  expect(getByTestId('loading')).toHaveTextContent('Loading...')\n})\n\nit('should load and display the data', async () =&gt; {\n  const url = '/greeting'\n  const { getByTestId } = render(&lt;TestAxios url={url} /&gt;)\n  axiosMock.get.mockResolvedValueOnce({\n    data: { greeting: 'hello there' },\n  })\n  fireEvent.click(getByTestId('fetch-data'))\n  const greetingData = await waitForElement(() =&gt; getByTestId('show-data'))\n  expect(axiosMock.get).toHaveBeenCalledTimes(1)\n  expect(axiosMock.get).toHaveBeenCalledWith(url)\n  expect(greetingData).toHaveTextContent('hello there')\n})\n</code></pre> <p>\u8fd9\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u6709\u70b9\u4e0d\u540c\uff0c\u56e0\u4e3a\u6211\u4eec\u5fc5\u987b\u5904\u7406HTTP\u8bf7\u6c42\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u5fc5\u987b\u5728<code>jest.mock('axios')</code>\u7684\u5e2e\u52a9\u4e0b\u6a21\u62dfaxios\u8bf7\u6c42\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528axiosMock\u5e76\u5bf9\u5176\u5e94\u7528<code>get()</code>\u65b9\u6cd5\u3002\u6700\u540e\uff0c\u6211\u4eec\u5c06\u4f7f\u7528Jest\u51fd\u6570<code>mockResolvedValueOnce()</code>\u6765\u4f20\u9012\u6a21\u62df\u6570\u636e\u4f5c\u4e3a\u53c2\u6570\u3002</p> <p>\u73b0\u5728\uff0c\u5bf9\u4e8e\u7b2c\u4e8c\u4e2a\u6d4b\u8bd5\uff0c\u6211\u4eec\u53ef\u4ee5\u5355\u51fb\u6309\u94ae\u6765\u83b7\u53d6\u6570\u636e\u5e76\u4f7f\u7528<code>async/await</code>\u6765\u89e3\u6790\u5b83\u3002\u73b0\u5728\u6211\u4eec\u8981\u6d4b\u8bd5\u4e09\u4ef6\u4e8b:</p> <ul> <li>\u5982\u679cHTTP\u8bf7\u6c42\u5df2\u7ecf\u6b63\u786e\u5b8c\u6210</li> <li>\u5982\u679c\u4f7f\u7528url\u5b8c\u6210\u4e86HTTP\u8bf7\u6c42</li> <li>\u5982\u679c\u83b7\u53d6\u7684\u6570\u636e\u7b26\u5408\u671f\u671b\u3002</li> </ul> <p>\u5bf9\u4e8e\u7b2c\u4e00\u4e2a\u6d4b\u8bd5\uff0c\u6211\u4eec\u53ea\u68c0\u67e5\u52a0\u8f7d\u6d88\u606f\u5728\u6ca1\u6709\u6570\u636e\u8981\u663e\u793a\u65f6\u662f\u5426\u663e\u793a\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u73b0\u5728\u5df2\u7ecf\u5b8c\u6210\u4e86\u516b\u4e2a\u7b80\u5355\u7684\u6b65\u9aa4\u6765\u6d4b\u8bd5\u4f60\u7684React\u5e94\u7528\u7a0b\u5e8f\u3002</p> <p>\u66f4\u591a\u4f8b\u5b50\u8bf7\u53c2\u8003React Testing Library\u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_5","title":"\u7ed3\u8bed","text":"<p><code>React Testing Library</code> \u662f\u7528\u4e8e\u6d4b\u8bd5 React \u5e94\u7528\u7684\u4e00\u5927\u5229\u5668\u3002\u5b83\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u8bbf\u95ee <code>jest-dom</code> \u5339\u914d\u5668\u7684\u673a\u4f1a\uff0c\u4ee5\u53ca\u6700\u4f73\u5b9e\u8df5\uff0c\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u66f4\u6709\u6548\u5730\u6d4b\u8bd5\u6211\u4eec\u7684\u7ec4\u4ef6\u3002\u5e0c\u671b\u8fd9\u7bc7\u6587\u7ae0\u662f\u6709\u7528\u7684\uff0c\u5b83\u5c06\u5e2e\u52a9\u60a8\u5728\u672a\u6765\u6784\u5efa\u66f4\u52a0\u5065\u58ee\u7684 React \u5e94\u7528\u7a0b\u5e8f\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%20Testing%20Library%20%E5%92%8C%20Jest%20%E5%AE%8C%E6%88%90%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_6","title":"\u53c2\u8003\u6587\u7ae0","text":"<ul> <li>React \u5b98\u65b9\u6587\u6863</li> <li>React Testing Library \u5b98\u65b9\u6587\u6863</li> <li>How to Start Testing Your React Apps Using the React Testing Library and Jest</li> <li>Test React apps with React Testing Library</li> </ul> <p>\u5355\u5143\u6d4b\u8bd5 test react.js jest</p> <p>\u9605\u8bfb 8.5k\u53d1\u5e03\u4e8e 2020-03-18</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/","title":"React\u7ec4\u4ef6\u5e93\u642d\u5efa\u603b\u7ed3","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 47343  \u9605\u8bfb95\u5206\u949f</p> <p>2021-10</p> <p>\u539f\u4f5c\u8005\u8fd1\u4e09\u5e74\u6ca1\u6709\u66f4\u65b0\u4ee3\u7801\uff0c\u672c\u6848\u4f8b\u4ec5\u4f9b\u53c2\u8003</p> <p>\u539f\u59cb\u4ee3\u7801\u4ed3\u5e93\u5730\u5740\uff1ahttps://github.com/worldzhao/react-ui-library-tutorial</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_1","title":"\u6982\u89c8","text":"<p>\u672c\u6587\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <ul> <li>prepare: \u7ec4\u4ef6\u5e93\u524d\u671f\u5f00\u53d1\u51c6\u5907\u5de5\u4f5c\u3002<code>eslint</code>/<code>commit lint</code>/<code>typescript</code>\u7b49\u7b49\uff1b</li> <li>dev: \u4f7f\u7528docz\u8fdb\u884c\u5f00\u53d1\u8c03\u8bd5\u4ee5\u53ca\u6587\u6863\u7f16\u5199\uff1b</li> <li>build:<code>umd</code>/<code>cjs</code>/<code>esm</code>\u3001types\u3001polyfill \u4ee5\u53ca\u6309\u9700\u52a0\u8f7d\uff1b</li> <li>test: \u7ec4\u4ef6\u6d4b\u8bd5\uff1b</li> <li>release: \u7ec4\u4ef6\u5e93\u53d1\u5e03\u6d41\u7a0b\uff1b</li> <li>deploy: \u4f7f\u7528now\u90e8\u7f72\u6587\u6863\u7ad9\u70b9\uff0c\u5f85\u8865\u5145\uff1b</li> <li>other: \u4f7f\u7528plop.js\u5feb\u901f\u521b\u5efa\u7ec4\u4ef6\u6a21\u677f\u3002</li> </ul>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_2","title":"\u51c6\u5907\u5de5\u4f5c","text":""},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_3","title":"\u521d\u59cb\u5316\u9879\u76ee","text":"<p>\u65b0\u5efa\u4e00\u4e2a<code>happy-ui</code>\u6587\u4ef6\u5939\uff0c\u5e76\u521d\u59cb\u5316\u3002</p> <pre><code>mkdir happy-ui\n\ncd happy-ui\n\nnpm init --y\n\nmkdir components &amp;&amp; cd components &amp;&amp; touch index.ts # \u65b0\u5efa\u6e90\u7801\u6587\u4ef6\u5939\u4ee5\u53ca\u5165\u53e3\u6587\u4ef6\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_4","title":"\u4ee3\u7801\u89c4\u8303","text":"<p>\u6b64\u5904\u76f4\u63a5\u4f7f\u7528@umijs/fabric\u7684\u914d\u7f6e\u3002</p> <pre><code>yarn add @umijs/fabric --dev\n\nyarn add prettier --dev # \u56e0\u4e3a@umijs/fabric\u6ca1\u6709\u5c06prettier\u4f5c\u4e3a\u4f9d\u8d56 \u6240\u4ee5\u6211\u4eec\u9700\u8981\u624b\u52a8\u5b89\u88c5\n</code></pre> <p>.eslintrc.js</p> <pre><code>module.exports = {\n  extends: [require.resolve('@umijs/fabric/dist/eslint')],\n};\n</code></pre> <p>.prettierrc.js</p> <pre><code>const fabric = require('@umijs/fabric');\n\nmodule.exports = {\n  ...fabric.prettier,\n};\n</code></pre> <p>.stylelintrc.js</p> <pre><code>module.exports = {\n  extends: [require.resolve('@umijs/fabric/dist/stylelint')],\n};\n</code></pre> <p>\u60f3\u81ea\u884c\u914d\u7f6e\u7684\u540c\u5b66\u53ef\u4ee5\u53c2\u8003\u4ee5\u4e0b\u6587\u7ae0\uff1a</p> <ul> <li>Linting Your React+Typescript Project with ESLint and Prettier!</li> <li>\u4f7f\u7528 ESLint+Prettier \u89c4\u8303 React+Typescript \u9879\u76ee</li> </ul>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#commit-lint","title":"Commit Lint","text":"<p>\u8fdb\u884c<code>pre-commit</code>\u4ee3\u7801\u89c4\u8303\u68c0\u6d4b\u3002</p> <pre><code>yarn add husky lint-staged --dev\n</code></pre> <p>package.json</p> <pre><code>\"lint-staged\": {\n  \"components/**/*.ts?(x)\": [\n    \"prettier --write\",\n    \"eslint --fix\",\n    \"git add\"\n  ],\n  \"components/**/*.less\": [\n    \"stylelint --syntax less --fix\",\n    \"git add\"\n  ]\n},\n\"husky\": {\n  \"hooks\": {\n    \"pre-commit\": \"lint-staged\"\n  }\n}\n</code></pre> <p>\u8fdb\u884c Commit Message \u68c0\u6d4b\u3002</p> <pre><code>yarn add @commitlint/cli @commitlint/config-conventional commitizen cz-conventional-changelog --dev\n</code></pre> <p>\u65b0\u589e<code>.commitlintrc.js</code>\u5199\u5165\u4ee5\u4e0b\u5185\u5bb9</p> <pre><code>module.exports = { extends: ['@commitlint/config-conventional'] };\n</code></pre> <p>package.json \u5199\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>// ...\n\"scripts\": {\n  \"commit\": \"git-cz\",\n}\n// ...\n\"husky\": {\n  \"hooks\": {\n    \"commit-msg\": \"commitlint -E HUSKY_GIT_PARAMS\",\n    \"pre-commit\": \"lint-staged\"\n  }\n},\n\"config\": {\n  \"commitizen\": {\n    \"path\": \"cz-conventional-changelog\"\n  }\n}\n</code></pre> <p>\u540e\u7eed\u4f7f\u7528 <code>yarn commit</code> \u66ff\u4ee3 <code>git commit</code>\u751f\u6210\u89c4\u8303\u7684 Commit Message\uff0c\u5f53\u7136\u4e3a\u4e86\u6548\u7387\u4f60\u53ef\u4ee5\u9009\u62e9\u624b\u5199\uff0c\u4f46\u662f\u8981\u7b26\u5408\u89c4\u8303\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#typescript","title":"TypeScript","text":"<pre><code>yarn add typescript --dev\n</code></pre> <p>\u65b0\u5efa<code>tsconfig.json</code>\u5e76\u5199\u5165\u4ee5\u4e0b\u5185\u5bb9</p> <pre><code>{\n  \"compilerOptions\": {\n    \"baseUrl\": \"./\",\n    \"target\": \"esnext\",\n    \"module\": \"commonjs\",\n    \"jsx\": \"react\",\n    \"declaration\": true,\n    \"declarationDir\": \"lib\",\n    \"strict\": true,\n    \"moduleResolution\": \"node\",\n    \"allowSyntheticDefaultImports\": true,\n    \"esModuleInterop\": true,\n    \"resolveJsonModule\": true\n  },\n  \"include\": [\"components\", \"global.d.ts\"],\n  \"exclude\": [\"node_modules\"]\n}\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_5","title":"\u6d4b\u8bd5","text":"<p>\u5728<code>components</code>\u6587\u4ef6\u5939\u4e0b\u65b0\u5efa<code>alert</code>\u6587\u4ef6\u5939\uff0c\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>alert\n    \u251c\u2500\u2500 alert.tsx           # \u6e90\u6587\u4ef6\n    \u251c\u2500\u2500 index.ts            # \u5165\u53e3\u6587\u4ef6\n    \u251c\u2500\u2500 interface.ts        # \u7c7b\u578b\u58f0\u660e\u6587\u4ef6\n    \u2514\u2500\u2500 style\n        \u251c\u2500\u2500 index.less      # \u6837\u5f0f\u6587\u4ef6\n        \u2514\u2500\u2500 index.ts        # \u6837\u5f0f\u6587\u4ef6\u91cc\u4e3a\u4ec0\u4e48\u5b58\u5728\u4e00\u4e2aindex.ts - \u6309\u9700\u52a0\u8f7d\u6837\u5f0f \u7ba1\u7406\u6837\u5f0f\u4f9d\u8d56 \u540e\u9762\u7ae0\u8282\u4f1a\u63d0\u5230\n</code></pre> <p>\u5b89\u88c5<code>React</code>\u76f8\u5173\u4f9d\u8d56\uff1a</p> <pre><code>yarn add react react-dom @types/react @types/react-dom --dev \n# \u5f00\u53d1\u65f6\u4f9d\u8d56\uff0c\u5bbf\u4e3b\u73af\u5883\u4e00\u5b9a\u5b58\u5728\n\nyarn add prop-types            \n# \u8fd0\u884c\u65f6\u4f9d\u8d56\uff0c\u5bbf\u4e3b\u73af\u5883\u53ef\u80fd\u4e0d\u5b58\u5728 \u5b89\u88c5\u672c\u7ec4\u4ef6\u5e93\u65f6\u4e00\u8d77\u5b89\u88c5\n</code></pre> <p>\u6b64\u5904\u4f9d\u65e7\u5b89\u88c5\u4e86<code>prop-types</code>\u8fd9\u4e2a\u5e93\uff0c\u56e0\u4e3a\u65e0\u6cd5\u4fdd\u8bc1\u5bbf\u4e3b\u73af\u5883\u4e5f\u4f7f\u7528<code>typescript</code>\uff0c\u4ece\u800c\u80fd\u591f\u8fdb\u884c\u9759\u6001\u68c0\u67e5\uff0c\u6545\u4f7f\u7528<code>prop-types</code>\u4fdd\u8bc1<code>javascript</code>\u7528\u6237\u4e5f\u80fd\u5f97\u5230\u53cb\u597d\u7684\u8fd0\u884c\u65f6\u62a5\u9519\u4fe1\u606f\u3002</p> <p>components/alert/interface.ts</p> <pre><code>export type Kind = 'info' | 'positive' | 'negative' | 'warning';\nexport type KindMap = Record&lt;Kind, string&gt;;\n\nexport interface AlertProps {\n  /**\n   * Set this to change alert kind\n   * @default info\n   */\n  kind?: 'info' | 'positive' | 'negative' | 'warning';\n}\n</code></pre> <p>components/alert/alter.tsx</p> <pre><code>import React from 'react';\nimport t from 'prop-types';\n\nimport { AlertProps, KindMap } from './interface';\n\nconst prefixCls = 'happy-alert';\n\nconst kinds: KindMap = {\n  info: '#5352ED',\n  positive: '#2ED573',\n  negative: '#FF4757',\n  warning: '#FFA502',\n};\n\nconst Alert: React.FC&lt;AlertProps&gt; = ({ children, kind = 'info', ...rest }) =&gt; (\n  &lt;div\n    className={prefixCls}\n    style={{\n      background: kinds[kind],\n    }}\n    {...rest}\n  &gt;\n    {children}\n  &lt;/div&gt;\n);\n\nAlert.propTypes = {\n  kind: t.oneOf(['info', 'positive', 'negative', 'warning']),\n};\n\nexport default Alert;\n</code></pre> <p>components/alert/index.ts</p> <pre><code>import Alert from './alert';\n\nexport default Alert;\n\nexport * from './interface';\n</code></pre> <p>components/alert/style/index.less</p> <pre><code>@popupPrefix: happy-alert;\n\n.@{popupPrefix} {\n  padding: 20px;\n  background: white;\n  border-radius: 3px;\n  color: white;\n}\n</code></pre> <p>components/alert/style/index.ts</p> <pre><code>import './index.less';\n</code></pre> <p>components/index.ts</p> <pre><code>export { default as Alert } from './alert';\n</code></pre> <p>\u6b64\u5904\u7ec4\u4ef6\u53c2\u8003\u7684<code>docz</code>\u9879\u76ee<code>typescript</code>\u4ee5\u53ca<code>less</code>\u793a\u4f8b\u3002</p> <p>git \u4e00\u628a\u68ad\uff0c\u53ef\u4ee5\u770b\u5230\u63a7\u5236\u53f0\u5df2\u7ecf\u8fdb\u884c\u94a9\u5b50\u68c0\u6d4b\u4e86\u3002</p> <pre><code>git add .\n\nyarn commit  # \u6216 git commit -m'feat: chapter-1 \u51c6\u5907\u5de5\u4f5c'\n\ngit push\n</code></pre> <p>\u51c6\u5907\u5de5\u4f5c\u5b8c\u6210\u3002\u4ee3\u7801\u53ef\u4ee5\u5728\u4ed3\u5e93\u7684<code>chapter-1</code>\u5206\u652f\u83b7\u53d6\uff0c\u82e5\u5b58\u5728\u4e0e\u672c\u6587\u5185\u5bb9\u4e0d\u7b26\u7684\u5730\u65b9\uff0c\u4ee5<code>master</code>\u5206\u652f\u4ee5\u53ca\u6587\u7ae0\u4e3a\u51c6\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_6","title":"\u5f00\u53d1\u4e0e\u8c03\u8bd5","text":"<p>\u672c\u8282\u89e3\u51b3\u5f00\u53d1\u7ec4\u4ef6\u65f6\u7684\u9884\u89c8\u4ee5\u53ca\u8c03\u8bd5\u95ee\u9898\uff0c\u987a\u8def\u89e3\u51b3\u6587\u6863\u7f16\u5199\u3002</p> <p>\u6b64\u5904\u9009\u62e9docz\u6765\u8f85\u52a9\u9884\u89c8\u8c03\u8bd5\u3002</p> <p><code>docz</code>\u57fa\u4e8e<code>MDX</code>\uff08Markdown + JSX\uff09\uff0c\u53ef\u4ee5\u5728 Markdown \u4e2d\u5f15\u5165 React \u7ec4\u4ef6\uff0c\u4f7f\u5f97\u4e00\u8fb9\u7f16\u5199\u6587\u6863\uff0c\u4e00\u8fb9\u9884\u89c8\u8c03\u8bd5\u6210\u4e3a\u4e86\u53ef\u80fd\u3002\u800c\u4e14\u5f97\u76ca\u4e8e React \u7ec4\u4ef6\u751f\u6001\uff0c\u6211\u4eec\u53ef\u4ee5\u50cf\u7f16\u5199\u5e94\u7528\u4e00\u822c\u7f16\u5199\u6587\u6863\uff0c\u4e0d\u4ec5\u4ec5\u662f\u67af\u71e5\u7684\u6587\u5b57\u3002<code>docz</code> \u4e5f\u5185\u7f6e\u4e86\u4e00\u4e9b\u7ec4\u4ef6\uff0c\u6bd4\u5982<code>&lt;Playground&gt;</code>\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#docz","title":"\u5b89\u88c5 docz \u4ee5\u53ca\u81ea\u5b9a\u4e49\u914d\u7f6e","text":"<pre><code>yarn add docz --dev\n\nyarn add rimraf --dev # \u6e05\u7a7a\u76ee\u5f55\u7684\u4e00\u4e2a\u8f85\u52a9\u5e93\n</code></pre> <p>\u589e\u52a0 <code>npm scripts</code> \u81f3 <code>package.json</code>\u3002</p> <pre><code>\"scripts\": {\n  \"dev\": \"docz dev\", // \u542f\u52a8\u672c\u5730\u5f00\u53d1\u73af\u5883\n  \"start\": \"npm run dev\", // dev\u547d\u4ee4\u522b\u540d\n  \"build:doc\": \"rimraf doc-site &amp;&amp; docz build\", // \u540e\u7eed\u4f1a\u914d\u7f6e\u6253\u5305\u51fa\u6765\u7684\u6587\u4ef6\u76ee\u5f55\u540d\u4e3adoc-site\uff0c\u6545\u6bcf\u6b21build\u524d\u5220\u9664\n  \"preview:doc\": \"docz serve\" // \u9884\u89c8\u6587\u6863\u7ad9\u70b9\n},\n</code></pre> <p>\u6ce8\u610f\uff1a\u672c\u8282\u6240\u6709\u64cd\u4f5c\u90fd\u662f\u9488\u5bf9\u7ad9\u70b9\u5e94\u7528\u3002<code>\u6253\u5305</code>\u6307\u4ee3\u6587\u6863\u7ad9\u70b9\u6253\u5305\uff0c\u800c\u975e\u7ec4\u4ef6\u5e93\u3002</p> <p>\u65b0\u5efa<code>doczrc.js</code>\u914d\u7f6e\u6587\u4ef6\uff0c\u5e76\u5199\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <p>doczrc.js</p> <pre><code>export default {\n  files: './components/**/*.{md,markdown,mdx}', // \u8bc6\u522b\u7684\u6587\u4ef6\u540e\u7f00\n  dest: 'doc-site', // \u6253\u5305\u51fa\u6765\u7684\u6587\u4ef6\u76ee\u5f55\u540d\n  title: 'happy-ui', // \u7ad9\u70b9\u6807\u9898\n  typescript: true, // \u7ec4\u4ef6\u6e90\u6587\u4ef6\u662f\u901a\u8fc7typescript\u5f00\u53d1\uff0c\u9700\u8981\u6253\u5f00\u6b64\u9009\u9879\n};\n</code></pre> <p>\u7531\u4e8e\u4f7f\u7528\u4e86<code>less</code>\u4f5c\u4e3a\u6837\u5f0f\u9884\u5904\u7406\u5668\uff0c\u6545\u9700\u8981\u5b89\u88c5 less \u63d2\u4ef6\u3002</p> <pre><code>yarn add less gatsby-plugin-less --dev\n</code></pre> <p>\u65b0\u5efa<code>gatsby-config.js</code>\uff0c\u5e76\u5199\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <p>gatsby-config.js</p> <pre><code>module.exports = {\n  plugins: ['gatsby-theme-docz', 'gatsby-plugin-less'],\n};\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_7","title":"\u7f16\u5199\u6587\u6863","text":"<p>\u65b0\u5efa<code>components/alert/index.mdx</code>\uff0c\u5e76\u5199\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>---\nname: Alert \u8b66\u544a\u63d0\u793a\nroute: /Alert\nmenu: \u7ec4\u4ef6\n---\n\nimport { Playground } from 'docz'; import Alert from './alert'; // \u5f15\u5165\u7ec4\u4ef6 import './style'; // \u5f15\u5165\u7ec4\u4ef6\u6837\u5f0f\n\n# Alert \u8b66\u544a\u63d0\u793a\n\n\u8b66\u544a\u63d0\u793a\uff0c\u5c55\u73b0\u9700\u8981\u5173\u6ce8\u7684\u4fe1\u606f\u3002\n\n## \u4ee3\u7801\u6f14\u793a\n\n### \u57fa\u672c\u7528\u6cd5\n\n&lt;Playground&gt;\n  &lt;Alert kind=\"warning\"&gt;\u8fd9\u662f\u4e00\u6761\u8b66\u544a\u63d0\u793a&lt;/Alert&gt;\n&lt;/Playground&gt;\n\n## API\n\n| \u5c5e\u6027 | \u8bf4\u660e     | \u7c7b\u578b                                         | \u9ed8\u8ba4\u503c |\n| ---- | -------- | -------------------------------------------- | ------ |\n| kind | \u8b66\u544a\u7c7b\u578b | 'info'/'positive'/'negative'/'warning'\u975e\u5fc5\u586b | 'info' |\n</code></pre> <p>\u6267\u884c\u811a\u672c\u547d\u4ee4\uff1a</p> <pre><code>yarn start # or yarn dev\n</code></pre> <p>\u53ef\u4ee5\u5728<code>localhost:3000</code>\u770b\u5230\u5982\u4e0b\u9875\u9762 \uff1a</p> <p>\u6587\u6863\u7ad9\u70b9</p> <p>\u73b0\u5728\u53ef\u4ee5\u5728<code>index.mdx</code>\u4e2d\u6109\u5feb\u5730\u8fdb\u884c\u6587\u6863\u7f16\u5199\u548c\u8c03\u8bd5\u4e86\uff01</p> <p>\u5018\u82e5\u672c\u6587\u5230\u4e86\u8fd9\u91cc\u5c31\u7ed3\u675f\uff08\u5176\u5b9e\u4e5f\u53ef\u4ee5\u7ed3\u675f\u4e86<code>(_^\u25bd^_)</code>\uff09\uff0c\u90a3\u6211\u53ea\u662f\u5b98\u65b9\u6587\u6863\u7684\u7ffb\u8bd1\u590d\u8bfb\u673a\u7f62\u4e86\uff0c\u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u7ee7\u7eed\u5411\u4e0b\u770b\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_8","title":"\u4f18\u5316\u6587\u6863\u7f16\u5199","text":"<p>\u5982\u679c<code>\u4ee3\u7801\u6f14\u793a</code>\u90e8\u5206\u7684<code>demo</code>\u8f83\u591a\uff08\u6bd4\u5982\u57fa\u672c\u7528\u6cd5\u3001\u9ad8\u7ea7\u7528\u6cd5\u4ee5\u53ca\u5404\u79cd\u7528\u6cd5\u7b49\u7b49\uff09\uff0c\u5728\u7ec4\u4ef6\u590d\u6742\u7684\u60c5\u51b5\u4e0b\uff08\u6bd5\u7adf<code>&lt;Alert/&gt;</code>\u7740\u5b9e\u592a\u7b80\u5355\u4e86\uff09\uff0c\u4f1a\u5bfc\u81f4\u6587\u6863\u5f88\u957f\u96be\u4ee5\u7ef4\u62a4\uff0c\u4f60\u5230\u5e95\u662f\u5728\u5199\u6587\u6863\u5462\u8fd8\u662f\u5728\u5199\u4ee3\u7801\u5462\uff1f</p> <p>\u90a3\u5c31\u62bd\u79bb\u5427\u3002</p> <p>\u5728<code>components/alert/</code>\u6587\u4ef6\u5939\u4e0b\u65b0\u5efa<code>demo</code>\u6587\u4ef6\u5939\uff0c\u5b58\u653e\u6211\u4eec\u5728\u7f16\u5199\u6587\u6863\u65f6\u9700\u8981\u5f15\u7528\u7684 <code>demo</code>\u3002</p> <p>components/alert/demo/1-demo-basic.tsx</p> <pre><code>import React from 'react';\nimport Alert from '../alert';\nimport '../style';\n\nexport default () =&gt; &lt;Alert kind=\"warning\"&gt;&lt;/Alert&gt;;\n</code></pre> <p>components/alert/index.mdx</p> <pre><code>- import Alert from './alert'; // \u5f15\u5165\u7ec4\u4ef6\n- import './style'; // \u5f15\u5165\u7ec4\u4ef6\u6837\u5f0f\n+ import BasicDemo from './demo/1-demo-basic';\n\n...\n\n&lt;Playground&gt;\n- &lt;Alert kind=\"warning\"&gt;\u8fd9\u662f\u4e00\u6761\u8b66\u544a\u63d0\u793a&lt;/Alert&gt;\n+ &lt;BasicDemo /&gt;\n&lt;/Playground&gt;\n</code></pre> <p>\u8fd9\u6837\u6211\u4eec\u5c31\u5c06 demo \u4e0e\u6587\u6863\u8fdb\u884c\u4e86\u5206\u9694\u3002\u9884\u89c8\u5982\u4e0b\uff1a</p> <p>\u6587\u6863\u91cd\u6784</p> <p>\u7b49\u7b49\uff0c\u4e0b\u9762\u663e\u793a\u7684\u662f<code>&lt;BasicDemo /&gt;</code>\uff0c\u800c\u975e<code>demo</code>\u6e90\u7801\u3002</p> <p><code>&lt;Playground /&gt;</code>\u7ec4\u4ef6\u6682\u65f6\u65e0\u6cd5\u652f\u6301\u4e0a\u8ff0\u5f62\u5f0f\u7684\u5c55\u793a\uff1a\u81ea\u5b9a\u4e49\u4e0b\u65b9\u5c55\u793a\u7684\u4ee3\u7801\uff0c\u800c\u975e<code>&lt;Playground /&gt;</code>\u5185\u90e8\u7684\u4ee3\u7801\u3002\u76f8\u5173\u8ba8\u8bba\u5982\u4e0b\uff1a</p> <ul> <li>Allow to hide the LiveError overlay #907</li> <li>Allow to override the playground's editor's code #906</li> </ul> <p>\u5176\u5b9e\u7b2c\u4e00\u6761 <code>PR</code> \u5df2\u7ecf\u89e3\u51b3\u4e86\u95ee\u9898\uff0c\u4f46\u662f\u88ab\u5173\u95ed\u4e86\uff0c\u65e0\u5948\u3002</p> <p>\u4e0d\u8fc7\u65e2\u7136\u90fd\u80fd\u5f15\u5165 React \u7ec4\u4ef6\u4e86\uff0c\u5728<code>MDX</code>\u7684\u73af\u5883\u4e0b\u81ea\u5b9a\u4e49\u4e00\u4e2a<code>Playground</code>\u7ec4\u4ef6\u53c8\u6709\u4f55\u96be\u5462\uff0c\u65e0\u975e\u5c31\u662f\u6e32\u67d3\u7ec4\u4ef6\uff08MDX \u81ea\u5e26\uff09\u548c\u5c55\u793a\u6e90\u7801\uff0c\u7b80\u5355\u5f00\u653e\u7684\u4e1c\u897f\u5927\u5bb6\u90fd\u662f\u559c\u95fb\u4e50\u89c1\u7684\uff0c\u5c31\u53eb<code>HappyBox</code>\u5427\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_9","title":"\u4f18\u5316\u4ee3\u7801\u5c55\u793a","text":""},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_10","title":"\u7f16\u5199 ``\u7ec4\u4ef6","text":"<p>\u5b89\u88c5\u4f9d\u8d56\uff1a</p> <pre><code>yarn add react-use react-tooltip react-feather react-simple-code-editor prismjs react-copy-to-clipboard raw-loader styled-components --dev\n</code></pre> <ul> <li>react-use - 2020 \u5e74\u4e86\uff0c\u5f53\u7136\u8981\u7528<code>hooks</code></li> <li>react-simple-code-editor - \u4ee3\u7801\u5c55\u793a\u533a\u57df</li> <li>prismjs - \u4ee3\u7801\u9ad8\u4eae</li> <li>raw-loader - \u5c06\u6e90\u7801\u8f6c\u6210\u5b57\u7b26\u4e32</li> <li>react-copy-to-clipboard - \u8ba9\u7528\u6237\u7238\u7238\u4eec\u80fd\u591f copy demo \u4ee3\u7801</li> <li>react-tooltip/react-feather \u8f85\u52a9\u7ec4\u4ef6</li> <li>styled-components \u65b9\u4fbf\u5728\u6587\u6863\u793a\u4f8b\u4e2d\u8ba9\u7528\u6237\u770b\u5230\u6837\u5f0f\uff0c\u4e5f\u7528\u4f5c\u6587\u6863\u7ec4\u4ef6\u7684\u6837\u5f0f\u5904\u7406</li> </ul> <p>\u8fd9\u4e9b\u4f9d\u8d56\u90fd\u662f\u670d\u52a1\u4e8e\u6587\u6863\u7ad9\u70b9\u5e94\u7528\uff0c\u548c\u7ec4\u4ef6\u5e93\u81ea\u8eab\u6beb\u65e0\u5173\u8054\u3002</p> <p>\u6700\u7ec8\u6548\u679c\u5982\u4e0b\uff1a</p> <p>\u6700\u7ec8\u6548\u679c</p> <p>\u6839\u76ee\u5f55\u4e0b\u65b0\u5efa<code>doc-comps</code>\u6587\u4ef6\u5939\uff0c\u5b58\u653e\u6587\u6863\u4e2d\u4f7f\u7528\u7684\u4e00\u4e9b\u5de5\u5177\u7ec4\u4ef6\uff0c\u6bd4\u5982<code>&lt;HappyBox /&gt;</code>\u3002</p> <p>doc-comps</p> <pre><code>\u251c\u2500\u2500 happy-box\n\u2502   \u251c\u2500\u2500 style.ts\n\u2502   \u2514\u2500\u2500 index.tsx\n\u2514\u2500\u2500 index.ts\n</code></pre> <p>components/doc-comps/happy-box/index.tsx</p> <pre><code>import React from 'react';\nimport Editor from 'react-simple-code-editor';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport { useToggle } from 'react-use';\nimport ReactTooltip from 'react-tooltip';\nimport IconCopy from 'react-feather/dist/icons/clipboard';\nimport IconCode from 'react-feather/dist/icons/code';\nimport { highlight, languages } from 'prismjs/components/prism-core';\nimport { StyledContainer, StyledIconWrapper } from './style';\n\nimport 'prismjs/components/prism-clike';\nimport 'prismjs/components/prism-javascript';\nimport 'prismjs/components/prism-markup';\n\nrequire('prismjs/components/prism-jsx');\n\ninterface Props {\n  code: string;\n  title?: React.ReactNode;\n  desc?: React.ReactNode;\n}\n\nexport const HappyBox: React.FC&lt;Props&gt; = ({ code, title, desc, children }) =&gt; {\n  const [isEditVisible, toggleEditVisible] = useToggle(false);\n\n  return (\n    &lt;StyledContainer&gt;\n      &lt;section className=\"code-box-demo\"&gt; {children}&lt;/section&gt;\n      &lt;section className=\"code-box-meta\"&gt;\n        &lt;div className=\"text-divider\"&gt;\n          &lt;span&gt;{title || '\u793a\u4f8b'}&lt;/span&gt;\n        &lt;/div&gt;\n        &lt;div className=\"code-box-description\"&gt;\n          &lt;p&gt;{desc || '\u6682\u65e0\u63cf\u8ff0'}&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div className=\"divider\" /&gt;\n        &lt;div className=\"code-box-action\"&gt;\n          &lt;CopyToClipboard text={code} onCopy={() =&gt; alert('\u590d\u5236\u6210\u529f')}&gt;\n            &lt;IconCopy data-place=\"top\" data-tip=\"\u590d\u5236\u4ee3\u7801\" /&gt;\n          &lt;/CopyToClipboard&gt;\n\n          &lt;StyledIconWrapper onClick={toggleEditVisible}&gt;\n            &lt;IconCode data-place=\"top\" data-tip={isEditVisible ? '\u6536\u8d77\u4ee3\u7801' : '\u663e\u793a\u4ee3\u7801'} /&gt;\n          &lt;/StyledIconWrapper&gt;\n        &lt;/div&gt;\n      &lt;/section&gt;\n      {renderEditor()}\n      &lt;ReactTooltip /&gt;\n    &lt;/StyledContainer&gt;\n  );\n\n  function renderEditor() {\n    if (!isEditVisible) return null;\n    return (\n      &lt;div className=\"container_editor_area\"&gt;\n        &lt;Editor\n          readOnly\n          value={code}\n          onValueChange={() =&gt; {}}\n          highlight={code =&gt; highlight(code, languages.jsx)}\n          padding={10}\n          className=\"container__editor\"\n          style={{\n            fontFamily: '\"Fira code\", \"Fira Mono\", monospace',\n            fontSize: 14,\n          }}\n        /&gt;\n      &lt;/div&gt;\n    );\n  }\n};\n\nexport default HappyBox;\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_11","title":"\u76f8\u5173\u914d\u7f6e\u53d8\u66f4","text":"<ul> <li>\u589e\u52a0 <code>alias</code>\u522b\u540d\uff0c\u6837\u4f8b\u6e90\u7801\u5c55\u793a\u76f8\u5bf9\u8def\u5f84\u4e0d\u591f\u53cb\u597d\uff0c\u8ba9\u7528\u6237\u76f4\u63a5\u62f7\u8d1d\u624d\u591f\u7701\u5fc3</li> </ul> <p>\u65b0\u5efa<code>gatsby-node.js</code>\uff0c\u5199\u5165\u4ee5\u4e0b\u5185\u5bb9\u4ee5\u5f00\u542f<code>alias</code>\uff1a</p> <pre><code>const path = require('path');\n\nexports.onCreateWebpackConfig = args =&gt; {\n  args.actions.setWebpackConfig({\n    resolve: {\n      modules: [path.resolve(__dirname, '../src'), 'node_modules'],\n      alias: {\n        'happy-ui/lib': path.resolve(__dirname, '../components/'),\n        'happy-ui/esm': path.resolve(__dirname, '../components/'),\n        'happy-ui': path.resolve(__dirname, '../components/'),\n      },\n    },\n  });\n};\n</code></pre> <p><code>tsconfig.json</code> \u6253\u5305\u65f6\u9700\u8981\u5ffd\u7565<code>demo</code>\uff0c\u907f\u514d\u7ec4\u4ef6\u5e93\u6253\u5305\u751f\u6210<code>types</code>\u65f6\u5305\u542b\u5176\u4e2d\uff0c\u540c\u65f6\u589e\u52a0<code>paths</code>\u5c5e\u6027\u7528\u4e8e vscode \u81ea\u52a8\u63d0\u793a\uff1a</p> <p>tsconfig.json</p> <pre><code>{\n  \"compilerOptions\": {\n    \"baseUrl\": \"./\",\n+   \"paths\": {\n+     \"happy-ui\": [\"components/index.ts\"],\n+     \"happy-ui/esm/*\": [\"components/*\"],\n+     \"happy-ui/lib/*\": [\"components/*\"]\n+    },\n    \"target\": \"esnext\",\n    \"module\": \"commonjs\",\n    \"jsx\": \"react\",\n    \"declaration\": true,\n    \"declarationDir\": \"lib\",\n    \"strict\": true,\n    \"moduleResolution\": \"node\",\n    \"allowSyntheticDefaultImports\": true,\n    \"esModuleInterop\": true,\n    \"resolveJsonModule\": true\n  },\n  \"include\": [\"components\", \"global.d.ts\"],\n- \"exclude\": [\"node_modules\"]\n+ \"exclude\": [\"node_modules\",  \"**/demo/**\"]\n}\n</code></pre> <p>\u65b0\u7684\u95ee\u9898\u51fa\u73b0\u4e86\uff0cvscode \u7684 alias \u63d0\u793a\u4f9d\u8d56 tsconfig.json\uff0c\u5ffd\u7565 demo \u6587\u4ef6\u5939\u540e\uff0cdemo \u5185\u7684\u6587\u4ef6\u6a21\u5757\u7c7b\u578b\u627e\u4e0d\u5230\u58f0\u660e(paths \u5931\u6548)\uff0c\u6240\u4ee5\u4e0d\u80fd\u5c06 demo \u5728 tsconfig.json \u4e2d\u79fb\u9664\uff1a</p> <pre><code>{\n- \"exclude\": [\"node_modules\",  \"**/demo/**\"]\n+ \"exclude\": [\"node_modules\"]\n}\n</code></pre> <p>\u65b0\u5efa\u4e00\u4e2a tsconfig.build.json \u6587\u4ef6\uff1a</p> <p>tsconfig.build.json</p> <pre><code>{\n  \"extends\": \"./tsconfig.json\",\n  \"exclude\": [\"**/demo/**\", \"node_modules\"]\n}\n</code></pre> <p>\u540e\u7eed\u4f7f\u7528 tsc \u751f\u6210\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u6307\u5b9a<code>tsconfig.build.json</code>\u5373\u53ef\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_12","title":"\u6539\u9020\u76f8\u5173\u6587\u4ef6","text":"<p>components/alert/demo/1-demo-basic.tsx</p> <pre><code>- import Alert from '../alert';\n+ import Alert from 'happy-ui/lib/alert';\n\n- import '../style';\n+ import 'happy-ui/lib/alert/style';\n</code></pre> <p>components/alert/index.mdx</p> <pre><code>- import { Playground } from 'docz';\n+ import { HappyBox } from '../../doc-comps';\n\n+ import BasicDemoCode from '!raw-loader!./demo/1-demo-basic.tsx';\n\n...\n\n- &lt;Playground&gt;\n-   &lt;BasicDemo /&gt;\n- &lt;/Playground&gt;\n\n+ &lt;HappyBox code={BasicDemoCode} title=\"\u57fa\u672c\u7528\u6cd5\" desc=\"\u4f7f\u7528kind\u63a7\u5236Alert\u7c7b\u578b\"&gt;\n+  &lt;BasicDemo /&gt;\n+ &lt;/HappyBox&gt;\n</code></pre> <p><code>yarn start</code>\u5361\u4f4f\u65f6\u5c1d\u8bd5\u5220\u9664\u6839\u76ee\u5f55<code>.docz</code>\u6587\u4ef6\u5939\uff0c\u800c\u540e\u91cd\u65b0\u6267\u884c\u547d\u4ee4\u3002</p> <p>\u73b0\u5728\u53ef\u4ee5\u6109\u5feb\u5730\u5f00\u53d1\u7ec4\u4ef6\u4e86\u3002\u4ee3\u7801\u53ef\u4ee5\u5728\u4ed3\u5e93\u7684<code>chapter-2</code>\u5206\u652f\u83b7\u53d6\uff0c\u82e5\u5b58\u5728\u4e0e\u672c\u6587\u5185\u5bb9\u4e0d\u7b26\u7684\u5730\u65b9\uff0c\u4ee5<code>master</code>\u5206\u652f\u4ee5\u53ca\u6587\u7ae0\u4e3a\u51c6\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_13","title":"\u7ec4\u4ef6\u5e93\u6253\u5305","text":"<p>\u5bbf\u4e3b\u73af\u5883\u5404\u4e0d\u76f8\u540c\uff0c\u9700\u8981\u5c06\u6e90\u7801\u8fdb\u884c\u76f8\u5173\u5904\u7406\u540e\u53d1\u5e03\u81f3 npm\u3002</p> <p>\u660e\u786e\u4ee5\u4e0b\u76ee\u6807\uff1a</p> <ol> <li>\u5bfc\u51fa\u7c7b\u578b\u58f0\u660e\u6587\u4ef6</li> <li>\u5bfc\u51fa <code>umd</code>/<code>Commonjs module</code>/<code>ES module</code> \u7b49 3 \u79cd\u5f62\u5f0f\u4f9b\u4f7f\u7528\u8005\u5f15\u5165</li> <li>\u652f\u6301\u6837\u5f0f\u6587\u4ef6 <code>css</code> \u5f15\u5165\uff0c\u800c\u975e\u53ea\u6709<code>less</code></li> <li>\u652f\u6301\u6309\u9700\u52a0\u8f7d</li> </ol>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_14","title":"\u5bfc\u51fa\u7c7b\u578b\u58f0\u660e\u6587\u4ef6","text":"<p>\u65e2\u7136\u662f\u4f7f\u7528<code>typescript</code>\u7f16\u5199\u7684\u7ec4\u4ef6\u5e93\uff0c\u90a3\u4e48\u4f7f\u7528\u8005\u5e94\u5f53\u4eab\u53d7\u5230\u7c7b\u578b\u7cfb\u7edf\u7684\u597d\u5904\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u751f\u6210\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff0c\u5e76\u5728<code>package.json</code>\u4e2d\u5b9a\u4e49\u5165\u53e3\uff0c\u5982\u4e0b\uff1a</p> <p>package.json</p> <pre><code>{\n  \"typings\": \"lib/index.d.ts\", // \u5b9a\u4e49\u7c7b\u578b\u5165\u53e3\u6587\u4ef6\n  \"scripts\": {\n    \"build:types\": \"tsc -p tsconfig.build.json &amp;&amp; cpr lib esm\" // \u6267\u884ctsc\u547d\u4ee4\u751f\u6210\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\n  }\n}\n</code></pre> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff1a\u6b64\u5904\u4f7f\u7528<code>cpr</code>\u5c06<code>lib</code>\u7684\u58f0\u660e\u6587\u4ef6\u62f7\u8d1d\u4e86\u4e00\u4efd\uff0c\u91cd\u547d\u540d\u4e3a<code>esm</code>\u3002\u7528\u4e8e\u540e\u9762\u5b58\u653e ES module \u5f62\u5f0f\u7684\u7ec4\u4ef6\u3002\u8fd9\u6837\u505a\u4e3b\u8981\u662f\u4e3a\u4e86\u7528\u6237\u624b\u52a8\u6309\u9700\u5f15\u5165\u7ec4\u4ef6\u65f6\u4f9d\u65e7\u53ef\u4ee5\u6709\u81ea\u52a8\u63d0\u793a\u3002</p> <p>\u6700\u5f00\u59cb\u4f7f\u7528\u7684\u5c06\u58f0\u660e\u6587\u4ef6\u5355\u72ec\u6253\u5305\u6210\u4e00\u4e2a<code>types</code>\u6587\u4ef6\u5939\uff0c\u8fd9\u6837\u53ea\u901a\u8fc7'happy-ui'\u5f15\u5165\u624d\u53ef\u4ee5\u6709\u81ea\u52a8\u63d0\u793a\uff0c\u4f46\u662f'happy-ui/esm/xxx'\u548c'happy-ui/lib/xxx'\u5c31\u65e0\u6cd5\u63d0\u793a\u3002</p> <p>tsconfig.build.json</p> <pre><code>{\n  \"extends\": \"./tsconfig.json\",\n  \"compilerOptions\": { \"emitDeclarationOnly\": true }, // \u53ea\u751f\u6210\u58f0\u660e\u6587\u4ef6\n  \"exclude\": [\"**/__tests__/**\", \"**/demo/**\", \"node_modules\", \"lib\", \"esm\"] // \u6392\u9664\u793a\u4f8b\u3001\u6d4b\u8bd5\u4ee5\u53ca\u6253\u5305\u597d\u7684\u6587\u4ef6\u5939\n}\n</code></pre> <p>\u6267\u884c<code>yarn build:types</code>\uff0c\u53ef\u4ee5\u53d1\u73b0\u6839\u76ee\u5f55\u4e0b\u5df2\u7ecf\u751f\u6210\u4e86<code>lib</code>\u6587\u4ef6\u5939\uff08<code>tsconfig.json</code>\u4e2d\u5b9a\u4e49\u7684<code>declarationDir</code>\u5b57\u6bb5\uff09\uff0c\u76ee\u5f55\u7ed3\u6784\u4e0e<code>components</code>\u6587\u4ef6\u5939\u4fdd\u6301\u4e00\u81f4\uff0c\u5982\u4e0b\uff1a</p> <p>types</p> <pre><code>\u251c\u2500\u2500 alert\n\u2502   \u251c\u2500\u2500 alert.d.ts\n\u2502   \u251c\u2500\u2500 index.d.ts\n\u2502   \u251c\u2500\u2500 interface.d.ts\n\u2502   \u2514\u2500\u2500 style\n\u2502       \u2514\u2500\u2500 index.d.ts\n\u2514\u2500\u2500 index.d.ts\n</code></pre> <p>\u8fd9\u6837\u4f7f\u7528\u8005\u5f15\u5165<code>npm</code> \u5305\u65f6\uff0c\u4fbf\u80fd\u5f97\u5230\u81ea\u52a8\u63d0\u793a\uff0c\u4e5f\u80fd\u591f\u590d\u7528\u76f8\u5173\u7ec4\u4ef6\u7684\u7c7b\u578b\u5b9a\u4e49\u3002</p> <p>\u63a5\u4e0b\u6765\u5c06<code>ts(x)</code>\u7b49\u6587\u4ef6\u5904\u7406\u6210<code>js</code>\u6587\u4ef6\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6211\u4eec\u9700\u8981\u8f93\u51fa<code>Commonjs module</code>\u4ee5\u53ca<code>ES module</code>\u4e24\u79cd\u6a21\u5757\u7c7b\u578b\u7684\u6587\u4ef6\uff08\u6682\u4e0d\u8003\u8651<code>umd</code>\uff09\uff0c\u4ee5\u4e0b\u4f7f\u7528<code>cjs</code>\u6307\u4ee3<code>Commonjs module</code>\uff0c<code>esm</code>\u6307\u4ee3<code>ES module</code>\u3002 \u5bf9\u6b64\u6709\u7591\u95ee\u7684\u540c\u5b66\u63a8\u8350\u9605\u8bfb\uff1aimport\u3001require\u3001export\u3001module.exports \u6df7\u5408\u8be6\u89e3</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#commonjs","title":"\u5bfc\u51fa Commonjs \u6a21\u5757","text":"<p>\u5176\u5b9e\u5b8c\u5168\u53ef\u4ee5\u4f7f\u7528<code>babel</code>\u6216<code>tsc</code>\u547d\u4ee4\u884c\u5de5\u5177\u8fdb\u884c\u4ee3\u7801\u7f16\u8bd1\u5904\u7406\uff08\u5b9e\u9645\u4e0a\u5f88\u591a\u5de5\u5177\u5e93\u5c31\u662f\u8fd9\u6837\u505a\u7684\uff09\uff0c\u4f46\u8003\u8651\u5230\u8fd8\u8981**\u5904\u7406\u6837\u5f0f\u53ca\u5176\u6309\u9700\u52a0\u8f7d**\uff0c\u6211\u4eec\u501f\u52a9 <code>gulp</code> \u6765\u4e32\u8d77\u8fd9\u4e2a\u6d41\u7a0b\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#babel","title":"babel \u914d\u7f6e","text":"<p>\u9996\u5148\u5b89\u88c5<code>babel</code>\u53ca\u5176\u76f8\u5173\u4f9d\u8d56</p> <pre><code>yarn add @babel/core @babel/preset-env @babel/preset-react @babel/preset-typescript @babel/plugin-proposal-class-properties  @babel/plugin-transform-runtime --dev\nyarn add @babel/runtime-corejs3\n</code></pre> <p>\u65b0\u5efa<code>.babelrc.js</code>\u6587\u4ef6\uff0c\u5199\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <p>.babelrc.js</p> <pre><code>module.exports = {\n  presets: ['@babel/env', '@babel/typescript', '@babel/react'],\n  plugins: [\n    '@babel/proposal-class-properties',\n    [\n      '@babel/plugin-transform-runtime',\n      {\n        corejs: 3,\n        helpers: true,\n      },\n    ],\n  ],\n};\n</code></pre> <p>\u5173\u4e8e<code>@babel/plugin-transform-runtime</code>\u4e0e<code>@babel/runtime-corejs3</code>\uff1a</p> <ul> <li>\u82e5<code>helpers</code>\u9009\u9879\u8bbe\u7f6e\u4e3a<code>true</code>\uff0c\u53ef\u62bd\u79bb\u4ee3\u7801\u7f16\u8bd1\u8fc7\u7a0b\u91cd\u590d\u751f\u6210\u7684 <code>helper</code> \u51fd\u6570\uff08<code>classCallCheck</code>,<code>extends</code>\u7b49\uff09\uff0c\u51cf\u5c0f\u751f\u6210\u7684\u4ee3\u7801\u4f53\u79ef\uff1b</li> <li>\u82e5<code>corejs</code>\u8bbe\u7f6e\u4e3a<code>3</code>\uff0c\u53ef\u5f15\u5165\u4e0d\u6c61\u67d3\u5168\u5c40\u7684\u6309\u9700<code>polyfill</code>\uff0c\u5e38\u7528\u4e8e\u7c7b\u5e93\u7f16\u5199\uff08\u6211\u66f4\u63a8\u8350\uff1a\u4e0d\u5f15\u5165<code>polyfill</code>\uff0c\u8f6c\u800c\u544a\u77e5\u4f7f\u7528\u8005\u9700\u8981\u5f15\u5165\u4f55\u79cd<code>polyfill</code>\uff0c\u907f\u514d\u91cd\u590d\u5f15\u5165\u6216\u4ea7\u751f\u51b2\u7a81\uff0c\u540e\u9762\u4f1a\u8be6\u7ec6\u63d0\u5230\uff09\u3002</li> </ul> <p>\u66f4\u591a\u53c2\u89c1\u5b98\u65b9\u6587\u6863-@babel/plugin-transform-runtime</p> <p>\u914d\u7f6e\u76ee\u6807\u73af\u5883</p> <p>\u4e3a\u4e86\u907f\u514d\u8f6c\u8bd1\u6d4f\u89c8\u5668\u539f\u751f\u652f\u6301\u7684\u8bed\u6cd5\uff0c\u65b0\u5efa<code>.browserslistrc</code>\u6587\u4ef6\uff0c\u6839\u636e\u9002\u914d\u9700\u6c42\uff0c\u5199\u5165\u652f\u6301\u6d4f\u89c8\u5668\u8303\u56f4\uff0c\u4f5c\u7528\u4e8e<code>@babel/preset-env</code>\u3002</p> <p>.browserslistrc</p> <pre><code>&gt;0.2%\nnot dead\nnot op_mini all\n</code></pre> <p>\u5f88\u9057\u61be\u7684\u662f\uff0c<code>@babel/runtime-corejs3</code>\u65e0\u6cd5\u5728\u6309\u9700\u5f15\u5165\u7684\u57fa\u7840\u4e0a\u6839\u636e\u76ee\u6807\u6d4f\u89c8\u5668\u652f\u6301\u7a0b\u5ea6\u518d\u6b21\u51cf\u5c11<code>polyfill</code>\u7684\u5f15\u5165\uff0c\u53c2\u89c1@babel/runtime for target environment \u3002</p> <p>\u8fd9\u610f\u5473\u7740<code>@babel/runtime-corejs3</code> \u751a\u81f3\u4f1a\u5728\u9488\u5bf9\u73b0\u4ee3\u5f15\u64ce\u7684\u60c5\u51b5\u4e0b\u6ce8\u5165\u6240\u6709\u53ef\u80fd\u7684 <code>polyfill</code>\uff1a\u4e0d\u5fc5\u8981\u5730\u589e\u52a0\u4e86\u6700\u7ec8\u6346\u7ed1\u5305\u7684\u5927\u5c0f\u3002</p> <p>\u5bf9\u4e8e\u7ec4\u4ef6\u5e93\uff08\u4ee3\u7801\u91cf\u53ef\u80fd\u5f88\u5927\uff09\uff0c\u4e2a\u4eba\u5efa\u8bae\u5c06<code>polyfill</code>\u7684\u9009\u62e9\u6743\u4ea4\u8fd8\u7ed9\u4f7f\u7528\u8005\uff0c\u5728\u5bbf\u4e3b\u73af\u5883\u8fdb\u884c<code>polyfill</code>\u3002\u82e5\u4f7f\u7528\u8005\u5177\u6709\u517c\u5bb9\u6027\u8981\u6c42\uff0c\u81ea\u7136\u4f1a\u4f7f\u7528<code>@babel/preset-env + core-js + .browserslistrc</code>\u8fdb\u884c\u5168\u5c40<code>polyfill</code>\uff0c\u8fd9\u5957\u7ec4\u5408\u62f3\u5f15\u5165\u4e86\u6700\u4f4e\u76ee\u6807\u6d4f\u89c8\u5668\u4e0d\u652f\u6301<code>API</code>\u7684\u5168\u90e8 <code>polyfill</code>\u3002</p> <p>\u4e1a\u52a1\u5f00\u53d1\u4e2d\uff0c\u5c06<code>@babel/preset-env</code>\u7684<code>useBuiltIns</code>\u9009\u9879\u503c\u8bbe\u7f6e\u4e3a <code>usage</code>\uff0c\u540c\u65f6\u628a<code>node_modules</code>\u4ece<code>babel-loader</code>\u4e2d<code>exclude</code>\u6389\u7684\u540c\u5b66\u53ef\u80fd\u60f3\u8981\u8fd9\u4e2a\u7279\u6027\uff1a\"useBuiltIns: usage\" for node_modules without transpiling #9419\uff0c\u5728\u672a\u652f\u6301\u8be5<code>issue</code>\u63d0\u5230\u7684\u5185\u5bb9\u4e4b\u524d\uff0c\u8fd8\u662f\u4e56\u4e56\u5730\u5c06<code>useBuiltIns</code>\u8bbe\u7f6e\u4e3a<code>entry</code>\uff0c\u6216\u8005\u4e0d\u8981\u628a<code>node_modules</code>\u4ece<code>babel-loader</code>\u4e2d<code>exclude</code>\u3002</p> <p>\u6240\u4ee5\u7ec4\u4ef6\u5e93\u4e0d\u7528\u753b\u86c7\u6dfb\u8db3\uff0c\u5f15\u5165\u591a\u4f59\u7684<code>polyfill</code>\uff0c\u5199\u597d\u6587\u6863\u8bf4\u660e\uff0c\u6bd4\u4ec0\u4e48\u90fd\u91cd\u8981\uff08\u5c31\u50cfzent\u548cantd\u8fd9\u6837\uff09\u3002</p> <p>\u73b0\u5728<code>@babel/runtime-corejs3</code>\u66f4\u6362\u4e3a<code>@babel/runtime</code>\uff0c\u53ea\u8fdb\u884c<code>helper</code>\u51fd\u6570\u62bd\u79bb\u3002</p> <pre><code>yarn remove @babel/runtime-corejs3\n\nyarn add @babel/runtime\n</code></pre> <p>.babelrc.js</p> <pre><code>module.exports = {\n  presets: ['@babel/env', '@babel/typescript', '@babel/react'],\n  plugins: ['@babel/plugin-transform-runtime', '@babel/proposal-class-properties'],\n};\n</code></pre> <p><code>@babel/transform-runtime</code>\u7684<code>helper</code>\u9009\u9879\u9ed8\u8ba4\u4e3a<code>true</code>\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#gulp","title":"gulp \u914d\u7f6e","text":"<p>\u518d\u6765\u5b89\u88c5<code>gulp</code>\u76f8\u5173\u4f9d\u8d56</p> <pre><code>yarn add gulp gulp-babel --dev\n</code></pre> <p>\u65b0\u5efa<code>gulpfile.js</code>\uff0c\u5199\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <p>gulpfile.js</p> <pre><code>const gulp = require('gulp');\nconst babel = require('gulp-babel');\n\nconst paths = {\n  dest: {\n    lib: 'lib', // commonjs \u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u540d - \u672c\u5757\u5173\u6ce8\n    esm: 'esm', // ES module \u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u540d - \u6682\u65f6\u4e0d\u5173\u5fc3\n    dist: 'dist', // umd\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u540d - \u6682\u65f6\u4e0d\u5173\u5fc3\n  },\n  styles: 'components/**/*.less', // \u6837\u5f0f\u6587\u4ef6\u8def\u5f84 - \u6682\u65f6\u4e0d\u5173\u5fc3\n  scripts: ['components/**/*.{ts,tsx}', '!components/**/demo/*.{ts,tsx}'], // \u811a\u672c\u6587\u4ef6\u8def\u5f84\n};\n\nfunction compileCJS() {\n  const { dest, scripts } = paths;\n  return gulp\n    .src(scripts)\n    .pipe(babel()) // \u4f7f\u7528gulp-babel\u5904\u7406\n    .pipe(gulp.dest(dest.lib));\n}\n\n// \u5e76\u884c\u4efb\u52a1 \u540e\u7eed\u52a0\u5165\u6837\u5f0f\u5904\u7406 \u53ef\u4ee5\u5e76\u884c\u5904\u7406\nconst build = gulp.parallel(compileCJS);\n\nexports.build = build;\n\nexports.default = build;\n</code></pre> <p>\u4fee\u6539<code>package.json</code></p> <p>package.json</p> <pre><code>{\n- \"main\": \"index.js\",\n+ \"main\": \"lib/index.js\",\n  \"scripts\": {\n    ...\n+   \"clean\": \"rimraf lib esm dist\",\n+   \"build\": \"npm run clean &amp;&amp; npm run build:types &amp;&amp; gulp\",\n    ...\n  },\n}\n</code></pre> <p>\u6267\u884c<code>yarn build</code>\uff0c\u5f97\u5230\u5982\u4e0b\u5185\u5bb9\uff1a</p> <p>lib</p> <pre><code>\u251c\u2500\u2500 alert\n\u2502   \u251c\u2500\u2500 alert.js\n\u2502   \u251c\u2500\u2500 index.js\n\u2502   \u251c\u2500\u2500 interface.js\n\u2502   \u2514\u2500\u2500 style\n\u2502       \u2514\u2500\u2500 index.js\n\u2514\u2500\u2500 index.js\n</code></pre> <p>\u89c2\u5bdf\u7f16\u8bd1\u540e\u7684\u6e90\u7801\uff0c\u53ef\u4ee5\u53d1\u73b0\uff1a\u8bf8\u591a<code>helper</code>\u65b9\u6cd5\u5df2\u88ab\u62bd\u79bb\u81f3<code>@babel/runtime</code>\u4e2d\uff0c\u6a21\u5757\u5bfc\u5165\u5bfc\u51fa\u5f62\u5f0f\u4e5f\u662f<code>commonjs</code>\u89c4\u8303\u3002</p> <p>lib/alert/alert.js</p> <p>lib/alert/alert.js</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#es-module","title":"\u5bfc\u51fa ES module","text":"<p>\u751f\u6210<code>ES module</code>\u53ef\u4ee5\u66f4\u597d\u5730\u8fdb\u884ctree shaking\uff0c\u57fa\u4e8e\u4e0a\u4e00\u6b65\u7684<code>babel</code>\u914d\u7f6e\uff0c\u66f4\u65b0\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <ol> <li>\u914d\u7f6e<code>@babel/preset-env</code>\u7684<code>modules</code>\u9009\u9879\u4e3a<code>false</code>\uff0c\u5173\u95ed\u6a21\u5757\u8f6c\u6362\uff1b</li> <li>\u914d\u7f6e<code>@babel/plugin-transform-runtime</code>\u7684<code>useESModules</code>\u9009\u9879\u4e3a<code>true</code>\uff0c\u4f7f\u7528<code>ES module</code>\u5f62\u5f0f\u5f15\u5165<code>helper</code>\u51fd\u6570\u3002</li> </ol> <p>.babelrc.js</p> <pre><code>module.exports = {\n  presets: [\n    [\n      '@babel/env',\n      {\n        modules: false, // \u5173\u95ed\u6a21\u5757\u8f6c\u6362\n      },\n    ],\n    '@babel/typescript',\n    '@babel/react',\n  ],\n  plugins: [\n    '@babel/proposal-class-properties',\n    [\n      '@babel/plugin-transform-runtime',\n      {\n        useESModules: true, // \u4f7f\u7528esm\u5f62\u5f0f\u7684helper\n      },\n    ],\n  ],\n};\n</code></pre> <p>\u76ee\u6807\u8fbe\u6210\uff0c\u6211\u4eec\u518d\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u533a\u5206<code>esm</code>\u548c<code>cjs</code>\uff08\u6267\u884c\u4efb\u52a1\u65f6\u8bbe\u7f6e\u5bf9\u5e94\u7684\u73af\u5883\u53d8\u91cf\u5373\u53ef\uff09\uff0c\u6700\u7ec8<code>babel</code>\u914d\u7f6e\u5982\u4e0b\uff1a</p> <p>.babelrc.js</p> <pre><code>module.exports = {\n  presets: ['@babel/env', '@babel/typescript', '@babel/react'],\n  plugins: ['@babel/plugin-transform-runtime', '@babel/proposal-class-properties'],\n  env: {\n    esm: {\n      presets: [\n        [\n          '@babel/env',\n          {\n            modules: false,\n          },\n        ],\n      ],\n      plugins: [\n        [\n          '@babel/plugin-transform-runtime',\n          {\n            useESModules: true,\n          },\n        ],\n      ],\n    },\n  },\n};\n</code></pre> <p>\u63a5\u4e0b\u6765\u4fee\u6539<code>gulp</code>\u76f8\u5173\u914d\u7f6e\uff0c\u62bd\u79bb<code>compileScripts</code>\u4efb\u52a1\uff0c\u589e\u52a0<code>compileESM</code>\u4efb\u52a1\u3002</p> <p>gulpfile.js</p> <pre><code>// ...\n\n/**\n * \u7f16\u8bd1\u811a\u672c\u6587\u4ef6\n * @param {string} babelEnv babel\u73af\u5883\u53d8\u91cf\n * @param {string} destDir \u76ee\u6807\u76ee\u5f55\n */\nfunction compileScripts(babelEnv, destDir) {\n  const { scripts } = paths;\n  // \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\n  process.env.BABEL_ENV = babelEnv;\n  return gulp\n    .src(scripts)\n    .pipe(babel()) // \u4f7f\u7528gulp-babel\u5904\u7406\n    .pipe(gulp.dest(destDir));\n}\n\n/**\n * \u7f16\u8bd1cjs\n */\nfunction compileCJS() {\n  const { dest } = paths;\n  return compileScripts('cjs', dest.lib);\n}\n\n/**\n * \u7f16\u8bd1esm\n */\nfunction compileESM() {\n  const { dest } = paths;\n  return compileScripts('esm', dest.esm);\n}\n\n// \u4e32\u884c\u6267\u884c\u7f16\u8bd1\u811a\u672c\u4efb\u52a1\uff08cjs,esm\uff09 \u907f\u514d\u73af\u5883\u53d8\u91cf\u5f71\u54cd\nconst buildScripts = gulp.series(compileCJS, compileESM);\n\n// \u6574\u4f53\u5e76\u884c\u6267\u884c\u4efb\u52a1\nconst build = gulp.parallel(buildScripts);\n\n// ...\n</code></pre> <p>\u6267\u884c<code>yarn build</code>\uff0c\u53ef\u4ee5\u53d1\u73b0\u751f\u6210\u4e86<code>lib</code>/<code>esm</code>\u4e09\u4e2a\u6587\u4ef6\u5939\uff0c\u89c2\u5bdf<code>esm</code>\u76ee\u5f55\uff0c\u7ed3\u6784\u540c<code>lib</code>\u4e00\u81f4\uff0cjs \u6587\u4ef6\u90fd\u662f\u4ee5<code>ES module</code>\u6a21\u5757\u5f62\u5f0f\u5bfc\u5165\u5bfc\u51fa\u3002</p> <p>esm/alert/alert.js</p> <p>esm/alert/alert.js</p> <p>\u522b\u5fd8\u4e86\u7ed9<code>package.json</code>\u589e\u52a0\u76f8\u5173\u5165\u53e3\u3002</p> <p>package.json</p> <pre><code>{\n+ \"module\": \"esm/index.js\"\n}\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_15","title":"\u5904\u7406\u6837\u5f0f\u6587\u4ef6","text":""},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#less","title":"\u62f7\u8d1d less \u6587\u4ef6","text":"<p>\u6211\u4eec\u4f1a\u5c06<code>less</code>\u6587\u4ef6\u5305\u542b\u5728<code>npm</code>\u5305\u4e2d\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7<code>happy-ui/lib/alert/style/index.js</code>\u7684\u5f62\u5f0f\u6309\u9700\u5f15\u5165<code>less</code>\u6587\u4ef6\uff0c\u6b64\u5904\u53ef\u4ee5\u76f4\u63a5\u5c06 less \u6587\u4ef6\u62f7\u8d1d\u81f3\u76ee\u6807\u6587\u4ef6\u5939\u3002</p> <p>\u5728<code>gulpfile.js</code>\u4e2d\u65b0\u5efa<code>copyLess</code>\u4efb\u52a1\u3002</p> <p>gulpfile.js</p> <pre><code>// ...\n\n/**\n * \u62f7\u8d1dless\u6587\u4ef6\n */\nfunction copyLess() {\n  return gulp\n    .src(paths.styles)\n    .pipe(gulp.dest(paths.dest.lib))\n    .pipe(gulp.dest(paths.dest.esm));\n}\n\nconst build = gulp.parallel(buildScripts, copyLess);\n\n// ...\n</code></pre> <p>\u89c2\u5bdf<code>lib</code>\u76ee\u5f55\uff0c\u53ef\u4ee5\u53d1\u73b0 <code>less</code> \u6587\u4ef6\u5df2\u88ab\u62f7\u8d1d\u81f3<code>alert/style</code>\u76ee\u5f55\u4e0b\u3002</p> <p>lib</p> <pre><code>\u251c\u2500\u2500 alert\n\u2502   \u251c\u2500\u2500 alert.js\n\u2502   \u251c\u2500\u2500 index.js\n\u2502   \u251c\u2500\u2500 interface.js\n\u2502   \u2514\u2500\u2500 style\n\u2502       \u251c\u2500\u2500 index.js\n\u2502       \u2514\u2500\u2500 index.less # less\u6587\u4ef6\n\u2514\u2500\u2500 index.js\n</code></pre> <p>\u53ef\u80fd\u6709\u4e9b\u540c\u5b66\u5df2\u7ecf\u53d1\u73b0\u95ee\u9898\uff1a\u82e5\u4f7f\u7528\u8005\u6ca1\u6709\u4f7f\u7528<code>less</code>\u9884\u5904\u7406\u5668\uff0c\u4f7f\u7528\u7684\u662f<code>sass</code>\u65b9\u6848\u751a\u81f3\u539f\u751f<code>css</code>\u65b9\u6848\uff0c\u90a3\u73b0\u6709\u65b9\u6848\u5c31\u641e\u4e0d\u5b9a\u4e86\u3002\u7ecf\u5206\u6790\uff0c\u6709\u4ee5\u4e0b 3 \u79cd\u9884\u9009\u65b9\u6848\uff1a</p> <ol> <li>\u544a\u77e5\u7528\u6237\u589e\u52a0<code>less-loader</code>\uff1b</li> <li>\u6253\u5305\u51fa\u4e00\u4efd\u5b8c\u6574\u7684 <code>css</code> \u6587\u4ef6\uff0c\u8fdb\u884c**\u5168\u91cf**\u5f15\u5165\uff1b</li> <li>\u5355\u72ec\u63d0\u4f9b\u4e00\u4efd<code>style/css.js</code>\u6587\u4ef6\uff0c\u5f15\u5165\u7684\u662f\u7ec4\u4ef6 <code>css</code>\u6837\u5f0f\u6587\u4ef6\u4f9d\u8d56\uff0c\u800c\u975e <code>less</code> \u4f9d\u8d56\uff0c\u7ec4\u4ef6\u5e93\u5e95\u5c42\u62b9\u5e73\u5dee\u5f02\uff1b</li> <li>\u4f7f\u7528<code>css in js</code>\u65b9\u6848\u3002</li> </ol> <p>\u65b9\u6848 1 \u4f1a\u5bfc\u81f4\u4e1a\u52a1\u65b9\u4f7f\u7528\u6210\u672c\u589e\u52a0\u3002</p> <p>\u65b9\u6848 2 \u65e0\u6cd5\u8fdb\u884c\u6309\u9700\u5f15\u5165\u3002</p> <p>\u65b9\u6848 4 \u9700\u8981\u8be6\u7ec6\u804a\u804a\u3002</p> <p><code>css in js</code>\u9664\u4e86\u8d4b\u4e88\u6837\u5f0f\u7f16\u5199\u66f4\u591a\u7684\u53ef\u80fd\u6027\u4e4b\u5916\uff0c\u5728\u7f16\u5199\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u5e93\u65f6\u66f4\u662f\u5229\u5668\u3002</p> <p>\u5982\u679c\u6211\u4eec\u5199\u4e00\u4e2a<code>react-use</code>\u8fd9\u79cd<code>hooks</code>\u5de5\u5177\u5e93\uff0c\u4e0d\u6d89\u53ca\u5230\u6837\u5f0f\uff0c\u53ea\u9700\u8981\u5728<code>package.json</code>\u4e2d\u8bbe\u7f6e<code>sideEffects</code>\u4e3a<code>false</code>\uff0c\u4e1a\u52a1\u65b9\u4f7f\u7528 webpack \u8fdb\u884c\u6253\u5305\u65f6\uff0c\u53ea\u4f1a\u6253\u5305\u88ab\u4f7f\u7528\u5230\u7684 hooks\uff08\u4f18\u5148\u4f7f\u7528 ES module\uff09\u3002</p> <p>\u5165\u53e3\u6587\u4ef6<code>index.js</code>\u4e2d\u5bfc\u51fa\u7684\u4f46\u672a\u88ab\u4f7f\u7528\u7684\u5176\u4ed6 hooks \u4f1a\u88ab<code>tree shaking</code>\uff0c\u7b2c\u4e00\u6b21\u4f7f\u7528\u8fd9\u4e2a\u5e93\u7684\u65f6\u5019\u6211\u5f88\u597d\u5947\uff0c\u4e3a\u4ec0\u4e48\u6ca1\u6709\u6309\u9700\u5f15\u5165\u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u7ed3\u679c\u6253\u5305\u5206\u6790\u65f6\u6211\u50bb\u4e86\uff0c\u539f\u6765\u4eba\u5bb6\u5929\u751f\u652f\u6301\u6309\u9700\u5f15\u5165\u3002</p> <p>\u53ef\u80fd\u5e38\u7528\u7684<code>antd</code>\u4ee5\u53ca<code>lodash</code>\u90fd\u8981\u914d\u4e00\u914d\uff0c\u5bfc\u81f4\u4ea7\u751f\u4e86\u60ef\u6027\u601d\u7ef4\u3002</p> <p>\u56de\u5230\u6b63\u9898\u3002\u5982\u679c\u5c06\u6837\u5f0f\u4f7f\u7528<code>javascript</code>\u6765\u7f16\u5199\uff0c\u5728\u67d0\u79cd\u7ef4\u5ea6\u4e0a\u8bb2\uff0c\u7ec4\u4ef6\u5e93\u548c\u5de5\u5177\u5e93\u4e00\u81f4\u4e86\uff0c\u914d\u597d<code>sideEffects</code>\uff0c\u81ea\u52a8\u6309\u9700\u5f15\u5165\uff0c\u7f8e\u6ecb\u6ecb\u3002</p> <p>\u800c\u4e14\u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u4e0e\u81ea\u5df1\u7684\u6837\u5f0f\u7ed1\u5b9a\uff0c\u4e0d\u9700\u8981\u4e1a\u52a1\u65b9\u6216\u7ec4\u4ef6\u5f00\u53d1\u8005\u53bb**\u7ef4\u62a4\u6837\u5f0f\u4f9d\u8d56**\uff0c\u4ec0\u4e48\u662f\u6837\u5f0f\u4f9d\u8d56\uff0c\u540e\u9762\u4f1a\u8bb2\u5230\u3002</p> <p>\u7f3a\u70b9\uff1a</p> <ol> <li>\u6837\u5f0f\u65e0\u6cd5\u5355\u72ec\u7f13\u5b58\uff1b</li> <li>styled-components \u81ea\u8eab\u4f53\u79ef\u8f83\u5927\uff1b</li> <li>\u590d\u5199\u7ec4\u4ef6\u6837\u5f0f\u9700\u8981\u4f7f\u7528\u5c5e\u6027\u9009\u62e9\u5668\u6216\u8005\u4f7f\u7528<code>styled-components</code>\uff0c\u9ebb\u70e6\u4e86\u70b9\u3002</li> </ol> <p>\u9700\u8981\u770b\u53d6\u820d\u4e86\uff0c\u5077\u5077\u8bf4\u4e00\u53e5<code>styled-components</code>\u505a\u4e3b\u9898\u5b9a\u5236\u4e5f\u6781\u5176\u65b9\u4fbf\u3002</p> <p>\u65b9\u6848 3 \u662f<code>antd</code>\u4f7f\u7528\u7684\u8fd9\u79cd\u65b9\u6848\u3002</p> <p>\u5728\u642d\u5efa\u7ec4\u4ef6\u5e93\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6709\u4e00\u4e2a\u95ee\u9898\u56f0\u6270\u4e86\u6211\u5f88\u4e45\uff1a\u4e3a\u4ec0\u4e48\u9700\u8981<code>alert/style/index.js</code>\u5f15\u5165<code>less</code>\u6587\u4ef6\u6216<code>alert/style/css.js</code>\u5f15\u5165<code>css</code>\u6587\u4ef6\uff1f</p> <p>\u7b54\u6848\u662f**\u7ba1\u7406\u6837\u5f0f\u4f9d\u8d56**\u3002</p> <p>\u56e0\u4e3a\u6211\u4eec\u7684\u7ec4\u4ef6\u662f\u6ca1\u6709\u5f15\u5165\u6837\u5f0f\u6587\u4ef6\u7684\uff0c\u9700\u8981\u7528\u6237\u53bb\u624b\u52a8\u5f15\u5165\u3002</p> <p>\u5047\u8bbe\u5b58\u5728\u4ee5\u4e0b\u573a\u666f\uff1a\u5f15\u5165<code>&lt;Button /&gt;</code>\uff0c<code>&lt;Button /&gt;</code>\u4f9d\u8d56\u4e86<code>&lt;Icon /&gt;</code>\uff0c\u4f7f\u7528\u8005\u9700\u8981\u624b\u52a8\u53bb\u5f15\u5165\u8c03\u7528\u7684\u7ec4\u4ef6\u7684\u6837\u5f0f\uff08<code>&lt;Button /&gt;</code>\uff09\u53ca\u5176\u4f9d\u8d56\u7684\u7ec4\u4ef6\u6837\u5f0f\uff08<code>&lt;Icon /&gt;</code>\uff09\uff0c\u9047\u5230\u590d\u6742\u7ec4\u4ef6\u6781\u5176\u9ebb\u70e6\uff0c\u6240\u4ee5\u7ec4\u4ef6\u5e93\u5f00\u53d1\u8005\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4efd\u8fd9\u6837\u7684<code>js</code>\u6587\u4ef6\uff0c\u4f7f\u7528\u8005\u624b\u52a8\u5f15\u5165\u8fd9\u4e2a<code>js</code>\u6587\u4ef6\uff0c\u5c31\u80fd\u5f15\u5165\u5bf9\u5e94\u7ec4\u4ef6\u53ca\u5176\u4f9d\u8d56\u7ec4\u4ef6\u7684\u6837\u5f0f\u3002</p> <p>\u90a3\u4e48\u95ee\u9898\u53c8\u6765\u4e86\uff0c\u4e3a\u4ec0\u4e48\u7ec4\u4ef6\u4e0d\u80fd\u81ea\u5df1\u53bb<code>import './index.less'</code>\u5462\uff1f</p> <p>\u53ef\u4ee5\uff0c\u4e0d\u8fc7\u4e1a\u52a1\u65b9\u8981\u914d\u7f6e<code>less-loader</code>\uff0c\u4ec0\u4e48\uff0c\u4e1a\u52a1\u65b9\u4e0d\u60f3\u914d\uff0c\u8981\u4f60<code>import './index.css'</code>\uff1f\ud83d\ude43</p> <p>\u53ef\u4ee5\uff0c\u4e1a\u52a1\u65b9\u723d\u4e86\uff0c\u7ec4\u4ef6\u5f00\u53d1\u65b9\u4e0d\u723d\u3002</p> <p>\u6240\u4ee5\u6211\u4eec\u8981\u627e\u4e00\u4e2a\u5927\u5bb6\u90fd\u723d\u7684\u65b9\u6848\uff1a</p> <ol> <li>\u5f00\u53d1\u65b9\u80fd\u591f\u5f00\u5fc3\u7684\u4f7f\u7528\u9884\u5904\u7406\u5668\uff1b</li> <li>\u4e1a\u52a1\u65b9\u4e0d\u9700\u8981\u989d\u5916\u7684\u4f7f\u7528\u6210\u672c\u3002</li> </ol> <p>\u7b54\u6848\u5c31\u662f*css in js*\u5355\u72ec\u63d0\u4f9b\u4e00\u4efd<code>style/css.js</code>\u6587\u4ef6\uff0c\u5f15\u5165\u7684\u662f\u7ec4\u4ef6 <code>css</code>\u6837\u5f0f\u6587\u4ef6\u4f9d\u8d56\uff0c\u800c\u975e <code>less</code> \u4f9d\u8d56\uff0c\u7ec4\u4ef6\u5e93\u5e95\u5c42\u62b9\u5e73\u5dee\u5f02\u3002</p> <p>\u4e4b\u524d\u4e86\u89e3\u5230father\u53ef\u4ee5\u5728\u6253\u5305\u7684\u65f6\u5019\u5c06<code>index.less</code>\u8f6c\u6210<code>index.css</code>\uff0c\u8fd9\u5012\u662f\u4e2a\u597d\u6cd5\u5b50\uff0c\u4f46\u662f\u4e00\u4e9b\u91cd\u590d\u5f15\u5165\u7684\u6837\u5f0f\u6a21\u5757\uff08\u6bd4\u5982\u52a8\u753b\u6837\u5f0f\uff09\uff0c\u4f1a\u88ab\u91cd\u590d\u6253\u5305\uff0c\u4e0d\u77e5\u9053\u6709\u6ca1\u6709\u597d\u7684\u89e3\u51b3\u65b9\u6848\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#css","title":"\u751f\u6210 css \u6587\u4ef6","text":"<p>\u5b89\u88c5\u76f8\u5173\u4f9d\u8d56\u3002</p> <pre><code>yarn add gulp-less gulp-autoprefixer gulp-cssnano --dev\n</code></pre> <p>\u5c06<code>less</code>\u6587\u4ef6\u751f\u6210\u5bf9\u5e94\u7684<code>css</code>\u6587\u4ef6\uff0c\u5728<code>gulpfile.js</code>\u4e2d\u589e\u52a0<code>less2css</code>\u4efb\u52a1\u3002</p> <pre><code>// ...\n\n/**\n * \u751f\u6210css\u6587\u4ef6\n */\nfunction less2css() {\n  return gulp\n    .src(paths.styles)\n    .pipe(less()) // \u5904\u7406less\u6587\u4ef6\n    .pipe(autoprefixer()) // \u6839\u636ebrowserslistrc\u589e\u52a0\u524d\u7f00\n    .pipe(cssnano({ zindex: false, reduceIdents: false })) // \u538b\u7f29\n    .pipe(gulp.dest(paths.dest.lib))\n    .pipe(gulp.dest(paths.dest.esm));\n}\n\nconst build = gulp.parallel(buildScripts, copyLess, less2css);\n\n// ...\n</code></pre> <p>\u6267\u884c<code>yarn build</code>\uff0c\u7ec4\u4ef6<code>style</code>\u76ee\u5f55\u4e0b\u5df2\u7ecf\u5b58\u5728<code>css</code>\u6587\u4ef6\u4e86\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u9700\u8981\u4e00\u4e2a<code>alert/style/css.js</code>\u6765\u5e2e\u7528\u6237\u5f15\u5165<code>css</code>\u6587\u4ef6\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#cssjs","title":"\u751f\u6210 css.js","text":"<p>\u6b64\u5904\u53c2\u8003antd-tools\u7684\u5b9e\u73b0\u65b9\u5f0f\uff1a\u5728\u5904\u7406<code>scripts</code>\u4efb\u52a1\u4e2d\uff0c\u622a\u4f4f<code>style/index.js</code>\uff0c\u751f\u6210<code>style/css.js</code>\uff0c\u5e76\u901a\u8fc7\u6b63\u5219\u5c06\u5f15\u5165\u7684<code>less</code>\u6587\u4ef6\u540e\u7f00\u6539\u6210<code>css</code>\u3002</p> <p>\u5b89\u88c5\u76f8\u5173\u4f9d\u8d56\u3002</p> <pre><code>yarn add through2 --dev\n</code></pre> <p>gulpfile.js</p> <pre><code>// ...\n\n/**\n * \u7f16\u8bd1\u811a\u672c\u6587\u4ef6\n * @param {*} babelEnv babel\u73af\u5883\u53d8\u91cf\n * @param {*} destDir \u76ee\u6807\u76ee\u5f55\n */\nfunction compileScripts(babelEnv, destDir) {\n  const { scripts } = paths;\n  process.env.BABEL_ENV = babelEnv;\n  return gulp\n    .src(scripts)\n    .pipe(babel()) // \u4f7f\u7528gulp-babel\u5904\u7406\n    .pipe(\n      through2.obj(function z(file, encoding, next) {\n        this.push(file.clone());\n        // \u627e\u5230\u76ee\u6807\n        if (file.path.match(/(\\/|\\\\)style(\\/|\\\\)index\\.js/)) {\n          const content = file.contents.toString(encoding);\n          file.contents = Buffer.from(cssInjection(content)); // \u6587\u4ef6\u5185\u5bb9\u5904\u7406\n          file.path = file.path.replace(/index\\.js/, 'css.js'); // \u6587\u4ef6\u91cd\u547d\u540d\n          this.push(file); // \u65b0\u589e\u8be5\u6587\u4ef6\n          next();\n        } else {\n          next();\n        }\n      }),\n    )\n    .pipe(gulp.dest(destDir));\n}\n\n// ...\n</code></pre> <p><code>cssInjection</code>\u7684\u5b9e\u73b0\uff1a</p> <p>gulpfile.js</p> <pre><code>/**\n * \u5f53\u524d\u7ec4\u4ef6\u6837\u5f0f import './index.less' =&gt; import './index.css'\n * \u4f9d\u8d56\u7684\u5176\u4ed6\u7ec4\u4ef6\u6837\u5f0f import '../test-comp/style' =&gt; import '../test-comp/style/css.js'\n * \u4f9d\u8d56\u7684\u5176\u4ed6\u7ec4\u4ef6\u6837\u5f0f import '../test-comp/style/index.js' =&gt; import '../test-comp/style/css.js'\n * @param {string} content\n */\nfunction cssInjection(content) {\n  return content\n    .replace(/\\/style\\/?'/g, \"/style/css'\")\n    .replace(/\\/style\\/?\"/g, '/style/css\"')\n    .replace(/\\.less/g, '.css');\n}\n</code></pre> <p>\u518d\u8fdb\u884c\u6253\u5305\uff0c\u53ef\u4ee5\u770b\u89c1\u7ec4\u4ef6<code>style</code>\u76ee\u5f55\u4e0b\u751f\u6210\u4e86<code>css.js</code>\u6587\u4ef6\uff0c\u5f15\u5165\u7684\u4e5f\u662f\u4e0a\u4e00\u6b65<code>less</code>\u8f6c\u6362\u800c\u6765\u7684<code>css</code>\u6587\u4ef6\u3002</p> <p>lib/alert</p> <pre><code>\u251c\u2500\u2500 alert.js\n\u251c\u2500\u2500 index.js\n\u251c\u2500\u2500 interface.js\n\u2514\u2500\u2500 style\n    \u251c\u2500\u2500 css.js # \u5f15\u5165index.css\n    \u251c\u2500\u2500 index.css\n    \u251c\u2500\u2500 index.js\n    \u2514\u2500\u2500 index.less\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_16","title":"\u6309\u9700\u52a0\u8f7d","text":"<p>\u5728 package.json \u4e2d\u589e\u52a0<code>sideEffects</code>\u5c5e\u6027\uff0c\u914d\u5408<code>ES module</code>\u8fbe\u5230<code>tree shaking</code>\u6548\u679c\uff08\u5c06\u6837\u5f0f\u4f9d\u8d56\u6587\u4ef6\u6807\u6ce8\u4e3a<code>side effects</code>\uff0c\u907f\u514d\u88ab\u8bef\u5220\u9664\uff09\u3002</p> <pre><code>// ...\n\"sideEffects\": [\n  \"dist/*\",\n  \"esm/**/style/*\",\n  \"lib/**/style/*\",\n  \"*.less\"\n],\n// ...\n</code></pre> <p>\u4f7f\u7528\u4ee5\u4e0b\u65b9\u5f0f\u5f15\u5165\uff0c\u53ef\u4ee5\u505a\u5230<code>js</code>\u90e8\u5206\u7684\u6309\u9700\u52a0\u8f7d\uff0c\u4f46\u9700\u8981\u624b\u52a8\u5f15\u5165\u6837\u5f0f\uff1a</p> <pre><code>import { Alert } from 'happy-ui';\nimport 'happy-ui/esm/alert/style';\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u65b9\u5f0f\u5f15\u5165\uff1a</p> <pre><code>import Alert from 'happy-ui/esm/alert'; // or import Alert from 'happy-ui/lib/alert';\nimport 'happy-ui/esm/alert/style'; // or import Alert from 'happy-ui/lib/alert';\n</code></pre> <p>\u4ee5\u4e0a\u5f15\u5165\u6837\u5f0f\u6587\u4ef6\u7684\u65b9\u5f0f\u4e0d\u592a\u4f18\u96c5\uff0c\u76f4\u63a5\u5165\u53e3\u5904\u5f15\u5165**\u5168\u91cf**\u6837\u5f0f\u6587\u4ef6\u53c8\u548c\u6309\u9700\u52a0\u8f7d\u7684\u672c\u610f\u76f8\u53bb\u751a\u8fdc\u3002</p> <p>\u4f7f\u7528\u8005\u53ef\u4ee5\u501f\u52a9babel-plugin-import\u6765\u8fdb\u884c\u8f85\u52a9\uff0c\u51cf\u5c11\u4ee3\u7801\u7f16\u5199\u91cf\uff08\u8bf4\u597d\u7684\u4e0d\u52a0\u5165\u5176\u4ed6\u4f7f\u7528\u6210\u672c\u7684\u5462~\uff09\u3002</p> <pre><code>import { Alert } from 'happy-ui';\n</code></pre> <p>\u2b07\ufe0f</p> <pre><code>import Alert from 'happy-ui/lib/alert';\nimport 'happy-ui/lib/alert/style';\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#umd","title":"\u751f\u6210 umd","text":"<p>\u6ca1\u7528\u4e0a\uff0c\u8fd9\u4e00\u5757\u6807\u8bb0\u4e3a todo \u5427\u3002</p> <p>\u672c\u8282\u4ee3\u7801\u53ef\u4ee5\u5728\u4ed3\u5e93\u7684<code>chapter-3</code>\u5206\u652f\u83b7\u53d6\uff0c\u82e5\u5b58\u5728\u4e0e\u672c\u6587\u5185\u5bb9\u4e0d\u7b26\u7684\u5730\u65b9\uff0c\u4ee5<code>master</code>\u5206\u652f\u4ee5\u53ca\u6587\u7ae0\u4e3a\u51c6\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_17","title":"\u7ec4\u4ef6\u6d4b\u8bd5","text":"<p>\u4e0e\u8f6f\u4ef6\u64cd\u4f5c\u884c\u4e3a\u8d8a\u63a5\u8fd1\u7684\u6d4b\u8bd5\uff0c\u8d8a\u80fd\u7ed9\u4e88\u4f60\u4fe1\u5fc3\u3002</p> <p>\u672c\u8282\u4e3b\u8981\u8bb2\u8ff0\u5982\u4f55\u5728\u7ec4\u4ef6\u5e93\u4e2d\u5f15\u5165jest\u4ee5\u53ca@testing-library/react\uff0c\u800c\u4e0d\u4f1a\u6df1\u5165\u5355\u5143\u6d4b\u8bd5\u7684\u5b66\u4e60\u3002</p> <p>\u5982\u679c\u4f60\u5bf9\u4e0b\u5217\u95ee\u9898\u611f\u5174\u8da3\uff1a</p> <ol> <li>What-\u5355\u5143\u6d4b\u8bd5\u662f\u4ec0\u4e48\uff1f</li> <li>Why-\u4e3a\u4ec0\u4e48\u8981\u5199\u5355\u5143\u6d4b\u8bd5\uff1f</li> <li>How-\u7f16\u5199\u5355\u5143\u6d4b\u8bd5\u7684\u6700\u4f73\u5b9e\u8df5\uff1f</li> </ol> <p>\u90a3\u4e48\u53ef\u4ee5\u770b\u770b\u4ee5\u4e0b\u6587\u7ae0\uff1a</p> <ul> <li>Test React apps with React Testing Library\uff1a\u901a\u8fc7\u4e00\u4e2a<code>`\u7684\u4f8b\u5b50\u5ef6\u4f38\uff0c\u9610\u8ff0\u4e86\u9009\u62e9</code>React Testing Library<code>\u800c\u975e</code>Enzyme`\u7684\u7406\u7531\uff0c\u5e76\u5bf9\u5176\u8fdb\u884c\u4e86\u4e00\u4e9b\u5165\u95e8\u6559\u5b66\uff1b</li> <li>React Testing Library\uff1a<code>@testing-library/react</code>\u7684\u5b98\u65b9\u6587\u6863\uff0c\u8be5\u5e93\u63d0\u4f9b\u7684 API \u5728\u67d0\u4e2a\u7a0b\u5ea6\u4e0a\u5c31\u662f\u5728\u6307\u5f15\u5f00\u53d1\u8005\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\u7684\u6700\u4f73\u5b9e\u8df5\uff1b</li> <li>React Testing Library-examples\uff1a<code>@testing-library/react</code>\u7684\u4e00\u4e9b\u5b9e\u4f8b\uff0c\u63d0\u4f9b\u4e86\u5404\u79cd\u5e38\u89c1\u573a\u666f\u7684\u6d4b\u8bd5\uff1b</li> <li>React \u5355\u5143\u6d4b\u8bd5\u7b56\u7565\u53ca\u843d\u5730\uff1a\u5982\u6807\u9898\u6240\u793a\uff0c\u503c\u5f97\u4e00\u770b\u3002</li> </ul>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_18","title":"\u76f8\u5173\u914d\u7f6e","text":"<p>\u5b89\u88c5\u4f9d\u8d56\uff1a</p> <pre><code>yarn add jest ts-jest @testing-library/react @testing-library/jest-dom identity-obj-proxy @types/jest @types/testing-library__react --dev\n</code></pre> <ul> <li>jest: JavaScript \u6d4b\u8bd5\u6846\u67b6\uff0c\u4e13\u6ce8\u4e8e\u7b80\u6d01\u660e\u5feb\uff1b</li> <li>ts-jest\uff1a\u4e3a<code>TypeScript</code>\u7f16\u5199<code>jest</code>\u6d4b\u8bd5\u7528\u4f8b\u63d0\u4f9b\u652f\u6301\uff1b</li> <li>@testing-library/react\uff1a\u7b80\u5355\u800c\u5b8c\u6574\u7684<code>React DOM</code>\u6d4b\u8bd5\u5de5\u5177\uff0c\u9f13\u52b1\u826f\u597d\u7684\u6d4b\u8bd5\u5b9e\u8df5\uff1b</li> <li>@testing-library/jest-dom\uff1a\u81ea\u5b9a\u4e49\u7684<code>jest</code>\u5339\u914d\u5668(<code>matchers</code>)\uff0c\u7528\u4e8e\u6d4b\u8bd5<code>DOM</code>\u7684\u72b6\u6001\uff08\u5373\u4e3a<code>jest</code>\u7684<code>except</code>\u65b9\u6cd5\u8fd4\u56de\u503c\u589e\u52a0\u66f4\u591a\u4e13\u6ce8\u4e8e<code>DOM</code>\u7684<code>matchers</code>\uff09\uff1b</li> <li>identity-obj-proxy\uff1a\u4e00\u4e2a\u5de5\u5177\u5e93\uff0c\u6b64\u5904\u7528\u6765<code>mock</code>\u6837\u5f0f\u6587\u4ef6\u3002</li> </ul> <p>\u65b0\u5efa<code>jest.config.js</code>\uff0c\u5e76\u5199\u5165\u76f8\u5173\u914d\u7f6e\uff0c\u66f4\u591a\u914d\u7f6e\u53ef\u53c2\u8003jest \u5b98\u65b9\u6587\u6863-\u914d\u7f6e\uff0c\u53ea\u770b\u51e0\u4e2a\u5e38\u7528\u7684\u5c31\u53ef\u4ee5\u3002</p> <p>jest.config.js</p> <pre><code>module.exports = {\n  verbose: true,\n  roots: ['&lt;rootDir&gt;/components'],\n  moduleNameMapper: {\n    '\\\\.(css|less|scss)$': 'identity-obj-proxy',\n    '^components$': '&lt;rootDir&gt;/components/index.tsx',\n    '^components(.*)$': '&lt;rootDir&gt;/components/$1',\n  },\n  testRegex: '(/test/.*|\\\\.(test|spec))\\\\.(ts|tsx|js)$',\n  moduleFileExtensions: ['ts', 'tsx', 'js', 'jsx'],\n  testPathIgnorePatterns: ['/node_modules/', '/lib/', '/esm/', '/dist/'],\n  preset: 'ts-jest',\n  testEnvironment: 'jsdom',\n};\n</code></pre> <p>\u4fee\u6539<code>package.json</code>\uff0c\u589e\u52a0\u6d4b\u8bd5\u76f8\u5173\u547d\u4ee4\uff0c\u5e76\u4e14\u4ee3\u7801\u63d0\u4ea4\u524d\uff0c\u8dd1\u6d4b\u8bd5\u7528\u4f8b\uff0c\u5982\u4e0b\uff1a</p> <p>package.json</p> <pre><code>\"scripts\": {\n  ...\n+  \"test\": \"jest\",                         # \u6267\u884cjest\n+  \"test:watch\": \"jest --watch\",           # watch\u6a21\u5f0f\u4e0b\u6267\u884c\n+  \"test:coverage\": \"jest --coverage\",     # \u751f\u6210\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a\n+  \"test:update\": \"jest --updateSnapshot\"  # \u66f4\u65b0\u5feb\u7167\n},\n...\n\"lint-staged\": {\n  \"components/**/*.ts?(x)\": [\n    \"prettier --write\",\n    \"eslint --fix\",\n+   \"jest --bail --findRelatedTests\",\n    \"git add\"\n  ],\n  ...\n}\n</code></pre> <p>\u4fee\u6539<code>gulpfile.js</code>\u4ee5\u53ca<code>tsconfig.json</code>\uff0c\u907f\u514d\u6253\u5305\u65f6\uff0c\u628a\u6d4b\u8bd5\u6587\u4ef6\u4e00\u5e76\u5904\u7406\u4e86\u3002</p> <p>gulpfile.js</p> <pre><code>const paths = {\n  ...\n- scripts: ['components/**/*.{ts,tsx}', '!components/**/demo/*.{ts,tsx}'],\n+ scripts: [\n+   'components/**/*.{ts,tsx}',\n+   '!components/**/demo/*.{ts,tsx}',\n+   '!components/**/__tests__/*.{ts,tsx}',\n+ ],\n};\n</code></pre> <p>tsconfig.json</p> <pre><code>{\n- \"exclude\": [\"components/**/demo\"]\n+ \"exclude\": [\"components/**/demo\", \"components/**/__tests__\"]\n}\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_19","title":"\u7f16\u5199\u6d4b\u8bd5\u7528\u4f8b","text":"<p><code>&lt;Alert /&gt;</code>\u6bd4\u8f83\u7b80\u5355\uff0c\u6b64\u5904\u53ea\u4f5c\u793a\u4f8b\u7528\uff0c\u7b80\u5355\u8fdb\u884c\u4e00\u4e0b\u5feb\u7167\u6d4b\u8bd5\u3002</p> <p>\u5728\u5bf9\u5e94\u7ec4\u4ef6\u7684\u6587\u4ef6\u5939\u4e0b\u65b0\u5efa<code>__tests__</code>\u6587\u4ef6\u5939\uff0c\u7528\u4e8e\u5b58\u653e\u6d4b\u8bd5\u6587\u4ef6\uff0c\u5176\u5185\u65b0\u5efa<code>index.test.tsx</code>\u6587\u4ef6\uff0c\u5199\u5165\u4ee5\u4e0b\u6d4b\u8bd5\u7528\u4f8b\uff1a</p> <p>components/alert/**tests/index.test.tsx**</p> <pre><code>import React from 'react';\nimport { render } from '@testing-library/react';\nimport Alert from '../alert';\n\ndescribe('&lt;Alert /&gt;', () =&gt; {\n  test('should render default', () =&gt; {\n    const { container } = render(&lt;Alert&gt;default&lt;/Alert&gt;);\n    expect(container).toMatchSnapshot();\n  });\n\n  test('should render alert with type', () =&gt; {\n    const kinds: any[] = ['info', 'warning', 'positive', 'negative'];\n\n    const { getByText } = render(\n      &lt;&gt;\n        {kinds.map(k =&gt; (\n          &lt;Alert kind={k} key={k}&gt;\n            {k}\n          &lt;/Alert&gt;\n        ))}\n      &lt;/&gt;,\n    );\n\n    kinds.forEach(k =&gt; {\n      expect(getByText(k)).toMatchSnapshot();\n    });\n  });\n});\n</code></pre> <p>\u66f4\u65b0\u4e00\u4e0b\u5feb\u7167\uff1a</p> <pre><code>yarn test:update\n</code></pre> <p>\u53ef\u4ee5\u770b\u89c1\u540c\u7ea7\u76ee\u5f55\u4e0b\u65b0\u589e\u4e86\u4e00\u4e2a<code>__snapshots__</code>\u6587\u4ef6\u5939\uff0c\u91cc\u9762\u5b58\u653e\u5bf9\u5e94\u6d4b\u8bd5\u7528\u4f8b\u7684\u5feb\u7167\u6587\u4ef6\u3002</p> <p>\u751f\u6210\u7684\u5feb\u7167\u6587\u4ef6</p> <p>\u518d\u6267\u884c\u6d4b\u8bd5\u7528\u4f8b\uff1a</p> <pre><code>yarn test\n</code></pre> <p>\u901a\u8fc7\u6d4b\u8bd5\u7528\u4f8b</p> <p>\u53ef\u4ee5\u53d1\u73b0\u6211\u4eec\u901a\u8fc7\u4e86\u6d4b\u8bd5\u7528\u4f8b\u3002\u3002\u3002\u989d\uff0c\u8fd9\u91cc\u5f53\u7136\u80fd\u901a\u8fc7\uff0c\u4e3b\u8981\u662f\u540e\u7eed\u6211\u4eec\u8fdb\u884c\u8fed\u4ee3\u91cd\u6784\u65f6\uff0c\u90fd\u4f1a\u91cd\u65b0\u6267\u884c\u6d4b\u8bd5\u7528\u4f8b\uff0c\u4e0e\u6700\u8fd1\u7684\u4e00\u6b21\u5feb\u7167\u8fdb\u884c\u6bd4\u5bf9\uff0c\u5982\u679c\u4e0e\u5feb\u7167\u4e0d\u4e00\u81f4\uff08\u7ed3\u6784\u53d1\u751f\u4e86\u6539\u53d8\uff09\uff0c\u90a3\u4e48\u76f8\u5e94\u7684\u6d4b\u8bd5\u7528\u4f8b\u5c31\u65e0\u6cd5\u901a\u8fc7\u3002</p> <p>\u5bf9\u4e8e\u5feb\u7167\u6d4b\u8bd5\uff0c\u8912\u8d2c\u4e0d\u4e00\uff0c\u8fd9\u4e2a\u4f8b\u5b50\u4e5f\u7740\u5b9e\u7b80\u5355\u5f97\u5f88\uff0c\u751a\u81f3\u8fde\u6269\u5c55\u7684 <code>jest-dom</code>\u63d0\u4f9b\u7684 <code>matchers</code> \u90fd\u6ca1\u7528\u4e0a\u3002</p> <p>\u5982\u4f55\u7f16\u5199\u4f18\u79c0\u7684\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6211\u4e5f\u662f\u4e00\u4e2a\u65b0\u624b\uff0c\u53ea\u80fd\u8bf4\u591a\u770b\u591a\u5199\u591a\u5c1d\u8bd5\uff0c\u524d\u9762\u63a8\u8350\u7684\u6587\u7ae0\u5f88\u4e0d\u9519\u3002</p> <p>\u672c\u8282\u4ee3\u7801\u53ef\u4ee5\u5728\u4ed3\u5e93\u7684<code>chapter-4</code>\u5206\u652f\u83b7\u53d6\uff0c\u82e5\u5b58\u5728\u4e0e\u672c\u6587\u5185\u5bb9\u4e0d\u7b26\u7684\u5730\u65b9\uff0c\u4ee5<code>master</code>\u5206\u652f\u4ee5\u53ca\u6587\u7ae0\u4e3a\u51c6\u3002</p>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_20","title":"\u6807\u51c6\u5316\u53d1\u5e03\u6d41\u7a0b","text":"<p>\u672c\u8282\u4e3b\u8981\u662f\u8bb2\u89e3\u5982\u4f55\u901a\u8fc7\u4e00\u884c\u547d\u4ee4\u5b8c\u6210\u4ee5\u4e0b\u516d\u70b9\u5185\u5bb9\uff1a</p> <ol> <li>\u7248\u672c\u66f4\u65b0</li> <li>\u751f\u6210 CHANGELOG</li> <li>\u63a8\u9001\u81f3 git \u4ed3\u5e93</li> <li>\u7ec4\u4ef6\u5e93\u6253\u5305</li> <li>\u53d1\u5e03\u81f3 npm</li> <li>\u6253 tag \u5e76\u63a8\u9001\u81f3 git</li> </ol> <p>\u5982\u679c\u4f60\u4e0d\u60f3\u4ee3\u7801\uff0c\u5f88\u597d\uff0c\u7528np\uff08\u5982\u679c\u6211\u4e00\u5f00\u59cb\u5c31\u77e5\u9053\u8fd9\u4e2a\u5de5\u5177\uff0c\u6211\u4e5f\u4e0d\u4f1a\u53bb\u5199\u4ee3\u7801\uff0c\u6211\u771f\u50bb\uff0c\u771f\u7684\uff09\u3002</p> <p>package.json</p> <pre><code>\"scripts\": {\n+ \"release\": \"ts-node ./scripts/release.ts\"\n},\n</code></pre> <p>\u76f4\u63a5\u7529\u4ee3\u7801\u5427\uff0c\u5b9e\u5728\u4e0d\u590d\u6742\u3002</p> <pre><code>/* eslint-disable  import/no-extraneous-dependencies,@typescript-eslint/camelcase, no-console */\nimport inquirer from 'inquirer';\nimport fs from 'fs';\nimport path from 'path';\nimport child_process from 'child_process';\nimport util from 'util';\nimport chalk from 'chalk';\nimport semverInc from 'semver/functions/inc';\nimport { ReleaseType } from 'semver';\n\nimport pkg from '../package.json';\n\nconst exec = util.promisify(child_process.exec);\n\nconst run = async (command: string) =&gt; {\n  console.log(chalk.green(command));\n  await exec(command);\n};\n\nconst currentVersion = pkg.version;\n\nconst getNextVersions = (): { [key in ReleaseType]: string | null } =&gt; ({\n  major: semverInc(currentVersion, 'major'),\n  minor: semverInc(currentVersion, 'minor'),\n  patch: semverInc(currentVersion, 'patch'),\n  premajor: semverInc(currentVersion, 'premajor'),\n  preminor: semverInc(currentVersion, 'preminor'),\n  prepatch: semverInc(currentVersion, 'prepatch'),\n  prerelease: semverInc(currentVersion, 'prerelease'),\n});\n\nconst timeLog = (logInfo: string, type: 'start' | 'end') =&gt; {\n  let info = '';\n  if (type === 'start') {\n    info = `=&gt; \u5f00\u59cb\u4efb\u52a1\uff1a${logInfo}`;\n  } else {\n    info = `\u2728 \u7ed3\u675f\u4efb\u52a1\uff1a${logInfo}`;\n  }\n  const nowDate = new Date();\n  console.log(\n    `[${nowDate.toLocaleString()}.${nowDate\n      .getMilliseconds()\n      .toString()\n      .padStart(3, '0')}] ${info}\n    `,\n  );\n};\n\n/**\n * \u83b7\u53d6\u4e0b\u4e00\u6b21\u7248\u672c\u53f7\n */\nasync function prompt(): Promise&lt;string&gt; {\n  const nextVersions = getNextVersions();\n  const { nextVersion } = await inquirer.prompt([\n    {\n      type: 'list',\n      name: 'nextVersion',\n      message: `\u8bf7\u9009\u62e9\u5c06\u8981\u53d1\u5e03\u7684\u7248\u672c (\u5f53\u524d\u7248\u672c ${currentVersion})`,\n      choices: (Object.keys(nextVersions) as Array&lt;ReleaseType&gt;).map(level =&gt; ({\n        name: `${level} =&gt; ${nextVersions[level]}`,\n        value: nextVersions[level],\n      })),\n    },\n  ]);\n  return nextVersion;\n}\n\n/**\n * \u66f4\u65b0\u7248\u672c\u53f7\n * @param nextVersion \u65b0\u7248\u672c\u53f7\n */\nasync function updateVersion(nextVersion: string) {\n  pkg.version = nextVersion;\n  timeLog('\u4fee\u6539package.json\u7248\u672c\u53f7', 'start');\n  await fs.writeFileSync(path.resolve(__dirname, './../package.json'), JSON.stringify(pkg));\n  await run('npx prettier package.json --write');\n  timeLog('\u4fee\u6539package.json\u7248\u672c\u53f7', 'end');\n}\n\nasync function generateChangelog() {\n  timeLog('\u751f\u6210CHANGELOG.md', 'start');\n  await run(' npx conventional-changelog -p angular -i CHANGELOG.md -s -r 0');\n  timeLog('\u751f\u6210CHANGELOG.md', 'end');\n}\n\n/**\n * \u5c06\u4ee3\u7801\u63d0\u4ea4\u81f3git\n */\nasync function push(nextVersion: string) {\n  timeLog('\u63a8\u9001\u4ee3\u7801\u81f3git\u4ed3\u5e93', 'start');\n  await run('git add package.json CHANGELOG.md');\n  await run(`git commit -m \"v${nextVersion}\" -n`);\n  await run('git push');\n  timeLog('\u63a8\u9001\u4ee3\u7801\u81f3git\u4ed3\u5e93', 'end');\n}\n\n/**\n * \u7ec4\u4ef6\u5e93\u6253\u5305\n */\nasync function build() {\n  timeLog('\u7ec4\u4ef6\u5e93\u6253\u5305', 'start');\n  await run('npm run build');\n  timeLog('\u7ec4\u4ef6\u5e93\u6253\u5305', 'end');\n}\n\n/**\n * \u53d1\u5e03\u81f3npm\n */\nasync function publish() {\n  timeLog('\u53d1\u5e03\u7ec4\u4ef6\u5e93', 'start');\n  await run('npm publish');\n  timeLog('\u53d1\u5e03\u7ec4\u4ef6\u5e93', 'end');\n}\n\n/**\n * \u6253tag\u63d0\u4ea4\u81f3git\n */\nasync function tag(nextVersion: string) {\n  timeLog('\u6253tag\u5e76\u63a8\u9001\u81f3git', 'start');\n  await run(`git tag v${nextVersion}`);\n  await run(`git push origin tag v${nextVersion}`);\n  timeLog('\u6253tag\u5e76\u63a8\u9001\u81f3git', 'end');\n}\n\nasync function main() {\n  try {\n    const nextVersion = await prompt();\n    const startTime = Date.now();\n    // =================== \u66f4\u65b0\u7248\u672c\u53f7 ===================\n    await updateVersion(nextVersion);\n    // =================== \u66f4\u65b0changelog ===================\n    await generateChangelog();\n    // =================== \u4ee3\u7801\u63a8\u9001git\u4ed3\u5e93 ===================\n    await push(nextVersion);\n    // =================== \u7ec4\u4ef6\u5e93\u6253\u5305 ===================\n    await build();\n    // =================== \u53d1\u5e03\u81f3npm ===================\n    await publish();\n    // =================== \u6253tag\u5e76\u63a8\u9001\u81f3git ===================\n    await tag(nextVersion);\n    console.log(`\u2728 \u53d1\u5e03\u6d41\u7a0b\u7ed3\u675f \u5171\u8017\u65f6${((Date.now() - startTime) / 1000).toFixed(3)}s`);\n  } catch (error) {\n    console.log('\ud83d\udca3 \u53d1\u5e03\u5931\u8d25\uff0c\u5931\u8d25\u539f\u56e0\uff1a', error);\n  }\n}\n\nmain();\n</code></pre>"},{"location":"react/%E6%A1%88%E4%BE%8B-React%E7%BB%84%E4%BB%B6%E5%BA%93%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/#_21","title":"\u521d\u59cb\u5316\u7ec4\u4ef6","text":"<p>\u6bcf\u6b21\u521d\u59cb\u5316\u4e00\u4e2a\u7ec4\u4ef6\u5c31\u8981\u65b0\u5efa\u8bb8\u591a\u6587\u4ef6\u4ee5\u53ca\u6587\u4ef6\u5939\uff0c\u590d\u5236\u7c98\u8d34\u4e5f\u53ef\uff0c\u4e0d\u8fc7\u8fd8\u53ef\u4ee5\u4f7f\u7528\u66f4\u9ad8\u7ea7\u4e00\u70b9\u7684\u5077\u61d2\u65b9\u5f0f\u3002</p> <p>\u5e38\u89c4\u601d\u8def\uff0c\u65b0\u5efa\u4e00\u4e2a\u7ec4\u4ef6\u6a21\u677f\u6587\u4ef6\u5939\uff0c\u91cc\u9762\u5305\u542b\u4e00\u4e2a\u7ec4\u4ef6\u6240\u9700\u8981\u7684\u6240\u6709\u6587\u4ef6\uff0c\u540c\u65f6\u5199\u597d\u6587\u4ef6\u5185\u5bb9\u3002</p> <p>\u81f3\u4e8e\u4e00\u4e9b\u52a8\u6001\u5185\u5bb9\uff0c\u8b6c\u5982\u7ec4\u4ef6\u4e2d\u82f1\u6587\u540d\u79f0\uff0c\u9009\u4e00\u4e2a\u4f60\u559c\u6b22\u7684\u6a21\u677f\u8bed\u8a00\uff08\u5982 handlebars\uff09\uff0c\u7528\u5176\u65b9\u5f0f\u7559\u7a7a<code>{{componentName}}</code>\u3002</p> <p>package.json</p> <pre><code>\"scripts\": {\n+ \"new\": \"ts-node ./scripts/new.ts\"\n},\n</code></pre> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u5728<code>new.ts</code>\u4e2d\u7f16\u5199\u76f8\u5173\u6b65\u9aa4\uff0c\u65e0\u975e\u662f\uff1a</p> <ol> <li>\u57fa\u4e8e<code>inquirer.js</code>\u8be2\u95ee\u4e00\u4e9b\u57fa\u672c\u7ec4\u4ef6\u4fe1\u606f</li> <li>\u7ed3\u5408\u4fe1\u606f\uff0c\u6e32\u67d3\u6a21\u677f\uff08\u586b\u7a7a\uff09\u81f3\u7ec4\u4ef6\u6587\u4ef6\u5939</li> <li>\u5411 components/index.ts \u63d2\u5165\u5bfc\u51fa\u8bed\u53e5</li> </ol> <p>\u4f60\u4ee5\u4e3a\u6211\u4f1a\u5199<code>new.ts</code>\u5417\uff0c\u4e0d\uff0c\u6211\u4e0d\u4f1a\uff08\u867d\u7136\u6211\u771f\u5199\u8fc7\uff09\u3002</p> <p>\u4e3b\u8981\u662f\u4f7f\u7528metalsmith\u8fdb\u884c\u6570\u636e\u4e0e\u6a21\u677f\u7ed3\u5408\uff0c\u5199\u811a\u624b\u67b6\u7684\u540c\u5b66\u53ef\u80fd\u6bd4\u8f83\u719f\u6089\u3002</p> <p>\u81ea\u4ece\u6211\u77e5\u9053\u4e86plop.js\u8fd9\u4e2a\u5e93\uff0c\u90a3\u4e48\u53c8\u53ef\u4ee5\u5077\u61d2\u4e86\uff08\u4e3a\u4ec0\u4e48\u4e4b\u524d\u6ca1\u6709\u4eba\u544a\u8bc9\u6211\u6709\u8fd9\u4e48\u591a\u597d\u7528\u7684\u5de5\u5177\uff1f\uff1f\uff1f\uff09</p> <pre><code>\"scripts\": {\n- \"new\": \"ts-node ./scripts/new.ts\",\n+ \"new\": \"plop --plopfile ./scripts/plopfile.ts\",\n},\n</code></pre> <p>\u4e8e\u662f\u4e0a\u8ff0\u6d41\u7a0b\u53ef\u4ee5\u5927\u5927\u7b80\u5316\uff0c\u4e0d\u9700\u8981\u5199\u4ee3\u7801\u53bb\u8be2\u95ee\uff0c\u4e0d\u9700\u8981\u624b\u52a8\u6e32\u67d3\u6a21\u677f\uff0c\u6211\u4eec\u8981\u505a\u7684\u5c31\u662f\u5199\u597d\u6a21\u677f\uff0c\u5e76\u4e14\u914d\u7f6e\u597d\u95ee\u9898\u4ee5\u53ca\u6e32\u67d3\u76ee\u7684\u5730\u3002</p> <p>\u8be6\u60c5\u53ef\u89c1\uff1a</p> <ul> <li>\u914d\u7f6e\u6587\u4ef6\uff1ascripts/plopfile.ts</li> <li>\u6a21\u677f\u6587\u4ef6\uff1atemplates/component</li> </ul>"},{"location":"react/%E9%98%AE%E4%B8%80%E5%B3%B0%20react%20%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/","title":"\u962e\u4e00\u5cf0 react \u7cfb\u5217\u6559\u7a0b","text":""},{"location":"react/%E9%98%AE%E4%B8%80%E5%B3%B0%20react%20%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/#react","title":"\u962e\u4e00\u5cf0 react \u7cfb\u5217\u6559\u7a0b","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1776  \u9605\u8bfb4\u5206\u949f</p> <ul> <li>ES6 \u8bed\u6cd5\uff1a\u6559\u7a0b</li> <li>Babel\uff1a\u6559\u7a0b</li> <li>React\uff1a\u6559\u7a0b\uff0c\u793a\u4f8b\u5e93</li> <li>Webpack\uff1a\u6559\u7a0b</li> <li>React \u9879\u76ee\u811a\u624b\u67b6\uff1a\u4ee3\u7801\u5e93</li> <li>Flex \u5e03\u5c40\uff1a\u6559\u7a0b\uff0c\u793a\u4f8b</li> <li>CSS Modules\uff1a\u6559\u7a0b\uff0c\u793a\u4f8b\u5e93</li> <li>React-Router\uff1a\u6559\u7a0b\uff0c\u793a\u4f8b\u5e93</li> <li>Flux \u67b6\u6784\uff1a\u6559\u7a0b\uff0c\u793a\u4f8b\u5e93</li> <li>Redux \u67b6\u6784\uff1a\u6559\u7a0b\u4e00\u3001\u6559\u7a0b\u4e8c\u3001\u6559\u7a0b\u4e09</li> <li>Mocha \u6d4b\u8bd5\u6846\u67b6\uff1a\u6559\u7a0b\uff0c\u793a\u4f8b\u5e93</li> <li>Istanbul \u8986\u76d6\u7387\u6846\u67b6\uff1a\u6559\u7a0b</li> <li>React \u5355\u5143\u6d4b\u8bd5\uff1a\u6559\u7a0b\uff0c\u793a\u4f8b\u5e93</li> </ul>"},{"location":"react/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E7%9A%84%20REACT%202015%20%E4%B9%8B%E8%B7%AF/","title":"\u6211\u7684 REACT 2015 \u4e4b\u8def","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5337  \u9605\u8bfb11\u5206\u949f</p> <p>\u8fd9\u662f\u963f\u91cc\u5df4\u5df4\u6838\u5fc3\u524d\u7aef\u6210\u5458\u7684 2015 \u5e74 react \u603b\u7ed3\u3002</p> <p>\u9996\u5148\u8981\u611f\u8c22 React\uff0c\u62ef\u6551\u4e86\u6211\u7684\u7b2c\u4e00\u4e2a\u804c\u4e1a\u5026\u6020\u671f\uff0c\u81ea 2014 \u5e74\u5e26\u7740 React \u5728\u8682\u8681\u5fc5\u5b9a\u80fd\u6709\u6240\u4f5c\u4e3a\u7684\u6267\u5ff5\u6765\u5230\u8fd9\u91cc\uff0c\u7ecf\u8fc7 2015 \u4e00\u5e74\u60ca\u5fc3\u52a8\u9b44\u7684\u5386\u7a0b\uff0c\u671f\u95f4\u57fa\u672c\u6ca1\u7cbe\u529b\u5199\u6587\u7ae0\uff0c\u5728\u5c0f\u4f19\u4f34\u4eec\u7684\u5e2e\u52a9\u4e0b\u5230\u5982\u4eca\u7ec8\u4e8e\u5f00\u82b1\u7ed3\u679c\uff0c\u56de\u60f3 2015\uff0c\u611f\u6fc0\u800c\u5e86\u5e78\u3002</p>"},{"location":"react/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E7%9A%84%20REACT%202015%20%E4%B9%8B%E8%B7%AF/#_1","title":"\u4e1a\u52a1\u7279\u70b9","text":"<p>\u7ecf\u5178\u7684\u51b0\u5c71\u7406\u8bba\uff1a</p> <p></p> <p>\u4e2d\u540e\u53f0\u7cfb\u7edf\u7e41\u591a\uff0c\u524d\u7aef\u4eba\u5458\u4e25\u91cd\u4e0d\u8db3</p>"},{"location":"react/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E7%9A%84%20REACT%202015%20%E4%B9%8B%E8%B7%AF/#_2","title":"\u5e94\u7528\u65b9\u6848","text":"<p>\u91c7\u7528\u5168\u6808\u5f00\u53d1\u6a21\u5f0f\uff0c\u4eba\u4eba\u90fd\u662f\u524d\u7aef\uff0c\u800c\u524d\u7aef\u4e13\u4e1a\u56e2\u961f\u63d0\u4f9b\u57fa\u7840\u524d\u7aef\u67b6\u6784\u4e0e\u57fa\u7840\u8bbe\u65bd</p> <p></p>"},{"location":"react/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E7%9A%84%20REACT%202015%20%E4%B9%8B%E8%B7%AF/#_3","title":"\u524d\u7aef\u67b6\u6784","text":"<p>\u6839\u636e\u516c\u53f8\u7684\u6280\u672f\u7279\u70b9\uff08java \u5f00\u53d1\u4e3a\u4e3b\uff09\u63d0\u51fa\u4e86\u57fa\u4e8e React\uff08class based es6\uff09 \u7684\u524d\u7aef\u67b6\u6784</p> <p></p>"},{"location":"react/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E7%9A%84%20REACT%202015%20%E4%B9%8B%E8%B7%AF/#_4","title":"\u7ec4\u4ef6","text":"<p>\u5728\u7ec4\u4ef6\u65b9\u9762\u5f62\u6210\u4e86 antd/antm/react-component \u7684\u4e09\u9a7e\u9a6c\u8f66</p> <p></p> <p>\u5176\u4e2d\u5b9a\u4f4d\u5404\u6709\u4fa7\u91cd</p> react-component antd \u5b9a\u4f4d \u63d0\u4f9b\u5e95\u5c42\u529f\u80fd \u5b8c\u5584\u7684\u5957\u4ef6 \u6837\u5f0f \u63d0\u4f9b\u53c2\u8003\u6837\u5f0f \u7edf\u4e00\u7684\u8bbe\u8ba1\u89c4\u8303 \u914d\u7f6e \u5f3a\u5927\uff0c\u590d\u6742 \u7cbe\u7b80 \u6587\u6863 \u9ad8\u9636\uff0c\u590d\u6742 \u7cbe\u7f8e\uff0c\u9762\u5411\u521d\u7ea7\u7528\u6237 \u6269\u5c55\u6027 \u9ad8 \u4f4e <p>antd \u76ee\u524d\u6709 50+ \u57fa\u7840\u7ec4\u4ef6\uff0c\u7279\u70b9\u5305\u62ec\uff1a \u5b9e\u7528\u4e3b\u4e49\uff0c\u5c0f\u800c\u7f8e\uff0c\u7edf\u4e00\u4ea4\u4e92\uff0c\u5b8c\u5584\u52a8\u753b\u7b49\u3002</p> <p></p> <p>\u800c\u6b63\u5728\u8fdb\u884c\u4e2d\u7684 antm \u5219\u529b\u56fe\u5728 mobile web, react-native \u9886\u57df\u6709\u6240\u4f5c\u4e3a:</p> <p></p>"},{"location":"react/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E7%9A%84%20REACT%202015%20%E4%B9%8B%E8%B7%AF/#_5","title":"\u5de5\u5177","text":"<p>\u57fa\u4e8e webpack babel koa anyproxy \u5c01\u88c5\u4e86\u7b80\u5355\u6613\u7528\u7684 ant-tool\uff0c\u6db5\u76d6\u4e86\u5f00\u53d1\u6d41\u7a0b\u7684\u5404\u4e2a\u65b9\u9762\uff1a</p> <p></p>"},{"location":"react/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E7%9A%84%20REACT%202015%20%E4%B9%8B%E8%B7%AF/#_6","title":"\u5e94\u7528\u67b6\u6784","text":"<p>\u63a2\u7d22\u9002\u5408\u8682\u8681\u4e1a\u52a1\u7684\u5e94\u7528\u67b6\u6784 roof\uff0c\u5305\u542b\u4e24\u5c42\u542b\u4e49</p> <p>\u9996\u5148\u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684 roof \u6838\u5fc3\u6570\u636e\u7ed1\u5b9a\u529f\u80fd\uff0c\u6ee1\u8db3\u5927\u90e8\u5206\u7684\u4e00\u822c\u5e94\u7528\u3002</p> <p></p> <p>\u5176\u6b21\u662f\u5bf9\u4e8e\u590d\u6742\u4e1a\u52a1\u7531 roof \u7cbe\u5fc3\u6311\u9009\u793e\u533a\u7684\u4f18\u79c0\u7c7b\u5e93\u7ec4\u5408\u5f62\u6210\u63a8\u8350\u7684\u5e94\u7528\u67b6\u6784\uff0c\u5305\u62ec</p> <p></p> <p></p>"},{"location":"react/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E7%9A%84%20REACT%202015%20%E4%B9%8B%E8%B7%AF/#_7","title":"\u4e1a\u52a1\u7ed3\u5408","text":"<p>\u5982\u4eca antd \u5df2\u8986\u76d6\u8682\u8681\u91d1\u670d\u5168\u90e8\u524d\u7aef\u7cfb\u7edf\u7684 40%, \u4e2d\u53f0\u65b0\u7cfb\u7edf\u8986\u76d6\u7387\u63a5\u8fd1 100%\uff0c\u53d6\u5f97\u4e86\u826f\u597d\u6548\u679c\uff1a</p> <p>\u6574\u4f53\u53cd\u9988\u826f\u597d\uff0c\u5728 \u8682\u8681\u6280\u672f\u5e74\u5ea6\u76db\u5178 \u4e2d\u83b7\u5f97\u70b9\u8d5e\u524d10\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u7eaf\u524d\u7aef\u9879\u76ee\u5341\u5206\u96be\u5f97\u3002</p>"},{"location":"react/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E7%9A%84%20REACT%202015%20%E4%B9%8B%E8%B7%AF/#_8","title":"\u96c6\u56e2\u5408\u4f5c","text":"<p>antd \u5728\u6dd8\u5b9d\uff0c\u5929\u732b\uff0c\u9489\u9489\uff0c\u963f\u91cc\u4e91\u7b49\u5144\u5f1f\u516c\u53f8\u4e5f\u591a\u6709\u76f4\u63a5\u5e94\u7528\uff0c\u5176\u5b9d\u8d35\u53cd\u9988\u5bf9 antd \u7684\u5b8c\u5584\u8d77\u5230\u4e86\u91cd\u8981\u4f5c\u7528\u3002</p> <p>\u5bf9\u4e8e\u6709\u81ea\u5df1\u9c9c\u660e\u8bbe\u8ba1\u7279\u70b9\u7684\u56e2\u961f\uff0c\u57fa\u4e8e react-component \u5404\u81ea\u642d\u5efa\u4e86\u5177\u5907\u81ea\u5df1\u7279\u8272\u7684 UI \u6846\u67b6\uff0c\u5176\u5b9d\u8d35\u53cd\u9988\u5bf9 react-component \u7684\u5b8c\u5584\u8d77\u5230\u4e86\u91cd\u8981\u4f5c\u7528. \u4f8b\u5982</p> <p>http://uxco.re</p>"},{"location":"react/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E7%9A%84%20REACT%202015%20%E4%B9%8B%E8%B7%AF/#_9","title":"\u5206\u4eab","text":"<p>2015 \u6211\u4eec\u5728 D2, QCON, \u5408\u4f5c\u516c\u53f8\u997f\u4e86\u4e48 \u90fd\u6709\u5206\u4eab\u548c\u4ea4\u6d41\uff0c\u601d\u7ef4\u78b0\u649e\u6fc0\u53d1\u4e86\u65b0\u7684\u65b9\u5411\u3002</p> <p>\u66f4\u6709\u5e78\u524d\u5f80 facebook \u53c2\u52a0 f8\uff0c\u548c react \u6838\u5fc3\u5f00\u53d1 ben \u5f53\u9762\u4ea4\u6d41\uff0c\u4e4b\u540e\u7ebf\u4e0a\u4ea4\u6d41\u611f\u89c9\u66f4\u52a0\u987a\u7545\u4e86.</p> <p></p>"},{"location":"react/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E7%9A%84%20REACT%202015%20%E4%B9%8B%E8%B7%AF/#_10","title":"\u5916\u90e8\u53d1\u5c55","text":"<p>antd \u53d1\u5e03\u4e00\u5e74\u540e\u5728\u56fd\u5185\u5916\u793e\u533a\u6709\u4e86\u5e7f\u6cdb\u7684\u5f71\u54cd\u529b</p> <p></p> <p>\u4e0d\u4ec5\u5728\u56fd\u5185\u79ef\u7d2f\u4e86\u4e0d\u5c11 \u5fe0\u5b9e\u7528\u6237\uff0c\u56fd\u5916\u4e5f\u5f00\u59cb\u4e86\u4f7f\u7528\u548c \u5173\u6ce8\u3002</p> <p>pr:</p> <p></p> <p>\u63a8\u5e7f\uff1a</p> <p></p> <p>\u5bf9\u4e8e react-component \u57fa\u7840\u7ec4\u4ef6\u66f4\u662f\u6570\u4e0d\u80dc\u6570\u3002</p> <p>\u8fd9\u5bf9 antd \u7684\u5b8c\u5584\u548c\u56e2\u961f\u7684\u6fc0\u52b1\u8d77\u5230\u4e86\u91cd\u8981\u4f5c\u7528.</p>"},{"location":"react/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E7%9A%84%20REACT%202015%20%E4%B9%8B%E8%B7%AF/#react","title":"react \u4e0a\u6e38","text":"<p>\u6211\u4eec\u5728\u5f00\u53d1\u7ec4\u4ef6\u8fc7\u7a0b\u4e2d\u9047\u5230\u8bf8\u591a\u95ee\u9898\uff0c\u53cd\u9988 react \u540e\u4e5f\u5f97\u5230\u4e86\u6838\u5fc3\u56e2\u961f\u7684\u79ef\u6781\u56de\u5e94\uff0cpatch \u5927\u591a\u4e5f\u5f97\u4ee5\u5408\u5e76\u4e3b\u5e72\u3002</p> <p></p>"},{"location":"react/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E7%9A%84%20REACT%202015%20%E4%B9%8B%E8%B7%AF/#_11","title":"\u63a5\u4e0b\u6765\u7684\u8def","text":"<p>\u672a\u6765\u6211\u4eec\u9664\u4e86\u5bf9 antd \u627f\u8bfa\u7684\u6301\u7eed\u6295\u5165\uff0c\u5c06\u4f9d\u9760 antm \u53d1\u529b\u79fb\u52a8\u65f6\u4ee3\uff0c\u4f9d\u6258 react-native \u63d0\u9ad8\u79fb\u52a8\u7aef\u7684\u524d\u7aef\u4f53\u9a8c\uff0c\u5728\u5e94\u7528\u67b6\u6784\uff0f\u5de5\u5177\u65b9\u9762\u7d27\u8ddf\u793e\u533a\u8fdb\u5c55\uff0c\u5c06\u6700\u597d\u7684\u4e1c\u897f\u5e26\u7ed9\u6211\u4eec\u7684\u4e1a\u52a1\uff0c\u540c\u65f6\u5c06\u6211\u4eec\u4e1a\u52a1\u9047\u5230\u7684\u95ee\u9898\uff0c\u521b\u65b0\u62bd\u8c61\u53cd\u9988\u793e\u533a\u3002</p> <p>\u6700\u540e\u671f\u5f85\u540c\u5927\u5bb6\u7684\u5408\u4f5c\u548c\u4ea4\u6d41\u3002</p>"},{"location":"react-hooks/00%20React%20hook%20%E7%AC%94%E8%AE%B0/","title":"React hook \u7b14\u8bb0\u6458\u5f55\uff082024-02\u66f4\u65b0\uff09","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 518  \u9605\u8bfb2\u5206\u949f</p>"},{"location":"react-hooks/00%20React%20hook%20%E7%AC%94%E8%AE%B0/#_1","title":"\u524d\u8a00","text":"<p>\u65e9\u671f\u4ee3\u7801\u5f88\u591a\u90fd\u662f\u7c7b\u7ec4\u4ef6\uff0c\u6700\u8fd1\u7531\u4e8e\u4e1a\u52a1\u9700\u6c42\u9700\u8981\u6539\u6210\u51fd\u6570\u7ec4\u4ef6\uff0c\u90a3\u4e48 hook \u548c redux \u66f4\u65b0\u52bf\u5728\u5fc5\u884c\uff08\u516c\u53f8\u7684\u7ec4\u4ef6\u9010\u6b65\u8fed\u4ee3\uff0c\u4e2a\u4eba\u7684\u7ec4\u4ef6\u53ef\u4ee5\u5927\u80c6\u5c1d\u8bd5\u65b0\u7279\u6027\uff09\u3002</p> <p>\u8fd9\u91cc\u4e3b\u8981\u53c2\u8003 React \u5b98\u65b9\u535a\u5ba2\uff0c\u962e\u4e00\u5cf0\u8001\u5e08\u535a\u5ba2\uff082020\u8f83\u65e9\uff09\uff0c\u6398\u91d1\u9ad8\u8d5e\u6587\u7ae0\uff0c\u91cd\u5728\u5b9e\u8df5\u6572\u4ee3\u7801\uff0c\u7136\u540e\u5728\u9879\u76ee\u4e2d\u5927\u91cf\u5e94\u7528\u3002\u5165\u95e8\u7684\u6982\u5ff5\u5bf9\u6bd4\u7b49\u4e0d\u8d58\u8ff0\uff0c\u672c\u7b14\u8bb0\u4e3b\u8981\u8bb0\u5f55\u4e0d\u4f1a\u7684\u5185\u5bb9\uff0c\u7ec3\u4e60\u5b9e\u8df5\u3002</p>"},{"location":"react-hooks/01%20React%20Hooks%20%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B-%E9%98%AE%E4%B8%80%E5%B3%B0/","title":"01 React Hooks \u5165\u95e8\u6559\u7a0b\uff08\u962e\u4e00\u5cf0\uff09","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4890  \u9605\u8bfb10\u5206\u949f</p> <p>https://www.ruanyifeng.com/blog/2019/09/react-hooks.html</p> <p>\u65e5\u671f\uff1a 2019\u5e749\u67081\u65e5</p> <p>\u51fd\u6570\u5f0f\u7ec4\u4ef6\u662f\u4e00\u4e2a\u7eaf\u51fd\u6570\uff0c\u4e0d\u5e94\u8be5\u6709\u4efb\u4f55\u7684\u526f\u4f5c\u7528\uff0c\u5e94\u8be5\u76f4\u63a5\u628a\u6570\u636e\u6e32\u67d3\u6210 HTML \uff0c\u51fd\u6570\u7684\u8fd4\u56de\u503c\u5c31\u662f HTML\u3002\u90a3\u4e48\u5404\u79cd\u526f\u4f5c\u7528\u64cd\u4f5c\uff0c\u5c31\u9700\u8981 hooks \u5b9e\u73b0\u526f\u4f5c\u7528\u3002</p> <p>\u8fd9\u91cc\u4ecb\u7ecd\u56db\u4e2a\u5e38\u7528 hooks</p> <ul> <li>useState \u5904\u7406\u72b6\u6001</li> <li>useContext \u5904\u7406\u4e0a\u4e0b\u6587\u4f20\u53c2\uff08\u8de8\u7ec4\u4ef6\u4f20\u53c2\uff09</li> <li>useReducer \u5904\u7406 redux \u7684 action \u548c dispatch</li> <li>useEffect \u5904\u7406\u751f\u547d\u5468\u671f\u51fd\u6570\uff08didMount, dIdpdate\uff09</li> <li>\u81ea\u5b9a\u4e49 hooks</li> </ul> <p>useState \u5904\u7406\u7ec4\u4ef6\u5185\u90e8\u72b6\u6001\uff0c\u5916\u90e8\u5171\u4eab\u7684\u72b6\u6001\u4f7f\u7528 redux \u7ba1\u7406\uff0c\u6ce8\u610f\uff1a\u72b6\u6001\u540d\u79f0\u548c\u66f4\u6539\u51fd\u6570\u540d\u79f0\u4e00\u81f4\u3002\u5982\u679c\u72b6\u6001\u8f83\u591a\uff0c\u540d\u79f0\u5c3d\u91cf\u5177\u4f53\u6709\u610f\u4e49\uff0c\u907f\u514d\u51b2\u7a81\u3002</p> <pre><code>import React, { useState } from 'react';\n\nexport default function Button () {\n  const [text, setText] = useState('click me');\n\n    function onClick() {\n    setText('Thanks')\n  } \n\n  return (\n    &lt;button onClick={onClick}&gt;{text}&lt;/button&gt;\n  );\n}\n</code></pre> <p>\u5904\u7406\u4e0a\u4e0b\u6587\uff08\u8de8\u7ec4\u4ef6\u4f20\u53c2\uff0c\u4e3b\u8981\u7528\u4e8e\u9876\u7ea7\u7ec4\u4ef6\u628a\u5168\u5c40\u8bbe\u7f6e\uff0c\u4f8b\u5982\u80cc\u666f\u8272\uff0c\u5f53\u524d\u4f7f\u7528\u8005\uff0c\u8bed\u8a00\u8bbe\u7f6e\u7b49\u4f20\u9012\u7ed9\u5168\u90e8\u53f6\u5b50\u7ec4\u4ef6\uff0c\u53f6\u5b50\u7ec4\u4ef6\u5f15\u5165 useContext(Appcontext) \u5373\u53ef\u62ff\u5230\u9876\u5c42\u7ec4\u4ef6\u7684\u8bbe\u7f6e\uff0c\u4e0d\u9700\u8981\u628a\u9876\u5c42\u7ec4\u4ef6\u6302\u8f7d\u5230\u5168\u5c40\u53d8\u91cf\u4e0a\uff09</p> <pre><code>import React, { useContext } from 'react';\n\n// \u9876\u5c42\u7ec4\u4ef6\u4e0a\u4e0b\u6587\nconst AppContext = React.createContext({});\n\n// \u5b50\u7ec4\u4ef6\nconst Navbar = () =&gt; {\n  const { username } = useContext(Appcontext);\n  return (\n    &lt;div className=\"navBar\"&gt;{username}&lt;/div&gt;\n  );\n}\n\n// \u9876\u5c42\u7ec4\u4ef6\nfunction App() {\n  return (\n    &lt;AppContext.Provider value={{ username: 'Mike'}}&gt;\n        &lt;div&gt;\n        &lt;Navbar/&gt;\n      &lt;/div&gt;\n    &lt;/AppContext.Provider&gt;\n  );\n}\n</code></pre> <p>useReducer \u7c7b\u4f3c redux\uff0c\u8ba9\u7ec4\u4ef6\u7684 store \u548c UI \u5c42\u89e3\u8026\uff0c\u53ef\u4ee5\u5b9e\u73b0 redux \u7684\u57fa\u672c\u529f\u80fd</p> <pre><code>import React, { useReducer } from \"react\";\n\nconst myReducer = (state, action) =&gt; {\n  switch(action.type): {\n    case('add'):\n      return {\n        ...state,\n        count: state.count + 1,\n      }\n    case('remove'):\n      return {\n        ...state,\n        count: state.count - 1,\n      }\n    default: {\n      return state;\n    }\n  }\n}\n\nfunction App() {\n  const [state, dispatch] = useReducer(myReducer, { count: 0 });\n  return (\n    &lt;&gt;\n        &lt;button onClick={() =&gt; dispatch({ type: 'add' })}&gt;increase&lt;/button&gt;\n      &lt;button onClick={() =&gt; dispatch({ type: 'remove' })}&gt;decrease&lt;/button&gt;\n      &lt;p&gt;result is {state.count}&lt;/p&gt;\n    &lt;/&gt;\n  );\n}\n</code></pre> <p>useEffect \u662f componentDidMount \u548c componentDidUpdate \u548c componentWIllUnmount \u7684\u7ec4\u5408\uff0c\u7528\u4e8e\u9996\u6b21\u52a0\u8f7d\u540e\uff0c\u6216\u8005\u7ec4\u4ef6\u66f4\u65b0\u540e\uff0c\u5904\u7406\u7f51\u7edc\u8bf7\u6c42\uff0c\u6216\u8005\u5904\u7406 DOM \u5c3a\u5bf8\u8ba1\u7b97\u7b49\u3002\u4e0d\u540c\u64cd\u4f5c\uff0c\u6700\u597d\u5206\u5f00\u5199\u6210\u4e0d\u540c\u7684 useEffect\u3002useEffect \u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u51fd\u6570\uff0c\u5305\u62ec\u5177\u4f53\u6267\u884c\u7684\u64cd\u4f5c\uff08\u526f\u4f5c\u7528\uff09\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6570\u7ec4 [] \u53ef\u9009\u53c2\u6570\uff0c\u5f53\u8fd9\u4e2a\u6570\u7ec4\u5185\u5bb9\u53d8\u5316\u540e\uff0c\u518d\u6267\u884c\u51fd\u6570\u7684\u64cd\u4f5c\u3002</p> <pre><code>import React, { useState, useEffect } from \"react\";\n\n// \u5b50\u7ec4\u4ef6\uff0c\u6e32\u67d3\u7528\u6237\u7684\u8be6\u60c5\uff08\u9700\u8981\u67e5\u8be2\u670d\u52a1\u7aef\u6570\u636e\uff09\nconst Person = ({ personId }) =&gt; {\n  const [loading, setLoading] = useState(true);\n  const [person, setPerson] = useState({});\n\n  // \u521d\u59cb\u52a0\u8f7d\u7528\u6237\u4fe1\u606f\uff0c\u6216\u8005\u7528\u6237 ID \u53d8\u5316\u540e\u91cd\u65b0\u52a0\u8f7d\u4fe1\u606f\n  useEffect(() =&gt; {\n    setLoading(true);\n    fetch('http://www.api.com/person').then(res =&gt; {\n      return res.json();\n    }).then(data =&gt; {\n      setPerson(data);\n      setLoading(false);\n    });\n  }, [personId]);\n\n  if (loading || !person) {\n    return &lt;span&gt;...&lt;/span&gt;\n  }\n  return (\n    &lt;div&gt;\n        &lt;p&gt;{person.name}&lt;/p&gt;\n      &lt;p&gt;{person.height}&lt;/p&gt;\n    &lt;/div&gt;\n  );\n}\n\n// \u7236\u7ec4\u4ef6\uff0c\u5b9e\u73b0\u5207\u6362\u7528\u6237\u4fe1\u606f\nfunction App() {\n  const [personId, setPersonId] = useState(\"1\");\n  return (\n    &lt;div className=\"App\"&gt;\n      &lt;Person personId={personId} /&gt;\n      &lt;div&gt;\n        Show:\n        &lt;button onClick={() =&gt; setPersonId(\"1\")}&gt;Luke&lt;/button&gt;\n        &lt;button onClick={() =&gt; setPersonId(\"2\")}&gt;C-3PO&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre> <p>\u81ea\u5b9a\u4e49 hook\uff0c\u53ef\u4ee5\u628a\u591a\u4e2a hook \u62fc\u63a5\u6210\u4e00\u8d77\uff0c\u4f8b\u5982\u628a\u4e0a\u9762\u7684 person \u548c loading \u62fc\u63a5\u5230\u4e00\u8d77\uff0c\u5c01\u88c5\u6210\u51fd\u6570\u7ec4\u4ef6</p> <pre><code>import React, { useState } from 'react';\n\nexport default function usePerson(personId) {\n  const [loading, setLoading] = useState(true);\n  const [person, usePerson] = useState({});\n\n  useEffect(() =&gt; {\n    setLoading(true);\n    fetch('xxx').then(res =&gt; {\n      return res.json();\n    }).then(data =&gt; {\n      const { person } = data;\n      setPseson(person);\n      setLoading(false);\n    })\n  },[personId]);\n\n  return [loading, person];\n}\n</code></pre> <p>\u90a3\u4e48\u5c31\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u81ea\u5b9a\u4e49 hook </p> <pre><code>import usePerson from './usePerson';\n\nexport default function App(personId) {\n  const [loading, person] = usePerson(personId);\n  if (loading) {\n    return &lt;&gt;&lt;&gt;\n  }\n  return (\n    &lt;div&gt;{person.name}&lt;/div&gt;\n  )\n};\n</code></pre>"},{"location":"react-hooks/02%20%E8%BD%BB%E6%9D%BE%E5%AD%A6%E4%BC%9A%20React%20%E9%92%A9%E5%AD%90-%E4%BB%A5%20useEffect%28%29%20%E4%B8%BA%E4%BE%8B-%E9%98%AE%E4%B8%80%E5%B3%B0/","title":"02 \u8f7b\u677e\u5b66\u4f1a hook\uff1a\u4ee5 useEffect() \u4e3a\u4f8b","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1476  \u9605\u8bfb3\u5206\u949f</p> <p>https://www.ruanyifeng.com/blog/2020/09/react-hooks-useeffect-tutorial.html</p> <p>\u94a9\u5b50\uff08hook\uff09\u5c31\u662f React \u51fd\u6570\u7ec4\u4ef6\u7684\u526f\u6548\u5e94\u89e3\u51b3\u65b9\u6848\uff0c\u7528\u6765\u4e3a\u51fd\u6570\u7ec4\u4ef6\u5f15\u5165\u526f\u6548\u5e94\u3002 \u51fd\u6570\u7ec4\u4ef6\u7684\u4e3b\u4f53\u53ea\u5e94\u8be5\u7528\u6765\u8fd4\u56de\u7ec4\u4ef6\u7684 HTML \u4ee3\u7801\uff0c\u6240\u6709\u7684\u5176\u4ed6\u64cd\u4f5c\uff08\u526f\u6548\u5e94\uff09\u90fd\u5fc5\u987b\u901a\u8fc7\u94a9\u5b50\u5f15\u5165\u3002</p> <p>useEffect \u5bf9\u5e94\u4e09\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\uff0c\u90a3\u4e48\u4e09\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\u4e2d\u5b9e\u73b0\u7684\u529f\u80fd\uff0c\u90fd\u53ef\u4ee5\u5728\u8fd9\u91cc\u5b9e\u73b0</p> <pre><code>useEffect(() =&gt; {\n  // \u5bf9\u5e94 componentDidMount \u9636\u6bb5\uff0c\u7528\u4e8e\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42\uff0c\u6216\u8005\u8f93\u5165\n  axios('xxx');\n  timer = setTimeout(() =&gt; {}, 1000);\n  return () =&gt; {\n    // \u5bf9\u5e94 componentWillUnmount \u9636\u6bb5\uff0c\u6e05\u9664\u4e8b\u4ef6\u76d1\u542c\u7b49\u64cd\u4f5c\n    clearTimeout(timer);\n  }\n  // \u5bf9\u5e94 componentDidUpdate \u9636\u6bb5\uff0c\u5982\u679c props.name \u53d8\u5316\u540e\uff0c\u91cd\u65b0\u6267\u884c\u4e0a\u9762\u7684\u51fd\u6570\n}, [props.name])\n</code></pre> <p>useEffect \u4e2d\u5bf9\u5e94\u7684\u4e8b\u4ef6\u5e94\u8be5\u6839\u636e\u529f\u80fd\u5206\u5f00\u5904\u7406\uff0c\u5c31\u50cf\u4e0a\u9762\u7684\u5199\u6cd5\u662f\u4e0d\u89c4\u8303\u7684\uff0c\u5e94\u8be5\u7528\u4e0b\u9762\u7684\u5199\u6cd5</p> <pre><code>function App() {\n  // \u7b2c\u4e00\u4e2a\u72b6\u6001\n  const [varA, setVarA] = useState(0);\n  useEffect(() =&gt; {\n    const timeout = setTimeout(() =&gt; setVarA(varA + 1), 1000);\n    return () =&gt; clearTimeout(timeout);\n  }, [varA]);\n\n  // \u7b2c\u4e8c\u4e2a\u72b6\u6001\n  const [varB, setVarB] = useState(0);\n  useEffect(() =&gt; {\n    const timeout = setTimeout(() =&gt; setVarB(varB + 2), 2000);\n    return () =&gt; clearTimeout(timeout);\n  }, [varB]);\n\n  return &lt;span&gt;{varA}, {varB}&lt;/span&gt;;\n}\n</code></pre>"},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/","title":"03 \u4ece Class \u8fc1\u79fb\u5230 Hook","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 32668  \u9605\u8bfb66\u5206\u949f</p> <p>https://zh-hans.legacy.reactjs.org/docs/hooks-faq.html#from-classes-to-hooks</p>"},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/#hook","title":"\u751f\u547d\u5468\u671f\u65b9\u6cd5\u8981\u5982\u4f55\u5bf9\u5e94\u5230 Hook\uff1f","text":"<ul> <li><code>constructor</code>\uff1a\u51fd\u6570\u7ec4\u4ef6\u4e0d\u9700\u8981\u6784\u9020\u51fd\u6570\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 <code>useState</code> \u6765\u521d\u59cb\u5316 state\u3002\u5982\u679c\u8ba1\u7b97\u7684\u4ee3\u4ef7\u6bd4\u8f83\u6602\u8d35\uff0c\u4f60\u53ef\u4ee5\u4f20\u4e00\u4e2a\u51fd\u6570\u7ed9 <code>useState</code>\u3002</li> <li><code>getDerivedStateFromProps</code>\uff1a\u6539\u4e3a \u5728\u6e32\u67d3\u65f6 \u5b89\u6392\u4e00\u6b21\u66f4\u65b0\u3002</li> <li><code>shouldComponentUpdate</code>\uff1a\u8be6\u89c1 \u4e0b\u65b9 <code>React.memo</code>.</li> <li><code>render</code>\uff1a\u8fd9\u662f\u51fd\u6570\u7ec4\u4ef6\u4f53\u672c\u8eab\u3002</li> <li><code>componentDidMount</code>, <code>componentDidUpdate</code>, <code>componentWillUnmount</code>\uff1a<code>useEffect</code> Hook \u53ef\u4ee5\u8868\u8fbe\u6240\u6709\u8fd9\u4e9b(\u5305\u62ec \u4e0d\u90a3\u4e48 \u5e38\u89c1 \u7684\u573a\u666f)\u7684\u7ec4\u5408\u3002</li> <li><code>getSnapshotBeforeUpdate</code>\uff0c<code>componentDidCatch</code> \u4ee5\u53ca <code>getDerivedStateFromError</code>\uff1a\u76ee\u524d\u8fd8\u6ca1\u6709\u8fd9\u4e9b\u65b9\u6cd5\u7684 Hook \u7b49\u4ef7\u5199\u6cd5\uff0c\u4f46\u5f88\u5feb\u4f1a\u88ab\u6dfb\u52a0\u3002</li> </ul>"},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/#_1","title":"\u6709\u7c7b\u4f3c\u5b9e\u4f8b\u53d8\u91cf\u7684\u4e1c\u897f\u5417\uff1f","text":"<p>\u6709\uff01<code>useRef()</code> Hook \u4e0d\u4ec5\u53ef\u4ee5\u7528\u4e8e DOM refs\u3002\u300cref\u300d \u5bf9\u8c61\u662f\u4e00\u4e2a <code>current</code> \u5c5e\u6027\u53ef\u53d8\u4e14\u53ef\u4ee5\u5bb9\u7eb3\u4efb\u610f\u503c\u7684\u901a\u7528\u5bb9\u5668\uff0c\u7c7b\u4f3c\u4e8e\u4e00\u4e2a class \u7684\u5b9e\u4f8b\u5c5e\u6027\u3002</p> <p>\u4f60\u53ef\u4ee5\u5728 <code>useEffect</code> \u5185\u90e8\u5bf9\u5176\u8fdb\u884c\u5199\u5165:</p> <pre><code>function Timer() {\n  const intervalRef = useRef();\n\n  useEffect(() =&gt; {\n    const id = setInterval(() =&gt; {\n      // ...\n    });\n    intervalRef.current = id;\n    return () =&gt; {\n      clearInterval(intervalRef.current);\n    };\n  });\n\n  // ...\n}\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u53ea\u662f\u60f3\u8bbe\u5b9a\u4e00\u4e2a\u5faa\u73af\u5b9a\u65f6\u5668\uff0c\u6211\u4eec\u4e0d\u4f1a\u9700\u8981\u8fd9\u4e2a ref\uff08<code>id</code> \u53ef\u4ee5\u662f\u5728 effect \u672c\u5730\u7684\uff09\uff0c\u4f46\u5982\u679c\u6211\u4eec\u60f3\u8981\u5728\u4e00\u4e2a\u4e8b\u4ef6\u5904\u7406\u5668\u4e2d\u6e05\u9664\u8fd9\u4e2a\u5faa\u73af\u5b9a\u65f6\u5668\u7684\u8bdd\u8fd9\u5c31\u5f88\u6709\u7528\u4e86\uff1a</p> <pre><code>  // ...\n  function handleCancelClick() {\n    clearInterval(intervalRef.current);\n  }\n  // ...\n</code></pre> <p>\u4ece\u6982\u5ff5\u4e0a\u8bb2\uff0c\u4f60\u53ef\u4ee5\u8ba4\u4e3a refs \u5c31\u50cf\u662f\u4e00\u4e2a class \u7684\u5b9e\u4f8b\u53d8\u91cf\u3002\u9664\u975e\u4f60\u6b63\u5728\u505a \u61d2\u52a0\u8f7d\uff0c\u5426\u5219\u907f\u514d\u5728\u6e32\u67d3\u671f\u95f4\u8bbe\u7f6e refs \u2014\u2014 \u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u610f\u5916\u7684\u884c\u4e3a\u3002\u76f8\u53cd\u7684\uff0c\u901a\u5e38\u4f60\u5e94\u8be5\u5728\u4e8b\u4ef6\u5904\u7406\u5668\u548c effects \u4e2d\u4fee\u6539 refs\u3002</p>"},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/#state","title":"\u6211\u5e94\u8be5\u4f7f\u7528\u5355\u4e2a\u8fd8\u662f\u591a\u4e2a state \u53d8\u91cf\uff1f","text":"<p>\u5982\u679c\u4f60\u4e4b\u524d\u7528\u8fc7 class\uff0c\u4f60\u6216\u8bb8\u4f1a\u8bd5\u56fe\u603b\u662f\u5728\u4e00\u6b21 <code>useState()</code> \u8c03\u7528\u4e2d\u4f20\u5165\u4e00\u4e2a\u5305\u542b\u4e86\u6240\u6709 state \u7684\u5bf9\u8c61\u3002\u5982\u679c\u4f60\u613f\u610f\u7684\u8bdd\u4f60\u53ef\u4ee5\u8fd9\u4e48\u505a\u3002\u8fd9\u91cc\u6709\u4e00\u4e2a\u8ddf\u8e2a\u9f20\u6807\u79fb\u52a8\u7684\u7ec4\u4ef6\u7684\u4f8b\u5b50\u3002\u6211\u4eec\u5728\u672c\u5730 state \u4e2d\u8bb0\u5f55\u5b83\u7684\u4f4d\u7f6e\u548c\u5c3a\u5bf8\uff1a</p> <pre><code>function Box() {\n  const [state, setState] = useState({ left: 0, top: 0, width: 100, height: 100 });\n  // ...\n}\n</code></pre> <p>\u73b0\u5728\u5047\u8bbe\u6211\u4eec\u60f3\u8981\u7f16\u5199\u4e00\u4e9b\u903b\u8f91\u4ee5\u4fbf\u5728\u7528\u6237\u79fb\u52a8\u9f20\u6807\u65f6\u6539\u53d8 <code>left</code> \u548c <code>top</code>\u3002\u6ce8\u610f\u5230\u6211\u4eec\u662f\u5982\u4f55\u5fc5\u987b\u624b\u52a8\u628a\u8fd9\u4e9b\u5b57\u6bb5\u5408\u5e76\u5230\u4e4b\u524d\u7684 state \u5bf9\u8c61\u7684\uff1a</p> <pre><code>// ...\n  useEffect(() =&gt; {\n    function handleWindowMouseMove(e) {\n      // \u5c55\u5f00 \u300c...state\u300d \u4ee5\u786e\u4fdd\u6211\u4eec\u6ca1\u6709 \u300c\u4e22\u5931\u300d width \u548c height      setState(state =&gt; ({ ...state, left: e.pageX, top: e.pageY }));    }\n    // \u6ce8\u610f\uff1a\u8fd9\u662f\u4e2a\u7b80\u5316\u7248\u7684\u5b9e\u73b0\n    window.addEventListener('mousemove', handleWindowMouseMove);\n    return () =&gt; window.removeEventListener('mousemove', handleWindowMouseMove);\n  }, []);\n  // ...\n</code></pre> <p>\u8fd9\u662f\u56e0\u4e3a\u5f53\u6211\u4eec\u66f4\u65b0\u4e00\u4e2a state \u53d8\u91cf\uff0c\u6211\u4eec\u4f1a \u66ff\u6362 \u5b83\u7684\u503c\u3002\u8fd9\u548c class \u4e2d\u7684 <code>this.setState</code> \u4e0d\u4e00\u6837\uff0c\u540e\u8005\u4f1a\u628a\u66f4\u65b0\u540e\u7684\u5b57\u6bb5 \u5408\u5e76 \u5165\u5bf9\u8c61\u4e2d\u3002</p> <p>\u5982\u679c\u4f60\u8fd8\u6000\u5ff5\u81ea\u52a8\u5408\u5e76\uff0c\u4f60\u53ef\u4ee5\u5199\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684 <code>useLegacyState</code> Hook \u6765\u5408\u5e76\u5bf9\u8c61 state \u7684\u66f4\u65b0\u3002\u7136\u800c\uff0c\u6211\u4eec\u63a8\u8350\u628a state \u5207\u5206\u6210\u591a\u4e2a state \u53d8\u91cf\uff0c\u6bcf\u4e2a\u53d8\u91cf\u5305\u542b\u7684\u4e0d\u540c\u503c\u4f1a\u5728\u540c\u65f6\u53d1\u751f\u53d8\u5316\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u7ec4\u4ef6\u7684 state \u62c6\u5206\u4e3a <code>position</code> \u548c <code>size</code> \u4e24\u4e2a\u5bf9\u8c61\uff0c\u5e76\u6c38\u8fdc\u4ee5\u975e\u5408\u5e76\u7684\u65b9\u5f0f\u53bb\u66ff\u6362 <code>position</code>\uff1a</p> <pre><code>function Box() {\n  const [position, setPosition] = useState({ left: 0, top: 0 });  \n  const [size, setSize] = useState({ width: 100, height: 100 });\n\n  useEffect(() =&gt; {\n    function handleWindowMouseMove(e) {\n      setPosition({ left: e.pageX, top: e.pageY });    }\n    // ...\n</code></pre> <p>\u628a\u72ec\u7acb\u7684 state \u53d8\u91cf\u62c6\u5206\u5f00\u8fd8\u6709\u53e6\u5916\u7684\u597d\u5904\u3002\u8fd9\u4f7f\u5f97\u540e\u671f\u628a\u4e00\u4e9b\u76f8\u5173\u7684\u903b\u8f91\u62bd\u53d6\u5230\u4e00\u4e2a\u81ea\u5b9a\u4e49 Hook \u53d8\u5f97\u5bb9\u6613\uff0c\u6bd4\u5982\u8bf4:</p> <pre><code>function Box() {\n  const position = useWindowPosition();  const [size, setSize] = useState({ width: 100, height: 100 });\n  // ...\n}\n\nfunction useWindowPosition() {  const [position, setPosition] = useState({ left: 0, top: 0 });\n  useEffect(() =&gt; {\n    // ...\n  }, []);\n  return position;\n}\n</code></pre> <p>\u6ce8\u610f\u770b\u6211\u4eec\u662f\u5982\u4f55\u505a\u5230\u4e0d\u6539\u52a8\u4ee3\u7801\u5c31\u628a\u5bf9 <code>position</code> \u8fd9\u4e2a state \u53d8\u91cf\u7684 <code>useState</code> \u8c03\u7528\u548c\u76f8\u5173\u7684 effect \u79fb\u52a8\u5230\u4e00\u4e2a\u81ea\u5b9a\u4e49 Hook \u7684\u3002\u5982\u679c\u6240\u6709\u7684 state \u90fd\u5b58\u5728\u540c\u4e00\u4e2a\u5bf9\u8c61\u4e2d\uff0c\u60f3\u8981\u62bd\u53d6\u51fa\u6765\u5c31\u6bd4\u8f83\u96be\u4e86\u3002</p> <p>\u628a\u6240\u6709 state \u90fd\u653e\u5728\u540c\u4e00\u4e2a <code>useState</code> \u8c03\u7528\u4e2d\uff0c\u6216\u662f\u6bcf\u4e00\u4e2a\u5b57\u6bb5\u90fd\u5bf9\u5e94\u4e00\u4e2a <code>useState</code> \u8c03\u7528\uff0c\u8fd9\u4e24\u65b9\u5f0f\u90fd\u80fd\u8dd1\u901a\u3002\u5f53\u4f60\u5728\u8fd9\u4e24\u4e2a\u6781\u7aef\u4e4b\u95f4\u627e\u5230\u5e73\u8861\uff0c\u7136\u540e\u628a\u76f8\u5173 state \u7ec4\u5408\u5230\u51e0\u4e2a\u72ec\u7acb\u7684 state \u53d8\u91cf\u65f6\uff0c\u7ec4\u4ef6\u5c31\u4f1a\u66f4\u52a0\u7684\u53ef\u8bfb\u3002</p>"},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/#props-state","title":"\u5982\u4f55\u83b7\u53d6\u4e0a\u4e00\u8f6e\u7684 props \u6216 state\uff1f","text":"<p>\u5728\u4ee5\u4e0b\u4e24\u79cd\u573a\u666f\u4e0b\uff0c\u4f60\u53ef\u4ee5\u80fd\u4f1a\u9700\u8981\u83b7\u53d6\u4e0a\u4e00\u8f6e\u7684 props \u6216 state\u3002</p> <p>\u6709\u65f6\uff0c\u4f60\u9700\u8981\u83b7\u53d6\u4e4b\u524d\u7684 props \u6765 \u8fdb\u884c\u526f\u4f5c\u7528\u7684\u6e05\u7406\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u80fd\u6709\u8fd9\u6837\u4e00\u4e2a\u526f\u4f5c\u7528\uff0c\u4f9d\u8d56 <code>userId</code> props \u6765\u8ba2\u9605 socket\u3002\u5982\u679c <code>userId</code> \u53d1\u751f\u4e86\u53d8\u5316\uff0c\u4f60\u9700\u8981\u53d6\u6d88 \u4e4b\u524d <code>userId</code> \u7684\u8ba2\u9605\uff0c\u518d\u8fdb\u884c\u540e\u7eed\u8ba2\u9605\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u65e0\u9700\u505a\u989d\u5916\u64cd\u4f5c\u5373\u53ef\u5b9e\u73b0\uff1a</p> <pre><code>useEffect(() =&gt; {\n  ChatAPI.subscribeToSocket(props.userId);\n  return () =&gt; ChatAPI.unsubscribeFromSocket(props.userId);\n}, [props.userId]);\n</code></pre> <p>\u5728\u4e0a\u8ff0\u793a\u4f8b\u4e2d\uff0c\u5982\u679c <code>userId</code> \u4ece <code>3</code> \u53d8\u4e3a <code>4</code>\uff0c<code>ChatAPI.unsubscribeFromSocket(3)</code> \u5c06\u4f1a\u4f18\u5148\u8fd0\u884c\uff0c\u7136\u540e\u624d\u4f1a\u6267\u884c <code>ChatAPI.subscribeToSocket(4)</code>\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u6ca1\u5fc5\u8981\u83b7\u53d6\u4e4b\u524d\u7684 <code>userId</code>\uff0c\u56e0\u4e3a\u6e05\u7406\u51fd\u6570\u5c06\u5728\u95ed\u5305\u4e2d\u6355\u83b7\u5b83\uff0c</p> <p>\u6211\u4eec\u4e4b\u524d\u66fe\u5efa\u8bae\u4f7f\u7528 <code>usePrevious</code> \u7684\u81ea\u5b9a\u4e49 Hook \u6765\u4fdd\u6301\u524d\u503c\u3002\u7136\u540e\uff0c\u6211\u4eec\u53d1\u73b0\u5927\u591a\u6570\u7528\u4f8b\uff0c\u90fd\u5c5e\u4e8e\u4e0a\u8ff0\u4e24\u79cd\u573a\u666f\u3002\u5982\u679c\u4f60\u7684\u7528\u4f8b\u4e0e\u4e0a\u8ff0\u4e24\u79cd\u60c5\u51b5\u4e0d\u540c\uff0c\u4f60\u53ef\u4ee5\u5728 Ref \u4e2d\u5bf9\u8be5\u503c\u8fdb\u884c\u5b58\u50a8 \u5e76\u5728\u9700\u8981\u65f6\u624b\u52a8\u66f4\u65b0\u5b83\u3002\u6ce8\u610f\uff0c\u5e94\u907f\u514d\u5728\u6e32\u67d3\u8fc7\u7a0b\u4e2d\u8bfb\u53d6\u548c\u66f4\u65b0 refs\uff0c\u56e0\u4e3a\u8fd9\u4f7f\u5f97\u4f60\u7ec4\u4ef6\u7684\u884c\u4e3a\u96be\u4ee5\u9884\u6d4b\uff0c\u4e14\u96be\u4ee5\u7406\u89e3\u3002</p>"},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/#props-state_1","title":"\u4e3a\u4ec0\u4e48\u6211\u4f1a\u5728\u6211\u7684\u51fd\u6570\u4e2d\u770b\u5230\u9648\u65e7\u7684 props \u548c state \uff1f","text":"<p>\u7ec4\u4ef6\u5185\u90e8\u7684\u4efb\u4f55\u51fd\u6570\uff0c\u5305\u62ec\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u548c effect\uff0c\u90fd\u662f\u4ece\u5b83\u88ab\u521b\u5efa\u7684\u90a3\u6b21\u6e32\u67d3\u4e2d\u88ab\u300c\u770b\u5230\u300d\u7684\u3002\u4f8b\u5982\uff0c\u8003\u8651\u8fd9\u6837\u7684\u4ee3\u7801\uff1a</p> <pre><code>function Example() {\n  const [count, setCount] = useState(0);\n\n  function handleAlertClick() {\n    setTimeout(() =&gt; {\n      alert('You clicked on: ' + count);\n    }, 3000);\n  }\n\n  return (\n    &lt;div&gt;\n      &lt;p&gt;You clicked {count} times&lt;/p&gt;\n      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;\n        Click me\n      &lt;/button&gt;\n      &lt;button onClick={handleAlertClick}&gt;\n        Show alert\n      &lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre> <p>\u5982\u679c\u4f60\u5148\u70b9\u51fb\u300cShow alert\u300d\u7136\u540e\u589e\u52a0\u8ba1\u6570\u5668\u7684\u8ba1\u6570\uff0c\u90a3\u8fd9\u4e2a alert \u4f1a\u663e\u793a**\u5728\u4f60\u70b9\u51fb\u300eShow alert\u300f\u6309\u94ae\u65f6**\u7684 <code>count</code> \u53d8\u91cf\u3002\u8fd9\u907f\u514d\u4e86\u90a3\u4e9b\u56e0\u4e3a\u5047\u8bbe props \u548c state \u6ca1\u6709\u6539\u53d8\u7684\u4ee3\u7801\u5f15\u8d77\u95ee\u9898\u3002</p> <p>\u5982\u679c\u4f60\u523b\u610f\u5730\u60f3\u8981\u4ece\u67d0\u4e9b\u5f02\u6b65\u56de\u8c03\u4e2d\u8bfb\u53d6 \u6700\u65b0\u7684 state\uff0c\u4f60\u53ef\u4ee5\u7528 \u4e00\u4e2a ref \u6765\u4fdd\u5b58\u5b83\uff0c\u4fee\u6539\u5b83\uff0c\u5e76\u4ece\u4e2d\u8bfb\u53d6\u3002</p> <p>\u6700\u540e\uff0c\u4f60\u770b\u5230\u9648\u65e7\u7684 props \u548c state \u7684\u53e6\u4e00\u4e2a\u53ef\u80fd\u7684\u539f\u56e0\uff0c\u662f\u4f60\u4f7f\u7528\u4e86\u300c\u4f9d\u8d56\u6570\u7ec4\u300d\u4f18\u5316\u4f46\u6ca1\u6709\u6b63\u786e\u5730\u6307\u5b9a\u6240\u6709\u7684\u4f9d\u8d56\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5982\u679c\u4e00\u4e2a effect \u6307\u5b9a\u4e86 <code>[]</code> \u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u4f46\u5728\u5185\u90e8\u8bfb\u53d6\u4e86 <code>someProp</code>\uff0c\u5b83\u4f1a\u4e00\u76f4\u300c\u770b\u5230\u300d <code>someProp</code> \u7684\u521d\u59cb\u503c\u3002\u89e3\u51b3\u529e\u6cd5\u662f\u8981\u4e48\u79fb\u9664\u4f9d\u8d56\u6570\u7ec4\uff0c\u8981\u4e48\u4fee\u6b63\u5b83\u3002 \u8fd9\u91cc\u4ecb\u7ecd\u4e86 \u4f60\u8be5\u5982\u4f55\u5904\u7406\u51fd\u6570\uff0c\u800c\u8fd9\u91cc\u4ecb\u7ecd\u4e86\u5173\u4e8e\u5982\u4f55\u51cf\u5c11 effect \u7684\u8fd0\u884c\u800c\u4e0d\u5fc5\u9519\u8bef\u7684\u8df3\u8fc7\u4f9d\u8d56\u7684 \u4e00\u4e9b\u5e38\u89c1\u7b56\u7565\u3002</p> <p>\u6ce8\u610f</p> <p>\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a <code>exhaustive-deps</code> ESLint \u89c4\u5219\u4f5c\u4e3a <code>eslint-plugin-react-hooks</code> \u5305\u7684\u4e00\u90e8\u5206\u3002\u5b83\u4f1a\u5728\u4f9d\u8d56\u88ab\u9519\u8bef\u6307\u5b9a\u65f6\u53d1\u51fa\u8b66\u544a\uff0c\u5e76\u7ed9\u51fa\u4fee\u590d\u5efa\u8bae\u3002</p>"},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/#getderivedstatefromprops","title":"\u6211\u8be5\u5982\u4f55\u5b9e\u73b0 <code>getDerivedStateFromProps</code>\uff1f","text":"<p>\u5c3d\u7ba1\u4f60\u53ef\u80fd \u4e0d\u9700\u8981\u5b83\uff0c\u4f46\u5728\u4e00\u4e9b\u7f55\u89c1\u7684\u4f60\u9700\u8981\u7528\u5230\u7684\u573a\u666f\u4e0b\uff08\u6bd4\u5982\u5b9e\u73b0\u4e00\u4e2a <code>&lt;Transition&gt;</code> \u7ec4\u4ef6\uff09\uff0c\u4f60\u53ef\u4ee5\u5728\u6e32\u67d3\u8fc7\u7a0b\u4e2d\u66f4\u65b0 state \u3002React \u4f1a\u7acb\u5373\u9000\u51fa\u7b2c\u4e00\u6b21\u6e32\u67d3\u5e76\u7528\u66f4\u65b0\u540e\u7684 state \u91cd\u65b0\u8fd0\u884c\u7ec4\u4ef6\u4ee5\u907f\u514d\u8017\u8d39\u592a\u591a\u6027\u80fd\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u628a <code>row</code> prop \u4e0a\u4e00\u8f6e\u7684\u503c\u5b58\u5728\u4e00\u4e2a state \u53d8\u91cf\u4e2d\u4ee5\u4fbf\u6bd4\u8f83\uff1a</p> <pre><code>function ScrollView({row}) {\n  const [isScrollingDown, setIsScrollingDown] = useState(false);\n  const [prevRow, setPrevRow] = useState(null);\n\n  if (row !== prevRow) {\n    // Row \u81ea\u4e0a\u6b21\u6e32\u67d3\u4ee5\u6765\u53d1\u751f\u8fc7\u6539\u53d8\u3002\u66f4\u65b0 isScrollingDown\u3002\n    setIsScrollingDown(prevRow !== null &amp;&amp; row &gt; prevRow);\n    setPrevRow(row);\n  }\n\n  return `Scrolling down: ${isScrollingDown}`;\n}\n</code></pre> <p>\u521d\u770b\u8fd9\u6216\u8bb8\u6709\u70b9\u5947\u602a\uff0c\u4f46\u6e32\u67d3\u671f\u95f4\u7684\u4e00\u6b21\u66f4\u65b0\u6070\u6070\u5c31\u662f <code>getDerivedStateFromProps</code> \u4e00\u76f4\u4ee5\u6765\u7684\u6982\u5ff5\u3002</p>"},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/#dom","title":"\u6211\u8be5\u5982\u4f55\u6d4b\u91cf DOM \u8282\u70b9\uff1f","text":"<p>\u83b7\u53d6 DOM \u8282\u70b9\u7684\u4f4d\u7f6e\u6216\u662f\u5927\u5c0f\u7684\u57fa\u672c\u65b9\u5f0f\u662f\u4f7f\u7528 callback ref\u3002\u6bcf\u5f53 ref \u88ab\u9644\u52a0\u5230\u4e00\u4e2a\u53e6\u4e00\u4e2a\u8282\u70b9\uff0cReact \u5c31\u4f1a\u8c03\u7528 callback\u3002</p> <pre><code>function MeasureExample() {\n  const [height, setHeight] = useState(0);\n\n  const measuredRef = useCallback(node =&gt; {    if (node !== null) {      setHeight(node.getBoundingClientRect().height);    }  }, []);\n  return (\n    &lt;&gt;\n      &lt;h1 ref={measuredRef}&gt;Hello, world&lt;/h1&gt;      \n            &lt;h2&gt;The above header is {Math.round(height)}px tall&lt;/h2&gt;\n    &lt;/&gt;\n  );\n}\n</code></pre> <p>\u5728\u8fd9\u4e2a\u6848\u4f8b\u4e2d\uff0c\u6211\u4eec\u6ca1\u6709\u9009\u62e9\u4f7f\u7528 <code>useRef</code>\uff0c\u56e0\u4e3a\u5f53 ref \u662f\u4e00\u4e2a\u5bf9\u8c61\u65f6\u5b83\u5e76\u4e0d\u4f1a\u628a\u5f53\u524d ref \u7684\u503c\u7684 \u53d8\u5316 \u901a\u77e5\u5230\u6211\u4eec\u3002\u4f7f\u7528 callback ref \u53ef\u4ee5\u786e\u4fdd \u5373\u4fbf\u5b50\u7ec4\u4ef6\u5ef6\u8fdf\u663e\u793a\u88ab\u6d4b\u91cf\u7684\u8282\u70b9 (\u6bd4\u5982\u4e3a\u4e86\u54cd\u5e94\u4e00\u6b21\u70b9\u51fb)\uff0c\u6211\u4eec\u4f9d\u7136\u80fd\u591f\u5728\u7236\u7ec4\u4ef6\u63a5\u6536\u5230\u76f8\u5173\u7684\u4fe1\u606f\uff0c\u4ee5\u4fbf\u66f4\u65b0\u6d4b\u91cf\u7ed3\u679c\u3002</p> <p>\u6ce8\u610f\u5230\u6211\u4eec\u4f20\u9012\u4e86 <code>[]</code> \u4f5c\u4e3a <code>useCallback</code> \u7684\u4f9d\u8d56\u5217\u8868\u3002\u8fd9\u786e\u4fdd\u4e86 ref callback \u4e0d\u4f1a\u5728\u518d\u6b21\u6e32\u67d3\u65f6\u6539\u53d8\uff0c\u56e0\u6b64 React \u4e0d\u4f1a\u5728\u975e\u5fc5\u8981\u7684\u65f6\u5019\u8c03\u7528\u5b83\u3002</p> <p>\u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u5f53\u4e14\u4ec5\u5f53\u7ec4\u4ef6\u6302\u8f7d\u548c\u5378\u8f7d\u65f6\uff0ccallback ref \u624d\u4f1a\u88ab\u8c03\u7528\uff0c\u56e0\u4e3a\u6e32\u67d3\u7684 <code>&lt;h1&gt;</code> \u7ec4\u4ef6\u5728\u6574\u4e2a\u91cd\u65b0\u6e32\u67d3\u671f\u95f4\u59cb\u7ec8\u5b58\u5728\u3002\u5982\u679c\u4f60\u5e0c\u671b\u5728\u6bcf\u6b21\u7ec4\u4ef6\u8c03\u6574\u5927\u5c0f\u65f6\u90fd\u6536\u5230\u901a\u77e5\uff0c\u5219\u53ef\u80fd\u9700\u8981\u4f7f\u7528 <code>ResizeObserver</code> \u6216\u57fa\u4e8e\u5176\u6784\u5efa\u7684\u7b2c\u4e09\u65b9 Hook\u3002</p> <p>\u5982\u679c\u4f60\u613f\u610f\uff0c\u4f60\u53ef\u4ee5 \u628a\u8fd9\u4e2a\u903b\u8f91\u62bd\u53d6\u51fa\u6765\u4f5c\u4e3a \u4e00\u4e2a\u53ef\u590d\u7528\u7684 Hook:</p> <pre><code>function MeasureExample() {\n  const [rect, ref] = useClientRect();  return (\n    &lt;&gt;\n      &lt;h1 ref={ref}&gt;Hello, world&lt;/h1&gt;\n      {rect !== null &amp;&amp;\n        &lt;h2&gt;The above header is {Math.round(rect.height)}px tall&lt;/h2&gt;\n      }\n    &lt;/&gt;\n  );\n}\n\nfunction useClientRect() {\n  const [rect, setRect] = useState(null);\n  const ref = useCallback(node =&gt; {\n    if (node !== null) {\n      setRect(node.getBoundingClientRect());\n    }\n  }, []);\n  return [rect, ref];\n}\n</code></pre>"},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/#_2","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/#_3","title":"\u5728\u4f9d\u8d56\u5217\u8868\u4e2d\u7701\u7565\u51fd\u6570\u662f\u5426\u5b89\u5168\uff1f","text":"<p>\u4e00\u822c\u6765\u8bf4\uff0c\u4e0d\u5b89\u5168\u3002</p> <pre><code>function Example({ someProp }) {\n  function doSomething() {\n    console.log(someProp);  \n  }\n\n  useEffect(() =&gt; {\n    doSomething();\n  }, []); // \u4e0d\u5b89\u5168\uff08\u5b83\u8c03\u7528\u7684 `doSomething` \u51fd\u6570\u4f7f\u7528\u4e86 `someProp`\uff09\n}\n</code></pre> <p>\u8981\u8bb0\u4f4f effect \u5916\u90e8\u7684\u51fd\u6570\u4f7f\u7528\u4e86\u54ea\u4e9b props \u548c state \u5f88\u96be\u3002\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48 \u901a\u5e38\u4f60\u4f1a\u60f3\u8981\u5728 effect *\u5185\u90e8* \u53bb\u58f0\u660e\u5b83\u6240\u9700\u8981\u7684\u51fd\u6570\u3002 \u8fd9\u6837\u5c31\u80fd\u5bb9\u6613\u7684\u770b\u51fa\u90a3\u4e2a effect \u4f9d\u8d56\u4e86\u7ec4\u4ef6\u4f5c\u7528\u57df\u4e2d\u7684\u54ea\u4e9b\u503c\uff1a</p> <pre><code>function Example({ someProp }) {\n  useEffect(() =&gt; {\n    function doSomething() {\n      console.log(someProp);    \n    }\n    doSomething();\n  }, [someProp]); // \u2705 \u5b89\u5168\uff08\u6211\u4eec\u7684 effect \u4ec5\u7528\u5230\u4e86 `someProp`\uff09\n}\n</code></pre> <p>\u5982\u679c\u8fd9\u6837\u4e4b\u540e\u6211\u4eec\u4f9d\u7136\u6ca1\u7528\u5230\u7ec4\u4ef6\u4f5c\u7528\u57df\u4e2d\u7684\u4efb\u4f55\u503c\uff0c\u5c31\u53ef\u4ee5\u5b89\u5168\u5730\u628a\u5b83\u6307\u5b9a\u4e3a <code>[]</code>\uff1a</p> <pre><code>useEffect(() =&gt; {\n  function doSomething() {\n    console.log('hello');\n  }\n  doSomething();\n}, []); // \u2705 \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u662f\u5b89\u5168\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u6ca1\u6709\u7528\u5230\u7ec4\u4ef6\u4f5c\u7528\u57df\u4e2d\u7684 *\u4efb\u4f55* \u503c\n</code></pre> <p>\u6839\u636e\u4f60\u7684\u7528\u4f8b\uff0c\u4e0b\u9762\u5217\u4e3e\u4e86\u4e00\u4e9b\u5176\u4ed6\u7684\u529e\u6cd5\u3002</p> <p>\u6ce8\u610f</p> <p>\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a <code>exhaustive-deps</code> ESLint \u89c4\u5219\u4f5c\u4e3a <code>eslint-plugin-react-hooks</code> \u5305\u7684\u4e00\u90e8\u5206\u3002\u5b83\u4f1a\u5e2e\u52a9\u4f60\u627e\u51fa\u65e0\u6cd5\u4e00\u81f4\u5730\u5904\u7406\u66f4\u65b0\u7684\u7ec4\u4ef6\u3002</p> <p>\u8ba9\u6211\u4eec\u6765\u770b\u770b\u8fd9\u6709\u4ec0\u4e48\u5173\u7cfb\u3002</p> <p>\u5982\u679c\u4f60\u6307\u5b9a\u4e86\u4e00\u4e2a \u4f9d\u8d56\u5217\u8868 \u4f5c\u4e3a <code>useEffect</code>\u3001<code>useLayoutEffect</code>\u3001<code>useMemo</code>\u3001<code>useCallback</code> \u6216 <code>useImperativeHandle</code> \u7684\u6700\u540e\u4e00\u4e2a\u53c2\u6570\uff0c\u5b83\u5fc5\u987b\u5305\u542b\u56de\u8c03\u4e2d\u7684\u6240\u6709\u503c\uff0c\u5e76\u53c2\u4e0e React \u6570\u636e\u6d41\u3002\u8fd9\u5c31\u5305\u62ec props\u3001state\uff0c\u4ee5\u53ca\u4efb\u4f55\u7531\u5b83\u4eec\u884d\u751f\u800c\u6765\u7684\u4e1c\u897f\u3002</p> <p>\u53ea\u6709 \u5f53\u51fd\u6570\uff08\u4ee5\u53ca\u5b83\u6240\u8c03\u7528\u7684\u51fd\u6570\uff09\u4e0d\u5f15\u7528 props\u3001state \u4ee5\u53ca\u7531\u5b83\u4eec\u884d\u751f\u800c\u6765\u7684\u503c\u65f6\uff0c\u4f60\u624d\u80fd\u653e\u5fc3\u5730\u628a\u5b83\u4eec\u4ece\u4f9d\u8d56\u5217\u8868\u4e2d\u7701\u7565\u3002\u4e0b\u9762\u8fd9\u4e2a\u6848\u4f8b\u6709\u4e00\u4e2a Bug\uff1a</p> <pre><code>function ProductPage({ productId }) {\n  const [product, setProduct] = useState(null);\n\n  async function fetchProduct() {\n    const response = await fetch('http://myapi/product/' + productId);\n    // \u4f7f\u7528\u4e86 productId prop    \n    const json = await response.json();\n    setProduct(json);\n  }\n\n  useEffect(() =&gt; {\n    fetchProduct();\n  }, []); // \u65e0\u6548\uff0c\u56e0\u4e3a `fetchProduct` \u4f7f\u7528\u4e86 `productId`  // ...\n}\n</code></pre> <p>\u63a8\u8350\u7684\u4fee\u590d\u65b9\u6848\u662f\u628a\u90a3\u4e2a\u51fd\u6570\u79fb\u52a8\u5230\u4f60\u7684 effect *\u5185\u90e8*\u3002\u8fd9\u6837\u5c31\u80fd\u5f88\u5bb9\u6613\u7684\u770b\u51fa\u6765\u4f60\u7684 effect \u4f7f\u7528\u4e86\u54ea\u4e9b props \u548c state\uff0c\u5e76\u786e\u4fdd\u5b83\u4eec\u90fd\u88ab\u58f0\u660e\u4e86\uff1a</p> <pre><code>function ProductPage({ productId }) {\n  const [product, setProduct] = useState(null);\n\n  useEffect(() =&gt; {\n    // \u628a\u8fd9\u4e2a\u51fd\u6570\u79fb\u52a8\u5230 effect \u5185\u90e8\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u6e05\u695a\u5730\u770b\u5230\u5b83\u7528\u5230\u7684\u503c\u3002    \n    async function fetchProduct() {      \n    const response = await fetch('http://myapi/product/' + productId);      \n      const json = await response.json();      \n      setProduct(json);    \n    }\n    fetchProduct();\n  }, [productId]); // \u2705 \u6709\u6548\uff0c\u56e0\u4e3a\u6211\u4eec\u7684 effect \u53ea\u7528\u5230\u4e86 productId  // ...\n}\n</code></pre> <p>\u8fd9\u540c\u65f6\u4e5f\u5141\u8bb8\u4f60\u901a\u8fc7 effect \u5185\u90e8\u7684\u5c40\u90e8\u53d8\u91cf\u6765\u5904\u7406\u65e0\u5e8f\u7684\u54cd\u5e94\uff1a</p> <pre><code>  useEffect(() =&gt; {\n    let ignore = false;    \n    async function fetchProduct() {\n      const response = await fetch('http://myapi/product/' + productId);\n      const json = await response.json();\n      if (!ignore) setProduct(json);    \n    }\n    fetchProduct();\n    return () =&gt; { ignore = true };  \n  }, [productId]);\n</code></pre> <p>\u6211\u4eec\u628a\u8fd9\u4e2a\u51fd\u6570\u79fb\u52a8\u5230 effect \u5185\u90e8\uff0c\u8fd9\u6837\u5b83\u5c31\u4e0d\u7528\u51fa\u73b0\u5728\u5b83\u7684\u4f9d\u8d56\u5217\u8868\u4e2d\u4e86\u3002</p> <p>\u5982\u679c\u51fa\u4e8e\u67d0\u4e9b\u539f\u56e0\u4f60 *\u65e0\u6cd5* \u628a\u4e00\u4e2a\u51fd\u6570\u79fb\u52a8\u5230 effect \u5185\u90e8\uff0c\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u529e\u6cd5\uff1a</p> <ul> <li>\u4f60\u53ef\u4ee5\u5c1d\u8bd5\u628a\u90a3\u4e2a\u51fd\u6570\u79fb\u52a8\u5230\u4f60\u7684\u7ec4\u4ef6\u4e4b\u5916\u3002\u90a3\u6837\u4e00\u6765\uff0c\u8fd9\u4e2a\u51fd\u6570\u5c31\u80af\u5b9a\u4e0d\u4f1a\u4f9d\u8d56\u4efb\u4f55 props \u6216 state\uff0c\u5e76\u4e14\u4e5f\u4e0d\u7528\u51fa\u73b0\u5728\u4f9d\u8d56\u5217\u8868\u4e2d\u4e86\u3002</li> <li>\u5982\u679c\u4f60\u6240\u8c03\u7528\u7684\u65b9\u6cd5\u662f\u4e00\u4e2a\u7eaf\u8ba1\u7b97\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u6e32\u67d3\u65f6\u8c03\u7528\uff0c\u4f60\u53ef\u4ee5 \u8f6c\u800c\u5728 effect \u4e4b\u5916\u8c03\u7528\u5b83\uff0c \u5e76\u8ba9 effect \u4f9d\u8d56\u4e8e\u5b83\u7684\u8fd4\u56de\u503c\u3002</li> <li>\u4e07\u4e0d\u5f97\u5df2\u7684\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5 \u628a\u51fd\u6570\u52a0\u5165 effect \u7684\u4f9d\u8d56\u4f46 *\u628a\u5b83\u7684\u5b9a\u4e49\u5305\u88f9* \u8fdb <code>useCallback</code> Hook\u3002\u8fd9\u5c31\u786e\u4fdd\u4e86\u5b83\u4e0d\u968f\u6e32\u67d3\u800c\u6539\u53d8\uff0c\u9664\u975e \u5b83\u81ea\u8eab \u7684\u4f9d\u8d56\u53d1\u751f\u4e86\u6539\u53d8\uff1a</li> </ul> <pre><code>function ProductPage({ productId }) {\n  // \u7528 useCallback \u5305\u88f9\u4ee5\u907f\u514d\u968f\u6e32\u67d3\u53d1\u751f\u6539\u53d8  \n  const fetchProduct = useCallback(() =&gt; {    \n    // ... Does something with productId ...  \n  }, [productId]); \n  // useCallback \u7684\u6240\u6709\u4f9d\u8d56\u90fd\u88ab\u6307\u5b9a\u4e86\n  return &lt;ProductDetails fetchProduct={fetchProduct} /&gt;;\n}\n\nfunction ProductDetails({ fetchProduct }) {\n  useEffect(() =&gt; {\n    fetchProduct();\n  }, [fetchProduct]); // \u2705 useEffect \u7684\u6240\u6709\u4f9d\u8d56\u90fd\u88ab\u6307\u5b9a\u4e86\n  // ...\n}\n</code></pre> <p>\u6ce8\u610f\u5728\u4e0a\u9762\u7684\u6848\u4f8b\u4e2d\uff0c\u6211\u4eec \u9700\u8981 \u8ba9\u51fd\u6570\u51fa\u73b0\u5728\u4f9d\u8d56\u5217\u8868\u4e2d\u3002\u8fd9\u786e\u4fdd\u4e86 <code>ProductPage</code> \u7684 <code>productId</code> prop \u7684\u53d8\u5316\u4f1a\u81ea\u52a8\u89e6\u53d1 <code>ProductDetails</code> \u7684\u91cd\u65b0\u83b7\u53d6\u3002</p>"},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/#effect","title":"\u5982\u679c\u6211\u7684 effect \u7684\u4f9d\u8d56\u9891\u7e41\u53d8\u5316\uff0c\u6211\u8be5\u600e\u4e48\u529e\uff1f","text":"<p>\u6709\u65f6\u5019\uff0c\u4f60\u7684 effect \u53ef\u80fd\u4f1a\u4f7f\u7528\u4e00\u4e9b\u9891\u7e41\u53d8\u5316\u7684\u503c\u3002\u4f60\u53ef\u80fd\u4f1a\u5ffd\u7565\u4f9d\u8d56\u5217\u8868\u4e2d state\uff0c\u4f46\u8fd9\u901a\u5e38\u4f1a\u5f15\u8d77 Bug\uff1a</p> <pre><code>function Counter() {\n  const [count, setCount] = useState(0);\n\n  useEffect(() =&gt; {\n    const id = setInterval(() =&gt; {\n      setCount(count + 1); // \u8fd9\u4e2a effect \u4f9d\u8d56\u4e8e `count` state    \n    }, 1000);\n    return () =&gt; clearInterval(id);\n  }, []); // Bug: `count` \u6ca1\u6709\u88ab\u6307\u5b9a\u4e3a\u4f9d\u8d56\n  return &lt;h1&gt;{count}&lt;/h1&gt;;\n}\n</code></pre> <p>\u4f20\u5165\u7a7a\u7684\u4f9d\u8d56\u6570\u7ec4 <code>[]</code>\uff0c\u610f\u5473\u7740\u8be5 hook \u53ea\u5728\u7ec4\u4ef6\u6302\u8f7d\u65f6\u8fd0\u884c\u4e00\u6b21\uff0c\u5e76\u975e\u91cd\u65b0\u6e32\u67d3\u65f6\u3002\u4f46\u5982\u6b64\u4f1a\u6709\u95ee\u9898\uff0c\u5728 <code>setInterval</code> \u7684\u56de\u8c03\u4e2d\uff0c<code>count</code> \u7684\u503c\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\u3002\u56e0\u4e3a\u5f53 effect \u6267\u884c\u65f6\uff0c\u6211\u4eec\u4f1a\u521b\u5efa\u4e00\u4e2a\u95ed\u5305\uff0c\u5e76\u5c06 <code>count</code> \u7684\u503c\u88ab\u4fdd\u5b58\u5728\u8be5\u95ed\u5305\u5f53\u4e2d\uff0c\u4e14\u521d\u503c\u4e3a <code>0</code>\u3002\u6bcf\u9694\u4e00\u79d2\uff0c\u56de\u8c03\u5c31\u4f1a\u6267\u884c <code>setCount(0 + 1)</code>\uff0c\u56e0\u6b64\uff0c<code>count</code> \u6c38\u8fdc\u4e0d\u4f1a\u8d85\u8fc7 1\u3002</p> <p>\u6307\u5b9a <code>[count]</code> \u4f5c\u4e3a\u4f9d\u8d56\u5217\u8868\u5c31\u80fd\u4fee\u590d\u8fd9\u4e2a Bug\uff0c\u4f46\u4f1a\u5bfc\u81f4\u6bcf\u6b21\u6539\u53d8\u53d1\u751f\u65f6\u5b9a\u65f6\u5668\u90fd\u88ab\u91cd\u7f6e\u3002\u4e8b\u5b9e\u4e0a\uff0c\u6bcf\u4e2a <code>setInterval</code> \u5728\u88ab\u6e05\u9664\u524d\uff08\u7c7b\u4f3c\u4e8e <code>setTimeout</code>\uff09\u90fd\u4f1a\u8c03\u7528\u4e00\u6b21\u3002\u4f46\u8fd9\u5e76\u4e0d\u662f\u6211\u4eec\u60f3\u8981\u7684\u3002\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>setState</code> \u7684\u51fd\u6570\u5f0f\u66f4\u65b0\u5f62\u5f0f\u3002\u5b83\u5141\u8bb8\u6211\u4eec\u6307\u5b9a state \u8be5 \u5982\u4f55 \u6539\u53d8\u800c\u4e0d\u7528\u5f15\u7528 \u5f53\u524d state\uff1a</p> <pre><code>function Counter() {\n  const [count, setCount] = useState(0);\n\n  useEffect(() =&gt; {\n    const id = setInterval(() =&gt; {\n      setCount(c =&gt; c + 1); // \u2705 \u5728\u8fd9\u4e0d\u4f9d\u8d56\u4e8e\u5916\u90e8\u7684 `count` \u53d8\u91cf    \n    }, 1000);\n    return () =&gt; clearInterval(id);\n  }, []); // \u2705 \u6211\u4eec\u7684 effect \u4e0d\u4f7f\u7528\u7ec4\u4ef6\u4f5c\u7528\u57df\u4e2d\u7684\u4efb\u4f55\u53d8\u91cf\n  return &lt;h1&gt;{count}&lt;/h1&gt;;\n}\n</code></pre> <p>\uff08<code>setCount</code> \u51fd\u6570\u7684\u8eab\u4efd\u662f\u88ab\u786e\u4fdd\u7a33\u5b9a\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u653e\u5fc3\u7684\u7701\u7565\u6389\uff09</p> <p>\u6b64\u65f6\uff0c<code>setInterval</code> \u7684\u56de\u8c03\u4f9d\u65e7\u6bcf\u79d2\u8c03\u7528\u4e00\u6b21\uff0c\u4f46\u6bcf\u6b21 <code>setCount</code> \u5185\u90e8\u7684\u56de\u8c03\u53d6\u5230\u7684 <code>count</code> \u662f\u6700\u65b0\u503c\uff08\u5728\u56de\u8c03\u4e2d\u53d8\u91cf\u547d\u540d\u4e3a <code>c</code>\uff09\u3002</p> <p>\u5728\u4e00\u4e9b\u66f4\u52a0\u590d\u6742\u7684\u573a\u666f\u4e2d\uff08\u6bd4\u5982\u4e00\u4e2a state \u4f9d\u8d56\u4e8e\u53e6\u4e00\u4e2a state\uff09\uff0c\u5c1d\u8bd5\u7528 <code>useReducer</code> Hook \u628a state \u66f4\u65b0\u903b\u8f91\u79fb\u5230 effect \u4e4b\u5916\u3002\u8fd9\u7bc7\u6587\u7ae0 \u63d0\u4f9b\u4e86\u4e00\u4e2a\u4f60\u8be5\u5982\u4f55\u505a\u5230\u8fd9\u4e00\u70b9\u7684\u6848\u4f8b\u3002 <code>useReducer</code> \u7684 <code>dispatch</code> \u7684\u8eab\u4efd\u6c38\u8fdc\u662f\u7a33\u5b9a\u7684 \u2014\u2014 \u5373\u4f7f reducer \u51fd\u6570\u662f\u5b9a\u4e49\u5728\u7ec4\u4ef6\u5185\u90e8\u5e76\u4e14\u4f9d\u8d56 props\u3002</p> <p>\u4e07\u4e0d\u5f97\u5df2\u7684\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u4f60\u60f3\u8981\u7c7b\u4f3c class \u4e2d\u7684 <code>this</code> \u7684\u529f\u80fd\uff0c\u4f60\u53ef\u4ee5 \u4f7f\u7528\u4e00\u4e2a ref \u6765\u4fdd\u5b58\u4e00\u4e2a\u53ef\u53d8\u7684\u53d8\u91cf\u3002\u7136\u540e\u4f60\u5c31\u53ef\u4ee5\u5bf9\u5b83\u8fdb\u884c\u8bfb\u5199\u4e86\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>function Example(props) {\n  // \u628a\u6700\u65b0\u7684 props \u4fdd\u5b58\u5728\u4e00\u4e2a ref \u4e2d \n  const latestProps = useRef(props);  \n  useEffect(() =&gt; {    \n    latestProps.current = props;  \n  });\n\n  useEffect(() =&gt; {\n    function tick() {\n      // \u5728\u4efb\u4f55\u65f6\u5019\u8bfb\u53d6\u6700\u65b0\u7684 props      \n      console.log(latestProps.current);    \n    }\n\n    const id = setInterval(tick, 1000);\n    return () =&gt; clearInterval(id);\n  }, []); // \u8fd9\u4e2a effect \u4ece\u4e0d\u4f1a\u91cd\u65b0\u6267\u884c}\n</code></pre> <p>\u4ec5\u5f53\u4f60\u5b9e\u5728\u627e\u4e0d\u5230\u66f4\u597d\u529e\u6cd5\u7684\u65f6\u5019\u624d\u8fd9\u4e48\u505a\uff0c\u56e0\u4e3a\u4f9d\u8d56\u4e8e\u53d8\u66f4\u4f1a\u4f7f\u5f97\u7ec4\u4ef6\u66f4\u96be\u4ee5\u9884\u6d4b\u3002\u5982\u679c\u6709\u67d0\u4e9b\u7279\u5b9a\u7684\u6a21\u5f0f\u65e0\u6cd5\u5f88\u597d\u5730\u8f6c\u5316\u6210\u8fd9\u6837\uff0c\u53d1\u8d77\u4e00\u4e2a issue \u5e76\u914d\u4e0a\u53ef\u8fd0\u884c\u7684\u5b9e\u4f8b\u4ee3\u7801\u4ee5\u4fbf\uff0c\u6211\u4eec\u4f1a\u5c3d\u53ef\u80fd\u5e2e\u52a9\u4f60\u3002</p>"},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/#shouldcomponentupdate","title":"\u6211\u8be5\u5982\u4f55\u5b9e\u73b0 <code>shouldComponentUpdate</code>?","text":"<p>\u4f60\u53ef\u4ee5\u7528 <code>React.memo</code> \u5305\u88f9\u4e00\u4e2a\u7ec4\u4ef6\u6765\u5bf9\u5b83\u7684 props \u8fdb\u884c\u6d45\u6bd4\u8f83\uff1a</p> <pre><code>const Button = React.memo((props) =&gt; {\n  // \u4f60\u7684\u7ec4\u4ef6\n});\n</code></pre> <p>\u8fd9\u4e0d\u662f\u4e00\u4e2a Hook \u56e0\u4e3a\u5b83\u7684\u5199\u6cd5\u548c Hook \u4e0d\u540c\u3002<code>React.memo</code> \u7b49\u6548\u4e8e <code>PureComponent</code>\uff0c\u4f46\u5b83\u53ea\u6bd4\u8f83 props\u3002\uff08\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6307\u5b9a\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684\u6bd4\u8f83\u51fd\u6570\u6765\u6bd4\u8f83\u65b0\u65e7 props\u3002\u5982\u679c\u51fd\u6570\u8fd4\u56de true\uff0c\u5c31\u4f1a\u8df3\u8fc7\u66f4\u65b0\u3002\uff09</p> <p><code>React.memo</code> \u4e0d\u6bd4\u8f83 state\uff0c\u56e0\u4e3a\u6ca1\u6709\u5355\u4e00\u7684 state \u5bf9\u8c61\u53ef\u4f9b\u6bd4\u8f83\u3002\u4f46\u4f60\u4e5f\u53ef\u4ee5\u8ba9\u5b50\u8282\u70b9\u53d8\u4e3a\u7eaf\u7ec4\u4ef6\uff0c\u6216\u8005 \u7528 <code>useMemo</code> \u4f18\u5316\u6bcf\u4e00\u4e2a\u5177\u4f53\u7684\u5b50\u8282\u70b9\u3002</p>"},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/#_4","title":"\u5982\u4f55\u8bb0\u5fc6\u8ba1\u7b97\u7ed3\u679c\uff1f","text":"<p><code>useMemo</code> Hook \u5141\u8bb8\u4f60\u901a\u8fc7\u300c\u8bb0\u4f4f\u300d\u4e0a\u4e00\u6b21\u8ba1\u7b97\u7ed3\u679c\u7684\u65b9\u5f0f\u5728\u591a\u6b21\u6e32\u67d3\u7684\u4e4b\u95f4\u7f13\u5b58\u8ba1\u7b97\u7ed3\u679c\uff1a</p> <pre><code>const memoizedValue = useMemo(() =&gt; computeExpensiveValue(a, b), [a, b]);\n</code></pre> <p>\u8fd9\u884c\u4ee3\u7801\u4f1a\u8c03\u7528 <code>computeExpensiveValue(a, b)</code>\u3002\u4f46\u5982\u679c\u4f9d\u8d56\u6570\u7ec4 <code>[a, b]</code> \u81ea\u4e0a\u6b21\u8d4b\u503c\u4ee5\u6765\u6ca1\u6709\u6539\u53d8\u8fc7\uff0c<code>useMemo</code> \u4f1a\u8df3\u8fc7\u4e8c\u6b21\u8c03\u7528\uff0c\u53ea\u662f\u7b80\u5355\u590d\u7528\u5b83\u4e0a\u4e00\u6b21\u8fd4\u56de\u7684\u503c\u3002</p> <p>\u8bb0\u4f4f\uff0c\u4f20\u7ed9 <code>useMemo</code> \u7684\u51fd\u6570\u662f\u5728\u6e32\u67d3\u671f\u95f4\u8fd0\u884c\u7684\u3002\u4e0d\u8981\u5728\u5176\u4e2d\u505a\u4efb\u4f55\u4f60\u901a\u5e38\u4e0d\u4f1a\u5728\u6e32\u67d3\u671f\u95f4\u505a\u7684\u4e8b\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u526f\u4f5c\u7528\u5c5e\u4e8e <code>useEffect</code>\uff0c\u800c\u4e0d\u662f <code>useMemo</code>\u3002</p> <p>**\u4f60\u53ef\u4ee5\u628a <code>useMemo</code> \u4f5c\u4e3a\u4e00\u79cd\u6027\u80fd\u4f18\u5316\u7684\u624b\u6bb5\uff0c\u4f46\u4e0d\u8981\u628a\u5b83\u5f53\u505a\u4e00\u79cd\u8bed\u4e49\u4e0a\u7684\u4fdd\u8bc1\u3002**\u672a\u6765\uff0cReact \u53ef\u80fd\u4f1a\u9009\u62e9\u300c\u5fd8\u6389\u300d\u4e00\u4e9b\u4e4b\u524d\u8bb0\u4f4f\u7684\u503c\u5e76\u5728\u4e0b\u4e00\u6b21\u6e32\u67d3\u65f6\u91cd\u65b0\u8ba1\u7b97\u5b83\u4eec\uff0c\u6bd4\u5982\u4e3a\u79bb\u5c4f\u7ec4\u4ef6\u91ca\u653e\u5185\u5b58\u3002\u5efa\u8bae\u81ea\u5df1\u7f16\u5199\u76f8\u5173\u4ee3\u7801\u4ee5\u4fbf\u6ca1\u6709 <code>useMemo</code> \u4e5f\u80fd\u6b63\u5e38\u5de5\u4f5c \u2014\u2014 \u7136\u540e\u628a\u5b83\u52a0\u5165\u6027\u80fd\u4f18\u5316\u3002\uff08\u5728\u67d0\u4e9b\u53d6\u503c\u5fc5\u987b \u4ece\u4e0d \u88ab\u91cd\u65b0\u8ba1\u7b97\u7684\u7f55\u89c1\u573a\u666f\uff0c\u4f60\u53ef\u4ee5 \u60f0\u6027\u521d\u59cb\u5316 \u4e00\u4e2a ref\u3002\uff09</p> <p>\u65b9\u4fbf\u8d77\u89c1\uff0c<code>useMemo</code> \u4e5f\u5141\u8bb8\u4f60\u8df3\u8fc7\u4e00\u6b21\u5b50\u8282\u70b9\u7684\u6602\u8d35\u7684\u91cd\u65b0\u6e32\u67d3\uff1a</p> <pre><code>function Parent({ a, b }) {\n  // Only re-rendered if `a` changes:\n  const child1 = useMemo(() =&gt; &lt;Child1 a={a} /&gt;, [a]);\n  // Only re-rendered if `b` changes:\n  const child2 = useMemo(() =&gt; &lt;Child2 b={b} /&gt;, [b]);\n  return (\n    &lt;&gt;\n      {child1}\n      {child2}\n    &lt;/&gt;\n  )\n}\n</code></pre> <p>\u6ce8\u610f\u8fd9\u79cd\u65b9\u5f0f\u5728\u5faa\u73af\u4e2d\u662f\u65e0\u6548\u7684\uff0c\u56e0\u4e3a Hook \u8c03\u7528 \u4e0d\u80fd \u88ab\u653e\u5728\u5faa\u73af\u4e2d\u3002\u4f46\u4f60\u53ef\u4ee5\u4e3a\u5217\u8868\u9879\u62bd\u53d6\u4e00\u4e2a\u5355\u72ec\u7684\u7ec4\u4ef6\uff0c\u5e76\u5728\u5176\u4e2d\u8c03\u7528 <code>useMemo</code>\u3002</p>"},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/#_5","title":"\u5982\u4f55\u60f0\u6027\u521b\u5efa\u6602\u8d35\u7684\u5bf9\u8c61\uff1f","text":"<p>\u5982\u679c\u4f9d\u8d56\u6570\u7ec4\u7684\u503c\u76f8\u540c\uff0c<code>useMemo</code> \u5141\u8bb8\u4f60 \u8bb0\u4f4f\u4e00\u6b21\u6602\u8d35\u7684\u8ba1\u7b97\u3002\u4f46\u662f\uff0c\u8fd9\u4ec5\u4f5c\u4e3a\u4e00\u79cd\u63d0\u793a\uff0c\u5e76\u4e0d \u4fdd\u8bc1 \u8ba1\u7b97\u4e0d\u4f1a\u91cd\u65b0\u8fd0\u884c\u3002\u4f46\u6709\u65f6\u5019\u9700\u8981\u786e\u4fdd\u4e00\u4e2a\u5bf9\u8c61\u4ec5\u88ab\u521b\u5efa\u4e00\u6b21\u3002</p> <p>\u7b2c\u4e00\u4e2a\u5e38\u89c1\u7684\u4f7f\u7528\u573a\u666f\u662f\u5f53\u521b\u5efa\u521d\u59cb state \u5f88\u6602\u8d35\u65f6\uff1a</p> <pre><code>function Table(props) {\n  // \u26a0\ufe0f createRows() \u6bcf\u6b21\u6e32\u67d3\u90fd\u4f1a\u88ab\u8c03\u7528\n  const [rows, setRows] = useState(createRows(props.count));\n  // ...\n}\n</code></pre> <p>\u4e3a\u907f\u514d\u91cd\u65b0\u521b\u5efa\u88ab\u5ffd\u7565\u7684\u521d\u59cb state\uff0c\u6211\u4eec\u53ef\u4ee5\u4f20\u4e00\u4e2a \u51fd\u6570 \u7ed9 <code>useState</code>\uff1a</p> <pre><code>function Table(props) {\n  // \u2705 createRows() \u53ea\u4f1a\u88ab\u8c03\u7528\u4e00\u6b21\n  const [rows, setRows] = useState(() =&gt; createRows(props.count));\n  // ...\n}\n</code></pre> <p>React \u53ea\u4f1a\u5728\u9996\u6b21\u6e32\u67d3\u65f6\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u3002\u53c2\u89c1 <code>useState</code> API \u53c2\u8003\u3002</p> <p>**\u4f60\u6216\u8bb8\u4e5f\u4f1a\u5076\u5c14\u60f3\u8981\u907f\u514d\u91cd\u65b0\u521b\u5efa <code>useRef()</code> \u7684\u521d\u59cb\u503c\u3002**\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u6216\u8bb8\u4f60\u60f3\u786e\u4fdd\u67d0\u4e9b\u547d\u4ee4\u5f0f\u7684 class \u5b9e\u4f8b\u53ea\u88ab\u521b\u5efa\u4e00\u6b21\uff1a</p> <pre><code>function Image(props) {\n  // \u26a0\ufe0f IntersectionObserver \u5728\u6bcf\u6b21\u6e32\u67d3\u90fd\u4f1a\u88ab\u521b\u5efa\n  const ref = useRef(new IntersectionObserver(onIntersect));\n  // ...\n}\n</code></pre> <p><code>useRef</code> \u4e0d\u4f1a \u50cf <code>useState</code> \u90a3\u6837\u63a5\u53d7\u4e00\u4e2a\u7279\u6b8a\u7684\u51fd\u6570\u91cd\u8f7d\u3002\u76f8\u53cd\uff0c\u4f60\u53ef\u4ee5\u7f16\u5199\u4f60\u81ea\u5df1\u7684\u51fd\u6570\u6765\u521b\u5efa\u5e76\u5c06\u5176\u8bbe\u4e3a\u60f0\u6027\u7684\uff1a</p> <pre><code>function Image(props) {\n  const ref = useRef(null);\n\n  // \u2705 IntersectionObserver \u53ea\u4f1a\u88ab\u60f0\u6027\u521b\u5efa\u4e00\u6b21\n  function getObserver() {\n    if (ref.current === null) {\n      ref.current = new IntersectionObserver(onIntersect);\n    }\n    return ref.current;\n  }\n\n  // \u5f53\u4f60\u9700\u8981\u65f6\uff0c\u8c03\u7528 getObserver()\n  // ...\n}\n</code></pre> <p>\u8fd9\u907f\u514d\u4e86\u6211\u4eec\u5728\u4e00\u4e2a\u5bf9\u8c61\u88ab\u9996\u6b21\u771f\u6b63\u9700\u8981\u4e4b\u524d\u5c31\u521b\u5efa\u5b83\u3002\u5982\u679c\u4f60\u4f7f\u7528 Flow \u6216 TypeScript\uff0c\u4f60\u8fd8\u53ef\u4ee5\u4e3a\u4e86\u65b9\u4fbf\u7ed9 <code>getObserver()</code> \u4e00\u4e2a\u4e0d\u53ef\u4e3a null \u7684\u7c7b\u578b\u3002</p>"},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/#hook_1","title":"Hook \u4f1a\u56e0\u4e3a\u5728\u6e32\u67d3\u65f6\u521b\u5efa\u51fd\u6570\u800c\u53d8\u6162\u5417\uff1f","text":"<p>\u4e0d\u4f1a\u3002\u5728\u73b0\u4ee3\u6d4f\u89c8\u5668\u4e2d\uff0c\u95ed\u5305\u548c\u7c7b\u7684\u539f\u59cb\u6027\u80fd\u53ea\u6709\u5728\u6781\u7aef\u573a\u666f\u4e0b\u624d\u4f1a\u6709\u660e\u663e\u7684\u5dee\u522b\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u53ef\u4ee5\u8ba4\u4e3a Hook \u7684\u8bbe\u8ba1\u5728\u67d0\u4e9b\u65b9\u9762\u66f4\u52a0\u9ad8\u6548\uff1a</p> <ul> <li>Hook \u907f\u514d\u4e86 class \u9700\u8981\u7684\u989d\u5916\u5f00\u652f\uff0c\u50cf\u662f\u521b\u5efa\u7c7b\u5b9e\u4f8b\u548c\u5728\u6784\u9020\u51fd\u6570\u4e2d\u7ed1\u5b9a\u4e8b\u4ef6\u5904\u7406\u5668\u7684\u6210\u672c\u3002</li> <li>\u7b26\u5408\u8bed\u8a00\u4e60\u60ef\u7684\u4ee3\u7801\u5728\u4f7f\u7528 Hook \u65f6\u4e0d\u9700\u8981\u5f88\u6df1\u7684\u7ec4\u4ef6\u6811\u5d4c\u5957\u3002\u8fd9\u4e2a\u73b0\u8c61\u5728\u4f7f\u7528\u9ad8\u9636\u7ec4\u4ef6\u3001render props\u3001\u548c context \u7684\u4ee3\u7801\u5e93\u4e2d\u975e\u5e38\u666e\u904d\u3002\u7ec4\u4ef6\u6811\u5c0f\u4e86\uff0cReact \u7684\u5de5\u4f5c\u91cf\u4e5f\u968f\u4e4b\u51cf\u5c11\u3002</li> </ul> <p>\u4f20\u7edf\u4e0a\u8ba4\u4e3a\uff0c\u5728 React \u4e2d\u4f7f\u7528\u5185\u8054\u51fd\u6570\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\uff0c\u4e0e\u6bcf\u6b21\u6e32\u67d3\u90fd\u4f20\u9012\u65b0\u7684\u56de\u8c03\u4f1a\u5982\u4f55\u7834\u574f\u5b50\u7ec4\u4ef6\u7684 <code>shouldComponentUpdate</code> \u4f18\u5316\u6709\u5173\u3002Hook \u4ece\u4e09\u4e2a\u65b9\u9762\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002</p> <ul> <li><code>useCallback</code> Hook \u5141\u8bb8\u4f60\u5728\u91cd\u65b0\u6e32\u67d3\u4e4b\u95f4\u4fdd\u6301\u5bf9\u76f8\u540c\u7684\u56de\u8c03\u5f15\u7528\u4ee5\u4f7f\u5f97 <code>shouldComponentUpdate</code> \u7ee7\u7eed\u5de5\u4f5c\uff1a</li> </ul> <pre><code>// \u9664\u975e `a` \u6216 `b` \u6539\u53d8\uff0c\u5426\u5219\u4e0d\u4f1a\u53d8\nconst memoizedCallback = useCallback(() =&gt; {  doSomething(a, b);\n}, [a, b]);\n</code></pre> <ul> <li> <p><code>useMemo</code> Hook \u4f7f\u5f97\u63a7\u5236\u5177\u4f53\u5b50\u8282\u70b9\u4f55\u65f6\u66f4\u65b0\u53d8\u5f97\u66f4\u5bb9\u6613\uff0c\u51cf\u5c11\u4e86\u5bf9\u7eaf\u7ec4\u4ef6\u7684\u9700\u8981\u3002</p> </li> <li> <p>\u6700\u540e\uff0c<code>useReducer</code> Hook \u51cf\u5c11\u4e86\u5bf9\u6df1\u5c42\u4f20\u9012\u56de\u8c03\u7684\u4f9d\u8d56\uff0c\u6b63\u5982\u4e0b\u9762\u89e3\u91ca\u7684\u90a3\u6837\u3002</p> </li> </ul>"},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/#_6","title":"\u5982\u4f55\u907f\u514d\u5411\u4e0b\u4f20\u9012\u56de\u8c03\uff1f","text":"<p>\u6211\u4eec\u5df2\u7ecf\u53d1\u73b0\u5927\u90e8\u5206\u4eba\u5e76\u4e0d\u559c\u6b22\u5728\u7ec4\u4ef6\u6811\u7684\u6bcf\u4e00\u5c42\u624b\u52a8\u4f20\u9012\u56de\u8c03\u3002\u5c3d\u7ba1\u8fd9\u79cd\u5199\u6cd5\u66f4\u660e\u786e\uff0c\u4f46\u8fd9\u7ed9\u4eba\u611f\u89c9\u50cf\u9519\u7efc\u590d\u6742\u7684\u7ba1\u9053\u5de5\u7a0b\u4e00\u6837\u9ebb\u70e6\u3002</p> <p>\u5728\u5927\u578b\u7684\u7ec4\u4ef6\u6811\u4e2d\uff0c\u6211\u4eec\u63a8\u8350\u7684\u66ff\u4ee3\u65b9\u6848\u662f\u901a\u8fc7 context \u7528 <code>useReducer</code> \u5f80\u4e0b\u4f20\u4e00\u4e2a <code>dispatch</code> \u51fd\u6570\uff1a</p> <pre><code>const TodosDispatch = React.createContext(null);\n\nfunction TodosApp() {\n  // \u63d0\u793a\uff1a`dispatch` \u4e0d\u4f1a\u5728\u91cd\u65b0\u6e32\u67d3\u4e4b\u95f4\u53d8\u5316  const [todos, dispatch] = useReducer(todosReducer);\n  return (\n    &lt;TodosDispatch.Provider value={dispatch}&gt;\n      &lt;DeepTree todos={todos} /&gt;\n    &lt;/TodosDispatch.Provider&gt;\n  );\n}\n</code></pre> <p><code>TodosApp</code> \u5185\u90e8\u7ec4\u4ef6\u6811\u91cc\u7684\u4efb\u4f55\u5b50\u8282\u70b9\u90fd\u53ef\u4ee5\u4f7f\u7528 <code>dispatch</code> \u51fd\u6570\u6765\u5411\u4e0a\u4f20\u9012 actions \u5230 <code>TodosApp</code>\uff1a</p> <pre><code>function DeepChild(props) {\n  // \u5982\u679c\u6211\u4eec\u60f3\u8981\u6267\u884c\u4e00\u4e2a action\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece context \u4e2d\u83b7\u53d6 dispatch\u3002  const dispatch = useContext(TodosDispatch);\n  function handleClick() {\n    dispatch({ type: 'add', text: 'hello' });\n  }\n\n  return (\n    &lt;button onClick={handleClick}&gt;Add todo&lt;/button&gt;\n  );\n}\n</code></pre> <p>\u603b\u800c\u8a00\u4e4b\uff0c\u4ece\u7ef4\u62a4\u7684\u89d2\u5ea6\u6765\u8fd9\u6837\u770b\u66f4\u52a0\u65b9\u4fbf\uff08\u4e0d\u7528\u4e0d\u65ad\u8f6c\u53d1\u56de\u8c03\uff09\uff0c\u540c\u65f6\u4e5f\u907f\u514d\u4e86\u56de\u8c03\u7684\u95ee\u9898\u3002\u50cf\u8fd9\u6837\u5411\u4e0b\u4f20\u9012 <code>dispatch</code> \u662f\u5904\u7406\u6df1\u5ea6\u66f4\u65b0\u7684\u63a8\u8350\u6a21\u5f0f\u3002</p> <p>\u6ce8\u610f\uff0c\u4f60\u4f9d\u7136\u53ef\u4ee5\u9009\u62e9\u5c06\u5e94\u7528\u7684 state \u4f5c\u4e3a props\uff08\u66f4\u663e\u660e\u786e\uff09\u5411\u4e0b\u4f20\u9012\u6216\u8005\u4f7f\u7528 context\uff08\u5bf9\u5f88\u6df1\u7684\u66f4\u65b0\u800c\u8a00\u66f4\u52a0\u65b9\u4fbf\uff09\u5411\u4e0b\u4f20\u9012\u3002\u5982\u679c\u4f60\u9009\u62e9\u4f7f\u7528 context \u6765\u5411\u4e0b\u4f20\u9012 state\uff0c\u8bf7\u4f7f\u7528\u4e24\u79cd\u4e0d\u540c\u7684 context \u7c7b\u578b\u4f20\u9012 state \u548c dispatch \u2014\u2014 \u7531\u4e8e <code>dispatch</code> context \u6c38\u8fdc\u4e0d\u4f1a\u53d8\uff0c\u56e0\u6b64\u8bfb\u53d6\u5b83\u7684\u7ec4\u4ef6\u4e0d\u9700\u8981\u91cd\u65b0\u6e32\u67d3\uff0c\u9664\u975e\u8fd9\u4e9b\u7ec4\u4ef6\u4e5f\u9700\u8981\u7528\u5230\u5e94\u7528\u7a0b\u5e8f\u7684 state\u3002</p>"},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/#usecallback","title":"\u5982\u4f55\u4ece <code>useCallback</code> \u8bfb\u53d6\u4e00\u4e2a\u7ecf\u5e38\u53d8\u5316\u7684\u503c\uff1f","text":"<p>\u6ce8\u610f</p> <p>\u6211\u4eec\u63a8\u8350 \u5728 context \u4e2d\u5411\u4e0b\u4f20\u9012 <code>dispatch</code> \u800c\u975e\u5728 props \u4e2d\u4f7f\u7528\u72ec\u7acb\u7684\u56de\u8c03\u3002\u4e0b\u9762\u7684\u65b9\u6cd5\u4ec5\u4ec5\u51fa\u4e8e\u6587\u6863\u5b8c\u6574\u6027\u8003\u8651\uff0c\u4ee5\u53ca\u4f5c\u4e3a\u4e00\u6761\u51fa\u8def\u5728\u6b64\u63d0\u53ca\u3002</p> <p>\u5728\u67d0\u4e9b\u7f55\u89c1\u573a\u666f\u4e2d\uff0c\u4f60\u53ef\u80fd\u4f1a\u9700\u8981\u7528 <code>useCallback</code> \u8bb0\u4f4f\u4e00\u4e2a\u56de\u8c03\uff0c\u4f46\u7531\u4e8e\u5185\u90e8\u51fd\u6570\u5fc5\u987b\u7ecf\u5e38\u91cd\u65b0\u521b\u5efa\uff0c\u8bb0\u5fc6\u6548\u679c\u4e0d\u662f\u5f88\u597d\u3002\u5982\u679c\u4f60\u60f3\u8981\u8bb0\u4f4f\u7684\u51fd\u6570\u662f\u4e00\u4e2a\u4e8b\u4ef6\u5904\u7406\u5668\u5e76\u4e14\u5728\u6e32\u67d3\u671f\u95f4\u6ca1\u6709\u88ab\u7528\u5230\uff0c\u4f60\u53ef\u4ee5 \u628a ref \u5f53\u505a\u5b9e\u4f8b\u53d8\u91cf \u6765\u7528\uff0c\u5e76\u624b\u52a8\u628a\u6700\u540e\u63d0\u4ea4\u7684\u503c\u4fdd\u5b58\u5728\u5b83\u5f53\u4e2d\uff1a</p> <pre><code>function Form() {\n  const [text, updateText] = useState('');\n  const textRef = useRef();\n\n  useEffect(() =&gt; {\n    textRef.current = text; // \u628a\u5b83\u5199\u5165 ref  });\n\n  const handleSubmit = useCallback(() =&gt; {\n    const currentText = textRef.current; // \u4ece ref \u8bfb\u53d6\u5b83    alert(currentText);\n  }, [textRef]); // \u4e0d\u8981\u50cf [text] \u90a3\u6837\u91cd\u65b0\u521b\u5efa handleSubmit\n\n  return (\n    &lt;&gt;\n      &lt;input value={text} onChange={e =&gt; updateText(e.target.value)} /&gt;\n      &lt;ExpensiveTree onSubmit={handleSubmit} /&gt;\n    &lt;/&gt;\n  );\n}\n</code></pre> <p>\u8fd9\u662f\u4e00\u4e2a\u6bd4\u8f83\u9ebb\u70e6\u7684\u6a21\u5f0f\uff0c\u4f46\u8fd9\u8868\u793a\u5982\u679c\u4f60\u9700\u8981\u7684\u8bdd\u4f60\u53ef\u4ee5\u7528\u8fd9\u6761\u51fa\u8def\u8fdb\u884c\u4f18\u5316\u3002\u5982\u679c\u4f60\u628a\u5b83\u62bd\u53d6\u6210\u4e00\u4e2a\u81ea\u5b9a\u4e49 Hook \u7684\u8bdd\u4f1a\u66f4\u52a0\u597d\u53d7\u4e9b\uff1a</p> <pre><code>function Form() {\n  const [text, updateText] = useState('');\n  // \u5373\u4fbf `text` \u53d8\u4e86\u4e5f\u4f1a\u88ab\u8bb0\u4f4f:\n  const handleSubmit = useEventCallback(() =&gt; {    alert(text);\n  }, [text]);\n\n  return (\n    &lt;&gt;\n      &lt;input value={text} onChange={e =&gt; updateText(e.target.value)} /&gt;\n      &lt;ExpensiveTree onSubmit={handleSubmit} /&gt;\n    &lt;/&gt;\n  );\n}\n\nfunction useEventCallback(fn, dependencies) {  const ref = useRef(() =&gt; {\n    throw new Error('Cannot call an event handler while rendering.');\n  });\n\n  useEffect(() =&gt; {\n    ref.current = fn;\n  }, [fn, ...dependencies]);\n\n  return useCallback(() =&gt; {\n    const fn = ref.current;\n    return fn();\n  }, [ref]);\n}\n</code></pre> <p>\u65e0\u8bba\u5982\u4f55\uff0c\u6211\u4eec\u90fd \u4e0d\u63a8\u8350\u4f7f\u7528\u8fd9\u79cd\u6a21\u5f0f \uff0c\u53ea\u662f\u4e3a\u4e86\u6587\u6863\u7684\u5b8c\u6574\u6027\u800c\u628a\u5b83\u5c55\u793a\u5728\u8fd9\u91cc\u3002\u76f8\u53cd\u7684\uff0c\u6211\u4eec\u66f4\u503e\u5411\u4e8e \u907f\u514d\u5411\u4e0b\u6df1\u5165\u4f20\u9012\u56de\u8c03\u3002</p>"},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/#_7","title":"\u5e95\u5c42\u539f\u7406","text":""},{"location":"react-hooks/03%20%E4%BB%8E%20Class%20%E8%BF%81%E7%A7%BB%E5%88%B0%20Hook/#react-hook","title":"React \u662f\u5982\u4f55\u628a\u5bf9 Hook \u7684\u8c03\u7528\u548c\u7ec4\u4ef6\u8054\u7cfb\u8d77\u6765\u7684\uff1f","text":"<p>React \u4fdd\u6301\u5bf9\u5f53\u524d\u6e32\u67d3\u4e2d\u7684\u7ec4\u4ef6\u7684\u8ffd\u8e2a\u3002\u591a\u4e8f\u4e86 Hook \u89c4\u8303\uff0c\u6211\u4eec\u5f97\u77e5 Hook \u53ea\u4f1a\u5728 React \u7ec4\u4ef6\u4e2d\u88ab\u8c03\u7528\uff08\u6216\u81ea\u5b9a\u4e49 Hook \u2014\u2014 \u540c\u6837\u53ea\u4f1a\u5728 React \u7ec4\u4ef6\u4e2d\u88ab\u8c03\u7528\uff09\u3002</p> <p>\u6bcf\u4e2a\u7ec4\u4ef6\u5185\u90e8\u90fd\u6709\u4e00\u4e2a\u300c\u8bb0\u5fc6\u5355\u5143\u683c\u300d\u5217\u8868\u3002\u5b83\u4eec\u53ea\u4e0d\u8fc7\u662f\u6211\u4eec\u7528\u6765\u5b58\u50a8\u4e00\u4e9b\u6570\u636e\u7684 JavaScript \u5bf9\u8c61\u3002\u5f53\u4f60\u7528 <code>useState()</code> \u8c03\u7528\u4e00\u4e2a Hook \u7684\u65f6\u5019\uff0c\u5b83\u4f1a\u8bfb\u53d6\u5f53\u524d\u7684\u5355\u5143\u683c\uff08\u6216\u5728\u9996\u6b21\u6e32\u67d3\u65f6\u5c06\u5176\u521d\u59cb\u5316\uff09\uff0c\u7136\u540e\u628a\u6307\u9488\u79fb\u52a8\u5230\u4e0b\u4e00\u4e2a\u3002\u8fd9\u5c31\u662f\u591a\u4e2a <code>useState()</code> \u8c03\u7528\u4f1a\u5f97\u5230\u5404\u81ea\u72ec\u7acb\u7684\u672c\u5730 state \u7684\u539f\u56e0\u3002</p>"},{"location":"react-hooks/04%20React%20%E5%86%85%E7%BD%AE%20Hook/","title":"04 React \u5185\u7f6e Hook","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6092  \u9605\u8bfb13\u5206\u949f</p> <p>https://zh-hans.react.dev/reference/react/hooks</p> <p>Hook \u53ef\u4ee5\u5e2e\u52a9\u5728\u7ec4\u4ef6\u4e2d\u4f7f\u7528\u4e0d\u540c\u7684 React \u529f\u80fd\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u5185\u7f6e\u7684 Hook \u6216\u4f7f\u7528\u81ea\u5b9a\u4e49 Hook\u3002</p>"},{"location":"react-hooks/04%20React%20%E5%86%85%E7%BD%AE%20Hook/#state-hook","title":"State Hook","text":"<p>\u72b6\u6001\u5e2e\u52a9\u7ec4\u4ef6 \u201c\u8bb0\u4f4f\u201d\u7528\u6237\u8f93\u5165\u7684\u4fe1\u606f\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u8868\u5355\u7ec4\u4ef6\u53ef\u4ee5\u4f7f\u7528\u72b6\u6001\u5b58\u50a8\u8f93\u5165\u503c\uff0c\u800c\u4e00\u4e2a\u56fe\u50cf\u5e93\u7ec4\u4ef6\u53ef\u4ee5\u4f7f\u7528\u72b6\u6001\u5b58\u50a8\u6240\u9009\u7684\u56fe\u50cf\u7d22\u5f15\u3002</p> <p>\u4f7f\u7528\u4ee5\u4e0b Hook \u4ee5\u5411\u7ec4\u4ef6\u6dfb\u52a0\u72b6\u6001\uff1a</p> <ul> <li>\u4f7f\u7528 <code>useState</code> \u58f0\u660e\u53ef\u4ee5\u76f4\u63a5\u66f4\u65b0\u7684\u72b6\u6001\u53d8\u91cf\u3002</li> <li>\u4f7f\u7528 <code>useReducer</code> \u5728 reducer \u51fd\u6570 \u4e2d\u58f0\u660e\u5e26\u6709\u66f4\u65b0\u903b\u8f91\u7684 state \u53d8\u91cf\u3002</li> </ul> <pre><code>function ImageGallery() {\n  const [index, setIndex] = useState(0);\n  // ...\n</code></pre>"},{"location":"react-hooks/04%20React%20%E5%86%85%E7%BD%AE%20Hook/#context-hook","title":"Context Hook","text":"<p>\u4e0a\u4e0b\u6587\u5e2e\u52a9\u7ec4\u4ef6 \u4ece\u7956\u5148\u7ec4\u4ef6\u63a5\u6536\u4fe1\u606f\uff0c\u800c\u65e0\u9700\u5c06\u5176\u4f5c\u4e3a props \u4f20\u9012\u3002\u4f8b\u5982\uff0c\u5e94\u7528\u7a0b\u5e8f\u7684\u9876\u5c42\u7ec4\u4ef6\u53ef\u4ee5\u501f\u52a9\u4e0a\u4e0b\u6587\u5c06 UI \u4e3b\u9898\u4f20\u9012\u7ed9\u6240\u6709\u4e0b\u65b9\u7684\u7ec4\u4ef6\uff0c\u65e0\u8bba\u8fd9\u4e9b\u7ec4\u4ef6\u5c42\u7ea7\u6709\u591a\u6df1\u3002</p> <ul> <li>\u4f7f\u7528 <code>useContext</code> \u8bfb\u53d6\u8ba2\u9605\u4e0a\u4e0b\u6587\u3002</li> </ul> <pre><code>function Button() {\n  const theme = useContext(ThemeContext);\n</code></pre>"},{"location":"react-hooks/04%20React%20%E5%86%85%E7%BD%AE%20Hook/#ref-hook","title":"Ref Hook","text":"<p>ref \u5141\u8bb8\u7ec4\u4ef6 \u4fdd\u5b58\u4e00\u4e9b\u4e0d\u7528\u4e8e\u6e32\u67d3\u7684\u4fe1\u606f\uff0c\u6bd4\u5982 DOM \u8282\u70b9\u6216 timeout ID\u3002\u4e0e\u72b6\u6001\u4e0d\u540c\uff0c\u66f4\u65b0 ref \u4e0d\u4f1a\u91cd\u65b0\u6e32\u67d3\u7ec4\u4ef6\u3002ref \u662f\u4ece React \u8303\u4f8b\u4e2d\u7684\u201c\u8131\u56f4\u673a\u5236\u201d\u3002\u5f53\u9700\u8981\u4e0e\u975e React \u7cfb\u7edf\u5982\u6d4f\u89c8\u5668\u5185\u7f6e API \u4e00\u540c\u5de5\u4f5c\u65f6\uff0cref \u5c06\u4f1a\u975e\u5e38\u6709\u7528\u3002</p> <ul> <li>\u4f7f\u7528 <code>useRef</code> \u58f0\u660e ref\u3002\u4f60\u53ef\u4ee5\u5728\u5176\u4e2d\u4fdd\u5b58\u4efb\u4f55\u503c\uff0c\u4f46\u6700\u5e38\u7528\u4e8e\u4fdd\u5b58 DOM \u8282\u70b9\u3002</li> <li>\u4f7f\u7528 <code>useImperativeHandle</code> \u81ea\u5b9a\u4e49\u4ece\u7ec4\u4ef6\u4e2d\u66b4\u9732\u7684 ref\uff0c\u4f46\u662f\u5f88\u5c11\u4f7f\u7528\u3002</li> </ul> <pre><code>function Form() {\n  const inputRef = useRef(null);\n</code></pre>"},{"location":"react-hooks/04%20React%20%E5%86%85%E7%BD%AE%20Hook/#effect-hook","title":"Effect Hook","text":"<p>Effect \u5141\u8bb8\u7ec4\u4ef6 \u8fde\u63a5\u5230\u5916\u90e8\u7cfb\u7edf\u5e76\u4e0e\u4e4b\u540c\u6b65\u3002\u8fd9\u5305\u62ec\u5904\u7406\u7f51\u7edc\u3001\u6d4f\u89c8\u5668\u3001DOM\u3001\u52a8\u753b\u3001\u4f7f\u7528\u4e0d\u540c UI \u5e93\u7f16\u5199\u7684\u5c0f\u90e8\u4ef6\u4ee5\u53ca\u5176\u4ed6\u975e React \u4ee3\u7801\u3002</p> <ul> <li>\u4f7f\u7528 <code>useEffect</code> \u5c06\u7ec4\u4ef6\u8fde\u63a5\u5230\u5916\u90e8\u7cfb\u7edf\u3002</li> </ul> <pre><code>function ChatRoom({ roomId }) {\n\n  useEffect(() =&gt; {\n    const connection = createConnection(roomId);\n    connection.connect();\n    return () =&gt; connection.disconnect();\n  }, [roomId]);\n</code></pre> <p>Effect \u662f\u4ece React \u8303\u5f0f\u4e2d\u7684\u201c\u8131\u56f4\u673a\u5236\u201d\u3002\u907f\u514d\u4f7f\u7528 Effect \u534f\u8c03\u5e94\u7528\u7a0b\u5e8f\u7684\u6570\u636e\u6d41\u3002\u5982\u679c\u4e0d\u9700\u8981\u4e0e\u5916\u90e8\u7cfb\u7edf\u4ea4\u4e92\uff0c\u90a3\u4e48 \u53ef\u80fd\u4e0d\u9700\u8981 Effect\u3002</p> <p><code>useEffect</code> \u6709\u4e24\u4e2a\u5f88\u5c11\u4f7f\u7528\u7684\u53d8\u6362\u5f62\u5f0f\uff0c\u5b83\u4eec\u5728\u6267\u884c\u65f6\u673a\u6709\u6240\u4e0d\u540c\uff1a</p> <ul> <li><code>useLayoutEffect</code> \u5728\u6d4f\u89c8\u5668\u91cd\u65b0\u7ed8\u5236\u5c4f\u5e55\u524d\u6267\u884c\uff0c\u53ef\u4ee5\u5728\u6b64\u5904\u6d4b\u91cf\u5e03\u5c40\u3002</li> <li><code>useInsertionEffect</code> \u5728 React \u5bf9 DOM \u8fdb\u884c\u66f4\u6539\u4e4b\u524d\u89e6\u53d1\uff0c\u5e93\u53ef\u4ee5\u5728\u6b64\u5904\u63d2\u5165\u52a8\u6001 CSS\u3002</li> </ul>"},{"location":"react-hooks/04%20React%20%E5%86%85%E7%BD%AE%20Hook/#hook","title":"\u6027\u80fd Hook","text":"<p>\u4f18\u5316\u91cd\u65b0\u6e32\u67d3\u6027\u80fd\u7684\u4e00\u79cd\u5e38\u89c1\u65b9\u6cd5\u662f\u8df3\u8fc7\u4e0d\u5fc5\u8981\u7684\u5de5\u4f5c\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u544a\u8bc9 React \u91cd\u7528\u7f13\u5b58\u7684\u8ba1\u7b97\u7ed3\u679c\uff0c\u6216\u8005\u5982\u679c\u6570\u636e\u81ea\u4e0a\u6b21\u6e32\u67d3\u4ee5\u6765\u6ca1\u6709\u66f4\u6539\uff0c\u5219\u8df3\u8fc7\u91cd\u65b0\u6e32\u67d3\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b Hook \u8df3\u8fc7\u8ba1\u7b97\u548c\u4e0d\u5fc5\u8981\u7684\u91cd\u65b0\u6e32\u67d3\uff1a</p> <ul> <li>\u4f7f\u7528 <code>useMemo</code> \u7f13\u5b58\u8ba1\u7b97\u4ee3\u4ef7\u6602\u8d35\u7684\u8ba1\u7b97\u7ed3\u679c\u3002</li> <li>\u4f7f\u7528 <code>useCallback</code> \u5c06\u51fd\u6570\u4f20\u9012\u7ed9\u4f18\u5316\u7ec4\u4ef6\u4e4b\u524d\u7f13\u5b58\u51fd\u6570\u5b9a\u4e49\u3002</li> </ul> <pre><code>function TodoList({ todos, tab, theme }) {\n  const visibleTodos = useMemo(() =&gt; filterTodos(todos, tab), [todos, tab]);\n  // ...\n}\n</code></pre> <p>\u6709\u65f6\u7531\u4e8e\u5c4f\u5e55\u786e\u5b9e\u9700\u8981\u66f4\u65b0\uff0c\u65e0\u6cd5\u8df3\u8fc7\u91cd\u65b0\u6e32\u67d3\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u901a\u8fc7\u5c06\u5fc5\u987b\u540c\u6b65\u7684\u963b\u585e\u66f4\u65b0\uff08\u6bd4\u5982\u4f7f\u7528\u8f93\u5165\u6cd5\u8f93\u5165\u5185\u5bb9\uff09\u4e0e\u4e0d\u9700\u8981\u963b\u585e\u7528\u6237\u754c\u9762\u7684\u975e\u963b\u585e\u66f4\u65b0\uff08\u6bd4\u5982\u66f4\u65b0\u56fe\u8868\uff09\u5206\u79bb\u4ee5\u63d0\u9ad8\u6027\u80fd\u3002</p> <p>\u4f7f\u7528\u4ee5\u4e0b Hook \u5904\u7406\u6e32\u67d3\u4f18\u5148\u7ea7\uff1a</p> <ul> <li><code>useTransition</code> \u5141\u8bb8\u5c06\u72b6\u6001\u8f6c\u6362\u6807\u8bb0\u4e3a\u975e\u963b\u585e\uff0c\u5e76\u5141\u8bb8\u5176\u4ed6\u66f4\u65b0\u4e2d\u65ad\u5b83\u3002</li> <li><code>useDeferredValue</code> \u5141\u8bb8\u5ef6\u8fdf\u66f4\u65b0 UI \u7684\u975e\u5173\u952e\u90e8\u5206\uff0c\u4ee5\u8ba9\u5176\u4ed6\u90e8\u5206\u5148\u66f4\u65b0\u3002</li> </ul>"},{"location":"react-hooks/04%20React%20%E5%86%85%E7%BD%AE%20Hook/#hook_1","title":"\u8d44\u6e90 Hook","text":"<p>\u8d44\u6e90\u53ef\u4ee5\u88ab\u7ec4\u4ef6\u8bbf\u95ee\uff0c\u800c\u65e0\u9700\u5c06\u5b83\u4eec\u4f5c\u4e3a\u72b6\u6001\u7684\u4e00\u90e8\u5206\u3002\u4f8b\u5982\uff0c\u7ec4\u4ef6\u53ef\u4ee5\u4ece Promise \u4e2d\u8bfb\u53d6\u6d88\u606f\uff0c\u6216\u4ece\u4e0a\u4e0b\u6587\u4e2d\u8bfb\u53d6\u6837\u5f0f\u4fe1\u606f\u3002</p> <p>\u4f7f\u7528\u4ee5\u4e0b Hook \u4ee5\u4ece\u8d44\u6e90\u4e2d\u8bfb\u53d6\u503c\uff1a</p> <ul> <li><code>use</code> \u5141\u8bb8\u8bfb\u53d6\u50cf Promise \u6216 \u4e0a\u4e0b\u6587 \u8fd9\u6837\u7684\u8d44\u6e90\u7684\u503c\u3002</li> </ul> <pre><code>function MessageComponent({ messagePromise }) {\n  const message = use(messagePromise);\n  const theme = use(ThemeContext);\n  // ...\n}\n</code></pre>"},{"location":"react-hooks/04%20React%20%E5%86%85%E7%BD%AE%20Hook/#hook_2","title":"\u5176\u4ed6 Hook","text":"<p>\u8fd9\u4e9b Hook \u4e3b\u8981\u9002\u7528\u4e8e\u5e93\u4f5c\u8005\uff0c\u4e0d\u5e38\u5728\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u4e2d\u4f7f\u7528\u3002</p> <ul> <li>\u4f7f\u7528 <code>useDebugValue</code> \u81ea\u5b9a\u4e49 React \u5f00\u53d1\u8005\u5de5\u5177\u4e3a\u81ea\u5b9a\u4e49 Hook \u6dfb\u52a0\u7684\u6807\u7b7e\u3002</li> <li>\u4f7f\u7528 <code>useId</code> \u5c06\u552f\u4e00\u7684 ID \u4e0e\u7ec4\u4ef6\u76f8\u5173\u8054\uff0c\u5176\u901a\u5e38\u4e0e\u53ef\u8bbf\u95ee\u6027 API \u4e00\u8d77\u4f7f\u7528\u3002</li> <li>\u4f7f\u7528 <code>useSyncExternalStore</code> \u8ba2\u9605\u5916\u90e8 store\u3002</li> </ul>"},{"location":"react-hooks/04%20React%20%E5%86%85%E7%BD%AE%20Hook/#hook_3","title":"\u81ea\u5b9a\u4e49 Hook","text":"<p>\u5f00\u53d1\u8005\u53ef\u4ee5 \u81ea\u5b9a\u4e49 Hook \u4f5c\u4e3a JavaScript \u51fd\u6570\u3002</p>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/","title":"05 React Hooks \u8be6\u89e3 + \u9879\u76ee\u5b9e\u6218","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 42788  \u9605\u8bfb86\u5206\u949f</p> <p>https://juejin.cn/post/6844903985338400782</p> <p>2019-11-0</p> <p>171,863</p> <p>\u9605\u8bfb26\u5206\u949f</p>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#react-hooks","title":"React Hooks","text":""},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#hooks","title":"\u4e00\u3001\u4ec0\u4e48\u662f Hooks","text":"<ul> <li>React \u4e00\u76f4\u90fd\u63d0\u5021\u4f7f\u7528****\u51fd\u6570\u7ec4\u4ef6*\uff0c\u4f46\u662f\u6709\u65f6\u5019\u9700\u8981\u4f7f\u7528 state \u6216\u8005\u5176\u4ed6\u4e00\u4e9b\u529f\u80fd\u65f6\uff0c\u53ea\u80fd\u4f7f\u7528*\u7c7b\u7ec4\u4ef6****\uff0c\u56e0\u4e3a\u51fd\u6570\u7ec4\u4ef6\u6ca1\u6709\u5b9e\u4f8b\uff0c\u6ca1\u6709\u751f\u547d\u5468\u671f\u51fd\u6570\uff0c\u53ea\u6709\u7c7b\u7ec4\u4ef6\u624d\u6709</li> <li>Hooks \u662f React 16.8 \u65b0\u589e\u7684\u7279\u6027\uff0c\u5b83\u53ef\u4ee5\u8ba9\u4f60\u5728\u4e0d\u7f16\u5199 class \u7684\u60c5\u51b5\u4e0b\u4f7f\u7528 state \u4ee5\u53ca\u5176\u4ed6\u7684 React \u7279\u6027</li> <li>\u5982\u679c\u4f60\u5728\u7f16\u5199\u51fd\u6570\u7ec4\u4ef6\u5e76\u610f\u8bc6\u5230\u9700\u8981\u5411\u5176\u6dfb\u52a0\u4e00\u4e9b state\uff0c\u4ee5\u524d\u7684\u505a\u6cd5\u662f\u5fc5\u987b\u5c06\u5176\u5b83\u8f6c\u5316\u4e3a class\u3002\u73b0\u5728\u4f60\u53ef\u4ee5\u76f4\u63a5\u5728\u73b0\u6709\u7684\u51fd\u6570\u7ec4\u4ef6\u4e2d\u4f7f\u7528 Hooks</li> <li>\u51e1\u662f use \u5f00\u5934\u7684 React API \u90fd\u662f Hooks</li> </ul>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#hooks_1","title":"\u4e8c\u3001Hooks \u89e3\u51b3\u7684\u95ee\u9898","text":""},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#1","title":"1. \u7c7b\u7ec4\u4ef6\u7684\u4e0d\u8db3","text":"<ul> <li> <p>\u72b6\u6001\u903b\u8f91\u96be\u590d\u7528\uff1a \u5728\u7ec4\u4ef6\u4e4b\u95f4\u590d\u7528\u72b6\u6001\u903b\u8f91\u5f88\u96be\uff0c\u53ef\u80fd\u8981\u7528\u5230 render props \uff08\u6e32\u67d3\u5c5e\u6027\uff09\u6216\u8005 HOC\uff08\u9ad8\u9636\u7ec4\u4ef6\uff09\uff0c\u4f46\u65e0\u8bba\u662f\u6e32\u67d3\u5c5e\u6027\uff0c\u8fd8\u662f\u9ad8\u9636\u7ec4\u4ef6\uff0c\u90fd\u4f1a\u5728\u539f\u5148\u7684\u7ec4\u4ef6\u5916\u5305\u88f9\u4e00\u5c42\u7236\u5bb9\u5668\uff08\u4e00\u822c\u90fd\u662f div \u5143\u7d20\uff09\uff0c\u5bfc\u81f4\u5c42\u7ea7\u5197\u4f59</p> </li> <li> <p>\u8d8b\u5411\u590d\u6742\u96be\u4ee5\u7ef4\u62a4\uff1a</p> </li> <li> <p>\u5728\u751f\u547d\u5468\u671f\u51fd\u6570\u4e2d\u6df7\u6742\u4e0d\u76f8\u5e72\u7684\u903b\u8f91\uff08\u5982\uff1a\u5728 <code>componentDidMount</code> \u4e2d\u6ce8\u518c\u4e8b\u4ef6\u4ee5\u53ca\u5176\u4ed6\u7684\u903b\u8f91\uff0c\u5728 <code>componentWillUnmount</code> \u4e2d\u5378\u8f7d\u4e8b\u4ef6\uff0c\u8fd9\u6837\u5206\u6563\u4e0d\u96c6\u4e2d\u7684\u5199\u6cd5\uff0c\u5f88\u5bb9\u6613\u5199\u51fa bug \uff09</p> </li> <li> <p>\u7c7b\u7ec4\u4ef6\u4e2d\u5230\u5904\u90fd\u662f\u5bf9\u72b6\u6001\u7684\u8bbf\u95ee\u548c\u5904\u7406\uff0c\u5bfc\u81f4\u7ec4\u4ef6\u96be\u4ee5\u62c6\u5206\u6210\u66f4\u5c0f\u7684\u7ec4\u4ef6</p> </li> <li> <p>this \u6307\u5411\u95ee\u9898</p> </li> </ul> <p>\uff1a\u7236\u7ec4\u4ef6\u7ed9\u5b50\u7ec4\u4ef6\u4f20\u9012\u51fd\u6570\u65f6\uff0c\u5fc5\u987b\u7ed1\u5b9a this</p> <ul> <li>react \u4e2d\u7684\u7ec4\u4ef6\u56db\u79cd\u7ed1\u5b9a this \u65b9\u6cd5\u7684\u533a\u522b</li> </ul> <pre><code>class App extends React.Component&lt;any, any&gt; {\n    handleClick2;\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            num: 1,\n            title: ' react study'\n        };\n        this.handleClick2 = this.handleClick1.bind(this);\n    }\n\n    handleClick1() {\n        this.setState({\n            num: this.state.num + 1,\n        })\n    }\n\n    handleClick3 = () =&gt; {\n        this.setState({\n            num: this.state.num + 1,\n        })\n    };\n\n    render() {\n        return (&lt;div&gt;\n            &lt;h2&gt;Ann, {this.state.num}&lt;/h2&gt;\n            &lt;button onClick={this.handleClick2}&gt;btn1&lt;/button&gt;\n            &lt;button onClick={this.handleClick1.bind(this)}&gt;btn2&lt;/button&gt;\n            &lt;button onClick={() =&gt; this.handleClick1()}&gt;btn3&lt;/button&gt;\n            &lt;button onClick={this.handleClick3}&gt;btn4&lt;/button&gt;\n        &lt;/div&gt;)\n    }\n}\n</code></pre> <p>\u524d\u63d0\uff1a\u5b50\u7ec4\u4ef6\u5185\u90e8\u505a\u4e86\u6027\u80fd\u4f18\u5316\uff0c\u5982\uff08React.PureComponent\uff09</p> <ul> <li>\u7b2c\u4e00\u79cd\u662f**\u5728\u6784\u9020\u51fd\u6570\u4e2d\u7ed1\u5b9a this**\uff1a\u90a3\u4e48\u6bcf\u6b21\u7236\u7ec4\u4ef6\u5237\u65b0\u7684\u65f6\u5019\uff0c\u5982\u679c\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\u5176\u4ed6\u7684 props \u503c\u4e0d\u53d8\uff0c\u90a3\u4e48\u5b50\u7ec4\u4ef6\u5c31\u4e0d\u4f1a\u5237\u65b0\uff1b</li> <li>\u7b2c\u4e8c\u79cd\u662f**\u5728 render() \u51fd\u6570\u91cc\u9762\u7ed1\u5b9a this**\uff1a\u56e0\u4e3a bind \u51fd\u6570\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\uff0c\u6240\u4ee5\u6bcf\u6b21\u7236\u7ec4\u4ef6\u5237\u65b0\u65f6\uff0c\u90fd\u4f1a\u91cd\u65b0\u751f\u6210\u4e00\u4e2a\u51fd\u6570\uff0c\u5373\u4f7f\u7236\u7ec4\u4ef6\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\u5176\u4ed6\u7684 props \u503c\u4e0d\u53d8\uff0c\u5b50\u7ec4\u4ef6\u6bcf\u6b21\u90fd\u4f1a\u5237\u65b0\uff1b</li> <li>\u7b2c\u4e09\u79cd\u662f**\u4f7f\u7528\u7bad\u5934\u51fd\u6570**\uff1a\u7236\u7ec4\u4ef6\u5237\u65b0\u7684\u65f6\u5019\uff0c\u5373\u4f7f\u4e24\u4e2a\u7bad\u5934\u51fd\u6570\u7684\u51fd\u6570\u4f53\u662f\u4e00\u6837\u7684\uff0c\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u7bad\u5934\u51fd\u6570\uff0c\u6240\u4ee5\u5b50\u7ec4\u4ef6\u6bcf\u6b21\u90fd\u4f1a\u5237\u65b0\uff1b</li> <li>\u7b2c\u56db\u79cd\u662f**\u4f7f\u7528\u7c7b\u7684\u9759\u6001\u5c5e\u6027\uff1a\u539f\u7406\u548c\u7b2c\u4e00\u79cd\u65b9\u6cd5\u5dee\u4e0d\u591a\uff0c\u6bd4\u7b2c\u4e00\u79cd\u66f4\u7b80\u6d01**</li> </ul> <p>\u7efc\u4e0a\u6240\u8ff0\uff0c\u5982\u679c\u4e0d\u6ce8\u610f\u7684\u8bdd\uff0c\u5f88\u5bb9\u6613\u5199\u6210\u7b2c\u4e09\u79cd\u5199\u6cd5\uff0c\u5bfc\u81f4\u6027\u80fd\u4e0a\u6709\u6240\u635f\u8017\u3002</p>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#2-hooks","title":"2. Hooks \u4f18\u52bf","text":"<ul> <li>\u80fd\u4f18\u5316\u7c7b\u7ec4\u4ef6\u7684\u4e09\u5927\u95ee\u9898</li> <li>\u80fd\u5728\u65e0\u9700\u4fee\u6539\u7ec4\u4ef6\u7ed3\u6784\u7684\u60c5\u51b5\u4e0b\u590d\u7528\u72b6\u6001\u903b\u8f91\uff08\u81ea\u5b9a\u4e49 Hooks \uff09</li> <li>\u80fd\u5c06\u7ec4\u4ef6\u4e2d\u76f8\u4e92\u5173\u8054\u7684\u90e8\u5206\u62c6\u5206\u6210\u66f4\u5c0f\u7684\u51fd\u6570\uff08\u6bd4\u5982\u8bbe\u7f6e\u8ba2\u9605\u6216\u8bf7\u6c42\u6570\u636e\uff09</li> <li>\u526f\u4f5c\u7528\u7684\u5173\u6ce8\u70b9\u5206\u79bb\uff1a\u526f\u4f5c\u7528\u6307\u90a3\u4e9b\u6ca1\u6709\u53d1\u751f\u5728\u6570\u636e\u5411\u89c6\u56fe\u8f6c\u6362\u8fc7\u7a0b\u4e2d\u7684\u903b\u8f91\uff0c\u5982 <code>ajax</code> \u8bf7\u6c42\u3001\u8bbf\u95ee\u539f\u751f<code>dom</code> \u5143\u7d20\u3001\u672c\u5730\u6301\u4e45\u5316\u7f13\u5b58\u3001\u7ed1\u5b9a/\u89e3\u7ed1\u4e8b\u4ef6\u3001\u6dfb\u52a0\u8ba2\u9605\u3001\u8bbe\u7f6e\u5b9a\u65f6\u5668\u3001\u8bb0\u5f55\u65e5\u5fd7\u7b49\u3002\u4ee5\u5f80\u8fd9\u4e9b\u526f\u4f5c\u7528\u90fd\u662f\u5199\u5728\u7c7b\u7ec4\u4ef6\u751f\u547d\u5468\u671f\u51fd\u6570\u4e2d\u7684\u3002\u800c <code>useEffect</code> \u5728\u5168\u90e8\u6e32\u67d3\u5b8c\u6bd5\u540e\u624d\u4f1a\u6267\u884c\uff0c<code>useLayoutEffect</code> \u4f1a\u5728\u6d4f\u89c8\u5668 <code>layout</code> \u4e4b\u540e\uff0c<code>painting</code> \u4e4b\u524d\u6267\u884c\u3002</li> </ul>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#_1","title":"\u4e09\u3001\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u53ea\u80fd\u5728***\u51fd\u6570\u5185\u90e8\u7684\u6700\u5916\u5c42***\u8c03\u7528 Hook\uff0c\u4e0d\u8981\u5728\u5faa\u73af\u3001\u6761\u4ef6\u5224\u65ad\u6216\u8005\u5b50\u51fd\u6570\u4e2d\u8c03\u7528</li> <li>\u53ea\u80fd\u5728 React \u7684***\u51fd\u6570\u7ec4\u4ef6***\u4e2d\u8c03\u7528 Hook\uff0c\u4e0d\u8981\u5728\u5176\u4ed6 JavaScript \u51fd\u6570\u4e2d\u8c03\u7528</li> <li>https://reactjs.org/warnings/invalid-hook-call-warning.html</li> </ul>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#usestate-usememo-usecallback","title":"\u56db\u3001useState &amp; useMemo &amp; useCallback","text":"<ul> <li> <p>React \u5047\u8bbe\u5f53\u4f60\u591a\u6b21\u8c03\u7528 useState \u7684\u65f6\u5019\uff0c\u4f60\u80fd\u4fdd\u8bc1\u6bcf\u6b21\u6e32\u67d3\u65f6\u5b83\u4eec\u7684***\u8c03\u7528\u987a\u5e8f***\u662f\u4e0d\u53d8\u7684\u3002</p> </li> <li> <p>\u901a\u8fc7\u5728\u51fd\u6570\u7ec4\u4ef6\u91cc\u8c03\u7528\u5b83\u6765\u7ed9\u7ec4\u4ef6\u6dfb\u52a0\u4e00\u4e9b\u5185\u90e8 state\uff0cReact\u4f1a \u5728\u91cd\u590d\u6e32\u67d3\u65f6\u4fdd\u7559\u8fd9\u4e2a state</p> </li> <li> <p>useState \u552f\u4e00\u7684\u53c2\u6570\u5c31\u662f\u521d\u59cb state</p> </li> <li> <p>useState \u4f1a\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff1a</p> </li> </ul> <p>\u4e00\u4e2a state\uff0c\u4e00\u4e2a\u66f4\u65b0 state \u7684\u51fd\u6570</p> <ul> <li>\u5728\u521d\u59cb\u5316\u6e32\u67d3\u671f\u95f4\uff0c\u8fd4\u56de\u7684\u72b6\u6001 (state) \u4e0e\u4f20\u5165\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570 (initialState) \u503c\u76f8\u540c</li> <li>\u4f60\u53ef\u4ee5\u5728\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u4e2d\u6216\u5176\u4ed6\u4e00\u4e9b\u5730\u65b9\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u3002\u5b83\u7c7b\u4f3c class \u7ec4\u4ef6\u7684 this.setState\uff0c\u4f46\u662f\u5b83**\u4e0d\u4f1a\u628a\u65b0\u7684 state \u548c\u65e7\u7684 state \u8fdb\u884c\u5408\u5e76\uff0c\u800c\u662f\u76f4\u63a5\u66ff\u6362**</li> </ul> <pre><code>// \u8fd9\u91cc\u53ef\u4ee5\u4efb\u610f\u547d\u540d\uff0c\u56e0\u4e3a\u8fd4\u56de\u7684\u662f\u6570\u7ec4\uff0c\u6570\u7ec4\u89e3\u6784\nconst [state, setState] = useState(initialState);\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#41","title":"4.1 \u4f7f\u7528\u4f8b\u5b50","text":"<pre><code>import React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nfunction Child1(props) {\n  const { num, handleClick } = props;\n  return (\n    &lt;div\n      onClick={() =&gt; {\n        handleClick(num + 1);\n      }}\n    &gt;\n      child\n    &lt;/div&gt;\n  );\n}\n\nfunction Child2(props) {\n  const { text, handleClick } = props;\n  return (\n    &lt;div&gt;\n      child2\n      &lt;Grandson text={text} handleClick={handleClick} /&gt;\n    &lt;/div&gt;\n  );\n}\n\nfunction Grandson(props) {\n  const { text, handleClick } = props;\n  return (\n    &lt;div\n      onClick={() =&gt; {\n        handleClick(text + 1);\n      }}\n    &gt;\n      grandson\n    &lt;/div&gt;\n  );\n}\n\nfunction Parent() {\n  let [num, setNum] = useState(0);\n  let [text, setText] = useState(1);\n\n  return (\n    &lt;div&gt;\n      &lt;Child1 num={num} handleClick={setNum} /&gt;\n      &lt;Child2 text={text} handleClick={setText} /&gt;\n    &lt;/div&gt;\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(&lt;Parent /&gt;, rootElement);\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#42","title":"4.2 \u6bcf\u6b21\u6e32\u67d3\u90fd\u662f\u72ec\u7acb\u7684\u95ed\u5305","text":"<ul> <li>\u6bcf\u4e00\u6b21\u6e32\u67d3\u90fd\u6709\u5b83\u81ea\u5df1\u7684 Props \u548c State</li> <li>\u6bcf\u4e00\u6b21\u6e32\u67d3\u90fd\u6709\u5b83\u81ea\u5df1\u7684\u4e8b\u4ef6\u5904\u7406\u51fd\u6570</li> <li>\u5f53\u70b9\u51fb\u66f4\u65b0\u72b6\u6001\u7684\u65f6\u5019\uff0c\u51fd\u6570\u7ec4\u4ef6\u90fd\u4f1a\u91cd\u65b0\u88ab\u8c03\u7528\uff0c\u90a3\u4e48\u6bcf\u6b21\u6e32\u67d3\u90fd\u662f\u72ec\u7acb\u7684\uff0c\u53d6\u5230\u7684\u503c\u4e0d\u4f1a\u53d7\u540e\u9762\u64cd\u4f5c\u7684\u5f71\u54cd</li> </ul> <pre><code>function Counter2(){\n  let [number,setNumber] = useState(0);\n  function alertNumber(){\n    setTimeout(()=&gt;{\n      // alert \u53ea\u80fd\u83b7\u53d6\u5230\u70b9\u51fb\u6309\u94ae\u65f6\u7684\u90a3\u4e2a\u72b6\u6001\n      alert(number);\n    },3000);\n  }\n  return (\n      &lt;&gt;\n          &lt;p&gt;{number}&lt;/p&gt;\n          &lt;button onClick={()=&gt;setNumber(number+1)}&gt;+&lt;/button&gt;\n          &lt;button onClick={alertNumber}&gt;alertNumber&lt;/button&gt;\n      &lt;/&gt;\n  )\n}\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#43","title":"4.3 \u51fd\u6570\u5f0f\u66f4\u65b0","text":"<ul> <li>\u5982\u679c\u65b0\u7684 state \u9700\u8981\u901a\u8fc7\u4f7f\u7528\u5148\u524d\u7684 state \u8ba1\u7b97\u5f97\u51fa\uff0c\u90a3\u4e48\u53ef\u4ee5\u5c06\u56de\u8c03\u51fd\u6570\u5f53\u505a\u53c2\u6570\u4f20\u9012\u7ed9 setState\u3002\u8be5\u56de\u8c03\u51fd\u6570\u5c06\u63a5\u6536\u5148\u524d\u7684 state\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u66f4\u65b0\u540e\u7684\u503c\u3002</li> </ul> <pre><code>function Counter(){\n    let [number,setNumber] = useState(0);\n    function lazy(){\n        setTimeout(() =&gt; {\n            // setNumber(number+1);\n            // \u8fd9\u6837\u6bcf\u6b21\u6267\u884c\u65f6\u90fd\u4f1a\u53bb\u83b7\u53d6\u4e00\u904d state\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u70b9\u51fb\u89e6\u53d1\u65f6\u7684\u90a3\u4e2a state\n            setNumber(number=&gt;number+1);\n        }, 3000);\n    }\n    return (\n        &lt;&gt;\n           &lt;p&gt;{number}&lt;/p&gt;\n           &lt;button onClick={()=&gt;setNumber(number+1)}&gt;+&lt;/button&gt;\n           &lt;button onClick={lazy}&gt;lazy&lt;/button&gt;\n        &lt;/&gt;\n    )\n}\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#44-state","title":"4.4 \u60f0\u6027\u521d\u59cb\u5316 state","text":"<ul> <li>initialState \u53c2\u6570\u53ea\u4f1a\u5728\u7ec4\u4ef6\u7684\u521d\u59cb\u5316\u6e32\u67d3\u4e2d\u8d77\u4f5c\u7528\uff0c\u540e\u7eed\u6e32\u67d3\u65f6\u4f1a\u88ab\u5ffd\u7565</li> <li>\u5982\u679c\u521d\u59cb state \u9700\u8981\u901a\u8fc7\u590d\u6742\u8ba1\u7b97\u83b7\u5f97\uff0c\u5219\u53ef\u4ee5\u4f20\u5165\u4e00\u4e2a\u51fd\u6570\uff0c\u5728\u51fd\u6570\u4e2d\u8ba1\u7b97\u5e76\u8fd4\u56de\u521d\u59cb\u7684 state\uff0c\u6b64\u51fd\u6570\u53ea\u5728\u521d\u59cb\u6e32\u67d3\u65f6\u88ab\u8c03\u7528</li> </ul> <pre><code>function Counter5(props){\n    console.log('Counter5 render');\n    // \u8fd9\u4e2a\u51fd\u6570\u53ea\u5728\u521d\u59cb\u6e32\u67d3\u65f6\u6267\u884c\u4e00\u6b21\uff0c\u540e\u7eed\u66f4\u65b0\u72b6\u6001\u91cd\u65b0\u6e32\u67d3\u7ec4\u4ef6\u65f6\uff0c\u8be5\u51fd\u6570\u5c31\u4e0d\u4f1a\u518d\u88ab\u8c03\u7528\n    function getInitState(){\n        return {number:props.number};\n    }\n    let [counter,setCounter] = useState(getInitState);\n    return (\n        &lt;&gt;\n           &lt;p&gt;{counter.number}&lt;/p&gt;\n           &lt;button onClick={()=&gt;setCounter({number:counter.number+1})}&gt;+&lt;/button&gt;\n           &lt;button onClick={()=&gt;setCounter(counter)}&gt;setCounter&lt;/button&gt;\n        &lt;/&gt;\n    )\n}\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#45","title":"4.5 \u6027\u80fd\u4f18\u5316","text":""},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#451-objectis","title":"4.5.1 Object.is \uff08\u6d45\u6bd4\u8f83\uff09","text":"<ul> <li>Hook \u5185\u90e8\u4f7f\u7528 Object.is \u6765\u6bd4\u8f83\u65b0/\u65e7 state \u662f\u5426\u76f8\u7b49</li> <li>\u4e0e class \u7ec4\u4ef6\u4e2d\u7684 setState \u65b9\u6cd5\u4e0d\u540c\uff0c\u5982\u679c\u4f60\u4fee\u6539\u72b6\u6001\u7684\u65f6\u5019\uff0c\u4f20\u7684\u72b6\u6001\u503c\u6ca1\u6709\u53d8\u5316\uff0c\u5219\u4e0d\u91cd\u65b0\u6e32\u67d3</li> <li>\u4e0e class \u7ec4\u4ef6\u4e2d\u7684 setState \u65b9\u6cd5\u4e0d\u540c\uff0cuseState \u4e0d\u4f1a\u81ea\u52a8\u5408\u5e76\u66f4\u65b0\u5bf9\u8c61\u3002\u4f60\u53ef\u4ee5\u7528\u51fd\u6570\u5f0f\u7684 setState \u7ed3\u5408\u5c55\u5f00\u8fd0\u7b97\u7b26\u6765\u8fbe\u5230\u5408\u5e76\u66f4\u65b0\u5bf9\u8c61\u7684\u6548\u679c</li> </ul> <pre><code>function Counter(){\n    const [counter,setCounter] = useState({name:'\u8ba1\u6570\u5668',number:0});\n    console.log('render Counter')\n    // \u5982\u679c\u4f60\u4fee\u6539\u72b6\u6001\u7684\u65f6\u5019\uff0c\u4f20\u7684\u72b6\u6001\u503c\u6ca1\u6709\u53d8\u5316\uff0c\u5219\u4e0d\u91cd\u65b0\u6e32\u67d3\n    return (\n        &lt;&gt;\n            &lt;p&gt;{counter.name}:{counter.number}&lt;/p&gt;\n            &lt;button onClick={()=&gt;setCounter({...counter,number:counter.number+1})}&gt;+&lt;/button&gt;\n            &lt;button onClick={()=&gt;setCounter(counter)}&gt;++&lt;/button&gt;\n        &lt;/&gt;\n    )\n}\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#452","title":"4.5.2 \u51cf\u5c11\u6e32\u67d3\u6b21\u6570","text":"<ul> <li>\u9ed8\u8ba4\u60c5\u51b5\uff0c\u53ea\u8981\u7236\u7ec4\u4ef6\u72b6\u6001\u53d8\u4e86\uff08\u4e0d\u7ba1\u5b50\u7ec4\u4ef6\u4f9d\u4e0d\u4f9d\u8d56\u8be5\u72b6\u6001\uff09\uff0c\u5b50\u7ec4\u4ef6\u4e5f\u4f1a\u91cd\u65b0\u6e32\u67d3</li> <li>\u4e00\u822c\u7684\u4f18\u5316\uff1a</li> <li>\u7c7b\u7ec4\u4ef6\uff1a\u53ef\u4ee5\u4f7f\u7528 <code>pureComponent</code> \uff1b</li> <li>\u51fd\u6570\u7ec4\u4ef6\uff1a\u4f7f\u7528 <code>React.memo</code> \uff0c\u5c06\u51fd\u6570\u7ec4\u4ef6\u4f20\u9012\u7ed9 <code>memo</code> \u4e4b\u540e\uff0c\u5c31\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u7ec4\u4ef6\uff0c\u65b0\u7ec4\u4ef6\u7684\u529f\u80fd\uff1a\u5982\u679c\u63a5\u53d7\u5230\u7684\u5c5e\u6027\u4e0d\u53d8\uff0c\u5219\u4e0d\u91cd\u65b0\u6e32\u67d3\u51fd\u6570\uff1b</li> <li>\u4f46\u662f\u600e\u4e48\u4fdd\u8bc1\u5c5e\u6027\u4e0d\u4f1a\u53d8\u5c3c\uff1f\u8fd9\u91cc\u4f7f\u7528 useState \uff0c\u6bcf\u6b21\u66f4\u65b0\u90fd\u662f\u72ec\u7acb\u7684\uff0c<code>const [number,setNumber] = useState(0)</code> \u4e5f\u5c31\u662f\u8bf4\u6bcf\u6b21\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u503c\uff08\u54ea\u6015\u8fd9\u4e2a\u503c\u6ca1\u6709\u53d8\u5316\uff09\uff0c\u5373\u4f7f\u4f7f\u7528\u4e86 <code>React.memo</code> \uff0c\u4e5f\u8fd8\u662f\u4f1a\u91cd\u65b0\u6e32\u67d3</li> </ul> <pre><code>import React,{useState,memo,useMemo,useCallback} from 'react';\n\nfunction SubCounter({onClick,data}){\n    console.log('SubCounter render');\n    return (\n        &lt;button onClick={onClick}&gt;{data.number}&lt;/button&gt;\n    )\n}\nSubCounter = memo(SubCounter);\n\nexport  default  function Counter6(){\n    console.log('Counter render');\n    const [name,setName]= useState('\u8ba1\u6570\u5668');\n    const [number,setNumber] = useState(0);\n    const data ={number};\n    const addClick = ()=&gt;{\n        setNumber(number+1);\n    };\n    return (\n        &lt;&gt;\n            &lt;input type=\"text\" value={name} onChange={(e)=&gt;setName(e.target.value)}/&gt;\n            &lt;SubCounter data={data} onClick={addClick}/&gt;\n        &lt;/&gt;\n    )\n}\n</code></pre> <ul> <li>\u66f4\u6df1\u5165\u7684\u4f18\u5316\uff1a</li> <li>useCallback\uff1a\u63a5\u6536\u4e00\u4e2a\u5185\u8054\u56de\u8c03\u51fd\u6570\u53c2\u6570\u548c\u4e00\u4e2a\u4f9d\u8d56\u9879\u6570\u7ec4\uff08\u5b50\u7ec4\u4ef6\u4f9d\u8d56\u7236\u7ec4\u4ef6\u7684\u72b6\u6001\uff0c\u5373\u5b50\u7ec4\u4ef6\u4f1a\u4f7f\u7528\u5230\u7236\u7ec4\u4ef6\u7684\u503c\uff09 \uff0cuseCallback \u4f1a\u8fd4\u56de\u8be5\u56de\u8c03\u51fd\u6570\u7684 memoized \u7248\u672c\uff0c\u8be5\u56de\u8c03\u51fd\u6570\u4ec5\u5728\u67d0\u4e2a\u4f9d\u8d56\u9879\u6539\u53d8\u65f6\u624d\u4f1a\u66f4\u65b0</li> <li>useMemo\uff1a\u628a\u521b\u5efa\u51fd\u6570\u548c\u4f9d\u8d56\u9879\u6570\u7ec4\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165 <code>useMemo</code>\uff0c\u5b83\u4ec5\u4f1a\u5728\u67d0\u4e2a\u4f9d\u8d56\u9879\u6539\u53d8\u65f6\u624d\u91cd\u65b0\u8ba1\u7b97 memoized \u503c\u3002\u8fd9\u79cd\u4f18\u5316\u6709\u52a9\u4e8e\u907f\u514d\u5728\u6bcf\u6b21\u6e32\u67d3\u65f6\u90fd\u8fdb\u884c\u9ad8\u5f00\u9500\u7684\u8ba1\u7b97</li> </ul> <pre><code>import React,{useState,memo,useMemo,useCallback} from 'react';\n\nfunction SubCounter({onClick,data}){\n    console.log('SubCounter render');\n    return (\n        &lt;button onClick={onClick}&gt;{data.number}&lt;/button&gt;\n    )\n}\nSubCounter = memo(SubCounter);\n\nlet oldData,oldAddClick;\nexport  default  function Counter2(){\n    console.log('Counter render');\n    const [name,setName]= useState('\u8ba1\u6570\u5668');\n    const [number,setNumber] = useState(0);\n    // \u7236\u7ec4\u4ef6\u66f4\u65b0\u65f6\uff0c\u8fd9\u91cc\u7684\u53d8\u91cf\u548c\u51fd\u6570\u6bcf\u6b21\u90fd\u4f1a\u91cd\u65b0\u521b\u5efa\uff0c\u90a3\u4e48\u5b50\u7ec4\u4ef6\u63a5\u53d7\u5230\u7684\u5c5e\u6027\u6bcf\u6b21\u90fd\u4f1a\u8ba4\u4e3a\u662f\u65b0\u7684\n    // \u6240\u4ee5\u5b50\u7ec4\u4ef6\u4e5f\u4f1a\u968f\u4e4b\u66f4\u65b0\uff0c\u8fd9\u65f6\u5019\u53ef\u4ee5\u7528\u5230 useMemo\n    // \u6709\u6ca1\u6709\u540e\u9762\u7684\u4f9d\u8d56\u9879\u6570\u7ec4\u5f88\u91cd\u8981\uff0c\u5426\u5219\u8fd8\u662f\u4f1a\u91cd\u65b0\u6e32\u67d3\n    // \u5982\u679c\u540e\u9762\u7684\u4f9d\u8d56\u9879\u6570\u7ec4\u6ca1\u6709\u503c\u7684\u8bdd\uff0c\u5373\u4f7f\u7236\u7ec4\u4ef6\u7684 number \u503c\u6539\u53d8\u4e86\uff0c\u5b50\u7ec4\u4ef6\u4e5f\u4e0d\u4f1a\u53bb\u66f4\u65b0\n    //const data = useMemo(()=&gt;({number}),[]);\n    const data = useMemo(()=&gt;({number}),[number]);\n    console.log('data===oldData ',data===oldData);\n    oldData = data;\n\n    // \u6709\u6ca1\u6709\u540e\u9762\u7684\u4f9d\u8d56\u9879\u6570\u7ec4\u5f88\u91cd\u8981\uff0c\u5426\u5219\u8fd8\u662f\u4f1a\u91cd\u65b0\u6e32\u67d3\n    const addClick = useCallback(()=&gt;{\n        setNumber(number+1);\n    },[number]);\n    console.log('addClick===oldAddClick ',addClick===oldAddClick);\n    oldAddClick=addClick;\n    return (\n        &lt;&gt;\n            &lt;input type=\"text\" value={name} onChange={(e)=&gt;setName(e.target.value)}/&gt;\n            &lt;SubCounter data={data} onClick={addClick}/&gt;\n        &lt;/&gt;\n    )\n}\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#usereducer","title":"\u4e94\u3001useReducer","text":"<ul> <li>useReducer \u548c redux \u4e2d reducer \u5f88\u50cf</li> <li>useState \u5185\u90e8\u5c31\u662f\u9760 useReducer \u6765\u5b9e\u73b0\u7684</li> <li>useState \u7684\u66ff\u4ee3\u65b9\u6848\uff0c\u5b83\u63a5\u6536\u4e00\u4e2a\u5f62\u5982 (state, action) =&gt; newState \u7684 reducer\uff0c\u5e76\u8fd4\u56de\u5f53\u524d\u7684 state \u4ee5\u53ca\u4e0e\u5176\u914d\u5957\u7684 dispatch \u65b9\u6cd5</li> <li>\u5728\u67d0\u4e9b\u573a\u666f\u4e0b\uff0cuseReducer \u4f1a\u6bd4 useState \u66f4\u9002\u7528\uff0c\u4f8b\u5982 state \u903b\u8f91\u8f83\u590d\u6742\u4e14\u5305\u542b\u591a\u4e2a\u5b50\u503c\uff0c\u6216\u8005\u4e0b\u4e00\u4e2a state \u4f9d\u8d56\u4e8e\u4e4b\u524d\u7684 state \u7b49</li> </ul> <pre><code>let initialState = 0;\n// \u5982\u679c\u4f60\u5e0c\u671b\u521d\u59cb\u72b6\u6001\u662f\u4e00\u4e2a{number:0}\n// \u53ef\u4ee5\u5728\u7b2c\u4e09\u4e2a\u53c2\u6570\u4e2d\u4f20\u9012\u4e00\u4e2a\u8fd9\u6837\u7684\u51fd\u6570 ()=&gt;({number:initialState})\n// \u8fd9\u4e2a\u51fd\u6570\u662f\u4e00\u4e2a\u60f0\u6027\u521d\u59cb\u5316\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u6765\u8fdb\u884c\u590d\u6742\u7684\u8ba1\u7b97\uff0c\u7136\u540e\u8fd4\u56de\u6700\u7ec8\u7684 initialState\nconst [state, dispatch] = useReducer(reducer, initialState, init);\n\nconst initialState = 0;\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'increment':\n      return {number: state.number + 1};\n    case 'decrement':\n      return {number: state.number - 1};\n    default:\n      throw new Error();\n  }\n}\nfunction init(initialState){\n    return {number:initialState};\n}\nfunction Counter(){\n    const [state, dispatch] = useReducer(reducer, initialState,init);\n    return (\n        &lt;&gt;\n          Count: {state.number}\n          &lt;button onClick={() =&gt; dispatch({type: 'increment'})}&gt;+&lt;/button&gt;\n          &lt;button onClick={() =&gt; dispatch({type: 'decrement'})}&gt;-&lt;/button&gt;\n        &lt;/&gt;\n    )\n}\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#usecontext","title":"\u516d\u3001useContext","text":"<ul> <li>\u63a5\u6536\u4e00\u4e2a context \u5bf9\u8c61\uff08React.createContext \u7684\u8fd4\u56de\u503c\uff09\u5e76\u8fd4\u56de\u8be5 context \u7684\u5f53\u524d\u503c</li> <li>\u5f53\u524d\u7684 context \u503c\u7531\u4e0a\u5c42\u7ec4\u4ef6\u4e2d\u8ddd\u79bb\u5f53\u524d\u7ec4\u4ef6\u6700\u8fd1\u7684  \u7684 value prop \u51b3\u5b9a <li>\u5f53\u7ec4\u4ef6\u4e0a\u5c42\u6700\u8fd1\u7684  \u66f4\u65b0\u65f6\uff0c\u8be5 Hook \u4f1a\u89e6\u53d1\u91cd\u6e32\u67d3\uff0c\u5e76\u4f7f\u7528\u6700\u65b0\u4f20\u9012\u7ed9 MyContext provider \u7684 context value \u503c <li>useContext(MyContext) \u76f8\u5f53\u4e8e class \u7ec4\u4ef6\u4e2d\u7684 <code>static contextType = MyContext</code> \u6216\u8005 <code>&lt;MyContext.Consumer&gt;</code></li> <li>useContext(MyContext) \u53ea\u662f\u8ba9\u4f60\u80fd\u591f\u8bfb\u53d6 context \u7684\u503c\u4ee5\u53ca\u8ba2\u9605 context \u7684\u53d8\u5316\u3002\u4f60\u4ecd\u7136\u9700\u8981\u5728\u4e0a\u5c42\u7ec4\u4ef6\u6811\u4e2d\u4f7f\u7528  \u6765\u4e3a\u4e0b\u5c42\u7ec4\u4ef6\u63d0\u4f9b context <pre><code>import React,{useState,memo,useMemo,useCallback,useReducer,createContext,useContext} from 'react';\nimport ReactDOM from 'react-dom';\n\nconst initialState = 0;\nfunction reducer(state=initialState,action){\n    switch(action.type){\n        case 'ADD':\n            return {number:state.number+1};\n        default:\n            break; \n    }\n}\n\nconst CounterContext = createContext();\n// \u7b2c\u4e00\u79cd\u83b7\u53d6 CounterContext \u65b9\u6cd5\uff1a\u4e0d\u4f7f\u7528 hook\nfunction SubCounter_one(){\n    return (\n        &lt;CounterContext.Consumer&gt;\n            {\n                value=&gt;(\n                    &lt;&gt;\n                    &lt;p&gt;{value.state.number}&lt;/p&gt;\n                    &lt;button onClick={()=&gt;value.dispatch({type:'ADD'})}&gt;+&lt;/button&gt;\n                    &lt;/&gt;\n                )\n            }\n\n        &lt;/CounterContext.Consumer&gt;\n    )\n}\n// \u7b2c\u4e8c\u79cd\u83b7\u53d6 CounterContext \u65b9\u6cd5\uff1a\u4f7f\u7528 hook \uff0c\u66f4\u7b80\u6d01\nfunction SubCounter(){\n    const {state, dispatch} = useContext(CounterContext);\n    return (\n        &lt;&gt;\n            &lt;p&gt;{state.number}&lt;/p&gt;\n            &lt;button onClick={()=&gt;dispatch({type:'ADD'})}&gt;+&lt;/button&gt;\n        &lt;/&gt;\n    )\n}\n/* class SubCounter extends React.Component{\n    static contextTypes = CounterContext\n    this.context =  {state, dispatch}\n} */\n\nfunction Counter(){\n    const [state, dispatch] = useReducer((reducer), initialState, ()=&gt;({number:initialState}));\n    return (\n        &lt;CounterContext.Provider value={{state, dispatch}}&gt;\n            &lt;SubCounter/&gt;\n        &lt;/CounterContext.Provider&gt;\n    )\n}\nReactDOM.render(&lt;Counter  /&gt;, document.getElementById('root'));\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#useeffect","title":"\u4e03\u3001useEffect","text":"<ul> <li>effect\uff08\u526f\u4f5c\u7528\uff09\uff1a\u6307\u90a3\u4e9b\u6ca1\u6709\u53d1\u751f\u5728\u6570\u636e\u5411\u89c6\u56fe\u8f6c\u6362\u8fc7\u7a0b\u4e2d\u7684\u903b\u8f91\uff0c\u5982 <code>ajax</code> \u8bf7\u6c42\u3001\u8bbf\u95ee\u539f\u751f<code>dom</code> \u5143\u7d20\u3001\u672c\u5730\u6301\u4e45\u5316\u7f13\u5b58\u3001\u7ed1\u5b9a/\u89e3\u7ed1\u4e8b\u4ef6\u3001\u6dfb\u52a0\u8ba2\u9605\u3001\u8bbe\u7f6e\u5b9a\u65f6\u5668\u3001\u8bb0\u5f55\u65e5\u5fd7\u7b49\u3002</li> <li>\u526f\u4f5c\u7528\u64cd\u4f5c***\u53ef\u4ee5\u5206\u4e24***\u7c7b\uff1a***\u9700\u8981\u6e05\u9664\u7684\u548c\u4e0d\u9700\u8981\u6e05\u9664\u7684***\u3002</li> <li>\u539f\u5148\u5728\u51fd\u6570\u7ec4\u4ef6\u5185\uff08\u8fd9\u91cc\u6307\u5728 React \u6e32\u67d3\u9636\u6bb5\uff09\u6539\u53d8 dom \u3001\u53d1\u9001 ajax \u8bf7\u6c42\u4ee5\u53ca\u6267\u884c\u5176\u4ed6\u5305\u542b\u526f\u4f5c\u7528\u7684\u64cd\u4f5c\u90fd\u662f\u4e0d\u88ab\u5141\u8bb8\u7684\uff0c\u56e0\u4e3a\u8fd9\u53ef\u80fd\u4f1a\u4ea7\u751f\u83ab\u540d\u5176\u5999\u7684 bug \u5e76\u7834\u574f UI \u7684\u4e00\u81f4\u6027</li> <li>useEffect \u5c31\u662f\u4e00\u4e2a Effect Hook\uff0c\u7ed9\u51fd\u6570\u7ec4\u4ef6\u589e\u52a0\u4e86\u64cd\u4f5c\u526f\u4f5c\u7528\u7684\u80fd\u529b\u3002\u5b83\u8ddf class \u7ec4\u4ef6\u4e2d\u7684 <code>componentDidMount</code>\u3001<code>componentDidUpdate</code> \u548c <code>componentWillUnmount</code> \u5177\u6709\u76f8\u540c\u7684\u7528\u9014\uff0c\u53ea\u4e0d\u8fc7\u88ab\u5408\u5e76\u6210\u4e86\u4e00\u4e2a API</li> <li>useEffect \u63a5\u6536\u4e00\u4e2a\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u4f1a\u5728\u7ec4\u4ef6\u6e32\u67d3\u5230\u5c4f\u5e55\u4e4b\u540e\u624d\u6267\u884c\uff0c\u8be5\u51fd\u6570\u6709\u8981\u6c42\uff1a\u8981\u4e48\u8fd4\u56de\u4e00\u4e2a\u80fd\u6e05\u9664\u526f\u4f5c\u7528\u7684\u51fd\u6570\uff0c\u8981\u4e48\u5c31\u4e0d\u8fd4\u56de\u4efb\u4f55\u5185\u5bb9</li> <li>\u4e0e <code>componentDidMount</code> \u6216 <code>componentDidUpdate</code> \u4e0d\u540c\uff0c\u4f7f\u7528 useEffect \u8c03\u5ea6\u7684 effect \u4e0d\u4f1a\u963b\u585e\u6d4f\u89c8\u5668\u66f4\u65b0\u5c4f\u5e55\uff0c\u8fd9\u8ba9\u4f60\u7684\u5e94\u7528\u770b\u8d77\u6765\u54cd\u5e94\u66f4\u5feb\u3002\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0ceffect \u4e0d\u9700\u8981\u540c\u6b65\u5730\u6267\u884c\u3002\u5728\u4e2a\u522b\u60c5\u51b5\u4e0b\uff08\u4f8b\u5982\u6d4b\u91cf\u5e03\u5c40\uff09\uff0c\u6709\u5355\u72ec\u7684 useLayoutEffect Hook \u4f9b\u4f60\u4f7f\u7528\uff0c\u5176 API \u4e0e useEffect \u76f8\u540c\u3002</li> </ul>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#71-class","title":"7.1 \u4f7f\u7528 class \u7ec4\u4ef6\u5b9e\u73b0\u4fee\u6539\u6807\u9898","text":"<ul> <li>\u5728\u8fd9\u4e2a class \u4e2d\uff0c\u6211\u4eec\u9700\u8981\u5728\u4e24\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\u4e2d\u7f16\u5199\u91cd\u590d\u7684\u4ee3\u7801\uff0c\u8fd9\u662f\u56e0\u4e3a\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5e0c\u671b\u5728\u7ec4\u4ef6\u52a0\u8f7d\u548c\u66f4\u65b0\u65f6\u6267\u884c\u540c\u6837\u7684\u64cd\u4f5c\u3002\u6211\u4eec\u5e0c\u671b\u5b83\u5728\u6bcf\u6b21\u6e32\u67d3\u4e4b\u540e\u6267\u884c\uff0c\u4f46 React \u7684 class \u7ec4\u4ef6\u6ca1\u6709\u63d0\u4f9b\u8fd9\u6837\u7684\u65b9\u6cd5\u3002\u5373\u4f7f\u6211\u4eec\u63d0\u53d6\u51fa\u4e00\u4e2a\u65b9\u6cd5\uff0c\u6211\u4eec\u8fd8\u662f\u8981\u5728\u4e24\u4e2a\u5730\u65b9\u8c03\u7528\u5b83\u3002\u800c useEffect \u4f1a\u5728\u7b2c\u4e00\u6b21\u6e32\u67d3\u4e4b\u540e\u548c\u6bcf\u6b21\u66f4\u65b0\u4e4b\u540e\u90fd\u4f1a\u6267\u884c</li> </ul> <pre><code>class Counter extends React.Component{\n    state = {number:0};\n    add = ()=&gt;{\n        this.setState({number:this.state.number+1});\n    };\n    componentDidMount(){\n        this.changeTitle();\n    }\n    componentDidUpdate(){\n        this.changeTitle();\n    }\n    changeTitle = ()=&gt;{\n        document.title = `\u4f60\u5df2\u7ecf\u70b9\u51fb\u4e86${this.state.number}\u6b21`;\n    };\n    render(){\n        return (\n            &lt;&gt;\n              &lt;p&gt;{this.state.number}&lt;/p&gt;\n              &lt;button onClick={this.add}&gt;+&lt;/button&gt;\n            &lt;/&gt;\n        )\n    }\n}\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#72-useeffect","title":"7.2 \u4f7f\u7528 useEffect \u6765\u5b9e\u73b0\u4fee\u6539\u6807\u9898","text":"<ul> <li>\u6bcf\u6b21\u6211\u4eec\u91cd\u65b0\u6e32\u67d3\uff0c\u90fd\u4f1a\u751f\u6210\u65b0\u7684 effect\uff0c\u66ff\u6362\u6389\u4e4b\u524d\u7684\u3002\u67d0\u79cd\u610f\u4e49\u4e0a\u8bb2\uff0ceffect \u66f4\u50cf\u662f\u6e32\u67d3\u7ed3\u679c\u7684\u4e00\u90e8\u5206 \u2014\u2014 \u6bcf\u4e2a effect \u5c5e\u4e8e\u4e00\u6b21\u7279\u5b9a\u7684\u6e32\u67d3\u3002</li> </ul> <pre><code>import React,{Component,useState,useEffect} from 'react';\nimport ReactDOM from 'react-dom';\nfunction Counter(){\n    const [number,setNumber] = useState(0);\n    // useEffect\u91cc\u9762\u7684\u8fd9\u4e2a\u51fd\u6570\u4f1a\u5728\u7b2c\u4e00\u6b21\u6e32\u67d3\u4e4b\u540e\u548c\u66f4\u65b0\u5b8c\u6210\u540e\u6267\u884c\n    // \u76f8\u5f53\u4e8e componentDidMount \u548c componentDidUpdate:\n    useEffect(() =&gt; {\n        document.title = `\u4f60\u70b9\u51fb\u4e86${number}\u6b21`;\n    });\n    return (\n        &lt;&gt;\n            &lt;p&gt;{number}&lt;/p&gt;\n            &lt;button onClick={()=&gt;setNumber(number+1)}&gt;+&lt;/button&gt;\n        &lt;/&gt;\n    )\n}\nReactDOM.render(&lt;Counter /&gt;, document.getElementById('root'));\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#73","title":"7.3 \u6e05\u9664\u526f\u4f5c\u7528","text":"<ul> <li>\u526f\u4f5c\u7528\u51fd\u6570\u8fd8\u53ef\u4ee5\u901a\u8fc7\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\u6765\u6307\u5b9a\u5982\u4f55\u6e05\u9664\u526f\u4f5c\u7528\uff0c\u4e3a\u9632\u6b62\u5185\u5b58\u6cc4\u6f0f\uff0c\u6e05\u9664\u51fd\u6570\u4f1a\u5728***\u7ec4\u4ef6\u5378\u8f7d\u524d***\u6267\u884c\u3002\u5982\u679c\u7ec4\u4ef6\u591a\u6b21\u6e32\u67d3\uff0c\u5219\u5728\u6267\u884c\u4e0b\u4e00\u4e2a effect \u4e4b\u524d\uff0c\u4e0a\u4e00\u4e2a effect \u5c31\u5df2\u88ab\u6e05\u9664\u3002</li> </ul> <pre><code>function Counter(){\n    let [number,setNumber] = useState(0);\n    let [text,setText] = useState('');\n    // \u76f8\u5f53\u4e8ecomponentDidMount \u548c componentDidUpdate\n    useEffect(()=&gt;{\n        console.log('\u5f00\u542f\u4e00\u4e2a\u65b0\u7684\u5b9a\u65f6\u5668')\n        let $timer = setInterval(()=&gt;{\n            setNumber(number=&gt;number+1);\n        },1000);\n        // useEffect \u5982\u679c\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\u7684\u8bdd\uff0c\u8be5\u51fd\u6570\u4f1a\u5728\u7ec4\u4ef6\u5378\u8f7d\u548c\u66f4\u65b0\u65f6\u8c03\u7528\n        // useEffect \u5728\u6267\u884c\u526f\u4f5c\u7528\u51fd\u6570\u4e4b\u524d\uff0c\u4f1a\u5148\u8c03\u7528\u4e0a\u4e00\u6b21\u8fd4\u56de\u7684\u51fd\u6570\n        // \u5982\u679c\u8981\u6e05\u9664\u526f\u4f5c\u7528\uff0c\u8981\u4e48\u8fd4\u56de\u4e00\u4e2a\u6e05\u9664\u526f\u4f5c\u7528\u7684\u51fd\u6570\n       /*  return ()=&gt;{\n            console.log('destroy effect');\n            clearInterval($timer);\n        } */\n    });\n    // },[]);//\u8981\u4e48\u5728\u8fd9\u91cc\u4f20\u5165\u4e00\u4e2a\u7a7a\u7684\u4f9d\u8d56\u9879\u6570\u7ec4\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a\u53bb\u91cd\u590d\u6267\u884c\n    return (\n        &lt;&gt;\n          &lt;input value={text} onChange={(event)=&gt;setText(event.target.value)}/&gt;\n          &lt;p&gt;{number}&lt;/p&gt;\n          &lt;button&gt;+&lt;/button&gt;\n        &lt;/&gt;\n    )\n}\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#74-effect","title":"7.4 \u8df3\u8fc7 effect \u8fdb\u884c\u6027\u80fd\u4f18\u5316","text":"<ul> <li>\u4f9d\u8d56\u9879\u6570\u7ec4\u63a7\u5236\u7740 useEffect \u7684\u6267\u884c</li> <li>\u5982\u679c\u67d0\u4e9b\u7279\u5b9a\u503c\u5728\u4e24\u6b21\u91cd\u6e32\u67d3\u4e4b\u95f4\u6ca1\u6709\u53d1\u751f\u53d8\u5316\uff0c\u4f60\u53ef\u4ee5\u901a\u77e5 React \u8df3\u8fc7\u5bf9 effect \u7684\u8c03\u7528\uff0c\u53ea\u8981\u4f20\u9012\u6570\u7ec4\u4f5c\u4e3a useEffect \u7684\u7b2c\u4e8c\u4e2a\u53ef\u9009\u53c2\u6570\u5373\u53ef</li> <li>\u5982\u679c\u60f3\u6267\u884c\u53ea\u8fd0\u884c\u4e00\u6b21\u7684 effect\uff08\u4ec5\u5728\u7ec4\u4ef6\u6302\u8f7d\u548c\u5378\u8f7d\u65f6\u6267\u884c\uff09\uff0c\u53ef\u4ee5\u4f20\u9012\u4e00\u4e2a\u7a7a\u6570\u7ec4\uff08[]\uff09\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002\u8fd9\u5c31\u544a\u8bc9 React \u4f60\u7684 effect \u4e0d\u4f9d\u8d56\u4e8e props \u6216 state \u4e2d\u7684\u4efb\u4f55\u503c\uff0c\u6240\u4ee5\u5b83\u6c38\u8fdc\u90fd\u4e0d\u9700\u8981\u91cd\u590d\u6267\u884c</li> <li>\u63a8\u8350\u542f\u7528 eslint-plugin-react-hooks \u4e2d\u7684 exhaustive-deps \u89c4\u5219\u3002\u6b64\u89c4\u5219\u4f1a\u5728\u6dfb\u52a0\u9519\u8bef\u4f9d\u8d56\u65f6\u53d1\u51fa\u8b66\u544a\u5e76\u7ed9\u51fa\u4fee\u590d\u5efa\u8bae\u3002</li> </ul> <pre><code>function Counter(){\n    let [number,setNumber] = useState(0);\n    let [text,setText] = useState('');\n    // \u76f8\u5f53\u4e8ecomponentDidMount \u548c componentDidUpdate\n    useEffect(()=&gt;{\n        console.log('useEffect');\n        let $timer = setInterval(()=&gt;{\n            setNumber(number=&gt;number+1);\n        },1000);\n    },[text]);// \u6570\u7ec4\u8868\u793a effect \u4f9d\u8d56\u7684\u53d8\u91cf\uff0c\u53ea\u6709\u5f53\u8fd9\u4e2a\u53d8\u91cf\u53d1\u751f\u6539\u53d8\u4e4b\u540e\u624d\u4f1a\u91cd\u65b0\u6267\u884c efffect \u51fd\u6570\n    return (\n        &lt;&gt;\n          &lt;input value={text} onChange={(event)=&gt;setText(event.target.value)}/&gt;\n          &lt;p&gt;{number}&lt;/p&gt;\n          &lt;button&gt;+&lt;/button&gt;\n        &lt;/&gt;\n    )\n}\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#75-effect","title":"7.5 \u4f7f\u7528\u591a\u4e2a Effect \u5b9e\u73b0\u5173\u6ce8\u70b9\u5206\u79bb","text":"<ul> <li>\u4f7f\u7528 Hook \u5176\u4e2d\u4e00\u4e2a\u76ee\u7684\u5c31\u662f\u8981\u89e3\u51b3 class \u4e2d\u751f\u547d\u5468\u671f\u51fd\u6570\u7ecf\u5e38\u5305\u542b\u4e0d\u76f8\u5173\u7684\u903b\u8f91\uff0c\u4f46\u53c8\u628a\u76f8\u5173\u903b\u8f91\u5206\u79bb\u5230\u4e86\u51e0\u4e2a\u4e0d\u540c\u65b9\u6cd5\u4e2d\u7684\u95ee\u9898\u3002</li> </ul> <pre><code>// \u7c7b\u7ec4\u4ef6\u7248\nclass FriendStatusWithCounter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { count: 0, isOnline: null };\n    this.handleStatusChange = this.handleStatusChange.bind(this);\n  }\n\n  componentDidMount() {\n    document.title = `You clicked ${this.state.count} times`;\n    ChatAPI.subscribeToFriendStatus(\n      this.props.friend.id,\n      this.handleStatusChange\n    );\n  }\n\n  componentDidUpdate() {\n    document.title = `You clicked ${this.state.count} times`;\n  }\n\n  componentWillUnmount() {\n    ChatAPI.unsubscribeFromFriendStatus(\n      this.props.friend.id,\n      this.handleStatusChange\n    );\n  }\n\n  handleStatusChange(status) {\n    this.setState({\n      isOnline: status.isOnline\n    });\n  }\n  // ...\n</code></pre> <ul> <li>\u53ef\u4ee5\u53d1\u73b0\u8bbe\u7f6e <code>document.title</code> \u7684\u903b\u8f91\u662f\u5982\u4f55\u88ab\u5206\u5272\u5230 <code>componentDidMount</code> \u548c <code>componentDidUpdate</code> \u4e2d\u7684\uff0c\u8ba2\u9605\u903b\u8f91\u53c8\u662f\u5982\u4f55\u88ab\u5206\u5272\u5230 <code>componentDidMount</code> \u548c <code>componentWillUnmount</code> \u4e2d\u7684\u3002\u800c\u4e14 <code>componentDidMount</code> \u4e2d\u540c\u65f6\u5305\u542b\u4e86\u4e24\u4e2a\u4e0d\u540c\u529f\u80fd\u7684\u4ee3\u7801\u3002\u8fd9\u6837\u4f1a\u4f7f\u5f97\u751f\u547d\u5468\u671f\u51fd\u6570\u5f88\u6df7\u4e71\u3002</li> <li>Hook \u5141\u8bb8\u6211\u4eec\u6309\u7167\u4ee3\u7801\u7684\u7528\u9014\u5206\u79bb\u4ed6\u4eec\uff0c \u800c\u4e0d\u662f\u50cf\u751f\u547d\u5468\u671f\u51fd\u6570\u90a3\u6837\u3002React \u5c06\u6309\u7167 effect \u58f0\u660e\u7684\u987a\u5e8f\u4f9d\u6b21\u8c03\u7528\u7ec4\u4ef6\u4e2d\u7684 \u6bcf\u4e00\u4e2a effect\u3002</li> </ul> <pre><code>// Hooks \u7248\nfunction FriendStatusWithCounter(props) {\n  const [count, setCount] = useState(0);\n  useEffect(() =&gt; {\n    document.title = `You clicked ${count} times`;\n  });\n\n  const [isOnline, setIsOnline] = useState(null);\n  useEffect(() =&gt; {\n    function handleStatusChange(status) {\n      setIsOnline(status.isOnline);\n    }\n\n    ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);\n    return () =&gt; {\n      ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);\n    };\n  });\n  // ...\n}\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#uselayouteffect","title":"\u516b\u3001useLayoutEffect","text":"<ul> <li>useEffect \u5728\u5168\u90e8\u6e32\u67d3\u5b8c\u6bd5\u540e\u624d\u4f1a\u6267\u884c</li> <li>useLayoutEffect \u4f1a\u5728 \u6d4f\u89c8\u5668 layout \u4e4b\u540e\uff0cpainting \u4e4b\u524d\u6267\u884c</li> <li>\u5176\u51fd\u6570\u7b7e\u540d\u4e0e useEffect \u76f8\u540c\uff0c\u4f46\u5b83\u4f1a\u5728\u6240\u6709\u7684 DOM \u53d8\u66f4\u4e4b\u540e**\u540c\u6b65**\u8c03\u7528 effect</li> <li>\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u8bfb\u53d6 DOM \u5e03\u5c40\u5e76\u540c\u6b65\u89e6\u53d1\u91cd\u6e32\u67d3</li> <li>\u5728\u6d4f\u89c8\u5668\u6267\u884c\u7ed8\u5236\u4e4b\u524d useLayoutEffect \u5185\u90e8\u7684\u66f4\u65b0\u8ba1\u5212\u5c06\u88ab**\u540c\u6b65**\u5237\u65b0</li> <li>\u5c3d\u53ef\u80fd\u4f7f\u7528\u6807\u51c6\u7684 useEffect \u4ee5\u907f\u514d\u963b\u585e\u89c6\u56fe\u66f4\u65b0</li> </ul> <pre><code>function LayoutEffect() {\n    const [color, setColor] = useState('red');\n    useLayoutEffect(() =&gt; {\n        alert(color);\n    });\n    useEffect(() =&gt; {\n        console.log('color', color);\n    });\n    return (\n        &lt;&gt;\n            &lt;div id=\"myDiv\" style={{ background: color }}&gt;\u989c\u8272&lt;/div&gt;\n            &lt;button onClick={() =&gt; setColor('red')}&gt;\u7ea2&lt;/button&gt;\n            &lt;button onClick={() =&gt; setColor('yellow')}&gt;\u9ec4&lt;/button&gt;\n            &lt;button onClick={() =&gt; setColor('blue')}&gt;\u84dd&lt;/button&gt;\n        &lt;/&gt;\n    );\n}\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#useref-useimperativehandle","title":"\u4e5d\u3001useRef &amp; useImperativeHandle","text":""},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#81-useref","title":"8.1 useRef","text":"<ul> <li>\u7c7b\u7ec4\u4ef6\u3001React \u5143\u7d20\u7528 React.createRef\uff0c\u51fd\u6570\u7ec4\u4ef6\u4f7f\u7528 useRef</li> <li>useRef \u8fd4\u56de\u4e00\u4e2a\u53ef\u53d8\u7684 ref \u5bf9\u8c61\uff0c\u5176 <code>current</code> \u5c5e\u6027\u88ab\u521d\u59cb\u5316\u4e3a\u4f20\u5165\u7684\u53c2\u6570\uff08initialValue\uff09</li> </ul> <pre><code>const refContainer = useRef(initialValue);\n</code></pre> <ul> <li>useRef \u8fd4\u56de\u7684 ref \u5bf9\u8c61\u5728\u7ec4\u4ef6\u7684\u6574\u4e2a\u751f\u547d\u5468\u671f\u5185\u4fdd\u6301\u4e0d\u53d8\uff0c\u4e5f\u5c31\u662f\u8bf4\u6bcf\u6b21\u91cd\u65b0\u6e32\u67d3\u51fd\u6570\u7ec4\u4ef6\u65f6\uff0c\u8fd4\u56de\u7684ref \u5bf9\u8c61\u90fd\u662f\u540c\u4e00\u4e2a\uff08\u4f7f\u7528 React.createRef \uff0c\u6bcf\u6b21\u91cd\u65b0\u6e32\u67d3\u7ec4\u4ef6\u90fd\u4f1a\u91cd\u65b0\u521b\u5efa ref\uff09</li> </ul> <pre><code>import React, { useState, useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nfunction Parent() {\n    let [number, setNumber] = useState(0);\n    return (\n        &lt;&gt;\n            &lt;Child /&gt;\n            &lt;button onClick={() =&gt; setNumber({ number: number + 1 })}&gt;+&lt;/button&gt;\n        &lt;/&gt;\n    )\n}\nlet input;\nfunction Child() {\n    const inputRef = useRef();\n    console.log('input===inputRef', input === inputRef);\n    input = inputRef;\n    function getFocus() {\n        inputRef.current.focus();\n    }\n    return (\n        &lt;&gt;\n            &lt;input type=\"text\" ref={inputRef} /&gt;\n            &lt;button onClick={getFocus}&gt;\u83b7\u5f97\u7126\u70b9&lt;/button&gt;\n        &lt;/&gt;\n    )\n}\nReactDOM.render(&lt;Parent /&gt;, document.getElementById('root'));\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#82-forwardref","title":"8.2 forwardRef","text":"<ul> <li>\u56e0\u4e3a\u51fd\u6570\u7ec4\u4ef6\u6ca1\u6709\u5b9e\u4f8b\uff0c\u6240\u4ee5\u51fd\u6570\u7ec4\u4ef6\u65e0\u6cd5\u50cf\u7c7b\u7ec4\u4ef6\u4e00\u6837\u53ef\u4ee5\u63a5\u6536 ref \u5c5e\u6027</li> </ul> <pre><code>function Parent() {\n    return (\n        &lt;&gt;\n         // &lt;Child ref={xxx} /&gt; \u8fd9\u6837\u662f\u4e0d\u884c\u7684\n            &lt;Child /&gt;\n            &lt;button&gt;+&lt;/button&gt;\n        &lt;/&gt;\n    )\n}\n</code></pre> <ul> <li>forwardRef \u53ef\u4ee5\u5728\u7236\u7ec4\u4ef6\u4e2d\u64cd\u4f5c\u5b50\u7ec4\u4ef6\u7684 ref \u5bf9\u8c61</li> <li>forwardRef \u53ef\u4ee5\u5c06\u7236\u7ec4\u4ef6\u4e2d\u7684 ref \u5bf9\u8c61\u8f6c\u53d1\u5230\u5b50\u7ec4\u4ef6\u4e2d\u7684 dom \u5143\u7d20\u4e0a</li> <li>\u5b50\u7ec4\u4ef6\u63a5\u53d7 props \u548c ref \u4f5c\u4e3a\u53c2\u6570</li> </ul> <pre><code>function Child(props,ref){\n  return (\n    &lt;input type=\"text\" ref={ref}/&gt;\n  )\n}\nChild = React.forwardRef(Child);\nfunction Parent(){\n  let [number,setNumber] = useState(0); \n  // \u5728\u4f7f\u7528\u7c7b\u7ec4\u4ef6\u7684\u65f6\u5019\uff0c\u521b\u5efa ref \u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u7684 current \u5c5e\u6027\u503c\u4e3a\u7a7a\n  // \u53ea\u6709\u5f53\u5b83\u88ab\u8d4b\u7ed9\u67d0\u4e2a\u5143\u7d20\u7684 ref \u5c5e\u6027\u65f6\uff0c\u624d\u4f1a\u6709\u503c\n  // \u6240\u4ee5\u7236\u7ec4\u4ef6\uff08\u7c7b\u7ec4\u4ef6\uff09\u521b\u5efa\u4e00\u4e2a ref \u5bf9\u8c61\uff0c\u7136\u540e\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\uff08\u7c7b\u7ec4\u4ef6\uff09\uff0c\u5b50\u7ec4\u4ef6\u5185\u90e8\u6709\u5143\u7d20\u4f7f\u7528\u4e86\n  // \u90a3\u4e48\u7236\u7ec4\u4ef6\u5c31\u53ef\u4ee5\u64cd\u4f5c\u5b50\u7ec4\u4ef6\u4e2d\u7684\u67d0\u4e2a\u5143\u7d20\n  // \u4f46\u662f\u51fd\u6570\u7ec4\u4ef6\u65e0\u6cd5\u63a5\u6536 ref \u5c5e\u6027 &lt;Child ref={xxx} /&gt; \u8fd9\u6837\u662f\u4e0d\u884c\u7684\n  // \u6240\u4ee5\u5c31\u9700\u8981\u7528\u5230 forwardRef \u8fdb\u884c\u8f6c\u53d1\n  const inputRef = useRef();//{current:''}\n  function getFocus(){\n    inputRef.current.value = 'focus';\n    inputRef.current.focus();\n  }\n  return (\n      &lt;&gt;\n        &lt;Child ref={inputRef}/&gt;\n        &lt;button onClick={()=&gt;setNumber({number:number+1})}&gt;+&lt;/button&gt;\n        &lt;button onClick={getFocus}&gt;\u83b7\u5f97\u7126\u70b9&lt;/button&gt;\n      &lt;/&gt;\n  )\n}\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#83-useimperativehandle","title":"8.3 useImperativeHandle","text":"<ul> <li><code>useImperativeHandle</code>\u53ef\u4ee5\u8ba9\u4f60\u5728\u4f7f\u7528 ref \u65f6\uff0c\u81ea\u5b9a\u4e49\u66b4\u9732\u7ed9\u7236\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u503c\uff0c\u4e0d\u80fd\u8ba9\u7236\u7ec4\u4ef6\u60f3\u5e72\u561b\u5c31\u5e72\u561b</li> <li>\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5e94\u5f53\u907f\u514d\u4f7f\u7528 ref \u8fd9\u6837\u7684\u547d\u4ee4\u5f0f\u4ee3\u7801\u3002useImperativeHandle \u5e94\u5f53\u4e0e forwardRef \u4e00\u8d77\u4f7f\u7528</li> <li>\u7236\u7ec4\u4ef6\u53ef\u4ee5\u4f7f\u7528\u64cd\u4f5c\u5b50\u7ec4\u4ef6\u4e2d\u7684\u591a\u4e2a ref</li> </ul> <pre><code>import React,{useState,useEffect,createRef,useRef,forwardRef,useImperativeHandle} from 'react';\n\nfunction Child(props,parentRef){\n    // \u5b50\u7ec4\u4ef6\u5185\u90e8\u81ea\u5df1\u521b\u5efa ref \n    let focusRef = useRef();\n    let inputRef = useRef();\n    useImperativeHandle(parentRef,()=&gt;(\n      // \u8fd9\u4e2a\u51fd\u6570\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\n      // \u8be5\u5bf9\u8c61\u4f1a\u4f5c\u4e3a\u7236\u7ec4\u4ef6 current \u5c5e\u6027\u7684\u503c\n      // \u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u7236\u7ec4\u4ef6\u53ef\u4ee5\u4f7f\u7528\u64cd\u4f5c\u5b50\u7ec4\u4ef6\u4e2d\u7684\u591a\u4e2a ref\n        return {\n            focusRef,\n            inputRef,\n            name:'\u8ba1\u6570\u5668',\n            focus(){\n                focusRef.current.focus();\n            },\n            changeText(text){\n                inputRef.current.value = text;\n            }\n        }\n    });\n    return (\n        &lt;&gt;\n            &lt;input ref={focusRef}/&gt;\n            &lt;input ref={inputRef}/&gt;\n        &lt;/&gt;\n    )\n\n}\nChild = forwardRef(Child);\nfunction Parent(){\n  const parentRef = useRef();//{current:''}\n  function getFocus(){\n    parentRef.current.focus();\n    // \u56e0\u4e3a\u5b50\u7ec4\u4ef6\u4e2d\u6ca1\u6709\u5b9a\u4e49\u8fd9\u4e2a\u5c5e\u6027\uff0c\u5b9e\u73b0\u4e86\u4fdd\u62a4\uff0c\u6240\u4ee5\u8fd9\u91cc\u7684\u4ee3\u7801\u65e0\u6548\n    parentRef.current.addNumber(666);\n    parentRef.current.changeText('&lt;script&gt;alert(1)&lt;/script&gt;');\n    console.log(parentRef.current.name);\n  }\n  return (\n      &lt;&gt;\n        &lt;ForwardChild ref={parentRef}/&gt;\n        &lt;button onClick={getFocus}&gt;\u83b7\u5f97\u7126\u70b9&lt;/button&gt;\n      &lt;/&gt;\n  )\n}\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#hook","title":"\u5341\u3001\u81ea\u5b9a\u4e49 Hook","text":"<ul> <li>\u81ea\u5b9a\u4e49 Hook \u66f4\u50cf\u662f\u4e00\u79cd\u7ea6\u5b9a\uff0c\u800c\u4e0d\u662f\u4e00\u79cd\u529f\u80fd\u3002\u5982\u679c\u51fd\u6570\u7684\u540d\u5b57\u4ee5 use \u5f00\u5934\uff0c\u5e76\u4e14\u8c03\u7528\u4e86\u5176\u4ed6\u7684 Hook\uff0c\u5219\u5c31\u79f0\u5176\u4e3a\u4e00\u4e2a\u81ea\u5b9a\u4e49 Hook</li> <li>\u6709\u65f6\u5019\u6211\u4eec\u4f1a\u60f3\u8981\u5728\u7ec4\u4ef6\u4e4b\u95f4\u91cd\u7528\u4e00\u4e9b\u72b6\u6001\u903b\u8f91\uff0c\u4e4b\u524d\u8981\u4e48\u7528 render props \uff0c\u8981\u4e48\u7528\u9ad8\u9636\u7ec4\u4ef6\uff0c\u8981\u4e48\u4f7f\u7528 redux</li> <li>\u81ea\u5b9a\u4e49 Hook \u53ef\u4ee5\u8ba9\u4f60\u5728\u4e0d\u589e\u52a0\u7ec4\u4ef6\u7684\u60c5\u51b5\u4e0b\u8fbe\u5230\u540c\u6837\u7684\u76ee\u7684</li> <li>Hook \u662f\u4e00\u79cd\u590d\u7528\u72b6\u6001\u903b\u8f91\u7684\u65b9\u5f0f\uff0c\u5b83\u4e0d\u590d\u7528 state \u672c\u8eab</li> <li>\u4e8b\u5b9e\u4e0a Hook \u7684\u6bcf\u6b21\u8c03\u7528\u90fd\u6709\u4e00\u4e2a\u5b8c\u5168\u72ec\u7acb\u7684 state</li> </ul> <pre><code>import React, { useLayoutEffect, useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction useNumber(){\n  let [number,setNumber] = useState(0);\n  useEffect(()=&gt;{\n    setInterval(()=&gt;{\n        setNumber(number=&gt;number+1);\n    },1000);\n  },[]);\n  return [number,setNumber];\n}\n// \u6bcf\u4e2a\u7ec4\u4ef6\u8c03\u7528\u540c\u4e00\u4e2a hook\uff0c\u53ea\u662f\u590d\u7528 hook \u7684\u72b6\u6001\u903b\u8f91\uff0c\u5e76\u4e0d\u4f1a\u5171\u7528\u4e00\u4e2a\u72b6\u6001\nfunction Counter1(){\n    let [number,setNumber] = useNumber();\n    return (\n        &lt;div&gt;&lt;button onClick={()=&gt;{\n            setNumber(number+1)\n        }}&gt;{number}&lt;/button&gt;&lt;/div&gt;\n    )\n}\nfunction Counter2(){\n    let [number,setNumber] = useNumber();\n    return (\n        &lt;div&gt;&lt;button  onClick={()=&gt;{\n            setNumber(number+1)\n        }}&gt;{number}&lt;/button&gt;&lt;/div&gt;\n    )\n}\nReactDOM.render(&lt;&gt;&lt;Counter1 /&gt;&lt;Counter2 /&gt;&lt;/&gt;, document.getElementById('root'));\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#_2","title":"\u5341\u4e00\u3001\u5e38\u89c1\u95ee\u9898","text":""},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#1-eslint-plugin-react-hooks","title":"1. \u4f7f\u7528 eslint-plugin-react-hooks \u6765\u68c0\u67e5\u4ee3\u7801\u9519\u8bef\uff0c\u7ed9\u51fa\u63d0\u793a","text":"<pre><code>{\n  \"plugins\": [\"react-hooks\"],\n  // ...\n  \"rules\": {\n    \"react-hooks/rules-of-hooks\": 'error',// \u68c0\u67e5 Hook \u7684\u89c4\u5219\n    \"react-hooks/exhaustive-deps\": 'warn' // \u68c0\u67e5 effect \u7684\u4f9d\u8d56\n  }\n}\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#2-effect","title":"2.\u4e3a\u4ec0\u4e48\u6bcf\u6b21\u66f4\u65b0\u7684\u65f6\u5019\u90fd\u8981\u8fd0\u884c Effect","text":"<p>react.docschina.org/docs/hooks-\u2026</p>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#3-hook-state-hook-effect-hook-react-state-usestate","title":"3.\u4e3a\u4ec0\u4e48\u5fc5\u987b\u5728\u7ec4\u4ef6\u7684\u9876\u5c42\u4f7f\u7528 Hook &amp; \u5728\u5355\u4e2a\u7ec4\u4ef6\u4e2d\u4f7f\u7528\u591a\u4e2a State Hook \u6216 Effect Hook\uff0c\u90a3\u4e48 React \u600e\u4e48\u77e5\u9053\u54ea\u4e2a state \u5bf9\u5e94\u54ea\u4e2a useState\uff1f","text":"<ul> <li>React \u4f9d\u8d56\u4e8e Hook \u7684\u8c03\u7528\u987a\u5e8f\uff0c\u5982\u679c\u80fd\u786e\u4fdd Hook \u5728\u6bcf\u4e00\u6b21\u6e32\u67d3\u4e2d\u90fd\u6309\u7167\u540c\u6837\u7684\u987a\u5e8f\u88ab\u8c03\u7528\u3002\u90a3\u4e48React \u80fd\u591f\u5728\u591a\u6b21\u7684 <code>useState</code> \u548c <code>useEffect</code> \u8c03\u7528\u4e4b\u95f4\u4fdd\u6301 hook \u72b6\u6001\u7684\u6b63\u786e\u6027</li> </ul> <pre><code>function Form() {\n  // 1. Use the name state variable\n  const [name, setName] = useState('Mary');\n\n  // 2. Use an effect for persisting the form\n  useEffect(function persistForm() {\n    localStorage.setItem('formData', name);\n  });\n\n  // 3. Use the surname state variable\n  const [surname, setSurname] = useState('Poppins');\n\n  // 4. Use an effect for updating the title\n  useEffect(function updateTitle() {\n    document.title = name + ' ' + surname;\n  });\n\n  // ...\n}\n\n// ------------\n// \u9996\u6b21\u6e32\u67d3\n// ------------\nuseState('Mary')           // 1. \u4f7f\u7528 'Mary' \u521d\u59cb\u5316\u53d8\u91cf\u540d\u4e3a name \u7684 state\nuseEffect(persistForm)     // 2. \u6dfb\u52a0 effect \u4ee5\u4fdd\u5b58 form \u64cd\u4f5c\nuseState('Poppins')        // 3. \u4f7f\u7528 'Poppins' \u521d\u59cb\u5316\u53d8\u91cf\u540d\u4e3a surname \u7684 state\nuseEffect(updateTitle)     // 4. \u6dfb\u52a0 effect \u4ee5\u66f4\u65b0\u6807\u9898\n// -------------\n// \u4e8c\u6b21\u6e32\u67d3\n// -------------\nuseState('Mary')           // 1. \u8bfb\u53d6\u53d8\u91cf\u540d\u4e3a name \u7684 state\uff08\u53c2\u6570\u88ab\u5ffd\u7565\uff09\nuseEffect(persistForm)     // 2. \u66ff\u6362\u4fdd\u5b58 form \u7684 effect\nuseState('Poppins')        // 3. \u8bfb\u53d6\u53d8\u91cf\u540d\u4e3a surname \u7684 state\uff08\u53c2\u6570\u88ab\u5ffd\u7565\uff09\nuseEffect(updateTitle)     // 4. \u66ff\u6362\u66f4\u65b0\u6807\u9898\u7684 effect\n// ...\n</code></pre> <p>\u53ea\u8981 Hook \u7684\u8c03\u7528\u987a\u5e8f\u5728\u591a\u6b21\u6e32\u67d3\u4e4b\u95f4\u4fdd\u6301\u4e00\u81f4\uff0cReact \u5c31\u80fd\u6b63\u786e\u5730\u5c06\u5185\u90e8 state \u548c\u5bf9\u5e94\u7684 Hook \u8fdb\u884c\u5173\u8054\u3002\u4f46\u5982\u679c\u6211\u4eec\u5c06\u4e00\u4e2a Hook (\u4f8b\u5982 <code>persistForm</code> effect) \u8c03\u7528\u653e\u5230\u4e00\u4e2a\u6761\u4ef6\u8bed\u53e5\u4e2d\u4f1a\u53d1\u751f\u4ec0\u4e48\u5462\uff1f</p> <pre><code>// \ud83d\udd34 \u5728\u6761\u4ef6\u8bed\u53e5\u4e2d\u4f7f\u7528 Hook \u8fdd\u53cd\u7b2c\u4e00\u6761\u89c4\u5219\n  if (name !== '') {\n    useEffect(function persistForm() {\n      localStorage.setItem('formData', name);\n    });\n  }\n</code></pre> <p>\u5728\u7b2c\u4e00\u6b21\u6e32\u67d3\u4e2d <code>name !== ''</code> \u8fd9\u4e2a\u6761\u4ef6\u503c\u4e3a <code>true</code>\uff0c\u6240\u4ee5\u6211\u4eec\u4f1a\u6267\u884c\u8fd9\u4e2a Hook\u3002\u4f46\u662f\u4e0b\u4e00\u6b21\u6e32\u67d3\u65f6\u6211\u4eec\u53ef\u80fd\u6e05\u7a7a\u4e86\u8868\u5355\uff0c\u8868\u8fbe\u5f0f\u503c\u53d8\u4e3a <code>false</code>\u3002\u6b64\u65f6\u7684\u6e32\u67d3\u4f1a\u8df3\u8fc7\u8be5 Hook\uff0cHook \u7684\u8c03\u7528\u987a\u5e8f\u53d1\u751f\u4e86\u6539\u53d8\uff1a</p> <pre><code>useState('Mary')           // 1. \u8bfb\u53d6\u53d8\u91cf\u540d\u4e3a name \u7684 state\uff08\u53c2\u6570\u88ab\u5ffd\u7565\uff09\n// useEffect(persistForm)  // \ud83d\udd34 \u6b64 Hook \u88ab\u5ffd\u7565\uff01\nuseState('Poppins')        // \ud83d\udd34 2 \uff08\u4e4b\u524d\u4e3a 3\uff09\u3002\u8bfb\u53d6\u53d8\u91cf\u540d\u4e3a surname \u7684 state \u5931\u8d25\nuseEffect(updateTitle)     // \ud83d\udd34 3 \uff08\u4e4b\u524d\u4e3a 4\uff09\u3002\u66ff\u6362\u66f4\u65b0\u6807\u9898\u7684 effect \u5931\u8d25\n</code></pre> <p>React \u4e0d\u77e5\u9053\u7b2c\u4e8c\u4e2a <code>useState</code> \u7684 Hook \u5e94\u8be5\u8fd4\u56de\u4ec0\u4e48\u3002React \u4f1a\u4ee5\u4e3a\u5728\u8be5\u7ec4\u4ef6\u4e2d\u7b2c\u4e8c\u4e2a Hook \u7684\u8c03\u7528\u50cf\u4e0a\u6b21\u7684\u6e32\u67d3\u4e00\u6837\uff0c\u5bf9\u5e94\u5f97\u662f <code>persistForm</code> \u7684 effect\uff0c\u4f46\u5e76\u975e\u5982\u6b64\u3002\u4ece\u8fd9\u91cc\u5f00\u59cb\uff0c\u540e\u9762\u7684 Hook \u8c03\u7528\u90fd\u88ab\u63d0\u524d\u6267\u884c\uff0c\u5bfc\u81f4 bug \u7684\u4ea7\u751f\u3002</p> <p>\u5982\u679c\u6211\u4eec\u60f3\u8981\u6709\u6761\u4ef6\u5730\u6267\u884c\u4e00\u4e2a effect\uff0c\u53ef\u4ee5\u5c06\u5224\u65ad\u653e\u5230 Hook \u7684_\u5185\u90e8_\uff1a</p> <pre><code>useEffect(function persistForm() {\n    // \ud83d\udc4d \u5c06\u6761\u4ef6\u5224\u65ad\u653e\u7f6e\u5728 effect \u4e2d\n    if (name !== '') {\n      localStorage.setItem('formData', name);\n    }\n  });\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#5-hook-state","title":"5. \u5728\u4e24\u4e2a\u7ec4\u4ef6\u4e2d\u4f7f\u7528\u76f8\u540c\u7684 Hook \u4f1a\u5171\u4eab state \u5417\uff1f","text":"<p>\u4e0d\u4f1a\u3002\u81ea\u5b9a\u4e49 Hook \u662f\u4e00\u79cd\u91cd\u7528_\u72b6\u6001\u903b\u8f91_\u7684\u673a\u5236(\u4f8b\u5982\u8bbe\u7f6e\u4e3a\u8ba2\u9605\u5e76\u5b58\u50a8\u5f53\u524d\u503c)\uff0c\u6240\u4ee5\u6bcf\u6b21\u4f7f\u7528\u81ea\u5b9a\u4e49 Hook \u65f6\uff0c\u5176\u4e2d\u7684\u6240\u6709 state \u548c\u526f\u4f5c\u7528\u90fd\u662f\u5b8c\u5168\u9694\u79bb\u7684\u3002</p>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#6-usestate-useeffect-hook-state","title":"6. \u5728\u4e00\u4e2a\u7ec4\u4ef6\u4e2d\u591a\u6b21\u8c03\u7528 <code>useState</code> \u6216\u8005 <code>useEffect</code>\uff0c\u6bcf\u6b21\u8c03\u7528 Hook\uff0c\u5b83\u90fd\u4f1a\u83b7\u53d6\u72ec\u7acb\u7684 state\uff0c\u662f\u5b8c\u5168\u72ec\u7acb\u7684\u3002","text":""},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#7-state-state-state-state-state","title":"7. \u5f53\u7ec4\u4ef6\u62e5\u6709\u591a\u4e2a state \u65f6\uff0c\u5e94\u8be5\u628a\u591a\u4e2a state \u5408\u5e76\u6210\u4e00\u4e2a state \uff0c\u8fd8\u662f\u628a state \u5207\u5206\u6210\u591a\u4e2a state \u53d8\u91cf\uff1f","text":"<p>react.docschina.org/docs/hooks-\u2026</p> <ul> <li>\u8981\u4e48\u628a\u6240\u6709 state \u90fd\u653e\u5728\u540c\u4e00\u4e2a <code>useState</code> \u8c03\u7528\u4e2d\uff0c\u8981\u4e48\u6bcf\u4e00\u4e2a\u5b57\u6bb5\u90fd\u5bf9\u5e94\u4e00\u4e2a <code>useState</code> \u8c03\u7528\uff0c\u8fd9\u4e24\u65b9\u5f0f\u90fd\u80fd\u8dd1\u901a\u3002</li> <li>\u5f53\u4f60\u5728\u8fd9**\u4e24\u4e2a\u6781\u7aef**\u4e4b\u95f4\u627e\u5230\u5e73\u8861\uff0c\u7136\u540e\u628a**\u76f8\u5173 state** **\u7ec4\u5408\u5230\u51e0\u4e2a\u72ec\u7acb\u7684 state \u53d8\u91cf**\u65f6\uff0c\u7ec4\u4ef6\u5c31\u4f1a\u66f4\u52a0\u7684\u53ef\u8bfb\u3002\u5982\u679c state \u7684\u903b\u8f91\u5f00\u59cb\u53d8\u5f97\u590d\u6742\uff0c\u6211\u4eec\u63a8\u8350\u7528 <code>useReducer</code> \u6765\u7ba1\u7406\u5b83\uff0c\u6216\u4f7f\u7528\u81ea\u5b9a\u4e49 Hook\u3002</li> </ul>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#8-effect","title":"8. \u53ef\u4ee5\u53ea\u5728\u66f4\u65b0\u65f6\u8fd0\u884c effect \u5417\uff1f","text":"<p>\u8fd9\u662f\u4e2a\u6bd4\u8f83\u7f55\u89c1\u7684\u4f7f\u7528\u573a\u666f\u3002\u5982\u679c\u4f60\u9700\u8981\u7684\u8bdd\uff0c\u4f60\u53ef\u4ee5 \u4f7f\u7528\u4e00\u4e2a\u53ef\u53d8\u7684 ref \u624b\u52a8\u5b58\u50a8\u4e00\u4e2a\u5e03\u5c14\u503c\u6765\u8868\u793a\u662f\u9996\u6b21\u6e32\u67d3\u8fd8\u662f\u540e\u7eed\u6e32\u67d3\uff0c\u7136\u540e\u5728\u4f60\u7684 effect \u4e2d\u68c0\u67e5\u8fd9\u4e2a\u6807\u8bc6\u3002\uff08\u5982\u679c\u4f60\u53d1\u73b0\u81ea\u5df1\u7ecf\u5e38\u5728\u8fd9\u4e48\u505a\uff0c\u4f60\u53ef\u4ee5\u4e3a\u4e4b\u521b\u5efa\u4e00\u4e2a\u81ea\u5b9a\u4e49 Hook\u3002\uff09</p>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#9-useeffect-useeffect-useeffect","title":"9. \u5728 useEffect \u4e2d\u8c03\u7528\u7528\u51fd\u6570\u65f6\uff0c\u8981\u628a\u8be5\u51fd\u6570\u5728 useEffect \u4e2d\u7533\u660e\uff0c\u4e0d\u80fd\u653e\u5230\u5916\u90e8\u7533\u660e\uff0c\u7136\u540e\u518d\u5728 useEffect \u4e2d\u8c03\u7528","text":"<p>react.docschina.org/docs/hooks-\u2026</p> <pre><code>function Example({ someProp }) {\n  function doSomething() {\n    console.log(someProp);\n  }\n\n  useEffect(() =&gt; {\n    doSomething();\n  }, []); // \ud83d\udd34 \u8fd9\u6837\u4e0d\u5b89\u5168\uff08\u5b83\u8c03\u7528\u7684 `doSomething` \u51fd\u6570\u4f7f\u7528\u4e86 `someProp`\uff09\n}\n</code></pre> <p>\u8981\u8bb0\u4f4f effect \u5916\u90e8\u7684\u51fd\u6570\u4f7f\u7528\u4e86\u54ea\u4e9b props \u548c state \u5f88\u96be\u3002\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48 \u901a\u5e38\u4f60\u4f1a\u60f3\u8981\u5728 effect \u5185\u90e8 \u53bb\u58f0\u660e\u5b83\u6240\u9700\u8981\u7684\u51fd\u6570\u3002 \u8fd9\u6837\u5c31\u80fd\u5bb9\u6613\u7684\u770b\u51fa\u90a3\u4e2a effect \u4f9d\u8d56\u4e86\u7ec4\u4ef6\u4f5c\u7528\u57df\u4e2d\u7684\u54ea\u4e9b\u503c\uff1a</p> <pre><code>function Example({ someProp }) {\n  useEffect(() =&gt; {\n    function doSomething() {\n      console.log(someProp);\n    }\n\n    doSomething();\n  }, [someProp]); // \u2705 \u5b89\u5168\uff08\u6211\u4eec\u7684 effect \u4ec5\u7528\u5230\u4e86 `someProp`\uff09\n}\n</code></pre> <p>\u53ea\u6709 \u5f53\u51fd\u6570\uff08\u4ee5\u53ca\u5b83\u6240\u8c03\u7528\u7684\u51fd\u6570\uff09\u4e0d\u5f15\u7528 props\u3001state \u4ee5\u53ca\u7531\u5b83\u4eec\u884d\u751f\u800c\u6765\u7684\u503c\u65f6\uff0c\u4f60\u624d\u80fd\u653e\u5fc3\u5730\u628a\u5b83\u4eec\u4ece\u4f9d\u8d56\u5217\u8868\u4e2d\u7701\u7565\u3002\u4e0b\u9762\u8fd9\u4e2a\u6848\u4f8b\u6709\u4e00\u4e2a Bug\uff1a</p> <pre><code>function ProductPage({ productId }) {\n  const [product, setProduct] = useState(null);\n  async function fetchProduct() {\n    const response = await fetch('http://myapi/product' + productId); // \u4f7f\u7528\u4e86 productId prop\n    const json = await response.json();\n    setProduct(json);\n  }\n  useEffect(() =&gt; {\n    fetchProduct();\n  }, []); // \ud83d\udd34 \u8fd9\u6837\u662f\u65e0\u6548\u7684\uff0c\u56e0\u4e3a `fetchProduct` \u4f7f\u7528\u4e86 `productId`\n  // ...\n}\n</code></pre> <p>\u63a8\u8350\u7684\u4fee\u590d\u65b9\u6848\u662f\u628a\u90a3\u4e2a\u51fd\u6570\u79fb\u52a8\u5230\u4f60\u7684 effect \u5185\u90e8\u3002\u8fd9\u6837\u5c31\u80fd\u5f88\u5bb9\u6613\u7684\u770b\u51fa\u6765\u4f60\u7684 effect \u4f7f\u7528\u4e86\u54ea\u4e9b props \u548c state\uff0c\u5e76\u786e\u4fdd\u5b83\u4eec\u90fd\u88ab\u58f0\u660e\u4e86\uff1a</p> <pre><code>function ProductPage({ productId }) {\n  const [product, setProduct] = useState(null);\n  useEffect(() =&gt; {\n    // \u628a\u8fd9\u4e2a\u51fd\u6570\u79fb\u52a8\u5230 effect \u5185\u90e8\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u6e05\u695a\u5730\u770b\u5230\u5b83\u7528\u5230\u7684\u503c\u3002\n    async function fetchProduct() {\n      const response = await fetch('http://myapi/product' + productId);\n      const json = await response.json();\n      setProduct(json);\n    }\n    fetchProduct();\n  }, [productId]); // \u2705 \u6709\u6548\uff0c\u56e0\u4e3a\u6211\u4eec\u7684 effect \u53ea\u7528\u5230\u4e86 productId\n  // ...\n}\n</code></pre>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#10-hooks-fetch-data","title":"10. \u5982\u4f55\u5728 Hooks \u4e2d\u4f18\u96c5\u7684 Fetch Data","text":"<p>www.robinwieruch.de/react-hooks\u2026</p> <p>codesandbox.io/s/jvvkoo8pq\u2026</p>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#11-usememo","title":"11. \u4e0d\u8981\u8fc7\u5ea6\u4f9d\u8d56 useMemo","text":"<ul> <li> <p><code>useMemo</code> \u672c\u8eab\u4e5f\u6709\u5f00\u9500\u3002<code>useMemo</code> \u4f1a\u300c\u8bb0\u4f4f\u300d\u4e00\u4e9b\u503c\uff0c\u540c\u65f6\u5728\u540e\u7eed render \u65f6\uff0c\u5c06\u4f9d\u8d56\u6570\u7ec4\u4e2d\u7684\u503c\u53d6\u51fa\u6765\u548c\u4e0a\u4e00\u6b21\u8bb0\u5f55\u7684\u503c\u8fdb\u884c\u6bd4\u8f83\uff0c\u5982\u679c\u4e0d\u76f8\u7b49\u624d\u4f1a\u91cd\u65b0\u6267\u884c\u56de\u8c03\u51fd\u6570\uff0c\u5426\u5219\u76f4\u63a5\u8fd4\u56de\u300c\u8bb0\u4f4f\u300d\u7684\u503c\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u672c\u8eab\u5c31\u4f1a\u6d88\u8017\u4e00\u5b9a\u7684\u5185\u5b58\u548c\u8ba1\u7b97\u8d44\u6e90\u3002\u56e0\u6b64\uff0c\u8fc7\u5ea6\u4f7f\u7528 <code>useMemo</code> \u53ef\u80fd\u4f1a\u5f71\u54cd\u7a0b\u5e8f\u7684\u6027\u80fd\u3002</p> </li> <li> <p>\u5728\u4f7f\u7528useMemo\u524d\uff0c\u5e94\u8be5\u5148\u601d\u8003\u4e09\u4e2a\u95ee\u9898\uff1a</p> </li> <li> <p>\u4f20\u9012\u7ed9 <code>useMemo</code> \u7684\u51fd\u6570\u5f00\u9500\u5927\u4e0d\u5927\uff1f \u6709\u4e9b\u8ba1\u7b97\u5f00\u9500\u5f88\u5927\uff0c\u6211\u4eec\u5c31\u9700\u8981\u300c\u8bb0\u4f4f\u300d\u5b83\u7684\u8fd4\u56de\u503c\uff0c\u907f\u514d\u6bcf\u6b21 render \u90fd\u53bb\u91cd\u65b0\u8ba1\u7b97\u3002\u5982\u679c\u4f60\u6267\u884c\u7684\u64cd\u4f5c\u5f00\u9500\u4e0d\u5927\uff0c\u90a3\u4e48\u5c31\u4e0d\u9700\u8981\u8bb0\u4f4f\u8fd4\u56de\u503c\u3002\u5426\u5219\uff0c\u4f7f\u7528 <code>useMemo</code> \u672c\u8eab\u7684\u5f00\u9500\u5c31\u53ef\u80fd\u8d85\u8fc7\u91cd\u65b0\u8ba1\u7b97\u8fd9\u4e2a\u503c\u7684\u5f00\u9500\u3002\u56e0\u6b64\uff0c\u5bf9\u4e8e\u4e00\u4e9b\u7b80\u5355\u7684 JS \u8fd0\u7b97\u6765\u8bf4\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u4f7f\u7528 <code>useMemo</code> \u6765\u300c\u8bb0\u4f4f\u300d\u5b83\u7684\u8fd4\u56de\u503c\u3002</p> </li> <li>\u8fd4\u56de\u7684\u503c\u662f\u539f\u59cb\u503c\u5417\uff1f \u5982\u679c\u8ba1\u7b97\u51fa\u6765\u7684\u662f**\u57fa\u672c\u7c7b\u578b**\u7684\u503c\uff08<code>string</code>\u3001 <code>boolean</code> \u3001<code>null</code>\u3001<code>undefined</code> \u3001<code>number</code>\u3001<code>symbol</code>\uff09\uff0c\u90a3\u4e48\u6bcf\u6b21\u6bd4\u8f83\u90fd\u662f\u76f8\u7b49\u7684\uff0c\u4e0b\u6e38\u7ec4\u4ef6\u5c31\u4e0d\u4f1a\u91cd\u65b0\u6e32\u67d3\uff1b\u5982\u679c\u8ba1\u7b97\u51fa\u6765\u7684\u662f**\u590d\u6742\u7c7b\u578b**\u7684\u503c\uff08<code>object</code>\u3001<code>array</code>\uff09\uff0c\u54ea\u6015\u503c\u4e0d\u53d8\uff0c\u4f46\u662f\u5730\u5740\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u5bfc\u81f4\u4e0b\u6e38\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\u3002\u6240\u4ee5\u6211\u4eec\u4e5f\u9700\u8981\u300c\u8bb0\u4f4f\u300d\u8fd9\u4e2a\u503c\u3002</li> <li>\u5728\u7f16\u5199\u81ea\u5b9a\u4e49 Hook \u65f6\uff0c\u8fd4\u56de\u503c\u4e00\u5b9a\u8981\u4fdd\u6301\u5f15\u7528\u7684\u4e00\u81f4\u6027\u3002 \u56e0\u4e3a\u4f60\u65e0\u6cd5\u786e\u5b9a\u5916\u90e8\u8981\u5982\u4f55\u4f7f\u7528\u5b83\u7684\u8fd4\u56de\u503c\u3002\u5982\u679c\u8fd4\u56de\u503c\u88ab\u7528\u505a\u5176\u4ed6 Hook \u7684\u4f9d\u8d56\uff0c\u5e76\u4e14\u6bcf\u6b21 re-render \u65f6\u5f15\u7528\u4e0d\u4e00\u81f4\uff08\u5f53\u503c\u76f8\u7b49\u7684\u60c5\u51b5\uff09\uff0c\u5c31\u53ef\u80fd\u4f1a\u4ea7\u751f bug\u3002\u6240\u4ee5\u5982\u679c\u81ea\u5b9a\u4e49 Hook \u4e2d\u66b4\u9732\u51fa\u6765\u7684\u503c\u662f object\u3001array\u3001\u51fd\u6570\u7b49\uff0c\u90fd\u5e94\u8be5\u4f7f\u7528 <code>useMemo</code> \u3002\u4ee5\u786e\u4fdd\u5f53\u503c\u76f8\u540c\u65f6\uff0c\u5f15\u7528\u4e0d\u53d1\u751f\u53d8\u5316\u3002</li> </ul>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#12-useeffect-async","title":"12. useEffect \u4e0d\u80fd\u63a5\u6536 async \u4f5c\u4e3a\u56de\u8c03\u51fd\u6570","text":"<p>useEffect \u63a5\u6536\u7684\u51fd\u6570\uff0c\u8981\u4e48\u8fd4\u56de\u4e00\u4e2a\u80fd\u6e05\u9664\u526f\u4f5c\u7528\u7684\u51fd\u6570\uff0c\u8981\u4e48\u5c31\u4e0d\u8fd4\u56de\u4efb\u4f55\u5185\u5bb9\u3002\u800c async \u8fd4\u56de\u7684\u662f promise\u3002</p> <p>www.robinwieruch.de/react-hooks\u2026</p> <p></p>"},{"location":"react-hooks/05%20React%20Hooks%20%E8%AF%A6%E8%A7%A3%20%2B%20%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#_3","title":"\u5341\u4e8c\u3001\u9879\u76ee\u5b9e\u6218","text":"<p>React Hooks \u9879\u76ee</p>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/","title":"06 \u7cbe\u901aReact Hooks","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 22626  \u9605\u8bfb46\u5206\u949f</p> <p>https://juejin.cn/post/6844903709927800846</p> <p>2018-11-08</p> <p>139,017</p> <p>\u9605\u8bfb16\u5206\u949f</p> <p>\u4f60\u8fd8\u5728\u4e3a\u8be5\u4f7f\u7528\u65e0\u72b6\u6001\u7ec4\u4ef6\uff08Function\uff09\u8fd8\u662f\u6709\u72b6\u6001\u7ec4\u4ef6\uff08Class\uff09\u800c\u70e6\u607c\u5417\uff1f \u2014\u2014\u62e5\u6709\u4e86hooks\uff0c\u4f60\u518d\u4e5f\u4e0d\u9700\u8981\u5199Class\u4e86\uff0c\u4f60\u7684\u6240\u6709\u7ec4\u4ef6\u90fd\u5c06\u662fFunction\u3002</p> <p>\u4f60\u8fd8\u5728\u4e3a\u641e\u4e0d\u6e05\u4f7f\u7528\u54ea\u4e2a\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570\u800c\u65e5\u591c\u96be\u7720\u5417\uff1f \u2014\u2014\u62e5\u6709\u4e86Hooks\uff0c\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570\u53ef\u4ee5\u5148\u4e22\u4e00\u8fb9\u4e86\u3002</p> <p>\u4f60\u5728\u8fd8\u5728\u4e3a\u7ec4\u4ef6\u4e2d\u7684this\u6307\u5411\u800c\u6655\u5934\u8f6c\u5411\u5417\uff1f \u2014\u2014\u65e2\u7136Class\u90fd\u4e22\u6389\u4e86\uff0c\u54ea\u91cc\u8fd8\u6709this\uff1f\u4f60\u7684\u4eba\u751f\u7b2c\u4e00\u6b21\u4e0d\u518d\u9700\u8981\u9762\u5bf9this\u3002</p> <p>\u8fd9\u6837\u770b\u6765\uff0c\u8bf4React Hooks\u662f\u4eca\u5e74\u6700\u52b2\u7206\u7684\u65b0\u7279\u6027\u771f\u7684\u6beb\u4e0d\u5938\u5f20\u3002\u5982\u679c\u4f60\u4e5f\u5bf9react\u611f\u5174\u8da3\uff0c\u6216\u8005\u6b63\u5728\u4f7f\u7528react\u8fdb\u884c\u9879\u76ee\u5f00\u53d1\uff0c\u7b54\u5e94\u6211\uff0c\u8bf7\u4e00\u5b9a\u62bd\u51fa\u81f3\u5c1130\u5206\u949f\u7684\u65f6\u95f4\u6765\u9605\u8bfb\u672c\u6587\u597d\u5417\uff1f</p>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#hooks","title":"\u4e00\u4e2a\u6700\u7b80\u5355\u7684Hooks","text":"<p>\u9996\u5148\u8ba9\u6211\u4eec\u770b\u4e00\u4e0b\u4e00\u4e2a\u7b80\u5355\u7684\u6709\u72b6\u6001\u7ec4\u4ef6\uff1a</p> <pre><code>class Example extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      count: 0\n    };\n  }\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;p&gt;You clicked {this.state.count} times&lt;/p&gt;\n        &lt;button onClick={() =&gt; this.setState({ count: this.state.count + 1 })}&gt;\n          Click me\n        &lt;/button&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre> <p>\u6211\u4eec\u518d\u6765\u770b\u4e00\u4e0b\u4f7f\u7528hooks\u540e\u7684\u7248\u672c\uff1a</p> <pre><code>import { useState } from 'react';\n\nfunction Example() {\n  const [count, setCount] = useState(0);\n\n  return (\n    &lt;div&gt;\n      &lt;p&gt;You clicked {count} times&lt;/p&gt;\n      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;\n        Click me\n      &lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre> <p>\u662f\u4e0d\u662f\u7b80\u5355\u591a\u4e86\uff01\u53ef\u4ee5\u770b\u5230\uff0c<code>Example</code>\u53d8\u6210\u4e86\u4e00\u4e2a\u51fd\u6570\uff0c\u4f46\u8fd9\u4e2a\u51fd\u6570\u5374\u6709\u81ea\u5df1\u7684\u72b6\u6001\uff08count\uff09\uff0c\u540c\u65f6\u5b83\u8fd8\u53ef\u4ee5\u66f4\u65b0\u81ea\u5df1\u7684\u72b6\u6001\uff08setCount\uff09\u3002\u8fd9\u4e2a\u51fd\u6570\u4e4b\u6240\u4ee5\u8fd9\u4e48\u4e86\u4e0d\u5f97\uff0c\u5c31\u662f\u56e0\u4e3a\u5b83\u6ce8\u5165\u4e86\u4e00\u4e2ahook--<code>useState</code>\uff0c\u5c31\u662f\u8fd9\u4e2ahook\u8ba9\u6211\u4eec\u7684\u51fd\u6570\u53d8\u6210\u4e86\u4e00\u4e2a\u6709\u72b6\u6001\u7684\u51fd\u6570\u3002</p> <p>\u9664\u4e86<code>useState</code>\u8fd9\u4e2ahook\u5916\uff0c\u8fd8\u6709\u5f88\u591a\u522b\u7684hook\uff0c\u6bd4\u5982<code>useEffect</code>\u63d0\u4f9b\u4e86\u7c7b\u4f3c\u4e8e<code>componentDidMount</code>\u7b49\u751f\u547d\u5468\u671f\u94a9\u5b50\u7684\u529f\u80fd\uff0c<code>useContext</code>\u63d0\u4f9b\u4e86\u4e0a\u4e0b\u6587\uff08context\uff09\u7684\u529f\u80fd\u7b49\u7b49\u3002</p> <p>Hooks\u672c\u8d28\u4e0a\u5c31\u662f\u4e00\u7c7b\u7279\u6b8a\u7684\u51fd\u6570\uff0c\u5b83\u4eec\u53ef\u4ee5\u4e3a\u4f60\u7684\u51fd\u6570\u578b\u7ec4\u4ef6\uff08function component\uff09\u6ce8\u5165\u4e00\u4e9b\u7279\u6b8a\u7684\u529f\u80fd\u3002\u54a6\uff1f\u8fd9\u542c\u8d77\u6765\u6709\u70b9\u50cf\u88ab\u8bdf\u75c5\u7684Mixins\u554a\uff1f\u96be\u9053\u662fMixins\u8981\u5728react\u4e2d\u6b7b\u7070\u590d\u71c3\u4e86\u5417\uff1f\u5f53\u7136\u4e0d\u4f1a\u4e86\uff0c\u7b49\u4f1a\u6211\u4eec\u518d\u6765\u8c08\u4e24\u8005\u7684\u533a\u522b\u3002\u603b\u800c\u8a00\u4e4b\uff0c\u8fd9\u4e9bhooks\u7684\u76ee\u6807\u5c31\u662f\u8ba9\u4f60\u4e0d\u518d\u5199class\uff0c\u8ba9function\u4e00\u7edf\u6c5f\u6e56\u3002</p>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#reacthooks","title":"React\u4e3a\u4ec0\u4e48\u8981\u641e\u4e00\u4e2aHooks\uff1f","text":""},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#_1","title":"\u60f3\u8981\u590d\u7528\u4e00\u4e2a\u6709\u72b6\u6001\u7684\u7ec4\u4ef6\u592a\u9ebb\u70e6\u4e86\uff01","text":"<p>\u6211\u4eec\u90fd\u77e5\u9053react\u90fd\u6838\u5fc3\u601d\u60f3\u5c31\u662f\uff0c\u5c06\u4e00\u4e2a\u9875\u9762\u62c6\u6210\u4e00\u5806\u72ec\u7acb\u7684\uff0c\u53ef\u590d\u7528\u7684\u7ec4\u4ef6\uff0c\u5e76\u4e14\u7528\u81ea\u4e0a\u800c\u4e0b\u7684\u5355\u5411\u6570\u636e\u6d41\u7684\u5f62\u5f0f\u5c06\u8fd9\u4e9b\u7ec4\u4ef6\u4e32\u8054\u8d77\u6765\u3002\u4f46\u5047\u5982\u4f60\u5728\u5927\u578b\u7684\u5de5\u4f5c\u9879\u76ee\u4e2d\u7528react\uff0c\u4f60\u4f1a\u53d1\u73b0\u4f60\u7684\u9879\u76ee\u4e2d\u5b9e\u9645\u4e0a\u5f88\u591areact\u7ec4\u4ef6\u5197\u957f\u4e14\u96be\u4ee5\u590d\u7528\u3002\u5c24\u5176\u662f\u90a3\u4e9b\u5199\u6210class\u7684\u7ec4\u4ef6\uff0c\u5b83\u4eec\u672c\u8eab\u5305\u542b\u4e86\u72b6\u6001\uff08state\uff09\uff0c\u6240\u4ee5\u590d\u7528\u8fd9\u7c7b\u7ec4\u4ef6\u5c31\u53d8\u5f97\u5f88\u9ebb\u70e6\u3002</p> <p>\u90a3\u4e4b\u524d\uff0c\u5b98\u65b9\u63a8\u8350\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f\u7b54\u6848\u662f\uff1a\u6e32\u67d3\u5c5e\u6027\uff08Render Props\uff09\u548c\u9ad8\u9636\u7ec4\u4ef6\uff08Higher-Order Components\uff09\u3002\u6211\u4eec\u53ef\u4ee5\u7a0d\u5fae\u8dd1\u4e0b\u9898\u7b80\u5355\u770b\u4e00\u4e0b\u8fd9\u4e24\u79cd\u6a21\u5f0f\u3002</p> <p>\u6e32\u67d3\u5c5e\u6027\u6307\u7684\u662f\u4f7f\u7528\u4e00\u4e2a\u503c\u4e3a\u51fd\u6570\u7684prop\u6765\u4f20\u9012\u9700\u8981\u52a8\u6001\u6e32\u67d3\u7684nodes\u6216\u7ec4\u4ef6\u3002\u5982\u4e0b\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u7684<code>DataProvider</code>\u7ec4\u4ef6\u5305\u542b\u4e86\u6240\u6709\u8ddf\u72b6\u6001\u76f8\u5173\u7684\u4ee3\u7801\uff0c\u800c<code>Cat</code>\u7ec4\u4ef6\u5219\u53ef\u4ee5\u662f\u4e00\u4e2a\u5355\u7eaf\u7684\u5c55\u793a\u578b\u7ec4\u4ef6\uff0c\u8fd9\u6837\u4e00\u6765<code>DataProvider</code>\u5c31\u53ef\u4ee5\u5355\u72ec\u590d\u7528\u4e86\u3002</p> <pre><code>import Cat from 'components/cat'\n\nclass DataProvider extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { target: 'Zac' };\n  }\n\n  render() {\n    return (\n      &lt;div&gt;\n        {this.props.render(this.state)}\n      &lt;/div&gt;\n    )\n  }\n}\n\n&lt;DataProvider render={data =&gt; (\n  &lt;Cat target={data.target} /&gt;\n)}/&gt;\n</code></pre> <p>\u867d\u7136\u8fd9\u4e2a\u6a21\u5f0f\u53ebRender Props\uff0c\u4f46\u4e0d\u662f\u8bf4\u975e\u7528\u4e00\u4e2a\u53ebrender\u7684props\u4e0d\u53ef\uff0c\u4e60\u60ef\u4e0a\u5927\u5bb6\u66f4\u5e38\u5199\u6210\u4e0b\u9762\u8fd9\u79cd\uff1a</p> <pre><code>...\n&lt;DataProvider&gt;\n  {data =&gt; (\n    &lt;Cat target={data.target} /&gt;\n  )}\n&lt;/DataProvider&gt;\n</code></pre> <p>\u9ad8\u9636\u7ec4\u4ef6\u8fd9\u4e2a\u6982\u5ff5\u5c31\u66f4\u597d\u7406\u89e3\u4e86\uff0c\u8bf4\u767d\u4e86\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u7ec4\u4ef6\u4f5c\u4e3a\u53c2\u6570\uff0c\u7ecf\u8fc7\u4e00\u7cfb\u5217\u52a0\u5de5\u540e\uff0c\u6700\u540e\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u7ec4\u4ef6\u3002\u770b\u4e0b\u9762\u7684\u4ee3\u7801\u793a\u4f8b\uff0c<code>withUser</code>\u51fd\u6570\u5c31\u662f\u4e00\u4e2a\u9ad8\u9636\u7ec4\u4ef6\uff0c\u5b83\u8fd4\u56de\u4e86\u4e00\u4e2a\u65b0\u7684\u7ec4\u4ef6\uff0c\u8fd9\u4e2a\u7ec4\u4ef6\u5177\u6709\u4e86\u5b83\u63d0\u4f9b\u7684\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u7684\u529f\u80fd\u3002</p> <pre><code>const withUser = WrappedComponent =&gt; {\n  const user = sessionStorage.getItem(\"user\");\n  return props =&gt; &lt;WrappedComponent user={user} {...props} /&gt;;\n};\n\nconst UserPage = props =&gt; (\n  &lt;div class=\"user-container\"&gt;\n    &lt;p&gt;My name is {props.user}!&lt;/p&gt;\n  &lt;/div&gt;\n);\n\nexport default withUser(UserPage);\n</code></pre> <p>\u4ee5\u4e0a\u8fd9\u4e24\u79cd\u6a21\u5f0f\u770b\u4e0a\u53bb\u90fd\u633a\u4e0d\u9519\u7684\uff0c\u5f88\u591a\u5e93\u4e5f\u8fd0\u7528\u4e86\u8fd9\u79cd\u6a21\u5f0f\uff0c\u6bd4\u5982\u6211\u4eec\u5e38\u7528\u7684React Router\u3002\u4f46\u6211\u4eec\u4ed4\u7ec6\u770b\u8fd9\u4e24\u79cd\u6a21\u5f0f\uff0c\u4f1a\u53d1\u73b0\u5b83\u4eec\u4f1a\u589e\u52a0\u6211\u4eec\u4ee3\u7801\u7684\u5c42\u7ea7\u5173\u7cfb\u3002\u6700\u76f4\u89c2\u7684\u4f53\u73b0\uff0c\u6253\u5f00devtool\u770b\u770b\u4f60\u7684\u7ec4\u4ef6\u5c42\u7ea7\u5d4c\u5957\u662f\u4e0d\u662f\u5f88\u5938\u5f20\u5427\u3002\u8fd9\u65f6\u5019\u518d\u56de\u8fc7\u5934\u770b\u6211\u4eec\u4e0a\u4e00\u8282\u7ed9\u51fa\u7684hooks\u4f8b\u5b50\uff0c\u662f\u4e0d\u662f\u7b80\u6d01\u591a\u4e86\uff0c\u6ca1\u6709\u591a\u4f59\u7684\u5c42\u7ea7\u5d4c\u5957\u3002\u628a\u5404\u79cd\u60f3\u8981\u7684\u529f\u80fd\u5199\u6210\u4e00\u4e2a\u4e00\u4e2a\u53ef\u590d\u7528\u7684\u81ea\u5b9a\u4e49hook\uff0c\u5f53\u4f60\u7684\u7ec4\u4ef6\u60f3\u7528\u4ec0\u4e48\u529f\u80fd\u65f6\uff0c\u76f4\u63a5\u5728\u7ec4\u4ef6\u91cc\u8c03\u7528\u8fd9\u4e2ahook\u5373\u53ef\u3002</p> <p></p>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#_2","title":"\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570\u91cc\u7684\u903b\u8f91\u592a\u4e71\u4e86\u5427\uff01","text":"<p>\u6211\u4eec\u901a\u5e38\u5e0c\u671b\u4e00\u4e2a\u51fd\u6570\u53ea\u505a\u4e00\u4ef6\u4e8b\u60c5\uff0c\u4f46\u6211\u4eec\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570\u91cc\u901a\u5e38\u540c\u65f6\u505a\u4e86\u5f88\u591a\u4e8b\u60c5\u3002\u6bd4\u5982\u6211\u4eec\u9700\u8981\u5728<code>componentDidMount</code>\u4e2d\u53d1\u8d77ajax\u8bf7\u6c42\u83b7\u53d6\u6570\u636e\uff0c\u7ed1\u5b9a\u4e00\u4e9b\u4e8b\u4ef6\u76d1\u542c\u7b49\u7b49\u3002\u540c\u65f6\uff0c\u6709\u65f6\u5019\u6211\u4eec\u8fd8\u9700\u8981\u5728<code>componentDidUpdate</code>\u505a\u4e00\u904d\u540c\u6837\u7684\u4e8b\u60c5\u3002\u5f53\u9879\u76ee\u53d8\u590d\u6742\u540e\uff0c\u8fd9\u4e00\u5757\u7684\u4ee3\u7801\u4e5f\u53d8\u5f97\u4e0d\u90a3\u4e48\u76f4\u89c2\u3002</p>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#classes","title":"classes\u771f\u7684\u592a\u8ba9\u4eba\u56f0\u60d1\u4e86\uff01","text":"<p>\u6211\u4eec\u7528class\u6765\u521b\u5efareact\u7ec4\u4ef6\u65f6\uff0c\u8fd8\u6709\u4e00\u4ef6\u5f88\u9ebb\u70e6\u7684\u4e8b\u60c5\uff0c\u5c31\u662fthis\u7684\u6307\u5411\u95ee\u9898\u3002\u4e3a\u4e86\u4fdd\u8bc1this\u7684\u6307\u5411\u6b63\u786e\uff0c\u6211\u4eec\u8981\u7ecf\u5e38\u5199\u8fd9\u6837\u7684\u4ee3\u7801\uff1a<code>this.handleClick = this.handleClick.bind(this)</code>\uff0c\u6216\u8005\u662f\u8fd9\u6837\u7684\u4ee3\u7801\uff1a<code>&lt;button onClick={() =&gt; this.handleClick(e)}&gt;</code>\u3002\u4e00\u65e6\u6211\u4eec\u4e0d\u5c0f\u5fc3\u5fd8\u4e86\u7ed1\u5b9athis\uff0c\u5404\u79cdbug\u5c31\u968f\u4e4b\u800c\u6765\uff0c\u5f88\u9ebb\u70e6\u3002</p> <p>\u8fd8\u6709\u4e00\u4ef6\u8ba9\u6211\u5f88\u82e6\u607c\u7684\u4e8b\u60c5\u3002\u6211\u5728\u4e4b\u524d\u7684react\u7cfb\u5217\u6587\u7ae0\u5f53\u4e2d\u66fe\u7ecf\u8bf4\u8fc7\uff0c\u5c3d\u53ef\u80fd\u628a\u4f60\u7684\u7ec4\u4ef6\u5199\u6210\u65e0\u72b6\u6001\u7ec4\u4ef6\u7684\u5f62\u5f0f\uff0c\u56e0\u4e3a\u5b83\u4eec\u66f4\u65b9\u4fbf\u590d\u7528\uff0c\u53ef\u72ec\u7acb\u6d4b\u8bd5\u3002\u7136\u800c\u5f88\u591a\u65f6\u5019\uff0c\u6211\u4eec\u7528function\u5199\u4e86\u4e00\u4e2a\u7b80\u6d01\u5b8c\u7f8e\u7684\u65e0\u72b6\u6001\u7ec4\u4ef6\uff0c\u540e\u6765\u56e0\u4e3a\u9700\u6c42\u53d8\u52a8\u8fd9\u4e2a\u7ec4\u4ef6\u5fc5\u987b\u5f97\u6709\u81ea\u5df1\u7684state\uff0c\u6211\u4eec\u53c8\u5f97\u5f88\u9ebb\u70e6\u7684\u628afunction\u6539\u6210class\u3002</p> <p>\u5728\u8fd9\u6837\u7684\u80cc\u666f\u4e0b\uff0cHooks\u4fbf\u6a2a\u7a7a\u51fa\u4e16\u4e86\uff01</p>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#state-hooks","title":"\u4ec0\u4e48\u662fState Hooks\uff1f","text":"<p>\u56de\u5230\u4e00\u5f00\u59cb\u6211\u4eec\u7528\u7684\u4f8b\u5b50\uff0c\u6211\u4eec\u5206\u89e3\u6765\u770b\u5230\u5e95state hooks\u505a\u4e86\u4ec0\u4e48\uff1a</p> <pre><code>import { useState } from 'react';\n\nfunction Example() {\n  const [count, setCount] = useState(0);\n\n  return (\n    &lt;div&gt;\n      &lt;p&gt;You clicked {count} times&lt;/p&gt;\n      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;\n        Click me\n      &lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#_3","title":"\u58f0\u660e\u4e00\u4e2a\u72b6\u6001\u53d8\u91cf","text":"<pre><code>import { useState } from 'react';\n\nfunction Example() {\n  const [count, setCount] = useState(0);\n</code></pre> <p><code>useState</code>\u662freact\u81ea\u5e26\u7684\u4e00\u4e2ahook\u51fd\u6570\uff0c\u5b83\u7684\u4f5c\u7528\u5c31\u662f\u7528\u6765\u58f0\u660e\u72b6\u6001\u53d8\u91cf\u3002<code>useState</code>\u8fd9\u4e2a\u51fd\u6570\u63a5\u6536\u7684\u53c2\u6570\u662f\u6211\u4eec\u7684\u72b6\u6001\u521d\u59cb\u503c\uff08initial state\uff09\uff0c\u5b83\u8fd4\u56de\u4e86\u4e00\u4e2a\u6570\u7ec4\uff0c\u8fd9\u4e2a\u6570\u7ec4\u7684\u7b2c<code>[0]</code>\u9879\u662f\u5f53\u524d\u5f53\u524d\u7684\u72b6\u6001\u503c\uff0c\u7b2c<code>[1]</code>\u9879\u662f\u53ef\u4ee5\u6539\u53d8\u72b6\u6001\u503c\u7684\u65b9\u6cd5\u51fd\u6570\u3002</p> <p>\u6240\u4ee5\u6211\u4eec\u505a\u7684\u4e8b\u60c5\u5176\u5b9e\u5c31\u662f\uff0c\u58f0\u660e\u4e86\u4e00\u4e2a\u72b6\u6001\u53d8\u91cfcount\uff0c\u628a\u5b83\u7684\u521d\u59cb\u503c\u8bbe\u4e3a0\uff0c\u540c\u65f6\u63d0\u4f9b\u4e86\u4e00\u4e2a\u53ef\u4ee5\u66f4\u6539count\u7684\u51fd\u6570setCount\u3002</p> <p>\u4e0a\u9762\u8fd9\u79cd\u8868\u8fbe\u5f62\u5f0f\uff0c\u662f\u501f\u7528\u4e86es6\u7684\u6570\u7ec4\u89e3\u6784\uff08array destructuring\uff09\uff0c\u5b83\u53ef\u4ee5\u8ba9\u6211\u4eec\u7684\u4ee3\u7801\u770b\u8d77\u6765\u66f4\u7b80\u6d01\u3002\u4e0d\u6e05\u695a\u8fd9\u79cd\u7528\u6cd5\u7684\u53ef\u4ee5\u5148\u53bb\u770b\u4e0b\u6211\u7684\u8fd9\u7bc7\u6587\u7ae030\u5206\u949f\u638c\u63e1ES6/ES2015\u6838\u5fc3\u5185\u5bb9\uff08\u4e0a\uff09\u3002</p> <p>\u5982\u679c\u4e0d\u7528\u6570\u7ec4\u89e3\u6784\u7684\u8bdd\uff0c\u53ef\u4ee5\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002\u5b9e\u9645\u4e0a\u6570\u7ec4\u89e3\u6784\u662f\u4e00\u4ef6\u5f00\u9500\u5f88\u5927\u7684\u4e8b\u60c5\uff0c\u7528\u4e0b\u9762\u8fd9\u79cd\u5199\u6cd5\uff0c\u6216\u8005\u6539\u7528\u5bf9\u8c61\u89e3\u6784\uff0c\u6027\u80fd\u4f1a\u6709\u5f88\u5927\u7684\u63d0\u5347\u3002\u5177\u4f53\u53ef\u4ee5\u53bb\u8fd9\u7bc7\u6587\u7ae0\u7684\u5206\u6790Array destructuring for multi-value returns (in light of React hooks)\uff0c\u8fd9\u91cc\u4e0d\u8be6\u7ec6\u5c55\u5f00\uff0c\u6211\u4eec\u5c31\u6309\u7167\u5b98\u65b9\u63a8\u8350\u4f7f\u7528\u6570\u7ec4\u89e3\u6784\u5c31\u597d\u3002</p> <pre><code>let _useState = useState(0);\nlet count = _useState[0];\nlet setCount = _useState[1];\n</code></pre>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#_4","title":"\u8bfb\u53d6\u72b6\u6001\u503c","text":"<pre><code>&lt;p&gt;You clicked {count} times&lt;/p&gt;\n</code></pre> <p>\u662f\u4e0d\u662f\u8d85\u7b80\u5355\uff1f\u56e0\u4e3a\u6211\u4eec\u7684\u72b6\u6001count\u5c31\u662f\u4e00\u4e2a\u5355\u7eaf\u7684\u53d8\u91cf\u800c\u5df2\uff0c\u6211\u4eec\u518d\u4e5f\u4e0d\u9700\u8981\u5199\u6210<code>{this.state.count}</code>\u8fd9\u6837\u4e86\u3002</p>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#_5","title":"\u66f4\u65b0\u72b6\u6001","text":"<pre><code>  &lt;button onClick={() =&gt; setCount(count + 1)}&gt;\n    Click me\n  &lt;/button&gt;\n</code></pre> <p>\u5f53\u7528\u6237\u70b9\u51fb\u6309\u94ae\u65f6\uff0c\u6211\u4eec\u8c03\u7528setCount\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u63a5\u6536\u7684\u53c2\u6570\u662f\u4fee\u6539\u8fc7\u7684\u65b0\u72b6\u6001\u503c\u3002\u63a5\u4e0b\u6765\u7684\u4e8b\u60c5\u5c31\u4ea4\u7ed9react\u4e86\uff0creact\u5c06\u4f1a\u91cd\u65b0\u6e32\u67d3\u6211\u4eec\u7684Example\u7ec4\u4ef6\uff0c\u5e76\u4e14\u4f7f\u7528\u7684\u662f\u66f4\u65b0\u540e\u7684\u65b0\u7684\u72b6\u6001\uff0c\u5373count=1\u3002\u8fd9\u91cc\u6211\u4eec\u8981\u505c\u4e0b\u6765\u601d\u8003\u4e00\u4e0b\uff0cExample\u672c\u8d28\u4e0a\u4e5f\u662f\u4e00\u4e2a\u666e\u901a\u7684\u51fd\u6570\uff0c\u4e3a\u4ec0\u4e48\u5b83\u53ef\u4ee5\u8bb0\u4f4f\u4e4b\u524d\u7684\u72b6\u6001\uff1f</p>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#_6","title":"\u4e00\u4e2a\u81f3\u5173\u91cd\u8981\u7684\u95ee\u9898","text":"<p>\u8fd9\u91cc\u6211\u4eec\u5c31\u53d1\u73b0\u4e86\u95ee\u9898\uff0c\u901a\u5e38\u6765\u8bf4\u6211\u4eec\u5728\u4e00\u4e2a\u51fd\u6570\u4e2d\u58f0\u660e\u7684\u53d8\u91cf\uff0c\u5f53\u51fd\u6570\u8fd0\u884c\u5b8c\u6210\u540e\uff0c\u8fd9\u4e2a\u53d8\u91cf\u4e5f\u5c31\u9500\u6bc1\u4e86\uff08\u8fd9\u91cc\u6211\u4eec\u5148\u4e0d\u8003\u8651\u95ed\u5305\u7b49\u60c5\u51b5\uff09\uff0c\u6bd4\u5982\u8003\u8651\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a</p> <pre><code>function add(n) {\n    const result = 0;\n    return result + 1;\n}\n\nadd(1); //1\nadd(1); //1\n</code></pre> <p>\u4e0d\u7ba1\u6211\u4eec\u53cd\u590d\u8c03\u7528add\u51fd\u6570\u591a\u5c11\u6b21\uff0c\u7ed3\u679c\u90fd\u662f1\u3002\u56e0\u4e3a\u6bcf\u4e00\u6b21\u6211\u4eec\u8c03\u7528add\u65f6\uff0cresult\u53d8\u91cf\u90fd\u662f\u4ece\u521d\u59cb\u503c0\u5f00\u59cb\u7684\u3002\u90a3\u4e3a\u4ec0\u4e48\u4e0a\u9762\u7684Example\u51fd\u6570\u6bcf\u6b21\u6267\u884c\u7684\u65f6\u5019\uff0c\u90fd\u662f\u62ff\u7684\u4e0a\u4e00\u6b21\u6267\u884c\u5b8c\u7684\u72b6\u6001\u503c\u4f5c\u4e3a\u521d\u59cb\u503c\uff1f\u7b54\u6848\u662f\uff1a\u662freact\u5e2e\u6211\u4eec\u8bb0\u4f4f\u7684\u3002\u81f3\u4e8ereact\u662f\u7528\u4ec0\u4e48\u673a\u5236\u8bb0\u4f4f\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u518d\u601d\u8003\u4e00\u4e0b\u3002</p>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#_7","title":"\u5047\u5982\u4e00\u4e2a\u7ec4\u4ef6\u6709\u591a\u4e2a\u72b6\u6001\u503c\u600e\u4e48\u529e\uff1f","text":"<p>\u9996\u5148\uff0cuseState\u662f\u53ef\u4ee5\u591a\u6b21\u8c03\u7528\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a</p> <pre><code>function ExampleWithManyStates() {\n  const [age, setAge] = useState(42);\n  const [fruit, setFruit] = useState('banana');\n  const [todos, setTodos] = useState([{ text: 'Learn Hooks' }]);\n</code></pre> <p>\u5176\u6b21\uff0cuseState\u63a5\u6536\u7684\u521d\u59cb\u503c\u6ca1\u6709\u89c4\u5b9a\u4e00\u5b9a\u8981\u662fstring/number/boolean\u8fd9\u79cd\u7b80\u5355\u6570\u636e\u7c7b\u578b\uff0c\u5b83\u5b8c\u5168\u53ef\u4ee5\u63a5\u6536\u5bf9\u8c61\u6216\u8005\u6570\u7ec4\u4f5c\u4e3a\u53c2\u6570\u3002\u552f\u4e00\u9700\u8981\u6ce8\u610f\u7684\u70b9\u662f\uff0c\u4e4b\u524d\u6211\u4eec\u7684<code>this.setState</code>\u505a\u7684\u662f\u5408\u5e76\u72b6\u6001\u540e\u8fd4\u56de\u4e00\u4e2a\u65b0\u72b6\u6001\uff0c\u800c<code>useState</code>\u662f\u76f4\u63a5\u66ff\u6362\u8001\u72b6\u6001\u540e\u8fd4\u56de\u65b0\u72b6\u6001\u3002\u6700\u540e\uff0creact\u4e5f\u7ed9\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2auseReducer\u7684hook\uff0c\u5982\u679c\u4f60\u66f4\u559c\u6b22redux\u5f0f\u7684\u72b6\u6001\u7ba1\u7406\u65b9\u6848\u7684\u8bdd\u3002</p> <p>\u4eceExampleWithManyStates\u51fd\u6570\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0cuseState\u65e0\u8bba\u8c03\u7528\u591a\u5c11\u6b21\uff0c\u76f8\u4e92\u4e4b\u95f4\u662f\u72ec\u7acb\u7684\u3002\u8fd9\u4e00\u70b9\u81f3\u5173\u91cd\u8981\u3002\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u8bf4\u5462\uff1f</p> <p>\u5176\u5b9e\u6211\u4eec\u770bhook\u7684\u201c\u5f62\u6001\u201d\uff0c\u6709\u70b9\u7c7b\u4f3c\u4e4b\u524d\u88ab\u5b98\u65b9\u5426\u5b9a\u6389\u7684Mixins\u8fd9\u79cd\u65b9\u6848\uff0c\u90fd\u662f\u63d0\u4f9b\u4e00\u79cd\u201c\u63d2\u62d4\u5f0f\u7684\u529f\u80fd\u6ce8\u5165\u201d\u7684\u80fd\u529b\u3002\u800cmixins\u4e4b\u6240\u4ee5\u88ab\u5426\u5b9a\uff0c\u662f\u56e0\u4e3aMixins\u673a\u5236\u662f\u8ba9\u591a\u4e2aMixins\u5171\u4eab\u4e00\u4e2a\u5bf9\u8c61\u7684\u6570\u636e\u7a7a\u95f4\uff0c\u8fd9\u6837\u5c31\u5f88\u96be\u786e\u4fdd\u4e0d\u540cMixins\u4f9d\u8d56\u7684\u72b6\u6001\u4e0d\u53d1\u751f\u51b2\u7a81\u3002</p> <p>\u800c\u73b0\u5728\u6211\u4eec\u7684hook\uff0c\u4e00\u65b9\u9762\u5b83\u662f\u76f4\u63a5\u7528\u5728function\u5f53\u4e2d\uff0c\u800c\u4e0d\u662fclass\uff1b\u53e6\u4e00\u65b9\u9762\u6bcf\u4e00\u4e2ahook\u90fd\u662f\u76f8\u4e92\u72ec\u7acb\u7684\uff0c\u4e0d\u540c\u7ec4\u4ef6\u8c03\u7528\u540c\u4e00\u4e2ahook\u4e5f\u80fd\u4fdd\u8bc1\u5404\u81ea\u72b6\u6001\u7684\u72ec\u7acb\u6027\u3002\u8fd9\u5c31\u662f\u4e24\u8005\u7684\u672c\u8d28\u533a\u522b\u4e86\u3002</p>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#reactusestate","title":"react\u662f\u600e\u4e48\u4fdd\u8bc1\u591a\u4e2auseState\u7684\u76f8\u4e92\u72ec\u7acb\u7684\uff1f","text":"<p>\u8fd8\u662f\u770b\u4e0a\u9762\u7ed9\u51fa\u7684ExampleWithManyStates\u4f8b\u5b50\uff0c\u6211\u4eec\u8c03\u7528\u4e86\u4e09\u6b21useState\uff0c\u6bcf\u6b21\u6211\u4eec\u4f20\u7684\u53c2\u6570\u53ea\u662f\u4e00\u4e2a\u503c\uff08\u598242\uff0c\u2018banana\u2019\uff09\uff0c\u6211\u4eec\u6839\u672c\u6ca1\u6709\u544a\u8bc9react\u8fd9\u4e9b\u503c\u5bf9\u5e94\u7684key\u662f\u54ea\u4e2a\uff0c\u90a3react\u662f\u600e\u4e48\u4fdd\u8bc1\u8fd9\u4e09\u4e2auseState\u627e\u5230\u5b83\u5bf9\u5e94\u7684state\u5462\uff1f</p> <p>\u7b54\u6848\u662f\uff0creact\u662f\u6839\u636euseState\u51fa\u73b0\u7684\u987a\u5e8f\u6765\u5b9a\u7684\u3002\u6211\u4eec\u5177\u4f53\u6765\u770b\u4e00\u4e0b\uff1a</p> <pre><code>  //\u7b2c\u4e00\u6b21\u6e32\u67d3\n  useState(42);  //\u5c06age\u521d\u59cb\u5316\u4e3a42\n  useState('banana');  //\u5c06fruit\u521d\u59cb\u5316\u4e3abanana\n  useState([{ text: 'Learn Hooks' }]); //...\n\n  //\u7b2c\u4e8c\u6b21\u6e32\u67d3\n  useState(42);  //\u8bfb\u53d6\u72b6\u6001\u53d8\u91cfage\u7684\u503c\uff08\u8fd9\u65f6\u5019\u4f20\u7684\u53c2\u657042\u76f4\u63a5\u88ab\u5ffd\u7565\uff09\n  useState('banana');  //\u8bfb\u53d6\u72b6\u6001\u53d8\u91cffruit\u7684\u503c\uff08\u8fd9\u65f6\u5019\u4f20\u7684\u53c2\u6570banana\u76f4\u63a5\u88ab\u5ffd\u7565\uff09\n  useState([{ text: 'Learn Hooks' }]); //...\n</code></pre> <p>\u5047\u5982\u6211\u4eec\u6539\u4e00\u4e0b\u4ee3\u7801\uff1a</p> <pre><code>let showFruit = true;\nfunction ExampleWithManyStates() {\n  const [age, setAge] = useState(42);\n\n  if(showFruit) {\n    const [fruit, setFruit] = useState('banana');\n    showFruit = false;\n  }\n\n  const [todos, setTodos] = useState([{ text: 'Learn Hooks' }]);\n</code></pre> <p>\u8fd9\u6837\u4e00\u6765\uff0c</p> <pre><code>  //\u7b2c\u4e00\u6b21\u6e32\u67d3\n  useState(42);  //\u5c06age\u521d\u59cb\u5316\u4e3a42\n  useState('banana');  //\u5c06fruit\u521d\u59cb\u5316\u4e3abanana\n  useState([{ text: 'Learn Hooks' }]); //...\n\n  //\u7b2c\u4e8c\u6b21\u6e32\u67d3\n  useState(42);  //\u8bfb\u53d6\u72b6\u6001\u53d8\u91cfage\u7684\u503c\uff08\u8fd9\u65f6\u5019\u4f20\u7684\u53c2\u657042\u76f4\u63a5\u88ab\u5ffd\u7565\uff09\n  // useState('banana');  \n  useState([{ text: 'Learn Hooks' }]); //\u8bfb\u53d6\u5230\u7684\u5374\u662f\u72b6\u6001\u53d8\u91cffruit\u7684\u503c\uff0c\u5bfc\u81f4\u62a5\u9519\n</code></pre> <p>\u9274\u4e8e\u6b64\uff0creact\u89c4\u5b9a\u6211\u4eec\u5fc5\u987b\u628ahooks\u5199\u5728\u51fd\u6570\u7684\u6700\u5916\u5c42\uff0c\u4e0d\u80fd\u5199\u5728ifelse\u7b49\u6761\u4ef6\u8bed\u53e5\u5f53\u4e2d\uff0c\u6765\u786e\u4fddhooks\u7684\u6267\u884c\u987a\u5e8f\u4e00\u81f4\u3002</p>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#effect-hooks","title":"\u4ec0\u4e48\u662fEffect Hooks?","text":"<p>\u6211\u4eec\u5728\u4e0a\u4e00\u8282\u7684\u4f8b\u5b50\u4e2d\u589e\u52a0\u4e00\u4e2a\u65b0\u529f\u80fd\uff1a</p> <pre><code>import { useState, useEffect } from 'react';\n\nfunction Example() {\n  const [count, setCount] = useState(0);\n\n  // \u7c7b\u4f3c\u4e8ecomponentDidMount \u548c componentDidUpdate:\n  useEffect(() =&gt; {\n    // \u66f4\u65b0\u6587\u6863\u7684\u6807\u9898\n    document.title = `You clicked ${count} times`;\n  });\n\n  return (\n    &lt;div&gt;\n      &lt;p&gt;You clicked {count} times&lt;/p&gt;\n      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;\n        Click me\n      &lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre> <p>\u6211\u4eec\u5bf9\u6bd4\u7740\u770b\u4e00\u4e0b\uff0c\u5982\u679c\u6ca1\u6709hooks\uff0c\u6211\u4eec\u4f1a\u600e\u4e48\u5199\uff1f</p> <pre><code>class Example extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      count: 0\n    };\n  }\n\n  componentDidMount() {\n    document.title = `You clicked ${this.state.count} times`;\n  }\n\n  componentDidUpdate() {\n    document.title = `You clicked ${this.state.count} times`;\n  }\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;p&gt;You clicked {this.state.count} times&lt;/p&gt;\n        &lt;button onClick={() =&gt; this.setState({ count: this.state.count + 1 })}&gt;\n          Click me\n        &lt;/button&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre> <p>\u6211\u4eec\u5199\u7684\u6709\u72b6\u6001\u7ec4\u4ef6\uff0c\u901a\u5e38\u4f1a\u4ea7\u751f\u5f88\u591a\u7684\u526f\u4f5c\u7528\uff08side effect\uff09\uff0c\u6bd4\u5982\u53d1\u8d77ajax\u8bf7\u6c42\u83b7\u53d6\u6570\u636e\uff0c\u6dfb\u52a0\u4e00\u4e9b\u76d1\u542c\u7684\u6ce8\u518c\u548c\u53d6\u6d88\u6ce8\u518c\uff0c\u624b\u52a8\u4fee\u6539dom\u7b49\u7b49\u3002\u6211\u4eec\u4e4b\u524d\u90fd\u628a\u8fd9\u4e9b\u526f\u4f5c\u7528\u7684\u51fd\u6570\u5199\u5728\u751f\u547d\u5468\u671f\u51fd\u6570\u94a9\u5b50\u91cc\uff0c\u6bd4\u5982componentDidMount\uff0ccomponentDidUpdate\u548ccomponentWillUnmount\u3002\u800c\u73b0\u5728\u7684useEffect\u5c31\u76f8\u5f53\u4e0e\u8fd9\u4e9b\u58f0\u660e\u5468\u671f\u51fd\u6570\u94a9\u5b50\u7684\u96c6\u5408\u4f53\u3002\u5b83\u4ee5\u4e00\u62b5\u4e09\u3002</p> <p>\u540c\u65f6\uff0c\u7531\u4e8e\u524d\u6587\u6240\u8bf4hooks\u53ef\u4ee5\u53cd\u590d\u591a\u6b21\u4f7f\u7528\uff0c\u76f8\u4e92\u72ec\u7acb\u3002\u6240\u4ee5\u6211\u4eec\u5408\u7406\u7684\u505a\u6cd5\u662f\uff0c\u7ed9\u6bcf\u4e00\u4e2a\u526f\u4f5c\u7528\u4e00\u4e2a\u5355\u72ec\u7684useEffect\u94a9\u5b50\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u8fd9\u4e9b\u526f\u4f5c\u7528\u4e0d\u518d\u4e00\u80a1\u8111\u5806\u5728\u751f\u547d\u5468\u671f\u94a9\u5b50\u91cc\uff0c\u4ee3\u7801\u53d8\u5f97\u66f4\u52a0\u6e05\u6670\u3002</p>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#useeffect","title":"useEffect\u505a\u4e86\u4ec0\u4e48\uff1f","text":"<p>\u6211\u4eec\u518d\u68b3\u7406\u4e00\u904d\u4e0b\u9762\u4ee3\u7801\u7684\u903b\u8f91\uff1a</p> <pre><code>function Example() {\n  const [count, setCount] = useState(0);\n\n  useEffect(() =&gt; {\n    document.title = `You clicked ${count} times`;\n  });\n</code></pre> <p>\u9996\u5148\uff0c\u6211\u4eec\u58f0\u660e\u4e86\u4e00\u4e2a\u72b6\u6001\u53d8\u91cf<code>count</code>\uff0c\u5c06\u5b83\u7684\u521d\u59cb\u503c\u8bbe\u4e3a0\u3002\u7136\u540e\u6211\u4eec\u544a\u8bc9react\uff0c\u6211\u4eec\u7684\u8fd9\u4e2a\u7ec4\u4ef6\u6709\u4e00\u4e2a\u526f\u4f5c\u7528\u3002\u6211\u4eec\u7ed9<code>useEffect</code>hook\u4f20\u4e86\u4e00\u4e2a\u533f\u540d\u51fd\u6570\uff0c\u8fd9\u4e2a\u533f\u540d\u51fd\u6570\u5c31\u662f\u6211\u4eec\u7684\u526f\u4f5c\u7528\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\uff0c\u6211\u4eec\u7684\u526f\u4f5c\u7528\u662f\u8c03\u7528browser API\u6765\u4fee\u6539\u6587\u6863\u6807\u9898\u3002\u5f53react\u8981\u6e32\u67d3\u6211\u4eec\u7684\u7ec4\u4ef6\u65f6\uff0c\u5b83\u4f1a\u5148\u8bb0\u4f4f\u6211\u4eec\u7528\u5230\u7684\u526f\u4f5c\u7528\u3002\u7b49react\u66f4\u65b0\u4e86DOM\u4e4b\u540e\uff0c\u5b83\u518d\u4f9d\u6b21\u6267\u884c\u6211\u4eec\u5b9a\u4e49\u7684\u526f\u4f5c\u7528\u51fd\u6570\u3002</p> <p>\u8fd9\u91cc\u8981\u6ce8\u610f\u51e0\u70b9\uff1a \u7b2c\u4e00\uff0creact\u9996\u6b21\u6e32\u67d3\u548c\u4e4b\u540e\u7684\u6bcf\u6b21\u6e32\u67d3\u90fd\u4f1a\u8c03\u7528\u4e00\u904d\u4f20\u7ed9useEffect\u7684\u51fd\u6570\u3002\u800c\u4e4b\u524d\u6211\u4eec\u8981\u7528\u4e24\u4e2a\u58f0\u660e\u5468\u671f\u51fd\u6570\u6765\u5206\u522b\u8868\u793a\u9996\u6b21\u6e32\u67d3\uff08componentDidMount\uff09\uff0c\u548c\u4e4b\u540e\u7684\u66f4\u65b0\u5bfc\u81f4\u7684\u91cd\u65b0\u6e32\u67d3\uff08componentDidUpdate\uff09\u3002</p> <p>\u7b2c\u4e8c\uff0cuseEffect\u4e2d\u5b9a\u4e49\u7684\u526f\u4f5c\u7528\u51fd\u6570\u7684\u6267\u884c\u4e0d\u4f1a\u963b\u788d\u6d4f\u89c8\u5668\u66f4\u65b0\u89c6\u56fe\uff0c\u4e5f\u5c31\u662f\u8bf4\u8fd9\u4e9b\u51fd\u6570\u662f\u5f02\u6b65\u6267\u884c\u7684\uff0c\u800c\u4e4b\u524d\u7684componentDidMount\u6216componentDidUpdate\u4e2d\u7684\u4ee3\u7801\u5219\u662f\u540c\u6b65\u6267\u884c\u7684\u3002\u8fd9\u79cd\u5b89\u6392\u5bf9\u5927\u591a\u6570\u526f\u4f5c\u7528\u8bf4\u90fd\u662f\u5408\u7406\u7684\uff0c\u4f46\u6709\u7684\u60c5\u51b5\u9664\u5916\uff0c\u6bd4\u5982\u6211\u4eec\u6709\u65f6\u5019\u9700\u8981\u5148\u6839\u636eDOM\u8ba1\u7b97\u51fa\u67d0\u4e2a\u5143\u7d20\u7684\u5c3a\u5bf8\u518d\u91cd\u65b0\u6e32\u67d3\uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u5e0c\u671b\u8fd9\u6b21\u91cd\u65b0\u6e32\u67d3\u662f\u540c\u6b65\u53d1\u751f\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u5b83\u4f1a\u5728\u6d4f\u89c8\u5668\u771f\u7684\u53bb\u7ed8\u5236\u8fd9\u4e2a\u9875\u9762\u524d\u53d1\u751f\u3002</p>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#useeffect_1","title":"useEffect\u600e\u4e48\u89e3\u7ed1\u4e00\u4e9b\u526f\u4f5c\u7528","text":"<p>\u8fd9\u79cd\u573a\u666f\u5f88\u5e38\u89c1\uff0c\u5f53\u6211\u4eec\u5728componentDidMount\u91cc\u6dfb\u52a0\u4e86\u4e00\u4e2a\u6ce8\u518c\uff0c\u6211\u4eec\u5f97\u9a6c\u4e0a\u5728componentWillUnmount\u4e2d\uff0c\u4e5f\u5c31\u662f\u7ec4\u4ef6\u88ab\u6ce8\u9500\u4e4b\u524d\u6e05\u9664\u6389\u6211\u4eec\u6dfb\u52a0\u7684\u6ce8\u518c\uff0c\u5426\u5219\u5185\u5b58\u6cc4\u6f0f\u7684\u95ee\u9898\u5c31\u51fa\u73b0\u4e86\u3002</p> <p>\u600e\u4e48\u6e05\u9664\u5462\uff1f\u8ba9\u6211\u4eec\u4f20\u7ed9useEffect\u7684\u526f\u4f5c\u7528\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\u5373\u53ef\u3002\u8fd9\u4e2a\u65b0\u7684\u51fd\u6570\u5c06\u4f1a\u5728\u7ec4\u4ef6\u4e0b\u4e00\u6b21\u91cd\u65b0\u6e32\u67d3\u4e4b\u540e\u6267\u884c\u3002\u8fd9\u79cd\u6a21\u5f0f\u5728\u4e00\u4e9bpubsub\u6a21\u5f0f\u7684\u5b9e\u73b0\u4e2d\u5f88\u5e38\u89c1\u3002\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a</p> <pre><code>import { useState, useEffect } from 'react';\n\nfunction FriendStatus(props) {\n  const [isOnline, setIsOnline] = useState(null);\n\n  function handleStatusChange(status) {\n    setIsOnline(status.isOnline);\n  }\n\n  useEffect(() =&gt; {\n    ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);\n    // \u4e00\u5b9a\u6ce8\u610f\u4e0b\u8fd9\u4e2a\u987a\u5e8f\uff1a\u544a\u8bc9react\u5728\u4e0b\u6b21\u91cd\u65b0\u6e32\u67d3\u7ec4\u4ef6\u4e4b\u540e\uff0c\u540c\u65f6\u662f\u4e0b\u6b21\u8c03\u7528ChatAPI.subscribeToFriendStatus\u4e4b\u524d\u6267\u884ccleanup\n    return function cleanup() {\n      ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);\n    };\n  });\n\n  if (isOnline === null) {\n    return 'Loading...';\n  }\n  return isOnline ? 'Online' : 'Offline';\n}\n</code></pre> <p>\u8fd9\u91cc\u6709\u4e00\u4e2a\u70b9\u9700\u8981\u91cd\u89c6\uff01\u8fd9\u79cd\u89e3\u7ed1\u7684\u6a21\u5f0f\u8ddfcomponentWillUnmount\u4e0d\u4e00\u6837\u3002componentWillUnmount\u53ea\u4f1a\u5728\u7ec4\u4ef6\u88ab\u9500\u6bc1\u524d\u6267\u884c\u4e00\u6b21\u800c\u5df2\uff0c\u800cuseEffect\u91cc\u7684\u51fd\u6570\uff0c\u6bcf\u6b21\u7ec4\u4ef6\u6e32\u67d3\u540e\u90fd\u4f1a\u6267\u884c\u4e00\u904d\uff0c\u5305\u62ec\u526f\u4f5c\u7528\u51fd\u6570\u8fd4\u56de\u7684\u8fd9\u4e2a\u6e05\u7406\u51fd\u6570\u4e5f\u4f1a\u91cd\u65b0\u6267\u884c\u4e00\u904d\u3002\u6240\u4ee5\u6211\u4eec\u4e00\u8d77\u6765\u770b\u4e00\u4e0b\u4e0b\u9762\u8fd9\u4e2a\u95ee\u9898\u3002</p>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#_8","title":"\u4e3a\u4ec0\u4e48\u8981\u8ba9\u526f\u4f5c\u7528\u51fd\u6570\u6bcf\u6b21\u7ec4\u4ef6\u66f4\u65b0\u90fd\u6267\u884c\u4e00\u904d\uff1f","text":"<p>\u6211\u4eec\u5148\u770b\u4ee5\u524d\u7684\u6a21\u5f0f\uff1a</p> <pre><code>  componentDidMount() {\n    ChatAPI.subscribeToFriendStatus(\n      this.props.friend.id,\n      this.handleStatusChange\n    );\n  }\n\n  componentWillUnmount() {\n    ChatAPI.unsubscribeFromFriendStatus(\n      this.props.friend.id,\n      this.handleStatusChange\n    );\n  }\n</code></pre> <p>\u5f88\u6e05\u9664\uff0c\u6211\u4eec\u5728componentDidMount\u6ce8\u518c\uff0c\u518d\u5728componentWillUnmount\u6e05\u9664\u6ce8\u518c\u3002\u4f46\u5047\u5982\u8fd9\u65f6\u5019<code>props.friend.id</code>\u53d8\u4e86\u600e\u4e48\u529e\uff1f\u6211\u4eec\u4e0d\u5f97\u4e0d\u518d\u6dfb\u52a0\u4e00\u4e2acomponentDidUpdate\u6765\u5904\u7406\u8fd9\u79cd\u60c5\u51b5\uff1a</p> <pre><code>...\n  componentDidUpdate(prevProps) {\n    // \u5148\u628a\u4e0a\u4e00\u4e2afriend.id\u89e3\u7ed1\n    ChatAPI.unsubscribeFromFriendStatus(\n      prevProps.friend.id,\n      this.handleStatusChange\n    );\n    // \u518d\u91cd\u65b0\u6ce8\u518c\u65b0\u4f46friend.id\n    ChatAPI.subscribeToFriendStatus(\n      this.props.friend.id,\n      this.handleStatusChange\n    );\n  }\n...\n</code></pre> <p>\u770b\u5230\u4e86\u5417\uff1f\u5f88\u7e41\u7410\uff0c\u800c\u6211\u4eec\u4f46useEffect\u5219\u6ca1\u8fd9\u4e2a\u95ee\u9898\uff0c\u56e0\u4e3a\u5b83\u5728\u6bcf\u6b21\u7ec4\u4ef6\u66f4\u65b0\u540e\u90fd\u4f1a\u91cd\u65b0\u6267\u884c\u4e00\u904d\u3002\u6240\u4ee5\u4ee3\u7801\u7684\u6267\u884c\u987a\u5e8f\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>1.\u9875\u9762\u9996\u6b21\u6e32\u67d3\n2.\u66fffriend.id=1\u7684\u670b\u53cb\u6ce8\u518c\n\n3.\u7a81\u7136friend.id\u53d8\u6210\u4e862\n4.\u9875\u9762\u91cd\u65b0\u6e32\u67d3\n5.\u6e05\u9664friend.id=1\u7684\u7ed1\u5b9a\n6.\u66fffriend.id=2\u7684\u670b\u53cb\u6ce8\u518c\n...\n</code></pre>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#_9","title":"\u600e\u4e48\u8df3\u8fc7\u4e00\u4e9b\u4e0d\u5fc5\u8981\u7684\u526f\u4f5c\u7528\u51fd\u6570","text":"<p>\u6309\u7167\u4e0a\u4e00\u8282\u7684\u601d\u8def\uff0c\u6bcf\u6b21\u91cd\u65b0\u6e32\u67d3\u90fd\u8981\u6267\u884c\u4e00\u904d\u8fd9\u4e9b\u526f\u4f5c\u7528\u51fd\u6570\uff0c\u663e\u7136\u662f\u4e0d\u7ecf\u6d4e\u7684\u3002\u600e\u4e48\u8df3\u8fc7\u4e00\u4e9b\u4e0d\u5fc5\u8981\u7684\u8ba1\u7b97\u5462\uff1f\u6211\u4eec\u53ea\u9700\u8981\u7ed9useEffect\u4f20\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5373\u53ef\u3002\u7528\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6765\u544a\u8bc9react\u53ea\u6709\u5f53\u8fd9\u4e2a\u53c2\u6570\u7684\u503c\u53d1\u751f\u6539\u53d8\u65f6\uff0c\u624d\u6267\u884c\u6211\u4eec\u4f20\u7684\u526f\u4f5c\u7528\u51fd\u6570\uff08\u7b2c\u4e00\u4e2a\u53c2\u6570\uff09\u3002</p> <pre><code>useEffect(() =&gt; {\n  document.title = `You clicked ${count} times`;\n}, [count]); // \u53ea\u6709\u5f53count\u7684\u503c\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u624d\u4f1a\u91cd\u65b0\u6267\u884c`document.title`\u8fd9\u4e00\u53e5\n</code></pre> <p>\u5f53\u6211\u4eec\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u4e00\u4e2a\u7a7a\u6570\u7ec4[]\u65f6\uff0c\u5176\u5b9e\u5c31\u76f8\u5f53\u4e8e\u53ea\u5728\u9996\u6b21\u6e32\u67d3\u7684\u65f6\u5019\u6267\u884c\u3002\u4e5f\u5c31\u662fcomponentDidMount\u52a0componentWillUnmount\u7684\u6a21\u5f0f\u3002\u4e0d\u8fc7\u8fd9\u79cd\u7528\u6cd5\u53ef\u80fd\u5e26\u6765bug\uff0c\u5c11\u7528\u3002</p>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#effect-hooks_1","title":"\u8fd8\u6709\u54ea\u4e9b\u81ea\u5e26\u7684Effect Hooks?","text":"<p>\u9664\u4e86\u4e0a\u6587\u91cd\u70b9\u4ecb\u7ecd\u7684useState\u548cuseEffect\uff0creact\u8fd8\u7ed9\u6211\u4eec\u63d0\u4f9b\u6765\u5f88\u591a\u6709\u7528\u7684hooks\uff1a</p> <p>useContext useReducer useCallback useMemo useRef useImperativeMethods useMutationEffect useLayoutEffect</p> <p>\u6211\u4e0d\u518d\u4e00\u4e00\u4ecb\u7ecd\uff0c\u5927\u5bb6\u81ea\u884c\u53bb\u67e5\u9605\u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"react-hooks/06%20%E7%B2%BE%E9%80%9AReact%20Hooks/#effect-hooks_2","title":"\u600e\u4e48\u5199\u81ea\u5b9a\u4e49\u7684Effect Hooks?","text":"<p>\u4e3a\u4ec0\u4e48\u8981\u81ea\u5df1\u53bb\u5199\u4e00\u4e2aEffect Hooks? \u8fd9\u6837\u6211\u4eec\u624d\u80fd\u628a\u53ef\u4ee5\u590d\u7528\u7684\u903b\u8f91\u62bd\u79bb\u51fa\u6765\uff0c\u53d8\u6210\u4e00\u4e2a\u4e2a\u53ef\u4ee5\u968f\u610f\u63d2\u62d4\u7684\u201c\u63d2\u9500\u201d\uff0c\u54ea\u4e2a\u7ec4\u4ef6\u8981\u7528\u6765\uff0c\u6211\u5c31\u63d2\u8fdb\u54ea\u4e2a\u7ec4\u4ef6\u91cc\uff0cso easy\uff01\u770b\u4e00\u4e2a\u5b8c\u6574\u7684\u4f8b\u5b50\uff0c\u4f60\u5c31\u660e\u767d\u4e86\u3002</p> <p>\u6bd4\u5982\u6211\u4eec\u53ef\u4ee5\u628a\u4e0a\u9762\u5199\u7684FriendStatus\u7ec4\u4ef6\u4e2d\u5224\u65ad\u670b\u53cb\u662f\u5426\u5728\u7ebf\u7684\u529f\u80fd\u62bd\u51fa\u6765\uff0c\u65b0\u5efa\u4e00\u4e2auseFriendStatus\u7684hook\u4e13\u95e8\u7528\u6765\u5224\u65ad\u67d0\u4e2aid\u662f\u5426\u5728\u7ebf\u3002</p> <pre><code>import { useState, useEffect } from 'react';\n\nfunction useFriendStatus(friendID) {\n  const [isOnline, setIsOnline] = useState(null);\n\n  function handleStatusChange(status) {\n    setIsOnline(status.isOnline);\n  }\n\n  useEffect(() =&gt; {\n    ChatAPI.subscribeToFriendStatus(friendID, handleStatusChange);\n    return () =&gt; {\n      ChatAPI.unsubscribeFromFriendStatus(friendID, handleStatusChange);\n    };\n  });\n\n  return isOnline;\n}\n</code></pre> <p>\u8fd9\u65f6\u5019FriendStatus\u7ec4\u4ef6\u5c31\u53ef\u4ee5\u7b80\u5199\u4e3a\uff1a</p> <pre><code>function FriendStatus(props) {\n  const isOnline = useFriendStatus(props.friend.id);\n\n  if (isOnline === null) {\n    return 'Loading...';\n  }\n  return isOnline ? 'Online' : 'Offline';\n}\n</code></pre> <p>\u7b80\u76f4Perfect\uff01\u5047\u5982\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u53c8\u6709\u4e00\u4e2a\u670b\u53cb\u5217\u8868\u4e5f\u9700\u8981\u663e\u793a\u662f\u5426\u5728\u7ebf\u7684\u4fe1\u606f\uff1a</p> <pre><code>function FriendListItem(props) {\n  const isOnline = useFriendStatus(props.friend.id);\n\n  return (\n    &lt;li style={{ color: isOnline ? 'green' : 'black' }}&gt;\n      {props.friend.name}\n    &lt;/li&gt;\n  );\n}\n</code></pre> <p>\u7b80\u76f4Fabulous!</p>"},{"location":"react-hooks/07%20React%20Hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/","title":"React Hooks \u6700\u4f73\u5b9e\u8df5","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 36951  \u9605\u8bfb74\u5206\u949f</p> <p>https://juejin.cn/post/6844904165500518414</p> <p>\u7f51\u6613\u4e91\u97f3\u4e50\u6280\u672f\u56e2\u961f</p> <p>2020-05-2256,710\u9605\u8bfb24\u5206\u949f</p>"},{"location":"react-hooks/07%20React%20Hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/#_1","title":"\u5199\u5728\u524d\u9762","text":"<p>\u5728\u8fc7\u53bb\u7684\u51e0\u4e2a\u6708\u91cc\uff0cReact Hooks \u5728\u6211\u4eec\u7684\u9879\u76ee\u4e2d\u5f97\u5230\u4e86\u5145\u5206\u5229\u7528\u3002\u5728\u5b9e\u9645\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u6211\u53d1\u73b0 React Hooks \u9664\u4e86\u5e26\u6765\u7b80\u6d01\u7684\u4ee3\u7801\u5916\uff0c\u4e5f\u5b58\u5728\u5bf9\u5176\u4f7f\u7528\u4e0d\u5f53\u7684\u60c5\u51b5\u3002</p> <p>\u5728\u8fd9\u7bc7\u6587\u7ae0\u4e2d\uff0c\u6211\u60f3\u603b\u7ed3\u6211\u8fc7\u53bb\u51e0\u4e2a\u6708\u6765\u5bf9 React Hooks \u4f7f\u7528\uff0c\u5206\u4eab\u6211\u5bf9\u5b83\u7684\u770b\u6cd5\u4ee5\u53ca\u6211\u8ba4\u4e3a\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u4f9b\u5927\u5bb6\u53c2\u8003\u3002</p> <p>\u672c\u6587\u5047\u5b9a\u8bfb\u8005\u5df2\u7ecf\u5bf9 React-Hooks \u53ca\u5176\u4f7f\u7528\u65b9\u5f0f\u6709\u4e86\u521d\u6b65\u7684\u4e86\u89e3\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7 \u5b98\u65b9\u6587\u6863 \u8fdb\u884c\u5b66\u4e60\u3002</p>"},{"location":"react-hooks/07%20React%20Hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/#_2","title":"\u51fd\u6570\u5f0f\u7ec4\u4ef6","text":"<p>\u7b80\u800c\u8a00\u4e4b\uff0c\u5c31\u662f\u5728\u4e00\u4e2a\u51fd\u6570\u4e2d\u8fd4\u56de React Element\u3002</p> <pre><code>const App = (props) =&gt; {\n    const { title } = props;\n    return (\n        &lt;h1&gt;{title}&lt;/h1&gt;\n    );  \n};\n</code></pre> <p>\u4e00\u822c\u7684\uff0c\u8be5\u51fd\u6570\u63a5\u6536\u552f\u4e00\u7684\u53c2\u6570\uff1aprops \u5bf9\u8c61\u3002\u4ece\u8be5\u5bf9\u8c61\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u8bfb\u53d6\u5230\u6570\u636e\uff0c\u5e76\u901a\u8fc7\u8ba1\u7b97\u4ea7\u751f\u65b0\u7684\u6570\u636e\uff0c\u6700\u540e\u8fd4\u56de React Elements \u4ee5\u4ea4\u7ed9 React \u8fdb\u884c\u6e32\u67d3\u3002\u6b64\u5916\u4e5f\u53ef\u4ee5\u9009\u62e9\u5728\u51fd\u6570\u4e2d\u6267\u884c\u526f\u4f5c\u7528\u3002</p> <p>\u5728\u672c\u6587\u4e2d\uff0c\u6211\u4eec\u7ed9\u51fd\u6570\u5f0f\u7ec4\u4ef6\u7684\u51fd\u6570\u8d77\u4e2a\u7b80\u5355\u4e00\u70b9\u7684\u540d\u5b57\uff1arender \u51fd\u6570\u3002</p> <pre><code>const appElement = App({ title: \"XXX\" });\nReactDOM.render(\n    appElement,\n    document.getElementById('app')\n);\n</code></pre> <p>\u5728\u4e0a\u65b9\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u81ea\u884c\u8c03\u7528\u4e86 render \u51fd\u6570\u4ee5\u671f\u6267\u884c\u6e32\u67d3\u3002\u7136\u800c\u8fd9\u5728 React \u4e2d\u4e0d\u662f\u6b63\u5e38\u7684\u64cd\u4f5c\u3002</p> <p>\u6b63\u5e38\u64cd\u4f5c\u662f\u50cf\u4e0b\u65b9\u8fd9\u6837\u7684\u4ee3\u7801\uff1a</p> <pre><code>// React.createElement(App, {\n//     title: \"XXX\"\n// });\nconst appElement = &lt;App title=\"XXX\" /&gt;;\nReactDOM.render(\n    appElement,\n    document.getElementById('app')\n);\n</code></pre> <p>\u5728 React \u5185\u90e8\uff0c\u5b83\u4f1a\u51b3\u5b9a\u5728\u4f55\u65f6\u8c03\u7528 render \u51fd\u6570\uff0c\u5e76\u5bf9\u8fd4\u56de\u7684 React Elements \u8fdb\u884c\u904d\u5386\uff0c\u5982\u679c\u9047\u5230\u51fd\u6570\u7ec4\u4ef6\uff0cReact \u4fbf\u4f1a\u7ee7\u7eed\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u7ec4\u4ef6\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u4ee5\u7531\u7236\u7ec4\u4ef6\u901a\u8fc7 props \u5c06\u6570\u636e\u4f20\u9012\u5230\u8be5\u5b50\u7ec4\u4ef6\u4e2d\u3002\u6700\u7ec8 React \u4f1a\u8c03\u7528\u5b8c\u6240\u6709\u7684\u7ec4\u4ef6\uff0c\u4ece\u800c\u77e5\u6653\u5982\u4f55\u8fdb\u884c\u6e32\u67d3\u3002</p> <p>\u8fd9\u79cd\u628a render \u51fd\u6570\u4ea4\u7ed9 React \u5185\u90e8\u5904\u7406\u7684\u673a\u5236\uff0c\u4e3a\u5f15\u5165\u72b6\u6001\u5e26\u6765\u4e86\u53ef\u80fd\u3002</p> <p>\u5728\u672c\u6587\u4e2d\uff0c\u4e3a\u4e86\u65b9\u4fbf\u63cf\u8ff0\uff0c\u5bf9\u4e8e render \u51fd\u6570\u7684\u6bcf\u6b21\u8c03\u7528\uff0c\u6211\u60f3\u79f0\u5b83\u4e3a\u4e00\u5e27\u3002</p>"},{"location":"react-hooks/07%20React%20Hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/#_3","title":"\u6bcf\u4e00\u5e27\u62e5\u6709\u72ec\u7acb\u7684\u53d8\u91cf","text":"<p>\u5728\u5f15\u5165\u72b6\u6001\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u660e\u767d\u8fd9\u4e00\u70b9\u3002</p> <p>\u6211\u4eec\u901a\u8fc7 \u4f8b\u4e00 \u8fdb\u884c\u89c2\u5bdf\uff1a</p> <p></p> <pre><code>function Example(props) {\n    const { count } = props;\n    const handleClick = () =&gt; {\n        setTimeout(() =&gt; {\n            alert(count);\n        }, 3000);\n    };\n    return (\n        &lt;div&gt;\n            &lt;p&gt;{count}&lt;/p&gt;\n            &lt;button onClick={handleClick}&gt;Alert Count&lt;/button&gt;\n        &lt;/div&gt;\n    );\n}\n</code></pre> <p>\u91cd\u70b9\u5173\u6ce8 <code>&lt;Example&gt;</code> \u51fd\u6570\u7ec4\u4ef6\u7684\u4ee3\u7801\uff0c\u5176\u4e2d\u7684 <code>count</code> \u5c5e\u6027\u7531\u7236\u7ec4\u4ef6\u4f20\u5165\uff0c\u521d\u59cb\u503c\u4e3a 0\uff0c\u6bcf\u9694\u4e00\u79d2\u589e\u52a0 1\u3002\u70b9\u51fb \"Alert Count\" \u6309\u94ae\uff0c\u5c06\u5ef6\u8fdf 3 \u79d2\u949f\u5f39\u51fa <code>count</code> \u7684\u503c\u3002\u64cd\u4f5c\u540e\u53d1\u73b0\uff0c\u5f39\u7a97\u4e2d\u51fa\u73b0\u7684\u503c\uff0c\u4e0e\u9875\u9762\u4e2d\u6587\u672c\u5c55\u793a\u7684\u503c\u4e0d\u540c\uff0c\u800c\u662f\u7b49\u4e8e\u70b9\u51fb \"alert Count\" \u6309\u94ae\u65f6 <code>count</code> \u7684\u503c\u3002</p> <p>\u5982\u679c\u66f4\u6362\u4e3a class \u7ec4\u4ef6\uff0c\u5b83\u7684\u5b9e\u73b0\u662f <code>&lt;Example2&gt;</code> \u8fd9\u6837\u7684\uff1a</p> <pre><code>class Example2 extends Component {\n    handleClick = () =&gt; {\n        setTimeout(() =&gt; {\n            alert(this.props.count);\n        }, 3000);\n    };\n\n    render() {\n        return (\n            &lt;div&gt;\n                &lt;h2&gt;Example2&lt;/h2&gt;\n                &lt;p&gt;{this.props.count}&lt;/p&gt;\n                &lt;button onClick={this.handleClick}&gt;Alert Count&lt;/button&gt;\n            &lt;/div&gt;\n        );\n    }\n}\n</code></pre> <p>\u6b64\u65f6\uff0c\u70b9\u51fb \"Alert Count\" \u6309\u94ae\uff0c\u5ef6\u8fdf 3 \u79d2\u949f\u5f39\u51fa <code>count</code> \u7684\u503c\uff0c\u4e0e\u9875\u9762\u4e2d\u6587\u672c\u5c55\u793a\u7684\u503c\u662f\u4e00\u6837\u7684\u3002</p> <p>\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c<code>&lt;Example&gt;</code> \u51fd\u6570\u7ec4\u4ef6\u4e2d\u7684\u884c\u4e3a\u624d\u7b26\u5408\u9884\u671f\u3002\u5982\u679c\u5c06 <code>setTimeout</code> \u7c7b\u6bd4\u5230\u4e00\u6b21 Fetch \u8bf7\u6c42\uff0c\u5728\u8bf7\u6c42\u6210\u529f\u65f6\uff0c\u6211\u8981\u83b7\u53d6\u7684\u662f\u53d1\u8d77 Fetch \u8bf7\u6c42\u524d\u76f8\u5173\u7684\u6570\u636e\uff0c\u5e76\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\u3002</p> <p>\u5982\u4f55\u7406\u89e3\u5176\u4e2d\u7684\u5dee\u5f02\u5462\uff1f</p> <p>\u5728 <code>&lt;Example2&gt;</code> class \u7ec4\u4ef6\u4e2d\uff0c\u6211\u4eec\u662f\u4ece <code>this</code> \u4e2d\u83b7\u53d6\u5230\u7684 <code>props.count</code>\u3002<code>this</code> \u662f\u56fa\u5b9a\u6307\u5411\u540c\u4e00\u4e2a\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u3002\u5728 3 \u79d2\u7684\u5ef6\u65f6\u5668\u751f\u6548\u540e\uff0c\u7ec4\u4ef6\u91cd\u65b0\u8fdb\u884c\u4e86\u6e32\u67d3\uff0c<code>this.props</code> \u4e5f\u53d1\u751f\u4e86\u6539\u53d8\u3002\u5f53\u5ef6\u65f6\u7684\u56de\u8c03\u51fd\u6570\u6267\u884c\u65f6\uff0c\u8bfb\u53d6\u5230\u7684 <code>this.props</code> \u662f\u5f53\u524d\u7ec4\u4ef6\u6700\u65b0\u7684\u5c5e\u6027\u503c\u3002</p> <p>\u800c\u5728 <code>&lt;Example&gt;</code> \u51fd\u6570\u7ec4\u4ef6\u4e2d\uff0c\u6bcf\u4e00\u6b21\u6267\u884c render \u51fd\u6570\u65f6\uff0c<code>props</code> \u4f5c\u4e3a\u8be5\u51fd\u6570\u7684\u53c2\u6570\u4f20\u5165\uff0c\u5b83\u662f\u51fd\u6570\u4f5c\u7528\u57df\u4e0b\u7684\u53d8\u91cf\u3002</p> <p>\u5f53 <code>&lt;Example&gt;</code> \u7ec4\u4ef6\u88ab\u521b\u5efa\uff0c\u5c06\u8fd0\u884c\u7c7b\u4f3c\u8fd9\u6837\u7684\u4ee3\u7801\u6765\u5b8c\u6210\u7b2c\u4e00\u5e27\uff1a</p> <pre><code>const props_0 = { count: 0 };\n\nconst handleClick_0 = () =&gt; {\n    setTimeout(() =&gt; {\n        alert(props_0.count);\n    }, 3000);\n};\nreturn (\n    &lt;div&gt;\n        &lt;h2&gt;Example&lt;/h2&gt;\n        &lt;p&gt;{props_0.count}&lt;/p&gt;\n        &lt;button onClick={handleClick_0}&gt;alert Count&lt;/button&gt;\n    &lt;/div&gt;\n);\n</code></pre> <p>\u5f53\u7236\u7ec4\u4ef6\u4f20\u5165\u7684 count \u53d8\u4e3a 1\uff0cReact \u4f1a\u518d\u6b21\u8c03\u7528 <code>Example</code> \u51fd\u6570\uff0c\u6267\u884c\u7b2c\u4e8c\u5e27\uff0c\u6b64\u65f6 <code>count</code> \u662f <code>1</code>\u3002</p> <pre><code>const props_1 = { count: 1 };\n\nconst handleClick_1 = () =&gt; {\n    setTimeout(() =&gt; {\n        alert(props_1.count);\n    }, 3000);\n};\nreturn (\n    &lt;div&gt;\n        &lt;h2&gt;Example&lt;/h2&gt;\n        &lt;p&gt;{props_1.count}&lt;/p&gt;\n        &lt;button onClick={handleClick_1}&gt;alert Count&lt;/button&gt;\n    &lt;/div&gt;\n);\n</code></pre> <p>\u7531\u4e8e <code>props</code> \u662f <code>Example</code> \u51fd\u6570\u4f5c\u7528\u57df\u4e0b\u7684\u53d8\u91cf\uff0c\u53ef\u4ee5\u8bf4\u5bf9\u4e8e\u8fd9\u4e2a\u51fd\u6570\u7684\u6bcf\u4e00\u6b21\u8c03\u7528\u4e2d\uff0c\u90fd\u4ea7\u751f\u4e86\u65b0\u7684 <code>props</code> \u53d8\u91cf\uff0c\u5b83\u5728\u58f0\u660e\u65f6\u88ab\u8d4b\u4e88\u4e86\u5f53\u524d\u7684\u5c5e\u6027\uff0c\u4ed6\u4eec\u76f8\u4e92\u95f4\u4e92\u4e0d\u5f71\u54cd\u3002</p> <p>\u6362\u4e00\u79cd\u8bf4\u6cd5\uff0c\u5bf9\u4e8e\u5176\u4e2d\u4efb\u4e00\u4e2a <code>props</code> \uff0c\u5176\u503c\u5728\u58f0\u660e\u65f6\u4fbf\u5df2\u7ecf\u51b3\u5b9a\uff0c\u4e0d\u4f1a\u968f\u7740\u65f6\u95f4\u4ea7\u751f\u53d8\u5316\u3002<code>handleClick</code> \u51fd\u6570\u4ea6\u662f\u5982\u6b64\u3002\u4f8b\u5982\u5b9a\u65f6\u5668\u7684\u56de\u8c03\u51fd\u6570\u662f\u5728\u672a\u6765\u53d1\u751f\u7684\uff0c\u4f46 <code>props.count</code> \u7684\u503c\u662f\u5728\u58f0\u660e <code>handleClick</code> \u51fd\u6570\u65f6\u5c31\u5df2\u7ecf\u51b3\u5b9a\u597d\u7684\u3002</p> <p>\u5982\u679c\u6211\u4eec\u5728\u51fd\u6570\u5f00\u5934\u4f7f\u7528\u89e3\u6784\u8d4b\u503c\uff0c<code>const { count } = props</code>\uff0c\u4e4b\u540e\u76f4\u63a5\u4f7f\u7528 <code>count</code>\uff0c\u548c\u4e0a\u9762\u7684\u60c5\u51b5\u6ca1\u6709\u533a\u522b\u3002</p>"},{"location":"react-hooks/07%20React%20Hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/#_4","title":"\u72b6\u6001","text":"<p>\u53ef\u4ee5\u7b80\u5355\u7684\u8ba4\u4e3a\uff0c\u5728\u67d0\u4e2a\u7ec4\u4ef6\u4e2d\uff0c\u5bf9\u4e8e\u8fd4\u56de\u7684 React Elements \u6811\u5f62\u7ed3\u6784\uff0c\u67d0\u4e2a\u4f4d\u7f6e\u7684 element \uff0c\u5176\u7c7b\u578b\u4e0e key \u5c5e\u6027\u5747\u4e0d\u53d8\uff0cReact \u4fbf\u4f1a\u9009\u62e9\u91cd\u7528\u8be5\u7ec4\u4ef6\u5b9e\u4f8b\uff1b\u5426\u5219\uff0c\u6bd4\u5982\u4ece <code>&lt;A/&gt;</code> \u7ec4\u4ef6\u5207\u6362\u5230\u4e86 <code>&lt;B/&gt;</code> \u7ec4\u4ef6\uff0c\u4f1a\u9500\u6bc1 A\uff0c\u7136\u540e\u91cd\u5efa B\uff0cB \u6b64\u65f6\u4f1a\u6267\u884c\u7b2c\u4e00\u5e27\u3002</p> <p>\u5728\u5b9e\u4f8b\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>useState</code> \u7b49\u65b9\u5f0f\u62e5\u6709\u5c40\u90e8\u72b6\u6001\u3002\u5728\u91cd\u7528\u7684\u8fc7\u7a0b\u4e2d\uff0c\u8fd9\u4e9b\u72b6\u6001\u4f1a\u5f97\u5230\u4fdd\u7559\u3002\u800c\u5982\u679c\u65e0\u6cd5\u91cd\u7528\uff0c\u72b6\u6001\u4f1a\u88ab\u9500\u6bc1\u3002</p> <p>\u4f8b\u5982 <code>useState</code>\uff0c\u4e3a\u5f53\u524d\u7684\u51fd\u6570\u7ec4\u4ef6\u521b\u5efa\u4e86\u4e00\u4e2a\u72b6\u6001\uff0c\u8fd9\u4e2a\u72b6\u6001\u7684\u503c\u72ec\u7acb\u4e8e\u51fd\u6570\u5b58\u653e\u3002 <code>useState</code> \u4f1a\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5728\u8be5\u6570\u7ec4\u4e2d\uff0c\u5f97\u5230\u8be5\u72b6\u6001\u7684\u503c\u548c\u66f4\u65b0\u8be5\u72b6\u6001\u7684\u65b9\u6cd5\u3002\u901a\u8fc7\u89e3\u6784\uff0c\u8be5\u72b6\u6001\u7684\u503c\u4f1a\u8d4b\u503c\u5230\u5f53\u524d render \u51fd\u6570\u4f5c\u7528\u57df\u4e0b\u7684\u4e00\u4e2a\u5e38\u91cf <code>state</code> \u4e2d\u3002</p> <pre><code>const [state, setState] = useState(initialState);\n</code></pre> <p>\u5f53\u7ec4\u4ef6\u88ab\u521b\u5efa\u800c\u4e0d\u662f\u91cd\u7528\u65f6\uff0c\u5373\u5728\u7ec4\u4ef6\u7684\u7b2c\u4e00\u5e27\u4e2d\uff0c\u8be5\u72b6\u6001\u5c06\u88ab\u8d4b\u4e88\u521d\u59cb\u503c <code>initialState</code>\uff0c\u800c\u4e4b\u540e\u7684\u91cd\u7528\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u4f1a\u88ab\u91cd\u590d\u8d4b\u4e88\u521d\u59cb\u503c\u3002</p> <p>\u901a\u8fc7\u8c03\u7528 <code>setState</code> \uff0c\u53ef\u4ee5\u66f4\u65b0\u72b6\u6001\u7684\u503c\u3002</p>"},{"location":"react-hooks/07%20React%20Hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/#_5","title":"\u6bcf\u4e00\u5e27\u62e5\u6709\u72ec\u7acb\u7684\u72b6\u6001","text":"<p>\u9700\u8981\u660e\u786e\u7684\u662f\uff0c<code>state</code> \u4f5c\u4e3a\u51fd\u6570\u4e2d\u7684\u4e00\u4e2a\u5e38\u91cf\uff0c\u5c31\u662f\u666e\u901a\u7684\u6570\u636e\uff0c\u5e76\u4e0d\u5b58\u5728\u8bf8\u5982\u6570\u636e\u7ed1\u5b9a\u8fd9\u6837\u7684\u64cd\u4f5c\u6765\u9a71\u4f7f DOM \u53d1\u751f\u66f4\u65b0\u3002\u5728\u8c03\u7528 <code>setState</code> \u540e\uff0cReact \u5c06\u91cd\u65b0\u6267\u884c render \u51fd\u6570\uff0c\u4ec5\u6b64\u800c\u5df2\u3002</p> <p>\u56e0\u6b64\uff0c\u72b6\u6001\u4e5f\u662f\u51fd\u6570\u4f5c\u7528\u57df\u4e0b\u7684\u666e\u901a\u53d8\u91cf\u3002\u6211\u4eec\u53ef\u4ee5\u8bf4\u6bcf\u6b21\u51fd\u6570\u6267\u884c\u62e5\u6709\u72ec\u7acb\u7684\u72b6\u6001\u3002</p> <p>\u4e3a\u4e86\u52a0\u6df1\u5370\u8c61\uff0c\u6211\u4eec\u6765\u770b \u4f8b\u4e8c\uff0c\u5b83\u662f React \u5b98\u7f51\u67d0\u4e2a\u4f8b\u5b50\u7684\u590d\u6742\u5316\uff1a</p> <p></p> <pre><code>function Example2() {\n    const [count, setCount] = useState(0);\n\n    const handleClick = () =&gt; {\n        setTimeout(() =&gt; {\n            setCount(count + 1);\n        }, 3000);\n    };\n\n    return (\n        &lt;div&gt;\n            &lt;p&gt;{count}&lt;/p&gt;\n            &lt;button onClick={() =&gt; setCount(count + 1)}&gt;\n                setCount\n            &lt;/button&gt;\n            &lt;button onClick={handleClick}&gt;\n                Delay setCount\n            &lt;/button&gt;\n        &lt;/div&gt;\n    );\n}\n</code></pre> <p>\u5728\u7b2c\u4e00\u5e27\u4e2d\uff0c<code>p</code> \u6807\u7b7e\u4e2d\u7684\u6587\u672c\u4e3a 0\u3002\u70b9\u51fb \"Delay setCount\"\uff0c\u6587\u672c\u4f9d\u7136\u4e3a 0\u3002\u968f\u540e\u5728 3 \u79d2\u5185\u8fde\u7eed\u70b9\u51fb \"setCount\" \u4e24\u6b21\uff0c\u5c06\u4f1a\u5206\u522b\u6267\u884c\u7b2c\u4e8c\u5e27\u548c\u7b2c\u4e09\u5e27\u3002\u4f60\u5c06\u770b\u5230 <code>p</code> \u6807\u7b7e\u4e2d\u7684\u6587\u672c\u7531 0 \u53d8\u5316\u4e3a 1, 2\u3002\u4f46\u5728\u70b9\u51fb \"Delay setCount\" 3 \u79d2\u540e\uff0c\u6587\u672c\u91cd\u65b0\u53d8\u4e3a 1\u3002</p> <pre><code>// \u7b2c\u4e00\u5e27\nconst count_1 = 0;\n\nconst handleClick_1 = () =&gt; {\n    const delayAction_1 = () =&gt; {\n        setCount(count_1 + 1);\n    };\n    setTimeout(delayAction_1, 3000);\n};\n\n//...\n&lt;button onClick={handleClick_1}&gt;\n//...\n\n// \u70b9\u51fb \"setCount\" \u540e\u7b2c\u4e8c\u5e27\nconst count_2 = 1;\n\nconst handleClick_2 = () =&gt; {\n    const delayAction_2 = () =&gt; {\n        setCount(count_2 + 1);\n    };\n    setTimeout(delayAction_2, 3000);\n};\n\n//...\n&lt;button onClick={handleClick_2}&gt;\n//...\n\n// \u518d\u6b21\u70b9\u51fb \"setCount\" \u540e\u7b2c\u4e09\u5e27\nconst count_3 = 2;\n\nconst handleClick_3 = () =&gt; {\n    const delayAction_3 = () =&gt; {\n        setCount(count_3 + 1);\n    };\n    setTimeout(delayAction_3, 3000);\n};\n\n//...\n&lt;button onClick={handleClick_3}&gt;\n//...\n</code></pre> <p><code>count</code>\uff0c<code>handleClick</code> \u90fd\u662f <code>Example2</code> \u51fd\u6570\u4f5c\u7528\u57df\u4e2d\u7684\u5e38\u91cf\u3002\u5728\u70b9\u51fb \"Delay setCount\" \u65f6\uff0c\u5b9a\u65f6\u5668\u8bbe\u7f6e 3000ms \u5230\u671f\u540e\u7684\u6267\u884c\u51fd\u6570\u4e3a <code>delayAction_1</code>\uff0c\u51fd\u6570\u4e2d\u8bfb\u53d6 <code>count_1</code> \u5e38\u91cf\u7684\u503c\u662f 0\uff0c\u8fd9\u548c\u7b2c\u4e8c\u5e27\u7684 <code>count_2</code> \u65e0\u5173\u3002</p>"},{"location":"react-hooks/07%20React%20Hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/#_6","title":"\u83b7\u53d6\u8fc7\u53bb\u6216\u672a\u6765\u5e27\u4e2d\u7684\u503c","text":"<p>\u5bf9\u4e8e state\uff0c\u5982\u679c\u60f3\u8981\u5728\u7b2c\u4e00\u5e27\u65f6\u70b9\u51fb \"Delay setCount\" \uff0c\u5728\u4e00\u4e2a\u5f02\u6b65\u56de\u8c03\u51fd\u6570\u7684\u6267\u884c\u4e2d\uff0c\u83b7\u53d6\u5230 <code>count</code> \u6700\u65b0\u4e00\u5e27\u4e2d\u7684\u503c\uff0c\u4e0d\u59a8\u5411 <code>setCount</code> \u4f20\u5165\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u3002</p> <p>\u5176\u4ed6\u60c5\u51b5\u4e0b\uff0c\u4f8b\u5982\u9700\u8981\u8bfb\u53d6\u5230 state \u53ca\u5176\u884d\u751f\u7684\u67d0\u4e2a\u5e38\u91cf\uff0c\u76f8\u5bf9\u4e8e\u53d8\u91cf\u58f0\u660e\u65f6\u6240\u5728\u5e27\u8fc7\u53bb\u6216\u672a\u6765\u7684\u503c\uff0c\u5c31\u9700\u8981\u4f7f\u7528 <code>useRef</code>\uff0c\u901a\u8fc7\u5b83\u6765\u62e5\u6709\u4e00\u4e2a\u5728\u6240\u6709\u5e27\u4e2d\u5171\u4eab\u7684\u53d8\u91cf\u3002</p> <p>\u5982\u679c\u8981\u4e0e class \u7ec4\u4ef6\u8fdb\u884c\u6bd4\u8f83\uff0c<code>useRef</code> \u7684\u4f5c\u7528\u76f8\u5bf9\u4e8e\u8ba9\u4f60\u5728 class \u7ec4\u4ef6\u7684 <code>this</code> \u4e0a\u8ffd\u52a0\u5c5e\u6027\u3002</p> <pre><code>const refContainer = useRef(initialValue);\n</code></pre> <p>\u5728\u7ec4\u4ef6\u7684\u7b2c\u4e00\u5e27\u4e2d\uff0c<code>refContainer.current</code> \u5c06\u88ab\u8d4b\u4e88\u521d\u59cb\u503c <code>initialValue</code>\uff0c\u4e4b\u540e\u4fbf\u4e0d\u518d\u53d1\u751f\u53d8\u5316\u3002\u4f46\u4f60\u53ef\u4ee5\u81ea\u5df1\u53bb\u8bbe\u7f6e\u5b83\u7684\u503c\u3002\u8bbe\u7f6e\u5b83\u7684\u503c\u4e0d\u4f1a\u91cd\u65b0\u89e6\u53d1 render \u51fd\u6570\u3002</p> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u628a\u7b2c n \u5e27\u7684\u67d0\u4e2a props \u6216\u8005 state \u901a\u8fc7 <code>useRef</code> \u8fdb\u884c\u4fdd\u5b58\uff0c\u5728\u7b2c n + 1 \u5e27\u53ef\u4ee5\u8bfb\u53d6\u5230\u8fc7\u53bb\u7684\uff0c\u7b2c n \u5e27\u4e2d\u7684\u503c\u3002\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728\u7b2c n + 1 \u5e27\u4f7f\u7528 ref \u4fdd\u5b58\u67d0\u4e2a props \u6216\u8005 state\uff0c\u7136\u540e\u5728\u7b2c n \u5e27\u4e2d\u58f0\u660e\u7684\u5f02\u6b65\u56de\u8c03\u51fd\u6570\u4e2d\u8bfb\u53d6\u5230\u5b83\u3002</p> <p>\u5bf9 \u4f8b\u4e8c \u8fdb\u884c\u4fee\u6539\uff0c\u5f97\u5230 \u4f8b\u4e09\uff0c\u770b\u770b\u5177\u4f53\u7684\u6548\u679c\uff1a</p> <p></p> <pre><code>function Example() {\n    const [count, setCount] = useState(0);\n\n    const currentCount = useRef(count);\n\n    currentCount.current = count;\n\n    const handleClick = () =&gt; {\n        setTimeout(() =&gt; {\n            setCount(currentCount.current + 1);\n        }, 3000);\n    };\n\n    return (\n        &lt;div&gt;\n            &lt;p&gt;{count}&lt;/p&gt;\n            &lt;button onClick={() =&gt; setCount(count + 1)}&gt;\n                setCount\n            &lt;/button&gt;\n            &lt;button onClick={handleClick}&gt;\n                Delay setCount\n            &lt;/button&gt;\n        &lt;/div&gt;\n    );\n}\n</code></pre> <p>\u5728 <code>setCount</code> \u540e\u4fbf\u4f1a\u6267\u884c\u4e0b\u4e00\u5e27\uff0c\u5728\u51fd\u6570\u7684\u5f00\u5934\uff0c <code>currentCount</code> \u59cb\u7ec8\u4e0e\u6700\u65b0\u7684 <code>count</code> state \u4fdd\u6301\u540c\u6b65\u3002\u56e0\u6b64\uff0c\u5728 <code>setTimeout</code> \u4e2d\u53ef\u4ee5\u901a\u8fc7\u6b64\u65b9\u6cd5\u83b7\u53d6\u5230\u56de\u8c03\u51fd\u6570\u6267\u884c\u65f6\u5f53\u524d\u7684 count \u503c\u3002</p> <p>\u63a5\u4e0b\u6765\u518d\u901a\u8fc7 \u4f8b\u56db \u4e86\u89e3\u5982\u4f55\u83b7\u53d6\u8fc7\u53bb\u5e27\u4e2d\u7684\u503c\uff1a</p> <p></p> <pre><code>function Example4() {\n    const [count, setCount] = useState(1);\n\n    const prevCountRef = useRef(1);\n    const prevCount = prevCountRef.current;\n    prevCountRef.current = count;\n\n    const handleClick = () =&gt; {\n        setCount(prevCount + count);\n    };\n\n    return (\n        &lt;div&gt;\n            &lt;p&gt;{count}&lt;/p&gt;\n            &lt;button onClick={handleClick}&gt;SetCount&lt;/button&gt;\n        &lt;/div&gt;\n    );\n}\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u5b9e\u73b0\u7684\u529f\u80fd\u662f\uff0ccount \u521d\u59cb\u503c\u4e3a 1\uff0c\u70b9\u51fb\u6309\u94ae\u540e\u7d2f\u52a0\u5230 2\uff0c\u968f\u540e\u70b9\u51fb\u6309\u94ae\uff0c\u603b\u662f\u7528\u5f53\u524d count \u7684\u503c\u548c\u524d\u4e00\u4e2a count \u7684\u503c\u8fdb\u884c\u7d2f\u52a0\uff0c\u5f97\u5230\u65b0\u7684 count \u7684\u503c\u3002</p> <p><code>prevCountRef</code> \u5728 render \u51fd\u6570\u6267\u884c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e0e\u6700\u65b0\u7684 <code>count</code> state \u8fdb\u884c\u4e86\u540c\u6b65\u3002\u7531\u4e8e\u5728\u540c\u6b65\u524d\uff0c\u6211\u4eec\u5c06\u8be5 ref \u4fdd\u5b58\u5230\u51fd\u6570\u4f5c\u7528\u57df\u4e0b\u7684\u53e6\u4e00\u4e2a\u53d8\u91cf <code>prevCount</code> \u4e2d\uff0c\u56e0\u6b64\u6211\u4eec\u603b\u662f\u80fd\u591f\u83b7\u53d6\u5230\u524d\u4e00\u4e2a count \u7684\u503c\u3002</p> <p>\u540c\u6837\u7684\u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e8e\u4fdd\u5b58\u4efb\u4f55\u503c\uff1a\u67d0\u4e2a prop\uff0c\u67d0\u4e2a state \u53d8\u91cf\uff0c\u751a\u81f3\u4e00\u4e2a\u51fd\u6570\u7b49\u3002\u5728\u540e\u9762\u7684 Effects \u90e8\u5206\uff0c\u6211\u4eec\u4f1a\u7ee7\u7eed\u4f7f\u7528 refs \u4e3a\u6211\u4eec\u5e26\u6765\u597d\u5904\u3002</p>"},{"location":"react-hooks/07%20React%20Hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/#effects","title":"\u6bcf\u4e00\u5e27\u53ef\u4ee5\u62e5\u6709\u72ec\u7acb\u7684 Effects","text":"<p>\u5982\u679c\u5f04\u6e05\u4e86\u524d\u9762\u7684\u300e\u6bcf\u4e00\u5e27\u62e5\u6709\u72ec\u7acb\u7684\u53d8\u91cf\u300f\u7684\u6982\u5ff5\uff0c\u4f60\u4f1a\u53d1\u73b0\uff0c\u82e5\u67d0\u4e2a useEffect/useLayoutEffect \u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u90a3\u4e48\u6bcf\u6b21 render \u51fd\u6570\u6267\u884c\u65f6\u8be5 Effects \u4e5f\u662f\u72ec\u7acb\u7684\u3002\u56e0\u4e3a\u5b83\u662f\u5728 render \u51fd\u6570\u4e2d\u9009\u62e9\u9002\u5f53\u65f6\u673a\u7684\u6267\u884c\u3002</p> <p>\u5bf9\u4e8e <code>useEffect</code> \u6765\u8bf4\uff0c\u6267\u884c\u7684\u65f6\u673a\u662f\u5b8c\u6210\u6240\u6709\u7684 DOM \u53d8\u66f4\u5e76\u8ba9\u6d4f\u89c8\u5668\u6e32\u67d3\u9875\u9762\u540e\uff0c\u800c <code>useLayoutEffect</code> \u548c class \u7ec4\u4ef6\u4e2d <code>componentDidMount</code>, <code>componentDidUpdate</code>\u4e00\u81f4\u2014\u2014\u5728 React \u5b8c\u6210 DOM \u66f4\u65b0\u540e\u9a6c\u4e0a\u540c\u6b65\u8c03\u7528\uff0c\u4f1a\u963b\u585e\u9875\u9762\u6e32\u67d3\u3002</p> <p>\u5982\u679c useEffect \u6ca1\u6709\u4f20\u5165\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u90a3\u4e48\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\u7684 effect \u51fd\u6570\u5728\u6bcf\u6b21 render \u51fd\u6570\u6267\u884c\u662f\u90fd\u662f\u72ec\u7acb\u7684\u3002\u6bcf\u4e2a effect \u51fd\u6570\u4e2d\u6355\u83b7\u7684 props \u6216 state \u90fd\u6765\u81ea\u4e8e\u90a3\u4e00\u6b21\u7684 render \u51fd\u6570\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u518d\u89c2\u5bdf\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>function Counter() {\n    const [count, setCount] = useState(0);\n\n    useEffect(() =&gt; {\n        setTimeout(() =&gt; {\n            console.log(`You clicked ${count} times`);\n        }, 3000);\n    });\n\n    return (\n        &lt;div&gt;\n            &lt;p&gt;You clicked {count} times&lt;/p&gt;\n            &lt;button onClick={() =&gt; setCount(count + 1)}&gt;\n                Click me\n        &lt;/button&gt;\n        &lt;/div&gt;\n    );\n}\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6bcf\u4e00\u6b21\u5bf9 <code>count</code> \u8fdb\u884c\u6539\u53d8\uff0c\u91cd\u65b0\u6267\u884c render \u51fd\u6570\u540e\uff0c\u5ef6\u8fdf 3 \u79d2\u6253\u5370 <code>count</code> \u7684\u503c\u3002</p> <p>\u5982\u679c\u6211\u4eec\u4e0d\u505c\u5730\u70b9\u51fb\u6309\u94ae\uff0c\u6253\u5370\u7684\u7ed3\u679c\u662f\u4ec0\u4e48\u5462\uff1f</p> <p>\u6211\u4eec\u53d1\u73b0\u7ecf\u8fc7\u5ef6\u65f6\u540e\uff0c\u6bcf\u4e2a count \u7684\u503c\u88ab\u4f9d\u6b21\u6253\u5370\u4e86\uff0c\u4ed6\u4eec\u4ece 0 \u5f00\u59cb\u4f9d\u6b21\u9012\u589e\uff0c\u4e14\u4e0d\u91cd\u590d\u3002</p> <p>\u5982\u679c\u6362\u6210 class \u7ec4\u4ef6\uff0c\u5c1d\u8bd5\u4f7f\u7528 <code>componentDidUpdate</code> \u53bb\u5b9e\u73b0\uff0c\u4f1a\u5f97\u5230\u4e0d\u4e00\u6837\u7684\u7ed3\u679c\uff1a</p> <pre><code>componentDidUpdate() {\n    setTimeout(() =&gt; {\n        console.log(`You clicked ${this.state.count} times`);\n    }, 3000);\n}\n</code></pre> <p><code>this.state.count</code> \u603b\u662f\u6307\u5411\u6700\u65b0\u7684 <code>count</code> \u503c\uff0c\u800c\u4e0d\u662f\u5c5e\u4e8e\u67d0\u6b21\u8c03\u7528 render \u51fd\u6570\u65f6\u7684\u503c\u3002</p> <p>\u56e0\u6b64\uff0c\u5728\u4f7f\u7528 useEffect \u65f6\uff0c\u5e94\u5f53\u629b\u5f00\u5728 class \u7ec4\u4ef6\u4e2d\u5173\u4e8e\u751f\u547d\u5468\u671f\u7684\u601d\u7ef4\u3002\u4ed6\u4eec\u5e76\u4e0d\u76f8\u540c\u3002\u5728 useEffect \u4e2d\u523b\u610f\u5bfb\u627e\u90a3\u51e0\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\u7684\u66ff\u4ee3\u5199\u6cd5\uff0c\u5c06\u4f1a\u9677\u5165\u50f5\u5c40\uff0c\u65e0\u6cd5\u5145\u5206\u53d1\u6325 useEffect \u7684\u80fd\u529b\u3002</p>"},{"location":"react-hooks/07%20React%20Hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/#effects_1","title":"\u5728\u6bd4\u5bf9\u4e2d\u6267\u884c Effects","text":"<p>React \u9488\u5bf9 React Elements \u524d\u540e\u503c\u8fdb\u884c\u5bf9\u6bd4\uff0c\u53ea\u53bb\u66f4\u65b0 DOM \u771f\u6b63\u53d1\u751f\u6539\u53d8\u7684\u90e8\u5206\u3002\u5bf9\u4e8e Effects\uff0c\u80fd\u5426\u6709\u7c7b\u4f3c\u8fd9\u6837\u7684\u7406\u5ff5\u5462\uff1f</p> <p>\u67d0\u4e2a Effects \u51fd\u6570\u4e00\u65e6\u6267\u884c\uff0c\u51fd\u6570\u5185\u7684\u526f\u4f5c\u7528\u5df2\u7ecf\u53d1\u751f\uff0cReact \u65e0\u6cd5\u731c\u6d4b\u5230\u51fd\u6570\u76f8\u6bd4\u4e8e\u4e0a\u4e00\u6b21\u505a\u4e86\u54ea\u4e9b\u53d8\u5316\u3002\u4f46\u6211\u4eec\u53ef\u4ee5\u7ed9 useEffect \u4f20\u5165\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u4f5c\u4e3a\u4f9d\u8d56\u6570\u7ec4 (deps)\uff0c\u907f\u514d Effects \u4e0d\u5fc5\u8981\u7684\u91cd\u590d\u8c03\u7528\u3002</p> <p>\u8fd9\u4e2a deps \u7684\u542b\u4e49\u662f\uff1a\u5f53\u524d Effect \u4f9d\u8d56\u4e86\u54ea\u4e9b\u53d8\u91cf\u3002</p> <p>\u4f46\u6709\u65f6\u95ee\u9898\u4e0d\u4e00\u5b9a\u80fd\u89e3\u51b3\u3002\u6bd4\u5982\u5b98\u7f51\u5c31\u6709 \u8fd9\u6837\u7684\u4f8b\u5b50\uff1a</p> <pre><code>const [count, setCount] = useState(0);\n\nuseEffect(() =&gt; {\n    const id = setInterval(() =&gt; {\n        setCount(count + 1);\n    }, 1000);\n    return () =&gt; clearInterval(id);\n}, [count]);\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u9891\u7e41\u4fee\u6539 <code>count</code>\uff0c\u6bcf\u6b21\u6267\u884c Effect\uff0c\u4e0a\u4e00\u6b21\u7684\u8ba1\u65f6\u5668\u88ab\u6e05\u9664\uff0c\u9700\u8981\u8c03\u7528 <code>setInterval</code> \u91cd\u65b0\u8fdb\u5165\u65f6\u95f4\u961f\u5217\uff0c\u5b9e\u9645\u7684\u5b9a\u671f\u65f6\u95f4\u88ab\u5ef6\u540e\uff0c\u751a\u81f3\u6709\u53ef\u80fd\u6839\u672c\u6ca1\u6709\u673a\u4f1a\u88ab\u6267\u884c\u3002</p> <p>\u4f46\u662f\u4e0b\u9762\u8fd9\u6837\u7684\u5b9e\u8df5\u65b9\u5f0f\u4e5f\u4e0d\u5b9c\u91c7\u7528\uff1a</p> <p>\u5728 Effect \u51fd\u6570\u4e2d\u5bfb\u627e\u4e00\u4e9b\u53d8\u91cf\u6dfb\u52a0\u5230 deps \u4e2d\uff0c\u9700\u8981\u6ee1\u8db3\u6761\u4ef6\uff1a\u5176\u53d8\u5316\u65f6\uff0c\u9700\u8981\u91cd\u65b0\u89e6\u53d1 effect\u3002</p> <p>\u6309\u7167\u8fd9\u79cd\u5b9e\u8df5\u65b9\u5f0f\uff0c<code>count</code> \u53d8\u5316\u65f6\uff0c\u6211\u4eec\u5e76\u4e0d\u5e0c\u671b\u91cd\u65b0 <code>setInterval</code>\uff0c\u6545 deps \u4e3a\u7a7a\u6570\u7ec4\u3002\u8fd9\u610f\u5473\u7740\u8be5 hook \u53ea\u5728\u7ec4\u4ef6\u6302\u8f7d\u65f6\u8fd0\u884c\u4e00\u6b21\u3002Effect \u4e2d\u660e\u660e\u4f9d\u8d56\u4e86 <code>count</code>\uff0c\u4f46\u6211\u4eec\u6492\u8c0e\u8bf4\u5b83\u6ca1\u6709\u4f9d\u8d56\uff0c\u90a3\u4e48\u5f53 <code>setInterval</code> \u56de\u8c03\u51fd\u6570\u6267\u884c\u65f6\uff0c\u83b7\u53d6\u5230\u7684 <code>count</code> \u503c\u6c38\u8fdc\u4e3a 0\u3002</p> <p>\u9047\u5230\u8fd9\u79cd\u95ee\u9898\uff0c\u76f4\u63a5\u4ece deps \u79fb\u9664\u662f\u4e0d\u53ef\u884c\u7684\u3002\u9759\u4e0b\u6765\u5206\u6790\u4e00\u4e0b\uff0c\u6b64\u5904\u4e3a\u4ec0\u4e48\u8981\u7528\u5230 <code>count</code>\uff1f\u80fd\u5426\u907f\u514d\u5bf9\u5176\u76f4\u63a5\u4f7f\u7528\uff1f</p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u5728 <code>setCount</code> \u4e2d\u7528\u5230\u4e86 <code>count</code>\uff0c\u4e3a\u7684\u662f\u628a <code>count</code> \u8f6c\u6362\u4e3a <code>count + 1</code> \uff0c\u7136\u540e\u8fd4\u56de\u7ed9 React\u3002React \u5176\u5b9e\u5df2\u7ecf\u77e5\u9053\u5f53\u524d\u7684 <code>count</code>\uff0c\u6211\u4eec\u9700\u8981\u544a\u77e5 React \u7684\u4ec5\u4ec5\u662f\u53bb\u9012\u589e\u72b6\u6001\uff0c\u4e0d\u7ba1\u5b83\u73b0\u5728\u5177\u4f53\u662f\u4ec0\u4e48\u503c\u3002</p> <p>\u6240\u4ee5\u6709\u4e00\u4e2a\u6700\u4f73\u5b9e\u8df5\uff1a\u72b6\u6001\u53d8\u66f4\u65f6\uff0c\u5e94\u8be5\u901a\u8fc7 setState \u7684\u51fd\u6570\u5f62\u5f0f\u6765\u4ee3\u66ff\u76f4\u63a5\u83b7\u53d6\u5f53\u524d\u72b6\u6001\u3002</p> <pre><code>setCount(c =&gt; c + 1);\n</code></pre> <p>\u53e6\u5916\u4e00\u79cd\u573a\u666f\u662f\uff1a</p> <pre><code>const [count, setCount] = useState(0);\n\nuseEffect(() =&gt; {\n    const id = setInterval(() =&gt; {\n        console.log(count);\n    }, 1000);\n    return () =&gt; clearInterval(id);\n}, []);\n</code></pre> <p>\u5728\u8fd9\u91cc\uff0c\u540c\u6837\u7684\uff0c\u5f53<code>count</code> \u53d8\u5316\u65f6\uff0c\u6211\u4eec\u5e76\u4e0d\u5e0c\u671b\u91cd\u65b0 <code>setInterval</code>\u3002\u4f46\u6211\u4eec\u53ef\u4ee5\u628a <code>count</code> \u901a\u8fc7 ref \u4fdd\u5b58\u8d77\u6765\u3002</p> <pre><code>const [count, setCount] = useState(0);\nconst countRef = useRef();\ncountRef.current = count;\n\nuseEffect(() =&gt; {\n    const id = setInterval(() =&gt; {\n        console.log(countRef.current);\n    }, 1000);\n    return () =&gt; clearInterval(id);\n}, []);\n</code></pre> <p>\u8fd9\u6837\uff0c<code>count</code> \u7684\u786e\u4e0d\u518d\u88ab\u4f7f\u7528\uff0c\u800c\u662f\u7528 ref \u5b58\u50a8\u4e86\u4e00\u4e2a\u5728\u6240\u6709\u5e27\u4e2d\u5171\u4eab\u7684\u53d8\u91cf\u3002</p> <p>\u53e6\u5916\u7684\u60c5\u51b5\u662f\uff0cEffects \u4f9d\u8d56\u4e86\u51fd\u6570\u6216\u8005\u5176\u4ed6\u5f15\u7528\u7c7b\u578b\u3002\u4e0e\u539f\u59cb\u6570\u636e\u7c7b\u578b\u4e0d\u540c\u7684\u662f\uff0c\u5728\u672a\u4f18\u5316\u7684\u60c5\u51b5\u4e0b\uff0c\u6bcf\u6b21 render \u51fd\u6570\u8c03\u7528\u65f6\uff0c\u56e0\u4e3a\u5bf9\u8fd9\u4e9b\u5185\u5bb9\u7684\u91cd\u65b0\u521b\u5efa\uff0c\u5176\u503c\u603b\u662f\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u5bfc\u81f4 Effects \u5728\u4f7f\u7528 deps \u7684\u60c5\u51b5\u4e0b\u4f9d\u7136\u4f1a\u9891\u7e41\u88ab\u8c03\u7528\u3002</p> <p>\u5bf9\u4e8e\u8fd9\u4e2a\u95ee\u9898\uff0c\u5b98\u7f51\u7684 FAQ \u5df2\u7ecf\u7ed9\u51fa\u4e86\u7b54\u6848\uff1a\u5bf9\u4e8e\u51fd\u6570\uff0c\u4f7f\u7528 useCallback \u907f\u514d\u91cd\u590d\u521b\u5efa\uff1b\u5bf9\u4e8e\u5bf9\u8c61\u6216\u8005\u6570\u7ec4\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528 useMemo\u3002\u4ece\u800c\u51cf\u5c11 deps \u7684\u53d8\u5316\u3002</p>"},{"location":"react-hooks/07%20React%20Hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/#eslint","title":"\u4f7f\u7528 ESLint \u63d2\u4ef6","text":"<p>\u4f7f\u7528 ESLint \u63d2\u4ef6 <code>eslint-plugin-react-hooks@&gt;=2.4.0</code>\uff0c\u5f88\u6709\u5fc5\u8981\u3002</p> <p>\u8be5\u63d2\u4ef6\u9664\u4e86\u5e2e\u4f60\u68c0\u67e5\u4f7f\u7528 Hook \u9700\u8981\u9075\u5faa\u7684\u4e24\u6761\u89c4\u5219\u5916\uff0c\u8fd8\u4f1a\u5411\u4f60\u63d0\u793a\u5728\u4f7f\u7528 useEffect \u6216\u8005 useMemo \u65f6\uff0cdeps \u5e94\u8be5\u586b\u5165\u7684\u5185\u5bb9\u3002</p> <p>\u5982\u679c\u4f60\u6b63\u5728\u4f7f\u7528 VSCode\uff0c\u5e76\u4e14\u5b89\u88c5\u4e86 ESLint \u6269\u5c55\u3002\u5f53\u4f60\u7f16\u5199 useEffect \u6216\u8005 useMemo \uff0c\u4e14 deps \u4e2d\u7684\u5185\u5bb9\u5e76\u4e0d\u5b8c\u6574\u65f6\uff0cdeps \u6240\u5728\u7684\u90a3\u4e00\u884c\u4fbf\u4f1a\u7ed9\u51fa\u8b66\u544a\u6216\u8005\u9519\u8bef\u7684\u63d0\u793a\uff0c\u5e76\u4e14\u4f1a\u6709\u4e00\u4e2a\u5feb\u901f\u4fee\u590d\u7684\u529f\u80fd\uff0c\u8be5\u529f\u80fd\u4f1a\u4e3a\u4f60\u81ea\u52a8\u586b\u5165\u7f3a\u5931\u7684 deps\u3002</p> <p>\u5bf9\u4e8e\u8fd9\u4e9b\u63d0\u793a\uff0c\u4e0d\u8981\u66b4\u529b\u5730\u901a\u8fc7 <code>eslint-disable</code> \u7981\u7528\u3002\u672a\u6765\uff0c\u4f60\u53ef\u80fd\u518d\u6b21\u4fee\u6539\u8be5 useEffect \u6216\u8005 useMemo\uff0c\u5982\u679c\u4f7f\u7528\u4e86\u65b0\u7684\u4f9d\u8d56\u5e76\u4e14\u5728 deps \u4e2d\u6f0f\u6389\u4e86\u5b83\uff0c\u4fbf\u4f1a\u5f15\u53d1\u65b0\u7684\u95ee\u9898\u3002\u6709\u4e00\u4e9b\u573a\u666f\uff0c\u6bd4\u5982 useEffect \u4f9d\u8d56\u4e00\u4e2a\u51fd\u6570\uff0c\u5e76\u4e14\u586b\u5165 deps \u4e86\u3002\u4f46\u662f\u8fd9\u4e2a\u51fd\u6570\u4f7f\u7528\u4e86 useCallback \u4e14 deps \u51fa\u73b0\u4e86\u9057\u6f0f\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e00\u65e6\u51fa\u73b0\u95ee\u9898\uff0c\u6392\u67e5\u7684\u96be\u5ea6\u4f1a\u5f88\u5927\uff0c\u6240\u4ee5\u4e3a\u4ec0\u4e48\u8981\u8ba9 ESLint \u6c89\u9ed8\u5462\uff1f</p> <p>\u5c1d\u8bd5\u7528\u4e0a\u4e00\u8282\u7684\u65b9\u6cd5\u8fdb\u884c\u5206\u6790\uff0c\u5bf9\u4e8e\u4e00\u4e9b\u53d8\u91cf\u4e0d\u5e0c\u671b\u5f15\u8d77 effect \u91cd\u65b0\u66f4\u65b0\u7684\uff0c\u4f7f\u7528 ref \u89e3\u51b3\u3002\u5bf9\u4e8e\u83b7\u53d6\u72b6\u6001\u7528\u4e8e\u8ba1\u7b97\u65b0\u7684\u72b6\u6001\u7684\uff0c\u5c1d\u8bd5 setState \u7684\u51fd\u6570\u5165\u53c2\uff0c\u6216\u8005\u4f7f\u7528 useReducer \u6574\u5408\u591a\u4e2a\u7c7b\u578b\u7684\u72b6\u6001\u3002</p>"},{"location":"react-hooks/07%20React%20Hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/#usememousecallback","title":"\u4f7f\u7528 useMemo/useCallback","text":"<p>useMemo \u7684\u542b\u4e49\u662f\uff0c\u901a\u8fc7\u4e00\u4e9b\u53d8\u91cf\u8ba1\u7b97\u5f97\u5230\u65b0\u7684\u503c\u3002\u901a\u8fc7\u628a\u8fd9\u4e9b\u53d8\u91cf\u52a0\u5165\u4f9d\u8d56 deps\uff0c\u5f53 deps \u4e2d\u7684\u503c\u5747\u672a\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u8df3\u8fc7\u8fd9\u6b21\u8ba1\u7b97\u3002useMemo \u4e2d\u4f20\u5165\u7684\u51fd\u6570\uff0c\u5c06\u5728 render \u51fd\u6570\u8c03\u7528\u8fc7\u7a0b\u88ab\u540c\u6b65\u8c03\u7528\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528 useMemo \u7f13\u5b58\u4e00\u4e9b\u76f8\u5bf9\u8017\u65f6\u7684\u8ba1\u7b97\u3002</p> <p>\u9664\u6b64\u4ee5\u5916\uff0cuseMemo \u4e5f\u975e\u5e38\u9002\u5408\u7528\u4e8e\u5b58\u50a8\u5f15\u7528\u7c7b\u578b\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u4f20\u5165\u5bf9\u8c61\u5b57\u9762\u91cf\uff0c\u533f\u540d\u51fd\u6570\u7b49\uff0c\u751a\u81f3\u662f React Elements\u3002</p> <pre><code>const data = useMemo(() =&gt; ({\n    a,\n    b,\n    c,\n    d: 'xxx'\n}), [a, b, c]);\n\n// \u53ef\u4ee5\u7528 useCallback \u4ee3\u66ff\nconst fn = useMemo(() =&gt; () =&gt; {\n    // do something\n}, [a, b]);\n\nconst memoComponentsA = useMemo(() =&gt; (\n    &lt;ComponentsA {...someProps} /&gt;\n), [someProps]);\n</code></pre> <p>\u5728\u8fd9\u4e9b\u4f8b\u5b50\u4e2d\uff0cuseMemo \u7684\u76ee\u7684\u5176\u5b9e\u662f\u5c3d\u91cf\u4f7f\u7528\u7f13\u5b58\u7684\u503c\u3002</p> <p>\u5bf9\u4e8e\u51fd\u6570\uff0c\u5176\u4f5c\u4e3a\u53e6\u5916\u4e00\u4e2a useEffect \u7684 deps \u65f6\uff0c\u51cf\u5c11\u51fd\u6570\u7684\u91cd\u65b0\u751f\u6210\uff0c\u5c31\u80fd\u51cf\u5c11\u8be5 Effect \u7684\u8c03\u7528\uff0c\u751a\u81f3\u907f\u514d\u4e00\u4e9b\u6b7b\u5faa\u73af\u7684\u4ea7\u751f;</p> <p>\u5bf9\u4e8e\u5bf9\u8c61\u548c\u6570\u7ec4\uff0c\u5982\u679c\u67d0\u4e2a\u5b50\u7ec4\u4ef6\u4f7f\u7528\u4e86\u5b83\u4f5c\u4e3a props\uff0c\u51cf\u5c11\u5b83\u7684\u91cd\u65b0\u751f\u6210\uff0c\u5c31\u80fd\u907f\u514d\u5b50\u7ec4\u4ef6\u4e0d\u5fc5\u8981\u7684\u91cd\u590d\u6e32\u67d3\uff0c\u63d0\u5347\u6027\u80fd\u3002</p> <p>\u672a\u4f18\u5316\u7684\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>const data = { id };\n\nreturn &lt;Child data={data}&gt;;\n</code></pre> <p>\u6b64\u65f6\uff0c\u6bcf\u5f53\u7236\u7ec4\u4ef6\u9700\u8981 render \u65f6\uff0c\u5b50\u7ec4\u4ef6\u4e5f\u4f1a\u6267\u884c render\u3002\u5982\u679c\u4f7f\u7528 <code>useMemo</code> \u5bf9 data \u8fdb\u884c\u4f18\u5316\uff1a</p> <pre><code>const data = useMemo(() =&gt; ({ id }), [id]);\n\nreturn &lt;Child data={data}&gt;;\n</code></pre> <p>\u5f53\u7236\u7ec4\u4ef6 render \u65f6\uff0c\u53ea\u8981\u6ee1\u8db3 id \u4e0d\u53d8\uff0cdata \u7684\u503c\u4e5f\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u5b50\u7ec4\u4ef6\u4e5f\u5c06\u907f\u514d render\u3002</p> <p>\u5bf9\u4e8e\u7ec4\u4ef6\u8fd4\u56de\u7684 React Elements\uff0c\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u6027\u5730\u63d0\u53d6\u5176\u4e2d\u4e00\u90e8\u5206 elements\uff0c\u901a\u8fc7 useMemo \u8fdb\u884c\u7f13\u5b58\uff0c\u4e5f\u80fd\u907f\u514d\u8fd9\u4e00\u90e8\u5206\u7684\u91cd\u590d\u6e32\u67d3\u3002</p> <p>\u5728\u8fc7\u53bb\u7684 class \u7ec4\u4ef6\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7 <code>shouldComponentUpdate</code> \u5224\u65ad\u5f53\u524d\u5c5e\u6027\u548c\u72b6\u6001\u662f\u5426\u548c\u4e0a\u4e00\u6b21\u7684\u76f8\u540c\uff0c\u6765\u907f\u514d\u7ec4\u4ef6\u4e0d\u5fc5\u8981\u7684\u66f4\u65b0\u3002\u5176\u4e2d\u7684\u6bd4\u8f83\u662f\u5bf9\u4e8e\u672c\u7ec4\u4ef6\u7684\u6240\u6709\u5c5e\u6027\u548c\u72b6\u6001\u800c\u8a00\u7684\uff0c\u65e0\u6cd5\u6839\u636e <code>shouldComponentUpdate</code> \u7684\u8fd4\u56de\u503c\u6765\u4f7f\u8be5\u7ec4\u4ef6\u4e00\u90e8\u5206 elements \u66f4\u65b0\uff0c\u53e6\u4e00\u90e8\u5206\u4e0d\u66f4\u65b0\u3002</p> <p>\u4e3a\u4e86\u8fdb\u4e00\u6b65\u4f18\u5316\u6027\u80fd\uff0c\u6211\u4eec\u4f1a\u5bf9\u5927\u7ec4\u4ef6\u8fdb\u884c\u62c6\u5206\uff0c\u62c6\u5206\u51fa\u7684\u5c0f\u7ec4\u4ef6\u53ea\u5173\u5fc3\u5176\u4e2d\u4e00\u90e8\u5206\u5c5e\u6027\uff0c\u4ece\u800c\u6709\u66f4\u591a\u7684\u673a\u4f1a\u4e0d\u53bb\u66f4\u65b0\u3002</p> <p>\u800c\u51fd\u6570\u7ec4\u4ef6\u4e2d\u7684 useMemo \u5176\u5b9e\u5c31\u53ef\u4ee5\u4ee3\u66ff\u8fd9\u4e00\u90e8\u5206\u5de5\u4f5c\u3002\u4e3a\u4e86\u65b9\u4fbf\u7406\u89e3\uff0c\u6211\u4eec\u6765\u770b \u4f8b\u4e94\uff1a</p> <p></p> <pre><code>function Example(props) {\n    const [count, setCount] = useState(0);\n    const [foo] = useState(\"foo\");\n\n    const main = (\n        &lt;div&gt;\n            &lt;Item key={1} x={1} foo={foo} /&gt;\n            &lt;Item key={2} x={2} foo={foo} /&gt;\n            &lt;Item key={3} x={3} foo={foo} /&gt;\n            &lt;Item key={4} x={4} foo={foo} /&gt;\n            &lt;Item key={5} x={5} foo={foo} /&gt;\n        &lt;/div&gt;\n    );\n\n    return (\n        &lt;div&gt;\n            &lt;p&gt;{count}&lt;/p&gt;\n            &lt;button onClick={() =&gt; setCount(count + 1)}&gt;setCount&lt;/button&gt;\n            {main}\n        &lt;/div&gt;\n    );\n}\n</code></pre> <p>\u5047\u8bbe <code>&lt;Item&gt;</code> \u7ec4\u4ef6\uff0c\u5176\u81ea\u8eab\u7684 render \u6d88\u8017\u8f83\u591a\u7684\u65f6\u95f4\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6bcf\u6b21 setCount \u6539\u53d8 count \u7684\u503c\uff0c\u4fbf\u4f1a\u91cd\u65b0\u5bf9 <code>&lt;Example&gt;</code> \u8fdb\u884c render\uff0c\u5176\u8fd4\u56de\u7684 React Elements \u4e2d3\u4e2a <code>&lt;Item&gt;</code> \u4e5f\u91cd\u65b0 render\uff0c\u5176\u8017\u65f6\u7684\u64cd\u4f5c\u963b\u585e\u4e86 UI \u7684\u6e32\u67d3\u3002\u5bfc\u81f4\u6309\u4e0b \"setCount\" \u6309\u94ae\u540e\u51fa\u73b0\u4e86\u660e\u663e\u7684\u5361\u987f\u3002</p> <p>\u4e3a\u4e86\u4f18\u5316\u6027\u80fd\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06 <code>main</code> \u53d8\u91cf\u8fd9\u4e00\u90e8\u5206\u5355\u72ec\u4f5c\u4e3a\u4e00\u4e2a\u7ec4\u4ef6 <code>&lt;Main&gt;</code>\uff0c\u62c6\u5206\u51fa\u53bb\uff0c\u5e76\u5bf9  <code>&lt;Main&gt;</code> \u4f7f\u7528\u8bf8\u5982 <code>React.memo</code> , <code>shouldComponentUpdate</code> \u7684\u65b9\u5f0f\uff0c\u4f7f <code>count</code> \u5c5e\u6027\u53d8\u5316\u65f6\uff0c<code>&lt;Main&gt;</code> \u4e0d\u91cd\u590d render\u3002</p> <pre><code>const Main = React.memo((props) =&gt; {\n    const { foo }= props;\n    return (\n        &lt;div&gt;\n            &lt;Item key={1} x={1} foo={foo} /&gt;\n                &lt;Item key={2} x={2} foo={foo} /&gt;\n                &lt;Item key={3} x={3} foo={foo} /&gt;\n                &lt;Item key={4} x={4} foo={foo} /&gt;\n                &lt;Item key={5} x={5} foo={foo} /&gt;\n        &lt;/div&gt;\n    );\n});\n</code></pre> <p>\u800c\u73b0\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>useMemo</code>\uff0c\u907f\u514d\u4e86\u7ec4\u4ef6\u62c6\u5206\uff0c\u4ee3\u7801\u4e5f\u66f4\u7b80\u6d01\u6613\u61c2\uff1a</p> <pre><code>function Example(props) {\n    const [count, setCount] = useState(0);\n    const [foo] = useState(\"foo\");\n\n    const main = useMemo(() =&gt; (\n        &lt;div&gt;\n            &lt;Item key={1} x={1} foo={foo} /&gt;\n            &lt;Item key={2} x={2} foo={foo} /&gt;\n            &lt;Item key={3} x={3} foo={foo} /&gt;\n            &lt;Item key={4} x={4} foo={foo} /&gt;\n            &lt;Item key={5} x={5} foo={foo} /&gt;\n        &lt;/div&gt;\n    ), [foo]);\n\n    return (\n        &lt;div&gt;\n            &lt;p&gt;{count}&lt;/p&gt;\n            &lt;button onClick={() =&gt; setCount(count + 1)}&gt;setCount&lt;/button&gt;\n            {main}\n        &lt;/div&gt;\n    );\n}\n</code></pre>"},{"location":"react-hooks/07%20React%20Hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/#_7","title":"\u60f0\u6027\u521d\u59cb\u503c","text":"<p>\u5bf9\u4e8e state\uff0c\u5176\u62e5\u6709 \u60f0\u6027\u521d\u59cb\u5316\u7684\u65b9\u6cd5\u3002\u53ef\u80fd\u6709\u4eba\u4e0d\u660e\u767d\u5b83\u7684\u4f5c\u7528\u3002</p> <p><code>someExpensiveComputation</code> \u662f\u4e00\u4e2a\u76f8\u5bf9\u8017\u65f6\u7684\u64cd\u4f5c\u3002\u5982\u679c\u6211\u4eec\u76f4\u63a5\u91c7\u7528</p> <pre><code>const initialState = someExpensiveComputation(props);\nconst [state, setState] = useState(initialState);\n</code></pre> <p>\u6ce8\u610f\uff0c\u867d\u7136 <code>initialState</code> \u53ea\u5728\u521d\u59cb\u5316\u65f6\u6709\u5176\u5b58\u5728\u7684\u4ef7\u503c\uff0c\u4f46\u662f <code>someExpensiveComputation</code> \u5728\u6bcf\u4e00\u5e27\u90fd\u88ab\u8c03\u7528\u4e86\u3002\u53ea\u6709\u5f53\u4f7f\u7528\u60f0\u6027\u521d\u59cb\u5316\u7684\u65b9\u6cd5\uff1a</p> <pre><code>const [state, setState] = useState(() =&gt; {\n    const initialState = someExpensiveComputation(props);\n    return initialState;\n});\n</code></pre> <p>\u56e0 <code>someExpensiveComputation</code> \u8fd0\u884c\u5728\u4e00\u4e2a\u533f\u540d\u51fd\u6570\u4e0b\uff0c\u8be5\u51fd\u6570\u5f53\u4e14\u4ec5\u5f53\u521d\u59cb\u5316\u65f6\u88ab\u8c03\u7528\uff0c\u4ece\u800c\u4f18\u5316\u6027\u80fd\u3002</p> <p>\u6211\u4eec\u751a\u81f3\u53ef\u4ee5\u8df3\u51fa\u8ba1\u7b97 state \u8fd9\u4e00\u89c4\u5b9a\uff0c\u6765\u5b8c\u6210\u4efb\u4f55\u6602\u8d35\u7684\u521d\u59cb\u5316\u64cd\u4f5c\u3002</p> <pre><code>useState(() =&gt; {\n    someExpensiveComputation(props);\n    return null;\n});\n</code></pre>"},{"location":"react-hooks/07%20React%20Hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/#refs","title":"\u907f\u514d\u6ee5\u7528 refs","text":"<p>\u5f53 <code>useEffect</code> \u7684\u4f9d\u8d56\u9891\u7e41\u53d8\u5316\uff0c\u4f60\u53ef\u80fd\u60f3\u5230\u628a\u9891\u7e41\u53d8\u5316\u7684\u503c\u7528 ref \u4fdd\u5b58\u8d77\u6765\u3002\u7136\u800c\uff0cuseReducer \u53ef\u80fd\u662f\u66f4\u597d\u7684\u89e3\u51b3\u65b9\u5f0f\uff1a\u4f7f\u7528 dispatch \u6d88\u9664\u5bf9\u4e00\u4e9b\u72b6\u6001\u7684\u4f9d\u8d56\u3002\u5b98\u7f51\u7684 FAQ \u6709\u8be6\u7ec6\u7684\u89e3\u91ca\u3002</p> <p>\u6700\u7ec8\u53ef\u4ee5\u603b\u7ed3\u51fa\u8fd9\u6837\u7684\u5b9e\u8df5\uff1a</p> <p>useEffect \u5bf9\u4e8e\u51fd\u6570\u4f9d\u8d56\uff0c\u5c1d\u8bd5\u5c06\u8be5\u51fd\u6570\u653e\u7f6e\u5728 effect \u5185\uff0c\u6216\u8005\u4f7f\u7528 useCallback \u5305\u88f9\uff1buseEffect/useCallback/useMemo\uff0c\u5bf9\u4e8e state \u6216\u8005\u5176\u4ed6\u5c5e\u6027\u7684\u4f9d\u8d56\uff0c\u6839\u636e eslint \u7684\u63d0\u793a\u586b\u5165 deps\uff1b\u5982\u679c\u4e0d\u76f4\u63a5\u4f7f\u7528 state\uff0c\u53ea\u662f\u60f3\u4fee\u6539 state\uff0c\u7528 setState \u7684\u51fd\u6570\u5165\u53c2\u65b9\u5f0f\uff08<code>setState(c =&gt; c + 1)</code>\uff09\u4ee3\u66ff\uff1b\u5982\u679c\u4fee\u6539 state \u7684\u8fc7\u7a0b\u4f9d\u8d56\u4e86\u5176\u4ed6\u5c5e\u6027\uff0c\u5c1d\u8bd5\u5c06 state \u548c\u5c5e\u6027\u805a\u5408\uff0c\u6539\u5199\u6210 useReducer \u7684\u5f62\u5f0f\u3002\u5f53\u8fd9\u4e9b\u65b9\u6cd5\u90fd\u4e0d\u594f\u6548\uff0c\u4f7f\u7528 ref\uff0c\u4f46\u662f\u4f9d\u7136\u8981\u8c28\u614e\u64cd\u4f5c\u3002</p>"},{"location":"react-hooks/07%20React%20Hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/#usememo","title":"\u907f\u514d\u6ee5\u7528 useMemo","text":"<p>\u4f7f\u7528 useMemo \u5f53 deps \u4e0d\u53d8\u65f6\uff0c\u76f4\u63a5\u8fd4\u56de\u4e0a\u4e00\u6b21\u8ba1\u7b97\u7684\u7ed3\u679c\uff0c\u4ece\u800c\u4f7f\u5b50\u7ec4\u4ef6\u8df3\u8fc7\u6e32\u67d3\u3002</p> <p>\u4f46\u662f\u5f53\u8fd4\u56de\u7684\u662f\u539f\u59cb\u6570\u636e\u7c7b\u578b\uff08\u5982\u5b57\u7b26\u4e32\u3001\u6570\u5b57\u3001\u5e03\u5c14\u503c\uff09\u3002\u5373\u4f7f\u53c2\u4e0e\u4e86\u8ba1\u7b97\uff0c\u53ea\u8981 deps \u4f9d\u8d56\u7684\u5185\u5bb9\u4e0d\u53d8\uff0c\u8fd4\u56de\u7ed3\u679c\u4e5f\u5f88\u53ef\u80fd\u662f\u4e0d\u53d8\u7684\u3002\u6b64\u65f6\u5c31\u9700\u8981\u6743\u8861\u8fd9\u4e2a\u8ba1\u7b97\u7684\u65f6\u95f4\u6210\u672c\u548c useMemo \u989d\u5916\u5e26\u6765\u7684\u7a7a\u95f4\u6210\u672c\uff08\u7f13\u5b58\u4e0a\u4e00\u6b21\u7684\u7ed3\u679c\uff09\u4e86\u3002</p> <p>\u6b64\u5916\uff0c\u5982\u679c useMemo \u7684 deps \u4f9d\u8d56\u6570\u7ec4\u4e3a\u7a7a\uff0c\u8fd9\u6837\u505a\u8bf4\u660e\u4f60\u53ea\u662f\u5e0c\u671b\u5b58\u50a8\u4e00\u4e2a\u503c\uff0c\u8fd9\u4e2a\u503c\u5728\u91cd\u65b0 render \u65f6\u6c38\u8fdc\u4e0d\u4f1a\u53d8\u3002</p> <p>\u6bd4\u5982\uff1a</p> <pre><code>const Comp = () =&gt; {\n    const data = useMemo(() =&gt; ({ type: 'xxx' }), []);\n    return &lt;Child data={data}&gt;;\n}\n</code></pre> <p>\u53ef\u4ee5\u88ab\u66ff\u6362\u4e3a\uff1a</p> <pre><code>const Comp = () =&gt; {\n    const { current: data } = useRef({ type: 'xxx' });\n    return &lt;Child data={data}&gt;;\n}\n</code></pre> <p>\u751a\u81f3\uff1a</p> <pre><code>const data = { type: 'xxx' };\nconst Comp = () =&gt; {\n    return &lt;Child data={data}&gt;;\n}\n</code></pre> <p>\u6b64\u5916\uff0c\u5982\u679c deps \u9891\u7e41\u53d8\u52a8\uff0c\u6211\u4eec\u4e5f\u8981\u601d\u8003\uff0c\u4f7f\u7528 useMemo \u662f\u5426\u6709\u5fc5\u8981\u3002\u56e0\u4e3a useMemo \u5360\u7528\u4e86\u989d\u5916\u7684\u7a7a\u95f4\uff0c\u8fd8\u9700\u8981\u5728\u6bcf\u6b21 render \u65f6\u68c0\u67e5 deps \u662f\u5426\u53d8\u52a8\uff0c\u53cd\u800c\u6bd4\u4e0d\u4f7f\u7528 useMemo \u5f00\u9500\u66f4\u5927\u3002</p>"},{"location":"react-hooks/07%20React%20Hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/#_8","title":"\u53d7\u63a7\u4e0e\u975e\u53d7\u63a7","text":"<p>\u5728\u4e00\u4e2a\u81ea\u5b9a\u4e49 Hooks\uff0c\u6211\u4eec\u53ef\u80fd\u6709\u8fd9\u6837\u4e00\u6bb5\u903b\u8f91\uff1a</p> <pre><code>useSomething = (inputCount) =&gt; {\n    const [ count, setCount ] = setState(inputCount);\n};\n</code></pre> <p>\u8fd9\u91cc\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u5916\u90e8\u4f20\u5165\u7684 <code>inputCount</code> \u5c5e\u6027\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u4f7f\u5176\u4e0e <code>useSomething</code> Hook \u5185\u7684 <code>count</code> state \u4e0d\u4e00\u81f4\u65f6\uff0c\u662f\u5426\u60f3\u8981\u66f4\u65b0\u8fd9\u4e2a <code>count</code> \uff1f</p> <p>\u9ed8\u8ba4\u4e0d\u4f1a\u66f4\u65b0\uff0c\u56e0\u4e3a useState \u53c2\u6570\u4ee3\u8868\u7684\u662f\u521d\u59cb\u503c\uff0c\u4ec5\u5728 <code>useSomething</code> \u521d\u59cb\u65f6\u8d4b\u503c\u7ed9\u4e86 <code>count</code> state\u3002\u540e\u7eed <code>count</code> \u7684\u72b6\u6001\u5c06\u4e0e <code>inputCount</code> \u65e0\u5173\u3002\u8fd9\u79cd\u5916\u90e8\u65e0\u6cd5\u76f4\u63a5\u63a7\u5236 state \u7684\u65b9\u5f0f\uff0c\u6211\u4eec\u79f0\u4e3a\u975e\u53d7\u63a7\u3002</p> <p>\u5982\u679c\u60f3\u88ab\u5916\u90e8\u4f20\u5165\u7684 props \u59cb\u7ec8\u63a7\u5236\uff0c\u6bd4\u5982\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>useSomething</code> \u5185\u90e8\uff0c<code>count</code> \u8fd9\u4e00 state \u7684\u503c\u9700\u8981\u4ece <code>inputCount</code> \u8fdb\u884c\u540c\u6b65\uff0c\u9700\u8981\u8fd9\u6837\u5199\uff1a</p> <pre><code>useSomething = (inputCount) =&gt; {\n    const [ count, setCount ] = setState(inputCount);\n    setCount(inputCount);\n};\n</code></pre> <p><code>setCount</code>\u540e\uff0cReact \u4f1a\u7acb\u5373\u9000\u51fa\u5f53\u524d\u7684 render \u5e76\u7528\u66f4\u65b0\u540e\u7684 state \u91cd\u65b0\u8fd0\u884c render \u51fd\u6570\u3002\u8fd9\u4e00\u70b9\uff0c\u5b98\u7f51\u6587\u6863 \u662f\u6709\u8bf4\u660e\u7684\u3002</p> <p>\u5728\u8fd9\u79cd\u7684\u673a\u5236\u4e0b\uff0cstate \u7531\u5916\u754c\u540c\u6b65\u7684\u540c\u65f6\uff0c\u5185\u90e8\u53c8\u6709\u53ef\u80fd\u901a\u8fc7 setState \u6765\u4fee\u6539 state\uff0c\u53ef\u80fd\u5f15\u53d1\u65b0\u7684\u95ee\u9898\u3002\u4f8b\u5982 <code>useSomething</code> \u521d\u59cb\u65f6\uff0ccount \u4e3a 0\uff0c\u540e\u7eed\u5185\u90e8\u901a\u8fc7 <code>setCount</code> \u4fee\u6539\u4e86 <code>count</code> \u4e3a 1\u3002\u5f53\u5916\u90e8\u51fd\u6570\u7ec4\u4ef6\u7684 render \u51fd\u6570\u91cd\u65b0\u8c03\u7528\uff0c\u4e5f\u4f1a\u518d\u4e00\u6b21\u8c03\u7528 <code>useSomething</code>\uff0c\u6b64\u65f6\u4f20\u5165\u7684 <code>inputCount</code> \u4f9d\u7136\u662f 0\uff0c\u5c31\u4f1a\u628a <code>count</code> \u53d8\u56de 0\u3002\u8fd9\u5f88\u53ef\u80fd\u4e0d\u7b26\u5408\u9884\u671f\u3002</p> <p>\u9047\u5230\u8fd9\u6837\u7684\u95ee\u9898\uff0c\u5efa\u8bae\u5c06 <code>inputCount</code> \u7684\u5f53\u524d\u503c\u4e0e\u4e0a\u4e00\u6b21\u7684\u503c\u8fdb\u884c\u6bd4\u8f83\uff0c\u53ea\u6709\u786e\u5b9a\u53d1\u751f\u53d8\u5316\u65f6\u6267\u884c <code>setCount(inputCount)</code> \u3002</p> <p>\u5f53\u7136\uff0c\u5728\u7279\u6b8a\u7684\u573a\u666f\u4e0b\uff0c\u8fd9\u6837\u7684\u8bbe\u5b9a\u4e5f\u4e0d\u4e00\u5b9a\u7b26\u5408\u9700\u6c42\u3002\u5b98\u7f51\u7684\u8fd9\u7bc7\u6587\u7ae0 \u6709\u63d0\u51fa\u7c7b\u4f3c\u7684\u95ee\u9898\u3002</p>"},{"location":"react-hooks/07%20React%20Hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/#useslider","title":"\u5b9e\u8df5\uff1auseSlider","text":"<p>\u901a\u8fc7\u4e00\u4e2a\u6ed1\u52a8\u9009\u62e9\u5668\u81ea\u5b9a\u4e49 hook <code>userSlider</code> \u7684\u5b9e\u73b0\uff0c\u6211\u4eec\u53ef\u4ee5\u56de\u7b54\u4e0a\u9762\u7684\u8fd9\u4e2a\u95ee\u9898\uff0c\u987a\u4fbf\u5bf9\u672c\u6587\u505a\u4e00\u4e2a\u603b\u7ed3\u3002</p> <p></p> <p><code>userSlider</code> \u9700\u8981\u5b9e\u73b0\u7684\u903b\u8f91\u662f\uff1a\u6309\u4f4f\u6ed1\u52a8\u9009\u62e9\u5668\u7684\u5706\u5f62\u624b\u67c4\u533a\u57df\u5e76\u62d6\u52a8\u53ef\u4ee5\u8c03\u8282\u6570\u503c\u5927\u5c0f\uff0c\u6570\u503c\u8303\u56f4\u4e3a 0 \u5230 1\u3002</p> <p><code>userSlider</code> \u53ea\u8d1f\u8d23\u903b\u8f91\u7684\u5b9e\u73b0\uff0cUI \u6837\u5f0f\u7531\u7ec4\u4ef6\u81ea\u884c\u5b8c\u6210\u3002\u4e3a\u4e86\u6a21\u62df\u771f\u5b9e\u4e1a\u52a1\uff0c\u53e6\u5916\u901a\u8fc7\u6587\u672c\u5c55\u793a\u4e86\u5f53\u524d\u7684\u6570\u503c\u3002\u5e76\u6709\u51e0\u4e2a\u6309\u94ae\u7528\u4e8e\u5207\u6362\u6570\u503c\u7684\u521d\u59cb\u503c\uff0c\u8fd9\u662f\u4e3a\u4e86\u5207\u6362\u5206\u7c7b\u540e\uff0c\u5f53\u524d\u7684\u6ed1\u52a8\u9009\u62e9\u5668\u9700\u8981\u91cd\u7f6e\u5230\u67d0\u4e2a\u6570\u503c\u3002</p> <p>\u6309\u7167\u5e38\u89c4\u7684\u903b\u8f91\uff0c\u6211\u4eec\u5b9e\u73b0\u4e86\u4ee5\u4e0b\u4ee3\u7801\uff1a</p> <p></p> <p>\u5f53\u524d\u7684\u95ee\u9898\u662f\uff0c<code>useEffect</code> \u6d89\u53ca\u5230\u591a\u4e2a state \u7684\u83b7\u53d6\u4e0e\u8ba1\u7b97\u3002\u5bfc\u81f4\u9f20\u6807\u6309\u4e0b\u3001\u79fb\u52a8\u3001\u5f39\u8d77\u7684\u51e0\u4e2a\u64cd\u4f5c\u4e2d\u56e0\u4e3a\u5bf9 stata \u7684\u4fee\u6539\uff0c<code>useEffect</code> \u9891\u7e41\u5237\u65b0\uff0c\u4e14\u6d89\u53ca\u5230\u4e86\u9f20\u6807\u6309\u4e0b\u3001\u79fb\u52a8\u3001\u5f39\u8d77\u4e8b\u4ef6\u76d1\u542c\u7684\u53d6\u6d88\u4e0e\u91cd\u65b0\u7ed1\u5b9a\uff0c\u8fd9\u5e26\u6765\u4e86\u6027\u80fd\u95ee\u9898\u4ee5\u53ca\u8f83\u96be\u89c2\u5bdf\u5230\u7684 BUG\u3002</p> <p>\u548c\u524d\u9762\u7684 <code>setInterval</code> \u4f8b\u5b50\u76f8\u4f3c\uff0c\u6211\u4eec\u4e0d\u5e0c\u671b\u5728\u72b6\u6001\u53d8\u52a8\u65f6\uff0c\u5237\u65b0 <code>useEffect</code>\u3002\u7531\u4e8e\u6b64\u5904\u6d89\u53ca\u5230\u591a\u4e2a\u72b6\u6001\uff1a\u662f\u5426\u6ed1\u52a8\u4e2d\u3001\u9f20\u6807\u4f4d\u7f6e\u3001\u4e0a\u4e00\u6b21\u9f20\u6807\u7684\u95ee\u9898\u3001\u9009\u62e9\u5668\u7684\u53ef\u6ed1\u52a8\u5bbd\u5ea6\uff0c\u5982\u679c\u6574\u5408\u5230\u4e00\u4e2a <code>state</code> \u4e2d\uff0c\u4f1a\u9762\u4e34\u4ee3\u7801\u4e0d\u6e05\u6670\uff0c\u7f3a\u5c11\u5185\u805a\u6027\u7684\u95ee\u9898\uff0c\u6211\u4eec\u5c1d\u8bd5\u7528 <code>useReducer</code> \u505a\u4e00\u6b21\u66ff\u6362\u3002</p> <pre><code>const reducer = (state, action) =&gt; {\n  switch (action.type) {\n    case \"start\":\n      return {\n        ...state,\n        lastPos: action.x,\n        slideRange: action.slideWidth,\n        sliding: true\n      };\n    case \"move\": {\n      if (!state.sliding) {\n        return state;\n      }\n      const pos = action.x;\n      const delta = pos - state.lastPos;\n      return {\n        ...state,\n        lastPos: pos,\n        ratio: fixRatio(state.ratio + delta / state.slideRange)\n      };\n    }\n    case \"end\": {\n      if (!state.sliding) {\n        return state;\n      }\n      const pos = action.x;\n      const delta = pos - state.lastPos;\n      return {\n        ...state,\n        lastPos: pos,\n        ratio: fixRatio(state.ratio + delta / state.slideRange),\n        sliding: false\n      };\n    }\n    default:\n      return state;\n  }\n};\n\n//...\n\nconst handleThumbMouseDown = useCallback(ev =&gt; {\n  const hotArea = hotAreaRef.current;\n  dispatch({\n    type: \"start\",\n    x: ev.pageX\n    slideWidth: hotArea.clientWidth\n  });\n}, []);\n\nuseEffect(() =&gt; {\n  const onSliding = ev =&gt; {\n    dispatch({\n      type: \"move\",\n      x: ev.pageX\n    });\n  };\n  const onSlideEnd = ev =&gt; {\n    dispatch({\n      type: \"end\",\n      x: ev.pageX\n    });\n  };\n  document.addEventListener(\"mousemove\", onSliding);\n  document.addEventListener(\"mouseup\", onSlideEnd);\n\n  return () =&gt; {\n    document.removeEventListener(\"mousemove\", onSliding);\n    document.removeEventListener(\"mouseup\", onSlideEnd);\n  };\n}, []);\n</code></pre> <p>\u8fd9\u6837\u5904\u7406\u540e\uff0ceffect \u53ea\u8981\u6267\u884c\u4e00\u6b21\u5373\u53ef\u3002</p> <p>\u63a5\u4e0b\u6765\u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\u6ca1\u6709\u5904\u7406\uff0c\u76ee\u524d <code>initRatio</code> \u662f\u4f5c\u4e3a\u521d\u59cb\u503c\u4f20\u5165\u7684\uff0c<code>useSlider</code> \u5185\u90e8\u7684 ratio \u662f\u4e0d\u53d7\u5916\u90e8\u63a7\u5236\u7684\u3002</p> <p>\u4ee5\u4e00\u4e2a\u97f3\u4e50\u5747\u8861\u5668\u7684\u8bbe\u7f6e\u4e3a\u4f8b\uff1a\u5f53\u524d\u6ed1\u52a8\u9009\u62e9\u5668\u4ee3\u8868\u7684\u662f\u4f4e\u9891\u7aef\uff0831\uff09\u7684\u589e\u76ca\u503c\uff0c\u7528\u6237\u901a\u8fc7\u62d6\u52a8\u6ed1\u5757\u53ef\u4ee5\u8bbe\u7f6e\u8fd9\u4e2a\u503c\u7684\u5927\u5c0f\uff08-12 \u5230 12 dB \u8303\u56f4\uff0c\u6211\u4eec\u8bbe\u7f6e\u5230\u4e86 3 dB\uff09\u3002\u540c\u65f6\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e9b\u9884\u8bbe\u9009\u9879\uff0c\u4e00\u65e6\u9009\u62e9\u9884\u8bbe\u9009\u9879\uff0c\u5982\u300e\u6d41\u884c\u300f\u98ce\u683c\uff0c\u5f53\u524d\u6ed1\u5757\u9700\u8981\u91cd\u7f6e\u5230\u7279\u5b9a\u503c -1 dB\u3002\u4e3a\u6b64\uff0c <code>useSlider</code> \u9700\u8981\u63d0\u4f9b\u63a7\u5236\u72b6\u6001\u7684\u65b9\u6cd5\u3002</p> <p></p> <p>\u6839\u636e\u524d\u4e00\u8282\u7684\u4ecb\u7ecd\uff0c\u5728 <code>useSlider</code> \u7684\u5f00\u5934\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u5c5e\u6027 <code>initRatio</code> \u7684\u5f53\u524d\u503c\u4e0e\u4e0a\u4e00\u6b21\u7684\u503c\u8fdb\u884c\u6bd4\u8f83\uff0c\u82e5\u53d1\u751f\u53d8\u5316\uff0c\u5219\u6267\u884c <code>setRatio</code>\u3002\u4f46\u4ecd\u7136\u6709\u573a\u666f\u65e0\u6cd5\u6ee1\u8db3\uff1a\u7528\u6237\u9009\u62e9\u4e86\u300e\u6d41\u884c\u300f\u8fd9\u4e00\u9884\u8bbe\uff0c\u7136\u540e\u62d6\u52a8\u6ed1\u5757\u8fdb\u884c\u4e86\u8c03\u8282\uff0c\u4e4b\u540e\u53c8\u91cd\u65b0\u9009\u62e9\u300e\u6d41\u884c\u300f\u8fd9\u4e00\u9884\u8bbe\uff0c\u6b64\u65f6 <code>initRatio</code> \u6ca1\u6709\u4efb\u4f55\u53d8\u5316\uff0c\u4f46\u6211\u4eec\u671f\u671b ratio \u91cd\u65b0\u53d8\u4e3a <code>initRatio</code>\u3002</p> <p>\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u529e\u6cd5\u662f\uff0c\u5728 <code>useSlider</code> \u5185\u90e8\u6dfb\u52a0\u4e00\u4e2a <code>setRatio</code> \u65b9\u6cd5\u3002</p> <pre><code>const setRatio = useCallback(\n    ratio =&gt;\n        dispatch({\n            type: \"setRatio\",\n            ratio\n        }),\n    []\n);\n</code></pre> <p>\u5c06\u8be5\u65b9\u6cd5\u8f93\u51fa\u4f9b\u5916\u90e8\u7528\u4e8e\u5bf9 ratio \u63a7\u5236\u3002<code>initRatio</code> \u4e0d\u518d\u63a7\u5236 ratio \u7684\u72b6\u6001\uff0c\u4ec5\u7528\u4e8e\u8bbe\u7f6e\u521d\u59cb\u503c\u3002</p> <p>\u53ef\u4ee5\u770b\u4e0b\u6700\u7ec8\u7684\u5b9e\u73b0\u65b9\u6848\uff1a</p> <p>\u8be5\u65b9\u6848\u4e2d\uff0c\u9664\u4e86\u5b8c\u6210\u4ee5\u4e0a\u9700\u6c42\uff0c\u8fd8\u652f\u6301\u5728\u9009\u62e9\u5668\u7684\u5176\u4ed6\u533a\u57df\u70b9\u51fb\u76f4\u63a5\u8df3\u8f6c\u5230\u5bf9\u5e94\u7684\u6570\u503c\uff1b\u652f\u6301\u8bbe\u5b9a\u9009\u62e9\u5668\u4e3a\u5782\u76f4\u8fd8\u662f\u6c34\u5e73\u65b9\u5411\u3002\u4f9b\u5927\u5bb6\u53c2\u8003\u3002</p>"},{"location":"react-hooks/07%20React%20Hooks%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/#_9","title":"\u7ed3\u675f\u8bed","text":"<p>\u5fd8\u6389 class \u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\uff0c\u91cd\u65b0\u5ba1\u89c6\u51fd\u6570\u5f0f\u7ec4\u4ef6\u7684\u610f\u4e49\uff0c\u662f\u7528\u597d React Hooks \u7684\u5173\u952e\u4e00\u6b65\u3002\u5e0c\u671b\u8fd9\u7bc7\u6587\u7ae0\u80fd\u5e2e\u52a9\u5927\u5bb6\u8fdb\u4e00\u6b65\u7406\u89e3\u5e76\u83b7\u53d6\u5230\u4e00\u4e9b\u6700\u4f73\u5b9e\u8df5\u3002\u5f53\u7136\uff0c\u4e0d\u540c\u7684 React Hooks \u4f7f\u7528\u59ff\u52bf\u53ef\u80fd\u5e26\u6765\u4e0d\u540c\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u6b22\u8fce\u5927\u5bb6\u4ea4\u6d41\u3002</p>"},{"location":"react-hooks/08%20useMemo%E3%80%81useCallback%E3%80%81useContext/","title":"08 useMemo\u3001useCallback\u3001useContext","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 11598  \u9605\u8bfb24\u5206\u949f</p> <p>\u6700\u8fd1\u4e00\u76f4\u5728\u505a\u9879\u76ee\u6027\u80fd\u4f18\u5316\u7684\u5de5\u4f5c\uff0c\u5728\u6392\u67e5\u6027\u80fd\u65b9\u9762\u7684\u95ee\u9898\u65f6\u53d1\u73b0\u9879\u76ee\u4e2d\u5f88\u591a\u5730\u65b9\u90fd\u5b58\u5728\u91cd\u590d\u6e32\u67d3\u7684\u95ee\u9898\uff0c\u5ba1\u67e5\u4ee3\u7801\u540e\u53d1\u73b0\u5176\u4e2d\u5b58\u5728\u4e0d\u5c11\u6ee5\u7528\u6216\u8005\u8bf4\u8bef\u7528 useMemo\u3001useCallback\u3001useContext \u7684\u573a\u666f\uff0c\u5bfc\u81f4\u4e86\u9875\u9762\u7684\u5197\u4f59\u6e32\u67d3\u3002\u4e8e\u662f\u51b3\u5b9a\u603b\u7ed3\u8fd9\u4e00\u7bc7\u5e2e\u52a9\u5c0f\u7ec4\u5185\u6210\u5458\u6b63\u786e\u7406\u89e3\u8fd9\u4e09\u4e2a hook \u7684\u4f7f\u7528\u3002</p>"},{"location":"react-hooks/08%20useMemo%E3%80%81useCallback%E3%80%81useContext/#usememousecallbackmemo","title":"\u4e00\u3001\u6b63\u786e\u7406\u89e3 useMemo\u3001useCallback\u3001memo \u7684\u4f7f\u7528\u573a\u666f","text":"<p>\u5728\u6211\u4eec\u5e73\u65f6\u7684\u5f00\u53d1\u4e2d\u5f88\u591a\u60c5\u51b5\u4e0b\u6211\u4eec\u90fd\u5728\u6ee5\u7528 useMemo\u3001useCallback\u8fd9\u4e24\u4e2a hook\uff0c \u5b9e\u9645\u4e0a\u5f88\u591a\u60c5\u51b5\u4e0b\u6211\u4eec\u4e0d\u9700\u8981\u751a\u81f3\u8bf4\u662f\u4e0d\u5e94\u8be5\u4f7f\u7528\uff0c\u56e0\u4e3a\u8fd9\u4e24\u4e2a hook \u5728\u9996\u6b21 render \u65f6\u9700\u8981\u505a\u4e00\u4e9b\u989d\u5916\u5de5\u4f5c\u6765\u63d0\u4f9b\u7f13\u5b58\uff0c</p> <p>\u540c\u65f6\u65e2\u7136\u8981\u63d0\u4f9b\u7f13\u5b58\u90a3\u5fc5\u7136\u9700\u8981\u989d\u5916\u7684\u5185\u5b58\u6765\u8fdb\u884c\u7f13\u5b58\uff0c\u7efc\u5408\u6765\u770b\u8fd9\u4e24\u4e2a hook \u5176\u5b9e\u5e76\u4e0d\u5229\u4e8e\u9875\u9762\u7684\u9996\u6b21\u6e32\u67d3\u751a\u81f3\u4f1a\u62d6\u6162\u9996\u6b21\u6e32\u67d3\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u5e38\u8bf4\u7684\u201c\u4e0d\u8981\u5728\u4e00\u5f00\u59cb\u5c31\u4f18\u5316\u4f60\u7684\u7ec4\u4ef6\uff0c\u51fa\u73b0\u95ee\u9898\u7684\u65f6\u5019\u518d\u4f18\u5316\u4e5f\u4e0d\u8fdf\u201d\u7684\u6839\u672c\u539f\u56e0\u3002</p> <p>\u90a3\u4ec0\u4e48\u65f6\u5019\u5e94\u8be5\u4f7f\u7528\u5462\uff0c\u65e0\u975e\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\uff1a</p> <ol> <li>\u7f13\u5b58 useEffect \u7684\u5f15\u7528\u7c7b\u578b\u4f9d\u8d56\uff1b</li> <li>\u7f13\u5b58\u5b50\u7ec4\u4ef6 props \u4e2d\u7684\u5f15\u7528\u7c7b\u578b\u3002</li> </ol>"},{"location":"react-hooks/08%20useMemo%E3%80%81useCallback%E3%80%81useContext/#1-useeffect","title":"1. \u7f13\u5b58 useEffect \u7684\u5f15\u7528\u7c7b\u578b\u4f9d\u8d56","text":"<pre><code>import { useEffect } from 'react'\nexport default () =&gt; {\n  const msg = {\n    info: 'hello world',\n  }\n  useEffect(() =&gt; {\n    console.log('msg:', msg.info)\n  }, [msg])\n}\n</code></pre> <p>\u6b64\u65f6 msg \u662f\u4e00\u4e2a\u5bf9\u8c61\u8be5\u5bf9\u8c61\u4f5c\u4e3a\u4e86 useEffect \u7684\u4f9d\u8d56\uff0c\u8fd9\u91cc\u672c\u610f\u662f msg \u53d8\u5316\u7684\u65f6\u5019\u6253\u5370 msg \u7684\u4fe1\u606f\u3002\u4f46\u662f\u5b9e\u9645\u4e0a\u6bcf\u6b21\u7ec4\u4ef6\u5728render \u7684\u65f6\u5019 msg \u90fd\u4f1a\u88ab\u91cd\u65b0\u521b\u5efa\uff0cmsg \u7684\u5f15\u7528\u5728\u6bcf\u6b21 render \u65f6\u90fd\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u6240\u4ee5\u8fd9\u91cc useEffect \u5728\u6bcf\u6b21render \u7684\u65f6\u5019\u90fd\u4f1a\u91cd\u65b0\u6267\u884c\uff0c\u548c\u6211\u4eec\u9884\u671f\u7684\u4e0d\u4e00\u6837\uff0c\u6b64\u65f6 useMemo \u5c31\u53ef\u4ee5\u6d3e\u4e0a\u7528\u573a\u4e86:</p> <pre><code>import { useEffect, useMemo } from \"react\";\nconst App = () =&gt; {\n  const msg = useMemo(() =&gt; {\n    return {\n      info: \"hello world\",\n    };\n  }, []);\n  useEffect(() =&gt; {\n    console.log(\"msg:\", msg.info);\n  }, [msg]);\n};\n\nexport default App;\n</code></pre> <p>\u540c\u7406\u5bf9\u4e8e\u51fd\u6570\u4f5c\u4e3a\u4f9d\u8d56\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 useCallback\uff1a</p> <pre><code>import { useEffect, useCallback } from \"react\";\nconst App = (props) =&gt; {\n  const print = useCallback(() =&gt; {\n    console.log(\"msg\", props.msg);\n  }, [props.msg]);\n  useEffect(() =&gt; {\n    print();\n  }, [print]);\n};\n\nexport default App;\n</code></pre>"},{"location":"react-hooks/08%20useMemo%E3%80%81useCallback%E3%80%81useContext/#2-props","title":"2. \u7f13\u5b58\u5b50\u7ec4\u4ef6 props \u4e2d\u7684\u5f15\u7528\u7c7b\u578b\u3002","text":"<p>\u505a\u8fd9\u4e00\u6b65\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u9632\u6b62\u7ec4\u4ef6\u975e\u5fc5\u8981\u7684\u91cd\u65b0\u6e32\u67d3\u9020\u6210\u7684\u6027\u80fd\u6d88\u8017\uff0c\u6240\u4ee5\u9996\u5148\u8981\u660e\u786e\u7ec4\u4ef6\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u91cd\u65b0\u6e32\u67d3\u3002</p> <ol> <li>\u7ec4\u4ef6\u7684 props \u6216 state \u53d8\u5316\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3</li> <li>\u7236\u7ec4\u4ef6\u7684\u91cd\u65b0\u6e32\u67d3\u4f1a\u5bfc\u81f4\u5176\u5b50\u7ec4\u4ef6\u7684\u91cd\u65b0\u6e32\u67d3</li> </ol> <p>\u8fd9\u4e00\u6b65\u4f18\u5316\u7684\u76ee\u7684\u662f\uff1a\u5728\u7236\u7ec4\u4ef6\u4e2d\u8ddf\u5b50\u7ec4\u4ef6\u6ca1\u6709\u5173\u7cfb\u7684\u72b6\u6001\u53d8\u66f4\u5bfc\u81f4\u7684\u91cd\u65b0\u6e32\u67d3\u53ef\u4ee5\u4e0d\u6e32\u67d3\u5b50\u7ec4\u4ef6\uff0c\u9020\u6210\u4e0d\u5fc5\u8981\u7684\u6d6a\u8d39\u3002</p> <p>\u5927\u90e8\u5206\u65f6\u5019\u6211\u4eec\u662f\u660e\u786e\u77e5\u9053\u8fd9\u4e2a\u76ee\u7684\u7684\uff0c\u4f46\u662f\u5f88\u591a\u65f6\u5019\u5374\u5e76\u6ca1\u6709\u8fbe\u5230\u76ee\u7684\uff0c\u5b58\u5728\u4e00\u5b9a\u7684\u8bef\u533a\uff1a</p> <p>\u8bef\u533a\u4e00\uff1a</p> <pre><code>import { useCallback, useState } from \"react\";\n\nconst Child = (props) =&gt; {};\nconst App = () =&gt; {\n  const handleChange = useCallback(() =&gt; {}, []);\n  const [count, setCount] = useState(0);\n  return (\n    &lt;&gt;\n      &lt;div\n        onPress={() =&gt; {\n          setCount(count + 1);\n        }}\n      &gt;\n        increase\n      &lt;/div&gt;\n      &lt;Child handleChange={handleChange} /&gt;\n    &lt;/&gt;\n  );\n};\n\nexport default App;\n</code></pre> <p>\u9879\u76ee\u4e2d\u6709\u5f88\u591a\u5730\u65b9\u5b58\u5728\u8fd9\u6837\u7684\u4ee3\u7801\uff0c\u5b9e\u9645\u4e0a\u5b8c\u5168\u4e0d\u8d77\u4f5c\u7528\uff0c\u56e0\u4e3a\u53ea\u8981\u7236\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\uff0cChild \u7ec4\u4ef6\u4e5f\u4f1a\u8ddf\u7740\u91cd\u65b0\u6e32\u67d3\uff0c\u8fd9\u91cc\u7684 useCallback \u5b8c\u5168\u662f\u767d\u7ed9\u7684\u3002</p> <p>\u8bef\u533a\u4e8c\uff1a</p> <pre><code>import { useCallback, useState, memo } from \"react\";\n\nconst Child = memo((props) =&gt; {});\nconst App = () =&gt; {\n  const handleChange = () =&gt; {};\n  const [count, setCount] = useState(0);\n  return (\n    &lt;&gt;\n      &lt;div\n        onPress={() =&gt; {\n          setCount(count + 1);\n        }}\n      &gt;\n        increase\n      &lt;/div&gt;\n      &lt;Child handleChange={handleChange} /&gt;\n    &lt;/&gt;\n  );\n};\n\nexport default App;\n</code></pre> <p>\u5bf9\u4e8e\u590d\u6742\u7684\u7ec4\u4ef6\u9879\u76ee\u4e2d\u4f1a\u4f7f\u7528 memo \u8fdb\u884c\u5305\u88f9\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u5bf9\u7ec4\u4ef6\u63a5\u53d7\u7684 props \u5c5e\u6027\u8fdb\u884c\u6d45\u6bd4\u8f83\u6765\u5224\u65ad\u7ec4\u4ef6\u8981\u4e0d\u8981\u8fdb\u884c\u91cd\u65b0\u6e32\u67d3\u3002\u8fd9\u5f53\u7136\u662f\u6b63\u786e\u7684\u505a\u6cd5\uff0c\u4f46\u662f\u95ee\u9898\u51fa\u5728 props \u5c5e\u6027\u91cc\u9762\u6709\u5f15\u7528\u7c7b\u578b\u7684\u60c5\u51b5\uff0c\u4f8b\u5982\u6570\u7ec4\u3001\u51fd\u6570\uff0c\u5982\u679c\u50cf\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u8fd9\u6837\u4e66\u5199\uff0chandleChange \u5728 App \u7ec4\u4ef6\u6bcf\u6b21\u91cd\u65b0\u6e32\u67d3\u7684\u65f6\u5019\u90fd\u4f1a\u91cd\u65b0\u521b\u5efa\u751f\u6210\uff0c\u5f15\u7528\u5f53\u7136\u4e5f\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u90a3\u4e48\u52bf\u5fc5\u4f1a\u9020\u6210 Child \u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\u3002\u6240\u4ee5\u8fd9\u79cd\u5199\u6cd5\u4e5f\u662f\u767d\u7ed9\u7684\u3002</p> <p>\u6b63\u786e\u59ff\u52bf\uff1a</p> <pre><code>import { useCallback, useState, memo, useMemo } from \"react\";\n\nconst Child = memo((props) =&gt; {});\nconst App = () =&gt; {\n  const [count, setCount] = useState(0);\n  const handleChange = useCallback(() =&gt; {}, []);\n  const list = useMemo(() =&gt; {\n    return [];\n  }, []);\n  return (\n    &lt;&gt;\n      &lt;div\n        onPress={() =&gt; {\n          setCount(count + 1);\n        }}\n      &gt;\n        increase\n      &lt;/div&gt;\n      &lt;Child handleChange={handleChange} list={list} /&gt;\n    &lt;/&gt;\n  );\n};\n\nexport default App;\n</code></pre> <p>\u5176\u5b9e\u603b\u7ed3\u8d77\u6765\u4e5f\u5f88\u7b80\u5355\uff0cmemo \u662f\u4e3a\u4e86\u9632\u6b62\u7ec4\u4ef6\u5728 props \u6ca1\u6709\u53d8\u5316\u65f6\u91cd\u65b0\u6e32\u67d3\uff0c\u4f46\u662f\u5982\u679c\u7ec4\u4ef6\u4e2d\u5b58\u5728\u7c7b\u4f3c\u4e8e\u4e0a\u9762\u4f8b\u5b50\u4e2d\u7684\u5f15\u7528\u7c7b\u578b\uff0c\u8fd8\u662f\u90a3\u4e2a\u539f\u56e0\u6bcf\u6b21\u6e32\u67d3\u90fd\u4f1a\u88ab\u91cd\u65b0\u521b\u5efa\uff0c\u5f15\u7528\u4f1a\u6539\u53d8\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u7f13\u5b58\u8fd9\u4e9b\u503c\u4fdd\u8bc1\u5f15\u7528\u4e0d\u53d8\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u91cd\u590d\u6e32\u67d3\u3002</p>"},{"location":"react-hooks/08%20useMemo%E3%80%81useCallback%E3%80%81useContext/#usecontext","title":"\u4e8c\u3001useContext \u4f7f\u7528\u6ce8\u610f\u4e8b\u9879","text":"<p>\u5728\u9879\u76ee\u4e2d\u6211\u4eec\u5df2\u7ecf\u91cd\u5ea6\u4f9d\u8d56\u4e8e useContext \u8fd9\u4e2a api\uff0c\u540c\u65f6\u7ed3\u5408 useReducer \u4ee3\u66ff redux  \u6765\u505a\u72b6\u6001\u7ba1\u7406\uff0c\u8fd9\u4e5f\u5f15\u5165\u4e86\u4e00\u4e9b\u95ee\u9898\u3002\u6211\u4eec\u628a\u5b98\u65b9Demo\u6574\u5408\u4e0b\uff0c\u5148\u6765\u770b\u770b\u5982\u4f55\u7ed3\u5408\u4f7f\u7528 useContext \u548c useReducer\u3002</p> <pre><code>import React, { createContext, useContext, useReducer } from \"react\";\n\nconst ContainerContext = createContext({ count: 0 });\nconst initialState = { count: 0 };\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"increment\":\n      return { count: state.count + 1 };\n    case \"decrement\":\n      return { count: state.count - 1 };\n    default:\n      throw new Error();\n  }\n}\n\nfunction Counter() {\n  const { state, dispatch } = useContext(ContainerContext);\n  return (\n    &lt;&gt;\n      Count: {state.count}\n      &lt;button onClick={() =&gt; dispatch({ type: \"decrement\" })}&gt;-&lt;/button&gt;\n      &lt;button onClick={() =&gt; dispatch({ type: \"increment\" })}&gt;+&lt;/button&gt;\n    &lt;/&gt;\n  );\n}\n\nfunction Tip() {\n  return &lt;span&gt;\u8ba1\u6570\u5668&lt;/span&gt;;\n}\n\nfunction Container() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    &lt;ContainerContext.Provider value={{ state, dispatch }}&gt;\n      &lt;Counter /&gt;\n      &lt;Tip /&gt;\n    &lt;/ContainerContext.Provider&gt;\n  );\n}\n\nexport default Container;\n</code></pre> <p>\u4f7f\u7528\u8d77\u6765\u975e\u5e38\u65b9\u4fbf\uff0c\u4e4d\u4e00\u770b\u4f3c\u4e4e\u90fd\u633a\u7f8e\u597d\u7684\uff0c\u4f46\u662f\u5176\u5b9e\u6709\u4e0d\u5c11\u9677\u9631\u6216\u8005\u8bef\u533a\u5728\u91cc\u9762\u3002</p> <p>useContext \u7684\u673a\u5236\u662f\u4f7f\u7528\u8fd9\u4e2a hook \u7684\u7ec4\u4ef6\u5728 context \u53d1\u751f\u53d8\u5316\u65f6\u90fd\u4f1a\u91cd\u65b0\u6e32\u67d3\u3002\u8fd9\u6837\u4f1a\u5bfc\u81f4\u4e00\u4e9b\u95ee\u9898\uff0c\u6211\u628a\u6211\u9047\u5230\u8fc7\u7684\u548c\u80fd\u60f3\u5230\u7684\u95ee\u9898\u603b\u7ed3\u5230\u4e0b\u9762\uff0c\u5982\u679c\u6709\u8865\u5145\u7684\u53ef\u4ee5\u518d\u8ba8\u8bba\u3002</p>"},{"location":"react-hooks/08%20useMemo%E3%80%81useCallback%E3%80%81useContext/#1-provider","title":"1. Provider \u5355\u72ec\u5c01\u88c5","text":"<p>\u5728\u4e0a\u9762\u7684 demo \u4e2d\u6211\u4eec\u5e94\u8be5\u770b\u5230\u4e86\u5728 Provider \u4e2d\u6709\u4e24\u4e2a\u7ec4\u4ef6\uff0cCounter \u7ec4\u4ef6\u5728 state \u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019\u9700\u8981\u91cd\u65b0\u6e32\u67d3\u8fd9\u4e2a\u6ca1\u4ec0\u4e48\u95ee\u9898\uff0c\u90a3 Tip \u7ec4\u4ef6\u5462\uff0c\u5728 Tip \u7ec4\u4ef6\u91cc\u9762\u663e\u7136\u6ca1\u6709\u7528\u5230 Context \u5b9e\u9645\u4e0a\u662f\u6ca1\u6709\u5fc5\u8981\u8fdb\u884c\u91cd\u65b0\u6e32\u67d3\u7684\u3002\u4f46\u662f\u73b0\u5728\u8fd9\u79cd\u5199\u6cd5\u6bcf\u6b21state\u53d8\u5316\u90fd\u4f1a\u5bfc\u81f4 Provider \u4e2d\u6240\u6709\u7684\u5b50\u7ec4\u4ef6\u90fd\u8ddf\u7740\u6e32\u67d3\u3002\u6709\u6ca1\u6709\u4ec0\u4e48\u529e\u6cd5\u89e3\u51b3\u5462\uff0c\u5b9e\u9645\u4e0a\u4e5f\u5f88\u7b80\u5355\uff0c\u6211\u4eec\u628a\u72b6\u6001\u7ba1\u7406\u5355\u72ec\u5c01\u88c5\u5230\u4e00\u4e2a Provider \u7ec4\u4ef6\u91cc\u9762\uff0c\u7136\u540e\u628a\u5b50\u7ec4\u4ef6\u901a\u8fc7 props.children \u7684\u65b9\u5f0f\u4f20\u8fdb\u53bb</p> <pre><code>...\nfunction Provider(props) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    &lt;ContainerContext.Provider value={{ state, dispatch }}&gt;\n      {props.children}\n    &lt;/ContainerContext.Provider&gt;\n  );\n}\n\nconst App = () =&gt; {\n  return (\n    &lt;Provider&gt;\n      &lt;Counter /&gt;\n      &lt;Tip /&gt;\n    &lt;/Provider&gt;\n  );\n};\n...\n</code></pre> <p>\u8fd9\u4e2a\u65f6\u5019 APP \u7ec4\u4ef6\u5c31\u6210\u4e3a\u4e86\u65e0\u72b6\u6001\u7ec4\u4ef6\uff0cstate \u53d8\u5316\u7684\u65f6\u5019 props.children \u4e0d\u4f1a\u6539\u53d8\uff0c\u4e0d\u4f1a\u88ab\u91cd\u65b0\u6e32\u67d3\uff0c\u8fd9\u4e2a\u65f6\u5019\u518d\u770b Tip \u7ec4\u4ef6\uff0c\u72b6\u6001\u66f4\u65b0\u7684\u65f6\u5019\u5c31\u4e0d\u4f1a\u8ddf\u7740\u91cd\u65b0\u6e32\u67d3\u4e86\u3002</p> <p>\u90a3\u8fd9\u6837\u662f\u4e0d\u662f\u5c31\u4e07\u4e8b\u5927\u5409\u5462\uff0c\u5bf9\u4e0d\u8d77\u6ca1\u6709\uff0c\u8fd8\u6709\u5751\uff0c\u63a5\u7740\u770b\u7b2c\u4e8c\u70b9\u3002</p>"},{"location":"react-hooks/08%20useMemo%E3%80%81useCallback%E3%80%81useContext/#2-provider-value","title":"2. \u7f13\u5b58 Provider value","text":"<p>\u5728\u5b98\u65b9\u6587\u6863\u91cc\u9762\u4e5f\u63d0\u5230\u4e86\u8fd9\u4e2a\u5751\uff0c\u7b80\u5355\u8bf4\u5c31\u662f\uff0c\u5982\u679c Provider \u7ec4\u4ef6\u8fd8\u6709\u7236\u7ec4\u4ef6\uff0c\u5f53 Provider \u7684\u7236\u7ec4\u4ef6\u8fdb\u884c\u91cd\u6e32\u67d3\u65f6\uff0cProvider \u7684value \u5c5e\u6027\u6bcf\u6b21\u6e32\u67d3\u90fd\u4f1a\u91cd\u65b0\u521b\u5efa\uff0c\u539f\u7406\u548c\u4e0a\u9762 useMemo useCallback \u4e2d\u63d0\u5230\u7684\u4e00\u6837\uff0c\u6240\u4ee5\u6700\u597d\u7684\u529e\u6cd5\u662f\u5bf9 value \u8fdb\u884c\u7f13\u5b58\uff1a</p> <pre><code>...\nfunction Provider(props) {\nconst [state, dispatch] = useReducer(reducer, initialState);\nconst value = useMemo(() =&gt; ({ state, dispatch }), [state]);\n  return (\n    &lt;ContainerContext.Provider value={value}&gt;\n      {props.children}\n    &lt;/ContainerContext.Provider&gt;\n  );\n}\n...\n</code></pre>"},{"location":"react-hooks/08%20useMemo%E3%80%81useCallback%E3%80%81useContext/#3-memo","title":"3.  memo \u4f18\u5316\u76f4\u63a5\u88ab\u7a7f\u900f\uff0c\u4e0d\u518d\u8d77\u4f5c\u7528","text":"<p>\u5728\u5f00\u53d1\u4e2d\u6211\u4eec\u4f1a\u4f7f\u7528 memo \u6765\u5bf9\u7ec4\u4ef6\u8fdb\u884c\u4f18\u5316\uff0c\u5982\u4e0a\u6587\u4e2d\u63d0\u5230\u7684\uff0c\u4f46\u662f\u5f88\u591a\u65f6\u5019\u6211\u4eec\u53c8\u4f1a\u5728\u4f7f\u7528 memo \u7684\u7ec4\u4ef6\u4e2d\u4f7f\u7528 context\uff0c\u7528 context \u7684\u5730\u65b9\u5728context\u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019\u65e0\u8bba\u5982\u4f55\u90fd\u4f1a\u53d1\u751f\u91cd\u65b0\u6e32\u67d3\uff0c\u6240\u4ee5\u5f88\u591a\u65f6\u5019\u4f1a\u5bfc\u81f4 memo \u4f18\u5316\u5b9e\u6548\uff0c\u5177\u4f53\u53ef\u4ee5\u770b\u8fd9\u91cc\u7684\u8ba8\u8bba\uff0creact \u5b98\u65b9\u89e3\u91ca\u8bf4**\u8bbe\u8ba1\u5982\u6b64**\uff0c\u540c\u65f6\u4e5f\u7ed9\u51fa\u4e86\u76f8\u5e94\u7684\u5efa\u8bae\uff0c\u6211\u4eec\u9879\u76ee\u4e2d\u4e3b\u8981\u89e3\u51b3\u65b9\u6848\u662f\u628a context \u5f80\u4e0a\u63d0\uff0c\u7136\u540e\u901a\u8fc7\u5c5e\u6027\u4f20\u9012\uff0c\u5c31\u662f\u8bf4\u6211\u4eec\u7684\u7ec4\u4ef6\u4e00\u5f00\u59cb\u662f\u8fd9\u6837\u5199\u7684\uff1a</p> <pre><code>React.memo(()=&gt; {\n const {count} = useContext(ContainerContext);\n return &lt;span&gt;{count}&lt;/span&gt;\n})\n</code></pre> <p>\u8fd9\u4e2a\u65f6\u5019context\u66f4\u65b0\u4e86\uff0cmemo \u5c5e\u4e8e\u662f\u767d\u7ed9\uff0c\u6211\u4eec\u628a context \u5f80\u4e0a\u63d0\u4e00\u5c42\uff0c\u5176\u5b9e\u5c31\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff1a</p> <pre><code>const Child = useMemo((props)=&gt;{\n    ....\n})\nfunction Parent() {\n  const {count} = useContext(ContainerContext);\n  return &lt;Child count={count} /&gt;;\n}\n</code></pre> <p>\u8fd9\u6837\u4fdd\u8bc1\u4e86 Child \u7ec4\u4ef6\u7684\u5916\u90e8\u72b6\u6001\u7684\u53d8\u5316\u53ea\u4f1a\u6765\u81ea\u4e8e props\uff0c\u8fd9\u6837\u5f53\u7136 memo \u53ef\u4ee5\u5b8c\u7f8e\u5de5\u4f5c\u4e86\u3002</p>"},{"location":"react-hooks/08%20useMemo%E3%80%81useCallback%E3%80%81useContext/#4-context","title":"4.  \u5bf9 context \u8fdb\u884c\u62c6\u5206\u6574\u5408","text":"<p>context \u7684\u4f7f\u7528\u573a\u666f\u5e94\u8be5\u662f\u4e3a\u4e00\u7ec4\u4eab\u6709\u516c\u5171\u72b6\u6001\u7684\u7ec4\u4ef6\u63d0\u4f9b\u4fbf\u5229\u6765\u83b7\u53d6\u72b6\u6001\u7684\u53d8\u5316\u3002 \u4f46\u662f\u968f\u7740\u4e1a\u52a1\u4ee3\u7801\u8d8a\u6765\u8d8a\u590d\u6742\uff0c\u5728\u4e0d\u7ecf\u610f\u95f4\u6211\u4eec\u5c31\u4f1a\u628a\u4e00\u4e9b\u4e0d\u76f8\u5173\u7684\u6570\u636e\u653e\u5728\u540c\u4e00\u4e2acontext \u91cc\u9762\u3002\u8fd9\u6837\u5c31\u5bfc\u81f4\u4e86context \u4e2d\u4efb\u4f55\u6570\u636e\u7684\u53d8\u5316\u90fd\u4f1a\u5bfc\u81f4\u4f7f\u7528\u8fd9\u4e2a context \u7684\u7ec4\u4ef6\u91cd\u65b0 render\u3002\u8fd9\u663e\u7136\u4e0d\u662f\u6211\u4eec\u60f3\u770b\u5230\u7684\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\u6211\u4eec\u5e94\u8be5\u8981\u5bf9contex \u8fdb\u884c\u66f4\u7ec6\u7c92\u5ea6\u7684\u62c6\u5206\uff0c\u628a\u771f\u6b63\u76f8\u5173\u7684\u6570\u636e\u6574\u5408\u5728\u4e00\u8d77\uff0c\u7136\u540e\u518d\u63d0\u4f9b\u7ed9\u7ec4\u4ef6\uff0c\u81f3\u5c11\u8fd9\u6837\u4e0d\u76f8\u5173\u7ec4\u4ef6\u7684\u72b6\u6001\u53d8\u5316\u4e0d\u4f1a\u76f8\u4e92\u5f71\u54cd\uff0c\u4e5f\u5c31\u4e0d\u4f1a\u5bfc\u81f4\u591a\u4f59\u7684\u91cd\u590d\u6e32\u67d3\u3002</p>"},{"location":"react-hooks/08%20useMemo%E3%80%81useCallback%E3%80%81useContext/#_1","title":"\u603b\u7ed3","text":"<p>\u4e0d\u8fc7\u8bdd\u53c8\u8bf4\u8bdd\u6765\uff0c\u5199\u4e2a\u4ee3\u7801\u8981\u6ce8\u610f\u8fd9\u6ce8\u610f\u90a3\uff0c\u5fc3\u667a\u8d1f\u62c5\u786e\u5b9e\u4e5f\u86ee\u91cd\u7684\uff0c\u53ea\u80fd\u8bf4\u201c\u8981\u8bf4\u7231\u4f60\u4e0d\u5bb9\u6613\u201d\uff0c\u8fd9\u4e9b\u57fa\u7840 api \u7684\u4f7f\u7528\u7ed9\u6211\u4eec\u5e26\u6765\u4fbf\u5229\u7684\u540c\u65f6\u6709\u65f6\u5019\u4e5f\u4f1a\u8ba9\u6211\u4eec\u611f\u89c9\u5230\u96be\u4ee5\u63a7\u5236\uff0c\u7406\u89e3\u5176\u4e2d\u7684\u5185\u90e8\u6e32\u67d3\u903b\u8f91\u548capi\u7684\u8bbe\u8ba1\u521d\u8877\u80fd\u5e2e\u52a9\u6211\u4eec\u5199\u51fa\u66f4\u597d\u7684\u4ee3\u7801\u3002</p> <p>\u4f5c\u8005\uff1a\u6124\u6012\u7684\u8682\u8681 \u94fe\u63a5\uff1ahttps://juejin.cn/post/7146107198215553055 \u6765\u6e90\uff1a\u7a00\u571f\u6398\u91d1 \u8457\u4f5c\u6743\u5f52\u4f5c\u8005\u6240\u6709\u3002\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u8054\u7cfb\u4f5c\u8005\u83b7\u5f97\u6388\u6743\uff0c\u975e\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u3002</p>"},{"location":"react-hooks/09%20React-hook%2BTS%E7%B1%BB%E5%9E%8B%E9%AA%8C%E8%AF%81/","title":"09 React-hook+TS\u7c7b\u578b\u9a8c\u8bc1","text":""},{"location":"react-hooks/09%20React-hook%2BTS%E7%B1%BB%E5%9E%8B%E9%AA%8C%E8%AF%81/#typescript-react-hooks","title":"typescript + react hooks \u7ec3\u4e60","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 8606  \u9605\u8bfb18\u5206\u949f</p> <p>\u94fe\u63a5\uff1ahttps://react.docschina.org/learn/typescript</p>"},{"location":"react-hooks/09%20React-hook%2BTS%E7%B1%BB%E5%9E%8B%E9%AA%8C%E8%AF%81/#packagejson","title":"package.json","text":"<p>\u5148\u5b89\u88c5 React \u5e93</p> <pre><code>{\n  \"name\": \"demo\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\u94fe\u63a5\uff1ahttps://react.docschina.org/learn/typescript\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"\n  },\n  \"author\": \"Michael An\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"react\": \"^18.2.0\"\n  }\n}\n</code></pre>"},{"location":"react-hooks/09%20React-hook%2BTS%E7%B1%BB%E5%9E%8B%E9%AA%8C%E8%AF%81/#01-propstsx","title":"01-\u5185\u8054 props.tsx","text":"<pre><code>import React from 'react';\n\nfunction MyButton({ title }: { title: string }) {\n  return (\n    &lt;button&gt;{title}&lt;/button&gt;\n  );\n}\n\nexport default function MyApp() {\n  return (\n    &lt;div&gt;\n      &lt;h1&gt;\u6b22\u8fce\u6765\u5230\u6211\u7684\u5e94\u7528&lt;/h1&gt;\n      &lt;MyButton title=\"\u6211\u662f\u4e00\u4e2a\u6309\u94ae\" /&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"react-hooks/09%20React-hook%2BTS%E7%B1%BB%E5%9E%8B%E9%AA%8C%E8%AF%81/#02-propstsx","title":"02-\u63a5\u53e3 props.tsx","text":"<pre><code>import React from 'react';\n\ninterface MyButtonProps {\n  title: string;\n  disabled: boolean;\n};\n\nfunction MyButton({ title, disabled }: MyButtonProps) {\n  return (\n    &lt;button disabled={disabled}&gt;{title}&lt;/button&gt;\n  );\n}\n\nexport default function MyApp() {\n  return (\n    &lt;div&gt;\n      &lt;h1&gt;Welcome to my app&lt;/h1&gt;\n      &lt;MyButton title=\"\u6211\u662f\u4e00\u4e2a\u7981\u7528\u6309\u94ae\" disabled={true}/&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"react-hooks/09%20React-hook%2BTS%E7%B1%BB%E5%9E%8B%E9%AA%8C%E8%AF%81/#03-usestatetsx","title":"03-useState.tsx","text":"<pre><code>import React, { useState } from 'react';\n\nexport default function Demo() {\n\n  // \u9690\u5f0f\u58f0\u660e\uff0c\u63a8\u65ad\u7c7b\u578b\u4e3a boolean\n  const [ flag, setFlag ] = useState(false);\n\n  // \u663e\u5f0f\u8bbe\u7f6e\u7c7b\u578b\u4e3a boolean\n  const [ enable, setEnable ] = useState&lt;boolean&gt;(false);\n\n  // \u8054\u5408\u7c7b\u578b\uff08\u5b57\u7b26\u4e32\uff09\n  type Status = 'loading' | 'success' | 'error';\n  const [ init, setInit ] = useState&lt;Status&gt;('loading');\n\n  // \u8054\u5408\u7c7b\u578b\uff08\u5bf9\u8c61\uff09\n  type ResponseStatus = \n  | { code: 200, text: 'success' }\n  | { code: 400, text: 'error' }\n  | { code: 403, text: 'permission denied' }\n  | { code: 500, text: 'internal error' }\n\n  const [ response, setResponse ] = useState&lt;ResponseStatus&gt;({ code: 200, text: 'success' });\n\n  return (\n    &lt;div&gt;03-useState-tsx&lt;/div&gt;\n  )\n}\n</code></pre>"},{"location":"react-hooks/09%20React-hook%2BTS%E7%B1%BB%E5%9E%8B%E9%AA%8C%E8%AF%81/#04-usereducertsx","title":"04-useReducer.tsx","text":"<pre><code>// React hooks useReducer \u4ece redux \u4e2d\u501f\u9274\uff0c\u662f useState \u7684\u590d\u6742\u60c5\u51b5\n// \u5728\u4e00\u4e2a\u7ec4\u4ef6\u5185\u90e8\u53ef\u4ee5\u6a21\u62df dispatch action \u2014\u2014 reducer \u2014\u2014 update state \n// \u53ef\u4ee5\u53c2\u8003 https://blog.csdn.net/Jas3000/article/details/124168218\n// \u8fd9\u91cc\u53ea\u7ec3\u4e60 ts + useReducer\n\nimport React, { useReducer } from 'react';\n\n// Reducer State \u7684\u7c7b\u578b\u58f0\u660e\ninterface State {\n  count: number\n};\n\nconst initState: State = { count: 0 };\n\n// dispatch action \u7684\u7c7b\u578b\u58f0\u660e\ntype CounterAction = \n| { type: 'reset' }\n| { type: 'setCount'; value: State[\"count\"] }\n| { type: 'add'; value: State[\"count\"] }\n\n// \u8bbe\u7f6e\u4e86 reducer \u51fd\u6570\u7684\u53c2\u6570\u7c7b\u578b\uff0c\u8fd4\u56de\u503c\u7c7b\u578b \nfunction stateReducer(state: State, action: CounterAction): State {\n  switch (action.type) {\n    case 'reset': {\n      return initState;\n    }\n    case 'setCount': {\n      return { ...state, count: action.value };\n    }\n    case 'add': {\n      return { ...state, count: state.count + 1 };\n    }\n    default:\n      throw new Error(\"Unknown action\");\n  }\n}\n\nexport default function App() {\n  // \u5728 iniiState \u4e0a\u8bbe\u7f6e\u7c7b\u578b\n  const [ state, dispatch ] = useReducer&lt;State&gt;(stateReducer, initState);\n\n  const add = () =&gt; dispatch({type: 'add'});\n  const addFive = () =&gt; dispatch({type: 'setCount', value: state.count + 5});\n  const reset = () =&gt; dispatch({type: 'reset'});\n\n  return (\n    &lt;div&gt;\n      &lt;h1&gt;\u6b22\u8fce\u6765\u5230\u6211\u7684\u8ba1\u6570\u5668&lt;/h1&gt;\n      &lt;p&gt;\u8ba1\u6570\uff1a {state.count}&lt;/p&gt;\n      &lt;button onClick={add}&gt;\u52a0&lt;/button&gt;\n      &lt;button onClick={addFive}&gt;\u52a0 5&lt;/button&gt;\n      &lt;button onClick={reset}&gt;\u91cd\u7f6e&lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"react-hooks/09%20React-hook%2BTS%E7%B1%BB%E5%9E%8B%E9%AA%8C%E8%AF%81/#05-usecontexttsx","title":"05-useContext.tsx","text":"<pre><code>// useContext \u4f7f\u7528\u4e0a\u4e0b\u6587\uff0c\u907f\u514d\u7ec4\u4ef6 props \u591a\u5c42\u7ea7\u4f20\u53c2\n\nimport React, { useContext, createContext, useState } from 'react';\n\n// \u8bbe\u7f6e\u4e3b\u9898\u7684\u7c7b\u578b\ntype Theme = \"light\" | \"dark\" | \"default\";\n\n// \u521b\u5efa\u4e3b\u9898\u4e0a\u4e0b\u6587\uff0c\u5e76\u7528\u7c7b\u578b\u9a8c\u8bc1\nconst ThemeContext = createContext&lt;Theme | null&gt;('default');\n\n// \u8fd9\u91cc\u5c01\u88c5\u4e00\u4e2a\u201c\u83b7\u53d6\u4e3b\u9898\u201d\u7684\u51fd\u6570\uff0c\u4fbf\u4e8e\u4e0b\u5c42\u51fd\u6570\u4f7f\u7528\nconst useGetTheme = () =&gt; {\n  const theme = useContext(ThemeContext);\n  if (!theme) {\n    // \u8fd9\u4e2a hook \u4f1a\u5728\u8fd0\u884c\u65f6\u68c0\u67e5 context \u662f\u5426\u5b58\u5728\uff0c\u5e76\u5728\u4e0d\u5b58\u5728\u65f6\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002\n    throw new Error(\"useGetComplexObject must be used within a Provider\");\n  }\n  return theme;\n}\n\nexport default function App() {\n  // \u9876\u5c42\u7ec4\u4ef6\u8bbe\u7f6e\u4e3b\u9898\u8272\n  const [ theme, setTheme ] = useState&lt;Theme&gt;('default');\n  // \u901a\u8fc7 ThemeContext.provider \u8bbe\u7f6e\u5230\u9876\u5c42\n  return (\n    &lt;ThemeContext.provider value={theme}&gt;\n      &lt;div className=\"buttons\"&gt;\n        &lt;button onClick={() =&gt; setTheme('dark')}&gt;\u53d8\u6697&lt;/button&gt;\n        &lt;button onClick={() =&gt; setTheme('lignt')}&gt;\u53d8\u4eae&lt;/button&gt;\n        &lt;button onClick={() =&gt; setTheme('system')}&gt;\u7cfb\u7edf\u9ed8\u8ba4\u989c\u8272&lt;/button&gt;\n      &lt;/div&gt;\n      &lt;MyComponent /&gt;\n    &lt;/ThemeContext.provider&gt;\n  );\n}\n\nfunction MyComponent() {\n  // \u4e0b\u5c42\u7ec4\u4ef6\u76f4\u63a5\u4ece Context \u4e2d\u62ff\u5230\u4e3b\u9898\u8272\n  const theme = useGetTheme();\n  // \u6216\u8005\u4e0d\u4f7f\u7528 useGetTheme \u51fd\u6570\uff0c\u76f4\u63a5\u4f7f\u7528\u4e0b\u9762\u7684\u8bed\u6cd5\n  // const theme = useContext(ThemeContext);\n  return (\n    &lt;div&gt;\n      &lt;p&gt;\u5f53\u524d\u4e3b\u9898\uff1a{theme}&lt;/p&gt;\n    &lt;/div&gt;\n  )\n}\n</code></pre>"},{"location":"react-hooks/09%20React-hook%2BTS%E7%B1%BB%E5%9E%8B%E9%AA%8C%E8%AF%81/#06-usememotsx","title":"06-useMemo.tsx","text":"<pre><code>import React, { useMemo } from 'react';\n\nfunction filterTodos(todos: [], tabs: []): [] {\n  // filter logic\n  return [];\n}\n\ninterface AppProps {\n  todos: [];\n  tabs: [];\n};\n\nexport function App({todos, tabs}: AppProps) {\n  // useMemo \u8bb0\u5fc6\u5316\u5b58\u50a8\uff0c\u9ed8\u8ba4\u4ece\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e2d\u83b7\u53d6\u6570\u636e\uff08filterTodos\uff09\uff0c\u5f53\u7b2c\u4e8c\u4e2a\u6570\u636e\u53d8\u5316\u65f6\uff0c\u518d\u6b21\u4ece\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e2d\u83b7\u53d6\u6570\u636e\n  // \u7c7b\u4f3c shouldComponentUpdate \u5224\u65ad\u7ec4\u4ef6\u662f\u5426\u66f4\u65b0\n  const visibleTodos = useMemo(() =&gt; filterTodos(todos, tabs), [todos, tabs]);\n  return (\n    &lt;span&gt;\n      {visibleTodos.map(item =&gt; String(item))}\n    &lt;/span&gt;\n  );\n}\n\n// \u5b98\u65b9\u542b\u4e49\n// useMemo \u4f1a\u4ece\u51fd\u6570\u8c03\u7528\u4e2d\u521b\u5efa/\u91cd\u65b0\u8bbf\u95ee\u8bb0\u5fc6\u5316\u503c\uff0c\u53ea\u6709\u5728\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e2d\u4f20\u5165\u7684\u4f9d\u8d56\u9879\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u624d\u4f1a\u91cd\u65b0\u8fd0\u884c\u8be5\u51fd\u6570\u3002\n// \u51fd\u6570\u7684\u7c7b\u578b\u662f\u6839\u636e\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e2d\u51fd\u6570\u7684\u8fd4\u56de\u503c\u8fdb\u884c\u63a8\u65ad\u7684\uff0c\u5982\u679c\u5e0c\u671b\u660e\u786e\u6307\u5b9a\uff0c\u53ef\u4ee5\u4e3a\u8fd9\u4e2a\u94a9\u5b50\u63d0\u4f9b\u4e00\u4e2a\u7c7b\u578b\u53c2\u6570\u4ee5\u6307\u5b9a\u51fd\u6570\u7c7b\u578b\u3002\n</code></pre>"},{"location":"react-hooks/09%20React-hook%2BTS%E7%B1%BB%E5%9E%8B%E9%AA%8C%E8%AF%81/#07-usecallbacktsx","title":"07-useCallback.tsx","text":"<pre><code>import React, { useState, useCallback } from 'react';\n\nfunction App({ todos }: { todos: [] }) {\n  const filtersTodos = useCallback(() =&gt; {}, [todos]);\n  return (\n    &lt;span&gt;\n      {filtersTodos.map(item =&gt; String(item))}\n    &lt;/span&gt;\n  );\n}\n\nfunction Demo() {\n  const [value, setValue] = useState&lt;string&gt;('');\n\n  // \u5728 ts \u975e\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u53ef\u4ee5\u4e0d\u4f7f\u7528\u7c7b\u578b\u6ce8\u89e3\n  // \u5728 ts \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u4f7f\u7528 useCallback \u9700\u8981\u4e3a\u56de\u8c03\u51fd\u6570\u4e2d\u7684\u53c2\u6570\u6dfb\u52a0\u7c7b\u578b\u6ce8\u89e3\n  const onChange = useCallback&lt;React.ChangeEventHandler&lt;HTMLInputElement&gt;&gt;(\n    (event) =&gt; {\n      setValue(event.currentTarget.value);\n    },\n    [setValue]\n  );\n\n  return (\n    &lt;&gt;\n      &lt;input value={value} onChange={onChange} /&gt;\n      &lt;p&gt;\u503c\uff1a {value}&lt;/p&gt;\n    &lt;/&gt;\n  );\n}\n\nexport { App, Demo };\n</code></pre>"},{"location":"react-hooks/09%20React-hook%2BTS%E7%B1%BB%E5%9E%8B%E9%AA%8C%E8%AF%81/#08-reacttsx","title":"08-React\u5185\u7f6e\u7c7b\u578b.tsx","text":"<pre><code>// \u5199 TS \u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u624b\u5199\u7c7b\u578b\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 @types/react \u63d0\u4f9b\u4e86\u4e00\u6574\u5957\u5e38\u7528\u7c7b\u578b\n// https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/react/index.d.ts\n\n// 01 DOM event \u4e8b\u4ef6\u7c7b\u578b\nimport React, { useState } from 'react';\n\nfunction App01() {\n  const [ value, setValue ] = useState&lt;string&gt;('');\n  // \u7ed9\u4e00\u4e2a\u51fd\u6570\u4f20\u53c2\uff0c\u53c2\u6570\u662f DOM \u5408\u6210\u4e8b\u4ef6\n  function handleChange(event: React.ChangeEvent&lt;HTMLInputElement&gt;) {\n    setValue(event.currentTarget.value);\n  }\n  // \u5982\u679c\u9700\u8981\u786e\u5b9a\u67d0\u4e00\u4e2a\u4e8b\u4ef6\u7684\u7c7b\u578b\uff0c\u53ef\u4ee5\u628a\u9f20\u6807\u653e\u5728\u4e0a\u9762\uff0c\u663e\u793a\u4e8b\u4ef6\u5bf9\u5e94\u7684\u5177\u4f53\u7c7b\u578b\u3002\n  // \u5982\u679c\u4e0d\u9700\u8981\u663e\u793a\u8be6\u7ec6\u7684\u7c7b\u578b\uff0c\u53ef\u4ee5\u4f7f\u7528 React.SyntheticEvent \u7c7b\u578b\uff0c\u8fd9\u662f\u6240\u6709\u4e8b\u4ef6\u7684\u57fa\u7c7b\u578b\u3002\n  return (\n    &lt;&gt;\n      &lt;input value={value} onChange={handleChange} /&gt;\n      &lt;p&gt;\u503c\uff1a {value}&lt;/p&gt;\n    &lt;/&gt;\n  );\n}\n\n// 02 React.children \u7c7b\u578b\u9a8c\u8bc1\uff0c\u53ef\u4ee5\u4f7f\u7528 React.ReactNode, React.ReactElement \u4e24\u79cd\u65b9\u5f0f\u9a8c\u8bc1\n// ReactNode \u5305\u62ec ReactDOM \u8282\u70b9 + js(string number)\u57fa\u672c\u7c7b\u578b\n// ReactElement \u53ea\u5305\u62ec ReactDOM \u8282\u70b9\n// \u6ce8\u610f\uff1a\u4f60\u4e0d\u80fd\u4f7f\u7528 TypeScript \u6765\u63cf\u8ff0\u5b50\u5143\u7d20\u662f\u67d0\u79cd\u7c7b\u578b\u7684 JSX \u5143\u7d20\uff0c\u6240\u4ee5\u4f60\u4e0d\u80fd\u4f7f\u7528\u7c7b\u578b\u7cfb\u7edf\u6765\u63cf\u8ff0\u4e00\u4e2a\u53ea\u63a5\u53d7 &lt;li&gt; \u5b50\u5143\u7d20\u7684\u7ec4\u4ef6\u3002\n\ninterface App2Props {\n  title: string;\n  children: React.ReactNode; // dom + number + string\n};\n\ninterface App3Props {\n  title: string;\n  children: React.ReactElement; // dom\n}\n\n// 03 React.CSSProperties \u6837\u5f0f\u7c7b\u578b\u9a8c\u8bc1\ninterface HeaderProps {\n  title: string;\n  style: React.CSSProperties;\n};\n\n\nexport { App01, App2Props, App3Props, HeaderProps };\n</code></pre>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/","title":"CSDN React \u535a\u5ba2\u6587\u6863\u94fe\u63a5","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 12291  \u9605\u8bfb25\u5206\u949f</p> <p>\u8fd9\u90e8\u5206\u662f CSDN \u4e0a\u672c\u4eba\u6574\u7406\u603b\u7ed3\u7684 React \u76f8\u5173\u6587\u6863\uff0c\u70b9\u51fb\u53ef\u4ee5\u76f4\u63a5\u8df3\u8f6c\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#react-ref-is-null","title":"React ref is null \u9519\u8bef\u89e3\u51b3","text":"<p>React \u4e2d\u901a\u5e38\u4f7f\u7528 state \u72b6\u6001\u9a71\u52a8\uff0c\u5bf9\u4e8e DOM \u5c3a\u5bf8\u548c\u754c\u9762\u52a8\u753b\u7b49\uff0c\u901a\u5e38\u4f7f\u7528 Ref \u83b7\u53d6\u5bf9\u5e94\u7684\u8282\u70b9\u5e76\u64cd\u4f5c\u3002 \u6700\u8fd1\u9047\u5230\u4e00\u4e2a\u95ee\u9898\uff0cREF \u5df2\u7ecf\u7ed1\u5b9a\uff0c\u4f46\u662f\u662f NULL\uff0c\u83b7\u53d6\u4e0d\u5230\u5bf9\u5e94\u7684 DOM \u5143\u7d20\uff0cReact ref.current is null\uff0c\u8fd9\u91cc\u5206\u6790\u5982\u4f55\u6392\u67e5\u95ee\u9898\u548c\u89e3\u51b3\u95ee\u9898\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#react-purecomponent-component","title":"React \u7684 PureComponent \u4e0e Component \u533a\u522b","text":"<p>\u5728 React \u4e2d\uff0cComponent \u548c PureComponent \u6709\u4e00\u4e9b\u533a\u522b\uff0c\u5b98\u65b9\u7684\u89e3\u91ca\u5982\u4e0b\uff1aReact.Component is the base class for React components when they are defined using ES6 classes\u3002\u4e3b\u8981\u662f\u6e32\u67d3\u7eaf\u7ec4\u4ef6\u548c\u666e\u901a\u7ec4\u4ef6\u3002\u7eaf\u7ec4\u4ef6\uff1a\u5f53 props \u53d8\u5316\u65f6\u7ec4\u4ef6\u81ea\u52a8\u8fdb\u884c\u4e00\u6b21\u6d45\u5bf9\u6bd4\uff0c\u7c7b\u4f3c\u7684\u51fd\u6570\u7ec4\u4ef6\u4e5f\u662f\u7c7b\u4f3c\u7684\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#vuereact","title":"Vue\u548cReact\u4e2d\u751f\u547d\u5468\u671f\u548c\u94a9\u5b50\u51fd\u6570","text":"<p>\u751f\u547d\u5468\u671f\u548c\u94a9\u5b50\u51fd\u6570\u662f\u4e24\u4e2a\u91cd\u8981\u7684\u6982\u5ff5\uff0c\u8fd9\u91cc\u7b80\u5355\u5217\u4e3e\u5bf9\u6bd4\u4e86\u751f\u547d\u5468\u671f\u51fd\u6570\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#create-react-app-spa","title":"Create React App \u81ea\u52a8\u521b\u5efa SPA \u9879\u76ee","text":"<p>Create React App is an officially supported way to create single-page React applications. It offers a modern build setup with no configuration\u3002Create React App \u662f\u5b98\u65b9\u63a8\u8350\u7684\u521b\u5efaSPA\u7684\u5e93\u3002\u4e0d\u9700\u8981\u4efb\u4f55\u7684\u914d\u7f6e\uff0c\u76f4\u63a5\u5b8c\u6210\u521b\u5efa\u6253\u5305\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#react-vue","title":"React \u4e0e VUE \u6570\u636e\u4f20\u8f93\u5bf9\u6bd4","text":"<p>React\u4e2d\u4e3b\u8981\u4f7f\u7528\u7ec4\u4ef6\u8fdb\u884c\u6570\u636e\u4f20\u8f93\uff0c\u7ec4\u4ef6\u7684\u6570\u636e\u5b58\u50a8\u5728props\u548cstate\u4e2d\uff0c\u8fdb\u884c\u81ea\u4e0a\u800c\u4e0b\u5355\u5411\u6570\u636e\u4f20\u9012\u3002\u7236\u5b50\u7ec4\u4ef6\u7684\u4f20\u503c\uff0c\u5173\u952e\u662f\u7406\u89e3 React \u7684\u72b6\u6001\u9a71\u52a8\uff0c\u4ee5\u53ca\u5b50\u7ec4\u4ef6\u5411\u7236\u7ec4\u4ef6\u4f20\u503c\u7684\u4e09\u79cd\u65b9\u5f0f\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#react-mentions","title":"React-mentions \u57fa\u672c\u4f7f\u7528","text":"<p>\u6700\u8fd1\u9700\u8981\u505a\u4e00\u4e2a\u7c7b\u4f3c\u5fae\u535a\u8bc4\u8bba\u529f\u80fd@\u7528\u6237\u7684\u529f\u80fd\uff0c\u624b\u5199JS\u7684\u6548\u7387\u5f88\u4f4e\uff0c\u6240\u4ee5\u4f7f\u7528 React-mentions \u5e93\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u3002\u770b\u4e86\u4e00\u4e0b\u7f51\u4e0a\u6ca1\u4e2d\u6587\u4ecb\u7ecd\uff0c\u6240\u4ee5\u81ea\u5df1\u770b\u5b8c\u82f1\u6587\u4ecb\u7ecd\u7b80\u5355\u603b\u7ed3\u4e00\u4e2a\u4e2d\u6587\u4ecb\u7ecd\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#reactlocalstorage","title":"React\u4e2d\u4f7f\u7528LocalStorage\u7528\u6237\u767b\u5f55","text":"<p>localStorage \u901a\u5e38\u7528\u6765\u5b58\u50a8\u670d\u52a1\u5668\u53d1\u9001\u7684\u4e00\u4e9b\u6570\u636e\u6216\u8005\u7528\u6237\u81ea\u5b9a\u4e49\u6570\u636e\u3002localStorage \u4e2d\u7684\u952e\u503c\u5bf9\u603b\u662f\u4ee5\u5b57\u7b26\u4e32\u7684\u5f62\u5f0f\u5b58\u50a8\u3002 (\u610f\u5473\u7740\u6570\u503c\u7c7b\u578b\u4f1a\u81ea\u52a8\u8f6c\u5316\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b)\u3002</p> <p>\u4e0e cookie \u76f8\u6bd4\uff0clocalStorage \u7684\u5b58\u50a8\u91cf\u8f83\u5927\uff08cookie\u53ea\u67092k\uff0c\u53ea\u80fd\u5b58\u653e\u5b57\u7b26\u4e32\uff09\uff0c\u4e0b\u9762\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 localStorage \u5b58\u50a8\u3001\u83b7\u53d6\u3001\u4f7f\u7528\u6570\u636e\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#react-router","title":"React-Router \u5b66\u4e60","text":"<p>React-router \u89e3\u51b3\u95ee\u9898\uff1aUI\u4e0eURL\u89e3\u8026</p> <p>\u95ee\u9898\uff1a\u539f\u59cb\u540c\u4e00\u4e2a\u754c\u9762\u5185\u90e8\u4f7f\u7528 a \u8fdb\u884c\u8df3\u8f6c\uff0c\u4e0d\u540c\u754c\u9762\u4e2d\u4f7f\u7528 # hash \u8df3\u8f6c\u3002\u5982\u679c\u5728React\u6846\u67b6\u4e0b\uff0c\u5bf9\u4e8eSPA\uff0c\u9700\u8981\u83b7\u53d6\u754c\u9762\u7684 hash \u518d\u5224\u65ad\u754c\u9762\u4e2d\u52a0\u8f7d\u4ec0\u4e48\u90e8\u5206\uff08setState\uff09\uff0c\u8fd9\u6837\u6548\u7387\u4f4e\u4e0b\uff0cUI \u4e0e URL \u4e0d\u5206\u79bb\u3002 \u89e3\u51b3\uff1a\u9996\u5148\u4f7f\u7528<code>&lt;Link to={path}&gt;</code>\u4f5c\u4e3a\u8d85\u94fe\u63a5\uff0c\u70b9\u51fb\u540e\u754c\u9762URL</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#cant-call-setstate-or-forceupdate-on-an-unmounted-component-react","title":"Can't call setState (or forceUpdate) on an unmounted component \u2014\u2014React \u5185\u5b58\u6cc4\u6f0f\u95ee\u9898\u5904\u7406","text":"<p>\u4e0d\u80fd\u5bf9\u4e8e\u4e00\u4e2a\u5df2\u7ecf\u5378\u8f7d\u7684\u7ec4\u4ef6\u4e0a\u4f7f\u7528setState\u6539\u53d8\u72b6\u6001\uff0c\u8fd9\u5c06\u4f1a\u9020\u6210\u5e94\u7528\u7684\u5185\u5b58\u6cc4\u6f0f\u3002</p> <p>\u5982\u679c\u5728react\u7ec4\u4ef6\u4e2d\u8bbe\u7f6e\u4e86\u5b9a\u5236\u5668\u6216\u8005\u5728dom\u4e0a\u7ed1\u5b9a\u4e86\u4e8b\u4ef6\uff0c\u5378\u8f7d\u7ec4\u4ef6\u65f6\u672a\u6e05\u9664\u5b9a\u65f6\u5668\u6216\u672a\u6e05\u9664\u4e8b\u4ef6\uff0c\u6216\u8005\u5728\u5df2\u7ecf\u5378\u8f7d\u7684\u7ec4\u4ef6\u4e2d\u8bbe\u7f6esetState\uff0c\u90fd\u4f1a\u5bfc\u81f4\u5185\u5b58\u6cc4\u6f0f\u3002\u89e3\u51b3\u65b9\u6cd5\uff1a\u5728componentWillUNmount \u9636\u6bb5\u4e2d\u53d6\u6d88\u6240\u6709\u7684\u5f02\u6b65\u4efb\u52a1\uff08\u4f8b\u5982\uff1aSetState\u64cd\u4f5c\uff09\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#warning-setstate-can-only-update-a-mounted-or-mounting-component","title":"Warning: setState(...): Can only update a mounted or mounting component \u62a5\u9519\u5206\u6790","text":"<p>\u5728react\u4e2d\uff0c\u524d\u7aef\u901a\u5e38\u9700\u8981\u5411\u670d\u52a1\u5668\u53d1\u8d77\u5f02\u6b65\u8bf7\u6c42\uff0c\u800c\u5728\u4f7f\u7528react\u7684\u65f6\u5019\uff0c\u5982\u679c\u8fd9\u4e2a\u7ec4\u4ef6\u6700\u521d\u52a0\u8f7d\u7684\u65f6\u5019\u5c31\u53d1\u8d77\u8fd9\u4e2a\u5f02\u6b65\u8bf7\u6c42\uff0c\u7136\u540e\u5728\u8fd4\u56de\u7ed3\u679c\u4e2d\u8fdb\u884csetState({})\uff0c\u8fd9\u65f6\u5019\u6709\u53ef\u80fd\u4f1a\u9047\u5230\u8fd9\u4e2a\u8b66\u544a\uff1aWarning: setState(...): Can only update a mounted or mounting component\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#react","title":"react\u6846\u67b6\u5982\u4f55\u4f18\u5316\u4ee3\u7801(\u6027\u80fd)\uff1f","text":"<p>render\u9700\u8981\u7528\u5230\u7684\u5c5e\u6027\u653e\u5728state\u548cprops\u4e2d\u3002</p> <p>\u51cf\u5c11 setstate\uff1asetstate\u4f1a\u589e\u52a0render\u7684\u6b21\u6570\uff0c\u4ece\u800c\u5f71\u54cd\u6027\u80fd\u3002\u5982\u679c\u6d89\u53ca\u5230\u4e0e\u89c6\u56fe\u5c42\u65e0\u5173\u7684\u5c5e\u6027\uff0c\u76f4\u63a5\u5f53\u505aclass\u5b9e\u4f8b\u7684\u5c5e\u6027\uff0c\u800c\u4e0d\u662fstate\u7684\u72b6\u6001\u3002\u8fd9\u6837\u6539\u53d8\u8fd9\u4e2a\u5c5e\u6027\u4e0d\u4f1a\u9020\u6210\u9875\u9762\u91cd\u65b0\u7684\u6e32\u67d3\u3002</p> <p>\u6d4f\u89c8\u5668\u7684repaint\u548creflow\u4f1a\u5f71\u54cd\u5230\u6027\u80fd\u3002\u56de\u6d41\u4e00\u5b9a\u662f\u91cd\u7ed8\uff0c\u91cd\u7ed8\u4e0d\u4e00\u5b9a\u662f\u56de\u6d41\u3002\u6240\u4ee5\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u56de\u6d41\u548c\u91cd\u7ed8\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#react_1","title":"React\u4e2d\u83b7\u53d6\u5143\u7d20\u4f4d\u7f6e","text":"<p>React\u6846\u67b6\u4f7f\u7528\u865a\u62dfDOM\u4ee3\u66ff\u771f\u5b9e\u7684DOM\u6765\u4f18\u5316\u6027\u80fd\uff0c\u4f7f\u7528props\u548cstate\u8fdb\u884c\u5c5e\u6027\u4f20\u9012\u3002\u6240\u4ee5\u8bf4\u5728react\u4e2d\u76f4\u63a5\u83b7\u53d6DOM\u5143\u7d20\u7684\u4f4d\u7f6e\u662f\u4e0d\u5408\u7406\u7684\uff08\u4e0d\u5229\u4e8e\u6027\u80fd\uff09\u3002\u90a3\u4e48\u4f7f\u7528\u4e0b\u9762\u7684API\uff1a</p> <p><code>document.documentElement.getBoundingClientRect</code></p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#react-event","title":"React Event \u4e8b\u4ef6\u7cfb\u7edf","text":"<p>React \u6807\u51c6\u5316\u4e86\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u56e0\u6b64\u5728\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u4e2d\u90fd\u4f1a\u6709\u76f8\u540c\u7684\u5c5e\u6027\u3002</p> <p>\u7ec4\u4ef6createClass\u540e\u521b\u5efa\u7684\u662f\u8bb8\u591a\u65b9\u6cd5\u7ec4\u6210\u7684\u5bf9\u8c61\u3002\u7ec4\u4ef6\u4e2d\u4f7f\u7528\u7684\u65b9\u6cd5\u5206\u4e3aReact\u81ea\u6709\u7684\u65b9\u6cd5\u4e0e\u7528\u6237\u5b9a\u4e49\u7684\u65b9\u6cd5\u3002\u5176\u4e2dReact\u81ea\u6709\u65b9\u6cd5\u662f\u7ec4\u4ef6\u751f\u547d\u5468\u671f\u4e2d\u7684\u65b9\u6cd5\uff0c\u5982\uff1arender\u3001componentWillUpdate\u3001componentDidMount\u7b49\u3002\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u65b9\u6cd5\u53ef\u4ee5\u8d77\u7b26\u5408JS\u547d\u540d\u89c4\u8303\u7684\u65b9\u6cd5\u5c31\u53ef\u4ee5\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#proptypes","title":"propTypes \u6570\u636e\u7c7b\u578b\u68c0\u9a8c","text":"<p>\u5728 react \u4e2d\uff0c\u4e0d\u540c\u7ec4\u4ef6\u901a\u8fc7props\u8fdb\u884c\u5355\u5411\u4f20\u503c\uff1b\u4e0d\u540c\u503c\u7c7b\u578b\u53ef\u80fd\u9020\u6210\u4e0d\u5fc5\u8981\u7684\u9ebb\u70e6\u3002</p> <p>\u5728 JS \u4e2d\uff0c\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\u53ef\u80fd\u5b58\u5728\u5f3a\u5236\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u3002\u8fd9\u4e9b\u95ee\u9898\u5728\u5199\u4ee3\u7801\u7684\u65f6\u5019\u4e0d\u5bb9\u6613\u53d1\u73b0\uff0c\u5982\u679c\u754c\u9762\u4e2d\u51fa\u73b0\u4e86\u6570\u636e\u7c7b\u578b\u7684\u95ee\u9898\uff0c\u4e0d\u597d\u627e\u5230\u95ee\u9898\u7684\u539f\u56e0\u3002\u6240\u4ee5\uff0c\u5f15\u5165propTypes\uff0c\u5bf9\u4e8e\u5f15\u5165\u7684props\u6570\u636e\u7c7b\u578b\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#react_2","title":"React \u53d7\u63a7\u7ec4\u4ef6","text":"<p>React \u53d7\u63a7\u7ec4\u4ef6\uff1a\u5728\u539f\u751f\u7684HTML\u4e2d\uff0c<code>input\uff08type=\u2018text\u2019\uff09 textarea select</code> \u4e09\u4e2a\u5143\u7d20\u7684\u5185\u90e8\u7684\u5c5e\u6027\u53ef\u4ee5\u968f\u7740\u7528\u6237\u7684\u8f93\u5165\u53d8\u5316\u3002react \u4e2d\u4f7f\u7528 state \u63a7\u5236\u5c5e\u6027\u7684\u53d8\u5316\uff0c\u5c06\u539f\u751f\u7684\u53d7\u63a7\u7ec4\u4ef6\u548c react \u4e2d state \u7ed3\u5408\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#react_3","title":"React \u72b6\u6001\u63d0\u5347","text":"<p>react\u662f\u4e00\u4e2a\u6570\u636e\u5355\u5411\u4f20\u503c\u7684\u6846\u67b6\uff0c\u5b50\u7ec4\u4ef6\u4e0d\u80fd\u76f4\u63a5\u7ed9\u7236\u7ec4\u4ef6\u4f20\u503c\u3002</p> <p>\u5982\u679c\u5185\u90e8\u591a\u4e2a\u5b50\u7ec4\u4ef6\u5171\u540c\u4f7f\u7528\u76f8\u540c\u7684\u6570\u636e\uff0c\u5e76\u4e14\u4e92\u76f8\u5f71\u54cd\u3002\u90a3\u4e48\u53ef\u4ee5\u5c06\u8fd9\u90e8\u5206\u5171\u6709\u7684\u6570\u636e\u5b58\u653e\u5728\u7236\u7ec4\u4ef6\u7684\u5c5e\u6027\u4e2d\uff0c\u5c06handleChange\u4f5c\u4e3aprops\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\u3002\u4e0d\u540c\u5b50\u7ec4\u4ef6\u4f1a\u66f4\u6539\u798f\u94bb\u8fdb\u7684\u67d0\u4e2a\u53c2\u6570\uff0c\u8fd9\u90e8\u5206\u53c2\u6570\u4f1a\u5f71\u54cd\u5176\u4ed6\u5b50\u7ec4\u4ef6\u7684\u884c\u4e3a\u3002\u786e\u4fdd\u7236\u7ec4\u4ef6\u5185\u90e8\u7684\u6570\u636e\u6539\u53d8\u4f1a\u6539\u53d8\u5b50\u7ec4\u4ef6\u7684\u5c5e\u6027\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#react_4","title":"React \u7406\u5ff5\u4e0e\u5f00\u53d1\u6d41\u7a0b","text":"<p>\u9759\u6001\u754c\u9762\uff1a\u4f7f\u7528props\u8fdb\u884c\u5355\u5411\u6570\u636e\u4f20\u9012\uff0c\u4ece\u9876\u5411\u4e0b\u8fdb\u884c\u6570\u636e\u4f20\u9012\uff0c\u4e0d\u9700\u8981\u4f7f\u7528state\u3002</p> <p>\u52a8\u6001\u754c\u9762\uff1a\u4f7f\u7528props\u8fdb\u884c\u4ece\u4e0a\u5230\u4e0b\u4f20\u9012\uff08repoID\uff09\uff0cstate\u8fdb\u884c\u7ec4\u4ef6\u5185\u90e8\u7684\u6570\u636e\u4ea7\u751f\u548c\u4f20\u9012\uff08comment\uff09\u3002\u7b80\u5355\u754c\u9762\u4f7f\u7528\u4ece\u4e0a\u5230\u4e0b\u7684\u5f00\u53d1\u8fc7\u7a0b\uff0c\u590d\u6742\u754c\u9762\u4f7f\u7528\u4ece\u4e0b\u5230\u4e0a\u7684\u5f00\u53d1\u6d41\u7a0b\u3002\u5c3d\u91cf\u51cf\u5c11state\u4f7f\u7528\uff1a\u786e\u5b9astate\u7684\u4f7f\u7528\u4f4d\u7f6e\uff0c\u786e\u5b9a\u4f7f\u7528state\u7684\u7ec4\u4ef6\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#react-","title":"React \u907f\u514d\u91cd\u65b0\u6e32\u67d3-\u6027\u80fd\u4f18\u5316","text":"<p>React\u6846\u67b6\u8fd0\u884c\u7684\u539f\u7406\uff1a\u754c\u9762\u53d7\u5230\u6570\u636e\u9a71\u52a8\uff0cstate \u548c props \u7684\u6539\u52a8\u4f1a\u9020\u6210\u754c\u9762\u7684\u6539\u52a8\u3002\u5176\u4e2d\uff0cstate \u662f\u81ea\u8eab\u7684\u5c5e\u6027\uff0cprops \u662f\u7236\u7ec4\u4ef6\u63d0\u4f9b\u7684\u53c2\u6570\u3002\u5982\u679c\u754c\u9762\u5185\u5bb9\u5f88\u591a\uff0c\u5f88\u5c0f\u7684\u6570\u636e\u53d8\u5316\u4f1a\u9020\u6210\u754c\u9762\u7684\u91cd\u7ed8\uff0c\u90a3\u4e48\u9020\u6210\u6027\u80fd\u7684\u6d6a\u8d39\u3002\u4e0b\u9762\u4ece\u51e0\u4e2a\u65b9\u9762\u603b\u7ed3\u4e00\u4e0b\u5982\u4f55\u907f\u514d\u91cd\u65b0\u6e32\u67d3\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#react_5","title":"\u5982\u4f55\u5b66\u4e60React\u6846\u67b6","text":"<p>\u5b66\u4e60react\u524d\u9700\u8981\u6709\u57fa\u672c\u7684 html+css+js \u7684 \u57fa\u7840\u3002\u5982\u4f55\u5b66\u4e60 React \u6846\u67b6\u53ca\u76f8\u5173\u77e5\u8bc6\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#react-api","title":"React \u9ad8\u9636 API \u5b66\u4e60","text":"<p>React \u5b98\u65b9\u5185\u7f6e\u7684\u9ad8\u7ea7 API \u548c\u4e3b\u8981\u4f7f\u7528\u573a\u666f\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#react-select","title":"React-select \u57fa\u672c\u529f\u80fd\u5b66\u4e60","text":"<p>\u5728 React \u4e2d\u7684\u9009\u62e9\u6846\u4e3b\u8981\u4f7f\u7528 React-select\uff0cSee react-select.com for live demos and comprehensive docs.</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#cookie","title":"\u8bbe\u7f6e cookie \u7528\u6237\u4fe1\u606f","text":"<p>\u8bf4\u660e\uff1acookie \u7528\u4e8e\u5728\u672c\u5730\u5b58\u50a8\u6d4f\u89c8\u5668\u7684\u4fe1\u606f\u3002\u5f53\u6d4f\u89c8\u5668\u53d1\u9001\u8bf7\u6c42\u65f6\uff0c\u5c06cookie\u5171\u540c\u53d1\u9001\u5230\u8bf7\u6c42\u4e2d\u3002\u670d\u52a1\u5668\u53ef\u4ee5\u83b7\u53d6\u5f53\u524d\u7528\u6237\u4fe1\u606f\u3002document.cookie \u5373\u53ef\u83b7\u53d6\u754c\u9762\u4e2d\u7684 cookies\u3002cookie \u6570\u636e\u7c7b\u578b\u662f\u5b57\u7b26\u4e32\uff0c\u9700\u8981\u5c06\u5b57\u7b26\u4e32\u8f6c\u5316\u6210\u5bf9\u8c61\u7684\u5f62\u5f0f\u83b7\u53d6\u5bf9\u5e94\u7684\u5c5e\u6027\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#reactloading","title":"React\u4e2dloading\u754c\u9762\u5904\u7406","text":"<p>\u8bbe\u7f6eloading\u754c\u9762\uff0c\u5982\u679c\u7528\u6237\u7f51\u7edc\u72b6\u51b5\u4e00\u822c\uff0c\u6216\u8005\u7528\u6237\u6267\u884c\u8bf7\u6c42\u64cd\u4f5c\u9891\u7e41\uff0c\u53ef\u4ee5\u8ba9\u7528\u6237\u51cf\u5c11\u7b49\u5f85\u65f6\u95f4\uff0c\u6709\u5229\u4e8e\u63d0\u5347\u7528\u6237\u4f53\u9a8c\u3002\u90a3\u4e48\u5177\u4f53\u600e\u6837\u5b9e\u73b0loading\u754c\u9762\u5462\uff1f\u65b9\u6848\u4e00\uff1a\u5728react\u6846\u67b6\u4e2d\uff0c\u6839\u636e\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\uff0c\u5728componentdidmount\u8fdb\u884c\u5224\u65ad\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#ant-design-mobile-actionsheet","title":"Ant design mobile Actionsheet \u7ec4\u4ef6\u7684\u601d\u8003\u548c\u6539\u8fdb","text":"<p>\u4f7f\u7528\u8682\u8681\u91d1\u670d\u7684 ant-design React UI \u7ec4\u4ef6\u5e93\u7684\u79fb\u52a8\u7aef\u7ec4\u4ef6\u65f6\uff0c\u6700\u8fd1\u9047\u5230\u4e00\u4e2a\u95ee\u9898\u7684\u6539\u8fdb\u548c\u601d\u8003\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#packagejson-scripts","title":"package.json scripts \u811a\u672c\u4f7f\u7528\u6307\u5357","text":"<p>Node \u5f00\u53d1\u79bb\u4e0d\u5f00 npm\uff0c\u800c\u811a\u672c\u529f\u80fd\u662f npm \u6700\u5f3a\u5927\u3001\u6700\u5e38\u7528\u7684\u529f\u80fd\u4e4b\u4e00\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 npm \u811a\u672c\uff08npm scripts\uff09\u3002npm \u5141\u8bb8\u5728package.json\u6587\u4ef6\u91cc\u9762\uff0c\u4f7f\u7528scripts\u5b57\u6bb5\u5b9a\u4e49\u811a\u672c\u547d\u4ee4\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#js","title":"JS \u5224\u65ad\u5143\u7d20\u7236\u5b50\u5173\u7cfb","text":"<p>\u5982\u679c\u754c\u9762\u5143\u7d20\u5f88\u591a\uff0c\u5982\u4f55\u5224\u65ad\u5f53\u524d\u70b9\u51fb\u7684\u5143\u7d20\uff0c\u548c\u67d0\u4e2a\u5143\u7d20\u662f\u5426\u6709\u7236\u5b50\u5173\u7cfb\uff1f</p> <p>\u53ef\u4ee5\u770b\u5230\u670920\u4e2aDIV\u5728\u5d4c\u5957\u3002\u5982\u679c\u754c\u9762\u53d1\u751f\u4e00\u4e2a\u70b9\u51fb\u4e8b\u4ef6\uff0c\u5728document \u76d1\u542c\u5230\u8fd9\u4e2a\u70b9\u51fb\u4e8b\u4ef6\uff0c\u600e\u6837\u5224\u65ad\u70b9\u51fb\u4f4d\u4e8e\u54ea\u4e2a\u7236\u5143\u7d20\u4e0b\u9762\uff1f\u539f\u751fJS\u4e2d\u53ef\u4ee5\u4f7f\u7528 dom.contains(dom) \u6765\u5224\u65ad\u662f\u5426\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#fetchmetadata-sill-maptoregistry-create-react-app","title":"fetchMetadata: sill mapToRegistry \u62a5\u9519 create-react-app \u6267\u884c\u6162\u7684\u89e3\u51b3\u65b9\u6cd5","text":"<p>\u4f7f\u7528 create-react-app \u5e93\u8fdb\u884c React \u9879\u76ee\u521d\u59cb\u5316\u65f6\uff0c\u6709\u65f6\u5019\u4f1a\u663e\u793a\u7f51\u7edc\u95ee\u9898\u9020\u6210\u65e0\u6cd5\u5b89\u88c5\u3002</p> <p>\u95ee\u9898\u539f\u56e0\uff1a\u6267\u884c create-react-app \u4f1a\u5b89\u88c5\u76f8\u5173\u4f9d\u8d56\uff08react react-dom react-scripts \u7b49\uff09\u3002\u5982\u679c\u662f\u9ed8\u8ba4\u7684\u914d\u7f6e\uff0c\u90a3\u4e48\u4f7f\u7528\u56fd\u5916\u7684 npm \u6e90\u8fdb\u884c\u5b89\u88c5\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a\u628a npm \u7684\u6e90\u6539\u6210\u56fd\u5185\u6dd8\u5b9d\u7684\u6e90\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#react-data-grid","title":"React data grid","text":"<p>\u4e3b\u8981\u529f\u80fd\uff1a\u754c\u9762\u663e\u793a Excel \u9884\u89c8\uff0c\u53ef\u4ee5\u5c06\u4e00\u4e2a\u5bf9\u8c61\u6216\u8005 json \u683c\u5f0f\u5316\u6210\u4e3a\u754c\u9762\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#warning-a-component-is-changing-an-uncontrolled-input-of-type-text-to-be-controlled","title":"Warning: A component is changing an uncontrolled input of type text to be controlled \u62a5\u9519\u5206\u6790","text":"<p>Warning: A component is changing an uncontrolled input of type text to be controlled. Input elements should not switch from uncontrolled to controlled (or vice versa).</p> <p>\u5728 React \u6846\u67b6\u4e2d\u4f1a\u62a5\u8fd9\u6837\u7684\u9519\u8bef\uff0c\u53d7\u63a7\u7ec4\u4ef6\u548c\u975e\u53d7\u63a7\u7ec4\u4ef6\u7684\u5206\u6790\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#preset-files-are-not-allowed-to-export-objects","title":"\u62a5\u9519 Preset files are not allowed to export objects \u5904\u7406","text":"<p>\u5728\u4f7f\u7528 webpack \u548c babel \u7f16\u8bd1 react\u9879\u76ee\u65f6\uff0c\u4f1a\u62a5 Preset files are not allowed to export objects \u9519\u8bef\u3002\u67e5\u9605\u8d44\u6599\uff0c\u4e3b\u8981\u662f\u4e0d\u540c\u7248\u672c\u7684 babel \u4e0d\u80fd\u517c\u5bb9\u4f7f\u7528(\u7248\u672c6\u548c\u7248\u672c7\u4e0d\u517c\u5bb9)\u3002</p>"},{"location":"react-third-part-lib/01-CSDN%20%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E9%93%BE%E6%8E%A5/#gg-editor-","title":"GG-Editor\u4ecb\u7ecd-\u5728\u7ebf\u7ed8\u56fe\u8f6f\u4ef6","text":"<p>\u5728\u6d4f\u89c8\u5668\u4e2d\u9884\u89c8\u7f16\u8f91\u590d\u6742\u56fe\u5f62\u65f6\uff0c\u63a8\u8350\u4e00\u4e2a GG-editor \u63d2\u4ef6\u3002\u8fd9\u4e2a\u63d2\u4ef6\u57fa\u4e8e React \u6846\u67b6\uff0c\u4f7f\u7528\u65b9\u4fbf\uff0c\u53ef\u4ee5\u521b\u5efa\u7f16\u8f91\u601d\u7ef4\u5bfc\u56fe\u3001\u6d41\u7a0b\u56fe\u3001\u62d3\u6251\u56fe\u7b49\u56fe\u5f62\u3002</p>"},{"location":"react-third-part-lib/030-react-is-deprecated/","title":"030-react-is-deprecated","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1983  \u9605\u8bfb4\u5206\u949f</p>"},{"location":"react-third-part-lib/030-react-is-deprecated/#react-is-deprecated","title":"react-is-deprecated","text":""},{"location":"react-third-part-lib/030-react-is-deprecated/#version","title":"version","text":"<p>0.1.2\u00a0 </p>"},{"location":"react-third-part-lib/030-react-is-deprecated/#downloads","title":"downloads","text":"<p>18,279 </p>"},{"location":"react-third-part-lib/030-react-is-deprecated/#repository","title":"repository","text":"<p>github.com/Aweary/react-is-deprecated </p>"},{"location":"react-third-part-lib/030-react-is-deprecated/#homepage","title":"homepage","text":"<p>github.com/Aweary/react-is-deprecated#readme </p>"},{"location":"react-third-part-lib/030-react-is-deprecated/#react-is-deprecated_1","title":"react-is-deprecated","text":"<p>Add an <code>isDeprecated</code> to your React PropTypes.</p>"},{"location":"react-third-part-lib/030-react-is-deprecated/#install","title":"Install","text":"<pre><code>$ npm install --save react-is-deprecated\n</code></pre>"},{"location":"react-third-part-lib/030-react-is-deprecated/#usage","title":"Usage","text":"<p><code>react-is-deprecated</code> provides two options for wrapping <code>React.PropTypes</code>. You can use the <code>deprecate</code> function (recommended) to wrap a specific type and output a warning whenever the prop is defined:</p> <pre><code>static\u00a0propTypes\u00a0=\u00a0{\n\n\u00a0\u00a0deprecated:\u00a0deprecate(PropTypes.string,\u00a0`Your\u00a0message\u00a0here`)\n\n}\n</code></pre> <p>If you'd like to have an <code>isDeprecated</code> function attached to all <code>React.PropTypes</code> options you can use <code>addIsDeprecated</code>.</p> <pre><code>const\u00a0PropTypes\u00a0=\u00a0addIsDeprecated(React.PropTypes);\n\n...\n\nstatic\u00a0propTypes\u00a0=\u00a0{\n\n\u00a0\u00a0deprecated:\u00a0PropTypes.object.isDeprecated('Your\u00a0message\u00a0here.')\n\n}\n</code></pre> <p>Note:<code>addIsDeprecated</code> returns a copy of the passed <code>PropTypes</code> instance and does not mutate the <code>React.PropTypes</code>. <code>isDeprecated</code> will only work on the PropType object returned.</p>"},{"location":"react-third-part-lib/030-react-is-deprecated/#api","title":"API","text":""},{"location":"react-third-part-lib/030-react-is-deprecated/#deprecateproptype-reactproptypestype-message-string","title":"<code>deprecate(propType: React.PropTypes.[type], message: string)</code>","text":"<p>Returns a function wrapping the <code>propType</code> argument with a check to determine if the prop is defined and, if so, log out a warning via <code>console.warn</code> once.</p>"},{"location":"react-third-part-lib/030-react-is-deprecated/#addisdeprecatedinput-reactproptypes","title":"<code>addIsDeprecated(input: React.PropTypes)</code>","text":"<p>Returns an augmented version of <code>React.PropTypes</code> with <code>isDeprecated</code> added to all top level properties.</p>"},{"location":"react-third-part-lib/030-react-is-deprecated/#typeisdeprecatedmessage-string","title":"<code>[type].isDeprecated(message: string)</code>","text":"<p>If you use the <code>addIsDeprecated</code> function to return a new copy of <code>React.PropTypes</code> then each type will have an <code>isDeprecated</code> message. It is identical to <code>deprecate</code> with the exception that it is already bound to the <code>[type]</code> and just accepts the message.</p>"},{"location":"react-third-part-lib/030-react-is-deprecated/#license","title":"License","text":"<p>MIT \u00a9 Brandon Dail</p>"},{"location":"react-third-part-lib/031-react-sweet-progress/","title":"031-react-sweet-progress","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6051  \u9605\u8bfb13\u5206\u949f</p>"},{"location":"react-third-part-lib/031-react-sweet-progress/#react-sweet-progress","title":"react-sweet-progress","text":""},{"location":"react-third-part-lib/031-react-sweet-progress/#version","title":"version","text":"<p>1.1.2\u00a0 </p>"},{"location":"react-third-part-lib/031-react-sweet-progress/#downloads","title":"downloads","text":"<p>17,612 </p>"},{"location":"react-third-part-lib/031-react-sweet-progress/#repository","title":"repository","text":"<p>github.com/abraztsov/react-sweet-progress </p>"},{"location":"react-third-part-lib/031-react-sweet-progress/#homepage","title":"homepage","text":"<p>github.com/abraztsov/react-sweet-progress#readme </p>"},{"location":"react-third-part-lib/031-react-sweet-progress/#react-sweet-progress_1","title":"React Sweet Progress","text":"<p>A way to quickly add a react progress bar to your app \ud83c\udf08</p> <p></p>"},{"location":"react-third-part-lib/031-react-sweet-progress/#basic-usage","title":"Basic Usage","text":"<ol> <li> <p>Install via npm and yarn</p> <pre><code>npm i -S react-sweet-progress\n</code></pre> <p>// or</p> <p>yarn add react-sweet-progress</p> </li> <li> <p>Import <code>Progress</code> and progress bar styles</p> <pre><code>import { Progress } from 'react-sweet-progress';\n</code></pre> <p>import \"react-sweet-progress/lib/style.css\";</p> </li> <li> <p>Enjoy</p> <pre><code>&lt;Progress percent={88} status=\"success\" /&gt;\n</code></pre> </li> </ol> <p></p> <pre><code>&lt;Progress type=\"circle\" percent={100} status=\"success\" /&gt;\n</code></pre> <p></p>"},{"location":"react-third-part-lib/031-react-sweet-progress/#customize","title":"Customize","text":"<p>Basic steps to customize React progress bar.</p>"},{"location":"react-third-part-lib/031-react-sweet-progress/#percent","title":"Percent \ud83c\udff9","text":"<p><code>Percent</code> cant set the completion percentage of progress bar.</p> <pre><code>&lt;Progress /&gt;\n</code></pre> <p></p> <pre><code>&lt;Progress\n  percent={69}\n/&gt;\n</code></pre> <p></p>"},{"location":"react-third-part-lib/031-react-sweet-progress/#status","title":"Status \u2b50","text":"<p>You can use 3 status types: <code>active</code>, <code>error</code>, <code>success</code>. By default <code>status</code> equal to <code>success</code> when <code>percent</code> is <code>100</code>.</p> <pre><code>&lt;Progress\n  percent={88}\n  status=\"success\"\n/&gt;\n</code></pre> <p></p> <pre><code>&lt;Progress\n  percent={43}\n  status=\"error\"\n/&gt;\n</code></pre> <p></p>"},{"location":"react-third-part-lib/031-react-sweet-progress/#exotic-theme","title":"Exotic theme","text":"<p>With <code>theme</code> param you can customize icons and styles of the progress bar.</p> <pre><code>&lt;Progress\n  theme={{\n    success: {\n      symbol: '\ud83c\udfc4\u200d',\n      color: 'rgb(223, 105, 180)'\n    },\n    active: {\n      symbol: '\ud83d\ude00',\n      color: '#fbc630'\n    },\n    default: {\n      symbol: '\ud83d\ude31',\n      color: '#fbc630'\n    }\n  }}\n/&gt;\n</code></pre> <p> </p> <p>If you don't specify the theme <code>trail color</code>, then the deafult value of <code>#efefef</code> will be used.</p> <pre><code>&lt;Progress\n  theme={\n    {\n      error: {\n        symbol: this.state.percent + '%',\n        trailColor: 'pink',\n        color: 'red'\n      },\n      default: {\n        symbol: this.state.percent + '%',\n        trailColor: 'lightblue',\n        color: 'blue'\n      },\n      active: {\n        symbol: this.state.percent + '%',\n        trailColor: 'yellow',\n        color: 'orange'\n      },\n      success: {\n        symbol: this.state.percent + '%',\n        trailColor: 'lime',\n        color: 'green'\n      }\n    }\n  }\n/&gt;\n</code></pre> <p></p> <p>If you don't pass custom <code>status</code> then it will use the default color theme.</p> <pre><code>&lt;Progress\n  theme={{\n    success: {\n      symbol: '\ud83c\udfc4\u200d',\n      color: 'rgb(223, 105, 180)'\n    }\n  }}\n/&gt;\n</code></pre> <p> </p> <p>Also you can use the <code>status</code> param.</p> <pre><code>&lt;Progress\n  percent={100}\n  status=\"error\"\n  theme={{\n    error: {\n      symbol: '\ud83e\udd14',\n      color: '#fbc630'\n    }\n  }}\n/&gt;\n</code></pre> <p></p>"},{"location":"react-third-part-lib/031-react-sweet-progress/#circle-width","title":"Circle width \ud83d\ude32","text":"<p><code>Width</code> param can set the size of <code>circle</code> progress bar, also it's set <code>font</code> and <code>icon</code> sizes automatically.</p> <pre><code>&lt;Progress\n  type=\"circle\"\n  width={70}\n  percent={70}\n/&gt;\n&lt;Progress\n  type=\"circle\"\n  percent={30}\n/&gt;\n</code></pre> <p></p>"},{"location":"react-third-part-lib/031-react-sweet-progress/#circle-strokewidth","title":"Circle strokeWidth \ud83e\udd17","text":"<p>With <code>strokeWidth</code> param you can customize the <code>path</code> circle <code>strokeWidth</code>.</p> <pre><code>&lt;Progress\n  type=\"circle\"\n  strokeWidth={3}\n  percent={70}\n/&gt;\n&lt;Progress\n  type=\"circle\"\n  percent={30}\n/&gt;\n</code></pre> <p></p>"},{"location":"react-third-part-lib/031-react-sweet-progress/#api","title":"API","text":""},{"location":"react-third-part-lib/031-react-sweet-progress/#progress","title":"Progress","text":"Property Description Type Default percent set the completion percentage number 0 status set the status of the progress, options: <code>success</code>, <code>error</code>, <code>active</code> string - theme set the custom styles of the progress, options: <code>[status]: { color: [string], trailColor: [string], symbol: '[any]'}</code> object - style set the custom style of the react progress bar object - type set the type of the progress bar, options: <code>circle</code> string - width set sizes of progress bar type <code>circle</code> number 132 strokeWidth set strokeWidth of progress bar type <code>circle</code> number 6 className set the custom <code>class</code> of the react progress bar object - symbolClassName set the <code>symbol</code> custom <code>class</code> object -"},{"location":"react-third-part-lib/031-react-sweet-progress/#supported-browsers","title":"Supported Browsers","text":"<p><code>React Sweet Porgress</code> designed to support the latest web browsers. We support the current versions of Chrome, Firefox, Safari, Microsoft Edge and Internet Explorer 11. Also support the latest mobile browsers.</p>"},{"location":"react-third-part-lib/031-react-sweet-progress/#how-to-run-example-locally","title":"How to run example locally ?","text":"<ol> <li><code>git clone https://github.com/abraztsov/react-sweet-progress.git</code></li> <li><code>cd react-sweet-progress</code></li> <li><code>npm start</code></li> <li>Go to <code>localhost:8080</code></li> </ol>"},{"location":"react-third-part-lib/031-react-sweet-progress/#feature-requests-find-bug","title":"Feature Requests / Find Bug ?","text":"<p>Have an idea for a package or a feature you'd love to see in ReactSimpleFlexGrid? Search for existing GitHub issues and join the conversation or create new!</p>"},{"location":"react-third-part-lib/031-react-sweet-progress/#faq","title":"FAQ","text":"<p>This component based on ant design progress. Huge thanks them for a such an awesome work.</p>"},{"location":"react-third-part-lib/031-react-sweet-progress/#future-plans","title":"Future Plans","text":"<ul> <li>Create <code>Circle</code> progress</li> <li>Add flexibility to custom styles</li> </ul>"},{"location":"react-third-part-lib/031-react-sweet-progress/#updates","title":"Updates","text":"<p>1.1.1 Trail color can now be specified by a progress theme.</p> <p>1.1.0 Added <code>Circle</code> progress</p> <p>1.0.0 First release</p>"},{"location":"react-third-part-lib/032-reactstrap/","title":"032-reactstrap","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6951  \u9605\u8bfb14\u5206\u949f</p>"},{"location":"react-third-part-lib/032-reactstrap/#reactstrap","title":"reactstrap","text":""},{"location":"react-third-part-lib/032-reactstrap/#version","title":"version","text":"<p>9.2.2\u00a0 </p>"},{"location":"react-third-part-lib/032-reactstrap/#downloads","title":"downloads","text":"<p>495,948 </p>"},{"location":"react-third-part-lib/032-reactstrap/#repository","title":"repository","text":"<p>github.com/reactstrap/reactstrap </p>"},{"location":"react-third-part-lib/032-reactstrap/#homepage","title":"homepage","text":"<p>github.com/reactstrap/reactstrap#readme </p>"},{"location":"react-third-part-lib/032-reactstrap/#reactstrap_1","title":"reactstrap","text":"<p>Stateless React Components for Bootstrap 5.</p> <p>If you're using Bootstrap 4, you'll need to use Reactstrap v8</p>"},{"location":"react-third-part-lib/032-reactstrap/#getting-started","title":"Getting Started","text":"<p>Follow the create-react-app instructions to get started and then follow the reactstrap version of adding bootstrap.</p>"},{"location":"react-third-part-lib/032-reactstrap/#tldr","title":"tl;dr","text":"<pre><code>npx create-react-app my-app\ncd my-app/\nnpm start\n</code></pre> <p>or, if npx (Node &gt;= 6 and npm &gt;= 5.2 ) not available</p> <pre><code>npm install -g create-react-app\n\ncreate-react-app my-app\ncd my-app/\nnpm start\n</code></pre> <p>Then open http://localhost:3000/ to see your app. The initial structure of your app is setup. Next, let's add reactstrap and bootstrap.</p>"},{"location":"react-third-part-lib/032-reactstrap/#adding-bootstrap","title":"Adding Bootstrap","text":"<p>Install reactstrap and Bootstrap from NPM. Reactstrap does not include Bootstrap CSS so this needs to be installed as well:</p> <pre><code>npm i bootstrap\nnpm i reactstrap react react-dom\n</code></pre> <p>Import Bootstrap CSS in the <code>src/index.js</code> file:</p> <pre><code>import 'bootstrap/dist/css/bootstrap.css';\n</code></pre> <p>Import required reactstrap components within <code>src/App.js</code> file or your custom component files:</p> <pre><code>import { Button } from 'reactstrap';\n</code></pre> <p>Now you are ready to use the imported reactstrap components within your component hierarchy defined in the render method. Here is an example <code>App.js</code> redone using reactstrap.</p>"},{"location":"react-third-part-lib/032-reactstrap/#dependencies","title":"Dependencies","text":""},{"location":"react-third-part-lib/032-reactstrap/#required-peer-dependencies","title":"Required Peer Dependencies","text":"<p>These libraries are not bundled with Reactstrap and required at runtime:</p> <ul> <li>react</li> <li>react-dom</li> </ul>"},{"location":"react-third-part-lib/032-reactstrap/#about-the-project","title":"About the Project","text":"<p>This library contains React Bootstrap components that favor composition and control. The library does not depend on jQuery or Bootstrap javascript. However, Poppers.js via react- popper is relied upon for advanced positioning of content like Tooltips, Popovers, and auto-flipping Dropdowns.</p> <p>There are a few core concepts to understand in order to make the most out of this library.</p> <ol> <li> <p>Your content is expected to be composed via props.children rather than using named props to pass in Components.</p> <pre><code>// Content passed in via props\n</code></pre> <p>const Example = (props) =&gt; {   return (     <p>This is a tooltip example!</p>   ); }</p> <p>// Content passed in as children (Preferred) const PreferredExample = (props) =&gt; {   return (     <p>       This is a tooltip example.        </p>   ); }</p> </li> <li> <p>Attributes in this library are used to pass in state, conveniently apply modifier classes, enable advanced functionality (like tether), or automatically include non-content based elements.</p> </li> </ol> <p>Examples:</p> <pre><code> * `isOpen` \\- current state for items like dropdown, popover, tooltip\n * `toggle` \\- callback for toggling `isOpen` in the controlling component\n * `color` \\- applies color classes, ex: `&lt;Button color=\"danger\"/&gt;`\n * `size` \\- for controlling size classes. ex: `&lt;Button size=\"sm\"/&gt;`\n * `tag` \\- customize component output by passing in an element name or Component\n * boolean based props (attributes) when possible for alternative style classes or `visually-hidden` content\n</code></pre>"},{"location":"react-third-part-lib/032-reactstrap/#documentation","title":"Documentation","text":"<p>https://reactstrap.github.io</p> <p>Documentation search is powered by Algolia's DocSearch.</p>"},{"location":"react-third-part-lib/032-reactstrap/#codesandbox-examples","title":"CodeSandbox Examples","text":"<p>Here are some ready-to-go examples for CodeSandbox that you can experiment with.</p> <p>https://github.com/reactstrap/code-sandbox-examples</p>"},{"location":"react-third-part-lib/032-reactstrap/#_2","title":"032-reactstrap","text":"<p>Contributing</p>"},{"location":"react-third-part-lib/032-reactstrap/#development","title":"Development","text":"<p>Install dependencies:</p> <pre><code>yarn install\n</code></pre> <p>Run examples at http://localhost:8080/ with webpack dev server:</p> <pre><code>yarn start\n</code></pre> <p>Run tests &amp; coverage report:</p> <pre><code>yarn cover\n</code></pre> <p>Watch tests:</p> <pre><code>yarn test\n</code></pre>"},{"location":"react-third-part-lib/032-reactstrap/#releasing","title":"Releasing","text":"<p>Release branches/versioning/notes will be automatically created and maintained by the release-please github action. When you're ready to publish the release, just merge the release branch. The release will be created, the new package will be published, and the updated docs will be deployed to https://reactstrap.github.io/.</p>"},{"location":"react-third-part-lib/032-reactstrap/#in-the-wild","title":"In the wild","text":"<p>Organizations and projects using <code>reactstrap</code></p> <ul> <li>airframe-react - demo - Airframe provides all the components a developer needs to build data-intensive web apps using React.</li> <li>component-template</li> <li>video-react</li> <li>CoreUI-Free-Bootstrap-Admin-Template - demo</li> <li>Admin dashboard example app built with reactstrap - demo</li> <li>DevExtreme React Grid - It's a stateless data grid built on top of <code>reactstrap</code> with paging, sorting, filtering, grouping, selection, editing and virtual scrolling features.</li> <li>DevExtreme React Chart - A chart built on top of <code>reactstrap</code> that visualizes data using a variety of series types, including bar, line, area, scatter, pie, and more.</li> <li>reactstrap-scrollspy - demo</li> <li>formstrap - demo - Let your <code>reactstrap</code> input component integrate seamlessly using <code>Formik</code></li> <li>Jimu UI - demo - The UI library for ArcGIS Experience Builder mapping platform.</li> </ul> <p>Submit a PR to add to this list!</p> <p>Looking to build, document and publish reusable components built on top of <code>reactstrap</code>? Consider forking https://github.com/reactstrap/component- template to kickstart your project!</p>"},{"location":"react-third-part-lib/044-react-app-polyfill/","title":"044-react-app-polyfill","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2733  \u9605\u8bfb6\u5206\u949f</p>"},{"location":"react-third-part-lib/044-react-app-polyfill/#react-app-polyfill","title":"react-app-polyfill","text":""},{"location":"react-third-part-lib/044-react-app-polyfill/#version","title":"version","text":"<p>3.0.0\u00a0 </p>"},{"location":"react-third-part-lib/044-react-app-polyfill/#downloads","title":"downloads","text":"<p>3,413,522 </p>"},{"location":"react-third-part-lib/044-react-app-polyfill/#repository","title":"repository","text":"<p>github.com/facebook/create-react-app </p>"},{"location":"react-third-part-lib/044-react-app-polyfill/#homepage","title":"homepage","text":"<p>github.com/facebook/create-react-app#readme </p>"},{"location":"react-third-part-lib/044-react-app-polyfill/#react-app-polyfill_1","title":"react-app-polyfill","text":"<p>This package includes polyfills for various browsers. It includes minimum requirements and commonly used language features used by Create React App projects.</p>"},{"location":"react-third-part-lib/044-react-app-polyfill/#usage","title":"Usage","text":"<p>First, install the package using Yarn or npm:</p> <pre><code>npm install react-app-polyfill\n</code></pre> <p>or</p> <pre><code>yarn add react-app-polyfill\n</code></pre>"},{"location":"react-third-part-lib/044-react-app-polyfill/#supporting-internet-explorer","title":"Supporting Internet Explorer","text":"<p>You can import the entry point for the minimal version you intend to support to ensure that the minimum language features are present that are required to use Create React App. For example, if you import the IE9 entry point, this will include IE10 and IE11 support.</p> <p>These modules ensure the following language features are present:</p> <ol> <li><code>Promise</code> (for <code>async</code> / <code>await</code> support)</li> <li><code>window.fetch</code> (a Promise-based way to make web requests in the browser)</li> <li><code>Object.assign</code> (a helper required for Object Spread, i.e. <code>{ ...a, ...b }</code>)</li> <li><code>Symbol</code> (a built-in object used by <code>for...of</code> syntax and friends)</li> <li><code>Array.from</code> (a built-in static method used by array spread, i.e. <code>[...arr]</code>)</li> </ol> <p>If you need more features, see thePolyfilling other language features section below.</p>"},{"location":"react-third-part-lib/044-react-app-polyfill/#internet-explorer-9","title":"Internet Explorer 9","text":"<pre><code>// This must be the first line in src/index.js\nimport 'react-app-polyfill/ie9';\n\n// ...\n</code></pre>"},{"location":"react-third-part-lib/044-react-app-polyfill/#internet-explorer-11","title":"Internet Explorer 11","text":"<pre><code>// This must be the first line in src/index.js\nimport 'react-app-polyfill/ie11';\n\n// ...\n</code></pre>"},{"location":"react-third-part-lib/044-react-app-polyfill/#polyfilling-other-language-features","title":"Polyfilling other language features","text":"<p>You can also polyfill stable language features not available in your target browsers. If you're using this in Create React App, it will automatically use the <code>browserslist</code> you've defined to only include polyfills needed by your target browsers when importing the <code>stable</code> polyfill. Make sure to follow the Internet Explorer steps above if you need to support Internet Explorer in your application.</p> <pre><code>// This must be the first line in src/index.js\nimport 'react-app-polyfill/stable';\n\n// ...\n</code></pre> <p>If you are supporting Internet Explorer 9 or Internet Explorer 11 you should include both the <code>ie9</code> or <code>ie11</code> and <code>stable</code> modules:</p> <p>For IE9:</p> <pre><code>// These must be the first lines in src/index.js\nimport 'react-app-polyfill/ie9';\nimport 'react-app-polyfill/stable';\n\n// ...\n</code></pre> <p>For IE11:</p> <pre><code>// These must be the first lines in src/index.js\nimport 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\n\n// ...\n</code></pre>"},{"location":"react-third-part-lib/045-react-dev-utils/","title":"045-react-dev-utils","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 14675  \u9605\u8bfb30\u5206\u949f</p>"},{"location":"react-third-part-lib/045-react-dev-utils/#react-dev-utils","title":"react-dev-utils","text":""},{"location":"react-third-part-lib/045-react-dev-utils/#version","title":"version","text":"<p>12.0.1\u00a0 </p>"},{"location":"react-third-part-lib/045-react-dev-utils/#downloads","title":"downloads","text":"<p>4,603,944 </p>"},{"location":"react-third-part-lib/045-react-dev-utils/#repository","title":"repository","text":"<p>github.com/facebook/create-react-app </p>"},{"location":"react-third-part-lib/045-react-dev-utils/#homepage","title":"homepage","text":"<p>github.com/facebook/create-react-app#readme </p>"},{"location":"react-third-part-lib/045-react-dev-utils/#react-dev-utils_1","title":"react-dev-utils","text":"<p>This package includes some utilities used by Create React App. Please refer to its documentation:</p> <ul> <li>Getting Started \u2013 How to create a new app.</li> <li>User Guide \u2013 How to develop apps bootstrapped with Create React App.</li> </ul>"},{"location":"react-third-part-lib/045-react-dev-utils/#usage-in-create-react-app-projects","title":"Usage in Create React App Projects","text":"<p>These utilities come by default with Create React App. You don\u2019t need to install it separately in Create React App projects.</p>"},{"location":"react-third-part-lib/045-react-dev-utils/#usage-outside-of-create-react-app","title":"Usage Outside of Create React App","text":"<p>If you don\u2019t use Create React App, or if you ejected, you may keep using these utilities. Their development will be aligned with Create React App, so major versions of these utilities may come out relatively often. Feel free to fork or copy and paste them into your projects if you\u2019d like to have more control over them, or feel free to use the old versions. Not all of them are React-specific, but we might make some of them more React-specific in the future.</p>"},{"location":"react-third-part-lib/045-react-dev-utils/#entry-points","title":"Entry Points","text":"<p>There is no single entry point. You can only import individual top-level modules.</p>"},{"location":"react-third-part-lib/045-react-dev-utils/#new-interpolatehtmlpluginhtmlwebpackplugin-htmlwebpackplugin","title":"`new InterpolateHtmlPlugin(htmlWebpackPlugin: HtmlWebpackPlugin,","text":"<p>replacements: {[key:string]: string})`</p> <p>This webpack plugin lets us interpolate custom variables into <code>index.html</code>. It works in tandem with HtmlWebpackPlugin 2.x via its events.</p> <pre><code>var path = require('path');\nvar HtmlWebpackPlugin = require('html-webpack-plugin');\nvar InterpolateHtmlPlugin = require('react-dev-utils/InterpolateHtmlPlugin');\n\n// webpack config\nvar publicUrl = '/my-custom-url';\n\nmodule.exports = {\n  output: {\n    // ...\n    publicPath: publicUrl + '/',\n  },\n  // ...\n  plugins: [\n    // Generates an `index.html` file with the &lt;script&gt; injected.\n    new HtmlWebpackPlugin({\n      inject: true,\n      template: path.resolve('public/index.html'),\n    }),\n    // Makes the public URL available as %PUBLIC_URL% in index.html, e.g.:\n    // &lt;link rel=\"icon\" href=\"%PUBLIC_URL%/favicon.ico\"&gt;\n    new InterpolateHtmlPlugin(HtmlWebpackPlugin, {\n      PUBLIC_URL: publicUrl,\n      // You can pass any key-value pairs, this was just an example.\n      // WHATEVER: 42 will replace %WHATEVER% with 42 in index.html.\n    }),\n    // ...\n  ],\n  // ...\n};\n</code></pre>"},{"location":"react-third-part-lib/045-react-dev-utils/#new-inlinechunkhtmlpluginhtmlwebpackplugin-htmlwebpackplugin-tests","title":"`new InlineChunkHtmlPlugin(htmlWebpackPlugin: HtmlWebpackPlugin, tests:","text":"<p>Regex[])`</p> <p>This webpack plugin inlines script chunks into <code>index.html</code>. It works in tandem with HtmlWebpackPlugin 4.x.</p> <pre><code>var path = require('path');\nvar HtmlWebpackPlugin = require('html-webpack-plugin');\nvar InlineChunkHtmlPlugin = require('react-dev-utils/InlineChunkHtmlPlugin');\n\n// webpack config\nvar publicUrl = '/my-custom-url';\n\nmodule.exports = {\n  output: {\n    // ...\n    publicPath: publicUrl + '/',\n  },\n  // ...\n  plugins: [\n    // Generates an `index.html` file with the &lt;script&gt; injected.\n    new HtmlWebpackPlugin({\n      inject: true,\n      template: path.resolve('public/index.html'),\n    }),\n    // Inlines chunks with `runtime` in the name\n    new InlineChunkHtmlPlugin(HtmlWebpackPlugin, [/runtime/]),\n    // ...\n  ],\n  // ...\n};\n</code></pre>"},{"location":"react-third-part-lib/045-react-dev-utils/#new-modulescopepluginappsrc-string-string-allowedfiles-string","title":"<code>new ModuleScopePlugin(appSrc: string | string[], allowedFiles?: string[])</code>","text":"<p>This webpack plugin ensures that relative imports from app's source directories don't reach outside of it.</p> <pre><code>var path = require('path');\nvar ModuleScopePlugin = require('react-dev-utils/ModuleScopePlugin');\n\nmodule.exports = {\n  // ...\n  resolve: {\n    // ...\n    plugins: [\n      new ModuleScopePlugin(paths.appSrc, [paths.appPackageJson]),\n      // ...\n    ],\n    // ...\n  },\n  // ...\n};\n</code></pre>"},{"location":"react-third-part-lib/045-react-dev-utils/#checkrequiredfilesfiles-arraystring-boolean","title":"<code>checkRequiredFiles(files: Array&lt;string&gt;): boolean</code>","text":"<p>Makes sure that all passed files exist. Filenames are expected to be absolute. If a file is not found, prints a warning message and returns <code>false</code>.</p> <pre><code>var path = require('path');\nvar checkRequiredFiles = require('react-dev-utils/checkRequiredFiles');\n\nif (\n  !checkRequiredFiles([\n    path.resolve('public/index.html'),\n    path.resolve('src/index.js'),\n  ])\n) {\n  process.exit(1);\n}\n</code></pre>"},{"location":"react-third-part-lib/045-react-dev-utils/#clearconsole-void","title":"<code>clearConsole(): void</code>","text":"<p>Clears the console, hopefully in a cross-platform way.</p> <pre><code>var clearConsole = require('react-dev-utils/clearConsole');\n\nclearConsole();\nconsole.log('Just cleared the screen!');\n</code></pre>"},{"location":"react-third-part-lib/045-react-dev-utils/#eslintformatterresults-object-string","title":"<code>eslintFormatter(results: Object): string</code>","text":"<p>This is our custom ESLint formatter that integrates well with Create React App console output. You can use the default one instead if you prefer so.</p> <pre><code>const eslintFormatter = require('react-dev-utils/eslintFormatter');\n\n// In your webpack config:\n// ...\nmodule: {\n  rules: [\n    {\n      test: /\\.(js|jsx)$/,\n      include: paths.appSrc,\n      enforce: 'pre',\n      use: [\n        {\n          loader: 'eslint-loader',\n          options: {\n            // Pass the formatter:\n            formatter: eslintFormatter,\n          },\n        },\n      ],\n    },\n  ];\n}\n</code></pre>"},{"location":"react-third-part-lib/045-react-dev-utils/#filesizereporter","title":"<code>FileSizeReporter</code>","text":""},{"location":"react-third-part-lib/045-react-dev-utils/#measurefilesizesbeforebuildbuildfolder-string","title":"`measureFileSizesBeforeBuild(buildFolder: string):","text":"<p>Promise` <p>Captures JS and CSS asset sizes inside the passed <code>buildFolder</code>. Save the result value to compare it after the build.</p>"},{"location":"react-third-part-lib/045-react-dev-utils/#printfilesizesafterbuildwebpackstats-webpackstats","title":"`printFileSizesAfterBuild(webpackStats: WebpackStats,","text":"<p>previousFileSizes: OpaqueFileSizes, buildFolder: string, maxBundleGzipSize?: number, maxChunkGzipSize?: number)`</p> <p>Prints the JS and CSS asset sizes after the build, and includes a size comparison with <code>previousFileSizes</code> that were captured earlier using <code>measureFileSizesBeforeBuild()</code>. <code>maxBundleGzipSize</code> and <code>maxChunkGzipSizemay</code> may optionally be specified to display a warning when the main bundle or a chunk exceeds the specified size (in bytes).</p> <pre><code>var {\n  measureFileSizesBeforeBuild,\n  printFileSizesAfterBuild,\n} = require('react-dev-utils/FileSizeReporter');\n\nmeasureFileSizesBeforeBuild(buildFolder).then(previousFileSizes =&gt; {\n  return cleanAndRebuild().then(webpackStats =&gt; {\n    printFileSizesAfterBuild(webpackStats, previousFileSizes, buildFolder);\n  });\n});\n</code></pre>"},{"location":"react-third-part-lib/045-react-dev-utils/#formatwebpackmessageserrors-array-warnings","title":"`formatWebpackMessages({errors: Array, warnings: <p>Array}): {errors: Array, warnings: Array}` <p>Extracts and prettifies warning and error messages from webpack stats object.</p> <pre><code>var webpack = require('webpack');\nvar config = require('../config/webpack.config.dev');\nvar formatWebpackMessages = require('react-dev-utils/formatWebpackMessages');\n\nvar compiler = webpack(config);\n\ncompiler.hooks.invalid.tap('invalid', function () {\n  console.log('Compiling...');\n});\n\ncompiler.hooks.done.tap('done', function (stats) {\n  var rawMessages = stats.toJson({}, true);\n  var messages = formatWebpackMessages(rawMessages);\n  if (!messages.errors.length &amp;&amp; !messages.warnings.length) {\n    console.log('Compiled successfully!');\n  }\n  if (messages.errors.length) {\n    console.log('Failed to compile.');\n    messages.errors.forEach(e =&gt; console.log(e));\n    return;\n  }\n  if (messages.warnings.length) {\n    console.log('Compiled with warnings.');\n    messages.warnings.forEach(w =&gt; console.log(w));\n  }\n});\n</code></pre>","text":""},{"location":"react-third-part-lib/045-react-dev-utils/#printbuilderrorerror-object-void","title":"<code>printBuildError(error: Object): void</code> <p>Prettify some known build errors. Pass an Error object to log a prettified error message in the console.</p> <pre><code>  const printBuildError = require('react-dev-utils/printBuildError')\n  try {\n    build()\n  } catch(e) {\n    printBuildError(e) // logs prettified message\n  }\n</code></pre>","text":""},{"location":"react-third-part-lib/045-react-dev-utils/#getprocessforportport-number-string","title":"<code>getProcessForPort(port: number): string</code> <p>Finds the currently running process on <code>port</code>. Returns a string containing the name and directory, e.g.,</p> <pre><code>create-react-app\nin /Users/developer/create-react-app\n\n\n\nvar getProcessForPort = require('react-dev-utils/getProcessForPort');\n\ngetProcessForPort(3000);\n</code></pre>","text":""},{"location":"react-third-part-lib/045-react-dev-utils/#launcheditorfilename-string-linenumber-number-void","title":"<code>launchEditor(fileName: string, lineNumber: number): void</code> <p>On macOS, tries to find a known running editor process and opens the file in it. It can also be explicitly configured by <code>REACT_EDITOR</code>, <code>VISUAL</code>, or <code>EDITOR</code> environment variables. For example, you can put <code>REACT_EDITOR=atom</code> in your <code>.env.local</code> file, and Create React App will respect that.</p>","text":""},{"location":"react-third-part-lib/045-react-dev-utils/#noopserviceworkermiddlewareservedpath-string-expressmiddleware","title":"<code>noopServiceWorkerMiddleware(servedPath: string): ExpressMiddleware</code> <p>Returns Express middleware that serves a <code>${servedPath}/service-worker.js</code> that resets any previously set service worker configuration. Useful for development.</p>","text":""},{"location":"react-third-part-lib/045-react-dev-utils/#redirectservedpathmiddlewareservedpath-string-expressmiddleware","title":"<code>redirectServedPathMiddleware(servedPath: string): ExpressMiddleware</code> <p>Returns Express middleware that redirects to <code>${servedPath}/${req.path}</code>, if <code>req.url</code> does not start with <code>servedPath</code>. Useful for development.</p>","text":""},{"location":"react-third-part-lib/045-react-dev-utils/#openbrowserurl-string-boolean","title":"<code>openBrowser(url: string): boolean</code> <p>Attempts to open the browser with a given URL. On Mac OS X, attempts to reuse an existing Chrome tab via AppleScript. Otherwise, falls back to opn behavior.</p> <pre><code>var path = require('path');\nvar openBrowser = require('react-dev-utils/openBrowser');\n\nif (openBrowser('http://localhost:3000')) {\n  console.log('The browser tab has been opened!');\n}\n</code></pre>","text":""},{"location":"react-third-part-lib/045-react-dev-utils/#printhostinginstructionsapppackage-object-publicurl-string","title":"`printHostingInstructions(appPackage: Object, publicUrl: string, <p>publicPath: string, buildFolder: string, useYarn: boolean): void`</p> <p>Prints hosting instructions after the project is built.</p> <p>Pass your parsed <code>package.json</code> object as <code>appPackage</code>, your URL where you plan to host the app as <code>publicUrl</code>, <code>output.publicPath</code> from your webpack configuration as <code>publicPath</code>, the <code>buildFolder</code> name, and whether to <code>useYarn</code> in instructions.</p> <pre><code>const appPackage = require(paths.appPackageJson);\nconst publicUrl = paths.publicUrlOrPath;\nconst publicPath = config.output.publicPath;\nprintHostingInstructions(appPackage, publicUrl, publicPath, 'build', true);\n</code></pre>","text":""},{"location":"react-third-part-lib/045-react-dev-utils/#webpackdevserverutils","title":"<code>WebpackDevServerUtils</code>","text":""},{"location":"react-third-part-lib/045-react-dev-utils/#chooseporthost-string-defaultport-number-promisenumber-null","title":"<code>choosePort(host: string, defaultPort: number): Promise&lt;number | null&gt;</code>","text":"<p>Returns a Promise resolving to either <code>defaultPort</code> or next available port if the user confirms it is okay to do. If the port is taken and the user has refused to use another port, or if the terminal is not interactive and can\u2019t present user with the choice, resolves to <code>null</code>.</p>"},{"location":"react-third-part-lib/045-react-dev-utils/#createcompilerargs-object-webpackcompiler","title":"<code>createCompiler(args: Object): WebpackCompiler</code>","text":"<p>Creates a webpack compiler instance for WebpackDevServer with built-in helpful messages.</p> <p>The <code>args</code> object accepts a number of properties:</p> <ul> <li>appName <code>string</code>: The name that will be printed to the terminal.</li> <li>config <code>Object</code>: The webpack configuration options to be provided to the webpack constructor.</li> <li>urls <code>Object</code>: To provide the <code>urls</code> argument, use <code>prepareUrls()</code> described below.</li> <li>useYarn <code>boolean</code>: If <code>true</code>, yarn instructions will be emitted in the terminal instead of npm.</li> <li>useTypeScript <code>boolean</code>: If <code>true</code>, TypeScript type checking will be enabled. Be sure to provide the <code>devSocket</code> argument above if this is set to <code>true</code>.</li> <li>webpack <code>function</code>: A reference to the webpack constructor.</li> </ul>"},{"location":"react-third-part-lib/045-react-dev-utils/#prepareproxyproxysetting-string-apppublicfolder-string","title":"`prepareProxy(proxySetting: string, appPublicFolder: string,","text":"<p>servedPathname: string): Object`</p> <p>Creates a WebpackDevServer <code>proxy</code> configuration object from the <code>proxy</code> setting in <code>package.json</code>.</p>"},{"location":"react-third-part-lib/045-react-dev-utils/#prepareurlsprotocol-string-host-string-port-number-pathname","title":"`prepareUrls(protocol: string, host: string, port: number, pathname:","text":"<p>string = '/'): Object`</p> <p>Returns an object with local and remote URLs for the development server. Pass this object to <code>createCompiler()</code> described above.</p>"},{"location":"react-third-part-lib/045-react-dev-utils/#webpackhotdevclient","title":"<code>webpackHotDevClient</code> <p>This is an alternative client for WebpackDevServer that shows a syntax error overlay.</p> <p>It currently supports only webpack 3.x.</p> <pre><code>// webpack development config\nmodule.exports = {\n  // ...\n  entry: [\n    // You can replace the line below with these two lines if you prefer the\n    // stock client:\n    // require.resolve('webpack-dev-server/client') + '?/',\n    // require.resolve('webpack/hot/dev-server'),\n    'react-dev-utils/webpackHotDevClient',\n    'src/index',\n  ],\n  // ...\n};\n</code></pre>","text":""},{"location":"react-third-part-lib/045-react-dev-utils/#getcssmodulelocalidentcontext-object-localidentname-string","title":"`getCSSModuleLocalIdent(context: Object, localIdentName: String, <p>localName: String, options: Object): string`</p> <p>Creates a class name for CSS Modules that uses either the filename or folder name if named <code>index.module.css</code>.</p> <p>For <code>MyFolder/MyComponent.module.css</code> and class <code>MyClass</code> the output will be <code>MyComponent.module_MyClass__[hash]</code> For <code>MyFolder/index.module.css</code> and class <code>MyClass</code> the output will be <code>MyFolder_MyClass__[hash]</code></p> <pre><code>const getCSSModuleLocalIdent = require('react-dev-utils/getCSSModuleLocalIdent');\n\n// In your webpack config:\n// ...\nmodule: {\n  rules: [\n    {\n      test: /\\.module\\.css$/,\n      use: [\n        require.resolve('style-loader'),\n        {\n          loader: require.resolve('css-loader'),\n          options: {\n            importLoaders: 1,\n            modules: {\n              getLocalIdent: getCSSModuleLocalIdent,\n            },\n          },\n        },\n        {\n          loader: require.resolve('postcss-loader'),\n          options: postCSSLoaderOptions,\n        },\n      ],\n    },\n  ];\n}\n</code></pre>","text":""},{"location":"react-third-part-lib/045-react-dev-utils/#getcacheidentifierenvironment-string-packages-string-string","title":"<code>getCacheIdentifier(environment: string, packages: string[]): string</code> <p>Returns a cache identifier (string) consisting of the specified environment and related package versions, e.g.,</p> <pre><code>var getCacheIdentifier = require('react-dev-utils/getCacheIdentifier');\n\ngetCacheIdentifier('prod', ['react-dev-utils', 'chalk']); // # =&gt; 'prod:react-dev-utils@5.0.0:chalk@3.0.0'\n</code></pre>","text":""},{"location":"react-third-part-lib/046-react-dom/","title":"046-react-dom","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1378  \u9605\u8bfb3\u5206\u949f</p>"},{"location":"react-third-part-lib/046-react-dom/#react-dom","title":"react-dom","text":""},{"location":"react-third-part-lib/046-react-dom/#version","title":"version","text":"<p>18.3.1\u00a0 </p>"},{"location":"react-third-part-lib/046-react-dom/#downloads","title":"downloads","text":"<p>22,109,133 </p>"},{"location":"react-third-part-lib/046-react-dom/#repository","title":"repository","text":"<p>github.com/facebook/react </p>"},{"location":"react-third-part-lib/046-react-dom/#homepage","title":"homepage","text":"<p>reactjs.org/ </p>"},{"location":"react-third-part-lib/046-react-dom/#react-dom_1","title":"<code>react-dom</code>","text":"<p>This package serves as the entry point to the DOM and server renderers for React. It is intended to be paired with the generic React package, which is shipped as <code>react</code> to npm.</p>"},{"location":"react-third-part-lib/046-react-dom/#installation","title":"Installation","text":"<pre><code>npm install react react-dom\n</code></pre>"},{"location":"react-third-part-lib/046-react-dom/#usage","title":"Usage","text":""},{"location":"react-third-part-lib/046-react-dom/#in-the-browser","title":"In the browser","text":"<pre><code>import { createRoot } from 'react-dom/client';\n\nfunction App() {\n  return &lt;div&gt;Hello World&lt;/div&gt;;\n}\n\nconst root = createRoot(document.getElementById('root'));\nroot.render(&lt;App /&gt;);\n</code></pre>"},{"location":"react-third-part-lib/046-react-dom/#on-the-server","title":"On the server","text":"<pre><code>import { renderToPipeableStream } from 'react-dom/server';\n\nfunction App() {\n  return &lt;div&gt;Hello World&lt;/div&gt;;\n}\n\nfunction handleRequest(res) {\n  // ... in your server handler ...\n  const stream = renderToPipeableStream(&lt;App /&gt;, {\n    onShellReady() {\n      res.statusCode = 200;\n      res.setHeader('Content-type', 'text/html');\n      stream.pipe(res);\n    },\n    // ...\n  });\n}\n</code></pre>"},{"location":"react-third-part-lib/046-react-dom/#api","title":"API","text":""},{"location":"react-third-part-lib/046-react-dom/#react-dom_2","title":"<code>react-dom</code>","text":"<p>See https://reactjs.org/docs/react-dom.html</p>"},{"location":"react-third-part-lib/046-react-dom/#react-domclient","title":"<code>react-dom/client</code>","text":"<p>See https://reactjs.org/docs/react-dom-client.html</p>"},{"location":"react-third-part-lib/046-react-dom/#react-domserver","title":"<code>react-dom/server</code>","text":"<p>See https://reactjs.org/docs/react-dom-server.html</p>"},{"location":"react-third-part-lib/069-react-codemirror/","title":"069-react-codemirror","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5442  \u9605\u8bfb11\u5206\u949f</p>"},{"location":"react-third-part-lib/069-react-codemirror/#react-codemirror","title":"react-codemirror","text":""},{"location":"react-third-part-lib/069-react-codemirror/#version","title":"version","text":"<p>1.0.0\u00a0 </p>"},{"location":"react-third-part-lib/069-react-codemirror/#downloads","title":"downloads","text":"<p>22,462 </p>"},{"location":"react-third-part-lib/069-react-codemirror/#repository","title":"repository","text":"<p>github.com/JedWatson/react-codemirror </p>"},{"location":"react-third-part-lib/069-react-codemirror/#homepage","title":"homepage","text":"<p>github.com/JedWatson/react-codemirror </p>"},{"location":"react-third-part-lib/069-react-codemirror/#codemirror","title":"Codemirror","text":"<p>The excellent CodeMirror editor as a React.js component.</p>"},{"location":"react-third-part-lib/069-react-codemirror/#demo-examples","title":"Demo &amp; Examples","text":"<p>Live demo: JedWatson.github.io/react- codemirror</p> <p>To build the examples locally, run:</p> <pre><code>npm install\nnpm start\n</code></pre> <p>Then open <code>localhost:8000</code> in a browser.</p>"},{"location":"react-third-part-lib/069-react-codemirror/#installation","title":"Installation","text":"<p>The easiest way to use codemirror is to install it from NPM and include it in your own React build process (using Browserify, Webpack, etc).</p> <p>You can also use the standalone build by including <code>dist/react-codemirror.js</code> in your page. If you use this, make sure you have already included React, and it is available as a global variable.</p> <pre><code>npm install react-codemirror --save\n</code></pre>"},{"location":"react-third-part-lib/069-react-codemirror/#usage","title":"Usage","text":"<p>Require the CodeMirror component and render it with JSX:</p> <pre><code>var\u00a0React\u00a0=\u00a0require('react');\n\nvar\u00a0CodeMirror\u00a0=\u00a0require('react-codemirror');\n\n\n\nvar\u00a0App\u00a0=\u00a0React.createClass({\n\n\u00a0\u00a0\u00a0\u00a0getInitialState:\u00a0function()\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0code:\u00a0\"//\u00a0Code\",\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0};\n\n\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0updateCode:\u00a0function(newCode)\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0this.setState({\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0code:\u00a0newCode,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0});\n\n\u00a0\u00a0\u00a0\u00a0},\n\n\u00a0\u00a0\u00a0\u00a0render:\u00a0function()\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0var\u00a0options\u00a0=\u00a0{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0lineNumbers:\u00a0true,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0};\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return\u00a0&lt;CodeMirror\u00a0value={this.state.code}\u00a0onChange={this.updateCode}\u00a0options={options}\u00a0/&gt;\n\n\u00a0\u00a0\u00a0\u00a0}\n\n});\n\n\n\nReact.render(&lt;App\u00a0/&gt;,\u00a0document.getElementById('app'));\n</code></pre>"},{"location":"react-third-part-lib/069-react-codemirror/#include-the-css","title":"Include the CSS","text":"<p>Ensure that CodeMirror's stylesheet <code>codemirror.css</code> is loaded.</p> <p>If you're using LESS (similar for Sass) you can import the css directly from the codemirror package, as shown in example.less:</p> <pre><code>@import\u00a0(inline)\u00a0\"./node_modules/codemirror/lib/codemirror.css\";\n</code></pre> <p>If you're using Webpack with the css loader, you can require the codemirror css in your application instead:</p> <pre><code>require('codemirror/lib/codemirror.css');\n</code></pre> <p>Alternatively, you can explicitly link the <code>codemirror.css</code> file from the CodeMirror project in your index.html file, e.g <code>&lt;link href=\"css/codemirror.css\" rel=\"stylesheet\"&gt;</code>.</p>"},{"location":"react-third-part-lib/069-react-codemirror/#methods","title":"Methods","text":"<ul> <li><code>focus</code> focuses the CodeMirror instance</li> <li><code>getCodeMirror</code> returns the CodeMirror instance, available .</li> </ul> <p>You can interact with the CodeMirror instance using a <code>ref</code> and the <code>getCodeMirror()</code> method after the <code>componentDidMount</code> lifecycle event has fired (including inside the <code>componentDidMount</code> event in a parent Component).</p>"},{"location":"react-third-part-lib/069-react-codemirror/#properties","title":"Properties","text":"<ul> <li><code>autoFocus</code> <code>Boolean</code> automatically focuses the editor when it is mounted (default false)</li> <li><code>autoSave</code> <code>Boolean</code> automatically persist changes to underlying textarea (default false)</li> <li><code>className</code> <code>String</code> adds a custom css class to the editor</li> <li><code>codeMirrorInstance</code> <code>Function</code> provides a specific CodeMirror instance (defaults to <code>require('codemirror')</code>)</li> <li><code>defaultValue</code> <code>String</code> provides a default (not change tracked) value to the editor</li> <li><code>name</code> <code>String</code> sets the name of the editor input field</li> <li><code>options</code> <code>Object</code> options passed to the CodeMirror instance</li> <li><code>onChange</code> <code>Function (newValue)</code> called when a change is made</li> <li><code>onCursorActivity</code> <code>Function (codemirror)</code> called when the cursor is moved</li> <li><code>onFocusChange</code> <code>Function (focused)</code> called when the editor is focused or loses focus</li> <li><code>onScroll</code> <code>Function (scrollInfo)</code> called when the editor is scrolled</li> <li><code>preserveScrollPosition</code> <code>Boolean=false</code> preserve previous scroll position after updating value</li> <li><code>value</code> <code>String</code> the editor value</li> </ul> <p>See the CodeMirror API Docs for the available options.</p>"},{"location":"react-third-part-lib/069-react-codemirror/#using-language-modes","title":"Using Language Modes","text":"<p>Several language modes are included with CodeMirror for syntax highlighting.</p> <p>By default (to optimise bundle size) all modes are not included. To enable syntax highlighting:</p> <ul> <li>install the <code>codemirror</code> package dependency (in addition to <code>react-codemirror</code>)</li> <li>require the language modes you wish to make available after you require <code>react-codemirror</code> itself</li> <li> <p>set the <code>mode</code> option in the <code>options</code> object</p> <p>var\u00a0React\u00a0=\u00a0require('react');</p> <p>var\u00a0CodeMirror\u00a0=\u00a0require('react-codemirror');</p> <p>require('codemirror/mode/javascript/javascript');</p> <p>require('codemirror/mode/xml/xml');</p> <p>require('codemirror/mode/markdown/markdown');</p> <p>&lt;CodeMirror\u00a0...\u00a0options={{</p> <p>mode:\u00a0'javascript',</p> <p>}}\u00a0/&gt;</p> </li> </ul> <p>See the example source for a reference implementation including JavaScript and markdown syntax highlighting.</p>"},{"location":"react-third-part-lib/069-react-codemirror/#license","title":"License","text":"<p>Copyright \u00a9 2016 Jed Watson. MIT Licensed.</p>"},{"location":"react-third-part-lib/073-react-i18next/","title":"073-react-i18next","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9058  \u9605\u8bfb19\u5206\u949f</p>"},{"location":"react-third-part-lib/073-react-i18next/#react-i18next","title":"react-i18next","text":""},{"location":"react-third-part-lib/073-react-i18next/#version","title":"version","text":"<p>15.0.0\u00a0 </p>"},{"location":"react-third-part-lib/073-react-i18next/#downloads","title":"downloads","text":"<p>3,435,992 </p>"},{"location":"react-third-part-lib/073-react-i18next/#repository","title":"repository","text":"<p>github.com/i18next/react-i18next </p>"},{"location":"react-third-part-lib/073-react-i18next/#homepage","title":"homepage","text":"<p>github.com/i18next/react-i18next </p>"},{"location":"react-third-part-lib/073-react-i18next/#react-i18next_1","title":"react-i18next","text":""},{"location":"react-third-part-lib/073-react-i18next/#important","title":"IMPORTANT:","text":"<p>Master Branch is the newest version using hooks (&gt;= v10).</p> <pre><code>$ &gt;=v10.0.0\nnpm i react-i18next\n</code></pre> <p>react-native: To use hooks within react-native, you must use react-native v0.59.0 or higher</p> <p>For the legacy version please use the v9.x.x Branch</p> <pre><code>$ v9.0.10 (legacy)\nnpm i react-i18next@legacy\n</code></pre>"},{"location":"react-third-part-lib/073-react-i18next/#documentation","title":"Documentation","text":"<p>The documentation is published on react.i18next.com and PR changes can be supplied here.</p> <p>The general i18next documentation is published on www.i18next.com and PR changes can be supplied here.</p>"},{"location":"react-third-part-lib/073-react-i18next/#what-will-my-code-look-like","title":"What will my code look like?","text":"<p>Before: Your react code would have looked something like:</p> <pre><code>...\n&lt;div&gt;Just simple content&lt;/div&gt;\n&lt;div&gt;\n  Hello &lt;strong title=\"this is your name\"&gt;{name}&lt;/strong&gt;, you have {count} unread message(s). &lt;Link to=\"/msgs\"&gt;Go to messages&lt;/Link&gt;.\n&lt;/div&gt;\n...\n</code></pre> <p>After: With the trans component just change it to:</p> <pre><code>...\n&lt;div&gt;{t('simpleContent')}&lt;/div&gt;\n&lt;Trans i18nKey=\"userMessagesUnread\" count={count}&gt;\n  Hello &lt;strong title={t('nameTitle')}&gt;{{name}}&lt;/strong&gt;, you have {{count}} unread message. &lt;Link to=\"/msgs\"&gt;Go to messages&lt;/Link&gt;.\n&lt;/Trans&gt;\n...\n</code></pre>"},{"location":"react-third-part-lib/073-react-i18next/#what-others-say","title":"\ud83d\udcd6 What others say","text":"<ul> <li>How to properly internationalize a React application using i18next by Adriano Raiano</li> <li>I18n with React and i18next via Alligator.io by Danny Hurlburt</li> <li>Ultimate Localization of React (Mobx) App with i18next via itnext.io by Viktor Shevchenko</li> <li>Internationalization for react done right Using the i18next i18n ecosystem via reactjsexample.com</li> <li>How to translate React application with react-i18next via codetain.co by Norbert Suski</li> <li>Building i18n with Gatsby via gatsbyjs.org by Samuel Goudie</li> <li>Get your react.js application translated with style by Jan M\u00fchlemann</li> <li>Translate your expo.io / react-native mobile application by Jan M\u00fchlemann</li> <li>You're welcome to share your story...</li> </ul>"},{"location":"react-third-part-lib/073-react-i18next/#why-i18next","title":"Why i18next?","text":"<ul> <li>Simplicity: no need to change your webpack configuration or add additional babel transpilers, just use create-react-app and go.</li> <li>Production ready we know there are more needs for production than just doing i18n on the clientside, so we offer wider support on serverside too (nodejs, php, ruby, .net, ...). Learn once - translate everywhere.</li> <li>Beyond i18n comes with locize bridging the gap between development and translations - covering the whole translation process.</li> </ul>"},{"location":"react-third-part-lib/073-react-i18next/#localization-workflow","title":"Localization workflow","text":"<p>Want to learn more about how seamless your internationalization and translation process can be?</p> <p></p> <p>watch the video</p>"},{"location":"react-third-part-lib/073-react-i18next/#installation","title":"Installation","text":"<p>Source can be loaded via npm or downloaded from this repo.</p> <pre><code># npm package\n$ npm install react-i18next\n</code></pre> <ul> <li>If you don't use a module loader it will be added to <code>window.reactI18next</code></li> </ul>"},{"location":"react-third-part-lib/073-react-i18next/#do-you-like-to-read-a-more-complete-step-by-step-tutorial","title":"Do you like to read a more complete step by step tutorial?","text":"<p>Here you'll find a simple tutorial on how to best use react-i18next. Some basics of i18next and some cool possibilities on how to optimize your localization workflow.</p>"},{"location":"react-third-part-lib/073-react-i18next/#examples","title":"Examples","text":"<ul> <li>Example react</li> <li>React examples with typescript</li> <li>Example locize.com</li> </ul>"},{"location":"react-third-part-lib/073-react-i18next/#v9-samples","title":"v9 samples","text":"<ul> <li>Example react</li> <li>Example preact</li> <li>Example react-native</li> <li>Example expo.io</li> <li>Example next.js</li> <li>Example razzle</li> <li>Example hashbase / beaker browser</li> <li>Example storybook</li> <li>Example locize.com</li> <li>Example test with jest</li> </ul>"},{"location":"react-third-part-lib/073-react-i18next/#requirements","title":"Requirements","text":"<ul> <li>react &gt;= 16.8.0</li> <li>react-dom &gt;= 16.8.0</li> <li>react-native &gt;= 0.59.0</li> <li>i18next &gt;= 10.0.0 (typescript users: &gt;=17.0.9)</li> </ul>"},{"location":"react-third-part-lib/073-react-i18next/#v9","title":"v9","text":"<ul> <li>react &gt;= 0.14.0 (in case of &lt; v16 or preact you will need to define parent in Trans component or globally in i18next.react options)</li> <li>i18next &gt;= 2.0.0</li> </ul>"},{"location":"react-third-part-lib/073-react-i18next/#core-contributors","title":"Core Contributors","text":"<p>Thanks goes to these wonderful people (emoji key):</p> <p> Jan M\u00fchlemann \ud83d\udcbb \ud83d\udca1 \ud83d\udc40 \ud83d\udcd6 \ud83d\udcac |   Adriano Raiano \ud83d\udcbb \ud83d\udca1 \ud83d\udc40 \ud83d\udcd6 \ud83d\udcac |   Pedro Durek \ud83d\udcbb \ud83d\udca1 \ud83d\udc40 \ud83d\udcac |   Tiger Abrodi \ud83d\udcbb \ud83d\udc40 ---|---|---|---  </p> <p>This project follows the all-contributors specification. Contributions of any kind are welcome!</p> <p>localization as a service - locize.com</p> <p>Needing a translation management? Want to edit your translations with an InContext Editor? Use the original provided to you by the maintainers of i18next!</p> <p></p> <p>By using locize you directly support the future of i18next and react-i18next.</p>"},{"location":"react-third-part-lib/101-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-poker/","title":"react-poker","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 462  \u9605\u8bfb1\u5206\u949f</p> <p>\u6251\u514b\u6e38\u620f\uff1ahttps://github.com/therewillbecode/react-poker</p> <p>\u57fa\u4e8e 27-\u7b2c\u4e09\u65b9\u5e93-react-motion \u5f00\u53d1\u7684\u4e00\u4e2a\u5c0f\u6e38\u620f</p> <p>A React Library For Poker Card Game Animations</p> <p>115\u4e2a\u661f\u661f</p> <p>\u8fd9\u4e2a\u5e936\u5e74\u524d\u5199\u7684\uff0c\u4e0b\u8f7d\u91cf\u5f88\u5c11</p> <p>https://www.npmjs.com/package/react-poker?activeTab=versions</p> <p>\u672c\u5730\u6309\u7167\u5b98\u65b9\u6848\u4f8b\u6d4b\u8bd5 demo \u6709\u4e00\u4e9b\u95ee\u9898\uff08css svg \u7b49\u8def\u5f84\u4e0d\u5bf9\uff09\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528\u3002\u53ef\u4ee5\u628a\u6e90\u7801\u62c9\u4e0b\u6765\uff0c\u7136\u540e\u6539\u9020\u4e00\u4e0b\u6d4b\u8bd5\u3002</p>"},{"location":"react-third-part-lib/103-react-to-print/","title":"103-react-to-print","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 27690  \u9605\u8bfb56\u5206\u949f</p>"},{"location":"react-third-part-lib/103-react-to-print/#react-to-print","title":"react-to-print","text":""},{"location":"react-third-part-lib/103-react-to-print/#version","title":"version","text":"<p>2.15.1\u00a0 </p>"},{"location":"react-third-part-lib/103-react-to-print/#downloads","title":"downloads","text":"<p>578,130 </p>"},{"location":"react-third-part-lib/103-react-to-print/#repository","title":"repository","text":"<p>github.com/gregnb/react-to-print </p>"},{"location":"react-third-part-lib/103-react-to-print/#homepage","title":"homepage","text":"<p>github.com/gregnb/react-to-print#readme </p> <p></p>"},{"location":"react-third-part-lib/103-react-to-print/#reacttoprint-print-react-components-in-the-browser","title":"ReactToPrint - Print React components in the browser","text":"<p>So you've created a React component and would love to give end users the ability to print out the contents of that component. This package aims to solve that by popping up a print window with CSS styles copied over as well.</p>"},{"location":"react-third-part-lib/103-react-to-print/#demo","title":"Demo","text":""},{"location":"react-third-part-lib/103-react-to-print/#install","title":"Install","text":"<p><code>npm install --save react-to-print</code></p>"},{"location":"react-third-part-lib/103-react-to-print/#api","title":"API","text":""},{"location":"react-third-part-lib/103-react-to-print/#_2","title":"103-react-to-print","text":"<p>The component accepts the following props:</p> Name Type Description <code>bodyClass?</code> <code>string</code> One or more class names to pass to the print window, separated by spaces <code>content?</code> <code>function</code> A function that returns a component reference value. The content of this reference value is then used for print. Alternatively, pass the content directly to the callback returned by <code>useReactToPrint</code> <code>copyStyles?</code> <code>boolean</code> Copy all <code>&lt;style&gt;</code> and <code>&lt;link type=\"stylesheet\" /&gt;</code> tags from <code>&lt;head&gt;</code> inside the parent window into the print window. (default: <code>true</code>) <code>documentTitle?</code> <code>string</code> Set the title for printing when saving as a file <code>fonts?</code> <code>{ family: string, source: string; weight?: string; style?: string; }[]</code> You may optionally provide a list of fonts which will be loaded into the printing iframe. This is useful if you are using custom fonts <code>onAfterPrint?</code> <code>function</code> Callback function that triggers after the print dialog is closed regardless of if the user selected to print or cancel <code>onBeforeGetContent?</code> <code>function</code> Callback function that triggers before the library gathers the page's content. Either returns void or a Promise. This can be used to change the content on the page before printing <code>onBeforePrint?</code> <code>function</code> Callback function that triggers before print. Either returns void or a Promise. Note: this function is run immediately prior to printing, but after the page's content has been gathered. To modify content before printing, use <code>onBeforeGetContent</code> instead <code>onPrintError?</code> <code>function</code> Callback function (signature: <code>function(errorLocation: 'onBeforePrint' | 'onBeforeGetContent' | 'print', error: Error)</code>) that will be called if there is a printing error serious enough that printing cannot continue. Currently limited to Promise rejections in <code>onBeforeGetContent</code>, <code>onBeforePrint</code>, and <code>print</code>. Use this to attempt to print again. <code>errorLocation</code> will tell you in which callback the Promise was rejected <code>pageStyle?</code> <code>string</code> or <code>function</code> We set some basic styles to help improve page printing. Use this to override them and provide your own. If given as a function it must return a <code>string</code> <code>print?</code> <code>function</code> If passed, this function will be used instead of <code>window.print</code> to print the content. This function is passed the <code>HTMLIFrameElement</code> which is the iframe used internally to gather content for printing. When finished, this function must return a Promise. Use this to print in non-browser environments such as Electron <code>removeAfterPrint?</code> <code>boolean</code> Remove the print iframe after action. Defaults to <code>false</code> <code>suppressErrors?</code> <code>boolean</code> When passed, prevents <code>console</code> logging of errors <code>trigger?</code> <code>function</code> A function that returns a React Component or Element. Note: under the hood, we inject a custom <code>onClick</code> prop into the returned Component/Element. As such, do not provide an <code>onClick</code> prop to the root node returned by <code>trigger</code>, as it will be overwritten <code>nonce?</code> <code>string</code> Set the nonce attribute for whitelisting script and style -elements for CSP (content security policy)"},{"location":"react-third-part-lib/103-react-to-print/#printcontextconsumer","title":"<code>PrintContextConsumer</code>","text":"<p>If you need extra control over printing and don't want to specify <code>trigger</code> directly, <code>PrintContextConsumer</code> allows you to gain direct access to the <code>handlePrint</code> method which triggers the print action. Requires React &gt;=16.3.0. See the examples below for usage.</p>"},{"location":"react-third-part-lib/103-react-to-print/#usereacttoprint","title":"<code>useReactToPrint</code>","text":"<p>For functional components, use the <code>useReactToPrint</code> hook, which accepts an object with the same configuration props as <code>&lt;ReactToPrint /&gt;</code> and returns a <code>handlePrint</code> function which when called will trigger the print action. Requires React &gt;=16.8.0. See the examples below for usage. Additionally, for- fine tuned control, the <code>handlePrint</code> callback can accept an optional <code>content</code> prop which will can be used instead of passing a <code>content</code> prop to the hook itself.</p>"},{"location":"react-third-part-lib/103-react-to-print/#compatibility","title":"Compatibility","text":"<p><code>react-to-print</code> should be compatible with most major browsers. We also do our best to support IE11.</p>"},{"location":"react-third-part-lib/103-react-to-print/#mobile-browsers-in-webview","title":"Mobile Browsers in WebView","text":"<p>While printing on mobile browsers should work, printing within a WebView (when your page is opened by another app such as Facebook or Slack, but not by the full browser itself) is known to not work on many if not all WebViews. Some don't make the correct API available. Others make it available but cause printing to no-op when in WebView.</p> <p>We are actively researching resolutions to this issue, but it likely requires changes by Google/Chromium and Apple/WebKit. See #384 for more information. If you know of a way we can solve this, your help would be greatly appreciated.</p>"},{"location":"react-third-part-lib/103-react-to-print/#known-incompatible-browsers","title":"Known Incompatible Browsers","text":"<ul> <li>Firefox Android (does not support <code>window.print</code>)</li> </ul>"},{"location":"react-third-part-lib/103-react-to-print/#examples","title":"Examples","text":"<pre><code>// Using a class component, everything works without issue\nexport class ComponentToPrint extends React.PureComponent {\n  render() {\n    return (\n      &lt;div&gt;My cool content here!&lt;/div&gt;\n    );\n  }\n}\n\n// Using a functional component, you must wrap it in React.forwardRef, and then forward the ref to\n// the node you want to be the root of the print (usually the outer most node in the ComponentToPrint)\n// https://reactjs.org/docs/refs-and-the-dom.html#refs-and-function-components\nexport const ComponentToPrint = React.forwardRef((props, ref) =&gt; {\n  return (\n    &lt;div ref={ref}&gt;My cool content here!&lt;/div&gt;\n  );\n});\n</code></pre>"},{"location":"react-third-part-lib/103-react-to-print/#calling-from-class-components","title":"Calling from class components","text":"<pre><code>import React from 'react';\nimport ReactToPrint from 'react-to-print';\n\nimport { ComponentToPrint } from './ComponentToPrint';\n\nclass Example extends React.PureComponent {\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;ReactToPrint\n          trigger={() =&gt; {\n            // NOTE: could just as easily return &lt;SomeComponent /&gt;. Do NOT pass an `onClick` prop\n            // to the root node of the returned component as it will be overwritten.\n            return &lt;a href=\"#\"&gt;Print this out!&lt;/a&gt;;\n          }}\n          content={() =&gt; this.componentRef}\n        /&gt;\n        &lt;ComponentToPrint ref={el =&gt; (this.componentRef = el)} /&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>"},{"location":"react-third-part-lib/103-react-to-print/#calling-from-class-components-with-printcontextconsumer","title":"Calling from class components with <code>PrintContextConsumer</code>","text":"<pre><code>import React from 'react';\nimport ReactToPrint, { PrintContextConsumer } from 'react-to-print';\n\nimport { ComponentToPrint } from './ComponentToPrint';\n\nclass Example extends React.PureComponent {\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;ReactToPrint content={() =&gt; this.componentRef}&gt;\n          &lt;PrintContextConsumer&gt;\n            {({ handlePrint }) =&gt; (\n              &lt;button onClick={handlePrint}&gt;Print this out!&lt;/button&gt;\n            )}\n          &lt;/PrintContextConsumer&gt;\n        &lt;/ReactToPrint&gt;\n        &lt;ComponentToPrint ref={el =&gt; (this.componentRef = el)} /&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>"},{"location":"react-third-part-lib/103-react-to-print/#calling-from-functional-components-with","title":"Calling from functional components with","text":"<p>useReactToPrint</p> <pre><code>import React, { useRef } from 'react';\nimport { useReactToPrint } from 'react-to-print';\n\nimport { ComponentToPrint } from './ComponentToPrint';\n\nconst Example = () =&gt; {\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () =&gt; componentRef.current,\n  });\n\n  return (\n    &lt;div&gt;\n      &lt;ComponentToPrint ref={componentRef} /&gt;\n      &lt;button onClick={handlePrint}&gt;Print this out!&lt;/button&gt;\n    &lt;/div&gt;\n  );\n};\n</code></pre>"},{"location":"react-third-part-lib/103-react-to-print/#calling-from-functional-components-with_1","title":"Calling from functional components with","text":"<p>useReactToPrint using <code>content</code> passed to <code>handlePrint()</code></p> <pre><code>import React, { useRef } from 'react';\nimport { useReactToPrint } from 'react-to-print';\n\nexport const AnotherExample = () =&gt; {\n  const contentToPrint = useRef(null);\n  const handlePrint = useReactToPrint({\n    documentTitle: \"Print This Document\",\n    onBeforePrint: () =&gt; console.log(\"before printing...\"),\n    onAfterPrint: () =&gt; console.log(\"after printing...\"),\n    removeAfterPrint: true,\n  });\n\n  return (\n    &lt;&gt;\n      &lt;div ref={contentToPrint}&gt;Hello Again&lt;/div&gt;\n      &lt;button onClick={() =&gt; {\n        handlePrint(null, () =&gt; contentToPrint.current);\n      }}&gt;\n        PRINT\n      &lt;/button&gt;\n    \n  )\n}\n</code></pre> <p>Note (401): In TypeScript, if you encounter <code>componentRef.current</code> error such as: <code>Type 'undefined' is not assignable to type 'ReactInstance | null'.</code>, add <code>null</code> inside the <code>useRef()</code>:</p> <pre><code>const componentRef = useRef(null);\n</code></pre>"},{"location":"react-third-part-lib/103-react-to-print/#known-issues","title":"Known Issues","text":"<ul> <li><code>onAfterPrint</code> may fire immediately (before the print dialog is closed) on newer versions of Safari where <code>window.print</code> does not block</li> </ul>"},{"location":"react-third-part-lib/103-react-to-print/#common-pitfalls","title":"Common Pitfalls","text":"<ul> <li> <p><code>documentTitle</code> will not work if <code>react-to-print</code> is running within an <code>iframe</code>. If <code>react-to-print</code> is running within an <code>iframe</code> and your script has access to the parent document, you may be able to manually set and then restore the parent document's <code>title</code> during the print. This can be done by leveraging the <code>onBeforeGetContent</code> and <code>onAfterPrint</code> props.</p> </li> <li> <p>When printing, only styles that directly target the printed nodes will be applied, since the parent nodes will not exist in the DOM used for the print. For example, in the code below, if the <code>&lt;p&gt;</code> tag is the root of the <code>ComponentToPrint</code> then the red styling will not be applied. Be sure to target all printed content directly and not from unprinted parents.</p> <pre><code>&lt;div className=\"parent\"&gt;\n</code></pre> <p><p>Hello</p> </p> <pre><code>div.parent p { color:red; }\n</code></pre> </li> <li> <p>The <code>connect</code> method from <code>react-redux</code> returns a functional component that cannot be assigned a reference to be used within the <code>content</code> props' callback in <code>react-to-print</code>. To use a component wrapped in <code>connect</code> within <code>content</code> create an intermediate class component that simply renders your component wrapped in <code>connect</code>. See 280 for more.</p> </li> <li> <p>Using a custom component as the return for the <code>trigger</code> props is possible, just ensure you pass along the <code>onClick</code> prop. See 248 for an example.</p> </li> <li> <p>When rendering multiple components to print, for example, if you have a list of charts and want each chart to have its own print icon, ideally you will wrap each component to print + print button in its own component, and just render a list of those components. However, if you cannot do that for some reason, in your <code>.map</code> ensure that each component gets a unique <code>ref</code> value passed to it, otherwise printing any of the components will always print the last component. See 323 for more.</p> </li> </ul>"},{"location":"react-third-part-lib/103-react-to-print/#faq","title":"FAQ","text":""},{"location":"react-third-part-lib/103-react-to-print/#can-react-to-print-be-used-to-download-a-pdf-without-using-the-print","title":"Can <code>react-to-print</code> be used to download a PDF without using the Print","text":"<p>Preview window?</p> <p>No. We aren't able to print a PDF as we lose control once the print preview window opens. However, it should be very easy to use <code>react-to-print</code> to take the information you need an pass it to a library that can generate a PDF.</p> <pre><code>const handlePrint = useReactToPrint({\n  ...,\n  print: async (printIframe: HTMLIframeElement) =&gt; {\n    // Do whatever you want here, including asynchronous work\n    await generateAndSavePDF(printIframe);\n  },\n});\n</code></pre> <p>For examples of how others have done this, see #484</p>"},{"location":"react-third-part-lib/103-react-to-print/#can-the-componenttoprint-be-a-functional-component","title":"Can the <code>ComponentToPrint</code> be a functional component?","text":"<p>Yes, but only if you wrap it with <code>React.forwardRef</code>. <code>react- to-print</code> relies on refs to grab the underlying DOM representation of the component, and functional components cannot take refs by default.</p>"},{"location":"react-third-part-lib/103-react-to-print/#why-does-onafterprint-fire-even-if-the-user-cancels-printing","title":"Why does <code>onAfterPrint</code> fire even if the user cancels printing","text":"<p><code>onAfterPrint</code> fires when the print dialog closes, regardless of why it closes. This is the behavior of the <code>onafterprint</code> browser event.</p>"},{"location":"react-third-part-lib/103-react-to-print/#why-does-react-to-print-skip-link-relstylesheet-href-tags","title":"Why does <code>react-to-print</code> skip <code>&lt;link rel=\"stylesheet\" href=\"\"&gt;</code> tags","text":"<p><code>&lt;link&gt;</code>s with empty <code>href</code> attributes are invalid HTML. In addition, they can cause all sorts of undesirable behavior. For example, many browsers - including modern ones, when presented with <code>&lt;link href=\"\"&gt;</code> will attempt to load the current page. Some even attempt to load the current page's parent directory.</p> <p>Note : related to the above, <code>img</code> tags with empty <code>src</code> attributes are also invalid, and we may not attempt to load them.</p>"},{"location":"react-third-part-lib/103-react-to-print/#how-do-you-make-componenttoprint-show-only-while-printing","title":"How do you make <code>ComponentToPrint</code> show only while printing","text":"<p>If you've created a component that is intended only for printing and should not render in the parent component, wrap that component in a <code>div</code> with style set to <code>{ display: \"none\" }</code>, like so:</p> <pre><code>&lt;div style={{ display: \"none\" }}&gt;&lt;ComponentToPrint ref={componentRef} /&gt;&lt;/div&gt;\n</code></pre> <p>This will hide <code>ComponentToPrint</code> but keep it in the DOM so that it can be copied for printing.</p>"},{"location":"react-third-part-lib/103-react-to-print/#setting-state-in-onbeforegetcontent","title":"Setting state in <code>onBeforeGetContent</code>","text":"<p>Recall that setting state is asynchronous. As such, you need to pass a <code>Promise</code> and wait for the state to update.</p> <pre><code>const [isPrinting, setIsPrinting] = useState(false);\nconst printRef = useRef(null);\n\n// We store the resolve Promise being used in `onBeforeGetContent` here\nconst promiseResolveRef = useRef(null);\n\n// We watch for the state to change here, and for the Promise resolve to be available\nuseEffect(() =&gt; {\n  if (isPrinting &amp;&amp; promiseResolveRef.current) {\n    // Resolves the Promise, letting `react-to-print` know that the DOM updates are completed\n    promiseResolveRef.current();\n  }\n}, [isPrinting]);\n\nconst handlePrint = useReactToPrint({\n  content: () =&gt; printRef.current,\n  onBeforeGetContent: () =&gt; {\n    return new Promise((resolve) =&gt; {\n      promiseResolveRef.current = resolve;\n      setIsPrinting(true);\n    });\n  },\n  onAfterPrint: () =&gt; {\n    // Reset the Promise resolve so we can print again\n    promiseResolveRef.current = null;\n    setIsPrinting(false);\n  }\n});\n</code></pre> <p>Note: for Class components, just pass the <code>resolve</code> to the callback for <code>this.setState</code>: <code>this.setState({ isPrinting: false }, resolve)</code></p>"},{"location":"react-third-part-lib/103-react-to-print/#changing-print-settings-in-the-print-dialog","title":"Changing print settings in the print dialog","text":"<p>Unfortunately there is no standard browser API for interacting with the print dialog. All <code>react-to-print</code> is able to do is open the dialog and give it the desired content to print. We cannot modify settings such as the default paper size, if the user has background graphics selected or not, etc.</p>"},{"location":"react-third-part-lib/103-react-to-print/#printing-video-elements","title":"Printing <code>video</code> elements","text":"<p><code>react-to-print</code> tries to wait for <code>video</code> elements to load before printing but a large part of this is up to the browser. Further, the image displayed will usually be the first frame of the video, which might not be what you expect to show. To ensure the proper image is displayed in the print we highly recommend setting the <code>poster</code> attribute of the <code>video</code>, which allows specifying an image to be a placeholder for the video until the video loads.</p>"},{"location":"react-third-part-lib/103-react-to-print/#electron","title":"Electron","text":"<p><code>react-to-print</code> can be used for printing in Electron, but you will need to provide your own <code>print</code> method since Electron does not natively support the <code>window.print</code> method. Please see this answer on StackOverflow for how to do this.</p> <p>There is a fully-working example of how to use <code>react-to-print</code> with Electron available here.</p>"},{"location":"react-third-part-lib/103-react-to-print/#link-elements-not-displaying-styles-properly","title":"<code>link</code> elements not displaying styles properly","text":"<p>Some frameworks such as Ruby on Rails will set <code>media=\"screen\"</code> on <code>&lt;link&gt;</code> elements that don't have <code>screen</code> set. This can cause styles to appear incorrectly when printing. To fix, explicitly set <code>media=\"screen\"</code> on your <code>&lt;link&gt;</code> elements. For <code>&lt;link&gt;</code> elements meant to apply only when printing, set <code>media=\"print\"</code>.</p>"},{"location":"react-third-part-lib/103-react-to-print/#helpful-style-tips","title":"Helpful Style Tips","text":""},{"location":"react-third-part-lib/103-react-to-print/#set-the-page-orientation","title":"Set the page orientation","text":"<p>While you should be able to place these styles anywhere, sometimes the browser doesn't always pick them up. To force orientation of the page you can include the following in the component being printed:</p> <pre><code>&lt;style type=\"text/css\" media=\"print\"&gt;{\"\\\n  @page {\\ size: landscape;\\ }\\\n\"}&lt;/style&gt;\n</code></pre>"},{"location":"react-third-part-lib/103-react-to-print/#set-the-page-size","title":"Set the page size","text":"<p>The default page size is usually A4. Most browsers do not allow JavaScript or CSS to set the page size. For the browsers that do, it is usually done using the CSS page <code>size</code> property. Check <code>caniuse</code> to see if the browsers you develop against support this.</p> <pre><code>@media print {\n  @page {\n    size: 50mm 150mm;\n  }\n}\n</code></pre>"},{"location":"react-third-part-lib/103-react-to-print/#set-custom-margin-to-the-page-29httpsgithubcomgregnbreact-to-","title":"Set custom margin to the page ([29](https://github.com/gregnb/react-to-","text":"<p>print/issues/29))</p> <p>To set custom margin to the page,</p> <p>First, create a function to return the page margin,</p> <pre><code>const getPageMargins = () =&gt; {\n  return `@page { margin: ${marginTop} ${marginRight} ${marginBottom} ${marginLeft} !important; }`;\n};\n</code></pre> <p>Now, within the JSX call this function within the style tags,</p> <pre><code>&lt;style&gt;{getPageMargins()}&lt;/style&gt;\n</code></pre> <p>PS: This style tag should be inside the component that is being passed in as the content ref.</p>"},{"location":"react-third-part-lib/103-react-to-print/#set-landscape-printing-240httpsgithubcomgregnbreact-to-","title":"Set landscape printing ([240](https://github.com/gregnb/react-to-","text":"<p>print/issues/240))</p> <p>In the component that is passed in as the content ref, add the following:</p> <pre><code>@media print {\n  @page { size: landscape; }\n}\n</code></pre>"},{"location":"react-third-part-lib/103-react-to-print/#printing-elements-that-are-not-displayed","title":"Printing elements that are not displayed","text":"<p>(159)</p> <p>Instead of using <code>{ display: 'none'; }</code>, try using <code>{ overflow: hidden; height: 0; }</code></p>"},{"location":"react-third-part-lib/103-react-to-print/#using-the-pagestyle-prop","title":"Using the <code>pageStyle</code> prop","text":"<p>The <code>pageStyle</code> prop should be a CSS string. For example: <code>\".divider { break- after: always; }\"</code></p>"},{"location":"react-third-part-lib/103-react-to-print/#getting-a-blank-page-when-printing","title":"Getting a blank page when printing","text":"<p>Many have found setting the following CSS helpful. See #26 for more.</p> <pre><code>@media print {\n  html, body {\n    height: 100vh; /* Use 100% here to support printing more than a single page*/\n    margin: 0 !important;\n    padding: 0 !important;\n    overflow: hidden;\n  }\n}\n</code></pre>"},{"location":"react-third-part-lib/103-react-to-print/#when-youve-set-the-removeafterprint-prop-to-true","title":"When you've set the <code>removeAfterPrint</code> prop to <code>true</code>","text":"<p>If you are getting a blank page while setting <code>removeAfterPrint</code> to <code>true</code>, try setting it to <code>false</code>. This will tell the browser not to remove the <code>iframe</code> that we use to print, which it may be doing by mistake, especially on mobile browsers.</p>"},{"location":"react-third-part-lib/103-react-to-print/#styles-incorrect-in-print-dialog-when-using-grid-system","title":"Styles incorrect in print dialog when using grid system","text":"<p>We often (#327, #343, #382) see issues reported where the developer is using Bootstrap or a similar grid system, and everything works great until the user goes to print and suddenly it seems the styles are off. We've found that often the issue is the grid library uses the smallest sized columns during printing, such as the <code>xs</code> size on Bootstrap's grid, a size developers often don't plan for. The simplest solution is to ensure your grid will adapt to this size appropriately, though this may not be acceptable since you may want the large view to print rather than the smaller view. Another solution is to override the grid column definition. Some newer versions of libraries have specific tools for dealing with printing, for example, Bootstrap 4's Display property.</p>"},{"location":"react-third-part-lib/103-react-to-print/#page-breaks","title":"Page Breaks","text":"<p>What to know:</p> <ul> <li><code>break-inside</code> (replaces <code>page-break-inside</code>)</li> <li><code>break-before</code> (replaces <code>page-break-before</code>)</li> <li><code>break-after</code> (replaces <code>page-break-after</code>)</li> </ul>"},{"location":"react-third-part-lib/103-react-to-print/#pattern-for-page-breaking-dynamic-content","title":"Pattern for Page-Breaking Dynamic Content","text":"<p>Define a page-break class to apply to elements which could be sensibly split into a page.</p> <pre><code>&lt;div className=\"print-container\" style={{ margin: \"0\", padding: \"0\" }}&gt;\n  {listOfContent.map(yourContent =&gt; (\n    &lt;&gt;\n      &lt;div className=\"page-break\" /&gt;\n      &lt;div&gt;{yourContent}&lt;/div&gt;\n    \n  )}\n&lt;/div&gt;\n</code></pre> <p>In your styles, define your <code>@media print</code> styles, which should include setting your preference for CSS <code>page-break-</code> (see w3's reference for options) to <code>auto</code>, and ensuring that your <code>page-break</code> element does not affect non- print styles.</p> <pre><code>@media all {\n  .page-break {\n    display: none;\n  }\n}\n\n@media print {\n  html, body {\n    height: initial !important;\n    overflow: initial !important;\n    -webkit-print-color-adjust: exact;\n  }\n}\n\n@media print {\n  .page-break {\n    margin-top: 1rem;\n    display: block;\n    page-break-before: auto;\n  }\n}\n\n@page {\n  size: auto;\n  margin: 20mm;\n}\n</code></pre>"},{"location":"react-third-part-lib/103-react-to-print/#troubleshooting-page-breaks","title":"Troubleshooting Page Breaks","text":"<p>If your content rendered as print media does not automatically break multi- page content into multiple pages, the issue may be</p> <ul> <li>Style incompatibilities with print media rendering</li> <li>A need to assign <code>CSS page-break-</code> properties to define how your document should behave when printed</li> </ul>"},{"location":"react-third-part-lib/103-react-to-print/#common-page-break-pitfalls","title":"Common Page Break Pitfalls","text":"<ul> <li>A style of <code>overflow: scroll</code>, when rendered to print, will result in cut off content instead of page breaks to include the content</li> <li>A style of <code>position: absolute</code>, when rendered to print, may result in reformatted, rotated, or re-scaled content, causing unintended affects to print page layout and page breaks</li> <li>Using <code>flex</code> may interfere with page breaks, try using <code>display: block</code></li> </ul>"},{"location":"react-third-part-lib/103-react-to-print/#handling-scrolling-603httpsgithubcomgregnbreact-to-","title":"Handling Scrolling ([603](https://github.com/gregnb/react-to-","text":"<p>print/issues/603))</p> <p></p> <p>If you need to print the content of a scrolling container, you may encounter the following issues:</p> <ul> <li>Unable to control the scroll position, so the printed content may not be what you want.</li> <li>Overflow content is truncated, resulting in missing printed content.</li> </ul> <p>To solve these problems, you need to modify the properties of the scrolling container when printing. You can pass a function to the <code>print</code> property, which will be called when printing. In this function, you can use the DOM API to query the scrolling container that needs to be modified, and then modify its properties to control the scroll position.</p> <pre><code>const customToPrint = (printWindow) =&gt; {\n  const printContent = printWindow.contentDocument || printWindow.contentWindow?.document;\n  const printedScrollContainer = printContent.querySelector('.scroll-container');\n\n  const originScrollContainer = document.querySelector('.scroll-container');\n\n  // Set the scroll position of the printed container to match the origin container\n  printedScrollContainer.scrollTop = originScrollContainer.scrollTop;\n\n  // You can also set the `overflow` and `height` properties of the printed container to show all content.\n  // printedScrollContainer.style.overflow = \"visible\";\n  // printedScrollContainer.style.height = \"fit-content\";\n\n  printWindow.contentWindow.print();\n}\n\nconst handlePrint = useReactToPrint({\n  // ...\n  print: customToPrint,\n});\n</code></pre>"},{"location":"react-third-part-lib/103-react-to-print/#simple-show-all-content","title":"Simple Show All Content","text":"<p>In addition to the methods in the above example, you can also simply add a CSS class name to the scrolling container when printing to show all content.</p> <p>Set the container to <code>overflow: visible; height: fit-content</code> when printing, cancel the scrolling behavior when the content overflows, and make the height adapt to the content.</p> <pre><code>@media print {\n  .scroll-container {\n    overflow: visible;\n    height: fit-content;\n  }\n}\n</code></pre> <p>Note:</p> <ul> <li>If the styles do not take effect, you can try using the <code>!important</code> modifier.</li> <li>The styles provided in the above instructions are for reference only. Complex situations may require more styles to achieve the desired result. </li> </ul>"},{"location":"react-third-part-lib/103-react-to-print/#running-locally","title":"Running locally","text":"<p>NOTE : The library is tested and built locally using Node &gt;= 20.</p>"},{"location":"react-third-part-lib/112-react-select/","title":"112-react-select","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6634  \u9605\u8bfb14\u5206\u949f</p>"},{"location":"react-third-part-lib/112-react-select/#react-select","title":"react-select","text":""},{"location":"react-third-part-lib/112-react-select/#version","title":"version","text":"<p>5.8.0\u00a0 </p>"},{"location":"react-third-part-lib/112-react-select/#downloads","title":"downloads","text":"<p>4,839,607 </p>"},{"location":"react-third-part-lib/112-react-select/#repository","title":"repository","text":"<p>github.com/JedWatson/react-select/tree/master </p>"},{"location":"react-third-part-lib/112-react-select/#homepage","title":"homepage","text":"<p>github.com/JedWatson/react-select/tree/master#readme </p>"},{"location":"react-third-part-lib/112-react-select/#react-select_1","title":"React-Select","text":"<p>The Select control for React. Initially built for use in KeystoneJS.</p> <p>See react-select.com for live demos and comprehensive docs.</p> <p>React Select is funded by Thinkmill and Atlassian. It represents a whole new approach to developing powerful React.js components that just work out of the box, while being extremely customisable.</p> <p>For the story behind this component, watch Jed's talk at React Conf 2019 - building React Select</p> <p>Features include:</p> <ul> <li>Flexible approach to data, with customisable functions</li> <li>Extensible styling API with emotion</li> <li>Component Injection API for complete control over the UI behaviour</li> <li>Controllable state props and modular architecture</li> <li>Long-requested features like option groups, portal support, animation, and more</li> </ul>"},{"location":"react-third-part-lib/112-react-select/#using-an-older-version","title":"Using an older version?","text":"<ul> <li>v3, v4, and v5 upgrade guide</li> <li>v2 upgrade guide</li> <li>React Select v1 documentation and examples are available at v1.react-select.com</li> </ul>"},{"location":"react-third-part-lib/112-react-select/#installation-and-usage","title":"Installation and usage","text":"<p>The easiest way to use react-select is to install it from npm and build it into your app with Webpack.</p> <pre><code>yarn add react-select\n</code></pre> <p>Then use it in your app:</p>"},{"location":"react-third-part-lib/112-react-select/#with-react-component","title":"With React Component","text":"<pre><code>import React from 'react';\nimport Select from 'react-select';\n\nconst options = [\n  { value: 'chocolate', label: 'Chocolate' },\n  { value: 'strawberry', label: 'Strawberry' },\n  { value: 'vanilla', label: 'Vanilla' },\n];\n\nclass App extends React.Component {\n  state = {\n    selectedOption: null,\n  };\n  handleChange = (selectedOption) =&gt; {\n    this.setState({ selectedOption }, () =&gt;\n      console.log(`Option selected:`, this.state.selectedOption)\n    );\n  };\n  render() {\n    const { selectedOption } = this.state;\n\n    return (\n      &lt;Select\n        value={selectedOption}\n        onChange={this.handleChange}\n        options={options}\n      /&gt;\n    );\n  }\n}\n</code></pre>"},{"location":"react-third-part-lib/112-react-select/#with-react-hooks","title":"With React Hooks","text":"<pre><code>import React, { useState } from 'react';\nimport Select from 'react-select';\n\nconst options = [\n  { value: 'chocolate', label: 'Chocolate' },\n  { value: 'strawberry', label: 'Strawberry' },\n  { value: 'vanilla', label: 'Vanilla' },\n];\n\nexport default function App() {\n  const [selectedOption, setSelectedOption] = useState(null);\n\n  return (\n    &lt;div className=\"App\"&gt;\n      &lt;Select\n        defaultValue={selectedOption}\n        onChange={setSelectedOption}\n        options={options}\n      /&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"react-third-part-lib/112-react-select/#props","title":"Props","text":"<p>Common props you may want to specify include:</p> <ul> <li><code>autoFocus</code> - focus the control when it mounts</li> <li><code>className</code> - apply a className to the control</li> <li><code>classNamePrefix</code> - apply classNames to inner elements with the given prefix</li> <li><code>isDisabled</code> - disable the control</li> <li><code>isMulti</code> - allow the user to select multiple values</li> <li><code>isSearchable</code> - allow the user to search for matching options</li> <li><code>name</code> - generate an HTML input with this name, containing the current value</li> <li><code>onChange</code> - subscribe to change events</li> <li><code>options</code> - specify the options the user can select from</li> <li><code>placeholder</code> - change the text displayed when no option is selected</li> <li><code>noOptionsMessage</code> - ({ inputValue: string }) =&gt; string | null - Text to display when there are no options</li> <li><code>value</code> - control the current value</li> </ul> <p>See the props documentation for complete documentation on the props react-select supports.</p>"},{"location":"react-third-part-lib/112-react-select/#controllable-props","title":"Controllable Props","text":"<p>You can control the following props by providing values for them. If you don't, react-select will manage them for you.</p> <ul> <li><code>value</code> / <code>onChange</code> - specify the current value of the control</li> <li><code>menuIsOpen</code> / <code>onMenuOpen</code> / <code>onMenuClose</code> - control whether the menu is open</li> <li><code>inputValue</code> / <code>onInputChange</code> - control the value of the search input (changing this will update the available options)</li> </ul> <p>If you don't provide these props, you can set the initial value of the state they control:</p> <ul> <li><code>defaultValue</code> - set the initial value of the control</li> <li><code>defaultMenuIsOpen</code> - set the initial open value of the menu</li> <li><code>defaultInputValue</code> - set the initial value of the search input</li> </ul>"},{"location":"react-third-part-lib/112-react-select/#methods","title":"Methods","text":"<p>React-select exposes two public methods:</p> <ul> <li><code>focus()</code> - focus the control programmatically</li> <li><code>blur()</code> - blur the control programmatically</li> </ul>"},{"location":"react-third-part-lib/112-react-select/#customisation","title":"Customisation","text":"<p>Check the docs for more information on:</p> <ul> <li>Customising the styles</li> <li>Using custom components</li> <li>Using the built-in animated components</li> <li>Creating an async select</li> <li>Allowing users to create new options</li> <li>Advanced use-cases</li> <li>TypeScript guide</li> </ul>"},{"location":"react-third-part-lib/112-react-select/#typescript","title":"TypeScript","text":"<p>The v5 release represents a rewrite from JavaScript to TypeScript. The types for v4 and earlier releases are available at @types. See the TypeScript guide for how to use the types starting with v5.</p>"},{"location":"react-third-part-lib/112-react-select/#thanks","title":"Thanks","text":"<p>Thank you to everyone who has contributed to this project. It's been a wild ride.</p> <p>If you like React Select, you should follow me on twitter!</p> <p>Shout out to Joss Mackison, Charles Lee, Ben Conolly, Tom Walker, Nathan Bierema, Eric Bonow, Emma Hamilton, Dave Brotherstone, Brian Vaughn, and the Atlassian Design System team who along with many other contributors have made this possible \u2764\ufe0f</p>"},{"location":"react-third-part-lib/112-react-select/#license","title":"License","text":"<p>MIT Licensed. Copyright \u00a9 Jed Watson 2022.</p>"},{"location":"react-third-part-lib/113-react-image-lightbox/","title":"113-react-image-lightbox","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 7268  \u9605\u8bfb15\u5206\u949f</p>"},{"location":"react-third-part-lib/113-react-image-lightbox/#react-image-lightbox","title":"react-image-lightbox","text":""},{"location":"react-third-part-lib/113-react-image-lightbox/#version","title":"version","text":"<p>5.1.4\u00a0 </p>"},{"location":"react-third-part-lib/113-react-image-lightbox/#downloads","title":"downloads","text":"<p>109,406 </p>"},{"location":"react-third-part-lib/113-react-image-lightbox/#repository","title":"repository","text":"<p>github.com/frontend-collective/react-image-lightbox </p>"},{"location":"react-third-part-lib/113-react-image-lightbox/#homepage","title":"homepage","text":"<p>frontend-collective.github.io/react-image-lightbox </p>"},{"location":"react-third-part-lib/113-react-image-lightbox/#react-image-lightbox_1","title":"React Image Lightbox","text":"<p>A flexible lightbox component for displaying images in a React project.</p> <p>DEMO</p> <p>Features</p> <ul> <li>Keyboard shortcuts (with rate limiting)</li> <li>Image Zoom</li> <li>Flexible rendering using src values assigned on the fly</li> <li>Image preloading for smoother viewing</li> <li>Mobile friendly, with pinch to zoom and swipe (Thanks, @webcarrot!)</li> </ul>"},{"location":"react-third-part-lib/113-react-image-lightbox/#example","title":"Example","text":"<pre><code>import React, { Component } from 'react';\nimport Lightbox from 'react-image-lightbox';\nimport 'react-image-lightbox/style.css'; // This only needs to be imported once in your app\n\nconst images = [\n  '//placekitten.com/1500/500',\n  '//placekitten.com/4000/3000',\n  '//placekitten.com/800/1200',\n  '//placekitten.com/1500/1500',\n];\n\nexport default class LightboxExample extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      photoIndex: 0,\n      isOpen: false,\n    };\n  }\n\n  render() {\n    const { photoIndex, isOpen } = this.state;\n\n    return (\n      &lt;div&gt;\n        &lt;button type=\"button\" onClick={() =&gt; this.setState({ isOpen: true })}&gt;\n          Open Lightbox\n        &lt;/button&gt;\n\n        {isOpen &amp;&amp; (\n          &lt;Lightbox\n            mainSrc={images[photoIndex]}\n            nextSrc={images[(photoIndex + 1) % images.length]}\n            prevSrc={images[(photoIndex + images.length - 1) % images.length]}\n            onCloseRequest={() =&gt; this.setState({ isOpen: false })}\n            onMovePrevRequest={() =&gt;\n              this.setState({\n                photoIndex: (photoIndex + images.length - 1) % images.length,\n              })\n            }\n            onMoveNextRequest={() =&gt;\n              this.setState({\n                photoIndex: (photoIndex + 1) % images.length,\n              })\n            }\n          /&gt;\n        )}\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre> <p>Play with the code on the example on CodeSandbox</p>"},{"location":"react-third-part-lib/113-react-image-lightbox/#options","title":"Options","text":"Property Type Description mainSrc (required) string Main display image url prevSrc string Previous display image url (displayed to the left). If left undefined, <code>onMovePrevRequest</code> will not be called, and the button not displayed nextSrc string Next display image url (displayed to the right). If left undefined, <code>onMoveNextRequest</code> will not be called, and the button not displayed mainSrcThumbnail string Thumbnail image url corresponding to <code>props.mainSrc</code>. Displayed as a placeholder while the full-sized image loads. prevSrcThumbnail string Thumbnail image url corresponding to <code>props.prevSrc</code>. Displayed as a placeholder while the full-sized image loads. nextSrcThumbnail string Thumbnail image url corresponding to <code>props.nextSrc</code>. Displayed as a placeholder while the full-sized image loads. onCloseRequest (required) func Close window event. Should change the parent state such that the lightbox is not rendered onMovePrevRequest func Move to previous image event. Should change the parent state such that <code>props.prevSrc</code> becomes <code>props.mainSrc</code>, <code>props.mainSrc</code> becomes <code>props.nextSrc</code>, etc. onMoveNextRequest func Move to next image event. Should change the parent state such that <code>props.nextSrc</code> becomes <code>props.mainSrc</code>, <code>props.mainSrc</code> becomes <code>props.prevSrc</code>, etc. onImageLoad func Called when an image loads.<code>(imageSrc: string, srcType: string, image: object): void</code> onImageLoadError func Called when an image fails to load.<code>(imageSrc: string, srcType: string, errorEvent: object): void</code> imageLoadErrorMessage node What is rendered in place of an image if it fails to load. Centered in the lightbox viewport. Defaults to the string <code>\"This image failed to load\"</code>. onAfterOpen func Called after the modal has rendered. discourageDownloads bool When <code>true</code>, enables download discouragement (preventing [right-click -&gt; Save Image As...]). Defaults to <code>false</code>. animationDisabled bool When <code>true</code>, image sliding animations are disabled. Defaults to <code>false</code>. animationOnKeyInput bool When <code>true</code>, sliding animations are enabled on actions performed with keyboard shortcuts. Defaults to <code>false</code>. animationDuration number Animation duration (ms). Defaults to <code>300</code>. keyRepeatLimit number Required interval of time (ms) between key actions (prevents excessively fast navigation of images). Defaults to <code>180</code>. keyRepeatKeyupBonus number Amount of time (ms) restored after each keyup (makes rapid key presses slightly faster than holding down the key to navigate images). Defaults to <code>40</code>. imageTitle node Image title (Descriptive element above image) imageCaption node Image caption (Descriptive element below image) imageCrossOrigin string <code>crossorigin</code> attribute to append to <code>img</code> elements (MDN documentation) toolbarButtons node[] Array of custom toolbar buttons reactModalStyle Object Set <code>z-index</code> style, etc., for the parent react-modal (react-modal style format) reactModalProps Object Override props set on react-modal (https://github.com/reactjs/react-modal) imagePadding number Padding (px) between the edge of the window and the lightbox. Defaults to <code>10</code>. clickOutsideToClose bool When <code>true</code>, clicks outside of the image close the lightbox. Defaults to <code>true</code>. enableZoom bool Set to <code>false</code> to disable zoom functionality and hide zoom buttons. Defaults to <code>true</code>. wrapperClassName string Class name which will be applied to root element after React Modal nextLabel string <code>aria-label</code> and <code>title</code> set on the 'Next' button. Defaults to <code>'Next image'</code>. prevLabel string <code>aria-label</code> and <code>title</code> set on the 'Previous' button. Defaults to <code>'Previous image'</code>. zoomInLabel string <code>aria-label</code> and <code>title</code> set on the 'Zoom In' button. Defaults to <code>'Zoom in'</code>. zoomOutLabel string <code>aria-label</code> and <code>title</code> set on the 'Zoom Out' button. Defaults to <code>'Zoom out'</code>. closeLabel string <code>aria-label</code> and <code>title</code> set on the 'Close Lightbox' button. Defaults to <code>'Close lightbox'</code>. loader node Custom Loading indicator for loading"},{"location":"react-third-part-lib/113-react-image-lightbox/#browser-compatibility","title":"Browser Compatibility","text":"Browser Works? Chrome Yes Firefox Yes Safari Yes IE 11 Yes"},{"location":"react-third-part-lib/113-react-image-lightbox/#contributing","title":"Contributing","text":"<p>After cloning the repository and running <code>npm install</code> inside, you can use the following commands to develop and build the project.    </p> <pre><code># Starts a webpack dev server that hosts a demo page with the lightbox.\n# It uses react-hot-loader so changes are reflected on save.\nnpm start\n\n# Lints the code with eslint and my custom rules.\nyarn run lint\n\n# Lints and builds the code, placing the result in the dist directory.\n# This build is necessary to reflect changes if you're\n#  `npm link`-ed to this repository from another local project.\nyarn run build\n</code></pre> <p>Pull requests are welcome!</p> <p>\u200b            </p>"},{"location":"react-third-part-lib/21-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-window/","title":"react-window","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1658  \u9605\u8bfb4\u5206\u949f</p> <p>star 15K</p> <p>https://github.com/bvaughn/react-window</p> <p>\u6e32\u67d3\u5217\u8868\u90e8\u5206\u5185\u5bb9\uff0c\u907f\u514d\u5927\u91cf\u5217\u8868DOM\u8282\u70b9\u5360\u7528\u6027\u80fd\u3002\u9002\u7528\u4e8e\u7b80\u5355\u7684\u8868\u683c\u5185\u5bb9\uff0c\u4f8b\u5982\u7eaf\u6570\u5b57\u7eaf\u6587\u672c\uff0c\u6709\u786e\u5b9a\u7684\u5355\u5143\u683c\u5bbd\u5ea6\uff0c\u4e0d\u9002\u5408\u590d\u6742\u7684\u5217\u7c7b\u578b\u3002</p> <p>\u6e32\u67d3\u884c</p> <pre><code>import { FixedSizeList as List } from 'react-window';\n\nconst Row = ({ index, style }) =&gt; (\n  &lt;div style={style}&gt;Row {index}&lt;/div&gt;\n);\n\nconst Example = () =&gt; (\n  &lt;List\n    height={150}\n    itemCount={1000}\n    itemSize={35}\n    width={300}\n  &gt;\n    {Row}\n  &lt;/List&gt;\n);\n</code></pre> <p>\u6e32\u67d3\u5217</p> <pre><code>import { FixedSizeList as List } from 'react-window';\n\nconst Column = ({ index, style }) =&gt; (\n  &lt;div style={style}&gt;Column {index}&lt;/div&gt;\n);\n\nconst Example = () =&gt; (\n  &lt;List\n    height={75}\n    itemCount={1000}\n    itemSize={100}\n    layout=\"horizontal\"\n    width={300}\n  &gt;\n    {Column}\n  &lt;/List&gt;\n);\n</code></pre> <p>\u6e32\u67d3\u8868\u683c\uff0c\u907f\u514d\u6e32\u67d3\u5927\u91cf\u8282\u70b9 dom \u7136\u540e\u6d4f\u89c8\u5668\u5d29\u6e83</p> <pre><code>import { VariableSizeGrid as Grid } from 'react-window';\n\n// These item sizes are arbitrary \u4efb\u610f\u7684.\n// Yours should be based on the content of the item.\nconst columnWidths = new Array(1000)\n  .fill(true)\n  .map(() =&gt; 75 + Math.round(Math.random() * 50));\n\nconst rowHeights = new Array(1000)\n  .fill(true)\n  .map(() =&gt; 25 + Math.round(Math.random() * 50));\n\nconst Cell = ({ columnIndex, rowIndex, style }) =&gt; (\n  &lt;div style={style}&gt;\n    Item {rowIndex},{columnIndex}\n  &lt;/div&gt;\n);\n\nconst Example = () =&gt; (\n  &lt;Grid\n    columnCount={1000}\n    columnWidth={index =&gt; columnWidths[index]}\n    height={150}\n    rowCount={1000}\n    rowHeight={index =&gt; rowHeights[index]}\n    width={300}\n  &gt;\n    {Cell}\n  &lt;/Grid&gt;\n);\n</code></pre>"},{"location":"react-third-part-lib/22-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-mentions/","title":"React-mentions \u5e93\u4ecb\u7ecd","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6931  \u9605\u8bfb14\u5206\u949f</p> <p>https://github.com/signavio/react-mentions</p> <p>2.3K</p> <p>\u6700\u8fd1\u9700\u8981\u505a\u4e00\u4e2a\u7c7b\u4f3c\u5fae\u535a\u8bc4\u8bba\u529f\u80fd@\u7528\u6237\u7684\u529f\u80fd\uff0c\u624b\u5199JS\u7684\u6548\u7387\u5f88\u4f4e\uff0c\u6240\u4ee5\u4f7f\u7528 React-mentions \u5e93\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u3002\u770b\u4e86\u4e00\u4e0b\u7f51\u4e0a\u6ca1\u4e2d\u6587\u4ecb\u7ecd\uff0c\u6240\u4ee5\u81ea\u5df1\u770b\u5b8c\u82f1\u6587\u4ecb\u7ecd\u7b80\u5355\u603b\u7ed3\u4e00\u4e2a\u4e2d\u6587\u4ecb\u7ecd\u3002</p>"},{"location":"react-third-part-lib/22-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-mentions/#_1","title":"\u4f7f\u7528","text":""},{"location":"react-third-part-lib/22-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-mentions/#1","title":"1\u3001\u5b89\u88c5","text":"<p>npm \u5b89\u88c5</p> <pre><code>npm install react-mentions --save\n</code></pre>"},{"location":"react-third-part-lib/22-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-mentions/#2","title":"2\u3001\u5bfc\u5165","text":"<p>The package exports two React components for rendering the mentions textarea:</p> <p>\u53ef\u4ee5\u4f7f\u7528\u4e24\u4e2aReact\u7ec4\u4ef6\u6765\u6e32\u67d3 textarea</p> <pre><code>import { MentionsInput, Mention } from 'react-mentions';\n</code></pre> <p><code>MensionsInput</code> \u7236\u7ec4\u4ef6\u662f\u4e3b\u8981\u7684\u6e32\u67d3\u8f93\u5165\u6846\uff08textarea\uff09\uff0c\u5185\u90e8\u6709\u4e00\u4e2a\u6216\u8005\u591a\u4e2a <code>Mension</code> \u5b50\u7ec4\u4ef6\uff0c\u6bcf\u4e00\u4e2a\u5b50\u7ec4\u4ef6\u4ee3\u8868\u7279\u5b9a\u7684\u63d0\u53ca\u7684\u6570\u636e\u5bf9\u8c61\uff08\u7528\u6237\u3001\u95ee\u9898\u3001\u6a21\u677f\u53d8\u91cf\u7b49\uff0c\u4f7f\u7528\u4e0d\u540c\u7684\u63d0\u793a\u7b26\u53f7\uff09\u3002\u4f8b\u5982\uff1a</p> <pre><code>&lt;MentionsInput value={this.state.value} onChange={this.handleChange}&gt;\n  &lt;Mention\n    trigger=\"@\"\n    data={this.props.users}\n    renderSuggestion={this.renderUserSuggestion}\n  /&gt;\n  &lt;Mention\n    trigger=\"#\"\n    data={this.requestTag}\n    renderSuggestion={this.renderTagSuggestion}\n  /&gt;\n&lt;/MentionsInput&gt;\n</code></pre> <p>\u66f4\u591a\u94fe\u63a5\u8bf7\u70b9\u51fb\uff1ahttps://github.com/signavio/react-mentions/tree/master/demo/src/examples</p>"},{"location":"react-third-part-lib/22-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-mentions/#_2","title":"\u914d\u7f6e","text":""},{"location":"react-third-part-lib/22-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-mentions/#1_1","title":"1\u3001\u7236\u7ec4\u4ef6","text":"<p>MentionsInput \u652f\u6301\u4e0b\u9762\u7684 props\uff1a</p> Props \u540d\u79f0 \u7c7b\u578b Default value Description value string <code>''</code> \u8f93\u5165\u6846\u7684\u5185\u5bb9 onChange function (event, newValue, newPlainTextValue, mentions) empty function \u8f93\u5165\u6846\u53d8\u5316\u7684\u56de\u8c03\u51fd\u6570 singleLine boolean <code>false</code> \u6e32\u67d3\u4e00\u4e2a\u5355\u4e0b\u5212\u7ebf\u7684\u8f93\u5165\u6846\u8fd8\u662f\u4e00\u4e2a textarea\u3002 onBlur function (event, clickedSuggestion) empty function \u8f93\u5165\u6846\u5931\u53bb\u7126\u70b9\u56de\u8c03\u51fd\u6570 allowSpaceInQuery boolean false \u67e5\u8be2\u5173\u952e\u8bcd\u4e2d\u95f4\u662f\u5426\u652f\u6301\u7a7a\u683c suggestionsPortalHost DOM Element undefined Render suggestions into the DOM in the supplied host element. inputRef React ref undefined ref \u53ef\u4ee5\u83b7\u53d6DOM\u5143\u7d20"},{"location":"react-third-part-lib/22-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-mentions/#2_1","title":"2\u3001\u5b50\u7ec4\u4ef6","text":"<p>\u6bcf\u4e00\u4e2a\u6570\u636e\u6e90\u90fd\u4f7f\u7528 Mention \u5b50\u7ec4\u4ef6\uff0c\u5177\u6709\u4e0b\u9762\u7684 props \u914d\u7f6e</p> Prop name Type Default value Description trigger regexp or string <code>'@'</code> Defines the char sequence upon which to trigger querying the data source  \u89e6\u53d1\u5668\uff0c\u5f88\u91cd\u8981 data array or function (search, callback) <code>null</code> An array of the mentionable data entries (objects with <code>id</code> &amp; <code>display</code> keys, or a filtering function that returns an array based on a query parameter  \u4e00\u4e2a\u6570\u7ec4\u6216\u8005\u4e00\u4e2a\u8fc7\u6ee4\u51fd\u6570\uff0c\u53ef\u4ee5\u6839\u636e\u4e00\u4e2a\u67e5\u8be2\u53c2\u6570\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\u7684\u51fd\u6570\uff0c\u5f88\u91cd\u8981 renderSuggestion function (entry, search, highlightedDisplay, index, focused) <code>null</code> Allows customizing how mention suggestions are rendered (optional)    \u53ef\u9009\u53c2\u6570\uff0c\u5141\u8bb8\u81ea\u5b9a\u4e49\u5982\u4f55\u6e32\u67d3\u6587\u672c\u5efa\u8bae markup string <code>'@[__display__](__id__)'</code> A template string for the markup to use for mentions \u7528\u4e8e\u6807\u8bb0\u7684\u6a21\u677f\u5b57\u7b26\u4e32\uff08\u7528\u4e8e@\u7528\u6237\uff09 displayTransform function (id, display) returns <code>display</code> Accepts a function for customizing the string that is displayed for a mention \u81ea\u5b9a\u4e49\u5b57\u7b26\u4e32\u6765\u8bbe\u7f6e\u63d0\u9192\uff08\u4f8b\u5982\u4f7f\u7528 foo \u4ee3\u66ff @\uff09 regex RegExp automatically derived from <code>markup</code> pattern Allows providing a custom regular expression for parsing your markup and extracting the placeholder interpolations (optional) onAdd function (id, display) empty function Callback invoked when a suggestion has been added (optional) \u5f53\u5efa\u8bae\u9009\u9879\u88ab\u6dfb\u52a0\u540e\u7684\u56de\u8c03\u51fd\u6570 appendSpaceOnAdd boolean <code>false</code> Append a space when a suggestion has been added (optional) \u5f53\u5019\u9009\u4eba\u88ab\u6dfb\u52a0\u540e\uff0c\u52a0\u5165\u4e00\u4e2a\u7a7a\u683c\uff08\u9ed8\u8ba4\u4e0d\u52a0\u5165\uff09 <p>\u5982\u679cdata\u53c2\u6570\u4e2d\u4f20\u5165\u4e00\u4e2a\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5f53\u524d\u7684\u641c\u7d22\u51fd\u6570\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u56de\u8c03\u51fd\u6570\u3002\u56de\u8c03\u51fd\u6570\u53ef\u4ee5\u5f02\u6b65\u63d0\u4f9b\u7ed3\u679c\uff08\u5982\u679c\u7528\u6237\u7684\u8f93\u5165\u53d1\u751f\u53d8\u5316\uff0c\u56de\u8c03\u51fd\u6570\u53ef\u4ee5\u591a\u6b21\u8c03\u7528\uff0c\u66f4\u65b0\u5019\u9009\u4eba\u83dc\u5355\uff09\u3002</p>"},{"location":"react-third-part-lib/22-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-mentions/#_3","title":"\u6837\u5f0f","text":"<p>\u7ec4\u4ef6\u652f\u6301\u884c\u5185\u6837\u5f0f\uff0c\u5916\u8054\u6837\u5f0f\u7b49\u3002\u5982\u679c\u4f60\u60f3\u4f7f\u7528CSS\uff0c\u53ea\u9700\u8981\u5728\u7236\u7ec4\u4ef6\u4e0a\u8bbe\u7f6e\u4e00\u4e2a className \uff0c\u6240\u6709\u7684DOM\u7ec4\u4ef6\u90fd\u4f1a\u52a0\u4e0a\u8fd9\u4e2a\u524d\u7f00\u3002</p>"},{"location":"react-third-part-lib/22-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-mentions/#_4","title":"\u6e90\u7801","text":"<p>\u4e0b\u9762\u662f\u6e90\u7801\u94fe\u63a5</p> <p>github \u94fe\u63a5\uff1ahttps://github.com/signavio/react-mentions</p> <p>npm \u94fe\u63a5\uff1ahttps://www.npmjs.com/package/react-mentions</p>"},{"location":"react-third-part-lib/22-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-mentions/#_5","title":"\u601d\u8def","text":"<p>\u521a\u5f00\u59cb\u81ea\u5df1\u624b\u52a8\u5199\u8fd9\u4e2a\u529f\u80fd\u7684\u601d\u8def\uff08\u57fa\u4e8eReact\u6846\u67b6\uff09\uff1a</p> <p>1\u3001\u6355\u83b7textarea\u533a\u57df\u7684\u8f93\u5165\u4e8b\u4ef6\uff0c\u5f53 event.target.keyCode \u662f\u5bf9\u5e94\u7684\u952e\uff08\u4f8b\u5982@\u65f6\uff09\uff0c\u6253\u5f00\u4e00\u4e2a\u4e0b\u62c9\u83dc\u5355\u3002</p> <p>2\u3001\u7ee7\u7eed\u6355\u83b7\u7528\u6237\u8f93\u5165\uff0c\u5c06\u5f53\u524d@\u540e\u9762\u8f93\u5165\u7684\u5b57\u7b26\u83b7\u53d6\u5230\uff0c\u8c03\u7528\u540e\u7aefAPI\u641c\u7d22\u7b26\u5408\u6761\u4ef6\u7684\u7528\u6237\uff0c\u5c06\u83b7\u53d6\u7684\u7ed3\u679c\u6570\u7ec4\u5c55\u793a\u5230\u4e0b\u62c9\u83dc\u5355\u4e2d\u3002\u5982\u679c\u6ca1\u6709\u7ed3\u679c\u4e0b\u62c9\u83dc\u5355\u4e2d\u663e\u793a\u201d\u6ca1\u6709\u627e\u5230\u8fd9\u4e2a\u7528\u6237\u201c\u3002</p> <p>3\u3001\u5982\u679c\u7528\u6237\u7ee7\u7eed\u8f93\u5165\uff0c\u91cd\u590d\u6b65\u9aa4\u4e8c\uff1b\u5982\u679c\u7528\u6237\u70b9\u51fb\u83dc\u5355\u4e2d\u67d0\u4e2a\u9009\u9879\uff0c\u8c03\u7528\u540e\u7aefAPI\u5c06\u8fd9\u4e2a\u7528\u6237\u7684\u4fe1\u606f\u53d1\u9001\u5373\u53ef\uff0c\u5173\u95ed\u4e0b\u62c9\u83dc\u5355\u3002</p> <p>\u96be\u70b9\uff1a\u5982\u679c@\u591a\u4eba\uff0c\u4f7f\u7528\u5b57\u7b26\u4e32\u5207\u5272\u5173\u952e\u8bcd\u53ef\u80fd\u51fa\u73b0\u95ee\u9898\uff1b\u5982\u679c\u7528\u6237\u9891\u7e41\u8f93\u5165\u5220\u9664\uff0c\u9700\u8981\u5927\u91cf\u540e\u7aef\u8bf7\u6c42\uff08\u73b0\u5728\u6ca1\u6709\u8bbe\u7f6e\u7f13\u5b58\uff09\u6027\u80fd\u4e0d\u4f73\u3002</p>"},{"location":"react-third-part-lib/23-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-loading-skeleton/","title":"React \u52a0\u8f7d\u9aa8\u67b6(Loading Skeleton)","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 979  \u9605\u8bfb2\u5206\u949f</p> <p>React \u52a0\u8f7d\u9aa8\u67b6(Loading Skeleton)\u662f\u4e00\u4e2a\u52a8\u753b\u52a0\u8f7d\u9aa8\u67b6\u7ec4\u4ef6\uff0c\u7528\u4e8e\u521b\u5efa\u81ea\u52a8\u9002\u5e94\u4f60\u5e94\u7528\u7a0b\u5e8f\u7684\u9aa8\u67b6\u5c4f\u5e55\u3002</p> <p>https://github.com/dvtng/react-loading-skeleton</p> <p>\u4ee3\u7801 3.7K stars \u8fd1\u671f\u4e5f\u5728\u7ef4\u62a4\u66f4\u65b0</p>"},{"location":"react-third-part-lib/23-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-loading-skeleton/#_1","title":"\u5b89\u88c5","text":"<p>Npm</p> <pre><code>npm i react-loading-skeleton\n</code></pre>"},{"location":"react-third-part-lib/23-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-loading-skeleton/#_2","title":"\u57fa\u672c\u4f7f\u7528","text":"<p>\u5f15\u5165</p> <pre><code>import Skeleton from 'react-loading-skeleton';\n</code></pre> <p>\u57fa\u672c\u7528\u6cd5</p> <pre><code>&lt;Skeleton/&gt;\n</code></pre> <p>\u4e3b\u9898\u4f7f\u7528<code>&lt;SkeletonTheme&gt;</code>\u7ec4\u4ef6\uff0c\u7528\u6237\u53ef\u4ee5\u8f7b\u677e\u7684\u6539\u53d8\u9aa8\u67b6\u7684\u989c\u8272\u3002</p> <pre><code>import Skeleton, { SkeletonTheme } from \"react-loading-skeleton\";\n\n&lt;SkeletonTheme color=\"#202020\" highlightColor=\"#444\"&gt;\n  &lt;p&gt;\n    &lt;Skeleton   \n      count={3} // \u52a0\u8f7d\u9aa8\u67b6\u4e94\u884c\n      duration={2} // \u6301\u7eed\u65f6\u95f4\n      width={100}\n      height={100}\n      circle={true} // \u5706\u5f62\n     /&gt;\n  &lt;/p&gt;\n&lt;/SkeletonTheme&gt;;\n</code></pre>"},{"location":"react-third-part-lib/23-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-loading-skeleton/#_3","title":"\u793a\u4f8b","text":""},{"location":"react-third-part-lib/24-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-konva/","title":"React \u6846\u67b6\u4e0b canvas \u8c03\u7814","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 11440  \u9605\u8bfb23\u5206\u949f</p>"},{"location":"react-third-part-lib/24-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-konva/#canvas","title":"\u539f\u751f canvas \u95ee\u9898","text":"<p>react \u4e0b\u9762\u79fb\u52a8\u7aef canvas \u6027\u80fd\u4e0d\u597d\uff0c\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528\u79fb\u52a8\u7aef\u786c\u4ef6\u52a0\u901f\uff0c\u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528\u5e93\u5b9e\u73b0 canvas \u548c\u7b80\u5355\u56fe\u5f62\u7f16\u8f91\u6548\u679c\u3002\u4f7f\u7528\u65f6\uff0c\u53c2\u8003\u6700\u65b0\u7684\u5b98\u7f51\u6587\u6863\uff08\u4e0b\u9762\u7684\u6848\u4f8b\u662f\u65e7\u7684 class \u6587\u6863\uff0c\u65b0\u6587\u6863\u5b8c\u5168 hooks \u4e86\uff09\u3002</p>"},{"location":"react-third-part-lib/24-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-konva/#react-konva","title":"React Konva","text":"<p>https://github.com/konvajs/react-konva</p> <p>https://www.npmjs.com/package/react-konva</p> <p>Stras 5.5K</p> <p>\u8fd9\u4e2a\u662f\u590d\u6742\u753b\u5e03\u7ed8\u56fe\u7684\u5de5\u5177 React Konva is a JavaScript library for drawing complex canvas graphics using React. It provides declarative and reactive bindings to the Konva Framework.</p>"},{"location":"react-third-part-lib/24-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-konva/#installation","title":"Installation","text":"<pre><code>npm install react-konva konva --save\n</code></pre>"},{"location":"react-third-part-lib/24-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-konva/#example","title":"Example","text":"<p>To get more info about <code>Konva</code> you can read Konva Overview.</p> <p>Actually you don't need to learn <code>react-konva</code>. Just learn <code>Konva</code> framework, you will understand how to use <code>react-konva</code></p> <p>konva \u548c react-konva \u662f\u7c7b\u4f3c\u7684\u529f\u80fd\uff0c\u6240\u4ee5\u53c2\u8003 konva \u7684\u6587\u6863\u5373\u53ef\u5b66\u4e60 react-conva</p> <pre><code>import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { Stage, Layer, Rect, Text } from 'react-konva';\nimport Konva from 'konva';\n\nclass ColoredRect extends React.Component {\n  state = {\n    color: 'green'\n  };\n  handleClick = () =&gt; {\n    this.setState({\n      color: Konva.Util.getRandomColor()\n    });\n  };\n  render() {\n    return (\n      &lt;Rect\n        x={20}\n        y={20}\n        width={50}\n        height={50}\n        fill={this.state.color}\n        shadowBlur={5}\n        onClick={this.handleClick}\n      /&gt;\n    );\n  }\n}\n\nclass App extends Component {\n  render() {\n    // Stage is a div container\n    // Layer is actual canvas element (so you may have several canvases in the stage)\n    // And then we have canvas shapes inside the Layer\n    return (\n      &lt;Stage width={window.innerWidth} height={window.innerHeight}&gt;\n        &lt;Layer&gt;\n          &lt;Text text=\"Try click on rect\" /&gt;\n          &lt;ColoredRect /&gt;\n        &lt;/Layer&gt;\n      &lt;/Stage&gt;\n    );\n  }\n}\n\nrender(&lt;App /&gt;, document.getElementById('root'));\n</code></pre>"},{"location":"react-third-part-lib/24-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-konva/#core-api","title":"Core API","text":"<p><code>react-konva</code> supports all shapes, that <code>Konva</code> supports with the same names, and also it supports all the same events like <code>click</code>, <code>touchmove</code>, <code>dragend</code>, etc with \"on\" prefix like <code>onClick</code>, <code>onTouchMove</code>, <code>onDragEnd</code>.</p>"},{"location":"react-third-part-lib/24-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-konva/#getting-reference-to-konva-objects","title":"Getting reference to Konva objects","text":"<p>To get reference of <code>Konva</code> instance of a node you can use <code>ref</code> property.</p> <pre><code>class MyShape extends React.Component {\n\n  componentDidMount() {\n    // log Konva.Circle instance\n    console.log(this.circle);\n  }\n\n  render() {\n    return &lt;Circle ref={ref =&gt; (this.circle = ref)} radius={50} fill=\"black\" /&gt;;\n  }\n}\n</code></pre>"},{"location":"react-third-part-lib/24-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-konva/#minimal-bundle","title":"Minimal bundle","text":"<p>By default <code>react-konva</code> imports full <code>Konva</code> version. With all the shapes and all filters. To minimize bundle size you can use minimal core version of <code>react-konva</code>:</p> <pre><code>// load minimal version of 'react-konva`\nimport { Stage, Layer, Rect } from \"react-konva/lib/ReactKonvaCore\";\n\n// minimal version has NO support for core shapes and filters\n// if you want import a shape into Konva namespace you can just do this:\nimport \"konva/lib/shapes/Rect\";\n</code></pre> <p>Demo: https://codesandbox.io/s/6l97wny44z</p>"},{"location":"react-third-part-lib/24-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-konva/#usage-with-react-context","title":"Usage with React Context","text":"<p>Due to a known issue with React, Contexts are not accessible by children of the react-konva <code>Stage</code> component. If you need to subscribe to a context from within the <code>Stage</code>, you need to \"bridge\" the context by creating a <code>Provider</code> as a child of the <code>Stage</code>. For more info, see this discussion and this react-redux demo. Here is an example of bridging the context (live demo):</p> <pre><code>import React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport Konva from \"konva\";\nimport { Stage, Layer, Rect } from \"react-konva\";\n\nconst ThemeContext = React.createContext(\"red\");\n\nconst ThemedRect = () =&gt; {\n  const value = React.useContext(ThemeContext);\n  return (\n    &lt;Rect x={20} y={50} width={100} height={100} fill={value} shadowBlur={10} /&gt;\n  );\n};\n\nconst Canvas = () =&gt; {\n  return (\n    &lt;ThemeContext.Consumer&gt;\n      {value =&gt; (\n        &lt;Stage width={window.innerWidth} height={window.innerHeight}&gt;\n          &lt;ThemeContext.Provider value={value}&gt;\n            &lt;Layer&gt;\n              &lt;ThemedRect /&gt;\n            &lt;/Layer&gt;\n          &lt;/ThemeContext.Provider&gt;\n        &lt;/Stage&gt;\n      )}\n    &lt;/ThemeContext.Consumer&gt;\n  );\n};\n\nclass App extends Component {\n  render() {\n    return (\n      &lt;ThemeContext.Provider value=\"blue\"&gt;\n        &lt;Canvas /&gt;\n      &lt;/ThemeContext.Provider&gt;\n    );\n  }\n}\n</code></pre>"},{"location":"react-third-part-lib/24-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-konva/#comparisons","title":"Comparisons","text":""},{"location":"react-third-part-lib/24-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-konva/#react-konva-vs-react-canvas","title":"react-konva vs react-canvas","text":"<p>react-canvas is a completely different react plugin. It allows you to draw DOM-like objects (images, texts) on canvas element in very performant way. It is NOT about drawing graphics, but react-konva is exactly for drawing complex graphics on <code>&lt;canvas&gt;</code> element from React.</p>"},{"location":"react-third-part-lib/24-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-konva/#react-konva-vs-react-art","title":"react-konva vs react-art","text":"<p>react-art allows you to draw graphics on a page. It also supports SVG for output. But it has no support of events of shapes.</p>"},{"location":"react-third-part-lib/24-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-konva/#react-konva-vs-vanilla-canvas","title":"react-konva vs vanilla canvas","text":"<p>Vanilla canvas is faster because when you use <code>react-konva</code> you have two layers of abstractions. Konva framework is on top of canvas and React is on top of Konva. Depending on the use case this approach can be slow. The purpose of <code>react-konva</code> is to reduce the complexity of the application and use well-known declarative way for drawing on canvas.</p>"},{"location":"react-third-part-lib/24-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-konva/#_1","title":"\u5b9e\u9645\u6848\u4f8b","text":"<p>JS \u7ed8\u5236\u4e00\u4e2a\u9080\u8bf7\u6d77\u62a5</p> <pre><code>import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Stage, Layer, Text, Image as KImage, Circle } from 'react-konva';\n\nconst { qrcodeSrc } = window.app.pageOptions;\n\nclass InvitePoster extends Component {\n\n  async componentDidMount() {\n    const { width, height, textY, avatarY, qrcodeY, scale } = this.getPosterSize();\n    const bgImage = {\n      name: 'bgImage',\n      width: width,\n      height: height,\n      url: `poster-background.jpg`\n    };\n    const avatarImage = {\n      name: 'avatarImage',\n      width: 50,\n      height: 50,\n      url: appAvatarURL\n    };\n    const qrcodeImage = {\n      name: 'qrCodeImage',\n      width: 60,\n      height: 60,\n      url: qrcodeSrc\n    };\n\n    try {\n      const backImg = await this.loadImage(bgImage);\n      const avatarImg = await this.loadImage(avatarImage);\n      const qrcodeImg = await this.loadImage(qrcodeImage);\n      this.setState({\n        posterWidth: width,\n        posterHeight: height,\n        textY,\n        avatarY,\n        qrcodeY,\n        scale,\n        backImg,\n        avatarImg,\n        qrcodeImg,\n        isLoading: false,\n      });\n    } catch(err) {\n      this.setState({isLoading: false});\n    }\n    window.addEventListener('resize', this.resize.bind(this));\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.resize);\n  }\n\n  getPosterSize = () =&gt; {\n    const width = document.querySelector('body').offsetWidth;\n    const height = document.querySelector('body').offsetHeight;\n    let bgImageWidth = width - 2 * 30;\n    let bgImageHeight = height - 2 * 30 - 40;\n    if (width &lt;= 320) {\n      return {\n        width: bgImageWidth,\n        height: bgImageHeight,\n        avatarY: 285,\n        textY: 310,\n        qrcodeY: 410,\n        scale: 0.8\n      };\n    }\n\n    if (width === 360 &amp;&amp; height === 640) {\n      // android\n      return {\n        width: bgImageWidth,\n        height: 540,\n        avatarY: 330,\n        textY: 360,\n        qrcodeY: 475,\n        scale: 0.9\n      };\n    }\n\n    if (width &lt;= 375) {\n      if (bgImageHeight &gt; 700) {\n        return {\n          width: 340,\n          height: 620,\n          avatarY: 390,\n          textY: 420,\n          qrcodeY: 547,\n          scale: 1\n        };\n      }\n      return {\n        width: bgImageWidth,\n        height: bgImageHeight,\n        avatarY: 350,\n        textY: 380,\n        qrcodeY: 495,\n        scale: 1\n      };\n    } \n\n    if (width &lt; 768) {\n      return {\n        width: 340,\n        height: 620,\n        avatarY: 390,\n        textY: 420,\n        qrcodeY: 547,\n        scale: 1\n      };\n    }\n\n    if (width &gt;= 768) { // pc\n      return {\n        width: 340,\n        height: 620,\n        avatarY: 390,\n        textY: 420,\n        qrcodeY: 547,\n        scale: 1\n      };\n    }\n  }\n\n  loadImage = (imgInfo) =&gt; {\n    return new Promise((resolve, reject) =&gt; {\n      const { width, height, url } = imgInfo;\n      let img = new Image();\n      img.src = url;\n      img.width = width;\n      img.height = height;\n      img.onload = () =&gt; {\n        resolve(img);\n      };\n      img.onerror = () =&gt; {\n        reject(imgInfo);\n      };\n    });\n  }\n\n  resize = async () =&gt; {\n    const { width, height, textY, avatarY, qrcodeY, scale } = this.getPosterSize();\n    const bgImage = {\n      name: 'bgImage',\n      width: width,\n      height: height,\n      url: `background.jpg`\n    };\n    const backImg = await this.loadImage(bgImage);\n    this.setState({\n      backImg: backImg,\n      posterWidth: width,\n      posterHeight: height,\n      textY,\n      avatarY,\n      qrcodeY,\n      scale\n    });\n  }\n\n  genPosterImg = (instance) =&gt; {\n    if (instance) {\n      // \u751f\u6210\u56fe\u7247\uff0c\u624b\u673a\u53ef\u4ee5\u957f\u6309\u4fdd\u5b58\n      let posterImg = new Image();\n      posterImg.crossOrigin = 'anonymous';\n      posterImg.src = instance.toDataURL({pixelRatio: 2});\n      posterImg.style.cssText = 'width:100%;height:100%;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;';\n\n      document.body.appendChild(posterImg);\n    }\n  }\n\n  render() {\n    let { backImg, avatarImg, qrcodeImg, isLoading } = this.state;\n    const { posterWidth, posterHeight, avatarY, textY, qrcodeY, scale } = this.state;\n    return (\n      &lt;div className='poster-invite'&gt;\n        &lt;div className=\"poster-container\"&gt;\n          &lt;Stage width={posterWidth} height={posterHeight} ref={this.genPosterImg}&gt;\n            &lt;Layer scaleY={1.0} scaleX={1.0}&gt;\n              &lt;KImage\n                x={0}\n                y={0}\n                width= {backImg.imgWidth}\n                height={backImg.imgHeight}\n                image={backImg}\n              /&gt;\n              &lt;Circle\n                x={42}\n                y={avatarY}\n                radius={25}\n                fillPatternImage={avatarImg}\n                fillPatternRepeat={'no-repeat'}\n                fillPatternOffsetX={36}\n                fillPatternOffsetY={36}\n                scaleX={scale}\n                scaleY={scale}\n              /&gt;\n              &lt;Text\n                x={18}\n                y={textY}\n                text={name}\n                fontSize={18}\n                fill={'#72340b'}\n                scaleX={scale}\n                scaleY={scale}\n              /&gt;\n              &lt;KImage\n                x={2}\n                y={qrcodeY}\n                scaleX={scale}\n                scaleY={scale}\n                width={qrcodeImg.width}\n                height={qrcodeImg.height}\n                image={qrcodeImg}\n              /&gt;\n            &lt;/Layer&gt;\n          &lt;/Stage&gt;\n        &lt;/div&gt;\n        &lt;span className=\"poster-tips-test\"&gt;press to save image&lt;/span&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/","title":"react-canvas","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 7597  \u9605\u8bfb16\u5206\u949f</p>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/#canvas","title":"\u539f\u751f canvas \u7684\u4e0d\u8db3","text":"<p>react \u4e0b\u9762\u79fb\u52a8\u7aef canvas \u6027\u80fd\u4e0d\u597d\uff0c\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528\u79fb\u52a8\u7aef\u786c\u4ef6\u52a0\u901f\uff0c\u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u51e0\u4e2a\u5e93\u5b9e\u73b0 canvas \u548c\u7b80\u5355\u56fe\u5f62\u7f16\u8f91\u6548\u679c\u3002\u4f7f\u7528\u65f6\uff0c\u53c2\u8003\u6700\u65b0\u7684\u5b98\u7f51\u6587\u6863\u3002</p> <p>\u8fd9\u4e2a\u5e93\u57fa\u4e8e react 15 \u7248\u672c\uff0c\u548c\u5176\u4ed6\u9879\u76ee react 18 \u4e0d\u517c\u5bb9\u3002</p>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/#react-canvas_1","title":"react-canvas","text":"<p>stars 13k</p> <p>https://github.com/Flipboard/react-canvas</p> <p>React Canvas adds the ability for React components to render to <code>&lt;canvas&gt;</code> rather than DOM.</p> <p>\u4f7f\u7528 React \u7ec4\u4ef6\u6765\u6e32\u67d3 canvas \u800c\u4e0d\u662f DOM \u6e32\u67d3</p> <p>This project is a work-in-progress. Though much of the code is in production on flipboard.com, the React canvas bindings are relatively new and the API is subject to change.</p>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/#motivation","title":"Motivation","text":"<p>\u52a8\u673a\uff1a\u6027\u80fd\u95ee\u9898</p> <p>Having a long history of building interfaces geared toward mobile devices, we found that the reason mobile web apps feel slow when compared to native apps is the DOM. CSS animations and transitions are the fastest path to smooth animations on the web, but they have several limitations. React Canvas leverages the fact that most modern mobile browsers now have hardware accelerated canvas.</p> <p>While there have been other attempts to bind canvas drawing APIs to React, they are more focused on visualizations and games. Where React Canvas differs is in the focus on building application user interfaces. The fact that it renders to canvas is an implementation detail.</p> <p>React Canvas brings some of the APIs web developers are familiar with and blends them with a high performance drawing engine.</p>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/#installation","title":"Installation","text":"<p>React Canvas is available through npm:</p> <pre><code>npm install react-canvas\n</code></pre>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/#react-canvas-components","title":"React Canvas Components","text":"<p>\u8fd9\u662f\u4e0d\u540c\u5c42\u7ea7\u7684\u7ec4\u4ef6\uff08\u5bb9\u5668\uff1b\u56fe\u5c42\uff1b\u7fa4\u7ec4\uff1b\u6587\u5b57\uff1b\u56fe\u7247\uff1b\u6e10\u53d8\uff1b\u5217\u8868\uff09</p> <p>React Canvas provides a set of standard React components that abstract the underlying rendering implementation.</p>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/#surface","title":"<code>&lt;Surface&gt;</code>","text":"<p>Surface is the top-level component. Think of it as a drawing canvas in which you can place other components.</p>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/#layer","title":"<code>&lt;Layer&gt;</code>","text":"<p>Layer is the the base component by which other components build upon. Common styles and properties such as top, width, left, height, backgroundColor and zIndex are expressed at this level.</p>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/#group","title":"<code>&lt;Group&gt;</code>","text":"<p>Group is a container component. Because React enforces that all components return a single component in <code>render()</code>, Groups can be useful for parenting a set of child components. The Group is also an important component for optimizing scrolling performance, as it allows the rendering engine to cache expensive drawing operations.</p>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/#text","title":"<code>&lt;Text&gt;</code>","text":"<p>Text is a flexible component that supports multi-line truncation, something which has historically been difficult and very expensive to do in DOM.</p>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/#image","title":"<code>&lt;Image&gt;</code>","text":"<p>Image is exactly what you think it is. However, it adds the ability to hide an image until it is fully loaded and optionally fade it in on load.</p>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/#gradient","title":"<code>&lt;Gradient&gt;</code>","text":"<p>Gradient can be used to set the background of a group or surface.</p> <pre><code>  render() {\n    ...\n    return (\n      &lt;Group style={this.getStyle()}&gt;\n        &lt;Gradient style={this.getGradientStyle()} colorStops={this.getGradientColors()} /&gt;\n      &lt;/Group&gt;\n    );\n  }\n  getGradientColors(){\n    return [\n      { color: \"transparent\", position: 0 },\n      { color: \"#000\", position: 1 }\n    ]\n  }\n</code></pre>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/#listview","title":"<code>&lt;ListView&gt;</code>","text":"<p>ListView is a touch scrolling container that renders a list of elements in a column. Think of it like UITableView for the web. It leverages many of the same optimizations that make table views on iOS and list views on Android fast.</p>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/#events","title":"Events","text":"<p>React Canvas components support the same event model as normal React components. However, not all event types are currently supported.</p> <p>For a full list of supported events see EventTypes.</p>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/#building-components","title":"Building Components","text":"<p>Here is a very simple component that renders text below an image:</p> <pre><code>var React = require('react');\nvar ReactCanvas = require('react-canvas');\n\nvar Surface = ReactCanvas.Surface;\nvar Image = ReactCanvas.Image;\nvar Text = ReactCanvas.Text;\n\nvar MyComponent = React.createClass({\n\n  render: function () {\n    var surfaceWidth = window.innerWidth;\n    var surfaceHeight = window.innerHeight;\n    var imageStyle = this.getImageStyle();\n    var textStyle = this.getTextStyle();\n\n    return (\n      &lt;Surface width={surfaceWidth} height={surfaceHeight} left={0} top={0}&gt;\n        &lt;Image style={imageStyle} src='...' /&gt;\n        &lt;Text style={textStyle}&gt;\n          Here is some text below an image.\n        &lt;/Text&gt;\n      &lt;/Surface&gt;\n    );\n  },\n\n  getImageHeight: function () {\n    return Math.round(window.innerHeight / 2);\n  },\n\n  getImageStyle: function () {\n    return {\n      top: 0,\n      left: 0,\n      width: window.innerWidth,\n      height: this.getImageHeight()\n    };\n  },\n\n  getTextStyle: function () {\n    return {\n      top: this.getImageHeight() + 10,\n      left: 0,\n      width: window.innerWidth,\n      height: 20,\n      lineHeight: 20,\n      fontSize: 12\n    };\n  }\n\n});\n</code></pre>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/#listview_1","title":"ListView","text":"<p>Many mobile interfaces involve an infinitely long scrolling list of items. React Canvas provides the ListView component to do just that.</p> <p>Because ListView virtualizes elements outside of the viewport, passing children to it is different than a normal React component where children are declared in render().</p> <p>The <code>numberOfItemsGetter</code>, <code>itemHeightGetter</code> and <code>itemGetter</code> props are all required.</p> <pre><code>var ListView = ReactCanvas.ListView;\n\nvar MyScrollingListView = React.createClass({\n\n  render: function () {\n    return (\n      &lt;ListView\n        numberOfItemsGetter={this.getNumberOfItems}\n        itemHeightGetter={this.getItemHeight}\n        itemGetter={this.renderItem} /&gt;\n    );\n  },\n\n  getNumberOfItems: function () {\n    // Return the total number of items in the list\n  },\n\n  getItemHeight: function () {\n    // Return the height of a single item\n  },\n\n  renderItem: function (index) {\n    // Render the item at the given index, usually a &lt;Group&gt;\n  },\n\n});\n</code></pre> <p>See the timeline example for a more complete example.</p> <p>Currently, ListView requires that each item is of the same height. Future versions will support variable height items.</p>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/#text-sizing","title":"Text sizing","text":"<p>React Canvas provides the <code>measureText</code> function for computing text metrics.</p> <p>The Page component in the timeline example contains an example of using measureText to achieve precise multi-line ellipsized text.</p> <p>Custom fonts are not currently supported but will be added in a future version.</p>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/#css-layout","title":"css-layout","text":"<p>There is experimental support for using css-layout to style React Canvas components. This is a more expressive way of defining styles for a component using standard CSS styles and flexbox.</p> <p>Future versions may not support css-layout out of the box. The performance implications need to be investigated before baking this in as a core layout principle.</p> <p>See the css-layout example.</p>"},{"location":"react-third-part-lib/25-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-canvas/#using-with-webpack","title":"Using with webpack","text":"<p>The brfs transform is required in order to use the project with webpack.</p> <pre><code>npm install -g brfs\nnpm install --save-dev transform-loader brfs\n</code></pre> <p>Then add the brfs transform to your webpack config</p> <pre><code>module: {\n  postLoaders: [\n    { loader: \"transform?brfs\" }\n  ]\n}\n</code></pre>"},{"location":"react-third-part-lib/26-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-image-lightbox/","title":"react-image-lightbox","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2046  \u9605\u8bfb5\u5206\u949f</p>"},{"location":"react-third-part-lib/26-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-image-lightbox/#_1","title":"\u7528\u9014","text":"<p>react \u4e2d\u56fe\u7247\u9884\u89c8</p>"},{"location":"react-third-part-lib/26-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-image-lightbox/#_2","title":"\u53ef\u9760\u6027","text":"<p>1.3K \u661f\u661f\uff0c\u4e0a\u4e07\u4e0b\u8f7d\uff0c\u57fa\u672c\u6ca1\u95ee\u9898</p> <p>This repository has been archived by the owner on Jan 19, 2023. It is now read-only.</p> <p>\u4f5c\u8005\u63a8\u8350\u4f7f\u7528\u53e6\u4e00\u4e2a\u5e93\uff1ahttps://www.npmjs.com/package/react-photoswipe-gallery</p>"},{"location":"react-third-part-lib/26-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-image-lightbox/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/react-image-lightbox</p> <p>https://github.com/frontend-collective/react-image-lightbox</p> <p>https://frontend-collective.github.io/react-image-lightbox/</p>"},{"location":"react-third-part-lib/26-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-image-lightbox/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>import React, { Component } from 'react';\nimport Lightbox from 'react-image-lightbox';\nimport 'react-image-lightbox/style.css'; // This only needs to be imported once in your app\n\nconst images = [\n  '//placekitten.com/1500/500',\n  '//placekitten.com/4000/3000',\n  '//placekitten.com/800/1200',\n  '//placekitten.com/1500/1500',\n];\n\nexport default class LightboxExample extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      photoIndex: 0,\n      isOpen: false,\n    };\n  }\n\n  render() {\n    const { photoIndex, isOpen } = this.state;\n    return (\n      &lt;div&gt;\n        &lt;button type=\"button\" onClick={() =&gt; this.setState({ isOpen: true })}&gt;\n          Open Lightbox\n        &lt;/button&gt;\n        {isOpen &amp;&amp; (\n          &lt;Lightbox\n            mainSrc={images[photoIndex]}\n            nextSrc={images[(photoIndex + 1) % images.length]}\n            prevSrc={images[(photoIndex + images.length - 1) % images.length]}\n            onCloseRequest={() =&gt; this.setState({ isOpen: false })}\n            onMovePrevRequest={() =&gt;\n              this.setState({\n                photoIndex: (photoIndex + images.length - 1) % images.length,\n              })\n            }\n            onMoveNextRequest={() =&gt;\n              this.setState({\n                photoIndex: (photoIndex + 1) % images.length,\n              })\n            }\n          /&gt;\n        )}\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>"},{"location":"react-third-part-lib/26-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-image-lightbox/#_5","title":"\u517c\u5bb9\u6027\u95ee\u9898","text":"<p>\u8fd9\u4e2a\u5e93\u4f7f\u7528\u4e86 react 16 + 17 \u7248\u672c\uff0c\u4e0d\u652f\u6301 react 18\uff0c\u76ee\u524d\u6d4b\u8bd5 18 \u53ef\u4ee5\u57fa\u672c\u4f7f\u7528\uff0c\u5176\u4ed6\u95ee\u9898\u8fd8\u4e0d\u786e\u5b9a\u3002</p>"},{"location":"react-third-part-lib/React-Select/","title":"React-Select","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4571  \u9605\u8bfb10\u5206\u949f</p> <p>\u5728 React \u4e2d\u7684\u9009\u62e9\u6846\u4e3b\u8981\u4f7f\u7528 React-select\uff0c\u4e0b\u9762\u662fReact-select \u4f7f\u7528\u8bf4\u660e\u3002\u70b9\u51fb\u4e0b\u9762\u7684\u94fe\u63a5\u53ef\u4ee5\u67e5\u770b\u8be6\u7ec6\u7684demo\u548c\u6587\u6863\u3002</p> <p>See react-select.com for live demos and comprehensive docs.</p>"},{"location":"react-third-part-lib/React-Select/#version-2","title":"Version 2 \u4ecb\u7ecd","text":"<p>\u5f53\u524d\u66f4\u65b0\u5230 2.4.1 \u7248\u672c</p> <p>Improvements include:</p> <ul> <li>Flexible approach to data, with customisable functions</li> <li>Extensible styling API with emotion</li> <li>Component Injection API for complete control over the UI behaviour</li> <li>Controllable state props and modular architecture</li> <li>Long-requested features like option groups, portal support, animation, and more</li> </ul>"},{"location":"react-third-part-lib/React-Select/#installation-and-usage","title":"Installation and usage","text":"<p>The easiest way to use react-select is to install it from npm and build it into your app with Webpack.</p> <pre><code>yarn add react-select\n# or choose this way\nnpm install react-select\n</code></pre> <p>Then use it in your app:</p> <pre><code>import React from 'react';\nimport Select from 'react-select';\n\n// the default options. Anyway, we can based on user input then send a request to server, then make the response data as options. \n// options contains basic value and label. Label can use HTML tag so that it can contain some user header or infomation. And options often made into propertity in class. this.options or this.state.options.\nconst options = [\n  { value: 'chocolate', label: 'Chocolate' },\n  { value: 'strawberry', label: 'Strawberry' },\n  { value: 'vanilla', label: 'Vanilla' }\n];\n\nclass App extends React.Component {\n\n  // get selection as selectionoption\n  state = {\n    selectedOption: null,\n  }\n\n    // handle select change\n  handleChange = (selectedOption) =&gt; {\n    this.setState({\n      selectedOption\n    });\n    console.log(`Option selected:`, selectedOption);\n    // if selection change, send request to server =&gt; get response as new options.\n  }\n\n  render() {\n    return (\n      &lt;Select\n        value={this.state.selectedOption}\n        onChange={this.handleChange}\n        options={options}\n      /&gt;\n    );\n  }\n}\n// onchange is a callback function. When user input some texts, onChange function is run. then get value and send request to server. Then get response data, setState to change options. AsyncSelect\n</code></pre>"},{"location":"react-third-part-lib/React-Select/#props","title":"Props","text":"<p>Common props you may want to specify include:</p> <ul> <li><code>autoFocus</code> - focus the control when it mounts \u81ea\u52a8\u805a\u7126</li> <li><code>className</code> - apply a className to the control \u63a7\u5236\u5668\u7c7b\u540d\uff08\u6539\u53d8\u6837\u5f0f\uff09</li> <li><code>classNamePrefix</code> - apply classNames to inner elements with the given prefix \u7c7b\u540d\u7684\u524d\u7f00</li> <li><code>isDisabled</code> - disable the control \u63a7\u4ef6\u662f\u5426\u53ef\u7528</li> <li><code>isMulti</code> - allow the user to select multiple values \u662f\u5426\u652f\u6301\u591a\u9009</li> <li><code>isSearchable</code> - allow the user to search for matching options \u662f\u5426\u652f\u6301\u641c\u7d22</li> <li><code>name</code> - generate an HTML input with this name, containing the current value</li> <li><code>onChange</code> - subscribe to change events \u9009\u62e9\u53d8\u5316\u56de\u8c03\u51fd\u6570</li> <li><code>options</code> - specify the options the user can select from \u4e0b\u62c9\u83dc\u5355\u9009\u9879</li> <li><code>placeholder</code> - change the text displayed when no option is selected \u6ca1\u6709\u9009\u9879\u65f6\uff0c\u5360\u4f4d\u5b57\u7b26</li> <li><code>value</code> - control the current value \u5f53\u524d\u9009\u9879\u7684\u503c</li> </ul> <p>See the props documentation for complete documentation on the props react-select supports.</p>"},{"location":"react-third-part-lib/React-Select/#controllable-props","title":"Controllable Props","text":"<p>You can control the following props by providing values for them. If you don't, react-select will manage them for you.</p> <ul> <li> <p><code>value</code> / <code>onChange</code> - specify the current value of the control</p> </li> <li> <p><code>menuIsOpen</code> / <code>onMenuOpen</code> / <code>onMenuClose</code> - control whether the menu is open</p> </li> <li> <p><code>inputValue</code> / <code>onInputChange</code> - control the value of the search input (changing this will update the available options)</p> </li> </ul> <p>If you don't provide these props, you can set the initial value of the state they control:</p> <ul> <li><code>defaultValue</code> - set the initial value of the control</li> <li><code>defaultMenuIsOpen</code> - set the initial open value of the menu</li> <li><code>defaultInputValue</code> - set the initial value of the search input</li> </ul>"},{"location":"react-third-part-lib/React-Select/#methods","title":"Methods","text":"<p>React-select exposes two public methods:</p> <ul> <li><code>focus()</code> - focus the control programatically</li> <li><code>blur()</code> - blur the control programatically</li> </ul>"},{"location":"react-third-part-lib/React-Select/#customisation","title":"Customisation","text":"<p>Check the docs for more information on:</p> <ul> <li>Customising the styles</li> <li>Using custom components</li> <li>Using the built-in animated components</li> <li>Creating an async select</li> <li>Allowing users to create new options</li> <li>Advanced use-cases</li> </ul>"},{"location":"react-third-part-lib/Todo-054-GGEditor/","title":"Todo-054-GGEditor","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 381  \u9605\u8bfb1\u5206\u949f</p> <p>\u963f\u91cc\u5df4\u5df4\u51fa\u54c1\u7684\u4e00\u4e2a\u6d41\u7a0b\u56fe\u7f16\u8f91\u5668</p> <p>https://github.com/alibaba/GGEditor</p> <p>https://www.npmjs.com/package/gg-editor?activeTab=versions</p> <p>\u5bf9\u5e94\u7684 react \u7248\u672c\u662f 16\uff0c\u6700\u8fd14\u5e74\u6ca1\u6709\u66f4\u65b0\u4e86</p> <p>\u76ee\u524d\u770b\u9879\u76ee\u7684\u521b\u5efa\u4eba\u8fd1\u51e0\u5e74\u6ca1\u6709\u7f16\u7801\u4e86</p> <p>\u81ea\u5df1\u66fe\u7ecf\u5199\u8fc7\u4e00\u4e2a\u5206\u6790\u548c\u8bd5\u7528</p> <p>https://blog.csdn.net/weixin_41697143/article/details/88181212</p>"},{"location":"react-third-part-lib/gojs-react/","title":"gojs-react","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5518  \u9605\u8bfb12\u5206\u949f</p> <p>\u8fd9\u4e2a\u7ec4\u4ef6\u7528\u4e8e\u5728React\u4e2d\u4f7f\u7528 GoJS \u6765\u7ed8\u5236\u56fe\u8868\u3001\u8272\u677f\u3001\u6982\u8ff0\u56fe\u3002</p>"},{"location":"react-third-part-lib/gojs-react/#by-northwoods-software-for-gojs-21","title":"By Northwoods Software for GoJS 2.1","text":"<p>This project provides React components for GoJS Diagrams, Palettes, and Overviews to simplify usage of GoJS within a React application. See the gojs-react-basic project for example usage and the Intro page on using GoJS with React for more information. Some more detail on the implementation of these components can be found here.</p>"},{"location":"react-third-part-lib/gojs-react/#installation","title":"Installation","text":"<p>gojs-react can be installed via NPM or used via CDN. This package has peer dependencies on GoJS and React, so make sure those are also installed or included on your page.</p>"},{"location":"react-third-part-lib/gojs-react/#npm","title":"NPM","text":"<pre><code>npm install --save gojs-react\n</code></pre>"},{"location":"react-third-part-lib/gojs-react/#cdn","title":"CDN","text":"<pre><code>&lt;script src=\"https://unpkg.com/gojs-react/dist/gojsreact.production.min.js\"&gt;&lt;/script&gt;\n</code></pre>"},{"location":"react-third-part-lib/gojs-react/#usage","title":"Usage","text":"<p>\u8fd9\u4e2a\u5e93\u63d0\u4f9b\u4e86\u4e09\u4e2a\u7ec4\u4ef6\uff1aReactDiagram, ReactPalette, and ReactOverview\uff0c\u4e0eGoJS\u7684\u7ec4\u4ef6\u5bf9\u5e94\u3002</p> <p>This package provides three components - ReactDiagram, ReactPalette, and ReactOverview - corresponding to the related GoJS classes. The gojs-react-basic repository provides example usage. Feel free to use these components as examples for setting up your own React components for GoJS. If you'd like to do so, we suggest reading more about the implementation of these components here.</p> <p>\u4e0b\u9762\u662f\u7ec4\u4ef6\u7684\u57fa\u672c props \u914d\u7f6e</p> <pre><code>&lt;ReactDiagram\n  ref={this.diagramRef}\n  divClassName='diagram-component'\n  initDiagram={this.initDiagram}\n  nodeDataArray={this.props.nodeDataArray}\n  linkDataArray={this.props.linkDataArray}\n  modelData={this.props.modelData}\n  onModelChange={this.props.onModelChange}\n  skipsDiagramUpdate={this.props.skipsDiagramUpdate}\n/&gt;\n&lt;ReactPalette\n  initPalette={this.initPalette}\n  divClassName='palette-component'\n  nodeDataArray={[{ key: 0, text: 'Alpha' }]}\n/&gt;\n&lt;ReactOverview\n  initOverview={this.initOverview}\n  divClassName='overview-component'\n  observedDiagram={this.state.observed}\n/&gt;\n</code></pre>"},{"location":"react-third-part-lib/gojs-react/#component-props","title":"Component Props","text":""},{"location":"react-third-part-lib/gojs-react/#initdiagraminitpaletteinitoverview","title":"initDiagram/initPalette/initOverview","text":"<p>\u521d\u59cb\u5316\u7684\u56fe\u8868</p> <p>Specifies a function that is reponsible for initializing and returning a GoJS Diagram, Palette, or Overview. In the case of an Overview, this is an optional property and when not provided, an Overview with default properties and centered content will be created.</p> <pre><code>function initDiagram() {\n  const $ = go.GraphObject.make;\n  const diagram = $(go.Diagram,\n    {\n      'undoManager.isEnabled': true,  // must be set to allow for model change listening\n      // 'undoManager.maxHistoryLength': 0,  // uncomment disable undo/redo functionality\n      model: $(go.GraphLinksModel, {\n        linkKeyProperty: 'key'  // this should always be set when using a GraphLinksModel\n      })\n    });\n\n  diagram.nodeTemplate =\n    $(go.Node, 'Auto',  // the Shape will go around the TextBlock\n      $(go.Shape, 'RoundedRectangle', { strokeWidth: 0, fill: 'white' },\n        // Shape.fill is bound to Node.data.color\n        new go.Binding('fill', 'color')),\n      $(go.TextBlock,\n        { margin: 8 },  // some room around the text\n        // TextBlock.text is bound to Node.data.key\n        new go.Binding('text', 'key'))\n    );\n\n  return diagram;\n}\n</code></pre>"},{"location":"react-third-part-lib/gojs-react/#divclassname","title":"divClassName","text":"<p>Specifies the CSS classname to add to the rendered div. This should usually specify a width/height.</p> <pre><code>.diagram-component {\n  width: 400px;\n  height: 400px;\n  border: 1px solid black;\n}\n</code></pre>"},{"location":"react-third-part-lib/gojs-react/#nodedataarray-reactdiagram-and-reactpalette-only","title":"nodeDataArray (ReactDiagram and ReactPalette only)","text":"<p>Specifies the array of nodes for the Diagram's model.</p> <pre><code>nodeDataArray: [\n  { key: 'Alpha', color: 'lightblue' },\n  { key: 'Beta', color: 'orange' },\n  { key: 'Gamma', color: 'lightgreen' },\n  { key: 'Delta', color: 'pink' }\n]\n</code></pre>"},{"location":"react-third-part-lib/gojs-react/#optional-linkdataarray-reactdiagram-and-reactpalette-only","title":"Optional - linkDataArray (ReactDiagram and ReactPalette only)","text":"<p>Specifies the array of links for the Diagram's model.</p> <pre><code>linkDataArray: [\n  { key: -1, from: 'Alpha', to: 'Beta' },\n  { key: -2, from: 'Alpha', to: 'Gamma' },\n  { key: -3, from: 'Beta', to: 'Beta' },\n  { key: -4, from: 'Gamma', to: 'Delta' },\n  { key: -5, from: 'Delta', to: 'Alpha' }\n]\n</code></pre>"},{"location":"react-third-part-lib/gojs-react/#optional-modeldata-reactdiagram-and-reactpalette-only","title":"Optional - modelData (ReactDiagram and ReactPalette only)","text":"<p>Specifies a modelData object for the Diagram's model.</p>"},{"location":"react-third-part-lib/gojs-react/#skipsdiagramupdate-reactdiagram-only","title":"skipsDiagramUpdate (ReactDiagram only)","text":"<p>Specifies whether the component should skip updating, often set when updating state from a GoJS model change. This flag is checked during shouldComponentUpdate.</p>"},{"location":"react-third-part-lib/gojs-react/#onmodelchange-reactdiagram-only","title":"onModelChange (ReactDiagram only)","text":"<p>Specifies a function to be called when a GoJS transaction has completed. This function will typically be responsible for updating React/Redux state.</p> <pre><code>function handleModelChange(data) {\n  const insertedNodeKeys = data.insertedNodeKeys;\n  const modifiedNodeData = data.modifiedNodeData;\n  const removedNodeKeys = data.removedNodeKeys;\n  const insertedLinkKeys = data.insertedLinkKeys;\n  const modifiedLinkData = data.modifiedLinkData;\n  const removedLinkKeys = data.removedLinkKeys;\n\n  // ... make state changes\n}\n</code></pre>"},{"location":"react-third-part-lib/gojs-react/#observeddiagram-reactoverview-only","title":"observedDiagram (ReactOverview only)","text":"<p>Specifies the go.Diagram which the Overview will observe.</p> <p>https://github.com/NorthwoodsSoftware/gojs-react</p> <p>https://gojs.net/latest/index.html</p>"},{"location":"react-third-part-lib/react-colorful/","title":"react-colorful","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 386  \u9605\u8bfb1\u5206\u949f</p> <p>\u8fd9\u4e2a\u5e93\u53ef\u4ee5\u548c\u7528\u6237\u4ea4\u4e92</p> <p>https://www.npmjs.com/package/react-colorful</p> <p>\u7528\u6237\u53ef\u4ee5\u624b\u52a8\u9009\u62e9\u4e00\u4e2a\u989c\u8272\uff0c\u7136\u540e\u8fd4\u56de\u3002</p> <p>\u4f8b\u5982\uff0c\u7528\u6237\u9009\u62e9\u4e00\u4e2a\u989c\u8272\uff0c\u8bbe\u7f6e\u4e3a\u5f53\u524d\u754c\u9762\u7684\u80cc\u666f\u8272\u6216\u8005\u6587\u5b57\u989c\u8272\u7b49\u7b49\u3002\u8fd9\u4e2a\u6bd4\u666e\u901a\u7684\u9009\u62e9\u989c\u8272\u66f4\u65b9\u4fbf\u3002</p> <p>\u7528\u6237\u53ef\u4ee5\u9009\u62e9\u81ea\u5df1\u559c\u6b22\u7684\u5355\u9009\u989c\u8272\u6216\u8005\u6587\u5b57\u989c\u8272\u7b49\u7b49</p> <p>\u81ea\u5b9a\u4e49\u989c\u8272\u7684\u5e93</p>"},{"location":"react-third-part-lib/react-lazy-load/","title":"react-lazy-load","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 684  \u9605\u8bfb2\u5206\u949f</p> <p>React Lazy Load \u662f\u4e00\u4e2a\u6613\u4e8e\u4f7f\u7528\u7684 React \u7ec4\u4ef6\uff0c\u5b83\u53ef\u4ee5\u5e2e\u52a9\u60a8\u4ee5\u53ef\u9884\u6d4b\u7684\u65b9\u5f0f\u5ef6\u8fdf\u52a0\u8f7d\u5185\u5bb9\u3002\u5b83\u5f88\u5feb\uff0c\u60a8\u8fd8\u53ef\u4ee5\u5728\u6eda\u52a8\u5bb9\u5668\u4e2d\u4f7f\u7528\u7ec4\u4ef6\uff0c\u4f8b\u5982\u5e26\u6709\u6eda\u52a8\u6761\u7684div\u3002\u5b83\u5c06\u88ab\u81ea\u52a8\u627e\u5230\u3002</p> <p>\u5e93\u5468\u4e0b\u8f7d\u91cf 10 \u4e07\uff0c\u53ef\u4ee5\u7a33\u5b9a\u4f7f\u7528\u3002</p>"},{"location":"react-third-part-lib/react-lazy-load/#_1","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>import React from 'react';\nimport LazyLoad from 'react-lazy-load';\n\nconst MyComponent = () =&gt; (\n  &lt;div&gt;\n    &lt;LazyLoad height={762}&gt;\n      &lt;img src='http://apod.nasa.gov/apod/image/1502/HDR_MVMQ20Feb2015ouellet1024.jpg' /&gt;\n    &lt;/LazyLoad&gt;\n  &lt;/div&gt;\n)\n</code></pre>"},{"location":"react-third-part-lib/react-lazy-load/#_2","title":"\u53c2\u8003\u6587\u6863","text":"<p>https://www.npmjs.com/package/react-lazy-load</p> <p>https://segmentfault.com/a/1190000016038748</p>"},{"location":"react-third-part-lib/todo-00-React%20%E7%AC%94%E8%AE%B0%E7%9B%AE%E5%BD%95/","title":"React \u5b66\u4e60\u7b14\u8bb0\u76ee\u5f55","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6197  \u9605\u8bfb13\u5206\u949f</p> <p>\u5f85\u66f4\u65b0</p> <p>\u672a\u6765\u53ef\u4ee5\u505a\u4e00\u4e2a\u5165\u53e3\uff0c\u7136\u540e\u5305\u62ec\u8fd9\u4e9b\u5168\u90e8\u7684\u5de5\u5177\uff0c\u4fbf\u4e8e\u540e\u7eed\u4f7f\u7528\u6d4b\u8bd5\u3002</p> <p>\u65e9\u671f\u5176\u4ed6\u7684\u5e93\u7684 demo \u505a\u8fc7\u4e00\u6b21\uff0c\u6700\u597d\u6574\u7406\u4e00\u4e0b\uff0c\u5e94\u8be5\u5728 third-party-lib\uff0c\u8fd9\u90e8\u5206\u6700\u597d\u7edf\u4e00\u7f16\u8bd1\u540e\u653e\u5728\u535a\u5ba2\u5165\u53e3\u4e2d\u3002</p> <pre><code>\u251c\u2500\u2500 react-data-grid \u7f51\u683c\u6570\u636e\n\u251c\u2500\u2500 react-dnd \u62d6\u62fd\u7ec4\u4ef6\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 react-dnd-DragLayer \u62d6\u62fd\u5c42\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 react-dnd-DragSource \u62d6\u62fd\u6e90\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 react-dnd-DropTarget \u62d6\u62fd\u76ee\u6807\n\u251c\u2500\u2500 react-mentions @\u63d0\u9192\n\u251c\u2500\u2500 react-motion \u52a8\u753b\u6548\u679c\n\u251c\u2500\u2500 react-other-lib\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Create-React-App React CLI\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React Image Lightbox \u9884\u89c8\u56fe\u7247\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React\u4f7f\u7528axios\u8fdb\u884cajax\u64cd\u4f5c axios\u53d1\u51fa\u8bf7\u6c42\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React\u5feb\u6377\u8f93\u5165\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React\u70b9\u51fb\u4e8b\u4ef6\u6539\u53d8DOM\u65b9\u6cd5\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 TS-React-Webpack\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 gojs-react\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 jsx\u8bed\u6cd5\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 react+graphql\u5b9e\u73b0github dashboard\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 react-axios\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 react-lazy-load \u61d2\u52a0\u8f7d\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 react-redux redux\u5b9e\u73b0\u72b6\u6001\u8f6c\u6362\n\u251c\u2500\u2500 react-response \u54cd\u5e94\u5f0f\u5c4f\u5e55\n\u251c\u2500\u2500 react-router \u8def\u7531\n\u251c\u2500\u2500 react-select \u9009\u62e9\u5668\u7ec4\u4ef6\n\u251c\u2500\u2500 react-transition-group \u52a8\u753b\u8fc7\u6e21\u6548\u679c\n\u251c\u2500\u2500 reactstrap UI \u7ec4\u4ef6\u5e93\n\u251c\u2500\u2500 res\n\u251c\u2500\u2500 slate-react Slate \u5bcc\u6587\u672c\u5e93\n\u251c\u2500\u2500 tic-tac-toe \u5b98\u7f51\u6848\u4f8b\n\u251c\u2500\u2500 \u4e2d\u6587\u6587\u6863\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 2-10 \u72b6\u6001\u63d0\u5347\uff1a\u628a\u516c\u5171\u72b6\u6001\u63d0\u5347\u5230\u7236\u7ec4\u4ef6\uff0c\u72b6\u6001\u9a71\u52a8\u7ec4\u4ef6\u66f4\u65b0\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 2-11 \u7ec4\u5408 vs \u7ee7\u627f\uff1a\u4e0d\u540c\u7ec4\u4ef6\u7ec4\u5408\u5f62\u6210\u5927\u7ec4\u4ef6\uff0c\u57fa\u672c\u4e0d\u4f1a\u4f7f\u7528\u5230\u7ee7\u627f\uff08\u76f4\u63a5\u7ee7\u627fReact.Component\u5373\u53ef\uff09\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 2-4 \u7ec4\u4ef6 &amp; Props\uff1a\u7236\u5b50\u7ec4\u4ef6\u4f20\u503c\u7684\u65b9\u5f0f\uff08\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u6027\u80fd\uff09\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 2-5 State &amp; \u751f\u547d\u5468\u671f\uff1a\u751f\u547d\u5468\u671f\u51fd\u6570\u5185\u90e8\u5904\u7406\u4e0d\u540c\u7684\u4e8b\u4ef6\uff1b\u4e0d\u540cstate\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 2-6 \u4e8b\u4ef6\u5904\u7406\uff1a\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\uff1b\u4e8b\u4ef6\u76d1\u542c\uff1beventBus\u5168\u5c40\u54cd\u5e94\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 2-7 \u6761\u4ef6\u6e32\u67d3\uff1a\u4e09\u76ee\u8fd0\u7b97\u7b26\u6e32\u67d3\u90e8\u5206\u7ec4\u4ef6\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 2-8 \u5217\u8868 &amp; Keys\uff1a\u5217\u8868\u6e32\u67d3\u9700\u8981\u52a0\u4e0akey\uff0c\u63d0\u5347\u6027\u80fd\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 2-9 \u8868\u5355\uff1alabel + Input Submit \u5982\u679c\u662f\u590d\u6742\u7684\u8868\u5355\uff0c\u9700\u8981\u5bf9\u5e94\u591a\u4e2a\u72b6\u6001\uff0c\u6216\u8005\u4f7f\u7528REF\u83b7\u53d6\u5185\u5bb9\n\u251c\u2500\u2500 \u82f1\u6587\u6587\u6863\uff08\u6ca1\u6709\u770b\uff09\n\u251c\u2500\u2500 \u9ad8\u7ea7\u6587\u6863\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React FAQ\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React PureComponent \u4f7f\u7528\u6307\u5357\uff1a\u7eaf\u7ec4\u4ef6\uff0c\u5185\u90e8\u5df2\u7ecf\u5b9e\u73b0\u4e86shouldComponentUpdate\u51fd\u6570\uff0c\u6ce8\u610f\u7b80\u5355\u6570\u636e\u548c\u590d\u6742\u5bf9\u8c61\u7684\u8bc6\u522b\uff0c\u4e3b\u8981\u4f7f\u7528\u5728\u53f6\u7ec4\u4ef6\u4e2d\uff0c\u4f18\u5316\u6027\u80fd\u3002\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React \u7684 PureComponent \u4e0e Component\uff08\u4f18\u5316\u6027\u80fd\uff09\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React \u5404\u79cdbug \u4f1a\u5b9e\u65f6\u66f4\u65b0\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React \u9ad8\u9636\u7ec4\u4ef6\uff08\u4e00\u4e2a\u7ec4\u4ef6\u4e2d\uff0c\u53c2\u6570\u662f\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u5bf9\u539f\u59cb\u7ec4\u4ef6\u8fdb\u884c\u5c01\u88c5\u5904\u7406\uff09\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React \u4e2d\u7684\u4e8b\u4ef6\u5904\u7406\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React-Design Principles\uff1a\u8bbe\u8ba1\u539f\u7406\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React-Hooks\uff1auseState useEffect\uff1a\u5728\u51fd\u6570\u7ec4\u4ef6\u4e2d\u4f7f\u7528CLASS\u7684\u65b9\u6cd5\u548cstate\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React-Suspense\u7684\u5b9e\u73b0\u4e0e\u63a2\u8ba8\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React-advanced-guides\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React-\u9ad8\u9636API\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React.Component\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ReactChildren\uff1a\u7236\u7ec4\u4ef6\u4f20\u9012\u5230\u5b50\u7ec4\u4ef6\u7684\u90e8\u5206\uff0c\u53ef\u4ee5\u904d\u5386\u6e32\u67d3\uff0c\u53ef\u4ee5\u5224\u65ad\u4e2a\u6570\u7b49\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React\u4e8b\u4ef6\uff1a\u628a\u539f\u751f\u4e8b\u4ef6\u5c01\u88c5\u540e\u663e\u793a\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React\u6570\u636e\u6d41\uff1a\u81ea\u9876\u5411\u4e0b\u7684\u6570\u636e\u6d41\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React\u83b7\u53d6\u5c3a\u5bf8\uff1a\u901a\u8fc7REF\u83b7\u53d6DOM\u5143\u7d20\uff0c\u7136\u540e\u83b7\u53d6\u5c3a\u5bf8\uff08\u6ce8\u610f\u662f\u5426\u80fd\u83b7\u53d6\u5230REF\u5143\u7d20\uff09\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 React\u65b0\u751f\u547d\u5468\u671f--getDerivedStateFromProps\uff08componentWillReceiveProps\u7684\u66ff\u4ee3\u9759\u6001\u65b9\u6cd5\uff09\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Refs &amp; DOM\uff08\u83b7\u53d6DOM\u8282\u70b9\uff09\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 getDerivedStateFromProps\u7684\u4f7f\u7528\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 react \u4e2d\u901a\u8fc7ref\u83b7\u53d6\u9ad8\u9636\uff08HOC\uff09\u5b50\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u89e3\u51b3\u65b9\u6848\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 react \u9879\u76ee\u7ed3\u6784\u53ca\u7f16\u7801\u89c4\u8303\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 reactjs\u6e90\u7801\u5206\u6790-\u4e0a\u7bc7\uff08\u9996\u6b21\u6e32\u67d3\u5b9e\u73b0\u539f\u7406\uff09\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 reactjs\u6e90\u7801\u5206\u6790-\u4e0b\u7bc7\uff08\u66f4\u65b0\u673a\u5236\u5b9e\u73b0\u539f\u7406\uff09\uff1aDIFF\u7b97\u6cd5\n\u2514\u2500\u2500 \u4e2d\u6587\u6587\u6863\uff08\u5173\u952e\uff09\n  \u251c\u2500\u2500 0 \u76ee\u5f55\n  \u251c\u2500\u2500 3-1 \u65e0\u969c\u788d\u8f85\u52a9\u529f\u80fd\uff1a\u8272\u5f69\u642d\u914d\uff0c\u76f2\u4eba\u9605\u8bfb\u5668\n  \u251c\u2500\u2500 3-2 \u4ee3\u7801\u6253\u5305\u5206\u5272\uff1awebpack \u8bbe\u7f6e\u591a\u4e2a\u5165\u53e3\u6587\u4ef6\uff0c\u4e0d\u540c\u6587\u4ef6\u89e3\u6790\u538b\u7f29\u4e0d\u540c\n  \u251c\u2500\u2500 3-3 Context\n  \u251c\u2500\u2500 3-4 \u9519\u8bef\u8fb9\u754c\uff1aError boundary \u76d1\u6d4b\u5185\u90e8\u7ec4\u4ef6\u7684\u62a5\u9519\u4fe1\u606f\uff0c\u5e76\u663e\u793a\u9519\u8bef\u63d0\u793a\u754c\u9762\n  \u251c\u2500\u2500 3-5 Refs \u8f6c\u53d1\uff1a\u7236\u7ec4\u4ef6\u83b7\u53d6\u5b50\u7ec4\u4ef6\u7684DOM\u8282\u70b9\n  \u251c\u2500\u2500 3-6 Fragments\n  \u251c\u2500\u2500 3-7 \u9ad8\u9636\u7ec4\u4ef6\uff1a\u7ec4\u4ef6\u7684\u53c2\u6570\u662f\u7ec4\u4ef6\uff0c\u8fd4\u56de\u503c\u662f\u5c01\u88c5\u597d\u7684\u53e6\u4e00\u4e2a\u7ec4\u4ef6\n  \u251c\u2500\u2500 3-8 \u4e0e\u7b2c\u4e09\u65b9\u5e93\u534f\u540c\uff1ajquery\n  \u251c\u2500\u2500 3-9 \u6df1\u5165 JSX\uff1a\u8bed\u6cd5\uff0c\u5c55\u5f00\u7b26\u53f7\n  \u251c\u2500\u2500 3-10 Optimizing Performance\uff1a\u6027\u80fd\u4f18\u5316\n  \u251c\u2500\u2500 3-11 Portals\n  \u251c\u2500\u2500 3-12 Profiler API\n  \u251c\u2500\u2500 3-13 \u4e0d\u4f7f\u7528 ES6\n  \u251c\u2500\u2500 3-14 \u4e0d\u4f7f\u7528 JSX \u7684 React\n  \u251c\u2500\u2500 3-15 \u534f\u8c03\uff1aDIFF \u7b97\u6cd5\n  \u251c\u2500\u2500 3-16 Refs and the DOM\n  \u251c\u2500\u2500 3-17 Render Props\n  \u251c\u2500\u2500 3-18 \u9759\u6001\u7c7b\u578b\u68c0\u67e5\n  \u251c\u2500\u2500 3-19 \u4e25\u683c\u6a21\u5f0f\n  \u251c\u2500\u2500 3-20 \u4f7f\u7528 PropTypes \u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\n  \u251c\u2500\u2500 3-21 \u975e\u53d7\u63a7\u7ec4\u4ef6\n  \u251c\u2500\u2500 3-22 Web Components\n  \u251c\u2500\u2500 4-1 React \u9876\u5c42 API\n  \u251c\u2500\u2500 4-2 React.Component\n  \u251c\u2500\u2500 4-3 ReactDOM\n  \u251c\u2500\u2500 4-4 ReactDOMServer\n  \u251c\u2500\u2500 4-5 DOM \u5143\u7d20\n  \u251c\u2500\u2500 4-6 \u5408\u6210\u4e8b\u4ef6\n  \u251c\u2500\u2500 4-7 Test Utilities\n  \u251c\u2500\u2500 4-8 Test Renderer\n  \u251c\u2500\u2500 4-9 JavaScript \u73af\u5883\u8981\u6c42\n  \u251c\u2500\u2500 4-10 React \u672f\u8bed\u8bcd\u6c47\u8868\n  \u251c\u2500\u2500 5-1 Hook \u7b80\u4ecb\n  \u251c\u2500\u2500 5-2 Hook \u6982\u89c8\n  \u251c\u2500\u2500 5-3 \u4f7f\u7528 State Hook\n  \u251c\u2500\u2500 5-4 \u4f7f\u7528 Effect Hook\n  \u251c\u2500\u2500 5-5 Hook \u89c4\u5219\n  \u251c\u2500\u2500 5-6 \u81ea\u5b9a\u4e49 Hook\n  \u251c\u2500\u2500 5-7 Hook API \u7d22\u5f15\n  \u251c\u2500\u2500 5-8 Hooks FAQ\n  \u251c\u2500\u2500 6-1 \u6d4b\u8bd5\u6982\u89c8\n  \u251c\u2500\u2500 6-2 \u6d4b\u8bd5\u6280\u5de7\n  \u251c\u2500\u2500 6-3 \u6d4b\u8bd5\u73af\u5883\n  \u251c\u2500\u2500 7-1 AJAX and APIs\n  \u251c\u2500\u2500 7-2 Babel\uff0cJSX \u53ca\u6784\u5efa\u8fc7\u7a0b\n  \u251c\u2500\u2500 7-3 \u4f20\u9012\u51fd\u6570\u7ed9\u7ec4\u4ef6\n  \u251c\u2500\u2500 7-4 \u7ec4\u4ef6\u72b6\u6001\n  \u251c\u2500\u2500 7-5 \u6837\u5f0f\u4e0e CSS\n  \u251c\u2500\u2500 7-6 \u9879\u76ee\u6587\u4ef6\u7ed3\u6784\n  \u251c\u2500\u2500 7-7 Virtual DOM \u53ca\u5185\u6838\n</code></pre> <p>\u5176\u4ed6\u7ecf\u5e38\u4f7f\u7528\u7684\u5de5\u5177\u5e93</p> <pre><code>npm install react-router-dom localforage match-sorter sort-by\n</code></pre>"},{"location":"react-third-part-lib/todo-009-html2canvas/","title":"009 html2canvas","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4010  \u9605\u8bfb9\u5206\u949f</p>"},{"location":"react-third-part-lib/todo-009-html2canvas/#_1","title":"\u7528\u9014","text":"<p>\u5bf9\u7f51\u9875 HTML \u622a\u56fe\uff08HTML\u8f6c\u6362\u6210canvas\uff0c\u7136\u540e\u4fdd\u5b58\u4e3a\u56fe\u7247\uff09\u3002\u5c4f\u5e55\u622a\u56fe\u57fa\u4e8eDOM\uff0c\u56e0\u6b64\u53ef\u80fd\u65e0\u6cd5100%\u51c6\u786e\u5730\u53cd\u6620\u771f\u5b9e\u60c5\u51b5\u3002\u53ef\u4ee5\u622a\u53d6\u5c4f\u5e55\u4e00\u90e8\u5206\uff0c\u53ef\u4ee5\u622a\u53d6\u5168\u90e8\u7f51\u9875\u3002</p>"},{"location":"react-third-part-lib/todo-009-html2canvas/#_2","title":"\u539f\u7406","text":"<p>\u811a\u672c\u5c06\u904d\u5386\u52a0\u8f7d\u5b83\u7684\u9875\u9762\u7684DOM\u3002\u5b83\u6536\u96c6\u6240\u6709\u5143\u7d20\u7684\u4fe1\u606f\uff0c\u7136\u540e\u4f7f\u7528\u8fd9\u4e9b\u5143\u7d20\u6765\u6784\u5efa\u9875\u9762\u7684\u8868\u793a\u3002\u5b9e\u9645\u4e0a\uff0c\u5b83\u4e0d\u662f\u57fa\u4e8e\u4e00\u4e2a\u9875\u9762\u7684\u6587\u5b57\u6765\u6784\u5efa\u7684\uff0c\u800c\u662f\u57fa\u4e8e\u5b83\u7684\u4e00\u4e2a\u9875\u9762\u7684\u8868\u793a\u3002\u56e0\u6b64\uff0c\u5b83\u53ea\u80fd\u6b63\u786e\u5730\u5448\u73b0\u5b83\u7406\u89e3\u7684\u5c5e\u6027\uff0c\u8fd9\u610f\u5473\u7740\u6709\u8bb8\u591aCSS\u5c5e\u6027\u4e0d\u8d77\u4f5c\u7528\u3002</p>"},{"location":"react-third-part-lib/todo-009-html2canvas/#_3","title":"\u53ef\u9760\u6027","text":"<p>\u5468\u4e0b\u8f7d70\u4e07\uff0c2\u4e07\u661f\u661f</p>"},{"location":"react-third-part-lib/todo-009-html2canvas/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<p>1\u3001\u5c06 HTML \u8f6c\u6362\u6210 canvas\uff0c\u5e76\u589e\u52a0\u5230 body \u540e\u9762</p> <pre><code>html2canvas(document.body).then(function(canvas) {\n    document.body.appendChild(canvas);\n});\n</code></pre> <p>2\u3001\u5c06 HTML \u8f6c\u6362\u6210 canvas\uff0c\u7136\u540e\u4f7f\u7528\u539f\u751f API \u8f6c\u6362\u6210 png \u5e76\u4e0b\u8f7d</p> <pre><code>&lt;div id=\"capture\" style=\"padding: 10px; background: #f5da55\"&gt;\n  &lt;h4 style=\"color: #000; \"&gt;Hello world!&lt;/h4&gt;\n&lt;/div&gt;\n</code></pre> <pre><code>// \u628a HTML \u8f6c\u6362\u6210 canvas\nhtml2canvas(document.querySelector(\"#capture\")).then(canvas =&gt; {\n\n  // \u4e0b\u8f7d\u9700\u8981\u521b\u5efa\u4e00\u4e2aA\u6807\u7b7e\n  let a = document.createElement('a');\n\n  // canvas \u8f6c\u6362\u6210 png \u56fe\u7247\n  a.href = canvas.toDataURL('image/png', 1.0);\n  // https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toDataURL\n  // canvas.toDataURL(type, encoderOptions);\n  // \u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u56fe\u7247\u7c7b\u578b\uff0c\u9ed8\u8ba4\u662f png, \u53ef\u4ee5\u8bbe\u7f6e jpg \u8c37\u6b4c\u652f\u6301 webp\n  // \u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u56fe\u7247\u8d28\u91cf\uff0c\u53d6\u503c\u8303\u56f4\u662f 0-1\n\n  // \u7136\u540e\u8bbe\u7f6e\u4e0b\u8f7d\u56fe\u7247\u7684\u540d\u79f0\n  a.download = 'test.png';\n\n  // \u89e6\u53d1A\u6807\u7b7e\u70b9\u51fb\u4e8b\u4ef6\uff0c\u4e0b\u8f7d\n  a.click();\n});\n</code></pre> <p>\u8fd9\u6837\u5c31\u53ef\u4ee5\u628a HTML \u8f6c\u6362\u6210 canvas\uff0c\u5bfc\u51fa\u4e3a png \u4e0b\u8f7d</p>"},{"location":"react-third-part-lib/todo-009-html2canvas/#_5","title":"\u7efc\u5408\u6848\u4f8b","text":"<pre><code>import html2canvas from 'html2canvas';\n\nonCapture = () =&gt; {\n  html2canvas(document.querySelector(\"#map-container\"), {\n    allowTaint: true,\n    taintTest: true,\n    useCORS: true,\n    ignoreElements: (element) =&gt; {\n      if (CAPTURE_IGNORE_CLASS_LIST.includes(element.className)) {\n        return true;\n      }\n    }\n  }).then(canvas =&gt; {\n    const captureContainer = document.createElement('div');\n    captureContainer.className = 'map-capture';\n\n    const downLoadLink = document.createElement('a');\n    downLoadLink.className = 'download-link';\n    captureContainer.appendChild(downLoadLink);\n    captureContainer.appendChild(canvas);\n    document.querySelector('.dtable-map-plugin').appendChild(captureContainer);\n\n    document.querySelector('.map-capture').appendChild(canvas);\n    this.convertCanvasToImage(canvas);\n  });\n}\n\nconvertCanvasToImage = (canvas) =&gt; {\n  const src = canvas.toDataURL(\"image/png\", 1);\n  const link = document.querySelector('.download-link');\n  link.href = src;\n  link.download = 'map.png';\n  link.click();\n  document.querySelector('.map-capture').remove();\n}\n</code></pre>"},{"location":"react-third-part-lib/todo-009-html2canvas/#_6","title":"\u914d\u7f6e\u8bf4\u660e","text":"<p>\u8fd9\u4e2a\u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f canvas \u7684DOM\u8282\u70b9\uff0c\u7b2c\u4e8c\u4e2a\u662f\u5bf9\u8c61\uff08\u914d\u7f6e\u9879\uff09\u5177\u4f53\u4f7f\u7528</p> <pre><code>html2canvas(content, {\n  allowTaint: true, // \u5141\u8bb8\u6c61\u67d3\uff0c\u53c2\u8003 https://developer.mozilla.org/zh-CN/docs/Web/HTML/CORS_enabled_image\n  taintTest: true, // \u5728\u6e32\u67d3\u524d\u6d4b\u8bd5\u56fe\u7247\n  useCORS: true, // \u4f7f\u7528\u8de8\u57df(\u5f53allowTaint\u4e3atrue\u65f6\u8fd9\u6bb5\u4ee3\u7801\u6ca1\u7528)\n})\n</code></pre>"},{"location":"react-third-part-lib/todo-009-html2canvas/#_7","title":"\u6ce8\u610f\u70b9","text":"<ul> <li>\u5c40\u9650\uff1ahtml2canvas \u53ef\u4ee5\u901a\u8fc7\u7eafJS\u5bf9\u6d4f\u89c8\u5668\u7aef\u7ecf\u884c\u622a\u5c4f\uff0c\u4f46\u622a\u56fe\u7684\u7cbe\u786e\u5ea6\u8fd8\u6709\u5f85\u63d0\u9ad8\uff0c\u90e8\u5206css\u4e0d\u53ef\u8bc6\u522b\uff0c\u6240\u4ee5\u5728canvas\u4e2d\u4e0d\u80fd\u5b8c\u7f8e\u5448\u73b0\u539f\u753b\u9762\u6837\u5f0f</li> <li>\u6ce8\u610f\u7248\u672c\u53f7\uff1a\u73b0\u5728\u6b63\u5f0f\u7248\u672c\u53f7 1.4\uff0c\u907f\u514d\u4f7f\u7528\u6d4b\u8bd5\u7248\u672c\uff1b\u7248\u672c\u53f7\u548c\u6587\u6863\u662f\u5426\u5bf9\u5e94\u7b49\u95ee\u9898</li> <li>canvas \u6c61\u67d3\uff1acanvas \u53ef\u4ee5\u5bfc\u5165\u5916\u90e8\u57df crossorigin \u7684\u56fe\u7247\u6216\u8005 svg\uff0c\u90a3\u4e48\u5916\u90e8\u56fe\u7247\u7684\u6570\u636e\u53ef\u80fd\u6c61\u67d3 canvas\uff0c\u53eb\u505a\u6c61\u67d3\u3002</li> </ul>"},{"location":"react-third-part-lib/todo-009-html2canvas/#_8","title":"\u94fe\u63a5","text":"<p>\u5b98\u7f51: http://html2canvas.hertzen.com/</p> <p>github: https://github.com/niklasvh/html2canvas</p> <p>\u914d\u7f6e\uff1ahttp://html2canvas.hertzen.com/configuration</p> <p>\u6587\u6863\uff1ahttp://html2canvas.hertzen.com/documentation</p> <p>https://www.jianshu.com/p/6a07e974a7e8</p> <p>https://www.jianshu.com/p/9615ee8224b0</p>"},{"location":"react-third-part-lib/todo-017-qrcode-react/","title":"017 qrcode.react","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2392  \u9605\u8bfb5\u5206\u949f</p>"},{"location":"react-third-part-lib/todo-017-qrcode-react/#_1","title":"\u7528\u9014","text":"<p>react \u751f\u6210\u4e8c\u7ef4\u7801\u7ec4\u4ef6</p>"},{"location":"react-third-part-lib/todo-017-qrcode-react/#_2","title":"\u53ef\u9760\u6027","text":"<p>\u4f5c\u8005\u662f Paul O\u2019Shannessy\uff0c\u4e3a reactJS \u548c Facebook \u8d21\u732e\u4ee3\u7801\uff0c\u53ef\u9760\u6027\u5f88\u9ad8\u3002</p> <p>25000 \u661f\u53f7\uff0c30\u4e07\u4e0b\u8f7d</p>"},{"location":"react-third-part-lib/todo-017-qrcode-react/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://github.com/zpao/qrcode.react</p> <p>https://www.npmjs.com/package/qrcode.react</p>"},{"location":"react-third-part-lib/todo-017-qrcode-react/#version-10-2020","title":"version 1.0 \u57fa\u672c\u4f7f\u7528(2020)","text":"<p>\u9879\u76ee\u4e2d\u76ee\u524d\u4f7f\u7528 1.0.0 \u7248\u672c\uff0c\u57fa\u672c\u4f7f\u7528\u5982\u4e0b\u3002\u4f7f\u7528 QRCode \u7c7b\uff0c\u76f4\u63a5\u4f20\u53c2 value = string \u5373\u53ef\u751f\u6210\u4e8c\u7ef4\u7801\u3002</p> <p>\u8fd9\u662f\u4e3b\u8981\u4f7f\u7528\u7684\u7248\u672c</p> <pre><code>var React = require('react');\nvar QRCode = require('qrcode.react');\n\nReact.render(\n  &lt;QRCode value=\"http://facebook.github.io/react/\" /&gt;,\n  mountNode\n);\n</code></pre>"},{"location":"react-third-part-lib/todo-017-qrcode-react/#version-30-2022","title":"version 3.0 \u57fa\u672c\u4f7f\u7528(2022)","text":"<p>\u6700\u65b0\u7248\u672c\u662f 3.0 \u7248\u672c\uff0c\u63a8\u8350\u4f7f\u7528\u751f\u6210 svg \u6216\u8005 canvas \u683c\u5f0f\u7684\u4e8c\u7ef4\u7801\uff0c\u4e3b\u8981\u4f8b\u5b50\uff1a</p> <p>SVG</p> <pre><code>import ReactDOM from 'react-dom';\nimport {QRCodeSVG} from 'qrcode.react';\n\nReactDOM.render(\n  &lt;QRCodeSVG value=\"https://reactjs.org/\" /&gt;,\n  document.getElementById('mountNode')\n);\n</code></pre> <p>canvas</p> <pre><code>import ReactDOM from 'react-dom';\nimport {QRCodeCanvas} from 'qrcode.react';\n\nReactDOM.render(\n  &lt;QRCodeCanvas value=\"https://reactjs.org/\" /&gt;,\n  document.getElementById('mountNode')\n);\n</code></pre> <p>\u4e0d\u63a8\u8350\u76f4\u63a5\u4f7f\u7528 <code>&lt;QRCode value=\"https://reactjs.org/\" renderAs=\"canvas\" /&gt;</code>\u8fd9\u6837\u7684\u5f62\u5f0f</p> <p>\u4e3b\u8981 props</p>"},{"location":"react-third-part-lib/todo-017-qrcode-react/#available-props","title":"Available Props","text":"prop type default value <code>value</code> <code>string</code> <code>renderAs</code> <code>string</code> (<code>'canvas' 'svg'</code>) <code>'canvas'</code> <code>size</code> <code>number</code> <code>128</code> <code>bgColor</code> <code>string</code> (CSS color) <code>\"#FFFFFF\"</code> <code>fgColor</code> <code>string</code> (CSS color) <code>\"#000000\"</code> <code>level</code> <code>string</code> (<code>'L' 'M' 'Q' 'H'</code>) <code>'L'</code> <code>includeMargin</code> <code>boolean</code> <code>false</code> <code>imageSettings</code> <code>object</code> (see below)"},{"location":"react-third-part-lib/todo-017-qrcode-react/#imagesettings","title":"imageSettings","text":"field type default value <code>src</code> <code>string</code> <code>x</code> <code>number</code> none, will center <code>y</code> <code>number</code> none, will center <code>height</code> <code>number</code> 10% of <code>size</code> <code>width</code> <code>number</code> 10% of <code>size</code> <code>excavate</code> <code>boolean</code> <code>false</code>"},{"location":"react-third-part-lib/todo-050-react-custom-scrollbars/","title":"React \u81ea\u5b9a\u4e49\u6eda\u52a8\u6761","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 8442  \u9605\u8bfb17\u5206\u949f</p> <p>react-custom-scrollbars\uff1a https://malte-wessel.com/react-custom-scrollbars/</p> <p>\u652f\u6301\u4e0b\u9762\u7684\u529f\u80fd\uff1a</p> <ul> <li>\u539f\u751f\u6d41\u7545\u7684\u6d4f\u89c8\u5668\u6eda\u52a8</li> <li>\u79fb\u52a8\u8bbe\u5907\u7684\u539f\u751f\u6eda\u52a8\u6761</li> <li>\u53ef\u5b8c\u5168\u81ea\u5b9a\u4e49</li> <li>\u81ea\u52a8\u9690\u85cf\uff1b\u81ea\u52a8\u9ad8\u5ea6</li> <li>\u5728\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e0a\u901a\u7528</li> <li>requestAnimationFrame\u4e3a60fps</li> <li>\u6ca1\u6709\u591a\u4f59\u7684\u6837\u5f0f\u8868</li> <li>\u7ecf\u8fc7\u826f\u597d\u6d4b\u8bd5\uff0c\u4ee3\u7801\u8986\u76d6\u7387100\uff05</li> </ul> <p>Demos \u00b7 Documentation</p>"},{"location":"react-third-part-lib/todo-050-react-custom-scrollbars/#installation","title":"Installation","text":"<pre><code>npm install react-custom-scrollbars --save\n</code></pre>"},{"location":"react-third-part-lib/todo-050-react-custom-scrollbars/#usage","title":"Usage","text":"<p>This is the minimal configuration. Check out the Documentation for advanced usage.</p> <pre><code>import { Scrollbars } from 'react-custom-scrollbars';\n\nclass App extends Component {\n  render() {\n    return (\n      &lt;Scrollbars style={{ width: 500, height: 300 }}&gt;\n        &lt;p&gt;Some great content...&lt;/p&gt;\n      &lt;/Scrollbars&gt;\n    );\n  }\n}\n</code></pre> <p>The <code>&lt;Scrollbars&gt;</code> component is completely customizable. Check out the following code:</p> <pre><code>import { Scrollbars } from 'react-custom-scrollbars';\n\nclass CustomScrollbars extends Component {\n  render() {\n    return (\n      &lt;Scrollbars\n        onScroll={this.handleScroll}\n        onScrollFrame={this.handleScrollFrame}\n        onScrollStart={this.handleScrollStart}\n        onScrollStop={this.handleScrollStop}\n        onUpdate={this.handleUpdate}\n        renderView={this.renderView}\n        renderTrackHorizontal={this.renderTrackHorizontal}\n        renderTrackVertical={this.renderTrackVertical}\n        renderThumbHorizontal={this.renderThumbHorizontal}\n        renderThumbVertical={this.renderThumbVertical}\n        autoHide\n        autoHideTimeout={1000}\n        autoHideDuration={200}\n        autoHeight\n        autoHeightMin={0}\n        autoHeightMax={200}\n        thumbMinSize={30}\n        universal={true}\n        {...this.props}&gt;\n    );\n  }\n}\n</code></pre> <p>All properties are documented in the API docs</p>"},{"location":"react-third-part-lib/todo-050-react-custom-scrollbars/#examples","title":"Examples","text":"<p>Run the simple example:</p> <pre><code># Make sure that you've installed the dependencies\nnpm install\n# Move to example directory\ncd react-custom-scrollbars/examples/simple\nnpm install\nnpm start\n</code></pre>"},{"location":"react-third-part-lib/todo-050-react-custom-scrollbars/#tests","title":"Tests","text":"<pre><code># Make sure that you've installed the dependencies\nnpm install\n# Run tests\nnpm test\n</code></pre>"},{"location":"react-third-part-lib/todo-050-react-custom-scrollbars/#code-coverage","title":"Code Coverage","text":"<pre><code># Run code coverage. Results can be found in `./coverage`\nnpm run test:cov\n</code></pre>"},{"location":"react-third-part-lib/todo-050-react-custom-scrollbars/#api","title":"API","text":""},{"location":"react-third-part-lib/todo-050-react-custom-scrollbars/#scrollbars","title":"<code>&lt;Scrollbars&gt;</code>","text":""},{"location":"react-third-part-lib/todo-050-react-custom-scrollbars/#props","title":"Props","text":"<ul> <li><code>onScroll</code></li> </ul> (Function) Event handler <ul> <li> <p>Signature: <code>onScroll(event)</code></p> </li> <li> <p><code>onScrollFrame</code></p> </li> </ul> (Function) Runs inside the animation frame. <ul> <li> <p>Signature: <code>onScroll(values)</code></p> </li> <li> ```     values     ``` <p>(Object) Values about the current position</p> <ul> <li><code>values.top</code>: (Number) scrollTop progess, from 0 to 1</li> <li><code>values.left</code>: (Number) scrollLeft progess, from 0 to 1</li> <li><code>values.clientWidth</code>: (Number) Width of the view</li> <li><code>values.clientHeight</code>: (Number) Height of the view</li> <li><code>values.scrollWidth</code>: (Number) Native scrollWidth</li> <li><code>values.scrollHeight</code>: (Number) Native scrollHeight</li> <li><code>values.scrollLeft</code>: (Number) Native scrollLeft</li> <li><code>values.scrollTop</code>: (Number) Native scrollTop</li> </ul> </li> <li> <p><code>onScrollStart</code> (Function) Called when scrolling starts</p> </li> <li> <p><code>onScrollStop</code> (Function) Called when scrolling stops</p> </li> <li> <p><code>onUpdate</code></p> </li> </ul> <p>(Function) Called when ever the component is updated. Runs inside the animation frame</p> <ul> <li> <p>Signature: <code>onUpdate(values)</code></p> </li> <li> <p><code>renderView</code>: (Function) The element your content will be rendered in</p> </li> <li> <p><code>renderTrackHorizontal</code>: (Function) Horizontal track element</p> </li> <li> <p><code>renderTrackVertical</code>: (Function) Vertical track element</p> </li> <li> <p><code>renderThumbHorizontal</code>: (Function) Horizontal thumb element</p> </li> <li> <p><code>renderThumbVertical</code>: (Function) Vertical thumb element</p> </li> <li> <p><code>hideTracksWhenNotNeeded</code>: (Boolean) Hide tracks (<code>visibility: hidden</code>) when content does not overflow container. (default: false)</p> </li> <li> <p><code>thumbSize</code>: (Number) Set a fixed size for thumbs in px.</p> </li> <li> <p><code>thumbMinSize</code>: (Number) Minimal thumb size in px. (default: 30)</p> </li> <li> <p><code>autoHide   <pre><code>: (Boolean) Enable auto-hide mode (default:\n</code></pre>   false</code></p> </li> </ul> <p>)</p> <ul> <li> <p>When <code>true</code> tracks will hide automatically and are only visible while scrolling.</p> </li> <li> <p><code>autoHideTimeout</code>: (Number) Hide delay in ms. (default: 1000)</p> </li> <li> <p><code>autoHideDuration</code>: (Number) Duration for hide animation in ms. (default: 200)</p> </li> <li> <p><code>autoHeight</code></p> </li> </ul> (Boolean) Enable auto-height mode. (default: false) <ul> <li> <p>When <code>true</code> container grows with content</p> </li> <li> <p><code>autoHeightMin</code>: (Number) Set a minimum height for auto-height mode (default: 0)</p> </li> <li> <p><code>autoHeightMax</code>: (Number) Set a maximum height for auto-height mode (default: 200)</p> </li> <li> <p><code>universal   <pre><code>: (Boolean) Enable universal rendering (default:\n</code></pre>   false</code></p> </li> </ul> <p>)</p> <ul> <li>Learn how to use universal rendering</li> </ul>"},{"location":"react-third-part-lib/todo-050-react-custom-scrollbars/#methods","title":"Methods","text":"<ul> <li><code>scrollTop(top = 0)</code>: scroll to the top value</li> <li><code>scrollLeft(left = 0)</code>: scroll to the left value</li> <li><code>scrollToTop()</code>: scroll to top</li> <li><code>scrollToBottom()</code>: scroll to bottom</li> <li><code>scrollToLeft()</code>: scroll to left</li> <li><code>scrollToRight()</code>: scroll to right</li> <li><code>getScrollLeft()</code>: get scrollLeft value</li> <li><code>getScrollTop()</code>: get scrollTop value</li> <li><code>getScrollWidth()</code>: get scrollWidth value</li> <li><code>getScrollHeight()</code>: get scrollHeight value</li> <li><code>getClientWidth()</code>: get view client width</li> <li><code>getClientHeight()</code>: get view client height</li> <li><code>getValues()</code>: get an object with values about the current position.</li> </ul>"},{"location":"react-third-part-lib/todo-050-react-custom-scrollbars/#usage_1","title":"Usage","text":""},{"location":"react-third-part-lib/todo-050-react-custom-scrollbars/#default-scrollbars","title":"Default Scrollbars","text":"<p>The <code>&lt;Scrollbars&gt;</code> component works out of the box with some default styles. The only thing you need to care about is that the component has a <code>width</code> and <code>height</code>:</p> <pre><code>import { Scrollbars } from 'react-custom-scrollbars';\n\nclass App extends Component {\n  render() {\n    return (\n      &lt;Scrollbars style={{ width: 500, height: 300 }}&gt;\n        &lt;p&gt;Some great content...&lt;/p&gt;\n      &lt;/Scrollbars&gt;\n    );\n  }\n}\n</code></pre> <p>Also don't forget to set the <code>viewport</code> meta tag, if you want to support mobile devices</p> <pre><code>&lt;meta\n  name=\"viewport\"\n  content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0\"/&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-050-react-custom-scrollbars/#events","title":"Events","text":"<p>There are several events you can listen to:</p> <pre><code>import { Scrollbars } from 'react-custom-scrollbars';\n\nclass App extends Component {\n  render() {\n    return (\n      &lt;Scrollbars\n        // Will be called with the native scroll event\n        onScroll={this.handleScroll}\n        // Runs inside the animation frame. Passes some handy values about the current scroll position\n        onScrollFrame={this.handleScrollFrame}\n        // Called when scrolling starts\n        onScrollStart={this.handleScrollStart}\n        // Called when scrolling stops\n        onScrollStop={this.handlenScrollStop}\n        // Called when ever the component is updated. Runs inside the animation frame\n        onUpdate={this.handleUpdate}&gt;\n        &lt;p&gt;Some great content...&lt;/p&gt;\n      &lt;/Scrollbars&gt;\n    );\n  }\n}\n</code></pre>"},{"location":"react-third-part-lib/todo-050-react-custom-scrollbars/#auto-hide","title":"Auto-hide","text":"<p>You can activate auto-hide by setting the <code>autoHide</code> property.</p> <pre><code>import { Scrollbars } from 'react-custom-scrollbars';\n\nclass App extends Component {\n  render() {\n    return (\n      &lt;Scrollbars\n        // This will activate auto hide\n        autoHide\n        // Hide delay in ms\n        autoHideTimeout={1000}\n        // Duration for hide animation in ms.\n        autoHideDuration={200}&gt;\n        &lt;p&gt;Some great content...&lt;/p&gt;\n      &lt;/Scrollbars&gt;\n    );\n  }\n}\n</code></pre>"},{"location":"react-third-part-lib/todo-050-react-custom-scrollbars/#auto-height","title":"Auto-height","text":"<p>You can activate auto-height by setting the <code>autoHeight</code> property.</p> <pre><code>import { Scrollbars } from 'react-custom-scrollbars';\n\nclass App extends Component {\n  render() {\n    return (\n      &lt;Scrollbars\n        // This will activate auto-height\n        autoHeight\n        autoHeightMin={100}\n        autoHeightMax={200}&gt;\n        &lt;p&gt;Some great content...&lt;/p&gt;\n      &lt;/Scrollbars&gt;\n    );\n  }\n}\n</code></pre>"},{"location":"react-third-part-lib/todo-050-react-custom-scrollbars/#universal-rendering","title":"Universal rendering","text":"<p>If your app runs on both client and server, activate the <code>universal</code> mode. This will ensure that the initial markup on client and server are the same:</p> <pre><code>import { Scrollbars } from 'react-custom-scrollbars';\n\nclass App extends Component {\n  render() {\n    return (\n      // This will activate universal mode\n      &lt;Scrollbars universal&gt;\n        &lt;p&gt;Some great content...&lt;/p&gt;\n      &lt;/Scrollbars&gt;\n    );\n  }\n}\n</code></pre>"},{"location":"react-third-part-lib/todo-052-react-select/","title":"192 react-select","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2482  \u9605\u8bfb5\u5206\u949f</p>"},{"location":"react-third-part-lib/todo-052-react-select/#_1","title":"\u7528\u9014","text":"<p>react \u7684\u9009\u62e9\u5668\u7ec4\u4ef6\uff0c\u652f\u6301\u540c\u6b65\u548c\u5f02\u6b65\u9009\u62e9\uff08\u8bf7\u6c42\u7ed3\u679c\uff09</p>"},{"location":"react-third-part-lib/todo-052-react-select/#_2","title":"\u53ef\u9760\u6027","text":"<p>270\u4e07\u4e0b\u8f7d\uff0c\u7ecf\u5e38\u4f7f\u7528</p>"},{"location":"react-third-part-lib/todo-052-react-select/#_3","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://www.npmjs.com/package/react-select</p>"},{"location":"react-third-part-lib/todo-052-react-select/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>import React from 'react';\nimport Select from 'react-select';\n\nconst options = [\n  { value: 'chocolate', label: 'Chocolate' },\n  { value: 'strawberry', label: 'Strawberry' },\n  { value: 'vanilla', label: 'Vanilla' },\n];\n\nclass App extends React.Component {\n  state = {\n    selectedOption: null,\n  };\n  handleChange = selectedOption =&gt; {\n    this.setState({ selectedOption });\n    console.log(`Option selected:`, selectedOption);\n  };\n  render() {\n    const { selectedOption } = this.state;\n\n    return (\n      &lt;Select\n        value={selectedOption}\n        onChange={this.handleChange}\n        options={options}\n      /&gt;\n    );\n  }\n}\n</code></pre> <p>Props</p> <p>Common props you may want to specify include:</p> <pre><code>autoFocus - focus the control when it mounts\nclassName - apply a className to the control\nclassNamePrefix - apply classNames to inner elements with the given prefix\nisDisabled - disable the control\nisMulti - allow the user to select multiple values\nisSearchable - allow the user to search for matching options\nname - generate an HTML input with this name, containing the current value\nonChange - subscribe to change events\noptions - specify the options the user can select from\nplaceholder - change the text displayed when no option is selected\nvalue - control the current value\n</code></pre>"},{"location":"react-third-part-lib/todo-052-react-select/#react-select","title":"\u5176\u4ed6 react-select \u83b7\u53d6\u5185\u90e8\u7c7b\u540d","text":"<p>react-select \u8fd9\u4e2a\u7b2c\u4e09\u65b9\u7ec4\u4ef6\uff0c\u6211\u9700\u8981\u9879\u76ee\u5185\u90e8\u5b9a\u5236\u4e00\u4e9b\u6837\u5f0f\u3002</p> <p>\u4f46\u662f\u754c\u9762\u70b9\u51fb\u65f6\uff0c\u5f88\u96be\u901a\u8fc7\u9f20\u6807\u76f4\u63a5\u83b7\u53d6\u754c\u9762\u4e0a\u7684\u5143\u7d20\u8282\u70b9\u7684\u7c7b\u540d\u3002</p> <p>\u4e0b\u9762\u662f\u5076\u7136\u4e00\u6b21\u6d4b\u8bd5\u83b7\u53d6\u7684\u7c7b\u540d</p> <p>\u6ce8\u610f react-select \u7684\u7248\u672c\u53f7\u5bf9\u5e94\uff0c\u5176\u4e2d <code>preCls</code> \u662f\u524d\u7f00</p> <pre><code>&lt;div class=\"css-kj6f9i-menu preCls__menu\"&gt;\n  &lt;div class=\"css-11unzgr preCls__menu-list\"&gt;\n    &lt;div class=\"css-1mhelce-option preCls__option preCls__option--is-focused\" id=\"react-select-3-option-0\" tabindex=\"-1\"&gt;\n      &lt;div&gt;\u53ef\u8bfb\u5199\n        &lt;div class=\"preCls-explanation\"&gt;\u7528\u6237\u53ef\u4ee5\u67e5\u770b\u3001\u4fee\u6539\u8868\u683c\u3002\u4f46\u662f\u4e0d\u80fd\u5b89\u88c5\u63d2\u4ef6\u548c\u5171\u4eab\u8868\u683c\u3002&lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"css-fk865s-option preCls__option\" id=\"react-select-3-option-1\" tabindex=\"-1\"&gt;\n      &lt;div&gt;\u53ea\u8bfb\n        &lt;div class=\"preCls-explanation\"&gt;\u7528\u6237\u53ef\u4ee5\u67e5\u770b\u8868\u683c\uff0c\u4f46\u662f\u4e0d\u80fd\u4fee\u6539\u3002&lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-053-react-media/","title":"react-media","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5858  \u9605\u8bfb12\u5206\u949f</p> <p><code>react-media</code> is a CSS media query component for React.</p> <p>A <code>&lt;Media&gt;</code> component listens for matches to a CSS media query and renders stuff based on whether the query matches or not.</p>"},{"location":"react-third-part-lib/todo-053-react-media/#installation","title":"Installation","text":"<p>Using npm:</p> <pre><code>$ npm install --save react-media\n</code></pre> <p>Then, use as you would anything else:</p> <pre><code>import Media from \"react-media\";\n\nvar Media = require(\"react-media\");\n</code></pre> <p>The UMD build is also available on unpkg:</p> <pre><code>&lt;script src=\"https://unpkg.com/react-media/umd/react-media.min.js\"&gt;&lt;/script&gt;\n</code></pre> <p>You can find the library on <code>window.ReactMedia</code>.</p>"},{"location":"react-third-part-lib/todo-053-react-media/#usage","title":"Usage","text":"<p>Render a <code>&lt;Media&gt;</code> component with a <code>query</code> prop whose value is a valid CSS media query. The <code>children</code> prop should be a function whose only argument will be a boolean flag that indicates whether the media query matches or not.</p> <pre><code>import React from \"react\";\nimport Media from \"react-media\";\n\nclass App extends React.Component {\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;Media query=\"(max-width: 599px)\"&gt;\n          {matches =&gt;\n            matches ? (\n              &lt;p&gt;The document is less than 600px wide.&lt;/p&gt;\n            ) : (\n              &lt;p&gt;The document is at least 600px wide.&lt;/p&gt;\n            )\n          }\n        &lt;/Media&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre> <p>If you render a <code>&lt;Media&gt;</code> component on the server, it will match by default. You can override the default behavior by setting the <code>defaultMatches</code> prop, see below for details.</p> <p>If you use a regular React element as <code>children</code> (i.e. <code>&lt;Media&gt;&lt;SomethingHere/&gt;&lt;/Media&gt;</code>) it will be rendered if the query matches. However, you may end up creating a bunch of elements that won't ever actually be rendered to the page (i.e. you'll do a lot of unnecessary <code>createElement</code>s on each <code>render</code>). Thus, a <code>children</code> function (i.e. <code>&lt;Media&gt;{matches =&gt; ...}&lt;/Media&gt;</code>) is the preferred API. Then you can decide in the callback which elements to create based on the result of the query.</p> <p>For the common case of \"only render something when the media query matches\", you can use a <code>render</code> prop that is only called if the query matches.</p> <pre><code>import React from \"react\";\nimport Media from \"react-media\";\n\nclass App extends React.Component {\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;Media\n          query=\"(max-width: 599px)\"\n          render={() =&gt; &lt;p&gt;The document is less than 600px wide.&lt;/p&gt;}\n        /&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre> <p>The <code>render</code> prop is never called if the query does not match.</p> <p><code>&lt;Media query&gt;</code> also accepts an object, similar to React's built-in support for inline style objects in e.g. <code>&lt;div style&gt;</code>. These objects are converted to CSS media queries via json2mq.</p> <pre><code>import React from \"react\";\nimport Media from \"react-media\";\n\nclass App extends React.Component {\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;Media query={{ maxWidth: 599 }}&gt;\n          {matches =&gt;\n            matches ? (\n              &lt;p&gt;The document is less than 600px wide.&lt;/p&gt;\n            ) : (\n              &lt;p&gt;The document is at least 600px wide.&lt;/p&gt;\n            )\n          }\n        &lt;/Media&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre> <p>Keys of media query objects are camel-cased and numeric values automatically get the <code>px</code>suffix. See the json2mq docs for more examples of queries you can construct using objects.</p> <p>An optional <code>targetWindow</code> prop can be specified if you want the <code>query</code> to be evaluated against a different window object than the one the code is running in. This can be useful for example if you are rendering part of your component tree to an iframe or a popup window.</p> <p>There is also an optional <code>onChange</code> prop, which is a callback function that will be invoked when the status of the media query changes. This can be useful if you need to do some imperative stuff in addition to the declarative approach <code>react-media</code> already provides.</p> <pre><code>import React from \"react\";\nimport Media from \"react-media\";\n\nclass App extends React.Component {\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;Media\n          query=\"(max-width: 599px)\"\n          onChange={matches =&gt;\n            matches\n              ? alert(\"The document is less than 600px wide.\")\n              : alert(\"The document is at least 600px wide.\")\n          }\n        /&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre> <p>If you're curious about how react-media differs from react-responsive, please see this comment.</p> <p>Enjoy!</p>"},{"location":"react-third-part-lib/todo-053-react-media/#defaultmatches-prop-for-server-side-rendering","title":"<code>defaultMatches</code> prop for server-side rendering","text":"<p>This component comes with a <code>defaultMatches</code> prop and its default is set to true.</p> <p>When rendering on the server you can use the <code>defaultMatches</code> prop to set the initial state on the server to match whatever you think it will be on the client. You can detect the user's device by analyzing the user-agent string from the HTTP request in your server-side rendering code.</p> <pre><code>initialState = {\n  device: 'mobile' // add your own guessing logic here\n};\n\n&lt;div&gt;\n  &lt;Media query=\"(max-width: 500px)\" defaultMatches={state.device === 'mobile'} render={() =&gt; (\n    &lt;Text&gt;Render me below medium breakpoint.&lt;/Text&gt;\n  )}/&gt;\n\n  &lt;Media query=\"(min-width: 501px)\" defaultMatches={state.device === 'desktop'} render={() =&gt; (\n    &lt;Text&gt;Render me above medium breakpoint.&lt;/Text&gt;\n  )}/&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-055-DPlayer/","title":"DPlayer","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2107  \u9605\u8bfb5\u5206\u949f</p> <p>\u4e00\u6b3e\u652f\u6301\u5f39\u5e55\u7684\u5728\u7ebf\u89c6\u9891\u64ad\u653e\u5668\uff0c\u5728\u5f88\u591a\u5c0f\u89c6\u9891\u7f51\u7ad9\u4e0a\u4f7f\u7528\u3002</p> <p>https://www.npmjs.com/package/dplayer</p> <p>https://github.com/DIYgod/DPlayer?tab=readme-ov-file</p> <p>\u4e2d\u6587\u6587\u6863</p> <p>https://dplayer.diygod.dev/zh/guide.html</p> <p>\u5f39\u5e55\u5b9e\u73b0</p> <p>\u5f39\u5e55\u662f\u5355\u72ec\u7684 socket \u670d\u52a1\u5b9e\u73b0\u7684\uff08\u5b9e\u65f6\u5f39\u5e55\uff09\u6240\u4ee5\u53ef\u4ee5\u8c03\u7528\u7b2c\u4e09\u65b9\u5f39\u5e55 API\uff0c\u6216\u8005\u81ea\u5df1\u642d\u5efa nodejs \u670d\u52a1\u7aef\u63d0\u4f9b\u5f39\u5e55\u670d\u52a1\uff0c\u5b98\u65b9\u4e5f\u63d0\u4f9b\u4e86\u4ee3\u7801</p> <p>https://github.com/MoePlayer/DPlayer-node</p> <p>\u57fa\u672c\u6848\u4f8b</p> <pre><code>import DPlayer from 'dplayer';\n\n// const dp = new DPlayer(options);\nconst dp = new DPlayer({\n    container: document.getElementById('dplayer'),\n    video: {\n        url: 'demo.mp4',\n    },\n});\n</code></pre> <p>\u590d\u6742\u6848\u4f8b</p> <pre><code>const dp = new DPlayer({\n    container: document.getElementById('dplayer'),\n    autoplay: false,\n    theme: '#FADFA3',\n    loop: true,\n    lang: 'zh-cn',\n    screenshot: true,\n    hotkey: true,\n    preload: 'auto',\n    logo: 'logo.png',\n    volume: 0.7,\n    mutex: true,\n    video: {\n        url: 'dplayer.mp4',\n        pic: 'dplayer.png',\n        thumbnails: 'thumbnails.jpg',\n        type: 'auto',\n    },\n    subtitle: {\n        url: 'dplayer.vtt',\n        type: 'webvtt',\n        fontSize: '25px',\n        bottom: '10%',\n        color: '#b7daff',\n    },\n    danmaku: {\n        id: '9E2E3368B56CDBB4',\n        api: 'https://api.prprpr.me/dplayer/',\n        token: 'tokendemo',\n        maximum: 1000,\n        addition: ['https://api.prprpr.me/dplayer/v3/bilibili?aid=4157142'],\n        user: 'DIYgod',\n        bottom: '15%',\n        unlimited: true,\n        speedRate: 0.5,\n    },\n    contextmenu: [\n        {\n            text: 'custom1',\n            link: 'https://github.com/DIYgod/DPlayer',\n        },\n        {\n            text: 'custom2',\n            click: (player) =&gt; {\n                console.log(player);\n            },\n        },\n    ],\n    highlight: [\n        {\n            time: 20,\n            text: '\u8fd9\u662f\u7b2c 20 \u79d2',\n        },\n        {\n            time: 120,\n            text: '\u8fd9\u662f 2 \u5206\u949f',\n        },\n    ],\n});\n</code></pre> <p>\u8fd9\u4e2a\u633a\u6709\u610f\u601d\uff0c\u672a\u6765\u53ef\u4ee5\u5c1d\u8bd5\u4e00\u4e0b</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/","title":"todo-20-React Router \u4e2d\u6587\u6587\u68631-v4","text":""},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#react-router","title":"React Router \u4e2d\u6587\u6587\u6863\uff08\u4e00\uff09","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 25799  \u9605\u8bfb52\u5206\u949f</p> <p>\u5b98\u65b9\u82f1\u6587\u6587\u6863 - https://reacttraining.com/rea... \u7248\u672c - <code>v4.2.0</code></p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#_1","title":"<p><code>&lt;BrowserRouter&gt;</code> \u4f7f\u7528 HTML5 \u63d0\u4f9b\u7684 history API (<code>pushState</code>, <code>replaceState</code> \u548c <code>popstate</code> \u4e8b\u4ef6) \u6765\u4fdd\u6301 UI \u548c URL \u7684\u540c\u6b65\u3002</p> <pre><code>import { BrowserRouter } from 'react-router-dom';\n\n&lt;BrowserRouter\n  basename={string}\n  forceRefresh={bool}\n  getUserConfirmation={func}\n  keyLength={number}\n&gt;\n  &lt;App /&gt;\n&lt;/BrowserRouter&gt;\n</code></pre>","text":""},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#basename-string","title":"basename: string","text":"<p>\u6240\u6709\u4f4d\u7f6e\u7684\u57fa\u51c6 URL\u3002\u5982\u679c\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u90e8\u7f72\u5728\u670d\u52a1\u5668\u7684\u5b50\u76ee\u5f55\uff0c\u5219\u9700\u8981\u5c06\u5176\u8bbe\u7f6e\u4e3a\u5b50\u76ee\u5f55\u3002<code>basename</code> \u7684\u6b63\u786e\u683c\u5f0f\u662f\u524d\u9762\u6709\u4e00\u4e2a\u524d\u5bfc\u659c\u6760\uff0c\u4f46\u4e0d\u80fd\u6709\u5c3e\u90e8\u659c\u6760\u3002</p> <pre><code>&lt;BrowserRouter basename=\"/calendar\"&gt;\n  &lt;Link to=\"/today\" /&gt;\n&lt;/BrowserRouter&gt;\n</code></pre> <p>\u4e0a\u4f8b\u4e2d\u7684 <code>&lt;Link&gt;</code> \u6700\u7ec8\u5c06\u88ab\u5448\u73b0\u4e3a\uff1a</p> <pre><code>&lt;a href=\"/calendar/today\" /&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#forcerefresh-bool","title":"forceRefresh: bool","text":"<p>\u5982\u679c\u4e3a <code>true</code> \uff0c\u5728\u5bfc\u822a\u7684\u8fc7\u7a0b\u4e2d\u6574\u4e2a\u9875\u9762\u5c06\u4f1a\u5237\u65b0\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u53ea\u6709\u5728\u4e0d\u652f\u6301 HTML5 history API \u7684\u6d4f\u89c8\u5668\u4e2d\u4f7f\u7528\u6b64\u529f\u80fd\u3002</p> <pre><code>const supportsHistory = 'pushState' in window.history;\n\n&lt;BrowserRouter forceRefresh={!supportsHistory} /&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#getuserconfirmation-func","title":"getUserConfirmation: func","text":"<p>\u7528\u4e8e\u786e\u8ba4\u5bfc\u822a\u7684\u51fd\u6570\uff0c\u9ed8\u8ba4\u4f7f\u7528 window.confirm\u3002\u4f8b\u5982\uff0c\u5f53\u4ece <code>/a</code> \u5bfc\u822a\u81f3 <code>/b</code> \u65f6\uff0c\u4f1a\u4f7f\u7528\u9ed8\u8ba4\u7684 <code>confirm</code> \u51fd\u6570\u5f39\u51fa\u4e00\u4e2a\u63d0\u793a\uff0c\u7528\u6237\u70b9\u51fb\u786e\u5b9a\u540e\u624d\u8fdb\u884c\u5bfc\u822a\uff0c\u5426\u5219\u4e0d\u505a\u4efb\u4f55\u5904\u7406\u3002\u8bd1\u6ce8\uff1a\u9700\u8981\u914d\u5408 <code>&lt;Prompt&gt;</code> \u4e00\u8d77\u4f7f\u7528\u3002</p> <pre><code>// \u8fd9\u662f\u9ed8\u8ba4\u7684\u786e\u8ba4\u51fd\u6570\nconst getConfirmation = (message, callback) =&gt; {\n  const allowTransition = window.confirm(message);\n  callback(allowTransition);\n}\n\n&lt;BrowserRouter getUserConfirmation={getConfirmation} /&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#keylength-number","title":"keyLength: number","text":"<p><code>location.key</code> \u7684\u957f\u5ea6\uff0c\u9ed8\u8ba4\u4e3a <code>6</code>\u3002</p> <pre><code>&lt;BrowserRouter keyLength={12} /&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#children-node","title":"children: node","text":"<p>\u8981\u5448\u73b0\u7684\u5355\u4e2a\u5b50\u5143\u7d20\uff08\u7ec4\u4ef6\uff09\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#_2","title":"<p><code>&lt;HashRouter&gt;</code> \u4f7f\u7528 URL \u7684 <code>hash</code> \u90e8\u5206\uff08\u5373 <code>window.location.hash</code>\uff09\u6765\u4fdd\u6301 UI \u548c URL \u7684\u540c\u6b65\u3002</p> <pre><code>import { HashRouter } from 'react-router-dom';\n\n&lt;HashRouter&gt;\n  &lt;App /&gt;\n&lt;/HashRouter&gt;\n</code></pre>  <p>\u6ce8\u610f\uff1a \u4f7f\u7528 <code>hash</code> \u8bb0\u5f55\u5bfc\u822a\u5386\u53f2\u4e0d\u652f\u6301 <code>location.key</code> \u548c <code>location.state</code>\u3002\u5728\u4ee5\u524d\u7684\u7248\u672c\u4e2d\uff0c\u6211\u4eec\u89c6\u56fe shim \u8fd9\u79cd\u884c\u4e3a\uff0c\u4f46\u662f\u4ecd\u6709\u4e00\u4e9b\u95ee\u9898\u6211\u4eec\u65e0\u6cd5\u89e3\u51b3\u3002\u4efb\u4f55\u4f9d\u8d56\u6b64\u884c\u4e3a\u7684\u4ee3\u7801\u6216\u63d2\u4ef6\u90fd\u5c06\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528\u3002\u7531\u4e8e\u8be5\u6280\u672f\u4ec5\u7528\u4e8e\u652f\u6301\u65e7\u5f0f\uff08\u4f4e\u7248\u672c\uff09\u6d4f\u89c8\u5668\uff0c\u56e0\u6b64\u5bf9\u4e8e\u4e00\u4e9b\u65b0\u5f0f\u6d4f\u89c8\u5668\uff0c\u6211\u4eec\u9f13\u52b1\u4f60\u4f7f\u7528 <code>&lt;BrowserHistory&gt;</code> \u4ee3\u66ff\u3002</p>","text":""},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#basename-string_1","title":"basename: string","text":"<p>\u6240\u6709\u4f4d\u7f6e\u7684\u57fa\u51c6 URL\u3002<code>basename</code> \u7684\u6b63\u786e\u683c\u5f0f\u662f\u524d\u9762\u6709\u4e00\u4e2a\u524d\u5bfc\u659c\u6760\uff0c\u4f46\u4e0d\u80fd\u6709\u5c3e\u90e8\u659c\u6760\u3002</p> <pre><code>&lt;HashRouter basename=\"/calendar\"&gt;\n  &lt;Link to=\"/today\" /&gt;\n&lt;/HashRouter&gt;\n</code></pre> <p>\u4e0a\u4f8b\u4e2d\u7684 <code>&lt;Link&gt;</code> \u6700\u7ec8\u5c06\u88ab\u5448\u73b0\u4e3a\uff1a</p> <pre><code>&lt;a href=\"#/calendar/today\" /&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#getuserconfirmation-func_1","title":"getUserConfirmation: func","text":"<p>\u7528\u4e8e\u786e\u8ba4\u5bfc\u822a\u7684\u51fd\u6570\uff0c\u9ed8\u8ba4\u4f7f\u7528 window.confirm\u3002</p> <pre><code>// \u8fd9\u662f\u9ed8\u8ba4\u7684\u786e\u8ba4\u51fd\u6570\nconst getConfirmation = (message, callback) =&gt; {\n  const allowTransition = window.confirm(message);\n  callback(allowTransition);\n}\n\n&lt;HashRouter getUserConfirmation={getConfirmation} /&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#hashtype-string","title":"hashType: string","text":"<p><code>window.location.hash</code> \u4f7f\u7528\u7684 <code>hash</code> \u7c7b\u578b\uff0c\u6709\u5982\u4e0b\u51e0\u79cd\uff1a</p> <ul> <li><code>slash</code> - \u540e\u9762\u8ddf\u4e00\u4e2a\u659c\u6760\uff0c\u4f8b\u5982 #/ \u548c #/sunshine/lollipops</li> <li><code>noslash</code> - \u540e\u9762\u6ca1\u6709\u659c\u6760\uff0c\u4f8b\u5982 # \u548c #sunshine/lollipops</li> <li><code>hashbang</code> - Google \u98ce\u683c\u7684 ajax crawlable\uff0c\u4f8b\u5982 #!/ \u548c #!/sunshine/lollipops</li> </ul> <p>\u9ed8\u8ba4\u4e3a <code>slash</code>\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#children-node_1","title":"children: node","text":"<p>\u8981\u5448\u73b0\u7684\u5355\u4e2a\u5b50\u5143\u7d20\uff08\u7ec4\u4ef6\uff09\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#_3","title":"<p>\u4e3a\u4f60\u7684\u5e94\u7528\u63d0\u4f9b\u58f0\u660e\u5f0f\u7684\u3001\u53ef\u8bbf\u95ee\u7684\u5bfc\u822a\u94fe\u63a5\u3002</p> <pre><code>import { Link } from 'react-router-dom';\n\n&lt;Link to=\"/about\"&gt;About&lt;/Link&gt;\n</code></pre>","text":""},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#to-string","title":"to: string","text":"<p>\u4e00\u4e2a\u5b57\u7b26\u4e32\u5f62\u5f0f\u7684\u94fe\u63a5\u5730\u5740\uff0c\u901a\u8fc7 <code>pathname</code>\u3001<code>search</code> \u548c <code>hash</code> \u5c5e\u6027\u521b\u5efa\u3002</p> <pre><code>&lt;Link to='/courses?sort=name' /&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#to-object","title":"to: object","text":"<p>\u4e00\u4e2a\u5bf9\u8c61\u5f62\u5f0f\u7684\u94fe\u63a5\u5730\u5740\uff0c\u53ef\u4ee5\u5177\u6709\u4ee5\u4e0b\u4efb\u4f55\u5c5e\u6027\uff1a</p> <ul> <li><code>pathname</code> - \u8981\u94fe\u63a5\u5230\u7684\u8def\u5f84</li> <li><code>search</code> - \u67e5\u8be2\u53c2\u6570</li> <li><code>hash</code> - URL \u4e2d\u7684 hash\uff0c\u4f8b\u5982 #the-hash</li> <li><code>state</code> - \u5b58\u50a8\u5230 location \u4e2d\u7684\u989d\u5916\u72b6\u6001\u6570\u636e</li> </ul> <pre><code>&lt;Link to={{\n  pathname: '/courses',\n  search: '?sort=name',\n  hash: '#the-hash',\n  state: {\n    fromDashboard: true\n  }\n}} /&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#replace-bool","title":"replace: bool","text":"<p>\u5f53\u8bbe\u7f6e\u4e3a <code>true</code> \u65f6\uff0c\u70b9\u51fb\u94fe\u63a5\u540e\u5c06\u66ff\u6362\u5386\u53f2\u5806\u6808\u4e2d\u7684\u5f53\u524d\u6761\u76ee\uff0c\u800c\u4e0d\u662f\u6dfb\u52a0\u65b0\u6761\u76ee\u3002\u9ed8\u8ba4\u4e3a <code>false</code>\u3002</p> <pre><code>&lt;Link to=\"/courses\" replace /&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#innerref-func","title":"innerRef: func","text":"<p>\u5141\u8bb8\u8bbf\u95ee\u7ec4\u4ef6\u7684\u5e95\u5c42\u5f15\u7528\u3002</p> <pre><code>const refCallback = node =&gt; {\n  // node \u6307\u5411\u6700\u7ec8\u6302\u8f7d\u7684 DOM \u5143\u7d20\uff0c\u5728\u5378\u8f7d\u65f6\u4e3a null\n}\n\n&lt;Link to=\"/\" innerRef={refCallback} /&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#others","title":"others","text":"<p>\u4f60\u8fd8\u53ef\u4ee5\u4f20\u9012\u4e00\u4e9b\u5176\u5b83\u5c5e\u6027\uff0c\u4f8b\u5982 <code>title</code>\u3001<code>id</code> \u6216 <code>className</code> \u7b49\u3002</p> <pre><code>&lt;Link to=\"/\" className=\"nav\" title=\"a title\"&gt;About&lt;/Link&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#_4","title":"<p>\u4e00\u4e2a\u7279\u6b8a\u7248\u672c\u7684 <code>&lt;Link&gt;</code>\uff0c\u5b83\u4f1a\u5728\u4e0e\u5f53\u524d URL \u5339\u914d\u65f6\u4e3a\u5176\u5448\u73b0\u5143\u7d20\u6dfb\u52a0\u6837\u5f0f\u5c5e\u6027\u3002</p> <pre><code>import { NavLink } from 'react-router-dom';\n\n&lt;NavLink to=\"/about\"&gt;About&lt;/NavLink&gt;\n</code></pre>","text":""},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#activeclassname-string","title":"activeClassName: string","text":"<p>\u5f53\u5143\u7d20\u5904\u4e8e\u6fc0\u6d3b\u72b6\u6001\u65f6\u5e94\u7528\u7684\u7c7b\uff0c\u9ed8\u8ba4\u4e3a <code>active</code>\u3002\u5b83\u5c06\u4e0e <code>className</code> \u5c5e\u6027\u4e00\u8d77\u4f7f\u7528\u3002</p> <pre><code>&lt;NavLink to=\"/faq\" activeClassName=\"selected\"&gt;FAQs&lt;/NavLink&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#activestyle-object","title":"activeStyle: object","text":"<p>\u5f53\u5143\u7d20\u5904\u4e8e\u6fc0\u6d3b\u72b6\u6001\u65f6\u5e94\u7528\u7684\u6837\u5f0f\u3002</p> <pre><code>const activeStyle = {\n  fontWeight: 'bold',\n  color: 'red'\n};\n\n&lt;NavLink to=\"/faq\" activeStyle={activeStyle}&gt;FAQs&lt;/NavLink&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#exact-bool","title":"exact: bool","text":"<p>\u5982\u679c\u4e3a <code>true</code>\uff0c\u5219\u53ea\u6709\u5728\u4f4d\u7f6e\u5b8c\u5168\u5339\u914d\u65f6\u624d\u5e94\u7528\u6fc0\u6d3b\u7c7b/\u6837\u5f0f\u3002</p> <pre><code>&lt;NavLink exact to=\"/profile\"&gt;Profile&lt;/NavLink&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#strict-bool","title":"strict: bool","text":"<p>\u5982\u679c\u4e3a <code>true</code>\uff0c\u5219\u5728\u786e\u5b9a\u4f4d\u7f6e\u662f\u5426\u4e0e\u5f53\u524d URL \u5339\u914d\u65f6\uff0c\u5c06\u8003\u8651\u4f4d\u7f6e\u7684\u8def\u5f84\u540d\u540e\u9762\u7684\u659c\u6760\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605  \u6587\u6863\u3002</p> <pre><code>&lt;NavLink strict to=\"/events/\"&gt;Events&lt;/NavLink&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#isactive-func","title":"isActive: func","text":"<p>\u6dfb\u52a0\u989d\u5916\u903b\u8f91\u4ee5\u786e\u5b9a\u94fe\u63a5\u662f\u5426\u5904\u4e8e\u6fc0\u6d3b\u72b6\u6001\u7684\u51fd\u6570\u3002\u5982\u679c\u4f60\u8981\u505a\u7684\u4e0d\u4ec5\u4ec5\u662f\u9a8c\u8bc1\u94fe\u63a5\u7684\u8def\u5f84\u540d\u4e0e\u5f53\u524d URL \u7684\u8def\u5f84\u540d\u76f8\u5339\u914d\uff0c\u90a3\u4e48\u5e94\u8be5\u4f7f\u7528\u5b83\u3002</p> <pre><code>// \u53ea\u6709\u5f53\u4e8b\u4ef6 id \u4e3a\u5947\u6570\u65f6\u624d\u8003\u8651\u6fc0\u6d3b\nconst oddEvent = (match, location) =&gt; {\n  if (!match) {\n    return false;\n  }\n  const eventID = parseInt(match.params.eventID);\n  return !isNaN(eventID) &amp;&amp; eventID % 2 === 1;\n}\n\n&lt;NavLink to=\"/events/123\" isActive={oddEvent}&gt;Event 123&lt;/NavLink&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#location-object","title":"location: object","text":"<p><code>isActive</code> \u9ed8\u8ba4\u6bd4\u8f83\u5f53\u524d\u5386\u53f2\u4f4d\u7f6e\uff08\u901a\u5e38\u662f\u5f53\u524d\u7684\u6d4f\u89c8\u5668 URL\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u4f20\u9012\u4e00\u4e2a\u4e0d\u540c\u7684\u4f4d\u7f6e\u8fdb\u884c\u6bd4\u8f83\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#_5","title":"<p>\u7528\u4e8e\u5728\u4f4d\u7f6e\u8df3\u8f6c\u4e4b\u524d\u7ed9\u4e88\u7528\u6237\u4e00\u4e9b\u786e\u8ba4\u4fe1\u606f\u3002\u5f53\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u8fdb\u5165\u4e00\u4e2a\u5e94\u8be5\u963b\u6b62\u7528\u6237\u5bfc\u822a\u7684\u72b6\u6001\u65f6\uff08\u6bd4\u5982\u8868\u5355\u53ea\u586b\u5199\u4e86\u4e00\u534a\uff09\uff0c\u5f39\u51fa\u4e00\u4e2a\u63d0\u793a\u3002</p> <pre><code>import { Prompt } from 'react-router-dom';\n\n&lt;Prompt\n  when={formIsHalfFilledOut}\n  message=\"\u4f60\u786e\u5b9a\u8981\u79bb\u5f00\u5f53\u524d\u9875\u9762\u5417\uff1f\"\n/&gt;\n</code></pre>","text":""},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#message-string","title":"message: string","text":"<p>\u5f53\u7528\u6237\u8bd5\u56fe\u79bb\u5f00\u67d0\u4e2a\u4f4d\u7f6e\u65f6\u5f39\u51fa\u7684\u63d0\u793a\u4fe1\u606f\u3002</p> <pre><code>&lt;Prompt message=\"\u4f60\u786e\u5b9a\u8981\u79bb\u5f00\u5f53\u524d\u9875\u9762\u5417\uff1f\" /&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#message-func","title":"message: func","text":"<p>\u5c06\u5728\u7528\u6237\u8bd5\u56fe\u5bfc\u822a\u5230\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\u65f6\u8c03\u7528\u3002\u9700\u8981\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\u4ee5\u5411\u7528\u6237\u663e\u793a\u63d0\u793a\uff0c\u6216\u8005\u8fd4\u56de <code>true</code> \u4ee5\u5141\u8bb8\u76f4\u63a5\u8df3\u8f6c\u3002</p> <pre><code>&lt;Prompt message={location =&gt; {\n  const isApp = location.pathname.startsWith('/app');\n\n  return isApp ? `\u4f60\u786e\u5b9a\u8981\u8df3\u8f6c\u5230${location.pathname}\u5417\uff1f` : true;\n}} /&gt;\n</code></pre> <p>\u8bd1\u6ce8\uff1a\u4e0a\u4f8b\u4e2d\u7684 <code>location</code> \u5bf9\u8c61\u6307\u7684\u662f\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\uff08\u5373\u7528\u6237\u60f3\u8981\u8df3\u8f6c\u5230\u7684\u4f4d\u7f6e\uff09\u3002\u4f60\u53ef\u4ee5\u57fa\u4e8e\u5b83\u5305\u542b\u7684\u4e00\u4e9b\u4fe1\u606f\uff0c\u5224\u65ad\u662f\u5426\u963b\u6b62\u5bfc\u822a\uff0c\u6216\u8005\u5141\u8bb8\u76f4\u63a5\u8df3\u8f6c\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#when-bool","title":"when: bool","text":"<p>\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u4f60\u53ef\u4ee5\u59cb\u7ec8\u6e32\u67d3 <code>&lt;Prompt&gt;</code> \u7ec4\u4ef6\uff0c\u5e76\u901a\u8fc7\u8bbe\u7f6e <code>when={true}</code> \u6216 <code>when={false}</code> \u4ee5\u963b\u6b62\u6216\u5141\u8bb8\u76f8\u5e94\u7684\u5bfc\u822a\uff0c\u800c\u4e0d\u662f\u6839\u636e\u67d0\u4e9b\u6761\u4ef6\u6765\u51b3\u5b9a\u662f\u5426\u6e32\u67d3 <code>&lt;Prompt&gt;</code> \u7ec4\u4ef6\u3002</p> <p>\u8bd1\u6ce8\uff1a<code>when</code> \u53ea\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u5f53\u5b83\u7684\u503c\u4e3a <code>true</code> \u65f6\uff0c\u4f1a\u5f39\u51fa\u63d0\u793a\u4fe1\u606f\u3002\u5982\u679c\u4e3a <code>false</code> \u5219\u4e0d\u4f1a\u5f39\u51fa\u3002\u89c1\u963b\u6b62\u5bfc\u822a\u793a\u4f8b\u3002</p> <pre><code>&lt;Prompt when={true} message=\"\u4f60\u786e\u5b9a\u8981\u79bb\u5f00\u5f53\u524d\u9875\u9762\u5417\uff1f\" /&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#_6","title":"<p>\u5c06 URL \u7684\u5386\u53f2\u8bb0\u5f55\u4fdd\u5b58\u5728\u5185\u5b58\u4e2d\u7684 <code>&lt;Router&gt;</code>\uff08\u4e0d\u8bfb\u53d6\u6216\u5199\u5165\u5730\u5740\u680f\uff09\u3002\u5728\u6d4b\u8bd5\u548c\u975e\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u5f88\u6709\u7528\uff0c\u4f8b\u5982 React Native\u3002</p> <pre><code>import { MemoryRouter } from 'react-router-dom';\n\n&lt;MemoryRouter&gt;\n  &lt;App /&gt;\n&lt;/MemoryRouter&gt;\n</code></pre>","text":""},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#initialentries-array","title":"initialEntries: array","text":"<p>\u5386\u53f2\u5806\u6808\u4e2d\u7684\u4e00\u7cfb\u5217\u4f4d\u7f6e\u4fe1\u606f\u3002\u8fd9\u4e9b\u53ef\u80fd\u662f\u5e26\u6709 <code>{pathname, search, hash, state}</code> \u7684\u5b8c\u6574\u4f4d\u7f6e\u5bf9\u8c61\u6216\u7b80\u5355\u7684\u5b57\u7b26\u4e32 URL\u3002</p> <pre><code>&lt;MemoryRouter\n  initialEntries={[ '/one', '/two', { pathname: '/three' } ]}\n  initialIndex={1}\n&gt;\n  &lt;App/&gt;\n&lt;/MemoryRouter&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#initialindex-number","title":"initialIndex: number","text":"<p><code>initialEntries</code> \u6570\u7ec4\u4e2d\u7684\u521d\u59cb\u4f4d\u7f6e\u7d22\u5f15\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#getuserconfirmation-func_2","title":"getUserConfirmation: func","text":"<p>\u7528\u4e8e\u786e\u8ba4\u5bfc\u822a\u7684\u51fd\u6570\u3002\u5f53 <code>&lt;MemoryRouter&gt;</code> \u76f4\u63a5\u4e0e <code>&lt;Prompt&gt;</code> \u4e00\u8d77\u4f7f\u7528\u65f6\uff0c\u4f60\u5fc5\u987b\u4f7f\u7528\u6b64\u9009\u9879\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#keylength-number_1","title":"keyLength: number","text":"<p><code>location.key</code> \u7684\u957f\u5ea6\uff0c\u9ed8\u8ba4\u4e3a <code>6</code>\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#children-node_2","title":"children: node","text":"<p>\u8981\u5448\u73b0\u7684\u5355\u4e2a\u5b50\u5143\u7d20\uff08\u7ec4\u4ef6\uff09\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#_7","title":"<p>\u4f7f\u7528 <code>&lt;Redirect&gt;</code> \u4f1a\u5bfc\u822a\u5230\u4e00\u4e2a\u65b0\u7684\u4f4d\u7f6e\u3002\u65b0\u7684\u4f4d\u7f6e\u5c06\u8986\u76d6\u5386\u53f2\u5806\u6808\u4e2d\u7684\u5f53\u524d\u6761\u76ee\uff0c\u4f8b\u5982\u670d\u52a1\u5668\u7aef\u91cd\u5b9a\u5411\uff08HTTP 3xx\uff09\u3002</p> <pre><code>import { Route, Redirect } from 'react-router-dom';\n\n&lt;Route exact path=\"/\" render={() =&gt; (\n  loggedIn ? (\n    &lt;Redirect to=\"/dashboard\" /&gt;\n  ) : (\n    &lt;PublicHomePage /&gt;\n  )\n)} /&gt;\n</code></pre>","text":""},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#to-string_1","title":"to: string","text":"<p>\u8981\u91cd\u5b9a\u5411\u5230\u7684 URL\uff0c\u53ef\u4ee5\u662f path-to-regexp \u80fd\u591f\u7406\u89e3\u7684\u4efb\u4f55\u6709\u6548\u7684 URL \u8def\u5f84\u3002\u6240\u6709\u8981\u4f7f\u7528\u7684 URL \u53c2\u6570\u5fc5\u987b\u7531 <code>from</code> \u63d0\u4f9b\u3002</p> <pre><code>&lt;Redirect to=\"/somewhere/else\" /&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#to-object_1","title":"to: object","text":"<p>\u8981\u91cd\u5b9a\u5411\u5230\u7684\u4f4d\u7f6e\uff0c\u5176\u4e2d <code>pathname</code> \u53ef\u4ee5\u662f path-to-regexp \u80fd\u591f\u7406\u89e3\u7684\u4efb\u4f55\u6709\u6548\u7684 URL \u8def\u5f84\u3002</p> <pre><code>&lt;Redirect to={{\n  pathname: '/login',\n  search: '?utm=your+face',\n  state: {\n    referrer: currentLocation\n  }\n}} /&gt;\n</code></pre> <p>\u4e0a\u4f8b\u4e2d\u7684 <code>state</code> \u5bf9\u8c61\u53ef\u4ee5\u5728\u91cd\u5b9a\u5411\u5230\u7684\u7ec4\u4ef6\u4e2d\u901a\u8fc7 <code>this.props.location.state</code> \u8fdb\u884c\u8bbf\u95ee\u3002\u800c <code>referrer</code> \u952e\uff08\u4e0d\u662f\u7279\u6b8a\u540d\u79f0\uff09\u5c06\u901a\u8fc7\u8def\u5f84\u540d <code>/login</code> \u6307\u5411\u7684\u767b\u5f55\u7ec4\u4ef6\u4e2d\u7684 <code>this.props.location.state.referrer</code> \u8fdb\u884c\u8bbf\u95ee\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#push-bool","title":"push: bool","text":"<p>\u5982\u679c\u4e3a <code>true</code>\uff0c\u91cd\u5b9a\u5411\u4f1a\u5c06\u65b0\u7684\u4f4d\u7f6e\u63a8\u5165\u5386\u53f2\u8bb0\u5f55\uff0c\u800c\u4e0d\u662f\u66ff\u6362\u5f53\u524d\u6761\u76ee\u3002</p> <pre><code>&lt;Redirect push to=\"/somewhere/else\" /&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#from-string","title":"from: string","text":"<p>\u8981\u4ece\u4e2d\u8fdb\u884c\u91cd\u5b9a\u5411\u7684\u8def\u5f84\u540d\uff0c\u53ef\u4ee5\u662f path-to-regexp \u80fd\u591f\u7406\u89e3\u7684\u4efb\u4f55\u6709\u6548\u7684 URL \u8def\u5f84\u3002\u6240\u6709\u5339\u914d\u7684 URL \u53c2\u6570\u90fd\u4f1a\u63d0\u4f9b\u7ed9 <code>to</code>\uff0c\u5fc5\u987b\u5305\u542b\u5728 <code>to</code> \u4e2d\u7528\u5230\u7684\u6240\u6709\u53c2\u6570\uff0c<code>to</code> \u672a\u4f7f\u7528\u7684\u5176\u5b83\u53c2\u6570\u5c06\u88ab\u5ffd\u7565\u3002</p> <p>\u53ea\u80fd\u5728 <code>&lt;Switch&gt;</code> \u7ec4\u4ef6\u5185\u4f7f\u7528 <code>&lt;Redirect from&gt;</code>\uff0c\u4ee5\u5339\u914d\u4e00\u4e2a\u4f4d\u7f6e\u3002\u6709\u5173\u66f4\u591a\u7ec6\u8282\uff0c\u8bf7\u53c2\u9605 \u3002</p> <pre><code>&lt;Switch&gt;\n  &lt;Redirect from='/old-path' to='/new-path' /&gt;\n  &lt;Route path='/new-path' component={Place} /&gt;\n&lt;/Switch&gt;\n// \u6839\u636e\u5339\u914d\u53c2\u6570\u8fdb\u884c\u91cd\u5b9a\u5411\n&lt;Switch&gt;\n  &lt;Redirect from='/users/:id' to='/users/profile/:id' /&gt;\n  &lt;Route path='/users/profile/:id' component={Profile} /&gt;\n&lt;/Switch&gt;\n</code></pre> <p>\u8bd1\u6ce8\uff1a\u7ecf\u8fc7\u5b9e\u8df5\uff0c\u53d1\u73b0\u4ee5\u4e0a\u201c\u6839\u636e\u5339\u914d\u53c2\u6570\u8fdb\u884c\u91cd\u5b9a\u5411\u201d\u7684\u793a\u4f8b\u5b58\u5728bug\uff0c\u6ca1\u6709\u6548\u679c\u3002<code>to</code> \u4e2d\u7684 <code>:id</code> \u5e76\u4e0d\u4f1a\u7ee7\u627f <code>from</code>\u4e2d\u7684 <code>:id</code> \u5339\u914d\u7684\u503c\uff0c\u800c\u662f\u76f4\u63a5\u4f5c\u4e3a\u5b57\u7b26\u4e32\u663e\u793a\u5230\u6d4f\u89c8\u5668\u5730\u5740\u680f\uff01\uff01\uff01</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#exact-bool_1","title":"exact: bool","text":"<p>\u5b8c\u5168\u5339\u914d\uff0c\u76f8\u5f53\u4e8e Route.exact\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#strict-bool_1","title":"strict: bool","text":"<p>\u4e25\u683c\u5339\u914d\uff0c\u76f8\u5f53\u4e8e Route.strict\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#_8","title":"<p><code>&lt;Route&gt;</code> \u53ef\u80fd\u662f React Router \u4e2d\u6700\u91cd\u8981\u7684\u7ec4\u4ef6\uff0c\u5b83\u53ef\u4ee5\u5e2e\u52a9\u4f60\u7406\u89e3\u548c\u5b66\u4e60\u5982\u4f55\u66f4\u597d\u7684\u4f7f\u7528 React Router\u3002\u5b83\u6700\u57fa\u672c\u7684\u804c\u8d23\u662f\u5728\u5176 <code>path</code> \u5c5e\u6027\u4e0e\u67d0\u4e2a location \u5339\u914d\u65f6\u5448\u73b0\u4e00\u4e9b UI\u3002</p> <p>\u8bf7\u8003\u8651\u4ee5\u4e0b\u4ee3\u7801\uff1a</p> <pre><code>import { BrowserRouter as Router, Route } from 'react-router-dom';\n\n&lt;Router&gt;\n  &lt;div&gt;\n    &lt;Route exact path=\"/\" component={Home} /&gt;\n    &lt;Route path=\"/news\" component={News} /&gt;\n  &lt;/div&gt;\n&lt;/Router&gt;\n</code></pre> <p>\u5982\u679c\u5e94\u7528\u7a0b\u5e8f\u7684\u4f4d\u7f6e\u662f <code>/</code>\uff0c\u90a3\u4e48 UI \u7684\u5c42\u6b21\u7ed3\u6784\u5c06\u4f1a\u662f\uff1a</p> <pre><code>&lt;div&gt;\n  &lt;Home /&gt;\n  &lt;!-- react-empty: 2 --&gt;\n&lt;/div&gt;\n</code></pre> <p>\u6216\u8005\uff0c\u5982\u679c\u5e94\u7528\u7a0b\u5e8f\u7684\u4f4d\u7f6e\u662f <code>/news</code>\uff0c\u90a3\u4e48 UI \u7684\u5c42\u6b21\u7ed3\u6784\u5c06\u4f1a\u662f\uff1a</p> <pre><code>&lt;div&gt;\n  &lt;!-- react-empty: 1 --&gt;\n  &lt;News /&gt;\n&lt;/div&gt;\n</code></pre> <p>\u5176\u4e2d <code>react-empty</code> \u6ce8\u91ca\u53ea\u662f React \u7a7a\u6e32\u67d3\u7684\u5b9e\u73b0\u7ec6\u8282\u3002\u4f46\u5bf9\u4e8e\u6211\u4eec\u7684\u76ee\u7684\u800c\u8a00\uff0c\u5b83\u662f\u6709\u542f\u53d1\u6027\u7684\u3002\u8def\u7531\u59cb\u7ec8\u5728\u6280\u672f\u4e0a\u88ab\u201c\u6e32\u67d3\u201d\uff0c\u5373\u4f7f\u5b83\u7684\u6e32\u67d3\u4e3a\u7a7a\u3002\u53ea\u8981\u5e94\u7528\u7a0b\u5e8f\u7684\u4f4d\u7f6e\u5339\u914d <code>&lt;Route&gt;</code> \u7684 <code>path</code>\uff0c\u4f60\u7684\u7ec4\u4ef6\u5c31\u4f1a\u88ab\u6e32\u67d3\u3002</p>","text":""},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#route-render-methods","title":"Route render methods","text":"<p>\u4f7f\u7528 <code>&lt;Route&gt;</code> \u6e32\u67d3\u4e00\u4e9b\u5185\u5bb9\u6709\u4ee5\u4e0b\u4e09\u79cd\u65b9\u5f0f\uff1a</p> <p>\u5728\u4e0d\u540c\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528\u4e0d\u540c\u7684\u65b9\u5f0f\u3002\u5728\u6307\u5b9a\u7684 <code>&lt;Route&gt;</code> \u4e2d\uff0c\u4f60\u5e94\u8be5\u53ea\u4f7f\u7528\u5176\u4e2d\u7684\u4e00\u79cd\u3002\u8bf7\u53c2\u9605\u4e0b\u9762\u7684\u89e3\u91ca\uff0c\u4e86\u89e3\u4e3a\u4ec0\u4e48\u6709\u4e09\u4e2a\u9009\u9879\u3002\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u4f60\u4f1a\u4f7f\u7528 <code>component</code>\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#route-props","title":"Route props","text":"<p>\u4e09\u79cd\u6e32\u67d3\u65b9\u5f0f\u90fd\u5c06\u63d0\u4f9b\u76f8\u540c\u7684\u4e09\u4e2a\u8def\u7531\u5c5e\u6027\uff1a</p> <ul> <li>match</li> <li>location</li> <li>history</li> </ul>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#component","title":"component","text":"<p>\u6307\u5b9a\u53ea\u6709\u5f53\u4f4d\u7f6e\u5339\u914d\u65f6\u624d\u4f1a\u6e32\u67d3\u7684 React \u7ec4\u4ef6\uff0c\u8be5\u7ec4\u4ef6\u4f1a\u63a5\u6536 route props \u4f5c\u4e3a\u5c5e\u6027\u3002</p> <pre><code>const User = ({ match }) =&gt; {\n  return &lt;h1&gt;Hello {match.params.username}!&lt;/h1&gt;\n}\n\n&lt;Route path=\"/user/:username\" component={User} /&gt;\n</code></pre> <p>\u5f53\u4f60\u4f7f\u7528 <code>component</code>\uff08\u800c\u4e0d\u662f <code>render</code> \u6216 <code>children</code>\uff09\u65f6\uff0cRouter \u5c06\u6839\u636e\u6307\u5b9a\u7684\u7ec4\u4ef6\uff0c\u4f7f\u7528 <code>React.createElement</code> \u521b\u5efa\u4e00\u4e2a\u65b0\u7684 React \u5143\u7d20\u3002\u8fd9\u610f\u5473\u7740\uff0c\u5982\u679c\u4f60\u5411 <code>component</code> \u63d0\u4f9b\u4e00\u4e2a\u5185\u8054\u51fd\u6570\uff0c\u90a3\u4e48\u6bcf\u6b21\u6e32\u67d3\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7ec4\u4ef6\u3002\u8fd9\u5c06\u5bfc\u81f4\u73b0\u6709\u7ec4\u4ef6\u7684\u5378\u8f7d\u548c\u65b0\u7ec4\u4ef6\u7684\u5b89\u88c5\uff0c\u800c\u4e0d\u662f\u4ec5\u4ec5\u66f4\u65b0\u73b0\u6709\u7ec4\u4ef6\u3002\u5f53\u4f7f\u7528\u5185\u8054\u51fd\u6570\u8fdb\u884c\u5185\u8054\u6e32\u67d3\u65f6\uff0c\u8bf7\u4f7f\u7528 <code>render</code> \u6216 <code>children</code>\uff08\u89c1\u4e0b\u6587\uff09\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#render-func","title":"render: func","text":"<p>\u4f7f\u7528 <code>render</code> \u53ef\u4ee5\u65b9\u4fbf\u5730\u8fdb\u884c\u5185\u8054\u6e32\u67d3\u548c\u5305\u88c5\uff0c\u800c\u65e0\u9700\u8fdb\u884c\u4e0a\u6587\u89e3\u91ca\u7684\u4e0d\u5fc5\u8981\u7684\u7ec4\u4ef6\u91cd\u88c5\u3002</p> <p>\u4f60\u53ef\u4ee5\u4f20\u5165\u4e00\u4e2a\u51fd\u6570\uff0c\u4ee5\u5728\u4f4d\u7f6e\u5339\u914d\u65f6\u8c03\u7528\uff0c\u800c\u4e0d\u662f\u4f7f\u7528 <code>component</code> \u521b\u5efa\u4e00\u4e2a\u65b0\u7684 React \u5143\u7d20\u3002<code>render</code> \u6e32\u67d3\u65b9\u5f0f\u63a5\u6536\u6240\u6709\u4e0e <code>component</code> \u65b9\u5f0f\u76f8\u540c\u7684 route props\u3002</p> <pre><code>// \u65b9\u4fbf\u7684\u5185\u8054\u6e32\u67d3\n&lt;Route path=\"/home\" render={() =&gt; &lt;div&gt;Home&lt;/div&gt;} /&gt;\n\n// \u5305\u88c5\nconst FadingRoute = ({ component: Component, ...rest }) =&gt; (\n  &lt;Route {...rest} render={props =&gt; (\n    &lt;FadeIn&gt;\n      &lt;Component {...props} /&gt;\n    &lt;/FadeIn&gt;\n  )} /&gt;\n)\n\n&lt;FadingRoute path=\"/cool\" component={Something} /&gt;\n</code></pre> <p>\u8b66\u544a\uff1a<code>&lt;Route component&gt;</code> \u4f18\u5148\u4e8e <code>&lt;Route render&gt;</code>\uff0c\u56e0\u6b64\u4e0d\u8981\u5728\u540c\u4e00\u4e2a <code>&lt;Route&gt;</code> \u4e2d\u540c\u65f6\u4f7f\u7528\u4e24\u8005\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#children-func","title":"children: func","text":"<p>\u6709\u65f6\u5019\u4e0d\u8bba <code>path</code> \u662f\u5426\u5339\u914d\u4f4d\u7f6e\uff0c\u4f60\u90fd\u60f3\u6e32\u67d3\u4e00\u4e9b\u5185\u5bb9\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>children</code> \u5c5e\u6027\u3002\u9664\u4e86\u4e0d\u8bba\u662f\u5426\u5339\u914d\u5b83\u90fd\u4f1a\u88ab\u8c03\u7528\u4ee5\u5916\uff0c\u5b83\u7684\u5de5\u4f5c\u539f\u7406\u4e0e <code>render</code> \u5b8c\u5168\u4e00\u6837\u3002</p> <p><code>children</code> \u6e32\u67d3\u65b9\u5f0f\u63a5\u6536\u6240\u6709\u4e0e <code>component</code> \u548c <code>render</code> \u65b9\u5f0f\u76f8\u540c\u7684 route props\uff0c\u9664\u975e\u8def\u7531\u4e0e URL \u4e0d\u5339\u914d\uff0c\u4e0d\u5339\u914d\u65f6 <code>match</code> \u4e3a <code>null</code>\u3002\u8fd9\u5141\u8bb8\u4f60\u53ef\u4ee5\u6839\u636e\u8def\u7531\u662f\u5426\u5339\u914d\u52a8\u6001\u5730\u8c03\u6574\u7528\u6237\u754c\u9762\u3002\u5982\u4e0b\u6240\u793a\uff0c\u5982\u679c\u8def\u7531\u5339\u914d\uff0c\u6211\u4eec\u5c06\u6dfb\u52a0\u4e00\u4e2a\u6fc0\u6d3b\u7c7b\uff1a</p> <pre><code>const ListItemLink = ({ to, ...rest }) =&gt; (\n  &lt;Route path={to} children={({ match }) =&gt; (\n    &lt;li className={match ? 'active' : ''}&gt;\n      &lt;Link to={to} {...rest} /&gt;\n    &lt;/li&gt;\n  )} /&gt;\n)\n\n&lt;ul&gt;\n  &lt;ListItemLink to=\"/somewhere\" /&gt;\n  &lt;ListItemLink to=\"/somewhere-else\" /&gt;\n&lt;/ul&gt;\n</code></pre> <p>\u8fd9\u5bf9\u52a8\u753b\u4e5f\u5f88\u6709\u7528\uff1a</p> <pre><code>&lt;Route children={({ match, ...rest }) =&gt; (\n  {/* Animate \u5c06\u59cb\u7ec8\u6e32\u67d3\uff0c\u56e0\u6b64\u4f60\u53ef\u4ee5\u5229\u7528\u751f\u547d\u5468\u671f\u6765\u4e3a\u5176\u5b50\u5143\u7d20\u6dfb\u52a0\u8fdb\u51fa\u52a8\u753b */}\n  &lt;Animate&gt;\n    {match &amp;&amp; &lt;Something {...rest} /&gt;}\n  &lt;/Animate&gt;\n)} /&gt;\n</code></pre> <p>\u8b66\u544a\uff1a<code>&lt;Route component&gt;</code> \u548c <code>&lt;Route render&gt;</code> \u4f18\u5148\u4e8e <code>&lt;Route children&gt;</code>\uff0c\u56e0\u6b64\u4e0d\u8981\u5728\u540c\u4e00\u4e2a <code>&lt;Route&gt;</code> \u4e2d\u540c\u65f6\u4f7f\u7528\u591a\u4e2a\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#path-string","title":"path: string","text":"<p>\u53ef\u4ee5\u662f path-to-regexp \u80fd\u591f\u7406\u89e3\u7684\u4efb\u4f55\u6709\u6548\u7684 URL \u8def\u5f84\u3002</p> <pre><code>&lt;Route path=\"/users/:id\" component={User} /&gt;\n</code></pre> <p>\u6ca1\u6709\u5b9a\u4e49 <code>path</code> \u7684 <code>&lt;Route&gt;</code> \u603b\u662f\u4f1a\u88ab\u5339\u914d\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#exact-bool_2","title":"exact: bool","text":"<p>\u5982\u679c\u4e3a <code>true</code>\uff0c\u5219\u53ea\u6709\u5728 <code>path</code> \u5b8c\u5168\u5339\u914d <code>location.pathname</code> \u65f6\u624d\u5339\u914d\u3002</p> <pre><code>&lt;Route exact path=\"/one\" component={OneComponent} /&gt;\n</code></pre> <p></p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#strict-bool_2","title":"strict: bool","text":"<p>\u5982\u679c\u4e3a <code>true</code>\uff0c\u5219\u5177\u6709\u5c3e\u90e8\u659c\u6760\u7684 <code>path</code> \u4ec5\u4e0e\u5177\u6709\u5c3e\u90e8\u659c\u6760\u7684 <code>location.pathname</code> \u5339\u914d\u3002\u5f53 <code>location.pathname</code> \u4e2d\u6709\u9644\u52a0\u7684 URL \u7247\u6bb5\u65f6\uff0c<code>strict</code> \u5c31\u6ca1\u6709\u6548\u679c\u4e86\u3002</p> <pre><code>&lt;Route strict path=\"/one/\" component={OneComponent} /&gt;\n</code></pre> <p></p> <p>\u8b66\u544a\uff1a\u53ef\u4ee5\u4f7f\u7528 <code>strict</code> \u6765\u5f3a\u5236\u89c4\u5b9a <code>location.pathname</code> \u4e0d\u80fd\u5177\u6709\u5c3e\u90e8\u659c\u6760\uff0c\u4f46\u662f\u4e3a\u4e86\u505a\u5230\u8fd9\u4e00\u70b9\uff0c<code>strict</code> \u548c <code>exact</code> \u5fc5\u987b\u90fd\u662f <code>true</code>\u3002</p> <p></p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#location-object_1","title":"location: object","text":"<p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c<code>&lt;Route&gt;</code> \u5c1d\u8bd5\u5c06\u5176 <code>path</code> \u4e0e\u5f53\u524d\u5386\u53f2\u4f4d\u7f6e\uff08\u901a\u5e38\u662f\u5f53\u524d\u7684\u6d4f\u89c8\u5668 URL\uff09\u8fdb\u884c\u5339\u914d\u3002\u4f46\u662f\uff0c\u4e5f\u53ef\u4ee5\u4f20\u9012\u5177\u6709\u4e0d\u540c\u8def\u5f84\u540d\u7684\u4f4d\u7f6e\u8fdb\u884c\u5339\u914d\u3002</p> <p>\u5f53\u4f60\u9700\u8981\u5c06 <code>&lt;Route&gt;</code> \u4e0e\u5f53\u524d\u5386\u53f2\u4f4d\u7f6e\u4ee5\u5916\u7684 <code>location</code> \u8fdb\u884c\u5339\u914d\u65f6\uff0c\u6b64\u529f\u80fd\u975e\u5e38\u6709\u7528\u3002\u5982\u8fc7\u6e21\u52a8\u753b\u793a\u4f8b\u4e2d\u6240\u793a\u3002</p> <p>\u5982\u679c\u4e00\u4e2a <code>&lt;Route&gt;</code> \u88ab\u5305\u542b\u5728\u4e00\u4e2a <code>&lt;Switch&gt;</code> \u4e2d\uff0c\u5e76\u4e14\u9700\u8981\u5339\u914d\u7684\u4f4d\u7f6e\uff08\u6216\u5f53\u524d\u5386\u53f2\u4f4d\u7f6e\uff09\u4f20\u9012\u7ed9\u4e86 <code>&lt;Switch&gt;</code>\uff0c\u90a3\u4e48\u4f20\u9012\u7ed9 <code>&lt;Route&gt;</code> \u7684 <code>location</code> \u5c06\u88ab <code>&lt;Switch&gt;</code> \u6240\u4f7f\u7528\u7684 <code>location</code> \u8986\u76d6\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#sensitive-bool","title":"sensitive: bool","text":"<p>\u5982\u679c\u4e3a <code>true</code>\uff0c\u8fdb\u884c\u5339\u914d\u65f6\u5c06\u533a\u5206\u5927\u5c0f\u5199\u3002</p> <pre><code>&lt;Route sensitive path=\"/one\" component={OneComponent} /&gt;\n</code></pre> <p></p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#_9","title":"<p>\u6240\u6709 Router \u7ec4\u4ef6\u7684\u901a\u7528\u4f4e\u9636\u63a5\u53e3\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ea\u4f1a\u4f7f\u7528\u5176\u4e2d\u4e00\u4e2a\u9ad8\u9636 Router\uff1a</p>  <p>\u4f7f\u7528\u4f4e\u9636  \u7684\u6700\u5e38\u89c1\u7528\u4f8b\u662f\u540c\u6b65\u4e00\u4e2a\u81ea\u5b9a\u4e49\u5386\u53f2\u8bb0\u5f55\u4e0e\u4e00\u4e2a\u72b6\u6001\u7ba1\u7406\u5e93\uff0c\u6bd4\u5982 Redux \u6216 Mobx\u3002\u8bf7\u6ce8\u610f\uff0c\u5c06 React Router \u548c\u72b6\u6001\u7ba1\u7406\u5e93\u4e00\u8d77\u4f7f\u7528\u5e76\u4e0d\u662f\u5fc5\u9700\u7684\uff0c\u5b83\u4ec5\u7528\u4e8e\u6df1\u5ea6\u96c6\u6210\u3002 <pre><code>import { Router } from 'react-router-dom';\nimport createBrowserHistory from 'history/createBrowserHistory';\n\nconst history = createBrowserHistory();\n\n&lt;Router history={history}&gt;\n  &lt;App /&gt;\n&lt;/Router&gt;\n</code></pre>","text":""},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#history-object","title":"history: object","text":"<p>\u7528\u4e8e\u5bfc\u822a\u7684\u5386\u53f2\u8bb0\u5f55\u5bf9\u8c61\u3002</p> <pre><code>import createBrowserHistory from 'history/createBrowserHistory';\n\nconst customHistory = createBrowserHistory();\n\n&lt;Router history={customHistory} /&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#children-node_3","title":"children: node","text":"<p>\u8981\u5448\u73b0\u7684\u5355\u4e2a\u5b50\u5143\u7d20\uff08\u7ec4\u4ef6\uff09\u3002</p> <pre><code>&lt;Router&gt;\n  &lt;App /&gt;\n&lt;/Router&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#_10","title":"<p>\u4e00\u4e2a\u6c38\u8fdc\u4e0d\u4f1a\u6539\u53d8\u4f4d\u7f6e\u7684 <code>&lt;Router&gt;</code>\u3002</p> <p>\u8fd9\u5728\u670d\u52a1\u5668\u7aef\u6e32\u67d3\u573a\u666f\u4e2d\u975e\u5e38\u6709\u7528\uff0c\u56e0\u4e3a\u7528\u6237\u5b9e\u9645\u4e0a\u6ca1\u6709\u70b9\u51fb\uff0c\u6240\u4ee5\u4f4d\u7f6e\u5b9e\u9645\u4e0a\u5e76\u672a\u53d1\u751f\u53d8\u5316\u3002\u56e0\u6b64\uff0c\u540d\u79f0\u662f <code>static</code>\uff08\u9759\u6001\u7684\uff09\u3002\u5f53\u4f60\u53ea\u9700\u8981\u63d2\u5165\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u5e76\u5728\u6e32\u67d3\u8f93\u51fa\u4e0a\u4f5c\u51fa\u65ad\u8a00\u4ee5\u4fbf\u8fdb\u884c\u7b80\u5355\u6d4b\u8bd5\u65f6\uff0c\u5b83\u4e5f\u5f88\u6709\u7528\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u793a\u4f8b\uff0cnode server \u4e3a <code>&lt;Redirect&gt;</code> \u53d1\u9001 302 \u72b6\u6001\u7801\uff0c\u5e76\u4e3a\u5176\u5b83\u8bf7\u6c42\u53d1\u9001\u5e38\u89c4 HTML\uff1a</p> <pre><code>import { createServer } from 'http';\nimport React from 'react';\nimport ReactDOMServer from 'react-dom/server';\nimport { StaticRouter } from 'react-router';\n\ncreateServer((req, res) =&gt; {\n  // \u8fd9\u4e2a context \u5bf9\u8c61\u5305\u542b\u4e86\u6e32\u67d3\u7684\u7ed3\u679c\n  const context = {};\n\n  const html = ReactDOMServer.renderToString(\n    &lt;StaticRouter location={req.url} context={context}&gt;\n      &lt;App /&gt;\n    &lt;/StaticRouter&gt;\n  );\n\n  // \u5982\u679c\u4f7f\u7528 &lt;Redirect&gt;\uff0ccontext.url \u5c06\u5305\u542b\u8981\u91cd\u5b9a\u5411\u5230\u7684 URL\n  if (context.url) {\n    res.writeHead(302, {\n      Location: context.url\n    });\n    res.end();\n  } else {\n    res.write(html);\n    res.end();\n  }\n}).listen(3000);\n</code></pre>","text":""},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#basename-string_2","title":"basename: string","text":"<p>\u6240\u6709\u4f4d\u7f6e\u7684\u57fa\u51c6 URL\u3002<code>basename</code> \u7684\u6b63\u786e\u683c\u5f0f\u662f\u524d\u9762\u6709\u4e00\u4e2a\u524d\u5bfc\u659c\u6760\uff0c\u4f46\u4e0d\u80fd\u6709\u5c3e\u90e8\u659c\u6760\u3002</p> <pre><code>&lt;StaticRouter basename=\"/calendar\"&gt;\n  &lt;Link to=\"/today\" /&gt;\n&lt;/StaticRouter&gt;\n</code></pre> <p>\u4e0a\u4f8b\u4e2d\u7684 <code>&lt;Link&gt;</code> \u6700\u7ec8\u5c06\u88ab\u5448\u73b0\u4e3a\uff1a</p> <pre><code>&lt;a href=\"/calendar/today\" /&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#location-string","title":"location: string","text":"<p>\u670d\u52a1\u5668\u6536\u5230\u7684 URL\uff0c\u53ef\u80fd\u662f node server \u4e0a\u7684 <code>req.url</code>\u3002</p> <pre><code>&lt;StaticRouter location={req.url}&gt;\n  &lt;App /&gt;\n&lt;/StaticRouter&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#location-object_2","title":"location: object","text":"<p>\u4e00\u4e2a\u5f62\u5982 <code>{pathname, search, hash, state}</code> \u7684\u4f4d\u7f6e\u5bf9\u8c61\u3002</p> <pre><code>&lt;StaticRouter location={{ pathname: '/bubblegum' }}&gt;\n  &lt;App /&gt;\n&lt;/StaticRouter&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#context-object","title":"context: object","text":"<p>\u4e00\u4e2a\u666e\u901a\u7684 JavaScript \u5bf9\u8c61\u3002\u5728\u6e32\u67d3\u8fc7\u7a0b\u4e2d\uff0c\u7ec4\u4ef6\u53ef\u4ee5\u5411\u5bf9\u8c61\u6dfb\u52a0\u5c5e\u6027\u4ee5\u5b58\u50a8\u6709\u5173\u6e32\u67d3\u7684\u4fe1\u606f\u3002</p> <pre><code>const context = {};\n\n&lt;StaticRouter context={context}&gt;\n  &lt;App /&gt;\n&lt;/StaticRouter&gt;\n</code></pre> <p>\u5f53\u4e00\u4e2a <code>&lt;Route&gt;</code> \u5339\u914d\u65f6\uff0c\u5b83\u5c06\u628a context \u5bf9\u8c61\u4f20\u9012\u7ed9\u5448\u73b0\u4e3a <code>staticContext</code> \u7684\u7ec4\u4ef6\u3002\u67e5\u770b\u670d\u52a1\u5668\u6e32\u67d3\u6307\u5357\u4ee5\u83b7\u53d6\u6709\u5173\u5982\u4f55\u81ea\u884c\u5b8c\u6210\u6b64\u64cd\u4f5c\u7684\u66f4\u591a\u4fe1\u606f\u3002</p> <p>\u6e32\u67d3\u4e4b\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u5c5e\u6027\u6765\u914d\u7f6e\u670d\u52a1\u5668\u7684\u54cd\u5e94\u3002</p> <pre><code>if (context.status === '404') {\n  // ...\n}\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#children-node_4","title":"children: node","text":"<p>\u8981\u5448\u73b0\u7684\u5355\u4e2a\u5b50\u5143\u7d20\uff08\u7ec4\u4ef6\uff09\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#_11","title":"<p>\u7528\u4e8e\u6e32\u67d3\u4e0e\u8def\u5f84\u5339\u914d\u7684\u7b2c\u4e00\u4e2a\u5b50 <code>&lt;Route&gt;</code> \u6216 <code>&lt;Redirect&gt;</code>\u3002</p> <p>\u8fd9\u4e0e\u4ec5\u4ec5\u4f7f\u7528\u4e00\u7cfb\u5217 <code>&lt;Route&gt;</code> \u6709\u4f55\u4e0d\u540c\uff1f</p> <p><code>&lt;Switch&gt;</code> \u53ea\u4f1a\u6e32\u67d3\u4e00\u4e2a\u8def\u7531\u3002\u76f8\u53cd\uff0c\u4ec5\u4ec5\u5b9a\u4e49\u4e00\u7cfb\u5217 <code>&lt;Route&gt;</code> \u65f6\uff0c\u6bcf\u4e00\u4e2a\u4e0e\u8def\u5f84\u5339\u914d\u7684 <code>&lt;Route&gt;</code> \u90fd\u5c06\u5305\u542b\u5728\u6e32\u67d3\u8303\u56f4\u5185\u3002\u8003\u8651\u5982\u4e0b\u4ee3\u7801\uff1a</p> <pre><code>&lt;Route path=\"/about\" component={About} /&gt;\n&lt;Route path=\"/:user\" component={User} /&gt;\n&lt;Route component={NoMatch} /&gt;\n</code></pre> <p>\u5982\u679c URL \u662f <code>/about</code>\uff0c\u90a3\u4e48 <code>&lt;About&gt;</code>\u3001<code>&lt;User&gt;</code> \u548c <code>&lt;NoMatch&gt;</code> \u5c06\u5168\u90e8\u6e32\u67d3\uff0c\u56e0\u4e3a\u5b83\u4eec\u90fd\u4e0e\u8def\u5f84\u5339\u914d\u3002\u8fd9\u662f\u901a\u8fc7\u8bbe\u8ba1\uff0c\u5141\u8bb8\u6211\u4eec\u4ee5\u5f88\u591a\u65b9\u5f0f\u5c06 <code>&lt;Route&gt;</code> \u7ec4\u5408\u6210\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f8b\u5982\u4fa7\u8fb9\u680f\u548c\u9762\u5305\u5c51\u3001\u5f15\u5bfc\u6807\u7b7e\u7b49\u3002</p> <p>\u4f46\u662f\uff0c\u6709\u65f6\u5019\u6211\u4eec\u53ea\u60f3\u9009\u62e9\u4e00\u4e2a <code>&lt;Route&gt;</code> \u6765\u5448\u73b0\u3002\u6bd4\u5982\u6211\u4eec\u5728 URL \u4e3a <code>/about</code> \u65f6\u4e0d\u60f3\u5339\u914d <code>/:user</code>\uff08\u6216\u8005\u663e\u793a\u6211\u4eec\u7684 404 \u9875\u9762\uff09\uff0c\u8fd9\u8be5\u600e\u4e48\u5b9e\u73b0\u5462\uff1f\u4ee5\u4e0b\u5c31\u662f\u5982\u4f55\u4f7f\u7528 <code>&lt;Switch&gt;</code> \u505a\u5230\u8fd9\u4e00\u70b9\uff1a</p> <pre><code>import { Switch, Route } from 'react-router';\n\n&lt;Switch&gt;\n  &lt;Route exact path=\"/\" component={Home} /&gt;\n  &lt;Route path=\"/about\" component={About} /&gt;\n  &lt;Route path=\"/:user\" component={User} /&gt;\n  &lt;Route component={NoMatch} /&gt;\n&lt;/Switch&gt;\n</code></pre> <p>\u73b0\u5728\uff0c\u5f53\u6211\u4eec\u5728 <code>/about</code> \u8def\u5f84\u65f6\uff0c<code>&lt;Switch&gt;</code> \u5c06\u5f00\u59cb\u5bfb\u627e\u5339\u914d\u7684 <code>&lt;Route&gt;</code>\u3002\u6211\u4eec\u77e5\u9053\uff0c<code>&lt;Route path=\"/about\" /&gt;</code> \u5c06\u4f1a\u88ab\u6b63\u786e\u5339\u914d\uff0c\u8fd9\u65f6 <code>&lt;Switch&gt;</code> \u4f1a\u505c\u6b62\u67e5\u627e\u5339\u914d\u9879\u5e76\u7acb\u5373\u5448\u73b0 <code>&lt;About&gt;</code>\u3002\u540c\u6837\uff0c\u5982\u679c\u6211\u4eec\u5728 <code>/michael</code> \u8def\u5f84\u65f6\uff0c\u90a3\u4e48 <code>&lt;User&gt;</code> \u4f1a\u5448\u73b0\u3002</p> <p>\u8fd9\u5bf9\u4e8e\u52a8\u753b\u8f6c\u6362\u4e5f\u5f88\u6709\u7528\uff0c\u56e0\u4e3a\u5339\u914d\u7684 <code>&lt;Route&gt;</code> \u4e0e\u524d\u4e00\u4e2a\u6e32\u67d3\u4f4d\u7f6e\u76f8\u540c\u3002</p> <pre><code>&lt;Fade&gt;\n  &lt;Switch&gt;\n    {/* \u8fd9\u91cc\u53ea\u4f1a\u6e32\u67d3\u4e00\u4e2a\u5b50\u5143\u7d20 */}\n    &lt;Route /&gt;\n    &lt;Route /&gt;\n  &lt;/Switch&gt;\n&lt;/Fade&gt;\n\n&lt;Fade&gt;\n  &lt;Route /&gt;\n  &lt;Route /&gt;\n  {/* \u8fd9\u91cc\u603b\u662f\u4f1a\u6e32\u67d3\u4e24\u4e2a\u5b50\u5143\u7d20\uff0c\u4e5f\u6709\u53ef\u80fd\u662f\u7a7a\u6e32\u67d3\uff0c\u8fd9\u4f7f\u5f97\u8f6c\u6362\u66f4\u52a0\u9ebb\u70e6 */}\n&lt;/Fade&gt;\n</code></pre>","text":""},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#location-object_3","title":"location: object","text":"<p>\u7528\u4e8e\u5339\u914d\u5b50\u5143\u7d20\u800c\u4e0d\u662f\u5f53\u524d\u5386\u53f2\u4f4d\u7f6e\uff08\u901a\u5e38\u662f\u5f53\u524d\u7684\u6d4f\u89c8\u5668 URL\uff09\u7684 location \u5bf9\u8c61\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A31-v4/#children-node_5","title":"children: node","text":"<p>\u6240\u6709 <code>&lt;Switch&gt;</code> \u7684\u5b50\u5143\u7d20\u90fd\u5e94\u8be5\u662f <code>&lt;Route&gt;</code> \u6216 <code>&lt;Redirect&gt;</code>\u3002\u53ea\u6709\u7b2c\u4e00\u4e2a\u5339\u914d\u5f53\u524d\u8def\u5f84\u7684\u5b50\u5143\u7d20\u5c06\u88ab\u5448\u73b0\u3002</p> <p><code>&lt;Route&gt;</code> \u7ec4\u4ef6\u4f7f\u7528 <code>path</code> \u5c5e\u6027\u8fdb\u884c\u5339\u914d\uff0c\u800c <code>&lt;Redirect&gt;</code> \u7ec4\u4ef6\u4f7f\u7528\u5b83\u4eec\u7684 <code>from</code> \u5c5e\u6027\u8fdb\u884c\u5339\u914d\u3002\u6ca1\u6709 <code>path</code> \u5c5e\u6027\u7684 <code>&lt;Route&gt;</code> \u6216\u8005\u6ca1\u6709 <code>from</code> \u5c5e\u6027\u7684 <code>&lt;Redirect&gt;</code> \u5c06\u59cb\u7ec8\u4e0e\u5f53\u524d\u8def\u5f84\u5339\u914d\u3002</p> <p>\u5f53\u5728 <code>&lt;Switch&gt;</code> \u4e2d\u5305\u542b <code>&lt;Redirect&gt;</code> \u65f6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55 <code>&lt;Route&gt;</code> \u62e5\u6709\u7684\u8def\u5f84\u5339\u914d\u5c5e\u6027\uff1a<code>path</code>\u3001<code>exact</code> \u548c <code>strict</code>\u3002<code>from</code> \u53ea\u662f <code>path</code> \u7684\u522b\u540d\u3002</p> <p>\u5982\u679c\u7ed9 <code>&lt;Switch&gt;</code> \u63d0\u4f9b\u4e00\u4e2a <code>location</code> \u5c5e\u6027\uff0c\u5b83\u5c06\u8986\u76d6\u5339\u914d\u7684\u5b50\u5143\u7d20\u4e0a\u7684 <code>location</code> \u5c5e\u6027\u3002</p> <pre><code>&lt;Switch&gt;\n  &lt;Route exact path=\"/\" component={Home} /&gt;\n  &lt;Route path=\"/users\" component={Users} /&gt;\n  &lt;Redirect from=\"/accounts\" to=\"/users\" /&gt;\n  &lt;Route component={NoMatch} /&gt;\n&lt;/Switch&gt;\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A32/","title":"React Router \u4e2d\u6587\u6587\u6863\uff08\u4e8c\uff09","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 10760  \u9605\u8bfb22\u5206\u949f</p> <p>\u5b98\u65b9\u82f1\u6587\u6587\u6863 - https://reacttraining.com/rea... \u7248\u672c - <code>v4.2.0</code></p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A32/#history","title":"history","text":"<p>\u672c\u6587\u6863\u4e2d\u7684\u672f\u8bed <code>history</code> \u6307\u7684\u662f history \u5305\uff0c\u5b83\u662f React Router \u7684\u4e24\u4e2a\u4e3b\u8981\u4f9d\u8d56\u4e4b\u4e00\uff08\u9664\u4e86 React \u672c\u8eab\uff09\uff0c\u5e76\u4e14\u63d0\u4f9b\u4e86\u51e0\u79cd\u4e0d\u540c\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u7528\u4e8e\u5728\u5404\u79cd\u73af\u5883\u4e2d\u7ba1\u7406 JavaScript \u4e2d\u7684\u4f1a\u8bdd\u5386\u53f2\u3002</p> <p>\u4ee5\u4e0b\u672f\u8bed\u6211\u4eec\u4f1a\u7ecf\u5e38\u4f7f\u7528\uff1a</p> <ul> <li><code>browser history</code> - \u9488\u5bf9 DOM \u73af\u5883\uff0c\u7528\u4e8e\u652f\u6301 HTML5 history API \u7684\u6d4f\u89c8\u5668</li> <li><code>hash history</code> - \u9488\u5bf9 DOM \u73af\u5883\uff0c\u7528\u4e8e\u4f20\u7edf\u7684\u65e7\u5f0f\uff08\u4f4e\u7248\u672c\uff09 \u6d4f\u89c8\u5668</li> <li><code>memory history</code> - <code>history</code> \u5728\u5185\u5b58\u4e0a\u7684\u5b9e\u73b0\uff0c\u7528\u4e8e\u6d4b\u8bd5\u4ee5\u53ca React Native \u7b49\u975e DOM \u73af\u5883</li> </ul> <p><code>history</code> \u5bf9\u8c61\u901a\u5e38\u5177\u6709\u4ee5\u4e0b\u5c5e\u6027\u548c\u65b9\u6cd5\uff1a</p> <ul> <li><code>length</code> - number \u5386\u53f2\u5806\u6808\u4e2d\u7684\u6761\u76ee\u6570</li> <li><code>action</code> - string \u5f53\u524d\u7684\u5bfc\u822a\u64cd\u4f5c\uff08<code>push</code>\u3001<code>replace</code> \u6216 <code>pop</code>\uff09</li> <li><code>location</code> - object \u5f53\u524d\u8bbf\u95ee\u7684\u4f4d\u7f6e\u4fe1\u606f\uff0c\u53ef\u80fd\u5177\u6709\u4ee5\u4e0b\u5c5e\u6027\uff1a</li> <li><code>pathname</code> - string URL \u8def\u5f84</li> <li><code>search</code> - string URL \u4e2d\u7684\u67e5\u8be2\u5b57\u7b26\u4e32</li> <li><code>hash</code> - string URL \u4e2d\u7684 hash \u7247\u6bb5</li> <li><code>state</code> - object \u5b58\u50a8\u81f3 <code>location</code> \u4e2d\u7684\u989d\u5916\u72b6\u6001\u6570\u636e\uff0c\u4ec5\u5728 <code>browser history</code> \u548c <code>memory history</code> \u4e2d\u6709\u6548\u3002</li> <li><code>push(path, [state])</code> - function \u5c06\u4e00\u4e2a\u65b0\u6761\u76ee\u63a8\u5165\u5230\u5386\u53f2\u5806\u6808\u4e2d</li> <li><code>replace(path, [state])</code> - function \u66ff\u6362\u5386\u53f2\u5806\u6808\u4e2d\u7684\u5f53\u524d\u6761\u76ee</li> <li><code>go(n)</code> - function \u5c06\u5386\u53f2\u5806\u6808\u4e2d\u7684\u6307\u9488\u79fb\u52a8 n \u4e2a\u6761\u76ee</li> <li><code>goBack()</code> - function \u8fd4\u56de\u5230\u4e0a\u4e00\u4e2a\u9875\u9762\uff0c\u76f8\u5f53\u4e8e go(-1)</li> <li><code>goForward()</code> - function \u8fdb\u5165\u5230\u4e0b\u4e00\u4e2a\u9875\u9762\uff0c\u76f8\u5f53\u4e8e go(1)</li> <li><code>block(prompt)</code> - function \u963b\u6b62\u5bfc\u822a\uff08\u8bf7\u53c2\u9605 history \u6587\u6863\uff09</li> </ul>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A32/#history-is-mutable","title":"history is mutable","text":"<p><code>history</code> \u5bf9\u8c61\u662f\u53ef\u53d8\u7684\u3002\u56e0\u6b64\u5efa\u8bae\u4ece <code>&lt;Route&gt;</code> \u6e32\u67d3\u7ec4\u4ef6\u65f6\u63a5\u6536\u7684\u5c5e\u6027\u4e2d\u76f4\u63a5\u8bbf\u95ee <code>location</code>\uff0c\u800c\u4e0d\u662f\u901a\u8fc7 <code>history.location</code> \u8fdb\u884c\u8bbf\u95ee\u3002\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1 React \u5728\u751f\u547d\u5468\u671f\u4e2d\u7684\u94a9\u5b50\u51fd\u6570\u6b63\u5e38\u6267\u884c\u3002\u4f8b\u5982\uff1a</p> <pre><code>class Comp extends React.Component {\n  componentWillReceiveProps(nextProps) {\n    // locationChanged \u4f1a\u662f true\n    const locationChanged = nextProps.location !== this.props.location;\n\n    // \u9519\u8bef\uff0clocationChanged \u6c38\u8fdc\u662f false\uff0c\u56e0\u4e3a history \u662f\u53ef\u53d8\u7684\u3002\n    const locationChanged = nextProps.history.location !== this.props.history.location;\n  }\n}\n\n&lt;Route component={Comp} /&gt;\n</code></pre> <p>\u6839\u636e\u4f60\u4f7f\u7528\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u8fd8\u53ef\u80fd\u5b58\u5728\u5176\u5b83\u5c5e\u6027\u3002\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 history \u6587\u6863\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A32/#location","title":"location","text":"<p><code>location</code> \u4ee3\u8868\u5e94\u7528\u7a0b\u5e8f\u7684\u4f4d\u7f6e\u3002\u5982\u5f53\u524d\u7684\u4f4d\u7f6e\uff0c\u5c06\u8981\u53bb\u7684\u4f4d\u7f6e\uff0c\u6216\u662f\u4e4b\u524d\u6240\u5728\u7684\u4f4d\u7f6e\u3002\u5b83\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a</p> <pre><code>{\n  key: 'ac3df4', // \u4f7f\u7528 hash history \u65f6\uff0c\u6ca1\u6709\u8fd9\u4e2a\u5c5e\u6027\n  pathname: '/somewhere'\n  search: '?some=search-string',\n  hash: '#howdy',\n  state: {\n    [userDefined]: true\n  }\n}\n</code></pre> <p>Router \u5c06\u5728\u4ee5\u4e0b\u51e0\u4e2a\u5730\u65b9\u4e3a\u60a8\u63d0\u4f9b\u4e00\u4e2a <code>location</code> \u5bf9\u8c61\uff1a</p> <ul> <li>\u5728 <code>Route component</code> \u4e2d\uff0c\u4ee5 <code>this.props.location</code> \u65b9\u5f0f\u83b7\u53d6</li> <li>\u5728 <code>Route render</code> \u4e2d\uff0c\u4ee5 <code>({ location }) =&gt; ()</code> \u65b9\u5f0f\u83b7\u53d6</li> <li>\u5728 <code>Route children</code> \u4e2d\uff0c\u4ee5 <code>({ location }) =&gt; ()</code> \u65b9\u5f0f\u83b7\u53d6</li> <li>\u5728 <code>withRouter</code> \u4e2d\uff0c\u4ee5 <code>this.props.location</code> \u65b9\u5f0f\u83b7\u53d6</li> </ul> <p><code>location</code> \u5bf9\u8c61\u6c38\u8fdc\u4e0d\u4f1a\u53d1\u751f\u6539\u53d8\uff0c\u56e0\u6b64\u53ef\u4ee5\u5728\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570\u4e2d\u4f7f\u7528 <code>location</code> \u5bf9\u8c61\u6765\u67e5\u770b\u5f53\u524d\u8bbf\u95ee\u5730\u5740\u662f\u5426\u53d1\u751f\u6539\u53d8\u3002\u8fd9\u79cd\u6280\u5de7\u5728\u83b7\u53d6\u8fdc\u7a0b\u6570\u636e\u4ee5\u53ca\u4f7f\u7528\u52a8\u753b\u65f6\u975e\u5e38\u6709\u7528\u3002</p> <pre><code>componentWillReceiveProps(nextProps) {\n  if (nextProps.location !== this.props.location) {\n    // \u5df2\u7ecf\u8df3\u8f6c\u4e86\uff01\n  }\n}\n</code></pre> <p>\u53ef\u4ee5\u5728\u4ee5\u4e0b\u4e0d\u540c\u60c5\u5883\u4e2d\u4f7f\u7528 <code>location</code>\uff1a</p> <ul> <li>Web </li> <li>React Native </li> <li></li> <li>history.push(location)</li> <li>history.replace(location)</li> </ul> <p>\u901a\u5e38\u60c5\u51b5\u4e0b\u53ea\u662f\u4f7f\u7528\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4f46\u662f\u5982\u679c\u4f60\u9700\u8981\u6dfb\u52a0\u4e00\u4e9b\u989d\u5916\u7684 <code>state</code>\uff0c\u4ee5\u5728\u5e94\u7528\u7a0b\u5e8f\u8df3\u8f6c\u5230\u7279\u5b9a\u4f4d\u7f6e\u65f6\u53ef\u4ee5\u4f7f\u7528\uff0c\u90a3\u4e48\u4f60\u5c31\u53ef\u4ee5\u4f7f\u7528 <code>location</code> \u5bf9\u8c61\u3002\u5982\u679c\u4f60\u60f3\u6839\u636e\u5bfc\u822a\u5386\u53f2\u800c\u4e0d\u662f\u8def\u5f84\u6765\u7ec4\u7ec7 UI\uff08\u5982\u6a21\u6001\u5bf9\u8bdd\u6846\uff09\uff0c\u8fd9\u4e5f\u5f88\u6709\u7528\uff08\u89c1\u6a21\u6001\u753b\u5eca\u793a\u4f8b\uff09\u3002</p> <pre><code>// \u901a\u5e38\u60c5\u51b5\u4e0b\u6211\u4eec\u8fd9\u4e48\u505a\n&lt;Link to=\"/somewhere\" /&gt;\n\n// \u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u6539\u4e3a\u4f7f\u7528 location \u5bf9\u8c61\nconst location = {\n  pathname: '/somewhere',\n  state: { fromDashboard: true }\n};\n\n&lt;Link to={location} /&gt;\n&lt;Redirect to={location} /&gt;\nhistory.push(location);\nhistory.replace(location);\n</code></pre> <p>\u6700\u7ec8\uff0c<code>location</code> \u5c06\u4f20\u9012\u7ed9\u4ee5\u4e0b\u7ec4\u4ef6\uff1a</p> <ul> <li>Route</li> <li>Switch</li> </ul> <p>\u8fd9\u5c06\u963b\u6b62\u5b83\u4eec\u5728 Router \u72b6\u6001\u4e0b\u4f7f\u7528\u5b9e\u9645\u4f4d\u7f6e\u3002\u8fd9\u5bf9\u52a8\u753b\u548c\u7b49\u5f85\u5bfc\u822a\u975e\u5e38\u6709\u7528\uff0c\u6216\u8005\u4efb\u4f55\u65f6\u5019\u4f60\u60f3\u8bf1\u5bfc\u4e00\u4e2a\u7ec4\u4ef6\u5728\u4e0d\u540c\u4e8e\u771f\u5b9e\u4f4d\u7f6e\u7684\u5730\u65b9\u6e32\u67d3\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A32/#match","title":"match","text":"<p>\u4e00\u4e2a <code>match</code> \u5bf9\u8c61\u5305\u542b\u6709\u5173 <code>&lt;Route path&gt;</code> \u5982\u4f55\u5339\u914d URL \u7684\u4fe1\u606f\u3002\u5b83\u5177\u6709\u4ee5\u4e0b\u5c5e\u6027\uff1a</p> <ul> <li><code>params</code> - object \u6839\u636e <code>path</code> \u4e2d\u6307\u5b9a\u7684\u52a8\u6001\u7247\u6bb5\uff0c\u4ece URL \u4e2d\u89e3\u6790\u51fa\u7684\u952e\u503c\u5bf9</li> <li><code>isExact</code> - boolean \u5982\u679c\u6574\u4e2a URL \u5339\u914d\uff08\u4e0d\u5305\u542b\u5c3e\u968f\u5b57\u7b26\uff09\uff0c\u5219\u4e3a <code>true</code></li> <li><code>path</code> - string \u7528\u4e8e\u5339\u914d\u7684\u8def\u5f84\u6a21\u5f0f\u3002\u53ef\u7528\u4e8e\u6784\u5efa\u5d4c\u5957\u7684 <code>&lt;Route&gt;</code></li> <li><code>url</code> - string URL \u7684\u5339\u914d\u90e8\u5206\u3002\u53ef\u7528\u4e8e\u6784\u5efa\u5d4c\u5957\u7684 <code>&lt;Link&gt;</code></li> </ul> <p>\u60a8\u53ef\u4ee5\u5728\u4ee5\u4e0b\u51e0\u4e2a\u5730\u65b9\u8bbf\u95ee <code>match</code> \u5bf9\u8c61\uff1a</p> <ul> <li>\u5728 <code>Route component</code> \u4e2d\uff0c\u4ee5 <code>this.props.match</code> \u65b9\u5f0f\u83b7\u53d6</li> <li>\u5728 <code>Route render</code> \u4e2d\uff0c\u4ee5 <code>({ match }) =&gt; ()</code> \u65b9\u5f0f\u83b7\u53d6</li> <li>\u5728 <code>Route children</code> \u4e2d\uff0c\u4ee5 <code>({ match }) =&gt; ()</code> \u65b9\u5f0f\u83b7\u53d6</li> <li>\u5728 <code>withRouter</code> \u4e2d\uff0c\u4ee5 <code>this.props.match</code> \u65b9\u5f0f\u83b7\u53d6</li> <li><code>matchPath</code> \u7684\u8fd4\u56de\u503c</li> </ul> <p>\u5982\u679c <code>&lt;Route&gt;</code> \u6ca1\u6709\u5b9a\u4e49 <code>path</code>\uff0c\u5e76\u56e0\u6b64\u59cb\u7ec8\u5339\u914d\uff0c\u5219\u4f1a\u5f97\u5230\u6700\u63a5\u8fd1\u7684\u7236\u5339\u914d\u3002<code>withRouter</code> \u4e5f\u662f\u4e00\u6837\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A32/#null-matches","title":"null matches","text":"<p>\u5728 <code>&lt;Route path=\"/somewhere\" children={({ match }) =&gt; ()} /&gt;</code> \u4e2d\uff0c\u5373\u4f7f <code>path</code> \u4e0e\u5f53\u524d\u4f4d\u7f6e\u4e0d\u5339\u914d\uff0c<code>children</code>\u6307\u5b9a\u7684\u5185\u8054\u51fd\u6570\u4e5f\u4f9d\u7136\u4f1a\u88ab\u8c03\u7528\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c<code>match</code> \u4e3a <code>null</code>\u3002\u80fd\u591f\u5728\u4e0d\u5339\u914d\u65f6\u4f9d\u7136\u5448\u73b0 <code>&lt;Route&gt;</code> \u7684\u5185\u5bb9\u53ef\u80fd\u5f88\u6709\u7528\uff0c\u4f46\u662f\u8fd9\u6837\u4f1a\u5e26\u6765\u4e00\u4e9b\u6311\u6218\u3002</p> <p>\u89e3\u6790 URL \u7684\u9ed8\u8ba4\u65b9\u5f0f\u662f\u5c06 <code>match.url</code> \u5b57\u7b26\u4e32\u8fde\u63a5\u5230 relative-path\u3002</p> <pre><code>`${match.url}/relative-path`\n</code></pre> <p>\u5982\u679c\u4f60\u5728 <code>match</code> \u4e3a <code>null</code> \u65f6\u5c1d\u8bd5\u6267\u884c\u6b64\u64cd\u4f5c\uff0c\u6700\u7ec8\u4f1a\u51fa\u73b0 <code>TypeError</code> \u9519\u8bef\u3002\u8fd9\u610f\u5473\u7740\u5728\u4f7f\u7528 <code>children</code> \u5c5e\u6027\u65f6\u5c1d\u8bd5\u5728 <code>&lt;Route&gt;</code> \u5185\u90e8\u8fde\u63a5 relative-path \u662f\u4e0d\u5b89\u5168\u7684\u3002</p> <p>\u5f53\u60a8\u5728\u4ea7\u751f\u7a7a\u5339\u914d\u5bf9\u8c61\u7684 <code>&lt;Route&gt;</code> \u5185\u90e8\u4f7f\u7528\u6ca1\u6709\u5b9a\u4e49 <code>path</code> \u7684 <code>&lt;Route&gt;</code> \u65f6\uff0c\u4f1a\u51fa\u73b0\u7c7b\u4f3c\u4f46\u66f4\u5fae\u5999\u7684\u60c5\u51b5\u3002</p> <pre><code>// location.pathname = '/matches'\n&lt;Route path='/does-not-match' children={({ match }) =&gt; (\n  // match === null\n  &lt;Route render={({ match: pathlessMatch }) =&gt; (\n    // pathlessMatch === ???\n  )} /&gt;\n)} /&gt;\n</code></pre> <p>\u6ca1\u6709 <code>path</code> \u7684 <code>&lt;Route&gt;</code> \u4ece\u5b83\u7684\u7236\u8282\u70b9\u7ee7\u627f <code>match</code> \u5bf9\u8c61\u3002\u5982\u679c\u5b83\u7684\u7236\u5339\u914d\u4e3a <code>null</code>\uff0c\u90a3\u4e48\u5b83\u7684\u5339\u914d\u4e5f\u5c06\u4e3a <code>null</code>\u3002\u8fd9\u610f\u5473\u7740\uff1a</p> <ul> <li>\u4efb\u4f55\u5b50\u8def\u7531/\u5b50\u94fe\u63a5\u5fc5\u987b\u662f\u7edd\u5bf9\u7684</li> <li>\u4e00\u4e2a\u6ca1\u6709\u5b9a\u4e49 <code>path</code> \u7684 <code>&lt;Route&gt;</code>\uff0c\u5b83\u7684\u7236\u5339\u914d\u53ef\u4ee5\u4e3a <code>null</code>\uff0c\u4f46\u5b83\u672c\u8eab\u9700\u8981\u4f7f\u7528 <code>children</code> \u6765\u5448\u73b0\u5185\u5bb9\u3002</li> </ul>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A32/#matchpath","title":"matchPath","text":"<p>\u5728\u6b63\u5e38\u7684\u6e32\u67d3\u5468\u671f\u4e4b\u5916\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u548c <code>&lt;Route&gt;</code> \u6240\u4f7f\u7528\u7684\u76f8\u540c\u7684\u5339\u914d\u4ee3\u7801\uff0c\u4f8b\u5982\u5728\u670d\u52a1\u5668\u4e0a\u5448\u73b0\u4e4b\u524d\u6536\u96c6\u6570\u636e\u4f9d\u8d56\u5173\u7cfb\u3002</p> <pre><code>import { matchPath } from 'react-router';\n\nconst match = matchPath('/users/123', {\n  path: '/users/:id',\n  exact: true,\n  strict: false\n});\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A32/#pathname","title":"pathname","text":"<p>\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u8981\u5339\u914d\u7684\u8def\u5f84\u540d\u3002\u5982\u679c\u60a8\u5728\u670d\u52a1\u5668\u4e0a\u901a\u8fc7 Node.js \u4f7f\u7528\uff0c\u5b83\u5c06\u662f <code>req.path</code>\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A32/#props","title":"props","text":"<p>\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u5339\u914d\u7684\u5c5e\u6027\uff0c\u5b83\u4eec\u4e0e <code>&lt;Route&gt;</code> \u63a5\u53d7\u7684\u5339\u914d\u5c5e\u6027\u76f8\u540c\uff1a</p> <pre><code>{\n  path, // \u4f8b\u5982 /users/:id\n  strict, // \u53ef\u9009\uff0c\u9ed8\u8ba4\u4e3a false\n  exact // \u53ef\u9009\uff0c\u9ed8\u8ba4\u4e3afalse\n}\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A32/#withrouter","title":"withRouter","text":"<p>\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>withRouter</code> \u9ad8\u9636\u7ec4\u4ef6\u8bbf\u95ee <code>history</code> \u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u6700\u8fd1\uff08UI \u7ed3\u6784\u4e0a\u9760\u7684\u6700\u8fd1\uff09\u7684 <code>&lt;Route&gt;</code> \u7684 <code>match</code> \u5bf9\u8c61\u3002\u5f53\u7ec4\u4ef6\u6e32\u67d3\u65f6\uff0c<code>withRouter</code> \u4f1a\u5c06\u66f4\u65b0\u540e\u7684 <code>match</code>\u3001<code>location</code> \u548c <code>history</code> \u4f20\u9012\u7ed9\u5b83\u3002</p> <pre><code>import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\n\n// \u663e\u793a\u5f53\u524d\u4f4d\u7f6e\u7684 pathname \u7684\u7b80\u5355\u7ec4\u4ef6\nclass ShowTheLocation extends React.Component {\n  static propTypes = {\n    match: PropTypes.object.isRequired,\n    location: PropTypes.object.isRequired,\n    history: PropTypes.object.isRequired\n  }\n\n  render() {\n    const { match, location, history } = this.props;\n\n    return (\n      &lt;div&gt;You are now at {location.pathname}&lt;/div&gt;\n    );\n  }\n}\n\n// \u521b\u5efa\u4e00\u4e2a\u8fde\u63a5\u5230 Router \u7684\u65b0\u7ec4\u4ef6\uff08\u501f\u7528 redux \u672f\u8bed\uff09\nconst ShowTheLocationWithRouter = withRouter(ShowTheLocation)\n</code></pre> <p>\u6ce8\u610f\uff1awithRouter \u4e0d\u4f1a\u8ba2\u9605\u4f4d\u7f6e\u66f4\u6539\uff0c\u5982 React Redux \u7684 connect \u5bf9\u72b6\u6001\u66f4\u6539\u6240\u505a\u7684\u66f4\u6539\u3002\u800c\u662f\u5728\u4f4d\u7f6e\u66f4\u6539\u4ece  \u7ec4\u4ef6\u4f20\u64ad\u51fa\u53bb\u4e4b\u540e\u91cd\u65b0\u5448\u73b0\u3002\u8fd9\u610f\u5473\u7740\u9664\u975e\u5176\u7236\u7ec4\u4ef6\u91cd\u65b0\u5448\u73b0\uff0c\u5426\u5219\u4f7f\u7528 withRouter \u4e0d\u4f1a\u5728\u8def\u7531\u8f6c\u6362\u65f6\u91cd\u65b0\u5448\u73b0\u3002\u5982\u679c\u4f7f\u7528 withRouter \u6765\u9632\u6b62\u66f4\u65b0\u88ab shouldComponentUpdate \u963b\u585e\uff0c\u90a3\u4e48\u4f7f\u7528router \u5305\u88c5\u5b9e\u73b0 shouldComponentUpdate \u7684\u7ec4\u4ef6\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002\u4f8b\u5982\uff0c\u4f7f\u7528 Redux \u65f6\uff1a <pre><code>// This gets around shouldComponentUpdate\nwithRouter(connect(...)(MyComponent))\n// or\ncompose(\n  withRouter,\n  connect(...)\n)(MyComponent)\n\n// This does not\nconnect(...)(withRouter(MyComponent))\n// nor\ncompose(\n  connect(...),\n  withRouter\n)(MyComponent)\n</code></pre> <p>\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u672c\u6307\u5357\u3002</p> <p>\u9759\u6001\u65b9\u6cd5\u548c\u5c5e\u6027</p> <p>\u5c01\u88c5\u7ec4\u4ef6\u7684\u6240\u6709\u65e0\u53cd\u5e94\u7684\u7279\u5b9a\u9759\u6001\u65b9\u6cd5\u548c\u5c5e\u6027\u90fd\u4f1a\u81ea\u52a8\u590d\u5236\u5230 connected \u7ec4\u4ef6\u3002</p>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A32/#componentwrappedcomponent","title":"Component.WrappedComponent","text":"<p>\u88ab\u5305\u88c5\u7684\u7ec4\u4ef6\u88ab\u516c\u5f00\u4e3a\u8fd4\u56de\u7ec4\u4ef6\u4e0a\u7684\u9759\u6001\u5c5e\u6027 <code>WrappedComponent</code>\uff0c\u5b83\u53ef\u7528\u4e8e\u9694\u79bb\u6d4b\u8bd5\u7ec4\u4ef6\u7b49\u7b49\u3002</p> <pre><code>// MyComponent.js\nexport default withRouter(MyComponent);\n\n// MyComponent.test.js\nimport MyComponent from './MyComponent';\n\nrender(&lt;MyComponent.WrappedComponent location={{...}} ... /&gt;);\n</code></pre>"},{"location":"react-third-part-lib/todo-20-React%20Router%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A32/#wrappedcomponentref-func","title":"wrappedComponentRef: func","text":"<p>\u4e00\u4e2a\u5c06\u4f5c\u4e3a <code>ref</code> \u5c5e\u6027\u4f20\u9012\u7ed9\u5305\u88c5\u7ec4\u4ef6\u7684\u51fd\u6570\u3002</p> <pre><code>class Container extends React.Component {\n  componentDidMount() {\n    this.component.doSomething();\n  }\n\n  render() {\n    return (\n      &lt;MyComponent wrappedComponentRef={c =&gt; this.component = c} /&gt;\n    )\n  }\n}\n</code></pre>"},{"location":"react-third-part-lib/todo-20-react-router/","title":"todo-20-react-router","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 316  \u9605\u8bfb1\u5206\u949f</p> <p>2024\u5e74\u6700\u65b0\u7248\u672c 6.22.3\uff0c\u5176\u4ed6\u6587\u6863\u662f\u65e9\u671f\u7684 4.x.x \u4ee5\u6700\u65b0\u4e3a\u51c6</p> <p>\u5b98\u65b9\u6559\u7a0b\uff1ahttps://reactrouter.com/en/main/start/tutorial \u9700\u8981\u5b66\u4e60</p> <p>npm \u94fe\u63a5\uff1ahttps://www.npmjs.com/package/react-router</p> <p>\u5206\u6210 react-router-dom \u548c react-router-native\uff0c\u7f51\u9875\u4e2d\u4f7f\u7528\u7b2c\u4e00\u4e2a\u5373\u53ef</p>"},{"location":"react-third-part-lib/todo-26-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-use/","title":"react-use","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 179  \u9605\u8bfb1\u5206\u949f</p> <p>40K \u5173\u6ce8\uff0c\u5904\u7406\u5f88\u591a react-hooks </p> <p>https://github.com/streamich/react-use</p> <p>\u4e2d\u6587\u6587\u6863\uff1ahttps://github.com/zenghongtu/react-use-chinese/blob/master/README.md</p>"},{"location":"react-third-part-lib/todo-27-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-motion/","title":"react-motion","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4348  \u9605\u8bfb9\u5206\u949f</p> <p>\u8fd9\u662f\u4e00\u4e2areact\u6846\u67b6\u4e0b\u9762\u7684\u52a8\u753b\u5e93\uff0c\u53ef\u4ee5\u505a\u7b80\u5355\u7684\u52a8\u753b</p> <p>Stars 20K \u7248\u672c\u8fd8\u662f 0.5.2 \u6700\u8fd15\u5e74\u6ca1\u6709\u7ef4\u62a4\u8fc7\uff0c\u6574\u4f53\u4f7f\u7528\u8fd8\u53ef\u4ee5</p> <p>\u5b98\u7f51\u94fe\u63a5</p> <p>https://github.com/chenglou/react-motion</p> <p>https://www.npmjs.com/package/react-motion</p>"},{"location":"react-third-part-lib/todo-27-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-motion/#_1","title":"\u5b98\u65b9\u6848\u4f8b","text":"<p>\u8fd9\u90e8\u5206\u80fd\u5426\u627e\u4e00\u4e0b\u6e90\u7801</p> <ul> <li>Simple Transition</li> <li>Chat Heads</li> <li>Draggable Balls</li> <li>TodoMVC List Transition</li> <li>Photo Gallery</li> <li>Spring Parameters Chooser</li> <li>Water Ripples</li> <li>Draggable List</li> </ul> <p>\u5176\u4ed6\u57fa\u4e8e\u8fd9\u4e2a\u52a8\u753b\u5e93\u7684\u66f4\u591a\u5e94\u7528\uff1ahttps://github.com/chenglou/react-motion/wiki/Gallery-of-third-party-React-Motion-demos</p> <p>\u4f8b\u5982\u8fd9\u4e2a\u6251\u514b\u6e38\u620f\uff1ahttps://github.com/therewillbecode/react-poker \u8fd9\u4e2a\u53ef\u4ee5\u53e6\u5916\u5355\u72ec\u5f04</p> <p>\u4e2d\u6587\u5b9e\u4f8b</p> <p>https://juejin.im/post/5b48061551882519790c77f3</p> <p>\u4e0b\u9762\u8fd9\u4e2a\u6548\u679c\u6ca1\u6709\u5b9e\u9645\u6d4b\u8bd5</p> <pre><code>import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Motion, spring, presets } from 'react-motion';\nimport './modal.scss';\n\nclass Modal extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: props.isOpen || false\n    };\n    util.bindMethods(['onCancelClick', 'onOkClick', 'close', 'onRest'], this);\n  }\n\n  Modal.propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    title: PropTypes.string.isRequired,\n    children: PropTypes.oneOfType([PropTypes.element, PropTypes.string]).isRequired,\n    className: PropTypes.string,\n    maskClosable: PropTypes.bool,\n    onCancel: PropTypes.func,\n    onOk: PropTypes.func,\n    okText: PropTypes.string,\n    cancelText: PropTypes.string,\n    onRest: PropTypes.func\n    // \u52a8\u753b\u63a5\u53e3\n  };\n\n  Modal.defaultProps = {\n    className: '',\n    maskClosable: true,\n    onCancel: () =&gt; {},\n    onOk: () =&gt; {},\n    okText: 'OK',\n    cancelText: 'Cancel',\n    onRest: () =&gt; {}\n    // \u63a5\u53e3\u9ed8\u8ba4\u503c\u4e3a\u7a7a\u51fd\u6570\n  };\n\n  // \u56de\u8c03\u51fd\u6570\n  onRest = () =&gt; {\n    const { isOpen } = this.state;\n    if (!isOpen) {\n      this.props.onClose();\n    }\n    this.props.onRest();\n  }\n\n  onClose = () =&gt; {\n    setState({\n      isOpen: false\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if ('isOpen' in nextProps) {\n      this.setState({\n        isOpen: nextProps.isOpen\n      });\n    }\n  }\n\n  render() {\n    const { title, children, className, okText, cancelText, onOk, onCancel, maskClosable } = this.props;\n    return (\n      &lt;div className={`mocal-container ${className}`}&gt;\n        &lt;div className={`modal-title ${type}`}&gt;{title}&lt;/div&gt;\n        &lt;div className=\"modal-body\"&gt;\n          &lt;div className=\"modal-content\"&gt;{children}&lt;/div&gt;\n        &lt;div className=\"modal-footer\"&gt;\n          &lt;button className=\"ok-btn\" onClick={onOk}&gt;{okText}&lt;/button&gt;\n          &lt;button className=\"cancel-btn\" onClick={onCancel}&gt;{cancelText}&lt;/button&gt;\n        &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;Motion\n          defaultStyle={{opacity: 0.8, scale: 0.8}}\n          style={{opacity: spring(isOpen ? 1 : 0, presets.stiff), scale: spring(isOpen ? 1 : 0.8, presets.stiff)}}\n          onRest={this.onRest}&gt;\n          {\n           ({opacity, scale}) =&gt; (\n            &lt;div className={`modal-container ${className}`} style={{opacity}} onClick={maskClosable ? this.close : () =&gt; {} } &gt;\n            &lt;div className=\"modal-body\" style={{opacity, transform: `translate3d(-50%, -50%, 0) scale(${scale})`}}&gt;\n              &lt;div className={`modal-title ${type}`}&gt;{title}&lt;/div&gt;\n              &lt;div className=\"modal-content\"&gt;{children}&lt;/div&gt;\n              &lt;div className=\"modal-footer\"&gt;\n              &lt;button className=\"ok-btn\" onClick={this.onOkClick}&gt;{okText}&lt;/button&gt;\n              &lt;button className=\"cancel-btn\" onClick={this.onCancelClick}&gt;{cancelText}&lt;/button&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;/div&gt;\n            )\n          }\n        &lt;/Motion&gt;\n    );\n  }\n}\n\nexport default Modal;\n</code></pre>"},{"location":"react-third-part-lib/todo-28-sort-by/","title":"sort-by","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1796  \u9605\u8bfb4\u5206\u949f</p> <p>\u8fd9\u662f\u4e00\u4e2a\u5bf9\u8c61\u6570\u7ec4\u6392\u5e8f\u7684\u5e93</p> <p>A utility to create comparator functions for the native <code>Array.sort()</code> in both node and the browser. Allows for sorting by multiple properties.</p> <p>Inspired by this StackOverflow answer.</p>"},{"location":"react-third-part-lib/todo-28-sort-by/#example","title":"Example","text":"<pre><code>var sortBy = require('sort-by'), users = [];\n\nusers = [{\n    id: 7,\n    name: 'Foo',\n    age: '34',\n    email: { primary: 'foo@email.com' }\n}, {\n    id: 3,\n    name: 'Baz',\n    age: '67',\n    email: { primary: 'baz@email.com' }\n}, {\n    id: 4,\n    name: 'Bar',\n    age: '67',\n    email: { primary: 'bar@email.com' }\n}];\n\nusers.sort(sortBy('name', 'age'));\n\n/**\n*   result:\n*       [{id: 4, name: 'Bar', age: '67', email: { primary: 'bar@email.com' }},\n*       {id: 3, name: 'Baz', age: '67', email: { primary: 'baz@email.com' }},\n*       {id: 7, name: 'Foo', age: '34', email: { primary: 'foo@email.com' }}]\n*/\n\n/**\n* Use `-` to reverse the sort order\n*/\n\nusers.sort(sortBy('-id', 'name'));\n\n/*\n*   result:\n*       [{id: 7, name: 'Foo', age: '34', email: { primary: 'foo@email.com' }},\n*       {id: 4, name: 'Bar', age: '67', email: { primary: 'bar@email.com' }},\n*       {id: 3, name: 'Baz', age: '67', email: { primary: 'baz@email.com' }}]\n*/\n\n/**\n* Use `.` notation to traverse nested properties. See [object-path](https://www.npmjs.org/package/object-path) npm module for support.\n*/\n\nusers.sort(sortBy('age', 'email.primary'));\n\n/*\n*   result:\n*       [{id: 7, name: 'Foo', age: '34', email: { primary: 'foo@email.com' }},\n*       {id: 4, name: 'Bar', age: '67', email: { primary: 'bar@email.com' }},\n*       {id: 3, name: 'Baz', age: '67', email: { primary: 'baz@email.com' }}]\n*/\n</code></pre>"},{"location":"react-third-part-lib/todo-28-sort-by/#test-in-node","title":"Test in node","text":"<pre><code>git clone https://github.com/staygrimm/sort-by.git\ncd sort-by &amp;&amp; make test-node\n</code></pre>"},{"location":"react-third-part-lib/todo-29-localForage/","title":"localForage","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6046  \u9605\u8bfb13\u5206\u949f</p> <p>\u4e2d\u6587\u6587\u6863\uff1ahttps://localforage.docschina.org/</p> <p>localForage \u662f\u7b80\u5355\u5feb\u901f\u7684\u5b58\u50a8\u5e93\u3002\u5728\u79bb\u7ebf\u6a21\u5f0f\u4e0b\uff0c\u4f7f\u7528\u5f02\u6b65\u5b58\u50a8\uff08indexedDB or WebSQL\uff09\u63d0\u5347\u4e86\u5b58\u50a8\u4f53\u9a8c\uff0cAPI \u5f88\u7b80\u5355\u3002</p> <p>localForage is a fast and simple storage library for JavaScript. localForage improves the offline experience of your web app by using asynchronous storage (IndexedDB or WebSQL) with a simple, <code>localStorage</code>-like API.</p> <p>localForage uses localStorage in browsers with no IndexedDB or WebSQL support. See the wiki for detailed compatibility info.</p> <p>To use localForage, just drop a single JavaScript file into your page:</p> <pre><code>&lt;script src=\"localforage/dist/localforage.js\"&gt;&lt;/script&gt;\n&lt;script&gt;localforage.getItem('something', myCallback);&lt;/script&gt;\n</code></pre> <pre><code>npm install localforage\n</code></pre> <p>\u6587\u6863\u94fe\u63a5\uff1aTry the localForage API documentation.</p>"},{"location":"react-third-part-lib/todo-29-localForage/#_1","title":"\u4f7f\u7528","text":""},{"location":"react-third-part-lib/todo-29-localForage/#callbacks-vs-promises","title":"Callbacks vs Promises","text":"<p>\u4f7f\u7528\u5f02\u6b65\u5b58\u50a8\uff0c\u6240\u4ee5\u6709\u4e00\u4e2a\u5f02\u6b65\u7684 API\uff0c\u548c localStorage \u662f\u4e00\u6837\u7684\uff0c\u53ef\u4ee5\u4f7f\u7528 callback \u8bed\u6cd5\uff0c\u6216\u8005 Promise \u8bed\u6cd5\uff0casync \u8bed\u6cd5\u7b49\u3002</p> <p>Because localForage uses async storage, it has an async API. It's otherwise exactly the same as the localStorage API.</p> <p>localForage has a dual API that allows you to either use Node-style callbacks or Promises. If you are unsure which one is right for you, it's recommended to use Promises.</p> <p>Here's an example of the Node-style callback form:</p> <pre><code>localforage.setItem('key', 'value', function (err) {\n  // if err is non-null, we got an error\n  localforage.getItem('key', function (err, value) {\n    // if err is non-null, we got an error. otherwise, value is the value\n  });\n});\n</code></pre> <p>And the Promise form:</p> <pre><code>localforage.setItem('key', 'value').then(function () {\n  return localforage.getItem('key');\n}).then(function (value) {\n  // we got our value\n}).catch(function (err) {\n  // we got an error\n});\n</code></pre> <p>Or, use <code>async</code>/<code>await</code>:</p> <pre><code>try {\n    const value = await localforage.getItem('somekey');\n    // This code runs once the value has been loaded\n    // from the offline store.\n    console.log(value);\n} catch (err) {\n    // This code runs if there were any errors.\n    console.log(err);\n}\n</code></pre> <p>For more examples, please visit the API docs.</p>"},{"location":"react-third-part-lib/todo-29-localForage/#storing-blobs-typedarrays-and-other-js-objects","title":"Storing Blobs, TypedArrays, and other JS objects","text":"<p>\u5b58\u50a8\u7c7b\u578b\u652f\u6301 blob\uff0c\u7c7b\u578b\u6570\u7ec4\uff0c\u6216\u8005\u5176\u4ed6 JS \u5bf9\u8c61\uff08\u4e5f\u5305\u62ec\u57fa\u672c\u5bf9\u8c61\uff09</p> <p>You can store any type in localForage; you aren't limited to strings like in localStorage. Even if localStorage is your storage backend, localForage automatically does <code>JSON.parse()</code> and <code>JSON.stringify()</code> when getting/setting values.</p> <p>localForage supports storing all native JS objects that can be serialized to JSON, as well as ArrayBuffers, Blobs, and TypedArrays. Check the API docs for a full list of types supported by localForage.</p> <p>All types are supported in every storage backend, though storage limits in localStorage make storing many large Blobs impossible.</p>"},{"location":"react-third-part-lib/todo-29-localForage/#configuration","title":"Configuration","text":"<p>\u914d\u7f6e\u6587\u4ef6</p> <p>You can set database information with the <code>config()</code> method. Available options are <code>driver</code>, <code>name</code>, <code>storeName</code>, <code>version</code>, <code>size</code>, and <code>description</code>.</p> <pre><code>localforage.config({\n    driver      : localforage.WEBSQL, // Force WebSQL; same as using setDriver()\n    name        : 'myApp',\n    version     : 1.0,\n    size        : 4980736, // Size of database, in bytes. WebSQL-only for now.\n    storeName   : 'keyvaluepairs', // Should be alphanumeric, with underscores.\n    description : 'some description'\n});\n</code></pre> <p>Note: you must call <code>config()</code> before you interact with your data. This means calling <code>config()</code> before using <code>getItem()</code>, <code>setItem()</code>, <code>removeItem()</code>, <code>clear()</code>, <code>key()</code>, <code>keys()</code> or <code>length()</code>.</p>"},{"location":"react-third-part-lib/todo-29-localForage/#multiple-instances","title":"Multiple instances","text":"<p>You can create multiple instances of localForage that point to different stores using <code>createInstance</code>. All the configuration options used by <code>config</code> are supported.</p> <pre><code>var store = localforage.createInstance({\n  name: \"nameHere\"\n});\n\nvar otherStore = localforage.createInstance({\n  name: \"otherName\"\n});\n\n// Setting the key on one of these doesn't affect the other.\nstore.setItem(\"key\", \"value\");\notherStore.setItem(\"key\", \"value2\");\n</code></pre>"},{"location":"react-third-part-lib/todo-29-localForage/#requirejs","title":"RequireJS","text":"<p>You can use localForage with RequireJS:</p> <pre><code>define(['localforage'], function(localforage) {\n    // As a callback:\n    localforage.setItem('mykey', 'myvalue', console.log);\n\n    // With a Promise:\n    localforage.setItem('mykey', 'myvalue').then(console.log);\n});\n</code></pre>"},{"location":"react-third-part-lib/todo-29-localForage/#typescript","title":"TypeScript","text":"<p>If you have the <code>allowSyntheticDefaultImports</code> compiler option set to <code>true</code> in your tsconfig.json (supported in TypeScript v1.8+), you should use:</p> <pre><code>import localForage from \"localforage\";\n</code></pre> <p>Otherwise you should use one of the following:</p> <pre><code>import * as localForage from \"localforage\";\n// or, in case that the typescript version that you are using\n// doesn't support ES6 style imports for UMD modules like localForage\nimport localForage = require(\"localforage\");\n</code></pre>"},{"location":"react-third-part-lib/todo-29-localForage/#working-on-localforage","title":"Working on localForage","text":"<p>You'll need node/npm and bower.</p> <p>To work on localForage, you should start by forking it and installing its dependencies. Replace <code>USERNAME</code> with your GitHub username and run the following:</p> <pre><code># Install bower globally if you don't have it:\nnpm install -g bower\n\n# Replace USERNAME with your GitHub username:\ngit clone git@github.com:USERNAME/localForage.git\ncd localForage\nnpm install\nbower install\n</code></pre> <p>Omitting the bower dependencies will cause the tests to fail!</p>"},{"location":"react-third-part-lib/todo-30-match-sorter/","title":"match-sorter","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 13111  \u9605\u8bfb27\u5206\u949f</p> <p>https://github.com/kentcdodds/match-sorter</p> <p>Simple, expected, and deterministic best-match sorting of an array in JavaScript</p> <p>\u6570\u7ec4\u7684\u7b80\u5355\u3001\u9884\u671f\u548c\u786e\u5b9a\u6027\u6700\u4f73\u5339\u914d\u6392\u5e8f\u3002\u666e\u901a\u6570\u5b57\u6570\u7ec4\u76f4\u63a5\u6392\u5e8f\u5373\u53ef\uff0c\u8fd9\u4e2a\u4f7f\u7528\u5728\u6570\u7ec4\u9879\u662f\u5bf9\u8c61\uff0c\u5c5e\u6027\u6392\u5e8f\u3002</p> <p>Demo</p>"},{"location":"react-third-part-lib/todo-30-match-sorter/#the-problem","title":"The problem","text":"<ol> <li>You have a list of dozens, hundreds, or thousands of items</li> <li>You want to filter and sort those items intelligently (maybe you have a filter input for the user)</li> <li>You want simple, expected, and deterministic sorting of the items (no fancy math algorithm that fancily changes the sorting as they type) \u4f60\u60f3\u8981\u7b80\u5355\u3001\u9884\u671f\u548c\u786e\u5b9a\u6027\u7684\u9879\u76ee\u6392\u5e8f\uff08\u6ca1\u6709\u82b1\u54e8\u7684\u6570\u5b66\u7b97\u6cd5\u4f1a\u968f\u7740\u5b83\u4eec\u7684\u952e\u5165\u800c\u5947\u602a\u5730\u6539\u53d8\u6392\u5e8f\uff09</li> </ol>"},{"location":"react-third-part-lib/todo-30-match-sorter/#this-solution","title":"This solution","text":"<p>This follows a simple and sensible (user friendly) algorithm that makes it easy for you to filter and sort a list of items based on given input. Items are ranked based on sensible criteria that result in a better user experience.</p> <p>To explain the ranking system, I'll use countries as an example:\u2014\u2014\u4e3b\u8981\u662f\u59d3\u540d\u548c\u56fd\u5bb6\u7b49\u5b57\u7b26\u4e32\u6392\u5e8f</p> <ol> <li>CASE SENSITIVE EQUALS: Case-sensitive equality trumps all. These will be first. (ex. <code>France</code> would match <code>France</code>, but not <code>france</code>)</li> <li>EQUALS: Case-insensitive equality (ex. <code>France</code> would match <code>france</code>)</li> <li>STARTS WITH: If the item starts with the given value (ex. <code>Sou</code> would match <code>South Korea</code> or <code>South Africa</code>)</li> <li>WORD STARTS WITH: If the item has multiple words, then if one of those words starts with the given value (ex. <code>Repub</code> would match <code>Dominican Republic</code>)</li> <li>CONTAINS: If the item contains the given value (ex. <code>ham</code> would match <code>Bahamas</code>)</li> <li>ACRONYM: If the item's acronym is the given value (ex. <code>us</code> would match <code>United States</code>)</li> <li>SIMPLE MATCH: If the item has letters in the same order as the letters of the given value (ex. <code>iw</code> would match <code>Zimbabwe</code>, but not <code>Kuwait</code> because it must be in the same order). Furthermore, if the item is a closer match, it will rank higher (ex. <code>ua</code> matches <code>Uruguay</code> more closely than <code>United States of America</code>, therefore <code>Uruguay</code> will be ordered before <code>United States of America</code>)</li> </ol> <p>This ranking seems to make sense in people's minds. At least it does in mine. Feedback welcome!</p>"},{"location":"react-third-part-lib/todo-30-match-sorter/#installation","title":"Installation","text":"<pre><code>npm install match-sorter\n</code></pre>"},{"location":"react-third-part-lib/todo-30-match-sorter/#usage","title":"Usage","text":"<pre><code>import {matchSorter} from 'match-sorter'\n// or const {matchSorter} = require('match-sorter')\n// or window.matchSorter.matchSorter\n\nconst list = ['hi', 'hey', 'hello', 'sup', 'yo']\nmatchSorter(list, 'h') // ['hello', 'hey', 'hi']\nmatchSorter(list, 'y') // ['yo', 'hey']\nmatchSorter(list, 'z') // []\n</code></pre>"},{"location":"react-third-part-lib/todo-30-match-sorter/#advanced-options","title":"Advanced options","text":""},{"location":"react-third-part-lib/todo-30-match-sorter/#keys-string","title":"keys: <code>[string]</code>","text":"<p>Default: <code>undefined</code></p> <p>By default it just uses the value itself as above. Passing an array tells match-sorter which keys to use for the ranking.</p> <pre><code>const objList = [\n  {name: 'Janice', color: 'Green'},\n  {name: 'Fred', color: 'Orange'},\n  {name: 'George', color: 'Blue'},\n  {name: 'Jen', color: 'Red'},\n]\n\nmatchSorter(objList, 'g', {keys: ['name', 'color']})\n// [{name: 'George', color: 'Blue'}, {name: 'Janice', color: 'Green'}, {name: 'Fred', color: 'Orange'}]\n\nmatchSorter(objList, 're', {keys: ['color', 'name']})\n// [{name: 'Jen', color: 'Red'}, {name: 'Janice', color: 'Green'}, {name: 'Fred', color: 'Orange'}, {name: 'George', color: 'Blue'}]\n</code></pre> <p>Array of values: When the specified key matches an array of values, the best match from the values of in the array is going to be used for the ranking.</p> <pre><code>const iceCreamYum = [\n  {favoriteIceCream: ['mint', 'chocolate']},\n  {favoriteIceCream: ['candy cane', 'brownie']},\n  {favoriteIceCream: ['birthday cake', 'rocky road', 'strawberry']},\n]\n\nmatchSorter(iceCreamYum, 'cc', {keys: ['favoriteIceCream']})\n// [{favoriteIceCream: ['candy cane', 'brownie']}, {favoriteIceCream: ['mint', 'chocolate']}]\n</code></pre> <p>Nested Keys: You can specify nested keys using dot-notation.</p> <pre><code>const nestedObjList = [\n  {name: {first: 'Janice'}},\n  {name: {first: 'Fred'}},\n  {name: {first: 'George'}},\n  {name: {first: 'Jen'}},\n]\nmatchSorter(nestedObjList, 'j', {keys: ['name.first']})\n// [{name: {first: 'Janice'}}, {name: {first: 'Jen'}}]\n\nconst nestedObjList = [\n  {name: [{first: 'Janice'}]},\n  {name: [{first: 'Fred'}]},\n  {name: [{first: 'George'}]},\n  {name: [{first: 'Jen'}]},\n]\nmatchSorter(nestedObjList, 'j', {keys: ['name.0.first']})\n// [{name: {first: 'Janice'}}, {name: {first: 'Jen'}}]\n\n// matchSorter(nestedObjList, 'j', {keys: ['name[0].first']}) does not work\n</code></pre> <p>This even works with arrays of multiple nested objects: just specify the key using dot-notation with the <code>*</code> wildcard instead of a numeric index.</p> <pre><code>const nestedObjList = [\n  {aliases: [{name: {first: 'Janice'}},{name: {first: 'Jen'}}]},\n  {aliases: [{name: {first: 'Fred'}},{name: {first: 'Frederic'}}]},\n  {aliases: [{name: {first: 'George'}},{name: {first: 'Georgie'}}]},\n]\nmatchSorter(nestedObjList, 'jen', {keys: ['aliases.*.name.first']})\n// [{aliases: [{name: {first: 'Janice'}},{name: {first: 'Jen'}}]}]\nmatchSorter(nestedObjList, 'jen', {keys: ['aliases.0.name.first']})\n// []\n</code></pre> <p>Property Callbacks: Alternatively, you may also pass in a callback function that resolves the value of the key(s) you wish to match on. This is especially useful when interfacing with libraries such as Immutable.js</p> <pre><code>const list = [{name: 'Janice'}, {name: 'Fred'}, {name: 'George'}, {name: 'Jen'}]\nmatchSorter(list, 'j', {keys: [item =&gt; item.name]})\n// [{name: 'Janice'}, {name: 'Jen'}]\n</code></pre> <p>For more complex structures, expanding on the <code>nestedObjList</code> example above, you can use <code>map</code>:</p> <pre><code>const nestedObjList = [\n  {\n    name: [\n      {first: 'Janice', last: 'Smith'},\n      {first: 'Jon', last: 'Doe'},\n    ],\n  },\n  {\n    name: [\n      {first: 'Fred', last: 'Astaire'},\n      {first: 'Jenny', last: 'Doe'},\n      {first: 'Wilma', last: 'Flintstone'},\n    ],\n  },\n]\n\nmatchSorter(nestedObjList, 'doe', {\n  keys: [\n    item =&gt; item.name.map(i =&gt; i.first),\n    item =&gt; item.name.map(i =&gt; i.last),\n  ],\n})\n// [name: [{ first: 'Janice', last: 'Smith' },{ first: 'Jon', last: 'Doe' }], name: [{ first: 'Fred', last: 'Astaire' },{ first: 'Jenny', last: 'Doe' },{ first: 'Wilma', last: 'Flintstone' }]]\n</code></pre> <p>Threshold: You may specify an individual threshold for specific keys. A key will only match if it meets the specified threshold. For more information regarding thresholds see below</p> <pre><code>const list = [\n  {name: 'Fred', color: 'Orange'},\n  {name: 'Jen', color: 'Red'},\n]\nmatchSorter(list, 'ed', {\n  keys: [{threshold: matchSorter.rankings.STARTS_WITH, key: 'name'}, 'color'],\n})\n//[{name: 'Jen', color: 'Red'}]\n</code></pre> <p>Min and Max Ranking: You may restrict specific keys to a minimum or maximum ranking by passing in an object. A key with a minimum rank will only get promoted if there is at least a simple match.</p> <pre><code>const tea = [\n  {tea: 'Earl Grey', alias: 'A'},\n  {tea: 'Assam', alias: 'B'},\n  {tea: 'Black', alias: 'C'},\n]\nmatchSorter(tea, 'A', {\n  keys: ['tea', {maxRanking: matchSorter.rankings.STARTS_WITH, key: 'alias'}],\n})\n// without maxRanking, Earl Grey would come first because the alias \"A\" would be CASE_SENSITIVE_EQUAL\n// `tea` key comes before `alias` key, so Assam comes first even though both match as STARTS_WITH\n// [{tea: 'Assam', alias: 'B'}, {tea: 'Earl Grey', alias: 'A'},{tea: 'Black', alias: 'C'}]\nconst tea = [\n  {tea: 'Milk', alias: 'moo'},\n  {tea: 'Oolong', alias: 'B'},\n  {tea: 'Green', alias: 'C'},\n]\nmatchSorter(tea, 'oo', {\n  keys: ['tea', {minRanking: matchSorter.rankings.EQUAL, key: 'alias'}],\n})\n// minRanking bumps Milk up to EQUAL from CONTAINS (alias)\n// Oolong matches as STARTS_WITH\n// Green is missing due to no match\n// [{tea: 'Milk', alias: 'moo'}, {tea: 'Oolong', alias: 'B'}]\n</code></pre>"},{"location":"react-third-part-lib/todo-30-match-sorter/#threshold-number","title":"threshold: <code>number</code>","text":"<p>Default: <code>MATCHES</code></p> <p>Thresholds can be used to specify the criteria used to rank the results. Available thresholds (from top to bottom) are:</p> <ul> <li>CASE_SENSITIVE_EQUAL</li> <li>EQUAL</li> <li>STARTS_WITH</li> <li>WORD_STARTS_WITH</li> <li>STRING_CASE</li> <li>STRING_CASE_ACRONYM</li> <li>CONTAINS</li> <li>ACRONYM</li> <li>MATCHES (default value)</li> <li>NO_MATCH</li> </ul> <pre><code>const fruit = ['orange', 'apple', 'grape', 'banana']\nmatchSorter(fruit, 'ap', {threshold: matchSorter.rankings.NO_MATCH})\n// ['apple', 'grape', 'orange', 'banana'] (returns all items, just sorted by best match)\n\nconst things = ['google', 'airbnb', 'apple', 'apply', 'app'],\nmatchSorter(things, 'app', {threshold: matchSorter.rankings.EQUAL})\n// ['app'] (only items that are equal)\n\nconst otherThings = ['fiji apple', 'google', 'app', 'crabapple', 'apple', 'apply']\nmatchSorter(otherThings, 'app', {threshold: matchSorter.rankings.WORD_STARTS_WITH})\n// ['app', 'apple', 'apply', 'fiji apple'] (everything that matches with \"word starts with\" or better)\n</code></pre>"},{"location":"react-third-part-lib/todo-30-match-sorter/#keepdiacritics-boolean","title":"keepDiacritics: <code>boolean</code>","text":"<p>Default: <code>false</code></p> <p>By default, match-sorter will strip diacritics before doing any comparisons. This is the default because it makes the most sense from a UX perspective.</p> <p>You can disable this behavior by specifying <code>keepDiacritics: true</code></p> <pre><code>const thingsWithDiacritics = [\n  'jalape\u00f1o',\n  '\u00e0 la carte',\n  'caf\u00e9',\n  'papier-m\u00e2ch\u00e9',\n  '\u00e0 la mode',\n]\nmatchSorter(thingsWithDiacritics, 'aa')\n// ['jalape\u00f1o', '\u00e0 la carte', '\u00e0 la mode', 'papier-m\u00e2ch\u00e9']\n\nmatchSorter(thingsWithDiacritics, 'aa', {keepDiacritics: true})\n// ['jalape\u00f1o', '\u00e0 la carte']\n\nmatchSorter(thingsWithDiacritics, '\u00e0', {keepDiacritics: true})\n// ['\u00e0 la carte', '\u00e0 la mode']\n</code></pre>"},{"location":"react-third-part-lib/todo-30-match-sorter/#basesort-functionitema-itemb-1-0-1","title":"baseSort: <code>function(itemA, itemB): -1 | 0 | 1</code>","text":"<p>Default: <code>(a, b) =&gt; String(a.rankedValue).localeCompare(b.rankedValue)</code></p> <p>By default, match-sorter uses the <code>String.localeCompare</code> function to tie-break items that have the same ranking. This results in a stable, alphabetic sort.</p> <pre><code>const list = ['C apple', 'B apple', 'A apple']\nmatchSorter(list, 'apple')\n// ['A apple', 'B apple', 'C apple']\n</code></pre> <p>You can customize this behavior by specifying a custom <code>baseSort</code> function:</p> <pre><code>const list = ['C apple', 'B apple', 'A apple']\n// This baseSort function will use the original index of items as the tie breaker\nmatchSorter(list, 'apple', {baseSort: (a, b) =&gt; (a.index &lt; b.index ? -1 : 1)})\n// ['C apple', 'B apple', 'A apple']\n</code></pre>"},{"location":"react-third-part-lib/todo-30-match-sorter/#sorter-functionrankeditems-rankeditems","title":"sorter: <code>function(rankedItems): rankedItems</code>","text":"<p>Default: <code>matchedItems =&gt; matchedItems.sort((a, b) =&gt; sortRankedValues(a, b, baseSort))</code></p> <p>By default, match-sorter uses an internal <code>sortRankedValues</code> function to sort items after matching them.</p> <p>You can customize the core sorting behavior by specifying a custom <code>sorter</code> function:</p> <p>Disable sorting entirely:</p> <pre><code>const list = ['appl', 'C apple', 'B apple', 'A apple', 'app', 'applebutter']\nmatchSorter(list, 'apple', {sorter: rankedItems =&gt; rankedItems})\n// ['C apple', 'B apple', 'A apple', 'applebutter']\n</code></pre> <p>Return the unsorted rankedItems, but in reverse order:</p> <pre><code>const list = ['appl', 'C apple', 'B apple', 'A apple', 'app', 'applebutter']\nmatchSorter(list, 'apple', {sorter: rankedItems =&gt; [...rankedItems].reverse()})\n// ['applebutter', 'A apple', 'B apple', 'C apple']\n</code></pre>"},{"location":"react-third-part-lib/todo-30-match-sorter/#recipes","title":"Recipes","text":""},{"location":"react-third-part-lib/todo-30-match-sorter/#match-pascalcase-camelcase-snake_case-or-kebab-case-as-words","title":"Match PascalCase, camelCase, snake_case, or kebab-case as words","text":"<p>By default, <code>match-sorter</code> assumes spaces to be the word separator. However, if your data has a different word separator, you can use a property callback to replace your separator with spaces. For example, for <code>snake_case</code>:</p> <pre><code>const list = [\n  {name: 'Janice_Kurtis'},\n  {name: 'Fred_Mertz'},\n  {name: 'George_Foreman'},\n  {name: 'Jen_Smith'},\n]\nmatchSorter(list, 'js', {keys: [item =&gt; item.name.replace(/_/g, ' ')]})\n// [{name: 'Jen_Smith'}, {name: 'Janice_Kurtis'}]\n</code></pre>"},{"location":"react-third-part-lib/todo-30-match-sorter/#match-many-words-across-multiple-fields-table-filtering","title":"Match many words across multiple fields (table filtering)","text":"<p>By default, <code>match-sorter</code> will return matches from objects where one of the properties matches the entire search term. For multi-column data sets it can be beneficial to split words in search string and match each word separately. This can be done by chaining <code>match-sorter</code> calls.</p> <p>The benefit of this is that a filter string of \"two words\" will match both \"two\" and \"words\", but will return rows where the two words are found in different columns as well as when both words match in the same column. For single-column matches it will also return matches out of order (column = \"wordstwo\" will match just as well as column=\"twowords\", the latter getting a higher score).</p> <pre><code>function fuzzySearchMultipleWords(\n  rows, // array of data [{a: \"a\", b: \"b\"}, {a: \"c\", b: \"d\"}]\n  keys, // keys to search [\"a\", \"b\"]\n  filterValue: string, // potentially multi-word search string \"two words\"\n) {\n  if (!filterValue || !filterValue.length) {\n    return rows\n  }\n\n  const terms = filterValue.split(' ')\n  if (!terms) {\n    return rows\n  }\n\n  // reduceRight will mean sorting is done by score for the _first_ entered word.\n  return terms.reduceRight(\n    (results, term) =&gt; matchSorter(results, term, {keys}),\n    rows,\n  )\n}\n</code></pre> <p>Multi-column code sandbox</p>"},{"location":"react-third-part-lib/todo-31-zxing-library%20%E5%AE%9E%E7%8E%B0%E5%89%8D%E7%AB%AF%E6%89%AB%E7%A0%81%E5%8A%9F%E8%83%BD/","title":"@zxing/library \u5b9e\u73b0\u524d\u7aef\u626b\u7801\u529f\u80fd","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5995  \u9605\u8bfb12\u5206\u949f</p> <p>\u6838\u5fc3\u51fd\u6570</p> <p>1\u3001listVideoInputDevices \u83b7\u53d6\u6444\u50cf\u5934\u8bbe\u5907\u5f97\u5230\u4e00\u4e2a\u6444\u50cf\u5934\u8bbe\u5907\u6570\u7ec4\uff0c\u6839\u636e\u6444\u50cf\u5934\u7684id\u9009\u62e9\u4f7f\u7528\u7684\u6444\u50cf\u5934</p> <p>2\u3001decodeFromInputVideoDeviceContinuously() \u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u524d\u9762\u6570\u7ec4\u5f97\u5230\u7684\u6444\u50cf\u5934\u7684id\uff0c\u6839\u636e\u4f20\u5165\u7684\u6444\u50cf\u5934id \u9009\u62e9\u6444\u50cf\u5934\u626b\u63cf \uff0cid\u4e3anull\u65f6 \u9ed8\u8ba4\u4f7f\u7528\u9762\u5411\u73af\u5883\u7684\u6444\u50cf\u5934</p> <p>\u4ee3\u7801\u793a\u4f8b</p> <pre><code>import React, { useEffect } from 'react'\nimport { Toast } from 'antd-mobile'\nimport { BrowserMultiFormatReader } from '@zxing/library'\nimport \"./index.less\"\nexport default function ScanCode (props) {\n    const codeReader = new BrowserMultiFormatReader()\n    useEffect(() =&gt; {\n        openScan()\n        return (() =&gt; {\n            destoryScan()\n        })\n    }, [])\n\n    const destoryScan = () =&gt; {\n        codeReader.reset();\n        codeReader.stopContinuousDecode();\n    }\n\n    const openScan = async () =&gt; {\n        codeReader.listVideoInputDevices().then((videoInputDevices) =&gt; {\n            console.log(videoInputDevices, 'videoInputDevices');\n            // \u83b7\u53d6\u7b2c\u4e00\u4e2a\u6444\u50cf\u5934\u8bbe\u5907\u7684\u540d\u79f0\n            let firstDeviceId = videoInputDevices[0].deviceId;\n            const videoInputDeviceslablestr = JSON.stringify(videoInputDevices[0].label);\n            if (videoInputDevices.length &gt; 1) {\n                // \u5224\u65ad\u662f\u5426\u540e\u7f6e\u6444\u50cf\u5934\n                if (videoInputDeviceslablestr.indexOf('back') &gt; -1) {\n                    firstDeviceId = videoInputDevices[0].deviceId;\n                } else {\n                    firstDeviceId = videoInputDevices[1].deviceId;\n                }\n            }\n\n            decodeFromInputVideoFunc(firstDeviceId);\n        }).catch(err =&gt; {\n            // console.error(err);\n        })\n\n    }\n\n    const decodeFromInputVideoFunc = (firstDeviceId) =&gt; {\n        // firstDeviceId  \u4e3anull \u65f6\u9ed8\u8ba4\u9009\u62e9\u9762\u5411\u73af\u5883\u7684\u6444\u50cf\u5934\n        codeReader.decodeFromVideoDevice(firstDeviceId, 'video', (result, err) =&gt; {\n            if (result) {\n                Toast.show({\n                    content: \"\u626b\u63cf\u6210\u529f\"\n                })\n                props.getResult(result.text)\n                destoryScan()\n            }\n            if (err) {\n                // console.error(err);\n            }\n        })\n    }\n\n    const backScan = () =&gt; {\n        props.getResult('\u8fd4\u56de')\n        destoryScan()\n    }\n    return (\n        &lt;div className=\"page-scan\"&gt;\n            &lt;div className='back' onClick={backScan}&gt;&lt;img src={require(\"../../assets/img/arrow_back.png\").default} alt=\"\" /&gt; \u8fd4\u56de&lt;/div&gt;\n            &lt;div className=\"scan-box\"&gt;\n                &lt;video id=\"video\" className=\"scan-video\" autoplay&gt;&lt;/video&gt;\n                &lt;div className=\"qr-scanner\"&gt;\n                    &lt;div className=\"box\"&gt;\n                        &lt;div className=\"line\"&gt;&lt;/div&gt;\n                        &lt;div className=\"angle\"&gt;&lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div className=\"scan-tip\"&gt;\u626b\u63cf\u6761\u5f62\u7801&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    )\n}\n</code></pre> <p>\u6837\u5f0f\u6587\u4ef6</p> <pre><code>.scan-box {\n    position: fixed;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100vw;\n    background-image: linear-gradient(\n        0deg,\n        transparent 24%,\n        rgba(32, 255, 77, 0.1) 25%,\n        rgba(32, 255, 77, 0.1) 26%,\n        transparent 27%,\n        transparent 74%,\n        rgba(32, 255, 77, 0.1) 75%,\n        rgba(32, 255, 77, 0.1) 76%,\n        transparent 77%,\n        transparent\n      ),\n      linear-gradient(\n        90deg,\n        transparent 24%,\n        rgba(32, 255, 77, 0.1) 25%,\n        rgba(32, 255, 77, 0.1) 26%,\n        transparent 27%,\n        transparent 74%,\n        rgba(32, 255, 77, 0.1) 75%,\n        rgba(32, 255, 77, 0.1) 76%,\n        transparent 77%,\n        transparent\n      );\n    background-size: 3rem 3rem;\n    background-position: -1rem -1rem;\n  }\n  .back{\n    font-size: 24px;\n    color: #fff;\n    font-weight: bolder;\n    line-height: 50px;\n    display: flex;\n    align-items: center;\n    z-index: 9999;\n    position: fixed;\n    top: 30px;\n    left: 20px;\n    img{\n        width: 40px;\n        height: 40px;\n    }\n  }\n\n  .scan-video {\n    height: 100vh;\n    width: 100vw;\n    object-fit: cover;\n  }\n\n  .qr-scanner .box {\n    width: 500px;\n    height: 500px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    overflow: hidden;\n    border: 0.1rem solid rgba(0, 255, 51, 0.2);\n    background: url('http://resource.beige.world/imgs/gongconghao.png') no-repeat center center;\n  }\n\n  .qr-scanner .line {\n    height: calc(100% - 2px);\n    width: 100%;\n    background: linear-gradient(180deg, rgba(0, 255, 51, 0) 43%, #00ff33 211%);\n    border-bottom: 3px solid #00ff33;\n    transform: translateY(-100%);\n    animation: radar-beam 2s infinite alternate;\n    animation-timing-function: cubic-bezier(0.53, 0, 0.43, 0.99);\n    animation-delay: 1.4s;\n  }\n\n  .qr-scanner .box:after,\n  .qr-scanner .box:before,\n  .qr-scanner .angle:after,\n  .qr-scanner .angle:before {\n    content: \"\";\n    display: block;\n    position: absolute;\n    width: 3vw;\n    height: 3vw;\n    border: 0.2rem solid transparent;\n  }\n\n  .qr-scanner .box:after,\n  .qr-scanner .box:before {\n    top: 0;\n    border-top-color: #00ff33;\n  }\n\n  .qr-scanner .angle:after,\n  .qr-scanner .angle:before {\n    bottom: 0;\n    border-bottom-color: #00ff33;\n  }\n\n  .qr-scanner .box:before,\n  .qr-scanner .angle:before {\n    left: 0;\n    border-left-color: #00ff33;\n  }\n\n  .qr-scanner .box:after,\n  .qr-scanner .angle:after {\n    right: 0;\n    border-right-color: #00ff33;\n  }\n\n  @keyframes radar-beam {\n    0% {\n      transform: translateY(-100%);\n    }\n\n    100% {\n      transform: translateY(0);\n    }\n  }\n\n  .scan-tip {\n    width: 100vw;\n    text-align: center;\n    margin-bottom: 5vh;\n    color: white;\n    font-size: 5vw;\n    position: absolute;\n    bottom: 50px;\n    left: 0;\n    color: #fff;\n  }\n\n  .page-scan {\n    overflow-y: hidden;\n    z-index: 999;\n  }\n</code></pre>"},{"location":"react-third-part-lib/todo-32-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-react-photoswipe-gallery/","title":"react-photoswipe-gallery","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 311  \u9605\u8bfb1\u5206\u949f</p> <p>React-image-lightbox \u505c\u6b62\u7ef4\u62a4\uff0c\u4f5c\u8005\u63a8\u8350\u4f7f\u7528\u8fd9\u4e2a\u56fe\u7247\u5e93</p> <p>React component wrapper around PhotoSwipe</p> <p>\u6f14\u793a\uff1ahttps://dromru.github.io/react-photoswipe-gallery/</p> <p>https://www.npmjs.com/package/react-photoswipe-gallery</p> <p>https://github.com/dromru/react-photoswipe-gallery</p>"},{"location":"react-third-part-lib/todo-33-React-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/","title":"todo-33-React-\u7b2c\u4e09\u65b9\u5e93","text":""},{"location":"react-third-part-lib/todo-33-React-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/#react-icons","title":"React-icons","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3954  \u9605\u8bfb8\u5206\u949f</p> <p>\ufeffhttps://www.npmjs.com/package/react-icons\ufeff </p> <p>\ufeffhttps://react-icons.github.io/react-icons/icons?name=gi\ufeff </p> <p>\u4f7f\u7528React\u56fe\u6807\u53ef\u4ee5\u8f7b\u677e\u5730\u5728React\u9879\u76ee\u4e2d\u5305\u542b\u6d41\u884c\u56fe\u6807\uff0c\u5b83\u5229\u7528ES6\u5bfc\u5165\uff0c\u5141\u8bb8\u60a8\u53ea\u5305\u542b\u9879\u76ee\u6b63\u5728\u4f7f\u7528\u7684\u56fe\u6807\u3002</p> <p>\u8fd9\u4e2a\u5c31\u662f\u5f88\u591a\u56fe\u6807\u7684\u96c6\u5408\uff08ant-design/font awesome/iconfont\uff09\u4f7f\u7528\u4e0d\u540c\u7684\u56fe\u6807\uff0c\u4ece\u4e0d\u540c\u7684\u5e93\u4e2d\u5f15\u5165\u5373\u53ef\u3002</p> <p>\u4f7f\u7528\u91cf\u8d85\u8fc7\u767e\u4e07\uff0c\u57fa\u672c\u751f\u4ea7\u73af\u5883\u6ca1\u95ee\u9898</p> <pre><code>import { FaBeer } from \"react-icons/fa\";\n\nfunction Question() {  return (    &lt;h3&gt;      Lets go for a &lt;FaBeer /&gt;?    &lt;/h3&gt;  );}\n</code></pre>"},{"location":"react-third-part-lib/todo-33-React-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/#react-hot-toast","title":"react-hot-toast","text":"<p>\u4f7f\u7528\u91cf\u8d85\u8fc766\u4e07\uff0c\u751f\u4ea7\u73af\u5883\u57fa\u672c\u6ca1\u95ee\u9898\u3002\u8fd9\u4e2a\u5e93\u5e94\u8be5\u662f\u57fa\u4e8e react hooks \u9ad8\u7ea7\u7248\u672c\uff0c16 \u53ef\u80fd\u4e0d\u652f\u6301\u3002</p> <p>\ufeffhttps://www.npmjs.com/package/react-hot-toast\ufeff </p> <pre><code>import toast, { Toaster } from 'react-hot-toast';\ufeff\nconst notify = () =&gt; toast('Here is your toast.');\ufeff\nconst App = () =&gt; {  return (    &lt;div&gt;      &lt;button onClick={notify}&gt;Make me a toast&lt;/button&gt;      &lt;Toaster /&gt;    &lt;/div&gt;  );};\n</code></pre> <pre><code>toast('Hello World', {  duration: 4000,  position: 'top-center',\ufeff\n  // Styling  style: {},  className: '',\ufeff\n  // Custom Icon  icon: '\ud83d\udc4f',\ufeff\n  // Change colors of success/error/loading icon  iconTheme: {    primary: '#000',    secondary: '#fff',  },\ufeff\n  // Aria  ariaProps: {    role: 'status',    'aria-live': 'polite',  },});\ufeff\ntoast.success('Successfully created!');\n</code></pre>"},{"location":"react-third-part-lib/todo-33-React-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/#react-spinners","title":"React-spinners","text":"<p>\ufeffhttps://www.npmjs.com/package/react-spinners\ufeff </p> <pre><code>import { useState, CSSProperties } from \"react\";import ClipLoader from \"react-spinners/ClipLoader\";\ufeff\nconst override: CSSProperties = {  display: \"block\",  margin: \"0 auto\",  borderColor: \"red\",};\ufeff\nfunction App() {  let [loading, setLoading] = useState(true);  let [color, setColor] = useState(\"#ffffff\");\ufeff\n  return (    &lt;div className=\"sweet-loading\"&gt;      &lt;button onClick={() =&gt; setLoading(!loading)}&gt;Toggle Loader&lt;/button&gt;      &lt;input value={color} onChange={(input) =&gt; setColor(input.target.value)} placeholder=\"Color of the loader\" /&gt;\ufeff\n      &lt;ClipLoader        color={color}        loading={loading}        cssOverride={override}        size={150}        aria-label=\"Loading Spinner\"        data-testid=\"loader\"      /&gt;    &lt;/div&gt;  );}\ufeff\nexport default App;\n</code></pre>"},{"location":"react-third-part-lib/todo-33-React-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/#react-hook-form","title":"react-hook-form","text":"<p>\ufeffhttps://github.com/react-hook-form/react-hook-form\ufeff </p> <p>\u4e0b\u8f7d\u91cf300\u4e07</p> <p>\u662f\u4e00\u4e2a\u7528\u4e8e\u6784\u5efa React \u8868\u5355\u7684\u5e93\u3002\u5b83\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u8005\u7b80\u5316\u8868\u5355\u9a8c\u8bc1\u548c\u6570\u636e\u5904\u7406\u7684\u6d41\u7a0b\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u4f7f\u7528 react-hook-form \u7684\u793a\u4f8b\u4ee3\u7801\uff1a</p> <pre><code>import React from 'react';import { useForm } from 'react-hook-form'; function App() {  const { register, handleSubmit, errors } = useForm();   const onSubmit = data =&gt; {    console.log(data);  };   return (    &lt;form onSubmit={handleSubmit(onSubmit)}&gt;      &lt;input        type=\"text\"        name=\"firstName\"        ref={register({ required: true })}      /&gt;      {errors.firstName &amp;&amp; &lt;span&gt;\u6b64\u4e3a\u5fc5\u586b\u9879&lt;/span&gt;}       &lt;input        type=\"text\"        name=\"lastName\"        ref={register({ required: true })}      /&gt;      {errors.lastName &amp;&amp; &lt;span&gt;\u6b64\u4e3a\u5fc5\u586b\u9879&lt;/span&gt;}       &lt;button type=\"submit\"&gt;\u63d0\u4ea4&lt;/button&gt;    &lt;/form&gt;  );} export default App;\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u4f7f\u7528\u4e86 react-hook-form \u7684 useForm \u94a9\u5b50\u6765\u8fdb\u884c\u8868\u5355\u5904\u7406\u3002\u901a\u8fc7 register \u51fd\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u8868\u5355\u5143\u7d20\u4e0e\u8868\u5355\u9a8c\u8bc1\u89c4\u5219\u8fdb\u884c\u5173\u8054\u3002\u5728 onSubmit \u51fd\u6570\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u83b7\u53d6\u5230\u7ecf\u8fc7\u9a8c\u8bc1\u7684\u8868\u5355\u6570\u636e\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u7b80\u5355\u5730\u5c06\u6570\u636e\u6253\u5370\u5728\u63a7\u5236\u53f0\u4e0a\u3002</p> <p>\u5728\u8868\u5355\u5143\u7d20\u7684 ref \u5c5e\u6027\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 { required: true } \u8fd9\u4e2a\u9a8c\u8bc1\u89c4\u5219\uff0c\u5b83\u8868\u793a\u8f93\u5165\u6846\u5fc5\u586b\u3002\u5982\u679c\u8f93\u5165\u6846\u672a\u586b\u5199\u5185\u5bb9\uff0c\u4f1a\u5728\u4e0b\u65b9\u663e\u793a \"\u6b64\u4e3a\u5fc5\u586b\u9879\" \u7684\u9519\u8bef\u63d0\u793a\u3002</p> <p>\u6b64\u5916\uff0c\u8fd8\u6709\u5f88\u591a\u5176\u4ed6\u5b9e\u7528\u7684\u529f\u80fd\u548c\u94a9\u5b50\u53ef\u4ee5\u5728 react-hook-form \u4e2d\u4f7f\u7528\uff0c\u5982\u81ea\u5b9a\u4e49\u9a8c\u8bc1\u89c4\u5219\u3001\u5f02\u6b65\u9a8c\u8bc1\u7b49\u3002\u4e0a\u8ff0\u4ee3\u7801\u53ea\u662f\u7b80\u5355\u7684\u793a\u4f8b\uff0c\u53ef\u4ee5\u6839\u636e\u5177\u4f53\u9700\u6c42\u8fdb\u884c\u5b9a\u5236\u548c\u6269\u5c55\u3002</p>"},{"location":"third-part-lib/codemirror/Code-mirror/","title":"Code-mirror","text":""},{"location":"third-part-lib/codemirror/Code-mirror/#code-mirror","title":"Code mirror","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4723  \u9605\u8bfb10\u5206\u949f</p> <p>code mirror \u662f\u4e00\u4e2a\u4ee3\u7801\u7f16\u8f91\u63d2\u4ef6</p>"},{"location":"third-part-lib/codemirror/Code-mirror/#html","title":"\u5728\u5e38\u89c4HTML\u754c\u9762\u4f7f\u7528","text":"<pre><code>&lt;!--\u9009\u62e9\u811a\u672c\u7f16\u7801\u4ee3\u7801--&gt;\n&lt;div class=\"controls\"&gt;\n    &lt;input class=\"ck-code\" type=\"radio\" name=\"script_once_type\" id=\"script_once_type1\" checked&gt; shell\n     &lt;input class=\"ck-code\" type=\"radio\" name=\"script_once_type\" id=\"script_once_type2\"&gt; bat\n     &lt;input class=\"ck-code\" type=\"radio\" name=\"script_once_type\" id=\"script_once_type3\"&gt; python\n&lt;/div&gt;\n\n&lt;!--\u9009\u62e9\u811a\u672c\u98ce\u683c\u4ee3\u7801--&gt;\n&lt;div class=\"controls\"&gt;\n    &lt;select id='select'&gt;\n         &lt;option&gt;default&lt;/option&gt;\n         &lt;option&gt;3024-night&lt;/option&gt;\n         &lt;option selected&gt;erlang-dark&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n\n&lt;!--textarea--&gt;\n&lt;textarea id=\"script_once_code\"&gt;\n    #!/bin/sh\n&lt;/textarea&gt;\n&lt;textarea id=\"code2\" class=\"hide\"&gt;\n    #!/usr/bin/env python\n    # -*- coding: utf8 -*-\n&lt;/textarea&gt;\n</code></pre> <p>\u914d\u7f6e\u6587\u4ef6</p> <pre><code>var editor = CodeMirror.fromTextArea($(\"#script_once_code\")[0], { //script_once_code\u4e3a\u4f60\u7684textarea\u7684ID\u53f7\n           lineNumbers: true,//\u662f\u5426\u663e\u793a\u884c\u53f7\n           mode:\"shell\",\u3000//\u9ed8\u8ba4\u811a\u672c\u7f16\u7801\n          lineWrapping:true, //\u662f\u5426\u5f3a\u5236\u6362\u884c\n });\n</code></pre> <p>\u6539\u53d8\u8bed\u8a00\u80cc\u666f\u5904\u7406</p> <pre><code>//\u9009\u62e9\u754c\u9762\u98ce\u683cJS\n$('#select').change(function(){\n     var theme = $('#select').val();\n         editor.setOption(\"theme\", theme); //editor.setOption()\u4e3acodeMirror\u63d0\u4f9b\u7684\u8bbe\u7f6e\u98ce\u683c\u7684\u65b9\u6cd5\n }); \n\n//\u9009\u62e9\u811a\u672c\u7c7b\u578bJS\nvar txt1=$(\"#script_once_code\").val();\nvar txt2='';\nvar txt3=$(\"#code2\").val();\n$(\".ck-code\").click(function(){\n       var txt=editor.getValue(); //editor.getValue()\u83b7\u53d6textarea\u4e2d\u7684\u503c\n       var lang=$(this).prop(\"id\");\n       if(lang==\"script_once_type1\") {\n               editor.setOption(\"mode\",\"shell\");//editor.setOption()\u8bbe\u7f6e\u811a\u672c\u7c7b\u578b\n                   editor.setValue(txt1);// editor.setValue()\u8bbe\u7f6etextarea\u4e2d\u7684\u503c\n       }\n       else if(lang==\"script_once_type2\") {\n               editor.setOption(\"mode\",\"perl\");\n               editor.setValue(txt2);\n       }\n       else {\n               editor.setOption(\"mode\",\"python\");\n               editor.setValue(txt3);\n\n       }\n});\n</code></pre>"},{"location":"third-part-lib/codemirror/Code-mirror/#react","title":"\u5728 react \u4e2d\u4f7f\u7528","text":"<ol> <li>\u5b89\u88c5 react-codemirror</li> </ol> <pre><code>npm install react\nnpm install react-codemirror\n</code></pre> <ol> <li>\u5f15\u5165\u6587\u4ef6</li> </ol> <pre><code>import CodeMirror from 'react-codemirror';\n// \u5f15\u5165codemirror\n\nimport 'codemirror/lib/codemirror.css';\n// \u5f15\u5165\u57fa\u672c\u6837\u5f0f\n\nimport 'codemirror/mode/sql/sql';\n// \u5f15\u5165\u8bed\u8a00\u7c7b\u578b(\u53ef\u9009)\n\nimport 'codemirror/theme/monikai.css';\n// \u5f15\u5165\u4e3b\u9898\u989c\u8272(\u53ef\u9009)\n</code></pre> <ol> <li> <p>\u7ec4\u4ef6\u4f7f\u7528   <pre><code>&lt;CodeMirror\n  ref=\"editor\"\n  value={this.state.code}\n  options={options}\n  onChange={code =&gt; this.handleCodeChange(code)}\n      width=\"960px\"\n      height=\"600px\"\n/&gt;\n</code></pre></p> </li> <li> <p>\u7ec4\u4ef6\u914d\u7f6e   <pre><code>const options={  \n  lineNumbers: true,                     //\u663e\u793a\u884c\u53f7  \n  mode: {name: \"javascript\", json: true},    //\u5b9a\u4e49mode  \n  extraKeys: {\"Ctrl\": \"autocomplete\"},   //\u81ea\u52a8\u63d0\u793a\u914d\u7f6e  \n  theme: \"ambiance\",                  //\u9009\u4e2d\u7684theme\n  value: 'const a = 1;', // \u521d\u59cb\u503c\uff0c\u5b57\u7b26\u4e32\u6216\u8005Document\u5bf9\u8c61\n  indentUnit: 4, // \u7f29\u8fdb\u5355\u4f4d(\u9ed8\u8ba42)\n  smartIndent: true, // \u662f\u5426\u667a\u80fd\u7f29\u8fdb \u9ed8\u8ba4 true\n  tabSize: 4, // tab \u5bbd\u5ea6\n  keyMap: 'default', // \u662f\u5426\u914d\u7f6e\u79d8\u94a5\u6620\u5c04\n  lineWrapping: true, // \u662f\u5426\u6362\u884c(\u9ed8\u8ba4\u4e0d\u6362\u884c scroll)\n  lineNumbers: true, // \u662f\u5426\u663e\u793a\u884c\u53f7\n  firstLineNumber: 3, // \u521d\u59cb\u884c\u53f7(\u9ed8\u8ba4\u662f1\uff0c\u901a\u5e38\u4e0d\u9700\u8981\u8bbe\u7f6e)\n  readOnly: true/false/nocursor, // \u53ea\u8bfb\u6a21\u5f0f\n  undoDepth: 40, // \u64a4\u9500\u6b21\u6570\n  autofocus: boolean, // \u521d\u59cb\u81ea\u52a8\u805a\u7126\n  onDragEvent: true,\n  onKeyEvent: true, // \u662f\u5426\u5141\u8bb8\u62d6\u62fd\u4e8b\u4ef6\u548c\u952e\u76d8\u4e8b\u4ef6\n};\n</code></pre></p> </li> <li> <p>\u64cd\u4f5c\u7ec4\u4ef6\uff08API\uff09   <sub>~</sub>js const codeMirror = this.refs.editor.getCodeMirror(); console.log(codeMirror.getSelection());</p> </li> </ol> <p>codeMirror.setValue(this.state.newCode); codeMirror.getValue(this.state.newCode);   ~~~</p> <p>\u5176\u4ed6\u4f7f\u7528\uff1ahttps://uiw-react.github.io/react-codemirror/</p> <p>\u4e8b\u4ef6 https://codemirror.net/doc/manual.html</p>"},{"location":"third-part-lib/codemirror/Code-mirror/#_1","title":"\u9009\u62e9\u7ec4\u4ef6","text":"<pre><code>import React from 'react';\nimport styles from './index.less';\n\nconst Select = ({ value, options, onChange }) =&gt; {\n  return (\n    &lt;select className={styles.select} value={value} onChange={onChange}&gt;\n      {options.map((item, key) =&gt; {\n        const optionProps = { key };\n        if (value === item) {\n          optionProps.value = item;\n        }\n        return (\n          &lt;option {...optionProps}&gt; {item} &lt;/option&gt;\n        );\n      })}\n    &lt;/select&gt;\n  );\n};\n\nexport default Select;\n</code></pre> <p>\u901a\u8fc7\u9009\u62e9\u7ec4\u4ef6\uff0c\u63a7\u5236 code-mirror \u7684\u8bed\u8a00\u7c7b\u578b\u3001\u80cc\u666f\u7c7b\u578b\u3001\u4ee3\u7801\u7f16\u7801\u7c7b\u578b\uff08value\uff09;</p> <p>https://blog.csdn.net/jlu_lei/article/details/80259697</p>"},{"location":"third-part-lib/codemirror/codemirror-readme/","title":"codemirror \u914d\u7f6e","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 12257  \u9605\u8bfb25\u5206\u949f</p> <pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;link rel=\"stylesheet\" href=\"codemirror.css\"&gt;  &lt;!-- \u5f15\u5165CSS\u6587\u4ef6 --&gt;\n    &lt;script src=\"codemirror.js\"&gt;&lt;/script&gt;  &lt;!-- \u5f15\u5165JS\u6587\u4ef6 --&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;textarea id=\"code\" name=\"code\"&gt;http://www.cnblogs.com/oldphper&lt;/textarea&gt;\n    &lt;script&gt;\n      var editor = CodeMirror.fromTextArea(document.getElementById(\"code\"), {\n        // \u6807\u8bc6\u5230textarea\n        value : \"http://www.cnblogs.com/oldphper\",  // \u6587\u672c\u57df\u9ed8\u8ba4\u663e\u793a\u7684\u6587\u672c\n        mode : \"text/html\",  // \u6a21\u5f0f\n        // theme : \"\",  // CSS\u6837\u5f0f\u9009\u62e9\n        indentUnit : 2,  // \u7f29\u8fdb\u5355\u4f4d\uff0c\u9ed8\u8ba42\n        smartIndent : true,  // \u662f\u5426\u667a\u80fd\u7f29\u8fdb\n        tabSize : 4,  // Tab\u7f29\u8fdb\uff0c\u9ed8\u8ba44\n        readOnly : false,  // \u662f\u5426\u53ea\u8bfb\uff0c\u9ed8\u8ba4false\n        showCursorWhenSelecting : true,\n        lineNumbers : true  // \u662f\u5426\u663e\u793a\u884c\u53f7\n        // \u5176\u4ed6 http://codemirror.net/doc/manual.html#config\n      });\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u5e38\u89c1 API</p> <pre><code>function fun() {\n  ob = \"\";\n  //alert(editor.getValue()); // \u5f97\u5230\u6240\u6709\u5185\u5bb9\n  //editor.setValue(\"abc\"); // \u5c06\u7f16\u8f91\u5668\u5185\u5bb9\u6539\u4e3a\"abc\"\n\n  // 0\u4e3a\u8d77\u70b9\uff0c2\u884c\u7b2c3\u4e2a\u5b57\u6bcd\u52302\u884c\u7b2c5\u4e2a\u5b57\u6bcd\n  //alert(editor.getRange({line:1,ch:2},{line:1,ch:5}));  //\u5f97\u5230\n  //editor.replaceRange(\"shashasha\",{line:1,ch:2},{line:2,ch:5});\n\n  //alert(editor.getLine(2));   // \u7b2c\u4e09\u884c\u6570\u636e\n  //alert(editor.lineCount());   // \u603b\u5171\u51e0\u884c\n  //alert(editor.firstLine());   // \u9996\u884c\u65700\n  //alert(editor.lastLine());   // \u672b\u884c\u657019\uff0c\u517120\u884c\n  //ob = editor.getLineHandle(1);   // \u7b2c\u4e8c\u884c\u6570\u636e\u53e5\u67c4\n  //alert(editor.getLineNumber(ob)); // \u884c\u53e5\u67c4\u5728\u54ea\u884c\n  //editor.eachLine(0,2,alert(ob));\n\n  //ob = editor.changeGeneration();    // \u7f16\u8f91\u52a8\u4f5c\u6b21\u6570\uff0c1\u6b21\u8d77\n  //editor.markClean();   // \u6e05\u9664\u52a8\u4f5c\n  //editor.isClearn();    // \u662f\u5426\u6e05\u9664\n\n  //ob = editor.getSelection();   // \u83b7\u5f97\u9009\u4e2d\u7684\u6570\u636e\u4e00\u6761\n  //ob = editor.getSelections();  // \u83b7\u5f97\u9009\u4e2d\u6570\u636e\u591a\u6761\n  editor.replaceSelection(\"ttttttt\"); // \u9009\u4e2d\u66ff\u6362\uff0c\u4e00\u6761\u6839\u591a\u6761\u90fd\u66ff\u6362\uff0c\u4e0d\u9009\u4e2d\u5219\u5728\u5149\u6807\u5904\u63d2\u5165\n  //editor.replaceSelections([\"aaa\",\"bbb\"]); // \u9009\u4e2d\u66ff\u6362\uff0c\u591a\u6761\u5bf9\u591a\u9009\n  //editor.setSelection();  //\u8bbe\u7f6e\u9009\u4e2d\n  //editor.setSelections();  //\u8bbe\u7f6e\u9009\u4e2d\n  //ob = editor.listSelections(); //boj\n  //ob = editor.somethingSelected(); // \u662f\u5426\u6709\u9009\u4e2d\n  //editor.addSelection({line:2,ch:6}, {line:1,ch:2});  // \u9009\u4e2d\u6b64\u6bb5\n\n  //ob = editor.getCursor();    // ob['line']\u3001['ch']\n  //editor.setCursor(2);    // \u8bbe\u7f6e\u5149\u6807\u4f4d\u7f6e\n\n  //ob = editor.hasFocus();   // focus?\u5168false\n\n  //editor.addOverlay(\"aaaaa\"); //..\n  //editor.removeOverlay(\"aaaaa\"); //..\n\n  //ob = editor.getDoc();   // \u6587\u6863\u5bf9\u8c61,\u5f88\u591a\n  //ob = editor.getEditor();   //..\n\n  //ob = editor.setBookmark({line:1,ch:3}); // \u4e66\u7b7e\u5bf9\u8c61\n\n  //editor.addWidget({line:1,ch:2},\"&lt;if&gt;&lt;/if&gt;\",true); //\u6dfb\u52a0\u90e8\u4ef6\n\n  //editor.setSize(1100,1100);    //\u8bbe\u7f6e\u5bbd\u9ad8\n  //editor.scrollTo(800,300); // \u8bbe\u7f6e\u6eda\u52a8\u6761\u4f4d\u7f6e\n\n  //editor.cursorCoords({line:1,ch:2},\"aaaaaa\"); //..\n}\n</code></pre> <pre><code>&lt;!--\u9009\u62e9\u811a\u672c\u7f16\u7801\u4ee3\u7801--&gt;\n&lt;div class=\"controls\"&gt;\n  &lt;input class=\"ck-code\" type=\"radio\" name=\"script_once_type\" id=\"script_once_type1\" checked&gt; shell\n  &lt;input class=\"ck-code\" type=\"radio\" name=\"script_once_type\" id=\"script_once_type2\"&gt; bat\n  &lt;input class=\"ck-code\" type=\"radio\" name=\"script_once_type\" id=\"script_once_type3\"&gt; python\n&lt;/div&gt;\n\n&lt;!--\u9009\u62e9\u811a\u672c\u98ce\u683c\u4ee3\u7801--&gt;\n&lt;div class=\"controls\"&gt;\n  &lt;select id='select'&gt;\n    &lt;option&gt;default&lt;/option&gt;\n    &lt;option&gt;3024-night&lt;/option&gt;\n    &lt;option selected&gt;erlang-dark&lt;/option&gt;\n  &lt;/select&gt;\n&lt;/div&gt;\n\n&lt;!--textarea--&gt;\n&lt;textarea id=\"script_once_code\"&gt;\n  #!/bin/sh\n&lt;/textarea&gt;\n&lt;textarea id=\"code2\" class=\"hide\"&gt;\n  #!/usr/bin/env python\n  # -*- coding: utf8 -*-\n&lt;/textarea&gt;\n</code></pre> <pre><code>//\u9009\u62e9\u754c\u9762\u98ce\u683cJS\n$('#select').change(function(){\n  var theme = $('#select').val();\n  editor.setOption(\"theme\", theme); //editor.setOption()\u4e3acodeMirror\u63d0\u4f9b\u7684\u8bbe\u7f6e\u98ce\u683c\u7684\u65b9\u6cd5\n}); \n\n//\u9009\u62e9\u811a\u672c\u7c7b\u578bJS\nvar txt1=$(\"#script_once_code\").val();\nvar txt2='';\nvar txt3=$(\"#code2\").val();\n$(\".ck-code\").click(function(){\n  var txt=editor.getValue(); //editor.getValue()\u83b7\u53d6textarea\u4e2d\u7684\u503c\n  var lang=$(this).prop(\"id\");\n  if(lang==\"script_once_type1\") {\n    editor.setOption(\"mode\",\"shell\");//editor.setOption()\u8bbe\u7f6e\u811a\u672c\u7c7b\u578b\n    editor.setValue(txt1);// editor.setValue()\u8bbe\u7f6etextarea\u4e2d\u7684\u503c\n  }\n  else if(lang==\"script_once_type2\") {\n    editor.setOption(\"mode\",\"perl\");\n    editor.setValue(txt2);\n  }\n  else {\n    editor.setOption(\"mode\",\"python\");\n    editor.setValue(txt3);\n  }\n});\n</code></pre> <p>\u4e3b\u9898</p> <pre><code>import 'codemirror/theme/monokai.css'\n\nimport 'codemirror/mode/javascript/javascript'\nimport 'codemirror/mode/clike/clike'\nimport 'codemirror/mode/go/go'\nimport 'codemirror/mode/htmlmixed/htmlmixed'\nimport 'codemirror/mode/http/http'\nimport 'codemirror/mode/php/php'\nimport 'codemirror/mode/python/python'\nimport 'codemirror/mode/http/http'\nimport 'codemirror/mode/sql/sql'\nimport 'codemirror/mode/vue/vue'\nimport 'codemirror/mode/xml/xml'\n</code></pre> <p>7.\u521d\u59cb\u5316\u7f16\u8bd1\u5668\u65f6\u53ef\u8bbe\u7f6e\u5c5e\u6027\uff1a</p> <p>value:\u521d\u59cb\u5185\u5bb9</p> <p>Mode:\u8bbe\u7f6e\u7f16\u8bd1\u5668\u7f16\u7a0b\u8bed\u8a00\u5173\u8054\u5185\u5bb9\uff0c\u5bf9\u5e94\u7684mine\u503c</p> <p>Theme:\u7f16\u8bd1\u5668\u7684\u4e3b\u9898\uff0c\u9700\u8981\u5f15\u5165\u5bf9\u5e94\u7684\u5305</p> <p>tabSize\uff1atab\u7684\u7a7a\u683c\u5bbd\u5ea6</p> <p>lineNumbers\uff1a\u662f\u5426\u4f7f\u7528\u884c\u53f7</p> <p>smartIndent\uff1a\u81ea\u52a8\u7f29\u8fdb\u662f\u5426\u5f00\u542f</p> <p>indentUnit\uff1a\u7f29\u8fdb\u5355\u4f4d</p> <p>extraKeys\u7684\u5feb\u6377\u952e\u7ed1\u5b9a\u547d\u4ee4\uff1a</p> <p>selectAllCtrl-A \uff1a\u9009\u62e9\u7f16\u8f91\u5668\u7684\u5168\u90e8\u5185\u5bb9\u3002</p> <p>killLine:Emacs\u5f0f\u7684\u6e05\u9664\u884c\u3002\u7528\u4e8e\u5220\u9664\u884c\u5185\u5149\u6807\u540e\u7684\u5185\u5bb9\u3002\u5982\u679c\u53ea\u5305\u542b\u7a7a\u767d\u5b57\u7b26\uff0c\u884c\u5c3e\u7684\u65b0\u884c(\u5e94\u8be5\u662f\u6307\u6362\u884c \u5b57\u7b26)\u4e5f\u4f1a\u88ab\u5220\u9664\u3002</p> <p>deleteLine :\u5220\u9664\u5149\u6807\u6240\u5728\u6574\u884c\uff0c\u5305\u62ec\u884c\u5c3e\u7684\u65b0\u884c\u3002</p> <p>delLineLeft:\u5220\u9664\u884c\u5185\u5149\u6807\u524d\u7684\u5185\u5bb9\u3002</p> <p>delWrappedLineLeft:\u5220\u9664\u5149\u6807\u6240\u5728\u53ef\u89c1\u884c\u5de6\u8fb9\u5230\u5149\u6807\u5904\u7684\u90e8\u5206\u3002\uff08\u8fd9\u91cc\u662f\u9488\u5bf9\u5728\u884c\u5185\u6709\u6362\u884c\u663e\u793a\u7684\u60c5\u51b5\uff0c\u4e5f\u5c31\u662f\u8bf4\u53ef\u80fd\u4e0d\u662f\u4e00\u884c\u5168\u90e8\u5904\u7406\uff0c\u800c\u662f\u53ea\u5904\u7406\u884c\u7684\u4e00\u90e8\u5206\uff09</p> <p>delWrappedLineRight\uff1a\u5220\u9664\u5149\u6807\u6240\u5728\u53ef\u89c1\u884c\u5149\u6807\u5904\u5230\u53f3\u8fb9\u7684\u90e8\u5206\u3002\uff08\u540c\u4e0a\uff09</p> <p>undo\uff1a\u64a4\u6d88\u6700\u540e\u4e00\u6b21\u66f4\u6539\u3002</p> <p>redo:\u91cd\u505a\u6700\u540e\u4e00\u6b21\u64a4\u6d88\u66f4\u6539\u3002</p> <p>undoSelection:\u64a4\u6d88\u6700\u540e\u4e00\u6b21\u9009\u62e9\u7684\u66f4\u6539\uff0c\u5982\u679c\u6ca1\u6709\u9009\u62e9\u66f4\u6539\uff0c\u90a3\u4e48\u5c31\u64a4\u6d88\u6700\u540e\u4e00\u6b21\u6587\u672c\u66f4\u6539\u3002</p> <p>redoSelection:\u91cd\u505a\u6700\u540e\u4e00\u6b21\u9009\u62e9\u7684\u66f4\u6539\uff0c\u5982\u679c\u6ca1\u6709\u9009\u62e9\u66f4\u6539\uff0c\u90a3\u4e48\u5c31\u91cd\u505a\u6700\u540e\u4e00\u6b21\u6587\u672c\u66f4\u6539\u3002</p> <p>goDocStart:\u79fb\u52a8\u5149\u6807\u5230\u6587\u6863\u5f00\u59cb\u5904\u3002</p> <p>goDocEnd:\u79fb\u52a8\u5149\u6807\u5230\u6587\u6863\u7ed3\u675f\u5904\u3002</p> <p>goLineStart:\u79fb\u52a8\u5149\u6807\u5230\u884c\u5f00\u59cb\u5904\u3002</p> <p>goLineStartSmartHome:\u79fb\u52a8\u5149\u6807\u5230\u884c\u6587\u5b57\u5f00\u59cb\u5904\uff0c\u5982\u679c\u5149\u6807\u5df2\u7ecf\u5728\u90a3\uff0c\u90a3\u4e48\u5c31\u79fb\u52a8\u5230\u884c\u7684\u771f\u6b63\u5f00\u59cb\u5904\u3002</p> <p>goLineEnd:\u79fb\u52a8\u5149\u6807\u5230\u884c\u7ed3\u675f\u5904\u3002</p> <p>goLineRight:\u79fb\u52a8\u5149\u6807\u5230\u53ef\u89c1\u884c\u53f3\u8fb9\u3002</p> <p>goLineLeft\uff1a\u79fb\u52a8\u5149\u6807\u5230\u53ef\u89c1\u884c\u5de6\u8fb9\u3002\u5982\u679c\u884c\u5185\u6709\u6362\u884c\uff0c\u90a3\u4e48\u53ef\u80fd\u4e0d\u4f1a\u79fb\u52a8\u5230\u884c\u5f00\u59cb\u5904\u3002</p> <p>goLineLeftSmart\uff1a\u79fb\u52a8\u5149\u6807\u5230\u884c\u6587\u5b57\u5f00\u59cb\u5904\uff0c\u5982\u679c\u5149\u6807\u5df2\u7ecf\u5728\u90a3\uff0c\u90a3\u4e48\u5c31\u79fb\u52a8\u5230\u884c\u7684\u771f\u6b63\u5f00\u59cb\u5904\u3002</p> <p>goLineUp\uff1a\u79fb\u52a8\u5149\u6807\u5230\u4e0a\u4e00\u884c\u3002</p> <p>goLineDown\uff1a\u79fb\u52a8\u5149\u6807\u5230\u4e0b\u4e00\u884c\u3002</p> <p>goPageUp\uff1a\u79fb\u52a8\u5149\u6807\u5230\u4e0a\u4e00\u5c4f\uff0c\uff08\u6bcf\u6b21\uff09\u5411\u4e0a\u6eda\u52a8\u76f8\u540c\u8ddd\u79bb\u3002</p> <p>goPageDown\uff1a\u79fb\u52a8\u5149\u6807\u5230\u4e0b\u4e00\u5c4f\uff0c\uff08\u6bcf\u6b21\uff09\u5411\u4e0b\u6eda\u52a8\u76f8\u540c\u8ddd\u79bb\u3002</p> <p>goCharLeft\uff1a\u5149\u6807\u5411\u5de6\u79fb\u52a8\u4e00\u4e2a\u5b57\u7b26\uff0c\u5982\u679c\u5728\u5149\u6807\u884c\u9996\uff0c\u90a3\u4e48\u79fb\u52a8\u5230\u524d\u4e00\u884c\u3002</p> <p>goCharRight\uff1a\u5149\u6807\u5411\u53f3\u79fb\u52a8\u4e00\u4e2a\u5b57\u7b26\uff0c\u5982\u679c\u5728\u5149\u6807\u884c\u5c3e\uff0c\u90a3\u4e48\u79fb\u52a8\u5230\u540e\u4e00\u884c\u3002</p> <p>goColumnLeft:\u5149\u6807\u5411\u5de6\u79fb\u52a8\u4e00\u4e2a\u5b57\u7b26\uff0c\u4f46\u662f\u4e0d\u4f1a\u8d85\u8fc7\u884c\u8fb9\u754c\u3002</p> <p>goColumnRight\uff1a\u5149\u6807\u5411\u53f3\u79fb\u52a8\u4e00\u4e2a\u5b57\u7b26\uff0c\u4f46\u662f\u4e0d\u4f1a\u8d85\u8fc7\u884c\u8fb9\u754c\u3002</p> <p>goWordLeft:\u5149\u6807\u79fb\u52a8\u5230\u524d\u4e00\u4e2a\u8bcd\u5f00\u59cb\u5904\u3002</p> <p>goWordRight\uff1a\u5149\u6807\u79fb\u52a8\u5230\u540e\u4e00\u4e2a\u8bcd\u7ed3\u675f\u5904\u3002</p> <p>goGroupLeft\uff1a\u79fb\u52a8\u5149\u6807\u5230\u5149\u6807\u524d\u7684\u7ec4\u7684\u5de6\u8fb9\u3002\u7ec4\u662f\u8bcd\u7684\u6269\u5c55\uff0c\u6269\u5c55\u5230\u6807\u70b9\u7b26\u53f7\uff0c\u65b0\u884c\u6216\u8005\u662f\u591a\u4e2a\u7a7a\u767d\u5b57\u7b26\u3002</p> <p>goGroupRight\uff1a\u79fb\u52a8\u5149\u6807\u5230\u5149\u6807\u540e\u7684\u7ec4\u7684\u53f3\u8fb9\u3002\u7ec4\u662f\u8bcd\u7684\u6269\u5c55\uff0c\u6269\u5c55\u5230\u6807\u70b9\u7b26\u53f7\uff0c\u65b0\u884c\u6216\u8005\u662f\u591a\u4e2a\u7a7a\u767d\u5b57\u7b26\u3002</p> <p>delCharBefore:\u5220\u9664\u5149\u6807\u524d\u7684\u4e00\u4e2a\u5b57\u7b26\u3002</p> <p>delCharAfter:\u5220\u9664\u5149\u6807\u540e\u7684\u4e00\u4e2a\u5b57\u7b26\u3002</p> <p>delWordBefore:\u5220\u9664\u5149\u6807\u524d\u7684\u4e00\u4e2a\u8bcd\u3002</p> <p>delWordAfter:\u5220\u9664\u5149\u6807\u540e\u7684\u4e00\u4e2a\u8bcd\u3002</p> <p>delGroupBefore\uff1a\u5220\u9664\u5149\u6807\u524d\u7684\u4e00\u4e2a\u7ec4\u3002</p> <p>delGroupAfter\uff1a\u5220\u9664\u5149\u6807\u540e\u7684\u4e00\u4e2a\u7ec4\u3002</p> <p>indentAuto\uff1a\u81ea\u52a8\u7f29\u8fdb\u5f53\u524d\u884c\u6216\u9009\u4e2d\u884c\u3002</p> <p>indentMore\uff1a\u7f29\u8fdb\u5f53\u524d\u884c\u6216\u9009\u4e2d\u884c\u4e00\u4e2a\u7f29\u8fdb\u5355\u4f4d\u3002</p> <p>indentLess\uff1a\u53cd\u7f29\u8fdb\u5f53\u524d\u884c\u6216\u9009\u4e2d\u884c\u4e00\u4e2a\u7f29\u8fdb\u5355\u4f4d\u3002\uff08\u79fb\u9664\u4e00\u4e2a\u7f29\u8fdb\u5355\u5143\uff09</p> <p>insertTab\uff1a\u5728\u5149\u6807\u5904\u63d2\u5165Tab\u5b57\u7b26\u3002</p> <p>insertSoftTab\uff1a\u5728\u5149\u6807\u5904\u63d2\u5165\u4e0eTab\u5b57\u7b26\u7b49\u5bbd\u7684\u7a7a\u683c\u5b57\u7b26\u3002</p> <p>defaultTabTab\uff1a\u5982\u679c\u6709\u9009\u4e2d\u884c\uff0c\u5219\u7f29\u8fdb\u4e00\u4e2a\u7f29\u8fdb\u5355\u4f4d\uff1b\u5982\u679c\u6ca1\u6709\u9009\u62e9\u884c\uff0c\u5219\u63d2\u5165\u4e00\u4e2aTab\u5b57\u7b26\u3002</p> <p>transposeChars\uff1a\u4ea4\u6362\u5149\u6807\u524d\u540e\u7684\u5b57\u7b26\u3002</p> <p>newlineAndIndentEnter\uff1a\u63d2\u5165\u65b0\u884c\u5e76\u4e14\u81ea\u52a8\u7f29\u8fdb\u3002</p> <p>toggleOverwriteInsert\uff1a\u53cd\u8f6coverwrite\u6807\u5fd7\u3002</p> <p>save\uff1a\u53ea\u5b58\u5728\u5feb\u6377\u952e\u4e2d\uff0c\u6838\u5fc3\u5e93\u672a\u5b9a\u4e49\u3002\u8fd9\u662f\u4e3a\u4e86\u7ed9\u7528\u6237\u7f16\u7801\u63d0\u4f9b\u4e00\u4e2a\u7b80\u5355\u7684\u65b9\u6cd5\u6765\u5b9a\u4e49\u4fdd\u5b58\u547d\u4ee4\u3002</p> <p>find\uff1a\u67e5\u627e\u3002</p> <p>findNext:\u5411\u524d\u67e5\u627e\u3002</p> <p>findPrev:\u5411\u540e\u67e5\u627e\u3002</p> <p>replace:\u66ff\u6362\u3002</p> <p>replaceAll:\u5168\u90e8\u66ff\u6362\u3002</p> <p>scrollbarStyle: \u8bbe\u7f6e\u6eda\u52a8\u6761,\u9ed8\u8ba4\u4e3a\"null\"\u4e3a\u4e0d\u663e\u793a\u7684\u6eda\u52a8\u6761\uff0c\u53ef\u4ee5\u4f7f\u7528\u63d0\u4f9b\u7684\u5176\u4ed6\u6eda\u52a8\u6761\uff1a\u201csimple\u201d,\"overlay\"\u9009\u62e9\u5185\u4fa7\u4e0e\u5916\u4fa7\u7684\u6eda\u52a8\u6761,\u4f7f\u7528\u9700\u5f15\u5165\u4ee5\u4e0b\u5de5\u5177\u5305\uff1a</p> <p>import 'codemirror/addon/scroll/simplescrollbars.css'</p> <p>import 'codemirror/addon/scroll/simplescrollbars'</p> <p>readOnly\uff1a\u8bbe\u7f6e\u4e3a\u53ea\u8bfbtrue/false;\u4e5f\u53ef\u8bbe\u7f6e\u4e3a\"nocursor\"\u5931\u53bb\u7126\u70b9</p> <p>Autofocus\uff1a\u521d\u59cb\u65f6\u662f\u5426\u81ea\u52a8\u83b7\u53d6\u7126\u70b9boolean</p> <p>styleActiveLine: \u8bbe\u7f6e\u5149\u6807\u6240\u5728\u884c\u9ad8\u4eaetrue/false\uff0c\u9700\u5f15\u5165\u5de5\u5177\u5305\uff1a</p> <pre><code>import 'codemirror/addon/selection/active-line'\n</code></pre> <p>8.\u52a8\u6001\u8bbe\u7f6eCodeMirror\u5c5e\u6027\uff1a(\u4ee5\u8bbe\u7f6e\u652f\u6301\u8bed\u8a00mode\u4e3a\u4f8b)</p> <pre><code>this.CodeMirrorEditor.setOption(\"mode\",this.something)   \n</code></pre> <p>\u7f16\u8bd1\u5668\u7684\u4e8b\u4ef6\u89e6\u53d1\u5668</p> <pre><code>// \u89e6\u53d1\u5668\u4f7f\u7528\u65b9\u6cd5\uff1a(change\u4e8b\u4ef6\u4e3a\u4f8b)\nthis.CodeMirrorEditor.on(\"change\",function(){\n  //\u4e8b\u4ef6\u89e6\u53d1\u540e\u6267\u884c\u4e8b\u4ef6\n  alert(\"change\")\n});\n\n// \u53d6\u6d88\u89e6\u53d1\u5668\u65b9\u6cd5\uff1a\nthis.CodeMirrorEditor.off(\"change\")\n</code></pre> <p>\u201cchanges\u201d\uff1a\u6bcf\u6b21\u7f16\u8f91\u5668\u5185\u5bb9\u66f4\u6539\u65f6\u89e6\u53d1</p> <p>\u201cbeforeChange\u201d\uff1a\u4e8b\u4ef6\u5728\u66f4\u6539\u751f\u6548\u524d\u89e6\u53d1</p> <p>\u201ccursorActivity\u201d\uff1a\u5f53\u5149\u6807\u6216\u9009\u4e2d(\u5185\u5bb9)\u53d1\u751f\u53d8\u5316\uff0c\u6216\u8005\u7f16\u8f91\u5668\u7684\u5185\u5bb9\u53d1\u751f\u4e86\u66f4\u6539\u7684\u65f6\u5019\u89e6\u53d1\u3002</p> <p>\u201ckeyHandled\u201d:\u5feb\u6377\u952e\u6620\u5c04(key map)\u4e2d\u7684\u5feb\u6377\u952e\u88ab\u5904\u7406(handle)\u540e\u89e6\u53d1</p> <p>\u201cinputRead\u201d:\u5f53\u7528\u6237\u8f93\u5165\u6216\u7c98\u8d34\u65f6\u7f16\u8f91\u5668\u65f6\u89e6\u53d1\u3002</p> <p>\u201celectrictInput\u201d:\u6536\u5230\u6307\u5b9a\u7684electrict\u8f93\u5165\u65f6\u89e6\u53d1</p> <p>\u201cbeforeSelectionChange\u201d:\u6b64\u4e8b\u4ef6\u5728\u9009\u4e2d\u5185\u5bb9\u53d8\u5316\u524d\u89e6\u53d1</p> <p>\u201cviewportChange\u201d\uff1a\u7f16\u8f91\u5668\u7684\u89c6\u53e3( view port )\u6539\u53d8\uff08\u6eda\u52a8\uff0c\u7f16\u8f91\u6216\u5176\u5b83\u52a8\u4f5c\uff09\u65f6\u89e6\u53d1</p> <p>\u201cgutterClick\u201d\uff1a\u7f16\u8f91\u5668\u7684gutter(\u884c\u53f7\u533a\u57df)\u70b9\u51fb\u65f6\u89e6\u53d1</p> <p>\u201cfocus\u201d\uff1a\u7f16\u8f91\u5668\u6536\u5230\u7126\u70b9\u65f6\u89e6\u53d1</p> <p>\u201cblur\u201d:\u7f16\u8f91\u5668\u5931\u53bb\u7126\u70b9\u65f6\u89e6\u53d1</p> <p>\u201cscroll\u201d:\u7f16\u8f91\u5668\u6eda\u52a8\u6761\u6eda\u52a8\u65f6\u89e6\u53d1</p> <p>\u201ckeydown\u201d, \u201ckeypress\u201d, \u201ckeyup\u201d\uff0c\u201cmousedown\u201d, \u201cdblclick\u201d\u786c\u4ef6\u4e8b\u4ef6\u89e6\u53d1\u5668</p>"},{"location":"third-part-lib/codemirror/codemirror-readme/#api","title":"API","text":"<p>this.CodeMirrorEditor.setValue(\u201cHello Kitty\u201d)\uff1a\u8bbe\u7f6e\u7f16\u8f91\u5668\u5185\u5bb9</p> <p>this.CodeMirrorEditor.getValue()\uff1a\u83b7\u53d6\u7f16\u8f91\u5668\u5185\u5bb9</p> <p>this.CodeMirrorEditor.getLine(n):\u83b7\u53d6\u7b2cn\u884c\u7684\u5185\u5bb9</p> <p>this.CodeMirrorEditor.lineCount()\uff1a\u83b7\u53d6\u5f53\u524d\u884c\u6570</p> <p>this.CodeMirrorEditor.lastLine()\uff1a\u83b7\u53d6\u6700\u540e\u4e00\u884c\u7684\u884c\u53f7</p> <p>this.CodeMirrorEditor.isClean():boolean\u7c7b\u578b\u5224\u65ad\u7f16\u8bd1\u5668\u662f\u5426\u662fclean\u7684</p> <p>this.CodeMirrorEditor.getSelection()\uff1a\u83b7\u53d6\u9009\u4e2d\u5185\u5bb9</p> <p>this.CodeMirrorEditor.getSelections():\u8fd4\u56dearray\u7c7b\u578b\u9009\u4e2d\u5185\u5bb9</p> <p>this.CodeMirrorEditor.replaceSelection(\u201c\u66ff\u6362\u540e\u7684\u5185\u5bb9\u201d):\u66ff\u6362\u9009\u4e2d\u7684\u5185\u5bb9</p> <p>this.CodeMirrorEditor.getCursor():\u83b7\u53d6\u5149\u6807\u4f4d\u7f6e,\u8fd4\u56de{line,char}</p> <p>this.CodeMirrorEditor.setOption(\"\",\"\"):\u8bbe\u7f6e\u7f16\u8bd1\u5668\u5c5e\u6027</p> <p>this.CodeMirrorEditor.getOption(\"\"):\u83b7\u53d6\u7f16\u8bd1\u5668\u5c5e\u6027</p> <p>this.CodeMirrorEditor.addKeyMap(\"\",\"\"):\u6dfb\u52a0key-map\u952e\u503c\uff0c\u8be5\u952e\u503c\u5177\u6709\u6bd4\u539f\u6765\u952e\u503c\u66f4\u9ad8\u7684\u4f18\u5148\u7ea7</p> <p>this.CodeMirrorEditor.removeKeyMap\uff08\"\"\uff09:\u79fb\u9664key-map</p> <p>this.CodeMirrorEditor.addOverlay(\"\"):Enable a highlighting overlay\u2026\u6ca1\u8bd5\u51fa\u6548\u679c</p> <p>this.CodeMirrorEditor.removeOverlay\uff08\"\"\uff09:\u79fb\u9664Overlay</p> <p>this.CodeMirrorEditor.setSize(width,height):\u8bbe\u7f6e\u7f16\u8bd1\u5668\u5927\u5c0f</p> <p>this.CodeMirrorEditor.scrollTo(x,y):\u8bbe\u7f6escroll\u5230position\u4f4d\u7f6e</p> <p>this.CodeMirrorEditor.refresh():\u5237\u65b0\u7f16\u8f91\u5668</p>"},{"location":"third-part-lib/codemirror/codemirror/","title":"CodeMirror \u4f7f\u7528\u65b9\u6cd5","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 13377  \u9605\u8bfb27\u5206\u949f</p>"},{"location":"third-part-lib/codemirror/codemirror/#_1","title":"\u5b89\u88c5","text":"<p>npm install codemirror\u4e0b\u8f7d\u7ec4\u4ef6</p> <p>\u5f15\u5165\u6838\u5fc3\u914d\u7f6e\u5305</p> <pre><code>import * as CodeMirror from 'codemirror/lib/codemirror'\nimport 'codemirror/lib/codemirror.css'\n</code></pre> <p>\u5f15\u5165\u540e\u5728html\u754c\u9762\u4e2d\u5efa\u7acbtextarea\u6807\u7b7e\uff0c\u7528\u4e8e\u751f\u6210\u4ee3\u7801\u6846</p> <pre><code>&lt;textarea class=\"form-control\" id=\"code\" name=\"code\"&gt;&lt;/textarea&gt;\n</code></pre> <p>\u6839\u636etextarea\u7684id\u83b7\u53d6\u5230\u6807\u7b7e\u5143\u7d20\uff0c\u5c06\u5bb9\u5668\u8f6c\u6362\u4e3a\u7f16\u8f91\u5668</p> <pre><code>let myTextarea = document.getElementById('editor');\nthis.CodeMirrorEditor = CodeMirror.fromTextArea(myTextarea, {\n  mode:'javascript'//\u7f16\u8f91\u5668\u8bed\u8a00\n  theme:'monokai', //\u7f16\u8f91\u5668\u4e3b\u9898\n  extraKeys: {\"Ctrl\": \"autocomplete\"},//ctrl\u53ef\u4ee5\u5f39\u51fa\u9009\u62e9\u9879 \n  lineNumbers: true//\u663e\u793a\u884c\u53f7\n});\n</code></pre> <p>\u6839\u636e\u8bbe\u7f6e\u7684\u4e3b\u9898\uff0c\u5f15\u5165\u76f8\u5e94\u7684\u4e3b\u9898\u5305,\u4e3b\u9898\u5305\u5b58\u50a8\u5728theme\u4e0b\uff0c\u4f7f\u7528\u5176\u4ed6\u4e3b\u9898\u5305\u65f6\u8bbe\u7f6eoption\u4e2dtheme\u4e3a\u5bf9\u5e94\u4e3b\u9898</p> <pre><code>import 'codemirror/theme/monokai.css'\n</code></pre> <p>\u6839\u636e\u8bbe\u7f6e\u7684\u7f16\u8f91\u5668\u8bed\u8a00\uff0c\u5f15\u5165\u76f8\u5e94\u5de5\u5177\u5305,\u4ee5\u4e0b\u4e3a\u5e38\u7528\u8bed\u8a00\u5305</p> <pre><code>import 'codemirror/mode/javascript/javascript'\nimport 'codemirror/mode/clike/clike'\nimport 'codemirror/mode/go/go'\nimport 'codemirror/mode/htmlmixed/htmlmixed'\nimport 'codemirror/mode/http/http'\nimport 'codemirror/mode/php/php'\nimport 'codemirror/mode/python/python'\nimport 'codemirror/mode/http/http'\nimport 'codemirror/mode/sql/sql'\nimport 'codemirror/mode/vue/vue'\nimport 'codemirror/mode/xml/xml'\n</code></pre> <p>7.\u521d\u59cb\u5316\u7f16\u8bd1\u5668\u65f6\u53ef\u8bbe\u7f6e\u5c5e\u6027\uff1a</p> <p>value:\u521d\u59cb\u5185\u5bb9 Mode:\u8bbe\u7f6e\u7f16\u8bd1\u5668\u7f16\u7a0b\u8bed\u8a00\u5173\u8054\u5185\u5bb9\uff0c\u5bf9\u5e94\u7684mine\u503c Theme:\u7f16\u8bd1\u5668\u7684\u4e3b\u9898\uff0c\u9700\u8981\u5f15\u5165\u5bf9\u5e94\u7684\u5305 tabSize\uff1atab\u7684\u7a7a\u683c\u5bbd\u5ea6 lineNumbers\uff1a\u662f\u5426\u4f7f\u7528\u884c\u53f7 smartIndent\uff1a\u81ea\u52a8\u7f29\u8fdb\u662f\u5426\u5f00\u542f indentUnit\uff1a\u7f29\u8fdb\u5355\u4f4d keyMap\uff1a\u5feb\u6377\u952e\uff0cdefault\u4f7f\u7528\u9ed8\u8ba4\u5feb\u6377\u952e\uff0c\u9664\u6b64\u4e4b\u5916\u5305\u62ecemacs\uff0csublime\uff0cvim\u5feb\u6377\u952e\uff0c\u4f7f\u7528\u9700\u5f15\u5165\u5de5\u5177</p> <pre><code>import codemirror/keymap/sublime.js\nimport codemirror/keymap/emacs.js\nimport codemirror/keymap/vim.js\n</code></pre> <p>extraKeys \u5feb\u6377\u952e,\u4f8b\u5982 {\u201cCtrl-Q\u201d: \u201cautocomplete\u201d}\uff1a\u81ea\u52a8\u8865\u5168\u4f7f\u7528\u9700\u8981\u5f15\u5165\u5de5\u5177\uff1a</p> <pre><code>import 'codemirror/addon/hint/show-hint'\nimport 'codemirror/addon/hint/javascript-hint'\nimport 'codemirror/addon/hint/sql-hint'\nimport 'codemirror/addon/hint/html-hint'\nimport 'codemirror/addon/hint/xml-hint'\nimport 'codemirror/addon/hint/anyword-hint'\nimport 'codemirror/addon/hint/css-hint'\nimport 'codemirror/addon/hint/show-hint'\n</code></pre> <p>extraKeys\u7684\u5feb\u6377\u952e\u7ed1\u5b9a\u547d\u4ee4\uff1a</p> <p>selectAllCtrl-A \uff1a\u9009\u62e9\u7f16\u8f91\u5668\u7684\u5168\u90e8\u5185\u5bb9\u3002 killLine:Emacs\u5f0f\u7684\u6e05\u9664\u884c\u3002\u7528\u4e8e\u5220\u9664\u884c\u5185\u5149\u6807\u540e\u7684\u5185\u5bb9\u3002\u5982\u679c\u53ea\u5305\u542b\u7a7a\u767d\u5b57\u7b26\uff0c\u884c\u5c3e\u7684\u65b0\u884c(\u5e94\u8be5\u662f\u6307\u6362\u884c \u5b57\u7b26)\u4e5f\u4f1a\u88ab\u5220\u9664\u3002 deleteLine :\u5220\u9664\u5149\u6807\u6240\u5728\u6574\u884c\uff0c\u5305\u62ec\u884c\u5c3e\u7684\u65b0\u884c\u3002 delLineLeft:\u5220\u9664\u884c\u5185\u5149\u6807\u524d\u7684\u5185\u5bb9\u3002 delWrappedLineLeft:\u5220\u9664\u5149\u6807\u6240\u5728\u53ef\u89c1\u884c\u5de6\u8fb9\u5230\u5149\u6807\u5904\u7684\u90e8\u5206\u3002\uff08\u8fd9\u91cc\u662f\u9488\u5bf9\u5728\u884c\u5185\u6709\u6362\u884c\u663e\u793a\u7684\u60c5\u51b5\uff0c\u4e5f\u5c31\u662f\u8bf4\u53ef\u80fd\u4e0d\u662f\u4e00\u884c\u5168\u90e8\u5904\u7406\uff0c\u800c\u662f\u53ea\u5904\u7406\u884c\u7684\u4e00\u90e8\u5206\uff09 delWrappedLineRight\uff1a\u5220\u9664\u5149\u6807\u6240\u5728\u53ef\u89c1\u884c\u5149\u6807\u5904\u5230\u53f3\u8fb9\u7684\u90e8\u5206\u3002\uff08\u540c\u4e0a\uff09 undo\uff1a\u64a4\u6d88\u6700\u540e\u4e00\u6b21\u66f4\u6539\u3002 redo:\u91cd\u505a\u6700\u540e\u4e00\u6b21\u64a4\u6d88\u66f4\u6539\u3002 undoSelection:\u64a4\u6d88\u6700\u540e\u4e00\u6b21\u9009\u62e9\u7684\u66f4\u6539\uff0c\u5982\u679c\u6ca1\u6709\u9009\u62e9\u66f4\u6539\uff0c\u90a3\u4e48\u5c31\u64a4\u6d88\u6700\u540e\u4e00\u6b21\u6587\u672c\u66f4\u6539\u3002 redoSelection:\u91cd\u505a\u6700\u540e\u4e00\u6b21\u9009\u62e9\u7684\u66f4\u6539\uff0c\u5982\u679c\u6ca1\u6709\u9009\u62e9\u66f4\u6539\uff0c\u90a3\u4e48\u5c31\u91cd\u505a\u6700\u540e\u4e00\u6b21\u6587\u672c\u66f4\u6539\u3002 goDocStart:\u79fb\u52a8\u5149\u6807\u5230\u6587\u6863\u5f00\u59cb\u5904\u3002 goDocEnd:\u79fb\u52a8\u5149\u6807\u5230\u6587\u6863\u7ed3\u675f\u5904\u3002 goLineStart:\u79fb\u52a8\u5149\u6807\u5230\u884c\u5f00\u59cb\u5904\u3002 goLineStartSmartHome:\u79fb\u52a8\u5149\u6807\u5230\u884c\u6587\u5b57\u5f00\u59cb\u5904\uff0c\u5982\u679c\u5149\u6807\u5df2\u7ecf\u5728\u90a3\uff0c\u90a3\u4e48\u5c31\u79fb\u52a8\u5230\u884c\u7684\u771f\u6b63\u5f00\u59cb\u5904\u3002 goLineEnd:\u79fb\u52a8\u5149\u6807\u5230\u884c\u7ed3\u675f\u5904\u3002 goLineRight:\u79fb\u52a8\u5149\u6807\u5230\u53ef\u89c1\u884c\u53f3\u8fb9\u3002 goLineLeft\uff1a\u79fb\u52a8\u5149\u6807\u5230\u53ef\u89c1\u884c\u5de6\u8fb9\u3002\u5982\u679c\u884c\u5185\u6709\u6362\u884c\uff0c\u90a3\u4e48\u53ef\u80fd\u4e0d\u4f1a\u79fb\u52a8\u5230\u884c\u5f00\u59cb\u5904\u3002 goLineLeftSmart\uff1a\u79fb\u52a8\u5149\u6807\u5230\u884c\u6587\u5b57\u5f00\u59cb\u5904\uff0c\u5982\u679c\u5149\u6807\u5df2\u7ecf\u5728\u90a3\uff0c\u90a3\u4e48\u5c31\u79fb\u52a8\u5230\u884c\u7684\u771f\u6b63\u5f00\u59cb\u5904\u3002 goLineUp\uff1a\u79fb\u52a8\u5149\u6807\u5230\u4e0a\u4e00\u884c\u3002 goLineDown\uff1a\u79fb\u52a8\u5149\u6807\u5230\u4e0b\u4e00\u884c\u3002 goPageUp\uff1a\u79fb\u52a8\u5149\u6807\u5230\u4e0a\u4e00\u5c4f\uff0c\uff08\u6bcf\u6b21\uff09\u5411\u4e0a\u6eda\u52a8\u76f8\u540c\u8ddd\u79bb\u3002 goPageDown\uff1a\u79fb\u52a8\u5149\u6807\u5230\u4e0b\u4e00\u5c4f\uff0c\uff08\u6bcf\u6b21\uff09\u5411\u4e0b\u6eda\u52a8\u76f8\u540c\u8ddd\u79bb\u3002 goCharLeft\uff1a\u5149\u6807\u5411\u5de6\u79fb\u52a8\u4e00\u4e2a\u5b57\u7b26\uff0c\u5982\u679c\u5728\u5149\u6807\u884c\u9996\uff0c\u90a3\u4e48\u79fb\u52a8\u5230\u524d\u4e00\u884c\u3002 goCharRight\uff1a\u5149\u6807\u5411\u53f3\u79fb\u52a8\u4e00\u4e2a\u5b57\u7b26\uff0c\u5982\u679c\u5728\u5149\u6807\u884c\u5c3e\uff0c\u90a3\u4e48\u79fb\u52a8\u5230\u540e\u4e00\u884c\u3002 goColumnLeft:\u5149\u6807\u5411\u5de6\u79fb\u52a8\u4e00\u4e2a\u5b57\u7b26\uff0c\u4f46\u662f\u4e0d\u4f1a\u8d85\u8fc7\u884c\u8fb9\u754c\u3002 goColumnRight\uff1a\u5149\u6807\u5411\u53f3\u79fb\u52a8\u4e00\u4e2a\u5b57\u7b26\uff0c\u4f46\u662f\u4e0d\u4f1a\u8d85\u8fc7\u884c\u8fb9\u754c\u3002 goWordLeft:\u5149\u6807\u79fb\u52a8\u5230\u524d\u4e00\u4e2a\u8bcd\u5f00\u59cb\u5904\u3002 goWordRight\uff1a\u5149\u6807\u79fb\u52a8\u5230\u540e\u4e00\u4e2a\u8bcd\u7ed3\u675f\u5904\u3002 goGroupLeft\uff1a\u79fb\u52a8\u5149\u6807\u5230\u5149\u6807\u524d\u7684\u7ec4\u7684\u5de6\u8fb9\u3002\u7ec4\u662f\u8bcd\u7684\u6269\u5c55\uff0c\u6269\u5c55\u5230\u6807\u70b9\u7b26\u53f7\uff0c\u65b0\u884c\u6216\u8005\u662f\u591a\u4e2a\u7a7a\u767d\u5b57\u7b26\u3002 goGroupRight\uff1a\u79fb\u52a8\u5149\u6807\u5230\u5149\u6807\u540e\u7684\u7ec4\u7684\u53f3\u8fb9\u3002\u7ec4\u662f\u8bcd\u7684\u6269\u5c55\uff0c\u6269\u5c55\u5230\u6807\u70b9\u7b26\u53f7\uff0c\u65b0\u884c\u6216\u8005\u662f\u591a\u4e2a\u7a7a\u767d\u5b57\u7b26\u3002 delCharBefore:\u5220\u9664\u5149\u6807\u524d\u7684\u4e00\u4e2a\u5b57\u7b26\u3002 delCharAfter:\u5220\u9664\u5149\u6807\u540e\u7684\u4e00\u4e2a\u5b57\u7b26\u3002 delWordBefore:\u5220\u9664\u5149\u6807\u524d\u7684\u4e00\u4e2a\u8bcd\u3002 delWordAfter:\u5220\u9664\u5149\u6807\u540e\u7684\u4e00\u4e2a\u8bcd\u3002 delGroupBefore\uff1a\u5220\u9664\u5149\u6807\u524d\u7684\u4e00\u4e2a\u7ec4\u3002 delGroupAfter\uff1a\u5220\u9664\u5149\u6807\u540e\u7684\u4e00\u4e2a\u7ec4\u3002 indentAuto\uff1a\u81ea\u52a8\u7f29\u8fdb\u5f53\u524d\u884c\u6216\u9009\u4e2d\u884c\u3002 indentMore\uff1a\u7f29\u8fdb\u5f53\u524d\u884c\u6216\u9009\u4e2d\u884c\u4e00\u4e2a\u7f29\u8fdb\u5355\u4f4d\u3002 indentLess\uff1a\u53cd\u7f29\u8fdb\u5f53\u524d\u884c\u6216\u9009\u4e2d\u884c\u4e00\u4e2a\u7f29\u8fdb\u5355\u4f4d\u3002\uff08\u79fb\u9664\u4e00\u4e2a\u7f29\u8fdb\u5355\u5143\uff09 insertTab\uff1a\u5728\u5149\u6807\u5904\u63d2\u5165Tab\u5b57\u7b26\u3002 insertSoftTab\uff1a\u5728\u5149\u6807\u5904\u63d2\u5165\u4e0eTab\u5b57\u7b26\u7b49\u5bbd\u7684\u7a7a\u683c\u5b57\u7b26\u3002 defaultTabTab\uff1a\u5982\u679c\u6709\u9009\u4e2d\u884c\uff0c\u5219\u7f29\u8fdb\u4e00\u4e2a\u7f29\u8fdb\u5355\u4f4d\uff1b\u5982\u679c\u6ca1\u6709\u9009\u62e9\u884c\uff0c\u5219\u63d2\u5165\u4e00\u4e2aTab\u5b57\u7b26\u3002 transposeChars\uff1a\u4ea4\u6362\u5149\u6807\u524d\u540e\u7684\u5b57\u7b26\u3002 newlineAndIndentEnter\uff1a\u63d2\u5165\u65b0\u884c\u5e76\u4e14\u81ea\u52a8\u7f29\u8fdb\u3002 toggleOverwriteInsert\uff1a\u53cd\u8f6coverwrite\u6807\u5fd7\u3002 save\uff1a\u53ea\u5b58\u5728\u5feb\u6377\u952e\u4e2d\uff0c\u6838\u5fc3\u5e93\u672a\u5b9a\u4e49\u3002\u8fd9\u662f\u4e3a\u4e86\u7ed9\u7528\u6237\u7f16\u7801\u63d0\u4f9b\u4e00\u4e2a\u7b80\u5355\u7684\u65b9\u6cd5\u6765\u5b9a\u4e49\u4fdd\u5b58\u547d\u4ee4\u3002 find\uff1a\u67e5\u627e\u3002 findNext:\u5411\u524d\u67e5\u627e\u3002 findPrev:\u5411\u540e\u67e5\u627e\u3002 replace:\u66ff\u6362\u3002 replaceAll:\u5168\u90e8\u66ff\u6362\u3002 scrollbarStyle: \u8bbe\u7f6e\u6eda\u52a8\u6761,\u9ed8\u8ba4\u4e3a\"null\"\u4e3a\u4e0d\u663e\u793a\u7684\u6eda\u52a8\u6761\uff0c\u53ef\u4ee5\u4f7f\u7528\u63d0\u4f9b\u7684\u5176\u4ed6\u6eda\u52a8\u6761\uff1a\u201csimple\u201d,\"overlay\"\u9009\u62e9\u5185\u4fa7\u4e0e\u5916\u4fa7\u7684\u6eda\u52a8\u6761,\u4f7f\u7528\u9700\u5f15\u5165\u4ee5\u4e0b\u5de5\u5177\u5305\uff1a</p> <pre><code>import 'codemirror/addon/scroll/simplescrollbars.css'\nimport 'codemirror/addon/scroll/simplescrollbars'\nimport 'codemirror/addon/selection/active-line'\n</code></pre> <p>readOnly\uff1a\u8bbe\u7f6e\u4e3a\u53ea\u8bfbtrue/false;\u4e5f\u53ef\u8bbe\u7f6e\u4e3a\"nocursor\"\u5931\u53bb\u7126\u70b9 Autofocus\uff1a\u521d\u59cb\u65f6\u662f\u5426\u81ea\u52a8\u83b7\u53d6\u7126\u70b9boolean styleActiveLine: \u8bbe\u7f6e\u5149\u6807\u6240\u5728\u884c\u9ad8\u4eaetrue/false</p> <p>8.\u52a8\u6001\u8bbe\u7f6eCodeMirror\u5c5e\u6027\uff1a(\u4ee5\u8bbe\u7f6e\u652f\u6301\u8bed\u8a00mode\u4e3a\u4f8b)</p> <pre><code>this.CodeMirrorEditor.setOption(\"mode\",this.something)   \n</code></pre> <p>\u7f16\u8bd1\u5668\u7684\u4e8b\u4ef6\u89e6\u53d1\u5668 \u89e6\u53d1\u5668\u4f7f\u7528\u65b9\u6cd5\uff1a(change\u4e8b\u4ef6\u4e3a\u4f8b)</p> <pre><code>this.CodeMirrorEditor.on(\"change\",function(){\n//\u4e8b\u4ef6\u89e6\u53d1\u540e\u6267\u884c\u4e8b\u4ef6\nalert(\"change\")\n});\n// \u53d6\u6d88\u89e6\u53d1\u5668\u65b9\u6cd5\uff1a\nthis.CodeMirrorEditor.off(\"change\")\n</code></pre> <p>\u201cchanges\u201d\uff1a\u6bcf\u6b21\u7f16\u8f91\u5668\u5185\u5bb9\u66f4\u6539\u65f6\u89e6\u53d1 \u201cbeforeChange\u201d\uff1a\u4e8b\u4ef6\u5728\u66f4\u6539\u751f\u6548\u524d\u89e6\u53d1 \u201ccursorActivity\u201d\uff1a\u5f53\u5149\u6807\u6216\u9009\u4e2d(\u5185\u5bb9)\u53d1\u751f\u53d8\u5316\uff0c\u6216\u8005\u7f16\u8f91\u5668\u7684\u5185\u5bb9\u53d1\u751f\u4e86\u66f4\u6539\u7684\u65f6\u5019\u89e6\u53d1\u3002 \u201ckeyHandled\u201d:\u5feb\u6377\u952e\u6620\u5c04(key map)\u4e2d\u7684\u5feb\u6377\u952e\u88ab\u5904\u7406(handle)\u540e\u89e6\u53d1 \u201cinputRead\u201d:\u5f53\u7528\u6237\u8f93\u5165\u6216\u7c98\u8d34\u65f6\u7f16\u8f91\u5668\u65f6\u89e6\u53d1\u3002 \u201celectrictInput\u201d:\u6536\u5230\u6307\u5b9a\u7684electrict\u8f93\u5165\u65f6\u89e6\u53d1 \u201cbeforeSelectionChange\u201d:\u6b64\u4e8b\u4ef6\u5728\u9009\u4e2d\u5185\u5bb9\u53d8\u5316\u524d\u89e6\u53d1 \u201cviewportChange\u201d\uff1a\u7f16\u8f91\u5668\u7684\u89c6\u53e3( view port )\u6539\u53d8\uff08\u6eda\u52a8\uff0c\u7f16\u8f91\u6216\u5176\u5b83\u52a8\u4f5c\uff09\u65f6\u89e6\u53d1 \u201cgutterClick\u201d\uff1a\u7f16\u8f91\u5668\u7684gutter(\u884c\u53f7\u533a\u57df)\u70b9\u51fb\u65f6\u89e6\u53d1 \u201cfocus\u201d\uff1a\u7f16\u8f91\u5668\u6536\u5230\u7126\u70b9\u65f6\u89e6\u53d1 \u201cblur\u201d:\u7f16\u8f91\u5668\u5931\u53bb\u7126\u70b9\u65f6\u89e6\u53d1 \u201cscroll\u201d:\u7f16\u8f91\u5668\u6eda\u52a8\u6761\u6eda\u52a8\u65f6\u89e6\u53d1 \u201ckeydown\u201d, \u201ckeypress\u201d, \u201ckeyup\u201d\uff0c\u201cmousedown\u201d, \u201cdblclick\u201d\u786c\u4ef6\u4e8b\u4ef6\u89e6\u53d1\u5668 API this.CodeMirrorEditor.setValue(\u201cHello Kitty\u201d)\uff1a\u8bbe\u7f6e\u7f16\u8f91\u5668\u5185\u5bb9 this.CodeMirrorEditor.getValue()\uff1a\u83b7\u53d6\u7f16\u8f91\u5668\u5185\u5bb9 this.CodeMirrorEditor.getLine(n):\u83b7\u53d6\u7b2cn\u884c\u7684\u5185\u5bb9 this.CodeMirrorEditor.lineCount()\uff1a\u83b7\u53d6\u5f53\u524d\u884c\u6570 this.CodeMirrorEditor.lastLine()\uff1a\u83b7\u53d6\u6700\u540e\u4e00\u884c\u7684\u884c\u53f7 this.CodeMirrorEditor.isClean():boolean\u7c7b\u578b\u5224\u65ad\u7f16\u8bd1\u5668\u662f\u5426\u662fclean\u7684 this.CodeMirrorEditor.getSelection()\uff1a\u83b7\u53d6\u9009\u4e2d\u5185\u5bb9 this.CodeMirrorEditor.getSelections():\u8fd4\u56dearray\u7c7b\u578b\u9009\u4e2d\u5185\u5bb9 this.CodeMirrorEditor.replaceSelection(\u201c\u66ff\u6362\u540e\u7684\u5185\u5bb9\u201d):\u66ff\u6362\u9009\u4e2d\u7684\u5185\u5bb9 this.CodeMirrorEditor.getCursor():\u83b7\u53d6\u5149\u6807\u4f4d\u7f6e,\u8fd4\u56de{line,char} this.CodeMirrorEditor.setOption(\"\",\"\"):\u8bbe\u7f6e\u7f16\u8bd1\u5668\u5c5e\u6027 this.CodeMirrorEditor.getOption(\"\"):\u83b7\u53d6\u7f16\u8bd1\u5668\u5c5e\u6027 this.CodeMirrorEditor.addKeyMap(\"\",\"\"):\u6dfb\u52a0key-map\u952e\u503c\uff0c\u8be5\u952e\u503c\u5177\u6709\u6bd4\u539f\u6765\u952e\u503c\u66f4\u9ad8\u7684\u4f18\u5148\u7ea7 this.CodeMirrorEditor.removeKeyMap\uff08\"\"\uff09:\u79fb\u9664key-map this.CodeMirrorEditor.addOverlay(\"\"):Enable a highlighting overlay\u2026\u6ca1\u8bd5\u51fa\u6548\u679c this.CodeMirrorEditor.removeOverlay\uff08\"\"\uff09:\u79fb\u9664Overlay this.CodeMirrorEditor.setSize(width,height):\u8bbe\u7f6e\u7f16\u8bd1\u5668\u5927\u5c0f this.CodeMirrorEditor.scrollTo(x,y):\u8bbe\u7f6escroll\u5230position\u4f4d\u7f6e this.CodeMirrorEditor.refresh():\u5237\u65b0\u7f16\u8f91\u5668 this.CodeMirrorEditor.execCommand(\u201c\u547d\u4ee4\u201d):\u6267\u884c\u547d\u4ee4</p> <p>\u5b9e\u73b0\u4ee3\u7801\uff1a setting.ts</p> <pre><code>import Vue from 'vue'\nimport { Component, Prop, Watch} from 'vue-property-decorator'\nimport  * as WithRender from './setting.html?style=./setting.less'\nimport * as CodeMirror from 'codemirror/lib/codemirror'\nimport 'codemirror/theme/monokai.css'\nimport 'codemirror/lib/codemirror.css'\nimport 'codemirror/mode/javascript/javascript'\nimport 'codemirror/mode/clike/clike'\nimport 'codemirror/mode/go/go'\nimport 'codemirror/mode/htmlmixed/htmlmixed'\nimport 'codemirror/mode/http/http'\nimport 'codemirror/mode/php/php'\nimport 'codemirror/mode/python/python'\nimport 'codemirror/mode/http/http'\nimport 'codemirror/mode/sql/sql'\nimport 'codemirror/mode/vue/vue'\nimport 'codemirror/mode/xml/xml'\nimport 'codemirror/addon/scroll/simplescrollbars.css'\nimport 'codemirror/addon/scroll/simplescrollbars'\nimport 'codemirror/addon/hint/show-hint'\nimport 'codemirror/addon/hint/javascript-hint'\nimport 'codemirror/addon/hint/sql-hint'\nimport 'codemirror/addon/hint/html-hint'\nimport 'codemirror/addon/hint/xml-hint'\nimport 'codemirror/addon/hint/anyword-hint'\nimport 'codemirror/addon/hint/css-hint'\nimport 'codemirror/addon/hint/show-hint.css'\nimport 'codemirror/addon/fold/markdown-fold'\nimport 'codemirror/mode/meta'\nimport \"codemirror/addon/fold/foldgutter.css\" \nimport \"codemirror/addon/fold/foldcode\"\nimport \"codemirror/addon/fold/brace-fold\"\nimport 'codemirror/addon/selection/active-line'\n@WithRender\n@Component\nexport class Setting extends Vue{\n    nameArray=new Array();\n    modeArray=new Array();\n    mapArray=new Array();\n    CodeMirrorEditor;\n    something=\"\";    \n    mounted(){\n        console.log(CodeMirror)\n        for(var i=0;i&lt;CodeMirror.modeInfo.length;i++){\n            let mode=CodeMirror.modeInfo[i];\n            this.mapArray.push({name:mode.name,mode2:mode.mode})\n        }\n        this.something=\"javascript\"\n        document.getElementById(\"theme\").nodeValue=\"javascript\"\n        this.setmirror()\n    }\n    transToSrc(name:string):string{  \n        return \"assets/codemirror/mode/\"+name+\"/\"+name+\".js\";\n    }\n    @Watch('something')\n    aaa() {\n        var headElement=document.body;\n        var element=document.createElement(\"script\");\n        element.setAttribute(\"src\",this.transToSrc(this.something));\n        headElement.appendChild(element);\n        element.() =&gt; {\n          this.CodeMirrorEditor.setOption(\"mode\",this.something)   \n        }\n    } \n    setmirror(){\n        let myTextarea = document.getElementById('editor');\n        this.CodeMirrorEditor = CodeMirror.fromTextArea(myTextarea, {\n            theme:'monokai', \n            styleActiveLine: true,\n            mode:'javascript',\n            extraKeys: {\"Ctrl\": \"autocomplete\"},//\u8f93\u5165s\u7136\u540ectrl\u5c31\u53ef\u4ee5\u5f39\u51fa\u9009\u62e9\u9879  \n            // lineNumbers: true,\n            tabSize:10,\n            // readOnly:\"nocursor\",\n            smartIndent:true,\n            scrollbarStyle:\"overlay\"\n            // keymap:\"defaule\"\n        });\n        // this.CodeMirrorEditor.setOption('lineWrapping', true);\n        this.CodeMirrorEditor.on(\"keypress\",() =&gt;{\n            //\u7f16\u8bd1\u5668\u5185\u5bb9\u66f4\u6539\u4e8b\u4ef6\n            console.log(this.CodeMirrorEditor)\n            this.CodeMirrorEditor.showHint();\n        });\n        this.CodeMirrorEditor.setValue(\"Hello Kitty\\nHello Tony\\nHow are you\\nFine thank you and you \\nI love you\")\n\n        this.CodeMirrorEditor.setOption(\"lineNumbers\",\"true\")\n        // this.CodeMirrorEditor.addOverlay(\"coconut\");\n        // this.CodeMirrorEditor.markText({line:0,ch:0},{line:0,ch:0})\n        this.CodeMirrorEditor.setBookmark({line:0,ch:0},{line:0,ch:1},{readOnly:true}); \n        this.CodeMirrorEditor.setCursor(0)\n        this.CodeMirrorEditor.setSize(600,600)\n    }\n}\n</code></pre> <p>setting.html <pre><code>&lt;div class=\"setting\"&gt;   \n    &lt;select id=\"theme\"  v-model=\"something\"&gt;\n        &lt;option v-for=\"name in mapArray\" :value='name.mode2'&gt;{{name.name}}&lt;/option&gt;\n    &lt;/select&gt;\n    &lt;textarea id=\"editor\" name=\"editor\"&gt;\n    &lt;/textarea&gt;\n&lt;/div&gt;\n</code></pre></p> <p>setting.less</p> <pre><code>.setting{\n    margin: 0;\n    width: 1398px;\n    height: 600px;\n    background-color: rgb(248, 248, 248);\n    h1{\n        margin: 0;\n    }\n}\n</code></pre>"},{"location":"third-part-lib/d3/%23Introduction/","title":"D3.js is a JavaScript library for manipulating documents based on data. D3 helps you bring data to life using HTML, SVG, and CSS. D3\u2019s emphasis on web standards gives you the full capabilities of modern browsers without tying yourself to a proprietary framework, combining powerful visualization components and a data-driven approach to DOM manipulation.","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9705  \u9605\u8bfb20\u5206\u949f</p> <p>Download the latest version (5.16.0) here:</p> <ul> <li>d3.zip</li> </ul> <p>To link directly to the latest release, copy this snippet:</p> <pre><code>&lt;script src=\"https://d3js.org/d3.v5.min.js\"&gt;&lt;/script&gt;\n</code></pre> <p>The full source and tests are also available for download on GitHub.</p>"},{"location":"third-part-lib/d3/%23Introduction/#introduction","title":"#Introduction","text":"<p>Read more tutorials.</p> <p>D3 allows you to bind arbitrary data to a Document Object Model (DOM), and then apply data-driven transformations to the document. For example, you can use D3 to generate an HTML table from an array of numbers. Or, use the same data to create an interactive SVG bar chart with smooth transitions and interaction.</p> <p>D3 is not a monolithic framework that seeks to provide every conceivable feature. Instead, D3 solves the crux of the problem: efficient manipulation of documents based on data. This avoids proprietary representation and affords extraordinary flexibility, exposing the full capabilities of web standards such as HTML, SVG, and CSS. With minimal overhead, D3 is extremely fast, supporting large datasets and dynamic behaviors for interaction and animation. D3\u2019s functional style allows code reuse through a diverse collection of official and community-developed modules.</p>"},{"location":"third-part-lib/d3/%23Introduction/#selections","title":"#Selections","text":"<p>Read more about selections.</p> <p>Modifying documents using the W3C DOM API is tedious: the method names are verbose, and the imperative approach requires manual iteration and bookkeeping of temporary state. For example, to change the text color of paragraph elements:</p> <pre><code>var paragraphs = document.getElementsByTagName(\"p\");\nfor (var i = 0; i &lt; paragraphs.length; i++) {\n  var paragraph = paragraphs.item(i);\n  paragraph.style.setProperty(\"color\", \"blue\", null);\n}\n</code></pre> <p>D3 employs a declarative approach, operating on arbitrary sets of nodes called selections. For example, you can rewrite the above loop as:</p> <pre><code>d3.selectAll(\"p\").style(\"color\", \"blue\");\n</code></pre> <p>Yet, you can still manipulate individual nodes as needed:</p> <pre><code>d3.select(\"body\").style(\"background-color\", \"black\");\n</code></pre> <p>Selectors are defined by the W3C Selectors API and supported natively by modern browsers. The above examples select nodes by tag name (<code>\"p\"</code> and <code>\"body\"</code>, respectively). Elements may be selected using a variety of predicates, including containment, attribute values, class and ID.</p> <p>D3 provides numerous methods for mutating nodes: setting attributes or styles; registering event listeners; adding, removing or sorting nodes; and changing HTML or text content. These suffice for the vast majority of needs. Direct access to the underlying DOM is also possible, as each D3 selection is simply an array of nodes.</p>"},{"location":"third-part-lib/d3/%23Introduction/#dynamic-properties","title":"#Dynamic Properties","text":"<p>Readers familiar with other DOM frameworks such as jQuery should immediately recognize similarities with D3. Yet styles, attributes, and other properties can be specified as functions of data in D3, not just simple constants. Despite their apparent simplicity, these functions can be surprisingly powerful; the d3.geoPath function, for example, projects geographic coordinates into SVG path data. D3 provides many built-in reusable functions and function factories, such as graphical primitives for area, line and pie charts.</p> <p>For example, to randomly color paragraphs:</p> <pre><code>d3.selectAll(\"p\").style(\"color\", function() {\n  return \"hsl(\" + Math.random() * 360 + \",100%,50%)\";\n});\n</code></pre> <p>To alternate shades of gray for even and odd nodes:</p> <pre><code>d3.selectAll(\"p\").style(\"color\", function(d, i) {\n  return i % 2 ? \"#fff\" : \"#eee\";\n});\n</code></pre> <p>Computed properties often refer to bound data. Data is specified as an array of values, and each value is passed as the first argument (<code>d</code>) to selection functions. With the default join-by-index, the first element in the data array is passed to the first node in the selection, the second element to the second node, and so on. For example, if you bind an array of numbers to paragraph elements, you can use these numbers to compute dynamic font sizes:</p> <pre><code>d3.selectAll(\"p\")\n  .data([4, 8, 15, 16, 23, 42])\n    .style(\"font-size\", function(d) { return d + \"px\"; });\n</code></pre> <p>Once the data has been bound to the document, you can omit the <code>data</code> operator; D3 will retrieve the previously-bound data. This allows you to recompute properties without rebinding.</p>"},{"location":"third-part-lib/d3/%23Introduction/#enter-and-exit","title":"#Enter and Exit","text":"<p>Read more about data joins.</p> <p>Using D3\u2019s enter and exit selections, you can create new nodes for incoming data and remove outgoing nodes that are no longer needed.</p> <p>When data is bound to a selection, each element in the data array is paired with the corresponding node in the selection. If there are fewer nodes than data, the extra data elements form the enter selection, which you can instantiate by appending to the <code>enter</code> selection. For example:</p> <pre><code>d3.select(\"body\")\n  .selectAll(\"p\")\n  .data([4, 8, 15, 16, 23, 42])\n  .enter().append(\"p\")\n    .text(function(d) { return \"I\u2019m number \" + d + \"!\"; });\n</code></pre> <p>Updating nodes are the default selection\u2014the result of the <code>data</code> operator. Thus, if you forget about the enter and exit selections, you will automatically select only the elements for which there exists corresponding data. A common pattern is to break the initial selection into three parts: the updating nodes to modify, the entering nodes to add, and the exiting nodes to remove.</p> <pre><code>// Update\u2026\nvar p = d3.select(\"body\")\n  .selectAll(\"p\")\n  .data([4, 8, 15, 16, 23, 42])\n    .text(function(d) { return d; });\n\n// Enter\u2026\np.enter().append(\"p\")\n    .text(function(d) { return d; });\n\n// Exit\u2026\np.exit().remove();\n</code></pre> <p>By handling these three cases separately, you specify precisely which operations run on which nodes. This improves performance and offers greater control over transitions. For example, with a bar chart you might initialize entering bars using the old scale, and then transition entering bars to the new scale along with the updating and exiting bars.</p> <p>D3 lets you transform documents based on data; this includes both creating and destroying elements. D3 allows you to change an existing document in response to user interaction, animation over time, or even asynchronous notification from a third-party. A hybrid approach is even possible, where the document is initially rendered on the server, and updated on the client via D3.</p>"},{"location":"third-part-lib/d3/%23Introduction/#transformation-not-representation","title":"#Transformation, not Representation","text":"<p>D3 does not introduce a new visual representation. Unlike Processing or Protovis, D3\u2019s vocabulary of graphical marks comes directly from web standards: HTML, SVG, and CSS. For example, you can create SVG elements using D3 and style them with external stylesheets. You can use composite filter effects, dashed strokes and clipping. If browser vendors introduce new features tomorrow, you\u2019ll be able to use them immediately\u2014no toolkit update required. And, if you decide in the future to use a toolkit other than D3, you can take your knowledge of standards with you!</p> <p>Best of all, D3 is easy to debug using the browser\u2019s built-in element inspector: the nodes that you manipulate with D3 are exactly those that the browser understands natively.</p>"},{"location":"third-part-lib/d3/%23Introduction/#transitions","title":"#Transitions","text":"<p>D3\u2019s focus on transformation extends naturally to animated transitions. Transitions gradually interpolate styles and attributes over time. Tweening can be controlled via easing functions such as \u201celastic\u201d, \u201ccubic-in-out\u201d and \u201clinear\u201d. D3\u2019s interpolators support both primitives, such as numbers and numbers embedded within strings (font sizes, path data, etc.), and compound values. You can even extend D3\u2019s interpolator registry to support complex properties and data structures.</p> <p>For example, to fade the background of the page to black:</p> <pre><code>d3.select(\"body\").transition()\n    .style(\"background-color\", \"black\");\n</code></pre> <p>Or, to resize circles in a symbol map with a staggered delay:</p> <pre><code>d3.selectAll(\"circle\").transition()\n    .duration(750)\n    .delay(function(d, i) { return i * 10; })\n    .attr(\"r\", function(d) { return Math.sqrt(d * scale); });\n</code></pre> <p>By modifying only the attributes that actually change, D3 reduces overhead and allows greater graphical complexity at high frame rates. D3 also allows sequencing of complex transitions via events. And, you can still use CSS3 transitions; D3 does not replace the browser\u2019s toolbox, but exposes it in a way that is easier to use.</p> <p>Want to learn more? Read these tutorials.</p> <p>Library released under BSD license. Copyright 2019 Mike Bostock.</p>"},{"location":"third-part-lib/d3/d3-drag/","title":"d3-drag","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 20957  \u9605\u8bfb42\u5206\u949f</p> <p>Drag-and-drop is a popular and easy-to-learn pointing gesture: move the pointer to an object, press and hold to grab it, \u201cdrag\u201d the object to a new location, and release to \u201cdrop\u201d. D3\u2019s drag behavior provides a convenient but flexible abstraction for enabling drag-and-drop interaction on selections. For example, you can use d3-drag to facilitate interaction with a force-directed graph, or a simulation of colliding circles:</p> <p></p> <p>You can also use d3-drag to implement custom user interface elements, such as a slider. But the drag behavior isn\u2019t just for moving elements around; there are a variety of ways to respond to a drag gesture. For example, you can use it to lasso elements in a scatterplot, or to paint lines on a canvas:</p> <p></p> <p>The drag behavior can be combined with other behaviors, such as d3-zoom for zooming.</p> <p></p> <p>The drag behavior is agnostic about the DOM, so you can use it with SVG, HTML or even Canvas! And you can extend it with advanced selection techniques, such as a Voronoi overlay or a closest-target search:</p> <p></p> <p>Best of all, the drag behavior automatically unifies mouse and touch input, and avoids browser idiosyncrasies. When Pointer Events are more widely available, the drag behavior will support those, too.</p>"},{"location":"third-part-lib/d3/d3-drag/#installing","title":"Installing","text":"<p>If you use NPM, <code>npm install d3-drag</code>. Otherwise, download the latest release. You can also load directly from d3js.org, either as a standalone library or as part of D3 4.0. AMD, CommonJS, and vanilla environments are supported. In vanilla, a <code>d3</code> global is exported:</p> <pre><code>&lt;script src=\"https://d3js.org/d3-dispatch.v1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://d3js.org/d3-selection.v1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://d3js.org/d3-drag.v1.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n\nvar drag = d3.drag();\n\n&lt;/script&gt;\n</code></pre> <p>Try d3-drag in your browser.</p>"},{"location":"third-part-lib/d3/d3-drag/#api-reference","title":"API Reference","text":"<p>This table describes how the drag behavior interprets native events:</p> Event Listening Element Drag Event Default Prevented? mousedown\u2075 selection start no\u00b9 mousemove\u00b2 window\u00b9 drag yes mouseup\u00b2 window\u00b9 end yes dragstart\u00b2 window - yes selectstart\u00b2 window - yes click\u00b3 window - yes touchstart selection start no\u2074 touchmove selection drag yes touchend selection end no\u2074 touchcancel selection end no\u2074 <p>The propagation of all consumed events is immediately stopped. If you want to prevent some events from initiating a drag gesture, use drag.filter.</p> <p>\u00b9 Necessary to capture events outside an iframe; see #9. \u00b2 Only applies during an active, mouse-based gesture; see #9. \u00b3 Only applies immediately after some mouse-based gestures; see drag.clickDistance. \u2074 Necessary to allow click emulation on touch input; see #9. \u2075 Ignored if within 500ms of a touch gesture ending; assumes click emulation.</p> <p># d3.drag() &lt;&gt;</p> <p>Creates a new drag behavior. The returned behavior, drag, is both an object and a function, and is typically applied to selected elements via selection.call.</p> <p># drag(selection) &lt;&gt;</p> <p>Applies this drag behavior to the specified selection. This function is typically not invoked directly, and is instead invoked via selection.call. For example, to instantiate a drag behavior and apply it to a selection:</p> <pre><code>d3.selectAll(\".node\").call(d3.drag().on(\"start\", started));\n</code></pre> <p>Internally, the drag behavior uses selection.on to bind the necessary event listeners for dragging. The listeners use the name <code>.drag</code>, so you can subsequently unbind the drag behavior as follows:</p> <pre><code>selection.on(\".drag\", null);\n</code></pre> <p>Applying the drag behavior also sets the -webkit-tap-highlight-color style to transparent, disabling the tap highlight on iOS. If you want a different tap highlight color, remove or re-apply this style after applying the drag behavior.</p> <p># drag.container([container]) &lt;&gt;</p> <p>If container is specified, sets the container accessor to the specified object or function and returns the drag behavior. If container is not specified, returns the current container accessor, which defaults to:</p> <pre><code>function container() {\n  return this.parentNode;\n}\n</code></pre> <p>The container of a drag gesture determines the coordinate system of subsequent drag events, affecting event.x and event.y. The element returned by the container accessor is subsequently passed to d3.mouse or d3.touch, as appropriate, to determine the local coordinates of the pointer.</p> <p>The default container accessor returns the parent node of the element in the originating selection (see drag) that received the initiating input event. This is often appropriate when dragging SVG or HTML elements, since those elements are typically positioned relative to a parent. For dragging graphical elements with a Canvas, however, you may want to redefine the container as the initiating element itself:</p> <pre><code>function container() {\n  return this;\n}\n</code></pre> <p>Alternatively, the container may be specified as the element directly, such as <code>drag.container(canvas)</code>.</p> <p># drag.filter([filter]) &lt;&gt;</p> <p>If filter is specified, sets the filter to the specified function and returns the drag behavior. If filter is not specified, returns the current filter, which defaults to:</p> <pre><code>function filter() {\n  return !d3.event.ctrlKey &amp;&amp; !d3.event.button;\n}\n</code></pre> <p>If the filter returns falsey, the initiating event is ignored and no drag gestures are started. Thus, the filter determines which input events are ignored; the default filter ignores mousedown events on secondary buttons, since those buttons are typically intended for other purposes, such as the context menu.</p> <p># drag.touchable([touchable]) &lt;&gt;</p> <p>If touchable is specified, sets the touch support detector to the specified function and returns the drag behavior. If touchable is not specified, returns the current touch support detector, which defaults to:</p> <pre><code>function touchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n</code></pre> <p>Touch event listeners are only registered if the detector returns truthy for the corresponding element when the drag behavior is applied. The default detector works well for most browsers that are capable of touch input, but not all; Chrome\u2019s mobile device emulator, for example, fails detection.</p> <p># drag.subject([subject]) &lt;&gt;</p> <p>If subject is specified, sets the subject accessor to the specified object or function and returns the drag behavior. If subject is not specified, returns the current subject accessor, which defaults to:</p> <pre><code>function subject(d) {\n  return d == null ? {x: d3.event.x, y: d3.event.y} : d;\n}\n</code></pre> <p>The subject of a drag gesture represents the thing being dragged. It is computed when an initiating input event is received, such as a mousedown or touchstart, immediately before the drag gesture starts. The subject is then exposed as event.subject on subsequent drag events for this gesture.</p> <p>The default subject is the datum of the element in the originating selection (see drag) that received the initiating input event; if this datum is undefined, an object representing the coordinates of the pointer is created. When dragging circle elements in SVG, the default subject is thus the datum of the circle being dragged. With Canvas, the default subject is the canvas element\u2019s datum (regardless of where on the canvas you click). In this case, a custom subject accessor would be more appropriate, such as one that picks the closest circle to the mouse within a given search radius:</p> <pre><code>function subject() {\n  var n = circles.length,\n      i,\n      dx,\n      dy,\n      d2,\n      s2 = radius * radius,\n      circle,\n      subject;\n\n  for (i = 0; i &lt; n; ++i) {\n    circle = circles[i];\n    dx = d3.event.x - circle.x;\n    dy = d3.event.y - circle.y;\n    d2 = dx * dx + dy * dy;\n    if (d2 &lt; s2) subject = circle, s2 = d2;\n  }\n\n  return subject;\n}\n</code></pre> <p>(If necessary, the above can be accelerated using quadtree.find.)</p> <p>The returned subject should be an object that exposes <code>x</code> and <code>y</code> properties, so that the relative position of the subject and the pointer can be preserved during the drag gesture. If the subject is null or undefined, no drag gesture is started for this pointer; however, other starting touches may yet start drag gestures. See also drag.filter.</p> <p>The subject of a drag gesture may not be changed after the gesture starts. The subject accessor is invoked with the same context and arguments as selection.on listeners: the current datum <code>d</code> and index <code>i</code>, with the <code>this</code> context as the current DOM element. During the evaluation of the subject accessor, d3.event is a beforestart drag event. Use event.sourceEvent to access the initiating input event and event.identifier to access the touch identifier. The event.x and event.y are relative to the container, and are computed using d3.mouse or d3.touch as appropriate.</p> <p># drag.clickDistance([distance]) &lt;&gt;</p> <p>If distance is specified, sets the maximum distance that the mouse can move between mousedown and mouseup that will trigger a subsequent click event. If at any point between mousedown and mouseup the mouse is greater than or equal to distance from its position on mousedown, the click event following mouseup will be suppressed. If distance is not specified, returns the current distance threshold, which defaults to zero. The distance threshold is measured in client coordinates (event.clientX and event.clientY).</p> <p># drag.on(typenames, [listener]) &lt;&gt;</p> <p>If listener is specified, sets the event listener for the specified typenames and returns the drag behavior. If an event listener was already registered for the same type and name, the existing listener is removed before the new listener is added. If listener is null, removes the current event listeners for the specified typenames, if any. If listener is not specified, returns the first currently-assigned listener matching the specified typenames, if any. When a specified event is dispatched, each listener will be invoked with the same context and arguments as selection.on listeners: the current datum <code>d</code> and index <code>i</code>, with the <code>this</code> context as the current DOM element.</p> <p>The typenames is a string containing one or more typename separated by whitespace. Each typename is a type, optionally followed by a period (<code>.</code>) and a name, such as <code>drag.foo</code> and <code>drag.bar</code>; the name allows multiple listeners to be registered for the same type. The type must be one of the following:</p> <ul> <li><code>start</code> - after a new pointer becomes active (on mousedown or touchstart).</li> <li><code>drag</code> - after an active pointer moves (on mousemove or touchmove).</li> <li><code>end</code> - after an active pointer becomes inactive (on mouseup, touchend or touchcancel).</li> </ul> <p>See dispatch.on for more.</p> <p>Changes to registered listeners via drag.on during a drag gesture do not affect the current drag gesture. Instead, you must use event.on, which also allows you to register temporary event listeners for the current drag gesture. Separate events are dispatched for each active pointer during a drag gesture. For example, if simultaneously dragging multiple subjects with multiple fingers, a start event is dispatched for each finger, even if both fingers start touching simultaneously. See Drag Events for more.</p> <p># d3.dragDisable(window) &lt;&gt;</p> <p>Prevents native drag-and-drop and text selection on the specified window. As an alternative to preventing the default action of mousedown events (see #9), this method prevents undesirable default actions following mousedown. In supported browsers, this means capturing dragstart and selectstart events, preventing the associated default actions, and immediately stopping their propagation. In browsers that do not support selection events, the user-select CSS property is set to none on the document element. This method is intended to be called on mousedown, followed by d3.dragEnable on mouseup.</p> <p># d3.dragEnable(window[, noclick]) &lt;&gt;</p> <p>Allows native drag-and-drop and text selection on the specified window; undoes the effect of d3.dragDisable. This method is intended to be called on mouseup, preceded by d3.dragDisable on mousedown. If noclick is true, this method also temporarily suppresses click events. The suppression of click events expires after a zero-millisecond timeout, such that it only suppress the click event that would immediately follow the current mouseup event, if any.</p>"},{"location":"third-part-lib/d3/d3-drag/#drag-events","title":"Drag Events","text":"<p>When a drag event listener is invoked, d3.event is set to the current drag event. The event object exposes several fields:</p> <ul> <li><code>target</code> - the associated drag behavior.</li> <li><code>type</code> - the string \u201cstart\u201d, \u201cdrag\u201d or \u201cend\u201d; see drag.on.</li> <li><code>subject</code> - the drag subject, defined by drag.subject.</li> <li><code>x</code> - the new x-coordinate of the subject; see drag.container.</li> <li><code>y</code> - the new y-coordinate of the subject; see drag.container.</li> <li><code>dx</code> - the change in x-coordinate since the previous drag event.</li> <li><code>dy</code> - the change in y-coordinate since the previous drag event.</li> <li><code>identifier</code> - the string \u201cmouse\u201d, or a numeric touch identifier.</li> <li><code>active</code> - the number of currently active drag gestures (on start and end, not including this one).</li> <li><code>sourceEvent</code> - the underlying input event, such as mousemove or touchmove.</li> </ul> <p>The event.active field is useful for detecting the first start event and the last end event in a sequence of concurrent drag gestures: it is zero when the first drag gesture starts, and zero when the last drag gesture ends.</p> <p>The event object also exposes the event.on method.</p> <p># event.on(typenames, [listener]) &lt;&gt;</p> <p>Equivalent to drag.on, but only applies to the current drag gesture. Before the drag gesture starts, a copy of the current drag event listeners is made. This copy is bound to the current drag gesture and modified by event.on. This is useful for temporary listeners that only receive events for the current drag gesture. For example, this start event listener registers temporary drag and end event listeners as closures:</p> <pre><code>function started() {\n  var circle = d3.select(this).classed(\"dragging\", true);\n\n  d3.event.on(\"drag\", dragged).on(\"end\", ended);\n\n  function dragged(d) {\n    circle.raise().attr(\"cx\", d.x = d3.event.x).attr(\"cy\", d.y = d3.event.y);\n  }\n\n  function ended() {\n    circle.classed(\"dragging\", false);\n  }\n}\n</code></pre>"},{"location":"third-part-lib/d3/%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8F%AF%E6%8B%96%E5%8A%A8%E7%9A%84%E5%9C%86%E5%B1%95%E7%A4%BAd3.drag%E7%9A%84%E4%BD%BF%E7%94%A8/","title":"\u521b\u5efa\u4e00\u4e2a\u53ef\u62d6\u52a8\u7684\u5706\u5c55\u793a d3.drag \u7684\u4f7f\u7528","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3422  \u9605\u8bfb7\u5206\u949f</p> <p>\u9996\u5148\u521b\u5efasvg\u5bb9\u5668\u548c\u4e00\u4e2acircle\u5143\u7d20\uff1a</p> <p><pre><code>const width = window.innerWidth\nconst height = window.innerHeight\n\nconst svg = d3.select('body')\n    .append('svg')\n    .attr('width', width)\n    .attr('height', height)\n    .append('g')\n    .attr('transform', `translate(${ width / 2 }, ${ height / 2 })`)\n\nconst circle = svg.append('circle')\n    .attr('r', 40)\n    .attr('fill', 'red')\n</code></pre> \u76d1\u542c\u62d6\u52a8\u4e8b\u4ef6\u9700\u8981\u5148\u4f7f\u7528d3.drag\u6a21\u5757\u521b\u5efa\u4e00\u4e2a\u62d6\u52a8\u4e8b\u4ef6\uff0c\u7136\u540e\u7ed1\u5b9a\u5230\u7279\u5b9a\u7684\u5143\u7d20\u4e0a\u3002</p> <pre><code>const drag = d3.drag()\n// \u8c03\u7528 call\u662f\u624b\u52a8\u8c03\u7528\u51fd\u6570\u5e76\u5c06\u9009\u62e9\u96c6\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\nselection.call(drag)\n// \u6216\u8005\ndrag( selection )\n</code></pre> <p>\u4e00\u6b21\u62d6\u52a8\u4e8b\u4ef6\u4f60\u53ef\u4ee5\u5b9a\u4e49\u4e09\u4e2a\u9636\u6bb5\u7684\u76d1\u542c\u51fd\u6570\uff1a</p> <pre><code>d3.drag()\n    .on('start', dragStart) // \u62d6\u52a8\u5f00\u59cb\uff0c\u89e6\u53d1\u4e00\u6b21\n    .on('drag', draged) // \u62d6\u52a8\u4e2d\uff0c\u89e6\u53d1\u591a\u6b21\n    .on('end', dragEnd) // \u62d6\u52a8\u7ed3\u675f\uff0c\u89e6\u53d1\u4e00\u6b21\n</code></pre> <p>\u6211\u4eec\u901a\u8fc7draged\u51fd\u6570\u8bbe\u7f6ecircle\u5143\u7d20\u7684cx,cy\u5c5e\u6027\u5b9e\u73b0\u62d6\u52a8\uff1a</p> <pre><code>const drag = d3.drag()\n    .on('start', () =&gt; {})\n    .on('end', () =&gt; {})\n    .on('drag', draged)\n\ncircle.call(drag) // \u7ed1\u5b9a\n\nfunction draged() {\n    const {\n        x,\n        y\n    } = d3.event\n    d3.select(this)\n        .attr('cx', x)\n        .attr('cy', y)\n}\n</code></pre> <p>\u9f20\u6807\u4f4d\u7f6e\u901a\u8fc7d3.event\u5bf9\u8c61\u8bbf\u95ee\u5230\uff0c\u5b8c\u6574\u7684d3.event\u5c5e\u6027\uff1a</p> <pre><code>{\n    \"type\": \"drag\", // \u5206\u522b\u662f\u4e09\u4e2a\u9636\u6bb5\u5bf9\u5e94\u7684 start drag end\n    \"subject\": { \"x\":12.5, \"y\":-11.5 },\n    \"identifier\": \"mouse\",\n    \"active\": 1, // start,end\u4e3a0  drag\u9636\u6bb5\u4e3a1\n    \"x\": -30.5, // \u9f20\u6807\u4f4d\u7f6e\n    \"y\": -42.5,\n    \"dx\": -6, // \u76f8\u5bf9\u4e8e\u4e0a\u6b21drag\u7684x,y\u5750\u6807\u53d8\u5316\n    \"dy\": -6,\n    \"sourceEvent\": MouseEvent(...) // \u6d4f\u89c8\u5668\u539f\u751f\u4e8b\u4ef6\n}\n</code></pre> <p>\u9f20\u6807\u4f4d\u7f6ex,y\u7684\u76f8\u5bf9\u5143\u7d20\u53ef\u4ee5\u901a\u8fc7drag.container\u4fee\u6539\uff0c\u9ed8\u8ba4\u662f\u4e8b\u4ef6\u6e90\u7684\u7236\u5143\u7d20\uff1a</p> <pre><code>drag.container(function container() {\n  return this.parentNode\n})\n</code></pre> <p>\u800cd3.event.subject\u5219\u8868\u793a\u62d6\u62fd\u7684\u4e3b\u4f53\uff0c\u9ed8\u8ba4\u662f\u4e8b\u4ef6\u6e90\u4e0a\u7ed1\u5b9a\u7684\u6570\u636e\uff0c\u5426\u5219\u4e3astart\u9636\u6bb5\u7684x,y\u5750\u6807\uff0c\u5b83\u7684\u4f5c\u7528\u662f\u5229\u7528\u5b83\u5728\u62d6\u52a8\u671f\u95f4\u8bbf\u95ee\u4e3b\u4f53\u548c\u6307\u9488\u7684\u76f8\u5bf9\u4f4d\u7f6e\uff0c\u6240\u4ee5\u5b83\u5e94\u8be5\u662f\u4e0d\u53ef\u53d8\u7684\u3002</p> <p>\u5b8c\u6574\u4ee3\u7801\uff1a</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;\n    &lt;title&gt;Document&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;script src=\"https://d3js.org/d3.v5.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n        const width = window.innerWidth\n        const height = window.innerHeight\n        const svg = d3.select('body')\n            .append('svg')\n            .attr('width', width)\n            .attr('height', height)\n            .append('g')\n            .attr('transform', `translate(${ width / 2 }, ${ height / 2 })`)\n\n        svg.attr('stroke', 'red')\n\n        const circle = svg.append('circle')\n            .attr('r', 40)\n            .attr('fill', 'red')\n            .call(\n                d3.drag()\n                    .on('start', () =&gt; {})\n                    .on('end', () =&gt; {})\n                    .on('drag', draged)\n            )\n\n        function draged() {\n            const {\n                x,\n                y\n            } = d3.event\n            d3.select(this)\n                .attr('cx', x)\n                .attr('cy', y)\n        }\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"third-part-lib/d3/%E8%AF%B4%E6%98%8E/","title":"1. \u8def\u5f84\u548c\u6587\u672c\u662f\u4e24\u4e2a\u5bf9\u8c61\uff0c\u73b0\u5728\u5f88\u96be\u652f\u6301\u6574\u4f53\u62d6\u52a8","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 258  \u9605\u8bfb1\u5206\u949f</p> <ol> <li>\u73b0\u5728\u4f7f\u7528\u539f\u751fJS\u548cCSS\u5b9e\u73b0\u62d6\u52a8\u6548\u679c\uff0c\u5e76\u4e0d\u662fd3\u7684\u62d6\u52a8\u6548\u679c\uff0c\u6027\u80fd\u53ef\u80fd\u4e0d\u5982\u539f\u751f\u7684\u6548\u679c</li> <li>\u62d6\u52a8\u7ed3\u675f\u540e\uff0c\u600e\u4e48\u5904\u7406\u5bf9\u8c61\uff1f\u5230\u5e95\u5b9e\u73b0\u4ec0\u4e48\u6837\u7684\u754c\u9762\u6548\u679c</li> </ol>"},{"location":"third-part-lib/debugjs/debugjs/","title":"debug.js","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1077  \u9605\u8bfb3\u5206\u949f</p> <p>debug.js is an embeddable JavaScript debugger for web development. It allows you to debug easily without the F12 Tools. The library has useful features such as logging, DOM element inspector, screen measure, file viewer, command-line, original script interpreter for automated testing, etc.</p> <p>debug.js \u662f\u7528\u4e8eWeb\u5f00\u53d1\u7684\u5d4c\u5165\u5f0f JavaScript \u8c03\u8bd5\u5668\u3002\u5b83\u4f7f\u60a8\u65e0\u9700F12\u5de5\u5177\u5373\u53ef\u8f7b\u677e\u8c03\u8bd5\u3002\u8be5\u5e93\u5177\u6709\u6709\u7528\u7684\u529f\u80fd\uff0c\u4f8b\u5982\u65e5\u5fd7\u8bb0\u5f55\uff0cDOM\u5143\u7d20\u68c0\u67e5\u5668\uff0c\u5c4f\u5e55\u5c3a\u5bf8\uff0c\u6587\u4ef6\u67e5\u770b\u5668\uff0c\u547d\u4ee4\u884c\uff0c\u7528\u4e8e\u81ea\u52a8\u6d4b\u8bd5\u7684\u539f\u59cb\u811a\u672c\u89e3\u91ca\u5668\u7b49\u3002</p>"},{"location":"third-part-lib/debugjs/debugjs/#quick-start","title":"Quick Start","text":""},{"location":"third-part-lib/debugjs/debugjs/#cdn","title":"CDN","text":"<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;script src=\"debug.js\"&gt;&lt;/script&gt;\n  &lt;script&gt;\n    function foo() {\n      log('button was clicked');\n    }\n  &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;button onclick=\"foo();\"&gt;BUTTON&lt;/button&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"third-part-lib/debugjs/debugjs/#node","title":"Node","text":"<pre><code>npm install debug --save-dev\n</code></pre> <pre><code>import Debug from 'debug';\nconst debug = Debug('Michale:helloWorld');\n\ndebug('helloWorld');\n</code></pre>"},{"location":"third-part-lib/debugjs/debugjs/#documents-demos","title":"Documents &amp; Demos","text":"<p>For more information on how to use, see: https://debugjs.net/</p>"},{"location":"third-part-lib/echarts/echarts/","title":"Echarts","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1369  \u9605\u8bfb3\u5206\u949f</p> <p>\u66f4\u65b0\u65f6\u95f4\uff1a2024-11\uff0c\u5f53\u524d\u6848\u4f8b\u7248\u672c\u662f 5.5.1</p> <p>Apache ECharts \u59cb\u7ec8\u81f4\u529b\u4e8e\u8ba9\u5f00\u53d1\u8005\u4ee5\u66f4\u65b9\u4fbf\u7684\u65b9\u5f0f\u521b\u9020\u7075\u6d3b\u4e30\u5bcc\u7684\u53ef\u89c6\u5316\u4f5c\u54c1\u3002</p> <p>Apache ECharts is a powerful, interactive charting and data visualization library for browser</p> <p>\u5b98\u65b9\u94fe\u63a5\uff1ahttps://echarts.apache.org/handbook/zh/get-started/</p> <p>github: https://github.com/apache/echarts \u661f\u6807 60K</p>"},{"location":"third-part-lib/echarts/echarts/#_1","title":"\u5e38\u7528\u6982\u5ff5","text":"<p>\u65b0\u7279\u70b9\uff1a\u652f\u6301\u52a8\u6001\u6392\u5e8f\u67f1\u72b6\u56fe\uff08bar-racing\uff09\u4ee5\u53ca\u52a8\u6001\u6392\u5e8f\u6298\u7ebf\u56fe\uff08line-racing\uff09</p> <p>\u65b0\u7279\u5f81\u8be6\u89c1 https://echarts.apache.org/handbook/zh/basics/release-note/v5-feature</p> <p>echarts \u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff1ahttps://echarts.apache.org/zh/api.html#echarts.init</p> <p>\u5e38\u7528\u6982\u5ff5\uff1ahttps://echarts.apache.org/handbook/zh/concepts/chart-size/</p> <p>\u5c5e\u6027\u914d\u7f6e\u8bf4\u660e\uff1ahttps://echarts.apache.org/zh/option.html#title</p> <p>\u5728\u7ebf\u5b9a\u5236\uff08\u6309\u9700\u52a0\u8f7d\u53ef\u4ee5\u51cf\u5c0f\u538b\u7f29\u5305\u7684\u5927\u5c0f\uff09\u8be6\u89c1\uff1ahttps://echarts.apache.org/zh/builder.html</p>"},{"location":"third-part-lib/echarts/echarts/#_2","title":"\u7b80\u5355\u6848\u4f8b","text":"<p>01 \u57fa\u672c\u4f7f\u7528</p>"},{"location":"third-part-lib/echarts/echarts/#_3","title":"\u67f1\u72b6\u56fe","text":"<p>02 \u57fa\u7840\u67f1\u72b6\u56fe\uff0c\u5355\u7c7b\u76ee</p> <p>03 \u57fa\u7840\u67f1\u72b6\u56fe\uff0c\u591a\u7c7b\u76ee\uff0c\u81ea\u5b9a\u4e49\u67f1\u5b50\u6837\u5f0f</p> <p>04 \u5806\u53e0\u67f1\u72b6\u56fe</p> <p>05 \u52a8\u6001\u6392\u5e8f\u67f1\u72b6\u56fe\uff08\u9ed8\u8ba4\u6a2a\u5411\uff09</p> <p>06 \u9636\u68af\u7011\u5e03\u56fe\uff08K\u7ebf\u56fe\uff09</p>"},{"location":"third-part-lib/echarts/echarts/#_4","title":"\u6298\u7ebf\u56fe","text":"<p>07 \u57fa\u7840\u6298\u7ebf\u56fe</p> <p>08 \u5806\u53e0\u6298\u7ebf\u56fe</p> <p>09 \u533a\u57df\u9762\u79ef\u56fe</p> <p>10 \u5e73\u6ed1\u66f2\u7ebf\u56fe</p> <p>11 \u9636\u68af\u7ebf\u56fe</p>"},{"location":"third-part-lib/echarts/echarts/#_5","title":"\u997c\u56fe","text":"<p>12 \u57fa\u7840\u997c\u56fe</p> <p>13 \u57fa\u7840\u5706\u73af\u56fe</p> <p>14 \u590d\u6742\u5706\u73af\u56fe</p> <p>15 \u5357\u4e01\u683c\u5c14\u56fe\uff08\u73ab\u7470\u56fe\uff09</p>"},{"location":"third-part-lib/echarts/echarts/#_6","title":"\u6563\u70b9\u56fe","text":"<p>16 \u57fa\u7840\u6563\u70b9\u56fe</p>"},{"location":"third-part-lib/echarts/echarts/#_7","title":"\u7efc\u5408\u5e94\u7528","text":"<p>17 K\u7ebf\u56fe\uff08\u6570\u636e stock-DJI.json\uff09</p> <p>\u5176\u4ed6\u590d\u6742\u76843D\u56fe\uff0c\u53c2\u8003 https://echarts.apache.org/examples/zh/index.html#chart-type-globe</p>"},{"location":"third-part-lib/g2/antv-g2/","title":"001 @antv/g2","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 14497  \u9605\u8bfb29\u5206\u949f</p>"},{"location":"third-part-lib/g2/antv-g2/#_1","title":"\u7528\u9014","text":"<p>\u9ad8\u6027\u80fd\u7684\u6570\u636e\u9a71\u52a8\u7684\u53ef\u89c6\u5316\u7684\u7edf\u8ba1\u56fe</p> <p>\ud83d\udcaf \u5b8c\u5584\u7684\u56fe\u5f62\u8bed\u6cd5\uff1a\u6570\u636e\u5230\u56fe\u5f62\u7684\u6620\u5c04\uff0c\u80fd\u591f\u7ed8\u5236\u51fa\u6240\u6709\u7684\u56fe\u8868\u3002</p> <p>\ud83e\udd29 \u5168\u65b0\u7684\u4ea4\u4e92\u8bed\u6cd5\uff1a\u901a\u8fc7\u89e6\u53d1\u548c\u53cd\u9988\u673a\u5236\u53ef\u4ee5\u7ec4\u5408\u51fa\u5404\u79cd\u4ea4\u4e92\u884c\u4e3a\uff0c\u5bf9\u6570\u636e\u8fdb\u884c\u63a2\u7d22\u3002</p> <p>\ud83e\udd8d \u5f3a\u5927\u7684 View \u6a21\u5757\uff1a\u53ef\u652f\u6301\u5f00\u53d1\u4e2a\u6027\u5316\u7684\u6570\u636e\u591a\u7ef4\u5206\u6790\u56fe\u5f62\u3002</p> <p>\ud83d\udc6c \u53cc\u5f15\u64ce\u6e32\u67d3\uff1aCanvas \u6216 SVG \u4efb\u610f\u5207\u6362\u3002</p> <p>\ud83d\udc84 \u53ef\u89c6\u5316\u7ec4\u4ef6\u4f53\u7cfb\uff1a\u9762\u5411\u4ea4\u4e92\u3001\u4f53\u9a8c\u4f18\u96c5\u3002</p> <p>\ud83d\udee1 \u5168\u9762\u62e5\u62b1 TypeScript\uff1a\u63d0\u4f9b\u5b8c\u6574\u7684\u7c7b\u578b\u5b9a\u4e49\u6587\u4ef6\u3002</p>"},{"location":"third-part-lib/g2/antv-g2/#_2","title":"\u7248\u672c\u8bf4\u660e","text":"<p>2024\u5e7411\u6708\u5df2\u7ecf\u51fa\u4e86 5.2.7\uff0c\u7ecf\u6d4b\u8bd5\u6700\u65b0\u7248\u8fd8\u6709\u4e00\u4e9b\u95ee\u9898\uff0c\u5468\u4e0b\u8f7d\u91cf1\u4e07\u3002</p> <p>\u4e3b\u8981\u7528\u6237\u8fd8\u662f\u5728\u4f7f\u75282023\u5e74\u7684 4.2.11 \u7248\u672c\uff0c\u5468\u4e0b\u8f7d\u91cf5\u4e07\u3002</p> <p>\u8fd9\u4e24\u4e2a\u5927\u7248\u672c\u4e2d\u8bed\u6cd5\u660e\u663e\u4e0d\u540c\uff08v5 \u589e\u52a0\u4e86\u94fe\u5f0f\u8c03\u7528\uff0c\u53ef\u80fd\u662f\u65b0\u6362\u4e86\u4e00\u4e2a\u8d1f\u8d23\u4eba\u91cd\u6784\u4e86\u4ee3\u7801\uff1f\u6240\u4ee5\u548c\u4e0a\u4e00\u4e2a\u7248\u672c\u4e0d\u517c\u5bb9\uff09\uff0c\u53ef\u80fd\u5e95\u5c42\u903b\u8f91\u4e5f\u6709\u5f88\u5927\u4e0d\u540c\u3002\u5b9e\u9645\u9879\u76ee\u8fd8\u662f\u5148\u7528 4.x \u7a33\u5b9a\u7248\u3002</p>"},{"location":"third-part-lib/g2/antv-g2/#_3","title":"\u53ef\u9760\u6027","text":"<p>10000\u661f\u661f\uff0c\u5468\u4e0b\u8f7d8\u4e07</p>"},{"location":"third-part-lib/g2/antv-g2/#_4","title":"\u5b98\u7f51\u94fe\u63a5","text":"<p>https://github.com/antvis/g2/blob/HEAD/README.zh-CN.md</p> <p>https://www.npmjs.com/package/@antv/g2</p> <p>https://g2.antv.vision/zh/</p>"},{"location":"third-part-lib/g2/antv-g2/#v4","title":"v4 \u57fa\u672c\u4f7f\u7528(\u6ce8\u610f\u7248\u672c)","text":""},{"location":"third-part-lib/g2/antv-g2/#_5","title":"\u5feb\u901f\u5165\u95e8","text":"<p>https://g2.antv.antgroup.com/manual/core/chart</p> <p>https://www.yuque.com/antv/g2-docs/get-started</p> <p>https://g2.antv.vision/zh/docs/manual/about-g2</p> <p>https://g2.antv.vision/zh/docs/manual/getting-started</p> <p>\u6570\u636e\u6e90\uff1a\u6570\u636e\u662f\u4e8c\u7ef4\u6570\u7ec4\uff0c\u6570\u7ec4\u7684\u6bcf\u4e00\u9879\u662f JSON \u5bf9\u8c61\u3002</p> <p>\u6d41\u7a0b\uff1a</p> <p>1\u3001\u65b0\u5efa chart \u5bf9\u8c61\uff08\u8bbe\u7f6e\u5bb9\u5668\u7684 ID\uff0c\u5bbd\u5ea6\u9ad8\u5ea6\uff09</p> <p>2\u3001\u5c06\u6570\u636e\u5bfc\u5165\u5230 chart \u4e2d</p> <p>3\u3001\u8bbe\u7f6e\u56fe\u6807\u7684\u5c5e\u6027\uff08\u5750\u6807\u8f74\u548c\u6570\u636e\uff09</p> <p>4\u3001\u6e32\u67d3\u56fe\u8868</p> <pre><code>import { Chart } from '@antv/g2';\n\nconst data = [\n  { genre: 'Sports', sold: 275 },\n  { genre: 'Strategy', sold: 115 },\n  { genre: 'Action', sold: 120 },\n  { genre: 'Shooter', sold: 350 },\n  { genre: 'Other', sold: 150 },\n];\n\n// Step 1: \u521b\u5efa Chart \u5bf9\u8c61\nconst chart = new Chart({\n  container: 'c1', // \u6307\u5b9a\u56fe\u8868\u5bb9\u5668 ID\n  // &lt;div id=\"c1\"&gt;&lt;/div&gt;\n  width: 600, // \u6307\u5b9a\u56fe\u8868\u5bbd\u5ea6\n  height: 300, // \u6307\u5b9a\u56fe\u8868\u9ad8\u5ea6\n});\n\n// Step 2: \u8f7d\u5165\u6570\u636e\u6e90\nchart.data(data);\n\n// Step 3: \u521b\u5efa\u56fe\u5f62\u8bed\u6cd5\uff0c\u7ed8\u5236\u67f1\u72b6\u56fe\nchart.interval().position('genre*sold');\n\n// Step 4: \u6e32\u67d3\u56fe\u8868\nchart.render();\n</code></pre>"},{"location":"third-part-lib/g2/antv-g2/#axis","title":"Axis \u5750\u6807\u8f74\u914d\u7f6e","text":"<p>G2 \u7684\u56fe\u8868\u5750\u6807\u8f74\u914d\u7f6e\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>chart.axis(field, {\n  title: null // \u4e0d\u5c55\u793a\u6807\u9898\n  // ...\n});\n</code></pre> <p>\u53c2\u6570 field \u4e3a\u5bf9\u5e94\u7684\u6570\u636e\u7ef4\u5ea6\u3002</p>"},{"location":"third-part-lib/g2/antv-g2/#_6","title":"\u5750\u6807\u8f74\u7684\u7ec4\u6210","text":"<p>\u4f7f\u7528 G2 \u5bf9\u5750\u6807\u8f74\u8fdb\u884c\u914d\u7f6e\u4e4b\u524d\uff0c\u9700\u8981\u4e86\u89e3 G2 \u7684\u5750\u6807\u8f74\u7684\u7ec4\u6210\u3002</p> <p>G2 \u751f\u6210\u7684\u5750\u6807\u8f74\u7531\u5982\u4e0b\u4e94\u90e8\u5206\u7ec4\u6210\uff1a</p> <ol> <li> <p>\u6807\u9898 title</p> </li> <li> <p>\u5750\u6807\u8f74\u7ebf line</p> </li> <li> <p>\u6587\u672c label</p> </li> <li> <p>\u523b\u5ea6\u7ebf tickLine</p> </li> <li> <p>\u7f51\u683c grid</p> </li> </ol> <p></p> <p>\u901a\u5e38\u7684\u56fe\u8868\u90fd\u6709 x \u8f74\u548c y \u8f74\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cx \u8f74\u663e\u793a\u5728\u56fe\u8868\u7684\u5e95\u90e8\uff0cy \u8f74\u663e\u793a\u5728\u5de6\u4fa7\uff08\u591a\u4e2a y \u8f74\u65f6\u53ef\u4ee5\u662f\u663e\u793a\u5728\u5de6\u53f3\u4e24\u4fa7\uff09\u3002\u901a\u8fc7\u4e3a\u5750\u6807\u8f74\u914d\u7f6e <code>position</code> \u5c5e\u6027\u53ef\u4ee5\u6539\u53d8\u5750\u6807\u8f74\u7684\u663e\u793a\u4f4d\u7f6e\uff0c\u5177\u4f53\u53ef\u8be6\u89c1 api\u3002</p>"},{"location":"third-part-lib/g2/antv-g2/#title","title":"\u5750\u6807\u8f74\u6807\u9898 title","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4f1a\u4e3a\u6bcf\u6761\u5750\u6807\u8f74\u751f\u6210\u6807\u9898\uff0c\u6807\u9898\u540d\u9ed8\u8ba4\u4e3a\u8be5\u8f74\u5bf9\u5e94\u6570\u636e\u5b57\u6bb5\u7684\u5c5e\u6027\u540d\u3002\u901a\u8fc7\u5982\u4e0b\u4ee3\u7801\uff0c\u7528\u6237\u53ef\u4ee5\u914d\u7f6e\u6807\u9898\u7684\u663e\u793a\u6837\u5f0f\u6216\u8005\u5173\u95ed\u6807\u9898\u663e\u793a\u3002\u5728G2 3.0 \u4e2d\u7531\u4e8e\u5927\u591a\u6570\u573a\u666f\u4e0b\u7528\u6237\u4e0d\u663e\u793a title \u6240\u4ee5\u6211\u4eec\u9ed8\u8ba4\u5173\u95ed\u4e86 title \u7684\u663e\u793a\u3002</p> <pre><code>chart.axis('xField', {\n  title: null // \u4e0d\u5c55\u793a xField \u5bf9\u5e94\u5750\u6807\u8f74\u7684\u6807\u9898\n});\n\nchart.axis('xField', {\n  title: {} // \u5c55\u793a xField \u5bf9\u5e94\u5750\u6807\u8f74\u7684\u6807\u9898\n});\n\nchart.axis('xField', {\n  title: {\n    textStyle: {\n      fontSize: 12, // \u6587\u672c\u5927\u5c0f\n      textAlign: 'center', // \u6587\u672c\u5bf9\u9f50\u65b9\u5f0f\n      fill: '#999', // \u6587\u672c\u989c\u8272\n      // ...\n    }\n  }\n});\n</code></pre> <p>\u5f53\u9700\u8981\u4e3a**\u5750\u6807\u8f74\u8bbe\u7f6e\u522b\u540d**\u65f6\uff0c\u9700\u8981\u5728\u5217\u5b9a\u4e49\u4e2d\u4e3a\u5bf9\u5e94\u6570\u636e\u5b57\u6bb5\u8bbe\u7f6e <code>alias</code> \u5c5e\u6027\uff0c\u5982\u4e0b\u6240\u793a\uff0c\u66f4\u591a\u5173\u4e8e\u5217\u5b9a\u4e49\u7684\u5185\u5bb9\u8bf7\u67e5\u770b\u5217\u5b9a\u4e49\u3002</p> <pre><code>chart.scale('xField', {\n  alias: '\u8fd9\u91cc\u8bbe\u7f6e\u6807\u9898\u7684\u522b\u540d'\n});\n</code></pre> <p>\u66f4\u591a\u5173\u4e8e\u5750\u6807\u8f74 title \u5c5e\u6027\u7684\u914d\u7f6e\u8bf7\u67e5\u770bAPI\u6587\u6863\u76f8\u5173\u5185\u5bb9 axis \u7684 title \u5c5e\u6027\u914d\u7f6e\u3002</p>"},{"location":"third-part-lib/g2/antv-g2/#line","title":"\u5750\u6807\u8f74\u7ebf line","text":"<p>\u5728 <code>line</code> \u5c5e\u6027\u4e0a\u8fdb\u884c\u5750\u6807\u8f74\u7ebf\u7684\u914d\u7f6e\u3002</p> <pre><code>chart.axis('xField', {\n  line: {\n    lineWidth: 2, // \u8bbe\u7f6e\u7ebf\u7684\u5bbd\u5ea6\n    stroke: 'red', // \u8bbe\u7f6e\u7ebf\u7684\u989c\u8272\n    lineDash: [ 3, 3 ] // \u8bbe\u7f6e\u865a\u7ebf\u6837\u5f0f\n  }\n});\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u6548\u679c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p>"},{"location":"third-part-lib/g2/antv-g2/#label","title":"\u5750\u6807\u8f74\u6587\u672c label","text":"<ul> <li>\u4e0d\u5c55\u793a\u6587\u672c</li> </ul> <pre><code>chart.axis('xField', {\n  label: null\n});\n</code></pre> <ul> <li>\u914d\u7f6e\u6587\u672c\u663e\u793a\u6837\u5f0f</li> </ul> <pre><code>chart.axis('xField', {\n  label: {\n    offset: {number}, // \u8bbe\u7f6e\u5750\u6807\u8f74\u6587\u672c label \u8ddd\u79bb\u5750\u6807\u8f74\u7ebf\u7684\u8ddd\u79bb\n    textStyle: {\n      textAlign: 'center', // \u6587\u672c\u5bf9\u9f50\u65b9\u5411\uff0c\u53ef\u53d6\u503c\u4e3a\uff1a start middle end\n      fill: '#404040', // \u6587\u672c\u7684\u989c\u8272\n      fontSize: '12', // \u6587\u672c\u5927\u5c0f\n      fontWeight: 'bold', // \u6587\u672c\u7c97\u7ec6\n      rotate: 30, \n      textBaseline: 'top' // \u6587\u672c\u57fa\u51c6\u7ebf\uff0c\u53ef\u53d6 top middle bottom\uff0c\u9ed8\u8ba4\u4e3amiddle\n    } || {function}, // \u6587\u672c\u6837\u5f0f\uff0c\u652f\u6301\u56de\u8c03 \n    autoRotate: {boolean} // \u662f\u5426\u9700\u8981\u81ea\u52a8\u65cb\u8f6c\uff0c\u9ed8\u8ba4\u4e3a true\n  }\n});\n</code></pre> <ul> <li>\u683c\u5f0f\u5316\u5750\u6807\u8f74\u6587\u672c\u663e\u793a</li> </ul> <p>\u4e3a <code>formatter</code> \u5c5e\u6027\u5b9a\u4e49\u56de\u8c03\u51fd\u6570\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>chart.axis('xField', {\n  label: {\n    // \u4f7f\u7528 formatter \u56de\u8c03\u51fd\u6570\n    formatter: val =&gt; {\n      return val + '\u5143';\n    }\n  }\n});\n</code></pre> <p>\u5728\u5750\u6807\u8f74\u4e0a\u914d\u7f6e formatter \u4ec5\u5728\u5750\u6807\u8f74\u4e0a\u7684\u6587\u672c\u6709\u6548\uff0c\u5982\u679c\u60f3\u8981\u4f7f\u5f97 tooltip \u548c\u56fe\u4f8b\u4e0a\u7684\u4fe1\u606f\u4e5f\u683c\u5f0f\u5316\uff0c\u9700\u8981\u5728\u5217\u5b9a\u4e49\u65f6\u6307\u5b9a\u683c\u5f0f\u5316\u51fd\u6570</p> <pre><code>chart.source(data, {\n  xField: {\n    formatter: val =&gt; {\n      return val + '\u5143';\n    }\n  }\n});\n\n// \u6216\u8005\nchart.scale('xField', {\n  formatter: val =&gt; {\n    return val + '\u5143';\n  }\n});\n</code></pre> <p></p> <pre><code>const data = [\n  { x: 95, y: 95, z: 13.8, name: 'BE', country: 'Belgium' },\n  { x: 86.5, y: 102.9, z: 14.7, name: 'DE', country: 'Germany' },\n  { x: 80.8, y: 91.5, z: 15.8, name: 'FI', country: 'Finland' },\n  { x: 80.4, y: 102.5, z: 12, name: 'NL', country: 'Netherlands' },\n  { x: 80.3, y: 86.1, z: 11.8, name: 'SE', country: 'Sweden' },\n  { x: 78.4, y: 70.1, z: 16.6, name: 'ES', country: 'Spain' },\n  { x: 74.2, y: 68.5, z: 14.5, name: 'FR', country: 'France' },\n  { x: 73.5, y: 83.1, z: 10, name: 'NO', country: 'Norway' },\n  { x: 71, y: 93.2, z: 24.7, name: 'UK', country: 'United Kingdom' },\n  { x: 69.2, y: 57.6, z: 10.4, name: 'IT', country: 'Italy' },\n  { x: 68.6, y: 20, z: 16, name: 'RU', country: 'Russia' },\n  { x: 65.5, y: 126.4, z: 35.3, name: 'US', country: 'United States' },\n  { x: 65.4, y: 50.8, z: 28.5, name: 'HU', country: 'Hungary' },\n  { x: 63.4, y: 51.8, z: 15.4, name: 'PT', country: 'Portugal' },\n  { x: 64, y: 82.9, z: 31.3, name: 'NZ', country: 'New Zealand' }\n];\nconst chart = new G2.Chart({\n  container: 'c1',\n  forceFit: true,\n  height: 350,\n  padding: [ 20, 0, 80, 80 ],\n  plotBackground: {\n    stroke: '#ccc', // \u8fb9\u989c\u8272\n    lineWidth: 1 // \u8fb9\u6846\u7c97\u7ec6\n  } // \u7ed8\u56fe\u533a\u57df\u80cc\u666f\u8bbe\u7f6e\n});\nchart.source(data, {\n  x: {\n    alias: 'Daily fat intake', // \u5b9a\u4e49\u522b\u540d\n    tickInterval: 5, // \u81ea\u5b9a\u4e49\u523b\u5ea6\u95f4\u8ddd\n    nice: false, // \u4e0d\u5bf9\u6700\u5927\u6700\u5c0f\u503c\u4f18\u5316\n    max: 96, // \u81ea\u5b9a\u4e49\u6700\u5927\u503c\n    min: 62 // \u81ea\u5b9a\u4e49\u6700\u5c0f\u662f\n  },\n  y: {\n    alias: 'Daily sugar intake',\n    tickInterval: 50,\n    nice: false,\n    max: 165,\n    min: 0\n  },\n  z: {\n    alias: 'Obesity(adults) %'\n  }\n});\n// \u5f00\u59cb\u914d\u7f6e\u5750\u6807\u8f74\nchart.axis('x', {\n  label: {\n    formatter: val =&gt; {\n      return val + ' gr'; // \u683c\u5f0f\u5316\u5750\u6807\u8f74\u663e\u793a\u6587\u672c\n    }\n  },\n  grid: {\n    lineStyle: {\n      stroke: '#d9d9d9',\n      lineWidth: 1,\n      lineDash: [ 2, 2 ]\n    }\n  }\n});\nchart.axis('y', {\n  title: {\n    offset: 70,\n  },\n  label: {\n    formatter: val =&gt; {\n      if (val &gt; 0) {\n        return val + ' gr';\n      }\n    }\n  }\n});\nchart.legend(false);\nchart.tooltip({\n  title: 'country'\n});\nchart\n  .point()\n  .position('x*y')\n  .size('z', [ 10, 40 ])\n  .label('name*country', {\n    offset: 0, // \u6587\u672c\u8ddd\u79bb\u56fe\u5f62\u7684\u8ddd\u79bb\n    textStyle: {\n      fill: '#000',\n      fontWeight: 'bold', // \u6587\u672c\u7c97\u7ec6\n      shadowBlur: 5, // \u6587\u672c\u9634\u5f71\u6a21\u7cca\n      shadowColor: '#fff' // \u9634\u5f71\u989c\u8272\n    }\n  })\n  .color('#3182bd')\n  .opacity(0.5)\n  .shape('circle')\n  .tooltip('x*y*z');\nchart.guide().line({\n  start: [ 65, 'min' ],\n  end: [ 65, 'max' ],\n  text: {\n    content: 'Safe fat intake 65g/day',\n    position: 'end',\n    autoRotate: false,\n    style: {\n      textAlign: 'start'\n    }\n  },\n});\nchart.guide().line({\n  start: [ 'min', 50 ],\n  end: [ 'max', 50 ],\n  text: {\n    content: 'Safe sugar intake 50g/day',\n    position: 'end',\n    style: {\n      textAlign: 'end'\n    }\n  }\n});\nchart.render();\n</code></pre> <ul> <li>\u4f7f\u7528 html \u81ea\u5b9a\u4e49 label</li> </ul> <p>\u5728\u4e00\u4e9b\u6bd4\u8f83\u4e2a\u6027\u5316\u7684\u53ef\u89c6\u5316\u9700\u6c42\u91cc\uff0c\u901a\u5e38\u4f1a\u4f7f\u7528\u53ef\u89c6\u5316\u9690\u55bb\uff0c\u6bd4\u5982\u4f1a\u4f7f\u7528\u4eba\u7269\u7167\u7247\u6765\u4ee3\u66ff\u4eba\u7269\u540d\u5b57\uff0c\u4f7f\u5f97\u53ef\u89c6\u5316\u66f4\u76f4\u89c2\u3002</p> <p>\u8fd9\u65f6\u53ef\u4ee5\u901a\u8fc7\u4e3a <code>label</code> \u8fdb\u884c\u5982\u4e0b\u914d\u7f6e\uff1a</p> <pre><code>chart.axis('xField', {\n  label: {\n    htmlTemplate: value =&gt; {\n      return '&lt;img src=\"' +imageMap[value] + '\" width=\"30px\"/&gt;';\n    }\n  }\n});\n</code></pre> <p>\u5b8c\u6574\u4ee3\u7801</p> <pre><code>const data = [\n  { name: 'John', vote: 35654 },\n  { name: 'Damon', vote: 65456 },\n  { name: 'Patrick', vote: 45724 },\n  { name: 'Mark', vote: 13654 }\n];\nconst imageMap = {\n  'John': 'https://zos.alipayobjects.com/rmsportal/mYhpaYHyHhjYcQf.png',\n  'Damon': 'https://zos.alipayobjects.com/rmsportal/JBxkqlzhrlkGlLW.png',\n  'Patrick': 'https://zos.alipayobjects.com/rmsportal/zlkGnEMgOawcyeX.png',\n  'Mark': 'https://zos.alipayobjects.com/rmsportal/KzCdIdkwsXdtWkg.png'\n}\n\nconst chart = new G2.Chart({\n  container : 'c2',\n  width : 600,\n  height : 250\n});\nchart.source(data, {\n  vote: {\n    min: 0\n  }\n});\nchart.legend(false);\nchart.axis('name', {\n  label: {\n    htmlTemplate: value =&gt; {\n      return '&lt;img src=\"' +imageMap[value] + '\" style=\"width:30px;max-width:none;\"/&gt;';\n    }\n  },\n  tickLine: null\n});\nchart.interval()\n  .position('name*vote')\n  .color('name', [ '#7f8da9', '#fec514', '#db4c3c', '#daf0fd' ])\n  .size(20)\n  .label('name');\nchart.render();\n</code></pre>"},{"location":"third-part-lib/g2/antv-g2/#tickline","title":"\u5750\u6807\u8f74\u523b\u5ea6\u7ebf tickLine","text":"<p>\u5728 tickLine \u4e0a\u53ef\u4ee5\u914d\u7f6e\u5750\u6807\u8f74\u523b\u5ea6\u7ebf\u7684\u957f\u77ed\uff08length\uff09\u3001\u989c\u8272\uff08stroke\uff09\u3001\u7c97\u7ec6\uff08lineWidth\uff09\uff0c\u6216\u8005\u63a7\u5236\u5b83\u7684\u5c55\u793a\uff08tickLine: null\uff0c\u4e0d\u5c55\u793a\u523b\u5ea6\u7ebf\uff09\u3002</p> <pre><code>chart.axis('xField', {\n  tickLine: {\n    lineWidth: 2,\n    length: 10,\n    stroke: 'red',\n    alignWithLabel:true\n  }\n});\n</code></pre> <ul> <li>value \u53ef\u4ee5\u8bbe\u7f6e\u8d1f\u503c\uff0c\u4f7f\u5f97tickLine\u7684\u65b9\u5411\u76f8\u53cd</li> </ul> <pre><code>chart.axis('genre', {\n  tickLine: {\n    length: -10\n  }\n});\n</code></pre> <p></p> <ul> <li>alignWithLabel \u8bbe\u7f6e\u4e3a\u8d1f\u503c\uff0c\u4e14\u6570\u636e\u7c7b\u578b\u4e3acategory\u65f6\uff0ctickLine\u7684\u6837\u5f0f\u53d8\u4e3acategory\u6570\u636e\u4e13\u6709\u6837\u5f0f\u3002</li> </ul> <pre><code>chart.axis('genre', {\n  tickLine: {\n    alignWithLabel: false\n  }\n});\nimg,[object Object],\n</code></pre> <p></p>"},{"location":"third-part-lib/g2/antv-g2/#subtickline","title":"\u5750\u6807\u8f74\u5b50\u523b\u5ea6\u7ebf subTickLine","text":"<p>\u901a\u8fc7\u8bbe\u7f6e <code>subTickCount</code> \u5c5e\u6027\u53ef\u4ee5\u4e3a\u4e24\u4e2a\u4e3b\u523b\u5ea6\u95f4\u8bbe\u7f6e\u5b50\u523b\u5ea6\u7ebf\u7684\u4e2a\u6570\uff0c\u540c\u65f6\u901a\u8fc7 <code>subTickLine</code> \u8bbe\u7f6e\u5b50\u523b\u5ea6\u7ebf\u6837\u5f0f\u3002</p> <pre><code>chart.axis('xField', {\n  subTickCount: 3,\n  subTickLine: {\n    length: 3,\n    stroke: '#545454',\n    lineWidth: 1\n  },\n  tickLine: {\n    length: 5,\n    lineWidth: 2,\n    stroke: '#000'\n  }\n});\n</code></pre> <p></p>"},{"location":"third-part-lib/g2/antv-g2/#grid","title":"\u7f51\u683c grid","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cG2 \u4f1a\u4e3a y \u5750\u6807\u8f74\u751f\u6210\u7f51\u683c\u7ebf\uff0c\u800c x \u8f74\u4e0d\u5c55\u793a\u7f51\u683c\u7ebf\u3002\u7f51\u683c\u7ebf\u7684\u914d\u7f6e\u5c5e\u6027\u540d\u4e3a <code>grid</code>\uff0c\u53ea\u8981\u4e3a\u5750\u6807\u8f74\u914d\u7f6e grid \u5c5e\u6027\u5373\u53ef\u5c55\u793a\u7f51\u683c\u7ebf\u3002</p> <p>\u5728 <code>grid</code> \u5c5e\u6027\u4e2d\u914d\u7f6e\u7f51\u683c\u663e\u793a\u7684\u6837\u5f0f\uff0c\u5982\u4e0b\u4ee3\u7801\u6240\u793a\uff1a</p> <pre><code>chart.axis('xField', {\n  grid: {\n    type: 'line',\n    lineStyle: {\n      stroke: '#d9d9d9',\n      lineWidth: 1,\n      lineDash: [ 4, 4 ]\n    },\n    align: 'center' // \u7f51\u683c\u9876\u70b9\u4ece\u4e24\u4e2a\u523b\u5ea6\u4e2d\u95f4\u5f00\u59cb\n  }\n});\n</code></pre>"},{"location":"third-part-lib/g2/antv-g2/#_7","title":"\u5176\u4ed6\u914d\u7f6e","text":""},{"location":"third-part-lib/g2/antv-g2/#_8","title":"\u8bbe\u7f6e\u5750\u6807\u8f74\u663e\u793a\u8303\u56f4","text":"<p>\u6bcf\u4e00\u79cd\u5750\u6807\u8f74\u8303\u56f4\u7684\u9009\u62e9\u90fd\u4f1a\u5bfc\u81f4\u6700\u540e\u53ef\u89c6\u5316\u7ed3\u679c\u7684\u4e0d\u540c\uff0c\u5750\u6807\u8f74\u663e\u793a\u8303\u56f4\u7684\u8bbe\u7f6e\u9700\u8981\u5728\u5217\u5b9a\u4e49\u4e2d\u914d\u7f6e\uff1a</p> <pre><code>// \u65b9\u5f0f 1\nchart.source(data, {\n  xField: {\n    type: 'linear',\n    min: 0,\n    max: 1000\n  }\n}); \n// \u65b9\u5f0f 2\nchart.scale('xField', {\n  type: 'linear',\n  min: 0, \n  max: 1000\n});\n</code></pre>"},{"location":"third-part-lib/g2/antv-g2/#_9","title":"\u8bbe\u7f6e\u5750\u6807\u8f74\u523b\u5ea6\u7ebf\u4e2a\u6570","text":"<p>\u9ed8\u8ba4\u7684\u5750\u6807\u8f74\u523b\u5ea6\u7ebf\u4e2a\u6570\u662f 5 \u4e2a\uff0c\u901a\u8fc7\u5217\u5b9a\u4e49\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5750\u6807\u8f74\u523b\u5ea6\u7ebf\u7684\u4e2a\u6570\u3002</p> <pre><code>chart.source(data, {\n  xField: {\n    type: 'timeCat', // \u58f0\u660e\u8be5\u6570\u636e\u7684\u7c7b\u578b\n    tickCount: 9\n  }\n});\n</code></pre>"},{"location":"third-part-lib/g2/antv-g2/#_10","title":"\u8bbe\u7f6e\u5750\u6807\u8f74\u523b\u5ea6\u7ebf\u95f4\u8ddd","text":"<p>\u5bf9\u4e8e\u8fde\u7eed\u7c7b\u578b\u7684\u6570\u636e\uff0cG2 \u8fd8\u652f\u6301\u8bbe\u7f6e\u5750\u6807\u8f74\u523b\u5ea6\u7ebf\u7684\u95f4\u8ddd\uff08<code>tickInterval</code> \u5c5e\u6027\uff09\uff0c\u540c\u6837\u9700\u8981\u5728\u5217\u5b9a\u4e49\u4e2d\u8fdb\u884c\u914d\u7f6e\uff0c\u4f46\u662f\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c<code>tickInterval</code> \u4e3a\u539f\u59cb\u6570\u636e\u503c\u7684\u5dee\u503c\uff0c\u5e76\u4e14 <code>tickCount</code> \u548c <code>tickInterval</code> \u4e0d\u53ef\u4ee5\u540c\u65f6\u58f0\u660e\u3002</p> <pre><code>chart.source(data, {\n  xField: {\n    type: 'linear',\n    tickInterval: 1000\n  }\n});\n</code></pre>"},{"location":"third-part-lib/g2/antv-g2/#_11","title":"\u5750\u6807\u7cfb\u4e24\u7aef\u4fdd\u7559\u4e00\u5b9a\u7684\u7a7a\u767d","text":"<p>\u5bf9\u4e8e\u5206\u7c7b\u6570\u636e\u7684\u5750\u6807\u8f74\u4e24\u8fb9\u9ed8\u8ba4\u4f1a\u7559\u4e0b\u4e00\u5b9a\u7684\u7a7a\u767d\uff0c\u8fde\u7eed\u6570\u636e\u7684\u5750\u6807\u8f74\u7684\u4e24\u7aef\u6ca1\u6709\u7a7a\u767d\u523b\u5ea6</p> <p></p> <p>\u662f\u5426\u4e24\u7aef\u6709\u7a7a\u767d\u662f\u5217\u5b9a\u4e49\u91cc\u9762 range \u5c5e\u6027\u51b3\u5b9a\u7684\uff0c\u5206\u7c7b\u5217\u7684 range \u7684\u9ed8\u8ba4\u503c\u662f [ 1 / (count - 1), 1 - 1 / (count - 1) ]\uff0c\u53ef\u4ee5\u4fee\u6539\u8fd9\u4e2a\u503c\u8fbe\u5230\u6539\u53d8\u7a7a\u767d\u5927\u5c0f\u7684\u76ee\u7684\u3002</p> <pre><code>chart.source(data, {\n  xField: {\n    type: 'cat',\n    range: [ 0, 1 ]\n  }\n});\n</code></pre>"},{"location":"third-part-lib/g2/antv-g2/#_12","title":"\u5750\u6807\u8f74\u5728\u5176\u4ed6\u5750\u6807\u7cfb\u4e0b\u7684\u663e\u793a","text":"<p>\u4e0d\u540c\u7684\u5750\u6807\u7cfb\u4e0b\u5750\u6807\u8f74\u7684\u663e\u793a\u4e0d\u4e00\u6837\uff0c\u9ed8\u8ba4\u7684\u914d\u7f6e\u9879\u4e5f\u4e0d\u540c</p> <ul> <li> <p>\u6781\u5750\u6807\u4e0b\u7684\u5750\u6807\u8f74\u4e0a\u6805\u683c\u7ebf\u6709\u5706\u5f62\u548c\u591a\u8fb9\u5f62\u4e24\u79cd\uff1b</p> </li> <li> <p>theta\u3001helix \u5750\u6807\u7cfb\u9ed8\u8ba4\u4e0d\u663e\u793a\u5750\u6807\u8f74\uff1b</p> </li> <li> <p>polar \u5750\u6807\u7cfb\u53d1\u751f transpose \u65f6\u4e5f\u4e0d\u663e\u793a\u5750\u6807\u8f74\u3002</p> </li> </ul>"},{"location":"third-part-lib/react-dnd/01-readme/","title":"React DnD","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 261  \u9605\u8bfb1\u5206\u949f</p> <p>\u6ce8\u610f\u7248\u672c\uff01\uff01\uff01</p> <p>Drag and Drop for React.</p> <p>\u4e0b\u9762\u662f\u6559\u7a0b\u548c\u6848\u4f8b http://react-dnd.github.io/react-dnd/</p>"},{"location":"third-part-lib/react-dnd/01-readme/#technical-details","title":"Technical Details","text":"<ul> <li>ES Modules w/ Embedded CJS for Jest Testing</li> <li>Ships w/ TS Typings</li> <li>Browserlist Target: <code>&gt;0.25%, not dead</code></li> </ul>"},{"location":"third-part-lib/react-dnd/02-quickstart/","title":"\u5feb\u901f\u5f00\u59cb","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4807  \u9605\u8bfb10\u5206\u949f</p> <p>https://react-dnd.github.io/react-dnd/about</p> <p>\u8fd9\u4e2a\u7ec4\u4ef6\u53ef\u4ee5\u5b9e\u73b0\u590d\u6742\u7684\u62d6\u62fd\u754c\u9762\u6548\u679c\uff0c\u540c\u65f6\u8ba9\u4e0d\u540c\u7684\u7ec4\u4ef6\u89e3\u8026\u3002\u62d6\u52a8\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u4f20\u9012\u6570\u636e\uff0c\u62d6\u52a8\u7684\u4e0d\u540c\u9636\u6bb5\u53ef\u4ee5\u663e\u793a\u4e0d\u540c\u7684\u72b6\u6001\u548c\u663e\u793a\u3002</p> <p>React DnD is a set of React utilities to help you build complex drag and drop interfaces while keeping your components decoupled. It is a perfect fit for apps like Trello and Storify, where dragging transfers data between different parts of the application, and the components change their appearance and the application state in response to the drag and drop events.</p>"},{"location":"third-part-lib/react-dnd/02-quickstart/#_2","title":"\u5b89\u88c5","text":"<pre><code>yarn add react-dnd react-dnd-html5-backend\n</code></pre> <p>The second package will allow React DnD the HTML5 drag and drop API under the hood. You may choose to use a third-party backend instead, such as the touch backend.</p> <p>\u7b2c\u4e8c\u4e2a\u5305\u5c06\u5141\u8bb8React DnD\u5728\u540e\u53f0\u4f7f\u7528HTML5\u62d6\u653eAPI\u3002 \u60a8\u53ef\u4ee5\u9009\u62e9\u5176\u4ed6\u7b2c\u4e09\u65b9\u540e\u7aefAPI\u5e93\u3002</p>"},{"location":"third-part-lib/react-dnd/02-quickstart/#_3","title":"\u4f8b\u5b50","text":"<pre><code>// Let's make &lt;Card text='Write the docs' /&gt; draggable!\nimport React from 'react'\nimport { useDrag } from 'react-dnd'\nimport { ItemTypes } from './Constants'\n\nexport default function Card({ isDragging, text }) {\n  const [{ opacity }, dragRef] = useDrag({\n    item: { type: ItemTypes.CARD, text },\n    collect: monitor =&gt; ({\n      opacity: monitor.isDragging() ? 0.5 : 1,\n    }),\n  });\n\n  return (\n    &lt;div ref={dragRef} style={{ opacity }}&gt;\n      {text}\n    &lt;/div&gt;\n  )\n}\n</code></pre>"},{"location":"third-part-lib/react-dnd/02-quickstart/#_4","title":"\u7279\u70b9","text":""},{"location":"third-part-lib/react-dnd/02-quickstart/#it-works-with-your-components","title":"It works with your components","text":"<p>Instead of providing readymade widgets, React DnD wraps your components and injects props into them. If you use React Router or Flummox, you already know this pattern.</p>"},{"location":"third-part-lib/react-dnd/02-quickstart/#it-embraces-unidirectional-data-flow","title":"It embraces unidirectional data flow","text":"<p>React DnD fully embraces the declarative rendering paradigm of React and doesn't mutate the DOM. It is a great complement to Redux and other architectures with the unidirectional data flow. In fact it is built on Redux.</p>"},{"location":"third-part-lib/react-dnd/02-quickstart/#it-hides-the-platform-quirks","title":"It hides the platform quirks","text":"<p>HTML5 drag and drop has an awkward API full of pitfalls and browser inconsistencies. React DnD handles them internally for you, so you can focus on developing your application instead of working around the browser bugs.</p>"},{"location":"third-part-lib/react-dnd/02-quickstart/#it-is-extensible-and-testable","title":"It is extensible and testable","text":"<p>React DnD uses the HTML5 drag and drop under the hood, but it also lets you supply a custom \u201cbackend\u201d. You can create a custom DnD backend based on the touch events, the mouse events, or something else entirely. For example, a built-in simulation backend lets you test drag and drop interaction of your components in a Node environment.</p> <p>\u5b83\u4e0e\u60a8\u7684\u7ec4\u4ef6\u4e00\u8d77\u4f7f\u7528</p> <p>React DnD\u4e0d\u9700\u8981\u63d0\u4f9b\u73b0\u6210\u7684\u5c0f\u90e8\u4ef6\uff0c\u800c\u662f\u5305\u88c5\u60a8\u7684\u7ec4\u4ef6\u5e76\u5c06\u9053\u5177\u6ce8\u5165\u5176\u4e2d\u3002\u5982\u679c\u60a8\u4f7f\u7528React Router\u6216Flummox\uff0c\u60a8\u5df2\u7ecf\u77e5\u9053\u6b64\u6a21\u5f0f\u3002</p> <p>\u5b83\u5305\u542b\u5355\u5411\u6570\u636e\u6d41</p> <p>React DnD\u5b8c\u5168\u5305\u542b\u4e86React\u7684\u58f0\u660e\u5f0f\u6e32\u67d3\u8303\u4f8b\uff0c\u5e76\u4e14\u4e0d\u6539\u53d8DOM\u3002\u5b83\u662f\u5bf9Redux\u548c\u5176\u4ed6\u5177\u6709\u5355\u5411\u6570\u636e\u6d41\u7684\u4f53\u7cfb\u7ed3\u6784\u7684\u5f88\u597d\u7684\u8865\u5145\u3002\u5b9e\u9645\u4e0a\uff0c\u5b83\u662f\u57fa\u4e8eRedux\u6784\u5efa\u7684\u3002</p> <p>\u5b83\u9690\u85cf\u4e86\u5e73\u53f0\u602a\u7656</p> <p>HTML5\u62d6\u653e\u5177\u6709\u7b28\u62d9\u7684API\uff0c\u5145\u6ee1\u9677\u9631\u548c\u6d4f\u89c8\u5668\u4e0d\u4e00\u81f4\u3002 React DnD\u5728\u5185\u90e8\u4e3a\u60a8\u5904\u7406\u5b83\u4eec\uff0c\u56e0\u6b64\u60a8\u53ef\u4ee5\u4e13\u6ce8\u4e8e\u5f00\u53d1\u5e94\u7528\u7a0b\u5e8f\uff0c\u800c\u4e0d\u662f\u89e3\u51b3\u6d4f\u89c8\u5668\u9519\u8bef\u3002</p> <p>\u5b83\u662f\u53ef\u6269\u5c55\u548c\u53ef\u6d4b\u8bd5\u7684</p> <p>React DnD\u4f7f\u7528HTML5\u62d6\u653e\u529f\u80fd\uff0c\u4f46\u662f\u5b83\u8fd8\u5141\u8bb8\u60a8\u63d0\u4f9b\u81ea\u5b9a\u4e49\u7684\u201c\u540e\u7aef\u201d\u3002\u60a8\u53ef\u4ee5\u57fa\u4e8e\u89e6\u6478\u4e8b\u4ef6\uff0c\u9f20\u6807\u4e8b\u4ef6\u6216\u5b8c\u5168\u57fa\u4e8e\u5176\u4ed6\u4e8b\u4ef6\u6765\u521b\u5efa\u81ea\u5b9a\u4e49DnD\u540e\u7aef\u3002\u4f8b\u5982\uff0c\u5185\u7f6e\u7684\u6a21\u62df\u540e\u7aef\u4f7f\u60a8\u53ef\u4ee5\u5728Node\u73af\u5883\u4e2d\u6d4b\u8bd5\u7ec4\u4ef6\u7684\u62d6\u653e\u4ea4\u4e92\u3002</p>"},{"location":"third-part-lib/react-dnd/02-quickstart/#touch-support","title":"Touch Support","text":"<p>For touch support, use React DnD with the touch backend instead of the HTML5 backend.</p> <p>\u4e3a\u4e86\u83b7\u5f97\u89e6\u6478\u652f\u6301\uff0c\u8bf7\u5c06React DnD\u4e0e\u89e6\u6478\u540e\u7aef\uff08\u800c\u4e0d\u662fHTML5\u540e\u7aef\uff09\u4e00\u8d77\u4f7f\u7528\u3002</p>"},{"location":"third-part-lib/react-dnd/02-quickstart/#non-goals","title":"Non-Goals","text":"<p>React DnD gives you a set of powerful primitives, but it does not contain any readymade components. It's lower level than jQuery UI or interact.js and is focused on getting the drag and drop interaction right, leaving its visual aspects such as axis constraints or snapping to you. For example, React DnD doesn't plan to provide a <code>Sortable</code>component. Instead it gives you the tools you need to build your own with any rendering customizations that you need.</p> <p>React DnD\u4e3a\u60a8\u63d0\u4f9b\u4e86\u4e00\u7ec4\u529f\u80fd\u5f3a\u5927\u7684\u539f\u8bed\uff0c\u4f46\u5176\u4e2d\u4e0d\u5305\u542b\u4efb\u4f55\u73b0\u6210\u7684\u7ec4\u4ef6\u3002\u5b83\u6bd4jQuery UI\u6216interact.js\u7684\u7ea7\u522b\u4f4e\uff0c\u5e76\u4e14\u4e13\u6ce8\u4e8e\u6b63\u786e\u5b9e\u73b0\u62d6\u653e\u4ea4\u4e92\uff0c\u800c\u4e0d\u4f1a\u51fa\u73b0\u8bf8\u5982\u8f74\u7ea6\u675f\u6216\u6355\u6349\u4e4b\u7c7b\u7684\u53ef\u89c6\u5316\u65b9\u9762\u3002\u4f8b\u5982\uff0cReact DnD\u4e0d\u6253\u7b97\u63d0\u4f9bSortable\u7ec4\u4ef6\u3002\u76f8\u53cd\uff0c\u5b83\u4e3a\u60a8\u63d0\u4f9b\u4e86\u4f7f\u7528\u6240\u9700\u7684\u4efb\u4f55\u6e32\u67d3\u81ea\u5b9a\u4e49\u6765\u6784\u5efa\u81ea\u5df1\u7684\u5de5\u5177\u3002</p>"},{"location":"third-part-lib/react-dnd/03-Overview/","title":"Overview","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 12424  \u9605\u8bfb25\u5206\u949f</p> <p>React DnD is unlike most of the drag and drop libraries out there, and it can be intimidating if you've never used it before. However, once you get a taste of a few concepts at the heart of its design, it starts to make sense. I suggest you read about these concepts before the rest of the docs.</p> <p>Some of these concepts resemble the Flux and Redux architectures. This is not a coincidence, as React DnD uses Redux internally.</p>"},{"location":"third-part-lib/react-dnd/03-Overview/#backends","title":"Backends","text":"<p>React DnD is built on top of the HTML5 drag and drop API. It is a reasonable default because it screenshots the dragged DOM node and uses it as a \u201cdrag preview\u201d out of the box. It's handy that you don't have to do any drawing as the cursor moves. This API is also the only way to handle the file drop events.</p> <p>Unfortunately, the HTML5 drag and drop API also has some downsides. It does not work on touch screens, and it provides less customization opportunities on IE than in other browsers.</p> <p>This is why the HTML5 drag and drop support is implemented in a pluggable way in React DnD. You don't have to use it. You can write a different implementation, based on touch events, mouse events, or something else entirely. Such pluggable implementations are called the backends in React DnD. Only the HTML5 backend comes with the library, but more may be added in the future.</p> <p>The backends perform a similar role to that of React's synthetic event system: they abstract away the browser differences and process the native DOM events. Despite the similarities, React DnD backends do not have a dependency on React or its synthetic event system. Under the hood, all the backends do is translate the DOM events into the internal Redux actions that React DnD can process.</p>"},{"location":"third-part-lib/react-dnd/03-Overview/#items-and-types","title":"Items and Types","text":"<p>Like Flux (or Redux), React DnD uses data, and not the views, as the source of truth. When you drag something across the screen, we don't say that a component, or a DOM node is being dragged. Instead, we say that an item of a certain type is being dragged.</p> <p>What is an item? An item is a plain JavaScript object describing what's being dragged. For example, in a Kanban board application, when you drag a card, an item might look like <code>{ cardId: 42 }</code>. In a Chess game, when you pick up a piece, the item might look like <code>{ fromCell: 'C5', piece: 'queen' }</code>. Describing the dragged data as a plain object helps you keep the components decoupled and unaware of each other.</p> <p>What is a type, then? A type is a string (or a symbol) uniquely identifying a whole class of items in your application. In a Kanban board app, you might have a <code>'card'</code>type representing the draggable cards and a <code>'list'</code>type for the draggable lists of those cards. In Chess, you might only have a single <code>'piece'</code>type.</p> <p>Types are useful because, as your app grows, you might want to make more things draggable, but you don't necessarily want all the existing drop targets to suddenly start reacting to the new items. The types let you specify which drag sources and drop targets are compatible. You're probably going to have an enumeration of the type constants in your application, similar to how you may have an enumeration of the Redux action types.</p>"},{"location":"third-part-lib/react-dnd/03-Overview/#monitors","title":"Monitors","text":"<p>Drag and drop is inherently stateful. Either a drag operation is in progress, or it isn't. Either there is a current type and a current item, or there isn't. This state has to live somewhere.</p> <p>React DnD exposes this state to your components via a few tiny wrappers over the internal state storage called the monitors. The monitors let you update the props of your components in response to the drag and drop state changes.</p> <p>For each component that needs to track the drag and drop state, you can define a collecting function that retrieves the relevant bits of it from the monitors. React DnD then takes care of timely calling your collecting function and merging its return value into your components' props.</p> <p>Let's say you want to highlight the Chess cells when a piece is being dragged. A collecting function for the <code>Cell</code>component might look like this:</p> <pre><code>function collect(monitor) {\n  return {\n    highlighted: monitor.canDrop(),\n    hovered: monitor.isOver(),\n  }\n}\n</code></pre> <p>It instructs React DnD to pass the up-to-date values of <code>highlighted</code>and <code>hovered</code>to all the <code>Cell</code>instances as props.</p>"},{"location":"third-part-lib/react-dnd/03-Overview/#connectors","title":"Connectors","text":"<p>If the backend handles the DOM events, but the components use React to describe the DOM, how does the backend know which DOM nodes to listen to? Enter the connectors. The connectors let you assign one of the predefined roles (a drag source, a drag preview, or a drop target) to the DOM nodes in your <code>render</code>function.</p> <p>In fact, a connector is passed as the first argument to the collecting function we described above. Let's see how we can use it to specify the drop target:</p> <pre><code>function collect(connect, monitor) {\n  return {\n    highlighted: monitor.canDrop(),\n    hovered: monitor.isOver(),\n    connectDropTarget: connect.dropTarget(),\n  }\n}\n</code></pre> <p>In the component's <code>render</code>method, we are then able to access both the data obtained from the monitor, and the function obtained from the connector:</p> <pre><code>render() {\n  const { highlighted, hovered, connectDropTarget } = this.props;\n\n  return connectDropTarget(\n    &lt;div className={classSet({\n      'Cell': true,\n      'Cell--highlighted': highlighted,\n      'Cell--hovered': hovered\n    })}&gt;\n      {this.props.children}\n    &lt;/div&gt;\n  );\n}\n</code></pre> <p>The <code>connectDropTarget</code>call tells React DnD that the root DOM node of our component is a valid drop target, and that its hover and drop events should be handled by the backend. Internally it works by attaching a callback ref to the React element you gave it. The function returned by the connector is memoized, so it doesn't break the <code>shouldComponentUpdate</code>optimizations.</p>"},{"location":"third-part-lib/react-dnd/03-Overview/#drag-sources-and-drop-targets","title":"Drag Sources and Drop Targets","text":"<p>So far we have covered the backends which work with the DOM, the data, as represented by the items and types, and the collecting functions that, thanks to the monitors and the connectors, let you describe what props React DnD should inject into your components.</p> <p>But how do we configure our components to actually have those props injected? How do we perform the side effects in response to the drag and drop events? Meet the drag sources and the drop targets, the primary abstraction units of React DnD. They really tie the types, the items, the side effects, and the collecting functions together with your components.</p> <p>Whenever you want to make a component or some part of it draggable, you need to wrap that component into a drag source declaration. Every drag source is registered for a certain type, and has to implement a method producing an item from the component's props. It can also optionally specify a few other methods for handling the drag and drop events. The drag source declaration also lets you specify the collecting function for the given component.</p> <p>The drop targets are very similar to the drag sources. The only difference is that a single drop target may register for several item types at once, and instead of producing an item, it may handle its hover or drop.</p>"},{"location":"third-part-lib/react-dnd/03-Overview/#higher-order-components-and-decorators","title":"Higher-Order Components and Decorators","text":"<p>How do you wrap your components? What does wrapping even mean? If you have not worked with higher-order components before, go ahead and read this article, as it explains the concept in detail.</p> <p>A higher-order component is a function that takes a React component class, and returns another React component class. The wrapping component provided by the library renders your component in its <code>render</code>method and forwards the props to it, but also adds some useful behavior.</p> <p>In React DnD, <code>DragSource</code>and <code>DropTarget</code>, as well as a few other top-level exported functions, are in fact higher-order components. They breathe the drag and drop magic into your components.</p> <p>One caveat of using them is that they require two function applications. For example, here's how to wrap <code>YourComponent</code>in a <code>DragSource</code>:</p> <pre><code>import { DragSource } from 'react-dnd'\n\nclass YourComponent {\n  /* ... */\n}\n\nexport default DragSource(/* ... */)(YourComponent)\n</code></pre> <p>Notice how, after specifying the <code>DragSource</code>parameters in the first function call, there is a second function call, where you finally pass your class. This is called currying, or partial application, and is necessary for the decorator syntax to work out of the box:</p> <pre><code>import { DragSource } from 'react-dnd'\n\n@DragSource(/* ... */)\nexport default class YourComponent {\n  /* ... */\n}\n</code></pre> <p>You don't have to use this syntax, but if you like it, you can enable it by transpiling your code with Babel, and putting <code>{ \"stage\": 1 }</code>into your .babelrc file.</p> <p>Even if you don't plan to use decorators, the partial application can still be handy, because you can combine several <code>DragSource</code>and <code>DropTarget</code>declarations in JavaScript using a functional composition helper such as <code>_.flow</code>. With decorators, you can stack the decorators to achieve the same effect.</p> <pre><code>import { DragSource, DropTarget } from 'react-dnd'\nimport flow from 'lodash/flow'\n\nclass YourComponent {\n  render() {\n    const { connectDragSource, connectDropTarget } = this.props\n    return connectDragSource(\n      connectDropTarget(),\n      /* ... */\n    )\n  }\n}\n\nexport default flow(DragSource(/* ... */), DropTarget(/* ... */))(YourComponent)\n</code></pre>"},{"location":"third-part-lib/react-dnd/03-Overview/#putting-it-all-together","title":"Putting It All Together","text":"<p>Below is an example of wrapping an existing <code>Card</code>component into a drag source.</p> <pre><code>import React from 'react'\nimport { DragSource } from 'react-dnd'\n\n// Drag sources and drop targets only interact\n// if they have the same string type.\n// You want to keep types in a separate file with\n// the rest of your app's constants.\nconst Types = {\n  CARD: 'card',\n}\n\n/**\n * Specifies the drag source contract.\n * Only `beginDrag` function is required.\n */\nconst cardSource = {\n  beginDrag(props) {\n    // Return the data describing the dragged item\n    const item = { id: props.id }\n    return item\n  },\n\n  endDrag(props, monitor, component) {\n    if (!monitor.didDrop()) {\n      return\n    }\n\n    // When dropped on a compatible target, do something\n    const item = monitor.getItem()\n    const dropResult = monitor.getDropResult()\n    CardActions.moveCardToList(item.id, dropResult.listId)\n  },\n}\n\n/**\n * Specifies which props to inject into your component.\n */\nfunction collect(connect, monitor) {\n  return {\n    // Call this function inside render()\n    // to let React DnD handle the drag events:\n    connectDragSource: connect.dragSource(),\n    // You can ask the monitor about the current drag state:\n    isDragging: monitor.isDragging(),\n  }\n}\n\nfunction Card(props) {\n  // Your component receives its own props as usual\n  const { id } = props\n\n  // These two props are injected by React DnD,\n  // as defined by your `collect` function above:\n  const { isDragging, connectDragSource } = props\n\n  return connectDragSource(\n    &lt;div&gt;\n      I am a draggable card number {id}\n      {isDragging &amp;&amp; ' (and I am being dragged now)'}\n    &lt;/div&gt;,\n  )\n}\n\n// Export the wrapped version\nexport default DragSource(Types.CARD, cardSource, collect)(Card)\n</code></pre> <p>Now you know enough about React DnD to explore the rest of the documentation! The tutorial is a great place to start.</p>"},{"location":"third-part-lib/react-dnd/API/","title":"API","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9981  \u9605\u8bfb20\u5206\u949f</p> <p>New to React DnD? Read the overview before jumping into the docs.</p>"},{"location":"third-part-lib/react-dnd/API/#usedrag","title":"useDrag","text":"<p>A hook to use the current component as a drag-source.</p> <pre><code>import { useDrag } from 'react-dnd'\n\nfunction DraggableComponent(props) {\n  const [collectedProps, drag] = useDrag({\n    item: { id, type },\n  })\n  return &lt;div ref={drag}&gt;...&lt;/div&gt;\n}\n</code></pre>"},{"location":"third-part-lib/react-dnd/API/#parameters","title":"Parameters","text":"<ul> <li>**<code>spec</code>**A specification object, see below for details on how to construct this</li> </ul>"},{"location":"third-part-lib/react-dnd/API/#return-value-array","title":"Return Value Array","text":"<ul> <li><code>Index 0</code>: An object containing collected properties from the collect function. If no <code>collect</code>function is defined, an empty object is returned.</li> <li><code>Index 1</code>: A connector function for the drag source. This must be attached to the draggable portion of the DOM.</li> <li><code>Index 2</code>: A connector function for the drag preview. This may be attached to the preview portion of the DOM.</li> </ul>"},{"location":"third-part-lib/react-dnd/API/#specification-object-members","title":"Specification Object Members","text":"<ul> <li><code>item</code>: Required. A plain JavaScript object describing the data being dragged. This is the only information available to the drop targets about the drag source so it's important to pick the minimal data they need to know. You may be tempted to put a complex reference here, but you should try very hard to avoid doing this because it couples the drag sources and drop targets. It's a good idea to return something like <code>{ type, id }</code>from this method.</li> </ul> <p><code>item.type</code>must be set, and it must be either a string, an ES6 symbol. Only the drop targets registered for the same type will react to this item. Read the overview to learn more about the items and types.</p> <ul> <li> <p><code>previewOptions</code>: Optional. A plain JavaScript object describing drag preview options.</p> </li> <li> <p><code>options</code>: Optional. A plain object. If some of the props to your component are not scalar (that is, are not primitive values or functions), specifying a custom <code>arePropsEqual(props, otherProps)</code>function inside the<code>options</code>object can improve the performance. Unless you have performance problems, don't worry about it.</p> </li> <li> <p><code>begin(monitor)</code>: Optional. Fired when a drag operation begins. Nothing needs to be returned, but if an object is returned it will override the default <code>item</code>property of the spec.</p> </li> <li> <p><code>end(item, monitor)</code>: Optional. When the dragging stops, <code>end</code>is called. For every <code>begin</code>call, a corresponding <code>end</code>call is guaranteed. You may call <code>monitor.didDrop()</code>to check whether or not the drop was handled by a compatible drop target. If it was handled, and the drop target specified a drop result by returning a plain object from its <code>drop()</code>method, it will be available as <code>monitor.getDropResult()</code>. This method is a good place to fire a Flux action. Note: If the component is unmounted while dragging, <code>component</code>parameter is set to be <code>null</code>.</p> </li> <li> <p><code>canDrag(monitor)</code>: Optional. Use it to specify whether the dragging is currently allowed. If you want to always allow it, just omit this method. Specifying it is handy if you'd like to disable dragging based on some predicate over <code>props</code>. Note: You may not call <code>monitor.canDrag()</code>inside this method.</p> </li> <li> <p><code>isDragging(monitor)</code>: Optional. By default, only the drag source that initiated the drag operation is considered to be dragging. You can override this behavior by defining a custom <code>isDragging</code>method. It might return something like <code>props.id === monitor.getItem().id</code>. Do this if the original component may be unmounted during the dragging and later \u201cresurrected\u201d with a different parent. For example, when moving a card across the lists in a Kanban board, you want it to retain the dragged appearance\u2014even though technically, the component gets unmounted and a different one gets mounted every time you move it to another list. Note: You may not call <code>monitor.isDragging()</code>inside this method.</p> </li> <li> <p><code>collect</code>: Optional. The collecting function. It should return a plain object of the props to return for injection into your component. It receives two parameters, <code>monitor</code>and <code>props</code>. Read the overview for an introduction to the monitors and the collecting function. See the collecting function described in detail in the next section.</p> </li> </ul>"},{"location":"third-part-lib/react-dnd/API/#usedrop","title":"useDrop","text":"<p>A hook to use the current component as a drop target.</p> <pre><code>import { useDrop } from 'react-dnd'\n\nfunction myDropTarget(props) {\n  const [collectedProps, drop] = useDrop({\n    accept,\n  })\n\n  return &lt;div ref={drop}&gt;Drop Target&lt;/div&gt;\n}\n</code></pre>"},{"location":"third-part-lib/react-dnd/API/#parameters_1","title":"Parameters","text":"<ul> <li>**<code>spec</code>**A specification object, see below for details on how to construct this</li> </ul>"},{"location":"third-part-lib/react-dnd/API/#return-value-array_1","title":"Return Value Array","text":"<ul> <li><code>Index 0</code>: An object containing collected properties from the collect function. If no <code>collect</code>function is defined, an empty object is returned.</li> <li><code>Index 1</code>: A connector function for the drop target. This must be attached to the drop-target portion of the DOM.</li> </ul>"},{"location":"third-part-lib/react-dnd/API/#specification-object-members_1","title":"Specification Object Members","text":"<ul> <li><code>accept</code>: Required. A string, an ES6 symbol, an array of either, or a function that returns either of those, given component's <code>props</code>. This drop target will only react to the items produced by the drag sources of the specified type or types. Read the overview to learn more about the items and types.</li> <li><code>options</code>: Optional. A plain object. If some of the props to your component are not scalar (that is, are not primitive values or functions), specifying a custom <code>arePropsEqual(props, otherProps)</code>function inside the <code>options</code>object can improve the performance. Unless you have performance problems, don't worry about it.</li> <li><code>drop(item, monitor)</code>: Optional. Called when a compatible item is dropped on the target. You may either return undefined, or a plain object. If you return an object, it is going to become the drop result and will be available to the drag source in its <code>endDrag</code>method as <code>monitor.getDropResult()</code>. This is useful in case you want to perform different actions depending on which target received the drop. If you have nested drop targets, you can test whether a nested target has already handled <code>drop</code>by checking <code>monitor.didDrop()</code>and <code>monitor.getDropResult()</code>. Both this method and the source's <code>endDrag</code>method are good places to fire Flux actions. This method will not be called if <code>canDrop()</code>is defined and returns <code>false</code>.</li> <li><code>hover(item, monitor)</code>: Optional. Called when an item is hovered over the component. You can check <code>monitor.isOver({ shallow: true })</code>to test whether the hover happens over just the current target, or over a nested one. Unlike <code>drop()</code>, this method will be called even if <code>canDrop()</code>is defined and returns <code>false</code>. You can check <code>monitor.canDrop()</code>to test whether this is the case.</li> <li><code>canDrop(item, monitor)</code>: Optional. Use it to specify whether the drop target is able to accept the item. If you want to always allow it, just omit this method. Specifying it is handy if you'd like to disable dropping based on some predicate over <code>props</code>or <code>monitor.getItem()</code>. Note: You may not call <code>monitor.canDrop()</code>inside this method.</li> <li><code>collect</code>: Optional. The collecting function. It should return a plain object of the props to return for injection into your component. It receives two parameters, <code>monitor</code>and <code>props</code>. Read the overview for an introduction to the monitors and the collecting function. See the collecting function described in detail in the next section.</li> </ul>"},{"location":"third-part-lib/react-dnd/API/#usedraglayer","title":"useDragLayer","text":"<p>A hook to use the current component as a drag-layer.</p> <pre><code>import { useDragLayer } from 'react-dnd'\n\nfunction DragLayerComponent(props) {\n  const collectedProps = useDragLayer(spec)\n  return &lt;div&gt;...&lt;/div&gt;\n}\n</code></pre>"},{"location":"third-part-lib/react-dnd/API/#parameters_2","title":"Parameters","text":"<ul> <li><code>collect</code>: Required. The collecting function. It should return a plain object of the props to return for injection into your component. It receives two parameters, <code>monitor</code>and <code>props</code>. Read the overview for an introduction to the monitors and the collecting function. See the collecting function described in detail in the next section.</li> </ul>"},{"location":"third-part-lib/react-dnd/API/#return-value","title":"Return Value","text":"<p>An object of collected properties from the collect function.</p>"},{"location":"third-part-lib/react-dnd/API/#dndprovider","title":"DndProvider","text":"<p>The DndProvider component provides React-DnD capabilities to your application. This must be injected with a backend via the <code>backend</code>prop, but it may can be injected with a <code>window</code>object.</p>"},{"location":"third-part-lib/react-dnd/API/#usage","title":"Usage","text":"<pre><code>import Backend from 'react-dnd-html5-backend'\nimport { DndProvider } from 'react-dnd'\n\nexport default class YourApp {\n  render() {\n    return (\n      &lt;DndProvider backend={HTML5Backend}&gt;\n        /* Your Drag-and-Drop Application */\n      &lt;/DndProvider&gt;\n    )\n  }\n}\n</code></pre>"},{"location":"third-part-lib/react-dnd/API/#props","title":"Props","text":"<ul> <li><code>backend</code>: Required. A React DnD backend. Unless you're writing a custom one, you probably want to use the HTML5 backend that ships with React DnD.</li> <li><code>context</code>: Optional. The backend context used to configure the backend. This is dependent on the backend implementation.</li> <li><code>options</code>: Optional. An options object used to configure the backend. This is dependent on the backend implementation.</li> </ul>"},{"location":"third-part-lib/react-dnd/API/#dragpreviewimage","title":"DragPreviewImage","text":"<p>A Component to render an HTML Image element as a disconnected drag preview.</p>"},{"location":"third-part-lib/react-dnd/API/#usage_1","title":"Usage","text":"<pre><code>import { DragSource, DragPreviewImage } from 'react-dnd'\n\nfunction DraggableHouse({ connectDragSource, connectDragPreview }) {\n  return (\n    &lt;&gt;\n      &lt;DragPreviewImage src=\"house_dragged.png\" connect={connectDragPreview} /&gt;\n      &lt;div ref={connectDragSource}&gt;\ud83c\udfe0&lt;/div&gt;\n    &lt;/&gt;\n  )\n}\nexport default DragSource(\n  /* ... */\n  (connect, monitor) =&gt; ({\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n  }),\n)\n</code></pre>"},{"location":"third-part-lib/react-dnd/API/#props_1","title":"Props","text":"<ul> <li><code>connect</code>: Required. The drag preview connector function</li> </ul>"},{"location":"third-part-lib/react-dnd/React%20DnD/","title":"React DnD","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 456  \u9605\u8bfb1\u5206\u949f</p> <p>Drag and Drop for React.</p> <p>See the docs, tutorials and examples on the website:</p> <p>http://react-dnd.github.io/react-dnd/</p> <p>See the changelog on the Releases page:</p> <p>https://github.com/react-dnd/react-dnd/releases</p> <p>Questions? Find us on the Reactiflux Discord Server (#need-help)</p> <p>https://www.reactiflux.com/</p>"},{"location":"third-part-lib/react-dnd/React%20DnD/#technical-details","title":"Technical Details","text":"<ul> <li>ES Modules w/ Embedded CJS for Jest Testing</li> <li>Ships w/ TS Typings</li> <li>Browserlist Target: <code>&gt;0.25%, not dead</code></li> </ul>"},{"location":"third-part-lib/react-dnd/Testing/","title":"New to React DnD? Read the overview before jumping into the docs.","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5400  \u9605\u8bfb11\u5206\u949f</p>"},{"location":"third-part-lib/react-dnd/Testing/#testing","title":"Testing","text":"<p>React DnD is test-friendly. The whole drag and drop interaction, including the rendering of your components, as well as the side effects you perform in response to the drag and drop events, can be tested.</p> <p>There are several different approaches to testing React components. React DnD is not opinionated and lets you use either of them. Neither of those approaches require the browser event system to be available.</p> <p>A few test examples are included with the React DnD inside its <code>examples</code>folder. Run <code>yarn</code>and <code>yarn test</code>inside the <code>react-dnd</code>root folder to start them.</p>"},{"location":"third-part-lib/react-dnd/Testing/#with-create-react-app","title":"With create-react-app","text":"<p>If you are using <code>create-react-app</code>, which uses Jest to drive unit tests, you can use the react-app-rewired to override the default Jest configuration without ejecting.</p> <pre><code>/* config-overrides.js */\nmodule.exports = {\n  jest: config =&gt; {\n    config.moduleNameMapper = Object.assign({}, config.moduleNameMapper, {\n      '^dnd-core$': 'dnd-core/dist/cjs',\n      '^react-dnd$': 'react-dnd/dist/cjs',\n      '^react-dnd-html5-backend$': 'react-dnd-html5-backend/dist/cjs',\n      '^react-dnd-touch-backend$': 'react-dnd-touch-backend/dist/cjs',\n      '^react-dnd-test-backend$': 'react-dnd-test-backend/dist/cjs',\n      '^react-dnd-test-utils$': 'react-dnd-test-utils/dist/cjs',\n    })\n    return config\n  },\n}\n</code></pre>"},{"location":"third-part-lib/react-dnd/Testing/#testing-the-components-in-isolation","title":"Testing the Components in Isolation","text":"<p>If you are only interested in testing the rendering of your components in isolation, and not their interaction, you may use the <code>DecoratedComponent</code>static property available on any class wrapped with React DnD to access the original class. You may then test it with the different props without any dependency on React DnD, supplying an identity function to stub the connector methods.</p> <pre><code>import React from 'react'\nimport TestUtils from 'react-dom/test-utils'\nimport expect from 'expect'\nimport Box from './components/Box'\n\nit('can be tested independently', () =&gt; {\n  // Obtain the reference to the component before React DnD wrapping\n  const OriginalBox = Box.DecoratedComponent\n\n  // Stub the React DnD connector functions with an identity function\n  const identity = el =&gt; el\n\n  // Render with one set of props and test\n  let root = TestUtils.renderIntoDocument(\n    &lt;OriginalBox name=\"test\" connectDragSource={identity} /&gt;,\n  )\n  let div = TestUtils.findRenderedDOMComponentWithTag(root, 'div')\n  expect(div.props.style.opacity).toEqual(1)\n\n  // Render with another set of props and test\n  root = TestUtils.renderIntoDocument(\n    &lt;OriginalBox name=\"test\" connectDragSource={identity} isDragging /&gt;,\n  )\n  div = TestUtils.findRenderedDOMComponentWithTag(root, 'div')\n  expect(div.props.style.opacity).toEqual(0.4)\n})\n</code></pre>"},{"location":"third-part-lib/react-dnd/Testing/#testing-the-drag-and-drop-interaction","title":"Testing the Drag and Drop Interaction","text":"<p>If you want to test the whole interaction, and not only the individual component rendering, you should use the test backend. The test backend does not require the DOM so you can also use it with <code>ReactShallowRenderer</code>.</p> <p>This is currently the least documented part of React DnD because it exposes the underlying concepts from the DnD Core, the library powering React DnD inside. You can learn more about the test backend and its methods from the DnD Core tests.</p> <p>First, you need to install the test backend:</p> <pre><code>npm install --save-dev react-dnd-test-backend\n</code></pre> <p>Here are some examples to get you started:</p> <pre><code>import React from 'react'\nimport { wrapInTestContext } from 'react-dnd-test-utils'\nimport { DragDropContext } from 'react-dnd'\nimport TestUtils from 'react-dom/test-utils'\nimport expect from 'expect'\nimport Box from './components/Box'\n\nit('can be tested with the testing backend', () =&gt; {\n  // Render with the test context that uses the test backend\n  const BoxContext = wrapInTestContext(Box)\n  const root = TestUtils.renderIntoDocument(&lt;BoxContext name=\"test\" /&gt;)\n\n  // Obtain a reference to the backend\n  const backend = root.getManager().getBackend()\n\n  // Test that the opacity is 1\n  let div = TestUtils.findRenderedDOMComponentWithTag(root, 'div')\n  expect(div.props.style.opacity).toEqual(1)\n\n  // Find the drag source ID and use it to simulate the dragging operation\n  const box = TestUtils.findRenderedComponentWithType(root, Box)\n  backend.simulateBeginDrag([box.getHandlerId()])\n\n  // Verify that the div changed its opacity\n  div = TestUtils.findRenderedDOMComponentWithTag(root, 'div')\n  expect(div.style.opacity).toEqual(0.4)\n\n  // See other backend.simulate* methods for more!\n})\n</code></pre>"},{"location":"third-part-lib/react-dnd/Testing/#testing-with-enzyme","title":"Testing with Enzyme","text":"<p>Enzyme is a commonly-used tool for testing React components. To use it with react-dnd, you'll need to call <code>.instance()</code>on <code>mount</code>-ed nodes to access the react-dnd helper methods:</p> <pre><code>import { getBackendFromInstance } from 'react-dnd-test-utils'\n\nvar root = Enzyme.mount(&lt;BoxContext name=\"test\" /&gt;)\n\n// ...\n\nvar backend = getBackendFromInstance(root)\nvar manager = backend.manager\n\n// ...\n\nbackend.simulateHover([dustbin.instance().getHandlerId()])\n</code></pre>"},{"location":"third-part-lib/react-dnd/Tutorial/","title":"Tutorial","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 48627  \u9605\u8bfb98\u5206\u949f</p> <p>Now that you've read the overview, it's adventure time!</p> <p></p> <p>In this tutorial, we're going to build a Chess game with React and React DnD. I'm kidding! Writing a full-blown Chess game is totally out of scope of this tutorial. What we're going to build is a tiny app with a Chess board and a lonely Knight. The Knight will be draggable according to the Chess rules.</p> <p>If you're comfortable with React already, feel free to skip ahead to the final section: Adding Drag-and-Drop Interaction</p> <p>We will use this example to demonstrate the data-driven philosophy of <code>react-dnd</code>. You will learn how to create a drag source and a drop target, wire them together with your React components, and change their appearance in response to the drag and drop events.</p> <p>Now let's build something!</p>"},{"location":"third-part-lib/react-dnd/Tutorial/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Setup</li> <li>Building the Game</li> <li>Identifying the Components</li> <li>Creating the Components</li> <li>Adding Game State</li> <li>Adding Drag-and-Drop Interaction</li> <li>Setting up the Drag-and-Drop Context</li> <li>Define Drag Types</li> <li>Make the Knight Draggable</li> <li>Make the Board Squares Droppable</li> <li>Add a Drag Preview Image</li> <li>Concluding Words</li> </ul>"},{"location":"third-part-lib/react-dnd/Tutorial/#setup","title":"Setup","text":"<p>In this tutorial, the code examples are use function-components and modern JavaScript syntax. It's recommended to use a build-step to transpile these features into your target environment. We recommend using create-react-app.</p> <p>The app we're going to build is available as an example on this website.</p>"},{"location":"third-part-lib/react-dnd/Tutorial/#building-the-game","title":"Building the Game","text":""},{"location":"third-part-lib/react-dnd/Tutorial/#identifying-the-components","title":"Identifying the Components","text":"<p>We're going to start by creating some React components first, with no thoughts of the drag and drop interaction. Which components is our Lonely Knight app going to be made of? I can think of a few:</p> <ul> <li><code>Knight</code>, our lonely knight piece;</li> <li><code>Square</code>, a single square on the board;</li> <li><code>Board</code>, the whole board with 64 squares.</li> </ul> <p>Let's consider their props.</p> <ul> <li><code>Knight</code>probably needs no props. It has a position, but there's no reason for the <code>Knight</code>to know it, because it can be positioned by being placed into a <code>Square</code>as a child.</li> <li>It is tempting to give <code>Square</code>its position via props, but this, again, is not necessary, because the only information it really needs for the rendering is the color. I'm going to make <code>Square</code>white by default, and add a <code>black</code>boolean prop. And of course <code>Square</code>may accept a single child: the chess piece that is currently on it. I chose white as the default background color to match the browser defaults.</li> <li>The <code>Board</code>is tricky. It makes no sense to pass <code>Square</code>s as children to it, because what else could a board contain? Therefore it probably owns the <code>Square</code>s. But then, it also needs to own the <code>Knight</code>because this guy needs to be placed inside one of those <code>Square</code>s. This means that the <code>Board</code>needs to know the knight's current position. In a real Chess game, the <code>Board</code>would accept a data structure describing all the pieces, their colors and positions, but for us, a <code>knightPosition</code>prop will suffice. We will use two-item arrays as coordinates, with <code>[0, 0]</code>referring to the A8 square. Why A8 instead of A1? To match the browser coordinate orientation. I tried it another way and it just messed with my head too much.</li> </ul> <p>Where will the current state live? I really don't want to put it into the <code>Board</code>component. It's a good idea to have as little state in your components as possible, and because the <code>Board</code>will already have some layout logic, I don't want to also burden it with managing the state.</p> <p>The good news is, it doesn't matter at this point. We're just going to write the components as if the state existed somewhere, and make sure that they render correctly when they receive it via props, and think about managing the state afterwards!</p>"},{"location":"third-part-lib/react-dnd/Tutorial/#creating-the-components","title":"Creating the Components","text":"<p>I prefer to start bottom-up, because this way I'm always working with something that already exists. If I were to build the <code>Board</code>first, I wouldn't see my results until I'm done with the <code>Square</code>. On the other hand, I can build and see the <code>Square</code>right away without even thinking of the <code>Board</code>. I think that the immediate feedback loop is important (you can tell that by another project I work on).</p> <p>In fact I'm going to start with the <code>Knight</code>. It doesn't have any props at all, and it's the easiest one to build:</p> <pre><code>import React from 'react'\n\nexport default function Knight() {\n  return &lt;span&gt;\u2658&lt;/span&gt;\n}\n</code></pre> <p>Yes, \u2658 is the Unicode knight! It's gorgeous. We could've made its color a prop, but in our example we're not going to have any black knights, so there is no need for that.</p> <p>It seems to render fine, but just to be sure, I immediately changed my entry point to test it:</p> <pre><code>import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Knight from './Knight'\n\nReactDOM.render(&lt;Knight /&gt;, document.getElementById('root'))\n</code></pre> <p></p> <p>I'm going to do this every time I work on another component, so that I always have something to render. In a larger app, I would use a component playground like cosmos so I'd never write the components in the dark.</p> <p>I see my <code>Knight</code>on the screen! Time to go ahead and implement the <code>Square</code>now. Here is my first stab:</p> <pre><code>import React from 'react'\n\nexport default function Square({ black }) {\n  const fill = black ? 'black' : 'white'\n  return &lt;div style={{ backgroundColor: fill }} /&gt;\n}\n</code></pre> <p>Now I change the entry point code to see how the <code>Knight</code>looks inside a <code>Square</code>:</p> <pre><code>import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Knight from './Knight'\nimport Square from './Square'\n\nReactDOM.render(\n  &lt;Square black&gt;\n    &lt;Knight /&gt;\n  &lt;/Square&gt;,\n  document.getElementById('root'),\n)\n</code></pre> <p>Sadly, the screen is empty. I made a few mistakes:</p> <ul> <li>I forgot to give <code>Square</code>any dimensions so it just collapses. I don't want it to have any fixed size, so I'll give it <code>width: '100%'</code>and <code>height: '100%'</code>to fill the container.</li> <li>I forgot to put <code>{children}</code>inside the <code>div</code>returned by the <code>Square</code>, so it ignores the <code>Knight</code>passed to it.</li> </ul> <p>Even after correcting these two mistakes, I still can't see my <code>Knight</code>when the <code>Square</code>is <code>black</code>. That's because the default page body text color is black, so it is not visible on the black <code>Square</code>. I could have fixed this by giving <code>Knight</code>a color prop, but a much simpler fix is to set a corresponding <code>color</code>style in the same place where I set <code>backgroundColor</code>. This version of <code>Square</code>corrects the mistakes and works equally great with both colors:</p> <pre><code>import React from 'react'\n\nexport default function Square({ black, children }) {\n  const fill = black ? 'black' : 'white'\n  const stroke = black ? 'white' : 'black'\n\n  return (\n    &lt;div\n      style={{\n        backgroundColor: fill,\n        color: stroke,\n        width: '100%',\n        height: '100%',\n      }}\n    &gt;\n      {children}\n    &lt;/div&gt;\n  )\n}\n</code></pre> <p></p> <p>Finally, time to get started with the <code>Board</code>! I'm going to start with an extremely na\u00efve version that just draws the same single square:</p> <pre><code>import React from 'react'\nimport Square from './Square'\nimport Knight from './Knight'\n\nexport default function Board() {\n  return (\n    &lt;div&gt;\n      &lt;Square black&gt;\n        &lt;Knight /&gt;\n      &lt;/Square&gt;\n    &lt;/div&gt;\n  )\n}\n</code></pre> <p>My only intention so far is to make it render, so that I can start tweaking it:</p> <pre><code>import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Board from './Board'\n\nReactDOM.render(\n  &lt;Board knightPosition={[0, 0]} /&gt;,\n  document.getElementById('root'),\n)\n</code></pre> <p>Indeed, I can see the same single square. I'm now going to add a whole bunch of them! But I don't know where to start. What do I put in <code>render</code>? Some kind of a <code>for</code>loop? A <code>map</code>over some array?</p> <p>To be honest, I don't want to think about it now. I already know how to render a single square with or without a knight. I also know the knight's position thanks to the <code>knightPosition</code>prop. This means I can write the <code>renderSquare</code>method and not worry about rendering the whole board just yet.</p> <p>My first attempt at <code>renderSquare</code>looks like this:</p> <pre><code>function renderSquare(x, y, [knightX, knightY]) {\n  const black = (x + y) % 2 === 1\n  const isKnightHere = knightX === x &amp;&amp; knightY === y\n  const piece = isKnightHere ? &lt;Knight /&gt; : null\n\n  return &lt;Square black={black}&gt;{piece}&lt;/Square&gt;\n}\n</code></pre> <p>I can already give it a whirl by changing the Board's rendering to be</p> <pre><code>export default function Board({ knightPosition }) {\n  return (\n    &lt;div\n      style={{\n        width: '100%',\n        height: '100%',\n      }}\n    &gt;\n      {renderSquare(0, 0, knightPosition)}\n      {renderSquare(1, 0, knightPosition)}\n      {renderSquare(2, 0, knightPosition)}\n    &lt;/div&gt;\n  )\n}\n</code></pre> <p></p> <p>At this point, I realize that I forgot to give my squares any layout. I'm going to use Flexbox. I added some styles to the root <code>div</code>, and also wrapped the <code>Square</code>s into <code>div</code>s so I could lay them out. Generally it's a good idea to keep components encapsulated and ignorant of how they're being laid out, even if this means adding wrapper <code>div</code>s.</p> <pre><code>import React from 'react'\nimport Square from './Square'\nimport Knight from './Knight'\n\nfunction renderSquare(i, [knightX, knightY]) {\n  const x = i % 8\n  const y = Math.floor(i / 8)\n  const isKnightHere = x === knightX &amp;&amp; y === knightY\n  const black = (x + y) % 2 === 1\n  const piece = isKnightHere ? &lt;Knight /&gt; : null\n\n  return (\n    &lt;div key={i} style={{ width: '12.5%', height: '12.5%' }}&gt;\n      &lt;Square black={black}&gt;{piece}&lt;/Square&gt;\n    &lt;/div&gt;\n  )\n}\n\nexport default function Board({ knightPosition }) {\n  const squares = []\n  for (let i = 0; i &lt; 64; i++) {\n    squares.push(renderSquare(i, knightPosition))\n  }\n\n  return (\n    &lt;div\n      style={{\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        flexWrap: 'wrap',\n      }}\n    &gt;\n      {squares}\n    &lt;/div&gt;\n  )\n}\n</code></pre> <p></p> <p>It looks pretty awesome! I don't know how to constrain the <code>Board</code>to maintain a square aspect ratio, but this should be easy to add later.</p> <p>Think about it for a moment. We just went from nothing to being able to move the <code>Knight</code>on a beautiful <code>Board</code>by changing the <code>knightPosition</code>:</p> <pre><code>import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Board from './Board'\n\nReactDOM.render(\n  &lt;Board knightPosition={[7, 4]} /&gt;,\n  document.getElementById('root'),\n)\n</code></pre> <p></p> <p>The declarativeness is fantastic! That's why people love working with React.</p>"},{"location":"third-part-lib/react-dnd/Tutorial/#adding-game-state","title":"Adding Game State","text":"<p>We want to make the <code>Knight</code>draggable. What we need in order to pull this off is to keep the current <code>knightPosition</code>in some kind of state storage, and have some way to change it.</p> <p>Because setting up this state requires some thought, we won't try to implement dragging at the same time. Instead, we'll start with a simpler implementation. We will move the <code>Knight</code>when you click a particular <code>Square</code>, but only if this is allowed by the Chess rules. Implementing this logic should give us enough insight into managing the state, so we can replace clicking with the drag and drop once we've dealt with that.</p> <p>React is not opinionated about the state management or the data flow; you can use Flux, Redux, Rx or even Backbone nah, avoid fat models and separate your reads from writes.</p> <p>I don't want to bother with installing or setting up Redux for this simple example, so I'm going to follow a simpler pattern. It won't scale as well as Redux, but I also don't need it to. I have not decided on the API for my state manager yet, but I'm going to call it <code>Game</code>, and it will definitely need to have some way of signaling data changes to my React code.</p> <p>Since I know this much, I can rewrite my <code>index.js</code>with a hypothetical <code>Game</code>that doesn't exist yet. Note that this time, I'm writing my code in blind, not being able to run it yet. This is because I'm still figuring out the API:</p> <pre><code>import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Board from './Board'\nimport { observe } from './Game'\n\nconst root = document.getElementById('root')\n\nobserve(knightPosition =&gt;\n  ReactDOM.render(&lt;Board knightPosition={knightPosition} /&gt;, root),\n)\n</code></pre> <p>What is this <code>observe</code>function I import? It's just the most minimal way I can think of to subscribe to a changing state. I could've made it an <code>EventEmitter</code>but why on Earth even go there when all I need is a single change event? I could have made <code>Game</code>an object model, but why do that, when all I need is a stream of values?</p> <p>Just to verify that this subscription API makes some sense, I'm going to write a fake <code>Game</code>that emits random positions:</p> <pre><code>export function observe(receive) {\n  const randPos = () =&gt; Math.floor(Math.random() * 8)\n  setInterval(() =&gt; receive([randPos(), randPos()]), 500)\n}\n</code></pre> <p>It feels so good to be back in the rendering game!</p> <p></p> <p>This is obviously not very useful. If we want some interactivity, we're going to need a way to modify the <code>Game</code>state from our components. For now, I'm going to keep it simple and expose a <code>moveKnight</code>function that directly modifies the internal state. This is not going to fare well in a moderately complex app where different state storages may be interested in updating their state in response to a single user action, but in our case this will suffice:</p> <pre><code>let knightPosition = [0, 0]\nlet observer = null\n\nfunction emitChange() {\n  observer(knightPosition)\n}\n\nexport function observe(o) {\n  if (observer) {\n    throw new Error('Multiple observers not implemented.')\n  }\n\n  observer = o\n  emitChange()\n}\n\nexport function moveKnight(toX, toY) {\n  knightPosition = [toX, toY]\n  emitChange()\n}\n</code></pre> <p>Now, let's go back to our components. Our goal at this point is to move the <code>Knight</code>to a <code>Square</code>that was clicked. One way to do that is to call <code>moveKnight</code>from the <code>Square</code>itself. However, this would require us to pass the <code>Square</code>its position. Here is a good rule of thumb:</p> <p>If a component doesn't need some data for rendering, it doesn't need that data at all.</p> <p>The <code>Square</code>does not need to know its position to render. Therefore, it's best to avoid coupling it to the <code>moveKnight</code>method at this point. Instead, we are going to add an <code>onClick</code>handler to the <code>div</code>that wraps the <code>Square</code>inside the <code>Board</code>:</p> <pre><code>import React from 'react'\nimport Square from './Square'\nimport Knight from './Knight'\nimport { moveKnight } from './Game'\n\n/* ... */\n\nfunction renderSquare(i, knightPosition) {\n  /* ... */\n  return &lt;div onClick={() =&gt; handleSquareClick(x, y)}&gt;{/* ... */}&lt;/div&gt;\n}\n\nfunction handleSquareClick(toX, toY) {\n  moveKnight(toX, toY)\n}\n</code></pre> <p>We could have also added an <code>onClick</code>prop to <code>Square</code>and used it instead, but since we're going to remove the click handler in favor of the drag and drop interface later anyway, why bother.</p> <p>The last missing piece right now is the Chess rule check. The <code>Knight</code>can't just move to an arbitrary square, it is only allowed to make L-shaped moves. I'm adding a <code>canMoveKnight(toX, toY)</code>function to the <code>Game</code>and changing the initial position to A2 to match the Chess rules:</p> <pre><code>let knightPosition = [1, 7]\n\n/* ... */\n\nexport function canMoveKnight(toX, toY) {\n  const [x, y] = knightPosition\n  const dx = toX - x\n  const dy = toY - y\n\n  return (\n    (Math.abs(dx) === 2 &amp;&amp; Math.abs(dy) === 1) ||\n    (Math.abs(dx) === 1 &amp;&amp; Math.abs(dy) === 2)\n  )\n}\n</code></pre> <p>Finally, I'm adding a <code>canMoveKnight</code>check to the <code>handleSquareClick</code>method:</p> <pre><code>import { canMoveKnight, moveKnight } from './Game'\n\n/* ... */\n\nfunction handleSquareClick(toX, toY) {\n  if (canMoveKnight(toX, toY)) {\n    moveKnight(toX, toY)\n  }\n}\n</code></pre> <p></p> <p>Working great so far!</p>"},{"location":"third-part-lib/react-dnd/Tutorial/#adding-drag-and-drop-interaction","title":"Adding Drag and Drop Interaction","text":"<p>This is the part that actually prompted me to write this tutorial. We are now going to see how easy React DnD makes it to add some drag and drop interaction to your existing components.</p> <p>This part assumes you are at least somewhat familiar with the concepts presented in the overview, such as the backends, the collecting functions, the types, the items, the drag sources, and the drop targets. If you didn't understand everything, it's fine, but make sure you at least give it a chance before jumping into the coding process.</p> <p>We're going to start by installing React DnD and the HTML5 backend for it:</p> <pre><code>yarn add react-dnd react-dnd-html5-backend\n</code></pre> <p>In the future, you might want to explore alternative third-party backends, such as the touch backend, but this is out of scope of this tutorial.</p>"},{"location":"third-part-lib/react-dnd/Tutorial/#setting-up-the-drag-and-drop-context","title":"Setting up the Drag and Drop Context","text":"<p>The first thing we need to set up in our app is the <code>DndProvider</code>. This should be mounted near the top of our application. We need this to specify that we're going to use the HTML5Backend.</p> <pre><code>import React from 'react'\nimport { DndProvider } from 'react-dnd'\nimport Backend from 'react-dnd-html5-backend'\n\nfunction Board() {\n  /* ... */\n  return &lt;DndProvider backend={Backend}&gt;...&lt;/DndProvider&gt;\n}\n</code></pre>"},{"location":"third-part-lib/react-dnd/Tutorial/#define-drag-types","title":"Define Drag Types","text":"<p>Next, I'm going to create the constants for the draggable item types. We're only going to have a single item type in our game, a <code>KNIGHT</code>. I'm creating a <code>Constants</code>module that exports it:</p> <pre><code>export const ItemTypes = {\n  KNIGHT: 'knight',\n}\n</code></pre> <p>The preparation work is done now. Let's make the <code>Knight</code>draggable!</p>"},{"location":"third-part-lib/react-dnd/Tutorial/#make-the-knight-draggable","title":"Make the Knight Draggable","text":"<p>The <code>useDrag</code>hook accepts a specification object. In this object, <code>item.type</code>is set to the constant we just defined, so now we need to write a collecting function.</p> <pre><code>const [{ isDragging }, drag] = useDrag({\n  item: { type: ItemTypes.KNIGHT },\n  collect: monitor =&gt; ({\n    isDragging: !!monitor.isDragging(),\n  }),\n})\n</code></pre> <p>Let's break this down:</p> <ul> <li><code>useDrag</code>accepts a specification object. The <code>item.type</code>property is required, and specifies the type of item being dragged. We could also attach extra information here to identify the kind of piece being dragged, but since this is a toy application we only need to define the type.</li> <li><code>collect</code>defines a collector function: this is basically a way to transform state from the drag-and-drop system into usable props for your components.</li> <li>The <code>result array</code>contains</li> <li>A <code>props</code>object as the first item - this contains the properties you collected from the drag-and-drop system.</li> <li>A ref function as the second item. This is used to attach your DOM elements to react-dnd.</li> </ul> <p>Let's take a look at the whole <code>Knight</code>component now, including the <code>useDrag</code>call and the updated <code>render</code>function:</p> <pre><code>import React from 'react'\nimport { ItemTypes } from './Constants'\nimport { useDrag } from 'react-dnd'\n\nfunction Knight() {\n  const [{isDragging}, drag] = useDrag({\n    item: { type: ItemTypes.KNIGHT },\n        collect: monitor =&gt; ({\n            isDragging: !!monitor.isDragging(),\n        }),\n  })\n\n  return (\n    &lt;div\n      ref={drag}\n      style={{\n        opacity: isDragging ? 0.5 : 1,\n        fontSize: 25,\n        fontWeight: 'bold',\n        cursor: 'move',\n      }}\n    &gt;\n      \u2658\n    &lt;/div&gt;,\n  )\n}\n\nexport default Knight\n</code></pre> <p></p>"},{"location":"third-part-lib/react-dnd/Tutorial/#make-the-board-squares-droppable","title":"Make the Board Squares Droppable","text":"<p>The <code>Knight</code>is now a drag source, but there are no drop targets to handle the drop yet. We're going to make the <code>Square</code>a drop target now.</p> <p>This time, we can't avoid passing the position to the <code>Square</code>. After all, how can the <code>Square</code>know where to move the dragged knight if the <code>Square</code>doesn't know its own position? On the other hand, it still feels wrong because the <code>Square</code>as an entity in our application has not changed, and if it used to be simple, why complicate it? When you face this dilemma, it's time to separate the smart and dumb components.</p> <p>I'm going to introduce a new component called the <code>BoardSquare</code>. It renders the good old <code>Square</code>, but is also aware of its position. In fact, it's encapsulating some of the logic that the <code>renderSquare</code>method inside the <code>Board</code>used to do. React components are often extracted from such render submethods when the time is right.</p> <p>Here is the <code>BoardSquare</code>I extracted:</p> <pre><code>import React from 'react'\nimport Square from './Square'\n\nexport default function BoardSquare({ x, y, children }) {\n  const black = (x + y) % 2 === 1\n  return &lt;Square black={black}&gt;{children}&lt;/Square&gt;\n}\n</code></pre> <p>I also changed the <code>Board</code>to use it:</p> <pre><code>/* ... */\nimport BoardSquare from './BoardSquare'\n\nfunction renderSquare(i, knightPosition) {\n  const x = i % 8\n  const y = Math.floor(i / 8)\n  return (\n    &lt;div key={i} style={{ width: '12.5%', height: '12.5%' }}&gt;\n      &lt;BoardSquare x={x} y={y}&gt;\n        {renderPiece(x, y, knightPosition)}\n      &lt;/BoardSquare&gt;\n    &lt;/div&gt;\n  )\n}\n\nfunction renderPiece(x, y, [knightX, knightY]) {\n  if (x === knightX &amp;&amp; y === knightY) {\n    return &lt;Knight /&gt;\n  }\n}\n</code></pre> <p>Let's now wrap the <code>BoardSquare</code>with a <code>useDrop</code>hook. I'm going to write a drop target specification that only handles the <code>drop</code>event:</p> <pre><code>const [, drop] = useDrop({\n  accept: ItemTypes.KNIGHT,\n  drop: () =&gt; moveKnight(x, y),\n})\n</code></pre> <p>See? The <code>drop</code>method has the <code>props</code>of the <code>BoardSquare</code>in scope, so it knows where to move the knight when it drops. In a real app, I might also use <code>monitor.getItem()</code>to retrieve the dragged item that the drag source returned from <code>beginDrag</code>, but since we only have a single draggable thing in the whole application, I don't need it.</p> <p>In my collecting function I'm going to ask the monitor whether the pointer is currently over the <code>BoardSquare</code>so I can highlight it:</p> <pre><code>const [{ isOver, canDrop }, drop] = useDrop({\n  accept: ItemTypes.KNIGHT,\n  drop: () =&gt; moveKnight(x, y),\n  collect: mon =&gt; ({\n    isOver: !!mon.isOver(),\n    canDrop: !!mon.canDrop(),\n  }),\n})\n</code></pre> <p>After changing the <code>render</code>function to connect the drop target and show the highlight overlay, here is what <code>BoardSquare</code>came to be:</p> <pre><code>import React from 'react'\nimport Square from './Square'\nimport { canMoveKnight, moveKnight } from './Game'\nimport { ItemTypes } from './Constants'\nimport { useDrop } from 'react-dnd'\n\nfunction BoardSquare({ x, y, children }) {\n  const black = (x + y) % 2 === 1\n    const [{ isOver }, drop] = useDrop({\n        accept: ItemTypes.KNIGHT,\n        drop: () =&gt; moveKnight(x, y),\n        collect: monitor =&gt; ({\n            isOver: !!monitor.isOver(),\n        }),\n    })\n\n  return (\n    &lt;div\n      ref={drop}\n      style={{\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n      }}\n    &gt;\n      &lt;Square black={black}&gt;{children}&lt;/Square&gt;\n      {isOver &amp;&amp; (\n        &lt;div\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            height: '100%',\n            width: '100%',\n            zIndex: 1,\n            opacity: 0.5,\n            backgroundColor: 'yellow',\n          }}\n        /&gt;\n      )}\n    &lt;/div&gt;,\n  )\n}\n\nexport default BoardSquare\n</code></pre> <p></p> <p>This is starting to look good! There is just one change left to complete this tutorial. We want to highlight the <code>BoardSquare</code>s that represent the valid moves, and only process the drop if it happened over one of those valid <code>BoardSquare</code>s.</p> <p>Thankfully, it is really easy to do with React DnD. I just need to define a <code>canDrop</code>method in my drop target specification:</p> <pre><code>const [{ isOver, canDrop }, drop] = useDrop({\n  accept: ItemTypes.KNIGHT,\n  canDrop: () =&gt; canMoveKnight(x, y),\n  drop: () =&gt; moveKnight(x, y),\n  collect: monitor =&gt; ({\n    isOver: !!monitor.isOver(),\n    canDrop: !!monitor.canDrop(),\n  }),\n})\n</code></pre> <p>I'm also adding <code>monitor.canDrop()</code>to my collecting function, as well as some overlay rendering code to the component:</p> <pre><code>import React from 'react'\nimport Square from './Square'\nimport { canMoveKnight, moveKnight } from './Game'\nimport { ItemTypes } from './Constants'\nimport { useDrop } from 'react-dnd'\n\nfunction BoardSquare({ x, y, children }) {\n  const black = (x + y) % 2 === 1\n  const [{ isOver }, drop] = useDrop({\n    accept: ItemTypes.KNIGHT,\n    drop: () =&gt; moveKnight(x, y),\n    canDrop: () =&gt; canMoveKnight(x, y),\n    collect: monitor =&gt; ({\n      isOver: !!monitor.isOver(),\n      canDrop: !!monitor.canDrop(),\n    }),\n  })\n\n  return (\n    &lt;div\n      ref={drop}\n      style={{\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n      }}\n    &gt;\n      &lt;Square black={black}&gt;{children}&lt;/Square&gt;\n      {isOver &amp;&amp; !canDrop &amp;&amp; &lt;Overlay color=\"red\" /&gt;}\n      {!isOver &amp;&amp; canDrop &amp;&amp; &lt;Overlay color=\"yellow\" /&gt;}\n      {isOver &amp;&amp; canDrop &amp;&amp; &lt;Overlay color=\"green\" /&gt;}\n    &lt;/div&gt;,\n  )\n}\n\nexport default BoardSquare\n</code></pre> <p></p>"},{"location":"third-part-lib/react-dnd/Tutorial/#add-a-drag-preview-image","title":"Add a Drag Preview Image","text":"<p>The last thing I want to demonstrate is drag preview customization. Sure, the browser will screenshot the DOM node, but what if we want to show a custom image?</p> <p>We are lucky again, because it is easy to do with React DnD. We just need to use the preview ref provided by the <code>useDrag</code>hook.</p> <pre><code>const [{ isDragging }, drag, preview] = useDrag({\n  item: { type: ItemTypes.KNIGHT },\n  collect: monitor =&gt; ({\n    isDragging: !!monitor.isDragging(),\n  }),\n})\n</code></pre> <p>This lets us connect up a <code>dragPreview</code>in <code>render</code>method, just like we used for drag items. <code>react-dnd</code>also provides a utility component, <code>DragPreviewImage</code>, which presents an image as a drag preview using this ref.</p> <pre><code>  const knightImage = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAOD1JREFUeAHtnQm8nHdZ75939pkzZ805OVtyktMkTZOmTZrupaWUlkJBBUSKKIJ6URBRP16vF71yBVHB+5ErcvWjotWiVJZ6QfbSUmhLpemSpkmaNHvOvi9zZt9n7vf3nx7oLXCygJBq3mTOzLz7++zP73n+/zE7v5ynwHkKnKfAeQqcp8B5CpynwHkKnKfAeQqcp8B5CpynwHkKnKfAeQqcp8DKFHj60Xsu/dB73/bJB+75+PUr7/nvuzXw73v6c//s9Xrdd89dH/zwZ/72Pe9Mzz1ul2zffh13PfCjunPfj+rC58J1YYb/83f84Zf3fvUj72xvarKBgSttTXfn2nr9bv+P6v7+0zIEZgTu+/hffHXk8U+/fE3/ZvPVK1b3RS0UbrZ04iXX/iAZcuzYsfDjD9xzF9f0TnXe/xQMkVlanDwxoHcRhPfmA9/87K4jD/7FS9raV9X9VqkH/FYPRVrqpVy2Xsmlvr64mP+BmK1UarJz1+fuGDp+eP/PcOnzDIH4wdGDj96Xmp0cmTj61NFiYuofF0b3px596N4r6r64V65WvXwp6/n8dc/vq3iJ+VGvlJsNVrJjIxOjJ36hXj81Eb+X1BdTkxc9es/nJ/c/+tXe/sGNw57n1b7Xvsvr/0M59RMn9l5YL5RvbWuOjUWj8fFAJLpxZuTI/z5xYHd/U9hv4UhsQz03s+Hw4YM2N/KEtQbqlsskzPN75nnoSalkc5MnzB8MWqEatOauC/7BsyMJs82fXSbY6b4npg7d+MVP/eOD0yf2W1N7t7V3dn30dI79D8OQ0eNP/fzi9NidqcU5Gynmrauzy2CKjY+N2/EDj5lXyVks1myx5riNTgzjM6pWKmZ54TukBDClgvyOnTxkmVTCal7E+iueNcXCfw8hz4gho8cff8M//80HPxkoJLmHZlvMVsSUe/7TMCQ1N7F58uhTdy6MnbBosGqzYyft8BOT1tzSYflc1qYnjlspNWstsZgFm1osV65auZDCc+TNZ2EYUrdKpWqFYtEq5RErplMWi3fYfKTN2ttbO0pzI5cHOwf2YHLqKxEV8+gdffKh3/nI+37v/W3etG2/+lZ7+NEnLOP1ijEHVzp2edsLXkMggv/EgSceSM1O2MTxw9YUqVo8jKGZOmpjRxYtBFGT2aQ186SRkM9S6SVbyubN7ytZIBy0YDCMyfKZVy5azV81X60KQ5IWgkKV3JLV0aKZ6ZHd1USyOHTi6Edj8db3dHd3zywTcPmd+wjsf/T+u/7+g+97Q6c3a5dcfhXHZ+3g3m/Ypa9//96+vr7c8r4rvb/go6xDux9+/cLwkd756aM2NX7IjhzaZ7NzM1atByybL1g2m4K4VYs2NVsiW7RECrp4QQuF2qxcj1ihUrc8ZqtUrlswFOEVMB9aVrOcVatlm50ctYNP7bLZoWfCpaWZtxUSs9O5hdnbn0vUej2x/qF7Pnnyz3/n9W9oCc3b4KZNFoqFbWp+ycb3m12ycfA9z91/pc8vaA1BKn37vvaZv5s88bQtzB20dHrGctmCLS5MQcw6zpm8IhS01ni75Qolm5xJWhizFcbwlEoVzFTZwkG/lUtFQuGqdbS1WN2rGmoCQ8s2PXUSBs5b/9oNFiQAWErMWntXn5WLqU8NHz305ni8+VO1UvKNd9/xt7d9+sPvss3bNtva3h6LxwNW8QXt6NCorb9+u23cuvVrKzHhudte0AxJp6c6PH+haXZhuL4wOW0FNKCYy1gAExQisWhqiuLIYzCjYtMzc/iIEkwi4SgXYIRn0bAMUx3mFC0WDVsgoDQBo1GDYzXPqqWE5esFGx0qWfrgXiuQsXT3rLXm1lZbv2H7KztWrX7lgw9+wz7/P/+s/qKfvcZ6VsUtyrVb4pjJXN6O7X3EXvXLH/j49u3bs88l+kqfX7AMGR8af/vCyMm/nhw7atnMlOXzOSvm0xaCIE2xKL7BbyHC10qlYml8Rh2JDRL61iF2HYMUwncE2beEQoRCIQKAJsLikBU4jxy83x/EtNUcg+dnpi2TK1qoqd1mKwWrFrttuGJ2/7GTdvSRe+zGn7va2uNhC7F/PNaGdoXs8LEjFlrVbde99CXvXokBz9/2gmSIopm54aE/Hxk6Zs/se8wS83NEUwVyCZgRj1vARwhbxexUCzyvB3H9FgmHrYjjrhLbxmL4imAAM1Uj7C2Z56vDoIDVcOhiYCAAM9CGcqFmZb57NRw/JtDwNR6vhYkp2/vNz1u9ZLZtx3briKJtQR/HhTgsZCNTCXv86w/Zm9/zF/dsueza4ecTfaXvL0ynXs5dHvTnwl4tbwUkd3FuEak0a27rQAuiuHCSPCS/KqLyXsxn0QazMJoQjoR5RSB0ne08vudZM7lJFWZkMgQAmLFAIAxDcO4+CMw5FOxK80I+orFqyXLJBetoX2+DGy4moqtj/nQeNA+tWsyW7aEH/8Ve/LO/Yre89rU/txLxv9u2F5yGlHLJq+dmRh4dObLPnsGu13HOfb2DMKL2rGRXrIZZsRrZdi6No8eRBwJsj1kEAudLZVtIkIOUCtbV1YGparFIBAaSOAbkX9CaGi8PZpWrFRhVhrlFNAqG4HJ8XhGT6DNfIEaIHeYzERvaZWjGzFLGDjz9Bdt8ze12+1v+y++3tKxZ+G5EX2ndKcGulQ7+YW6r18eiTz1w4EOHjx5829TEUQhXt9bmNov4A1YtZCFgwdn+UDhCNt7sJH52ccGmCVsDmRl8QBqH7rMiJmpsdJyoKWKDg+uIwPwQuWY+MvVaTWYOdUArksmsYx4K1AgSILofUxjE/EWjMnlRNC5iUfwVVsxGJxds3xN77KqX/YS9/pd/yy7a+eIWEsn0mdLoBcGQ3d+879YH777jy8n9d/v9PdusfcOV1je41aKEs/Wqz+qVElqRQQvi1trRTTIYR7qBRrD/yfkJy5zYZSMjhy2dWcCpF/E3SLw/il+JWCRYsEhUpgkfgKMvY+uW0KBsgUCAfMXn8zsmGDmJYdZaqJt0rupAM+JWQDtnl4imTpwkqkrZy1/9Vrv5llut7+Jr7m1e1feKM2WG9j/nTdZ9n/3Yu/7yt279k9V9l1nbhT9hHX1rbM3GrUAgMIPIyYetx1vwvdOa2nphyiq0AzNSLFg9tWjxEEIabyEEjpP8FXD4QYviQ/LY+gr+oOZHOwAWqzj/ItBJoVh2zp1QDE2pOr8jqc2zLer8D2YKpnj4i4nxBZuYmrKedVvt1Te81LZtv8I6e/q4TuVODjmr5ZxmyP5d995215/8yge2bLoaEL3ZAu09tm7zZRZrX21FOVsvhNDWMSEhi69qM0/Zt0XJM6qWWpqyiUNP2iKaUUicsBTaIT8RDFRJHjOYKL/FYEyVaKxcrqAJhMhIfBUNUbQUJjBQpl6HaQHC55aWZrSJd5gbwCelCKUrtYoNbtxi19z0Klvdf4FV8CuZMv6lWCFMO7vlnGWIqmyP/OvffK6rrcOLRqOWD7TZ+m1XAYmvtSqMCPAP5ImIKYAdJ/v2N8OcoNXKeUvMjtjIgV22cOJxq2RmLZurkF+gDXLQEL1cLlsM4qICaBNOnNxEjrzy7Gf5J0Vk0JttFZw2ZgsmRIjgfMpt0B7hX60tMbtg63br7RuwcOtqC7WtUthbLJbLZ+zMl9l3zjIk7svcXJ4fCjYDmWdqftllW712IymdEr4mF9XITyhMjURBcTEhFZx7ZvKkjR181BaGn7JqZhyEsGj+AP6CTJyMBMesGlEcAvtJJjMwEmIHQzIzLmkMhcKEv+BYZOpieRhnHiYvCQDBBGFSiZqJUssiJjEaa7KODkynF7CW9k6LtLRd1NLVf2SZuGfzfs4yZGF64k0hoAs/Nt4/sNNWb7oEwK4ZAkWJejA1ECyIRNeJ/+GXZasZS84N28mDu2zy6B4SuDQJXcg5acB2iOkD7Y0BqQhYFMrrIw+pWD4JpFIg+xZcQkilt6LCJl/F2mIya8pLlJMoJJYmVQm160RhCQtFzWanZyzUss7a+srUYPpOnA0TnnvMOcuQQmr+JZLaQNt6W7P5cqKnPhfZ+LHvFajm8fLjP+CJ5ZHo9MKwjR56yqZPHjB/OYu0l52jrpPkxYDVw2HyDaIw/DJ0BwYhXFbYXGptIQI7jjPPA1+J4DAPqrhr4xOiHKNMX+Ew3oGsHs2BQQZSvDg/Y/G2Ibvgoos5nyNrK3/P2lzpDOdkpi5opFzM9tZa1ljvthdZV98FOO5WkrGoZYmCijCjDpGUHVdJ8JYmJ2z6madt7vgh81F4CkJwEd1DuyJNYVDcDotHMS01cgacboWAQO+JBRJIcKeBgU1Id7e14ouU7LXgG5qbmxwDUEGiMDRECQkBgA8tkXMPwiz5omJxzsaG9wJAgqklErc6tnwff85RDcn11uN91n/pTda/cZv5Yh3m4StKIgjmyoOgfrSnChCYmhm2qeFneO2zYnbeol6Z7dQ2ME1BTJQPjUqSd5QqeaB3EslIq/nJ6muEy4vZmo1PzFhvF5oTX82+HAPyax5Ze6Dk/EsI0Q/yqoCB1bh+AJQ4BEjZ0hqx6QVM11KK5HOcezxssVVrP4QwffJUlcWV+HXOMYQH8uVyuX8JtQ/YqrZ15mvuwBEHnQnB8FsY+CObSFtyYcYKqTGbHjtgixSnqvkp0FaYUQMsRJqVJJYg+sRMwipEZU3xICYMJiQxZWwHGLHk7DTaFLB5ah4b+pvJWeLgXjnK65glfIYP0BHLhs+R40ezSDQVmSlaC0e1LmhZ6u/+fr81872QnuueGB7ezk57VyL6StvOKYbIVKUXE391ZGTy2rI/XhdY6PcFrJxt+IQaWXZqKWeZ2XlbmhqBoIcttzRCaDttdRoKlMD5AAB9RGE1suyh0Wkr++IWx08oUsungVjY1t7RZZ3d3dZPTvPIPV+ycnoBZHfJLhpoJdQlRZRZIqLC7WPmCBzI0OVHfDgXMaUqxmDKIjj8Yr5uc1OjJKmPW9UfttbWjjt5jp1nqyXnjA+RZkyOjd8xNDLxNp8/6LW2tHkh3mvlklevlL1KNuUlx054k0d2e7Mnd3uZmYNeaWnEq+YWAH0zuIsK4HvdK5ZrHhrhTS+kvcVs3Yu3tnsd/Ru83sFN3ujUhEcO48VaurxUpuBdceXl3i/9+ju9SKjm5XLsvzDrAd17QPMg+QHeI9A14GGpeHnuHZTYK+karKBm4tX0PV/wsuk5b3HmmFdKz+xIz09euJIWrLTtnGDI0NBQ5ODBA/dPTM3+YijcZG3NLdTByaAzS1YCEk8mEjY5MmpzOM7U1DHLLRxBqk+ar0xPFb7BhxSHQFsDSKgcfyZftZlEznzkFPFVa+yCCy+xw0eP2X33kyxS525v67QU4OEDD9xvF27eYJdd+yJb39dsnR0tFm8C31ICiJmEGdDOj+9AV1CKckn1E7UPUf4lugM+INEku0E1y/l5m585YWNDzxBGFz+yEtFX2vYjN1ljY/P9CwsTTyJx3UquQqEmF7IWMknTK59K2uLsrGXmpswyE3SBJGFEiognD8HwCmTMYYpPOA9X/SuRRmfJxrN5/AnE7GxfZZMT4/bZr3za0eGn3vBTtm5g0J7cvcuO7nvKbnvJldbTRck1jQ8h64fEUFqoryD4hiNHex1jlKuUVGjRN3wZegTqznfMZN1iVspVbRyGRPY/fmM2O9fb1NTFTZ/Z8iPTEB7SQzNePTk1Mm6BSHe8bTV2P2B5krQMPiO9lLBF/ERi7KBV5w9ZOHfSQqVpC5STFiChk2/xExVFgMJjdHgo+ql/C0avWBFH3QI8vqlvNRo2aeCMtq5vlT32+KP2lfu+aP/0T3+PVvRZPTlh1dQU+QbZP4hvEQ1QeBulvh5C9NEPNIQoDUimQo5Sg2J5mFJDW2IR/BXgZZnrtndusL6+zQCPMVsc3W9j+55415mxorH3j0RDYEbw0OHjdyRS6TfHSc4CmJYiiZdHF0g1m3adg0vzk5adHzfLLcKENPE/fVMQIxAg2sHJKiOUhNZwruo8VLOIoqE67TzVUso6mkO2tjNonW1h23TRRve0I9Qs/vLPP/QtOl28ZbPNjY+hdRkSPpI/rq/0T7iWn+9KOpEbgb5oH/C7hABkWNcVfCLNjEbaxTLeieSojdDsZa3kNKls9jcOHjz43y+++GIKvae//NAZsri4OLBr995HEbLeNkxUABwJm9vAiGhoKydnLE2JtLA4ZV4+0TBPwCB1wtkKRNHDK+yUWcGwYFrQFqQ5TFTl0bGgdp62Jh8hbJutaiLPOLHX1l+ywz78J//Nvvq1b5BgNlk3vmJ97yprD1csMT3ltKBETcWP6cFVQz3exQwYUQeiUWLod1m8TBU5EIwg+HUhcYzwugC6XAHa17pcrmyBQtV6MJWxSO1STrb79NnxQ6yHKIo6OTbxtkPHRv4qgClp7SDExDTnME8CBRkGADPmrJiYsCLO3HINZniCQarsUy6hRTABQFF4knxGHdNFaEVIGoRQKiZRZqUbsS3eRDhaws1kbeLobiuF6nY12nDxwOtcU0OQHCRHj1U2McZ5ybZpqAsANlY5t5y1T/GaQl3efSQi6tUKwBAtgk3ok6dKKP8lBLgJ2CVFsDBlLat6bXDDVkuVSSQ5T3NT/AYOOfcYkkwmO/YfOnYPFbYr2zs66yEkrEBtm3DRSrR2lrD3xeS8yweqZNvVfAoTRM5A10gZcyLpkxlRpKPmtpo+iEjA4hgrIp2SBTEnQmWFAKsu3hyPWAWHDxZuo/u/aTMnDlhLRw+aWDY/7SIB/ILwsDLasIxVCYZXhq/8g4jBaYyYoAYI5Th+zqcEUT4eeqNZgI+gAclaGqYuWiuNdus3bLEquNkooGNHPv9Wdvu2jeTLqZZ/V5MlrVhYWHrT8ZHxf5TENFHcka3O5ymj5vOWTS5Zli7D0sIYEdS8VWBErUyrJ8TyUSP3QXT5iwL2Q7m1CAa9IQjkwQHXMCfqoXKFC7LqOiBinfOXYJocrZDdCK8AuNT8QsKSiwecH/D5sPPU3aNok59kr8zN5dEUl6HjhwCGibZolJP/0HVguOrpAZghXBEV4dyql4gl/EOTavi2JFHhPChC50A3pjFqCwsLW6enp5t6enp+9I1yQNobxscnvrSYSG+WDVZXYDqF5MtOIeFLiUVLzU1bCZ9RT02bv5DAIdM3hRkKAQoK/pbPqFIgqshMSStw2MSiTlukKSpQyblyEOukNRCQY2GLZahXqPFB8EYAjYy3dhIpIemYNZd1I+0VPpdpeig+W+NQjUS+Qg2MPt4FKEoTJASCYxRQKMxW/xd7WBmTVUJdwtTX0wjT1Ogwjv6gxbv67cKLtlw5Pj794Xol+xJ2/hKv01p+4BqCVnRNTs5+eHho8o3O2YEnYUEwK5gdEZhWz1Jm0TIL05bHcVOQsBqvcjmDrIkQ1LYpm9YJMWVQRHiVZGUnKvgO1xkCU0swSOVbH0TEE0M1oi7Ze2ANaSEoFIhuyTVTlxmfEaeBLhyhSsiuXAKtKDMoR+ErQQHEj0gz0CqFuT60QTfto5gllgSU+cEE51O0jbPTYK9bshyXj6L5mVTaapQBKqlhUOQp67tgcODCiy+7YWxy7C2nxYlnd9LZv68FBnjD9KC15XJbUoupP0ylcq/Kqz8ToqjCJkeZItMuF9IOKi8uzTScN205Jdr9Xct/KQshqH1AGA8TVaHKVwW3Ukeh/IE6QSoQvUzcy/UcoVV6dbYdAskJy4vKqasdNMi7GCscqgyj8iiPGBlzLaaSQR1LhVAM5bxquA7DkCDXi4Lk8hVqo00wyHUz8gwilNMszq1FWXyugpkiolJ0NkMJoITZW7tpi625+EbbvOPapQ2XjHd63u0Q4/SXs9KQu+++23/lDTfdEAwH/vjQ0Mh1MzMQGSbEoyoCATvQ8yQgToNl0okFyyRAZnHaJUVPLtPO4gTzVoJJhFg4WY2AhUg8uEbDCmWVWXDVOWy4IqxCGX9BJCWGEAs4M1aFaGJCEFMisxXAXMUQBJkW1MeZSeUMalqQX6kUcmibIicRVMeRmUN9+QdlFn40QdoR4N7lG9SVIm1QxyLK4FRC72K2miE0DE7b5VdiQC6JqWlbAv0NjA/BvVBbLHrdLexwL6/TXs6YIXfddfcln/zMvfd+6p5/6+3q7rRVHW12wbp1tmH9IHa6HbWmEg2hFhlaNj0+YvkEUVMWNBVf4SthljBFJTSghI2v8cCeI6osDo8q24amyC8EkFhV6bIwTn27NV9MD4kUUm6FSYJIxEAhrrLnqvQJf5IdkXP2Y8oULQVAafUvTjYv4qkWXobBIn4Ixom4YoZMk3yd61xEe1QZFLP9bh/OxLWE9Ioh0jbHDN0y96xBPzFag6p0tbRDj852zCPanlyY/bhMOP5HD3Zay2kzRKbpg3/5N+9+05tuf9/1r3qT9Td3UolbbZds2wo21O96nRT9pHI5BrmM2whAYB5p8QhbC4sT9EklGMVE7oBTrMr44k+AcZ0k6wGVVOmunTOFWCpG5QplgEIIDWCosR5ljivjT2Sq5OQdjoWElyi/GiZOg2SkHGKKW9ACmRm45a4n6Zd3UceINAN6Y5nQSOyRc9bcgWRC0Zx6tWSmZA7l0PVSXV0mTC1EYML0akmrazhyuhjVTR9stcQi4GV31VYRZXGWDoZjX8NpHmnc0Kn/nhZDxIy/vvOjd/72r/3Rm6+77afr3X3rbP3AgF1OBtzbv9paaFZWZ/nw8BD9tkfs5PFjmAakEAmtpOfBoJLW4i9ZGWGOhoVBNYo/MisuZEWa6nL4enAerAJV0mnqHoTHqhCGVd/gWbSPn4EzGs8h6Y/TbYJnYX2BzDxAToC5gsoNxwhT8StBeOFHQKUH0pygHDuFKkm2XhUJBaTDczjGqWmCvRxTNaSwsR+7OCbJt6vDkePRXgUQ6qYPoLmuiSLcyvO1W0dnL8+BCcPR+xeWfomjf7AM+dxX7vu1d/ziL7zlkhtuQ8JpWMZk9K7utLV9va454PixY3b0+FF7+OFv2klg8miEGJ9sXEldB5W0Vro85BsiENPHg5BsQDg+ixiYGjlVJV01zpsjcVMfbpF3j6hJsb/CWGiDrUciMWnKT2LUykVomaoI+0S4hsyOoBNl0uqxUrO0TI86DuVXXA8WpqdhfkgOMf7qQJEpUr6jkFxdQnLSin3FHLFXJlQQDWrhzJjMK2wggsP84ZukPWol6gDD6u+ns3LdIFFOLwJFP1i5+jEYctrLKTVkcnIy9tZf+68ftnU7HA5EVQapKNCPFLOFpWn7+kMP2xN79toS6KyfhC7KqynQat2rV0HEVpufX7A5YAwf0UtbBYiEqMaHFtS9CtFMw97LLARxvFkwrQwmT/a5iW5EhbEax+H5ICJmKJXBnwA+CsSTDygWKbdCcGd+REDIpMa2xkudJmgX19W1styDeqpkHpejJTFN2gLnG+tl7sQATK+WRiQnJsMQXn7ux4GQ3G+OMSNL5B5BAolQAPPJMzX8HvkP9xylaa65vekVq/r6vu5Odpp/TsmQYydHX/LlTz9km3ZucOFnC9mtDyh6z1NPYi/n7YHHnrJWWjLDSHyWXqVsctFqU3M0OU/bAM5eGWsyWbIM5iEJAVrDProGG6rv42FUu67xsOpKVwLYFFfrTdhFMZJkSZ/MhhK4As5djAuCqGZhjNDZAPC7IiYRTYNrJN0iuPMdsKgsjSO60iLbL/8gR61jZP/rMFCOHz6wt3xGw1/ourovdZZoI1VM3TT/Ze48SgQ57iFjfZ0tmDvtIT0yG2Kce98l19HwsM5iq3v2sOqMllMyZHJm+qfNpkh8uqy3tx9iEuEUMnb8xJALR1dhk/PMhjAzM0slbwHzwSAZNGh85JClFi6yTdsuR82RfhLDPMWnZsyNTAvPC3FwzhJG2XIwpyCdJSE6DNVrW8IHyZQ4B8ojC24hJiKsxhSqHRRC67siIzl49MIxryZzwxV0fhFcplBfGv8gONs1rG05ZHaXh/C6F5FUDl7H6TTK/n0c74MJ0lqPKK7CZAK6F/UHN0WBZhCeGn5EdXgxRr1aQ0eeIQihwyXU+nJW3cXrtJdTMmR0dOyndDZhP228QmgCj4MNb2H8dtpGhocptSZxg7TqU4NQ31IoQmsneUMER6tM24dEF4uoeZmqHl7W1Rsgkf4LvdU+erAIQ81kyysECJJQEVJS/yyNnb2XGCpsrcI0v3PiIoMWQlK2ieAuaoPJETSXs4hVELrBCLlsaZMiJtbqdDAAZrC/XnLkOoZV3DdBgZodYAjfOC/AAi1FWTRVR7Y2qxNSJhyBoDtevC+C/JIBk/Wzrpx7KweeEUMkTt9z4caBd3zRrVe+1K6+6ioXGgpZVYi4iG8YGh21HCOUBHOoIySxtEgtY4mHqtD3KklXzF90+0ulRXw5R5mBBlFkAkiqYIRGzOqBqtQlZEakNYrGVBFUkintccMBMJnqtw2hqc5RK/JCrDVwM8w+YohL7nDYMjkyUY6YvIlhOBTHiGUCK5t3+QX7SQa0k2MM51Q2rpZVFcHgPyaKDknKBVyA6yEIaJDyqRJVTkH4gmCa6Petk29p2Fsxm7nxve9974o0fj7xT7VzbE1Pj119+XYSwA4nZYrPVbRZWqLezdDfttY47ylyBuYXoUS6ZvNai1PrWEoskcxVGTIWxZlmiV5w+AwFEHAoQiobF5gnh6zvknrZZA1By2YySGHGlmBuitYd+RYRulFDB3ei9q0oS13pfgKDxvkavqPRh4v8QlgnuZJechfhXmJIo0eXCiAmstF52HD0y4Rp+AzQXsHwoMI+n4YsgFlBcI0Rkb+X81ZRTO2qBWiQ5R51/7ofCWdJ/o1G7iQoxdvf/nbKiKe/nMpktc7OzNTTqSUngUJOS0hSmsre+MSkdXd1ErXGmEtkiHpyF2O4O5yzPXJi0t3BNRsv4jhmVJhbsGZXeZBGkIMoWkGaRCBJX4GHCUo80R6eCXNA6yZhpB+TkUhlgEpgpqBytKGGdriEEI3gAKdVOpcERQ5ZjJPE6+QKeaUh0gmZMW2T9C9n3Y0AoLHOdSZyCxovqP3FUKlvkQkH1IwtRFj+TGEyV9AeDupXgKDkUiGzerlKNGLPz4zZ+o2XurypUkm3c6M/GPh9an6+86kDB+hDYuQp4agSMul1Mp2xqcWMdff3MWVF1DZeuBWHxnDhBFJU8tlFmy+1tg7GSiBdI2OTDOjHATZHLU0lrZQk2mIgfwsDJ8ORBsQRwm80m+Bysm2Y7id5RCccwVe1tTqGiD4VggNJqwBDZzKw6QWgFUVy6ABHNLyCYHtV/Dw02dFVoS2LvI0LJMhVamiooP6A0Gj+qcPEdStqR5hXwnHXfWiAOuOxVwrB5S+YVgt/oVyIY6QR5FZ1bsoTw2FYuRawBFo+y1C67k3biT7DPZxxXKc9nWVFDUknk91TdAnGqENnMnRXgB8pXGyFSFdcxhg/cKQIEhJdfwEEUESiLJzwEKIlk2kbGpk0j4dQkljxGHfBzS7xoGl6mdKYkWCWOUiiAWvHBIUJK9Xp4erVULGAidBgfcl3nWuqr1aS6/wMxNfQMw3AVMCgaTPwFtxPxEVVDVyMx4fIsjEohjOPYkYjkZPpajj/orJ+aQ7b/IzGFXOkQdKoMuvE0cZgnQhMQeyI8CpEeNJ8MUlM1SL343p/ef4iJnyRsD+FH+m12lo2nXYZd0WGUA7tdxABD6aBLFkupIxUw7vCONsyNjUnRuG49fBVmtbUt1QiCcsQiYTjDEMDQihB0DTAqZLKSGsX/GLekBJ2Fr8TLkKCFsC/eJTB9+QjRCgaCqAhGgVFZXyWmVNYqbHiPqRS5sKZI7RGtl6RWCpNPQKzEaeDvYrgcEOOSAp7ZcoUyrp6PITmZI7ocv7SIBHfnVOEdfvCCJaAzCACF+bZwzy3/IsgdjHNMQ6GCVcLOkFE/3h2wfqIDY1zNIIvzNN/nFjnTnaaf1ZkSCFf7FugJBkFM9JNy2QVsed+CJnHhKVwuokkY7552DoPoqECeSS/r51Bloz/VkuMSiNNgG+9/b0U/TFbzMYzP0eTFASv0hHop54QJDdph9DKekswV+db9jV6SM6OlpGjIOkiooitl/4VJOFEVH5di2vnuQeSeIgiEov2MIZ7l3YsH+O4wDclo9J4jcISweU3pJkygYradCU1P7hOE4SiolCLfcRE5TIuAMD0CVxUIqpeU/E7lwZUxYAq+iPSW81pTntZkSGHDh5qW2Qw/IbBAffgagLTQ6TxCbqhUASp5iaUd2hKC0ELIYgjXEnqq/tXm48YKrMxMTFmqRTFKDArYVkVGqA1+KZIaVZDjMGFYYSYgdvEbEiyBZ0IwpDNDuNfviWZRE3qGFHNRElbhHvQIE1plEwZcs8xisz4hFlpEBdt4ZNrJ+KcIqKIK9MjFgpaiYB7qZClMYbCtSQAEhA9z3I4LcaLGTpWXS4NrRIzyH149iIAY9vqASLBVu4fApzBsiJDhodHfH3dqzlx3IV7fThxhY2TU5MUYrKEvjCGicD8dF4IHm8mnxCaW8OEqOKtGL3AK01tJLVErxWTwyi30OilGthPJEbTg1JKMC7lA2xC2hsSmcf8CQmOwhBJujNXgIkOZ4JhMlmqq2TxSSKmzIqIrpGxAmudfhCCViF6kH1doil2yF84k8ZuYjAnFyNY6wIK+YnlCCsCsd3FOU9ZPhLuCukVPiqkQOZcMLzTDhGd7bXqLMO2b7RNl1yOye5QVHpUm053WZEhPMSwJEWwtVRYGqBKmZgiKUkTgxcw9nUGuMhMVIBUsOQu81aomgcMLFFnFrqrkmyR2dk07YXKtFW0Y80FW6yNACGMLYqTVzTFZLLYzvWgoSvVyuSIITlqD4Lf2eTMI5RtSC6MlLdQWxEW32lJYzafhu8Ici1NySQw0g1/lvJwDpkhXceZYqLIGGZK22UBlGCKoaqha98gUq97KOWEtzUSSVa7qIrLyyw5RstMdXUOWBPzPXb0rnMDhOKxji+z62kvKzJk546dX3j3//j9P9t02U67csel9NumMTly4kiHhpItzQKViDAF27fnkHWt67AuEsUFGmllPoRPVZ3f0WSToLjcluAMLZpOSbMldNTj+BhJHeF0lpgfjYJjjeN52AJOvwgz8syFpUE24SjSrPoGxwVUKkaiNXeiMKYyZk3D1ar4JY0vF3QTBzX2oREK3RUAhmCEElKZOUm5IA9NWFNGQBZJ8JqI+KTZ1RBMRstFZNcsB+VV+/BR1w/TZa/EkBtw18PaIlRsg23r115kwR4xA7PV0X1HR/+acffAp/lnRYa88pU3n/jM57/02ocefPCzX/vGY3Zg9ze+47Qbt2y344f22Nt/9TeB5FfZ+//wQ9hPIjAQ4SytPogmEkcbDkMMypiGPE5T0s0YNTcpTBMPHgZqKQJL5MGBVM/QQH1XCwHZLdNIoA4TWqDQKghUbXLQvKqNZWYDUhZeZ5ygkF+8AgRCtnnBM5dZO+0GAFVTnbSkEZ0JIATyQGA0XpAZB2x2Ie3ynSaiR1VBln2EUF6ftIKXJErmSX4G1rpgQ7mOxjlWQbGxt4T5URvcfIm1dXbvb+8ZfMd3EOwUK1ZkiI79yZ941efGxsZib7x9+pUHDhz4lWwmez1oa7h3oB8/krZf/eVftO2XX2NXXX0VM+EwwSCDUFd3bLOpmbKtWt3nTJyy42Rizt3Klot3IvUlIq15GqKj1sHkL6sIe1vow6ozR4mcvFqC0snDBmZpKeRrehazwNHRDiRRERH4fddAM9Shia4gnxnBbMBoJUCiGibET9Dgmhf0FQGQlENnmEqTBIKhoCuKD4NNBCloO6XXFkWGaAD85yAloQ1NVTuQUprlCE9C42dMtAvF1QXJthA2NkMS2dTfYz3rLxxrrwSvwSTqTGe0nJIhOtvatWvxsKYBFm6QxdBQPbJ2vX31ox+963ptf91rX8MD1OzP/vQD+mqJRJLwuEzHCZR8znLTzbcRccXd/CDdXe3W2UxEg7DVS0vUF/YDyNHhzvfW7qutb83t1tW/zrp611q0pVVzlQw1x4MPFdNDL39mz67ee7/wdcJLmuqon1RqAHty9JgsRzn5GkyKchRpo9gkH6NGO7UWyfSEIKjmSimwLplRg14jTK6icQIU1bHosn0YKl+j3EX+xjGFMF3+VNGZT+fyMyIXDQ229dtlN75ypmd991bPWy2anfFyWgx5/lkHB70CXXnv+cTHP/E1bdt68Ta7bOdO+913/4F94I/eY3NgOcvLhs3b7TWv/UlMVrM9vX+fHXz6GYYhr2Gw5KIl5iasp7nXuge3wfRbrWfNBmvrGXh8dWfnne3tq5+oRwMTTU30DdmaIkSp1aleTqfGUt2t6yHOzfan7/6Erbs0Shsng3cqBB1c1I9QhgAc6zBIJk6JnCIn3DemSOZNIYCiLfGKfeChElC+Sbcgvl78YZs6aLSfzuPGFbJdIYaOIxiGKURYoVZ3TGr2hG289kWLg/07NnteR4Zdz2o5K4boSifHJ+b3H22AiMPA8FdcfY29+nWvs1t/7MdsfHTcQdWrV/fYyZMnXRY9MTFhj+09yFCAVntkz9P2suu22I/d9lq75sqdtnbdwCeYaPj/BKMdeyGGbM93XRbyj/3p9MTD/nb80faL19jG7Vvs6X2HrHdLGyFQo7Yex4I1kNpGNl6GuBoEpIxdjliJoEJVgCj8gqI3cDq2K7wWWivg0gGQMktwWLCKsCwBlmKUj6DBdd0zgovxhfgxtIzu/aY1V6S2XHb9Rq+jAwE6++WsGZIGG1FT3C0Q9StffcCeOXzUXvbym+3a6290Kq/WyjRwxj604mN/90kb2HaBAbzYxK499nvvfqfRTjS1aePa3/D7W7/Ig55SvfP5EwMjT/7tO8JESBXC57bWNttx1Rr7EgxpKxLwKiGUYBMlCdPStK4Fta+iEfIFcubyFyo2aQJM9nRl2BTRniYvCyvBc54KTSJgUF1esw2JIS6BZGueWojMmCJF9RD76DLxWtfawM4bMjsuv2lDy7pLE2fPisaRZ82QrRvWjKpTcJqu8s0bL7Ddew/YFJDIvgNHGdM3YY889oQd3/Ow9V6wzXZeu9X27DpoO6/bYb/9yY8MveyWl75h1apVu2GEwvtTLpgZb/LAP/xrrTwBmAmMQygdDjE10nocO4uvIsgcAkKsABKsifejDDeL+GnTUXSkyA1mBF0Sp3yKbBqNKlKnUedkcyyEL9MejbA4oCgN7fHDEE0akGZGoZnZvdbStcH6113gCmqeP4tv22Zbrn5zMdZ/4UZ6h+fdzXyff86aIYODg4X7779/892f/uy/7dpzoHNG6KFvzkbH77UR6usZHDsolk0x9wjzEds7f/0387/wlp9/3c6dl94HI2S0T3tJTtx3U2b+scuAZRhGKB+gENbobGH+XM6iCEezMEhAVPBSR2IToW4U5qk8LDzKVbzJPeQzVJVsVDOzQDhVawWJkOZJPASiRgg8ZNpShHmlRIbpYcN21c2vsb7+DrYR5VH3jzTR9VLpYDrBymtgxndMPX7aD/e8Hc+aITrPLbfcchTp7Xn44V1XPLnnyfc98vgTL7//m7stMzLF1qr9+GtfZVdefll1544d7+jpecWdl1/OVAtnuOjnh4499tS/MBklbISwMEQRleB2Zfg93YJAyBwEhyPWQmcFzyjz9jFsWfPw+ikT+NAOjcxVMUl9viXMGaexJrJweMgx4GtwuUiENjM3535FoaM3ZhsHB23d+h56rtBGQvOEStSMyIoCFVVrCwyDvvufJye/sLav78cbrS1n+HzP3/37YohO9qy0P87HV5CvRBOZzA5ftXoDmXCECVweJGTexT5nzIjlG504WH5xKXu4IxIQkKiWHxwF7NBU4PEmv/Vv6GEgDrAJ+Ynz0miPdpHPEP7FXxwvUAgMEfyufEJTiyvRE+hJXupajFQ6KJcWGGXVbduuudQGB9dYWzuDOpmiSZXLQrUxU0SEacTzIAzVGpOmcckm/1JHfmbPN+sPPHCld9NNZ5x3LD/n8vv3zZDlE+n92XxlFx/1+r4X+Y5DD/32R8I0ookNyroVsmrqVuFjcUKq7u52GuqP4JSpswieJezNohVNeQhJ8UsN2HV8jJqz5dCrwPsF+rSYqAHTpS7JnLWAp/WsW2ODG69goM0afqJCk2HSoEEkpTHvfvISTTijEbjKP3T8UjUGw4Bm0L5ULrljuHVYvzH1RgTmtPzi9yLOD5Qh3+siZ7t+4vgd/V5lepN+VgJ2IN1K2JQJ6B9hKSXWlrjPsscZhrBtHpOFJsATlQdi9ExpCiXpiDre1UmPiycEX8RcLeDEwzRl9Njg+gts48YB5vBtY8o+NBCzlM7OkGzCdH7URdVClZWF9AomUbNES6wVDVMbEiUHyN9CKTqdO/mGiWc+Lqji/Wf7vDrunGZIZn70bUG/frmArBri+JkDq4qqaDo/haV+HPKNN1zG7NLtlmeaJNX6l2jIUGTFXCYQEcgEggklFqfUzN2xOsark4JZO/kPHfydOGlMT72etCX9/JGIglYFYS7Tm2Dq6HYkGyfTdMIglLgdiCVfo8cApjQFCQCo5NRiS5Yu7v/juROf2Ne14Y1fOlum6Prn5IIm+A5+422FiBWZM1+t/dAUayDf4IpGmBtNxVcsIJ3JPPWWBJjXLIM79SsIgIFAIrCDfRUCU/snP1EI29bOPIld/PSRilBEYj5CY/kkdbBrDDshgdMCaUINJqpm4rQD5oToDYgTkWnfgnwOyWILDYOCrLgi60CIyahaVt98YevaW4+dDWHPWQ2ZPf6pQfBasAnmyOWfj7hAXe1ihjNb5AqCHCsMSa77mV8xsohDZlJkN3AG/yDzxkumTosMVjhCI1sLCR1aBy0ZQEQDAwU9RWSqeXBil0y6rJzryFy5/QTZs58boidjiR8SWKlhcHVUUEMmREj1vgTCTMQ599C+ubnPdXd1vfqMZ7Y+ZxmSzSZ/BtWo6yclRCjE8FuSKvKKGWJMkNpEmBniBHdIk1RgUqGJHBFiqtSqFtNGfqL5fdVUx8mc5KvoJigdeoO8YA6h/nKDt2atUxmZCNolki6X4TyuOwVmqD9L2irzyCxNnJO7IuNXObvK4JDi9Mlv1O+++wrv9jMbY6i7O+cWCM2cAfO/yyBQrJRQRXkAPogCUBM+0LfA6A1X+KDhE5AKc+JFIlGPudh5JyfHv+vFKq8p7vdiTUEPE+VRa2F7hLmwQmCEfg+CepQDPLowPSYV4PzOMLr15Dxck9jKVaOQCLbpc8BxoPEdAfCYEZv7qXE+2vXYzpQaXtg/u2P20pE/PlPinpMMyUw/1Wm1Rdq0lJXLscoXNN71XZohKXdAoVsvv6J9BBw2Pqs5Qj4iQrQVAhZpvNAmYHdBJ9pXqblDhKmPuA4SzunWc3ZdTxiWWlOX35fbVN11OF7rpWHSKn3Wer0ChF7Nyl/qi+9aOP6x686EKeckQ8rF+St99bTrTOEReUiSPUd4xwcJqv43XhCxsTSIqShI9l4OWMTXryA4OISfq5B5c/Nc4ZRFODX3lSjhqr1HP+Iis6RF0dkyE5bf5dyXmeMI/yzjtU4+J0d/gRjjjle3PB2RMe6hVhh5sD73uQbo5rau/Oec9CH5Yvr1qmirm1yxkmyzXsoDtOiviCJiSVlqQCoaDteI4pUrNMbHK/cQjX36OTxCWTFDnZVisPtdELpW6CPBB2nImzL8Bpd1/m8zAkgGoj/35YY2PLuvn23K+OWntE9j4d6EFHP/8VgpOJ/Y+2W0+sWcX6q94nLOaYjzH6XZNyLnPCSDPWkzIjcnW2YYHNT/trmSljReanRYJpgkWebKmSwSSk0xrkY2OXD9JJ4b066cxMHrmsiSLno5aHcutNFph1p7Gi8xUgwUg5xmLJsliN8QCvrQ6JYMETLTFg8nVWtHQHgJ8FTwFouUr0+M3/GzK3Li2Y3nHENs7pmmemWOEXJ0EnrkH4ze1TgMDfhXRCOGLBNP787WQzAcLRogIjakWTMOuVkdxBy6GlW0UvFJ0ZnGqGh/lZM1QkqLiNs4r4iv8wj/AtZ3oba0R9uf9VEcIyFQx6Sqh4JkqLgAtXAiro+1IqJAz3RqwvOgEk1Lf6yevJuugJWXZR1bea8f4tZMoLK+UsoD+km7eUEEvcl4aVlmgtaIiM6/uy3IJOZJRNOsEI31jaNkgrQsa5fmLpHPEDOFGi+fQ0RG59x6mTDXF/ysRjS0o+GndA9cyN2L7soxkne1DwWor+vHjtW6KrTZx/cqA2H1OJlM8rPcw43s33gY3dTzlnOOIaXC/LX1WrouOBxSOTaIJw4CcTe/bLb0TGKKVoo4DR/gyq/gK3p3zNFmR3GxRdol6ZZDb7R+uiCXkzgiyw9QTXSNctrPRVryVY3Pjimsl1YsLw1mq6MROIdbEtMVJSt6q9DYHGRIhn5B1P0KUH3p+vTU/1VjyMPLxz///ZxjSCU3/QZfrYC1oMyKo9bDq6tdBNRATZVk3WfMl7pAtIhwGtosgjVCUAjOetVOpANQu0Fw1jnCa5tjoo5Ds2RyOJfMnXyN+Kfvy/vq+goQ1A5UVccJxztz5M4hLWWbM58EC9yXADe1xBJrEIFRIKN2IpNZqfIzGOXZL9bru5mU5goAtu9cvs3q79z2Q1/Dg/nK2dmbPVBc6biY4UjqCC8SQyhCS4WZetDldxEBEkAwmRnlDfIXClMbjrnxLicspomckmvlGUKEBVSqvYeSL7VyfXbnYxcRWsGCtEomaNmHadCqWPodC+vln6ilwRRpFvvw0ugsfru4wRh/pqU4ceB/fcexz644pxiSSo23VQqLSKy8o/qj6OqQJvCgTgmcGZF5abykGWJaQ5IbDFlmQsO5K+ISXNJw9lr3XGbou5NuziPNkHaJIVqUKCp/cXMC873BKEEyIq7MptvNfV7+4nyQNIVf+vHouOQsMATQDJNXY7BSlUgxGORZagu/WZh96JWNM/z/f7+ryeKCEqHlZfmz3p//WVddXq93fV9et/xZIvn8z1r3nFeZ+wj6ElN7bqtV58GGCHdduw2OUeEjUi0CYF3cwjOzTn5C62VK5GyX1+ldu7k/vDcop/1ETPmlxvHap0FY9wud7KYu+EZuA4aFZsSZTFPXFaOkQe4cEg7XRKcb0rm4Gf7rKo4hir5w6ormpEgNpJhduB115gsgNcDNcnH4S6XsyV8Kxgb/iXMQSjaW/wcaEsvGjOMXYgAAAABJRU5ErkJggg==';\n  render() {\n    return (\n      &lt;&gt;\n        &lt;DragPreviewImage connect={preview} src={knightImage} /&gt;\n        &lt;div\n          ref={drag}\n          style={{\n            ...knightStyle,\n            opacity: isDragging ? 0.5 : 1,\n          }}\n        &gt;\n          \u2658\n        &lt;/div&gt;\n      &lt;/&gt;\n    )\n  }\n}\n</code></pre>"},{"location":"third-part-lib/react-dnd/Tutorial/#concluding-words","title":"Concluding Words","text":"<p>This tutorial guided you through creating the React components, making design decisions about them and the application state, and finally adding the drag and drop interaction. The goal of this tutorial was to show you that React DnD fits great with the philosophy of React, and that you should think about the app architecture first before diving into implementing the complex interactions.</p> <p>Happy dragging and dropping.</p> <p></p> <p>Now go and play with it!</p>"},{"location":"third-part-lib/react-dnd/react-dnd-DragLayer/","title":"DragLayer","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4926  \u9605\u8bfb10\u5206\u949f</p> <p>This is an advanced feature.</p> <p>For the most use cases, the default rendering of the HTML5 backend should suffice. However, its drag preview has certain limitations. For example, it has to be an existing node screenshot or an image, and it cannot change midflight.</p> <p>Sometimes you might want to perform the custom rendering. This also becomes necessary if you're using a custom backend. <code>DragLayer</code>lets you perform the rendering of the drag preview yourself using only the React components. It is a higher-order component accepting one required parameter that is described below.</p> <p>To use <code>DragLayer</code>, don't forget to wrap the top-level component of your app in a <code>DragDropContext</code>.</p>"},{"location":"third-part-lib/react-dnd/react-dnd-DragLayer/#signature","title":"Signature","text":"<p><code>DragLayer</code>uses partial application. After specifying its only parameter with the first call, you need to pass your React component class as the only parameter in the second call. This signature makes <code>DragLayer</code>usable as a decorator. Read the overview for a more detailed explanation of the decorators and the higher-order components.</p> <pre><code>import { DragLayer } from 'react-dnd'\n\nclass CustomDragLayer {\n  /* ... */\n}\n\nexport default DragLayer(collect)(CustomDragLayer)\n</code></pre>"},{"location":"third-part-lib/react-dnd/react-dnd-DragLayer/#parameters","title":"Parameters","text":"<ul> <li><code>collect</code>: Required. The collecting function. It should return a plain object of the props to inject into your component. It receives two parameters, <code>monitor</code>and <code>props</code>. Read the overview for an introduction to the monitors and the collecting function. See the collecting function described in detail in the next section.</li> <li><code>options</code>: Optional. A plain object. If some of the props to your component are not scalar (that is, are not primitive values or functions), specifying a custom <code>arePropsEqual(props, otherProps)</code>function inside the <code>options</code>object can improve the performance. Unless you have performance problems, don't worry about it.</li> </ul>"},{"location":"third-part-lib/react-dnd/react-dnd-DragLayer/#the-collecting-function","title":"The Collecting Function","text":"<p>The collecting function signature is similar to the collecting functions of <code>DragSource</code>and <code>DropTarget</code>, except that it doesn't have a <code>connect</code>parameter because the drag layer is not interactive and only reflects the drag state. The collecting function is called any time the global drag state changes, including the coordinate changes, so that your component can provide a timely updated custom drag preview. You can ask the <code>monitor</code>for the client coordinates of the dragged item.</p>"},{"location":"third-part-lib/react-dnd/react-dnd-DragLayer/#parameters_1","title":"Parameters","text":"<ul> <li><code>monitor</code>: An instance of <code>DragLayerMonitor</code>. You can use it to query the information about the current drag state, including the coordinates. Read the <code>DragLayerMonitor</code>documentation for a complete list of <code>monitor</code>methods, or read the overview for an introduction to the monitors.</li> </ul>"},{"location":"third-part-lib/react-dnd/react-dnd-DragLayer/#return-value","title":"Return Value","text":"<p><code>DragLayer</code>wraps your component and returns another React component. For easier testing, it provides an API to reach into the internals:</p>"},{"location":"third-part-lib/react-dnd/react-dnd-DragLayer/#static-properties","title":"Static Properties","text":"<ul> <li><code>DecoratedComponent</code>: Returns the wrapped component type.</li> </ul>"},{"location":"third-part-lib/react-dnd/react-dnd-DragLayer/#instance-methods","title":"Instance Methods","text":"<ul> <li><code>getDecoratedComponentInstance()</code>: Returns the wrapped component instance.</li> </ul>"},{"location":"third-part-lib/react-dnd/react-dnd-DragLayer/#example","title":"Example","text":"<pre><code>import React from 'react'\nimport ItemTypes from './ItemTypes'\nimport BoxDragPreview from './BoxDragPreview'\nimport snapToGrid from './snapToGrid'\nimport { DragLayer } from 'react-dnd'\n\nconst layerStyles = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  zIndex: 100,\n  left: 0,\n  top: 0,\n  width: '100%',\n  height: '100%',\n}\n\nfunction getItemStyles(props) {\n  const { currentOffset } = props\n  if (!currentOffset) {\n    return {\n      display: 'none',\n    }\n  }\n\n  const { x, y } = currentOffset\n  const transform = `translate(${x}px, ${y}px)`\n  return {\n    transform: transform,\n    WebkitTransform: transform,\n  }\n}\n\nfunction CustomDragLayer({ item, itemType, isDragging }) {\n  if (!isDragging) {\n    return null\n  }\n\n  function renderItem(type, item) {\n    switch (type) {\n      case ItemTypes.BOX:\n        return &lt;BoxDragPreview title={item.title} /&gt;\n    }\n  }\n\n  return (\n    &lt;div style={layerStyles}&gt;\n      &lt;div style={getItemStyles(props)}&gt;{renderItem(itemType, item)}&lt;/div&gt;\n    &lt;/div&gt;\n  )\n}\n\nfunction collect(monitor) {\n  return {\n    item: monitor.getItem(),\n    itemType: monitor.getItemType(),\n    currentOffset: monitor.getSourceClientOffset(),\n    isDragging: monitor.isDragging(),\n  }\n}\n\nexport default DragLayer(collect)(CustomDragLayer)\n</code></pre>"},{"location":"third-part-lib/react-dnd/react-dnd-DragSource/","title":"DragSource","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 11985  \u9605\u8bfb24\u5206\u949f</p> <p>Wrap your component with <code>DragSource</code>to make it draggable. <code>DragSource</code>is a higher-order component accepting three required parameters. They are described in detail below.</p> <p>To use <code>DragSource</code>, don't forget to wrap the top-level component of your app in a <code>DragDropContext</code>.</p>"},{"location":"third-part-lib/react-dnd/react-dnd-DragSource/#signature","title":"Signature","text":"<p><code>DragSource</code>uses partial application. After specifying its parameters with the first call, you need to pass your React component class as the only parameter in the second call. This signature makes <code>DragSource</code>usable as a decorator. Read the overview for a more detailed explanation of the decorators and the higher-order components.</p> <pre><code>import { DragSource } from 'react-dnd'\n\nclass MyComponent {\n  /* ... */\n}\n\nexport default DragSource(type, spec, collect)(MyComponent)\n</code></pre>"},{"location":"third-part-lib/react-dnd/react-dnd-DragSource/#parameters","title":"Parameters","text":"<ul> <li><code>type</code>: Required. Either a string, an ES6 symbol, or a function that returns either given the component's <code>props</code>. Only the drop targets registered for the same type will react to the items produced by this drag source. Read the overview to learn more about the items and types.</li> <li><code>spec</code>: Required. A plain JavaScript object with a few allowed methods on it. It describes how the drag source reacts to the drag and drop events. See the drag source specification described in detail in the next section.</li> <li><code>collect</code>: Required. The collecting function. It should return a plain object of the props to inject into your component. It receives two parameters: <code>connect</code>and <code>monitor</code>. Read the overview for an introduction to the monitors, the connectors, and the collecting function. See the collecting function described in detail after the next section.</li> <li><code>options</code>: Optional. A plain object. If some of the props to your component are not scalar (that is, are not primitive values or functions), specifying a custom <code>arePropsEqual(props, otherProps)</code>function inside the <code>options</code>object can improve the performance. Unless you have performance problems, don't worry about it.</li> </ul>"},{"location":"third-part-lib/react-dnd/react-dnd-DragSource/#drag-source-specification","title":"Drag Source Specification","text":"<p>The second <code>spec</code>parameter must be a plain object implementing the drag source specification. Below is the list of all methods that it may have.</p>"},{"location":"third-part-lib/react-dnd/react-dnd-DragSource/#specification-methods","title":"Specification Methods","text":"<ul> <li><code>beginDrag(props, monitor, component)</code>: Required. When the dragging starts, <code>beginDrag</code>is called. You must return a plain JavaScript object describing the data being dragged. What you return is the only information available to the drop targets about the drag source so it's important to pick the minimal data they need to know. You may be tempted to put a reference to the <code>component</code>into it, but you should try very hard to avoid doing this because it couples the drag sources and drop targets. It's a good idea to return something like <code>{ id: props.id }</code>from this method.</li> <li><code>endDrag(props, monitor, component)</code>: Optional. When the dragging stops, <code>endDrag</code>is called. For every <code>beginDrag</code>call, a corresponding <code>endDrag</code>call is guaranteed. You may call <code>monitor.didDrop()</code>to check whether or not the drop was handled by a compatible drop target. If it was handled, and the drop target specified a drop result by returning a plain object from its <code>drop()</code>method, it will be available as <code>monitor.getDropResult()</code>. This method is a good place to fire a Flux action. Note: If the component is unmounted while dragging, <code>component</code>parameter is set to be <code>null</code>.</li> <li><code>canDrag(props, monitor)</code>: Optional. Use it to specify whether the dragging is currently allowed. If you want to always allow it, then omit this method. Specifying it is handy if you'd like to disable dragging based on some predicate over <code>props</code>. Note: You may not call <code>monitor.canDrag()</code>inside this method.</li> <li><code>isDragging(props, monitor)</code>: Optional. By default, only the drag source that initiated the drag operation is considered to be dragging. You can override this behavior by defining a custom <code>isDragging</code>method. It might return something like <code>props.id === monitor.getItem().id</code>. Do this if the original component may be unmounted during the dragging and later \u201cresurrected\u201d with a different parent. For example, when moving a card across the lists in a Kanban board, you want it to retain the dragged appearance\u2014even though technically, the component gets unmounted and a different one gets mounted every time you move it to another list. Note: You may not call <code>monitor.isDragging()</code>inside this method.</li> </ul>"},{"location":"third-part-lib/react-dnd/react-dnd-DragSource/#specification-method-parameters","title":"Specification Method Parameters","text":"<ul> <li><code>props</code>: Your component's current props.</li> <li><code>monitor</code>: An instance of <code>DragSourceMonitor</code>. Use it to query the information about the current drag state, such as the currently dragged item and its type, the current and initial coordinates and offsets, and whether it was dropped yet. Read the <code>DragSourceMonitor</code>documentation for a complete list of <code>monitor</code>methods, or read the overview for an introduction to the monitors.</li> <li><code>component</code>: When specified, it is the instance of your component. Use it to access the underlying DOM node for position or size measurements, or to call <code>setState</code>, and other component methods. It is purposefully missing from <code>isDragging</code>and <code>canDrag</code>because the instance may not be available by the time they are called. If you want these methods to depend on the component's state, consider lifting the state to the parent component, so that you can use <code>props</code>. Generally your code will be cleaner if you rely on <code>props</code>instead whenever possible.</li> </ul>"},{"location":"third-part-lib/react-dnd/react-dnd-DragSource/#the-collecting-function","title":"The Collecting Function","text":"<p>Just specifying the drag source <code>type</code>and <code>spec</code>is not quite enough. There's still a few more things we need to take care of:</p> <ul> <li>connect the React DnD event handlers to some node in the component;</li> <li>pass some knowledge about the dragging state to our component.</li> </ul> <p>All communication between the React components happens via props, so it makes sense that React DnD injects special props into your component. However it gives you the freedom to name them and decide what props your component will receive.</p> <p>Your collecting function will be called by React DnD with a connector that lets you connect nodes to the DnD backend, and a monitor to query information about the drag state. It should return a plain object of props to inject into your component.</p> <p>If you're new to these concepts, the overview should give you a good idea about them.</p>"},{"location":"third-part-lib/react-dnd/react-dnd-DragSource/#parameters_1","title":"Parameters","text":"<ul> <li><code>connect</code>: An instance of <code>DragSourceConnector</code>. It has two methods: <code>dragPreview()</code>and <code>dragSource()</code>. Of them, <code>dragSource()</code>is the one you'll use the most. It returns a function you need to pass down to your component to connect the source DOM node to the React DnD backend. If you return something like <code>{ connectDragSource: connect.dragSource() }</code>from your <code>collect</code>function, the component will receive <code>connectDragSource</code>as a prop so you can mark the relevant node inside its <code>render()</code>as draggable: <code>return this.props.connectDragSource(...)</code>. You can see this pattern in action in the example at the end of this file. Read the <code>DragSourceConnector</code>documentation for a complete list of <code>connect</code>methods, or read the overview for an introduction to the connectors.</li> <li><code>monitor</code>: An instance of <code>DragSourceMonitor</code>. It is precisely the same <code>monitor</code>you receive in the drag source specification methods, and you can use it to query the information about the current drag state. Read the <code>DragSourceMonitor</code>documentation for a complete list of <code>monitor</code>methods, or read the overview for an introduction to the monitors.</li> </ul> <p>-<code>props</code>: The component's current props</p>"},{"location":"third-part-lib/react-dnd/react-dnd-DragSource/#return-value","title":"Return Value","text":"<p><code>DragSource</code>wraps your component and returns another React component. For easier testing, it provides an API to reach into the internals:</p>"},{"location":"third-part-lib/react-dnd/react-dnd-DragSource/#static-properties","title":"Static Properties","text":"<ul> <li><code>DecoratedComponent</code>: Returns the wrapped component type.</li> </ul>"},{"location":"third-part-lib/react-dnd/react-dnd-DragSource/#instance-methods","title":"Instance Methods","text":"<ul> <li><code>getDecoratedComponentInstance()</code>: Returns the wrapped component instance.</li> <li><code>getHandlerId()</code>: Returns the drag source ID that can be used to simulate the drag and drop events with the testing backend. Refer to the testing tutorial for a usage example.</li> </ul>"},{"location":"third-part-lib/react-dnd/react-dnd-DragSource/#nesting-behavior","title":"Nesting Behavior","text":"<p>If a drag source is nested in another drag source, the innermost drag source of the compatible type wins. Drag sources that return <code>false</code>from <code>canDrag</code>are skipped. The chosen drag source is the only one that will receive <code>beginDrag</code>and, subsequently, <code>endDrag</code>. There is no propagation once the drag source is determined.</p>"},{"location":"third-part-lib/react-dnd/react-dnd-DragSource/#example","title":"Example","text":"<p>Check out the tutorial for more real examples!</p> <pre><code>import React from 'react'\nimport { DragSource } from 'react-dnd'\n\n// Drag sources and drop targets only interact\n// if they have the same string type.\n// You want to keep types in a separate file with\n// the rest of your app's constants.\nconst Types = {\n  CARD: 'card',\n}\n\n/**\n * Specifies the drag source contract.\n * Only `beginDrag` function is required.\n */\nconst cardSource = {\n  canDrag(props) {\n    // You can disallow drag based on props\n    return props.isReady\n  },\n\n  isDragging(props, monitor) {\n    // If your component gets unmounted while dragged\n    // (like a card in Kanban board dragged between lists)\n    // you can implement something like this to keep its\n    // appearance dragged:\n    return monitor.getItem().id === props.id\n  },\n\n  beginDrag(props, monitor, component) {\n    // Return the data describing the dragged item\n    const item = { id: props.id }\n    return item\n  },\n\n  endDrag(props, monitor, component) {\n    if (!monitor.didDrop()) {\n      // You can check whether the drop was successful\n      // or if the drag ended but nobody handled the drop\n      return\n    }\n\n    // When dropped on a compatible target, do something.\n    // Read the original dragged item from getItem():\n    const item = monitor.getItem()\n\n    // You may also read the drop result from the drop target\n    // that handled the drop, if it returned an object from\n    // its drop() method.\n    const dropResult = monitor.getDropResult()\n\n    // This is a good place to call some Flux action\n    CardActions.moveCardToList(item.id, dropResult.listId)\n  },\n}\n\n/**\n * Specifies which props to inject into your component.\n */\nfunction collect(connect, monitor) {\n  return {\n    // Call this function inside render()\n    // to let React DnD handle the drag events:\n    connectDragSource: connect.dragSource(),\n    // You can ask the monitor about the current drag state:\n    isDragging: monitor.isDragging(),\n  }\n}\n\nclass Card {\n  render() {\n    // Your component receives its own props as usual\n    const { id } = this.props\n\n    // These props are injected by React DnD,\n    // as defined by your `collect` function above:\n    const { isDragging, connectDragSource } = this.props\n\n    return connectDragSource(\n      &lt;div&gt;\n        I am a draggable card number {id}\n        {isDragging &amp;&amp; ' (and I am being dragged now)'}\n      &lt;/div&gt;,\n    )\n  }\n}\n\nexport default DragSource(Types.CARD, cardSource, collect)(Card)\n</code></pre>"},{"location":"third-part-lib/react-dnd/react-dnd-DropTarget/","title":"DropTarget","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 13700  \u9605\u8bfb28\u5206\u949f</p> <p>Wrap your component with <code>DropTarget</code>to make it react to the compatible items being dragged, hovered, or dropped on it. <code>DropTarget</code>is a higher-order component.</p> <p>To use <code>DropTarget</code>, don't forget to wrap the top-level component of your app in a <code>DragDropContext</code>.</p>"},{"location":"third-part-lib/react-dnd/react-dnd-DropTarget/#signature","title":"Signature","text":"<p><code>DropTarget</code>uses partial application. After specifying its parameters with the first call, you need to pass your React component class as the only parameter in the second call. This signature makes <code>DropTarget</code>usable as a decorator. Read the overview for a more detailed explanation of the decorators and the higher-order components.</p> <pre><code>import { DropTarget } from 'react-dnd'\n\nclass MyComponent {\n  /* ... */\n}\n\nexport default DropTarget(types, spec, collect)(MyComponent)\n</code></pre>"},{"location":"third-part-lib/react-dnd/react-dnd-DropTarget/#parameters","title":"Parameters","text":"<ul> <li><code>types</code>: Required. A string, an ES6 symbol, an array of either, or a function that returns either of those, given component's <code>props</code>. This drop target will only react to the items produced by the drag sources of the specified type or types. Read the overview to learn more about the items and types.</li> <li><code>spec</code>: Required. A plain JavaScript object with a few allowed methods on it. It describes how the drop target reacts to the drag and drop events. See the drop target specification described in detail in the next section.</li> <li><code>collect</code>: Required. The collecting function. It should return a plain object of the props to inject into your component. It receives two parameters: <code>connect</code>and <code>monitor</code>. Read the overview for an introduction to the monitors, the connectors, and the collecting function. See the collecting function described in detail after the next section.</li> <li><code>options</code>: Optional. A plain object. If some of the props to your component are not scalar (that is, are not primitive values or functions), specifying a custom <code>arePropsEqual(props, otherProps)</code>function inside the <code>options</code>object can improve the performance. Unless you have performance problems, don't worry about it.</li> </ul>"},{"location":"third-part-lib/react-dnd/react-dnd-DropTarget/#drop-target-specification","title":"Drop Target Specification","text":"<p>The second <code>spec</code>parameter must be a plain object implementing the drop target specification. Below is the list of all methods that it may have.</p>"},{"location":"third-part-lib/react-dnd/react-dnd-DropTarget/#specification-methods","title":"Specification Methods","text":"<ul> <li><code>drop(props, monitor, component)</code>: Optional. Called when a compatible item is dropped on the target. You may either return undefined, or a plain object. If you return an object, it is going to become the drop result and will be available to the drag source in its <code>endDrag</code>method as <code>monitor.getDropResult()</code>. This is useful in case you want to perform different actions depending on which target received the drop. If you have nested drop targets, you can test whether a nested target has already handled <code>drop</code>by checking <code>monitor.didDrop()</code>and <code>monitor.getDropResult()</code>. Both this method and the source's <code>endDrag</code>method are good places to fire Flux actions. This method will not be called if <code>canDrop()</code>is defined and returns <code>false</code>.</li> <li><code>hover(props, monitor, component)</code>: Optional. Called when an item is hovered over the component. You can check <code>monitor.isOver({ shallow: true })</code>to test whether the hover happens over only the current target, or over a nested one. Unlike <code>drop()</code>, this method will be called even if <code>canDrop()</code>is defined and returns <code>false</code>. You can check <code>monitor.canDrop()</code>to test whether this is the case.</li> <li><code>canDrop(props, monitor)</code>: Optional. Use it to specify whether the drop target is able to accept the item. If you want to always allow it, then omit this method. Specifying it is handy if you'd like to disable dropping based on some predicate over <code>props</code>or <code>monitor.getItem()</code>. Note: You may not call <code>monitor.canDrop()</code>inside this method.</li> </ul> <p>The spec offers no methods to handle enter or leave events by purpose. Instead, return the result of <code>monitor.isOver()</code>call from your collecting function, so that you can use the <code>componentDidUpdate</code>React hook to process the entering and the leaving events in your component. You may also check <code>monitor.isOver({ shallow: true })</code>if don't want the nested drop targets to count.</p>"},{"location":"third-part-lib/react-dnd/react-dnd-DropTarget/#specification-method-parameters","title":"Specification Method Parameters","text":"<ul> <li><code>props</code>: Your component's current props.</li> <li><code>monitor</code>: An instance of <code>DropTargetMonitor</code>. Use it to query the information about the current drag state, such as the currently dragged item and its type, the current and initial coordinates and offsets, whether it is over the current target, and whether it can be dropped. Read the <code>DropTargetMonitor</code>documentation for a complete list of <code>monitor</code>methods, or read the overview for an introduction to the monitors.</li> <li><code>component</code>: When specified, it is the instance of your component. Use it to access the underlying DOM node for position or size measurements, or to call <code>setState</code>, and other component methods. It is purposefully missing from <code>canDrop</code>because the instance may not be available by the time it is called. If you want this method to depend on the component's state, consider lifting the state to the parent component, so that you can use <code>props</code>. Generally your code will be cleaner if you rely on <code>props</code>instead whenever possible. Do note this is always <code>null</code>when hovering stateless components.</li> </ul>"},{"location":"third-part-lib/react-dnd/react-dnd-DropTarget/#the-collecting-function","title":"The Collecting Function","text":"<p>Only specifying the drop target <code>types</code>and <code>spec</code>is not quite enough. There's still a few more things we need to take care of:</p> <ul> <li>connect the React DnD event handlers to some node in the component;</li> <li>pass some knowledge about the dragging state to our component.</li> </ul> <p>All communication between the React components happens via props, so it makes sense that React DnD injects special props into your component. However it gives you the freedom to name them and decide what props your component will receive.</p> <p>Your collecting function will be called by React DnD with a connector that lets you connect nodes to the DnD backend, and a monitor to query information about the drag state. It should return a plain object of props to inject into your component.</p> <p>If you're new to these concepts, the overview should give you a good idea about them.</p>"},{"location":"third-part-lib/react-dnd/react-dnd-DropTarget/#parameters_1","title":"Parameters","text":"<ul> <li><code>connect</code>: An instance of <code>DropTargetConnector</code>. It only has a single <code>dropTarget()</code>method. It returns a function you need to pass down to your component to connect the target DOM node to the React DnD backend. If you return something like <code>{ connectDropTarget: connect.dropTarget() }</code>from your <code>collect</code>function, the component will receive <code>connectDropTarget</code>as a prop so you can mark the relevant node inside its <code>render()</code>as droppable: <code>return this.props.connectDropTarget(...)</code>. You can see this pattern in action in the example at the end of this file. Read the <code>DropTargetConnector</code>documentation for a complete list of <code>connect</code>methods, or read the overview for an introduction to the connectors.</li> <li><code>monitor</code>: An instance of <code>DropTargetMonitor</code>. It is precisely the same <code>monitor</code>you receive in the drop target specification methods, and you can use it to query the information about the current drag state. Read the <code>DropTargetMonitor</code>documentation for a complete list of <code>monitor</code>methods, or read the overview for an introduction to the monitors.</li> <li><code>props</code>: The component's current props</li> </ul>"},{"location":"third-part-lib/react-dnd/react-dnd-DropTarget/#return-value","title":"Return Value","text":"<p><code>DropTarget</code>wraps your component and returns another React component. For easier testing, it provides an API to reach into the internals:</p>"},{"location":"third-part-lib/react-dnd/react-dnd-DropTarget/#static-properties","title":"Static Properties","text":"<ul> <li><code>DecoratedComponent</code>: Returns the wrapped component type.</li> </ul>"},{"location":"third-part-lib/react-dnd/react-dnd-DropTarget/#instance-methods","title":"Instance Methods","text":"<ul> <li><code>getDecoratedComponentInstance()</code>: Returns the wrapped component instance.</li> <li><code>getHandlerId()</code>: Returns the drag source ID that can be used to simulate the drag and drop events with the testing backend. Refer to the testing tutorial for a usage example.</li> </ul>"},{"location":"third-part-lib/react-dnd/react-dnd-DropTarget/#nesting-behavior","title":"Nesting Behavior","text":"<p>If a drop target is nested in another drop target, both <code>hover()</code>and <code>drop()</code>bubble from the innermost target up the chain. There is no way to cancel the propagation by design. Instead, any drop target may compare <code>monitor.isOver()</code>and <code>monitor.isOver({ shallow: true })</code>to verify whether a child, or the current drop target is being hovered. When dropping, any drop target in the chain may check whether it is the first in chain by testing if <code>monitor.didDrop()</code>returns <code>false</code>. Any parent drop target may override the drop result specified by the child drop target by explicitly returning another drop result from <code>drop()</code>. If a parent target returns <code>undefined</code>from its <code>drop()</code>handler, it does not change the existing drop result that may have been specified by a nested drop target. The drop targets that return <code>false</code>from <code>canDrop()</code>are excluded from the <code>drop()</code>dispatch.</p>"},{"location":"third-part-lib/react-dnd/react-dnd-DropTarget/#handling-files-and-urls","title":"Handling Files and URLs","text":"<p>When using the HTML5 backend, you can handle the file drops by registering a drop target for <code>HTML5Backend.NativeTypes.FILE</code>or <code>HTML5Backend.NativeTypes.URL</code>built-in types. Due to the browser security restrictions, <code>monitor.getItem()</code>does not provide any information about the files or the URLs until they are dropped.</p>"},{"location":"third-part-lib/react-dnd/react-dnd-DropTarget/#example","title":"Example","text":"<p>Check out the tutorial for more real examples!</p> <pre><code>import React from 'react'\nimport { findDOMNode } from 'react-dom'\nimport { DropTarget } from 'react-dnd'\n\n// Drag sources and drop targets only interact\n// if they have the same string type.\n// You want to keep types in a separate file with\n// the rest of your app's constants.\nconst Types = {\n  CHESSPIECE: 'chesspiece',\n}\n\n/**\n * Specifies the drop target contract.\n * All methods are optional.\n */\nconst chessSquareTarget = {\n  canDrop(props, monitor) {\n    // You can disallow drop based on props or item\n    const item = monitor.getItem()\n    return canMakeChessMove(item.fromPosition, props.position)\n  },\n\n  hover(props, monitor, component) {\n    // This is fired very often and lets you perform side effects\n    // in response to the hover. You can't handle enter and leave\n    // here\u2014if you need them, put monitor.isOver() into collect() so you\n    // can use componentDidUpdate() to handle enter/leave.\n\n    // You can access the coordinates if you need them\n    const clientOffset = monitor.getClientOffset()\n    const componentRect = findDOMNode(component).getBoundingClientRect()\n\n    // You can check whether we're over a nested drop target\n    const isOnlyThisOne = monitor.isOver({ shallow: true })\n\n    // You will receive hover() even for items for which canDrop() is false\n    const canDrop = monitor.canDrop()\n  },\n\n  drop(props, monitor, component) {\n    if (monitor.didDrop()) {\n      // If you want, you can check whether some nested\n      // target already handled drop\n      return\n    }\n\n    // Obtain the dragged item\n    const item = monitor.getItem()\n\n    // You can do something with it\n    ChessActions.movePiece(item.fromPosition, props.position)\n\n    // You can also do nothing and return a drop result,\n    // which will be available as monitor.getDropResult()\n    // in the drag source's endDrag() method\n    return { moved: true }\n  },\n}\n\n/**\n * Specifies which props to inject into your component.\n */\nfunction collect(connect, monitor) {\n  return {\n    // Call this function inside render()\n    // to let React DnD handle the drag events:\n    connectDropTarget: connect.dropTarget(),\n    // You can ask the monitor about the current drag state:\n    isOver: monitor.isOver(),\n    isOverCurrent: monitor.isOver({ shallow: true }),\n    canDrop: monitor.canDrop(),\n    itemType: monitor.getItemType(),\n  }\n}\n\nclass ChessSquare {\n  componentDidUpdate(prevProps) {\n    if (!prevProps.isOver &amp;&amp; this.props.isOver) {\n      // You can use this as enter handler\n    }\n\n    if (prevProps.isOver &amp;&amp; !this.props.isOver) {\n      // You can use this as leave handler\n    }\n\n    if (prevProps.isOverCurrent &amp;&amp; !this.props.isOverCurrent) {\n      // You can be more specific and track enter/leave\n      // shallowly, not including nested targets\n    }\n  }\n\n  render() {\n    // Your component receives its own props as usual\n    const { position } = this.props\n\n    // These props are injected by React DnD,\n    // as defined by your `collect` function above:\n    const { isOver, canDrop, connectDropTarget } = this.props\n\n    return connectDropTarget(\n      &lt;div className=\"Cell\"&gt;\n        {isOver &amp;&amp; canDrop &amp;&amp; &lt;div class=\"green\" /&gt;}\n        {!isOver &amp;&amp; canDrop &amp;&amp; &lt;div class=\"yellow\" /&gt;}\n        {isOver &amp;&amp; !canDrop &amp;&amp; &lt;div class=\"red\" /&gt;}\n      &lt;/div&gt;,\n    )\n  }\n}\n\nexport default DropTarget(\n  Types.CHESSPIECE,\n  chessSquareTarget,\n  collect,\n)(ChessSquare)\n</code></pre>"},{"location":"third-part-lib/react-dnd/react-dnd/","title":"react-dnd","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6229  \u9605\u8bfb13\u5206\u949f</p>"},{"location":"third-part-lib/react-dnd/react-dnd/#_1","title":"\u4ecb\u7ecd","text":"<p>React DnD \u662f\u4e00\u7ec4 React \u9ad8\u9636\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u7528\u6765\u5e2e\u4f60\u6784\u5efa\u590d\u6742\u7684\u62d6\u62fd\u63a5\u53e3\uff0c\u540c\u65f6\u89e3\u8026\u4f60\u7684\u7ec4\u4ef6\u3002React DnD \u975e\u5e38\u9002\u5408\u50cf Trello \u548c Storify \u8fd9\u6837\u7684\u5e94\u7528\uff0c\u5728\u4e0d\u540c\u5730\u65b9\u901a\u8fc7\u62d6\u62fd\u8f6c\u79fb\u6570\u636e\uff0c\u800c\u7ec4\u4ef6\u4f1a\u6539\u53d8\u5b83\u4eec\u7684\u5916\u89c2\u548c\u5e94\u7528\u7684\u72b6\u6001\u6765\u54cd\u5e94\u62d6\u62fd\u4e8b\u4ef6\u3002</p>"},{"location":"third-part-lib/react-dnd/react-dnd/#_2","title":"\u57fa\u672c\u7528\u6cd5","text":"<ol> <li> <p>\u628a\u5e94\u7528\u7684\u6839\u7ec4\u4ef6\u5305\u88c5\u5728 <code>DragDropContext</code> \u4e2d</p> </li> <li> <p>\u628a\u53ef\u4ee5\u62d6\u62fd\u7684\u7ec4\u4ef6\u5305\u88c5\u5728  <code>DragSource</code> \u4e2d</p> </li> <li> <p>\u8bbe\u7f6e type</p> </li> <li>\u8bbe\u7f6e spec\uff0c\u8ba9\u7ec4\u4ef6\u53ef\u4ee5\u54cd\u5e94\u62d6\u62fd\u4e8b\u4ef6</li> <li> <p>\u8bbe\u7f6e collect\uff0c\u628a\u62d6\u62fd\u8fc7\u7a0b\u4e2d\u9700\u8981\u4fe1\u606f\u6ce8\u5165\u7ec4\u4ef6\u7684 props</p> </li> <li> <p>\u628a\u53ef\u4ee5\u63a5\u53d7\u62d6\u62fd\u7684\u7ec4\u4ef6\u5305\u88c5\u5728 <code>DropTarget</code> \u4e2d</p> </li> <li> <p>\u8bbe\u7f6e type</p> </li> <li>\u8bbe\u7f6e spec\uff0c\u8ba9\u7ec4\u4ef6\u53ef\u4ee5\u54cd\u5e94\u62d6\u62fd\u4e8b\u4ef6</li> <li> <p>\u8bbe\u7f6e collect\uff0c\u628a\u62d6\u62fd\u8fc7\u7a0b\u4e2d\u9700\u8981\u4fe1\u606f\u6ce8\u5165\u7ec4\u4ef6\u7684 props</p> </li> <li> <p>\u5b8c</p> </li> </ol> <p>\u7ffb\u8bd1\u6210\u4ee3\u7801\u5c31\u662f\uff1a</p> <pre><code>// 1\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport { DragDropContext } from 'react-dnd';\n\nclass App { ... }\nexport default DragDropContext(HTML5Backend)(App);\n\n/*---------------------------*/\n\n// 2\nimport { DragSource } from 'react-dnd';\n\nclass MyComponent { ... }\nexport default DragSource(type, spec, collect)(MyComponent);\n\n/*---------------------------*/\n\n// 3\nimport { DropTarget } from 'react-dnd';\n\nclass MyComponent2 { ... }\nexport default DropTarget(types, spec, collect)(MyComponent2);\n</code></pre> <p>\u8fd9\u6837\uff0cMyComponent \u5c31\u53d8\u5f97\u53ef\u4ee5\u62d6\u62fd\uff0c\u800c MyComponent2 \u5c31\u53d8\u5f97\u53ef\u4ee5\u63a5\u53d7\u62d6\u62fd\u4e86\uff0c\u4f46\u8fd9\u5e76\u4e0d\u4ee3\u8868 MyComponent \u53ef\u4ee5\u653e\u5230 MyComponent2 \u4e2d\uff01</p> <p>\u4e00\u4e9b\u6982\u5ff5</p> <p>React DnD \u4e2d\u6709\u4e00\u4e9b\u7279\u6b8a\u7684\u6982\u5ff5\uff0c\u7406\u89e3\u8fd9\u4e9b\u6982\u5ff5\u4e4b\u540e\u624d\u80fd\u6d3b\u7528\u8fd9\u4e2a\u5e93\uff01</p> <ul> <li><code>Backend</code> \u5b9e\u73b0 DnD \u7684\u65b9\u5f0f\uff0c\u9ed8\u8ba4\u662f\u7528 HTML5 DnD API\uff0c\u5b83\u4e0d\u80fd\u5728\u89e6\u5c4f\u73af\u5883\u4e0b\u5de5\u4f5c\uff0c\u800c\u4e14\u5728 IE \u4e0b\u53ef\u5b9a\u5236\u6027\u6bd4\u5176\u4ed6\u6d4f\u89c8\u5668\u5f31\u3002\u4f60\u4e5f\u53ef\u4ee5\u7528\u81ea\u5df1\u5b9e\u73b0\uff0c\u5177\u4f53\u8bf7\u770b\u5b98\u65b9\u6587\u6863\u3002</li> <li><code>Items</code> \u62d6\u62fd\u6570\u636e\u7684\u8868\u73b0\u5f62\u5f0f\uff0c\u7528 Object \u6765\u8868\u793a\u3002\u8b6c\u5982\uff0c\u8981\u62d6\u62fd\u4e00\u5f20\u5361\u7247\uff0c\u90a3\u8fd9\u5f20\u5361\u7247\u7684**\u6570\u636e**\u7684\u8868\u73b0\u5f62\u5f0f\u53ef\u80fd\u662f <code>{ id: xxx, content: yyy }</code>\u3002</li> <li><code>Types</code> \u8868\u793a\u62d6/\u653e\u7ec4\u4ef6\u7684\u517c\u5bb9\u6027\uff0c<code>DragSource</code> \u548c <code>DropTarget</code> \u5fc5\u987b\u6307\u5b9a <code>type</code>\u3002\u53ea\u6709\u5728 <code>type</code> \u76f8\u540c\u7684\u60c5\u51b5\u4e0b\uff0c<code>DragSource</code> \u624d\u80fd\u653e\u5230 <code>DropTarget</code> \u4e2d\u3002</li> <li><code>Monitors</code> \u7528\u6765\u54cd\u5e94\u62d6\u62fd\u4e8b\u4ef6\uff0c\u53ef\u4ee5\u7528\u6765\u66f4\u65b0\u7ec4\u4ef6\u7684\u7684\u72b6\u6001\u3002</li> <li><code>Connectors</code> \u5e95\u5c42\u63a5\u89e6 DOM \u7684\u4e1c\u897f\uff0c\u7528\u6765\u5c01\u88c5\u4f60\u7684\u7ec4\u4ef6\uff0c\u8ba9\u4f60\u7684\u7ec4\u4ef6\u6709\u62d6\u62fd\u7684\u7279\u6027\u3002\u4e00\u822c\u5728 collect \u65b9\u6cd5\u4e2d\u6307\u5b9a\uff0c\u7136\u540e\u6ce8\u5165\u5230\u7ec4\u4ef6\u7684 props \u4e2d\uff0c\u6700\u540e render \u65b9\u6cd5\u4e2d\u5305\u88c5\u4f60\u81ea\u5df1\u7684\u7ec4\u4ef6\u3002</li> <li><code>DragSource &amp;&amp; DropTarget</code> \u628a\u4e0a\u9762\u7684\u6982\u5ff5\u90fd\u7ed1\u5728\u4e00\u8d77\u7684\u4e1c\u897f\uff0c\u4e5f\u662f\u771f\u6b63\u8ddf\u4f60\u7684\u7ec4\u4ef6\u6253\u4ea4\u9053\u7684\u4e1c\u897f\u3002</li> </ul>"},{"location":"third-part-lib/react-dnd/react-dnd/#api","title":"\u4e3b\u8981 API \u4ecb\u7ecd","text":"<p>\u8fd9\u4e9b\u4e3b\u8981 API \u90fd\u662f\u901a\u8fc7\u5305\u88c5\u4f60\u7684\u7ec4\u4ef6\uff0c\u7136\u540e\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u7ec4\u4ef6\u3002</p>"},{"location":"third-part-lib/react-dnd/react-dnd/#dragdropcontextbackend","title":"DragDropContext(backend)","text":"<ul> <li><code>backend   <pre><code> \u5b9e\u73b0 DnD \u7684\u65b9\u5f0f\uff0c\u4e00\u822c\u662f HTML5Backend\n</code></pre>   export default DragDropContext(HTML5Backend)(App);</code></li> </ul>"},{"location":"third-part-lib/react-dnd/react-dnd/#dragsourcetype-spec-collect","title":"DragSource(type, spec, collect)","text":""},{"location":"third-part-lib/react-dnd/react-dnd/#droptargettype-spec-collect","title":"DropTarget(type, spec, collect)","text":"<ul> <li> <p><code>type</code> \u5fc5\u987b\u3002type \u662f\u81ea\u5b9a\u4e49\u7684\uff0c\u53ef\u4ee5\u662f string\uff0csymbol\uff0c\u4e5f\u53ef\u4ee5\u662f\u7528\u4e00\u4e2a\u51fd\u6570\u6765\u8fd4\u56de\u8be5\u7ec4\u4ef6\u7684\u5176\u4ed6 props\u3002\u8be5\u7ec4\u4ef6\u53ea\u80fd\u653e\u5230\u76f8\u540c type \u7684 DropTarget \u4e2d\u3002</p> </li> <li> <p><code>spec</code> \u5fc5\u987b\u3002\u4e00\u4e2a\u5e26\u6709\u7279\u5b9a\u65b9\u6cd5\u7684\u7eaf Object\uff0c\u91cc\u9762\u662f\u4e00\u4e9b\u54cd\u5e94\u62d6\u62fd\u4e8b\u4ef6\u7684\u65b9\u6cd5\u3002</p> </li> <li> <p><code>collect</code> \u5fc5\u987b\u3002\u4e00\u4e2a\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a Object\uff0c\u8fd9\u4e2a Object \u4f1a\u6ce8\u5165\u5230\u7ec4\u4ef6\u7684 props \u4e2d\u3002</p> </li> <li> <p>```   options   <pre><code> \u53ef\u9009\u3002\u9664\u975e\u6709\u6027\u80fd\u95ee\u9898\uff0c\u5426\u5219\u4e0d\u9700\u8981\u5173\u5fc3\u8fd9\u4e2a\u53c2\u6570\u3002\n</code></pre>   const type = 'xxx';   const spec = { ... };   function collect(connect, monitor) { ... }</p> </li> </ul> <p>export default DragSource(type, spec, collect)(MyComponent);   export default DropTarget(type, spec, collect)(MyComponent2);   ```</p>"},{"location":"third-part-lib/react-dnd/react-dnd/#dragsourcespec","title":"DragSource#spec","text":"<p>\u8ba9\u4f60\u7684\u7ec4\u4ef6\u54cd\u5e94 dnd \u76f8\u5173\u4e8b\u4ef6\uff0c\u652f\u6301\u4ee5\u4e0b\u65b9\u6cd5\uff1a</p> <ul> <li><code>beginDrag(props, monitor, component)</code> \u5fc5\u987b</li> <li><code>endDrag(props, monitor, component)</code> \u53ef\u9009</li> <li><code>canDrag(props, monitor)</code> \u53ef\u9009</li> <li><code>isDragging(props, monitor)</code> \u53ef\u9009</li> </ul> <p>\u53c2\u6570\u542b\u4e49\u5982\u4e0b\uff1a</p> <ul> <li> <p><code>props</code> \u7ec4\u4ef6\u5f53\u524d\u7684 props</p> </li> <li> <p><code>monitor</code> \u662f\u4e00\u4e2a <code>DragSourceMonitor</code> \u5b9e\u4f8b\uff0c\u7528\u6765\u67e5\u8be2\u5f53\u524d drag state \u7684\u4fe1\u606f\u3002</p> </li> <li> <p><code>component   <pre><code> \u8868\u793a\u5f53\u524d\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u7701\u7565\u3002\n</code></pre>   const spec = {      beginDrag(props) {      return {       id: props.id,        content: props.content      }    }   //...   }</code></p> </li> </ul>"},{"location":"third-part-lib/react-dnd/react-dnd/#droptargetspec","title":"DropTarget#spec","text":"<p>\u8ba9\u4f60\u7684\u7ec4\u4ef6\u54cd\u5e94 dnd \u76f8\u5173\u4e8b\u4ef6\uff0c\u652f\u6301\u4ee5\u4e0b\u65b9\u6cd5\uff1a</p> <ul> <li><code>drop(props, monitor, component)</code> \u53ef\u9009\uff0c\u54cd\u5e94 drop \u4e8b\u4ef6</li> <li><code>hover(props, monitor, component)</code> \u53ef\u9009</li> <li><code>canDrop(props, monitor)</code> \u53ef\u9009</li> </ul> <p>\u53c2\u6570\u542b\u4e49\u5982\u4e0b\uff1a</p> <ul> <li> <p><code>props</code> \u7ec4\u4ef6\u5f53\u524d\u7684 props</p> </li> <li> <p><code>monitor</code> \u662f\u4e00\u4e2a <code>DropTargetMonitor</code> \u5b9e\u4f8b\uff0c\u7528\u6765\u67e5\u8be2\u5f53\u524d drag state \u7684\u4fe1\u606f\u3002</p> </li> <li> <p>```   component   <pre><code> \u8868\u793a\u5f53\u524d\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u7701\u7565\u3002\n</code></pre>   const spec = {       drop(props, monitor, component) {           // \u83b7\u53d6\u6b63\u5728\u62d6\u653e\u7684\u6570\u636e           const item = monitor.getItem();           // \u66f4\u65b0\u7ec4\u4ef6\u72b6\u6001           component.setState({              item          })</p> <p>}   }   ```</p> </li> </ul>"},{"location":"third-part-lib/react-dnd/react-dnd/#dragsourcecollectconnect-monitor","title":"DragSource#collect(connect, monitor)","text":""},{"location":"third-part-lib/react-dnd/react-dnd/#droptargetcollectconnect-monitor","title":"DropTarget#collect(connect, monitor)","text":"<p>\u8fd4\u56de\u4e00\u4e2a object\uff0c\u8fd9\u4e2a object \u53ef\u4ee5\u4f1a\u6ce8\u5165\u5230\u7ec4\u4ef6\u7684 props \u4e2d\u3002</p> <ul> <li> <p><code>connect</code> \u4e00\u4e2a <code>DragSourceConnector</code>/<code>DropTargetConnector</code> \u5b9e\u4f8b\uff0c\u53ef\u4ee5\u7528 <code>connect.dragSource()</code>/<code>connect.dropTarget()</code> \u6765\u5c01\u88c5\u6211\u4eec\u7684\u7ec4\u4ef6\u3002</p> </li> <li> <p>```   monitor   <pre><code> \u4e00\u4e2a \n</code></pre>   DragSourceMonitor   <pre><code>/\n</code></pre>   DropTargetMonitor   <pre><code> \u5b9e\u4f8b\uff0c\u7528\u6765\u67e5\u8be2\u5f53\u524d\u62d6\u62fd\u7684\u4fe1\u606f\u3002\n\n\n\n```js\nfunction collect(connect, monitor) {\n   return {\n      isDragging: monitor.isDragging(),\n      connectDragSource: connect.dragSource()\n    }\n}\n\nclass MyComponent extends Component {\n    render() {\n      // \u53ef\u4ee5\u8bbf\u95ee collect \u4e2d\u8fd4\u56de\u7684 object\n      const { isDragging, connectDragSource } = this.props;\n      // \u9700\u8981\u7528 connect.dragSource()/connect.dropTarget() \u5c01\u88c5\u81ea\u5df1\u7684\u7ec4\u4ef6\n      return connectDragSource(\n        &lt;div&gt;123&lt;/div&gt;\n      )\n  }\n}\n</code></pre></p> </li> </ul> <p>\u8f6c\u81ea\uff1ahttps://scarletsky.github.io/2015/11/17/react-dnd-usage/</p>"},{"location":"third-part-lib/react-dnd/react-dnd%E4%BD%BF%E7%94%A8%E6%89%8B%E8%AE%B0/","title":"react-dnd\u4f7f\u7528\u624b\u8bb0","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 8409  \u9605\u8bfb17\u5206\u949f</p> <ol> <li>\u5b89\u88c5    <code>yarn add react-dnd react-dnd-html5-backend</code></li> <li> <p>\u4e86\u89e3\u76f8\u5e94API</p> </li> <li> <p>DragSource DropTarget</p> </li> </ol> <p>DragSource\u7528\u4e8e\u5305\u88c5\u4f60\u9700\u8981\u62d6\u52a8\u7684\u7ec4\u4ef6\uff0c\u4f7f\u7ec4\u4ef6\u80fd\u591f\u88ab\u62d6\u62fd\uff08make it draggable\uff09</p> <p>DropTarget \u7528\u4e8e\u5305\u88c5\u63a5\u6536\u62d6\u62fd\u5143\u7d20\u7684\u7ec4\u4ef6\uff0c\u4f7f\u7ec4\u4ef6\u80fd\u591f\u653e\u7f6e\uff08dropped on it\uff09</p> <p>\u53c2\u6570:(type, spec, collect)</p> <ul> <li> <p>type: <code>string|symbol|\u7528\u4e00\u4e2a\u51fd\u6570\u6765\u8fd4\u56de\u8be5\u7ec4\u4ef6\u7684\u5176\u4ed6 props</code>\u62d6\u62fd\u7c7b\u578b\uff0c\u5fc5\u586b\u3002</p> </li> <li> <p>spec: \u62d6\u62fd\u4e8b\u4ef6\u7684\u65b9\u6cd5\u5bf9\u8c61\uff0c\u5fc5\u586b\u3002     source\u7ec4\u4ef6\u7684spec \u53ef\u4ee5\u5b9a\u4e49**\u62d6\u52a8**\u76f8\u5173\u7684\u4e8b\u4ef6     target\u7ec4\u4ef6\u7684spec \u53ef\u4ee5\u5b9a\u4e49**\u653e\u7f6e**\u76f8\u5173\u7684\u4e8b\u4ef6</p> <p>e.g. DragSource specObj</p> <ul> <li>beginDrag(props, monitor, component): \u62d6\u52a8\u5f00\u59cb\u65f6\u89e6\u53d1\u7684\u4e8b\u4ef6\uff0c\u5fc5\u987b\u3002\u8fd4\u56de\u8ddfprops\u76f8\u5173\u7684\u5bf9\u8c61</li> <li>endDrag(props, monitor, component): \u62d6\u52a8\u7ed3\u675f\u65f6\u89e6\u53d1\u7684\u4e8b\u4ef6\uff0c\u53ef\u9009\u3002</li> <li>canDrag(props, monitor): \u5f53\u524d\u662f\u5426\u53ef\u4ee5\u62d6\u62fd\u7684\u4e8b\u4ef6\uff0c\u53ef\u9009\u3002</li> <li>isDragging(props, monitor): \u62d6\u62fd\u65f6\u89e6\u53d1\u7684\u4e8b\u4ef6\uff0c\u53ef\u9009\u3002</li> </ul> <p>e.g. DropTarget specObj</p> <ul> <li>drop(props, monitor, component) \u7ec4\u4ef6\u653e\u4e0b\u65f6\u89e6\u53d1\u7684\u4e8b\u4ef6\uff0c\u53ef\u9009\u3002</li> <li>hover(props, monitor, component) \u7ec4\u4ef6\u5728DropTarget\u4e0a\u65b9\u65f6\u54cd\u5e94\u7684\u4e8b\u4ef6\uff0c\u53ef\u9009\u3002</li> <li>canDrop(props, monitor) \u7ec4\u4ef6\u53ef\u4ee5\u88ab\u653e\u7f6e\u65f6\u89e6\u53d1\u7684\u4e8b\u4ef6\uff0c\u53ef\u9009\u3002</li> </ul> <p>specObj \u5bf9\u8c61\u65b9\u6cd5\u76f8\u5173\u53c2\u6570</p> <ul> <li> <p>props\uff1a \u7ec4\u4ef6\u5f53\u524d\u7684props</p> </li> <li> <p>monitor\uff1a\u67e5\u8be2\u5f53\u524d\u7684\u62d6\u62fd\u72b6\u6001\uff0c\u6bd4\u5982\u5f53\u524d\u62d6\u62fd\u7684item\u548c\u5b83\u7684type\uff0c\u5f53\u524d\u62d6\u62fd\u7684offsets\uff0c\u5f53\u524d\u662f\u5426dropped\u3002\u5177\u4f53\u83b7\u53d6\u65b9\u6cd5\uff0c\u53c2\u770b</p> </li> </ul> <p>collect \u53c2\u6570 monitor \u90e8\u5206</p> <ul> <li><code>source\u7ec4\u4ef6</code> \u7684 monitor \u53c2\u6570\u662f DragSourceMonitor \u7684\u5b9e\u4f8b</li> <li> <p><code>target\u7ec4\u4ef6</code> \u7684 monitor \u53c2\u6570\u662f DropTargetMonitor \u7684\u5b9e\u4f8b</p> </li> <li> <p>component\uff1a\u5f53\u524d\u7ec4\u4ef6\u5b9e\u4f8b</p> </li> </ul> </li> <li> <p>collect: \u628a\u62d6\u62fd\u8fc7\u7a0b\u4e2d\u9700\u8981\u4fe1\u606f\u6ce8\u5165\u7ec4\u4ef6\u7684 props\uff0c\u63a5\u6536\u4e24\u4e2a\u53c2\u6570 connect and monitor\uff0c\u5fc5\u586b\u3002     collect\u662f\u4e00\u4e2a\u8fd4\u56de\u4e00\u4e2a\u4f1a\u6ce8\u5165\u5230\u7ec4\u4ef6\u7684 props \u4e2d\u5bf9\u8c61\u7684\u51fd\u6570\uff0c\u5373\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 this.props \u83b7\u53d6collect\u8fd4\u56de\u7684\u6240\u6709\u5c5e\u6027\u3002     \u53c2\u6570:(connect, monitor)</p> <ul> <li> <p>connect</p> </li> <li> <p><code>source\u7ec4\u4ef6</code> collect \u4e2d connect\u662f DragSourceConnector\u7684\u5b9e\u4f8b\uff0c\u5b83\u5185\u7f6e\u4e86\u4e24\u4e2a\u65b9\u6cd5\uff1a<code>dragSource()</code> \u548c <code>dragPreview()</code>\u3002<code>dragSource()</code>\u8fd4\u56de\u4e00\u4e2a\u65b9\u6cd5\uff0c\u5c06<code>source\u7ec4\u4ef6</code>\u4f20\u5165\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5c06 source DOM \u548c React DnD backend \u8fde\u63a5\u8d77\u6765\uff1b<code>dragPreview()</code> \u8fd4\u56de\u4e00\u4e2a\u65b9\u6cd5\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165\u8282\u70b9\uff0c\u4f5c\u4e3a\u62d6\u62fd\u9884\u89c8\u65f6\u7684\u89d2\u8272\u3002</p> </li> <li> <p><code>target\u7ec4\u4ef6</code> collect \u4e2d connect\u662f DropTargetConnector\u7684\u5b9e\u4f8b\uff0c\u5185\u7f6e\u7684\u65b9\u6cd5 <code>dropTarget()</code> \u5bf9\u5e94 <code>dragSource()</code>\uff0c\u8fd4\u56de\u53ef\u4ee5\u5c06 drop target \u548c React DnD backend \u8fde\u63a5\u8d77\u6765\u7684\u65b9\u6cd5\u3002</p> </li> <li> <p>monitor</p> </li> </ul> <p>\u7528\u4e8e\u67e5\u8be2\u5f53\u524d\u7684\u62d6\u62fd\u72b6\u6001\uff0c\u5176\u5bf9\u5e94\u5b9e\u4f8b\u5185\u7f6e\u4e86\u5f88\u591a\u65b9\u6cd5\u3002</p> <ul> <li><code>source\u7ec4\u4ef6</code> collect \u4e2d monitor\u662f DragSourceMonitor\u7684\u5b9e\u4f8b\u3002</li> <li><code>target\u7ec4\u4ef6</code> collect \u4e2d monitor\u662f DropTargetMonitor\u7684\u5b9e\u4f8b\u3002     \u5185\u7f6e\u65b9\u6cd5\u5217\u8868\uff1a</li> </ul> </li> </ul> <pre><code>// DragSourceMonitor\nmonitor.canDrag()        // \u662f\u5426\u80fd\u88ab\u62d6\u62fd\nmonitor.isDragging()      // \u662f\u5426\u6b63\u5728\u62d6\u62fd\nmonitor.getItemType()     // \u62d6\u62fd\u7ec4\u4ef6type\nmonitor.getItem()         // \u5f53\u524d\u62d6\u62fd\u7684item\nmonitor.getDropResult()   // \u67e5\u8be2drop\u7ed3\u679c\nmonitor.didDrop()         // source\u662f\u5426\u5df2\u7ecfdrop\u5728target\nmonitor.getInitialClientOffset()   // \u62d6\u62fd\u7ec4\u4ef6\u521d\u59cb\u62d6\u62fd\u65f6offset\nmonitor.getInitialSourceClientOffset()\nmonitor.getClientOffset() // \u62d6\u62fd\u7ec4\u4ef6\u5f53\u524doffset\nmonitor.getDifferenceFromInitialOffset() // \u5f53\u524d\u62d6\u62fdoffset\u548c\u521d\u59cb\u62d6\u62fdoffset\u7684\u5dee\u522b\nmonitor.getSourceClientOffset()\n\n// DropTargetMonitor\nmonitor.canDrop()         // \u662f\u5426\u53ef\u88ab\u653e\u7f6e\nmonitor.isOver(options)   // source\u662f\u5426\u5728target\u4e0a\u65b9\nmonitor.getItemType()     // \u62d6\u62fd\u7ec4\u4ef6type\nmonitor.getItem()         // \u5f53\u524d\u62d6\u62fd\u7684item\nmonitor.getDropResult()   // \u67e5\u8be2drop\u7ed3\u679c\nmonitor.didDrop()         // source\u662f\u5426\u5df2\u7ecfdrop\u5728target\nmonitor.getInitialClientOffset()   // \u62d6\u62fd\u7ec4\u4ef6\u521d\u59cb\u62d6\u62fd\u65f6offset\nmonitor.getInitialSourceClientOffset()\nmonitor.getClientOffset() // \u62d6\u62fd\u7ec4\u4ef6\u5f53\u524doffset\nmonitor.getDifferenceFromInitialOffset() // \u5f53\u524d\u62d6\u62fdoffset\u548c\u521d\u59cb\u62d6\u62fdoffset\u7684\u5dee\u522b\nmonitor.getSourceClientOffset()\n</code></pre> <ul> <li>DragDropContext   \u7528\u4e8e\u5305\u88c5\u62d6\u62fd\u6839\u7ec4\u4ef6\uff0cDragSource \u548c DropTarget \u90fd\u9700\u8981\u5305\u88f9\u5728DragDropContex\u5185</li> <li> <p>DragDropContextProvider   \u4e0e DragDropContext \u7c7b\u4f3c\uff0c\u7528 DragDropContextProvider \u5143\u7d20\u5305\u88f9\u62d6\u62fd\u6839\u7ec4\u4ef6\u3002</p> </li> <li> <p>\u57fa\u672c\u6982\u5ff5\u7406\u89e3</p> </li> <li> <p>Backend \u5b9e\u73b0 DnD \u7684\u65b9\u5f0f\uff0c\u9ed8\u8ba4\u662f\u7528 HTML5 DnD API\uff0c\u5b83\u4e0d\u80fd\u5728\u89e6\u5c4f\u73af\u5883\u4e0b\u5de5\u4f5c\uff0c\u800c\u4e14\u5728 IE \u4e0b\u53ef\u5b9a\u5236\u6027\u6bd4\u5176\u4ed6\u6d4f\u89c8\u5668\u5f31\u3002\u4f60\u4e5f\u53ef\u4ee5\u7528\u81ea\u5df1\u5b9e\u73b0\uff0c\u5177\u4f53\u8bf7\u770b\u5b98\u65b9\u6587\u6863\u3002</p> </li> <li>Items \u62d6\u62fd\u6570\u636e\u7684\u8868\u73b0\u5f62\u5f0f\uff0c\u7528 Object \u6765\u8868\u793a\u3002\u8b6c\u5982\uff0c\u8981\u62d6\u62fd\u4e00\u5f20\u5361\u7247\uff0c\u90a3\u8fd9\u5f20\u5361\u7247\u7684\u6570\u636e\u7684\u8868\u73b0\u5f62\u5f0f\u53ef\u80fd\u662f { id: xxx, content: yyy }\u3002</li> <li>Types \u8868\u793a\u62d6/\u653e\u7ec4\u4ef6\u7684\u517c\u5bb9\u6027\uff0cDragSource \u548c DropTarget \u5fc5\u987b\u6307\u5b9a type\u3002\u53ea\u6709\u5728 type \u76f8\u540c\u7684\u60c5\u51b5\u4e0b\uff0cDragSource \u624d\u80fd\u653e\u5230 DropTarget \u4e2d\u3002   \u8865\u5145\u4ee3\u7801\u793a\u4f8b\uff1a   App.js</li> </ul> <pre><code>import React, { Component } from 'react';\nimport { DragDropContextProvider } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend'\nimport Card from './ColorBox/Card'\nimport './App.css';\n\nconst CardList = ['red', 'green', 'yellow', 'blue'];\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      cardList: CardList\n    }\n    this.moveCard = this.moveCard.bind(this)\n    this.findCard = this.findCard.bind(this)\n  }\n\n  moveCard(droppedId, target) {\n    let { cardList } = this.state;\n    let source = cardList.indexOf(droppedId);\n    cardList[source] = cardList[target];\n    cardList[target] = droppedId;\n    this.setState({\n      cardList\n    })\n  }\n\n  findCard(id) {\n    let { cardList } = this.state;\n    const card = cardList.filter(c =&gt; c === id)[0]\n    return {\n      card,\n      index: cardList.indexOf(card),\n    }\n  }\n\n  render() {\n    let { cardList } = this.state;\n    return (\n      &lt;DragDropContextProvider backend={HTML5Backend}&gt;\n        &lt;div className=\"App\"&gt;\n          {cardList.map((item, index) =&gt; {\n            return &lt;Card\n                     className={item}\n                     id={item}\n                     index={index}\n                     moveCard={this.moveCard}\n                     findCard={this.findCard}\n                     key={item} /&gt;\n          })}\n        &lt;/div&gt;\n      &lt;/DragDropContextProvider&gt;\n    );\n  }\n}\n\nexport default App\n</code></pre> <p>Card.js</p> <pre><code>import React, { Component } from 'react';\nimport { DragSource, DropTarget } from 'react-dnd';\n\nconst sourceSpec = {\n  beginDrag(props) {\n    return {\n      id: props.id,\n      index: props.index\n    }\n  },\n  // endDrag(props, monitor) {\n  //  const { id: droppedId, index } = monitor.getItem()\n  //  const didDrop = monitor.didDrop()\n  //  debugger\n\n  //  if (!didDrop) {\n  //      props.moveCard(droppedId, index)\n  //  }\n  // },\n}\n\nconst targetSpec = {\n  canDrop() {\n    return false\n  },\n\n  hover(props, monitor) {\n    const { id: draggedId } = monitor.getItem()\n    const { id: overId } = props\n\n    if (draggedId !== overId) {\n      const { index: overIndex } = props.findCard(overId);\n      props.moveCard(draggedId, overIndex)\n    }\n  },\n}\n\n@DragSource('box', sourceSpec, (connect, monitor) =&gt; ({\n  connectDragSource: connect.dragSource(),\n  isDragging: monitor.isDragging(),\n}))\n@DropTarget('box', targetSpec, connect =&gt; ({\n  connectDropTarget: connect.dropTarget(),\n}))\nclass Card extends Component {\n  // constructor(props){\n  //  super(props)\n  // }\n  render() {\n    let { connectDragSource, connectDropTarget, className } = this.props\n\n    return connectDropTarget(\n      (connectDragSource(&lt;div className={className}&gt;&lt;/div&gt;))\n    );\n  }\n}\n\nexport default Card;\n</code></pre>"},{"location":"third-part-lib/slate/","title":"Slate-learning","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 379  \u9605\u8bfb1\u5206\u949f</p>"},{"location":"third-part-lib/slate/#slate-main-core","title":"slate main core","text":"<p>Slate main core contians several APIs. The structure of slate-document is same as DOM-trss. The top node of Slate is Document. The Document node contain several Range, Inline, Text nodes. At least one text node is needed.</p> <p>Selection is an inportant part. It has Value of current delection. And the anchor offset proprities are alse useful.</p>"},{"location":"third-part-lib/slate/Slate%20remove%20leaves/","title":"slate remove leaves","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5655  \u9605\u8bfb12\u5206\u949f</p>"},{"location":"third-part-lib/slate/Slate%20remove%20leaves/#text","title":"text \u8282\u70b9\u5c5e\u6027\u6539\u53d8","text":"<p>With the pull request, text nodes no longer have a <code>.leaves</code> property. Instead, each text node has a unique set of marks. Which means...</p> <p>\u73b0\u5728 text \u8282\u70b9\u6ca1\u6709 leaves \u8fd9\u4e2a\u5c5e\u6027\u3002\u53d6\u4ee3\u8fd9\u4e2a\u5c5e\u6027\u7684\u662f\u4e00\u4e2a\u72ec\u7279\u7684\u4e00\u7cfb\u5217\u7684 marks. \u8fd9\u5c31\u610f\u5473\u7740\uff1a</p> <ul> <li>When a new mark is added to a partial length of a text node, it is split in two.\u5728\u4e00\u4e2a\u6587\u672c\u8282\u70b9\u4e2d\u95f4\u52a0\u5165\u4e00\u4e2a\u90e8\u5206\u957f\u5ea6\u7684 mark \uff0c\u4e00\u4e2a\u6587\u672c\u8282\u70b9\u53d8\u6210\u4e24\u4e2a\u6587\u672c\u8282\u70b9\u3002</li> <li>When adjacent text nodes have the same marks, they are merged. \u5f53\u76f8\u90bb\u7684\u6587\u672c\u8282\u70b9\u5177\u6709\u76f8\u540c\u7684 marks \u4ed6\u4eec\u5c06\u4f1a\u5408\u5e76\u3002</li> </ul> <p>This reduces some unnecessary nesting in the data model, and simplifies a few other pieces of logic as a result.</p> <p>\u8fd9\u6837\u7684\u597d\u5904\u662f\uff0c\u51cf\u5c11\u4e86\u6570\u636e\u6a21\u578b\u4e2d\u7684\u4e0d\u5fc5\u8981\u7684\u5d4c\u5957\uff0c\u7b80\u5316\u4e86\u5176\u4ed6\u4e00\u90e8\u5206\u7684\u903b\u8f91\u7247\u6bb5\u3002</p>"},{"location":"third-part-lib/slate/Slate%20remove%20leaves/#breaking","title":"BREAKING \u66f4\u65b0","text":"<p>1\u3001Mark operations no longer have offset or length properties. Since text nodes now contain a unique set of marks, it wouldn't make sense for a single mark-related operation to result in a splitting of nodes. Instead, when a mark is added to only part of a text node, it will result in a <code>split_node</code>operation as well as an <code>add_mark</code> operation.</p> <p>Mark \u64cd\u4f5c\u4e0d\u4f1a\u6709 offset \u6216\u8005 length \u7684\u5c5e\u6027\u3002\u65e2\u7136\u6587\u672c\u8282\u70b9\u5305\u542b\u4e86\u4e00\u4e2a\u72ec\u7279\u7684 marks\uff0c\u90a3\u4e48\u4e0e\u6807\u8bb0\u76f8\u5173\u7684\u64cd\u4f5c\uff0c\u5bfc\u81f4\u8282\u70b9\u5206\u88c2\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002</p> <p>2\u3001Text operations no longer have a marks property. Previously it was used to add text with a specific set of marks. However this is no longer necessary, and when text is added with marks it will result in an <code>insert_text</code> operation as well as an <code>add_mark</code> operation.</p> <p>Text \u64cd\u4f5c\u4e0d\u5177\u6709\u4e00\u4e2a marks \u5c5e\u6027\u3002</p> <p>3\u3001Using Text.create or Text.createList with a leaves property will error. Now that text nodes no longer have leaves, you will need to pass in the <code>text</code> string and <code>marks</code> directly when creating a new text node. (However, you can still create entire values using <code>Value.create</code> in a backwards compatible way for convenience while migrating.)</p> <p>\u91cd\u70b9\uff1a\u4f7f\u7528 Text.create \u6216\u8005 Text.createList \u65b9\u6cd5\uff0c\u5305\u542b\u4e00\u4e2a leaves \u5c5e\u6027\u5c06\u4f1a\u62a5\u9519 \u73b0\u5728 text \u8282\u70b9\u6ca1\u6709 leaves \u5b50\u8282\u70b9\uff0c\u521b\u5efa\u4e00\u4e2a\u6587\u672c\u8282\u70b9\u65f6\uff0c\u4f60\u9700\u8981\u76f4\u63a5\u4f20\u9012\u4e00\u4e2a text \u5b57\u7b26\u4e32\u548c marks. \u7136\u800c\uff0c \u4f60\u4ecd\u7136\u53ef\u4ee5\u7528 Value.create \u521b\u5efa\u4e00\u4e2a\u6574\u4e2a\u7684 values.</p> <pre><code>// This works, although deprecated, which is the common case...\nValue.create(oldValueJson)\n\n// ...but this will error!\nText.create(oldTextJson)\n</code></pre> <p>4\u3001Value.toJSON returns the new data model format, without leaves. Although <code>Value.fromJSON</code> and <code>Value.create</code> allow the old format in deprecated mode, calling <code>Value.toJSON</code> will return the new data format. If you still need the old one you'll need to iterate the document tree converting text nodes yourself.</p> <p>Value.toJSON \u4f1a\u8fd4\u56de\u65b0\u7684\u6570\u636e\u6a21\u578b(\u4e0d\u5305\u542bleaves) \u5c3d\u7ba1\u4f7f\u7528 Value.fromJSON or Value.create \u5141\u8bb8\u5c31\u683c\u5f0f\uff0c\u4f7f\u7528 toJSON \u4f1a\u8fd4\u56de\u65b0\u7684\u7ed3\u679c\u3002</p> <p>5\u3001The  and  hyperscript tags must now return a single text node. Previously they were more lenient, and might return an array of text nodes. This made it hard to be explicit in tests, and made certain configurations impossible. This new restriction makes it easier to reason about what the tags return, even if it makes certain cases slightly more verbose. For example: <p>\u73b0\u5728\u6bcf\u4e00\u4e2a text or mark \u8d85\u7ea7\u6587\u672c\u6807\u8bb0\u6807\u7b7e\u8fd4\u56de\u4e00\u4e2a\u5355\u72ec\u7684\u6587\u672c\u8282\u70b9\u3002</p> <pre><code>&lt;paragraph&gt;\n  &lt;b&gt;a few &lt;i&gt;italic&lt;/i&gt; and bold words.&lt;/b&gt;\n&lt;/paragraph&gt;\n</code></pre> <p>Must now be written as:</p> <pre><code>&lt;paragraph&gt;\n  &lt;b&gt;a few &lt;/b&gt;\n  &lt;b&gt;&lt;i&gt;italic&lt;/i&gt;&lt;/b&gt;\n  &lt;b&gt; and bold words.&lt;/b&gt;\n&lt;/paragraph&gt;\n</code></pre> <p>Slightly more verbose, but with the benefit of being easy to tell exactly how many text nodes you will receive in your resulting document. And it allows setting <code>key=</code> values on the mark tags directly, since they map <code>1:1</code> to text nodes.</p> <p>6\u3001The HTML serializer has been updated to remove text.leaves. For serializing it requires you pass in the new format for text nodes. And for deserializing it will return the new format.</p> <p>Serializer \u51fd\u6570\u5c06\u4f1a\u79fb\u51fa text.leaves \u65b9\u6cd5\u3002\u4f60\u9700\u8981\u4f20\u5165\u65b0\u7684text\u8282\u70b9</p> <p>7\u3001The Plain serializer has been updated to remove text.leaves. For serializing it requires you pass in the new format for text nodes. And for deserializing it will return the new format.</p> <p>plain serializer \u4e5f\u4f1a\u5220\u9664 text.leaves</p> <p>8\u3001The low-level Value.* and Node.* mutation methods have changed. These changes follow the operation signature changes, since the methods take the same arguments as the operations themselves. For example:</p> <pre><code>// Previously...\nvalue.addMark(path, offset, length, mark)\n\n// ...is now:\nvalue.addMark(path, mark)\n</code></pre> <p>These are low-level methods, so this change shouldn't affect the majority of use cases.</p>"},{"location":"third-part-lib/slate/Slate%20remove%20leaves/#deprecated","title":"DEPRECATED \u5f03\u7528","text":"<p>Initializing editors with Text nodes with a leaves property is deprecated. In this new version of Slate, creating a new value with <code>Value.create</code> with the old leaf data model is still allowed for convenience in migration, but it will be removed in a coming version. (However, using the low-level <code>Text.create</code> will throw an error!)</p> <p>\u521d\u59cb\u5316 editor \u65f6\uff0ctext\u8282\u70b9\u9644\u52a0\u4e00\u4e2a leaves \u88ab\u5f03\u7528\u3002\u5728\u8fd9\u4e2a\u7248\u672c\u4e2d\uff0c\u65b0\u65b9\u6cd5\u4e2d\u4f7f\u7528\u65e7\u7684\u53f6\u8282\u70b9\u8fd8\u53ef\u4ee5\u4f7f\u7528\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u5728\u4e0b\u4e00\u4e2a\u7248\u672c\u4e2d\u5c06\u4f1a\u79fb\u51fa\u3002\u5c06\u4f1a\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002</p> <pre><code>// This works, although deprecated, which is the common case...\nValue.create(oldValueJson)\n\n// ...but this will error!\nText.create(oldTextJson)\n</code></pre>"},{"location":"third-part-lib/slate/slate-new-API/","title":"slate \u65b0\u7248\u8bf4\u660e","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 5503  \u9605\u8bfb12\u5206\u949f</p>"},{"location":"third-part-lib/slate/slate-new-API/#value","title":"value\u5168\u5c40\u5bf9\u8c61","text":"<pre><code>import { Value } from 'slate'\n</code></pre> <p>A <code>Value</code> is the top-level representation of data in Slate, containing both a <code>Document</code> and a <code>Selection</code>. It's what you need to pass into the Slate `` to render something onto the page.</p> <p>value\u662fslate\u4e2d\u7684\u9876\u5c42\u6570\u636e\u8868\u793a\uff0c\u5305\u62ec\u4e00\u4e2aDocument\u5bf9\u8c61\u548cSelection\u5bf9\u8c61\uff0c\u662f\u4f60\u9700\u8981\u6e32\u67d3\u5230\u9875\u9762\u4e0a\u7684\u5185\u5bb9\u3002</p> <p>All changes to the document and selection are also performed through the value object, so that they can stay in sync, and be propagated to its internal history of undo/redo value.</p> <p>\u6240\u6709\u5bf9\u4e8e\u6587\u6863\u548c\u9009\u4e2d\u5185\u5bb9\u7684\u6539\u53d8\uff0c\u4f1a\u5728value\u5bf9\u8c61\u4e0a\u8fdb\u884c\u8868\u73b0\u3002\u8fd9\u6837\u5b83\u4eec\u5c31\u53ef\u4ee5\u4fdd\u6301\u540c\u6b65\uff0c\u5e76\u88ab\u4f20\u64ad\u5230\u5b83\u7684\u5185\u90e8\u5386\u53f2\u64a4\u6d88/\u91cd\u505a\u503c\u3002</p> <p>For convenience, in addition to changes, many of the selection and document properties are exposed as proxies on the <code>Value</code> object.</p> <p>\u4e3a\u4e86\u65b9\u4fbf\u8d77\u89c1\uff0c\u9664\u4e86\u66f4\u6539\u4e4b\u5916\uff0c\u8bb8\u591a\u9009\u62e9\u548c\u6587\u6863\u5c5e\u6027\u90fd\u4f5c\u4e3a\u503c\u5bf9\u8c61\u4e0a\u7684\u4ee3\u7406\u516c\u5f00\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/#properties","title":"Properties","text":"<pre><code>Value({\n  document: Document,\n  selection: Selection,\n  history: History,\n  schema: Schema, \u6a21\u5f0f\uff1b\u8ba1\u5212\uff1b\u56fe\u89e3\uff1b\u6458\u8981\n  data: Data,\n  decorations: List&lt;Decoration&gt;,\n})\n</code></pre>"},{"location":"third-part-lib/slate/slate-new-API/#data","title":"<code>data</code>","text":"<p><code>Data</code></p> <p>An object containing arbitrary\uff08\u4efb\u610f\u7684\uff09data for the value.</p>"},{"location":"third-part-lib/slate/slate-new-API/#decorations","title":"<code>decorations</code>","text":"<p><code>List&lt;Decoration&gt;</code></p> <p>A list of ranges in the document with marks that aren't part of the content itself\u2014like matches for the current search string.</p> <p>\u6587\u6863\u4e2d\u5e26\u6709\u6807\u8bb0\u7684\u8303\u56f4\u5217\u8868\uff0c\u8fd9\u4e9b\u6807\u8bb0\u672c\u8eab\u4e0e\u5f53\u524d\u641c\u7d22\u5b57\u7b26\u4e32\u7684\u5185\u5bb9\u4e0d\u5339\u914d\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/#document","title":"<code>document</code>","text":"<p><code>Document</code></p> <p>The current document of the value.</p>"},{"location":"third-part-lib/slate/slate-new-API/#history","title":"<code>history</code>","text":"<p><code>History</code></p> <p>An object that stores the history of changes.</p>"},{"location":"third-part-lib/slate/slate-new-API/#object","title":"<code>object</code>","text":"<p><code>String</code></p> <p>A string with a value of <code>'value'</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/#schema","title":"<code>schema</code>","text":"<p><code>Schema</code></p> <p>An object representing the schema of the value's document.</p> <p>\u8fd9\u662f\u4e00\u4e2a\u8868\u793a\u6587\u6863\u7684\u503c\u7684\u6a21\u5f0f\u7684\u5bf9\u8c61</p>"},{"location":"third-part-lib/slate/slate-new-API/#selection","title":"<code>selection</code>","text":"<p><code>Selection</code></p> <p>The current selection of the value.</p> <p>\u5f53\u524d\u9009\u4e2d\u7684\u90e8\u5206\u7684value\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/#computed-properties","title":"Computed Properties","text":"<p>These properties aren't supplied when creating a <code>Value</code>, but are instead computed based on the current <code>document</code> and <code>selection</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/#edgetext","title":"<code>{edge}Text</code>","text":"<p><code>Text</code></p> <p>Get the leaf <code>Text</code> node at <code>{edge}</code>. Where <code>{edge}</code> is one of: <code>anchor</code>, <code>focus</code>, <code>start</code> or <code>end</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/#edgeblock","title":"<code>{edge}Block</code>","text":"<p><code>Block</code></p> <p>Get the leaf <code>Block</code> node at <code>{edge}</code>. Where <code>{edge}</code> is one of: <code>anchor</code>, <code>focus</code>, <code>start</code> or <code>end</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/#marks","title":"<code>marks</code>","text":"<p><code>Set</code></p> <p>Get a set of the <code>Marks</code> in the current selection.</p>"},{"location":"third-part-lib/slate/slate-new-API/#activemarks","title":"<code>activeMarks</code>","text":"<p><code>Set</code></p> <p>Get a subset of the <code>Marks</code> that are present in all the characters in the current selection. It can be used to determine the active/inactive state of toolbar buttons corresponding to marks, based on the usual rich text editing conventions.</p>"},{"location":"third-part-lib/slate/slate-new-API/#blocks","title":"<code>blocks</code>","text":"<p><code>List</code></p> <p>Get a list of the lowest-depth <code>Block</code> nodes in the current selection.</p>"},{"location":"third-part-lib/slate/slate-new-API/#fragment","title":"<code>fragment</code>","text":"<p><code>Document</code></p> <p>Get a <code>Document</code> fragment of the current selection.</p>"},{"location":"third-part-lib/slate/slate-new-API/#inlines","title":"<code>inlines</code>","text":"<p><code>List</code></p> <p>Get a list of the lowest-depth <code>Inline</code> nodes in the current selection.</p>"},{"location":"third-part-lib/slate/slate-new-API/#texts","title":"<code>texts</code>","text":"<p><code>List</code></p> <p>Get a list of the <code>Text</code> nodes in the current selection.</p>"},{"location":"third-part-lib/slate/slate-new-API/#static-methods","title":"Static Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/#valuecreate","title":"<code>Value.create</code>","text":"<p><code>Value.create(properties: Object) =&gt; Value</code></p> <p>Create a new <code>Value</code> instance with <code>properties</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/#valuefromjson","title":"<code>Value.fromJSON</code>","text":"<p><code>Value.fromJSON(object: Object) =&gt; Value</code></p> <p>Create a value from a JSON <code>object</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/#valueisvalue","title":"<code>Value.isValue</code>","text":"<p><code>Value.isValue(any: Any) =&gt; Boolean</code></p> <p>Returns a boolean if the passed in argument is a <code>Value</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/#instance-methods","title":"Instance Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/#change","title":"<code>change</code>","text":"<p><code>change() =&gt; Change</code></p> <p>Create a new <code>Change</code> that acts on the current value.</p>"},{"location":"third-part-lib/slate/slate-new-API/#tojson","title":"<code>toJSON</code>","text":"<p><code>toJSON() =&gt; Object</code></p> <p>Returns a JSON representation of the value.</p> <pre><code>var href = node.get('data').get('href');\ninsertInline(Inline)\n//\u5728\u5f53\u524d\u4f4d\u7f6e\u63d2\u5165\u4e00\u4e2aInline\u8282\u70b9(\u5f53\u524d\u5e94\u5f53\u6ca1\u6709\u9009\u4e2d\u5143\u7d20\uff0c\u6216\u8005selection\u662ffalse)\ninsertInlineAtRange(selection, inline)\n// \u5728\u5f53\u524d\u9009\u4e2d\u7684range\u4e2d\u63d2\u5165\u4e00\u4e2aInline\u8282\u70b9\uff0c\u5982\u679c\u8fd9\u4e2arange\u4e2d\u7684selection\u6709\u5185\u5bb9\uff0c\u76f4\u63a5\u5220\u9664\u5185\u5bb9\u52a0\u5165Inline\u8282\u70b9\uff1b\u5982\u679crange\u4e2d\u6ca1\u6709\u5185\u5bb9\uff0c\u76f4\u63a5\u63d2\u5165\u8282\u70b9\u3002bug\uff1a\u5982\u679c\u8fd9\u4e2a\u8282\u70b9\u662f\u4e00\u4e2a\u7a7a\u884c\uff0c\u90a3\u4e48\u5220\u9664\u8fd9\u4e2a\u8282\u70b9\u540e\uff0cnode.key\u5c31\u4f1a\u662f\u7a7a\u7684\uff0c\u5c31\u65e0\u6cd5\u63d2\u5165\u65b0\u7684Inline\u8282\u70b9\uff0c\u6240\u4ee5\u4f1a\u62a5\u9519\u3002\u89e3\u51b3\u65b9\u6848\uff1a\u624b\u52a8\u5220\u9664\u8fd9\u4e2a\u8282\u70b9\uff0c\u624b\u52a8\u63d2\u5165\u65b0\u7684Inline\u8282\u70b9\u3002\ndelete()\n// \u5220\u9664\u9009\u4e2d\u90e8\u5206\u7684\u5185\u5bb9\nsetInlines({object\uff1ajson})\n// \u8bbe\u7f6e\u5f53\u524dInline\u8282\u70b9\u7684\u5c5e\u6027(data)\u3002\u8fd9\u4e2a\u64cd\u4f5c\u4f1a\u8986\u76d6\u4e4b\u524d\u7684data\u5c5e\u6027\uff0c\u5982\u679c\u4e4b\u524d\u7684\u5c5e\u6027\u73b0\u5728\u6ca1\u6709\u88ab\u65b0\u52a0\u5165\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5c5e\u6027\u5c06\u4f1a\u88ab\u5220\u9664\u3002\nremoveTextByKey(key, \u5f00\u59cb\u4f4d\u7f6e\uff0c\u7ed3\u675f\u4f4d\u7f6e)\n// \u901a\u8fc7\u8282\u70b9\u7684key\u503c\u5220\u9664\u6587\u672c\u8282\u70b9\u5185\u90e8\u7684\u6587\u5b57(linklength\u9700\u8981\u83b7\u53d6)\ninsertTextByKey(key, 0 , text)\n// \u901a\u8fc7\u8282\u70b9\u7684key\u5728\u8fd9\u4e2a\u8282\u70b9\u7684\u4f4d\u7f6e\u4e0a\u589e\u52a0\u6587\u672c\u3002\nwrapInline\n// \u5c06\u5f53\u524d\u9009\u4e2d\u7684\u6587\u672c\u5305\u88f9\u6210\u4e00\u4e2aInline\u8282\u70b9(type='text')\n\nlet inline = Inline.create({\n  data:{},\n  type:\"text\",\n  nodes:[Text.create({text:\u6587\u672c})]\n})\n\nunwrapInline\n// \u5c06\u5f53\u524d\u7684Inline\u5bf9\u8c61\u89e3\u5305\n</code></pre>"},{"location":"third-part-lib/slate/%E5%8E%9F%E7%94%9FRange%E5%AF%B9%E8%B1%A1/","title":"\u539f\u751fRange\u5bf9\u8c61","text":""},{"location":"third-part-lib/slate/%E5%8E%9F%E7%94%9FRange%E5%AF%B9%E8%B1%A1/#range","title":"Range \u5bf9\u8c61","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2462  \u9605\u8bfb5\u5206\u949f</p>"},{"location":"third-part-lib/slate/%E5%8E%9F%E7%94%9FRange%E5%AF%B9%E8%B1%A1/#_1","title":"\u5b9a\u4e49\u6982\u5ff5","text":"<p>Range (\u8303\u56f4)\u662f\u6587\u6863\u4e2d\u8fde\u7eed\u8303\u56f4\u533a\u57df\uff0c\u4f8b\u5982\u7528\u9f20\u6807\u9009\u4e2d\u7684\u533a\u57df\u3002</p> <p>\u4e3b\u8981\u7528\u9014\uff1a\u6587\u6863\u4e2d\u7684\u5220\u9664\u3001\u526a\u5207\u3001\u590d\u5236\u3001\u7c98\u8d34\u6587\u672c\u3002</p> <pre><code>deleteContents()\nextractContents()\ncloneContents()\ninsertNode()\n</code></pre> <p>\u4e00\u4e2a range \u5177\u6709\u4e24\u4e2a\u8fb9\u754c\u70b9\uff08anchor-focus\uff09\u3002\u6bcf\u4e00\u4e2a\u8fb9\u754c\u70b9\u7531\u4e00\u4e2a\u8282\u70b9\uff08anchor-node focus-node\uff09\u548c\u4e00\u4e2a\u504f\u79fb\u91cf\uff08anchor-offset focus-offset\uff09\u6784\u6210\u3002\u8fd9\u4e2a\u8282\u70b9\u53ef\u4ee5\u662f element/document/text \u8282\u70b9\u3002\u5bf9\u4e8e element \u548c document \u8282\u70b9\uff0c\u504f\u79fb\u91cf\u6307\u7684\u662f\u4f4d\u4e8e\u5b50\u8282\u70b9\u7684\u4f4d\u7f6e\uff1b\u5bf9\u4e8e text \u8282\u70b9\uff0c\u504f\u79fb\u91cf\u6307\u7684\u662f\u6587\u672c\u4e2d\u4e24\u4e2a\u5b57\u7b26\u95f4\u7684\u4f4d\u7f6e\u3002</p>"},{"location":"third-part-lib/slate/%E5%8E%9F%E7%94%9FRange%E5%AF%B9%E8%B1%A1/#_2","title":"\u5c5e\u6027","text":"<p>\u5728\u4e00\u4e2a range \u4e2d\uff0c\u6240\u6709\u7684\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u7684\u3002\u53ea\u80fd\u901a\u8fc7\u65b9\u6cd5\u6539\u53d8range\uff0c\u624d\u80fd\u6539\u53d8\u5bf9\u5e94\u7684\u5c5e\u6027\u3002</p> <pre><code>collapsed \u9009\u4e2d\u90e8\u5206\u662f\u5426\u6298\u53e0(\u5f00\u59cb\u70b9\u548c\u7ed3\u675f\u70b9\u662f\u5426\u91cd\u5408)\ncommonAncestorContainer Range\u4e2d\u7684\u5f00\u59cb\u70b9\u548c\u7ed3\u675f\u70b9\u7684\u7956\u5148\u8282\u70b9\nstartOffset-endOffset \u5f00\u59cb\u70b9\u7ed3\u675f\u70b9\u7684\u504f\u79fb\u91cf\nstartContainer-endContainer \u5f00\u59cb\u70b9\u5904\u4e8e\u7684Document\u8282\u70b9\n</code></pre>"},{"location":"third-part-lib/slate/%E5%8E%9F%E7%94%9FRange%E5%AF%B9%E8%B1%A1/#_3","title":"\u65b9\u6cd5","text":"<pre><code>cloneContents();\n// \u590d\u5236 Document Fragment \u5bf9\u8c61(\u5e38\u7528)\ndeleteContents()\uff1b\n// \u5220\u9664 Range \u5bf9\u8c61\u8868\u793a\u7684 Document \u533a\u57df\nextractContents();\n// \u526a\u5207 \u5f53\u524d\u8303\u56f4\u7684\u6587\u672c\u533a\u57df\uff1b(\u754c\u9762\u4ecb\u7ecd\uff0c\u65b9\u6cd5\u8fd4\u56de Document Fragment \u5bf9\u8c61)\ncloneRange();\n// \u590d\u5236 range \n\ncollapse(); \n// \u6298\u53e0\u5f53\u524d\u9009\u4e2d\u90e8\u5206\ndetach()\uff1b\n// \u505c\u6b62\u8ddf\u8e2a(detach\u64cd\u4f5c\u540e\uff0c\u5f53\u524drange\u7684\u5176\u4ed6\u65b9\u6cd5\u5931\u6548\u5e76\u62a5\u9519)\ntoString()\uff1b\n// \u8fd4\u56de\u8be5\u8303\u56f4\u8868\u793a\u7684\u6587\u6863\u533a\u57df\u7684\u7eaf\u6587\u672c\u5185\u5bb9\n\ncompareBoundaryPoints(); \n// \u6bd4\u8f83\u5f53\u524d\u8303\u56f4\u7684\u8fb9\u754c\u70b9\u548c\u53e6\u4e00\u4e2a\u8303\u56f4\u7684\u8fb9\u754c\u70b9\uff1b\u8fd4\u56de\u503c 0 -1 1\n\ninsertNode();\n// \u5c06\u5236\u5b9a\u7684\u8282\u70b9\u63d2\u5165\u6587\u6863\u8303\u56f4\u7684\u5f00\u59cb\u70b9\nselectNode();\n// \u9009\u62e9Range\u5bf9\u5e94\u7684\u8fb9\u754c\u70b9\uff0c\u5305\u542b\u8282\u70b9\u548c\u5b50\u5b59\u8282\u70b9\nselectNodeContents();\n// \u9009\u62e9\u8fb9\u754c\u70b9\u7684\u5b50\u5b59\u8282\u70b9(\u4e0d\u5305\u542b\u5916\u90e8\u8fd9\u4e2a\u8282\u70b9)\n\nsetStart(); setEnd();\n// \u8bbe\u7f6e\u5f00\u59cb\u8282\u70b9\u4e3a\u6307\u5b9a\u7684\u8282\u70b9\u548c\u504f\u79fb\u91cf\uff1b\n</code></pre> <p>range \u5e38\u7528\u5728\u590d\u5236\u3001\u7c98\u8d34\u6587\u672c\uff0c\u914d\u5408\u9f20\u6807\u4e8b\u4ef6\u7684\u89e6\u53d1\uff0c\u83b7\u53d6\u5f53\u524d\u9009\u4e2d\u7684\u90e8\u5206\uff0c\u5e76\u5c06\u9009\u4e2d\u7684document fragment \u590d\u5236\u7c98\u8d34\u521b\u5efa\u65b0\u7684 node \u8282\u70b9\uff0c\u5e76\u63d2\u5165\u5230\u6307\u5b9a\u4f4d\u7f6e\u3002\u83b7\u53d6\u8282\u70b9\u7684\u504f\u79fb\u91cf\u4ece\u800c\u83b7\u53d6\u9009\u4e2d\u7684\u90e8\u5206\u3002</p> <p>\u6ce8\u610f\uff1a\u4e0a\u9762\u7684\u5c5e\u6027\u65b9\u6cd5\u57fa\u4e8e XML\uff0cslate \u4e2d\u7684\u72ec\u6709\u7684\u65b9\u6cd5\u4e0d\u5b8c\u5168\u76f8\u540c\u3002</p> <p>\u539f\u751f\u7684Range\u7528\u4e8e\u7528\u6237\u4ea4\u4e92\uff08\u7f16\u8f91\u6539\u53d8\uff09\u4e0d\u540c\u9875\u9762\u4fa7\u91cd\u70b9\u4e0d\u540c\uff0c\u5546\u4e1a\u8d2d\u7269\u3001\u4e2a\u4eba\u535a\u5ba2\u7f51\u7ad9\u57fa\u672c\u4e0d\u4f1a\u4f7f\u7528\u539f\u751f\u7684Range\u5bf9\u8c61\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/block/","title":"<code>Block</code>","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1910  \u9605\u8bfb4\u5206\u949f</p> <pre><code>import { Block } from 'slate'\n</code></pre> <p>A block node in a Slate <code>Document</code>. Block nodes implement the <code>Node</code> interface.</p> <p>Block nodes may contain nested\uff08\u5d4c\u5957\u7684\uff09 block nodes, inline nodes, and text nodes\u2014just like in the DOM. They always contain at least one text node child.</p>"},{"location":"third-part-lib/slate/slate-new-API/block/#properties","title":"Properties","text":"<pre><code>Block({\n  data: Data,\n  key: String,\n  nodes: Immutable.List&lt;Node&gt;,\n  type: String\n})\n</code></pre>"},{"location":"third-part-lib/slate/slate-new-API/block/#data","title":"<code>data</code>","text":"<p><code>Immutable.Map</code></p> <p>Arbitrary data associated with the node. Defaults to an empty <code>Map</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/block/#key","title":"<code>key</code>","text":"<p><code>String</code></p> <p>A unique identifier for the node.</p>"},{"location":"third-part-lib/slate/slate-new-API/block/#object","title":"<code>object</code>","text":"<p><code>String</code></p> <p>An immutable string value of <code>'block'</code> for easily separating this node from <code>Inline</code> or <code>Text</code> nodes.</p>"},{"location":"third-part-lib/slate/slate-new-API/block/#nodes","title":"<code>nodes</code>","text":"<p><code>Immutable.List</code></p> <p>A list of child nodes. Defaults to a list with a single text node child.</p>"},{"location":"third-part-lib/slate/slate-new-API/block/#type","title":"<code>type</code>","text":"<p><code>String</code></p> <p>The custom type of the node (eg. <code>blockquote</code> or <code>list-item</code>).</p> <p>\u83b7\u53d6\u5f53\u524d\u5757\u7ea7\u8282\u70b9\u7684\u7c7b\u578b</p>"},{"location":"third-part-lib/slate/slate-new-API/block/#computed-properties","title":"Computed Properties","text":""},{"location":"third-part-lib/slate/slate-new-API/block/#text","title":"<code>text</code>","text":"<p><code>String</code></p> <p>A concatenated string of all of the descendant <code>Text</code> nodes of this node.</p>"},{"location":"third-part-lib/slate/slate-new-API/block/#static-methods","title":"Static Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/block/#blockcreate","title":"<code>Block.create</code>","text":"<p><code>Block.create(properties: Object) =&gt; Block</code></p> <p>Create a block from a plain Javascript object of <code>properties</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/block/#blockcreatelist","title":"<code>Block.createList</code>","text":"<p><code>Block.createList(array: Array) =&gt; List</code></p> <p>Create a list of block nodes from a plain Javascript <code>array</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/block/#blockfromjson","title":"<code>Block.fromJSON</code>","text":"<p><code>Block.fromJSON(object: Object) =&gt; Block</code></p> <p>Create a block from a JSON <code>object</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/block/#blockisblock","title":"<code>Block.isBlock</code>","text":"<p><code>Block.isBlock(maybeBlock: Any) =&gt; Boolean</code></p> <p>Returns a boolean if the passed in argument is a <code>Block</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/block/#node-methods","title":"Node Methods","text":"<p>Blocks implement the <code>Node</code> interface. For information about all of the node methods, see the <code>Node</code> reference.</p> <p>Block\u5177\u6709\u6240\u6709node\u7684\u516c\u5171\u65b9\u6cd5</p>"},{"location":"third-part-lib/slate/slate-new-API/block/#instance-methods","title":"Instance Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/block/#tojson","title":"<code>toJSON</code>","text":"<p><code>toJSON() =&gt; Object</code></p> <p>Returns a JSON representation of the block.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/","title":"<code>Change</code>","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 28683  \u9605\u8bfb58\u5206\u949f</p> <pre><code>import { Change } from 'slate'\n</code></pre> <p>A change allows you to define a series of changes you'd like to make to the current <code>Value</code>.</p> <p>Change: \u5141\u8bb8\u4f60\u5b9a\u4e49\u4e00\u7cfb\u5217\u7684\u6539\u53d8\uff0c\u76ee\u6807\u662f\u5f53\u524d\u7684Value\u3002</p> <p>All changes are performed through <code>Change</code> objects, so that a history of changes can be preserved for use in undo/redo operations, and to make collaborative editing possible.</p> <p>\u6240\u6709\u7684change\u90fd\u662f\u901a\u8fc7change\u5bf9\u8c61\u5b9e\u73b0\u7684\uff1bchanges\u7684\u8def\u8bd5\u4f1a\u88ab\u4fdd\u5b58\u5728undo-redo\u7684\u64cd\u4f5c\u4e2d\uff0c\u4e5f\u8ba9\u534f\u540c\u7f16\u8f91\u6210\u4e3a\u53ef\u80fd\uff1b</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#properties","title":"Properties","text":""},{"location":"third-part-lib/slate/slate-new-API/change/#object","title":"<code>object</code>","text":"<p><code>String</code></p> <p>A string with a value of <code>'change'</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#value","title":"<code>value</code>","text":"<p>A <code>Value</code> with the change's current operations applied. Each time you run a new change function this property will be updated.</p> <p>change.value \u5f53\u8fd0\u884c\u4e00\u4e2a\u65b0\u7684change-function\uff0cvalue\u5c5e\u6027\u5c06\u4f1aupdated\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#methods","title":"Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/change/#call","title":"<code>call</code>","text":"<p><code>call(fn: Function, ...args) =&gt; Change</code></p> <p>This method calls the provided function with the current instance of the <code>Change</code> object as the first argument and passes through the remaining <code>args</code>.</p> <p>\u5bf9\u4e8e\u5f53\u524d\u7684Change\u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0ccall\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5176\u4ed6\u53c2\u6570\u662f\u5269\u4e0b\u7684\u53c2\u6570\u3002</p> <p>The purpose of <code>call</code> is to enable custom change methods to exist and called in a chain. For example:</p> <p>call\u51fd\u6570\u7684\u76ee\u6807\u662f\u80fd\u591f\u81ea\u5b9a\u4e49\u7684\u65b9\u6cd5\u4fdd\u5b58\u5e76\u4e14\u94fe\u5f0f\u7f16\u7a0b\u3002</p> <pre><code>function addBoldMark(change) {\n  change.addMark('bold_mark')\n}\n\nfunction insertParagraph(change) {\n  change.insertBlock('paragraph_block')\n}\n\nfunction onSomeEvent(event, change) {\n  change\n    .call(insertParagraph)\n    .insertText('Some text...')\n    .extendToStartOfBlock()\n    .call(addBoldMark)\n    .collapseToEnd()\n}\n</code></pre>"},{"location":"third-part-lib/slate/slate-new-API/change/#normalize","title":"<code>normalize</code>","text":"<p><code>normalize() =&gt; Void</code></p> <p>This method normalizes the document with the value's schema. This should run automatically-you should not need to call this method unless you have manually disabled normalization (and you should rarely, if ever, need to manually disable normalization). The vast majority of changes, whether by the user or invoked programmatically, will run <code>normalize</code> by default to ensure the document is always in adherence to its schema.</p> <p>\u8be5\u65b9\u6cd5\u4f7f\u7528value\u7684\u6a21\u5f0f\uff0c\u5bf9\u6587\u6863\u8fdb\u884c\u89c4\u8303\u5316\uff0c\u8fd9\u4e2a\u9700\u8981\u81ea\u52a8\u8fd0\u884c\u3002\u4f60\u4e0d\u9700\u8981call\u8fd9\u4e2a\u51fd\u6570\uff0c\u9664\u975e\u4f60\u624b\u52a8\u7981\u6b62\u89c4\u8303\u5316\u64cd\u4f5c\u3002change\u6539\u53d8\u7684\u5927\u90e8\u5206\uff0c\u4e0d\u7ba1\u662f\u7528\u6237\u521b\u5efa\u7684\u6539\u53d8\u8fd8\u662f\u7a0b\u5e8f\u81ea\u52a8\u8c03\u7528\u7684change\uff0c\u5c06\u4f1a\u9ed8\u8ba4\u8fd0\u884c\u89c4\u8303\u5316\u51fd\u6570\uff0c\u6765\u786e\u4fdd\u6587\u6863\u59cb\u7ec8\u7b26\u5408\u5176\u6a21\u5f0f\u3002</p> <p>If you must use this method, use it sparingly and strategically\uff08\u8c28\u614e\u7b56\u7565\u7684\u4f7f\u7528\uff09. Calling this method can be very expensive as it will run normalization on all of the nodes in your document.\uff08\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u4ee3\u4ef7\u975e\u5e38\u5927\uff0c\u8fd9\u4e2a\u51fd\u6570\u5c06\u4f1a\u5bf9\u6587\u6863\u4e2d\u7684\u6240\u6709\u8282\u70b9\u8fdb\u884c\u89c4\u8303\u5316\u5904\u7406\uff09</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#withoutnormalizing","title":"<code>withoutNormalizing</code>","text":"<p><code>withoutNormalizing(fn: Function) =&gt; Change</code></p> <p>This method calls the provided function with the current instance of the <code>Change</code> object as the first argument. </p> <p>API\u7684\u53c2\u6570\u662f\u4e00\u4e2afunction\uff0c\u76ee\u6807\u662f\u5f53\u524d\u7684change\u5b9e\u4f8b\u5bf9\u8c61\u3002</p> <p>Normalization does not occur while the fuction is executing, and is instead deferred to be be run immediately after it completes.</p> <p>\u5f53\u51fd\u6570\u5728\u6267\u884c\u65f6\uff0c\u4e0d\u4f1a\u53d1\u751f\u89c4\u8303\u5316\u3002\u5f53\u51fd\u6570\u6267\u884c\u5b8c\u6210\u540e\uff0c\u89c4\u8303\u5316\u7acb\u5373\u8fd0\u884c\u3002</p> <p>This method can be used to allow a sequence of change operations that should not be interrupted by normalization. For example:</p> <p>\u6b64\u65b9\u6cd5\u53ef\u7528\u4e8e\u5141\u8bb8\u4e0d\u5e94\u88ab\u89c4\u8303\u5316\u4e2d\u65ad\u7684change\u64cd\u4f5c\u7cfb\u5217\u3002</p> <pre><code>function removeManyNodes(node) {\n  const toRemove = node.nodes.filter(n =&gt; n.object != 'block')\n  if (!toRemove.size) return\n\n  change.withoutNormalizing(() =&gt; {\n    toRemove.forEach(child =&gt; {\n      change.removeNodeByKey(child.key)\n    })\n  })\n}\n</code></pre>"},{"location":"third-part-lib/slate/slate-new-API/change/#withoutsaving","title":"<code>withoutSaving</code>","text":"<p><code>withoutSaving(fn: Function) =&gt; Change</code></p> <p>By default all new operations are saved to the editor's history. If you have changes that you don't want to show up in the history when the user presses cmd+z, you can use <code>withoutSaving</code> to skip those changes.</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u65b0\u7684\u64cd\u4f5c\u5c06\u4f1a\u4fdd\u5b58\u5230\u5386\u53f2\u8bb0\u5f55\u4e2d\u3002\u5f53\u4f60\u4e0d\u5e0c\u671b\u5728\u5386\u53f2\u4e2d\u770b\u5230\u8fd9\u4e9b\u6539\u53d8\uff08ctrl+Z\uff09\u4f60\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u51fd\u6570\u6765\u8df3\u8fc7\u8fd9\u4e9b\u6539\u53d8\u3002</p> <pre><code>change.withoutSaving(() =&gt; {\n  change.setValue({ decorations })\n})\n</code></pre> <p>However, be sure you know what you are doing because this will create changes that cannot be undone by the user, and might result in confusing behaviors.</p> <p>\u4f60\u9700\u8981\u786e\u5b9a\u4f60\u6b63\u5728\u505a\u4ec0\u4e48\uff0c\u8fd9\u4e2a\u5c06\u4f1a\u521b\u5efachanges\uff0c\u8fd9\u4e9bchanges\u7528\u6237\u4e0d\u80fdundone\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u884c\u4e3a\u5f88\u56f0\u60d1\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#withoutmerging","title":"<code>withoutMerging</code>","text":"<p><code>withoutMerging(fn: Function) =&gt; Change</code></p> <p>Usually, all of the operations in a <code>Change</code> are grouped into a single save point in the editor's history. However, sometimes you may want more control over this, to be able to create distinct save points in a single change. To do that, you can use the <code>withoutMerging</code> helper.</p> <p>\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u5728change\u4e2d\u6240\u6709\u7684\u64cd\u4f5c\u5c06\u4f1a\u4fdd\u5b58\u6210\u4e3aeditor\u5386\u53f2\u8bb0\u5f55\u4e2d\u5355\u72ec\u7684\u70b9\u3002\u7136\u800c\uff0c\u6709\u65f6\u5019\u4f60\u53ef\u80fd\u60f3\u8981\u63a7\u5236\u8fd9\u4e9b\u70b9\uff0c\u5728\u4e00\u4e2a\u5355\u72ec\u7684\u70b9\u4e2d\u521b\u5efa\u4e0d\u540c\u7684\u5b58\u6863\u70b9\u3002\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2aAPI\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#full-value-change","title":"Full Value Change","text":""},{"location":"third-part-lib/slate/slate-new-API/change/#setvalue","title":"<code>setValue</code>","text":"<p><code>setValue(properties: Object, [options: Object]) =&gt; Change</code> <code>setValue(value: Value, [options: Object]) =&gt; Change</code> (see warning below)</p> <p>Set the entire <code>value</code> using either a <code>properties</code> object or a <code>Value</code> object. Can be used to set <code>value.data</code> and other properties that cannot otherwise be easily set using the available methods.</p> <p>\u8bbe\u7f6e\u6574\u4e2avalue\u5c5e\u6027\uff08properties: obj\uff09this.onChange(change); \u6267\u884c\u6539\u53d8</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#current-selection-changes","title":"Current Selection Changes","text":"<p>These changes act on the <code>document</code> based on the current <code>selection</code>. They are equivalent to calling the Document Range Changes with the current selection as the <code>range</code> argument, but they are there for convenience, since you often want to act with the current selection, as a user would.</p> <p>\u5f53\u524d\u9009\u4e2d\u90e8\u5206\u7684\u6539\u53d8.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#addmark","title":"<code>addMark</code>","text":"<p><code>addMark(mark: Mark) =&gt; Change</code> <code>addMark(properties: Object) =&gt; Change</code> <code>addMark(type: String) =&gt; Change</code></p> <p>Add a <code>mark</code> to the characters in the current selection. For convenience, you can pass a <code>type</code> string or <code>properties</code> object to implicitly create a <code>Mark</code> of that type.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#delete","title":"<code>delete</code>","text":"<p><code>delete() =&gt; Change</code></p> <p>Delete everything in the current selection.</p> <p>\uff08\u8fd9\u4e2aAPI\u5f88\u65b9\u4fbf\uff0c\u53ef\u4ee5\u5148\u5c06\u9009\u4e2d\u90e8\u5206\u5220\u9664\u540e\uff0c\u518d\u63d2\u5165\u65b0\u7684Inline\u6216\u8005Block\uff0c\u6700\u597d\u7684\u529e\u6cd5\u662f\u76f4\u63a5\u6539\u53d8\u5f53\u524d\u9009\u4e2d\u90e8\u5206\u7684\u5c5e\u6027\uff0csetInline\u800c\u4e0d\u662finsertInline\uff09</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#insertblock","title":"<code>insertBlock</code>","text":"<p><code>insertBlock(block: Block) =&gt; Change</code> <code>insertBlock(properties: Object) =&gt; Change</code> <code>insertBlock(type: String) =&gt; Change</code></p>"},{"location":"third-part-lib/slate/slate-new-API/change/#deletebackward","title":"<code>deleteBackward</code>","text":"<p><code>deleteBackward(n: Number) =&gt; Change</code></p> <p>Delete backward <code>n</code> characters at the current cursor. If the selection is expanded, this method is equivalent to a regular <code>delete()</code>. <code>n</code> defaults to <code>1</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#deleteforward","title":"<code>deleteForward</code>","text":"<p><code>deleteForward(n: Number) =&gt; Change</code></p> <p>Delete forward <code>n</code> characters at the current cursor. If the selection is expanded, this method is equivalent to a regular <code>delete()</code>. <code>n</code> defaults to <code>1</code>.</p> <p>Insert a new block at the same level as the current block, splitting the current block to make room if it is non-empty. If the selection is expanded, it will be deleted first.</p> <p>\u9996\u5148\u6267\u884c\u5220\u9664\u64cd\u4f5c\uff0c\u7a0d\u540e\u6267\u884c\u63d2\u5165\u64cd\u4f5c\uff08\u4e0d\u662f\u5f88\u597d\u7684\u529e\u6cd5\uff09\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#insertfragment","title":"<code>insertFragment</code>","text":"<p><code>insertFragment(fragment: Document) =&gt; Change</code></p> <p>Insert a <code>fragment</code> at the current selection. If the selection is expanded, it will be deleted first.</p> <p>\u63d2\u5165\u7247\u6bb5\uff08\u53ef\u4ee5\u662f\u7c98\u8d34\u677f\u7684\u90e8\u5206\u5185\u5bb9\uff09</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#insertinline","title":"<code>insertInline</code>","text":"<p><code>insertInline(inline: Inline) =&gt; Change</code> <code>insertInline(properties: Object) =&gt; Change</code></p> <p>Insert a new inline at the current cursor position, splitting the text to make room if it is non-empty. If the selection is expanded, it will be deleted first.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#inserttext","title":"<code>insertText</code>","text":"<p><code>insertText(text: String) =&gt; Change</code></p> <p>Insert a string of <code>text</code> at the current selection. If the selection is expanded, it will be deleted first.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#setblocks","title":"<code>setBlocks</code>","text":"<p><code>setBlocks(properties: Object) =&gt; Change</code> <code>setBlocks(type: String) =&gt; Change</code></p> <p>Set the <code>properties</code> of the <code>Blocks</code> in the current selection. For convenience, you can pass a <code>type</code> string to set the blocks' type only.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#setinlines","title":"<code>setInlines</code>","text":"<p><code>setInlines(properties: Object) =&gt; Change</code> <code>setInlines(type: String) =&gt; Change</code></p> <p>Set the <code>properties</code> of the <code>Inlines</code> nodes in the current selection. For convenience, you can pass a <code>type</code> string to set the inline nodes' type only.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#splitblock","title":"<code>splitBlock</code>","text":"<p><code>splitBlock(depth: Number) =&gt; Change</code></p> <p>Split the <code>Block</code> in the current selection by <code>depth</code> levels. If the selection is expanded, it will be deleted first. <code>depth</code> defaults to <code>1</code>.</p> <p>split \u5206\u5f00block\u8282\u70b9\uff1b\u901a\u8fc7depth\u5206\u5f00block\u8282\u70b9\uff1b</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#splitinline","title":"<code>splitInline</code>","text":"<p><code>splitInline(depth: Number) =&gt; Change</code></p> <p>Split the <code>Inline</code> node in the current selection by <code>depth</code> levels. If the selection is expanded, it will be deleted first. <code>depth</code> defaults to <code>Infinity</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#removemark","title":"<code>removeMark</code>","text":"<p><code>removeMark(mark: Mark) =&gt; Change</code> <code>removeMark(properties: Object) =&gt; Change</code> <code>removeMark(type: String) =&gt; Change</code></p> <p>Remove a <code>mark</code> from the characters in the current selection. For convenience, you can pass a <code>type</code> string or <code>properties</code> object to implicitly create a <code>Mark</code> of that type.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#replacemark","title":"<code>replaceMark</code>","text":"<p><code>replaceMark(oldMark: Mark, newMark: Mark) =&gt; Change</code> <code>replaceMark(oldProperties: Object, newProperties: Object) =&gt; Change</code> <code>replaceMark(oldType: String, newType: String) =&gt; Change</code></p> <p>Replace a <code>mark</code> in the characters in the current selection. For convenience, you can pass a <code>type</code> string or <code>properties</code> object to implicitly create a <code>Mark</code> of that type.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#togglemark","title":"<code>toggleMark</code>","text":"<p><code>toggleMark(mark: Mark) =&gt; Change</code> <code>toggleMark(properties: Object) =&gt; Change</code> <code>toggleMark(type: String) =&gt; Change</code></p> <p>Add or remove a <code>mark</code> from the characters in the current selection, depending on it already exists on any or not. For convenience, you can pass a <code>type</code> string or <code>properties</code> object to implicitly create a <code>Mark</code> of that type.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#unwrapblock","title":"<code>unwrapBlock</code>","text":"<p><code>unwrapBlock(type: String) =&gt; Change</code> <code>unwrapBlock(properties: Object) =&gt; Change</code> </p> <p>Unwrap all <code>Block</code> nodes in the current selection that match a <code>type</code> and/or <code>data</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#unwrapinline","title":"<code>unwrapInline</code>","text":"<p><code>unwrapInline(type: String) =&gt; Change</code> <code>unwrapInline(properties: Object) =&gt; Change</code> </p> <p>Unwrap all <code>Inline</code> nodes in the current selection that match a <code>type</code> and/or <code>data</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#wrapblock","title":"<code>wrapBlock</code>","text":"<p><code>wrapBlock(type: String) =&gt; Change</code> <code>wrapBlock(properties: Object) =&gt; Change</code> </p> <p>Wrap the <code>Block</code> nodes in the current selection with a new <code>Block</code> node of <code>type</code>, with optional <code>data</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#wrapinline","title":"<code>wrapInline</code>","text":"<p><code>wrapInline(type: String) =&gt; Change</code> <code>wrapInline(properties: Object) =&gt; Change</code> </p> <p>Wrap the <code>Inline</code> nodes in the current selection with a new <code>Inline</code> node of <code>type</code>, with optional <code>data</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#wraptext","title":"<code>wrapText</code>","text":"<p><code>wrapText(prefix: String, [suffix: String]) =&gt; Change</code></p> <p>Surround the text in the current selection with <code>prefix</code> and <code>suffix</code> strings. If the <code>suffix</code> is ommitted, the <code>prefix</code> will be used instead.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#selection-changes","title":"Selection Changes","text":"<p>These changes change the current <code>selection</code>, without touching the <code>document</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#blur","title":"<code>blur</code>","text":"<p><code>blur() =&gt; Change</code></p> <p>Blur the current selection.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#deselect","title":"<code>deselect</code>","text":"<p><code>deselect() =&gt; Change</code></p> <p>Unset the selection.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#flip","title":"<code>flip</code>","text":"<p><code>flip() =&gt; Change</code></p> <p>Flip the selection.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#focus","title":"<code>focus</code>","text":"<p><code>focus() =&gt; Change</code></p> <p>Focus the current selection.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#movepointbackward","title":"<code>move{Point}Backward</code>","text":"<p><code>move{Point}Backward(n: Number) =&gt; Change</code></p> <p>Move the <code>{Point}</code> of the selection backward <code>n</code> characters. Where <code>{Point}</code> is either <code>Anchor</code>, <code>Focus</code>, <code>Start</code> or <code>End</code>. You can also omit <code>{Point}</code> to move both the anchor and focus points at the same time.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#movepointforward","title":"<code>move{Point}Forward</code>","text":"<p><code>move{Point}Forward(n: Number) =&gt; Change</code></p> <p>Move the <code>{Point}</code> of the selection forward <code>n</code> characters. Where <code>{Point}</code> is either <code>Anchor</code>, <code>Focus</code>, <code>Start</code> or <code>End</code>. You can also omit <code>{Point}</code> to move both the anchor and focus points at the same time.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#movepointto","title":"<code>move{Point}To</code>","text":"<p><code>moveTo(path: List, offset: Number) =&gt; Change</code> <code>moveTo(key: String, offset: Number) =&gt; Change</code> <code>moveTo(offset: Number) =&gt; Change</code></p> <p>Move the <code>{Point}</code> of the selection to a new <code>path</code> or <code>key</code> and <code>offset</code>. Where <code>{Point}</code> is either <code>Anchor</code>, <code>Focus</code>, <code>Start</code> or <code>End</code>. You can also omit <code>{Point}</code> to move both the anchor and focus points at the same time.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#movetopoint","title":"<code>moveTo{Point}</code>","text":"<p><code>moveTo{Point}() =&gt; Change</code></p> <p>Collapse the current selection to one of its points. Where <code>{Point}</code> is either <code>Anchor</code>, <code>Focus</code>, <code>Start</code> or <code>End</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#movepointtoedgeofblock","title":"<code>move{Point}To{Edge}OfBlock</code>","text":"<p><code>move{Point}To{Edge}OfBlock() =&gt; Change</code></p> <p>Move the current selection to the <code>{Edge}</code> of the closest block parent. Where <code>{Edge}</code> is either <code>Start</code> or <code>End</code>. And where <code>{Point}</code> is either <code>Anchor</code>, <code>Focus</code>, <code>Start</code> or <code>End</code>. You can also omit <code>{Point}</code> to move both the anchor and focus points at the same time.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#movepointtoedgeofdocument","title":"<code>move{Point}To{Edge}OfDocument</code>","text":"<p><code>move{Point}To{Edge}OfDocument() =&gt; Change</code></p> <p>Move the current selection to the <code>{Edge}</code> of the document. Where <code>{Edge}</code> is either <code>Start</code> or <code>End</code>. And where <code>{Point}</code> is either <code>Anchor</code>, <code>Focus</code>, <code>Start</code> or <code>End</code>. You can also omit <code>{Point}</code> to move both the anchor and focus points at the same time.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#movepointtoedgeofinline","title":"<code>move{Point}To{Edge}OfInline</code>","text":"<p><code>move{Point}To{Edge}OfInline() =&gt; Change</code></p> <p>Move the current selection to the <code>{Edge}</code> of the closest inline parent. Where <code>{Edge}</code> is either <code>Start</code> or <code>End</code>. And where <code>{Point}</code> is either <code>Anchor</code>, <code>Focus</code>, <code>Start</code> or <code>End</code>. You can also omit <code>{Point}</code> to move both the anchor and focus points at the same time.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#movepointtoedgeofnode","title":"<code>move{Point}To{Edge}OfNode</code>","text":"<p><code>move{Point}To{Edge}OfNode(node: Node) =&gt; Change</code></p> <p>Move the current selection to the <code>{Edge}</code> of a <code>node</code>. Where <code>{Edge}</code> is either <code>Start</code> or <code>End</code>. And where <code>{Point}</code> is either <code>Anchor</code>, <code>Focus</code>, <code>Start</code> or <code>End</code>. You can also omit <code>{Point}</code> to move both the anchor and focus points at the same time.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#movepointtoedgeoftext","title":"<code>move{Point}To{Edge}OfText</code>","text":"<p><code>move{Point}To{Edge}OfText() =&gt; Change</code></p> <p>Move the current selection to the <code>{Edge}</code> of the current text node. Where <code>{Edge}</code> is either <code>Start</code> or <code>End</code>. And where <code>{Point}</code> is either <code>Anchor</code>, <code>Focus</code>, <code>Start</code> or <code>End</code>. You can also omit <code>{Point}</code> to move both the anchor and focus points at the same time.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#movepointtoedgeofdirectionblock","title":"<code>move{Point}To{Edge}Of{Direction}Block</code>","text":"<p><code>move{Point}To{Edge}Of{Direction}Block() =&gt; Change</code></p> <p>Move the current selection to the <code>{Edge}</code> of the closest block parent. Where <code>{Edge}</code> is either <code>Start</code> or <code>End</code>. And where <code>{Point}</code> is either <code>Anchor</code>, <code>Focus</code>, <code>Start</code> or <code>End</code>. You can also omit <code>{Point}</code> to move both the anchor and focus points at the same time.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#movepointtoedgeofdirectioninline","title":"<code>move{Point}To{Edge}Of{Direction}Inline</code>","text":"<p><code>move{Point}To{Edge}Of{Direction}Inline() =&gt; Change</code></p> <p>Move the current selection to the <code>{Edge}</code> of the closest inline parent. Where <code>{Edge}</code> is either <code>Start</code> or <code>End</code>. And where <code>{Point}</code> is either <code>Anchor</code>, <code>Focus</code>, <code>Start</code> or <code>End</code>. You can also omit <code>{Point}</code> to move both the anchor and focus points at the same time.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#movepointtoedgeofdirectiontext","title":"<code>move{Point}To{Edge}Of{Direction}Text</code>","text":"<p><code>move{Point}To{Edge}Of{Direction}Text() =&gt; Change</code></p> <p>Move the current selection to the <code>{Edge}</code> of the current text node. Where <code>{Edge}</code> is either <code>Start</code> or <code>End</code>. And where <code>{Point}</code> is either <code>Anchor</code>, <code>Focus</code>, <code>Start</code> or <code>End</code>. You can also omit <code>{Point}</code> to move both the anchor and focus points at the same time.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#movetorangeof","title":"<code>moveToRangeOf</code>","text":"<p><code>moveToRangeOf(node: Node) =&gt; Change</code></p> <p>Move the current selection's anchor point to the start of a <code>node</code> and its focus point to the end of the <code>node</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#movetorangeofdocument","title":"<code>moveToRangeOfDocument</code>","text":"<p><code>moveToRangeOf() =&gt; Change</code></p> <p>Move the current selection's anchor point to the start of the document and its focus point to the end of the document, selecting everything.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#select","title":"<code>select</code>","text":"<p><code>select(properties: Range || Object) =&gt; Change</code></p> <p>Set the current selection to a range with merged <code>properties</code>. The <code>properties</code> can either be a <code>Range</code> object or a plain Javascript object of selection properties.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#document-range-changes","title":"Document Range Changes","text":"<p>These changes act on a specific <code>Range</code> of the document.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#addmarkatrange","title":"<code>addMarkAtRange</code>","text":"<p><code>addMarkAtRange(range: Range, mark: Mark) =&gt; Change</code> <code>addMarkAtRange(range: Range, properties: Object) =&gt; Change</code> <code>addMarkAtRange(range: Range, type: String) =&gt; Change</code></p> <p>Add a <code>mark</code> to the characters in a <code>range</code>. For convenience, you can pass a <code>type</code> string or <code>properties</code> object to implicitly create a <code>Mark</code> of that type.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#deleteatrange","title":"<code>deleteAtRange</code>","text":"<p><code>deleteAtRange(range: Range, ) =&gt; Change</code></p> <p>Delete everything in a <code>range</code>.</p> <p>\u5220\u9664\u5f53\u524drange\u4e2d\u7684\u5168\u90e8\u5185\u5bb9</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#deletebackwardatrange","title":"<code>deleteBackwardAtRange</code>","text":"<p><code>deleteBackwardAtRange(range: Range, n: Number) =&gt; Change</code></p> <p>Delete backward <code>n</code> characters at a <code>range</code>. If the <code>range</code> is expanded, this method is equivalent to a regular <code>delete()</code>. <code>n</code> defaults to <code>1</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#deleteforwardatrange","title":"<code>deleteForwardAtRange</code>","text":"<p><code>deleteForwardAtRange(range: Range, n: Number) =&gt; Change</code></p> <p>Delete forward <code>n</code> characters at a <code>range</code>. If the <code>range</code> is expanded, this method is equivalent to a regular <code>delete()</code>. <code>n</code> defaults to <code>1</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#insertblockatrange","title":"<code>insertBlockAtRange</code>","text":"<p><code>insertBlockAtRange(range: Range, block: Block) =&gt; Change</code> <code>insertBlockAtRange(range: Range, properties: Object) =&gt; Change</code> <code>insertBlockAtRange(range: Range, type: String) =&gt; Change</code></p> <p>Insert a new block at the same level as the leaf block at a <code>range</code>, splitting the current block to make room if it is non-empty. If the selection is expanded, it will be deleted first.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#insertfragmentatrange","title":"<code>insertFragmentAtRange</code>","text":"<p><code>insertFragmentAtRange(range: Range, fragment: Document) =&gt; Change</code></p> <p>Insert a <code>fragment</code> at a <code>range</code>. If the selection is expanded, it will be deleted first.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#insertinlineatrange","title":"<code>insertInlineAtRange</code>","text":"<p><code>insertInlineAtRange(range: Range, inline: Inline) =&gt; Change</code> <code>insertInlineAtRange(range: Range, properties: Object) =&gt; Change</code></p> <p>Insert a new inline at a <code>range</code>, splitting the text to make room if it is non-empty. If the selection is expanded, it will be deleted first.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#inserttextatrange","title":"<code>insertTextAtRange</code>","text":"<p><code>insertTextAtRange(range: Range, text: String) =&gt; Change</code></p> <p>Insert a string of <code>text</code> at a <code>range</code>. If the selection is expanded, it will be deleted first.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#setblocksatrange","title":"<code>setBlocksAtRange</code>","text":"<p><code>setBlocksAtRange(range: Range, properties: Object) =&gt; Change</code> <code>setBlocks(range: Range, type: String) =&gt; Change</code></p> <p>Set the <code>properties</code> of the <code>Blocks</code> in a <code>range</code>. For convenience, you can pass a <code>type</code> string to set the blocks' type only.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#setinlinesatrange","title":"<code>setInlinesAtRange</code>","text":"<p><code>setInlinesAtRange(range: Range, properties: Object) =&gt; Change</code> <code>setInlines(range: Range, type: String) =&gt; Change</code></p> <p>Set the <code>properties</code> of the <code>Inlines</code> nodes in a <code>range</code>. For convenience, you can pass a <code>type</code> string to set the inline nodes' type only.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#splitblockatrange","title":"<code>splitBlockAtRange</code>","text":"<p><code>splitBlockAtRange(range: Range, depth: Number) =&gt; Change</code></p> <p>Split the <code>Block</code> in a <code>range</code> by <code>depth</code> levels. If the selection is expanded, it will be deleted first. <code>depth</code> defaults to <code>1</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#splitinlineatrange","title":"<code>splitInlineAtRange</code>","text":"<p><code>splitInlineAtRange(range: Range, depth: Number) =&gt; Change</code></p> <p>Split the <code>Inline</code> node in a <code>range</code> by <code>depth</code> levels. If the selection is expanded, it will be deleted first. <code>depth</code> defaults to <code>Infinity</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#removemarkatrange","title":"<code>removeMarkAtRange</code>","text":"<p><code>removeMarkAtRange(range: Range, mark: Mark) =&gt; Change</code> <code>removeMarkAtRange(range: Range, properties: Object) =&gt; Change</code> <code>removeMarkAtRange(range: Range, type: String) =&gt; Change</code></p> <p>Remove a <code>mark</code> from the characters in a <code>range</code>. For convenience, you can pass a <code>type</code> string or <code>properties</code> object to implicitly create a <code>Mark</code> of that type.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#togglemarkatrange","title":"<code>toggleMarkAtRange</code>","text":"<p><code>toggleMarkAtRange(range: Range, mark: Mark) =&gt; Change</code> <code>toggleMarkAtRange(range: Range, properties: Object) =&gt; Change</code> <code>toggleMarkAtRange(range: Range, type: String) =&gt; Change</code></p> <p>Add or remove a <code>mark</code> from the characters in a <code>range</code>, depending on whether any of them already have the mark. For convenience, you can pass a <code>type</code> string or <code>properties</code> object to implicitly create a <code>Mark</code> of that type.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#unwrapblockatrange","title":"<code>unwrapBlockAtRange</code>","text":"<p><code>unwrapBlockAtRange(range: Range, properties: Object) =&gt; Change</code> <code>unwrapBlockAtRange(range: Range, type: String) =&gt; Change</code></p> <p>Unwrap all <code>Block</code> nodes in a <code>range</code> that match <code>properties</code>. For convenience, you can pass a <code>type</code> string or <code>properties</code> object.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#unwrapinlineatrange","title":"<code>unwrapInlineAtRange</code>","text":"<p><code>unwrapInlineAtRange(range: Range, properties: Object) =&gt; Change</code> <code>unwrapInlineAtRange(range: Range, type: String) =&gt; Change</code></p> <p>Unwrap all <code>Inline</code> nodes in a <code>range</code> that match <code>properties</code>. For convenience, you can pass a <code>type</code> string or <code>properties</code> object.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#wrapblockatrange","title":"<code>wrapBlockAtRange</code>","text":"<p><code>wrapBlockAtRange(range: Range, properties: Object) =&gt; Change</code> <code>wrapBlockAtRange(range: Range, type: String) =&gt; Change</code></p> <p>Wrap the <code>Block</code> nodes in a <code>range</code> with a new <code>Block</code> node with <code>properties</code>. For convenience, you can pass a <code>type</code> string or <code>properties</code> object.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#wrapinlineatrange","title":"<code>wrapInlineAtRange</code>","text":"<p><code>wrapInlineAtRange(range: Range, properties: Object) =&gt; Change</code> <code>wrapInlineAtRange(range: Range, type: String) =&gt; Change</code></p> <p>Wrap the <code>Inline</code> nodes in a <code>range</code> with a new <code>Inline</code> node with <code>properties</code>. For convenience, you can pass a <code>type</code> string or <code>properties</code> object.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#wraptextatrange","title":"<code>wrapTextAtRange</code>","text":"<p><code>wrapTextAtRange(range: Range, prefix: String, [suffix: String]) =&gt; Change</code></p> <p>Surround the text in a <code>range</code> with <code>prefix</code> and <code>suffix</code> strings. If the <code>suffix</code> is ommitted, the <code>prefix</code> will be used instead.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#node-changes","title":"Node Changes","text":"<p>These changes are lower-level, and act on a specific node by its <code>key</code> or <code>path</code>. They're often used in your custom components because you'll have access to <code>props.node</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#addmarkbykeypath","title":"<code>addMarkByKey/Path</code>","text":"<p><code>addMarkByKey(key: String, offset: Number, length: Number, mark: Mark) =&gt; Change</code> <code>addMarkByPath(path: List, offset: Number, length: Number, mark: Mark) =&gt; Change</code></p> <p>Add a <code>mark</code> to <code>length</code> characters starting at an <code>offset</code> in a <code>Node</code> by its <code>key</code> or <code>path</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#insertnodebykeypath","title":"<code>insertNodeByKey/Path</code>","text":"<p><code>insertNodeByKey(key: String, index: Number, node: Node) =&gt; Change</code> <code>insertNodeByPath(path: List, index: Number, node: Node) =&gt; Change</code></p> <p>Insert a <code>node</code> at <code>index</code> inside a parent <code>Node</code> by its <code>key</code> or <code>path</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#insertfragmentbykeypath","title":"<code>insertFragmentByKey/Path</code>","text":"<p><code>insertFragmentByKey(key: String, index: Number, fragment: Fragment) =&gt; Transform</code> <code>insertFragmentByPath(path: list, index: Number, fragment: Fragment) =&gt; Transform</code></p> <p>Insert a <code>Fragment</code> at <code>index</code> inside a parent <code>Node</code> by its <code>key</code> or <code>path</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#inserttextbykeypath","title":"<code>insertTextByKey/Path</code>","text":"<p><code>insertTextByKey(key: String, offset: Number, text: String, [marks: Set]) =&gt; Change</code> <code>insertTextByPath(path: List, offset: Number, text: String, [marks: Set]) =&gt; Change</code></p> <p>Insert <code>text</code> at an <code>offset</code> in a <code>Text Node</code> by its <code>key</code> with optional <code>marks</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#mergenodebykeypath","title":"<code>mergeNodeByKey/Path</code>","text":"<p><code>mergeNodeByKey(key: String) =&gt; Change</code> <code>mergeNodeByPath(path: List) =&gt; Change</code></p> <p>Merge a <code>Node</code> by its <code>key</code> or <code>path</code> with its previous sibling.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#movenodebykeypath","title":"<code>moveNodeByKey/Path</code>","text":"<p><code>moveNodeByKey(key: String, newKey: String, newIndex: Number) =&gt; Change</code> <code>moveNodeByPath(path: List, newKey: String, newIndex: Number) =&gt; Change</code></p> <p>Move a <code>Node</code> by its <code>key</code> or <code>path</code> to a new parent node with its <code>newKey</code> and at a <code>newIndex</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#removemarkbykeypath","title":"<code>removeMarkByKey/Path</code>","text":"<p><code>removeMarkByKey(key: String, offset: Number, length: Number, mark: Mark) =&gt; Change</code> <code>removeMarkByPath(path: List, offset: Number, length: Number, mark: Mark) =&gt; Change</code></p> <p>Remove a <code>mark</code> from <code>length</code> characters starting at an <code>offset</code> in a <code>Node</code> by its <code>key</code> or <code>path</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#removenodebykeypath","title":"<code>removeNodeByKey/Path</code>","text":"<p><code>removeNodeByKey(key: String) =&gt; Change</code> <code>removeNodeByPath(path: List) =&gt; Change</code></p> <p>Remove a <code>Node</code> from the document by its <code>key</code> or <code>path</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#replacenodebykeypath","title":"<code>replaceNodeByKey/Path</code>","text":"<p><code>replaceNodeByKey(key: String, node: Node) =&gt; Change</code> <code>replaceNodeByPath(path: List, node: Node) =&gt; Change</code></p> <p>Replace a <code>Node</code> in the document with a new <code>Node</code> by its <code>key</code> or <code>path</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#removetextbykeypath","title":"<code>removeTextByKey/Path</code>","text":"<p><code>removeTextByKey(key: String, offset: Number, length: Number) =&gt; Change</code> <code>removeTextByPath(path: List, offset: Number, length: Number) =&gt; Change</code></p> <p>Remove <code>length</code> characters of text starting at an <code>offset</code> in a <code>Node</code> by its <code>key</code> or <code>path</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#setmarkbykeypath","title":"<code>setMarkByKey/Path</code>","text":"<p><code>setMarkByKey(key: String, offset: Number, length: Number, mark: Mark, properties: Object) =&gt; Change</code> <code>setMarkByPath(path: List, offset: Number, length: Number, mark: Mark, properties: Object) =&gt; Change</code></p> <p>Set a dictionary of <code>properties</code> on a <code>mark</code> on a <code>Node</code> by its <code>key</code> or <code>path</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#setnodebykeypath","title":"<code>setNodeByKey/Path</code>","text":"<p><code>setNodeByKey(key: String, properties: Object) =&gt; Change</code> <code>setNodeByKey(key: String, type: String) =&gt; Change</code> <code>setNodeByPath(path: List, properties: Object) =&gt; Change</code> <code>setNodeByPath(path: List, type: String) =&gt; Change</code></p> <p>Set a dictionary of <code>properties</code> on a <code>Node</code> by its <code>key</code> or <code>path</code>. For convenience, you can pass a <code>type</code> string or <code>properties</code> object.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#splitnodebykeypath","title":"<code>splitNodeByKey/Path</code>","text":"<p><code>splitNodeByKey(key: String, offset: Number) =&gt; Change</code> <code>splitNodeByPath(path: List, offset: Number) =&gt; Change</code></p> <p>Split a node by its <code>key</code> or <code>path</code> at an <code>offset</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#unwrapinlinebykeypath","title":"<code>unwrapInlineByKey/Path</code>","text":"<p><code>unwrapInlineByKey(key: String, properties: Object) =&gt; Change</code> <code>unwrapInlineByKey(key: String, type: String) =&gt; Change</code> <code>unwrapInlineByPath(path: List, properties: Object) =&gt; Change</code> <code>unwrapInlineByPath(path: List, type: String) =&gt; Change</code></p> <p>Unwrap all inner content of an <code>Inline</code> node by its <code>key</code> or <code>path</code> that match <code>properties</code>. For convenience, you can pass a <code>type</code> string or <code>properties</code> object.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#unwrapblockbykeypath","title":"<code>unwrapBlockByKey/Path</code>","text":"<p><code>unwrapBlockByKey(key: String, properties: Object) =&gt; Change</code> <code>unwrapBlockByKey(key: String, type: String) =&gt; Change</code> <code>unwrapBlockByPath(path: List, properties: Object) =&gt; Change</code> <code>unwrapBlockByPath(path: List, type: String) =&gt; Change</code></p> <p>Unwrap all inner content of a <code>Block</code> node by its <code>key</code> or <code>path</code> that match <code>properties</code>. For convenience, you can pass a <code>type</code> string or <code>properties</code> object.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#unwrapnodebykeypath","title":"<code>unwrapNodeByKey/Path</code>","text":"<p><code>unwrapNodeByKey(key: String) =&gt; Change</code> <code>unwrapNodeByPath(path: List) =&gt; Change</code></p> <p>Unwrap a single node from its parent. If the node is surrounded with siblings, its parent will be split. If the node is the only child, the parent is removed, and simply replaced by the node itself. Cannot unwrap a root node.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#wrapblockbykeypath","title":"<code>wrapBlockByKey/Path</code>","text":"<p><code>wrapBlockByKey(key: String, properties: Object) =&gt; Change</code> <code>wrapBlockByKey(key: String, type: String) =&gt; Change</code> <code>wrapBlockByPath(path: List, properties: Object) =&gt; Change</code> <code>wrapBlockByPath(path: List, type: String) =&gt; Change</code></p> <p>Wrap the given node in a <code>Block</code> node that match <code>properties</code>. For convenience, you can pass a <code>type</code> string or <code>properties</code> object.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#wrapinlinebykeypath","title":"<code>wrapInlineByKey/Path</code>","text":"<p><code>wrapInlineByKey(key: String, properties: Object) =&gt; Change</code> <code>wrapInlineByKey(key: String, type: String) =&gt; Change</code> <code>wrapInlineByPath(path: List, properties: Object) =&gt; Change</code> <code>wrapInlineByPath(path: List, type: String) =&gt; Change</code></p> <p>Wrap the given node in a <code>Inline</code> node that match <code>properties</code>. For convenience, you can pass a <code>type</code> string or <code>properties</code> object.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#wrapnodebykeypath","title":"<code>wrapNodeByKey/Path</code>","text":"<p><code>wraNodeByKey(key: String, parent: Node) =&gt; Change</code> <code>wraNodeByPath(path: List, parent: Node) =&gt; Change</code> </p> <p>Wrap the node with the specified key with the parent <code>Node</code>. This will clear all children of the parent.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#history-changes","title":"History Changes","text":"<p>These changes use the history to undo/redo previously made changes.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#redo","title":"<code>redo</code>","text":"<p><code>redo() =&gt; Change</code></p> <p>Move forward one step in the history.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#undo","title":"<code>undo</code>","text":"<p><code>undo() =&gt; Change</code></p> <p>Move backward one step in the history.</p>"},{"location":"third-part-lib/slate/slate-new-API/change/#snapshotselection","title":"<code>snapshotSelection</code>","text":"<p><code>snapshotSelection() =&gt; Change</code></p> <p>Snapshot <code>value.selection</code> for <code>undo</code> purposes, useful with delete operations like <code>change.removeNodeByKey(focusBlock.key).undo()</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/data/","title":"<code>Data</code>","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 565  \u9605\u8bfb2\u5206\u949f</p> <pre><code>import { Data } from 'slate'\n</code></pre> <p>Data is simply a thin wrapper around <code>Immutable.Map</code>, so that you don't need to ever depend on Immutable directly, and for future compatibility.</p> <p>A data object can have any properties associated with it.</p>"},{"location":"third-part-lib/slate/slate-new-API/data/#static-methods","title":"Static Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/data/#datacreate","title":"<code>Data.create</code>","text":"<p><code>Data.create(properties: Object) =&gt; Data</code></p> <p>Create a data object from a plain Javascript object of <code>properties</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/data/#datafromjson","title":"<code>Data.fromJSON</code>","text":"<p><code>Data.fromJSON(object: Object) =&gt; Data</code></p> <p>Create a data object from a JSON <code>object</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/decoration/","title":"<code>Decoration</code>","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1731  \u9605\u8bfb4\u5206\u949f</p> <pre><code>import { Decoration } from 'slate'\n</code></pre> <p>A decoration is a range of the document that has a specific <code>Mark</code> dynamically applied to it based on its content or some other external state. It is not actually reflected in the document's structure itself. This can be useful for cases like syntax highlighting, or search result highlighting.</p> <p>Decoration\u662f\u6587\u6863\u7684\u4e00\u4e2a\u8303\u56f4\uff0c\u5b83\u6709\u4e00\u4e2a\u7279\u5b9a\u7684mark\uff0c\u6839\u636e\u5185\u5bb9\u6216\u5176\u4ed6\u5916\u90e8\u72b6\u6001\u52a8\u6001\u5730\u5e94\u7528\u5230document\u4e2d\u3002\u5b83\u5b9e\u9645\u4e0a\u5e76\u6ca1\u6709\u53cd\u6620\u5728\u6587\u6863\u7684\u7ed3\u6784\u672c\u8eab\u4e2d\u3002\u8fd9\u5bf9\u4e8e\u8bed\u6cd5\u7a81\u51fa\u663e\u793a\u6216\u641c\u7d22\u7ed3\u679c\u7a81\u51fa\u663e\u793a\u7b49\u60c5\u51b5\u5f88\u6709\u7528\u3002</p> <p>Decorations implement the <code>Range</code> interface, but also contain a <code>mark</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/decoration/#properties","title":"Properties","text":"<pre><code>Decoration({\n  anchor: Point,\n  focus: Point,\n  mark: Mark,\n})\n</code></pre>"},{"location":"third-part-lib/slate/slate-new-API/decoration/#mark","title":"<code>mark</code>","text":"<p><code>Mark</code></p> <p>The mark associated with the decoration.</p>"},{"location":"third-part-lib/slate/slate-new-API/decoration/#object","title":"<code>object</code>","text":"<p><code>String</code></p> <p>A string with a value of <code>'decoration'</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/decoration/#static-methods","title":"Static Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/decoration/#decorationcreate","title":"<code>Decoration.create</code>","text":"<p><code>Decoration.create(properties: Object) =&gt; Decoration</code></p> <p>Create a new <code>Decoration</code> instance with <code>properties</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/decoration/#decorationcreateproperties","title":"<code>Decoration.createProperties</code>","text":"<p><code>Decoration.createProperties(object: Object|Decoration) =&gt; Object</code></p> <p>Create a new dictionary of range properties from an <code>object</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/decoration/#decorationfromjson","title":"<code>Decoration.fromJSON</code>","text":"<p><code>Decoration.fromJSON(object: Object) =&gt; Decoration</code></p> <p>Create a range from a JSON <code>object</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/decoration/#decorationisdecoration","title":"<code>Decoration.isDecoration</code>","text":"<p><code>Decoration.isDecoration(value: Any) =&gt; Boolean</code></p> <p>Check whether a <code>value</code> is a <code>Decoration</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/decoration/#instance-methods","title":"Instance Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/decoration/#tojson","title":"<code>toJSON</code>","text":"<p><code>toJSON() =&gt; Object</code></p> <p>Return a JSON representation of the range.</p>"},{"location":"third-part-lib/slate/slate-new-API/decoration/#mutating-methods","title":"Mutating Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/decoration/#setmark","title":"<code>setMark</code>","text":"<p><code>setMark(mark: Mark) =&gt; Decoration</code></p> <p>Return a new decoration with a new <code>mark</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/document/","title":"<code>Document</code>","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 2018  \u9605\u8bfb5\u5206\u949f</p> <pre><code>import { Document } from 'slate'\n</code></pre> <p>The top-level node in Slate's document model.</p> <p>Documents are made up of block nodes, inline nodes, and text nodes\uff08\u5757\u7ea7\u8282\u70b9\u3001\u884c\u5185\u8282\u70b9\u3001\u6587\u672c\u8282\u70b9\uff09\u2014just like in the DOM. Note that direct descendants of a document node have to be block nodes.</p> <p>Document\u662f\u9876\u7ea7\u8282\u70b9\uff08\u7c7b\u4f3c\u4e8eDOM\uff09</p> <p>In some places, you'll see mention of \"fragments\", which are also <code>Document</code> objects, just that aren't attached to the main <code>Value</code>. For example, when cutting-and-pasting a selection of content, that content will be referred to as a document \"fragment\".</p> <p>fragment\u4e5f\u662f\u4e00\u79cdDocument\u8282\u70b9\u3002\u4f46\u662f\u8fd9\u4e2a\u8282\u70b9\u6ca1\u6709\u548cValue\u5c5e\u6027\u8fde\u63a5\u3002\u4f8b\u5982\uff0c\u5f53\u526a\u5207\u7c98\u8d34\u4e00\u90e8\u5206\u5185\u5bb9\uff0c\u5f53\u524d\u7684\u5185\u5bb9\u5c31\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e00\u4e2afragment\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/document/#properties","title":"Properties","text":"<pre><code>Document({\n  nodes: Immutable.List&lt;Node&gt;,\n})\n</code></pre>"},{"location":"third-part-lib/slate/slate-new-API/document/#data","title":"<code>data</code>","text":"<p><code>Immutable.Map</code></p> <p>Arbitrary data associated with the document. Defaults to an empty <code>Map</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/document/#object","title":"<code>object</code>","text":"<p><code>String</code></p> <p>An immutable string value of <code>'document'</code> for easily separating this node from <code>Block</code>, <code>Inline</code> or <code>Text</code> nodes.</p>"},{"location":"third-part-lib/slate/slate-new-API/document/#nodes","title":"<code>nodes</code>","text":"<p><code>Immutable.List</code></p> <p>A list of child nodes.</p>"},{"location":"third-part-lib/slate/slate-new-API/document/#computed-properties","title":"Computed Properties","text":""},{"location":"third-part-lib/slate/slate-new-API/document/#text","title":"<code>text</code>","text":"<p><code>String</code></p> <p>A concatenated string of all of the descendant <code>Text</code> nodes of this node.</p>"},{"location":"third-part-lib/slate/slate-new-API/document/#static-methods","title":"Static Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/document/#documentcreate","title":"<code>Document.create</code>","text":"<p><code>Document.create(properties: Object) =&gt; Document</code></p> <p>Create a document from a plain Javascript object of <code>properties</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/document/#documentfromjson","title":"<code>Document.fromJSON</code>","text":"<p><code>Document.fromJSON(object: Object) =&gt; Document</code></p> <p>Create a document from a JSON <code>object</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/document/#documentisdocument","title":"<code>Document.isDocument</code>","text":"<p><code>Document.isDocument(maybeDocument: Any) =&gt; Boolean</code></p> <p>Returns a boolean if the passed in argument is a <code>Document</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/document/#node-methods","title":"Node Methods","text":"<p>Documents implement the <code>Node</code> interface. For information about all of the node methods, see the <code>Node</code> reference.</p>"},{"location":"third-part-lib/slate/slate-new-API/document/#instance-methods","title":"Instance Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/document/#tojson","title":"<code>toJSON</code>","text":"<p><code>toJSON() =&gt; Object</code></p> <p>Returns a JSON representation of the document.</p>"},{"location":"third-part-lib/slate/slate-new-API/inline/","title":"<code>Inline</code>","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1830  \u9605\u8bfb4\u5206\u949f</p> <pre><code>import { Inline } from 'slate'\n</code></pre> <p>A inline node in a Slate <code>Document</code>. Inline nodes implement the <code>Node</code> interface.</p> <p>Inline nodes may contain nested inline nodes and text nodes\u2014just like in the DOM. They always contain at least one text node child.</p>"},{"location":"third-part-lib/slate/slate-new-API/inline/#properties","title":"Properties","text":"<pre><code>Inline({\n  data: Data,\n  key: String,\n  nodes: Immutable.List&lt;Node&gt;,\n  type: String\n})\n</code></pre>"},{"location":"third-part-lib/slate/slate-new-API/inline/#data","title":"<code>data</code>","text":"<p><code>Immutable.Map</code></p> <p>Arbitrary data associated with the node. Defaults to an empty <code>Map</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/inline/#key","title":"<code>key</code>","text":"<p><code>String</code></p> <p>A unique identifier for the node.</p>"},{"location":"third-part-lib/slate/slate-new-API/inline/#object","title":"<code>object</code>","text":"<p><code>String</code></p> <p>An immutable string value of <code>'inline'</code> for easily separating this node from <code>Block</code> or <code>Text</code> nodes.</p>"},{"location":"third-part-lib/slate/slate-new-API/inline/#nodes","title":"<code>nodes</code>","text":"<p><code>Immutable.List</code></p> <p>A list of child nodes. Defaults to a list with a single text node child.</p>"},{"location":"third-part-lib/slate/slate-new-API/inline/#type","title":"<code>type</code>","text":"<p><code>String</code></p> <p>The custom type of the node (eg. <code>link</code> or <code>hashtag</code>).</p>"},{"location":"third-part-lib/slate/slate-new-API/inline/#computed-properties","title":"Computed Properties","text":""},{"location":"third-part-lib/slate/slate-new-API/inline/#text","title":"<code>text</code>","text":"<p><code>String</code></p> <p>A concatenated string of all of the descendant <code>Text</code> nodes of this node.</p>"},{"location":"third-part-lib/slate/slate-new-API/inline/#static-methods","title":"Static Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/inline/#inlinecreate","title":"<code>Inline.create</code>","text":"<p><code>Inline.create(properties: Object) =&gt; Inline</code></p> <p>Create an inline from a plain Javascript object of <code>properties</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/inline/#inlinecreatelist","title":"<code>Inline.createList</code>","text":"<p><code>Inline.createList(array: Array) =&gt; List</code></p> <p>Create a list of inline nodes from a plain Javascript <code>array</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/inline/#inlinefromjson","title":"<code>Inline.fromJSON</code>","text":"<p><code>Inline.fromJSON(object: Object) =&gt; Inline</code></p> <p>Create an inline from a JSON <code>object</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/inline/#inlineisinline","title":"<code>Inline.isInline</code>","text":"<p><code>Inline.isInline(maybeInline: Any) =&gt; Boolean</code></p> <p>Returns a boolean if the passed in argument is a <code>Inline</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/inline/#node-methods","title":"Node Methods","text":"<p>Inlines implement the <code>Node</code> interface. For information about all of the node methods, see the <code>Node</code> reference.</p>"},{"location":"third-part-lib/slate/slate-new-API/inline/#instance-methods","title":"Instance Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/inline/#tojson","title":"<code>toJSON</code>","text":"<p><code>toJSON() =&gt; Object</code></p> <p>Returns a JSON representation of the inline.</p>"},{"location":"third-part-lib/slate/slate-new-API/mark/","title":"<code>Mark</code>","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1068  \u9605\u8bfb3\u5206\u949f</p> <pre><code>import { Mark } from 'slate'\n</code></pre> <p>A formatting mark that can be associated with characters. Marks are how Slate represents rich formatting like bold or italic.</p> <p>mark\u5c31\u662f\u5bcc\u6587\u672c\uff08\u52a0\u7c97-\u659c\u4f53\uff09\u7684\u5b9e\u73b0\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/mark/#properties","title":"Properties","text":"<pre><code>Mark({\n  data: Data,\n  type: String,\n})\n</code></pre>"},{"location":"third-part-lib/slate/slate-new-API/mark/#data","title":"<code>data</code>","text":"<p><code>Data</code></p> <p>A map of <code>Data</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/mark/#object","title":"<code>object</code>","text":"<p><code>String</code></p> <p>A string with a value of <code>'mark'</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/mark/#type","title":"<code>type</code>","text":"<p><code>String</code></p> <p>The custom type of the mark (eg. <code>bold</code> or <code>italic</code>).</p>"},{"location":"third-part-lib/slate/slate-new-API/mark/#static-methods","title":"Static Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/mark/#markcreate","title":"<code>Mark.create</code>","text":"<p><code>Mark.create(properties: Object) =&gt; Mark</code></p> <p>Create a mark from a plain Javascript object of <code>properties</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/mark/#markcreateset","title":"<code>Mark.createSet</code>","text":"<p><code>Mark.createSet(array: Array) =&gt; Set</code></p> <p>Create a set of marks from a plain Javascript <code>array</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/mark/#markfromjson","title":"<code>Mark.fromJSON</code>","text":"<p><code>Mark.fromJSON(object: Object) =&gt; Mark</code></p> <p>Create a mark from a JSON <code>object</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/mark/#markismark","title":"<code>Mark.isMark</code>","text":"<p><code>Mark.isMark(maybeMark: Any) =&gt; Boolean</code></p> <p>Returns a boolean if the passed in argument is a <code>Mark</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/mark/#instance-methods","title":"Instance Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/mark/#tojson","title":"<code>toJSON</code>","text":"<p><code>toJSON() =&gt; Object</code></p> <p>Returns a JSON representation of the mark.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/","title":"<code>Node</code>","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 10328  \u9605\u8bfb21\u5206\u949f</p> <p><code>Node</code> is not a publicly accessible module, but instead an interface that <code>Document</code>, <code>Block</code> and <code>Inline</code> all implement.(node \u4e0d\u662f\u4e00\u4e2a\u516c\u5f00\u53ef\u83b7\u5f97\u7684\u6a21\u5757\uff0c\u662f\u4e00\u4e2a\u6240\u6709\u5b9e\u73b0\u5bf9\u8c61\u7684API)\u2014\u2014Document Block Inline \u5171\u6709</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#properties","title":"Properties","text":""},{"location":"third-part-lib/slate/slate-new-API/node/#key","title":"<code>key</code>","text":"<p><code>String</code></p> <p>A short-lived, unique identifier for the node. \u7279\u5b9a\u7684\u77ed\u5468\u671f\u7684node\u6807\u8bc6\u7b26</p> <p>By default, keys are not meant to be long-lived unique identifiers for nodes that you might store in a database, or elsewhere. They are meant purely to identify a node inside of a single Slate instance. For that reason, they are simply auto-incrementing strings. (eg. <code>'0'</code>, <code>'1'</code>, <code>'2'</code>, ...)</p> <p>\u901a\u5e38key\u4e0d\u662f\u957f\u4e45\u7684\u5728\u6570\u636e\u5e93\u4e2d\u5b58\u50a8\u7684\u8282\u70b9\u7684\u6807\u8bc6\u7b26\uff0c\u4ec5\u4ec5\u662f\u5355\u4e2aslate\u5b9e\u4f8b\u4e2d\u7684\u6807\u8bc6\u7b26\uff08\u81ea\u52a8\u589e\u52a0\u7684\u5b57\u7b26\u4e32-\u4e0d\u662fnumber\uff09</p> <p>If you want to make your keys uniqueness long-lived, you'll need to supply your own key generating function via the <code>setKeyGenerator</code> util.</p> <p>\u5982\u679c\u60f3\u8981\u957f\u4e45\u7684\u5b58\u5728\uff0c\u9700\u8981\u4f7f\u7528key\u751f\u6210\u51fd\u6570\uff0c\u901a\u8fc7 setKeyGenerator\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#nodes","title":"<code>nodes</code>","text":"<p><code>Immutable.List</code></p> <p>A list of child nodes. Defaults to a list with a single text node child.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#object","title":"<code>object</code>","text":"<p><code>String</code></p> <p>An immutable string value of <code>'document'</code>, <code>'block'</code>, <code>'inline'</code> or <code>'text'</code> for easily separating this node from <code>Inline</code> or <code>Text</code> nodes.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#computed-properties","title":"Computed Properties","text":""},{"location":"third-part-lib/slate/slate-new-API/node/#text","title":"<code>text</code>","text":"<p><code>String</code></p> <p>A concatenated\uff08\u8fde\u63a5\u7684\uff09 string of all of the descendant\uff08\u5b50\u4ee3\uff09 <code>Text</code> nodes of this node.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#methods","title":"Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/node/#filterdescendants","title":"<code>filterDescendants</code>","text":"<p><code>filterDescendants(iterator: Function) =&gt; List</code></p> <p>Deeply filter the descendant nodes of a node by <code>iterator</code>.\uff08\u4f7f\u7528\u8fed\u4ee3\u5668\u8fc7\u6ee4\u5b50\u4ee3\u8282\u70b9\uff0c\u8fd4\u56de\u4e00\u4e2aList\uff09</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#finddescendant","title":"<code>findDescendant</code>","text":"<p><code>findDescendant(iterator: Function) =&gt; Node|Void</code></p> <p>Deeply find a descendant node by <code>iterator</code>.\uff08\u4f7f\u7528\u8fed\u4ee3\u5668\u67e5\u627e\u5b50\u4ee3\u8282\u70b9\u2014\u2014\u8fd4\u56de\u8282\u70b9\u6216\u8005\u7a7a\uff09</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getancestors","title":"<code>getAncestors</code>","text":"<p><code>getAncestors(path: List|Array) =&gt; List|Void</code> <code>getAncestors(key: String) =&gt; List|Void</code></p> <p>Get the ancestors of a descendant by <code>path</code> or <code>key</code>.</p> <p>\uff08\u901a\u8fc7\u8def\u5f84\u6216\u8005key\uff0c\u83b7\u53d6\u4e00\u4e2a\u540e\u4ee3\u7684\u7956\u5148\uff09</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getblocks","title":"<code>getBlocks</code>","text":"<p><code>getBlocks() =&gt; List</code></p> <p>Get all of the bottom-most <code>Block</code> node descendants.</p> <p>\u83b7\u53d6\u6240\u6709\u540e\u4ee3\u8282\u70b9\u4e2d\u7684\u6700\u5e95\u5c42Block\u5757\u7ea7\u8282\u70b9</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getblocksatrange","title":"<code>getBlocksAtRange</code>","text":"<p><code>getBlocksAtRange(range: Range) =&gt; List</code></p> <p>Get all of the bottom-most <code>Block</code> nodes in a <code>range</code>.</p> <p>\u5728Range\u4e2d\u83b7\u53d6\u6240\u6709\u5e95\u5c42\u7684Block\u8282\u70b9</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getblocksbytype","title":"<code>getBlocksByType</code>","text":"<p><code>getBlocksByType(type: String) =&gt; List</code></p> <p>Get all of the bottom-most <code>Block</code> nodes by <code>type</code>.</p> <p>\u6839\u636e\u4e0d\u540c\u7c7b\u578b\uff0c\u83b7\u53d6\u5e95\u5c42\u7684Block\u8282\u70b9</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getchild","title":"<code>getChild</code>","text":"<p><code>getChild(path: List|Array) =&gt; Node|Void</code> <code>getChild(key: String) =&gt; Node|Void</code></p> <p>Get a child by <code>path</code> or <code>key</code>.</p> <p>\u6839\u636e\u8def\u5f84\u6216\u8005key\u83b7\u53d6\u4e00\u4e2a\u5b50\u8282\u70b9</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getclosest","title":"<code>getClosest</code>","text":"<p><code>getClosest(path: List|Array, match: Function) =&gt; Node|Void</code> <code>getClosest(key: String, match: Function) =&gt; Node|Void</code></p> <p>Get the closest parent node of a descendant node by <code>path</code> or <code>key</code> that matches a <code>match</code> function.</p> <p>\u83b7\u53d6\u4e00\u4e2a\u540e\u4ee3\u8282\u70b9\u7684\u6700\u8fd1\u7684\u7236\u8282\u70b9\uff0c\u6839\u636e\u8def\u5f84\u6216\u8005key\uff0c\u548c\u4e00\u4e2amatch\u51fd\u6570\u5339\u914d</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getclosestblock","title":"<code>getClosestBlock</code>","text":"<p><code>getClosestBlock(path: List|Array) =&gt; Node|Void</code> <code>getClosestBlock(key: String) =&gt; Node|Void</code></p> <p>Get the closest <code>Block</code> node to a descendant node by <code>path</code> or <code>key</code>.</p> <p>\u83b7\u53d6\u5f53\u524d\u7684\u5b50\u4ee3\u8282\u70b9\u7684Block\u8282\u70b9</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getclosestinline","title":"<code>getClosestInline</code>","text":"<p><code>getClosestInline(path: List|Array) =&gt; Node|Void</code> <code>getClosestInline(key: String) =&gt; Node|Void</code></p> <p>Get the closest <code>Inline</code> node to a descendant node by <code>path</code> or <code>key</code>.</p> <p>\u83b7\u53d6\u5f53\u524d\u5b50\u4ee3\u8282\u70b9\u7684Inline\u8282\u70b9</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getclosestvoid","title":"<code>getClosestVoid</code>","text":"<p><code>getClosestVoid(path: List|Array) =&gt; Node|Void</code> <code>getClosestVoid(key: String) =&gt; Node|Void</code></p> <p>Get the closest void parent of a descendant node by <code>path</code> or <code>key</code>.</p> <p>\u83b7\u53d6\u5f53\u524d\u6700\u8fd1\u7684\u7a7a\u7236\u8282\u70b9</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getcommonancestor","title":"<code>getCommonAncestor</code>","text":"<p><code>getCommonAncestor(path: List|Array) =&gt; Number</code> <code>getCommonAncestor(key: String) =&gt; Number</code></p> <p>Get the lowest common ancestor of a descendant node by <code>path</code> or <code>key</code>.</p> <p>\u83b7\u53d6\u6700\u5e95\u5c42\u7684\u7956\u5148\u8282\u70b9\uff08\u6570\u5b57\uff09</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getdepth","title":"<code>getDepth</code>","text":"<p><code>getDepth(path: List|Array) =&gt; Number</code> <code>getDepth(key: String) =&gt; Number</code></p> <p>Get the depth of a descendant node by <code>path</code> or <code>key</code>.</p> <p>\u83b7\u53d6\u540e\u4ee3\u8282\u70b9\u7684\u6df1\u5ea6</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getdescendant","title":"<code>getDescendant</code>","text":"<p><code>getDescendant(path: List|Array) =&gt; Node|Void</code> <code>getDescendant(key: String) =&gt; Node|Void</code></p> <p>Get a descendant node by <code>path</code> or <code>key</code>.</p> <p>\u83b7\u53d6\u540e\u4ee3\u8282\u70b9</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getfirsttext","title":"<code>getFirstText</code>","text":"<p><code>getFirstText() =&gt; Text|Void</code></p> <p>Get the first child text node inside a node.</p> <p>\u83b7\u53d6\u5f53\u524d\u8282\u70b9\u5185\u7684\u7b2c\u4e00\u4e2atext\u8282\u70b9\u7684\u5185\u5bb9</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getfragmentatrange","title":"<code>getFragmentAtRange</code>","text":"<p><code>getFragmentAtRange(range: Range) =&gt; Document</code></p> <p>Get a document fragment of the nodes in a <code>range</code>.</p> <p>\u83b7\u53d6\u5f53\u524drange\u4e2d\u7684\u4e00\u4e2adocument\u7247\u6bb5</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getfurthest","title":"<code>getFurthest</code>","text":"<p><code>getFurthest(path: List|Array, iterator: Function) =&gt; Node|Null</code> <code>getFurthest(key: String, iterator: Function) =&gt; Node|Null</code></p> <p>Get the furthest\uff08\u6700\u8fdc\u7684\uff09 parent of a node by <code>path</code> or <code>key</code> that matches an <code>iterator</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getfurthestancestor","title":"<code>getFurthestAncestor</code>","text":"<p><code>getFurthestAncestor(path: List|Array) =&gt; Node|Null</code> <code>getFurthestAncestor(key: String) =&gt; Node|Null</code></p> <p>Get the furthest ancestor of a node by <code>path</code> or <code>key</code>.</p> <p>\u83b7\u53d6\u6700\u8fdc\u7684\u7956\u5148\u8282\u70b9</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getfurthestblock","title":"<code>getFurthestBlock</code>","text":"<p><code>getFurthestBlock(path: List|Array) =&gt; Node|Null</code> <code>getFurthestBlock(key: String) =&gt; Node|Null</code></p> <p>Get the furthest block parent of a node by <code>path</code> or <code>key</code>.</p> <p>\u83b7\u53d6\u6700\u8fdc\u7684block\u8282\u70b9</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getfurthestinline","title":"<code>getFurthestInline</code>","text":"<p><code>getFurthestInline(path: List|Array) =&gt; Node|Null</code> <code>getFurthestInline(key: String) =&gt; Node|Null</code></p> <p>Get the furthest inline parent of a node by <code>path</code> or <code>key</code>.</p> <p>\u83b7\u53d6\u6700\u8fdc\u7684inline\u8282\u70b9</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getfurthestonlychildancestor","title":"<code>getFurthestOnlyChildAncestor</code>","text":"<p><code>getFurthestOnlyChildAncestor(path: List|Array) =&gt; Node|Null</code> <code>getFurthestOnlyChildAncestor(key: String) =&gt; Node|Null</code></p> <p>Get the furthest ancestor of a node by <code>path</code> or <code>key</code> that has only one child.</p> <p>\u83b7\u53d6\u6700\u8fdc\u7684\u8282\u70b9\uff08\u53ea\u6709\u4e00\u4e2a\u5b50\u8282\u70b9\uff09</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getinlines","title":"<code>getInlines</code>","text":"<p><code>getInlines() =&gt; List</code></p> <p>Get all of the top-most <code>Inline</code> nodes in a node.</p> <p>\u83b7\u53d6\u6240\u6709\u9876\u5c42Inline\u8282\u70b9</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getinlinesatrange","title":"<code>getInlinesAtRange</code>","text":"<p><code>getInlinesAtRange(range: Range) =&gt; List</code></p> <p>Get all of the top-most <code>Inline</code> nodes in a <code>range</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getinlinesbytype","title":"<code>getInlinesByType</code>","text":"<p><code>getInlinesByType(type: string) =&gt; List</code></p> <p>Get all of the top-most <code>Inline</code> nodes by <code>type</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getlasttext","title":"<code>getLastText</code>","text":"<p><code>getLastText() =&gt; Node|Void</code></p> <p>Get the last child text node inside a node.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getmarks","title":"<code>getMarks</code>","text":"<p><code>getMarks(range: Range) =&gt; Set</code></p> <p>Get a set of all of the marks in a node.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getmarksatrange","title":"<code>getMarksAtRange</code>","text":"<p><code>getMarksAtRange(range: Range) =&gt; Set</code></p> <p>Get a set of all of the marks in a <code>range</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getmarksbytype","title":"<code>getMarksByType</code>","text":"<p><code>getMarksByType(type: String) =&gt; Set</code></p> <p>Get a set of all of the marks by <code>type</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getnextblock","title":"<code>getNextBlock</code>","text":"<p><code>getNextBlock(path: List|Array) =&gt; Node|Void</code> <code>getNextBlock(key: String) =&gt; Node|Void</code></p> <p>Get the next, bottom-most <code>Block</code> node after a descendant by <code>path</code> or <code>key</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getnextnode","title":"<code>getNextNode</code>","text":"<p><code>getNextNode(path: List|Array) =&gt; Node|Void</code> <code>getNextNode(key: String) =&gt; Node|Void</code></p> <p>Get the next node in the tree of a descendant by <code>path</code> or <code>key</code>. This will not only check for siblings but instead move up the tree returning the next ancestor if no sibling is found.</p> <p>\u83b7\u53d6\u540e\u4ee3\u8282\u70b9\u6811\u7684\u4e0b\u4e00\u4e2a\u8282\u70b9\uff1b\u5f53\u8fd9\u4e2a\u8282\u70b9\u7684\u5144\u5f1f\u8282\u70b9\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de\u4e0b\u4e00\u4e2aancestor\u8282\u70b9\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getnextsibling","title":"<code>getNextSibling</code>","text":"<p><code>getNextSibling(path: List|Array) =&gt; Node|Void</code> <code>getNextSibling(key: String) =&gt; Node|Void</code></p> <p>Get the next sibling of a descendant by <code>path</code> or <code>key</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getnexttext","title":"<code>getNextText</code>","text":"<p><code>getNextText(path: List|Array) =&gt; Node|Void</code> <code>getNextText(key: String) =&gt; Node|Void</code></p> <p>Get the next <code>Text</code> node after a descendant by <code>path</code> or <code>key</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getnode","title":"<code>getNode</code>","text":"<p><code>getNode(path: List|Array) =&gt; Node|Void</code> <code>getNode(key: String) =&gt; Node|Void</code></p> <p>Get a node in the tree by <code>path</code> or <code>key</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getoffset","title":"<code>getOffset</code>","text":"<p><code>getOffset(path: List|Array) =&gt; Number</code> <code>getOffset(key: String) =&gt; Number</code></p> <p>Get the text offset of a descendant in the tree by <code>path</code> or <code>key</code>.</p> <p>\u83b7\u53d6\u540e\u4ee3\u8282\u70b9\u6811\u7684\u504f\u79fb\u91cf</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getparent","title":"<code>getParent</code>","text":"<p><code>getParent(path: List|Array) =&gt; Node|Void</code> <code>getParent(key: String) =&gt; Node|Void</code></p> <p>Get the parent node of a descendant by <code>path</code> or <code>key</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getpath","title":"<code>getPath</code>","text":"<p><code>getPath(path: List|Array) =&gt; Node|Void</code> <code>getPath(key: String) =&gt; Node|Void</code></p> <p>Get the path to a descendant by <code>path</code> or <code>key</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getpreviousblock","title":"<code>getPreviousBlock</code>","text":"<p><code>getPreviousBlock(path: List|Array) =&gt; Node|Void</code> <code>getPreviousBlock(key: String) =&gt; Node|Void</code></p> <p>Get the previous, bottom-most <code>Block</code> node before a descendant by <code>path</code> or <code>key</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getpreviousnode","title":"<code>getPreviousNode</code>","text":"<p><code>getPreviousNode(path: List|Array) =&gt; Node|Void</code> <code>getPreviousNode(key: String) =&gt; Node|Void</code></p> <p>Get the previous node in the tree of a descendant by <code>path</code> or <code>key</code>. This will not only check for siblings but instead move up the tree returning the previous ancestor if no sibling is found.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getprevioussibling","title":"<code>getPreviousSibling</code>","text":"<p><code>getPreviousSibling(path: List|Array) =&gt; Node|Void</code> <code>getPreviousSibling(key: String) =&gt; Node|Void</code></p> <p>Get the previous sibling of a descendant by <code>path</code> or <code>key</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#getprevioustext","title":"<code>getPreviousText</code>","text":"<p><code>getPreviousText(path: List|Array) =&gt; Node|Void</code> <code>getPreviousText(key: String) =&gt; Node|Void</code></p> <p>Get the previous <code>Text</code> node before a descendant by <code>path</code> or <code>key</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#gettextatoffset","title":"<code>getTextAtOffset</code>","text":"<p><code>getTextAtOffset(offset: Number) =&gt; Text || Void</code></p> <p>Get the <code>Text</code> node at an <code>offset</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#gettextdirection","title":"<code>getTextDirection</code>","text":"<p><code>getTextDirection() =&gt; String</code></p> <p>Get the direction of the text content in the node.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#gettexts","title":"<code>getTexts</code>","text":"<p><code>getTexts(range: Range) =&gt; List</code></p> <p>Get all of the <code>Text</code> nodes in a node.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#gettextsatrange","title":"<code>getTextsAtRange</code>","text":"<p><code>getTextsAtRange(range: Range) =&gt; List</code></p> <p>Get all of the <code>Text</code> nodes in a <code>range</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#haschild","title":"<code>hasChild</code>","text":"<p><code>hasChild(path: List|Array) =&gt; Boolean</code> <code>hasChild(key: String) =&gt; Boolean</code></p> <p>Check whether the node has a child node by <code>path</code> or <code>key</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#hasdescendant","title":"<code>hasDescendant</code>","text":"<p><code>hasDescendant(path: List|Array) =&gt; Boolean</code> <code>hasDescendant(key: String) =&gt; Boolean</code></p> <p>Check whether the node has a descendant node by <code>path</code> or <code>key</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/node/#hasnode","title":"<code>hasNode</code>","text":"<p><code>hasNode(path: List|Array) =&gt; Boolean</code> <code>hasNode(key: String) =&gt; Boolean</code></p> <p>Check whether a node exists in the tree by <code>path</code> or <code>key</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/operation/","title":"Operation","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4310  \u9605\u8bfb9\u5206\u949f</p> <p>An operation is the lowest-level description of a specific change to a part of Slate's value. </p> <p>Operation\u662f\u6700\u5e95\u5c42\u7684\u5bf9\u4e8e\u4e00\u4e2a\u7279\u5b9a\u7684change</p> <p>They are designed to be collaborative-editing friendly.</p> <p>\u5bf9\u4e8e\u534f\u540c\u7f16\u8f91\u662f\u5f88\u53cb\u597d\u7684</p> <p>All of the <code>Change</code> methods result in operations being created and applied to a <code>Value</code> They're accessible via the <code>change.operations</code> property.</p> <p>\u6240\u6709\u7684change\u7684\u65b9\u6cd5\u5728operations\u4e2d\u88ab\u521b\u9020\u548c\u5e94\u7528\u5728\u4e00\u4e2avalue\u4e2d\uff0c\u901a\u8fc7change.operations \u5c5e\u6027\u53ef\u4ee5\u83b7\u53d6\u5230\u3002</p> <p>There are a handful of Slate operation types. The goal is to have the fewest possible types, while still maintaining the necessary semantics for collaborative editing to work.</p> <p>\u6709\u51e0\u79cdslate\u64cd\u4f5c\u7c7b\u578b\u3002\u76ee\u6807\u662f\u62e5\u6709\u5c3d\u53ef\u80fd\u5c11\u7684\u7c7b\u578b\uff0c\u540c\u65f6\u4ecd\u7136\u4fdd\u6301\u534f\u4f5c\u7f16\u8f91\u6240\u9700\u7684\u8bed\u4e49\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/operation/#text-operations","title":"Text Operations \u6587\u672c\u8282\u70b9\u534f\u540c\u7f16\u8f91","text":""},{"location":"third-part-lib/slate/slate-new-API/operation/#insert_text","title":"<code>insert_text</code>","text":"<pre><code>{\n  type: 'insert_text',\n  path: List,\n  offset: Number,\n  text: String,\n  marks: List,\n}\n</code></pre> <p>Inserts a <code>text</code> string at <code>offset</code> into a text node at <code>path</code>, with optional <code>marks</code> to be applied to the inserted characters.</p>"},{"location":"third-part-lib/slate/slate-new-API/operation/#remove_text","title":"<code>remove_text</code>","text":"<pre><code>{\n  type: 'remove_text',\n  path: List,\n  offset: Number,\n  text: String,\n}\n</code></pre> <p>Removes a string of <code>text</code> at <code>offset</code> into a text node at <code>path</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/operation/#mark-operations","title":"Mark Operations","text":""},{"location":"third-part-lib/slate/slate-new-API/operation/#add_mark","title":"<code>add_mark</code>","text":"<pre><code>{\n  type: 'add_mark',\n  path: List,\n  offset: Number,\n  length: Number,\n  mark: Mark,\n}\n</code></pre> <p>Adds a <code>mark</code> to the text node at <code>path</code> starting at an <code>offset</code> and spanning <code>length</code> characters.</p>"},{"location":"third-part-lib/slate/slate-new-API/operation/#remove_mark","title":"<code>remove_mark</code>","text":"<pre><code>{\n  type: 'remove_mark',\n  path: List,\n  offset: Number,\n  length: Number,\n  mark: Mark,\n}\n</code></pre> <p>Removes a <code>mark</code> from a text node at <code>path</code> starting at an <code>offset</code> and spanning <code>length</code> characters.</p>"},{"location":"third-part-lib/slate/slate-new-API/operation/#set_mark","title":"<code>set_mark</code>","text":"<pre><code>{\n  type: 'set_mark',\n  path: List,\n  offset: Number,\n  length: Number,\n  mark: Mark,\n  properties: Object,\n}\n</code></pre> <p>Set new <code>properties</code> on any marks that match an existing <code>mark</code> in a text node at <code>path</code>, starting at an <code>offset</code> and spanning <code>length</code> characters.</p>"},{"location":"third-part-lib/slate/slate-new-API/operation/#node-operations","title":"Node Operations","text":""},{"location":"third-part-lib/slate/slate-new-API/operation/#insert_node","title":"<code>insert_node</code>","text":"<pre><code>{\n  type: 'insert_node',\n  path: List,\n  node: Node,\n}\n</code></pre> <p>Insert a new <code>node</code> at <code>path</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/operation/#merge_node","title":"<code>merge_node</code>","text":"<pre><code>{\n  type: 'merge_node',\n  path: List,\n  position: Number,\n  properties: Object,\n}\n</code></pre> <p>Merge the node at <code>path</code> with its previous sibling. The <code>position</code> refers to either the index in the child nodes of the previous sibling in the case of <code>Block</code> or <code>Inline</code> nodes, and the index in the characters of the previous sibling in the case of <code>Text</code> nodes. The <code>properties</code> object contains properties of the merged node in the event that the change is undone.</p>"},{"location":"third-part-lib/slate/slate-new-API/operation/#move_node","title":"<code>move_node</code>","text":"<pre><code>{\n  type: 'move_node',\n  path: List,\n  newPath: Array,\n}\n</code></pre> <p>Move the node at <code>path</code> to a <code>newPath</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/operation/#remove_node","title":"<code>remove_node</code>","text":"<pre><code>{\n  type: 'remove_node',\n  path: List,\n  node: Node,\n}\n</code></pre> <p>Remove the node at <code>path</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/operation/#set_node","title":"<code>set_node</code>","text":"<pre><code>{\n  type: 'set_node',\n  path: List,\n  properties: Object,\n  node: Node,\n}\n</code></pre> <p>Set new <code>properties</code> on the node at <code>path</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/operation/#split_node","title":"<code>split_node</code>","text":"<pre><code>{\n  type: 'split_node',\n  path: List,\n  position: Number,\n  target: Number,\n  properties: Object,\n}\n</code></pre> <p>Split the node at <code>path</code> at <code>position</code>. The <code>position</code> refers to either the index in the child nodes in the case of <code>Block</code> or <code>Inline</code> nodes, and the index in the characters in the case of <code>Text</code> nodes. In the case of nested splits, <code>target</code> refers to the target path of the child split operation. The <code>properties</code> object contains properties that should be assigned to the new node created after the split operation is complete.</p>"},{"location":"third-part-lib/slate/slate-new-API/operation/#value-operations","title":"Value Operations","text":""},{"location":"third-part-lib/slate/slate-new-API/operation/#set_selection","title":"<code>set_selection</code>","text":"<pre><code>{\n  type: 'set_selection',\n  properties: Object,\n  selection: Selection,\n}\n</code></pre> <p>Set new <code>properties</code> on the selection.</p>"},{"location":"third-part-lib/slate/slate-new-API/operation/#set_value","title":"<code>set_value</code>","text":"<pre><code>{\n  type: 'set_value',\n  properties: Object,\n  value: Value,\n}\n</code></pre> <p>Set new <code>properties</code> on a value. Properties can contain <code>data</code> and <code>decorations</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/operation/#helpers","title":"Helpers","text":""},{"location":"third-part-lib/slate/slate-new-API/operation/#apply","title":"<code>apply</code>","text":"<p><code>apply(value: Value, operation: Object) =&gt; Value</code></p> <p>Applies an <code>operation</code> to a <code>value</code> object.</p>"},{"location":"third-part-lib/slate/slate-new-API/operation/#invert","title":"<code>invert</code>","text":"<p><code>invert(operation: Object) =&gt; Object</code></p> <p>Create an inverse operation that will undo the changes made by the original.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/","title":"<code>Point</code>","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3502  \u9605\u8bfb8\u5206\u949f</p> <pre><code>import { Point } from 'slate'\n</code></pre> <p>A point in a Slate <code>Document</code>. Points in Slate are inspired by the DOM Range API, with terms like \"offset\".</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#properties","title":"Properties","text":"<pre><code>Point({\n  key: String,\n  path: List,\n  offset: Number,\n})\n</code></pre>"},{"location":"third-part-lib/slate/slate-new-API/point/#key","title":"<code>key</code>","text":"<p><code>String</code></p> <p>The key of the text node at the point's point.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#path","title":"<code>path</code>","text":"<p><code>List</code></p> <p>The path to the text node at the point's point.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#object","title":"<code>object</code>","text":"<p><code>String</code></p> <p>A string with a value of <code>'point'</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#offset","title":"<code>offset</code>","text":"<p><code>Number</code></p> <p>The number of characters from the start of the text node at the point's point.</p> <p>\u4ece\u8282\u70b9\u7684\u5f00\u59cb\u4f4d\u7f6e\u7684\u5b57\u7b26\u7684\u6570\u91cf</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#computed-properties","title":"Computed Properties","text":""},{"location":"third-part-lib/slate/slate-new-API/point/#isset","title":"<code>isSet</code>","text":"<p><code>Boolean</code></p> <p>Whether the key, path and offset of a point is not <code>null</code>.</p> <p>\u8282\u70b9\u662f\u5426\u4e3a\u7a7a\uff1f</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#isunset","title":"<code>isUnset</code>","text":"<p><code>Boolean</code></p> <p>Whether any of the key, path or offset of a point is <code>null</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#static-methods","title":"Static Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/point/#pointcreate","title":"<code>Point.create</code>","text":"<p><code>Point.create(properties: Object|Point) =&gt; Point</code></p> <p>Create a new <code>Point</code> with <code>properties</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#pointcreateproperties","title":"<code>Point.createProperties</code>","text":"<p><code>Point.createProperties(object: Object|Point) =&gt; Object</code></p> <p>Create a new dictionary of point properties from an <code>object</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#pointfromjson","title":"<code>Point.fromJSON</code>","text":"<p><code>Point.fromJSON(object: Object) =&gt; Point</code></p> <p>Create a point from a JSON <code>object</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#pointispoint","title":"<code>Point.isPoint</code>","text":"<p><code>Point.isPoint(value: Any) =&gt; Boolean</code></p> <p>Check whether a <code>value</code> is a <code>Point</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#checking-methods","title":"Checking Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/point/#isatendofnode","title":"<code>isAtEndOfNode</code>","text":"<p><code>isAtEndOfNode(node: Node) =&gt; Boolean</code></p> <p>Determine whether the point is at the end of a <code>node</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#isatstartofnode","title":"<code>isAtStartOfNode</code>","text":"<p><code>isAtStartOfNode(node: Node) =&gt; Boolean</code></p> <p>Determine whether the point is at the start of a <code>node</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#isinnode","title":"<code>isInNode</code>","text":"<p><code>isInNode(node: Node) =&gt; Boolean</code></p> <p>Determine whether a point is inside a <code>node</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#mutating-methods","title":"Mutating Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/point/#movebackward","title":"<code>moveBackward</code>","text":"<p><code>moveBackward(n: Number) =&gt; Point</code></p> <p>Return a new point with its offset moved backwards by <code>n</code> characters.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#moveforward","title":"<code>moveForward</code>","text":"<p><code>moveForward(n: Number) =&gt; Point</code></p> <p>Return a new point with its offset moved forwards by <code>n</code> characters.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#moveto","title":"<code>moveTo</code>","text":"<p><code>moveTo(path: List, offset: Number) =&gt; Point</code> <code>moveTo(key: String, offset: Number) =&gt; Point</code> <code>moveTo(offset: Number) =&gt; Point</code></p> <p>Return a new point with its <code>path</code>, <code>key</code> and <code>offset</code> set to new values.</p> <p>\ud83e\udd16 When using <code>point.moveTo</code>, since the point isn't aware of the document, it's possible it will become \"unset\" if the path or key changes and need to be re-normalized relative to the document using <code>point.normalize(document)</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#movetoendofnode","title":"<code>moveToEndOfNode</code>","text":"<p><code>moveToEndOfNode(node: Node) =&gt; Point</code></p> <p>Return a new point at the end of a <code>node</code>.</p> <p>\ud83e\udd16 This method may need to be followed by <code>point.normalize(document)</code>, like <code>moveTo</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#movetostartofnode","title":"<code>moveToStartOfNode</code>","text":"<p><code>moveToStartOfNode(node: Node) =&gt; Point</code></p> <p>Return a new point at the start of a <code>node</code>.</p> <p>\ud83e\udd16 This method may need to be followed by <code>point.normalize(document)</code>, like <code>moveTo</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#normalize","title":"<code>normalize</code>","text":"<p><code>normalize(node: Node) =&gt; Point</code></p> <p>Normalize the point relative to a <code>node</code>, ensuring that its key and path are in sync, that its offset is valid, and that it references a leaf text node.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#setkey","title":"<code>setKey</code>","text":"<p><code>setKey(key: String|Null) =&gt; Point</code></p> <p>Return a new point with a new <code>key</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#setoffset","title":"<code>setOffset</code>","text":"<p><code>setOffset(offset: Number|Null) =&gt; Point</code></p> <p>Return a new point with a new <code>offset</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#setpath","title":"<code>setPath</code>","text":"<p><code>setPath(path: List|Array|Null) =&gt; Point</code></p> <p>Return a new point with a new <code>path</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/point/#unset","title":"<code>unset</code>","text":"<p><code>unset() =&gt; Point</code></p> <p>Return a new point with the key, path, and offset all set to <code>null</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/","title":"<code>Range</code>","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 6613  \u9605\u8bfb14\u5206\u949f</p> <pre><code>import { Range } from 'slate'\n</code></pre> <p>A range of a Slate <code>Document</code>. Ranges in Slate are modeled after a combination of the DOM Selection API and the DOM Range API, using terms like \"anchor\", \"focus\" and \"collapsed\".</p> <p>\u5177\u6709anchor-focus-collapsed\u7b49\u5c5e\u6027</p> <p>The \"anchor\" is the fixed point in a range, and the \"focus\" is the non-fixed point, which may move when you move the cursor (eg. when pressing <code>Shift + Right Arrow</code>).</p> <p>\u5728\u4e00\u4e2arange\u4e2d\uff0canchor\u662f\u56fa\u5b9a\u70b9\uff0cfocus\u662f\u4e0d\u56fa\u5b9a\u7684\u70b9\uff08\u5f53\u5149\u6807\u79fb\u52a8\uff1ashift+\u7bad\u5934\u9009\u4e2d\u6587\u672c\uff09</p> <p>Often times, you don't need to specifically know which point is the \"anchor\" and which is the \"focus\", and you just need to know which comes first and last in the document. For these cases, there are many convenience equivalent properties and methods referring to the \"start\" and \"end\" points.</p> <p>\u901a\u5e38\u4e0d\u9700\u8981\u77e5\u9053\u54ea\u4e2a\u70b9\u662fanchor\u6216\u8005focus\uff0c\u4f60\u53ea\u9700\u8981\u77e5\u9053\u5728\u6587\u6863\u4e2d\u7684\u6b21\u5e8f\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6709\u5f88\u591a\u7684API\u662f\u57fa\u4e8estart\u548cend\u70b9\u7684\u3002\u8bbe\u7f6e\u5f00\u59cb\u8282\u70b9\u548c\u7ed3\u675f\u8282\u70b9\u7684\u4f4d\u7f6e\u548c\u5c5e\u6027\u3002</p> <p>The <code>Range</code> model is also used as an interface and implemented by the <code>Decoration</code> and <code>Selection</code> models.</p> <p>\u5728decoration\u548cselection\u4e2d\uff0crange\u6a21\u578b\u4e5f\u7528\u6765\u4f5c\u4e3a\u754c\u9762\u548c\u63a5\u53e3\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#properties","title":"Properties","text":"<pre><code>Range({\n  anchor: Point,\n  focus: Point,\n})\n</code></pre>"},{"location":"third-part-lib/slate/slate-new-API/range/#anchor","title":"<code>anchor</code>","text":"<p><code>Point</code></p> <p>The range's anchor point.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#focus","title":"<code>focus</code>","text":"<p><code>Point</code></p> <p>The range's focus point.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#object","title":"<code>object</code>","text":"<p><code>String</code></p> <p>A string with a value of <code>'range'</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#computed-properties","title":"Computed Properties","text":"<p>These properties aren't supplied when creating a range, but are instead computed based on the real properties.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#end","title":"<code>end</code>","text":"<p>Either the <code>anchor</code> or the <code>focus</code> point, depending on which comes last in the document order.</p> <p>\u5728\u6587\u6863\u4e2d\uff0c\u4e0d\u7ba1\u662fanchor\u8fd8\u662ffocus\uff0cend\u6307\u7684\u662f\u6587\u6863\u4e2d\u540e\u9762\u4ea7\u751f\u7684\u90a3\u4e2a\u8282\u70b9\uff1b</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#isbackward","title":"<code>isBackward</code>","text":"<p><code>Boolean</code></p> <p>Whether the range is backward. A range is considered \"backward\" when its focus point references a location earlier in the document than its anchor point.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#iscollapsed","title":"<code>isCollapsed</code>","text":"<p><code>Boolean</code></p> <p>Whether the range is collapsed. A range is considered \"collapsed\" when the anchor point and focus point of the range are the same.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#isexpanded","title":"<code>isExpanded</code>","text":"<p><code>Boolean</code></p> <p>The opposite of <code>isCollapsed</code>, for convenience.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#isforward","title":"<code>isForward</code>","text":"<p><code>Boolean</code></p> <p>The opposite of <code>isBackward</code>, for convenience.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#isset","title":"<code>isSet</code>","text":"<p><code>Boolean</code></p> <p>Whether both the <code>anchor</code> and <code>focus</code> points are set.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#isunset","title":"<code>isUnset</code>","text":"<p><code>Boolean</code></p> <p>Whether either the <code>anchor</code> and <code>focus</code> points are unset.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#start","title":"<code>start</code>","text":"<p>Either the <code>anchor</code> or the <code>focus</code> point, depending on which comes first in the document order.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#static-methods","title":"Static Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/range/#rangecreate","title":"<code>Range.create</code>","text":"<p><code>Range.create(properties: Object) =&gt; Range</code></p> <p>Create a new <code>Range</code> instance with <code>properties</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#rangecreateproperties","title":"<code>Range.createProperties</code>","text":"<p><code>Range.createProperties(object: Object|Range) =&gt; Object</code></p> <p>Create a new dictionary of range properties from an <code>object</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#rangefromjson","title":"<code>Range.fromJSON</code>","text":"<p><code>Range.fromJSON(object: Object) =&gt; Range</code></p> <p>Create a range from a JSON <code>object</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#rangeisrange","title":"<code>Range.isRange</code>","text":"<p><code>Range.isRange(value: Any) =&gt; Boolean</code></p> <p>Check whether a <code>value</code> is a <code>Range</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#instance-methods","title":"Instance Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/range/#tojson","title":"<code>toJSON</code>","text":"<p><code>toJSON() =&gt; Object</code></p> <p>Return a JSON representation of the range.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#mutating-methods","title":"Mutating Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/range/#movepointbackward","title":"<code>move{Point}Backward</code>","text":"<p><code>move{Point}Backward(n: Number) =&gt; Range</code></p> <p>Move the <code>{Point}</code> of the range backwards by <code>n</code> characters. The <code>{Point}</code> can be one of: <code>Anchor</code>, <code>Focus</code>, <code>Start</code>, <code>End</code>, or ommited to move both the <code>anchor</code> and <code>focus</code> point at once.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#movepointforward","title":"<code>move{Point}Forward</code>","text":"<p><code>move{Point}Forward(n: Number) =&gt; Range</code></p> <p>Move the <code>{Point}</code> of the range forwards by <code>n</code> characters. The <code>{Point}</code> can be one of: <code>Anchor</code>, <code>Focus</code>, <code>Start</code>, <code>End</code>, or ommited to move both the <code>anchor</code> and <code>focus</code> point at once.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#movepointto","title":"<code>move{Point}To</code>","text":"<p><code>move{Point}To(path: List, offset: Number) =&gt; Range</code> <code>move{Point}To(key: String, offset: Number) =&gt; Range</code> <code>move{Point}To(offset: Number) =&gt; Range</code></p> <p>Move the <code>{Point}</code> of the range to a new <code>key</code>, <code>path</code> and <code>offset</code>. The <code>{Point}</code> can be one of: <code>Anchor</code>, <code>Focus</code>, <code>Start</code>, <code>End</code>, or ommited to move both the <code>anchor</code> and <code>focus</code> point at once.</p> <p>\ud83e\udd16 When using <code>range.move{Point}To</code>, since the range isn't aware of the document, it's possible it will become \"unset\" if the path or key changes and need to be re-normalized relative to the document using <code>range.normalize(document)</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#movepointtoendofnode","title":"<code>move{Point}ToEndOfNode</code>","text":"<p><code>move{Point}ToEndOfNode(node: Node) =&gt; Range</code></p> <p>Move the <code>{Point}</code> to the end of a <code>node</code>. The <code>{Point}</code> can be one of: <code>Anchor</code>, <code>Focus</code>, <code>Start</code>, <code>End</code>, or ommited to move both the <code>anchor</code> and <code>focus</code> point at once.</p> <p>\ud83e\udd16 This method may need to be followed by <code>point.normalize(document)</code>, like <code>move{Point}To</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#movepointtostartofnode","title":"<code>move{Point}ToStartOfNode</code>","text":"<p><code>move{Point}ToStartOfNode(node: Node) =&gt; Range</code></p> <p>Move the <code>{Point}</code> to the start of a <code>node</code>. The <code>{Point}</code> can be one of: <code>Anchor</code>, <code>Focus</code>, <code>Start</code>, <code>End</code>, or ommited to move both the <code>anchor</code> and <code>focus</code> point at once.</p> <p>\ud83e\udd16 This method may need to be followed by <code>point.normalize(document)</code>, like <code>move{Point}To</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#movetopoint","title":"<code>moveTo{Point}</code>","text":"<p><code>moveTo{Point}() =&gt; Range</code></p> <p>Move both points of the range to <code>{Point}</code>, collapsing it. The <code>{Point}</code> can be one of: <code>Anchor</code>, <code>Focus</code>, <code>Start</code> or <code>End</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#movetorangeofnode","title":"<code>moveToRangeOfNode</code>","text":"<p><code>moveToRangeOfNode(node: Node) =&gt; Range</code></p> <p>Move the range to be spanning the entirity of a <code>node</code>, by placing its <code>anchor</code> point at the start of the node and its <code>focus</code> point at the end of the node.</p> <p>\ud83e\udd16 This method may need to be followed by <code>point.normalize(document)</code>, like <code>move{Point}To</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#normalize","title":"<code>normalize</code>","text":"<p><code>normalize(node: Node) =&gt; Range</code></p> <p>Normalize the range relative to a <code>node</code>, ensuring that its anchor and focus points exist in the <code>node</code>, that their keys and paths are in sync, that their offsets are valid, and that they references leaf text nodes.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#setanchor","title":"<code>setAnchor</code>","text":"<p><code>setAnchor(anchor: Point) =&gt; Range</code></p> <p>Return a new range with a new <code>anchor</code> point.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#setend","title":"<code>setEnd</code>","text":"<p><code>setEnd(end: Point) =&gt; Range</code></p> <p>Return a new range with a new <code>end</code> point.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#setfocus","title":"<code>setFocus</code>","text":"<p><code>setFocus(focus: Point) =&gt; Range</code></p> <p>Return a new range with a new <code>focus</code> point.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#setproperties","title":"<code>setProperties</code>","text":"<p><code>setProperties(properties: Object|Range) =&gt; Range</code></p> <p>Return a new range with new <code>properties</code> set.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#setstart","title":"<code>setStart</code>","text":"<p><code>setStart(start: Point) =&gt; Range</code></p> <p>Return a new range with a new <code>start</code> point.</p>"},{"location":"third-part-lib/slate/slate-new-API/range/#unset","title":"<code>unset</code>","text":"<p><code>unset() =&gt; Range</code></p> <p>Return a new range with both of its point unset.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/","title":"<code>Schema</code>","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 9295  \u9605\u8bfb19\u5206\u949f</p> <p>Every Slate editor has a \"schema\" associated with it, which contains information about the structure of its content. For the most basic cases, you'll just rely on Slate's default core schema. But for advanced use cases, you can enforce rules about what the content of a Slate document can contain.</p> <p>\u6bcf\u4e00\u4e2a\u7f16\u8f91\u5668\u90fd\u6709\u4e00\u4e2a\u4e0e\u4e4b\u5bf9\u5e94\u7684scheme\uff08\u6982\u8981\u3001\u56fe\u89e3\uff09\u3002\u901a\u5e38\u60c5\u51b5\u4f60\u53ea\u9700\u8981\u4f9d\u8d56\u9ed8\u8ba4\u7684\u6838\u5fc3\u56fe\u89e3\uff0c\u9ad8\u7ea7\u4f7f\u7528\u4e2d\uff0c\u4f60\u53ef\u4ee5\u8bbe\u7f6e\u89c4\u5219\uff08\u4e00\u4e2aslate\u6587\u4ef6\u4e2d\u53ef\u4ee5\u5305\u62ec\u5176\u4ed6\u6982\u5ff5\uff09</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#properties","title":"Properties","text":"<pre><code>{\n  document: Object,\n  blocks: Object,\n  inlines: Object,\n}\n</code></pre> <p>The top-level properties of a schema give you a way to define validation \"rules\" that the schema enforces.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#document","title":"<code>document</code>","text":"<p><code>Object</code></p> <pre><code>{\n  document: {\n    nodes: [\n      {\n        match: { type: 'paragraph' },\n      },\n    ]\n  }\n}\n</code></pre> <p>A set of validation rules that apply to the top-level document.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#blocks","title":"<code>blocks</code>","text":"<p><code>Object</code></p> <pre><code>{\n  blocks: {\n    list: {\n      nodes: [{\n        match: { type: 'item' }\n      }]\n    },\n    item: {\n      parent: { type: 'list' }\n    },\n  }\n}\n</code></pre> <p>A dictionary of blocks by type, each with its own set of validation rules.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#inlines","title":"<code>inlines</code>","text":"<p><code>Object</code></p> <pre><code>{\n  inlines: {\n    emoji: {\n      isVoid: true,\n      nodes: [{\n        match: { object: 'text' }\n      }]\n    },\n  }\n}\n</code></pre> <p>A dictionary of inlines by type, each with its own set of validation rules.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#rule-properties","title":"Rule Properties","text":"<pre><code>{\n  data: Object,\n  first: Object|Array,\n  isVoid: Boolean,\n  last: Object|Array,\n  marks: Array,\n  match: Object|Array,\n  nodes: Array,\n  normalize: Function,\n  parent: Object|Array,\n  text: RegExp,\n}\n</code></pre> <p>Slate schemas are built using a set of validation rules. Each of the properties will validate certain pieces of the document based on the properties it defines.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#data","title":"<code>data</code>","text":"<p><code>Object</code></p> <pre><code>{\n  data: {\n    level: 2,\n    href: v =&gt; isUrl(v),\n  }\n}\n</code></pre> <p>A dictionary of data attributes and their corresponding values or validation functions. The functions should return a boolean indicating whether the data value is valid or not.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#first","title":"<code>first</code>","text":"<p><code>Object|Array</code></p> <pre><code>{\n  first: { type: 'quote' },\n}\n</code></pre> <pre><code>{\n  first: [{ type: 'quote' }, { type: 'paragraph' }],\n}\n</code></pre> <p>Will validate the first child node against a <code>match</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#isvoid","title":"<code>isVoid</code>","text":"<p><code>Boolean</code></p> <pre><code>{\n  isVoid: true,\n}\n</code></pre> <p>Will determine whether the node is treated as a \"void\" node or not, making its content a black box that Slate doesn't control editing for.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#last","title":"<code>last</code>","text":"<p><code>Object|Array</code></p> <pre><code>{\n  last: { type: 'quote' },\n}\n</code></pre> <pre><code>{\n  last: [{ type: 'quote' }, { type: 'paragraph' }],\n}\n</code></pre> <p>Will validate the last child node against a <code>match</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#next","title":"<code>next</code>","text":"<p><code>Object|Array</code></p> <pre><code>{\n  next: { type: 'quote' },\n}\n</code></pre> <pre><code>{\n  next: [{ type: 'quote' }, { type: 'paragraph' }],\n}\n</code></pre> <p>Will validate the next sibling node against a <code>match</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#nodes","title":"<code>nodes</code>","text":"<p><code>Array</code></p> <pre><code>{\n  nodes: [\n    {\n      match: [{ type: 'image' }, { type: 'video' }],\n      min: 1,\n      max: 3,\n    },\n    {\n      match: { type: 'paragraph' },\n      min: 0,\n    },\n  ],\n}\n</code></pre> <p>Will validate a node's children. The <code>nodes</code> definitions can declare a <code>match</code> as well as <code>min</code> and <code>max</code> properties.</p> <p>\ud83e\udd16 The <code>nodes</code> array is order-sensitive! The example above will require that the first node be either an <code>image</code> or <code>video</code>, and that it be followed by one or more <code>paragraph</code> nodes.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#marks","title":"<code>marks</code>","text":"<p><code>Array</code></p> <pre><code>{\n  marks: [{ type: 'bold' }, { type: 'italic' }]\n}\n</code></pre> <p>Will validate a node's marks. The <code>marks</code> definitions can declare the <code>type</code> property, providing a list of mark types to be allowed. If declared, any marks that are not in the list will be removed.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#normalize","title":"<code>normalize</code>","text":"<p><code>normalize(change: Change, error: SlateError) =&gt; Void</code></p> <pre><code>{\n  normalize: (change, error) =&gt; {\n    switch (error.code) {\n      case 'child_object_invalid':\n        change.wrapBlockByKey(error.child.key, 'paragraph')\n        return\n      case 'child_type_invalid':\n        change.setNodeByKey(error.child.key, 'paragraph')\n        return\n    }\n  }\n}\n</code></pre> <p>A function that can be provided to override the default behavior in the case of a rule being invalid. By default, Slate will do what it can, but since it doesn't know much about your schema, it will often remove invalid nodes. If you want to override this behavior and \"fix\" the node instead of removing it, pass a custom <code>normalize</code> function.</p> <p>For more information on the arguments passed to <code>normalize</code>, see the Errors section.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#parent","title":"<code>parent</code>","text":"<p><code>Object|Array</code></p> <pre><code>{\n  parent: { type: 'list' },\n}\n</code></pre> <pre><code>{\n  parent: [{ type: 'ordered_list' }, { type: 'unordered_list' }],\n}\n</code></pre> <p>Will validate a node's parent against a <code>match</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#previous","title":"<code>previous</code>","text":"<p><code>Object|Array</code></p> <pre><code>{\n  previous: { type: 'quote' },\n}\n</code></pre> <pre><code>{\n  previous: [{ type: 'quote' }, { type: 'paragraph' }],\n}\n</code></pre> <p>Will validate the previous sibling node against a <code>match</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#text","title":"<code>text</code>","text":"<p><code>RegExp|Function</code></p> <pre><code>{\n  text: /^\\w+$/\n}\n</code></pre> <pre><code>{\n  text: string =&gt; string === 'valid'\n}\n</code></pre> <p>Will validate a node's text with a regex or function.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#static-methods","title":"Static Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/schema/#schemacreate","title":"<code>Schema.create</code>","text":"<p><code>Schema.create(properties: Object) =&gt; Schema</code></p> <p>Create a new <code>Schema</code> instance with <code>properties</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#schemafromjson","title":"<code>Schema.fromJSON</code>","text":"<p><code>Schema.fromJSON(object: Object) =&gt; Schema</code></p> <p>Create a schema from a JSON <code>object</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#schemaisschema","title":"<code>Schema.isSchema</code>","text":"<p><code>Schema.isSchema(maybeSchema: Any) =&gt; Boolean</code></p> <p>Returns a boolean if the passed in argument is a <code>Schema</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#instance-methods","title":"Instance Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/schema/#tojson","title":"<code>toJSON</code>","text":"<p><code>toJSON() =&gt; Object</code></p> <p>Returns a JSON representation of the schema.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#errors","title":"Errors","text":"<p>When supplying your own <code>normalize</code> property for a schema rule, it will be called with <code>(change, error)</code>. The error <code>code</code> will be one of a set of potential code strings, and it will contain additional helpful properties depending on the type of error.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#child_object_invalid","title":"<code>'child_object_invalid'</code>","text":"<pre><code>{\n  child: Node,\n  index: Number,\n  node: Node,\n  rule: Object,\n}\n</code></pre> <p>Raised when the <code>object</code> property of a child node is invalid.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#child_required","title":"<code>'child_required'</code>","text":"<pre><code>{\n  index: Number,\n  node: Node,\n  rule: Object,\n}\n</code></pre> <p>Raised when a child node was required but none was found.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#child_type_invalid","title":"<code>'child_type_invalid'</code>","text":"<pre><code>{\n  child: Node,\n  index: Number,\n  node: Node,\n  rule: Object,\n}\n</code></pre> <p>Raised when the <code>type</code> property of a child node is invalid.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#child_unknown","title":"<code>'child_unknown'</code>","text":"<pre><code>{\n  child: Node,\n  index: Number,\n  node: Node,\n  rule: Object,\n}\n</code></pre> <p>Raised when a child was not expected but one was found.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#first_child_object_invalid","title":"<code>'first_child_object_invalid'</code>","text":"<pre><code>{\n  child: Node,\n  node: Node,\n  rule: Object,\n}\n</code></pre> <p>Raised when the <code>object</code> property of the first child node is invalid, when a specific <code>first</code> rule was defined in a schema.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#first_child_type_invalid","title":"<code>'first_child_type_invalid'</code>","text":"<pre><code>{\n  child: Node,\n  node: Node,\n  rule: Object,\n}\n</code></pre> <p>Raised when the <code>type</code> property of the first child node is invalid, when a specific <code>first</code> rule was defined in a schema.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#last_child_object_invalid","title":"<code>'last_child_object_invalid'</code>","text":"<pre><code>{\n  child: Node,\n  node: Node,\n  rule: Object,\n}\n</code></pre> <p>Raised when the <code>object</code> property of the last child node is invalid, when a specific <code>last</code> rule was defined in a schema.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#last_child_type_invalid","title":"<code>'last_child_type_invalid'</code>","text":"<pre><code>{\n  child: Node,\n  node: Node,\n  rule: Object,\n}\n</code></pre> <p>Raised when the <code>type</code> property of the last child node is invalid, when a specific <code>last</code> rule was defined in a schema.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#next_sibling_object_invalid","title":"<code>'next_sibling_object_invalid'</code>","text":"<pre><code>{\n  next: Node,\n  node: Node,\n  rule: Object,\n}\n</code></pre> <p>Raised when the <code>object</code> property of the next sibling node is invalid, when a specific <code>next</code> rule was defined in a schema.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#next_sibling_type_invalid","title":"<code>'next_sibling_type_invalid'</code>","text":"<pre><code>{\n  next: Node,\n  node: Node,\n  rule: Object,\n}\n</code></pre> <p>Raised when the <code>type</code> property of the next sibling node is invalid, when a specific <code>next</code> rule was defined in a schema.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#node_data_invalid","title":"<code>'node_data_invalid'</code>","text":"<pre><code>{\n  key: String,\n  node: Node,\n  rule: Object,\n  value: Mixed,\n}\n</code></pre> <p>Raised when the <code>data</code> property of a node contains an invalid entry.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#node_is_void_invalid","title":"<code>'node_is_void_invalid'</code>","text":"<pre><code>{\n  node: Node,\n  rule: Object,\n}\n</code></pre> <p>Raised when the <code>isVoid</code> property of a node is invalid.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#node_mark_invalid","title":"<code>'node_mark_invalid'</code>","text":"<pre><code>{\n  mark: Mark,\n  node: Node,\n  rule: Object,\n}\n</code></pre> <p>Raised when one of the marks in a node is invalid.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#node_text_invalid","title":"<code>'node_text_invalid'</code>","text":"<pre><code>{\n  text: String,\n  node: Node,\n  rule: Object,\n}\n</code></pre> <p>Raised when the text content of a node is invalid.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#parent_object_invalid","title":"<code>'parent_object_invalid'</code>","text":"<pre><code>{\n  node: Node,\n  parent: Node,\n  rule: Object,\n}\n</code></pre> <p>Raised when the <code>object</code> property of the parent of a node is invalid, when a specific <code>parent</code> rule was defined in a schema.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#parent_type_invalid","title":"<code>'parent_type_invalid'</code>","text":"<pre><code>{\n  node: Node,\n  parent: Node,\n  rule: Object,\n}\n</code></pre> <p>Raised when the <code>type</code> property of the parent of a node is invalid, when a specific <code>parent</code> rule was defined in a schema.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#previous_sibling_object_invalid","title":"<code>'previous_sibling_object_invalid'</code>","text":"<pre><code>{\n  previous: Node,\n  node: Node,\n  rule: Object,\n}\n</code></pre> <p>Raised when the <code>object</code> property of the previous sibling node is invalid, when a specific <code>previous</code> rule was defined in a schema.</p>"},{"location":"third-part-lib/slate/slate-new-API/schema/#previous_sibling_type_invalid","title":"<code>'previous_sibling_type_invalid'</code>","text":"<pre><code>{\n  previous: Node,\n  node: Node,\n  rule: Object,\n}\n</code></pre> <p>Raised when the <code>type</code> property of the previous sibling node is invalid, when a specific <code>previous</code> rule was defined in a schema.</p>"},{"location":"third-part-lib/slate/slate-new-API/selection/","title":"<code>Selection</code>","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1744  \u9605\u8bfb4\u5206\u949f</p> <pre><code>import { Selection } from 'slate'\n</code></pre> <p>The user's current selection in a Slate <code>Document</code>. Selections implement(\u5b9e\u73b0) the <code>Range</code> interface(\u754c\u9762), but also expose data about the current \"focus\" and the cursor current marks.</p> <p>Selection: \u7528\u6237\u5f53\u524d\u9009\u4e2d\u7684\u90e8\u5206\u3002\u9009\u4e2d\u7684\u90e8\u5206\u5b9e\u73b0\u4e86Range\u754c\u9762\uff0c\u4f46\u662f\u53ef\u4ee5\u66b4\u9732\u5f53\u524d\u9009\u4e2d\u90e8\u5206\u548c\u9f20\u6807\u6240\u5728\u7684Mark\u6570\u636e\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/selection/#properties","title":"Properties","text":"<pre><code>Selection({\n  anchor: Point,\n  focus: Point,\n  isFocused: Boolean,\n  marks: Set,\n})\n</code></pre>"},{"location":"third-part-lib/slate/slate-new-API/selection/#isfocused","title":"<code>isFocused</code>","text":"<p><code>Boolean</code></p> <p>Whether the range currently has focus.</p>"},{"location":"third-part-lib/slate/slate-new-API/selection/#marks","title":"<code>marks</code>","text":"<p><code>Set</code></p> <p>A set of marks associated with the range.</p>"},{"location":"third-part-lib/slate/slate-new-API/selection/#object","title":"<code>object</code>","text":"<p><code>String</code></p> <p>A string with a value of <code>'selection'</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/selection/#computed-properties","title":"Computed Properties","text":""},{"location":"third-part-lib/slate/slate-new-API/selection/#isblurred","title":"<code>isBlurred</code>","text":"<p><code>Boolean</code></p> <p>The opposite of <code>isFocused</code>, for convenience.</p>"},{"location":"third-part-lib/slate/slate-new-API/selection/#static-methods","title":"Static Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/selection/#selectioncreate","title":"<code>Selection.create</code>","text":"<p><code>Selection.create(properties: Object) =&gt; Selection</code></p> <p>Create a new <code>Selection</code> instance with <code>properties</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/selection/#selectioncreateproperties","title":"<code>Selection.createProperties</code>","text":"<p><code>Selection.createProperties(object: Object|Selection) =&gt; Object</code></p> <p>Create a new dictionary of range properties from an <code>object</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/selection/#selectionfromjson","title":"<code>Selection.fromJSON</code>","text":"<p><code>Selection.fromJSON(object: Object) =&gt; Selection</code></p> <p>Create a range from a JSON <code>object</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/selection/#selectionisselection","title":"<code>Selection.isSelection</code>","text":"<p><code>Selection.isSelection(value: Any) =&gt; Boolean</code></p> <p>Check whether a <code>value</code> is a <code>Selection</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/selection/#instance-methods","title":"Instance Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/selection/#tojson","title":"<code>toJSON</code>","text":"<p><code>toJSON() =&gt; Object</code></p> <p>Return a JSON representation of the range.</p>"},{"location":"third-part-lib/slate/slate-new-API/selection/#mutating-methods","title":"Mutating Methods(\u53d8\u5f02\u7684\u65b9\u6cd5)","text":""},{"location":"third-part-lib/slate/slate-new-API/selection/#setisfocused","title":"<code>setIsFocused</code>","text":"<p><code>setIsFocused(isFocused: Boolean) =&gt; Selection</code></p> <p>Return a new range with a new <code>isFocused</code> value.</p>"},{"location":"third-part-lib/slate/slate-new-API/selection/#setmarks","title":"<code>setMarks</code>","text":"<p><code>setMarks(marks: Set|Null) =&gt; Selection</code></p> <p>Return a new range with a new set of <code>marks</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/text/","title":"<code>Text</code>","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1056  \u9605\u8bfb3\u5206\u949f</p> <pre><code>import { Text } from 'slate'\n</code></pre> <p>A text node in a Slate <code>Document</code>. Text nodes are always the bottom-most leaves in the document, just like in the DOM.</p> <p>\u6587\u672c\u8282\u70b9\u662f\u6700\u5e95\u5c42\u8282\u70b9</p>"},{"location":"third-part-lib/slate/slate-new-API/text/#properties","title":"Properties","text":"<pre><code>Text({\n  key: String,\n})\n</code></pre>"},{"location":"third-part-lib/slate/slate-new-API/text/#key","title":"<code>key</code>","text":"<p><code>String</code></p> <p>A unique identifier for the node.</p>"},{"location":"third-part-lib/slate/slate-new-API/text/#object","title":"<code>object</code>","text":"<p><code>String</code></p> <p>An immutable string value of <code>'text'</code> for easily separating this node from <code>Inline</code> or <code>Block</code> nodes.</p>"},{"location":"third-part-lib/slate/slate-new-API/text/#computed-properties","title":"Computed Properties","text":""},{"location":"third-part-lib/slate/slate-new-API/text/#text_1","title":"<code>text</code>","text":"<p><code>String</code></p> <p>A concatenated string of all of the characters in the text node.</p>"},{"location":"third-part-lib/slate/slate-new-API/text/#static-methods","title":"Static Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/text/#textcreate","title":"<code>Text.create</code>","text":"<p><code>Text.create(properties: Object) =&gt; Text</code></p> <p>Create a text from a plain Javascript object of <code>properties</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/text/#textfromjson","title":"<code>Text.fromJSON</code>","text":"<p><code>Text.fromJSON(object: Object) =&gt; Text</code></p> <p>Create a text from a JSON <code>object</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/text/#textistext","title":"<code>Text.isText</code>","text":"<p><code>Text.isText(maybeText: Any) =&gt; Boolean</code></p> <p>Returns a boolean if the passed in argument is a <code>Text</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/text/#instance-methods","title":"Instance Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/text/#tojson","title":"<code>toJSON</code>","text":"<p><code>toJSON() =&gt; Object</code></p> <p>Returns a JSON representation of the text.</p>"},{"location":"third-part-lib/slate/slate-new-API/utils/","title":"Utils","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 1109  \u9605\u8bfb3\u5206\u949f</p> <pre><code>import { KeyUtils } from 'slate'\n</code></pre> <p>Utility functions that ship with Slate that may be useful for certain use cases.</p> <p>\u4e0eslate\u9644\u52a0\u7684\u4e00\u4e2a\u5b9e\u7528\u7684\u51fd\u6570\uff0c\u5bf9\u4e8e\u4f7f\u7528\u5b9e\u4f8b\u662f\u5f88\u6709\u7528\u7684\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/utils/#key-utils","title":"Key Utils","text":""},{"location":"third-part-lib/slate/slate-new-API/utils/#keyutilscreate","title":"<code>KeyUtils.create</code>","text":"<p><code>create() =&gt; String</code></p> <p>Create a new key using the current key generator.</p> <p>\u4f7f\u7528key\u751f\u6210\u5668\u521b\u5efa\u4e00\u4e2a\u65b0\u7684key</p>"},{"location":"third-part-lib/slate/slate-new-API/utils/#keyutilsresetgenerator","title":"<code>KeyUtils.resetGenerator</code>","text":"<p><code>resetGenerator() =&gt; Void</code></p> <p>Resets Slate's internal key generating function to its default state. This is useful for server-side rendering, or anywhere you want to ensure fresh, deterministic creation of keys.</p> <p>\u5c06slate\u5185\u90e8\u7684key-generator\u51fd\u6570\u91cd\u7f6e\u5230\u9ed8\u8ba4\u72b6\u6001\u3002\u5bf9\u4e8e\u670d\u52a1\u5668\u7aef\u7684\u6e32\u67d3\u662f\u6709\u7528\u7684\uff0c\u6216\u8005\u4f60\u786e\u5b9a\u9700\u8981\u5237\u65b0\u7684\u4efb\u4f55\u5730\u65b9\uff0c\u53ef\u4ee5\u52a8\u6001\u521b\u5efakey\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/utils/#keyutilssetgenerator","title":"<code>KeyUtils.setGenerator</code>","text":"<p><code>setGenerator(generator: Function) =&gt; Void</code></p> <p>Allows you to specify your own key generating function, instead of using Slate's built-in default generator which simply uses auto-incrementing number strings. (eg. <code>'0'</code>, <code>'1'</code>, <code>'2'</code>, ...)</p> <p>This will act globally on all uses of the Slate dependency.</p>"},{"location":"third-part-lib/slate/slate-new-API/value/","title":"<code>Value</code>","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 3958  \u9605\u8bfb8\u5206\u949f</p> <pre><code>import { Value } from 'slate'\n</code></pre> <p>A <code>Value</code> is the top-level representation of data in Slate, containing both a <code>Document</code> and a <code>Selection</code>. It's what you need to pass into the Slate <code>&lt;Editor&gt;</code> to render something onto the page.</p> <p>value\u662fslate\u4e2d\u7684\u6570\u636e\u7684\u6700\u9ad8\u7684\u4ee3\u8868\uff08\u5305\u542b\u4e86Document\u8282\u70b9\u548cSelection\u90e8\u5206\uff09\u8fd9\u662f\u4f60\u60f3\u8981\u901a\u8fc7\u6e32\u67d3\u5230\u9875\u9762\u4e2d\u7684\u8282\u70b9\u7684\u5185\u5bb9\uff0c\u4f20\u9012\u5230slate-editor\u5185\u90e8\u7684\u6570\u636e\u3002</p> <p>All changes to the document and selection are also performed through the value object, so that they can stay in sync, and be propagated to its internal history of undo/redo value.</p> <p>\u6240\u6709\u4fd7\u8beddocument\u548cselection\u7684\u6539\u53d8\u4e5f\u90fd\u4f1a\u663e\u793a\u5728value\u5bf9\u8c61\u4e0a\u9762\uff0c\u6240\u4ee5\u53ef\u4ee5\u4fdd\u6301\u540c\u6b65\uff0c\u53ef\u4ee5\u83b7\u5f97\u5386\u53f2\u64cd\u4f5c\u60c5\u51b5\u5728undo-redo\u7684value\u4e2d\u3002</p> <p>For convenience\uff08\u4e3a\u4e86\u65b9\u4fbf\uff09, in addition to changes, many of the selection and document properties are exposed as proxies on the <code>Value</code> object.</p> <p>\u9664\u4e86change\u5bf9\u8c61\u5177\u6709value\u5c5e\u6027\u5916\uff0c\u8bb8\u591a\u9009\u4e2d\u90e8\u5206\u548cdocument\u7684\u5c5e\u6027\u90fd\u66b4\u9732\u4e86\u4e00\u4e2aValue\u7684\u5bf9\u8c61\u7684\u63a5\u53e3\u3002\uff08\u5176\u4ed6\u5bf9\u8c61\u53ef\u4ee5\u8c03\u7528value\u5c5e\u6027\uff09value\u5f88\u91cd\u8981\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#properties","title":"Properties","text":"<pre><code>Value({\n  document: Document,\n  selection: Selection,\n  history: History,\n  schema: Schema,\n  data: Data,\n  decorations: List&lt;Decoration&gt;,\n})\n</code></pre>"},{"location":"third-part-lib/slate/slate-new-API/value/#data","title":"<code>data</code>","text":"<p><code>Data</code></p> <p>An object containing arbitrary data for the value.</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#decorations","title":"<code>decorations</code>","text":"<p><code>List&lt;Decoration&gt;</code></p> <p>A list of ranges in the document with marks that aren't part of the content itself\u2014like matches for the current search string.</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#document","title":"<code>document</code>","text":"<p><code>Document</code></p> <p>The current document of the value.</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#history","title":"<code>history</code>","text":"<p><code>History</code></p> <p>An object that stores the history of changes.</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#object","title":"<code>object</code>","text":"<p><code>String</code></p> <p>A string with a value of <code>'value'</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#schema","title":"<code>schema</code>","text":"<p><code>Schema</code></p> <p>An object representing the schema of the value's document.</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#selection","title":"<code>selection</code>","text":"<p><code>Selection</code></p> <p>The current selection of the value.</p> <p>\u901a\u8fc7value\u53ef\u4ee5\u83b7\u5f97\u5927\u90e8\u5206\u9700\u8981\u83b7\u5f97\u7684\u5185\u5bb9\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#computed-properties","title":"Computed Properties","text":"<p>These properties aren't supplied when creating a <code>Value</code>, but are instead computed based on the current <code>document</code> and <code>selection</code>.</p> <p>\u5982\u679c\u521b\u5efa\u4e00\u4e2avalue\u4e0d\u4f1a\u5177\u6709\u4e0b\u9762\u7684\u5c5e\u6027\uff0c\u5b9e\u9645\u4e0a\u7684document\u548cselection\u5177\u6709\u8ba1\u7b97\u5c5e\u6027\u3002</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#edgetext","title":"<code>{edge}Text</code>","text":"<p><code>Text</code></p> <p>Get the leaf <code>Text</code> node at <code>{edge}</code>. Where <code>{edge}</code> is one of: <code>anchor</code>, <code>focus</code>, <code>start</code> or <code>end</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#edgeblock","title":"<code>{edge}Block</code>","text":"<p><code>Block</code></p> <p>Get the leaf <code>Block</code> node at <code>{edge}</code>. Where <code>{edge}</code> is one of: <code>anchor</code>, <code>focus</code>, <code>start</code> or <code>end</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#marks","title":"<code>marks</code>","text":"<p><code>Set</code></p> <p>Get a set of the <code>Marks</code> in the current selection.</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#activemarks","title":"<code>activeMarks</code>","text":"<p><code>Set</code></p> <p>Get a subset of the <code>Marks</code> that are present in all the characters in the current selection. It can be used to determine the active/inactive state of toolbar buttons corresponding to marks, based on the usual rich text editing conventions.</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#blocks","title":"<code>blocks</code>","text":"<p><code>List</code></p> <p>Get a list of the lowest-depth <code>Block</code> nodes in the current selection.</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#fragment","title":"<code>fragment</code>","text":"<p><code>Document</code></p> <p>Get a <code>Document</code> fragment of the current selection.</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#inlines","title":"<code>inlines</code>","text":"<p><code>List</code></p> <p>Get a list of the lowest-depth <code>Inline</code> nodes in the current selection.</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#texts","title":"<code>texts</code>","text":"<p><code>List</code></p> <p>Get a list of the <code>Text</code> nodes in the current selection.</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#static-methods","title":"Static Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/value/#valuecreate","title":"<code>Value.create</code>","text":"<p><code>Value.create(properties: Object) =&gt; Value</code></p> <p>Create a new <code>Value</code> instance with <code>properties</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#valuefromjson","title":"<code>Value.fromJSON</code>","text":"<p><code>Value.fromJSON(object: Object) =&gt; Value</code></p> <p>Create a value from a JSON <code>object</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#valueisvalue","title":"<code>Value.isValue</code>","text":"<p><code>Value.isValue(any: Any) =&gt; Boolean</code></p> <p>Returns a boolean if the passed in argument is a <code>Value</code>.</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#instance-methods","title":"Instance Methods","text":""},{"location":"third-part-lib/slate/slate-new-API/value/#change","title":"<code>change</code>","text":"<p><code>change() =&gt; Change</code></p> <p>Create a new <code>Change</code> that acts on the current value.</p> <p>\u5728\u5f53\u524d\u7684value\u4e0a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684change</p>"},{"location":"third-part-lib/slate/slate-new-API/value/#tojson","title":"<code>toJSON</code>","text":"<p><code>toJSON() =&gt; Object</code></p> <p>Returns a JSON representation of the value.</p>"},{"location":"third-part-lib/slate/slate-old-API/readme/","title":"readme","text":""},{"location":"third-part-lib/slate/slate-old-API/readme/#slate","title":"Slate","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 7516  \u9605\u8bfb16\u5206\u949f</p> <p>\u5bcc\u6587\u672c\u7f16\u8f91\u6846\u67b6\u2014\u2014\u628aword\u529f\u80fd\u653e\u5728web\u7aef\uff08\u7528\u6237\u53ef\u4ee5\u8fdb\u884c\u6587\u672c\u7f16\u8f91\u6539\u52a8\uff0c\u6837\u5f0f\u53d8\u5316\uff0c\u57fa\u4e8eReact\u6846\u67b6\u8fdb\u884crender)\u3002</p> <p>\u8bf4\u660e\u6587\u6863\uff1ahttps://doodlewind.github.io/slate-doc-cn/</p> <p>\u7279\u70b9\uff1aslate\u4f7f\u7528\u63d2\u4ef6\u5b9e\u73b0\u7f16\u8f91\u5668\u7684\u6838\u5fc3\u903b\u8f91\u3002</p> <p>\u76ee\u524d\u65f6\u95f4\u7d27\uff0c\u9996\u5148\u5b66\u4e60slate\u6838\u5fc3\u5185\u5bb9\uff0c\u5176\u4ed6\u5de5\u4f5c\u6682\u65f6\u653e\u4e00\u4e0b\uff0c\u5fc5\u987b\u8bbe\u7f6eddl\u3002</p> <p>Slate \u5e76\u975e\u4e00\u4e2a\u7f16\u8f91\u5668\u5e94\u7528\uff0c\u800c\u662f\u4e00\u5957\u5728 React \u548c Immutable \u7684\u575a\u5b9e\u57fa\u7840\u4e0a\uff0c\u7528\u4e8e\u64cd\u4f5c\u5bcc\u6587\u672c\u6570\u636e\u7684\u5f3a\u5927\u6846\u67b6\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/readme/#immutable","title":"Immutable\uff0c\u8fc4\u4eca\u6700\u7406\u60f3\u7684\u6570\u636e\u7ed3\u6784","text":"<p>\u6211\u4eec\u77e5\u9053\uff0cJS \u5bf9\u8c61\u7684\u5c5e\u6027\u662f\u53ef\u4ee5\u968f\u610f\u8d4b\u503c\u7684\uff0c\u4e5f\u5c31\u662f mutable \u53ef\u53d8\u7684\u3002\u800c\u76f8\u5bf9\u5730\uff0c\u4e0d\u53ef\u53d8\u7684\u6570\u636e\u7c7b\u578b\u4e0d\u5141\u8bb8\u968f\u610f\u8d4b\u503c\uff0c\u6bcf\u6b21\u901a\u8fc7 Immutable API \u7684\u4fee\u6539\uff0c\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u5f15\u7528\u3002</p> <p>\u770b\u8d77\u6765\u8fd9\u5e76\u4e0d\u7b97\u4ec0\u4e48\uff0c\u548c\u6bcf\u6b21\u4fee\u6539\u90fd\u5168\u91cf\u590d\u5236\u4e00\u4efd\u6570\u636e\u6bd4\u8d77\u6765\u5e76\u6ca1\u6709\u4ec0\u4e48\u533a\u522b\u3002\u4f46 Immutable \u7684\u5f3a\u5927\u4e4b\u5904\uff0c\u5728\u4e8e \u4e0d\u540c\u5f15\u7528\u4e4b\u95f4\uff0c\u76f8\u540c\u7684\u90e8\u5206\u662f\u5b8c\u5168\u5171\u4eab\u7684 \u3002\u8fd9\u4e5f\u5c31\u610f\u5473\u7740\uff0c\u5bf9\u4e00\u68f5\u57fa\u4e8e Immutable \u7684\u590d\u6742\u6587\u6863\u6811\uff0c \u5373\u4fbf\u53ea\u6539\u53d8\u4e86\u67d0\u4e00\u7247\u53f6\u5b50\u8282\u70b9\uff0c\u4e5f\u4f1a\u751f\u6210\u4e00\u68f5\u65b0\u6811\uff0c\u4f46\u8fd9\u68f5\u65b0\u6811\u9664\u4e86\u90a3\u4e00\u7247\u53f6\u5b50\u8282\u70b9\u5916\uff0c\u6240\u6709\u5185\u5bb9\u90fd\u662f\u548c\u539f\u6709\u7684\u6811\u5171\u4eab\u7684 \u3002</p> <p>\u8fd9\u548c\u5bcc\u6587\u672c\u7f16\u8f91\u6709\u4ec0\u4e48\u5173\u7cfb\u5462\uff1f\u6211\u4eec\u77e5\u9053\uff0c\u7f16\u8f91\u5668\u7684\u3010\u64a4\u9500\u3011\u5176\u5b9e\u662f\u4e00\u4e2a\u96be\u5ea6\u975e\u5e38\u5927\u7684\u529f\u80fd\uff0c\u8bb8\u591a\u5b9a\u5236\u4e86\u64a4\u9500\u529f\u80fd\u7684\u7f16\u8f91\u5668\uff0c\u5f88\u5bb9\u6613\u51fa\u73b0\u64a4\u9500\u524d\u540e\u7684\u72b6\u6001\u4e0d\u4e00\u81f4\u7684\u60c5\u51b5\u3002\u4f46\u6709\u4e86 Immutable \u540e\uff0c\u6bcf\u6b21\u7f16\u8f91\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u5168\u65b0\u7684\u7f16\u8f91\u5668\u72b6\u6001\uff0c\u53ea\u9700 \u7b80\u5355\u5730\u5728\u4e0d\u540c\u72b6\u6001\u4e4b\u95f4\u5207\u6362\uff0c\u5c31\u80fd\u8f7b\u677e\u5730\u5b9e\u73b0\u64a4\u9500\u548c\u91cd\u505a\u64cd\u4f5c \u3002\u5e76\u4e14\uff0cImmutable \u4e5f\u5b8c\u5168\u652f\u6301\u590d\u6742\u7684\u5d4c\u5957\u6765\u8868\u8fbe\u6587\u6863\u7684\u6811\u5f62\u7ed3\u6784\u3002\u53ef\u4ee5\u8bf4\uff0cImmutable \u5929\u751f\u9002\u5408\u7528\u4e8e\u5b9e\u73b0\u5bcc\u6587\u672c\u7f16\u8f91\u7684\u6a21\u578b\u5c42\u3002\u5728 Slate \u548c Draft.js \u4e2d\uff0c\u5bcc\u6587\u672c\u6570\u636e\u5c31\u662f\u5bf9 Immutable \u7684\u4e00\u5c42\u5c01\u88c5\uff0c\u4ece\u800c\u81ea\u5e26\u4e86\u5bf9\u64a4\u9500\u64cd\u4f5c\u7684\u652f\u6301\uff0c\u4e0d\u9700\u989d\u5916\u7f16\u7801\u5b9e\u73b0\u3002\u5728\u8fd9\u65b9\u9762\uff0cSlate \u76f8\u6bd4 Draft.js \u7684\u4e00\u4e2a\u91cd\u8981\u52a0\u5206\u9879\u662f\u5b83 \u652f\u6301\u5d4c\u5957\u7684\u6570\u636e\u7ed3\u6784 \uff0c\u5bf9\u8868\u683c\u7b49\u590d\u6742\u5185\u5bb9\u7684\u7f16\u8f91\u63d0\u4f9b\u4e86\u826f\u597d\u7684\u652f\u6301\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/readme/#react","title":"React\uff0c\u8fc4\u4eca\u6700\u5408\u9002\u7684\u89c6\u56fe\u5c42","text":"<p>\u8bf4\u5230 Immutable \u5c31\u4e0d\u80fd\u4e0d\u63d0 React\uff0c\u76ee\u524d Immutable.js \u8fd9\u4e2a\u4e0d\u53ef\u53d8\u6570\u636e\u7684 JS \u5e93\u5c31\u662f Facebook \u81ea\u5df1\u5b9e\u73b0\u7684\uff0c\u5e76\u4e14\u4e00\u5f00\u59cb\u5f15\u5165 Immutable \u7684\u76ee\u7684\u4e5f\u4e0d\u662f\u4e3a\u4e86\u64a4\u9500\uff0c\u800c\u662f\u4e3a\u4e86\u4f18\u5316 React \u5e94\u7528\u7684\u6027\u80fd\u3002\u53ef\u4ee5\u8bf4\uff0cImmutable \u548c React \u6709\u7740\u5929\u751f\u7684\u9ed8\u5951\u3002</p> <p>\u90a3\u4e48\uff0c\u4e3a\u4ec0\u4e48\u6211\u4eec\u9700\u8981 React \u5462\uff1f\u76ee\u524d\uff0c\u9664\u4e86 Slate \u548c Draft.js \u5916\u51e0\u4e4e\u6240\u6709\u7684\u7f16\u8f91\u5668\u65b9\u6848\uff0c\u5728\u9700\u8981\u5b9a\u5236\u7f16\u8f91\u8282\u70b9\uff08\u5982\u516c\u5f0f\u3001\u56fe\u8868\u7b49\uff09\u65f6\uff0c\u8981\u4e48\u9700\u8981\u63a5\u89e6\u548c DOM \u7d27\u5bc6\u8026\u5408\u7684\u7f16\u8f91\u5668\u63d2\u4ef6\u6982\u5ff5\uff0c\u8981\u4e48\u53ea\u80fd\u4f7f\u7528\u7f16\u8f91\u5668\u5185\u7f6e\u7684\u529f\u80fd\u3002\u8fd9\u79cd\u505a\u6cd5\u5728\u5b66\u4e60\u6210\u672c\u548c\u6548\u7387\u4e0a\u90fd\u4e0d\u662f\u6700\u4f18\u7684\u3002</p> <p>\u8bbe\u60f3\u4e00\u4e0b\uff0c\u5982\u679c \u7f16\u8f91\u5668\u4e2d\u7684\u7f16\u8f91\u5185\u5bb9\uff0c\u5168\u90e8\u90fd\u80fd\u4ee5 React \u7ec4\u4ef6\u7684\u5f62\u5f0f\uff08\u5982\u6807\u9898\u7528 Heading \u7ec4\u4ef6\uff0c\u6bb5\u843d\u7528 Paragraph \u7ec4\u4ef6\u7b49\uff09\u6765\u5b9e\u73b0 \uff0c\u90a3\u4e48\u5bcc\u6587\u672c\u7f16\u8f91\u7684\u95e8\u69db\u8fd8\u4f1a\u8fd9\u4e48\u9ad8\u5417\uff1f\u4ece Immutable \u6570\u636e\u6620\u5c04\u5230\u4e00\u4e2a\u4e2a React \u7ec4\u4ef6\uff0c\u662f\u5df2\u7ecf\u5728\u8bb8\u591a Web \u5e94\u7528\u4e2d\u7ecf\u5386\u8fc7\u8003\u9a8c\u7684\u6210\u719f\u6a21\u5f0f\u3002\u800c\u5728\u8fd9\u79cd\u67b6\u6784\u4e0b\uff0cContentEditable \u90a3\u4e9b\u4ee4\u4eba\u671b\u800c\u751f\u754f\u7684\u95ee\u9898\u4e5f\u80fd\u5f97\u5230\u5f88\u597d\u7684\u89e3\u51b3\uff1a\u53ea\u9700\u8981\u4e3a React \u7ec4\u4ef6\u589e\u52a0 <code>contentEditable</code> \u5c5e\u6027\uff0c\u800c\u540e\u5bf9\u5404\u79cd\u6309\u952e\u3001\u70b9\u51fb\u7b49\u4e8b\u4ef6 <code>preventDefault</code> \uff0c\u7531\u6846\u67b6\u51b3\u5b9a\u4e8b\u4ef6\u5bf9 Immutable \u7684\u53d8\u6362\uff0c\u6700\u540e\u751f\u6210\u65b0\u72b6\u6001\u6309\u9700\u89e6\u53d1\u91cd\u7ed8\u5373\u53ef\uff01</p> <p>\u8fd9\u79cd\u65b9\u6848\u4e0b\uff0c\u5b9e\u73b0\u4e00\u4e2a\u7f16\u8f91\u5668\u4e0d\u518d\u9700\u8981\u7cbe\u901a DOM \u7684\u4e13\u5bb6\uff0c\u96be\u5ea6\u5927\u5927\u964d\u4f4e\u4e86\u3002\u5373\u4fbf\u50cf\u672c\u6587\u4f5c\u8005\u8fd9\u6837\u4ec5\u4ec5\u719f\u6089 React\uff0c\u5bf9\u524d\u7aef\u53ea\u6709\u4e00\u5e74\u591a\u7ecf\u9a8c\u7684\u666e\u901a\u5f00\u53d1\u8005\uff0c\u4e5f\u6709\u80fd\u529b\u5f00\u53d1\u81ea\u5df1\u7684\u7f16\u8f91\u5668\u4e86\u3002\u5728\u6b64\u7a0d\u5fae\u5939\u5e26\u4e00\u4e9b\u79c1\u8d27\uff1a</p> <p>\u5728\u5bcc\u6587\u672c\u7f16\u8f91\u9886\u57df\uff0cReact + Immutable \u8fd9\u79cd\u5728\u5168\u5c40\u7c92\u5ea6\u5168\u91cf\u5730\u66f4\u6539\u72b6\u6001\uff0c\u800c\u540e\u6309\u9700\u66f4\u65b0\u7ec4\u4ef6\u7684\u65b9\u6848\uff0c\u6bd4\u8d77 Vue \u8fd9\u6837\u57fa\u4e8e\u4f9d\u8d56\u8ffd\u8e2a\u7ec6\u7c92\u5ea6\u5730\u66f4\u65b0\u7ec4\u4ef6\u7684\u65b9\u6848\uff0c\u662f\u66f4\u6709\u4f18\u52bf\u7684\u3002Vue \u76f4\u63a5 mutate \u6570\u636e\u7684\u65b9\u5f0f\u5728\u539f\u7406\u4e0a\u5e76\u4e0d\u5229\u4e8e\u5b9e\u73b0\u64a4\u9500\u4e0e\u56de\u9000\uff0c\u5e76\u4e14\u51fd\u6570\u5f0f\u7ec4\u4ef6 VNode \u7684 API \u4e5f\u6ca1\u6709 React \u8fd9\u4e48\u76f4\u89c2\u6613\u7528\uff08Vue 2.5 \u6709\u6539\u5584\uff0c\u4f46\u5dee\u8ddd\u4ecd\u7136\u5b58\u5728\uff09\u3002\u76ee\u524d\uff0cVue \u793e\u533a\u8fd8\u6ca1\u6709\u7c7b\u4f3c\u7684\u6846\u67b6\u51fa\u73b0\uff0c \u8fd9\u4e2a\u573a\u666f\u4e5f\u662f React \u6280\u672f\u6808\u76f8\u6bd4 Vue \u7684\u4e00\u4e2a\u95ea\u4eae\u4e4b\u5904\u3002</p> <p>\u4e0d\u8fc7\uff0cDraft.js \u548c Slate \u90fd\u5b9e\u73b0\u4e86\u5bf9 React \u7684\u652f\u6301\u3002\u867d\u7136 Slate \u5b9a\u5236\u8282\u70b9\u7684 API \u66f4\u65b9\u4fbf\u4e00\u4e9b\uff0c\u4f46\u8fd9\u4e5f\u4e0d\u662f\u51b3\u5b9a\u6027\u7684\u4f18\u52bf\u3002\u90a3\u4e48 Slate \u7684\u7279\u6b8a\u4e4b\u5904\u53c8\u54ea\u5462\uff1f</p>"},{"location":"third-part-lib/slate/slate-old-API/readme/#slate-controller","title":"Slate\uff0c\u8fc4\u4eca\u6700\u4f18\u79c0\u7684 Controller","text":"<p>\u4ece\u524d\u9762\u7684\u4ecb\u7ecd\u4e2d\uff0c\u6211\u4eec\u770b\u5230\u76f8\u5f53\u591a\u521b\u65b0\u4e4b\u5904\u90fd\u662f\u6765\u81ea Draft.js \u7684\u3002\u90a3\u4e48\uff0cSlate \u53c8\u6709\u4ec0\u4e48\u72ec\u7279\u4e4b\u5904\u5462\uff1f</p> <p>Draft.js \u6709 Immutable \u4f5c\u4e3a Model\uff0c\u6709 React \u4f5c\u4e3a View\uff0c\u4f46\u5728\u4f7f\u7528\u5b83\u5b9e\u73b0\u7f16\u8f91\u5668\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f60\u53ef\u80fd\u4f1a\u611f\u89c9\u8fd9\u6bd4\u8d77\u4e00\u822c\u7684\u5e94\u7528\u5f00\u53d1\u6765\uff0c\u8d1f\u62c5\u8fd8\u662f\u6709\u4e9b\u6c89\u91cd\uff0c\u6216\u8005\u8bf4\u5c11\u4e86\u4e00\u70b9\u4ec0\u4e48\u4e1c\u897f\u3002\u55ef\uff0c\u8fd9\u4e2a\u4e1c\u897f\u4e5f\u8bb8\u5c31\u662f\u4f60\u719f\u6089\u7684 Controller\u3002</p> <p>\u5373\u4fbf\u5728\u524d\u7aef\u8f6e\u5b50\u6ee1\u5929\u98de\u7684\u4eca\u5929\uff0cUI \u5e94\u7528\u7684\u67b6\u6784 MVC \u4e5f\u4e0d\u4f1a\u8fc7\u65f6\uff0c\u800c\u662f\u6f14\u5316\u4e3a\u4e86 MVVM \u751a\u81f3 M-V-Whatever \u7684\u67b6\u6784\u3002\u7f16\u8f91\u5668\u5e94\u7528\u540c\u6837\u662f\u4e2a UI \u5e94\u7528\uff0c \u6211\u4eec\u540c\u6837\u9700\u8981\u4e00\u79cd\u673a\u5236\uff0c\u5c06 Model \u548c View \u8fde\u63a5\u8d77\u6765 \u3002</p> <p>\u8fd9\u53ef\u80fd\u4e0d\u662f Draft.js \u7684\u95ea\u5149\u4e4b\u5904\uff0c\u5b83\u7684\u6587\u6863\u53d8\u6362 API \u4f7f\u7528\u8d77\u6765\u6bd4\u8f83\u6c89\u91cd\uff0c\u5e76\u4e14\u5bf9 EditorState \u7684\u4fee\u6539\u5b58\u5728\u7740\u8f83\u591a\u9650\u5236\u3002\u800c Slate \u5219\u63d0\u4f9b\u4e86\u66f4\u52a0\u7075\u6d3b\u7684\u6982\u5ff5\uff0c\u6765\u8fde\u63a5 Model \u4e0e View\u3002\u6211\u4eec\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b Slate \u4e2d\u7f16\u8f91\u64cd\u4f5c\u53d1\u751f\u65f6\u7684\u5904\u7406\u6d41\u7a0b\uff1a</p> <ol> <li>\u7528\u6237\u5728\u7f16\u8f91\u5668\u5149\u6807\u6240\u5728\u7684 Node \u5185\u6309\u952e\uff0c\u89e6\u53d1\u4e8b\u4ef6\u3002</li> <li>\u6839\u636e\u6309\u952e\u7684\u952e\u503c\uff0c\u5206\u53d1\u4e0d\u540c\u7684 Change\uff0c\u5982\u6362\u884c\u3001\u52a0\u7c97\u7b49\u3002</li> <li>Change \u4fee\u6539 State\uff0c\u751f\u6210\u65b0 State\u3002</li> <li>\u65b0 State \u7ecf\u8fc7 Schema \u6821\u9a8c\u540e\uff0c\u6e32\u67d3\u5230\u7f16\u8f91\u5668\u5185\uff0c\u6309\u9700\u66f4\u65b0\u76f8\u5e94\u7684 Node\u3002</li> </ol> <p>\u6574\u4e2a\u6d41\u7a0b\u4e2d\u6700\u6838\u5fc3\u7684\u673a\u5236\u53ef\u6982\u62ec\u4e3a\u4e00\u4e2a\u516c\u5f0f\uff1a <code>state.change().change()</code> \uff0cChange \u662f\u4e00\u4e2a\u975e\u5e38\u4f18\u96c5\u7684 API\uff0c\u6240\u6709\u7684\u53d8\u6362\u90fd\u662f\u90fd\u901a\u8fc7 Change \u5bf9\u8c61\u5b9e\u73b0\u7684\u3002\u6bd4\u5982\uff0c\u7528\u6237\u5148\u63d2\u5165\u4e86\u6587\u672c\uff0c\u53c8\u5220\u9664\u4e86\u53e6\u4e00\u4e2a\u6bb5\u843d\uff0c\u8fd9\u65f6\u5bf9\u6587\u6863\u7684\u53d8\u66f4\u5c31\u53ef\u4ee5\u62bd\u8c61\u4e3a\uff1a</p> <pre><code>state.change().insertText().deleteBlock()\n</code></pre> <p>\u6bcf\u4e2a\u64cd\u4f5c\u90fd\u662f\u94fe\u5f0f\u8c03\u7528\uff01\u5728\u534f\u540c\u7f16\u8f91\u7684\u573a\u666f\u4e0b\uff0c\u6765\u81ea\u4e0d\u540c\u7528\u6237\u7684\u64cd\u4f5c\u5176\u5b9e\u4e5f\u53ef\u4ee5\u5f52\u7ed3\u4e3a\u8fd9\u6837\u5bf9 State \u7684\u94fe\u5f0f\u8c03\u7528\uff0c\u8fd9\u4e5f\u8ba9\u57fa\u4e8e Slate \u5b9e\u73b0\u534f\u540c\u7f16\u8f91\u6210\u4e3a\u4e86\u53ef\u80fd\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u6bcf\u4e00\u4e2a Change \u94fe\u5f0f\u8c03\u7528\u4e2d\u7684 API \u90fd\u53ef\u5b9e\u73b0\u4e3a\u7eaf\u51fd\u6570\uff0c\u800c\u540e\u901a\u8fc7 Slate \u7684 <code>call</code> API \u6765\u94fe\u5f0f\u6267\u884c\uff0c\u8fd9\u4e5f\u8ba9\u7f16\u5199\u81ea\u5df1\u7684 Change \u5e76\u6dfb\u52a0\u5355\u5143\u6d4b\u8bd5\u6210\u4e3a\u4e86\u53ef\u80fd\u3002</p> <p>\u8fd9\u79cd\u4f18\u96c5\u5730\u5904\u7406\u7f16\u8f91\u64cd\u4f5c\u7684\u65b9\u5f0f\uff0c\u4f7f\u5f97 Slate \u80fd\u591f\u66f4\u7b80\u5355\u5730\u5c06 Model \u4e0e View \u8fde\u63a5\u8d77\u6765\uff0c\u5b9e\u73b0\u5bf9\u5bcc\u6587\u672c\u6570\u636e\u7684\u590d\u6742\u64cd\u4f5c\u3002\u53e6\u5916\uff0cSlate \u652f\u6301\u81ea\u5b9a\u4e49\u5bf9\u72b6\u6001\u7684 Schema \u6821\u9a8c\u89c4\u5219\uff0c\u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e9b\u5f62\u5982\u3010\u7b2c\u4e00\u4e2a\u8282\u70b9\u5fc5\u987b\u662f Heading \u8282\u70b9\u3011\u6216\u8005\u3010\u56fe\u7247\u8282\u70b9\u5fc5\u987b\u5305\u542b src \u5c5e\u6027\u3011\u7684\u6821\u9a8c\u89c4\u5219\uff0c\u5e76\u5bf9\u5f02\u5e38\u6570\u636e\u8fdb\u884c\u8fc7\u6ee4\u3002</p> <p>\u5f53\u7136\uff0cSlate \u4e2d\u5e76\u6ca1\u6709 Controller \u7684\u6982\u5ff5\uff0c\u4e0d\u8fc7\u5b9e\u9645\u4e0a\uff0c\u57fa\u4e8e Slate \u7f16\u5199\u7684\u5bcc\u6587\u672c\u7f16\u8f91 Change \u64cd\u4f5c\uff0c\u548c\u7f16\u5199\u4f20\u7edf MVC \u5e94\u7528\u4e2d Controller \u903b\u8f91\u7684\u4f53\u9a8c\u6709\u4e9b\u63a5\u8fd1\u3002\u6362\u53e5\u8bdd\u8bf4\uff0cSlate \u628a\u7f16\u5199\u590d\u6742\u64cd\u4f5c\u903b\u8f91\u7684\u96be\u5ea6\uff0c\u964d\u4f4e\u5230\u4e86\u7f16\u5199 Change \u51fd\u6570\u7684\u6c34\u5e73\u3002\u5728\u8fd9\u4e00\u70b9\u4e0a\uff0cSlate \u7684\u67b6\u6784\u662f\u5341\u5206\u6613\u7528\u7684\u3002</p> <p>Slate \u7684\u8bb8\u591a\u6838\u5fc3\u7279\u6027\u662f\u4ece\u5176\u4ed6\u4f18\u79c0\u7f16\u8f91\u5668\u9879\u76ee\u4e2d\u501f\u9274\u7684\uff0c\u5982\u5176 Immutable \u6570\u636e\u5c42\u4e0e\u6846\u67b6\u7406\u5ff5\u6765\u81ea Draft.js\u3001Schema \u4e0e Change \u6982\u5ff5\u6765\u81ea ProseMirror \u7b49\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/","title":"slate core","text":""},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#slate-core","title":"slate core","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 38927  \u9605\u8bfb78\u5206\u949f</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#1document","title":"1.Document","text":"<pre><code>import { Document } from 'slate'\n</code></pre> <p>Slate \u4e2d\u6587\u6863\u6a21\u578b\u7684\u9876\u5c42\u8282\u70b9\u3002</p> <p>Document \u662f\u7531 **block \u8282\u70b9\u3001inline \u8282\u70b9\u548c text \u8282\u70b9**\u7ec4\u6210\u7684\u2014\u2014\u548c DOM \u4e00\u81f4\u3002\u6ce8\u610f document \u8282\u70b9\u7684\u76f4\u63a5\u5b50\u8282\u70b9\u5fc5\u987b\u662f block \u8282\u70b9\u3002</p> <p>\u5728\u4e00\u4e9b\u5730\u65b9\uff0c\u4f60\u4f1a\u770b\u5230 \"fragment\" \u7684\u6982\u5ff5\uff0c\u8fd9\u5b9e\u9645\u4e0a\u662f\u672a\u6302\u8f7d\u5230\u4e3b <code>State</code> \u7684 <code>Docuement</code> \u5bf9\u8c61\u3002\u4f8b\u5982\uff0c\u5728\u526a\u8d34\u9009\u62e9\u7684\u5185\u5bb9\u65f6\uff0c\u6211\u4eec\u8ba4\u4e3a\u5185\u5bb9\u662f\u4e00\u4e2a\u6587\u6863 \"fragment\"\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#properties","title":"Properties","text":"<pre><code>Document({\n  nodes: Immutable.List&lt;Node&gt;,\n})\n// immutable \u4e0d\u53ef\u6539\u53d8\u7684\n</code></pre>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#data","title":"<code>data</code>","text":"<p><code>Immutable.Map</code></p> <p>\u4efb\u610f\u4e0e document \u5173\u8054\u7684 data \u5bf9\u8c61\u3002\u9ed8\u8ba4\u4e3a\u7a7a <code>Map</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#nodes","title":"<code>nodes</code>","text":"<p><code>Immutable.List</code></p> <p>\u5b50\u8282\u70b9\u5217\u8868\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#computed-properties","title":"Computed Properties","text":""},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#kind","title":"<code>kind</code>","text":"<p><code>String</code></p> <p>\u4e0d\u53ef\u53d8\u7684 String\uff0c\u503c\u4e3a <code>document</code> \u4ee5\u4fbf\u4e8e\u5c06\u8fd9\u7c7b\u8282\u70b9\u4e0e <code>Block</code>\u3001<code>Inline</code> \u548c <code>Text</code> \u8282\u70b9\u533a\u5206\u5f00\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#text","title":"<code>text</code>","text":"<p><code>String</code></p> <p>\u8be5\u8282\u70b9\u7684\u5168\u90e8\u5b50 <code>Text</code> \u8282\u70b9\u8fde\u63a5\u6210\u7684\u5b57\u7b26\u4e32\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#static-methods","title":"Static Methods","text":""},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#documentcreate","title":"<code>Document.create</code>","text":"<p><code>Document.create(properties: Object) =&gt; Document</code></p> <p>\u7531\u539f\u751f JS <code>properties</code> \u5bf9\u8c61\u521b\u5efa\u4e00\u4e2a document\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#documentfromjson","title":"<code>Document.fromJSON</code>","text":"<p><code>Document.fromJSON(object: Object) =&gt; Document</code></p> <p>\u7531 JSON <code>object</code> \u521b\u5efa\u4e00\u4e2a document\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#documentisdocument","title":"<code>Document.isDocument</code>","text":"<p><code>Document.isDocument(maybeDocument: Any) =&gt; Boolean</code></p> <p>\u8fd4\u56de\u4f20\u5165\u7684\u53c2\u6570\u662f\u5426\u4e3a <code>Document</code> \u7684 boolean \u503c\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#node-methods","title":"Node Methods","text":"<p>Document \u5b9e\u73b0\u4e86 <code>Node</code> \u63a5\u53e3\u3002\u5bf9\u6240\u6709 node \u65b9\u6cd5\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u53c2\u89c1 <code>Node</code> \u6587\u6863\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#instance-methods","title":"Instance Methods","text":""},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#tojson","title":"<code>toJSON</code>","text":"<p><code>toJSON() =&gt; Object</code></p> <p>\u8fd4\u56de document \u7684 JSON \u8868\u793a\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#2change","title":"2.Change","text":"<pre><code>import { Change } from 'slate'\n</code></pre> <p>change\u5728slate\u4e2d\u4e0d\u662f\u52a8\u8bcd\uff0c\u662f\u4e00\u4e2a\u5bf9\u8c61\uff01\uff01\uff01\u521b\u5efachange\u5bf9\u8c61\uff0c\u901a\u8fc7onChange(change)\u6267\u884c\u5bf9\u8c61\u5e76\u8fdb\u884c\u9875\u9762\u7684\u6e32\u67d3\u3002change.value\u9700\u8981\u6df1\u5165\u7814\u7a76\uff08\u4e00\u90e8\u5206\u5c5e\u6027\u548c\u65b9\u6cd5\u5728\u6d4f\u89c8\u5668\u4e2d\u6ca1\u6709\u663e\u793a\uff09\u3002</p> <p>change\u7684\u4f5c\u7528\u7c7b\u4f3c\u4e8ereact\u4e2dsetstate\uff0c\u901a\u8fc7\u8bbe\u7f6echange\u5bf9\u8c61\u5e76\u6267\u884c\uff0c\u53ef\u4ee5\u5728editor\u754c\u9762\u4e2d\u8fdb\u884c\u6587\u672c\u8c03\u6574\u3002\u5f53\u524d\u5bf9\u4e8e\u9009\u4e2d\u7684\u90e8\u5206\u589e\u52a0\u94fe\u63a5\uff0c\u5c31\u662f\u6839\u636eselection\u90e8\u5206\uff0cchange\u5bf9\u5e94\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u589e\u52a0\u94fe\u63a5\u3002</p> <p>\u901a\u8fc7 Change\uff0c\u4f60\u53ef\u4ee5\u5b9a\u4e49\u4e00\u7cfb\u5217\u5bf9\u5f53\u524d <code>State</code> \u4e2d <code>Document</code> \u6216 <code>Selection</code> \u7684\u53d8\u6362\u3002</p> <p>\u6240\u6709\u7684\u53d8\u6362\u90fd\u662f\u90fd\u901a\u8fc7 <code>Change</code> \u5bf9\u8c61\u5b9e\u73b0\u7684\uff0c\u56e0\u800c\u53d8\u6362\u7684\u5386\u53f2\u80fd\u591f\u5728\u64a4\u9500\u3001\u91cd\u505a\u64cd\u4f5c\u4e2d\u4fdd\u5b58\uff0c\u5e76\u4f7f\u534f\u540c\u7f16\u8f91\u6210\u4e3a\u53ef\u80fd\u3002</p> <p>\u53d8\u6362\u53ef\u4ee5\u64cd\u4f5c <code>Document</code> \u3001<code>Selection</code>\uff0c\u6216\u540c\u65f6\u64cd\u4f5c\u4e8c\u8005\u3002</p> <ul> <li>Properties</li> <li><code>state</code></li> <li>Methods</li> <li><code>apply</code></li> <li><code>call</code></li> <li>Current State Changes \u5f53\u524d\u72b6\u6001\u7684\u53d8\u5316</li> <li><code>deleteBackward</code></li> <li><code>deleteForward</code></li> <li><code>delete</code></li> <li><code>insertBlock</code></li> <li><code>insertFragment</code></li> <li><code>insertInline</code></li> <li><code>insertText</code></li> <li><code>addMark</code></li> <li><code>setBlock</code></li> <li><code>setInline</code></li> <li><code>splitBlock</code></li> <li><code>splitInline</code></li> <li><code>removeMark</code></li> <li><code>toggleMark</code></li> <li><code>unwrapBlock</code></li> <li><code>unwrapInline</code></li> <li><code>wrapBlock</code></li> <li><code>wrapInline</code></li> <li><code>wrapText</code></li> <li>Selection Changes \u9009\u4e2d\u90e8\u5206\u72b6\u6001\u7684\u53d8\u5316</li> <li><code>blur</code></li> <li><code>collapseTo{Edge}Of</code></li> <li><code>collapseTo{Edge}Of{Direction}Block</code></li> <li><code>collapseTo{Edge}Of{Direction}Text</code></li> <li><code>collapseTo{Edge}</code></li> <li><code>extendTo{Edge}Of</code></li> <li><code>extend</code></li> <li><code>flip</code></li> <li><code>focus</code></li> <li><code>move</code></li> <li><code>move{Edge}</code></li> <li><code>moveOffsetsTo</code></li> <li><code>moveToRangeOf</code></li> <li><code>select</code></li> <li><code>selectAll</code></li> <li><code>deselect</code></li> <li>Node Changes \u8282\u70b9\u53d8\u5316</li> <li><code>addMarkByKey</code></li> <li><code>insertNodeByKey</code></li> <li><code>insertFragmentByKey</code></li> <li><code>insertTextByKey</code></li> <li><code>moveNodeByKey</code></li> <li><code>removeMarkByKey</code></li> <li><code>removeNodeByKey</code></li> <li><code>removeTextByKey</code></li> <li><code>setMarkByKey</code></li> <li><code>setNodeByKey</code></li> <li><code>splitNodeByKey</code></li> <li><code>unwrapInlineByKey</code></li> <li><code>unwrapBlockByKey</code></li> <li><code>unwrapNodeByKey</code></li> <li><code>wrapBlockByKey</code></li> <li><code>wrapInlineByKey</code></li> <li>Document Changes \u6587\u6863\u6811\u53d8\u5316</li> <li><code>deleteAtRange</code></li> <li><code>deleteBackwardAtRange</code></li> <li><code>deleteForwardAtRange</code></li> <li><code>insertBlockAtRange</code></li> <li><code>insertFragmentAtRange</code></li> <li><code>insertInlineAtRange</code></li> <li><code>insertTextAtRange</code></li> <li><code>addMarkAtRange</code></li> <li><code>setBlockAtRange</code></li> <li><code>setInlineAtRange</code></li> <li><code>splitBlockAtRange</code></li> <li><code>splitInlineAtRange</code></li> <li><code>removeMarkAtRange</code></li> <li><code>toggleMarkAtRange</code></li> <li><code>unwrapBlockAtRange</code></li> <li><code>unwrapInlineAtRange</code></li> <li><code>wrapBlockAtRange</code></li> <li><code>wrapInlineAtRange</code></li> <li><code>wrapTextAtRange</code></li> <li>History Changes</li> <li><code>redo</code></li> <li><code>undo</code></li> </ul>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#properties_1","title":"Properties","text":""},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#state","title":"<code>state</code>","text":"<p>\u5f53\u524d change \u6240\u5e94\u7528\u5230\u7684 <code>State</code>\u3002 \u6bcf\u6b21\u6267\u884c\u65b0\u7684 change \u51fd\u6570\uff0c\u90fd\u4f1a\u66f4\u65b0\u8be5\u5c5e\u6027\u3002</p> <p>\uff08\u8c03\u7528change\u7684\u65b9\u6cd5\u4f1a\u66f4\u65b0state\u5c5e\u6027\uff0cstate\u6846\u67b6\u4e0d\u9700\u8981\u64cd\u4f5c\u8005\u76f4\u63a5\u66f4\u65b0\u5c5e\u6027\uff0c\u901a\u8fc7change\u51fd\u6570\u5373\u53ef\u66f4\u65b0state\u5c5e\u6027\u3002\u6240\u4ee5\u4e00\u5b9a\u5728\u8bbe\u7f6echange\u5bf9\u8c61\u540e\u66f4\u65b0\u5c5e\u6027\uff0c\u5426\u5219\u8bbe\u7f6e\u7684\u5c5e\u6027\u4e0d\u4f1a\u751f\u6548\u3002\uff09</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#methods","title":"Methods","text":""},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#apply","title":"<code>apply</code>","text":"<p><code>apply(options: Object) =&gt; Change</code></p> <p>\u5e94\u7528\u5f53\u524d change \u6b65\u9aa4\uff0c\u82e5\u9700\u8981\u5219\u5c06\u5176\u4fdd\u5b58\u5230\u5386\u53f2\u8bb0\u5f55\u4e2d\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#call","title":"<code>call</code>","text":"<p><code>call(customChange: Function, ...arguments) =&gt; Change</code></p> <p>\u8be5\u65b9\u6cd5\u8c03\u7528 <code>customChange</code> \u51fd\u6570\uff0c\u5c06\u5f53\u524d\u7684 <code>Change</code> \u5bf9\u8c61\u5b9e\u4f8b\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u5e76\u4f20\u5165\u5269\u4f59\u7684\u5176\u5b83\u53c2\u6570\u3002</p> <p><code>customChange</code> \u7684\u51fd\u6570\u7b7e\u540d\u4e3a\uff1a</p> <p><code>customChange(change: Change, ...arguments)</code></p> <p><code>call</code> \u7684\u4f5c\u7528\u662f\u5141\u8bb8\u7f16\u5199\u81ea\u5b9a\u4e49\u7684 change \u51fd\u6570\u5e76\u4f7f\u5176\u652f\u6301\u94fe\u5f0f\u8c03\u7528\u3002\u4f8b\u5982\uff1a</p> <pre><code>return state.change()\n  .call(myCustomInsertTableChange, columns, rows)\n  .focus()\n  .apply()\n</code></pre>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#current-state-changes","title":"Current State Changes","text":""},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#deletebackward","title":"<code>deleteBackward</code>","text":"<p><code>deleteBackward(n: Number) =&gt; Change</code></p> <p>\u5728\u5f53\u524d\u5149\u6807\u4f4d\u7f6e\u5411\u540e\u5220\u9664 <code>n</code> \u4e2a\u5b57\u7b26\u3002\u82e5\u9009\u62e9\u8303\u56f4\u5df2\u6269\u5c55\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u7b49\u4ef7\u4e8e\u4e00\u4e2a\u666e\u901a\u7684 <code>delete()</code>\u3002<code>n</code> \u9ed8\u8ba4\u4e3a <code>1</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#deleteforward","title":"<code>deleteForward</code>","text":"<p><code>deleteForward(n: Number) =&gt; Change</code></p> <p>\u5728\u5f53\u524d\u5149\u6807\u4f4d\u7f6e\u5411\u524d\u5220\u9664 <code>n</code> \u4e2a\u5b57\u7b26\u3002\u82e5\u9009\u62e9\u8303\u56f4\u5df2\u6269\u5c55\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u7b49\u4ef7\u4e8e\u4e00\u4e2a\u666e\u901a\u7684 <code>delete()</code>\u3002<code>n</code> \u9ed8\u8ba4\u4e3a <code>1</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#delete","title":"<code>delete</code>","text":"<p><code>delete() =&gt; Change</code></p> <p>\u5220\u9664\u5f53\u524d\u9009\u62e9\u8303\u56f4\u5185\u7684\u6240\u6709\u5185\u5bb9\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#insertblock","title":"<code>insertBlock</code>","text":"<p><code>insertBlock(block: Block) =&gt; Change</code> <code>insertBlock(properties: Object) =&gt; Change</code> <code>insertBlock(type: String) =&gt; Change</code></p> <p>\u5728\u4e0e\u5f53\u524d block \u540c\u6df1\u5ea6\u7684\u4f4d\u7f6e\u63d2\u5165\u4e00\u4e2a\u65b0 block\uff0c\u82e5\u5f53\u524d block \u975e\u7a7a\uff0c\u5c06\u5176\u5207\u5206\u4e3a\u4e24\u4e2a block \u4ee5\u4e3a\u5176\u817e\u51fa\u7a7a\u95f4\u3002\u82e5\u9009\u62e9\u8303\u56f4\u5df2\u6269\u5c55\uff0c\u5219\u5148\u5c06\u5176\u5220\u9664\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#insertfragment","title":"<code>insertFragment</code>","text":"<p><code>insertFragment(fragment: Document) =&gt; Change</code></p> <p>\u5728\u5f53\u524d\u9009\u62e9\u4f4d\u7f6e\u63d2\u5165\u4e00\u4e2a <code>fragment</code>\u3002\u82e5\u9009\u62e9\u8303\u56f4\u5df2\u6269\u5c55\uff0c\u5219\u5148\u5c06\u5176\u5220\u9664\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#_1","title":"slate core","text":""},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#insertinline","title":"<code>insertInline</code>","text":"<p><code>insertInline(inline: Inline) =&gt; Change</code> <code>insertInline(properties: Object) =&gt; Change</code></p> <p>\u5728\u5f53\u524d\u5149\u6807\u4f4d\u7f6e\u63d2\u5165\u4e00\u4e2a\u65b0 inline\uff0c\u82e5\u5f53\u524d text \u975e\u7a7a\uff0c\u5c06\u5176\u5207\u5206\u4e3a\u4e24\u4e2a\u4ee5\u4e3a\u5176\u817e\u51fa\u7a7a\u95f4\u3002\u82e5\u9009\u62e9\u8303\u56f4\u5df2\u6269\u5c55\uff0c\u5219\u5148\u5c06\u5176\u5220\u9664\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#inserttext","title":"<code>insertText</code>","text":"<p><code>insertText(text: String) =&gt; Change</code></p> <p>\u5728\u5f53\u524d\u9009\u62e9\u4f4d\u7f6e\u63d2\u5165\u4e00\u4e2a text \u5b57\u7b26\u4e32\u3002\u82e5\u9009\u62e9\u8303\u56f4\u5df2\u6269\u5c55\uff0c\u5219\u5148\u5c06\u5176\u5220\u9664\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#addmark","title":"<code>addMark</code>","text":"<p><code>addMark(mark: Mark) =&gt; Change</code> <code>addMark(properties: Object) =&gt; Change</code> <code>addMark(type: String) =&gt; Change</code></p> <p>\u4e3a\u5f53\u524d\u9009\u62e9\u8303\u56f4\u7684\u5b57\u7b26\u6dfb\u52a0 <code>mark</code>\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code> \u5b57\u7b26\u4e32\u6216 <code>properties</code> \u5bf9\u8c61\u6765\u9690\u5f0f\u5730\u521b\u5efa\u4e00\u4e2a\u8be5\u7c7b\u578b\u7684 <code>Mark</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#setblock","title":"<code>setBlock</code>","text":"<p><code>setBlock(properties: Object) =&gt; Change</code> <code>setBlock(type: String) =&gt; Change</code></p> <p>\u6839\u636e <code>properties</code> \u8bbe\u7f6e\u5f53\u524d\u9009\u62e9\u8303\u56f4\u5185 <code>Block</code>\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code> \u5b57\u7b26\u4e32\u4f5c\u4e3a\u8be5 block \u7684\u7c7b\u578b\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#setinline","title":"<code>setInline</code>","text":"<p><code>setInline(properties: Object) =&gt; Change</code> <code>setInline(type: String) =&gt; Change</code></p> <p>\u6839\u636e <code>properties</code> \u8bbe\u7f6e\u5f53\u524d\u9009\u62e9\u8303\u56f4\u5185 <code>Inline</code>\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code> \u5b57\u7b26\u4e32\u4f5c\u4e3a\u8be5 inline \u7684\u7c7b\u578b\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#splitblock","title":"<code>splitBlock</code>","text":"<p><code>splitBlock(depth: Number) =&gt; Change</code></p> <p>\u6839\u636e <code>depth</code> \u7ea7\u522b\u6765\u5207\u5206\u5f53\u524d\u9009\u62e9\u8303\u56f4\u5185\u7684 <code>Block</code>\u3002\u82e5\u9009\u62e9\u8303\u56f4\u5df2\u6269\u5c55\uff0c\u5219\u5148\u5c06\u5176\u5220\u9664\u3002<code>depth</code> \u9ed8\u8ba4\u4e3a <code>1</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#splitinline","title":"<code>splitInline</code>","text":"<p><code>splitInline(depth: Number) =&gt; Change</code></p> <p>\u6839\u636e <code>depth</code> \u7ea7\u522b\u6765\u5207\u5206\u5f53\u524d\u9009\u62e9\u8303\u56f4\u5185\u7684 <code>Inline</code>\u3002\u82e5\u9009\u62e9\u8303\u56f4\u5df2\u6269\u5c55\uff0c\u5219\u5148\u5c06\u5176\u5220\u9664\u3002<code>depth</code> \u9ed8\u8ba4\u4e3a <code>Infinity</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#removemark","title":"<code>removeMark</code>","text":"<p><code>removeMark(mark: Mark) =&gt; Change</code> <code>removeMark(properties: Object) =&gt; Change</code> <code>removeMark(type: String) =&gt; Change</code></p> <p>\u79fb\u9664\u5f53\u524d\u9009\u62e9\u8303\u56f4\u5b57\u7b26\u7684 <code>mark</code>\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code> \u5b57\u7b26\u4e32\u6216 <code>properties</code> \u5bf9\u8c61\u6765\u9690\u5f0f\u5730\u521b\u5efa\u4e00\u4e2a\u8be5\u7c7b\u578b\u7684 <code>Mark</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#togglemark","title":"<code>toggleMark</code>","text":"<p><code>toggleMark(mark: Mark) =&gt; Change</code> <code>toggleMark(properties: Object) =&gt; Change</code> <code>toggleMark(type: String) =&gt; Change</code></p> <p>\u6dfb\u52a0\u6216\u5220\u9664\u5f53\u524d\u9009\u62e9\u8303\u56f4\u5b57\u7b26\u7684 <code>mark</code>\uff0c\u4f9d\u636e\u662f\u5176\u662f\u5426\u5b58\u5728\u4e8e\u9009\u62e9\u8303\u56f4\u5185\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code> \u5b57\u7b26\u4e32\u6216 <code>properties</code> \u5bf9\u8c61\u6765\u9690\u5f0f\u5730\u521b\u5efa\u4e00\u4e2a\u8be5\u7c7b\u578b\u7684 <code>Mark</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#unwrapblock","title":"<code>unwrapBlock</code>","text":"<p><code>unwrapBlock([type: String], [data: Data]) =&gt; Change</code></p> <p>\u6839\u636e\u5bf9 <code>type</code> \u548c / \u6216 <code>data</code> \u7684\u5339\u914d\uff0c\u89e3\u5305\u6240\u6709\u5f53\u524d\u9009\u62e9\u8303\u56f4\u5185\u7684 <code>Block</code> \u8282\u70b9\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#unwrapinline","title":"<code>unwrapInline</code>","text":"<p><code>unwrapInline([type: String], [data: Data]) =&gt; Change</code></p> <p>\u6839\u636e\u5bf9 <code>type</code> \u548c / \u6216 <code>data</code> \u7684\u5339\u914d\uff0c\u89e3\u5305\u6240\u6709\u5f53\u524d\u9009\u62e9\u8303\u56f4\u5185\u7684 <code>Inline</code> \u8282\u70b9\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#wrapblock","title":"<code>wrapBlock</code>","text":"<p><code>wrapBlock(type: String, [data: Data]) =&gt; Change</code></p> <p>\u4f7f\u7528\u7c7b\u578b\u4e3a <code>type</code> \u7684\u65b0 <code>Block</code> \u5c06\u5f53\u524d\u9009\u62e9\u8303\u56f4\u5185\u7684 <code>Block</code> \u8282\u70b9\u5305\u88f9\u8d77\u6765\uff0c\u53ef\u9644\u52a0 <code>data</code> \u4fe1\u606f\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#wrapinline","title":"<code>wrapInline</code>","text":"<p><code>wrapInline(type: String, [data: Data]) =&gt; Change</code></p> <p>\u4f7f\u7528\u7c7b\u578b\u4e3a <code>type</code> \u7684\u65b0 <code>Inline</code> \u5c06\u5f53\u524d\u9009\u62e9\u8303\u56f4\u5185\u7684 <code>Inline</code> \u8282\u70b9\u5305\u88f9\u8d77\u6765\uff0c\u53ef\u9644\u52a0 <code>data</code> \u4fe1\u606f\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#wraptext","title":"<code>wrapText</code>","text":"<p><code>wrapText(prefix: String, [suffix: String]) =&gt; Change</code></p> <p>\u5c06\u5f53\u524d\u9009\u62e9\u8303\u56f4\u5185\u7684\u6587\u672c\u7528 <code>prefix</code> \u548c <code>suffix</code> \u5b57\u7b26\u4e32\u56f4\u8d77\u6765\u3002\u82e5\u7701\u7565\u4e86 <code>suffix</code>\uff0c\u5c06\u4f7f\u7528 <code>prefix</code> \u66ff\u4ee3\u4e4b\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#selection-changes","title":"Selection Changes","text":""},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#blur","title":"<code>blur</code>","text":"<p><code>blur() =&gt; Change</code></p> <p>\u4f7f\u5f53\u524d\u9009\u62e9\u8303\u56f4\u5931\u53bb\u7126\u70b9\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#collapsetoedge","title":"<code>collapseTo{Edge}</code>","text":"<p><code>collapseTo{Edge}() =&gt; Change</code></p> <p>\u5c06\u5f53\u524d\u9009\u62e9\u8303\u56f4\u6536\u7f29\u81f3\u5176 <code>{Edge}</code>\u3002<code>{Edge}</code> \u53ef\u4e3a <code>Anchor</code>\u3001<code>Focus</code>\u3001<code>Start</code> \u6216 <code>End</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#collapsetoedgeof","title":"<code>collapseTo{Edge}Of</code>","text":"<p><code>collapseTo{Edge}Of(node: Node) =&gt; Change</code></p> <p>\u5c06\u5f53\u524d\u9009\u62e9\u8303\u56f4\u6536\u7f29\u81f3 <code>node</code> \u7684 <code>{Edge}</code>\u3002<code>{Edge}</code> \u53ef\u4e3a <code>Start</code> \u6216 <code>End</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#collapsetoedgeofdirectionblock","title":"<code>collapseTo{Edge}Of{Direction}Block</code>","text":"<p><code>collapseTo{Edge}Of{Direction}Block() =&gt; Change</code></p> <p>\u5c06\u5f53\u524d\u9009\u62e9\u8303\u56f4\u6309\u7167 <code>{Direction}</code> \u65b9\u5411\u6536\u7f29\u81f3\u4e0b\u4e00\u4e2a <code>Block</code> \u8282\u70b9\u7684 <code>{Edge}</code>\u3002<code>{Edge}</code> \u53ef\u4e3a <code>Start</code>\u6216 <code>End</code>\uff0c<code>{Direction}</code> \u53ef\u4e3a <code>Next</code> \u6216 <code>Previous</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#collapsetoedgeofdirectiontext","title":"<code>collapseTo{Edge}Of{Direction}Text</code>","text":"<p><code>collapseTo{Edge}Of{Direction}Text() =&gt; Change</code></p> <p>\u5c06\u5f53\u524d\u9009\u62e9\u8303\u56f4\u6309\u7167 <code>{Direction}</code> \u65b9\u5411\u6536\u7f29\u81f3\u4e0b\u4e00\u4e2a <code>Text</code> \u8282\u70b9\u7684 <code>{Edge}</code>\u3002<code>{Edge}</code> \u53ef\u4e3a <code>Start</code>\u6216 <code>End</code>\uff0c<code>{Direction}</code> \u53ef\u4e3a <code>Next</code> \u6216 <code>Previous</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#extend","title":"<code>extend</code>","text":"<p><code>extend(n: Number) =&gt; Change</code></p> <p>\u5c06\u5f53\u524d\u9009\u62e9\u8303\u56f4\u6269\u5c55 <code>n</code> \u4e2a\u5b57\u7b26\u3002<code>n</code> \u7684\u6b63\u8d1f\u7528\u4e8e\u6307\u793a\u65b9\u5411\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#extendtoedgeof","title":"<code>extendTo{Edge}Of</code>","text":"<p><code>extendTo{Edge}Of(node: Node) =&gt; Change</code></p> <p>\u5c06\u5f53\u524d\u9009\u62e9\u8303\u56f4\u6269\u5c55\u81f3 <code>node</code> \u7684 <code>{Edge}</code>\u3002<code>{Edge}</code> \u53ef\u4e3a <code>Start</code> \u6216 <code>End</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#flip","title":"<code>flip</code>","text":"<p><code>flip() =&gt; Change</code></p> <p>\u7ffb\u8f6c\u5f53\u524d\u9009\u62e9\u8303\u56f4\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#focus","title":"<code>focus</code>","text":"<p><code>focus() =&gt; Change</code></p> <p>\u4f7f\u5f53\u524d\u9009\u62e9\u8303\u56f4\u83b7\u5f97\u7126\u70b9\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#move","title":"<code>move</code>","text":"<p><code>move(n: Number) =&gt; Change</code></p> <p>\u6839\u636e <code>n</code> \u79fb\u52a8\u5f53\u524d\u9009\u62e9\u8303\u56f4\u7684\u504f\u79fb\u91cf\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#moveedge","title":"<code>move{Edge}</code>","text":"<p><code>move{Edge}(n: Number) =&gt; Change</code></p> <p>\u6839\u636e <code>n</code> \u79fb\u52a8\u5f53\u524d\u9009\u62e9\u8303\u56f4 <code>{Edge}</code> \u7684\u504f\u79fb\u91cf\u3002<code>{Edge}</code> \u53ef\u4e3a <code>Start</code> \u6216 <code>End</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#moveoffsetsto","title":"<code>moveOffsetsTo</code>","text":"<p><code>moveOffsetsTo(anchorOffset: Number, focusOffset: Number) =&gt; Change</code></p> <p>\u5c06\u5f53\u524d\u9009\u62e9\u8303\u56f4\u79fb\u52a8\u81f3\u65b0\u7684 <code>anchorOffset</code> \u548c <code>focusOffset</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#movetorangeof","title":"<code>moveToRangeOf</code>","text":"<p><code>moveToRangeOf(node: Node) =&gt; Change</code></p> <p>\u5c06\u5f53\u524d\u9009\u62e9\u8303\u56f4\u7684\u951a\u70b9\u79fb\u52a8\u81f3 <code>node</code> \u7684\u5f00\u59cb\uff0c\u7126\u70b9\u79fb\u52a8\u81f3 <code>node</code> \u7684\u7ed3\u675f\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#select","title":"<code>select</code>","text":"<p><code>select(properties: Selection || Object) =&gt; Change</code></p> <p>\u4f7f\u7528\u5408\u5e76\u7684 <code>properties</code> \u66f4\u65b0\u5f53\u524d\u9009\u62e9\u8303\u56f4\u3002<code>properties</code> \u53ef\u4e3a <code>Selection</code> \u5bf9\u8c61\u6216\u5e26 selection \u76f8\u5173\u5c5e\u6027\u7684\u539f\u751f JS \u5bf9\u8c61\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#selectall","title":"<code>selectAll</code>","text":"<p><code>selectAll() =&gt; Change</code></p> <p>\u9009\u62e9\u5f53\u524d\u5168\u90e8\u6587\u6863\u5185\u5bb9\u5e76\u83b7\u5f97\u7126\u70b9\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#deselect","title":"<code>deselect</code>","text":"<p><code>deselect() =&gt; Change</code></p> <p>\u53d6\u6d88\u9009\u62e9\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#node-changes","title":"Node Changes","text":""},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#addmarkbykey","title":"<code>addMarkByKey</code>","text":"<p><code>addMarkByKey(key: String, offset: Number, length: Number, mark: Mark) =&gt; Change</code></p> <p>\u6839\u636e <code>Node</code> \u7684 <code>key</code>\uff0c\u4e3a\u5176\u4e2d\u7531 <code>offset</code> \u5f00\u59cb\u7684 <code>length</code> \u4e2a\u5b57\u7b26\u6dfb\u52a0 <code>mark</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#insertnodebykey","title":"<code>insertNodeByKey</code>","text":"<p><code>insertNodeByKey(key: String, index: Number, node: Node) =&gt; Change</code></p> <p>\u6839\u636e\u7236 <code>Node</code> \u7684 <code>key</code>\uff0c\u5728\u5176\u4e2d\u7684 <code>index</code> \u4f4d\u7f6e\u63d2\u5165 <code>node</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#insertfragmentbykey","title":"<code>insertFragmentByKey</code>","text":"<p><code>insertFragmentByKey(key: String, index: Number, fragment: Fragment) =&gt; Transform</code></p> <p>\u6839\u636e\u7236 <code>Node</code> \u7684 <code>key</code>\uff0c\u5728\u5176\u4e2d\u7684 <code>index</code> \u4f4d\u7f6e\u63d2\u5165 <code>Fragment</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#inserttextbykey","title":"<code>insertTextByKey</code>","text":"<p><code>insertTextByKey(key: String, offset: Number, text: String, [marks: Set]) =&gt; Change</code></p> <p>\u6839\u636e\u7236 <code>Text Node</code> \u7684 <code>key</code>\uff0c\u5728\u5176\u4e2d\u4ece <code>offset</code> \u8d77\u7684\u4f4d\u7f6e\u63d2\u5165\u5e26\u53ef\u9009 <code>marks</code> \u7684 <code>text</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#movenodebykey","title":"<code>moveNodeByKey</code>","text":"<p><code>moveNodeByKey(key: String, newKey: String, newIndex: Number) =&gt; Change</code></p> <p>\u6839\u636e <code>Node</code> \u7684 <code>key</code>\uff0c\u5c06\u5176\u79fb\u52a8\u5230\u5e26 <code>newKey</code> \u7684\u65b0\u7236\u8282\u70b9\u4e0b\uff0c\u76f8\u5e94\u4e0b\u6807\u4e3a <code>newIndex</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#removemarkbykey","title":"<code>removeMarkByKey</code>","text":"<p><code>removeMarkByKey(key: String, offset: Number, length: Number, mark: Mark) =&gt; Change</code></p> <p>\u6839\u636e <code>Node</code> \u7684 <code>key</code>\uff0c\u79fb\u9664\u5176\u4e2d\u4ece <code>offset</code> \u5f00\u59cb <code>length</code> \u4e2a\u5b57\u7b26\u7684 <code>mark</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#removenodebykey","title":"<code>removeNodeByKey</code>","text":"<p><code>removeNodeByKey(key: String) =&gt; Change</code></p> <p>\u6839\u636e <code>Node</code> \u7684 <code>key</code>\uff0c\u5c06\u5176\u4ece\u6587\u6863\u4e2d\u79fb\u9664\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#removetextbykey","title":"<code>removeTextByKey</code>","text":"<p><code>removeTextByKey(key: String, offset: Number, length: Number) =&gt; Change</code></p> <p>\u6839\u636e <code>Node</code> \u7684 <code>key</code>\uff0c\u79fb\u9664\u5176\u4e2d\u4ece <code>offset</code> \u5f00\u59cb <code>length</code> \u4e2a\u5b57\u7b26\u7684\u6587\u672c\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#setmarkbykey","title":"<code>setMarkByKey</code>","text":"<p><code>setMarkByKey(key: String, offset: Number, length: Number, mark: Mark, properties: Object) =&gt; Change</code></p> <p>\u6839\u636e <code>Node</code> \u7684 <code>key</code>\uff0c\u4e3a\u5176\u8bbe\u7f6e <code>properties</code> \u8bcd\u5178\u5bf9\u5e94\u7684 <code>mark</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#setnodebykey","title":"<code>setNodeByKey</code>","text":"<p><code>setNodeByKey(key: String, properties: Object) =&gt; Change</code> <code>setNodeByKey(key: String, type: String) =&gt; Change</code></p> <p>\u6839\u636e <code>Node</code> \u7684 <code>key</code>\uff0c\u4e3a\u5176\u8bbe\u7f6e <code>properties</code> \u8bcd\u5178\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code> \u5b57\u7b26\u4e32\u6216 <code>properties</code> \u5bf9\u8c61\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#splitnodebykey","title":"<code>splitNodeByKey</code>","text":"<p><code>splitNodeByKey(key: String, offset: Number) =&gt; Change</code></p> <p>\u6839\u636e\u4ece <code>offset</code> \u5f00\u59cb\u7684 <code>key</code> \u5207\u5206\u8282\u70b9\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#unwrapinlinebykey","title":"<code>unwrapInlineByKey</code>","text":"<p><code>unwrapInlineByKey(key: String, properties: Object) =&gt; Change</code> <code>unwrapInlineByKey(key: String, type: String) =&gt; Change</code></p> <p>\u6839\u636e <code>Inline</code> \u7684 <code>key</code>\uff0c\u89e3\u5305\u5176\u4e2d\u5339\u914d <code>properties</code> \u7684\u8282\u70b9\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code> \u5b57\u7b26\u4e32\u6216 <code>properties</code> \u5bf9\u8c61\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#unwrapblockbykey","title":"<code>unwrapBlockByKey</code>","text":"<p><code>unwrapBlockByKey(key: String, properties: Object) =&gt; Change</code> <code>unwrapBlockByKey(key: String, type: String) =&gt; Change</code></p> <p>\u6839\u636e <code>Block</code> \u7684 <code>key</code>\uff0c\u89e3\u5305\u5176\u4e2d\u5339\u914d <code>properties</code> \u7684\u8282\u70b9\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code> \u5b57\u7b26\u4e32\u6216 <code>properties</code> \u5bf9\u8c61\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#unwrapnodebykey","title":"<code>unwrapNodeByKey</code>","text":"<p><code>unwrapNodeByKey(key: String) =&gt; Change</code></p> <p>\u6839\u636e <code>key</code>\uff0c\u5c06\u8282\u70b9\u4ece\u5176\u7236\u8282\u70b9\u4e2d\u89e3\u5305\u51fa\u6765\u3002\u82e5\u8be5\u8282\u70b9\u524d\u540e\u5b58\u5728\u5144\u5f1f\u8282\u70b9\uff0c\u5219\u5207\u5206\u5176\u7236\u8282\u70b9\u3002\u82e5\u8be5\u8282\u70b9\u4e3a\u552f\u4e00\u5b50\u8282\u70b9\uff0c\u5219\u5c06\u7236\u8282\u70b9\u79fb\u9664\u5e76\u66ff\u6362\u4e3a\u8be5\u8282\u70b9\u3002\u4e0d\u652f\u6301\u89e3\u5305\u6839\u8282\u70b9\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#wrapblockbykey","title":"<code>wrapBlockByKey</code>","text":"<p><code>wrapBlockByKey(key: String, properties: Object) =&gt; Change</code> <code>wrapBlockByKey(key: String, type: String) =&gt; Change</code></p> <p>\u5c06\u6ee1\u8db3 <code>properties</code> \u7684\u7ed9\u5b9a\u8282\u70b9\u5305\u88f9\u5728 <code>Block</code> \u8282\u70b9\u4e2d\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code> \u5b57\u7b26\u4e32\u6216 <code>properties</code> \u5bf9\u8c61\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#wrapinlinebykey","title":"<code>wrapInlineByKey</code>","text":"<p><code>wrapInlineByKey(key: String, properties: Object) =&gt; Change</code> <code>wrapInlineByKey(key: String, type: String) =&gt; Change</code></p> <p>\u5c06\u6ee1\u8db3 <code>properties</code> \u7684\u7ed9\u5b9a\u8282\u70b9\u5305\u88f9\u5728 <code>Inline</code> \u8282\u70b9\u4e2d\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code> \u5b57\u7b26\u4e32\u6216 <code>properties</code> \u5bf9\u8c61\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#document-changes","title":"Document Changes","text":""},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#deletebackwardatrange","title":"<code>deleteBackwardAtRange</code>","text":"<p><code>deleteBackwardAtRange(range: Selection, n: Number) =&gt; Change</code></p> <p>\u5728 <code>range</code> \u4e2d\u5411\u540e\u5220\u9664 <code>n</code> \u4e2a\u5b57\u7b26\u3002\u82e5 <code>range</code> \u5904\u4e8e\u5c55\u5f00\u72b6\u6001\uff0c\u8be5\u65b9\u6cd5\u7b49\u4ef7\u4e8e\u666e\u901a\u7684 <code>delete()</code>\u3002<code>n</code> \u9ed8\u8ba4\u4e3a <code>1</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#deleteforwardatrange","title":"<code>deleteForwardAtRange</code>","text":"<p><code>deleteForwardAtRange(range: Selection, n: Number) =&gt; Change</code></p> <p>\u5728 <code>range</code> \u4e2d\u5411\u524d\u5220\u9664 <code>n</code> \u4e2a\u5b57\u7b26\u3002\u82e5 <code>range</code> \u5904\u4e8e\u5c55\u5f00\u72b6\u6001\uff0c\u8be5\u65b9\u6cd5\u7b49\u4ef7\u4e8e\u666e\u901a\u7684 <code>delete()</code>\u3002<code>n</code> \u9ed8\u8ba4\u4e3a <code>1</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#deleteatrange","title":"<code>deleteAtRange</code>","text":"<p><code>deleteAtRange(range: Selection, ) =&gt; Change</code></p> <p>\u5220\u9664 <code>range</code> \u4e2d\u5168\u90e8\u5185\u5bb9\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#insertblockatrange","title":"<code>insertBlockAtRange</code>","text":"<p><code>insertBlockAtRange(range: Selection, block: Block) =&gt; Change</code> <code>insertBlockAtRange(range: Selection, properties: Object) =&gt; Change</code> <code>insertBlockAtRange(range: Selection, type: String) =&gt; Change</code></p> <p>\u5728 <code>range</code> \u4e2d\u4e0e\u53f6\u5b50 block \u76f8\u540c\u6df1\u5ea6\u7684\u4f4d\u7f6e\uff0c\u63d2\u5165\u65b0 block\u3002\u82e5\u5f53\u524d block \u975e\u7a7a\uff0c\u5c06\u5176\u5207\u5206\u4ee5\u817e\u51fa\u7a7a\u95f4\u3002\u82e5\u9009\u62e9\u8303\u56f4\u5df2\u6269\u5c55\uff0c\u5219\u5148\u5c06\u5176\u5220\u9664\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#insertfragmentatrange","title":"<code>insertFragmentAtRange</code>","text":"<p><code>insertFragmentAtRange(range: Selection, fragment: Document) =&gt; Change</code></p> <p>\u5728 <code>range</code> \u4e2d\u63d2\u5165\u4e00\u4e2a <code>fragment</code>\u3002\u82e5\u5f53\u524d block \u975e\u7a7a\uff0c\u5c06\u5176\u5207\u5206\u4ee5\u817e\u51fa\u7a7a\u95f4\u3002\u82e5\u9009\u62e9\u8303\u56f4\u5df2\u6269\u5c55\uff0c\u5219\u5148\u5c06\u5176\u5220\u9664\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#insertinlineatrange","title":"<code>insertInlineAtRange</code>","text":"<p><code>insertInlineAtRange(range: Selection, inline: Inline) =&gt; Change</code> <code>insertInlineAtRange(range: Selection, properties: Object) =&gt; Change</code></p> <p>\u5728 <code>range</code> \u4e2d\u63d2\u5165\u4e00\u4e2a inline \u8282\u70b9\u3002\u82e5\u5f53\u524d\u6587\u672c\u975e\u7a7a\uff0c\u5c06\u5176\u5207\u5206\u4ee5\u817e\u51fa\u7a7a\u95f4\u3002\u82e5\u9009\u62e9\u8303\u56f4\u5df2\u6269\u5c55\uff0c\u5219\u5148\u5c06\u5176\u5220\u9664\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#inserttextatrange","title":"<code>insertTextAtRange</code>","text":"<p><code>insertTextAtRange(range: Selection, text: String) =&gt; Change</code></p> <p>\u5728 <code>range</code> \u4e2d\u63d2\u5165\u4e00\u4e2a <code>text</code> \u5b57\u7b26\u4e32\u3002\u82e5\u9009\u62e9\u8303\u56f4\u5df2\u6269\u5c55\uff0c\u5219\u5148\u5c06\u5176\u5220\u9664\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#addmarkatrange","title":"<code>addMarkAtRange</code>","text":"<p><code>addMarkAtRange(range: Selection, mark: Mark) =&gt; Change</code> <code>addMarkAtRange(range: Selection, properties: Object) =&gt; Change</code> <code>addMarkAtRange(range: Selection, type: String) =&gt; Change</code></p> <p>\u5728 <code>range</code> \u4e2d\u6dfb\u52a0 <code>mark</code>\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code> \u5b57\u7b26\u4e32\u6216 <code>properties</code> \u5bf9\u8c61\u6765\u9690\u5f0f\u5730\u521b\u5efa\u4e00\u4e2a\u8be5\u7c7b\u578b\u7684 <code>Mark</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#setblockatrange","title":"<code>setBlockAtRange</code>","text":"<p><code>setBlockAtRange(range: Selection, properties: Object) =&gt; Change</code> <code>setBlock(range: Selection, type: String) =&gt; Change</code></p> <p>\u5728 <code>range</code> \u4e2d\u8bbe\u7f6e <code>Block</code> \u7684 <code>properties</code>\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code> \u5b57\u7b26\u4e32\u6765\u8bbe\u7f6e block \u7c7b\u578b\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#setinlineatrange","title":"<code>setInlineAtRange</code>","text":"<p><code>setInlineAtRange(range: Selection, properties: Object) =&gt; Change</code> <code>setInline(range: Selection, type: String) =&gt; Change</code></p> <p>\u5728 <code>range</code> \u4e2d\u8bbe\u7f6e <code>Inline</code> \u7684 <code>properties</code>\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code> \u5b57\u7b26\u4e32\u6765\u8bbe\u7f6e inline \u7c7b\u578b\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#splitblockatrange","title":"<code>splitBlockAtRange</code>","text":"<p><code>splitBlockAtRange(range: Selection, depth: Number) =&gt; Change</code></p> <p>\u6839\u636e <code>depth</code> \u7ea7\u522b\u6765\u5207\u5206 <code>range</code> \u5185\u7684 <code>Block</code>\u3002\u82e5\u9009\u62e9\u8303\u56f4\u5df2\u6269\u5c55\uff0c\u5219\u5148\u5c06\u5176\u5220\u9664\u3002<code>depth</code> \u9ed8\u8ba4\u4e3a <code>1</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#splitinlineatrange","title":"<code>splitInlineAtRange</code>","text":"<p><code>splitInlineAtRange(range: Selection, depth: Number) =&gt; Change</code></p> <p>\u6839\u636e <code>depth</code> \u7ea7\u522b\u6765\u5207\u5206 <code>range</code> \u5185\u7684 <code>Inline</code>\u3002\u82e5\u9009\u62e9\u8303\u56f4\u5df2\u6269\u5c55\uff0c\u5219\u5148\u5c06\u5176\u5220\u9664\u3002<code>depth</code> \u9ed8\u8ba4\u4e3a <code>Infinity</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#removemarkatrange","title":"<code>removeMarkAtRange</code>","text":"<p><code>removeMarkAtRange(range: Selection, mark: Mark) =&gt; Change</code> <code>removeMarkAtRange(range: Selection, properties: Object) =&gt; Change</code> <code>removeMarkAtRange(range: Selection, type: String) =&gt; Change</code></p> <p>\u79fb\u9664 <code>range</code> \u5185\u5b57\u7b26\u7684 <code>mark</code>\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code> \u5b57\u7b26\u4e32\u6216 <code>properties</code> \u5bf9\u8c61\u6765\u9690\u5f0f\u5730\u521b\u5efa\u4e00\u4e2a\u8be5\u7c7b\u578b\u7684 <code>Mark</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#togglemarkatrange","title":"<code>toggleMarkAtRange</code>","text":"<p><code>toggleMarkAtRange(range: Selection, mark: Mark) =&gt; Change</code> <code>toggleMarkAtRange(range: Selection, properties: Object) =&gt; Change</code> <code>toggleMarkAtRange(range: Selection, type: String) =&gt; Change</code></p> <p>\u6dfb\u52a0\u6216\u5220\u9664 <code>range</code> \u5185\u5b57\u7b26\u7684 <code>mark</code>\uff0c\u4f9d\u636e\u662f\u5176\u662f\u5426\u5b58\u5728\u4e8e\u9009\u62e9\u8303\u56f4\u5185\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code>\u5b57\u7b26\u4e32\u6216 <code>properties</code> \u5bf9\u8c61\u6765\u9690\u5f0f\u5730\u521b\u5efa\u4e00\u4e2a\u8be5\u7c7b\u578b\u7684 <code>Mark</code>\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#unwrapblockatrange","title":"<code>unwrapBlockAtRange</code>","text":"<p><code>unwrapBlockAtRange(range: Selection, properties: Object) =&gt; Change</code> <code>unwrapBlockAtRange(range: Selection, type: String) =&gt; Change</code></p> <p>\u6839\u636e\u5bf9 <code>properties</code> \u7684\u5339\u914d\uff0c\u89e3\u5305 <code>range</code> \u5185\u7684 <code>Block</code> \u8282\u70b9\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code> \u5b57\u7b26\u4e32\u6216 <code>properties</code> \u5bf9\u8c61\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#unwrapinlineatrange","title":"<code>unwrapInlineAtRange</code>","text":"<p><code>unwrapInlineAtRange(range: Selection, properties: Object) =&gt; Change</code> <code>unwrapInlineAtRange(range: Selection, type: String) =&gt; Change</code></p> <p>\u6839\u636e\u5bf9 <code>properties</code> \u7684\u5339\u914d\uff0c\u89e3\u5305 <code>range</code> \u5185\u7684 <code>Inline</code> \u8282\u70b9\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code> \u5b57\u7b26\u4e32\u6216 <code>properties</code> \u5bf9\u8c61\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#wrapblockatrange","title":"<code>wrapBlockAtRange</code>","text":"<p><code>wrapBlockAtRange(range: Selection, properties: Object) =&gt; Change</code> <code>wrapBlockAtRange(range: Selection, type: String) =&gt; Change</code></p> <p>\u5c06 <code>range</code> \u5185\u7684 <code>Block</code> \u5305\u88f9\u4e3a\u4e00\u4e2a\u5177\u5907 <code>properties</code> \u7684\u65b0 <code>Block</code>\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code>\u5b57\u7b26\u4e32\u6216 <code>properties</code> \u5bf9\u8c61\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#wrapinlineatrange","title":"<code>wrapInlineAtRange</code>","text":"<p><code>wrapInlineAtRange(range: Selection, properties: Object) =&gt; Change</code> <code>wrapInlineAtRange(range: Selection, type: String) =&gt; Change</code></p> <p>\u5c06 <code>range</code> \u5185\u7684 <code>Inline</code> \u5305\u88f9\u4e3a\u4e00\u4e2a\u5177\u5907 <code>properties</code> \u7684\u65b0 <code>Inline</code>\u3002\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165 <code>type</code>\u5b57\u7b26\u4e32\u6216 <code>properties</code> \u5bf9\u8c61\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#wraptextatrange","title":"<code>wrapTextAtRange</code>","text":"<p><code>wrapTextAtRange(range: Selection, prefix: String, [suffix: String]) =&gt; Change</code></p> <p>\u5c06 <code>range</code> \u5185\u7684\u6587\u672c\u7528 <code>prefix</code> \u548c <code>suffix</code> \u5b57\u7b26\u4e32\u56f4\u8d77\u6765\u3002\u82e5\u7701\u7565\u4e86 <code>suffix</code>\uff0c\u5c06\u4f7f\u7528 <code>prefix</code> \u66ff\u4ee3\u4e4b\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#history-changes","title":"History Changes","text":""},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#redo","title":"<code>redo</code>","text":"<p><code>redo() =&gt; Change</code></p> <p>\u5728\u5386\u53f2\u8bb0\u5f55\u4e2d\u524d\u8fdb\u4e00\u6b65\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#undo","title":"<code>undo</code>","text":"<p><code>undo() =&gt; Change</code></p> <p>\u5728\u5386\u53f2\u8bb0\u5f55\u4e2d\u540e\u9000\u4e00\u6b65\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#3selection","title":"3.Selection","text":"<pre><code>import { Selection } from 'slate'\n</code></pre> <p>Slate <code>Document</code> \u4e2d\u7684\u9009\u62e9\u8303\u56f4\u3002Slate \u4e2d\u7684 Selection \u662f\u6309\u7167\u539f\u751f DOM Selection API \u8bbe\u8ba1\u7684\uff0c\u4f7f\u7528\u5f62\u5982 \"anchor\"\u3001\"focus\" \u548c \"collapsed\" \u7684\u672f\u8bed\u3002</p> <p>\"anchor\" \u662f\u9009\u62e9\u8303\u56f4\u4e2d\u56fa\u5b9a\u4e0d\u52a8\u7684\u7aef\u70b9\uff0c\u800c \"focus\" \u4e3a\u975e\u56fa\u5b9a\u7684\u7aef\u70b9\uff0c\u5728\u79fb\u52a8\u5149\u6807\u4f4d\u7f6e\u65f6\u53ef\u80fd\u79fb\u52a8\uff08\u5982\u6309\u4e0b <code>Shift + \u2192</code> \u65f6\uff09\u3002</p> <p>\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u4f60\u4e0d\u9700\u8981\u77e5\u9053\u54ea\u4e2a\u7aef\u70b9\u662f \"anchor\"\uff0c\u54ea\u4e2a\u7aef\u70b9\u53c8\u662f \"focus\"\uff0c\u53ea\u60f3\u77e5\u9053\u5b83\u4eec\u5728\u6587\u6863\u4e2d\u7684\u524d\u540e\u987a\u5e8f\u3002\u8fd9\u65f6\uff0c\u901a\u8fc7 \"start\" \u548c \"end\" \u70b9\u53ef\u4ee5\u4f7f\u7528\u5f88\u591a\u4fbf\u6377\u800c\u7b49\u6548\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002</p> <ul> <li>Properties \u5c5e\u6027</li> <li><code>anchorKey</code></li> <li><code>anchorOffset</code></li> <li><code>focusKey</code></li> <li><code>focusOffset</code></li> <li><code>isBackward</code></li> <li><code>isFocused</code></li> <li>Computed Properties \u8ba1\u7b97\u5c5e\u6027</li> <li><code>endKey</code></li> <li><code>endOffset</code></li> <li><code>isBlurred</code></li> <li><code>isCollapsed</code></li> <li><code>isExpanded</code></li> <li><code>isForward</code></li> <li><code>startKey</code></li> <li><code>startOffset</code></li> <li>Static Methods \u9759\u6001\u65b9\u6cd5</li> <li><code>Selection.create</code></li> <li><code>Selection.fromJSON</code></li> <li><code>Selection.isSelection</code></li> <li>Instance Methods \u5b9e\u4f8b\u65b9\u6cd5</li> <li><code>toJSON</code></li> <li>Checking Methods </li> <li><code>has{Edge}AtEndOf</code></li> <li><code>has{Edge}AtStartOf</code></li> <li><code>has{Edge}Between</code></li> <li><code>has{Edge}In</code></li> <li><code>isAtEndOf</code></li> <li><code>isAtStartOf</code></li> </ul>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#properties_2","title":"Properties","text":"<pre><code>Selection({\n  anchorKey: String,\n  anchorOffset: Number,\n  focusKey: String,\n  focusOffset: Number,\n  isFocused: Boolean,\n  isBackward: Boolean  \n})\n</code></pre>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#anchorkey","title":"<code>anchorKey</code>","text":"<p><code>String</code></p> <p>\u9009\u62e9\u8303\u56f4\u951a\u70b9\u6240\u5728\u6587\u672c\u8282\u70b9\u7684 key\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#anchoroffset","title":"<code>anchorOffset</code>","text":"<p><code>Number</code></p> <p>\u4ece\u9009\u62e9\u8303\u56f4\u951a\u70b9\u6240\u5728\u6587\u672c\u8282\u70b9\u5f00\u59cb\u4f4d\u7f6e\u8d77\u7684\u5b57\u7b26\u6570\u91cf\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#focuskey","title":"<code>focusKey</code>","text":"<p><code>String</code></p> <p>\u9009\u62e9\u8303\u56f4\u7126\u70b9\u6240\u5728\u6587\u672c\u8282\u70b9\u7684 key\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#focusoffset","title":"<code>focusOffset</code>","text":"<p><code>Number</code></p> <p>\u4ece\u9009\u62e9\u8303\u56f4\u7126\u70b9\u6240\u5728\u6587\u672c\u8282\u70b9\u5f00\u59cb\u4f4d\u7f6e\u8d77\u7684\u5b57\u7b26\u6570\u91cf\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#isbackward","title":"<code>isBackward</code>","text":"<p><code>Boolean</code></p> <p>\u9009\u62e9\u8303\u56f4\u662f\u5426\u53cd\u5411\u3002\u82e5\u9009\u62e9\u8303\u56f4\u7126\u70b9\u5728\u6587\u6863\u4e2d\u4f4d\u7f6e\u51fa\u73b0\u4e8e\u951a\u70b9\u524d\uff0c\u5219\u8ba4\u4e3a\u5176\u3010\u53cd\u5411\u3011\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#isfocused","title":"<code>isFocused</code>","text":"<p><code>Boolean</code></p> <p>\u9009\u62e9\u8303\u56f4\u662f\u5426\u5177\u6709\u7126\u70b9\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#computed-properties_1","title":"Computed Properties","text":"<p>\u5728\u521b\u5efa\u9009\u62e9\u8303\u56f4\u65f6\u5e76\u4e0d\u63d0\u4f9b\u8fd9\u4e9b\u5c5e\u6027\uff0c\u5b83\u4eec\u662f\u901a\u8fc7\u771f\u5b9e\u5c5e\u6027\u8ba1\u7b97\u5f97\u51fa\u7684\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#isblurred","title":"<code>isBlurred</code>","text":"<p><code>Boolean</code></p> <p>\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4e0e <code>isFocused</code> \u76f8\u53cd\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#iscollapsed","title":"<code>isCollapsed</code>","text":"<p><code>Boolean</code></p> <p>\u9009\u62e9\u8303\u56f4\u662f\u5426\u6536\u7f29\u3002\u5f53\u9009\u62e9\u8303\u56f4\u4e2d\u951a\u70b9\u4e0e\u7126\u70b9\u76f8\u7b49\u65f6\u8ba4\u4e3a\u5176\u3010\u6536\u7f29\u3011\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#isexpanded","title":"<code>isExpanded</code>","text":"<p><code>Boolean</code></p> <p>\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4e0e <code>isExpanded</code> \u76f8\u53cd\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#isforward","title":"<code>isForward</code>","text":"<p><code>Boolean</code></p> <p>\u4e3a\u65b9\u4fbf\u8d77\u89c1\uff0c\u4e0e <code>isBackward</code> \u76f8\u53cd\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#startkey","title":"<code>startKey</code>","text":""},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#startoffset","title":"<code>startOffset</code>","text":""},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#endkey","title":"<code>endKey</code>","text":""},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#endoffset","title":"<code>endOffset</code>","text":"<p>\u7528\u4e8e\u8bbf\u95ee\u9009\u62e9\u8303\u56f4\u9996\u5c3e\u4f4d\u7f6e\u7684\u82e5\u5e72\u4fbf\u6377\u5c5e\u6027\u3002\u5f53\u9009\u62e9\u8303\u56f4\u4e3a\u524d\u5411\u65f6\uff0c<code>start</code> \u6307\u5411 <code>anchor</code> \u7aef\u70b9\uff0c<code>end</code> \u6307\u5411 <code>focus</code> \u7aef\u70b9\u3002\u5f53\u9009\u62e9\u8303\u56f4\u4e3a\u540e\u5411\u65f6\u5219\u76f8\u53cd\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#static-methods_1","title":"Static Methods","text":""},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#selectioncreate","title":"<code>Selection.create</code>","text":"<p><code>Selection.create(properties: Object) =&gt; Selection</code></p> <p>\u4f7f\u7528 <code>properties</code> \u521b\u5efa\u65b0 <code>Selection</code> \u5b9e\u4f8b\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#selectionfromjson","title":"<code>Selection.fromJSON</code>","text":"<p><code>Selection.fromJSON(object: Object) =&gt; Selection</code></p> <p>\u7531 JSON <code>object</code> \u521b\u5efa\u9009\u62e9\u8303\u56f4\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#selectionisselection","title":"<code>Selection.isSelection</code>","text":"<p><code>Selection.isSelection(maybeSelection: Any) =&gt; Boolean</code></p> <p>\u8fd4\u56de\u4f20\u5165\u53c2\u6570\u662f\u5426\u4e3a <code>Selection</code> \u7684 boolean \u503c\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#instance-methods_1","title":"Instance Methods","text":""},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#tojson_1","title":"<code>toJSON</code>","text":"<p><code>toJSON() =&gt; Object</code></p> <p>\u8fd4\u56de\u9009\u62e9\u8303\u56f4\u7684 JSON \u8868\u793a\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#checking-methods","title":"Checking Methods","text":""},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#hasedgeatstartof","title":"<code>has{Edge}AtStartOf</code>","text":"<p><code>has{Edge}AtStartOf(node: Node) =&gt; Boolean</code></p> <p>\u5224\u65ad\u9009\u62e9\u8303\u56f4\u662f\u5426\u6709\u4f4d\u4e8e <code>node</code> \u5f00\u59cb\u4f4d\u7f6e\u7684\u8fb9\u7f18\u3002<code>{Edge}</code> \u53ef\u4e3a <code>Anchor</code>\u3001<code>Focus</code>\u3001<code>Start</code>\u3001<code>End</code> \u6216 <code>Edge</code>\uff08\u5bf9\u5e94\u5176\u4e2d\u4efb\u4e00\u7aef\u70b9\uff09\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#hasedgeatendof","title":"<code>has{Edge}AtEndOf</code>","text":"<p><code>has{Edge}AtEndOf(node: Node) =&gt; Boolean</code></p> <p>\u5224\u65ad\u9009\u62e9\u8303\u56f4\u662f\u5426\u6709\u4f4d\u4e8e <code>node</code> \u7ed3\u675f\u4f4d\u7f6e\u7684\u8fb9\u7f18\u3002<code>{Edge}</code> \u53ef\u4e3a <code>Anchor</code>\u3001<code>Focus</code>\u3001<code>Start</code>\u3001<code>End</code> \u6216 <code>Edge</code>\uff08\u5bf9\u5e94\u5176\u4e2d\u4efb\u4e00\u7aef\u70b9\uff09\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#hasedgebetween","title":"<code>has{Edge}Between</code>","text":"<p><code>has{Edge}Between(node: Node, start: Number, end: Number) =&gt; Boolean</code></p> <p>\u5224\u65ad\u9009\u62e9\u8303\u56f4\u662f\u5426\u6709\u4f4d\u4e8e <code>node</code> \u4e2d <code>start</code> \u4e0e <code>end</code> \u4e4b\u95f4\u4f4d\u7f6e\u7684\u8fb9\u7f18\u3002<code>{Edge}</code> \u53ef\u4e3a <code>Anchor</code>\u3001<code>Focus</code>\u3001<code>Start</code>\u3001<code>End</code> \u6216 <code>Edge</code>\uff08\u5bf9\u5e94\u5176\u4e2d\u4efb\u4e00\u7aef\u70b9\uff09\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#hasedgein","title":"<code>has{Edge}In</code>","text":"<p><code>has{Edge}In(node: Node) =&gt; Boolean</code></p> <p>\u5224\u65ad\u9009\u62e9\u8303\u56f4\u662f\u5426\u6709\u4f4d\u4e8e <code>node</code> \u5185\u4f4d\u7f6e\u7684\u8fb9\u7f18\u3002<code>{Edge}</code> \u53ef\u4e3a <code>Anchor</code>\u3001<code>Focus</code>\u3001<code>Start</code>\u3001<code>End</code> \u6216 <code>Edge</code>\uff08\u5bf9\u5e94\u5176\u4e2d\u4efb\u4e00\u7aef\u70b9\uff09\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#isatstartof","title":"<code>isAtStartOf</code>","text":"<p><code>isAtStartOf(node: Node) =&gt; Boolean</code></p> <p>\u5224\u65ad\u9009\u62e9\u8303\u56f4\u662f\u5426\u4f4d\u4e8e <code>node</code> \u5f00\u59cb\u4f4d\u7f6e\u3002</p>"},{"location":"third-part-lib/slate/slate-old-API/slate%20core/#isatendof","title":"<code>isAtEndOf</code>","text":"<p><code>isAtEndOf(node: Node) =&gt; Boolean</code></p> <p>\u5224\u65ad\u9009\u62e9\u8303\u56f4\u662f\u5426\u4f4d\u4e8e <code>node</code> \u7ed3\u675f\u4f4d\u7f6e\u3002</p>"},{"location":"third-part-lib/webRTC/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%B0%83%E7%94%A8%E6%89%8B%E6%9C%BA%E6%91%84%E5%83%8F%E5%A4%B4%E6%89%AB%E6%8F%8F%E4%BA%8C%E7%BB%B4%E7%A0%81/","title":"\u79fb\u52a8\u7aef\u8c03\u7528\u6444\u50cf\u5934\u626b\u7801","text":"<p>\u7edf\u8ba1\u4fe1\u606f\uff1a\u5b57\u6570 4653  \u9605\u8bfb10\u5206\u949f</p>"},{"location":"third-part-lib/webRTC/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%B0%83%E7%94%A8%E6%89%8B%E6%9C%BA%E6%91%84%E5%83%8F%E5%A4%B4%E6%89%AB%E6%8F%8F%E4%BA%8C%E7%BB%B4%E7%A0%81/#_2","title":"\u57fa\u672c\u6280\u672f\u548c\u6982\u5ff5","text":""},{"location":"third-part-lib/webRTC/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%B0%83%E7%94%A8%E6%89%8B%E6%9C%BA%E6%91%84%E5%83%8F%E5%A4%B4%E6%89%AB%E6%8F%8F%E4%BA%8C%E7%BB%B4%E7%A0%81/#webrtc","title":"webrtc","text":"<p><code>WebRTC (Web Real-Time Communications)</code> \u662f\u4e00\u9879\u5b9e\u65f6\u901a\u8baf\u6280\u672f\uff0c\u5b83\u5141\u8bb8\u7f51\u7edc\u5e94\u7528\u6216\u8005\u7ad9\u70b9\uff0c\u5728\u4e0d\u501f\u52a9\u4e2d\u95f4\u5a92\u4ecb\u7684\u60c5\u51b5\u4e0b\uff0c\u5efa\u7acb\u6d4f\u89c8\u5668\u4e4b\u95f4\u70b9\u5bf9\u70b9\uff08<code>Peer-to-Peer</code>\uff09\u7684\u8fde\u63a5\uff0c\u5b9e\u73b0\u89c6\u9891\u6d41\u548c\uff08\u6216\uff09\u97f3\u9891\u6d41\u6216\u8005\u5176\u4ed6\u4efb\u610f\u6570\u636e\u7684\u4f20\u8f93\u3002<code>WebRTC</code>\u5305\u542b\u7684\u8fd9\u4e9b\u6807\u51c6\u4f7f\u7528\u6237\u5728\u65e0\u9700\u5b89\u88c5\u4efb\u4f55\u63d2\u4ef6\u6216\u8005\u7b2c\u4e09\u65b9\u7684\u8f6f\u4ef6\u7684\u60c5\u51b5\u4e0b\uff0c\u521b\u5efa\u70b9\u5bf9\u70b9\uff08<code>Peer-to-Peer</code>\uff09\u7684\u6570\u636e\u5206\u4eab\u548c\u7535\u8bdd\u4f1a\u8bae\u6210\u4e3a\u53ef\u80fd\u3002</p> <p>\u626b\u7801\uff1a\u4f7f\u7528 webRTC \u6280\u672f\uff0c\u901a\u8fc7\u6d4f\u89c8\u5668\u6253\u5f00\u79fb\u52a8\u7aef\u7684\u6444\u50cf\u5934\uff0c\u8fdb\u884c\u626b\u7801\uff0c\u5e76\u5c06\u626b\u7801\u7ed3\u679c\u8fd4\u56de\u5230 JS \u4e2d\u3002</p> <p>\u89c6\u9891\u901a\u8bdd\uff1a\u4f7f\u7528 web-socket \u6280\u672f\u548c webRTC \u6280\u672f\uff0c\u5b9e\u73b0\u89c6\u9891\u901a\u8bdd\u3002</p> <p>\u672c\u6587\u6863\u4f7f\u7528\u7b2c\u4e00\u79cd\u529f\u80fd\uff0c\u524d\u7aef\u5728\u79fb\u52a8\u7aef\u5b9e\u73b0\u626b\u7801\u529f\u80fd\u3002</p>"},{"location":"third-part-lib/webRTC/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%B0%83%E7%94%A8%E6%89%8B%E6%9C%BA%E6%91%84%E5%83%8F%E5%A4%B4%E6%89%AB%E6%8F%8F%E4%BA%8C%E7%BB%B4%E7%A0%81/#webrtc-adapter","title":"webrtc-adapter","text":"<p>\u7b2c\u4e09\u65b9\u5e93 webrtc-adapter \u662f\u4e00\u4e2a\u57ab\u7247\uff0c\u7528\u4e8e\u5904\u7406\u6d4f\u89c8\u5668 webRTC \u517c\u5bb9\u6027\u3002</p> <p>WebRTC adapter https://www.npmjs.com/package/webrtc-adapter</p> <p>\u53ea\u9700\u8981\u5f15\u5165\u8fd9\u4e2a\u5e93\uff0c\u4e0d\u9700\u8981\u5176\u4ed6\u7684\u64cd\u4f5c\uff0cNo further action is required. </p> <pre><code>import adapter from 'webrtc-adapter';\n</code></pre>"},{"location":"third-part-lib/webRTC/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%B0%83%E7%94%A8%E6%89%8B%E6%9C%BA%E6%91%84%E5%83%8F%E5%A4%B4%E6%89%AB%E6%8F%8F%E4%BA%8C%E7%BB%B4%E7%A0%81/#zxing","title":"ZXing","text":"<p>ZXing\uff08\u201c\u6591\u9a6c\u7ebf\u201d\uff09\u662f1D/2D\u6761\u5f62\u7801\u56fe\u50cf\u5904\u7406\u5e93: https://github.com/zxing-js/library\uff0c\u5b98\u65b9\u6848\u4f8b\u662f TS \u7684</p> <p>\u6848\u4f8b\u89c1\u4e24\u4e2a html\uff0cqr-camera.html \u53ef\u4ee5\u5b8c\u6574\u4f7f\u7528\uff0c bar-image.html \u7f3a\u5c11\u56fe\u7247</p>"},{"location":"third-part-lib/webRTC/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%B0%83%E7%94%A8%E6%89%8B%E6%9C%BA%E6%91%84%E5%83%8F%E5%A4%B4%E6%89%AB%E6%8F%8F%E4%BA%8C%E7%BB%B4%E7%A0%81/#react","title":"React \u5177\u4f53\u5b9e\u73b0","text":"<pre><code>import React from 'react';\nimport 'webrtc-adapter';\nimport { BrowserMultiFormatReader } from '@zxing/library';\nimport { Modal } from 'antd-mobile';\n\nexport default class Camera extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.codeReader = new BrowserMultiFormatReader();\n  }\n\n  componentDidMount() {\n    this.initCamera();\n  }\n\n  initCamera = () =&gt; {\n    this.codeReader.listVideoInputDevices().then((videoInputDevices) =&gt; {\n      // \u8fd9\u91cc\u4f7f\u7528\u9ed8\u8ba4\u7684\u6444\u50cf\u5934 undefined\n      this.codeReader.decodeFromVideoDevice(undefined, 'video', (result, err) =&gt; {\n        // \u7ed9\u626b\u63cf\u5bf9\u8c61\u589e\u52a0\u52a8\u753b\u6548\u679c\n        if (!this.scanRef.style.animation) {\n          this.scanRef.style.animation = 'scanCode 3s linear infinite';\n        }\n        // \u6709\u7ed3\u679c\u540e\uff0c\u628a\u626b\u7801\u7684\u7ed3\u679c\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u8fd4\u56de\n        if (result) {\n          this.props.changeInputValue(result.text);\n        }\n      });\n    }).catch(() =&gt; {\n      console.log('Failed to turn on camera');\n    });\n  }\n\n  onCloseCamera = () =&gt; {\n    this.codeReader.reset();\n  }\n\n  render() {\n    return(\n      &lt;Modal\n        onClose={this.props.onClose}\n        transparent\n        visible={true}\n        className=\"mobile-custom-camera\"\n      &gt;\n        &lt;div className=\"custom-scan-container\"&gt;\n          {/* \u4e0a\u9762\u663e\u793a\u5f53\u524d\u7684\u89c6\u9891\u6548\u679c\uff0c\u5e76\u8fdb\u884c\u626b\u7801 */}\n          &lt;video\n            id=\"video\"\n            width=\"300\"\n            height=\"200\"\n          &gt;&lt;/video&gt;\n          {/* \u4e0b\u9762\u662f\u4e00\u4e2a\u7528\u4e8e\u626b\u7801\u7684\u52a8\u753b\u6548\u679c\uff0c\u4e00\u4e2a\u7ebf\u4e0a\u4e0b\u79fb\u52a8 */}\n          &lt;div className=\"custom-camera-line\" ref={ref =&gt; this.scanRef = ref}&gt;&lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/Modal&gt;\n    );\n  }\n}\n</code></pre> <p>\u5bf9\u5e94\u7684 CSS</p> <pre><code>.camera-auto-fill-value {\n  position: absolute;\n  top: 9px;\n  right: 6px;\n  cursor: pointer;\n  color: #999;\n  background: #fff;\n  display: flex;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n}\n\n.mobile-custom-camera {\n  width: 310px;\n}\n\n.mobile-custom-camera .am-modal-content {\n  padding-top: 0;\n  width: 310px;\n}\n\n.mobile-custom-camera .am-modal-content .am-modal-body {\n  padding: 0;\n  line-height: 1;\n  height: 210px;\n  overflow: hidden;\n}\n\n.mobile-custom-camera .custom-scan-container {\n  height: 210px;\n  width: 310px;\n  background: linear-gradient(#ddd, #ddd) left top,\n    linear-gradient(#ddd, #ddd) left top,\n    linear-gradient(#ddd, #ddd) right top,\n    linear-gradient(#ddd, #ddd) right top,\n    linear-gradient(#ddd, #ddd) right bottom,\n    linear-gradient(#ddd, #ddd) right bottom,\n    linear-gradient(#ddd, #ddd) left bottom,\n    linear-gradient(#ddd, #ddd) left bottom;\n  background-color: rgba(0,0,0,.4);\n  background-repeat: no-repeat;\n  background-size: 5px 50px, 50px 5px;\n}\n\n.mobile-custom-camera .custom-scan-container&gt;video {\n  background: #fff;\n  margin-top: 5px;\n  object-fit: fill;\n}\n/* \u8fd9\u662f\u52a8\u753b\u7ebf\u6bb5\u7684\u6837\u5f0f */\n.mobile-custom-camera .custom-camera-line {\n  position: absolute;\n  width: 80%;\n  left: 10%;\n  border: 1px solid #ddd;\n  top: -2px;\n}\n\n@keyframes scanCode {\n  from {\n    top: 0;\n  }\n  to {\n    top: 200px;\n  }\n}\n</code></pre>"},{"location":"third-part-lib/webRTC/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%B0%83%E7%94%A8%E6%89%8B%E6%9C%BA%E6%91%84%E5%83%8F%E5%A4%B4%E6%89%AB%E6%8F%8F%E4%BA%8C%E7%BB%B4%E7%A0%81/#_3","title":"\u53c2\u8003\u94fe\u63a5","text":"<p>Vue \u79fb\u52a8\u7aef\u5b9e\u73b0\u8c03\u7528\u76f8\u673a\u626b\u63cf\u4e8c\u7ef4\u7801 https://blog.csdn.net/weixin_41856395/article/details/120597131</p> <p>WebRTC \u4ece\u5b9e\u6218\u5230\u672a\u6765 https://juejin.cn/post/7151932832041058340</p>"}]}