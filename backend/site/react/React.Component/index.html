
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="Michael An">
      
      
        <link rel="canonical" href="https://michael18811380328.github.io/react/React.Component/">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.8">
    
    
      
        <title>React.Component - Michale An Blog</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.cb6bc1d0.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.39b8e14a.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#reactcomponent" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://michael18811380328.github.io/" title="Michale An Blog" class="md-header-nav__button md-logo" aria-label="Michale An Blog">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            Michale An Blog
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              React.Component
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/Michael18811380328/Michael18811380328.github.io/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Michael18811380328/Michael18811380328.github.io
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://michael18811380328.github.io/" title="Michale An Blog" class="md-nav__button md-logo" aria-label="Michale An Blog">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Michale An Blog
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/Michael18811380328/Michael18811380328.github.io/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Michael18811380328/Michael18811380328.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        介绍
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" >
      
      <label class="md-nav__link" for="nav-2">
        NodeJS
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="NodeJS" data-md-level="1">
        <label class="md-nav__title" for="nav-2">
          <span class="md-nav__icon md-icon"></span>
          NodeJS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1" type="checkbox" id="nav-2-1" >
      
      <label class="md-nav__link" for="nav-2-1">
        基础
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="基础" data-md-level="2">
        <label class="md-nav__title" for="nav-2-1">
          <span class="md-nav__icon md-icon"></span>
          基础
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/01-Node.js%20%E6%95%99%E7%A8%8B/" class="md-nav__link">
        01-Node.js 教程.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/02-Node.js%20%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        02-Node.js 安装配置.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/03-Node.js%20%E5%88%9B%E5%BB%BA%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%BA%94%E7%94%A8/" class="md-nav__link">
        03-Node.js 创建第一个应用.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/05-Node.js%20REPL%28%E4%BA%A4%E4%BA%92%E5%BC%8F%E8%A7%A3%E9%87%8A%E5%99%A8%29/" class="md-nav__link">
        05-Node.js REPL(交互式解释器).md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/06-Node.js%20%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0/" class="md-nav__link">
        06-Node.js 回调函数.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/07-Node.js%20%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/" class="md-nav__link">
        07-Node.js 事件循环.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/08-Node.js%20EventEmitter/" class="md-nav__link">
        08-Node.js EventEmitter.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/09-Node.js%20Buffer%28%E7%BC%93%E5%86%B2%E5%8C%BA%29/" class="md-nav__link">
        09-Node.js Buffer(缓冲区).md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/10-Node.js%20Stream%28%E6%B5%81%29/" class="md-nav__link">
        10-Node.js Stream(流).md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/11-Node.js%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        11-Node.js模块系统.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/12-Node.js%20%E5%87%BD%E6%95%B0/" class="md-nav__link">
        12-Node.js 函数.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/13-Node.js%20%E8%B7%AF%E7%94%B1/" class="md-nav__link">
        13-Node.js 路由.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/14-Node.js%20%E5%85%A8%E5%B1%80%E5%AF%B9%E8%B1%A1/" class="md-nav__link">
        14-Node.js 全局对象.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/15-Node.js%20%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/" class="md-nav__link">
        15-Node.js 常用工具.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/16-Node.js%20%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        16-Node.js 文件系统.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/17-Node.js%20GETPOST%E8%AF%B7%E6%B1%82/" class="md-nav__link">
        17-Node.js GETPOST请求.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/18-Node.js%20%E5%B7%A5%E5%85%B7%E6%A8%A1%E5%9D%97/" class="md-nav__link">
        18-Node.js 工具模块.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/19-Node.js%20Web%20%E6%A8%A1%E5%9D%97/" class="md-nav__link">
        19-Node.js Web 模块.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/20-Node.js%20Express%20%E6%A1%86%E6%9E%B6/" class="md-nav__link">
        20-Node.js Express 框架.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/21-Node.js%20RESTful%20API/" class="md-nav__link">
        21-Node.js RESTful API.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/22-Node.js%20%E5%A4%9A%E8%BF%9B%E7%A8%8B/" class="md-nav__link">
        22-Node.js 多进程.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/23-Node.js%20JXcore%20%E6%89%93%E5%8C%85/" class="md-nav__link">
        23-Node.js JXcore 打包.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/24-Node.js%20%E8%BF%9E%E6%8E%A5%20MySQL/" class="md-nav__link">
        24-Node.js 连接 MySQL.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/25-Node.js%20%E8%BF%9E%E6%8E%A5%20MongoDB/" class="md-nav__link">
        25-Node.js 连接 MongoDB.md
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2" >
      
      <label class="md-nav__link" for="nav-2-2">
        高级
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="高级" data-md-level="2">
        <label class="md-nav__title" for="nav-2-2">
          <span class="md-nav__icon md-icon"></span>
          高级
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/Node%20%E4%B8%8B%20LDAP%20%E5%AE%9E%E7%8E%B0/" class="md-nav__link">
        Node 下 LDAP 实现.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/Node.js-fs%E6%96%87%E6%A1%A3/" class="md-nav__link">
        Node.js-fs文档.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/Node.js-path/" class="md-nav__link">
        Node.js-path.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/Node.js-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/" class="md-nav__link">
        Node.js-全局变量.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/Node.js%E4%BD%BF%E7%94%A8Nodemailer%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/" class="md-nav__link">
        Node.js使用 Nodemailer 发送邮件.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/NodeJS/" class="md-nav__link">
        NodeJS.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/node-debug/" class="md-nav__link">
        node-debug.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/nodeJS%20%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/" class="md-nav__link">
        nodeJS 基础教程.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/nodeJS%2Bmysql%2B%E8%BF%9E%E6%8E%A5%E6%B1%A0/" class="md-nav__link">
        nodeJS+mysql+连接池.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/nodejs%20api%E5%AD%A6%E4%B9%A0%EF%BC%9Afs.createReadStreame%28%29/" class="md-nav__link">
        nodejs api学习：fs.createReadStreame().md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/node%E5%AE%9A%E6%97%B6%E5%99%A8/" class="md-nav__link">
        node定时器.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/%E4%BD%BF%E7%94%A8nodejs%E8%BF%9E%E6%8E%A5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E7%8E%B0%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/" class="md-nav__link">
        使用nodejs连接mysql数据库实现增删改查.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/%E5%BB%96%E9%9B%AA%E5%B3%B0%20NodeJS/" class="md-nav__link">
        廖雪峰 NodeJS.md
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../nodejs/%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9A%84nodeJS/" class="md-nav__link">
        命令行的nodeJS.md
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
      
      <label class="md-nav__link" for="nav-3">
        SQL
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="SQL" data-md-level="1">
        <label class="md-nav__title" for="nav-3">
          <span class="md-nav__icon md-icon"></span>
          SQL
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../SQL/%E9%98%BF%E9%87%8C%E4%BA%91MySQL%E5%85%A5%E9%97%A8/" class="md-nav__link">
        阿里云MySQL入门
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../SQL/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E5%BF%B5/" class="md-nav__link">
        数据库概念
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../SQL/%E6%B7%B1%E5%85%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/" class="md-nav__link">
        深入MySQL数据库
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../SQL/Mac%20pip%20install%20mysql-python%20unsuccessful/" class="md-nav__link">
        Mac pip install mysql-python unsuccessful
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../SQL/Mac%E5%AE%89%E8%A3%85MySQLdb%EF%BC%88python-mysql%EF%BC%89%E6%A8%A1%E5%9D%97/" class="md-nav__link">
        Mac 安装 MySQLdb（python-mysql）模块
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../SQL/Python%E6%93%8D%E4%BD%9C%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/" class="md-nav__link">
        Python 操作 MySQL数据库
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../SQL/SQLite-API-Python/" class="md-nav__link">
        SQLite-API-Python
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
      
      <label class="md-nav__link" for="nav-4">
        python
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="python" data-md-level="1">
        <label class="md-nav__title" for="nav-4">
          <span class="md-nav__icon md-icon"></span>
          python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../python/django-basic/" class="md-nav__link">
        django-basic
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../python/django/" class="md-nav__link">
        django
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../python/falsk%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/" class="md-nav__link">
        flask快速开始
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../python/flask%20%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82/" class="md-nav__link">
        flask 网易云课堂
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../python/%E5%AE%89%E8%A3%85pandas%E6%97%B6%E5%87%BA%E7%8E%B0%E7%8E%AF%E5%A2%83%E9%94%99%E8%AF%AF/" class="md-nav__link">
        安装pandas时出现环境错误
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../python/%E6%90%AD%E5%BB%BApython3%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/" class="md-nav__link">
        搭建python3开发环境
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../python/%E3%80%90%E8%A7%A3%E5%86%B3%E3%80%91ValueError%20Length%20mismatch%20Expected%20axis%20has%200%20elements%2C%20new%20values%20have%202%20elements/" class="md-nav__link">
        ValueError Length mismatch Expected axis has 0 elements, new values have 2 elements
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../python/ERROR%20No%20matching%20distribution%20found%20for%20Django%3D%3D3.0.2%20%28from%20-r%20requirements.txt%20%28line%204%29%29/" class="md-nav__link">
        ERROR No matching distribution found for Django==3.0.2 (from -r requirements.txt (line 4))
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
      
      <label class="md-nav__link" for="nav-5">
        About
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="nav-5">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        关于我
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/log/" class="md-nav__link">
        学习日志
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    概览
  </a>
  
    <nav class="md-nav" aria-label="概览">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    组件生命周期
  </a>
  
    <nav class="md-nav" aria-label="组件生命周期">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    装配
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    更新
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    卸载
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    错误处理
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    其他API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    类属性
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    实例属性
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    参考
  </a>
  
    <nav class="md-nav" aria-label="参考">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#render" class="md-nav__link">
    render()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constructor" class="md-nav__link">
    constructor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#static-getderivedstatefromprops" class="md-nav__link">
    static getDerivedStateFromProps()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unsafe_componentwillmount" class="md-nav__link">
    UNSAFE_componentWillMount()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componentdidmount" class="md-nav__link">
    componentDidMount()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unsafe_componentwillreceiveprops" class="md-nav__link">
    UNSAFE_componentWillReceiveProps()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shouldcomponentupdate" class="md-nav__link">
    shouldComponentUpdate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unsafe_componentwillupdate" class="md-nav__link">
    UNSAFE_componentWillUpdate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getsnapshotbeforeupdate" class="md-nav__link">
    getSnapshotBeforeUpdate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componentdidupdate" class="md-nav__link">
    componentDidUpdate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componentwillunmount" class="md-nav__link">
    componentWillUnmount()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componentdidcatch" class="md-nav__link">
    componentDidCatch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setstate" class="md-nav__link">
    setState()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#forceupdate" class="md-nav__link">
    forceUpdate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    类属性
  </a>
  
    <nav class="md-nav" aria-label="类属性">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defaultprops" class="md-nav__link">
    defaultProps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#displayname" class="md-nav__link">
    displayName
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    实例属性
  </a>
  
    <nav class="md-nav" aria-label="实例属性">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#props" class="md-nav__link">
    props
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#state" class="md-nav__link">
    state
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Michael18811380328/Michael18811380328.github.io/edit/master/docs/react/React.Component.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="reactcomponent">React.Component<a class="headerlink" href="#reactcomponent" title="Permanent link">&para;</a></h1>
<p><a href="https://react.docschina.org/docs/components-and-props.html">组件</a> 能够让你将UI分割成独立的、可重用的部分，并对每一部分单独考量。<a href="https://react.docschina.org/docs/react-api.html"><code>React</code></a>提供了<code>React.Component</code> 。</p>
<h2 id="_1">概览<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p><code>React.Component</code>是一个抽象基础类，因此直接引用<code>React.Component</code>几乎没意义。相反，你通常会继承自它，并至少定义一个<a href="https://react.docschina.org/docs/react-component.html#render"><code>render()</code></a>方法。</p>
<p>通常你定义一个React组件相当于一个纯<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Classes">JavaScript类</a>：</p>
<div class="highlight"><pre><span></span><code>class Greeting extends React.Component {
  render() {
    return &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;;
  }
}
</code></pre></div>
<p>若你仍未使用 ES6，你可以使用 <a href="https://react.docschina.org/docs/react-api.html#createclass"><code>create-react-class</code></a>模块。</p>
<h3 id="_2">组件生命周期<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>每一个组件都有几个你可以重写以让代码在处理环节的特定时期运行的“生命周期方法”。方法中带有前缀 <strong>will</strong> 的在特定环节之前被调用，而带有前缀 <strong>did</strong> 的方法则会在特定环节之后被调用。</p>
<h4 id="_3">装配<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<p>这些方法会在组件实例被创建和插入DOM中时被调用：</p>
<ul>
<li><a href="https://react.docschina.org/docs/react-component.html#constructor"><code>constructor()</code></a></li>
<li><a href="https://react.docschina.org/docs/react-component.html#static-getderivedstatefromprops"><code>static getDerivedStateFromProps()</code></a></li>
<li><a href="https://react.docschina.org/docs/react-component.html#unsafe_componentwillmount"><code>componentWillMount()</code> / <code>UNSAFE_componentWillMount()</code></a></li>
<li><a href="https://react.docschina.org/docs/react-component.html#render"><code>render()</code></a></li>
<li><a href="https://react.docschina.org/docs/react-component.html#componentdidmount"><code>componentDidMount()</code></a></li>
</ul>
<h4 id="_4">更新<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<p>属性或状态的改变会触发一次更新。当一个组件在被重渲时，这些方法将会被调用：</p>
<ul>
<li><a href="https://react.docschina.org/docs/react-component.html#unsafe_componentwillreceiveprops"><code>componentWillReceiveProps()</code> / <code>UNSAFE_componentWillReceiveProps()</code></a></li>
<li><a href="https://react.docschina.org/docs/react-component.html#static-getderivedstatefromprops"><code>static getDerivedStateFromProps()</code></a></li>
<li><a href="https://react.docschina.org/docs/react-component.html#shouldcomponentupdate"><code>shouldComponentUpdate()</code></a></li>
<li><a href="https://react.docschina.org/docs/react-component.html#unsafe_componentwillupdate"><code>componentWillUpdate()</code> / <code>UNSAFE_componentWillUpdate()</code></a></li>
<li><a href="https://react.docschina.org/docs/react-component.html#render"><code>render()</code></a></li>
<li><a href="https://react.docschina.org/docs/react-component.html#getsnapshotbeforeupdate"><code>getSnapshotBeforeUpdate()</code></a></li>
<li><a href="https://react.docschina.org/docs/react-component.html#componentdidupdate"><code>componentDidUpdate()</code></a></li>
</ul>
<h4 id="_5">卸载<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<p>当一个组件被从DOM中移除时，该方法被调用：</p>
<ul>
<li><a href="https://react.docschina.org/docs/react-component.html#componentwillunmount"><code>componentWillUnmount()</code></a></li>
</ul>
<h4 id="_6">错误处理<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h4>
<p>在渲染过程中发生错误时会被调用：</p>
<ul>
<li><a href="https://react.docschina.org/docs/react-component.html#componentdidcatch"><code>componentDidCatch()</code></a></li>
</ul>
<h3 id="api">其他API<a class="headerlink" href="#api" title="Permanent link">&para;</a></h3>
<p>每一个组件还提供了其他的API：</p>
<ul>
<li><a href="https://react.docschina.org/docs/react-component.html#setstate"><code>setState()</code></a></li>
<li><a href="https://react.docschina.org/docs/react-component.html#forceupdate"><code>forceUpdate()</code></a></li>
</ul>
<h3 id="_7">类属性<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://react.docschina.org/docs/react-component.html#defaultprops"><code>defaultProps</code></a></li>
<li><a href="https://react.docschina.org/docs/react-component.html#displayname"><code>displayName</code></a></li>
</ul>
<h3 id="_8">实例属性<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://react.docschina.org/docs/react-component.html#props"><code>props</code></a></li>
<li><a href="https://react.docschina.org/docs/react-component.html#state"><code>state</code></a></li>
</ul>
<hr />
<h2 id="_9">参考<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<h3 id="render"><code>render()</code><a class="headerlink" href="#render" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>render()
</code></pre></div>
<p><code>render()</code>方法是必须的。</p>
<p>当被调用时，其应该检查<code>this.props</code> 和 <code>this.state</code>并返回以下类型中的一个:</p>
<ul>
<li><strong>React元素。</strong> 通常是由 JSX 创建。该元素可能是一个原生DOM组件的表示，如<code>&lt;div /&gt;</code>，或者是一个你定义的合成组件。</li>
<li><strong>字符串和数字。</strong> 这些将被渲染为 DOM 中的 text node。</li>
<li><strong>Portals。</strong> 由 <a href="https://react.docschina.org/docs/portals.html"><code>ReactDOM.createPortal</code></a> 创建。</li>
<li><code>null</code>。 什么都不渲染。</li>
<li><strong>布尔值。</strong> 什么都不渲染。（通常存在于 <code>return test &amp;&amp; &lt;Child /&gt;</code>写法，其中 <code>test</code> 是布尔值。）</li>
</ul>
<p>当返回<code>null</code> 或 <code>false</code>时，<code>ReactDOM.findDOMNode(this)</code> 将返回 <code>null</code>。</p>
<p><code>render()</code>函数应该纯净，意味着其不应该改变组件的状态，其每次调用都应返回相同的结果，同时不直接和浏览器交互。若需要和浏览器交互，将任务放在<code>componentDidMount()</code>阶段或其他的生命周期方法。保持<code>render()</code> 方法纯净使得组件更容易思考。</p>
<blockquote>
<p>注意</p>
<p>若 <a href="https://react.docschina.org/docs/react-component.html#shouldcomponentupdate"><code>shouldComponentUpdate()</code></a>返回false，<code>render()</code>函数将不会被调用。</p>
</blockquote>
<h3 id="constructor"><code>constructor()</code><a class="headerlink" href="#constructor" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>constructor(props)
</code></pre></div>
<p>React组件的构造函数将会在装配之前被调用。当为一个<code>React.Component</code>子类定义构造函数时，你应该在任何其他的表达式之前调用<code>super(props)</code>。否则，<code>this.props</code>在构造函数中将是未定义，并可能引发异常。</p>
<p>构造函数是初始化状态的合适位置。若你不初始化状态且不绑定方法，那你也不需要为你的React组件定义一个构造函数。</p>
<p>可以基于属性来初始化状态。这样有效地“分离（forks）”属性并根据初始属性设置状态。这有一个有效的<code>React.Component</code>子类构造函数的例子：</p>
<div class="highlight"><pre><span></span><code>constructor(props) {
  super(props);
  this.state = {
    color: props.initialColor
  };
}
</code></pre></div>
<p>当心这种模式，因为状态将不会随着属性的更新而更新。保证属性和状态同步，你通常想要<a href="https://react.docschina.org/docs/lifting-state-up.html">状态提升</a>。</p>
<p>若你通过使用它们为状态“分离”属性，你可能也想要实现<a href="https://react.docschina.org/docs/react-component.html#componentwillreceiveprops"><code>UNSAFE_componentWillReceiveProps(nextProps)</code></a>以保持最新的状态。但状态提升通常来说更容易以及更少的异常。</p>
<h3 id="static-getderivedstatefromprops"><code>static getDerivedStateFromProps()</code><a class="headerlink" href="#static-getderivedstatefromprops" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>static getDerivedStateFromProps(nextProps, prevState)
</code></pre></div>
<p>组件实例化后和接受新属性时将会调用<code>getDerivedStateFromProps</code>。它应该返回一个对象来更新状态，或者返回null来表明新属性不需要更新任何状态。</p>
<p>注意，如果父组件导致了组件的重新渲染，即使属性没有更新，这一方法也会被调用。如果你只想处理变化，你可能想去比较新旧值。</p>
<p>调用<code>this.setState()</code> 通常不会触发 <code>getDerivedStateFromProps()</code>。</p>
<h3 id="unsafe_componentwillmount"><code>UNSAFE_componentWillMount()</code><a class="headerlink" href="#unsafe_componentwillmount" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>UNSAFE_componentWillMount()
</code></pre></div>
<p><code>UNSAFE_componentWillMount()</code>在装配发生前被立刻调用。其在<code>render()</code>之前被调用，因此在这方法里同步地设置状态将不会触发重渲。</p>
<p>避免在该方法中引入任何的副作用或订阅。对于这些使用场景，我们推荐使用<code>constructor()</code>来替代。</p>
<p>这是唯一的会在服务端渲染调起的生命周期钩子函数。</p>
<blockquote>
<p>注意</p>
<p>这一生命周期之前叫做<code>componentWillMount</code>。这一名字在17版前都有效。可以使用<a href="https://github.com/reactjs/react-codemod#rename-unsafe-lifecycles"><code>rename-unsafe-lifecycles</code> codemod</a>来自动更新你的组件。</p>
</blockquote>
<h3 id="componentdidmount"><code>componentDidMount()</code><a class="headerlink" href="#componentdidmount" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>componentDidMount()
</code></pre></div>
<p><code>componentDidMount()</code>在组件被装配后立即调用。初始化使得DOM节点应该进行到这里。若你需要从远端加载数据，这是一个适合实现网络请求的地方。在该方法里设置状态将会触发重渲。</p>
<p>这一方法是一个发起任何订阅的好地方。如果你这么做了，别忘了在<code>componentWillUnmount()</code>退订。</p>
<p>在这个方法中调用<code>setState()</code>将会触发一次额外的渲染，但是它将在浏览器刷新屏幕之前发生。这保证了即使<code>render()</code>将会调用两次，但用户不会看到中间状态。谨慎使用这一模式，因为它常导致性能问题。然而，它对于像模态框和工具提示框这样的例子是必须的。这时，在渲染依赖DOM节点的尺寸或者位置的视图前，你需要先测量这些节点。</p>
<h3 id="unsafe_componentwillreceiveprops"><code>UNSAFE_componentWillReceiveProps()</code><a class="headerlink" href="#unsafe_componentwillreceiveprops" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>UNSAFE_componentWillReceiveProps(nextProps)
</code></pre></div>
<blockquote>
<p>注意</p>
<p>推荐你使用<a href="https://react.docschina.org/docs/react-component.html#static-getderivedstatefromprops"><code>getDerivedStateFromProps</code></a>生命周期而不是<code>UNSAFE_componentWillReceiveProps</code>。</p>
</blockquote>
<p><code>UNSAFE_componentWillReceiveProps()</code>在装配了的组件接收到新属性前调用。若你需要更新状态响应属性改变（例如，重置它），你可能需对比<code>this.props</code>和<code>nextProps</code>并在该方法中使用<code>this.setState()</code>处理状态改变。</p>
<p>注意即使属性未有任何改变，React可能也会调用该方法，因此若你想要处理改变，请确保比较当前和之后的值。这可能会发生在当父组件引起你的组件重渲。</p>
<p>在 <a href="https://react.docschina.org/docs/react-component.html#mounting">装配</a>期间，React并不会调用带有初始属性的<code>UNSAFE_componentWillReceiveProps</code>方法。其仅会调用该方法如果某些组件的属性可能更新。调用<code>this.setState</code>通常不会触发<code>UNSAFE_componentWillReceiveProps</code>。</p>
<blockquote>
<p>注意</p>
<p>这一生命周期之前叫做<code>componentWillReceiveProps</code>。这一名字在17版前都有效。可以使用<a href="https://github.com/reactjs/react-codemod#rename-unsafe-lifecycles"><code>rename-unsafe-lifecycles</code> codemod</a>来自动更新你的组件。</p>
</blockquote>
<hr />
<h3 id="shouldcomponentupdate"><code>shouldComponentUpdate()</code><a class="headerlink" href="#shouldcomponentupdate" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>shouldComponentUpdate(nextProps, nextState)
</code></pre></div>
<p>使用<code>shouldComponentUpdate()</code>以让React知道当前状态或属性的改变是否不影响组件的输出。默认行为是在每一次状态的改变重渲，在大部分情况下你应该依赖于默认行为。</p>
<p>当接收到新属性或状态时，<code>shouldComponentUpdate()</code> 在渲染前被调用。默认为<code>true</code>。该方法并不会在初始化渲染或当使用<code>forceUpdate()</code>时被调用。</p>
<p>当他们状态改变时，返回<code>false</code> 并不能阻止子组件重渲。</p>
<p>当前，若<code>shouldComponentUpdate()</code>返回<code>false</code>，而后<a href="https://react.docschina.org/docs/react-component.html#componentwillupdate"><code>UNSAFE_componentWillUpdate()</code></a>，<a href="https://react.docschina.org/docs/react-component.html#render"><code>render()</code></a>， 和 <a href="https://react.docschina.org/docs/react-component.html#componentdidupdate"><code>componentDidUpdate()</code></a>将不会被调用。注意，在未来React可能会将<code>shouldComponentUpdate()</code>作为一个线索而不是一个严格指令，返回<code>false</code>可能仍然使得组件重渲。</p>
<p>在观察后，若你判定一个具体的组件很慢，你可能需要调整其从<a href="https://react.docschina.org/docs/react-api.html#react.purecomponent"><code>React.PureComponent</code></a>继承，其实现了带有浅属性和状态比较的<code>shouldComponentUpdate()</code>。若你确信想要手写，你可能需要用<code>this.props</code>和<code>nextProps</code>以及<code>this.state</code> 和 <code>nextState</code>比较，并返回<code>false</code>以告诉React更新可以被忽略。</p>
<hr />
<h3 id="unsafe_componentwillupdate"><code>UNSAFE_componentWillUpdate()</code><a class="headerlink" href="#unsafe_componentwillupdate" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>UNSAFE_componentWillUpdate(nextProps, nextState)
</code></pre></div>
<p>当接收到新属性或状态时，<code>UNSAFE_componentWillUpdate()</code>为在渲染前被立即调用。在更新发生前，使用该方法是一次准备机会。该方法不会在初始化渲染时调用。</p>
<p>注意你不能在这调用<code>this.setState()</code>，若你需要更新状态响应属性的调整，使用<a href="https://react.docschina.org/docs/react-component.html#static-getderivedstatefromprops"><code>getDerivedStateFromProps()</code></a> 代替。</p>
<blockquote>
<p>注意</p>
<p>这一生命周期之前叫做<code>componentWillUpdate</code>。这一名字在17版前都有效。可以使用<a href="https://github.com/reactjs/react-codemod#rename-unsafe-lifecycles"><code>rename-unsafe-lifecycles</code> codemod</a>来自动更新你的组件。</p>
<p>注意</p>
<p>若<a href="https://react.docschina.org/docs/react-component.html#shouldcomponentupdate"><code>shouldComponentUpdate()</code></a>返回false，<code>UNSAFE_componentWillUpdate()</code>将不会被调用。</p>
</blockquote>
<hr />
<h3 id="getsnapshotbeforeupdate"><code>getSnapshotBeforeUpdate()</code><a class="headerlink" href="#getsnapshotbeforeupdate" title="Permanent link">&para;</a></h3>
<p><code>getSnapshotBeforeUpdate()</code>在最新的渲染输出提交给DOM前将会立即调用。它让你的组件能在当前的值可能要改变前获得它们。这一生命周期返回的任何值将会 作为参数被传递给<code>componentDidUpdate()</code>。</p>
<p>例如：</p>
<div class="highlight"><pre><span></span><code>class ScrollingList extends React.Component {
  listRef = React.createRef();

  getSnapshotBeforeUpdate(prevProps, prevState) {
    // Are we adding new items to the list?
    // Capture the current height of the list so we can adjust scroll later.
    if (prevProps.list.length &lt; this.props.list.length) {
      return this.listRef.current.scrollHeight;
    }
    return null;
  }

  componentDidUpdate(prevProps, prevState, snapshot) {
    // If we have a snapshot value, we&#39;ve just added new items.
    // Adjust scroll so these new items don&#39;t push the old ones out of view.
    if (snapshot !== null) {
      this.listRef.current.scrollTop += this.listRef.current.scrollHeight - snapshot;
    }
  }

  render() {
    return (
      &lt;div ref={this.listRef}&gt;{/* ...contents... */}&lt;/div&gt;
    );
  }
}
</code></pre></div>
<p>在上面的例子中，为了支持异步渲染，在<code>getSnapshotBeforeUpdate</code> 中读取<code>scrollHeight</code>而不是<code>componentWillUpdate</code>，这点很重要。由于异步渲染，在“渲染”时期（如<code>componentWillUpdate</code>和<code>render</code>）和“提交”时期（如<code>getSnapshotBeforeUpdate</code>和<code>componentDidUpdate</code>）间可能会存在延迟。如果一个用户在这期间做了像改变浏览器尺寸的事，从<code>componentWillUpdate</code>中读出的<code>scrollHeight</code>值将是滞后的。</p>
<h3 id="componentdidupdate"><code>componentDidUpdate()</code><a class="headerlink" href="#componentdidupdate" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>componentDidUpdate(prevProps, prevState)
</code></pre></div>
<p><code>componentDidUpdate()</code>会在更新发生后立即被调用。该方法并不会在初始化渲染时调用。</p>
<p>当组件被更新时，使用该方法是操作DOM的一次机会。这也是一个适合发送请求的地方，要是你对比了当前属性和之前属性（例如，如果属性没有改变那么请求也就没必要了）。</p>
<blockquote>
<p>注意</p>
<p>若<a href="https://react.docschina.org/docs/react-component.html#shouldcomponentupdate"><code>shouldComponentUpdate()</code></a>返回false，<code>componentDidUpdate()</code>将不会被调用。</p>
</blockquote>
<hr />
<h3 id="componentwillunmount"><code>componentWillUnmount()</code><a class="headerlink" href="#componentwillunmount" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>componentWillUnmount()
</code></pre></div>
<p><code>componentWillUnmount()</code>在组件被卸载和销毁之前立刻调用。可以在该方法里处理任何必要的清理工作，例如解绑定时器，取消网络请求，清理任何在<code>componentDidMount</code>环节创建的DOM元素。</p>
<hr />
<h3 id="componentdidcatch"><code>componentDidCatch()</code><a class="headerlink" href="#componentdidcatch" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>componentDidCatch(error, info)
</code></pre></div>
<p>错误边界是React组件，并不是损坏的组件树。错误边界捕捉发生在子组件树中任意地方的JavaScript错误，打印错误日志，并且显示回退的用户界面。错误边界捕捉渲染期间、在生命周期方法中和在它们之下整棵树的构造函数中的错误。</p>
<p>如果定义了这一生命周期方法，一个类组件将成为一个错误边界。在错误边界中调用<code>setState()</code>让你捕捉当前树之下未处理的JavaScript错误，并显示回退的用户界面。只使用错误边界来恢复异常，而不要尝试将它们用于控制流。</p>
<p>详情请见<a href="https://react.docschina.org/blog/2017/07/26/error-handling-in-react-16.html"><em>React 16中的错误处理</em></a>。</p>
<blockquote>
<p>注意</p>
<p>错误边界只捕捉树中发生在它们**之下**组件里的错误。一个错误边界并不能捕捉它自己内部的错误。</p>
</blockquote>
<hr />
<h3 id="setstate"><code>setState()</code><a class="headerlink" href="#setstate" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>setState(updater, [callback])
</code></pre></div>
<p><code>setState()</code>将需要处理的变化塞入（译者注：setState源码中将一个需要改变的变化存放到组件的state对象中，采用队列处理）组件的state对象中， 并告诉该组件及其子组件需要用更新的状态来重新渲染。这是用于响应事件处理和服务端响应的更新用户界面的主要方式。</p>
<p>将<code>setState()</code>认为是一次*请求*而不是一次立即执行更新组件的命令。为了更为可观的性能，React可能会推迟它，稍后会一次性更新这些组件。React不会保证在setState之后，能够立刻拿到改变的结果。</p>
<p><code>setState()</code>不是立刻更新组件。其可能是批处理或推迟更新。这使得在调用<code>setState()</code>后立刻读取<code>this.state</code>的一个潜在陷阱。代替地，使用<code>componentDidUpdate</code>或一个<code>setState</code>回调（<code>setState(updater, callback)</code>），当中的每个方法都会保证在更新被应用之后触发。若你需要基于之前的状态来设置状态，阅读下面关于<code>updater</code>参数的介绍。</p>
<p>除非<code>shouldComponentUpdate()</code> 返回<code>false</code>，否则<code>setState()</code>永远都会导致重渲。若使用可变对象同时条件渲染逻辑无法在<code>shouldComponentUpdate()</code>中实现，仅当新状态不同于之前状态时调用<code>setState()</code>，将避免不必要的重渲。</p>
<p>第一个函数是带签名的<code>updater</code>函数：</p>
<div class="highlight"><pre><span></span><code>(prevState, props) =&gt; stateChange
</code></pre></div>
<p><code>prevState</code>是之前状态的引用。其不应该被直接改变。代替地，改变应该通过构建一个来自于<code>prevState</code> 和 <code>props</code>输入的新对象来表示。例如，假设我们想通过<code>props.step</code>在状态中增加一个值：</p>
<div class="highlight"><pre><span></span><code>this.setState((prevState, props) =&gt; {
  return {counter: prevState.counter + props.step};
});
</code></pre></div>
<p>updater函数接收到的<code>prevState</code> 和 <code>props</code>保证都是最新的。updater的输出是和<code>prevState</code>的浅合并。</p>
<p><code>setState()</code>的第二个参数是一个可选地回调函数，其将会在<code>setState</code>执行完成同时组件被重渲之后执行。通常，对于这类逻辑，我们推荐使用<code>componentDidUpdate</code>。</p>
<p>你可以选择性地传递一个对象作为 <code>setState()</code>的第一个参数而不是一个函数：</p>
<div class="highlight"><pre><span></span><code>setState(stateChange, [callback])
</code></pre></div>
<p>其仅是将<code>stateChange</code>浅合并到新状态中。例如，调整购物车中物品数量：</p>
<div class="highlight"><pre><span></span><code>this.setState({quantity: 2})
</code></pre></div>
<p>这一形式的<code>setState()</code>也是异步的，并在相同的周期中多次调用可能会被合并到一起。例如，若你在相同的周期中尝试多次增加一件物品的数量，其等价于：</p>
<div class="highlight"><pre><span></span><code>Object.assign(
  previousState,
  {quantity: state.quantity + 1},
  {quantity: state.quantity + 1},
  ...
)
</code></pre></div>
<p>之后的调用在同一周期中将会重写之前调用的值，因此数量仅会被加一。若之后的状态依赖于之前的状态，我们推荐使用updater函数形式：</p>
<div class="highlight"><pre><span></span><code>this.setState((prevState) =&gt; {
  return {counter: prevState.quantity + 1};
});
</code></pre></div>
<h3 id="forceupdate"><code>forceUpdate()</code><a class="headerlink" href="#forceupdate" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>component.forceUpdate(callback)
</code></pre></div>
<p>默认情况，当你的组件或状态发生改变，你的组件将会重渲。若你的<code>render()</code>方法依赖其他数据，你可以通过调用<code>forceUpdate()</code>来告诉React组件需要重渲。</p>
<p>调用<code>forceUpdate()</code>将会导致组件的 <code>render()</code>方法被调用，并忽略<code>shouldComponentUpdate()</code>。这将会触发每一个子组件的生命周期方法，涵盖，每个子组件的<code>shouldComponentUpdate()</code> 方法。若当标签改变，React仅会更新DOM。</p>
<p>通常你应该尝试避免所有<code>forceUpdate()</code> 的用法并仅在<code>render()</code>函数里从<code>this.props</code>和<code>this.state</code>读取数据。</p>
<hr />
<h2 id="_10">类属性<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h2>
<h3 id="defaultprops"><code>defaultProps</code><a class="headerlink" href="#defaultprops" title="Permanent link">&para;</a></h3>
<p><code>defaultProps</code>可以被定义为组件类的一个属性，用以为类设置默认的属性。这对于未定义（undefined）的属性来说有用，而对于设为空（null）的属性并没用。例如：</p>
<div class="highlight"><pre><span></span><code>class CustomButton extends React.Component {
  // ...
}

CustomButton.defaultProps = {
  color: &#39;blue&#39;
};
</code></pre></div>
<p>若未设置<code>props.color</code>，其将被设置默认为<code>'blue'</code>:</p>
<div class="highlight"><pre><span></span><code>  render() {
    return &lt;CustomButton /&gt; ; // props.color will be set to blue
  }
</code></pre></div>
<p>若<code>props.color</code>设为null，则其值则为null：</p>
<div class="highlight"><pre><span></span><code>  render() {
    return &lt;CustomButton color={null} /&gt; ; // props.color will remain null
  }
</code></pre></div>
<hr />
<h3 id="displayname"><code>displayName</code><a class="headerlink" href="#displayname" title="Permanent link">&para;</a></h3>
<p><code>displayName</code>被用在调试信息中。JSX会自动设置该值</p>
<hr />
<h2 id="_11">实例属性<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h2>
<h3 id="props"><code>props</code><a class="headerlink" href="#props" title="Permanent link">&para;</a></h3>
<p><code>this.props</code>包含了组件该调用者定义的属性。</p>
<p>特别地，<code>this.props.children</code>是一个特别属性，其通常由JSX表达式中的子标签定义，而不是标签本身。</p>
<h3 id="state"><code>state</code><a class="headerlink" href="#state" title="Permanent link">&para;</a></h3>
<p>状态是该组件的特定数据，其可能改变多次。状态由用户定义，且其应为纯JavaScript对象。</p>
<p>若你不在<code>render()</code>方法中使用它，其不应该该被放在状态上。例如，你可直接将timer IDs放在实例上。</p>
<p>永远不要直接改变<code>this.state</code>，因为调用<code>setState()</code>会替换你之前做的改变。将<code>this.state</code>当成不可变的。</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; Michael An
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.18f0862e.min.js"></script>
      <script src="../../assets/javascripts/bundle.994580cf.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../../js/baidu-statistics.js"></script>
      
    
  </body>
</html>